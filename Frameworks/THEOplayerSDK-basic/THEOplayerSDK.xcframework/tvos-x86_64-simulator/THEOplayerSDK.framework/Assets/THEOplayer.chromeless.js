/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com

 This product makes use of Open Source Software: Bluebird (MIT -
 Copyright (c) 2013-2015 Petka Antonov), long.js (Apache 2.0)
 The code of these projects has been heavily modified during
 integration.
 More information on the licenses can be found here: Apache 2.0
(http://www.apache.org/licenses/LICENSE-2.0), MIT
(https://opensource.org/licenses/MIT)

 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 2021.2.0 (2.84.1)
 Created: 2021-05-17T08:44:29.056Z
 */
!function(t){!function(n,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):r((n="undefined"!=typeof globalThis?globalThis:n||t).THEOplayer={})}(this,function(n){"use strict";var r,i=t.window,e=t.document,u=t.location,s=t.navigator,o=t.setTimeout,c=t.clearTimeout,a=t.setInterval,f=t.clearInterval,h=t.Error,v=t.TypeError,d=(t.SyntaxError,t.Object),l=t.Math,w=t.parseInt,y=t.parseFloat,g=t.isNaN,p=t.Uint8Array,_=(t.Worker,t.WorkerGlobalScope,t.XMLHttpRequest),m="undefined"!=typeof globalThis?globalThis:void 0!==i?i:"undefined"!=typeof global?global:void 0!==t?t:{};function k(t,n,r){return t(r={path:n,exports:{},require:function(t,n){return function(){throw new h("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==n&&r.path)}},r.exports),r.exports}var b,T,E,S,R,I,D=k(function(n,u){n.exports=function t(n,i,e){function u(o,c){if(!i[o]){if(!n[o]){var a="function"==typeof r&&r;if(!c&&a)return a(o,!0);if(s)return s(o,!0);var f=new h("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var v=i[o]={exports:{}};n[o][0].call(v.exports,function(t){var r=n[o][1][t];return u(r||t)},v,v.exports,t,n,i,e)}return i[o].exports}for(var s="function"==typeof r&&r,o=0;o<e.length;o++)u(e[o]);return u}({1:[function(t,n,r){n.exports=function(t){var n=t.o;function r(t){var r=new n(t),i=r.promise();return r.setHowMany(1),r.setUnwrap(),r.init(),i}t.any=function(t){return r(t)},t.prototype.any=function(){return r(this)}}},{}],2:[function(t,n,r){var i;try{throw new h}catch(t){i=t}var e=t("./schedule"),u=t("./queue"),s=t("./util");function c(){this.v=!1,this.l=!1,this.g=new u(16),this.p=new u(16),this.R=!1,this.I=!0;var t=this;this.drainQueues=function(){t.C()},this.N=e}function a(t,n,r){this.g.push(t,n,r),this.F()}function f(t,n,r){this.p.push(t,n,r),this.F()}function v(t){this.p.M(t),this.F()}function d(t){for(;t.length()>0;)l(t)}function l(t){var n=t.shift();if("function"!=typeof n)n.B();else{var r=t.shift(),i=t.shift();n.call(r,i)}}c.prototype.setScheduler=function(t){var n=this.N;return this.N=t,this.v=!0,n},c.prototype.hasCustomScheduler=function(){return this.v},c.prototype.enableTrampoline=function(){this.I=!0},c.prototype.disableTrampolineIfNecessary=function(){s.hasDevTools&&(this.I=!1)},c.prototype.haveItemsQueued=function(){return this.l||this.R},c.prototype.fatalError=function(t,n){n?(process.stderr.write("Fatal "+(t instanceof h?t.stack:t)+"\n"),process.exit(2)):this.throwLater(t)},c.prototype.throwLater=function(t,n){if(1===arguments.length&&(n=t,t=function(){throw n}),void 0!==o)o(function(){t(n)},0);else try{this.N(function(){t(n)})}catch(t){throw new h("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},s.hasDevTools?(c.prototype.invokeLater=function(t,n,r){this.I?a.call(this,t,n,r):this.N(function(){o(function(){t.call(n,r)},100)})},c.prototype.invoke=function(t,n,r){this.I?f.call(this,t,n,r):this.N(function(){t.call(n,r)})},c.prototype.settlePromises=function(t){this.I?v.call(this,t):this.N(function(){t.B()})}):(c.prototype.invokeLater=a,c.prototype.invoke=f,c.prototype.settlePromises=v),c.prototype.C=function(){d(this.p),this.U(),this.R=!0,d(this.g)},c.prototype.F=function(){this.l||(this.l=!0,this.N(this.drainQueues))},c.prototype.U=function(){this.l=!1},n.exports=c,n.exports.firstLineError=i},{"./queue":26,"./schedule":29,"./util":36}],3:[function(t,n,r){n.exports=function(t,n,r,i){var e=!1,u=function(t,n){this.V(n)},s=function(t,n){n.promiseRejectionQueued=!0,n.bindingPromise.j(u,u,null,this,t)},o=function(t,n){0==(50397184&this.H)&&this.W(n.target)},c=function(t,n){n.promiseRejectionQueued||this.V(t)};t.prototype.bind=function(u){e||(e=!0,t.prototype.X=i.propagateFromFunction(),t.prototype.G=i.boundValueFunction());var a=r(u),f=new t(n);f.X(this,1);var h=this.Y();if(f.K(a),a instanceof t){var v={promiseRejectionQueued:!1,promise:f,target:h,bindingPromise:a};h.j(n,s,void 0,f,v),a.j(o,c,void 0,f,v),f.J(a)}else f.W(h);return f},t.prototype.K=function(t){void 0!==t?(this.H=2097152|this.H,this.Z=t):this.H=-2097153&this.H},t.prototype.nt=function(){return 2097152==(2097152&this.H)},t.bind=function(n,r){return t.resolve(r).bind(n)}}},{}],4:[function(t,n,r){var i;"undefined"!=typeof Promise&&(i=Promise);var e=t("./promise")();e.noConflict=function(){try{Promise===e&&(Promise=i)}catch(t){}return e},n.exports=e},{"./promise":22}],5:[function(t,n,r){var i=d.create;if(i){var e=i(null),u=i(null);e[" size"]=u[" size"]=0}n.exports=function(n){var r=t("./util"),i=r.canEvaluate;function e(t){var i=this.pop(),e=function(t,i){var e;if(null!=t&&(e=t[i]),"function"!=typeof e){var u="Object "+r.classString(t)+" has no method '"+r.toString(i)+"'";throw new n.TypeError(u)}return e}(t,i);return e.apply(t,this)}function u(t){return t[this]}function s(t){var n=+this;return n<0&&(n=l.max(0,n+t.length)),t[n]}r.isIdentifier,n.prototype.call=function(t){var n=[].slice.call(arguments,1);return n.push(t),this.j(e,void 0,void 0,n,void 0)},n.prototype.get=function(t){var n,r="number"==typeof t;if(r)n=s;else if(i){var e=(void 0)();n=null!==e?e:u}else n=u;return this.j(n,void 0,void 0,t,void 0)}}},{"./util":36}],6:[function(t,n,r){n.exports=function(n,r,i,e){var u=t("./util"),s=u.tryCatch,o=u.errorObj,c=n.rt;n.prototype.break=n.prototype.cancel=function(){if(!e.cancellation())return this.it("cancellation is disabled");for(var t=this,n=t;t.et();){if(!t.ut(n)){n.st()?n.ot().cancel():n.ct();break}var r=t.at;if(null==r||!r.et()){t.st()?t.ot().cancel():t.ct();break}t.st()&&t.ot().cancel(),t.ft(),n=t,t=r}},n.prototype.ht=function(){this.vt--},n.prototype.dt=function(){return void 0===this.vt||this.vt<=0},n.prototype.ut=function(t){return t===this?(this.vt=0,this.wt(),!0):(this.ht(),!!this.dt()&&(this.wt(),!0))},n.prototype.ct=function(){this.dt()&&this.yt()},n.prototype.yt=function(){this.et()&&(this.pt(),c.invoke(this._t,this,void 0))},n.prototype._t=function(){this.kt()>0&&this.B()},n.prototype.bt=function(){this.Tt=void 0},n.prototype.et=function(){return this.isPending()&&!this.Et()},n.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},n.prototype.St=function(t,n){if(u.isArray(t))for(var r=0;r<t.length;++r)this.St(t[r],n);else if(void 0!==t)if("function"==typeof t){if(!n){var i=s(t).call(this.G());i===o&&(this.Rt(i.e),c.throwLater(i.e))}}else t._resultCancelled(this)},n.prototype.wt=function(){var t=this.It();this.bt(),c.invoke(this.St,this,t)},n.prototype.Dt=function(){this.et()&&(this.St(this.It(),!0),this.bt())},n.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(t,n,r){n.exports=function(n){var r=t("./util"),i=t("./es5").keys,e=r.tryCatch,u=r.errorObj;return function(t,s,o){return function(c){var a=o.G();t:for(var f=0;f<t.length;++f){var v=t[f];if(v===h||null!=v&&v.prototype instanceof h){if(c instanceof v)return e(s).call(a,c)}else if("function"==typeof v){var d=e(v).call(a,c);if(d===u)return d;if(d)return e(s).call(a,c)}else if(r.isObject(c)){for(var l=i(v),w=0;w<l.length;++w){var y=l[w];if(v[y]!=c[y])continue t}return e(s).call(a,c)}}return n}}}},{"./es5":13,"./util":36}],8:[function(t,n,r){n.exports=function(t){var n=!1,r=[];function i(){this.Ct=new i.CapturedTrace(e())}function e(){var t=r.length-1;if(t>=0)return r[t]}return t.prototype.Nt=function(){},t.prototype.At=function(){},t.prototype.Ot=function(){return null},t.xt=t.prototype.xt=function(){},i.prototype.At=function(){void 0!==this.Ct&&(this.Ct.Nt=null,r.push(this.Ct))},i.prototype.Ot=function(){if(void 0!==this.Ct){var t=r.pop(),n=t.Nt;return t.Nt=null,n}return null},i.CapturedTrace=null,i.create=function(){if(n)return new i},i.deactivateLongStackTraces=function(){},i.activateLongStackTraces=function(){var r=t.prototype.At,u=t.prototype.Ot,s=t.xt,o=t.prototype.xt,c=t.prototype.Nt;i.deactivateLongStackTraces=function(){t.prototype.At=r,t.prototype.Ot=u,t.xt=s,t.prototype.xt=o,t.prototype.Nt=c,n=!1},n=!0,t.prototype.At=i.prototype.At,t.prototype.Ot=i.prototype.Ot,t.xt=t.prototype.xt=e,t.prototype.Nt=function(){var t=this.xt();t&&null==t.Nt&&(t.Nt=this)}},i}},{}],9:[function(t,n,r){n.exports=function(n,r){var i,u,s,c=n.Pt,a=n.rt,f=t("./errors").Warning,l=t("./util"),y=t("./es5"),g=l.canAttachTrace,p=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,_=/\((?:timers\.js):\d+:\d+\)/,m=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,k=null,b=null,T=!1,E=!(0==l.env("BLUEBIRD_DEBUG")),S=!(0==l.env("BLUEBIRD_WARNINGS")||!E&&!l.env("BLUEBIRD_WARNINGS")),R=!(0==l.env("BLUEBIRD_LONG_STACK_TRACES")||!E&&!l.env("BLUEBIRD_LONG_STACK_TRACES")),I=0!=l.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(S||!!l.env("BLUEBIRD_W_FORGOTTEN_RETURN"));n.prototype.suppressUnhandledRejections=function(){var t=this.Y();t.H=-1048577&t.H|524288},n.prototype.Lt=function(){if(0==(524288&this.H)){this.Ft();var t=this;o(function(){t.Mt()},1)}},n.prototype.Bt=function(){K("rejectionHandled",i,void 0,this)},n.prototype.Ut=function(){this.H=268435456|this.H},n.prototype.qt=function(){return 0!=(268435456&this.H)},n.prototype.Mt=function(){if(this.Vt()){var t=this.jt();this.Ht(),K("unhandledRejection",u,t,this)}},n.prototype.Ht=function(){this.H=262144|this.H},n.prototype.Wt=function(){this.H=-262145&this.H},n.prototype.$t=function(){return(262144&this.H)>0},n.prototype.Ft=function(){this.H=1048576|this.H},n.prototype.zt=function(){this.H=-1048577&this.H,this.$t()&&(this.Wt(),this.Bt())},n.prototype.Vt=function(){return(1048576&this.H)>0},n.prototype.it=function(t,n,r){return z(t,n,r||this)},n.onPossiblyUnhandledRejection=function(t){var n=c();u="function"==typeof t?null===n?t:l.domainBind(n,t):void 0},n.onUnhandledRejectionHandled=function(t){var n=c();i="function"==typeof t?null===n?t:l.domainBind(n,t):void 0};var D=function(){};n.longStackTraces=function(){if(a.haveItemsQueued()&&!et.longStackTraces)throw new h("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!et.longStackTraces&&Q()){var t=n.prototype.Xt,i=n.prototype.Rt,e=n.prototype.Gt;et.longStackTraces=!0,D=function(){if(a.haveItemsQueued()&&!et.longStackTraces)throw new h("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");n.prototype.Xt=t,n.prototype.Rt=i,n.prototype.Gt=e,r.deactivateLongStackTraces(),a.enableTrampoline(),et.longStackTraces=!1},n.prototype.Xt=H,n.prototype.Rt=W,n.prototype.Gt=$,r.activateLongStackTraces(),a.disableTrampolineIfNecessary()}},n.hasLongStackTraces=function(){return et.longStackTraces&&Q()};var C=function(){try{if("function"==typeof CustomEvent){var t=new CustomEvent("CustomEvent");return l.global.dispatchEvent(t),function(t,n){var r={detail:n,cancelable:!0};y.defineProperty(r,"promise",{value:n.promise}),y.defineProperty(r,"reason",{value:n.reason});var i=new CustomEvent(t.toLowerCase(),r);return!l.global.dispatchEvent(i)}}if("function"==typeof Event){var t=new Event("CustomEvent");return l.global.dispatchEvent(t),function(t,n){var r=new Event(t.toLowerCase(),{cancelable:!0});return r.detail=n,y.defineProperty(r,"promise",{value:n.promise}),y.defineProperty(r,"reason",{value:n.reason}),!l.global.dispatchEvent(r)}}var t=e.createEvent("CustomEvent");return t.initCustomEvent("testingtheevent",!1,!0,{}),l.global.dispatchEvent(t),function(t,n){var r=e.createEvent("CustomEvent");return r.initCustomEvent(t.toLowerCase(),!1,!0,n),!l.global.dispatchEvent(r)}}catch(t){}return function(){return!1}}(),N=l.isNode?function(){return process.emit.apply(process,arguments)}:l.global?function(t){var n="on"+t.toLowerCase(),r=l.global[n];return!!r&&(r.apply(l.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function A(t,n){return{promise:n}}var O={promiseCreated:A,promiseFulfilled:A,promiseRejected:A,promiseResolved:A,promiseCancelled:A,promiseChained:function(t,n,r){return{promise:n,child:r}},warning:function(t,n){return{warning:n}},unhandledRejection:function(t,n,r){return{reason:n,promise:r}},rejectionHandled:A},x=function(t){var n=!1;try{n=N.apply(null,arguments)}catch(t){a.throwLater(t),n=!0}var r=!1;try{r=C(t,O[t].apply(null,arguments))}catch(t){a.throwLater(t),r=!0}return r||n};function P(){return!1}function L(t,n,r){var i=this;try{t(n,r,function(t){if("function"!=typeof t)throw new v("onCancel must be a function, got: "+l.toString(t));i.Yt(t)})}catch(t){return t}}function F(t){if(!this.et())return this;var n=this.It();void 0!==n?l.isArray(n)?n.push(t):this.J([n,t]):this.J(t)}function M(){return this.Tt}function B(t){this.Tt=t}function U(){this.at=void 0,this.Tt=void 0}function q(t,n){if(0!=(1&n)){this.at=t;var r=t.vt;void 0===r&&(r=0),t.vt=r+1}0!=(2&n)&&t.nt()&&this.K(t.Z)}n.config=function(t){if("longStackTraces"in(t=d(t))&&(t.longStackTraces?n.longStackTraces():!t.longStackTraces&&n.hasLongStackTraces()&&D()),"warnings"in t){var r=t.warnings;et.warnings=!!r,I=et.warnings,l.isObject(r)&&"wForgottenReturn"in r&&(I=!!r.wForgottenReturn)}if("cancellation"in t&&t.cancellation&&!et.cancellation){if(a.haveItemsQueued())throw new h("cannot enable cancellation after promises are in use");n.prototype.Kt=U,n.prototype.X=q,n.prototype.It=M,n.prototype.J=B,n.prototype.Yt=F,n.prototype.Jt=L,V=q,et.cancellation=!0}return"monitoring"in t&&(t.monitoring&&!et.monitoring?(et.monitoring=!0,n.prototype.Qt=x):!t.monitoring&&et.monitoring&&(et.monitoring=!1,n.prototype.Qt=P)),n},n.prototype.Qt=P,n.prototype.Jt=function(t,n,r){try{t(n,r)}catch(t){return t}},n.prototype.It=function(){},n.prototype.J=function(t){},n.prototype.Yt=function(t){},n.prototype.Xt=function(){},n.prototype.Rt=function(){},n.prototype.Gt=function(){},n.prototype.Kt=function(){},n.prototype.X=function(t,n){};var V=function(t,n){0!=(2&n)&&t.nt()&&this.K(t.Z)};function j(){var t=this.Z;return void 0!==t&&t instanceof n?t.isFulfilled()?t.value():void 0:t}function H(){this.Ct=new rt(this.xt())}function W(t,n){if(g(t)){var r=this.Ct;if(void 0!==r&&n&&(r=r.Zt),void 0!==r)r.attachExtraTrace(t);else if(!t.tn){var i=G(t);l.notEnumerableProp(t,"stack",i.message+"\n"+i.stack.join("\n")),l.notEnumerableProp(t,"tn",!0)}}}function $(){this.Ct=void 0}function z(t,r,i){if(et.warnings){var e,u=new f(t);if(r)i.Rt(u);else if(et.longStackTraces&&(e=n.xt()))e.attachExtraTrace(u);else{var s=G(u);u.stack=s.message+"\n"+s.stack.join("\n")}x("warning",u)||Y(u,"",!0)}}function X(t){for(var n=[],r=0;r<t.length;++r){var i=t[r],e="    (No stack trace)"===i||k.test(i),u=e&&Z(i);e&&!u&&(T&&" "!==i.charAt(0)&&(i="    "+i),n.push(i))}return n}function G(t){var n=t.stack,r=t.toString();return n="string"==typeof n&&n.length>0?function(t){for(var n=t.stack.replace(/\s+$/g,"").split("\n"),r=0;r<n.length;++r){var i=n[r];if("    (No stack trace)"===i||k.test(i))break}return r>0&&"SyntaxError"!=t.name&&(n=n.slice(r)),n}(t):["    (No stack trace)"],{message:r,stack:"SyntaxError"==t.name?n:X(n)}}function Y(t,n,r){if("undefined"!=typeof console){var i;if(l.isObject(t)){var e=t.stack;i=n+b(e,t)}else i=n+String(t);"function"==typeof s?s(i,r):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(i)}}function K(t,n,r,i){var e=!1;try{"function"==typeof n&&(e=!0,"rejectionHandled"===t?n(i):n(r,i))}catch(t){a.throwLater(t)}"unhandledRejection"===t?x(t,r,i)||e||Y(r,"Unhandled rejection "):x(t,i)}function J(t){var n;if("function"==typeof t)n="[function "+(t.name||"anonymous")+"]";else{if(n=t&&"function"==typeof t.toString?t.toString():l.toString(t),/\[object [a-zA-Z0-9$_]+\]/.test(n))try{var r=JSON.stringify(t);n=r}catch(t){}0===n.length&&(n="(empty array)")}return"(<"+function(t){return t.length<41?t:t.substr(0,38)+"..."}(n)+">, no stack trace)"}function Q(){return"function"==typeof it}var Z=function(){return!1},tt=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function nt(t){var n=t.match(tt);if(n)return{fileName:n[1],line:w(n[2],10)}}function rt(t){this.Zt=t,this.nn=0;var n=this.kt=1+(void 0===t?0:t.kt);it(this,rt),n>32&&this.uncycle()}l.inherits(rt,h),r.CapturedTrace=rt,rt.prototype.uncycle=function(){var t=this.kt;if(!(t<2)){for(var n=[],r={},i=0,e=this;void 0!==e;++i)n.push(e),e=e.Zt;for(var i=(t=this.kt=i)-1;i>=0;--i){var u=n[i].stack;void 0===r[u]&&(r[u]=i)}for(var i=0;i<t;++i){var s=n[i].stack,o=r[s];if(void 0!==o&&o!==i){o>0&&(n[o-1].Zt=void 0,n[o-1].kt=1),n[i].Zt=void 0,n[i].kt=1;var c=i>0?n[i-1]:this;o<t-1?(c.Zt=n[o+1],c.Zt.uncycle(),c.kt=c.Zt.kt+1):(c.Zt=void 0,c.kt=1);for(var a=c.kt+1,f=i-2;f>=0;--f)n[f].kt=a,a++;return}}}},rt.prototype.attachExtraTrace=function(t){if(!t.tn){this.uncycle();for(var n=G(t),r=n.message,i=[n.stack],e=this;void 0!==e;)i.push(X(e.stack.split("\n"))),e=e.Zt;!function(t){for(var n=t[0],r=1;r<t.length;++r){for(var i=t[r],e=n.length-1,u=n[e],s=-1,o=i.length-1;o>=0;--o)if(i[o]===u){s=o;break}for(var o=s;o>=0;--o){var c=i[o];if(n[e]!==c)break;n.pop(),e--}n=i}}(i),function(t){for(var n=0;n<t.length;++n)(0===t[n].length||n+1<t.length&&t[n][0]===t[n+1][0])&&(t.splice(n,1),n--)}(i),l.notEnumerableProp(t,"stack",function(t,n){for(var r=0;r<n.length-1;++r)n[r].push("From previous event:"),n[r]=n[r].join("\n");return r<n.length&&(n[r]=n[r].join("\n")),t+"\n"+n.join("\n")}(r,i)),l.notEnumerableProp(t,"tn",!0)}};var it=function(){var t=/^\s*at\s*/,n=function(t,n){return"string"==typeof t?t:void 0!==n.name&&void 0!==n.message?n.toString():J(n)};if("number"==typeof h.stackTraceLimit&&"function"==typeof h.captureStackTrace){h.stackTraceLimit+=6,k=t,b=n;var r=h.captureStackTrace;return Z=function(t){return p.test(t)},function(t,n){h.stackTraceLimit+=6,r(t,n),h.stackTraceLimit-=6}}var i,e=new h;if("string"==typeof e.stack&&e.stack.split("\n")[0].indexOf("stackDetection@")>=0)return k=/@/,b=n,T=!0,function(t){t.stack=(new h).stack};try{throw new h}catch(t){i="stack"in t}return"stack"in e||!i||"number"!=typeof h.stackTraceLimit?(b=function(t,n){return"string"==typeof t?t:"object"!=typeof n&&"function"!=typeof n||void 0===n.name||void 0===n.message?J(n):n.toString()},null):(k=t,b=n,function(t){h.stackTraceLimit+=6;try{throw new h}catch(n){t.stack=n.stack}h.stackTraceLimit-=6})}();"undefined"!=typeof console&&void 0!==console.warn&&(s=function(t){console.warn(t)},l.isNode&&process.stderr.isTTY?s=function(t,n){var r=n?"\x1b[33m":"\x1b[31m";console.warn(r+t+"\x1b[0m\n")}:l.isNode||"string"!=typeof(new h).stack||(s=function(t,n){console.warn("%c"+t,n?"color: darkorange":"color: red")}));var et={warnings:S,longStackTraces:!1,cancellation:!1,monitoring:!1};return R&&n.longStackTraces(),{longStackTraces:function(){return et.longStackTraces},warnings:function(){return et.warnings},cancellation:function(){return et.cancellation},monitoring:function(){return et.monitoring},propagateFromFunction:function(){return V},boundValueFunction:function(){return j},checkForgottenReturns:function(t,n,r,i,e){if(void 0===t&&null!==n&&I){if(void 0!==e&&e.qt())return;if(0==(65535&i.H))return;r&&(r+=" ");var u="",s="";if(n.Ct){for(var o=n.Ct.stack.split("\n"),c=X(o),a=c.length-1;a>=0;--a){var f=c[a];if(!_.test(f)){var h=f.match(m);h&&(u="at "+h[1]+":"+h[2]+":"+h[3]+" ");break}}if(c.length>0)for(var v=c[0],a=0;a<o.length;++a)if(o[a]===v){a>0&&(s="\n"+o[a-1]);break}}var d="a promise was created in a "+r+"handler "+u+"but was not returned from it, see http://goo.gl/rRqMUw"+s;i.it(d,!0,n)}},setBounds:function(t,n){if(Q()){for(var r,i,e=(t.stack||"").split("\n"),u=(n.stack||"").split("\n"),s=-1,o=-1,c=0;c<e.length;++c){var a=nt(e[c]);if(a){r=a.fileName,s=a.line;break}}for(var c=0;c<u.length;++c){var a=nt(u[c]);if(a){i=a.fileName,o=a.line;break}}s<0||o<0||!r||!i||r!==i||s>=o||(Z=function(t){if(p.test(t))return!0;var n=nt(t);return!!(n&&n.fileName===r&&s<=n.line&&n.line<=o)})}},warn:z,deprecated:function(t,n){var r=t+" is deprecated and will be removed in a future version.";return n&&(r+=" Use "+n+" instead."),z(r)},CapturedTrace:rt,fireDomEvent:C,fireGlobalEvent:N}}},{"./errors":12,"./es5":13,"./util":36}],10:[function(t,n,r){n.exports=function(t){function n(){return this.value}function r(){throw this.reason}t.prototype.return=t.prototype.thenReturn=function(r){return r instanceof t&&r.suppressUnhandledRejections(),this.j(n,void 0,void 0,{value:r},void 0)},t.prototype.throw=t.prototype.thenThrow=function(t){return this.j(r,void 0,void 0,{reason:t},void 0)},t.prototype.catchThrow=function(t){if(arguments.length<=1)return this.j(void 0,r,void 0,{reason:t},void 0);var n=arguments[1];return this.caught(t,function(){throw n})},t.prototype.catchReturn=function(r){if(arguments.length<=1)return r instanceof t&&r.suppressUnhandledRejections(),this.j(void 0,n,void 0,{value:r},void 0);var i=arguments[1];return i instanceof t&&i.suppressUnhandledRejections(),this.caught(r,function(){return i})}}},{}],11:[function(t,n,r){n.exports=function(t,n){var r=t.reduce,i=t.all;function e(){return i(this)}t.prototype.each=function(t){return r(this,t,n,0).j(e,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(t){return r(this,t,n,n)},t.each=function(t,i){return r(t,i,n,0).j(e,void 0,void 0,t,void 0)},t.mapSeries=function(t,i){return r(t,i,n,n)}}},{}],12:[function(t,n,r){var i,e,u=t("./es5"),s=u.freeze,o=t("./util"),c=o.inherits,a=o.notEnumerableProp;function f(t,n){function r(i){if(!(this instanceof r))return new r(i);a(this,"message","string"==typeof i?i:n),a(this,"name",t),h.captureStackTrace?h.captureStackTrace(this,this.constructor):h.call(this)}return c(r,h),r}var d=f("Warning","warning"),l=f("CancellationError","cancellation error"),w=f("TimeoutError","timeout error"),y=f("AggregateError","aggregate error");try{i=v,e=RangeError}catch(t){i=f("TypeError","type error"),e=f("RangeError","range error")}for(var g="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),p=0;p<g.length;++p)"function"==typeof Array.prototype[g[p]]&&(y.prototype[g[p]]=Array.prototype[g[p]]);u.defineProperty(y.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),y.prototype.isOperational=!0;var _=0;function m(t){if(!(this instanceof m))return new m(t);a(this,"name","OperationalError"),a(this,"message",t),this.cause=t,this.isOperational=!0,t instanceof h?(a(this,"message",t.message),a(this,"stack",t.stack)):h.captureStackTrace&&h.captureStackTrace(this,this.constructor)}y.prototype.toString=function(){var t=Array(4*_+1).join(" "),n="\n"+t+"AggregateError of:\n";_++,t=Array(4*_+1).join(" ");for(var r=0;r<this.length;++r){for(var i=this[r]===this?"[Circular AggregateError]":this[r]+"",e=i.split("\n"),u=0;u<e.length;++u)e[u]=t+e[u];i=e.join("\n"),n+=i+"\n"}return _--,n},c(m,h);var k=h.rn;k||(k=s({CancellationError:l,TimeoutError:w,OperationalError:m,RejectionError:m,AggregateError:y}),u.defineProperty(h,"rn",{value:k,writable:!1,enumerable:!1,configurable:!1})),n.exports={Error:h,TypeError:i,RangeError:e,CancellationError:k.CancellationError,OperationalError:k.OperationalError,TimeoutError:k.TimeoutError,AggregateError:k.AggregateError,Warning:d}},{"./es5":13,"./util":36}],13:[function(t,n,r){var i=function(){return void 0===this}();if(i)n.exports={freeze:d.freeze,defineProperty:d.defineProperty,getDescriptor:d.getOwnPropertyDescriptor,keys:d.keys,names:d.getOwnPropertyNames,getPrototypeOf:d.getPrototypeOf,isArray:Array.isArray,isES5:i,propertyIsWritable:function(t,n){var r=d.getOwnPropertyDescriptor(t,n);return!(r&&!r.writable&&!r.set)}};else{var e={}.hasOwnProperty,u={}.toString,s={}.constructor.prototype,o=function(t){var n=[];for(var r in t)e.call(t,r)&&n.push(r);return n};n.exports={isArray:function(t){try{return"[object Array]"===u.call(t)}catch(t){return!1}},keys:o,names:o,defineProperty:function(t,n,r){return t[n]=r.value,t},getDescriptor:function(t,n){return{value:t[n]}},freeze:function(t){return t},getPrototypeOf:function(t){try{return d(t).constructor.prototype}catch(t){return s}},isES5:i,propertyIsWritable:function(){return!0}}}},{}],14:[function(t,n,r){n.exports=function(t,n){var r=t.map;t.prototype.filter=function(t,i){return r(this,t,i,n)},t.filter=function(t,i,e){return r(t,i,e,n)}}},{}],15:[function(t,n,r){n.exports=function(n,r,i){var e=t("./util"),u=n.CancellationError,s=e.errorObj,o=t("./catch_filter")(i);function c(t,n,r){this.promise=t,this.type=n,this.handler=r,this.called=!1,this.cancelPromise=null}function a(t){this.finallyHandler=t}function f(t,n){return null!=t.cancelPromise&&(arguments.length>1?t.cancelPromise.V(n):t.cancelPromise.yt(),t.cancelPromise=null,!0)}function h(){return l.call(this,this.promise.Y().jt())}function d(t){if(!f(this,t))return s.e=t,s}function l(t){var e=this.promise,o=this.handler;if(!this.called){this.called=!0;var c=this.isFinallyHandler()?o.call(e.G()):o.call(e.G(),t);if(c===i)return c;if(void 0!==c){e.Ut();var v=r(c,e);if(v instanceof n){if(null!=this.cancelPromise){if(v.Et()){var l=new u("late cancellation observer");return e.Rt(l),s.e=l,s}v.isPending()&&v.Yt(new a(this))}return v.j(h,d,void 0,this,void 0)}}}return e.isRejected()?(f(this),s.e=t,s):(f(this),t)}return c.prototype.isFinallyHandler=function(){return 0===this.type},a.prototype._resultCancelled=function(){f(this.finallyHandler)},n.prototype.in=function(t,n,r,i){return"function"!=typeof t?this.then():this.j(r,i,void 0,new c(this,n,t),void 0)},n.prototype.lastly=n.prototype.finally=function(t){return this.in(t,0,l,l)},n.prototype.tap=function(t){return this.in(t,1,l)},n.prototype.tapCatch=function(t){var r=arguments.length;if(1===r)return this.in(t,1,void 0,l);var i,u=new Array(r-1),s=0;for(i=0;i<r-1;++i){var c=arguments[i];if(!e.isObject(c))return n.reject(new v("tapCatch statement predicate: expecting an object but got "+e.classString(c)));u[s++]=c}u.length=s;var a=arguments[i];return this.in(o(u,a,this),1,void 0,l)},c}},{"./catch_filter":7,"./util":36}],16:[function(t,n,r){n.exports=function(n,r,i,e,u,s){var o=t("./errors"),c=o.TypeError,a=t("./util"),f=a.errorObj,v=a.tryCatch,l=[];function w(t,r,e,u){if(s.cancellation()){var o=new n(i),c=this.en=new n(i);this.un=o.lastly(function(){return c}),o.Xt(),o.J(this)}else{var a=this.un=new n(i);a.Xt()}this.sn=u,this.cn=t,this.an=r,this.fn=void 0,this.hn="function"==typeof e?[e].concat(l):l,this.vn=null,this.dn=!1}a.inherits(w,u),w.prototype.ln=function(){return null===this.un},w.prototype.wn=function(){this.un=this.fn=null,s.cancellation()&&null!==this.en&&(this.en.yn(),this.en=null)},w.prototype.gn=function(){if(!this.ln()){var t,r=void 0!==this.fn.return;if(r)this.un.At(),t=v(this.fn.return).call(this.fn,void 0),this.un.Ot();else{var i=new n.CancellationError("generator .return() sentinel");n.coroutine.returnSentinel=i,this.un.Rt(i),this.un.At(),t=v(this.fn.throw).call(this.fn,i),this.un.Ot()}this.dn=!0,this.vn=null,this.pn(t)}},w.prototype._n=function(t){this.vn=null,this.un.At();var n=v(this.fn.next).call(this.fn,t);this.un.Ot(),this.pn(n)},w.prototype.mn=function(t){this.vn=null,this.un.Rt(t),this.un.At();var n=v(this.fn.throw).call(this.fn,t);this.un.Ot(),this.pn(n)},w.prototype._resultCancelled=function(){if(this.vn instanceof n){var t=this.vn;this.vn=null,t.cancel()}},w.prototype.promise=function(){return this.un},w.prototype.kn=function(){this.fn=this.cn.call(this.an),this.an=this.cn=void 0,this._n(void 0)},w.prototype.pn=function(t){var r=this.un;if(t===f)return this.wn(),this.dn?r.cancel():r.bn(t.e,!1);var i=t.value;if(!0===t.done)return this.wn(),this.dn?r.cancel():r.W(i);var u=e(i,this.un);if(u instanceof n||null!==(u=function(t,r,i){for(var u=0;u<r.length;++u){i.At();var s=v(r[u])(t);if(i.Ot(),s===f){i.At();var o=n.reject(f.e);return i.Ot(),o}var c=e(s,i);if(c instanceof n)return c}return null}(u,this.hn,this.un))){var s=(u=u.Y()).H;0==(50397184&s)?(this.vn=u,u.Tn(this,null)):0!=(33554432&s)?n.rt.invoke(this._n,this,u.En()):0!=(16777216&s)?n.rt.invoke(this.mn,this,u.Sn()):this.gn()}else this.mn(new c("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(i))+"From coroutine:\n"+this.sn.split("\n").slice(1,-7).join("\n")))},n.coroutine=function(t,n){if("function"!=typeof t)throw new c("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var r=d(n).yieldHandler,i=w,e=(new h).stack;return function(){var n=t.apply(this,arguments),u=new i(void 0,void 0,r,e),s=u.promise();return u.fn=n,u._n(void 0),s}},n.coroutine.addYieldHandler=function(t){if("function"!=typeof t)throw new c("expecting a function but got "+a.classString(t));l.push(t)},n.spawn=function(t){if(s.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof t)return r("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var i=new w(t,this),e=i.promise();return i.kn(n.spawn),e}}},{"./errors":12,"./util":36}],17:[function(t,n,r){n.exports=function(n,r,i,e,u,s){var o=t("./util");o.canEvaluate,o.tryCatch,o.errorObj,n.join=function(){var t,n=arguments.length-1;n>0&&"function"==typeof arguments[n]&&(t=arguments[n]);var i=[].slice.call(arguments);t&&i.pop();var e=new r(i).promise();return void 0!==t?e.spread(t):e}}},{"./util":36}],18:[function(t,n,r){n.exports=function(n,r,i,e,u,s){var o=n.Pt,c=t("./util"),a=c.tryCatch,f=c.errorObj,h=n.rt;function d(t,n,r,i){this.constructor$(t),this.un.Xt();var e=o();this.Rn=null===e?n:c.domainBind(e,n),this.In=i===u?new Array(this.length()):null,this.Dn=r,this.Cn=0,this.Nn=[],h.invoke(this.An,this,void 0)}function l(t,r,e,u){if("function"!=typeof r)return i("expecting a function but got "+c.classString(r));var s=0;if(void 0!==e){if("object"!=typeof e||null===e)return n.reject(new v("options argument must be an object but it is "+c.classString(e)));if("number"!=typeof e.concurrency)return n.reject(new v("'concurrency' must be a number but it is "+c.classString(e.concurrency)));s=e.concurrency}return s="number"==typeof s&&isFinite(s)&&s>=1?s:0,new d(t,r,s,u).promise()}c.inherits(d,r),d.prototype.An=function(){this._init$(void 0,-2)},d.prototype._init=function(){},d.prototype._n=function(t,r){var i=this.On,u=this.length(),o=this.In,c=this.Dn;if(r<0){if(i[r=-1*r-1]=t,c>=1&&(this.Cn--,this.xn(),this.ln()))return!0}else{if(c>=1&&this.Cn>=c)return i[r]=t,this.Nn.push(r),!1;null!==o&&(o[r]=t);var h=this.un,v=this.Rn,d=h.G();h.At();var l=a(v).call(d,t,r,u),w=h.Ot();if(s.checkForgottenReturns(l,w,null!==o?"Promise.filter":"Promise.map",h),l===f)return this.V(l.e),!0;var y=e(l,this.un);if(y instanceof n){var g=(y=y.Y()).H;if(0==(50397184&g))return c>=1&&this.Cn++,i[r]=y,y.Tn(this,-1*(r+1)),!1;if(0==(33554432&g))return 0!=(16777216&g)?(this.V(y.Sn()),!0):(this.yt(),!0);l=y.En()}i[r]=l}var p=++this.Pn;return p>=u&&(null!==o?this.Ln(i,o):this.Fn(i),!0)},d.prototype.xn=function(){for(var t=this.Nn,n=this.Dn,r=this.On;t.length>0&&this.Cn<n;){if(this.ln())return;var i=t.pop();this._n(r[i],i)}},d.prototype.Ln=function(t,n){for(var r=n.length,i=new Array(r),e=0,u=0;u<r;++u)t[u]&&(i[e++]=n[u]);i.length=e,this.Fn(i)},d.prototype.preservedValues=function(){return this.In},n.prototype.map=function(t,n){return l(this,t,n,null)},n.map=function(t,n,r,i){return l(t,n,r,i)}}},{"./util":36}],19:[function(t,n,r){n.exports=function(n,r,i,e,u){var s=t("./util"),o=s.tryCatch;n.method=function(t){if("function"!=typeof t)throw new n.TypeError("expecting a function but got "+s.classString(t));return function(){var i=new n(r);i.Xt(),i.At();var e=o(t).apply(this,arguments),s=i.Ot();return u.checkForgottenReturns(e,s,"Promise.method",i),i.Mn(e),i}},n.attempt=n.try=function(t){if("function"!=typeof t)return e("expecting a function but got "+s.classString(t));var i,c=new n(r);if(c.Xt(),c.At(),arguments.length>1){u.deprecated("calling Promise.try with more than 1 argument");var a=arguments[1],f=arguments[2];i=s.isArray(a)?o(t).apply(f,a):o(t).call(f,a)}else i=o(t)();var h=c.Ot();return u.checkForgottenReturns(i,h,"Promise.try",c),c.Mn(i),c},n.prototype.Mn=function(t){t===s.errorObj?this.bn(t.e,!1):this.W(t,!0)}}},{"./util":36}],20:[function(t,n,r){var i=t("./util"),e=i.maybeWrapAsError,u=t("./errors"),s=u.OperationalError,o=t("./es5"),c=/^(?:name|message|stack|cause)$/;function a(t){var n;if(function(t){return t instanceof h&&o.getPrototypeOf(t)===h.prototype}(t)){(n=new s(t)).name=t.name,n.message=t.message,n.stack=t.stack;for(var r=o.keys(t),e=0;e<r.length;++e){var u=r[e];c.test(u)||(n[u]=t[u])}return n}return i.markAsOriginatingFromRejection(t),t}n.exports=function(t,n){return function(r,i){if(null!==t){if(r){var u=a(e(r));t.Rt(u),t.V(u)}else if(n){var s=[].slice.call(arguments,1);t.yn(s)}else t.yn(i);t=null}}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(t,n,r){n.exports=function(n){var r=t("./util"),i=n.rt,e=r.tryCatch,u=r.errorObj;function s(t,n){if(!r.isArray(t))return o.call(this,t,n);var s=e(n).apply(this.G(),[null].concat(t));s===u&&i.throwLater(s.e)}function o(t,n){var r=this.G(),s=void 0===t?e(n).call(r,null):e(n).call(r,null,t);s===u&&i.throwLater(s.e)}function c(t,n){if(!t){var r=new h(t+"");r.cause=t,t=r}var s=e(n).call(this.G(),t);s===u&&i.throwLater(s.e)}n.prototype.asCallback=n.prototype.nodeify=function(t,n){if("function"==typeof t){var r=o;void 0!==n&&d(n).spread&&(r=s),this.j(r,c,void 0,this,t)}return this}}},{"./util":36}],22:[function(t,n,r){n.exports=function(){var r=function(){return new l("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},i=function(){return new C.PromiseInspection(this.Y())},e=function(t){return C.reject(new l(t))};function u(){}var s,o={},c=t("./util");s=c.isNode?function(){var t=process.domain;return void 0===t&&(t=null),t}:function(){return null},c.notEnumerableProp(C,"Pt",s);var a=t("./es5"),f=t("./async"),h=new f;a.defineProperty(C,"rt",{value:h});var v=t("./errors"),l=C.TypeError=v.TypeError;C.RangeError=v.RangeError;var w=C.CancellationError=v.CancellationError;C.TimeoutError=v.TimeoutError,C.OperationalError=v.OperationalError,C.RejectionError=v.OperationalError,C.AggregateError=v.AggregateError;var y=function(){},g={},p={},_=t("./thenables")(C,y),m=t("./promise_array")(C,y,_,e,u),k=t("./context")(C),b=k.create,T=t("./debuggability")(C,k),E=(T.CapturedTrace,t("./finally")(C,_,p)),S=t("./catch_filter")(p),R=t("./nodeback"),I=c.errorObj,D=c.tryCatch;function C(t){t!==y&&function(t,n){if(null==t||t.constructor!==C)throw new l("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof n)throw new l("expecting a function but got "+c.classString(n))}(this,t),this.H=0,this.Bn=void 0,this.Un=void 0,this.qn=void 0,this.Vn=void 0,this.jn(t),this.Nt(),this.Qt("promiseCreated",this)}function N(t){this.promise.W(t)}function A(t){this.promise.bn(t,!1)}function O(t){var n=new C(y);n.Bn=t,n.Un=t,n.qn=t,n.Vn=t}return C.prototype.toString=function(){return"[object Promise]"},C.prototype.caught=C.prototype.catch=function(t){var n=arguments.length;if(n>1){var r,i=new Array(n-1),u=0;for(r=0;r<n-1;++r){var s=arguments[r];if(!c.isObject(s))return e("Catch statement predicate: expecting an object but got "+c.classString(s));i[u++]=s}if(i.length=u,"function"!=typeof(t=arguments[r]))throw new l("The last argument to .catch() must be a function, got "+c.toString(t));return this.then(void 0,S(i,t,this))}return this.then(void 0,t)},C.prototype.reflect=function(){return this.j(i,i,void 0,this,void 0)},C.prototype.then=function(t,n){if(T.warnings()&&arguments.length>0&&"function"!=typeof t&&"function"!=typeof n){var r=".then() only accepts functions but was passed: "+c.classString(t);arguments.length>1&&(r+=", "+c.classString(n)),this.it(r)}return this.j(t,n,void 0,void 0,void 0)},C.prototype.done=function(t,n){var r=this.j(t,n,void 0,void 0,void 0);r.Hn()},C.prototype.spread=function(t){return"function"!=typeof t?e("expecting a function but got "+c.classString(t)):this.all().j(t,void 0,void 0,g,void 0)},C.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this.value(),t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this.reason(),t.isRejected=!0),t},C.prototype.all=function(){return arguments.length>0&&this.it(".all() was passed arguments but it does not take any"),new m(this).promise()},C.prototype.error=function(t){return this.caught(c.originatesFromRejection,t)},C.getNewLibraryCopy=n.exports,C.is=function(t){return t instanceof C},C.fromNode=C.fromCallback=function(t){var n=new C(y);n.Xt();var r=arguments.length>1&&!!d(arguments[1]).multiArgs,i=D(t)(R(n,r));return i===I&&n.bn(i.e,!0),n.Wn()||n.$n(),n},C.all=function(t){return new m(t).promise()},C.cast=function(t){var n=_(t);return n instanceof C||((n=new C(y)).Xt(),n.zn(),n.Un=t),n},C.resolve=C.fulfilled=C.cast,C.reject=C.rejected=function(t){var n=new C(y);return n.Xt(),n.bn(t,!0),n},C.setScheduler=function(t){if("function"!=typeof t)throw new l("expecting a function but got "+c.classString(t));return h.setScheduler(t)},C.prototype.j=function(t,n,r,i,e){var u=void 0!==e,o=u?e:new C(y),a=this.Y(),f=a.H;u||(o.X(this,3),o.Xt(),void 0===i&&0!=(2097152&this.H)&&(i=0!=(50397184&f)?this.G():a===this?void 0:this.Z),this.Qt("promiseChained",this,o));var v=s();if(0!=(50397184&f)){var d,l,g=a.Xn;0!=(33554432&f)?(l=a.Un,d=t):0!=(16777216&f)?(l=a.Bn,d=n,a.zt()):(g=a.Gn,l=new w("late cancellation observer"),a.Rt(l),d=n),h.invoke(g,a,{handler:null===v?d:"function"==typeof d&&c.domainBind(v,d),promise:o,receiver:i,value:l})}else a.Yn(t,n,o,i,v);return o},C.prototype.kt=function(){return 65535&this.H},C.prototype.Wn=function(){return 0!=(117506048&this.H)},C.prototype.st=function(){return 67108864==(67108864&this.H)},C.prototype.Kn=function(t){this.H=-65536&this.H|65535&t},C.prototype.zn=function(){this.H=33554432|this.H,this.Qt("promiseFulfilled",this)},C.prototype.Jn=function(){this.H=16777216|this.H,this.Qt("promiseRejected",this)},C.prototype.Qn=function(){this.H=67108864|this.H,this.Qt("promiseResolved",this)},C.prototype.Hn=function(){this.H=4194304|this.H},C.prototype.Zn=function(){return(4194304&this.H)>0},C.prototype.tr=function(){this.H=-65537&this.H},C.prototype.pt=function(){this.H=65536|this.H,this.Qt("promiseCancelled",this)},C.prototype.ft=function(){this.H=8388608|this.H},C.prototype.$n=function(){h.hasCustomScheduler()||(this.H=134217728|this.H)},C.prototype.nr=function(t){var n=0===t?this.Vn:this[4*t-4+3];if(n!==o)return void 0===n&&this.nt()?this.G():n},C.prototype.rr=function(t){return this[4*t-4+2]},C.prototype.ir=function(t){return this[4*t-4+0]},C.prototype.er=function(t){return this[4*t-4+1]},C.prototype.G=function(){},C.prototype.ur=function(t){t.H;var n=t.Bn,r=t.Un,i=t.qn,e=t.nr(0);void 0===e&&(e=o),this.Yn(n,r,i,e,null)},C.prototype.sr=function(t,n){var r=t.ir(n),i=t.er(n),e=t.rr(n),u=t.nr(n);void 0===u&&(u=o),this.Yn(r,i,e,u,null)},C.prototype.Yn=function(t,n,r,i,e){var u=this.kt();if(u>=65531&&(u=0,this.Kn(0)),0===u)this.qn=r,this.Vn=i,"function"==typeof t&&(this.Bn=null===e?t:c.domainBind(e,t)),"function"==typeof n&&(this.Un=null===e?n:c.domainBind(e,n));else{var s=4*u-4;this[s+2]=r,this[s+3]=i,"function"==typeof t&&(this[s+0]=null===e?t:c.domainBind(e,t)),"function"==typeof n&&(this[s+1]=null===e?n:c.domainBind(e,n))}return this.Kn(u+1),u},C.prototype.Tn=function(t,n){this.Yn(void 0,void 0,n,t,null)},C.prototype.W=function(t,n){if(0==(117506048&this.H)){if(t===this)return this.bn(r(),!1);var i=_(t,this);if(!(i instanceof C))return this.yn(t);n&&this.X(i,2);var e=i.Y();if(e!==this){var u=e.H;if(0==(50397184&u)){var s=this.kt();s>0&&e.ur(this);for(var o=1;o<s;++o)e.sr(this,o);this.Qn(),this.Kn(0),this.cr(e)}else if(0!=(33554432&u))this.yn(e.En());else if(0!=(16777216&u))this.V(e.Sn());else{var c=new w("late cancellation observer");e.Rt(c),this.V(c)}}else this.V(r())}},C.prototype.bn=function(t,n,r){var i=c.ensureErrorObject(t),e=i===t;if(!e&&!r&&T.warnings()){var u="a promise was rejected with a non-error: "+c.classString(t);this.it(u,!0)}this.Rt(i,!!n&&e),this.V(t)},C.prototype.jn=function(t){if(t!==y){var n=this;this.Xt(),this.At();var r=!0,i=this.Jt(t,function(t){n.W(t)},function(t){n.bn(t,r)});r=!1,this.Ot(),void 0!==i&&n.bn(i,!0)}},C.prototype.ar=function(t,n,r,i){var e=i.H;if(0==(65536&e)){var u;i.At(),n===g?r&&"number"==typeof r.length?u=D(t).apply(this.G(),r):(u=I).e=new l("cannot .spread() a non-array: "+c.classString(r)):u=D(t).call(n,r);var s=i.Ot();0==(65536&(e=i.H))&&(u===p?i.V(r):u===I?i.bn(u.e,!1):(T.checkForgottenReturns(u,s,"",i,this),i.W(u)))}},C.prototype.Y=function(){for(var t=this;t.st();)t=t.ot();return t},C.prototype.ot=function(){return this.Un},C.prototype.cr=function(t){this.Un=t},C.prototype.hr=function(t,n,r,e){var s=t instanceof C,o=this.H,c=0!=(134217728&o);0!=(65536&o)?(s&&t.Dt(),r instanceof E&&r.isFinallyHandler()?(r.cancelPromise=t,D(n).call(r,e)===I&&t.V(I.e)):n===i?t.yn(i.call(r)):r instanceof u?r.gn(t):s||t instanceof m?t.yt():r.cancel()):"function"==typeof n?s?(c&&t.$n(),this.ar(n,r,e,t)):n.call(r,e,t):r instanceof u?r.ln()||(0!=(33554432&o)?r._n(e,t):r.mn(e,t)):s&&(c&&t.$n(),0!=(33554432&o)?t.yn(e):t.V(e))},C.prototype.Gn=function(t){var n=t.handler,r=t.promise,i=t.receiver,e=t.value;"function"==typeof n?r instanceof C?this.ar(n,i,e,r):n.call(i,e,r):r instanceof C&&r.V(e)},C.prototype.Xn=function(t){this.hr(t.promise,t.handler,t.receiver,t.value)},C.prototype.dr=function(t,n,r){var i=this.qn,e=this.nr(0);this.qn=void 0,this.Vn=void 0,this.hr(i,t,e,n)},C.prototype.wr=function(t){var n=4*t-4;this[n+2]=this[n+3]=this[n+0]=this[n+1]=void 0},C.prototype.yn=function(t){var n=this.H;if(!((117506048&n)>>>16)){if(t===this){var i=r();return this.Rt(i),this.V(i)}this.zn(),this.Un=t,(65535&n)>0&&(0!=(134217728&n)?this.B():h.settlePromises(this),this.Gt())}},C.prototype.V=function(t){var n=this.H;if(!((117506048&n)>>>16)){if(this.Jn(),this.Bn=t,this.Zn())return h.fatalError(t,c.isNode);(65535&n)>0?h.settlePromises(this):this.Lt()}},C.prototype.yr=function(t,n){for(var r=1;r<t;r++){var i=this.ir(r),e=this.rr(r),u=this.nr(r);this.wr(r),this.hr(e,i,u,n)}},C.prototype.gr=function(t,n){for(var r=1;r<t;r++){var i=this.er(r),e=this.rr(r),u=this.nr(r);this.wr(r),this.hr(e,i,u,n)}},C.prototype.B=function(){var t=this.H,n=65535&t;if(n>0){if(0!=(16842752&t)){var r=this.Bn;this.dr(this.Un,r,t),this.gr(n,r)}else{var i=this.Un;this.dr(this.Bn,i,t),this.yr(n,i)}this.Kn(0)}this.Kt()},C.prototype.jt=function(){var t=this.H;return 0!=(33554432&t)?this.Un:0!=(16777216&t)?this.Bn:void 0},"undefined"!=typeof Symbol&&Symbol.toStringTag&&a.defineProperty(C.prototype,Symbol.toStringTag,{get:function(){return"Object"}}),C.defer=C.pending=function(){T.deprecated("Promise.defer","new Promise");var t=new C(y);return{promise:t,resolve:N,reject:A}},c.notEnumerableProp(C,"pr",r),t("./method")(C,y,_,e,T),t("./bind")(C,y,_,T),t("./cancel")(C,m,e,T),t("./direct_resolve")(C),t("./synchronous_inspection")(C),t("./join")(C,m,_,y,h,s),C.Promise=C,C.version="3.5.5",t("./call_get.js")(C),t("./generators.js")(C,e,y,_,u,T),t("./map.js")(C,m,e,_,y,T),t("./nodeify.js")(C),t("./promisify.js")(C,y),t("./props.js")(C,m,_,e),t("./race.js")(C,y,_,e),t("./reduce.js")(C,m,e,_,y,T),t("./settle.js")(C,m,T),t("./some.js")(C,m,e),t("./timers.js")(C,y,T),t("./using.js")(C,e,_,b,y,T),t("./any.js")(C),t("./each.js")(C,y),t("./filter.js")(C,y),c.toFastProperties(C),c.toFastProperties(C.prototype),O({a:1}),O({b:2}),O({c:3}),O(1),O(function(){}),O(void 0),O(!1),O(new C(y)),T.setBounds(f.firstLineError,c.lastLineError),C}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(t,n,r){n.exports=function(n,r,i,e,u){var s=t("./util");function o(t){var i=this.un=new n(r);t instanceof n&&i.X(t,3),i.J(this),this.On=t,this.kt=0,this.Pn=0,this._init(void 0,-2)}return s.isArray,s.inherits(o,u),o.prototype.length=function(){return this.kt},o.prototype.promise=function(){return this.un},o.prototype._init=function t(r,u){var o=i(this.On,this.un);if(o instanceof n){var c=(o=o.Y()).H;if(this.On=o,0==(50397184&c))return this.un.$n(),o.j(t,this.V,void 0,this,u);if(0==(33554432&c))return 0!=(16777216&c)?this.V(o.Sn()):this.yt();o=o.En()}if(null!==(o=s.asArray(o)))0!==o.length?this._r(o):-5===u?this.mr():this.Fn(function(t){switch(t){case-2:return[];case-3:return{};case-6:return new Map}}(u));else{var a=e("expecting an array or an iterable object but got "+s.classString(o)).reason();this.un.bn(a,!1)}},o.prototype._r=function(t){var r=this.getActualLength(t.length);this.kt=r,this.On=this.shouldCopyValues()?new Array(r):this.On;for(var e=this.un,u=!1,s=null,o=0;o<r;++o){var c=i(t[o],e);c instanceof n?(c=c.Y(),s=c.H):s=null,u?null!==s&&c.suppressUnhandledRejections():null!==s?0==(50397184&s)?(c.Tn(this,o),this.On[o]=c):u=0!=(33554432&s)?this._n(c.En(),o):0!=(16777216&s)?this.mn(c.Sn(),o):this.gn(o):u=this._n(c,o)}u||e.$n()},o.prototype.ln=function(){return null===this.On},o.prototype.Fn=function(t){this.On=null,this.un.yn(t)},o.prototype.yt=function(){!this.ln()&&this.un.et()&&(this.On=null,this.un.yt())},o.prototype.V=function(t){this.On=null,this.un.bn(t,!1)},o.prototype._n=function(t,n){this.On[n]=t;var r=++this.Pn;return r>=this.kt&&(this.Fn(this.On),!0)},o.prototype.gn=function(){return this.yt(),!0},o.prototype.mn=function(t){return this.Pn++,this.V(t),!0},o.prototype._resultCancelled=function(){if(!this.ln()){var t=this.On;if(this.yt(),t instanceof n)t.cancel();else for(var r=0;r<t.length;++r)t[r]instanceof n&&t[r].cancel()}},o.prototype.shouldCopyValues=function(){return!0},o.prototype.getActualLength=function(t){return t},o}},{"./util":36}],24:[function(t,n,r){n.exports=function(n,r){var i={},e=t("./util"),u=t("./nodeback"),s=e.withAppended,o=e.maybeWrapAsError,c=e.canEvaluate,a=t("./errors").TypeError,f={kr:!0},h=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","kr"].join("|")+")$"),v=function(t){return e.isIdentifier(t)&&"_"!==t.charAt(0)&&"constructor"!==t};function l(t){return!h.test(t)}function w(t){try{return!0===t.kr}catch(t){return!1}}function y(t,n,r){var i=e.getDataPropertyOrDefault(t,n+r,f);return!!i&&w(i)}function g(t,n,r,i){for(var u=e.inheritedDataKeys(t),s=[],o=0;o<u.length;++o){var c=u[o],f=t[c],h=i===v||v(c);"function"!=typeof f||w(f)||y(t,c,n)||!i(c,f,t,h)||s.push(c,f)}return function(t,n,r){for(var i=0;i<t.length;i+=2){var e=t[i];if(r.test(e))for(var u=e.replace(r,""),s=0;s<t.length;s+=2)if(t[s]===u)throw new a("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",n))}}(s,n,r),s}var p=function(t){return t.replace(/([$])/,"\\$")},_=c?void 0:function(t,c,a,f,h,v){var d=function(){return this}(),l=t;function w(){var e=c;c===i&&(e=this);var a=new n(r);a.Xt();var f="string"==typeof l&&this!==d?this[l]:t,h=u(a,v);try{f.apply(e,s(arguments,h))}catch(t){a.bn(o(t),!0,!0)}return a.Wn()||a.$n(),a}return"string"==typeof l&&(t=f),e.notEnumerableProp(w,"kr",!0),w};function m(t,n,r,u,s){for(var o=new RegExp(p(n)+"$"),c=g(t,n,o,r),a=0,f=c.length;a<f;a+=2){var h=c[a],v=c[a+1],d=h+n;if(u===_)t[d]=_(h,i,h,v,n,s);else{var l=u(v,function(){return _(h,i,h,v,n,s)});e.notEnumerableProp(l,"kr",!0),t[d]=l}}return e.toFastProperties(t),t}n.promisify=function(t,n){if("function"!=typeof t)throw new a("expecting a function but got "+e.classString(t));if(w(t))return t;var r=void 0===(n=d(n)).context?i:n.context,u=!!n.multiArgs,s=function(t,n,r){return _(t,n,void 0,t,null,r)}(t,r,u);return e.copyDescriptors(t,s,l),s},n.promisifyAll=function(t,n){if("function"!=typeof t&&"object"!=typeof t)throw new a("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");var r=!!(n=d(n)).multiArgs,i=n.suffix;"string"!=typeof i&&(i="Async");var u=n.filter;"function"!=typeof u&&(u=v);var s=n.promisifier;if("function"!=typeof s&&(s=_),!e.isIdentifier(i))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var o=e.inheritedDataKeys(t),c=0;c<o.length;++c){var f=t[o[c]];"constructor"!==o[c]&&e.isClass(f)&&(m(f.prototype,i,u,s,r),m(f,i,u,s,r))}return m(t,i,u,s,r)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(t,n,r){n.exports=function(n,r,i,e){var u,s=t("./util"),o=s.isObject,c=t("./es5");"function"==typeof Map&&(u=Map);var a=function(){var t=0,n=0;function r(r,i){this[t]=r,this[t+n]=i,t++}return function(i){n=i.size,t=0;var e=new Array(2*i.size);return i.forEach(r,e),e}}();function f(t){var n,r=!1;if(void 0!==u&&t instanceof u)n=a(t),r=!0;else{var i=c.keys(t),e=i.length;n=new Array(2*e);for(var s=0;s<e;++s){var o=i[s];n[s]=t[o],n[s+e]=o}}this.constructor$(n),this.br=r,this._init$(void 0,r?-6:-3)}function h(t){var r,u=i(t);return o(u)?(r=u instanceof n?u.j(n.props,void 0,void 0,void 0,void 0):new f(u).promise(),u instanceof n&&r.X(u,2),r):e("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}s.inherits(f,r),f.prototype._init=function(){},f.prototype._n=function(t,n){this.On[n]=t;var r=++this.Pn;if(r>=this.kt){var i;if(this.br)i=function(t){for(var n=new u,r=t.length/2|0,i=0;i<r;++i){var e=t[r+i],s=t[i];n.set(e,s)}return n}(this.On);else{i={};for(var e=this.length(),s=0,o=this.length();s<o;++s)i[this.On[s+e]]=this.On[s]}return this.Fn(i),!0}return!1},f.prototype.shouldCopyValues=function(){return!1},f.prototype.getActualLength=function(t){return t>>1},n.prototype.props=function(){return h(this)},n.props=function(t){return h(t)}}},{"./es5":13,"./util":36}],26:[function(t,n,r){function i(t){this.Tr=t,this.kt=0,this.Er=0}i.prototype.Sr=function(t){return this.Tr<t},i.prototype.M=function(t){var n=this.length();this.Rr(n+1);var r=this.Er+n&this.Tr-1;this[r]=t,this.kt=n+1},i.prototype.push=function(t,n,r){var i=this.length()+3;if(this.Sr(i))return this.M(t),this.M(n),void this.M(r);var e=this.Er+i-3;this.Rr(i);var u=this.Tr-1;this[e+0&u]=t,this[e+1&u]=n,this[e+2&u]=r,this.kt=i},i.prototype.shift=function(){var t=this.Er,n=this[t];return this[t]=void 0,this.Er=t+1&this.Tr-1,this.kt--,n},i.prototype.length=function(){return this.kt},i.prototype.Rr=function(t){this.Tr<t&&this.Ir(this.Tr<<1)},i.prototype.Ir=function(t){var n=this.Tr;this.Tr=t;var r=this.Er,i=this.kt,e=r+i&n-1;!function(t,n,r,i,e){for(var u=0;u<e;++u)r[u+i]=t[u+n],t[u+n]=void 0}(this,0,this,n,e)},n.exports=i},{}],27:[function(t,n,r){n.exports=function(n,r,i,e){var u=t("./util"),s=function(t){return t.then(function(n){return o(n,t)})};function o(t,o){var c=i(t);if(c instanceof n)return s(c);if(null===(t=u.asArray(t)))return e("expecting an array or an iterable object but got "+u.classString(t));var a=new n(r);void 0!==o&&a.X(o,3);for(var f=a.yn,h=a.V,v=0,d=t.length;v<d;++v){var l=t[v];(void 0!==l||v in t)&&n.cast(l).j(f,h,void 0,a,null)}return a}n.race=function(t){return o(t,void 0)},n.prototype.race=function(){return o(this,void 0)}}},{"./util":36}],28:[function(t,n,r){n.exports=function(n,r,i,e,u,s){var o=n.Pt,c=t("./util"),a=c.tryCatch;function f(t,r,i,e){this.constructor$(t);var s=o();this.Dr=null===s?r:c.domainBind(s,r),void 0!==i&&(i=n.resolve(i)).Yt(this),this.Cr=i,this.Nr=null,this.Ar=e===u?Array(this.kt):0===e?null:void 0,this.un.Xt(),this._init$(void 0,-5)}function h(t,n){this.isFulfilled()?n.Fn(t):n.V(t)}function v(t,n,r,e){if("function"!=typeof n)return i("expecting a function but got "+c.classString(n));var u=new f(t,n,r,e);return u.promise()}function d(t){this.accum=t,this.array.Or(t);var r=e(this.value,this.array.un);return r instanceof n?(this.array.Nr=r,r.j(l,void 0,void 0,this,void 0)):l.call(this,r)}function l(t){var r,i=this.array,e=i.un,u=a(i.Dr);e.At(),(r=void 0!==i.Ar?u.call(e.G(),t,this.index,this.length):u.call(e.G(),this.accum,t,this.index,this.length))instanceof n&&(i.Nr=r);var o=e.Ot();return s.checkForgottenReturns(r,o,void 0!==i.Ar?"Promise.each":"Promise.reduce",e),r}c.inherits(f,r),f.prototype.Or=function(t){void 0!==this.Ar&&null!==this.Ar&&t!==u&&this.Ar.push(t)},f.prototype.xr=function(t){return null!==this.Ar&&this.Ar.push(t),this.Ar},f.prototype._init=function(){},f.prototype.mr=function(){this.Fn(void 0!==this.Ar?this.Ar:this.Cr)},f.prototype.shouldCopyValues=function(){return!1},f.prototype.Fn=function(t){this.un.W(t),this.On=null},f.prototype._resultCancelled=function(t){if(t===this.Cr)return this.yt();this.ln()||(this._resultCancelled$(),this.Nr instanceof n&&this.Nr.cancel(),this.Cr instanceof n&&this.Cr.cancel())},f.prototype._r=function(t){var r,i;this.On=t;var e=t.length;if(void 0!==this.Cr?(r=this.Cr,i=0):(r=n.resolve(t[0]),i=1),this.Nr=r,!r.isRejected())for(;i<e;++i){var u={accum:null,value:t[i],index:i,length:e,array:this};r=r.j(d,void 0,void 0,u,void 0)}void 0!==this.Ar&&(r=r.j(this.xr,void 0,void 0,this,void 0)),r.j(h,h,void 0,r,this)},n.prototype.reduce=function(t,n){return v(this,t,n,null)},n.reduce=function(t,n,r,i){return v(t,n,r,i)}}},{"./util":36}],29:[function(t,n,r){var u,s,c,a,f,v=t("./util"),d=v.getNativePromise();if(v.isNode&&"undefined"==typeof MutationObserver){var l=m.setImmediate,w=process.nextTick;u=v.isRecentNode?function(t){l.call(m,t)}:function(t){w.call(process,t)}}else if("function"==typeof d&&"function"==typeof d.resolve){var y=d.resolve();u=function(t){y.then(t)}}else u="undefined"!=typeof MutationObserver&&(void 0===i||!i.navigator||!i.navigator.standalone&&!i.cordova)&&"classList"in e.documentElement?(s=e.createElement("div"),c={attributes:!0},a=!1,f=e.createElement("div"),new MutationObserver(function(){s.classList.toggle("foo"),a=!1}).observe(f,c),function(t){var n=new MutationObserver(function(){n.disconnect(),t()});n.observe(s,c),a||(a=!0,f.classList.toggle("foo"))}):"undefined"!=typeof setImmediate?function(t){setImmediate(t)}:void 0!==o?function(t){o(t,0)}:function(){throw new h("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")};n.exports=u},{"./util":36}],30:[function(t,n,r){n.exports=function(n,r,i){var e=n.PromiseInspection,u=t("./util");function s(t){this.constructor$(t)}u.inherits(s,r),s.prototype.Pr=function(t,n){this.On[t]=n;var r=++this.Pn;return r>=this.kt&&(this.Fn(this.On),!0)},s.prototype._n=function(t,n){var r=new e;return r.H=33554432,r.Lr=t,this.Pr(n,r)},s.prototype.mn=function(t,n){var r=new e;return r.H=16777216,r.Lr=t,this.Pr(n,r)},n.settle=function(t){return i.deprecated(".settle()",".reflect()"),new s(t).promise()},n.prototype.settle=function(){return n.settle(this)}}},{"./util":36}],31:[function(t,n,r){n.exports=function(n,r,i){var e=t("./util"),u=t("./errors").RangeError,s=t("./errors").AggregateError,o=e.isArray,c={};function a(t){this.constructor$(t),this.Fr=0,this.Mr=!1,this.Br=!1}function f(t,n){if((0|n)!==n||n<0)return i("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var r=new a(t),e=r.promise();return r.setHowMany(n),r.init(),e}e.inherits(a,r),a.prototype._init=function(){if(this.Br)if(0!==this.Fr){this._init$(void 0,-5);var t=o(this.On);!this.ln()&&t&&this.Fr>this.Ur()&&this.V(this.qr(this.length()))}else this.Fn([])},a.prototype.init=function(){this.Br=!0,this._init()},a.prototype.setUnwrap=function(){this.Mr=!0},a.prototype.howMany=function(){return this.Fr},a.prototype.setHowMany=function(t){this.Fr=t},a.prototype._n=function(t){return this.Vr(t),this.jr()===this.howMany()&&(this.On.length=this.howMany(),1===this.howMany()&&this.Mr?this.Fn(this.On[0]):this.Fn(this.On),!0)},a.prototype.mn=function(t){return this.Hr(t),this.Wr()},a.prototype.gn=function(){return this.On instanceof n||null==this.On?this.yt():(this.Hr(c),this.Wr())},a.prototype.Wr=function(){if(this.howMany()>this.Ur()){for(var t=new s,n=this.length();n<this.On.length;++n)this.On[n]!==c&&t.push(this.On[n]);return t.length>0?this.V(t):this.yt(),!0}return!1},a.prototype.jr=function(){return this.Pn},a.prototype.$r=function(){return this.On.length-this.length()},a.prototype.Hr=function(t){this.On.push(t)},a.prototype.Vr=function(t){this.On[this.Pn++]=t},a.prototype.Ur=function(){return this.length()-this.$r()},a.prototype.qr=function(t){var n="Input array must contain at least "+this.Fr+" items but contains only "+t+" items";return new u(n)},a.prototype.mr=function(){this.V(this.qr(0))},n.some=function(t,n){return f(t,n)},n.prototype.some=function(t){return f(this,t)},n.o=a}},{"./errors":12,"./util":36}],32:[function(t,n,r){n.exports=function(t){function n(t){void 0!==t?(t=t.Y(),this.H=t.H,this.Lr=t.Wn()?t.jt():void 0):(this.H=0,this.Lr=void 0)}n.prototype.jt=function(){return this.Lr};var r=n.prototype.value=function(){if(!this.isFulfilled())throw new v("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this.jt()},i=n.prototype.error=n.prototype.reason=function(){if(!this.isRejected())throw new v("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this.jt()},e=n.prototype.isFulfilled=function(){return 0!=(33554432&this.H)},u=n.prototype.isRejected=function(){return 0!=(16777216&this.H)},s=n.prototype.isPending=function(){return 0==(50397184&this.H)},o=n.prototype.isResolved=function(){return 0!=(50331648&this.H)};n.prototype.isCancelled=function(){return 0!=(8454144&this.H)},t.prototype.zr=function(){return 65536==(65536&this.H)},t.prototype.Et=function(){return this.Y().zr()},t.prototype.isCancelled=function(){return 0!=(8454144&this.Y().H)},t.prototype.isPending=function(){return s.call(this.Y())},t.prototype.isRejected=function(){return u.call(this.Y())},t.prototype.isFulfilled=function(){return e.call(this.Y())},t.prototype.isResolved=function(){return o.call(this.Y())},t.prototype.value=function(){return r.call(this.Y())},t.prototype.reason=function(){var t=this.Y();return t.zt(),i.call(t)},t.prototype.En=function(){return this.jt()},t.prototype.Sn=function(){return this.zt(),this.jt()},t.PromiseInspection=n}},{}],33:[function(t,n,r){n.exports=function(n,r){var i=t("./util"),e=i.errorObj,u=i.isObject,s={}.hasOwnProperty;return function(t,o){if(u(t)){if(t instanceof n)return t;var c=function(t){try{return function(t){return t.then}(t)}catch(t){return e.e=t,e}}(t);if(c===e){o&&o.At();var a=n.reject(c.e);return o&&o.Ot(),a}if("function"==typeof c){if(function(t){try{return s.call(t,"qn")}catch(t){return!1}}(t)){var a=new n(r);return t.j(a.yn,a.V,void 0,a,null),a}return function(t,u,s){var o=new n(r),c=o;s&&s.At(),o.Xt(),s&&s.Ot();var a=!0,f=i.tryCatch(u).call(t,function(t){o&&(o.W(t),o=null)},function(t){o&&(o.bn(t,a,!0),o=null)});return a=!1,o&&f===e&&(o.bn(f.e,!0,!0),o=null),c}(t,c,o)}}return t}}},{"./util":36}],34:[function(t,n,r){n.exports=function(n,r,i){var e=t("./util"),u=n.TimeoutError;function s(t){this.handle=t}s.prototype._resultCancelled=function(){c(this.handle)};var a=function(t){return f(+this).thenReturn(t)},f=n.delay=function(t,e){var u,c;return void 0!==e?(u=n.resolve(e).j(a,null,null,t,void 0),i.cancellation()&&e instanceof n&&u.J(e)):(u=new n(r),c=o(function(){u.yn()},+t),i.cancellation()&&u.J(new s(c)),u.Xt()),u.$n(),u};function v(t){return c(this.handle),t}function d(t){throw c(this.handle),t}n.prototype.delay=function(t){return f(t,this)},n.prototype.timeout=function(t,n){var r,c,a=new s(o(function(){r.isPending()&&function(t,n,r){var i;i="string"!=typeof n?n instanceof h?n:new u("operation timed out"):new u(n),e.markAsOriginatingFromRejection(i),t.Rt(i),t.V(i),null!=r&&r.cancel()}(r,n,c)},t=+t));return i.cancellation()?(c=this.then(),(r=c.j(v,d,void 0,a,void 0)).J(a)):r=this.j(v,d,void 0,a,void 0),r}}},{"./util":36}],35:[function(t,n,r){n.exports=function(n,r,i,e,u,s){var c=t("./util"),a=t("./errors").TypeError,f=t("./util").inherits,h=c.errorObj,v=c.tryCatch,d={};function l(t){o(function(){throw t},0)}function w(t,r){var e=0,s=t.length,o=new n(u);return function u(){if(e>=s)return o.yn();var c=function(t){var n=i(t);return n!==t&&"function"==typeof t.Xr&&"function"==typeof t.Gr&&t.Xr()&&n.Yr(t.Gr()),n}(t[e++]);if(c instanceof n&&c.Xr()){try{c=i(c.Gr().tryDispose(r),t.promise)}catch(t){return l(t)}if(c instanceof n)return c.j(u,l,null,null,null)}u()}(),o}function y(t,n,r){this.Kr=t,this.un=n,this.Jr=r}function g(t,n,r){this.constructor$(t,n,r)}function p(t){return y.isDisposer(t)?(this.resources[this.index].Yr(t),t.promise()):t}function _(t){this.length=t,this.promise=null,this[t-1]=null}y.prototype.data=function(){return this.Kr},y.prototype.promise=function(){return this.un},y.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():d},y.prototype.tryDispose=function(t){var n=this.resource(),r=this.Jr;void 0!==r&&r.At();var i=n!==d?this.doDispose(n,t):null;return void 0!==r&&r.Ot(),this.un.Qr(),this.Kr=null,i},y.isDisposer=function(t){return null!=t&&"function"==typeof t.resource&&"function"==typeof t.tryDispose},f(g,y),g.prototype.doDispose=function(t,n){var r=this.data();return r.call(t,t,n)},_.prototype._resultCancelled=function(){for(var t=this.length,r=0;r<t;++r){var i=this[r];i instanceof n&&i.cancel()}},n.using=function(){var t=arguments.length;if(t<2)return r("you must pass at least 2 arguments to Promise.using");var e,u=arguments[t-1];if("function"!=typeof u)return r("expecting a function but got "+c.classString(u));var o=!0;2===t&&Array.isArray(arguments[0])?(e=arguments[0],t=e.length,o=!1):(e=arguments,t--);for(var a=new _(t),f=0;f<t;++f){var d=e[f];if(y.isDisposer(d)){var l=d;(d=d.promise()).Yr(l)}else{var g=i(d);g instanceof n&&(d=g.j(p,null,null,{resources:a,index:f},void 0))}a[f]=d}for(var m=new Array(a.length),f=0;f<m.length;++f)m[f]=n.resolve(a[f]).reflect();var k=n.all(m).then(function(t){for(var n=0;n<t.length;++n){var r=t[n];if(r.isRejected())return h.e=r.error(),h;if(!r.isFulfilled())return void k.cancel();t[n]=r.value()}b.At(),u=v(u);var i=o?u.apply(void 0,t):u(t),e=b.Ot();return s.checkForgottenReturns(i,e,"Promise.using",b),i}),b=k.lastly(function(){var t=new n.PromiseInspection(k);return w(a,t)});return a.promise=b,b.J(a),b},n.prototype.Yr=function(t){this.H=131072|this.H,this.Zr=t},n.prototype.Xr=function(){return(131072&this.H)>0},n.prototype.Gr=function(){return this.Zr},n.prototype.Qr=function(){this.H=-131073&this.H,this.Zr=void 0},n.prototype.disposer=function(t){if("function"==typeof t)return new g(t,this,e());throw new a}}},{"./errors":12,"./util":36}],36:[function(n,r,e){var u,o=n("./es5"),c=void 0===s,a={e:{}},f=void 0!==t?t:void 0!==i?i:void 0!==m?m:void 0!==this?this:null;function v(){try{var t=u;return u=null,t.apply(this,arguments)}catch(t){return a.e=t,a}}function l(t){return null==t||!0===t||!1===t||"string"==typeof t||"number"==typeof t}function w(t,n,r){if(l(t))return t;var i={value:r,configurable:!0,enumerable:!1,writable:!0};return o.defineProperty(t,n,i),t}var y=function(){var t=[Array.prototype,d.prototype,Function.prototype],n=function(n){for(var r=0;r<t.length;++r)if(t[r]===n)return!0;return!1};if(o.isES5){var r=d.getOwnPropertyNames;return function(t){for(var i=[],e=d.create(null);null!=t&&!n(t);){var u;try{u=r(t)}catch(t){return i}for(var s=0;s<u.length;++s){var c=u[s];if(!e[c]){e[c]=!0;var a=d.getOwnPropertyDescriptor(t,c);null!=a&&null==a.get&&null==a.set&&i.push(c)}}t=o.getPrototypeOf(t)}return i}}var i={}.hasOwnProperty;return function(r){if(n(r))return[];var e=[];t:for(var u in r)if(i.call(r,u))e.push(u);else{for(var s=0;s<t.length;++s)if(i.call(t[s],u))continue t;e.push(u)}return e}}(),g=/this\s*\.\s*\S+\s*=/,p=/^[a-z$_][a-z$_0-9]*$/i;function _(t){try{return t+""}catch(t){return"[no string representation]"}}function k(t){return t instanceof h||null!==t&&"object"==typeof t&&"string"==typeof t.message&&"string"==typeof t.name}function b(t){return k(t)&&o.propertyIsWritable(t,"stack")}var T="stack"in new h?function(t){return b(t)?t:new h(_(t))}:function(t){if(b(t))return t;try{throw new h(_(t))}catch(t){return t}};function E(t){return{}.toString.call(t)}var S=function(t){return o.isArray(t)?t:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var R="function"==typeof Array.from?function(t){return Array.from(t)}:function(t){for(var n,r=[],i=t[Symbol.iterator]();!(n=i.next()).done;)r.push(n.value);return r};S=function(t){return o.isArray(t)?t:null!=t&&"function"==typeof t[Symbol.iterator]?R(t):null}}var I,D="undefined"!=typeof process&&"[object process]"===E(process).toLowerCase(),C="undefined"!=typeof process&&void 0!==process.env,N={isClass:function(t){try{if("function"==typeof t){var n=o.names(t.prototype),r=o.isES5&&n.length>1,i=n.length>0&&!(1===n.length&&"constructor"===n[0]),e=g.test(t+"")&&o.names(t).length>0;if(r||i||e)return!0}return!1}catch(t){return!1}},isIdentifier:function(t){return p.test(t)},inheritedDataKeys:y,getDataPropertyOrDefault:function(t,n,r){if(!o.isES5)return{}.hasOwnProperty.call(t,n)?t[n]:void 0;var i=d.getOwnPropertyDescriptor(t,n);return null!=i?null==i.get&&null==i.set?i.value:r:void 0},thrower:function(t){throw t},isArray:o.isArray,asArray:S,notEnumerableProp:w,isPrimitive:l,isObject:function(t){return"function"==typeof t||"object"==typeof t&&null!==t},isError:k,canEvaluate:c,errorObj:a,tryCatch:function(t){return u=t,v},inherits:function(t,n){var r={}.hasOwnProperty;function i(){for(var i in this.constructor=t,this.constructor$=n,n.prototype)r.call(n.prototype,i)&&"$"!==i.charAt(i.length-1)&&(this[i+"$"]=n.prototype[i])}return i.prototype=n.prototype,t.prototype=new i,t.prototype},withAppended:function(t,n){var r,i=t.length,e=new Array(i+1);for(r=0;r<i;++r)e[r]=t[r];return e[r]=n,e},maybeWrapAsError:function(t){return l(t)?new h(_(t)):t},toFastProperties:function(t){return t},filledRange:function(t,n,r){for(var i=new Array(t),e=0;e<t;++e)i[e]=n+e+r;return i},toString:_,canAttachTrace:b,ensureErrorObject:T,originatesFromRejection:function(t){return null!=t&&(t instanceof h.rn.OperationalError||!0===t.isOperational)},markAsOriginatingFromRejection:function(t){try{w(t,"isOperational",!0)}catch(t){}},classString:E,copyDescriptors:function(t,n,r){for(var i=o.names(t),e=0;e<i.length;++e){var u=i[e];if(r(u))try{o.defineProperty(n,u,o.getDescriptor(t,u))}catch(t){}}},hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:D,hasEnvVariables:C,env:function(t){return C?process.env[t]:void 0},global:f,getNativePromise:function(){if("function"==typeof Promise)try{var t=new Promise(function(){});if("[object Promise]"==={}.toString.call(t))return Promise}catch(t){}},domainBind:function(t,n){return t.bind(n)}};N.isRecentNode=N.isNode&&(process.versions&&process.versions.node?I=process.versions.node.split(".").map(Number):process.version&&(I=process.version.split(".").map(Number)),0===I[0]&&I[1]>10||I[0]>0),N.isNode&&N.toFastProperties(process);try{throw new h}catch(t){N.lastLineError=t}r.exports=N},{"./es5":13}]},{},[4])(4),null!=i?i.P=i.Promise:null!=t&&(t.P=t.Promise)});var C,N,A,O={ti:function(){function t(){this.ni=[]}var n=t.prototype;return n.ri=function(){},n.ii=function(t){return{ei:function(){return D.resolve()},ui:function(){}}},n.si=function(t){throw new h("Not implemented")},n.oi=function(t){return D.resolve()},n.ci=function(t){},n.ai=function(){},t}(),fi:function(){function t(){}var n=t.prototype;return n.hi=function(){return D.resolve("all")},n.vi=function(){},n.ai=function(){},t}(),di:{li:function(t){getActiveDocument().addEventListener("unload",t)},wi:function(t){getActiveDocument().removeEventListener("unload",t)}},yi:{location:{href:"https://theoplayer.doubleclick.net"},get document(){return getActiveDocument()},top:void 0,parent:void 0,self:t,navigator:{userAgent:""},ResizeObserver:function(t){this.observe=function(t){},this.unobserve=function(t){},this.disconnect=function(){}}}};function x(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),d.defineProperty(t,i.key,i)}}function P(t,n,r){return n&&x(t.prototype,n),r&&x(t,r),t}function L(t){N=t}Element.prototype.style={},b=(C=O).ti,T=C.fi,E=C.di,S=C.yi,R=S&&S.location,I=S&&S.navigator,function(t){t.gi="web",t.pi="android",t._i="android-tv",t.mi="ios",t.ki="tvos",t.bi="chromecast"}(A||(A={}));var F=s?s.userAgent:"",M=/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i,B=F.match(/Android ([0-9\.]+)/i),U=F.match(/Windows NT ([0-9\.]+)/i),q=F.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),V=F.match(/Firefox\/([0-9\.]+)/i),j=F.match(/OPR\/(\d+\.\d+)/i),H=F.match(/Tizen ([0-9\.]+)/i),W=function(){function n(){this.Ti=Boolean("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch||s&&s.msMaxTouchPoints),this.Ei=/(mac\sos\sx)\s?([\w\s\.]+\w)*/i.test(F)||/(macintosh|mac(?=_powerpc)\s)/i.test(F),this.Si=/Windows NT/i.test(F),this.Ri=U?y(U[1]):0,this.Ii=/Android/i.test(F),this.Di=B?y(B[1]):0,this.Ci=/windows phone (8|8\.1)/i.test(F),this.Ni=/iPhone/i.test(F),this.Ai=/iPad/i.test(F),this.Oi=this.Ei&&this.Ti&&!this.Ai,this.xi=/iPod/i.test(F),this.Pi=/Mobile Safari/i.test(F),this.Li=(this.Ni||this.Ai||this.Oi||this.xi)&&!this.Ci,this.Fi=this.Ci||this.Li||this.Ii||this.Pi,this.Mi=/CriOS/i.test(F),this.Bi=Boolean(t.chrome&&/google/i.test(s.vendor))||this.Mi,this.Ui=M.exec(F)||[],this.qi=/SMART-TV.*Tizen/i.test(F),this.Vi=H?y(H[1]):0,this.ji=/webos|web0s/i.test(F),this.Hi=/Edge\/\d+/i.test(F),this.Wi=/Trident/i.test(F),this.$i=this.Wi&&!t.ActiveXObject&&"ActiveXObject"in t,this.zi=/Vivaldi/i.test(F),this.Xi=/Firefox/i.test(F)&&!/Seamonkey/i.test(F),this.Gi=V?y(V[1]):0,this.Yi=/Safari/i.test(F)&&!/Chrome/i.test(F)&&!this.Ci&&!this.qi,this.Ki=q?y(q[2]):0,this.Ji=Boolean(j),this.Qi=j?y(j[1]):0,this.Zi="tvos"===A._i,this.te="tvos"===A.pi,this.re=this.te||this.Zi,this.ie="tvos"===A.mi,this.ee="tvos"===A.ki,this.ue="tvos"===A.bi}return P(n,[{key:"se",get:function(){return this.Ti}},{key:"oe",get:function(){return this.Ei}},{key:"ce",get:function(){return this.Si}},{key:"ae",get:function(){return this.Ri}},{key:"fe",get:function(){return this.Ii}},{key:"he",get:function(){return this.Di}},{key:"ve",get:function(){return this.Ci}},{key:"de",get:function(){return this.Ni}},{key:"we",get:function(){return this.Ai}},{key:"ye",get:function(){return this.Oi}},{key:"pe",get:function(){return this.xi}},{key:"_e",get:function(){return this.Li}},{key:"me",get:function(){return this.Pi}},{key:"ke",get:function(){return this.Fi}},{key:"be",get:function(){return this.Mi}},{key:"Te",get:function(){return this.Bi}},{key:"Ee",get:function(){return this.Ui}},{key:"Se",get:function(){return this.Ui[1]}},{key:"Re",get:function(){return this.qi}},{key:"Ie",get:function(){return this.Vi}},{key:"De",get:function(){return this.ji}},{key:"Ce",get:function(){return this.Hi}},{key:"Ne",get:function(){return this.Wi}},{key:"Ae",get:function(){return this.$i}},{key:"Oe",get:function(){return this.zi}},{key:"xe",get:function(){return this.Xi}},{key:"Pe",get:function(){return this.Gi}},{key:"Le",get:function(){return this.Yi}},{key:"Fe",get:function(){return this.Ki}},{key:"Me",get:function(){return this.Ji}},{key:"Be",get:function(){return this.Qi}},{key:"Ue",get:function(){return this.Zi}},{key:"qe",get:function(){return this.te}},{key:"Ve",get:function(){return this.re}},{key:"je",get:function(){return this.ie}},{key:"He",get:function(){return this.ee}},{key:"We",get:function(){return this.ue}}]),n}();W.$e=new W;var $=W.$e,z={}.hasOwnProperty,X={}.toString;function G(t){return null!=t}var Y=Array.isArray||function(t){return"[object Array]"===X.call(t)};function K(t){return J(t)&&z.call(t,"length")&&rt(t.length)}function J(t){return"object"==typeof t&&null!==t}function Q(t){return J(t)&&t.constructor&&t.constructor===d}function Z(t){return"string"==typeof t}function tt(t){return"boolean"==typeof t}function nt(t){return Boolean(t)&&"function"==typeof t.then}function rt(t){return"number"==typeof t}var it=function(){},et=function(t){return t},ut=!($.Ne&&!$.Ae),st=t.console;function ot(t){if(J(t))try{return JSON.stringify(t)}catch(t){}return t}function ct(t){return t.map(ot).join(" ")}function at(t){var n=st&&st[t];return n?n.bind&&ut?n.bind(st):function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];st[t](ct(r))}:void 0}var ft,ht=at("log")||it,vt=at("warn")||ht.bind(void 0,"WARNING:"),dt=at("error")||ht.bind(void 0,"ERROR:"),lt=(ft=st&&st.assert)?ft.bind&&ut?ft.bind(st):function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];st.assert(t,ct(r))}:function(t){if(!t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];dt.apply(void 0,["Assertion failed:"].concat(r))}},wt=gt,yt=null;try{yt=new WebAssembly.Instance(new WebAssembly.Module(new p([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function gt(t,n,r){this.low=0|t,this.high=0|n,this.unsigned=!!r}function pt(t){return!0===(t&&t.ze)}gt.prototype.ze,d.defineProperty(gt.prototype,"ze",{value:!0}),gt.isLong=pt;var _t={},mt={};function kt(t,n){var r,i,e;return n?(e=0<=(t>>>=0)&&t<256)&&(i=mt[t])?i:(r=Tt(t,(0|t)<0?-1:0,!0),e&&(mt[t]=r),r):(e=-128<=(t|=0)&&t<128)&&(i=_t[t])?i:(r=Tt(t,t<0?-1:0,!1),e&&(_t[t]=r),r)}function bt(t,n){if(g(t))return n?Ot:At;if(n){if(t<0)return Ot;if(t>=Dt)return Mt}else{if(t<=-Ct)return Bt;if(t+1>=Ct)return Ft}return t<0?bt(-t,n).neg():Tt(t%It|0,t/It|0,n)}function Tt(t,n,r){return new gt(t,n,r)}gt.fromInt=kt,gt.fromNumber=bt,gt.fromBits=Tt;var Et=l.pow;function St(t,n,r){if(0===t.length)throw h("empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return At;if("number"==typeof n?(r=n,n=!1):n=!!n,(r=r||10)<2||36<r)throw RangeError("radix");var i;if((i=t.indexOf("-"))>0)throw h("interior hyphen");if(0===i)return St(t.substring(1),n,r).neg();for(var e=bt(Et(r,8)),u=At,s=0;s<t.length;s+=8){var o=l.min(8,t.length-s),c=w(t.substring(s,s+o),r);if(o<8){var a=bt(Et(r,o));u=u.mul(a).add(bt(c))}else u=(u=u.mul(e)).add(bt(c))}return u.unsigned=n,u}function Rt(t,n){return"number"==typeof t?bt(t,n):"string"==typeof t?St(t,n):Tt(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}gt.fromString=St,gt.fromValue=Rt;var It=4294967296,Dt=It*It,Ct=Dt/2,Nt=kt(1<<24),At=kt(0);gt.ZERO=At;var Ot=kt(0,!0);gt.UZERO=Ot;var xt=kt(1);gt.ONE=xt;var Pt=kt(1,!0);gt.UONE=Pt;var Lt=kt(-1);gt.NEG_ONE=Lt;var Ft=Tt(-1,2147483647,!1);gt.MAX_VALUE=Ft;var Mt=Tt(-1,-1,!0);gt.MAX_UNSIGNED_VALUE=Mt;var Bt=Tt(0,-2147483648,!1);gt.MIN_VALUE=Bt;var Ut=gt.prototype;Ut.toInt=function(){return this.unsigned?this.low>>>0:this.low},Ut.toNumber=function(){return this.unsigned?(this.high>>>0)*It+(this.low>>>0):this.high*It+(this.low>>>0)},Ut.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(Bt)){var n=bt(t),r=this.div(n),i=r.mul(n).sub(this);return r.toString(t)+i.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var e=bt(Et(t,6),this.unsigned),u=this,s="";;){var o=u.div(e),c=(u.sub(o.mul(e)).toInt()>>>0).toString(t);if((u=o).isZero())return c+s;for(;c.length<6;)c="0"+c;s=""+c+s}},Ut.getHighBits=function(){return this.high},Ut.getHighBitsUnsigned=function(){return this.high>>>0},Ut.getLowBits=function(){return this.low},Ut.getLowBitsUnsigned=function(){return this.low>>>0},Ut.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Bt)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,n=31;n>0&&0==(t&1<<n);n--);return 0!=this.high?n+33:n+1},Ut.isZero=function(){return 0===this.high&&0===this.low},Ut.eqz=Ut.isZero,Ut.isNegative=function(){return!this.unsigned&&this.high<0},Ut.isPositive=function(){return this.unsigned||this.high>=0},Ut.isOdd=function(){return 1==(1&this.low)},Ut.isEven=function(){return 0==(1&this.low)},Ut.equals=function(t){return pt(t)||(t=Rt(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},Ut.eq=Ut.equals,Ut.notEquals=function(t){return!this.eq(t)},Ut.neq=Ut.notEquals,Ut.ne=Ut.notEquals,Ut.lessThan=function(t){return this.comp(t)<0},Ut.lt=Ut.lessThan,Ut.lessThanOrEqual=function(t){return this.comp(t)<=0},Ut.lte=Ut.lessThanOrEqual,Ut.le=Ut.lessThanOrEqual,Ut.greaterThan=function(t){return this.comp(t)>0},Ut.gt=Ut.greaterThan,Ut.greaterThanOrEqual=function(t){return this.comp(t)>=0},Ut.gte=Ut.greaterThanOrEqual,Ut.ge=Ut.greaterThanOrEqual,Ut.compare=function(t){if(pt(t)||(t=Rt(t)),this.eq(t))return 0;var n=this.isNegative(),r=t.isNegative();return n&&!r?-1:!n&&r?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},Ut.comp=Ut.compare,Ut.negate=function(){return!this.unsigned&&this.eq(Bt)?Bt:this.not().add(xt)},Ut.neg=Ut.negate,Ut.add=function(t){pt(t)||(t=Rt(t));var n=this.high>>>16,r=65535&this.high,i=this.low>>>16,e=65535&this.low,u=t.high>>>16,s=65535&t.high,o=t.low>>>16,c=0,a=0,f=0,h=0;return f+=(h+=e+(65535&t.low))>>>16,a+=(f+=i+o)>>>16,c+=(a+=r+s)>>>16,c+=n+u,Tt((f&=65535)<<16|(h&=65535),(c&=65535)<<16|(a&=65535),this.unsigned)},Ut.subtract=function(t){return pt(t)||(t=Rt(t)),this.add(t.neg())},Ut.sub=Ut.subtract,Ut.multiply=function(t){if(this.isZero())return At;if(pt(t)||(t=Rt(t)),yt)return Tt(yt.mul(this.low,this.high,t.low,t.high),yt.get_high(),this.unsigned);if(t.isZero())return At;if(this.eq(Bt))return t.isOdd()?Bt:At;if(t.eq(Bt))return this.isOdd()?Bt:At;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(Nt)&&t.lt(Nt))return bt(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,r=65535&this.high,i=this.low>>>16,e=65535&this.low,u=t.high>>>16,s=65535&t.high,o=t.low>>>16,c=65535&t.low,a=0,f=0,h=0,v=0;return h+=(v+=e*c)>>>16,f+=(h+=i*c)>>>16,h&=65535,f+=(h+=e*o)>>>16,a+=(f+=r*c)>>>16,f&=65535,a+=(f+=i*o)>>>16,f&=65535,a+=(f+=e*s)>>>16,a+=n*c+r*o+i*s+e*u,Tt((h&=65535)<<16|(v&=65535),(a&=65535)<<16|(f&=65535),this.unsigned)},Ut.mul=Ut.multiply,Ut.divide=function(t){if(pt(t)||(t=Rt(t)),t.isZero())throw h("division by zero");var n,r,i;if(yt)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?Tt((this.unsigned?yt.div_u:yt.div_s)(this.low,this.high,t.low,t.high),yt.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?Ot:At;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return Ot;if(t.gt(this.shru(1)))return Pt;i=Ot}else{if(this.eq(Bt))return t.eq(xt)||t.eq(Lt)?Bt:t.eq(Bt)?xt:(n=this.shr(1).div(t).shl(1)).eq(At)?t.isNegative()?xt:Lt:(r=this.sub(t.mul(n)),i=n.add(r.div(t)));if(t.eq(Bt))return this.unsigned?Ot:At;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();i=At}for(r=this;r.gte(t);){n=l.max(1,l.floor(r.toNumber()/t.toNumber()));for(var e=l.ceil(l.log(n)/l.LN2),u=e<=48?1:Et(2,e-48),s=bt(n),o=s.mul(t);o.isNegative()||o.gt(r);)o=(s=bt(n-=u,this.unsigned)).mul(t);s.isZero()&&(s=xt),i=i.add(s),r=r.sub(o)}return i},Ut.div=Ut.divide,Ut.modulo=function(t){return pt(t)||(t=Rt(t)),yt?Tt((this.unsigned?yt.rem_u:yt.rem_s)(this.low,this.high,t.low,t.high),yt.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},Ut.mod=Ut.modulo,Ut.rem=Ut.modulo,Ut.not=function(){return Tt(~this.low,~this.high,this.unsigned)},Ut.and=function(t){return pt(t)||(t=Rt(t)),Tt(this.low&t.low,this.high&t.high,this.unsigned)},Ut.or=function(t){return pt(t)||(t=Rt(t)),Tt(this.low|t.low,this.high|t.high,this.unsigned)},Ut.xor=function(t){return pt(t)||(t=Rt(t)),Tt(this.low^t.low,this.high^t.high,this.unsigned)},Ut.shiftLeft=function(t){return pt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Tt(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):Tt(0,this.low<<t-32,this.unsigned)},Ut.shl=Ut.shiftLeft,Ut.shiftRight=function(t){return pt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Tt(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):Tt(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},Ut.shr=Ut.shiftRight,Ut.shiftRightUnsigned=function(t){if(pt(t)&&(t=t.toInt()),0===(t&=63))return this;var n=this.high;return t<32?Tt(this.low>>>t|n<<32-t,n>>>t,this.unsigned):Tt(32===t?n:n>>>t-32,0,this.unsigned)},Ut.shru=Ut.shiftRightUnsigned,Ut.shr_u=Ut.shiftRightUnsigned,Ut.toSigned=function(){return this.unsigned?Tt(this.low,this.high,!1):this},Ut.toUnsigned=function(){return this.unsigned?this:Tt(this.low,this.high,!0)},Ut.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},Ut.toBytesLE=function(){var t=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},Ut.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]},gt.fromBytes=function(t,n,r){return r?gt.fromBytesLE(t,n):gt.fromBytesBE(t,n)},gt.fromBytesLE=function(t,n){return new gt(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},gt.fromBytesBE=function(t,n){return new gt(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};var qt=wt,Vt=l.pow(2,-52);function jt(t,n,r){return l.min(l.max(t,n),r)}function Ht(t,n,r){return t===n||l.abs(t-n)<=r}function Wt(t,n){for(var r=t,i=n;0!==i;){var e=r%i;r=i,i=e}return r<0?-r:r}function $t(){return Date.now()||(new Date).getTime()}function zt(t){return t/1e3}var Xt;qt.fromNumber(9007199254740991);function Gt(t,n){t.prototype=d.create(n.prototype),t.prototype.constructor=t,t.__proto__=n}function Yt(t){return t.Xe===Xt.Ge}function Kt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}!function(t){t[t.Ge=1]="Ge",t[t.Ye=2]="Ye",t[t.Ke=3]="Ke",t[t.Je=4]="Je",t[t.Qe=9]="Qe"}(Xt||(Xt={}));var Jt=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];h.apply(this,n)};(Jt.prototype=d.create(h.prototype)).constructor=Jt;var Qt=function(t){function n(n,r){var i;return(i=t.call(this)||this).message=n||"Unknown error",i.cause=r,h.captureStackTrace&&h.captureStackTrace(Kt(i),i.constructor),i}return Gt(n,t),P(n,[{key:"name",get:function(){return"BaseError"}}]),n}(Jt),Zt=function(t){function n(n){return t.call(this,"Invalid XML",n)||this}return Gt(n,t),n}(Qt),tn=function(){function t(){}return t.prototype.Ze=function(t){var n,r=new DOMParser;try{n=r.parseFromString(t,"text/xml")}catch(t){throw new Zt(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new Zt;return new cn(n)},t}(),nn=function(){function t(t){this.tu=t}var n=t.prototype;return n.nu=function(t){return this.tu.isEqualNode(t.tu)},n.ru=function(n){return new t(this.tu.cloneNode(n))},P(t,[{key:"Xe",get:function(){return Xt.Ye}},{key:"iu",get:function(){var t;return null!==(t=this.tu.localName)&&void 0!==t?t:hn(this.tu.nodeName)}},{key:"eu",get:function(){return this.tu.nodeName}},{key:"uu",get:function(){var t;return null!==(t=this.tu.namespaceURI)&&void 0!==t?t:void 0}},{key:"su",get:function(){var t;return null!==(t=this.tu.prefix)&&void 0!==t?t:void 0}},{key:"ou",get:function(){return this.tu.nodeValue}}]),t}(),rn=function(){function t(t){this.cu=void 0,this.au=t}var n=t.prototype;return n.fu=function(t){return this.hu.filter(function(n){return an(n)&&n.vu===t})},n.du=function(t,n){return this.hu.filter(function(r){return an(r)&&r.iu===n&&r.uu===t})},n.lu=function(t){this.au.appendChild(t.wu),this.cu&&this.cu.push(t)},n.nu=function(t){return this.au.isEqualNode(t.wu)},P(t,[{key:"hu",get:function(){return void 0===this.cu&&(this.cu=function(t){for(var n=[],r=0;r<t.length;r++){var i=fn(t.item(r));i&&n.push(i)}return n}(this.au.childNodes)),this.cu}},{key:"yu",get:function(){return this.hu.filter(an)}},{key:"wu",get:function(){return this.au}}]),t}(),en=function(t){function n(n){return t.call(this,n)||this}Gt(n,t);var r=n.prototype;return r.gu=function(t){var n;return null!==(n=this.au.getAttribute(t))&&void 0!==n?n:void 0},r.pu=function(t,n){var r;return null!==(r=this.au.getAttributeNS(t,n))&&void 0!==r?r:void 0},r._u=function(t){this.au.removeAttribute(t)},r.mu=function(t,n){this.au.removeAttributeNS(t,n)},r.ku=function(t,n){this.au.setAttribute(t,n)},r.bu=function(t,n,r){this.au.setAttributeNS(t,n,r)},r.ru=function(t){return new n(this.au.cloneNode(t))},P(n,[{key:"Xe",get:function(){return Xt.Ge}},{key:"iu",get:function(){var t;return null!==(t=this.au.localName)&&void 0!==t?t:hn(this.au.nodeName)}},{key:"uu",get:function(){var t;return null!==(t=this.au.namespaceURI)&&void 0!==t?t:void 0}},{key:"su",get:function(){var t;return null!==(t=this.au.prefix)&&void 0!==t?t:void 0}},{key:"vu",get:function(){return this.au.nodeName}},{key:"Tu",get:function(){return function(t){for(var n=[],r=0;r<t.length;r++)n.push(new nn(t.item(r)));return n}(this.au.attributes)}},{key:"Eu",get:function(){return this.au.textContent}}]),n}(rn),un=function(){function t(t){this.au=t}return t.prototype.nu=function(t){return this.Su===t.Su},P(t,[{key:"Su",get:function(){return this.au.nodeValue}},{key:"wu",get:function(){return this.au}}]),t}(),sn=function(t){function n(n){return t.call(this,n)||this}return Gt(n,t),n.prototype.ru=function(t){return new n(this.au.cloneNode(t))},P(n,[{key:"Xe",get:function(){return Xt.Ke}}]),n}(un),on=function(t){function n(n){return t.call(this,n)||this}return Gt(n,t),n.prototype.ru=function(t){return new n(this.au.cloneNode(t))},P(n,[{key:"Xe",get:function(){return Xt.Je}}]),n}(un),cn=function(t){function n(n){return t.call(this,n)||this}return Gt(n,t),n.prototype.ru=function(t){return new n(this.au.cloneNode(t))},P(n,[{key:"Xe",get:function(){return Xt.Qe}},{key:"Ru",get:function(){return new en(this.au.documentElement)}}]),n}(rn);function an(t){return Yt(t)}function fn(t){switch(t.nodeType){case Xt.Ge:return new en(t);case Xt.Ke:return new sn(t);case Xt.Je:return new on(t)}}function hn(t){var n=t.indexOf(":");return n<0?t:t.substr(n+1)}var vn=k(function(t){!function(t){var n,r=d.prototype,i=r.hasOwnProperty,e="function"==typeof Symbol?Symbol:{},u=e.iterator||"@@iterator",s=e.asyncIterator||"@@asyncIterator",o=e.toStringTag||"@@toStringTag";function c(t,n,r,i){var e=n&&n.prototype instanceof _?n:_,u=d.create(e.prototype),s=new A(i||[]);return u.Iu=function(t,n,r){var i=f;return function(e,u){if(i===w)throw new h("Generator is already running");if(i===y){if("throw"===e)throw u;return x()}for(r.method=e,r.arg=u;;){var s=r.delegate;if(s){var o=D(s,r);if(o){if(o===p)continue;return o}}if("next"===r.method)r.sent=r.Du=r.arg;else if("throw"===r.method){if(i===f)throw i=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=w;var c=a(t,n,r);if("normal"===c.type){if(i=r.done?y:l,c.arg===p)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=y,r.method="throw",r.arg=c.arg)}}}(t,r,s),u}function a(t,n,r){try{return{type:"normal",arg:t.call(n,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var f="suspendedStart",l="suspendedYield",w="executing",y="completed",p={};function _(){}function m(){}function k(){}var b={};b[u]=function(){return this};var T=d.getPrototypeOf,E=T&&T(T(O([])));E&&E!==r&&i.call(E,u)&&(b=E);var S=k.prototype=_.prototype=d.create(b);function R(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this.Iu(n,t)}})}function I(t){var n;this.Iu=function(r,e){function u(){return new Promise(function(n,u){!function n(r,e,u,s){var o=a(t[r],t,e);if("throw"!==o.type){var c=o.arg,f=c.value;return f&&"object"==typeof f&&i.call(f,"Cu")?Promise.resolve(f.Cu).then(function(t){n("next",t,u,s)},function(t){n("throw",t,u,s)}):Promise.resolve(f).then(function(t){c.value=t,u(c)},function(t){return n("throw",t,u,s)})}s(o.arg)}(r,e,n,u)})}return n=n?n.then(u,u):u()}}function D(t,r){var i=t.iterator[r.method];if(i===n){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=n,D(t,r),"throw"===r.method))return p;r.method="throw",r.arg=new v("The iterator does not provide a 'throw' method")}return p}var e=a(i,t.iterator,r.arg);if("throw"===e.type)return r.method="throw",r.arg=e.arg,r.delegate=null,p;var u=e.arg;return u?u.done?(r[t.resultName]=u.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=n),r.delegate=null,p):u:(r.method="throw",r.arg=new v("iterator result is not an object"),r.delegate=null,p)}function C(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function N(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function O(t){if(t){var r=t[u];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!g(t.length)){var e=-1,s=function r(){for(;++e<t.length;)if(i.call(t,e))return r.value=t[e],r.done=!1,r;return r.value=n,r.done=!0,r};return s.next=s}}return{next:x}}function x(){return{value:n,done:!0}}m.prototype=S.constructor=k,k.constructor=m,k[o]=m.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===m||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return d.setPrototypeOf?d.setPrototypeOf(t,k):(t.__proto__=k,o in t||(t[o]="GeneratorFunction")),t.prototype=d.create(S),t},t.awrap=function(t){return{Cu:t}},R(I.prototype),I.prototype[s]=function(){return this},t.AsyncIterator=I,t.async=function(n,r,i,e){var u=new I(c(n,r,i,e));return t.isGeneratorFunction(r)?u:u.next().then(function(t){return t.done?t.value:u.next()})},R(S),S[o]="Generator",S[u]=function(){return this},S.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var r in t)n.push(r);return n.reverse(),function r(){for(;n.length;){var i=n.pop();if(i in t)return r.value=i,r.done=!1,r}return r.done=!0,r}},t.values=O,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this.Du=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(N),!t)for(var r in this)"t"===r.charAt(0)&&i.call(this,r)&&!g(+r.slice(1))&&(this[r]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function e(i,e){return o.type="throw",o.arg=t,r.next=i,e&&(r.method="next",r.arg=n),!!e}for(var u=this.tryEntries.length-1;u>=0;--u){var s=this.tryEntries[u],o=s.completion;if("root"===s.tryLoc)return e("end");if(s.tryLoc<=this.prev){var c=i.call(s,"catchLoc"),a=i.call(s,"finallyLoc");if(c&&a){if(this.prev<s.catchLoc)return e(s.catchLoc,!0);if(this.prev<s.finallyLoc)return e(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return e(s.catchLoc,!0)}else{if(!a)throw new h("try statement without catch or finally");if(this.prev<s.finallyLoc)return e(s.finallyLoc)}}}},abrupt:function(t,n){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc<=this.prev&&i.call(e,"finallyLoc")&&this.prev<e.finallyLoc){var u=e;break}}u&&("break"===t||"continue"===t)&&u.tryLoc<=n&&n<=u.finallyLoc&&(u=null);var s=u?u.completion:{};return s.type=t,s.arg=n,u?(this.method="next",this.next=u.finallyLoc,p):this.complete(s)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),p},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),p}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var i=r.completion;if("throw"===i.type){var e=i.arg;N(r)}return e}}throw new h("illegal catch attempt")},delegateYield:function(t,r,i){return this.delegate={iterator:O(t),resultName:r,nextLoc:i},"next"===this.method&&(this.arg=n),p}}}(t.exports)});function dn(){return(dn=d.assign||function(t){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var i in r)d.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t}).apply(this,arguments)}function ln(){var t=d.create(null);return t.Nu=void 0,delete t.Nu,t}function wn(){return new pn}var yn,gn="undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0,pn=gn||(yn=function(){function t(t,n){this.index=0,this.data=t,this.selector=n,this.keys=d.keys(t)}var n=t.prototype;return n.next=function(){var t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}},t}(),function(){function t(){this.data=ln(),this.size=0}var n=t.prototype;return n.get=function(t){return this.data[t]},n.set=function(t,n){return this.has(t)||this.size++,this.data[t]=n,this},n.has=function(t){return t in this.data},n.delete=function(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)},n.clear=function(){this.data=ln(),this.size=0},n.keys=function(){return new yn(this.data,function(t,n){return n})},n.values=function(){return new yn(this.data,function(t,n){return t[n]})},n.entries=function(){return new yn(this.data,function(t,n){return[n,t[n]]})},n.forEach=function(t){for(var n in this.data)t(this.data[n],n)},t}());var _n,mn=gn||(_n=function(){function t(t,n){this.Au=t,this.Ou=n}var n=t.prototype;return n.next=function(){var t=this.Au.next();return t.done?t:{value:this.Ou(t.value),done:!1}},t}(),function(){function t(){this.xu=wn()}var n=t.prototype;return n.get=function(t){return this.xu.get(""+t)},n.set=function(t,n){return this.xu.set(""+t,n),this},n.has=function(t){return this.xu.has(""+t)},n.delete=function(t){return this.xu.delete(""+t)},n.clear=function(){this.xu.clear()},n.keys=function(){return new _n(this.xu.keys(),function(t){return Number(t)})},n.values=function(){return this.xu.values()},n.entries=function(){return new _n(this.xu.entries(),function(t){var n=t[0],r=t[1];return[Number(n),r]})},n.forEach=function(t){this.xu.forEach(function(n,r){t(n,Number(r))})},P(t,[{key:"size",get:function(){return this.xu.size}}]),t}());var kn,bn="cenc",Tn="sinf",En="skd",Sn="urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95",Rn="com.microsoft.playready",In="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",Dn="urn:uuid:"+In,Cn="94ce86fb-07ff-4f43-adb8-93d2fa968ca2",Nn="urn:uuid:"+Cn,An="com.apple.fps.1_0";!function(t){t.Pu="playready",t.Lu="widevine",t.Fu="fairplay",t.Mu="clearkey",t.Bu="aes128"}(kn||(kn={}));var On={Uu:kn.Pu,qu:Rn,Vu:"cenc",ju:"9a04f079-9840-4286-ab92-e65be0885f95",Hu:Sn,Wu:"PlayReady"},xn={Uu:kn.Lu,qu:"com.widevine.alpha",Vu:"cenc",ju:In,Hu:Dn,Wu:"Widevine"},Pn={Uu:kn.Fu,qu:An,Vu:"skd",ju:Cn,Hu:Nn,Wu:"FairPlay"},Ln=(kn.Fu,{Uu:kn.Mu,qu:"org.w3.clearkey",Vu:"cenc",ju:"1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",Hu:"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",Wu:"ClearKey"});function Fn(t,n,r){return t.split(n).join(r)}function Mn(t,n){return null!=t&&-1!==t.indexOf(n)}function Bn(t,n){return null!=t&&t.substr(0,n.length)===n}function Un(t,n){return null!=t&&t.substr(t.length-n.length,n.length)===n}function qn(t,n){return t.toUpperCase()===n.toUpperCase()}function Vn(t){for(var n=[],r=0;r<t.length;r++){var i=t[r];i>65535&&(i-=65536,n.push(i>>>10&1023|55296),i=56320|1023&i),n.push(i)}return Hn(n)}var jn=16384;function Hn(t){var n=t.length;if(n<=jn)return String.fromCharCode.apply(String,t);for(var r=[],i=0;i<n;i+=jn)r.push(String.fromCharCode.apply(String,t.slice(i,i+jn)));return r.join("")}var Wn=($.Te&&Number($.Ee[1]))>=42||$.xe&&$.Pe>=38||$.Ce||$.Ae||$.Me&&$.Be>=29;function $n(t,n){return Mn(t,"audio")?{initDataTypes:["cenc"],audioCapabilities:[dn({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[dn({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}}var zn=function(){function t(t){this.$u=wn(),this.zu=void 0,this.Xu=t}var n=t.prototype;return n.Gu=function(){return this.Yu(xn)},n.Ku=function(){return this.Yu(Ln)},n.Ju=function(){return this.Yu(On)},n.Qu=function(){return this.Yu(Pn)},n.Yu=function(t){var n=t.Hu,r=this.$u.get(n);if(r)return r;var i=this.Zu(t,'video/mp4; codecs="avc1.42000a"');return this.$u.set(n,i),i},n.Zu=function(){var t=D.coroutine(vn.mark(function t(n,r){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.Xu.ts(n.qu,[$n(r,!0)]);case 3:return t.abrupt("return",!0);case 6:return t.prev=6,t.t0=t.catch(0),t.prev=8,t.next=11,this.Xu.ts(n.qu,[$n(r,!1)]);case 11:return t.abrupt("return",!0);case 14:return t.prev=14,t.t1=t.catch(8),t.abrupt("return",!1);case 17:case"end":return t.stop()}},t,this,[[0,6],[8,14]])}));return function(n,r){return t.apply(this,arguments)}}(),n.rs=function(){return this.zu||(this.zu=this.es()),this.zu},n.es=function(){var t=D.coroutine(vn.mark(function t(){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("https:"!==R.protocol){t.next=2;break}return t.abrupt("return",!1);case 2:if(Wn){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,this.Ku();case 6:if(!t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:return t.abrupt("return",!0);case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),t}();function Xn(t,n){var r=function(t,n){var r=t,i=r.length;if(i<=1)return r;for(var e=new Array(i),u=1;u<i;u*=2){Gn(r,n,u,e);var s=r;r=e,e=s}return r}(t,n);return r!==t&&Gn(r,void 0,t.length,t),t}function Gn(t,n,r,i){var e,u,s,o,c,a=t.length,f=0,h=2*r;for(u=0;u<a;u+=h)for(e=(s=u+r)+r,s>a&&(s=a),e>a&&(e=a),o=u,c=s;;)if(o<s&&c<e)n&&n(t[o],t[c])<=0?i[f++]=t[o++]:i[f++]=t[c++];else if(o<s)i[f++]=t[o++];else{if(!(c<e))break;i[f++]=t[c++]}}function Yn(t,n,r){var i=function(t,n,r){for(var i=0;i<t.length;i+=1){var e=t[i];if(n.call(r,e,i,t))return i}return-1}(t,n,r);return-1===i?void 0:t[i]}function Kn(t,n){var r=t.indexOf(n);return-1!==r&&(Jn(t,r),!0)}function Jn(t,n){t.splice(n,1)}function Qn(t,n){return-1!==t.indexOf(n)}function Zn(t){t.length=0}var tr=function(){function t(){this.us=!1,this.ss=!1,this.os=[],this.cs=[]}var n=t.prototype;return n.as=function(){if(!this.us&&!this.ss){this.us=!0;for(var t=0,n=this.os.slice();t<n.length;t++){(0,n[t])()}this.fs()}},n.fs=function(){if(!this.ss){this.ss=!0;for(var t=0,n=this.cs.slice();t<n.length;t++){(0,n[t])()}Zn(this.os),Zn(this.cs)}},n.hs=function(t){this.ss||this.os.push(t)},n.vs=function(t){this.ss||Kn(this.os,t)},n.ds=function(t){this.ss||this.cs.push(t)},n.ls=function(t){this.ss||Kn(this.cs,t)},t}(),nr=function(){function t(){this.ys=new tr}var n=t.prototype;return n.gs=function(){this.ys.as()},n.fs=function(){this.ys.fs()},n.ps=function(t){var n=this.ys;if(!n.us)if(t.us)n.as();else if(!n.ss&&!t.ss){var r=function(){i(),n.as()},i=function i(){t.vs(r),t.ls(i),n.vs(r),n.ls(i)};t.hs(r),t.ds(i),n.hs(r),n.ds(i)}},n._s=function(){var n=new t,r=new t,i=n.ks,e=r.ks,u=this.ys,s=function(){i.us&&e.ss||e.us&&i.ss?u.as():i.ss&&e.ss&&u.fs()};i.hs(s),e.hs(s),i.ds(s),e.ds(s),n.ps(u),r.ps(u);return u.ds(function(){i.vs(s),e.vs(s),i.ls(s),e.ls(s)}),[n,r]},P(t,[{key:"ks",get:function(){return this.ys}}]),t}(),rr=function(t){function n(n,r){return t.call(this,n||"Aborted",r)||this}return Gt(n,t),P(n,[{key:"name",get:function(){return"AbortError"}}]),n}(Qt);function ir(t){return t instanceof h&&"AbortError"===t.name}function er(t){if(t&&t.us)throw new rr}function ur(t){if(ir(t))throw t}function sr(t){if(!ir(t))throw t}function or(t,n){return n?new D(function(r,i){if(n.us)return t.catch(it),i(new rr);var e=function t(){n.vs(t),i(new rr)};n.hs(e),t.then(function(t){n.vs(e),r(t)},function(t){n.vs(e),i(t)})}):t}function cr(t,n){return t.then(function(t){return n.fs(),t},function(t){throw n.fs(),t})}var ar=D.resolve();function fr(t){ar.then(t)}function hr(t){t.then(it,it)}function vr(t){return dr.apply(this,arguments)}function dr(){return(dr=D.coroutine(vn.mark(function t(n){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,D.all(n);case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),t.next=10,D.all(n.map(function(t){return t.catch(it)}));case 10:throw t.t0;case 11:case"end":return t.stop()}},t,null,[[0,6]])}))).apply(this,arguments)}function lr(t){return t&&"function"!=typeof t?t.slice():t}function wr(t,n,r){if(r)if("function"==typeof r)r.call(t,n);else for(var i=0;i<r.length;i++){r[i].call(t,n)}}var yr,gr=function(){function t(t){var n=this;this.bs=ln(),this.Ts=function(t){n.Es(t)},this.Ss=t||this}var n=t.prototype;return n.Rs=function(t,n){if("function"==typeof n)if("string"==typeof t)this.Is(t,n);else for(var r=0;r<t.length;r++){var i=t[r];this.Is(i,n)}},n.Is=function(t,n){var r=this.bs[t];r?"function"==typeof r?this.bs[t]=[r,n]:r.push(n):this.bs[t]=n},n.Ds=function(){this.bs=ln()},n.Es=function(t){var n=lr(this.bs[t.type]);wr(this.Ss,t,n)},n.Cs=function(t,n){if("function"==typeof n)if("string"==typeof t)this.Ns(t,n);else for(var r=0;r<t.length;r++){var i=t[r];this.Ns(i,n)}},n.Ns=function(t,n){var r=this.bs[t];r&&("function"==typeof r?r===n&&(this.bs[t]=void 0):Kn(r,n))},n.As=function(t){if("string"==typeof t)this.bs[t]=void 0;else for(var n=0;n<t.length;n++){var r=t[n];this.bs[r]=void 0}},n.Os=function(t,n){var r=this;return new D(function(i,e){if(n&&n.us)return e(new rr);var u=function(t){o(),i(t)},s=function(){o(),e(new rr)},o=function(){r.Cs(t,u),n&&n.vs(s)};r.Rs(t,u),n&&n.hs(s)})},t}(),pr=function(t){function n(){return t.apply(this,arguments)||this}return Gt(n,t),n.prototype.Es=function(n){var r=this;fr(function(){t.prototype.Es.call(r,n)})},n}(gr),_r=function(t,n){void 0===n&&(n=new Date),this.type=t,this.date=n},mr=function(t){function n(n){var r;return(r=t.call(this,"Ps")||this).xs=n,r}return Gt(n,t),n}(_r),kr=function(t){function n(n,r,i,e){var u;return(u=t.call(this,"Ls")||this).xs=n,u.Fs=r,u.Ls=i,u.Ms=e,u}return Gt(n,t),n}(_r),br=function(t){function n(){return t.call(this,"Bs")||this}return Gt(n,t),n}(_r);!function(t){t.Us="qs",t.Vs="js"}(yr||(yr={}));var Tr=function(t){function n(n,r){var i;return(i=t.call(this,yr.Us)||this).Vu=n,i.Hs=r,i}return Gt(n,t),n}(_r),Er=new p([0]).buffer,Sr=function(){function t(){this.Ws=[]}var n=t.prototype;return n.$s=function(t){for(var n=0,r=this.Ws;n<r.length;n++){if(r[n][0]===t)return!0}return!1},n.zs=function(t){for(var n=0,r=this.Ws;n<r.length;n++){var i=r[n];if(i[0]===t)return i[1]}},n.Xs=function(t,n){this.Ws.forEach(function(n){return t(n[1],n[0])},n)},n.Gs=function(t,n){this.Ws.push([t,n])},n.Ys=function(){Zn(this.Ws)},P(t,[{key:"Ks",get:function(){return this.Ws.length}}]),t}(),Rr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),Ir=16383,Dr=/[\t\n\f\r ]/g;function Cr(t){return 43===t?62:47===t?63:t>=48&&t<=57?t-48+52:t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:Nr()}function Nr(){throw new h("Invalid base64 input")}function Ar(t){var n=t;Dr.test(n)&&(n=n.replace(Dr,""));var r=n.length;r%4==0&&r>=1&&"="===n[r-1]&&(r>=2&&"="===n[r-2]?r-=2:r-=1,n=n.substr(0,r));var i=r%4;if(1===i)return Nr();for(var e,u=0===i?0:4-i,s=new p(function(t,n){return 3*(t+n)/4-n}(r,u)),o=u>0?r-4:r,c=0,a=0;c<o;c+=4)e=Cr(n.charCodeAt(c))<<18|Cr(n.charCodeAt(c+1))<<12|Cr(n.charCodeAt(c+2))<<6|Cr(n.charCodeAt(c+3)),s[a++]=e>>16&255,s[a++]=e>>8&255,s[a++]=255&e;return 2===u?(e=Cr(n.charCodeAt(c))<<2|Cr(n.charCodeAt(c+1))>>4,s[a++]=255&e):1===u&&(e=Cr(n.charCodeAt(c))<<10|Cr(n.charCodeAt(c+1))<<4|Cr(n.charCodeAt(c+2))>>2,s[a++]=e>>8&255,s[a++]=255&e),s}function Or(t,n,r){for(var i,e,u,s=[],o=n;o<r;o+=3)s.push((i=t[o],e=t[o+1],u=t[o+2],Rr[i>>2]+Rr[(3&i)<<4|e>>4]+Rr[(15&e)<<2|u>>6]+Rr[63&u]));return s.join("")}function xr(t){for(var n=t.length,r=n%3,i=[],e=n-r,u=0;u<e;u+=Ir)i.push(Or(t,u,l.min(e,u+Ir)));if(1===r){var s=t[n-1];i.push(Rr[s>>2]+Rr[(3&s)<<4]+"==")}else if(2===r){var o=t[n-2],c=t[n-1];i.push(Rr[o>>2]+Rr[(3&o)<<4|c>>4]+Rr[(15&c)<<2]+"=")}return i.join("")}var Pr=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],Lr=ArrayBuffer.isView||function(t){return t&&Qn(Pr,X.call(t))};function Fr(t,n){return t===n||t.byteLength===n.byteLength&&function(t,n){if(t===n)return!0;if(t.byteLength!==n.byteLength)return!1;for(var r=0;r<t.length;r+=1)if(t[r]!==n[r])return!1;return!0}(new p(t),new p(n))}function Mr(t){var n=t.reduce(function(t,n){return t+n.byteLength},0);return function(t,n){for(var r=new p(n),i=0,e=0;e<t.length;e++){var u=t[e];r.set(u,i),i+=u.byteLength}return r}(t,n)}function Br(t){return Ar(t).buffer}function Ur(t){return xr(new p(t))}function qr(t){return xr(vi(t))}var Vr=function(){function t(t){void 0===t&&(t=0),this.Js=t}var n=t.prototype;return n.Qs=function(t){this.Js+=t},n.Zs=function(t){this.Js=t},n.to=function(){return new t(this.ro)},P(t,[{key:"ro",get:function(){return this.Js}}]),t}();function jr(t){if(t>=55296&&t<=57343)throw new h("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function Hr(t,n){return t>>n&63|128}function Wr(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(jr(t),n.push(t>>12&15|224),n.push(Hr(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(Hr(t,12)),n.push(Hr(t,6))),n.push(63&t|128)):n.push(t)}function $r(t,n){if(n.ro>=t.length)throw new h("Invalid byte index");var r=255&t[n.ro];if(n.Qs(1),128==(192&r))return 63&r;throw new h("Invalid continuation byte")}function zr(t,n){var r=n.ro;if(r>t.length)throw new h("Invalid byte index");if(r===t.length)return!1;var i=255&t[r];if(n.Qs(1),0==(128&i))return i;if(192==(224&i)){var e=(31&i)<<6|$r(t,n);if(e>=128)return e;throw new h("Invalid continuation byte")}if(224==(240&i)){var u=(15&i)<<12|$r(t,n)<<6|$r(t,n);if(u>=2048)return jr(u),u;throw new h("Invalid continuation byte")}if(240==(248&i)){var s=(7&i)<<18|$r(t,n)<<12|$r(t,n)<<6|$r(t,n);if(s>=65536&&s<=1114111)return s}throw new h("Invalid UTF-8 detected")}var Xr=65279;var Gr=function(){function t(t){this.io=t}return t.prototype.eo=function(t){return function(t,n){return(t&n)===n}(this.io,t)},t}();function Yr(t,n){var r=t.getUint8(n.ro);return n.Qs(1),r}function Kr(t,n,r){t.setUint8(n.ro,r),n.Qs(1)}function Jr(t,n,r){var i=pi(mi(t),n.ro,n.ro+r);return n.Qs(i.byteLength),i}function Qr(t,n,r){return n.ro+r<=t.byteLength}function Zr(t,n,r){void 0===r&&(r=!1);var i=t.getUint16(n.ro,r);return n.Qs(2),i}function ti(t,n,r,i){void 0===i&&(i=!1),t.setUint16(n.ro,r,i),n.Qs(2)}function ni(t,n,r){void 0===r&&(r=!1);var i=t.getUint32(n.ro,r);return n.Qs(4),i}function ri(t,n,r,i){void 0===i&&(i=!1),t.setUint32(n.ro,r,i),n.Qs(4)}function ii(t,n,r){void 0===r&&(r=!1);var i=ni(t,n,r),e=ni(t,n,r),u=r?e:i,s=r?i:e;return qt.fromBits(s,u,!0)}function ei(t,n){var r=Yr(t,n);if(r)return String.fromCharCode(r)}function ui(t,n){return function(t,n){return ci(t,n,!0)}(t,n)}function si(t,n,r){for(var i="",e=0;e<r;e++)i+=ei(t,n);return i}function oi(t,n){var r,i=Yr(t,n);return 0==(128&i)?r=i:192==(224&i)?r=64*(31&i)+(63&Yr(t,n)):224==(240&i)?r=4096*(15&i)+64*(63&Yr(t,n))+(63&Yr(t,n)):240==(248&i)&&(r=262144*(7&i)+4096*(63&Yr(t,n))+64*(63&Yr(t,n))+(63&Yr(t,n))),r}function ci(t,n,r){for(var i=[];n.ro<t.byteLength;){var e=Yr(t,n);if(r&&!e)break;i.push(e)}return Hn(i)}function ai(t,n,r,i){for(var e=[];n.ro+2<=t.byteLength;){var u=Zr(t,n,r);if(i&&!u)break;e.push(u)}return Hn(e)}function fi(t,n,r,i){void 0===i&&(i=!1);for(var e=r.length,u=0;u<e;u+=1){ti(t,n,r.charCodeAt(u),i)}}function hi(t){return ci(_i(t),new Ei,!1)}function vi(t){var n=new p(t.length);return function(t,n,r){for(var i=r.length,e=0;e<i;e+=1)Kr(t,n,r.charCodeAt(e))}(_i(n),new Ei,t),n}function di(t,n){return void 0===n&&(n=!1),ai(_i(t),new Ei,n,!1)}function li(t,n){void 0===n&&(n=!1);var r=new p(2*t.length);return fi(_i(r),new Ei,t,n),r}function wi(t,n){return function(t,n,r){var i=[];(function(t,n){return n.ro+3<=t.byteLength&&239===t.getUint8(n.ro)&&187===t.getUint8(n.ro+1)&&191===t.getUint8(n.ro+2)})(t,n)&&n.Qs(3);for(;n.ro<t.byteLength;){var e=oi(t,n);if(void 0===e)break;if(r&&0===e)break;i.push(e)}return Vn(i)}(t,n,!0)}function yi(t){return Vn(function(t,n){var r,i=[],e=new Ei;if(!n){if(!1===(r=zr(t,e)))return i;r===Xr||i.push(r)}for(;!1!==(r=zr(t,e));)i.push(r);return i}(mi(t)))}function gi(t){return new p(function(t){for(var n=[],r=0;r<t.length;r++)Wr(t[r],n);return n}(function(t){for(var n=[],r=0,i=t.length;r<i;){var e=t.charCodeAt(r++);if(e>=55296&&e<=56319&&r<i){var u=t.charCodeAt(r++);56320==(64512&u)?n.push(((1023&e)<<10)+(1023&u)+65536):(n.push(e),r--)}else n.push(e)}return n}(t)))}function pi(t,n,r){return void 0===n&&(n=0),void 0===r&&(r=t.byteLength),new p(t.buffer,t.byteOffset+n,r-n)}function _i(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function mi(t){return new p(t.buffer,t.byteOffset,t.byteLength)}function ki(t){return t instanceof ArrayBuffer||Lr(t)}function bi(t){return t instanceof ArrayBuffer?new p(t):mi(t)}function Ti(t){if(t.slice)return t.slice(0);var n=new p(t.byteLength);return n.set(t,0),n}var Ei=function(){function t(t){void 0===t&&(t=0),this.Js=t}var n=t.prototype;return n.Qs=function(t){this.Js+=t},n.Zs=function(t){this.Js=t},n.to=function(){return new t(this.ro)},n.uo=function(){return new Vr(this.ro<<3)},P(t,[{key:"ro",get:function(){return this.Js}}]),t}(),Si=function(){function t(){var t=this;this.so=new D(function(n,r){t.Fn=n,t.V=r})}var n=t.prototype;return n.oo=function(t){this.Fn&&(this.Fn(t),this.fs())},n.co=function(t){this.V&&(this.V(t),this.fs())},n.gs=function(){this.so.catch(it),this.co(new rr)},n.fs=function(){this.Fn=void 0,this.V=void 0},t}();function Ri(){return new p([8,4]).buffer}function Ii(t){return Fr(t,Ri())}function Di(t,n){return t===Rn?function(t){if(t.byteLength<2*Ci.length)return t;if(di(new DataView(t,0,2*Ci.length),!0)===Ci)return t;return n=t,li('<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">'+Ur(n)+'</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>',!0).buffer;var n}(n):n}var Ci="<PlayReady";var Ni=function(t){function n(n,r,i,e){var u;return(u=t.call(this,n,e)||this).ao=r,u.fo=i,u}return Gt(n,t),n}(Qt),Ai=function(t){function n(n,r){var i;(i=t.call(this)||this).ho=n,i.vo=r,i.do=!1,i.lo=function(){i.wo()},i.yo=function(t){i.Es(new kr(Kt(i),t.messageType,Di(i.vo,t.message)))},i.po=function(){i.do=!0,i._o.Ks>0&&(i._o.Ys(),i.Es(new mr(Kt(i)))),i.ho.removeEventListener("keystatuseschange",i.lo),i.ho.removeEventListener("message",i.yo)},i.ho.addEventListener("keystatuseschange",i.lo),i.ho.addEventListener("message",i.yo),i._o=new Sr;var e=[];return i.ho.closed&&e.push(D.resolve(i.ho.closed)),i.mo=new Si,e.push(i.mo.so),i.ko=D.race(e).then(i.po),i.wo(),i}Gt(n,t);var r=n.prototype;return r.bo=function(){if(this.do)return this.ko;var t,n,r=[];return r.push(D.resolve(this.ho.close())),r.push((t=1e3,new D(function(r,i){if(void 0!==n&&n.us)i(new rr);else{var e=N.To(function(){void 0!==n&&n.vs(u),r()},t),u=function(){N.Eo(e),i(new rr)};void 0!==n&&n.hs(u)}}))),this.mo.oo(D.race(r).catch(Oi)),this.do=!0,this.ko},r.So=function(t,n,r){return D.resolve(this.ho.generateRequest(t,n)).catch(Oi)},r.Ro=function(t){return D.resolve(this.ho.load(t)).catch(Oi)},r.Io=function(){return D.resolve(this.ho.remove()).catch(Oi)},r.Do=function(t){return D.resolve(this.ho.update(t)).catch(Oi)},r.wo=function(){var t=this;this._o.Ys(),this.ho.keyStatuses.forEach(function(n,r){t.Co(r,n)}),this.Es(new mr(this))},r.Co=function(t,n){if("string"==typeof t){var r=t;t=n,n=r}var i=bi(t);if(this.vo===Rn&&16===i.byteLength){var e=_i(i),u=e.getUint32(0,!0),s=e.getUint16(4,!0),o=e.getUint16(6,!0);e.setUint32(0,u,!1),e.setUint16(4,s,!1),e.setUint16(6,o,!1)}this.vo===Rn&&"status-pending"===n&&(n="usable"),this._o.Gs(i,n)},P(n,[{key:"No",get:function(){return this.ko}},{key:"Ao",get:function(){return this.ho.expiration}},{key:"Oo",get:function(){return this._o}},{key:"xo",get:function(){return this.ho.sessionId}}]),n}(gr);function Oi(t){var n;if(t.message){var r=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);r&&(n=0|w(r[1],16))}throw new Ni(t.message,void 0,n,t)}var xi=function(){function t(t,n){this.Po=t,this.vo=n}var n=t.prototype;return n.Lo=function(){var t=D.coroutine(vn.mark(function t(n){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Ai(this.Po.createSession(n),this.vo));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Fo=function(t){return D.resolve(this.Po.setServerCertificate(t))},n.Mo=function(t){return D.resolve(t.setMediaKeys(this.Po))},n.Bo=function(t){return D.resolve(t.setMediaKeys(null))},t}(),Pi=function(){function t(t,n){this.Uo=t,this.vo=n}var n=t.prototype;return n.qo=function(){var t=D.coroutine(vn.mark(function t(){var n;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Uo.createMediaKeys();case 2:return n=t.sent,t.abrupt("return",new xi(n,this.vo));case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.Vo=function(){return this.Uo.getConfiguration()},P(t,[{key:"jo",get:function(){return this.Uo.keySystem}}]),t}(),Li=function(){function t(){}return t.prototype.ts=function(){var t=D.coroutine(vn.mark(function t(n,r){var i;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=r.filter(function(t){return!t.Ho}),t.next=3,s.requestMediaKeySystemAccess(n,r);case 3:return i=t.sent,t.abrupt("return",new Pi(i,n));case 5:case"end":return t.stop()}},t)}));return function(n,r){return t.apply(this,arguments)}}(),t.Wo=function(){return void 0!==s&&"function"==typeof s.requestMediaKeySystemAccess},t}(),Fi=function(t){function n(n,r){var i;return(i=t.call(this)||this).$o=n,i.zo=r,i.do=!1,i.Xo=void 0,i.Go=void 0,i.Yo=void 0,i.po=function(){i.do=!0,i.Ko.oo(void 0),i.Yo&&(i.Yo.removeEventListener("mskeyclose",i.po),i.Yo.removeEventListener("mskeymessage",i.Jo),i.Yo.removeEventListener("mskeyerror",i.Qo),i.Yo.removeEventListener("mskeyadded",i.Zo))},i.Jo=function(t){i.Go&&(i.Go.oo(void 0),i.Go=void 0),i.Es(new kr(Kt(i),"license-request",Ti(t.message).buffer,t.destinationURL||void 0))},i.Qo=function(){var t=i.Yo&&i.Yo.error;if(t){var n=new Ni("Unknown CDM error",t.code,t.systemCode);if(i.Go)i.Go.co(n),i.Go=void 0;else if(i.Xo)i.Xo.co(n),i.Xo=void 0;else switch(n.ao){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:i.tc("output-not-allowed");break;default:i.tc("internal-error")}}},i.Zo=function(){i.Go&&(i.tc("usable"),i.Go.oo(void 0),i.Go=void 0),i.Xo&&(i.tc("usable"),i.Xo.oo(void 0),i.Xo=void 0)},i.Ko=new Si,i.nc=new Sr,i}Gt(n,t);var r=n.prototype;return r.So=function(){var t=D.coroutine(vn.mark(function t(n,r,i){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.rc(),this.Go=new Si,this.Lo(bi(r),i),t.next=5,this.Go.so;case 5:case"end":return t.stop()}},t,this)}));return function(n,r,i){return t.apply(this,arguments)}}(),r.Lo=function(t,n){if(!t)throw new v("Expected initData to be defined but was "+t+".");var r,i=n&&n.playready&&n.playready.ic;return(r=n?this.$o.createSession(this.zo,t,i):this.$o.createSession(this.zo,t)).addEventListener("mskeyclose",this.po),r.addEventListener("mskeymessage",this.Jo),r.addEventListener("mskeyerror",this.Qo),r.addEventListener("mskeyadded",this.Zo),this.Yo=r,this.tc("status-pending"),r},r.Ro=function(){var t=D.coroutine(vn.mark(function t(n){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.rc(),t.abrupt("return",!0);case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.Do=function(){var t=D.coroutine(vn.mark(function t(n){var r;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Xo=new Si,this.rc(),this.Yo){t.next=4;break}return t.abrupt("return",D.resolve());case 4:if(0!==(r=bi(n)).byteLength){t.next=7;break}throw new v("Cannot call update with an empty response.");case 7:return this.Yo.update(r),t.next=10,this.Xo.so;case 10:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.bo=function(){return!this.do&&this.Yo&&(this.do=!0,this.Yo.close()),this.Ko.so},r.Io=function(){var t=D.coroutine(vn.mark(function t(){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.rc(),t.abrupt("return");case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.rc=function(){if(this.do)throw new v("Already closing or closed.")},r.tc=function(t){this.nc.Ys(),this.nc.Gs(Er,t),this.Es(new mr(this))},P(n,[{key:"xo",get:function(){return this.Yo&&this.Yo.sessionId||""}},{key:"Ao",get:function(){return NaN}},{key:"No",get:function(){return this.Ko.so}},{key:"Oo",get:function(){return this.nc}}]),n}(gr),Mi=function(){function t(t,n){this.$o=t,this.zo=n}var n=t.prototype;return n.Lo=function(){var t=D.coroutine(vn.mark(function t(n){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Fi(this.$o,this.zo));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Fo=function(t){return D.resolve(!1)},n.Mo=function(t){var n=this;return t.readyState>=1?t.msSetMediaKeys(this.$o):t.addEventListener("loadedmetadata",function r(){t.msSetMediaKeys(n.$o),t.removeEventListener("loadedmetadata",r)}),D.resolve()},n.Bo=function(t){return D.resolve()},t}();function Bi(t,n,r){var i=!1;if(!(r.persistentState&&"optional"!==r.persistentState||r.distinctiveIdentifier&&"optional"!==r.distinctiveIdentifier)){var e={audioCapabilities:[],videoCapabilities:[],persistentState:r.persistentState||"optional",distinctiveIdentifier:r.distinctiveIdentifier||"optional",initDataTypes:r.initDataTypes,sessionTypes:["temporary"],label:r.label,Ho:r.Ho},u=!1;if(r.audioCapabilities)for(var s=0,o=r.audioCapabilities;s<o.length;s++){var c=o[s];if(c.contentType){u=!0;var a=qi(c.contentType);!c.robustness&&t(n,a)&&(e.audioCapabilities.push(c),i=!0)}}if(r.videoCapabilities)for(var f=0,h=r.videoCapabilities;f<h.length;f++){var v=h[f];if(v.contentType){u=!0;var d=qi(v.contentType);!v.robustness&&t(n,d)&&(e.videoCapabilities.push(v),i=!0)}}return u||(i=t(n,"video/mp4")),i?e:void 0}}function Ui(t){if(t.videoCapabilities)for(var n=0,r=t.videoCapabilities;n<r.length;n++){var i=r[n];if(i.contentType)return i.contentType}if(t.audioCapabilities)for(var e=0,u=t.audioCapabilities;e<u.length;e++){var s=u[e];if(s.contentType)return s.contentType}}function qi(t){return t.split(";")[0]}var Vi=function(){function t(t,n){this.vo=t,this.ec=n;var r=Ui(n)||"video/mp4";this.zo=qi(r)}var n=t.prototype;return n.Vo=function(){return this.ec},n.qo=function(){return D.resolve(new Mi(new S.MSMediaKeys(this.vo),this.zo))},P(t,[{key:"jo",get:function(){return this.vo}}]),t}(),ji=function(){function t(){}return t.prototype.ts=function(t,n){try{return D.resolve(function(t,n){if(!Hi())throw new v("Unsupported key system "+t);for(var r=0;r<n.length;r++){var i=n[r],e=Bi(Wi,t,i);if(e)return new Vi(t,e)}throw new v("Unsupported key system configuration for "+t)}(t,n))}catch(t){return D.reject(t)}},t.Wo=function(){return Hi()},t}();function Hi(){return void 0!==S.MSMediaKeys&&"function"==typeof S.MSMediaKeys.isTypeSupported}function Wi(t,n){return S.MSMediaKeys.isTypeSupported(t,n)}var $i,zi,Xi=function(t){function n(n,r,i){var e;return(e=t.call(this)||this).uc=n,e.zo=r,e.sc=i,e.Ko=new Si,e.oc=void 0,e.nc=new Sr,e.cc=void 0,e.ac=new Si,e.Qo=function(){var t=e.cc&&e.cc.error;if(t){var n=new Ni("Unknown CDM error",t.code,t.systemCode);e.oc?(e.oc.co(n),e.oc=void 0):n.ao===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?e.tc("output-not-allowed"):e.tc("internal-error"),e.Es(new br)}},e.Jo=function(t){e.oc&&(e.oc.oo(void 0),e.oc=void 0),e.Es(new kr(Kt(e),"license-request",Ti(t.message).buffer,t.destinationURL||void 0))},e}Gt(n,t);var r=n.prototype;return r.So=function(t,n,r){var i=r&&r.fairplay&&r.fairplay.fc;if(!i)throw new v("Expected FairPlay contentId to be defined but was "+i+".");var e=Gi(bi(n),i,this.sc);return this.cc=this.uc.createSession(this.zo,e),this.cc.addEventListener("webkitkeymessage",this.Jo,!1),this.cc.addEventListener("webkitkeyerror",this.Qo,!1),this.tc("usable"),this.ac.oo(this.cc),this.ac=new Si,D.resolve()},r.Ro=function(t){return D.resolve(!0)},r.Do=function(){var t=D.coroutine(vn.mark(function t(n){var r;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(r=bi(n)).byteLength){t.next=3;break}throw new v("Cannot call update with an empty response.");case 3:if(this.oc=new Si,t.t0=this.cc,t.t0){t.next=9;break}return t.next=8,this.ac.so;case 8:t.t0=t.sent;case 9:return t.t0.update(r),t.next=13,this.oc.so;case 13:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.bo=function(){var t=this.cc;return t&&(t.removeEventListener("webkitkeymessage",this.Jo,!1),t.removeEventListener("webkitkeyerror",this.Qo,!1),t.close()),this.ac.gs(),this.Ko.oo(void 0),this.Ko.so},r.Io=function(){return D.resolve(void 0)},r.tc=function(t){this.nc.Ys(),this.nc.Gs(Er,t),this.Es(new mr(this))},P(n,[{key:"xo",get:function(){return this.cc?this.cc.sessionId:""}},{key:"Ao",get:function(){return NaN}},{key:"No",get:function(){return this.Ko.so}},{key:"Oo",get:function(){return this.nc}}]),n}(gr);function Gi(t,n,r){var i=yi(t),e=2*i.length,u=2*n.length,s=new ArrayBuffer(4+e+4+u+4+r.byteLength),o=new DataView(s),c=new Ei;return ri(o,c,e,!0),fi(o,c,i,!0),ri(o,c,u,!0),fi(o,c,n,!0),ri(o,c,r.byteLength,!0),function(t,n,r){mi(t).set(mi(r),n.ro),n.Qs(r.byteLength)}(o,c,r),new p(s)}($i=n.ErrorCode||(n.ErrorCode={}))[$i.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",$i[$i.LICENSE_ERROR=2e3]="LICENSE_ERROR",$i[$i.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",$i[$i.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",$i[$i.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",$i[$i.SOURCE_INVALID=3e3]="SOURCE_INVALID",$i[$i.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",$i[$i.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",$i[$i.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",$i[$i.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",$i[$i.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",$i[$i.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",$i[$i.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",$i[$i.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",$i[$i.MEDIA_ABORTED=5004]="MEDIA_ABORTED",$i[$i.NETWORK_ERROR=6e3]="NETWORK_ERROR",$i[$i.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",$i[$i.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",$i[$i.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",$i[$i.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",$i[$i.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",$i[$i.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",$i[$i.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",$i[$i.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",$i[$i.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",$i[$i.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",$i[$i.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",$i[$i.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",$i[$i.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",$i[$i.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",$i[$i.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",$i[$i.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",$i[$i.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",$i[$i.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",$i[$i.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",$i[$i.AD_ERROR=1e4]="AD_ERROR",$i[$i.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",$i[$i.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR",(zi=n.ErrorCategory||(n.ErrorCategory={}))[zi.CONFIGURATION=1]="CONFIGURATION",zi[zi.LICENSE=2]="LICENSE",zi[zi.SOURCE=3]="SOURCE",zi[zi.MANIFEST=4]="MANIFEST",zi[zi.MEDIA=5]="MEDIA",zi[zi.NETWORK=6]="NETWORK",zi[zi.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",zi[zi.SUBTITLE=8]="SUBTITLE",zi[zi.VR=9]="VR",zi[zi.AD=10]="AD",zi[zi.FULLSCREEN=11]="FULLSCREEN",function(t){t.fromCode=function(n){var r=l.floor(n/1e3);if(r in t)return r;throw new v("Invalid error code: "+n)}}(n.ErrorCategory||(n.ErrorCategory={}));var Yi=function(t){function r(n,r,i){var e;return(e=t.call(this,r,i)||this).code=n,e}return Gt(r,t),P(r,[{key:"name",get:function(){return"THEOplayerError"}},{key:"category",get:function(){return n.ErrorCategory.fromCode(this.code)}}]),r}(Qt),Ki=function(){function t(t,n){this.uc=t,this.zo=n,this.sc=void 0}var r=t.prototype;return r.getInternalMediaKeys=function(){return this.uc},r.Lo=function(){var t=D.coroutine(vn.mark(function t(r){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.sc){t.next=2;break}throw new Yi(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return t.abrupt("return",new Xi(this.uc,this.zo,this.sc));case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.Fo=function(t){return this.sc=bi(t),D.resolve(!0)},r.Mo=function(t){return t.webkitSetMediaKeys(this.uc),D.resolve()},r.Bo=function(t){return t.webkitSetMediaKeys(null),D.resolve()},t}(),Ji=function(){function t(t,n){this.vo=t,this.ec=n;var r=Ui(n)||"video/mp4";this.zo=qi(r)}var n=t.prototype;return n.Vo=function(){return this.ec},n.qo=function(){return D.resolve(new Ki(new S.WebKitMediaKeys(this.vo),this.zo))},P(t,[{key:"jo",get:function(){return this.vo}}]),t}(),Qi=function(){function t(){}return t.prototype.ts=function(t,n){try{return D.resolve(function(t,n){if(t!==An)throw new v(t+" is not supported with webkit-prefixed Encrypted Media Extensions.");if(!Zi())throw new v("Unsupported key system "+t);for(var r=0;r<n.length;r++){var i=n[r],e=Bi(te,t,i);if(e)return new Ji(t,e)}throw new v("Unsupported key system configuration for "+t)}(t,n))}catch(t){return D.reject(t)}},t.Wo=function(){return Zi()},t}();function Zi(){return void 0!==S.WebKitMediaKeys&&"function"==typeof S.WebKitMediaKeys.isTypeSupported}function te(t,n){return S.WebKitMediaKeys.isTypeSupported(t,n)}var ne,re=function(){function t(t){this.hc=t}return t.prototype.ts=function(){var t=D.coroutine(vn.mark(function t(n,r){var i,e,u;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0,e=this.hc;case 1:if(!(i<e.length)){t.next=14;break}return u=e[i],t.prev=3,t.next=6,u.ts(n,r);case 6:return t.abrupt("return",t.sent);case 9:t.prev=9,t.t0=t.catch(3);case 11:i++,t.next=1;break;case 14:throw new v("Unsupported key system configuration for "+n);case 15:case"end":return t.stop()}},t,this,[[3,9]])}));return function(n,r){return t.apply(this,arguments)}}(),t}(),ie=function(t){function n(n){var r;return(r=t.call(this)||this).vo=n,r.Go=void 0,r.oc=void 0,r.vc=!1,r.dc=void 0,r.lc=void 0,r.Ko=new Si,r.wc="",r.yc=new Si,r.gc=new Sr,r}Gt(n,t);var r=n.prototype;return r.pc=function(){this.oc&&(this.tc("usable"),this.oc.oo(void 0),this.oc=void 0)},r._c=function(t){var n=new Ni("Unknown CDM error",t.errorCode,t.systemCode);this.oc?(this.oc.co(n),this.oc=void 0):this.Go?(this.Go.co(n),this.Go=void 0):n.ao===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.tc("output-restricted"):1===n.fo?this.tc("expired"):this.tc("internal-error")},r.mc=function(t){0!==t.message.byteLength&&(this.Go&&(this.Go.oo(void 0),this.Go=void 0),this.Es(new kr(this,"license-request",Di(this.vo,Ti(t.message).buffer),t.defaultURL||void 0)))},r.kc=function(t){this.lc||(this.lc=t,this.yc.oo(t))},r.bo=function(){var t=D.coroutine(vn.mark(function t(){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed(),this.vc=!0,this.Ko.oo(void 0);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.So=function(){var t=D.coroutine(vn.mark(function t(n,r){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.Go=new Si,this.dc=bi(r),t.t0=this.lc,t.t0){t.next=8;break}return t.next=7,this.yc.so;case 7:t.t0=t.sent;case 8:return t.t0.webkitGenerateKeyRequest(this.vo,this.dc),t.next=12,this.Go.so;case 12:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),r.Ro=function(){var t=D.coroutine(vn.mark(function t(n){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.throwIfClosed(),t.abrupt("return",!1);case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.Io=function(){var t=D.coroutine(vn.mark(function t(){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed();case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.Do=function(){var t=D.coroutine(vn.mark(function t(n){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.oc=new Si,t.t0=this.lc,t.t0){t.next=7;break}return t.next=6,this.yc.so;case 6:t.t0=t.sent;case 7:return t.t0.webkitAddKey(this.vo,bi(n),this.dc,this.xo),t.next=11,this.oc.so;case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.throwIfClosed=function(){if(this.vc)throw new v("Already closing or closed.")},r.tc=function(t){this.gc.Ys(),this.gc.Gs(Er,t),this.Es(new mr(this))},P(n,[{key:"Oo",get:function(){return this.gc}},{key:"xo",get:function(){return this.wc},set:function(t){this.wc=t}},{key:"No",get:function(){return this.Ko.so}},{key:"Ao",get:function(){return NaN}}]),n}(gr),ee=function(){function t(t){var n=this;this.vo=t,this.lc=void 0,this.bc=wn(),this.Tc=[],this.Zo=function(t){var r=n.Ec(t.sessionId);r&&r.pc()},this.Sc=function(t){var r=n.Ec(t.sessionId);r&&r._c(t)},this.Rc=function(t){var r=n.Ec(t.sessionId);r&&r.mc(t)}}var n=t.prototype;return n.Mo=function(t){return this.lc=t,this.lc.addEventListener("webkitkeyadded",this.Zo),this.lc.addEventListener("webkitkeyerror",this.Sc),this.lc.addEventListener("webkitkeymessage",this.Rc),this.bc.forEach(function(n,r){return n.kc(t)}),this.Tc.forEach(function(n){return n.kc(t)}),D.resolve()},n.Bo=function(t){return t.removeEventListener("webkitkeyadded",this.Zo),t.removeEventListener("webkitkeyerror",this.Sc),t.removeEventListener("webkitkeymessage",this.Rc),this.lc=void 0,D.resolve()},n.Lo=function(){var t=D.coroutine(vn.mark(function t(n,r,i){var e;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new ie(this.vo),this.lc&&e.kc(this.lc),this.Tc.push(e),t.abrupt("return",e);case 4:case"end":return t.stop()}},t,this)}));return function(n,r,i){return t.apply(this,arguments)}}(),n.Fo=function(t){return D.resolve(!1)},n.Ec=function(t){if(t){var n=this.bc.get(t);return n||((n=this.Tc.shift())?(n.xo=t,this.bc.set(t,n),n):void 0)}},t}(),ue=function(){function t(t,n){this.jo=t,this.Ic=n}var n=t.prototype;return n.qo=function(){return D.resolve(new ee(this.jo))},n.Vo=function(){return this.Ic},t}();function se(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function oe(t,n){var r=n.style;if(r)for(var i in t)r[i]=t[i]}function ce(){return void 0!==e?e.createElement("video"):void 0}function ae(){return ne||(ne=ce()),ne}var fe,he=function(){function t(){}return t.prototype.ts=function(t,n){try{return D.resolve(ve(t,n))}catch(t){return D.reject(t)}},t.Wo=function(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest},t}();function ve(t,n){if(!he.Wo())throw new v("Unsupported key system "+t);for(var r=0;r<n.length;r++){var i=Bi(de,t,n[r]);if(i)return new ue(t,i)}throw new v("Unsupported key system configuration for "+t)}function de(t,n){var r=ae();return!(!r||!r.canPlayType||""===r.canPlayType(n,t))}function le(){return fe||(fe=function(){var t=[];Qi.Wo()&&t.push(new Qi);Li.Wo()&&t.push(new Li);ji.Wo()&&t.push(new ji);he.Wo()&&t.push(new he);return new re(t)}()),fe}function we(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),d.defineProperty(t,i.key,i)}}function ye(t,n){var r=function(t,n){var r=t.length;if(r<=1)return t;for(var i=new Array(r),e=1;e<r;e*=2){ge(t,n,e,i);var u=t;t=i,i=u}return t}(t,n);return r!==t&&ge(r,null,t.length,t),t}function ge(t,n,r,i){var e,u,s,o,c,a=t.length,f=0,h=2*r;for(e=0;e<a;e+=h)for(s=(u=e+r)+r,u>a&&(u=a),s>a&&(s=a),o=e,c=u;;)if(o<u&&c<s)n(t[o],t[c])<=0?i[f++]=t[o++]:i[f++]=t[c++];else if(o<u)i[f++]=t[o++];else{if(!(c<s))break;i[f++]=t[c++]}}var pe=/[a-zA-Z]/,_e=/[0-9]/,me=/[0-9a-fA-F]/,ke=/^0x/i,be=/^[0-9]+$/,Te=/^[0-9a-fA-F]+$/,Ee=/^[0-7]+$/,Se=d.prototype.toString,Re=Array.isArray||function(t){return"[object Array]"===Se.call(t)},Ie="undefined"!=typeof Symbol&&"symbol"==typeof Symbol.iterator;function De(t){return Re(t)?t:Array.from(t)}function Ce(t){return t>=65&&t<=90}function Ne(t){return Ce(t)||function(t){return t>=97&&t<=122}(t)}function Ae(t){return t>=48&&t<=57}function Oe(t){return Ae(t)||Ne(t)}function xe(t){return Ae(t)||t>=65&&t<=70||t>=97&&t<=102}function Pe(t){return Ce(t)?t+32:t}function Le(t){return Ae(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function Fe(t,n){return void 0===n&&(n=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(n?87:55):-1}var Me=l.min,Be=String.fromCharCode,Ue=16384;function qe(t){for(var n=t.length,r=[],i=0;i<n;i+=Ue){var e=Me(i+Ue,n);r.push(Be.apply(null,t.slice(i,e)))}return r.join("")}var Ve=/[^\0-\x7E]/,je=/[\x2E\u3002\uFF0E\uFF61]/g,He={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},We=l.floor,$e=String.fromCharCode;function ze(t){throw new RangeError(He[t])}function Xe(t){for(var n=[],r=0,i=t.length;r<i;){var e=t.charCodeAt(r++);if(e>=55296&&e<=56319&&r<i){var u=t.charCodeAt(r++);56320==(64512&u)?n.push(((1023&e)<<10)+(1023&u)+65536):(n.push(e),r--)}else n.push(e)}return n}var Ge,Ye,Ke,Je=function(t,n){return t+22+75*(t<26)-((0!=n)<<5)},Qe=function(t,n,r){var i=0;for(t=r?We(t/700):t>>1,t+=We(t/n);t>455;i+=36)t=We(t/35);return We(i+36*t/(t+38))},Ze=function(t){return function(t,n){var r=t.split("@"),i="";r.length>1&&(i=r[0]+"@",t=r[1]);var e=function(t,n){for(var r=[],i=t.length;i--;)r[i]=n(t[i]);return r}((t=t.replace(je,".")).split("."),n).join(".");return i+e}(t,function(t){return Ve.test(t)?"xn--"+function(t){for(var n=[],r=(t=Xe(t)).length,i=128,e=0,u=72,s=0,o=t;s<o.length;s++){var c=o[s];c<128&&n.push($e(c))}var a=n.length,f=a;for(a&&n.push("-");f<r;){for(var h=2147483647,v=0,d=t;v<d.length;v++){var l=d[v];l>=i&&l<h&&(h=l)}var w=f+1;h-i>We((2147483647-e)/w)&&ze("overflow"),e+=(h-i)*w,i=h;for(var y=0,g=t;y<g.length;y++){var p=g[y];if(p<i&&++e>2147483647&&ze("overflow"),p==i){for(var _=e,m=36;;m+=36){var k=m<=u?1:m>=u+26?26:m-u;if(_<k)break;var b=_-k,T=36-k;n.push($e(Je(k+b%T,0))),_=We(b/T)}n.push($e(Je(_,0))),u=Qe(e,w,f==a),e=0,++f}}++e,++i}return n.join("")}(t):t})};function tu(t){for(var n=[],r=0;r<t.length;r++){var i=t[r];i>65535&&(i-=65536,n.push(i>>>10&1023|55296),i=56320|1023&i),n.push(i)}return qe(n)}function nu(t){if(t>=55296&&t<=57343)throw new h("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function ru(t,n){return t>>n&63|128}function iu(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(nu(t),n.push(t>>12&15|224),n.push(ru(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(ru(t,12)),n.push(ru(t,6))),n.push(63&t|128)):n.push(t)}function eu(t){for(var n=[],r=0;r<t.length;r++){iu(t[r],n)}return n}function uu(){if(Ke>=Ye)throw new h("Invalid byte index");var t=255&Ge[Ke];if(Ke++,128==(192&t))return 63&t;throw new h("Invalid continuation byte")}function su(){var t,n;if(Ke>Ye)throw new h("Invalid byte index");if(Ke===Ye)return!1;if(t=255&Ge[Ke],Ke++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|uu())>=128)return n;throw new h("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|uu()<<6|uu())>=2048)return nu(n),n;throw new h("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|uu()<<12|uu()<<6|uu())>=65536&&n<=1114111)return n;throw new h("Invalid UTF-8 detected")}function ou(t){return[37,Fe(t>>4),Fe(15&t)]}function cu(t){return function(t){return t>=0&&t<=31}(t)||t>126}function au(t){return cu(t)||32===t||34===t||60===t||62===t||96===t}function fu(t){return au(t)||35===t||63===t||123===t||125===t}function hu(t){return fu(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function vu(t){return t<33||t>126||34===t||35===t||60===t||62===t}function du(t){return vu(t)||39===t}function lu(t,n){if(!n(t))return[t];for(var r=eu([t]),i=[],e=0;e<r.length;e++){var u=r[e];i.push.apply(i,ou(u))}return i}function wu(t,n){for(var r=[],i=0,e=Xe(t);i<e.length;i++){var u=e[i];r.push.apply(r,lu(u,n))}return tu(r)}function yu(t){return function(t){for(var n=[],r=t.length,i=0;i<r;i++){var e=t[i];if(37===e&&i+2<r&&xe(t[i+1])&&xe(t[i+2])){var u=Le(t[i+1])<<4|Le(t[i+2]);n.push(u),i+=2}else n.push(e)}return n}(eu(t))}function gu(t){return tu(function(t){Ge=t.slice(),Ye=Ge.length,Ke=0;for(var n,r=[];!1!==(n=su());)r.push(n);return r}(yu(Xe(t))))}function pu(t){var n,r,i,e,u=t.length,s=[0,0,0,0,0,0,0,0],o=0,c=null,a=0;if(a<u&&":"===t[a]){if(!(a+1<u&&":"===t[a+1]))throw new v;a+=2,c=o+=1}for(;a<u;){if(8===o)throw new v("Too many groups");if(":"!==t[a]){for(var f=0,h=0;h<4&&a<u&&me.test(t[a]);)f=f<<4|w(t[a],16),a+=1,h+=1;if("."===t[a]){if(0===h)throw new v;if(a-=h,o>6)throw new v;for(var d=0;a<u;){var l=null;if(d>0){if(!("."===t[a]&&d<4))throw new v;a+=1}if(!_e.test(t[a]))throw new v;for(;a<u&&_e.test(t[a]);){var y=w(t[a],10);if(null===l)l=y;else{if(0===l)throw new v;if((l=10*l+y)>255)throw new v}a+=1}s[o]=s[o]<<8|l,2!==(d+=1)&&4!==d||(o+=1)}if(4!==d)throw new v;break}if(":"===t[a]){if((a+=1)===u)throw new v}else if(a<u)throw new v;s[o]=f,o+=1}else{if(null!==c)throw new v("Too many :: groups");a+=1,c=o+=1}}if(null!==c){var g=o-c;for(o=7;0!==o&&g>0;)i=c+g-1,e=void 0,e=(n=s)[r=o],n[r]=n[i],n[i]=e,o-=1,g-=1}else if(8!==o)throw new v;return s}function _u(t){var n=10,r=be;return ke.test(t)?(t=t.slice(2),n=16,r=Te):t.length>=2&&"0"===t[0]&&(t=t.slice(1),n=8,r=Ee),""===t?0:r.test(t)?w(t,n):void 0}var mu={Dc:4},ku=/[\0\t\n\r #%/:?@\[\\\]]/,bu=/[\0\t\n\r #/:?@\[\\\]]/;function Tu(t,n){if("["===t[0]){if("]"!==t[t.length-1])throw new v("Invalid IPv6 address");return{Dc:2,Cc:pu(t.slice(1,-1))}}if(!n)return function(t){if(bu.test(t))throw new v("Invalid code point in opaque host");var n=wu(t,cu);return""===n?mu:{Dc:3,Kr:n}}(t);var r=function(t){return function(t){return Ze(t.toLowerCase())}(t)}(gu(t));if(ku.test(r))throw new v("Invalid code point in host");var i=function(t){var n=t.split(".");if(""===n[n.length-1]&&n.pop(),!(n.length>4)){for(var r=[],i=0;i<n.length;i++){var e=n[i];if(""===e)return;var u=_u(e);if(void 0===u)return;r.push(u)}for(var s=0;s<r.length-1;s++)if(r[s]>255)throw new v;if(r[r.length-1]>=l.pow(256,5-r.length))throw new v;for(var o=r.pop(),c=0;c<r.length;c++)o+=r[c]*l.pow(256,3-c);return o}}(r);return void 0!==i?{Dc:1,Cc:i}:""===r?mu:{Dc:0,Nc:r}}function Eu(t){switch(t.Dc){case 0:return t.Nc;case 1:return function(t){for(var n=[],r=t,i=1;i<=4;i++)n.push(""+(255&r)),4!==i&&n.push("."),r>>>=8;return n.reverse().join("")}(t.Cc);case 2:return"["+function(t){for(var n="",r=function(t){for(var n=0,r=0,i=0,e=0,u=0;u<8;u++)0===t[u]?(0===e&&(i=u),e++):(e>r&&(n=i,r=e),e=0);return e>r&&(n=i,r=e),r>1?n:null}(t),i=!1,e=0;e<8;e++){if(i){if(0===t[e])continue;i=!1}r!==e?(n+=t[e].toString(16),7!==e&&(n+=":")):(n+=0===e?"::":":",i=!0)}return n}(t.Cc)+"]";case 3:return t.Kr;case 4:return""}}var Su=/\+/g;function Ru(t){for(var n=t.split("&"),r=[],i=0;i<n.length;i++){var e=n[i];if(""!==e){var u=e.indexOf("="),s=void 0,o=void 0;-1!==u?(s=e.slice(0,u),o=e.slice(u+1)):(s=e,o=""),s=s.replace(Su," "),o=o.replace(Su," ");var c=gu(s),a=gu(o);r.push([c,a])}}return r}function Iu(t){for(var n="",r=0;r<t.length;r++){var i=t[r];r>0&&(n+="&"),n+=Du(eu(Xe(i[0])))+"="+Du(eu(Xe(i[1])))}return n}function Du(t){for(var n,r=[],i=0;i<t.length;i++){var e=t[i];32===e?r.push(43):42===(n=e)||45===n||46===n||95===n||Oe(n)?r.push(e):r.push.apply(r,ou(e))}return qe(r)}var Cu=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function Nu(t){var n=""+t,r=Cu.exec(n);return r?function(t,n){for(var r=t.length,i=[],e=n;e<r;e++){var u=t.charCodeAt(e);if(Ou(u))if(xu(u)||e===r-1)i.push(Au);else{var s=t.charCodeAt(e+1);xu(s)?(i.push(u,s),e++):i.push(Au)}else i.push(u)}return t.slice(0,n)+qe(i)}(n,r.index):n}var Au=65533,Ou=function(t){return 55296==(63488&t)},xu=function(t){return 0!=(1024&t)};function Pu(t,n){var r=t[0],i=n[0];return r===i?0:r<i?-1:1}function Lu(t){t.Ac.length=0}function Fu(t,n){!function(t,n){for(var r=0;r<n.length;r++)t[r]=n[r];t.length=n.length}(t.Ac,Ru(n))}function Mu(t){if(t.Oc){var n=Iu(t.Ac);""===n&&(n=null),t.Oc.Oc.xc=n}}var Bu=function(){function t(t){if(void 0===t&&(t=void 0),this.Oc=null,null==t)this.Ac=[];else if("object"==typeof t||"function"==typeof t)if((u=t)instanceof Bu&&Re(u.Ac)&&(!Ie||u[Symbol.iterator]===Uu))this.Ac=t.Ac.slice();else if(function(t){return null!=t&&(!!Re(t)||!!Ie&&"function"==typeof t[Symbol.iterator])}(t)){this.Ac=[];for(var n=0,r=De(t);n<r.length;n++){var i=De(r[n]);if(2!==i.length)throw new v("Invalid name-value pair");this.Ac.push([Nu(i[0]),Nu(i[1])])}}else for(var e in this.Ac=[],t)d.prototype.hasOwnProperty.call(t,e)&&this.Ac.push([Nu(e),Nu(t[e])]);else(t=Nu(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this.Ac=Ru(t);var u}var n=t.prototype;return n.append=function(t,n){t=Nu(t),n=Nu(n),this.Ac.push([t,n]),Mu(this)},n.delete=function(t){t=Nu(t);for(var n=this.Ac,r=0;r<n.length;){n[r][0]===t?n.splice(r,1):r++}Mu(this)},n.get=function(t){t=Nu(t);for(var n=this.Ac,r=0;r<n.length;r++){var i=n[r];if(i[0]===t)return i[1]}return null},n.getAll=function(t){t=Nu(t);for(var n=this.Ac,r=[],i=0;i<n.length;i++){var e=n[i];e[0]===t&&r.push(e[1])}return r},n.has=function(t){t=Nu(t);for(var n=this.Ac,r=0;r<n.length;r++){if(n[r][0]===t)return!0}return!1},n.set=function(t,n){t=Nu(t),n=Nu(n);for(var r=this.Ac,i=!1,e=0;e<r.length;){var u=r[e];u[0]===t?i?r.splice(e,1):(u[1]=n,i=!0,e++):e++}i||r.push([t,n]),Mu(this)},n.sort=function(){ye(this.Ac,Pu),Mu(this)},n.toString=function(){return Iu(this.Ac)},n.entries=function(){return new Hu(this.Ac,qu)},n.keys=function(){return new Hu(this.Ac,Vu)},n.values=function(){return new Hu(this.Ac,ju)},n.forEach=function(t){var n=this;this.Ac.forEach(function(r){return t(r[1],r[0],n)})},t}(),Uu=Bu.prototype.entries;Ie&&(Bu.prototype[Symbol.iterator]=Uu);var qu=function(t){return[t[0],t[1]]},Vu=function(t){return t[0]},ju=function(t){return t[1]},Hu=function(){function t(t,n){this.Pc=0,this.Ac=t,this.Lc=n}return t.prototype.next=function(){return this.Pc<this.Ac.length?{done:!1,value:this.Lc(this.Ac[this.Pc++])}:{done:!0,value:void 0}},t}(),Wu="null";var $u=d.create(null);$u.ftp=21,$u.file=0,$u.gopher=70,$u.http=80,$u.https=443,$u.ws=80,$u.wss=443;var zu=/^(?:\.|%2e)$/i,Xu=/^(?:\.|%2e){2}$/i;function Gu(t){return zu.test(t)}function Yu(t){return Xu.test(t)}function Ku(t){return void 0!==$u[t]}function Ju(t){return Ku(t.Fc)}function Qu(t){return""!==t.Mc||""!==t.Bc}function Zu(t){var n=t.length;if(!(n>=2))return!1;if(!ns(t.slice(0,2)))return!1;if(2!==n){var r=t[2];if(47!==r&&92!==r&&63!==r&&35!==r)return!1}return!0}function ts(t){return 2===t.length&&pe.test(t[0])&&(":"===t[1]||"|"===t[1])}function ns(t){return 2===t.length&&ts(qe(t))}function rs(t){return ts(t)&&":"===t[1]}function is(t){var n=t.Uc;0!==n.length&&("file"===t.Fc&&1===n.length&&rs(n[0])||n.pop())}function es(t){return null===t.qc||mu===t.qc||t.Vc||"file"===t.Fc}var us=-1,ss=/\t|\n|\r/g,os=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function cs(t,n,r,i){void 0===r&&(r=null),void 0===i&&(i=null),r||(r=new fs,t=t.replace(os,""));var e=null!==i?i:0;n=n||null;for(var u=[],s=!1,o=!1,c=!1,a=Xe(t=t.replace(ss,"")),f=a.length,h=0;h<=f;){var d=h<f?a[h]:us;switch(e){case 0:if(!Ne(d)){if(null===i){u.length=0,e=2;continue}throw new v("Invalid scheme")}u.push(Pe(d)),e=1;break;case 1:if(Oe(d)||43===d||45===d||46===d)u.push(Pe(d));else{if(58!==d){if(null===i){u.length=0,e=2,h=0;continue}throw new v("Invalid scheme")}var l=tu(u);if(null!==i){if(Ku(r.Fc)&&!Ku(l))return;if(!Ku(r.Fc)&&Ku(l))return;if((Qu(r)||null!==r.jc)&&"file"===l)return;if("file"===r.Fc&&(r.qc===mu||null===r.qc))return}if(r.Fc=l,null!==i)return void(Ju(r)&&r.jc===$u[r.Fc]&&(r.jc=null));u.length=0,"file"===r.Fc?e=13:Ju(r)&&n&&n.Fc===r.Fc?e=3:Ju(r)?e=7:47===a[h+1]?(e=4,h+=1):(r.Vc=!0,r.Uc.push(""),e=18)}break;case 2:if(!n||n.Vc&&35!==d)throw new v("Invalid scheme");n.Vc&&35===d?(r.Fc=n.Fc,r.Uc=n.Uc.slice(),r.xc=n.xc,r.Hc="",r.Vc=!0,e=20):"file"!==n.Fc?(e=5,h-=1):(e=13,h-=1);break;case 3:47===d&&47===a[h+1]?e=8:(e=5,h-=1);break;case 4:47===d?e=9:(e=17,h-=1);break;case 5:r.Fc=n.Fc,us===d?(r.Mc=n.Mc,r.Bc=n.Bc,r.qc=n.qc,r.jc=n.jc,r.Uc=n.Uc.slice(),r.xc=n.xc):47===d?e=6:63===d?(r.Mc=n.Mc,r.Bc=n.Bc,r.qc=n.qc,r.jc=n.jc,r.Uc=n.Uc.slice(),r.xc="",e=19):35===d?(r.Mc=n.Mc,r.Bc=n.Bc,r.qc=n.qc,r.jc=n.jc,r.Uc=n.Uc.slice(),r.xc=n.xc,r.Hc="",e=20):92===d&&Ju(r)?e=6:(r.Mc=n.Mc,r.Bc=n.Bc,r.qc=n.qc,r.jc=n.jc,r.Uc=n.Uc.slice(),r.Uc.pop(),e=17,h-=1);break;case 6:!Ju(r)||47!==d&&92!==d?47===d?e=9:(r.Mc=n.Mc,r.Bc=n.Bc,r.qc=n.qc,r.jc=n.jc,e=17,h-=1):e=8;break;case 7:if(47!==d||47!==a[h+1]){e=8;continue}e=8,h+=1;break;case 8:47!==d&&92!==d&&(e=9,h-=1);break;case 9:if(64===d){s&&u.unshift(37,52,48),s=!0;for(var y=0;y<u.length;y++){var g=u[y];if(58!==g||c){var p=tu(lu(g,hu));c?r.Bc+=p:r.Mc+=p}else c=!0}u.length=0}else if(us===d||47===d||63===d||35===d||Ju(r)&&92===d){if(s&&0===u.length)throw new v("Invalid host");h-=u.length+1,u.length=0,e=10}else u.push(d);break;case 10:case 11:if(null!==i&&"file"===r.Fc)h-=1,e=15;else if(58!==d||o)if(us===d||47===d||63===d||35===d||Ju(r)&&92===d){if(h-=1,Ju(r)&&0===u.length)throw new v("Invalid host");if(null!==i&&0===u.length&&(Qu(r)||null!==r.jc))return;var _=Tu(tu(u),Ju(r));if(r.qc=_,u.length=0,e=16,null!==i)return}else 91===d?o=!0:93===d&&(o=!1),u.push(d);else{if(0===u.length)throw new v("Invalid host");var m=Tu(tu(u),Ju(r));if(r.qc=m,u.length=0,e=12,11===i)return}break;case 12:if(Ae(d))u.push(d);else{if(!(us===d||47===d||63===d||35===d||Ju(r)&&92===d||null!==i))throw new v("Invalid port");if(0!==u.length){var k=w(tu(u),10);if(k>65535)throw new v("Invalid port");r.jc=k===$u[r.Fc]?null:k,u.length=0}if(null!==i)return;e=16,h-=1}break;case 13:r.Fc="file",47===d||92===d?e=14:n&&"file"===n.Fc?us===d?(r.qc=n.qc,r.Uc=n.Uc.slice(),r.xc=n.xc):63===d?(r.qc=n.qc,r.Uc=n.Uc.slice(),r.xc="",e=19):35===d?(r.qc=n.qc,r.Uc=n.Uc.slice(),r.xc=n.xc,r.Hc="",e=20):(Zu(a.slice(h))||(r.qc=n.qc,r.Uc=n.Uc.slice(),is(r)),e=17,h-=1):(e=17,h-=1);break;case 14:47===d||92===d?e=15:(n&&"file"===n.Fc&&!Zu(a.slice(h))&&(rs(n.Uc[0])?r.Uc.push(n.Uc[0]):r.qc=n.qc),e=17,h-=1);break;case 15:if(us===d||47===d||92===d||63===d||35===d)if(h-=1,null===i&&ns(u))e=17;else if(0===u.length){if(r.qc=mu,null!==i)return;e=16}else{var b=Tu(tu(u),Ju(r));if(0===b.Dc&&"localhost"===b.Nc&&(b=mu),r.qc=b,null!==i)return;u.length=0,e=16}else u.push(d);break;case 16:Ju(r)?(e=17,47!==d&&92!==d&&(h-=1)):null===i&&63===d?(r.xc="",e=19):null===i&&35===d?(r.Hc="",e=20):us!==d&&(e=17,47!==d&&(h-=1));break;case 17:if(us===d||47===d||Ju(r)&&92===d||null===i&&(63===d||35===d)){var T=tu(u);if(Yu(T)?(is(r),47===d||Ju(r)&&92===d||r.Uc.push("")):!Gu(T)||47===d||Ju(r)&&92===d?Gu(T)||("file"===r.Fc&&0===r.Uc.length&&ns(u)&&(mu!==r.qc&&null!==r.qc&&(r.qc=mu),u[1]=58,T=tu(u)),r.Uc.push(T)):r.Uc.push(""),u.length=0,"file"===r.Fc&&(us===d||63===d||35===d))for(;r.Uc.length>1&&""===r.Uc[0];)r.Uc.shift();63===d?(r.xc="",e=19):35===d&&(r.Hc="",e=20)}else u.push.apply(u,lu(d,fu));break;case 18:63===d?(r.xc="",e=19):35===d?(r.Hc="",e=20):us!==d&&(r.Uc[0]+=tu(lu(d,cu)));break;case 19:null===i&&35===d?(r.Hc="",e=20):us!==d&&(r.xc+=tu(lu(d,Ju(r)?du:vu)));break;case 20:us===d||0===d||(r.Hc+=tu(lu(d,au)))}h++}return r}function as(t,n,r,i){try{cs(t,n,r,i)}catch(t){}}var fs=function(){this.Fc="",this.Mc="",this.Bc="",this.qc=null,this.jc=null,this.Uc=[],this.xc=null,this.Hc=null,this.Vc=!1};function hs(t){switch(t.Fc){case"blob":var n;try{n=cs(t.Uc[0],null)}catch(t){return Wu}return hs(n);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return r=t.Fc,i=t.qc,e=t.jc,r+"://"+Eu(i)+(null===e?"":":"+e);case"file":default:return Wu}var r,i,e}var vs=function(){function t(t,n){var r,i,e=null;if(null!=n)if(null!=(r=n)&&r instanceof vs&&"object"==typeof r.Oc)e=n.Oc;else try{e=cs(String(n),null)}catch(t){throw new v("Invalid base URL: "+t.message)}try{i=cs(String(t),e)}catch(t){throw new v("Invalid URL: "+t.message)}var u=i.xc;this.Oc=i,this.xc=function(t){var n=new Bu;return null!==t&&Fu(n,t),n}(u),this.xc.Oc=this}var n,r,i,e=t.prototype;return e.toString=function(){return this.href},e.toJSON=function(){return this.href},n=t,(r=[{key:"href",get:function(){return function(t,n){void 0===n&&(n=!1);var r=t.Fc+":";if(null!==t.qc?(r+="//",Qu(t)&&(r+=t.Mc,""!==t.Bc&&(r+=":"+t.Bc),r+="@"),r+=Eu(t.qc),null!==t.jc&&(r+=":"+t.jc)):null===t.qc&&"file"===t.Fc&&(r+="//"),t.Vc)r+=t.Uc[0];else for(var i=0,e=t.Uc;i<e.length;i++)r+="/"+e[i];return null!==t.xc&&(r+="?"+t.xc),n||null===t.Hc||(r+="#"+t.Hc),r}(this.Oc)},set:function(t){var n;try{n=cs(String(t),null)}catch(t){throw new v("Invalid URL: "+t.message)}this.Oc=n,Lu(this.xc);var r=this.Oc.xc;null!==r&&Fu(this.xc,r)}},{key:"origin",get:function(){return hs(this.Oc)}},{key:"protocol",get:function(){return this.Oc.Fc+":"},set:function(t){as(t+":",null,this.Oc,0)}},{key:"username",get:function(){return this.Oc.Mc},set:function(t){es(this.Oc)||(this.Oc.Mc=wu(t,hu))}},{key:"password",get:function(){return this.Oc.Bc},set:function(t){es(this.Oc)||(this.Oc.Bc=wu(t,hu))}},{key:"host",get:function(){var t=this.Oc,n=t.qc;if(null===n)return"";var r=t.jc,i=Eu(n);return null!==r&&(i+=":"+r),i},set:function(t){this.Oc.Vc||as(t,null,this.Oc,10)}},{key:"hostname",get:function(){var t=this.Oc.qc;return null===t?"":Eu(t)},set:function(t){this.Oc.Vc||as(t,null,this.Oc,11)}},{key:"port",get:function(){var t=this.Oc.jc;return null===t?"":""+t},set:function(t){es(this.Oc)||(""===t?this.Oc.jc=null:as(t,null,this.Oc,12))}},{key:"pathname",get:function(){var t=this.Oc.Uc;return this.Oc.Vc?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.Oc.Vc||(this.Oc.Uc.length=0,as(t,null,this.Oc,16))}},{key:"search",get:function(){var t=this.Oc.xc;return null===t||""===t?"":"?"+t},set:function(t){t=Nu(t);var n=this.Oc;if(""===t)return n.xc=null,void Lu(this.xc);"?"===t[0]&&(t=t.slice(1)),n.xc="",as(t,null,n,19),Fu(this.xc,t)}},{key:"searchParams",get:function(){return this.xc}},{key:"hash",get:function(){var t=this.Oc.Hc;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.Oc.Hc="",as(t,null,this.Oc,20)):this.Oc.Hc=null}}])&&we(n.prototype,r),i&&we(n,i),t}();function ds(t,n){for(var r=0,i=d.keys(n);r<i.length;r++){var e=i[r];t.searchParams.set(e,n[e])}}function ls(t,n){var r=N.Wc(t);return n&&!Un(r,"/")&&(r+="/"),r}var ws=/cache:(.+)?(?=&|$)/,ys="http://webcache.googleusercontent.com/search?q=cache:";function gs(t){if(!Bn(t,ys))return"";var n=N.$c(t).search.match(ws);return n&&n.length>1?n[1]:""}function ps(t){return t.document&&t.document.baseURI||t.location.href||""}var _s=!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)||!(!s||!s.msMaxTouchPoints),ms=ae(),ks=!(!ms||!ms.webkitShowPlaybackTargetPicker),bs=function(){function t(){this.zc=0,this.Xc=!1,this.se=_s,this.ke=!1,this.Gc=!0}var n=t.prototype;return n.Yc=function(t,n){return!0},n.Kc=function(t){return t>=1/6*2},P(t,[{key:"Jc",get:function(){return i.devicePixelRatio||1}},{key:"Qc",get:function(){return ks}},{key:"Zc",get:function(){return!1}},{key:"ta",get:function(){return!0}},{key:"na",get:function(){return $.Le}}]),t}(),Ts=function(t){function n(){return t.call(this)||this}return Gt(n,t),n}(bs),Es=function(t){function n(){return t.apply(this,arguments)||this}return Gt(n,t),n.prototype.Yc=function(t,n){if(t&&t.ra&&n&&n.ra){var r=Ss(t.ra,"mp4a.40.2")&&Ss(n.ra,"mp4a.40.5"),i=Ss(t.ra,"mp4a.40.5")&&Ss(n.ra,"mp4a.40.2"),e=Ss(t.ra,"mp4a.40.2")&&Ss(n.ra,"mp4a.40.34"),u=Ss(t.ra,"mp4a.40.34")&&Ss(n.ra,"mp4a.40.2"),s=Ss(t.ra,"mp4a.40.5")&&Ss(n.ra,"mp4a.40.34"),o=Ss(t.ra,"mp4a.40.34")&&Ss(n.ra,"mp4a.40.5");return!(r||i||e||u||s||o)}return!0},n}(Ts);function Ss(t,n){return t.indexOf(n)>-1}var Rs=function(t){function n(){return t.apply(this,arguments)||this}return Gt(n,t),n.prototype.Kc=function(t){return t>=2},n}(Ts),Is=function(t){function n(){var n;return(n=t.call(this)||this).Xc=$.Fe>=11,n.Gc=$.Le&&!($._e&&$.Fe<10),n}return Gt(n,t),n}(Ts),Ds=function(){var t=ce();if(!t)return!1;var n=t.muted;return t.muted=!n,t.muted!==n}();!function(){if($.ye)return!1;var t=ce();if(!t)return!1;var n=t.volume;t.volume=n/2+.1,t.volume}();var Cs=function(t){function n(n){var r;return(r=t.call(this)||this).ia=n,r.ia&&(r.zc=r.ia.zc,r.Xc=r.ia.Xc,r.se=r.ia.se,r.Gc=Ds&&r.ia.Gc),r}Gt(n,t);var r=n.prototype;return r.Yc=function(n,r){return this.ia?this.ia.Yc(n,r):t.prototype.Yc.call(this,n,r)},r.Kc=function(n){return this.ia?this.ia.Kc(n):t.prototype.Kc.call(this,n)},n}(bs),Ns=function(t){function n(n){var r;return(r=t.call(this,n)||this).Xc=!0,r.ke=!0,r}return Gt(n,t),n}(Cs),As=function(t){function n(){return t.apply(this,arguments)||this}return Gt(n,t),n.prototype.Yc=function(n,r){return!(r.ea>1920)&&t.prototype.Yc.call(this,n,r)},P(n,[{key:"Zc",get:function(){return $.Ie<3}},{key:"ta",get:function(){return $.Ie>=3}}]),n}(Cs),Os=function(){function t(){this.ua=wn()}var n=t.prototype;return n.Ys=function(t){this.ua.delete(t)},n.sa=function(){this.ua.clear()},n.zs=function(t){return this.ua.get(t)},n.oa=function(t,n){this.ua.set(t,n)},t}(),xs=function(){function t(){}return t.ca=function(){return t.$e||(t.$e=Ps.Wo()?new Ps:new Os),t.$e},t.Ys=function(n){t.ca().Ys(n)},t.sa=function(){t.ca().sa()},t.zs=function(n){return t.ca().zs(n)},t.oa=function(n,r){t.ca().oa(n,r)},t}();xs.$e=void 0;var Ps=function(n){function r(){return n.apply(this,arguments)||this}Gt(r,n),r.Wo=function(){try{return t.sessionStorage.setItem("foobar","foobar"),t.sessionStorage.removeItem("foobar"),!0}catch(t){return!1}};var i=r.prototype;return i.Ys=function(n){t.sessionStorage.removeItem(n)},i.sa=function(){t.sessionStorage.clear()},i.zs=function(n){return t.sessionStorage[n]},i.oa=function(n,r){t.sessionStorage[n]=r},r}(xs);var Ls=function(){var n,r=t.Blob;if(r)try{return new r,n=r,function(t,r){return new n(t,r)}}catch(t){}var i,e=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder;return e?(i=e,function(t,n){var r=new i;if(t)for(var e=0;e<t.length;e++){var u=t[e];r.append(u)}return r.getBlob(n&&n.type||"")}):null}();function Fs(t,n,r){var i=Ls([n],{type:"application/octet-stream"}),u=URL.createObjectURL(i),s=function(t,n){var r=t,i=r.indexOf("?");if(i>=0&&(r=r.substr(0,i)),r=r.substr(r.lastIndexOf("/")+1),n){var e=r.indexOf(".");e<0&&(e=r.length),r=r.substr(0,e)+n+r.substr(e)}return r}(t,r),o=e.createElement("a");o.href=u,o.download=s,e.body.appendChild(o),o.click(),e.body.removeChild(o),URL.revokeObjectURL(u)}var Ms,Bs=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).zc=2,n}return Gt(n,t),n}(Ns),Us=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).zc=1,n}return Gt(n,t),n}(Ns),qs=function(){function n(){var n;this.aa=new tn,this.fa=new Vs,this.ha=void 0,this.va=(n=function(){if($.xe)return new Es;if($.Ce||$.Ne)return new Rs;if($.Le)return new Is;return new Ts}(),$.fe?new Bs(n):$._e?new Us(n):$.ke?new Ns(n):$.Re?new As(n):new Cs(n)),this.da=function(){if($.De||$.Re){var t=$.Se;if(void 0===t||Number(t)<42)return!1}return!0}(),this.la=function(){if(t.URL)try{var n=new t.URL("b","http://a");return n.pathname="c d","http://a/c%20d"===n.href}catch(t){}return!1}(),t.performance&&t.performance.now?this.wa=function(){return t.performance.now()}:this.wa=$t}var r=n.prototype;return r.ya=function(){ht.apply(void 0,arguments)},r.ga=function(){vt.apply(void 0,arguments)},r.pa=function(){dt.apply(void 0,arguments)},r._a=function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];lt.apply(void 0,[t].concat(r))},r.To=function(t,n){return o(t,n)},r.ma=function(t,n){return a(t,n)},r.Eo=function(t){c(t)},r.ka=function(t){f(t)},r.Ze=function(t){return this.aa.Ze(t)},r.rs=function(){return this.ba.rs()},r.Ku=function(){return this.ba.Ku()},r.Qu=function(){return this.ba.Qu()},r.Ju=function(){return this.ba.Ju()},r.Gu=function(){return this.ba.Gu()},r.Zu=function(t,n){return this.ba.Zu(t,n)},r.Yu=function(t){return this.ba.Yu(t)},r.$c=function(t,n){return void 0===n&&(n=ps(S)),new vs(t,n)},r.Wc=function(n,r){if(void 0===r&&(r=ps(S)),this.la){var i=Z(r)?r:r.toString();return new t.URL(n,i).href}return this.$c(n,r).href},P(n,[{key:"ba",get:function(){return this.ha||(this.ha=new zn(le())),this.ha}},{key:"Ta",get:function(){return this.fa}},{key:"Ea",get:function(){return this.va}},{key:"Sa",get:function(){return this.da}},{key:"Ra",get:function(){return xs.ca()}},{key:"Ia",get:function(){return{Da:Fs}}},{key:"Ca",get:function(){return s.connection&&s.connection.effectiveType||"default"}},{key:"Na",get:function(){return s.connection&&s.connection.type||"unknown"}},{key:"Aa",get:function(){return{Oa:s&&s.userAgent.match(/Android /i)?"Android":"other",xa:Boolean(s&&s.userAgent.match(/Android 8.0.0/i))}}}]),n}(),Vs=function(){function t(){}return P(t,[{key:"Pa",get:function(){return s.oscpu}},{key:"Ea",get:function(){return s.platform}},{key:"La",get:function(){return s.vendor}},{key:"Fa",get:function(){return s.vendorSub}}]),t}();L(new qs),function(t){t.Ma="Ba",t.Ua="qa"}(Ms||(Ms={}));Ms.Ma,Ms.Ua;var js=function(t){function n(n,r){var i;return(i=t.call(this,n,r)||this).Va=void 0,i}return Gt(n,t),P(n,[{key:"ja",get:function(){return this.Va||(this.Va=this.Ha()),this.Va}}]),n}(_r);var Hs,Ws=function(t){function n(n){return t.call(this,n)||this}return Gt(n,t),n}(js),$s=function(t){function n(n){return t.call(this,n)||this}return Gt(n,t),n}(_r),zs=function(t){function n(n){var r;return(r=t.call(this,Ms.Ma)||this).Wa=n,r}return Gt(n,t),n.prototype.Ha=function(){return new Xs(this.Wa.ja)},n}(Ws),Xs=function(t){function n(n){var r;return(r=t.call(this,"addtrack")||this).track=n,r}return Gt(n,t),n}($s),Gs=function(t){function n(n){var r;return(r=t.call(this,Ms.Ua)||this).Wa=n,r}return Gt(n,t),n.prototype.Ha=function(){return new Ys(this.Wa.ja)},n}(Ws),Ys=function(t){function n(n){var r;return(r=t.call(this,"removetrack")||this).track=n,r}return Gt(n,t),n}($s);!function(t){t.$a="za",t.Xa="Ga",t.Ya="Ka",t.Ja="Qa",t.Za="tf",t.nf="rf",t.if="ef",t.uf="sf",t.cf="Do",t.af="ff",t.hf="vf",t.QUALITY_UNAVAILABLE="qualityunavailable",t.NO_QUALITY="noquality"}(Hs||(Hs={}));var Ks=function(t){function n(){var n;return(n=t.call(this)||this).df=[],n.Va=void 0,n}Gt(n,t);var r=n.prototype;return r.lf=function(t){return this.df[t]},r.wf=function(t){return!(!t||Qn(this.df,t))&&(this.df.push(t),this.Va&&this.Va.push(t.ja),t.Rs(Hs.nf,this.Ts),this.Es(new zs(t)),!0)},r.yf=function(t){if(!t)return!1;var n=this.df.indexOf(t);return!(n<0)&&(Jn(this.df,n),this.Va&&Jn(this.Va,n),t.Cs(Hs.nf,this.Ts),this.Es(new Gs(t)),!0)},r.gf=function(t){return Qn(this.df,t)},r.pf=function(){for(var t=this.df,n=t.length-1;n>=0;n-=1)this.yf(t[n])},r.ai=function(){this.pf(),this.Ds()},P(n,[{key:"_f",get:function(){return this.df}},{key:"ja",get:function(){return this.Va||(this.Va=this.Ha()),this.Va}},{key:"mf",get:function(){return this.df.length}}]),n}(gr),Js=function(t){function n(n){var r;return(r=t.call(this,Hs.nf)||this).Wa=n,r}return Gt(n,t),n.prototype.Ha=function(){return new Qs(this.Wa.ja)},n}(Ws),Qs=function(t){function n(n){var r;return(r=t.call(this,"change")||this).track=n,r}return Gt(n,t),n}($s),Zs=function(t){function n(){var n;return(n=t.call(this)||this).kf=void 0,n.bf=function(t){var r=t.Wa;n.wf(r)},n.Tf=function(t){var r=t.Wa;n.yf(r)},n}Gt(n,t);var r=n.prototype;return r.Ef=function(t){t.Rs(Ms.Ma,this.bf),t.Rs(Ms.Ua,this.Tf)},r.Sf=function(t){t.Cs(Ms.Ma,this.bf),t.Cs(Ms.Ua,this.Tf)},r.ai=function(){this.kf&&this.kf.ai(),t.prototype.ai.call(this)},P(n,[{key:"Rf",get:function(){return this.kf},set:function(t){var n=this.kf;if(t!==n){if(n){this.Sf(n);for(var r=0,i=n._f;r<i.length;r++){var e=i[r];t&&t.gf(e)||this.yf(e)}}if(this.kf=t,t){for(var u=[],s=0,o=t._f;s<o.length;s++){var c=o[s];this.wf(c),this.If(c)&&u.push(c)}this.Ef(t);for(var a=0;a<u.length;a++){var f=u[a];f.Es(new Js(f))}}}}}]),n}(Ks),to=d.freeze||et;function no(t,n,r){d.defineProperty(t,n,{writable:!1,enumerable:!0,value:r})}function ro(t,n){for(var r=0,i=d.getOwnPropertyNames(n);r<i.length;r++){var e=i[r];d.defineProperty(t,e,d.getOwnPropertyDescriptor(n,e))}return t}function io(t){if(Q(t)){var n={};for(var r in t)z.call(t,r)&&(n[r]=io(t[r]));return n}if(Y(t)){for(var i=new Array(t.length),e=0;e<i.length;e++)e in t&&(i[e]=io(t[e]));return i}return t}function eo(t,n){return t===n||!(!t||!n)&&(!(!J(t)||!J(n))&&(K(t)?!!K(n)&&function(t,n){var r=t.length,i=n.length;if(r!==i)return!1;for(var e=0;e<r;e+=1)if(!eo(t[e],n[e]))return!1;return!0}(t,n):!K(n)&&function(t,n){var r=d.keys(t),i=d.keys(n);if(!r||!i||r.length!==i.length)return!1;for(var e=0;e<r.length;e++){var u=r[e];if(!z.call(n,u)||!eo(t[u],n[u]))return!1}return!0}(t,n)))}function uo(t,n){return t.constructor===n.constructor}function so(t){for(var n={},r=0,i=d.keys(t);r<i.length;r++){var e=i[r],u=t[e];null!=u&&(n[e]=u)}return n}function oo(t){var n=t;if("string"==typeof n){if("true"===(n=n.toLowerCase()))return!0;if("false"===n)return!1}return Boolean(n)}function co(t){return"string"==typeof t?""===t?NaN:Number(t):"boolean"==typeof t||null==t||t instanceof Date||"number"!=typeof Number(t)&&!t?NaN:Number(t)}function ao(t){var n=co(t);if(g(n))throw new h("Expected a valid number.");return n}function fo(t){return"string"==typeof t?t:""}function ho(t,n){return K(t)?function(t,n){if(!K(t))return[];for(var r=0|t.length,i=new Array(r),e=0;e<r;e++)i[e]=n(t[e]);return i}(t,n):n(t)}var vo=[Ms.Ma,Ms.Ua,Hs.nf];function lo(t){var n,r=t._f.map(function(t){return t.ja});return r.item=function(n){var r=0|n,i=t.lf(r);return i&&i.ja||void 0},r.addEventListener=function(t,r){n.Rs(t,r)},r.removeEventListener=function(t,r){n.Cs(t,r)},n=new pr(r),t.Rs(vo,function(t){return n.Es(t.ja)}),r}function wo(){}function yo(t){var n,r=[Hs.cf,Hs.nf,Hs.af,Hs.hf,Hs.QUALITY_UNAVAILABLE],i={get activeQuality(){return t.Df&&t.Df.ja},get enabled(){return t.Cf},set enabled(n){t.Cf=oo(n)},get id(){return t.Nf},get uid(){return t.Af},get kind(){return t.Of},get label(){return t.xf},set label(n){t.xf=fo(n)},get language(){return t.Pf},get qualities(){return t.Lf.ja},set targetQuality(n){var r;(r=n?function(t,n){for(var r=[],i=0,e=t.Lf._f;i<e.length;i++)for(var u=e[i],s=0;s<n.length;s++){var o=n[s];u.ja===o&&r.push(u)}return r}(t,Y(n)?n:[n]):[]).length>0?t.Ff=r:t.Ff=void 0},get targetQuality(){if(t.Ff)return 1===t.Ff.length?t.Ff[0].ja:t.Ff.map(function(t){return t.ja})},addEventListener:function(t,r){var i=ho(t,fo);n.Rs(i,r)},removeEventListener:function(t,r){var i=ho(t,fo);n.Cs(i,r)}};return n=new pr(i),t.Rs(r,function(t){return n.Es(t.ja)}),d.defineProperty(i,"constructor",{value:wo}),i}function go(){}function po(t){var n=lo(t);return d.defineProperty(n,"constructor",{value:go}),n}var _o,mo,ko=function(t){function n(){return t.apply(this,arguments)||this}Gt(n,t);var r=n.prototype;return r.Ha=function(){return po(this)},r.If=function(t){return t.Cf},n}(Zs);function bo(){}function To(t){var n,r=[Hs.nf,Hs.cf,Hs.$a,Hs.Xa,Hs.Ya,Hs.Ja,Hs.Za,Hs.if,Hs.uf],i=[mo.Mf],e={get kind(){return t.Of},get label(){return t.xf},set label(n){t.xf=fo(n)},get language(){return t.Pf},get id(){return t.Nf},get uid(){return t.Af},get inBandMetadataTrackDispatchType(){return t.Bf},get mode(){return t.Uf},set mode(n){n!==_o.qf&&n!==_o.Vf&&n!==_o.jf||(t.Uf=n)},get type(){return t.Uu},get readyState(){return Ro(t.Hf)},get cues(){return t.Uf===_o.jf?null:t.Wf.ja},get activeCues(){return t.Uf===_o.jf?null:t.$f.ja},get src(){return t.zf||""},addEventListener:function(t,r){var i=ho(t,fo);n.Rs(i,r)},removeEventListener:function(t,r){var i=ho(t,fo);n.Cs(i,r)}};return n=new pr(t),t.Rs(r,function(t){return n.Es(t.ja)}),t.Rs(i,function(t){return n.Es(t)}),d.defineProperty(e,"constructor",{value:bo}),e}function Eo(){}function So(t){var n=lo(t);return d.defineProperty(n,"constructor",{value:Eo}),n}function Ro(t){return t}!function(t){t.jf="disabled",t.Vf="hidden",t.qf="showing"}(_o||(_o={})),function(t){t.Mf="error"}(mo||(mo={}));var Io,Do=function(t){function n(){return t.apply(this,arguments)||this}Gt(n,t);var r=n.prototype;return r.Ha=function(){return So(this)},r.If=function(t){return t.Uf===_o.qf},n}(Zs),Co=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Xf=void 0,n}Gt(n,t);var r=n.prototype;return r.Gf=function(t){if("function"==typeof t){var n=this.Xf;n?"function"==typeof n?this.Xf=[n,t]:n.push(t):this.Xf=t}},r.Yf=function(t){var n=this.Xf;n&&("function"==typeof n?n===t&&(this.Xf=void 0):Kn(n,t))},r.Ds=function(){t.prototype.Ds.call(this),this.Xf=void 0},r.Es=function(n){var r=lr(this.Xf);t.prototype.Es.call(this,n),wr(this.Ss,n,r)},n}(gr),No=function(t){function n(){return t.apply(this,arguments)||this}return Gt(n,t),n}(Co);!function(t){t.Kf="canplay",t.Jf="canplaythrough",t.Qf="loadeddata",t.Zf="loadedmetadata",t.if="readystatechange",t.th="waiting",t.nh="playing"}(Io||(Io={}));var Ao,Oo=[Io.Kf,Io.Jf,Io.Qf,Io.Zf,Io.if,Io.th,Io.nh],xo=function(t){function n(n,r){var i;return(i=t.call(this,Io.if)||this).currentTime=n,i.readyState=r,i}return Gt(n,t),n}(_r);!function(t){t[t.rh=0]="rh",t[t.ih=1]="ih",t[t.eh=2]="eh",t[t.uh=3]="uh",t[t.sh=4]="sh"}(Ao||(Ao={}));var Po,Lo=function(t){function n(n,r){var i;return void 0===r&&(r=Ao.sh),(i=t.call(this,Io.Jf)||this).currentTime=n,i.readyState=r,i}return Gt(n,t),n}(_r),Fo=function(t){function n(n,r){var i;return void 0===r&&(r=Ao.uh),(i=t.call(this,Io.Kf)||this).currentTime=n,i.readyState=r,i}return Gt(n,t),n}(_r);!function(t){t.oh="ah",t.fh="hh",t.vh="contentprotectionerror",t.dh="contentprotectionsuccess",t.lh="currentsourcechange",t.wh="destroy",t.yh="durationchange",t.gh="emptied",t.Us="encrypted",t.ph="ended",t._h="mh",t.kh="loadstart",t.bh="manifestupdate",t.Th="nosupportedrepresentationfound",t.Eh="offline",t.Sh="online",t.Rh="pause",t.Ih="play",t.Dh="progress",t.Ch="ratechange",t.Nh="representationchange",t.Ah="resize",t.Oh="seeked",t.xh="seeking",t.Ph="segmentnotfound",t.Lh="Fh",t.Mh="Bh",t.Uh="sourcechange",t.qh="timeupdate",t.Vh="volumechange",t.jh="Hh",t.Wh="metricschange"}(Po||(Po={}));var Mo,Bo=function(t){function n(n,r){var i;return(i=t.call(this,Po.Vh)||this).currentTime=n,i.volume=r,i}return Gt(n,t),n}(_r),Uo=function(t){function n(n){var r;return(r=t.call(this,Po.Oh)||this).currentTime=n,r}return Gt(n,t),n}(_r),qo=function(t){function n(n){var r;return(r=t.call(this,Po.xh)||this).currentTime=n,r}return Gt(n,t),n}(_r),Vo=function(t){function n(n,r){var i;return void 0===r&&(r=Ao.eh),(i=t.call(this,Io.Qf)||this).currentTime=n,i.readyState=r,i}return Gt(n,t),n}(_r),jo=function(t){function n(n){var r;return(r=t.call(this,Po.ph)||this).currentTime=n,r}return Gt(n,t),n}(_r),Ho=function(t){function n(n,r){var i;return(i=t.call(this,Po.qh)||this).currentTime=n,i.currentProgramDateTime=r,i}return Gt(n,t),n}(_r),Wo=function(t){function n(n,r){var i;return(i=t.call(this,Po.Ch)||this).currentTime=n,i.playbackRate=r,i}return Gt(n,t),n}(_r),$o=function(t){function n(n){var r;return(r=t.call(this,Po.yh)||this).duration=n,r}return Gt(n,t),n}(_r),zo=function(t){function n(n,r){var i;return void 0===r&&(r=Ao.ih),(i=t.call(this,Io.Zf)||this).currentTime=n,i.readyState=r,i}return Gt(n,t),n}(_r),Xo=function(t){function n(n){var r;return(r=t.call(this,Po.Ih)||this).currentTime=n,r}return Gt(n,t),n}(_r),Go=function(t){function n(n,r){var i;return void 0===r&&(r=Ao.rh),(i=t.call(this,Po.gh)||this).currentTime=n,i.readyState=r,i}return Gt(n,t),n}(_r),Yo=function(t){function n(n){var r;return(r=t.call(this,Po.Rh)||this).currentTime=n,r}return Gt(n,t),n}(_r),Ko=function(t){function n(n){var r;return(r=t.call(this,"presentationmodechange")||this).presentationMode=n,r}return Gt(n,t),n}(_r);!function(t){t.nf="fullscreenchange",t.$h="fullscreensupportchange",t.Mf="fullscreenerror"}(Mo||(Mo={}));var Jo=function(t){function n(n,r){var i;return void 0===r&&(r=!1),(i=t.call(this,n)||this).zh=[],i.Xh=function(t){fr(function(){i.Ts(t)})},i.Gh=r?i.Xh:i.Ts,i}Gt(n,t);var r=n.prototype;return r.Yh=function(t){t.Gf(this.Gh),this.zh.push(t)},r.Kh=function(t){t.Yf(this.Gh),Kn(this.zh,t)},r.ai=function(){this.Ds();for(var t=0,n=this.zh;t<n.length;t++){n[t].Yf(this.Gh)}Zn(this.zh)},n}(Co),Qo=function(t){function n(){return t.apply(this,arguments)||this}return Gt(n,t),n}(Jo);var Zo,tc=function(t){function n(n){var r;return(r=t.call(this,mo.Mf)||this).errorObject=n,r}return Gt(n,t),n.prototype.Ha=function(){return this},P(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(js);!function(t){t.INLINE="inline",t.FULLSCREEN="fullscreen",t.PICTURE_IN_PICTURE="picture-in-picture"}(Zo||(Zo={}));var nc,rc,ic,ec,uc,sc,oc=function(t){function r(n){var r;return(r=t.call(this)||this).Jh=!1,r.Qh=!1,r.Va=void 0,r.Zh=function(){return r.tv()},r.nv=function(){return r.rv()},r.iv=n,r.ev=r.uv=r.sv=r.ov=Zo.INLINE,r.iv.Rs(Mo.nf,r.Zh),r.iv.Rs(Mo.Mf,r.nv),r.cv(),r}Gt(r,t);var i=r.prototype;return i.Ha=function(){return t=this,r={get currentMode(){return t.av()},requestMode:function(n){var r=Rc(n);r&&t.fv(r)},supportsMode:function(n){var r=Rc(n);return!!r&&t.hv(r)},addEventListener:function(t,r){n.Rs(t,r)},removeEventListener:function(t,r){n.Cs(t,r)}},(n=new Jo(r,!0)).Yh(t),r;var t,n,r},i.fv=function(t){this.vv(t,t)},i.vv=function(t,n){this.uv!==n&&(this.Jh=!0,this.ev=t,this.dv(n,this.uv),t!==Zo.FULLSCREEN&&(this.sv=t),this.Jh=!1,this.cv())},i.av=function(){return this.Qh?Zo.FULLSCREEN:Zo.INLINE},i.hv=function(t){switch(t){case Zo.FULLSCREEN:return this.iv.lv;case Zo.INLINE:return!0}return!1},i.cv=function(){if(!this.Jh){var t=this.uv,n=this.av();this.uv=n,n!==Zo.FULLSCREEN&&(this.ov=n),t!==n&&this.Es(new Ko(n))}},i.dv=function(t,n){var r=t===Zo.FULLSCREEN;this.Qh=r,r!==this.iv.wv&&(r?this.iv.yv():this.iv.gv())},i.tv=function(){if(!this.Jh){var t=this.iv.wv;this.Qh=t,t?this.vv(Zo.FULLSCREEN,Zo.FULLSCREEN):t||this.ev!==Zo.FULLSCREEN?this.cv():this.vv(this.sv,this.ov)}},i.rv=function(){this.tv(),this.Es(new tc(new Yi(n.ErrorCode.FULLSCREEN_ERROR,"Failed to enter fullscreen.")))},i.ai=function(){this.iv.ai(),this.Ds()},P(r,[{key:"ja",get:function(){return this.Va||(this.Va=this.Ha()),this.Va}}]),r}(Co),cc="1ADD53F3";function ac(t){return{chromecast:function(t){return{appID:t&&t.appID?fo(t.appID):cc}}(t?t.chromecast:void 0),strategy:function(t){switch(t){case"auto":return nc.AUTO;case"manual":return nc.MANUAL;case"disabled":return nc.DISABLED;default:return nc.MANUAL}}(t?t.strategy:void 0)}}function fc(t){var n,r=ic.pv;return(n=t)&&Mn(n,"mpd")&&(r=ic._v),function(t){return!!t&&Mn(t,"m3u8")}(t)&&(r=ic.mv),r}function hc(t){return J(t)&&J(t.ssai)&&"google-dai"===t.ssai.integration}function vc(t){return J(t)&&Z(t.integration)&&"verizon-media"===t.integration}function dc(t){if(Z(t))return!t;if(vc(t))return!t.id;if(hc(t)){var n=t.ssai,r="live"===n.availabilityType&&n.assetKey,i="vod"===n.availabilityType&&n.contentSourceID&&n.videoID;return Boolean(r&&i)}return!t.src}function lc(t){return Boolean(J(t)&&Z(t.src))}function wc(t){return Z(t)||lc(t)||hc(t)||vc(t)}function yc(t){if(t){if(wc(t))return dc(t);for(var n=0;n<t.length;n++){if(!dc(t[n]))return!1}return!0}return!0}function gc(){return{crossOrigin:rc.kv,useCredentials:!1,liveOffset:void 0,timeServer:void 0,hlsDateRange:!1,experimentalRendering:!1,nativeUiRendering:!1,lowLatency:!1,useNativePlayback:!1,dash:void 0,hls:void 0}}function pc(){return dn(dn({},gc()),{src:void 0,type:ic.pv,contentProtection:void 0,ssai:void 0,integrationData:void 0,isAdvertisement:void 0})}function _c(t){var n={allowedMimeTypes:void 0,preload:"midroll-and-postroll",showCountdown:!0,vpaidMode:ec.ENABLED,googleImaConfiguration:{useNativeIma:!1}};return void 0===t?n:(void 0!==t.preload&&(n.preload=function(t){switch(t){case"none":return uc.NONE;case"midroll-and-postroll":default:return uc.MIDROLL_AND_POSTROLL}}(t.preload)),void 0!==t.showCountdown&&(n.showCountdown=oo(t.showCountdown)),void 0!==t.vpaidMode&&(n.vpaidMode=function(t){switch(t){case"insecure":return ec.INSECURE;case"disabled":return ec.DISABLED;case"enabled":default:return ec.ENABLED}}(t.vpaidMode)),Y(t.allowedMimeTypes)&&(n.allowedMimeTypes=t.allowedMimeTypes.filter(Z)),void 0!==t.googleImaConfiguration&&(n.googleImaConfiguration=function(t){return void 0===t?{useNativeIma:!1}:{useNativeIma:oo(t.useNativeIma)}}(t.googleImaConfiguration)),n)}function mc(t){if(!K(t))return[];for(var n=[],r=0;r<t.length;r++){var i=t[r];Q(i)&&n.push(i)}return n}function kc(t){switch(t){case sc.ALL:case sc.CONTENT:return t;default:return sc.NONE}}function bc(t){var n,r,i,e=io(t||{});return e.libraryLocation&&(e.libraryLocation=ls(e.libraryLocation)),e.isEmbeddable=Boolean(e.isEmbeddable),e.cast=ac(e.cast),e.ads=_c(e.ads),e.analytics=mc(e.analytics),e.mutedAutoplay=kc(e.mutedAutoplay),e.allowNativeFullscreen=Boolean(e.allowNativeFullscreen),e.allowMixedContent=Boolean(e.allowMixedContent),e.persistVolume=Boolean(e.persistVolume),e.liveOffset=(n=e.liveOffset,Number(n)||void 0),e.hlsDateRange=(r=e.hlsDateRange,Boolean(r)),e.retainPlaybackRateOnSourceChange=Boolean(e.retainPlaybackRateOnSourceChange),e.license=Z(i=e.license)?i:void 0,e.licenseUrl=function(t){if(!t)return;try{return ls(t)}catch(t){return void N.ga("Invalid 'licenseUrl', falling back to default URL")}}(e.licenseUrl),e}!function(t){t.AUTO="auto",t.MANUAL="manual",t.DISABLED="disabled"}(nc||(nc={})),function(t){t.kv="",t.bv="anonymous",t.Tv="use-credentials"}(rc||(rc={})),function(t){t._v="application/dash+xml",t.mv="application/vnd.apple.mpegurl",t.Ev="application/x-mpegurl",t.pv="video/mp4",t.Sv="application/vnd.theoplayer.hesp+json",t.Rv="application/vnd.theo.hesp+json"}(ic||(ic={})),function(t){t.ENABLED="enabled",t.INSECURE="insecure",t.DISABLED="disabled"}(ec||(ec={})),function(t){t.NONE="none",t.MIDROLL_AND_POSTROLL="midroll-and-postroll"}(uc||(uc={})),function(t){t.NONE="none",t.ALL="all",t.CONTENT="content"}(sc||(sc={}));var Tc={Iv:0,Dv:NaN,Cv:!1,Bs:void 0,Nv:void 0,Av:!1,Ov:!0,xv:1,Hf:Ao.rh,Pv:!1,Lv:0,Fv:0,Mv:1};function Ec(t){return{Iv:t.Iv,Dv:t.Dv,Cv:t.Cv,Bs:t.Bs,Nv:t.Nv,Av:t.Av,Ov:t.Ov,xv:t.xv,Hf:t.Hf,Pv:t.Pv,Lv:t.Lv,Fv:t.Fv,Mv:t.Mv}}function Sc(t,n,r){if(n!==r){var i=n.Iv,e=n.Dv,u=n.Av,s=n.Ov,o=n.xv,c=n.Hf,a=n.Pv,f=(n.Fv,n.Lv,n.Mv),h=r.Iv,v=r.Dv,d=r.Cv,l=r.Nv,w=r.Av,y=r.Ov,p=r.xv,_=r.Hf,m=r.Pv,k=(r.Fv,r.Lv,r.Mv);c!==Ao.rh&&t.Es(new Go(h,_)),y&&!s?t.Es(new Yo(h)):!y&&s&&t.Es(new Xo(h)),_>=Ao.ih&&t.Es(new zo(h,_)),v===e||g(v)&&g(e)||t.Es(new $o(v)),p!==o&&t.Es(new Wo(h,p)),h!==i&&t.Es(new Ho(h,void 0)),d&&t.Es(new jo(h)),_>=Ao.eh&&t.Es(new Vo(h,_)),m&&!a?t.Es(new qo(h)):!m&&a&&t.Es(new Uo(h)),k===f&&w===u||t.Es(new Bo(h,k)),_>=Ao.uh&&t.Es(new Fo(h,_)),_>=Ao.sh&&t.Es(new Lo(h,_)),_!==c&&t.Es(new xo(h,_)),l&&t.Es(new tc(l))}}function Rc(t){switch(t){case Zo.INLINE:case Zo.FULLSCREEN:case Zo.PICTURE_IN_PICTURE:return t;default:return}}var Ic=function(t){function n(){return t.call(this,Po._h)||this}return Gt(n,t),n}(_r),Dc=function(t){function n(n){var r;return(r=t.call(this,Po.lh)||this).currentSource=n,r}return Gt(n,t),n}(_r),Cc=function(){function t(){}return t.Bv=function(n,r){var i=t.Uv(n,r);return i?t.qv(i):0},t.Vv=function(){return N.Ca||"default"},t.jv=function(){return N.Na||"unknown"},t.Uv=function(n,r){var i,e=null===(i=N.Ra)||void 0===i?void 0:i.zs(r),u=e&&JSON.parse(e);if(u&&u[n])return t.Hv(u,n,r)},t.qv=function(t){var n=t.availableBandwidth;return n||0},t.Hv=function(n,r,i){if(!t.Wv(n,r))return n[r];t.$v(n,r,i)},t.$v=function(t,n,r){var i;delete t[n],null===(i=N.Ra)||void 0===i||i.oa(r,JSON.stringify(t))},t.Wv=function(t,n){var r=t[n].storedTimestamp;if(!r)return!1;var i=new Date(r),e=(new Date).getTime();return i.setMonth(i.getMonth()+1)<=e},t.zv=function(t,n,r,i){var e;return dn(dn({},t),((e={})[n]={availableBandwidth:r,storedTimestamp:i},e))},t.Xv=function(n){var r=t.Vv();t.Gv(r,"theoplayer-stored-network-info",n,$t())},t.Gv=function(n,r,i,e){var u,s,o=null===(u=N.Ra)||void 0===u?void 0:u.zs(r),c=o?JSON.parse(o):void 0,a=t.zv(c,n,i,e);null===(s=N.Ra)||void 0===s||s.oa(r,JSON.stringify(a))},t.Yv=function(){var n=t.Vv();return t.Bv(n,"theoplayer-stored-network-info")},t}();var Nc,Ac,Oc=["analytic","golive","nogolive","bufferedchange","disablevideo","enablevideo","nativeseeking","nativeseeked"];function xc(t){var n=ho(t,fo);return(Z(n)?[n]:n).filter(function(t){return n=t,-1!==Oc.indexOf(n);var n})}!function(t){t.Kv="arraybuffer",t.Jv="json",t.Qv="stream",t.Ke="text",t.Zv="blob",t.Qe="document"}(Nc||(Nc={})),function(t){t.Kv=Nc.Kv,t.Jv=Nc.Jv,t.Qv=Nc.Qv,t.Ke=Nc.Ke}(Ac||(Ac={}));var Pc,Lc,Fc,Mc,Bc=function(){function t(n){var r=this;this.xu={},n instanceof t?n.asList().forEach(function(t){var n=t[0],i=t[1];r.append(n,i)}):Array.isArray(n)?n.forEach(function(t){r.append(t[0],t[1])}):n&&d.getOwnPropertyNames(n).forEach(function(t){r.append(t,n[t])})}var n=t.prototype;return n.append=function(t,n){var r=t,i=n;r=Uc(r),i=qc(i);var e=r.toLowerCase();if(this.xu.hasOwnProperty(e)){var u=this.xu[e],s=u[1];u[1]=s?s+", "+i:i}else this.xu[e]=[r,i]},n.delete=function(t){var n=Uc(t).toLowerCase();delete this.xu[n]},n.get=function(t){var n=Uc(t).toLowerCase();return this.xu.hasOwnProperty(n)?this.xu[n][1]:null},n.has=function(t){var n=Uc(t).toLowerCase();return this.xu.hasOwnProperty(n)},n.set=function(t,n){var r=t,i=(r=Uc(r)).toLowerCase();this.xu[i]=[r,qc(n)]},n.forEach=function(t,n){for(var r in this.xu)this.xu.hasOwnProperty(r)&&t.call(n,this.xu[r][1],r,this)},n.asList=function(){var t=[];for(var n in this.xu)if(this.xu.hasOwnProperty(n)){var r=this.xu[n],i=r[0],e=r[1];t.push([i,e])}return t},n.td=function(){var t={};return this.forEach(function(n,r){t[r]=n}),t},n.nd=function(t){var n=this;t.forEach(function(t,r){n.append(r,t)})},n.rd=function(t){var n=this;t.forEach(function(t,r){n.set(r,t)})},t}();function Uc(t){var n=t;if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(n))throw new v("Invalid character in header field name");return n}function qc(t){var n=t;return"string"!=typeof n&&(n=String(n)),n}!function(t){t.DELETE="DELETE",t.GET="GET",t.HEAD="HEAD",t.OPTIONS="OPTIONS",t.POST="POST",t.PUT="PUT"}(Pc||(Pc={})),function(t){t.ed="",t.ud="manifest",t.sd="segment",t.od="content-protection"}(Lc||(Lc={})),function(t){t.ed="",t.fd="initialization-segment",t.hd="fairplay-license",t.vd="fairplay-certificate",t.dd="widevine-license",t.ld="widevine-certificate",t.wd="playready-license",t.yd="clearkey-license",t.gd="aes128-key"}(Fc||(Fc={})),function(t){t.ed="",t.pd="audio",t._d="video",t.Ke="text",t.md="image"}(Mc||(Mc={}));var Vc=function(t,n){var r,i,e,u,s,o,c,a,f,h,v,d=t.kd;n?(r=n.bd,i=n.Td,e=n.Ed,u=n.Sd,s=n.Rd,o=n.ks,c=n.Uu,a=n.Id,f=n.Dd,h=n.Cd,v=n.Nd):(r=null,i={},e=Pc.GET,u=Ac.Ke,s=0,c=Lc.ed,a=Fc.ed,f=Mc.ed,h=!1),this.kd=d,this.bd=t.bd||r,this.Td=new Bc(t.Td||i),this.Ed=t.Ed||e,this.Sd=t.Sd||u,this.Rd=void 0!==t.Rd?Number(t.Rd)||0:s,this.ks=t.ks||o||(new nr).ks,this.Uu=t.Uu||c,this.Id=t.Id||a,this.Dd=t.Dd||f,this.Cd=void 0!==t.Cd?Boolean(t.Cd):h,this.Nd=t.Nd||v},jc=400,Hc={windowStart:.3,target:.3+.15,windowEnd:.6,maxOffset:3.3,targetAbrOffset:1},Wc=dn(dn({},Hc),{windowEnd:l.max(1,l.min(2*Hc.windowEnd,l.max(Hc.windowEnd,2)))}),$c=zc(.5,Hc);function zc(t,n){var r=l.max(1,t/n.windowStart);return{windowStart:r*n.windowStart,target:r*n.target,windowEnd:r*n.windowEnd,maxOffset:n.maxOffset+(r*n.windowEnd-n.windowEnd),targetAbrOffset:r*n.targetAbrOffset}}function Xc(){var t;return t="Android"===N.Aa.Oa?$c:N.Ea.na?Wc:Hc,N.Aa.xa?function(t){var n=t;N.Aa.xa&&(n=zc((jc+250)/1e3,n));return n}(t):t}var Gc,Yc=function(t){function n(){var n;return(n=t.call(this)||this).kf=void 0,n.Va=void 0,n.Ad=Xc(),n.kf=void 0,n}Gt(n,t);var r=n.prototype;return r.Ef=function(t){t.Rs(Oc,this.Ts)},r.Sf=function(t){t.Cs(Oc,this.Ts)},r.Od=function(){return this.kf?this.kf.Od():D.resolve()},r.ai=function(){this.Ds(),this.kf&&this.Sf(this.kf),this.kf=void 0},P(n,[{key:"Rf",get:function(){return this.kf},set:function(t){var n=this.kf;t!==n&&(n&&this.Sf(n),t&&this.Ef(t),this.kf=t,this.kf&&(this.kf.xd=this.Ad))}},{key:"ja",get:function(){var t;return this.Va||(this.Va=(t=this,{goLive:function(){return t.Od()},get isLive(){return t.Pd},get latency(){return t.xd},set latency(n){t.xd=n},get manifest(){return t.Ld},get metrics(){return t.Fd},addEventListener:function(n,r){t.Rs(xc(n),r)},removeEventListener:function(n,r){t.Cs(xc(n),r)}})),this.Va}},{key:"Pd",get:function(){return!!this.kf&&this.kf.Pd}},{key:"xd",get:function(){return this.Ad},set:function(t){this.kf&&(this.kf.xd=t),this.Ad=t}},{key:"Ld",get:function(){var t;return null===(t=this.kf)||void 0===t?void 0:t.Ld}},{key:"Fd",get:function(){var t;return null===(t=this.kf)||void 0===t?void 0:t.Fd}}]),n}(gr),Kc=function(t){function n(n){var r;return(r=t.call(this)||this).Md=[],r.Bd=!1,r.Ud=new ko,r.qd=new ko,r.Vd=new Do,r.jd=new Yc,r.Hd=!1,r.Wd(n),n.Gf(r.Ts),r.kf=n,r.Ud.Rf=n.$d,r.qd.Rf=n.zd,r.Vd.Rf=n.Xd,r.jd.Rf=n.Gd,r}Gt(n,t);var r=n.prototype;return r.ei=function(){this.kf.ei()},r.ui=function(){this.kf.ui()},r.Yd=function(){var t=D.coroutine(vn.mark(function t(){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",vr(this.Md.map(function(t){return t.Yd()})).then(it));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.Kd=function(){return this.kf.Kd()},r.Jd=function(){var t=D.coroutine(vn.mark(function t(n,r){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return er(r),t.next=3,this.kf.Jd(n,r);case 3:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),r.Qd=function(){return this.Rf.Qd()},r.Zd=function(){this.Rf.Zd()},r.tl=function(){this.Rf.tl()},r.vi=function(){if(!this.Bd){for(var t=0,n=this.Md;t<n.length;t++){n[t].vi()}this.Bd=!0}},r.nl=function(t){this.kf.nl(t)},r.il=function(){this.kf.il()},r.ul=function(){this.kf.ul()},r.sl=function(){this.kf.sl()},r.ol=function(){return this.kf.ol()},r.cl=function(){return this.kf.cl()},r.al=function(){for(var t=[],n=0,r=this.Md;n<r.length;n++){var i=r[n];t.push.apply(t,i.al())}return t},r.fl=function(t){for(var n=!1,r=0,i=this.Md;r<i.length;r++){n=i[r].fl(t)||n}return n},r.Es=function(n){this.fl(n)||t.prototype.Es.call(this,n)},r.Wd=function(t){this.Md.push(t)},r.hl=function(t){Kn(this.Md,t)},r.vl=function(t){if(t!==this.kf){var n=this.kf;n.il(),n.Yf(this.Ts);var r=Ec(this),i=this.dl,e=this.cl();this.kf=t,this.Ud.Rf=t.$d,this.qd.Rf=t.zd,this.Vd.Rf=t.Xd,this.jd.Rf=t.Gd,Sc(this,r,this);var u=this.dl;u!==i&&this.Es(new Dc(u)),this.cl()!==e&&this.Es(new Ic),t.Gf(this.Ts),t.nl(n)}},r.ll=function(){},r.ai=function(){var t=D.coroutine(vn.mark(function t(){var n,r,i;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.Ds(),this.kf.il(),n=0,r=this.Md;case 3:if(!(n<r.length)){t.next=10;break}return i=r[n],t.next=7,i.ai();case 7:n++,t.next=3;break;case 10:this.Ud.ai(),this.qd.ai(),this.Vd.ai(),this.jd.ai();case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.pf=function(){var t=D.coroutine(vn.mark(function t(){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",vr(this.Md.map(function(t){return t.pf()})).then(it));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),P(n,[{key:"$d",get:function(){return this.Ud}},{key:"Xd",get:function(){return this.Vd}},{key:"zd",get:function(){return this.qd}},{key:"wl",get:function(){return this.kf.wl}},{key:"yl",get:function(){return this.kf.yl},set:function(t){this.kf.yl=t}},{key:"dl",get:function(){return this.kf.dl}},{key:"Iv",get:function(){return this.kf.Iv},set:function(t){this.kf.Iv=t}},{key:"Dv",get:function(){return this.kf.Dv}},{key:"gl",get:function(){return this.kf.gl}},{key:"Cv",get:function(){return this.kf.Cv}},{key:"Bs",get:function(){return this.kf.Bs}},{key:"Nv",get:function(){return this.kf.Nv}},{key:"Gd",get:function(){return this.jd}},{key:"pl",get:function(){return this.kf.pl}},{key:"Fd",get:function(){return function(t){for(var n=0,r=0,i=0,e=0,u=0,s={amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0},o=0;o<t.length;o++){var c=t[o];n+=c._l,r+=c.ml,i+=c.kl,e+=c.bl,u+=c.Tl,s.amountOfBufferedAudioSegments+=c.El.amountOfBufferedAudioSegments,s.amountOfBufferedVideoSegments+=c.El.amountOfBufferedVideoSegments}return{_l:n,ml:r,kl:i,bl:e,Tl:u,El:s}}(this.Md.map(function(t){return t.Fd}))}},{key:"Av",get:function(){return this.kf.Av},set:function(t){this.kf.Av=t}},{key:"Sl",get:function(){return this.kf.Sl}},{key:"Ov",get:function(){return this.kf.Ov}},{key:"xv",get:function(){return this.kf.xv},set:function(t){this.kf.xv=t}},{key:"Rl",get:function(){return this.kf.Rl}},{key:"Il",get:function(){return this.kf.Il},set:function(t){this.kf.Il=t}},{key:"Hf",get:function(){return this.kf.Hf}},{key:"Dl",get:function(){return this.kf.Dl}},{key:"Pv",get:function(){return this.kf.Pv}},{key:"Lv",get:function(){return this.kf.Lv}},{key:"Fv",get:function(){return this.kf.Fv}},{key:"Mv",get:function(){return this.kf.Mv},set:function(t){this.kf.Mv=t}},{key:"Rf",get:function(){return this.kf},set:function(t){this.vl(t)}}]),n}(No),Jc=function(t){function n(n,r,i,e,u,s,o,c){var a;return(a=t.call(this,n,r,i)||this).url=e,a.status=u,a.statusText=s,a.response=o,a.systemCode=c,a}return Gt(n,t),P(n,[{key:"name",get:function(){return"ContentProtectionError"}}]),n}(Yi);!function(t){t[t.ABORTED=1]="ABORTED",t[t.NETWORK=2]="NETWORK",t[t.DECODE=3]="DECODE",t[t.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",t[t.ENCRYPTED=5]="ENCRYPTED",t[t.LICENSE_INVALID=6]="LICENSE_INVALID",t[t.ADVERTISEMENT_ERROR=7]="ADVERTISEMENT_ERROR"}(Gc||(Gc={}));var Qc=function(t){function n(n,r,i,e){var u;return(u=t.call(this,r)||this).code=n,u.message=null!=r?r:"Unknown error",u.cause=i,u.systemCode=e,h.captureStackTrace&&h.captureStackTrace(Kt(u),u.constructor),u}return Gt(n,t),P(n,[{key:"name",get:function(){return"MediaError"}}]),n}(Jt);function Zc(t){no(t,"MEDIA_ERR_ABORTED",Gc.ABORTED),no(t,"MEDIA_ERR_NETWORK",Gc.NETWORK),no(t,"MEDIA_ERR_DECODE",Gc.DECODE),no(t,"MEDIA_ERR_SRC_NOT_SUPPORTED",Gc.SRC_NOT_SUPPORTED),no(t,"MEDIA_ERR_ENCRYPTED",Gc.ENCRYPTED)}function ta(t){var r,i;return function(t){return t.category===n.ErrorCategory.CONTENT_PROTECTION}(t)?new Qc(Gc.ENCRYPTED,t.message,null===(r=t.cause)||void 0===r?void 0:r.message,t.systemCode):new Qc(function(t){if(t===n.ErrorCode.MEDIA_ABORTED)return Gc.ABORTED;if(t===n.ErrorCode.MANIFEST_LOAD_ERROR||t===n.ErrorCode.MEDIA_LOAD_ERROR||t===n.ErrorCode.SUBTITLE_LOAD_ERROR)return Gc.NETWORK;if(t===n.ErrorCode.MEDIA_DECODE_ERROR)return Gc.DECODE;if(t===n.ErrorCode.MEDIA_NOT_SUPPORTED)return Gc.SRC_NOT_SUPPORTED;var r=n.ErrorCategory.fromCode(t);if(r===n.ErrorCategory.NETWORK)return Gc.NETWORK;if(r===n.ErrorCategory.SOURCE)return Gc.SRC_NOT_SUPPORTED;if(r===n.ErrorCategory.LICENSE)return Gc.LICENSE_INVALID;if(r===n.ErrorCategory.CONTENT_PROTECTION)return Gc.ENCRYPTED;if(r===n.ErrorCategory.AD)return Gc.ADVERTISEMENT_ERROR;return Gc.DECODE}(t.code),t.message,null===(i=t.cause)||void 0===i?void 0:i.message)}function na(t,n){var r={};for(var i in t)d.prototype.hasOwnProperty.call(t,i)&&n.indexOf(i)<0&&(r[i]=t[i]);if(null!=t&&"function"==typeof d.getOwnPropertySymbols){var e=0;for(i=d.getOwnPropertySymbols(t);e<i.length;e++)n.indexOf(i[e])<0&&d.prototype.propertyIsEnumerable.call(t,i[e])&&(r[i[e]]=t[i[e]])}return r}Zc(Qc),Zc(Qc.prototype);var ra,ia="titanium",ea="conax",ua="ezdrm",sa="irdeto",oa="vudrm",ca="verimatrix",aa="keyos",fa="drmtoday",ha="expressplay",va="azure",da="xstream",la="vimond",wa="axinom",ya="uplynk",ga="comcast",pa="custom";function _a(t){return G(t.token&&t.deviceId)}function ma(t){var n,r=null===(n=t.fairplay)||void 0===n?void 0:n.headers;return void 0!==r&&G(r.PreAuthorization)}function ka(t){var n=t;return _a(n)&&""!==n.token&&""!==n.deviceId&&!ma(n)}!function(t){t.Cl=!1,t.Nl=!1,t.Al=!1,t.Ol=!1,t.LOG_ADS_DETAILS=!1,t.LOG_CHROMECAST_DETAILS=!1,t.LOG_CUSTOM_DRM=!1,t.LOG_BUFFERING_VIDEO_MAIN=!1,t.LOG_BUFFERING_VIDEO_SELECTION=!1,t.LOG_BUFFERING_AUDIO_MAIN=!1,t.LOG_BUFFERING_AUDIO_SELECTION=!1,t.xl=!1}(ra||(ra={}));var ba,Ta=function(){function t(t,n,r){this.Pl=t,this.vo=n,this.Ll=r}return t.prototype.Fl=function(t){return function(t){var n=t.onCertificateRequest;if(void 0!==n&&"function"!=typeof n)throw new v("ContentProtectionIntegration.onCertificateRequest is not a function.");var r=t.onCertificateResponse;if(void 0!==r&&"function"!=typeof r)throw new v("ContentProtectionIntegration.onCertificateResponse is not a function.");var i=t.onLicenseRequest;if(void 0!==i&&"function"!=typeof i)throw new v("ContentProtectionIntegration.onLicenseRequest is not a function.");var e=t.onLicenseResponse;if(void 0!==e&&"function"!=typeof e)throw new v("ContentProtectionIntegration.onLicenseResponse is not a function.");var u=t.extractFairplayContentId;if(void 0!==u&&"function"!=typeof u)throw new v("ContentProtectionIntegration.extractFairplayContentId is not a function.");return t}(this.Ll.build(t))},P(t,[{key:"Ml",get:function(){return this.Pl}},{key:"jo",get:function(){return this.vo}}]),t}();!function(t){t.FAILED="FAILED",t.OVERRIDDEN="OVERRIDDEN",t.SUCCEEDED="SUCCEEDED"}(ba||(ba={}));var Ea,Sa,Ra,Ia,Da=function(){function t(){this.Bl=[]}var r=t.prototype;return r.registerContentProtectionIntegration=function(t,r,i){switch(this.Ul(t,r,i)){case ba.FAILED:throw new Jc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The keySystem should be 'widevine', 'playready' or 'fairplay', but was "+r+".");case ba.OVERRIDDEN:var e=tf(r);N.ga("Warning: Overwriting an earlier registered integration for "+t+" and "+e+".");break;case ba.SUCCEEDED:tf(r);0}},r.Ul=function(t,n,r){var i=tf(n);if(!i)return ba.FAILED;for(var e=ba.SUCCEEDED,u=0,s=this.Bl.slice();u<s.length;u++){var o=s[u];o.Ml===t&&o.jo===i&&(e=ba.OVERRIDDEN,Kn(this.Bl,o))}return this.Bl.push(new Ta(t,i,r)),e},r.ql=function(t,n){return void 0!==this.Vl(t,n)},r.jl=function(t,n,r){var i=this.Vl(t,n);if(!i)throw h("No ContentProtectionIntegrationInit was found for integration id "+t+" and key system "+n);return i.Fl(r)},r.Vl=function(t,n){for(var r=0,i=this.Bl;r<i.length;r++){var e=i[r];if(e.Ml===t&&(!n||e.jo===n))return e}},t}();Da.Hl=new Da,function(t){t.Wl="moov",t.$l="mvhd",t.zl="trak",t.Xl="tkhd",t.Gl="mdia",t.Yl="mdhd",t.Kl="hdlr",t.Jl="minf",t.Ql="stbl",t.Zl="stsd",t.tw="mvex",t.nw="trex",t.rw="avc1",t.iw="avcC",t.ew="hev1",t.uw="hvc1",t.sw="hvcC",t.ow="pasp",t.cw="mp4a",t.aw="esds",t.fw="wvtt",t.hw="vttC",t.vw="vlab",t.dw="moof",t.lw="mfhd",t.ww="traf",t.yw="tfhd",t.gw="trun",t.pw="tfdt",t._w="mdat",t.mw="pssh",t.kw="emsg",t.bw="sidx",t.Tw="styp",t.Ew="ftyp"}(Ea||(Ea={})),function(t){t._d="vide",t.pd="soun",t.Sw="hint",t.Rw="meta",t.Iw="auxv"}(Sa||(Sa={})),function(t){t[t.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",t[t.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",t[t.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",t[t.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",t[t.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT",t[t.DURATION_IS_EMPTY=32]="DURATION_IS_EMPTY",t[t.DEFAULT_BASE_IS_MOOF=131072]="DEFAULT_BASE_IS_MOOF"}(Ra||(Ra={})),function(t){t[t.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",t[t.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",t[t.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",t[t.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT=2048]="SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT"}(Ia||(Ia={}));var Ca=function(){function t(t,n){this.Su=t,this.Dw=n}var n=t.prototype;return n.Cw=function(){return Yr(this.Su,this.Dw)},n.Nw=function(){return Zr(this.Su,this.Dw)},n.Aw=function(){return function(t,n,r){void 0===r&&(r=!1);var i=t.getInt16(n.ro,r);return n.Qs(2),i}(this.Su,this.Dw)},n.Ow=function(){return ni(this.Su,this.Dw)},n.xw=function(){return function(t,n,r){void 0===r&&(r=!1);var i=t.getInt32(n.ro,r);return n.Qs(4),i}(this.Su,this.Dw)},n.Pw=function(){return ii(this.Su,this.Dw)},n.Lw=function(t){return Jr(this.Su,this.Dw,t)},n.Fw=function(t){return function(t,n,r){for(var i=[],e=0;e<r;e++)i.push(ni(t,n));return i}(this.Su,this.Dw,t)},n.Mw=function(t){return si(this.Su,this.Dw,t)},n.Bw=function(){return wi(this.Su,this.Dw)},n.Uw=function(t){this.Dw.Qs(t)},t}(),Na=function(t){function n(n,r){var i;return(i=t.call(this)||this).qw=n,i.Vw=r,i}return Gt(n,t),P(n,[{key:"name",get:function(){return"DataIncompleteError"}}]),n}(Qt),Aa=function(){function t(){}return t.jw=function(n){var r=n.Su,i=n.Dw,e=t.Hw(r,i,!1);if(!e.Ww)throw new Na(i.ro,e.yu);return e.yu},t.Hw=function(n,r,i){for(var e=[];r.ro<n.byteLength;){var u=t.$w(n,r,i);if(!u.Ww)return{Ww:!1,yu:e};e.push(u.zw)}return{Ww:!0,yu:e}},t.Xw=function(n,r){var i=t.$w(n,r,!1);if(!i.Ww)throw new Na(r.ro);return i.zw},t.$w=function(n,r,i){var e=r.ro,u=t.Gw(n,r);if(!u.Ww)return u;var s=u.Yw,o=s.Ks;if(0===o){if(i)return r.Zs(e),{Ww:!1,Kw:1/0};o=n.byteLength-e}var c=e+o;if(c>n.byteLength){var a=c;return r.Zs(e),{Ww:!1,Kw:a}}var f,h,v,d={Uu:s.Uu,ro:e,Su:new Ca((f=n,h=e,v=c,void 0===h&&(h=0),void 0===v&&(v=f.byteLength),new DataView(f.buffer,f.byteOffset+h,v-h)),new Ei(s.Jw))};return r.Zs(c),{Ww:!0,zw:d}},t.Gw=function(t,n){var r=n.ro;if(!Qr(t,n,8))return{Ww:!1,Kw:n.ro+8};var i=ni(t,n),e=si(t,n,4);if(1===i){if(!Qr(t,n,8)){var u=n.ro+8;return n.Zs(r),{Ww:!1,Kw:u}}i=ii(t,n).toNumber()}if("uuid"===e){if(!Qr(t,n,16)){var s=n.ro+16;return n.Zs(r),{Ww:!1,Kw:s}}e=si(t,n,16)}return{Ww:!0,Yw:{Uu:e,Ks:i,Jw:n.ro-r}}},t.Qw=function(t,n,r){var i=t.Su,e=t.Dw,u=pi(mi(i),e.ro,i.byteLength);return r&&(u=Ti(u)),e.Qs(u.byteLength),{Uu:n,Su:u}},t.Zw=function(n,r,i){var e=La(n.Ow());return{Uu:r,ty:e.version,ny:e.flags,Su:t.Qw(n,r,i).Su}},t}();function Oa(t,n){var r=xa(t,n);if(!r)throw new h("Missing "+n+" atom");return r}function xa(t,n){for(var r=0;r<t.length;r++){var i=t[r];if(i.Uu===n)return i.Su}}function Pa(t,n){for(var r=[],i=0;i<t.length;i++){var e=t[i];e.Uu===n&&r.push(e.Su)}return r}function La(t){return{version:t>>24,flags:new Gr(16777215&t)}}var Fa=function(){function t(){}return t.iy=function(n){for(var r=[],i=Aa.jw(new Ca(n,new Ei)),e=0;e<i.length;e++){var u=i[e],s=t.ey(u);s&&r.push(s)}return r},t.uy=function(t){return Aa.Hw(t,new Ei,!1).yu.some(function(t){return t.Uu===Ea.dw||t.Uu===Ea.Tw})},t.sy=function(n){return Pa(Aa.jw(new Ca(n,new Ei)),Ea.mw).map(t.oy)},t.ey=function(n){switch(n.Uu){case Ea.Wl:return t.ay(n.Su);case Ea.dw:return t.hy(n.Su,n.ro);case Ea._w:return t.vy(n.Su);case Ea.bw:return t.ly(n.Su);case Ea.kw:return t.wy(n.Su)}},t.ay=function(n){var r=Aa.jw(n),i=Oa(r,Ea.$l),e=Pa(r,Ea.zl),u=xa(r,Ea.tw),s=t.yy(i),o=e.map(t.gy),c=u?t.py(u):void 0;return{Uu:Ea.Wl,Yw:s,_y:o,my:c}},t.yy=function(t){var n=La(t.Ow()),r=n.version,i=n.flags,e=1===r?t.Pw():t.Ow(),u=1===r?t.Pw():t.Ow(),s=t.Ow(),o=1===r?t.Pw():t.Ow(),c=t.Ow(),a=t.Nw()>>8;t.Uw(2),t.Uw(8);var f=t.Fw(9);t.Uw(24);var h=t.Ow();return{Uu:Ea.$l,ty:r,ny:i,ky:e,by:u,Ty:s,Dv:o,Ey:c,Mv:a,Sy:f,Ry:h}},t.gy=function(n){var r=Aa.jw(n),i=Oa(r,Ea.Xl),e=Oa(r,Ea.Gl),u=t.Iy(i),s=t.Dy(e);return{Uu:Ea.zl,Yw:u,Cy:s}},t.Iy=function(t){var n=La(t.Ow()),r=n.version,i=n.flags,e=1===r?t.Pw():t.Ow(),u=1===r?t.Pw():t.Ow(),s=t.Ow();t.Uw(4);var o=1===r?t.Pw():t.Ow();t.Uw(8);var c=t.Aw(),a=t.Aw(),f=t.Aw()/l.pow(2,8);t.Uw(2);var h=t.Fw(9),v=t.Ow()/l.pow(2,16),d=t.Ow()/l.pow(2,16);return{Uu:Ea.Xl,Ny:i.eo(1),Ay:i.eo(2),Oy:i.eo(4),ky:e,by:u,xy:s,Dv:o,Py:c,Ly:a,Mv:f,Sy:h,ea:v,Fy:d}},t.Dy=function(n){var r=Aa.jw(n),i=Oa(r,Ea.Yl),e=Oa(r,Ea.Kl),u=Oa(r,Ea.Jl),s=t.My(i),o=t.By(e),c=t.Uy(u);return{Uu:Ea.Gl,Yw:s,qy:o,Vy:c}},t.My=function(t){var n=La(t.Ow()),r=n.version,i=n.flags,e=1===r?t.Pw():t.Ow(),u=1===r?t.Pw():t.Ow(),s=t.Ow(),o=1===r?t.Pw():t.Ow();t.Nw();return t.Uw(2),{Uu:Ea.Yl,ty:r,ny:i,ky:e,by:u,Ty:s,Dv:o}},t.By=function(t){var n=La(t.Ow()),r=n.version,i=n.flags;t.Uw(4);var e=t.Mw(4);t.Uw(12);var u=t.Bw();return{Uu:Ea.Kl,ty:r,ny:i,jy:e,eu:u}},t.Uy=function(n){var r=Oa(Aa.jw(n),Ea.Ql),i=t.Hy(r);return{Uu:Ea.Jl,Wy:i}},t.Hy=function(n){var r=Oa(Aa.jw(n),Ea.Zl),i=t.$y(r);return{Uu:Ea.Ql,zy:i}},t.$y=function(n){for(var r=La(n.Ow()),i=r.version,e=r.flags,u=(n.Ow(),[]),s=Aa.jw(n),o=0;o<s.length;o++){var c=s[o];c.Uu===Ea.rw?u.push(t.Xy(c.Su)):c.Uu===Ea.ew||c.Uu===Ea.uw?u.push(t.Gy(c.Su,c.Uu)):c.Uu===Ea.cw?u.push(t.Yy(c.Su)):c.Uu===Ea.fw&&u.push(t.Ky(c.Su))}return{Uu:Ea.Zl,ty:i,ny:e,Jy:u}},t.Qy=function(t,n){return t.Uw(6),{Uu:n,Zy:t.Nw()}},t.tg=function(n,r){var i=t.Qy(n,r);n.Uw(8);var e=n.Nw(),u=n.Nw();n.Uw(2),n.Uw(2);var s=n.Ow()>>>16;return dn(dn({},i),{ng:e,rg:u,ig:s})},t.eg=function(n,r){var i=t.Qy(n,r);n.Uw(2),n.Uw(2),n.Uw(12);var e=n.Nw(),u=n.Nw(),s=n.Ow(),o=n.Ow();n.Uw(4);var c=n.Nw();n.Uw(32);var a=n.Nw();return n.Uw(2),dn(dn({},i),{ea:e,Fy:u,ug:s,sg:o,og:c,cg:a})},t.Yy=function(n){var r=t.tg(n,Ea.cw),i=Oa(Aa.jw(n),Ea.aw),e=t.ag(i);return dn(dn({},r),{fg:e})},t.Ky=function(n){var r=t.Qy(n,Ea.fw),i=Aa.jw(n),e=Oa(i,Ea.hw),u=t.hg(e),s=xa(i,Ea.vw),o=s?t.vg(s):s;return dn(dn({},r),{dg:u,lg:o})},t.hg=function(t){return{Uu:Ea.hw,wg:t.Bw()}},t.vg=function(t){return{Uu:Ea.vw,xf:t.Bw()}},t.ag=function(t){return Aa.Zw(t,Ea.aw,!0)},t.Xy=function(n){var r=t.eg(n,Ea.rw),i=Aa.jw(n),e=Oa(i,Ea.iw),u=xa(i,Ea.ow),s=t.yg(e),o=u?t.gg(u):void 0;return dn(dn({},r),{pg:s,_g:o})},t.Gy=function(n,r){var i=t.eg(n,r),e=Oa(Aa.jw(n),Ea.sw),u=t.mg(e);return dn(dn({},i),{kg:u})},t.yg=function(t){return Aa.Qw(t,Ea.iw,!0)},t.mg=function(t){return Aa.Qw(t,Ea.sw,!0)},t.gg=function(t){var n=t.Ow(),r=t.Ow();return{Uu:Ea.ow,bg:n,Tg:r}},t.py=function(n){var r=Pa(Aa.jw(n),Ea.nw).map(t.Eg);return{Uu:Ea.tw,_y:r}},t.Eg=function(t){var n=La(t.Ow()),r=n.version,i=n.flags,e=t.Ow(),u=t.Ow(),s=t.Ow(),o=t.Ow(),c=t.Ow();return{Uu:Ea.nw,ty:r,ny:i,xy:e,Sg:u,Rg:s,Ig:o,Dg:c}},t.hy=function(n,r){var i=Aa.jw(n),e=Oa(i,Ea.lw),u=Pa(i,Ea.ww),s=t.Cg(e),o=u.map(t.Ng);return{Uu:Ea.dw,Ag:r,Yw:s,_y:o}},t.Cg=function(t){var n=La(t.Ow()),r=n.version,i=n.flags,e=t.Ow();return{Uu:Ea.lw,ty:r,ny:i,Og:e}},t.Ng=function(n){var r=Aa.jw(n),i=Oa(r,Ea.yw),e=Pa(r,Ea.gw),u=xa(r,Ea.pw),s=t.xg(i),o=e.map(function(n){return t.Pg(n,s)}),c=u?t.Lg(u):void 0;return{Uu:Ea.ww,Yw:s,Fg:o,Mg:c}},t.xg=function(t){var n=La(t.Ow()),r=n.version,i=n.flags,e=t.Ow(),u=i.eo(Ra.BASE_DATA_OFFSET_PRESENT)?t.Ow():void 0,s=i.eo(Ra.SAMPLE_DESCRIPTION_INDEX_PRESENT)?t.Ow():void 0,o=i.eo(Ra.DEFAULT_SAMPLE_DURATION_PRESENT)?t.Ow():void 0,c=i.eo(Ra.DEFAULT_SAMPLE_SIZE_PRESENT)?t.Ow():void 0,a=i.eo(Ra.DEFAULT_SAMPLE_FLAGS_PRESENT)?t.Ow():void 0;return{Uu:Ea.yw,ty:r,ny:i,xy:e,Bg:u,Ug:s,Rg:o,Ig:c,Dg:a}},t.Pg=function(n,r){for(var i=La(n.Ow()),e=i.version,u=i.flags,s=n.Ow(),o=u.eo(Ia.DATA_OFFSET_PRESENT)?n.xw():void 0,c=u.eo(Ia.FIRST_SAMPLE_FLAGS_PRESENT)?n.Ow():void 0,a=[],f=0;f<s;f++){var h=t.qg(n,u,e,r);0===f&&void 0!==c&&(h.ny=c),a.push(h)}return{Uu:Ea.gw,ty:e,ny:u,Vg:s,Ag:o,jg:c,Hg:a}},t.qg=function(t,n,r,i){return{Dv:n.eo(Ia.SAMPLE_DURATION_PRESENT)?t.Ow():i.Rg,Ks:n.eo(Ia.SAMPLE_SIZE_PRESENT)?t.Ow():i.Ig,ny:n.eo(Ia.SAMPLE_FLAGS_PRESENT)?t.Ow():i.Dg,Wg:n.eo(Ia.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT)?0===r?t.Ow():t.xw():void 0}},t.wy=function(t){var n,r,i,e=t.Su,u=t.Dw,s=La(ni(e,u)),o=s.version,c=s.flags,a=ui(e,u),f=ui(e,u),h=ni(e,u),v=ni(e,u),d=ni(e,u),l=ni(e,u),w=(n=mi(e),r=u.ro,i=e.byteLength,void 0===r&&(r=0),void 0===i&&(i=n.byteLength),n.slice?n.slice(r,i):Ti(pi(n,r,i)));return u.Qs(w.byteLength),{Uu:Ea.kw,ty:o,ny:c,$g:a,ou:f,Ty:h,zg:v,Xg:d,Nf:l,Gg:w}},t.vy=function(t){return Aa.Qw(t,Ea._w,!1)},t.oy=function(n){var r=n.Su,i=n.Dw,e=Ti(mi(r)).buffer,u=La(ni(r,i)),s=u.version,o=u.flags,c=t.Yg(r,i),a=[];if(s>0)for(var f=ni(r,i),h=0;h<f;h++){for(var v="",d=0;d<16;d++){var l=Yr(r,i).toString(16);v+=1===l.length?"0"+l:l}a.push(v)}var w=ni(r,i),y=new p(e,i.ro,w);return i.Qs(r.byteLength),{Uu:Ea.mw,ty:s,ny:o,Kg:c,Jg:a,Qg:w,Su:y,Zg:e}},t.Yg=function(t,n){for(var r="",i=0;i<4;i++){var e=Yr(t,n).toString(16);r+=1===e.length?"0"+e:e}r+="-";for(var u=0;u<2;u++){var s=Yr(t,n).toString(16);r+=1===s.length?"0"+s:s}r+="-";for(var o=0;o<2;o++){var c=Yr(t,n).toString(16);r+=1===c.length?"0"+c:c}r+="-";for(var a=0;a<2;a++){var f=Yr(t,n).toString(16);r+=1===f.length?"0"+f:f}r+="-";for(var h=0;h<6;h++){var v=Yr(t,n).toString(16);r+=1===v.length?"0"+v:v}return r.toLowerCase()},t.ly=function(t){var n,r,i=t.Su,e=t.Dw,u=La(ni(i,e)),s=u.version,o=u.flags,c=ni(i,e),a=ni(i,e);0===s?(n=qt.fromBits(ni(i,e),0,!0),r=qt.fromBits(ni(i,e),0,!0)):(n=ii(i,e),r=ii(i,e)),e.Qs(2);for(var f=Zr(i,e),h=[],v=0;v<f;v+=1){var d=ni(i,e),l=d>>31&1,w=2147483647&d,y=ni(i,e),g=ni(i,e),p=g>>31&1,_=g>>28&7,m=268435455&g;h.push({tp:l,np:w,Dv:y,rp:p,ip:_,ep:m})}return{Uu:Ea.bw,ty:s,ny:o,sp:c,Ty:a,op:n,cp:r,ap:f,fp:h}},t.Lg=function(t){var n,r=t.Su,i=t.Dw,e=La(ni(r,i)),u=e.version,s=e.flags;return n=0===u?qt.fromBits(ni(r,i),0,!0):ii(r,i),{Uu:Ea.pw,ty:u,ny:s,Mg:n}},t}(),Ma={playready:"https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx",widevine:"https://wv-keyos.licensekeyserver.com/",fairplay:"https://fp-keyos.licensekeyserver.com/getkey"};function Ba(t){if(!t)return!0;var n=t.licenseAcquisitionURL,r=t.certificateURL,i=t.keys,e=t.headers,u=t.useCredentials,s=t.queryParameters,o=t.certificateRequestProcessor,c=t.certificateResponseProcessor,a=t.licenseRequestProcessor,f=t.licenseResponseProcessor;return!(n||r||i||e||u||s||o||c||a||f)}function Ua(t){return t&&void 0!==t.licenseAcquisitionURL}var qa,Va=Ua,ja=Ua;function Ha(t){if(!t)return!0;if(Xa(t))return!1;var n=t.fairplay,r=t.playready,i=t.widevine,e=t.clearkey,u=t.aes128;return Ba(n)&&Ba(r)&&Ba(i)&&Ba(e)&&Ba(u)}function Wa(t){var n=ka(t),r=function(t){var n,r=t;return ma(r)&&""!==(null===(n=r.fairplay)||void 0===n?void 0:n.headers.PreAuthorization)&&!_a(r)}(t);return(!n||!r)&&(n||r)}function $a(t){return t.integration===sa}function za(t){var n=t;if(!n)return!1;if(Ha(n))return!1;var r=n.fairplay,i=n.playready,e=n.widevine,u=n.clearkey;if(Xa(t))return!0;if(r&&!function(t){var n=t;return n&&(void 0!==n.certificateURL||void 0!==n.certificate)}(r))return!1;if(i&&!Va(i))return!1;if(e&&!ja(e))return!1;if(u&&!function(t){var n=t;return n&&(void 0!==n.licenseAcquisitionURL||void 0!==n.keys)}(u))return!1;if(n.integration){if(Da.Hl.ql(n.integration))return!0;switch(n.integration){case ia:if(!function(t){return t.integration===ia&&(Ga(t)||Ya(t))}(t))return!1;break;case oa:if(!Ka(t))return!1;break;case ca:if(!function(t){return t.integration===ca}(t))return!1;break;case sa:if(!$a(t))return!1;break;case ea:if(!Wa(t))return!1;break;case ua:if(!function(t){return t.integration===ua}(t))return!1;break;case aa:if(!Xa(t))return!1;break;case fa:if(!function(t){var n=t;return n.integration===fa&&(void 0!==n.token||function(t){return void 0!==t.merchant&&void 0!==t.sessionId&&void 0!==t.userId}(n))}(t))return!1;break;case ha:if(!function(t){return t.integration===ha}(t))return!1;break;case da:if(!Ja(t))return!1;break;case la:if(!function(t){return t.integration===la}(t))return!1;break;case wa:if(!Qa(t))return!1;break;case va:if(!function(t){var n=t;return n.integration===va&&void 0!==n.token}(t))return!1;break;case ya:if(!function(t){return t.integration===ya}(t))return!1;break;case ga:if(!function(t){var n=t;return n&&G(n.releasePid)&&G(n.accountId)&&G(n.token)}(t))return!1;break;case pa:return!0;default:return!1}}return!0}function Xa(t){return t.integration===aa}function Ga(t){return void 0!==t.authToken}function Ya(t){var n=t;return void 0!==n.accountName&&void 0!==n.customerName&&void 0!==n.portalId}function Ka(t){var n=t;return n.integration===oa&&void 0!==n.token}function Ja(t){var n=t;return n&&n.integration===da&&Z(n.ticketAcquisitionURL)&&Z(n.streamId)}function Qa(t){var n=t;return n.integration===wa&&void 0!==n.token}function Za(t,n){var r,i,e,u=n[t],s=null!==(r=null==u?void 0:u.licenseAcquisitionURL)&&void 0!==r?r:Ma[t],o=null!==(i=null==u?void 0:u.customdata)&&void 0!==i?i:n.customdata,c=o?{customData:o}:{},a=dn(dn({},null!==(e=null==u?void 0:u.headers)&&void 0!==e?e:{}),c),f=null!=u?u:{};f.customdata;return dn(dn({},na(f,["customdata"])),{licenseAcquisitionURL:s,headers:a})}function tf(t){switch(t.toLowerCase()){case"widevine":case Dn:return Dn;case"playready":case Sn:return Sn;case"fairplay":case Nn:return Nn}}function nf(t,r){switch(t){case bn:return function(t){for(var n={},r=Fa.sy(new DataView(t)),i=0;i<r.length;i++){var e=r[i];n[e.Kg]=e.Zg}return n}(r);case Tn:case En:return function(t){var n;return(n={})[Cn]=t,n}(r);default:throw new Yi(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Unsupported initDataType "+t)}}function rf(t){if(t&&J(t))return dn(dn({},t),{integration:ef(t.integration),fairplay:hf(t.fairplay),widevine:uf(t.widevine),playready:sf(t.playready),clearkey:vf(t.clearkey),aes128:df(t.aes128),integrationParameters:lf(t.integrationParameters),preferredKeySystems:wf(t.preferredKeySystems)})}function ef(t){if(Z(t))return t}function uf(t){if(t&&J(t))return{persistentState:of(t.persistentState),distinctiveIdentifier:of(t.distinctiveIdentifier),audioRobustness:cf(t.audioRobustness),videoRobustness:cf(t.videoRobustness),licenseAcquisitionURL:Z(t.licenseAcquisitionURL)?t.licenseAcquisitionURL:void 0,licenseType:af(t.licenseType),headers:t.headers,useCredentials:!!tt(t.useCredentials)&&t.useCredentials,queryParameters:t.queryParameters,certificate:Z(t.certificate)||ki(t.certificate)?t.certificate:void 0,certificateRequestProcessor:ff(t.certificateRequestProcessor),certificateResponseProcessor:ff(t.certificateResponseProcessor),licenseRequestProcessor:ff(t.licenseRequestProcessor),licenseResponseProcessor:ff(t.licenseResponseProcessor)}}function sf(t){if(t){var n=uf(t);if(n){var r=Z(t.customData)?t.customData:void 0;return dn(dn({},n),{customData:r})}}}function of(t){switch(null==t?void 0:t.toLowerCase()){case"required":return"required";case"optional":return"optional";case"not-allowed":return"not-allowed"}}function cf(t){switch(t){case"HW_SECURE_ALL":return"HW_SECURE_ALL";case"HW_SECURE_DECODE":return"HW_SECURE_DECODE";case"HW_SECURE_CRYPTO":return"HW_SECURE_CRYPTO";case"SW_SECURE_DECODE":return"SW_SECURE_DECODE";case"SW_SECURE_CRYPTO":return"SW_SECURE_CRYPTO";case"":return""}}function af(t){switch(null==t?void 0:t.toLowerCase()){case"temporary":return"temporary";case"persistent":return"persistent"}}function ff(t){if("function"==typeof t)return t}function hf(t){if(t){var n=uf(t);if(n){var r=Z(t.certificateURL)?t.certificateURL:void 0;return dn(dn({},n),{certificateURL:r})}}}function vf(t){if(t){var n=uf(t);if(n){var r=Y(t.keys)?t.keys.map(function(t){return function(t){if(!t||!J(t))return;var n=t.id,r=t.value;if(!Z(n)||!Z(r))return;return{id:n,value:r}}(t)}).filter(G):void 0;return dn(dn({},n),{keys:r})}}}function df(t){if(J(t))return{useCredentials:tt(t.useCredentials)?t.useCredentials:void 0}}function lf(t){if(J(t))return t}function wf(t){return t&&Y(t)?t.map(function(t){return tf(t)}).filter(G):[Dn,Sn,Nn]}!function(t){t.DEFAULT="",t.THEO="theo",t.GOOGLE_IMA="google-ima",t.SPOTX="spotx",t.FREEWHEEL="freewheel"}(qa||(qa={}));var yf,gf,pf,_f,mf,kf,bf,Tf,Ef,Sf,Rf=function(){function t(){this.hp=[]}var n=t.prototype;return n.vp=function(t){var n=this.dp.filter(function(n){return n.lp(t)});if(n.length>1)0;else if(0===n.length)throw h("Unknown ad integration: "+t.integration);return n[0]||null},n.wp=function(t){this.hp.push(t)},P(t,[{key:"dp",get:function(){return this.hp}}]),t}();Rf.$e=new Rf,function(t){t.DEFAULT="",t.SRT="srt",t.TTML="ttml",t.WEBVTT="webvtt",t.EMSG="emsg",t.EVENT_STREAM="eventstream",t.ID3="id3",t.CEA608="cea608",t.DATE_RANGE="daterange"}(yf||(yf={})),function(t){t.nh="PLAYING",t.yp="PAUSED",t.gp="SEEK",t.pp="STALLED",t._p="FAILED",t.mp="INITIAL_BUFFERING",t.kp="NO_ACCESS"}(gf||(gf={})),function(t){t.bp="HTTP_REQUEST_STATUS_CODE_1XX",t.Tp="HTTP_REQUEST_STATUS_CODE_2XX",t.Ep="HTTP_REQUEST_STATUS_CODE_3XX",t.Sp="HTTP_REQUEST_STATUS_CODE_4XX",t.Rp="HTTP_REQUEST_STATUS_CODE_5XX",t.Ip="BUFFER_LENGTH",t.Dp="BYTES_RECEIVED",t.Cp="SEGMENT_READ_BITRATE",t.Np="SEGMENT_PROFILE_BITRATE",t.Ap="NUMBER_OF_FRAMES_DROPPED",t.Op="PLAYBACK_POSITION",t.xp="NUMBER_OF_FRAMES_DECODED",t.Pp="PLAYBACK_DELTA_TO_ORIGIN",t.Lp="STREAM_DELTA_TO_ORIGIN",t.Fp="ORIGIN_TIMESTAMP"}(pf||(pf={})),function(t){t.Mp="MANIFEST_URI",t.Bp="ASSET_DURATION",t.Up="NUMBER_OF_CONTENT_PROFILES",t.qp="CDN",t.Vp="CONTENT_TITLE",t.jp="SERVICE_NAME",t.Hp="CONTENT_TYPE",t.Wp="CONTENT_DESCRIPTION"}(_f||(_f={})),function(t){t.$p="shutdown_normal_shutdown"}(mf||(mf={})),function(t){t.zp="session/",t.Xp="internalError/",t.Gp="drmError/",t.Yp="caError/",t.Kp="networkError/"}(kf||(kf={})),function(t){t.Jp="userAction",t.Qp="endOfStreamReached"}(bf||(bf={})),function(t){t.PAUSE="Zp",t.RESUME="t_"}(Tf||(Tf={})),function(t){t.pd="audio",t._d="video",t.Ke="text",t.md="image",t.ed="unknown"}(Ef||(Ef={})),function(t){t[t.n_=0]="n_",t[t.r_=1]="r_",t[t.i_=-1]="i_"}(Sf||(Sf={}));var If=function(t,n){return(0|t)-(0|n)},Df=function(t,n){return t===n?Sf.n_:t<n?Sf.i_:t>n?Sf.r_:g(t)?g(n)?Sf.n_:Sf.r_:Sf.i_};function Cf(t,n,r){return Ht(t,n,r)?Sf.n_:Df(t,n)}var Nf=function(t,n){return function(t,n){if(t===n)return!0;var r=l.abs(t-n);return r<Vt||r<l.max(l.abs(t),l.abs(n))*Vt}(t,n)?Sf.n_:Df(t,n)};var Af,Of=function(t){function n(n,r){return t.call(this,n,r)||this}Gt(n,t);var r=n.prototype;return r.e_=function(t,n){return t<n?Sf.i_:t===n?Sf.n_:Sf.r_},r.u_=function(t,n){return t+n},r.s_=function(t,n){return t-n},r.o_=function(t,n){return l.abs(t-n)},r.c_=function(){return 0},r.a_=function(){return 1/0},r.f_=function(){return-1/0},n.h_=function(t){for(var r=[],i=0;i<t.length;i++)r.push(t.start(i),t.end(i));return new n(r)},n.v_=function(t){for(var r=[],i=[],e=0;e<t.mf;e++)r.push(t.l_(e).d_),r.push(t.w_(e).d_),i.push(t.y_(e)),i.push(t.g_(e));return new n(r,i)},n.p_=function(t){return new n([t,t],[!0,!0])},r.__=function(t,r){return new n(t,r)},r.m_=function(t){return t},n.k_=function(){return xf},n}(function(t){function n(n,r){var i;return(i=t.call(this)||this).mf=n.length>>1,i.b_=n,i.T_=r||function(t){for(var n=new Array(2*t),r=0,i=0;r<t;r+=1,i+=2)n[i]=!0,n[i+1]=!1;return n}(i.mf),i}Gt(n,t);var r=n.prototype;return r.l_=function(t){return this.b_[2*t]},r.y_=function(t){return this.T_[2*t]},r.w_=function(t){return this.b_[2*t+1]},r.g_=function(t){return this.T_[2*t+1]},P(n,[{key:"E_",get:function(){return this.b_.slice()}}]),n}(function(){function t(){}var n=t.prototype;return n.S_=function(t,n){return 0===this.e_(t,n)},n.R_=function(t,n){return this.e_(t,n)>0},n.I_=function(t,n){return this.e_(t,n)>=0},n.D_=function(t,n){return this.e_(t,n)<0},n.C_=function(t,n){return this.e_(t,n)<=0},n.N_=function(t,n){return this.D_(t,n)?t:n},n.A_=function(t,n){return this.R_(t,n)?t:n},n.O_=function(t,n,r){return r?this.C_(t,n):this.D_(t,n)},n.x_=function(){var t=this;return{get length(){return t.mf},start:function(n){var r=0|n;return t.P_(r),t.m_(t.l_(r))},end:function(n){var r=0|n;return t.P_(r),t.m_(t.w_(r))}}},n.L_=function(){for(var t=new Array(2*this.mf),n=new Array(2*this.mf),r=0;r<this.mf;r++)t[2*r]=this.l_(r),t[2*r+1]=this.w_(r),n[2*r]=!0,n[2*r+1]=!0;return this.__(t,n)},n.P_=function(t){if(t<0)throw new h("The index provided ("+t+") must be non-negative");if(t>=this.mf)throw new h("The index provided ("+t+") is greater than the maximum bound ("+this.mf+")")},n.F_=function(t){if(0===this.mf)return this.c_();if(this.M_(t))return t;if(this.C_(t,this.l_(0)))return this.l_(0);if(this.I_(t,this.w_(this.mf-1)))return this.w_(this.mf-1);for(var n,r=this.a_(),i=0;i<this.mf;i++){var e=this.l_(i),u=this.o_(e,t);this.D_(u,r)&&(n=e,r=u);var s=this.w_(i),o=this.o_(this.w_(i),t);this.D_(o,r)&&(n=s,r=o)}return n},n.B_=function(t){for(var n=0,r=0,i=[],e=[];n<this.mf&&r<t.mf;){var u=this.l_(n),s=this.w_(n),o=this.y_(n),c=this.g_(n),a=t.l_(r),f=t.w_(r),h=t.y_(r),v=t.g_(r),d=this.A_(u,a),l=this.N_(s,f),w=void 0;w=this.S_(u,a)?o&&h:this.S_(d,u)?o:h;var y=void 0;y=this.S_(s,f)?c&&v:this.S_(l,s)?c:v,(this.D_(d,l)||w&&y&&this.S_(d,l))&&(i.push(d,l),e.push(w,y));var g=this.e_(this.w_(n),t.w_(r));0===g?(n+=1,r+=1):g<0?n+=1:r+=1}return this.__(i,e)},n.U_=function(){var t=this.q_(),n=t.mf;if(0===n)return this.__([t.f_(),t.a_()],[!1,!1]);var r=[],i=[],e=t.l_(0);t.S_(e,t.f_())||(r.push(t.f_(),e),i.push(!1,!t.y_(0)));for(var u=0;u<n-1;u++)r.push(t.w_(u),t.l_(u+1)),i.push(!t.g_(u),!t.y_(u+1));var s=t.w_(n-1);return t.S_(s,t.a_())||(r.push(s,t.a_()),i.push(!t.g_(n-1),!1)),t.__(r,i)},n.V_=function(t){for(var n=0,r=0,i=this.mf,e=t.mf,u=new Array(2*(i+e)),s=new Array(2*(i+e)),o=0;n<i&&r<e;){var c=this.l_(n),a=this.w_(n),f=t.l_(r),h=t.w_(r);this.D_(c,f)||this.S_(c,f)&&this.D_(a,h)?(u[o]=c,u[o+1]=a,s[o]=this.y_(n),s[o+1]=this.g_(n),n++):(u[o]=f,u[o+1]=h,s[o]=t.y_(r),s[o+1]=t.g_(r),r++),o+=2}for(;n<i;)u[o]=this.l_(n),u[o+1]=this.w_(n),s[o]=this.y_(n),s[o+1]=this.g_(n),n++,o+=2;for(;r<e;)u[o]=t.l_(r),u[o+1]=t.w_(r),s[o]=t.y_(r),s[o+1]=t.g_(r),r++,o+=2;return this.__(u,s)},n.j_=function(t){void 0===t&&(t=this.c_());var n=this.mf;if(n<2)return this;for(var r=[],i=[],e=this.l_(0),u=this.w_(0),s=this.y_(0),o=this.g_(0),c=1;c<n;c++){var a=this.l_(c),f=this.w_(c),h=this.y_(c),v=this.g_(c);this.D_(e,a)&&this.R_(u,f)||(this.S_(e,a)&&(s=h=s||h),this.S_(u,f)&&(o=v=o||v),this.O_(a,this.u_(u,t),o||h)?(u=f,o=v):(r.push(e,u),i.push(s,o),e=a,u=f,s=h,o=v))}return r.push(e,u),i.push(s,o),this.__(r,i).q_()},n.q_=function(){for(var t=[],n=[],r=0;r<this.mf;r++){var i=this.l_(r),e=this.w_(r),u=this.y_(r),s=this.g_(r);this.S_(i,e)?(u||s)&&(t.push(i,e),n.push(!0,!0)):(t.push(i,e),n.push(u,s))}return this.__(t,n)},n.H_=function(t){return this.mf?t.mf?this.V_(t).j_():this:t},n.W_=function(t){var n=this.q_(),r=t.q_(),i=n.U_(),e=r.U_(),u=i.B_(r),s=e.B_(n);return u.H_(s)},n.Qs=function(t){for(var n=[],r=[],i=0;i<this.mf;i++){var e=this.u_(this.l_(i),t),u=this.u_(this.w_(i),t);n.push(e,u),r.push(this.y_(i),this.g_(i))}return this.__(n,r)},n.z_=function(t){return this.q_().B_(t.q_().U_())},n.M_=function(t,n){return this.X_(t,n)>=0},n.G_=function(t,n,r,i,e){return this.Y_(t,n,r,i,e)>=0},n.K_=function(t,n,r,i,e){return this.J_(t,n,r,i,e)>=0},n.Q_=function(t){if(t.mf!==this.mf)return!1;for(var n=0;n<this.mf;n++)if(!this.S_(this.l_(n),t.l_(n))||!this.S_(this.w_(n),t.w_(n))||this.y_(n)!==t.y_(n)||this.g_(n)!==t.g_(n))return!1;return!0},n.Z_=function(t){for(var n=[],r=[],i=0;i<this.mf;i++)t(this.l_(i),this.w_(i))&&(n.push(this.l_(i),this.w_(i)),r.push(this.y_(i),this.g_(i)));return this.__(n,r)},n.J_=function(t,n,r,i,e){void 0===r&&(r=!0),void 0===i&&(i=!0),void 0===e&&(e=this.c_());for(var u=this.s_(t,e),s=this.u_(n,e),o=0;o<this.mf;o+=1)if(this.O_(this.l_(o),s,!i||this.y_(o))&&this.O_(u,this.w_(o),!r||this.g_(o)))return o;return-1},n.Y_=function(t,n,r,i,e){void 0===r&&(r=!0),void 0===i&&(i=!1),void 0===e&&(e=this.c_());for(var u=this.u_(t,e),s=this.s_(n,e),o=0;o<this.mf;o+=1)if(this.O_(this.l_(o),u,!r||this.y_(o))&&this.O_(s,this.w_(o),!i||this.g_(o)))return o;return-1},n.X_=function(t,n){return this.Y_(t,t,!0,!0,n)},n.tm=function(t,n){void 0===n&&(n=this.c_());for(var r=this.u_(t,n),i=this.mf-1;i>=0;i-=1)if(this.O_(this.l_(i),r,this.y_(i)))return i;return-1},n.nm=function(t,n){void 0===n&&(n=this.c_());for(var r=this.s_(t,n),i=0;i<this.mf;i+=1)if(this.O_(r,this.w_(i),this.g_(i)))return i;return-1},n.rm=function(t){return this.P_(t),this.__([this.l_(t),this.w_(t)],[this.y_(t),this.g_(t)])},n.im=function(t,n){var r=this.X_(t,n);return r<0?void 0:this.rm(r)},P(t,[{key:"um",get:function(){for(var t=this.c_(),n=0;n<this.mf;n++){var r=this.s_(this.w_(n),this.l_(n));t=this.u_(t,r)}return t}}]),t}())),xf=new Of([]);!function(t){t.UNAVAILABLE="unavailable",t.AVAILABLE="available",t.CONNECTING="connecting",t.CONNECTED="connected"}(Af||(Af={}));var Pf,Lf,Ff,Mf,Bf,Uf,qf="agama";function Vf(t){return function(t){switch(t){case Pf.NONE:case Pf.HORIZONTAL:case Pf.VERTICAL:return!0;default:return!1}}(t)?t:Pf.NONE}function jf(t){switch(t){case"":return Pf.NONE;case"horizontal":return Pf.HORIZONTAL;case"vertical":return Pf.VERTICAL;default:throw new v}}function Hf(t){if(!t||!Z(t))return Lf.sm;switch(t){case"always":return Lf.om;case"never":return Lf.cm;default:return Lf.sm}}function Wf(t){if(!t||!Z(t))return Ff.sm;switch(t){case"playlist":return Ff.am;case"media":return Ff.fm;default:return Ff.sm}}function $f(t){if(null!==t)return t}function zf(t){var n,r={apiKey:t.apiKey,integration:t.integration,streamActivityMonitorID:$f(t.streamActivityMonitorID),adTagParameters:J(t.adTagParameters)?t.adTagParameters:{},authToken:$f(t.authToken)};if("vod"===(null==t?void 0:t.availabilityType)||(n=t,Boolean(n.videoID&&n.contentSourceID))){var i=t.videoID,e=t.contentSourceID;return i?e?dn(dn({},r),{availabilityType:"vod",videoID:i,contentSourceID:e}):void N.ga("A VOD DAI configuration was provided without valid contentSourceID which is required."):void N.ga("A VOD DAI configuration was provided without valid videoID which is required.")}if("live"===(null==t?void 0:t.availabilityType)||function(t){return Boolean(t.assetKey)}(t)){var u=t.assetKey;return u?dn(dn({},r),{availabilityType:"live",assetKey:u}):void N.ga("A Live DAI configuration was provided without valid assetKey which is required.")}N.ga("A DAI configuration was provided without a valid availabilityType which is required.")}function Xf(t){if(!za(t)||!t.integration)return t;switch(t.integration){case aa:return n=t,r=Za(kn.Lu,n),i=Za(kn.Pu,n),e=n[kn.Fu]&&Za(kn.Fu,n),dn({integration:"keyos",widevine:r,playready:i},e?{fairplay:e}:{});default:return t}var n,r,i,e}!function(t){t.NONE="",t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(Pf||(Pf={})),function(t){t.sm="auto",t.om="always",t.cm="never"}(Lf||(Lf={})),function(t){t.sm="auto",t.am="playlist",t.fm="media"}(Ff||(Ff={})),function(t){t.VERIZON_MEDIA="verizon-media"}(Mf||(Mf={})),function(t){t.ASSET="asset",t.CHANNEL="channel",t.EVENT="event"}(Bf||(Bf={})),function(t){t.hm="subtitles",t.vm="captions",t.dm="descriptions",t.lm="chapters",t.Rw="metadata",t.wm="thumbnails"}(Uf||(Uf={}));var Gf=[Uf.hm,Uf.vm,Uf.dm,Uf.lm,Uf.Rw,Uf.wm];function Yf(t){var n=String(t||"").toLowerCase();return function(t){return"string"==typeof t&&Qn(Gf,t)}(n)?n:n?Uf.Rw:Uf.hm}function Kf(t){if(!t)return!0;var n,r,i=!(wc(n=t.sources)||K(n)&&wc(n[0]))||yc(t.sources),e=!t.ads||(!(r=t.ads)||Y(r)&&0===r.length),u=""!==t.poster&&!t.poster;return i&&e&&u}function Jf(t){return Z(t.src)}function Qf(t){if(t&&t.sources)return function t(n){if(Z(n))return n;if(lc(n))return n.src;if(K(n)&&n.length>0)return t(n[0]);return}(t.sources)}function Zf(t,n,r){return vc(t)?function(t,n,r){var i=dn(dn({},gc()),{ping:{adImpressions:!1,freeWheelVideoViews:!1,linearAdData:!1},integration:Mf.VERIZON_MEDIA,id:"",preplayParameters:{},playbackUrlParameters:{},assetType:Bf.ASSET,contentProtected:!1,assetInfo:!0});i.id=(e=t.id,Z(e)?e:K(e)&&Z(e[0])?e:J(u=e)&&Z(u.userId)&&(K(u.externalId)||Z(u.externalId))?e:""),t.preplayParameters&&(i.preplayParameters=t.preplayParameters);var e,u;t.playbackUrlParameters&&(i.playbackUrlParameters=t.playbackUrlParameters);t.assetType&&(i.assetType=function(t){switch(t){case"channel":return Bf.CHANNEL;case"event":return Bf.EVENT;case"asset":default:return Bf.ASSET}}(t.assetType));t.contentProtected&&(i.contentProtected=oo(t.contentProtected));t.assetInfo?i.assetInfo=oo(t.assetInfo):i.assetInfo="asset"===i.assetType;return i.ping=(s=i.assetType,o=t.ping,c=!1,a=!1,f=!1,o?(c=!!tt(o.adImpressions)&&o.adImpressions,a=!!tt(o.freeWheelVideoViews)&&o.freeWheelVideoViews,f=tt(o.linearAdData)?o.linearAdData:s!==Bf.ASSET):s!==Bf.ASSET&&(f=!0),{adImpressions:c,freeWheelVideoViews:a,linearAdData:f}),i=nh(i=th(i,t),n,r);var s,o,c,a,f}(t,n,r):function(t,n,r){var i=pc(),e=n&&(n.contentProtection||n.drm);if(Z(t)){if(i.src=t,i.type=fc(t),e){var u=rf(e);i.contentProtection=Xf(u)}}else if(lc(t)||hc(t)){i.src=t.src,i.type=t.type||fc(t.src),i.isAdvertisement=t.isAdvertisement;var s=function(t){return t.type===ic.Sv||t.type===ic.Rv}(t)?t.hesp:void 0;void 0!==s&&(i.hesp=s);var o=t.contentProtection||t.drm||e,c=rf(o);i.contentProtection=Xf(c),t.ssai&&(i.ssai=function(t){switch(t.integration){case"google-dai":return zf(t);case"imagine":return{integration:t.integration};case"yospace":return function(t){var n;return{integration:t.integration,streamType:null!==(n=t.streamType)&&void 0!==n?n:void 0}}(t);default:return{integration:t.integration}}}(t.ssai)),i=th(i,t)}return i=nh(i,n,r)}(t,n,r)}function th(t,n){var r;n.useCredentials?t.crossOrigin=rc.Tv:n.crossOrigin&&(t.crossOrigin=function(t){switch(t){case rc.bv:case rc.Tv:return t;default:return rc.kv}}(n.crossOrigin)),Z(n.timeServer)&&(t.timeServer=n.timeServer),n.liveOffset&&(t.liveOffset=n.liveOffset),n.hlsDateRange&&(t.hlsDateRange=n.hlsDateRange),n.lowLatency&&(t.lowLatency=oo(n.lowLatency)),n.useNativePlayback&&(t.useNativePlayback=oo(n.useNativePlayback)),n.dash&&(t.dash={useSeamlessPeriodSwitch:Hf(null==(r=n.dash)?void 0:r.useSeamlessPeriodSwitch)}),n.hls&&(t.hls=function(t){return{discontinuityAlignment:Wf(null==t?void 0:t.discontinuityAlignment)}}(n.hls));var i=void 0!==n.experimentalRendering?oo(n.experimentalRendering):void 0;void 0!==i&&(t.experimentalRendering=i);var e=void 0!==n.nativeUiRendering?oo(n.nativeUiRendering):void 0;return void 0!==e&&(t.nativeUiRendering=e),t}function nh(t,n,r){var i,e=n&&n.timeServer;return r&&r.liveOffset&&!G(t.liveOffset)&&(t.liveOffset=r.liveOffset),r&&r.hlsDateRange&&!G(t.hlsDateRange)&&(t.hlsDateRange=r.hlsDateRange),t.crossOrigin===rc.kv&&(null===(i=null==n?void 0:n.vr)||void 0===i?void 0:i[360])&&(t.crossOrigin=rc.bv),t.useCredentials=t.crossOrigin===rc.Tv,Z(e)&&!t.timeServer&&(t.timeServer=e),t}function rh(t){var n={src:""};if(t&&t.src){if(n.src=fo(t.src),"default"in t&&(n.default=oo(t.default)),n.kind=Yf(t.kind),function(t){switch(t){case yf.DEFAULT:case yf.SRT:case yf.TTML:case yf.WEBVTT:case yf.EMSG:case yf.EVENT_STREAM:case yf.ID3:case yf.CEA608:case yf.DATE_RANGE:return!0;default:return!1}}(t.format)&&(n.format=t.format),"srclang"in t){var r=t.srclang;"string"==typeof r&&""!==r&&(n.srclang=r)}if("label"in t){var i=t.label;"string"==typeof i&&""!==i&&(n.label=i)}}return n}function ih(t,n){if(Q(t))try{return n.vp(t).ym(t)}catch(t){return}}function eh(t){return Z(t.sources)&&""!==t.sources||J(t.sources)&&Z(t.sources.src)}function uh(t){return t.integration===qa.SPOTX&&!g(t.id)}function sh(t){return"freewheel"===t.integration}function oh(t,n,r){if(void 0===r&&(r=Rf.$e),Kf(t))return{sources:[pc()]};var i=io(t);if(i.sources=function(t,n,r){if(wc(t))return[Zf(t,n,r)];if(K(t)&&wc(t[0])){for(var i=[],e=0;e<t.length;e++){var u=t[e];i.push(Zf(u,n,r))}return i}return[pc()]}(i.sources,i,n),"contentProtection"in i&&delete i.contentProtection,"drm"in i&&delete i.drm,"ads"in i){var e=function(t,n){if(!K(t))return[];for(var r=[],i=0;i<t.length;i++){var e=t[i];(e=ih(e,n))&&(eh(e)||uh(e)||sh(e))&&r.push(e)}return r}(i.ads,r);0===e.length?delete i.ads:i.ads=e}var u,s,o,c=!yc(i.sources),a=i.ads&&i.ads.length>0;if(c&&!a?delete i.ads:a&&!c&&(i.sources=[]),"textTracks"in i){var f=function(t){if(!K(t))return[];for(var n=[],r=0;r<t.length;r++){var i=t[r];""!==(i=rh(i)).src&&n.push(i)}return n}(i.textTracks);0===f.length?delete i.textTracks:i.textTracks=f}if("poster"in i&&(i.poster=fo(i.poster)),"vr"in i&&(i.vr=(u=i.vr,(s=u||{}).stereoMode=Vf(s.stereoMode),{360:Boolean(s[360]),stereoMode:s.stereoMode?jf(s.stereoMode):Pf.NONE})),"analytics"in i||(null==n?void 0:n.analytics)){var h=mc(i.analytics),v=n&&n.analytics||[];i.analytics=function(t,n){for(var r=io(t),i=function(i){var e=n[i],u=!t.some(function(t){return t.integration===e.integration});u&&e.integration!==qf&&r.push(e)},e=0;e<n.length;e++)i(e);return r}(h,v)}return"mutedAutoplay"in i&&(i.mutedAutoplay=kc(i.mutedAutoplay)),"timeServer"in i&&delete i.timeServer,i.blockContentIfAdError=void 0!==(o=i.blockContentIfAdError)&&"boolean"==typeof o&&Boolean(o),i}var ch=function(t){function n(){return t.apply(this,arguments)||this}Gt(n,t);var r=n.prototype;return r.wf=function(n){return t.prototype.wf.call(this,n)},r.Ha=function(){return po(this)},n}(Ks);var ah=function(){function t(){this.gm=[],this.Va=void 0}var n=t.prototype;return n.u_=function(t){this.gm.push(t),this.Va&&this.Va.push(t.ja)},n.lf=function(t){return this.gm[t]},n.pm=function(t){return Y(t)?function(t,n){for(var r=0;r<n.length;r++)if(!Qn(t,n[r]))return!1;return!0}(this.gm,t):Qn(this.gm,t)},P(t,[{key:"_f",get:function(){return this.gm}},{key:"mf",get:function(){return this.gm.length}},{key:"ja",get:function(){var t,n;return this.Va||(this.Va=((n=(t=this)._f.map(function(t){return t.ja})).item=function(n){var r=0|n,i=t.lf(r);return i&&i.ja||void 0},n)),this.Va}}]),t}(),fh=function(t){function n(n){var r;return(r=t.call(this,Hs.cf)||this).Wa=n,r}return Gt(n,t),n.prototype.Ha=function(){return new hh(this.Wa.ja)},n}(Ws),hh=function(t){function n(n){var r;return(r=t.call(this,"update")||this).track=n,r}return Gt(n,t),n}($s),vh=0;function dh(){return vh++}var lh=0;var wh=0;var yh=0;var gh=function(t){function n(n){var r;return(r=t.call(this)||this).Uu=Ef.pd,r._m=!1,r.Va=void 0,r.mm=n,r.km=dh(),r.bm=yh+++"",r.Tm=n.label,r.gm=new ah,r.Em(),r}Gt(n,t);var r=n.prototype;return r.Sm=function(t){this.Cf=t},r.Em=function(){this.Cf=this.Rm},P(n,[{key:"Df",get:function(){}},{key:"Cf",get:function(){return this._m},set:function(t){this._m!==t&&(this._m=t,this.Rm=t,this.Es(new Js(this)))}},{key:"Rm",get:function(){return!!this.mm.enabled},set:function(t){this.mm.enabled=t}},{key:"ja",get:function(){return this.Va||(this.Va=yo(this)),this.Va}},{key:"Nf",get:function(){return this.bm}},{key:"Af",get:function(){return this.km}},{key:"Of",get:function(){return this.mm.kind}},{key:"xf",get:function(){return this.Tm},set:function(t){t!==this.Tm&&(this.Tm=t,this.Es(new fh(this)))}},{key:"Pf",get:function(){return this.mm.language}},{key:"Uf",get:function(){return this.Cf?"enabled":"disabled"}},{key:"Im",get:function(){return this.mm}},{key:"Lf",get:function(){return this.gm}},{key:"Ff",get:function(){},set:function(t){}}]),n}(gr),ph=0;var _h,mh,kh,bh,Th=function(t){function n(n){var r;return(r=t.call(this)||this).Uu=Ef._d,r._m=!1,r.Va=void 0,r.mm=n,r.km=dh(),r.bm=ph+++"",r.gm=new ah,r.Tm=n.label,r.Em(),r}Gt(n,t);var r=n.prototype;return r.Em=function(){this.Cf=this.Rm},r.Sm=function(t){this.Cf=t},P(n,[{key:"Df",get:function(){}},{key:"Cf",get:function(){return this._m},set:function(t){this._m!==t&&(this._m=t,this.Rm=t,this.Es(new Js(this)))}},{key:"Rm",get:function(){return!!this.mm.selected},set:function(t){this.mm.selected=t}},{key:"ja",get:function(){return this.Va||(this.Va=yo(this)),this.Va}},{key:"Nf",get:function(){return this.bm}},{key:"Af",get:function(){return this.km}},{key:"Of",get:function(){return"main"}},{key:"xf",get:function(){return this.Tm},set:function(t){t!==this.Tm&&(this.Tm=t,this.Es(new fh(this)))}},{key:"Pf",get:function(){return this.mm.language}},{key:"Uf",get:function(){return this.Cf?"enabled":"disabled"}},{key:"Im",get:function(){return this.mm}},{key:"Lf",get:function(){return this.gm}},{key:"Ff",get:function(){},set:function(t){}}]),n}(gr),Eh=function(t){function n(n){var r;return(r=t.call(this,Po.oh)||this).pl=n,r}return Gt(n,t),n}(_r);!function(t){t[t.NONE=0]="NONE",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t[t.ERROR=3]="ERROR"}(_h||(_h={})),function(t){t.Dm="cue",t.Cm="region",t.Nm="stylesheet"}(mh||(mh={})),function(t){t.Am="yv",t.Om="gv",t.cf="Do"}(kh||(kh={})),function(t){t.Am="enter",t.Om="exit",t.cf="update"}(bh||(bh={}));var Sh=function(t){function n(n,r){var i;return(i=t.call(this,n)||this).xm=r,i}return Gt(n,t),n}(Ws),Rh=function(t){function n(n,r){var i;return(i=t.call(this,n)||this).cue=r,i}return Gt(n,t),n}($s);function Ih(t){var n,r=[kh.Am,kh.Om,kh.cf],i={get track(){return t.Wa.ja},get id(){return t.Nf},get startTime(){return t.Pm},get endTime(){return t.Lm},get content(){return t.Fm},addEventListener:function(t,r){var i=ho(t,fo);n.Rs(i,r)},removeEventListener:function(t,r){var i=ho(t,fo);n.Cs(i,r)}};return n=new pr(i),t.Rs(r,function(t){return n.Es(t.ja)}),i}function Dh(){}var Ch=.02;var Nh=function(t){function n(n,r,i,e,u){var s;return(s=t.call(this)||this).Va=void 0,s.Mm=void 0,s.Bm=!1,s.Um="",s.qm=-1,s.Vm=n,s.jm=r,s.Hm=i,s.Wm=Boolean(e),s.bm=u||(wh++).toString(),s}Gt(n,t);var r=n.prototype;return r.Ha=function(){return Ih(this)},r.S_=function(t){return this===t||uo(this,t)&&(r=t,Ht((n=this).Pm,r.Pm,Ch)&&Ht(n.Lm,r.Lm,Ch)&&n.Nf===r.Nf);var n,r},r.ai=function(){this.Ds()},P(n,[{key:"Pm",get:function(){return this.Vm},set:function(t){this.Vm=t}},{key:"Lm",get:function(){return this.jm},set:function(t){this.jm=t}},{key:"Nf",get:function(){return this.bm},set:function(t){this.bm=t}},{key:"ja",get:function(){return this.Va||(this.Va=this.Ha()),this.Va}},{key:"$m",get:function(){return this.Bm},set:function(t){this.Bm=t}},{key:"Wa",get:function(){return this.Mm},set:function(t){this.Mm=t}},{key:"Fm",get:function(){return this.Hm},set:function(t){this.Hm=t}},{key:"zm",get:function(){return this.Um},set:function(t){this.Um=t}},{key:"Xm",get:function(){return this.Wm},set:function(t){this.Wm=t}}]),n}(gr);var Ah=function(t){function n(n,r,i,e,u){var s;return(s=t.call(this,n,r,i,e,u)||this).Gm="auto",s.Ym="start",s.Km="auto",s.Jm="auto",s.Qm=void 0,s.Zm=!0,s.Ks=100,s.tk="center",s.nk="",s}return Gt(n,t),n.prototype.S_=function(n){return this===n||uo(this,n)&&t.prototype.S_.call(this,n)&&(i=n,(r=this).Fm===i.Fm&&r.Gm===i.Gm&&r.Ym===i.Ym&&r.Km===i.Km&&r.Jm===i.Jm&&r.Qm===i.Qm&&r.Zm===i.Zm&&r.Ks===i.Ks&&r.tk===i.tk&&r.nk===i.nk);var r,i},P(n,[{key:"ja",get:function(){var t;return this.Va||(this.Va=ro(Ih(t=this),{get align(){return t.tk},get line(){return t.Gm},get lineAlign(){return t.Ym},get position(){return t.Km},get positionAlign(){return t.Jm},get region(){return t.Qm?t.Qm.ja:null},get size(){return t.Ks},get snapToLines(){return t.Zm},get text(){return t.Fm},get vertical(){return t.nk}})),this.Va}},{key:"Uu",get:function(){return mh.Dm}}]),n}(Nh);var Oh=function(){function t(t,n,r,i,e,u,s,o){this.Nf=t,this.ea=n,this.rk=r,this.ik=i,this.ek=e,this.uk=u,this.sk=s,this.ck=o}return P(t,[{key:"ja",get:function(){var t;return this.Va||(this.Va=(t=this,{get id(){return t.Nf},get identifier(){return t.Nf},get lines(){return t.rk},get regionAnchorX(){return t.ik},get regionAnchorY(){return t.ek},get scrollValue(){return t.ck},get viewportAnchorX(){return t.uk},get viewportAnchorY(){return t.sk},get width(){return t.ea}})),this.Va}},{key:"Uu",get:function(){return mh.Cm}}]),t}(),xh=function(){function t(){}var n=t.prototype;return n.ak=function(t){return this.fk()*t},n.hk=function(t){return this.e_(t)>0},n.vk=function(t){return this.e_(t)>=0},n.dk=function(t,n){return this.o_(t).C_(n)},n.S_=function(t){return 0===this.e_(t)},n.D_=function(t){return this.e_(t)<0},n.C_=function(t){return this.e_(t)<=0},n.lk=function(){return this.wk()?this.yk():this},n.s_=function(t){return this.u_(t.yk())},n.o_=function(t){return this.s_(t).lk()},t}();function Ph(t,n){return t.gk()?n.gk()?Sf.n_:Sf.r_:n.gk()?Sf.i_:t.pk()?n.pk()&&t.wk()===n.wk()?Sf.n_:t.wk()?Sf.i_:Sf.r_:n.wk()?Sf.r_:Sf.i_}var Lh=function(){function t(t,n){this._k=t,this.mk=n}t.kk=function(n,r,i){return i?new t(n.toUnsigned(),r.toUnsigned()):new t(n.toSigned(),r.toSigned())},t.bk=function(n){return n.unsigned?new t(n,qt.UZERO):new t(n,n.isNegative()?qt.NEG_ONE:qt.ZERO)},t.Tk=function(n,r){if(g(n))return r?t.Ek:t.Sk;if(r){if(n<0)return t.Ek;if(n>=3.402823669209385e38)return t.Rk}else{if(n<=-1.7014118346046923e38)return t.Ik;if(n+1>=1.7014118346046923e38)return t.Dk}return n<0?t.Tk(-n,r).yk():t.kk(qt.fromNumber(n%0x10000000000000000),qt.fromNumber(n/0x10000000000000000),r)};var n=t.prototype;return n.Ck=function(){return this.mk.unsigned},n.Nk=function(){return this._k.isZero()&&this.mk.isZero()},n.wk=function(){return this.mk.isNegative()},n.Ak=function(){return this.Ck()?t.kk(this._k,this.mk,!1):this},n.Ok=function(){return this.Ck()?this:t.kk(this._k,this.mk,!0)},n.xk=function(){return this._k},n.fk=function(){return this.wk()?-this.yk().fk():0x10000000000000000*this.mk.toNumber()+this._k.toUnsigned().toNumber()},n.Pk=function(){return this._k.toInt()},n.S_=function(t){return(this.Ck()===t.Ck()||this.mk.getHighBits()>>>31!=1||t.mk.getHighBits()>>>31!=1)&&(this.mk.toUnsigned().eq(t.mk.toUnsigned())&&this._k.toUnsigned().eq(t._k.toUnsigned()))},n.e_=function(t){if(this.S_(t))return Sf.n_;var n=this.wk(),r=t.wk();if(n&&!r)return Sf.i_;if(!n&&r)return Sf.r_;if(!this.Ck())return this.s_(t).wk()?Sf.i_:Sf.r_;var i=this.Ok(),e=t.Ok(),u=e.mk.comp(i.mk);return u>0||0===u&&e._k.gt(i._k)?Sf.i_:Sf.r_},n.D_=function(t){return this.e_(t)<0},n.C_=function(t){return this.e_(t)<=0},n.R_=function(t){return this.e_(t)>0},n.I_=function(t){return this.e_(t)>=0},n.Lk=function(){return new t(this._k.not(),this.mk.not())},n.Fk=function(n){return new t(this._k.and(n._k),this.mk.and(n.mk))},n.Mk=function(n){return new t(this._k.or(n._k),this.mk.or(n.mk))},n.Bk=function(n){var r=127&n;return 0===r?this:r<64?t.kk(this._k.shl(r),this.mk.shl(r).or(this._k.shru(64-r)),this.Ck()):t.kk(qt.ZERO,this._k.shl(r-64),this.Ck())},n.Uk=function(n){var r=127&n;return 0===r?this:r<64?t.kk(this._k.shru(r).or(this.mk.shl(64-r)),this.mk.shr(r),this.Ck()):t.kk(this.mk.shr(r-64),this.mk.isNegative()?qt.NEG_ONE:qt.ZERO,this.Ck())},n.qk=function(n){var r=127&n;return 0===r?this:r<64?t.kk(this._k.shru(r).or(this.mk.shl(64-r)),this.mk.shru(r),this.Ck()):64===r?t.kk(this.mk,qt.ZERO,this.Ck()):t.kk(this.mk.shru(r-64),qt.ZERO,this.Ck())},n.u_=function(n){var r=this.mk.high>>>16,i=65535&this.mk.high,e=this.mk.low>>>16,u=65535&this.mk.low,s=this._k.high>>>16,o=65535&this._k.high,c=this._k.low>>>16,a=65535&this._k.low,f=n.mk.high>>>16,h=65535&n.mk.high,v=n.mk.low>>>16,d=65535&n.mk.low,l=n._k.high>>>16,w=65535&n._k.high,y=n._k.low>>>16,g=0,p=0,_=0,m=0,k=0,b=0,T=0,E=0;T+=(E+=a+(65535&n._k.low))>>>16,E&=65535,b+=(T+=c+y)>>>16,T&=65535,k+=(b+=o+w)>>>16,b&=65535,m+=(k+=s+l)>>>16,k&=65535,_+=(m+=u+d)>>>16,m&=65535,p+=(_+=e+v)>>>16,_&=65535,g+=(p+=i+h)>>>16,p&=65535,g+=r+f,g&=65535;var S=this.Ck(),R=qt.fromBits(_<<16|m,g<<16|p,S),I=qt.fromBits(T<<16|E,k<<16|b,S);return t.kk(I,R,S)},n.s_=function(t){return this.u_(t.yk())},n.yk=function(){return this.Lk().u_(t.Vk)},n.jk=function(n){if(this.Nk()||n.Nk())return this.Ck()?t.Ek:t.Sk;if(this.wk())return n.wk()?this.yk().jk(n.yk()):this.yk().jk(n).yk();if(n.wk())return this.jk(n.yk()).yk();if(this.mk.isZero()&&0===this._k.high&&n.mk.isZero()&&0===n._k.high)return t.bk(this._k.multiply(n._k));var r=qt.fromBits(4294967295,0,!0),i=this._k.and(r),e=this._k.shru(32),u=this.mk.and(r),s=this.mk.shru(32),o=n._k.and(r),c=n._k.shru(32),a=n.mk.and(r),f=n.mk.shru(32),h=qt.UZERO,v=qt.UZERO,d=qt.UZERO,l=qt.UZERO;h=h.add(i.mul(o)),v=v.add(h.shru(32)),h=h.and(r),v=v.add(e.mul(o)),d=d.add(v.shru(32)),v=(v=v.and(r)).add(i.mul(c)),d=d.add(v.shru(32)),v=v.and(r),d=d.add(u.mul(o)),l=l.add(d.shru(32)),d=(d=d.and(r)).add(e.mul(c)),l=l.add(d.shru(32)),d=(d=d.and(r)).add(i.mul(a)),l=l.add(d.shru(32)),d=d.and(r),l=l.add(s.mul(o)).add(u.mul(c)).add(e.mul(a)).add(i.mul(f)).and(r);var w=qt.fromBits(h.getLowBitsUnsigned(),v.getLowBitsUnsigned(),!0),y=qt.fromBits(d.getLowBitsUnsigned(),l.getLowBitsUnsigned(),!0);return t.kk(w,y,this.Ck())},n.Hk=function(n){var r,i,e=n;if(e.Nk())throw new RangeError("division by zero");if(this.Nk())return this.Ck()?[t.Ek,t.Ek]:[t.Sk,t.Sk];if(this.Ck()){if(e.Ck()||(e=e.Ok()),e.R_(this))return[t.Ek,this];if(e.R_(this.qk(1)))return[i=t.Wk,r=this.s_(e)];i=t.Ek}else{if(this.S_(t.Ik)){if(e.S_(t.Vk)||e.S_(t.$k))return[t.Ik,t.Sk];if(e.S_(t.Ik))return[t.Vk,t.Sk];var u=this.Uk(1).zk(e).Bk(1);return u.S_(t.Sk)?i=e.wk()?t.Vk:t.$k:(r=this.s_(e.jk(u)),i=u.u_(r.zk(e))),[i,r=this.s_(e.jk(i))]}if(e.S_(t.Ik))return this.Ck()?[t.Ek,this]:[t.Sk,this];if(this.wk()){if(e.wk())return this.yk().Hk(e.yk());var s=this.yk().Hk(e);return i=s[0],r=s[1],[i.yk(),r.yk()]}if(e.wk()){var o=this.Hk(e.yk());return i=o[0],r=o[1],[i.yk(),r.yk()]}i=t.Sk}for(r=this;r.I_(e);){for(var c=l.max(1,l.floor(r.fk()/e.fk())),a=l.ceil(l.log(c)/l.LN2),f=a<=48?1:l.pow(2,a-48),h=t.Tk(c),v=h.jk(e);v.wk()||v.R_(r);)c-=f,v=(h=t.Tk(c,this.Ck())).jk(e);h.Nk()&&(h=t.Vk),i=i.u_(h),r=r.s_(v)}return[i,r]},n.zk=function(t){return this.Hk(t)[0]},n.Xk=function(t){return this.Hk(t)[1]},n.toString=function(n){var r=n||10;if(r<2||r>36)throw new RangeError("radix");if(this.Nk())return"0";if(this.wk()){if(this.S_(t.Ik)){var i=t.Tk(r),e=this.zk(i),u=e.jk(i).s_(this);return e.toString(r)+u.Pk().toString(r)}return"-"+this.yk().toString(r)}for(var s=t.Tk(l.pow(r,6),this.Ck()),o=this,c="";;){var a=o.zk(s),f=(o.s_(a.jk(s)).Pk()>>>0).toString(r);if((o=a).Nk())return f+c;for(;f.length<6;)f="0"+f;c=String(f)+c}},t}();Lh.Sk=Lh.bk(qt.ZERO),Lh.Ek=Lh.bk(qt.UZERO),Lh.Vk=Lh.bk(qt.ONE),Lh.Wk=Lh.bk(qt.UONE),Lh.$k=Lh.bk(qt.NEG_ONE),Lh.Dk=Lh.kk(qt.NEG_ONE,qt.MAX_VALUE,!1),Lh.Rk=Lh.kk(qt.MAX_UNSIGNED_VALUE,qt.MAX_UNSIGNED_VALUE,!0),Lh.Ik=Lh.kk(qt.ZERO,qt.MIN_VALUE,!1);var Fh=function(){function t(t,n){void 0===n&&(n=1),this.Gk=t,this.Ty=n}t.Yk=function(n){return new t(l.ceil(n.Gk),n.Ty)},t.Kk=function(n){return new t(l.floor(n.Gk),n.Ty)},t.A_=function(t,n){return t.vk(n)?t:n},t.N_=function(t,n){return t.C_(n)?t:n};var n=t.prototype;return n.u_=function(n){return this.Ty>=n.Ty?new t(this.Gk+n.Jk(this.Ty).Gk,this.Ty):new t(this.Jk(n.Ty).Gk+n.Gk,n.Ty)},n.hk=function(t){return t.D_(this)},n.vk=function(t){return t.C_(this)},n.o_=function(n){return this.Ty>=n.Ty?new t(l.abs(this.Gk-n.Jk(this.Ty).Gk),this.Ty):n.o_(this)},n.dk=function(t,n){return this.o_(t).C_(n)},n.e_=function(t){return r=t,(n=this).Ty>=r.Ty?Nf(n.Gk,r.Jk(n.Ty).Gk):Nf(n.Jk(r.Ty).Gk,r.Gk);var n,r},n.S_=function(t){return 0===this.e_(t)},n.D_=function(t){return this.e_(t)<0},n.C_=function(t){return this.e_(t)<=0},n.Jk=function(n){return new t(this.Gk*(n/this.Ty),n)},n.s_=function(n){return this.Ty>=n.Ty?new t(this.Gk-n.Jk(this.Ty).Gk,this.Ty):new t(this.Jk(n.Ty).Gk-n.Gk,n.Ty)},n.Qk=function(n){return new t(this.Gk*n,this.Ty)},P(t,[{key:"pk",get:function(){return!isFinite(this.Gk)}},{key:"d_",get:function(){return this.Gk/this.Ty}}]),t}();Fh.Zk=new Fh(1/6,1),Fh.Sk=new Fh(0),Fh.tb=new Fh(1/0),Fh.nb=1e6;var Mh=function(t){function n(n,r){var i;return(i=t.call(this)||this).ou=n.toSigned(),i.Ty=r>>>0,i}Gt(n,t),n.rb=function(t,r){return void 0===r&&(r=1e6),n.Tk(t*r,r)},n.Tk=function(t,r){return g(t)?n.ib:t===1/0?n.eb:t===-1/0?n.ub:new n(qt.fromNumber(t),r)},n.bk=function(t,r){return new n(t,r)},n.sb=function(t){return n.rb(t.d_,1e6)},n.ob=function(t){return new n(qt.fromNumber(t.getTime()),1e3)},n.A_=function(t,n){return t.vk(n)?t:n},n.N_=function(t,n){return t.C_(n)?t:n},n.cb=function(t,r,i){return n.A_(r,n.N_(i,t))};var r=n.prototype;return r.wk=function(){return this.ou.isNegative()},r.Nk=function(){return 0!==this.Ty&&this.ou.isZero()},r.pk=function(){return 0===this.Ty&&!this.ou.isZero()},r.gk=function(){return 0===this.Ty&&this.ou.isZero()},r.fk=function(){if(0===this.Ty)return this.ou.isZero()?NaN:this.ou.isNegative()?-1/0:1/0;var t=this.ou.divide(this.Ty),n=this.ou.subtract(t.multiply(this.Ty));return t.toNumber()+n.toNumber()/this.Ty},r.xk=function(){if(0===this.Ty)throw new h("Failed to convert timestamp");return this.ou},r.ab=function(){return new Date(0===this.Ty?NaN:this.Jk(1e3).ou.toNumber())},r.fb=function(){return new Fh(0===this.Ty?this.fk():this.ou.toNumber(),this.Ty)},r.Jk=function(t,r){void 0===r&&(r=qh.hb);var i=this.Ty;if(i===t)return this;if(0===i)return this;var e=Wt(i,t);return new n(function(t,n,r){var i=t.Hk(n),e=i[0],u=i[1];if(u.Nk())return e;if(r===qh.hb)return u.wk()?e.s_(Lh.Vk):e;if(r===qh.vb)return u.wk()?e:e.u_(Lh.Vk);var s=u.jk(Lh.Tk(2));return s.wk()?s.yk().D_(n)?e:e.s_(Lh.Vk):s.D_(n)?e:e.u_(Lh.Vk)}(Lh.bk(this.ou).jk(Lh.Tk(t/e)),Lh.Tk(i/e),r).xk(),t)},r.e_=function(t){if(this===t)return Sf.n_;if(0===this.Ty||0===t.Ty)return Ph(this,t);if(this.Nk())return t.Nk()?Sf.n_:t.wk()?Sf.r_:Sf.i_;if(t.Nk())return this.wk()?Sf.i_:Sf.r_;var n=l.min(this.Ty,t.Ty),r=this.Jk(n,qh.lb).ou,i=t.Jk(n,qh.lb).ou;return r.compare(i)},r.yk=function(){return 0===this.Ty?Bh(this):new n(this.ou.negate(),this.Ty)},r.u_=function(t){if(0===this.Ty||0===t.Ty)return Uh(this,t);if(this.Nk())return t;if(t.Nk())return this;var r=l.max(this.Ty,t.Ty),i=this.Jk(r,qh.lb),e=t.Jk(r,qh.lb);return new n(i.ou.add(e.ou),r)},r.jk=function(t){if(this.gk()||g(t))return n.ib;if(this.pk()||!isFinite(t)){if(this.Nk()||0===t)return n.ib;var r=this.wk()?n.ub:n.eb;return t<0?r.yk():r}return this.Nk()?this:new n(0===t?qt.ZERO:this.ou.multiply(t),this.Ty)},r.zk=function(t){if(this.gk()||g(t))return n.ib;if(this.pk())return isFinite(t)?0===t?1/t<0?this.yk():this:t<0?this.yk():this:n.ib;if(!isFinite(t))return new n(qt.ZERO,this.Ty);if(this.Nk())return 0===t?n.ib:new n(qt.ZERO,this.Ty);if(0===t){var r=this.wk()?n.ub:n.eb;return 1/t<0?r.yk():r}return new n(this.ou.divide(t),this.Ty)},r.wb=function(){return[this.ou.low,this.ou.high,this.Ty]},n}(xh);function Bh(t){return t.gk()?t:t.wk()?Mh.eb:Mh.ub}function Uh(t,n){return t.gk()||n.gk()?Mh.ib:t.pk()&&n.pk()?t.wk()===n.wk()?t:Mh.ib:t.pk()?t:n}Mh.Sk=new Mh(qt.ZERO,1e6),Mh.ib=new Mh(qt.ZERO,0),Mh.eb=new Mh(qt.ONE,0),Mh.ub=new Mh(qt.NEG_ONE,0);var qh,Vh=function(t){function n(n,r){var i;return(i=t.call(this)||this).ou=BigInt.asIntN(64,n),i.Ty=r>>>0,i}Gt(n,t),n.rb=function(t,r){return void 0===r&&(r=1e6),n.Tk(t*r,r)},n.Tk=function(t,r){return g(t)?n.ib:t===1/0?n.eb:t===-1/0?n.ub:new n(BigInt(l.floor(t)),r)},n.bk=function(t,r){return new n(BigInt(t.high)<<BigInt(32)|BigInt(t.low>>>0),r)},n.sb=function(t){return n.rb(t.d_,1e6)},n.ob=function(t){return n.Tk(t.getTime(),1e3)},n.A_=function(t,n){return t.vk(n)?t:n},n.N_=function(t,n){return t.C_(n)?t:n},n.cb=function(t,r,i){return n.A_(r,n.N_(i,t))};var r=n.prototype;return r.wk=function(){return this.ou<BigInt(0)},r.Nk=function(){return 0!==this.Ty&&this.ou===BigInt(0)},r.pk=function(){return 0===this.Ty&&this.ou!==BigInt(0)},r.gk=function(){return 0===this.Ty&&this.ou===BigInt(0)},r.fk=function(){if(0===this.Ty)return this.ou===BigInt(0)?NaN:this.ou<BigInt(0)?-1/0:1/0;var t=this.ou/BigInt(this.Ty),n=this.ou-t*BigInt(this.Ty);return Number(t)+Number(n)/this.Ty},r.xk=function(){if(0===this.Ty)throw new h("Failed to convert timestamp");return this.yb()},r.yb=function(){var t=this.ou&BigInt(4294967295),n=this.ou>>BigInt(32)&BigInt(4294967295);return qt.fromBits(Number(t),Number(n))},r.ab=function(){return new Date(0===this.Ty?NaN:Number(this.Jk(1e3).ou))},r.fb=function(){return new Fh(0===this.Ty?this.fk():Number(this.ou),this.Ty)},r.Jk=function(t,r){void 0===r&&(r=qh.hb);var i=this.Ty;if(i===t)return this;if(0===i)return this;var e=Wt(i,t);return new n(function(t,n,r){var i=t/n,e=t-i*n;if(e===BigInt(0))return i;if(r===qh.hb)return e<BigInt(0)?i-BigInt(1):i;if(r===qh.vb)return e<BigInt(0)?i:i+BigInt(1);var u=e*BigInt(2);return u<BigInt(0)?-u<n?i:i-BigInt(1):u<n?i:i+BigInt(1)}(this.ou*BigInt(t/e),BigInt(i/e),r),t)},r.e_=function(t){if(this===t)return Sf.n_;if(0===this.Ty||0===t.Ty)return Ph(this,t);if(this.Nk())return t.Nk()?Sf.n_:t.wk()?Sf.r_:Sf.i_;if(t.Nk())return this.wk()?Sf.i_:Sf.r_;var n=l.min(this.Ty,t.Ty),r=this.Jk(n,qh.lb).ou,i=t.Jk(n,qh.lb).ou;return r>i?Sf.r_:r<i?Sf.i_:Sf.n_},r.yk=function(){return 0===this.Ty?jh(this):new n(-this.ou,this.Ty)},r.u_=function(t){if(0===this.Ty||0===t.Ty)return Hh(this,t);if(this.Nk())return t;if(t.Nk())return this;var r=l.max(this.Ty,t.Ty),i=this.Jk(r,qh.lb),e=t.Jk(r,qh.lb);return new n(i.ou+e.ou,r)},r.jk=function(t){if(this.gk()||g(t))return n.ib;if(this.pk()||!isFinite(t)){if(this.Nk()||0===t)return n.ib;var r=this.wk()?n.ub:n.eb;return t<0?r.yk():r}return this.Nk()?this:new n(0===t?BigInt(0):this.ou*BigInt(t),this.Ty)},r.zk=function(t){if(this.gk()||g(t))return n.ib;if(this.pk())return isFinite(t)?0===t?1/t<0?this.yk():this:t<0?this.yk():this:n.ib;if(!isFinite(t))return new n(BigInt(0),this.Ty);if(this.Nk())return 0===t?n.ib:new n(BigInt(0),this.Ty);if(0===t){var r=this.wk()?n.ub:n.eb;return 1/t<0?r.yk():r}return new n(this.ou/BigInt(t),this.Ty)},r.wb=function(){var t=this.yb();return[t.low,t.high,this.Ty]},P(n,null,[{key:"Sk",get:function(){return n.gb||(n.gb=new n(BigInt(0),1e6)),n.gb}},{key:"ib",get:function(){return n.pb||(n.pb=new n(BigInt(0),0)),n.pb}},{key:"eb",get:function(){return n._b||(n._b=new n(BigInt(1),0)),n._b}},{key:"ub",get:function(){return n.mb||(n.mb=new n(BigInt(-1),0)),n.mb}}]),n}(xh);function jh(t){return t.gk()?t:t.wk()?Vh.eb:Vh.ub}function Hh(t,n){return t.gk()||n.gk()?Vh.ib:t.pk()&&n.pk()?t.wk()===n.wk()?t:Vh.ib:t.pk()?t:n}Vh.gb=void 0,Vh.pb=void 0,Vh._b=void 0,Vh.mb=void 0,function(t){t[t.hb=0]="hb",t[t.vb=1]="vb",t[t.lb=2]="lb"}(qh||(qh={}));var Wh=function(){try{return"function"==typeof BigInt&&"bigint"==typeof BigInt(0)}catch(t){return!1}}()?Vh:Mh,$h=9e4,zh=l.pow(2,33),Xh=(Wh.Tk(zh,$h).zk(2),{kb:0,bb:1/0,Tb:0}),Gh=6,Yh=["WEBVTT ","WEBVTT\t","WEBVTT\n"],Kh=[" ","\t","\n","\f","\r"],Jh=/^\d*$/,Qh=/.*[0-9]+.*/,Zh=/^[\d.-]+$/,tv=/(^\.|\.$)/,nv=/(\D\.|\.\D)/;function rv(t,n){void 0===n&&(n=Xh);var r={Wf:[],Eb:[],Sb:[]},i=iv(t),e=new Ei;if(dv(i),ev(i,function(t){return"\n"!==t},e),e.ro>=i.length)return r;(e.Qs(1),"\n"!==i.charAt(e.ro))?cv(uv(i,e,!1,!0,r,n),r):e.Qs(1);for(ev(i,function(t){return"\n"===t},e);e.ro<i.length;){cv(uv(i,e,!1,!1,r,n),r),ev(i,function(t){return"\n"===t},e)}return r}function iv(t){var n=Fn(t,"\0"," "),r=Fn(n,"\r\n","\n");return Fn(r,"\r","\n")}function ev(t,n,r){for(var i=r.ro;r.ro<t.length&&n(t.charAt(r.ro));)r.Qs(1);return t.substring(i,r.ro)}function uv(t,n,r,i,e,u){for(var s,o=0,c=n.ro,a="",f=!1,h=!1,v=null,d=null,l=null;!f;)if(s=ev(t,function(t){return"\n"!==t},n),o++,n.ro>=t.length?f=!0:n.Qs(1),Mn(s,"--\x3e")){if(i||1!==o&&(2!==o||h)){n.Zs(c);break}h=!0,c=n.ro,v=new Ah(0,0,"",!1,a);try{av(s,e.Eb,v,u),a=""}catch(t){N.ga(t),v=null}}else{if(""===s)break;i&&Bn(s,"X-TIMESTAMP-MAP")&&(e.Rb=sv(s)),i||2!==o||r||(qn("STYLE",a.replace(/ /g,""))?(d={Uu:mh.Nm},a=""):qn("REGION",a.replace(/ /g,""))&&(l=new Oh("",100,3,0,100,0,100,""),a="")),a&&(a+="\n"),a+=s,c=n.ro}if(v)return v.Fm=a,v;if(d);else if(l)return function(t,n){for(var r=t.split(/\s/),i=0;i<r.length;i++){var e=r[i];if(0!==e.length&&Mn(e,":")&&":"!==e.charAt(0)&&":"!==e.charAt(e.length-1)){var u=e.indexOf(":"),s=e.substring(0,u),o=e.substring(u+1,e.length);switch(s.toUpperCase()){case"ID":Ev(o,n);break;case"WIDTH":Iv(o,n);break;case"LINES":Rv(o,n);break;case"REGIONANCHOR":var c=Tv(o);c&&(n.ik=c[0],n.ek=c[1]);break;case"VIEWPORTANCHOR":var a=Tv(o);a&&(n.uk=a[0],n.sk=a[1]);break;case"SCROLL":Sv(o,n)}}}}(a,l),l;return null}function sv(t){var n,r,i=t.split("=")[1].trim().split(","),e=ov(i[0].trim(),"MPEGTS")?i[0]:i[1],u=ov(i[0].trim(),"LOCAL")?i[0]:i[1];return{Ib:(r=Number(e.split(/:(.*)/)[1].trim())||0,Wh.Tk(r,$h)),Db:Wh.rb(null!==(n=vv(u.split(/:(.*)/)[1].trim(),new Ei))&&void 0!==n?n:0)}}function ov(t,n){return Bn(t,n)}function cv(t,n){t&&function(t){return t.Uu===mh.Dm}(t)?n.Wf.push(t):t&&function(t){return t.Uu===mh.Cm}(t)?n.Eb.push(t):t&&function(t){return t.Uu===mh.Nm}(t)&&n.Sb.push(t)}function av(t,n,r,i){var e=new Ei;if(lv(t,e),r.Pm=fv(vv(t,e),i),lv(t,e),"--\x3e"!==t.substring(e.ro,e.ro+3))throw h("Something went wrong with parsing a WebVTT Cue");e.Qs(3),lv(t,e),r.Lm=fv(vv(t,e),i),function(t,n,r){for(var i=t.split(/\s/),e=0;e<i.length;e++){var u=i[e];if(0!==u.length&&Mn(u,":")&&":"!==u.charAt(0)&&":"!==u.charAt(u.length-1)){var s=u.indexOf(":"),o=u.substring(0,s),c=u.substring(s+1,u.length);switch(o.toUpperCase()){case"REGION":_v(c,n,r);break;case"VERTICAL":kv(c,n);break;case"D":bv(c,n);break;case"LINE":case"L":gv(c,n);break;case"POSITION":case"T":pv(c,n);break;case"SIZE":case"S":mv(c,n);break;case"ALIGN":case"A":yv(c,n)}}}}(t.substring(e.ro,t.length),r,n)}function fv(t,n){return t+n.kb}function hv(t){return/^[0-9]$/.test(t)}function vv(t,n){var r,i,e,u=Fn(t,",","."),s=!1;if(n.ro>=u.length||!hv(u.charAt(n.ro)))throw new h("Something went wrong with parsing a WebVTT Cue timestamp");var o=ev(u,hv,n),c=w(o,10);if((o.length>2||c>59)&&(s=!0),n.ro>=u.length||":"!==u.charAt(n.ro))throw new h("Something went wrong with parsing a WebVTT Cue timestamp");n.Qs(1);var a=ev(u,hv,n);if(2!==a.length)throw new h("Something went wrong with parsing a WebVTT Cue timestamp");var f=w(a,10);if(s||n.ro<u.length&&":"===u.charAt(n.ro)){if(n.ro>=u.length||":"!==u.charAt(n.ro))throw new h("Something went wrong with parsing a WebVTT Cue timestamp");n.Qs(1);var v=ev(u,hv,n);if(2!==a.length)throw new h("Something went wrong with parsing a WebVTT Cue timestamp");r=c,i=f,e=w(v,10)}else r=0,i=c,e=f;if(n.ro>=u.length||"."!==u.charAt(n.ro))throw new h("Something went wrong with parsing a WebVTT Cue timestamp");n.Qs(1);var d=ev(u,hv,n),l=w(d,10);if(f>59||e>59)throw new h("Something went wrong with parsing a WebVTT Cue timestamp");return 60*r*60+60*i+e+l/1e3}function dv(t){if(t.length<Gh)return!1;for(var n=0;n<Yh.length;n++){if(Bn(t,Yh[n]))return!0}return!1}function lv(t,n){for(;n.ro<t.length&&(r=t.charAt(n.ro),Qn(Kh,r));)n.Qs(1);var r}function wv(t){var n=t.lastIndexOf("%");if(n>-1){var r=y(t.substring(0,n));if(!g(r)&&r>=0&&r<=100)return r}return null}function yv(t,n){var r=t.toLowerCase();switch(r){case"start":case"center":case"end":case"left":case"right":n.tk=r;break;case"middle":n.tk="center"}}function gv(t,n){var r=t,i="";if(Mn(t,",")&&(r=t.substring(0,t.indexOf(",")),i=t.substring(t.indexOf(",")+1,t.length)),Qh.test(r)){var e;if(Un(r,"%")){var u=wv(r);if(null===u)return;e=u}else{if(!Zh.test(t)||t.lastIndexOf("-")>0||t.indexOf(".")!==t.lastIndexOf(".")||!nv.test(t)||tv.test(t))return;if(e=y(t),g(e))return}switch(n.Gm=e,n.Zm=Un(r,"%"),i=t.toLowerCase()){case"start":case"center":case"end":n.Ym=i;break;case"middle":n.Ym="center"}}}function pv(t,n){var r=t,i="";Mn(t,",")&&(r=t.substring(0,t.indexOf(",")),i=t.substring(t.indexOf(",")+1,t.length));var e=wv(r);if(null!==e)switch(n.Km=e,i=i.toLowerCase()){case"line-left":case"center":case"line-right":case"auto":n.Jm=i;break;case"start":n.Jm="line-left";break;case"middle":n.Jm="center";break;case"end":n.Jm="line-right"}}function _v(t,n,r){for(var i=r.length-1;i>=0;i--)if(r[i].Nf===t)return void(n.Qm=r[i])}function mv(t,n){var r=wv(t);null!==r&&(n.Ks=r)}function kv(t,n){switch(t.toLowerCase()){case"rl":case"vertical:rl":case"vertical-rl":n.nk="rl";break;case"lr":case"vertical:lr":case"vertical-lr":n.nk="lr";break;default:n.nk=""}}function bv(t,n){"VERTICAL"===t.toUpperCase()?n.nk="rl":"VERTICAL-LR"===t.toUpperCase()&&(n.nk="lr")}function Tv(t){if(t.indexOf(",")>=0){var n=wv(t.substring(0,t.indexOf(","))),r=wv(t.substring(t.indexOf(",")+1,t.length));return[jt(n||0,0,100),jt(r||100,0,100)]}return null}function Ev(t,n){n.Nf=t}function Sv(t,n){"up"===t.toLowerCase()&&(n.ck="up")}function Rv(t,n){Jh.test(t)&&(n.rk=w(t))}function Iv(t,n){var r=wv(t);null!==r&&(n.ea=r)}function Dv(t){return t&&"wu"in t?t.wu:t}var Cv=function(t){function n(n,r,i,e,u,s,o){var c;return(c=t.call(this,n,r,i,e)||this).Cb=u,c.Nb=s,c.Ab=o||void 0,c}return Gt(n,t),n.prototype.S_=function(n){return this===n||!!uo(this,n)&&(!!t.prototype.S_.call(this,n)&&(!!eo(this.Ob,n.Ob)&&(!!eo(this.Eb,n.Eb)&&(this.xb&&n.xb?!!this.xb.nu(n.xb)&&(this.Fm&&n.Fm?this.Fm.nu(n.Fm):this.Fm===n.Fm):this.xb===n.xb))))},P(n,[{key:"Ob",get:function(){return this.Cb}},{key:"Eb",get:function(){return this.Nb}},{key:"xb",get:function(){return this.Ab}},{key:"ja",get:function(){var t;return this.Va||(this.Va=ro(Ih(t=this),{get styles(){return t.Ob},get regions(){return t.Eb},get metadata(){return Dv(t.xb)},get content(){return Dv(t.Fm)}})),this.Va}}]),n}(Nh),Nv=function(){function t(t,n,r){this.Pb=t,this.Lb=n,Yt(r)?this.Fb=function(t,n,r){for(var i=0,e=["begin","end","dur"];i<e.length;i++){var u=e[i];r._u(u)}return r}(0,0,r):this.Fb=r}return P(t,[{key:"Mb",get:function(){return this.Fb.ru(!0)}},{key:"Pm",get:function(){return this.Pb}},{key:"Lm",get:function(){return this.Lb}}]),t}();var Av="http://www.w3.org/XML/1998/namespace";function Ov(t,n){return function(t,n){var r=t.yu.slice(),i=[];for(;r.length>0;){var e=r.shift();n(e)?i.push(e):r.push.apply(r,e.yu)}return i}(t,function(t){return t.vu===n})}function xv(t,n){for(var r=t,i=0;i<n.length;i++){var e=n[i];r=r.replace(e+":","")}return r}function Pv(t,n){for(var r=t.Tu,i={},e=0;e<r.length;e++)i[xv(r[e].eu,n)]=r[e].ou;return i}var Lv=/^(\d\d+):(\d\d):(\d+)((\.(\d+))?|(:(\d\d+)(\.(\d+))?))$/,Fv=/^(\d+)(\.(\d+))?(h|m|s|ms|f|t)$/;function Mv(t,n,r){return void 0===r&&(r=Xh),function(t,n,r){var i=[],e=N.Ze(t);if(!e)return i;var u=e.Ru;if("tt"!==u.vu)return i;var s=u&&u.fu("head")[0],o=u&&u.fu("body")[0],c=["ebutts","tts","xml"];if(!o||!s)return i;for(var a=function(t,n){for(var r={},i=t.fu("styling")[0],e=i&&i.fu("style")||[],u=0;u<e.length;u++){var s=e[u],o=s.pu(Av,"id");r[o]=Pv(s,n)}return r}(s,c),f=function(t,n){var r=io(t),i=Vv(n.gu("tts:extent"));if(!i)return r;for(var e=0,u=d.keys(r);e<u.length;e++){var s=u[e],o=Vv(r[s].extent);if(o){var c=Uv(o[0],i[0]),a=Uv(o[1],i[1]);r[s].extent=c+" "+a}var f=Vv(r[s].origin);if(f){var h=Uv(f[0],i[0]),v=Uv(f[1],i[1]);r[s].origin=h+" "+v}}return r}(function(t,n){for(var r={},i=t.fu("layout")[0],e=i&&i.fu("region")||[],u=0;u<e.length;u++){var s=e[u],o=s.pu(Av,"id");if(o){r[o]=Pv(s,n);var c=Wv(s,n);for(var a in c)z.call(c,a)&&(r[o][a]=c[a])}}return r}(s,c),u),h=s.fu("metadata")[0],v=function t(n,r,i,e){var u,s;var o=r;var c;var a=i;var f=[];var h=[];if(Yt(n)){o=null!==(u=Hv(n.gu("begin"),e))&&void 0!==u?u:o,c=Hv(n.gu("dur"),0),a=null!==(s=Hv(n.gu("end"),e))&&void 0!==s?s:void 0!==c?o+c:a;for(var v=n.hu,d=0;d<v.length;d++)("body"===n.iu||"div"===n.iu)&&v[d].Xe>1||(f=f.concat(t(v[d],o,a,e)))}var l=function(t,n,r){var i=[];i.push(t,n);for(var e=0;e<r.length;e++){var u=r[e];i.push(u.Pm,u.Lm)}i.sort(Df);for(var s=i.length,o=0;o<s-1;o++)i[o+1]===i[o]&&(Jn(i,o+1),o--,s=i.length);return i}(o,a,f);for(var w=0;w<l.length-1;w++){var y=jv(l[w],l[w+1],f);if(y.length<=0&&$v(n)){var g=n.ru(!1);h.push(new Nv(l[w],l[w+1],g))}else y.length>0&&function(){var t=n.ru(!1);y.forEach(function(n){return t.lu(n.Mb)}),h.push(new Nv(l[w],l[w+1],t))}()}return h}(o,r.kb,r.bb,r.Tb),l=0;l<v.length;l++){var w=v[l],y=Bv(f,w);i.push(new Cv(w.Pm,w.Lm,w.Mb,!1,a,y,h))}return i}(t,0,r)}function Bv(t,n){for(var r=function t(n){var r=[];var i;if(Yt(n)){(i=n.gu("region"))&&r.push(i);for(var e=n.hu,u=0;u<e.length;u++)r=r.concat(t(e[u]))}return r}(n.Mb),i={},e=0;e<r.length;e++){var u=r[e];i[u]=t[u]}return i}function Uv(t,n){var r=qv(t),i=qv(n);if(r&&i&&r===i){var e=Number(t.slice(0,-r.length)),u=Number(n.slice(0,-i.length));return g(e)||g(u)?t:e/u*100+"%"}return t}function qv(t){return Un(t,"px")?"px":Un(t,"em")?"em":Un(t,"c")?"c":Un(t,"%")?"%":void 0}function Vv(t){if(t){var n=t.split(" ");if(2===n.length)return[n[0],n[1]]}}function jv(t,n,r){for(var i=[],e=0;e<r.length;e++){var u=r[e].Pm,s=r[e].Lm;(u>=t&&s<=n||u<n&&s>=n||u<t&&s>t)&&i.push(r[e])}return i}function Hv(t,n){if(t){if(Lv.test(t)){var r=Lv.exec(t);if(!r)return;var i=Number(r[1])||0,e=Number(r[2])||0,u=Number(r[3])||0,s=r[6];return 3600*i+60*e+u+(s?Number(s)*l.pow(.1,s.length):0)-n}if(Fv.test(t)){var o=Fv.exec(t);if(!o)return;var c,a=Number(o[1]);switch(o[4]){case"h":c=3600*a;break;case"m":c=60*a;break;case"s":c=a;break;case"ms":c=.001*a;break;case"f":case"t":default:c=NaN}return c-n}}}function Wv(t,n){for(var r={},i=t.fu("style")||[],e=0;e<i.length;e++){var u=Pv(i[e],n);for(var s in u)z.call(u,s)&&(r[s]=u[s])}return r}function $v(t){if(Yt(t)){var n=t.iu.toUpperCase(),r=Boolean(t.gu("smpte:backgroundImage"));return"BR"===n||r}return t.Xe===Xt.Ke}function zv(t){var n=function(t){var n=N.Ze(t);if(n)return n.Ru}(t);return"tt"===(null==n?void 0:n.iu)}var Xv,Gv,Yv=function(t){function n(){return t.apply(this,arguments)||this}Gt(n,t);var r=n.prototype;return r.wf=function(n){return t.prototype.wf.call(this,n)},r.yf=function(n){var r=t.prototype.yf.call(this,n);return r&&(n.Uf=_o.jf),r},r.Ha=function(){return So(this)},n}(Ks),Kv=function(t){function n(){var n;return(n=t.apply(this,arguments)||this)._y=new Yv,n.Bb=function(t){t.Wa.Uf!==_o.jf?n.Ub(t.Wa):n.qb(t.Wa)},n}Gt(n,t);var r=n.prototype;return r.wf=function(t){t.Rs(Hs.nf,this.Bb),this._y.wf(t)},r.yf=function(t){t.Cs(Hs.nf,this.Bb),t.Uf=_o.jf,this._y.yf(t)},r.Ub=function(t){},r.qb=function(t){},r.Vb=function(){for(var t=0,n=this._y._f;t<n.length;t++){var r=n[t];r.Cs(Hs.nf,this.Bb),r.ai()}},r.pf=function(){return this.Vb(),this._y.pf(),D.resolve()},r.ai=function(){var t=D.coroutine(vn.mark(function t(){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Ds(),t.next=3,this.pf();case 3:this._y.ai();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n}(gr),Jv=function(t){function n(n,r,i,e,u){var s;return(s=t.call(this,n,r,u)||this).url=i,s.status=e,s}return Gt(n,t),n}(Yi);function Qv(t,n){return t===Uf.wm||t===Uf.Rw&&n===Uf.wm}function Zv(t,n,r,i){for(var e=0,u=t.Wf._f;e<u.length;e++){var s=u[e];if(s.Pm>r)break;n<=s.Lm&&i.push(s)}}function td(t,n){return If(t.Af,n.Af)}function nd(t,r){var i=r,e=0;if(function(t){switch(t.name){case Xv.jb:case Xv.Hb:case Xv.Wb:return!0;default:return!1}}(t)&&t.name===Xv.jb)i=t.$b.kd;else if(t.name===Xv.Hb){var u=t.zb;if(i=u.Xb,0===(e=u.Gb))return new Jv(n.ErrorCode.SUBTITLE_CORS_ERROR,"Could not load the subtitle file. Make sure the source is set correctly and that CORS support is enabled.",i,e,t)}return new Jv(n.ErrorCode.SUBTITLE_LOAD_ERROR,"Could not load the subtitle file.",i,e,t)}function rd(t){switch(t){case yf.WEBVTT:return"WebVTT";case yf.SRT:return"SRT";case yf.TTML:return"TTML";default:return""}}function id(t){return dv(iv(t))?yf.WEBVTT:zv(t)?yf.TTML:yf.SRT}!function(t){t.jb="HttpOpenError",t.Hb="HttpResponseError",t.Wb="HttpTimeoutError"}(Xv||(Xv={})),function(t){t.Yb="vtt",t.fw="wvtt",t.Kb="stpp"}(Gv||(Gv={}));var ed=function(t){function n(n){var r;return(r=t.call(this,mo.Mf)||this).errorObject=n,r}return Gt(n,t),n.prototype.Ha=function(){return this},P(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(js),ud=function(t){function r(n,r){var i;return(i=t.call(this)||this).Jb=new nr,i.Qb=n,i.Zb=r,i}Gt(r,t);var i=r.prototype;return i.tT=function(t){if(t.src){var n=t.kind||Uf.hm,r=this.Qb.nT(n,t.label,t.srclang,t.default);return r.zf=ls(t.src),this.wf(r),r}},i.rT=function(){var t=D.coroutine(vn.mark(function t(r,i){var e,u,s,o,c,a,f,h,v,d,l;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r.Hf=_h.LOADING,e=new Vc({kd:r.zf,Sd:Nc.Ke,Ed:Pc.GET,ks:i}),t.prev=2,t.next=5,this.Zb.$b(e);case 5:return o=t.sent,s=o.Gb,t.next=9,o.iT();case 9:u=t.sent,t.next=18;break;case 12:return t.prev=12,t.t0=t.catch(2),ur(t.t0),r.Hf=_h.ERROR,r.Es(new ed(nd(t.t0,r.zf))),t.abrupt("return");case 18:for(t.prev=18,c=id(u),r.Uu=c,a=[],c===yf.WEBVTT||c===yf.SRT?(f=rv(u),a=f.Wf):c===yf.TTML&&(a=Mv(u)),h=0,v=a;h<v.length;h++)d=v[h],r.eT(d);t.next=33;break;case 26:return t.prev=26,t.t1=t.catch(18),ur(t.t1),r.Hf=_h.ERROR,l=rd(r.Uu),r.Es(new ed(new Jv(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Could not parse the "+l+(l?" ":"")+"subtitle file.",r.zf,s,t.t1))),t.abrupt("return");case 33:r.Hf=_h.LOADED;case 34:case"end":return t.stop()}},t,this,[[2,12],[18,26]])}));return function(n,r){return t.apply(this,arguments)}}(),i.Ub=function(t){Qn(this._y._f,t)&&t.Hf===_h.NONE&&this.rT(t,this.Jb.ks).catch(sr)},i.Ro=function(){},i.pf=function(){var n=D.coroutine(vn.mark(function n(){var r,i,e;return vn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(this.Jb.gs(),this.Jb=new nr,r=0,i=this._y._f;r<i.length;r++)e=i[r],this.Qb.uT(e);return n.next=5,t.prototype.pf.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),r}(Kv);function sd(t,n){for(var r=0;r<t.length;r++){var i=t[r];if(i.Of===n&&i.sT)return i}}function od(t,n){cd(sd(t._f,n))}function cd(t){void 0!==t&&(t.Uf=_o.qf)}function ad(t,n){cd(sd(t._f,n)||function(t,n){for(var r=0;r<t.length;r++){var i=t[r];if(i.Of===n)return i}}(t._f,n))}function fd(t){for(var n=0;n<Gf.length;n++){var r=Gf[n];r===Uf.lm?ad(t,r):od(t,r)}}var hd=function(t){function n(){return t.call(this,Po.Ah)||this}return Gt(n,t),n}(_r),vd=function(){function t(t){var n=this;this.oT=[],this.cT=void 0,this.aT=new nr,this.kn=function(){return 0===n.oT.length?n.fT?dd(n.fT,n.aT.ks).then(n.hT,n.hT):n.hT():n.oT.shift()().then(n.kn)},this.hT=function(){if(0!==n.oT.length)return n.kn();n.cT=void 0},this.fT=t}var n=t.prototype;return n.vT=function(t,n){var r=this;return new D(function(i){var e=new nr;e.ps(r.aT.ks),n&&e.ps(n);var u=function(){e.fs()};r.oT.push(function(){var n=dd(t,e.ks);return i(n),n.then(u,u)}),r.cT||(r.cT=r.kn())})},n.gs=function(){return this.dT(!0)},n.ai=function(){return this.fT=void 0,this.dT(!1)},n.dT=function(t){var n=this.cT;return this.aT.gs(),t&&(this.aT=new nr),D.resolve(n)},t}();function dd(t,n){return new D(function(r){return r(t(n))})}var ld=function(t){function n(n){var r;return(r=t.call(this,Po.vh)||this).errorObject=n,r}return Gt(n,t),P(n,[{key:"error",get:function(){return this.errorObject.message}},{key:"licenseAcquisitionURL",get:function(){return this.errorObject.url}},{key:"status",get:function(){return this.errorObject.status}},{key:"statusText",get:function(){return this.errorObject.statusText}},{key:"licenseAcquisitionMessage",get:function(){return this.errorObject.response}},{key:"systemCode",get:function(){return this.errorObject.systemCode}}]),n}(_r),wd=function(t){function n(n){var r;return(r=t.call(this)||this).lT=void 0,r.aT=new nr,r.wT=n,r}Gt(n,t);var r=n.prototype;return r.yT=function(t){t&&(this.lT=t,N.Ea.ta&&this.gT(this.aT.ks).catch(sr))},r.gT=function(){var t=D.coroutine(vn.mark(function t(n){var r,i,e,u,s,o,c,a;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=this.lT,i=!1,e=0,u=r.pT;case 3:if(!(e<u.length)){t.next=25;break}s=u[e],o=0,c=s._T;case 6:if(!(o<c.length)){t.next=20;break}return a=c[o],t.prev=8,t.next=11,this.mT(s.jo.Vu,a,n);case 11:i=!0,t.next=17;break;case 14:t.prev=14,t.t0=t.catch(8),ur(t.t0);case 17:o++,t.next=6;break;case 20:if(!i){t.next=22;break}return t.abrupt("break",25);case 22:e++,t.next=3;break;case 25:case"end":return t.stop()}},t,this,[[8,14]])}));return function(n){return t.apply(this,arguments)}}(),r.kT=function(t,n){return this.mT(t,n,this.aT.ks)},r.pf=function(){return this.lT=void 0,this.aT.gs(),this.aT=new nr,this.bT()},r.ai=function(){var t=D.coroutine(vn.mark(function t(){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Ds(),t.next=3,this.pf();case 3:this.aT.fs();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.TT=function(t,n){if(!this.lT)return!1;var r=nf(t,n);return Boolean(r[In])},P(n,[{key:"jo",get:function(){return this.ET()}}]),n}(gr),yd=function(t){function n(n){var r;return(r=t.call(this,mo.Mf)||this).errorObject=n,r}return Gt(n,t),P(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(_r),gd=function(t){function n(){return t.call(this,Po.dh)||this}return Gt(n,t),n}(_r),pd=function(t){function n(n){var r;return(r=t.call(this,"Hh")||this).ST=n,r}return Gt(n,t),n}(_r),_d=new vd,md=function(t){function r(r,i,e){var u;return(u=t.call(this)||this).RT=r,u.IT=i,u.DT=e,u.Br=!1,u.CT=!1,u.aT=new nr,u.yo=function(t){switch(t.Fs){case"license-request":u.NT(t.Ls,t.Ms).catch(function(t){return u.Qo(t)});break;default:u.Qo(new Jc(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Unsupported CDM message type: "+t.Fs))}},u.AT=function(t){u.RT.Oo.Xs(function(t,n){switch(t){case"usable":N.To(function(){u.CT=!0,u.Es(new gd)},100);break;case"expired":case"status-pending":break;case"output-restricted":case"internal-error":u.Es(new pd(n))}})},u.OT=function(t){u.Qo(new Jc(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Unknown CDM error"))},r.Rs("Ls",u.yo),r.Rs("Ps",u.AT),r.Rs("Bs",u.OT),u.No=r.No.then(function(){return u.xT()}),u}Gt(r,t);var i=r.prototype;return i.So=function(){var t=this;return this.Br=!0,_d.vT(function(n){return t.PT(n)},this.aT.ks)},i.PT=function(){var t=D.coroutine(vn.mark(function t(r){var i,e,u;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,er(r),t.next=4,this.IT.LT(this.DT.Hs);case 4:return i=t.sent,t.next=7,this.RT.So(this.DT.Vu,this.DT.Hs,i);case 7:if(!this.IT.FT){t.next=10;break}return t.next=10,this.IT.Os("persistenttokenavailable",r);case 10:t.next=19;break;case 12:throw t.prev=12,t.t0=t.catch(0),ur(t.t0),e=t.t0 instanceof Ni?t.t0.fo:void 0,u=new Jc(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while performing the CDM request",t.t0,void 0,void 0,void 0,void 0,e),this.Qo(u),u;case 19:case"end":return t.stop()}},t,this,[[0,12]])}));return function(n){return t.apply(this,arguments)}}(),i.NT=function(){var t=D.coroutine(vn.mark(function t(r,i){var e,u;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i&&this.IT.MT(i),t.prev=1,!Ii(r)){t.next=8;break}return t.next=5,this.IT.BT(new p(r),this.aT.ks);case 5:e=t.sent,t.next=11;break;case 8:return t.next=10,this.IT.UT(new p(r),this.aT.ks);case 10:e=t.sent;case 11:t.next=18;break;case 13:if(t.prev=13,t.t0=t.catch(1),!ir(t.t0)){t.next=17;break}return t.abrupt("return");case 17:throw t.t0;case 18:return t.prev=18,t.next=21,this.RT.Do(e);case 21:t.next=27;break;case 23:throw t.prev=23,t.t1=t.catch(18),u=t.t1 instanceof Ni?t.t1.fo:void 0,new Jc(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while applying license response",t.t1,void 0,void 0,void 0,void 0,u);case 27:case"end":return t.stop()}},t,this,[[1,13],[18,23]])}));return function(n,r){return t.apply(this,arguments)}}(),i.Qo=function(t){var r=t instanceof Jc?t:new Jc(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.Es(new ld(r)),this.bo()},i.xT=function(){this.RT.Cs("Ls",this.yo),this.RT.Cs("Ps",this.AT),this.RT.Cs("Bs",this.OT),this.CT=!1,this.aT.gs()},i.bo=function(){var t=D.coroutine(vn.mark(function t(){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Ds(),this.xT(),t.next=4,this.RT.bo().catch(it);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r}(gr),kd=[Po.dh,Po.vh,Po.jh],bd=function(t){function n(n,r,i){var e;(e=t.call(this)||this).qT=[],e.VT=[],e.Po=n,e.wT=i,e.jT=r;var u=r.HT;return u&&hr(n.Fo(u)),e}Gt(n,t);var r=n.prototype;return r.WT=function(){return this.$T||(this.$T=this.zT()),this.$T},r.zT=function(){var t=D.coroutine(vn.mark(function t(){var n;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.jT.BT(new p(Ri()));case 2:return n=t.sent,t.next=5,this.Po.Fo(n.buffer);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.XT=function(){var t=D.coroutine(vn.mark(function t(n){var r,i,e=this;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.VT.push(n),t.next=4,this.Po.Lo("temporary");case 4:return r=t.sent,i=new md(r,this.jT,n),this.qT.push(i),i.Rs(kd,this.Ts),i.No.then(function(){return e.GT(i)}),t.abrupt("return",i);case 10:return t.prev=10,Kn(this.VT,n),t.finish(10);case 13:case"end":return t.stop()}},t,this,[[0,,10,13]])}));return function(n){return t.apply(this,arguments)}}(),r.YT=function(t){if(t.KT)return!1;for(var n=0,r=this.qT;n<r.length;n++){if(Td(r[n].DT,t))return!0}for(var i=0,e=this.VT;i<e.length;i++){if(Td(e[i],t))return!0}return!1},r.GT=function(t){t.Cs(kd,this.Ts),Kn(this.qT,t)},r.ai=function(){var t=D.coroutine(vn.mark(function t(){var n;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Ds(),n=this.qT.slice(),this.qT.length=0,t.next=5,D.all(n.map(function(t){return t.bo()}));case 5:this.jT.ai();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),P(n,[{key:"JT",get:function(){return this.jT.JT}},{key:"jo",get:function(){return this.jT.jo}},{key:"QT",get:function(){return this.jT.QT}},{key:"ZT",get:function(){return this.jT.ZT}},{key:"tE",get:function(){return this.jT.tE}}]),n}(gr);function Td(t,n){return!t.KT&&t.Vu===n.Vu&&Fr(t.Hs,n.Hs)}var Ed=function(t){function n(){return t.call(this,"persistenttokenavailable")||this}return Gt(n,t),n}(_r),Sd=function(t){function r(n,r,i,e,u){var s;return(s=t.call(this)||this).nE=void 0,s.jo=n,s.JT=r,s.ZT=i,s.Zb=e,s.rE=u,s.QT=s.iE(r),s}Gt(r,t);var i=r.prototype;return i.eE=function(){return this.nE},i.MT=function(t){this.nE=t},i.uE=function(){return this.QT.licenseAcquisitionURL||this.eE()},i.LT=function(t){return D.resolve(void 0)},i.sE=function(){var t=D.coroutine(vn.mark(function t(r,i,e,u){var s,o;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==(s=this.oE(r,i,e,u)).kd){t.next=3;break}throw new Jc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 3:return t.prev=3,t.next=6,this.cE.$b(s);case 6:return o=t.sent,t.next=9,o.aE(i);case 9:return t.abrupt("return",t.sent);case 12:return t.prev=12,t.t0=t.catch(3),ur(t.t0),t.next=17,this.fE(t.t0,s.kd,u);case 17:return t.abrupt("return");case 18:case"end":return t.stop()}},t,this,[[3,12]])}));return function(n,r,i,e){return t.apply(this,arguments)}}(),i.oE=function(t,n,r,i){var e=this.hE().td(),u=this.Cd,s={kd:this.vE(),Sd:n,Td:e,bd:t,Cd:u,Ed:Pc.POST,Rd:0,ks:i,Uu:Lc.od,Id:r};return new Vc(s)},i.NT=function(t,n){return D.resolve(t)},i.dE=function(t,n,r,i){return D.resolve(t)},i.hE=function(){return new Bc(this.QT.headers||{})},i.fE=function(){var t=D.coroutine(vn.mark(function t(r,i,e){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:throw new Jc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during license server request",r);case 1:case"end":return t.stop()}},t)}));return function(n,r,i){return t.apply(this,arguments)}}(),i.vE=function(t,n){var r=n,i=this.QT.queryParameters;if(!r){var e=this.uE();if(!e)return"";r=e}if(i||t){var u=N.$c(r);t&&ds(u,t),i&&ds(u,i),r=u.href}return r},i.lE=function(t){return function(t,n){var r=n.licenseResponseProcessor;return D.resolve(new p(Rd(t,r)))}(t,this.QT)},i.wE=function(){var t=D.coroutine(vn.mark(function t(n,r,i){var e,u,s;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.yE(n,i);case 2:return e=t.sent,t.next=5,this.sE(e,this.rE,r,i);case 5:return u=t.sent,t.next=8,this.lE(u);case 8:return s=t.sent,t.abrupt("return",s);case 10:case"end":return t.stop()}},t,this)}));return function(n,r,i){return t.apply(this,arguments)}}(),i.ai=function(){this.Ds()},P(r,[{key:"cE",get:function(){return this.Zb}},{key:"FT",get:function(){return!1}},{key:"HT",get:function(){var t=this.QT.certificate;if(t)return Z(t)?Ar(t):bi(t)}},{key:"gE",get:function(){return"optional"}},{key:"Ho",get:function(){return!1}},{key:"tE",get:function(){return!1}},{key:"Cd",get:function(){return Boolean(this.QT.useCredentials)}}]),r}(gr);function Rd(t,r){if(!t||!r||"function"!=typeof r)return t;try{return r(t)}catch(t){throw new Jc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error while preprocessing DRM data",t)}}function Id(t,n){var r=Ti(t).buffer,i=n.licenseRequestProcessor;return D.resolve(Rd(r,i))}var Dd,Cd=function(t){function n(n,r,i,e){return t.call(this,xn,n,r,i,e)||this}Gt(n,t);var r=n.prototype;return r.iE=function(t){return t.widevine||{}},r.BT=function(){var t=D.coroutine(vn.mark(function t(n,r){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.HT){t.next=2;break}return t.abrupt("return",this.HT);case 2:return t.abrupt("return",this.UT(new p(n),r));case 3:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),r.UT=function(n,r){return t.prototype.wE.call(this,n,Fc.dd,r)},n}(Sd);!function(t){t.Lu="Widevine",t.Pu="PlayreadyV2",t.pE="PlayreadyV2",t._E="PlayreadyV3",t.Fu="Fairplay"}(Dd||(Dd={}));var Nd={Widevine:{DRMProvider:"Google",DRMVersion:"1.4.8.86",DRMType:"Widevine"},PlayreadyV2:{DRMProvider:"Microsoft",DRMVersion:"2.9",DRMType:"Playready"},PlayreadyV3:{DRMProvider:"Microsoft",DRMVersion:"3",DRMType:"Playready"},Fairplay:{DRMProvider:"Apple",DRMType:"FairPlay",DRMVersion:"1.0"}};function Ad(t,n){var r,i,e,u,s=Nd[n],o=t.accountName;return{CustomerName:t.customerName,AccountName:o,PortalId:t.portalId,FriendlyName:t.friendlyName,DeviceInfo:{FormatVersion:"1",DeviceType:"PC",OSType:null===(r=N.Ta)||void 0===r?void 0:r.Ea,OSVersion:null===(i=N.Ta)||void 0===i?void 0:i.Pa,DRMProvider:s.DRMProvider,DRMVersion:s.DRMVersion,DRMType:s.DRMType,DeviceVendor:null===(e=N.Ta)||void 0===e?void 0:e.La,DeviceModel:null===(u=N.Ta)||void 0===u?void 0:u.Fa}}}function Od(t,r){if(!t.accountName)throw new Jc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+r+" DRM configuration, accountName is not set.");if(!t.customerName)throw new Jc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+r+" DRM configuration, customerName is not set.");if(!t.portalId)throw new Jc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+r+" DRM configuration, portalId is not set.");throw new Jc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+r+" DRM configuration.")}function xd(t,n,r){var i;if(Ga(t))i={AuthToken:t.authToken,Payload:n};else{if(!Ya(t))throw Od(t,r);i={LatensRegistration:Ad(t,r),Payload:n}}return qr(JSON.stringify(i))}function Pd(t,n,r){return Ld.apply(this,arguments)}function Ld(){return(Ld=D.coroutine(vn.mark(function t(r,i,e){var u,s,o,c;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u=r.zb){t.next=3;break}throw new Jc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",r,i);case 3:return s=u,t.prev=4,t.next=7,s.mE(e);case 7:o=t.sent,c=Fd(o),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),c="";case 14:throw new Jc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",r,s.$b.kd,s.Gb,s.kE,c);case 15:case"end":return t.stop()}},t,null,[[4,11]])}))).apply(this,arguments)}function Fd(t){if(t){if(t.WvProxyErr)return t.WvProxyErr.desc;if(t.DrmErr)return t.DrmErr.desc}}var Md=function(t){function r(n,r,i){var e;return(e=t.call(this,n,r,i,Ac.Jv)||this).bE=!0,e}Gt(r,t);var i=r.prototype;return i.fE=function(t,n,r){return Pd(t,n,r)},i.yE=function(){var t=D.coroutine(vn.mark(function t(r,i){var e,u;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.JT){t.next=3;break}throw new Jc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Widevine DRM configuration.");case 3:return u=xr(r),t.abrupt("return",xd(e,u,Dd.Lu));case 5:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),i.lE=function(t){var r;if(!t.license)throw new Jc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Widevine license server");return r=Ar(t.license),D.resolve(r)},i.TE=function(t){return D.resolve(new p(t))},i.BT=function(){var t=D.coroutine(vn.mark(function t(n,r){var i,e;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.EE(),t.next=3,this.yE(n,r);case 3:return i=t.sent,t.next=6,this.sE(i,Ac.Kv,Fc.ld,r);case 6:return e=t.sent,t.next=9,this.TE(e);case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),i.UT=function(){var n=D.coroutine(vn.mark(function n(r,i){var e;return vn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.UT.call(this,r,i);case 2:return e=n.sent,this.EE(),n.abrupt("return",e);case 5:case"end":return n.stop()}},n,this)}));return function(t,r){return n.apply(this,arguments)}}(),i.EE=function(){this.Es(new Ed),this.bE=!1},P(r,[{key:"FT",get:function(){return this.bE}},{key:"gE",get:function(){return"required"}}]),r}(Cd),Bd=function(t){function r(n,r,i){var e;return(e=t.call(this,n,r,i,Ac.Kv)||this).MT("https://widevine-proxy.drm.technology/proxy"),e}return Gt(r,t),r.prototype.yE=function(){var t=D.coroutine(vn.mark(function t(r,i){var e,u,s,o;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Id(r,this.QT);case 2:if(e=t.sent,u=this.ZT,i=new p(e),s=[].slice.call(i),o=this.SE){t.next=8;break}throw new Jc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The Widevine vuDRM token has not been correctly configured.");case 8:return t.abrupt("return",JSON.stringify({token:o,drm_info:s,kid:u}));case 9:case"end":return t.stop()}var i},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),P(r,[{key:"SE",get:function(){if(Ka(this.JT))return this.JT.token}}]),r}(Cd);function Ud(t,n){var r=n||{};return t.ticket&&t.sessionId&&(r=dn(dn({},r),{SessionId:t.sessionId,Ticket:t.ticket})),dn(dn({},r),{CrmId:t.crmId,AccountId:t.accountId,ContentId:t.contentId})}var qd=function(t){function n(n,r,i){var e;return(e=t.call(this,n,r,i,Ac.Kv)||this).MT("https://emeademo.dev.ott.irdeto.com/Widevine/getlicense"),e}Gt(n,t);var r=n.prototype;return r.yE=function(t,n){return Id(t,this.QT)},r.vE=function(n,r){var i=n;return $a(this.JT)&&(i=Ud(this.JT,i)),t.prototype.vE.call(this,i,r)},n}(Cd),Vd="Conax-Custom-Data";function jd(t,n,r){var i=t&&Wa(t)&&t;if(i&&!r.has(Vd)){var e=ka(i)?i.token:void 0,u=ka(i)?i.deviceId:void 0,s=JSON.stringify({Version:"1.0.0",CxAuthenticationDataToken:e,CxClientInfo:{DeviceType:"Browser",DrmClientType:n+"-HTML5",DrmClientVersion:"1.0.0",CxDeviceId:u}});r.set(Vd,s)}return r}var Hd=function(t){function n(n,r,i){var e;return(e=t.call(this,n,r,i,Ac.Kv)||this).MT("https://connect.conax.com:8094/license"),e}Gt(n,t);var r=n.prototype;return r.yE=function(t,n){return Id(t,this.QT)},r.hE=function(){var n=t.prototype.hE.call(this);return jd(this.JT,"Widevine",n)},n}(Cd);function Wd(t){var n=hi(new p(t));return Ar(JSON.parse(n).license)}function $d(t){return"string"==typeof t.token?t.token:qr(JSON.stringify({userId:t.userId,sessionId:t.sessionId,merchant:t.merchant}))}function zd(t,n,r){var i;return i=r.token?"x-dt-auth-token":"dt-custom-data",t.set(i,n),t}var Xd=function(t){function n(n,r,i){var e;return(e=t.call(this,n,r,i,Ac.Kv)||this).MT("https://lic.drmtoday.com/license-proxy-widevine/cenc/"),e}Gt(n,t);var r=n.prototype;return r.yE=function(t,n){return Id(t,this.QT)},r.lE=function(t){return D.resolve(Wd(t))},r.hE=function(){return zd(t.prototype.hE.call(this),this.SE,this.JT)},P(n,[{key:"SE",get:function(){return $d(this.JT)}}]),n}(Cd),Gd=function(t){function n(n,r,i){return t.call(this,n,r,i,Ac.Kv)||this}Gt(n,t);var r=n.prototype;return r.yE=function(t,n){return Id(t,this.QT)},r.hE=function(){var n=t.prototype.hE.call(this),r=this.JT.token;return n.set("Authorization","Bearer "+r),n},n}(Cd);function Yd(t,n,r,i){return Kd.apply(this,arguments)}function Kd(){return(Kd=D.coroutine(vn.mark(function t(r,i,e,u){var s,o,c,a,f,h,v;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Ja(r)){t.next=2;break}throw new Jc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Xstream DRM Configuration");case 2:return(s=new Bc).append("Cache-Control","no-cache"),s.append("Content-Type","application/json"),(o=r.sessionId)&&s.append("XSSESSION",o),c=r.streamId,a=r.fairplay?"persistent"===r.fairplay.licenseType?"persistent":"non-persistent":r.widevine&&"persistent"===r.widevine.licenseType?"persistent":"non-persistent",f={drmType:i,licenseType:a,streamId:c},h={kd:r.ticketAcquisitionURL,Sd:Ac.Jv,Td:s,Ed:Pc.POST,bd:JSON.stringify(f),ks:u},t.next=13,e.$b(h);case 13:return v=t.sent,t.next=16,v.mE();case 16:return t.abrupt("return",t.sent);case 17:case"end":return t.stop()}},t)}))).apply(this,arguments)}var Jd=function(t){function n(n,r,i){return t.call(this,n,r,i,Ac.Jv)||this}Gt(n,t);var r=n.prototype;return r.hE=function(){var n=t.prototype.hE.call(this);return n.set("Content-Type","application/json"),n},r.yE=function(){var t=D.coroutine(vn.mark(function t(n,r){var i,e,u,s;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=Ur(n.buffer),e=this.JT,t.next=4,Yd(e,"widevine_modular",this.cE,r);case 4:return u=t.sent,this.MT(u.licenseServerUrl),s=vi(JSON.stringify({payload:i,ticket:u.ticket})),t.abrupt("return",Id(s,this.QT));case 8:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),r.lE=function(t){var n=t;return D.resolve(Ar(n.license))},n}(Cd),Qd=function(t){function r(n,r,i){return t.call(this,n,r,i,Ac.Kv)||this}Gt(r,t);var i=r.prototype;return i.yE=function(t,n){return Id(t,this.QT)},i.hE=function(){if(!Qa(this.JT))throw new Jc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var r=t.prototype.hE.call(this);return r.set("X-AxDRM-Message",this.JT.token),r},r}(Cd);function Zd(t){for(var n=new p(2*t.length),r=0;r<t.length;r+=1)n[2*r]=t.charCodeAt(r),n[2*r+1]=0;return n}var tl=function(t){function n(n,r,i){var e;return(e=t.call(this,On,n,r,i,Ac.Kv)||this).RE=void 0,e}Gt(n,t);var r=n.prototype;return r.iE=function(t){return t.playready||{}},r.hE=function(){var n=new Bc(this.RE);return n.rd(t.prototype.hE.call(this)),n},r.IE=function(t){return t.length>=1&&t[0].hu.length>0},r.LT=function(n){var r=this.JT.playready.customData;if(r){var i=Zd(r),e=Zd('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">'+xr(i)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>");return D.resolve({playready:{ic:e}})}return t.prototype.LT.call(this,n)},r.yE=function(){var t=D.coroutine(vn.mark(function t(n,r){var i;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Id(n,this.QT);case 2:return i=t.sent,t.abrupt("return",this.DE(i));case 4:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),r.DE=function(){var t=D.coroutine(vn.mark(function t(n){var r,i,e,u,s,o,c,a,f,h,v,d,l,w,y,g;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:s=null,o=new DataView(n),p=o,_=new Ei,void 0===(m=!0)&&(m=!1),c=ai(p,_,m,!0),t.prev=3,a=N.Ze(c),t.next=10;break;case 7:return t.prev=7,t.t0=t.catch(3),t.abrupt("return",s);case 10:for(f=null===(r=a.fu("PlayReadyKeyMessage")[0])||void 0===r?void 0:r.fu("LicenseAcquisition")[0],h=null!==(i=null==f?void 0:f.fu("Challenge"))&&void 0!==i?i:[],this.IE(h)&&(s=Br(h[0].Eu)),v=new Bc,d=null!==(u=null===(e=null==f?void 0:f.fu("HttpHeaders")[0])||void 0===e?void 0:e.fu("HttpHeader"))&&void 0!==u?u:[],l=0;l<d.length;l++)w=d[l],y=w.fu("name")[0].Eu,g=w.fu("value")[0].Eu,v.append(y,g);return this.RE=v,t.abrupt("return",s);case 18:case"end":return t.stop()}var p,_,m},t,this,[[3,7]])}));return function(n){return t.apply(this,arguments)}}(),r.BT=function(t,n){return D.resolve(t)},r.UT=function(n,r){return t.prototype.wE.call(this,n,Fc.wd,r)},P(n,[{key:"Ho",get:function(){return Boolean(this.JT.playready.customData)}}]),n}(Sd),nl=function(){function t(n){this.CE=n,this.NE=t.AE(n)}return t.AE=function(t){return"3"===t.version?Dd._E:Dd.pE},t.prototype.OE=function(){var t={};if(this.NE===Dd._E){var n={LatensRegistration:Ad(this.CE,Dd._E)};t["X-TITANIUM-DRM-CDATA"]=qr(JSON.stringify(n))}return t},P(t,[{key:"xE",get:function(){return this.NE}},{key:"Ho",get:function(){return this.NE===Dd.pE}}]),t}();var rl=function(t){function r(n,r,i){var e;return(e=t.call(this,n,r,i)||this).PE=new nl(e.JT),e}Gt(r,t);var i=r.prototype;return i.LT=function(t){var r=this.JT;if(!this.JT)throw new Jc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium PlayReady DRM configuration.");if(Ya(r)){var i={};return i.playready={ic:il(r,this.PE.xE)},D.resolve(i)}return D.reject(Od(r,Dd.Pu))},i.hE=function(){var n=new Bc(this.PE.OE());return n.rd(t.prototype.hE.call(this)),n},i.fE=function(){var t=D.coroutine(vn.mark(function t(r,i,e){var u,s,o,c,a,f,h,v;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=r.zb){t.next=3;break}throw new Jc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",r,i);case 3:return t.prev=3,t.next=6,s.LE(e);case 6:a=t.sent,f=hi(new p(a)),(h=N.Ze(f))&&(v=Ov(h,"CustomData")).length>0&&(o=JSON.parse(v[0].Eu),c=null===(u=o.DrmErr)||void 0===u?void 0:u.desc),t.next=14;break;case 12:t.prev=12,t.t0=t.catch(3);case 14:throw new Jc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",r,i,s.Gb,s.kE,c);case 15:case"end":return t.stop()}},t,null,[[3,12]])}));return function(n,r,i){return t.apply(this,arguments)}}(),i.IE=function(t){if(1!==t.length)throw new Jc(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"PlayReady license message incorrectly formatted, Challenge not found.");return!0},P(r,[{key:"Ho",get:function(){return this.PE.Ho}}]),r}(tl);function il(t,n){var r=Ad(t,n),i=r.DeviceInfo.FormatVersion,e=qr('<LatensRegistration formatversion="'+i+'"><AccountName>'+r.AccountName+"</AccountName><CustomerName>"+r.CustomerName+"</CustomerName><PortalID>"+r.PortalId+'</PortalID><DeviceInfo formatversion="'+i+'"><DeviceType>'+r.DeviceInfo.DeviceType+"</DeviceType><OSType>"+r.DeviceInfo.OSType+"</OSType><OSVersion>"+r.DeviceInfo.OSVersion+"</OSVersion><DRMProvider>"+r.DeviceInfo.DRMProvider+"</DRMProvider><DRMVersion>"+r.DeviceInfo.DRMVersion+"</DRMVersion><DRMType>"+r.DeviceInfo.DRMType+"</DRMType><DeviceVendor>"+r.DeviceInfo.DeviceVendor+"</DeviceVendor><DeviceModel>"+r.DeviceInfo.DeviceModel+"</DeviceModel></DeviceInfo></LatensRegistration>"),u=li(("<TitaniumCustomData>"+e+"</TitaniumCustomData>").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/&lt;/g,"<").replace(/&gt;/g,">"),!0);return li('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0"><CustomData encoding="base64encoded">'+xr(u)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>",!0)}var el,ul=function(t){function r(n,r,i){var e;return(e=t.call(this,n,r,i)||this).MT("https://playready-license.drm.technology/rightsmanager.asmx"),e}Gt(r,t);var i=r.prototype;return i.IE=function(t){if(1!==t.length)throw new Jc(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Vudrm PlayReady license message incorrectly formatted, Challenge not found.");return!0},i.vE=function(n,r){var i=dn(dn({},n||{}),{token:this.SE});return t.prototype.vE.call(this,i,r)},P(r,[{key:"SE",get:function(){if(Ka(this.JT))return this.JT.token}}]),r}(tl),sl=function(t){function n(n,r,i){var e;return(e=t.call(this,n,r,i)||this).MT("https://emeademo.dev.ott.irdeto.com/playready/rightsmanager.asmx"),e}return Gt(n,t),n.prototype.vE=function(n,r){var i=n;return $a(this.JT)&&(i=Ud(this.JT,i)),t.prototype.vE.call(this,i,r)},n}(tl),ol=function(t){function n(n,r,i){var e;return(e=t.call(this,n,r,i)||this).MT("https://connect.conax.com:8010/cxplayready/rightsmanager.asmx"),e}return Gt(n,t),n.prototype.hE=function(){var n=t.prototype.hE.call(this);return jd(this.JT,"PlayReady",n)},n}(tl),cl=function(t){function n(n,r,i){var e;return(e=t.call(this,n,r,i)||this).MT("https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx"),e}Gt(n,t);var r=n.prototype;return r.lE=function(n){return(Bn(hi(new p(n)),"<?xml")?el.FE:el.mE)===el.mE?D.resolve(Wd(n)):D.resolve(t.prototype.lE.call(this,new p(n)))},r.hE=function(){return zd(t.prototype.hE.call(this),this.SE,this.JT)},P(n,[{key:"SE",get:function(){return $d(this.JT)}}]),n}(tl);!function(t){t[t.FE=0]="FE",t[t.mE=1]="mE"}(el||(el={}));var al,fl=function(t){function n(n,r,i){return t.call(this,n,r,i)||this}Gt(n,t);var r=n.prototype;return r.hE=function(){var n=t.prototype.hE.call(this);return this.ME&&n.set("Ticket",this.ME),n.set("Content-Type","text/xml"),n},r.yE=function(){var n=D.coroutine(vn.mark(function n(r,i){var e,u;return vn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e=this.JT,n.next=3,Yd(e,"playready",this.cE,i);case 3:return u=n.sent,this.MT(u.licenseServerUrl),this.ME=u.ticket,n.abrupt("return",t.prototype.yE.call(this,r,i));case 7:case"end":return n.stop()}},n,this)}));return function(t,r){return n.apply(this,arguments)}}(),n}(tl),hl=function(t){function r(){return t.apply(this,arguments)||this}return Gt(r,t),r.prototype.hE=function(){if(!Qa(this.JT))throw new Jc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var r=t.prototype.hE.call(this);return r.set("X-AxDRM-Message",this.JT.token),r},r}(tl);!function(t){t.Jv="application/json",t.BE="application/x-www-form-urlencoded",t.UE="application/octet-stream",t.Ke="text/plain;charset=UTF-8"}(al||(al={}));var vl=function(t){function n(n,r,i,e,u){var s;return(s=t.call(this,n.jo,r,i,e,u)||this).qE="",s.VE=void 0,s.jE=n.fc,s}Gt(n,t);var r=n.prototype;return r.HE=function(){return this.QT.certificateURL||this.VE},r.WE=function(t){this.VE=t},r.yE=function(){var t=D.coroutine(vn.mark(function t(n){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.$E(n,this.qE));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.$E=function(){var t=D.coroutine(vn.mark(function t(n,r){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return","spc="+encodeURIComponent(xr(n))+"&assetId="+encodeURIComponent(r));case 1:case"end":return t.stop()}},t)}));return function(n,r){return t.apply(this,arguments)}}(),r.iE=function(t){return t.fairplay||{}},r.zE=function(t){var n=t.indexOf("?");if(n>=0)return D.resolve(t.substr(n+1));var r=t.split("/");return D.resolve(r[r.length-1])},r.LT=function(){var t=D.coroutine(vn.mark(function t(n){var r,i,e,u;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=null!==(r=this.jE)&&void 0!==r?r:yi(new p(n)),t.next=3,this.zE(i);case 3:return e=t.sent,this.qE=e,(u={}).fairplay={fc:e},t.abrupt("return",u);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.hE=function(){var n=t.prototype.hE.call(this);return n.set("Content-Type",this.XE),n},r.BT=function(){var t=D.coroutine(vn.mark(function t(n,r){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.HT){t.next=2;break}return t.abrupt("return",this.HT);case 2:return t.next=4,this.GE(r);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),r.UT=function(n,r){return t.prototype.wE.call(this,n,Fc.hd,r)},r.YE=function(t){var n=this.HE(),r=this.hE(),i={kd:n,Sd:Ac.Kv,Td:r,Ed:Pc.GET,Cd:!1,bd:null,Rd:0,ks:t,Uu:Lc.od,Id:Fc.vd};return new Vc(i)},r.GE=function(){var t=D.coroutine(vn.mark(function t(n){var r,i,e;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.YE(n),t.next=3,this.cE.$b(r);case 3:return i=t.sent,t.next=6,i.LE();case 6:return e=t.sent,t.abrupt("return",new p(e));case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.lE=function(t){var n;if("string"==typeof t){var r=t.trim();"<ckc>"===r.substr(0,5)&&"</ckc>"===r.substr(-6)&&(r=r.slice(5,-6)),n=Ar(r)}else n=new p(t);return D.resolve(n)},r.vE=function(n,r){var i=t.prototype.vE.call(this,n,r);return Bn(i,"skd:")&&(i=i.substr("skd:".length)),i},P(n,[{key:"tE",get:function(){return!0}},{key:"XE",get:function(){return al.BE}}]),n}(Sd),dl=function(t){function n(n,r,i,e){return t.call(this,n,r,i,e,Ac.Kv)||this}Gt(n,t);var r=n.prototype;return r.zE=function(){var t=D.coroutine(vn.mark(function t(n){var r,i,e;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.split("://",1),i=r[0].slice(-3),r=n.split(";",2),e=r.length>1?r[1]:"",t.abrupt("return","skd"===i.toLowerCase()?e:"");case 5:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.yE=function(){var t=D.coroutine(vn.mark(function t(n){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.lE=function(t){return D.resolve(new p(t))},r.vE=function(n,r){var i=n||{};return i.p1=$t(),t.prototype.vE.call(this,i,r)},P(n,[{key:"XE",get:function(){return al.UE}}]),n}(vl),ll=function(t){function r(n,r,i,e){var u;return(u=t.call(this,n,r,i,e,Ac.Kv)||this).MT("https://fairplay-license.drm.technology/license"),u.WE("https://fairplay-license.drm.technology/certificate"),u}Gt(r,t);var i=r.prototype;return i.$E=function(){var t=D.coroutine(vn.mark(function t(n,r){var i;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i={token:this.SE,contentId:r,payload:xr(n)},t.abrupt("return",JSON.stringify(i));case 2:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),i.lE=function(t){return D.resolve(new p(t))},i.hE=function(){var n=t.prototype.hE.call(this);return n.set("x-vudrm-token",this.SE),n},P(r,[{key:"XE",get:function(){return al.Jv}},{key:"SE",get:function(){if(!Ka(this.JT))throw new Jc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Token is required for FairPlay VuDrm.");return this.JT.token}}]),r}(vl),wl="Verimatrix Fairplay license response incorrectly formatted. Invalid json.",yl="Verimatrix Fairplay license response incorrectly formatted. Ckc not found.",gl=function(t){function r(n,r,i,e){return t.call(this,n,r,i,e,Ac.Kv)||this}return Gt(r,t),r.prototype.lE=function(r){var i=function(t){var r;try{r=JSON.parse(t).ckc}catch(t){throw new Jc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,wl)}if(!r)throw new Jc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,yl);return r}(hi(new DataView(r)));return t.prototype.lE.call(this,i)},r}(vl);var pl=function(t){function r(n,r,i,e){return t.call(this,n,r,i,e,Ac.Jv)||this}Gt(r,t);var i=r.prototype;return i.yE=function(){var t=D.coroutine(vn.mark(function t(r){var i,e;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.JT){t.next=3;break}throw new Jc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Fairplay DRM configuration.");case 3:return e=xr(r),t.abrupt("return",xd(i,e,Dd.Fu));case 5:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.lE=function(t){try{var r;if(Z(t)){var i=t.trim();r=JSON.parse(i)}else r=t;if(r.license){var e=Br(r.license);return D.resolve(new p(e))}return D.reject(new Jc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Titanium Fairplay license server"))}catch(t){return D.reject(new Jc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Fairplay license server"))}},i.fE=function(t,n,r){return Pd(t,n,r)},P(r,[{key:"XE",get:function(){return al.Jv}}]),r}(vl),_l=function(t){function n(n,r,i,e){var u;return(u=t.call(this,n,r,i,e,Ac.Kv)||this).MT("https://emeademo.dev.ott.irdeto.com/streaming/getckc"),u.WE("https://emeademo.dev.ott.irdeto.com/streaming/getcertificate"),u}Gt(n,t);var r=n.prototype;return r.HE=function(){var n=t.prototype.HE.call(this);if(!n)return n;var r=N.$c(n),i=this.JT;return $a(i)&&ds(r,{accountId:i.accountId,applicationId:i.applicationId||""}),r.href},r.zE=function(){var n=D.coroutine(vn.mark(function n(r){return vn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!$a(this.JT)){n.next=2;break}return n.abrupt("return",this.JT.contentId);case 2:return n.abrupt("return",t.prototype.zE.call(this,r));case 3:case"end":return n.stop()}},n,this)}));return function(t){return n.apply(this,arguments)}}(),r.yE=function(){var t=D.coroutine(vn.mark(function t(n){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.lE=function(t){return D.resolve(new p(t))},r.vE=function(n,r){var i=n;return $a(this.JT)&&(i=function(t,n){return dn(dn({},Ud(t,n)),{KeyId:t.keyId})}(this.JT,i)),t.prototype.vE.call(this,i,r)},P(n,[{key:"XE",get:function(){return al.UE}}]),n}(vl),ml=function(t){function r(r,i,e,u){var s;if(s=t.call(this,r,i,e,u,Ac.Ke)||this,!Wa(i))throw new Jc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Conax configuration");return s.MT("https://connect.conax.com:8097/license"),s}Gt(r,t);var i=r.prototype;return i.hE=function(){var n=t.prototype.hE.call(this);return jd(this.JT,"FairPlay",n)},i.GE=function(){var t=D.coroutine(vn.mark(function t(n){var r,i,e,u;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.HE(),i={kd:r,Sd:Ac.Kv,Td:{},Ed:Pc.GET,Cd:!1,bd:null,Rd:0,ks:n,Uu:Lc.od,Id:Fc.vd},t.next=4,this.cE.$b(i);case 4:return e=t.sent,t.next=7,e.LE();case 7:return u=t.sent,t.abrupt("return",new p(u));case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.yE=function(){var t=D.coroutine(vn.mark(function t(n){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.zE=function(t){var n,r=t.indexOf("?");return 0===t.indexOf("skd://")?(n=r>=0?t.substring("skd://".length,r):t.substring("skd://".length),D.resolve(hi(Ar(n)))):D.resolve("unknown")},i.lE=function(t){try{var n=JSON.parse(t);return D.resolve(new p(Br(n.CkcMessage)))}catch(t){return D.reject("CFLRW-66")}},r}(vl),kl=function(t){function r(n,r,i,e){var u;return(u=t.call(this,n,r,i,e,Ac.Ke)||this).MT(Ma[kn.Fu]),u}Gt(r,t);var i=r.prototype;return i.zE=function(t){return 0===t.indexOf("skd://")?D.resolve(t.substring("skd://".length,40)):D.reject(new Jc(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error while determining the KeyOS Content ID."))},i.$E=function(){var t=D.coroutine(vn.mark(function t(n,r){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return","spc="+xr(n)+"&assetId="+r);case 1:case"end":return t.stop()}},t)}));return function(n,r){return t.apply(this,arguments)}}(),r}(vl),bl=function(t){function n(n,r,i,e){var u;return(u=t.call(this,n,r,i,e,Ac.Ke)||this).MT("https://lic.drmtoday.com/license-server-fairplay/"),u}Gt(n,t);var r=n.prototype;return r.$E=function(){var t=D.coroutine(vn.mark(function t(n,r){var i;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i="spc="+encodeURIComponent(xr(n))+"&"+encodeURI(r),"persistent"!==this.QT.licenseType){t.next=3;break}return t.abrupt("return",i+"&offline=true");case 3:return t.abrupt("return",i);case 4:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),r.hE=function(){return zd(t.prototype.hE.call(this),this.SE,this.JT)},P(n,[{key:"SE",get:function(){return $d(this.JT)}}]),n}(vl),Tl=function(t){function n(n,r,i,e){return t.call(this,n,r,i,e,Ac.Kv)||this}Gt(n,t);var r=n.prototype;return r.zE=function(t){var n=t;return Bn(n,"skd:")&&(n="http:"+n.substring(4)),Bn(n,"http:")||Bn(n,"https:")?D.resolve(N.$c(n).hostname):D.reject(new h("Could not parse ExpressPlay FairPlay content ID."))},r.yE=function(){var t=D.coroutine(vn.mark(function t(n){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.lE=function(t){return D.resolve(new p(t))},P(n,[{key:"XE",get:function(){return al.UE}}]),n}(vl),El=function(t){function n(n,r,i,e){return t.call(this,n,r,i,e,Ac.Ke)||this}return Gt(n,t),n.prototype.hE=function(){var n=t.prototype.hE.call(this),r=this.JT.token;return n.set("Authorization","Bearer "+r),n},n}(vl),Sl=function(t){function n(n,r,i,e){var u;if(u=t.call(this,n,r,i,e,Ac.Jv)||this,!Ja(r))throw new h("Invalid Xstream DRM configuration");return u}Gt(n,t);var r=n.prototype;return r.GE=function(){var t=D.coroutine(vn.mark(function t(n){var r,i,e,u,s;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.HE(),i=this.hE(),e={kd:r,Sd:Ac.Jv,Td:i,Ed:Pc.POST,ks:n,Uu:Lc.od,Id:Fc.vd},t.next=5,this.cE.$b(e);case 5:return u=t.sent,t.next=8,u.mE();case 8:return s=t.sent,t.abrupt("return",new p(Ar(s.certificate)));case 10:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.UT=function(){var t=D.coroutine(vn.mark(function t(n,r,i){var e,u,s,o,c,a,f;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===i&&(i=Ac.Ke),e=xr(n),u=this.JT,t.next=5,Yd(u,"fairplay",this.cE,r);case 5:return s=t.sent,o=vi(JSON.stringify({spc:e,ticket:s.ticket})),c={kd:this.uE(),Sd:Ac.Jv,Td:this.hE(),Ed:Pc.POST,bd:o,Rd:0,ks:r,Uu:Lc.od,Id:Fc.hd},t.next=10,this.cE.$b(c);case 10:return a=t.sent,t.next=13,a.mE();case 13:return f=t.sent,t.abrupt("return",Ar(f.licence));case 15:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),P(n,[{key:"XE",get:function(){return al.Jv}}]),n}(vl),Rl=function(t){function r(n,r,i,e){return t.call(this,n,r,i,e,Ac.Ke)||this}Gt(r,t);var i=r.prototype;return i.$E=function(){var t=D.coroutine(vn.mark(function t(n,r){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",xr(n));case 1:case"end":return t.stop()}},t)}));return function(n,r){return t.apply(this,arguments)}}(),i.lE=function(r){if(0===r.length)throw new Jc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Vimond license request error.");return t.prototype.lE.call(this,r)},i.hE=function(){var n=t.prototype.hE.call(this);return n.set("Content-Type","text/plain"),n},r}(vl),Il=function(t){function r(n,r,i,e){return t.call(this,n,r,i,e,Ac.Kv)||this}Gt(r,t);var i=r.prototype;return i.$E=function(){var t=D.coroutine(vn.mark(function t(n){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.lE=function(t){return D.resolve(new p(t))},i.hE=function(){if(!Qa(this.JT))throw new Jc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var r=t.prototype.hE.call(this);return r.set("X-AxDRM-Message",this.JT.token),r},P(r,[{key:"XE",get:function(){return al.Jv}}]),r}(vl),Dl=function(t){function r(n,r,i,e){var u;return(u=t.call(this,n,r,i,e,Ac.Jv)||this).KE=void 0,u}Gt(r,t);var i=r.prototype;return i.$E=function(){var t=D.coroutine(vn.mark(function t(n,r){var i;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i={spc:xr(n)},t.abrupt("return",JSON.stringify(i));case 2:case"end":return t.stop()}},t)}));return function(n,r){return t.apply(this,arguments)}}(),i.zE=function(t){var r=N.$c(t);return this.KE=t,r.searchParams.has("b")?D.resolve(r.searchParams.get("b")):D.reject(new Jc(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error during license server request: Could not extract content id"))},i.vE=function(n,r){var i=this.uE();return!i&&this.KE&&(i=this.KE),i&&(i=i.replace("skd://","https://")),t.prototype.vE.call(this,n,r||i)},i.lE=function(){var t=D.coroutine(vn.mark(function t(r){var i;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(i=Z(r)?JSON.parse(r.trim()):r).ckc){t.next=4;break}return t.abrupt("return",Ar(i.ckc));case 4:t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(0),new Jc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Uplynk Fairplay license server");case 9:throw new Jc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Uplynk Fairplay license server");case 10:case"end":return t.stop()}},t,null,[[0,6]])}));return function(n){return t.apply(this,arguments)}}(),P(r,[{key:"XE",get:function(){return al.Ke}}]),r}(vl),Cl=function(){function t(t,n){this.JE=t,this.QE=n}var n=t.prototype;return n.ZE=function(t){return this.JE(t)},n.tS=function(t,n){throw new v(n+" must be "+this.QE+". (Received: "+t+")")},t}(),Nl=new Cl(rt,"a number"),Al=new Cl(Z,"a string"),Ol=new Cl(tt,"a boolean");var xl,Pl=(xl={responseCode:Nl,isException:Ol,description:Al,title:Al,correlationId:Al},{ZE:function(t){if(!J(t))return!1;for(var n=0,r=d.keys(xl);n<r.length;n++){var i=r[n];if(!xl[i].ZE(t[i]))return!1}return!0},tS:function(t,n){if(!J(t))throw new v(n+" must be an object.");for(var r=0,i=d.keys(xl);r<i.length;r++){var e=i[r],u=xl[e];if(!u.ZE(t[e]))return u.tS(t[e],n+"."+e)}throw new v}});function Ll(t,n,r,i,e){return Fl.apply(this,arguments)}function Fl(){return(Fl=D.coroutine(vn.mark(function t(n,r,i,e,u){var s;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=Ml(n,r,i,u),t.next=3,Bl(s,e);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Ml(t,n,r,i){var e={token:n.token,account:n.accountId,form:"json"},u=decodeURIComponent(function(t,n){var r=N.$c(t);return ds(r,n),r.toString()}(r,e)),s=new Bc({});s.append("Content-Type","application/json");var o=xr(t),c={getFairplayLicense:{releasePid:n.releasePid,spcMessage:o}};return{kd:u,Sd:Ac.Ke,Td:s,Ed:Pc.POST,bd:JSON.stringify(c),ks:i,Uu:Lc.od,Id:Fc.hd}}function Bl(t,n){return Ul.apply(this,arguments)}function Ul(){return(Ul=D.coroutine(vn.mark(function t(r,i){var e,u;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.$b(r);case 2:return e=t.sent,t.next=5,e.mE();case 5:if(u=t.sent,!Pl.ZE(u)){t.next=8;break}throw new Jc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,u.description,void 0,r.kd,u.responseCode);case 8:return t.abrupt("return",Ar(u.getFairplayLicenseResponse.ckcResponse));case 9:case"end":return t.stop()}},t)}))).apply(this,arguments)}var ql=function(t){function n(n,r,i,e){var u;return(u=t.call(this,n,r,i,e,Ac.Kv)||this).nS=r,u}Gt(n,t);var r=n.prototype;return r.zE=function(n){var r=n.replace("FairPlay",this.nS.releasePid);return t.prototype.zE.call(this,r)},r.UT=function(){var t=D.coroutine(vn.mark(function t(n,r){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ll(n,this.nS,this.uE(),this.cE,r);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),n}(vl),Vl=function(t){function r(n,r,i){return t.call(this,Ln,n,r,i,Ac.Kv)||this}Gt(r,t);var i=r.prototype;return i.iE=function(t){return t.clearkey||{}},i.yE=function(){var t=D.coroutine(vn.mark(function t(n,r){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Id(n,this.QT));case 1:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),i.sE=function(){var r=D.coroutine(vn.mark(function r(i,e,u,s){var o,c;return vn.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(o=this.QT,!this.uE()){r.next=5;break}return r.abrupt("return",t.prototype.sE.call(this,i,this.rE,u,s));case 5:if(!o.keys||!o.keys.length){r.next=10;break}return c={keys:o.keys.map(function(t){var n=t;return n||(n={}),{kty:"oct",kid:n.id,k:n.value}})},r.abrupt("return",vi(JSON.stringify(c)).buffer);case 10:throw new Jc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The clearkey license has not been configured correctly.");case 11:case"end":return r.stop()}},r,this)}));return function(t,n,i,e){return r.apply(this,arguments)}}(),i.BT=function(t,n){return D.resolve(new p(0))},i.UT=function(n,r){return t.prototype.wE.call(this,n,Fc.yd,r)},r}(Sd),jl=function(t){function n(){return t.apply(this,arguments)||this}return Gt(n,t),n.prototype.yE=function(){var t=D.coroutine(vn.mark(function t(n,r){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Id(n,this.QT));case 1:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),n}(Cd),Hl={url:"",method:"GET",headers:{},body:null,useCredentials:!1};function Wl(t,n,r){return $l.apply(this,arguments)}function $l(){return($l=D.coroutine(vn.mark(function t(n,r,i){var e,u,s;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=uw(r),(u=n.onCertificateRequest)&&"function"==typeof u){t.next=5;break}return t.abrupt("return",D.resolve(r));case 5:return t.next=8,or(D.resolve(u.call(n,e)),i);case 8:if(!ki(s=t.sent)){t.next=11;break}return t.abrupt("return",bi(s));case 11:return t.abrupt("return",ew(dn(dn({},Hl),s)));case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function zl(t,n,r,i,e){return Xl.apply(this,arguments)}function Xl(){return(Xl=D.coroutine(vn.mark(function t(n,r,i,e,u){var s,o,c;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=n.onCertificateResponse,o=iw(r,i,e),s&&"function"==typeof s){t.next=5;break}return t.abrupt("return",D.resolve(r));case 5:return t.next=8,or(D.resolve(s.call(n,o)),u);case 8:return c=t.sent,t.abrupt("return",bi(c));case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Gl(t,n,r,i){return Yl.apply(this,arguments)}function Yl(){return(Yl=D.coroutine(vn.mark(function t(n,r,i,e){var u;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ql(n,r,i,e);case 2:if(!((u=t.sent)instanceof ArrayBuffer)){t.next=5;break}return t.abrupt("return",u);case 5:return t.abrupt("return",ew(u));case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Kl(t,n,r,i,e,u){return Jl.apply(this,arguments)}function Jl(){return(Jl=D.coroutine(vn.mark(function t(n,r,i,e,u,s){var o,c;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=rw(i,u),t.next=3,tw(n,new p(r),o,e,s);case 3:return c=t.sent,t.abrupt("return",bi(c).buffer);case 5:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Ql(t,n,r,i){return Zl.apply(this,arguments)}function Zl(){return(Zl=D.coroutine(vn.mark(function t(n,r,i,e){var u,s,o;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u=null==n?void 0:n.onLicenseRequest,s=rw(r,i),u&&"function"==typeof u){t.next=5;break}return t.abrupt("return",D.resolve(s));case 5:return t.next=8,or(D.resolve(u.call(n,s)),e);case 8:if(!ki(o=t.sent)){t.next=11;break}return t.abrupt("return",bi(o).buffer);case 11:return t.abrupt("return",dn(dn({fairplaySkdUrl:void 0},Hl),o));case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function tw(t,n,r,i,e){return nw.apply(this,arguments)}function nw(){return(nw=D.coroutine(vn.mark(function t(n,r,i,e,u){var s,o,c;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=null==n?void 0:n.onLicenseResponse,o=iw(r,i,e),s&&"function"==typeof s){t.next=5;break}return t.abrupt("return",D.resolve(r));case 5:return t.next=8,or(D.resolve(s.call(n,o)),u);case 8:return c=t.sent,t.abrupt("return",bi(c));case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function rw(t,n){return dn(dn({},uw(t)),{fairplaySkdUrl:n})}function iw(t,n,r){return{url:r.Xb,status:r.Gb,statusText:r.kE,headers:r.Td.td(),body:t,request:n}}function ew(t){return new Vc({kd:t.url,Ed:t.method,Td:t.headers,bd:t.body,Cd:t.useCredentials})}function uw(t){var n;return{url:t.kd,body:null!==(n=sw(t.bd))&&void 0!==n?n:null,headers:t.Td.td(),method:t.Ed,useCredentials:t.Cd}}function sw(t){if(t)return"string"==typeof t?vi(t):t instanceof ArrayBuffer?new p(t):Lr(t)?mi(t):void 0}var ow=function(t){function r(n,r,i,e){var u;return(u=t.call(this,n,r,i)||this).rS=e,u}Gt(r,t);var i=r.prototype;return i.BT=function(t,n){return D.resolve(t)},i.UT=function(){var t=D.coroutine(vn.mark(function t(r,i){var e,u,s,o,c;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.DE(Ti(r).buffer);case 2:return e=t.sent,u=this.oE(e,Ac.Kv,Fc.wd,i),t.next=6,Gl(this.rS,u,void 0,i);case 6:if(!((s=t.sent)instanceof ArrayBuffer)){t.next=10;break}return t.abrupt("return",new p(s));case 10:if(""!==s.kd){t.next=12;break}throw new Jc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 12:return t.prev=12,t.next=15,this.cE.$b(s);case 15:return o=t.sent,t.next=18,o.LE(i);case 18:return c=t.sent,t.t0=p,t.next=22,Kl(this.rS,c,u,o,void 0,i);case 22:return t.t1=t.sent,t.abrupt("return",new t.t0(t.t1));case 26:throw t.prev=26,t.t2=t.catch(12),ur(t.t2),new Jc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during PlayReady license request",t.t2);case 30:case"end":return t.stop()}},t,this,[[12,26]])}));return function(n,r){return t.apply(this,arguments)}}(),r}(tl),cw=function(t){function r(n,r,i,e){var u;return(u=t.call(this,n,r,i,Ac.Kv)||this).rS=e,u}Gt(r,t);var i=r.prototype;return i.BT=function(){var t=D.coroutine(vn.mark(function t(r,i){var e,u,s,o,c;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.HT){t.next=2;break}return t.abrupt("return",this.HT);case 2:return e=this.oE(r,Ac.Kv,Fc.ld,i),t.next=5,Wl(this.rS,e,i);case 5:if(!((u=t.sent)instanceof p)){t.next=9;break}return t.abrupt("return",u);case 9:if(""!==u.kd){t.next=11;break}throw new Jc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The certificate request URL has not been correctly configured.");case 11:return t.prev=11,t.next=14,this.cE.$b(u);case 14:return s=t.sent,t.next=17,s.LE(i);case 17:o=t.sent,t.next=24;break;case 20:throw t.prev=20,t.t0=t.catch(11),ur(t.t0),new Jc(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during Widevine certificate request",t.t0);case 24:return c=rw(e,void 0),t.next=27,zl(this.rS,new p(o),c,s,i);case 27:return t.abrupt("return",t.sent);case 28:case"end":return t.stop()}},t,this,[[11,20]])}));return function(n,r){return t.apply(this,arguments)}}(),i.UT=function(){var t=D.coroutine(vn.mark(function t(r,i){var e,u,s,o;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.oE(r,Ac.Kv,Fc.dd,i),t.next=3,Gl(this.rS,e,void 0,i);case 3:if(!((u=t.sent)instanceof ArrayBuffer)){t.next=7;break}return t.abrupt("return",new p(u));case 7:if(""!==u.kd){t.next=9;break}throw new Jc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return t.prev=9,t.next=12,this.cE.$b(u);case 12:return s=t.sent,t.next=15,s.LE(i);case 15:o=t.sent,t.next=22;break;case 18:throw t.prev=18,t.t0=t.catch(9),ur(t.t0),new Jc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Widevine license request",t.t0);case 22:return t.t1=p,t.next=25,Kl(this.rS,o,e,s,void 0,i);case 25:return t.t2=t.sent,t.abrupt("return",new t.t1(t.t2));case 27:case"end":return t.stop()}},t,this,[[9,18]])}));return function(n,r){return t.apply(this,arguments)}}(),r}(jl),aw=function(t){function r(n,r,i,e,u){var s;return(s=t.call(this,n,r,i,e,Ac.Kv)||this).rS=u,s}Gt(r,t);var i=r.prototype;return i.BT=function(){var t=D.coroutine(vn.mark(function t(r,i){var e,u,s,o,c;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.HT){t.next=2;break}return t.abrupt("return",this.HT);case 2:return e=this.YE(i),t.next=5,Wl(this.rS,e,i);case 5:if(u=t.sent,!Lr(u)){t.next=8;break}return t.abrupt("return",u);case 8:return t.prev=8,t.next=11,this.cE.$b(u);case 11:return s=t.sent,t.next=14,s.LE();case 14:return o=t.sent,c=rw(e,void 0),t.next=18,zl(this.rS,new p(o),c,s,i);case 18:return t.abrupt("return",t.sent);case 21:throw t.prev=21,t.t0=t.catch(8),ur(t.t0),new Jc(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during FairPlay certificate request",t.t0);case 25:case"end":return t.stop()}},t,this,[[8,21]])}));return function(n,r){return t.apply(this,arguments)}}(),i.UT=function(){var t=D.coroutine(vn.mark(function t(r,i){var e,u,s,o;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.oE(r,Ac.Kv,Fc.hd,i),t.next=3,Gl(this.rS,e,this.iS,i);case 3:if(!((u=t.sent)instanceof ArrayBuffer)){t.next=7;break}return t.abrupt("return",new p(u));case 7:if(""!==u.kd){t.next=9;break}throw new Jc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return t.prev=9,t.next=12,this.cE.$b(u);case 12:return s=t.sent,t.next=15,s.LE(i);case 15:return o=t.sent,t.t0=p,t.next=19,Kl(this.rS,o,e,s,this.iS,i);case 19:return t.t1=t.sent,t.abrupt("return",new t.t0(t.t1));case 23:throw t.prev=23,t.t2=t.catch(9),ur(t.t2),new Jc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during FairPlay license request",t.t2);case 27:case"end":return t.stop()}},t,this,[[9,23]])}));return function(n,r){return t.apply(this,arguments)}}(),i.zE=function(){var n=D.coroutine(vn.mark(function n(r){var i;return vn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.iS=r,!(null===(i=this.rS)||void 0===i?void 0:i.extractFairplayContentId)){n.next=3;break}return n.abrupt("return",D.resolve(this.rS.extractFairplayContentId(r)));case 3:return n.abrupt("return",t.prototype.zE.call(this,r));case 4:case"end":return n.stop()}},n,this)}));return function(t){return n.apply(this,arguments)}}(),r}(vl),fw=function(){function t(){}var n=t.prototype;return n.eS=function(t,n){return new bd(t,n,this)},n.uS=function(t,n,r,i){switch(t.jo.Uu){case kn.Lu:return this.sS(n,r,i);case kn.Pu:return this.oS(n,r,i);case kn.Fu:return this.cS(t,n,r,i);case kn.Mu:default:return this.aS(n,r,i)}},n.sS=function(t,n,r){var i,e=(i=t).integration===pa&&Z(i.customIntegrationId)?t.customIntegrationId:t.integration;if(e&&Da.Hl.ql(e,Dn)){var u=Da.Hl.jl(e,Dn,t);return new cw(t,n,r,u)}switch(e){case ia:return new Md(t,n,r);case oa:return new Bd(t,n,r);case sa:return new qd(t,n,r);case ea:return new Hd(t,n,r);case fa:return new Xd(t,n,r);case va:return new Gd(t,n,r);case da:return new Jd(t,n,r);case wa:return new Qd(t,n,r);case aa:default:return new jl(t,n,r,Ac.Kv)}},n.oS=function(t,n,r){var i=t.integration;if(i&&Da.Hl.ql(i,Sn)){var e=Da.Hl.jl(i,Sn,t);return new ow(t,n,r,e)}switch(i){case ia:return new rl(t,n,r);case oa:return new ul(t,n,r);case sa:return new sl(t,n,r);case ea:return new ol(t,n,r);case fa:return new cl(t,n,r);case da:return new fl(t,n,r);case wa:return new hl(t,n,r);case aa:default:return new tl(t,n,r)}},n.cS=function(t,n,r,i){var e=n.integration;if(e&&Da.Hl.ql(e,Nn)){var u=Da.Hl.jl(e,Nn,n);return new aw(t,n,r,i,u)}switch(e){case ua:return new dl(t,n,r,i);case oa:return new ll(t,n,r,i);case ca:return new gl(t,n,r,i);case ia:return new pl(t,n,r,i);case sa:return new _l(t,n,r,i);case ea:return new ml(t,n,r,i);case aa:return new kl(t,n,r,i);case fa:return new bl(t,n,r,i);case ha:return new Tl(t,n,r,i);case va:return new El(t,n,r,i);case da:return new Sl(t,n,r,i);case la:return new Rl(t,n,r,i);case wa:return new Il(t,n,r,i);case ya:return new Dl(t,n,r,i);case ga:return new ql(t,n,r,i);default:return new vl(t,n,r,i,Ac.Ke)}},n.aS=function(t,n,r){return new Vl(t,n,r)},n.fS=function(t){return t.Uu===kn.Pu||t.Uu===kn.Lu||t.Uu===kn.Fu||t.Uu===kn.Mu},t}();function hw(t,n){switch(n){case kn.Lu:return t.widevine;case kn.Pu:return t.playready;case kn.Fu:return t.fairplay;default:return}}var vw,dw=function(t){function r(n,r,i){var e;return void 0===i&&(i=new fw),(e=t.call(this,i)||this).hS=void 0,e.vo=void 0,e.vS=new vd,e.dS=function(){var t=D.coroutine(vn.mark(function t(n){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.kT(n.Vu,n.Hs);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),ir(t.t0)||e.Qo(t.t0);case 8:case"end":return t.stop()}},t,null,[[0,5]])}));return function(n){return t.apply(this,arguments)}}(),e.lS=function(t){e.Es(t)},e.wS=function(t){e.Es(t),e.Es(new yd(t.errorObject))},e.yS=n,e.Zb=r,e.yS.Rs(yr.Us,e.dS),e}Gt(r,t);var i=r.prototype;return i.ET=function(){var t;return null===(t=this.vo)||void 0===t?void 0:t.jo},i.Mo=function(t){if(this.hS)throw new h("Invalid state");this.hS=t},i.yT=function(n){if(!this.hS)throw new h("Invalid state");t.prototype.yT.call(this,n)},i.mT=function(){var t=D.coroutine(vn.mark(function t(r,i,e){var u,s,o,c,a,f,h,v,d,l,w;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(er(e),i.byteLength){t.next=3;break}return t.abrupt("return");case 3:if(this.lT&&this.lT.pT.length){t.next=5;break}throw new Jc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_MISSING,"Missing configuration for encrypted content");case 5:if(u=this.lT,r===bn||r===En||r===Tn){t.next=9;break}return t.abrupt("return");case 9:s=nf(r,i),c=0,a=u.pT;case 11:if(!(c<a.length)){t.next=42;break}if(f=a[c],er(e),(h=s[f.jo.ju])&&f.jo.Vu===r){t.next=17;break}return t.abrupt("continue",39);case 17:return t.prev=17,t.next=20,this.gS(f.jo,e);case 20:if(!(v=t.sent).tE){t.next=24;break}return t.next=24,v.WT();case 24:if(d=this.yS.pl,l={Vu:f.jo.Vu,Hs:h,KT:d},!this.pS(v,l)){t.next=32;break}return t.next=29,v.XT(l);case 29:return w=t.sent,t.next=32,w.So();case 32:return t.abrupt("return");case 35:t.prev=35,t.t0=t.catch(17),ur(t.t0),o=t.t0;case 39:c++,t.next=11;break;case 42:return t.next=44,N.rs();case 44:if(!t.sent){t.next=48;break}throw new Jc(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported",o);case 48:throw new Jc(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Cannot create content decryption session",o);case 49:case"end":return t.stop()}},t,this,[[17,35]])}));return function(n,r,i){return t.apply(this,arguments)}}(),i.pS=function(t,n){return N.Ea.Zc||!t.YT(n)},i.gS=function(t,n){var r=this;return this.vS.vT(function(n){return r._S(t,n)},n)},i._S=function(){var t=D.coroutine(vn.mark(function t(n,r){var i,e,u,s,o;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(er(r),this.lT){t.next=3;break}throw new h("Not initialized");case 3:if(!this.vo){t.next=7;break}if(this.vo.jo===n){t.next=6;break}throw new h("Internal key system error");case 6:return t.abrupt("return",this.vo);case 7:if(this.wT.fS(n)){t.next=9;break}throw new h("Unsupported "+n.Wu+" key system");case 9:if(i=this.mS(n)){t.next=12;break}throw new h("Missing configuration for "+n.Wu+" key system");case 12:return e=this.lT,u=this.wT.uS(i,e.JT,i.ZT,this.Zb),t.next=16,this.qo(n,i,u,r);case 16:return s=t.sent,(o=this.wT.eS(s,u)).Rs(Po.dh,this.lS),o.Rs(Po.vh,this.wS),o.Rs(Po.jh,this.Ts),this.vo=o,t.abrupt("return",o);case 23:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),i.qo=function(){var t=D.coroutine(vn.mark(function t(n,r,i,e){var u,s,o,c,a,f,h,v;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return u=this.lT,s=n.Vu,o=hw(u.JT,r.jo.Uu),c=(null==o?void 0:o.persistentState)||i.gE,a=(null==o?void 0:o.distinctiveIdentifier)||void 0,f=Boolean(null==o?void 0:o.audioRobustness)||Boolean(null==o?void 0:o.videoRobustness),t.prev=6,er(e),h=lw(u,s,c,a,i.Ho,(null==o?void 0:o.audioRobustness)||"SW_SECURE_CRYPTO",(null==o?void 0:o.videoRobustness)||"SW_SECURE_CRYPTO"),t.next=11,this.hS.kS(n,[h]);case 11:return t.abrupt("return",t.sent);case 14:if(t.prev=14,t.t0=t.catch(6),ur(t.t0),er(e),!f){t.next=20;break}throw t.t0;case 20:return v=lw(u,s,c,a,i.Ho,void 0,void 0),t.next=23,this.hS.kS(n,[v]);case 23:return t.abrupt("return",t.sent);case 24:case"end":return t.stop()}},t,this,[[6,14]])}));return function(n,r,i,e){return t.apply(this,arguments)}}(),i.mS=function(t){if(this.lT)for(var n=0,r=this.lT.pT;n<r.length;n++){var i=r[n];if(i.jo===t)return i}},i.Qo=function(t){var r=t instanceof Jc?t:new Jc(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.wS(new ld(r))},i.bS=function(){var t=D.coroutine(vn.mark(function t(){var n;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.vS.gs();case 2:if(!(n=this.vo)){t.next=8;break}return n.Cs(Po.jh,this.Ts),this.vo=void 0,t.next=8,n.ai();case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.bT=function(){var t=D.coroutine(vn.mark(function t(){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.hS=void 0,t.next=3,this.bS();case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.ai=function(){var n=D.coroutine(vn.mark(function n(){return vn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.yS.Cs(yr.Us,this.dS),n.next=3,t.prototype.ai.call(this);case 3:return n.next=5,this.vS.ai();case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),r}(wd);function lw(t,n,r,i,e,u,s){return{initDataTypes:[n],audioCapabilities:ww(t.TS,u),videoCapabilities:ww(t.ES,s),persistentState:r,distinctiveIdentifier:i,Ho:e}}function ww(t,n){return t.length?t.map(function(t){return{contentType:t,robustness:n}}):void 0}!function(t){t[t.SS=0]="SS",t[t.RS=1]="RS"}(vw||(vw={}));var yw=t,gw=yw.MediaSource,pw=yw.WebKitMediaSource,_w=yw.TextTrack,mw=e&&e.createElement("video"),kw=(e&&e.documentElement.style,$.oe&&$.Me&&$.Be<=26),bw=($.ke,!(!gw&&!pw)),Tw=!!_w,Ew=(e&&(e.fullscreenEnabled||e.webkitFullscreenEnabled||e.mozFullScreenEnabled||e.msFullscreenEnabled)||$._e,$.xe&&$.Pe,mw&&mw.canPlayType&&(""!==mw.canPlayType("application/vnd.apple.mpegURL")||$.fe&&!$.xe&&$.he),mw&&mw.canPlayType&&""!==mw.canPlayType("video/mp4")&&!kw),Sw=bw&&!$.Le&&!$.Ne&&!$.Ce&&((gw||pw).isTypeSupported?(gw||pw).isTypeSupported('audio/mp4; codecs="mp4a.40.34"'):mw&&mw.canPlayType&&""!==mw.canPlayType('audio/mp4; codecs="mp4a.40.34"'));bw&&!$.Le&&(Sw||((gw||pw).isTypeSupported?(gw||pw).isTypeSupported("audio/mpeg"):mw&&mw.canPlayType&&mw.canPlayType("audio/mpeg"))),bw&&!($.Oe&&$.oe)&&(gw||pw).isTypeSupported&&(gw||pw).isTypeSupported('video/mp4; codecs="avc1.4d401e"'),$.Le||$.Ne||$.Ce,$.Ae,$.Le,$.Ne&&$.ce&&$.ae;try{i&&i.top!==i.self}catch(t){!0}var Rw,Iw=function(t){function n(n){var r;return(r=t.call(this,Io.th)||this).currentTime=n,r}return Gt(n,t),n}(_r),Dw=function(t){function n(n){var r;return(r=t.call(this,Io.nh)||this).currentTime=n,r}return Gt(n,t),n}(_r),Cw=function(t){function n(n,r){var i;return void 0===r&&(r=!1),(i=t.call(this)||this).IS=n,i.DS=r,i.CS=Ao.rh,i.NS=!0,i.AS=!1,i.OS=!1,i.xS=function(t){var n=t.readyState;n!==i.CS&&i.Es(t),n===Ao.rh&&(i.AS=!1,i.OS=!1),i.PS(n),i.LS(n),i.FS(n),i.maybeDispatchCanPlayThroughEvent(n),i.MS(n),i.BS(n),i.CS=n},i.US=function(){i.BS(i.CS),i.MS(i.CS),i.NS=i.IS.Ov},i.qS=function(){i.NS=i.IS.Ov},i.IS.Rs(Io.if,i.xS),i.IS.Rs(Po.Ih,i.US),i.IS.Rs(Po.Rh,i.qS),i.DS&&i.IS.Rs(Io.nh,i.Ts),i}Gt(n,t);var r=n.prototype;return r.PS=function(t){!this.OS&&t>=Ao.ih&&(this.OS=!0,this.Es(new zo(this.IS.Iv,t)))},r.LS=function(t){!this.AS&&t>=Ao.eh&&(this.AS=!0,this.Es(new Vo(this.IS.Iv,t)))},r.MS=function(t){this.DS||(t>=Ao.uh&&this.CS<Ao.uh&&!this.IS.Ov||this.VS&&t>=Ao.uh)&&this.Es(new Dw(this.IS.Iv))},r.BS=function(t){!this.jS(t)||this.IS.Cv||this.IS.Bs||this.Es(new Iw(this.IS.Iv))},r.FS=function(t){this.CS<=Ao.eh&&t>=Ao.uh&&this.Es(new Fo(this.IS.Iv,t))},r.maybeDispatchCanPlayThroughEvent=function(t){t===Ao.sh&&this.Es(new Lo(this.IS.Iv,t))},r.jS=function(t){var n=!this.IS.Ov&&t<=Ao.eh,r=!this.NS&&this.CS<=Ao.eh;return n&&!r},r.pf=function(){this.CS=Ao.rh,this.NS=!0,this.AS=!1,this.OS=!1},r.ai=function(){this.Ds(),this.DS&&this.IS.Cs(Io.nh,this.Ts),this.IS.Cs(Po.Ih,this.US),this.IS.Cs(Po.Rh,this.qS),this.IS.Cs(Io.if,this.xS)},P(n,[{key:"VS",get:function(){return!this.IS.Ov&&this.NS}}]),n}(gr);!function(t){t.HS="nokey",t.WS="keyexpired",t.$S="sessionnotopened",t.zS="insufficientoutputprotection",t.XS="insufficientsecurity",t.GS="frametoolarge",t.YS="loststate",t.KS="resourcebusy",t.JS="unsupportedoperation"}(Rw||(Rw={}));var Nw,Aw,Ow,xw=[Rw.JS,Rw.KS,Rw.YS,Rw.GS,Rw.XS,Rw.zS,Rw.$S,Rw.WS,Rw.HS],Pw=[Po.dh,Po.vh,mo.Mf];[].concat(kd,[mo.Mf],xw);function Lw(){return Ow||(Ow=S&&S.document&&S.document.createElement("video")),Ow}!function(t){t._d="video",t.pd="audio"}(Nw||(Nw={})),function(t){t[t.QS=0]="QS",t[t.ZS=1]="ZS",t[t.tR=2]="tR",t[t.nR=3]="nR",t[t.mv=4]="mv",t[t.rR=5]="rR",t[t.Rv=6]="Rv",t[t.iR=7]="iR",t[t.eR=8]="eR"}(Aw||(Aw={}));var Fw=function(t){function r(r,i,e,u,s,o,c){var a;return void 0===o&&(o=new fw),void 0===c&&(c=le()),(a=t.call(this)||this).hS=void 0,a.uR=void 0,a.sR=void 0,a.oR=void 0,a.cR=function(t){var r=t.Bs,i=r.code,e=new Yi(function(t){switch(t){case Gc.ABORTED:return n.ErrorCode.MEDIA_ABORTED;case Gc.NETWORK:return n.ErrorCode.NETWORK_ERROR;case Gc.DECODE:return n.ErrorCode.MEDIA_DECODE_ERROR;case Gc.SRC_NOT_SUPPORTED:return n.ErrorCode.SOURCE_NOT_SUPPORTED;case Gc.ENCRYPTED:return n.ErrorCode.CONTENT_PROTECTION_ERROR;case Gc.LICENSE_INVALID:return n.ErrorCode.LICENSE_ERROR;case Gc.ADVERTISEMENT_ERROR:return n.ErrorCode.AD_ERROR}}(i),"Something went wrong during native playback.",r);a.uR=new Qc(i,e.message,r.message),a.sR=e,a.Es(new yd(e))},a.aR=function(){a.Es(new Ho(a.Iv,a.yl))},a.fR=function(t){a.Ov||(a.oR=void 0),a.Es(t)},a.hR=function(t){a.oR=void 0,a.Es(t)},a.vR=function(){a.Es(new Eh(a.pl))},a.dR=function(){a.Fv>0&&a.Lv>0&&a.Es(new hd)},a.lR=function(t){a.Ud.wf(new gh(t.track))},a.wR=function(t){var n=Bw(a.Ud,t.track);n&&a.Ud.yf(n)},a.yR=function(){a.gR(a.Ud)},a.pR=function(t){a.qd.wf(new Th(t.track))},a._R=function(t){var n=Bw(a.qd,t.track);n&&a.qd.yf(n)},a.mR=function(){a.gR(a.qd)},a.kR=function(t){t.type===Po.vh&&(a.uR=ta(t.errorObject),a.sR=t.errorObject),a.Ts(t)},a.bR=i,a.Zb=e,a.Xu=c,a.yS=a.bR.ii(Ef._d),a.TR=a.yS.ER.preload,a.wT=o,a.SR=new Cw(a.yS,!0),a.SR.Rs(Oo,a.Ts),a.RR=new dw(a.yS,a.Zb,a.wT),a.RR.Rs(Pw,a.kR),a.IR(),a.Ud=new ch,a.qd=new ch,a.DR(),a.CR=new ud(a.yS,a.Zb),a.Vd=new Do,a.ul(),a}Gt(r,t);var i=r.prototype;return i.sl=function(){this.yS.sl()},i.ul=function(){this.yS.ul()},i.Jd=function(){var t=D.coroutine(vn.mark(function t(n,r,i){var e;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return er(i),e={Uu:vw.SS,zf:n.src,NR:n.type,AR:[],Il:this.TR,OR:n.crossOrigin,xR:r.metadata&&r.metadata.title},t.next=4,this.yS.Ro(e);case 4:return this.hS=t.sent,er(i),t.next=8,this.RR.pf();case 8:this.RR.Mo(this.hS),this.RR.yT(this.PR(n)),this.Vd.Rf=this.yS.Xd,r.textTracks&&this.LR(r.textTracks),fd(this.Xd);case 13:case"end":return t.stop()}},t,this)}));return function(n,r,i){return t.apply(this,arguments)}}(),i.LR=function(t){for(var n,r=0;r<t.length;r++){var i=t[r];if(this.yS.FR()&&$._e&&Tw&&!Qv(i.kind,i.label)&&this.MR(i)){var e=null!==(n=i.kind)&&void 0!==n?n:Uf.hm;this.yS.UR(i.src,e,i.label,i.srclang)}else{if(void 0===i.src)continue;this.CR.tT(i)}}},i.MR=function(t){return!t.format||"webvtt"===t.format},i.ei=function(){var t=D.coroutine(vn.mark(function t(){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.yS.ei();case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:if(this.qR){t.next=12;break}return t.next=10,this.yS.Os(Po.Dh);case 10:t.next=7;break;case 12:case"end":return t.stop()}},t,this,[[0,5]])}));return function(){return t.apply(this,arguments)}}(),i.ui=function(){this.yS.ui()},i.Qd=function(){return void 0!==this.yS.ER.webkitShowPlaybackTargetPicker},i.Zd=function(){this.yS.ER.webkitShowPlaybackTargetPicker&&this.yS.ER.webkitShowPlaybackTargetPicker()},i.tl=function(){this.yS.ER.webkitShowPlaybackTargetPicker&&this.yS.ER.webkitShowPlaybackTargetPicker()},i.ol=function(){return this.yS.ER},i.cl=function(){return this.yS.jR},i.pf=function(){var t=D.coroutine(vn.mark(function t(){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.uR=void 0,this.sR=void 0,this.hS&&(this.hS=void 0),this.Vd.pf(),t.next=6,this.yS.pf();case 6:return this.SR.pf(),t.next=9,this.RR.pf();case 9:return this.Il=this.TR,this.$d.pf(),this.zd.pf(),t.next=14,this.CR.pf();case 14:this.oR=void 0;case 15:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.ai=function(){var t=D.coroutine(vn.mark(function t(){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.pf();case 2:return this.Ds(),this.HR(),this.WR(),t.next=7,this.RR.ai();case 7:return this.SR.ai(),t.next=10,this.bR.oi(this.yS);case 10:return this.Ud.ai(),this.qd.ai(),this.Vd.ai(),t.next=15,this.CR.ai();case 15:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.IR=function(){this.yS.Rs(Po.Ih,this.Ts),this.yS.Rs(Po.Rh,this.Ts),this.yS.Rs(Po.qh,this.aR),this.yS.Rs(Po.Dh,this.Ts),this.yS.Rs(Po.kh,this.Ts),this.yS.Rs(Po.xh,this.Ts),this.yS.Rs(Po.Oh,this.fR),this.yS.Rs(Po.ph,this.Ts),this.yS.Rs(Po.Ch,this.Ts),this.yS.Rs(Po.Vh,this.Ts),this.yS.Rs(Po.yh,this.Ts),this.yS.Rs(Po.Ah,this.dR),this.yS.Rs(Io.nh,this.hR),this.yS.Rs(mo.Mf,this.cR),this.yS.ER.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.vR)},i.HR=function(){this.yS.Cs(Po.Ih,this.Ts),this.yS.Cs(Po.Rh,this.Ts),this.yS.Cs(Po.qh,this.aR),this.yS.Cs(Po.Dh,this.Ts),this.yS.Cs(Po.kh,this.Ts),this.yS.Cs(Po.xh,this.Ts),this.yS.Cs(Po.Oh,this.fR),this.yS.Cs(Po.ph,this.Ts),this.yS.Cs(Po.Ch,this.Ts),this.yS.Cs(Po.Vh,this.Ts),this.yS.Cs(Po.yh,this.Ts),this.yS.Cs(Po.Ah,this.dR),this.yS.Cs(Io.nh,this.hR),this.yS.Cs(mo.Mf,this.cR),this.yS.ER.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.vR)},i.PR=function(t){if(t.contentProtection&&t.contentProtection.fairplay){return{JT:t.contentProtection||{},pT:[{jo:Pn,_T:[],ZT:void 0,fc:void 0}],TS:[],ES:["video/mp4"]}}},i.DR=function(){var t=this.yS.ER.audioTracks,n=this.yS.ER.videoTracks;t&&(t.addEventListener("addtrack",this.lR),t.addEventListener("removetrack",this.wR),t.addEventListener("change",this.yR)),n&&(n.addEventListener("addtrack",this.pR),n.addEventListener("removetrack",this._R),n.addEventListener("change",this.mR))},i.WR=function(){var t=this.yS.ER.audioTracks,n=this.yS.ER.videoTracks;t&&(t.removeEventListener("addtrack",this.lR),t.removeEventListener("removetrack",this.wR),t.removeEventListener("change",this.yR)),n&&(n.removeEventListener("addtrack",this.pR),n.removeEventListener("removetrack",this._R),n.removeEventListener("change",this.mR))},i.gR=function(t){for(var n=0;n<t.mf;n++){t.lf(n).Em()}},i.ll=function(){this.RR.bS().then(it)},P(r,[{key:"qR",get:function(){var t=this.yS.wl,n=this.Iv;return t.M_(n,.01)}},{key:"$d",get:function(){return this.Ud}},{key:"wl",get:function(){return this.yS.wl.x_()}},{key:"yl",get:function(){return this.yS.yl},set:function(t){t&&this.yS.$R(t)}},{key:"Iv",get:function(){return void 0!==this.oR?this.oR:this.yS.Iv},set:function(t){this.pl&&(this.oR=t),this.yS.Zs(t)}},{key:"Dv",get:function(){return this.yS.Dv}},{key:"Cv",get:function(){return this.yS.Cv}},{key:"Bs",get:function(){return this.uR}},{key:"Nv",get:function(){return this.sR}},{key:"Gd",get:function(){}},{key:"pl",get:function(){return this.yS.pl}},{key:"Fd",get:function(){return dn(dn({},{_l:0,ml:0,kl:0,bl:0,Tl:0,El:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}),this.yS.zR())}},{key:"Av",get:function(){return this.yS.Av},set:function(t){this.yS.Av=t}},{key:"Sl",get:function(){return!0}},{key:"Ov",get:function(){return this.yS.Ov}},{key:"xv",get:function(){return this.yS.xv},set:function(t){this.yS.xv=t}},{key:"Rl",get:function(){return this.yS.ER.played}},{key:"Il",get:function(){return this.TR},set:function(t){this.TR=t,this.hS&&(this.hS.Il=t)}},{key:"Hf",get:function(){return this.yS.Hf}},{key:"Dl",get:function(){return this.yS.Dl.x_()}},{key:"Pv",get:function(){return this.yS.Pv}},{key:"XR",get:function(){return this.yS.XR}},{key:"Xd",get:function(){return this.Vd}},{key:"zd",get:function(){return this.qd}},{key:"Lv",get:function(){return this.yS.Lv}},{key:"Fv",get:function(){return this.yS.Fv}},{key:"Mv",get:function(){return this.yS.Mv},set:function(t){this.yS.Mv=t}}]),r}(Co);var Mw=function(){function t(){this.GR=Aw.eR}var n=t.prototype;return n.Fl=function(t,n,r,i,e,u){return new Fw(t,n,r,i,e)},n.YR=function(t,n){return function(t){return!t.type||!(!Lw().canPlayType||!Lw().canPlayType(t.type))}(t)},n.KR=function(){return!1},t}();function Bw(t,n){for(var r=0,i=t._f;r<i.length;r++){var e=i[r];if(e.Im===n)return e}}var Uw=function(){function t(){this.JR=new Mw,this.QR=[]}t.ZR=function(){return this.$e};var n=t.prototype;return n.tI=function(t){this.QR.push(t)},n.Fl=function(t,n,r,i,e,u){for(var s=this.JR.Fl(t,n,r,i,e,u),o=0,c=this.QR;o<c.length;o++){s=(0,c[o])(s,r,i)}return s},n.YR=function(t,n){return this.JR.YR(t,n)},n.KR=function(){return!1},P(t,[{key:"GR",get:function(){return this.JR.GR}}]),t}();function qw(t,n){return If(t.GR,n.GR)}function Vw(t,n){return jw.$e.nI(t,n)}Uw.$e=new Uw;var jw=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).rI=Uw.ZR(),n}Gt(n,t);var r=n.prototype;return r.iI=function(t){this.rI=t},r.eI=function(){return this.rI},r.nI=function(){var t=D.coroutine(vn.mark(function t(n,r){var i,e,u,s,o,c;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0;case 1:if(!(i<n.length)){t.next=11;break}return e=n[i],t.next=5,this.uI(e,r);case 5:if(!(u=t.sent)){t.next=8;break}return t.abrupt("return",{sI:e,oI:u});case 8:i++,t.next=1;break;case 11:s=this.rI,o=0;case 13:if(!(o<n.length)){t.next=20;break}if(c=n[o],!s.YR(c,r)){t.next=17;break}return t.abrupt("return",{sI:c,oI:s});case 17:o++,t.next=13;break;case 20:return t.abrupt("return",{sI:n[0],oI:s});case 21:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),n}(function(){function t(){this.cI=[]}var n=t.prototype;return n.aI=function(t){this.cI.push(t),this.cI.sort(qw)},n.uI=function(){var t=D.coroutine(vn.mark(function t(n,r){var i,e,u,s;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0,e=this.cI;case 1:if(!(i<e.length)){t.next=17;break}if(u=e[i],!nt(s=u.YR(n,r))){t.next=10;break}return t.next=7,s;case 7:t.t0=t.sent,t.next=11;break;case 10:t.t0=Boolean(s);case 11:if(!t.t0){t.next=14;break}return t.abrupt("return",u);case 14:i++,t.next=1;break;case 17:return t.abrupt("return",void 0);case 18:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),t}());jw.$e=new jw;var Hw,Ww=function(){function t(t){var n,r;this.fI=S&&S.document&&S.document.createElement("div"),n=this.fI,(r=n.style).position="absolute",r.left="0",r.right="0",r.top="0",r.bottom="0",r.width="100%",r.height="100%",t.appendChild(this.fI)}return t.prototype.ai=function(){se(this.fI)},t}();function $w(t){switch(t){case Hw.sm:case"":return Hw.sm;case Hw.Rw:return Hw.Rw;case Hw.hI:default:return Hw.hI}}!function(t){t.eR="",t.hI="none",t.Rw="metadata",t.sm="auto"}(Hw||(Hw={}));var zw=[mo.Mf,Po.gh,Po.Us,Po.Wh,Po.oh,Po._h,Po.Eh,Po.Sh,Po.Lh,Po.Mh,Io.Kf,Io.Jf,Io.Qf,Io.Zf,Io.if,Io.th,Io.nh,Po.vh,Po.dh,Po.yh,Po.ph,Po.kh,Po.bh,Po.Ih,Po.Dh,Po.Rh,Po.Ch,Po.Ah,Po.xh,Po.Oh,Po.qh,Po.Vh,Po.Nh,Po.Th,Po.Ph],Xw=function(t){function n(n,r,i,e,u,s){var o;return(o=t.call(this)||this).vI=void 0,o.TR=Hw.hI,o.dI=void 0,o.lI=!0,o.Ud=new ko,o.qd=new ko,o.Vd=new Do,o.jd=new Yc,o.wI=n,o.ec=r,o.Zb=i,o.yI=e,o.gI=s,o.pI=new b(u,o.gI),o.pI.ci(o.wI),o._I=new Ww(o.wI),o.mI=jw.$e.eI(),o.kI=o.bI(o.mI),o.kI.Il=o.Il,o.TI(),o}Gt(n,t);var r=n.prototype;return r.ui=function(){this.kI.ui()},r.ei=function(){this.kI.ei()},r.Yd=function(){return this.Jd({sources:[]})},r.vi=function(){this.pI.ri()},r.nl=function(t){var n,r,i,e;n=this,i=(r=t).Mv,e=r.Av,n.Mv=i,n.Av=e},r.il=function(){},r.fl=function(t){return!1},r.bI=function(t){return t.Fl(this.wI,this.pI,this.Zb,this.ec,this.yI,this.gI)},r.TI=function(){this.Ud.Rf=this.kI.$d,this.qd.Rf=this.kI.zd,this.Vd.Rf=this.kI.Xd,this.jd.Rf=this.kI.Gd,this.kI.Rs(zw,this.Ts)},r.EI=function(){this.kI.Cs(zw,this.Ts),this.Ud.Rf=void 0,this.qd.Rf=void 0,this.Vd.Rf=void 0,this.jd.Rf=void 0},r.Kd=function(){return this.dI},r.Jd=function(){var t=D.coroutine(vn.mark(function t(n,r){var i,e,u,s,o,c;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(er(r),this.dI=n,n){t.next=4;break}return t.abrupt("return");case 4:if(!yc(i=n.sources.filter(Jf))){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,Vw(i,n);case 9:if(e=t.sent,er(r),u=e.sI,s=e.oI,o=this.cl(),c=Ec(this),this.mI===s&&!this.Bs){t.next=25;break}return this.EI(),t.next=19,this.kI.ai();case 19:er(r),this.mI=s,this.kI=this.bI(s),Gw(this.kI,c),Sc(this,c,this),this.TI();case 25:return this.kI.Il=this.Il,this.lI?this.kI.ul():this.kI.sl(),t.next=29,this.kI.Jd(u,n,r);case 29:er(r),this.SI(u),this.cl()!==o&&this.Es(new Ic);case 32:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),r.SI=function(t){this.vI!==t&&(this.vI=t,this.Es(new Dc(t)))},r.Qd=function(){return this.kI.Qd()},r.Zd=function(){this.kI.Zd()},r.tl=function(){this.kI.tl()},r.ol=function(){return this.kI.ol()},r.cl=function(){return this.kI.cl()},r.al=function(){return this.pI.ni.map(function(t){return t.ER})},r.ll=function(){this.kI.ll()},r.pf=function(){var t=D.coroutine(vn.mark(function t(){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.dI=void 0,this.SI(void 0),t.next=4,this.kI.pf();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.ai=function(){var t=D.coroutine(vn.mark(function t(){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Ds(),t.next=3,this.pf();case 3:return t.next=5,this.kI.ai();case 5:this.pI.ai(),this._I.ai(),this.Ud.ai(),this.qd.ai(),this.Vd.ai(),this.jd.ai();case 11:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.ul=function(){this.lI=!0,this.kI.ul()},r.sl=function(){this.lI=!1,this.kI.sl()},P(n,[{key:"$d",get:function(){return this.Ud}},{key:"wl",get:function(){return this.kI.wl}},{key:"gl",get:function(){return this.wI}},{key:"Bs",get:function(){return this.kI.Bs}},{key:"Nv",get:function(){return this.kI.Nv}},{key:"yl",get:function(){return this.kI.yl},set:function(t){this.kI.yl=t}},{key:"dl",get:function(){return this.vI}},{key:"Iv",get:function(){return this.kI.Iv},set:function(t){this.kI.Iv=t}},{key:"Dv",get:function(){return this.kI.Dv}},{key:"Cv",get:function(){return this.kI.Cv}},{key:"Gd",get:function(){return this.jd}},{key:"pl",get:function(){return this.kI.pl}},{key:"Fd",get:function(){return this.kI.Fd}},{key:"Av",get:function(){return this.kI.Av},set:function(t){this.kI.Av=t}},{key:"Sl",get:function(){return this.kI.Sl}},{key:"Ov",get:function(){return this.kI.Ov}},{key:"xv",get:function(){return this.kI.xv},set:function(t){this.kI.xv=t}},{key:"Rl",get:function(){return this.kI.Rl}},{key:"Il",get:function(){return this.TR},set:function(t){this.TR=t,this.kI&&(this.kI.Il=this.TR)}},{key:"Hf",get:function(){return this.kI.Hf}},{key:"Dl",get:function(){return this.kI.Dl}},{key:"Pv",get:function(){return this.kI.Pv}},{key:"Xd",get:function(){return this.Vd}},{key:"Lv",get:function(){return this.kI.Lv}},{key:"zd",get:function(){return this.qd}},{key:"Fv",get:function(){return this.kI.Fv}},{key:"Mv",get:function(){return this.kI.Mv},set:function(t){this.kI.Mv=t}}]),n}(No);function Gw(t,n){t.Av!==n.Av&&(t.Av=n.Av),t.Mv!==n.Mv&&(t.Mv=n.Mv),t.xv!==n.xv&&(t.xv=n.xv)}var Yw=function(t){function n(){return t.call(this,Mo.Mf)||this}return Gt(n,t),n}(_r),Kw=new(function(t){function n(){return t.apply(this,arguments)||this}Gt(n,t);var r=n.prototype;return r.yv=function(){this.Es(new Yw)},r.gv=function(){},r.ai=function(){this.Ds()},P(n,[{key:"wv",get:function(){return!1}},{key:"lv",get:function(){return!1}}]),n}(gr)),Jw=function(t){function n(n,r,i){var e;return(e=t.call(this)||this).wI=n,e.RI=r,e.II=new ch,e.DI=new Yv,e.CI=i,e}Gt(n,t);var r=n.prototype;return r.fl=function(t){return!0},r.sl=function(){},r.ei=function(){throw this.Es(new tc(this.CI)),this.RI},r.ui=function(){},r.Kd=function(){},r.Jd=function(){var t=D.coroutine(vn.mark(function t(n,r){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:throw er(r),this.Es(new tc(this.CI)),this.RI;case 3:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),r.ul=function(){},r.Yd=function(){return D.resolve()},r.ol=function(){},r.cl=function(){return Kw},r.al=function(){return[]},r.vi=function(){},r.nl=function(t){},r.il=function(){},r.Qd=function(){return!1},r.Zd=function(){},r.tl=function(){},r.ll=function(){},r.pf=function(){return D.resolve()},r.ai=function(){return this.Ds(),this.II.ai(),this.DI.ai(),D.resolve()},P(n,[{key:"$d",get:function(){return this.II}},{key:"wl",get:function(){return Of.k_().x_()}},{key:"yl",get:function(){return new Date(NaN)},set:function(t){}},{key:"dl",get:function(){}},{key:"Iv",get:function(){return 0},set:function(t){}},{key:"Dv",get:function(){return 0}},{key:"gl",get:function(){return this.wI}},{key:"Cv",get:function(){return!0}},{key:"Bs",get:function(){return this.RI}},{key:"Nv",get:function(){return this.CI}},{key:"Gd",get:function(){}},{key:"Fd",get:function(){return{_l:0,ml:0,kl:0,bl:0,Tl:0,El:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"Av",get:function(){return!1},set:function(t){}},{key:"Sl",get:function(){return!0}},{key:"Ov",get:function(){return!0}},{key:"xv",get:function(){return 0},set:function(t){}},{key:"Rl",get:function(){return Of.k_().x_()}},{key:"Il",get:function(){return Hw.hI},set:function(t){}},{key:"Hf",get:function(){return Ao.rh}},{key:"Dl",get:function(){return Of.k_().x_()}},{key:"Pv",get:function(){return!1}},{key:"Xd",get:function(){return this.DI}},{key:"Lv",get:function(){return 0}},{key:"zd",get:function(){return this.II}},{key:"Fv",get:function(){return 0}},{key:"Mv",get:function(){return 1},set:function(t){}},{key:"pl",get:function(){return!1}}]),n}(No);var Qw=function(){function t(t){this.NI=t}return t.prototype.AI=function(t){var n,r,i,e,u,s,o,c=[];if(!t)return"";var a=t.length%4;if(a>0)for(;a++<4;)t+=this.NI.charAt(64);for(n=0;n<t.length;n+=4)r=(o=this.NI.indexOf(t.charAt(n))<<18|this.NI.indexOf(t.charAt(n+1))<<12|(u=this.NI.indexOf(t.charAt(n+2)))<<6|(s=this.NI.indexOf(t.charAt(n+3))))>>>16&255,i=o>>>8&255,e=255&o,c[n/4]=String.fromCharCode(r,i,e),64===s&&(c[n/4]=String.fromCharCode(r,i)),64===u&&(c[n/4]=String.fromCharCode(r));return c.join("")},t.prototype.OI=function(t,n){var r,i,e,u,s,o,c,a=[],f="";if((o=t.length%3)>0)for(;o++<3;)f+=this.NI.charAt(64),t+="\0";for(o=0;o<t.length;o+=3)i=(r=t.charCodeAt(o)<<16|t.charCodeAt(o+1)<<8|t.charCodeAt(o+2))>>18&63,e=r>>12&63,u=r>>6&63,s=63&r,a[o/3]=this.NI.charAt(i)+this.NI.charAt(e)+this.NI.charAt(u)+this.NI.charAt(s);return c=(c=a.join("")).slice(0,c.length-f.length),n||(c+=f),c},t.Db=new t(function(){var t,n,r,i,e=[],u=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<u.length;t+=1)for(n=u[t],r=0;r<n.length;r+=1)i=n.charAt(r),-1===e.indexOf(i)&&e.push(i);return e.join("")}()),t.xI=new t(t.Db.AI("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")),t}();function Zw(t){return"string"==typeof t}function ty(t){return"number"==typeof t}var ny={}.toString;var ry,iy=Array.isArray||function(t){return"[object Array]"===ny.call(t)};function ey(t,n){return iy(t)&&t.every(n)}!function(t){t.HTML5="html5",t.ANDROID="android",t.IOS="ios",t.TVOS="tvos",t.ANDROIDTV="androidtv",t.TIZEN="tizen",t.WEBOS="webos",t.CHROMECAST="chromecast",t.ROKU="roku",t.FIRETV="firetv",t.CHROMECASTCAF="chromecastcaf"}(ry||(ry={}));var uy,sy=d.keys(ry).map(function(t){return ry[t]});function oy(t){return-1!==sy.indexOf(t)}function cy(t){try{var n=Qw.xI.AI(t),r=JSON.parse(n);if(!function(t){var n=(h=t,"object"==typeof h&&null!==h),r=Zw(t.key),i=Zw(t.customer_id),e=ty(t.generation_date),u=ty(t.expiration_date),s=ey(t.domains_page,Zw),o=ey(t.domains_source,Zw),c=ey(t.sdks,oy),a=(f=t.send_impression,"boolean"==typeof f);var f;var h;if(!(n&&r&&i&&e&&u&&s&&o&&c&&a))return!1;return!0}(r))throw new h("The provided license could not be decoded correctly.");return r}catch(t){throw new h("The provided license could not be decoded correctly.")}}function ay(){return uy||(uy={kd:R.href,LI:S.parent&&S.parent!==i,FI:vy()}),uy}var fy,hy=["http:","https:","ftp:","ws:","wss:"];function vy(){try{return S.top.location.href}catch(t){return S&&S.document&&S.document.referrer}}!function(t){t[t.MI=0]="MI",t[t.BI=1]="BI",t[t.UI=2]="UI"}(fy||(fy={}));var dy,ly=function(t,n,r,i,e,u,s,o){void 0===e&&(e=""),void 0===u&&(u=Date.now()),void 0===s&&(s=[]),void 0===o&&(o=!0),this.qI=t,this.VI=n,this.jI=r,this.HI=i,this.WI=e,this.$I=u,this.zI=s,this.XI=o};!function(t){t.BI="expired",t.GI="invaliddomain",t.YI="invalidsource",t.Mf="error"}(dy||(dy={}));var wy=function(){function t(t,n,r){this.KI=t,this.JI=n,this.QI=r,this.ZI=ky(this.QI)}var n=t.prototype;return n.tD=function(t,n){var r=this;if(!Kf(t)&&0!==n.jI.length&&!py(n.jI)){var i=[];if(wc(t.sources)?i=[t.sources]:K(t.sources)&&(i=t.sources),!i.every(function(t){return r.nD(t,n)})){var e=dy.YI,u=Ty.rD(e);throw new Yi(yy(e),u)}}},n.iD=function(n){return this.eD(n.zI)&&this.uD(n)?t.sD(n.HI)?fy.MI:fy.BI:fy.UI},n.eD=function(t){var n=this;return 0===t.length||t.some(function(t){return n.oD(t)})},n.oD=function(t){return"tvos"===function(t){switch(t){case ry.ANDROID:return A.pi;case ry.ANDROIDTV:case ry.FIRETV:return A._i;case ry.IOS:return A.mi;case ry.TVOS:return A.ki;case ry.CHROMECAST:case ry.CHROMECASTCAF:return A.bi;default:return A.gi}}(t)},t.sD=function(t){var n=Number(new Date);return!!t&&n<=t},n.uD=function(t){return!(this.ZI&&0!==t.VI.length&&!py(t.VI))||!!(this.ZI&&this.cD(t.VI)&&this.aD(t.VI))},n.cD=function(t){return _y(this.QI.kd,t)},n.aD=function(t){if(!this.QI.LI)return!0;if(this.KI)return!0;var n=this.fD();return!!n&&_y(n,t)},n.fD=function(){if(this.QI.LI){var t=u.ancestorOrigins;return t&&t.length>0?t[t.length-1]:this.QI.FI?this.QI.FI:void 0}},n.nD=function(n,r){return!!t.hD(n,r.jI)},t.hD=function(t,n){return _y(this.vD(t),n)},t.vD=function(t){return Z(t)?t:lc(t)&&t.src||""},t}();function yy(t){switch(t){case dy.GI:return n.ErrorCode.LICENSE_INVALID_DOMAIN;case dy.YI:return n.ErrorCode.LICENSE_INVALID_SOURCE;case dy.BI:return n.ErrorCode.LICENSE_EXPIRED;case dy.Mf:return n.ErrorCode.LICENSE_ERROR}}function gy(t,n){var r=t,i=n;if(!r)return!1;if("*"===(i=i.trim()))return!0;if(i===(r=r.replace(/\.+$/,"")))return!0;var e="\\.",u="25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?",s="(\\*|"+u+")",o=new RegExp("ip-range\\("+s+e+s+e+s+e+s+"\\)"),c=i.match(o),a=function(t){return"*"===t?"("+u+")":t};if(null!==c&&5===c.length){var f=new RegExp("^"+c[1]+e+a(c[2])+e+a(c[3])+e+a(c[4])+"$");return null!==r.match(f)}return i="."+i,-1!==r.indexOf(i,r.length-i.length)}function py(t){return t.some(function(t){return"*"===t})}function _y(t,n){var r=N.$c(t);if(!my(r))return!0;for(var i=0;i<n.length;i++){var e=n[i];if(gy(r.hostname,e))return!0;if(gy(gs(t),e))return!0}return!1}function my(t){return-1!==hy.indexOf(t.protocol)}function ky(t){var n=N.$c(t.kd);return my(n)&&!gy(n.hostname,"localhost")&&!function(t){return gy(t.hostname,"theoplayer.doubleclick.net")}(n)}var by,Ty=function(){function t(){}return t.rD=function(t){return t===dy.GI?this.dD:t===dy.YI?this.lD:t===dy.BI?this.wD:this.yD},t}();function Ey(t){var n=[t.Og,t.gD,t.pD];switch(t.gD){case by._D:n.push(t.zf);break;case by.mD:n.push(t.Iv),n.push(t.Bs);break;case by.kD:n.push(t.Bs)}return n}Ty.yD="The license for this player is invalid.",Ty.wD="The usage license for this video player has expired.",Ty.dD="The current domain is incompatible with the license for this player.",Ty.lD="The provided video source is incompatible with the license for this player.",function(t){t[t._D=1]="_D",t[t.mD=4]="mD",t[t.kD=5]="kD"}(by||(by={}));for(var Sy=new Array(256),Ry=0;Ry<256;Ry+=1)Sy[Ry]=(Ry<16?"0":"")+Ry.toString(16);function Iy(){var t=$t(),n=(4294967296*l.random()|0)+t&3029421624,r=(4294967296*l.random()|0)+t&3595553209,i=(4294967296*l.random()|0)+t&1130486254,e=(4294967296*l.random()|0)+t&1284287105;return Sy[255&n]+Sy[n>>>8&255]+Sy[n>>>16&255]+Sy[n>>>24&255]+"-"+Sy[255&r]+Sy[r>>>8&255]+"-"+Sy[r>>>16&15|64]+Sy[r>>>24&255]+"-"+Sy[63&i|128]+Sy[i>>>8&255]+"-"+Sy[i>>>16&255]+Sy[i>>>24&255]+Sy[255&e]+Sy[e>>>8&255]+Sy[e>>>16&255]+Sy[e>>>24&255]}var Dy=function(){function t(t){this.NI=t}var n=t.prototype;return n.AI=function(t){var n,r,i,e,u,s,o,c=[];if(!t)return"";for(n=0;n<t.length;n+=4)r=(o=this.NI.indexOf(t.charAt(n))<<18|this.NI.indexOf(t.charAt(n+1))<<12|(u=this.NI.indexOf(t.charAt(n+2)))<<6|(s=this.NI.indexOf(t.charAt(n+3))))>>>16&255,i=o>>>8&255,e=255&o,c[n/4]=String.fromCharCode(r,i,e),64===s&&(c[n/4]=String.fromCharCode(r,i)),64===u&&(c[n/4]=String.fromCharCode(r));return c.join("")},n.OI=function(t){var n,r,i,e,u,s,o,c=[],a="";if((s=t.length%3)>0)for(;s++<3;)a+=this.NI.charAt(64),t+="\0";for(s=0;s<t.length;s+=3)r=(n=t.charCodeAt(s)<<16|t.charCodeAt(s+1)<<8|t.charCodeAt(s+2))>>18&63,i=n>>12&63,e=n>>6&63,u=63&n,c[s/3]=this.NI.charAt(r)+this.NI.charAt(i)+this.NI.charAt(e)+this.NI.charAt(u);return(o=c.join("")).slice(0,o.length-a.length)+a},t}();function Cy(){return N.wa()}Dy.Db=new Dy(function(){var t,n,r,i,e=[],u=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<u.length;t+=1)for(n=u[t],r=0;r<n.length;r+=1)i=n.charAt(r),-1===e.indexOf(i)&&e.push(i);return e.join("")}()),Dy.xI=new Dy(Dy.Db.AI("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop"));var Ny,Ay="theoplayer-session-id";function Oy(){if(!Ny){var t=xs.zs(Ay);t?Ny=t:(Ny=Iy(),xs.oa(Ay,Ny))}return Ny}var xy=/[^\x00-\x7E]/g;function Py(t){return"\\u"+function(t,n,r){void 0===r&&(r=" ");var i=r,e=(0|n)-t.length;return e<=0?t:(e>i.length&&(i+=function(t,n){var r=0|n;if(0===t.length||0===r)return"";for(var i=t,e="";1==(1&r)&&(e+=i),0!=(r>>>=1);)i+=i;return e}(i,e/i.length)),i.slice(0,e)+t)}(t.charCodeAt(0).toString(16),4,"0")}var Ly=function(t){function n(n,r){return t.call(this,n,r)||this}return Gt(n,t),n}(Vc),Fy=0,My=1,By=6e4;function Uy(t){var n,r,i,e,u,s=(n=function(t){return[t.bD,t.xo,t.qI,t.ty,t.TD,t.ED,t.SD.map(Ey)]}(t),r=[],i=n,e=function(t,n){if(J(n)){if(-1!==r.indexOf(n))return null;r.push(n)}return n},JSON.stringify(i,e,u).replace(xy,Py));return Dy.xI.OI(s)}var qy=function(){function t(t,n,r,i,e,u){var s=this;void 0===i&&(i=Dy.Db),void 0===e&&(e=Fy),void 0===u&&(u=My),this.NE=t,this.Zb=n,this.RD=r,this.DD=i,this.CD=e,this.ND=u,this.OD=[],this.xD=null,this.PD=0,this.LD="unknown",this.FD=0,this.MD=function(){Cy()-s.PD>By&&s.BD()},this.UD=function(){s.BD(!0)},E.li(this.UD),a(this.MD,By)}var n=t.prototype;return n.qD=function(){return Boolean(this.TD)},n.VD=function(){var t=D.coroutine(vn.mark(function t(n){var r;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.RD.jD();case 2:if(t.sent.XI){t.next=5;break}return t.abrupt("return");case 5:return r={gD:by._D,pD:$t(),zf:n},t.next=8,this.HD(r);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.WD=function(){var t=D.coroutine(vn.mark(function t(n,r){var i;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i={gD:by.mD,pD:$t(),Iv:r,Bs:n},t.next=3,this.HD(i);case 3:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),n.$D=function(){var t=D.coroutine(vn.mark(function t(n){var r;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={gD:by.kD,pD:$t(),Bs:n},t.next=3,this.HD(r);case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.HD=function(){var t=D.coroutine(vn.mark(function t(n){var r;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.RD.jD();case 2:if(r=t.sent,"a:n[_O*[C4C-N$_@_MYY $D]iOp]N$_-_]th_:c|aen?C:pH"!==this.DD.OI(r.qI)){t.next=6;break}if(n.gD===by.kD){t.next=6;break}return t.abrupt("return");case 6:if(n.gD===by._D?this.zD():this.qD()||this.zD(),n.Og=this.FD++,this.OD.push(n),(i=n.gD)!==by._D&&i!==by.kD){t.next=14;break}return t.next=12,this.BD();case 12:t.next=19;break;case 14:if(!(this.OD.length>this.CD)){t.next=19;break}return t.next=17,this.XD();case 17:t.next=19;break;case 19:case"end":return t.stop()}var i},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.BD=function(){var t=D.coroutine(vn.mark(function t(n){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:void 0===n&&(n=!1);case 1:if(!(this.OD.length>0)){t.next=6;break}return t.next=4,this.XD(n);case 4:t.next=1;break;case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.GD=function(){var t=D.coroutine(vn.mark(function t(n){var r;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.RD.jD();case 2:return r=t.sent,t.abrupt("return",{bD:$t(),xo:Oy(),qI:this.DD.OI(r.qI)||"dev",ty:this.NE,TD:this.xD,ED:this.LD,SD:n});case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.XD=function(){var t=D.coroutine(vn.mark(function t(n){var r,i;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===n&&(n=!1),r=this.OD.splice(0,this.ND),t.next=4,this.GD(r);case 4:i=t.sent,n?this.YD(i):this.KD(i),this.PD=Cy();case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.KD=function(){var t=D.coroutine(vn.mark(function t(n){var r,i,e;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=Uy(n),i=new Ly({kd:"https://license.theoplayer.com",bd:r,Cd:!1,Sd:Nc.Ke,Td:{"Content-Type":al.BE},Rd:4e3,Ed:Pc.POST}),t.prev=2,t.next=5,this.Zb.$b(i);case 5:return e=t.sent,t.next=8,e.LE();case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),(new Image).src="https://licensing.theoplayer.com/t?"+r;case 13:case"end":return t.stop()}},t,this,[[2,10]])}));return function(n){return t.apply(this,arguments)}}(),n.YD=function(t){var n=Uy(t);this.Zb.YD({kd:"https://license.theoplayer.com",bd:n,NR:al.BE})},n.zD=function(){this.qD()&&this.BD(),this.xD=Iy(),this.FD=0},n.ai=function(){E.wi(this.UD),this.BD()},P(t,[{key:"SD",get:function(){return this.OD}},{key:"TD",get:function(){return this.xD}}]),t}();var Vy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(t){return"Symbol("+t+")"};function jy(){}var Hy=Number.isNaN||function(t){return t!=t},Wy=jy;function $y(t){return"object"==typeof t&&null!==t||"function"==typeof t}function zy(t){return t.slice()}function Xy(t){return!1!==function(t){if("number"!=typeof t)return!1;if(Hy(t))return!1;if(t<0)return!1;return!0}(t)&&t!==1/0}function Gy(t,n,r){if("function"!=typeof t)throw new v("Argument is not a function");return Function.prototype.apply.call(t,n,r)}function Yy(t,n,r,i){var e=t[n];if(void 0!==e){if("function"!=typeof e)throw new v(e+" is not a method");switch(r){case 0:return function(){return Jy(e,t,i)};case 1:return function(n){var r=[n].concat(i);return Jy(e,t,r)}}}return function(){return sg(void 0)}}function Ky(t,n,r){var i=t[n];if(void 0!==i)return Gy(i,t,r)}function Jy(t,n,r){try{return sg(Gy(t,n,r))}catch(t){return og(t)}}function Qy(t){return t}function Zy(t){if(t=Number(t),Hy(t)||t<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return t}function tg(t){if(void 0===t)return function(){return 1};if("function"!=typeof t)throw new v("size property of a queuing strategy must be a function");return function(n){return t(n)}}var ng=D,rg=D.prototype.then,ig=D.resolve.bind(ng),eg=D.reject.bind(ng);function ug(t){return new ng(t)}function sg(t){return ig(t)}function og(t){return eg(t)}function cg(t,n,r){return rg.call(t,n,r)}function ag(t,n,r){cg(cg(t,n,r),void 0,Wy)}function fg(t,n){ag(t,n)}function hg(t,n){ag(t,void 0,n)}function vg(t,n,r){return cg(t,n,r)}function dg(t){cg(t,void 0,Wy)}var lg=function(){function t(){this.JD=0,this.QD=0,this.Er={ZD:[],tC:void 0},this.nC=this.Er,this.JD=0,this.QD=0}return d.defineProperty(t.prototype,"length",{get:function(){return this.QD},enumerable:!0,configurable:!0}),t.prototype.push=function(t){var n=this.nC,r=n;16383===n.ZD.length&&(r={ZD:[],tC:void 0}),n.ZD.push(t),r!==n&&(this.nC=r,n.tC=r),++this.QD},t.prototype.shift=function(){var t=this.Er,n=t,r=this.JD,i=r+1,e=t.ZD,u=e[r];return 16384===i&&(n=t.tC,i=0),--this.QD,this.JD=i,t!==n&&(this.Er=n),e[r]=void 0,u},t.prototype.forEach=function(t){for(var n=this.JD,r=this.Er,i=r.ZD;!(n===i.length&&void 0===r.tC||n===i.length&&(n=0,0===(i=(r=r.tC).ZD).length));)t(i[n]),++n},t.prototype.peek=function(){var t=this.Er,n=this.JD;return t.ZD[n]},t}();function wg(t,n,r){var i=null;!0===r&&(i=d.prototype);var e=d.create(i);return e.value=t,e.done=n,e}function yg(t,n){t.rC=!0,t.iC=n,n.eC=t,"readable"===n.uC?mg(t):"closed"===n.uC?function(t){mg(t),Tg(t)}(t):kg(t,n.sC)}function gg(t,n){return I_(t.iC,n)}function pg(t){"readable"===t.iC.uC?bg(t,new v("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,n){kg(t,n)}(t,new v("Reader was released and can no longer be used to monitor the stream's closedness")),t.iC.eC=void 0,t.iC=void 0}function _g(t){return new v("Cannot "+t+" a stream using a released reader")}function mg(t){t.ko=ug(function(n,r){t.oC=n,t.cC=r})}function kg(t,n){mg(t),bg(t,n)}function bg(t,n){dg(t.ko),t.cC(n),t.oC=void 0,t.cC=void 0}function Tg(t){t.oC(void 0),t.oC=void 0,t.cC=void 0}var Eg=Vy("[[CancelSteps]]"),Sg=Vy("[[PullSteps]]");function Rg(t,n){void 0===n&&(n=!1);var r=new xg(t);return r.rC=n,r}function Ig(t){return ug(function(n,r){var i={Fn:n,V:r};t.eC.aC.push(i)})}function Dg(t,n,r){var i=t.eC;i.aC.shift().Fn(wg(n,r,i.rC))}function Cg(t){return t.eC.aC.length}function Ng(t){var n=t.eC;return void 0!==n&&!!Pg(n)}var Ag,Og,xg=function(){function t(t){if(!1===S_(t))throw new v("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===R_(t))throw new v("This stream has already been locked for exclusive reading by another reader");yg(this,t),this.aC=new lg}return d.defineProperty(t.prototype,"closed",{get:function(){return Pg(this)?this.ko:og(Fg("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return Pg(this)?void 0===this.iC?og(_g("cancel")):gg(this,t):og(Fg("cancel"))},t.prototype.read=function(){return Pg(this)?void 0===this.iC?og(_g("read from")):Lg(this):og(Fg("read"))},t.prototype.releaseLock=function(){if(!Pg(this))throw Fg("releaseLock");if(void 0!==this.iC){if(this.aC.length>0)throw new v("Tried to release a reader lock when that reader has pending read() calls un-settled");pg(this)}},t}();function Pg(t){return!!$y(t)&&!!d.prototype.hasOwnProperty.call(t,"aC")}function Lg(t){var n=t.iC;return n.fC=!0,"closed"===n.uC?sg(wg(void 0,!0,t.rC)):"errored"===n.uC?og(n.sC):n.hC[Sg]()}function Fg(t){return new v("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}"symbol"==typeof Vy.asyncIterator&&((Ag={})[Vy.asyncIterator]=function(){return this},Og=Ag,d.defineProperty(Og,Vy.asyncIterator,{enumerable:!1}));var Mg={next:function(){if(!1===Bg(this))return og(Ug("next"));var t=this.vC;return void 0===t.iC?og(_g("iterate")):vg(Lg(t),function(n){var r=n.done;return r&&pg(t),wg(n.value,r,!0)})},return:function(t){if(!1===Bg(this))return og(Ug("next"));var n=this.vC;if(void 0===n.iC)return og(_g("finish iterating"));if(n.aC.length>0)return og(new v("Tried to release a reader lock when that reader has pending read() calls un-settled"));if(!1===this.dC){var r=gg(n,t);return pg(n),vg(r,function(){return wg(t,!0,!0)})}return pg(n),sg(wg(t,!0,!0))}};function Bg(t){return!!$y(t)&&!!d.prototype.hasOwnProperty.call(t,"vC")}function Ug(t){return new v("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}function qg(t){var n=t.Nn.shift();return t.lC-=n.size,t.lC<0&&(t.lC=0),n.value}function Vg(t,n,r){if(!Xy(r=Number(r)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");t.Nn.push({value:n,size:r}),t.lC+=r}function jg(t){t.Nn=new lg,t.lC=0}void 0!==Og&&d.setPrototypeOf(Mg,Og),d.defineProperty(Mg,"next",{enumerable:!1}),d.defineProperty(Mg,"return",{enumerable:!1});var Hg=Vy("[[AbortSteps]]"),Wg=Vy("[[ErrorSteps]]"),$g=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),Xg(this);var r=n.size,i=n.highWaterMark;if(void 0!==t.type)throw new RangeError("Invalid type is specified");var e=tg(r);void 0===i&&(i=1),function(t,n,r,i){var e=d.create(hp.prototype);var u=Yy(n,"write",1,[e]),s=Yy(n,"close",0,[]),o=Yy(n,"abort",1,[]);vp(t,e,function(){return Ky(n,"start",[e])},u,s,o,r,i)}(this,t,i=Zy(i),e)}return d.defineProperty(t.prototype,"locked",{get:function(){if(!1===Gg(this))throw _p("locked");return Yg(this)},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===Gg(this)?og(_p("abort")):!0===Yg(this)?og(new v("Cannot abort a stream that already has a writer")):Kg(this,t)},t.prototype.close=function(){return!1===Gg(this)?og(_p("close")):!0===Yg(this)?og(new v("Cannot close a stream that already has a writer")):!0===np(this)?og(new v("Cannot close an already-closing stream")):Jg(this)},t.prototype.getWriter=function(){if(!1===Gg(this))throw _p("getWriter");return zg(this)},t}();function zg(t){return new ep(t)}function Xg(t){t.uC="writable",t.sC=void 0,t.wC=void 0,t.yC=void 0,t.gC=new lg,t.pC=void 0,t._C=void 0,t.mC=void 0,t.kC=void 0,t.bC=!1}function Gg(t){return!!$y(t)&&!!d.prototype.hasOwnProperty.call(t,"yC")}function Yg(t){return void 0!==t.wC}function Kg(t,n){var r=t.uC;if("closed"===r||"errored"===r)return sg(void 0);if(void 0!==t.kC)return t.kC.un;var i=!1;"erroring"===r&&(i=!0,n=void 0);var e=ug(function(r,e){t.kC={un:void 0,Fn:r,V:e,Sn:n,TC:i}});return t.kC.un=e,!1===i&&Zg(t,n),e}function Jg(t){var n=t.uC;if("closed"===n||"errored"===n)return og(new v("The stream (in "+n+" state) is not in the writable state and cannot be closed"));var r,i=ug(function(n,r){var i={Fn:n,V:r};t._C=i}),e=t.wC;return void 0!==e&&!0===t.bC&&"writable"===n&&Np(e),Vg(r=t.yC,"close",0),wp(r),i}function Qg(t,n){"writable"!==t.uC?tp(t):Zg(t,n)}function Zg(t,n){var r=t.yC;t.uC="erroring",t.sC=n;var i=t.wC;void 0!==i&&cp(i,n),!1===function(t){if(void 0===t.pC&&void 0===t.mC)return!1;return!0}(t)&&!0===r.EC&&tp(t)}function tp(t){t.uC="errored",t.yC[Wg]();var n=t.sC;if(t.gC.forEach(function(t){t.V(n)}),t.gC=new lg,void 0!==t.kC){var r=t.kC;if(t.kC=void 0,!0===r.TC)return r.V(n),void rp(t);ag(t.yC[Hg](r.Sn),function(){r.Fn(),rp(t)},function(n){r.V(n),rp(t)})}else rp(t)}function np(t){return void 0!==t._C||void 0!==t.mC}function rp(t){void 0!==t._C&&(t._C.V(t.sC),t._C=void 0);var n=t.wC;void 0!==n&&Ep(n,t.sC)}function ip(t,n){var r=t.wC;void 0!==r&&n!==t.bC&&(!0===n?function(t){Rp(t)}(r):Np(r)),t.bC=n}var ep=function(){function t(t){if(!1===Gg(t))throw new v("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===Yg(t))throw new v("This stream has already been locked for exclusive writing by another writer");this.SC=t,t.wC=this;var n,r=t.uC;if("writable"===r)!1===np(t)&&!0===t.bC?Rp(this):Dp(this),bp(this);else if("erroring"===r)Ip(this,t.sC),bp(this);else if("closed"===r)Dp(this),bp(n=this),Sp(n);else{var i=t.sC;Ip(this,i),Tp(this,i)}}return d.defineProperty(t.prototype,"closed",{get:function(){return!1===up(this)?og(mp("closed")):this.ko},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===up(this))throw mp("desiredSize");if(void 0===this.SC)throw kp("desiredSize");return function(t){var n=t.SC,r=n.uC;if("errored"===r||"erroring"===r)return null;if("closed"===r)return 0;return lp(n.yC)}(this)},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"ready",{get:function(){return!1===up(this)?og(mp("ready")):this.RC},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===up(this)?og(mp("abort")):void 0===this.SC?og(kp("abort")):function(t,n){return Kg(t.SC,n)}(this,t)},t.prototype.close=function(){if(!1===up(this))return og(mp("close"));var t=this.SC;return void 0===t?og(kp("close")):!0===np(t)?og(new v("Cannot close an already-closing stream")):sp(this)},t.prototype.releaseLock=function(){if(!1===up(this))throw mp("releaseLock");void 0!==this.SC&&ap(this)},t.prototype.write=function(t){return!1===up(this)?og(mp("write")):void 0===this.SC?og(kp("write to")):fp(this,t)},t}();function up(t){return!!$y(t)&&!!d.prototype.hasOwnProperty.call(t,"SC")}function sp(t){return Jg(t.SC)}function op(t,n){"pending"===t.IC?Ep(t,n):function(t,n){Tp(t,n)}(t,n)}function cp(t,n){"pending"===t.DC?Cp(t,n):function(t,n){Ip(t,n)}(t,n)}function ap(t){var n=t.SC,r=new v("Writer was released and can no longer be used to monitor the stream's closedness");cp(t,r),op(t,r),n.wC=void 0,t.SC=void 0}function fp(t,n){var r=t.SC,i=r.yC,e=function(t,n){try{return t.CC(n)}catch(n){return yp(t,n),1}}(i,n);if(r!==t.SC)return og(kp("write to"));var u=r.uC;if("errored"===u)return og(r.sC);if(!0===np(r)||"closed"===u)return og(new v("The stream is closing or closed and cannot be written to"));if("erroring"===u)return og(r.sC);var s=function(t){return ug(function(n,r){var i={Fn:n,V:r};t.gC.push(i)})}(r);return function(t,n,r){var i={chunk:n};try{Vg(t,i,r)}catch(n){return void yp(t,n)}var e=t.NC;if(!1===np(e)&&"writable"===e.uC){var u=gp(t);ip(e,u)}wp(t)}(i,n,e),s}var hp=function(){function t(){throw new v("WritableStreamDefaultController cannot be constructed explicitly")}return t.prototype.error=function(t){if(!1===function(t){if(!$y(t))return!1;if(!d.prototype.hasOwnProperty.call(t,"NC"))return!1;return!0}(this))throw new v("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this.NC.uC&&pp(this,t)},t.prototype[Hg]=function(t){var n=this.AC(t);return dp(this),n},t.prototype[Wg]=function(){jg(this)},t}();function vp(t,n,r,i,e,u,s,o){n.NC=t,t.yC=n,n.Nn=void 0,n.lC=void 0,jg(n),n.EC=!1,n.CC=o,n.OC=s,n.xC=i,n.LC=e,n.AC=u;var c=gp(n);ip(t,c),ag(sg(r()),function(){n.EC=!0,wp(n)},function(r){n.EC=!0,Qg(t,r)})}function dp(t){t.xC=void 0,t.LC=void 0,t.AC=void 0,t.CC=void 0}function lp(t){return t.OC-t.lC}function wp(t){var n=t.NC;if(!1!==t.EC&&void 0===n.pC)if("erroring"!==n.uC){if(0!==t.Nn.length){var r=t.Nn.peek().value;"close"===r?function(t){var n=t.NC;(function(t){t.mC=t._C,t._C=void 0})(n),qg(t);var r=t.LC();dp(t),ag(r,function(){!function(t){t.mC.Fn(void 0),t.mC=void 0,"erroring"===t.uC&&(t.sC=void 0,void 0!==t.kC&&(t.kC.Fn(),t.kC=void 0)),t.uC="closed";var n=t.wC;void 0!==n&&Sp(n)}(n)},function(t){!function(t,n){t.mC.V(n),t.mC=void 0,void 0!==t.kC&&(t.kC.V(n),t.kC=void 0),Qg(t,n)}(n,t)})}(t):function(t,n){var r=t.NC;(function(t){t.pC=t.gC.shift()})(r),ag(t.xC(n),function(){!function(t){t.pC.Fn(void 0),t.pC=void 0}(r);var n=r.uC;if(qg(t),!1===np(r)&&"writable"===n){var i=gp(t);ip(r,i)}wp(t)},function(n){"writable"===r.uC&&dp(t),function(t,n){t.pC.V(n),t.pC=void 0,Qg(t,n)}(r,n)})}(t,r.chunk)}}else tp(n)}function yp(t,n){"writable"===t.NC.uC&&pp(t,n)}function gp(t){return lp(t)<=0}function pp(t,n){var r=t.NC;dp(t),Zg(r,n)}function _p(t){return new v("WritableStream.prototype."+t+" can only be used on a WritableStream")}function mp(t){return new v("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function kp(t){return new v("Cannot "+t+" a stream using a released writer")}function bp(t){t.ko=ug(function(n,r){t.oC=n,t.cC=r,t.IC="pending"})}function Tp(t,n){bp(t),Ep(t,n)}function Ep(t,n){dg(t.ko),t.cC(n),t.oC=void 0,t.cC=void 0,t.IC="rejected"}function Sp(t){t.oC(void 0),t.oC=void 0,t.cC=void 0,t.IC="resolved"}function Rp(t){t.RC=ug(function(n,r){t.FC=n,t.MC=r}),t.DC="pending"}function Ip(t,n){Rp(t),Cp(t,n)}function Dp(t){Rp(t),Np(t)}function Cp(t,n){dg(t.RC),t.MC(n),t.FC=void 0,t.MC=void 0,t.DC="rejected"}function Np(t){t.FC(void 0),t.FC=void 0,t.MC=void 0,t.DC="fulfilled"}function Ap(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}var Op="undefined"!=typeof DOMException?DOMException:void 0;var xp,Pp=function(t){if("function"!=typeof t&&"object"!=typeof t)return!1;try{return new t,!0}catch(t){return!1}}(Op)?Op:((xp=function(t,n){this.message=t||"",this.name=n||"Error",h.captureStackTrace&&h.captureStackTrace(this,this.constructor)}).prototype=d.create(h.prototype),d.defineProperty(xp.prototype,"constructor",{value:xp,writable:!0,configurable:!0}),xp);function Lp(t,n,r,i,e,u){var s=Rg(t),o=zg(n);t.fC=!0;var c=!1,a=sg(void 0);return ug(function(f,h){var d,l,w,y;if(void 0!==u){if(d=function(){var r=new Pp("Aborted","AbortError"),u=[];!1===i&&u.push(function(){return"writable"===n.uC?Kg(n,r):sg(void 0)}),!1===e&&u.push(function(){return"readable"===t.uC?I_(t,r):sg(void 0)}),m(function(){return D.all(u.map(function(t){return t()}))},!0,r)},!0===u.aborted)return void d();u.addEventListener("abort",d)}if(_(t,s.ko,function(t){!1===i?m(function(){return Kg(n,t)},!0,t):k(!0,t)}),_(n,o.ko,function(n){!1===e?m(function(){return I_(t,n)},!0,n):k(!0,n)}),l=t,w=s.ko,y=function(){!1===r?m(function(){return function(t){var n=t.SC,r=n.uC;return!0===np(n)||"closed"===r?sg(void 0):"errored"===r?og(n.sC):sp(t)}(o)}):k()},"closed"===l.uC?y():fg(w,y),!0===np(n)||"closed"===n.uC){var g=new v("the destination writable stream closed before all data could be piped to it");!1===e?m(function(){return I_(t,g)},!0,g):k(!0,g)}function p(){var t=a;return cg(a,function(){return t!==a?p():void 0})}function _(t,n,r){"errored"===t.uC?r(t.sC):hg(n,r)}function m(t,r,i){function e(){ag(t(),function(){return b(r,i)},function(t){return b(!0,t)})}!0!==c&&(c=!0,"writable"===n.uC&&!1===np(n)?fg(p(),e):e())}function k(t,r){!0!==c&&(c=!0,"writable"===n.uC&&!1===np(n)?fg(p(),function(){return b(t,r)}):b(t,r))}function b(t,n){ap(o),pg(s),void 0!==u&&u.removeEventListener("abort",d),t?h(n):f(void 0)}dg(ug(function(t,n){!function r(i){i?t():cg(!0===c?sg(!0):cg(o.RC,function(){return cg(Lg(s),function(t){return!0===t.done||(a=cg(fp(o,t.value),void 0,jy),!1)})}),r,n)}(!1)}))})}var Fp=function(){function t(){throw new v}return d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Mp(this))throw Xp("desiredSize");return Wp(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===Mp(this))throw Xp("close");if(!1===$p(this))throw new v("The stream is not in a state that permits close");Vp(this)},t.prototype.enqueue=function(t){if(!1===Mp(this))throw Xp("enqueue");if(!1===$p(this))throw new v("The stream is not in a state that permits enqueue");return jp(this,t)},t.prototype.error=function(t){if(!1===Mp(this))throw Xp("error");Hp(this,t)},t.prototype[Eg]=function(t){jg(this);var n=this.BC(t);return qp(this),n},t.prototype[Sg]=function(){var t=this.UC;if(this.Nn.length>0){var n=qg(this);return!0===this.qC&&0===this.Nn.length?(qp(this),D_(t)):Bp(this),sg(wg(n,!1,t.eC.rC))}var r=Ig(t);return Bp(this),r},t}();function Mp(t){return!!$y(t)&&!!d.prototype.hasOwnProperty.call(t,"UC")}function Bp(t){!1!==Up(t)&&(!0!==t.VC?(t.VC=!0,ag(t.jC(),function(){t.VC=!1,!0===t.HC&&(t.HC=!1,Bp(t))},function(n){Hp(t,n)})):t.HC=!0)}function Up(t){var n=t.UC;return!1!==$p(t)&&(!1!==t.EC&&(!0===R_(n)&&Cg(n)>0||Wp(t)>0))}function qp(t){t.jC=void 0,t.BC=void 0,t.CC=void 0}function Vp(t){var n=t.UC;t.qC=!0,0===t.Nn.length&&(qp(t),D_(n))}function jp(t,n){var r=t.UC;if(!0===R_(r)&&Cg(r)>0)Dg(r,n,!1);else{var i=void 0;try{i=t.CC(n)}catch(n){throw Hp(t,n),n}try{Vg(t,n,i)}catch(n){throw Hp(t,n),n}}Bp(t)}function Hp(t,n){var r=t.UC;"readable"===r.uC&&(jg(t),qp(t),C_(r,n))}function Wp(t){var n=t.UC.uC;return"errored"===n?null:"closed"===n?0:t.OC-t.lC}function $p(t){var n=t.UC.uC;return!1===t.qC&&"readable"===n}function zp(t,n,r,i,e,u,s){n.UC=t,n.Nn=void 0,n.lC=void 0,jg(n),n.EC=!1,n.qC=!1,n.HC=!1,n.VC=!1,n.CC=s,n.OC=u,n.jC=i,n.BC=e,t.hC=n,ag(sg(r()),function(){n.EC=!0,Bp(n)},function(t){Hp(n,t)})}function Xp(t){return new v("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}var Gp=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&l.floor(t)===t},Yp=function(){function t(){throw new v("ReadableStreamBYOBRequest cannot be used directly")}return d.defineProperty(t.prototype,"view",{get:function(){if(!1===Qp(this))throw l_("view");return this.Fb},enumerable:!0,configurable:!0}),t.prototype.respond=function(t){if(!1===Qp(this))throw l_("respond");if(void 0===this.WC)throw new v("This BYOB request has been invalidated");this.Fb.buffer,function(t,n){if(!1===Xy(n=Number(n)))throw new RangeError("bytesWritten must be a finite");c_(t,n)}(this.WC,t)},t.prototype.respondWithNewView=function(t){if(!1===Qp(this))throw l_("respond");if(void 0===this.WC)throw new v("This BYOB request has been invalidated");if(!ArrayBuffer.isView(t))throw new v("You can only respond with array buffer views");t.buffer,function(t,n){var r=t.$C.peek();if(r.byteOffset+r.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(r.byteLength!==n.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");r.buffer=n.buffer,c_(t,n.byteLength)}(this.WC,t)},t}(),Kp=function(){function t(){throw new v("ReadableByteStreamController constructor cannot be used directly")}return d.defineProperty(t.prototype,"byobRequest",{get:function(){if(!1===Jp(this))throw w_("byobRequest");if(void 0===this.zC&&this.$C.length>0){var t=this.$C.peek(),n=new p(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),r=d.create(Yp.prototype);!function(t,n,r){t.WC=n,t.Fb=r}(r,this,n),this.zC=r}return this.zC},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Jp(this))throw w_("desiredSize");return v_(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===Jp(this))throw w_("close");if(!0===this.qC)throw new v("The stream has already been closed; do not close it again!");var t=this.XC.uC;if("readable"!==t)throw new v("The stream (in "+t+" state) is not in the readable state and cannot be closed");!function(t){var n=t.XC;if(t.lC>0)return void(t.qC=!0);if(t.$C.length>0){var r=t.$C.peek();if(r.bytesFilled>0){var i=new v("Insufficient bytes to fill elements in the given buffer");throw h_(t,i),i}}f_(t),D_(n)}(this)},t.prototype.enqueue=function(t){if(!1===Jp(this))throw w_("enqueue");if(!0===this.qC)throw new v("stream is closed or draining");var n=this.XC.uC;if("readable"!==n)throw new v("The stream (in "+n+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(t))throw new v("You can only enqueue array buffer views when using a ReadableByteStreamController");t.buffer,function(t,n){var r=t.XC,i=n.buffer,e=n.byteOffset,u=n.byteLength,s=Qy(i);if(!0===Ng(r))if(0===Cg(r))r_(t,s,e,u);else{var o=new p(s,e,u);Dg(r,o,!1)}else!0===p_(r)?(r_(t,s,e,u),o_(t)):r_(t,s,e,u);Zp(t)}(this,t)},t.prototype.error=function(t){if(!1===Jp(this))throw w_("error");h_(this,t)},t.prototype[Eg]=function(t){this.$C.length>0&&(this.$C.peek().bytesFilled=0);jg(this);var n=this.BC(t);return f_(this),n},t.prototype[Sg]=function(){var t=this.XC;if(this.lC>0){var n=this.Nn.shift();this.lC-=n.byteLength,u_(this);var r=void 0;try{r=new p(n.buffer,n.byteOffset,n.byteLength)}catch(t){return og(t)}return sg(wg(r,!1,t.eC.rC))}var i=this.GC;if(void 0!==i){var e=void 0;try{e=new ArrayBuffer(i)}catch(t){return og(t)}var u={buffer:e,byteOffset:0,byteLength:i,bytesFilled:0,elementSize:1,ctor:p,readerType:"default"};this.$C.push(u)}var s=Ig(t);return Zp(this),s},t}();function Jp(t){return!!$y(t)&&!!d.prototype.hasOwnProperty.call(t,"XC")}function Qp(t){return!!$y(t)&&!!d.prototype.hasOwnProperty.call(t,"WC")}function Zp(t){!1!==function(t){var n=t.XC;if("readable"!==n.uC)return!1;if(!0===t.qC)return!1;if(!1===t.EC)return!1;if(!0===Ng(n)&&Cg(n)>0)return!0;if(!0===p_(n)&&g_(n)>0)return!0;if(v_(t)>0)return!0;return!1}(t)&&(!0!==t.VC?(t.VC=!0,ag(t.jC(),function(){t.VC=!1,!0===t.HC&&(t.HC=!1,Zp(t))},function(n){h_(t,n)})):t.HC=!0)}function t_(t,n){var r=!1;"closed"===t.uC&&(r=!0);var i=n_(n);"default"===n.readerType?Dg(t,i,r):function(t,n,r){var i=t.eC;i.YC.shift().Fn(wg(n,r,i.rC))}(t,i,r)}function n_(t){var n=t.bytesFilled,r=t.elementSize;return new t.ctor(t.buffer,t.byteOffset,n/r)}function r_(t,n,r,i){t.Nn.push({buffer:n,byteOffset:r,byteLength:i}),t.lC+=i}function i_(t,n){var r=n.elementSize,i=n.bytesFilled-n.bytesFilled%r,e=l.min(t.lC,n.byteLength-n.bytesFilled),u=n.bytesFilled+e,s=u-u%r,o=e,c=!1;s>i&&(o=s-n.bytesFilled,c=!0);for(var a,f,h,v,d,w=t.Nn;o>0;){var y=w.peek(),g=l.min(o,y.byteLength),_=n.byteOffset+n.bytesFilled;a=n.buffer,f=_,h=y.buffer,v=y.byteOffset,d=g,new p(a).set(new p(h,v,d),f),y.byteLength===g?w.shift():(y.byteOffset+=g,y.byteLength-=g),t.lC-=g,e_(t,g,n),o-=g}return c}function e_(t,n,r){s_(t),r.bytesFilled+=n}function u_(t){0===t.lC&&!0===t.qC?(f_(t),D_(t.XC)):Zp(t)}function s_(t){void 0!==t.zC&&(t.zC.WC=void 0,t.zC.Fb=void 0,t.zC=void 0)}function o_(t){for(;t.$C.length>0;){if(0===t.lC)return;var n=t.$C.peek();!0===i_(t,n)&&(a_(t),t_(t.XC,n))}}function c_(t,n){var r=t.$C.peek();if("closed"===t.XC.uC){if(0!==n)throw new v("bytesWritten must be 0 when calling respond() on a closed stream");!function(t,n){n.buffer=Qy(n.buffer);var r=t.XC;if(!0===p_(r))for(;g_(r)>0;)t_(r,a_(t))}(t,r)}else!function(t,n,r){if(r.bytesFilled+n>r.byteLength)throw new RangeError("bytesWritten out of range");if(e_(t,n,r),!(r.bytesFilled<r.elementSize)){a_(t);var i=r.bytesFilled%r.elementSize;if(i>0){var e=r.byteOffset+r.bytesFilled,u=r.buffer.slice(e-i,e);r_(t,u,0,u.byteLength)}r.buffer=Qy(r.buffer),r.bytesFilled-=i,t_(t.XC,r),o_(t)}}(t,n,r);Zp(t)}function a_(t){var n=t.$C.shift();return s_(t),n}function f_(t){t.jC=void 0,t.BC=void 0}function h_(t,n){var r=t.XC;"readable"===r.uC&&(!function(t){s_(t),t.$C=new lg}(t),jg(t),f_(t),C_(r,n))}function v_(t){var n=t.XC.uC;return"errored"===n?null:"closed"===n?0:t.OC-t.lC}function d_(t,n,r){var i=d.create(Kp.prototype);var e=Yy(n,"pull",0,[i]),u=Yy(n,"cancel",1,[]),s=n.autoAllocateChunkSize;if(void 0!==s&&(s=Number(s),!1===Gp(s)||s<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");!function(t,n,r,i,e,u,s){n.XC=t,n.HC=!1,n.VC=!1,n.zC=void 0,n.Nn=n.lC=void 0,jg(n),n.qC=!1,n.EC=!1,n.OC=Zy(u),n.jC=i,n.BC=e,n.GC=s,n.$C=new lg,t.hC=n,ag(sg(r()),function(){n.EC=!0,Zp(n)},function(t){h_(n,t)})}(t,i,function(){return Ky(n,"start",[i])},e,u,r,s)}function l_(t){return new v("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function w_(t){return new v("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function y_(t){return ug(function(n,r){var i={Fn:n,V:r};t.eC.YC.push(i)})}function g_(t){return t.eC.YC.length}function p_(t){var n=t.eC;return void 0!==n&&!!m_(n)}var __=function(){function t(t){if(!S_(t))throw new v("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===Jp(t.hC))throw new v("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(R_(t))throw new v("This stream has already been locked for exclusive reading by another reader");yg(this,t),this.YC=new lg}return d.defineProperty(t.prototype,"closed",{get:function(){return m_(this)?this.ko:og(k_("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return m_(this)?void 0===this.iC?og(_g("cancel")):gg(this,t):og(k_("cancel"))},t.prototype.read=function(t){return m_(this)?void 0===this.iC?og(_g("read from")):ArrayBuffer.isView(t)?(t.buffer,0===t.byteLength?og(new v("view must have non-zero byteLength")):function(t,n){var r=t.iC;if(r.fC=!0,"errored"===r.uC)return og(r.sC);return function(t,n){var r=t.XC,i=1;n.constructor!==DataView&&(i=n.constructor.BYTES_PER_ELEMENT);var e=n.constructor,u={buffer:Qy(n.buffer),byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:i,ctor:e,readerType:"byob"};if(t.$C.length>0)return t.$C.push(u),y_(r);if("closed"===r.uC)return sg(wg(new e(u.buffer,u.byteOffset,0),!0,r.eC.rC));if(t.lC>0){if(!0===i_(t,u)){var s=n_(u);return u_(t),sg(wg(s,!1,r.eC.rC))}if(!0===t.qC){var o=new v("Insufficient bytes to fill elements in the given buffer");return h_(t,o),og(o)}}t.$C.push(u);var c=y_(r);return Zp(t),c}(r.hC,n)}(this,t)):og(new v("view must be an array buffer view")):og(k_("read"))},t.prototype.releaseLock=function(){if(!m_(this))throw k_("releaseLock");if(void 0!==this.iC){if(this.YC.length>0)throw new v("Tried to release a reader lock when that reader has pending read() calls un-settled");pg(this)}},t}();function m_(t){return!!$y(t)&&!!d.prototype.hasOwnProperty.call(t,"YC")}function k_(t){return new v("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}var b_=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),E_(this);var r=n.size,i=n.highWaterMark,e=t.type;if("bytes"===String(e)){if(void 0!==r)throw new RangeError("The strategy for a byte stream cannot have a size function");void 0===i&&(i=0),d_(this,t,i=Zy(i))}else{if(void 0!==e)throw new RangeError("Invalid type is specified");var u=tg(r);void 0===i&&(i=1),function(t,n,r,i){var e=d.create(Fp.prototype),u=Yy(n,"pull",0,[e]),s=Yy(n,"cancel",1,[]);zp(t,e,function(){return Ky(n,"start",[e])},u,s,r,i)}(this,t,i=Zy(i),u)}}return d.defineProperty(t.prototype,"locked",{get:function(){if(!1===S_(this))throw N_("locked");return R_(this)},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return!1===S_(this)?og(N_("cancel")):!0===R_(this)?og(new v("Cannot cancel a stream that already has a reader")):I_(this,t)},t.prototype.getReader=function(t){var n=(void 0===t?{}:t).mode;if(!1===S_(this))throw N_("getReader");if(void 0===n)return Rg(this,!0);if("byob"===(n=String(n)))return function(t,n){void 0===n&&(n=!1);var r=new __(t);return r.rC=n,r}(this,!0);throw new RangeError("Invalid mode is specified")},t.prototype.pipeThrough=function(t,n){var r=t.writable,i=t.readable,e=void 0===n?{}:n,u=e.preventClose,s=e.preventAbort,o=e.preventCancel,c=e.signal;if(!1===S_(this))throw N_("pipeThrough");if(!1===Gg(r))throw new v("writable argument to pipeThrough must be a WritableStream");if(!1===S_(i))throw new v("readable argument to pipeThrough must be a ReadableStream");if(u=Boolean(u),s=Boolean(s),o=Boolean(o),void 0!==c&&!Ap(c))throw new v("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(!0===R_(this))throw new v("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(!0===Yg(r))throw new v("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return dg(Lp(this,r,u,s,o,c)),i},t.prototype.pipeTo=function(t,n){var r=void 0===n?{}:n,i=r.preventClose,e=r.preventAbort,u=r.preventCancel,s=r.signal;return!1===S_(this)?og(N_("pipeTo")):!1===Gg(t)?og(new v("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(i=Boolean(i),e=Boolean(e),u=Boolean(u),void 0===s||Ap(s)?!0===R_(this)?og(new v("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):!0===Yg(t)?og(new v("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Lp(this,t,i,e,u,s):og(new v("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal")))},t.prototype.tee=function(){if(!1===S_(this))throw N_("tee");var t=function(t,n){var r,i,e,u,s,o=Rg(t),c=!1,a=!1,f=!1,h=ug(function(t){s=t});function v(){return!0===c?sg(void 0):(c=!0,dg(vg(Lg(o),function(t){if(c=!1,!0===t.done)return!1===a&&Vp(e.hC),void(!1===f&&Vp(u.hC));var n=t.value,r=n,i=n;!1===a&&jp(e.hC,r),!1===f&&jp(u.hC,i)})),sg(void 0))}function d(){}return e=T_(d,v,function(n){if(a=!0,r=n,!0===f){var e=zy([r,i]),u=I_(t,e);s(u)}return h}),u=T_(d,v,function(n){if(f=!0,i=n,!0===a){var e=zy([r,i]),u=I_(t,e);s(u)}return h}),hg(o.ko,function(t){Hp(e.hC,t),Hp(u.hC,t)}),[e,u]}(this);return zy(t)},t.prototype.getIterator=function(t){var n=(void 0===t?{}:t).preventCancel,r=void 0!==n&&n;if(!1===S_(this))throw N_("getIterator");return function(t,n){void 0===n&&(n=!1);var r=Rg(t),i=d.create(Mg);return i.vC=r,i.dC=Boolean(n),i}(this,r)},t}();function T_(t,n,r,i,e){void 0===i&&(i=1),void 0===e&&(e=function(){return 1});var u=d.create(b_.prototype);return E_(u),zp(u,d.create(Fp.prototype),t,n,r,i,e),u}function E_(t){t.uC="readable",t.eC=void 0,t.sC=void 0,t.fC=!1}function S_(t){return!!$y(t)&&!!d.prototype.hasOwnProperty.call(t,"hC")}function R_(t){return void 0!==t.eC}function I_(t,n){return t.fC=!0,"closed"===t.uC?sg(void 0):"errored"===t.uC?og(t.sC):(D_(t),vg(t.hC[Eg](n),jy))}function D_(t){t.uC="closed";var n=t.eC;void 0!==n&&(Pg(n)&&(n.aC.forEach(function(t){t.Fn(wg(void 0,!0,n.rC))}),n.aC=new lg),Tg(n))}function C_(t,n){t.uC="errored",t.sC=n;var r=t.eC;void 0!==r&&(Pg(r)?(r.aC.forEach(function(t){t.V(n)}),r.aC=new lg):(r.YC.forEach(function(t){t.V(n)}),r.YC=new lg),bg(r,n))}function N_(t){return new v("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}"symbol"==typeof Vy.asyncIterator&&d.defineProperty(b_.prototype,Vy.asyncIterator,{value:b_.prototype.getIterator,enumerable:!1,writable:!0,configurable:!0});var A_=function(){function t(t,n,r){void 0===t&&(t={}),void 0===n&&(n={}),void 0===r&&(r={});var i=n.size,e=n.highWaterMark,u=r.size,s=r.highWaterMark;if(void 0!==t.writableType)throw new RangeError("Invalid writable type specified");var o=tg(i);if(void 0===e&&(e=1),e=Zy(e),void 0!==t.readableType)throw new RangeError("Invalid readable type specified");var c,a=tg(u);void 0===s&&(s=0),s=Zy(s),function(t,n,r,i,e,u){function s(){return n}t.KC=function(t,n,r,i,e,u){void 0===e&&(e=1),void 0===u&&(u=function(){return 1});var s=d.create($g.prototype);return Xg(s),vp(s,d.create(hp.prototype),t,n,r,i,e,u),s}(s,function(n){return function(t,n){var r=t.JC;if(!0===t.bC){var i=t.QC;return vg(i,function(){var i=t.KC,e=i.uC;if("erroring"===e)throw i.sC;return V_(r,n)})}return V_(r,n)}(t,n)},function(){return function(t){var n=t.ZC,r=t.JC,i=r.tN();return U_(r),vg(i,function(){if("errored"===n.uC)throw n.sC;var t=n.hC;!0===$p(t)&&Vp(t)},function(r){throw x_(t,r),n.sC})}(t)},function(n){return function(t,n){return x_(t,n),sg(void 0)}(t,n)},r,i),t.ZC=T_(s,function(){return function(t){return L_(t,!1),t.QC}(t)},function(n){return P_(t,n),sg(void 0)},e,u),t.bC=void 0,t.QC=void 0,t.nN=void 0,L_(t,!0),t.JC=void 0}(this,ug(function(t){c=t}),e,o,s,a),function(t,n){var r=d.create(M_.prototype),i=function(t){try{return q_(r,t),sg(void 0)}catch(t){return og(t)}},e=n.transform;if(void 0!==e){if("function"!=typeof e)throw new v("transform is not a method");i=function(t){return Jy(e,n,[t,r])}}var u=Yy(n,"flush",0,[r]);!function(t,n,r,i){n.rN=t,t.JC=n,n.iN=r,n.tN=i}(t,r,i,u)}(this,t);var f=Ky(t,"start",[this.JC]);c(f)}return d.defineProperty(t.prototype,"readable",{get:function(){if(!1===O_(this))throw H_("readable");return this.ZC},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"writable",{get:function(){if(!1===O_(this))throw H_("writable");return this.KC},enumerable:!0,configurable:!0}),t}();function O_(t){return!!$y(t)&&!!d.prototype.hasOwnProperty.call(t,"JC")}function x_(t,n){Hp(t.ZC.hC,n),P_(t,n)}function P_(t,n){U_(t.JC),yp(t.KC.yC,n),!0===t.bC&&L_(t,!1)}function L_(t,n){void 0!==t.QC&&t.nN(),t.QC=ug(function(n){t.nN=n}),t.bC=n}var F_,M_=function(){function t(){throw new v("TransformStreamDefaultController instances cannot be created directly")}return d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===B_(this))throw j_("desiredSize");return Wp(this.rN.ZC.hC)},enumerable:!0,configurable:!0}),t.prototype.enqueue=function(t){if(!1===B_(this))throw j_("enqueue");q_(this,t)},t.prototype.error=function(t){if(!1===B_(this))throw j_("error");var n;n=t,x_(this.rN,n)},t.prototype.terminate=function(){if(!1===B_(this))throw j_("terminate");!function(t){var n=t.rN,r=n.ZC.hC;!0===$p(r)&&Vp(r);var i=new v("TransformStream terminated");P_(n,i)}(this)},t}();function B_(t){return!!$y(t)&&!!d.prototype.hasOwnProperty.call(t,"rN")}function U_(t){t.iN=void 0,t.tN=void 0}function q_(t,n){var r=t.rN,i=r.ZC.hC;if(!1===$p(i))throw new v("Readable side is not in a state that permits enqueue");try{jp(i,n)}catch(t){throw P_(r,t),r.ZC.sC}(function(t){return!0!==Up(t)})(i)!==r.bC&&L_(r,!0)}function V_(t,n){return vg(t.iN(n),void 0,function(n){throw x_(t.rN,n),n})}function j_(t){return new v("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function H_(t){return new v("TransformStream.prototype."+t+" can only be used on a TransformStream")}function W_(t){return n=[t],new b_({start:function(t){for(var r=0;r<n.length;r++){var i=n[r];t.enqueue(i)}t.close()}});var n}function $_(t){return W_(new p(t))}function z_(t,n){var r=n,i=t.getReader(),e=new Si,u=function(){s();var t=new rr;i.cancel(t).catch(it),e.co(t)},s=function(){r&&(r.vs(u),r=void 0)};r&&(r.us?u():r.hs(u));var o=[];return D.resolve(i.read()).then(function t(n){return n.done?(s(),D.resolve(o)):(o.push(n.value),D.resolve(i.read()).then(t))}).then(function(t){s(),e.oo(t)},function(t){s(),e.co(t)}),e.so}function X_(t,n){return z_(t,n).then(function(t){return Mr(t).buffer})}function G_(t,n){var r=n,i=new A_,e=i.readable,u=i.writable,s=u.getWriter(),o=function(){r&&r.gs()};return s.closed.then(o,o),t.then(function(t){return r=void 0,s.releaseLock(),t.pipeTo(u).catch(it)},function(t){return r=void 0,s.releaseLock(),u.abort(t).catch(it)}),e}function Y_(t){return new D(function(n,r){t.onload=function(){n(t.result)},t.onerror=function(){r(t.error)}})}function K_(t){return yi(new p(t))}function J_(t){return gi(t).buffer}function Q_(t){return n=t,(new XMLSerializer).serializeToString(n);var n}function Z_(t){return function(t,n){var r=(new DOMParser).parseFromString(t,n);if(!r||r.getElementsByTagName("parsererror").length>0)throw new h("Invalid XML");return r}(t,"text/xml")}!function(t){t[t.Qv=0]="Qv",t[t.eN=1]="eN"}(F_||(F_={}));var tm="content-type",nm="text/plain;charset=UTF-8",rm="application/xml;charset=UTF-8",im=function(){function t(){}var n=t.prototype;return n.mE=function(t){return this.iT(t).then(JSON.parse)},n.uN=function(t){return this.iT(t).then(Z_)},n.aE=function(t,n){switch(t){case Nc.Kv:return this.LE(n);case Nc.Zv:return this.sN(n);case Nc.Qe:return this.uN(n);case Nc.Jv:return this.mE(n);case Nc.Qv:return this.oN();case Nc.Ke:return this.iT(n);default:throw new v}},t}();function em(t,n,r){if(t instanceof im)return t;var i,e=(r.get(tm)||"").toLowerCase();if(t instanceof b_)i={Uu:F_.Qv,oN:t,NR:e};else{var u=D.resolve(t).then(function(t){return function(t,n){if(t){if("string"==typeof t)return{Uu:Nc.Ke,bd:t,NR:n||nm};if(t instanceof ArrayBuffer||Lr(t))return{Uu:Nc.Kv,bd:ym(t),NR:n};if(t instanceof Blob)return{Uu:Nc.Zv,bd:t,NR:t.type||n};if(t instanceof Document)return{Uu:Nc.Qe,bd:t,NR:n||rm};if(Q(t)||Y(t))return{Uu:Nc.Jv,bd:t,NR:n};throw new v("Unsupported BodyInit type")}return{Uu:Nc.Ke,bd:null,NR:n}}(t,e)});i={Uu:F_.eN,so:u,cN:n}}return new um(i)}var um=function(t){function n(n){var r;return(r=t.call(this)||this).aN=!1,r.fN=new Si,r.fN.so.catch(it),r.hN(n),r}Gt(n,t);var r=n.prototype;return r.vN=function(){return this.fN.so},r.iT=function(t){return this.dN(sm,t)},r.mE=function(t){return this.dN(cm,t)},r.sN=function(t){return this.dN(fm,t)},r.LE=function(t){return this.dN(vm,t)},r.oN=function(){return this.lN((t=this.wN).Uu===F_.Qv?t.oN:G_(t.so.then(dm).then($_),t.cN));var t},r.uN=function(t){return this.dN(lm,t)},r.dN=function(t,n){if(this.aN)return D.reject(new v("Already used"));this.aN=!0;var r=t(this.wN,n);return this.fN.oo(r.then(it)),r},r.lN=function(t){if(this.aN)throw new v("Already used");if(t.locked)throw new v("Body stream is locked");this.aN=!0;var n=new A_,r=D.resolve(t.pipeTo(n.writable));return this.fN.oo(r),n.readable},r.hN=function(t){this.wN=t,t.Uu===F_.eN&&t.so.catch(it)},r.yN=function(){if(this.aN)throw new v("Already used");var t=function(t){if(t.Uu===F_.Qv){var n=t.oN.tee(),r=n[0],i=n[1];return[{Uu:t.Uu,oN:r,NR:t.NR},{Uu:t.Uu,oN:i,NR:t.NR}]}var e=t.cN._s(),u=e[0],s=e[1];return[{Uu:t.Uu,so:t.so,cN:u},{Uu:t.Uu,so:t.so,cN:s}]}(this.wN),r=t[0],i=t[1];return this.hN(r),new n(i)},P(n,[{key:"gN",get:function(){return this.aN}}]),n}(im);function sm(t,n){return t.Uu===F_.Qv?X_(t.oN,n).then(K_):(n&&t.cN.ps(n),cr(t.so.then(om),t.cN))}function om(t){switch(t.Uu){case Nc.Ke:return D.resolve(t.bd||"");case Nc.Kv:return D.resolve(t.bd).then(K_);case Nc.Zv:return n=t.bd,r=new FileReader,i=Y_(r),r.readAsText(n),i;case Nc.Qe:return D.resolve(t.bd).then(Q_);case Nc.Jv:return D.resolve(t.bd).then(JSON.stringify)}var n,r,i}function cm(t,n){return t.Uu===F_.Qv?sm(t,n).then(JSON.parse):(n&&t.cN.ps(n),cr(t.so.then(am),t.cN))}function am(t){return t.Uu===Nc.Jv?D.resolve(t.bd):om(t).then(JSON.parse)}function fm(t,n){return t.Uu===F_.Qv?function(t,n,r){return z_(t,r).then(function(t){return Ls(t,{type:n})})}(t.oN,t.NR,n):(n&&t.cN.ps(n),cr(t.so.then(hm),t.cN))}function hm(t){return t.Uu===Nc.Zv?D.resolve(t.bd):t.Uu===Nc.Kv?D.resolve(Ls([t.bd],{type:t.NR})):om(t).then(function(n){return Ls([n],{type:t.NR})})}function vm(t,n){return t.Uu===F_.Qv?X_(t.oN,n):(n&&t.cN.ps(n),cr(t.so.then(dm),t.cN))}function dm(t){switch(t.Uu){case Nc.Kv:return D.resolve(t.bd);case Nc.Ke:case Nc.Qe:case Nc.Jv:return om(t).then(J_);case Nc.Zv:return n=t.bd,r=new FileReader,i=Y_(r),r.readAsArrayBuffer(n),i}var n,r,i}function lm(t,n){return t.Uu===F_.Qv?sm(t,n).then(Z_):(n&&t.cN.ps(n),cr(t.so.then(wm),t.cN))}function wm(t){return t.Uu===Nc.Qe?D.resolve(t.bd):om(t).then(Z_)}function ym(t){return t instanceof ArrayBuffer?t:Ti(mi(t)).buffer}function gm(t){return t.Gb>=200&&t.Gb<=299||304===t.Gb}var pm=function(t){function n(n,r){var i,e,u,s,o,c;r?(e=r.Td,u=r.Sd,s=r.Gb,o=r.kE,c=r.pN):(e=[],u=Nc.Ke,s=200,o="OK",c=!1);var a=n.$b,f=new Bc(n.Td||e),h=n.Sd||u,v=n.Xb||(r&&r.$b===a?r.Xb:a.kd),d=em(void 0!==n.Su?n.Su:r?r._N:null,n.cN||new nr,f);return(i=t.call(this,d)||this).Td=f,i.$b=a,i.Xb=v,i.Sd=h,i.Gb=void 0!==n.Gb?n.Gb:s,i.kE=void 0!==n.kE?String(n.kE):o,i.pN=n.pN||c,i}Gt(n,t);var r=n.prototype;return r.Su=function(t){return this.aE(this.Sd,t)},r.to=function(){return new n({Su:this.yN(),$b:this.$b},this)},n}(function(t){function n(n){var r;return(r=t.call(this)||this)._N=n,r}Gt(n,t);var r=n.prototype;return r.vN=function(){return this._N.vN()},r.iT=function(t){return this._N.iT(t)},r.mE=function(t){return this._N.mE(t)},r.sN=function(t){return this._N.sN(t)},r.LE=function(t){return this._N.LE(t)},r.uN=function(t){return this._N.uN(t)},r.oN=function(){return this._N.oN()},r.yN=function(){return this._N.yN()},P(n,[{key:"gN",get:function(){return this._N.gN}}]),n}(im)),_m=function(t){function n(n,r,i){var e;return(e=t.call(this,r,i)||this).mN=n,e}return Gt(n,t),P(n,[{key:"$b",get:function(){return this.mN}}]),n}(Qt);var mm=function(t){function n(n,r){return t.call(this,n,"Error while opening "+n.kd+". Invalid URL.",r)||this}return Gt(n,t),P(n,[{key:"name",get:function(){return Xv.jb}}]),n}(_m);var km=function(t){function n(n,r){var i;return(i=t.call(this,n.$b,function(t){return"Error while loading "+t.$b.kd+", status code "+t.Gb}(n),r)||this).kN=n,i}return Gt(n,t),P(n,[{key:"name",get:function(){return Xv.Hb}},{key:"zb",get:function(){return this.kN}}]),n}(_m);var bm=function(t){function n(n,r){return t.call(this,n,function(t){return"Request for "+t.kd+" timed out after "+t.Rd+" seconds."}(n),r)||this}return Gt(n,t),P(n,[{key:"name",get:function(){return Xv.Wb}}]),n}(_m),Tm=function(t,n){return(Tm=d.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])})(t,n)};function Em(t,n){function r(){this.constructor=t}Tm(t,n),t.prototype=null===n?d.create(n):(r.prototype=n.prototype,new r)}var Sm="object"==typeof i?i:"object"==typeof t?t:"object"==typeof global?global:null;var Rm=function(){var t=Sm.Blob;if(t)try{return new t,function(t,n){return new Sm.Blob(t,n)}}catch(t){}var n,r=Sm.BlobBuilder||Sm.WebKitBlobBuilder||Sm.MozBlobBuilder||Sm.MSBlobBuilder;return r?(n=r,function(t,r){var i=new n;if(t)for(var e=0,u=t;e<u.length;e++){var s=u[e];i.append(s)}return i.getBlob(r&&r.type||"")}):null}(),Im="function"==typeof b_?b_:void 0;function Dm(t){return t&&"function"==typeof t.getReader}function Cm(t){if("function"!=typeof t)return!1;try{var n=!1,r=new t({start:function(){n=!0}});return!!n&&Dm(r)}catch(t){return!1}}var Nm=function(){function t(t,n){this.eC=t,this.bN=n}return t.prototype.pull=function(t){var n=this;return this.eC.read().then(function(r){n.bN&&n.bN(r),r.done?t.close():t.enqueue(r.value)})},t.prototype.cancel=function(t){return this.eC.cancel(t)},t}();function Am(t,n){return n.constructor===t?n:new t(new Nm(n.getReader()),{highWaterMark:0})}var Om=function(){function t(t,n){this.TN=t,this.yt=n}return t.prototype.pull=function(t){return this.TN().then(function(n){t.enqueue(new p(n)),t.close()})},t.prototype.cancel=function(t){this.yt&&this.yt(t)},t}();function xm(t,n,r){return new t(new Om(n,r),{highWaterMark:0})}var Pm={searchParams:"URLSearchParams"in Sm,iterable:"Symbol"in Sm&&"iterator"in Symbol,blob:"FileReader"in Sm&&!!Rm,formData:"FormData"in Sm,arrayBuffer:"ArrayBuffer"in Sm,stream:Cm(Im),streamRequest:"Request"in Sm&&"body"in Sm.Request.prototype,streamResponse:"Response"in Sm&&"body"in Sm.Response.prototype,abort:"AbortController"in Sm&&"Request"in Sm&&"signal"in Sm.Request.prototype,encoding:"TextEncoder"in Sm&&"TextDecoder"in Sm,url:"URL"in Sm&&function(t){try{return new Sm.URL(t).toString()===t}catch(t){return!1}}("http://example.com/"),firefox:"navigator"in Sm&&/Firefox\//.test(Sm.navigator.userAgent)};function Lm(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new v("Invalid character in header field name");return t}function Fm(t){return"string"!=typeof t&&(t=String(t)),t}function Mm(t){var n={next:function(){var n=t.shift();return{done:void 0===n,value:n}}};return Pm.iterable&&(n[Symbol.iterator]=function(){return n}),n}var Bm=function(){function t(n){var r,i=this;this.xu={},n instanceof t?n.asList().forEach(function(t){var n=t[0],r=t[1];i.append(n,r)}):Array.isArray(n)?n.forEach(function(t){i.append(t[0],t[1])}):(r=n,Pm.iterable&&r&&r[Symbol.iterator]?Array.from(n).forEach(function(t){i.append(t[0],t[1])}):n&&d.getOwnPropertyNames(n).forEach(function(t){i.append(t,n[t])}))}return t.prototype.append=function(t,n){t=Lm(t),n=Fm(n);var r=t.toLowerCase();if(this.xu.hasOwnProperty(r)){var i=this.xu[r],e=i[1];i[1]=e?e+", "+n:n}else this.xu[r]=[t,n]},t.prototype.delete=function(t){var n=Lm(t).toLowerCase();delete this.xu[n]},t.prototype.get=function(t){var n=Lm(t).toLowerCase();return this.xu.hasOwnProperty(n)?this.xu[n][1]:null},t.prototype.has=function(t){var n=Lm(t).toLowerCase();return this.xu.hasOwnProperty(n)},t.prototype.set=function(t,n){var r=(t=Lm(t)).toLowerCase();this.xu[r]=[t,Fm(n)]},t.prototype.forEach=function(t,n){for(var r in this.xu)this.xu.hasOwnProperty(r)&&t.call(n,this.xu[r][1],r,this)},t.prototype.keys=function(){var t=[];return this.forEach(function(n,r){t.push(r)}),Mm(t)},t.prototype.values=function(){var t=[];return this.forEach(function(n){t.push(n)}),Mm(t)},t.prototype.entries=function(){var t=[];return this.forEach(function(n,r){t.push([r,n])}),Mm(t)},t.prototype.asList=function(){var t=[];for(var n in this.xu)if(this.xu.hasOwnProperty(n)){var r=this.xu[n],i=r[0],e=r[1];t.push([i,e])}return t},t}();function Um(){}Pm.iterable&&(Bm.prototype[Symbol.iterator]=Bm.prototype.entries);var qm,Vm,jm,Hm=l.min,Wm=String.fromCharCode,$m=16384;function zm(t){for(var n=[],r=0,i=t;r<i.length;r++){var e=i[r];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return function(t){for(var n=t.length,r=[],i=0;i<n;i+=$m){var e=Hm(i+$m,n);r.push(Wm.apply(null,t.slice(i,e)))}return r.join("")}(n)}function Xm(t){if(t>=55296&&t<=57343)throw new h("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function Gm(t,n){return t>>n&63|128}function Ym(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Xm(t),n.push(t>>12&15|224),n.push(Gm(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(Gm(t,12)),n.push(Gm(t,6))),n.push(63&t|128)):n.push(t)}function Km(){if(jm>=Vm)throw new h("Invalid byte index");var t=255&qm[jm];if(jm++,128==(192&t))return 63&t;throw new h("Invalid continuation byte")}function Jm(){var t,n;if(jm>Vm)throw new h("Invalid byte index");if(jm===Vm)return!1;if(t=255&qm[jm],jm++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|Km())>=128)return n;throw new h("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|Km()<<6|Km())>=2048)return Xm(n),n;throw new h("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|Km()<<12|Km()<<6|Km())>=65536&&n<=1114111)return n;throw new h("Invalid UTF-8 detected")}var Qm=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];function Zm(t){return t&&URLSearchParams.prototype.isPrototypeOf(t)}function tk(t){return t&&ArrayBuffer.prototype.isPrototypeOf(t)}function nk(t){return t&&DataView.prototype.isPrototypeOf(t)}var rk,ik=ArrayBuffer.isView||function(t){return t&&(Qm.indexOf(d.prototype.toString.call(t))>-1||nk(t))};function ek(t){if(t.bodyUsed)return D.reject(new v("Already used"));t.bodyUsed=!0}function uk(t){return new D(function(n,r){t.onload=function(){n(t.result)},t.onerror=function(){r(t.error)}})}function sk(t){return Pm.encoding?new Sm.TextDecoder("utf-8").decode(new p(t)):zm(function(t){Vm=(qm=t).length,jm=0;for(var n,r=[];!1!==(n=Jm());)r.push(n);return r}(new p(t)))}function ok(t){return Pm.encoding?(new Sm.TextEncoder).encode(t).buffer:new p(function(t){for(var n=[],r=0,i=t;r<i.length;r++)Ym(i[r],n);return n}(function(t){for(var n=[],r=0,i=t.length;r<i;){var e=t.charCodeAt(r++);if(e>=55296&&e<=56319&&r<i){var u=t.charCodeAt(r++);56320==(64512&u)?n.push(((1023&e)<<10)+(1023&u)+65536):(n.push(e),r--)}else n.push(e)}return n}(t))).buffer}function ck(t){var n=t.getReader(),r=[],i=function(t){var e=t.done,u=t.value;return e?D.resolve(r):(r.push(u),n.read().then(i))};return n.read().then(i)}function ak(t){return ck(t).then(function(t){return function(t){for(var n=0,r=0,i=t;r<i.length;r++)n+=(c=i[r]).byteLength;for(var e=new p(n),u=0,s=0,o=t;s<o.length;s++){var c=o[s];e.set(c,u),u+=c.byteLength}return e}(t).buffer})}function fk(t){return t.slice?t.slice(0):hk(new p(t))}function hk(t){if(t.slice)return t.slice(0).buffer;var n=new p(t.byteLength);return n.set(new p(t.buffer,t.byteOffset,t.byteLength)),n.buffer}function vk(t){var n=new FormData;return t.trim().split("&").forEach(function(t){if(t){var r=t.split("="),i=r.shift().replace(/\+/g," "),e=r.join("=").replace(/\+/g," ");n.append(decodeURIComponent(i),decodeURIComponent(e))}}),n}function dk(t){var n=t;if(n.bodyUsed)throw new v("Already used");if(n.EN===rk.SN){if(!n.RN.tee)throw new h("could not clone ReadableStream body");var r=n.RN.tee(),i=r[0],e=r[1];return n.body=i,n.RN=i,n.IN=i,e}return n.EN===rk.Kv?fk(n.RN):n.EN===rk.eN?n.RN.then(dk):n.IN}!function(t){t[t.Ke=0]="Ke",t[t.Zv=1]="Zv",t[t.DN=2]="DN",t[t.Kv=3]="Kv",t[t.SN=4]="SN",t[t.eN=5]="eN"}(rk||(rk={}));var lk=function(){function t(n,r){this.bodyUsed=!1;var i,e,u,s=this;if(this.IN=n||null,n)if("string"==typeof n)this.EN=rk.Ke,this.RN=n;else if((u=n)&&"function"==typeof u.then)this.EN=rk.eN,this.RN=D.resolve(n).then(function(n){return new t(n,r)}),this.RN.catch(Um);else if(Pm.blob&&function(t){return t&&Blob.prototype.isPrototypeOf(t)}(n))this.EN=rk.Zv,this.RN=n;else if(Pm.formData&&function(t){return t&&FormData.prototype.isPrototypeOf(t)}(n))this.EN=rk.DN,this.RN=n;else if(Pm.searchParams&&Zm(n))this.EN=rk.Ke,this.RN=n.toString();else if(Pm.arrayBuffer&&(tk(n)||ik(n)))nk(n)&&(this.IN=new p((e=n).buffer,e.byteOffset,e.byteLength)),this.EN=rk.Kv,this.RN=tk(i=n)?fk(i):hk(i);else{if(!Pm.stream||!Dm(n))throw new h("unsupported BodyInit type");n=Am(Im,n),this.EN=rk.SN,this.RN=n,this.IN=n}else this.EN=rk.Ke,this.RN="";this.CN="",r.has("content-type")?this.CN=(r.get("content-type")||"").toLowerCase():("string"==typeof n?this.CN="text/plain;charset=UTF-8":s.EN===rk.Zv&&s.RN.type?this.CN=s.RN.type:Pm.searchParams&&Zm(n)&&(this.CN="application/x-www-form-urlencoded;charset=UTF-8"),this.CN&&r.set("content-type",this.CN)),Pm.stream&&(null==n?this.body=null:s.EN===rk.SN?this.body=s.RN:this.body=xm(Im,function(){return s.arrayBuffer()},function(){s.bodyUsed=!0}))}return t.prototype.text=function(){var t,n,r,i=ek(this);return i||(this.EN===rk.Zv?(t=this.RN,n=new FileReader,r=uk(n),n.readAsText(t),r):this.EN===rk.Kv?D.resolve(this.RN).then(sk):this.EN===rk.SN?ak(this.RN).then(sk):this.EN===rk.eN?this.RN.then(function(t){return t.text()}):this.EN===rk.DN?D.reject(new h("could not read FormData body as text")):D.resolve(this.RN))},t.prototype.json=function(){return this.text().then(JSON.parse)},t}();Pm.blob&&(lk.prototype.blob=function(){var t,n,r=ek(this);return r||(this.EN===rk.Zv?D.resolve(this.RN):this.EN===rk.Kv?D.resolve(Rm([this.RN],{type:this.CN})):this.EN===rk.SN?(t=this.RN,n=this.CN,ck(t).then(function(t){return Rm(t,{type:n||""})})):this.EN===rk.eN?this.RN.then(function(t){return t.blob()}):this.EN===rk.DN?D.reject(new h("could not read FormData body as Blob")):D.resolve(Rm([this.RN],{type:this.CN})))}),Pm.arrayBuffer&&(lk.prototype.arrayBuffer=function(){var t,n,r;return this.EN===rk.Kv?ek(this)||D.resolve(this.RN):this.EN===rk.Zv?ek(this)||(t=this.RN,n=new FileReader,r=uk(n),n.readAsArrayBuffer(t),r):this.EN===rk.SN?ak(this.RN):this.EN===rk.eN?ek(this)||this.RN.then(function(t){return t.arrayBuffer()}):this.EN===rk.DN?D.reject(new h("could not read FormData body as ArrayBuffer")):D.resolve(this.RN).then(ok)}),Pm.formData&&(lk.prototype.formData=function(){return this.EN===rk.DN?ek(this)||D.resolve(this.RN):this.text().then(vk)});var wk=[301,302,303,307,308],yk=function(t){function n(n,r){var i=this,e=new Bm((r=r||{}).headers);return(i=t.call(this,n||null,e)||this).type="default",i.status=void 0===r.status?200:r.status,i.ok=i.status>=200&&i.status<300,i.statusText=void 0!==r.statusText?String(r.statusText):"",i.headers=e,i.url=r.url||"",i}return Em(n,t),n.prototype.clone=function(){return new n(dk(this),{status:this.status,statusText:this.statusText,headers:new Bm(this.headers),url:this.url})},n.error=function(){var t=new n(null,{status:0,statusText:""});return t.type="error",t},n.redirect=function(t,r){if(-1===wk.indexOf(r))throw new RangeError("Invalid status code");return new n(null,{status:r,headers:{location:t}})},n}(lk);var gk,pk=function(t,n){return t(n={exports:{}},n.exports),n.exports}(function(t,n){function r(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}function i(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),d.defineProperty(t,i.key,i)}}function u(t,n,r){return n&&i(t.prototype,n),r&&i(t,r),t}function s(t){return(s=d.setPrototypeOf?d.getPrototypeOf:function(t){return t.__proto__||d.getPrototypeOf(t)})(t)}function c(t,n){return(c=d.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t,n,r){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,r){var i=function(t,n){for(;!d.prototype.hasOwnProperty.call(t,n)&&null!==(t=s(t)););return t}(t,n);if(i){var e=d.getOwnPropertyDescriptor(i,n);return e.get?e.get.call(r):e.value}})(t,n,r||t)}d.defineProperty(n,"__esModule",{value:!0});var h=function(){function t(){r(this,t),d.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return u(t,[{key:"addEventListener",value:function(t,n){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(n)}},{key:"removeEventListener",value:function(t,n){if(t in this.listeners)for(var r=this.listeners[t],i=0,e=r.length;i<e;i++)if(r[i]===n)return void r.splice(i,1)}},{key:"dispatchEvent",value:function(t){var n=this;if(t.type in this.listeners){for(var r=function(r){o(function(){return r.call(n,t)})},i=this.listeners[t.type],e=0,u=i.length;e<u;e++)r(i[e]);return!t.defaultPrevented}}}]),t}(),l=function(t){function n(){var t,i,e;return r(this,n),i=this,(t=!(e=s(n).call(this))||"object"!=typeof e&&"function"!=typeof e?a(i):e).listeners||h.call(a(t)),d.defineProperty(a(t),"aborted",{value:!1,writable:!0,configurable:!0}),d.defineProperty(a(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function");t.prototype=d.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&c(t,n)}(n,h),u(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),f(s(n.prototype),"dispatchEvent",this).call(this,t)}}]),n}(),w=function(){function t(){r(this,t),d.defineProperty(this,"signal",{value:new l,writable:!0,configurable:!0})}return u(t,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(n){void 0!==e?e.createEvent?(t=e.createEvent("Event")).initEvent("abort",!1,!1):(t=e.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(w.prototype[Symbol.toStringTag]="AbortController",l.prototype[Symbol.toStringTag]="AbortSignal"),n.AbortSignal=l,n.AbortController=w,n.default=w});(gk=pk)&&gk.__esModule&&d.prototype.hasOwnProperty.call(gk,"default")&&gk.default;pk.AbortSignal;var _k=pk.AbortController,mk=Sm.DOMException;try{new mk}catch(t){(mk=function(t,n){h.call(this,t),this.name=n||"Error",h.captureStackTrace&&h.captureStackTrace(this,this.constructor)}).prototype=d.create(h.prototype),mk.prototype.constructor=mk}var kk=_k;var bk,Tk="moz-chunked-arraybuffer";function Ek(t){try{var n=new _;return n.open("GET","https://test"),n.responseType=t,n.responseType===t}catch(t){}return!1}!function(t){t[t.UNSENT=0]="UNSENT",t[t.OPENED=1]="OPENED",t[t.HEADERS_RECEIVED=2]="HEADERS_RECEIVED",t[t.LOADING=3]="LOADING",t[t.DONE=4]="DONE"}(bk||(bk={}));var Sk=function(){function t(t,n){var r=this;this.NN=!1,this.mN=t,this.AN=n,this.ON=new _,this.xN=new D(function(t,n){r.PN=t,r.LN=n})}return t.prototype.send=function(){var t=this;return this.FN().then(function(n){return t.MN(n,t.AN),t.xN})},t.prototype.FN=function(){var t=this.mN;return t.EN===rk.SN?t.arrayBuffer():D.resolve(t.IN)},t.prototype.BN=function(t){this.mN.onprogress&&this.mN.onprogress(t.loaded,t.lengthComputable?t.total:void 0)},t.prototype.UN=function(t){this.LN(t)},t.prototype.qN=function(){this.UN(new v("Network request failed"))},t.prototype.VN=function(){this.UN(new v("Network request failed"))},t.prototype.jN=function(){this.UN(new mk("Aborted","AbortError"))},t.prototype.MN=function(t,n){var r=this,i=this.mN,e=this.ON,u=function(){return r.HN()};if(i.signal.aborted)return this.jN();e.onreadystatechange=function(){if(e.readyState>=bk.HEADERS_RECEIVED&&!r.NN){var t=function(t){var n=new Bm;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var r=t.split(":"),i=r.shift().trim();if(i){var e=r.join(":").trim();n.append(i,e)}}),n}(e.getAllResponseHeaders()||""),n={status:e.status,statusText:e.statusText,headers:t,url:e.responseURL||t.get("X-Request-URL")};r.NN=!0,r.WN(n)}},e.onprogress=function(t){return r.BN(t)},e.onload=function(){return r.$N()},e.onerror=function(){return r.qN()},e.ontimeout=function(){return r.VN()},e.onabort=function(){return r.jN()},e.open(i.method,i.url,!0),e.withCredentials="include"===i.credentials,"responseType"in e&&n&&(e.responseType=n),i.headers.asList().forEach(function(t){var n=t[0],r=t[1];e.setRequestHeader(n,r)}),i.signal.addEventListener("abort",u),e.onloadend=function(){i.signal.removeEventListener("abort",u)},t?e.send(t):e.send()},t.prototype.HN=function(){this.ON.abort()},t}(),Rk=function(t){function n(n,r){var i=t.call(this,n,r)||this;return i.zN=void 0,i.XN=void 0,i}return Em(n,t),n.prototype.WN=function(t){var n=this;this.zN=new D(function(t,r){n.XN=t,n.GN=r}),this.PN(new yk(this.zN,t))},n.prototype.$N=function(){var t=this.ON.response||this.ON.responseText;this.XN(t)},n.prototype.UN=function(n){t.prototype.UN.call(this,n),this.GN&&this.GN(n)},n}(Sk),Ik=function(t){function n(n){var r=t.call(this,n,Tk)||this;return r.YN=void 0,r.KN=void 0,r.JN=!1,r}return Em(n,t),n.prototype.WN=function(t){var n=this;this.YN=new Im({start:function(t){n.KN=t},cancel:function(){n.JN=!0,n.HN()}}),this.PN(new yk(this.YN,t))},n.prototype.BN=function(n){this.JN||this.KN.enqueue(new p(this.ON.response)),t.prototype.BN.call(this,n)},n.prototype.$N=function(){this.KN.close()},n.prototype.UN=function(n){t.prototype.UN.call(this,n),this.KN&&!this.JN&&(this.JN=!0,this.KN.error(n))},n}(Sk),Dk=function(){var t=Pm.firefox&&Ek(Tk);return Dk=function(){return t},t},Ck=function(){var t;return t=Pm.arrayBuffer&&Ek("arraybuffer")?"arraybuffer":Pm.blob&&Ek("blob")?"blob":"",Ck=function(){return t},t};function Nk(t){return(Pm.stream&&Dk()?new Ik(t):new Rk(t,Ck())).send()}var Ak=Sm.fetch,Ok=Sm.Request,xk=(Sm.Response,Sm.AbortController);var Pk=["http:","https:"];var Lk=function(){try{if(Pm.streamRequest){var t=new Ok("about:blank",{body:"",method:"POST"}).body;if(t&&Cm(t.constructor))return t.constructor}}catch(t){}}();function Fk(t,n,r){var i;if(Pm.stream){var e=void 0;if(Pm.streamResponse){var u=t.body;e=u&&Am(Im,u)}else e=xm(Im,function(){return t.arrayBuffer()},function(){n.abort()});e&&r&&(e=function(t,n,r){var i=0;return function(t,n,r){return new t(new Nm(n.getReader(),r),{highWaterMark:0})}(Im,t,function(t){var e=t.done,u=t.value;e?r=void 0===r?i:r:i+=u.byteLength,n(i,r)})}(e,r,Mk(t.headers))),i=e}else{var s=t.arrayBuffer();r&&(s=function(t,n,r){return D.resolve().then(function(){return n(0,r),t}).then(function(t){var i=t.byteLength;return n(i,r=void 0===r?i:r),t})}(s,r,Mk(t.headers))),i=s}return new yk(i,t)}function Mk(t){return t.has("content-length")?Number(t.get("content-length")):void 0}function Bk(t){var n=new xk;return function(t,n){var r,i=t;return r=i.EN===rk.SN?Pm.streamRequest&&Lk?D.resolve(Am(Lk,i.RN)):t.arrayBuffer():D.resolve(t.IN),t.signal&&function(t,n){if(!t.signal.aborted)if(n.aborted)t.abort();else{var r=function(){n.removeEventListener("abort",r),t.signal.removeEventListener("abort",r),t.abort()};n.addEventListener("abort",r),t.signal.addEventListener("abort",r)}}(n,t.signal),r.then(function(r){return new Ok(t.url,{body:r||void 0,credentials:t.credentials,headers:(i=t.headers,(i instanceof Bm?i:new Bm(i)).asList()),method:t.method,mode:t.mode,referrer:t.referrer,referrerPolicy:t.referrerPolicy,signal:n.signal});var i})}(t,n).then(Ak).then(function(r){return Fk(r,n,t.onprogress)})}var Uk=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];var qk=function(t){function n(r,i){var e,u,s,o,c,a,f,h,d,l=this,w=(i=i||{}).body||null;if(r instanceof n){if(r.bodyUsed)throw new v("Already used");e=r.url,u=r.credentials,i.headers||(s=new Bm(r.headers)),o=r.method,c=r.mode,a=r.referrer,f=r.referrerPolicy,h=r.signal,d=r.onprogress,w||null==r.IN||(w=r.IN,r.bodyUsed=!0)}else e=String(r),u="same-origin",o="GET",c="cors",a="about:client",f="",h=null,d=null;if(!i.headers&&s||(s=new Bm(i.headers)),i&&(a="about:client",f=""),(l=t.call(this,w,s)||this).url=e,l.headers=s,l.credentials=i.credentials||u,l.method=function(t){var n=t.toUpperCase();return Uk.indexOf(n)>-1?n:t}(i.method||o),l.mode=i.mode||c,l.signal=i.signal||h||(new kk).signal,l.referrer=void 0!==i.referrer?i.referrer:a,l.referrerPolicy=void 0!==i.referrerPolicy?i.referrerPolicy:f,l.onprogress=i.onprogress||d,("GET"===l.method||"HEAD"===l.method)&&w)throw new v("Body not allowed for GET or HEAD requests");return l}return Em(n,t),n.prototype.clone=function(){return new n(this,{body:dk(this)})},n}(lk),Vk="function"==typeof Ak&&Pm.abort&&Pm.stream&&Pm.streamResponse&&Pm.url;function jk(t,n){return new D(function(r){var i=new qk(t,n);r((Vk&&function(t){try{return Pk.indexOf(new Sm.URL(t,Sm.location.href).protocol)>=0}catch(t){return!1}}(i.url)?Bk:Nk)(i))})}jk.polyfill=!0;var Hk=function(){function t(t){this.aT=new nr,this.kN=void 0,this.QN=!1,this.mN=t,this.aT.ps(t.ks),this.zb=this.ZN()}var n=t.prototype;return n.ZN=function(){var t=D.coroutine(vn.mark(function t(){var n,r,i,e,u,s,c,a,f=this;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:(n=this.mN).Rd&&o(function(){f.QN=!0,f.aT.gs()},n.Rd),t.prev=2,r=jk(n.kd,{method:n.Ed,headers:n.Td.td(),body:n.bd,credentials:n.Cd?"include":"same-origin",signal:zk(this.aT.ks),onprogress:n.Nd}),t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(2),new mm(n,t.t0);case 9:return t.prev=9,t.next=12,r;case 12:i=t.sent,t.next=20;break;case 15:throw t.prev=15,t.t1=t.catch(9),ir(e=this.tA(t.t1))&&this.aT.gs(),e;case 20:if(u=i.url||n.kd,s=0===i.status&&"file:"===(h=u,N.$c(h).protocol)?200:i.status,c=new Wk(this,i,this.aT),a=new pm({Su:c,$b:n,Sd:n.Sd,Td:new Bc(i.headers.asList()),Gb:s,kE:i.statusText,Xb:u}),this.kN=a,!gm(a)){t.next=29;break}return t.abrupt("return",a);case 29:throw new km(a);case 30:case"end":return t.stop()}var h},t,this,[[2,6],[9,15]])}));return function(){return t.apply(this,arguments)}}(),n.tA=function(t){return ir(t)?this.QN?new bm(this.mN):new rr(t.message,t):this.kN?new km(this.kN,t):new mm(this.mN,t)},t}(),Wk=function(t){function n(n,r,i){var e;return(e=t.call(this)||this).fN=new Si,e.Zt=n,e.nA=r,e.aT=i,e.fN.so.catch(it),e}Gt(n,t);var r=n.prototype;return r.vN=function(){return this.fN.so},r.iT=function(t){return this.dN(this.nA.text(),t)},r.LE=function(t){return this.dN(this.nA.arrayBuffer(),t)},r.sN=function(t){return this.dN(this.nA.blob(),t)},r.oN=function(){var t=this.nA.body;return t?this.lN(t):G_(this.LE().then($_),this.aT)},r.yN=function(){var t=this.nA.clone(),r=this.aT._s(),i=r[0],e=r[1];return this.aT=i,new n(this.Zt,t,e)},r.dN=function(t,n){var r=this;n&&this.aT.ps(n);var i=D.resolve(t).catch(function(t){throw r.Zt.tA(t)});return i=cr(i,this.aT),this.fN.oo(i.then(it)),i},r.lN=function(t){var n=this,r=new A_,i=D.resolve(t.pipeTo(r.writable,{preventAbort:!0})).catch(function(t){var i=n.Zt.tA(t);throw r.writable.abort(i).catch(it),i});return i=cr(i,this.aT),this.fN.oo(i.then(it)),r.readable},P(n,[{key:"gN",get:function(){return this.nA.bodyUsed}}]),n}(im),$k="abort";function zk(t){var n=new kk;if(t.us)n.abort();else if(!t.ss){var r=function(){i(),n.abort()},i=function i(){n.signal.removeEventListener($k,r),t.vs(r),t.vs(i)};n.signal.addEventListener($k,r),t.hs(r),t.ds(i)}return n.signal}var Xk=function(){function t(){}var n=t.prototype;return n.$b=function(t){return new Hk(t).zb},n.YD=function(t){if(I&&I.sendBeacon)I.sendBeacon(t.kd,Ls([t.bd],{type:t.NR}));else{var n=t.NR?{"Content-type":t.NR}:void 0;hr(this.$b(new Ly({Ed:Pc.POST,kd:t.kd,bd:t.bd,Td:n})))}},n.ai=function(){},t}(),Gk=function(){function t(){}var n=t.prototype;return n.$b=function(t){var n=function(t){return new pm({Su:null,Td:{},$b:t,Xb:t.kd,Sd:t.Sd,Gb:0,kE:Po.Eh})}(new Ly(t));return D.resolve(n)},n.YD=function(t){},n.ai=function(){},t}();function Yk(t){var n;return{get url(){return t.kd},get method(){return t.Ed},get headers(){return n||(n=t.Td.td()),n},get body(){return t.bd},get useCredentials(){return t.Cd},get type(){return tb(t.Uu)},get subType(){return rb(t.Id)},get mediaType(){return eb(t.Dd)},get responseType(){return Jk(t.Sd)}}}function Kk(t){switch(t.toLowerCase()){case"arraybuffer":return Nc.Kv;case"blob":return Nc.Zv;case"document":return Nc.Qe;case"json":return Nc.Jv;case"stream":return Nc.Qv;case"text":default:return Nc.Ke}}function Jk(t){return t}function Qk(t){switch(t.toUpperCase()){case"GET":default:return Pc.GET;case"POST":return Pc.POST;case"PUT":return Pc.PUT;case"DELETE":return Pc.DELETE;case"HEAD":return Pc.HEAD;case"OPTIONS":return Pc.OPTIONS}}function Zk(t){switch(t.toLowerCase()){case"manifest":return Lc.ud;case"segment":return Lc.sd;case"content-protection":return Lc.od;default:return Lc.ed}}function tb(t){return t}function nb(t){switch(t.toLowerCase()){case"initialization-segment":return Fc.fd;case"fairplay-license":return Fc.hd;case"fairplay-certificate":return Fc.vd;case"widevine-license":return Fc.dd;case"widevine-certificate":return Fc.ld;case"playready-license":return Fc.wd;case"clearkey-license":return Fc.yd;case"aes128-key":return Fc.gd;default:return Fc.ed}}function rb(t){return t}function ib(t){switch(t.toLowerCase()){case"audio":return Mc.pd;case"video":return Mc._d;case"text":return Mc.Ke;case"image":return Mc.md;case"":default:return Mc.ed}}function eb(t){return t}var ub=function(){function t(t){this.rA=t}var n=t.prototype;return n.iA=function(t){this.rA.markRequestStart(1e3*t.fk())},n.eA=function(t){this.rA.markResponseStart(1e3*t.fk())},n.uA=function(t,n){this.rA.markResponseData(1e3*t.fk(),n)},n.sA=function(t){this.rA.markResponseEnd(1e3*t.fk())},t}(),sb=function(){function t(t,n){this.Va=void 0,this.oA=void 0,this.cA=t,this.aA=n}return t.prototype.fA=function(t){if(this.oA)return new ub(this.oA.createMeasurer(Yk(t)))},P(t,[{key:"ja",get:function(){var t;return this.Va||(this.Va=(t=this,{get bandwidth(){return t.hA},get roundTripTime(){return t.vA.fk()},createMeasurer:function(t){throw new h("Creating a RequestMeasurer on the internal MeasurableNetworkEstimator implementation is not allowed.")}})),this.Va}},{key:"hA",get:function(){return this.oA?this.oA.bandwidth:this.aA.dA}},{key:"vA",get:function(){return this.oA?Wh.Tk(this.oA.roundTripTime,1e3):this.cA.dA}}]),t}();var ob=function(){function t(t){this.lA=0,this.wA=0,this.yA=l.exp(l.log(.5)/t)}return t.prototype.gA=function(t,n){var r=l.pow(this.yA,t),i=n*(1-r)+r*this.lA;g(i)||(this.lA=i,this.wA+=t)},P(t,[{key:"dA",get:function(){var t=1-l.pow(this.yA,this.wA);return this.lA/t}}]),t}(),cb=function(){function t(t,n,r){void 0===t&&(t=Wh.rb(2)),void 0===n&&(n=Wh.rb(5)),void 0===r&&(r=!1),this.pA=t,this._A=n,this.mA=r,this.kA=0,this.bA=Wh.rb(.1),this.TA=[],this.EA=void 0,this.SA=6e4,this.RA=10,this.IA=new ob(t.fk()),this.DA=new ob(n.fk())}var n=t.prototype;return n.gA=function(t){var n=N.wa(),r=t.fk();this.mA&&void 0!==this.EA&&n-this.EA>=this.SA&&this.pf(),this.kA+=1,this.IA.gA(1,r),this.DA.gA(1,r),this.TA.push(r),this.TA.length>this.RA&&this.TA.shift(),this.EA=n},n.CA=function(){return void 0!==this.EA&&N.wa()-this.EA<=this.SA},n.pf=function(){this.IA=new ob(this.pA.fk()),this.DA=new ob(this._A.fk()),this.kA=0,this.TA=[],this.EA=void 0},P(t,[{key:"dA",get:function(){return this.CA()?Wh.rb(l.min(this.IA.dA,this.DA.dA)):this.bA}}]),t}(),ab=function(){function t(t,n,r,i){void 0===t&&(t=Wh.rb(.5)),void 0===n&&(n=Wh.rb(5)),void 0===r&&(r=128e3),void 0===i&&(i=!1),this.pA=t,this._A=n,this.NA=r,this.mA=i,this.AA=0,this.OA=0,this.TA=[],this.EA=void 0,this.bA=5e5,this.SA=5e3,this.IA=new ob(t.fk()),this.DA=new ob(n.fk())}var n=t.prototype;return n.gA=function(t,n){var r=8*n/t.fk(),i=t.fk(),e=N.wa();for(this.mA&&void 0!==this.EA&&e-this.EA>=this.SA&&this.pf(),this.IA.gA(i,r),this.DA.gA(i,r),this.TA.push([i,r]);;){for(var u=0,s=0,o=this.TA;s<o.length;s++){var c=o[s],a=c[0];c[1];u+=a}if(u<=this.pA.fk())break;this.TA.shift()}this.AA+=n,this.OA+=n,this.EA=e},n.CA=function(){return void 0!==this.EA&&N.wa()-this.EA<this.SA&&this.OA>=this.NA},n.pf=function(){this.IA=new ob(this.pA.fk()),this.DA=new ob(this._A.fk()),this.OA=0,this.TA=[],this.EA=void 0},P(t,[{key:"dA",get:function(){return this.CA()?l.min(this.IA.dA,this.DA.dA):this.bA}},{key:"xA",get:function(){return this.AA}}]),t}(),fb=function(){function t(t,n){void 0===n&&(n=!0),this.PA=t,this.LA=n,this.cA=new cb,this.aA=new ab,this.FA=new sb(this.cA,this.aA)}var n=t.prototype;return n.$b=function(t,n){return n&&G(Ls)?this.MA(t,n):this.PA.$b(this.BA(t))},n.MA=function(){var t=D.coroutine(vn.mark(function t(n,r){var i,e,u,s,o,c;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.BA(n),(u=null!==(i=this.FA.fA(e))&&void 0!==i?i:r.UA(e,this.cA,this.aA)).iA(Wh.rb(N.wa()/1e3)),t.next=5,this.PA.$b(e);case 5:return s=t.sent,u.eA(Wh.rb(N.wa()/1e3)),o=s.oN().pipeThrough(new A_(new hb(u))),c={Su:o,$b:s.$b},t.abrupt("return",new pm(c,s));case 10:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),n.YD=function(t){return this.PA.YD(this.qA(t))},n.BA=function(n){var r=new Ly(n);if(!this.LA){var i=t.VA(r.kd);r=new Ly({kd:i},r)}return r},n.qA=function(n){var r=n.kd;return this.LA||(r=t.VA(r)),{kd:r,bd:n.bd}},t.VA=function(t){return e&&e.location&&"https:"===e.location.protocol&&Bn(t,"http://")?t.replace(":","s:"):t},n.ai=function(){this.PA.ai()},P(t,[{key:"jA",get:function(){return this.FA}},{key:"HA",get:function(){return this.FA.ja},set:function(t){this.FA.oA=t}}],[{key:"WA",get:function(){return t.$A}},{key:"zA",get:function(){return t.XA}}]),t}();fb.$A=new fb(new Xk),fb.XA=new fb(new Gk);var hb=function(){function t(t){this.GA=t}var n=t.prototype;return n.start=function(t){this.YA=t},n.transform=function(t){this.GA.uA(Wh.rb(N.wa()/1e3),t),this.YA.enqueue(t)},n.flush=function(){this.GA.sA(Wh.rb(N.wa()/1e3))},t}();var vb=!$._e&&!$.Ne;function db(t,n,r){var i=t.getImageData(n,r,1,1).data;return 0===i[0]&&0===i[1]&&0===i[2]&&0===i[3]}var lb=function(){function t(t){this.Va=void 0,this.KA=void 0,this.oI=t}var n=t.prototype;return n.JA=function(t){if(!t||!t.drawImage)return!1;var n=this.oI.ol();if(!n)return!1;for(var r=arguments.length,i=new Array(r>1?r-1:0),e=1;e<r;e++)i[e-1]=arguments[e];return t.drawImage.apply(t,[n].concat(i)),!0},n.QA=function(t,n,r,i,u,s){if(!t||!t.texImage2D)return!1;var o=this.oI,c=o.ol();if(!c)return!1;if(!vb){this.KA||(this.KA=e.createElement("canvas"));var a=this.KA,f=a.getContext("2d"),v=o.Fv,d=o.Lv,l=a.width,w=a.height;f.clearRect(0,0,a.width,a.height),l===v&&w===d||(a.width=v,a.height=d),f.drawImage(c,0,0,v,d);var y=!1;v>0&&db(f,v-1,0)&&(a.width=l,y=!0),d>0&&db(f,0,d-1)&&(a.height=w,y=!0),y&&f.drawImage(c,0,0,v,d),c=a}try{t.texImage2D(n,r,i,u,s,c)}catch(t){throw new h("Error trying to render video content to the WebGLRenderingContext. This is most likely due to CORS restrictions. https://support.theoplayer.com/hc/en-us/articles/115003094385#Considerations")}return!0},P(t,[{key:"ja",get:function(){return this.Va||(this.Va=(t=this,{drawImage:function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),e=1;e<r;e++)i[e-1]=arguments[e];return t.JA.apply(t,[n].concat(i))},texImage2D:function(n,r,i,e,u,s){return t.QA(n,r,i,e,u,s)}}));var t}}]),t}(),wb=function(t){function n(n,r){var i;return(i=t.call(this,"ZA")||this).ea=n,i.Fy=r,i}return Gt(n,t),n.prototype.Ha=function(){return new yb(this.ea,this.Fy)},n}(js),yb=function(t){function n(n,r){var i;return(i=t.call(this,"dimensionchange")||this).width=n,i.height=r,i}return Gt(n,t),n}(_r),gb=function(t,n){this.gl=t,this.tO=n},pb=function(t){function n(n,r){var i;return(i=t.call(this,n,r)||this).nO=0,i.rO=0,i.iO=function(t){if(t.length>0){var n=t[t.length-1].contentRect;i.rO=n.width,i.nO=n.height,i.tO(i.rO,i.nO)}},i.eO=new S.ResizeObserver(i.iO),i.eO.observe(i.gl),i}return Gt(n,t),n.prototype.ai=function(){this.eO.disconnect()},P(n,[{key:"uO",get:function(){return this.nO}},{key:"sO",get:function(){return this.rO}}]),n}(gb),_b=0;var mb,kb=c,bb=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,Tb=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelRequestAnimationFrame;function Eb(){return mb||(mb=S&&S.document&&S.document.createElement("span")),mb}bb&&Tb||(bb=function(t){var n=Cy(),r=l.max(0,16-(n-_b)),i=o(function(){return t(n+r)},r);return _b=n+r,i},Tb=kb),bb=bb.bind(t),Tb=Tb.bind(t);var Sb=["Webkit","Moz","O","ms"],Rb=(function(){var t=!1;try{if(void 0!==S&&"function"==typeof S.addEventListener){var n=d.defineProperty({},"passive",{get:function(){t=!0}});S.addEventListener("testPassiveEventSupport",it,n),S.removeEventListener("testPassiveEventSupport",it,n)}}catch(t){}}(),wn());function Ib(t){return Rb.has(t)||Rb.set(t,function(t){var n=Eb();if(!n||!n.style)return t;if(void 0!==n.style[t])return t;for(var r=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<Sb.length;i++){var e=Sb[i],u=e+r;if(void 0!==n.style[u])return u}return t}(t)),Rb.get(t)}function Db(t){var n=t.style;n.position="absolute",n.left=n.right=n.bottom=n.top="0",n.overflow="scroll",n.zIndex="-1",n.visibility="hidden"}function Cb(t){var n=t.style;n.position="absolute",n.left=n.top="0",n[Ib("transition")]="0s"}var Nb=function(t){function n(n,r,i){var e;return(e=t.call(this,n,r)||this).oO=void 0,e.cO=0,e.rO=NaN,e.nO=NaN,e.aO=void 0,e.pf=function(){e.fO.style.width=1e5+"px",e.fO.style.height=1e5+"px",e.hO.scrollLeft=1e5,e.hO.scrollTop=1e5,e.vO.scrollLeft=1e5,e.vO.scrollTop=1e5,0===e.vO.scrollTop&&bb(e.pf)},e.dO=function(){var t=e.sO,n=e.uO;e.tO(t,n),e.rO=t,e.nO=n,e.pf(),e.cO=0},e.lO=function(){if(!e.cO){var t=e.sO,n=e.uO;t===e.rO&&n===e.nO||(e.cO=bb(e.dO))}},e.wO=function(){e.aO||(e.aO=o(e.yO,66))},e.yO=function(){e.aO=void 0,e.gO()},e.gO=function(){e.lO()},e.Mo(i),e}Gt(n,t);var r=n.prototype;return r.pO=function(){var t,n=this.gl,r=e.createElement("div");return this.hO=e.createElement("div"),this.fO=e.createElement("div"),this.vO=e.createElement("div"),this._O=e.createElement("div"),Db(this.hO),Db(this.vO),Cb(this.fO),Cb(t=this._O),t.style.width="200%",t.style.height="200%",r.appendChild(this.hO),r.appendChild(this.vO),this.hO.appendChild(this.fO),this.vO.appendChild(this._O),n&&n.appendChild(r),this.lO(),this.hO.addEventListener("scroll",this.lO),this.vO.addEventListener("scroll",this.lO),r},r.Mo=function(t){var n=this.gl,r=function(t,n){return i.getComputedStyle(t,void 0).getPropertyValue(n)||t.style[n]}(n,"position");t||"static"!==r||(n.style.position="relative"),this.oO=this.pO(),i&&i.addEventListener("resize",this.wO)},r.ai=function(){this.oO&&(Tb(this.cO),this.cO=0,this.hO.removeEventListener("scroll",this.lO),this.vO.removeEventListener("scroll",this.lO),se(this.oO),this.oO=void 0,i&&i.removeEventListener("resize",this.wO))},P(n,[{key:"uO",get:function(){return this.gl&&this.gl.getBoundingClientRect().height||this.nO||0}},{key:"sO",get:function(){return this.gl&&this.gl.getBoundingClientRect().width||this.rO||0}}]),n}(gb),Ab=function(t){function n(n){var r;return(r=t.call(this)||this).eO=void 0,r.iO=function(t,n){r.Es(new wb(t,n))},r.gl=n,r}Gt(n,t);var r=n.prototype;return r.Mo=function(t){this.eO||("function"==typeof S.ResizeObserver?this.eO=new pb(this.gl,this.iO):this.eO=new Nb(this.gl,this.iO,t))},r.ai=function(){this.Ds(),this.eO&&(this.eO.ai(),this.eO=void 0)},P(n,[{key:"uO",get:function(){return this.eO?this.eO.uO:0}},{key:"sO",get:function(){return this.eO?this.eO.sO:0}}]),n}(gr),Ob=function(t){function n(){return t.call(this,Mo.nf)||this}return Gt(n,t),n}(_r);!function(){if(e)for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0;n<t.length;n++){var r=t[n];if(r[1]in e)return{mO:r[0],kO:r[1],bO:r[2],TO:r[3],EO:r[4],SO:r[5]}}}();var xb=function(t){function n(){return t.call(this,Mo.$h)||this}return Gt(n,t),n}(_r),Pb=function(t){function n(n,r){var i;return(i=t.call(this)||this).RO=!1,i.IO=function(){return i.Do()},i.Zh=function(t){i.RO||i.Es(t)},i.oI=n,i.DO=r,i.CO=Kw,i.NO(),i.oI.Rs(Po._h,i.IO),i.Do(),i}Gt(n,t);var r=n.prototype;return r.yv=function(){this.DO&&this.CO.yv()},r.gv=function(){this.CO.gv()},r.NO=function(){this.CO.Rs(Mo.nf,this.Zh),this.CO.Rs(Mo.Mf,this.Ts)},r.AO=function(){this.CO.Cs(Mo.nf,this.Zh),this.CO.Cs(Mo.Mf,this.Ts)},r.Do=function(){var t=this.CO,n=this.oI.cl();if(t!==n){this.RO=!0;var r=this.wv,i=this.lv;r&&this.gv(),this.AO(),this.CO=n,this.NO(),r&&!this.wv&&this.lv?this.yv():this.gv(),this.RO=!1,i!==this.lv&&this.Es(new xb),r!==this.wv&&this.Es(new Ob)}},r.ai=function(){this.Ds(),this.AO(),this.oI.Cs(Po._h,this.IO)},P(n,[{key:"lv",get:function(){return!!this.DO&&this.CO.lv}},{key:"wv",get:function(){return this.CO.wv}}]),n}(gr),Lb=function(){function t(t,n){this.OO=t,this.xO=n,this.PO=new Si,this.LO=[],this.Va=void 0,this.FO=!1,this.kN=void 0,this.MO=0}var n=t.prototype;return n.Ww=function(){this.FO=!0,this.PO.oo(null)},n.BO=function(){this.PO.co(this.LO)},n.UO=function(t){if(!this.qO)throw new v("Cannot respond more than once");if(!J(t))throw new v("Expected valid response");this.kN=this.VO(t),this.Ww()},n.jO=function(){try{var t=this.xO(this.ja);t?this.HO(t):this.WO||this.$O||this.Ww()}catch(t){this.BO()}},n.HO=function(t){if(this.$O)throw new h("Request has been redirected or a response already exists");if(nt(t))this.zO(t);else{if("function"!=typeof t)throw new v("Expected promise or function");var n=new Si;try{var r=t(function(t){t?n.co(t):n.oo(void 0)});nt(r)&&n.oo(r)}catch(t){n.co(t)}this.zO(n.so)}},n.zO=function(){var t=D.coroutine(vn.mark(function t(n){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.MO++,t.next=4,n;case 4:this.MO--,this.WO||this.$O||(this.LO.length?this.BO():this.Ww()),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(0),this.MO--,this.LO.push(t.t0),this.WO||this.$O||this.BO();case 13:case"end":return t.stop()}},t,this,[[0,8]])}));return function(n){return t.apply(this,arguments)}}(),P(t,[{key:"XO",get:function(){return this.PO.so}},{key:"ja",get:function(){return this.Va||(this.Va=this.GO()),this.Va}},{key:"$O",get:function(){return this.FO}},{key:"qO",get:function(){return!this.FO}},{key:"WO",get:function(){return this.MO>0}},{key:"zb",get:function(){return this.kN}}]),t}(),Fb=function(t){function n(n,r,i){var e;return(e=t.call(this,n,r)||this).YO=i,e.jO(),e}Gt(n,t),n.KO=function(t,n,r){var i=void 0===t.body?r:t.body;return new pm({Su:i,$b:n.$b,Sd:n.$b.Sd,Td:t.headers,Gb:t.status,kE:t.statusText,Xb:t.url,pN:!0},n)};var r=n.prototype;return r.GO=function(){return r=Yk((t=this).$b),{get closed(){return!t.qO},get request(){return r},get url(){return t.kd},get status(){return t.Gb},get statusText(){return t.kE},get headers(){return n||(n=t.Td.td()),n},get body(){return t.bd},respondWith:function(n){return t.UO(n)},waitUntil:function(n){return t.HO(n)}};var t,n,r},r.VO=function(t){return n.KO(t,this.OO,this.YO)},P(n,[{key:"bd",get:function(){return this.YO}},{key:"Td",get:function(){return this.OO.Td}},{key:"$b",get:function(){return this.OO.$b}},{key:"zb",get:function(){return this.kN}},{key:"Gb",get:function(){return this.OO.Gb}},{key:"kE",get:function(){return this.OO.kE}},{key:"kd",get:function(){return this.OO.Xb}}]),n}(Lb),Mb=function(t){function n(n,r,i){var e;return(e=t.call(this,n,r)||this).JO=void 0,e.QO=i,e.jO(),e}Gt(n,t);var r=n.prototype;return r.GO=function(){return t=this,{get url(){return t.kd},get method(){return t.Ed},get headers(){return n||(n=t.Td.td()),n},get body(){return t.bd},get closed(){return!t.qO},get useCredentials(){return t.Cd},get type(){return tb(t.Uu)},get subType(){return rb(t.Id)},get mediaType(){return eb(t.Dd)},get responseType(){return Jk(t.Sd)},redirect:function(n){return t.ZO(n)},respondWith:function(n){return t.UO(n)},waitUntil:function(n){return t.HO(n)}};var t,n},r.VO=function(t){var n=this.OO.bd,r=new pm({Su:n,Td:{},$b:this.OO,Xb:this.OO.kd,Sd:this.OO.Sd,Gb:200,kE:"OK"});return Fb.KO(t,r,n)},r.ZO=function(t){if(!this.qO)throw new v("Cannot redirect, already redirected or has a response");var n;n=Z(t)?{url:t}:t,this.JO=function(t,n){return new Ly({kd:void 0===t.url?n.kd:t.url,Ed:void 0!==t.method?Qk(t.method):void 0,Td:t.headers,bd:t.body,Cd:t.useCredentials,Uu:void 0!==t.type?Zk(t.type):void 0,Id:void 0!==t.subType?nb(t.subType):void 0,Dd:void 0!==t.mediaType?ib(t.mediaType):void 0,Sd:void 0!==t.responseType?Kk(t.responseType):void 0},n)}(n,this.OO),this.Ww()},P(n,[{key:"bd",get:function(){return this.OO.bd}},{key:"qO",get:function(){return this.QO&&!this.FO}},{key:"Td",get:function(){return this.OO.Td}},{key:"Ed",get:function(){return this.OO.Ed}},{key:"tx",get:function(){return this.JO}},{key:"zb",get:function(){return this.kN}},{key:"Sd",get:function(){return this.OO.Sd}},{key:"Rd",get:function(){return this.OO.Rd}},{key:"ks",get:function(){return this.OO.ks}},{key:"Uu",get:function(){return this.OO.Uu}},{key:"Id",get:function(){return this.OO.Id}},{key:"Dd",get:function(){return this.OO.Dd}},{key:"kd",get:function(){return this.OO.kd}},{key:"Cd",get:function(){return this.OO.Cd}},{key:"Nd",get:function(){return this.OO.Nd}}]),n}(Lb);var Bb,Ub=function(t){function n(n,r){var i;void 0===r&&(r=!0);var e=new qb(n);return(i=t.call(this,e,r)||this).nx=e,i}Gt(n,t);var r=n.prototype;return r.ix=function(t){this.nx.ix(t)},r.ex=function(t){this.nx.ex(t)},r.ux=function(t){this.nx.ux(t)},r.sx=function(t){this.nx.sx(t)},r.ox=function(t){this.nx.ox(t)},n}(fb),qb=function(){function t(t){this.ax=[],this.hx=[],this.PA=t}var n=t.prototype;return n.$b=function(){var t=D.coroutine(vn.mark(function t(n,r){var i;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.vx(n,n.ks);case 3:i=t.sent,t.next=13;break;case 6:if(t.prev=6,t.t0=t.catch(0),!(t.t0 instanceof _m)){t.next=12;break}return t.next=11,this.lx(t.t0,n.ks);case 11:return t.abrupt("return",t.sent);case 12:throw t.t0;case 13:return t.next=15,this.wx(i,n.ks);case 15:return t.abrupt("return",t.sent);case 16:case"end":return t.stop()}},t,this,[[0,6]])}));return function(n,r){return t.apply(this,arguments)}}(),n.YD=function(t){return this.PA.YD(t)},n.vx=function(){var t=D.coroutine(vn.mark(function t(n,r,i){var e,u,s,o,c;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:er(r),e=void 0,u=0,s=this.ax.slice();case 3:if(!(u<s.length)){t.next=21;break}if(o=s[u],er(r),(c=new Mb(n,o,!e)).$O){t.next=17;break}return t.prev=8,t.next=11,c.XO;case 11:t.next=17;break;case 13:return t.prev=13,t.t0=t.catch(8),t.abrupt("continue",18);case 17:c.tx&&!e?n=c.tx:c.zb&&!e&&(e=c.zb);case 18:u++,t.next=3;break;case 21:if(!e){t.next=23;break}return t.abrupt("return",e);case 23:return t.abrupt("return",this.PA.$b(n,i));case 24:case"end":return t.stop()}},t,this,[[8,13]])}));return function(n,r,i){return t.apply(this,arguments)}}(),n.lx=function(t,n){var r;return r=t instanceof km?t.zb:new pm({Su:null,$b:t.$b,Gb:0,kE:""}),this.wx(r,n)},n.wx=function(){var t=D.coroutine(vn.mark(function t(n,r){var i,e,u,s,o;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0,e=this.hx.slice();case 1:if(!(i<e.length)){t.next=22;break}return u=e[i],er(r),t.next=6,D.resolve(n.to().Su(r));case 6:if(s=t.sent,(o=new Fb(n,u,s)).$O){t.next=18;break}return t.prev=9,t.next=12,o.XO;case 12:t.next=18;break;case 14:return t.prev=14,t.t0=t.catch(9),t.abrupt("continue",19);case 18:n=o.zb||n;case 19:i++,t.next=1;break;case 22:if(!gm(n)){t.next=26;break}return t.abrupt("return",n);case 26:throw new km(n);case 27:case"end":return t.stop()}},t,this,[[9,14]])}));return function(n,r){return t.apply(this,arguments)}}(),n.ix=function(t){this.ax.unshift(t)},n.ex=function(t){this.ax.push(t)},n.ux=function(t){Kn(this.ax,t)},n.sx=function(t){this.hx.unshift(t)},n.ox=function(t){Kn(this.hx,t)},n.ai=function(){this.PA.ai(),Zn(this.ax),Zn(this.hx)},t}(),Vb=function(t){function n(n,r){var i;return(i=t.call(this,r)||this).yx=n,i.Zb=r,i.gx=void 0,i.yx.Rs(Po.Sh,i.Ts),i.yx.Rs(Po.Eh,i.Ts),i}Gt(n,t);var r=n.prototype;return r.ix=function(t){this.Zb.ix(t)},r.ux=function(t){this.Zb.ux(t)},r.sx=function(t){this.Zb.sx(t)},r.ox=function(t){this.Zb.ox(t)},r.ai=function(){this.Ds(),this.yx.Cs(Po.Sh,this.Ts),this.yx.Cs(Po.Eh,this.Ts)},P(n,[{key:"ja",get:function(){var t;return this.Va||(this.Va=(t=this,{get online(){return t.Sl},get estimator(){return t._x},set estimator(n){t._x=n},addRequestInterceptor:function(n){t.ix(n)},removeRequestInterceptor:function(n){t.ux(n)},addResponseInterceptor:function(n){t.sx(n)},removeResponseInterceptor:function(n){t.ox(n)},addEventListener:function(n,r){t.Rs(n,r)},removeEventListener:function(n,r){t.Cs(n,r)}})),this.Va}},{key:"Sl",get:function(){return this.yx.Sl}},{key:"_x",get:function(){var t;return null!==(t=this.gx)&&void 0!==t?t:this.Zb.HA},set:function(t){this.Zb.HA=function(t){return{get bandwidth(){return ao(t.bandwidth)},get roundTripTime(){return ao(t.roundTripTime)},createMeasurer:function(n){return r=t.createMeasurer(n),{markRequestStart:function(t){r.markRequestStart(t)},markResponseStart:function(t){r.markResponseStart(t)},markResponseData:function(t,n){r.markResponseData(t,n)},markResponseEnd:function(t){r.markResponseEnd(t)}};var r}}}(t),this.gx=t}}]),n}(Co);!function(t){t.PERFORMANCE="performance",t.QUALITY="quality",t.BANDWIDTH="bandwidth"}(Bb||(Bb={}));var jb=30,Hb={type:Bb.BANDWIDTH},Wb=20,$b=60;function zb(t){var n,r,i,e=io(Hb);return Z(t)?e.type=Xb(t):J(t)&&function(t){switch(t){case Bb.PERFORMANCE:case Bb.QUALITY:case Bb.BANDWIDTH:return!0;default:return!1}}(t.type)&&(e.type=Xb(t.type)),J(t)&&J(t.metadata)&&(e.metadata=(n=t.metadata,r={},i=co(n.bitrate),g(i)||(r.bitrate=i),r)),e}function Xb(t){switch(t){case"bandwidth":return Bb.BANDWIDTH;case"performance":return Bb.PERFORMANCE;case"quality":return Bb.QUALITY}}var Gb=function(t){function n(n){var r;return(r=t.call(this,"kx")||this).mx=n,r}return Gt(n,t),n}(_r),Yb=function(t){function n(n){var r;return(r=t.call(this,"Tx")||this).bx=n,r}return Gt(n,t),n}(_r),Kb=function(t){function n(n){var r;return(r=t.call(this,"Sx")||this).Ex=n,r}return Gt(n,t),n}(_r),Jb=function(t){function n(){var n,r;return(n=t.apply(this,arguments)||this).Va=(r=Kt(n),{get strategy(){return{metadata:(t=r.bx).metadata,type:(n=t.type,n)};var t,n},set strategy(t){r.bx=zb(t)},get targetBuffer(){return r.mx},set targetBuffer(t){var n=co(t);g(n)||(r.mx=n>$b?$b:n)},get bufferLookbackWindow(){return r.Ex},set bufferLookbackWindow(t){var n=co(t);g(n)||(r.Ex=n<=0?jb:n)}}),n.Rx=Hb,n.Ix=Wb,n.Dx=jb,n}return Gt(n,t),P(n,[{key:"Cx",get:function(){switch(this.Rx.type){case Bb.PERFORMANCE:return 0;case Bb.QUALITY:return 1/0;case Bb.BANDWIDTH:return this.Rx.metadata&&void 0!==this.Rx.metadata.bitrate?this.Rx.metadata.bitrate:8*Cc.Yv();default:return 8*Cc.Yv()}}},{key:"ja",get:function(){return this.Va}},{key:"bx",get:function(){return this.Rx},set:function(t){this.Rx=t,this.Es(new Yb(t))}},{key:"mx",get:function(){return this.Ix},set:function(t){this.Ix=t,this.Es(new Gb(t))}},{key:"Ex",get:function(){return this.Dx},set:function(t){this.Dx=t,this.Es(new Kb(t))}}]),n}(gr),Qb=function(t){function n(){return t.call(this,"rf")||this}return Gt(n,t),n.prototype.Ha=function(){return new Zb},n}(js),Zb=function(t){function n(){return t.call(this,"change")||this}return Gt(n,t),n}(_r),tT=function(t){function n(n,r){var i;return(i=t.call(this,r)||this).Nx=function(t){var n;n=t,Boolean(n&&n.ja)&&fr(function(){i.Es(t.ja)})},i.Ax=n,i.Ax.Gf(i.Nx),i}return Gt(n,t),n.prototype.ai=function(){this.Ds(),this.Ax.Yf(this.Nx)},n}(Co),nT=function(t){function n(){return t.apply(this,arguments)||this}return Gt(n,t),n}(tT);var rT=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Vm=0,n.jm=1/0,n}Gt(n,t);var r=n.prototype;return r.pf=function(){0===this.Vm&&this.jm===1/0||(this.Vm=0,this.jm=1/0,this.Es(new Qb))},r.Ox=function(){return new Of([this.Pm,this.Lm],[!0,!0])},P(n,[{key:"Pm",get:function(){return this.Vm},set:function(t){if(this.Lm<=t)throw new h("Start time of a clip should be smaller than the end time.");this.Vm!==t&&(this.Vm=t,this.Es(new Qb))}},{key:"Lm",get:function(){return this.jm},set:function(t){if(t<=this.Pm)throw new h("End time of a clip should be larger than the start time.");this.jm!==t&&(this.jm=t,this.Es(new Qb))}},{key:"ja",get:function(){var t,n,r;return this.Va||(this.Va=(r={get startTime(){return t.Pm},set startTime(n){t.Pm=n},get endTime(){return t.Lm},set endTime(n){t.Lm=n},addEventListener:function(t,r){n.Rs(t,r)},removeEventListener:function(t,r){n.Cs(t,r)}},n=new tT(t=this,r),r)),this.Va}}]),n}(Co),iT=function(t){function n(n){var r;return(r=t.call(this)||this).xx=n,r.Px=function(t){r.Lx(t)||r.Es(t)},r.xx.Gf(r.Px),r}Gt(n,t);var r=n.prototype;return r.Fx=function(){return this.xx.$d},r.al=function(){return this.xx.al()},r.Mx=function(){return this.xx.wl},r.Bx=function(){return this.xx.dl},r.Ux=function(){return this.xx.yl},r.qx=function(t){this.xx.yl=t},r.Vx=function(){return this.xx.Iv},r.jx=function(t){this.xx.Iv=t},r.Hx=function(){return this.xx.Dv},r.Wx=function(){return this.xx.gl},r.$x=function(){return this.xx.Cv},r.zx=function(){return this.xx.Bs},r.Xx=function(){return this.xx.Nv},r.Gx=function(){return this.xx.pl},r.Yx=function(){return this.xx.Av},r.Kx=function(t){this.xx.Av=t},r.Jx=function(){return this.xx.Sl},r.Qx=function(){return this.xx.Ov},r.Zx=function(){return this.xx.xv},r.tP=function(t){this.xx.xv=t},r.nP=function(){return this.xx.Rl},r.rP=function(){return this.xx.Il},r.iP=function(t){this.xx.Il=t},r.eP=function(){return this.xx.Hf},r.uP=function(){return this.xx.Dl},r.sP=function(){return this.xx.Pv},r.Kd=function(){return this.xx.Kd()},r.Jd=function(){var t=D.coroutine(vn.mark(function t(n,r){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return er(r),t.next=3,this.xx.Jd(n,r);case 3:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),r.oP=function(){return this.xx.Xd},r.cP=function(){return this.xx.Lv},r.aP=function(){return this.xx.zd},r.fP=function(){return this.xx.Fv},r.hP=function(){return this.xx.Mv},r.vP=function(t){this.xx.Mv=t},r.cl=function(){return this.xx.cl()},r.ol=function(){return this.xx.ol()},r.nl=function(t){this.xx.nl(t)},r.il=function(){this.xx.il()},r.sl=function(){this.xx.sl()},r.vi=function(){this.xx.vi()},r.ui=function(){this.xx.ui()},r.ei=function(){this.xx.ei()},r.ul=function(){this.xx.ul()},r.Yd=function(){return this.xx.Yd()},r.Qd=function(){return this.xx.Qd()},r.Zd=function(){this.xx.Zd()},r.tl=function(){this.xx.tl()},r.pf=function(){return this.xx.pf()},r.ai=function(){return this.xx.ai()},r.ll=function(){this.xx.ll()},r.fl=function(t){return this.xx.fl(t)},r.Lx=function(t){return!1},P(n,[{key:"$d",get:function(){return this.Fx()}},{key:"wl",get:function(){return this.Mx()}},{key:"yl",get:function(){return this.Ux()},set:function(t){this.qx(t)}},{key:"dl",get:function(){return this.Bx()}},{key:"Iv",get:function(){return this.Vx()},set:function(t){this.jx(t)}},{key:"Dv",get:function(){return this.Hx()}},{key:"gl",get:function(){return this.Wx()}},{key:"Cv",get:function(){return this.$x()}},{key:"Bs",get:function(){return this.zx()}},{key:"Nv",get:function(){return this.Xx()}},{key:"Gd",get:function(){return this.xx.Gd}},{key:"pl",get:function(){return this.Gx()}},{key:"Fd",get:function(){return this.xx.Fd}},{key:"Av",get:function(){return this.Yx()},set:function(t){this.Kx(t)}},{key:"Sl",get:function(){return this.Jx()}},{key:"Ov",get:function(){return this.Qx()}},{key:"xv",get:function(){return this.Zx()},set:function(t){this.tP(t)}},{key:"Rl",get:function(){return this.nP()}},{key:"Il",get:function(){return this.rP()},set:function(t){this.iP(t)}},{key:"Hf",get:function(){return this.eP()}},{key:"Dl",get:function(){return this.uP()}},{key:"Pv",get:function(){return this.sP()}},{key:"Xd",get:function(){return this.oP()}},{key:"Lv",get:function(){return this.cP()}},{key:"zd",get:function(){return this.aP()}},{key:"Fv",get:function(){return this.fP()}},{key:"Mv",get:function(){return this.hP()},set:function(t){this.vP(t)}}]),n}(No),eT=function(t){function n(r,i){var e;return(e=t.call(this,r)||this).dP=!1,e.lP=void 0,e.wP=!1,e.yP=function(){e.gP(),e.pP()},e.aR=function(){e._P(),e.pP(),e.mP&&e.Iv>=e.kP.Lm-n.bP&&!e.Cv&&(e.lP=bb(e.aR))},e.TP=function(){e.wP=!0},e.EP=function(){e.wP&&(e.wP=!1,e.pP())},e.kP=i,e.kP.Rs("rf",e.yP),e.xx.Rs("timeupdate",e.aR),e}Gt(n,t);var r=n.prototype;return r.jx=function(n){var r=this.kP.Ox().F_(n);t.prototype.jx.call(this,r),this.pP()},r.$x=function(){return t.prototype.$x.call(this)||this.dP},r.uP=function(){return Of.h_(t.prototype.uP.call(this)).B_(this.kP.Ox()).x_()},r.ei=function(){this.$x()?this.jx(this.SP.start(0)):this.gP(),t.prototype.ei.call(this),this.pP()},r.Jd=function(){var n=D.coroutine(vn.mark(function n(r,i){return vn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return er(i),this.dP=!1,this.kP.pf(),n.next=5,t.prototype.Jd.call(this,r,i);case 5:case"end":return n.stop()}},n,this)}));return function(t,r){return n.apply(this,arguments)}}(),r.ai=function(){return this.kP.Cs("rf",this.yP),this.xx.Cs("timeupdate",this.aR),this._P(),t.prototype.ai.call(this)},r.Lx=function(n){switch(n.type){case"seeking":return this.Es(n),this.TP(),!0;case"seeked":case"emptied":return this.Es(n),this.EP(),!0;case"ended":if(this.mP)return!0}return t.prototype.Lx.call(this,n)},r._P=function(){this.lP&&(Tb(this.lP),this.lP=void 0)},r.pP=function(){var t=this.Iv,r=this.mP&&t>=this.kP.Lm-n.Zk;this.dP&&!r?(this.dP=!1,this.Ov&&this.ei()):this.dP||!r||this.Pv||this.wP||(this.dP=!0,this.Es(new jo(t)),this.ui())},r.gP=function(){if(this.Dv!==1/0){var t=this.SP,r=Of.h_(t).F_(this.Iv);Ht(this.Iv,r,n.Zk)||this.jx(r)}},P(n,[{key:"SP",get:function(){return this.uP().length?this.uP():this.kP.Ox().x_()}},{key:"mP",get:function(){return this.kP.Lm<this.Dv}}]),n}(iT);eT.bP=1,eT.Zk=.001;var uT=function(){function t(){this.RP=!1}return P(t,[{key:"IP",get:function(){return this.RP},set:function(t){this.RP=t}}]),t}(),sT=function(t){function n(n,r){var i;return(i=t.call(this,n)||this).DP=!1,i.CP=!1,i.RP=r,i}Gt(n,t);var r=n.prototype;return r.$x=function(){return!this.RP.IP&&t.prototype.$x.call(this)},r.ui=function(){this.CP=!0,t.prototype.ui.call(this)},r.ei=function(){this.CP=!1,t.prototype.ei.call(this)},r.Lx=function(n){if(this.RP.IP)switch(n.type){case"ended":return this.Iv=0,this.CP||(this.Pv?this.DP=!0:this.ei()),!0;case"seeked":this.DP&&(this.DP=!1,this.ei());break;case"pause":if(this.DP||t.prototype.$x.call(this))return!0}return t.prototype.Lx.call(this,n)},n}(iT);var oT=function(){function t(t){var n;this.kI=t,this.Va=(n=this,{get currentBandwidthEstimate(){return n.bl},get corruptedVideoFrames(){return n.ml},get droppedVideoFrames(){return n._l},get totalBytesLoaded(){return n.Tl},get bufferedSegments(){return n.El}})}return P(t,[{key:"ja",get:function(){return this.Va}},{key:"ml",get:function(){return this.kI.NP.Fd.ml}},{key:"bl",get:function(){return this.kI.NP.Fd.bl}},{key:"_l",get:function(){return this.kI.NP.Fd._l}},{key:"AP",get:function(){throw new h("Not implemented")}},{key:"OP",get:function(){throw new h("Not implemented")}},{key:"Tl",get:function(){return this.kI.NP.Fd.Tl}},{key:"kl",get:function(){return this.kI.NP.Fd.kl}},{key:"El",get:function(){return this.kI.NP.Fd.El}}]),t}(),cT=function(t){function n(){return t.call(this,"xP")||this}return Gt(n,t),n.prototype.Ha=function(){return new aT},n}(js),aT=function(t){function n(){return t.call(this,"castingchange")||this}return Gt(n,t),n}(_r);var fT=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).PP=[],n.Va=void 0,n.LP=function(){return n.Es(new cT)},n}Gt(n,t);var r=n.prototype;return r.FP=function(t){this.PP.push(t),t.Rs("statechange",this.LP)},r.ai=function(){var t=this;this.PP.forEach(function(n){n.Cs("statechange",t.LP)}),Zn(this.PP)},P(n,[{key:"MP",get:function(){return this.PP.some(function(t){return t.MP})}},{key:"ja",get:function(){var t,n,r;return this.Va||(this.Va=(r={get casting(){return t.MP},addEventListener:function(t,r){n.Rs(t,r)},removeEventListener:function(t,r){n.Cs(t,r)}},n=new nT(t=this,r),r)),this.Va}}]),n}(No),hT=function(){function t(){}return t.BP=function(){var t=D.coroutine(vn.mark(function t(n,r){var i,e;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,i=new Ly({kd:n,Sd:Nc.Ke,Ed:Pc.GET}),t.next=4,r.$b(i);case 4:return e=t.sent,t.next=7,e.Su();case 7:return t.abrupt("return",t.sent);case 10:return t.prev=10,t.t0=t.catch(0),ir(t.t0),t.abrupt("return",void 0);case 14:case"end":return t.stop()}},t,null,[[0,10]])}));return function(n,r){return t.apply(this,arguments)}}(),t.UP=function(t){try{var r=cy(t);return new ly(r.key,r.domains_page,r.domains_source,r.expiration_date,r.customer_id,r.generation_date,r.sdks,r.send_impression)}catch(t){throw new Yi(n.ErrorCode.LICENSE_ERROR,"Invalid license. No valid license was configured.")}},t.qP=function(t){void 0===t&&(t=Dy.Db),N.ga("The baked-in license is used. Please update the configuration with your license.");var n=t.AI(".$hsF|b9_Ess*r[Y.4(HiEagT@Y@Cen3Cec3Cl\"\""),r=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.AI(n)}),i=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.AI(n)}),e=Number(new Date(Number(t.AI("COD|aHp]aO_3Ceo3Co\"\""))));return new ly(n,r,i,e)},t.convertLicenseToDummyLicense=function(t){return new ly(t.qI,t.VI,t.jI,864e13,t.WI,Date.now(),t.zI,t.XI)},t}(),vT=function(){function t(){}return t.ca=function(){return t.$e||(t.$e=dT.Wo()?new dT:new Os),t.$e},t.Ys=function(n){t.ca().Ys(n)},t.sa=function(){t.ca().sa()},t.zs=function(n){return t.ca().zs(n)},t.oa=function(n,r){t.ca().oa(n,r)},t.VP=function(n){var r=t.zs(n);if(void 0!==r)return y(r)},t.jP=function(n){return"true"===t.zs(n)},t}();vT.$e=void 0;var dT=function(n){function r(){return n.apply(this,arguments)||this}Gt(r,n),r.Wo=function(){try{return t.localStorage.setItem("foobar","foobar"),t.localStorage.removeItem("foobar"),!0}catch(t){}return!1};var i=r.prototype;return i.Ys=function(n){t.localStorage.removeItem(n)},i.sa=function(){t.localStorage.clear()},i.zs=function(n){return t.localStorage[n]},i.oa=function(n,r){t.localStorage[n]=r},r}(vT),lT=l.floor(14399999*l.random()-72e5),wT=function(){function t(t,n,r,i,e,u){this.Zb=t,this.HP=n,this.WP=r,this.RD=i,this.$P=e,this.QI=u,this.ZI=ky(u)}var r=t.prototype;return r.zP=function(){var t=D.coroutine(vn.mark(function t(){var n;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.XP(this.$P.license,this.$P.licenseUrl);case 2:n=t.sent,this.RD.GP(n);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.XP=function(){var t=D.coroutine(vn.mark(function t(r,i){var e,u,s,o,c,a,f,h;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=i,r?u=hT.UP(r):e||(u=hT.qP()),e||(e="https://validate.theoplayer.com/1/"+u.qI),s=this.YP(),!u){t.next=14;break}if((o=this.HP.iD(u))!==fy.MI){t.next=14;break}if(!this.KP(u.HI)||!this.KP(null==s?void 0:s.HI)){t.next=13;break}return t.next=10,this.JP(e);case 10:if(!(c=t.sent)){t.next=13;break}return t.abrupt("return",c);case 13:return t.abrupt("return",u);case 14:if(!s){t.next=25;break}if(this.HP.iD(s)!==fy.MI){t.next=24;break}if(!this.KP(null==s?void 0:s.HI)){t.next=23;break}return t.next=20,this.JP(e);case 20:if(!(a=t.sent)){t.next=23;break}return t.abrupt("return",a);case 23:return t.abrupt("return",s);case 24:vT.Ys("THEOplayer.license");case 25:return t.next=27,hT.BP(e,this.Zb);case 27:if(!(f=t.sent)){t.next=37;break}if(h=hT.UP(f),this.HP.iD(h)!==fy.MI){t.next=34;break}return vT.oa("THEOplayer.license",f),t.abrupt("return",h);case 34:vT.Ys("THEOplayer.license"),t.next=39;break;case 37:if(this.ZI||!u||o!==fy.BI||e!=="https://validate.theoplayer.com/1/"+u.qI){t.next=39;break}return t.abrupt("return",hT.convertLicenseToDummyLicense(u));case 39:if(!u&&!h){t.next=43;break}this.QP(null!=u?u:h,new Yi(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!")),t.next=44;break;case 43:throw new Yi(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!");case 44:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),r.tD=function(){var t=D.coroutine(vn.mark(function t(n){var r,i,e,u,s,o,c;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.RD.jD();case 2:if(i=t.sent,!this.KP(i.HI)){t.next=9;break}return e=null!==(r=this.$P.licenseUrl)&&void 0!==r?r:"https://validate.theoplayer.com/1/"+i.qI,t.next=7,this.JP(e);case 7:(u=t.sent)&&(this.RD.GP(u),i=u);case 9:if(t.prev=9,(s=this.HP.iD(i))!==fy.UI){t.next=16;break}throw o=dy.GI,new Yi(yy(o),Ty.rD(o));case 16:if(s!==fy.BI){t.next=19;break}throw c=dy.BI,new Yi(yy(c),Ty.rD(c));case 19:this.HP.tD(n,i),t.next=25;break;case 22:t.prev=22,t.t0=t.catch(9),this.ZP(t.t0);case 25:case"end":return t.stop()}},t,this,[[9,22]])}));return function(n){return t.apply(this,arguments)}}(),r.JP=function(){var t=D.coroutine(vn.mark(function t(n){var r,i;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,hT.BP(n,this.Zb);case 3:if(void 0!==(r=t.sent)){t.next=6;break}return t.abrupt("return",void 0);case 6:if(i=hT.UP(r),this.HP.iD(i)!==fy.MI){t.next=11;break}return vT.oa("THEOplayer.license",r),t.abrupt("return",i);case 11:return t.abrupt("return",void 0);case 14:return t.prev=14,t.t0=t.catch(0),t.abrupt("return",void 0);case 17:case"end":return t.stop()}},t,this,[[0,14]])}));return function(n){return t.apply(this,arguments)}}(),r.KP=function(t){return!t||Number(new Date)+2592e5+lT>=t},r.YP=function(){var t=vT.zs("THEOplayer.license");if(t)return hT.UP(t)},r.QP=function(t,n){this.RD.GP(t),this.ZP(n)},r.ZP=function(t){throw dt(t.message),this.WP.$D(t.message),t},t}(),yT=function(){function t(){this.YA=new Si}var n=t.prototype;return n.GP=function(t){this.tL=t,this.YA.oo()},n.jD=function(){var t=D.coroutine(vn.mark(function t(){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.tL){t.next=2;break}return t.abrupt("return",D.resolve(this.tL));case 2:return t.next=4,this.YA.so;case 4:return t.abrupt("return",this.tL);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),P(t,[{key:"nL",get:function(){return this.tL}}]),t}(),gT=function(t){function n(){return t.call(this,"rf")||this}return Gt(n,t),n.prototype.Ha=function(){return new pT},n}(js),pT=function(t){function n(){return t.call(this,"change")||this}return Gt(n,t),n}(_r);var _T,mT,kT={rL:void 0,iL:void 0,eL:void 0,uL:void 0,sL:void 0,oL:void 0},bT="THEOplayer.textTrackStyle.",TT=function(t){function n(){var r;return(r=t.call(this)||this).Va=void 0,r.cL=n.aL(),r}return Gt(n,t),n.prototype.Do=function(t){this.cL=dn(dn({},this.cL),t),n.fL(this.cL),this.Es(new gT)},n.aL=function(){var t=dn({},kT);return t.rL=vT.zs(bT+"fontFamily")||t.rL,t.iL=vT.zs(bT+"fontColor")||t.iL,t.eL=vT.zs(bT+"fontSize")||t.eL,t.uL=vT.zs(bT+"backgroundColor")||t.uL,t.sL=vT.zs(bT+"windowColor")||t.sL,t.oL=vT.zs(bT+"edgeStyle")||t.oL,t},n.fL=function(t){vT.oa(bT+"fontFamily",t.rL||""),vT.oa(bT+"fontColor",t.iL||""),vT.oa(bT+"fontSize",t.eL||""),vT.oa(bT+"backgroundColor",t.uL||""),vT.oa(bT+"windowColor",t.sL||""),vT.oa(bT+"edgeStyle",t.oL||"")},P(n,[{key:"hL",get:function(){return this.cL}},{key:"rL",get:function(){return this.cL.rL},set:function(t){this.Do({rL:t})}},{key:"iL",get:function(){return this.cL.iL},set:function(t){this.Do({iL:t})}},{key:"eL",get:function(){return this.cL.eL},set:function(t){this.Do({eL:t})}},{key:"uL",get:function(){return this.cL.uL},set:function(t){this.Do({uL:t})}},{key:"sL",get:function(){return this.cL.sL},set:function(t){this.Do({sL:t})}},{key:"oL",get:function(){return this.cL.oL},set:function(t){this.Do({oL:t})}},{key:"ja",get:function(){var t,n,r;return this.Va||(this.Va=(t=this,r={get fontFamily(){return t.rL},set fontFamily(n){t.rL=n},get fontColor(){return t.iL},set fontColor(n){t.iL=n},get fontSize(){return t.eL},set fontSize(n){t.eL=n},get backgroundColor(){return t.uL},set backgroundColor(n){t.uL=n},get windowColor(){return t.sL},set windowColor(n){t.sL=n},get edgeStyle(){return t.oL},set edgeStyle(n){t.oL=n},addEventListener:function(t,r){var i=ho(t,fo);n.Rs(i,r)},removeEventListener:function(t,r){var i=ho(t,fo);n.Cs(i,r)}},n=new pr(r),t.Rs(["rf"],function(t){return n.Es(t.ja)}),r)),this.Va}}]),n}(gr),ET=function(t){function n(n,r){var i;(i=t.call(this)||this).vL=!1,i.Bd=!1,i.dL=!1,i.lL=function(t){if(!i.dL){i.dL=!0;var n=i.wL,r=ta(t);i.NP.Rf=new Jw(i.gl,r,t),hr(n.ai())}},i.yL=function(t){i.Es(t.ja)},i.gL=function(t){t.type!==Po.Sh&&t.type!==Po.Eh&&i.Es(t)};var e=co(r.uid);g(e)?i.km=lh++:i.km=e,i.wg=r,i.pL=new Jb;var u=fb.WA,s=new yT;i._L=new qy("2.84.1",u,s),i.cE=new Ub(u,r.allowMixedContent),i.HP=new wy(r.isEmbeddable,"2.84.1",ay()),i.mL=new wT(u,i.HP,i._L,s,r,ay()),i.mL.zP().catch(i.lL),i.kL=new Ab(n),i.kL.Rs("ZA",i.yL),i.gI=new TT,i.kP=new rT,i.RP=new uT;var o=new Xw(n,r,i.cE,i.pL,i.kL,i.gI);o=new eT(o,i.bL),o=new sT(o,i.IP),i.wL=o,i.NP=new Kc(i.wL),i.NP.Gf(i.gL),i.TL=new oT(Kt(i)),i.EL=new Vb(i.NP,i.cE),i.SL=new lb(Kt(i)),i.RL=new Pb(i.NP,r.allowNativeFullscreen),i.IL=new oc(i.RL),i.kL.Mo();var c=new b(i.kL,i.gI,1,[Ef._d]);return i.DL=new T(c),i.CL=new fT,i}Gt(n,t);var r=n.prototype;return r.Kx=function(t){this.NP.Av=t,t||this.Ov||this.vi()},r.vP=function(t){this.NP.Mv=t},r.NL=function(){Sc(this,Tc,this)},r.ei=function(){this.NP.ei()},r.ui=function(){this.NP.ui()},r.Jd=function(){var t=D.coroutine(vn.mark(function t(n,r){var i;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=5;break}return this.mL.tD(n).catch(this.lL),i=ST(n),t.next=5,this.NP.Jd(i,r);case 5:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),r.vi=function(){this.Bd||(this.NP.vi(),this.DL.vi(),this.Bd=!0)},r.wv=function(){return this.IL.av()===Zo.FULLSCREEN},r.ul=function(){this.NP.ul()},r.sl=function(){this.NP.sl()},r.ol=function(){return this.NP.ol()},r.pf=function(){var t=D.coroutine(vn.mark(function t(){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.NP.Yd();case 2:return t.next=4,this.NP.pf();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.ai=function(){var t=D.coroutine(vn.mark(function t(){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Ds(),this.CL.ai(),this.cE.ai(),this.EL.ai(),this.RL.ai(),this.IL.ai(),this.kL.ai(),this._L.ai(),this.DL.ai(),t.next=11,this.NP.ai();case 11:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),P(n,[{key:"Hd",get:function(){return this.vL},set:function(t){this.vL=t,this.NP.Hd=t}},{key:"AL",get:function(){return this.DL}},{key:"$d",get:function(){return this.NP.$d}},{key:"OL",get:function(){return this.CL}},{key:"xL",get:function(){return this.kL}},{key:"Gd",get:function(){return this.NP.Gd}},{key:"Fd",get:function(){return this.TL}},{key:"PL",get:function(){return this.EL}},{key:"Xd",get:function(){return this.NP.Xd}},{key:"LL",get:function(){return this.gI}},{key:"zd",get:function(){return this.NP.zd}},{key:"wl",get:function(){return this.NP.wl}},{key:"bL",get:function(){return this.kP}},{key:"IP",get:function(){return this.RP}},{key:"Iv",get:function(){return this.NP.Iv},set:function(t){this.NP.Iv=t}},{key:"yl",get:function(){return this.NP.yl},set:function(t){this.NP.yl=t}},{key:"dl",get:function(){return this.NP.dl}},{key:"Dv",get:function(){return this.NP.Dv}},{key:"gl",get:function(){return this.NP.gl}},{key:"Cv",get:function(){return this.NP.Cv}},{key:"Bs",get:function(){return this.NP.Bs}},{key:"Nv",get:function(){return this.NP.Nv}},{key:"Av",get:function(){return this.NP.Av},set:function(t){var n=Boolean(t);this.Kx(n)}},{key:"Ov",get:function(){return this.NP.Ov}},{key:"xv",get:function(){return this.NP.xv},set:function(t){this.NP.xv=t}},{key:"Rl",get:function(){return this.NP.Rl}},{key:"Il",get:function(){return this.NP.Il},set:function(t){this.NP.Il=$w(t)}},{key:"Hf",get:function(){return this.NP.Hf}},{key:"Dl",get:function(){return this.NP.Dl}},{key:"Pv",get:function(){return this.NP.Pv}},{key:"Af",get:function(){return this.km}},{key:"Lv",get:function(){return this.NP.Lv}},{key:"Fv",get:function(){return this.NP.Fv}},{key:"Mv",get:function(){return this.NP.Mv},set:function(t){var n=jt(Number(t),0,1)||0;this.vP(n)}}]),n}(No);function ST(t){t.sources;var n=t.sources.filter(function(t){return void 0===t.integration});return t.sources=n,t}!function(t){t[t.FL=0]="FL",t[t.ML=1]="ML"}(_T||(_T={})),function(t){t[t.BL=0]="BL"}(mT||(mT={}));var RT={};function IT(t,n){var r=t;if(RT[n])for(var i=0,e=RT[n];i<e.length;i++){r=(0,e[i])(r)}return r}var DT=[];function CT(t){DT.push(t)}var NT=t.CustomEvent;var AT,OT=function(){try{var t=new NT("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?function(t,n){return new CustomEvent(t,n)}:function(t,n){var r=e.createEvent("CustomEvent");return n?r.initCustomEvent(t,n.bubbles,n.cancelable,n.detail):r.initCustomEvent(t,!1,!1,void 0),r};(AT=D)&&AT.config({warnings:!1,longStackTraces:!1});AT&&(FT=AT.setScheduler(it),xT=FT,MT={UL:function(t){PT=t,xT(LT)},BD:LT=function(){var t=PT;t&&(PT=void 0,t())}},AT.setScheduler(MT.UL));var xT,PT,LT,FT,MT,BT=function(){function t(t,n){var r=this;this.qL=!1,this.VL=function(t){r.jL.WD(t.error,r.Iv)},this.HL=function(){r.jL.VD(r.WL),r.kI.removeEventListener("playing",r.HL),r.qL=!1},this.$L=function(){r.qL||(r.kI.addEventListener("playing",r.HL),r.qL=!0)},this.jL=n,this.kI=t,this.kI.addEventListener("error",this.VL),this.kI.addEventListener("sourcechange",this.$L),this.$L()}return t.prototype.pf=function(){},P(t,[{key:"Iv",get:function(){var t=this.kI.currentTime;return"number"==typeof t&&isFinite(t)?t:"now"}},{key:"WL",get:function(){return this.kI.src||""}}]),t}();CT(function(t){new BT(t.ja,t._L)});var UT,qT,VT="theoplayer-stored-volume",jT="theoplayer-stored-mutedstate";UT=function(t){return function(t){function n(n,r){var i;if(i=t.call(this,n,r)||this,r.persistVolume){var e=vT.VP(VT);(void 0===e||g(e))&&(e=1);var u=vT.jP(jT)||!1;i.Mv=e,i.Av=u}return i}Gt(n,t);var r=n.prototype;return r.Kx=function(n){this.wg.persistVolume&&vT.oa(jT,n),t.prototype.Kx.call(this,n)},r.vP=function(n){this.wg.persistVolume&&vT.oa(VT,n),t.prototype.vP.call(this,n)},n}(t)},qT=_T.ML,(RT[qT]||(RT[qT]=[])).push(UT);var HT=new(function(){function t(){this.zL=[],this.Va=void 0}var n=t.prototype;return n.lf=function(t){return this.zL[t]},n.XL=function(t){this.zL.push(t),this.ja.push(t.ja)},n.Io=function(t){var n=this.zL.indexOf(t);n<0||(Jn(this.zL,n),this.Va&&Jn(this.Va,n))},n.GL=function(t){for(var n=0,r=this.zL;n<r.length;n++){var i=r[n];if(i.Af===t)return i}},P(t,[{key:"mf",get:function(){return this.zL.length}},{key:"ja",get:function(){return this.Va||(this.Va=function(t){for(var n=[],r=0;r<t.mf;r++)n[r]=t.lf(r).ja;return n.getPlayerByUID=function(n){var r=t.GL(n);return r&&r.ja},n}(this)),this.Va}}]),t}());var WT,$T=function(t){function n(n){var r;return(r=t.call(this,Po.Uh)||this).source=n,r}return Gt(n,t),n}(_r),zT=function(t){function n(){var n;return(n=t.call(this)||this).YL=0,n.KL=!0,n.JL=!1,n.QL=1,n}Gt(n,t);var r=n.prototype;return r.ei=function(){this.KL&&(this.KL=!1,this.Es(new Xo(this.Iv)),this.Es(new Iw(this.Iv)))},r.ui=function(){this.KL||(this.KL=!0,this.Es(new Ho(this.Iv,this.yl)),this.Es(new Yo(this.Iv)))},r.pf=function(){this.YL=0,this.JL=!1,this.QL=1,this.ui(),this.Es(new Go(this.YL))},r.ai=function(){this.Ds()},r.sl=function(){},r.ul=function(){},r.Gf=function(t){this.Rs("emptied",t),this.Rs("pause",t),this.Rs("play",t),this.Rs("seeking",t),this.Rs("timeupdate",t),this.Rs("waiting",t)},r.Yf=function(t){this.Cs("emptied",t),this.Cs("pause",t),this.Cs("play",t),this.Cs("seeking",t),this.Cs("timeupdate",t),this.Cs("waiting",t)},P(n,[{key:"yl",get:function(){},set:function(t){}},{key:"Iv",get:function(){return this.YL},set:function(t){this.YL!==t&&(this.YL=t,this.JL=!0,this.Es(new qo(this.Iv)))}},{key:"Ov",get:function(){return this.KL}},{key:"xv",get:function(){return this.QL},set:function(t){this.QL!==t&&(this.QL=t,this.Es(new Wo(this.Iv,this.xv)))}},{key:"Hf",get:function(){return Ao.rh}},{key:"Pv",get:function(){return this.JL}}]),n}(gr),XT=function(t){function n(){return t.call(this,Po.wh)||this}return Gt(n,t),n}(_r),GT={zIndex:"1",display:"inline-block",verticalAlign:"middle",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"contain",cursor:"pointer",margin:"0",padding:"0",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",height:"100%"},YT={visibility:"hidden"},KT={visibility:"visible"},JT=function(){function t(t){var n,r=this;this.ZL=!1,this.tF=function(t){r.ZL=!1,r.nF=t.source&&t.source.poster,r.Do()},this.US=function(){r.ZL=!0,r.sl()},this.kI=t,this.TI(),this.fI=((n=S&&S.document&&S.document.createElement("div")).className="theoplayer-poster",oe(GT,n),n),t.gl.appendChild(this.fI)}var n=t.prototype;return n.Do=function(){var t=this.kI.Ov,n=this.ZL;this.kd?this.fI.style.backgroundImage='url("'+this.kd.replace(/[\\"]/g,function(t){return"\\"+t})+'")':this.fI.style.backgroundImage="",t&&this.kd&&!n?this.ul():this.sl()},n.ul=function(){oe(YT,this.kI.gl),oe(KT,this.fI)},n.sl=function(){oe(YT,this.fI),oe(KT,this.kI.gl)},n.TI=function(){this.kI.Rs("sourcechange",this.tF),this.kI.Rs("play",this.US)},n.ai=function(){this.kI.Cs("sourcechange",this.tF),this.kI.Cs("play",this.US),se(this.fI)},P(t,[{key:"kd",get:function(){return void 0!==this.nF?this.nF:void 0!==this.rF?this.rF:void 0}},{key:"iF",set:function(t){this.rF=t,this.Do()}}]),t}();function QT(t){return function(n){function r(r,i){var e;return(e=n.call(this,r)||this).eF=function(t){t.type!==Po.Ch&&e.uF.push(t)},e.sF=new t(r,i),e.oF=new zT,e.kI=e.sF,e.cF=new JT(Kt(e)),e.vS=new vd,e.aF=!1,e.uF=[],e.lI=!0,e.dI=void 0,e.TI(),e}Gt(r,n);var i=r.prototype;return i.vT=function(){var t=D.coroutine(vn.mark(function t(n,r){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.vS.vT(n,r).catch(sr));case 1:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),i.fF=function(){var t=D.coroutine(vn.mark(function t(n,r){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return er(r),this.sF.Gf(this.eF),t.next=4,this.sF.Jd(n,r);case 4:this.sF.Yf(this.eF);case 5:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),i.hF=function(){var t=D.coroutine(vn.mark(function t(){var n,r,i;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((n=this.Kd())&&!Kf(n)&&this.Hd&&this.Ov){t.next=3;break}return t.abrupt("return");case 3:return r=n.mutedAutoplay||this.wg.mutedAutoplay,t.next=6,this.AL.hi();case 6:i=t.sent,t.t0=i,t.next="all"===t.t0?10:"muted"===t.t0?12:14;break;case 10:return this.vF(),t.abrupt("break",14);case 12:return(this.Av||r===sc.ALL)&&(this.Av=!0,this.ei()),t.abrupt("break",14);case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Jd=function(t){var n=this,r=this.dI;r&&!Kf(r)&&this.Es(new Go(0,0)),this.pf(),this.dI=t,hr(this.vT(function(){var r=D.coroutine(vn.mark(function r(i){return vn.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return er(i),r.prev=1,r.next=4,n.fF(t,i);case 4:r.next=10;break;case 6:throw r.prev=6,r.t0=r.catch(1),n.dI=void 0,r.t0;case 10:return r.next=12,n.dF();case 12:case"end":return r.stop()}},r,null,[[1,6]])}));return function(t){return r.apply(this,arguments)}}()))},i.dF=function(){var t=D.coroutine(vn.mark(function t(){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.lF(this.sF),this.Es(new $T(this.Kd())),t.next=4,this.hF();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.jx=function(t){this.kI.Iv=t},i.zx=function(){return this.sF.Bs},i.Xx=function(){return this.sF.Nv},i.ei=function(){this.kI.ei()},i.vF=function(){this.Av||this.vi(),this.ei()},i.vi=function(){this.sF.vi()},i.ui=function(){this.kI.ui()},i.Yd=function(){this.Jd(void 0)},i.ul=function(){this.lI=!0,this.kI.ul()},i.sl=function(){this.lI=!1,this.kI.sl()},i.NL=function(){this.sF.NL()},i.vP=function(t){this.sF.vP(t)},i.Kx=function(t){this.sF.Kx(t)},i.wF=function(t){this.yF=t,t.XL(this)},i.wv=function(){return this.sF.wv()},i.Kd=function(){return this.dI},i.ol=function(){return this.sF.ol()},i.Vx=function(){return this.sF.Iv},i.Hx=function(){return this.sF.Dv},i.Mx=function(){return this.sF.wl},i.nP=function(){return this.sF.Rl},i.uP=function(){return this.sF.Dl},i.pf=function(){var t=this;this.dI=void 0,Zn(this.uF),this.oF.pf(),this.lF(this.oF),this.vS.gs(),hr(this.vS.vT(function(){var n=D.coroutine(vn.mark(function n(r){return vn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return er(r),n.next=3,t.sF.pf();case 3:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}()))},i.ai=function(){var t=this;this.Es(new XT),this.cF.ai(),this.EI(),this.pf(),hr(this.vT(D.coroutine(vn.mark(function n(){return vn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.sF.ai();case 2:t.yF&&(t.yF.Io(t),t.yF=void 0),t.vS.ai();case 4:case"end":return n.stop()}},n)})))),this.Ds()},i.lF=function(t){if(this.kI!==t){var n=this.kI.Ov,r=this.kI.Iv,i=this.kI.xv;this.EI(),t===this.sF?(t.Iv!==r&&(t.Iv=r),t.xv!==i&&(t.xv=i),n?t.ui():t.ei()):this.wg.retainPlaybackRateOnSourceChange?t.xv=i:1!==i&&this.Es(new Wo(this.Vx(),1)),this.kI=t,this.TI();for(var e=0,u=this.uF;e<u.length;e++){var s=u[e];this.Es(s)}Zn(this.uF),this.lI?t.ul():t.sl()}},i.TI=function(){this.kI.Gf(this.Ts)},i.EI=function(){this.kI.Yf(this.Ts)},i.Ha=function(){return t=this,i=function(n){r=n;var i=oh(n,t.wg);t.Jd(i)},e={get abr(){return t.pL.ja},get audioTracks(){return t.$d.ja},get autoplay(){return t.Hd},set autoplay(n){t.Hd=Boolean(n)},get buffered(){return t.Mx()},get canvas(){return t.SL.ja},get clip(){return t.bL.ja},get currentProgramDateTime(){var n;return null!==(n=t.yl)&&void 0!==n?n:null},set currentProgramDateTime(n){t.yl=null!=n?n:void 0},get currentTime(){return t.Vx()},set currentTime(n){t.jx(Number(n))},get duration(){return t.Hx()},get element(){return t.gl},get ended(){return t.Cv},get error(){return t.zx()},get errorObject(){return t.Xx()},get loop(){return t.IP.IP},set loop(n){t.IP.IP=Boolean(n)},get metrics(){return t.Fd.ja},get muted(){return t.Av},set muted(n){t.Kx(n)},get network(){return t.PL.ja},get paused(){return t.Ov},get playbackRate(){return t.xv},set playbackRate(n){var r=Number(n);if(r<0)throw new RangeError("playbackRate must be a positive number");t.xv=r},get played(){return t.nP()},get poster(){return t.gF},set poster(n){t.gF=fo(n)},get preload(){return t.Il},set preload(n){t.Il=n},get presentation(){return t.IL.ja},get readyState(){return t.Hf},get seekable(){return t.uP()},get seeking(){return t.Pv},get source(){return r},set source(t){i(t)},get src(){return Qf(t.Kd())},set src(t){i({sources:t})},get textTracks(){return t.Xd.ja},get textTrackStyle(){return t.LL.ja},get uid(){return t.Af},get videoHeight(){return t.Lv},get videoTracks(){return t.zd.ja},get videoWidth(){return t.Fv},get volume(){return t.Mv},set volume(n){t.vP(Number(n))},destroy:function(){t.ai(),t=null,r=void 0},play:function(){t.vF()},pause:function(){t.ui()},stop:function(){r=void 0,t.Yd()},prepareWithUserAction:function(){t.vi()},addEventListener:function(t,r){n.Rs(t,r)},removeEventListener:function(t,r){n.Cs(t,r)},setSource:function(t){i(t)}},(n=new Qo(e,!0)).Yh(t),e;var t,n,r,i,e},P(r,[{key:"_L",get:function(){return this.sF._L}},{key:"SL",get:function(){return this.sF.SL}},{key:"wg",get:function(){return this.sF.wg}},{key:"wL",get:function(){return this.sF.wL}},{key:"cE",get:function(){return this.sF.cE}},{key:"jR",get:function(){return this.sF.RL}},{key:"IL",get:function(){return this.sF.IL}},{key:"kL",get:function(){return this.sF.kL}},{key:"NP",get:function(){return this.sF.NP}},{key:"pL",get:function(){return this.sF.pL}},{key:"Hd",get:function(){return this.sF.Hd},set:function(t){this.sF.Hd=t,this.hF()}},{key:"AL",get:function(){return this.sF.AL}},{key:"$d",get:function(){return this.sF.$d}},{key:"OL",get:function(){return this.sF.OL}},{key:"xL",get:function(){return this.sF.kL}},{key:"ja",get:function(){return this.Va||(this.Va=this.Ha()),this.Va}},{key:"Gd",get:function(){return this.sF.Gd}},{key:"Fd",get:function(){return this.sF.Fd}},{key:"PL",get:function(){return this.sF.PL}},{key:"Xd",get:function(){return this.sF.Xd}},{key:"LL",get:function(){return this.sF.LL}},{key:"zd",get:function(){return this.sF.zd}},{key:"bL",get:function(){return this.sF.bL}},{key:"IP",get:function(){return this.sF.IP}},{key:"yl",get:function(){return this.kI.yl},set:function(t){this.kI.yl=t}},{key:"dl",get:function(){return this.sF.dl}},{key:"gl",get:function(){return this.sF.gl}},{key:"Cv",get:function(){return this.sF.Cv}},{key:"Av",get:function(){return this.sF.Av},set:function(t){this.sF.Av=t}},{key:"Ov",get:function(){return this.kI.Ov}},{key:"gF",get:function(){return this.cF.kd||""},set:function(t){this.cF.iF=t}},{key:"xv",get:function(){return this.sF.xv},set:function(t){this.kI.xv=t}},{key:"Il",get:function(){return this.sF.Il},set:function(t){this.sF.Il=$w(t)}},{key:"Hf",get:function(){return this.kI.Hf}},{key:"Pv",get:function(){return this.kI.Pv}},{key:"Af",get:function(){return this.sF.Af}},{key:"Lv",get:function(){return this.sF.Lv}},{key:"Fv",get:function(){return this.sF.Fv}},{key:"Mv",get:function(){return this.sF.Mv},set:function(t){this.sF.Mv=t}}]),r}(No)}function ZT(t,n){var r=bc(n),i=new(WT||(WT=IT(WT=QT(ET),_T.FL),WT=IT(WT,_T.ML)),WT)(t,r),e=i.ja;return i.NL(),i.wF(HT),d.defineProperty(e,"constructor",{value:ZT}),e=to(e),function(t){for(var n=0;n<DT.length;n++)(0,DT[n])(t)}(i),e}fr(function(){t.dispatchEvent&&t.dispatchEvent(OT("theoplayerready"))});var tE={base64:new(function(){function t(){}var n=t.prototype;return n.encode=function(t){return xr(t)},n.decode=function(t){return Ar(t)},t}())},nE=HT.ja,rE=Da.Hl.registerContentProtectionIntegration.bind(Da.Hl),iE=function(){},eE=function(){function t(){this.internalDict={},this.uidCounter=0}var n=t.prototype;return n.register=function(t){return this.internalDict[this.uidCounter]=t,this.uidCounter++},n.get=function(t){return this.internalDict[t]},n.remove=function(t){delete this.internalDict[t]},t}(),uE=k(function(t,n){function r(t,n){var r=[],i=[];return null==n&&(n=function(t,n){return r[0]===n?"[Circular ~]":"[Circular ~."+i.slice(0,r.indexOf(n)).join(".")+"]"}),function(e,u){if(r.length>0){var s=r.indexOf(this);~s?r.splice(s+1):r.push(this),~s?i.splice(s,1/0,e):i.push(e),~r.indexOf(u)&&(u=n.call(this,e,u))}else r.push(u);return null==t?u:t.call(this,e,u)}}(t.exports=function(t,n,i,e){return JSON.stringify(t,r(n,e),i)}).getSerialize=r});function sE(t,n){return void 0!==n&&null!=n&&"function"==typeof n.start&&"function"==typeof n.end&&"number"==typeof n.length?function(t){for(var n=[],r=0;r<t.length;r++)n[r]={start:t.start(r),end:t.end(r)};return n}(n):n}function oE(t){return JSON.stringify(t,uE.getSerialize(sE))}var cE,aE=k(function(t,n){d.defineProperty(n,"__esModule",{value:!0}),n.CHAR="\t\n\r -\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",n.S=" \t\r\n",n.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u");var r=9,i=10,e=13,u=32;function s(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}n.S_LIST=[u,i,e,r],n.isChar=function(t){return t>=u&&t<=55295||t===i||t===e||t===r||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isS=function(t){return t===u||t===i||t===e||t===r},n.isNameStartChar=s,n.isNameChar=function(t){return s(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),fE=k(function(t,n){d.defineProperty(n,"__esModule",{value:!0}),n.CHAR="\x01-\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",n.RESTRICTED_CHAR="\x01-\b\v\f\x0e-\x1f\x7f-\x84\x86-\x9f",n.S=" \t\r\n",n.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.RESTRICTED_CHAR_RE=new RegExp("^["+n.RESTRICTED_CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u");var r=9,i=10,e=13,u=32;function s(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}n.S_LIST=[u,i,e,r],n.isChar=function(t){return t>=1&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isRestrictedChar=function(t){return t>=1&&t<=8||11===t||12===t||t>=14&&t<=31||t>=127&&t<=132||t>=134&&t<=159},n.isCharAndNotRestricted=function(t){return 9===t||10===t||13===t||t>31&&t<127||133===t||t>159&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isS=function(t){return t===u||t===i||t===e||t===r},n.isNameStartChar=s,n.isNameChar=function(t){return s(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),hE=k(function(t,n){function r(t){return t>=65&&t<=90||95===t||t>=97&&t<=122||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}d.defineProperty(n,"__esModule",{value:!0}),n.NC_NAME_START_CHAR="A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NC_NAME_CHAR="-"+n.NC_NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.NC_NAME_START_CHAR_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]$","u"),n.NC_NAME_CHAR_RE=new RegExp("^["+n.NC_NAME_CHAR+"]$","u"),n.NC_NAME_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]["+n.NC_NAME_CHAR+"]*$","u"),n.isNCNameStartChar=r,n.isNCNameChar=function(t){return r(t)||45===t||46===t||t>=48&&t<=57||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),vE=k(function(t,n){d.defineProperty(n,"__esModule",{value:!0});var r=aE.isS,i=aE.isChar,e=aE.isNameStartChar,u=aE.isNameChar,s=aE.S_LIST,o=aE.NAME_RE,c=fE.isChar,a=hE.isNCNameStartChar,f=hE.isNCNameChar,v=hE.NC_NAME_RE;const l="http://www.w3.org/XML/1998/namespace",y="http://www.w3.org/2000/xmlns/",g={__proto__:null,xml:l,xmlns:y},p={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},_=-1,m=-2,k=0,b=1,T=2,E=3,S=4,R=5,I=6,D=7,C=8,N=9,A=10,O=11,x=12,P=13,L=14,F=15,M=16,B=17,U=18,q=19,V=20,j=21,H=22,W=23,$=24,z=25,X=26,G=27,Y=28,K=29,J=30,Q=31,Z=32,tt=33,nt=34,rt=35,it=36,et=37,ut=38,st=39,ot=40,ct=41,at=42,ft=43,ht=44,vt=9,dt=10,lt=13,wt=32,yt=33,gt=38,pt=45,_t=47,mt=59,kt=60,bt=61,Tt=62,Et=63,St=91,Rt=93,It=133,Dt=8232,Ct=t=>34===t||39===t,Nt=[34,39],At=[...Nt,St,Tt],Ot=[...Nt,kt,Rt],xt=[bt,Et,...s],Pt=[...s,Tt,gt,kt];function Lt(t,n,r){switch(n){case"xml":r!==l&&t.fail(`xml prefix must be bound to ${l}.`);break;case"xmlns":r!==y&&t.fail(`xmlns prefix must be bound to ${y}.`)}switch(r){case y:t.fail(""===n?`the default namespace may not be set to ${r}.`:`may not assign a prefix (even "xmlns") to the URI ${y}.`);break;case l:switch(n){case"xml":break;case"":t.fail(`the default namespace may not be set to ${r}.`);break;default:t.fail("may not assign the xml namespace to another prefix.")}}}const Ft=t=>v.test(t),Mt=t=>o.test(t),Bt=0,Ut=1,qt=2;n.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const Vt={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};n.SaxesParser=class{constructor(t){this.opt=null!=t?t:{},this.fragmentOpt=!!this.opt.fragment;const n=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=!1!==this.opt.position,this.fileName=this.opt.fileName,n){this.nameStartCheck=a,this.nameCheck=f,this.isName=Ft,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=d.assign({__proto__:null},g);const t=this.opt.additionalNamespaces;null!=t&&(function(t,n){for(const r of d.keys(n))Lt(t,r,n[r])}(this,t),d.assign(this.ns,t))}else this.nameStartCheck=e,this.nameCheck=u,this.isName=Mt,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this.vc}_init(){var t;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=Bt,this.attribList=[];const{fragmentOpt:n}=this;this.state=n?P:k,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=n,this.xmlDeclPossible=!n,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:r}=this.opt;if(void 0===r){if(!0===this.opt.forceXMLVersion)throw new h("forceXMLVersion set but defaultXMLVersion is not set");r="1.0"}this.setXMLVersion(r),this.positionAtNewLine=0,this.doctype=!1,this.vc=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=d.create(p),null===(t=this.readyHandler)||void 0===t||t.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(t,n){this[Vt[t]]=n}off(t){this[Vt[t]]=void 0}makeError(t){var n;let r=null!==(n=this.fileName)&&void 0!==n?n:"";return this.trackPosition&&(r.length>0&&(r+=":"),r+=`${this.line}:${this.column}`),r.length>0&&(r+=": "),new h(r+t)}fail(t){const n=this.makeError(t),r=this.errorHandler;if(void 0===r)throw n;return r(n),this}write(t){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let n=!1;null===t?(n=!0,t=""):"object"==typeof t&&(t=t.toString()),void 0!==this.carriedFromPrevious&&(t=`${this.carriedFromPrevious}${t}`,this.carriedFromPrevious=void 0);let r=t.length;const i=t.charCodeAt(r-1);!n&&(i===lt||i>=55296&&i<=56319)&&(this.carriedFromPrevious=t[r-1],r--,t=t.slice(0,r));const{stateTable:e}=this;for(this.chunk=t,this.i=0;this.i<r;)e[this.state].call(this);return this.chunkPosition+=r,n?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return _;const r=t.charCodeAt(n);if(this.column++,r<55296){if(r>=wt||r===vt)return r;switch(r){case dt:return this.line++,this.column=0,this.positionAtNewLine=this.position,dt;case lt:return t.charCodeAt(n+1)===dt&&(this.i=n+2),this.line++,this.column=0,this.positionAtNewLine=this.position,m;default:return this.fail("disallowed character."),r}}if(r>56319)return r>=57344&&r<=65533||this.fail("disallowed character."),r;const i=65536+1024*(r-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,i>1114111&&this.fail("disallowed character."),i}getCode11(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return _;const r=t.charCodeAt(n);if(this.column++,r<55296){if(r>31&&r<127||r>159&&r!==Dt||r===vt)return r;switch(r){case dt:return this.line++,this.column=0,this.positionAtNewLine=this.position,dt;case lt:{const r=t.charCodeAt(n+1);r!==dt&&r!==It||(this.i=n+2)}case It:case Dt:return this.line++,this.column=0,this.positionAtNewLine=this.position,m;default:return this.fail("disallowed character."),r}}if(r>56319)return r>=57344&&r<=65533||this.fail("disallowed character."),r;const i=65536+1024*(r-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,i>1114111&&this.fail("disallowed character."),i}getCodeNorm(){const t=this.getCode();return t===m?dt:t}unget(){this.i=this.prevI,this.column--}captureTo(t){let{i:n}=this;const{chunk:r}=this;for(;;){const i=this.getCode(),e=i===m,u=e?dt:i;if(u===_||t.includes(u))return this.text+=r.slice(n,this.prevI),u;e&&(this.text+=`${r.slice(n,this.prevI)}\n`,n=this.i)}}captureToChar(t){let{i:n}=this;const{chunk:r}=this;for(;;){let i=this.getCode();switch(i){case m:this.text+=`${r.slice(n,this.prevI)}\n`,n=this.i,i=dt;break;case _:return this.text+=r.slice(n),!1}if(i===t)return this.text+=r.slice(n,this.prevI),!0}}captureNameChars(){const{chunk:t,i:n}=this;for(;;){const r=this.getCode();if(r===_)return this.name+=t.slice(n),_;if(!u(r))return this.name+=t.slice(n,this.prevI),r===m?dt:r}}skipSpaces(){for(;;){const t=this.getCodeNorm();if(t===_||!r(t))return t}}setXMLVersion(t){this.currentXMLVersion=t,"1.0"===t?(this.isChar=i,this.getCode=this.getCode10):(this.isChar=c,this.getCode=this.getCode11)}sBegin(){65279===this.chunk.charCodeAt(0)&&(this.i++,this.column++),this.state=b}sBeginWhitespace(){const t=this.i,n=this.skipSpaces();switch(this.prevI!==t&&(this.xmlDeclPossible=!1),n){case kt:if(this.state=F,0!==this.text.length)throw new h("no-empty text at start");break;case _:break;default:this.unget(),this.state=P,this.xmlDeclPossible=!1}}sDoctype(){var t;const n=this.captureTo(At);switch(n){case Tt:null===(t=this.doctypeHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=P,this.doctype=!0;break;case _:break;default:this.text+=String.fromCodePoint(n),n===St?this.state=S:Ct(n)&&(this.state=E,this.q=n)}}sDoctypeQuote(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.q=null,this.state=T)}sDTD(){const t=this.captureTo(Ot);t!==_&&(this.text+=String.fromCodePoint(t),t===Rt?this.state=T:t===kt?this.state=I:Ct(t)&&(this.state=R,this.q=t))}sDTDQuoted(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.state=S,this.q=null)}sDTDOpenWaka(){const t=this.getCodeNorm();switch(this.text+=String.fromCodePoint(t),t){case yt:this.state=D,this.openWakaBang="";break;case Et:this.state=O;break;default:this.state=S}}sDTDOpenWakaBang(){const t=String.fromCodePoint(this.getCodeNorm()),n=this.openWakaBang+=t;this.text+=t,"-"!==n&&(this.state="--"===n?C:S,this.openWakaBang="")}sDTDComment(){this.captureToChar(pt)&&(this.text+="-",this.state=N)}sDTDCommentEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),this.state=t===pt?A:C}sDTDCommentEnded(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===Tt?this.state=S:(this.fail("malformed comment."),this.state=C)}sDTDPI(){this.captureToChar(Et)&&(this.text+="?",this.state=x)}sDTDPIEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===Tt&&(this.state=S)}sText(){0!==this.tags.length?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:t}=this;const{chunk:n}=this;t:for(;;)switch(this.getCode()){case m:this.entity+=`${n.slice(t,this.prevI)}\n`,t=this.i;break;case mt:{const{entityReturnState:r}=this,i=this.entity+n.slice(t,this.prevI);let e;this.state=r,""===i?(this.fail("empty entity name."),e="&;"):(e=this.parseEntity(i),this.entity=""),r===P&&void 0===this.textHandler||(this.text+=e);break t}case _:this.entity+=n.slice(t);break t}}sOpenWaka(){const t=this.getCode();if(e(t))this.state=nt,this.unget(),this.xmlDeclPossible=!1;else switch(t){case _t:this.state=ft,this.xmlDeclPossible=!1;break;case yt:this.state=M,this.openWakaBang="",this.xmlDeclPossible=!1;break;case Et:this.state=W;break;default:this.fail("disallowed character in tag name"),this.state=P,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=V,this.openWakaBang="";break;case"--":this.state=B,this.openWakaBang="";break;case"DOCTYPE":this.state=T,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(pt)&&(this.state=U)}sCommentEnding(){var t;const n=this.getCodeNorm();n===pt?(this.state=q,null===(t=this.commentHandler)||void 0===t||t.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(n)}`,this.state=B)}sCommentEnded(){const t=this.getCodeNorm();t!==Tt?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(t)}`,this.state=B):this.state=P}sCData(){this.captureToChar(Rt)&&(this.state=j)}sCDataEnding(){const t=this.getCodeNorm();t===Rt?this.state=H:(this.text+=`]${String.fromCodePoint(t)}`,this.state=V)}sCDataEnding2(){var t;const n=this.getCodeNorm();switch(n){case Tt:null===(t=this.cdataHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=P;break;case Rt:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(n)}`,this.state=V}}sPIFirstChar(){const t=this.getCodeNorm();this.nameStartCheck(t)?(this.piTarget+=String.fromCodePoint(t),this.state=$):t===Et||r(t)?(this.fail("processing instruction without a target."),this.state=t===Et?X:z):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(t),this.state=$)}sPIRest(){const{chunk:t,i:n}=this;for(;;){const i=this.getCodeNorm();if(i===_)return void(this.piTarget+=t.slice(n));if(!this.nameCheck(i)){this.piTarget+=t.slice(n,this.prevI);const e=i===Et;e||r(i)?"xml"===this.piTarget?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=e?tt:G):this.state=e?X:z:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(i));break}}}sPIBody(){if(0===this.text.length){const t=this.getCodeNorm();t===Et?this.state=X:r(t)||(this.text=String.fromCodePoint(t))}else this.captureToChar(Et)&&(this.state=X)}sPIEnding(){var t;const n=this.getCodeNorm();if(n===Tt){const{piTarget:n}=this;"xml"===n.toLowerCase()&&this.fail("the XML declaration must appear at the start of the document."),null===(t=this.piHandler)||void 0===t||t.call(this,{target:n,body:this.text}),this.piTarget=this.text="",this.state=P}else n===Et?this.text+="?":(this.text+=`?${String.fromCodePoint(n)}`,this.state=z);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const t=this.skipSpaces();t!==Et?t!==_&&(this.state=Y,this.name=String.fromCodePoint(t)):this.state=tt}sXMLDeclName(){const t=this.captureTo(xt);if(t===Et)return this.state=tt,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(r(t)||t===bt){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=t===bt?J:K}}sXMLDeclEq(){const t=this.getCodeNorm();if(t===Et)return this.state=tt,void this.fail("XML declaration is incomplete.");r(t)||(t!==bt&&this.fail("value required."),this.state=J)}sXMLDeclValueStart(){const t=this.getCodeNorm();if(t===Et)return this.state=tt,void this.fail("XML declaration is incomplete.");r(t)||(Ct(t)?this.q=t:(this.fail("value must be quoted."),this.q=wt),this.state=Q)}sXMLDeclValue(){const t=this.captureTo([this.q,Et]);if(t===Et)return this.state=tt,this.text="",void this.fail("XML declaration is incomplete.");if(t===_)return;const n=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const t=n;this.xmlDecl.version=t,/^1\.[0-9]+$/.test(t)?this.opt.forceXMLVersion||this.setXMLVersion(t):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(n)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=n;break;case"standalone":"yes"!==n&&"no"!==n&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=n}this.name="",this.state=Z}sXMLDeclSeparator(){const t=this.getCodeNorm();t!==Et?(r(t)||(this.fail("whitespace required."),this.unget()),this.state=G):this.state=tt}sXMLDeclEnding(){var t;this.getCodeNorm()===Tt?("xml"!==this.piTarget?this.fail("processing instructions are not allowed before root."):"version"!==this.name&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),null===(t=this.xmldeclHandler)||void 0===t||t.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=P):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var t;const n=this.captureNameChars();if(n===_)return;const i=this.tag={name:this.name,attributes:d.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=i.ns=d.create(null)),null===(t=this.openTagStartHandler)||void 0===t||t.call(this,i),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),n){case Tt:this.openTag();break;case _t:this.state=rt;break;default:r(n)||this.fail("disallowed character in tag name."),this.state=it}}sOpenTagSlash(){this.getCode()===Tt?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=it)}sAttrib(){const t=this.skipSpaces();t!==_&&(e(t)?(this.unget(),this.state=et):t===Tt?this.openTag():t===_t?this.state=rt:this.fail("disallowed character in attribute name."))}sAttribName(){const t=this.captureNameChars();t===bt?this.state=st:r(t)?this.state=ut:t===Tt?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):t!==_&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const t=this.skipSpaces();switch(t){case _:return;case bt:this.state=st;break;default:this.fail("attribute without value."),this.text="",this.name="",t===Tt?this.openTag():e(t)?(this.unget(),this.state=et):(this.fail("disallowed character in attribute name."),this.state=it)}}sAttribValue(){const t=this.getCodeNorm();Ct(t)?(this.q=t,this.state=ot):r(t)||(this.fail("unquoted attribute value."),this.state=at,this.unget())}sAttribValueQuoted(){const{q:t,chunk:n}=this;let{i:r}=this;for(;;)switch(this.getCode()){case t:return this.pushAttrib(this.name,this.text+n.slice(r,this.prevI)),this.name=this.text="",this.q=null,void(this.state=ct);case gt:return this.text+=n.slice(r,this.prevI),this.state=L,void(this.entityReturnState=ot);case dt:case m:case vt:this.text+=`${n.slice(r,this.prevI)} `,r=this.i;break;case kt:return this.text+=n.slice(r,this.prevI),void this.fail("disallowed character.");case _:return void(this.text+=n.slice(r))}}sAttribValueClosed(){const t=this.getCodeNorm();r(t)?this.state=it:t===Tt?this.openTag():t===_t?this.state=rt:e(t)?(this.fail("no whitespace between attributes."),this.unget(),this.state=et):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const t=this.captureTo(Pt);switch(t){case gt:this.state=L,this.entityReturnState=at;break;case kt:this.fail("disallowed character.");break;case _:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",t===Tt?this.openTag():this.state=it}}sCloseTag(){const t=this.captureNameChars();t===Tt?this.closeTag():r(t)?this.state=ht:t!==_&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case Tt:this.closeTag();break;case _:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:t,forbiddenState:n}=this;const{chunk:r,textHandler:i}=this;t:for(;;)switch(this.getCode()){case kt:if(this.state=F,void 0!==i){const{text:n}=this,e=r.slice(t,this.prevI);0!==n.length?(i(n+e),this.text=""):0!==e.length&&i(e)}n=Bt;break t;case gt:this.state=L,this.entityReturnState=P,void 0!==i&&(this.text+=r.slice(t,this.prevI)),n=Bt;break t;case Rt:switch(n){case Bt:n=Ut;break;case Ut:n=qt;break;case qt:break;default:throw new h("impossible state")}break;case Tt:n===qt&&this.fail('the string "]]>" is disallowed in char data.'),n=Bt;break;case m:void 0!==i&&(this.text+=`${r.slice(t,this.prevI)}\n`),t=this.i,n=Bt;break;case _:void 0!==i&&(this.text+=r.slice(t));break t;default:n=Bt}this.forbiddenState=n}handleTextOutsideRoot(){let{i:t}=this;const{chunk:n,textHandler:i}=this;let e=!1;t:for(;;){const u=this.getCode();switch(u){case kt:if(this.state=F,void 0!==i){const{text:r}=this,e=n.slice(t,this.prevI);0!==r.length?(i(r+e),this.text=""):0!==e.length&&i(e)}break t;case gt:this.state=L,this.entityReturnState=P,void 0!==i&&(this.text+=n.slice(t,this.prevI)),e=!0;break t;case m:void 0!==i&&(this.text+=`${n.slice(t,this.prevI)}\n`),t=this.i;break;case _:void 0!==i&&(this.text+=n.slice(t));break t;default:r(u)||(e=!0)}}e&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(t,n){var r;const{prefix:i,local:e}=this.qname(t),u={name:t,prefix:i,local:e,value:n};if(this.attribList.push(u),null===(r=this.attributeHandler)||void 0===r||r.call(this,u),"xmlns"===i){const t=n.trim();"1.0"===this.currentXMLVersion&&""===t&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[e]=t,Lt(this,e,t)}else if("xmlns"===t){const t=n.trim();this.topNS[""]=t,Lt(this,"",t)}}pushAttribPlain(t,n){var r;const i={name:t,value:n};this.attribList.push(i),null===(r=this.attributeHandler)||void 0===r||r.call(this,i)}end(){var t,n;this.sawRoot||this.fail("document must contain a root element.");const{tags:r}=this;for(;r.length>0;){const t=r.pop();this.fail(`unclosed tag: ${t.name}`)}this.state!==k&&this.state!==P&&this.fail("unexpected end.");const{text:i}=this;return 0!==i.length&&(null===(t=this.textHandler)||void 0===t||t.call(this,i),this.text=""),this.vc=!0,null===(n=this.endHandler)||void 0===n||n.call(this),this._init(),this}resolve(t){var n,r;let i=this.topNS[t];if(void 0!==i)return i;const{tags:e}=this;for(let n=e.length-1;n>=0;n--)if(void 0!==(i=e[n].ns[t]))return i;return void 0!==(i=this.ns[t])?i:null===(r=(n=this.opt).resolvePrefix)||void 0===r?void 0:r.call(n,t)}qname(t){const n=t.indexOf(":");if(-1===n)return{prefix:"",local:t};const r=t.slice(n+1),i=t.slice(0,n);return(""===i||""===r||r.includes(":"))&&this.fail(`malformed name: ${t}.`),{prefix:i,local:r}}processAttribsNS(){var t;const{attribList:n}=this,r=this.tag;{const{prefix:n,local:i}=this.qname(r.name);r.prefix=n,r.local=i;const e=r.uri=null!==(t=this.resolve(n))&&void 0!==t?t:"";""!==n&&("xmlns"===n&&this.fail('tags may not have "xmlns" as prefix.'),""===e&&(this.fail(`unbound namespace prefix: ${JSON.stringify(n)}.`),r.uri=n))}if(0===n.length)return;const{attributes:i}=r,e=new Set;for(const t of n){const{name:n,prefix:r,local:u}=t;let s,o;""===r?(s="xmlns"===n?y:"",o=n):(void 0===(s=this.resolve(r))&&(this.fail(`unbound namespace prefix: ${JSON.stringify(r)}.`),s=r),o=`{${s}}${u}`),e.has(o)&&this.fail(`duplicate attribute: ${o}.`),e.add(o),t.uri=s,i[n]=t}this.attribList=[]}processAttribsPlain(){const{attribList:t}=this,n=this.tag.attributes;for(const{name:r,value:i}of t)void 0!==n[r]&&this.fail(`duplicate attribute: ${r}.`),n[r]=i;this.attribList=[]}openTag(){var t;this.processAttribs();const{tags:n}=this,r=this.tag;r.isSelfClosing=!1,null===(t=this.openTagHandler)||void 0===t||t.call(this,r),n.push(r),this.state=P,this.name=""}openSelfClosingTag(){var t,n,r;this.processAttribs();const{tags:i}=this,e=this.tag;e.isSelfClosing=!0,null===(t=this.openTagHandler)||void 0===t||t.call(this,e),null===(n=this.closeTagHandler)||void 0===n||n.call(this,e),null===(this.tag=null!==(r=i[i.length-1])&&void 0!==r?r:null)&&(this.closedRoot=!0),this.state=P,this.name=""}closeTag(){const{tags:t,name:n}=this;if(this.state=P,this.name="",""===n)return this.fail("weird empty close tag."),void(this.text+="</>");const r=this.closeTagHandler;let i=t.length;for(;i-- >0;){const i=this.tag=t.pop();if(this.topNS=i.ns,null==r||r(i),i.name===n)break;this.fail("unexpected close tag.")}0===i?this.closedRoot=!0:i<0&&(this.fail(`unmatched closing tag: ${n}.`),this.text+=`</${n}>`)}parseEntity(t){if("#"!==t[0]){const n=this.ENTITIES[t];return void 0!==n?n:(this.fail(this.isName(t)?"undefined entity.":"disallowed character in entity name."),`&${t};`)}let n=NaN;return"x"===t[1]&&/^#x[0-9a-f]+$/i.test(t)?n=w(t.slice(2),16):/^#[0-9]+$/.test(t)&&(n=w(t.slice(1),10)),this.isChar(n)?String.fromCodePoint(n):(this.fail("malformed character entity."),`&${t};`)}}}),dE=function(){function t(){}return t.prototype.Ze=function(t){var n=new vE.SaxesParser({xmlns:!0,defaultXMLVersion:"1.0",forceXMLVersion:!0}),r=new mE,i=[r];function e(t){i[i.length-1].lu(t)}return n.on("text",function(t){i.length>1&&e(new pE(t))}),n.on("cdata",function(t){e(new _E(t))}),n.on("opentag",function(t){for(var n=t.local,r=t.uri,u=t.prefix,s=new yE({iu:n,uu:""===r?void 0:r,pF:""===u?void 0:u}),o=t.attributes,c=0,a=d.keys(o);c<a.length;c++){var f=o[a[c]],h=f.prefix,v=f.local,l=f.uri,w=f.value,y=new lE({iu:v,ou:w,uu:""===l?void 0:l,pF:""===h?void 0:h});s._F(y)}e(s),i.push(s)}),n.on("closetag",function(){i.pop()}),n.on("error",function(t){throw new Zt(t)}),n.write(t).close(),r},t}(),lE=function(){function t(t){this.mF=t.iu,this.En=t.ou,this.kF=t.uu,this.bF=t.pF}var n=t.prototype;return n.nu=function(t){return this===t||!!bE(this,t)&&(this.mF===t.mF&&this.kF===t.kF&&this.bF===t.bF&&this.En===t.En)},n.ru=function(){return new t({iu:this.iu,ou:this.ou,uu:this.uu,pF:this.su})},P(t,[{key:"Xe",get:function(){return Xt.Ye}},{key:"iu",get:function(){return this.mF}},{key:"eu",get:function(){return void 0===this.bF?this.mF:this.bF+":"+this.mF}},{key:"uu",get:function(){return this.kF}},{key:"su",get:function(){return this.bF}},{key:"ou",get:function(){return this.En}}]),t}(),wE=function(){function t(){this.cu=[]}var n=t.prototype;return n.fu=function(t){return this.cu.filter(function(n){return kE(n)&&n.vu===t})},n.du=function(t,n){return this.cu.filter(function(r){return kE(r)&&r.iu===n&&r.uu===t})},n.lu=function(t){this.cu.push(t)},P(t,[{key:"hu",get:function(){return this.cu}},{key:"yu",get:function(){return this.cu.filter(kE)}}]),t}(),yE=function(t){function n(n){var r;return(r=t.call(this)||this).TF=[],r.mF=n.iu,r.kF=n.uu,r.bF=n.pF,r}Gt(n,t);var r=n.prototype;return r.EF=function(t){for(var n=0,r=this.hu;n<r.length;n++){var i=r[n];kE(i)?i.EF(t):t.push(i.Su)}},r.pu=function(t,n){for(var r=0,i=this.TF;r<i.length;r++){var e=i[r];if(e.iu===n&&e.uu===t)return e.ou}},r.gu=function(t){for(var n=0,r=this.TF;n<r.length;n++){var i=r[n];if(i.eu===t)return i.ou}},r._F=function(t){this.TF.push(t)},r._u=function(t){for(var n=0;n<this.TF.length;n++)if(this.TF[n].eu===t)return void this.TF.splice(n,1)},r.mu=function(t,n){for(var r=0;r<this.TF.length;r++)if(this.TF[r].iu===n&&this.TF[r].uu===t)return void this.TF.splice(r,1)},r.ku=function(t,n){this._u(t),this._F(new lE({iu:t,ou:n}))},r.bu=function(t,n,r){this._u(n);var i=n.split(":");this._F(new lE({iu:i[i.length-1],ou:r,uu:t,pF:i.length>1?i[0]:void 0}))},r.ru=function(t){var r=new n({iu:this.iu,uu:this.uu,pF:this.su});return this.Tu.forEach(function(t){return r._F(t.ru())}),t&&this.hu.forEach(function(n){return r.lu(n.ru(t))}),r},r.nu=function(t){return this===t||!!bE(this,t)&&(this.mF===t.mF&&this.bF===t.bF&&this.kF===t.kF&&(TE(this.Tu,t.Tu)&&TE(this.hu,t.hu)))},P(n,[{key:"Xe",get:function(){return Xt.Ge}},{key:"Tu",get:function(){return this.TF}},{key:"iu",get:function(){return this.mF}},{key:"uu",get:function(){return this.kF}},{key:"su",get:function(){return this.bF}},{key:"vu",get:function(){return void 0===this.bF?this.mF:this.bF+":"+this.mF}},{key:"Eu",get:function(){var t=[];return this.EF(t),t.join("")}}]),n}(wE),gE=function(){function t(t){this.Kr=t}return P(t,[{key:"Su",get:function(){return this.Kr}}]),t}(),pE=function(t){function n(n){return t.call(this,n)||this}Gt(n,t);var r=n.prototype;return r.ru=function(){return new n(this.Su)},r.nu=function(t){return this===t||!!bE(this,t)&&this.Su===t.Su},P(n,[{key:"Xe",get:function(){return Xt.Ke}}]),n}(gE),_E=function(t){function n(n){return t.call(this,n)||this}Gt(n,t);var r=n.prototype;return r.ru=function(){return new n(this.Su)},r.nu=function(t){return this===t||!!bE(this,t)&&this.Su===t.Su},P(n,[{key:"Xe",get:function(){return Xt.Je}}]),n}(gE),mE=function(t){function n(){return t.apply(this,arguments)||this}Gt(n,t);var r=n.prototype;return r.ru=function(t){var r=new n;return t&&this.hu.forEach(function(n){return r.lu(n.ru(t))}),r},r.nu=function(t){return this===t||!!bE(this,t)&&TE(this.hu,t.hu)},P(n,[{key:"Xe",get:function(){return Xt.Qe}},{key:"Ru",get:function(){return this.yu[0]}}]),n}(wE);function kE(t){return Yt(t)}function bE(t,n){return t.Xe===n.Xe}function TE(t,n){if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(!t[r].nu(n[r]))return!1;return!0}function EE(t){return void 0===t.adBreak||void 0===t.adBreak.ads?t:dn(dn({},t),{adBreak:dn(dn({},t.adBreak),{ads:t.adBreak.ads.map(function(t){t.adBreak;return na(t,["adBreak"])})})})}function SE(t){return void 0===t.ads?t:dn(dn({},t),{ads:t.ads.map(function(t){t.adBreak;return na(t,["adBreak"])})})}function RE(t){return"string"==typeof t.date?new Date(t.date):t.date}function IE(t){var n;return t.cue.track?(n=CE(t.cue,t.cue.track.type)).track={uid:t.cue.track.uid}:n=CE(t.cue,""),n}function DE(t){var n=[];return function t(r){if(Array.isArray(r))return r.map(t);if("object"==typeof r&&null!==r){if(n.includes(r))return"[Circular ~]";n.push(r);var i=d.entries(r);return d.fromEntries(i.map(function(r){var i=r[0],e=r[1],u=t(e);return"object"==typeof e&&null!==e&&"[Circular ~]"!==u&&n.pop(e),[i,u]}))}return r}(t)}function CE(t,n){var r={};return r.content=t.content,r.endTime=t.endTime,r.startTime=t.startTime,r.id=t.id,r.uid=t.uid,function(){switch(n){case"webvtt":r.align=t.align,r.line=t.line,r.lineAlign=t.lineAlign,r.position=t.position,r.positionAlign=t.positionAlign,r.region=t.region,r.size=t.size,r.snapToLines=t.snapToLines,r.text=t.text,r.vertical=t.vertical;break;case"ttml":r.content=function t(n){var r=n.children;if(0!==r.length)for(var i=0;i<r.length;i++){var e=r.item(i);return"image"===e.nodeName||"smpte:image"===e.nodeName?e:t(e)}}(t.content).innerHTML;for(var i=t.content,e={};i.firstChild&&i.firstChild.outerHTML;){(new dE).Ze(i.firstChild.outerHTML).Ru.Tu.forEach(function(t){e[t.iu]=t.ou}),i=i.firstChild}r.ttmlAttributes=e;break;case"daterange":var u={};for(var s in t.customAttributes){var o=t.customAttributes[s];if("object"==typeof(a=o)&&null!==a){var c=NE(o);u[s]={type:cE.SF,value:c}}else OE(o)?u[s]={type:cE.RF,value:o}:u[s]={type:cE.IF,value:String(o)}}r.attributedClass=String(t.class),r.startDate=t.startDate,r.endDate=t.endDate,r.duration=t.duration,r.plannedDuration=t.plannedDuration,r.endOnNext=t.endOnNext,r.scte35Cmd=NE(t.scte35Cmd),r.scte35Out=NE(t.scte35Out),r.scte35In=NE(t.scte35In),r.customAttributes=u}var a}(),r}function NE(t){if(void 0!==t)return xr(t)}function AE(t){var n={};if(n.kind=t.kind,n.language=t.language,n.label=t.label,n.id=t.id,n.uid=t.uid,n.src=t.src,"cues"in t){n.inBandMetadataTrackDispatchType=t.inBandMetadataTrackDispatchType,n.mode=t.mode,n.type=t.type;var r=[];if(t.cues)for(var i=0;i<t.cues.length;i++){var e=t.cues[i];r.push(CE(e,t.type))}n.cues=r;var u=[];if(t.activeCues)for(var s=0;s<t.activeCues.length;s++){var o=t.activeCues[s];u.push(CE(o,t.type))}n.activeCues=u}else"enabled"in t&&(n.enabled=t.enabled);return n}function OE(t){return"number"==typeof t}!function(t){t.IF="daterange-ca-type_string",t.RF="daterange-ca-type_number",t.SF="daterange-ca-type_arraybuffer"}(cE||(cE={}));var xE={cue:function(t){var n={};switch(n.date=RE(t),n.type=t.type,t.type){case"enter":case"exit":case"update":n.cue=IE(t)}return n},textTrack:function(t){var n={};switch(n.date=RE(t),n.type=t.type,t.type){case"addcue":t.cue.uid||(t.cue.uid=ME().register(t.cue));var r=FE()[BE()].eventListeners;t.cue.addEventListener("enter",function(t){r.InternalCueHelperEvent(t)}),t.cue.addEventListener("exit",function(t){r.InternalCueHelperEvent(t)}),t.cue.addEventListener("update",function(t){r.InternalCueHelperEvent(t)});case"removecue":case"entercue":case"exitcue":n.cue=IE(t);break;case"cuechange":for(var i=[],e=0;e<t.track.activeCues.length;e++){var u=t.track.activeCues[e];i.push(CE(u,t.track.type))}n.track={activeCues:i,uid:t.track.uid}}return n},textTrackList:function(t){var n={};switch(n.date=RE(t),n.type=t.type,t.type){case"addtrack":t.track.cues&&t.track.cues.length&&t.track.cues.length>0&&t.track.cues.map(function(t){t.uid=ME().register(t)}),n.track=AE(t.track);case"removetrack":case"change":n.track=AE(t.track)}return n},default:function(t){var n={};switch(n.date=RE(t),n.type=t.type,t.type){case"play":case"playing":case"pause":case"seeking":case"seeked":case"ended":case"waiting":case"emptied":n.currentTime=t.currentTime;break;case"timeupdate":n.currentTime=t.currentTime,n.currentProgramDateTime=t.currentProgramDateTime;break;case"progress":n.currentTime=t.currentTime;break;case"ratechange":n.currentTime=t.currentTime,n.playbackRate=t.playbackRate;break;case"durationchange":n.duration=t.duration;break;case"sourcechange":n.source=t.source;break;case"readystatechange":case"loadedmetadata":case"loadeddata":case"loadstart":case"canplay":case"canplaythrough":n.currentTime=t.currentTime,n.readyState=t.readyState;break;case"error":n.error=t.error,n.errorObject=dn({name:t.errorObject.name,cause:t.errorObject.cause},t.errorObject);break;case"addtrack":case"removetrack":case"change":n.track=AE(t.track);break;case"adbreakbegin":case"adbreakend":n.ad=SE(t.ad);break;case"adloaded":case"adimpression":n.ad=EE(t.ad);break;case"aderror":t.DF&&(n.DF=t.DF),t.message&&(n.message=t.message);break;case"statechange":n.state=t.state;break;case"presentationmodechange":case"resize":break;case"adfirstquartile":case"admidpoint":case"adthirdquartile":case"adbegin":case"adend":n.currentTime=t.currentTime,n.ad=EE(t.ad)}return DE(n)},minimizeCueHelper:function(t){var n={};return n.date=RE(t),n.type=t.type,n.cue=IE(t),n.track={uid:t.cue.track.uid},n},adReplacer:EE,adBreakReplacer:SE,removeCircularReferences:DE},PE=function(){this.stringify=oE,this.minimize=xE};function LE(){return S.self}function FE(){return LE().THEOplayerBridge}function ME(){return LE().THEOCueMirrorMap}function BE(){return LE().THEOplayerGlobalID}function UE(){var t=LE();if(t.THEOplayerBridge){var n=new iE;t.THEOplayerBridge=ro(n,t.THEOplayerBridge)}else t.THEOplayerBridge=new iE;t.THEOplayerUtils||(t.THEOplayerUtils=new PE),t.THEOCueMirrorMap||(t.THEOCueMirrorMap=new eE)}UE();var qE=function(t){function n(){return t.apply(this,arguments)||this}return Gt(n,t),n.prototype.Ze=function(t){var n,r=new DOMParser;try{n=r.parseFromString(t,"text/xml")}catch(t){throw new Zt(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new Zt;return new VE(n)},n}(tn),VE=function(t){function n(){return t.apply(this,arguments)||this}return Gt(n,t),n.prototype.ru=function(t){return new n(this.au.cloneNode(t))},P(n,[{key:"hu",get:function(){return void 0===this.cu&&(this.cu=WE(this.au.childNodes)),this.cu}},{key:"Ru",get:function(){return new jE(this.au.documentElement)}}]),n}(cn),jE=function(t){function n(){return t.apply(this,arguments)||this}return Gt(n,t),n.prototype.ru=function(t){var r=new n(this.au.cloneNode(t));return r.Tu.length<1&&this.Tu.length>0&&this.Tu.forEach(function(t){r.ku(t.eu,t.ou)}),r},P(n,[{key:"hu",get:function(){return void 0===this.cu&&(this.cu=WE(this.au.childNodes)),this.cu}}]),n}(en);function HE(t){switch(t.nodeType){case Xt.Ge:return new jE(t)}return fn(t)}function WE(t){for(var n=[],r=0;r<t.length;r++){var i=HE(t.item(r));i&&n.push(i)}return n}L(new(function(t){function n(){var n;return(n=t.apply(this,arguments)||this).CF=new qE,n}return Gt(n,t),n.prototype.Ze=function(t){return this.CF.Ze(t)},n}(qs)));var $E=function(t){function n(n){var r;(r=t.call(this)||this).NF=[],r.AF=function(t){r.wf(t.Wa)},r.OF=function(t){var n=t.Wa;r.xF(n)||r.yf(n)};for(var i=0;i<n.length;i++){var e=n[i];r.PF(e)}return r}Gt(n,t);var r=n.prototype;return r.PF=function(t){this.NF.push(t);for(var n=0,r=t._f;n<r.length;n++){var i=r[n];this.wf(i)}this.LF(t)},r.FF=function(t){Kn(this.NF,t),this.MF(t);for(var n=0,r=t._f;n<r.length;n++){var i=r[n];this.xF(i)||this.yf(i)}},r.xF=function(t){for(var n=0,r=this.NF;n<r.length;n++){if(r[n].gf(t))return!0}return!1},r.LF=function(t){t.Rs(Ms.Ma,this.AF),t.Rs(Ms.Ua,this.OF)},r.MF=function(t){t.Cs(Ms.Ma,this.AF),t.Cs(Ms.Ua,this.OF)},r.ai=function(){for(;this.NF.length>0;)this.FF(this.NF[0]);t.prototype.ai.call(this)},r.Ha=function(){return So(this)},n}(Ks),zE=function(t){function n(n,r){var i;return(i=t.call(this,n)||this).type=n,i.detail=r,i}return Gt(n,t),n}(_r),XE=function(t){function n(){return t.apply(this,arguments)||this}Gt(n,t);var r=n.prototype;return r.dispatchEvent=function(t,n){this.Es(new zE(t,n))},r.addEventListener=function(t,n){this.Rs(t,n)},r.removeEventListener=function(t,n){this.Cs(t,n)},n}(No);function GE(t,n){return t.Pm<=n&&t.Lm>n}function YE(t,n){return function(t,n){return Cf(t.Pm,n.Pm,Ch)}(t,n)||function(t,n){return Cf(t.Lm,n.Lm,Ch)}(t,n)}function KE(t,n){var r=function(t,n,r,i,e,u,s){void 0===e&&(e=!1),void 0===u&&(u=0),void 0===s&&(s=t.length);for(var o=u,c=s-1;o<=c;){var a=o+(c-o>>1),f=i(r(t[a]),n);if(f<0)o=a+1;else if(f>0)c=a-1;else{if(!(e&&a>u&&0===i(r(t[a-1]),n)))return a;c=a-1}}return~o}(t,n,et,YE,!0);if(r<0)return r;for(;r<t.length&&YE(n,t[r])===Sf.n_;r++)if(t[r].S_(n))return r;return-(r+1)}function JE(t){var n=t.Wa;if(!n)return-1;if(t instanceof Nh)return n.BF(t);var r=n.Wf;if(!r)return-1;var i=KE(r._f,t);return i>=0?i:-1}var QE=function(t){function n(n,r){var i;return(i=t.call(this,kh.Am,n)||this).Gk=r,i}return Gt(n,t),n.prototype.Ha=function(){return new ZE(this.xm.ja)},n}(Sh),ZE=function(t){function n(n){return t.call(this,bh.Am,n)||this}return Gt(n,t),n}(Rh),tS=function(t){function n(n,r){var i;return(i=t.call(this,kh.Om,n)||this).Gk=r,i}return Gt(n,t),n.prototype.Ha=function(){return new nS(this.xm.ja)},n}(Sh),nS=function(t){function n(n){return t.call(this,bh.Om,n)||this}return Gt(n,t),n}(Rh),rS=function(t){function n(n){var r;return(r=t.call(this,Hs.Ya)||this).xm=n,r}return Gt(n,t),n.prototype.Ha=function(){return new iS(this.xm.ja)},n}(Ws),iS=function(t){function n(n){var r;return(r=t.call(this,"entercue")||this).cue=n,r}return Gt(n,t),n}($s),eS=function(t){function n(n){var r;return(r=t.call(this,Hs.Ja)||this).xm=n,r}return Gt(n,t),n.prototype.Ha=function(){return new uS(this.xm.ja)},n}(Ws),uS=function(t){function n(n){var r;return(r=t.call(this,"exitcue")||this).cue=n,r}return Gt(n,t),n}($s),sS=function(t){function n(n){var r;return(r=t.call(this,Hs.Za)||this).Wa=n,r}return Gt(n,t),n.prototype.Ha=function(){return new oS(this.Wa.ja)},n}(Ws),oS=function(t){function n(n){var r;return(r=t.call(this,"cuechange")||this).track=n,r}return Gt(n,t),n}($s);function cS(t,n){return Df(t.Gk,n.Gk)||function(t,n){return t.Wa===n.Wa?If(JE(t),JE(n)):td(t.Wa,n.Wa)}(t.xm,n.xm)||function(t,n){return t===n?Sf.n_:t===kh.Am?Sf.i_:Sf.r_}(t.type,n.type)}var aS=function(){function t(t,n){var r=this;this.Vd=[],this.UF=0,this.qF=0,this.VF=[],this.jF=!1,this.HF=!1,this.WF=void 0,this.zF=function(){r.UF=0,r.XF(),r.GF()},this.YF=function(){r.XF(),r.GF()},this.KF=function(){r.HF=!0,r.WF=r.kI.Iv,r.JF()},this.QF=function(){r.XF(),r.GF()},this.ZF=function(){r.tM(),r.XF(),r.GF()},this.nM=function(){r.rM()},this.iM=function(t){Kn(r.VF,t.xm),r.rM()},this.eM=n,this.kI=t,t.Rs(Po.qh,this.YF),t.Rs(Po.Ih,this.YF),t.Rs(Io.nh,this.YF),t.Rs(Po.Rh,this.YF),t.Rs(Po.xh,this.KF),t.Rs(Po.Oh,this.QF),this.rM()}var n=t.prototype;return n.pf=function(){Zn(this.VF);for(var t=0,n=this.Vd.slice();t<n.length;t++){var r=n[t];this.yf(r)}this.JF(),this.UF=0,this.qF=0,this.jF=!1,this.HF=!1,this.WF=void 0},n.wf=function(t){Qn(this.Vd,t)||(this.Vd.push(t),t.Rs(Hs.$a,this.nM),t.Rs(Hs.Xa,this.iM),t.Rs(Hs.nf,this.ZF),t.Wf.mf&&this.rM(),this.tM())},n.yf=function(t){if(Kn(this.Vd,t)){if(t.Cs(Hs.$a,this.nM),t.Cs(Hs.Xa,this.iM),t.Cs(Hs.nf,this.ZF),t.Wf.mf){for(var n=0,r=t.Wf._f;n<r.length;n++){var i=r[n];Kn(this.VF,i)}this.rM()}this.tM()}},n.tM=function(){this.jF=this.Vd.some(function(t){return t.Uf!==_o.jf})},n.GF=function(){this.kI.Pv||this.kI.Ov?this.JF():this.rM()},n.rM=function(){this.jF&&(this.UF||(this.UF=this.eM.UL(this.zF)))},n.JF=function(){this.UF&&(this.eM.uM(this.UF),this.UF=0)},n.XF=function(){var t;if(this.jF&&!this.kI.Pv){var n=this.Vd,r=this.qF,i=null!==(t=this.WF)&&void 0!==t?t:this.kI.Iv,e=i-r<-.1,u=this.HF||e;u&&i>r&&i-r<.1&&(u=!1),this.HF=!1,this.WF=void 0;for(var s,o=[],c=0;c<n.length;c++){var a=n[c];if(a.Uf!==_o.jf){a.sM(i,u);for(var f=0,h=a.$f._f;f<h.length;f++){var v=h[f];o.push(v)}}}if(u)s=this.VF;else{s=[];for(var d=0;d<n.length;d++){var w=n[d];w.Uf!==_o.jf&&Zv(w,r-1/6,i,s)}}for(var y=s.length-1;y>=0;y--)Qn(o,s[y])&&Jn(s,y);var g=[];if(!u)for(var p=s.length-1;p>=0;p--){var _=s[p];_.Pm>=r&&_.Lm<=i&&(g.push(_),Jn(s,p))}for(var m=[],k=[],b=0;b<g.length;b++){var T=g[b];T.$m||m.push(new QE(T,T.Pm)),m.push(new tS(T,l.max(T.Pm,T.Lm)))}for(var E=0,S=s;E<S.length;E++){var R=S[E];R.$m&&(m.push(new tS(R,l.max(R.Pm,R.Lm))),R.$m=!1)}for(var I=0;I<o.length;I++){var D=o[I];D.$m||(m.push(new QE(D,D.Pm)),D.$m=!0)}m.sort(cS);for(var C=0;C<m.length;C++){var N=m[C],A=N.xm;A.Es(N);var O=A.Wa;O&&(N.type===kh.Am?O.Es(new rS(A)):O.Es(new eS(A)),Qn(k,O)||k.push(O))}k.sort(td);for(var x=0;x<k.length;x++){var P=k[x];P.Es(new sS(P))}this.qF=i,this.VF=o}},n.ai=function(){this.pf(),this.kI.Cs(Po.qh,this.YF),this.kI.Cs(Po.Ih,this.YF),this.kI.Cs(Io.nh,this.YF),this.kI.Cs(Po.Rh,this.YF),this.kI.Cs(Po.xh,this.KF),this.kI.Cs(Po.Oh,this.QF)},t}(),fS=new(function(){function t(){}var n=t.prototype;return n.UL=function(t){return bb(t)},n.uM=function(t){Tb(t)},t}()),hS=function(t){function n(n,r){return void 0===r&&(r=fS),t.call(this,n,r)||this}return Gt(n,t),n}(aS),vS=function(t){function n(){return t.call(this,Po.kh)||this}return Gt(n,t),n}(_r),dS=function(t){function n(n){var r;return(r=t.call(this,Po.Dh)||this).currentTime=n,r}return Gt(n,t),n}(_r),lS=function(t){function n(n,r){var i;return(i=t.call(this)||this).oM=function(t){i.aM.cM("THEOplayerABRSetTargetBuffer",t.mx),i.Es(t)},i.fM=function(t){i.aM.cM("THEOplayerABRSetStrategy",t.bx),i.Es(t)},i.aM=n,i.hM=r,i.hM.Rs("kx",i.oM),i.hM.Rs("Tx",i.fM),i}return Gt(n,t),P(n,[{key:"Cx",get:function(){var t;switch(this.bx.type){case Bb.PERFORMANCE:return 1;case Bb.QUALITY:return 0;case Bb.BANDWIDTH:return(null===(t=this.bx.metadata)||void 0===t?void 0:t.bitrate)&&!g(this.bx.metadata.bitrate)?this.bx.metadata.bitrate:0;default:return 0}}},{key:"ja",get:function(){return this.hM.ja}},{key:"bx",get:function(){return this.hM.bx},set:function(t){this.hM.bx=t}},{key:"mx",get:function(){return this.hM.mx},set:function(t){this.hM.mx=t}},{key:"Ex",get:function(){return this.hM.Ex},set:function(t){this.hM.Ex=t}}]),n}(gr),wS=function(t){function n(){return t.apply(this,arguments)||this}return Gt(n,t),n.prototype.pS=function(t,n,r,i){return!0},n}(dw),yS=function(){function t(t){this.Va=void 0,this.vM=t}var n=t.prototype;return n.Ha=function(){return function(t){for(var n=[],r=0;r<t.mf;r++)n[r]=t.zs(r).ja;return n.item=function(n){var r=0|n,i=t.zs(r);return i&&i.ja||void 0},d.defineProperty(n,"constructor",{value:Dh}),n}(this)},n.pm=function(t){for(var n=this.vM,r=n.length-1;r>=0;r-=1){var i=n[r];if(t.S_(i))return!0}return!1},n.zs=function(t){return this.vM[t]},P(t,[{key:"_f",get:function(){return this.vM}},{key:"mf",get:function(){return this.vM.length}},{key:"ja",get:function(){if(this.Va){var t=this.vM;this.Va.length=t.length;for(var n=0;n<t.length;n++)this.Va[n]=t[n].ja}else this.Va=this.Ha();return this.Va}}]),t}(),gS=function(t){function n(n,r){var i;return(i=t.call(this,Hs.if)||this).Wa=n,i.Hf=r,i}return Gt(n,t),n.prototype.Ha=function(){return new pS(this.Wa.ja,Ro(this.Hf))},n}(Ws),pS=function(t){function n(n,r){var i;return(i=t.call(this,"readystatechange")||this).track=n,i.readyState=r,i}return Gt(n,t),n}($s),_S=function(t){function n(n){var r;return(r=t.call(this,Hs.uf)||this).Wa=n,r}return Gt(n,t),n.prototype.Ha=function(){return new mS(this.Wa.ja)},n}(Ws),mS=function(t){function n(n){var r;return(r=t.call(this,"typechange")||this).track=n,r}return Gt(n,t),n}($s),kS=function(t){function n(n){var r;return(r=t.call(this,Hs.$a)||this).xm=n,r}return Gt(n,t),n.prototype.Ha=function(){return new bS(this.xm.ja)},n}(Ws),bS=function(t){function n(n){var r;return(r=t.call(this,"addcue")||this).cue=n,r}return Gt(n,t),n}($s),TS=function(t){function n(n){var r;return(r=t.call(this,Hs.Xa)||this).xm=n,r}return Gt(n,t),n.prototype.Ha=function(){return new ES(this.xm.ja)},n}(Ws),ES=function(t){function n(n){var r;return(r=t.call(this,"removecue")||this).cue=n,r}return Gt(n,t),n}($s),SS=function(t){function n(n,r,i,e,u,s){var o;return(o=t.call(this)||this).bm=String(RS++),o.km=dh(),o.dM=!1,o.ev=_o.jf,o.lM=_h.NONE,o.wM=void 0,o.vM=[],o.yM=[],o.gM=0,o.pM=0,o._M=s||"",o.mM=n,o.kM=i||"",o.dM=Boolean(e),o.Dc=u||yf.DEFAULT,o.Tm=r||"",o.bM=new yS(o.vM),o.TM=new yS(o.yM),o}Gt(n,t);var r=n.prototype;return r.EM=function(t){return Yn(this.bM._f,function(n){return n.Nf===t})},r.Ha=function(){return To(this)},r.vv=function(t){var n=function(t){if("string"==typeof t){var n=t.toLowerCase();switch(n){case _o.jf:case _o.Vf:case _o.qf:return n}}else if("number"==typeof t)switch(t){case 0:return _o.jf;case 1:return _o.Vf;case 2:return _o.qf}return _o.jf}(t);n!==this.Uf&&(this.ev=n,n===_o.jf&&(this.yM.forEach(function(t){t.$m=!1}),Zn(this.yM),this.pM=0))},r.eT=function(t){if(t&&!t.Wa){var n=KE(this.Wf._f,t);if(!(n>=0)){t.Wa=this;var r=-(n+1);this.vM.splice(r,0,t),this.SM(r),t.qm=r,r<this.pM&&(this.pM=r),this.Es(new kS(t))}}},r.RM=function(t){if(t&&t.Wa===this){var n=this.BF(t);if(!(n<0)){t.$m=!1;var r=this.yM,i=KE(r,t);i>=0&&Jn(r,i),Jn(this.vM,n),this.SM(n),t.qm=-1,this.pM>n&&--this.pM,this.Es(new TS(t))}}},r.sM=function(t,n){var r=this.yM,i=this.vM,e=this.pM,u=!1;n&&(e=0);for(var s=r.length-1;s>=0;s--){GE(r[s],t)||(u=!0,Jn(r,s))}for(;e<i.length&&i[e].Pm<=t;){var o=i[e];GE(o,t)&&!Qn(r,o)&&(u=!0,r.push(o)),e++}u&&Xn(r,YE),this.pM=e},r.BF=function(t){return(-1===t.qm||t.qm>=this.gM)&&this.IM(),t.qm},r.IM=function(){for(var t=this.vM,n=this.gM;n<t.length;n++)t[n].qm=n;this.gM=t.length},r.SM=function(t){t<this.gM&&(this.gM=t)},r.ai=function(){this.Ds();for(var t=this.vM.slice(),n=0;n<t.length;n++){t[n].ai()}Zn(this.vM),Zn(this.yM)},P(n,[{key:"$f",get:function(){return this.TM}},{key:"Wf",get:function(){return this.bM}},{key:"sT",get:function(){return this.dM},set:function(t){this.dM=t}},{key:"ja",get:function(){return this.Va||(this.Va=this.Ha()),this.Va}},{key:"Nf",get:function(){return this.bm}},{key:"Af",get:function(){return this.km}},{key:"Bf",get:function(){return this._M},set:function(t){this._M=t}},{key:"Of",get:function(){return this.mM}},{key:"xf",get:function(){return this.Tm},set:function(t){t!==this.Tm&&(this.Tm=t,this.Es(new fh(this)))}},{key:"Pf",get:function(){return this.kM}},{key:"Uf",get:function(){return this.ev},set:function(t){this.vv(t),this.Es(new Js(this))}},{key:"Hf",get:function(){return this.lM},set:function(t){this.lM!==t&&(this.lM=t,this.Es(new gS(this,this.lM)))}},{key:"zf",get:function(){return this.wM},set:function(t){this.wM=t}},{key:"Uu",get:function(){return this.Dc},set:function(t){this.Dc!==t&&(this.Dc=t,this.Es(new _S(this)))}}]),n}(gr),RS=0;function IS(t,n,r){for(var i=t[n].Pm,e=n;e>=0&&t[e].Pm===i;e--)t[e].Lm=r}var DS,CS=function(t){function n(n,r){return t.call(this,n,1/0,r,!1)||this}return Gt(n,t),n.prototype.S_=function(n){return this===n||uo(this,n)&&t.prototype.S_.call(this,n)&&(r=n,this.Fm===r.Fm);var r},P(n,[{key:"ja",get:function(){return this.Va||(this.Va=Ih(this)),this.Va}}]),n}(Nh),NS=function(t){function n(n,r,i){return void 0===i&&(i=yf.DEFAULT),t.call(this,Uf.Rw,r||"","",!1,i,n)||this}return Gt(n,t),n}(SS),AS=function(t){function n(n,r){var i;return(i=t.call(this,n,r)||this).Uu=yf.ID3,i}Gt(n,t);var r=n.prototype;return r.eT=function(n){!function(t,n){if(0!==n.length){var r=n.length-1;if(n[r].Pm<t.Pm)IS(n,r,t.Pm);else{var i=n[0];if(i.Pm>t.Pm)t.Lm=i.Pm;else{var e=KE(n,t);if(!(e>=0)){var u=-(e+1),s=u-1;if(s>=0&&n[s].Pm<t.Pm&&IS(n,s,t.Pm),u<n.length){var o=n[u];t.Lm=o.Pm}}}}}}(n,this.vM),t.prototype.eT.call(this,n)},r.Ha=function(){return To(this)},n}(NS),OS={DM:!1,CM:50,NM:!1},xS=function(){function t(t,n,r){this.Po=void 0,this.ec=t,this.Xu=r,this.lc=n}var n=t.prototype;return n.uT=function(t){throw new h("Not implemented yet.")},n.kS=function(){var t=D.coroutine(vn.mark(function t(n,r){var i,e;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Xu.ts(n.qu,r);case 2:return i=t.sent,t.next=5,i.qo();case 5:return e=t.sent,t.next=8,this.AM(e);case 8:return t.abrupt("return",e);case 9:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),n.fs=function(){var t=D.coroutine(vn.mark(function t(){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.AM(void 0);case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.AM=function(){var t=D.coroutine(vn.mark(function t(n){var r;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.OM(n),t.next=3,r;case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.OM=function(){var t=D.coroutine(vn.mark(function t(n){var r;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r=this.Po)){t.next=5;break}return t.next=4,r.Bo(this.lc);case 4:this.Po=void 0;case 5:if(!n){t.next=9;break}return t.next=8,n.Mo(this.lc);case 8:this.Po=n;case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.nT=function(t,n,r){throw new h("Not implemented yet.")},P(t,[{key:"wg",get:function(){return this.ec}},{key:"Il",get:function(){throw new h("Not implemented yet.")},set:function(t){throw new h("Not implemented yet.")}},{key:"Dl",get:function(){throw new h("Not implemented yet.")}},{key:"Xd",get:function(){throw new h("Not implemented yet.")}},{key:"xM",get:function(){throw new h("Not implemented yet")}},{key:"zd",get:function(){throw new h("Not implemented yet.")}},{key:"PM",get:function(){throw new h("Not implemented yet")}},{key:"LM",get:function(){throw new h("Not implemented yet")}}]),t}();!function(t){t.FM="webkitneedkey",t.MM="webkitkeymessage",t.BM="webkitkeyerror"}(DS||(DS={}));var PS,LS,FS,MS,BS,US=function(t){function n(n,r){var i;return(i=t.call(this,DS.FM)||this).initData=n,i.sessionId=r,i}return Gt(n,t),n}(_r),qS=function(t){function n(n,r){var i;return(i=t.call(this,DS.MM)||this).message=n,i.destinationURL=r,i}return Gt(n,t),n}(_r),VS=function(t){function n(){return t.call(this,DS.BM)||this}return Gt(n,t),n}(_r),jS=function(t){function n(n,r,i,e,u){var s;return(s=t.call(this)||this).zo=n,s.vo=r,s.UM=i,s.wc=e,s.sc=u,s.Ko=new Si,s.oc=void 0,s.nc=new Sr,s.ac=new Si,s.qM=function(t){s.oc?(s.oc.co(void 0),s.oc=void 0):s.tc("internal-error"),s.Es(new br)},s.VM=function(t){s.oc&&(s.oc.oo(void 0),s.oc=void 0),s.Es(new kr(Kt(s),"license-request",Ti(t.message).buffer,t.destinationURL||void 0))},s}Gt(n,t);var r=n.prototype;return r.So=function(){var t=D.coroutine(vn.mark(function t(n,r,i){var e;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=i&&i.fairplay&&i.fairplay.fc){t.next=3;break}throw new v("Expected FairPlay contentId to be defined but was "+e+".");case 3:return t.next=5,this.jM(bi(r),e);case 5:this.tc("usable"),this.ac.oo(),this.ac=new Si;case 8:case"end":return t.stop()}},t,this)}));return function(n,r,i){return t.apply(this,arguments)}}(),r.Ro=function(){var t=D.coroutine(vn.mark(function t(n){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.Do=function(){var t=D.coroutine(vn.mark(function t(n){var r;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(r=bi(n)).byteLength){t.next=3;break}throw new v("Cannot call update with an empty response.");case 3:return this.oc=new Si,this.UM.Do(this.wc,r),t.next=7,this.oc.so;case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.bo=function(){var t=D.coroutine(vn.mark(function t(){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.ac;case 2:return this.UM.Cs(DS.MM,this.VM),this.UM.Cs(DS.BM,this.qM),this.ac.gs(),this.Ko.oo(void 0),t.abrupt("return",this.Ko.so);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.Io=function(){var t=D.coroutine(vn.mark(function t(){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),r.jM=function(){var t=D.coroutine(vn.mark(function t(n,r){var i;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=Gi(n,r,this.sc),this.UM.Rs(DS.MM,this.VM),this.UM.Rs(DS.BM,this.qM),this.UM.XT(this.wc,i);case 4:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),r.tc=function(t){this.nc.Ys(),this.nc.Gs(Er,t),this.Es(new mr(this))},P(n,[{key:"xo",get:function(){return this.wc}},{key:"Ao",get:function(){return NaN}},{key:"No",get:function(){return this.Ko.so}},{key:"Oo",get:function(){return this.nc}}]),n}(gr),HS=function(){function t(t,n,r){this.vo=n,this.zo=r,this.HM=void 0,this.wc=void 0,this.sc=void 0,this.UM=t}var r=t.prototype;return r.Lo=function(){var t=D.coroutine(vn.mark(function t(r){var i;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.sc){t.next=2;break}throw new Yi(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return i=new jS(this.zo,this.vo,this.UM,this.wc,this.sc),this.HM=i,t.abrupt("return",i);case 5:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.Fo=function(t){return this.sc=bi(t),D.resolve(!0)},r.Mo=function(){var t=D.coroutine(vn.mark(function t(n){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.webkitSetMediaKeys(this);case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.Bo=function(){var t=D.coroutine(vn.mark(function t(n){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.webkitSetMediaKeys(null);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.createSession=function(){throw new h("Whoops.")},P(t,[{key:"keySystem",get:function(){return this.vo}},{key:"sessionId",set:function(t){this.wc=t}}]),t}(),WS=function(){function t(t,n,r){this.WM=t,this.vo=n,this.ec=r;var i=Ui(r)||"video/mp4";this.zo=qi(i)}var n=t.prototype;return n.Vo=function(){return this.ec},n.qo=function(){var t=D.coroutine(vn.mark(function t(){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new HS(this.WM,this.vo,this.zo));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),P(t,[{key:"jo",get:function(){return this.vo}}]),t}(),$S=function(){function t(t){this.WM=t}return t.prototype.ts=function(){var t=D.coroutine(vn.mark(function t(n,r){var i,e,u;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0;case 1:if(!(i<r.length)){t.next=9;break}if(e=r[i],!(u=Bi(zS,n,e))){t.next=6;break}return t.abrupt("return",new WS(this.WM,n,u));case 6:i++,t.next=1;break;case 9:throw new v("Unsupported key system configuration for "+n);case 10:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),t}();function zS(t,n){return t===An}!function(t){t.Qp="$M"}(PS||(PS={})),function(t){t[t.zM=0]="zM",t[t.XM=1]="XM"}(LS||(LS={})),function(t){t.GM="YM"}(FS||(FS={})),function(t){t[t.KM=0]="KM",t[t.Qv=1]="Qv",t[t.JM=2]="JM"}(MS||(MS={})),function(t){t.QM="ZM"}(BS||(BS={}));var XS;$.Le,Po.Ih,Po.Rh,Po.xh,Po.Oh,Po.ph,Po.Ch,Io.if,mo.Mf,$.Ce||$.Ne;!function(t){t.tB="closed",t.jb="open",t.ph="ended"}(XS||(XS={}));var GS,YS;Io.if,Po.Ih,Po.Rh,Po.xh,Po.Oh,Po.ph,mo.Mf;!function(t){t[t.ISO_8859_1=0]="ISO_8859_1",t[t.UTF16_BOM=1]="UTF16_BOM",t[t.UTF16=2]="UTF16",t[t.UTF8=3]="UTF8"}(GS||(GS={})),function(t){t[t.V22=2]="V22",t[t.V23=3]="V23",t[t.V24=4]="V24"}(YS||(YS={}));var KS=function(t){function n(n){var r;return(r=t.call(this,0,n.Fm)||this).nB=n,r.Lm=r.nB.Pm,r}return Gt(n,t),P(n,[{key:"Nf",get:function(){return this.nB.Nf},set:function(t){this.nB.Nf=t}},{key:"Xm",get:function(){return this.nB.Xm},set:function(t){this.nB.Xm=t}},{key:"zm",get:function(){return this.nB.zm},set:function(t){this.nB.zm=t}}]),n}(CS);function JS(t){return void 0===t.rB&&(t.rB=new KS(t)),t.rB}var QS=function(t){function n(n,r){var i;(i=t.call(this,n.Bf,n.xf)||this).Uu=yf.ID3,i.iB=function(t){i.eB(t.xm)},i.uB=function(t){var n=t.xm;if(void 0!==n.rB){var r=n.rB;n.rB=void 0,i.RM(r),r.ai()}},i.sB=function(t){var n=JS(t.xm);n.$m||i.oB(n),i.cB(n)},i.aB=function(t){var n=t.xm,r=JS(n);i.fB.Iv<n.Pm&&i.oB(r)},i.hB=function(){var t=i.vB,n=i.Uf;if(i.vB=n,n===_o.jf)i.yM.forEach(function(t){return t.$m=!1}),Zn(i.yM);else if(t===_o.jf)for(var r=i.fB.Iv,e=0,u=i.vM;e<u.length;e++){var s=u[e];r<s.Lm&&i.oB(s)}},i.fB=r,i.dB=n,i.vB=n.Uf,n.Rs(Hs.$a,i.iB),n.Rs(Hs.Xa,i.uB),n.Rs(Hs.Ya,i.sB),n.Rs(Hs.Ja,i.aB),n.Rs(Hs.nf,i.hB);for(var e=0,u=i.dB.Wf._f;e<u.length;e++){var s=u[e];i.eB(s)}return i}Gt(n,t);var r=n.prototype;return r.oB=function(t){var n=KE(this.yM,t);if(!(n>=0)){var r=-(n+1);this.yM.splice(r,0,t),t.$m=!0,t.Es(new QE(t,this.fB.Iv)),this.Es(new rS(t)),this.Es(new sS(this))}},r.cB=function(t){var n=KE(this.yM,t);n>=0&&Jn(this.yM,n),t.$m=!1,t.Es(new tS(t,this.fB.Iv)),this.Es(new eS(t)),this.Es(new sS(this))},r.ai=function(){this.dB.Cs(Hs.$a,this.iB),this.dB.Cs(Hs.Xa,this.uB),this.dB.Cs(Hs.Ya,this.sB),this.dB.Cs(Hs.Ja,this.aB),this.dB.Cs(Hs.nf,this.hB),t.prototype.ai.call(this)},r.eB=function(t){var n=JS(t);(this.eT(n),this.Uf!==_o.jf)&&(this.fB.Iv<n.Lm&&this.oB(n))},P(n,[{key:"Of",get:function(){return this.dB.Of}},{key:"xf",get:function(){return this.dB.xf},set:function(t){this.dB.xf=t}},{key:"Pf",get:function(){return this.dB.Pf}},{key:"Nf",get:function(){return this.dB.Nf}},{key:"Af",get:function(){return this.dB.Af}},{key:"Bf",get:function(){return this.dB.Bf}},{key:"Uf",get:function(){return this.dB.Uf},set:function(t){this.dB.Uf=t}},{key:"Hf",get:function(){return this.dB.Hf}},{key:"zf",get:function(){return this.dB.zf}}]),n}(NS),ZS=function(t){function n(n){var r;return(r=t.call(this)||this).fB=n,r}Gt(n,t);var r=n.prototype;return r.wf=function(n){if(n.Uu===yf.ID3){var r=n;return r.rB||(r.rB=new QS(r,this.fB)),t.prototype.wf.call(this,r.rB)}return t.prototype.wf.call(this,n)},r.yf=function(n){if(n.Uu===yf.ID3){var r=n;return!!r.rB&&t.prototype.yf.call(this,r.rB)}return t.prototype.yf.call(this,n)},n}(Do),tR=function(t){function n(n,r){var i;return(i=t.call(this)||this).Qb=n,i.lB=r,i.wB=new mn,i.AF=function(){var t=D.coroutine(vn.mark(function t(n){var r;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((r=n.Wa).Uu){t.next=4;break}return t.next=4,r.Os(Hs.uf);case 4:if(r.Uu===yf.ID3){t.next=6;break}return t.abrupt("return");case 6:if(0!==r.Wf.mf){t.next=11;break}return t.next=9,r.Os(Hs.$a);case 9:t.next=6;break;case 11:i.yB(r);case 12:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.OF=function(t){var n=t.Wa;if(n.Uu===yf.ID3&&i.wB.has(n.Af)){var r=i.wB.get(n.Af);i.yf(r),i.Qb.uT(r),n.Cs(Hs.$a,i.eB)}},i.eB=function(t){nR(t.xm)&&i.gB(t.xm)},i.pB(),i}Gt(n,t);var r=n.prototype;return r.pB=function(){this.lB.Rs(Ms.Ma,this.AF),this.lB.Rs(Ms.Ua,this.OF)},r._B=function(){this.lB.Cs(Ms.Ma,this.AF),this.lB.Cs(Ms.Ua,this.OF)},r.yB=function(t){var n=t.Wf._f[0];if(nR(n)){var r=function(t){var n=t.match(rR);if(!n)return;return{Wa:n[1],Pf:n[2]}}(n.Fm.description),i=r.Wa,e=r.Pf;if(!this.mB(i,e)){var u=this.Qb.nT(Uf.hm,i,e,!1,yf.TTML);this.wf(u),this.wB.set(t.Af,u);for(var s=0,o=t.Wf._f;s<o.length;s++){var c=o[s];nR(c)&&this.gB(c)}t.Rs(Hs.$a,this.eB)}}},r.mB=function(t,n){return!!Yn(this._y._f,function(r){return r.xf===t&&r.Pf===n})},r.gB=function(t){if(t.Wa)for(var n=this.wB.get(t.Wa.Af),r=Mv(t.Fm.text,0,{kb:0,bb:1/0,Tb:-t.Lm}),i=0;i<r.length;i++){var e=r[i];n.eT(e)}},r.pf=function(){var n=D.coroutine(vn.mark(function n(){var r,i,e,u,s;return vn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(r=0,i=this.lB._f;r<i.length;r++)i[r].Cs(Hs.$a,this.eB);for(e=0,u=this._y._f;e<u.length;e++)s=u[e],this.Qb.uT(s);return this.wB.clear(),n.next=5,t.prototype.pf.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),r.ai=function(){var n=D.coroutine(vn.mark(function n(){return vn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this._B(),n.next=3,t.prototype.ai.call(this);case 3:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),n}(Kv);function nR(t){return function(t){return"TXXX"===t.id||"TXX"===t.id}(n=t.Fm)&&rR.test(n.description);var n}var rR=/^Track:(.+),Lang:(.+)$/;$.Ce||$.Ne,$.Te,$.Le,Po.Vh,Po.Ch,Po.xh,Po.Ih,Po.Rh;var iR=function(t){function n(n,r,i){var e;return void 0===i&&(i=new $S(r)),(e=t.call(this)||this).hS=void 0,e.kB=new vd,e.bB=!1,e.uc=null,e.TB={_l:0,ml:0,kl:0,bl:0,Tl:0,El:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},e.EB=function(t){"boolean"==typeof t.detail.casting&&(e.bB=t.detail.casting,e.Es(new Eh(e.bB)))},e.SB=function(t){e.wc=t.sessionId,e.uc&&(e.uc.sessionId=e.wc);var n=t.initData;if(n){var r=function(t){try{var n=_i(t),r=new Ei;return vi(di(Jr(n,r,ni(n,r,!0)),!0))}catch(t){return}}(n);if(!r)return;e.Es(new Tr(En,r))}else e.Es(new Tr(En,new ArrayBuffer(0)))},e.RB=n,e.WM=r,e.WM.Rs(DS.FM,e.SB),e.Xu=i,e.IB(),e}Gt(n,t);var r=n.prototype;return r.DB=function(){var t=D.coroutine(vn.mark(function t(n){var r,i;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<n.length)){t.next=8;break}if((i=n[r]).Uu!==vw.SS){t.next=5;break}return t.abrupt("return",i);case 5:r++,t.next=1;break;case 8:return t.abrupt("return",void 0);case 9:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.fs=function(){var t=D.coroutine(vn.mark(function t(){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.pf();case 2:this.Ds(),this.CB(),this.WM.Cs(DS.FM,this.SB);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.sl=function(){throw new h("Not implemented yet")},r.nT=function(t,n,r,i,e,u){throw new h("Not implemented yet")},r.FR=function(){return!1},r.UR=function(t,n,r,i){throw new h("Not implemented yet")},r.uT=function(t){throw new h("Not implemented yet")},r.Ro=function(){var t=D.coroutine(vn.mark(function t(n){var r=this;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.kB.vT(function(){var t=D.coroutine(vn.mark(function t(i){var e;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.Uu!==vw.SS){t.next=7;break}return er(i),e=new xS(n,r,r.Xu),r.hS=e,t.abrupt("return",e);case 7:throw new h("Could not create non-static media source");case 8:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.ui=function(){throw new h("Not implemented yet")},r.ei=function(){throw new h("Not implemented yet")},r.pf=function(){var t=this;return this.kB.gs(),this.kB.vT(D.coroutine(vn.mark(function n(){return vn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0===t.hS){n.next=4;break}return n.next=3,t.hS.fs();case 3:t.hS=void 0;case 4:case"end":return n.stop()}},n)})))},r.Zs=function(t,n){throw new h("Not implemented yet")},r.$R=function(t){throw new h("Not implemented yet")},r.ul=function(){throw new h("Not implemented yet")},r.zR=function(){return this.TB},r.IB=function(){this.RB.addEventListener("airPlayIsCasting",this.EB)},r.CB=function(){this.RB.removeEventListener("airPlayIsCasting",this.EB)},r.webkitSetMediaKeys=function(t){this.uc=t||null,this.uc&&(this.uc.sessionId=this.wc)},r.NB=function(){},r.AB=function(){throw new h("Not implemented yet")},r.OB=function(){throw new h("Not implemented yet")},r.xB=function(t){},P(n,[{key:"yl",get:function(){throw new h("Not implemented yet")}},{key:"ER",get:function(){throw new h("The mediaElement_ property is deprecated")}},{key:"wl",get:function(){throw new h("Not implemented yet")}},{key:"Iv",get:function(){throw new h("Not implemented yet")}},{key:"xL",get:function(){throw new h("Not implemented yet")}},{key:"Dv",get:function(){throw new h("Not implemented yet")}},{key:"Cv",get:function(){throw new h("Not implemented yet")}},{key:"Bs",get:function(){throw new h("Not implemented yet")}},{key:"Fy",get:function(){throw new h("Not implemented yet")}},{key:"pl",get:function(){return this.bB}},{key:"Av",get:function(){throw new h("Not implemented yet")}},{key:"Ov",get:function(){throw new h("Not implemented yet")}},{key:"xv",get:function(){throw new h("Not implemented yet")}},{key:"Rl",get:function(){throw new h("Not implemented yet")}},{key:"Hf",get:function(){throw new h("Not implemented yet")}},{key:"Dl",get:function(){throw new h("Not implemented yet")}},{key:"Pv",get:function(){throw new h("Not implemented yet")}},{key:"PB",get:function(){throw new h("Not implemented yet")}},{key:"Mv",get:function(){throw new h("Not implemented yet")},set:function(t){throw new h("Not implemented yet")}},{key:"ea",get:function(){throw new h("Not implemented yet")}},{key:"jR",get:function(){throw new h("Not implemented yet")}},{key:"webkitKeys",get:function(){return this.uc}},{key:"LB",get:function(){return OS}},{key:"Xd",get:function(){throw new h("Not implemented yet")}},{key:"XR",get:function(){throw new h("Not implemented yet")}},{key:"FB",get:function(){return!0}}]),n}(Co),eR=function(t){function n(n){var r;return(r=t.call(this,Po.Wh)||this).TB=n,r}return Gt(n,t),n}(_r);var uR=function(t){function n(n){return t.call(this,kh.cf,n)||this}return Gt(n,t),n.prototype.Ha=function(){return new sR(this.xm.ja)},n}(Sh),sR=function(t){function n(n){return t.call(this,bh.cf,n)||this}return Gt(n,t),n}(Rh),oR=function(t){function n(n,r){var i,e=cR(r,n.Dv,n.XR,n.MB);return(i=t.call(this,r,e,void 0,!1,n.Nf)||this).BB=n.UB,i.qB=n.XR,i.VB=n.MB,i.jB=n.Dv,i.HB=n.WB,i.$B=Boolean(n.zB),i.XB=n.GB||{},i.YB=n.KB,i.JB=n.QB,i.ZB=n.tU,i.nU(),i.rU(),i}Gt(n,t);var r=n.prototype;return r.Do=function(t){var n=!1;void 0===this.BB&&void 0!==t.UB&&(n=!0,this.BB=t.UB),void 0===this.VB&&void 0!==t.MB&&(n=!0,this.VB=t.MB),void 0===this.jB&&void 0!==t.Dv&&(n=!0,this.jB=t.Dv),void 0===this.HB&&void 0!==t.WB&&(n=!0,this.HB=t.WB),!this.$B&&t.zB&&(n=!0,this.$B=t.zB),n=this.updateCustomAttributes(t,n),void 0===this.YB&&void 0!==t.KB&&(n=!0,this.YB=t.KB),void 0===this.JB&&void 0!==t.QB&&(n=!0,this.JB=t.QB),void 0===this.ZB&&void 0!==t.tU&&(n=!0,this.ZB=t.tU),this.nU(),this.rU(),this.iU(),n&&this.Es(new uR(this))},r.updateCustomAttributes=function(t,n){var r=n;if(t.GB)for(var i=0,e=d.keys(t.GB);i<e.length;i++){var u=e[i];void 0===this.XB[u]&&(r=!0,this.XB[u]=t.GB[u])}return r},r.nU=function(){this.jB&&!this.VB&&(this.VB=new Date(this.qB.getTime()+1e3*this.jB))},r.rU=function(){this.VB&&!this.jB&&(this.jB=zt(this.VB.getTime()-this.qB.getTime()))},r.iU=function(){this.jm===1/0&&(this.VB||this.jB)&&(this.jm=cR(this.Vm,this.jB,this.qB,this.VB))},P(n,[{key:"ja",get:function(){var t;return this.Va||(this.Va=ro(Ih(t=this),{get content(){return t.Fm},get class(){return t.UB},get startDate(){return t.XR},get endDate(){return t.MB},get duration(){return t.Dv},get plannedDuration(){return t.WB},get endOnNext(){return t.zB},get scte35Cmd(){return t.KB},get scte35Out(){return t.QB},get scte35In(){return t.tU},get customAttributes(){return t.GB}})),this.Va}},{key:"UB",get:function(){return this.BB}},{key:"XR",get:function(){return this.qB}},{key:"MB",get:function(){return this.VB}},{key:"Dv",get:function(){return this.jB}},{key:"WB",get:function(){return this.HB}},{key:"zB",get:function(){return this.$B}},{key:"KB",get:function(){return this.YB}},{key:"QB",get:function(){return this.JB}},{key:"tU",get:function(){return this.ZB}},{key:"GB",get:function(){return this.XB}}]),n}(Nh);function cR(t,n,r,i){return G(n)?t+n:i?t+(zt(i.getTime())-zt(r.getTime())):1/0}var aR,fR=function(t){function n(){return t.call(this,void 0,void 0,yf.DATE_RANGE)||this}Gt(n,t);var r=n.prototype;return r.Do=function(t,n){var r=this;t=function(t){for(var n=wn(),r=[],i=0;i<t.length;i++){var e=t[i];if(n.has(e.Nf)){var u=n.get(e.Nf),s=dn(dn(dn({},u),so(e)),{GB:dn(dn({},u.GB),e.GB)});n.set(e.Nf,s)}else n.set(e.Nf,e),r.push(e.Nf)}return r.map(function(t){return n.get(t)})}(t);for(var i=this.Wf._f,e=function(n){var e=i[n],u=Yn(t,function(t){return t.Nf===e.Nf});u?e.Do(u):r.RM(e)},u=i.length-1;u>=0;u--)e(u);for(var s=0,o=t;s<o.length;s++){var c=o[s],a=c.XR;if(void 0!==a&&!this.EM(c.Nf)){var f=n(a);this.eT(new oR(c,f))}}},r.eT=function(n){this.eU(n),t.prototype.eT.call(this,n)},r.eU=function(t){var n=this.vM.filter(function(n){return n.UB===t.UB}).pop();n&&n.zB&&n.Do({Nf:n.Nf,MB:t.XR})},n}(NS);function hR(t){switch(t.type){case aR.IF:return t.value;case aR.RF:return co(t.value);case aR.SF:return Ar(t.value);default:return}}function vR(t){return function(t){return void 0!==t.name&&void 0!==t.message}(t)&&void 0!==t.timestamp&&void 0!==t.code}!function(t){t.IF="daterange-ca-type_string",t.RF="daterange-ca-type_number",t.SF="daterange-ca-type_arraybuffer"}(aR||(aR={}));var dR,lR,wR,yR=function(t){function n(n,r,i,e,u){var s;return(s=t.call(this,e,r,i)||this).QE=n,s.uU=u,s}return Gt(n,t),P(n,[{key:"name",get:function(){return this.QE}},{key:"timestamp",get:function(){return this.uU}}]),n}(Yi),gR=function(t){function n(n,r,i,e,u,s,o,c){var a;return(a=t.call(this,n,r,i,e,c)||this).url=u,a.status=s,a.errorComment=o,a}return Gt(n,t),n}(yR),pR=function(){function t(t){this.Vd=new Yv,this.sU=new hS(t)}var n=t.prototype;return n.nT=function(t,n,r,i,e){var u=new SS(t,n,r,i,e);return this.Vd.wf(u),this.sU.wf(u),u},n.uT=function(t){this.Vd.yf(t),this.sU.yf(t)},n.pf=function(){this.Vd.pf(),this.sU.pf()},n.ai=function(){this.Vd.ai(),this.sU.ai()},P(t,[{key:"Xd",get:function(){return this.Vd}}]),t}(),_R=function(t){function n(n,r,i,e,u){var s;(s=t.call(this)||this).YL=0,s.oU=!1,s.uR=void 0,s.sR=void 0,s.KL=!0,s.QL=1,s.cU=Of.k_(),s.aU=Of.k_(),s.fU=!1,s.hU=Of.k_(),s.lM=Ao.rh,s.CS=Ao.rh,s.TB={_l:0,ml:0,kl:0,bl:0,Tl:0,El:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},s.hS=void 0,s.setCurrentTime=function(){var t=D.coroutine(vn.mark(function t(n){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s.Dl.length){t.next=4;break}return s.YL=n,t.next=4,s.RB.Os("seekablechange");case 4:s.YL=s.updateCurrentTime(n),s.aM.cM("THEOplayerSetCurrentTime",s.YL),s.JL=!0,s.Es(new qo(s.YL));case 8:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),s.vU=function(t){if(t.detail){for(var n=t.detail.buffered,r=[],i=0;i<n.length;i++){var e=n[i];r.push(e.start,e.end)}s.cU=new Of(r),s.Es(new dS(s.Iv))}},s.dU=function(t){s.lM=t.detail.readyState,s.Es(new Fo(+t.detail.currentTime,s.Hf)),s.lU()},s.wU=function(t){s.lM=t.detail.readyState,s.Es(new Lo(+t.detail.currentTime,s.Hf)),s.lU()},s.yU=function(t){if(t.detail){var n=+t.detail.duration;s.jB=n,s.Es(new $o(s.Dv))}},s.gU=function(t){t.detail&&(s.oU=!0,s.Es(new jo(+t.detail.currentTime)))},s.cR=function(t){if(t.detail&&t.detail.error&&t.detail.errorObject){var n,r=JSON.parse(t.detail.errorObject);vR(n=r)&&void 0!==n.url&&void 0!==n.status&&void 0!==n.errorComment?(s.sR=new gR(r.name,r.message,void 0,r.code,r.url,r.status,r.errorComment,r.timestamp),s.uR=ta(s.sR),s.Es(new tc(s.sR))):vR(r)&&(s.sR=new yR(r.name,r.message,void 0,r.code,r.timestamp),s.uR=ta(s.sR),s.Es(new tc(s.sR)))}},s.pU=function(t){s.Es(new vS)},s._U=function(t){s.lM=t.detail.readyState,s.Es(new Vo(+t.detail.currentTime,s.Hf)),s.lU()},s.mU=function(){var t=D.coroutine(vn.mark(function t(n){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s.Dl.length){t.next=3;break}return t.next=3,s.RB.Os("seekablechange");case 3:s.lM=n.detail.readyState,s.Es(new zo(+n.detail.currentTime,s.Hf)),s.lU();case 6:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),s.kU=function(t){t.detail&&s.Es(new Xo(+t.detail.currentTime))},s.bU=function(t){t.detail&&s.Es(new Yo(+t.detail.currentTime))},s.TU=function(t){if(t.detail){for(var n=t.detail.played,r=[],i=0;i<n.length;i++){var e=n[i];r.push(e.start,e.end)}s.hU=new Of(r).j_(.05)}},s.EU=function(t){t.detail&&s.Es(new Dw(+t.detail.currentTime))},s.SU=function(t){t.detail&&(s.QL=t.detail.playbackRate,s.Es(new Wo(+t.detail.currentTime,s.QL)))},s.RU=function(t){if(t.detail){for(var n=t.detail.seekable,r=[],i=0;i<n.length;i++){var e=n[i];r.push(e.start,e.end)}s.aU=new Of(r)}},s.IU=function(t){t.detail&&(s.YL=+t.detail.currentTime,s.JL=!1,s.Es(new Ho(s.YL,s.DU)),s.Es(new Uo(s.YL)))},s.CU=function(t){if(t.detail){var n=Number(t.detail.currentTime);n<s.jB&&(s.oU=!1),s.JL=!0,s.Es(new qo(n))}},s.NU=function(t){t.detail&&(t.detail.currentDate&&(s.DU=new Date(1e3*t.detail.currentDate)),s.YL=+t.detail.currentTime,s.Es(new Ho(s.YL,s.DU)))},s.AU=function(t){s.OU=t.detail.height,s.xU=t.detail.width},s.PU=function(t){t.detail&&s.Es(new Iw(+t.detail.currentTime))},s.LU=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,enabled:t.detail.enabled};s.$d.wf(new gh(n))},s.FU=function(t){for(var n,r,i=t.detail.lang,e=t.detail.label,u=0;u<s.Ud.mf;u++){var o=s.$d.lf(u);o.Pf==i&&o.xf==e?r=s.Ud.lf(u):1==o.Cf&&(n=s.Ud.lf(u))}r&&n&&(r.Cf=!0,n.Cf=!1)},s.MU=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,selected:t.detail.selected};s.zd.wf(new Th(n))},s.BU=function(t){var n,r=t.detail.kind,i=t.detail.type;r===Uf.Rw&&i===yf.ID3?(n=new AS("",t.detail.label)).Uf=_o.Vf:r===Uf.Rw&&i===yf.DATE_RANGE?(n=new fR,s.UU=n):n=new SS(r,t.detail.label,t.detail.lang,t.detail.isDefault,i),s.qU.wf(n),s.sU.wf(n)},s.VU=function(t){for(var n=0,r=t.detail;n<r.length;n++){var i=r[n],e=i.Id3FrameId,u={id:e,text:i.Id3FrameText};"TXXX"!==e&&"TXX"!==e||(u.description=i.Id3FrameDescription);var o=new CS(co(i.startTime),u);o.Nf=i.uid;var c=s.jU();c&&c.eT(o)}},s.HU=function(t){for(var n,r=0,i=t.detail;r<i.length;r++){var e=i[r],u=new Ah(co(e.startTime),co(e.endTime),e.content,!1," "),o=null!==(n=s.WU(Uf.hm))&&void 0!==n?n:s.WU(Uf.vm);o&&(o.Uu=yf.WEBVTT,o.eT(u))}},s.kR=function(t){t.type===Po.vh&&(s.uR=ta(t.errorObject)),s.Ts(t)},s.$U=function(t){t.detail&&(s.TB.ml=t.detail.corruptedVideoFrames,s.TB._l=t.detail.droppedVideoFrames,s.Es(new eR(s.Fd)))},s.zU=function(t){var n=function(t){var n=t.detail,r=[];return n.forEach(function(t){var n={Nf:t.id};if(void 0!==t.startDate&&(n.XR=new Date(t.startDate)),void 0!==t.endDate&&(n.MB=new Date(t.endDate)),void 0!==t.customAttributes){var i={};for(var e in t.customAttributes){var u=hR(t.customAttributes[e]);void 0!==u&&(i[e]=u)}n.GB=i}void 0!==t.scte35Cmd&&(n.KB=Ar(t.scte35Cmd)),void 0!==t.scte35In&&(n.tU=Ar(t.scte35In)),void 0!==t.scte35Out&&(n.QB=Ar(t.scte35Out)),void 0!==t.startTime&&(n.Pm=t.startTime),n.UB=t.class,n.Dv=co(t.duration),n.WB=co(t.plannedDuration),r.push(n)}),r}(t);n.forEach(function(t){var r=null!=t.Pm?t.Pm:(new Date).getTime(),i=new oR(t,r);s.UU.eT(i),s.UU.Do(n,r)})};var o=e.uid;s.aM=s.getSdkBridge(o),s.RB=new XE,FE()[o].sdkEventBus=s.RB,s.Ud=new ch,s.qd=new ch;var c=s.XU(i);return s.Qb=new pR(Kt(s)),s.sU=new hS(Kt(s)),s.CR=new ud(s.Qb,c),s.qU=new Yv,s.GU=new ZS(Kt(s)),s.GU.Rf=s.qU,s.YU=new tR(s.Qb,s.GU),s.Vd=new $E([s.qU,s.CR._y,s.YU._y]),s.WM=s.getFairPlayControllerBridge(s.aM),s.yS=new iR(s.RB,s.WM),s.RR=new wS(s.yS,c),s.RR.Rs(Pw,s.kR),s.observeMediaElement(),s.DR(),s.yI=new lS(s.aM,u),s.yI.Rs("kx",function(){s.aM.cM("THEOplayerSetPreferredForwardBufferDuration",s.yI.mx)}),s}Gt(n,t);var r=n.prototype;return r.cl=function(){return Kw},r.ul=function(){this.aM.cM("THEOplayerShow",{})},r.sl=function(){this.aM.cM("THEOplayerHide",{})},r.KU=function(){var t=this;this.aM.cM("THEOplayerSetInitialPreferredPeakBitRate",this.yI.Cx);this.Rs("playing",function n(){t.aM.cM("THEOplayerSetInitialPreferredPeakBitRate",0),t.Cs("playing",n)})},r.Jd=function(){var t=D.coroutine(vn.mark(function t(n,r){var i,e,u;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.JU=n,i=dn(dn({},r),{sources:{src:n.src,type:ic.mv,contentProtection:n.contentProtection,ssai:n.ssai,crossOrigin:n.crossOrigin,hlsDateRange:n.hlsDateRange,isAdvertisement:n.isAdvertisement}}),this.aM.cM("THEOplayerSourceChange",i),e={Uu:vw.SS,zf:n.src,NR:n.type,AR:[],OR:n.crossOrigin,xR:r.metadata&&r.metadata.title},t.next=6,this.yS.Ro(e);case 6:this.hS=t.sent,this.RR.Mo(this.hS),this.RR.yT(this.PR(n)),r.textTracks&&(u=r.textTracks.filter(function(t){return t.format!==yf.WEBVTT})).length>0&&this.LR(u),fd(this.Xd),this.KU();case 12:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),r.PR=function(t){if(t.contentProtection&&t.contentProtection.fairplay){return{JT:t.contentProtection||{},pT:[{jo:Pn,_T:[],ZT:void 0,fc:void 0}],TS:[],ES:["video/mp4"]}}},r.ei=function(){this.KL=!1,this.Es(new Xo(this.Iv)),this.aM.cM("THEOplayerPlay",{})},r.ui=function(){this.KL=!0,this.Es(new Yo(this.Iv)),this.aM.cM("THEOplayerPause",{})},r.ol=function(){},r.pf=function(){var t=D.coroutine(vn.mark(function t(){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.YL=0,this.oU=!1,this.uR=void 0,this.sR=void 0,this.KL=!0,this.QL=1,this.jB=void 0,this.aU=Of.k_(),this.cU=Of.k_(),this.OU=void 0,this.xU=void 0,this.lM=Ao.rh,this.CS=Ao.rh,this.Ud.pf(),this.qd.pf(),this.qU.pf(),this.Vd.pf(),t.next=19,this.YU.pf();case 19:return this.GU.pf(),t.next=22,this.CR.pf();case 22:return this.Qb.pf(),this.sU.pf(),this.JU=void 0,t.next=27,this.yS.pf();case 27:return t.next=29,this.RR.pf();case 29:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.Zd=function(){this.aM.cM("THEOplayerShowAirPlayPicker",{})},r.tl=function(){this.aM.cM("THEOplayerStopAirPlayPicker",{})},r.updateMetrics=function(t){this.Fd.ml=t.ml,this.Fd._l=t._l},r.ai=function(){var t=D.coroutine(vn.mark(function t(){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.pf();case 2:return this.Ds(),this.unobserveMediaElement(),this.WR(),t.next=7,this.RR.ai();case 7:return t.next=9,this.yS.fs();case 9:return this.Ud.ai(),this.qd.ai(),this.qU.ai(),this.Vd.ai(),this.GU.ai(),t.next=16,this.YU.ai();case 16:return t.next=18,this.CR.ai();case 18:this.Qb.ai(),this.sU.ai();case 20:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.LR=function(t){for(var n=0;n<t.length;n++){var r=t[n];this.CR.tT(r)}},r.lU=function(){var t=this.CS,n=this.lM;t!==n&&(this.CS=n,this.Es(new xo(this.Iv,n)))},r.observeMediaElement=function(){this.yS.Rs(Po.oh,this.Ts),this.RB.addEventListener("play",this.kU),this.RB.addEventListener("pause",this.bU),this.RB.addEventListener("seeking",this.CU),this.RB.addEventListener("seeked",this.IU),this.RB.addEventListener("ratechange",this.SU),this.RB.addEventListener("durationchange",this.yU),this.RB.addEventListener("timeupdate",this.NU),this.RB.addEventListener("waiting",this.PU),this.RB.addEventListener("playing",this.EU),this.RB.addEventListener("ended",this.gU),this.RB.addEventListener("loadedmetadata",this.mU),this.RB.addEventListener("loadeddata",this._U),this.RB.addEventListener("loadstart",this.pU),this.RB.addEventListener("canplay",this.dU),this.RB.addEventListener("canplaythrough",this.wU),this.RB.addEventListener("error",this.cR),this.RB.addEventListener("seekablechange",this.RU),this.RB.addEventListener("videosizechange",this.AU),this.RB.addEventListener("bufferedchange",this.vU),this.RB.addEventListener("playedchange",this.TU),this.RB.addEventListener("metricschange",this.$U),this.RB.addEventListener("addDateRangeCues",this.zU)},r.unobserveMediaElement=function(){this.yS.Cs(Po.oh,this.Ts),this.RB.removeEventListener("play",this.kU),this.RB.removeEventListener("pause",this.bU),this.RB.removeEventListener("seeking",this.CU),this.RB.removeEventListener("seeked",this.IU),this.RB.removeEventListener("ratechange",this.SU),this.RB.removeEventListener("durationchange",this.yU),this.RB.removeEventListener("timeupdate",this.NU),this.RB.removeEventListener("waiting",this.PU),this.RB.removeEventListener("playing",this.EU),this.RB.removeEventListener("ended",this.gU),this.RB.removeEventListener("loadedmetadata",this.mU),this.RB.removeEventListener("loadeddata",this._U),this.RB.removeEventListener("loadstart",this.pU),this.RB.removeEventListener("canplay",this.dU),this.RB.removeEventListener("canplaythrough",this.wU),this.RB.removeEventListener("error",this.cR),this.RB.removeEventListener("seekablechange",this.RU),this.RB.removeEventListener("videosizechange",this.AU),this.RB.removeEventListener("bufferedchange",this.vU),this.RB.removeEventListener("playedchange",this.TU),this.RB.removeEventListener("metricschange",this.$U),this.RB.removeEventListener("addDateRangeCues",this.zU)},r.updateCurrentTime=function(t){var n=this.Dl.start(0),r=this.Dl.end(0);return l.min(l.max(t,n),r)},r.jU=function(){for(var t=0,n=this.Vd._f;t<n.length;t++){var r=n[t];if(r.Of===Uf.Rw&&r.Uu===yf.ID3)return r}},r.WU=function(t){for(var n=0,r=this.Vd._f;n<r.length;n++){var i=r[n],e=i.Uf===_o.qf,u=i.Of===t;if(e&&u)return i}},r.DR=function(){this.RB.addEventListener("addaudiotrack",this.LU),this.RB.addEventListener("enableaudiotrack",this.FU),this.RB.addEventListener("addvideotrack",this.MU),this.RB.addEventListener("addtexttrack",this.BU),this.RB.addEventListener("addtexttrackid3cues",this.VU),this.RB.addEventListener("addtexttrackcues",this.HU)},r.WR=function(){this.RB.removeEventListener("addaudiotrack",this.LU),this.RB.removeEventListener("enableaudiotrack",this.FU),this.RB.removeEventListener("addvideotrack",this.MU),this.RB.removeEventListener("addtexttrack",this.BU),this.RB.removeEventListener("addtexttrackid3cues",this.VU),this.RB.removeEventListener("addtexttrackcues",this.QU)},r.ll=function(){},P(n,[{key:"$d",get:function(){return this.Ud}},{key:"wl",get:function(){return this.cU.x_()}},{key:"yl",get:function(){return this.DU?this.DU:null},set:function(t){this.aM.cM("THEOplayerSetCurrentProgramDateTime",t.getTime()),this.DU=t}},{key:"Iv",get:function(){return this.YL},set:function(t){this.setCurrentTime(t)}},{key:"Dv",get:function(){return this.jB}},{key:"Cv",get:function(){return this.oU}},{key:"Bs",get:function(){return this.uR}},{key:"Nv",get:function(){return this.sR}},{key:"Gd",get:function(){}},{key:"pl",get:function(){return this.yS.pl}},{key:"Fd",get:function(){return this.TB}},{key:"Av",get:function(){return this.fU},set:function(t){this.fU!==t&&(this.aM.cM("THEOplayerSetMuted",t),this.fU=t,this.Es(new Bo(this.Iv,t?0:1)))}},{key:"Ov",get:function(){return this.KL}},{key:"xv",get:function(){return this.QL},set:function(t){this.aM.cM("THEOplayerSetPlaybackRate",t),this.QL=t}},{key:"Rl",get:function(){return this.hU.x_()}},{key:"Il",get:function(){return Hw.hI},set:function(t){}},{key:"Hf",get:function(){return this.lM}},{key:"Dl",get:function(){return this.aU.x_()}},{key:"Pv",get:function(){return this.JL}},{key:"XR",get:function(){}},{key:"Xd",get:function(){return this.Vd}},{key:"Lv",get:function(){return this.OU}},{key:"Fv",get:function(){return this.xU}},{key:"Mv",get:function(){return 1},set:function(t){}},{key:"zd",get:function(){return this.qd}},{key:"Sl",get:function(){return!0}}]),n}(Co),mR=function(){function t(){this.GR=Aw.rR}var n=t.prototype;return n.YR=function(n,r){if(n.isAdvertisement)return!1;if(r.vr&&r.vr[360])return!1;if((i=n.type)&&Bn(i.toLowerCase(),ic._v))return!1;var i,e=n.contentProtection;if(e&&!Ha(e)){if(!za(e))return!1;if(!t.ZU(e))return!1}return!0},t.ZU=function(t){return Boolean(t.fairplay)||Boolean(t.aes128)},n.KR=function(){return!1},t}(),kR=function(){function n(t){this.playerID=t}return n.prototype.cM=function(n,r){if(t.THEOplayerBridge[this.playerID].postMessageToSwift&&"function"==typeof t.THEOplayerBridge[this.playerID].postMessageToSwift){var i={body:r,name:n};t.THEOplayerBridge[this.playerID].postMessageToSwift(i)}},n}(),bR=function(t){function n(n){var r;return(r=t.call(this)||this).tq=function(t){var n=Ar(t.detail.initData),i=t.detail.sessionId;r.Es(new US(n,i))},r.nq=function(t){var n=new p(Br(t.detail.message)),i=t.detail.destinationURL;r.Es(new qS(n,i))},r.rq=function(t){r.Es(new VS)},r.aM=n,r.RB=new XE,FE().fairplayController={sdkEventBus:r.RB},r.iq(),r}Gt(n,t);var r=n.prototype;return r.iq=function(){this.RB.addEventListener(DS.FM,this.tq),this.RB.addEventListener(DS.MM,this.nq),this.RB.addEventListener(DS.BM,this.rq)},r.XT=function(t,n){var r={data:Ur(n.buffer),sessionId:t};this.aM.cM("THEOplayerCreateKeySession",r)},r.Do=function(t,n){var r={data:Ur(n.buffer),sessionId:t};this.aM.cM("THEOplayerUpdateKey",r)},n}(Co),TR=function(t){function n(){return t.apply(this,arguments)||this}return Gt(n,t),n.prototype.$b=function(n){if(ki(n.bd)){var r=bi(n.bd);n.bd=hi(r)}return t.prototype.$b.call(this,n)},n}(function(){function t(t){this.Zb=t}var n=t.prototype;return n.$b=function(t,n){return this.Zb.$b(t,n)},n.YD=function(t){this.Zb.YD(t)},n.ai=function(){this.Zb.ai()},t}()),ER=function(t){function n(n,r,i,e,u){return t.call(this,n,r,i,e,u)||this}Gt(n,t);var r=n.prototype;return r.Qd=function(){return!1},r.getSdkBridge=function(t){return new kR(t)},r.getFairPlayControllerBridge=function(t){return lR||(lR=new bR(t)),lR},r.XU=function(t){return new TR(t)},n}(_R);dR=new(function(t){function n(){return t.apply(this,arguments)||this}return Gt(n,t),n.prototype.Fl=function(t,n,r,i,e,u){return new ER(t,n,r,i,e)},n}(mR)),jw.$e.iI(dR),function(t){t.Ma="addtrack",t.Ua="removetrack",t.nf="change",t.cf="update"}(wR||(wR={}));var SR=function(t,n,r){this.mediaType=t,this.mediaTrack=n,this.mediaTrackList=r,this.type=wR.nf},RR=function(t,n){this.mediaType=t,this.mediaTrack=n,this.type=wR.Ma},IR=function(t,n){this.mediaType=t,this.mediaTrack=n,this.type=wR.Ua},DR=function(t,n){this.mediaType=t,this.mediaTrack=n,this.type=wR.cf},CR=function(){function t(t,n,r){var i=this;this.uq=function(t){var n=new SR(i.type,t.track,i.mediaTracks);i.messageDispatcher.sq(n)},this.oq=function(t){var n=new RR(i.type,t.track);i.messageDispatcher.sq(n),t.track.addEventListener("update",i.cq)},this.aq=function(t){var n=new IR(i.type,t.track);i.messageDispatcher.sq(n)},this.cq=function(t){var n=new DR(i.type,t.track);i.messageDispatcher.sq(n)},this.type=t,this.mediaTracks=n,this.messageDispatcher=r,this.iq()}return t.prototype.iq=function(){this.mediaTracks.addEventListener("change",this.uq),this.mediaTracks.addEventListener("addtrack",this.oq),this.mediaTracks.addEventListener("removetrack",this.aq)},t}(),NR=function(){function t(t){this.fq=new kR(t)}return t.prototype.sq=function(t){this.fq.cM(t.type,oE(t))},t}();CT(function(t){if(t.ja.audioTracks){var n=new NR(t.Af);new CR("audio",t.ja.audioTracks,n)}if(t.ja.videoTracks){var r=new NR(t.Af);new CR("video",t.ja.videoTracks,r)}});var AR,OR,xR=function(t){function n(){return t.apply(this,arguments)||this}return Gt(n,t),n.prototype.dispatchEvent=function(t,n){switch(t){case AR.hq:var r={integrationId:n.integrationId,keySystem:n.keySystem};this.Es(new PR(r));break;default:0}},n}(XE),PR=function(t){function n(n){var r;return(r=t.call(this,AR.hq)||this).detail=n,r}return Gt(n,t),n}(_r);!function(t){t.hq="registerContentProtectionIntegration"}(AR||(AR={})),function(t){t.vq="certifiateRequest",t.dq="certifiateResponse",t.lq="licenseRequest",t.wq="licenseResponse",t.yq="extractFairplayContentId",t.gq="buildContentProtection",t.pq="registerContentProtectionCallback"}(OR||(OR={}));var LR,FR,MR=function(t,n){this.value=t,this.integrationId=n,this.type=OR.pq};!function(t){t.VOD="vod",t.LIVE="live"}(LR||(LR={})),function(t){t.LIVE_OFFSET="liveoffset",t.TRACK_BYTES_DOWNLOADED="trackbytesdownloaded",t.ESTIMATED_TRACK_NETWORK_BANDWIDTH="estimatedtracknetworkbandwidth",t.ESTIMATED_TRACK_MEDIA_DATA_BANDWIDTH="estimatedtrackmediadatabandwidth",t.SEGMENT_RECEIVE_INTERVAL="segmentreceiveinterval"}(FR||(FR={}));var BR,UR=function(t,n){this.value=t,this.integrationId=n,this.type=OR.gq},qR=function(t,n){this.value=t,this.integrationId=n,this.type=OR.vq},VR=function(t,n){this.value=t,this.integrationId=n,this.type=OR.dq},jR=function(t,n){this.value=t,this.integrationId=n,this.type=OR.yq},HR=function(t,n){this.value=t,this.integrationId=n,this.type=OR.lq},WR=function(t,n){this.value=t,this.integrationId=n,this.type=OR.wq},$R=function(){function t(t,n){this._q=t,this.Ml=n}var r=t.prototype;return r.onCertificateRequest=function(){var t=D.coroutine(vn.mark(function t(r){var i,e,u,s,o,c;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.toCertificateRequestDTO(r),e=new qR(i,this.Ml),t.prev=2,t.next=5,this._q.mq(e);case 5:if(!(u=t.sent)){t.next=16;break}if(s=JSON.parse(u),!this.kq(s)){t.next=13;break}return o=dn({},s),t.abrupt("return",o);case 13:if(!this.bq(s)){t.next=16;break}return c=new p(s),t.abrupt("return",c);case 16:throw new Jc(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Could not parse callback in onCertificateRequest");case 19:throw t.prev=19,t.t0=t.catch(2),new Jc(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,t.t0);case 22:case"end":return t.stop()}},t,this,[[2,19]])}));return function(n){return t.apply(this,arguments)}}(),r.onCertificateResponse=function(){var t=D.coroutine(vn.mark(function t(r){var i,e,u,s,o;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.toCertificateRequestDTO(r.request),e={request:i,url:r.url,status:r.status,statusText:r.statusText,headers:r.headers,body:Array.from(r.body)},u=new VR(e,this.Ml),t.next=5,this._q.mq(u);case 5:if(!(s=t.sent)){t.next=11;break}return o=JSON.parse(s),t.abrupt("return",new p(o));case 11:throw new Jc(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"received undefined instead of string in onCertificateResponse");case 12:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.onLicenseRequest=function(){var t=D.coroutine(vn.mark(function t(r){var i,e,u,s,o,c,a;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.toCertificateRequestDTO(r),e={url:i.url,method:i.method,headers:i.headers,body:i.body?Array.from(i.body):null,useCredentials:i.useCredentials,fairplaySkdUrl:r.fairplaySkdUrl},u=new HR(e,this.Ml),t.prev=3,t.next=6,this._q.mq(u);case 6:if(!(s=t.sent)){t.next=17;break}if(o=JSON.parse(s),!this.kq(o)){t.next=14;break}return c={url:o.url,method:o.method,headers:o.headers,body:o.body?new p(o.body):null,useCredentials:o.useCredentials,fairplaySkdUrl:o.fairplaySkdUrl},t.abrupt("return",c);case 14:if(!this.bq(o)){t.next=17;break}return a=new p(o),t.abrupt("return",a);case 17:throw new Jc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Could not parse callback in onLicenseRequest");case 20:throw t.prev=20,t.t0=t.catch(3),new Jc(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,t.t0);case 23:case"end":return t.stop()}},t,this,[[3,20]])}));return function(n){return t.apply(this,arguments)}}(),r.onLicenseResponse=function(){var t=D.coroutine(vn.mark(function t(r){var i,e,u,s,o,c;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.toCertificateRequestDTO(r.request),e=dn(dn({},i),{fairplaySkdUrl:r.request.fairplaySkdUrl}),u={request:e,url:r.url,status:r.status,statusText:r.statusText,headers:r.headers,body:Array.from(r.body)},s=new WR(u,this.Ml),t.next=6,this._q.mq(s);case 6:if(!(o=t.sent)){t.next=12;break}return c=JSON.parse(o),t.abrupt("return",new p(c));case 12:throw new Jc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"received undefined instead of string in onLicenseResponse");case 13:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.extractFairplayContentId=function(){var t=D.coroutine(vn.mark(function t(r){var i,e;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=new jR(r,this.Ml),t.next=3,this._q.mq(i);case 3:if(!(e=t.sent)){t.next=6;break}return t.abrupt("return",e);case 6:return t.abrupt("return",D.reject(new Jc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"received undefined instead of string in extractFairplayContentId")));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.toCertificateRequestDTO=function(t){return{url:t.url,method:t.method,headers:t.headers,body:t.body?Array.from(t.body):null,useCredentials:t.useCredentials}},r.kq=function(t){var n=t;return void 0!==n.url&&void 0!==n.method&&void 0!==n.headers},r.bq=function(t){return!!new p(t)},t}(),zR=function(){function t(t){this._q=t}return t.prototype.build=function(t){if(!t.integration)throw new h("integrationId is undefined");var n=new $R(this._q,t.integration),r=new UR({drmConfiguration:t},t.integration);return this._q.mq(r),n},t}(),XR=function(){var t=this;this.Tq=function(n){var r=new zR(t.messageDispatcher),i=n.detail,e=i.integrationId,u=i.keySystem,s={state:Da.Hl.Ul(e,u,r)};t.messageDispatcher.mq(new MR(s,e))},this.RB=new xR,FE().contentProtectionIntegration={sdkEventBus:this.RB},this.RB.addEventListener(AR.hq,this.Tq)},GR="nativePromiseCallback",YR=function(t){function n(n){var r;return(r=t.call(this,GR)||this).detail=n,r}return Gt(n,t),n}(_r);!function(t){t.RESOLVE="NATIVE_PROMISE_RESOLVE",t.REJECT="NATIVE_PROMISE_REJECT"}(BR||(BR={}));var KR=function(t){function n(){return t.apply(this,arguments)||this}Gt(n,t);var r=n.prototype;return r.dispatchEvent=function(t,n){this.Es(new YR(n))},r.addEventListener=function(t,n){this.Rs(t,n)},r.removeEventListener=function(t,n){this.Cs(t,n)},n}(XE),JR=function(){function t(){var t=this;this.promisesMap={},this.handleNativePromiseEvent=function(n){var r=t.promisesMap[n.detail.promiseId];if(!r)throw new h("Could not find a promise with id "+n.detail.promiseId);switch(n.detail.type){case BR.RESOLVE:r.oo(n.detail.data);break;case BR.REJECT:r.co(n.detail.data)}delete t.promisesMap[n.detail.promiseId]};var n=new KR;FE().nativePromise={sdkEventBus:n},n.addEventListener(GR,this.handleNativePromiseEvent)}return t.prototype.mq=function(n){var r;t.messageIdTracker+=1;var i=t.messageIdTracker.toString(),e=dn(dn({},n),{promiseId:i}),u=new Si;return this.promisesMap[i]=u,null===(r=this.fq)||void 0===r||r.cM(n.type,uE(e)),u.so},t}();JR.messageIdTracker=-1;var QR=function(t){function n(n){var r;return(r=t.call(this)||this).fq=new kR(n),r}return Gt(n,t),n}(JR),ZR=function(t){function n(n){var r;return(r=t.call(this)||this)._q=new QR(n),r}return Gt(n,t),P(n,[{key:"messageDispatcher",get:function(){return this._q}}]),n}(XR);CT(function(t){new ZR(t.ja.uid)}),n.ChromelessPlayer=ZT,n.Player=ZT,n.createGlobals=UE,n.features=[],n.getCueMirrorMap=ME,n.getGlobalId=BE,n.getSdkEventBridge=FE,n.playerSuiteVersion="2021.2.0",n.players=nE,n.registerContentProtectionIntegration=rE,n.utils=tE,n.version="2.84.1",d.defineProperty(n,"__esModule",{value:!0})})}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:this);
