/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com

 This product makes use of Open Source Software: Bluebird (MIT -
 Copyright (c) 2013-2015 Petka Antonov), long.js (Apache 2.0)
 The code of these projects has been heavily modified during
 integration.
 More information on the licenses can be found here: Apache 2.0
(http://www.apache.org/licenses/LICENSE-2.0), MIT
(https://opensource.org/licenses/MIT)

 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 2021.2.0 (2.84.1)
 Created: 2021-05-17T08:45:03.990Z
 */
!function(t){!function(n,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i((n="undefined"!=typeof globalThis?globalThis:n||t).THEOplayer={})}(this,function(n){"use strict";var i,r,e,u=t.window,s=t.document,o=t.location,a=t.navigator,c=t.setTimeout,h=t.clearTimeout,f=t.setInterval,v=t.clearInterval,d=t.Error,l=t.TypeError,_=(t.SyntaxError,t.Object),g=t.Math,w=t.parseInt,y=t.parseFloat,m=t.isNaN,k=t.Uint8Array,p=t.Worker,A=(t.WorkerGlobalScope,t.XMLHttpRequest);function b(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),_.defineProperty(t,r.key,r)}}function T(t,n,i){return n&&b(t.prototype,n),i&&b(t,i),t}!function(t){t.l="web",t.g="android",t.R="android-tv",t.I="ios",t.N="tvos",t.B="chromecast"}(e||(e={}));var E=a?a.userAgent:"",S=/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i,R=E.match(/Android ([0-9\.]+)/i),I=E.match(/Windows NT ([0-9\.]+)/i),N=E.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),D=E.match(/Firefox\/([0-9\.]+)/i),C=E.match(/OPR\/(\d+\.\d+)/i),O=E.match(/Tizen ([0-9\.]+)/i),x=function(){function n(){this.M=Boolean("ontouchstart"in t||t.DocumentTouch&&s instanceof t.DocumentTouch||a&&a.msMaxTouchPoints),this.U=/(mac\sos\sx)\s?([\w\s\.]+\w)*/i.test(E)||/(macintosh|mac(?=_powerpc)\s)/i.test(E),this.F=/Windows NT/i.test(E),this.H=I?y(I[1]):0,this.G=/Android/i.test(E),this.j=R?y(R[1]):0,this.Y=/windows phone (8|8\.1)/i.test(E),this.Z=/iPhone/i.test(E),this.J=/iPad/i.test(E),this.K=this.U&&this.M&&!this.J,this.nt=/iPod/i.test(E),this.it=/Mobile Safari/i.test(E),this.et=(this.Z||this.J||this.K||this.nt)&&!this.Y,this.ut=this.Y||this.et||this.G||this.it,this.st=/CriOS/i.test(E),this.ot=Boolean(t.chrome&&/google/i.test(a.vendor))||this.st,this.at=S.exec(E)||[],this.ct=/SMART-TV.*Tizen/i.test(E),this.ht=O?y(O[1]):0,this.ft=/webos|web0s/i.test(E),this.vt=/Edge\/\d+/i.test(E),this.dt=/Trident/i.test(E),this._t=this.dt&&!t.ActiveXObject&&"ActiveXObject"in t,this.wt=/Vivaldi/i.test(E),this.yt=/Firefox/i.test(E)&&!/Seamonkey/i.test(E),this.kt=D?y(D[1]):0,this.pt=/Safari/i.test(E)&&!/Chrome/i.test(E)&&!this.Y&&!this.ct,this.At=N?y(N[2]):0,this.bt=Boolean(C),this.Tt=C?y(C[1]):0,this.Et="ios"===e.R,this.St="ios"===e.g,this.Rt=this.St||this.Et,this.It="ios"===e.I,this.Nt="ios"===e.N,this.Dt="ios"===e.B}return T(n,[{key:"Ct",get:function(){return this.M}},{key:"Ot",get:function(){return this.U}},{key:"xt",get:function(){return this.F}},{key:"Pt",get:function(){return this.H}},{key:"Bt",get:function(){return this.G}},{key:"Lt",get:function(){return this.j}},{key:"Mt",get:function(){return this.Y}},{key:"Ut",get:function(){return this.Z}},{key:"Ft",get:function(){return this.J}},{key:"Ht",get:function(){return this.K}},{key:"Vt",get:function(){return this.nt}},{key:"Xt",get:function(){return this.et}},{key:"Wt",get:function(){return this.it}},{key:"qt",get:function(){return this.ut}},{key:"zt",get:function(){return this.st}},{key:"Gt",get:function(){return this.ot}},{key:"jt",get:function(){return this.at}},{key:"Qt",get:function(){return this.at[1]}},{key:"Yt",get:function(){return this.ct}},{key:"Zt",get:function(){return this.ht}},{key:"Jt",get:function(){return this.ft}},{key:"$t",get:function(){return this.vt}},{key:"Kt",get:function(){return this.dt}},{key:"tn",get:function(){return this._t}},{key:"nn",get:function(){return this.wt}},{key:"in",get:function(){return this.yt}},{key:"rn",get:function(){return this.kt}},{key:"un",get:function(){return this.pt}},{key:"sn",get:function(){return this.At}},{key:"an",get:function(){return this.bt}},{key:"cn",get:function(){return this.Tt}},{key:"hn",get:function(){return this.Et}},{key:"fn",get:function(){return this.St}},{key:"vn",get:function(){return this.Rt}},{key:"dn",get:function(){return this.It}},{key:"ln",get:function(){return this.Nt}},{key:"_n",get:function(){return this.Dt}}]),n}();x.gn=new x;var P=x.gn,B={}.hasOwnProperty,L={}.toString;function M(t){return null!=t}var U=Array.isArray||function(t){return"[object Array]"===L.call(t)};function F(t){return H(t)&&B.call(t,"length")&&G(t.length)}function H(t){return"object"==typeof t&&null!==t}function V(t){return H(t)&&t.constructor&&t.constructor===_}function X(t){return"string"==typeof t}function W(t){return"boolean"==typeof t}function q(t){return Boolean(t)&&"function"==typeof t.then}function z(t){return"[object Date]"===L.call(t)}function G(t){return"number"==typeof t}var j=function(){},Q=function(t){return t};function Y(t,n,i){var e;return function(){for(var u=arguments.length,s=new Array(u),o=0;o<u;o++)s[o]=arguments[o];var a=this,c=i&&!e;void 0!==e&&r.wn(e),e=r.yn(function(){e=void 0,i||t.apply(a,s)},n),c&&t.apply(a,s)}}var Z=!(P.Kt&&!P.tn),J=t.console;function $(t){if(H(t))try{return JSON.stringify(t)}catch(t){}return t}function K(t){return t.map($).join(" ")}function tt(t){var n=J&&J[t];return n?n.bind&&Z?n.bind(J):function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];J[t](K(i))}:void 0}var nt,it=tt("log")||j,rt=tt("warn")||it.bind(void 0,"WARNING:"),et=tt("error")||it.bind(void 0,"ERROR:"),ut=(nt=J&&J.assert)?nt.bind&&Z?nt.bind(J):function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];J.assert(t,K(i))}:function(t){if(!t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];et.apply(void 0,["Assertion failed:"].concat(i))}},st=at,ot=null;try{ot=new WebAssembly.Instance(new WebAssembly.Module(new k([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function at(t,n,i){this.low=0|t,this.high=0|n,this.unsigned=!!i}function ct(t){return!0===(t&&t.mn)}at.prototype.mn,_.defineProperty(at.prototype,"mn",{value:!0}),at.isLong=ct;var ht={},ft={};function vt(t,n){var i,r,e;return n?(e=0<=(t>>>=0)&&t<256)&&(r=ft[t])?r:(i=lt(t,(0|t)<0?-1:0,!0),e&&(ft[t]=i),i):(e=-128<=(t|=0)&&t<128)&&(r=ht[t])?r:(i=lt(t,t<0?-1:0,!1),e&&(ht[t]=i),i)}function dt(t,n){if(m(t))return n?bt:At;if(n){if(t<0)return bt;if(t>=mt)return It}else{if(t<=-kt)return Nt;if(t+1>=kt)return Rt}return t<0?dt(-t,n).neg():lt(t%yt|0,t/yt|0,n)}function lt(t,n,i){return new at(t,n,i)}at.fromInt=vt,at.fromNumber=dt,at.fromBits=lt;var _t=g.pow;function gt(t,n,i){if(0===t.length)throw d("empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return At;if("number"==typeof n?(i=n,n=!1):n=!!n,(i=i||10)<2||36<i)throw RangeError("radix");var r;if((r=t.indexOf("-"))>0)throw d("interior hyphen");if(0===r)return gt(t.substring(1),n,i).neg();for(var e=dt(_t(i,8)),u=At,s=0;s<t.length;s+=8){var o=g.min(8,t.length-s),a=w(t.substring(s,s+o),i);if(o<8){var c=dt(_t(i,o));u=u.mul(c).add(dt(a))}else u=(u=u.mul(e)).add(dt(a))}return u.unsigned=n,u}function wt(t,n){return"number"==typeof t?dt(t,n):"string"==typeof t?gt(t,n):lt(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}at.fromString=gt,at.fromValue=wt;var yt=4294967296,mt=yt*yt,kt=mt/2,pt=vt(1<<24),At=vt(0);at.ZERO=At;var bt=vt(0,!0);at.UZERO=bt;var Tt=vt(1);at.ONE=Tt;var Et=vt(1,!0);at.UONE=Et;var St=vt(-1);at.NEG_ONE=St;var Rt=lt(-1,2147483647,!1);at.MAX_VALUE=Rt;var It=lt(-1,-1,!0);at.MAX_UNSIGNED_VALUE=It;var Nt=lt(0,-2147483648,!1);at.MIN_VALUE=Nt;var Dt=at.prototype;Dt.toInt=function(){return this.unsigned?this.low>>>0:this.low},Dt.toNumber=function(){return this.unsigned?(this.high>>>0)*yt+(this.low>>>0):this.high*yt+(this.low>>>0)},Dt.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(Nt)){var n=dt(t),i=this.div(n),r=i.mul(n).sub(this);return i.toString(t)+r.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var e=dt(_t(t,6),this.unsigned),u=this,s="";;){var o=u.div(e),a=(u.sub(o.mul(e)).toInt()>>>0).toString(t);if((u=o).isZero())return a+s;for(;a.length<6;)a="0"+a;s=""+a+s}},Dt.getHighBits=function(){return this.high},Dt.getHighBitsUnsigned=function(){return this.high>>>0},Dt.getLowBits=function(){return this.low},Dt.getLowBitsUnsigned=function(){return this.low>>>0},Dt.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Nt)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,n=31;n>0&&0==(t&1<<n);n--);return 0!=this.high?n+33:n+1},Dt.isZero=function(){return 0===this.high&&0===this.low},Dt.eqz=Dt.isZero,Dt.isNegative=function(){return!this.unsigned&&this.high<0},Dt.isPositive=function(){return this.unsigned||this.high>=0},Dt.isOdd=function(){return 1==(1&this.low)},Dt.isEven=function(){return 0==(1&this.low)},Dt.equals=function(t){return ct(t)||(t=wt(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},Dt.eq=Dt.equals,Dt.notEquals=function(t){return!this.eq(t)},Dt.neq=Dt.notEquals,Dt.ne=Dt.notEquals,Dt.lessThan=function(t){return this.comp(t)<0},Dt.lt=Dt.lessThan,Dt.lessThanOrEqual=function(t){return this.comp(t)<=0},Dt.lte=Dt.lessThanOrEqual,Dt.le=Dt.lessThanOrEqual,Dt.greaterThan=function(t){return this.comp(t)>0},Dt.gt=Dt.greaterThan,Dt.greaterThanOrEqual=function(t){return this.comp(t)>=0},Dt.gte=Dt.greaterThanOrEqual,Dt.ge=Dt.greaterThanOrEqual,Dt.compare=function(t){if(ct(t)||(t=wt(t)),this.eq(t))return 0;var n=this.isNegative(),i=t.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},Dt.comp=Dt.compare,Dt.negate=function(){return!this.unsigned&&this.eq(Nt)?Nt:this.not().add(Tt)},Dt.neg=Dt.negate,Dt.add=function(t){ct(t)||(t=wt(t));var n=this.high>>>16,i=65535&this.high,r=this.low>>>16,e=65535&this.low,u=t.high>>>16,s=65535&t.high,o=t.low>>>16,a=0,c=0,h=0,f=0;return h+=(f+=e+(65535&t.low))>>>16,c+=(h+=r+o)>>>16,a+=(c+=i+s)>>>16,a+=n+u,lt((h&=65535)<<16|(f&=65535),(a&=65535)<<16|(c&=65535),this.unsigned)},Dt.subtract=function(t){return ct(t)||(t=wt(t)),this.add(t.neg())},Dt.sub=Dt.subtract,Dt.multiply=function(t){if(this.isZero())return At;if(ct(t)||(t=wt(t)),ot)return lt(ot.mul(this.low,this.high,t.low,t.high),ot.get_high(),this.unsigned);if(t.isZero())return At;if(this.eq(Nt))return t.isOdd()?Nt:At;if(t.eq(Nt))return this.isOdd()?Nt:At;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(pt)&&t.lt(pt))return dt(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,r=this.low>>>16,e=65535&this.low,u=t.high>>>16,s=65535&t.high,o=t.low>>>16,a=65535&t.low,c=0,h=0,f=0,v=0;return f+=(v+=e*a)>>>16,h+=(f+=r*a)>>>16,f&=65535,h+=(f+=e*o)>>>16,c+=(h+=i*a)>>>16,h&=65535,c+=(h+=r*o)>>>16,h&=65535,c+=(h+=e*s)>>>16,c+=n*a+i*o+r*s+e*u,lt((f&=65535)<<16|(v&=65535),(c&=65535)<<16|(h&=65535),this.unsigned)},Dt.mul=Dt.multiply,Dt.divide=function(t){if(ct(t)||(t=wt(t)),t.isZero())throw d("division by zero");var n,i,r;if(ot)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?lt((this.unsigned?ot.div_u:ot.div_s)(this.low,this.high,t.low,t.high),ot.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?bt:At;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return bt;if(t.gt(this.shru(1)))return Et;r=bt}else{if(this.eq(Nt))return t.eq(Tt)||t.eq(St)?Nt:t.eq(Nt)?Tt:(n=this.shr(1).div(t).shl(1)).eq(At)?t.isNegative()?Tt:St:(i=this.sub(t.mul(n)),r=n.add(i.div(t)));if(t.eq(Nt))return this.unsigned?bt:At;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();r=At}for(i=this;i.gte(t);){n=g.max(1,g.floor(i.toNumber()/t.toNumber()));for(var e=g.ceil(g.log(n)/g.LN2),u=e<=48?1:_t(2,e-48),s=dt(n),o=s.mul(t);o.isNegative()||o.gt(i);)o=(s=dt(n-=u,this.unsigned)).mul(t);s.isZero()&&(s=Tt),r=r.add(s),i=i.sub(o)}return r},Dt.div=Dt.divide,Dt.modulo=function(t){return ct(t)||(t=wt(t)),ot?lt((this.unsigned?ot.rem_u:ot.rem_s)(this.low,this.high,t.low,t.high),ot.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},Dt.mod=Dt.modulo,Dt.rem=Dt.modulo,Dt.not=function(){return lt(~this.low,~this.high,this.unsigned)},Dt.and=function(t){return ct(t)||(t=wt(t)),lt(this.low&t.low,this.high&t.high,this.unsigned)},Dt.or=function(t){return ct(t)||(t=wt(t)),lt(this.low|t.low,this.high|t.high,this.unsigned)},Dt.xor=function(t){return ct(t)||(t=wt(t)),lt(this.low^t.low,this.high^t.high,this.unsigned)},Dt.shiftLeft=function(t){return ct(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?lt(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):lt(0,this.low<<t-32,this.unsigned)},Dt.shl=Dt.shiftLeft,Dt.shiftRight=function(t){return ct(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?lt(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):lt(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},Dt.shr=Dt.shiftRight,Dt.shiftRightUnsigned=function(t){if(ct(t)&&(t=t.toInt()),0===(t&=63))return this;var n=this.high;return t<32?lt(this.low>>>t|n<<32-t,n>>>t,this.unsigned):lt(32===t?n:n>>>t-32,0,this.unsigned)},Dt.shru=Dt.shiftRightUnsigned,Dt.shr_u=Dt.shiftRightUnsigned,Dt.toSigned=function(){return this.unsigned?lt(this.low,this.high,!1):this},Dt.toUnsigned=function(){return this.unsigned?this:lt(this.low,this.high,!0)},Dt.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},Dt.toBytesLE=function(){var t=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},Dt.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]},at.fromBytes=function(t,n,i){return i?at.fromBytesLE(t,n):at.fromBytesBE(t,n)},at.fromBytesLE=function(t,n){return new at(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},at.fromBytesBE=function(t,n){return new at(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};var Ct=st,Ot=g.pow(2,-52);function xt(t,n,i){return g.min(g.max(t,n),i)}function Pt(t,n,i){return t===n||g.abs(t-n)<=i}function Bt(t,n){if(t===n)return!0;var i=g.abs(t-n);return i<Ot||i<g.max(g.abs(t),g.abs(n))*Ot}function Lt(t){return t!=t}function Mt(t,n){return t===n||Lt(t)&&Lt(n)}function Ut(t,n){for(var i=t,r=n;0!==r;){var e=i%r;i=r,r=e}return i<0?-i:i}function Ft(){return Date.now()||(new Date).getTime()}function Ht(t){return t/1e3}var Vt,Xt=Ct.fromNumber(9007199254740991);function Wt(t,n){if(0===n)return t.isZero()?NaN:t.isNegative()?-1/0:1/0;if(t.lessThanOrEqual(Xt))return t.toNumber()/n;var i=t.divide(n),r=t.subtract(i.multiply(n));return i.toNumber()+r.toNumber()/n}function qt(t,n){t.prototype=_.create(n.prototype),t.prototype.constructor=t,t.__proto__=n}function zt(t){return t.kn===Vt.pn}function Gt(t){return t.kn===Vt.An}function jt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}!function(t){t[t.pn=1]="pn",t[t.bn=2]="bn",t[t.An=3]="An",t[t.Tn=4]="Tn",t[t.En=9]="En"}(Vt||(Vt={}));var Qt=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];d.apply(this,n)};(Qt.prototype=_.create(d.prototype)).constructor=Qt;var Yt=function(t){function n(n,i){var r;return(r=t.call(this)||this).message=n||"Unknown error",r.cause=i,d.captureStackTrace&&d.captureStackTrace(jt(r),r.constructor),r}return qt(n,t),T(n,[{key:"name",get:function(){return"BaseError"}}]),n}(Qt),Zt=function(t){function n(n){return t.call(this,"Invalid XML",n)||this}return qt(n,t),n}(Yt),Jt=function(){function t(){}return t.prototype.Sn=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new Zt(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new Zt;return new un(n)},t}(),$t=function(){function t(t){this.Rn=t}var n=t.prototype;return n.In=function(t){return this.Rn.isEqualNode(t.Rn)},n.Nn=function(n){return new t(this.Rn.cloneNode(n))},T(t,[{key:"kn",get:function(){return Vt.bn}},{key:"Dn",get:function(){var t;return null!==(t=this.Rn.localName)&&void 0!==t?t:an(this.Rn.nodeName)}},{key:"Cn",get:function(){return this.Rn.nodeName}},{key:"On",get:function(){var t;return null!==(t=this.Rn.namespaceURI)&&void 0!==t?t:void 0}},{key:"xn",get:function(){var t;return null!==(t=this.Rn.prefix)&&void 0!==t?t:void 0}},{key:"Pn",get:function(){return this.Rn.nodeValue}}]),t}(),Kt=function(){function t(t){this.Bn=void 0,this.Ln=t}var n=t.prototype;return n.Mn=function(t){return this.Un.filter(function(n){return sn(n)&&n.Fn===t})},n.Hn=function(t,n){return this.Un.filter(function(i){return sn(i)&&i.Dn===n&&i.On===t})},n.Vn=function(t){this.Ln.appendChild(t.Xn),this.Bn&&this.Bn.push(t)},n.In=function(t){return this.Ln.isEqualNode(t.Xn)},T(t,[{key:"Un",get:function(){return void 0===this.Bn&&(this.Bn=function(t){for(var n=[],i=0;i<t.length;i++){var r=on(t.item(i));r&&n.push(r)}return n}(this.Ln.childNodes)),this.Bn}},{key:"Wn",get:function(){return this.Un.filter(sn)}},{key:"Xn",get:function(){return this.Ln}}]),t}(),tn=function(t){function n(n){return t.call(this,n)||this}qt(n,t);var i=n.prototype;return i.qn=function(t){var n;return null!==(n=this.Ln.getAttribute(t))&&void 0!==n?n:void 0},i.zn=function(t,n){var i;return null!==(i=this.Ln.getAttributeNS(t,n))&&void 0!==i?i:void 0},i.Gn=function(t){this.Ln.removeAttribute(t)},i.jn=function(t,n){this.Ln.removeAttributeNS(t,n)},i.Qn=function(t,n){this.Ln.setAttribute(t,n)},i.Yn=function(t,n,i){this.Ln.setAttributeNS(t,n,i)},i.Nn=function(t){return new n(this.Ln.cloneNode(t))},T(n,[{key:"kn",get:function(){return Vt.pn}},{key:"Dn",get:function(){var t;return null!==(t=this.Ln.localName)&&void 0!==t?t:an(this.Ln.nodeName)}},{key:"On",get:function(){var t;return null!==(t=this.Ln.namespaceURI)&&void 0!==t?t:void 0}},{key:"xn",get:function(){var t;return null!==(t=this.Ln.prefix)&&void 0!==t?t:void 0}},{key:"Fn",get:function(){return this.Ln.nodeName}},{key:"Zn",get:function(){return function(t){for(var n=[],i=0;i<t.length;i++)n.push(new $t(t.item(i)));return n}(this.Ln.attributes)}},{key:"Jn",get:function(){return this.Ln.textContent}}]),n}(Kt),nn=function(){function t(t){this.Ln=t}return t.prototype.In=function(t){return this.$n===t.$n},T(t,[{key:"$n",get:function(){return this.Ln.nodeValue}},{key:"Xn",get:function(){return this.Ln}}]),t}(),rn=function(t){function n(n){return t.call(this,n)||this}return qt(n,t),n.prototype.Nn=function(t){return new n(this.Ln.cloneNode(t))},T(n,[{key:"kn",get:function(){return Vt.An}}]),n}(nn),en=function(t){function n(n){return t.call(this,n)||this}return qt(n,t),n.prototype.Nn=function(t){return new n(this.Ln.cloneNode(t))},T(n,[{key:"kn",get:function(){return Vt.Tn}}]),n}(nn),un=function(t){function n(n){return t.call(this,n)||this}return qt(n,t),n.prototype.Nn=function(t){return new n(this.Ln.cloneNode(t))},T(n,[{key:"kn",get:function(){return Vt.En}},{key:"Kn",get:function(){return new tn(this.Ln.documentElement)}}]),n}(Kt);function sn(t){return zt(t)}function on(t){switch(t.nodeType){case Vt.pn:return new tn(t);case Vt.An:return new rn(t);case Vt.Tn:return new en(t)}}function an(t){var n=t.indexOf(":");return n<0?t:t.substr(n+1)}var cn="undefined"!=typeof globalThis?globalThis:void 0!==u?u:"undefined"!=typeof global?global:void 0!==t?t:{};function hn(t,n,i){return t(i={path:n,exports:{},require:function(t,n){return function(){throw new d("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==n&&i.path)}},i.exports),i.exports}var fn=hn(function(t){!function(t){var n,i=_.prototype,r=i.hasOwnProperty,e="function"==typeof Symbol?Symbol:{},u=e.iterator||"@@iterator",s=e.asyncIterator||"@@asyncIterator",o=e.toStringTag||"@@toStringTag";function a(t,n,i,r){var e=n&&n.prototype instanceof y?n:y,u=_.create(e.prototype),s=new C(r||[]);return u.ti=function(t,n,i){var r=h;return function(e,u){if(r===v)throw new d("Generator is already running");if(r===g){if("throw"===e)throw u;return x()}for(i.method=e,i.arg=u;;){var s=i.delegate;if(s){var o=I(s,i);if(o){if(o===w)continue;return o}}if("next"===i.method)i.sent=i.ni=i.arg;else if("throw"===i.method){if(r===h)throw r=g,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=v;var a=c(t,n,i);if("normal"===a.type){if(r=i.done?g:f,a.arg===w)continue;return{value:a.arg,done:i.done}}"throw"===a.type&&(r=g,i.method="throw",i.arg=a.arg)}}}(t,i,s),u}function c(t,n,i){try{return{type:"normal",arg:t.call(n,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=a;var h="suspendedStart",f="suspendedYield",v="executing",g="completed",w={};function y(){}function k(){}function p(){}var A={};A[u]=function(){return this};var b=_.getPrototypeOf,T=b&&b(b(O([])));T&&T!==i&&r.call(T,u)&&(A=T);var E=p.prototype=y.prototype=_.create(A);function S(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this.ti(n,t)}})}function R(t){var n;this.ti=function(i,e){function u(){return new Promise(function(n,u){!function n(i,e,u,s){var o=c(t[i],t,e);if("throw"!==o.type){var a=o.arg,h=a.value;return h&&"object"==typeof h&&r.call(h,"ii")?Promise.resolve(h.ii).then(function(t){n("next",t,u,s)},function(t){n("throw",t,u,s)}):Promise.resolve(h).then(function(t){a.value=t,u(a)},function(t){return n("throw",t,u,s)})}s(o.arg)}(i,e,n,u)})}return n=n?n.then(u,u):u()}}function I(t,i){var r=t.iterator[i.method];if(r===n){if(i.delegate=null,"throw"===i.method){if(t.iterator.return&&(i.method="return",i.arg=n,I(t,i),"throw"===i.method))return w;i.method="throw",i.arg=new l("The iterator does not provide a 'throw' method")}return w}var e=c(r,t.iterator,i.arg);if("throw"===e.type)return i.method="throw",i.arg=e.arg,i.delegate=null,w;var u=e.arg;return u?u.done?(i[t.resultName]=u.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=n),i.delegate=null,w):u:(i.method="throw",i.arg=new l("iterator result is not an object"),i.delegate=null,w)}function N(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function D(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(N,this),this.reset(!0)}function O(t){if(t){var i=t[u];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!m(t.length)){var e=-1,s=function i(){for(;++e<t.length;)if(r.call(t,e))return i.value=t[e],i.done=!1,i;return i.value=n,i.done=!0,i};return s.next=s}}return{next:x}}function x(){return{value:n,done:!0}}k.prototype=E.constructor=p,p.constructor=k,p[o]=k.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===k||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return _.setPrototypeOf?_.setPrototypeOf(t,p):(t.__proto__=p,o in t||(t[o]="GeneratorFunction")),t.prototype=_.create(E),t},t.awrap=function(t){return{ii:t}},S(R.prototype),R.prototype[s]=function(){return this},t.AsyncIterator=R,t.async=function(n,i,r,e){var u=new R(a(n,i,r,e));return t.isGeneratorFunction(i)?u:u.next().then(function(t){return t.done?t.value:u.next()})},S(E),E[o]="Generator",E[u]=function(){return this},E.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var i in t)n.push(i);return n.reverse(),function i(){for(;n.length;){var r=n.pop();if(r in t)return i.value=r,i.done=!1,i}return i.done=!0,i}},t.values=O,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this.ni=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(D),!t)for(var i in this)"t"===i.charAt(0)&&r.call(this,i)&&!m(+i.slice(1))&&(this[i]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function e(r,e){return o.type="throw",o.arg=t,i.next=r,e&&(i.method="next",i.arg=n),!!e}for(var u=this.tryEntries.length-1;u>=0;--u){var s=this.tryEntries[u],o=s.completion;if("root"===s.tryLoc)return e("end");if(s.tryLoc<=this.prev){var a=r.call(s,"catchLoc"),c=r.call(s,"finallyLoc");if(a&&c){if(this.prev<s.catchLoc)return e(s.catchLoc,!0);if(this.prev<s.finallyLoc)return e(s.finallyLoc)}else if(a){if(this.prev<s.catchLoc)return e(s.catchLoc,!0)}else{if(!c)throw new d("try statement without catch or finally");if(this.prev<s.finallyLoc)return e(s.finallyLoc)}}}},abrupt:function(t,n){for(var i=this.tryEntries.length-1;i>=0;--i){var e=this.tryEntries[i];if(e.tryLoc<=this.prev&&r.call(e,"finallyLoc")&&this.prev<e.finallyLoc){var u=e;break}}u&&("break"===t||"continue"===t)&&u.tryLoc<=n&&n<=u.finallyLoc&&(u=null);var s=u?u.completion:{};return s.type=t,s.arg=n,u?(this.method="next",this.next=u.finallyLoc,w):this.complete(s)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),w},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),D(i),w}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc===t){var r=i.completion;if("throw"===r.type){var e=r.arg;D(i)}return e}}throw new d("illegal catch attempt")},delegateYield:function(t,i,r){return this.delegate={iterator:O(t),resultName:i,nextLoc:r},"next"===this.method&&(this.arg=n),w}}}(t.exports)}),vn=hn(function(n,r){n.exports=function t(n,r,e){function u(o,a){if(!r[o]){if(!n[o]){var c="function"==typeof i&&i;if(!a&&c)return c(o,!0);if(s)return s(o,!0);var h=new d("Cannot find module '"+o+"'");throw h.code="MODULE_NOT_FOUND",h}var f=r[o]={exports:{}};n[o][0].call(f.exports,function(t){var i=n[o][1][t];return u(i||t)},f,f.exports,t,n,r,e)}return r[o].exports}for(var s="function"==typeof i&&i,o=0;o<e.length;o++)u(e[o]);return u}({1:[function(t,n,i){n.exports=function(t){var n=t.ri;function i(t){var i=new n(t),r=i.promise();return i.setHowMany(1),i.setUnwrap(),i.init(),r}t.any=function(t){return i(t)},t.prototype.any=function(){return i(this)}}},{}],2:[function(t,n,i){var r;try{throw new d}catch(t){r=t}var e=t("./schedule"),u=t("./queue"),s=t("./util");function o(){this.ei=!1,this.ui=!1,this.si=new u(16),this.oi=new u(16),this.ai=!1,this.ci=!0;var t=this;this.drainQueues=function(){t.hi()},this.fi=e}function a(t,n,i){this.si.push(t,n,i),this.vi()}function h(t,n,i){this.oi.push(t,n,i),this.vi()}function f(t){this.oi.di(t),this.vi()}function v(t){for(;t.length()>0;)l(t)}function l(t){var n=t.shift();if("function"!=typeof n)n.li();else{var i=t.shift(),r=t.shift();n.call(i,r)}}o.prototype.setScheduler=function(t){var n=this.fi;return this.fi=t,this.ei=!0,n},o.prototype.hasCustomScheduler=function(){return this.ei},o.prototype.enableTrampoline=function(){this.ci=!0},o.prototype.disableTrampolineIfNecessary=function(){s.hasDevTools&&(this.ci=!1)},o.prototype.haveItemsQueued=function(){return this.ui||this.ai},o.prototype.fatalError=function(t,n){n?(process.stderr.write("Fatal "+(t instanceof d?t.stack:t)+"\n"),process.exit(2)):this.throwLater(t)},o.prototype.throwLater=function(t,n){if(1===arguments.length&&(n=t,t=function(){throw n}),void 0!==c)c(function(){t(n)},0);else try{this.fi(function(){t(n)})}catch(t){throw new d("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},s.hasDevTools?(o.prototype.invokeLater=function(t,n,i){this.ci?a.call(this,t,n,i):this.fi(function(){c(function(){t.call(n,i)},100)})},o.prototype.invoke=function(t,n,i){this.ci?h.call(this,t,n,i):this.fi(function(){t.call(n,i)})},o.prototype.settlePromises=function(t){this.ci?f.call(this,t):this.fi(function(){t.li()})}):(o.prototype.invokeLater=a,o.prototype.invoke=h,o.prototype.settlePromises=f),o.prototype.hi=function(){v(this.oi),this._i(),this.ai=!0,v(this.si)},o.prototype.vi=function(){this.ui||(this.ui=!0,this.fi(this.drainQueues))},o.prototype._i=function(){this.ui=!1},n.exports=o,n.exports.firstLineError=r},{"./queue":26,"./schedule":29,"./util":36}],3:[function(t,n,i){n.exports=function(t,n,i,r){var e=!1,u=function(t,n){this.gi(n)},s=function(t,n){n.promiseRejectionQueued=!0,n.bindingPromise.wi(u,u,null,this,t)},o=function(t,n){0==(50397184&this.yi)&&this.mi(n.target)},a=function(t,n){n.promiseRejectionQueued||this.gi(t)};t.prototype.bind=function(u){e||(e=!0,t.prototype.ki=r.propagateFromFunction(),t.prototype.pi=r.boundValueFunction());var c=i(u),h=new t(n);h.ki(this,1);var f=this.Ai();if(h.bi(c),c instanceof t){var v={promiseRejectionQueued:!1,promise:h,target:f,bindingPromise:c};f.wi(n,s,void 0,h,v),c.wi(o,a,void 0,h,v),h.Ti(c)}else h.mi(f);return h},t.prototype.bi=function(t){void 0!==t?(this.yi=2097152|this.yi,this.Ei=t):this.yi=-2097153&this.yi},t.prototype.Si=function(){return 2097152==(2097152&this.yi)},t.bind=function(n,i){return t.resolve(i).bind(n)}}},{}],4:[function(t,n,i){var r;"undefined"!=typeof Promise&&(r=Promise);var e=t("./promise")();e.noConflict=function(){try{Promise===e&&(Promise=r)}catch(t){}return e},n.exports=e},{"./promise":22}],5:[function(t,n,i){var r=_.create;if(r){var e=r(null),u=r(null);e[" size"]=u[" size"]=0}n.exports=function(n){var i=t("./util"),r=i.canEvaluate;function e(t){var r=this.pop(),e=function(t,r){var e;if(null!=t&&(e=t[r]),"function"!=typeof e){var u="Object "+i.classString(t)+" has no method '"+i.toString(r)+"'";throw new n.TypeError(u)}return e}(t,r);return e.apply(t,this)}function u(t){return t[this]}function s(t){var n=+this;return n<0&&(n=g.max(0,n+t.length)),t[n]}i.isIdentifier,n.prototype.call=function(t){var n=[].slice.call(arguments,1);return n.push(t),this.wi(e,void 0,void 0,n,void 0)},n.prototype.get=function(t){var n,i="number"==typeof t;if(i)n=s;else if(r){var e=(void 0)();n=null!==e?e:u}else n=u;return this.wi(n,void 0,void 0,t,void 0)}}},{"./util":36}],6:[function(t,n,i){n.exports=function(n,i,r,e){var u=t("./util"),s=u.tryCatch,o=u.errorObj,a=n.Ri;n.prototype.break=n.prototype.cancel=function(){if(!e.cancellation())return this.Ii("cancellation is disabled");for(var t=this,n=t;t.Ni();){if(!t.Di(n)){n.Ci()?n.Oi().cancel():n.xi();break}var i=t.Pi;if(null==i||!i.Ni()){t.Ci()?t.Oi().cancel():t.xi();break}t.Ci()&&t.Oi().cancel(),t.Bi(),n=t,t=i}},n.prototype.Li=function(){this.Mi--},n.prototype.Ui=function(){return void 0===this.Mi||this.Mi<=0},n.prototype.Di=function(t){return t===this?(this.Mi=0,this.Fi(),!0):(this.Li(),!!this.Ui()&&(this.Fi(),!0))},n.prototype.xi=function(){this.Ui()&&this.Hi()},n.prototype.Hi=function(){this.Ni()&&(this.Vi(),a.invoke(this.Xi,this,void 0))},n.prototype.Xi=function(){this.Wi()>0&&this.li()},n.prototype.qi=function(){this.zi=void 0},n.prototype.Ni=function(){return this.isPending()&&!this.Gi()},n.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},n.prototype.ji=function(t,n){if(u.isArray(t))for(var i=0;i<t.length;++i)this.ji(t[i],n);else if(void 0!==t)if("function"==typeof t){if(!n){var r=s(t).call(this.pi());r===o&&(this.Qi(r.e),a.throwLater(r.e))}}else t._resultCancelled(this)},n.prototype.Fi=function(){var t=this.Yi();this.qi(),a.invoke(this.ji,this,t)},n.prototype.Zi=function(){this.Ni()&&(this.ji(this.Yi(),!0),this.qi())},n.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(t,n,i){n.exports=function(n){var i=t("./util"),r=t("./es5").keys,e=i.tryCatch,u=i.errorObj;return function(t,s,o){return function(a){var c=o.pi();t:for(var h=0;h<t.length;++h){var f=t[h];if(f===d||null!=f&&f.prototype instanceof d){if(a instanceof f)return e(s).call(c,a)}else if("function"==typeof f){var v=e(f).call(c,a);if(v===u)return v;if(v)return e(s).call(c,a)}else if(i.isObject(a)){for(var l=r(f),_=0;_<l.length;++_){var g=l[_];if(f[g]!=a[g])continue t}return e(s).call(c,a)}}return n}}}},{"./es5":13,"./util":36}],8:[function(t,n,i){n.exports=function(t){var n=!1,i=[];function r(){this.Ji=new r.CapturedTrace(e())}function e(){var t=i.length-1;if(t>=0)return i[t]}return t.prototype.$i=function(){},t.prototype.Ki=function(){},t.prototype.tr=function(){return null},t.nr=t.prototype.nr=function(){},r.prototype.Ki=function(){void 0!==this.Ji&&(this.Ji.$i=null,i.push(this.Ji))},r.prototype.tr=function(){if(void 0!==this.Ji){var t=i.pop(),n=t.$i;return t.$i=null,n}return null},r.CapturedTrace=null,r.create=function(){if(n)return new r},r.deactivateLongStackTraces=function(){},r.activateLongStackTraces=function(){var i=t.prototype.Ki,u=t.prototype.tr,s=t.nr,o=t.prototype.nr,a=t.prototype.$i;r.deactivateLongStackTraces=function(){t.prototype.Ki=i,t.prototype.tr=u,t.nr=s,t.prototype.nr=o,t.prototype.$i=a,n=!1},n=!0,t.prototype.Ki=r.prototype.Ki,t.prototype.tr=r.prototype.tr,t.nr=t.prototype.nr=e,t.prototype.$i=function(){var t=this.nr();t&&null==t.$i&&(t.$i=this)}},r}},{}],9:[function(t,n,i){n.exports=function(n,i){var r,e,u,o=n.ir,a=n.Ri,h=t("./errors").Warning,f=t("./util"),v=t("./es5"),g=f.canAttachTrace,y=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,m=/\((?:timers\.js):\d+:\d+\)/,k=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,p=null,A=null,b=!1,T=!(0==f.env("BLUEBIRD_DEBUG")),E=!(0==f.env("BLUEBIRD_WARNINGS")||!T&&!f.env("BLUEBIRD_WARNINGS")),S=!(0==f.env("BLUEBIRD_LONG_STACK_TRACES")||!T&&!f.env("BLUEBIRD_LONG_STACK_TRACES")),R=0!=f.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(E||!!f.env("BLUEBIRD_W_FORGOTTEN_RETURN"));n.prototype.suppressUnhandledRejections=function(){var t=this.Ai();t.yi=-1048577&t.yi|524288},n.prototype.rr=function(){if(0==(524288&this.yi)){this.er();var t=this;c(function(){t.ur()},1)}},n.prototype.sr=function(){Z("rejectionHandled",r,void 0,this)},n.prototype.ar=function(){this.yi=268435456|this.yi},n.prototype.cr=function(){return 0!=(268435456&this.yi)},n.prototype.ur=function(){if(this.hr()){var t=this.dr();this._r(),Z("unhandledRejection",e,t,this)}},n.prototype._r=function(){this.yi=262144|this.yi},n.prototype.gr=function(){this.yi=-262145&this.yi},n.prototype.wr=function(){return(262144&this.yi)>0},n.prototype.er=function(){this.yi=1048576|this.yi},n.prototype.yr=function(){this.yi=-1048577&this.yi,this.wr()&&(this.gr(),this.sr())},n.prototype.hr=function(){return(1048576&this.yi)>0},n.prototype.Ii=function(t,n,i){return G(t,n,i||this)},n.onPossiblyUnhandledRejection=function(t){var n=o();e="function"==typeof t?null===n?t:f.domainBind(n,t):void 0},n.onUnhandledRejectionHandled=function(t){var n=o();r="function"==typeof t?null===n?t:f.domainBind(n,t):void 0};var I=function(){};n.longStackTraces=function(){if(a.haveItemsQueued()&&!et.longStackTraces)throw new d("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!et.longStackTraces&&$()){var t=n.prototype.mr,r=n.prototype.Qi,e=n.prototype.kr;et.longStackTraces=!0,I=function(){if(a.haveItemsQueued()&&!et.longStackTraces)throw new d("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");n.prototype.mr=t,n.prototype.Qi=r,n.prototype.kr=e,i.deactivateLongStackTraces(),a.enableTrampoline(),et.longStackTraces=!1},n.prototype.mr=W,n.prototype.Qi=q,n.prototype.kr=z,i.activateLongStackTraces(),a.disableTrampolineIfNecessary()}},n.hasLongStackTraces=function(){return et.longStackTraces&&$()};var N=function(){try{if("function"==typeof CustomEvent){var t=new CustomEvent("CustomEvent");return f.global.dispatchEvent(t),function(t,n){var i={detail:n,cancelable:!0};v.defineProperty(i,"promise",{value:n.promise}),v.defineProperty(i,"reason",{value:n.reason});var r=new CustomEvent(t.toLowerCase(),i);return!f.global.dispatchEvent(r)}}if("function"==typeof Event){var t=new Event("CustomEvent");return f.global.dispatchEvent(t),function(t,n){var i=new Event(t.toLowerCase(),{cancelable:!0});return i.detail=n,v.defineProperty(i,"promise",{value:n.promise}),v.defineProperty(i,"reason",{value:n.reason}),!f.global.dispatchEvent(i)}}var t=s.createEvent("CustomEvent");return t.initCustomEvent("testingtheevent",!1,!0,{}),f.global.dispatchEvent(t),function(t,n){var i=s.createEvent("CustomEvent");return i.initCustomEvent(t.toLowerCase(),!1,!0,n),!f.global.dispatchEvent(i)}}catch(t){}return function(){return!1}}(),D=f.isNode?function(){return process.emit.apply(process,arguments)}:f.global?function(t){var n="on"+t.toLowerCase(),i=f.global[n];return!!i&&(i.apply(f.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function C(t,n){return{promise:n}}var O={promiseCreated:C,promiseFulfilled:C,promiseRejected:C,promiseResolved:C,promiseCancelled:C,promiseChained:function(t,n,i){return{promise:n,child:i}},warning:function(t,n){return{warning:n}},unhandledRejection:function(t,n,i){return{reason:n,promise:i}},rejectionHandled:C},x=function(t){var n=!1;try{n=D.apply(null,arguments)}catch(t){a.throwLater(t),n=!0}var i=!1;try{i=N(t,O[t].apply(null,arguments))}catch(t){a.throwLater(t),i=!0}return i||n};function P(){return!1}function B(t,n,i){var r=this;try{t(n,i,function(t){if("function"!=typeof t)throw new l("onCancel must be a function, got: "+f.toString(t));r.pr(t)})}catch(t){return t}}function L(t){if(!this.Ni())return this;var n=this.Yi();void 0!==n?f.isArray(n)?n.push(t):this.Ti([n,t]):this.Ti(t)}function M(){return this.zi}function U(t){this.zi=t}function F(){this.Pi=void 0,this.zi=void 0}function H(t,n){if(0!=(1&n)){this.Pi=t;var i=t.Mi;void 0===i&&(i=0),t.Mi=i+1}0!=(2&n)&&t.Si()&&this.bi(t.Ei)}n.config=function(t){if("longStackTraces"in(t=_(t))&&(t.longStackTraces?n.longStackTraces():!t.longStackTraces&&n.hasLongStackTraces()&&I()),"warnings"in t){var i=t.warnings;et.warnings=!!i,R=et.warnings,f.isObject(i)&&"wForgottenReturn"in i&&(R=!!i.wForgottenReturn)}if("cancellation"in t&&t.cancellation&&!et.cancellation){if(a.haveItemsQueued())throw new d("cannot enable cancellation after promises are in use");n.prototype.Ar=F,n.prototype.ki=H,n.prototype.Yi=M,n.prototype.Ti=U,n.prototype.pr=L,n.prototype.Tr=B,V=H,et.cancellation=!0}return"monitoring"in t&&(t.monitoring&&!et.monitoring?(et.monitoring=!0,n.prototype.Er=x):!t.monitoring&&et.monitoring&&(et.monitoring=!1,n.prototype.Er=P)),n},n.prototype.Er=P,n.prototype.Tr=function(t,n,i){try{t(n,i)}catch(t){return t}},n.prototype.Yi=function(){},n.prototype.Ti=function(t){},n.prototype.pr=function(t){},n.prototype.mr=function(){},n.prototype.Qi=function(){},n.prototype.kr=function(){},n.prototype.Ar=function(){},n.prototype.ki=function(t,n){};var V=function(t,n){0!=(2&n)&&t.Si()&&this.bi(t.Ei)};function X(){var t=this.Ei;return void 0!==t&&t instanceof n?t.isFulfilled()?t.value():void 0:t}function W(){this.Ji=new it(this.nr())}function q(t,n){if(g(t)){var i=this.Ji;if(void 0!==i&&n&&(i=i.Sr),void 0!==i)i.attachExtraTrace(t);else if(!t.Rr){var r=Q(t);f.notEnumerableProp(t,"stack",r.message+"\n"+r.stack.join("\n")),f.notEnumerableProp(t,"Rr",!0)}}}function z(){this.Ji=void 0}function G(t,i,r){if(et.warnings){var e,u=new h(t);if(i)r.Qi(u);else if(et.longStackTraces&&(e=n.nr()))e.attachExtraTrace(u);else{var s=Q(u);u.stack=s.message+"\n"+s.stack.join("\n")}x("warning",u)||Y(u,"",!0)}}function j(t){for(var n=[],i=0;i<t.length;++i){var r=t[i],e="    (No stack trace)"===r||p.test(r),u=e&&K(r);e&&!u&&(b&&" "!==r.charAt(0)&&(r="    "+r),n.push(r))}return n}function Q(t){var n=t.stack,i=t.toString();return n="string"==typeof n&&n.length>0?function(t){for(var n=t.stack.replace(/\s+$/g,"").split("\n"),i=0;i<n.length;++i){var r=n[i];if("    (No stack trace)"===r||p.test(r))break}return i>0&&"SyntaxError"!=t.name&&(n=n.slice(i)),n}(t):["    (No stack trace)"],{message:i,stack:"SyntaxError"==t.name?n:j(n)}}function Y(t,n,i){if("undefined"!=typeof console){var r;if(f.isObject(t)){var e=t.stack;r=n+A(e,t)}else r=n+String(t);"function"==typeof u?u(r,i):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(r)}}function Z(t,n,i,r){var e=!1;try{"function"==typeof n&&(e=!0,"rejectionHandled"===t?n(r):n(i,r))}catch(t){a.throwLater(t)}"unhandledRejection"===t?x(t,i,r)||e||Y(i,"Unhandled rejection "):x(t,r)}function J(t){var n;if("function"==typeof t)n="[function "+(t.name||"anonymous")+"]";else{if(n=t&&"function"==typeof t.toString?t.toString():f.toString(t),/\[object [a-zA-Z0-9$_]+\]/.test(n))try{var i=JSON.stringify(t);n=i}catch(t){}0===n.length&&(n="(empty array)")}return"(<"+function(t){return t.length<41?t:t.substr(0,38)+"..."}(n)+">, no stack trace)"}function $(){return"function"==typeof rt}var K=function(){return!1},tt=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function nt(t){var n=t.match(tt);if(n)return{fileName:n[1],line:w(n[2],10)}}function it(t){this.Sr=t,this.Ir=0;var n=this.Wi=1+(void 0===t?0:t.Wi);rt(this,it),n>32&&this.uncycle()}f.inherits(it,d),i.CapturedTrace=it,it.prototype.uncycle=function(){var t=this.Wi;if(!(t<2)){for(var n=[],i={},r=0,e=this;void 0!==e;++r)n.push(e),e=e.Sr;for(var r=(t=this.Wi=r)-1;r>=0;--r){var u=n[r].stack;void 0===i[u]&&(i[u]=r)}for(var r=0;r<t;++r){var s=n[r].stack,o=i[s];if(void 0!==o&&o!==r){o>0&&(n[o-1].Sr=void 0,n[o-1].Wi=1),n[r].Sr=void 0,n[r].Wi=1;var a=r>0?n[r-1]:this;o<t-1?(a.Sr=n[o+1],a.Sr.uncycle(),a.Wi=a.Sr.Wi+1):(a.Sr=void 0,a.Wi=1);for(var c=a.Wi+1,h=r-2;h>=0;--h)n[h].Wi=c,c++;return}}}},it.prototype.attachExtraTrace=function(t){if(!t.Rr){this.uncycle();for(var n=Q(t),i=n.message,r=[n.stack],e=this;void 0!==e;)r.push(j(e.stack.split("\n"))),e=e.Sr;!function(t){for(var n=t[0],i=1;i<t.length;++i){for(var r=t[i],e=n.length-1,u=n[e],s=-1,o=r.length-1;o>=0;--o)if(r[o]===u){s=o;break}for(var o=s;o>=0;--o){var a=r[o];if(n[e]!==a)break;n.pop(),e--}n=r}}(r),function(t){for(var n=0;n<t.length;++n)(0===t[n].length||n+1<t.length&&t[n][0]===t[n+1][0])&&(t.splice(n,1),n--)}(r),f.notEnumerableProp(t,"stack",function(t,n){for(var i=0;i<n.length-1;++i)n[i].push("From previous event:"),n[i]=n[i].join("\n");return i<n.length&&(n[i]=n[i].join("\n")),t+"\n"+n.join("\n")}(i,r)),f.notEnumerableProp(t,"Rr",!0)}};var rt=function(){var t=/^\s*at\s*/,n=function(t,n){return"string"==typeof t?t:void 0!==n.name&&void 0!==n.message?n.toString():J(n)};if("number"==typeof d.stackTraceLimit&&"function"==typeof d.captureStackTrace){d.stackTraceLimit+=6,p=t,A=n;var i=d.captureStackTrace;return K=function(t){return y.test(t)},function(t,n){d.stackTraceLimit+=6,i(t,n),d.stackTraceLimit-=6}}var r,e=new d;if("string"==typeof e.stack&&e.stack.split("\n")[0].indexOf("stackDetection@")>=0)return p=/@/,A=n,b=!0,function(t){t.stack=(new d).stack};try{throw new d}catch(t){r="stack"in t}return"stack"in e||!r||"number"!=typeof d.stackTraceLimit?(A=function(t,n){return"string"==typeof t?t:"object"!=typeof n&&"function"!=typeof n||void 0===n.name||void 0===n.message?J(n):n.toString()},null):(p=t,A=n,function(t){d.stackTraceLimit+=6;try{throw new d}catch(n){t.stack=n.stack}d.stackTraceLimit-=6})}();"undefined"!=typeof console&&void 0!==console.warn&&(u=function(t){console.warn(t)},f.isNode&&process.stderr.isTTY?u=function(t,n){var i=n?"\x1b[33m":"\x1b[31m";console.warn(i+t+"\x1b[0m\n")}:f.isNode||"string"!=typeof(new d).stack||(u=function(t,n){console.warn("%c"+t,n?"color: darkorange":"color: red")}));var et={warnings:E,longStackTraces:!1,cancellation:!1,monitoring:!1};return S&&n.longStackTraces(),{longStackTraces:function(){return et.longStackTraces},warnings:function(){return et.warnings},cancellation:function(){return et.cancellation},monitoring:function(){return et.monitoring},propagateFromFunction:function(){return V},boundValueFunction:function(){return X},checkForgottenReturns:function(t,n,i,r,e){if(void 0===t&&null!==n&&R){if(void 0!==e&&e.cr())return;if(0==(65535&r.yi))return;i&&(i+=" ");var u="",s="";if(n.Ji){for(var o=n.Ji.stack.split("\n"),a=j(o),c=a.length-1;c>=0;--c){var h=a[c];if(!m.test(h)){var f=h.match(k);f&&(u="at "+f[1]+":"+f[2]+":"+f[3]+" ");break}}if(a.length>0)for(var v=a[0],c=0;c<o.length;++c)if(o[c]===v){c>0&&(s="\n"+o[c-1]);break}}var d="a promise was created in a "+i+"handler "+u+"but was not returned from it, see http://goo.gl/rRqMUw"+s;r.Ii(d,!0,n)}},setBounds:function(t,n){if($()){for(var i,r,e=(t.stack||"").split("\n"),u=(n.stack||"").split("\n"),s=-1,o=-1,a=0;a<e.length;++a){var c=nt(e[a]);if(c){i=c.fileName,s=c.line;break}}for(var a=0;a<u.length;++a){var c=nt(u[a]);if(c){r=c.fileName,o=c.line;break}}s<0||o<0||!i||!r||i!==r||s>=o||(K=function(t){if(y.test(t))return!0;var n=nt(t);return!!(n&&n.fileName===i&&s<=n.line&&n.line<=o)})}},warn:G,deprecated:function(t,n){var i=t+" is deprecated and will be removed in a future version.";return n&&(i+=" Use "+n+" instead."),G(i)},CapturedTrace:it,fireDomEvent:N,fireGlobalEvent:D}}},{"./errors":12,"./es5":13,"./util":36}],10:[function(t,n,i){n.exports=function(t){function n(){return this.value}function i(){throw this.reason}t.prototype.return=t.prototype.thenReturn=function(i){return i instanceof t&&i.suppressUnhandledRejections(),this.wi(n,void 0,void 0,{value:i},void 0)},t.prototype.throw=t.prototype.thenThrow=function(t){return this.wi(i,void 0,void 0,{reason:t},void 0)},t.prototype.catchThrow=function(t){if(arguments.length<=1)return this.wi(void 0,i,void 0,{reason:t},void 0);var n=arguments[1];return this.caught(t,function(){throw n})},t.prototype.catchReturn=function(i){if(arguments.length<=1)return i instanceof t&&i.suppressUnhandledRejections(),this.wi(void 0,n,void 0,{value:i},void 0);var r=arguments[1];return r instanceof t&&r.suppressUnhandledRejections(),this.caught(i,function(){return r})}}},{}],11:[function(t,n,i){n.exports=function(t,n){var i=t.reduce,r=t.all;function e(){return r(this)}t.prototype.each=function(t){return i(this,t,n,0).wi(e,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(t){return i(this,t,n,n)},t.each=function(t,r){return i(t,r,n,0).wi(e,void 0,void 0,t,void 0)},t.mapSeries=function(t,r){return i(t,r,n,n)}}},{}],12:[function(t,n,i){var r,e,u=t("./es5"),s=u.freeze,o=t("./util"),a=o.inherits,c=o.notEnumerableProp;function h(t,n){function i(r){if(!(this instanceof i))return new i(r);c(this,"message","string"==typeof r?r:n),c(this,"name",t),d.captureStackTrace?d.captureStackTrace(this,this.constructor):d.call(this)}return a(i,d),i}var f=h("Warning","warning"),v=h("CancellationError","cancellation error"),_=h("TimeoutError","timeout error"),g=h("AggregateError","aggregate error");try{r=l,e=RangeError}catch(t){r=h("TypeError","type error"),e=h("RangeError","range error")}for(var w="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),y=0;y<w.length;++y)"function"==typeof Array.prototype[w[y]]&&(g.prototype[w[y]]=Array.prototype[w[y]]);u.defineProperty(g.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),g.prototype.isOperational=!0;var m=0;function k(t){if(!(this instanceof k))return new k(t);c(this,"name","OperationalError"),c(this,"message",t),this.cause=t,this.isOperational=!0,t instanceof d?(c(this,"message",t.message),c(this,"stack",t.stack)):d.captureStackTrace&&d.captureStackTrace(this,this.constructor)}g.prototype.toString=function(){var t=Array(4*m+1).join(" "),n="\n"+t+"AggregateError of:\n";m++,t=Array(4*m+1).join(" ");for(var i=0;i<this.length;++i){for(var r=this[i]===this?"[Circular AggregateError]":this[i]+"",e=r.split("\n"),u=0;u<e.length;++u)e[u]=t+e[u];r=e.join("\n"),n+=r+"\n"}return m--,n},a(k,d);var p=d.Nr;p||(p=s({CancellationError:v,TimeoutError:_,OperationalError:k,RejectionError:k,AggregateError:g}),u.defineProperty(d,"Nr",{value:p,writable:!1,enumerable:!1,configurable:!1})),n.exports={Error:d,TypeError:r,RangeError:e,CancellationError:p.CancellationError,OperationalError:p.OperationalError,TimeoutError:p.TimeoutError,AggregateError:p.AggregateError,Warning:f}},{"./es5":13,"./util":36}],13:[function(t,n,i){var r=function(){return void 0===this}();if(r)n.exports={freeze:_.freeze,defineProperty:_.defineProperty,getDescriptor:_.getOwnPropertyDescriptor,keys:_.keys,names:_.getOwnPropertyNames,getPrototypeOf:_.getPrototypeOf,isArray:Array.isArray,isES5:r,propertyIsWritable:function(t,n){var i=_.getOwnPropertyDescriptor(t,n);return!(i&&!i.writable&&!i.set)}};else{var e={}.hasOwnProperty,u={}.toString,s={}.constructor.prototype,o=function(t){var n=[];for(var i in t)e.call(t,i)&&n.push(i);return n};n.exports={isArray:function(t){try{return"[object Array]"===u.call(t)}catch(t){return!1}},keys:o,names:o,defineProperty:function(t,n,i){return t[n]=i.value,t},getDescriptor:function(t,n){return{value:t[n]}},freeze:function(t){return t},getPrototypeOf:function(t){try{return _(t).constructor.prototype}catch(t){return s}},isES5:r,propertyIsWritable:function(){return!0}}}},{}],14:[function(t,n,i){n.exports=function(t,n){var i=t.map;t.prototype.filter=function(t,r){return i(this,t,r,n)},t.filter=function(t,r,e){return i(t,r,e,n)}}},{}],15:[function(t,n,i){n.exports=function(n,i,r){var e=t("./util"),u=n.CancellationError,s=e.errorObj,o=t("./catch_filter")(r);function a(t,n,i){this.promise=t,this.type=n,this.handler=i,this.called=!1,this.cancelPromise=null}function c(t){this.finallyHandler=t}function h(t,n){return null!=t.cancelPromise&&(arguments.length>1?t.cancelPromise.gi(n):t.cancelPromise.Hi(),t.cancelPromise=null,!0)}function f(){return d.call(this,this.promise.Ai().dr())}function v(t){if(!h(this,t))return s.e=t,s}function d(t){var e=this.promise,o=this.handler;if(!this.called){this.called=!0;var a=this.isFinallyHandler()?o.call(e.pi()):o.call(e.pi(),t);if(a===r)return a;if(void 0!==a){e.ar();var d=i(a,e);if(d instanceof n){if(null!=this.cancelPromise){if(d.Gi()){var l=new u("late cancellation observer");return e.Qi(l),s.e=l,s}d.isPending()&&d.pr(new c(this))}return d.wi(f,v,void 0,this,void 0)}}}return e.isRejected()?(h(this),s.e=t,s):(h(this),t)}return a.prototype.isFinallyHandler=function(){return 0===this.type},c.prototype._resultCancelled=function(){h(this.finallyHandler)},n.prototype.Dr=function(t,n,i,r){return"function"!=typeof t?this.then():this.wi(i,r,void 0,new a(this,n,t),void 0)},n.prototype.lastly=n.prototype.finally=function(t){return this.Dr(t,0,d,d)},n.prototype.tap=function(t){return this.Dr(t,1,d)},n.prototype.tapCatch=function(t){var i=arguments.length;if(1===i)return this.Dr(t,1,void 0,d);var r,u=new Array(i-1),s=0;for(r=0;r<i-1;++r){var a=arguments[r];if(!e.isObject(a))return n.reject(new l("tapCatch statement predicate: expecting an object but got "+e.classString(a)));u[s++]=a}u.length=s;var c=arguments[r];return this.Dr(o(u,c,this),1,void 0,d)},a}},{"./catch_filter":7,"./util":36}],16:[function(t,n,i){n.exports=function(n,i,r,e,u,s){var o=t("./errors"),a=o.TypeError,c=t("./util"),h=c.errorObj,f=c.tryCatch,v=[];function l(t,i,e,u){if(s.cancellation()){var o=new n(r),a=this.Cr=new n(r);this.Or=o.lastly(function(){return a}),o.mr(),o.Ti(this)}else{var c=this.Or=new n(r);c.mr()}this.xr=u,this.Pr=t,this.Br=i,this.Lr=void 0,this.Mr="function"==typeof e?[e].concat(v):v,this.Ur=null,this.Fr=!1}c.inherits(l,u),l.prototype.Hr=function(){return null===this.Or},l.prototype.Vr=function(){this.Or=this.Lr=null,s.cancellation()&&null!==this.Cr&&(this.Cr.Xr(),this.Cr=null)},l.prototype.Wr=function(){if(!this.Hr()){var t,i=void 0!==this.Lr.return;if(i)this.Or.Ki(),t=f(this.Lr.return).call(this.Lr,void 0),this.Or.tr();else{var r=new n.CancellationError("generator .return() sentinel");n.coroutine.returnSentinel=r,this.Or.Qi(r),this.Or.Ki(),t=f(this.Lr.throw).call(this.Lr,r),this.Or.tr()}this.Fr=!0,this.Ur=null,this.qr(t)}},l.prototype.zr=function(t){this.Ur=null,this.Or.Ki();var n=f(this.Lr.next).call(this.Lr,t);this.Or.tr(),this.qr(n)},l.prototype.Gr=function(t){this.Ur=null,this.Or.Qi(t),this.Or.Ki();var n=f(this.Lr.throw).call(this.Lr,t);this.Or.tr(),this.qr(n)},l.prototype._resultCancelled=function(){if(this.Ur instanceof n){var t=this.Ur;this.Ur=null,t.cancel()}},l.prototype.promise=function(){return this.Or},l.prototype.jr=function(){this.Lr=this.Pr.call(this.Br),this.Br=this.Pr=void 0,this.zr(void 0)},l.prototype.qr=function(t){var i=this.Or;if(t===h)return this.Vr(),this.Fr?i.cancel():i.Qr(t.e,!1);var r=t.value;if(!0===t.done)return this.Vr(),this.Fr?i.cancel():i.mi(r);var u=e(r,this.Or);if(u instanceof n||null!==(u=function(t,i,r){for(var u=0;u<i.length;++u){r.Ki();var s=f(i[u])(t);if(r.tr(),s===h){r.Ki();var o=n.reject(h.e);return r.tr(),o}var a=e(s,r);if(a instanceof n)return a}return null}(u,this.Mr,this.Or))){var s=(u=u.Ai()).yi;0==(50397184&s)?(this.Ur=u,u.Yr(this,null)):0!=(33554432&s)?n.Ri.invoke(this.zr,this,u.Zr()):0!=(16777216&s)?n.Ri.invoke(this.Gr,this,u.Jr()):this.Wr()}else this.Gr(new a("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(r))+"From coroutine:\n"+this.xr.split("\n").slice(1,-7).join("\n")))},n.coroutine=function(t,n){if("function"!=typeof t)throw new a("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var i=_(n).yieldHandler,r=l,e=(new d).stack;return function(){var n=t.apply(this,arguments),u=new r(void 0,void 0,i,e),s=u.promise();return u.Lr=n,u.zr(void 0),s}},n.coroutine.addYieldHandler=function(t){if("function"!=typeof t)throw new a("expecting a function but got "+c.classString(t));v.push(t)},n.spawn=function(t){if(s.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof t)return i("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var r=new l(t,this),e=r.promise();return r.jr(n.spawn),e}}},{"./errors":12,"./util":36}],17:[function(t,n,i){n.exports=function(n,i,r,e,u,s){var o=t("./util");o.canEvaluate,o.tryCatch,o.errorObj,n.join=function(){var t,n=arguments.length-1;n>0&&"function"==typeof arguments[n]&&(t=arguments[n]);var r=[].slice.call(arguments);t&&r.pop();var e=new i(r).promise();return void 0!==t?e.spread(t):e}}},{"./util":36}],18:[function(t,n,i){n.exports=function(n,i,r,e,u,s){var o=n.ir,a=t("./util"),c=a.tryCatch,h=a.errorObj,f=n.Ri;function v(t,n,i,r){this.constructor$(t),this.Or.mr();var e=o();this.$r=null===e?n:a.domainBind(e,n),this.Kr=r===u?new Array(this.length()):null,this.te=i,this.ie=0,this.re=[],f.invoke(this.ee,this,void 0)}function d(t,i,e,u){if("function"!=typeof i)return r("expecting a function but got "+a.classString(i));var s=0;if(void 0!==e){if("object"!=typeof e||null===e)return n.reject(new l("options argument must be an object but it is "+a.classString(e)));if("number"!=typeof e.concurrency)return n.reject(new l("'concurrency' must be a number but it is "+a.classString(e.concurrency)));s=e.concurrency}return s="number"==typeof s&&isFinite(s)&&s>=1?s:0,new v(t,i,s,u).promise()}a.inherits(v,i),v.prototype.ee=function(){this._init$(void 0,-2)},v.prototype._init=function(){},v.prototype.zr=function(t,i){var r=this.ue,u=this.length(),o=this.Kr,a=this.te;if(i<0){if(r[i=-1*i-1]=t,a>=1&&(this.ie--,this.se(),this.Hr()))return!0}else{if(a>=1&&this.ie>=a)return r[i]=t,this.re.push(i),!1;null!==o&&(o[i]=t);var f=this.Or,v=this.$r,d=f.pi();f.Ki();var l=c(v).call(d,t,i,u),_=f.tr();if(s.checkForgottenReturns(l,_,null!==o?"Promise.filter":"Promise.map",f),l===h)return this.gi(l.e),!0;var g=e(l,this.Or);if(g instanceof n){var w=(g=g.Ai()).yi;if(0==(50397184&w))return a>=1&&this.ie++,r[i]=g,g.Yr(this,-1*(i+1)),!1;if(0==(33554432&w))return 0!=(16777216&w)?(this.gi(g.Jr()),!0):(this.Hi(),!0);l=g.Zr()}r[i]=l}var y=++this.oe;return y>=u&&(null!==o?this.ae(r,o):this.ce(r),!0)},v.prototype.se=function(){for(var t=this.re,n=this.te,i=this.ue;t.length>0&&this.ie<n;){if(this.Hr())return;var r=t.pop();this.zr(i[r],r)}},v.prototype.ae=function(t,n){for(var i=n.length,r=new Array(i),e=0,u=0;u<i;++u)t[u]&&(r[e++]=n[u]);r.length=e,this.ce(r)},v.prototype.preservedValues=function(){return this.Kr},n.prototype.map=function(t,n){return d(this,t,n,null)},n.map=function(t,n,i,r){return d(t,n,i,r)}}},{"./util":36}],19:[function(t,n,i){n.exports=function(n,i,r,e,u){var s=t("./util"),o=s.tryCatch;n.method=function(t){if("function"!=typeof t)throw new n.TypeError("expecting a function but got "+s.classString(t));return function(){var r=new n(i);r.mr(),r.Ki();var e=o(t).apply(this,arguments),s=r.tr();return u.checkForgottenReturns(e,s,"Promise.method",r),r.he(e),r}},n.attempt=n.try=function(t){if("function"!=typeof t)return e("expecting a function but got "+s.classString(t));var r,a=new n(i);if(a.mr(),a.Ki(),arguments.length>1){u.deprecated("calling Promise.try with more than 1 argument");var c=arguments[1],h=arguments[2];r=s.isArray(c)?o(t).apply(h,c):o(t).call(h,c)}else r=o(t)();var f=a.tr();return u.checkForgottenReturns(r,f,"Promise.try",a),a.he(r),a},n.prototype.he=function(t){t===s.errorObj?this.Qr(t.e,!1):this.mi(t,!0)}}},{"./util":36}],20:[function(t,n,i){var r=t("./util"),e=r.maybeWrapAsError,u=t("./errors"),s=u.OperationalError,o=t("./es5"),a=/^(?:name|message|stack|cause)$/;function c(t){var n;if(function(t){return t instanceof d&&o.getPrototypeOf(t)===d.prototype}(t)){(n=new s(t)).name=t.name,n.message=t.message,n.stack=t.stack;for(var i=o.keys(t),e=0;e<i.length;++e){var u=i[e];a.test(u)||(n[u]=t[u])}return n}return r.markAsOriginatingFromRejection(t),t}n.exports=function(t,n){return function(i,r){if(null!==t){if(i){var u=c(e(i));t.Qi(u),t.gi(u)}else if(n){var s=[].slice.call(arguments,1);t.Xr(s)}else t.Xr(r);t=null}}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(t,n,i){n.exports=function(n){var i=t("./util"),r=n.Ri,e=i.tryCatch,u=i.errorObj;function s(t,n){if(!i.isArray(t))return o.call(this,t,n);var s=e(n).apply(this.pi(),[null].concat(t));s===u&&r.throwLater(s.e)}function o(t,n){var i=this.pi(),s=void 0===t?e(n).call(i,null):e(n).call(i,null,t);s===u&&r.throwLater(s.e)}function a(t,n){if(!t){var i=new d(t+"");i.cause=t,t=i}var s=e(n).call(this.pi(),t);s===u&&r.throwLater(s.e)}n.prototype.asCallback=n.prototype.nodeify=function(t,n){if("function"==typeof t){var i=o;void 0!==n&&_(n).spread&&(i=s),this.wi(i,a,void 0,this,t)}return this}}},{"./util":36}],22:[function(t,n,i){n.exports=function(){var i=function(){return new d("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},r=function(){return new N.PromiseInspection(this.Ai())},e=function(t){return N.reject(new d(t))};function u(){}var s,o={},a=t("./util");s=a.isNode?function(){var t=process.domain;return void 0===t&&(t=null),t}:function(){return null},a.notEnumerableProp(N,"ir",s);var c=t("./es5"),h=t("./async"),f=new h;c.defineProperty(N,"Ri",{value:f});var v=t("./errors"),d=N.TypeError=v.TypeError;N.RangeError=v.RangeError;var l=N.CancellationError=v.CancellationError;N.TimeoutError=v.TimeoutError,N.OperationalError=v.OperationalError,N.RejectionError=v.OperationalError,N.AggregateError=v.AggregateError;var g=function(){},w={},y={},m=t("./thenables")(N,g),k=t("./promise_array")(N,g,m,e,u),p=t("./context")(N),A=p.create,b=t("./debuggability")(N,p),T=(b.CapturedTrace,t("./finally")(N,m,y)),E=t("./catch_filter")(y),S=t("./nodeback"),R=a.errorObj,I=a.tryCatch;function N(t){t!==g&&function(t,n){if(null==t||t.constructor!==N)throw new d("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof n)throw new d("expecting a function but got "+a.classString(n))}(this,t),this.yi=0,this.fe=void 0,this.ve=void 0,this.de=void 0,this._e=void 0,this.we(t),this.$i(),this.Er("promiseCreated",this)}function D(t){this.promise.mi(t)}function C(t){this.promise.Qr(t,!1)}function O(t){var n=new N(g);n.fe=t,n.ve=t,n.de=t,n._e=t}return N.prototype.toString=function(){return"[object Promise]"},N.prototype.caught=N.prototype.catch=function(t){var n=arguments.length;if(n>1){var i,r=new Array(n-1),u=0;for(i=0;i<n-1;++i){var s=arguments[i];if(!a.isObject(s))return e("Catch statement predicate: expecting an object but got "+a.classString(s));r[u++]=s}if(r.length=u,"function"!=typeof(t=arguments[i]))throw new d("The last argument to .catch() must be a function, got "+a.toString(t));return this.then(void 0,E(r,t,this))}return this.then(void 0,t)},N.prototype.reflect=function(){return this.wi(r,r,void 0,this,void 0)},N.prototype.then=function(t,n){if(b.warnings()&&arguments.length>0&&"function"!=typeof t&&"function"!=typeof n){var i=".then() only accepts functions but was passed: "+a.classString(t);arguments.length>1&&(i+=", "+a.classString(n)),this.Ii(i)}return this.wi(t,n,void 0,void 0,void 0)},N.prototype.done=function(t,n){var i=this.wi(t,n,void 0,void 0,void 0);i.ye()},N.prototype.spread=function(t){return"function"!=typeof t?e("expecting a function but got "+a.classString(t)):this.all().wi(t,void 0,void 0,w,void 0)},N.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this.value(),t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this.reason(),t.isRejected=!0),t},N.prototype.all=function(){return arguments.length>0&&this.Ii(".all() was passed arguments but it does not take any"),new k(this).promise()},N.prototype.error=function(t){return this.caught(a.originatesFromRejection,t)},N.getNewLibraryCopy=n.exports,N.is=function(t){return t instanceof N},N.fromNode=N.fromCallback=function(t){var n=new N(g);n.mr();var i=arguments.length>1&&!!_(arguments[1]).multiArgs,r=I(t)(S(n,i));return r===R&&n.Qr(r.e,!0),n.me()||n.ke(),n},N.all=function(t){return new k(t).promise()},N.cast=function(t){var n=m(t);return n instanceof N||((n=new N(g)).mr(),n.pe(),n.ve=t),n},N.resolve=N.fulfilled=N.cast,N.reject=N.rejected=function(t){var n=new N(g);return n.mr(),n.Qr(t,!0),n},N.setScheduler=function(t){if("function"!=typeof t)throw new d("expecting a function but got "+a.classString(t));return f.setScheduler(t)},N.prototype.wi=function(t,n,i,r,e){var u=void 0!==e,o=u?e:new N(g),c=this.Ai(),h=c.yi;u||(o.ki(this,3),o.mr(),void 0===r&&0!=(2097152&this.yi)&&(r=0!=(50397184&h)?this.pi():c===this?void 0:this.Ei),this.Er("promiseChained",this,o));var v=s();if(0!=(50397184&h)){var d,_,w=c.Ae;0!=(33554432&h)?(_=c.ve,d=t):0!=(16777216&h)?(_=c.fe,d=n,c.yr()):(w=c.be,_=new l("late cancellation observer"),c.Qi(_),d=n),f.invoke(w,c,{handler:null===v?d:"function"==typeof d&&a.domainBind(v,d),promise:o,receiver:r,value:_})}else c.Te(t,n,o,r,v);return o},N.prototype.Wi=function(){return 65535&this.yi},N.prototype.me=function(){return 0!=(117506048&this.yi)},N.prototype.Ci=function(){return 67108864==(67108864&this.yi)},N.prototype.Ee=function(t){this.yi=-65536&this.yi|65535&t},N.prototype.pe=function(){this.yi=33554432|this.yi,this.Er("promiseFulfilled",this)},N.prototype.Se=function(){this.yi=16777216|this.yi,this.Er("promiseRejected",this)},N.prototype.Re=function(){this.yi=67108864|this.yi,this.Er("promiseResolved",this)},N.prototype.ye=function(){this.yi=4194304|this.yi},N.prototype.Ie=function(){return(4194304&this.yi)>0},N.prototype.Ne=function(){this.yi=-65537&this.yi},N.prototype.Vi=function(){this.yi=65536|this.yi,this.Er("promiseCancelled",this)},N.prototype.Bi=function(){this.yi=8388608|this.yi},N.prototype.ke=function(){f.hasCustomScheduler()||(this.yi=134217728|this.yi)},N.prototype.De=function(t){var n=0===t?this._e:this[4*t-4+3];if(n!==o)return void 0===n&&this.Si()?this.pi():n},N.prototype.Ce=function(t){return this[4*t-4+2]},N.prototype.Oe=function(t){return this[4*t-4+0]},N.prototype.xe=function(t){return this[4*t-4+1]},N.prototype.pi=function(){},N.prototype.Pe=function(t){t.yi;var n=t.fe,i=t.ve,r=t.de,e=t.De(0);void 0===e&&(e=o),this.Te(n,i,r,e,null)},N.prototype.Be=function(t,n){var i=t.Oe(n),r=t.xe(n),e=t.Ce(n),u=t.De(n);void 0===u&&(u=o),this.Te(i,r,e,u,null)},N.prototype.Te=function(t,n,i,r,e){var u=this.Wi();if(u>=65531&&(u=0,this.Ee(0)),0===u)this.de=i,this._e=r,"function"==typeof t&&(this.fe=null===e?t:a.domainBind(e,t)),"function"==typeof n&&(this.ve=null===e?n:a.domainBind(e,n));else{var s=4*u-4;this[s+2]=i,this[s+3]=r,"function"==typeof t&&(this[s+0]=null===e?t:a.domainBind(e,t)),"function"==typeof n&&(this[s+1]=null===e?n:a.domainBind(e,n))}return this.Ee(u+1),u},N.prototype.Yr=function(t,n){this.Te(void 0,void 0,n,t,null)},N.prototype.mi=function(t,n){if(0==(117506048&this.yi)){if(t===this)return this.Qr(i(),!1);var r=m(t,this);if(!(r instanceof N))return this.Xr(t);n&&this.ki(r,2);var e=r.Ai();if(e!==this){var u=e.yi;if(0==(50397184&u)){var s=this.Wi();s>0&&e.Pe(this);for(var o=1;o<s;++o)e.Be(this,o);this.Re(),this.Ee(0),this.Le(e)}else if(0!=(33554432&u))this.Xr(e.Zr());else if(0!=(16777216&u))this.gi(e.Jr());else{var a=new l("late cancellation observer");e.Qi(a),this.gi(a)}}else this.gi(i())}},N.prototype.Qr=function(t,n,i){var r=a.ensureErrorObject(t),e=r===t;if(!e&&!i&&b.warnings()){var u="a promise was rejected with a non-error: "+a.classString(t);this.Ii(u,!0)}this.Qi(r,!!n&&e),this.gi(t)},N.prototype.we=function(t){if(t!==g){var n=this;this.mr(),this.Ki();var i=!0,r=this.Tr(t,function(t){n.mi(t)},function(t){n.Qr(t,i)});i=!1,this.tr(),void 0!==r&&n.Qr(r,!0)}},N.prototype.Me=function(t,n,i,r){var e=r.yi;if(0==(65536&e)){var u;r.Ki(),n===w?i&&"number"==typeof i.length?u=I(t).apply(this.pi(),i):(u=R).e=new d("cannot .spread() a non-array: "+a.classString(i)):u=I(t).call(n,i);var s=r.tr();0==(65536&(e=r.yi))&&(u===y?r.gi(i):u===R?r.Qr(u.e,!1):(b.checkForgottenReturns(u,s,"",r,this),r.mi(u)))}},N.prototype.Ai=function(){for(var t=this;t.Ci();)t=t.Oi();return t},N.prototype.Oi=function(){return this.ve},N.prototype.Le=function(t){this.ve=t},N.prototype.Ue=function(t,n,i,e){var s=t instanceof N,o=this.yi,a=0!=(134217728&o);0!=(65536&o)?(s&&t.Zi(),i instanceof T&&i.isFinallyHandler()?(i.cancelPromise=t,I(n).call(i,e)===R&&t.gi(R.e)):n===r?t.Xr(r.call(i)):i instanceof u?i.Wr(t):s||t instanceof k?t.Hi():i.cancel()):"function"==typeof n?s?(a&&t.ke(),this.Me(n,i,e,t)):n.call(i,e,t):i instanceof u?i.Hr()||(0!=(33554432&o)?i.zr(e,t):i.Gr(e,t)):s&&(a&&t.ke(),0!=(33554432&o)?t.Xr(e):t.gi(e))},N.prototype.be=function(t){var n=t.handler,i=t.promise,r=t.receiver,e=t.value;"function"==typeof n?i instanceof N?this.Me(n,r,e,i):n.call(r,e,i):i instanceof N&&i.gi(e)},N.prototype.Ae=function(t){this.Ue(t.promise,t.handler,t.receiver,t.value)},N.prototype.Fe=function(t,n,i){var r=this.de,e=this.De(0);this.de=void 0,this._e=void 0,this.Ue(r,t,e,n)},N.prototype.He=function(t){var n=4*t-4;this[n+2]=this[n+3]=this[n+0]=this[n+1]=void 0},N.prototype.Xr=function(t){var n=this.yi;if(!((117506048&n)>>>16)){if(t===this){var r=i();return this.Qi(r),this.gi(r)}this.pe(),this.ve=t,(65535&n)>0&&(0!=(134217728&n)?this.li():f.settlePromises(this),this.kr())}},N.prototype.gi=function(t){var n=this.yi;if(!((117506048&n)>>>16)){if(this.Se(),this.fe=t,this.Ie())return f.fatalError(t,a.isNode);(65535&n)>0?f.settlePromises(this):this.rr()}},N.prototype.Ve=function(t,n){for(var i=1;i<t;i++){var r=this.Oe(i),e=this.Ce(i),u=this.De(i);this.He(i),this.Ue(e,r,u,n)}},N.prototype.Xe=function(t,n){for(var i=1;i<t;i++){var r=this.xe(i),e=this.Ce(i),u=this.De(i);this.He(i),this.Ue(e,r,u,n)}},N.prototype.li=function(){var t=this.yi,n=65535&t;if(n>0){if(0!=(16842752&t)){var i=this.fe;this.Fe(this.ve,i,t),this.Xe(n,i)}else{var r=this.ve;this.Fe(this.fe,r,t),this.Ve(n,r)}this.Ee(0)}this.Ar()},N.prototype.dr=function(){var t=this.yi;return 0!=(33554432&t)?this.ve:0!=(16777216&t)?this.fe:void 0},"undefined"!=typeof Symbol&&Symbol.toStringTag&&c.defineProperty(N.prototype,Symbol.toStringTag,{get:function(){return"Object"}}),N.defer=N.pending=function(){b.deprecated("Promise.defer","new Promise");var t=new N(g);return{promise:t,resolve:D,reject:C}},a.notEnumerableProp(N,"We",i),t("./method")(N,g,m,e,b),t("./bind")(N,g,m,b),t("./cancel")(N,k,e,b),t("./direct_resolve")(N),t("./synchronous_inspection")(N),t("./join")(N,k,m,g,f,s),N.Promise=N,N.version="3.5.5",t("./call_get.js")(N),t("./generators.js")(N,e,g,m,u,b),t("./map.js")(N,k,e,m,g,b),t("./nodeify.js")(N),t("./promisify.js")(N,g),t("./props.js")(N,k,m,e),t("./race.js")(N,g,m,e),t("./reduce.js")(N,k,e,m,g,b),t("./settle.js")(N,k,b),t("./some.js")(N,k,e),t("./timers.js")(N,g,b),t("./using.js")(N,e,m,A,g,b),t("./any.js")(N),t("./each.js")(N,g),t("./filter.js")(N,g),a.toFastProperties(N),a.toFastProperties(N.prototype),O({a:1}),O({b:2}),O({c:3}),O(1),O(function(){}),O(void 0),O(!1),O(new N(g)),b.setBounds(h.firstLineError,a.lastLineError),N}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(t,n,i){n.exports=function(n,i,r,e,u){var s=t("./util");function o(t){var r=this.Or=new n(i);t instanceof n&&r.ki(t,3),r.Ti(this),this.ue=t,this.Wi=0,this.oe=0,this._init(void 0,-2)}return s.isArray,s.inherits(o,u),o.prototype.length=function(){return this.Wi},o.prototype.promise=function(){return this.Or},o.prototype._init=function t(i,u){var o=r(this.ue,this.Or);if(o instanceof n){var a=(o=o.Ai()).yi;if(this.ue=o,0==(50397184&a))return this.Or.ke(),o.wi(t,this.gi,void 0,this,u);if(0==(33554432&a))return 0!=(16777216&a)?this.gi(o.Jr()):this.Hi();o=o.Zr()}if(null!==(o=s.asArray(o)))0!==o.length?this.qe(o):-5===u?this.ze():this.ce(function(t){switch(t){case-2:return[];case-3:return{};case-6:return new Map}}(u));else{var c=e("expecting an array or an iterable object but got "+s.classString(o)).reason();this.Or.Qr(c,!1)}},o.prototype.qe=function(t){var i=this.getActualLength(t.length);this.Wi=i,this.ue=this.shouldCopyValues()?new Array(i):this.ue;for(var e=this.Or,u=!1,s=null,o=0;o<i;++o){var a=r(t[o],e);a instanceof n?(a=a.Ai(),s=a.yi):s=null,u?null!==s&&a.suppressUnhandledRejections():null!==s?0==(50397184&s)?(a.Yr(this,o),this.ue[o]=a):u=0!=(33554432&s)?this.zr(a.Zr(),o):0!=(16777216&s)?this.Gr(a.Jr(),o):this.Wr(o):u=this.zr(a,o)}u||e.ke()},o.prototype.Hr=function(){return null===this.ue},o.prototype.ce=function(t){this.ue=null,this.Or.Xr(t)},o.prototype.Hi=function(){!this.Hr()&&this.Or.Ni()&&(this.ue=null,this.Or.Hi())},o.prototype.gi=function(t){this.ue=null,this.Or.Qr(t,!1)},o.prototype.zr=function(t,n){this.ue[n]=t;var i=++this.oe;return i>=this.Wi&&(this.ce(this.ue),!0)},o.prototype.Wr=function(){return this.Hi(),!0},o.prototype.Gr=function(t){return this.oe++,this.gi(t),!0},o.prototype._resultCancelled=function(){if(!this.Hr()){var t=this.ue;if(this.Hi(),t instanceof n)t.cancel();else for(var i=0;i<t.length;++i)t[i]instanceof n&&t[i].cancel()}},o.prototype.shouldCopyValues=function(){return!0},o.prototype.getActualLength=function(t){return t},o}},{"./util":36}],24:[function(t,n,i){n.exports=function(n,i){var r={},e=t("./util"),u=t("./nodeback"),s=e.withAppended,o=e.maybeWrapAsError,a=e.canEvaluate,c=t("./errors").TypeError,h={Ge:!0},f=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","Ge"].join("|")+")$"),v=function(t){return e.isIdentifier(t)&&"_"!==t.charAt(0)&&"constructor"!==t};function d(t){return!f.test(t)}function l(t){try{return!0===t.Ge}catch(t){return!1}}function g(t,n,i){var r=e.getDataPropertyOrDefault(t,n+i,h);return!!r&&l(r)}function w(t,n,i,r){for(var u=e.inheritedDataKeys(t),s=[],o=0;o<u.length;++o){var a=u[o],h=t[a],f=r===v||v(a);"function"!=typeof h||l(h)||g(t,a,n)||!r(a,h,t,f)||s.push(a,h)}return function(t,n,i){for(var r=0;r<t.length;r+=2){var e=t[r];if(i.test(e))for(var u=e.replace(i,""),s=0;s<t.length;s+=2)if(t[s]===u)throw new c("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",n))}}(s,n,i),s}var y=function(t){return t.replace(/([$])/,"\\$")},m=a?void 0:function(t,a,c,h,f,v){var d=function(){return this}(),l=t;function _(){var e=a;a===r&&(e=this);var c=new n(i);c.mr();var h="string"==typeof l&&this!==d?this[l]:t,f=u(c,v);try{h.apply(e,s(arguments,f))}catch(t){c.Qr(o(t),!0,!0)}return c.me()||c.ke(),c}return"string"==typeof l&&(t=h),e.notEnumerableProp(_,"Ge",!0),_};function k(t,n,i,u,s){for(var o=new RegExp(y(n)+"$"),a=w(t,n,o,i),c=0,h=a.length;c<h;c+=2){var f=a[c],v=a[c+1],d=f+n;if(u===m)t[d]=m(f,r,f,v,n,s);else{var l=u(v,function(){return m(f,r,f,v,n,s)});e.notEnumerableProp(l,"Ge",!0),t[d]=l}}return e.toFastProperties(t),t}n.promisify=function(t,n){if("function"!=typeof t)throw new c("expecting a function but got "+e.classString(t));if(l(t))return t;var i=void 0===(n=_(n)).context?r:n.context,u=!!n.multiArgs,s=function(t,n,i){return m(t,n,void 0,t,null,i)}(t,i,u);return e.copyDescriptors(t,s,d),s},n.promisifyAll=function(t,n){if("function"!=typeof t&&"object"!=typeof t)throw new c("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");var i=!!(n=_(n)).multiArgs,r=n.suffix;"string"!=typeof r&&(r="Async");var u=n.filter;"function"!=typeof u&&(u=v);var s=n.promisifier;if("function"!=typeof s&&(s=m),!e.isIdentifier(r))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var o=e.inheritedDataKeys(t),a=0;a<o.length;++a){var h=t[o[a]];"constructor"!==o[a]&&e.isClass(h)&&(k(h.prototype,r,u,s,i),k(h,r,u,s,i))}return k(t,r,u,s,i)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(t,n,i){n.exports=function(n,i,r,e){var u,s=t("./util"),o=s.isObject,a=t("./es5");"function"==typeof Map&&(u=Map);var c=function(){var t=0,n=0;function i(i,r){this[t]=i,this[t+n]=r,t++}return function(r){n=r.size,t=0;var e=new Array(2*r.size);return r.forEach(i,e),e}}();function h(t){var n,i=!1;if(void 0!==u&&t instanceof u)n=c(t),i=!0;else{var r=a.keys(t),e=r.length;n=new Array(2*e);for(var s=0;s<e;++s){var o=r[s];n[s]=t[o],n[s+e]=o}}this.constructor$(n),this.je=i,this._init$(void 0,i?-6:-3)}function f(t){var i,u=r(t);return o(u)?(i=u instanceof n?u.wi(n.props,void 0,void 0,void 0,void 0):new h(u).promise(),u instanceof n&&i.ki(u,2),i):e("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}s.inherits(h,i),h.prototype._init=function(){},h.prototype.zr=function(t,n){this.ue[n]=t;var i=++this.oe;if(i>=this.Wi){var r;if(this.je)r=function(t){for(var n=new u,i=t.length/2|0,r=0;r<i;++r){var e=t[i+r],s=t[r];n.set(e,s)}return n}(this.ue);else{r={};for(var e=this.length(),s=0,o=this.length();s<o;++s)r[this.ue[s+e]]=this.ue[s]}return this.ce(r),!0}return!1},h.prototype.shouldCopyValues=function(){return!1},h.prototype.getActualLength=function(t){return t>>1},n.prototype.props=function(){return f(this)},n.props=function(t){return f(t)}}},{"./es5":13,"./util":36}],26:[function(t,n,i){function r(t){this.Qe=t,this.Wi=0,this.Ye=0}r.prototype.Ze=function(t){return this.Qe<t},r.prototype.di=function(t){var n=this.length();this.Je(n+1);var i=this.Ye+n&this.Qe-1;this[i]=t,this.Wi=n+1},r.prototype.push=function(t,n,i){var r=this.length()+3;if(this.Ze(r))return this.di(t),this.di(n),void this.di(i);var e=this.Ye+r-3;this.Je(r);var u=this.Qe-1;this[e+0&u]=t,this[e+1&u]=n,this[e+2&u]=i,this.Wi=r},r.prototype.shift=function(){var t=this.Ye,n=this[t];return this[t]=void 0,this.Ye=t+1&this.Qe-1,this.Wi--,n},r.prototype.length=function(){return this.Wi},r.prototype.Je=function(t){this.Qe<t&&this.$e(this.Qe<<1)},r.prototype.$e=function(t){var n=this.Qe;this.Qe=t;var i=this.Ye,r=this.Wi,e=i+r&n-1;!function(t,n,i,r,e){for(var u=0;u<e;++u)i[u+r]=t[u+n],t[u+n]=void 0}(this,0,this,n,e)},n.exports=r},{}],27:[function(t,n,i){n.exports=function(n,i,r,e){var u=t("./util"),s=function(t){return t.then(function(n){return o(n,t)})};function o(t,o){var a=r(t);if(a instanceof n)return s(a);if(null===(t=u.asArray(t)))return e("expecting an array or an iterable object but got "+u.classString(t));var c=new n(i);void 0!==o&&c.ki(o,3);for(var h=c.Xr,f=c.gi,v=0,d=t.length;v<d;++v){var l=t[v];(void 0!==l||v in t)&&n.cast(l).wi(h,f,void 0,c,null)}return c}n.race=function(t){return o(t,void 0)},n.prototype.race=function(){return o(this,void 0)}}},{"./util":36}],28:[function(t,n,i){n.exports=function(n,i,r,e,u,s){var o=n.ir,a=t("./util"),c=a.tryCatch;function h(t,i,r,e){this.constructor$(t);var s=o();this.Ke=null===s?i:a.domainBind(s,i),void 0!==r&&(r=n.resolve(r)).pr(this),this.tu=r,this.nu=null,this.iu=e===u?Array(this.Wi):0===e?null:void 0,this.Or.mr(),this._init$(void 0,-5)}function f(t,n){this.isFulfilled()?n.ce(t):n.gi(t)}function v(t,n,i,e){if("function"!=typeof n)return r("expecting a function but got "+a.classString(n));var u=new h(t,n,i,e);return u.promise()}function d(t){this.accum=t,this.array.ru(t);var i=e(this.value,this.array.Or);return i instanceof n?(this.array.nu=i,i.wi(l,void 0,void 0,this,void 0)):l.call(this,i)}function l(t){var i,r=this.array,e=r.Or,u=c(r.Ke);e.Ki(),(i=void 0!==r.iu?u.call(e.pi(),t,this.index,this.length):u.call(e.pi(),this.accum,t,this.index,this.length))instanceof n&&(r.nu=i);var o=e.tr();return s.checkForgottenReturns(i,o,void 0!==r.iu?"Promise.each":"Promise.reduce",e),i}a.inherits(h,i),h.prototype.ru=function(t){void 0!==this.iu&&null!==this.iu&&t!==u&&this.iu.push(t)},h.prototype.eu=function(t){return null!==this.iu&&this.iu.push(t),this.iu},h.prototype._init=function(){},h.prototype.ze=function(){this.ce(void 0!==this.iu?this.iu:this.tu)},h.prototype.shouldCopyValues=function(){return!1},h.prototype.ce=function(t){this.Or.mi(t),this.ue=null},h.prototype._resultCancelled=function(t){if(t===this.tu)return this.Hi();this.Hr()||(this._resultCancelled$(),this.nu instanceof n&&this.nu.cancel(),this.tu instanceof n&&this.tu.cancel())},h.prototype.qe=function(t){var i,r;this.ue=t;var e=t.length;if(void 0!==this.tu?(i=this.tu,r=0):(i=n.resolve(t[0]),r=1),this.nu=i,!i.isRejected())for(;r<e;++r){var u={accum:null,value:t[r],index:r,length:e,array:this};i=i.wi(d,void 0,void 0,u,void 0)}void 0!==this.iu&&(i=i.wi(this.eu,void 0,void 0,this,void 0)),i.wi(f,f,void 0,i,this)},n.prototype.reduce=function(t,n){return v(this,t,n,null)},n.reduce=function(t,n,i,r){return v(t,n,i,r)}}},{"./util":36}],29:[function(t,n,i){var r,e,o,a,h,f=t("./util"),v=f.getNativePromise();if(f.isNode&&"undefined"==typeof MutationObserver){var l=cn.setImmediate,_=process.nextTick;r=f.isRecentNode?function(t){l.call(cn,t)}:function(t){_.call(process,t)}}else if("function"==typeof v&&"function"==typeof v.resolve){var g=v.resolve();r=function(t){g.then(t)}}else r="undefined"!=typeof MutationObserver&&(void 0===u||!u.navigator||!u.navigator.standalone&&!u.cordova)&&"classList"in s.documentElement?(e=s.createElement("div"),o={attributes:!0},a=!1,h=s.createElement("div"),new MutationObserver(function(){e.classList.toggle("foo"),a=!1}).observe(h,o),function(t){var n=new MutationObserver(function(){n.disconnect(),t()});n.observe(e,o),a||(a=!0,h.classList.toggle("foo"))}):"undefined"!=typeof setImmediate?function(t){setImmediate(t)}:void 0!==c?function(t){c(t,0)}:function(){throw new d("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")};n.exports=r},{"./util":36}],30:[function(t,n,i){n.exports=function(n,i,r){var e=n.PromiseInspection,u=t("./util");function s(t){this.constructor$(t)}u.inherits(s,i),s.prototype.uu=function(t,n){this.ue[t]=n;var i=++this.oe;return i>=this.Wi&&(this.ce(this.ue),!0)},s.prototype.zr=function(t,n){var i=new e;return i.yi=33554432,i.su=t,this.uu(n,i)},s.prototype.Gr=function(t,n){var i=new e;return i.yi=16777216,i.su=t,this.uu(n,i)},n.settle=function(t){return r.deprecated(".settle()",".reflect()"),new s(t).promise()},n.prototype.settle=function(){return n.settle(this)}}},{"./util":36}],31:[function(t,n,i){n.exports=function(n,i,r){var e=t("./util"),u=t("./errors").RangeError,s=t("./errors").AggregateError,o=e.isArray,a={};function c(t){this.constructor$(t),this.ou=0,this.au=!1,this.cu=!1}function h(t,n){if((0|n)!==n||n<0)return r("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var i=new c(t),e=i.promise();return i.setHowMany(n),i.init(),e}e.inherits(c,i),c.prototype._init=function(){if(this.cu)if(0!==this.ou){this._init$(void 0,-5);var t=o(this.ue);!this.Hr()&&t&&this.ou>this.hu()&&this.gi(this.fu(this.length()))}else this.ce([])},c.prototype.init=function(){this.cu=!0,this._init()},c.prototype.setUnwrap=function(){this.au=!0},c.prototype.howMany=function(){return this.ou},c.prototype.setHowMany=function(t){this.ou=t},c.prototype.zr=function(t){return this.vu(t),this.du()===this.howMany()&&(this.ue.length=this.howMany(),1===this.howMany()&&this.au?this.ce(this.ue[0]):this.ce(this.ue),!0)},c.prototype.Gr=function(t){return this.lu(t),this._u()},c.prototype.Wr=function(){return this.ue instanceof n||null==this.ue?this.Hi():(this.lu(a),this._u())},c.prototype._u=function(){if(this.howMany()>this.hu()){for(var t=new s,n=this.length();n<this.ue.length;++n)this.ue[n]!==a&&t.push(this.ue[n]);return t.length>0?this.gi(t):this.Hi(),!0}return!1},c.prototype.du=function(){return this.oe},c.prototype.gu=function(){return this.ue.length-this.length()},c.prototype.lu=function(t){this.ue.push(t)},c.prototype.vu=function(t){this.ue[this.oe++]=t},c.prototype.hu=function(){return this.length()-this.gu()},c.prototype.fu=function(t){var n="Input array must contain at least "+this.ou+" items but contains only "+t+" items";return new u(n)},c.prototype.ze=function(){this.gi(this.fu(0))},n.some=function(t,n){return h(t,n)},n.prototype.some=function(t){return h(this,t)},n.ri=c}},{"./errors":12,"./util":36}],32:[function(t,n,i){n.exports=function(t){function n(t){void 0!==t?(t=t.Ai(),this.yi=t.yi,this.su=t.me()?t.dr():void 0):(this.yi=0,this.su=void 0)}n.prototype.dr=function(){return this.su};var i=n.prototype.value=function(){if(!this.isFulfilled())throw new l("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this.dr()},r=n.prototype.error=n.prototype.reason=function(){if(!this.isRejected())throw new l("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this.dr()},e=n.prototype.isFulfilled=function(){return 0!=(33554432&this.yi)},u=n.prototype.isRejected=function(){return 0!=(16777216&this.yi)},s=n.prototype.isPending=function(){return 0==(50397184&this.yi)},o=n.prototype.isResolved=function(){return 0!=(50331648&this.yi)};n.prototype.isCancelled=function(){return 0!=(8454144&this.yi)},t.prototype.wu=function(){return 65536==(65536&this.yi)},t.prototype.Gi=function(){return this.Ai().wu()},t.prototype.isCancelled=function(){return 0!=(8454144&this.Ai().yi)},t.prototype.isPending=function(){return s.call(this.Ai())},t.prototype.isRejected=function(){return u.call(this.Ai())},t.prototype.isFulfilled=function(){return e.call(this.Ai())},t.prototype.isResolved=function(){return o.call(this.Ai())},t.prototype.value=function(){return i.call(this.Ai())},t.prototype.reason=function(){var t=this.Ai();return t.yr(),r.call(t)},t.prototype.Zr=function(){return this.dr()},t.prototype.Jr=function(){return this.yr(),this.dr()},t.PromiseInspection=n}},{}],33:[function(t,n,i){n.exports=function(n,i){var r=t("./util"),e=r.errorObj,u=r.isObject,s={}.hasOwnProperty;return function(t,o){if(u(t)){if(t instanceof n)return t;var a=function(t){try{return function(t){return t.then}(t)}catch(t){return e.e=t,e}}(t);if(a===e){o&&o.Ki();var c=n.reject(a.e);return o&&o.tr(),c}if("function"==typeof a){if(function(t){try{return s.call(t,"de")}catch(t){return!1}}(t)){var c=new n(i);return t.wi(c.Xr,c.gi,void 0,c,null),c}return function(t,u,s){var o=new n(i),a=o;s&&s.Ki(),o.mr(),s&&s.tr();var c=!0,h=r.tryCatch(u).call(t,function(t){o&&(o.mi(t),o=null)},function(t){o&&(o.Qr(t,c,!0),o=null)});return c=!1,o&&h===e&&(o.Qr(h.e,!0,!0),o=null),a}(t,a,o)}}return t}}},{"./util":36}],34:[function(t,n,i){n.exports=function(n,i,r){var e=t("./util"),u=n.TimeoutError;function s(t){this.handle=t}s.prototype._resultCancelled=function(){h(this.handle)};var o=function(t){return a(+this).thenReturn(t)},a=n.delay=function(t,e){var u,a;return void 0!==e?(u=n.resolve(e).wi(o,null,null,t,void 0),r.cancellation()&&e instanceof n&&u.Ti(e)):(u=new n(i),a=c(function(){u.Xr()},+t),r.cancellation()&&u.Ti(new s(a)),u.mr()),u.ke(),u};function f(t){return h(this.handle),t}function v(t){throw h(this.handle),t}n.prototype.delay=function(t){return a(t,this)},n.prototype.timeout=function(t,n){var i,o,a=new s(c(function(){i.isPending()&&function(t,n,i){var r;r="string"!=typeof n?n instanceof d?n:new u("operation timed out"):new u(n),e.markAsOriginatingFromRejection(r),t.Qi(r),t.gi(r),null!=i&&i.cancel()}(i,n,o)},t=+t));return r.cancellation()?(o=this.then(),(i=o.wi(f,v,void 0,a,void 0)).Ti(a)):i=this.wi(f,v,void 0,a,void 0),i}}},{"./util":36}],35:[function(t,n,i){n.exports=function(n,i,r,e,u,s){var o=t("./util"),a=t("./errors").TypeError,h=t("./util").inherits,f=o.errorObj,v=o.tryCatch,d={};function l(t){c(function(){throw t},0)}function _(t,i){var e=0,s=t.length,o=new n(u);return function u(){if(e>=s)return o.Xr();var a=function(t){var n=r(t);return n!==t&&"function"==typeof t.yu&&"function"==typeof t.mu&&t.yu()&&n.ku(t.mu()),n}(t[e++]);if(a instanceof n&&a.yu()){try{a=r(a.mu().tryDispose(i),t.promise)}catch(t){return l(t)}if(a instanceof n)return a.wi(u,l,null,null,null)}u()}(),o}function g(t,n,i){this.pu=t,this.Or=n,this.Au=i}function w(t,n,i){this.constructor$(t,n,i)}function y(t){return g.isDisposer(t)?(this.resources[this.index].ku(t),t.promise()):t}function m(t){this.length=t,this.promise=null,this[t-1]=null}g.prototype.data=function(){return this.pu},g.prototype.promise=function(){return this.Or},g.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():d},g.prototype.tryDispose=function(t){var n=this.resource(),i=this.Au;void 0!==i&&i.Ki();var r=n!==d?this.doDispose(n,t):null;return void 0!==i&&i.tr(),this.Or.bu(),this.pu=null,r},g.isDisposer=function(t){return null!=t&&"function"==typeof t.resource&&"function"==typeof t.tryDispose},h(w,g),w.prototype.doDispose=function(t,n){var i=this.data();return i.call(t,t,n)},m.prototype._resultCancelled=function(){for(var t=this.length,i=0;i<t;++i){var r=this[i];r instanceof n&&r.cancel()}},n.using=function(){var t=arguments.length;if(t<2)return i("you must pass at least 2 arguments to Promise.using");var e,u=arguments[t-1];if("function"!=typeof u)return i("expecting a function but got "+o.classString(u));var a=!0;2===t&&Array.isArray(arguments[0])?(e=arguments[0],t=e.length,a=!1):(e=arguments,t--);for(var c=new m(t),h=0;h<t;++h){var d=e[h];if(g.isDisposer(d)){var l=d;(d=d.promise()).ku(l)}else{var w=r(d);w instanceof n&&(d=w.wi(y,null,null,{resources:c,index:h},void 0))}c[h]=d}for(var k=new Array(c.length),h=0;h<k.length;++h)k[h]=n.resolve(c[h]).reflect();var p=n.all(k).then(function(t){for(var n=0;n<t.length;++n){var i=t[n];if(i.isRejected())return f.e=i.error(),f;if(!i.isFulfilled())return void p.cancel();t[n]=i.value()}A.Ki(),u=v(u);var r=a?u.apply(void 0,t):u(t),e=A.tr();return s.checkForgottenReturns(r,e,"Promise.using",A),r}),A=p.lastly(function(){var t=new n.PromiseInspection(p);return _(c,t)});return c.promise=A,A.Ti(c),A},n.prototype.ku=function(t){this.yi=131072|this.yi,this.Tu=t},n.prototype.yu=function(){return(131072&this.yi)>0},n.prototype.mu=function(){return this.Tu},n.prototype.bu=function(){this.yi=-131073&this.yi,this.Tu=void 0},n.prototype.disposer=function(t){if("function"==typeof t)return new w(t,this,e());throw new a}}},{"./errors":12,"./util":36}],36:[function(n,i,r){var e,s=n("./es5"),o=void 0===a,c={e:{}},h=void 0!==t?t:void 0!==u?u:void 0!==cn?cn:void 0!==this?this:null;function f(){try{var t=e;return e=null,t.apply(this,arguments)}catch(t){return c.e=t,c}}function v(t){return null==t||!0===t||!1===t||"string"==typeof t||"number"==typeof t}function l(t,n,i){if(v(t))return t;var r={value:i,configurable:!0,enumerable:!1,writable:!0};return s.defineProperty(t,n,r),t}var g=function(){var t=[Array.prototype,_.prototype,Function.prototype],n=function(n){for(var i=0;i<t.length;++i)if(t[i]===n)return!0;return!1};if(s.isES5){var i=_.getOwnPropertyNames;return function(t){for(var r=[],e=_.create(null);null!=t&&!n(t);){var u;try{u=i(t)}catch(t){return r}for(var o=0;o<u.length;++o){var a=u[o];if(!e[a]){e[a]=!0;var c=_.getOwnPropertyDescriptor(t,a);null!=c&&null==c.get&&null==c.set&&r.push(a)}}t=s.getPrototypeOf(t)}return r}}var r={}.hasOwnProperty;return function(i){if(n(i))return[];var e=[];t:for(var u in i)if(r.call(i,u))e.push(u);else{for(var s=0;s<t.length;++s)if(r.call(t[s],u))continue t;e.push(u)}return e}}(),w=/this\s*\.\s*\S+\s*=/,y=/^[a-z$_][a-z$_0-9]*$/i;function m(t){try{return t+""}catch(t){return"[no string representation]"}}function k(t){return t instanceof d||null!==t&&"object"==typeof t&&"string"==typeof t.message&&"string"==typeof t.name}function p(t){return k(t)&&s.propertyIsWritable(t,"stack")}var A="stack"in new d?function(t){return p(t)?t:new d(m(t))}:function(t){if(p(t))return t;try{throw new d(m(t))}catch(t){return t}};function b(t){return{}.toString.call(t)}var T=function(t){return s.isArray(t)?t:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var E="function"==typeof Array.from?function(t){return Array.from(t)}:function(t){for(var n,i=[],r=t[Symbol.iterator]();!(n=r.next()).done;)i.push(n.value);return i};T=function(t){return s.isArray(t)?t:null!=t&&"function"==typeof t[Symbol.iterator]?E(t):null}}var S,R="undefined"!=typeof process&&"[object process]"===b(process).toLowerCase(),I="undefined"!=typeof process&&void 0!==process.env,N={isClass:function(t){try{if("function"==typeof t){var n=s.names(t.prototype),i=s.isES5&&n.length>1,r=n.length>0&&!(1===n.length&&"constructor"===n[0]),e=w.test(t+"")&&s.names(t).length>0;if(i||r||e)return!0}return!1}catch(t){return!1}},isIdentifier:function(t){return y.test(t)},inheritedDataKeys:g,getDataPropertyOrDefault:function(t,n,i){if(!s.isES5)return{}.hasOwnProperty.call(t,n)?t[n]:void 0;var r=_.getOwnPropertyDescriptor(t,n);return null!=r?null==r.get&&null==r.set?r.value:i:void 0},thrower:function(t){throw t},isArray:s.isArray,asArray:T,notEnumerableProp:l,isPrimitive:v,isObject:function(t){return"function"==typeof t||"object"==typeof t&&null!==t},isError:k,canEvaluate:o,errorObj:c,tryCatch:function(t){return e=t,f},inherits:function(t,n){var i={}.hasOwnProperty;function r(){for(var r in this.constructor=t,this.constructor$=n,n.prototype)i.call(n.prototype,r)&&"$"!==r.charAt(r.length-1)&&(this[r+"$"]=n.prototype[r])}return r.prototype=n.prototype,t.prototype=new r,t.prototype},withAppended:function(t,n){var i,r=t.length,e=new Array(r+1);for(i=0;i<r;++i)e[i]=t[i];return e[i]=n,e},maybeWrapAsError:function(t){return v(t)?new d(m(t)):t},toFastProperties:function(t){return t},filledRange:function(t,n,i){for(var r=new Array(t),e=0;e<t;++e)r[e]=n+e+i;return r},toString:m,canAttachTrace:p,ensureErrorObject:A,originatesFromRejection:function(t){return null!=t&&(t instanceof d.Nr.OperationalError||!0===t.isOperational)},markAsOriginatingFromRejection:function(t){try{l(t,"isOperational",!0)}catch(t){}},classString:b,copyDescriptors:function(t,n,i){for(var r=s.names(t),e=0;e<r.length;++e){var u=r[e];if(i(u))try{s.defineProperty(n,u,s.getDescriptor(t,u))}catch(t){}}},hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:R,hasEnvVariables:I,env:function(t){return I?process.env[t]:void 0},global:h,getNativePromise:function(){if("function"==typeof Promise)try{var t=new Promise(function(){});if("[object Promise]"==={}.toString.call(t))return Promise}catch(t){}},domainBind:function(t,n){return t.bind(n)}};N.isRecentNode=N.isNode&&(process.versions&&process.versions.node?S=process.versions.node.split(".").map(Number):process.version&&(S=process.version.split(".").map(Number)),0===S[0]&&S[1]>10||S[0]>0),N.isNode&&N.toFastProperties(process);try{throw new d}catch(t){N.lastLineError=t}i.exports=N},{"./es5":13}]},{},[4])(4),null!=u?u.P=u.Promise:null!=t&&(t.P=t.Promise)});function dn(){return(dn=_.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var r in i)_.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}).apply(this,arguments)}function ln(){var t=_.create(null);return t.Eu=void 0,delete t.Eu,t}function _n(){return new mn}function gn(t){var n=_n();for(var i in t)B.call(t,i)&&n.set(i,t[i]);return n}var wn,yn="undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0,mn=yn||(wn=function(){function t(t,n){this.index=0,this.data=t,this.selector=n,this.keys=_.keys(t)}var n=t.prototype;return n.next=function(){var t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}},t}(),function(){function t(){this.data=ln(),this.size=0}var n=t.prototype;return n.get=function(t){return this.data[t]},n.set=function(t,n){return this.has(t)||this.size++,this.data[t]=n,this},n.has=function(t){return t in this.data},n.delete=function(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)},n.clear=function(){this.data=ln(),this.size=0},n.keys=function(){return new wn(this.data,function(t,n){return n})},n.values=function(){return new wn(this.data,function(t,n){return t[n]})},n.entries=function(){return new wn(this.data,function(t,n){return[n,t[n]]})},n.forEach=function(t){for(var n in this.data)t(this.data[n],n)},t}());var kn,pn,An,bn,Tn,En,Sn,Rn=yn||(kn=function(){function t(t,n){this.Su=t,this.Ru=n}var n=t.prototype;return n.next=function(){var t=this.Su.next();return t.done?t:{value:this.Ru(t.value),done:!1}},t}(),function(){function t(){this.Iu=_n()}var n=t.prototype;return n.get=function(t){return this.Iu.get(""+t)},n.set=function(t,n){return this.Iu.set(""+t,n),this},n.has=function(t){return this.Iu.has(""+t)},n.delete=function(t){return this.Iu.delete(""+t)},n.clear=function(){this.Iu.clear()},n.keys=function(){return new kn(this.Iu.keys(),function(t){return Number(t)})},n.values=function(){return this.Iu.values()},n.entries=function(){return new kn(this.Iu.entries(),function(t){var n=t[0],i=t[1];return[Number(n),i]})},n.forEach=function(t){this.Iu.forEach(function(n,i){t(n,Number(i))})},T(t,[{key:"size",get:function(){return this.Iu.size}}]),t}());var In,Nn="urn:mpeg:dash:mp4protection:2011",Dn="cenc",Cn="sinf",On="skd",xn="urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95",Pn="com.microsoft.playready",Bn="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",Ln="urn:uuid:"+Bn,Mn="94ce86fb-07ff-4f43-adb8-93d2fa968ca2",Un="urn:uuid:"+Mn,Fn="com.apple.fps.1_0";!function(t){t.Nu="playready",t.Du="widevine",t.Cu="fairplay",t.Ou="clearkey",t.xu="aes128"}(In||(In={}));var Hn={Pu:In.Nu,Bu:Pn,Lu:"cenc",Mu:"9a04f079-9840-4286-ab92-e65be0885f95",Uu:xn,Fu:"PlayReady"},Vn={Pu:In.Du,Bu:"com.widevine.alpha",Lu:"cenc",Mu:Bn,Uu:Ln,Fu:"Widevine"},Xn={Pu:In.Cu,Bu:Fn,Lu:"skd",Mu:Mn,Uu:Un,Fu:"FairPlay"},Wn=(In.Cu,{Pu:In.Ou,Bu:"org.w3.clearkey",Lu:"cenc",Mu:"1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",Uu:"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",Fu:"ClearKey"}),qn=[Hn,Vn,Xn,Wn];function zn(t){return qn.filter(function(n){return n.Uu===t.toLowerCase()})}function Gn(t,n,i){return t.split(n).join(i)}function jn(t,n){return null!=t&&-1!==t.indexOf(n)}function Qn(t,n){return null!=t&&t.substr(0,n.length)===n}function Yn(t,n){return null!=t&&t.substr(t.length-n.length,n.length)===n}function Zn(t,n){return t.toUpperCase()===n.toUpperCase()}function Jn(t,n){var i=0|n;if(0===t.length||0===i)return"";for(var r=t,e="";1==(1&i)&&(e+=r),0!=(i>>>=1);)r+=r;return e}function $n(t,n,i){void 0===i&&(i=" ");var r=i,e=(0|n)-t.length;return e<=0?t:(e>r.length&&(r+=Jn(r,e/r.length)),r.slice(0,e)+t)}function Kn(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return ni(n)}var ti=16384;function ni(t){var n=t.length;if(n<=ti)return String.fromCharCode.apply(String,t);for(var i=[],r=0;r<n;r+=ti)i.push(String.fromCharCode.apply(String,t.slice(r,r+ti)));return i.join("")}var ii=(P.Gt&&Number(P.jt[1]))>=42||P.in&&P.rn>=38||P.$t||P.tn||P.an&&P.cn>=29;function ri(t,n){return jn(t,"audio")?{initDataTypes:["cenc"],audioCapabilities:[dn({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[dn({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}}function ei(){return void 0!==a&&"function"==typeof a.requestMediaKeySystemAccess}function ui(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest}var si=function(){function t(t){this.Hu=_n(),this.Vu=void 0,this.Xu=t}var n=t.prototype;return n.Wu=function(){return this.qu(Vn)},n.zu=function(){return this.qu(Wn)},n.Gu=function(){return this.qu(Hn)},n.ju=function(){return this.qu(Xn)},n.qu=function(t){var n=t.Uu,i=this.Hu.get(n);if(i)return i;var r=this.Qu(t,'video/mp4; codecs="avc1.42000a"');return this.Hu.set(n,r),r},n.Qu=function(){var t=vn.coroutine(fn.mark(function t(n,i){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.Xu.Yu(n.Bu,[ri(i,!0)]);case 3:return t.abrupt("return",!0);case 6:return t.prev=6,t.t0=t.catch(0),t.prev=8,t.next=11,this.Xu.Yu(n.Bu,[ri(i,!1)]);case 11:return t.abrupt("return",!0);case 14:return t.prev=14,t.t1=t.catch(8),t.abrupt("return",!1);case 17:case"end":return t.stop()}},t,this,[[0,6],[8,14]])}));return function(n,i){return t.apply(this,arguments)}}(),n.Zu=function(){return this.Vu||(this.Vu=this.Ju()),this.Vu},n.Ju=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("https:"!==En.protocol){t.next=2;break}return t.abrupt("return",!1);case 2:if(ii){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,this.zu();case 6:if(!t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:return t.abrupt("return",!0);case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),t}();function oi(t,n){var i=ai(t,n);return i!==t&&ci(i,void 0,t.length,t),t}function ai(t,n){var i=t,r=i.length;if(r<=1)return i;for(var e=new Array(r),u=1;u<r;u*=2){ci(i,n,u,e);var s=i;i=e,e=s}return i}function ci(t,n,i,r){var e,u,s,o,a,c=t.length,h=0,f=2*i;for(u=0;u<c;u+=f)for(e=(s=u+i)+i,s>c&&(s=c),e>c&&(e=c),o=u,a=s;;)if(o<s&&a<e)n&&n(t[o],t[a])<=0?r[h++]=t[o++]:r[h++]=t[a++];else if(o<s)r[h++]=t[o++];else{if(!(a<e))break;r[h++]=t[a++]}}function hi(t,n,i){var r=fi(t,n,i);return-1===r?void 0:t[r]}function fi(t,n,i){for(var r=0;r<t.length;r+=1){var e=t[r];if(n.call(i,e,r,t))return r}return-1}function vi(t,n){var i=t.indexOf(n);return-1!==i&&(di(t,i),!0)}function di(t,n){t.splice(n,1)}function li(t,n){return-1!==t.indexOf(n)}function _i(t,n){for(var i=0;i<n.length;i++){if(!li(t,n[i]))return!1}return!0}function gi(t){t.length=0}function wi(t){var n;return(n=[]).concat.apply(n,t)}function yi(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];i.push.apply(i,n(e))}return i}var mi=function(){function t(){this.$u=!1,this.Ku=!1,this.ts=[],this.rs=[]}var n=t.prototype;return n.es=function(){if(!this.$u&&!this.Ku){this.$u=!0;for(var t=0,n=this.ts.slice();t<n.length;t++){(0,n[t])()}this.us()}},n.us=function(){if(!this.Ku){this.Ku=!0;for(var t=0,n=this.rs.slice();t<n.length;t++){(0,n[t])()}gi(this.ts),gi(this.rs)}},n.ss=function(t){this.Ku||this.ts.push(t)},n.os=function(t){this.Ku||vi(this.ts,t)},n.as=function(t){this.Ku||this.rs.push(t)},n.cs=function(t){this.Ku||vi(this.rs,t)},t}(),ki=function(){function t(){this.hs=new mi}var n=t.prototype;return n.fs=function(){this.hs.es()},n.us=function(){this.hs.us()},n.vs=function(t){var n=this.hs;if(!n.$u)if(t.$u)n.es();else if(!n.Ku&&!t.Ku){var i=function(){r(),n.es()},r=function r(){t.os(i),t.cs(r),n.os(i),n.cs(r)};t.ss(i),t.as(r),n.ss(i),n.as(r)}},n.ds=function(){var n=new t,i=new t,r=n.ls,e=i.ls,u=this.hs,s=function(){r.$u&&e.Ku||e.$u&&r.Ku?u.es():r.Ku&&e.Ku&&u.us()};r.ss(s),e.ss(s),r.as(s),e.as(s),n.vs(u),i.vs(u);return u.as(function(){r.os(s),e.os(s),r.cs(s),e.cs(s)}),[n,i]},T(t,[{key:"ls",get:function(){return this.hs}}]),t}(),pi=function(t){function n(n,i){return t.call(this,n||"Aborted",i)||this}return qt(n,t),T(n,[{key:"name",get:function(){return"AbortError"}}]),n}(Yt);function Ai(t){return t instanceof d&&"AbortError"===t.name}function bi(t){if(t&&t.$u)throw new pi}function Ti(t){if(Ai(t))throw t}function Ei(t){if(!Ai(t))throw t}function Si(t,n){return n?new vn(function(i,r){if(n.$u)return t.catch(j),r(new pi);var e=function t(){n.os(t),r(new pi)};n.ss(e),t.then(function(t){n.os(e),i(t)},function(t){n.os(e),r(t)})}):t}function Ri(t,n){return t.then(function(t){return n.us(),t},function(t){throw n.us(),t})}function Ii(t,n){var i=new ki;return n&&i.vs(n),t(i.ls).then(function(t){return i.fs(),t},function(t){throw i.fs(),t})}var Ni=vn.resolve();function Di(t){Ni.then(t)}function Ci(t){t.then(j,j)}function Oi(t){return xi.apply(this,arguments)}function xi(){return(xi=vn.coroutine(fn.mark(function t(n){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,vn.all(n);case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),t.next=10,vn.all(n.map(function(t){return t.catch(j)}));case 10:throw t.t0;case 11:case"end":return t.stop()}},t,null,[[0,6]])}))).apply(this,arguments)}function Pi(t,n){return new vn(function(i,e){if(void 0!==n&&n.$u)e(new pi);else{var u=r.yn(function(){void 0!==n&&n.os(s),i()},t),s=function(){r.wn(u),e(new pi)};void 0!==n&&n.ss(s)}})}function Bi(t,n){var i=new ki;return vn.race([t.then(function(t){return i.fs(),t},function(t){throw i.fs(),t}),Pi(n,i.ls).then(function(){throw i.us(),new d("Timeout")})])}function Li(t){return t&&"function"!=typeof t?t.slice():t}function Mi(t,n,i){if(i)if("function"==typeof i)i.call(t,n);else for(var r=0;r<i.length;r++){i[r].call(t,n)}}var Ui,Fi=function(){function t(t){var n=this;this._s=ln(),this.gs=function(t){n.ys(t)},this.ks=t||this}var n=t.prototype;return n.ps=function(t,n){if("function"==typeof n)if("string"==typeof t)this.As(t,n);else for(var i=0;i<t.length;i++){var r=t[i];this.As(r,n)}},n.As=function(t,n){var i=this._s[t];i?"function"==typeof i?this._s[t]=[i,n]:i.push(n):this._s[t]=n},n.bs=function(){this._s=ln()},n.ys=function(t){var n=Li(this._s[t.type]);Mi(this.ks,t,n)},n.Ts=function(t,n){if("function"==typeof n)if("string"==typeof t)this.Es(t,n);else for(var i=0;i<t.length;i++){var r=t[i];this.Es(r,n)}},n.Es=function(t,n){var i=this._s[t];i&&("function"==typeof i?i===n&&(this._s[t]=void 0):vi(i,n))},n.Ss=function(t){if("string"==typeof t)this._s[t]=void 0;else for(var n=0;n<t.length;n++){var i=t[n];this._s[i]=void 0}},n.Rs=function(t,n){var i=this;return new vn(function(r,e){if(n&&n.$u)return e(new pi);var u=function(t){o(),r(t)},s=function(){o(),e(new pi)},o=function(){i.Ts(t,u),n&&n.os(s)};i.ps(t,u),n&&n.ss(s)})},t}(),Hi=function(t){function n(){return t.apply(this,arguments)||this}return qt(n,t),n.prototype.ys=function(n){var i=this;Di(function(){t.prototype.ys.call(i,n)})},n}(Fi),Vi=function(t,n){void 0===n&&(n=new Date),this.type=t,this.date=n},Xi=function(t){function n(n){var i;return(i=t.call(this,"Ns")||this).Is=n,i}return qt(n,t),n}(Vi),Wi=function(t){function n(n,i,r,e){var u;return(u=t.call(this,"Ds")||this).Is=n,u.Cs=i,u.Ds=r,u.Os=e,u}return qt(n,t),n}(Vi),qi=function(t){function n(){return t.call(this,"xs")||this}return qt(n,t),n}(Vi);!function(t){t.Ps="Bs",t.Ls="Ms"}(Ui||(Ui={}));var zi=function(t){function n(n,i){var r;return(r=t.call(this,Ui.Ps)||this).Lu=n,r.Us=i,r}return qt(n,t),n}(Vi),Gi=function(t){function n(){return t.call(this,Ui.Ls)||this}return qt(n,t),n}(Vi),ji=new k([0]).buffer,Qi=function(){function t(){this.Fs=[]}var n=t.prototype;return n.Hs=function(t){for(var n=0,i=this.Fs;n<i.length;n++){if(i[n][0]===t)return!0}return!1},n.Vs=function(t){for(var n=0,i=this.Fs;n<i.length;n++){var r=i[n];if(r[0]===t)return r[1]}},n.Xs=function(t,n){this.Fs.forEach(function(n){return t(n[1],n[0])},n)},n.Ws=function(t,n){this.Fs.push([t,n])},n.qs=function(){gi(this.Fs)},T(t,[{key:"zs",get:function(){return this.Fs.length}}]),t}(),Yi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),Zi=16383,Ji=/[\t\n\f\r ]/g;function $i(t){return 43===t?62:47===t?63:t>=48&&t<=57?t-48+52:t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:Ki()}function Ki(){throw new d("Invalid base64 input")}function tr(t){var n=t;Ji.test(n)&&(n=n.replace(Ji,""));var i=n.length;i%4==0&&i>=1&&"="===n[i-1]&&(i>=2&&"="===n[i-2]?i-=2:i-=1,n=n.substr(0,i));var r=i%4;if(1===r)return Ki();for(var e,u=0===r?0:4-r,s=new k(function(t,n){return 3*(t+n)/4-n}(i,u)),o=u>0?i-4:i,a=0,c=0;a<o;a+=4)e=$i(n.charCodeAt(a))<<18|$i(n.charCodeAt(a+1))<<12|$i(n.charCodeAt(a+2))<<6|$i(n.charCodeAt(a+3)),s[c++]=e>>16&255,s[c++]=e>>8&255,s[c++]=255&e;return 2===u?(e=$i(n.charCodeAt(a))<<2|$i(n.charCodeAt(a+1))>>4,s[c++]=255&e):1===u&&(e=$i(n.charCodeAt(a))<<10|$i(n.charCodeAt(a+1))<<4|$i(n.charCodeAt(a+2))>>2,s[c++]=e>>8&255,s[c++]=255&e),s}function nr(t,n,i){for(var r,e,u,s=[],o=n;o<i;o+=3)s.push((r=t[o],e=t[o+1],u=t[o+2],Yi[r>>2]+Yi[(3&r)<<4|e>>4]+Yi[(15&e)<<2|u>>6]+Yi[63&u]));return s.join("")}function ir(t){for(var n=t.length,i=n%3,r=[],e=n-i,u=0;u<e;u+=Zi)r.push(nr(t,u,g.min(e,u+Zi)));if(1===i){var s=t[n-1];r.push(Yi[s>>2]+Yi[(3&s)<<4]+"==")}else if(2===i){var o=t[n-2],a=t[n-1];r.push(Yi[o>>2]+Yi[(3&o)<<4|a>>4]+Yi[(15&a)<<2]+"=")}return r.join("")}var rr=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],er=ArrayBuffer.isView||function(t){return t&&li(rr,L.call(t))};function ur(t,n){return t===n||t.byteLength===n.byteLength&&function(t,n){if(t===n)return!0;if(t.byteLength!==n.byteLength)return!1;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}(new k(t),new k(n))}function sr(t){var n=t.reduce(function(t,n){return t+n.byteLength},0);return function(t,n){for(var i=new k(n),r=0,e=0;e<t.length;e++){var u=t[e];i.set(u,r),r+=u.byteLength}return i}(t,n)}function or(t){return tr(t).buffer}function ar(t){return ir(new k(t))}function cr(t){return ir(qr(t))}var hr=function(){function t(t){void 0===t&&(t=0),this.Gs=t}var n=t.prototype;return n.js=function(t){this.Gs+=t},n.Qs=function(t){this.Gs=t},n.Ys=function(){return new t(this.Zs)},T(t,[{key:"Zs",get:function(){return this.Gs}}]),t}();function fr(t){if(t>=55296&&t<=57343)throw new d("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function vr(t,n){return t>>n&63|128}function dr(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(fr(t),n.push(t>>12&15|224),n.push(vr(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(vr(t,12)),n.push(vr(t,6))),n.push(63&t|128)):n.push(t)}function lr(t,n){if(n.Zs>=t.length)throw new d("Invalid byte index");var i=255&t[n.Zs];if(n.js(1),128==(192&i))return 63&i;throw new d("Invalid continuation byte")}function _r(t,n){var i=n.Zs;if(i>t.length)throw new d("Invalid byte index");if(i===t.length)return!1;var r=255&t[i];if(n.js(1),0==(128&r))return r;if(192==(224&r)){var e=(31&r)<<6|lr(t,n);if(e>=128)return e;throw new d("Invalid continuation byte")}if(224==(240&r)){var u=(15&r)<<12|lr(t,n)<<6|lr(t,n);if(u>=2048)return fr(u),u;throw new d("Invalid continuation byte")}if(240==(248&r)){var s=(7&r)<<18|lr(t,n)<<12|lr(t,n)<<6|lr(t,n);if(s>=65536&&s<=1114111)return s}throw new d("Invalid UTF-8 detected")}var gr=65279;var wr=[128,64,32,16,8,4,2,1],yr=function(){function t(t){this.Js=t}return t.prototype.$s=function(t){return mr(this.Js,t)},t}();function mr(t,n){return(t&n)===n}function kr(t,n){return mr(t,wr[n])}function pr(t,n){var i=t.getUint8(n.Zs);return n.js(1),i}function Ar(t,n,i){t.setUint8(n.Zs,i),n.js(1)}function br(t,n,i){var r=Zr(Kr(t),n.Zs,n.Zs+i);return n.js(r.byteLength),r}function Tr(t,n,i){Kr(t).set(Kr(i),n.Zs),n.js(i.byteLength)}function Er(t,n,i){return n.Zs+i<=t.byteLength}function Sr(t,n,i,r){return void 0===r&&(r=!1),r?function(t,n,i){for(var r=0,e=1,u=0;u<i;u++)r+=pr(t,n)*e,e*=256;return r}(t,n,i):function(t,n,i){for(var r=0,e=0;e<i;e++)r=256*r+pr(t,n);return r}(t,n,i)}function Rr(t,n,i){void 0===i&&(i=!1);var r=t.getUint16(n.Zs,i);return n.js(2),r}function Ir(t,n,i,r){void 0===r&&(r=!1),t.setUint16(n.Zs,i,r),n.js(2)}function Nr(t,n,i){void 0===i&&(i=!1);var r=t.getUint32(n.Zs,i);return n.js(4),r}function Dr(t,n,i,r){void 0===r&&(r=!1),t.setUint32(n.Zs,i,r),n.js(4)}function Cr(t,n,i){void 0===i&&(i=!1);var r=Nr(t,n,i),e=Nr(t,n,i),u=i?e:r,s=i?r:e;return Ct.fromBits(s,u,!0)}function Or(t,n){var i=pr(t,n);if(i)return String.fromCharCode(i)}function xr(t,n){return Lr(t,n)}function Pr(t,n,i){for(var r="",e=0;e<i;e++)r+=Or(t,n);return r}function Br(t,n){var i,r=pr(t,n);return 0==(128&r)?i=r:192==(224&r)?i=64*(31&r)+(63&pr(t,n)):224==(240&r)?i=4096*(15&r)+64*(63&pr(t,n))+(63&pr(t,n)):240==(248&r)&&(i=262144*(7&r)+4096*(63&pr(t,n))+64*(63&pr(t,n))+(63&pr(t,n))),i}function Lr(t,n){return Mr(t,n,!0)}function Mr(t,n,i){for(var r=[];n.Zs<t.byteLength;){var e=pr(t,n);if(i&&!e)break;r.push(e)}return ni(r)}function Ur(t,n){if(n.Zs+2<=t.byteLength){var i=t.getUint8(n.Zs),r=t.getUint8(n.Zs+1);return(254!==i||255!==r)&&(255===i&&254===r||void 0)}}function Fr(t,n){var i=Ur(t,n);return void 0!==i&&n.js(2),Hr(t,n,!0===i)}function Hr(t,n,i){return void 0===i&&(i=!1),Vr(t,n,i,!0)}function Vr(t,n,i,r){for(var e=[];n.Zs+2<=t.byteLength;){var u=Rr(t,n,i);if(r&&!u)break;e.push(u)}return ni(e)}function Xr(t,n,i,r){void 0===r&&(r=!1);for(var e=i.length,u=0;u<e;u+=1){Ir(t,n,i.charCodeAt(u),r)}}function Wr(t){return Mr($r(t),new ee,!1)}function qr(t){var n=new k(t.length);return function(t,n,i){for(var r=i.length,e=0;e<r;e+=1)Ar(t,n,i.charCodeAt(e))}($r(n),new ee,t),n}function zr(t,n){return void 0===n&&(n=!1),Vr($r(t),new ee,n,!1)}function Gr(t,n){void 0===n&&(n=!1);var i=new k(2*t.length);return Xr($r(i),new ee,t,n),i}function jr(t,n){return function(t,n,i){var r=[];(function(t,n){return n.Zs+3<=t.byteLength&&239===t.getUint8(n.Zs)&&187===t.getUint8(n.Zs+1)&&191===t.getUint8(n.Zs+2)})(t,n)&&n.js(3);for(;n.Zs<t.byteLength;){var e=Br(t,n);if(void 0===e)break;if(i&&0===e)break;r.push(e)}return Kn(r)}(t,n,!0)}function Qr(t){return Kn(function(t,n){var i,r=[],e=new ee;if(!n){if(!1===(i=_r(t,e)))return r;i===gr||r.push(i)}for(;!1!==(i=_r(t,e));)r.push(i);return r}(Kr(t)))}function Yr(t){return new k(function(t){for(var n=[],i=0;i<t.length;i++)dr(t[i],n);return n}(function(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&e)<<10)+(1023&u)+65536):(n.push(e),i--)}else n.push(e)}return n}(t)))}function Zr(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new k(t.buffer,t.byteOffset+n,i-n)}function Jr(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new DataView(t.buffer,t.byteOffset+n,i-n)}function $r(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Kr(t){return new k(t.buffer,t.byteOffset,t.byteLength)}function te(t){return t instanceof ArrayBuffer||er(t)}function ne(t){return t instanceof ArrayBuffer?new k(t):Kr(t)}function ie(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),t.slice?t.slice(n,i):re(Zr(t,n,i))}function re(t){if(t.slice)return t.slice(0);var n=new k(t.byteLength);return n.set(t,0),n}var ee=function(){function t(t){void 0===t&&(t=0),this.Gs=t}var n=t.prototype;return n.js=function(t){this.Gs+=t},n.Qs=function(t){this.Gs=t},n.Ys=function(){return new t(this.Zs)},n.Ks=function(){return new hr(this.Zs<<3)},T(t,[{key:"Zs",get:function(){return this.Gs}}]),t}();function ue(t){var n=t,i=0,r=0;Qn(n,"0x")&&(n=n.substring(2));var e=new k(g.ceil(n.length/2));for(1==(1&n.length)&&(i=1,e[r++]=w(n[0],16));i<n.length;i+=2)e[r++]=w(n.substr(i,2),16);return e}var se=function(){function t(){var t=this;this.to=new vn(function(n,i){t.ce=n,t.gi=i})}var n=t.prototype;return n.io=function(t){this.ce&&(this.ce(t),this.us())},n.ro=function(t){this.gi&&(this.gi(t),this.us())},n.fs=function(){this.to.catch(j),this.ro(new pi)},n.us=function(){this.ce=void 0,this.gi=void 0},t}();function oe(){return new k([8,4]).buffer}function ae(t){return ur(t,oe())}function ce(t,n){return t===Pn?function(t){if(t.byteLength<2*he.length)return t;if(zr(new DataView(t,0,2*he.length),!0)===he)return t;return n=t,Gr('<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">'+ar(n)+'</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>',!0).buffer;var n}(n):n}var he="<PlayReady";var fe=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,e)||this).eo=i,u.uo=r,u}return qt(n,t),n}(Yt),ve=function(t){function n(n,i){var r;(r=t.call(this)||this).so=n,r.oo=i,r.ao=!1,r.co=function(){r.ho()},r.fo=function(t){r.ys(new Wi(jt(r),t.messageType,ce(r.oo,t.message)))},r.vo=function(){r.ao=!0,r.do.zs>0&&(r.do.qs(),r.ys(new Xi(jt(r)))),r.so.removeEventListener("keystatuseschange",r.co),r.so.removeEventListener("message",r.fo)},r.so.addEventListener("keystatuseschange",r.co),r.so.addEventListener("message",r.fo),r.do=new Qi;var e=[];return r.so.closed&&e.push(vn.resolve(r.so.closed)),r.lo=new se,e.push(r.lo.to),r._o=vn.race(e).then(r.vo),r.ho(),r}qt(n,t);var i=n.prototype;return i.wo=function(){if(this.ao)return this._o;var t=[];return t.push(vn.resolve(this.so.close())),t.push(Pi(1e3)),this.lo.io(vn.race(t).catch(de)),this.ao=!0,this._o},i.yo=function(t,n,i){return vn.resolve(this.so.generateRequest(t,n)).catch(de)},i.mo=function(t){return vn.resolve(this.so.load(t)).catch(de)},i.ko=function(){return vn.resolve(this.so.remove()).catch(de)},i.po=function(t){return vn.resolve(this.so.update(t)).catch(de)},i.ho=function(){var t=this;this.do.qs(),this.so.keyStatuses.forEach(function(n,i){t.Ao(i,n)}),this.ys(new Xi(this))},i.Ao=function(t,n){if("string"==typeof t){var i=t;t=n,n=i}var r=ne(t);if(this.oo===Pn&&16===r.byteLength){var e=$r(r),u=e.getUint32(0,!0),s=e.getUint16(4,!0),o=e.getUint16(6,!0);e.setUint32(0,u,!1),e.setUint16(4,s,!1),e.setUint16(6,o,!1)}this.oo===Pn&&"status-pending"===n&&(n="usable"),this.do.Ws(r,n)},T(n,[{key:"bo",get:function(){return this._o}},{key:"To",get:function(){return this.so.expiration}},{key:"Eo",get:function(){return this.do}},{key:"So",get:function(){return this.so.sessionId}}]),n}(Fi);function de(t){var n;if(t.message){var i=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);i&&(n=0|w(i[1],16))}throw new fe(t.message,void 0,n,t)}var le=function(){function t(t,n){this.Ro=t,this.oo=n}var n=t.prototype;return n.Io=function(){var t=vn.coroutine(fn.mark(function t(n){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new ve(this.Ro.createSession(n),this.oo));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.No=function(t){return vn.resolve(this.Ro.setServerCertificate(t))},n.Do=function(t){return vn.resolve(t.setMediaKeys(this.Ro))},n.Co=function(t){return vn.resolve(t.setMediaKeys(null))},t}(),_e=function(){function t(t,n){this.Oo=t,this.oo=n}var n=t.prototype;return n.xo=function(){var t=vn.coroutine(fn.mark(function t(){var n;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Oo.createMediaKeys();case 2:return n=t.sent,t.abrupt("return",new le(n,this.oo));case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.Po=function(){return this.Oo.getConfiguration()},T(t,[{key:"Bo",get:function(){return this.Oo.keySystem}}]),t}(),ge=function(){function t(){}return t.prototype.Yu=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=i.filter(function(t){return!t.Lo}),t.next=3,a.requestMediaKeySystemAccess(n,i);case 3:return r=t.sent,t.abrupt("return",new _e(r,n));case 5:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}(),t.Mo=function(){return ei()},t}(),we=function(t){function n(n,i){var r;return(r=t.call(this)||this).Uo=n,r.Fo=i,r.ao=!1,r.Ho=void 0,r.Vo=void 0,r.Xo=void 0,r.vo=function(){r.ao=!0,r.Wo.io(void 0),r.Xo&&(r.Xo.removeEventListener("mskeyclose",r.vo),r.Xo.removeEventListener("mskeymessage",r.qo),r.Xo.removeEventListener("mskeyerror",r.zo),r.Xo.removeEventListener("mskeyadded",r.Go))},r.qo=function(t){r.Vo&&(r.Vo.io(void 0),r.Vo=void 0),r.ys(new Wi(jt(r),"license-request",re(t.message).buffer,t.destinationURL||void 0))},r.zo=function(){var t=r.Xo&&r.Xo.error;if(t){var n=new fe("Unknown CDM error",t.code,t.systemCode);if(r.Vo)r.Vo.ro(n),r.Vo=void 0;else if(r.Ho)r.Ho.ro(n),r.Ho=void 0;else switch(n.eo){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:r.jo("output-not-allowed");break;default:r.jo("internal-error")}}},r.Go=function(){r.Vo&&(r.jo("usable"),r.Vo.io(void 0),r.Vo=void 0),r.Ho&&(r.jo("usable"),r.Ho.io(void 0),r.Ho=void 0)},r.Wo=new se,r.Qo=new Qi,r}qt(n,t);var i=n.prototype;return i.yo=function(){var t=vn.coroutine(fn.mark(function t(n,i,r){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Yo(),this.Vo=new se,this.Io(ne(i),r),t.next=5,this.Vo.to;case 5:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.Io=function(t,n){if(!t)throw new l("Expected initData to be defined but was "+t+".");var i,r=n&&n.playready&&n.playready.Zo;return(i=n?this.Uo.createSession(this.Fo,t,r):this.Uo.createSession(this.Fo,t)).addEventListener("mskeyclose",this.vo),i.addEventListener("mskeymessage",this.qo),i.addEventListener("mskeyerror",this.zo),i.addEventListener("mskeyadded",this.Go),this.Xo=i,this.jo("status-pending"),i},i.mo=function(){var t=vn.coroutine(fn.mark(function t(n){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Yo(),t.abrupt("return",!0);case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.po=function(){var t=vn.coroutine(fn.mark(function t(n){var i;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Ho=new se,this.Yo(),this.Xo){t.next=4;break}return t.abrupt("return",vn.resolve());case 4:if(0!==(i=ne(n)).byteLength){t.next=7;break}throw new l("Cannot call update with an empty response.");case 7:return this.Xo.update(i),t.next=10,this.Ho.to;case 10:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.wo=function(){return!this.ao&&this.Xo&&(this.ao=!0,this.Xo.close()),this.Wo.to},i.ko=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Yo(),t.abrupt("return");case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Yo=function(){if(this.ao)throw new l("Already closing or closed.")},i.jo=function(t){this.Qo.qs(),this.Qo.Ws(ji,t),this.ys(new Xi(this))},T(n,[{key:"So",get:function(){return this.Xo&&this.Xo.sessionId||""}},{key:"To",get:function(){return NaN}},{key:"bo",get:function(){return this.Wo.to}},{key:"Eo",get:function(){return this.Qo}}]),n}(Fi),ye=function(){function t(t,n){this.Uo=t,this.Fo=n}var n=t.prototype;return n.Io=function(){var t=vn.coroutine(fn.mark(function t(n){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new we(this.Uo,this.Fo));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.No=function(t){return vn.resolve(!1)},n.Do=function(t){var n=this;return t.readyState>=1?t.msSetMediaKeys(this.Uo):t.addEventListener("loadedmetadata",function i(){t.msSetMediaKeys(n.Uo),t.removeEventListener("loadedmetadata",i)}),vn.resolve()},n.Co=function(t){return vn.resolve()},t}();function me(t,n,i){var r=!1;if(!(i.persistentState&&"optional"!==i.persistentState||i.distinctiveIdentifier&&"optional"!==i.distinctiveIdentifier)){var e={audioCapabilities:[],videoCapabilities:[],persistentState:i.persistentState||"optional",distinctiveIdentifier:i.distinctiveIdentifier||"optional",initDataTypes:i.initDataTypes,sessionTypes:["temporary"],label:i.label,Lo:i.Lo},u=!1;if(i.audioCapabilities)for(var s=0,o=i.audioCapabilities;s<o.length;s++){var a=o[s];if(a.contentType){u=!0;var c=pe(a.contentType);!a.robustness&&t(n,c)&&(e.audioCapabilities.push(a),r=!0)}}if(i.videoCapabilities)for(var h=0,f=i.videoCapabilities;h<f.length;h++){var v=f[h];if(v.contentType){u=!0;var d=pe(v.contentType);!v.robustness&&t(n,d)&&(e.videoCapabilities.push(v),r=!0)}}return u||(r=t(n,"video/mp4")),r?e:void 0}}function ke(t){if(t.videoCapabilities)for(var n=0,i=t.videoCapabilities;n<i.length;n++){var r=i[n];if(r.contentType)return r.contentType}if(t.audioCapabilities)for(var e=0,u=t.audioCapabilities;e<u.length;e++){var s=u[e];if(s.contentType)return s.contentType}}function pe(t){return t.split(";")[0]}var Ae=function(){function t(t,n){this.oo=t,this.Jo=n;var i=ke(n)||"video/mp4";this.Fo=pe(i)}var n=t.prototype;return n.Po=function(){return this.Jo},n.xo=function(){return vn.resolve(new ye(new Tn.MSMediaKeys(this.oo),this.Fo))},T(t,[{key:"Bo",get:function(){return this.oo}}]),t}(),be=function(){function t(){}return t.prototype.Yu=function(t,n){try{return vn.resolve(function(t,n){if(!Te())throw new l("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=me(Ee,t,r);if(e)return new Ae(t,e)}throw new l("Unsupported key system configuration for "+t)}(t,n))}catch(t){return vn.reject(t)}},t.Mo=function(){return Te()},t}();function Te(){return void 0!==Tn.MSMediaKeys&&"function"==typeof Tn.MSMediaKeys.isTypeSupported}function Ee(t,n){return Tn.MSMediaKeys.isTypeSupported(t,n)}var Se,Re,Ie=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).$o=n,e.Fo=i,e.Ko=r,e.Wo=new se,e.ta=void 0,e.Qo=new Qi,e.na=void 0,e.ia=new se,e.zo=function(){var t=e.na&&e.na.error;if(t){var n=new fe("Unknown CDM error",t.code,t.systemCode);e.ta?(e.ta.ro(n),e.ta=void 0):n.eo===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?e.jo("output-not-allowed"):e.jo("internal-error"),e.ys(new qi)}},e.qo=function(t){e.ta&&(e.ta.io(void 0),e.ta=void 0),e.ys(new Wi(jt(e),"license-request",re(t.message).buffer,t.destinationURL||void 0))},e}qt(n,t);var i=n.prototype;return i.yo=function(t,n,i){var r=i&&i.fairplay&&i.fairplay.ra;if(!r)throw new l("Expected FairPlay contentId to be defined but was "+r+".");var e=Ne(ne(n),r,this.Ko);return this.na=this.$o.createSession(this.Fo,e),this.na.addEventListener("webkitkeymessage",this.qo,!1),this.na.addEventListener("webkitkeyerror",this.zo,!1),this.jo("usable"),this.ia.io(this.na),this.ia=new se,vn.resolve()},i.mo=function(t){return vn.resolve(!0)},i.po=function(){var t=vn.coroutine(fn.mark(function t(n){var i;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(i=ne(n)).byteLength){t.next=3;break}throw new l("Cannot call update with an empty response.");case 3:if(this.ta=new se,t.t0=this.na,t.t0){t.next=9;break}return t.next=8,this.ia.to;case 8:t.t0=t.sent;case 9:return t.t0.update(i),t.next=13,this.ta.to;case 13:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.wo=function(){var t=this.na;return t&&(t.removeEventListener("webkitkeymessage",this.qo,!1),t.removeEventListener("webkitkeyerror",this.zo,!1),t.close()),this.ia.fs(),this.Wo.io(void 0),this.Wo.to},i.ko=function(){return vn.resolve(void 0)},i.jo=function(t){this.Qo.qs(),this.Qo.Ws(ji,t),this.ys(new Xi(this))},T(n,[{key:"So",get:function(){return this.na?this.na.sessionId:""}},{key:"To",get:function(){return NaN}},{key:"bo",get:function(){return this.Wo.to}},{key:"Eo",get:function(){return this.Qo}}]),n}(Fi);function Ne(t,n,i){var r=Qr(t),e=2*r.length,u=2*n.length,s=new ArrayBuffer(4+e+4+u+4+i.byteLength),o=new DataView(s),a=new ee;return Dr(o,a,e,!0),Xr(o,a,r,!0),Dr(o,a,u,!0),Xr(o,a,n,!0),Dr(o,a,i.byteLength,!0),Tr(o,a,i),new k(s)}(Se=n.ErrorCode||(n.ErrorCode={}))[Se.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",Se[Se.LICENSE_ERROR=2e3]="LICENSE_ERROR",Se[Se.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",Se[Se.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",Se[Se.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",Se[Se.SOURCE_INVALID=3e3]="SOURCE_INVALID",Se[Se.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",Se[Se.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",Se[Se.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",Se[Se.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",Se[Se.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",Se[Se.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",Se[Se.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",Se[Se.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",Se[Se.MEDIA_ABORTED=5004]="MEDIA_ABORTED",Se[Se.NETWORK_ERROR=6e3]="NETWORK_ERROR",Se[Se.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",Se[Se.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",Se[Se.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",Se[Se.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",Se[Se.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",Se[Se.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",Se[Se.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",Se[Se.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",Se[Se.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",Se[Se.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",Se[Se.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",Se[Se.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",Se[Se.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",Se[Se.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",Se[Se.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",Se[Se.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",Se[Se.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",Se[Se.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",Se[Se.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",Se[Se.AD_ERROR=1e4]="AD_ERROR",Se[Se.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",Se[Se.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR",(Re=n.ErrorCategory||(n.ErrorCategory={}))[Re.CONFIGURATION=1]="CONFIGURATION",Re[Re.LICENSE=2]="LICENSE",Re[Re.SOURCE=3]="SOURCE",Re[Re.MANIFEST=4]="MANIFEST",Re[Re.MEDIA=5]="MEDIA",Re[Re.NETWORK=6]="NETWORK",Re[Re.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",Re[Re.SUBTITLE=8]="SUBTITLE",Re[Re.VR=9]="VR",Re[Re.AD=10]="AD",Re[Re.FULLSCREEN=11]="FULLSCREEN",function(t){t.fromCode=function(n){var i=g.floor(n/1e3);if(i in t)return i;throw new l("Invalid error code: "+n)}}(n.ErrorCategory||(n.ErrorCategory={}));var De=function(t){function i(n,i,r){var e;return(e=t.call(this,i,r)||this).code=n,e}return qt(i,t),T(i,[{key:"name",get:function(){return"THEOplayerError"}},{key:"category",get:function(){return n.ErrorCategory.fromCode(this.code)}}]),i}(Yt),Ce=function(){function t(t,n){this.$o=t,this.Fo=n,this.Ko=void 0}var i=t.prototype;return i.getInternalMediaKeys=function(){return this.$o},i.Io=function(){var t=vn.coroutine(fn.mark(function t(i){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Ko){t.next=2;break}throw new De(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return t.abrupt("return",new Ie(this.$o,this.Fo,this.Ko));case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.No=function(t){return this.Ko=ne(t),vn.resolve(!0)},i.Do=function(t){return t.webkitSetMediaKeys(this.$o),vn.resolve()},i.Co=function(t){return t.webkitSetMediaKeys(null),vn.resolve()},t}(),Oe=function(){function t(t,n){this.oo=t,this.Jo=n;var i=ke(n)||"video/mp4";this.Fo=pe(i)}var n=t.prototype;return n.Po=function(){return this.Jo},n.xo=function(){return vn.resolve(new Ce(new Tn.WebKitMediaKeys(this.oo),this.Fo))},T(t,[{key:"Bo",get:function(){return this.oo}}]),t}(),xe=function(){function t(){}return t.prototype.Yu=function(t,n){try{return vn.resolve(function(t,n){if(t!==Fn)throw new l(t+" is not supported with webkit-prefixed Encrypted Media Extensions.");if(!Pe())throw new l("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=me(Be,t,r);if(e)return new Oe(t,e)}throw new l("Unsupported key system configuration for "+t)}(t,n))}catch(t){return vn.reject(t)}},t.Mo=function(){return Pe()},t}();function Pe(){return void 0!==Tn.WebKitMediaKeys&&"function"==typeof Tn.WebKitMediaKeys.isTypeSupported}function Be(t,n){return Tn.WebKitMediaKeys.isTypeSupported(t,n)}var Le,Me=function(){function t(t){this.ea=t}return t.prototype.Yu=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r,e,u;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.ea;case 1:if(!(r<e.length)){t.next=14;break}return u=e[r],t.prev=3,t.next=6,u.Yu(n,i);case 6:return t.abrupt("return",t.sent);case 9:t.prev=9,t.t0=t.catch(3);case 11:r++,t.next=1;break;case 14:throw new l("Unsupported key system configuration for "+n);case 15:case"end":return t.stop()}},t,this,[[3,9]])}));return function(n,i){return t.apply(this,arguments)}}(),t}(),Ue=function(t){function n(n){var i;return(i=t.call(this)||this).oo=n,i.Vo=void 0,i.ta=void 0,i.ua=!1,i.sa=void 0,i.oa=void 0,i.Wo=new se,i.aa="",i.ca=new se,i.ha=new Qi,i}qt(n,t);var i=n.prototype;return i.fa=function(){this.ta&&(this.jo("usable"),this.ta.io(void 0),this.ta=void 0)},i.va=function(t){var n=new fe("Unknown CDM error",t.errorCode,t.systemCode);this.ta?(this.ta.ro(n),this.ta=void 0):this.Vo?(this.Vo.ro(n),this.Vo=void 0):n.eo===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.jo("output-restricted"):1===n.uo?this.jo("expired"):this.jo("internal-error")},i.da=function(t){0!==t.message.byteLength&&(this.Vo&&(this.Vo.io(void 0),this.Vo=void 0),this.ys(new Wi(this,"license-request",ce(this.oo,re(t.message).buffer),t.defaultURL||void 0)))},i.la=function(t){this.oa||(this.oa=t,this.ca.io(t))},i.wo=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed(),this.ua=!0,this.Wo.io(void 0);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.yo=function(){var t=vn.coroutine(fn.mark(function t(n,i){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.Vo=new se,this.sa=ne(i),t.t0=this.oa,t.t0){t.next=8;break}return t.next=7,this.ca.to;case 7:t.t0=t.sent;case 8:return t.t0.webkitGenerateKeyRequest(this.oo,this.sa),t.next=12,this.Vo.to;case 12:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.mo=function(){var t=vn.coroutine(fn.mark(function t(n){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.throwIfClosed(),t.abrupt("return",!1);case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.ko=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed();case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.po=function(){var t=vn.coroutine(fn.mark(function t(n){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.ta=new se,t.t0=this.oa,t.t0){t.next=7;break}return t.next=6,this.ca.to;case 6:t.t0=t.sent;case 7:return t.t0.webkitAddKey(this.oo,ne(n),this.sa,this.So),t.next=11,this.ta.to;case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.throwIfClosed=function(){if(this.ua)throw new l("Already closing or closed.")},i.jo=function(t){this.ha.qs(),this.ha.Ws(ji,t),this.ys(new Xi(this))},T(n,[{key:"Eo",get:function(){return this.ha}},{key:"So",get:function(){return this.aa},set:function(t){this.aa=t}},{key:"bo",get:function(){return this.Wo.to}},{key:"To",get:function(){return NaN}}]),n}(Fi),Fe=function(){function t(t){var n=this;this.oo=t,this.oa=void 0,this._a=_n(),this.ga=[],this.Go=function(t){var i=n.wa(t.sessionId);i&&i.fa()},this.ya=function(t){var i=n.wa(t.sessionId);i&&i.va(t)},this.ma=function(t){var i=n.wa(t.sessionId);i&&i.da(t)}}var n=t.prototype;return n.Do=function(t){return this.oa=t,this.oa.addEventListener("webkitkeyadded",this.Go),this.oa.addEventListener("webkitkeyerror",this.ya),this.oa.addEventListener("webkitkeymessage",this.ma),this._a.forEach(function(n,i){return n.la(t)}),this.ga.forEach(function(n){return n.la(t)}),vn.resolve()},n.Co=function(t){return t.removeEventListener("webkitkeyadded",this.Go),t.removeEventListener("webkitkeyerror",this.ya),t.removeEventListener("webkitkeymessage",this.ma),this.oa=void 0,vn.resolve()},n.Io=function(){var t=vn.coroutine(fn.mark(function t(n,i,r){var e;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new Ue(this.oo),this.oa&&e.la(this.oa),this.ga.push(e),t.abrupt("return",e);case 4:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),n.No=function(t){return vn.resolve(!1)},n.wa=function(t){if(t){var n=this._a.get(t);return n||((n=this.ga.shift())?(n.So=t,this._a.set(t,n),n):void 0)}},t}(),He=function(){function t(t,n){this.Bo=t,this.ka=n}var n=t.prototype;return n.xo=function(){return vn.resolve(new Fe(this.Bo))},n.Po=function(){return this.ka},t}();function Ve(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Xe(t,n){if(void 0!==t.classList)t.classList.add(n);else if(void 0!==t.className){var i=function(t){var n=t.className;return"string"==typeof n?n:n&&"string"==typeof n.baseVal?n.baseVal:""}(t);-1===(" "+i+" ").indexOf(" "+n+" ")&&function(t,n){var i=t.className;"string"==typeof i?t.className=n:i&&"string"==typeof i.baseVal&&(i.baseVal=n)}(t,(i+" "+n).trim())}}function We(t,n,i){t.display=n,"none"!==t.display&&""!==t.display||(t.display=i)}function qe(t,n){var i=n.style;if(i)for(var r in t)i[r]=t[r]}function ze(t){var n=t.style;n.position="absolute",n.left="0",n.right="0",n.top="0",n.bottom="0",n.width="100%",n.height="100%"}function Ge(t){t.removeAttribute("title")}function je(t){return"video"===((n=t)&&n.nodeName&&n.nodeName.toLowerCase()||"");var n}function Qe(t){t.src&&(t.removeAttribute("src"),t.load())}function Ye(){return void 0!==s?s.createElement("video"):void 0}function Ze(){return Le||(Le=Ye()),Le}var Je,$e=function(){function t(){}return t.prototype.Yu=function(t,n){try{return vn.resolve(Ke(t,n))}catch(t){return vn.reject(t)}},t.Mo=function(){return ui()},t}();function Ke(t,n){if(!$e.Mo())throw new l("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=me(tu,t,n[i]);if(r)return new He(t,r)}throw new l("Unsupported key system configuration for "+t)}function tu(t,n){var i=Ze();return!(!i||!i.canPlayType||""===i.canPlayType(n,t))}function nu(){return Je||(Je=function(){var t=[];xe.Mo()&&t.push(new xe);ge.Mo()&&t.push(new ge);be.Mo()&&t.push(new be);$e.Mo()&&t.push(new $e);return new Me(t)}()),Je}function iu(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),_.defineProperty(t,r.key,r)}}function ru(t,n){var i=function(t,n){var i=t.length;if(i<=1)return t;for(var r=new Array(i),e=1;e<i;e*=2){eu(t,n,e,r);var u=t;t=r,r=u}return t}(t,n);return i!==t&&eu(i,null,t.length,t),t}function eu(t,n,i,r){var e,u,s,o,a,c=t.length,h=0,f=2*i;for(e=0;e<c;e+=f)for(s=(u=e+i)+i,u>c&&(u=c),s>c&&(s=c),o=e,a=u;;)if(o<u&&a<s)n(t[o],t[a])<=0?r[h++]=t[o++]:r[h++]=t[a++];else if(o<u)r[h++]=t[o++];else{if(!(a<s))break;r[h++]=t[a++]}}var uu=/[a-zA-Z]/,su=/[0-9]/,ou=/[0-9a-fA-F]/,au=/^0x/i,cu=/^[0-9]+$/,hu=/^[0-9a-fA-F]+$/,fu=/^[0-7]+$/,vu=_.prototype.toString,du=Array.isArray||function(t){return"[object Array]"===vu.call(t)},lu="undefined"!=typeof Symbol&&"symbol"==typeof Symbol.iterator;function _u(t){return du(t)?t:Array.from(t)}function gu(t){return t>=65&&t<=90}function wu(t){return gu(t)||function(t){return t>=97&&t<=122}(t)}function yu(t){return t>=48&&t<=57}function mu(t){return yu(t)||wu(t)}function ku(t){return yu(t)||t>=65&&t<=70||t>=97&&t<=102}function pu(t){return gu(t)?t+32:t}function Au(t){return yu(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function bu(t,n){return void 0===n&&(n=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(n?87:55):-1}var Tu=g.min,Eu=String.fromCharCode,Su=16384;function Ru(t){for(var n=t.length,i=[],r=0;r<n;r+=Su){var e=Tu(r+Su,n);i.push(Eu.apply(null,t.slice(r,e)))}return i.join("")}var Iu=/[^\0-\x7E]/,Nu=/[\x2E\u3002\uFF0E\uFF61]/g,Du={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Cu=g.floor,Ou=String.fromCharCode;function xu(t){throw new RangeError(Du[t])}function Pu(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&e)<<10)+(1023&u)+65536):(n.push(e),i--)}else n.push(e)}return n}var Bu,Lu,Mu,Uu=function(t,n){return t+22+75*(t<26)-((0!=n)<<5)},Fu=function(t,n,i){var r=0;for(t=i?Cu(t/700):t>>1,t+=Cu(t/n);t>455;r+=36)t=Cu(t/35);return Cu(r+36*t/(t+38))},Hu=function(t){return function(t,n){var i=t.split("@"),r="";i.length>1&&(r=i[0]+"@",t=i[1]);var e=function(t,n){for(var i=[],r=t.length;r--;)i[r]=n(t[r]);return i}((t=t.replace(Nu,".")).split("."),n).join(".");return r+e}(t,function(t){return Iu.test(t)?"xn--"+function(t){for(var n=[],i=(t=Pu(t)).length,r=128,e=0,u=72,s=0,o=t;s<o.length;s++){var a=o[s];a<128&&n.push(Ou(a))}var c=n.length,h=c;for(c&&n.push("-");h<i;){for(var f=2147483647,v=0,d=t;v<d.length;v++){var l=d[v];l>=r&&l<f&&(f=l)}var _=h+1;f-r>Cu((2147483647-e)/_)&&xu("overflow"),e+=(f-r)*_,r=f;for(var g=0,w=t;g<w.length;g++){var y=w[g];if(y<r&&++e>2147483647&&xu("overflow"),y==r){for(var m=e,k=36;;k+=36){var p=k<=u?1:k>=u+26?26:k-u;if(m<p)break;var A=m-p,b=36-p;n.push(Ou(Uu(p+A%b,0))),m=Cu(A/b)}n.push(Ou(Uu(m,0))),u=Fu(e,_,h==c),e=0,++h}}++e,++r}return n.join("")}(t):t})};function Vu(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return Ru(n)}function Xu(t){if(t>=55296&&t<=57343)throw new d("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function Wu(t,n){return t>>n&63|128}function qu(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Xu(t),n.push(t>>12&15|224),n.push(Wu(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(Wu(t,12)),n.push(Wu(t,6))),n.push(63&t|128)):n.push(t)}function zu(t){for(var n=[],i=0;i<t.length;i++){qu(t[i],n)}return n}function Gu(){if(Mu>=Lu)throw new d("Invalid byte index");var t=255&Bu[Mu];if(Mu++,128==(192&t))return 63&t;throw new d("Invalid continuation byte")}function ju(){var t,n;if(Mu>Lu)throw new d("Invalid byte index");if(Mu===Lu)return!1;if(t=255&Bu[Mu],Mu++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|Gu())>=128)return n;throw new d("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|Gu()<<6|Gu())>=2048)return Xu(n),n;throw new d("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|Gu()<<12|Gu()<<6|Gu())>=65536&&n<=1114111)return n;throw new d("Invalid UTF-8 detected")}function Qu(t){return[37,bu(t>>4),bu(15&t)]}function Yu(t){return function(t){return t>=0&&t<=31}(t)||t>126}function Zu(t){return Yu(t)||32===t||34===t||60===t||62===t||96===t}function Ju(t){return Zu(t)||35===t||63===t||123===t||125===t}function $u(t){return Ju(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function Ku(t){return t<33||t>126||34===t||35===t||60===t||62===t}function ts(t){return Ku(t)||39===t}function ns(t,n){if(!n(t))return[t];for(var i=zu([t]),r=[],e=0;e<i.length;e++){var u=i[e];r.push.apply(r,Qu(u))}return r}function is(t,n){for(var i=[],r=0,e=Pu(t);r<e.length;r++){var u=e[r];i.push.apply(i,ns(u,n))}return Vu(i)}function rs(t){return function(t){for(var n=[],i=t.length,r=0;r<i;r++){var e=t[r];if(37===e&&r+2<i&&ku(t[r+1])&&ku(t[r+2])){var u=Au(t[r+1])<<4|Au(t[r+2]);n.push(u),r+=2}else n.push(e)}return n}(zu(t))}function es(t){return Vu(function(t){Bu=t.slice(),Lu=Bu.length,Mu=0;for(var n,i=[];!1!==(n=ju());)i.push(n);return i}(rs(Pu(t))))}function us(t){var n,i,r,e,u=t.length,s=[0,0,0,0,0,0,0,0],o=0,a=null,c=0;if(c<u&&":"===t[c]){if(!(c+1<u&&":"===t[c+1]))throw new l;c+=2,a=o+=1}for(;c<u;){if(8===o)throw new l("Too many groups");if(":"!==t[c]){for(var h=0,f=0;f<4&&c<u&&ou.test(t[c]);)h=h<<4|w(t[c],16),c+=1,f+=1;if("."===t[c]){if(0===f)throw new l;if(c-=f,o>6)throw new l;for(var v=0;c<u;){var d=null;if(v>0){if(!("."===t[c]&&v<4))throw new l;c+=1}if(!su.test(t[c]))throw new l;for(;c<u&&su.test(t[c]);){var _=w(t[c],10);if(null===d)d=_;else{if(0===d)throw new l;if((d=10*d+_)>255)throw new l}c+=1}s[o]=s[o]<<8|d,2!==(v+=1)&&4!==v||(o+=1)}if(4!==v)throw new l;break}if(":"===t[c]){if((c+=1)===u)throw new l}else if(c<u)throw new l;s[o]=h,o+=1}else{if(null!==a)throw new l("Too many :: groups");c+=1,a=o+=1}}if(null!==a){var g=o-a;for(o=7;0!==o&&g>0;)r=a+g-1,e=void 0,e=(n=s)[i=o],n[i]=n[r],n[r]=e,o-=1,g-=1}else if(8!==o)throw new l;return s}function ss(t){var n=10,i=cu;return au.test(t)?(t=t.slice(2),n=16,i=hu):t.length>=2&&"0"===t[0]&&(t=t.slice(1),n=8,i=fu),""===t?0:i.test(t)?w(t,n):void 0}var os={pa:4},as=/[\0\t\n\r #%/:?@\[\\\]]/,cs=/[\0\t\n\r #/:?@\[\\\]]/;function hs(t,n){if("["===t[0]){if("]"!==t[t.length-1])throw new l("Invalid IPv6 address");return{pa:2,Aa:us(t.slice(1,-1))}}if(!n)return function(t){if(cs.test(t))throw new l("Invalid code point in opaque host");var n=is(t,Yu);return""===n?os:{pa:3,pu:n}}(t);var i=function(t){return function(t){return Hu(t.toLowerCase())}(t)}(es(t));if(as.test(i))throw new l("Invalid code point in host");var r=function(t){var n=t.split(".");if(""===n[n.length-1]&&n.pop(),!(n.length>4)){for(var i=[],r=0;r<n.length;r++){var e=n[r];if(""===e)return;var u=ss(e);if(void 0===u)return;i.push(u)}for(var s=0;s<i.length-1;s++)if(i[s]>255)throw new l;if(i[i.length-1]>=g.pow(256,5-i.length))throw new l;for(var o=i.pop(),a=0;a<i.length;a++)o+=i[a]*g.pow(256,3-a);return o}}(i);return void 0!==r?{pa:1,Aa:r}:""===i?os:{pa:0,ba:i}}function fs(t){switch(t.pa){case 0:return t.ba;case 1:return function(t){for(var n=[],i=t,r=1;r<=4;r++)n.push(""+(255&i)),4!==r&&n.push("."),i>>>=8;return n.reverse().join("")}(t.Aa);case 2:return"["+function(t){for(var n="",i=function(t){for(var n=0,i=0,r=0,e=0,u=0;u<8;u++)0===t[u]?(0===e&&(r=u),e++):(e>i&&(n=r,i=e),e=0);return e>i&&(n=r,i=e),i>1?n:null}(t),r=!1,e=0;e<8;e++){if(r){if(0===t[e])continue;r=!1}i!==e?(n+=t[e].toString(16),7!==e&&(n+=":")):(n+=0===e?"::":":",r=!0)}return n}(t.Aa)+"]";case 3:return t.pu;case 4:return""}}var vs=/\+/g;function ds(t){for(var n=t.split("&"),i=[],r=0;r<n.length;r++){var e=n[r];if(""!==e){var u=e.indexOf("="),s=void 0,o=void 0;-1!==u?(s=e.slice(0,u),o=e.slice(u+1)):(s=e,o=""),s=s.replace(vs," "),o=o.replace(vs," ");var a=es(s),c=es(o);i.push([a,c])}}return i}function ls(t){for(var n="",i=0;i<t.length;i++){var r=t[i];i>0&&(n+="&"),n+=_s(zu(Pu(r[0])))+"="+_s(zu(Pu(r[1])))}return n}function _s(t){for(var n,i=[],r=0;r<t.length;r++){var e=t[r];32===e?i.push(43):42===(n=e)||45===n||46===n||95===n||mu(n)?i.push(e):i.push.apply(i,Qu(e))}return Ru(i)}var gs=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function ws(t){var n=""+t,i=gs.exec(n);return i?function(t,n){for(var i=t.length,r=[],e=n;e<i;e++){var u=t.charCodeAt(e);if(ms(u))if(ks(u)||e===i-1)r.push(ys);else{var s=t.charCodeAt(e+1);ks(s)?(r.push(u,s),e++):r.push(ys)}else r.push(u)}return t.slice(0,n)+Ru(r)}(n,i.index):n}var ys=65533,ms=function(t){return 55296==(63488&t)},ks=function(t){return 0!=(1024&t)};function ps(t,n){var i=t[0],r=n[0];return i===r?0:i<r?-1:1}function As(t){t.Ta.length=0}function bs(t,n){!function(t,n){for(var i=0;i<n.length;i++)t[i]=n[i];t.length=n.length}(t.Ta,ds(n))}function Ts(t){if(t.Ea){var n=ls(t.Ta);""===n&&(n=null),t.Ea.Ea.Sa=n}}var Es=function(){function t(t){if(void 0===t&&(t=void 0),this.Ea=null,null==t)this.Ta=[];else if("object"==typeof t||"function"==typeof t)if((u=t)instanceof Es&&du(u.Ta)&&(!lu||u[Symbol.iterator]===Ss))this.Ta=t.Ta.slice();else if(function(t){return null!=t&&(!!du(t)||!!lu&&"function"==typeof t[Symbol.iterator])}(t)){this.Ta=[];for(var n=0,i=_u(t);n<i.length;n++){var r=_u(i[n]);if(2!==r.length)throw new l("Invalid name-value pair");this.Ta.push([ws(r[0]),ws(r[1])])}}else for(var e in this.Ta=[],t)_.prototype.hasOwnProperty.call(t,e)&&this.Ta.push([ws(e),ws(t[e])]);else(t=ws(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this.Ta=ds(t);var u}var n=t.prototype;return n.append=function(t,n){t=ws(t),n=ws(n),this.Ta.push([t,n]),Ts(this)},n.delete=function(t){t=ws(t);for(var n=this.Ta,i=0;i<n.length;){n[i][0]===t?n.splice(i,1):i++}Ts(this)},n.get=function(t){t=ws(t);for(var n=this.Ta,i=0;i<n.length;i++){var r=n[i];if(r[0]===t)return r[1]}return null},n.getAll=function(t){t=ws(t);for(var n=this.Ta,i=[],r=0;r<n.length;r++){var e=n[r];e[0]===t&&i.push(e[1])}return i},n.has=function(t){t=ws(t);for(var n=this.Ta,i=0;i<n.length;i++){if(n[i][0]===t)return!0}return!1},n.set=function(t,n){t=ws(t),n=ws(n);for(var i=this.Ta,r=!1,e=0;e<i.length;){var u=i[e];u[0]===t?r?i.splice(e,1):(u[1]=n,r=!0,e++):e++}r||i.push([t,n]),Ts(this)},n.sort=function(){ru(this.Ta,ps),Ts(this)},n.toString=function(){return ls(this.Ta)},n.entries=function(){return new Ds(this.Ta,Rs)},n.keys=function(){return new Ds(this.Ta,Is)},n.values=function(){return new Ds(this.Ta,Ns)},n.forEach=function(t){var n=this;this.Ta.forEach(function(i){return t(i[1],i[0],n)})},t}(),Ss=Es.prototype.entries;lu&&(Es.prototype[Symbol.iterator]=Ss);var Rs=function(t){return[t[0],t[1]]},Is=function(t){return t[0]},Ns=function(t){return t[1]},Ds=function(){function t(t,n){this.Ra=0,this.Ta=t,this.Ia=n}return t.prototype.next=function(){return this.Ra<this.Ta.length?{done:!1,value:this.Ia(this.Ta[this.Ra++])}:{done:!0,value:void 0}},t}(),Cs="null";var Os=_.create(null);Os.ftp=21,Os.file=0,Os.gopher=70,Os.http=80,Os.https=443,Os.ws=80,Os.wss=443;var xs=/^(?:\.|%2e)$/i,Ps=/^(?:\.|%2e){2}$/i;function Bs(t){return xs.test(t)}function Ls(t){return Ps.test(t)}function Ms(t){return void 0!==Os[t]}function Us(t){return Ms(t.Na)}function Fs(t){return""!==t.Da||""!==t.Ca}function Hs(t){var n=t.length;if(!(n>=2))return!1;if(!Xs(t.slice(0,2)))return!1;if(2!==n){var i=t[2];if(47!==i&&92!==i&&63!==i&&35!==i)return!1}return!0}function Vs(t){return 2===t.length&&uu.test(t[0])&&(":"===t[1]||"|"===t[1])}function Xs(t){return 2===t.length&&Vs(Ru(t))}function Ws(t){return Vs(t)&&":"===t[1]}function qs(t){var n=t.Oa;0!==n.length&&("file"===t.Na&&1===n.length&&Ws(n[0])||n.pop())}function zs(t){return null===t.xa||os===t.xa||t.Pa||"file"===t.Na}var Gs=-1,js=/\t|\n|\r/g,Qs=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function Ys(t,n,i,r){void 0===i&&(i=null),void 0===r&&(r=null),i||(i=new Js,t=t.replace(Qs,""));var e=null!==r?r:0;n=n||null;for(var u=[],s=!1,o=!1,a=!1,c=Pu(t=t.replace(js,"")),h=c.length,f=0;f<=h;){var v=f<h?c[f]:Gs;switch(e){case 0:if(!wu(v)){if(null===r){u.length=0,e=2;continue}throw new l("Invalid scheme")}u.push(pu(v)),e=1;break;case 1:if(mu(v)||43===v||45===v||46===v)u.push(pu(v));else{if(58!==v){if(null===r){u.length=0,e=2,f=0;continue}throw new l("Invalid scheme")}var d=Vu(u);if(null!==r){if(Ms(i.Na)&&!Ms(d))return;if(!Ms(i.Na)&&Ms(d))return;if((Fs(i)||null!==i.Ba)&&"file"===d)return;if("file"===i.Na&&(i.xa===os||null===i.xa))return}if(i.Na=d,null!==r)return void(Us(i)&&i.Ba===Os[i.Na]&&(i.Ba=null));u.length=0,"file"===i.Na?e=13:Us(i)&&n&&n.Na===i.Na?e=3:Us(i)?e=7:47===c[f+1]?(e=4,f+=1):(i.Pa=!0,i.Oa.push(""),e=18)}break;case 2:if(!n||n.Pa&&35!==v)throw new l("Invalid scheme");n.Pa&&35===v?(i.Na=n.Na,i.Oa=n.Oa.slice(),i.Sa=n.Sa,i.La="",i.Pa=!0,e=20):"file"!==n.Na?(e=5,f-=1):(e=13,f-=1);break;case 3:47===v&&47===c[f+1]?e=8:(e=5,f-=1);break;case 4:47===v?e=9:(e=17,f-=1);break;case 5:i.Na=n.Na,Gs===v?(i.Da=n.Da,i.Ca=n.Ca,i.xa=n.xa,i.Ba=n.Ba,i.Oa=n.Oa.slice(),i.Sa=n.Sa):47===v?e=6:63===v?(i.Da=n.Da,i.Ca=n.Ca,i.xa=n.xa,i.Ba=n.Ba,i.Oa=n.Oa.slice(),i.Sa="",e=19):35===v?(i.Da=n.Da,i.Ca=n.Ca,i.xa=n.xa,i.Ba=n.Ba,i.Oa=n.Oa.slice(),i.Sa=n.Sa,i.La="",e=20):92===v&&Us(i)?e=6:(i.Da=n.Da,i.Ca=n.Ca,i.xa=n.xa,i.Ba=n.Ba,i.Oa=n.Oa.slice(),i.Oa.pop(),e=17,f-=1);break;case 6:!Us(i)||47!==v&&92!==v?47===v?e=9:(i.Da=n.Da,i.Ca=n.Ca,i.xa=n.xa,i.Ba=n.Ba,e=17,f-=1):e=8;break;case 7:if(47!==v||47!==c[f+1]){e=8;continue}e=8,f+=1;break;case 8:47!==v&&92!==v&&(e=9,f-=1);break;case 9:if(64===v){s&&u.unshift(37,52,48),s=!0;for(var _=0;_<u.length;_++){var g=u[_];if(58!==g||a){var y=Vu(ns(g,$u));a?i.Ca+=y:i.Da+=y}else a=!0}u.length=0}else if(Gs===v||47===v||63===v||35===v||Us(i)&&92===v){if(s&&0===u.length)throw new l("Invalid host");f-=u.length+1,u.length=0,e=10}else u.push(v);break;case 10:case 11:if(null!==r&&"file"===i.Na)f-=1,e=15;else if(58!==v||o)if(Gs===v||47===v||63===v||35===v||Us(i)&&92===v){if(f-=1,Us(i)&&0===u.length)throw new l("Invalid host");if(null!==r&&0===u.length&&(Fs(i)||null!==i.Ba))return;var m=hs(Vu(u),Us(i));if(i.xa=m,u.length=0,e=16,null!==r)return}else 91===v?o=!0:93===v&&(o=!1),u.push(v);else{if(0===u.length)throw new l("Invalid host");var k=hs(Vu(u),Us(i));if(i.xa=k,u.length=0,e=12,11===r)return}break;case 12:if(yu(v))u.push(v);else{if(!(Gs===v||47===v||63===v||35===v||Us(i)&&92===v||null!==r))throw new l("Invalid port");if(0!==u.length){var p=w(Vu(u),10);if(p>65535)throw new l("Invalid port");i.Ba=p===Os[i.Na]?null:p,u.length=0}if(null!==r)return;e=16,f-=1}break;case 13:i.Na="file",47===v||92===v?e=14:n&&"file"===n.Na?Gs===v?(i.xa=n.xa,i.Oa=n.Oa.slice(),i.Sa=n.Sa):63===v?(i.xa=n.xa,i.Oa=n.Oa.slice(),i.Sa="",e=19):35===v?(i.xa=n.xa,i.Oa=n.Oa.slice(),i.Sa=n.Sa,i.La="",e=20):(Hs(c.slice(f))||(i.xa=n.xa,i.Oa=n.Oa.slice(),qs(i)),e=17,f-=1):(e=17,f-=1);break;case 14:47===v||92===v?e=15:(n&&"file"===n.Na&&!Hs(c.slice(f))&&(Ws(n.Oa[0])?i.Oa.push(n.Oa[0]):i.xa=n.xa),e=17,f-=1);break;case 15:if(Gs===v||47===v||92===v||63===v||35===v)if(f-=1,null===r&&Xs(u))e=17;else if(0===u.length){if(i.xa=os,null!==r)return;e=16}else{var A=hs(Vu(u),Us(i));if(0===A.pa&&"localhost"===A.ba&&(A=os),i.xa=A,null!==r)return;u.length=0,e=16}else u.push(v);break;case 16:Us(i)?(e=17,47!==v&&92!==v&&(f-=1)):null===r&&63===v?(i.Sa="",e=19):null===r&&35===v?(i.La="",e=20):Gs!==v&&(e=17,47!==v&&(f-=1));break;case 17:if(Gs===v||47===v||Us(i)&&92===v||null===r&&(63===v||35===v)){var b=Vu(u);if(Ls(b)?(qs(i),47===v||Us(i)&&92===v||i.Oa.push("")):!Bs(b)||47===v||Us(i)&&92===v?Bs(b)||("file"===i.Na&&0===i.Oa.length&&Xs(u)&&(os!==i.xa&&null!==i.xa&&(i.xa=os),u[1]=58,b=Vu(u)),i.Oa.push(b)):i.Oa.push(""),u.length=0,"file"===i.Na&&(Gs===v||63===v||35===v))for(;i.Oa.length>1&&""===i.Oa[0];)i.Oa.shift();63===v?(i.Sa="",e=19):35===v&&(i.La="",e=20)}else u.push.apply(u,ns(v,Ju));break;case 18:63===v?(i.Sa="",e=19):35===v?(i.La="",e=20):Gs!==v&&(i.Oa[0]+=Vu(ns(v,Yu)));break;case 19:null===r&&35===v?(i.La="",e=20):Gs!==v&&(i.Sa+=Vu(ns(v,Us(i)?ts:Ku)));break;case 20:Gs===v||0===v||(i.La+=Vu(ns(v,Zu)))}f++}return i}function Zs(t,n,i,r){try{Ys(t,n,i,r)}catch(t){}}var Js=function(){this.Na="",this.Da="",this.Ca="",this.xa=null,this.Ba=null,this.Oa=[],this.Sa=null,this.La=null,this.Pa=!1};function $s(t){switch(t.Na){case"blob":var n;try{n=Ys(t.Oa[0],null)}catch(t){return Cs}return $s(n);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return i=t.Na,r=t.xa,e=t.Ba,i+"://"+fs(r)+(null===e?"":":"+e);case"file":default:return Cs}var i,r,e}var Ks=function(){function t(t,n){var i,r,e=null;if(null!=n)if(null!=(i=n)&&i instanceof Ks&&"object"==typeof i.Ea)e=n.Ea;else try{e=Ys(String(n),null)}catch(t){throw new l("Invalid base URL: "+t.message)}try{r=Ys(String(t),e)}catch(t){throw new l("Invalid URL: "+t.message)}var u=r.Sa;this.Ea=r,this.Sa=function(t){var n=new Es;return null!==t&&bs(n,t),n}(u),this.Sa.Ea=this}var n,i,r,e=t.prototype;return e.toString=function(){return this.href},e.toJSON=function(){return this.href},n=t,(i=[{key:"href",get:function(){return function(t,n){void 0===n&&(n=!1);var i=t.Na+":";if(null!==t.xa?(i+="//",Fs(t)&&(i+=t.Da,""!==t.Ca&&(i+=":"+t.Ca),i+="@"),i+=fs(t.xa),null!==t.Ba&&(i+=":"+t.Ba)):null===t.xa&&"file"===t.Na&&(i+="//"),t.Pa)i+=t.Oa[0];else for(var r=0,e=t.Oa;r<e.length;r++)i+="/"+e[r];return null!==t.Sa&&(i+="?"+t.Sa),n||null===t.La||(i+="#"+t.La),i}(this.Ea)},set:function(t){var n;try{n=Ys(String(t),null)}catch(t){throw new l("Invalid URL: "+t.message)}this.Ea=n,As(this.Sa);var i=this.Ea.Sa;null!==i&&bs(this.Sa,i)}},{key:"origin",get:function(){return $s(this.Ea)}},{key:"protocol",get:function(){return this.Ea.Na+":"},set:function(t){Zs(t+":",null,this.Ea,0)}},{key:"username",get:function(){return this.Ea.Da},set:function(t){zs(this.Ea)||(this.Ea.Da=is(t,$u))}},{key:"password",get:function(){return this.Ea.Ca},set:function(t){zs(this.Ea)||(this.Ea.Ca=is(t,$u))}},{key:"host",get:function(){var t=this.Ea,n=t.xa;if(null===n)return"";var i=t.Ba,r=fs(n);return null!==i&&(r+=":"+i),r},set:function(t){this.Ea.Pa||Zs(t,null,this.Ea,10)}},{key:"hostname",get:function(){var t=this.Ea.xa;return null===t?"":fs(t)},set:function(t){this.Ea.Pa||Zs(t,null,this.Ea,11)}},{key:"port",get:function(){var t=this.Ea.Ba;return null===t?"":""+t},set:function(t){zs(this.Ea)||(""===t?this.Ea.Ba=null:Zs(t,null,this.Ea,12))}},{key:"pathname",get:function(){var t=this.Ea.Oa;return this.Ea.Pa?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.Ea.Pa||(this.Ea.Oa.length=0,Zs(t,null,this.Ea,16))}},{key:"search",get:function(){var t=this.Ea.Sa;return null===t||""===t?"":"?"+t},set:function(t){t=ws(t);var n=this.Ea;if(""===t)return n.Sa=null,void As(this.Sa);"?"===t[0]&&(t=t.slice(1)),n.Sa="",Zs(t,null,n,19),bs(this.Sa,t)}},{key:"searchParams",get:function(){return this.Sa}},{key:"hash",get:function(){var t=this.Ea.La;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.Ea.La="",Zs(t,null,this.Ea,20)):this.Ea.La=null}}])&&iu(n.prototype,i),r&&iu(n,r),t}();function to(t,n){for(var i=0,r=_.keys(n);i<r.length;i++){var e=r[i];t.searchParams.set(e,n[e])}}function no(t,n){var i=r.Ma(t);return n&&!Yn(i,"/")&&(i+="/"),i}var io=/cache:(.+)?(?=&|$)/,ro="http://webcache.googleusercontent.com/search?q=cache:";function eo(t){if(!Qn(t,ro))return"";var n=r.Ua(t).search.match(io);return n&&n.length>1?n[1]:""}function uo(t){return r.Ua(t).hostname}function so(t){return t.document&&t.document.baseURI||t.location.href||""}var oo=!!("ontouchstart"in t||t.DocumentTouch&&s instanceof t.DocumentTouch)||!(!a||!a.msMaxTouchPoints),ao=Ze(),co=!(!ao||!ao.webkitShowPlaybackTargetPicker),ho=function(){function t(){this.Fa=0,this.Ha=!1,this.Ct=oo,this.qt=!1,this.Va=!0}var n=t.prototype;return n.Xa=function(t,n){return!0},n.Wa=function(t){return t>=1/6*2},T(t,[{key:"qa",get:function(){return u.devicePixelRatio||1}},{key:"za",get:function(){return co}},{key:"Ga",get:function(){return!1}},{key:"ja",get:function(){return!0}},{key:"Qa",get:function(){return P.un}}]),t}(),fo=function(t){function n(){return t.call(this)||this}return qt(n,t),n}(ho),vo=function(t){function n(){return t.apply(this,arguments)||this}return qt(n,t),n.prototype.Xa=function(t,n){if(t&&t.Ya&&n&&n.Ya){var i=lo(t.Ya,"mp4a.40.2")&&lo(n.Ya,"mp4a.40.5"),r=lo(t.Ya,"mp4a.40.5")&&lo(n.Ya,"mp4a.40.2"),e=lo(t.Ya,"mp4a.40.2")&&lo(n.Ya,"mp4a.40.34"),u=lo(t.Ya,"mp4a.40.34")&&lo(n.Ya,"mp4a.40.2"),s=lo(t.Ya,"mp4a.40.5")&&lo(n.Ya,"mp4a.40.34"),o=lo(t.Ya,"mp4a.40.34")&&lo(n.Ya,"mp4a.40.5");return!(i||r||e||u||s||o)}return!0},n}(fo);function lo(t,n){return t.indexOf(n)>-1}var _o=function(t){function n(){return t.apply(this,arguments)||this}return qt(n,t),n.prototype.Wa=function(t){return t>=2},n}(fo),go=function(t){function n(){var n;return(n=t.call(this)||this).Ha=P.sn>=11,n.Va=P.un&&!(P.Xt&&P.sn<10),n}return qt(n,t),n}(fo),wo=function(){var t=Ye();if(!t)return!1;var n=t.muted;return t.muted=!n,t.muted!==n}();!function(){if(P.Ht)return!1;var t=Ye();if(!t)return!1;var n=t.volume;t.volume=n/2+.1,t.volume}();var yo=function(t){function n(n){var i;return(i=t.call(this)||this).Za=n,i.Za&&(i.Fa=i.Za.Fa,i.Ha=i.Za.Ha,i.Ct=i.Za.Ct,i.Va=wo&&i.Za.Va),i}qt(n,t);var i=n.prototype;return i.Xa=function(n,i){return this.Za?this.Za.Xa(n,i):t.prototype.Xa.call(this,n,i)},i.Wa=function(n){return this.Za?this.Za.Wa(n):t.prototype.Wa.call(this,n)},n}(ho),mo=function(t){function n(n){var i;return(i=t.call(this,n)||this).Ha=!0,i.qt=!0,i}return qt(n,t),n}(yo),ko=function(t){function n(){return t.apply(this,arguments)||this}return qt(n,t),n.prototype.Xa=function(n,i){return!(i.Ja>1920)&&t.prototype.Xa.call(this,n,i)},T(n,[{key:"Ga",get:function(){return P.Zt<3}},{key:"ja",get:function(){return P.Zt>=3}}]),n}(yo),po=function(){function t(){this.$a=_n()}var n=t.prototype;return n.qs=function(t){this.$a.delete(t)},n.Ka=function(){this.$a.clear()},n.Vs=function(t){return this.$a.get(t)},n.tc=function(t,n){this.$a.set(t,n)},t}(),Ao=function(){function t(){}return t.nc=function(){return t.gn||(t.gn=bo.Mo()?new bo:new po),t.gn},t.qs=function(n){t.nc().qs(n)},t.Ka=function(){t.nc().Ka()},t.Vs=function(n){return t.nc().Vs(n)},t.tc=function(n,i){t.nc().tc(n,i)},t}();Ao.gn=void 0;var bo=function(n){function i(){return n.apply(this,arguments)||this}qt(i,n),i.Mo=function(){try{return t.sessionStorage.setItem("foobar","foobar"),t.sessionStorage.removeItem("foobar"),!0}catch(t){return!1}};var r=i.prototype;return r.qs=function(n){t.sessionStorage.removeItem(n)},r.Ka=function(){t.sessionStorage.clear()},r.Vs=function(n){return t.sessionStorage[n]},r.tc=function(n,i){t.sessionStorage[n]=i},i}(Ao);var To=function(){var n,i=t.Blob;if(i)try{return new i,n=i,function(t,i){return new n(t,i)}}catch(t){}var r,e=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder;return e?(r=e,function(t,n){var i=new r;if(t)for(var e=0;e<t.length;e++){var u=t[e];i.append(u)}return i.getBlob(n&&n.type||"")}):null}();function Eo(t,n,i){var r=To([n],{type:"application/octet-stream"}),e=URL.createObjectURL(r),u=function(t,n){var i=t,r=i.indexOf("?");if(r>=0&&(i=i.substr(0,r)),i=i.substr(i.lastIndexOf("/")+1),n){var e=i.indexOf(".");e<0&&(e=i.length),i=i.substr(0,e)+n+i.substr(e)}return i}(t,i),o=s.createElement("a");o.href=e,o.download=u,s.body.appendChild(o),o.click(),s.body.removeChild(o),URL.revokeObjectURL(e)}var So,Ro,Io=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Fa=2,n}return qt(n,t),n}(mo),No=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Fa=1,n}return qt(n,t),n}(mo),Do=function(){function n(){var n;this.ic=new Jt,this.rc=new Co,this.ec=void 0,this.uc=(n=function(){if(P.in)return new vo;if(P.$t||P.Kt)return new _o;if(P.un)return new go;return new fo}(),P.Bt?new Io(n):P.Xt?new No(n):P.qt?new mo(n):P.Yt?new ko(n):new yo(n)),this.sc=function(){if(P.Jt||P.Yt){var t=P.Qt;if(void 0===t||Number(t)<42)return!1}return!0}(),this.oc=function(){if(t.URL)try{var n=new t.URL("b","http://a");return n.pathname="c d","http://a/c%20d"===n.href}catch(t){}return!1}(),t.performance&&t.performance.now?this.ac=function(){return t.performance.now()}:this.ac=Ft}var i=n.prototype;return i.cc=function(){it.apply(void 0,arguments)},i.hc=function(){rt.apply(void 0,arguments)},i.fc=function(){et.apply(void 0,arguments)},i.vc=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];ut.apply(void 0,[t].concat(i))},i.yn=function(t,n){return c(t,n)},i.dc=function(t,n){return f(t,n)},i.wn=function(t){h(t)},i.lc=function(t){v(t)},i.Sn=function(t){return this.ic.Sn(t)},i.Zu=function(){return this._c.Zu()},i.zu=function(){return this._c.zu()},i.ju=function(){return this._c.ju()},i.Gu=function(){return this._c.Gu()},i.Wu=function(){return this._c.Wu()},i.Qu=function(t,n){return this._c.Qu(t,n)},i.qu=function(t){return this._c.qu(t)},i.Ua=function(t,n){return void 0===n&&(n=so(Tn)),new Ks(t,n)},i.Ma=function(n,i){if(void 0===i&&(i=so(Tn)),this.oc){var r=X(i)?i:i.toString();return new t.URL(n,r).href}return this.Ua(n,i).href},T(n,[{key:"_c",get:function(){return this.ec||(this.ec=new si(nu())),this.ec}},{key:"gc",get:function(){return this.rc}},{key:"wc",get:function(){return this.uc}},{key:"yc",get:function(){return this.sc}},{key:"mc",get:function(){return Ao.nc()}},{key:"kc",get:function(){return{pc:Eo}}},{key:"Ac",get:function(){return a.connection&&a.connection.effectiveType||"default"}},{key:"bc",get:function(){return a.connection&&a.connection.type||"unknown"}},{key:"Tc",get:function(){return{Ec:a&&a.userAgent.match(/Android /i)?"Android":"other",Sc:Boolean(a&&a.userAgent.match(/Android 8.0.0/i))}}}]),n}(),Co=function(){function t(){}return T(t,[{key:"Rc",get:function(){return a.oscpu}},{key:"wc",get:function(){return a.platform}},{key:"Ic",get:function(){return a.vendor}},{key:"Nc",get:function(){return a.vendorSub}}]),t}();So=new Do,r=So,function(t){t.Dc="Cc",t.Oc="xc"}(Ro||(Ro={}));Ro.Dc,Ro.Oc;var Oo=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Pc=void 0,r}return qt(n,t),T(n,[{key:"Bc",get:function(){return this.Pc||(this.Pc=this.Lc()),this.Pc}}]),n}(Vi);var xo,Po=function(t){function n(n){return t.call(this,n)||this}return qt(n,t),n}(Oo),Bo=function(t){function n(n){return t.call(this,n)||this}return qt(n,t),n}(Vi),Lo=function(t){function n(n){var i;return(i=t.call(this,Ro.Dc)||this).Mc=n,i}return qt(n,t),n.prototype.Lc=function(){return new Mo(this.Mc.Bc)},n}(Po),Mo=function(t){function n(n){var i;return(i=t.call(this,"addtrack")||this).track=n,i}return qt(n,t),n}(Bo),Uo=function(t){function n(n){var i;return(i=t.call(this,Ro.Oc)||this).Mc=n,i}return qt(n,t),n.prototype.Lc=function(){return new Fo(this.Mc.Bc)},n}(Po),Fo=function(t){function n(n){var i;return(i=t.call(this,"removetrack")||this).track=n,i}return qt(n,t),n}(Bo);!function(t){t.Uc="Fc",t.Hc="Vc",t.Xc="Wc",t.qc="zc",t.Gc="jc",t.Qc="Yc",t.Zc="Jc",t.$c="Kc",t.th="po",t.nh="ih",t.rh="eh",t.QUALITY_UNAVAILABLE="qualityunavailable",t.NO_QUALITY="noquality"}(xo||(xo={}));var Ho=function(t){function n(){var n;return(n=t.call(this)||this).uh=[],n.Pc=void 0,n}qt(n,t);var i=n.prototype;return i.sh=function(t){return this.uh[t]},i.oh=function(t){return!(!t||li(this.uh,t))&&(this.uh.push(t),this.Pc&&this.Pc.push(t.Bc),t.ps(xo.Qc,this.gs),this.ys(new Lo(t)),!0)},i.ah=function(t){if(!t)return!1;var n=this.uh.indexOf(t);return!(n<0)&&(di(this.uh,n),this.Pc&&di(this.Pc,n),t.Ts(xo.Qc,this.gs),this.ys(new Uo(t)),!0)},i.hh=function(t){return li(this.uh,t)},i.fh=function(){for(var t=this.uh,n=t.length-1;n>=0;n-=1)this.ah(t[n])},i.vh=function(){this.fh(),this.bs()},T(n,[{key:"dh",get:function(){return this.uh}},{key:"Bc",get:function(){return this.Pc||(this.Pc=this.Lc()),this.Pc}},{key:"lh",get:function(){return this.uh.length}}]),n}(Fi),Vo=function(t){function n(n){var i;return(i=t.call(this,xo.Qc)||this).Mc=n,i}return qt(n,t),n.prototype.Lc=function(){return new Xo(this.Mc.Bc)},n}(Po),Xo=function(t){function n(n){var i;return(i=t.call(this,"change")||this).track=n,i}return qt(n,t),n}(Bo),Wo=function(t){function n(){var n;return(n=t.call(this)||this)._h=void 0,n.gh=function(t){var i=t.Mc;n.oh(i)},n.wh=function(t){var i=t.Mc;n.ah(i)},n}qt(n,t);var i=n.prototype;return i.yh=function(t){t.ps(Ro.Dc,this.gh),t.ps(Ro.Oc,this.wh)},i.mh=function(t){t.Ts(Ro.Dc,this.gh),t.Ts(Ro.Oc,this.wh)},i.vh=function(){this._h&&this._h.vh(),t.prototype.vh.call(this)},T(n,[{key:"kh",get:function(){return this._h},set:function(t){var n=this._h;if(t!==n){if(n){this.mh(n);for(var i=0,r=n.dh;i<r.length;i++){var e=r[i];t&&t.hh(e)||this.ah(e)}}if(this._h=t,t){for(var u=[],s=0,o=t.dh;s<o.length;s++){var a=o[s];this.oh(a),this.ph(a)&&u.push(a)}this.yh(t);for(var c=0;c<u.length;c++){var h=u[c];h.ys(new Vo(h))}}}}}]),n}(Ho),qo=_.freeze||Q;function zo(t,n,i){_.defineProperty(t,n,{writable:!1,enumerable:!0,value:i})}function Go(t,n){for(var i=0,r=_.getOwnPropertyNames(n);i<r.length;i++){var e=r[i];_.defineProperty(t,e,_.getOwnPropertyDescriptor(n,e))}return t}function jo(t){if(V(t)){var n={};for(var i in t)B.call(t,i)&&(n[i]=jo(t[i]));return n}if(U(t)){for(var r=new Array(t.length),e=0;e<r.length;e++)e in t&&(r[e]=jo(t[e]));return r}return t}function Qo(t,n){return t===n||!(!t||!n)&&(!(!H(t)||!H(n))&&(F(t)?!!F(n)&&function(t,n){var i=t.length,r=n.length;if(i!==r)return!1;for(var e=0;e<i;e+=1)if(!Qo(t[e],n[e]))return!1;return!0}(t,n):!F(n)&&function(t,n){var i=_.keys(t),r=_.keys(n);if(!i||!r||i.length!==r.length)return!1;for(var e=0;e<i.length;e++){var u=i[e];if(!B.call(n,u)||!Qo(t[u],n[u]))return!1}return!0}(t,n)))}function Yo(t,n){return t.constructor===n.constructor}function Zo(t){for(var n={},i=0,r=_.keys(t);i<r.length;i++){var e=r[i],u=t[e];null!=u&&(n[e]=u)}return n}function Jo(t){var n=t;if("string"==typeof n){if("true"===(n=n.toLowerCase()))return!0;if("false"===n)return!1}return Boolean(n)}function $o(t){return"string"==typeof t?""===t?NaN:Number(t):"boolean"==typeof t||null==t||t instanceof Date||"number"!=typeof Number(t)&&!t?NaN:Number(t)}function Ko(t){var n=$o(t);if(m(n))throw new d("Expected a valid number.");return n}function ta(t){return"string"==typeof t?t:""}function na(t,n){return F(t)?function(t,n){if(!F(t))return[];for(var i=0|t.length,r=new Array(i),e=0;e<i;e++)r[e]=n(t[e]);return r}(t,n):n(t)}var ia=[Ro.Dc,Ro.Oc,xo.Qc];function ra(t){var n,i=t.dh.map(function(t){return t.Bc});return i.item=function(n){var i=0|n,r=t.sh(i);return r&&r.Bc||void 0},i.addEventListener=function(t,i){n.ps(t,i)},i.removeEventListener=function(t,i){n.Ts(t,i)},n=new Hi(i),t.ps(ia,function(t){return n.ys(t.Bc)}),i}function ea(){}function ua(t){var n,i=[xo.th,xo.Qc,xo.nh,xo.rh,xo.QUALITY_UNAVAILABLE],r={get activeQuality(){return t.Ah&&t.Ah.Bc},get enabled(){return t.bh},set enabled(n){t.bh=Jo(n)},get id(){return t.Th},get uid(){return t.Eh},get kind(){return t.Sh},get label(){return t.Rh},set label(n){t.Rh=ta(n)},get language(){return t.Ih},get qualities(){return t.Nh.Bc},set targetQuality(n){var i;(i=n?function(t,n){for(var i=[],r=0,e=t.Nh.dh;r<e.length;r++)for(var u=e[r],s=0;s<n.length;s++){var o=n[s];u.Bc===o&&i.push(u)}return i}(t,U(n)?n:[n]):[]).length>0?t.Dh=i:t.Dh=void 0},get targetQuality(){if(t.Dh)return 1===t.Dh.length?t.Dh[0].Bc:t.Dh.map(function(t){return t.Bc})},addEventListener:function(t,i){var r=na(t,ta);n.ps(r,i)},removeEventListener:function(t,i){var r=na(t,ta);n.Ts(r,i)}};return n=new Hi(r),t.ps(i,function(t){return n.ys(t.Bc)}),_.defineProperty(r,"constructor",{value:ea}),r}function sa(){}function oa(t){var n=ra(t);return _.defineProperty(n,"constructor",{value:sa}),n}var aa,ca,ha=function(t){function n(){return t.apply(this,arguments)||this}qt(n,t);var i=n.prototype;return i.Lc=function(){return oa(this)},i.ph=function(t){return t.bh},n}(Wo);function fa(t){if("string"==typeof t){var n=t.toLowerCase();switch(n){case aa.Ch:case aa.Oh:case aa.xh:return n}}else if("number"==typeof t)switch(t){case 0:return aa.Ch;case 1:return aa.Oh;case 2:return aa.xh}return aa.Ch}function va(){}function da(t){var n,i=[xo.Qc,xo.th,xo.Uc,xo.Hc,xo.Xc,xo.qc,xo.Gc,xo.Zc,xo.$c],r=[ca.Ph],e={get kind(){return t.Sh},get label(){return t.Rh},set label(n){t.Rh=ta(n)},get language(){return t.Ih},get id(){return t.Th},get uid(){return t.Eh},get inBandMetadataTrackDispatchType(){return t.Bh},get mode(){return t.Lh},set mode(n){n!==aa.xh&&n!==aa.Oh&&n!==aa.Ch||(t.Lh=n)},get type(){return t.Pu},get readyState(){return ga(t.Mh)},get cues(){return t.Lh===aa.Ch?null:t.Uh.Bc},get activeCues(){return t.Lh===aa.Ch?null:t.Fh.Bc},get src(){return t.Hh||""},addEventListener:function(t,i){var r=na(t,ta);n.ps(r,i)},removeEventListener:function(t,i){var r=na(t,ta);n.Ts(r,i)}};return n=new Hi(t),t.ps(i,function(t){return n.ys(t.Bc)}),t.ps(r,function(t){return n.ys(t)}),_.defineProperty(e,"constructor",{value:va}),e}function la(){}function _a(t){var n=ra(t);return _.defineProperty(n,"constructor",{value:la}),n}function ga(t){return t}!function(t){t.Ch="disabled",t.Oh="hidden",t.xh="showing"}(aa||(aa={})),function(t){t.Ph="error"}(ca||(ca={}));var wa,ya=function(t){function n(){return t.apply(this,arguments)||this}qt(n,t);var i=n.prototype;return i.Lc=function(){return _a(this)},i.ph=function(t){return t.Lh===aa.xh},n}(Wo),ma=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Vh=void 0,n}qt(n,t);var i=n.prototype;return i.Xh=function(t){if("function"==typeof t){var n=this.Vh;n?"function"==typeof n?this.Vh=[n,t]:n.push(t):this.Vh=t}},i.Wh=function(t){var n=this.Vh;n&&("function"==typeof n?n===t&&(this.Vh=void 0):vi(n,t))},i.bs=function(){t.prototype.bs.call(this),this.Vh=void 0},i.ys=function(n){var i=Li(this.Vh);t.prototype.ys.call(this,n),Mi(this.ks,n,i)},n}(Fi),ka=function(t){function n(){return t.apply(this,arguments)||this}return qt(n,t),n}(ma);!function(t){t.qh="canplay",t.zh="canplaythrough",t.Gh="loadeddata",t.jh="loadedmetadata",t.Zc="readystatechange",t.Qh="waiting",t.Yh="playing"}(wa||(wa={}));var pa,Aa=[wa.qh,wa.zh,wa.Gh,wa.jh,wa.Zc,wa.Qh,wa.Yh],ba=function(t){function n(n,i){var r;return(r=t.call(this,wa.Zc)||this).currentTime=n,r.readyState=i,r}return qt(n,t),n}(Vi);!function(t){t[t.Zh=0]="Zh",t[t.Jh=1]="Jh",t[t.$h=2]="$h",t[t.Kh=3]="Kh",t[t.tf=4]="tf"}(pa||(pa={}));var Ta,Ea=function(t){function n(n,i){var r;return void 0===i&&(i=pa.tf),(r=t.call(this,wa.zh)||this).currentTime=n,r.readyState=i,r}return qt(n,t),n}(Vi),Sa=function(t){function n(n,i){var r;return void 0===i&&(i=pa.Kh),(r=t.call(this,wa.qh)||this).currentTime=n,r.readyState=i,r}return qt(n,t),n}(Vi);!function(t){t.nf="if",t.rf="ef",t.uf="contentprotectionerror",t.sf="contentprotectionsuccess",t.af="currentsourcechange",t.cf="destroy",t.hf="durationchange",t.ff="emptied",t.Ps="encrypted",t.vf="ended",t.df="lf",t._f="loadstart",t.gf="manifestupdate",t.wf="nosupportedrepresentationfound",t.yf="offline",t.mf="online",t.kf="pause",t.pf="play",t.Af="progress",t.bf="ratechange",t.Tf="representationchange",t.Ef="resize",t.Sf="seeked",t.Rf="seeking",t.If="segmentnotfound",t.Nf="Df",t.Cf="Of",t.xf="sourcechange",t.Pf="timeupdate",t.Bf="volumechange",t.Lf="Mf",t.Uf="metricschange"}(Ta||(Ta={}));var Ra,Ia=function(t){function n(n,i){var r;return(r=t.call(this,Ta.Bf)||this).currentTime=n,r.volume=i,r}return qt(n,t),n}(Vi),Na=function(t){function n(n){var i;return(i=t.call(this,Ta.Sf)||this).currentTime=n,i}return qt(n,t),n}(Vi),Da=function(t){function n(n){var i;return(i=t.call(this,Ta.Rf)||this).currentTime=n,i}return qt(n,t),n}(Vi),Ca=function(t){function n(n,i){var r;return void 0===i&&(i=pa.$h),(r=t.call(this,wa.Gh)||this).currentTime=n,r.readyState=i,r}return qt(n,t),n}(Vi),Oa=function(t){function n(n){var i;return(i=t.call(this,Ta.vf)||this).currentTime=n,i}return qt(n,t),n}(Vi),xa=function(t){function n(n,i){var r;return(r=t.call(this,Ta.Pf)||this).currentTime=n,r.currentProgramDateTime=i,r}return qt(n,t),n}(Vi),Pa=function(t){function n(n,i){var r;return(r=t.call(this,Ta.bf)||this).currentTime=n,r.playbackRate=i,r}return qt(n,t),n}(Vi),Ba=function(t){function n(n){var i;return(i=t.call(this,Ta.hf)||this).duration=n,i}return qt(n,t),n}(Vi),La=function(t){function n(n,i){var r;return void 0===i&&(i=pa.Jh),(r=t.call(this,wa.jh)||this).currentTime=n,r.readyState=i,r}return qt(n,t),n}(Vi),Ma=function(t){function n(n){var i;return(i=t.call(this,Ta.pf)||this).currentTime=n,i}return qt(n,t),n}(Vi),Ua=function(t){function n(n,i){var r;return void 0===i&&(i=pa.Zh),(r=t.call(this,Ta.ff)||this).currentTime=n,r.readyState=i,r}return qt(n,t),n}(Vi),Fa=function(t){function n(n){var i;return(i=t.call(this,Ta.kf)||this).currentTime=n,i}return qt(n,t),n}(Vi),Ha=function(t){function n(n){var i;return(i=t.call(this,"presentationmodechange")||this).presentationMode=n,i}return qt(n,t),n}(Vi);function Va(t,n,i){return new vn(function(r,e){if(i&&i.$u)return e(new pi);var u=function(t){o(),r(t)},s=function(){o(),e(new pi)},o=function(){t.removeEventListener(n,u),i&&i.os(s)};t.addEventListener(n,u),i&&i.ss(s)})}!function(t){t.Qc="fullscreenchange",t.Ff="fullscreensupportchange",t.Ph="fullscreenerror"}(Ra||(Ra={}));var Xa=function(t){function n(n,i){var r;return void 0===i&&(i=!1),(r=t.call(this,n)||this).Hf=[],r.Vf=function(t){Di(function(){r.gs(t)})},r.Xf=i?r.Vf:r.gs,r}qt(n,t);var i=n.prototype;return i.Wf=function(t){t.Xh(this.Xf),this.Hf.push(t)},i.qf=function(t){t.Wh(this.Xf),vi(this.Hf,t)},i.vh=function(){this.bs();for(var t=0,n=this.Hf;t<n.length;t++){n[t].Wh(this.Xf)}gi(this.Hf)},n}(ma),Wa=function(t){function n(){return t.apply(this,arguments)||this}return qt(n,t),n}(Xa);var qa,za=function(t){function n(n){var i;return(i=t.call(this,ca.Ph)||this).errorObject=n,i}return qt(n,t),n.prototype.Lc=function(){return this},T(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(Oo);!function(t){t.INLINE="inline",t.FULLSCREEN="fullscreen",t.PICTURE_IN_PICTURE="picture-in-picture"}(qa||(qa={}));var Ga,ja,Qa,Ya,Za,Ja,$a=function(t){function i(n){var i;return(i=t.call(this)||this).zf=!1,i.Gf=!1,i.Pc=void 0,i.jf=function(){return i.Qf()},i.Yf=function(){return i.Zf()},i.Jf=n,i.$f=i.Kf=i.tv=i.nv=qa.INLINE,i.Jf.ps(Ra.Qc,i.jf),i.Jf.ps(Ra.Ph,i.Yf),i.rv(),i}qt(i,t);var r=i.prototype;return r.Lc=function(){return t=this,i={get currentMode(){return t.ev()},requestMode:function(n){var i=kc(n);i&&t.uv(i)},supportsMode:function(n){var i=kc(n);return!!i&&t.sv(i)},addEventListener:function(t,i){n.ps(t,i)},removeEventListener:function(t,i){n.Ts(t,i)}},(n=new Xa(i,!0)).Wf(t),i;var t,n,i},r.uv=function(t){this.ov(t,t)},r.ov=function(t,n){this.Kf!==n&&(this.zf=!0,this.$f=t,this.av(n,this.Kf),t!==qa.FULLSCREEN&&(this.tv=t),this.zf=!1,this.rv())},r.ev=function(){return this.Gf?qa.FULLSCREEN:qa.INLINE},r.sv=function(t){switch(t){case qa.FULLSCREEN:return this.Jf.cv;case qa.INLINE:return!0}return!1},r.rv=function(){if(!this.zf){var t=this.Kf,n=this.ev();this.Kf=n,n!==qa.FULLSCREEN&&(this.nv=n),t!==n&&this.ys(new Ha(n))}},r.av=function(t,n){var i=t===qa.FULLSCREEN;this.Gf=i,i!==this.Jf.hv&&(i?this.Jf.fv():this.Jf.vv())},r.Qf=function(){if(!this.zf){var t=this.Jf.hv;this.Gf=t,t?this.ov(qa.FULLSCREEN,qa.FULLSCREEN):t||this.$f!==qa.FULLSCREEN?this.rv():this.ov(this.tv,this.nv)}},r.Zf=function(){this.Qf(),this.ys(new za(new De(n.ErrorCode.FULLSCREEN_ERROR,"Failed to enter fullscreen.")))},r.vh=function(){this.Jf.vh(),this.bs()},T(i,[{key:"Bc",get:function(){return this.Pc||(this.Pc=this.Lc()),this.Pc}}]),i}(ma),Ka="1ADD53F3";function tc(t){return{chromecast:function(t){return{appID:t&&t.appID?ta(t.appID):Ka}}(t?t.chromecast:void 0),strategy:function(t){switch(t){case"auto":return Ga.AUTO;case"manual":return Ga.MANUAL;case"disabled":return Ga.DISABLED;default:return Ga.MANUAL}}(t?t.strategy:void 0)}}function nc(t){var n,i=Qa.dv;return(n=t)&&jn(n,"mpd")&&(i=Qa.lv),function(t){return!!t&&jn(t,"m3u8")}(t)&&(i=Qa._v),i}function ic(t){switch(t){case ja.gv:case ja.wv:return t;default:return ja.yv}}function rc(t){return!!t&&Qn(t.toLowerCase(),Qa.lv)}function ec(t){return H(t)&&H(t.ssai)&&"google-dai"===t.ssai.integration}function uc(t){return H(t)&&X(t.integration)&&"verizon-media"===t.integration}function sc(t){if(X(t))return!t;if(uc(t))return!t.id;if(ec(t)){var n=t.ssai,i="live"===n.availabilityType&&n.assetKey,r="vod"===n.availabilityType&&n.contentSourceID&&n.videoID;return Boolean(i&&r)}return!t.src}function oc(t){return Boolean(H(t)&&X(t.src))}function ac(t){return X(t)||oc(t)||ec(t)||uc(t)}function cc(t){if(t){if(ac(t))return sc(t);for(var n=0;n<t.length;n++){if(!sc(t[n]))return!1}return!0}return!0}function hc(){return{crossOrigin:ja.yv,useCredentials:!1,liveOffset:void 0,timeServer:void 0,hlsDateRange:!1,experimentalRendering:!1,nativeUiRendering:!1,lowLatency:!1,useNativePlayback:!1,dash:void 0,hls:void 0}}function fc(){return dn(dn({},hc()),{src:void 0,type:Qa.dv,contentProtection:void 0,ssai:void 0,integrationData:void 0,isAdvertisement:void 0})}function vc(t){var n={allowedMimeTypes:void 0,preload:"midroll-and-postroll",showCountdown:!0,vpaidMode:Ya.ENABLED,googleImaConfiguration:{useNativeIma:!1}};return void 0===t?n:(void 0!==t.preload&&(n.preload=function(t){switch(t){case"none":return Za.NONE;case"midroll-and-postroll":default:return Za.MIDROLL_AND_POSTROLL}}(t.preload)),void 0!==t.showCountdown&&(n.showCountdown=Jo(t.showCountdown)),void 0!==t.vpaidMode&&(n.vpaidMode=function(t){switch(t){case"insecure":return Ya.INSECURE;case"disabled":return Ya.DISABLED;case"enabled":default:return Ya.ENABLED}}(t.vpaidMode)),U(t.allowedMimeTypes)&&(n.allowedMimeTypes=t.allowedMimeTypes.filter(X)),void 0!==t.googleImaConfiguration&&(n.googleImaConfiguration=function(t){return void 0===t?{useNativeIma:!1}:{useNativeIma:Jo(t.useNativeIma)}}(t.googleImaConfiguration)),n)}function dc(t){if(!F(t))return[];for(var n=[],i=0;i<t.length;i++){var r=t[i];V(r)&&n.push(r)}return n}function lc(t){switch(t){case Ja.ALL:case Ja.CONTENT:return t;default:return Ja.NONE}}function _c(t){var n,i,e,u=jo(t||{});return u.libraryLocation&&(u.libraryLocation=no(u.libraryLocation)),u.isEmbeddable=Boolean(u.isEmbeddable),u.cast=tc(u.cast),u.ads=vc(u.ads),u.analytics=dc(u.analytics),u.mutedAutoplay=lc(u.mutedAutoplay),u.allowNativeFullscreen=Boolean(u.allowNativeFullscreen),u.allowMixedContent=Boolean(u.allowMixedContent),u.persistVolume=Boolean(u.persistVolume),u.liveOffset=(n=u.liveOffset,Number(n)||void 0),u.hlsDateRange=(i=u.hlsDateRange,Boolean(i)),u.retainPlaybackRateOnSourceChange=Boolean(u.retainPlaybackRateOnSourceChange),u.license=X(e=u.license)?e:void 0,u.licenseUrl=function(t){if(!t)return;try{return no(t)}catch(t){return void r.hc("Invalid 'licenseUrl', falling back to default URL")}}(u.licenseUrl),u}!function(t){t.AUTO="auto",t.MANUAL="manual",t.DISABLED="disabled"}(Ga||(Ga={})),function(t){t.yv="",t.gv="anonymous",t.wv="use-credentials"}(ja||(ja={})),function(t){t.lv="application/dash+xml",t._v="application/vnd.apple.mpegurl",t.mv="application/x-mpegurl",t.dv="video/mp4",t.kv="application/vnd.theoplayer.hesp+json",t.pv="application/vnd.theo.hesp+json"}(Qa||(Qa={})),function(t){t.ENABLED="enabled",t.INSECURE="insecure",t.DISABLED="disabled"}(Ya||(Ya={})),function(t){t.NONE="none",t.MIDROLL_AND_POSTROLL="midroll-and-postroll"}(Za||(Za={})),function(t){t.NONE="none",t.ALL="all",t.CONTENT="content"}(Ja||(Ja={}));var gc={Av:0,bv:NaN,Tv:!1,xs:void 0,Ev:void 0,Sv:!1,Rv:!0,Iv:1,Mh:pa.Zh,Nv:!1,Dv:0,Cv:0,Ov:1};function wc(t){return{Av:t.Av,bv:t.bv,Tv:t.Tv,xs:t.xs,Ev:t.Ev,Sv:t.Sv,Rv:t.Rv,Iv:t.Iv,Mh:t.Mh,Nv:t.Nv,Dv:t.Dv,Cv:t.Cv,Ov:t.Ov}}function yc(t,n){var i=n.Ov,r=n.Sv;t.Ov=i,t.Sv=r}function mc(t,n,i){if(n!==i){var r=n.Av,e=n.bv,u=n.Sv,s=n.Rv,o=n.Iv,a=n.Mh,c=n.Nv,h=(n.Cv,n.Dv,n.Ov),f=i.Av,v=i.bv,d=i.Tv,l=i.Ev,_=i.Sv,g=i.Rv,w=i.Iv,y=i.Mh,k=i.Nv,p=(i.Cv,i.Dv,i.Ov);a!==pa.Zh&&t.ys(new Ua(f,y)),g&&!s?t.ys(new Fa(f)):!g&&s&&t.ys(new Ma(f)),y>=pa.Jh&&t.ys(new La(f,y)),v===e||m(v)&&m(e)||t.ys(new Ba(v)),w!==o&&t.ys(new Pa(f,w)),f!==r&&t.ys(new xa(f,void 0)),d&&t.ys(new Oa(f)),y>=pa.$h&&t.ys(new Ca(f,y)),k&&!c?t.ys(new Da(f)):!k&&c&&t.ys(new Na(f)),p===h&&_===u||t.ys(new Ia(f,p)),y>=pa.Kh&&t.ys(new Sa(f,y)),y>=pa.tf&&t.ys(new Ea(f,y)),y!==a&&t.ys(new ba(f,y)),l&&t.ys(new za(l))}}function kc(t){switch(t){case qa.INLINE:case qa.FULLSCREEN:case qa.PICTURE_IN_PICTURE:return t;default:return}}var pc=function(t){function n(){return t.call(this,Ta.df)||this}return qt(n,t),n}(Vi),Ac=function(t){function n(n){var i;return(i=t.call(this,Ta.af)||this).currentSource=n,i}return qt(n,t),n}(Vi),bc=function(){function t(){}return t.xv=function(n,i){var r=t.Pv(n,i);return r?t.Bv(r):0},t.Lv=function(){return r.Ac||"default"},t.Mv=function(){return r.bc||"unknown"},t.Pv=function(n,i){var e,u=null===(e=r.mc)||void 0===e?void 0:e.Vs(i),s=u&&JSON.parse(u);if(s&&s[n])return t.Uv(s,n,i)},t.Bv=function(t){var n=t.availableBandwidth;return n||0},t.Uv=function(n,i,r){if(!t.Fv(n,i))return n[i];t.Hv(n,i,r)},t.Hv=function(t,n,i){var e;delete t[n],null===(e=r.mc)||void 0===e||e.tc(i,JSON.stringify(t))},t.Fv=function(t,n){var i=t[n].storedTimestamp;if(!i)return!1;var r=new Date(i),e=(new Date).getTime();return r.setMonth(r.getMonth()+1)<=e},t.Vv=function(t,n,i,r){var e;return dn(dn({},t),((e={})[n]={availableBandwidth:i,storedTimestamp:r},e))},t.Xv=function(n){var i=t.Lv();t.Wv(i,"theoplayer-stored-network-info",n,Ft())},t.Wv=function(n,i,e,u){var s,o,a=null===(s=r.mc)||void 0===s?void 0:s.Vs(i),c=a?JSON.parse(a):void 0,h=t.Vv(c,n,e,u);null===(o=r.mc)||void 0===o||o.tc(i,JSON.stringify(h))},t.qv=function(){var n=t.Lv();return t.xv(n,"theoplayer-stored-network-info")},t}();var Tc=["analytic","golive","nogolive","bufferedchange","disablevideo","enablevideo","nativeseeking","nativeseeked"];function Ec(t){var n=na(t,ta);return(X(n)?[n]:n).filter(function(t){return n=t,-1!==Tc.indexOf(n);var n})}var Sc,Rc,Ic=function(t){function n(){return t.call(this,"nativeseeking")||this}return qt(n,t),n}(Vi),Nc=function(t){function n(){return t.call(this,"nativeseeked")||this}return qt(n,t),n}(Vi);!function(t){t.zv="arraybuffer",t.Gv="json",t.jv="stream",t.An="text",t.Qv="blob",t.En="document"}(Sc||(Sc={})),function(t){t.zv=Sc.zv,t.Gv=Sc.Gv,t.jv=Sc.jv,t.An=Sc.An}(Rc||(Rc={}));var Dc,Cc,Oc,xc,Pc=function(){function t(n){var i=this;this.Iu={},n instanceof t?n.asList().forEach(function(t){var n=t[0],r=t[1];i.append(n,r)}):Array.isArray(n)?n.forEach(function(t){i.append(t[0],t[1])}):n&&_.getOwnPropertyNames(n).forEach(function(t){i.append(t,n[t])})}var n=t.prototype;return n.append=function(t,n){var i=t,r=n;i=Bc(i),r=Lc(r);var e=i.toLowerCase();if(this.Iu.hasOwnProperty(e)){var u=this.Iu[e],s=u[1];u[1]=s?s+", "+r:r}else this.Iu[e]=[i,r]},n.delete=function(t){var n=Bc(t).toLowerCase();delete this.Iu[n]},n.get=function(t){var n=Bc(t).toLowerCase();return this.Iu.hasOwnProperty(n)?this.Iu[n][1]:null},n.has=function(t){var n=Bc(t).toLowerCase();return this.Iu.hasOwnProperty(n)},n.set=function(t,n){var i=t,r=(i=Bc(i)).toLowerCase();this.Iu[r]=[i,Lc(n)]},n.forEach=function(t,n){for(var i in this.Iu)this.Iu.hasOwnProperty(i)&&t.call(n,this.Iu[i][1],i,this)},n.asList=function(){var t=[];for(var n in this.Iu)if(this.Iu.hasOwnProperty(n)){var i=this.Iu[n],r=i[0],e=i[1];t.push([r,e])}return t},n.Yv=function(){var t={};return this.forEach(function(n,i){t[i]=n}),t},n.Zv=function(t){var n=this;t.forEach(function(t,i){n.append(i,t)})},n.Jv=function(t){var n=this;t.forEach(function(t,i){n.set(i,t)})},t}();function Bc(t){var n=t;if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(n))throw new l("Invalid character in header field name");return n}function Lc(t){var n=t;return"string"!=typeof n&&(n=String(n)),n}!function(t){t.DELETE="DELETE",t.GET="GET",t.HEAD="HEAD",t.OPTIONS="OPTIONS",t.POST="POST",t.PUT="PUT"}(Dc||(Dc={})),function(t){t.$v="",t.Kv="manifest",t.td="segment",t.nd="content-protection"}(Cc||(Cc={})),function(t){t.$v="",t.rd="initialization-segment",t.ed="fairplay-license",t.ud="fairplay-certificate",t.sd="widevine-license",t.od="widevine-certificate",t.hd="playready-license",t.fd="clearkey-license",t.vd="aes128-key"}(Oc||(Oc={})),function(t){t.$v="",t.dd="audio",t.ld="video",t.An="text",t._d="image"}(xc||(xc={}));var Mc=function(t,n){var i,r,e,u,s,o,a,c,h,f,v,d=t.gd;n?(i=n.wd,r=n.yd,e=n.md,u=n.kd,s=n.pd,o=n.ls,a=n.Pu,c=n.Ad,h=n.bd,f=n.Td,v=n.Ed):(i=null,r={},e=Dc.GET,u=Rc.An,s=0,a=Cc.$v,c=Oc.$v,h=xc.$v,f=!1),this.gd=d,this.wd=t.wd||i,this.yd=new Pc(t.yd||r),this.md=t.md||e,this.kd=t.kd||u,this.pd=void 0!==t.pd?Number(t.pd)||0:s,this.ls=t.ls||o||(new ki).ls,this.Pu=t.Pu||a,this.Ad=t.Ad||c,this.bd=t.bd||h,this.Td=void 0!==t.Td?Boolean(t.Td):f,this.Ed=t.Ed||v},Uc=400,Fc={windowStart:.3,target:.3+.15,windowEnd:.6,maxOffset:3.3,targetAbrOffset:1},Hc=dn(dn({},Fc),{windowEnd:g.max(1,g.min(2*Fc.windowEnd,g.max(Fc.windowEnd,2)))}),Vc=Xc(.5,Fc);function Xc(t,n){var i=g.max(1,t/n.windowStart);return{windowStart:i*n.windowStart,target:i*n.target,windowEnd:i*n.windowEnd,maxOffset:n.maxOffset+(i*n.windowEnd-n.windowEnd),targetAbrOffset:i*n.targetAbrOffset}}function Wc(){var t;return t="Android"===r.Tc.Ec?Vc:r.wc.Qa?Hc:Fc,r.Tc.Sc?function(t){var n=t;r.Tc.Sc&&(n=Xc((Uc+250)/1e3,n));return n}(t):t}var qc,zc=function(t){function n(){var n;return(n=t.call(this)||this)._h=void 0,n.Pc=void 0,n.Sd=Wc(),n._h=void 0,n}qt(n,t);var i=n.prototype;return i.yh=function(t){t.ps(Tc,this.gs)},i.mh=function(t){t.Ts(Tc,this.gs)},i.Rd=function(){return this._h?this._h.Rd():vn.resolve()},i.vh=function(){this.bs(),this._h&&this.mh(this._h),this._h=void 0},T(n,[{key:"kh",get:function(){return this._h},set:function(t){var n=this._h;t!==n&&(n&&this.mh(n),t&&this.yh(t),this._h=t,this._h&&(this._h.Id=this.Sd))}},{key:"Bc",get:function(){var t;return this.Pc||(this.Pc=(t=this,{goLive:function(){return t.Rd()},get isLive(){return t.Nd},get latency(){return t.Id},set latency(n){t.Id=n},get manifest(){return t.Dd},get metrics(){return t.Cd},addEventListener:function(n,i){t.ps(Ec(n),i)},removeEventListener:function(n,i){t.Ts(Ec(n),i)}})),this.Pc}},{key:"Nd",get:function(){return!!this._h&&this._h.Nd}},{key:"Id",get:function(){return this.Sd},set:function(t){this._h&&(this._h.Id=t),this.Sd=t}},{key:"Dd",get:function(){var t;return null===(t=this._h)||void 0===t?void 0:t.Dd}},{key:"Cd",get:function(){var t;return null===(t=this._h)||void 0===t?void 0:t.Cd}}]),n}(Fi),Gc=function(t){function n(n){var i;return(i=t.call(this)||this).Od=[],i.xd=!1,i.Pd=new ha,i.Bd=new ha,i.Ld=new ya,i.Md=new zc,i.Ud=!1,i.Fd(n),n.Xh(i.gs),i._h=n,i.Pd.kh=n.Hd,i.Bd.kh=n.Vd,i.Ld.kh=n.Xd,i.Md.kh=n.Wd,i}qt(n,t);var i=n.prototype;return i.qd=function(){this._h.qd()},i.zd=function(){this._h.zd()},i.Gd=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Oi(this.Od.map(function(t){return t.Gd()})).then(j));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.jd=function(){return this._h.jd()},i.Qd=function(){var t=vn.coroutine(fn.mark(function t(n,i){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return bi(i),t.next=3,this._h.Qd(n,i);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Yd=function(){return this.kh.Yd()},i.Zd=function(){this.kh.Zd()},i.Jd=function(){this.kh.Jd()},i.$d=function(){if(!this.xd){for(var t=0,n=this.Od;t<n.length;t++){n[t].$d()}this.xd=!0}},i.Kd=function(t){this._h.Kd(t)},i.tl=function(){this._h.tl()},i.nl=function(){this._h.nl()},i.il=function(){this._h.il()},i.ul=function(){return this._h.ul()},i.sl=function(){return this._h.sl()},i.ol=function(){for(var t=[],n=0,i=this.Od;n<i.length;n++){var r=i[n];t.push.apply(t,r.ol())}return t},i.al=function(t){for(var n=!1,i=0,r=this.Od;i<r.length;i++){n=r[i].al(t)||n}return n},i.ys=function(n){this.al(n)||t.prototype.ys.call(this,n)},i.Fd=function(t){this.Od.push(t)},i.cl=function(t){vi(this.Od,t)},i.hl=function(t){if(t!==this._h){var n=this._h;n.tl(),n.Wh(this.gs);var i=wc(this),r=this.fl,e=this.sl();this._h=t,this.Pd.kh=t.Hd,this.Bd.kh=t.Vd,this.Ld.kh=t.Xd,this.Md.kh=t.Wd,mc(this,i,this);var u=this.fl;u!==r&&this.ys(new Ac(u)),this.sl()!==e&&this.ys(new pc),t.Xh(this.gs),t.Kd(n)}},i.vl=function(){},i.vh=function(){var t=vn.coroutine(fn.mark(function t(){var n,i,r;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.bs(),this._h.tl(),n=0,i=this.Od;case 3:if(!(n<i.length)){t.next=10;break}return r=i[n],t.next=7,r.vh();case 7:n++,t.next=3;break;case 10:this.Pd.vh(),this.Bd.vh(),this.Ld.vh(),this.Md.vh();case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.fh=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Oi(this.Od.map(function(t){return t.fh()})).then(j));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),T(n,[{key:"Hd",get:function(){return this.Pd}},{key:"Xd",get:function(){return this.Ld}},{key:"Vd",get:function(){return this.Bd}},{key:"dl",get:function(){return this._h.dl}},{key:"ll",get:function(){return this._h.ll},set:function(t){this._h.ll=t}},{key:"fl",get:function(){return this._h.fl}},{key:"Av",get:function(){return this._h.Av},set:function(t){this._h.Av=t}},{key:"bv",get:function(){return this._h.bv}},{key:"_l",get:function(){return this._h._l}},{key:"Tv",get:function(){return this._h.Tv}},{key:"xs",get:function(){return this._h.xs}},{key:"Ev",get:function(){return this._h.Ev}},{key:"Wd",get:function(){return this.Md}},{key:"gl",get:function(){return this._h.gl}},{key:"Cd",get:function(){return function(t){for(var n=0,i=0,r=0,e=0,u=0,s={amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0},o=0;o<t.length;o++){var a=t[o];n+=a.wl,i+=a.yl,r+=a.ml,e+=a.kl,u+=a.pl,s.amountOfBufferedAudioSegments+=a.Al.amountOfBufferedAudioSegments,s.amountOfBufferedVideoSegments+=a.Al.amountOfBufferedVideoSegments}return{wl:n,yl:i,ml:r,kl:e,pl:u,Al:s}}(this.Od.map(function(t){return t.Cd}))}},{key:"Sv",get:function(){return this._h.Sv},set:function(t){this._h.Sv=t}},{key:"bl",get:function(){return this._h.bl}},{key:"Rv",get:function(){return this._h.Rv}},{key:"Iv",get:function(){return this._h.Iv},set:function(t){this._h.Iv=t}},{key:"Tl",get:function(){return this._h.Tl}},{key:"El",get:function(){return this._h.El},set:function(t){this._h.El=t}},{key:"Mh",get:function(){return this._h.Mh}},{key:"Sl",get:function(){return this._h.Sl}},{key:"Nv",get:function(){return this._h.Nv}},{key:"Dv",get:function(){return this._h.Dv}},{key:"Cv",get:function(){return this._h.Cv}},{key:"Ov",get:function(){return this._h.Ov},set:function(t){this._h.Ov=t}},{key:"kh",get:function(){return this._h},set:function(t){this.hl(t)}}]),n}(ka),jc=function(t){function n(n,i,r,e,u,s,o,a){var c;return(c=t.call(this,n,i,r)||this).url=e,c.status=u,c.statusText=s,c.response=o,c.systemCode=a,c}return qt(n,t),T(n,[{key:"name",get:function(){return"ContentProtectionError"}}]),n}(De);!function(t){t[t.ABORTED=1]="ABORTED",t[t.NETWORK=2]="NETWORK",t[t.DECODE=3]="DECODE",t[t.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",t[t.ENCRYPTED=5]="ENCRYPTED",t[t.LICENSE_INVALID=6]="LICENSE_INVALID",t[t.ADVERTISEMENT_ERROR=7]="ADVERTISEMENT_ERROR"}(qc||(qc={}));var Qc=function(t){function n(n,i,r,e){var u;return(u=t.call(this,i)||this).code=n,u.message=null!=i?i:"Unknown error",u.cause=r,u.systemCode=e,d.captureStackTrace&&d.captureStackTrace(jt(u),u.constructor),u}return qt(n,t),T(n,[{key:"name",get:function(){return"MediaError"}}]),n}(Qt);function Yc(t){zo(t,"MEDIA_ERR_ABORTED",qc.ABORTED),zo(t,"MEDIA_ERR_NETWORK",qc.NETWORK),zo(t,"MEDIA_ERR_DECODE",qc.DECODE),zo(t,"MEDIA_ERR_SRC_NOT_SUPPORTED",qc.SRC_NOT_SUPPORTED),zo(t,"MEDIA_ERR_ENCRYPTED",qc.ENCRYPTED)}function Zc(t){var i,r;return function(t){return t.category===n.ErrorCategory.CONTENT_PROTECTION}(t)?new Qc(qc.ENCRYPTED,t.message,null===(i=t.cause)||void 0===i?void 0:i.message,t.systemCode):new Qc(function(t){if(t===n.ErrorCode.MEDIA_ABORTED)return qc.ABORTED;if(t===n.ErrorCode.MANIFEST_LOAD_ERROR||t===n.ErrorCode.MEDIA_LOAD_ERROR||t===n.ErrorCode.SUBTITLE_LOAD_ERROR)return qc.NETWORK;if(t===n.ErrorCode.MEDIA_DECODE_ERROR)return qc.DECODE;if(t===n.ErrorCode.MEDIA_NOT_SUPPORTED)return qc.SRC_NOT_SUPPORTED;var i=n.ErrorCategory.fromCode(t);if(i===n.ErrorCategory.NETWORK)return qc.NETWORK;if(i===n.ErrorCategory.SOURCE)return qc.SRC_NOT_SUPPORTED;if(i===n.ErrorCategory.LICENSE)return qc.LICENSE_INVALID;if(i===n.ErrorCategory.CONTENT_PROTECTION)return qc.ENCRYPTED;if(i===n.ErrorCategory.AD)return qc.ADVERTISEMENT_ERROR;return qc.DECODE}(t.code),t.message,null===(r=t.cause)||void 0===r?void 0:r.message)}function Jc(t){switch(t){case qc.ABORTED:return n.ErrorCode.MEDIA_ABORTED;case qc.NETWORK:return n.ErrorCode.NETWORK_ERROR;case qc.DECODE:return n.ErrorCode.MEDIA_DECODE_ERROR;case qc.SRC_NOT_SUPPORTED:return n.ErrorCode.SOURCE_NOT_SUPPORTED;case qc.ENCRYPTED:return n.ErrorCode.CONTENT_PROTECTION_ERROR;case qc.LICENSE_INVALID:return n.ErrorCode.LICENSE_ERROR;case qc.ADVERTISEMENT_ERROR:return n.ErrorCode.AD_ERROR}}function $c(t,n){var i={};for(var r in t)_.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(i[r]=t[r]);if(null!=t&&"function"==typeof _.getOwnPropertySymbols){var e=0;for(r=_.getOwnPropertySymbols(t);e<r.length;e++)n.indexOf(r[e])<0&&_.prototype.propertyIsEnumerable.call(t,r[e])&&(i[r[e]]=t[r[e]])}return i}Yc(Qc),Yc(Qc.prototype);var Kc,th="titanium",nh="conax",ih="ezdrm",rh="irdeto",eh="vudrm",uh="verimatrix",sh="keyos",oh="drmtoday",ah="expressplay",ch="azure",hh="xstream",fh="vimond",vh="axinom",dh="uplynk",lh="comcast",_h="custom";function gh(t){return M(t.token&&t.deviceId)}function wh(t){var n,i=null===(n=t.fairplay)||void 0===n?void 0:n.headers;return void 0!==i&&M(i.PreAuthorization)}function yh(t){var n=t;return gh(n)&&""!==n.token&&""!==n.deviceId&&!wh(n)}!function(t){t.Rl=!1,t.Il=!1,t.Nl=!1,t.Dl=!1,t.LOG_ADS_DETAILS=!1,t.LOG_CHROMECAST_DETAILS=!1,t.LOG_CUSTOM_DRM=!1,t.LOG_BUFFERING_VIDEO_MAIN=!1,t.LOG_BUFFERING_VIDEO_SELECTION=!1,t.LOG_BUFFERING_AUDIO_MAIN=!1,t.LOG_BUFFERING_AUDIO_SELECTION=!1,t.Cl=!1}(Kc||(Kc={}));var mh,kh=function(){function t(t,n,i){this.Ol=t,this.oo=n,this.xl=i}return t.prototype.Pl=function(t){return function(t){var n=t.onCertificateRequest;if(void 0!==n&&"function"!=typeof n)throw new l("ContentProtectionIntegration.onCertificateRequest is not a function.");var i=t.onCertificateResponse;if(void 0!==i&&"function"!=typeof i)throw new l("ContentProtectionIntegration.onCertificateResponse is not a function.");var r=t.onLicenseRequest;if(void 0!==r&&"function"!=typeof r)throw new l("ContentProtectionIntegration.onLicenseRequest is not a function.");var e=t.onLicenseResponse;if(void 0!==e&&"function"!=typeof e)throw new l("ContentProtectionIntegration.onLicenseResponse is not a function.");var u=t.extractFairplayContentId;if(void 0!==u&&"function"!=typeof u)throw new l("ContentProtectionIntegration.extractFairplayContentId is not a function.");return t}(this.xl.build(t))},T(t,[{key:"Bl",get:function(){return this.Ol}},{key:"Bo",get:function(){return this.oo}}]),t}();!function(t){t.FAILED="FAILED",t.OVERRIDDEN="OVERRIDDEN",t.SUCCEEDED="SUCCEEDED"}(mh||(mh={}));var ph,Ah,bh,Th,Eh=function(){function t(){this.Ll=[]}var i=t.prototype;return i.registerContentProtectionIntegration=function(t,i,e){switch(this.Ml(t,i,e)){case mh.FAILED:throw new jc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The keySystem should be 'widevine', 'playready' or 'fairplay', but was "+i+".");case mh.OVERRIDDEN:var u=tf(i);r.hc("Warning: Overwriting an earlier registered integration for "+t+" and "+u+".");break;case mh.SUCCEEDED:tf(i);0}},i.Ml=function(t,n,i){var r=tf(n);if(!r)return mh.FAILED;for(var e=mh.SUCCEEDED,u=0,s=this.Ll.slice();u<s.length;u++){var o=s[u];o.Bl===t&&o.Bo===r&&(e=mh.OVERRIDDEN,vi(this.Ll,o))}return this.Ll.push(new kh(t,r,i)),e},i.Ul=function(t,n){return void 0!==this.Fl(t,n)},i.Hl=function(t,n,i){var r=this.Fl(t,n);if(!r)throw d("No ContentProtectionIntegrationInit was found for integration id "+t+" and key system "+n);return r.Pl(i)},i.Fl=function(t,n){for(var i=0,r=this.Ll;i<r.length;i++){var e=r[i];if(e.Bl===t&&(!n||e.Bo===n))return e}},t}();Eh.Vl=new Eh,function(t){t.Xl="moov",t.Wl="mvhd",t.ql="trak",t.zl="tkhd",t.Gl="mdia",t.jl="mdhd",t.Ql="hdlr",t.Yl="minf",t.Zl="stbl",t.Jl="stsd",t.$l="mvex",t.Kl="trex",t.t_="avc1",t.n_="avcC",t.i_="hev1",t.r_="hvc1",t.e_="hvcC",t.u_="pasp",t.s_="mp4a",t.o_="esds",t.a_="wvtt",t.c_="vttC",t.h_="vlab",t.f_="moof",t.v_="mfhd",t.d_="traf",t.l_="tfhd",t.__="trun",t.g_="tfdt",t.w_="mdat",t.y_="pssh",t.m_="emsg",t.k_="sidx",t.p_="styp",t.A_="ftyp"}(ph||(ph={})),function(t){t.ld="vide",t.dd="soun",t.b_="hint",t.T_="meta",t.E_="auxv"}(Ah||(Ah={})),function(t){t[t.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",t[t.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",t[t.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",t[t.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",t[t.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT",t[t.DURATION_IS_EMPTY=32]="DURATION_IS_EMPTY",t[t.DEFAULT_BASE_IS_MOOF=131072]="DEFAULT_BASE_IS_MOOF"}(bh||(bh={})),function(t){t[t.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",t[t.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",t[t.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",t[t.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT=2048]="SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT"}(Th||(Th={}));var Sh=function(){function t(t,n){this.$n=t,this.S_=n}var n=t.prototype;return n.R_=function(){return pr(this.$n,this.S_)},n.I_=function(){return Rr(this.$n,this.S_)},n.N_=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt16(n.Zs,i);return n.js(2),r}(this.$n,this.S_)},n.D_=function(){return Nr(this.$n,this.S_)},n.C_=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt32(n.Zs,i);return n.js(4),r}(this.$n,this.S_)},n.O_=function(){return Cr(this.$n,this.S_)},n.x_=function(t){return br(this.$n,this.S_,t)},n.P_=function(t){return function(t,n,i){for(var r=[],e=0;e<i;e++)r.push(Nr(t,n));return r}(this.$n,this.S_,t)},n.B_=function(t){return Pr(this.$n,this.S_,t)},n.L_=function(){return jr(this.$n,this.S_)},n.M_=function(t){this.S_.js(t)},t}();function Rh(t,n){return t.Pu===n}function Ih(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(Rh(r,n))return r}}function Nh(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];Rh(e,n)&&i.push(e)}return i}var Dh=function(t){function n(n,i){var r;return(r=t.call(this)||this).U_=n,r.F_=i,r}return qt(n,t),T(n,[{key:"name",get:function(){return"DataIncompleteError"}}]),n}(Yt),Ch=function(){function t(){}return t.H_=function(n){var i=n.$n,r=n.S_,e=t.V_(i,r,!1);if(!e.X_)throw new Dh(r.Zs,e.Wn);return e.Wn},t.V_=function(n,i,r){for(var e=[];i.Zs<n.byteLength;){var u=t.W_(n,i,r);if(!u.X_)return{X_:!1,Wn:e};e.push(u.q_)}return{X_:!0,Wn:e}},t.z_=function(n,i){var r=t.W_(n,i,!1);if(!r.X_)throw new Dh(i.Zs);return r.q_},t.W_=function(n,i,r){var e=i.Zs,u=t.G_(n,i);if(!u.X_)return u;var s=u.j_,o=s.zs;if(0===o){if(r)return i.Qs(e),{X_:!1,Q_:1/0};o=n.byteLength-e}var a=e+o;if(a>n.byteLength){var c=a;return i.Qs(e),{X_:!1,Q_:c}}var h={Pu:s.Pu,Zs:e,$n:new Sh(Jr(n,e,a),new ee(s.Y_))};return i.Qs(a),{X_:!0,q_:h}},t.G_=function(t,n){var i=n.Zs;if(!Er(t,n,8))return{X_:!1,Q_:n.Zs+8};var r=Nr(t,n),e=Pr(t,n,4);if(1===r){if(!Er(t,n,8)){var u=n.Zs+8;return n.Qs(i),{X_:!1,Q_:u}}r=Cr(t,n).toNumber()}if("uuid"===e){if(!Er(t,n,16)){var s=n.Zs+16;return n.Qs(i),{X_:!1,Q_:s}}e=Pr(t,n,16)}return{X_:!0,j_:{Pu:e,zs:r,Y_:n.Zs-i}}},t.Z_=function(t,n,i){var r=t.$n,e=t.S_,u=Zr(Kr(r),e.Zs,r.byteLength);return i&&(u=re(u)),e.js(u.byteLength),{Pu:n,$n:u}},t.J_=function(n,i,r){var e=Bh(n.D_());return{Pu:i,K_:e.version,tg:e.flags,$n:t.Z_(n,i,r).$n}},t}();function Oh(t,n){var i=xh(t,n);if(!i)throw new d("Missing "+n+" atom");return i}function xh(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.Pu===n)return r.$n}}function Ph(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];e.Pu===n&&i.push(e.$n)}return i}function Bh(t){return{version:t>>24,flags:new yr(16777215&t)}}var Lh=function(){function t(){}return t.ng=function(n){for(var i=[],r=Ch.H_(new Sh(n,new ee)),e=0;e<r.length;e++){var u=r[e],s=t.ig(u);s&&i.push(s)}return i},t.rg=function(t){return Ch.V_(t,new ee,!1).Wn.some(function(t){return t.Pu===ph.f_||t.Pu===ph.p_})},t.eg=function(n){return Ph(Ch.H_(new Sh(n,new ee)),ph.y_).map(t.ug)},t.ig=function(n){switch(n.Pu){case ph.Xl:return t.sg(n.$n);case ph.f_:return t.og(n.$n,n.Zs);case ph.w_:return t.ag(n.$n);case ph.k_:return t.cg(n.$n);case ph.m_:return t.hg(n.$n)}},t.sg=function(n){var i=Ch.H_(n),r=Oh(i,ph.Wl),e=Ph(i,ph.ql),u=xh(i,ph.$l),s=t.fg(r),o=e.map(t.vg),a=u?t.dg(u):void 0;return{Pu:ph.Xl,j_:s,lg:o,_g:a}},t.fg=function(t){var n=Bh(t.D_()),i=n.version,r=n.flags,e=1===i?t.O_():t.D_(),u=1===i?t.O_():t.D_(),s=t.D_(),o=1===i?t.O_():t.D_(),a=t.D_(),c=t.I_()>>8;t.M_(2),t.M_(8);var h=t.P_(9);t.M_(24);var f=t.D_();return{Pu:ph.Wl,K_:i,tg:r,gg:e,wg:u,yg:s,bv:o,mg:a,Ov:c,kg:h,pg:f}},t.vg=function(n){var i=Ch.H_(n),r=Oh(i,ph.zl),e=Oh(i,ph.Gl),u=t.Ag(r),s=t.bg(e);return{Pu:ph.ql,j_:u,Tg:s}},t.Ag=function(t){var n=Bh(t.D_()),i=n.version,r=n.flags,e=1===i?t.O_():t.D_(),u=1===i?t.O_():t.D_(),s=t.D_();t.M_(4);var o=1===i?t.O_():t.D_();t.M_(8);var a=t.N_(),c=t.N_(),h=t.N_()/g.pow(2,8);t.M_(2);var f=t.P_(9),v=t.D_()/g.pow(2,16),d=t.D_()/g.pow(2,16);return{Pu:ph.zl,Eg:r.$s(1),Sg:r.$s(2),Rg:r.$s(4),gg:e,wg:u,Ig:s,bv:o,Ng:a,Dg:c,Ov:h,kg:f,Ja:v,Cg:d}},t.bg=function(n){var i=Ch.H_(n),r=Oh(i,ph.jl),e=Oh(i,ph.Ql),u=Oh(i,ph.Yl),s=t.Og(r),o=t.xg(e),a=t.Pg(u);return{Pu:ph.Gl,j_:s,Bg:o,Lg:a}},t.Og=function(t){var n=Bh(t.D_()),i=n.version,r=n.flags,e=1===i?t.O_():t.D_(),u=1===i?t.O_():t.D_(),s=t.D_(),o=1===i?t.O_():t.D_();t.I_();return t.M_(2),{Pu:ph.jl,K_:i,tg:r,gg:e,wg:u,yg:s,bv:o}},t.xg=function(t){var n=Bh(t.D_()),i=n.version,r=n.flags;t.M_(4);var e=t.B_(4);t.M_(12);var u=t.L_();return{Pu:ph.Ql,K_:i,tg:r,Mg:e,Cn:u}},t.Pg=function(n){var i=Oh(Ch.H_(n),ph.Zl),r=t.Ug(i);return{Pu:ph.Yl,Fg:r}},t.Ug=function(n){var i=Oh(Ch.H_(n),ph.Jl),r=t.Hg(i);return{Pu:ph.Zl,Vg:r}},t.Hg=function(n){for(var i=Bh(n.D_()),r=i.version,e=i.flags,u=(n.D_(),[]),s=Ch.H_(n),o=0;o<s.length;o++){var a=s[o];a.Pu===ph.t_?u.push(t.Xg(a.$n)):a.Pu===ph.i_||a.Pu===ph.r_?u.push(t.Wg(a.$n,a.Pu)):a.Pu===ph.s_?u.push(t.qg(a.$n)):a.Pu===ph.a_&&u.push(t.zg(a.$n))}return{Pu:ph.Jl,K_:r,tg:e,Gg:u}},t.jg=function(t,n){return t.M_(6),{Pu:n,Qg:t.I_()}},t.Yg=function(n,i){var r=t.jg(n,i);n.M_(8);var e=n.I_(),u=n.I_();n.M_(2),n.M_(2);var s=n.D_()>>>16;return dn(dn({},r),{Zg:e,Jg:u,$g:s})},t.Kg=function(n,i){var r=t.jg(n,i);n.M_(2),n.M_(2),n.M_(12);var e=n.I_(),u=n.I_(),s=n.D_(),o=n.D_();n.M_(4);var a=n.I_();n.M_(32);var c=n.I_();return n.M_(2),dn(dn({},r),{Ja:e,Cg:u,tw:s,nw:o,iw:a,rw:c})},t.qg=function(n){var i=t.Yg(n,ph.s_),r=Oh(Ch.H_(n),ph.o_),e=t.ew(r);return dn(dn({},i),{uw:e})},t.zg=function(n){var i=t.jg(n,ph.a_),r=Ch.H_(n),e=Oh(r,ph.c_),u=t.sw(e),s=xh(r,ph.h_),o=s?t.ow(s):s;return dn(dn({},i),{aw:u,cw:o})},t.sw=function(t){return{Pu:ph.c_,hw:t.L_()}},t.ow=function(t){return{Pu:ph.h_,Rh:t.L_()}},t.ew=function(t){return Ch.J_(t,ph.o_,!0)},t.Xg=function(n){var i=t.Kg(n,ph.t_),r=Ch.H_(n),e=Oh(r,ph.n_),u=xh(r,ph.u_),s=t.fw(e),o=u?t.vw(u):void 0;return dn(dn({},i),{dw:s,lw:o})},t.Wg=function(n,i){var r=t.Kg(n,i),e=Oh(Ch.H_(n),ph.e_),u=t._w(e);return dn(dn({},r),{gw:u})},t.fw=function(t){return Ch.Z_(t,ph.n_,!0)},t._w=function(t){return Ch.Z_(t,ph.e_,!0)},t.vw=function(t){var n=t.D_(),i=t.D_();return{Pu:ph.u_,ww:n,yw:i}},t.dg=function(n){var i=Ph(Ch.H_(n),ph.Kl).map(t.mw);return{Pu:ph.$l,lg:i}},t.mw=function(t){var n=Bh(t.D_()),i=n.version,r=n.flags,e=t.D_(),u=t.D_(),s=t.D_(),o=t.D_(),a=t.D_();return{Pu:ph.Kl,K_:i,tg:r,Ig:e,kw:u,pw:s,Aw:o,bw:a}},t.og=function(n,i){var r=Ch.H_(n),e=Oh(r,ph.v_),u=Ph(r,ph.d_),s=t.Tw(e),o=u.map(t.Ew);return{Pu:ph.f_,Sw:i,j_:s,lg:o}},t.Tw=function(t){var n=Bh(t.D_()),i=n.version,r=n.flags,e=t.D_();return{Pu:ph.v_,K_:i,tg:r,Rw:e}},t.Ew=function(n){var i=Ch.H_(n),r=Oh(i,ph.l_),e=Ph(i,ph.__),u=xh(i,ph.g_),s=t.Iw(r),o=e.map(function(n){return t.Nw(n,s)}),a=u?t.Dw(u):void 0;return{Pu:ph.d_,j_:s,Cw:o,Ow:a}},t.Iw=function(t){var n=Bh(t.D_()),i=n.version,r=n.flags,e=t.D_(),u=r.$s(bh.BASE_DATA_OFFSET_PRESENT)?t.D_():void 0,s=r.$s(bh.SAMPLE_DESCRIPTION_INDEX_PRESENT)?t.D_():void 0,o=r.$s(bh.DEFAULT_SAMPLE_DURATION_PRESENT)?t.D_():void 0,a=r.$s(bh.DEFAULT_SAMPLE_SIZE_PRESENT)?t.D_():void 0,c=r.$s(bh.DEFAULT_SAMPLE_FLAGS_PRESENT)?t.D_():void 0;return{Pu:ph.l_,K_:i,tg:r,Ig:e,xw:u,Pw:s,pw:o,Aw:a,bw:c}},t.Nw=function(n,i){for(var r=Bh(n.D_()),e=r.version,u=r.flags,s=n.D_(),o=u.$s(Th.DATA_OFFSET_PRESENT)?n.C_():void 0,a=u.$s(Th.FIRST_SAMPLE_FLAGS_PRESENT)?n.D_():void 0,c=[],h=0;h<s;h++){var f=t.Bw(n,u,e,i);0===h&&void 0!==a&&(f.tg=a),c.push(f)}return{Pu:ph.__,K_:e,tg:u,Lw:s,Sw:o,Mw:a,Uw:c}},t.Bw=function(t,n,i,r){return{bv:n.$s(Th.SAMPLE_DURATION_PRESENT)?t.D_():r.pw,zs:n.$s(Th.SAMPLE_SIZE_PRESENT)?t.D_():r.Aw,tg:n.$s(Th.SAMPLE_FLAGS_PRESENT)?t.D_():r.bw,Fw:n.$s(Th.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT)?0===i?t.D_():t.C_():void 0}},t.hg=function(t){var n=t.$n,i=t.S_,r=Bh(Nr(n,i)),e=r.version,u=r.flags,s=xr(n,i),o=xr(n,i),a=Nr(n,i),c=Nr(n,i),h=Nr(n,i),f=Nr(n,i),v=ie(Kr(n),i.Zs,n.byteLength);return i.js(v.byteLength),{Pu:ph.m_,K_:e,tg:u,Hw:s,Pn:o,yg:a,Vw:c,Xw:h,Th:f,Ww:v}},t.ag=function(t){return Ch.Z_(t,ph.w_,!1)},t.ug=function(n){var i=n.$n,r=n.S_,e=re(Kr(i)).buffer,u=Bh(Nr(i,r)),s=u.version,o=u.flags,a=t.qw(i,r),c=[];if(s>0)for(var h=Nr(i,r),f=0;f<h;f++){for(var v="",d=0;d<16;d++){var l=pr(i,r).toString(16);v+=1===l.length?"0"+l:l}c.push(v)}var _=Nr(i,r),g=new k(e,r.Zs,_);return r.js(i.byteLength),{Pu:ph.y_,K_:s,tg:o,zw:a,Gw:c,jw:_,$n:g,Qw:e}},t.qw=function(t,n){for(var i="",r=0;r<4;r++){var e=pr(t,n).toString(16);i+=1===e.length?"0"+e:e}i+="-";for(var u=0;u<2;u++){var s=pr(t,n).toString(16);i+=1===s.length?"0"+s:s}i+="-";for(var o=0;o<2;o++){var a=pr(t,n).toString(16);i+=1===a.length?"0"+a:a}i+="-";for(var c=0;c<2;c++){var h=pr(t,n).toString(16);i+=1===h.length?"0"+h:h}i+="-";for(var f=0;f<6;f++){var v=pr(t,n).toString(16);i+=1===v.length?"0"+v:v}return i.toLowerCase()},t.cg=function(t){var n,i,r=t.$n,e=t.S_,u=Bh(Nr(r,e)),s=u.version,o=u.flags,a=Nr(r,e),c=Nr(r,e);0===s?(n=Ct.fromBits(Nr(r,e),0,!0),i=Ct.fromBits(Nr(r,e),0,!0)):(n=Cr(r,e),i=Cr(r,e)),e.js(2);for(var h=Rr(r,e),f=[],v=0;v<h;v+=1){var d=Nr(r,e),l=d>>31&1,_=2147483647&d,g=Nr(r,e),w=Nr(r,e),y=w>>31&1,m=w>>28&7,k=268435455&w;f.push({Yw:l,Zw:_,bv:g,Jw:y,$w:m,Kw:k})}return{Pu:ph.k_,K_:s,tg:o,ty:a,yg:c,ny:n,iy:i,ey:h,uy:f}},t.Dw=function(t){var n,i=t.$n,r=t.S_,e=Bh(Nr(i,r)),u=e.version,s=e.flags;return n=0===u?Ct.fromBits(Nr(i,r),0,!0):Cr(i,r),{Pu:ph.g_,K_:u,tg:s,Ow:n}},t}(),Mh={playready:"https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx",widevine:"https://wv-keyos.licensekeyserver.com/",fairplay:"https://fp-keyos.licensekeyserver.com/getkey"};function Uh(t){if(!t)return!0;var n=t.licenseAcquisitionURL,i=t.certificateURL,r=t.keys,e=t.headers,u=t.useCredentials,s=t.queryParameters,o=t.certificateRequestProcessor,a=t.certificateResponseProcessor,c=t.licenseRequestProcessor,h=t.licenseResponseProcessor;return!(n||i||r||e||u||s||o||a||c||h)}function Fh(t){return t&&void 0!==t.licenseAcquisitionURL}var Hh,Vh=Fh,Xh=Fh;function Wh(t){if(!t)return!0;if(jh(t))return!1;var n=t.fairplay,i=t.playready,r=t.widevine,e=t.clearkey,u=t.aes128;return Uh(n)&&Uh(i)&&Uh(r)&&Uh(e)&&Uh(u)}function qh(t){var n=yh(t),i=function(t){var n,i=t;return wh(i)&&""!==(null===(n=i.fairplay)||void 0===n?void 0:n.headers.PreAuthorization)&&!gh(i)}(t);return(!n||!i)&&(n||i)}function zh(t){return t.integration===rh}function Gh(t){var n=t;if(!n)return!1;if(Wh(n))return!1;var i=n.fairplay,r=n.playready,e=n.widevine,u=n.clearkey;if(jh(t))return!0;if(i&&!function(t){var n=t;return n&&(void 0!==n.certificateURL||void 0!==n.certificate)}(i))return!1;if(r&&!Vh(r))return!1;if(e&&!Xh(e))return!1;if(u&&!function(t){var n=t;return n&&(void 0!==n.licenseAcquisitionURL||void 0!==n.keys)}(u))return!1;if(n.integration){if(Eh.Vl.Ul(n.integration))return!0;switch(n.integration){case th:if(!function(t){return t.integration===th&&(Qh(t)||Yh(t))}(t))return!1;break;case eh:if(!Zh(t))return!1;break;case uh:if(!function(t){return t.integration===uh}(t))return!1;break;case rh:if(!zh(t))return!1;break;case nh:if(!qh(t))return!1;break;case ih:if(!function(t){return t.integration===ih}(t))return!1;break;case sh:if(!jh(t))return!1;break;case oh:if(!function(t){var n=t;return n.integration===oh&&(void 0!==n.token||function(t){return void 0!==t.merchant&&void 0!==t.sessionId&&void 0!==t.userId}(n))}(t))return!1;break;case ah:if(!function(t){return t.integration===ah}(t))return!1;break;case hh:if(!Jh(t))return!1;break;case fh:if(!function(t){return t.integration===fh}(t))return!1;break;case vh:if(!$h(t))return!1;break;case ch:if(!function(t){var n=t;return n.integration===ch&&void 0!==n.token}(t))return!1;break;case dh:if(!function(t){return t.integration===dh}(t))return!1;break;case lh:if(!function(t){var n=t;return n&&M(n.releasePid)&&M(n.accountId)&&M(n.token)}(t))return!1;break;case _h:return!0;default:return!1}}return!0}function jh(t){return t.integration===sh}function Qh(t){return void 0!==t.authToken}function Yh(t){var n=t;return void 0!==n.accountName&&void 0!==n.customerName&&void 0!==n.portalId}function Zh(t){var n=t;return n.integration===eh&&void 0!==n.token}function Jh(t){var n=t;return n&&n.integration===hh&&X(n.ticketAcquisitionURL)&&X(n.streamId)}function $h(t){var n=t;return n.integration===vh&&void 0!==n.token}function Kh(t,n){var i,r,e,u=n[t],s=null!==(i=null==u?void 0:u.licenseAcquisitionURL)&&void 0!==i?i:Mh[t],o=null!==(r=null==u?void 0:u.customdata)&&void 0!==r?r:n.customdata,a=o?{customData:o}:{},c=dn(dn({},null!==(e=null==u?void 0:u.headers)&&void 0!==e?e:{}),a),h=null!=u?u:{};h.customdata;return dn(dn({},$c(h,["customdata"])),{licenseAcquisitionURL:s,headers:c})}function tf(t){switch(t.toLowerCase()){case"widevine":case Ln:return Ln;case"playready":case xn:return xn;case"fairplay":case Un:return Un}}function nf(t,i){switch(t){case Dn:return function(t){for(var n={},i=Lh.eg(new DataView(t)),r=0;r<i.length;r++){var e=i[r];n[e.zw]=e.Qw}return n}(i);case Cn:case On:return function(t){var n;return(n={})[Mn]=t,n}(i);default:throw new De(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Unsupported initDataType "+t)}}function rf(t){if(t&&H(t))return dn(dn({},t),{integration:ef(t.integration),fairplay:ff(t.fairplay),widevine:uf(t.widevine),playready:sf(t.playready),clearkey:vf(t.clearkey),aes128:df(t.aes128),integrationParameters:lf(t.integrationParameters),preferredKeySystems:_f(t.preferredKeySystems)})}function ef(t){if(X(t))return t}function uf(t){if(t&&H(t))return{persistentState:of(t.persistentState),distinctiveIdentifier:of(t.distinctiveIdentifier),audioRobustness:af(t.audioRobustness),videoRobustness:af(t.videoRobustness),licenseAcquisitionURL:X(t.licenseAcquisitionURL)?t.licenseAcquisitionURL:void 0,licenseType:cf(t.licenseType),headers:t.headers,useCredentials:!!W(t.useCredentials)&&t.useCredentials,queryParameters:t.queryParameters,certificate:X(t.certificate)||te(t.certificate)?t.certificate:void 0,certificateRequestProcessor:hf(t.certificateRequestProcessor),certificateResponseProcessor:hf(t.certificateResponseProcessor),licenseRequestProcessor:hf(t.licenseRequestProcessor),licenseResponseProcessor:hf(t.licenseResponseProcessor)}}function sf(t){if(t){var n=uf(t);if(n){var i=X(t.customData)?t.customData:void 0;return dn(dn({},n),{customData:i})}}}function of(t){switch(null==t?void 0:t.toLowerCase()){case"required":return"required";case"optional":return"optional";case"not-allowed":return"not-allowed"}}function af(t){switch(t){case"HW_SECURE_ALL":return"HW_SECURE_ALL";case"HW_SECURE_DECODE":return"HW_SECURE_DECODE";case"HW_SECURE_CRYPTO":return"HW_SECURE_CRYPTO";case"SW_SECURE_DECODE":return"SW_SECURE_DECODE";case"SW_SECURE_CRYPTO":return"SW_SECURE_CRYPTO";case"":return""}}function cf(t){switch(null==t?void 0:t.toLowerCase()){case"temporary":return"temporary";case"persistent":return"persistent"}}function hf(t){if("function"==typeof t)return t}function ff(t){if(t){var n=uf(t);if(n){var i=X(t.certificateURL)?t.certificateURL:void 0;return dn(dn({},n),{certificateURL:i})}}}function vf(t){if(t){var n=uf(t);if(n){var i=U(t.keys)?t.keys.map(function(t){return function(t){if(!t||!H(t))return;var n=t.id,i=t.value;if(!X(n)||!X(i))return;return{id:n,value:i}}(t)}).filter(M):void 0;return dn(dn({},n),{keys:i})}}}function df(t){if(H(t))return{useCredentials:W(t.useCredentials)?t.useCredentials:void 0}}function lf(t){if(H(t))return t}function _f(t){return t&&U(t)?t.map(function(t){return tf(t)}).filter(M):[Ln,xn,Un]}!function(t){t.DEFAULT="",t.THEO="theo",t.GOOGLE_IMA="google-ima",t.SPOTX="spotx",t.FREEWHEEL="freewheel"}(Hh||(Hh={}));var gf,wf,yf,mf,kf,pf,Af,bf,Tf,Ef,Sf=function(){function t(){this.sy=[]}var n=t.prototype;return n.oy=function(t){var n=this.ay.filter(function(n){return n.hy(t)});if(n.length>1)0;else if(0===n.length)throw d("Unknown ad integration: "+t.integration);return n[0]||null},n.vy=function(t){this.sy.push(t)},T(t,[{key:"ay",get:function(){return this.sy}}]),t}();Sf.gn=new Sf,function(t){t.DEFAULT="",t.SRT="srt",t.TTML="ttml",t.WEBVTT="webvtt",t.EMSG="emsg",t.EVENT_STREAM="eventstream",t.ID3="id3",t.CEA608="cea608",t.DATE_RANGE="daterange"}(gf||(gf={})),function(t){t.Yh="PLAYING",t.ly="PAUSED",t._y="SEEK",t.gy="STALLED",t.wy="FAILED",t.yy="INITIAL_BUFFERING",t.my="NO_ACCESS"}(wf||(wf={})),function(t){t.ky="HTTP_REQUEST_STATUS_CODE_1XX",t.py="HTTP_REQUEST_STATUS_CODE_2XX",t.Ay="HTTP_REQUEST_STATUS_CODE_3XX",t.by="HTTP_REQUEST_STATUS_CODE_4XX",t.Ty="HTTP_REQUEST_STATUS_CODE_5XX",t.Ey="BUFFER_LENGTH",t.Sy="BYTES_RECEIVED",t.Ry="SEGMENT_READ_BITRATE",t.Iy="SEGMENT_PROFILE_BITRATE",t.Ny="NUMBER_OF_FRAMES_DROPPED",t.Dy="PLAYBACK_POSITION",t.Cy="NUMBER_OF_FRAMES_DECODED",t.Oy="PLAYBACK_DELTA_TO_ORIGIN",t.xy="STREAM_DELTA_TO_ORIGIN",t.Py="ORIGIN_TIMESTAMP"}(yf||(yf={})),function(t){t.By="MANIFEST_URI",t.Ly="ASSET_DURATION",t.My="NUMBER_OF_CONTENT_PROFILES",t.Uy="CDN",t.Fy="CONTENT_TITLE",t.Hy="SERVICE_NAME",t.Vy="CONTENT_TYPE",t.Xy="CONTENT_DESCRIPTION"}(mf||(mf={})),function(t){t.Wy="shutdown_normal_shutdown"}(kf||(kf={})),function(t){t.qy="session/",t.zy="internalError/",t.Gy="drmError/",t.jy="caError/",t.Qy="networkError/"}(pf||(pf={})),function(t){t.Yy="userAction",t.Zy="endOfStreamReached"}(Af||(Af={})),function(t){t.PAUSE="Jy",t.RESUME="$y"}(bf||(bf={})),function(t){t.dd="audio",t.ld="video",t.An="text",t._d="image",t.$v="unknown"}(Tf||(Tf={})),function(t){t[t.Ky=0]="Ky",t[t.tm=1]="tm",t[t.nm=-1]="nm"}(Ef||(Ef={}));var Rf=function(t,n){return(0|t)-(0|n)},If=function(t,n){return t===n?Ef.Ky:t<n?Ef.nm:t>n?Ef.tm:m(t)?m(n)?Ef.Ky:Ef.tm:Ef.nm};function Nf(t,n,i){return Pt(t,n,i)?Ef.Ky:If(t,n)}var Df=function(t,n){return Bt(t,n)?Ef.Ky:If(t,n)};var Cf,Of=function(t){function n(n,i){var r;return(r=t.call(this)||this).lh=n.length>>1,r.im=n,r.rm=i||function(t){for(var n=new Array(2*t),i=0,r=0;i<t;i+=1,r+=2)n[r]=!0,n[r+1]=!1;return n}(r.lh),r}qt(n,t);var i=n.prototype;return i.um=function(t){return this.im[2*t]},i.sm=function(t){return this.rm[2*t]},i.om=function(t){return this.im[2*t+1]},i.am=function(t){return this.rm[2*t+1]},T(n,[{key:"cm",get:function(){return this.im.slice()}}]),n}(function(){function t(){}var n=t.prototype;return n.hm=function(t,n){return 0===this.fm(t,n)},n.vm=function(t,n){return this.fm(t,n)>0},n.dm=function(t,n){return this.fm(t,n)>=0},n.lm=function(t,n){return this.fm(t,n)<0},n._m=function(t,n){return this.fm(t,n)<=0},n.gm=function(t,n){return this.lm(t,n)?t:n},n.wm=function(t,n){return this.vm(t,n)?t:n},n.ym=function(t,n,i){return i?this._m(t,n):this.lm(t,n)},n.mm=function(){var t=this;return{get length(){return t.lh},start:function(n){var i=0|n;return t.km(i),t.pm(t.um(i))},end:function(n){var i=0|n;return t.km(i),t.pm(t.om(i))}}},n.Am=function(){for(var t=new Array(2*this.lh),n=new Array(2*this.lh),i=0;i<this.lh;i++)t[2*i]=this.um(i),t[2*i+1]=this.om(i),n[2*i]=!0,n[2*i+1]=!0;return this.bm(t,n)},n.km=function(t){if(t<0)throw new d("The index provided ("+t+") must be non-negative");if(t>=this.lh)throw new d("The index provided ("+t+") is greater than the maximum bound ("+this.lh+")")},n.Tm=function(t){if(0===this.lh)return this.Em();if(this.Sm(t))return t;if(this._m(t,this.um(0)))return this.um(0);if(this.dm(t,this.om(this.lh-1)))return this.om(this.lh-1);for(var n,i=this.Rm(),r=0;r<this.lh;r++){var e=this.um(r),u=this.Im(e,t);this.lm(u,i)&&(n=e,i=u);var s=this.om(r),o=this.Im(this.om(r),t);this.lm(o,i)&&(n=s,i=o)}return n},n.Nm=function(t){for(var n=0,i=0,r=[],e=[];n<this.lh&&i<t.lh;){var u=this.um(n),s=this.om(n),o=this.sm(n),a=this.am(n),c=t.um(i),h=t.om(i),f=t.sm(i),v=t.am(i),d=this.wm(u,c),l=this.gm(s,h),_=void 0;_=this.hm(u,c)?o&&f:this.hm(d,u)?o:f;var g=void 0;g=this.hm(s,h)?a&&v:this.hm(l,s)?a:v,(this.lm(d,l)||_&&g&&this.hm(d,l))&&(r.push(d,l),e.push(_,g));var w=this.fm(this.om(n),t.om(i));0===w?(n+=1,i+=1):w<0?n+=1:i+=1}return this.bm(r,e)},n.Dm=function(){var t=this.Cm(),n=t.lh;if(0===n)return this.bm([t.Om(),t.Rm()],[!1,!1]);var i=[],r=[],e=t.um(0);t.hm(e,t.Om())||(i.push(t.Om(),e),r.push(!1,!t.sm(0)));for(var u=0;u<n-1;u++)i.push(t.om(u),t.um(u+1)),r.push(!t.am(u),!t.sm(u+1));var s=t.om(n-1);return t.hm(s,t.Rm())||(i.push(s,t.Rm()),r.push(!t.am(n-1),!1)),t.bm(i,r)},n.xm=function(t){for(var n=0,i=0,r=this.lh,e=t.lh,u=new Array(2*(r+e)),s=new Array(2*(r+e)),o=0;n<r&&i<e;){var a=this.um(n),c=this.om(n),h=t.um(i),f=t.om(i);this.lm(a,h)||this.hm(a,h)&&this.lm(c,f)?(u[o]=a,u[o+1]=c,s[o]=this.sm(n),s[o+1]=this.am(n),n++):(u[o]=h,u[o+1]=f,s[o]=t.sm(i),s[o+1]=t.am(i),i++),o+=2}for(;n<r;)u[o]=this.um(n),u[o+1]=this.om(n),s[o]=this.sm(n),s[o+1]=this.am(n),n++,o+=2;for(;i<e;)u[o]=t.um(i),u[o+1]=t.om(i),s[o]=t.sm(i),s[o+1]=t.am(i),i++,o+=2;return this.bm(u,s)},n.Pm=function(t){void 0===t&&(t=this.Em());var n=this.lh;if(n<2)return this;for(var i=[],r=[],e=this.um(0),u=this.om(0),s=this.sm(0),o=this.am(0),a=1;a<n;a++){var c=this.um(a),h=this.om(a),f=this.sm(a),v=this.am(a);this.lm(e,c)&&this.vm(u,h)||(this.hm(e,c)&&(s=f=s||f),this.hm(u,h)&&(o=v=o||v),this.ym(c,this.Bm(u,t),o||f)?(u=h,o=v):(i.push(e,u),r.push(s,o),e=c,u=h,s=f,o=v))}return i.push(e,u),r.push(s,o),this.bm(i,r).Cm()},n.Cm=function(){for(var t=[],n=[],i=0;i<this.lh;i++){var r=this.um(i),e=this.om(i),u=this.sm(i),s=this.am(i);this.hm(r,e)?(u||s)&&(t.push(r,e),n.push(!0,!0)):(t.push(r,e),n.push(u,s))}return this.bm(t,n)},n.Lm=function(t){return this.lh?t.lh?this.xm(t).Pm():this:t},n.Mm=function(t){var n=this.Cm(),i=t.Cm(),r=n.Dm(),e=i.Dm(),u=r.Nm(i),s=e.Nm(n);return u.Lm(s)},n.js=function(t){for(var n=[],i=[],r=0;r<this.lh;r++){var e=this.Bm(this.um(r),t),u=this.Bm(this.om(r),t);n.push(e,u),i.push(this.sm(r),this.am(r))}return this.bm(n,i)},n.Um=function(t){return this.Cm().Nm(t.Cm().Dm())},n.Sm=function(t,n){return this.Fm(t,n)>=0},n.Hm=function(t,n,i,r,e){return this.Vm(t,n,i,r,e)>=0},n.Xm=function(t,n,i,r,e){return this.Wm(t,n,i,r,e)>=0},n.qm=function(t){if(t.lh!==this.lh)return!1;for(var n=0;n<this.lh;n++)if(!this.hm(this.um(n),t.um(n))||!this.hm(this.om(n),t.om(n))||this.sm(n)!==t.sm(n)||this.am(n)!==t.am(n))return!1;return!0},n.zm=function(t){for(var n=[],i=[],r=0;r<this.lh;r++)t(this.um(r),this.om(r))&&(n.push(this.um(r),this.om(r)),i.push(this.sm(r),this.am(r)));return this.bm(n,i)},n.Wm=function(t,n,i,r,e){void 0===i&&(i=!0),void 0===r&&(r=!0),void 0===e&&(e=this.Em());for(var u=this.Gm(t,e),s=this.Bm(n,e),o=0;o<this.lh;o+=1)if(this.ym(this.um(o),s,!r||this.sm(o))&&this.ym(u,this.om(o),!i||this.am(o)))return o;return-1},n.Vm=function(t,n,i,r,e){void 0===i&&(i=!0),void 0===r&&(r=!1),void 0===e&&(e=this.Em());for(var u=this.Bm(t,e),s=this.Gm(n,e),o=0;o<this.lh;o+=1)if(this.ym(this.um(o),u,!i||this.sm(o))&&this.ym(s,this.om(o),!r||this.am(o)))return o;return-1},n.Fm=function(t,n){return this.Vm(t,t,!0,!0,n)},n.jm=function(t,n){void 0===n&&(n=this.Em());for(var i=this.Bm(t,n),r=this.lh-1;r>=0;r-=1)if(this.ym(this.um(r),i,this.sm(r)))return r;return-1},n.Qm=function(t,n){void 0===n&&(n=this.Em());for(var i=this.Gm(t,n),r=0;r<this.lh;r+=1)if(this.ym(i,this.om(r),this.am(r)))return r;return-1},n.Ym=function(t){return this.km(t),this.bm([this.um(t),this.om(t)],[this.sm(t),this.am(t)])},n.Zm=function(t,n){var i=this.Fm(t,n);return i<0?void 0:this.Ym(i)},T(t,[{key:"Jm",get:function(){for(var t=this.Em(),n=0;n<this.lh;n++){var i=this.Gm(this.om(n),this.um(n));t=this.Bm(t,i)}return t}}]),t}()),xf=function(t){function n(n,i){return t.call(this,n,i)||this}qt(n,t);var i=n.prototype;return i.fm=function(t,n){return t<n?Ef.nm:t===n?Ef.Ky:Ef.tm},i.Bm=function(t,n){return t+n},i.Gm=function(t,n){return t-n},i.Im=function(t,n){return g.abs(t-n)},i.Em=function(){return 0},i.Rm=function(){return 1/0},i.Om=function(){return-1/0},n.$m=function(t){for(var i=[],r=0;r<t.length;r++)i.push(t.start(r),t.end(r));return new n(i)},n.Km=function(t){for(var i=[],r=[],e=0;e<t.lh;e++)i.push(t.um(e).tk),i.push(t.om(e).tk),r.push(t.sm(e)),r.push(t.am(e));return new n(i,r)},n.nk=function(t){return new n([t,t],[!0,!0])},i.bm=function(t,i){return new n(t,i)},i.pm=function(t){return t},n.ik=function(){return Pf},n}(Of),Pf=new xf([]);!function(t){t.UNAVAILABLE="unavailable",t.AVAILABLE="available",t.CONNECTING="connecting",t.CONNECTED="connected"}(Cf||(Cf={}));var Bf,Lf,Mf,Uf,Ff,Hf,Vf="agama";function Xf(t){return function(t){switch(t){case Bf.NONE:case Bf.HORIZONTAL:case Bf.VERTICAL:return!0;default:return!1}}(t)?t:Bf.NONE}function Wf(t){switch(t){case"":return Bf.NONE;case"horizontal":return Bf.HORIZONTAL;case"vertical":return Bf.VERTICAL;default:throw new l}}function qf(t){return{useSeamlessPeriodSwitch:zf(null==t?void 0:t.useSeamlessPeriodSwitch)}}function zf(t){if(!t||!X(t))return Lf.rk;switch(t){case"always":return Lf.ek;case"never":return Lf.uk;default:return Lf.rk}}function Gf(t){return{discontinuityAlignment:jf(null==t?void 0:t.discontinuityAlignment)}}function jf(t){if(!t||!X(t))return Mf.rk;switch(t){case"playlist":return Mf.sk;case"media":return Mf.ak;default:return Mf.rk}}function Qf(t,n,i){var r=function(t,n){var i=ja.yv;t.useCredentials?i=ja.wv:t.crossOrigin&&(i=ic(t.crossOrigin));i===ja.yv&&n&&n.vr&&n.vr[360]&&(i=ja.gv);return{useCredentials:i===ja.wv,crossOrigin:i}}(t,n),e=r.useCredentials,u=r.crossOrigin,s=t.liveOffset;M(s)||(s=i&&M(i.liveOffset)?i.liveOffset:void 0);var o=t.timeServer;M(o)||(o=n&&M(n.timeServer)?n.timeServer:void 0);var a=Boolean(t.hlsDateRange);return M(t.hlsDateRange)||(a=!(!i||!M(i.hlsDateRange))&&Boolean(i.hlsDateRange)),{crossOrigin:u,useCredentials:e,liveOffset:s,timeServer:o,hlsDateRange:a,experimentalRendering:Boolean(t.experimentalRendering),nativeUiRendering:Boolean(t.nativeUiRendering),lowLatency:Boolean(t.lowLatency),useNativePlayback:Boolean(t.useNativePlayback),dash:M(t.dash)?qf(t.dash):void 0,hls:M(t.hls)?Gf(t.hls):void 0}}function Yf(t){if(null!==t)return t}function Zf(t){var n,i={apiKey:t.apiKey,integration:t.integration,streamActivityMonitorID:Yf(t.streamActivityMonitorID),adTagParameters:H(t.adTagParameters)?t.adTagParameters:{},authToken:Yf(t.authToken)};if("vod"===(null==t?void 0:t.availabilityType)||(n=t,Boolean(n.videoID&&n.contentSourceID))){var e=t.videoID,u=t.contentSourceID;return e?u?dn(dn({},i),{availabilityType:"vod",videoID:e,contentSourceID:u}):void r.hc("A VOD DAI configuration was provided without valid contentSourceID which is required."):void r.hc("A VOD DAI configuration was provided without valid videoID which is required.")}if("live"===(null==t?void 0:t.availabilityType)||function(t){return Boolean(t.assetKey)}(t)){var s=t.assetKey;return s?dn(dn({},i),{availabilityType:"live",assetKey:s}):void r.hc("A Live DAI configuration was provided without valid assetKey which is required.")}r.hc("A DAI configuration was provided without a valid availabilityType which is required.")}function Jf(t){switch(t.integration){case"google-dai":return Zf(t);case"imagine":return{integration:t.integration};case"yospace":return function(t){var n;return{integration:t.integration,streamType:null!==(n=t.streamType)&&void 0!==n?n:void 0}}(t);default:return{integration:t.integration}}}function $f(t,n,i){var r=Qf(t,n,i),e=Yf(t.src),u=t.type;u||(u=t.src?nc(t.src):void 0);var s=function(t,n){var i;i=M(t.contentProtection)?t.contentProtection:M(t.drm)?t.drm:M(n)&&M(n.contentProtection)?n.contentProtection:M(n)&&M(n.drm)?n.drm:void 0;return Kf(i)}(t,n),o=M(t.ssai)?Jf(t.ssai):void 0;return dn(dn({},r),{src:e,type:u,contentProtection:s,ssai:o,integrationData:void 0,isAdvertisement:Boolean(t.isAdvertisement)})}function Kf(t){if(!Gh(t)||!t.integration)return t;switch(t.integration){case sh:return n=t,i=Kh(In.Du,n),r=Kh(In.Nu,n),e=n[In.Cu]&&Kh(In.Cu,n),dn({integration:"keyos",widevine:i,playready:r},e?{fairplay:e}:{});default:return t}var n,i,r,e}!function(t){t.NONE="",t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(Bf||(Bf={})),function(t){t.rk="auto",t.ek="always",t.uk="never"}(Lf||(Lf={})),function(t){t.rk="auto",t.sk="playlist",t.ak="media"}(Mf||(Mf={})),function(t){t.VERIZON_MEDIA="verizon-media"}(Uf||(Uf={})),function(t){t.ASSET="asset",t.CHANNEL="channel",t.EVENT="event"}(Ff||(Ff={})),function(t){t.ck="subtitles",t.hk="captions",t.fk="descriptions",t.vk="chapters",t.T_="metadata",t.dk="thumbnails"}(Hf||(Hf={}));var tv=[Hf.ck,Hf.hk,Hf.fk,Hf.vk,Hf.T_,Hf.dk];function nv(t){var n=String(t||"").toLowerCase();return function(t){return"string"==typeof t&&li(tv,t)}(n)?n:n?Hf.T_:Hf.ck}function iv(t){if(!t)return!0;var n,i,r=!(ac(n=t.sources)||F(n)&&ac(n[0]))||cc(t.sources),e=!t.ads||(!(i=t.ads)||U(i)&&0===i.length),u=""!==t.poster&&!t.poster;return r&&e&&u}function rv(t){return X(t.src)}function ev(t){if(t&&t.sources)return function t(n){if(X(n))return n;if(oc(n))return n.src;if(F(n)&&n.length>0)return t(n[0]);return}(t.sources)}function uv(t){return!!t&&(Qn(t=t.toLowerCase(),Qa._v)||Qn(t,Qa.mv))}function sv(t,n,i){return uc(t)?function(t,n,i){var r=dn(dn({},hc()),{ping:{adImpressions:!1,freeWheelVideoViews:!1,linearAdData:!1},integration:Uf.VERIZON_MEDIA,id:"",preplayParameters:{},playbackUrlParameters:{},assetType:Ff.ASSET,contentProtected:!1,assetInfo:!0});r.id=(e=t.id,X(e)?e:F(e)&&X(e[0])?e:H(u=e)&&X(u.userId)&&(F(u.externalId)||X(u.externalId))?e:""),t.preplayParameters&&(r.preplayParameters=t.preplayParameters);var e,u;t.playbackUrlParameters&&(r.playbackUrlParameters=t.playbackUrlParameters);t.assetType&&(r.assetType=function(t){switch(t){case"channel":return Ff.CHANNEL;case"event":return Ff.EVENT;case"asset":default:return Ff.ASSET}}(t.assetType));t.contentProtected&&(r.contentProtected=Jo(t.contentProtected));t.assetInfo?r.assetInfo=Jo(t.assetInfo):r.assetInfo="asset"===r.assetType;return r.ping=(s=r.assetType,o=t.ping,a=!1,c=!1,h=!1,o?(a=!!W(o.adImpressions)&&o.adImpressions,c=!!W(o.freeWheelVideoViews)&&o.freeWheelVideoViews,h=W(o.linearAdData)?o.linearAdData:s!==Ff.ASSET):s!==Ff.ASSET&&(h=!0),{adImpressions:a,freeWheelVideoViews:c,linearAdData:h}),r=av(r=ov(r,t),n,i);var s,o,a,c,h}(t,n,i):function(t,n,i){var r=fc(),e=n&&(n.contentProtection||n.drm);if(X(t)){if(r.src=t,r.type=nc(t),e){var u=rf(e);r.contentProtection=Kf(u)}}else if(oc(t)||ec(t)){r.src=t.src,r.type=t.type||nc(t.src),r.isAdvertisement=t.isAdvertisement;var s=function(t){return t.type===Qa.kv||t.type===Qa.pv}(t)?t.hesp:void 0;void 0!==s&&(r.hesp=s);var o=t.contentProtection||t.drm||e,a=rf(o);r.contentProtection=Kf(a),t.ssai&&(r.ssai=Jf(t.ssai)),r=ov(r,t)}return r=av(r,n,i)}(t,n,i)}function ov(t,n){n.useCredentials?t.crossOrigin=ja.wv:n.crossOrigin&&(t.crossOrigin=ic(n.crossOrigin)),X(n.timeServer)&&(t.timeServer=n.timeServer),n.liveOffset&&(t.liveOffset=n.liveOffset),n.hlsDateRange&&(t.hlsDateRange=n.hlsDateRange),n.lowLatency&&(t.lowLatency=Jo(n.lowLatency)),n.useNativePlayback&&(t.useNativePlayback=Jo(n.useNativePlayback)),n.dash&&(t.dash=qf(n.dash)),n.hls&&(t.hls=Gf(n.hls));var i=void 0!==n.experimentalRendering?Jo(n.experimentalRendering):void 0;void 0!==i&&(t.experimentalRendering=i);var r=void 0!==n.nativeUiRendering?Jo(n.nativeUiRendering):void 0;return void 0!==r&&(t.nativeUiRendering=r),t}function av(t,n,i){var r,e=n&&n.timeServer;return i&&i.liveOffset&&!M(t.liveOffset)&&(t.liveOffset=i.liveOffset),i&&i.hlsDateRange&&!M(t.hlsDateRange)&&(t.hlsDateRange=i.hlsDateRange),t.crossOrigin===ja.yv&&(null===(r=null==n?void 0:n.vr)||void 0===r?void 0:r[360])&&(t.crossOrigin=ja.gv),t.useCredentials=t.crossOrigin===ja.wv,X(e)&&!t.timeServer&&(t.timeServer=e),t}function cv(t){var n={src:""};if(t&&t.src){if(n.src=ta(t.src),"default"in t&&(n.default=Jo(t.default)),n.kind=nv(t.kind),function(t){switch(t){case gf.DEFAULT:case gf.SRT:case gf.TTML:case gf.WEBVTT:case gf.EMSG:case gf.EVENT_STREAM:case gf.ID3:case gf.CEA608:case gf.DATE_RANGE:return!0;default:return!1}}(t.format)&&(n.format=t.format),"srclang"in t){var i=t.srclang;"string"==typeof i&&""!==i&&(n.srclang=i)}if("label"in t){var r=t.label;"string"==typeof r&&""!==r&&(n.label=r)}}return n}function hv(t,n){if(V(t))try{return n.oy(t).lk(t)}catch(t){return}}function fv(t){return X(t.sources)&&""!==t.sources||H(t.sources)&&X(t.sources.src)}function vv(t){return t.integration===Hh.SPOTX&&!m(t.id)}function dv(t){return"freewheel"===t.integration}function lv(t,n,i){if(void 0===i&&(i=Sf.gn),iv(t))return{sources:[fc()]};var r=jo(t);if(r.sources=function(t,n,i){if(ac(t))return[sv(t,n,i)];if(F(t)&&ac(t[0])){for(var r=[],e=0;e<t.length;e++){var u=t[e];r.push(sv(u,n,i))}return r}return[fc()]}(r.sources,r,n),"contentProtection"in r&&delete r.contentProtection,"drm"in r&&delete r.drm,"ads"in r){var e=function(t,n){if(!F(t))return[];for(var i=[],r=0;r<t.length;r++){var e=t[r];(e=hv(e,n))&&(fv(e)||vv(e)||dv(e))&&i.push(e)}return i}(r.ads,i);0===e.length?delete r.ads:r.ads=e}var u,s,o,a=!cc(r.sources),c=r.ads&&r.ads.length>0;if(a&&!c?delete r.ads:c&&!a&&(r.sources=[]),"textTracks"in r){var h=function(t){if(!F(t))return[];for(var n=[],i=0;i<t.length;i++){var r=t[i];""!==(r=cv(r)).src&&n.push(r)}return n}(r.textTracks);0===h.length?delete r.textTracks:r.textTracks=h}if("poster"in r&&(r.poster=ta(r.poster)),"vr"in r&&(r.vr=(u=r.vr,(s=u||{}).stereoMode=Xf(s.stereoMode),{360:Boolean(s[360]),stereoMode:s.stereoMode?Wf(s.stereoMode):Bf.NONE})),"analytics"in r||(null==n?void 0:n.analytics)){var f=dc(r.analytics),v=n&&n.analytics||[];r.analytics=function(t,n){for(var i=jo(t),r=function(r){var e=n[r],u=!t.some(function(t){return t.integration===e.integration});u&&e.integration!==Vf&&i.push(e)},e=0;e<n.length;e++)r(e);return i}(f,v)}return"mutedAutoplay"in r&&(r.mutedAutoplay=lc(r.mutedAutoplay)),"timeServer"in r&&delete r.timeServer,r.blockContentIfAdError=void 0!==(o=r.blockContentIfAdError)&&"boolean"==typeof o&&Boolean(o),r}var _v=function(t){function n(){return t.apply(this,arguments)||this}qt(n,t);var i=n.prototype;return i.oh=function(n){return t.prototype.oh.call(this,n)},i.Lc=function(){return oa(this)},n}(Ho);var gv=function(){function t(){this._k=[],this.Pc=void 0}var n=t.prototype;return n.Bm=function(t){this._k.push(t),this.Pc&&this.Pc.push(t.Bc)},n.sh=function(t){return this._k[t]},n.gk=function(t){return U(t)?_i(this._k,t):li(this._k,t)},T(t,[{key:"dh",get:function(){return this._k}},{key:"lh",get:function(){return this._k.length}},{key:"Bc",get:function(){var t,n;return this.Pc||(this.Pc=((n=(t=this).dh.map(function(t){return t.Bc})).item=function(n){var i=0|n,r=t.sh(i);return r&&r.Bc||void 0},n)),this.Pc}}]),t}(),wv=function(t){function n(n){var i;return(i=t.call(this,xo.th)||this).Mc=n,i}return qt(n,t),n.prototype.Lc=function(){return new yv(this.Mc.Bc)},n}(Po),yv=function(t){function n(n){var i;return(i=t.call(this,"update")||this).track=n,i}return qt(n,t),n}(Bo),mv=0;function kv(){return mv++}var pv=0;var Av=0;var bv=0;var Tv=function(t){function n(n){var i;return(i=t.call(this)||this).Pu=Tf.dd,i.wk=!1,i.Pc=void 0,i.yk=n,i.mk=kv(),i.kk=bv+++"",i.pk=n.label,i._k=new gv,i.Ak(),i}qt(n,t);var i=n.prototype;return i.bk=function(t){this.bh=t},i.Ak=function(){this.bh=this.Tk},T(n,[{key:"Ah",get:function(){}},{key:"bh",get:function(){return this.wk},set:function(t){this.wk!==t&&(this.wk=t,this.Tk=t,this.ys(new Vo(this)))}},{key:"Tk",get:function(){return!!this.yk.enabled},set:function(t){this.yk.enabled=t}},{key:"Bc",get:function(){return this.Pc||(this.Pc=ua(this)),this.Pc}},{key:"Th",get:function(){return this.kk}},{key:"Eh",get:function(){return this.mk}},{key:"Sh",get:function(){return this.yk.kind}},{key:"Rh",get:function(){return this.pk},set:function(t){t!==this.pk&&(this.pk=t,this.ys(new wv(this)))}},{key:"Ih",get:function(){return this.yk.language}},{key:"Lh",get:function(){return this.bh?"enabled":"disabled"}},{key:"Ek",get:function(){return this.yk}},{key:"Nh",get:function(){return this._k}},{key:"Dh",get:function(){},set:function(t){}}]),n}(Fi),Ev=0;var Sv,Rv,Iv=function(t){function n(n){var i;return(i=t.call(this)||this).Pu=Tf.ld,i.wk=!1,i.Pc=void 0,i.yk=n,i.mk=kv(),i.kk=Ev+++"",i._k=new gv,i.pk=n.label,i.Ak(),i}qt(n,t);var i=n.prototype;return i.Ak=function(){this.bh=this.Tk},i.bk=function(t){this.bh=t},T(n,[{key:"Ah",get:function(){}},{key:"bh",get:function(){return this.wk},set:function(t){this.wk!==t&&(this.wk=t,this.Tk=t,this.ys(new Vo(this)))}},{key:"Tk",get:function(){return!!this.yk.selected},set:function(t){this.yk.selected=t}},{key:"Bc",get:function(){return this.Pc||(this.Pc=ua(this)),this.Pc}},{key:"Th",get:function(){return this.kk}},{key:"Eh",get:function(){return this.mk}},{key:"Sh",get:function(){return"main"}},{key:"Rh",get:function(){return this.pk},set:function(t){t!==this.pk&&(this.pk=t,this.ys(new wv(this)))}},{key:"Ih",get:function(){return this.yk.language}},{key:"Lh",get:function(){return this.bh?"enabled":"disabled"}},{key:"Ek",get:function(){return this.yk}},{key:"Nh",get:function(){return this._k}},{key:"Dh",get:function(){},set:function(t){}}]),n}(Fi),Nv=function(t){function n(n){var i;return(i=t.call(this,Ta.nf)||this).gl=n,i}return qt(n,t),n}(Vi);!function(t){t[t.NONE=0]="NONE",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t[t.ERROR=3]="ERROR"}(Sv||(Sv={})),function(t){t.Sk="cue",t.Rk="region",t.Ik="stylesheet"}(Rv||(Rv={}));var Dv,Cv,Ov={"line-left":"start",center:"middle","line-right":"end"},xv={start:"line-left",middle:"center",end:"line-right"};function Pv(t,n){if("auto"===t)switch(n){case"start":case"left":return"line-left";case"end":case"right":return"line-right";default:return"center"}return t}function Bv(t,n){if("auto"===t)switch(n){case"start":case"left":return 0;case"end":case"right":return 100;default:return 50}return r=50,e="number"==typeof(i=t)?i:y(i),m(e)?r:e;var i,r,e}!function(t){t.Nk="fv",t.Dk="vv",t.th="po"}(Dv||(Dv={})),function(t){t.Nk="enter",t.Dk="exit",t.th="update"}(Cv||(Cv={}));var Lv=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).Ck=i,r}return qt(n,t),n}(Po),Mv=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).cue=i,r}return qt(n,t),n}(Bo);function Uv(t){var n,i=[Dv.Nk,Dv.Dk,Dv.th],r={get track(){return t.Mc.Bc},get id(){return t.Th},get startTime(){return t.Ok},get endTime(){return t.xk},get content(){return t.Pk},addEventListener:function(t,i){var r=na(t,ta);n.ps(r,i)},removeEventListener:function(t,i){var r=na(t,ta);n.Ts(r,i)}};return n=new Hi(r),t.ps(i,function(t){return n.ys(t.Bc)}),r}function Fv(){}function Hv(t){return Go(Uv(t),{get align(){return t.Bk},get line(){return t.Lk},get lineAlign(){return t.Mk},get position(){return t.Uk},get positionAlign(){return t.Fk},get region(){return t.Hk?t.Hk.Bc:null},get size(){return t.zs},get snapToLines(){return t.Vk},get text(){return t.Pk},get vertical(){return t.Xk}})}var Vv=.02;function Xv(t,n){return Pt(t.Ok,n.Ok,Vv)&&Pt(t.xk,n.xk,Vv)&&t.Th===n.Th}var Wv=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).Pc=void 0,s.Wk=void 0,s.qk=!1,s.zk="",s.Gk=-1,s.jk=n,s.Qk=i,s.Yk=r,s.Zk=Boolean(e),s.kk=u||(Av++).toString(),s}qt(n,t);var i=n.prototype;return i.Lc=function(){return Uv(this)},i.hm=function(t){return this===t||Yo(this,t)&&Xv(this,t)},i.vh=function(){this.bs()},T(n,[{key:"Ok",get:function(){return this.jk},set:function(t){this.jk=t}},{key:"xk",get:function(){return this.Qk},set:function(t){this.Qk=t}},{key:"Th",get:function(){return this.kk},set:function(t){this.kk=t}},{key:"Bc",get:function(){return this.Pc||(this.Pc=this.Lc()),this.Pc}},{key:"Jk",get:function(){return this.qk},set:function(t){this.qk=t}},{key:"Mc",get:function(){return this.Wk},set:function(t){this.Wk=t}},{key:"Pk",get:function(){return this.Yk},set:function(t){this.Yk=t}},{key:"$k",get:function(){return this.zk},set:function(t){this.zk=t}},{key:"Kk",get:function(){return this.Zk},set:function(t){this.Zk=t}}]),n}(Fi);function qv(t,n){return t.Pk===n.Pk&&t.Lk===n.Lk&&t.Mk===n.Mk&&t.Uk===n.Uk&&t.Fk===n.Fk&&t.Hk===n.Hk&&t.Vk===n.Vk&&t.zs===n.zs&&t.Bk===n.Bk&&t.Xk===n.Xk}var zv=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n,i,r,e,u)||this).Lk="auto",s.Mk="start",s.Uk="auto",s.Fk="auto",s.Hk=void 0,s.Vk=!0,s.zs=100,s.Bk="center",s.Xk="",s}return qt(n,t),n.prototype.hm=function(n){return this===n||Yo(this,n)&&t.prototype.hm.call(this,n)&&qv(this,n)},T(n,[{key:"Bc",get:function(){return this.Pc||(this.Pc=Hv(this)),this.Pc}},{key:"Pu",get:function(){return Rv.Sk}}]),n}(Wv);function Gv(t){var n="number"==typeof t.Lk?t.Lk:y(t.Lk);return m(n)||t.Vk||!(n<0||n>100)?m(n)?t.Vk?-1:100:n:100}function jv(t){return Bv(t.Uk,t.Bk)}function Qv(t){return Pv(t.Fk,t.Bk)}function Yv(t){var n=100,i=Qv(t),r=jv(t);return"line-left"===i&&(n=100-r),"line-right"===i&&(n=r),"center"===i&&r<=50&&(n=2*r),"center"===i&&r>50&&(n=2*(100-r)),t.zs<n?t.zs:n}function Zv(t){return{get id(){return t.Th},get identifier(){return t.Th},get lines(){return t.tp},get regionAnchorX(){return t.np},get regionAnchorY(){return t.ip},get scrollValue(){return t.rp},get viewportAnchorX(){return t.ep},get viewportAnchorY(){return t.sp},get width(){return t.Ja}}}var Jv=function(){function t(t,n,i,r,e,u,s,o){this.Th=t,this.Ja=n,this.tp=i,this.np=r,this.ip=e,this.ep=u,this.sp=s,this.rp=o}return T(t,[{key:"Bc",get:function(){return this.Pc||(this.Pc=Zv(this)),this.Pc}},{key:"Pu",get:function(){return Rv.Rk}}]),t}(),$v=function(){function t(){}var n=t.prototype;return n.op=function(t){return this.ap()*t},n.cp=function(t){return this.fm(t)>0},n.hp=function(t){return this.fm(t)>=0},n.fp=function(t,n){return this.Im(t)._m(n)},n.hm=function(t){return 0===this.fm(t)},n.lm=function(t){return this.fm(t)<0},n._m=function(t){return this.fm(t)<=0},n.vp=function(){return this.dp()?this.lp():this},n.Gm=function(t){return this.Bm(t.lp())},n.Im=function(t){return this.Gm(t).vp()},t}();function Kv(t,n){return t._p()?n._p()?Ef.Ky:Ef.tm:n._p()?Ef.nm:t.gp()?n.gp()&&t.dp()===n.dp()?Ef.Ky:t.dp()?Ef.nm:Ef.tm:n.dp()?Ef.tm:Ef.nm}var td=function(){function t(t,n){this.wp=t,this.yp=n}t.mp=function(n,i,r){return r?new t(n.toUnsigned(),i.toUnsigned()):new t(n.toSigned(),i.toSigned())},t.kp=function(n){return n.unsigned?new t(n,Ct.UZERO):new t(n,n.isNegative()?Ct.NEG_ONE:Ct.ZERO)},t.pp=function(n,i){if(m(n))return i?t.Ap:t.bp;if(i){if(n<0)return t.Ap;if(n>=3.402823669209385e38)return t.Tp}else{if(n<=-1.7014118346046923e38)return t.Ep;if(n+1>=1.7014118346046923e38)return t.Sp}return n<0?t.pp(-n,i).lp():t.mp(Ct.fromNumber(n%0x10000000000000000),Ct.fromNumber(n/0x10000000000000000),i)};var n=t.prototype;return n.Rp=function(){return this.yp.unsigned},n.Ip=function(){return this.wp.isZero()&&this.yp.isZero()},n.dp=function(){return this.yp.isNegative()},n.Np=function(){return this.Rp()?t.mp(this.wp,this.yp,!1):this},n.Dp=function(){return this.Rp()?this:t.mp(this.wp,this.yp,!0)},n.Cp=function(){return this.wp},n.ap=function(){return this.dp()?-this.lp().ap():0x10000000000000000*this.yp.toNumber()+this.wp.toUnsigned().toNumber()},n.Op=function(){return this.wp.toInt()},n.hm=function(t){return(this.Rp()===t.Rp()||this.yp.getHighBits()>>>31!=1||t.yp.getHighBits()>>>31!=1)&&(this.yp.toUnsigned().eq(t.yp.toUnsigned())&&this.wp.toUnsigned().eq(t.wp.toUnsigned()))},n.fm=function(t){if(this.hm(t))return Ef.Ky;var n=this.dp(),i=t.dp();if(n&&!i)return Ef.nm;if(!n&&i)return Ef.tm;if(!this.Rp())return this.Gm(t).dp()?Ef.nm:Ef.tm;var r=this.Dp(),e=t.Dp(),u=e.yp.comp(r.yp);return u>0||0===u&&e.wp.gt(r.wp)?Ef.nm:Ef.tm},n.lm=function(t){return this.fm(t)<0},n._m=function(t){return this.fm(t)<=0},n.vm=function(t){return this.fm(t)>0},n.dm=function(t){return this.fm(t)>=0},n.xp=function(){return new t(this.wp.not(),this.yp.not())},n.Pp=function(n){return new t(this.wp.and(n.wp),this.yp.and(n.yp))},n.Bp=function(n){return new t(this.wp.or(n.wp),this.yp.or(n.yp))},n.Lp=function(n){var i=127&n;return 0===i?this:i<64?t.mp(this.wp.shl(i),this.yp.shl(i).or(this.wp.shru(64-i)),this.Rp()):t.mp(Ct.ZERO,this.wp.shl(i-64),this.Rp())},n.Mp=function(n){var i=127&n;return 0===i?this:i<64?t.mp(this.wp.shru(i).or(this.yp.shl(64-i)),this.yp.shr(i),this.Rp()):t.mp(this.yp.shr(i-64),this.yp.isNegative()?Ct.NEG_ONE:Ct.ZERO,this.Rp())},n.Up=function(n){var i=127&n;return 0===i?this:i<64?t.mp(this.wp.shru(i).or(this.yp.shl(64-i)),this.yp.shru(i),this.Rp()):64===i?t.mp(this.yp,Ct.ZERO,this.Rp()):t.mp(this.yp.shru(i-64),Ct.ZERO,this.Rp())},n.Bm=function(n){var i=this.yp.high>>>16,r=65535&this.yp.high,e=this.yp.low>>>16,u=65535&this.yp.low,s=this.wp.high>>>16,o=65535&this.wp.high,a=this.wp.low>>>16,c=65535&this.wp.low,h=n.yp.high>>>16,f=65535&n.yp.high,v=n.yp.low>>>16,d=65535&n.yp.low,l=n.wp.high>>>16,_=65535&n.wp.high,g=n.wp.low>>>16,w=0,y=0,m=0,k=0,p=0,A=0,b=0,T=0;b+=(T+=c+(65535&n.wp.low))>>>16,T&=65535,A+=(b+=a+g)>>>16,b&=65535,p+=(A+=o+_)>>>16,A&=65535,k+=(p+=s+l)>>>16,p&=65535,m+=(k+=u+d)>>>16,k&=65535,y+=(m+=e+v)>>>16,m&=65535,w+=(y+=r+f)>>>16,y&=65535,w+=i+h,w&=65535;var E=this.Rp(),S=Ct.fromBits(m<<16|k,w<<16|y,E),R=Ct.fromBits(b<<16|T,p<<16|A,E);return t.mp(R,S,E)},n.Gm=function(t){return this.Bm(t.lp())},n.lp=function(){return this.xp().Bm(t.Fp)},n.Hp=function(n){if(this.Ip()||n.Ip())return this.Rp()?t.Ap:t.bp;if(this.dp())return n.dp()?this.lp().Hp(n.lp()):this.lp().Hp(n).lp();if(n.dp())return this.Hp(n.lp()).lp();if(this.yp.isZero()&&0===this.wp.high&&n.yp.isZero()&&0===n.wp.high)return t.kp(this.wp.multiply(n.wp));var i=Ct.fromBits(4294967295,0,!0),r=this.wp.and(i),e=this.wp.shru(32),u=this.yp.and(i),s=this.yp.shru(32),o=n.wp.and(i),a=n.wp.shru(32),c=n.yp.and(i),h=n.yp.shru(32),f=Ct.UZERO,v=Ct.UZERO,d=Ct.UZERO,l=Ct.UZERO;f=f.add(r.mul(o)),v=v.add(f.shru(32)),f=f.and(i),v=v.add(e.mul(o)),d=d.add(v.shru(32)),v=(v=v.and(i)).add(r.mul(a)),d=d.add(v.shru(32)),v=v.and(i),d=d.add(u.mul(o)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(e.mul(a)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(r.mul(c)),l=l.add(d.shru(32)),d=d.and(i),l=l.add(s.mul(o)).add(u.mul(a)).add(e.mul(c)).add(r.mul(h)).and(i);var _=Ct.fromBits(f.getLowBitsUnsigned(),v.getLowBitsUnsigned(),!0),g=Ct.fromBits(d.getLowBitsUnsigned(),l.getLowBitsUnsigned(),!0);return t.mp(_,g,this.Rp())},n.Vp=function(n){var i,r,e=n;if(e.Ip())throw new RangeError("division by zero");if(this.Ip())return this.Rp()?[t.Ap,t.Ap]:[t.bp,t.bp];if(this.Rp()){if(e.Rp()||(e=e.Dp()),e.vm(this))return[t.Ap,this];if(e.vm(this.Up(1)))return[r=t.Xp,i=this.Gm(e)];r=t.Ap}else{if(this.hm(t.Ep)){if(e.hm(t.Fp)||e.hm(t.Wp))return[t.Ep,t.bp];if(e.hm(t.Ep))return[t.Fp,t.bp];var u=this.Mp(1).qp(e).Lp(1);return u.hm(t.bp)?r=e.dp()?t.Fp:t.Wp:(i=this.Gm(e.Hp(u)),r=u.Bm(i.qp(e))),[r,i=this.Gm(e.Hp(r))]}if(e.hm(t.Ep))return this.Rp()?[t.Ap,this]:[t.bp,this];if(this.dp()){if(e.dp())return this.lp().Vp(e.lp());var s=this.lp().Vp(e);return r=s[0],i=s[1],[r.lp(),i.lp()]}if(e.dp()){var o=this.Vp(e.lp());return r=o[0],i=o[1],[r.lp(),i.lp()]}r=t.bp}for(i=this;i.dm(e);){for(var a=g.max(1,g.floor(i.ap()/e.ap())),c=g.ceil(g.log(a)/g.LN2),h=c<=48?1:g.pow(2,c-48),f=t.pp(a),v=f.Hp(e);v.dp()||v.vm(i);)a-=h,v=(f=t.pp(a,this.Rp())).Hp(e);f.Ip()&&(f=t.Fp),r=r.Bm(f),i=i.Gm(v)}return[r,i]},n.qp=function(t){return this.Vp(t)[0]},n.zp=function(t){return this.Vp(t)[1]},n.toString=function(n){var i=n||10;if(i<2||i>36)throw new RangeError("radix");if(this.Ip())return"0";if(this.dp()){if(this.hm(t.Ep)){var r=t.pp(i),e=this.qp(r),u=e.Hp(r).Gm(this);return e.toString(i)+u.Op().toString(i)}return"-"+this.lp().toString(i)}for(var s=t.pp(g.pow(i,6),this.Rp()),o=this,a="";;){var c=o.qp(s),h=(o.Gm(c.Hp(s)).Op()>>>0).toString(i);if((o=c).Ip())return h+a;for(;h.length<6;)h="0"+h;a=String(h)+a}},t}();td.bp=td.kp(Ct.ZERO),td.Ap=td.kp(Ct.UZERO),td.Fp=td.kp(Ct.ONE),td.Xp=td.kp(Ct.UONE),td.Wp=td.kp(Ct.NEG_ONE),td.Sp=td.mp(Ct.NEG_ONE,Ct.MAX_VALUE,!1),td.Tp=td.mp(Ct.MAX_UNSIGNED_VALUE,Ct.MAX_UNSIGNED_VALUE,!0),td.Ep=td.mp(Ct.ZERO,Ct.MIN_VALUE,!1);var nd=function(){function t(t,n){void 0===n&&(n=1),this.Gp=t,this.yg=n}t.jp=function(n){return new t(g.ceil(n.Gp),n.yg)},t.Qp=function(n){return new t(g.floor(n.Gp),n.yg)},t.wm=function(t,n){return t.hp(n)?t:n},t.gm=function(t,n){return t._m(n)?t:n};var n=t.prototype;return n.Bm=function(n){return this.yg>=n.yg?new t(this.Gp+n.Yp(this.yg).Gp,this.yg):new t(this.Yp(n.yg).Gp+n.Gp,n.yg)},n.cp=function(t){return t.lm(this)},n.hp=function(t){return t._m(this)},n.Im=function(n){return this.yg>=n.yg?new t(g.abs(this.Gp-n.Yp(this.yg).Gp),this.yg):n.Im(this)},n.fp=function(t,n){return this.Im(t)._m(n)},n.fm=function(t){return i=t,(n=this).yg>=i.yg?Df(n.Gp,i.Yp(n.yg).Gp):Df(n.Yp(i.yg).Gp,i.Gp);var n,i},n.hm=function(t){return 0===this.fm(t)},n.lm=function(t){return this.fm(t)<0},n._m=function(t){return this.fm(t)<=0},n.Yp=function(n){return new t(this.Gp*(n/this.yg),n)},n.Gm=function(n){return this.yg>=n.yg?new t(this.Gp-n.Yp(this.yg).Gp,this.yg):new t(this.Yp(n.yg).Gp-n.Gp,n.yg)},n.Zp=function(n){return new t(this.Gp*n,this.yg)},T(t,[{key:"gp",get:function(){return!isFinite(this.Gp)}},{key:"tk",get:function(){return this.Gp/this.yg}}]),t}();nd.Jp=new nd(1/6,1),nd.bp=new nd(0),nd.$p=new nd(1/0),nd.Kp=1e6;var id=function(t){function n(n,i){var r;return(r=t.call(this)||this).Pn=n.toSigned(),r.yg=i>>>0,r}qt(n,t),n.tA=function(t,i){return void 0===i&&(i=1e6),n.pp(t*i,i)},n.pp=function(t,i){return m(t)?n.nA:t===1/0?n.iA:t===-1/0?n.rA:new n(Ct.fromNumber(t),i)},n.kp=function(t,i){return new n(t,i)},n.eA=function(t){return n.tA(t.tk,1e6)},n.uA=function(t){return new n(Ct.fromNumber(t.getTime()),1e3)},n.wm=function(t,n){return t.hp(n)?t:n},n.gm=function(t,n){return t._m(n)?t:n},n.sA=function(t,i,r){return n.wm(i,n.gm(r,t))};var i=n.prototype;return i.dp=function(){return this.Pn.isNegative()},i.Ip=function(){return 0!==this.yg&&this.Pn.isZero()},i.gp=function(){return 0===this.yg&&!this.Pn.isZero()},i._p=function(){return 0===this.yg&&this.Pn.isZero()},i.ap=function(){if(0===this.yg)return this.Pn.isZero()?NaN:this.Pn.isNegative()?-1/0:1/0;var t=this.Pn.divide(this.yg),n=this.Pn.subtract(t.multiply(this.yg));return t.toNumber()+n.toNumber()/this.yg},i.Cp=function(){if(0===this.yg)throw new d("Failed to convert timestamp");return this.Pn},i.oA=function(){return new Date(0===this.yg?NaN:this.Yp(1e3).Pn.toNumber())},i.aA=function(){return new nd(0===this.yg?this.ap():this.Pn.toNumber(),this.yg)},i.Yp=function(t,i){void 0===i&&(i=ud.cA);var r=this.yg;if(r===t)return this;if(0===r)return this;var e=Ut(r,t);return new n(function(t,n,i){var r=t.Vp(n),e=r[0],u=r[1];if(u.Ip())return e;if(i===ud.cA)return u.dp()?e.Gm(td.Fp):e;if(i===ud.hA)return u.dp()?e:e.Bm(td.Fp);var s=u.Hp(td.pp(2));return s.dp()?s.lp().lm(n)?e:e.Gm(td.Fp):s.lm(n)?e:e.Bm(td.Fp)}(td.kp(this.Pn).Hp(td.pp(t/e)),td.pp(r/e),i).Cp(),t)},i.fm=function(t){if(this===t)return Ef.Ky;if(0===this.yg||0===t.yg)return Kv(this,t);if(this.Ip())return t.Ip()?Ef.Ky:t.dp()?Ef.tm:Ef.nm;if(t.Ip())return this.dp()?Ef.nm:Ef.tm;var n=g.min(this.yg,t.yg),i=this.Yp(n,ud.fA).Pn,r=t.Yp(n,ud.fA).Pn;return i.compare(r)},i.lp=function(){return 0===this.yg?rd(this):new n(this.Pn.negate(),this.yg)},i.Bm=function(t){if(0===this.yg||0===t.yg)return ed(this,t);if(this.Ip())return t;if(t.Ip())return this;var i=g.max(this.yg,t.yg),r=this.Yp(i,ud.fA),e=t.Yp(i,ud.fA);return new n(r.Pn.add(e.Pn),i)},i.Hp=function(t){if(this._p()||m(t))return n.nA;if(this.gp()||!isFinite(t)){if(this.Ip()||0===t)return n.nA;var i=this.dp()?n.rA:n.iA;return t<0?i.lp():i}return this.Ip()?this:new n(0===t?Ct.ZERO:this.Pn.multiply(t),this.yg)},i.qp=function(t){if(this._p()||m(t))return n.nA;if(this.gp())return isFinite(t)?0===t?1/t<0?this.lp():this:t<0?this.lp():this:n.nA;if(!isFinite(t))return new n(Ct.ZERO,this.yg);if(this.Ip())return 0===t?n.nA:new n(Ct.ZERO,this.yg);if(0===t){var i=this.dp()?n.rA:n.iA;return 1/t<0?i.lp():i}return new n(this.Pn.divide(t),this.yg)},i.vA=function(){return[this.Pn.low,this.Pn.high,this.yg]},n}($v);function rd(t){return t._p()?t:t.dp()?id.iA:id.rA}function ed(t,n){return t._p()||n._p()?id.nA:t.gp()&&n.gp()?t.dp()===n.dp()?t:id.nA:t.gp()?t:n}id.bp=new id(Ct.ZERO,1e6),id.nA=new id(Ct.ZERO,0),id.iA=new id(Ct.ONE,0),id.rA=new id(Ct.NEG_ONE,0);var ud,sd=function(t){function n(n,i){var r;return(r=t.call(this)||this).Pn=BigInt.asIntN(64,n),r.yg=i>>>0,r}qt(n,t),n.tA=function(t,i){return void 0===i&&(i=1e6),n.pp(t*i,i)},n.pp=function(t,i){return m(t)?n.nA:t===1/0?n.iA:t===-1/0?n.rA:new n(BigInt(g.floor(t)),i)},n.kp=function(t,i){return new n(BigInt(t.high)<<BigInt(32)|BigInt(t.low>>>0),i)},n.eA=function(t){return n.tA(t.tk,1e6)},n.uA=function(t){return n.pp(t.getTime(),1e3)},n.wm=function(t,n){return t.hp(n)?t:n},n.gm=function(t,n){return t._m(n)?t:n},n.sA=function(t,i,r){return n.wm(i,n.gm(r,t))};var i=n.prototype;return i.dp=function(){return this.Pn<BigInt(0)},i.Ip=function(){return 0!==this.yg&&this.Pn===BigInt(0)},i.gp=function(){return 0===this.yg&&this.Pn!==BigInt(0)},i._p=function(){return 0===this.yg&&this.Pn===BigInt(0)},i.ap=function(){if(0===this.yg)return this.Pn===BigInt(0)?NaN:this.Pn<BigInt(0)?-1/0:1/0;var t=this.Pn/BigInt(this.yg),n=this.Pn-t*BigInt(this.yg);return Number(t)+Number(n)/this.yg},i.Cp=function(){if(0===this.yg)throw new d("Failed to convert timestamp");return this.dA()},i.dA=function(){var t=this.Pn&BigInt(4294967295),n=this.Pn>>BigInt(32)&BigInt(4294967295);return Ct.fromBits(Number(t),Number(n))},i.oA=function(){return new Date(0===this.yg?NaN:Number(this.Yp(1e3).Pn))},i.aA=function(){return new nd(0===this.yg?this.ap():Number(this.Pn),this.yg)},i.Yp=function(t,i){void 0===i&&(i=ud.cA);var r=this.yg;if(r===t)return this;if(0===r)return this;var e=Ut(r,t);return new n(function(t,n,i){var r=t/n,e=t-r*n;if(e===BigInt(0))return r;if(i===ud.cA)return e<BigInt(0)?r-BigInt(1):r;if(i===ud.hA)return e<BigInt(0)?r:r+BigInt(1);var u=e*BigInt(2);return u<BigInt(0)?-u<n?r:r-BigInt(1):u<n?r:r+BigInt(1)}(this.Pn*BigInt(t/e),BigInt(r/e),i),t)},i.fm=function(t){if(this===t)return Ef.Ky;if(0===this.yg||0===t.yg)return Kv(this,t);if(this.Ip())return t.Ip()?Ef.Ky:t.dp()?Ef.tm:Ef.nm;if(t.Ip())return this.dp()?Ef.nm:Ef.tm;var n=g.min(this.yg,t.yg),i=this.Yp(n,ud.fA).Pn,r=t.Yp(n,ud.fA).Pn;return i>r?Ef.tm:i<r?Ef.nm:Ef.Ky},i.lp=function(){return 0===this.yg?od(this):new n(-this.Pn,this.yg)},i.Bm=function(t){if(0===this.yg||0===t.yg)return ad(this,t);if(this.Ip())return t;if(t.Ip())return this;var i=g.max(this.yg,t.yg),r=this.Yp(i,ud.fA),e=t.Yp(i,ud.fA);return new n(r.Pn+e.Pn,i)},i.Hp=function(t){if(this._p()||m(t))return n.nA;if(this.gp()||!isFinite(t)){if(this.Ip()||0===t)return n.nA;var i=this.dp()?n.rA:n.iA;return t<0?i.lp():i}return this.Ip()?this:new n(0===t?BigInt(0):this.Pn*BigInt(t),this.yg)},i.qp=function(t){if(this._p()||m(t))return n.nA;if(this.gp())return isFinite(t)?0===t?1/t<0?this.lp():this:t<0?this.lp():this:n.nA;if(!isFinite(t))return new n(BigInt(0),this.yg);if(this.Ip())return 0===t?n.nA:new n(BigInt(0),this.yg);if(0===t){var i=this.dp()?n.rA:n.iA;return 1/t<0?i.lp():i}return new n(this.Pn/BigInt(t),this.yg)},i.vA=function(){var t=this.dA();return[t.low,t.high,this.yg]},T(n,null,[{key:"bp",get:function(){return n.lA||(n.lA=new n(BigInt(0),1e6)),n.lA}},{key:"nA",get:function(){return n._A||(n._A=new n(BigInt(0),0)),n._A}},{key:"iA",get:function(){return n.gA||(n.gA=new n(BigInt(1),0)),n.gA}},{key:"rA",get:function(){return n.wA||(n.wA=new n(BigInt(-1),0)),n.wA}}]),n}($v);function od(t){return t._p()?t:t.dp()?sd.iA:sd.rA}function ad(t,n){return t._p()||n._p()?sd.nA:t.gp()&&n.gp()?t.dp()===n.dp()?t:sd.nA:t.gp()?t:n}sd.lA=void 0,sd._A=void 0,sd.gA=void 0,sd.wA=void 0,function(t){t[t.cA=0]="cA",t[t.hA=1]="hA",t[t.fA=2]="fA"}(ud||(ud={}));var cd=function(){try{return"function"==typeof BigInt&&"bigint"==typeof BigInt(0)}catch(t){return!1}}()?sd:id;function hd(t,n){return t.fm(n)}function fd(t){return cd.kp(Ct.fromBits(t[0],t[1],!1),t[2])}var vd=9e4,dd=g.pow(2,33),ld=cd.pp(dd,vd),_d=ld.qp(2);function gd(t){return null!=t&&!t._p()}function wd(t,n){return t.gp()||n.gp()?cd.wm(t,n):kd(t,n).cp(cd.bp)?t:n}function yd(t,n){var i=t.Gm(n);return i.lm(cd.bp)&&(i=i.Bm(ld)),i}function md(t,n){var i=t.Bm(n);return i.hp(ld)&&(i=i.Gm(ld)),i}function kd(t,n){var i=t.Gm(n);return t.gp()||n.gp()?i:(i.hp(_d)?i=i.Gm(ld):i.lm(_d.lp())&&(i=i.Bm(ld)),i)}function pd(t,n){if(t||n)return t?n?cd.gm(t,n):t:n}function Ad(t,n){if(t||n)return t?n?cd.wm(t,n):t:n}var bd={yA:0,mA:1/0,kA:0},Td=6,Ed=["WEBVTT ","WEBVTT\t","WEBVTT\n"],Sd=[" ","\t","\n","\f","\r"],Rd=/^\d*$/,Id=/.*[0-9]+.*/,Nd=/^[\d.-]+$/,Dd=/(^\.|\.$)/,Cd=/(\D\.|\.\D)/;function Od(t,n){void 0===n&&(n=bd);var i={Uh:[],pA:[],AA:[]},r=xd(t),e=new ee;if(Wd(r),Pd(r,function(t){return"\n"!==t},e),e.Zs>=r.length)return i;(e.js(1),"\n"!==r.charAt(e.Zs))?Ud(Bd(r,e,!1,!0,i,n),i):e.js(1);for(Pd(r,function(t){return"\n"===t},e);e.Zs<r.length;){Ud(Bd(r,e,!1,!1,i,n),i),Pd(r,function(t){return"\n"===t},e)}return i}function xd(t){var n=Gn(t,"\0"," "),i=Gn(n,"\r\n","\n");return Gn(i,"\r","\n")}function Pd(t,n,i){for(var r=i.Zs;i.Zs<t.length&&n(t.charAt(i.Zs));)i.js(1);return t.substring(r,i.Zs)}function Bd(t,n,i,e,u,s){for(var o,a=0,c=n.Zs,h="",f=!1,v=!1,d=null,l=null,_=null;!f;)if(o=Pd(t,function(t){return"\n"!==t},n),a++,n.Zs>=t.length?f=!0:n.js(1),jn(o,"--\x3e")){if(e||1!==a&&(2!==a||v)){n.Qs(c);break}v=!0,c=n.Zs,d=new zv(0,0,"",!1,h);try{Fd(o,u.pA,d,s),h=""}catch(t){r.hc(t),d=null}}else{if(""===o)break;e&&Qn(o,"X-TIMESTAMP-MAP")&&(u.bA=Ld(o)),e||2!==a||i||(Zn("STYLE",h.replace(/ /g,""))?(l={Pu:Rv.Ik},h=""):Zn("REGION",h.replace(/ /g,""))&&(_=new Jv("",100,3,0,100,0,100,""),h="")),h&&(h+="\n"),h+=o,c=n.Zs}if(d)return d.Pk=h,d;if(l);else if(_)return function(t,n){for(var i=t.split(/\s/),r=0;r<i.length;r++){var e=i[r];if(0!==e.length&&jn(e,":")&&":"!==e.charAt(0)&&":"!==e.charAt(e.length-1)){var u=e.indexOf(":"),s=e.substring(0,u),o=e.substring(u+1,e.length);switch(s.toUpperCase()){case"ID":tl(o,n);break;case"WIDTH":rl(o,n);break;case"LINES":il(o,n);break;case"REGIONANCHOR":var a=Kd(o);a&&(n.np=a[0],n.ip=a[1]);break;case"VIEWPORTANCHOR":var c=Kd(o);c&&(n.ep=c[0],n.sp=c[1]);break;case"SCROLL":nl(o,n)}}}}(h,_),_;return null}function Ld(t){var n,i,r=t.split("=")[1].trim().split(","),e=Md(r[0].trim(),"MPEGTS")?r[0]:r[1],u=Md(r[0].trim(),"LOCAL")?r[0]:r[1];return{TA:(i=Number(e.split(/:(.*)/)[1].trim())||0,cd.pp(i,vd)),EA:cd.tA(null!==(n=Xd(u.split(/:(.*)/)[1].trim(),new ee))&&void 0!==n?n:0)}}function Md(t,n){return Qn(t,n)}function Ud(t,n){t&&function(t){return t.Pu===Rv.Sk}(t)?n.Uh.push(t):t&&function(t){return t.Pu===Rv.Rk}(t)?n.pA.push(t):t&&function(t){return t.Pu===Rv.Ik}(t)&&n.AA.push(t)}function Fd(t,n,i,r){var e=new ee;if(qd(t,e),i.Ok=Hd(Xd(t,e),r),qd(t,e),"--\x3e"!==t.substring(e.Zs,e.Zs+3))throw d("Something went wrong with parsing a WebVTT Cue");e.js(3),qd(t,e),i.xk=Hd(Xd(t,e),r),function(t,n,i){for(var r=t.split(/\s/),e=0;e<r.length;e++){var u=r[e];if(0!==u.length&&jn(u,":")&&":"!==u.charAt(0)&&":"!==u.charAt(u.length-1)){var s=u.indexOf(":"),o=u.substring(0,s),a=u.substring(s+1,u.length);switch(o.toUpperCase()){case"REGION":Yd(a,n,i);break;case"VERTICAL":Jd(a,n);break;case"D":$d(a,n);break;case"LINE":case"L":jd(a,n);break;case"POSITION":case"T":Qd(a,n);break;case"SIZE":case"S":Zd(a,n);break;case"ALIGN":case"A":Gd(a,n)}}}}(t.substring(e.Zs,t.length),i,n)}function Hd(t,n){return t+n.yA}function Vd(t){return/^[0-9]$/.test(t)}function Xd(t,n){var i,r,e,u=Gn(t,",","."),s=!1;if(n.Zs>=u.length||!Vd(u.charAt(n.Zs)))throw new d("Something went wrong with parsing a WebVTT Cue timestamp");var o=Pd(u,Vd,n),a=w(o,10);if((o.length>2||a>59)&&(s=!0),n.Zs>=u.length||":"!==u.charAt(n.Zs))throw new d("Something went wrong with parsing a WebVTT Cue timestamp");n.js(1);var c=Pd(u,Vd,n);if(2!==c.length)throw new d("Something went wrong with parsing a WebVTT Cue timestamp");var h=w(c,10);if(s||n.Zs<u.length&&":"===u.charAt(n.Zs)){if(n.Zs>=u.length||":"!==u.charAt(n.Zs))throw new d("Something went wrong with parsing a WebVTT Cue timestamp");n.js(1);var f=Pd(u,Vd,n);if(2!==c.length)throw new d("Something went wrong with parsing a WebVTT Cue timestamp");i=a,r=h,e=w(f,10)}else i=0,r=a,e=h;if(n.Zs>=u.length||"."!==u.charAt(n.Zs))throw new d("Something went wrong with parsing a WebVTT Cue timestamp");n.js(1);var v=Pd(u,Vd,n),l=w(v,10);if(h>59||e>59)throw new d("Something went wrong with parsing a WebVTT Cue timestamp");return 60*i*60+60*r+e+l/1e3}function Wd(t){if(t.length<Td)return!1;for(var n=0;n<Ed.length;n++){if(Qn(t,Ed[n]))return!0}return!1}function qd(t,n){for(;n.Zs<t.length&&(i=t.charAt(n.Zs),li(Sd,i));)n.js(1);var i}function zd(t){var n=t.lastIndexOf("%");if(n>-1){var i=y(t.substring(0,n));if(!m(i)&&i>=0&&i<=100)return i}return null}function Gd(t,n){var i=t.toLowerCase();switch(i){case"start":case"center":case"end":case"left":case"right":n.Bk=i;break;case"middle":n.Bk="center"}}function jd(t,n){var i=t,r="";if(jn(t,",")&&(i=t.substring(0,t.indexOf(",")),r=t.substring(t.indexOf(",")+1,t.length)),Id.test(i)){var e;if(Yn(i,"%")){var u=zd(i);if(null===u)return;e=u}else{if(!Nd.test(t)||t.lastIndexOf("-")>0||t.indexOf(".")!==t.lastIndexOf(".")||!Cd.test(t)||Dd.test(t))return;if(e=y(t),m(e))return}switch(n.Lk=e,n.Vk=Yn(i,"%"),r=t.toLowerCase()){case"start":case"center":case"end":n.Mk=r;break;case"middle":n.Mk="center"}}}function Qd(t,n){var i=t,r="";jn(t,",")&&(i=t.substring(0,t.indexOf(",")),r=t.substring(t.indexOf(",")+1,t.length));var e=zd(i);if(null!==e)switch(n.Uk=e,r=r.toLowerCase()){case"line-left":case"center":case"line-right":case"auto":n.Fk=r;break;case"start":n.Fk="line-left";break;case"middle":n.Fk="center";break;case"end":n.Fk="line-right"}}function Yd(t,n,i){for(var r=i.length-1;r>=0;r--)if(i[r].Th===t)return void(n.Hk=i[r])}function Zd(t,n){var i=zd(t);null!==i&&(n.zs=i)}function Jd(t,n){switch(t.toLowerCase()){case"rl":case"vertical:rl":case"vertical-rl":n.Xk="rl";break;case"lr":case"vertical:lr":case"vertical-lr":n.Xk="lr";break;default:n.Xk=""}}function $d(t,n){"VERTICAL"===t.toUpperCase()?n.Xk="rl":"VERTICAL-LR"===t.toUpperCase()&&(n.Xk="lr")}function Kd(t){if(t.indexOf(",")>=0){var n=zd(t.substring(0,t.indexOf(","))),i=zd(t.substring(t.indexOf(",")+1,t.length));return[xt(n||0,0,100),xt(i||100,0,100)]}return null}function tl(t,n){n.Th=t}function nl(t,n){"up"===t.toLowerCase()&&(n.rp="up")}function il(t,n){Rd.test(t)&&(n.tp=w(t))}function rl(t,n){var i=zd(t);null!==i&&(n.Ja=i)}function el(t){return t&&"Xn"in t?t.Xn:t}var ul=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this,n,i,r,e)||this).SA=u,a.RA=s,a.IA=o||void 0,a}return qt(n,t),n.prototype.hm=function(n){return this===n||!!Yo(this,n)&&(!!t.prototype.hm.call(this,n)&&(!!Qo(this.NA,n.NA)&&(!!Qo(this.pA,n.pA)&&(this.DA&&n.DA?!!this.DA.In(n.DA)&&(this.Pk&&n.Pk?this.Pk.In(n.Pk):this.Pk===n.Pk):this.DA===n.DA))))},T(n,[{key:"NA",get:function(){return this.SA}},{key:"pA",get:function(){return this.RA}},{key:"DA",get:function(){return this.IA}},{key:"Bc",get:function(){var t;return this.Pc||(this.Pc=Go(Uv(t=this),{get styles(){return t.NA},get regions(){return t.pA},get metadata(){return el(t.DA)},get content(){return el(t.Pk)}})),this.Pc}}]),n}(Wv),sl=function(){function t(t,n,i){this.CA=t,this.OA=n,zt(i)?this.xA=function(t,n,i){for(var r=0,e=["begin","end","dur"];r<e.length;r++){var u=e[r];i.Gn(u)}return i}(0,0,i):this.xA=i}return T(t,[{key:"PA",get:function(){return this.xA.Nn(!0)}},{key:"Ok",get:function(){return this.CA}},{key:"xk",get:function(){return this.OA}}]),t}();var ol={VIDEO_H264:"video/avc",VIDEO_H265:"video/hevc",VIDEO_MP4:"video/mp4",VIDEO_MPEG:"video/mpeg",VIDEO_MPEG2:"video/mpeg2",VIDEO_UNKNOWN:"video/x-unknown",AUDIO_AAC:"audio/mp4a-latm",AUDIO_MP4:"audio/mp4",AUDIO_UNKOWN:"audio/x-unknown",IMAGE_JPEG:"image/jpeg",APPLICATION_TTML_XML:"application/ttml+xml",APPLICATION_MP4:"application/mp4",TEXT_VTT:"text/vtt"};function al(t){return jn(t,ol.APPLICATION_MP4)||jn(t,ol.VIDEO_MP4)||jn(t,ol.AUDIO_MP4)}var cl=function(){function t(t,n){this.Pu=t,this.BA=n}return t.prototype.LA=function(t){for(var n=0,i=this.BA;n<i.length;n++){var r=i[n],e=r[0],u=r[1];if(e.toLowerCase()===t.toLowerCase())return u}},t}();function hl(t){var n=t.trim(),i=n.indexOf(";");if(i<0)return new cl(n,[]);for(var r=n.substr(0,i).trim(),e=n.substr(i+1).trim(),u=[],s=0,o=!1,a=0;a<e.length;a++){var c=e[a];if(o||";"!==c)'"'===c&&(o=!o);else{var h=fl(e.substr(s,a));h&&u.push(h),s=a+1}}if(s!==e.length){var f=fl(e.substr(s));f&&u.push(f)}return new cl(r,u)}function fl(t){var n=t.indexOf("=");if(!(n<0)){var i=t.substr(0,n).trim(),r=t.substr(n+1).trim();return'"'===r[0]&&(r=r.substring(1,r.length-1)),[i,r]}}var vl="http://www.w3.org/XML/1998/namespace";function dl(t,n){return function(t,n){var i=t.Wn.slice(),r=[];for(;i.length>0;){var e=i.shift();n(e)?r.push(e):i.push.apply(i,e.Wn)}return r}(t,function(t){return t.Fn===n})}function ll(t,n){for(var i=t,r=0;r<n.length;r++){var e=n[r];i=i.replace(e+":","")}return i}function _l(t,n){for(var i=t.Zn,r={},e=0;e<i.length;e++)r[ll(i[e].Cn,n)]=i[e].Pn;return r}var gl=/^(\d\d+):(\d\d):(\d+)((\.(\d+))?|(:(\d\d+)(\.(\d+))?))$/,wl=/^(\d+)(\.(\d+))?(h|m|s|ms|f|t)$/;function yl(t,n,i){return void 0===i&&(i=bd),function(t,n,i){var e=[],u=r.Sn(t);if(!u)return e;var s=u.Kn;if("tt"!==s.Fn)return e;var o=s&&s.Mn("head")[0],a=s&&s.Mn("body")[0],c=["ebutts","tts","xml"];if(!a||!o)return e;for(var h=function(t,n){for(var i={},r=t.Mn("styling")[0],e=r&&r.Mn("style")||[],u=0;u<e.length;u++){var s=e[u],o=s.zn(vl,"id");i[o]=_l(s,n)}return i}(o,c),f=function(t,n){var i=jo(t),r=Al(n.qn("tts:extent"));if(!r)return i;for(var e=0,u=_.keys(i);e<u.length;e++){var s=u[e],o=Al(i[s].extent);if(o){var a=kl(o[0],r[0]),c=kl(o[1],r[1]);i[s].extent=a+" "+c}var h=Al(i[s].origin);if(h){var f=kl(h[0],r[0]),v=kl(h[1],r[1]);i[s].origin=f+" "+v}}return i}(function(t,n){for(var i={},r=t.Mn("layout")[0],e=r&&r.Mn("region")||[],u=0;u<e.length;u++){var s=e[u],o=s.zn(vl,"id");if(o){i[o]=_l(s,n);var a=El(s,n);for(var c in a)B.call(a,c)&&(i[o][c]=a[c])}}return i}(o,c),s),v=o.Mn("metadata")[0],d=function t(n,i,r,e){var u,s;var o=i;var a;var c=r;var h=[];var f=[];if(zt(n)){o=null!==(u=Tl(n.qn("begin"),e))&&void 0!==u?u:o,a=Tl(n.qn("dur"),0),c=null!==(s=Tl(n.qn("end"),e))&&void 0!==s?s:void 0!==a?o+a:c;for(var v=n.Un,d=0;d<v.length;d++)("body"===n.Dn||"div"===n.Dn)&&v[d].kn>1||(h=h.concat(t(v[d],o,c,e)))}var l=function(t,n,i){var r=[];r.push(t,n);for(var e=0;e<i.length;e++){var u=i[e];r.push(u.Ok,u.xk)}r.sort(If);for(var s=r.length,o=0;o<s-1;o++)r[o+1]===r[o]&&(di(r,o+1),o--,s=r.length);return r}(o,c,h);for(var _=0;_<l.length-1;_++){var g=bl(l[_],l[_+1],h);if(g.length<=0&&Sl(n)){var w=n.Nn(!1);f.push(new sl(l[_],l[_+1],w))}else g.length>0&&function(){var t=n.Nn(!1);g.forEach(function(n){return t.Vn(n.PA)}),f.push(new sl(l[_],l[_+1],t))}()}return f}(a,i.yA,i.mA,i.kA),l=0;l<d.length;l++){var g=d[l],w=ml(f,g);e.push(new ul(g.Ok,g.xk,g.PA,!1,h,w,v))}return e}(t,0,i)}function ml(t,n){for(var i=function t(n){var i=[];var r;if(zt(n)){(r=n.qn("region"))&&i.push(r);for(var e=n.Un,u=0;u<e.length;u++)i=i.concat(t(e[u]))}return i}(n.PA),r={},e=0;e<i.length;e++){var u=i[e];r[u]=t[u]}return r}function kl(t,n){var i=pl(t),r=pl(n);if(i&&r&&i===r){var e=Number(t.slice(0,-i.length)),u=Number(n.slice(0,-r.length));return m(e)||m(u)?t:e/u*100+"%"}return t}function pl(t){return Yn(t,"px")?"px":Yn(t,"em")?"em":Yn(t,"c")?"c":Yn(t,"%")?"%":void 0}function Al(t){if(t){var n=t.split(" ");if(2===n.length)return[n[0],n[1]]}}function bl(t,n,i){for(var r=[],e=0;e<i.length;e++){var u=i[e].Ok,s=i[e].xk;(u>=t&&s<=n||u<n&&s>=n||u<t&&s>t)&&r.push(i[e])}return r}function Tl(t,n){if(t){if(gl.test(t)){var i=gl.exec(t);if(!i)return;var r=Number(i[1])||0,e=Number(i[2])||0,u=Number(i[3])||0,s=i[6];return 3600*r+60*e+u+(s?Number(s)*g.pow(.1,s.length):0)-n}if(wl.test(t)){var o=wl.exec(t);if(!o)return;var a,c=Number(o[1]);switch(o[4]){case"h":a=3600*c;break;case"m":a=60*c;break;case"s":a=c;break;case"ms":a=.001*c;break;case"f":case"t":default:a=NaN}return a-n}}}function El(t,n){for(var i={},r=t.Mn("style")||[],e=0;e<r.length;e++){var u=_l(r[e],n);for(var s in u)B.call(u,s)&&(i[s]=u[s])}return i}function Sl(t){if(zt(t)){var n=t.Dn.toUpperCase(),i=Boolean(t.qn("smpte:backgroundImage"));return"BR"===n||i}return t.kn===Vt.An}function Rl(t){var n=function(t){var n=r.Sn(t);if(n)return n.Kn}(t);return"tt"===(null==n?void 0:n.Dn)}var Il,Nl,Dl=function(t){function n(){return t.apply(this,arguments)||this}qt(n,t);var i=n.prototype;return i.oh=function(n){return t.prototype.oh.call(this,n)},i.ah=function(n){var i=t.prototype.ah.call(this,n);return i&&(n.Lh=aa.Ch),i},i.Lc=function(){return _a(this)},n}(Ho),Cl=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).lg=new Dl,n.MA=function(t){t.Mc.Lh!==aa.Ch?n.UA(t.Mc):n.FA(t.Mc)},n}qt(n,t);var i=n.prototype;return i.oh=function(t){t.ps(xo.Qc,this.MA),this.lg.oh(t)},i.ah=function(t){t.Ts(xo.Qc,this.MA),t.Lh=aa.Ch,this.lg.ah(t)},i.UA=function(t){},i.FA=function(t){},i.HA=function(){for(var t=0,n=this.lg.dh;t<n.length;t++){var i=n[t];i.Ts(xo.Qc,this.MA),i.vh()}},i.fh=function(){return this.HA(),this.lg.fh(),vn.resolve()},i.vh=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.bs(),t.next=3,this.fh();case 3:this.lg.vh();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n}(Fi),Ol=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n,i,u)||this).url=r,s.status=e,s}return qt(n,t),n}(De);function xl(t){switch(t.name){case Il.VA:case Il.XA:case Il.WA:return!0;default:return!1}}function Pl(t){return jn(t,Nl.qA)}function Bl(t){return t.some(Ll)}function Ll(t){return jn(t,Nl.zA)||jn(t,Nl.a_)}function Ml(t,n){return al(t)&&Bl(n)}function Ul(t,n){return!!t&&(al(t)?function(t){return t.some(Pl)}(n)||Bl(n):jn(t,ol.APPLICATION_TTML_XML)||jn(t,ol.TEXT_VTT)||jn(t,ol.IMAGE_JPEG))}function Fl(t,n){return t===Hf.dk||t===Hf.T_&&n===Hf.dk}function Hl(t,n,i,r){for(var e=0,u=t.Uh.dh;e<u.length;e++){var s=u[e];if(s.Ok>i)break;n<=s.xk&&r.push(s)}}function Vl(t,n){return Rf(t.Eh,n.Eh)}function Xl(t,i){var r=i,e=0;if(xl(t)&&t.name===Il.VA)r=t.GA.gd;else if(t.name===Il.XA){var u=t.jA;if(r=u.QA,0===(e=u.YA))return new Ol(n.ErrorCode.SUBTITLE_CORS_ERROR,"Could not load the subtitle file. Make sure the source is set correctly and that CORS support is enabled.",r,e,t)}return new Ol(n.ErrorCode.SUBTITLE_LOAD_ERROR,"Could not load the subtitle file.",r,e,t)}function Wl(t){switch(t){case gf.WEBVTT:return"WebVTT";case gf.SRT:return"SRT";case gf.TTML:return"TTML";default:return""}}function ql(t){return Wd(xd(t))?gf.WEBVTT:Rl(t)?gf.TTML:gf.SRT}!function(t){t.VA="HttpOpenError",t.XA="HttpResponseError",t.WA="HttpTimeoutError"}(Il||(Il={})),function(t){t.zA="vtt",t.a_="wvtt",t.qA="stpp"}(Nl||(Nl={}));var zl=function(t){function n(n){var i;return(i=t.call(this,ca.Ph)||this).errorObject=n,i}return qt(n,t),n.prototype.Lc=function(){return this},T(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(Oo),Gl=function(t){function i(n,i){var r;return(r=t.call(this)||this).ZA=new ki,r.JA=n,r.$A=i,r}qt(i,t);var r=i.prototype;return r.KA=function(t){if(t.src){var n=t.kind||Hf.ck,i=this.JA.nb(n,t.label,t.srclang,t.default);return i.Hh=no(t.src),this.oh(i),i}},r.ib=function(){var t=vn.coroutine(fn.mark(function t(i,r){var e,u,s,o,a,c,h,f,v,d,l;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i.Mh=Sv.LOADING,e=new Mc({gd:i.Hh,kd:Sc.An,md:Dc.GET,ls:r}),t.prev=2,t.next=5,this.$A.GA(e);case 5:return o=t.sent,s=o.YA,t.next=9,o.rb();case 9:u=t.sent,t.next=18;break;case 12:return t.prev=12,t.t0=t.catch(2),Ti(t.t0),i.Mh=Sv.ERROR,i.ys(new zl(Xl(t.t0,i.Hh))),t.abrupt("return");case 18:for(t.prev=18,a=ql(u),i.Pu=a,c=[],a===gf.WEBVTT||a===gf.SRT?(h=Od(u),c=h.Uh):a===gf.TTML&&(c=yl(u)),f=0,v=c;f<v.length;f++)d=v[f],i.eb(d);t.next=33;break;case 26:return t.prev=26,t.t1=t.catch(18),Ti(t.t1),i.Mh=Sv.ERROR,l=Wl(i.Pu),i.ys(new zl(new Ol(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Could not parse the "+l+(l?" ":"")+"subtitle file.",i.Hh,s,t.t1))),t.abrupt("return");case 33:i.Mh=Sv.LOADED;case 34:case"end":return t.stop()}},t,this,[[2,12],[18,26]])}));return function(n,i){return t.apply(this,arguments)}}(),r.UA=function(t){li(this.lg.dh,t)&&t.Mh===Sv.NONE&&this.ib(t,this.ZA.ls).catch(Ei)},r.mo=function(){},r.fh=function(){var n=vn.coroutine(fn.mark(function n(){var i,r,e;return fn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(this.ZA.fs(),this.ZA=new ki,i=0,r=this.lg.dh;i<r.length;i++)e=r[i],this.JA.ub(e);return n.next=5,t.prototype.fh.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i}(Cl);function jl(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.Sh===n&&r.sb)return r}}function Ql(t,n){Yl(jl(t.dh,n))}function Yl(t){void 0!==t&&(t.Lh=aa.xh)}function Zl(t,n){Yl(jl(t.dh,n)||function(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.Sh===n)return r}}(t.dh,n))}function Jl(t){for(var n=0;n<tv.length;n++){var i=tv[n];i===Hf.vk?Zl(t,i):Ql(t,i)}}var $l=function(t){function n(){return t.call(this,Ta.Ef)||this}return qt(n,t),n}(Vi),Kl=function(){function t(t){var n=this;this.ob=[],this.ab=void 0,this.cb=new ki,this.jr=function(){return 0===n.ob.length?n.hb?t_(n.hb,n.cb.ls).then(n.fb,n.fb):n.fb():n.ob.shift()().then(n.jr)},this.fb=function(){if(0!==n.ob.length)return n.jr();n.ab=void 0},this.hb=t}var n=t.prototype;return n.vb=function(t,n){var i=this;return new vn(function(r){var e=new ki;e.vs(i.cb.ls),n&&e.vs(n);var u=function(){e.us()};i.ob.push(function(){var n=t_(t,e.ls);return r(n),n.then(u,u)}),i.ab||(i.ab=i.jr())})},n.fs=function(){return this.lb(!0)},n.vh=function(){return this.hb=void 0,this.lb(!1)},n.lb=function(t){var n=this.ab;return this.cb.fs(),t&&(this.cb=new ki),vn.resolve(n)},t}();function t_(t,n){return new vn(function(i){return i(t(n))})}var n_=function(t){function n(n){var i;return(i=t.call(this,Ta.uf)||this).errorObject=n,i}return qt(n,t),T(n,[{key:"error",get:function(){return this.errorObject.message}},{key:"licenseAcquisitionURL",get:function(){return this.errorObject.url}},{key:"status",get:function(){return this.errorObject.status}},{key:"statusText",get:function(){return this.errorObject.statusText}},{key:"licenseAcquisitionMessage",get:function(){return this.errorObject.response}},{key:"systemCode",get:function(){return this.errorObject.systemCode}}]),n}(Vi),i_=function(t){function n(n){var i;return(i=t.call(this)||this)._b=void 0,i.cb=new ki,i.gb=n,i}qt(n,t);var i=n.prototype;return i.wb=function(t){t&&(this._b=t,r.wc.ja&&this.yb(this.cb.ls).catch(Ei))},i.yb=function(){var t=vn.coroutine(fn.mark(function t(n){var i,r,e,u,s,o,a,c;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=this._b,r=!1,e=0,u=i.mb;case 3:if(!(e<u.length)){t.next=25;break}s=u[e],o=0,a=s.kb;case 6:if(!(o<a.length)){t.next=20;break}return c=a[o],t.prev=8,t.next=11,this.pb(s.Bo.Lu,c,n);case 11:r=!0,t.next=17;break;case 14:t.prev=14,t.t0=t.catch(8),Ti(t.t0);case 17:o++,t.next=6;break;case 20:if(!r){t.next=22;break}return t.abrupt("break",25);case 22:e++,t.next=3;break;case 25:case"end":return t.stop()}},t,this,[[8,14]])}));return function(n){return t.apply(this,arguments)}}(),i.Ab=function(t,n){return this.pb(t,n,this.cb.ls)},i.fh=function(){return this._b=void 0,this.cb.fs(),this.cb=new ki,this.bb()},i.vh=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.bs(),t.next=3,this.fh();case 3:this.cb.us();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Tb=function(t,n){if(!this._b)return!1;var i=nf(t,n);return Boolean(i[Bn])},T(n,[{key:"Bo",get:function(){return this.Eb()}}]),n}(Fi),r_=function(t){function n(n){var i;return(i=t.call(this,ca.Ph)||this).errorObject=n,i}return qt(n,t),T(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(Vi),e_=function(t){function n(){return t.call(this,Ta.sf)||this}return qt(n,t),n}(Vi),u_=function(t){function n(n){var i;return(i=t.call(this,"Mf")||this).Sb=n,i}return qt(n,t),n}(Vi),s_=new Kl,o_=function(t){function i(i,e,u){var s;return(s=t.call(this)||this).Rb=i,s.Ib=e,s.Nb=u,s.cu=!1,s.Db=!1,s.cb=new ki,s.fo=function(t){switch(t.Cs){case"license-request":s.Cb(t.Ds,t.Os).catch(function(t){return s.zo(t)});break;default:s.zo(new jc(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Unsupported CDM message type: "+t.Cs))}},s.Ob=function(t){s.Rb.Eo.Xs(function(t,n){switch(t){case"usable":r.yn(function(){s.Db=!0,s.ys(new e_)},100);break;case"expired":case"status-pending":break;case"output-restricted":case"internal-error":s.ys(new u_(n))}})},s.xb=function(t){s.zo(new jc(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Unknown CDM error"))},i.ps("Ds",s.fo),i.ps("Ns",s.Ob),i.ps("xs",s.xb),s.bo=i.bo.then(function(){return s.Pb()}),s}qt(i,t);var e=i.prototype;return e.yo=function(){var t=this;return this.cu=!0,s_.vb(function(n){return t.Bb(n)},this.cb.ls)},e.Bb=function(){var t=vn.coroutine(fn.mark(function t(i){var r,e,u;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,bi(i),t.next=4,this.Ib.Lb(this.Nb.Us);case 4:return r=t.sent,t.next=7,this.Rb.yo(this.Nb.Lu,this.Nb.Us,r);case 7:if(!this.Ib.Mb){t.next=10;break}return t.next=10,this.Ib.Rs("persistenttokenavailable",i);case 10:t.next=19;break;case 12:throw t.prev=12,t.t0=t.catch(0),Ti(t.t0),e=t.t0 instanceof fe?t.t0.uo:void 0,u=new jc(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while performing the CDM request",t.t0,void 0,void 0,void 0,void 0,e),this.zo(u),u;case 19:case"end":return t.stop()}},t,this,[[0,12]])}));return function(n){return t.apply(this,arguments)}}(),e.Cb=function(){var t=vn.coroutine(fn.mark(function t(i,r){var e,u;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r&&this.Ib.Ub(r),t.prev=1,!ae(i)){t.next=8;break}return t.next=5,this.Ib.Fb(new k(i),this.cb.ls);case 5:e=t.sent,t.next=11;break;case 8:return t.next=10,this.Ib.Hb(new k(i),this.cb.ls);case 10:e=t.sent;case 11:t.next=18;break;case 13:if(t.prev=13,t.t0=t.catch(1),!Ai(t.t0)){t.next=17;break}return t.abrupt("return");case 17:throw t.t0;case 18:return t.prev=18,t.next=21,this.Rb.po(e);case 21:t.next=27;break;case 23:throw t.prev=23,t.t1=t.catch(18),u=t.t1 instanceof fe?t.t1.uo:void 0,new jc(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while applying license response",t.t1,void 0,void 0,void 0,void 0,u);case 27:case"end":return t.stop()}},t,this,[[1,13],[18,23]])}));return function(n,i){return t.apply(this,arguments)}}(),e.zo=function(t){var i=t instanceof jc?t:new jc(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.ys(new n_(i)),this.wo()},e.Pb=function(){this.Rb.Ts("Ds",this.fo),this.Rb.Ts("Ns",this.Ob),this.Rb.Ts("xs",this.xb),this.Db=!1,this.cb.fs()},e.wo=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.bs(),this.Pb(),t.next=4,this.Rb.wo().catch(j);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i}(Fi),a_=[Ta.sf,Ta.uf,Ta.Lf],c_=function(t){function n(n,i,r){var e;(e=t.call(this)||this).Vb=[],e.Xb=[],e.Ro=n,e.gb=r,e.Wb=i;var u=i.qb;return u&&Ci(n.No(u)),e}qt(n,t);var i=n.prototype;return i.zb=function(){return this.Gb||(this.Gb=this.jb()),this.Gb},i.jb=function(){var t=vn.coroutine(fn.mark(function t(){var n;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Wb.Fb(new k(oe()));case 2:return n=t.sent,t.next=5,this.Ro.No(n.buffer);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Qb=function(){var t=vn.coroutine(fn.mark(function t(n){var i,r,e=this;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.Xb.push(n),t.next=4,this.Ro.Io("temporary");case 4:return i=t.sent,r=new o_(i,this.Wb,n),this.Vb.push(r),r.ps(a_,this.gs),r.bo.then(function(){return e.Yb(r)}),t.abrupt("return",r);case 10:return t.prev=10,vi(this.Xb,n),t.finish(10);case 13:case"end":return t.stop()}},t,this,[[0,,10,13]])}));return function(n){return t.apply(this,arguments)}}(),i.Zb=function(t){if(t.Jb)return!1;for(var n=0,i=this.Vb;n<i.length;n++){if(h_(i[n].Nb,t))return!0}for(var r=0,e=this.Xb;r<e.length;r++){if(h_(e[r],t))return!0}return!1},i.Yb=function(t){t.Ts(a_,this.gs),vi(this.Vb,t)},i.vh=function(){var t=vn.coroutine(fn.mark(function t(){var n;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.bs(),n=this.Vb.slice(),this.Vb.length=0,t.next=5,vn.all(n.map(function(t){return t.wo()}));case 5:this.Wb.vh();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),T(n,[{key:"$b",get:function(){return this.Wb.$b}},{key:"Bo",get:function(){return this.Wb.Bo}},{key:"Kb",get:function(){return this.Wb.Kb}},{key:"tT",get:function(){return this.Wb.tT}},{key:"nT",get:function(){return this.Wb.nT}}]),n}(Fi);function h_(t,n){return!t.Jb&&t.Lu===n.Lu&&ur(t.Us,n.Us)}var f_=function(t){function n(){return t.call(this,"persistenttokenavailable")||this}return qt(n,t),n}(Vi),v_=function(t){function i(n,i,r,e,u){var s;return(s=t.call(this)||this).iT=void 0,s.Bo=n,s.$b=i,s.tT=r,s.$A=e,s.rT=u,s.Kb=s.eT(i),s}qt(i,t);var e=i.prototype;return e.uT=function(){return this.iT},e.Ub=function(t){this.iT=t},e.sT=function(){return this.Kb.licenseAcquisitionURL||this.uT()},e.Lb=function(t){return vn.resolve(void 0)},e.oT=function(){var t=vn.coroutine(fn.mark(function t(i,r,e,u){var s,o;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==(s=this.aT(i,r,e,u)).gd){t.next=3;break}throw new jc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 3:return t.prev=3,t.next=6,this.cT.GA(s);case 6:return o=t.sent,t.next=9,o.hT(r);case 9:return t.abrupt("return",t.sent);case 12:return t.prev=12,t.t0=t.catch(3),Ti(t.t0),t.next=17,this.fT(t.t0,s.gd,u);case 17:return t.abrupt("return");case 18:case"end":return t.stop()}},t,this,[[3,12]])}));return function(n,i,r,e){return t.apply(this,arguments)}}(),e.aT=function(t,n,i,r){var e=this.vT().Yv(),u=this.Td,s={gd:this.dT(),kd:n,yd:e,wd:t,Td:u,md:Dc.POST,pd:0,ls:r,Pu:Cc.nd,Ad:i};return new Mc(s)},e.Cb=function(t,n){return vn.resolve(t)},e.lT=function(t,n,i,r){return vn.resolve(t)},e.vT=function(){return new Pc(this.Kb.headers||{})},e.fT=function(){var t=vn.coroutine(fn.mark(function t(i,r,e){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:throw new jc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during license server request",i);case 1:case"end":return t.stop()}},t)}));return function(n,i,r){return t.apply(this,arguments)}}(),e.dT=function(t,n){var i=n,e=this.Kb.queryParameters;if(!i){var u=this.sT();if(!u)return"";i=u}if(e||t){var s=r.Ua(i);t&&to(s,t),e&&to(s,e),i=s.href}return i},e._T=function(t){return function(t,n){var i=n.licenseResponseProcessor;return vn.resolve(new k(d_(t,i)))}(t,this.Kb)},e.gT=function(){var t=vn.coroutine(fn.mark(function t(n,i,r){var e,u,s;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.wT(n,r);case 2:return e=t.sent,t.next=5,this.oT(e,this.rT,i,r);case 5:return u=t.sent,t.next=8,this._T(u);case 8:return s=t.sent,t.abrupt("return",s);case 10:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),e.vh=function(){this.bs()},T(i,[{key:"cT",get:function(){return this.$A}},{key:"Mb",get:function(){return!1}},{key:"qb",get:function(){var t=this.Kb.certificate;if(t)return X(t)?tr(t):ne(t)}},{key:"yT",get:function(){return"optional"}},{key:"Lo",get:function(){return!1}},{key:"nT",get:function(){return!1}},{key:"Td",get:function(){return Boolean(this.Kb.useCredentials)}}]),i}(Fi);function d_(t,i){if(!t||!i||"function"!=typeof i)return t;try{return i(t)}catch(t){throw new jc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error while preprocessing DRM data",t)}}function l_(t,n){var i=re(t).buffer,r=n.licenseRequestProcessor;return vn.resolve(d_(i,r))}var __,g_=function(t){function n(n,i,r,e){return t.call(this,Vn,n,i,r,e)||this}qt(n,t);var i=n.prototype;return i.eT=function(t){return t.widevine||{}},i.Fb=function(){var t=vn.coroutine(fn.mark(function t(n,i){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.qb){t.next=2;break}return t.abrupt("return",this.qb);case 2:return t.abrupt("return",this.Hb(new k(n),i));case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Hb=function(n,i){return t.prototype.gT.call(this,n,Oc.sd,i)},n}(v_);!function(t){t.Du="Widevine",t.Nu="PlayreadyV2",t.mT="PlayreadyV2",t.kT="PlayreadyV3",t.Cu="Fairplay"}(__||(__={}));var w_={Widevine:{DRMProvider:"Google",DRMVersion:"1.4.8.86",DRMType:"Widevine"},PlayreadyV2:{DRMProvider:"Microsoft",DRMVersion:"2.9",DRMType:"Playready"},PlayreadyV3:{DRMProvider:"Microsoft",DRMVersion:"3",DRMType:"Playready"},Fairplay:{DRMProvider:"Apple",DRMType:"FairPlay",DRMVersion:"1.0"}};function y_(t,n){var i,e,u,s,o=w_[n],a=t.accountName;return{CustomerName:t.customerName,AccountName:a,PortalId:t.portalId,FriendlyName:t.friendlyName,DeviceInfo:{FormatVersion:"1",DeviceType:"PC",OSType:null===(i=r.gc)||void 0===i?void 0:i.wc,OSVersion:null===(e=r.gc)||void 0===e?void 0:e.Rc,DRMProvider:o.DRMProvider,DRMVersion:o.DRMVersion,DRMType:o.DRMType,DeviceVendor:null===(u=r.gc)||void 0===u?void 0:u.Ic,DeviceModel:null===(s=r.gc)||void 0===s?void 0:s.Nc}}}function m_(t,i){if(!t.accountName)throw new jc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, accountName is not set.");if(!t.customerName)throw new jc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, customerName is not set.");if(!t.portalId)throw new jc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, portalId is not set.");throw new jc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration.")}function k_(t,n,i){var r;if(Qh(t))r={AuthToken:t.authToken,Payload:n};else{if(!Yh(t))throw m_(t,i);r={LatensRegistration:y_(t,i),Payload:n}}return cr(JSON.stringify(r))}function p_(t,n,i){return A_.apply(this,arguments)}function A_(){return(A_=vn.coroutine(fn.mark(function t(i,r,e){var u,s,o,a;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u=i.jA){t.next=3;break}throw new jc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",i,r);case 3:return s=u,t.prev=4,t.next=7,s.pT(e);case 7:o=t.sent,a=b_(o),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),a="";case 14:throw new jc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",i,s.GA.gd,s.YA,s.AT,a);case 15:case"end":return t.stop()}},t,null,[[4,11]])}))).apply(this,arguments)}function b_(t){if(t){if(t.WvProxyErr)return t.WvProxyErr.desc;if(t.DrmErr)return t.DrmErr.desc}}var T_=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r,Rc.Gv)||this).bT=!0,e}qt(i,t);var r=i.prototype;return r.fT=function(t,n,i){return p_(t,n,i)},r.wT=function(){var t=vn.coroutine(fn.mark(function t(i,r){var e,u;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.$b){t.next=3;break}throw new jc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Widevine DRM configuration.");case 3:return u=ir(i),t.abrupt("return",k_(e,u,__.Du));case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r._T=function(t){var i;if(!t.license)throw new jc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Widevine license server");return i=tr(t.license),vn.resolve(i)},r.TT=function(t){return vn.resolve(new k(t))},r.Fb=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r,e;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.ET(),t.next=3,this.wT(n,i);case 3:return r=t.sent,t.next=6,this.oT(r,Rc.zv,Oc.od,i);case 6:return e=t.sent,t.next=9,this.TT(e);case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.Hb=function(){var n=vn.coroutine(fn.mark(function n(i,r){var e;return fn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.Hb.call(this,i,r);case 2:return e=n.sent,this.ET(),n.abrupt("return",e);case 5:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),r.ET=function(){this.ys(new f_),this.bT=!1},T(i,[{key:"Mb",get:function(){return this.bT}},{key:"yT",get:function(){return"required"}}]),i}(g_),E_=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r,Rc.zv)||this).Ub("https://widevine-proxy.drm.technology/proxy"),e}return qt(i,t),i.prototype.wT=function(){var t=vn.coroutine(fn.mark(function t(i,r){var e,u,s,o;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l_(i,this.Kb);case 2:if(e=t.sent,u=this.tT,r=new k(e),s=[].slice.call(r),o=this.ST){t.next=8;break}throw new jc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The Widevine vuDRM token has not been correctly configured.");case 8:return t.abrupt("return",JSON.stringify({token:o,drm_info:s,kid:u}));case 9:case"end":return t.stop()}var r},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),T(i,[{key:"ST",get:function(){if(Zh(this.$b))return this.$b.token}}]),i}(g_);function S_(t,n){var i=n||{};return t.ticket&&t.sessionId&&(i=dn(dn({},i),{SessionId:t.sessionId,Ticket:t.ticket})),dn(dn({},i),{CrmId:t.crmId,AccountId:t.accountId,ContentId:t.contentId})}var R_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,Rc.zv)||this).Ub("https://emeademo.dev.ott.irdeto.com/Widevine/getlicense"),e}qt(n,t);var i=n.prototype;return i.wT=function(t,n){return l_(t,this.Kb)},i.dT=function(n,i){var r=n;return zh(this.$b)&&(r=S_(this.$b,r)),t.prototype.dT.call(this,r,i)},n}(g_),I_="Conax-Custom-Data";function N_(t,n,i){var r=t&&qh(t)&&t;if(r&&!i.has(I_)){var e=yh(r)?r.token:void 0,u=yh(r)?r.deviceId:void 0,s=JSON.stringify({Version:"1.0.0",CxAuthenticationDataToken:e,CxClientInfo:{DeviceType:"Browser",DrmClientType:n+"-HTML5",DrmClientVersion:"1.0.0",CxDeviceId:u}});i.set(I_,s)}return i}var D_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,Rc.zv)||this).Ub("https://connect.conax.com:8094/license"),e}qt(n,t);var i=n.prototype;return i.wT=function(t,n){return l_(t,this.Kb)},i.vT=function(){var n=t.prototype.vT.call(this);return N_(this.$b,"Widevine",n)},n}(g_);function C_(t){var n=Wr(new k(t));return tr(JSON.parse(n).license)}function O_(t){return"string"==typeof t.token?t.token:cr(JSON.stringify({userId:t.userId,sessionId:t.sessionId,merchant:t.merchant}))}function x_(t,n,i){var r;return r=i.token?"x-dt-auth-token":"dt-custom-data",t.set(r,n),t}var P_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,Rc.zv)||this).Ub("https://lic.drmtoday.com/license-proxy-widevine/cenc/"),e}qt(n,t);var i=n.prototype;return i.wT=function(t,n){return l_(t,this.Kb)},i._T=function(t){return vn.resolve(C_(t))},i.vT=function(){return x_(t.prototype.vT.call(this),this.ST,this.$b)},T(n,[{key:"ST",get:function(){return O_(this.$b)}}]),n}(g_),B_=function(t){function n(n,i,r){return t.call(this,n,i,r,Rc.zv)||this}qt(n,t);var i=n.prototype;return i.wT=function(t,n){return l_(t,this.Kb)},i.vT=function(){var n=t.prototype.vT.call(this),i=this.$b.token;return n.set("Authorization","Bearer "+i),n},n}(g_);function L_(t,n,i,r){return M_.apply(this,arguments)}function M_(){return(M_=vn.coroutine(fn.mark(function t(i,r,e,u){var s,o,a,c,h,f,v;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Jh(i)){t.next=2;break}throw new jc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Xstream DRM Configuration");case 2:return(s=new Pc).append("Cache-Control","no-cache"),s.append("Content-Type","application/json"),(o=i.sessionId)&&s.append("XSSESSION",o),a=i.streamId,c=i.fairplay?"persistent"===i.fairplay.licenseType?"persistent":"non-persistent":i.widevine&&"persistent"===i.widevine.licenseType?"persistent":"non-persistent",h={drmType:r,licenseType:c,streamId:a},f={gd:i.ticketAcquisitionURL,kd:Rc.Gv,yd:s,md:Dc.POST,wd:JSON.stringify(h),ls:u},t.next=13,e.GA(f);case 13:return v=t.sent,t.next=16,v.pT();case 16:return t.abrupt("return",t.sent);case 17:case"end":return t.stop()}},t)}))).apply(this,arguments)}var U_=function(t){function n(n,i,r){return t.call(this,n,i,r,Rc.Gv)||this}qt(n,t);var i=n.prototype;return i.vT=function(){var n=t.prototype.vT.call(this);return n.set("Content-Type","application/json"),n},i.wT=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r,e,u,s;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=ar(n.buffer),e=this.$b,t.next=4,L_(e,"widevine_modular",this.cT,i);case 4:return u=t.sent,this.Ub(u.licenseServerUrl),s=qr(JSON.stringify({payload:r,ticket:u.ticket})),t.abrupt("return",l_(s,this.Kb));case 8:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i._T=function(t){var n=t;return vn.resolve(tr(n.license))},n}(g_),F_=function(t){function i(n,i,r){return t.call(this,n,i,r,Rc.zv)||this}qt(i,t);var r=i.prototype;return r.wT=function(t,n){return l_(t,this.Kb)},r.vT=function(){if(!$h(this.$b))throw new jc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.vT.call(this);return i.set("X-AxDRM-Message",this.$b.token),i},i}(g_);function H_(t){for(var n=new k(2*t.length),i=0;i<t.length;i+=1)n[2*i]=t.charCodeAt(i),n[2*i+1]=0;return n}var V_=function(t){function n(n,i,r){var e;return(e=t.call(this,Hn,n,i,r,Rc.zv)||this).RT=void 0,e}qt(n,t);var i=n.prototype;return i.eT=function(t){return t.playready||{}},i.vT=function(){var n=new Pc(this.RT);return n.Jv(t.prototype.vT.call(this)),n},i.IT=function(t){return t.length>=1&&t[0].Un.length>0},i.Lb=function(n){var i=this.$b.playready.customData;if(i){var r=H_(i),e=H_('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">'+ir(r)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>");return vn.resolve({playready:{Zo:e}})}return t.prototype.Lb.call(this,n)},i.wT=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l_(n,this.Kb);case 2:return r=t.sent,t.abrupt("return",this.NT(r));case 4:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.NT=function(){var t=vn.coroutine(fn.mark(function t(n){var i,e,u,s,o,a,c,h,f,v,d,l,_,g,w,y;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:o=null,a=new DataView(n),c=Hr(a,new ee,!0),t.prev=3,h=r.Sn(c),t.next=10;break;case 7:return t.prev=7,t.t0=t.catch(3),t.abrupt("return",o);case 10:for(f=null===(i=h.Mn("PlayReadyKeyMessage")[0])||void 0===i?void 0:i.Mn("LicenseAcquisition")[0],v=null!==(e=null==f?void 0:f.Mn("Challenge"))&&void 0!==e?e:[],this.IT(v)&&(o=or(v[0].Jn)),d=new Pc,l=null!==(s=null===(u=null==f?void 0:f.Mn("HttpHeaders")[0])||void 0===u?void 0:u.Mn("HttpHeader"))&&void 0!==s?s:[],_=0;_<l.length;_++)g=l[_],w=g.Mn("name")[0].Jn,y=g.Mn("value")[0].Jn,d.append(w,y);return this.RT=d,t.abrupt("return",o);case 18:case"end":return t.stop()}},t,this,[[3,7]])}));return function(n){return t.apply(this,arguments)}}(),i.Fb=function(t,n){return vn.resolve(t)},i.Hb=function(n,i){return t.prototype.gT.call(this,n,Oc.hd,i)},T(n,[{key:"Lo",get:function(){return Boolean(this.$b.playready.customData)}}]),n}(v_),X_=function(){function t(n){this.DT=n,this.CT=t.OT(n)}return t.OT=function(t){return"3"===t.version?__.kT:__.mT},t.prototype.xT=function(){var t={};if(this.CT===__.kT){var n={LatensRegistration:y_(this.DT,__.kT)};t["X-TITANIUM-DRM-CDATA"]=cr(JSON.stringify(n))}return t},T(t,[{key:"PT",get:function(){return this.CT}},{key:"Lo",get:function(){return this.CT===__.mT}}]),t}();var W_=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r)||this).BT=new X_(e.$b),e}qt(i,t);var e=i.prototype;return e.Lb=function(t){var i=this.$b;if(!this.$b)throw new jc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium PlayReady DRM configuration.");if(Yh(i)){var r={};return r.playready={Zo:q_(i,this.BT.PT)},vn.resolve(r)}return vn.reject(m_(i,__.Nu))},e.vT=function(){var n=new Pc(this.BT.xT());return n.Jv(t.prototype.vT.call(this)),n},e.fT=function(){var t=vn.coroutine(fn.mark(function t(i,e,u){var s,o,a,c,h,f,v,d;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=i.jA){t.next=3;break}throw new jc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",i,e);case 3:return t.prev=3,t.next=6,o.LT(u);case 6:h=t.sent,f=Wr(new k(h)),(v=r.Sn(f))&&(d=dl(v,"CustomData")).length>0&&(a=JSON.parse(d[0].Jn),c=null===(s=a.DrmErr)||void 0===s?void 0:s.desc),t.next=14;break;case 12:t.prev=12,t.t0=t.catch(3);case 14:throw new jc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",i,e,o.YA,o.AT,c);case 15:case"end":return t.stop()}},t,null,[[3,12]])}));return function(n,i,r){return t.apply(this,arguments)}}(),e.IT=function(t){if(1!==t.length)throw new jc(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"PlayReady license message incorrectly formatted, Challenge not found.");return!0},T(i,[{key:"Lo",get:function(){return this.BT.Lo}}]),i}(V_);function q_(t,n){var i=y_(t,n),r=i.DeviceInfo.FormatVersion,e=cr('<LatensRegistration formatversion="'+r+'"><AccountName>'+i.AccountName+"</AccountName><CustomerName>"+i.CustomerName+"</CustomerName><PortalID>"+i.PortalId+'</PortalID><DeviceInfo formatversion="'+r+'"><DeviceType>'+i.DeviceInfo.DeviceType+"</DeviceType><OSType>"+i.DeviceInfo.OSType+"</OSType><OSVersion>"+i.DeviceInfo.OSVersion+"</OSVersion><DRMProvider>"+i.DeviceInfo.DRMProvider+"</DRMProvider><DRMVersion>"+i.DeviceInfo.DRMVersion+"</DRMVersion><DRMType>"+i.DeviceInfo.DRMType+"</DRMType><DeviceVendor>"+i.DeviceInfo.DeviceVendor+"</DeviceVendor><DeviceModel>"+i.DeviceInfo.DeviceModel+"</DeviceModel></DeviceInfo></LatensRegistration>"),u=Gr(("<TitaniumCustomData>"+e+"</TitaniumCustomData>").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/&lt;/g,"<").replace(/&gt;/g,">"),!0);return Gr('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0"><CustomData encoding="base64encoded">'+ir(u)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>",!0)}var z_,G_=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r)||this).Ub("https://playready-license.drm.technology/rightsmanager.asmx"),e}qt(i,t);var r=i.prototype;return r.IT=function(t){if(1!==t.length)throw new jc(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Vudrm PlayReady license message incorrectly formatted, Challenge not found.");return!0},r.dT=function(n,i){var r=dn(dn({},n||{}),{token:this.ST});return t.prototype.dT.call(this,r,i)},T(i,[{key:"ST",get:function(){if(Zh(this.$b))return this.$b.token}}]),i}(V_),j_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).Ub("https://emeademo.dev.ott.irdeto.com/playready/rightsmanager.asmx"),e}return qt(n,t),n.prototype.dT=function(n,i){var r=n;return zh(this.$b)&&(r=S_(this.$b,r)),t.prototype.dT.call(this,r,i)},n}(V_),Q_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).Ub("https://connect.conax.com:8010/cxplayready/rightsmanager.asmx"),e}return qt(n,t),n.prototype.vT=function(){var n=t.prototype.vT.call(this);return N_(this.$b,"PlayReady",n)},n}(V_),Y_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).Ub("https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx"),e}qt(n,t);var i=n.prototype;return i._T=function(n){return(Qn(Wr(new k(n)),"<?xml")?z_.MT:z_.pT)===z_.pT?vn.resolve(C_(n)):vn.resolve(t.prototype._T.call(this,new k(n)))},i.vT=function(){return x_(t.prototype.vT.call(this),this.ST,this.$b)},T(n,[{key:"ST",get:function(){return O_(this.$b)}}]),n}(V_);!function(t){t[t.MT=0]="MT",t[t.pT=1]="pT"}(z_||(z_={}));var Z_,J_=function(t){function n(n,i,r){return t.call(this,n,i,r)||this}qt(n,t);var i=n.prototype;return i.vT=function(){var n=t.prototype.vT.call(this);return this.UT&&n.set("Ticket",this.UT),n.set("Content-Type","text/xml"),n},i.wT=function(){var n=vn.coroutine(fn.mark(function n(i,r){var e,u;return fn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e=this.$b,n.next=3,L_(e,"playready",this.cT,r);case 3:return u=n.sent,this.Ub(u.licenseServerUrl),this.UT=u.ticket,n.abrupt("return",t.prototype.wT.call(this,i,r));case 7:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),n}(V_),$_=function(t){function i(){return t.apply(this,arguments)||this}return qt(i,t),i.prototype.vT=function(){if(!$h(this.$b))throw new jc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.vT.call(this);return i.set("X-AxDRM-Message",this.$b.token),i},i}(V_);!function(t){t.Gv="application/json",t.FT="application/x-www-form-urlencoded",t.HT="application/octet-stream",t.An="text/plain;charset=UTF-8"}(Z_||(Z_={}));var K_=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n.Bo,i,r,e,u)||this).VT="",s.XT=void 0,s.WT=n.ra,s}qt(n,t);var i=n.prototype;return i.qT=function(){return this.Kb.certificateURL||this.XT},i.zT=function(t){this.XT=t},i.wT=function(){var t=vn.coroutine(fn.mark(function t(n){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.GT(n,this.VT));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.GT=function(){var t=vn.coroutine(fn.mark(function t(n,i){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return","spc="+encodeURIComponent(ir(n))+"&assetId="+encodeURIComponent(i));case 1:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}(),i.eT=function(t){return t.fairplay||{}},i.jT=function(t){var n=t.indexOf("?");if(n>=0)return vn.resolve(t.substr(n+1));var i=t.split("/");return vn.resolve(i[i.length-1])},i.Lb=function(){var t=vn.coroutine(fn.mark(function t(n){var i,r,e,u;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=null!==(i=this.WT)&&void 0!==i?i:Qr(new k(n)),t.next=3,this.jT(r);case 3:return e=t.sent,this.VT=e,(u={}).fairplay={ra:e},t.abrupt("return",u);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.vT=function(){var n=t.prototype.vT.call(this);return n.set("Content-Type",this.QT),n},i.Fb=function(){var t=vn.coroutine(fn.mark(function t(n,i){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.qb){t.next=2;break}return t.abrupt("return",this.qb);case 2:return t.next=4,this.YT(i);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Hb=function(n,i){return t.prototype.gT.call(this,n,Oc.ed,i)},i.ZT=function(t){var n=this.qT(),i=this.vT(),r={gd:n,kd:Rc.zv,yd:i,md:Dc.GET,Td:!1,wd:null,pd:0,ls:t,Pu:Cc.nd,Ad:Oc.ud};return new Mc(r)},i.YT=function(){var t=vn.coroutine(fn.mark(function t(n){var i,r,e;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.ZT(n),t.next=3,this.cT.GA(i);case 3:return r=t.sent,t.next=6,r.LT();case 6:return e=t.sent,t.abrupt("return",new k(e));case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i._T=function(t){var n;if("string"==typeof t){var i=t.trim();"<ckc>"===i.substr(0,5)&&"</ckc>"===i.substr(-6)&&(i=i.slice(5,-6)),n=tr(i)}else n=new k(t);return vn.resolve(n)},i.dT=function(n,i){var r=t.prototype.dT.call(this,n,i);return Qn(r,"skd:")&&(r=r.substr("skd:".length)),r},T(n,[{key:"nT",get:function(){return!0}},{key:"QT",get:function(){return Z_.FT}}]),n}(v_),tg=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,Rc.zv)||this}qt(n,t);var i=n.prototype;return i.jT=function(){var t=vn.coroutine(fn.mark(function t(n){var i,r,e;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.split("://",1),r=i[0].slice(-3),i=n.split(";",2),e=i.length>1?i[1]:"",t.abrupt("return","skd"===r.toLowerCase()?e:"");case 5:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.wT=function(){var t=vn.coroutine(fn.mark(function t(n){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i._T=function(t){return vn.resolve(new k(t))},i.dT=function(n,i){var r=n||{};return r.p1=Ft(),t.prototype.dT.call(this,r,i)},T(n,[{key:"QT",get:function(){return Z_.HT}}]),n}(K_),ng=function(t){function i(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,Rc.zv)||this).Ub("https://fairplay-license.drm.technology/license"),u.zT("https://fairplay-license.drm.technology/certificate"),u}qt(i,t);var r=i.prototype;return r.GT=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={token:this.ST,contentId:i,payload:ir(n)},t.abrupt("return",JSON.stringify(r));case 2:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r._T=function(t){return vn.resolve(new k(t))},r.vT=function(){var n=t.prototype.vT.call(this);return n.set("x-vudrm-token",this.ST),n},T(i,[{key:"QT",get:function(){return Z_.Gv}},{key:"ST",get:function(){if(!Zh(this.$b))throw new jc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Token is required for FairPlay VuDrm.");return this.$b.token}}]),i}(K_),ig="Verimatrix Fairplay license response incorrectly formatted. Invalid json.",rg="Verimatrix Fairplay license response incorrectly formatted. Ckc not found.",eg=function(t){function i(n,i,r,e){return t.call(this,n,i,r,e,Rc.zv)||this}return qt(i,t),i.prototype._T=function(i){var r=function(t){var i;try{i=JSON.parse(t).ckc}catch(t){throw new jc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,ig)}if(!i)throw new jc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,rg);return i}(Wr(new DataView(i)));return t.prototype._T.call(this,r)},i}(K_);var ug=function(t){function i(n,i,r,e){return t.call(this,n,i,r,e,Rc.Gv)||this}qt(i,t);var r=i.prototype;return r.wT=function(){var t=vn.coroutine(fn.mark(function t(i){var r,e;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.$b){t.next=3;break}throw new jc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Fairplay DRM configuration.");case 3:return e=ir(i),t.abrupt("return",k_(r,e,__.Cu));case 5:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r._T=function(t){try{var i;if(X(t)){var r=t.trim();i=JSON.parse(r)}else i=t;if(i.license){var e=or(i.license);return vn.resolve(new k(e))}return vn.reject(new jc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Titanium Fairplay license server"))}catch(t){return vn.reject(new jc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Fairplay license server"))}},r.fT=function(t,n,i){return p_(t,n,i)},T(i,[{key:"QT",get:function(){return Z_.Gv}}]),i}(K_),sg=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,Rc.zv)||this).Ub("https://emeademo.dev.ott.irdeto.com/streaming/getckc"),u.zT("https://emeademo.dev.ott.irdeto.com/streaming/getcertificate"),u}qt(n,t);var i=n.prototype;return i.qT=function(){var n=t.prototype.qT.call(this);if(!n)return n;var i=r.Ua(n),e=this.$b;return zh(e)&&to(i,{accountId:e.accountId,applicationId:e.applicationId||""}),i.href},i.jT=function(){var n=vn.coroutine(fn.mark(function n(i){return fn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!zh(this.$b)){n.next=2;break}return n.abrupt("return",this.$b.contentId);case 2:return n.abrupt("return",t.prototype.jT.call(this,i));case 3:case"end":return n.stop()}},n,this)}));return function(t){return n.apply(this,arguments)}}(),i.wT=function(){var t=vn.coroutine(fn.mark(function t(n){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i._T=function(t){return vn.resolve(new k(t))},i.dT=function(n,i){var r=n;return zh(this.$b)&&(r=function(t,n){return dn(dn({},S_(t,n)),{KeyId:t.keyId})}(this.$b,r)),t.prototype.dT.call(this,r,i)},T(n,[{key:"QT",get:function(){return Z_.HT}}]),n}(K_),og=function(t){function i(i,r,e,u){var s;if(s=t.call(this,i,r,e,u,Rc.An)||this,!qh(r))throw new jc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Conax configuration");return s.Ub("https://connect.conax.com:8097/license"),s}qt(i,t);var r=i.prototype;return r.vT=function(){var n=t.prototype.vT.call(this);return N_(this.$b,"FairPlay",n)},r.YT=function(){var t=vn.coroutine(fn.mark(function t(n){var i,r,e,u;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.qT(),r={gd:i,kd:Rc.zv,yd:{},md:Dc.GET,Td:!1,wd:null,pd:0,ls:n,Pu:Cc.nd,Ad:Oc.ud},t.next=4,this.cT.GA(r);case 4:return e=t.sent,t.next=7,e.LT();case 7:return u=t.sent,t.abrupt("return",new k(u));case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.wT=function(){var t=vn.coroutine(fn.mark(function t(n){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.jT=function(t){var n,i=t.indexOf("?");return 0===t.indexOf("skd://")?(n=i>=0?t.substring("skd://".length,i):t.substring("skd://".length),vn.resolve(Wr(tr(n)))):vn.resolve("unknown")},r._T=function(t){try{var n=JSON.parse(t);return vn.resolve(new k(or(n.CkcMessage)))}catch(t){return vn.reject("CFLRW-66")}},i}(K_),ag=function(t){function i(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,Rc.An)||this).Ub(Mh[In.Cu]),u}qt(i,t);var r=i.prototype;return r.jT=function(t){return 0===t.indexOf("skd://")?vn.resolve(t.substring("skd://".length,40)):vn.reject(new jc(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error while determining the KeyOS Content ID."))},r.GT=function(){var t=vn.coroutine(fn.mark(function t(n,i){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return","spc="+ir(n)+"&assetId="+i);case 1:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}(),i}(K_),cg=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,Rc.An)||this).Ub("https://lic.drmtoday.com/license-server-fairplay/"),u}qt(n,t);var i=n.prototype;return i.GT=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r="spc="+encodeURIComponent(ir(n))+"&"+encodeURI(i),"persistent"!==this.Kb.licenseType){t.next=3;break}return t.abrupt("return",r+"&offline=true");case 3:return t.abrupt("return",r);case 4:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.vT=function(){return x_(t.prototype.vT.call(this),this.ST,this.$b)},T(n,[{key:"ST",get:function(){return O_(this.$b)}}]),n}(K_),hg=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,Rc.zv)||this}qt(n,t);var i=n.prototype;return i.jT=function(t){var n=t;return Qn(n,"skd:")&&(n="http:"+n.substring(4)),Qn(n,"http:")||Qn(n,"https:")?vn.resolve(r.Ua(n).hostname):vn.reject(new d("Could not parse ExpressPlay FairPlay content ID."))},i.wT=function(){var t=vn.coroutine(fn.mark(function t(n){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i._T=function(t){return vn.resolve(new k(t))},T(n,[{key:"QT",get:function(){return Z_.HT}}]),n}(K_),fg=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,Rc.An)||this}return qt(n,t),n.prototype.vT=function(){var n=t.prototype.vT.call(this),i=this.$b.token;return n.set("Authorization","Bearer "+i),n},n}(K_),vg=function(t){function n(n,i,r,e){var u;if(u=t.call(this,n,i,r,e,Rc.Gv)||this,!Jh(i))throw new d("Invalid Xstream DRM configuration");return u}qt(n,t);var i=n.prototype;return i.YT=function(){var t=vn.coroutine(fn.mark(function t(n){var i,r,e,u,s;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.qT(),r=this.vT(),e={gd:i,kd:Rc.Gv,yd:r,md:Dc.POST,ls:n,Pu:Cc.nd,Ad:Oc.ud},t.next=5,this.cT.GA(e);case 5:return u=t.sent,t.next=8,u.pT();case 8:return s=t.sent,t.abrupt("return",new k(tr(s.certificate)));case 10:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Hb=function(){var t=vn.coroutine(fn.mark(function t(n,i,r){var e,u,s,o,a,c,h;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===r&&(r=Rc.An),e=ir(n),u=this.$b,t.next=5,L_(u,"fairplay",this.cT,i);case 5:return s=t.sent,o=qr(JSON.stringify({spc:e,ticket:s.ticket})),a={gd:this.sT(),kd:Rc.Gv,yd:this.vT(),md:Dc.POST,wd:o,pd:0,ls:i,Pu:Cc.nd,Ad:Oc.ed},t.next=10,this.cT.GA(a);case 10:return c=t.sent,t.next=13,c.pT();case 13:return h=t.sent,t.abrupt("return",tr(h.licence));case 15:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),T(n,[{key:"QT",get:function(){return Z_.Gv}}]),n}(K_),dg=function(t){function i(n,i,r,e){return t.call(this,n,i,r,e,Rc.An)||this}qt(i,t);var r=i.prototype;return r.GT=function(){var t=vn.coroutine(fn.mark(function t(n,i){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",ir(n));case 1:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}(),r._T=function(i){if(0===i.length)throw new jc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Vimond license request error.");return t.prototype._T.call(this,i)},r.vT=function(){var n=t.prototype.vT.call(this);return n.set("Content-Type","text/plain"),n},i}(K_),lg=function(t){function i(n,i,r,e){return t.call(this,n,i,r,e,Rc.zv)||this}qt(i,t);var r=i.prototype;return r.GT=function(){var t=vn.coroutine(fn.mark(function t(n){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r._T=function(t){return vn.resolve(new k(t))},r.vT=function(){if(!$h(this.$b))throw new jc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.vT.call(this);return i.set("X-AxDRM-Message",this.$b.token),i},T(i,[{key:"QT",get:function(){return Z_.Gv}}]),i}(K_),_g=function(t){function i(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,Rc.Gv)||this).JT=void 0,u}qt(i,t);var e=i.prototype;return e.GT=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={spc:ir(n)},t.abrupt("return",JSON.stringify(r));case 2:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}(),e.jT=function(t){var i=r.Ua(t);return this.JT=t,i.searchParams.has("b")?vn.resolve(i.searchParams.get("b")):vn.reject(new jc(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error during license server request: Could not extract content id"))},e.dT=function(n,i){var r=this.sT();return!r&&this.JT&&(r=this.JT),r&&(r=r.replace("skd://","https://")),t.prototype.dT.call(this,n,i||r)},e._T=function(){var t=vn.coroutine(fn.mark(function t(i){var r;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(r=X(i)?JSON.parse(i.trim()):i).ckc){t.next=4;break}return t.abrupt("return",tr(r.ckc));case 4:t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(0),new jc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Uplynk Fairplay license server");case 9:throw new jc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Uplynk Fairplay license server");case 10:case"end":return t.stop()}},t,null,[[0,6]])}));return function(n){return t.apply(this,arguments)}}(),T(i,[{key:"QT",get:function(){return Z_.An}}]),i}(K_),gg=function(){function t(t,n){this.$T=t,this.KT=n}var n=t.prototype;return n.tE=function(t){return this.$T(t)},n.nE=function(t,n){throw new l(n+" must be "+this.KT+". (Received: "+t+")")},t}(),wg=new gg(G,"a number"),yg=new gg(X,"a string"),mg=new gg(W,"a boolean");var kg,pg=(kg={responseCode:wg,isException:mg,description:yg,title:yg,correlationId:yg},{tE:function(t){if(!H(t))return!1;for(var n=0,i=_.keys(kg);n<i.length;n++){var r=i[n];if(!kg[r].tE(t[r]))return!1}return!0},nE:function(t,n){if(!H(t))throw new l(n+" must be an object.");for(var i=0,r=_.keys(kg);i<r.length;i++){var e=r[i],u=kg[e];if(!u.tE(t[e]))return u.nE(t[e],n+"."+e)}throw new l}});function Ag(t,n,i,r,e){return bg.apply(this,arguments)}function bg(){return(bg=vn.coroutine(fn.mark(function t(n,i,r,e,u){var s;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=Tg(n,i,r,u),t.next=3,Eg(s,e);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Tg(t,n,i,e){var u={token:n.token,account:n.accountId,form:"json"},s=decodeURIComponent(function(t,n){var i=r.Ua(t);return to(i,n),i.toString()}(i,u)),o=new Pc({});o.append("Content-Type","application/json");var a=ir(t),c={getFairplayLicense:{releasePid:n.releasePid,spcMessage:a}};return{gd:s,kd:Rc.An,yd:o,md:Dc.POST,wd:JSON.stringify(c),ls:e,Pu:Cc.nd,Ad:Oc.ed}}function Eg(t,n){return Sg.apply(this,arguments)}function Sg(){return(Sg=vn.coroutine(fn.mark(function t(i,r){var e,u;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.GA(i);case 2:return e=t.sent,t.next=5,e.pT();case 5:if(u=t.sent,!pg.tE(u)){t.next=8;break}throw new jc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,u.description,void 0,i.gd,u.responseCode);case 8:return t.abrupt("return",tr(u.getFairplayLicenseResponse.ckcResponse));case 9:case"end":return t.stop()}},t)}))).apply(this,arguments)}var Rg=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,Rc.zv)||this).iE=i,u}qt(n,t);var i=n.prototype;return i.jT=function(n){var i=n.replace("FairPlay",this.iE.releasePid);return t.prototype.jT.call(this,i)},i.Hb=function(){var t=vn.coroutine(fn.mark(function t(n,i){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ag(n,this.iE,this.sT(),this.cT,i);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n}(K_),Ig=function(t){function i(n,i,r){return t.call(this,Wn,n,i,r,Rc.zv)||this}qt(i,t);var r=i.prototype;return r.eT=function(t){return t.clearkey||{}},r.wT=function(){var t=vn.coroutine(fn.mark(function t(n,i){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",l_(n,this.Kb));case 1:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.oT=function(){var i=vn.coroutine(fn.mark(function i(r,e,u,s){var o,a;return fn.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(o=this.Kb,!this.sT()){i.next=5;break}return i.abrupt("return",t.prototype.oT.call(this,r,this.rT,u,s));case 5:if(!o.keys||!o.keys.length){i.next=10;break}return a={keys:o.keys.map(function(t){var n=t;return n||(n={}),{kty:"oct",kid:n.id,k:n.value}})},i.abrupt("return",qr(JSON.stringify(a)).buffer);case 10:throw new jc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The clearkey license has not been configured correctly.");case 11:case"end":return i.stop()}},i,this)}));return function(t,n,r,e){return i.apply(this,arguments)}}(),r.Fb=function(t,n){return vn.resolve(new k(0))},r.Hb=function(n,i){return t.prototype.gT.call(this,n,Oc.fd,i)},i}(v_),Ng=function(t){function n(){return t.apply(this,arguments)||this}return qt(n,t),n.prototype.wT=function(){var t=vn.coroutine(fn.mark(function t(n,i){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",l_(n,this.Kb));case 1:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n}(g_),Dg={url:"",method:"GET",headers:{},body:null,useCredentials:!1};function Cg(t,n,i){return Og.apply(this,arguments)}function Og(){return(Og=vn.coroutine(fn.mark(function t(n,i,r){var e,u,s;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=Gg(i),(u=n.onCertificateRequest)&&"function"==typeof u){t.next=5;break}return t.abrupt("return",vn.resolve(i));case 5:return t.next=8,Si(vn.resolve(u.call(n,e)),r);case 8:if(!te(s=t.sent)){t.next=11;break}return t.abrupt("return",ne(s));case 11:return t.abrupt("return",zg(dn(dn({},Dg),s)));case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function xg(t,n,i,r,e){return Pg.apply(this,arguments)}function Pg(){return(Pg=vn.coroutine(fn.mark(function t(n,i,r,e,u){var s,o,a;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=n.onCertificateResponse,o=qg(i,r,e),s&&"function"==typeof s){t.next=5;break}return t.abrupt("return",vn.resolve(i));case 5:return t.next=8,Si(vn.resolve(s.call(n,o)),u);case 8:return a=t.sent,t.abrupt("return",ne(a));case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Bg(t,n,i,r){return Lg.apply(this,arguments)}function Lg(){return(Lg=vn.coroutine(fn.mark(function t(n,i,r,e){var u;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Fg(n,i,r,e);case 2:if(!((u=t.sent)instanceof ArrayBuffer)){t.next=5;break}return t.abrupt("return",u);case 5:return t.abrupt("return",zg(u));case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Mg(t,n,i,r,e,u){return Ug.apply(this,arguments)}function Ug(){return(Ug=vn.coroutine(fn.mark(function t(n,i,r,e,u,s){var o,a;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=Wg(r,u),t.next=3,Vg(n,new k(i),o,e,s);case 3:return a=t.sent,t.abrupt("return",ne(a).buffer);case 5:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Fg(t,n,i,r){return Hg.apply(this,arguments)}function Hg(){return(Hg=vn.coroutine(fn.mark(function t(n,i,r,e){var u,s,o;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u=null==n?void 0:n.onLicenseRequest,s=Wg(i,r),u&&"function"==typeof u){t.next=5;break}return t.abrupt("return",vn.resolve(s));case 5:return t.next=8,Si(vn.resolve(u.call(n,s)),e);case 8:if(!te(o=t.sent)){t.next=11;break}return t.abrupt("return",ne(o).buffer);case 11:return t.abrupt("return",dn(dn({fairplaySkdUrl:void 0},Dg),o));case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Vg(t,n,i,r,e){return Xg.apply(this,arguments)}function Xg(){return(Xg=vn.coroutine(fn.mark(function t(n,i,r,e,u){var s,o,a;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=null==n?void 0:n.onLicenseResponse,o=qg(i,r,e),s&&"function"==typeof s){t.next=5;break}return t.abrupt("return",vn.resolve(i));case 5:return t.next=8,Si(vn.resolve(s.call(n,o)),u);case 8:return a=t.sent,t.abrupt("return",ne(a));case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Wg(t,n){return dn(dn({},Gg(t)),{fairplaySkdUrl:n})}function qg(t,n,i){return{url:i.QA,status:i.YA,statusText:i.AT,headers:i.yd.Yv(),body:t,request:n}}function zg(t){return new Mc({gd:t.url,md:t.method,yd:t.headers,wd:t.body,Td:t.useCredentials})}function Gg(t){var n;return{url:t.gd,body:null!==(n=jg(t.wd))&&void 0!==n?n:null,headers:t.yd.Yv(),method:t.md,useCredentials:t.Td}}function jg(t){if(t)return"string"==typeof t?qr(t):t instanceof ArrayBuffer?new k(t):er(t)?Kr(t):void 0}var Qg=function(t){function i(n,i,r,e){var u;return(u=t.call(this,n,i,r)||this).rE=e,u}qt(i,t);var r=i.prototype;return r.Fb=function(t,n){return vn.resolve(t)},r.Hb=function(){var t=vn.coroutine(fn.mark(function t(i,r){var e,u,s,o,a;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.NT(re(i).buffer);case 2:return e=t.sent,u=this.aT(e,Rc.zv,Oc.hd,r),t.next=6,Bg(this.rE,u,void 0,r);case 6:if(!((s=t.sent)instanceof ArrayBuffer)){t.next=10;break}return t.abrupt("return",new k(s));case 10:if(""!==s.gd){t.next=12;break}throw new jc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 12:return t.prev=12,t.next=15,this.cT.GA(s);case 15:return o=t.sent,t.next=18,o.LT(r);case 18:return a=t.sent,t.t0=k,t.next=22,Mg(this.rE,a,u,o,void 0,r);case 22:return t.t1=t.sent,t.abrupt("return",new t.t0(t.t1));case 26:throw t.prev=26,t.t2=t.catch(12),Ti(t.t2),new jc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during PlayReady license request",t.t2);case 30:case"end":return t.stop()}},t,this,[[12,26]])}));return function(n,i){return t.apply(this,arguments)}}(),i}(V_),Yg=function(t){function i(n,i,r,e){var u;return(u=t.call(this,n,i,r,Rc.zv)||this).rE=e,u}qt(i,t);var r=i.prototype;return r.Fb=function(){var t=vn.coroutine(fn.mark(function t(i,r){var e,u,s,o,a;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.qb){t.next=2;break}return t.abrupt("return",this.qb);case 2:return e=this.aT(i,Rc.zv,Oc.od,r),t.next=5,Cg(this.rE,e,r);case 5:if(!((u=t.sent)instanceof k)){t.next=9;break}return t.abrupt("return",u);case 9:if(""!==u.gd){t.next=11;break}throw new jc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The certificate request URL has not been correctly configured.");case 11:return t.prev=11,t.next=14,this.cT.GA(u);case 14:return s=t.sent,t.next=17,s.LT(r);case 17:o=t.sent,t.next=24;break;case 20:throw t.prev=20,t.t0=t.catch(11),Ti(t.t0),new jc(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during Widevine certificate request",t.t0);case 24:return a=Wg(e,void 0),t.next=27,xg(this.rE,new k(o),a,s,r);case 27:return t.abrupt("return",t.sent);case 28:case"end":return t.stop()}},t,this,[[11,20]])}));return function(n,i){return t.apply(this,arguments)}}(),r.Hb=function(){var t=vn.coroutine(fn.mark(function t(i,r){var e,u,s,o;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.aT(i,Rc.zv,Oc.sd,r),t.next=3,Bg(this.rE,e,void 0,r);case 3:if(!((u=t.sent)instanceof ArrayBuffer)){t.next=7;break}return t.abrupt("return",new k(u));case 7:if(""!==u.gd){t.next=9;break}throw new jc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return t.prev=9,t.next=12,this.cT.GA(u);case 12:return s=t.sent,t.next=15,s.LT(r);case 15:o=t.sent,t.next=22;break;case 18:throw t.prev=18,t.t0=t.catch(9),Ti(t.t0),new jc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Widevine license request",t.t0);case 22:return t.t1=k,t.next=25,Mg(this.rE,o,e,s,void 0,r);case 25:return t.t2=t.sent,t.abrupt("return",new t.t1(t.t2));case 27:case"end":return t.stop()}},t,this,[[9,18]])}));return function(n,i){return t.apply(this,arguments)}}(),i}(Ng),Zg=function(t){function i(n,i,r,e,u){var s;return(s=t.call(this,n,i,r,e,Rc.zv)||this).rE=u,s}qt(i,t);var r=i.prototype;return r.Fb=function(){var t=vn.coroutine(fn.mark(function t(i,r){var e,u,s,o,a;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.qb){t.next=2;break}return t.abrupt("return",this.qb);case 2:return e=this.ZT(r),t.next=5,Cg(this.rE,e,r);case 5:if(u=t.sent,!er(u)){t.next=8;break}return t.abrupt("return",u);case 8:return t.prev=8,t.next=11,this.cT.GA(u);case 11:return s=t.sent,t.next=14,s.LT();case 14:return o=t.sent,a=Wg(e,void 0),t.next=18,xg(this.rE,new k(o),a,s,r);case 18:return t.abrupt("return",t.sent);case 21:throw t.prev=21,t.t0=t.catch(8),Ti(t.t0),new jc(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during FairPlay certificate request",t.t0);case 25:case"end":return t.stop()}},t,this,[[8,21]])}));return function(n,i){return t.apply(this,arguments)}}(),r.Hb=function(){var t=vn.coroutine(fn.mark(function t(i,r){var e,u,s,o;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.aT(i,Rc.zv,Oc.ed,r),t.next=3,Bg(this.rE,e,this.eE,r);case 3:if(!((u=t.sent)instanceof ArrayBuffer)){t.next=7;break}return t.abrupt("return",new k(u));case 7:if(""!==u.gd){t.next=9;break}throw new jc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return t.prev=9,t.next=12,this.cT.GA(u);case 12:return s=t.sent,t.next=15,s.LT(r);case 15:return o=t.sent,t.t0=k,t.next=19,Mg(this.rE,o,e,s,this.eE,r);case 19:return t.t1=t.sent,t.abrupt("return",new t.t0(t.t1));case 23:throw t.prev=23,t.t2=t.catch(9),Ti(t.t2),new jc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during FairPlay license request",t.t2);case 27:case"end":return t.stop()}},t,this,[[9,23]])}));return function(n,i){return t.apply(this,arguments)}}(),r.jT=function(){var n=vn.coroutine(fn.mark(function n(i){var r;return fn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.eE=i,!(null===(r=this.rE)||void 0===r?void 0:r.extractFairplayContentId)){n.next=3;break}return n.abrupt("return",vn.resolve(this.rE.extractFairplayContentId(i)));case 3:return n.abrupt("return",t.prototype.jT.call(this,i));case 4:case"end":return n.stop()}},n,this)}));return function(t){return n.apply(this,arguments)}}(),i}(K_),Jg=function(){function t(){}var n=t.prototype;return n.uE=function(t,n){return new c_(t,n,this)},n.sE=function(t,n,i,r){switch(t.Bo.Pu){case In.Du:return this.oE(n,i,r);case In.Nu:return this.aE(n,i,r);case In.Cu:return this.cE(t,n,i,r);case In.Ou:default:return this.hE(n,i,r)}},n.oE=function(t,n,i){var r,e=(r=t).integration===_h&&X(r.customIntegrationId)?t.customIntegrationId:t.integration;if(e&&Eh.Vl.Ul(e,Ln)){var u=Eh.Vl.Hl(e,Ln,t);return new Yg(t,n,i,u)}switch(e){case th:return new T_(t,n,i);case eh:return new E_(t,n,i);case rh:return new R_(t,n,i);case nh:return new D_(t,n,i);case oh:return new P_(t,n,i);case ch:return new B_(t,n,i);case hh:return new U_(t,n,i);case vh:return new F_(t,n,i);case sh:default:return new Ng(t,n,i,Rc.zv)}},n.aE=function(t,n,i){var r=t.integration;if(r&&Eh.Vl.Ul(r,xn)){var e=Eh.Vl.Hl(r,xn,t);return new Qg(t,n,i,e)}switch(r){case th:return new W_(t,n,i);case eh:return new G_(t,n,i);case rh:return new j_(t,n,i);case nh:return new Q_(t,n,i);case oh:return new Y_(t,n,i);case hh:return new J_(t,n,i);case vh:return new $_(t,n,i);case sh:default:return new V_(t,n,i)}},n.cE=function(t,n,i,r){var e=n.integration;if(e&&Eh.Vl.Ul(e,Un)){var u=Eh.Vl.Hl(e,Un,n);return new Zg(t,n,i,r,u)}switch(e){case ih:return new tg(t,n,i,r);case eh:return new ng(t,n,i,r);case uh:return new eg(t,n,i,r);case th:return new ug(t,n,i,r);case rh:return new sg(t,n,i,r);case nh:return new og(t,n,i,r);case sh:return new ag(t,n,i,r);case oh:return new cg(t,n,i,r);case ah:return new hg(t,n,i,r);case ch:return new fg(t,n,i,r);case hh:return new vg(t,n,i,r);case fh:return new dg(t,n,i,r);case vh:return new lg(t,n,i,r);case dh:return new _g(t,n,i,r);case lh:return new Rg(t,n,i,r);default:return new K_(t,n,i,r,Rc.An)}},n.hE=function(t,n,i){return new Ig(t,n,i)},n.fE=function(t){return t.Pu===In.Nu||t.Pu===In.Du||t.Pu===In.Cu||t.Pu===In.Ou},t}();function $g(t,n){switch(n){case In.Du:return t.widevine;case In.Nu:return t.playready;case In.Cu:return t.fairplay;default:return}}var Kg,tw=function(t){function i(n,i,r){var e;return void 0===r&&(r=new Jg),(e=t.call(this,r)||this).vE=void 0,e.oo=void 0,e.dE=new Kl,e.lE=function(){var t=vn.coroutine(fn.mark(function t(n){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.Ab(n.Lu,n.Us);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),Ai(t.t0)||e.zo(t.t0);case 8:case"end":return t.stop()}},t,null,[[0,5]])}));return function(n){return t.apply(this,arguments)}}(),e._E=function(t){e.ys(t)},e.gE=function(t){e.ys(t),e.ys(new r_(t.errorObject))},e.wE=n,e.$A=i,e.wE.ps(Ui.Ps,e.lE),e}qt(i,t);var e=i.prototype;return e.Eb=function(){var t;return null===(t=this.oo)||void 0===t?void 0:t.Bo},e.Do=function(t){if(this.vE)throw new d("Invalid state");this.vE=t},e.wb=function(n){if(!this.vE)throw new d("Invalid state");t.prototype.wb.call(this,n)},e.pb=function(){var t=vn.coroutine(fn.mark(function t(i,e,u){var s,o,a,c,h,f,v,d,l,_,g;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(bi(u),e.byteLength){t.next=3;break}return t.abrupt("return");case 3:if(this._b&&this._b.mb.length){t.next=5;break}throw new jc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_MISSING,"Missing configuration for encrypted content");case 5:if(s=this._b,i===Dn||i===On||i===Cn){t.next=9;break}return t.abrupt("return");case 9:o=nf(i,e),c=0,h=s.mb;case 11:if(!(c<h.length)){t.next=42;break}if(f=h[c],bi(u),(v=o[f.Bo.Mu])&&f.Bo.Lu===i){t.next=17;break}return t.abrupt("continue",39);case 17:return t.prev=17,t.next=20,this.yE(f.Bo,u);case 20:if(!(d=t.sent).nT){t.next=24;break}return t.next=24,d.zb();case 24:if(l=this.wE.gl,_={Lu:f.Bo.Lu,Us:v,Jb:l},!this.mE(d,_)){t.next=32;break}return t.next=29,d.Qb(_);case 29:return g=t.sent,t.next=32,g.yo();case 32:return t.abrupt("return");case 35:t.prev=35,t.t0=t.catch(17),Ti(t.t0),a=t.t0;case 39:c++,t.next=11;break;case 42:return t.next=44,r.Zu();case 44:if(!t.sent){t.next=48;break}throw new jc(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported",a);case 48:throw new jc(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Cannot create content decryption session",a);case 49:case"end":return t.stop()}},t,this,[[17,35]])}));return function(n,i,r){return t.apply(this,arguments)}}(),e.mE=function(t,n){return r.wc.Ga||!t.Zb(n)},e.yE=function(t,n){var i=this;return this.dE.vb(function(n){return i.kE(t,n)},n)},e.kE=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r,e,u,s,o;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(bi(i),this._b){t.next=3;break}throw new d("Not initialized");case 3:if(!this.oo){t.next=7;break}if(this.oo.Bo===n){t.next=6;break}throw new d("Internal key system error");case 6:return t.abrupt("return",this.oo);case 7:if(this.gb.fE(n)){t.next=9;break}throw new d("Unsupported "+n.Fu+" key system");case 9:if(r=this.pE(n)){t.next=12;break}throw new d("Missing configuration for "+n.Fu+" key system");case 12:return e=this._b,u=this.gb.sE(r,e.$b,r.tT,this.$A),t.next=16,this.xo(n,r,u,i);case 16:return s=t.sent,(o=this.gb.uE(s,u)).ps(Ta.sf,this._E),o.ps(Ta.uf,this.gE),o.ps(Ta.Lf,this.gs),this.oo=o,t.abrupt("return",o);case 23:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),e.xo=function(){var t=vn.coroutine(fn.mark(function t(n,i,r,e){var u,s,o,a,c,h,f,v;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return u=this._b,s=n.Lu,o=$g(u.$b,i.Bo.Pu),a=(null==o?void 0:o.persistentState)||r.yT,c=(null==o?void 0:o.distinctiveIdentifier)||void 0,h=Boolean(null==o?void 0:o.audioRobustness)||Boolean(null==o?void 0:o.videoRobustness),t.prev=6,bi(e),f=nw(u,s,a,c,r.Lo,(null==o?void 0:o.audioRobustness)||"SW_SECURE_CRYPTO",(null==o?void 0:o.videoRobustness)||"SW_SECURE_CRYPTO"),t.next=11,this.vE.AE(n,[f]);case 11:return t.abrupt("return",t.sent);case 14:if(t.prev=14,t.t0=t.catch(6),Ti(t.t0),bi(e),!h){t.next=20;break}throw t.t0;case 20:return v=nw(u,s,a,c,r.Lo,void 0,void 0),t.next=23,this.vE.AE(n,[v]);case 23:return t.abrupt("return",t.sent);case 24:case"end":return t.stop()}},t,this,[[6,14]])}));return function(n,i,r,e){return t.apply(this,arguments)}}(),e.pE=function(t){if(this._b)for(var n=0,i=this._b.mb;n<i.length;n++){var r=i[n];if(r.Bo===t)return r}},e.zo=function(t){var i=t instanceof jc?t:new jc(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.gE(new n_(i))},e.bE=function(){var t=vn.coroutine(fn.mark(function t(){var n;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.dE.fs();case 2:if(!(n=this.oo)){t.next=8;break}return n.Ts(Ta.Lf,this.gs),this.oo=void 0,t.next=8,n.vh();case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),e.bb=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.vE=void 0,t.next=3,this.bE();case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),e.vh=function(){var n=vn.coroutine(fn.mark(function n(){return fn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.wE.Ts(Ui.Ps,this.lE),n.next=3,t.prototype.vh.call(this);case 3:return n.next=5,this.dE.vh();case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i}(i_);function nw(t,n,i,r,e,u,s){return{initDataTypes:[n],audioCapabilities:iw(t.TE,u),videoCapabilities:iw(t.EE,s),persistentState:i,distinctiveIdentifier:r,Lo:e}}function iw(t,n){return t.length?t.map(function(t){return{contentType:t,robustness:n}}):void 0}!function(t){t[t.SE=0]="SE",t[t.RE=1]="RE"}(Kg||(Kg={}));var rw=t,ew=rw.MediaSource,uw=rw.WebKitMediaSource,sw=rw.TextTrack,ow=s&&s.createElement("video"),aw=(s&&s.documentElement.style,P.Ot&&P.an&&P.cn<=26),cw=(P.qt,!!p),hw=!(!ew&&!uw),fw=!!sw,vw=(s&&(s.fullscreenEnabled||s.webkitFullscreenEnabled||s.mozFullScreenEnabled||s.msFullscreenEnabled)||P.Xt,P.in&&P.rn,ow&&ow.canPlayType&&(""!==ow.canPlayType("application/vnd.apple.mpegURL")||P.Bt&&!P.in&&P.Lt>=4)),dw=ow&&ow.canPlayType&&""!==ow.canPlayType("video/mp4")&&!aw,lw=hw&&!P.un&&!P.Kt&&!P.$t&&((ew||uw).isTypeSupported?(ew||uw).isTypeSupported('audio/mp4; codecs="mp4a.40.34"'):ow&&ow.canPlayType&&""!==ow.canPlayType('audio/mp4; codecs="mp4a.40.34"')),_w=hw&&!P.un&&(lw||((ew||uw).isTypeSupported?(ew||uw).isTypeSupported("audio/mpeg"):ow&&ow.canPlayType&&""!==ow.canPlayType("audio/mpeg"))),gw=hw&&!(P.nn&&P.Ot)&&((ew||uw).isTypeSupported?(ew||uw).isTypeSupported('video/mp4; codecs="avc1.4d401e"'):dw),ww=(P.un||P.Kt||P.$t,P.tn),yw=ww&&!1,mw=!P.un,kw=P.Kt&&P.xt&&P.Pt<=6.1,pw=ow&&"onresize"in ow;try{u&&u.top!==u.self}catch(t){!0}var Aw,bw=.001,Tw=1e4,Ew=3,Sw=function(t){function n(n){var i;return(i=t.call(this,wa.Qh)||this).currentTime=n,i}return qt(n,t),n}(Vi),Rw=function(t){function n(n){var i;return(i=t.call(this,wa.Yh)||this).currentTime=n,i}return qt(n,t),n}(Vi),Iw=function(t){function n(n,i){var r;return void 0===i&&(i=!1),(r=t.call(this)||this).IE=n,r.NE=i,r.DE=pa.Zh,r.CE=!0,r.OE=!1,r.xE=!1,r.PE=function(t){var n=t.readyState;n!==r.DE&&r.ys(t),n===pa.Zh&&(r.OE=!1,r.xE=!1),r.BE(n),r.LE(n),r.ME(n),r.maybeDispatchCanPlayThroughEvent(n),r.UE(n),r.FE(n),r.DE=n},r.HE=function(){r.FE(r.DE),r.UE(r.DE),r.CE=r.IE.Rv},r.VE=function(){r.CE=r.IE.Rv},r.IE.ps(wa.Zc,r.PE),r.IE.ps(Ta.pf,r.HE),r.IE.ps(Ta.kf,r.VE),r.NE&&r.IE.ps(wa.Yh,r.gs),r}qt(n,t);var i=n.prototype;return i.BE=function(t){!this.xE&&t>=pa.Jh&&(this.xE=!0,this.ys(new La(this.IE.Av,t)))},i.LE=function(t){!this.OE&&t>=pa.$h&&(this.OE=!0,this.ys(new Ca(this.IE.Av,t)))},i.UE=function(t){this.NE||(t>=pa.Kh&&this.DE<pa.Kh&&!this.IE.Rv||this.XE&&t>=pa.Kh)&&this.ys(new Rw(this.IE.Av))},i.FE=function(t){!this.WE(t)||this.IE.Tv||this.IE.xs||this.ys(new Sw(this.IE.Av))},i.ME=function(t){this.DE<=pa.$h&&t>=pa.Kh&&this.ys(new Sa(this.IE.Av,t))},i.maybeDispatchCanPlayThroughEvent=function(t){t===pa.tf&&this.ys(new Ea(this.IE.Av,t))},i.WE=function(t){var n=!this.IE.Rv&&t<=pa.$h,i=!this.CE&&this.DE<=pa.$h;return n&&!i},i.fh=function(){this.DE=pa.Zh,this.CE=!0,this.OE=!1,this.xE=!1},i.vh=function(){this.bs(),this.NE&&this.IE.Ts(wa.Yh,this.gs),this.IE.Ts(Ta.pf,this.HE),this.IE.Ts(Ta.kf,this.VE),this.IE.Ts(wa.Zc,this.PE)},T(n,[{key:"XE",get:function(){return!this.IE.Rv&&this.CE}}]),n}(Fi);!function(t){t.qE="nokey",t.zE="keyexpired",t.GE="sessionnotopened",t.jE="insufficientoutputprotection",t.QE="insufficientsecurity",t.YE="frametoolarge",t.ZE="loststate",t.JE="resourcebusy",t.$E="unsupportedoperation"}(Aw||(Aw={}));var Nw,Dw,Cw,Ow=[Aw.$E,Aw.JE,Aw.ZE,Aw.YE,Aw.QE,Aw.jE,Aw.GE,Aw.zE,Aw.qE],xw=[Ta.sf,Ta.uf,ca.Ph];[].concat(a_,[ca.Ph],Ow);function Pw(){return Cw||(Cw=Tn&&Tn.document&&Tn.document.createElement("video")),Cw}!function(t){t.ld="video",t.dd="audio"}(Nw||(Nw={})),function(t){t[t.KE=0]="KE",t[t.tS=1]="tS",t[t.nS=2]="nS",t[t.iS=3]="iS",t[t._v=4]="_v",t[t.rS=5]="rS",t[t.pv=6]="pv",t[t.eS=7]="eS",t[t.uS=8]="uS"}(Dw||(Dw={}));var Bw=function(t){function n(n,i,r,e,u,s,o){var a;return void 0===s&&(s=new Jg),void 0===o&&(o=nu()),(a=t.call(this)||this).vE=void 0,a.sS=void 0,a.oS=void 0,a.aS=void 0,a.cS=function(t){var n=t.xs,i=n.code,r=new De(Jc(i),"Something went wrong during native playback.",n);a.sS=new Qc(i,r.message,n.message),a.oS=r,a.ys(new r_(r))},a.hS=function(){a.ys(new xa(a.Av,a.ll))},a.fS=function(t){a.Rv||(a.aS=void 0),a.ys(t)},a.vS=function(t){a.aS=void 0,a.ys(t)},a.dS=function(){a.ys(new Nv(a.gl))},a.lS=function(){a.Cv>0&&a.Dv>0&&a.ys(new $l)},a._S=function(t){a.Pd.oh(new Tv(t.track))},a.gS=function(t){var n=Uw(a.Pd,t.track);n&&a.Pd.ah(n)},a.wS=function(){a.yS(a.Pd)},a.mS=function(t){a.Bd.oh(new Iv(t.track))},a.kS=function(t){var n=Uw(a.Bd,t.track);n&&a.Bd.ah(n)},a.pS=function(){a.yS(a.Bd)},a.AS=function(t){t.type===Ta.uf&&(a.sS=Zc(t.errorObject),a.oS=t.errorObject),a.gs(t)},a.bS=i,a.$A=r,a.Xu=o,a.wE=a.bS.TS(Tf.ld),a.ES=a.wE.SS.preload,a.gb=s,a.RS=new Iw(a.wE,!0),a.RS.ps(Aa,a.gs),a.IS=new tw(a.wE,a.$A,a.gb),a.IS.ps(xw,a.AS),a.NS(),a.Pd=new _v,a.Bd=new _v,a.DS(),a.CS=new Gl(a.wE,a.$A),a.Ld=new ya,a.nl(),a}qt(n,t);var i=n.prototype;return i.il=function(){this.wE.il()},i.nl=function(){this.wE.nl()},i.Qd=function(){var t=vn.coroutine(fn.mark(function t(n,i,r){var e;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return bi(r),e={Pu:Kg.SE,Hh:n.src,OS:n.type,xS:[],El:this.ES,PS:n.crossOrigin,BS:i.metadata&&i.metadata.title},t.next=4,this.wE.mo(e);case 4:return this.vE=t.sent,bi(r),t.next=8,this.IS.fh();case 8:this.IS.Do(this.vE),this.IS.wb(this.LS(n)),this.Ld.kh=this.wE.Xd,i.textTracks&&this.MS(i.textTracks),Jl(this.Xd);case 13:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.MS=function(t){for(var n,i=0;i<t.length;i++){var r=t[i];if(this.wE.US()&&P.Xt&&fw&&!Fl(r.kind,r.label)&&this.FS(r)){var e=null!==(n=r.kind)&&void 0!==n?n:Hf.ck;this.wE.HS(r.src,e,r.label,r.srclang)}else{if(void 0===r.src)continue;this.CS.KA(r)}}},i.FS=function(t){return!t.format||"webvtt"===t.format},i.qd=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.wE.qd();case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:if(this.VS){t.next=12;break}return t.next=10,this.wE.Rs(Ta.Af);case 10:t.next=7;break;case 12:case"end":return t.stop()}},t,this,[[0,5]])}));return function(){return t.apply(this,arguments)}}(),i.zd=function(){this.wE.zd()},i.Yd=function(){return void 0!==this.wE.SS.webkitShowPlaybackTargetPicker},i.Zd=function(){this.wE.SS.webkitShowPlaybackTargetPicker&&this.wE.SS.webkitShowPlaybackTargetPicker()},i.Jd=function(){this.wE.SS.webkitShowPlaybackTargetPicker&&this.wE.SS.webkitShowPlaybackTargetPicker()},i.ul=function(){return this.wE.SS},i.sl=function(){return this.wE.XS},i.fh=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.sS=void 0,this.oS=void 0,this.vE&&(this.vE=void 0),this.Ld.fh(),t.next=6,this.wE.fh();case 6:return this.RS.fh(),t.next=9,this.IS.fh();case 9:return this.El=this.ES,this.Hd.fh(),this.Vd.fh(),t.next=14,this.CS.fh();case 14:this.aS=void 0;case 15:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.vh=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.fh();case 2:return this.bs(),this.WS(),this.qS(),t.next=7,this.IS.vh();case 7:return this.RS.vh(),t.next=10,this.bS.zS(this.wE);case 10:return this.Pd.vh(),this.Bd.vh(),this.Ld.vh(),t.next=15,this.CS.vh();case 15:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.NS=function(){this.wE.ps(Ta.pf,this.gs),this.wE.ps(Ta.kf,this.gs),this.wE.ps(Ta.Pf,this.hS),this.wE.ps(Ta.Af,this.gs),this.wE.ps(Ta._f,this.gs),this.wE.ps(Ta.Rf,this.gs),this.wE.ps(Ta.Sf,this.fS),this.wE.ps(Ta.vf,this.gs),this.wE.ps(Ta.bf,this.gs),this.wE.ps(Ta.Bf,this.gs),this.wE.ps(Ta.hf,this.gs),this.wE.ps(Ta.Ef,this.lS),this.wE.ps(wa.Yh,this.vS),this.wE.ps(ca.Ph,this.cS),this.wE.SS.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.dS)},i.WS=function(){this.wE.Ts(Ta.pf,this.gs),this.wE.Ts(Ta.kf,this.gs),this.wE.Ts(Ta.Pf,this.hS),this.wE.Ts(Ta.Af,this.gs),this.wE.Ts(Ta._f,this.gs),this.wE.Ts(Ta.Rf,this.gs),this.wE.Ts(Ta.Sf,this.fS),this.wE.Ts(Ta.vf,this.gs),this.wE.Ts(Ta.bf,this.gs),this.wE.Ts(Ta.Bf,this.gs),this.wE.Ts(Ta.hf,this.gs),this.wE.Ts(Ta.Ef,this.lS),this.wE.Ts(wa.Yh,this.vS),this.wE.Ts(ca.Ph,this.cS),this.wE.SS.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.dS)},i.LS=function(t){if(t.contentProtection&&t.contentProtection.fairplay){return{$b:t.contentProtection||{},mb:[{Bo:Xn,kb:[],tT:void 0,ra:void 0}],TE:[],EE:["video/mp4"]}}},i.DS=function(){var t=this.wE.SS.audioTracks,n=this.wE.SS.videoTracks;t&&(t.addEventListener("addtrack",this._S),t.addEventListener("removetrack",this.gS),t.addEventListener("change",this.wS)),n&&(n.addEventListener("addtrack",this.mS),n.addEventListener("removetrack",this.kS),n.addEventListener("change",this.pS))},i.qS=function(){var t=this.wE.SS.audioTracks,n=this.wE.SS.videoTracks;t&&(t.removeEventListener("addtrack",this._S),t.removeEventListener("removetrack",this.gS),t.removeEventListener("change",this.wS)),n&&(n.removeEventListener("addtrack",this.mS),n.removeEventListener("removetrack",this.kS),n.removeEventListener("change",this.pS))},i.yS=function(t){for(var n=0;n<t.lh;n++){t.sh(n).Ak()}},i.vl=function(){this.IS.bE().then(j)},T(n,[{key:"VS",get:function(){var t=this.wE.dl,n=this.Av;return t.Sm(n,.01)}},{key:"Hd",get:function(){return this.Pd}},{key:"dl",get:function(){return this.wE.dl.mm()}},{key:"ll",get:function(){return this.wE.ll},set:function(t){t&&this.wE.GS(t)}},{key:"Av",get:function(){return void 0!==this.aS?this.aS:this.wE.Av},set:function(t){this.gl&&(this.aS=t),this.wE.Qs(t)}},{key:"bv",get:function(){return this.wE.bv}},{key:"Tv",get:function(){return this.wE.Tv}},{key:"xs",get:function(){return this.sS}},{key:"Ev",get:function(){return this.oS}},{key:"Wd",get:function(){}},{key:"gl",get:function(){return this.wE.gl}},{key:"Cd",get:function(){return dn(dn({},{wl:0,yl:0,ml:0,kl:0,pl:0,Al:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}),this.wE.jS())}},{key:"Sv",get:function(){return this.wE.Sv},set:function(t){this.wE.Sv=t}},{key:"bl",get:function(){return!0}},{key:"Rv",get:function(){return this.wE.Rv}},{key:"Iv",get:function(){return this.wE.Iv},set:function(t){this.wE.Iv=t}},{key:"Tl",get:function(){return this.wE.SS.played}},{key:"El",get:function(){return this.ES},set:function(t){this.ES=t,this.vE&&(this.vE.El=t)}},{key:"Mh",get:function(){return this.wE.Mh}},{key:"Sl",get:function(){return this.wE.Sl.mm()}},{key:"Nv",get:function(){return this.wE.Nv}},{key:"QS",get:function(){return this.wE.QS}},{key:"Xd",get:function(){return this.Ld}},{key:"Vd",get:function(){return this.Bd}},{key:"Dv",get:function(){return this.wE.Dv}},{key:"Cv",get:function(){return this.wE.Cv}},{key:"Ov",get:function(){return this.wE.Ov},set:function(t){this.wE.Ov=t}}]),n}(ma);function Lw(t){return!t.type||!(!Pw().canPlayType||!Pw().canPlayType(t.type))}var Mw=function(){function t(){this.YS=Dw.uS}var n=t.prototype;return n.Pl=function(t,n,i,r,e,u){return new Bw(t,n,i,r,e)},n.ZS=function(t,n){return Lw(t)},n.JS=function(){return!1},t}();function Uw(t,n){for(var i=0,r=t.dh;i<r.length;i++){var e=r[i];if(e.Ek===n)return e}}var Fw=function(){function t(){this.$S=new Mw,this.KS=[]}t.tR=function(){return this.gn};var n=t.prototype;return n.nR=function(t){this.KS.push(t)},n.Pl=function(t,n,i,r,e,u){for(var s=this.$S.Pl(t,n,i,r,e,u),o=0,a=this.KS;o<a.length;o++){s=(0,a[o])(s,i,r)}return s},n.ZS=function(t,n){return this.$S.ZS(t,n)},n.JS=function(){return!1},T(t,[{key:"YS",get:function(){return this.$S.YS}}]),t}();function Hw(t,n){return Rf(t.YS,n.YS)}function Vw(t){Ww.gn.iR(t)}function Xw(t,n){return Ww.gn.rR(t,n)}Fw.gn=new Fw;var Ww=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).eR=Fw.tR(),n}qt(n,t);var i=n.prototype;return i.uR=function(t){this.eR=t},i.sR=function(){return this.eR},i.rR=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r,e,u,s,o,a;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<n.length)){t.next=11;break}return e=n[r],t.next=5,this.oR(e,i);case 5:if(!(u=t.sent)){t.next=8;break}return t.abrupt("return",{aR:e,cR:u});case 8:r++,t.next=1;break;case 11:s=this.eR,o=0;case 13:if(!(o<n.length)){t.next=20;break}if(a=n[o],!s.ZS(a,i)){t.next=17;break}return t.abrupt("return",{aR:a,cR:s});case 17:o++,t.next=13;break;case 20:return t.abrupt("return",{aR:n[0],cR:s});case 21:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n}(function(){function t(){this.hR=[]}var n=t.prototype;return n.iR=function(t){this.hR.push(t),this.hR.sort(Hw)},n.oR=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r,e,u,s;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.hR;case 1:if(!(r<e.length)){t.next=17;break}if(u=e[r],!q(s=u.ZS(n,i))){t.next=10;break}return t.next=7,s;case 7:t.t0=t.sent,t.next=11;break;case 10:t.t0=Boolean(s);case 11:if(!t.t0){t.next=14;break}return t.abrupt("return",u);case 14:r++,t.next=1;break;case 17:return t.abrupt("return",void 0);case 18:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),t}());Ww.gn=new Ww;var qw,zw=function(){function t(t){this.fR=Tn&&Tn.document&&Tn.document.createElement("div"),ze(this.fR),t.appendChild(this.fR)}return t.prototype.vh=function(){Ve(this.fR)},t}();function Gw(t){switch(t){case qw.rk:case"":return qw.rk;case qw.T_:return qw.T_;case qw.vR:default:return qw.vR}}!function(t){t.uS="",t.vR="none",t.T_="metadata",t.rk="auto"}(qw||(qw={}));var jw=[ca.Ph,Ta.ff,Ta.Ps,Ta.Uf,Ta.nf,Ta.df,Ta.yf,Ta.mf,Ta.Nf,Ta.Cf,wa.qh,wa.zh,wa.Gh,wa.jh,wa.Zc,wa.Qh,wa.Yh,Ta.uf,Ta.sf,Ta.hf,Ta.vf,Ta._f,Ta.gf,Ta.pf,Ta.Af,Ta.kf,Ta.bf,Ta.Ef,Ta.Rf,Ta.Sf,Ta.Pf,Ta.Bf,Ta.Tf,Ta.wf,Ta.If],Qw=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this)||this).dR=void 0,o.ES=qw.vR,o.lR=void 0,o._R=!0,o.Pd=new ha,o.Bd=new ha,o.Ld=new ya,o.Md=new zc,o.gR=n,o.Jo=i,o.$A=r,o.wR=e,o.yR=s,o.mR=new pn(u,o.yR),o.mR.kR(o.gR),o.pR=new zw(o.gR),o.AR=Ww.gn.sR(),o.bR=o.TR(o.AR),o.bR.El=o.El,o.ER(),o}qt(n,t);var i=n.prototype;return i.zd=function(){this.bR.zd()},i.qd=function(){this.bR.qd()},i.Gd=function(){return this.Qd({sources:[]})},i.$d=function(){this.mR.SR()},i.Kd=function(t){yc(this,t)},i.tl=function(){},i.al=function(t){return!1},i.TR=function(t){return t.Pl(this.gR,this.mR,this.$A,this.Jo,this.wR,this.yR)},i.ER=function(){this.Pd.kh=this.bR.Hd,this.Bd.kh=this.bR.Vd,this.Ld.kh=this.bR.Xd,this.Md.kh=this.bR.Wd,this.bR.ps(jw,this.gs)},i.RR=function(){this.bR.Ts(jw,this.gs),this.Pd.kh=void 0,this.Bd.kh=void 0,this.Ld.kh=void 0,this.Md.kh=void 0},i.jd=function(){return this.lR},i.Qd=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r,e,u,s,o,a;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(bi(i),this.lR=n,n){t.next=4;break}return t.abrupt("return");case 4:if(!cc(r=n.sources.filter(rv))){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,Xw(r,n);case 9:if(e=t.sent,bi(i),u=e.aR,s=e.cR,o=this.sl(),a=wc(this),this.AR===s&&!this.xs){t.next=25;break}return this.RR(),t.next=19,this.bR.vh();case 19:bi(i),this.AR=s,this.bR=this.TR(s),Yw(this.bR,a),mc(this,a,this),this.ER();case 25:return this.bR.El=this.El,this._R?this.bR.nl():this.bR.il(),t.next=29,this.bR.Qd(u,n,i);case 29:bi(i),this.IR(u),this.sl()!==o&&this.ys(new pc);case 32:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.IR=function(t){this.dR!==t&&(this.dR=t,this.ys(new Ac(t)))},i.Yd=function(){return this.bR.Yd()},i.Zd=function(){this.bR.Zd()},i.Jd=function(){this.bR.Jd()},i.ul=function(){return this.bR.ul()},i.sl=function(){return this.bR.sl()},i.ol=function(){return this.mR.NR.map(function(t){return t.SS})},i.vl=function(){this.bR.vl()},i.fh=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.lR=void 0,this.IR(void 0),t.next=4,this.bR.fh();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.vh=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.bs(),t.next=3,this.fh();case 3:return t.next=5,this.bR.vh();case 5:this.mR.vh(),this.pR.vh(),this.Pd.vh(),this.Bd.vh(),this.Ld.vh(),this.Md.vh();case 11:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.nl=function(){this._R=!0,this.bR.nl()},i.il=function(){this._R=!1,this.bR.il()},T(n,[{key:"Hd",get:function(){return this.Pd}},{key:"dl",get:function(){return this.bR.dl}},{key:"_l",get:function(){return this.gR}},{key:"xs",get:function(){return this.bR.xs}},{key:"Ev",get:function(){return this.bR.Ev}},{key:"ll",get:function(){return this.bR.ll},set:function(t){this.bR.ll=t}},{key:"fl",get:function(){return this.dR}},{key:"Av",get:function(){return this.bR.Av},set:function(t){this.bR.Av=t}},{key:"bv",get:function(){return this.bR.bv}},{key:"Tv",get:function(){return this.bR.Tv}},{key:"Wd",get:function(){return this.Md}},{key:"gl",get:function(){return this.bR.gl}},{key:"Cd",get:function(){return this.bR.Cd}},{key:"Sv",get:function(){return this.bR.Sv},set:function(t){this.bR.Sv=t}},{key:"bl",get:function(){return this.bR.bl}},{key:"Rv",get:function(){return this.bR.Rv}},{key:"Iv",get:function(){return this.bR.Iv},set:function(t){this.bR.Iv=t}},{key:"Tl",get:function(){return this.bR.Tl}},{key:"El",get:function(){return this.ES},set:function(t){this.ES=t,this.bR&&(this.bR.El=this.ES)}},{key:"Mh",get:function(){return this.bR.Mh}},{key:"Sl",get:function(){return this.bR.Sl}},{key:"Nv",get:function(){return this.bR.Nv}},{key:"Xd",get:function(){return this.Ld}},{key:"Dv",get:function(){return this.bR.Dv}},{key:"Vd",get:function(){return this.Bd}},{key:"Cv",get:function(){return this.bR.Cv}},{key:"Ov",get:function(){return this.bR.Ov},set:function(t){this.bR.Ov=t}}]),n}(ka);function Yw(t,n){t.Sv!==n.Sv&&(t.Sv=n.Sv),t.Ov!==n.Ov&&(t.Ov=n.Ov),t.Iv!==n.Iv&&(t.Iv=n.Iv)}var Zw=function(t){function n(){return t.call(this,Ra.Ph)||this}return qt(n,t),n}(Vi),Jw=new(function(t){function n(){return t.apply(this,arguments)||this}qt(n,t);var i=n.prototype;return i.fv=function(){this.ys(new Zw)},i.vv=function(){},i.vh=function(){this.bs()},T(n,[{key:"hv",get:function(){return!1}},{key:"cv",get:function(){return!1}}]),n}(Fi)),$w=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).gR=n,e.DR=i,e.CR=new _v,e.OR=new Dl,e.xR=r,e}qt(n,t);var i=n.prototype;return i.al=function(t){return!0},i.il=function(){},i.qd=function(){throw this.ys(new za(this.xR)),this.DR},i.zd=function(){},i.jd=function(){},i.Qd=function(){var t=vn.coroutine(fn.mark(function t(n,i){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:throw bi(i),this.ys(new za(this.xR)),this.DR;case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.nl=function(){},i.Gd=function(){return vn.resolve()},i.ul=function(){},i.sl=function(){return Jw},i.ol=function(){return[]},i.$d=function(){},i.Kd=function(t){},i.tl=function(){},i.Yd=function(){return!1},i.Zd=function(){},i.Jd=function(){},i.vl=function(){},i.fh=function(){return vn.resolve()},i.vh=function(){return this.bs(),this.CR.vh(),this.OR.vh(),vn.resolve()},T(n,[{key:"Hd",get:function(){return this.CR}},{key:"dl",get:function(){return xf.ik().mm()}},{key:"ll",get:function(){return new Date(NaN)},set:function(t){}},{key:"fl",get:function(){}},{key:"Av",get:function(){return 0},set:function(t){}},{key:"bv",get:function(){return 0}},{key:"_l",get:function(){return this.gR}},{key:"Tv",get:function(){return!0}},{key:"xs",get:function(){return this.DR}},{key:"Ev",get:function(){return this.xR}},{key:"Wd",get:function(){}},{key:"Cd",get:function(){return{wl:0,yl:0,ml:0,kl:0,pl:0,Al:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"Sv",get:function(){return!1},set:function(t){}},{key:"bl",get:function(){return!0}},{key:"Rv",get:function(){return!0}},{key:"Iv",get:function(){return 0},set:function(t){}},{key:"Tl",get:function(){return xf.ik().mm()}},{key:"El",get:function(){return qw.vR},set:function(t){}},{key:"Mh",get:function(){return pa.Zh}},{key:"Sl",get:function(){return xf.ik().mm()}},{key:"Nv",get:function(){return!1}},{key:"Xd",get:function(){return this.OR}},{key:"Dv",get:function(){return 0}},{key:"Vd",get:function(){return this.CR}},{key:"Cv",get:function(){return 0}},{key:"Ov",get:function(){return 1},set:function(t){}},{key:"gl",get:function(){return!1}}]),n}(ka);var Kw=function(){function t(t){this.PR=t}return t.prototype.LR=function(t){var n,i,r,e,u,s,o,a=[];if(!t)return"";var c=t.length%4;if(c>0)for(;c++<4;)t+=this.PR.charAt(64);for(n=0;n<t.length;n+=4)i=(o=this.PR.indexOf(t.charAt(n))<<18|this.PR.indexOf(t.charAt(n+1))<<12|(u=this.PR.indexOf(t.charAt(n+2)))<<6|(s=this.PR.indexOf(t.charAt(n+3))))>>>16&255,r=o>>>8&255,e=255&o,a[n/4]=String.fromCharCode(i,r,e),64===s&&(a[n/4]=String.fromCharCode(i,r)),64===u&&(a[n/4]=String.fromCharCode(i));return a.join("")},t.prototype.MR=function(t,n){var i,r,e,u,s,o,a,c=[],h="";if((o=t.length%3)>0)for(;o++<3;)h+=this.PR.charAt(64),t+="\0";for(o=0;o<t.length;o+=3)r=(i=t.charCodeAt(o)<<16|t.charCodeAt(o+1)<<8|t.charCodeAt(o+2))>>18&63,e=i>>12&63,u=i>>6&63,s=63&i,c[o/3]=this.PR.charAt(r)+this.PR.charAt(e)+this.PR.charAt(u)+this.PR.charAt(s);return a=(a=c.join("")).slice(0,a.length-h.length),n||(a+=h),a},t.EA=new t(function(){var t,n,i,r,e=[],u=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<u.length;t+=1)for(n=u[t],i=0;i<n.length;i+=1)r=n.charAt(i),-1===e.indexOf(r)&&e.push(r);return e.join("")}()),t.UR=new t(t.EA.LR("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")),t}();function ty(t){return"string"==typeof t}function ny(t){return"number"==typeof t}var iy={}.toString;var ry,ey=Array.isArray||function(t){return"[object Array]"===iy.call(t)};function uy(t,n){return ey(t)&&t.every(n)}!function(t){t.HTML5="html5",t.ANDROID="android",t.IOS="ios",t.TVOS="tvos",t.ANDROIDTV="androidtv",t.TIZEN="tizen",t.WEBOS="webos",t.CHROMECAST="chromecast",t.ROKU="roku",t.FIRETV="firetv",t.CHROMECASTCAF="chromecastcaf"}(ry||(ry={}));var sy,oy=_.keys(ry).map(function(t){return ry[t]});function ay(t){return-1!==oy.indexOf(t)}function cy(t){try{var n=Kw.UR.LR(t),i=JSON.parse(n);if(!function(t){var n=(f=t,"object"==typeof f&&null!==f),i=ty(t.key),r=ty(t.customer_id),e=ny(t.generation_date),u=ny(t.expiration_date),s=uy(t.domains_page,ty),o=uy(t.domains_source,ty),a=uy(t.sdks,ay),c=(h=t.send_impression,"boolean"==typeof h);var h;var f;if(!(n&&i&&r&&e&&u&&s&&o&&a&&c))return!1;return!0}(i))throw new d("The provided license could not be decoded correctly.");return i}catch(t){throw new d("The provided license could not be decoded correctly.")}}function hy(){return sy||(sy={gd:En.href,FR:Tn.parent&&Tn.parent!==u,HR:dy()}),sy}var fy,vy=["http:","https:","ftp:","ws:","wss:"];function dy(){try{return Tn.top.location.href}catch(t){return Tn&&Tn.document&&Tn.document.referrer}}!function(t){t[t.XR=0]="XR",t[t.WR=1]="WR",t[t.qR=2]="qR"}(fy||(fy={}));var ly,_y=function(t,n,i,r,e,u,s,o){void 0===e&&(e=""),void 0===u&&(u=Date.now()),void 0===s&&(s=[]),void 0===o&&(o=!0),this.zR=t,this.GR=n,this.jR=i,this.QR=r,this.YR=e,this.ZR=u,this.JR=s,this.$R=o};!function(t){t.WR="expired",t.KR="invaliddomain",t.tI="invalidsource",t.Ph="error"}(ly||(ly={}));var gy=function(){function t(t,n,i){this.nI=t,this.iI=n,this.rI=i,this.eI=Ay(this.rI)}var n=t.prototype;return n.uI=function(t,n){var i=this;if(!iv(t)&&0!==n.jR.length&&!my(n.jR)){var r=[];if(ac(t.sources)?r=[t.sources]:F(t.sources)&&(r=t.sources),!r.every(function(t){return i.sI(t,n)})){var e=ly.tI,u=Ty.oI(e);throw new De(wy(e),u)}}},n.aI=function(n){return this.cI(n.JR)&&this.hI(n)?t.fI(n.QR)?fy.XR:fy.WR:fy.qR},n.cI=function(t){var n=this;return 0===t.length||t.some(function(t){return n.vI(t)})},n.vI=function(t){return"ios"===function(t){switch(t){case ry.ANDROID:return e.g;case ry.ANDROIDTV:case ry.FIRETV:return e.R;case ry.IOS:return e.I;case ry.TVOS:return e.N;case ry.CHROMECAST:case ry.CHROMECASTCAF:return e.B;default:return e.l}}(t)},t.fI=function(t){var n=Number(new Date);return!!t&&n<=t},n.hI=function(t){return!(this.eI&&0!==t.GR.length&&!my(t.GR))||!!(this.eI&&this.dI(t.GR)&&this.lI(t.GR))},n.dI=function(t){return ky(this.rI.gd,t)},n.lI=function(t){if(!this.rI.FR)return!0;if(this.nI)return!0;var n=this._I();return!!n&&ky(n,t)},n._I=function(){if(this.rI.FR){var t=o.ancestorOrigins;return t&&t.length>0?t[t.length-1]:this.rI.HR?this.rI.HR:void 0}},n.sI=function(n,i){return!!t.gI(n,i.jR)},t.gI=function(t,n){return ky(this.wI(t),n)},t.wI=function(t){return X(t)?t:oc(t)&&t.src||""},t}();function wy(t){switch(t){case ly.KR:return n.ErrorCode.LICENSE_INVALID_DOMAIN;case ly.tI:return n.ErrorCode.LICENSE_INVALID_SOURCE;case ly.WR:return n.ErrorCode.LICENSE_EXPIRED;case ly.Ph:return n.ErrorCode.LICENSE_ERROR}}function yy(t,n){var i=t,r=n;if(!i)return!1;if("*"===(r=r.trim()))return!0;if(r===(i=i.replace(/\.+$/,"")))return!0;var e="\\.",u="25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?",s="(\\*|"+u+")",o=new RegExp("ip-range\\("+s+e+s+e+s+e+s+"\\)"),a=r.match(o),c=function(t){return"*"===t?"("+u+")":t};if(null!==a&&5===a.length){var h=new RegExp("^"+a[1]+e+c(a[2])+e+c(a[3])+e+c(a[4])+"$");return null!==i.match(h)}return r="."+r,-1!==i.indexOf(r,i.length-r.length)}function my(t){return t.some(function(t){return"*"===t})}function ky(t,n){var i=r.Ua(t);if(!py(i))return!0;for(var e=0;e<n.length;e++){var u=n[e];if(yy(i.hostname,u))return!0;if(yy(eo(t),u))return!0}return!1}function py(t){return-1!==vy.indexOf(t.protocol)}function Ay(t){var n=r.Ua(t.gd);return py(n)&&!yy(n.hostname,"localhost")&&!function(t){return yy(t.hostname,"theoplayer.doubleclick.net")}(n)}var by,Ty=function(){function t(){}return t.oI=function(t){return t===ly.KR?this.yI:t===ly.tI?this.mI:t===ly.WR?this.kI:this.pI},t}();function Ey(t){var n=[t.Rw,t.AI,t.bI];switch(t.AI){case by.TI:n.push(t.Hh);break;case by.EI:n.push(t.Av),n.push(t.xs);break;case by.SI:n.push(t.xs)}return n}Ty.pI="The license for this player is invalid.",Ty.kI="The usage license for this video player has expired.",Ty.yI="The current domain is incompatible with the license for this player.",Ty.mI="The provided video source is incompatible with the license for this player.",function(t){t[t.TI=1]="TI",t[t.EI=4]="EI",t[t.SI=5]="SI"}(by||(by={}));for(var Sy=new Array(256),Ry=0;Ry<256;Ry+=1)Sy[Ry]=(Ry<16?"0":"")+Ry.toString(16);function Iy(){var t=Ft(),n=(4294967296*g.random()|0)+t&3029421624,i=(4294967296*g.random()|0)+t&3595553209,r=(4294967296*g.random()|0)+t&1130486254,e=(4294967296*g.random()|0)+t&1284287105;return Sy[255&n]+Sy[n>>>8&255]+Sy[n>>>16&255]+Sy[n>>>24&255]+"-"+Sy[255&i]+Sy[i>>>8&255]+"-"+Sy[i>>>16&15|64]+Sy[i>>>24&255]+"-"+Sy[63&r|128]+Sy[r>>>8&255]+"-"+Sy[r>>>16&255]+Sy[r>>>24&255]+Sy[255&e]+Sy[e>>>8&255]+Sy[e>>>16&255]+Sy[e>>>24&255]}var Ny=function(){function t(t){this.PR=t}var n=t.prototype;return n.LR=function(t){var n,i,r,e,u,s,o,a=[];if(!t)return"";for(n=0;n<t.length;n+=4)i=(o=this.PR.indexOf(t.charAt(n))<<18|this.PR.indexOf(t.charAt(n+1))<<12|(u=this.PR.indexOf(t.charAt(n+2)))<<6|(s=this.PR.indexOf(t.charAt(n+3))))>>>16&255,r=o>>>8&255,e=255&o,a[n/4]=String.fromCharCode(i,r,e),64===s&&(a[n/4]=String.fromCharCode(i,r)),64===u&&(a[n/4]=String.fromCharCode(i));return a.join("")},n.MR=function(t){var n,i,r,e,u,s,o,a=[],c="";if((s=t.length%3)>0)for(;s++<3;)c+=this.PR.charAt(64),t+="\0";for(s=0;s<t.length;s+=3)i=(n=t.charCodeAt(s)<<16|t.charCodeAt(s+1)<<8|t.charCodeAt(s+2))>>18&63,r=n>>12&63,e=n>>6&63,u=63&n,a[s/3]=this.PR.charAt(i)+this.PR.charAt(r)+this.PR.charAt(e)+this.PR.charAt(u);return(o=a.join("")).slice(0,o.length-c.length)+c},t}();function Dy(){return r.ac()}Ny.EA=new Ny(function(){var t,n,i,r,e=[],u=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<u.length;t+=1)for(n=u[t],i=0;i<n.length;i+=1)r=n.charAt(i),-1===e.indexOf(r)&&e.push(r);return e.join("")}()),Ny.UR=new Ny(Ny.EA.LR("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop"));var Cy,Oy="theoplayer-session-id";function xy(){if(!Cy){var t=Ao.Vs(Oy);t?Cy=t:(Cy=Iy(),Ao.tc(Oy,Cy))}return Cy}var Py=/[^\x00-\x7E]/g;function By(t){return"\\u"+$n(t.charCodeAt(0).toString(16),4,"0")}var Ly=function(t){function n(n,i){return t.call(this,n,i)||this}return qt(n,t),n}(Mc),My=0,Uy=1,Fy=6e4;function Hy(t){var n,i,r,e,u,s=(n=function(t){return[t.RI,t.So,t.zR,t.K_,t.II,t.NI,t.DI.map(Ey)]}(t),i=[],r=n,e=function(t,n){if(H(n)){if(-1!==i.indexOf(n))return null;i.push(n)}return n},JSON.stringify(r,e,u).replace(Py,By));return Ny.UR.MR(s)}var Vy=function(){function t(t,n,i,r,e,u){var s=this;void 0===r&&(r=Ny.EA),void 0===e&&(e=My),void 0===u&&(u=Uy),this.CT=t,this.$A=n,this.CI=i,this.OI=r,this.xI=e,this.BI=u,this.LI=[],this.MI=null,this.UI=0,this.FI="unknown",this.HI=0,this.VI=function(){Dy()-s.UI>Fy&&s.XI()},this.WI=function(){s.XI(!0)},bn.qI(this.WI),f(this.VI,Fy)}var n=t.prototype;return n.zI=function(){return Boolean(this.II)},n.GI=function(){var t=vn.coroutine(fn.mark(function t(n){var i;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.CI.jI();case 2:if(t.sent.$R){t.next=5;break}return t.abrupt("return");case 5:return i={AI:by.TI,bI:Ft(),Hh:n},t.next=8,this.QI(i);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.YI=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={AI:by.EI,bI:Ft(),Av:i,xs:n},t.next=3,this.QI(r);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.ZI=function(){var t=vn.coroutine(fn.mark(function t(n){var i;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i={AI:by.SI,bI:Ft(),xs:n},t.next=3,this.QI(i);case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.QI=function(){var t=vn.coroutine(fn.mark(function t(n){var i;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.CI.jI();case 2:if(i=t.sent,"a:n[_O*[C4C-N$_@_MYY $D]iOp]N$_-_]th_:c|aen?C:pH"!==this.OI.MR(i.zR)){t.next=6;break}if(n.AI===by.SI){t.next=6;break}return t.abrupt("return");case 6:if(n.AI===by.TI?this.JI():this.zI()||this.JI(),n.Rw=this.HI++,this.LI.push(n),(r=n.AI)!==by.TI&&r!==by.SI){t.next=14;break}return t.next=12,this.XI();case 12:t.next=19;break;case 14:if(!(this.LI.length>this.xI)){t.next=19;break}return t.next=17,this.$I();case 17:t.next=19;break;case 19:case"end":return t.stop()}var r},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.XI=function(){var t=vn.coroutine(fn.mark(function t(n){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:void 0===n&&(n=!1);case 1:if(!(this.LI.length>0)){t.next=6;break}return t.next=4,this.$I(n);case 4:t.next=1;break;case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.KI=function(){var t=vn.coroutine(fn.mark(function t(n){var i;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.CI.jI();case 2:return i=t.sent,t.abrupt("return",{RI:Ft(),So:xy(),zR:this.OI.MR(i.zR)||"dev",K_:this.CT,II:this.MI,NI:this.FI,DI:n});case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.$I=function(){var t=vn.coroutine(fn.mark(function t(n){var i,r;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===n&&(n=!1),i=this.LI.splice(0,this.BI),t.next=4,this.KI(i);case 4:r=t.sent,n?this.tN(r):this.nN(r),this.UI=Dy();case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.nN=function(){var t=vn.coroutine(fn.mark(function t(n){var i,r,e;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=Hy(n),r=new Ly({gd:"https://license.theoplayer.com",wd:i,Td:!1,kd:Sc.An,yd:{"Content-Type":Z_.FT},pd:4e3,md:Dc.POST}),t.prev=2,t.next=5,this.$A.GA(r);case 5:return e=t.sent,t.next=8,e.LT();case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),(new Image).src="https://licensing.theoplayer.com/t?"+i;case 13:case"end":return t.stop()}},t,this,[[2,10]])}));return function(n){return t.apply(this,arguments)}}(),n.tN=function(t){var n=Hy(t);this.$A.tN({gd:"https://license.theoplayer.com",wd:n,OS:Z_.FT})},n.JI=function(){this.zI()&&this.XI(),this.MI=Iy(),this.HI=0},n.vh=function(){bn.iN(this.WI),this.XI()},T(t,[{key:"DI",get:function(){return this.LI}},{key:"II",get:function(){return this.MI}}]),t}();var Xy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(t){return"Symbol("+t+")"};function Wy(){}var qy=Number.isNaN||function(t){return t!=t},zy=Wy;function Gy(t){return"object"==typeof t&&null!==t||"function"==typeof t}function jy(t){return t.slice()}function Qy(t){return!1!==function(t){if("number"!=typeof t)return!1;if(qy(t))return!1;if(t<0)return!1;return!0}(t)&&t!==1/0}function Yy(t,n,i){if("function"!=typeof t)throw new l("Argument is not a function");return Function.prototype.apply.call(t,n,i)}function Zy(t,n,i,r){var e=t[n];if(void 0!==e){if("function"!=typeof e)throw new l(e+" is not a method");switch(i){case 0:return function(){return $y(e,t,r)};case 1:return function(n){var i=[n].concat(r);return $y(e,t,i)}}}return function(){return om(void 0)}}function Jy(t,n,i){var r=t[n];if(void 0!==r)return Yy(r,t,i)}function $y(t,n,i){try{return om(Yy(t,n,i))}catch(t){return am(t)}}function Ky(t){return t}function tm(t){if(t=Number(t),qy(t)||t<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return t}function nm(t){if(void 0===t)return function(){return 1};if("function"!=typeof t)throw new l("size property of a queuing strategy must be a function");return function(n){return t(n)}}var im=vn,rm=vn.prototype.then,em=vn.resolve.bind(im),um=vn.reject.bind(im);function sm(t){return new im(t)}function om(t){return em(t)}function am(t){return um(t)}function cm(t,n,i){return rm.call(t,n,i)}function hm(t,n,i){cm(cm(t,n,i),void 0,zy)}function fm(t,n){hm(t,n)}function vm(t,n){hm(t,void 0,n)}function dm(t,n,i){return cm(t,n,i)}function lm(t){cm(t,void 0,zy)}var _m=function(){function t(){this.rN=0,this.eN=0,this.Ye={uN:[],sN:void 0},this.oN=this.Ye,this.rN=0,this.eN=0}return _.defineProperty(t.prototype,"length",{get:function(){return this.eN},enumerable:!0,configurable:!0}),t.prototype.push=function(t){var n=this.oN,i=n;16383===n.uN.length&&(i={uN:[],sN:void 0}),n.uN.push(t),i!==n&&(this.oN=i,n.sN=i),++this.eN},t.prototype.shift=function(){var t=this.Ye,n=t,i=this.rN,r=i+1,e=t.uN,u=e[i];return 16384===r&&(n=t.sN,r=0),--this.eN,this.rN=r,t!==n&&(this.Ye=n),e[i]=void 0,u},t.prototype.forEach=function(t){for(var n=this.rN,i=this.Ye,r=i.uN;!(n===r.length&&void 0===i.sN||n===r.length&&(n=0,0===(r=(i=i.sN).uN).length));)t(r[n]),++n},t.prototype.peek=function(){var t=this.Ye,n=this.rN;return t.uN[n]},t}();function gm(t,n,i){var r=null;!0===i&&(r=_.prototype);var e=_.create(r);return e.value=t,e.done=n,e}function wm(t,n){t.aN=!0,t.cN=n,n.hN=t,"readable"===n.fN?pm(t):"closed"===n.fN?function(t){pm(t),Tm(t)}(t):Am(t,n.vN)}function ym(t,n){return Ip(t.cN,n)}function mm(t){"readable"===t.cN.fN?bm(t,new l("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,n){Am(t,n)}(t,new l("Reader was released and can no longer be used to monitor the stream's closedness")),t.cN.hN=void 0,t.cN=void 0}function km(t){return new l("Cannot "+t+" a stream using a released reader")}function pm(t){t._o=sm(function(n,i){t.dN=n,t.lN=i})}function Am(t,n){pm(t),bm(t,n)}function bm(t,n){lm(t._o),t.lN(n),t.dN=void 0,t.lN=void 0}function Tm(t){t.dN(void 0),t.dN=void 0,t.lN=void 0}var Em=Xy("[[CancelSteps]]"),Sm=Xy("[[PullSteps]]");function Rm(t,n){void 0===n&&(n=!1);var i=new Pm(t);return i.aN=n,i}function Im(t){return sm(function(n,i){var r={ce:n,gi:i};t.hN._N.push(r)})}function Nm(t,n,i){var r=t.hN;r._N.shift().ce(gm(n,i,r.aN))}function Dm(t){return t.hN._N.length}function Cm(t){var n=t.hN;return void 0!==n&&!!Bm(n)}var Om,xm,Pm=function(){function t(t){if(!1===Sp(t))throw new l("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===Rp(t))throw new l("This stream has already been locked for exclusive reading by another reader");wm(this,t),this._N=new _m}return _.defineProperty(t.prototype,"closed",{get:function(){return Bm(this)?this._o:am(Mm("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return Bm(this)?void 0===this.cN?am(km("cancel")):ym(this,t):am(Mm("cancel"))},t.prototype.read=function(){return Bm(this)?void 0===this.cN?am(km("read from")):Lm(this):am(Mm("read"))},t.prototype.releaseLock=function(){if(!Bm(this))throw Mm("releaseLock");if(void 0!==this.cN){if(this._N.length>0)throw new l("Tried to release a reader lock when that reader has pending read() calls un-settled");mm(this)}},t}();function Bm(t){return!!Gy(t)&&!!_.prototype.hasOwnProperty.call(t,"_N")}function Lm(t){var n=t.cN;return n.gN=!0,"closed"===n.fN?om(gm(void 0,!0,t.aN)):"errored"===n.fN?am(n.vN):n.wN[Sm]()}function Mm(t){return new l("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}"symbol"==typeof Xy.asyncIterator&&((Om={})[Xy.asyncIterator]=function(){return this},xm=Om,_.defineProperty(xm,Xy.asyncIterator,{enumerable:!1}));var Um={next:function(){if(!1===Fm(this))return am(Hm("next"));var t=this.yN;return void 0===t.cN?am(km("iterate")):dm(Lm(t),function(n){var i=n.done;return i&&mm(t),gm(n.value,i,!0)})},return:function(t){if(!1===Fm(this))return am(Hm("next"));var n=this.yN;if(void 0===n.cN)return am(km("finish iterating"));if(n._N.length>0)return am(new l("Tried to release a reader lock when that reader has pending read() calls un-settled"));if(!1===this.mN){var i=ym(n,t);return mm(n),dm(i,function(){return gm(t,!0,!0)})}return mm(n),om(gm(t,!0,!0))}};function Fm(t){return!!Gy(t)&&!!_.prototype.hasOwnProperty.call(t,"yN")}function Hm(t){return new l("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}function Vm(t){var n=t.re.shift();return t.kN-=n.size,t.kN<0&&(t.kN=0),n.value}function Xm(t,n,i){if(!Qy(i=Number(i)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");t.re.push({value:n,size:i}),t.kN+=i}function Wm(t){t.re=new _m,t.kN=0}void 0!==xm&&_.setPrototypeOf(Um,xm),_.defineProperty(Um,"next",{enumerable:!1}),_.defineProperty(Um,"return",{enumerable:!1});var qm=Xy("[[AbortSteps]]"),zm=Xy("[[ErrorSteps]]"),Gm=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),Qm(this);var i=n.size,r=n.highWaterMark;if(void 0!==t.type)throw new RangeError("Invalid type is specified");var e=nm(i);void 0===r&&(r=1),function(t,n,i,r){var e=_.create(vk.prototype);var u=Zy(n,"write",1,[e]),s=Zy(n,"close",0,[]),o=Zy(n,"abort",1,[]);dk(t,e,function(){return Jy(n,"start",[e])},u,s,o,i,r)}(this,t,r=tm(r),e)}return _.defineProperty(t.prototype,"locked",{get:function(){if(!1===Ym(this))throw kk("locked");return Zm(this)},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===Ym(this)?am(kk("abort")):!0===Zm(this)?am(new l("Cannot abort a stream that already has a writer")):Jm(this,t)},t.prototype.close=function(){return!1===Ym(this)?am(kk("close")):!0===Zm(this)?am(new l("Cannot close a stream that already has a writer")):!0===ik(this)?am(new l("Cannot close an already-closing stream")):$m(this)},t.prototype.getWriter=function(){if(!1===Ym(this))throw kk("getWriter");return jm(this)},t}();function jm(t){return new uk(t)}function Qm(t){t.fN="writable",t.vN=void 0,t.pN=void 0,t.AN=void 0,t.bN=new _m,t.TN=void 0,t.EN=void 0,t.SN=void 0,t.RN=void 0,t.IN=!1}function Ym(t){return!!Gy(t)&&!!_.prototype.hasOwnProperty.call(t,"AN")}function Zm(t){return void 0!==t.pN}function Jm(t,n){var i=t.fN;if("closed"===i||"errored"===i)return om(void 0);if(void 0!==t.RN)return t.RN.Or;var r=!1;"erroring"===i&&(r=!0,n=void 0);var e=sm(function(i,e){t.RN={Or:void 0,ce:i,gi:e,Jr:n,NN:r}});return t.RN.Or=e,!1===r&&tk(t,n),e}function $m(t){var n=t.fN;if("closed"===n||"errored"===n)return am(new l("The stream (in "+n+" state) is not in the writable state and cannot be closed"));var i,r=sm(function(n,i){var r={ce:n,gi:i};t.EN=r}),e=t.pN;return void 0!==e&&!0===t.IN&&"writable"===n&&Ck(e),Xm(i=t.AN,"close",0),gk(i),r}function Km(t,n){"writable"!==t.fN?nk(t):tk(t,n)}function tk(t,n){var i=t.AN;t.fN="erroring",t.vN=n;var r=t.pN;void 0!==r&&ck(r,n),!1===function(t){if(void 0===t.TN&&void 0===t.SN)return!1;return!0}(t)&&!0===i.DN&&nk(t)}function nk(t){t.fN="errored",t.AN[zm]();var n=t.vN;if(t.bN.forEach(function(t){t.gi(n)}),t.bN=new _m,void 0!==t.RN){var i=t.RN;if(t.RN=void 0,!0===i.NN)return i.gi(n),void rk(t);hm(t.AN[qm](i.Jr),function(){i.ce(),rk(t)},function(n){i.gi(n),rk(t)})}else rk(t)}function ik(t){return void 0!==t.EN||void 0!==t.SN}function rk(t){void 0!==t.EN&&(t.EN.gi(t.vN),t.EN=void 0);var n=t.pN;void 0!==n&&Ek(n,t.vN)}function ek(t,n){var i=t.pN;void 0!==i&&n!==t.IN&&(!0===n?function(t){Rk(t)}(i):Ck(i)),t.IN=n}var uk=function(){function t(t){if(!1===Ym(t))throw new l("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===Zm(t))throw new l("This stream has already been locked for exclusive writing by another writer");this.CN=t,t.pN=this;var n,i=t.fN;if("writable"===i)!1===ik(t)&&!0===t.IN?Rk(this):Nk(this),bk(this);else if("erroring"===i)Ik(this,t.vN),bk(this);else if("closed"===i)Nk(this),bk(n=this),Sk(n);else{var r=t.vN;Ik(this,r),Tk(this,r)}}return _.defineProperty(t.prototype,"closed",{get:function(){return!1===sk(this)?am(pk("closed")):this._o},enumerable:!0,configurable:!0}),_.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===sk(this))throw pk("desiredSize");if(void 0===this.CN)throw Ak("desiredSize");return function(t){var n=t.CN,i=n.fN;if("errored"===i||"erroring"===i)return null;if("closed"===i)return 0;return _k(n.AN)}(this)},enumerable:!0,configurable:!0}),_.defineProperty(t.prototype,"ready",{get:function(){return!1===sk(this)?am(pk("ready")):this.ON},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===sk(this)?am(pk("abort")):void 0===this.CN?am(Ak("abort")):function(t,n){return Jm(t.CN,n)}(this,t)},t.prototype.close=function(){if(!1===sk(this))return am(pk("close"));var t=this.CN;return void 0===t?am(Ak("close")):!0===ik(t)?am(new l("Cannot close an already-closing stream")):ok(this)},t.prototype.releaseLock=function(){if(!1===sk(this))throw pk("releaseLock");void 0!==this.CN&&hk(this)},t.prototype.write=function(t){return!1===sk(this)?am(pk("write")):void 0===this.CN?am(Ak("write to")):fk(this,t)},t}();function sk(t){return!!Gy(t)&&!!_.prototype.hasOwnProperty.call(t,"CN")}function ok(t){return $m(t.CN)}function ak(t,n){"pending"===t.xN?Ek(t,n):function(t,n){Tk(t,n)}(t,n)}function ck(t,n){"pending"===t.PN?Dk(t,n):function(t,n){Ik(t,n)}(t,n)}function hk(t){var n=t.CN,i=new l("Writer was released and can no longer be used to monitor the stream's closedness");ck(t,i),ak(t,i),n.pN=void 0,t.CN=void 0}function fk(t,n){var i=t.CN,r=i.AN,e=function(t,n){try{return t.BN(n)}catch(n){return wk(t,n),1}}(r,n);if(i!==t.CN)return am(Ak("write to"));var u=i.fN;if("errored"===u)return am(i.vN);if(!0===ik(i)||"closed"===u)return am(new l("The stream is closing or closed and cannot be written to"));if("erroring"===u)return am(i.vN);var s=function(t){return sm(function(n,i){var r={ce:n,gi:i};t.bN.push(r)})}(i);return function(t,n,i){var r={chunk:n};try{Xm(t,r,i)}catch(n){return void wk(t,n)}var e=t.LN;if(!1===ik(e)&&"writable"===e.fN){var u=yk(t);ek(e,u)}gk(t)}(r,n,e),s}var vk=function(){function t(){throw new l("WritableStreamDefaultController cannot be constructed explicitly")}return t.prototype.error=function(t){if(!1===function(t){if(!Gy(t))return!1;if(!_.prototype.hasOwnProperty.call(t,"LN"))return!1;return!0}(this))throw new l("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this.LN.fN&&mk(this,t)},t.prototype[qm]=function(t){var n=this.MN(t);return lk(this),n},t.prototype[zm]=function(){Wm(this)},t}();function dk(t,n,i,r,e,u,s,o){n.LN=t,t.AN=n,n.re=void 0,n.kN=void 0,Wm(n),n.DN=!1,n.BN=o,n.UN=s,n.FN=r,n.HN=e,n.MN=u;var a=yk(n);ek(t,a),hm(om(i()),function(){n.DN=!0,gk(n)},function(i){n.DN=!0,Km(t,i)})}function lk(t){t.FN=void 0,t.HN=void 0,t.MN=void 0,t.BN=void 0}function _k(t){return t.UN-t.kN}function gk(t){var n=t.LN;if(!1!==t.DN&&void 0===n.TN)if("erroring"!==n.fN){if(0!==t.re.length){var i=t.re.peek().value;"close"===i?function(t){var n=t.LN;(function(t){t.SN=t.EN,t.EN=void 0})(n),Vm(t);var i=t.HN();lk(t),hm(i,function(){!function(t){t.SN.ce(void 0),t.SN=void 0,"erroring"===t.fN&&(t.vN=void 0,void 0!==t.RN&&(t.RN.ce(),t.RN=void 0)),t.fN="closed";var n=t.pN;void 0!==n&&Sk(n)}(n)},function(t){!function(t,n){t.SN.gi(n),t.SN=void 0,void 0!==t.RN&&(t.RN.gi(n),t.RN=void 0),Km(t,n)}(n,t)})}(t):function(t,n){var i=t.LN;(function(t){t.TN=t.bN.shift()})(i),hm(t.FN(n),function(){!function(t){t.TN.ce(void 0),t.TN=void 0}(i);var n=i.fN;if(Vm(t),!1===ik(i)&&"writable"===n){var r=yk(t);ek(i,r)}gk(t)},function(n){"writable"===i.fN&&lk(t),function(t,n){t.TN.gi(n),t.TN=void 0,Km(t,n)}(i,n)})}(t,i.chunk)}}else nk(n)}function wk(t,n){"writable"===t.LN.fN&&mk(t,n)}function yk(t){return _k(t)<=0}function mk(t,n){var i=t.LN;lk(t),tk(i,n)}function kk(t){return new l("WritableStream.prototype."+t+" can only be used on a WritableStream")}function pk(t){return new l("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function Ak(t){return new l("Cannot "+t+" a stream using a released writer")}function bk(t){t._o=sm(function(n,i){t.dN=n,t.lN=i,t.xN="pending"})}function Tk(t,n){bk(t),Ek(t,n)}function Ek(t,n){lm(t._o),t.lN(n),t.dN=void 0,t.lN=void 0,t.xN="rejected"}function Sk(t){t.dN(void 0),t.dN=void 0,t.lN=void 0,t.xN="resolved"}function Rk(t){t.ON=sm(function(n,i){t.VN=n,t.XN=i}),t.PN="pending"}function Ik(t,n){Rk(t),Dk(t,n)}function Nk(t){Rk(t),Ck(t)}function Dk(t,n){lm(t.ON),t.XN(n),t.VN=void 0,t.XN=void 0,t.PN="rejected"}function Ck(t){t.VN(void 0),t.VN=void 0,t.XN=void 0,t.PN="fulfilled"}function Ok(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}var xk="undefined"!=typeof DOMException?DOMException:void 0;var Pk,Bk=function(t){if("function"!=typeof t&&"object"!=typeof t)return!1;try{return new t,!0}catch(t){return!1}}(xk)?xk:((Pk=function(t,n){this.message=t||"",this.name=n||"Error",d.captureStackTrace&&d.captureStackTrace(this,this.constructor)}).prototype=_.create(d.prototype),_.defineProperty(Pk.prototype,"constructor",{value:Pk,writable:!0,configurable:!0}),Pk);function Lk(t,n,i,r,e,u){var s=Rm(t),o=jm(n);t.gN=!0;var a=!1,c=om(void 0);return sm(function(h,f){var v,d,_,g;if(void 0!==u){if(v=function(){var i=new Bk("Aborted","AbortError"),u=[];!1===r&&u.push(function(){return"writable"===n.fN?Jm(n,i):om(void 0)}),!1===e&&u.push(function(){return"readable"===t.fN?Ip(t,i):om(void 0)}),k(function(){return vn.all(u.map(function(t){return t()}))},!0,i)},!0===u.aborted)return void v();u.addEventListener("abort",v)}if(m(t,s._o,function(t){!1===r?k(function(){return Jm(n,t)},!0,t):p(!0,t)}),m(n,o._o,function(n){!1===e?k(function(){return Ip(t,n)},!0,n):p(!0,n)}),d=t,_=s._o,g=function(){!1===i?k(function(){return function(t){var n=t.CN,i=n.fN;return!0===ik(n)||"closed"===i?om(void 0):"errored"===i?am(n.vN):ok(t)}(o)}):p()},"closed"===d.fN?g():fm(_,g),!0===ik(n)||"closed"===n.fN){var w=new l("the destination writable stream closed before all data could be piped to it");!1===e?k(function(){return Ip(t,w)},!0,w):p(!0,w)}function y(){var t=c;return cm(c,function(){return t!==c?y():void 0})}function m(t,n,i){"errored"===t.fN?i(t.vN):vm(n,i)}function k(t,i,r){function e(){hm(t(),function(){return A(i,r)},function(t){return A(!0,t)})}!0!==a&&(a=!0,"writable"===n.fN&&!1===ik(n)?fm(y(),e):e())}function p(t,i){!0!==a&&(a=!0,"writable"===n.fN&&!1===ik(n)?fm(y(),function(){return A(t,i)}):A(t,i))}function A(t,n){hk(o),mm(s),void 0!==u&&u.removeEventListener("abort",v),t?f(n):h(void 0)}lm(sm(function(t,n){!function i(r){r?t():cm(!0===a?om(!0):cm(o.ON,function(){return cm(Lm(s),function(t){return!0===t.done||(c=cm(fk(o,t.value),void 0,Wy),!1)})}),i,n)}(!1)}))})}var Mk=function(){function t(){throw new l}return _.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Uk(this))throw Qk("desiredSize");return zk(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===Uk(this))throw Qk("close");if(!1===Gk(this))throw new l("The stream is not in a state that permits close");Xk(this)},t.prototype.enqueue=function(t){if(!1===Uk(this))throw Qk("enqueue");if(!1===Gk(this))throw new l("The stream is not in a state that permits enqueue");return Wk(this,t)},t.prototype.error=function(t){if(!1===Uk(this))throw Qk("error");qk(this,t)},t.prototype[Em]=function(t){Wm(this);var n=this.WN(t);return Vk(this),n},t.prototype[Sm]=function(){var t=this.qN;if(this.re.length>0){var n=Vm(this);return!0===this.zN&&0===this.re.length?(Vk(this),Np(t)):Fk(this),om(gm(n,!1,t.hN.aN))}var i=Im(t);return Fk(this),i},t}();function Uk(t){return!!Gy(t)&&!!_.prototype.hasOwnProperty.call(t,"qN")}function Fk(t){!1!==Hk(t)&&(!0!==t.GN?(t.GN=!0,hm(t.jN(),function(){t.GN=!1,!0===t.QN&&(t.QN=!1,Fk(t))},function(n){qk(t,n)})):t.QN=!0)}function Hk(t){var n=t.qN;return!1!==Gk(t)&&(!1!==t.DN&&(!0===Rp(n)&&Dm(n)>0||zk(t)>0))}function Vk(t){t.jN=void 0,t.WN=void 0,t.BN=void 0}function Xk(t){var n=t.qN;t.zN=!0,0===t.re.length&&(Vk(t),Np(n))}function Wk(t,n){var i=t.qN;if(!0===Rp(i)&&Dm(i)>0)Nm(i,n,!1);else{var r=void 0;try{r=t.BN(n)}catch(n){throw qk(t,n),n}try{Xm(t,n,r)}catch(n){throw qk(t,n),n}}Fk(t)}function qk(t,n){var i=t.qN;"readable"===i.fN&&(Wm(t),Vk(t),Dp(i,n))}function zk(t){var n=t.qN.fN;return"errored"===n?null:"closed"===n?0:t.UN-t.kN}function Gk(t){var n=t.qN.fN;return!1===t.zN&&"readable"===n}function jk(t,n,i,r,e,u,s){n.qN=t,n.re=void 0,n.kN=void 0,Wm(n),n.DN=!1,n.zN=!1,n.QN=!1,n.GN=!1,n.BN=s,n.UN=u,n.jN=r,n.WN=e,t.wN=n,hm(om(i()),function(){n.DN=!0,Fk(n)},function(t){qk(n,t)})}function Qk(t){return new l("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}var Yk=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&g.floor(t)===t},Zk=function(){function t(){throw new l("ReadableStreamBYOBRequest cannot be used directly")}return _.defineProperty(t.prototype,"view",{get:function(){if(!1===Kk(this))throw _p("view");return this.xA},enumerable:!0,configurable:!0}),t.prototype.respond=function(t){if(!1===Kk(this))throw _p("respond");if(void 0===this.YN)throw new l("This BYOB request has been invalidated");this.xA.buffer,function(t,n){if(!1===Qy(n=Number(n)))throw new RangeError("bytesWritten must be a finite");cp(t,n)}(this.YN,t)},t.prototype.respondWithNewView=function(t){if(!1===Kk(this))throw _p("respond");if(void 0===this.YN)throw new l("This BYOB request has been invalidated");if(!ArrayBuffer.isView(t))throw new l("You can only respond with array buffer views");t.buffer,function(t,n){var i=t.ZN.peek();if(i.byteOffset+i.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.byteLength!==n.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");i.buffer=n.buffer,cp(t,n.byteLength)}(this.YN,t)},t}(),Jk=function(){function t(){throw new l("ReadableByteStreamController constructor cannot be used directly")}return _.defineProperty(t.prototype,"byobRequest",{get:function(){if(!1===$k(this))throw gp("byobRequest");if(void 0===this.JN&&this.ZN.length>0){var t=this.ZN.peek(),n=new k(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),i=_.create(Zk.prototype);!function(t,n,i){t.YN=n,t.xA=i}(i,this,n),this.JN=i}return this.JN},enumerable:!0,configurable:!0}),_.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===$k(this))throw gp("desiredSize");return dp(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===$k(this))throw gp("close");if(!0===this.zN)throw new l("The stream has already been closed; do not close it again!");var t=this.$N.fN;if("readable"!==t)throw new l("The stream (in "+t+" state) is not in the readable state and cannot be closed");!function(t){var n=t.$N;if(t.kN>0)return void(t.zN=!0);if(t.ZN.length>0){var i=t.ZN.peek();if(i.bytesFilled>0){var r=new l("Insufficient bytes to fill elements in the given buffer");throw vp(t,r),r}}fp(t),Np(n)}(this)},t.prototype.enqueue=function(t){if(!1===$k(this))throw gp("enqueue");if(!0===this.zN)throw new l("stream is closed or draining");var n=this.$N.fN;if("readable"!==n)throw new l("The stream (in "+n+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(t))throw new l("You can only enqueue array buffer views when using a ReadableByteStreamController");t.buffer,function(t,n){var i=t.$N,r=n.buffer,e=n.byteOffset,u=n.byteLength,s=Ky(r);if(!0===Cm(i))if(0===Dm(i))rp(t,s,e,u);else{var o=new k(s,e,u);Nm(i,o,!1)}else!0===mp(i)?(rp(t,s,e,u),ap(t)):rp(t,s,e,u);tp(t)}(this,t)},t.prototype.error=function(t){if(!1===$k(this))throw gp("error");vp(this,t)},t.prototype[Em]=function(t){this.ZN.length>0&&(this.ZN.peek().bytesFilled=0);Wm(this);var n=this.WN(t);return fp(this),n},t.prototype[Sm]=function(){var t=this.$N;if(this.kN>0){var n=this.re.shift();this.kN-=n.byteLength,sp(this);var i=void 0;try{i=new k(n.buffer,n.byteOffset,n.byteLength)}catch(t){return am(t)}return om(gm(i,!1,t.hN.aN))}var r=this.KN;if(void 0!==r){var e=void 0;try{e=new ArrayBuffer(r)}catch(t){return am(t)}var u={buffer:e,byteOffset:0,byteLength:r,bytesFilled:0,elementSize:1,ctor:k,readerType:"default"};this.ZN.push(u)}var s=Im(t);return tp(this),s},t}();function $k(t){return!!Gy(t)&&!!_.prototype.hasOwnProperty.call(t,"$N")}function Kk(t){return!!Gy(t)&&!!_.prototype.hasOwnProperty.call(t,"YN")}function tp(t){!1!==function(t){var n=t.$N;if("readable"!==n.fN)return!1;if(!0===t.zN)return!1;if(!1===t.DN)return!1;if(!0===Cm(n)&&Dm(n)>0)return!0;if(!0===mp(n)&&yp(n)>0)return!0;if(dp(t)>0)return!0;return!1}(t)&&(!0!==t.GN?(t.GN=!0,hm(t.jN(),function(){t.GN=!1,!0===t.QN&&(t.QN=!1,tp(t))},function(n){vp(t,n)})):t.QN=!0)}function np(t,n){var i=!1;"closed"===t.fN&&(i=!0);var r=ip(n);"default"===n.readerType?Nm(t,r,i):function(t,n,i){var r=t.hN;r.tD.shift().ce(gm(n,i,r.aN))}(t,r,i)}function ip(t){var n=t.bytesFilled,i=t.elementSize;return new t.ctor(t.buffer,t.byteOffset,n/i)}function rp(t,n,i,r){t.re.push({buffer:n,byteOffset:i,byteLength:r}),t.kN+=r}function ep(t,n){var i=n.elementSize,r=n.bytesFilled-n.bytesFilled%i,e=g.min(t.kN,n.byteLength-n.bytesFilled),u=n.bytesFilled+e,s=u-u%i,o=e,a=!1;s>r&&(o=s-n.bytesFilled,a=!0);for(var c,h,f,v,d,l=t.re;o>0;){var _=l.peek(),w=g.min(o,_.byteLength),y=n.byteOffset+n.bytesFilled;c=n.buffer,h=y,f=_.buffer,v=_.byteOffset,d=w,new k(c).set(new k(f,v,d),h),_.byteLength===w?l.shift():(_.byteOffset+=w,_.byteLength-=w),t.kN-=w,up(t,w,n),o-=w}return a}function up(t,n,i){op(t),i.bytesFilled+=n}function sp(t){0===t.kN&&!0===t.zN?(fp(t),Np(t.$N)):tp(t)}function op(t){void 0!==t.JN&&(t.JN.YN=void 0,t.JN.xA=void 0,t.JN=void 0)}function ap(t){for(;t.ZN.length>0;){if(0===t.kN)return;var n=t.ZN.peek();!0===ep(t,n)&&(hp(t),np(t.$N,n))}}function cp(t,n){var i=t.ZN.peek();if("closed"===t.$N.fN){if(0!==n)throw new l("bytesWritten must be 0 when calling respond() on a closed stream");!function(t,n){n.buffer=Ky(n.buffer);var i=t.$N;if(!0===mp(i))for(;yp(i)>0;)np(i,hp(t))}(t,i)}else!function(t,n,i){if(i.bytesFilled+n>i.byteLength)throw new RangeError("bytesWritten out of range");if(up(t,n,i),!(i.bytesFilled<i.elementSize)){hp(t);var r=i.bytesFilled%i.elementSize;if(r>0){var e=i.byteOffset+i.bytesFilled,u=i.buffer.slice(e-r,e);rp(t,u,0,u.byteLength)}i.buffer=Ky(i.buffer),i.bytesFilled-=r,np(t.$N,i),ap(t)}}(t,n,i);tp(t)}function hp(t){var n=t.ZN.shift();return op(t),n}function fp(t){t.jN=void 0,t.WN=void 0}function vp(t,n){var i=t.$N;"readable"===i.fN&&(!function(t){op(t),t.ZN=new _m}(t),Wm(t),fp(t),Dp(i,n))}function dp(t){var n=t.$N.fN;return"errored"===n?null:"closed"===n?0:t.UN-t.kN}function lp(t,n,i){var r=_.create(Jk.prototype);var e=Zy(n,"pull",0,[r]),u=Zy(n,"cancel",1,[]),s=n.autoAllocateChunkSize;if(void 0!==s&&(s=Number(s),!1===Yk(s)||s<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");!function(t,n,i,r,e,u,s){n.$N=t,n.QN=!1,n.GN=!1,n.JN=void 0,n.re=n.kN=void 0,Wm(n),n.zN=!1,n.DN=!1,n.UN=tm(u),n.jN=r,n.WN=e,n.KN=s,n.ZN=new _m,t.wN=n,hm(om(i()),function(){n.DN=!0,tp(n)},function(t){vp(n,t)})}(t,r,function(){return Jy(n,"start",[r])},e,u,i,s)}function _p(t){return new l("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function gp(t){return new l("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function wp(t){return sm(function(n,i){var r={ce:n,gi:i};t.hN.tD.push(r)})}function yp(t){return t.hN.tD.length}function mp(t){var n=t.hN;return void 0!==n&&!!pp(n)}var kp=function(){function t(t){if(!Sp(t))throw new l("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===$k(t.wN))throw new l("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(Rp(t))throw new l("This stream has already been locked for exclusive reading by another reader");wm(this,t),this.tD=new _m}return _.defineProperty(t.prototype,"closed",{get:function(){return pp(this)?this._o:am(Ap("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return pp(this)?void 0===this.cN?am(km("cancel")):ym(this,t):am(Ap("cancel"))},t.prototype.read=function(t){return pp(this)?void 0===this.cN?am(km("read from")):ArrayBuffer.isView(t)?(t.buffer,0===t.byteLength?am(new l("view must have non-zero byteLength")):function(t,n){var i=t.cN;if(i.gN=!0,"errored"===i.fN)return am(i.vN);return function(t,n){var i=t.$N,r=1;n.constructor!==DataView&&(r=n.constructor.BYTES_PER_ELEMENT);var e=n.constructor,u={buffer:Ky(n.buffer),byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:r,ctor:e,readerType:"byob"};if(t.ZN.length>0)return t.ZN.push(u),wp(i);if("closed"===i.fN)return om(gm(new e(u.buffer,u.byteOffset,0),!0,i.hN.aN));if(t.kN>0){if(!0===ep(t,u)){var s=ip(u);return sp(t),om(gm(s,!1,i.hN.aN))}if(!0===t.zN){var o=new l("Insufficient bytes to fill elements in the given buffer");return vp(t,o),am(o)}}t.ZN.push(u);var a=wp(i);return tp(t),a}(i.wN,n)}(this,t)):am(new l("view must be an array buffer view")):am(Ap("read"))},t.prototype.releaseLock=function(){if(!pp(this))throw Ap("releaseLock");if(void 0!==this.cN){if(this.tD.length>0)throw new l("Tried to release a reader lock when that reader has pending read() calls un-settled");mm(this)}},t}();function pp(t){return!!Gy(t)&&!!_.prototype.hasOwnProperty.call(t,"tD")}function Ap(t){return new l("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}var bp=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),Ep(this);var i=n.size,r=n.highWaterMark,e=t.type;if("bytes"===String(e)){if(void 0!==i)throw new RangeError("The strategy for a byte stream cannot have a size function");void 0===r&&(r=0),lp(this,t,r=tm(r))}else{if(void 0!==e)throw new RangeError("Invalid type is specified");var u=nm(i);void 0===r&&(r=1),function(t,n,i,r){var e=_.create(Mk.prototype),u=Zy(n,"pull",0,[e]),s=Zy(n,"cancel",1,[]);jk(t,e,function(){return Jy(n,"start",[e])},u,s,i,r)}(this,t,r=tm(r),u)}}return _.defineProperty(t.prototype,"locked",{get:function(){if(!1===Sp(this))throw Cp("locked");return Rp(this)},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return!1===Sp(this)?am(Cp("cancel")):!0===Rp(this)?am(new l("Cannot cancel a stream that already has a reader")):Ip(this,t)},t.prototype.getReader=function(t){var n=(void 0===t?{}:t).mode;if(!1===Sp(this))throw Cp("getReader");if(void 0===n)return Rm(this,!0);if("byob"===(n=String(n)))return function(t,n){void 0===n&&(n=!1);var i=new kp(t);return i.aN=n,i}(this,!0);throw new RangeError("Invalid mode is specified")},t.prototype.pipeThrough=function(t,n){var i=t.writable,r=t.readable,e=void 0===n?{}:n,u=e.preventClose,s=e.preventAbort,o=e.preventCancel,a=e.signal;if(!1===Sp(this))throw Cp("pipeThrough");if(!1===Ym(i))throw new l("writable argument to pipeThrough must be a WritableStream");if(!1===Sp(r))throw new l("readable argument to pipeThrough must be a ReadableStream");if(u=Boolean(u),s=Boolean(s),o=Boolean(o),void 0!==a&&!Ok(a))throw new l("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(!0===Rp(this))throw new l("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(!0===Zm(i))throw new l("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return lm(Lk(this,i,u,s,o,a)),r},t.prototype.pipeTo=function(t,n){var i=void 0===n?{}:n,r=i.preventClose,e=i.preventAbort,u=i.preventCancel,s=i.signal;return!1===Sp(this)?am(Cp("pipeTo")):!1===Ym(t)?am(new l("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(r=Boolean(r),e=Boolean(e),u=Boolean(u),void 0===s||Ok(s)?!0===Rp(this)?am(new l("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):!0===Zm(t)?am(new l("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Lk(this,t,r,e,u,s):am(new l("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal")))},t.prototype.tee=function(){if(!1===Sp(this))throw Cp("tee");var t=function(t,n){var i,r,e,u,s,o=Rm(t),a=!1,c=!1,h=!1,f=sm(function(t){s=t});function v(){return!0===a?om(void 0):(a=!0,lm(dm(Lm(o),function(t){if(a=!1,!0===t.done)return!1===c&&Xk(e.wN),void(!1===h&&Xk(u.wN));var n=t.value,i=n,r=n;!1===c&&Wk(e.wN,i),!1===h&&Wk(u.wN,r)})),om(void 0))}function d(){}return e=Tp(d,v,function(n){if(c=!0,i=n,!0===h){var e=jy([i,r]),u=Ip(t,e);s(u)}return f}),u=Tp(d,v,function(n){if(h=!0,r=n,!0===c){var e=jy([i,r]),u=Ip(t,e);s(u)}return f}),vm(o._o,function(t){qk(e.wN,t),qk(u.wN,t)}),[e,u]}(this);return jy(t)},t.prototype.getIterator=function(t){var n=(void 0===t?{}:t).preventCancel,i=void 0!==n&&n;if(!1===Sp(this))throw Cp("getIterator");return function(t,n){void 0===n&&(n=!1);var i=Rm(t),r=_.create(Um);return r.yN=i,r.mN=Boolean(n),r}(this,i)},t}();function Tp(t,n,i,r,e){void 0===r&&(r=1),void 0===e&&(e=function(){return 1});var u=_.create(bp.prototype);return Ep(u),jk(u,_.create(Mk.prototype),t,n,i,r,e),u}function Ep(t){t.fN="readable",t.hN=void 0,t.vN=void 0,t.gN=!1}function Sp(t){return!!Gy(t)&&!!_.prototype.hasOwnProperty.call(t,"wN")}function Rp(t){return void 0!==t.hN}function Ip(t,n){return t.gN=!0,"closed"===t.fN?om(void 0):"errored"===t.fN?am(t.vN):(Np(t),dm(t.wN[Em](n),Wy))}function Np(t){t.fN="closed";var n=t.hN;void 0!==n&&(Bm(n)&&(n._N.forEach(function(t){t.ce(gm(void 0,!0,n.aN))}),n._N=new _m),Tm(n))}function Dp(t,n){t.fN="errored",t.vN=n;var i=t.hN;void 0!==i&&(Bm(i)?(i._N.forEach(function(t){t.gi(n)}),i._N=new _m):(i.tD.forEach(function(t){t.gi(n)}),i.tD=new _m),bm(i,n))}function Cp(t){return new l("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}"symbol"==typeof Xy.asyncIterator&&_.defineProperty(bp.prototype,Xy.asyncIterator,{value:bp.prototype.getIterator,enumerable:!1,writable:!0,configurable:!0});var Op=function(){function t(t){var n=t.highWaterMark;this.highWaterMark=n}return t.prototype.size=function(){return 1},t}(),xp=function(){function t(t,n,i){void 0===t&&(t={}),void 0===n&&(n={}),void 0===i&&(i={});var r=n.size,e=n.highWaterMark,u=i.size,s=i.highWaterMark;if(void 0!==t.writableType)throw new RangeError("Invalid writable type specified");var o=nm(r);if(void 0===e&&(e=1),e=tm(e),void 0!==t.readableType)throw new RangeError("Invalid readable type specified");var a,c=nm(u);void 0===s&&(s=0),s=tm(s),function(t,n,i,r,e,u){function s(){return n}t.nD=function(t,n,i,r,e,u){void 0===e&&(e=1),void 0===u&&(u=function(){return 1});var s=_.create(Gm.prototype);return Qm(s),dk(s,_.create(vk.prototype),t,n,i,r,e,u),s}(s,function(n){return function(t,n){var i=t.iD;if(!0===t.IN){var r=t.rD;return dm(r,function(){var r=t.nD,e=r.fN;if("erroring"===e)throw r.vN;return Xp(i,n)})}return Xp(i,n)}(t,n)},function(){return function(t){var n=t.eD,i=t.iD,r=i.uD();return Hp(i),dm(r,function(){if("errored"===n.fN)throw n.vN;var t=n.wN;!0===Gk(t)&&Xk(t)},function(i){throw Bp(t,i),n.vN})}(t)},function(n){return function(t,n){return Bp(t,n),om(void 0)}(t,n)},i,r),t.eD=Tp(s,function(){return function(t){return Mp(t,!1),t.rD}(t)},function(n){return Lp(t,n),om(void 0)},e,u),t.IN=void 0,t.rD=void 0,t.sD=void 0,Mp(t,!0),t.iD=void 0}(this,sm(function(t){a=t}),e,o,s,c),function(t,n){var i=_.create(Up.prototype),r=function(t){try{return Vp(i,t),om(void 0)}catch(t){return am(t)}},e=n.transform;if(void 0!==e){if("function"!=typeof e)throw new l("transform is not a method");r=function(t){return $y(e,n,[t,i])}}var u=Zy(n,"flush",0,[i]);!function(t,n,i,r){n.oD=t,t.iD=n,n.aD=i,n.uD=r}(t,i,r,u)}(this,t);var h=Jy(t,"start",[this.iD]);a(h)}return _.defineProperty(t.prototype,"readable",{get:function(){if(!1===Pp(this))throw qp("readable");return this.eD},enumerable:!0,configurable:!0}),_.defineProperty(t.prototype,"writable",{get:function(){if(!1===Pp(this))throw qp("writable");return this.nD},enumerable:!0,configurable:!0}),t}();function Pp(t){return!!Gy(t)&&!!_.prototype.hasOwnProperty.call(t,"iD")}function Bp(t,n){qk(t.eD.wN,n),Lp(t,n)}function Lp(t,n){Hp(t.iD),wk(t.nD.AN,n),!0===t.IN&&Mp(t,!1)}function Mp(t,n){void 0!==t.rD&&t.sD(),t.rD=sm(function(n){t.sD=n}),t.IN=n}var Up=function(){function t(){throw new l("TransformStreamDefaultController instances cannot be created directly")}return _.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Fp(this))throw Wp("desiredSize");return zk(this.oD.eD.wN)},enumerable:!0,configurable:!0}),t.prototype.enqueue=function(t){if(!1===Fp(this))throw Wp("enqueue");Vp(this,t)},t.prototype.error=function(t){if(!1===Fp(this))throw Wp("error");var n;n=t,Bp(this.oD,n)},t.prototype.terminate=function(){if(!1===Fp(this))throw Wp("terminate");!function(t){var n=t.oD,i=n.eD.wN;!0===Gk(i)&&Xk(i);var r=new l("TransformStream terminated");Lp(n,r)}(this)},t}();function Fp(t){return!!Gy(t)&&!!_.prototype.hasOwnProperty.call(t,"oD")}function Hp(t){t.aD=void 0,t.uD=void 0}function Vp(t,n){var i=t.oD,r=i.eD.wN;if(!1===Gk(r))throw new l("Readable side is not in a state that permits enqueue");try{Wk(r,n)}catch(t){throw Lp(i,t),i.eD.vN}(function(t){return!0!==Hk(t)})(r)!==i.IN&&Mp(i,!0)}function Xp(t,n){return dm(t.aD(n),void 0,function(n){throw Bp(t.oD,n),n})}function Wp(t){return new l("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function qp(t){return new l("TransformStream.prototype."+t+" can only be used on a TransformStream")}var zp,Gp=function(t){function n(n){var i;return(i=t.call(this,""+n.join("\n"),n[0])||this).causes=n,i}return qt(n,t),T(n,[{key:"name",get:function(){return"AggregateError"}}]),n}(Yt);function jp(t){return n=[t],new bp({start:function(t){for(var i=0;i<n.length;i++){var r=n[i];t.enqueue(r)}t.close()}});var n}function Qp(t){return jp(new k(t))}function Yp(t,n){var i=n,r=t.getReader(),e=new se,u=function(){s();var t=new pi;r.cancel(t).catch(j),e.ro(t)},s=function(){i&&(i.os(u),i=void 0)};i&&(i.$u?u():i.ss(u));var o=[];return vn.resolve(r.read()).then(function t(n){return n.done?(s(),vn.resolve(o)):(o.push(n.value),vn.resolve(r.read()).then(t))}).then(function(t){s(),e.io(t)},function(t){s(),e.ro(t)}),e.to}function Zp(t,n){return Yp(t,n).then(function(t){return sr(t).buffer})}function Jp(t,n){var i=n,r=new xp,e=r.readable,u=r.writable,s=u.getWriter(),o=function(){i&&i.fs()};return s.closed.then(o,o),t.then(function(t){return i=void 0,s.releaseLock(),t.pipeTo(u).catch(j)},function(t){return i=void 0,s.releaseLock(),u.abort(t).catch(j)}),e}function $p(t){var n=new xp,i=n.readable,r=n.writable;return t.pipeTo(r,{preventCancel:!0}).catch(function(t){var n;n=U(t)?t[0]===t[1]||Ai(t[0])&&Ai(t[1])?t[0]:new Gp(t):t,r.abort(n).catch(j)}),i.tee()}function Kp(t){return new vn(function(n,i){t.onload=function(){n(t.result)},t.onerror=function(){i(t.error)}})}function tA(t){return Qr(new k(t))}function nA(t){return Yr(t).buffer}function iA(t){return n=t,(new XMLSerializer).serializeToString(n);var n}function rA(t){return function(t,n){var i=(new DOMParser).parseFromString(t,n);if(!i||i.getElementsByTagName("parsererror").length>0)throw new d("Invalid XML");return i}(t,"text/xml")}!function(t){t[t.jv=0]="jv",t[t.cD=1]="cD"}(zp||(zp={}));var eA="content-type",uA="text/plain;charset=UTF-8",sA="application/xml;charset=UTF-8",oA=function(){function t(){}var n=t.prototype;return n.pT=function(t){return this.rb(t).then(JSON.parse)},n.hD=function(t){return this.rb(t).then(rA)},n.hT=function(t,n){switch(t){case Sc.zv:return this.LT(n);case Sc.Qv:return this.fD(n);case Sc.En:return this.hD(n);case Sc.Gv:return this.pT(n);case Sc.jv:return this.vD();case Sc.An:return this.rb(n);default:throw new l}},t}();function aA(t,n,i){if(t instanceof oA)return t;var r,e=(i.get(eA)||"").toLowerCase();if(t instanceof bp)r={Pu:zp.jv,vD:t,OS:e};else{var u=vn.resolve(t).then(function(t){return function(t,n){if(t){if("string"==typeof t)return{Pu:Sc.An,wd:t,OS:n||uA};if(t instanceof ArrayBuffer||er(t))return{Pu:Sc.zv,wd:kA(t),OS:n};if(t instanceof Blob)return{Pu:Sc.Qv,wd:t,OS:t.type||n};if(t instanceof Document)return{Pu:Sc.En,wd:t,OS:n||sA};if(V(t)||U(t))return{Pu:Sc.Gv,wd:t,OS:n};throw new l("Unsupported BodyInit type")}return{Pu:Sc.An,wd:null,OS:n}}(t,e)});r={Pu:zp.cD,to:u,dD:n}}return new cA(r)}var cA=function(t){function n(n){var i;return(i=t.call(this)||this).lD=!1,i._D=new se,i._D.to.catch(j),i.gD(n),i}qt(n,t);var i=n.prototype;return i.wD=function(){return this._D.to},i.rb=function(t){return this.yD(hA,t)},i.pT=function(t){return this.yD(vA,t)},i.fD=function(t){return this.yD(lA,t)},i.LT=function(t){return this.yD(gA,t)},i.vD=function(){return this.mD((t=this.kD).Pu===zp.jv?t.vD:Jp(t.to.then(wA).then(Qp),t.dD));var t},i.hD=function(t){return this.yD(yA,t)},i.yD=function(t,n){if(this.lD)return vn.reject(new l("Already used"));this.lD=!0;var i=t(this.kD,n);return this._D.io(i.then(j)),i},i.mD=function(t){if(this.lD)throw new l("Already used");if(t.locked)throw new l("Body stream is locked");this.lD=!0;var n=new xp,i=vn.resolve(t.pipeTo(n.writable));return this._D.io(i),n.readable},i.gD=function(t){this.kD=t,t.Pu===zp.cD&&t.to.catch(j)},i.pD=function(){if(this.lD)throw new l("Already used");var t=function(t){if(t.Pu===zp.jv){var n=t.vD.tee(),i=n[0],r=n[1];return[{Pu:t.Pu,vD:i,OS:t.OS},{Pu:t.Pu,vD:r,OS:t.OS}]}var e=t.dD.ds(),u=e[0],s=e[1];return[{Pu:t.Pu,to:t.to,dD:u},{Pu:t.Pu,to:t.to,dD:s}]}(this.kD),i=t[0],r=t[1];return this.gD(i),new n(r)},T(n,[{key:"bD",get:function(){return this.lD}}]),n}(oA);function hA(t,n){return t.Pu===zp.jv?Zp(t.vD,n).then(tA):(n&&t.dD.vs(n),Ri(t.to.then(fA),t.dD))}function fA(t){switch(t.Pu){case Sc.An:return vn.resolve(t.wd||"");case Sc.zv:return vn.resolve(t.wd).then(tA);case Sc.Qv:return n=t.wd,i=new FileReader,r=Kp(i),i.readAsText(n),r;case Sc.En:return vn.resolve(t.wd).then(iA);case Sc.Gv:return vn.resolve(t.wd).then(JSON.stringify)}var n,i,r}function vA(t,n){return t.Pu===zp.jv?hA(t,n).then(JSON.parse):(n&&t.dD.vs(n),Ri(t.to.then(dA),t.dD))}function dA(t){return t.Pu===Sc.Gv?vn.resolve(t.wd):fA(t).then(JSON.parse)}function lA(t,n){return t.Pu===zp.jv?function(t,n,i){return Yp(t,i).then(function(t){return To(t,{type:n})})}(t.vD,t.OS,n):(n&&t.dD.vs(n),Ri(t.to.then(_A),t.dD))}function _A(t){return t.Pu===Sc.Qv?vn.resolve(t.wd):t.Pu===Sc.zv?vn.resolve(To([t.wd],{type:t.OS})):fA(t).then(function(n){return To([n],{type:t.OS})})}function gA(t,n){return t.Pu===zp.jv?Zp(t.vD,n):(n&&t.dD.vs(n),Ri(t.to.then(wA),t.dD))}function wA(t){switch(t.Pu){case Sc.zv:return vn.resolve(t.wd);case Sc.An:case Sc.En:case Sc.Gv:return fA(t).then(nA);case Sc.Qv:return n=t.wd,i=new FileReader,r=Kp(i),i.readAsArrayBuffer(n),r}var n,i,r}function yA(t,n){return t.Pu===zp.jv?hA(t,n).then(rA):(n&&t.dD.vs(n),Ri(t.to.then(mA),t.dD))}function mA(t){return t.Pu===Sc.En?vn.resolve(t.wd):fA(t).then(rA)}function kA(t){return t instanceof ArrayBuffer?t:re(Kr(t)).buffer}function pA(t){return t.YA>=200&&t.YA<=299||304===t.YA}var AA=function(t){function n(n,i){var r,e,u,s,o,a;i?(e=i.yd,u=i.kd,s=i.YA,o=i.AT,a=i.TD):(e=[],u=Sc.An,s=200,o="OK",a=!1);var c=n.GA,h=new Pc(n.yd||e),f=n.kd||u,v=n.QA||(i&&i.GA===c?i.QA:c.gd),d=aA(void 0!==n.$n?n.$n:i?i.ED:null,n.dD||new ki,h);return(r=t.call(this,d)||this).yd=h,r.GA=c,r.QA=v,r.kd=f,r.YA=void 0!==n.YA?n.YA:s,r.AT=void 0!==n.AT?String(n.AT):o,r.TD=n.TD||a,r}qt(n,t);var i=n.prototype;return i.$n=function(t){return this.hT(this.kd,t)},i.Ys=function(){return new n({$n:this.pD(),GA:this.GA},this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).ED=n,i}qt(n,t);var i=n.prototype;return i.wD=function(){return this.ED.wD()},i.rb=function(t){return this.ED.rb(t)},i.pT=function(t){return this.ED.pT(t)},i.fD=function(t){return this.ED.fD(t)},i.LT=function(t){return this.ED.LT(t)},i.hD=function(t){return this.ED.hD(t)},i.vD=function(){return this.ED.vD()},i.pD=function(){return this.ED.pD()},T(n,[{key:"bD",get:function(){return this.ED.bD}}]),n}(oA)),bA=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).SD=n,e}return qt(n,t),T(n,[{key:"GA",get:function(){return this.SD}}]),n}(Yt);var TA=function(t){function n(n,i){return t.call(this,n,"Error while opening "+n.gd+". Invalid URL.",i)||this}return qt(n,t),T(n,[{key:"name",get:function(){return Il.VA}}]),n}(bA);var EA=function(t){function n(n,i){var r;return(r=t.call(this,n.GA,function(t){return"Error while loading "+t.GA.gd+", status code "+t.YA}(n),i)||this).RD=n,r}return qt(n,t),T(n,[{key:"name",get:function(){return Il.XA}},{key:"jA",get:function(){return this.RD}}]),n}(bA);var SA=function(t){function n(n,i){return t.call(this,n,function(t){return"Request for "+t.gd+" timed out after "+t.pd+" seconds."}(n),i)||this}return qt(n,t),T(n,[{key:"name",get:function(){return Il.WA}}]),n}(bA),RA=function(t,n){return(RA=_.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])})(t,n)};function IA(t,n){function i(){this.constructor=t}RA(t,n),t.prototype=null===n?_.create(n):(i.prototype=n.prototype,new i)}var NA="object"==typeof u?u:"object"==typeof t?t:"object"==typeof global?global:null;var DA=function(){var t=NA.Blob;if(t)try{return new t,function(t,n){return new NA.Blob(t,n)}}catch(t){}var n,i=NA.BlobBuilder||NA.WebKitBlobBuilder||NA.MozBlobBuilder||NA.MSBlobBuilder;return i?(n=i,function(t,i){var r=new n;if(t)for(var e=0,u=t;e<u.length;e++){var s=u[e];r.append(s)}return r.getBlob(i&&i.type||"")}):null}(),CA="function"==typeof bp?bp:void 0;function OA(t){return t&&"function"==typeof t.getReader}function xA(t){if("function"!=typeof t)return!1;try{var n=!1,i=new t({start:function(){n=!0}});return!!n&&OA(i)}catch(t){return!1}}var PA=function(){function t(t,n){this.hN=t,this.ND=n}return t.prototype.pull=function(t){var n=this;return this.hN.read().then(function(i){n.ND&&n.ND(i),i.done?t.close():t.enqueue(i.value)})},t.prototype.cancel=function(t){return this.hN.cancel(t)},t}();function BA(t,n){return n.constructor===t?n:new t(new PA(n.getReader()),{highWaterMark:0})}var LA=function(){function t(t,n){this.DD=t,this.Hi=n}return t.prototype.pull=function(t){return this.DD().then(function(n){t.enqueue(new k(n)),t.close()})},t.prototype.cancel=function(t){this.Hi&&this.Hi(t)},t}();function MA(t,n,i){return new t(new LA(n,i),{highWaterMark:0})}var UA={searchParams:"URLSearchParams"in NA,iterable:"Symbol"in NA&&"iterator"in Symbol,blob:"FileReader"in NA&&!!DA,formData:"FormData"in NA,arrayBuffer:"ArrayBuffer"in NA,stream:xA(CA),streamRequest:"Request"in NA&&"body"in NA.Request.prototype,streamResponse:"Response"in NA&&"body"in NA.Response.prototype,abort:"AbortController"in NA&&"Request"in NA&&"signal"in NA.Request.prototype,encoding:"TextEncoder"in NA&&"TextDecoder"in NA,url:"URL"in NA&&function(t){try{return new NA.URL(t).toString()===t}catch(t){return!1}}("http://example.com/"),firefox:"navigator"in NA&&/Firefox\//.test(NA.navigator.userAgent)};function FA(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new l("Invalid character in header field name");return t}function HA(t){return"string"!=typeof t&&(t=String(t)),t}function VA(t){var n={next:function(){var n=t.shift();return{done:void 0===n,value:n}}};return UA.iterable&&(n[Symbol.iterator]=function(){return n}),n}var XA=function(){function t(n){var i,r=this;this.Iu={},n instanceof t?n.asList().forEach(function(t){var n=t[0],i=t[1];r.append(n,i)}):Array.isArray(n)?n.forEach(function(t){r.append(t[0],t[1])}):(i=n,UA.iterable&&i&&i[Symbol.iterator]?Array.from(n).forEach(function(t){r.append(t[0],t[1])}):n&&_.getOwnPropertyNames(n).forEach(function(t){r.append(t,n[t])}))}return t.prototype.append=function(t,n){t=FA(t),n=HA(n);var i=t.toLowerCase();if(this.Iu.hasOwnProperty(i)){var r=this.Iu[i],e=r[1];r[1]=e?e+", "+n:n}else this.Iu[i]=[t,n]},t.prototype.delete=function(t){var n=FA(t).toLowerCase();delete this.Iu[n]},t.prototype.get=function(t){var n=FA(t).toLowerCase();return this.Iu.hasOwnProperty(n)?this.Iu[n][1]:null},t.prototype.has=function(t){var n=FA(t).toLowerCase();return this.Iu.hasOwnProperty(n)},t.prototype.set=function(t,n){var i=(t=FA(t)).toLowerCase();this.Iu[i]=[t,HA(n)]},t.prototype.forEach=function(t,n){for(var i in this.Iu)this.Iu.hasOwnProperty(i)&&t.call(n,this.Iu[i][1],i,this)},t.prototype.keys=function(){var t=[];return this.forEach(function(n,i){t.push(i)}),VA(t)},t.prototype.values=function(){var t=[];return this.forEach(function(n){t.push(n)}),VA(t)},t.prototype.entries=function(){var t=[];return this.forEach(function(n,i){t.push([i,n])}),VA(t)},t.prototype.asList=function(){var t=[];for(var n in this.Iu)if(this.Iu.hasOwnProperty(n)){var i=this.Iu[n],r=i[0],e=i[1];t.push([r,e])}return t},t}();function WA(){}UA.iterable&&(XA.prototype[Symbol.iterator]=XA.prototype.entries);var qA,zA,GA,jA=g.min,QA=String.fromCharCode,YA=16384;function ZA(t){for(var n=[],i=0,r=t;i<r.length;i++){var e=r[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return function(t){for(var n=t.length,i=[],r=0;r<n;r+=YA){var e=jA(r+YA,n);i.push(QA.apply(null,t.slice(r,e)))}return i.join("")}(n)}function JA(t){if(t>=55296&&t<=57343)throw new d("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function $A(t,n){return t>>n&63|128}function KA(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(JA(t),n.push(t>>12&15|224),n.push($A(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push($A(t,12)),n.push($A(t,6))),n.push(63&t|128)):n.push(t)}function tb(){if(GA>=zA)throw new d("Invalid byte index");var t=255&qA[GA];if(GA++,128==(192&t))return 63&t;throw new d("Invalid continuation byte")}function nb(){var t,n;if(GA>zA)throw new d("Invalid byte index");if(GA===zA)return!1;if(t=255&qA[GA],GA++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|tb())>=128)return n;throw new d("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|tb()<<6|tb())>=2048)return JA(n),n;throw new d("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|tb()<<12|tb()<<6|tb())>=65536&&n<=1114111)return n;throw new d("Invalid UTF-8 detected")}var ib=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];function rb(t){return t&&URLSearchParams.prototype.isPrototypeOf(t)}function eb(t){return t&&ArrayBuffer.prototype.isPrototypeOf(t)}function ub(t){return t&&DataView.prototype.isPrototypeOf(t)}var sb,ob=ArrayBuffer.isView||function(t){return t&&(ib.indexOf(_.prototype.toString.call(t))>-1||ub(t))};function ab(t){if(t.bodyUsed)return vn.reject(new l("Already used"));t.bodyUsed=!0}function cb(t){return new vn(function(n,i){t.onload=function(){n(t.result)},t.onerror=function(){i(t.error)}})}function hb(t){return UA.encoding?new NA.TextDecoder("utf-8").decode(new k(t)):ZA(function(t){zA=(qA=t).length,GA=0;for(var n,i=[];!1!==(n=nb());)i.push(n);return i}(new k(t)))}function fb(t){return UA.encoding?(new NA.TextEncoder).encode(t).buffer:new k(function(t){for(var n=[],i=0,r=t;i<r.length;i++)KA(r[i],n);return n}(function(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&e)<<10)+(1023&u)+65536):(n.push(e),i--)}else n.push(e)}return n}(t))).buffer}function vb(t){var n=t.getReader(),i=[],r=function(t){var e=t.done,u=t.value;return e?vn.resolve(i):(i.push(u),n.read().then(r))};return n.read().then(r)}function db(t){return vb(t).then(function(t){return function(t){for(var n=0,i=0,r=t;i<r.length;i++)n+=(a=r[i]).byteLength;for(var e=new k(n),u=0,s=0,o=t;s<o.length;s++){var a=o[s];e.set(a,u),u+=a.byteLength}return e}(t).buffer})}function lb(t){return t.slice?t.slice(0):_b(new k(t))}function _b(t){if(t.slice)return t.slice(0).buffer;var n=new k(t.byteLength);return n.set(new k(t.buffer,t.byteOffset,t.byteLength)),n.buffer}function gb(t){var n=new FormData;return t.trim().split("&").forEach(function(t){if(t){var i=t.split("="),r=i.shift().replace(/\+/g," "),e=i.join("=").replace(/\+/g," ");n.append(decodeURIComponent(r),decodeURIComponent(e))}}),n}function wb(t){var n=t;if(n.bodyUsed)throw new l("Already used");if(n.CD===sb.OD){if(!n.xD.tee)throw new d("could not clone ReadableStream body");var i=n.xD.tee(),r=i[0],e=i[1];return n.body=r,n.xD=r,n.PD=r,e}return n.CD===sb.zv?lb(n.xD):n.CD===sb.cD?n.xD.then(wb):n.PD}!function(t){t[t.An=0]="An",t[t.Qv=1]="Qv",t[t.BD=2]="BD",t[t.zv=3]="zv",t[t.OD=4]="OD",t[t.cD=5]="cD"}(sb||(sb={}));var yb=function(){function t(n,i){this.bodyUsed=!1;var r,e,u,s=this;if(this.PD=n||null,n)if("string"==typeof n)this.CD=sb.An,this.xD=n;else if((u=n)&&"function"==typeof u.then)this.CD=sb.cD,this.xD=vn.resolve(n).then(function(n){return new t(n,i)}),this.xD.catch(WA);else if(UA.blob&&function(t){return t&&Blob.prototype.isPrototypeOf(t)}(n))this.CD=sb.Qv,this.xD=n;else if(UA.formData&&function(t){return t&&FormData.prototype.isPrototypeOf(t)}(n))this.CD=sb.BD,this.xD=n;else if(UA.searchParams&&rb(n))this.CD=sb.An,this.xD=n.toString();else if(UA.arrayBuffer&&(eb(n)||ob(n)))ub(n)&&(this.PD=new k((e=n).buffer,e.byteOffset,e.byteLength)),this.CD=sb.zv,this.xD=eb(r=n)?lb(r):_b(r);else{if(!UA.stream||!OA(n))throw new d("unsupported BodyInit type");n=BA(CA,n),this.CD=sb.OD,this.xD=n,this.PD=n}else this.CD=sb.An,this.xD="";this.LD="",i.has("content-type")?this.LD=(i.get("content-type")||"").toLowerCase():("string"==typeof n?this.LD="text/plain;charset=UTF-8":s.CD===sb.Qv&&s.xD.type?this.LD=s.xD.type:UA.searchParams&&rb(n)&&(this.LD="application/x-www-form-urlencoded;charset=UTF-8"),this.LD&&i.set("content-type",this.LD)),UA.stream&&(null==n?this.body=null:s.CD===sb.OD?this.body=s.xD:this.body=MA(CA,function(){return s.arrayBuffer()},function(){s.bodyUsed=!0}))}return t.prototype.text=function(){var t,n,i,r=ab(this);return r||(this.CD===sb.Qv?(t=this.xD,n=new FileReader,i=cb(n),n.readAsText(t),i):this.CD===sb.zv?vn.resolve(this.xD).then(hb):this.CD===sb.OD?db(this.xD).then(hb):this.CD===sb.cD?this.xD.then(function(t){return t.text()}):this.CD===sb.BD?vn.reject(new d("could not read FormData body as text")):vn.resolve(this.xD))},t.prototype.json=function(){return this.text().then(JSON.parse)},t}();UA.blob&&(yb.prototype.blob=function(){var t,n,i=ab(this);return i||(this.CD===sb.Qv?vn.resolve(this.xD):this.CD===sb.zv?vn.resolve(DA([this.xD],{type:this.LD})):this.CD===sb.OD?(t=this.xD,n=this.LD,vb(t).then(function(t){return DA(t,{type:n||""})})):this.CD===sb.cD?this.xD.then(function(t){return t.blob()}):this.CD===sb.BD?vn.reject(new d("could not read FormData body as Blob")):vn.resolve(DA([this.xD],{type:this.LD})))}),UA.arrayBuffer&&(yb.prototype.arrayBuffer=function(){var t,n,i;return this.CD===sb.zv?ab(this)||vn.resolve(this.xD):this.CD===sb.Qv?ab(this)||(t=this.xD,n=new FileReader,i=cb(n),n.readAsArrayBuffer(t),i):this.CD===sb.OD?db(this.xD):this.CD===sb.cD?ab(this)||this.xD.then(function(t){return t.arrayBuffer()}):this.CD===sb.BD?vn.reject(new d("could not read FormData body as ArrayBuffer")):vn.resolve(this.xD).then(fb)}),UA.formData&&(yb.prototype.formData=function(){return this.CD===sb.BD?ab(this)||vn.resolve(this.xD):this.text().then(gb)});var mb=[301,302,303,307,308],kb=function(t){function n(n,i){var r=this,e=new XA((i=i||{}).headers);return(r=t.call(this,n||null,e)||this).type="default",r.status=void 0===i.status?200:i.status,r.ok=r.status>=200&&r.status<300,r.statusText=void 0!==i.statusText?String(i.statusText):"",r.headers=e,r.url=i.url||"",r}return IA(n,t),n.prototype.clone=function(){return new n(wb(this),{status:this.status,statusText:this.statusText,headers:new XA(this.headers),url:this.url})},n.error=function(){var t=new n(null,{status:0,statusText:""});return t.type="error",t},n.redirect=function(t,i){if(-1===mb.indexOf(i))throw new RangeError("Invalid status code");return new n(null,{status:i,headers:{location:t}})},n}(yb);var pb,Ab=function(t,n){return t(n={exports:{}},n.exports),n.exports}(function(t,n){function i(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}function r(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),_.defineProperty(t,r.key,r)}}function e(t,n,i){return n&&r(t.prototype,n),i&&r(t,i),t}function u(t){return(u=_.setPrototypeOf?_.getPrototypeOf:function(t){return t.__proto__||_.getPrototypeOf(t)})(t)}function o(t,n){return(o=_.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t,n,i){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,i){var r=function(t,n){for(;!_.prototype.hasOwnProperty.call(t,n)&&null!==(t=u(t)););return t}(t,n);if(r){var e=_.getOwnPropertyDescriptor(r,n);return e.get?e.get.call(i):e.value}})(t,n,i||t)}_.defineProperty(n,"__esModule",{value:!0});var f=function(){function t(){i(this,t),_.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return e(t,[{key:"addEventListener",value:function(t,n){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(n)}},{key:"removeEventListener",value:function(t,n){if(t in this.listeners)for(var i=this.listeners[t],r=0,e=i.length;r<e;r++)if(i[r]===n)return void i.splice(r,1)}},{key:"dispatchEvent",value:function(t){var n=this;if(t.type in this.listeners){for(var i=function(i){c(function(){return i.call(n,t)})},r=this.listeners[t.type],e=0,u=r.length;e<u;e++)i(r[e]);return!t.defaultPrevented}}}]),t}(),v=function(t){function n(){var t,r,e;return i(this,n),r=this,(t=!(e=u(n).call(this))||"object"!=typeof e&&"function"!=typeof e?a(r):e).listeners||f.call(a(t)),_.defineProperty(a(t),"aborted",{value:!1,writable:!0,configurable:!0}),_.defineProperty(a(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new l("Super expression must either be null or a function");t.prototype=_.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&o(t,n)}(n,f),e(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),h(u(n.prototype),"dispatchEvent",this).call(this,t)}}]),n}(),d=function(){function t(){i(this,t),_.defineProperty(this,"signal",{value:new v,writable:!0,configurable:!0})}return e(t,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(n){void 0!==s?s.createEvent?(t=s.createEvent("Event")).initEvent("abort",!1,!1):(t=s.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(d.prototype[Symbol.toStringTag]="AbortController",v.prototype[Symbol.toStringTag]="AbortSignal"),n.AbortSignal=v,n.AbortController=d,n.default=d});(pb=Ab)&&pb.__esModule&&_.prototype.hasOwnProperty.call(pb,"default")&&pb.default;Ab.AbortSignal;var bb=Ab.AbortController,Tb=NA.DOMException;try{new Tb}catch(t){(Tb=function(t,n){d.call(this,t),this.name=n||"Error",d.captureStackTrace&&d.captureStackTrace(this,this.constructor)}).prototype=_.create(d.prototype),Tb.prototype.constructor=Tb}var Eb=bb;var Sb,Rb="moz-chunked-arraybuffer";function Ib(t){try{var n=new A;return n.open("GET","https://test"),n.responseType=t,n.responseType===t}catch(t){}return!1}!function(t){t[t.UNSENT=0]="UNSENT",t[t.OPENED=1]="OPENED",t[t.HEADERS_RECEIVED=2]="HEADERS_RECEIVED",t[t.LOADING=3]="LOADING",t[t.DONE=4]="DONE"}(Sb||(Sb={}));var Nb=function(){function t(t,n){var i=this;this.MD=!1,this.SD=t,this.UD=n,this.FD=new A,this.HD=new vn(function(t,n){i.VD=t,i.XD=n})}return t.prototype.send=function(){var t=this;return this.WD().then(function(n){return t.qD(n,t.UD),t.HD})},t.prototype.WD=function(){var t=this.SD;return t.CD===sb.OD?t.arrayBuffer():vn.resolve(t.PD)},t.prototype.zD=function(t){this.SD.onprogress&&this.SD.onprogress(t.loaded,t.lengthComputable?t.total:void 0)},t.prototype.GD=function(t){this.XD(t)},t.prototype.jD=function(){this.GD(new l("Network request failed"))},t.prototype.QD=function(){this.GD(new l("Network request failed"))},t.prototype.YD=function(){this.GD(new Tb("Aborted","AbortError"))},t.prototype.qD=function(t,n){var i=this,r=this.SD,e=this.FD,u=function(){return i.ZD()};if(r.signal.aborted)return this.YD();e.onreadystatechange=function(){if(e.readyState>=Sb.HEADERS_RECEIVED&&!i.MD){var t=function(t){var n=new XA;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var i=t.split(":"),r=i.shift().trim();if(r){var e=i.join(":").trim();n.append(r,e)}}),n}(e.getAllResponseHeaders()||""),n={status:e.status,statusText:e.statusText,headers:t,url:e.responseURL||t.get("X-Request-URL")};i.MD=!0,i.JD(n)}},e.onprogress=function(t){return i.zD(t)},e.onload=function(){return i.$D()},e.onerror=function(){return i.jD()},e.ontimeout=function(){return i.QD()},e.onabort=function(){return i.YD()},e.open(r.method,r.url,!0),e.withCredentials="include"===r.credentials,"responseType"in e&&n&&(e.responseType=n),r.headers.asList().forEach(function(t){var n=t[0],i=t[1];e.setRequestHeader(n,i)}),r.signal.addEventListener("abort",u),e.onloadend=function(){r.signal.removeEventListener("abort",u)},t?e.send(t):e.send()},t.prototype.ZD=function(){this.FD.abort()},t}(),Db=function(t){function n(n,i){var r=t.call(this,n,i)||this;return r.KD=void 0,r.tC=void 0,r}return IA(n,t),n.prototype.JD=function(t){var n=this;this.KD=new vn(function(t,i){n.tC=t,n.nC=i}),this.VD(new kb(this.KD,t))},n.prototype.$D=function(){var t=this.FD.response||this.FD.responseText;this.tC(t)},n.prototype.GD=function(n){t.prototype.GD.call(this,n),this.nC&&this.nC(n)},n}(Nb),Cb=function(t){function n(n){var i=t.call(this,n,Rb)||this;return i.iC=void 0,i.rC=void 0,i.eC=!1,i}return IA(n,t),n.prototype.JD=function(t){var n=this;this.iC=new CA({start:function(t){n.rC=t},cancel:function(){n.eC=!0,n.ZD()}}),this.VD(new kb(this.iC,t))},n.prototype.zD=function(n){this.eC||this.rC.enqueue(new k(this.FD.response)),t.prototype.zD.call(this,n)},n.prototype.$D=function(){this.rC.close()},n.prototype.GD=function(n){t.prototype.GD.call(this,n),this.rC&&!this.eC&&(this.eC=!0,this.rC.error(n))},n}(Nb),Ob=function(){var t=UA.firefox&&Ib(Rb);return Ob=function(){return t},t},xb=function(){var t;return t=UA.arrayBuffer&&Ib("arraybuffer")?"arraybuffer":UA.blob&&Ib("blob")?"blob":"",xb=function(){return t},t};function Pb(t){return(UA.stream&&Ob()?new Cb(t):new Db(t,xb())).send()}var Bb=NA.fetch,Lb=NA.Request,Mb=(NA.Response,NA.AbortController);var Ub=["http:","https:"];var Fb=function(){try{if(UA.streamRequest){var t=new Lb("about:blank",{body:"",method:"POST"}).body;if(t&&xA(t.constructor))return t.constructor}}catch(t){}}();function Hb(t,n,i){var r;if(UA.stream){var e=void 0;if(UA.streamResponse){var u=t.body;e=u&&BA(CA,u)}else e=MA(CA,function(){return t.arrayBuffer()},function(){n.abort()});e&&i&&(e=function(t,n,i){var r=0;return function(t,n,i){return new t(new PA(n.getReader(),i),{highWaterMark:0})}(CA,t,function(t){var e=t.done,u=t.value;e?i=void 0===i?r:i:r+=u.byteLength,n(r,i)})}(e,i,Vb(t.headers))),r=e}else{var s=t.arrayBuffer();i&&(s=function(t,n,i){return vn.resolve().then(function(){return n(0,i),t}).then(function(t){var r=t.byteLength;return n(r,i=void 0===i?r:i),t})}(s,i,Vb(t.headers))),r=s}return new kb(r,t)}function Vb(t){return t.has("content-length")?Number(t.get("content-length")):void 0}function Xb(t){var n=new Mb;return function(t,n){var i,r=t;return i=r.CD===sb.OD?UA.streamRequest&&Fb?vn.resolve(BA(Fb,r.xD)):t.arrayBuffer():vn.resolve(t.PD),t.signal&&function(t,n){if(!t.signal.aborted)if(n.aborted)t.abort();else{var i=function(){n.removeEventListener("abort",i),t.signal.removeEventListener("abort",i),t.abort()};n.addEventListener("abort",i),t.signal.addEventListener("abort",i)}}(n,t.signal),i.then(function(i){return new Lb(t.url,{body:i||void 0,credentials:t.credentials,headers:(r=t.headers,(r instanceof XA?r:new XA(r)).asList()),method:t.method,mode:t.mode,referrer:t.referrer,referrerPolicy:t.referrerPolicy,signal:n.signal});var r})}(t,n).then(Bb).then(function(i){return Hb(i,n,t.onprogress)})}var Wb=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];var qb=function(t){function n(i,r){var e,u,s,o,a,c,h,f,v,d=this,_=(r=r||{}).body||null;if(i instanceof n){if(i.bodyUsed)throw new l("Already used");e=i.url,u=i.credentials,r.headers||(s=new XA(i.headers)),o=i.method,a=i.mode,c=i.referrer,h=i.referrerPolicy,f=i.signal,v=i.onprogress,_||null==i.PD||(_=i.PD,i.bodyUsed=!0)}else e=String(i),u="same-origin",o="GET",a="cors",c="about:client",h="",f=null,v=null;if(!r.headers&&s||(s=new XA(r.headers)),r&&(c="about:client",h=""),(d=t.call(this,_,s)||this).url=e,d.headers=s,d.credentials=r.credentials||u,d.method=function(t){var n=t.toUpperCase();return Wb.indexOf(n)>-1?n:t}(r.method||o),d.mode=r.mode||a,d.signal=r.signal||f||(new Eb).signal,d.referrer=void 0!==r.referrer?r.referrer:c,d.referrerPolicy=void 0!==r.referrerPolicy?r.referrerPolicy:h,d.onprogress=r.onprogress||v,("GET"===d.method||"HEAD"===d.method)&&_)throw new l("Body not allowed for GET or HEAD requests");return d}return IA(n,t),n.prototype.clone=function(){return new n(this,{body:wb(this)})},n}(yb),zb="function"==typeof Bb&&UA.abort&&UA.stream&&UA.streamResponse&&UA.url;function Gb(t,n){return new vn(function(i){var r=new qb(t,n);i((zb&&function(t){try{return Ub.indexOf(new NA.URL(t,NA.location.href).protocol)>=0}catch(t){return!1}}(r.url)?Xb:Pb)(r))})}Gb.polyfill=!0;var jb=function(){function t(t){this.cb=new ki,this.RD=void 0,this.uC=!1,this.SD=t,this.cb.vs(t.ls),this.jA=this.sC()}var n=t.prototype;return n.sC=function(){var t=vn.coroutine(fn.mark(function t(){var n,i,e,u,s,o,a,h,f=this;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:(n=this.SD).pd&&c(function(){f.uC=!0,f.cb.fs()},n.pd),t.prev=2,i=Gb(n.gd,{method:n.md,headers:n.yd.Yv(),body:n.wd,credentials:n.Td?"include":"same-origin",signal:Zb(this.cb.ls),onprogress:n.Ed}),t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(2),new TA(n,t.t0);case 9:return t.prev=9,t.next=12,i;case 12:e=t.sent,t.next=20;break;case 15:throw t.prev=15,t.t1=t.catch(9),Ai(u=this.oC(t.t1))&&this.cb.fs(),u;case 20:if(s=e.url||n.gd,o=0===e.status&&"file:"===(v=s,r.Ua(v).protocol)?200:e.status,a=new Qb(this,e,this.cb),h=new AA({$n:a,GA:n,kd:n.kd,yd:new Pc(e.headers.asList()),YA:o,AT:e.statusText,QA:s}),this.RD=h,!pA(h)){t.next=29;break}return t.abrupt("return",h);case 29:throw new EA(h);case 30:case"end":return t.stop()}var v},t,this,[[2,6],[9,15]])}));return function(){return t.apply(this,arguments)}}(),n.oC=function(t){return Ai(t)?this.uC?new SA(this.SD):new pi(t.message,t):this.RD?new EA(this.RD,t):new TA(this.SD,t)},t}(),Qb=function(t){function n(n,i,r){var e;return(e=t.call(this)||this)._D=new se,e.Sr=n,e.aC=i,e.cb=r,e._D.to.catch(j),e}qt(n,t);var i=n.prototype;return i.wD=function(){return this._D.to},i.rb=function(t){return this.yD(this.aC.text(),t)},i.LT=function(t){return this.yD(this.aC.arrayBuffer(),t)},i.fD=function(t){return this.yD(this.aC.blob(),t)},i.vD=function(){var t=this.aC.body;return t?this.mD(t):Jp(this.LT().then(Qp),this.cb)},i.pD=function(){var t=this.aC.clone(),i=this.cb.ds(),r=i[0],e=i[1];return this.cb=r,new n(this.Sr,t,e)},i.yD=function(t,n){var i=this;n&&this.cb.vs(n);var r=vn.resolve(t).catch(function(t){throw i.Sr.oC(t)});return r=Ri(r,this.cb),this._D.io(r.then(j)),r},i.mD=function(t){var n=this,i=new xp,r=vn.resolve(t.pipeTo(i.writable,{preventAbort:!0})).catch(function(t){var r=n.Sr.oC(t);throw i.writable.abort(r).catch(j),r});return r=Ri(r,this.cb),this._D.io(r.then(j)),i.readable},T(n,[{key:"bD",get:function(){return this.aC.bodyUsed}}]),n}(oA),Yb="abort";function Zb(t){var n=new Eb;if(t.$u)n.abort();else if(!t.Ku){var i=function(){r(),n.abort()},r=function r(){n.signal.removeEventListener(Yb,i),t.os(i),t.os(r)};n.signal.addEventListener(Yb,i),t.ss(i),t.as(r)}return n.signal}var Jb=function(){function t(){}var n=t.prototype;return n.GA=function(t){return new jb(t).jA},n.tN=function(t){if(Sn&&Sn.sendBeacon)Sn.sendBeacon(t.gd,To([t.wd],{type:t.OS}));else{var n=t.OS?{"Content-type":t.OS}:void 0;Ci(this.GA(new Ly({md:Dc.POST,gd:t.gd,wd:t.wd,yd:n})))}},n.vh=function(){},t}(),$b=function(){function t(){}var n=t.prototype;return n.GA=function(t){var n=function(t){return new AA({$n:null,yd:{},GA:t,QA:t.gd,kd:t.kd,YA:0,AT:Ta.yf})}(new Ly(t));return vn.resolve(n)},n.tN=function(t){},n.vh=function(){},t}();function Kb(t){var n;return{get url(){return t.gd},get method(){return t.md},get headers(){return n||(n=t.yd.Yv()),n},get body(){return t.wd},get useCredentials(){return t.Td},get type(){return eT(t.Pu)},get subType(){return sT(t.Ad)},get mediaType(){return aT(t.bd)},get responseType(){return nT(t.kd)}}}function tT(t){switch(t.toLowerCase()){case"arraybuffer":return Sc.zv;case"blob":return Sc.Qv;case"document":return Sc.En;case"json":return Sc.Gv;case"stream":return Sc.jv;case"text":default:return Sc.An}}function nT(t){return t}function iT(t){switch(t.toUpperCase()){case"GET":default:return Dc.GET;case"POST":return Dc.POST;case"PUT":return Dc.PUT;case"DELETE":return Dc.DELETE;case"HEAD":return Dc.HEAD;case"OPTIONS":return Dc.OPTIONS}}function rT(t){switch(t.toLowerCase()){case"manifest":return Cc.Kv;case"segment":return Cc.td;case"content-protection":return Cc.nd;default:return Cc.$v}}function eT(t){return t}function uT(t){switch(t.toLowerCase()){case"initialization-segment":return Oc.rd;case"fairplay-license":return Oc.ed;case"fairplay-certificate":return Oc.ud;case"widevine-license":return Oc.sd;case"widevine-certificate":return Oc.od;case"playready-license":return Oc.hd;case"clearkey-license":return Oc.fd;case"aes128-key":return Oc.vd;default:return Oc.$v}}function sT(t){return t}function oT(t){switch(t.toLowerCase()){case"audio":return xc.dd;case"video":return xc.ld;case"text":return xc.An;case"image":return xc._d;case"":default:return xc.$v}}function aT(t){return t}var cT=function(){function t(t){this.cC=t}var n=t.prototype;return n.hC=function(t){this.cC.markRequestStart(1e3*t.ap())},n.fC=function(t){this.cC.markResponseStart(1e3*t.ap())},n.vC=function(t,n){this.cC.markResponseData(1e3*t.ap(),n)},n.dC=function(t){this.cC.markResponseEnd(1e3*t.ap())},t}(),hT=function(){function t(t,n){this.Pc=void 0,this.lC=void 0,this._C=t,this.gC=n}return t.prototype.wC=function(t){if(this.lC)return new cT(this.lC.createMeasurer(Kb(t)))},T(t,[{key:"Bc",get:function(){var t;return this.Pc||(this.Pc=(t=this,{get bandwidth(){return t.yC},get roundTripTime(){return t.mC.ap()},createMeasurer:function(t){throw new d("Creating a RequestMeasurer on the internal MeasurableNetworkEstimator implementation is not allowed.")}})),this.Pc}},{key:"yC",get:function(){return this.lC?this.lC.bandwidth:this.gC.kC}},{key:"mC",get:function(){return this.lC?cd.pp(this.lC.roundTripTime,1e3):this._C.kC}}]),t}();var fT=function(){function t(t){this.pC=0,this.AC=0,this.bC=g.exp(g.log(.5)/t)}return t.prototype.TC=function(t,n){var i=g.pow(this.bC,t),r=n*(1-i)+i*this.pC;m(r)||(this.pC=r,this.AC+=t)},T(t,[{key:"kC",get:function(){var t=1-g.pow(this.bC,this.AC);return this.pC/t}}]),t}(),vT=function(){function t(t,n,i){void 0===t&&(t=cd.tA(2)),void 0===n&&(n=cd.tA(5)),void 0===i&&(i=!1),this.EC=t,this.SC=n,this.RC=i,this.IC=0,this.NC=cd.tA(.1),this.DC=[],this.OC=void 0,this.xC=6e4,this.BC=10,this.LC=new fT(t.ap()),this.MC=new fT(n.ap())}var n=t.prototype;return n.TC=function(t){var n=r.ac(),i=t.ap();this.RC&&void 0!==this.OC&&n-this.OC>=this.xC&&this.fh(),this.IC+=1,this.LC.TC(1,i),this.MC.TC(1,i),this.DC.push(i),this.DC.length>this.BC&&this.DC.shift(),this.OC=n},n.UC=function(){return void 0!==this.OC&&r.ac()-this.OC<=this.xC},n.fh=function(){this.LC=new fT(this.EC.ap()),this.MC=new fT(this.SC.ap()),this.IC=0,this.DC=[],this.OC=void 0},T(t,[{key:"kC",get:function(){return this.UC()?cd.tA(g.min(this.LC.kC,this.MC.kC)):this.NC}}]),t}(),dT=function(){function t(t,n,i,r){void 0===t&&(t=cd.tA(.5)),void 0===n&&(n=cd.tA(5)),void 0===i&&(i=128e3),void 0===r&&(r=!1),this.EC=t,this.SC=n,this.FC=i,this.RC=r,this.HC=0,this.VC=0,this.DC=[],this.OC=void 0,this.NC=5e5,this.xC=5e3,this.LC=new fT(t.ap()),this.MC=new fT(n.ap())}var n=t.prototype;return n.TC=function(t,n){var i=8*n/t.ap(),e=t.ap(),u=r.ac();for(this.RC&&void 0!==this.OC&&u-this.OC>=this.xC&&this.fh(),this.LC.TC(e,i),this.MC.TC(e,i),this.DC.push([e,i]);;){for(var s=0,o=0,a=this.DC;o<a.length;o++){var c=a[o],h=c[0];c[1];s+=h}if(s<=this.EC.ap())break;this.DC.shift()}this.HC+=n,this.VC+=n,this.OC=u},n.UC=function(){return void 0!==this.OC&&r.ac()-this.OC<this.xC&&this.VC>=this.FC},n.fh=function(){this.LC=new fT(this.EC.ap()),this.MC=new fT(this.SC.ap()),this.VC=0,this.DC=[],this.OC=void 0},T(t,[{key:"kC",get:function(){return this.UC()?g.min(this.LC.kC,this.MC.kC):this.NC}},{key:"XC",get:function(){return this.HC}}]),t}(),lT=function(){function t(t,n){void 0===n&&(n=!0),this.WC=t,this.qC=n,this._C=new vT,this.gC=new dT,this.zC=new hT(this._C,this.gC)}var n=t.prototype;return n.GA=function(t,n){return n&&M(To)?this.GC(t,n):this.WC.GA(this.jC(t))},n.GC=function(){var t=vn.coroutine(fn.mark(function t(n,i){var e,u,s,o,a,c;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return u=this.jC(n),(s=null!==(e=this.zC.wC(u))&&void 0!==e?e:i.QC(u,this._C,this.gC)).hC(cd.tA(r.ac()/1e3)),t.next=5,this.WC.GA(u);case 5:return o=t.sent,s.fC(cd.tA(r.ac()/1e3)),a=o.vD().pipeThrough(new xp(new _T(s))),c={$n:a,GA:o.GA},t.abrupt("return",new AA(c,o));case 10:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.tN=function(t){return this.WC.tN(this.YC(t))},n.jC=function(n){var i=new Ly(n);if(!this.qC){var r=t.ZC(i.gd);i=new Ly({gd:r},i)}return i},n.YC=function(n){var i=n.gd;return this.qC||(i=t.ZC(i)),{gd:i,wd:n.wd}},t.ZC=function(t){return s&&s.location&&"https:"===s.location.protocol&&Qn(t,"http://")?t.replace(":","s:"):t},n.vh=function(){this.WC.vh()},T(t,[{key:"JC",get:function(){return this.zC}},{key:"$C",get:function(){return this.zC.Bc},set:function(t){this.zC.lC=t}}],[{key:"KC",get:function(){return t.tO}},{key:"nO",get:function(){return t.iO}}]),t}();lT.tO=new lT(new Jb),lT.iO=new lT(new $b);var _T=function(){function t(t){this.rO=t}var n=t.prototype;return n.start=function(t){this.eO=t},n.transform=function(t){this.rO.vC(cd.tA(r.ac()/1e3),t),this.eO.enqueue(t)},n.flush=function(){this.rO.dC(cd.tA(r.ac()/1e3))},t}();var gT=!P.Xt&&!P.Kt;function wT(t,n,i){var r=t.getImageData(n,i,1,1).data;return 0===r[0]&&0===r[1]&&0===r[2]&&0===r[3]}var yT=function(){function t(t){this.Pc=void 0,this.uO=void 0,this.cR=t}var n=t.prototype;return n.sO=function(t){if(!t||!t.drawImage)return!1;var n=this.cR.ul();if(!n)return!1;for(var i=arguments.length,r=new Array(i>1?i-1:0),e=1;e<i;e++)r[e-1]=arguments[e];return t.drawImage.apply(t,[n].concat(r)),!0},n.oO=function(t,n,i,r,e,u){if(!t||!t.texImage2D)return!1;var o=this.cR,a=o.ul();if(!a)return!1;if(!gT){this.uO||(this.uO=s.createElement("canvas"));var c=this.uO,h=c.getContext("2d"),f=o.Cv,v=o.Dv,l=c.width,_=c.height;h.clearRect(0,0,c.width,c.height),l===f&&_===v||(c.width=f,c.height=v),h.drawImage(a,0,0,f,v);var g=!1;f>0&&wT(h,f-1,0)&&(c.width=l,g=!0),v>0&&wT(h,0,v-1)&&(c.height=_,g=!0),g&&h.drawImage(a,0,0,f,v),a=c}try{t.texImage2D(n,i,r,e,u,a)}catch(t){throw new d("Error trying to render video content to the WebGLRenderingContext. This is most likely due to CORS restrictions. https://support.theoplayer.com/hc/en-us/articles/115003094385#Considerations")}return!0},T(t,[{key:"Bc",get:function(){return this.Pc||(this.Pc=(t=this,{drawImage:function(n){for(var i=arguments.length,r=new Array(i>1?i-1:0),e=1;e<i;e++)r[e-1]=arguments[e];return t.sO.apply(t,[n].concat(r))},texImage2D:function(n,i,r,e,u,s){return t.oO(n,i,r,e,u,s)}}));var t}}]),t}(),mT=function(t){function n(n,i){var r;return(r=t.call(this,"aO")||this).Ja=n,r.Cg=i,r}return qt(n,t),n.prototype.Lc=function(){return new kT(this.Ja,this.Cg)},n}(Oo),kT=function(t){function n(n,i){var r;return(r=t.call(this,"dimensionchange")||this).width=n,r.height=i,r}return qt(n,t),n}(Vi),pT=function(t,n){this._l=t,this.cO=n},AT=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).hO=0,r.fO=0,r.vO=function(t){if(t.length>0){var n=t[t.length-1].contentRect;r.fO=n.width,r.hO=n.height,r.cO(r.fO,r.hO)}},r.dO=new Tn.ResizeObserver(r.vO),r.dO.observe(r._l),r}return qt(n,t),n.prototype.vh=function(){this.dO.disconnect()},T(n,[{key:"lO",get:function(){return this.hO}},{key:"_O",get:function(){return this.fO}}]),n}(pT),bT=0;function TT(t){var n=Dy(),i=g.max(0,16-(n-bT)),r=c(function(){return t(n+i)},i);return bT=n+i,r}var ET,ST=h,RT=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,IT=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelRequestAnimationFrame;function NT(){return ET||(ET=Tn&&Tn.document&&Tn.document.createElement("span")),ET}RT&&IT||(RT=TT,IT=ST),RT=RT.bind(t),IT=IT.bind(t);var DT=["Webkit","Moz","O","ms"],CT=(function(){var t=!1;try{if(void 0!==Tn&&"function"==typeof Tn.addEventListener){var n=_.defineProperty({},"passive",{get:function(){t=!0}});Tn.addEventListener("testPassiveEventSupport",j,n),Tn.removeEventListener("testPassiveEventSupport",j,n)}}catch(t){}}(),_n());function OT(t){return CT.has(t)||CT.set(t,function(t){var n=NT();if(!n||!n.style)return t;if(void 0!==n.style[t])return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<DT.length;r++){var e=DT[r],u=e+i;if(void 0!==n.style[u])return u}return t}(t)),CT.get(t)}function xT(t){var n=t.style;n.position="absolute",n.left=n.right=n.bottom=n.top="0",n.overflow="scroll",n.zIndex="-1",n.visibility="hidden"}function PT(t){var n=t.style;n.position="absolute",n.left=n.top="0",n[OT("transition")]="0s"}var BT=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).gO=void 0,e.wO=0,e.fO=NaN,e.hO=NaN,e.yO=void 0,e.fh=function(){e.mO.style.width=1e5+"px",e.mO.style.height=1e5+"px",e.kO.scrollLeft=1e5,e.kO.scrollTop=1e5,e.pO.scrollLeft=1e5,e.pO.scrollTop=1e5,0===e.pO.scrollTop&&RT(e.fh)},e.AO=function(){var t=e._O,n=e.lO;e.cO(t,n),e.fO=t,e.hO=n,e.fh(),e.wO=0},e.bO=function(){if(!e.wO){var t=e._O,n=e.lO;t===e.fO&&n===e.hO||(e.wO=RT(e.AO))}},e.TO=function(){e.yO||(e.yO=c(e.EO,66))},e.EO=function(){e.yO=void 0,e.SO()},e.SO=function(){e.bO()},e.Do(r),e}qt(n,t);var i=n.prototype;return i.RO=function(){var t,n=this._l,i=s.createElement("div");return this.kO=s.createElement("div"),this.mO=s.createElement("div"),this.pO=s.createElement("div"),this.IO=s.createElement("div"),xT(this.kO),xT(this.pO),PT(this.mO),PT(t=this.IO),t.style.width="200%",t.style.height="200%",i.appendChild(this.kO),i.appendChild(this.pO),this.kO.appendChild(this.mO),this.pO.appendChild(this.IO),n&&n.appendChild(i),this.bO(),this.kO.addEventListener("scroll",this.bO),this.pO.addEventListener("scroll",this.bO),i},i.Do=function(t){var n=this._l,i=function(t,n){return u.getComputedStyle(t,void 0).getPropertyValue(n)||t.style[n]}(n,"position");t||"static"!==i||(n.style.position="relative"),this.gO=this.RO(),u&&u.addEventListener("resize",this.TO)},i.vh=function(){this.gO&&(IT(this.wO),this.wO=0,this.kO.removeEventListener("scroll",this.bO),this.pO.removeEventListener("scroll",this.bO),Ve(this.gO),this.gO=void 0,u&&u.removeEventListener("resize",this.TO))},T(n,[{key:"lO",get:function(){return this._l&&this._l.getBoundingClientRect().height||this.hO||0}},{key:"_O",get:function(){return this._l&&this._l.getBoundingClientRect().width||this.fO||0}}]),n}(pT),LT=function(t){function n(n){var i;return(i=t.call(this)||this).dO=void 0,i.vO=function(t,n){i.ys(new mT(t,n))},i._l=n,i}qt(n,t);var i=n.prototype;return i.Do=function(t){this.dO||("function"==typeof Tn.ResizeObserver?this.dO=new AT(this._l,this.vO):this.dO=new BT(this._l,this.vO,t))},i.vh=function(){this.bs(),this.dO&&(this.dO.vh(),this.dO=void 0)},T(n,[{key:"lO",get:function(){return this.dO?this.dO.lO:0}},{key:"_O",get:function(){return this.dO?this.dO._O:0}}]),n}(Fi),MT=function(t){function n(){return t.call(this,Ra.Qc)||this}return qt(n,t),n}(Vi);var UT=function(){if(s)for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0;n<t.length;n++){var i=t[n];if(i[1]in s)return{NO:i[0],DO:i[1],CO:i[2],OO:i[3],xO:i[4],PO:i[5]}}}(),FT=function(t){function n(){return t.call(this,Ra.Ff)||this}return qt(n,t),n}(Vi),HT=function(t){function n(i){var r;return(r=t.call(this)||this).hv=!1,r.BO=function(){return r.jf()},r.LO=function(){return r.Yf()},r._l=i,r.cv=n.MO(i),s.addEventListener(UT.xO,r.BO),r.jf(),r}qt(n,t),n.MO=function(t){return Boolean(UT&&s[UT.OO]&&UT.NO in t)};var i=n.prototype;return i.fv=function(){var t=this._l[UT.NO]();t&&t.then?t.then(this.BO,this.LO):(s.removeEventListener(UT.PO,this.LO),s.addEventListener(UT.PO,this.LO))},i.vv=function(){var t=s[UT.DO]();t&&t.then?t.then(this.BO,this.LO):(s.removeEventListener(UT.PO,this.LO),s.addEventListener(UT.PO,this.LO))},i.jf=function(){var t=this.hv,n=this._l===s[UT.CO];this.hv=n,t!==n&&this.ys(new MT)},i.Yf=function(){this.ys(new Zw)},i.vh=function(){this.bs(),s.removeEventListener(UT.xO,this.BO),s.removeEventListener(UT.PO,this.LO)},n}(Fi),VT=function(t){function n(i){var r;return(r=t.call(this)||this).hv=!1,r.BO=function(){return r.jf()},r._l=i,r.cv=n.MO(i),r._l.addEventListener("webkitbeginfullscreen",r.BO),r._l.addEventListener("webkitendfullscreen",r.BO),r._l.addEventListener("webkitpresentationmodechanged",r.BO),r.jf(),r}qt(n,t),n.MO=function(t){return P.Xt&&("webkitEnterFullscreen"in t||"webkitSupportsPresentationMode"in t)};var i=n.prototype;return i.fv=function(){var t=this;this._l.webkitSupportsPresentationMode&&this._l.webkitSupportsPresentationMode("fullscreen")?P.Xt?requestAnimationFrame(function(){return t._l.webkitSetPresentationMode("fullscreen")}):this._l.webkitSetPresentationMode("fullscreen"):this._l.webkitEnterFullscreen()},i.vv=function(){this._l.webkitSupportsPresentationMode&&this._l.webkitSupportsPresentationMode("inline")?this._l.webkitSetPresentationMode("inline"):this._l.webkitExitFullscreen()},i.jf=function(){var t,n=this.hv;t=this._l.webkitPresentationMode?"fullscreen"===this._l.webkitPresentationMode:!!this._l.webkitDisplayingFullscreen,this.hv=t,n!==t&&this.ys(new MT)},i.vh=function(){this.bs(),this._l.removeEventListener("webkitbeginfullscreen",this.BO),this._l.removeEventListener("webkitendfullscreen",this.BO),this._l.removeEventListener("webkitpresentationmodechanged",this.BO)},n}(Fi),XT=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).UO=[],n.FO=void 0,n.Gf=!1,n.jf=function(){var t=n.Gf,i=n.HO();t!==i&&(n.Gf=i,n.ys(new MT))},n}qt(n,t);var i=n.prototype;return i.fv=function(){this.FO?this.FO.fv():this.ys(new Zw)},i.vv=function(){for(var t=0,n=this.UO;t<n.length;t++){var i=n[t];i.hv&&i.vv()}},i.VO=function(t){this.FO=t},i.XO=function(t){this.UO.push(t),t.ps(Ra.Qc,this.jf),t.ps(Ra.Ph,this.gs),this.jf()},i.WO=function(t){vi(this.UO,t),t.Ts(Ra.Qc,this.jf),t.Ts(Ra.Ph,this.gs)},i.HO=function(){for(var t=0,n=this.UO;t<n.length;t++){if(n[t].hv)return!0}return!1},i.fh=function(){this.FO=void 0,this.Gf=!1;for(var t=this.UO.slice(),n=0;n<t.length;n++){var i=t[n];this.WO(i),i.vh()}this.jf()},i.vh=function(){this.bs(),this.fh()},T(n,[{key:"cv",get:function(){return!!this.FO&&this.FO.cv}},{key:"hv",get:function(){return this.Gf}}]),n}(Fi),WT=function(t){function n(n,i){var r;return(r=t.call(this)||this).qO=!1,r.zO=function(){return r.po()},r.jf=function(t){r.qO||r.ys(t)},r.cR=n,r.GO=i,r.jO=Jw,r.QO(),r.cR.ps(Ta.df,r.zO),r.po(),r}qt(n,t);var i=n.prototype;return i.fv=function(){this.GO&&this.jO.fv()},i.vv=function(){this.jO.vv()},i.QO=function(){this.jO.ps(Ra.Qc,this.jf),this.jO.ps(Ra.Ph,this.gs)},i.YO=function(){this.jO.Ts(Ra.Qc,this.jf),this.jO.Ts(Ra.Ph,this.gs)},i.po=function(){var t=this.jO,n=this.cR.sl();if(t!==n){this.qO=!0;var i=this.hv,r=this.cv;i&&this.vv(),this.YO(),this.jO=n,this.QO(),i&&!this.hv&&this.cv?this.fv():this.vv(),this.qO=!1,r!==this.cv&&this.ys(new FT),i!==this.hv&&this.ys(new MT)}},i.vh=function(){this.bs(),this.YO(),this.cR.Ts(Ta.df,this.zO)},T(n,[{key:"cv",get:function(){return!!this.GO&&this.jO.cv}},{key:"hv",get:function(){return this.jO.hv}}]),n}(Fi),qT=function(){function t(t,n){this.ZO=t,this.JO=n,this.$O=new se,this.KO=[],this.Pc=void 0,this.tx=!1,this.RD=void 0,this.nx=0}var n=t.prototype;return n.X_=function(){this.tx=!0,this.$O.io(null)},n.ix=function(){this.$O.ro(this.KO)},n.ex=function(t){if(!this.ux)throw new l("Cannot respond more than once");if(!H(t))throw new l("Expected valid response");this.RD=this.sx(t),this.X_()},n.ox=function(){try{var t=this.JO(this.Bc);t?this.ax(t):this.hx||this.vx||this.X_()}catch(t){this.ix()}},n.ax=function(t){if(this.vx)throw new d("Request has been redirected or a response already exists");if(q(t))this.lx(t);else{if("function"!=typeof t)throw new l("Expected promise or function");var n=new se;try{var i=t(function(t){t?n.ro(t):n.io(void 0)});q(i)&&n.io(i)}catch(t){n.ro(t)}this.lx(n.to)}},n.lx=function(){var t=vn.coroutine(fn.mark(function t(n){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.nx++,t.next=4,n;case 4:this.nx--,this.hx||this.vx||(this.KO.length?this.ix():this.X_()),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(0),this.nx--,this.KO.push(t.t0),this.hx||this.vx||this.ix();case 13:case"end":return t.stop()}},t,this,[[0,8]])}));return function(n){return t.apply(this,arguments)}}(),T(t,[{key:"_x",get:function(){return this.$O.to}},{key:"Bc",get:function(){return this.Pc||(this.Pc=this.gx()),this.Pc}},{key:"vx",get:function(){return this.tx}},{key:"ux",get:function(){return!this.tx}},{key:"hx",get:function(){return this.nx>0}},{key:"jA",get:function(){return this.RD}}]),t}(),zT=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).wx=r,e.ox(),e}qt(n,t),n.yx=function(t,n,i){var r=void 0===t.body?i:t.body;return new AA({$n:r,GA:n.GA,kd:n.GA.kd,yd:t.headers,YA:t.status,AT:t.statusText,QA:t.url,TD:!0},n)};var i=n.prototype;return i.gx=function(){return i=Kb((t=this).GA),{get closed(){return!t.ux},get request(){return i},get url(){return t.gd},get status(){return t.YA},get statusText(){return t.AT},get headers(){return n||(n=t.yd.Yv()),n},get body(){return t.wd},respondWith:function(n){return t.ex(n)},waitUntil:function(n){return t.ax(n)}};var t,n,i},i.sx=function(t){return n.yx(t,this.ZO,this.wx)},T(n,[{key:"wd",get:function(){return this.wx}},{key:"yd",get:function(){return this.ZO.yd}},{key:"GA",get:function(){return this.ZO.GA}},{key:"jA",get:function(){return this.RD}},{key:"YA",get:function(){return this.ZO.YA}},{key:"AT",get:function(){return this.ZO.AT}},{key:"gd",get:function(){return this.ZO.QA}}]),n}(qT),GT=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).mx=void 0,e.kx=r,e.ox(),e}qt(n,t);var i=n.prototype;return i.gx=function(){return t=this,{get url(){return t.gd},get method(){return t.md},get headers(){return n||(n=t.yd.Yv()),n},get body(){return t.wd},get closed(){return!t.ux},get useCredentials(){return t.Td},get type(){return eT(t.Pu)},get subType(){return sT(t.Ad)},get mediaType(){return aT(t.bd)},get responseType(){return nT(t.kd)},redirect:function(n){return t.Ax(n)},respondWith:function(n){return t.ex(n)},waitUntil:function(n){return t.ax(n)}};var t,n},i.sx=function(t){var n=this.ZO.wd,i=new AA({$n:n,yd:{},GA:this.ZO,QA:this.ZO.gd,kd:this.ZO.kd,YA:200,AT:"OK"});return zT.yx(t,i,n)},i.Ax=function(t){if(!this.ux)throw new l("Cannot redirect, already redirected or has a response");var n;n=X(t)?{url:t}:t,this.mx=function(t,n){return new Ly({gd:void 0===t.url?n.gd:t.url,md:void 0!==t.method?iT(t.method):void 0,yd:t.headers,wd:t.body,Td:t.useCredentials,Pu:void 0!==t.type?rT(t.type):void 0,Ad:void 0!==t.subType?uT(t.subType):void 0,bd:void 0!==t.mediaType?oT(t.mediaType):void 0,kd:void 0!==t.responseType?tT(t.responseType):void 0},n)}(n,this.ZO),this.X_()},T(n,[{key:"wd",get:function(){return this.ZO.wd}},{key:"ux",get:function(){return this.kx&&!this.tx}},{key:"yd",get:function(){return this.ZO.yd}},{key:"md",get:function(){return this.ZO.md}},{key:"bx",get:function(){return this.mx}},{key:"jA",get:function(){return this.RD}},{key:"kd",get:function(){return this.ZO.kd}},{key:"pd",get:function(){return this.ZO.pd}},{key:"ls",get:function(){return this.ZO.ls}},{key:"Pu",get:function(){return this.ZO.Pu}},{key:"Ad",get:function(){return this.ZO.Ad}},{key:"bd",get:function(){return this.ZO.bd}},{key:"gd",get:function(){return this.ZO.gd}},{key:"Td",get:function(){return this.ZO.Td}},{key:"Ed",get:function(){return this.ZO.Ed}}]),n}(qT);var jT,QT=function(t){function n(n,i){var r;void 0===i&&(i=!0);var e=new YT(n);return(r=t.call(this,e,i)||this).Tx=e,r}qt(n,t);var i=n.prototype;return i.Ex=function(t){this.Tx.Ex(t)},i.Sx=function(t){this.Tx.Sx(t)},i.Rx=function(t){this.Tx.Rx(t)},i.Ix=function(t){this.Tx.Ix(t)},i.Nx=function(t){this.Tx.Nx(t)},n}(lT),YT=function(){function t(t){this.Dx=[],this.Cx=[],this.WC=t}var n=t.prototype;return n.GA=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.Ox(n,n.ls);case 3:r=t.sent,t.next=13;break;case 6:if(t.prev=6,t.t0=t.catch(0),!(t.t0 instanceof bA)){t.next=12;break}return t.next=11,this.xx(t.t0,n.ls);case 11:return t.abrupt("return",t.sent);case 12:throw t.t0;case 13:return t.next=15,this.Px(r,n.ls);case 15:return t.abrupt("return",t.sent);case 16:case"end":return t.stop()}},t,this,[[0,6]])}));return function(n,i){return t.apply(this,arguments)}}(),n.tN=function(t){return this.WC.tN(t)},n.Ox=function(){var t=vn.coroutine(fn.mark(function t(n,i,r){var e,u,s,o,a;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:bi(i),e=void 0,u=0,s=this.Dx.slice();case 3:if(!(u<s.length)){t.next=21;break}if(o=s[u],bi(i),(a=new GT(n,o,!e)).vx){t.next=17;break}return t.prev=8,t.next=11,a._x;case 11:t.next=17;break;case 13:return t.prev=13,t.t0=t.catch(8),t.abrupt("continue",18);case 17:a.bx&&!e?n=a.bx:a.jA&&!e&&(e=a.jA);case 18:u++,t.next=3;break;case 21:if(!e){t.next=23;break}return t.abrupt("return",e);case 23:return t.abrupt("return",this.WC.GA(n,r));case 24:case"end":return t.stop()}},t,this,[[8,13]])}));return function(n,i,r){return t.apply(this,arguments)}}(),n.xx=function(t,n){var i;return i=t instanceof EA?t.jA:new AA({$n:null,GA:t.GA,YA:0,AT:""}),this.Px(i,n)},n.Px=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r,e,u,s,o;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.Cx.slice();case 1:if(!(r<e.length)){t.next=22;break}return u=e[r],bi(i),t.next=6,vn.resolve(n.Ys().$n(i));case 6:if(s=t.sent,(o=new zT(n,u,s)).vx){t.next=18;break}return t.prev=9,t.next=12,o._x;case 12:t.next=18;break;case 14:return t.prev=14,t.t0=t.catch(9),t.abrupt("continue",19);case 18:n=o.jA||n;case 19:r++,t.next=1;break;case 22:if(!pA(n)){t.next=26;break}return t.abrupt("return",n);case 26:throw new EA(n);case 27:case"end":return t.stop()}},t,this,[[9,14]])}));return function(n,i){return t.apply(this,arguments)}}(),n.Ex=function(t){this.Dx.unshift(t)},n.Sx=function(t){this.Dx.push(t)},n.Rx=function(t){vi(this.Dx,t)},n.Ix=function(t){this.Cx.unshift(t)},n.Nx=function(t){vi(this.Cx,t)},n.vh=function(){this.WC.vh(),gi(this.Dx),gi(this.Cx)},t}(),ZT=function(){function t(t){this.$A=t}var n=t.prototype;return n.Ex=function(t){this.$A.Ex(t)},n.Rx=function(t){this.$A.Rx(t)},n.Ix=function(t){this.$A.Ix(t)},n.Nx=function(t){this.$A.Nx(t)},T(t,[{key:"Bc",get:function(){var t;return this.Pc||(this.Pc=(t=this,{addRequestInterceptor:function(n){t.Ex(n)},removeRequestInterceptor:function(n){t.Rx(n)},addResponseInterceptor:function(n){t.Ix(n)},removeResponseInterceptor:function(n){t.Nx(n)}})),this.Pc}}]),t}(),JT=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).Bx=n,r.$A=i,r.Lx=void 0,r.Bx.ps(Ta.mf,r.gs),r.Bx.ps(Ta.yf,r.gs),r}qt(n,t);var i=n.prototype;return i.Ex=function(t){this.$A.Ex(t)},i.Rx=function(t){this.$A.Rx(t)},i.Ix=function(t){this.$A.Ix(t)},i.Nx=function(t){this.$A.Nx(t)},i.vh=function(){this.bs(),this.Bx.Ts(Ta.mf,this.gs),this.Bx.Ts(Ta.yf,this.gs)},T(n,[{key:"Bc",get:function(){var t;return this.Pc||(this.Pc=(t=this,{get online(){return t.bl},get estimator(){return t.Mx},set estimator(n){t.Mx=n},addRequestInterceptor:function(n){t.Ex(n)},removeRequestInterceptor:function(n){t.Rx(n)},addResponseInterceptor:function(n){t.Ix(n)},removeResponseInterceptor:function(n){t.Nx(n)},addEventListener:function(n,i){t.ps(n,i)},removeEventListener:function(n,i){t.Ts(n,i)}})),this.Pc}},{key:"bl",get:function(){return this.Bx.bl}},{key:"Mx",get:function(){var t;return null!==(t=this.Lx)&&void 0!==t?t:this.$A.$C},set:function(t){this.$A.$C=function(t){return{get bandwidth(){return Ko(t.bandwidth)},get roundTripTime(){return Ko(t.roundTripTime)},createMeasurer:function(n){return i=t.createMeasurer(n),{markRequestStart:function(t){i.markRequestStart(t)},markResponseStart:function(t){i.markResponseStart(t)},markResponseData:function(t,n){i.markResponseData(t,n)},markResponseEnd:function(t){i.markResponseEnd(t)}};var i}}}(t),this.Lx=t}}]),n}(ma);!function(t){t.PERFORMANCE="performance",t.QUALITY="quality",t.BANDWIDTH="bandwidth"}(jT||(jT={}));var $T=30;function KT(t,n,i,r,e,u){var s=[],o=t-u,a=t+e;if(n&&i){var c=n-i;o=g.min(o,c);var h=n+2*i;a=g.max(a,h)}return 0!==o&&r.Xm(0,o)&&s.push([0,o]),r.Xm(a,1/0)&&s.push([a,1/0]),s}var tE={type:jT.BANDWIDTH},nE=20,iE=60;function rE(t){var n,i,r,e=jo(tE);return X(t)?e.type=eE(t):H(t)&&function(t){switch(t){case jT.PERFORMANCE:case jT.QUALITY:case jT.BANDWIDTH:return!0;default:return!1}}(t.type)&&(e.type=eE(t.type)),H(t)&&H(t.metadata)&&(e.metadata=(n=t.metadata,i={},r=$o(n.bitrate),m(r)||(i.bitrate=r),i)),e}function eE(t){switch(t){case"bandwidth":return jT.BANDWIDTH;case"performance":return jT.PERFORMANCE;case"quality":return jT.QUALITY}}var uE=function(t){function n(n){var i;return(i=t.call(this,"Fx")||this).Ux=n,i}return qt(n,t),n}(Vi),sE=function(t){function n(n){var i;return(i=t.call(this,"Vx")||this).Hx=n,i}return qt(n,t),n}(Vi),oE=function(t){function n(n){var i;return(i=t.call(this,"Wx")||this).Xx=n,i}return qt(n,t),n}(Vi),aE=function(t){function n(){var n,i;return(n=t.apply(this,arguments)||this).Pc=(i=jt(n),{get strategy(){return{metadata:(t=i.Hx).metadata,type:(n=t.type,n)};var t,n},set strategy(t){i.Hx=rE(t)},get targetBuffer(){return i.Ux},set targetBuffer(t){var n=$o(t);m(n)||(i.Ux=n>iE?iE:n)},get bufferLookbackWindow(){return i.Xx},set bufferLookbackWindow(t){var n=$o(t);m(n)||(i.Xx=n<=0?$T:n)}}),n.qx=tE,n.zx=nE,n.Gx=$T,n}return qt(n,t),T(n,[{key:"jx",get:function(){switch(this.qx.type){case jT.PERFORMANCE:return 0;case jT.QUALITY:return 1/0;case jT.BANDWIDTH:return this.qx.metadata&&void 0!==this.qx.metadata.bitrate?this.qx.metadata.bitrate:8*bc.qv();default:return 8*bc.qv()}}},{key:"Bc",get:function(){return this.Pc}},{key:"Hx",get:function(){return this.qx},set:function(t){this.qx=t,this.ys(new sE(t))}},{key:"Ux",get:function(){return this.zx},set:function(t){this.zx=t,this.ys(new uE(t))}},{key:"Xx",get:function(){return this.Gx},set:function(t){this.Gx=t,this.ys(new oE(t))}}]),n}(Fi),cE=function(t){function n(){return t.call(this,"Yc")||this}return qt(n,t),n.prototype.Lc=function(){return new hE},n}(Oo),hE=function(t){function n(){return t.call(this,"change")||this}return qt(n,t),n}(Vi),fE=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).Qx=function(t){var n;n=t,Boolean(n&&n.Bc)&&Di(function(){r.ys(t.Bc)})},r.Yx=n,r.Yx.Xh(r.Qx),r}return qt(n,t),n.prototype.vh=function(){this.bs(),this.Yx.Wh(this.Qx)},n}(ma),vE=function(t){function n(){return t.apply(this,arguments)||this}return qt(n,t),n}(fE);var dE=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).jk=0,n.Qk=1/0,n}qt(n,t);var i=n.prototype;return i.fh=function(){0===this.jk&&this.Qk===1/0||(this.jk=0,this.Qk=1/0,this.ys(new cE))},i.Zx=function(){return new xf([this.Ok,this.xk],[!0,!0])},T(n,[{key:"Ok",get:function(){return this.jk},set:function(t){if(this.xk<=t)throw new d("Start time of a clip should be smaller than the end time.");this.jk!==t&&(this.jk=t,this.ys(new cE))}},{key:"xk",get:function(){return this.Qk},set:function(t){if(t<=this.Ok)throw new d("End time of a clip should be larger than the start time.");this.Qk!==t&&(this.Qk=t,this.ys(new cE))}},{key:"Bc",get:function(){var t,n,i;return this.Pc||(this.Pc=(i={get startTime(){return t.Ok},set startTime(n){t.Ok=n},get endTime(){return t.xk},set endTime(n){t.xk=n},addEventListener:function(t,i){n.ps(t,i)},removeEventListener:function(t,i){n.Ts(t,i)}},n=new fE(t=this,i),i)),this.Pc}}]),n}(ma),lE=function(t){function n(n){var i;return(i=t.call(this)||this).Jx=n,i.$x=function(t){i.Kx(t)||i.ys(t)},i.Jx.Xh(i.$x),i}qt(n,t);var i=n.prototype;return i.tP=function(){return this.Jx.Hd},i.ol=function(){return this.Jx.ol()},i.nP=function(){return this.Jx.dl},i.iP=function(){return this.Jx.fl},i.rP=function(){return this.Jx.ll},i.eP=function(t){this.Jx.ll=t},i.uP=function(){return this.Jx.Av},i.sP=function(t){this.Jx.Av=t},i.oP=function(){return this.Jx.bv},i.aP=function(){return this.Jx._l},i.cP=function(){return this.Jx.Tv},i.hP=function(){return this.Jx.xs},i.fP=function(){return this.Jx.Ev},i.vP=function(){return this.Jx.gl},i.dP=function(){return this.Jx.Sv},i.lP=function(t){this.Jx.Sv=t},i._P=function(){return this.Jx.bl},i.gP=function(){return this.Jx.Rv},i.wP=function(){return this.Jx.Iv},i.yP=function(t){this.Jx.Iv=t},i.mP=function(){return this.Jx.Tl},i.kP=function(){return this.Jx.El},i.pP=function(t){this.Jx.El=t},i.AP=function(){return this.Jx.Mh},i.bP=function(){return this.Jx.Sl},i.TP=function(){return this.Jx.Nv},i.jd=function(){return this.Jx.jd()},i.Qd=function(){var t=vn.coroutine(fn.mark(function t(n,i){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return bi(i),t.next=3,this.Jx.Qd(n,i);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.EP=function(){return this.Jx.Xd},i.SP=function(){return this.Jx.Dv},i.RP=function(){return this.Jx.Vd},i.IP=function(){return this.Jx.Cv},i.NP=function(){return this.Jx.Ov},i.DP=function(t){this.Jx.Ov=t},i.sl=function(){return this.Jx.sl()},i.ul=function(){return this.Jx.ul()},i.Kd=function(t){this.Jx.Kd(t)},i.tl=function(){this.Jx.tl()},i.il=function(){this.Jx.il()},i.$d=function(){this.Jx.$d()},i.zd=function(){this.Jx.zd()},i.qd=function(){this.Jx.qd()},i.nl=function(){this.Jx.nl()},i.Gd=function(){return this.Jx.Gd()},i.Yd=function(){return this.Jx.Yd()},i.Zd=function(){this.Jx.Zd()},i.Jd=function(){this.Jx.Jd()},i.fh=function(){return this.Jx.fh()},i.vh=function(){return this.Jx.vh()},i.vl=function(){this.Jx.vl()},i.al=function(t){return this.Jx.al(t)},i.Kx=function(t){return!1},T(n,[{key:"Hd",get:function(){return this.tP()}},{key:"dl",get:function(){return this.nP()}},{key:"ll",get:function(){return this.rP()},set:function(t){this.eP(t)}},{key:"fl",get:function(){return this.iP()}},{key:"Av",get:function(){return this.uP()},set:function(t){this.sP(t)}},{key:"bv",get:function(){return this.oP()}},{key:"_l",get:function(){return this.aP()}},{key:"Tv",get:function(){return this.cP()}},{key:"xs",get:function(){return this.hP()}},{key:"Ev",get:function(){return this.fP()}},{key:"Wd",get:function(){return this.Jx.Wd}},{key:"gl",get:function(){return this.vP()}},{key:"Cd",get:function(){return this.Jx.Cd}},{key:"Sv",get:function(){return this.dP()},set:function(t){this.lP(t)}},{key:"bl",get:function(){return this._P()}},{key:"Rv",get:function(){return this.gP()}},{key:"Iv",get:function(){return this.wP()},set:function(t){this.yP(t)}},{key:"Tl",get:function(){return this.mP()}},{key:"El",get:function(){return this.kP()},set:function(t){this.pP(t)}},{key:"Mh",get:function(){return this.AP()}},{key:"Sl",get:function(){return this.bP()}},{key:"Nv",get:function(){return this.TP()}},{key:"Xd",get:function(){return this.EP()}},{key:"Dv",get:function(){return this.SP()}},{key:"Vd",get:function(){return this.RP()}},{key:"Cv",get:function(){return this.IP()}},{key:"Ov",get:function(){return this.NP()},set:function(t){this.DP(t)}}]),n}(ka),_E=function(t){function n(i,r){var e;return(e=t.call(this,i)||this).CP=!1,e.OP=void 0,e.xP=!1,e.PP=function(){e.BP(),e.LP()},e.hS=function(){e.MP(),e.LP(),e.UP&&e.Av>=e.FP.xk-n.HP&&!e.Tv&&(e.OP=RT(e.hS))},e.VP=function(){e.xP=!0},e.XP=function(){e.xP&&(e.xP=!1,e.LP())},e.FP=r,e.FP.ps("Yc",e.PP),e.Jx.ps("timeupdate",e.hS),e}qt(n,t);var i=n.prototype;return i.sP=function(n){var i=this.FP.Zx().Tm(n);t.prototype.sP.call(this,i),this.LP()},i.cP=function(){return t.prototype.cP.call(this)||this.CP},i.bP=function(){return xf.$m(t.prototype.bP.call(this)).Nm(this.FP.Zx()).mm()},i.qd=function(){this.cP()?this.sP(this.WP.start(0)):this.BP(),t.prototype.qd.call(this),this.LP()},i.Qd=function(){var n=vn.coroutine(fn.mark(function n(i,r){return fn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return bi(r),this.CP=!1,this.FP.fh(),n.next=5,t.prototype.Qd.call(this,i,r);case 5:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),i.vh=function(){return this.FP.Ts("Yc",this.PP),this.Jx.Ts("timeupdate",this.hS),this.MP(),t.prototype.vh.call(this)},i.Kx=function(n){switch(n.type){case"seeking":return this.ys(n),this.VP(),!0;case"seeked":case"emptied":return this.ys(n),this.XP(),!0;case"ended":if(this.UP)return!0}return t.prototype.Kx.call(this,n)},i.MP=function(){this.OP&&(IT(this.OP),this.OP=void 0)},i.LP=function(){var t=this.Av,i=this.UP&&t>=this.FP.xk-n.Jp;this.CP&&!i?(this.CP=!1,this.Rv&&this.qd()):this.CP||!i||this.Nv||this.xP||(this.CP=!0,this.ys(new Oa(t)),this.zd())},i.BP=function(){if(this.bv!==1/0){var t=this.WP,i=xf.$m(t).Tm(this.Av);Pt(this.Av,i,n.Jp)||this.sP(i)}},T(n,[{key:"WP",get:function(){return this.bP().length?this.bP():this.FP.Zx().mm()}},{key:"UP",get:function(){return this.FP.xk<this.bv}}]),n}(lE);_E.HP=1,_E.Jp=.001;var gE=function(){function t(){this.qP=!1}return T(t,[{key:"zP",get:function(){return this.qP},set:function(t){this.qP=t}}]),t}(),wE=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).GP=!1,r.jP=!1,r.qP=i,r}qt(n,t);var i=n.prototype;return i.cP=function(){return!this.qP.zP&&t.prototype.cP.call(this)},i.zd=function(){this.jP=!0,t.prototype.zd.call(this)},i.qd=function(){this.jP=!1,t.prototype.qd.call(this)},i.Kx=function(n){if(this.qP.zP)switch(n.type){case"ended":return this.Av=0,this.jP||(this.Nv?this.GP=!0:this.qd()),!0;case"seeked":this.GP&&(this.GP=!1,this.qd());break;case"pause":if(this.GP||t.prototype.cP.call(this))return!0}return t.prototype.Kx.call(this,n)},n}(lE);var yE=function(){function t(t){var n;this.bR=t,this.Pc=(n=this,{get currentBandwidthEstimate(){return n.kl},get corruptedVideoFrames(){return n.yl},get droppedVideoFrames(){return n.wl},get totalBytesLoaded(){return n.pl},get bufferedSegments(){return n.Al}})}return T(t,[{key:"Bc",get:function(){return this.Pc}},{key:"yl",get:function(){return this.bR.QP.Cd.yl}},{key:"kl",get:function(){return this.bR.QP.Cd.kl}},{key:"wl",get:function(){return this.bR.QP.Cd.wl}},{key:"YP",get:function(){throw new d("Not implemented")}},{key:"ZP",get:function(){throw new d("Not implemented")}},{key:"pl",get:function(){return this.bR.QP.Cd.pl}},{key:"ml",get:function(){return this.bR.QP.Cd.ml}},{key:"Al",get:function(){return this.bR.QP.Cd.Al}}]),t}();function mE(t){return t?"function"==typeof t.getVideoPlaybackQuality?t.getVideoPlaybackQuality().droppedVideoFrames:t.webkitDroppedFrameCount||0:0}function kE(t){return t&&"function"==typeof t.getVideoPlaybackQuality&&t.getVideoPlaybackQuality().corruptedVideoFrames||0}function pE(t){return"function"==typeof t.getVideoPlaybackQuality?t.getVideoPlaybackQuality().totalVideoFrames:t.webkitDecodedFrameCount||0}function AE(t){return t&&je(t)?{wl:mE(t),yl:kE(t),ml:pE(t)}:{wl:0,yl:0,ml:0,kl:0,pl:0,Al:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}var bE=function(t){function n(){return t.call(this,"JP")||this}return qt(n,t),n.prototype.Lc=function(){return new TE},n}(Oo),TE=function(t){function n(){return t.call(this,"castingchange")||this}return qt(n,t),n}(Vi);var EE=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).$P=[],n.Pc=void 0,n.KP=function(){return n.ys(new bE)},n}qt(n,t);var i=n.prototype;return i.tB=function(t){this.$P.push(t),t.ps("statechange",this.KP)},i.vh=function(){var t=this;this.$P.forEach(function(n){n.Ts("statechange",t.KP)}),gi(this.$P)},T(n,[{key:"nB",get:function(){return this.$P.some(function(t){return t.nB})}},{key:"Bc",get:function(){var t,n,i;return this.Pc||(this.Pc=(i={get casting(){return t.nB},addEventListener:function(t,i){n.ps(t,i)},removeEventListener:function(t,i){n.Ts(t,i)}},n=new vE(t=this,i),i)),this.Pc}}]),n}(ka),SE=function(){function t(){}return t.iB=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r,e;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=new Ly({gd:n,kd:Sc.An,md:Dc.GET}),t.next=4,i.GA(r);case 4:return e=t.sent,t.next=7,e.$n();case 7:return t.abrupt("return",t.sent);case 10:return t.prev=10,t.t0=t.catch(0),Ai(t.t0),t.abrupt("return",void 0);case 14:case"end":return t.stop()}},t,null,[[0,10]])}));return function(n,i){return t.apply(this,arguments)}}(),t.rB=function(t){try{var i=cy(t);return new _y(i.key,i.domains_page,i.domains_source,i.expiration_date,i.customer_id,i.generation_date,i.sdks,i.send_impression)}catch(t){throw new De(n.ErrorCode.LICENSE_ERROR,"Invalid license. No valid license was configured.")}},t.eB=function(t){void 0===t&&(t=Ny.EA),r.hc("The baked-in license is used. Please update the configuration with your license.");var n=t.LR(".$hsF|b9_Ess*r[1F|C-*]'8iOn3C:o3COo5"),i=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.LR(n)}),e=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.LR(n)}),u=Number(new Date(Number(t.LR("COD|aHp]aO_3Ceo3Co\"\""))));return new _y(n,i,e,u)},t.convertLicenseToDummyLicense=function(t){return new _y(t.zR,t.GR,t.jR,864e13,t.YR,Date.now(),t.JR,t.$R)},t}(),RE=function(){function t(){}return t.nc=function(){return t.gn||(t.gn=IE.Mo()?new IE:new po),t.gn},t.qs=function(n){t.nc().qs(n)},t.Ka=function(){t.nc().Ka()},t.Vs=function(n){return t.nc().Vs(n)},t.tc=function(n,i){t.nc().tc(n,i)},t.uB=function(n){var i=t.Vs(n);if(void 0!==i)return y(i)},t.sB=function(n){return"true"===t.Vs(n)},t}();RE.gn=void 0;var IE=function(n){function i(){return n.apply(this,arguments)||this}qt(i,n),i.Mo=function(){try{return t.localStorage.setItem("foobar","foobar"),t.localStorage.removeItem("foobar"),!0}catch(t){}return!1};var r=i.prototype;return r.qs=function(n){t.localStorage.removeItem(n)},r.Ka=function(){t.localStorage.clear()},r.Vs=function(n){return t.localStorage[n]},r.tc=function(n,i){t.localStorage[n]=i},i}(RE),NE=g.floor(14399999*g.random()-72e5),DE=function(){function t(t,n,i,r,e,u){this.$A=t,this.oB=n,this.aB=i,this.CI=r,this.cB=e,this.rI=u,this.eI=Ay(u)}var i=t.prototype;return i.hB=function(){var t=vn.coroutine(fn.mark(function t(){var n;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.fB(this.cB.license,this.cB.licenseUrl);case 2:n=t.sent,this.CI.vB(n);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.fB=function(){var t=vn.coroutine(fn.mark(function t(i,r){var e,u,s,o,a,c,h,f;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r,i?u=SE.rB(i):e||(u=SE.eB()),e||(e="https://validate.theoplayer.com/1/"+u.zR),s=this.dB(),!u){t.next=14;break}if((o=this.oB.aI(u))!==fy.XR){t.next=14;break}if(!this.lB(u.QR)||!this.lB(null==s?void 0:s.QR)){t.next=13;break}return t.next=10,this._B(e);case 10:if(!(a=t.sent)){t.next=13;break}return t.abrupt("return",a);case 13:return t.abrupt("return",u);case 14:if(!s){t.next=25;break}if(this.oB.aI(s)!==fy.XR){t.next=24;break}if(!this.lB(null==s?void 0:s.QR)){t.next=23;break}return t.next=20,this._B(e);case 20:if(!(c=t.sent)){t.next=23;break}return t.abrupt("return",c);case 23:return t.abrupt("return",s);case 24:RE.qs("THEOplayer.license");case 25:return t.next=27,SE.iB(e,this.$A);case 27:if(!(h=t.sent)){t.next=37;break}if(f=SE.rB(h),this.oB.aI(f)!==fy.XR){t.next=34;break}return RE.tc("THEOplayer.license",h),t.abrupt("return",f);case 34:RE.qs("THEOplayer.license"),t.next=39;break;case 37:if(this.eI||!u||o!==fy.WR||e!=="https://validate.theoplayer.com/1/"+u.zR){t.next=39;break}return t.abrupt("return",SE.convertLicenseToDummyLicense(u));case 39:if(!u&&!f){t.next=43;break}this.gB(null!=u?u:f,new De(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!")),t.next=44;break;case 43:throw new De(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!");case 44:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.uI=function(){var t=vn.coroutine(fn.mark(function t(n){var i,r,e,u,s,o,a;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.CI.jI();case 2:if(r=t.sent,!this.lB(r.QR)){t.next=9;break}return e=null!==(i=this.cB.licenseUrl)&&void 0!==i?i:"https://validate.theoplayer.com/1/"+r.zR,t.next=7,this._B(e);case 7:(u=t.sent)&&(this.CI.vB(u),r=u);case 9:if(t.prev=9,(s=this.oB.aI(r))!==fy.qR){t.next=16;break}throw o=ly.KR,new De(wy(o),Ty.oI(o));case 16:if(s!==fy.WR){t.next=19;break}throw a=ly.WR,new De(wy(a),Ty.oI(a));case 19:this.oB.uI(n,r),t.next=25;break;case 22:t.prev=22,t.t0=t.catch(9),this.wB(t.t0);case 25:case"end":return t.stop()}},t,this,[[9,22]])}));return function(n){return t.apply(this,arguments)}}(),i._B=function(){var t=vn.coroutine(fn.mark(function t(n){var i,r;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,SE.iB(n,this.$A);case 3:if(void 0!==(i=t.sent)){t.next=6;break}return t.abrupt("return",void 0);case 6:if(r=SE.rB(i),this.oB.aI(r)!==fy.XR){t.next=11;break}return RE.tc("THEOplayer.license",i),t.abrupt("return",r);case 11:return t.abrupt("return",void 0);case 14:return t.prev=14,t.t0=t.catch(0),t.abrupt("return",void 0);case 17:case"end":return t.stop()}},t,this,[[0,14]])}));return function(n){return t.apply(this,arguments)}}(),i.lB=function(t){return!t||Number(new Date)+2592e5+NE>=t},i.dB=function(){var t=RE.Vs("THEOplayer.license");if(t)return SE.rB(t)},i.gB=function(t,n){this.CI.vB(t),this.wB(n)},i.wB=function(t){throw et(t.message),this.aB.ZI(t.message),t},t}(),CE=function(){function t(){this.eO=new se}var n=t.prototype;return n.vB=function(t){this.yB=t,this.eO.io()},n.jI=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.yB){t.next=2;break}return t.abrupt("return",vn.resolve(this.yB));case 2:return t.next=4,this.eO.to;case 4:return t.abrupt("return",this.yB);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),T(t,[{key:"mB",get:function(){return this.yB}}]),t}(),OE=function(t){function n(){return t.call(this,"Yc")||this}return qt(n,t),n.prototype.Lc=function(){return new xE},n}(Oo),xE=function(t){function n(){return t.call(this,"change")||this}return qt(n,t),n}(Vi);var PE,BE,LE={kB:void 0,pB:void 0,AB:void 0,bB:void 0,TB:void 0,EB:void 0},ME="THEOplayer.textTrackStyle.",UE=function(t){function n(){var i;return(i=t.call(this)||this).Pc=void 0,i.SB=n.RB(),i}return qt(n,t),n.prototype.po=function(t){this.SB=dn(dn({},this.SB),t),n.IB(this.SB),this.ys(new OE)},n.RB=function(){var t=dn({},LE);return t.kB=RE.Vs(ME+"fontFamily")||t.kB,t.pB=RE.Vs(ME+"fontColor")||t.pB,t.AB=RE.Vs(ME+"fontSize")||t.AB,t.bB=RE.Vs(ME+"backgroundColor")||t.bB,t.TB=RE.Vs(ME+"windowColor")||t.TB,t.EB=RE.Vs(ME+"edgeStyle")||t.EB,t},n.IB=function(t){RE.tc(ME+"fontFamily",t.kB||""),RE.tc(ME+"fontColor",t.pB||""),RE.tc(ME+"fontSize",t.AB||""),RE.tc(ME+"backgroundColor",t.bB||""),RE.tc(ME+"windowColor",t.TB||""),RE.tc(ME+"edgeStyle",t.EB||"")},T(n,[{key:"NB",get:function(){return this.SB}},{key:"kB",get:function(){return this.SB.kB},set:function(t){this.po({kB:t})}},{key:"pB",get:function(){return this.SB.pB},set:function(t){this.po({pB:t})}},{key:"AB",get:function(){return this.SB.AB},set:function(t){this.po({AB:t})}},{key:"bB",get:function(){return this.SB.bB},set:function(t){this.po({bB:t})}},{key:"TB",get:function(){return this.SB.TB},set:function(t){this.po({TB:t})}},{key:"EB",get:function(){return this.SB.EB},set:function(t){this.po({EB:t})}},{key:"Bc",get:function(){var t,n,i;return this.Pc||(this.Pc=(t=this,i={get fontFamily(){return t.kB},set fontFamily(n){t.kB=n},get fontColor(){return t.pB},set fontColor(n){t.pB=n},get fontSize(){return t.AB},set fontSize(n){t.AB=n},get backgroundColor(){return t.bB},set backgroundColor(n){t.bB=n},get windowColor(){return t.TB},set windowColor(n){t.TB=n},get edgeStyle(){return t.EB},set edgeStyle(n){t.EB=n},addEventListener:function(t,i){var r=na(t,ta);n.ps(r,i)},removeEventListener:function(t,i){var r=na(t,ta);n.Ts(r,i)}},n=new Hi(i),t.ps(["Yc"],function(t){return n.ys(t.Bc)}),i)),this.Pc}}]),n}(Fi),FE=function(t){function n(n,i){var r;(r=t.call(this)||this).DB=!1,r.xd=!1,r.CB=!1,r.OB=function(t){if(!r.CB){r.CB=!0;var n=r.xB,i=Zc(t);r.QP.kh=new $w(r._l,i,t),Ci(n.vh())}},r.PB=function(t){r.ys(t.Bc)},r.BB=function(t){t.type!==Ta.mf&&t.type!==Ta.yf&&r.ys(t)};var e=$o(i.uid);m(e)?r.mk=pv++:r.mk=e,r.hw=i,r.LB=new aE;var u=lT.KC,s=new CE;r.MB=new Vy("2.84.1",u,s),r.cT=new QT(u,i.allowMixedContent),r.oB=new gy(i.isEmbeddable,"2.84.1",hy()),r.UB=new DE(u,r.oB,r.MB,s,i,hy()),r.UB.hB().catch(r.OB),r.FB=new LT(n),r.FB.ps("aO",r.PB),r.yR=new UE,r.FP=new dE,r.qP=new gE;var o=new Qw(n,i,r.cT,r.LB,r.FB,r.yR);o=new _E(o,r.HB),o=new wE(o,r.zP),r.xB=o,r.QP=new Gc(r.xB),r.QP.Xh(r.BB),r.VB=new yE(jt(r)),r.XB=new JT(r.QP,r.cT),r.WB=new yT(jt(r)),r.qB=new WT(r.QP,i.allowNativeFullscreen),r.zB=new $a(r.qB),r.FB.Do();var a=new pn(r.FB,r.yR,1,[Tf.ld]);return r.GB=new An(a),r.jB=new EE,r}qt(n,t);var i=n.prototype;return i.lP=function(t){this.QP.Sv=t,t||this.Rv||this.$d()},i.DP=function(t){this.QP.Ov=t},i.QB=function(){mc(this,gc,this)},i.qd=function(){this.QP.qd()},i.zd=function(){this.QP.zd()},i.Qd=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=5;break}return this.UB.uI(n).catch(this.OB),r=HE(n),t.next=5,this.QP.Qd(r,i);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.$d=function(){this.xd||(this.QP.$d(),this.GB.$d(),this.xd=!0)},i.hv=function(){return this.zB.ev()===qa.FULLSCREEN},i.nl=function(){this.QP.nl()},i.il=function(){this.QP.il()},i.ul=function(){return this.QP.ul()},i.fh=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.QP.Gd();case 2:return t.next=4,this.QP.fh();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.vh=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.bs(),this.jB.vh(),this.cT.vh(),this.XB.vh(),this.qB.vh(),this.zB.vh(),this.FB.vh(),this.MB.vh(),this.GB.vh(),t.next=11,this.QP.vh();case 11:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),T(n,[{key:"Ud",get:function(){return this.DB},set:function(t){this.DB=t,this.QP.Ud=t}},{key:"YB",get:function(){return this.GB}},{key:"Hd",get:function(){return this.QP.Hd}},{key:"ZB",get:function(){return this.jB}},{key:"JB",get:function(){return this.FB}},{key:"Wd",get:function(){return this.QP.Wd}},{key:"Cd",get:function(){return this.VB}},{key:"$B",get:function(){return this.XB}},{key:"Xd",get:function(){return this.QP.Xd}},{key:"KB",get:function(){return this.yR}},{key:"Vd",get:function(){return this.QP.Vd}},{key:"dl",get:function(){return this.QP.dl}},{key:"HB",get:function(){return this.FP}},{key:"zP",get:function(){return this.qP}},{key:"Av",get:function(){return this.QP.Av},set:function(t){this.QP.Av=t}},{key:"ll",get:function(){return this.QP.ll},set:function(t){this.QP.ll=t}},{key:"fl",get:function(){return this.QP.fl}},{key:"bv",get:function(){return this.QP.bv}},{key:"_l",get:function(){return this.QP._l}},{key:"Tv",get:function(){return this.QP.Tv}},{key:"xs",get:function(){return this.QP.xs}},{key:"Ev",get:function(){return this.QP.Ev}},{key:"Sv",get:function(){return this.QP.Sv},set:function(t){var n=Boolean(t);this.lP(n)}},{key:"Rv",get:function(){return this.QP.Rv}},{key:"Iv",get:function(){return this.QP.Iv},set:function(t){this.QP.Iv=t}},{key:"Tl",get:function(){return this.QP.Tl}},{key:"El",get:function(){return this.QP.El},set:function(t){this.QP.El=Gw(t)}},{key:"Mh",get:function(){return this.QP.Mh}},{key:"Sl",get:function(){return this.QP.Sl}},{key:"Nv",get:function(){return this.QP.Nv}},{key:"Eh",get:function(){return this.mk}},{key:"Dv",get:function(){return this.QP.Dv}},{key:"Cv",get:function(){return this.QP.Cv}},{key:"Ov",get:function(){return this.QP.Ov},set:function(t){var n=xt(Number(t),0,1)||0;this.DP(n)}}]),n}(ka);function HE(t){t.sources;var n=t.sources.filter(function(t){return void 0===t.integration});return t.sources=n,t}!function(t){t[t.tL=0]="tL",t[t.nL=1]="nL"}(PE||(PE={})),function(t){t[t.iL=0]="iL"}(BE||(BE={}));var VE={};function XE(t,n){(VE[n]||(VE[n]=[])).push(t)}function WE(t,n){var i=t;if(VE[n])for(var r=0,e=VE[n];r<e.length;r++){i=(0,e[r])(i)}return i}var qE=[];function zE(t){qE.push(t)}var GE=t.CustomEvent;var jE,QE=function(){try{var t=new GE("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?function(t,n){return new CustomEvent(t,n)}:function(t,n){var i=s.createEvent("CustomEvent");return n?i.initCustomEvent(t,n.bubbles,n.cancelable,n.detail):i.initCustomEvent(t,!1,!1,void 0),i};(jE=vn)&&jE.config({warnings:!1,longStackTraces:!1});jE&&($E=jE.setScheduler(j),YE=$E,KE={rL:function(t){ZE=t,YE(JE)},XI:JE=function(){var t=ZE;t&&(ZE=void 0,t())}},jE.setScheduler(KE.rL));var YE,ZE,JE,$E,KE,tS=function(){function t(t,n){var i=this;this.eL=!1,this.uL=function(t){i.sL.YI(t.error,i.Av)},this.oL=function(){i.sL.GI(i.aL),i.bR.removeEventListener("playing",i.oL),i.eL=!1},this.cL=function(){i.eL||(i.bR.addEventListener("playing",i.oL),i.eL=!0)},this.sL=n,this.bR=t,this.bR.addEventListener("error",this.uL),this.bR.addEventListener("sourcechange",this.cL),this.cL()}return t.prototype.fh=function(){},T(t,[{key:"Av",get:function(){var t=this.bR.currentTime;return"number"==typeof t&&isFinite(t)?t:"now"}},{key:"aL",get:function(){return this.bR.src||""}}]),t}();zE(function(t){new tS(t.Bc,t.MB)});var nS="theoplayer-stored-volume",iS="theoplayer-stored-mutedstate";XE(function(t){return function(t){function n(n,i){var r;if(r=t.call(this,n,i)||this,i.persistVolume){var e=RE.uB(nS);(void 0===e||m(e))&&(e=1);var u=RE.sB(iS)||!1;r.Ov=e,r.Sv=u}return r}qt(n,t);var i=n.prototype;return i.lP=function(n){this.hw.persistVolume&&RE.tc(iS,n),t.prototype.lP.call(this,n)},i.DP=function(n){this.hw.persistVolume&&RE.tc(nS,n),t.prototype.DP.call(this,n)},n}(t)},PE.nL);var rS=new(function(){function t(){this.hL=[],this.Pc=void 0}var n=t.prototype;return n.sh=function(t){return this.hL[t]},n.fL=function(t){this.hL.push(t),this.Bc.push(t.Bc)},n.ko=function(t){var n=this.hL.indexOf(t);n<0||(di(this.hL,n),this.Pc&&di(this.Pc,n))},n.vL=function(t){for(var n=0,i=this.hL;n<i.length;n++){var r=i[n];if(r.Eh===t)return r}},T(t,[{key:"lh",get:function(){return this.hL.length}},{key:"Bc",get:function(){return this.Pc||(this.Pc=function(t){for(var n=[],i=0;i<t.lh;i++)n[i]=t.sh(i).Bc;return n.getPlayerByUID=function(n){var i=t.vL(n);return i&&i.Bc},n}(this)),this.Pc}}]),t}());var eS,uS=function(t){function n(n){var i;return(i=t.call(this,Ta.xf)||this).source=n,i}return qt(n,t),n}(Vi),sS=function(t){function n(){var n;return(n=t.call(this)||this).dL=0,n.lL=!0,n._L=!1,n.gL=1,n}qt(n,t);var i=n.prototype;return i.qd=function(){this.lL&&(this.lL=!1,this.ys(new Ma(this.Av)),this.ys(new Sw(this.Av)))},i.zd=function(){this.lL||(this.lL=!0,this.ys(new xa(this.Av,this.ll)),this.ys(new Fa(this.Av)))},i.fh=function(){this.dL=0,this._L=!1,this.gL=1,this.zd(),this.ys(new Ua(this.dL))},i.vh=function(){this.bs()},i.il=function(){},i.nl=function(){},i.Xh=function(t){this.ps("emptied",t),this.ps("pause",t),this.ps("play",t),this.ps("seeking",t),this.ps("timeupdate",t),this.ps("waiting",t)},i.Wh=function(t){this.Ts("emptied",t),this.Ts("pause",t),this.Ts("play",t),this.Ts("seeking",t),this.Ts("timeupdate",t),this.Ts("waiting",t)},T(n,[{key:"ll",get:function(){},set:function(t){}},{key:"Av",get:function(){return this.dL},set:function(t){this.dL!==t&&(this.dL=t,this._L=!0,this.ys(new Da(this.Av)))}},{key:"Rv",get:function(){return this.lL}},{key:"Iv",get:function(){return this.gL},set:function(t){this.gL!==t&&(this.gL=t,this.ys(new Pa(this.Av,this.Iv)))}},{key:"Mh",get:function(){return pa.Zh}},{key:"Nv",get:function(){return this._L}}]),n}(Fi),oS=function(t){function n(){return t.call(this,Ta.cf)||this}return qt(n,t),n}(Vi),aS={zIndex:"1",display:"inline-block",verticalAlign:"middle",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"contain",cursor:"pointer",margin:"0",padding:"0",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",height:"100%"},cS={visibility:"hidden"},hS={visibility:"visible"},fS=function(){function t(t){var n,i=this;this.wL=!1,this.yL=function(t){i.wL=!1,i.mL=t.source&&t.source.poster,i.po()},this.HE=function(){i.wL=!0,i.il()},this.bR=t,this.ER(),this.fR=((n=Tn&&Tn.document&&Tn.document.createElement("div")).className="theoplayer-poster",qe(aS,n),n),t._l.appendChild(this.fR)}var n=t.prototype;return n.po=function(){var t=this.bR.Rv,n=this.wL;this.gd?this.fR.style.backgroundImage='url("'+this.gd.replace(/[\\"]/g,function(t){return"\\"+t})+'")':this.fR.style.backgroundImage="",t&&this.gd&&!n?this.nl():this.il()},n.nl=function(){qe(cS,this.bR._l),qe(hS,this.fR)},n.il=function(){qe(cS,this.fR),qe(hS,this.bR._l)},n.ER=function(){this.bR.ps("sourcechange",this.yL),this.bR.ps("play",this.HE)},n.vh=function(){this.bR.Ts("sourcechange",this.yL),this.bR.Ts("play",this.HE),Ve(this.fR)},T(t,[{key:"gd",get:function(){return void 0!==this.mL?this.mL:void 0!==this.kL?this.kL:void 0}},{key:"pL",set:function(t){this.kL=t,this.po()}}]),t}();function vS(t){return function(n){function i(i,r){var e;return(e=n.call(this,i)||this).AL=function(t){t.type!==Ta.bf&&e.bL.push(t)},e.TL=new t(i,r),e.EL=new sS,e.bR=e.TL,e.SL=new fS(jt(e)),e.dE=new Kl,e.RL=!1,e.bL=[],e._R=!0,e.lR=void 0,e.ER(),e}qt(i,n);var r=i.prototype;return r.vb=function(){var t=vn.coroutine(fn.mark(function t(n,i){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.dE.vb(n,i).catch(Ei));case 1:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.IL=function(){var t=vn.coroutine(fn.mark(function t(n,i){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return bi(i),this.TL.Xh(this.AL),t.next=4,this.TL.Qd(n,i);case 4:this.TL.Wh(this.AL);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.NL=function(){var t=vn.coroutine(fn.mark(function t(){var n,i,r;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((n=this.jd())&&!iv(n)&&this.Ud&&this.Rv){t.next=3;break}return t.abrupt("return");case 3:return i=n.mutedAutoplay||this.hw.mutedAutoplay,t.next=6,this.YB.DL();case 6:r=t.sent,t.t0=r,t.next="all"===t.t0?10:"muted"===t.t0?12:14;break;case 10:return this.CL(),t.abrupt("break",14);case 12:return(this.Sv||i===Ja.ALL)&&(this.Sv=!0,this.qd()),t.abrupt("break",14);case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.Qd=function(t){var n=this,i=this.lR;i&&!iv(i)&&this.ys(new Ua(0,0)),this.fh(),this.lR=t,Ci(this.vb(function(){var i=vn.coroutine(fn.mark(function i(r){return fn.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return bi(r),i.prev=1,i.next=4,n.IL(t,r);case 4:i.next=10;break;case 6:throw i.prev=6,i.t0=i.catch(1),n.lR=void 0,i.t0;case 10:return i.next=12,n.OL();case 12:case"end":return i.stop()}},i,null,[[1,6]])}));return function(t){return i.apply(this,arguments)}}()))},r.OL=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.xL(this.TL),this.ys(new uS(this.jd())),t.next=4,this.NL();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.sP=function(t){this.bR.Av=t},r.hP=function(){return this.TL.xs},r.fP=function(){return this.TL.Ev},r.qd=function(){this.bR.qd()},r.CL=function(){this.Sv||this.$d(),this.qd()},r.$d=function(){this.TL.$d()},r.zd=function(){this.bR.zd()},r.Gd=function(){this.Qd(void 0)},r.nl=function(){this._R=!0,this.bR.nl()},r.il=function(){this._R=!1,this.bR.il()},r.QB=function(){this.TL.QB()},r.DP=function(t){this.TL.DP(t)},r.lP=function(t){this.TL.lP(t)},r.PL=function(t){this.BL=t,t.fL(this)},r.hv=function(){return this.TL.hv()},r.jd=function(){return this.lR},r.ul=function(){return this.TL.ul()},r.uP=function(){return this.TL.Av},r.oP=function(){return this.TL.bv},r.nP=function(){return this.TL.dl},r.mP=function(){return this.TL.Tl},r.bP=function(){return this.TL.Sl},r.fh=function(){var t=this;this.lR=void 0,gi(this.bL),this.EL.fh(),this.xL(this.EL),this.dE.fs(),Ci(this.dE.vb(function(){var n=vn.coroutine(fn.mark(function n(i){return fn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return bi(i),n.next=3,t.TL.fh();case 3:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}()))},r.vh=function(){var t=this;this.ys(new oS),this.SL.vh(),this.RR(),this.fh(),Ci(this.vb(vn.coroutine(fn.mark(function n(){return fn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.TL.vh();case 2:t.BL&&(t.BL.ko(t),t.BL=void 0),t.dE.vh();case 4:case"end":return n.stop()}},n)})))),this.bs()},r.xL=function(t){if(this.bR!==t){var n=this.bR.Rv,i=this.bR.Av,r=this.bR.Iv;this.RR(),t===this.TL?(t.Av!==i&&(t.Av=i),t.Iv!==r&&(t.Iv=r),n?t.zd():t.qd()):this.hw.retainPlaybackRateOnSourceChange?t.Iv=r:1!==r&&this.ys(new Pa(this.uP(),1)),this.bR=t,this.ER();for(var e=0,u=this.bL;e<u.length;e++){var s=u[e];this.ys(s)}gi(this.bL),this._R?t.nl():t.il()}},r.ER=function(){this.bR.Xh(this.gs)},r.RR=function(){this.bR.Wh(this.gs)},r.Lc=function(){return t=this,r=function(n){i=n;var r=lv(n,t.hw);t.Qd(r)},e={get abr(){return t.LB.Bc},get audioTracks(){return t.Hd.Bc},get autoplay(){return t.Ud},set autoplay(n){t.Ud=Boolean(n)},get buffered(){return t.nP()},get canvas(){return t.WB.Bc},get clip(){return t.HB.Bc},get currentProgramDateTime(){var n;return null!==(n=t.ll)&&void 0!==n?n:null},set currentProgramDateTime(n){t.ll=null!=n?n:void 0},get currentTime(){return t.uP()},set currentTime(n){t.sP(Number(n))},get duration(){return t.oP()},get element(){return t._l},get ended(){return t.Tv},get error(){return t.hP()},get errorObject(){return t.fP()},get loop(){return t.zP.zP},set loop(n){t.zP.zP=Boolean(n)},get metrics(){return t.Cd.Bc},get muted(){return t.Sv},set muted(n){t.lP(n)},get network(){return t.$B.Bc},get paused(){return t.Rv},get playbackRate(){return t.Iv},set playbackRate(n){var i=Number(n);if(i<0)throw new RangeError("playbackRate must be a positive number");t.Iv=i},get played(){return t.mP()},get poster(){return t.LL},set poster(n){t.LL=ta(n)},get preload(){return t.El},set preload(n){t.El=n},get presentation(){return t.zB.Bc},get readyState(){return t.Mh},get seekable(){return t.bP()},get seeking(){return t.Nv},get source(){return i},set source(t){r(t)},get src(){return ev(t.jd())},set src(t){r({sources:t})},get textTracks(){return t.Xd.Bc},get textTrackStyle(){return t.KB.Bc},get uid(){return t.Eh},get videoHeight(){return t.Dv},get videoTracks(){return t.Vd.Bc},get videoWidth(){return t.Cv},get volume(){return t.Ov},set volume(n){t.DP(Number(n))},destroy:function(){t.vh(),t=null,i=void 0},play:function(){t.CL()},pause:function(){t.zd()},stop:function(){i=void 0,t.Gd()},prepareWithUserAction:function(){t.$d()},addEventListener:function(t,i){n.ps(t,i)},removeEventListener:function(t,i){n.Ts(t,i)},setSource:function(t){r(t)}},(n=new Wa(e,!0)).Wf(t),e;var t,n,i,r,e},T(i,[{key:"MB",get:function(){return this.TL.MB}},{key:"WB",get:function(){return this.TL.WB}},{key:"hw",get:function(){return this.TL.hw}},{key:"xB",get:function(){return this.TL.xB}},{key:"cT",get:function(){return this.TL.cT}},{key:"XS",get:function(){return this.TL.qB}},{key:"zB",get:function(){return this.TL.zB}},{key:"FB",get:function(){return this.TL.FB}},{key:"QP",get:function(){return this.TL.QP}},{key:"LB",get:function(){return this.TL.LB}},{key:"Ud",get:function(){return this.TL.Ud},set:function(t){this.TL.Ud=t,this.NL()}},{key:"YB",get:function(){return this.TL.YB}},{key:"Hd",get:function(){return this.TL.Hd}},{key:"ZB",get:function(){return this.TL.ZB}},{key:"JB",get:function(){return this.TL.FB}},{key:"Bc",get:function(){return this.Pc||(this.Pc=this.Lc()),this.Pc}},{key:"Wd",get:function(){return this.TL.Wd}},{key:"Cd",get:function(){return this.TL.Cd}},{key:"$B",get:function(){return this.TL.$B}},{key:"Xd",get:function(){return this.TL.Xd}},{key:"KB",get:function(){return this.TL.KB}},{key:"Vd",get:function(){return this.TL.Vd}},{key:"HB",get:function(){return this.TL.HB}},{key:"zP",get:function(){return this.TL.zP}},{key:"ll",get:function(){return this.bR.ll},set:function(t){this.bR.ll=t}},{key:"fl",get:function(){return this.TL.fl}},{key:"_l",get:function(){return this.TL._l}},{key:"Tv",get:function(){return this.TL.Tv}},{key:"Sv",get:function(){return this.TL.Sv},set:function(t){this.TL.Sv=t}},{key:"Rv",get:function(){return this.bR.Rv}},{key:"LL",get:function(){return this.SL.gd||""},set:function(t){this.SL.pL=t}},{key:"Iv",get:function(){return this.TL.Iv},set:function(t){this.bR.Iv=t}},{key:"El",get:function(){return this.TL.El},set:function(t){this.TL.El=Gw(t)}},{key:"Mh",get:function(){return this.bR.Mh}},{key:"Nv",get:function(){return this.bR.Nv}},{key:"Eh",get:function(){return this.TL.Eh}},{key:"Dv",get:function(){return this.TL.Dv}},{key:"Cv",get:function(){return this.TL.Cv}},{key:"Ov",get:function(){return this.TL.Ov},set:function(t){this.TL.Ov=t}}]),i}(ka)}function dS(t,n){var i=_c(n),r=new(eS||(eS=WE(eS=vS(FE),PE.tL),eS=WE(eS,PE.nL)),eS)(t,i),e=r.Bc;return r.QB(),r.PL(rS),_.defineProperty(e,"constructor",{value:dS}),e=qo(e),function(t){for(var n=0;n<qE.length;n++)(0,qE[n])(t)}(r),e}Di(function(){t.dispatchEvent&&t.dispatchEvent(QE("theoplayerready"))});var lS,_S={base64:new(function(){function t(){}var n=t.prototype;return n.encode=function(t){return ir(t)},n.decode=function(t){return tr(t)},t}())},gS=rS.Bc,wS=Eh.Vl.registerContentProtectionIntegration.bind(Eh.Vl),yS={ML:!1,UL:50,FL:!1},mS=["loadstart","encrypted","waitingforkey","webkitneedkey","msneedkey"];!function(t){t.Zy="HL"}(lS||(lS={}));var kS,pS,AS,bS,TS=function(t){function i(n,i,r){var e;(e=t.call(this)||this).VL=!1,e.XL=new se,e.dE=new Kl,e.Ro=void 0,e.WL=function(){e.qL(!0)},e.Jo=n,e.wE=i,e.oa=i.SS,e.Xu=r;for(var u=0;u<mS.length;u++){var s=mS[u];e.oa.addEventListener(s,e.WL)}return e}qt(i,t);var r=i.prototype;return r.AE=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r,e;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Xu.Yu(n.Bu,i);case 2:return r=t.sent,t.next=5,r.xo();case 5:return e=t.sent,t.next=8,this.zL(e);case 8:return t.abrupt("return",e);case 9:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.us=function(){var t=vn.coroutine(fn.mark(function t(){var n,i;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(this.bs(),n=0;n<mS.length;n++)i=mS[n],this.oa.removeEventListener(i,this.WL);return t.next=4,this.dE.vh();case 4:return t.next=6,this.GL();case 6:return t.next=8,this.zL(void 0);case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.qL=function(t){t!==this.VL&&(this.VL=t,t?this.XL.io(void 0):this.XL=new se)},r.zL=function(t){var n=this;return this.dE.vb(function(){return n.jL(t)})},r.jL=function(){var t=vn.coroutine(fn.mark(function t(i){var r;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!i||this.oa.src){t.next=4;break}throw new jc(n.ErrorCode.CONTENT_PROTECTION_ERROR,"Attempted to attach MediaKeys to a sourceless MediaElement");case 4:if(i||!this.oa.src){t.next=6;break}throw new jc(n.ErrorCode.CONTENT_PROTECTION_ERROR,"Attempted to remove MediaKeys from a non-empty MediaElement");case 6:if(!i||this.VL){t.next=9;break}return t.next=9,this.XL.to;case 9:if(!(r=this.Ro)){t.next=14;break}return t.next=13,r.Co(this.oa);case 13:this.Ro=void 0;case 14:if(!i){t.next=18;break}return t.next=17,i.Do(this.oa);case 17:this.Ro=i;case 18:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.Qd=function(t){var n=this;return this.dE.vb(function(){return n.QL(t)})},r.QL=function(){var t=vn.coroutine(fn.mark(function t(n){var i;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.qL(!1),i=this.wE.Iv,this.oa.src=n,this.wE.Iv=i;case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.mo=function(){var t=this;return this.dE.vb(function(){return t.sC()})},r.sC=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.oa.load();case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.GL=function(){var t=this;return this.dE.vb(function(){return t.YL()})},r.YL=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.qL(!1),Qe(this.oa);case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),T(i,[{key:"Hd",get:function(){throw new d("Not implemented")}},{key:"hw",get:function(){return this.Jo}},{key:"SS",get:function(){return this.oa}},{key:"Vd",get:function(){throw new d("Not implemented")}}]),i}(Fi),ES=function(t){function n(){return t.apply(this,arguments)||this}qt(n,t);var i=n.prototype;return i.wb=function(){var t=vn.coroutine(fn.mark(function t(){var n;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=this.hw,t.t0=n.PS,t.next=t.t0===ja.gv?4:t.t0===ja.wv?4:(t.t0,ja.yv,6);break;case 4:return this.oa.setAttribute("crossorigin",n.PS),t.abrupt("break",8);case 6:return this.oa.removeAttribute("crossorigin"),t.abrupt("break",8);case 8:return void 0!==n.El?this.oa.preload=n.El:this.oa.preload=qw.uS,void 0!==n.BS?this.oa.title=n.BS:Ge(this.oa),t.next=12,this.Qd(n.Hh);case 12:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.us=function(){var n=vn.coroutine(fn.mark(function n(){return fn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Ge(this.oa),n.next=3,t.prototype.us.call(this);case 3:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),n.ZL=function(t,n){return!!n.canPlayType&&Boolean(n.canPlayType(t.OS))},T(n,[{key:"dl",get:function(){return xf.$m(this.oa.buffered)}},{key:"bv",get:function(){return this.oa.duration}},{key:"JL",get:function(){var t=this.bv;if(!isFinite(t))return!1;var n=this.dl;return 0!==n.lh&&t-n.om(n.lh-1)<1/6}},{key:"El",get:function(){return this.oa.preload},set:function(t){this.oa.preload=t}},{key:"Sl",get:function(){return xf.$m(this.oa.seekable)}},{key:"$L",get:function(){return this.dl}},{key:"KL",get:function(){if(je(this.oa)&&(this.oa.videoWidth>0||this.oa.videoHeight>0))return this.dl}}]),n}(TS),SS=function(t){function n(n){var i;return(i=t.call(this,Ta.Af)||this).currentTime=n,i}return qt(n,t),n}(Vi),RS=function(t){function n(){return t.call(this,Ta._f)||this}return qt(n,t),n}(Vi);!function(t){t[t.tM=0]="tM",t[t.nM=1]="nM"}(kS||(kS={})),function(t){t.iM="rM"}(pS||(pS={})),function(t){t[t.eM=0]="eM",t[t.jv=1]="jv",t[t.uM=2]="uM"}(AS||(AS={})),function(t){t.sM="oM"}(bS||(bS={}));var IS=function(t){function n(n){var i;return(i=t.call(this,bS.sM)||this).aM=n,i}return qt(n,t),n}(Vi),NS=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).cM=xf.ik(),n}qt(n,t);var i=n.prototype;return i.hM=function(t,n){var i=new xf([t,n]);this.cM=this.cM.Lm(i),this.ys(new IS(i))},i.fM=function(t,n){this.cM=this.cM.Um(new xf([t,n]))},i.fh=function(){this.cM=xf.ik()},i.vh=function(){this.bs()},T(n,[{key:"vM",get:function(){return this.cM}}]),n}(Fi),DS=function(t){function n(){return t.apply(this,arguments)||this}qt(n,t);var i=n.prototype;return i.dM=function(t,n,i){return vn.reject(new d("Invalid state"))},i.lM=function(){return vn.reject(new d("Invalid state"))},i._M=function(t,n){return vn.reject(new d("Invalid state"))},i.JL=function(){return!1},i.gM=function(){},i.wM=function(t,n){},i.yM=function(t,n){},i.ko=function(t,n,i){return vn.resolve()},i.mM=function(t,n){return vn.reject(new d("Invalid state"))},i.kM=function(t){},i.pM=function(t){},i.vh=function(){return vn.resolve()},T(n,[{key:"dl",get:function(){return xf.ik()}},{key:"AM",get:function(){return!1}},{key:"bM",get:function(){return xf.ik()}},{key:"TM",get:function(){return!1}},{key:"qO",get:function(){return!1}}]),n}(Fi),CS=function(){function t(t,n){this.EM=void 0,this.SM=n,this.RM=t}var n=t.prototype;return n.JL=function(){return!!this.EM&&this.dl.Am().Sm(this.EM)},n.gM=function(){var t=this.dl;this.EM=t.lh>0?t.om(t.lh-1):0,this.SM.IM()},T(t,[{key:"dl",get:function(){var t=xf.$m(this.RM.buffered).Nm(new xf([0,1/0])),n=this.EM;return void 0!==n&&t.lh>0&&t.om(t.lh-1)===n&&(t=t.Lm(xf.nk(n))),t}}]),t}(),OS="QuotaExceededError";function xS(t){return t&&t.name===OS}function PS(t,n){return void 0===n&&(n=new Op({highWaterMark:1/0})),new bp(new BS(t,n),{highWaterMark:0})}var BS=function(){function t(t,n){var i=this,r=n.size,e=void 0===r?function(){return 1}:r,u=n.highWaterMark,s=void 0===u?1:u;this.re=[],this.kN=0,this.eO=void 0,this.NM=!1,this.DM=void 0,this.CM=function(t){return t.done?(i.se(),void i.eO.close()):(i.re.push(t.value),i.kN+=i.OM(t.value),i.NM&&i.se(),i.xM()?i.hN.read().then(i.CM):void 0)},this.jD=function(t){i.se(),i.eO.error(t)},this.hN=t.getReader(),this.OM=e,this.PM=s}var n=t.prototype;return n.start=function(t){this.eO=t,this.xM()&&this.BM()},n.pull=function(){this.re.length>0?this.se():this.NM=!0,this.xM()&&this.BM()},n.cancel=function(t){return gi(this.re),this.kN=0,this.NM=!1,this.hN.cancel(t)},n.se=function(){if(0!==this.re.length){var t=this.re;this.re=[],this.kN=0,this.NM=!1,this.eO.enqueue(t)}},n.xM=function(){return!!this.NM||this.PM-this.kN>0},n.BM=function(){var t=this;if(!this.DM){var n=this.hN.read().then(this.CM).catch(this.jD);this.DM=n;var i=function(){t.DM===n&&(t.DM=void 0)};n.then(i,i)}},t}(),LS=20,MS=P.un,US=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).zx=LS,u.Gx=$T,u.LM=!1,u.MM=!1,u.UM=void 0,u.FM=new ki,u.HM=!1,u.VM=void 0,u.XM=function(){u.LM=!1},u.wE=n,u.WM=r,u.qM=i,u.RM=e,u.RM.addEventListener("updateend",u.XM),u}qt(n,t);var i=n.prototype;return i.dM=function(t,n,i){var r=this;switch(t.Pu){case AS.eM:case AS.jv:return this.zM(function(i){return r.GM(t,n,i)},i);case AS.uM:throw new d("Opaque segments are not supported on web.")}},i._M=function(t,n){var i=this;switch(t.Pu){case AS.eM:return this.zM(function(n){return i.jM(t,n)},n);case AS.jv:throw new d("Streaming initialization segments are not supported on web.");case AS.uM:throw new d("Opaque initialization segments are not supported on web.")}},i.jM=function(){var t=vn.coroutine(fn.mark(function t(n,i){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.QM(n.$n,void 0,i);case 2:MS&&(this.HM=!1,this.VM=n);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.GM=function(){var t=vn.coroutine(fn.mark(function t(n,i,r){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(MS&&this.HM&&this.VM)){t.next=3;break}return t.next=3,this.jM(this.VM,r);case 3:return t.prev=3,bi(r),t.next=7,this.QM(n.$n,i,r);case 7:this.ys(new Vi(pS.iM));case 8:return t.prev=8,n.Pu===AS.jv&&n.$n.cancel(new pi).catch(j),t.finish(8);case 11:case"end":return t.stop()}},t,this,[[3,,8,11]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.QM=function(t,n,i){return this.YM(t,n,i)},i.YM=function(){var t=vn.coroutine(fn.mark(function t(n,i,r){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return bi(r),t.next=3,this.ZM(this.wE.Av,null==i?void 0:i.JM,null==i?void 0:i.bv);case 3:if(bi(r),!(n instanceof bp)){t.next=9;break}return t.next=7,this.$M(n,i,r);case 7:t.next=11;break;case 9:return t.next=11,this.KM(n,i,r);case 11:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.$M=function(){var t=vn.coroutine(fn.mark(function t(n,i,r){var e,u;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=void 0,u=$p(n),n=u[0],e=u[1],t.prev=5,t.next=8,this.tU(n,i,r);case 8:return e.cancel(new pi).catch(j),t.abrupt("return");case 12:if(t.prev=12,t.t0=t.catch(5),!xS(t.t0)){t.next=21;break}return t.next=17,this.ZM(this.wE.Av,i?i.JM:void 0,i?i.bv:void 0,r);case 17:if(!t.sent){t.next=21;break}return n=e,t.abrupt("continue",0);case 21:throw e.cancel(t.t0).catch(j),t.t0;case 23:t.next=0;break;case 25:case"end":return t.stop()}},t,this,[[5,12]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.tU=function(){var t=vn.coroutine(fn.mark(function t(n,i,r){var e,u,s,o,a,c,h,f;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=this.qM.dl,u=PS(n),s=u.getReader(),o=!1,t.prev=4,i&&this.nU(i);case 6:return t.next=9,Si(s.read(),r);case 9:if(!(a=t.sent).done){t.next=13;break}return o=!1,t.abrupt("break",20);case 13:return bi(r),c=sr(a.value),o=!0,t.next=18,this.iU(c);case 18:t.next=6;break;case 20:t.next=37;break;case 22:if(t.prev=22,t.t0=t.catch(4),s.cancel(t.t0).catch(j),!o){t.next=36;break}return t.next=28,this.rU();case 28:h=this.qM.dl.Nm(e.Dm()),f=0;case 30:if(!(f<h.lh)){t.next=36;break}return t.next=33,this.eU(h.um(f),h.om(f));case 33:f++,t.next=30;break;case 36:throw t.t0;case 37:case"end":return t.stop()}},t,this,[[4,22]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.KM=function(){var t=vn.coroutine(fn.mark(function t(n,i,r){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=1,bi(r),i&&this.nU(i),t.next=6,this.iU(n);case 6:return t.abrupt("return",t.sent);case 9:if(t.prev=9,t.t0=t.catch(1),!xS(t.t0)){t.next=17;break}return t.next=14,this.ZM(this.wE.Av,i?i.JM:void 0,i?i.bv:void 0,r);case 14:if(!t.sent){t.next=17;break}return t.abrupt("continue",0);case 17:throw t.t0;case 18:t.next=0;break;case 20:case"end":return t.stop()}},t,this,[[1,9]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.mM=function(t,n){var i=this;return this.zM(function(){return i.uU(t,n)})},i.uU=function(){var t=vn.coroutine(fn.mark(function t(n,i){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.RM.appendWindowStart===n&&this.RM.appendWindowEnd===i){t.next=6;break}return t.next=3,this.rU();case 3:this.RM.appendWindowStart=0,this.RM.appendWindowEnd=i,this.RM.appendWindowStart=n;case 6:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.nU=function(t){this.RM.timestampOffset!==t.kA&&(this.RM.timestampOffset=t.kA)},i.iU=function(){var t=vn.coroutine(fn.mark(function t(n){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.RM.appendBuffer(n),this.MM=!0,t.next=4,this.sU();case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.ZM=function(){var t=vn.coroutine(fn.mark(function t(n,i,r,e){var u,s,o,a,c;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:u=KT(n,i,r,this.qM.dl,this.zx,this.Gx),s=0;case 2:if(!(s<u.length)){t.next=9;break}return o=u[s],a=o[0],c=o[1],t.next=6,this.eU(a,c,e);case 6:s++,t.next=2;break;case 9:return t.abrupt("return",u.length>0);case 10:case"end":return t.stop()}},t,this)}));return function(n,i,r,e){return t.apply(this,arguments)}}(),i.oU=function(t,n,i){var r=this;return this.zM(function(i){return r.eU(t,n,i)},i)},i.eU=function(){var t=vn.coroutine(fn.mark(function t(n,i,r){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return bi(r),this.RM.remove(n,i),t.next=4,this.sU();case 4:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.sU=function(){var t=this,n=this.qM.dl;return new vn(function(i,r){var e,u=!1,s=function(){u=!0},o=function(){u=!1,e="error"},a=function(){u=!1,e="aborted"},c=function(){h(),u&&!e?(n.qm(t.qM.dl)||t.ys(new Vi(pS.iM)),i()):r(new d(e))},h=function(){t.RM.removeEventListener("update",s),t.RM.removeEventListener("error",o),t.RM.removeEventListener("abort",a),t.RM.removeEventListener("updateend",c)};t.RM.addEventListener("update",s),t.RM.addEventListener("error",o),t.RM.addEventListener("abort",a),t.RM.addEventListener("updateend",c)})},i.aU=function(){var t=vn.coroutine(fn.mark(function t(){var n=this;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.zM(function(){return n.rU()}));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.rU=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.WM.Mh===YS.VA){t.next=2;break}return t.abrupt("return");case 2:MS&&(this.HM=!0),this.RM.updating&&(this.LM=!0);try{this.RM.abort()}catch(t){0,this.LM=!1}if(!this.qO){t.next=8;break}return t.next=8,this.sU().catch(j);case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.zM=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.UM){t.next=2;break}throw new d("Internal error");case 2:return(r=new ki).vs(this.FM.ls),i&&r.vs(i),t.prev=5,this.UM=n(r.ls),t.next=9,this.UM;case 9:if(this.WM.cU(),!this.qO){t.next=13;break}return t.next=13,this.sU();case 13:return t.prev=13,this.UM=void 0,r.us(),t.finish(13);case 17:case"end":return t.stop()}},t,this,[[5,,13,17]])}));return function(n,i){return t.apply(this,arguments)}}(),i.us=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.bs(),this.FM.fs(),!this.UM){t.next=6;break}return t.next=5,this.UM.catch(j);case 5:this.UM=void 0;case 6:this.RM.removeEventListener("updateend",this.XM);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),T(n,[{key:"TM",get:function(){return this.MM}},{key:"Ux",get:function(){return this.zx},set:function(t){this.zx=t}},{key:"Xx",set:function(t){this.Gx=t}},{key:"qO",get:function(){return this.LM||this.RM.updating}}]),n}(Fi);function FS(t,n,i,r,e){var u=new CS(t,n),s=new US(r,u,n,t);return new HS(u,s,e)}var HS=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).qM=n,e.hU=i,e.fU=r,e.hU.ps(pS.iM,e.gs),e}qt(n,t);var i=n.prototype;return i.JL=function(){return this.qM.JL()},i.gM=function(){this.qM.gM()},i.wM=function(t,n){this.fU.hM(t,n)},i.yM=function(t,n){this.fU.fM(t,n)},i.lM=function(){return this.hU.aU()},i.dM=function(t,n,i){return this.hU.dM(t,n,i)},i._M=function(t,n){return this.hU._M(t,n)},i.ko=function(t,n,i){return this.yM(t,n),this.hU.oU(t,n,i)},i.mM=function(t,n){return this.hU.mM(t,n)},i.kM=function(t){this.hU.Ux=t},i.pM=function(t){this.hU.Xx=t},i.vh=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.hU.Ts(pS.iM,this.gs),t.next=3,this.hU.us();case 3:this.fU.vh();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),T(n,[{key:"dl",get:function(){return this.qM.dl}},{key:"AM",get:function(){return!0}},{key:"bM",get:function(){return this.fU.vM}},{key:"TM",get:function(){return this.hU.TM}},{key:"qO",get:function(){return this.hU.qO}}]),n}(Fi),VS=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).RM=void 0,s.WM=n,s.Jo=r,s.Fo=r.OS,s.vU=e,s.wE=i,s.fN=new DS,s.fN.ps(pS.iM,s.gs),s.zx=LS,s.Gx=$T,s.fU=u,s}qt(n,t);var i=n.prototype;return i.JL=function(){return this.fN.JL()},i.gM=function(){return this.fN.gM()},i.wM=function(t,n){this.fN.wM(t,n)},i.yM=function(t,n){this.fN.yM(t,n)},i.lM=function(){return this.fN.lM()},i.dM=function(t,n,i){return this.fN.dM(t,n,i)},i._M=function(t,n){return this.fN._M(t,n)},i.mM=function(t,n){return this.fN.mM(t,n)},i.ko=function(){var t=vn.coroutine(fn.mark(function t(n,i,r){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.fN.ko(n,i,r);case 2:(P._n||P.Jt)&&this.wE.Qs(this.wE.Av);case 3:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.bk=function(){var t=vn.coroutine(fn.mark(function t(n,i){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.AM!==n){t.next=2;break}return t.abrupt("return");case 2:if(!n){t.next=7;break}return t.next=5,this.UA(i);case 5:t.next=9;break;case 7:return t.next=9,this.FA(i);case 9:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.UA=function(){var t=vn.coroutine(fn.mark(function t(n){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,bi(n),XS(this.RM,!0),t.next=5,this.dU(this.RM);case 5:t.next=12;break;case 7:return t.prev=7,t.t0=t.catch(0),bi(n),t.next=12,this.WM.lU(this);case 12:case"end":return t.stop()}},t,this,[[0,7]])}));return function(n){return t.apply(this,arguments)}}(),i.FA=function(){var t=vn.coroutine(fn.mark(function t(n){var i;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.RM,t.prev=1,bi(n),t.next=5,this.fh();case 5:XS(i,!1),this.RM=i,t.next=14;break;case 9:return t.prev=9,t.t0=t.catch(1),bi(n),t.next=14,this.WM._U(this,i);case 14:case"end":return t.stop()}},t,this,[[1,9]])}));return function(n){return t.apply(this,arguments)}}(),i.setState=function(){var t=vn.coroutine(fn.mark(function t(n){var i;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(i=this.fN).Ts(pS.iM,this.gs),t.next=4,i.vh();case 4:this.fN=n,this.fN.kM(this.zx),this.fN.pM(this.Gx),this.fN.ps(pS.iM,this.gs);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.dU=function(){var t=vn.coroutine(fn.mark(function t(n){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.RM=n,t.next=3,this.setState(FS(n,this.WM,this.vU,this.wE,this.fU));case 3:this.ys(new Vi("bh"));case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.gU=function(t){if(this.Fo!==t.OS){if(!MediaSource.isTypeSupported(t.OS))return!1;if(!this.RM.changeType){if(this.vU!==Tf.ld)return!1;var n=hl(this.Fo),i=hl(t.OS);if(n.Pu!==i.Pu)return!1;if(!function(t,n){var i=t.LA("codecs"),r=n.LA("codecs");if(i&&r){var e=i.split(".",1)[0],u=i.split(".",1)[0];return e===u}return!i&&!r}(n,i))return!1}}return!0},i.wU=function(t){this.Jo=t,this.Fo!==t.OS&&(this.Fo=t.OS,this.RM.changeType&&this.RM.changeType(this.Fo))},i.fh=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.fU.fh(),this.RM=void 0,t.next=4,this.setState(new DS);case 4:this.ys(new Vi("yU"));case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.us=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.bs(),t.next=4,this.fh();case 4:this.fN.Ts(pS.iM,this.gs),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}},t,this,[[0,7]])}));return function(){return t.apply(this,arguments)}}(),T(n,[{key:"dl",get:function(){return this.fN.dl}},{key:"hw",get:function(){return this.Jo}},{key:"OS",get:function(){return this.Fo}},{key:"bM",get:function(){return this.fN.bM}},{key:"TM",get:function(){return this.fN.TM}},{key:"Ux",get:function(){return this.zx},set:function(t){this.zx=t,this.fN.kM(t)}},{key:"Xx",set:function(t){this.Gx=t,this.fN.pM(t)}},{key:"qO",get:function(){return this.fN.qO}},{key:"AM",get:function(){return this.fN.AM}}]),n}(Fi);function XS(t,n){var i=t&&t.audioTracks,r=t&&t.videoTracks;if(!i||!r)throw new d("Not supported by browser.");for(var e=0;e<i.length;e++)i[e].enabled!==n&&(i[e].enabled=n);for(var u=0;u<r.length;u++)r[u].selected!==n&&(r[u].selected=n)}var WS=100,qS=1e3,zS=1e4,GS=.01,jS=[Ta.pf,Ta.kf,Ta.Rf,Ta.Sf,Ta.vf,Ta.bf,wa.Zc,ca.Ph],QS=function(){function t(t,n){var i=this;this.qM=t,this.wE=n,this.DE=pa.Zh,this.mU=!1,this.kU=[],this.pU=0,this.AU=0,this.bU=0,this.TU=0,this.EU=qS,this.SU=function(t){var n=i.wE.Av;t.aM.Sm(n)&&i.RU(n)},this.IU=Y(function(){i.NU(wa.Zc)},WS),this.DU=Y(function(){i.NU(Ta.Af)},WS),this.CU=function(){i.OU()?i.xU():i.PU()},this.BU=function(){var t=i.pU,n=i.AU,e=i.wE.Av,u=r.ac(),s=t!==e;if(s||!i.OU())return i.pU=e,i.AU=u,void(s&&(i.TU=0,i.EU=qS));if(n>0&&u>n+i.EU){var o=e+i.TU*GS;i.qM.dl.Sm(o)&&(i.pU=o,i.AU=u,i.TU++,i.EU=g.max(2*i.EU,zS),i.wE.Qs(o))}},this.wE.ps(wa.Zc,this.IU),this.wE.ps(Ta.Af,this.DU),this.wE.ps(jS,this.CU)}var n=t.prototype;return n.LU=function(t){this.kU.push(t),t.ps(bS.sM,this.SU)},n.vh=function(){var t=this;this.PU(),this.DE=pa.Zh,this.wE.Ts(wa.Zc,this.IU),this.wE.Ts(Ta.Af,this.DU),this.wE.Ts(jS,this.CU),this.kU.forEach(function(n){return n.Ts(bS.sM,t.SU)}),this.mU=!0},n.NU=function(t){if(!this.mU){var n=this.wE.Mh;if(n<=pa.$h){var i=this.wE.Av,r=this.qM.dl,e=r.Fm(i),u=r.om(e);-1!==e&&(t===wa.Zc&&n<this.DE||t===Ta.Af&&n===this.DE)&&u<i+.5&&(i=u),this.RU(i)}t===wa.Zc&&(this.DE=n)}},n.RU=function(t){if(!this.wE.Tv){var n=this.vM.Um(this.qM.dl).Am(),i=n.Fm(t);if(-1!==i)g.abs(n.um(i)-n.om(i))<=.001||this.wE.Qs(n.om(i))}},n.xU=function(){0===this.bU&&(this.bU=r.dc(this.BU,250))},n.PU=function(){0!==this.bU&&(r.lc(this.bU),this.bU=0),this.AU=0},n.OU=function(){return!this.wE.Rv&&!this.wE.Nv&&0!==this.wE.Iv&&!this.wE.Tv&&!this.wE.xs&&this.wE.Mh>=pa.Kh},T(t,[{key:"vM",get:function(){return this.kU.reduce(function(t,n){return t.Lm(n.vM)},xf.ik())}}]),t}();var YS,ZS=P.$t||P.Kt,JS=function(){function t(t,n,i,r){void 0===i&&(i=!1),void 0===r&&(r=!1),this.CA=t,this.OA=n,this.MU=i,this.UU=r,this.FU=Dy()}return t.prototype.HU=function(){var t=this.CA,n=this.OA;if(this.MU||this.UU){var i=.001*(Dy()-this.FU);this.MU&&(t+=i),this.UU&&(n+=i)}return t>=n?xf.ik():new xf([t,n])},T(t,[{key:"VU",get:function(){return this.MU}},{key:"XU",get:function(){return this.UU}}]),t}();!function(t){t.WU="closed",t.VA="open",t.vf="ended"}(YS||(YS={}));var $S=function(){function t(){}return t.prototype.qU=function(){return new MediaSource},t}(),KS=function(t){function n(n,i,r,e){var u;return void 0===e&&(e=new $S),(u=t.call(this,n,i,r)||this).zU=void 0,u.GU=void 0,u.jU=new JS(0,1/0),u.QU=void 0,u.YU=!1,u.ZU=function(){u.JU()},u.$U=function(){u.wE.$U()},u.KU=e,u.vE=u.KU.qU(),u.wE.ps(Ta.Rf,u.ZU),u.tF=new QS(jt(u),u.wE),u}qt(n,t);var i=n.prototype;return i.nF=function(t){if(m(t)||t<0)throw new d("Invalid duration");var n=t===1/0,i=n?9007199254740991:t;if(n&&this.vE.setLiveSeekableRange){var r=g.pow(2,39);this.vE.setLiveSeekableRange(0,r)}this.iF()?this.vE.duration=i:this.QU=i},i.rF=function(t,n,i,r){this.jU=new JS(t,n,!!i,!!r)},i.wb=function(){var t=vn.coroutine(fn.mark(function t(){var n,i,r,e,u,s;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=hi(this.Jo.eF,function(t){return Qn(t.OS,"audio")}),i=hi(this.Jo.eF,function(t){return Qn(t.OS,"video")}),n&&(r=new NS,this.tF.LU(r),this.zU=new VS(this,this.wE,n,Tf.dd,r),this.zU.ps(pS.iM,this.$U)),i&&(e=new NS,this.tF.LU(e),this.GU=new VS(this,this.wE,i,Tf.ld,e),this.GU.ps(pS.iM,this.$U)),t.next=6,this.uF();case 6:if(!this.zU){t.next=12;break}return t.next=9,this.sF(this.zU.OS);case 9:return u=t.sent,t.next=12,this.zU.dU(u);case 12:if(!this.GU){t.next=18;break}return t.next=15,this.sF(this.GU.OS);case 15:return s=t.sent,t.next=18,this.GU.dU(s);case 18:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.uF=function(){var n=vn.coroutine(fn.mark(function n(){var i;return fn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=URL.createObjectURL(this.vE),n.next=3,t.prototype.Qd.call(this,i);case 3:return n.next=5,t.prototype.mo.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i.sF=function(){var t=vn.coroutine(fn.mark(function t(n){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Mh===YS.VA){t.next=3;break}return t.next=3,Va(this.vE,"sourceopen");case 3:if(!(this.zU&&this.zU.TM||this.GU&&this.GU.TM)){t.next=6;break}throw new d("oF");case 6:return t.abrupt("return",this.vE.addSourceBuffer(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.iF=function(){if(this.Mh!==YS.VA)return!1;var t=this.zU&&this.zU.qO,n=this.GU&&this.GU.qO;return!(t||n)},i.gM=function(){this.YU=!0,this.zU&&this.zU.gM(),this.GU&&this.GU.gM(),this.YU=!1,this.JU()},i.gU=function(t){var n=hi(this.Jo.eF,function(t){return Qn(t.OS,"audio")}),i=hi(this.Jo.eF,function(t){return Qn(t.OS,"video")});if(this.zU){if(!n)return!1;if(!this.zU.gU(n))return!1}else if(n)return!1;if(this.GU){if(!i)return!1;if(!this.GU.gU(i))return!1}else if(i)return!1;return!0},i.wU=function(t){var n=hi(t.eF,function(t){return Qn(t.OS,"audio")}),i=hi(t.eF,function(t){return Qn(t.OS,"video")});this.zU&&this.zU.wU(n),this.GU&&this.GU.wU(i),this.Jo=t},i.us=function(){var n=vn.coroutine(fn.mark(function n(){return fn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.zU){n.next=4;break}return n.next=3,this.zU.us();case 3:this.zU=void 0;case 4:if(!this.GU){n.next=8;break}return n.next=7,this.GU.us();case 7:this.GU=void 0;case 8:return this.oa.src&&URL.revokeObjectURL(this.oa.src),this.wE.Ts(Ta.Rf,this.ZU),this.tF.vh(),n.next=13,t.prototype.us.call(this);case 13:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i.IM=function(){this.YU||this.JU()},i.JU=function(){this.aF&&this.iF()&&(this.vE.endOfStream(),this.QU=void 0,this.ys(new Vi(lS.Zy)))},i.lU=function(){var t=vn.coroutine(fn.mark(function t(n){var i,r;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.sF(n.OS);case 3:return i=t.sent,t.next=6,n.dU(i);case 6:t.next=14;break;case 8:return t.prev=8,t.t0=t.catch(0),(r=this.cF).push(n),t.next=14,this.hF(r);case 14:case"end":return t.stop()}},t,this,[[0,8]])}));return function(n){return t.apply(this,arguments)}}(),i._U=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!P.in){t.next=3;break}throw new d("Not supported in Firefox");case 3:this.vE.removeSourceBuffer(i),t.next=11;break;case 6:return t.prev=6,t.t0=t.catch(0),r=this.cF.filter(function(t){return t!==n}),t.next=11,this.hF(r);case 11:case"end":return t.stop()}},t,this,[[0,6]])}));return function(n,i){return t.apply(this,arguments)}}(),i.hF=function(){var t=vn.coroutine(fn.mark(function t(n){var i,r,e,u,s,o;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.wE.fF(),i=0,r=this.cF;case 2:if(!(i<r.length)){t.next=10;break}if(!(e=r[i])){t.next=7;break}return t.next=7,e.fh();case 7:i++,t.next=2;break;case 10:return this.vE=this.KU.qU(),t.next=13,this.uF();case 13:u=0;case 14:if(!(u<n.length)){t.next=24;break}return s=n[u],t.next=18,this.sF(s.OS);case 18:return o=t.sent,t.next=21,s.dU(o);case 21:u++,t.next=14;break;case 24:this.wE.vF();case 25:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.cU=function(){this.iF()&&(this.JL?this.JU():void 0!==this.QU&&(this.vE.duration=this.QU,this.QU=void 0))},n.ZL=function(t){if("undefined"==typeof MediaSource)return!1;if("function"!=typeof MediaSource.isTypeSupported)return!1;for(var n=0,i=t.eF;n<i.length;n++){var r=i[n];if(!MediaSource.isTypeSupported(r.OS))return!1}return!0},T(n,[{key:"dF",get:function(){return this.zU}},{key:"lF",get:function(){return this.GU}},{key:"cF",get:function(){var t=[];return this.zU&&this.zU.AM&&t.push(this.zU),this.GU&&this.GU.AM&&t.push(this.GU),t}},{key:"bv",get:function(){if(this.QU)return this.QU;var t=this.vE.duration;return 9007199254740991===t?1/0:t}},{key:"dl",get:function(){return ZS?function(t){var n=[];if(t.dF&&t.dF.AM&&n.push(t.dF.dl),t.lF&&t.lF.AM&&n.push(t.lF.dl),0===n.length)return xf.ik();for(var i=0,r=0;r<n.length;r++){var e=n[r];e.lh>0&&(i=g.max(i,e.om(e.lh-1)))}for(var u=t.JL,s=new xf([0,i],[!0,u]),o=0;o<n.length;o++){var a=n[o];u&&a.lh>0&&(a=a.Lm(new xf([a.om(a.lh-1),i],[!0,!0]))),s=s.Nm(a)}return s}(this):xf.$m(this.oa.buffered)}},{key:"$L",get:function(){if(this.zU&&this.zU.AM)return this.zU.dl}},{key:"KL",get:function(){if(this.GU&&this.GU.AM)return this.GU.dl}},{key:"Sl",get:function(){return this.jU.HU().Nm(new xf([0,this.bv],[!0,!0]))}},{key:"JL",get:function(){return(!this.zU||!this.zU.AM||this.zU.JL())&&(!this.GU||!this.GU.AM||this.GU.JL())}},{key:"Mh",get:function(){return this.vE.readyState}},{key:"aF",get:function(){if(!this.JL)return!1;var t=this.dl;return 0!==t.lh&&t.um(t.lh-1)<=this.wE.Av}}]),n}(TS),tR=function(t){function n(n,i,r,e,u,s,o,a){var c;return(c=t.call(this)||this).dL=n,c._F=i,c.gF=r,c.lL=e,c._L=u,c.wF=s,c.gL=o,c.yF=a,c}qt(n,t);var i=n.prototype;return i.zd=function(){this.lL||(this.lL=!0,this.ys(new Fa(this.Av)))},i.qd=function(){this.lL&&(this.lL=!1,this.ys(new Ma(this.Av)))},T(n,[{key:"Av",get:function(){return this.dL},set:function(t){this.Av!==t&&(this.dL=t,this._L=!0,this.ys(new Da(this.Av)))}},{key:"bv",get:function(){return this._F}},{key:"Tv",get:function(){return this.gF}},{key:"Rv",get:function(){return this.lL}},{key:"Nv",get:function(){return this._L}},{key:"Sv",get:function(){return this.wF},set:function(t){this.Sv!==t&&(this.wF=t,this.ys(new Ia(this.Av,this.Ov)))}},{key:"Iv",get:function(){return this.gL},set:function(t){this.Iv!==t&&(this.gL=t,this.ys(new Pa(this.Av,this.Iv)))}},{key:"Ov",get:function(){return this.yF},set:function(t){this.Ov!==t&&(this.yF=t,this.ys(new Ia(this.Av,this.Ov)))}}]),n}(Fi),nR=function(t){function n(n){var i;return(i=t.call(this)||this).DE=pa.Zh,i.mF=function(){i.kF()},i.wE=n,i}qt(n,t);var i=n.prototype;return i.pF=function(t){this.DE!==t&&(this.DE=t,this.ys(new ba(this.wE.Av,t)))},i.kF=function(){this.pF(this.AP())},i.fh=function(){this.pF(pa.Zh)},i.us=function(){this.bs()},T(n,[{key:"Mh",get:function(){return this.AP()}}]),n}(Fi),iR=["emptied","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","timeupdate","progress","seeking","seeked"],rR=function(t){function n(n){var i;i=t.call(this,n)||this;for(var r=0;r<iR.length;r++){var e=iR[r];i.wE.SS.addEventListener(e,i.mF)}return i}qt(n,t);var i=n.prototype;return i.AP=function(){var t=this.wE.SS.readyState;return t>pa.$h&&this.wE.AF?pa.$h:(this.wE.SS.seeking&&t>pa.Jh&&(t=pa.Jh),t)},i.us=function(){for(var n=0;n<iR.length;n++){var i=iR[n];this.wE.SS.removeEventListener(i,this.mF)}t.prototype.us.call(this)},n}(nR),eR=function(t){function n(n){var i;(i=t.call(this,n)||this).wE.ps(Ta.Rf,i.mF);for(var r=0;r<iR.length;r++){var e=iR[r];i.wE.SS.addEventListener(e,i.mF)}return i}qt(n,t);var i=n.prototype;return i.AP=function(){if(this.wE.SS.readyState===pa.Zh)return pa.Zh;var t=this.bF(),n=t?t.om-t.um:0;if(!t)return pa.Jh;var i=this.wE.Iv;return this.TF()||n>=3*i?pa.tf:n>=3?pa.Kh:pa.$h},i.bF=function(){var t=this.wE.Av,n=this.wE.dl.Pm(.04),i=n.Fm(t);if(!(i<0))return{um:t,om:n.om(i)}},i.TF=function(){if(this.wE.Tv)return!0;var t=this.wE.bv,n=this.bF();return!!n&&t-n.om<=1/6},i.us=function(){this.wE.Ts(Ta.Rf,this.mF);for(var n=0;n<iR.length;n++){var i=iR[n];this.wE.SS.removeEventListener(i,this.mF)}t.prototype.us.call(this)},n}(nR),uR=[wa.Zc,Ta.pf,Ta.kf,Ta.Rf,Ta.Sf,Ta.vf,ca.Ph],sR=function(t){function n(n){var i;return(i=t.call(this,n)||this).EF=!1,i.SF=function(){i.EF=!0,i.po()},i.oa=n.SS,i.oa.addEventListener(wa.Yh,i.SF),i}qt(n,t);var i=n.prototype;return i.RF=function(){return this.EF&&t.prototype.RF.call(this)},i.po=function(){this.EF&&(this.oa.paused||this.oa.ended||this.oa.error)&&(this.EF=!1),t.prototype.po.call(this)},i.fh=function(){t.prototype.fh.call(this),this.EF=!1},i.us=function(){this.oa.removeEventListener(wa.Yh,this.SF),t.prototype.us.call(this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).IF=!1,i.zO=function(){i.po()},i.IE=n,i.IE.ps(uR,i.zO),i}qt(n,t);var i=n.prototype;return i.NF=function(){return this.IE.Mh<pa.Kh},i.RF=function(){return!this.IE.Nv&&!(this.IE.Rv||this.IE.Tv||this.IE.xs||this.NF())},i.po=function(){var t=this.IF;this.IF=this.RF(),!t&&this.IF&&this.ys(new Rw(this.IE.Av))},i.fh=function(){this.IF=!1},i.us=function(){this.bs(),this.IE.Ts(uR,this.zO)},n}(Fi)),oR=function(t){function n(n){var i;return(i=t.call(this,ca.Ph)||this).xs=n,i}return qt(n,t),n}(Vi);function aR(t,n,i,r,e,u,s){void 0===e&&(e=!1),void 0===u&&(u=0),void 0===s&&(s=t.length);for(var o=u,a=s-1;o<=a;){var c=o+(a-o>>1),h=r(i(t[c]),n);if(h<0)o=c+1;else if(h>0)a=c-1;else{if(!(e&&c>u&&0===r(i(t[c-1]),n)))return c;a=c-1}}return~o}function cR(t,n){return t.Ok<=n&&t.xk>n}function hR(t,n){return function(t,n){return Nf(t.Ok,n.Ok,Vv)}(t,n)||function(t,n){return Nf(t.xk,n.xk,Vv)}(t,n)}function fR(t,n){var i=aR(t,n,Q,hR,!0);if(i<0)return i;for(;i<t.length&&hR(n,t[i])===Ef.Ky;i++)if(t[i].hm(n))return i;return-(i+1)}function vR(t){var n=t.Mc;if(!n)return-1;if(t instanceof Wv)return n.DF(t);var i=n.Uh;if(!i)return-1;var r=fR(i.dh,t);return r>=0?r:-1}function dR(t,n){var i=function(t,n,i){for(var r=t.length,e=n.length,u=0,s=0,o=[],a=[];u<r&&s<e;){var c=t[u],h=n[s];c===h?(u++,s++):i(h,c)<=0?(o.push(h),s++):(a.push(c),u++)}for(;u<r;)a.push(t[u]),u++;for(;s<e;)o.push(n[s]),s++;return{CF:o,OF:a}}(t,n,hR);return function(t,n){for(var i=n.length,r=0;r<i;r++)t[r]=n[r];t.length=i}(t,n),i}var lR=function(){function t(t){this.Pc=void 0,this.xF=t}var n=t.prototype;return n.Lc=function(){return function(t){for(var n=[],i=0;i<t.lh;i++)n[i]=t.Vs(i).Bc;return n.item=function(n){var i=0|n,r=t.Vs(i);return r&&r.Bc||void 0},_.defineProperty(n,"constructor",{value:Fv}),n}(this)},n.gk=function(t){for(var n=this.xF,i=n.length-1;i>=0;i-=1){var r=n[i];if(t.hm(r))return!0}return!1},n.Vs=function(t){return this.xF[t]},T(t,[{key:"dh",get:function(){return this.xF}},{key:"lh",get:function(){return this.xF.length}},{key:"Bc",get:function(){if(this.Pc){var t=this.xF;this.Pc.length=t.length;for(var n=0;n<t.length;n++)this.Pc[n]=t[n].Bc}else this.Pc=this.Lc();return this.Pc}}]),t}(),_R=function(t){function n(n,i){var r;return(r=t.call(this,xo.Zc)||this).Mc=n,r.Mh=i,r}return qt(n,t),n.prototype.Lc=function(){return new gR(this.Mc.Bc,ga(this.Mh))},n}(Po),gR=function(t){function n(n,i){var r;return(r=t.call(this,"readystatechange")||this).track=n,r.readyState=i,r}return qt(n,t),n}(Bo),wR=function(t){function n(n){var i;return(i=t.call(this,xo.$c)||this).Mc=n,i}return qt(n,t),n.prototype.Lc=function(){return new yR(this.Mc.Bc)},n}(Po),yR=function(t){function n(n){var i;return(i=t.call(this,"typechange")||this).track=n,i}return qt(n,t),n}(Bo),mR=function(t){function n(n){var i;return(i=t.call(this,xo.Uc)||this).Ck=n,i}return qt(n,t),n.prototype.Lc=function(){return new kR(this.Ck.Bc)},n}(Po),kR=function(t){function n(n){var i;return(i=t.call(this,"addcue")||this).cue=n,i}return qt(n,t),n}(Bo),pR=function(t){function n(n){var i;return(i=t.call(this,xo.Hc)||this).Ck=n,i}return qt(n,t),n.prototype.Lc=function(){return new AR(this.Ck.Bc)},n}(Po),AR=function(t){function n(n){var i;return(i=t.call(this,"removecue")||this).cue=n,i}return qt(n,t),n}(Bo),bR=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this)||this).kk=String(TR++),o.mk=kv(),o.PF=!1,o.$f=aa.Ch,o.BF=Sv.NONE,o.LF=void 0,o.xF=[],o.MF=[],o.UF=0,o.FF=0,o.HF=s||"",o.VF=n,o.XF=r||"",o.PF=Boolean(e),o.pa=u||gf.DEFAULT,o.pk=i||"",o.WF=new lR(o.xF),o.qF=new lR(o.MF),o}qt(n,t);var i=n.prototype;return i.zF=function(t){return hi(this.WF.dh,function(n){return n.Th===t})},i.Lc=function(){return da(this)},i.ov=function(t){var n=fa(t);n!==this.Lh&&(this.$f=n,n===aa.Ch&&(this.MF.forEach(function(t){t.Jk=!1}),gi(this.MF),this.FF=0))},i.eb=function(t){if(t&&!t.Mc){var n=fR(this.Uh.dh,t);if(!(n>=0)){t.Mc=this;var i=-(n+1);this.xF.splice(i,0,t),this.GF(i),t.Gk=i,i<this.FF&&(this.FF=i),this.ys(new mR(t))}}},i.jF=function(t){if(t&&t.Mc===this){var n=this.DF(t);if(!(n<0)){t.Jk=!1;var i=this.MF,r=fR(i,t);r>=0&&di(i,r),di(this.xF,n),this.GF(n),t.Gk=-1,this.FF>n&&--this.FF,this.ys(new pR(t))}}},i.QF=function(t,n){var i=this.MF,r=this.xF,e=this.FF,u=!1;n&&(e=0);for(var s=i.length-1;s>=0;s--){cR(i[s],t)||(u=!0,di(i,s))}for(;e<r.length&&r[e].Ok<=t;){var o=r[e];cR(o,t)&&!li(i,o)&&(u=!0,i.push(o)),e++}u&&oi(i,hR),this.FF=e},i.DF=function(t){return(-1===t.Gk||t.Gk>=this.UF)&&this.YF(),t.Gk},i.YF=function(){for(var t=this.xF,n=this.UF;n<t.length;n++)t[n].Gk=n;this.UF=t.length},i.GF=function(t){t<this.UF&&(this.UF=t)},i.vh=function(){this.bs();for(var t=this.xF.slice(),n=0;n<t.length;n++){t[n].vh()}gi(this.xF),gi(this.MF)},T(n,[{key:"Fh",get:function(){return this.qF}},{key:"Uh",get:function(){return this.WF}},{key:"sb",get:function(){return this.PF},set:function(t){this.PF=t}},{key:"Bc",get:function(){return this.Pc||(this.Pc=this.Lc()),this.Pc}},{key:"Th",get:function(){return this.kk}},{key:"Eh",get:function(){return this.mk}},{key:"Bh",get:function(){return this.HF},set:function(t){this.HF=t}},{key:"Sh",get:function(){return this.VF}},{key:"Rh",get:function(){return this.pk},set:function(t){t!==this.pk&&(this.pk=t,this.ys(new wv(this)))}},{key:"Ih",get:function(){return this.XF}},{key:"Lh",get:function(){return this.$f},set:function(t){this.ov(t),this.ys(new Vo(this))}},{key:"Mh",get:function(){return this.BF},set:function(t){this.BF!==t&&(this.BF=t,this.ys(new _R(this,this.BF)))}},{key:"Hh",get:function(){return this.LF},set:function(t){this.LF=t}},{key:"Pu",get:function(){return this.pa},set:function(t){this.pa!==t&&(this.pa=t,this.ys(new wR(this)))}}]),n}(Fi),TR=0;var ER=function(t){function n(n){var i;(i=t.call(this)||this).ZF=[],i.JF=function(t){i.oh(t.Mc)},i.KF=function(t){var n=t.Mc;i.tH(n)||i.ah(n)};for(var r=0;r<n.length;r++){var e=n[r];i.nH(e)}return i}qt(n,t);var i=n.prototype;return i.nH=function(t){this.ZF.push(t);for(var n=0,i=t.dh;n<i.length;n++){var r=i[n];this.oh(r)}this.iH(t)},i.rH=function(t){vi(this.ZF,t),this.eH(t);for(var n=0,i=t.dh;n<i.length;n++){var r=i[n];this.tH(r)||this.ah(r)}},i.tH=function(t){for(var n=0,i=this.ZF;n<i.length;n++){if(i[n].hh(t))return!0}return!1},i.iH=function(t){t.ps(Ro.Dc,this.JF),t.ps(Ro.Oc,this.KF)},i.eH=function(t){t.Ts(Ro.Dc,this.JF),t.Ts(Ro.Oc,this.KF)},i.vh=function(){for(;this.ZF.length>0;)this.rH(this.ZF[0]);t.prototype.vh.call(this)},i.Lc=function(){return _a(this)},n}(Ho),SR=function(t){function n(n,i){var r;return(r=t.call(this,Dv.Nk,n)||this).Gp=i,r}return qt(n,t),n.prototype.Lc=function(){return new RR(this.Ck.Bc)},n}(Lv),RR=function(t){function n(n){return t.call(this,Cv.Nk,n)||this}return qt(n,t),n}(Mv),IR=function(t){function n(n,i){var r;return(r=t.call(this,Dv.Dk,n)||this).Gp=i,r}return qt(n,t),n.prototype.Lc=function(){return new NR(this.Ck.Bc)},n}(Lv),NR=function(t){function n(n){return t.call(this,Cv.Dk,n)||this}return qt(n,t),n}(Mv),DR=function(t){function n(n){var i;return(i=t.call(this,xo.Xc)||this).Ck=n,i}return qt(n,t),n.prototype.Lc=function(){return new CR(this.Ck.Bc)},n}(Po),CR=function(t){function n(n){var i;return(i=t.call(this,"entercue")||this).cue=n,i}return qt(n,t),n}(Bo),OR=function(t){function n(n){var i;return(i=t.call(this,xo.qc)||this).Ck=n,i}return qt(n,t),n.prototype.Lc=function(){return new xR(this.Ck.Bc)},n}(Po),xR=function(t){function n(n){var i;return(i=t.call(this,"exitcue")||this).cue=n,i}return qt(n,t),n}(Bo),PR=function(t){function n(n){var i;return(i=t.call(this)||this).Wk=void 0,i.Pc=void 0,i.qk=!1,i.zk="",i.uH=function(){i.Jk=!0},i.sH=function(){i.Jk=!1},i.oH=n,i.oH.addEventListener("enter",i.uH),i.oH.addEventListener("exit",i.sH),i}qt(n,t);var i=n.prototype;return i.Lc=function(){return Uv(this)},i.hm=function(t){return this===t||Yo(this,t)&&Xv(this,t)},i.vh=function(){this.bs(),this.oH.removeEventListener("enter",this.uH),this.oH.removeEventListener("exit",this.sH)},T(n,[{key:"Ok",get:function(){return this.oH.startTime},set:function(t){this.oH.startTime=t}},{key:"xk",get:function(){return this.oH.endTime},set:function(t){this.oH.endTime=t}},{key:"Pk",get:function(){return this.oH.text},set:function(t){this.oH.text=t+""}},{key:"Kk",get:function(){return!!this.oH.pauseOnExit},set:function(t){this.oH.pauseOnExit=!!t}},{key:"Mc",get:function(){return this.Wk},set:function(t){this.Wk=t}},{key:"Th",get:function(){return this.oH.id||""},set:function(t){this.oH.id=t||""}},{key:"Bc",get:function(){return this.Pc||(this.Pc=this.Lc()),this.Pc}},{key:"$k",get:function(){return this.zk},set:function(t){this.zk=t}},{key:"Jk",get:function(){return this.qk},set:function(t){this.Jk!==t&&(this.qk=t,t?(this.ys(new SR(this,this.Ok)),this.Wk&&this.Wk.ys(new DR(this))):(this.ys(new IR(this,this.xk)),this.Wk&&this.Wk.ys(new OR(this))))}}]),n}(ma),BR=function(t){function n(n){var i;return(i=t.call(this,xo.Gc)||this).Mc=n,i}return qt(n,t),n.prototype.Lc=function(){return new LR(this.Mc.Bc)},n}(Po),LR=function(t){function n(n){var i;return(i=t.call(this,"cuechange")||this).track=n,i}return qt(n,t),n}(Bo);function MR(t){if(t){var n=t.THEOplayerVTTRegion;return n||(n=new UR(t),t.THEOplayerVTTRegion=n),n}}var UR=function(){function t(t){this.Pc=void 0,this.aH=t}return T(t,[{key:"cH",get:function(){return this.aH}},{key:"Th",get:function(){return this.aH.id||""}},{key:"Ja",get:function(){return+this.aH.width||0},set:function(t){this.aH.width=t||0}},{key:"tp",get:function(){return+this.aH.lines||0},set:function(t){this.aH.lines=t||0}},{key:"np",get:function(){return+this.aH.regionAnchorX||0},set:function(t){this.aH.regionAnchorX=t||0}},{key:"ip",get:function(){return+this.aH.regionAnchorY||0},set:function(t){this.aH.regionAnchorY=t||0}},{key:"ep",get:function(){return+this.aH.viewportAnchorX||0},set:function(t){this.aH.viewportAnchorX=t||0}},{key:"sp",get:function(){return+this.aH.viewportAnchorY||0},set:function(t){this.aH.viewportAnchorY=t||0}},{key:"rp",get:function(){return this.aH.scroll||""}},{key:"Bc",get:function(){return this.Pc||(this.Pc=Zv(this)),this.Pc}}]),t}(),FR=function(t){function n(n){return t.call(this,n)||this}return qt(n,t),T(n,[{key:"Xk",get:function(){return this.oH.vertical||""},set:function(t){this.oH.vertical=t||""}},{key:"Vk",get:function(){return!!this.oH.snapToLines},set:function(t){this.oH.snapToLines=!!t}},{key:"Lk",get:function(){return this.oH.line},set:function(t){this.oH.line=t}},{key:"zs",get:function(){return+this.oH.size},set:function(t){this.oH.size=xt(t,0,100)}}]),n}(PR),HR=function(t){function n(n){return t.call(this,n)||this}return qt(n,t),n.prototype.hm=function(n){return this===n||Yo(this,n)&&t.prototype.hm.call(this,n)&&qv(this,n)},T(n,[{key:"Hk",get:function(){return MR(this.oH.region)}},{key:"Mk",get:function(){return this.oH.lineAlign||"start"},set:function(t){this.oH.lineAlign=t||"start"}},{key:"Uk",get:function(){return this.oH.position},set:function(t){this.oH.position=t}},{key:"Fk",get:function(){return this.oH.positionAlign||"auto"},set:function(t){this.oH.positionAlign=t||"auto"}},{key:"Bk",get:function(){return this.oH.align||"center"},set:function(t){this.oH.align=t||"center"}},{key:"Bc",get:function(){return this.Pc||(this.Pc=Hv(this)),this.Pc}}]),n}(FR),VR=function(t){function n(n){return t.call(this,n)||this}return qt(n,t),n.prototype.hm=function(n){return this===n||Yo(this,n)&&t.prototype.hm.call(this,n)&&qv(this,n)},T(n,[{key:"Hk",get:function(){return MR(this.cH)}},{key:"cH",get:function(){return function(t,n){if(void 0!==n){var i=t&&t.regions;return i&&i.getRegionById(n)||void 0}}(this.oH.track,this.oH.regionId)}},{key:"Mk",get:function(){return"middle"===(t=this.oH.lineAlign||"start")?"center":t;var t},set:function(t){var n;this.oH.lineAlign="center"===(n=t||"start")?"middle":n}},{key:"Uk",get:function(){return this.oH.position},set:function(t){var n,i;this.oH.position=(n=t,i=this.Bk,Bv(n,i))}},{key:"Fk",get:function(){return t=this.oH.positionAlign||"middle",xv[t];var t},set:function(t){var n,i;this.oH.positionAlign=(n=t||"center",i=this.Bk,Ov[Pv(n,i)])}},{key:"Bk",get:function(){return"middle"===(t=this.oH.align||"middle")?"center":t;var t},set:function(t){var n;this.oH.align="center"===(n=t||"center")?"middle":n}},{key:"Bc",get:function(){return this.Pc||(this.Pc=Hv(this)),this.Pc}}]),n}(FR);function XR(t,n){return t.Pk===n.Pk}function WR(t,n,i){for(var r=t[n].Ok,e=n;e>=0&&t[e].Ok===r;e--)t[e].xk=i}function qR(t){return Uv(t)}var zR,GR,jR=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).hH=i,r}return qt(n,t),n.prototype.hm=function(n){return this===n||Yo(this,n)&&t.prototype.hm.call(this,n)&&XR(this,n)},T(n,[{key:"Pk",get:function(){return this.hH}},{key:"Bc",get:function(){return this.Pc||(this.Pc=qR(this)),this.Pc}}]),n}(PR);function QR(t){switch(t){case zR.ISO_8859_1:case zR.UTF16_BOM:case zR.UTF16:case zR.UTF8:return!0}return!1}function YR(t){switch(t){case zR.ISO_8859_1:return Lr;case zR.UTF16_BOM:return Fr;case zR.UTF16:return Hr;case zR.UTF8:return jr}}function ZR(t,n){var i=n.Zs,r=t.byteLength,e=Kr(t);return n.js(r-i),ie(e,i,r).buffer}function JR(t,n){return{id:t||"",data:n instanceof ArrayBuffer?n:void 0}}function $R(t,n,i){var r=pr(t,n);if(QR(r)){var e=YR(r);return{id:i,language:Pr(t,n,3),description:e(t,n),text:e(t,n)}}}function KR(t,n,i){var r=pr(t,n);if(QR(r)){var e=YR(r);return{id:i,mimeType:Lr(t,n),fileName:e(t,n),description:e(t,n),data:ZR(t,n)}}}function tI(t,n,i){var r=pr(t,n);if(QR(r)){for(var e=YR(r),u=[];n.Zs<t.byteLength;)u.push({involvement:e(t,n),involvee:e(t,n)});return{id:i,entries:u}}}function nI(t,n,i){var r=pr(t,n);if(QR(r)){for(var e=YR(r),u=Pr(t,n,3),s=pr(t,n),o=pr(t,n),a=e(t,n),c=!1,h=[];n.Zs<t.byteLength;){var f=void 0;if(r===zR.UTF16_BOM){var v=Ur(t,n);void 0===v?v=c:c=v,f=Hr(t,n,v)}else f=e(t,n);if(!f||n.Zs+4>t.byteLength)break;h.push({text:f,timestamp:Nr(t,n)})}return{id:i,language:u,format:s,contentType:o,description:a,entries:h}}}function iI(t,n,i){return{id:i,ownerIdentifier:Lr(t,n),identifier:ZR(t,n)}}function rI(t,n,i){var r=pr(t,n);if(QR(r)){var e=YR(r);return{id:i,language:Pr(t,n,3),description:e(t,n),text:e(t,n)}}}function eI(t,n,i){var r=pr(t,n);if(QR(r))return{id:i,text:YR(r)(t,n)}}function uI(t,n,i){return{id:i,url:Lr(t,n)}}function sI(t,n,i){var r=pr(t,n);if(QR(r)){var e=YR(r);return{id:i,description:e(t,n),text:e(t,n)}}}function oI(t,n,i){var r=pr(t,n);if(QR(r))return{id:i,description:YR(r)(t,n),url:Lr(t,n)}}function aI(t,n,i){switch(i){case"COM":return $R(t,n,i);case"GEO":return KR(t,n,i);case"IPL":return tI(t,n,i);case"PIC":return function(t,n,i){var r=pr(t,n);if(QR(r)){var e,u,s=YR(r),o=Pr(t,n,3),a=pr(t,n),c=s(t,n);return"--\x3e"===o?(e=o,u=Lr(t,n)):(e="image/"+o.toLowerCase(),u=ZR(t,n)),{id:i,mimeType:e,pictureType:a,description:c,data:u}}}(t,n,i);case"SLT":return nI(t,n,i);case"TXX":return sI(t,n,i);case"UFI":return iI(t,n,i);case"ULT":return rI(t,n,i);case"WXX":return oI(t,n,i);default:if("T"===i.charAt(0))return eI(t,n,i);if("W"===i.charAt(0))return uI(t,n,i)}}function cI(t,n,i){switch(i){case"APIC":return function(t,n,i){var r=pr(t,n);if(QR(r)){var e=YR(r),u=Lr(t,n);return{id:i,mimeType:u,pictureType:pr(t,n),description:e(t,n),data:"--\x3e"===u?Lr(t,n):ZR(t,n)}}}(t,n,i);case"COMM":return $R(t,n,i);case"COMR":return function(t,n,i){var r=pr(t,n);if(QR(r)){var e,u,s=YR(r),o=Lr(t,n),a=Pr(t,n,8),c=Lr(t,n),h=pr(t,n),f=s(t,n),v=s(t,n);return n.Zs<t.byteLength&&(e=Lr(t,n)||"image/",u=ZR(t,n)),{id:i,price:o,validUntil:a,contactURL:c,receivedAs:h,nameOfSeller:f,description:v,pictureMimeType:e,sellerLogo:u}}}(t,n,i);case"GEOB":return KR(t,n,i);case"IPLS":return tI(t,n,i);case"PRIV":return function(t,n,i){return{id:i,ownerIdentifier:Lr(t,n),data:ZR(t,n)}}(t,n,i);case"POSS":return function(t,n,i){return{id:i,format:pr(t,n),position:Nr(t,n)}}(t,n,i);case"SYLT":return nI(t,n,i);case"TXXX":return sI(t,n,i);case"UFID":return iI(t,n,i);case"USER":return function(t,n,i){var r=pr(t,n);if(QR(r)){var e=YR(r);return{id:i,language:Pr(t,n,3),text:e(t,n)}}}(t,n,i);case"USLT":return rI(t,n,i);case"WXXX":return oI(t,n,i);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return eI(t,n,i);default:var r=i.charAt(0);if("T"===r)return eI(t,n,i);if("W"===r)return uI(t,n,i)}}!function(t){t[t.ISO_8859_1=0]="ISO_8859_1",t[t.UTF16_BOM=1]="UTF16_BOM",t[t.UTF16=2]="UTF16",t[t.UTF8=3]="UTF8"}(zR||(zR={})),function(t){t[t.V22=2]="V22",t[t.V23=3]="V23",t[t.V24=4]="V24"}(GR||(GR={}));var hI=10;function fI(t,n){return(127&pr(t,n))<<21|(127&pr(t,n))<<14|(127&pr(t,n))<<7|127&pr(t,n)}function vI(t,n){switch(t){case GR.V24:return{fH:kr(n,0),vH:kr(n,1),dH:kr(n,2),lH:kr(n,3)};case GR.V23:return{fH:kr(n,0),vH:kr(n,1),dH:kr(n,2)};case GR.V22:return{fH:kr(n,0),_H:kr(n,1)}}}function dI(t,n,i){switch(i.K_){case GR.V23:i.tg.vH&&function(t,n){var i=n.Zs,r=Nr(t,n)+4,e=32768&Rr(t,n);n.Qs(i+r),e&&Nr(t,n)}(t,n);break;case GR.V24:i.tg.vH&&function(t,n){var i=n.Zs,r=fI(t,n);n.Qs(i+r)}(t,n)}}function lI(t,n){if(t.byteLength-n.Zs<hI)return null;if(73!==pr(t,n)||68!==pr(t,n)||51!==pr(t,n))return null;var i=pr(t,n),r=pr(t,n);if(!function(t){switch(t){case GR.V22:case GR.V23:case GR.V24:return!0}return!1}(i))return null;var e=pr(t,n),u=fI(t,n);return{K_:i,gH:r,tg:vI(i,e),wH:u}}function _I(t,n,i){switch(i.K_){case GR.V22:return function(t,n,i){return{Th:Pr(t,n,3),zs:Sr(t,n,3)}}(t,n);case GR.V23:return function(t,n,i){var r=Pr(t,n,4),e=Nr(t,n);pr(t,n);var u=pr(t,n);return{Th:r,zs:e,tg:{_H:kr(u,0),yH:kr(u,1),groupingIdentity:kr(u,2)}}}(t,n);case GR.V24:return function(t,n,i){var r=Pr(t,n,4),e=fI(t,n);pr(t,n);var u=pr(t,n);return{Th:r,zs:e,tg:{groupingIdentity:kr(u,1),_H:kr(u,4),yH:kr(u,5),fH:kr(u,6),mH:kr(u,7)}}}(t,n)}}function gI(t){for(var n=new k(t.byteLength),i=0,r=0;r<t.byteLength;r++){var e=t.getUint8(r);255===e&&r++,n[i]=e,i++}return new DataView(n,0,i)}function wI(t,n){var i=n||new ee,r=lI(t,i);return r?{j_:r,kH:function(t,n,i){var r=[],e=n.Zs,u=Jr(t,e,e+i.wH),s=new ee;switch(n.js(i.wH),i.K_){case GR.V22:case GR.V23:i.tg.fH&&(u=gI(u))}dI(t,n,i);for(;s.Zs<u.byteLength;)r.push(yI(u,s,i));return r}(t,i,r)}:null}function yI(t,n,i){var r,e,u=_I(t,n,i),s=n.Zs,o=Jr(t,s,s+u.zs);switch(n.js(u.zs),i.K_){case GR.V22:var a=u;r=aI(e=o,new ee,a.Th);break;case GR.V23:var c=u,h=new ee;!function(t,n,i){var r,e,u,s=i.tg;s._H&&(r=Nr(t,n)),s.yH&&(e=pr(t,n)),s.groupingIdentity&&(u=pr(t,n))}(o,h,c),r=cI(e=Jr(o,h.Zs,o.byteLength),new ee,c.Th);break;case GR.V24:var f=u,v=new ee;f.tg.fH&&(o=gI(o)),function(t,n,i){var r,e,u,s,o=i.tg;o.groupingIdentity&&(r=pr(t,n)),o._H&&(e=Nr(t,n)),o.yH&&(u=pr(t,n)),o.mH&&(s=fI(t,n))}(o,v,f),r=cI(e=Jr(o,v.Zs,o.byteLength),new ee,f.Th)}if(!r){var d=re(Kr(e));r=JR(u.Th,d.buffer)}return r}function mI(t){return function(t,n,i){return eI(t,n,i)}(new DataView(t.data),new ee,t.key)}function kI(t){switch(t.key){case"APIC":case"PIC":return function(t){return{id:t.key,mimeType:t.type,pictureType:16,description:t.info,data:t.data}}(t);case"GEOB":case"GEO":return function(t){return{id:t.key,mimeType:t.type,fileName:t.name,description:t.info,data:t.data}}(t);case"PRIV":return function(t){return{id:t.key,ownerIdentifier:t.info,data:t.data}}(t);case"TXXX":case"TXX":return function(t){return{id:t.key,description:t.info,text:t.data}}(t);case"WXXX":case"WXX":return function(t){return{id:t.key,description:t.info,url:t.data}}(t);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return mI(t);default:var n=t.key.charAt(0);if("T"===n)return function(t){return{id:t.key,text:t.data}}(t);if("W"===n)return function(t){return{id:t.key,url:t.data}}(t)}return function(t){return JR(t.key,t.data)}(t)}var pI="org.id3";var AI=function(t){function n(n,i,r){var e;return void 0===r&&(r=!0),(e=t.call(this)||this).xF=[],e.MF=[],e.$f=aa.Ch,e.BF=Sv.NONE,e.LF=void 0,e.pa=gf.DEFAULT,e.pH=function(){e.AH(),e.yk.removeEventListener("cuechange",e.pH)},e.bH=function(){e.Lh!==aa.Ch&&(e.TH(),e.QF(),e.xF.length&&e.EH(Sv.LOADING))},e.SH=function(){e.EH(Sv.LOADED)},e.RH=function(){e.EH(Sv.ERROR)},e.yk=n,e.IH=r,e.yk.addEventListener("cuechange",e.pH),e.yk.addEventListener("cuechange",e.bH),e.NH=i,e.NH&&(e.LF=no(e.NH.src),e.NH.addEventListener("load",e.SH),e.NH.addEventListener("error",e.RH)),e.mk=kv(),e.pk=n.label||"",e.WF=new lR(e.xF),e.qF=new lR(e.MF),e.Lh=e.DH,Di(function(){e.bH(),e.EH(Sv.NONE)}),e}qt(n,t);var i=n.prototype;return i.Lc=function(){return da(this)},i.AH=function(){var t=this.Lh;this.CH||t!==aa.xh?this.DH=t:this.DH=aa.Oh},i.OH=function(){var t=this.Lh,n=this.DH;t!==n&&(this.CH||t!==aa.xh||n!==aa.Oh)&&("metadata"===this.Sh&&n===aa.Ch?this.Lh=t:this.Lh=n)},i.kF=function(t){this.BF!==t&&(this.BF=t,this.ys(new _R(this,t)))},i.EH=function(t){var n=g.max(this.BF,this.xH,t);this.kF(n)},i.PH=function(t){return t&&t.THEOplayerTextTrackCue||void 0},i.BH=function(t){var n=this.PH(t);if(n)return n;if(F(n=this.LH(t)))for(var i=0,r=n;i<r.length;i++){r[i].Mc=this}else n.Mc=this;return t.THEOplayerTextTrackCue=n,n},i.LH=function(t){return(n=t)&&n.type===pI&&n.value?(this.Pu=gf.ID3,function(t){var n;try{n=kI(t.value)}catch(t){n=JR("")}return new jR(t,n)}(t)):function(t){return!!(t&&t.data instanceof ArrayBuffer)}(t)?(this.Pu=gf.ID3,function(t){var n=[];try{var i=wI(new DataView(t.data));if(i)for(var r=0,e=i.kH;r<e.length;r++){var u=e[r];n.push(new jR(t,u))}}catch(t){}return n}(t)):function(t){return"text"in t}(t)?(this.Pu=gf.WEBVTT,function(t){return function(t){return"regionId"in t}(t)}(t)?new VR(t):new HR(t)):new PR(t);var n},i.MH=function(t){var n=[];if(!t)return n;for(var i=t.length,r=0;r<i;r++){var e=this.BH(t[r]||t.item(r));if(F(e))for(var u=0;u<e.length;u++){var s=e[u];n.push(s)}else n.push(e)}return n},i.TH=function(){for(var t=this.MH(this.yk.cues),n=dR(this.xF,t),i=0,r=n.OF;i<r.length;i++){var e=r[i];this.ys(new pR(e))}for(var u=0,s=n.CF;u<s.length;u++){var o=s[u];this.ys(new mR(o))}},i.QF=function(){for(var t=this.MH(this.yk.activeCues),n=dR(this.MF,t),i=0,r=n.OF;i<r.length;i++){r[i].Jk=!1}for(var e=0,u=n.CF;e<u.length;e++){u[e].Jk=!0}(n.CF.length||n.OF.length)&&this.ys(new BR(this))},i.vh=function(){this.bs();for(var t=this.xF.slice(),n=0;n<t.length;n++){t[n].vh()}gi(this.xF),gi(this.MF),this.yk.removeEventListener("cuechange",this.bH),this.NH&&(this.yk.removeEventListener("load",this.SH),this.yk.removeEventListener("error",this.RH)),this.NH&&Ve(this.NH)},T(n,[{key:"Fh",get:function(){return this.qF}},{key:"sb",get:function(){return this.NH?this.NH.default:void 0}},{key:"Uh",get:function(){return this.WF}},{key:"Bc",get:function(){return this.Pc||(this.Pc=this.Lc()),this.Pc}},{key:"Th",get:function(){return this.yk.id||this.NH&&this.NH.id||""}},{key:"Eh",get:function(){return this.mk}},{key:"Bh",get:function(){return this.yk.inBandMetadataTrackDispatchType||""}},{key:"Sh",get:function(){return this.yk.kind||Hf.ck}},{key:"Rh",get:function(){return this.pk},set:function(t){t!==this.Rh&&(this.pk=t,this.ys(new wv(this)))}},{key:"Ih",get:function(){return this.yk.language||""}},{key:"Lh",get:function(){return this.$f},set:function(t){var n=this.Lh;this.$f=fa(t),this.AH();var i=this.Lh;n!==i&&this.ys(new Vo(this)),i!==aa.Ch&&this.EH(Sv.LOADING)}},{key:"DH",get:function(){return fa(this.yk.mode)},set:function(t){this.yk.mode=t}},{key:"Ek",get:function(){return this.yk}},{key:"Mh",get:function(){return this.BF}},{key:"xH",get:function(){return this.NH?+this.NH.readyState||Sv.NONE:Sv.LOADED}},{key:"Hh",get:function(){return this.LF}},{key:"Pu",get:function(){return this.pa},set:function(t){this.pa!==t&&(this.pa=t,this.ys(new wR(this)))}},{key:"CH",get:function(){return this.IH},set:function(t){this.IH=t,this.AH()}}]),n}(Fi);function bI(t){return t instanceof AI}function TI(t,n){return If(t.Gp,n.Gp)||function(t,n){return t.Mc===n.Mc?Rf(vR(t),vR(n)):Vl(t.Mc,n.Mc)}(t.Ck,n.Ck)||function(t,n){return t===n?Ef.Ky:t===Dv.Nk?Ef.nm:Ef.tm}(t.type,n.type)}var EI=function(){function t(t,n){var i=this;this.Ld=[],this.UH=0,this.FH=0,this.HH=[],this.VH=!1,this.XH=!1,this.WH=void 0,this.qH=function(){i.UH=0,i.zH(),i.GH()},this.jH=function(){i.zH(),i.GH()},this.QH=function(){i.XH=!0,i.WH=i.bR.Av,i.YH()},this.ZH=function(){i.zH(),i.GH()},this.JH=function(){i.$H(),i.zH(),i.GH()},this.KH=function(){i.tV()},this.nV=function(t){vi(i.HH,t.Ck),i.tV()},this.iV=n,this.bR=t,t.ps(Ta.Pf,this.jH),t.ps(Ta.pf,this.jH),t.ps(wa.Yh,this.jH),t.ps(Ta.kf,this.jH),t.ps(Ta.Rf,this.QH),t.ps(Ta.Sf,this.ZH),this.tV()}var n=t.prototype;return n.fh=function(){gi(this.HH);for(var t=0,n=this.Ld.slice();t<n.length;t++){var i=n[t];this.ah(i)}this.YH(),this.UH=0,this.FH=0,this.VH=!1,this.XH=!1,this.WH=void 0},n.oh=function(t){li(this.Ld,t)||(this.Ld.push(t),t.ps(xo.Uc,this.KH),t.ps(xo.Hc,this.nV),t.ps(xo.Qc,this.JH),t.Uh.lh&&this.tV(),this.$H())},n.ah=function(t){if(vi(this.Ld,t)){if(t.Ts(xo.Uc,this.KH),t.Ts(xo.Hc,this.nV),t.Ts(xo.Qc,this.JH),t.Uh.lh){for(var n=0,i=t.Uh.dh;n<i.length;n++){var r=i[n];vi(this.HH,r)}this.tV()}this.$H()}},n.$H=function(){this.VH=this.Ld.some(function(t){return t.Lh!==aa.Ch})},n.GH=function(){this.bR.Nv||this.bR.Rv?this.YH():this.tV()},n.tV=function(){this.VH&&(this.UH||(this.UH=this.iV.rL(this.qH)))},n.YH=function(){this.UH&&(this.iV.rV(this.UH),this.UH=0)},n.zH=function(){var t;if(this.VH&&!this.bR.Nv){var n=this.Ld,i=this.FH,r=null!==(t=this.WH)&&void 0!==t?t:this.bR.Av,e=r-i<-.1,u=this.XH||e;u&&r>i&&r-i<.1&&(u=!1),this.XH=!1,this.WH=void 0;for(var s,o=[],a=0;a<n.length;a++){var c=n[a];if(c.Lh!==aa.Ch){c.QF(r,u);for(var h=0,f=c.Fh.dh;h<f.length;h++){var v=f[h];o.push(v)}}}if(u)s=this.HH;else{s=[];for(var d=0;d<n.length;d++){var l=n[d];l.Lh!==aa.Ch&&Hl(l,i-1/6,r,s)}}for(var _=s.length-1;_>=0;_--)li(o,s[_])&&di(s,_);var w=[];if(!u)for(var y=s.length-1;y>=0;y--){var m=s[y];m.Ok>=i&&m.xk<=r&&(w.push(m),di(s,y))}for(var k=[],p=[],A=0;A<w.length;A++){var b=w[A];b.Jk||k.push(new SR(b,b.Ok)),k.push(new IR(b,g.max(b.Ok,b.xk)))}for(var T=0,E=s;T<E.length;T++){var S=E[T];S.Jk&&(k.push(new IR(S,g.max(S.Ok,S.xk))),S.Jk=!1)}for(var R=0;R<o.length;R++){var I=o[R];I.Jk||(k.push(new SR(I,I.Ok)),I.Jk=!0)}k.sort(TI);for(var N=0;N<k.length;N++){var D=k[N],C=D.Ck;C.ys(D);var O=C.Mc;O&&(D.type===Dv.Nk?O.ys(new DR(C)):O.ys(new OR(C)),li(p,O)||p.push(O))}p.sort(Vl);for(var x=0;x<p.length;x++){var P=p[x];P.ys(new BR(P))}this.FH=r,this.HH=o}},n.vh=function(){this.fh(),this.bR.Ts(Ta.Pf,this.jH),this.bR.Ts(Ta.pf,this.jH),this.bR.Ts(wa.Yh,this.jH),this.bR.Ts(Ta.kf,this.jH),this.bR.Ts(Ta.Rf,this.QH),this.bR.Ts(Ta.Sf,this.ZH)},t}(),SI=new(function(){function t(){}var n=t.prototype;return n.rL=function(t){return RT(t)},n.rV=function(t){IT(t)},t}()),RI=function(t){function n(n,i){return void 0===i&&(i=SI),t.call(this,n,i)||this}return qt(n,t),n}(EI),II=function(t){function n(n,i){return t.call(this,n,1/0,i,!1)||this}return qt(n,t),n.prototype.hm=function(n){return this===n||Yo(this,n)&&t.prototype.hm.call(this,n)&&XR(this,n)},T(n,[{key:"Bc",get:function(){return this.Pc||(this.Pc=qR(this)),this.Pc}}]),n}(Wv),NI=function(t){function n(n,i,r){return void 0===r&&(r=gf.DEFAULT),t.call(this,Hf.T_,i||"","",!1,r,n)||this}return qt(n,t),n}(bR),DI=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Pu=gf.ID3,r}qt(n,t);var i=n.prototype;return i.eb=function(n){!function(t,n){if(0!==n.length){var i=n.length-1;if(n[i].Ok<t.Ok)WR(n,i,t.Ok);else{var r=n[0];if(r.Ok>t.Ok)t.xk=r.Ok;else{var e=fR(n,t);if(!(e>=0)){var u=-(e+1),s=u-1;if(s>=0&&n[s].Ok<t.Ok&&WR(n,s,t.Ok),u<n.length){var o=n[u];t.xk=o.Ok}}}}}}(n,this.xF),t.prototype.eb.call(this,n)},i.Lc=function(){return da(this)},n}(NI);function CI(t){var n=t&&t.THEOplayerTextTrackCue||void 0;if(n)return n;var i=t.startTime,r=kI(t.value);return t.THEOplayerTextTrackCue=new II(i,r),t.THEOplayerTextTrackCue}var OI=function(t){function n(n){var i;return(i=t.call(this,n.inBandMetadataTrackDispatchType,n.label)||this).bH=function(){i.Lh!==aa.Ch&&(i.TH(),i.EH(Sv.LOADED))},i.yk=n,i.yk.addEventListener("cuechange",i.bH),i.Lh=i.DH,Di(function(){i.bH()}),i}qt(n,t);var i=n.prototype;return i.ov=function(n){t.prototype.ov.call(this,n),this.DH=this.Lh},i.EH=function(t){this.Mh=g.max(this.Mh,t)},i.TH=function(){for(var t=function(t){for(var n=t.length,i=[],r=0;r<n;r++)i.push(CI(t[r]||t.item(r)));return oi(i,hR),i}(this.yk.cues),n=dR(this.Uh.dh.slice(),t),i=0,r=n.OF;i<r.length;i++){var e=r[i];this.jF(e)}for(var u=0,s=n.CF;u<s.length;u++){var o=s[u];this.eb(o)}},i.vh=function(){this.yk.removeEventListener("cuechange",this.bH),t.prototype.vh.call(this)},T(n,[{key:"Th",get:function(){return this.yk.id||""}},{key:"Bh",get:function(){return this.yk.inBandMetadataTrackDispatchType||""}},{key:"Ih",get:function(){return this.yk.language||""}},{key:"DH",get:function(){return fa(this.yk.mode)},set:function(t){this.yk.mode=t}},{key:"Ek",get:function(){return this.yk}}]),n}(DI),xI=function(t){function n(n){var i;return(i=t.call(this,0,n.Pk)||this).eV=n,i.xk=i.eV.Ok,i}return qt(n,t),T(n,[{key:"Th",get:function(){return this.eV.Th},set:function(t){this.eV.Th=t}},{key:"Kk",get:function(){return this.eV.Kk},set:function(t){this.eV.Kk=t}},{key:"$k",get:function(){return this.eV.$k},set:function(t){this.eV.$k=t}}]),n}(II);function PI(t){return void 0===t.uV&&(t.uV=new xI(t)),t.uV}var BI=function(t){function n(n,i){var r;(r=t.call(this,n.Bh,n.Rh)||this).Pu=gf.ID3,r.sV=function(t){r.oV(t.Ck)},r.aV=function(t){var n=t.Ck;if(void 0!==n.uV){var i=n.uV;n.uV=void 0,r.jF(i),i.vh()}},r.cV=function(t){var n=PI(t.Ck);n.Jk||r.hV(n),r.fV(n)},r.vV=function(t){var n=t.Ck,i=PI(n);r.dV.Av<n.Ok&&r.hV(i)},r.lV=function(){var t=r._V,n=r.Lh;if(r._V=n,n===aa.Ch)r.MF.forEach(function(t){return t.Jk=!1}),gi(r.MF);else if(t===aa.Ch)for(var i=r.dV.Av,e=0,u=r.xF;e<u.length;e++){var s=u[e];i<s.xk&&r.hV(s)}},r.dV=i,r.gV=n,r._V=n.Lh,n.ps(xo.Uc,r.sV),n.ps(xo.Hc,r.aV),n.ps(xo.Xc,r.cV),n.ps(xo.qc,r.vV),n.ps(xo.Qc,r.lV);for(var e=0,u=r.gV.Uh.dh;e<u.length;e++){var s=u[e];r.oV(s)}return r}qt(n,t);var i=n.prototype;return i.hV=function(t){var n=fR(this.MF,t);if(!(n>=0)){var i=-(n+1);this.MF.splice(i,0,t),t.Jk=!0,t.ys(new SR(t,this.dV.Av)),this.ys(new DR(t)),this.ys(new BR(this))}},i.fV=function(t){var n=fR(this.MF,t);n>=0&&di(this.MF,n),t.Jk=!1,t.ys(new IR(t,this.dV.Av)),this.ys(new OR(t)),this.ys(new BR(this))},i.vh=function(){this.gV.Ts(xo.Uc,this.sV),this.gV.Ts(xo.Hc,this.aV),this.gV.Ts(xo.Xc,this.cV),this.gV.Ts(xo.qc,this.vV),this.gV.Ts(xo.Qc,this.lV),t.prototype.vh.call(this)},i.oV=function(t){var n=PI(t);(this.eb(n),this.Lh!==aa.Ch)&&(this.dV.Av<n.xk&&this.hV(n))},T(n,[{key:"Sh",get:function(){return this.gV.Sh}},{key:"Rh",get:function(){return this.gV.Rh},set:function(t){this.gV.Rh=t}},{key:"Ih",get:function(){return this.gV.Ih}},{key:"Th",get:function(){return this.gV.Th}},{key:"Eh",get:function(){return this.gV.Eh}},{key:"Bh",get:function(){return this.gV.Bh}},{key:"Lh",get:function(){return this.gV.Lh},set:function(t){this.gV.Lh=t}},{key:"Mh",get:function(){return this.gV.Mh}},{key:"Hh",get:function(){return this.gV.Hh}}]),n}(NI),LI=function(t){function n(n){var i;return(i=t.call(this)||this).dV=n,i}qt(n,t);var i=n.prototype;return i.oh=function(n){if(n.Pu===gf.ID3){var i=n;return i.uV||(i.uV=new BI(i,this.dV)),t.prototype.oh.call(this,i.uV)}return t.prototype.oh.call(this,n)},i.ah=function(n){if(n.Pu===gf.ID3){var i=n;return!!i.uV&&t.prototype.ah.call(this,i.uV)}return t.prototype.ah.call(this,n)},n}(ya),MI=function(t){function n(n,i){var r;return(r=t.call(this)||this).JA=n,r.wV=i,r.yV=new Rn,r.JF=function(){var t=vn.coroutine(fn.mark(function t(n){var i;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((i=n.Mc).Pu){t.next=4;break}return t.next=4,i.Rs(xo.$c);case 4:if(i.Pu===gf.ID3){t.next=6;break}return t.abrupt("return");case 6:if(0!==i.Uh.lh){t.next=11;break}return t.next=9,i.Rs(xo.Uc);case 9:t.next=6;break;case 11:r.mV(i);case 12:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.KF=function(t){var n=t.Mc;if(n.Pu===gf.ID3&&r.yV.has(n.Eh)){var i=r.yV.get(n.Eh);r.ah(i),r.JA.ub(i),n.Ts(xo.Uc,r.oV)}},r.oV=function(t){UI(t.Ck)&&r.kV(t.Ck)},r.pV(),r}qt(n,t);var i=n.prototype;return i.pV=function(){this.wV.ps(Ro.Dc,this.JF),this.wV.ps(Ro.Oc,this.KF)},i.AV=function(){this.wV.Ts(Ro.Dc,this.JF),this.wV.Ts(Ro.Oc,this.KF)},i.mV=function(t){var n=t.Uh.dh[0];if(UI(n)){var i=function(t){var n=t.match(FI);if(!n)return;return{Mc:n[1],Ih:n[2]}}(n.Pk.description),r=i.Mc,e=i.Ih;if(!this.bV(r,e)){var u=this.JA.nb(Hf.ck,r,e,!1,gf.TTML);this.oh(u),this.yV.set(t.Eh,u);for(var s=0,o=t.Uh.dh;s<o.length;s++){var a=o[s];UI(a)&&this.kV(a)}t.ps(xo.Uc,this.oV)}}},i.bV=function(t,n){return!!hi(this.lg.dh,function(i){return i.Rh===t&&i.Ih===n})},i.kV=function(t){if(t.Mc)for(var n=this.yV.get(t.Mc.Eh),i=yl(t.Pk.text,0,{yA:0,mA:1/0,kA:-t.xk}),r=0;r<i.length;r++){var e=i[r];n.eb(e)}},i.fh=function(){var n=vn.coroutine(fn.mark(function n(){var i,r,e,u,s;return fn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(i=0,r=this.wV.dh;i<r.length;i++)r[i].Ts(xo.Uc,this.oV);for(e=0,u=this.lg.dh;e<u.length;e++)s=u[e],this.JA.ub(s);return this.yV.clear(),n.next=5,t.prototype.fh.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i.vh=function(){var n=vn.coroutine(fn.mark(function n(){return fn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.AV(),n.next=3,t.prototype.vh.call(this);case 3:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),n}(Cl);function UI(t){return function(t){return"TXXX"===t.id||"TXX"===t.id}(n=t.Pk)&&FI.test(n.description);var n}var FI=/^Track:(.+),Lang:(.+)$/;var HI=P.$t||P.Kt,VI=P.Gt,XI=.5,WI=5,qI=P.un,zI=[Ta.Bf,Ta.bf,Ta.Rf,Ta.pf,Ta.kf],GI=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).sS=void 0,e._R=!0,e.vE=void 0,e.TV=new Kl,e.EV=void 0,e.SV=void 0,e.RV=void 0,e.IV=void 0,e._L=!1,e.NV=vn.resolve(),e.DV=new ki,e.CV=[],e.OV=xf.ik(),e.xV=void 0,e.PV=1,e.BV=!1,e.LV=!1,e.MV=!1,e.UV=!1,e.FV=!1,e.HV=!1,e.VV=0,e.XV=function(t){var n=t.track,i=e.WV(n);e.qV(n,i)},e.zV=function(t){var n=function(t,n){for(var i=0,r=t.dh;i<r.length;i++){var e=r[i];if(e.Ek===n)return e}return}(e.GV,t.track);n&&e.GV.ah(n)},e.jV=function(){for(var t=0;t<e.Ld.lh;t++){var n=e.Ld.sh(t);n instanceof AI&&n.OH()}},e.QV=function(){for(var t=e.GV.dh,n=0;n<t.length;n++){var i=t[n];e.GV.ah(i)}},e.YV=function(){var t=e.vE,n=t.dF,i=t.lF;if(n&&i)if(t.JL)e.ZV();else if(t.Mh!==YS.WU){var r=n.dl,u=i.dl;if(0!==r.lh&&0!==u.lh){var s=e.Av;if(s<r.um(0)||s<u.um(0))e.ZV();else if(r.Sm(s)!==u.Sm(s))e.JV();else if(e.ZV(),!e.VV&&e.$V.RF())r.Mm(u).Xm(s,s+XI)&&(e.VV=RT(e.KV))}else e.ZV()}},e.KV=function(){e.VV=0,e.YV()},e.tX=function(){if(!(e.Nv||e.Mh>=pa.Kh)){0;var t=e.vE,n=t.dF,i=t.lF;if(n&&i){var r=e.Av,u=n.dl,s=i.dl;if(u.Sm(r)&&s.Sm(r))u.Mm(s).Xm(r-WI,r)&&e.Qs(r)}}},e.nX=function(){e.ys(new Ma(e.Av))},e.iX=function(){e.rX(new pi),e.ys(new Fa(e.Av))},e.eX=function(){e.uX(),e.ys(new Rw(e.Av))},e.sX=function(){e.oX(e.Iv)},e.aX=function(){e.ys(new Ba(e.bv))},e.cX=function(){e.ys(new SS(e.Av))},e.hX=function(){e.ys(new RS)},e.fX=function(){var t=e.Av,n=e.Nv,i=e.Mh<pa.Kh&&!e.Tv,r=void 0!==e.IV,u=r&&e.IV!==t;(n||!r||u&&!i)&&(e.ys(new xa(e.Av,void 0)),e.IV=t)},e.vX=function(){!e.BV&&e.Tv&&(e.BV=!0,e.ys(new Oa(e.Av)))},e.dX=function(){var t;if(null!==e.oa.error){var n=e.oa.error;e.sS=new Qc(null!==(t=n.code)&&void 0!==t?t:qc.DECODE,n.message||"Error decoding media",void 0,n.msExtendedCode),e.lX(e.sS),e.ys(new oR(e.sS))}else e.sS=void 0},e._X=function(){e.ys(new Ia(e.Av,e.Ov))},e.gX=function(){e.Cv>0&&e.Dv>0&&e.ys(new $l)},e.wX=function(t){e.ys(new zi(t.initDataType,t.initData||new ArrayBuffer(0)))},e.yX=function(){e.ys(new Gi)},e.mX=function(t){var n=t.initData,i=n?re(n).buffer:new ArrayBuffer(0);e.ys(new zi(Dn,i))},e.kX=function(t){if(t.initData){var n=jI(t.initData);if(!n)return;e.ys(new zi(On,n))}else e.ys(new zi(On,new ArrayBuffer(0)))},e.pX=function(t){var n=t.initData,i=n?re(n).buffer:new ArrayBuffer(0);e.ys(new zi(Dn,i))},e.AX=function(){e.uX()},e.bX=function(t){e.rX(t)},e.oa=n,e.Xu=i,e.TX=r,e.EX=new rR(jt(e)),e.$V=new sR(jt(e)),e.$V.ps(wa.Yh,e.eX),e.Ld=new Dl,e.SX=new Dl,e.GV=new Dl,e.RX=new ER([e.Ld,e.SX,e.GV]),e.IX=new LI(jt(e)),e.IX.kh=e.RX,e.NX=new MI(jt(e),e.IX),e.DX=new ER([e.RX,e.NX.lg]),e.CX=new RI(jt(e)),e.OX(),e.DS(),e}qt(n,t);var i=n.prototype;return i.xX=function(){this.SS.ended||this.Av===this.bv||(this.BV=!1)},i.PX=function(){return void 0!==this.SV&&this.bv===this.SV},i.oX=function(t){this.PV!==t&&(this.PV=t,this.ys(new Pa(this.Av,t)))},i.jS=function(){return AE(this.oa)},i.qd=function(){var t=this.BX();return this.LX(),t},i.LX=function(){this.MV?this.UV&&(this.UV=!1,this.ys(new Ma(this.Av))):this.MX()},i.MX=function(){if(this.EV)this.EV.qd();else{P.un&&!P.Xt&&this.oa.preload===qw.vR&&(this.oa.preload=qw.T_);var t=this.Iv,n=this.oa.play();t!==this.SS.playbackRate&&(this.Iv=t),q(n)?n.then(this.AX,this.bX):this.$V.RF()&&this.uX()}},i.zd=function(){this.MV?this.UV||(this.UV=!0,this.ys(new Fa(this.Av))):this.UX()},i.UX=function(){this.EV?this.EV.zd():(this.oa.pause(),this.$V.po()),this.lX(new pi)},i.BX=function(){var t=new se;return this.CV.push(t),t.to},i.FX=function(){for(var t=0,n=this.CV;t<n.length;t++){n[t].io(void 0)}gi(this.CV)},i.lX=function(t){for(var n=0,i=this.CV;n<i.length;n++){i[n].ro(t)}gi(this.CV)},i.uX=function(){this.MV||this.EV||this.FX()},i.rX=function(t){this.MV||this.EV||this.lX(t)},i.Qs=function(t,n){this.EV?this.EV.Av=t:(this.DV.fs(),this.DV=new ki,this.NV=this.HX(t,this.NV,this.DV.ls).catch(j))},i.GS=function(t){if(this.oa.getStartDate){var n=this.oa.getStartDate();if(n&&!m(n.getTime())){var i=(t.getTime()-n.getTime())/1e3;this.Qs(i)}}},i.HX=function(){var t=vn.coroutine(fn.mark(function t(n,i,r){var e,u,s,o,a,c,h,f,v=this;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.SV=n,this._L=!0,this.BV&&!this.PX()&&(this.BV=!1),this.ys(new Da(n)),t.next=7,i.catch(j);case 7:if(bi(r),this.LV&&this.VX(),this.Mh!==pa.Zh){t.next=12;break}return t.next=12,this.Rs(wa.Zc,r);case 12:if(0!==this.oa.seekable.length){t.next=18;break}return t.next=15,vn.race([Va(this.oa,"timeupdate",r),Pi(100,r)]);case 15:bi(r),t.next=12;break;case 18:e=this.XX(n),u=this.Sl,s=!0,o=!1;case 22:if((u=this.Sl).lh>0&&!u.Sm(e)&&(e=u.Tm(e),s=!0),qI&&void 0!==(a=this.WX())&&e>a&&(e=a,s=!0),o){t.next=36;break}if(!(void 0!==(c=this.qX())&&e>c)){t.next=36;break}return o=!0,t.next=32,this.zX(c,r);case 32:return t.next=34,Va(this.oa,"seeked",r);case 34:bi(r),s=!0;case 36:if(!s){t.next=55;break}return s=!1,t.next=40,this.zX(e,r);case 40:bi(r),h=this.Av,u=this.Sl,e=u.Tm(e),f=1;case 45:if(!(g.abs(e-h)>=1/6)){t.next=55;break}return u=this.Sl,e=YI(e,u,f),t.next=50,this.zX(e,r);case 50:bi(r),h=this.Av,f++,t.next=45;break;case 55:if(this.oa.seeking||this.Mh<pa.$h){t.next=57;break}return t.abrupt("break",62);case 57:return t.next=59,Ii(function(t){var n;return vn.race([Va(v.oa,"seeked",t),v.Rs([Ta.Af,Ta.hf,wa.Zc],t),null===(n=v.vE)||void 0===n?void 0:n.Rs(lS.Zy,t)].filter(M))},r);case 59:bi(r),t.next=22;break;case 62:this.GX(),t.next=70;break;case 65:if(t.prev=65,t.t0=t.catch(0),!Ai(t.t0)){t.next=69;break}return t.abrupt("return");case 69:0;case 70:case"end":return t.stop()}},t,this,[[0,65]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.zX=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r,e,u;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(bi(i),r=this.Sl,n=r.Tm(n),!this.LV){t.next=18;break}e=!0;case 5:if(!(e||this.Mh<pa.Kh)){t.next=17;break}if((r=this.Sl).Sm(n)||(n=r.Tm(n),e=!0),!e){t.next=13;break}return e=!1,this.SV=n,this.ys(new Da(this.Av)),t.abrupt("continue",5);case 13:return t.next=15,this.Rs([wa.Zc,Ta.hf],i);case 15:t.next=5;break;case 17:bi(i);case 18:if(u=Va(this.oa,"seeking",i),this.oa.currentTime=n,this.SV=void 0,this.ys(new Da(this.Av)),!this.oa.seeking){t.next=25;break}return t.next=25,u;case 25:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.XX=function(t){var n=this.dl;if(n&&!n.Sm(t)){var i=n.Fm(t,.05);if(i>-1){var r=n.um(i);if(t<r)return r}}return t},i.WX=function(){if(this.vE&&this.vE.JL){var t=this.vE.$L,n=this.vE.KL,i=t&&n?t.Nm(n):t||n;if(i&&0!==i.lh){var r=i.um(i.lh-1),e=i.om(i.lh-1);return g.max(r,e-.001)}}},i.qX=function(){if(this.vE&&this.vE.JL){var t=this.vE.KL;if(t&&0!==t.lh){var n=t.um(t.lh-1),i=t.om(t.lh-1)-.02;return i-=.001,g.max(n,i)}}},i.GX=function(){this._L=!1,this.LV&&this.jX(),this.ys(new Na(this.Av))},i.VX=function(){this.MV||(this.UV=this.Rv,this.MV=!0,this.UX())},i.jX=function(){this.MV&&(this.MV=!1,this.UV||this.LX())},i.ZL=function(){var t=vn.coroutine(fn.mark(function t(n){var i,r;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0;case 1:if(!(i<n.length)){t.next=12;break}if((r=n[i]).Pu!==Kg.SE||!ES.ZL(r,this.oa)){t.next=7;break}return t.abrupt("return",r);case 7:if(r.Pu!==Kg.RE||!KS.ZL(r)){t.next=9;break}return t.abrupt("return",r);case 9:i++,t.next=1;break;case 12:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.il=function(){this._R=!1,je(this.oa)&&(this.oa.style.display="none")},i.nl=function(){this._R=!0,je(this.oa)&&(this.oa.style.display="block")},i.nb=function(t,n,i,r,e,u){var s=new bR(t,n,i,r,e,u);return this.Ld.oh(s),this.CX.oh(s),s},i.US=function(){return!0},i.HS=function(t,n,i,r){var e=s.createElement("track");e.src=no(t),e.kind=n,e.label=null!=i?i:"",r&&(e.srclang=r),e.id=Iy(),this.oa.appendChild(e);var u=this.oa.textTracks.getTrackById(e.id),o=new AI(u,e);return this.SX.oh(o),o},i.ub=function(t){this.Ld.ah(t),this.CX.ah(t)},i.DS=function(){var t=this.oa.textTracks;t&&t.addEventListener&&(t.addEventListener("addtrack",this.XV),t.addEventListener("removetrack",this.zV),t.addEventListener("change",this.jV)),this.oa.addEventListener("emptied",this.QV)},i.qS=function(){var t=this.oa.textTracks;t&&t.removeEventListener&&(t.removeEventListener("addtrack",this.XV),t.removeEventListener("removetrack",this.zV),t.removeEventListener("change",this.jV)),this.oa.removeEventListener("emptied",this.QV)},i.qV=function(t,n){if(P.un){if(t.kind===Hf.T_)return void this.QX(t);if(t.kind===Hf.hk&&!ZI(t))return void this.YX(t,n)}this.SX.dh.map(function(t){return t.Th}).indexOf(t.id)<0&&this.GV.oh(new AI(t,n))},i.QX=function(t){t.mode=aa.Oh;var n=new OI(t);this.GV.oh(n),this.CX.oh(n)},i.YX=function(t,n){var i=this;t.addEventListener("cuechange",function r(){ZI(t)&&(t.removeEventListener("cuechange",r),i.GV.oh(new AI(t,n)))}),t.mode=aa.Oh},i.WV=function(t){for(var n=this.oa.getElementsByTagName("track"),i=0;i<n.length;i++){var r=n[i]||n.item(i);if(r.track===t)return r}},i.mo=function(t){var n=this;return this.TV.vb(function(){var i=vn.coroutine(fn.mark(function i(r){var e;return fn.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(bi(r),!n.vE){i.next=3;break}throw new d("Already loaded a media source");case 3:if(t.Pu!==Kg.SE){i.next=9;break}e=new ES(t,n,n.Xu),n.LV=!1,n.ZX(new rR(n)),i.next=17;break;case 9:if(t.Pu!==Kg.RE){i.next=16;break}e=new KS(t,n,n.Xu),n.LV=HI,n.ZX(n.LV?new eR(n):new rR(n)),VI&&(n.ps(Ta.Pf,n.YV),n.ps(wa.Zc,n.tX)),i.next=17;break;case 16:throw new d("Unsupported configuration");case 17:return n.vE=e,i.next=20,e.wb();case 20:return i.abrupt("return",e);case 21:case"end":return i.stop()}},i)}));return function(t){return i.apply(this,arguments)}}())},i.JV=function(){if(!this.FV){var t=this.Iv;this.FV=!0,this.Iv=t,this.oa.playbackRate=0,this.EX&&this.EX.kF()}},i.ZV=function(){if(this.FV){var t=this.Iv;this.FV=!1,this.Iv=t,this.oa.currentTime=this.oa.currentTime,this.EX&&this.EX.kF()}},i.ZX=function(t){var n=this.Mh;this.EX.us(),this.EX=t,this.EX.ps(wa.Zc,this.gs);var i=this.Mh;n!==i&&this.ys(new ba(this.Av,i))},i.fh=function(){var t=vn.coroutine(fn.mark(function t(){var n=this;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this._L=!1,this.OV=xf.ik(),this.DV.fs(),this.SV=void 0,this.RV=void 0,this.LV=!1,this.MV=!1,this.sS=void 0,this.BV=!1,this.IV=void 0,this.lX(new pi),this.ZX(new rR(this)),this.$V.fh(),this.ZV(),VI&&(IT(this.VV),this.VV=0,this.Ts(Ta.Pf,this.YV),this.Ts(wa.Zc,this.tX)),this.Ld.fh(),this.SX.dh.forEach(function(t){return t.vh()}),this.SX.fh(),t.next=20,this.TV.fs();case 20:return t.next=22,this.TV.vb(vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.vE){t.next=4;break}return t.next=3,n.vE.us();case 3:n.vE=void 0;case 4:case"end":return t.stop()}},t)})));case 22:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.us=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.JX(),this.qS(),t.next=4,this.fh();case 4:return t.next=6,this.TV.vh();case 6:return this.$V.us(),this.EX.us(),this.Ld.vh(),this.IX.vh(),this.GV.vh(),this.SX.vh(),t.next=14,this.NX.vh();case 14:this.RX.vh(),this.DX.vh();case 16:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.OX=function(){this.SS.addEventListener("play",this.nX),this.SS.addEventListener("pause",this.iX),this.SS.addEventListener("timeupdate",this.fX),this.SS.addEventListener("progress",this.cX),this.SS.addEventListener("loadstart",this.hX),this.SS.addEventListener("ended",this.vX),this.SS.addEventListener("ratechange",this.sX),this.SS.addEventListener("volumechange",this._X),this.SS.addEventListener("durationchange",this.aX),this.SS.addEventListener("resize",this.gX),this.SS.addEventListener("loadedmetadata",this.gX),this.SS.addEventListener("error",this.dX),ei()?(this.oa.addEventListener("encrypted",this.wX),this.oa.addEventListener("waitingforkey",this.yX)):void 0!==Tn.WebKitMediaKeys&&"function"==typeof Tn.WebKitMediaKeys.isTypeSupported?this.oa.addEventListener("webkitneedkey",this.kX):ui()?this.oa.addEventListener("webkitneedkey",this.pX):void 0!==Tn.MSMediaKeys&&"function"==typeof Tn.MSMediaKeys.isTypeSupported&&this.oa.addEventListener("msneedkey",this.mX)},i.JX=function(){this.SS.removeEventListener("play",this.nX),this.SS.removeEventListener("pause",this.iX),this.SS.removeEventListener("timeupdate",this.fX),this.SS.removeEventListener("progress",this.cX),this.SS.removeEventListener("loadstart",this.hX),this.SS.removeEventListener("ended",this.vX),this.SS.removeEventListener("ratechange",this.sX),this.SS.removeEventListener("volumechange",this._X),this.SS.removeEventListener("durationchange",this.aX),this.SS.removeEventListener("resize",this.gX),this.SS.removeEventListener("loadedmetadata",this.gX),this.SS.removeEventListener("error",this.dX),this.SS.removeEventListener("encrypted",this.wX),this.SS.removeEventListener("waitingforkey",this.yX),this.SS.removeEventListener("msneedkey",this.mX),this.SS.removeEventListener("webkitneedkey",this.kX)},i.fF=function(){this.EV||(this.OV=this.Tl,this.EV=new tR(this.Av,this.bv,this.Tv,this.Rv,this.Nv,this.Sv,this.Iv,this.Ov),this.JX(),this.EV.ps(zI,this.gs))},i.vF=function(){if(this.EV){var t=this.EV;this.EV=void 0,t.bv===this.bv||m(t.bv)&&m(this.bv)||this.ys(new Ba(this.bv)),this.Iv=t.Iv,t.Rv?this.zd():this.LX(),t.Av!==this.Av?this.Qs(t.Av):!t.Nv&&this.Nv?this.ys(new Da(this.Av)):t.Nv&&!this.Nv&&this.ys(new Na(this.Av)),!t.Tv&&this.Tv&&this.ys(new Oa(this.Av)),t.Ts(zI,this.gs),this.OX()}},i.$X=function(){this.HV=!0},i.KX=function(t){t.appendChild(this.oa)},i.$U=function(){VI&&this.YV(),this.EX.kF()},T(n,[{key:"AF",get:function(){return this.FV}},{key:"dl",get:function(){return this.vE?this.vE.dl:xf.ik()}},{key:"ll",get:function(){var t=this.QS;if(t&&!m(t.getTime())){var n=1e3*this.Av;return new Date(t.getTime()+n)}}},{key:"QS",get:function(){if(this.SS.getStartDate)return this._L&&this.RV||(this.RV=this.SS.getStartDate()),this.RV}},{key:"Av",get:function(){return this.EV?this.EV.Av:void 0!==this.SV?this.SV:this.oa.currentTime}},{key:"JB",get:function(){return this.TX}},{key:"bv",get:function(){return this.EV?this.EV.bv:this.vE?this.vE.bv:this.oa.duration}},{key:"Tv",get:function(){return this.Nv?this.PX():this.EV?this.EV.Tv:this.oa.ended||this.BV}},{key:"xs",get:function(){return this.sS}},{key:"SS",get:function(){return this.oa}},{key:"Rv",get:function(){return this.MV?this.UV:this.EV?this.EV.Rv:this.oa.paused}},{key:"Tl",get:function(){return this.OV.Lm(xf.$m(this.oa.played))}},{key:"Cg",get:function(){return this.oa.offsetHeight*r.wc.qa}},{key:"Ja",get:function(){return this.oa.offsetWidth*r.wc.qa}},{key:"XS",get:function(){return Jw}},{key:"Mh",get:function(){return this.EX.Mh}},{key:"Sl",get:function(){return this.vE?this.vE.Sl:xf.ik()}},{key:"Nv",get:function(){return this.EV?this.EV.Nv:this._L}},{key:"Sv",get:function(){return this.EV?this.EV.Sv:this.oa.muted},set:function(t){this.EV?this.EV.Sv=t:this.oa.muted=t}},{key:"Iv",get:function(){return this.EV?this.EV.Iv:void 0!==this.xV?this.xV:this.oa.playbackRate},set:function(t){this.EV?this.EV.Iv=t:this.Rv||this.FV?(this.xV=t,this.oX(t)):(this.xV=void 0,this.oa.playbackRate=t)}},{key:"tW",get:function(){return this._R}},{key:"Ov",get:function(){return this.EV?this.EV.Ov:this.oa.volume},set:function(t){this.EV?this.EV.Ov=t:this.oa.volume=t}},{key:"Xd",get:function(){return this.DX}},{key:"gl",get:function(){return!!this.oa.webkitCurrentPlaybackTargetIsWireless}},{key:"nW",get:function(){return this.HV}},{key:"iW",get:function(){return dn(dn({},yS),{FL:!0})}}]),n}(Fi);function jI(t){try{var n=$r(t),i=new ee;return qr(zr(br(n,i,Nr(n,i,!0)),!0))}catch(t){return}}var QI=.01;function YI(t,n,i){if(void 0===i&&(i=0),!n.lh)return 0;var r=n.Tm(t),e=QI*i;return r===n.um(0)?r+=e:r===n.om(n.lh-1)&&(r-=e),r}function ZI(t){return!!t.cues&&t.cues.length>0}var JI=function(t){function n(){return t.apply(this,arguments)||this}return qt(n,t),n.prototype.ul=function(){},T(n,[{key:"Dv",get:function(){return 0}},{key:"Cv",get:function(){return 0}}]),n}(GI),$I="theoplayer-texttracks",KI=function(){function t(t){void 0===t&&(t=5);var n=Tn.document.createElement("div");n.className=$I,n.style.position="absolute",n.style.display="none",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="10%",n.style.bottom="80%",n.style.bottom="10%",n.style.left="0",n.style.width="100%",n.style.lineHeight="1.3em",n.style.zIndex=""+t,this.rW=n,this.nl()}var n=t.prototype;return n.il=function(){this.rW.style.display="none"},n.nl=function(){We(this.rW.style,"flex","-ms-flexbox")},n.KX=function(t){t.appendChild(this.rW)},n.vh=function(){Ve(this.rW)},T(t,[{key:"_l",get:function(){return this.rW}}]),t}();function tN(t,n){return t?dn(dn({},n),Zo(t)):n}function nN(t){return t.AB&&jn(t.AB,"%")?Number(t.AB.replace("%",""))/100:t.AB&&jn(t.AB,"em")?Number(t.AB.replace("em","")):1}var iN,rN,eN=function(){function t(t,n,i,r,e){var u=this;this.eW=_n(),this.uW=!0,this.sW=function(t){return u.eW.has(t.$k)},this.oW=function(t){return!u.sW(t)},this.aW=function(t){return u.eb(t.Ck)},this.cW=function(t){return u.removeCue(t.Ck)},this.hW=function(){return u.fW()},this.vW=function(t){return u.dW(t.Ck)},this.lW=function(t){return u._W(t.Ck)},this.gW=function(t){u.wW(t.Ja,t.Cg)},this.Wk=t,this.yW=this.mW=e,this.oa=this.kW(i),this.TX=r,n.appendChild(this.oa),this.pW(),this.Wk.Uh.dh.forEach(function(t){return u.eb(t)}),this.JB.ps("aO",this.gW),this.wW(this.JB._O,this.JB.lO)}var n=t.prototype;return n.AW=function(t){this.mW=tN(t,this.yW),this.mW.kB&&(this.SS.style.fontFamily=this.mW.kB),this.wW(this.JB._O,this.JB.lO),this.bW()},n.pW=function(){this.Wk.ps(xo.Uc,this.aW),this.Wk.ps(xo.Hc,this.cW),this.Wk.ps(xo.Qc,this.hW)},n.TW=function(){var t=this;this.Wk.Ts(xo.Uc,this.aW),this.Wk.Ts(xo.Hc,this.cW),this.Wk.Ts(xo.Qc,this.hW),this.Wk.Uh.dh.forEach(function(n){return t.EW(n)})},n.SW=function(t){t.ps(Dv.Nk,this.vW),t.ps(Dv.Dk,this.lW)},n.EW=function(t){t.Ts(Dv.Nk,this.vW),t.Ts(Dv.Dk,this.lW)},n.eb=function(t){t.$k||(t.$k=this.RW),this.SW(t),t.Jk&&this.dW(t)},n.removeCue=function(t){this.EW(t),this._W(t)},n.fW=function(){this.Wk.Lh===aa.xh?this.IW():this.NW()},n.IW=function(){var t=this,n=this.JB._O,i=this.JB.lO,r=new mT(n,i);this.gW(r),this.uW=!1,this.DW.forEach(function(n){return t.dW(n)})},n.dW=function(t){this.uW||this.oW(t)&&(this.OW(t),this.eW.set(t.$k,t))},n.OW=function(t){var n=this.oa,i=this.xW(t);if(i)for(var r=0;r<i.length;r++){var e=i[r];e.className=t.$k,n.appendChild(e)}},n.NW=function(){var t=this;this.uW=!0,this.eW.forEach(function(n){return t._W(n)})},n._W=function(t){this.sW(t)&&(this.PW(t),this.eW.delete(t.$k))},n.PW=function(t){for(var n=this.oa,i=n.getElementsByClassName(t.$k);i.length;)n.removeChild(i[0])},n.bW=function(){for(var t=0,n=this.BW;t<n.length;t++){var i=n[t];this.PW(i),this.OW(i)}},n.vh=function(){Ve(this.SS),this.TW(),this.JB.Ts("aO",this.gW)},T(t,[{key:"Mc",get:function(){return this.Wk}},{key:"SS",get:function(){return this.oa}},{key:"JB",get:function(){return this.TX}},{key:"LW",get:function(){return this.mW}},{key:"BW",get:function(){return this.Wk.Fh.dh.filter(this.sW)}},{key:"DW",get:function(){return this.Wk.Fh.dh.filter(this.oW)}}]),t}();function uN(t){return sN[t||"none"]}!function(t){t.MW='"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',t.UW='"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',t.FW='"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',t.HW='Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif'}(iN||(iN={})),function(t){t.BLACK="#000000",t.WHITE="#FFFFFF",t.GREEN="#00ff00",t.BLUE="#0000ff",t.CYAN="#00ffff",t.RED="#ff0000",t.YELLOW="#ffff00",t.MAGENTA="#ff00ff",t.TRANSPARENT="transparent"}(rN||(rN={}));var sN={none:"",dropshadow:"#222 2px 2px 3px, #222 2px 2px 4px, #222 2px 2px 5px",raised:"#222 1px 1px, #222 2px 2px, #222 3px 3px",depressed:"#ccc 1px 1px, #ccc 0px 1px, #222 -1px -1px, #222 0px -1px",uniform:"#222 -1px -1px 0, #222 1px -1px 0, #222 -1px 1px 0, #222 1px 1px 0"};function oN(t,n){void 0===t.textContent?t.innerText=n:t.textContent=n}var aN=gn({monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:"monospace, sans-serif",monospaceSerif:"monospace, serif",proportionalSansSerif:"Arial",proportionalSerif:"Times New Roman",default:"monospace, sans-serif;"}),cN=gn({lrtb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rltb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;unicode-bidi: bidi-override;",tbrl:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;",tblr:"-webkit-writing-mode: vertical-lr;writing-mode: vertical-lr;-webkit-text-orientation: upright;text-orientation: upright;",lr:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rl:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;",tb:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;"}),hN={backgroundColor:function(t,n){n.style.backgroundColor=t},color:function(t,n){n.style.color=t},direction:function(t,n){n.style.direction=t},display:function(t,n){"none"===t&&(n.style.display="none")},fontFamily:function(t,n){var i=aN.get(t);n.style.fontFamily=i||t},fontSize:function(t,n){Yn(t,"px")?t=w(t)/24+"em":Yn(t,"c")&&(t=t.replace("c","em")),n.style.fontSize=t},fontStyle:function(t,n){n.style.fontStyle=t},fontWeight:function(t,n){n.style.fontWeight=t},lineHeight:function(t,n){n.style.lineHeight=t},opacity:function(t,n){n.style.opacity=t},overflow:function(t,n){n.style.overflow=t},padding:function(t,n){n.style.padding=t},textAlign:function(t,n){"right"===t?(n.style.textAlign="right",n.style.justifyContent="flex-end"):"start"===t?(n.style.textAlign="start",n.style.justifyContent="flex-start"):"center"===t?(n.style.textAlign="center",n.style.justifyContent="center"):"end"===t?(n.style.textAlign="end",n.style.justifyContent="flex-end"):"left"===t&&(n.style.textAlign="left",n.style.justifyContent="flex-start")},textDecoration:function(t,n){var i=t;i=(i=(i=(i=i.replace("lineThrough","line-through")).replace("noUnderline","none")).replace("noLineThrough ","none")).replace("noOverline  ","none"),n.style.textDecoration=i},unicodeBidi:function(t,n){n.style.unicodeBidi=t.replace("bidiOverride","bidi-override")},visibility:function(t,n){n.style.visibility=t},zIndex:function(t,n){n.style.zIndex=t},displayAlign:function(t,n){var i;"before"===t.toLowerCase()?i="flex-start":"center"===t.toLowerCase()?i="center":"after"===t.toLowerCase()&&(i="flex-end"),n.style.alignItems=i},extent:function(t,n){var i,r,e=t.split(" ");e.length>=2?(i=e[0],r=e[1]):i=r="100%",n.style.height=r,n.style.width=i},origin:function(t,n){var i=t.split(" "),r=i[0],e=i[1];void 0===r&&void 0===e||(n.style.position="absolute",void 0!==r&&(n.style.left=r),void 0!==e&&(n.style.top=e))},showBackground:function(t,n){},wrapOption:function(t,n){n.style.whiteSpace=t.replace("noWrap","nowrp").replace("wrap","normal").replace("nowrp","nowrap")},writingMode:function(t,n){var i=cN.get(t);i&&(n.style.cssText=n.style.cssText.concat(i))},textOutline:function(){},linePadding:function(t,n){if(Yn(t,"c")){var i=t.replace("c","em");n.style.paddingLeft=n.style.paddingRight=i}},multiRowAlign:function(t,n){"auto"===t.toLowerCase()?n.style.textAlign="":n.style.textAlign="value"}},fN=0,vN={pB:rN.WHITE,kB:"Arial, Helvetica, Sans-Serif",AB:"100%",bB:rN.TRANSPARENT,TB:rN.TRANSPARENT,EB:"none"},dN=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,vN)||this}qt(n,t);var i=n.prototype;return i.kW=function(t){var n=s.createElement("div");return n.className="theoplayer-ttml-texttrack-"+t,n.style.position="absolute",n.style.display="flex",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="0",n.style.left="0",n.style.width="100%",n.style.height="100%",n},i.wW=function(t,n){var i=n/15;this.SS.style.fontSize=i+"px"},i.xW=function(t){if(t.Mc&&t.Mc.Pu!==gf.TTML)return[];var n,i=[],r=t,e=r.NA,u=r.pA,o=r.Pk;if(0===_.keys(u).length){Xe(n=s.createElement("div"),r.$k),kN(n);for(var a=lN(o,e,r.DA,void 0,this.SS),c=0;c<a.length;c++){var h=a[c];n.appendChild(h)}i.push(n)}else for(var f=0,v=_.keys(u);f<v.length;f++){var d=v[f],l=s.createElement("div");l.id=d,Xe(l,r.$k);var g=lN(o,e,r.DA,l,this.SS);if(g){kN(l),wN(l,u[d],e,this.SS);for(var w=0;w<g.length;w++){var y=g[w];l.appendChild(y)}i.push(l)}i.push(l)}return i},i.AW=function(t){},T(n,[{key:"RW",get:function(){return"theoplayer-ttmlcue-"+fN++}}]),n}(eN);function lN(t,n,i,r,e){var u,s;if(zt(t)&&("SPAN"===(s=t).Dn.toUpperCase()||"P"===s.Dn.toUpperCase()||"BR"===s.Dn.toUpperCase()||"DIV"===s.Dn.toUpperCase()||"BODY"===s.Dn.toUpperCase())){var o=function t(n){var i;var r=n.qn("region");if("p"===n.Dn.toLowerCase())return r;var e=[];for(var u=0,s=n.Wn;u<s.length;u++){var o=s[u];e.push(t(o))}!function(t){for(var n=[],i=0;i<t.length;i++){for(var r=!0,e=i+1;e<t.length;e++)if(t[i]===t[e]){r=!1;break}r&&n.push(t[i])}}(e);return 0===e.length?r:1===e.length?null!==(i=e[0])&&void 0!==i?i:r:void 0}(t);if(!o||r.id===o){(function(t,n,i,r){var e=n.qn("style");mN(t,e,i,r),function(t,n,i){Array.prototype.slice.call(n.Zn).forEach(function(n){var r=ll(n.Cn,["ebutts","tts","xml"]);hN[r]&&hN[r](n.Pn,t,i)})}(t,n,r)})(u="BODY"===t.Dn.toUpperCase()?r:_N(t),t,n,e),function(t,n,i){var r=null==n?void 0:n.qn("smpte:backgroundImage");if(r){r=r.replace("#","");var e=function t(n,i){if(n&&i(n))return n;var r=null;if(null==n?void 0:n.Wn)for(var e=0,u=null==n?void 0:n.Wn;e<u.length;e++){var s=u[e];if(r=t(s,i))break}return r}(i,function(t){return t.Zn.some(function(t){return"id"===t.Dn&&t.Pn===r})});e&&yN(t,e,n,!0)}!function(t,n){var i=n.Wn[0];if(!i||"metadata"!==i.Dn.toLowerCase())return;var r=i.Wn[0];yN(t,r,n)}(t,n)}(u,t,i);for(var a=[],c=t.Un,h=0;h<c.length;h++){var f=lN(c[h],n,i,r,e);f&&(a=a.concat(f))}if("BODY"!==t.Dn.toUpperCase()){for(var v=0,d=a;v<d.length;v++){var l=d[v];u.appendChild(l)}return[u]}return a}}else Gt(t)&&(u=_N(t));if(u)return[u]}function _N(t){var n,i;if(Gt(t))oN(n=s.createElement("text"),t.$n);else if(zt(t))switch(t.Dn.toUpperCase()){case"BR":n=s.createElement("br");break;case"SPAN":n=s.createElement("span"),(i=n).style.backgroundColor="rgba(0,0,0,0.6)",i.style.textAlign="start",i.style.lineHeight="normal",gN(n,t);break;case"P":(function(t){t.style.fontFamily="Arial, Helvetica, Sans-Serif",t.style.color="white",t.style.justifyContent="flex-start",t.style.textAlign="start",t.style.padding="none",t.style.margin="0",t.style.lineHeight="normal",t.style.lineHeight="1.3em",t.style.textShadow="rgb(0, 0, 0) -1px -1px 0px, rgb(0, 0, 0) 1px -1px 0px, rgb(0, 0, 0) -1px 1px 0px, rgb(0, 0, 0) 1px 1px 0px"})(n=s.createElement("p")),gN(n,t);break;case"DIV":gN(n=s.createElement("div"),t)}return n}function gN(t,n){var i=n.zn(vl,"id");i&&(t.id=i)}function wN(t,n,i,r){mN(t,n.style,i,r),_.keys(n).forEach(function(i){hN[i]&&hN[i](n[i],t)})}function yN(t,n,i,r){void 0===r&&(r=!1),r&&(t.style.width=t.style.height="100%");var e=s.createElement("img");e.src=function(t){var n=t&&t.Un.length>0?t.Un[0]:null;return n&&Gt(n)?"data:image/png;base64,"+n.$n:""}(n),e.id=t.id,e.style.height="100%",e.style.maxWidth="100%",function(t,n){t.style.display="flex";var i=n.qn("smpte:backgroundImageVertical");if(i)switch(i.toLowerCase()){case"left":t.style.alignItems="flex-start";break;case"center":t.style.alignItems="center";break;case"right":t.style.alignItems="flex-end";break;case"inherit":t.style.alignItems="inherit"}else t.style.alignItems="center";var r=n.qn("smpte:backgroundImageHorizontal");if(r)switch(r.toLowerCase()){case"left":t.style.justifyContent="flex-start";break;case"center":t.style.justifyContent="center";break;case"right":t.style.justifyContent="flex-end";break;case"inherit":t.style.justifyContent="inherit"}else t.style.justifyContent="center"}(t,i),t.appendChild(e)}function mN(t,n,i,r){n&&n.split(" ").forEach(function(n){i[n]&&_.keys(i[n]).forEach(function(e){var u=ll(e,["ebutts","tts","xml"]);"style"===u.toLowerCase()?mN(t,i[n][e],i,r):hN[u]&&hN[u](i[n][e],t,r)})})}function kN(t){t.style.display="flex",t.style.top="auto",t.style.left="5%",t.style.width="90%",t.style.height="100%",t.style.maxHeight=t.style.maxWidth="100%",t.style.alignItems="flex-start",t.style.overflow="visible",t.style.position="absolute",t.style.justifyContent="center",t.style.textAlign="start",t.style.cssText=t.style.cssText.concat("ms-writing-mode: lr-tb, horizontal-tb;-webkit-writing-mode: horizontal-tb;-moz-writing-mode: horizontal-tb;writing-mode: horizontal-tb;"),t.style.padding="none",t.style.margin="0"}var pN,AN,bN=void 0;function TN(t,n){for(var i,r=pN.VW,e="",u=[],s=t.charAt(n.Zs),o="",a={Pu:AN.XW,Fn:"",WW:[]};n.Zs<t.length+1;){switch(s=n.Zs<t.length?t.charAt(n.Zs):"EOF",r){case pN.VW:switch(s){case"&":var c=t.substr(n.Zs).match(/&#?[0-9a-zA-Z]+;/);c?(e+=(i=c[0],bN||(bN=Tn.document.createElement("textarea")),bN.innerHTML=i,bN.value),n.js(c[0].length-1)):e+="&";break;case"<":if(e)return{Pu:AN.qW,Pk:e};r=pN.zW;break;case"EOF":return{Pu:AN.qW,Pk:e};default:e+=s}break;case pN.zW:switch(s){case"\t":case"\n":case"\f":case" ":r=pN.GW;break;case".":r=pN.jW;break;case"/":r=pN.QW;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":e=s,r=pN.YW;break;case">":return n.js(1),a;case"EOF":return a;default:e=s,r=pN.ZW}break;case pN.ZW:switch(s){case"\t":case"\f":case" ":r=pN.GW;break;case"\n":o=s,r=pN.GW;break;case".":r=pN.jW;break;case">":return n.js(1),{Pu:AN.XW,Fn:e,WW:[]};case"EOF":return{Pu:AN.XW,Fn:e,WW:[]};default:e+=s}break;case pN.jW:switch(s){case"\t":case"\f":case" ":u.push(o),o="",r=pN.GW;break;case"\n":u.push(o),o=s,r=pN.GW;break;case".":u.push(o),o="";break;case">":return n.js(1),u.push(o),{Pu:AN.XW,Fn:e,WW:u};case"EOF":return u.push(o),{Pu:AN.XW,Fn:e,WW:u};default:o+=s}break;case pN.GW:switch(s){case"&":r=pN.JW;break;case">":n.js(1);var h=o.trim();return h=h.replace(/\s/," "),{Pu:AN.XW,Fn:e,WW:u,$W:h};default:o+=s}break;case pN.JW:for(var f="",v=n.Zs;">"===t.charAt(v);v++)f+=t.charAt(v);o+=f||"&",r=pN.GW;break;case pN.QW:switch(s){case">":return n.js(1),{Pu:AN.KW,Fn:e};case"EOF":return{Pu:AN.KW,Fn:e};default:e+=s}break;case pN.YW:switch(s){case">":return n.js(1),{Pu:AN.tq,nq:e};case"EOF":return{Pu:AN.tq,nq:e};default:e+=s}}n.js(1)}}!function(t){t.VW="Data",t.zW="Tag",t.ZW="StartTag",t.jW="StartTagClass",t.GW="StartTagAnnotation",t.JW="CharRefInAnnotation",t.QW="EndTag",t.YW="TimestampTag"}(pN||(pN={})),function(t){t.qW="string",t.XW="starttag",t.KW="endtag",t.tq="timestamp"}(AN||(AN={}));var EN,SN,RN={pB:rN.WHITE,kB:"sans-serif",AB:"100%",bB:"rgba(0,0,0,0.8)",TB:rN.TRANSPARENT,EB:"none"},IN="theoplayer-webvtt-region-",NN="theoplayer-webvtt-styling-",DN="theoplayer-webvtt-voice-",CN=5.23,ON=1.14,xN=0,PN=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,RN)||this).iq={},u.rq=FN(3),u}qt(n,t);var i=n.prototype;return i.kW=function(t){var n=s.createElement("div");return n.className="theoplayer-webvtt-texttrack-"+t,ze(n),We(n.style,"flex","-ms-flexbox"),n.style.overflow="hidden",n.style.pointerEvents="none",n.style.fontFamily=this.LW.kB,n.style.whiteSpace="pre-line",n},i.wW=function(t,n){for(var i=n/100,r=t/100,e=g.min(i,r),u=nN(this.LW),s=0,o=_.keys(this.uq);s<o.length;s++){var a=o[s],c=this.uq[a].sq;this.oq(c,e,u,this.uq[a].Hk)}this.oq(this.aq,e,u),this.cq()},i.cq=function(){var t=nN(this.LW);this.aq.style.padding=t>=1.5?"0":1/t+"em"},i.OW=function(t){var n=this.SS,i=this.JB.lO/100,r=this.aq;t.Hk&&(this.uq[t.Hk.Th]||(this.uq[t.Hk.Th]={Hk:t.Hk,sq:HN(t.Hk,i)}),r=this.uq[t.Hk.Th].sq),n.querySelector("."+r.className)||n.appendChild(r);var e=this.xW(t);r.children.length>=1&&t.Hk&&"up"===t.Hk.rp&&(r.style.transitionProperty="top",r.style.transitionDuration="0.433s");for(var u=0;u<e.length;u++){var s=e[u];s.className=t.$k,r.appendChild(s)}},i.xW=function(t){var n=[];return t&&n.push(this.hq(t)),n},i.hq=function(t){for(var n=new ee,i=t.Pk,r=this.fq(t),e=r,u="",o=[],a={};n.Zs<i.length;){var c=TN(i,n);if(c.Pu===AN.qW){var h=this.vq(c.Pk);BN(h,a),e.appendChild(h)}else if(c.Pu===AN.XW){switch(a[c.Fn.toLowerCase()]||(a[c.Fn.toLowerCase()]=[]),a[c.Fn.toLowerCase()].push(c),c.Fn.toLowerCase()){case"c":break;case"i":var f=s.createElement("i");e.appendChild(f),e=f;break;case"b":var v=s.createElement("b");e.appendChild(v),e=v;break;case"u":var d=s.createElement("u");e.appendChild(d),e=d;break;case"ruby":var l=s.createElement("ruby");e.appendChild(l),e=l;break;case"rt":if("ruby"===u){var _=s.createElement("rt");e.appendChild(_)}break;case"v":break;case"lang":o.push(c.$W)}u=c.Fn||""}else if(c.Pu===AN.KW){a[c.Fn.toLowerCase()]&&a[c.Fn.toLowerCase()].pop(),(!c.Fn||"C"!==c.Fn.toUpperCase()&&"V"!==c.Fn.toUpperCase())&&("LANG"===c.Fn.toUpperCase()?o.pop():"RUBY"===c.Fn.toUpperCase()&&"RUBY"===e.tagName?e=e.parentNode.parentNode:e.tagName&&e.tagName.toUpperCase()===c.Fn.toUpperCase()&&(e=e.parentNode)),u=c.Fn||""}else if(c.Pu===AN.tq){var g=c.nq,w=new ee;try{Xd(g,w)}catch(t){et("ERROR collecting timestamp",t)}}}return r},i.vq=function(t){var n=s.createElement("span");return oN(n,t),n.style.background=this.LW.bB,n},i.oq=function(t,n,i,r){if(r){var e=LN(r,n);t.style.height=e*i+"px",t.style.left=MN(r)+"%",t.style.top=UN(r,n)+"px"}t.style.fontSize=CN*n*i+"px"},i.fq=function(t){var n=s.createElement("div");return n.style.margin="0",n.style.padding="0",n.style.unicodeBidi="plaintext",n.style.wordWrap="break-word",n.style.width="auto",n.style.textAlign=t.Bk,function(t,n){"rl"===n.Xk?t.style.writingMode="vertical-rl":"lr"===n.Xk?t.style.writingMode="vertical-lr":t.style.writingMode="horizontal-tb"}(n,t),function(t,n){var i=Yv(n);VN(n)?(t.style.width=i+"%",t.style.height="auto"):(t.style.height=i+"%",t.style.width="auto")}(n,t),function(t,n){var i,r,e=Qv(n),u=jv(n),s=Yv(n);VN(n)?("line-left"===e?i=u:"center"===e?i=u-s/2:"line-right"===e&&(i=u-s),r=n.Vk?0:Gv(n)):("line-left"===e?r=u:"center"===e?r=u-s/2:"line-right"===e&&(r=u-s),i=n.Vk?0:Gv(n));t.style.left=i+"%",t.style.top=r+"%"}(n,t),n.style.background=this.LW.TB,n.style.color=this.LW.pB,n.style.textShadow=uN(this.LW.EB),n},i.PW=function(t){for(var n=t.$k,i=this.SS,r=i.children,e=0;e<r.length;e++){for(var u=r[e].getElementsByClassName(n),s=0;s<u.length;s++)r[e].removeChild(u[s]);if(0===r[e].childNodes.length){for(var o=0,a=_.keys(this.uq);o<a.length;o++){var c=a[o];if(jn(r[e].className,IN+c)){delete this.uq[c];break}}i.removeChild(r[e])}}},T(n,[{key:"uq",get:function(){return this.iq||(this.iq={}),this.iq}},{key:"aq",get:function(){return this.rq||(this.rq=FN(3)),this.rq}},{key:"RW",get:function(){return"theoplayer-webvtt-cue-"+xN++}}]),n}(eN);function BN(t,n){if(n.c)for(var i=0,r=n.c;i<r.length;i++){var e=r[i];if(e.WW)for(var u=0,s=e.WW;u<s.length;u++){var o=s[u];Xe(t,NN+o)}}if(n.v)for(var a=0,c=n.v;a<c.length;a++){var h=c[a];h.$W&&Xe(t,DN+h.$W)}}function LN(t,n){return t.tp*(CN*n)*ON}function MN(t){return t.ep-t.np*t.Ja/100}function UN(t,n){var i=t.sp,r=t.ip*LN(t,n)/100;return g.max(0,i-r)}function FN(t){var n=s.createElement("div");return n.className=IN+"default",ze(n),We(n.style,"inline-flex","-ms-flexbox"),n.style.flexFlow="column",n.style.justifyContent="flex-end",n.style["-ms-flex-align"]="end",n.style.overflow="hidden",n.style.wordWrap="break-word",n.style.writingMode="horizontal-tb",n.style.pointerEvents="none",n.style.maxHeight="100%",n.style.minHeight="0px",n.style.margin="0",n.style.padding="1em",n.style.boxSizing="border-box",n.style.fontSize=CN*t+"px",n.style.lineHeight=ON+"em",n}function HN(t,n){var i=FN(n);i.className=IN+t.Th;var r=t.Ja,e=LN(t,n);return i.style.width=r+"%",i.style.height=e+"px",i.style.left=MN(t)+"%",i.style.top=UN(t,n)+"px",i.style.padding="0",i.style.boxSizing="border-box",i}function VN(t){return""===t.Xk}!function(t){t[t.dq=0]="dq",t[t.lq=1]="lq",t[t._q=2]="_q",t[t.gq=3]="gq",t[t.wq=4]="wq",t[t.yq=5]="yq"}(EN||(EN={})),function(t){t[t.mq=0]="mq",t[t.kq=1]="kq",t[t.pq=2]="pq",t[t.Aq=3]="Aq"}(SN||(SN={}));var XN=15,WN=32,qN=[[42,225],[92,233],[94,237],[95,243],[96,250],[123,231],[124,247],[125,209],[126,241],[127,9608],[128,174],[129,176],[130,189],[131,191],[132,8482],[133,162],[134,163],[135,9834],[136,224],[137,32],[138,232],[139,226],[140,234],[141,238],[142,244],[143,251],[144,193],[145,201],[146,211],[147,218],[148,220],[149,252],[150,8216],[151,161],[152,42],[153,8217],[154,9473],[155,169],[156,8480],[157,8226],[158,8220],[159,8221],[160,192],[161,194],[162,199],[163,200],[164,202],[165,203],[166,235],[167,206],[168,207],[169,239],[170,212],[171,217],[172,249],[173,219],[174,171],[175,187],[176,195],[177,227],[178,205],[179,204],[180,236],[181,210],[182,242],[183,213],[184,245],[185,123],[186,125],[187,92],[188,94],[189,95],[190,124],[191,8764],[192,196],[193,228],[194,214],[195,246],[196,223],[197,165],[198,164],[199,9475],[200,197],[201,229],[202,216],[203,248],[204,9487],[205,9491],[206,9495],[207,9499]].reduce(function(t,n){return t[n[0]]=n[1],t},{}),zN=function(){function t(){this.bq=[],this.Tq=0;for(var t=0;t<WN;t++)this.bq.push(null);this.Eq=!1}var n=t.prototype;return n.Sq=function(t){for(var n=0;n<WN;n++)t&&(this.bq[n]=t.bq[n])},n.hm=function(t){for(var n=0;n<WN;n++)if(this.bq[n]!==t.bq[n])return!1;return!0},n.Rq=function(){for(var t=0;t<WN;t++)if(null!==this.bq[t])return!1;return!0},n.Iq=function(t){this.Tq!==t&&(this.Tq=t),this.Tq<0?this.Tq=0:this.Tq>WN&&(this.Tq=WN-1)},n.Nq=function(t){var n=this.Tq+t;this.Iq(n)},n.Dq=function(){this.Nq(-1),this.bq[this.Tq]=null},n.Cq=function(t){t>=144&&this.Dq();var n,i=qN[n=t]?String.fromCharCode(qN[n]):String.fromCharCode(n);this.Tq>=WN||(32===Number(i)?(this.bq[this.Tq]=this.Eq?"</i>":"<i>",this.Eq=!this.Eq):this.bq[this.Tq]=i,this.Nq(1))},n.Oq=function(t){for(var n=t;n<WN;n++)this.bq[n]=null},n.qs=function(){this.Oq(0),this.Tq=0},n.xq=function(){this.Oq(this.Tq)},n.Pq=function(t,n){for(var i=this.bq,r=null,e=0;e<WN;e++){var u=i[e];null===u?r=null:(r||(r={Bq:e,Lq:t,Ja:0,Cg:1,bq:[[]]},n.push(r)),r.bq[0].push(u),r.Ja++)}},n.vA=function(t,n){return t.Mq(this.bq,n)},t}();var GN=function(){function t(){this.Uq=null,this.Fq=[];for(var t=0;t<XN;t++)this.Fq.push(new zN);this.Hq=XN-1,this.fh()}var n=t.prototype;return n.Sq=function(t){for(var n=0;n<XN;n++)this.Fq[n].Sq(t.Fq[n])},n.hm=function(t){for(var n=!0,i=0;i<XN;i++)if(!this.Fq[i].hm(t.Fq[i])){n=!1;break}return n},n.Rq=function(){for(var t=!0,n=0;n<XN;n++)if(!this.Fq[n].Rq()){t=!1;break}return t},n.fh=function(){for(var t=0;t<XN;t++)this.Fq[t].qs();this.Hq=XN-1},n.Cq=function(t){this.Fq[this.Hq].Cq(t)},n.Vq=function(){this.Fq[this.Hq].Dq()},n.xq=function(){this.Fq[this.Hq].xq()},n.Xq=function(){if(null!==this.Uq){var t=this.Hq+1-this.Uq,n=this.Fq[t];n&&(di(this.Fq,t),n.qs(),this.Fq.splice(this.Hq,0,n))}},n.Nq=function(t){this.Fq[this.Hq].Nq(t)},n.Wq=function(t){this.Uq=t},n.qq=function(t){var n=t.zq;this.Uq&&n<this.Uq-1&&(n=this.Uq-1),this.Hq=n;var i=this.Fq[this.Hq];null!==t.Gq&&i.Iq(t.Gq)},n.jq=function(){for(var t=this.Fq,n=[],i=0;i<t.length;i++){t[i].Pq(i,n)}for(var r=0;r<n.length;r++){for(var e=!1,u=n[r],s=n.length-1;s>r;){var o=n[s];QN(u,o)&&(u=jN(u,o),di(n,s),e=!0),s--}e&&(n[r]=u,r--)}return n.map(YN)},n.vA=function(t){return t.Qq(this.Fq)},t}();function jN(t,n){for(var i=g.min(t.Bq,n.Bq),r=g.min(t.Lq,n.Lq),e=g.max(t.Bq+t.Ja,n.Bq+n.Ja)-i,u=g.max(t.Lq+t.Cg,n.Lq+n.Cg)-r,s=new Array(u),o=0;o<u;o++){var a=new Array(e),c=t.bq[o+r-t.Lq];if(c)for(var h=0;h<c.length;h++)c[h]&&(a[h-i+t.Bq]=c[h]);var f=n.bq[o+r-n.Lq];if(f)for(var v=0;v<f.length;v++)f[v]&&(a[v-i+n.Bq]=f[v]);s[o]=a}return{Bq:i,Lq:r,Ja:e,Cg:u,bq:s}}function QN(t,n){return t.Bq<=n.Bq+n.Ja&&n.Bq<=t.Bq+t.Ja&&t.Lq<=n.Lq+n.Cg&&n.Lq<=t.Lq+t.Cg}function YN(t){for(var n=new Array(t.Cg),i=t.bq,r=0;r<i.length;r++){for(var e=i[r],u=[],s=!1,o=0;o<e.length;o++){var a=e[o];a?(s||(s=!0,u.push("<c.theoplayer-text-track-fragment>")),u.push(a)):(s&&(s=!1,u.push("</c>")),u.push(" "))}s&&(s=!1,u.push("</c>")),n[r]=u.join("")}var c=n.join("\n");return{Bq:t.Bq,Lq:t.Lq,Ja:t.Ja,Cg:t.Cg,Pk:c}}var ZN=function(){function t(t,n){this.zq=t,this.Gq=n}return t.prototype.hm=function(t){return this.zq===t.zq&&this.Gq===t.Gq},t}(),JN=function(){function t(t){this.Yq=t,this.Zq=this.Jq(),this.$q=this.Kq()}var n=t.prototype;return n.Jq=function(){for(var t=new ZN(Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),n=0,i=this.tz;n<i.length;n++){var r=i[n],e=g.min(t.zq,r.nz.zq),u=g.min(t.Gq,r.nz.Gq);t=new ZN(e,u)}return t},n.Kq=function(){for(var t=new ZN(Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY),n=0,i=this.tz;n<i.length;n++){var r=i[n],e=g.max(t.zq,r.iz.zq),u=g.max(t.Gq,r.iz.Gq);t=new ZN(e,u)}return t},T(t,[{key:"nz",get:function(){return this.Zq}},{key:"iz",get:function(){return this.$q}},{key:"tz",get:function(){return wi(this.Yq.map(function(t){return t.tz}))}}]),t}(),$N=function(){function t(t,n){this.SB=t,this.Zq=n,this.rz=""}var n=t.prototype;return n.Cq=function(t){this.rz+=t},n.ez=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.Cq(i)}},T(t,[{key:"uz",get:function(){return this.rz}},{key:"tz",get:function(){return[this]}},{key:"sz",get:function(){return this.SB}},{key:"nz",get:function(){return this.Zq}},{key:"iz",get:function(){return new ZN(this.nz.zq,this.nz.Gq+this.uz.length-1)}}]),t}(),KN=function(){function t(){}var n=t.prototype;return n.oz=function(t){return t.vA(this)},n.Qq=function(t){var n=this;return wi(t.map(function(t,i){return t.vA(n,i)}))},n.Mq=function(t,n){return new tD(t,n).az()},t}(),tD=function(){function t(t,n){this.zq=t,this.cz=n,this.hz=[],this.fz=null}var n=t.prototype;return n.az=function(){if(this.vz)return[];for(var t=0;t<this.zq.length;t++)this.dz(t);return this.lz(),this.hz},n._z=function(t){this.fz=new $N(aD,new ZN(this.cz,t))},n.lz=function(){this.fz&&(this.hz.push(this.fz),this.fz=null)},n.dz=function(t){var n=this.zq[t];nD(n)?this.fz&&this.lz():(this.fz||this._z(t),this.fz.Cq(n))},T(t,[{key:"vz",get:function(){return this.zq.every(nD)}}]),t}();function nD(t){return null==t}var iD,rD=function(t){function n(n,i,r){return t.call(this,n,i,r,!1)||this}return qt(n,t),n}(Wv),eD=function(t){function n(n){var i;return(i=t.call(this,"gz")||this).cue=n,i}return qt(n,t),n}(Vi);!function(t){t[t.vR=0]="vR",t[t.wz=1]="wz",t[t.yz=2]="yz",t[t.mz=3]="mz",t[t.An=4]="An"}(iD||(iD={}));var uD,sD=function(t){function n(){var n;return(n=t.call(this)||this).Gp=cd.bp,n.Ok=cd.bp,n.Lh=iD.vR,n.kz=new GN,n.pz=new GN,n.Az=new GN,n.bz=n.kz,n}qt(n,t);var i=n.prototype;return i.Cq=function(t){this.bz.Cq(t),this.Lh!==iD.wz&&this.Lh!==iD.yz||this.Tz()},i.ov=function(t){t!==this.Lh&&(this.Lh=t,this.Lh===iD.mz?this.bz=this.pz:(this.bz=this.kz,this.bz.fh()),this.Lh!==iD.yz&&(this.kz.Wq(null),this.pz.Wq(null)))},i.qq=function(t){this.bz.qq(t)},i.Ez=function(){this.ov(iD.mz)},i.Sz=function(){this.Lh!==iD.An&&(this.bz.Vq(),this.bz===this.kz&&this.Tz())},i.Rz=function(){},i.Iz=function(){},i.Nz=function(){this.bz.xq(),this.Tz()},i.Dz=function(t){this.bz=this.kz,this.ov(iD.yz),this.bz.Wq(t)},i.Cz=function(){},i.Oz=function(){this.ov(iD.wz)},i.xz=function(){this.ov(iD.An)},i.Pz=function(){this.ov(iD.An)},i.Bz=function(){this.kz.fh(),this.Tz()},i.Lz=function(){this.bz.Xq(),this.Tz()},i.Mz=function(){this.pz.fh()},i.Uz=function(){if(this.Lh===iD.mz){var t=this.kz;this.kz=this.pz,this.pz=t,this.bz=this.pz}this.Tz()},i.Fz=function(t){this.bz.Nq(t)},i.Tz=function(){if(null!==this.Gp){if((!this.Ok||this.Ok.Ip())&&!this.kz.Rq())this.Ok=this.Gp;else if(!this.kz.hm(this.Az)){var t=this.Hz();if(this.Gp.cp(this.Ok)){var n=new rD(this.Ok.ap(),this.Gp.ap(),t);this.ys(new eD(n))}this.Ok=this.kz.Rq()?null:this.Gp}this.Az.Sq(this.kz)}},i.Hz=function(){return function(t){var n=[],i=[].concat(t);for(;i.length>0;){var r=i.pop(),e=void 0;do{e=!1;for(var u=0;u<i.length;u++){var s=i[u];(function(t,n){return g.abs(t.iz.Gq-n.nz.Gq)<=1||g.abs(n.iz.Gq-t.nz.Gq)<=1||g.abs(t.iz.zq-n.nz.zq)<=1||g.abs(n.iz.zq-t.nz.zq)<=1}(o=r,a=s)||function(t,n){return oD(t.nz.zq,t.iz.zq,n.nz.zq,n.iz.zq)&&oD(t.nz.Gq,t.iz.Gq,n.nz.Gq,n.iz.Gq)}(o,a))&&(r=new JN([].concat(r.tz,s.tz)),vi(i,s),e=!0)}}while(e&&i.length>0);n.push(r)}var o,a;return n}((new KN).oz(this.Az))},i.fh=function(){this.Gp=cd.bp,this.Ok=cd.bp,this.kz.fh(),this.kz.Wq(null),this.pz.fh(),this.pz.Wq(null),this.Az.fh(),this.Az.Wq(null),this.bz=this.kz,this.Lh=iD.vR},n}(Fi);function oD(t,n,i,r){return n>=i&&r>=t}!function(t){t.FONT_REGULAR="regular",t.FONT_UNDERLINE="underline",t.FONT_ITALICS="italics",t.FONT_UNDERLINE_ITALICS="underline-italics"}(uD||(uD={}));var aD={pB:rN.WHITE,kB:iN.FW,AB:"100%",bB:rN.BLACK,TB:"transparent",EB:"none",Vz:uD.FONT_REGULAR},cD=[{Xz:rN.WHITE,Vz:uD.FONT_REGULAR,Gq:0},{Xz:rN.WHITE,Vz:uD.FONT_UNDERLINE,Gq:0},{Xz:rN.GREEN,Vz:uD.FONT_REGULAR,Gq:0},{Xz:rN.GREEN,Vz:uD.FONT_UNDERLINE,Gq:0},{Xz:rN.BLUE,Vz:uD.FONT_REGULAR,Gq:0},{Xz:rN.BLUE,Vz:uD.FONT_UNDERLINE,Gq:0},{Xz:rN.CYAN,Vz:uD.FONT_REGULAR,Gq:0},{Xz:rN.CYAN,Vz:uD.FONT_UNDERLINE,Gq:0},{Xz:rN.RED,Vz:uD.FONT_REGULAR,Gq:0},{Xz:rN.RED,Vz:uD.FONT_UNDERLINE,Gq:0},{Xz:rN.YELLOW,Vz:uD.FONT_REGULAR,Gq:0},{Xz:rN.YELLOW,Vz:uD.FONT_UNDERLINE,Gq:0},{Xz:rN.MAGENTA,Vz:uD.FONT_REGULAR,Gq:0},{Xz:rN.MAGENTA,Vz:uD.FONT_UNDERLINE,Gq:0},{Xz:rN.WHITE,Vz:uD.FONT_ITALICS,Gq:0},{Xz:rN.WHITE,Vz:uD.FONT_UNDERLINE_ITALICS,Gq:0},{Xz:rN.WHITE,Vz:uD.FONT_REGULAR,Gq:0},{Xz:rN.WHITE,Vz:uD.FONT_UNDERLINE,Gq:0},{Xz:rN.WHITE,Vz:uD.FONT_REGULAR,Gq:4},{Xz:rN.WHITE,Vz:uD.FONT_UNDERLINE,Gq:4},{Xz:rN.WHITE,Vz:uD.FONT_REGULAR,Gq:8},{Xz:rN.WHITE,Vz:uD.FONT_UNDERLINE,Gq:8},{Xz:rN.WHITE,Vz:uD.FONT_REGULAR,Gq:12},{Xz:rN.WHITE,Vz:uD.FONT_UNDERLINE,Gq:12},{Xz:rN.WHITE,Vz:uD.FONT_REGULAR,Gq:16},{Xz:rN.WHITE,Vz:uD.FONT_UNDERLINE,Gq:16},{Xz:rN.WHITE,Vz:uD.FONT_REGULAR,Gq:20},{Xz:rN.WHITE,Vz:uD.FONT_UNDERLINE,Gq:20},{Xz:rN.WHITE,Vz:uD.FONT_REGULAR,Gq:24},{Xz:rN.WHITE,Vz:uD.FONT_UNDERLINE,Gq:24},{Xz:rN.WHITE,Vz:uD.FONT_REGULAR,Gq:28},{Xz:rN.WHITE,Vz:uD.FONT_UNDERLINE,Gq:28}],hD=[11,-1,1,2,3,4,12,13,14,15,5,6,7,8,9,10],fD=function(t){function n(){var n;(n=t.call(this)||this).Wz=null,n.qz=null,n.zz=0;var i=new sD;return n.Gz=[i,new sD],i.ps("gz",n.gs),n}qt(n,t);var i=n.prototype;return i.fh=function(){for(var t=0,n=this.Gz;t<n.length;t++){n[t].fh()}},i.jz=function(t,n){if(n.Pu===SN.mq&&n.Qz){n.Yz&&(this.zz=0),this.Gz[this.zz].Gp=t;var i=127&n.Zz,r=127&n.Jz;if(i+r!==0){switch(i){case 17:r>=32&&r<=47&&this.$z(),r>=48&&r<=63&&this.Kz(i,r);break;case 18:case 19:r>=32&&r<=63&&this.Kz(i,r);break;case 20:case 21:r>=32&&r<=47&&this.tG(i,r);break;case 23:r>=33&&r<=35&&this.tG(i,r),r>=46&&r<=47&&this.$z()}16===i&&r>=64&&r<=95?this.nG(i,r):i>=17&&i<=23&&r>=64&&r<=127&&this.nG(i,r),i>=32&&this.Kz(i,r)}}},i.tG=function(t,n){var i=null;if(t===this.Wz&&n===this.qz)return this.Wz=null,this.qz=null,!0;i=20===t||23===t?0:1;var r=this.Gz[i];return 20===t||28===t?32===n?r.Ez():33===n?r.Sz():34===n?r.Rz():35===n?r.Iz():36===n?r.Nz():37===n?r.Dz(2):38===n?r.Dz(3):39===n?r.Dz(4):40===n?r.Cz():41===n?r.Oz():42===n?r.xz():43===n?r.Pz():44===n?r.Bz():45===n?r.Lz():46===n?r.Mz():47===n&&r.Uz():r.Fz(n-32),this.Wz=t,this.qz=n,this.zz=i,!0},i.nG=function(t,i){t===this.Wz&&i===this.qz&&(this.Wz=null,this.qz=null);var r=t<=23?0:1,e=hD[t<<1&14|i>>5&1]-1;if(!(e<0)){var u=n.iG(e,i);this.Gz[r].qq(u),this.Wz=t,this.qz=i,this.zz=r}},n.iG=function(t,n){var i=n>95?n-96:n-64;return{Xz:cD[i].Xz,Vz:cD[i].Vz,Gq:cD[i].Gq,zq:t}},i.Kz=function(t,n){var i=t>=25?t-8:t,r=this.Gz[this.zz],e=!1;switch(i){case 17:r.Cq(n+80),e=!0;break;case 18:r.Cq(n+112),e=!0;break;case 19:r.Cq(n+144),e=!0;break;default:t>=32&&(r.Cq(t),n>=32&&r.Cq(n),e=!0)}e&&(this.Wz=null,this.qz=null)},i.$z=function(){this.Gz[this.zz].bz.Nq(1)},i.vh=function(){this.bs()},T(n,[{key:"Zg",get:function(){return this.Gz.length}}]),n}(Fi),vD=function(){function t(t,n,i){this.rG=t,this.eG=n,this.mW=i}var n=t.prototype;return n.uG=function(){return this.sG=this.oG(),this.aG(),this.cG(),this.sG},n.oG=function(){var t=s.createElement("div");return t.style.position="absolute",t.style.margin="0",t.style.padding="0",t.style.whiteSpace="pre",t.style.width=this.hG/WN*this.eG.fG*100+"%",t.style.height=1.2*this.vG+"em",t.style.lineHeight="1.2em",t.style.letterSpacing=this.eG.dG?"calc(1em - 1ch)":"",t.style.fontFamily=this.mW.kB,t.style.backgroundColor=this.mW.TB,t},n.aG=function(){var t=this.lG.zq/XN*100,n=this.lG.Gq/WN*100,i=(WN-this._G.Gq-1)/WN*100,r=(XN-this._G.zq-1)/XN*100;this.eG.gG||(n=i=1,this.sG.style.width="98%"),r<t?this.sG.style.bottom=r*this.eG.fG+"%":this.sG.style.top=t*this.eG.fG+"%",i<n?this.sG.style.right=i+"%":this.sG.style.left=n+"%"},n.cG=function(){for(var t=this.rG.tz.sort(dD),n=0;n<t.length;n++)this.wG(t[n-1],t[n]),this.yG(t[n]);this.wG(t[t.length-1],null)},n.yG=function(n){var i=tN(this.mW,n.sz),r=t.mG(i);oN(r,n.uz),this.sG.appendChild(r)},t.mG=function(t){var n=s.createElement("span");return n.style.display="inline-block",t.Vz!==uD.FONT_ITALICS&&t.Vz!==uD.FONT_UNDERLINE_ITALICS||(n.style.fontStyle="italic"),t.Vz!==uD.FONT_UNDERLINE&&t.Vz!==uD.FONT_UNDERLINE_ITALICS||(n.style.textDecoration="underline"),n.style.color=t.pB,n.style.backgroundColor=t.bB,n.style.textShadow=uN(t.EB),n.style.height="1.2em",n},n.wG=function(t,n){var i=t?t.iz.zq:this.rG.nz.zq,r=n?n.nz.zq:this.rG.iz.zq,e=t?t.iz.Gq:this.rG.nz.Gq,u=n?n.nz.Gq:this.rG.iz.Gq;i<r&&(!n||t&&t.nz.zq!==n.nz.zq?this.kG():this.pG(this.rG.iz.Gq-e),e=this.rG.nz.Gq),e<u&&(n?this.pG(u-e):this.kG())},n.kG=function(){var t=s.createElement("br");this.sG.appendChild(t)},n.pG=function(t){if(!(t<=0)){var n=s.createElement("span");n.style.display="inline-block",oN(n,Jn(" ",t)),this.sG.appendChild(n)}},T(t,[{key:"lG",get:function(){return this.rG.nz}},{key:"_G",get:function(){return this.rG.iz}},{key:"hG",get:function(){return this.rG.iz.Gq-this.rG.nz.Gq+1}},{key:"vG",get:function(){return this.rG.iz.zq-this.rG.nz.zq+1}}]),t}();function dD(t,n){return function(t,n){if(t.zq!==n.zq)return t.zq-n.zq;return t.Gq-n.Gq}(t.nz,n.nz)}var lD=0;var _D=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,aD)||this}qt(n,t);var i=n.prototype;return i.kW=function(t){var n=s.createElement("div");return n.className="theoplayer-cea608-texttrack-"+t,n.style.position="absolute",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.height="100%",this.LW.kB&&(n.style.fontFamily=this.LW.kB),n},i.wW=function(t,n){this.AG()},i.AG=function(){var t,n=nN(this.LW);this.bG={fG:(t=100*n)/100,dG:t<=100,gG:t<=150};var i=this.TG/WN;this.EG=i*n,this.SS.style.fontSize=this.EG+"px"},i.xW=function(t){var n=this;return this.bG&&this.bG.gG?this.SG(80):this.SG(100),this.AG(),t.Pk.map(function(t){return new vD(t,n.bG,n.LW).uG()})},i.SG=function(t){var n=(100-t)/2;this.SS.style.left=n+"%",this.SS.style.width=t+"%"},T(n,[{key:"TG",get:function(){var t=this.SS.offsetWidth;return this.bG&&this.bG.gG||(t*=.8),t}},{key:"RW",get:function(){return"theoplayer-cea608-texttrack-"+lD++}}]),n}(eN),gD=function(){function t(t,n,i,r,e){var u=this;this.RG=[],this.IG=function(t){var n=t.Mc;n.ps(xo.Zc,u.NG),n.ps(xo.$c,u.NG),n instanceof AI&&(n.CH=u.CH),u.DG(n)},this.NG=function(t){var n=t.Mc;u.DG(n)},this.CG=function(t){var n=t.Mc;n.Ts(xo.Zc,u.NG),n.Ts(xo.$c,u.NG),u.OG(n)},this.xG=function(){for(var t=u.CH,n=0,i=u.Ld.dh;n<i.length;n++){var r=i[n];r instanceof AI&&(r.CH=t)}},this.PG=function(){for(var t=0,n=u.RG;t<n.length;t++){n[t].AW(u.yR)}},this.BG=t,this.TX=n,this.Ld=i,this.LG=e,this.yR=r,this.Ld.ps(Ro.Dc,this.IG),this.Ld.ps(Ro.Oc,this.CG),this.Ld.ps("Yc",this.NG),this.LG.ps(Ra.Qc,this.xG),this.yR.ps("Yc",this.PG),this.xG()}var n=t.prototype;return n.MG=function(t){for(var n=0,i=this.RG;n<i.length;n++){var r=i[n];if(r.Mc===t)return r}},n.UG=function(t){switch(t.Pu){case gf.TTML:case gf.SRT:case gf.WEBVTT:case gf.CEA608:return!0}return!1},n.FG=function(t){switch(t.Pu){case gf.TTML:return new dN(t,this.BG,t.Rh,this.TX);case gf.SRT:case gf.WEBVTT:return new PN(t,this.BG,t.Rh,this.TX);case gf.CEA608:return new _D(t,this.BG,t.Rh,this.TX)}},n.HG=function(t){var n=this.MG(t);n||((n=this.FG(t)).AW(this.yR),this.RG.push(n),t.Lh===aa.xh&&n.IW())},n.OG=function(t){for(var n=this.RG,i=n.length-1;i>=0;i-=1){var r=n[i];r.Mc===t&&(r.vh(),di(n,i))}},n.DG=function(t){var n;(n=t.Sh)!==Hf.ck&&n!==Hf.hk||!this.UG(t)||(t.Mh===Sv.ERROR?this.OG(t):this.HG(t))},n.fh=function(){for(var t=0,n=this.RG;t<n.length;t++){var i=n[t];i.Mc.Ts(xo.Zc,this.NG),i.Mc.Ts(xo.$c,this.NG),i.vh()}gi(this.RG)},n.vh=function(){this.fh();for(var t=0,n=this.RG;t<n.length;t++){n[t].vh()}this.Ld.Ts(Ro.Dc,this.IG),this.Ld.Ts(Ro.Oc,this.CG),this.Ld.Ts("Yc",this.NG),this.LG.Ts(Ra.Qc,this.xG),this.yR.Ts("Yc",this.PG)},T(t,[{key:"CH",get:function(){return this.LG.hv}}]),t}();function wD(t){var n=new XT,i=function(t){var n=[];return HT.MO(t)&&n.push(new HT(t)),VT.MO(t)&&n.push(new VT(t)),n}(t);if(i.length>0){for(var r=0;r<i.length;r++){var e=i[r];n.XO(e)}n.VO(i[0])}return n}var yD,mD=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r)||this).VG=wD(n),u.yR=e,u.XG=new KI,u.WG=new gD(u.XG._l,u.JB,u.Xd,u.yR,u.XS),u}qt(n,t);var i=n.prototype;return i.ul=function(){return this.oa},i.us=function(){var n=vn.coroutine(fn.mark(function n(){return fn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.VG.vh(),this.XG.vh(),this.WG.vh(),n.next=5,t.prototype.us.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i.il=function(){t.prototype.il.call(this),this.XG.il()},i.nl=function(){t.prototype.nl.call(this),this.XG.nl()},i.KX=function(n){t.prototype.KX.call(this,n),this.XG.KX(n)},T(n,[{key:"SS",get:function(){return this.oa}},{key:"Dv",get:function(){return this.oa.videoHeight}},{key:"Cv",get:function(){return this.oa.videoWidth}},{key:"XS",get:function(){return this.VG}}]),n}(GI),kD=nd.bp,pD=new nd(-1/0),AD=nd.$p,bD=function(t){function n(n,i){return t.call(this,n,i)||this}qt(n,t);var i=n.prototype;return i.fm=function(t,n){return t.lm(n)?Ef.nm:t.hm(n)?Ef.Ky:Ef.tm},i.Bm=function(t,n){return t.Bm(n)},i.Gm=function(t,n){return t.Gm(n)},i.Im=function(t,n){return t.Im(n)},i.Em=function(){return kD},i.Rm=function(){return AD},i.Om=function(){return pD},n.$m=function(t){for(var i=[],r=0;r<t.length;r++)i.push(new nd(t.start(r)),new nd(t.end(r)));return new n(i)},n.qG=function(t){for(var i=[],r=[],e=0;e<t.lh;e++)i.push(new nd(t.um(e))),i.push(new nd(t.om(e))),r.push(t.sm(e)),r.push(t.am(e));return new n(i,r)},n.nk=function(t){return new n([t,t],[!0,!0])},i.bm=function(t,i){return new n(t,i)},i.pm=function(t){return t.tk},n.ik=function(){return TD},n}(Of),TD=new bD([]),ED=["encrypted","loadstart","progress","suspend","abort","error","emptied","stalled","play","pause","seeking","seeked","loadedmetadata","loadeddata","waiting","playing","canplay","canplaythrough","timeupdate","ended","ratechange","durationchange","volumechange","bufferchange","webkitcurrentplaybacktargetiswirelesschanged"],SD=function(t){function n(n,i){var r;return(r=t.call(this)||this).zG=function(t){r.ys(new Vi(t.type))},r.GG=n,r.jG=i,r.jG.playsInline=!0,r.jG.style.width="100%",r.jG.style.height="100%",ED.forEach(function(t){return r.jG.addEventListener(t,r.zG)}),r.GG.appendChild(r.jG),r}qt(n,t);var i=n.prototype;return i.Qn=function(t,n){this.jG.setAttribute(t,n)},i.qd=function(){return this.jG.play()},i.zd=function(){this.jG.pause()},i.mo=function(){this.jG.load()},i.fh=function(){this.jG.removeAttribute("src"),this.jG.load()},i.us=function(){var t=this;this.bs(),ED.forEach(function(n){return t.jG.removeEventListener(n,t.zG)})},i.QG=function(){var t={droppedVideoFrames:0,totalVideoFrames:0};return void 0!==this.jG.webkitDroppedFrameCount?t.droppedVideoFrames=this.jG.webkitDroppedFrameCount:t.droppedVideoFrames="function"==typeof this.jG.getVideoPlaybackQuality?this.jG.getVideoPlaybackQuality().droppedVideoFrames:0,void 0!==this.jG.webkitTotalFrameCount?t.totalVideoFrames=this.jG.webkitTotalFrameCount:t.totalVideoFrames="function"==typeof this.jG.getVideoPlaybackQuality?this.jG.getVideoPlaybackQuality().totalVideoFrames:0,t},i.$X=function(){this.Sv=!this.Sv,this.Sv=!this.Sv},i.createAggregateFullscreen=function(){return wD(this.jG)},T(n,[{key:"xs",get:function(){return this.jG.error||void 0}},{key:"Hh",get:function(){return this.jG.src},set:function(t){this.jG.src=t}},{key:"Ud",get:function(){return this.jG.autoplay},set:function(t){this.jG.autoplay=t}},{key:"Ov",get:function(){return this.jG.volume},set:function(t){this.jG.volume=t}},{key:"Av",get:function(){return this.jG.currentTime},set:function(t){this.jG.currentTime=t}},{key:"sz",get:function(){return this.jG.style}},{key:"Sv",get:function(){return this.jG.muted},set:function(t){this.jG.muted=t}},{key:"Rv",get:function(){return this.jG.paused}},{key:"Nv",get:function(){return this.jG.seeking}},{key:"dl",get:function(){return bD.$m(this.jG.buffered)}},{key:"Tl",get:function(){return bD.$m(this.jG.played)}},{key:"bv",get:function(){return this.jG.duration}},{key:"Iv",get:function(){return this.jG.playbackRate},set:function(t){this.jG.playbackRate=t}},{key:"YG",get:function(){return this.jG.defaultPlaybackRate}},{key:"El",get:function(){return this.jG.preload},set:function(t){this.jG.preload=t}},{key:"Dv",get:function(){return this.jG.videoHeight}},{key:"Cv",get:function(){return this.jG.videoWidth}},{key:"ZG",get:function(){return this.jG.getClientRects()}},{key:"Tv",get:function(){return this.jG.ended}},{key:"Mh",get:function(){return this.jG.readyState}}]),n}(Fi),RD=function(){function t(){this.ab=vn.resolve()}return t.prototype.JG=function(t){var n=this.ab.then(t);return this.ab=n.then(j,j),n},t}();!function(t){t.$G="HELLO",t.KG="HI_THERE",t.tj="INITIALIZE",t.nj="APPEND_INIT",t.ij="APPEND_DATA",t.rj="ACK",t.ej="REMOVE",t.uj="DESTROY_SESSION"}(yD||(yD={}));var ID=function(){function t(){this.dE=new RD}var n=t.prototype;return n.sj=function(){var t=this;return this.dE.JG(vn.coroutine(fn.mark(function n(){var i,r,e,u,s,o;return fn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(i=new MessageChannel,r=i.port1,e=i.port2,a.serviceWorker.controller){n.next=6;break}return n.next=6,Va(a.serviceWorker,"install");case 6:if("activated"===a.serviceWorker.controller.state){n.next=9;break}return n.next=9,Va(a.serviceWorker.controller,"activate");case 9:return u={kind:yD.$G,port:e},a.serviceWorker.controller.postMessage(u,[e]),r.start(),n.next=15,Va(r,"message");case 15:if(s=n.sent,(o=s.data).kind===yD.KG){n.next=20;break}throw new d("Could not set up message channel");case 20:t.Ba=r,t.aa=o.sessionId;case 22:case"end":return n.stop()}},n)})))},n.oj=function(t,n){var i=this;return this.Ba,this.dE.JG(vn.coroutine(fn.mark(function r(){var e;return fn.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(i.Ba){r.next=2;break}throw new d("MessageSession not set up yet or already closed.");case 2:return n||(n=[]),i.Ba.postMessage(t,n),r.next=7,Va(i.Ba,"message");case 7:return e=r.sent,r.abrupt("return",e.data);case 10:case"end":return r.stop()}},r)})))},n.aj=function(){var t=this;return this.dE.JG(vn.coroutine(fn.mark(function n(){var i;return fn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(a.serviceWorker.controller){n.next=2;break}return n.abrupt("return");case 2:if("activated"===a.serviceWorker.controller.state){n.next=4;break}return n.abrupt("return");case 4:if(t.Ba){n.next=6;break}return n.abrupt("return");case 6:i={kind:yD.uj,sessionId:t.aa},a.serviceWorker.controller.postMessage(i),t.Ba.close(),t.Ba=void 0;case 11:case"end":return n.stop()}},n)})))},t}(),ND=["emptied","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","timeupdate","progress","seeking","seeked"],DD=function(t){function n(n,i){var r;(r=t.call(this,n)||this).cj=i;for(var e=0;e<ND.length;e++){var u=ND[e];r.cj.ps(u,r.mF)}return r}qt(n,t);var i=n.prototype;return i.AP=function(){var t=this.cj.Mh;return this.cj.Nv&&t>pa.Jh&&(t=pa.Jh),t},i.us=function(){for(var n=0;n<ND.length;n++){var i=ND[n];this.cj.Ts(i,this.mF)}t.prototype.us.call(this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).DE=pa.Zh,i.mF=function(){i.kF()},i.currentTimeProvider=n,i}qt(n,t);var i=n.prototype;return i.pF=function(t){if(this.DE!==t){this.DE=t;var n=this.currentTimeProvider.Av,i=G(n)?n:n.ap();this.ys(new ba(i,t))}},i.kF=function(){this.pF(this.AP())},i.fh=function(){this.pF(pa.Zh)},i.us=function(){this.bs()},T(n,[{key:"Mh",get:function(){return this.AP()}}]),n}(Fi)),CD=function(){function t(){this.hj=nd.$p}var n=t.prototype;return n.kC=function(t,n){var i=t.Gm(n);this.hj=i.cp(this.fj)?this.hj:i},n.vj=function(t){this.hj=t},T(t,[{key:"fj",get:function(){return this.hj}}]),t}(),OD=function(t){function n(n,i){var r;return(r=t.call(this)||this).FI=n,r.dj=i,r.lj=void 0,r._j=void 0,r.gj=!0,r.dE=new RD,r.wj=new ki,r.yj=!1,r.mj=!1,r}qt(n,t);var i=n.prototype;return i.bk=function(t,n){if(this.AM!==t){this.gj=t;var i=new Vi(t?"bh":"yU");this.ys(i)}return vn.resolve()},i.wM=function(t,n){},i.yM=function(t,n){},i.JL=function(){return this.mj},i.fs=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.wj.fs(),this.wj=new ki;case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.lM=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),i.mM=function(){var t=vn.coroutine(fn.mark(function t(n,i){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}(),i.dM=function(){var t=vn.coroutine(fn.mark(function t(i,r,e){var u,s,o,a=this;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i.Pu===AS.eM){t.next=2;break}throw new d("Streaming or opaque segments are not supported yet.");case 2:return u=i.$n,s=this.kj(e),o=function(){var t=vn.coroutine(fn.mark(function t(){var i,r,e,o,c,h,f;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(bi(s.ls),i=Lh.ng(new DataView(u.buffer)),(r=Nh(i,ph.f_)).length){t.next=5;break}throw new d("Moof boxes not found");case 5:return e=a.pj,o=n.Aj(r,e),c=a.bj(r,e),h=u.buffer,f={kind:yD.ij,mimeType:a.FI,segment:u,startPts:cd.eA(o).vA(),totalDuration:cd.eA(c).vA()},t.next=12,a.dj.oj(f,[h]);case 12:void 0===a.lj&&(a.lj=o),void 0===a._j&&(a._j=o),a._j=a._j.Bm(c),a.ys(new Vi(pS.iM));case 16:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),t.abrupt("return",this.dE.JG(vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a.yj=!0,t.next=4,o();case 4:return t.prev=4,s.us(),a.yj=!1,t.finish(4);case 8:case"end":return t.stop()}},t,null,[[0,,4,8]])}))));case 6:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i._M=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r,e,u,s=this;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.Pu===AS.eM){t.next=2;break}throw new d("Streaming or opaque initialization segments are not supported yet.");case 2:return r=n.$n,e=this.kj(i),u=function(){var t=vn.coroutine(fn.mark(function t(){var n,i,u,o;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(bi(e.ls),n=Lh.ng(new DataView(r.buffer)),i=Ih(n,ph.Xl)){t.next=5;break}throw new d("Moov Box not found");case 5:if(0!==i.lg.length){t.next=7;break}throw new d("Tracks not found");case 7:return s.pj=i.lg[0].Tg.j_.yg,u=r.buffer,o={kind:yD.nj,mimeType:s.FI,segment:r},t.next=12,s.dj.oj(o,[u]);case 12:s.ys(new Vi(pS.iM));case 13:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),t.abrupt("return",this.dE.JG(vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s.yj=!0,t.next=4,u();case 4:return t.prev=4,e.us(),s.yj=!1,t.finish(4);case 8:case"end":return t.stop()}},t,null,[[0,,4,8]])}))));case 6:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.gM=function(){this.mj=!0},i.ko=function(){var t=vn.coroutine(fn.mark(function t(n,i,r){var e,u,s=this;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.kj(r),u=function(){var t=vn.coroutine(fn.mark(function t(){var n;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return bi(e.ls),n={kind:yD.ej,mimeType:s.FI,endTime:cd.tA(i).vA()},t.next=4,s.dj.oj(n);case 4:s.lj=void 0,s._j=void 0,s.ys(new Vi(pS.iM));case 7:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),t.abrupt("return",this.dE.JG(vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s.yj=!0,t.next=4,u();case 4:return t.prev=4,e.us(),s.yj=!1,t.finish(4);case 8:case"end":return t.stop()}},t,null,[[0,,4,8]])}))));case 3:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),n.Aj=function(t,n){if(0===t.length)throw new d("Initial Moof box not found");var i=t[0];if(0===i.lg.length)throw new d("No tracks");if(!i.lg[0].Ow)throw new d("No decode time");return new nd(i.lg[0].Ow.Ow.toNumber(),n)},i.kj=function(t){var n=new ki;return n.vs(this.wj.ls),t&&n.vs(t),n},i.bj=function(t,n){var i=0;return t.forEach(function(t){t.lg.forEach(function(t){t.Cw.forEach(function(t){t.Uw.forEach(function(t){var n;i+=null!==(n=t.bv)&&void 0!==n?n:0})})})}),new nd(i,n)},T(n,[{key:"dl",get:function(){return void 0===this.lj||void 0===this._j?xf.ik():new xf([this.lj.tk,this._j.tk])}},{key:"hw",get:function(){return{OS:this.FI}}},{key:"NI",get:function(){return this.FI}},{key:"bM",get:function(){return xf.ik()}},{key:"Ux",get:function(){return 30},set:function(t){}},{key:"Xx",get:function(){return 30},set:function(t){}},{key:"AM",get:function(){return this.gj}},{key:"qO",get:function(){return this.yj}},{key:"Tj",get:function(){return this.lj}},{key:"xk",get:function(){return this._j}}]),n}(Fi),xD=function(){function t(t,n){this.Jo=t,this.GU=hi(n,function(t){return Boolean(t.NI.match(/video/))}),this.zU=hi(n,function(t){return Boolean(t.NI.match(/audio/))}),this.Ej()}t.QC=function(n,i){for(var r=[],e=0;e<n.eF.length;e++){var u=n.eF[e].OS;r.push(new OD(u,i))}return new t(n,r)};var n=t.prototype;return n.Ej=function(){},n.AE=function(t,n){return vn.resolve(void 0)},n.us=function(){var t=vn.coroutine(fn.mark(function t(){var n,i,r;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(n=0,i=[this.zU,this.GU].filter(M);n<i.length;n++)(r=i[n]).bs(),r.lM().catch(j);case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.nF=function(t){},n.rF=function(t,n,i,r){},n.gM=function(){var t,n;null===(t=this.zU)||void 0===t||t.gM(),null===(n=this.GU)||void 0===n||n.gM()},n.gU=function(t){return!1},n.wU=function(t){},T(t,[{key:"Sj",get:function(){return[this.zU,this.GU].filter(M).filter(function(t){return t.AM})}},{key:"dF",get:function(){return this.zU}},{key:"hw",get:function(){return this.Jo}},{key:"bv",get:function(){return 0}},{key:"JL",get:function(){var t,n,i,r,e=null===(n=null===(t=this.zU)||void 0===t?void 0:t.JL())||void 0===n||n,u=null===(r=null===(i=this.GU)||void 0===i?void 0:i.JL())||void 0===r||r;return e&&u}},{key:"lF",get:function(){return this.GU}},{key:"Vd",get:function(){throw new d("Not implemented")}}]),t}(),PD=function(t){function n(n){var i;return(i=t.call(this)||this).Rj=!0,i.dj=new ID,i.Ij=new CD,i.Nj=!0,i.Dj=new vn(function(t,n){i.Cj=t,i.Oj=n}),i._L=!1,i.NV=vn.resolve(),i.DV=new ki,i.xj=!0,i.OV=xf.ik(),i.Pj=function(){i.Rv||i.cj.dl.lh<=0||i.dl.lh<=0||i.Ij.kC(new nd(i.dl.om(i.dl.lh-1)),i.cj.dl.om(i.cj.dl.lh-1))},i.Bj=function(){i.ys(new Oa(i.Av))},i.Lj=function(){i.ys(new xa(i.Av,i.ll))},i.Mj=function(){i.ys(new Pa(i.Av,i.Iv))},i.Uj=function(){i.ys(new Ia(i.Av,i.Ov))},i.Fj=function(){i.ys(new Ba(i.bv))},i.Hj=function(){i.ys(new Rw(i.Av))},i.Vj=function(){i.ys(new Ic)},i.Xj=function(){i.ys(new Nc)},i.Wj=function(){var t=new Qc(qc.ABORTED,"Disable casting","Casting not allowed");i.ys(new oR(t))},i.qj=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.cj.Rs("playing");case 2:i.xj&&i.ys(new Ma(i.Av)),i.Nj=!1,i.xj=!0;case 5:case"end":return t.stop()}},t)})),i.zj=function(){i.Nj=!0,i.ys(new Fa(i.Av))},i.cj=n,i.EX=new DD(jt(i),i.cj),i.cj.Qn("id","player_video"),i.Gj(),i.jj(),i.VG=i.cj.createAggregateFullscreen(),i}qt(n,t);var i=n.prototype;return i.Gj=function(){this.cj.ps("timeupdate",this.Pj),this.cj.ps("ended",this.Bj),this.cj.ps("timeupdate",this.Lj),this.cj.ps("ratechange",this.Mj),this.cj.ps("volumechange",this.Uj),this.cj.ps("durationchange",this.Fj),this.cj.ps("playing",this.Hj),this.cj.ps("webkitcurrentplaybacktargetiswirelesschanged",this.Wj),this.cj.ps("seeking",this.Vj),this.cj.ps("seeked",this.Xj),this.cj.ps("play",this.qj),this.cj.ps("pause",this.zj)},i.Qj=function(){this.cj.Ts("timeupdate",this.Pj),this.cj.Ts("ended",this.Bj),this.cj.Ts("timeupdate",this.Lj),this.cj.Ts("ratechange",this.Mj),this.cj.Ts("volumechange",this.Uj),this.cj.Ts("durationchange",this.Fj),this.cj.Ts("playing",this.Hj),this.cj.Ts("webkitcurrentplaybacktargetiswirelesschanged",this.Wj),this.cj.Ts("seeking",this.Vj),this.cj.Ts("seeked",this.Xj),this.cj.Ts("play",this.qj),this.cj.Ts("pause",this.zj)},i.jj=function(){this.EX.ps(wa.Zc,this.gs)},i.Yj=function(){this.EX.Ts(wa.Zc,this.gs)},i.Qs=function(t,n){this.DV.fs(),this.DV=new ki,this.NV=this.HX(t,this.NV,this.DV.ls).catch(j)},i.HX=function(){var t=vn.coroutine(fn.mark(function t(n,i,r){var e,u,s;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.OV=this.Tl,u=null===(e=this.vE)||void 0===e?void 0:e.Sj){t.next=4;break}return t.abrupt("return");case 4:return s=g.max.apply(g,u.map(function(t){return t.Tj?t.Tj.tk:1/0})),this._L=!0,this.ys(new Da(n)),t.next=9,i.catch(j);case 9:if(bi(r),t.prev=10,this.Rj||this.Zj(),this.cj.mo(),this.Nj){t.next=17;break}return this.xj=!1,t.next=17,Si(this.cj.qd(),r);case 17:if(!(this.Mh<pa.$h)){t.next=22;break}return t.next=20,this.EX.Rs(wa.Zc,r);case 20:t.next=17;break;case 22:this.Cj(),this.Rj=!1,this._L=!1,this.ys(new Na(this.Av)),t.next=32;break;case 28:throw t.prev=28,t.t0=t.catch(10),this.Oj(),t.t0;case 32:return t.prev=32,this.Jj(),this.Ij.vj(new nd(s)),t.finish(32);case 36:case"end":return t.stop()}},t,this,[[10,28,32,36]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.zd=function(){this.Nj=!0,this.cj.zd()},i.qd=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Nj=!1,t.prev=1,this.cj.Hh){t.next=8;break}return this.$X(),t.next=6,this.Dj;case 6:t.next=10;break;case 8:return t.next=10,this.cj.qd();case 10:t.next=16;break;case 12:throw t.prev=12,t.t0=t.catch(1),this.Nj=!0,t.t0;case 16:case"end":return t.stop()}},t,this,[[1,12]])}));return function(){return t.apply(this,arguments)}}(),i.us=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.dj&&this.dj.aj().catch(j),this.DV.fs(),this.Qj(),this.Yj(),this.EX.us();case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.fh=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.dj&&this.dj.aj().catch(j),this.DV.fs(),this.cj.fh(),this.EX.fh(),this.OV=xf.ik();case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.$X=function(){this.cj.$X()},i.Zj=function(){var t,n=this.cj.ZG;if(n.length>0){var i,r,e=(t=n[0]).width,u=this.cj.Cv/this.cj.Dv,s=t.height;e/s>u?(i=s*u,r=s):(r=e/u,i=e),this.cj.sz.width=i+"px",this.cj.sz.height=r+"px",this.cj.sz.marginLeft=(e-i)/2+"px",this.cj.sz.marginTop=(s-r)/2+"px",this.cj.sz.backgroundColor="black"}},i.Jj=function(){this.cj.sz.width="100%",this.cj.sz.height="100%",this.cj.sz.marginLeft="",this.cj.sz.marginTop="",this.cj.sz.backgroundColor=""},i.HS=function(t,n,i,r){},i.nb=function(t,n,i,r,e){},i.ZL=function(t){return vn.resolve(void 0)},i.jS=function(){var t=this.cj.QG();return{yl:0,wl:t.droppedVideoFrames,ml:t.totalVideoFrames}},i.nl=function(){this.cj.sz.display="block"},i.il=function(){this.cj.sz.display="none"},i.fF=function(){},i.mo=function(){var t=vn.coroutine(fn.mark(function t(n){var i;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.Pu!==Kg.SE){t.next=2;break}throw new d("Not yet implemented");case 2:return t.next=4,this.dj.sj();case 4:return i={kind:yD.tj,mediaBufferConfigs:n.eF.map(function(t){return t.OS})},t.next=7,this.dj.oj(i);case 7:return this.vE=xD.QC(n,this.dj),this.cj.El="none",this.cj.Hh="https://theo.proxy/"+this.dj.aa+"/master.m3u8",t.abrupt("return",this.vE);case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.vF=function(){},i.ub=function(t){},i.GS=function(t){},i.US=function(){return!1},T(n,[{key:"Av",get:function(){return this.cj.Av+this.Ij.fj.tk}},{key:"Rv",get:function(){return this.cj.Rv}},{key:"Ov",get:function(){return this.cj.Ov},set:function(t){this.cj.Ov=t}},{key:"Iv",get:function(){return this.cj.Iv},set:function(t){this.cj.Iv=t}},{key:"YG",get:function(){return this.cj.YG}},{key:"dl",get:function(){var t,n,i=null!==(n=null===(t=this.vE)||void 0===t?void 0:t.Sj)&&void 0!==n?n:[];return 0===i.length?xf.ik():i.reduce(function(t,n){return t.Nm(n.dl)},new xf([0,1/0]))}},{key:"Tl",get:function(){var t=xf.Km(this.cj.Tl);return this.OV.Lm(t.js(this.Ij.fj.tk))}},{key:"Nv",get:function(){return this._L}},{key:"bv",get:function(){return this.cj.bv}},{key:"Sv",get:function(){return this.cj.Sv},set:function(t){this.cj.Sv=t}},{key:"sz",get:function(){return this.cj.sz}},{key:"iW",get:function(){return dn(dn({},yS),{ML:!0,UL:300})}},{key:"Mh",get:function(){return this.EX.Mh}},{key:"Dv",get:function(){return this.cj.Dv}},{key:"Cv",get:function(){return this.cj.Cv}},{key:"Tv",get:function(){return this.cj.Tv}},{key:"Cg",get:function(){return 0}},{key:"Ja",get:function(){return 0}},{key:"gl",get:function(){return!1}},{key:"nW",get:function(){return!1}},{key:"ll",get:function(){}},{key:"JB",get:function(){}},{key:"xs",get:function(){}},{key:"XS",get:function(){return this.VG}},{key:"Sl",get:function(){return xf.ik()}},{key:"QS",get:function(){}},{key:"Xd",get:function(){}},{key:"tW",get:function(){return"block"===this.cj.sz.display}}]),n}(Fi),BD=2,LD=[Tf.dd,Tf.ld];function MD(t){var n=s.createElement(t);return je(n)&&function(t){t.addEventListener("contextmenu",function(t){t.preventDefault()})}(n),UD(n),n}function UD(t){t.removeAttribute("id"),t.removeAttribute("class"),t.removeAttribute("style"),function(t){if(t)for(var n;n=t.firstChild;)t.removeChild(n)}(t),Qe(t),t.pause(),t.playbackRate=1,t.preload=qw.rk,t.controls=!1,t.style.display="none",je(t)&&(t.style.width="100%",t.style.height="100%",t.style.pointerEvents="none",t.playsInline=!0,t.setAttribute("webkit-playsinline",""))}function FD(t,n){if(n.Va){var i=t.muted;t.muted=!0,t.muted=!1,t.muted=i}else if(t.paused){var r=t.play();q(r)&&Ci(r),t.pause()}}var HD;pn=(HD={$j:function(){function t(t,n,i,r,e){void 0===i&&(i=BD),void 0===r&&(r=LD),void 0===e&&(e=nu()),this.Kj=i,this.tQ=[].concat(r),this.Xu=e,this.TX=t,this.yR=n,this.nQ=_n(),this.iQ()}var n=t.prototype;return n.kR=function(t){for(var n=0,i=this.NR;n<i.length;n++){i[n].KX(t)}this.rQ&&(this.eQ=new SD(t,this.rQ))},n.TS=function(t){var n=hi(this.nQ.get(t),function(t){return t.uQ});if(n)return n.uQ=!1,n.sQ},n.oQ=function(t){var n;if(!this.rQ)throw new d("Error creating iOS Safari MediaController");return null===(n=this.eQ)||void 0===n||n.fh(),UD(this.rQ),new PD(this.eQ)},n.zS=function(){var t=vn.coroutine(fn.mark(function t(n){var i,r,e;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.SS,r=i.tagName.toLowerCase(),t.next=4,n.fh();case 4:UD(i),(e=hi(this.nQ.get(r)||[],function(t){return n===t.sQ}))&&(e.uQ=!0);case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.SR=function(){for(var t=0,n=this.aQ;t<n.length;t++){FD(n[t],r.wc)}this.rQ&&FD(this.rQ,r.wc)},n.vh=function(){for(var t,n=0,i=this.NR;n<i.length;n++){var r=i[n],e=r.SS;r.us(),UD(e),Ve(e)}this.rQ&&(null===(t=this.eQ)||void 0===t||t.us(),UD(this.rQ),Ve(this.rQ))},n.iQ=function(){for(var t=0,n=this.tQ;t<n.length;t++){var i=n[t],r=[];this.nQ.set(i,r);for(var e=0;e<this.Kj;e++){var u=MD(i),s=i===Tf.dd?new JI(u,this.Xu,this.TX):new mD(u,this.Xu,this.TX,this.yR);r.push({sQ:s,uQ:!0})}}P.un&&P.Xt&&(this.rQ=MD(Tf.ld))},T(t,[{key:"NR",get:function(){for(var t=[],n=0,i=this.tQ;n<i.length;n++){var r=i[n],e=this.nQ.get(r).map(function(t){return t.sQ});t.push.apply(t,e)}return t}},{key:"aQ",get:function(){return this.NR.map(function(t){return t.SS})}}]),t}(),cQ:function(){function t(n){var i=this;this.mR=n,this.hQ=new Kl,this.fQ=vn.coroutine(fn.mark(function n(){var r,e,u;return fn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=i.mR.TS(Tf.ld),e=r.SS,n.next=4,t.vQ(e);case 4:return u=n.sent,n.next=7,i.mR.zS(r);case 7:return n.abrupt("return",u);case 8:case"end":return n.stop()}},n)}))}var n=t.prototype;return n.DL=function(){return this.hQ.vb(this.fQ)},n.$d=function(){this.mR.SR()},t.vQ=function(){var n=vn.coroutine(fn.mark(function n(i){return fn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i.src||(i.src="data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw"),n.next=3,t.dQ();case 3:return n.next=5,t.lQ(i);case 5:if(!n.sent){n.next=7;break}return n.abrupt("return","all");case 7:return n.next=9,t._Q(i);case 9:if(!n.sent){n.next=11;break}return n.abrupt("return","muted");case 11:return n.abrupt("return","none");case 12:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}(),t.lQ=function(){var t=vn.coroutine(fn.mark(function t(n){var i;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n.play(),t.prev=1,q(i)){t.next=4;break}return t.abrupt("return",!P.qt);case 4:return t.next=6,i;case 6:return t.abrupt("return",!0);case 9:return t.prev=9,t.t0=t.catch(1),t.abrupt("return",!1);case 12:return t.prev=12,n.pause(),t.finish(12);case 15:case"end":return t.stop()}},t,null,[[1,9,12,15]])}));return function(n){return t.apply(this,arguments)}}(),t._Q=function(){var n=vn.coroutine(fn.mark(function n(i){var r;return fn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i.muted=!0,n.next=3,t.lQ(i);case 3:return r=n.sent,i.muted=!1,n.abrupt("return",r);case 6:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}(),t.dQ=function(){return new vn(function(t){if("function"==typeof MessageChannel){var n=new MessageChannel;n.port1.onmessage=function(){return t()},n.port2.postMessage("")}else c(t,0)})},n.vh=function(){this.hQ.vh()},t}(),gQ:{qI:function(t){Tn.addEventListener("beforeunload",t)},iN:function(t){Tn.removeEventListener("beforeunload",t)}},wQ:u}).$j,An=HD.cQ,bn=HD.gQ,Tn=HD.wQ,En=Tn&&Tn.location,Sn=Tn&&Tn.navigator;var VD=[];function XD(){VD.shift()()}function WD(t){VD.push(t),c(XD,0)}var qD=function(){function t(t){this.yQ=t}var n=t.prototype;return n.mQ=function(t){return this.kQ=this.kQ||{},void 0===this.kQ[t]&&(this.kQ[t]=[]),this.kQ[t]},n.addEventListener=function(t,n){var i=this.mQ(t);-1===i.indexOf(n)&&i.push(n)},n.Xh=function(t){(this.pQ||(this.pQ=[])).push(t)},n.removeEventListener=function(t,n){var i=this.mQ(t);n?vi(i,n):i.length=0},n.Wh=function(t){var n=this.pQ;n&&vi(n,t)},n.bs=function(){this.kQ=void 0},n.dispatchEvent=function(t,n){if(n)return WD(this.dispatchEvent.bind(this,t));"string"==typeof t&&(t={type:t});for(var i=this.mQ(t.type).slice(),r=this.pQ&&this.pQ.slice(),e=0;e<i.length;e++){i[e].call(this.yQ||this,t)}if(r)for(var u=0;u<r.length;u++){r[u].call(this.yQ||this,t)}},n.AQ=function(t){return Boolean(this.kQ&&this.kQ[t]&&this.kQ[t].length)},n.bQ=function(){return this.kQ?_.keys(this.kQ):[]},t}(),zD=function(){function t(){this.TQ=[]}var n=t.prototype;return n.QC=function(t,n){var i=this.TQ[t];return i?new i(n):null},n.PL=function(t,n){this.TQ[t]=n},t}();zD.gn=new zD;var GD,jD=function(t){function n(n,i){var r,e=YD[n];return(r=t.call(this,e?e.Ds:"")||this).code=n,r.info=i,r.helpLink=e&&e.EQ,r.helpLinkText=e&&e.SQ,r}return qt(n,t),T(n,[{key:"name",get:function(){return"THEOplayerError"}}]),n}(Yt);!function(t){t.RQ="LICENSE_INVALID",t.IQ="MANIFEST_NOT_FOUND",t.NQ="MANIFEST_CORS_ERROR",t.DQ="INVALID_HLS_MANIFEST",t.CQ="PLAYBACK_ISSUE",t.OQ="AUDIO_ISSUE",t.xQ="BROWSER_SUPPORT_ISSUE",t.PQ="INVALID_KEY",t.BQ="DECRYPTION_ERROR",t.LQ="AD_BLOCK_DETECTED",t.MQ="THEOPLAYER_NOT_INITIALIZED",t.Ph="ERROR",t.UQ="MANIFEST_SEQUENCE_RESET_ERROR",t.FQ="PLAYER_INCORRECTLY_CONFIGURED",t.HQ="UNSUPPORTED"}(GD||(GD={}));for(var QD=[{eo:GD.RQ,Ds:"The license for this player is invalid. Please contact your service provider for additional information."},{eo:GD.IQ,Ds:"Could not load the manifest file."},{eo:GD.NQ,Ds:"Could not load the manifest file. Make sure the source is set correctly and that CORS support is enabled.",EQ:"https://www.theoplayer.com/documentation/cors.html",VQ:!1},{eo:GD.DQ,Ds:"The source of the player is an invalid HLS manifest.",EQ:"https://developer.apple.com/library/ios/technotes/tn2288/_index.html"},{eo:GD.CQ,Ds:"There appears to be a playback issue."},{eo:GD.OQ,Ds:"There is an audio issue. Please contact your service provider with the code below for additional information."},{eo:GD.xQ,Ds:"Your browser doesn't support a feature. Try upgrading your browser or please contact your service provider referring to the code below."},{eo:GD.PQ,Ds:"There is an invalid key being decrypted. Please contact your service provider with the code below for additional information."},{eo:GD.BQ,Ds:"There is a decryption error. Please contact your service provider with the code below for additional information."},{eo:GD.LQ,Ds:"An ad blocker was detected. Please turn it off and refresh the page in order to watch this video."},{eo:GD.MQ,Ds:"THEOplayer hasn't been initialized yet. Please check your configuration or wait."},{eo:GD.Ph,Ds:"THEOplayer encountered an error. If this issue holds, please contact your service provider."},{eo:GD.UQ,Ds:"The video stream has been reset. THEOplayer will attempt to reload the source."},{eo:GD.FQ,Ds:"The player is incorrectly configured.",EQ:"https://support.theoplayer.com/hc/en-us/articles/214343065-Player-API"},{eo:GD.HQ,Ds:"This browser does not allow you to watch this video. Try to update your browser or use a different browser."}],YD={},ZD=0;ZD<QD.length;ZD++){var JD=QD[ZD];YD[JD.eo]=JD}function $D(t){return t.XQ}var KD=function(){function t(){this.uN=[],this.WQ={},this.qQ=0}var n=t.prototype;return n.zQ=function(t){var n=this.WQ[t];return void 0===n?-1:n-this.qQ},n.GQ=function(t){return this.uN[t]},n.jQ=function(t){return this.GQ(this.zQ(t))},n.QQ=function(t){return!!this.GQ(t)},n.YQ=function(t){return!!this.jQ(t)},n.ZQ=function(){return this.uN},n.Bm=function(t){var n,i=this.uN,r=i.length?i[i.length-1]:null;if(this.zQ(t.XQ)>=0)return!1;if(r&&t.XQ>r.XQ)n=i.length;else{var e=aR(this.uN,t.XQ,$D,Rf);if(e>=0)return!1;n=-(e+1)}return this.JQ(t,n),!0},n.ko=function(t){var n=this.uN,i=this.WQ,r=this.zQ(t.XQ);return!(r<0)&&(n.splice(r,0,t),delete i[t.XQ],this.$Q(r),!0)},n.KQ=function(t){var n=this.uN,i=this.WQ;t=g.min(t,n.length);for(var r=0;r<t;r++)delete i[n[r].XQ];n.splice(0,t),this.qQ+=t},n.JQ=function(t,n){var i=this.uN;n>=i.length?i.push(t):i.splice(n,0,t),this.$Q(n)},n.$Q=function(t){for(var n=this.uN,i=this.WQ,r=this.qQ,e=n.length,u=t;u<e;u++)i[n[u].XQ]=u+r},T(t,[{key:"lh",get:function(){return this.uN.length}}]),t}(),tC=function(){function t(t,n,i){this.tY=t,this.nY=n,this.iY=i}var n=t.prototype;return n.compute=function(){return this.tY.live?this.tY.rY?this.tY.eY:this.estimateDiscontinuitySequenceNumber():0},n.estimateDiscontinuitySequenceNumber=function(){var t=0;return this.iY&&(t+=this.uY()),this.sY()&&(t+=this.oY(t)),t},n.sY=function(){return void 0!==this.nY.aY.jQ(this.tY.fragments[0].XQ)},n.oY=function(t){var n=this.tY.fragments[0];return this.nY.aY.jQ(n.XQ).cY-(n.cY+t)||0},n.uY=function(){var t=nC(this.tY),n=nC(this.iY.hY),i=this.estimateMinimalOffset(n,t);return this.getOldDiscontinuitySequenceNumber(this.iY)+i},n.estimateMinimalOffset=function(t,n){for(var i=0,r=1/0,e=0;e<t.length;e+=1){for(var u=0,s=0;s<n.length+t.length;s+=1){var o=t[s]||0,a=n[s-e]||0;u+=g.abs(o-a)}u<r&&(i=e,r=u)}return i},n.getOldDiscontinuitySequenceNumber=function(t){return t.hY.fragments.length?this.iY.fY(t.hY.fragments[0].XQ).cY:0},t}();function nC(t){for(var n=[],i=0,r=0,e=t.fragments;r<e.length;r++){var u=e[r];u.vY&&(n.push(i),i=0),i+=u.duration}return n.push(i),n}var iC=function(t){function n(n){return t.call(this,Dv.th,n)||this}return qt(n,t),n.prototype.Lc=function(){return new rC(this.Ck.Bc)},n}(Lv),rC=function(t){function n(n){return t.call(this,Cv.th,n)||this}return qt(n,t),n}(Mv),eC=function(t){function n(n,i){var r,e=uC(i,n.bv,n.QS,n.dY);return(r=t.call(this,i,e,void 0,!1,n.Th)||this).lY=n._Y,r.gY=n.QS,r.wY=n.dY,r._F=n.bv,r.yY=n.mY,r.kY=Boolean(n.pY),r.AY=n.bY||{},r.TY=n.EY,r.SY=n.RY,r.IY=n.NY,r.DY(),r.CY(),r}qt(n,t);var i=n.prototype;return i.po=function(t){var n=!1;void 0===this.lY&&void 0!==t._Y&&(n=!0,this.lY=t._Y),void 0===this.wY&&void 0!==t.dY&&(n=!0,this.wY=t.dY),void 0===this._F&&void 0!==t.bv&&(n=!0,this._F=t.bv),void 0===this.yY&&void 0!==t.mY&&(n=!0,this.yY=t.mY),!this.kY&&t.pY&&(n=!0,this.kY=t.pY),n=this.updateCustomAttributes(t,n),void 0===this.TY&&void 0!==t.EY&&(n=!0,this.TY=t.EY),void 0===this.SY&&void 0!==t.RY&&(n=!0,this.SY=t.RY),void 0===this.IY&&void 0!==t.NY&&(n=!0,this.IY=t.NY),this.DY(),this.CY(),this.OY(),n&&this.ys(new iC(this))},i.updateCustomAttributes=function(t,n){var i=n;if(t.bY)for(var r=0,e=_.keys(t.bY);r<e.length;r++){var u=e[r];void 0===this.AY[u]&&(i=!0,this.AY[u]=t.bY[u])}return i},i.DY=function(){this._F&&!this.wY&&(this.wY=new Date(this.gY.getTime()+1e3*this._F))},i.CY=function(){this.wY&&!this._F&&(this._F=Ht(this.wY.getTime()-this.gY.getTime()))},i.OY=function(){this.Qk===1/0&&(this.wY||this._F)&&(this.Qk=uC(this.jk,this._F,this.gY,this.wY))},T(n,[{key:"Bc",get:function(){var t;return this.Pc||(this.Pc=Go(Uv(t=this),{get content(){return t.Pk},get class(){return t._Y},get startDate(){return t.QS},get endDate(){return t.dY},get duration(){return t.bv},get plannedDuration(){return t.mY},get endOnNext(){return t.pY},get scte35Cmd(){return t.EY},get scte35Out(){return t.RY},get scte35In(){return t.NY},get customAttributes(){return t.bY}})),this.Pc}},{key:"_Y",get:function(){return this.lY}},{key:"QS",get:function(){return this.gY}},{key:"dY",get:function(){return this.wY}},{key:"bv",get:function(){return this._F}},{key:"mY",get:function(){return this.yY}},{key:"pY",get:function(){return this.kY}},{key:"EY",get:function(){return this.TY}},{key:"RY",get:function(){return this.SY}},{key:"NY",get:function(){return this.IY}},{key:"bY",get:function(){return this.AY}}]),n}(Wv);function uC(t,n,i,r){return M(n)?t+n:r?t+(Ht(r.getTime())-Ht(i.getTime())):1/0}var sC,oC,aC,cC,hC,fC=function(t){function n(){return t.call(this,void 0,void 0,gf.DATE_RANGE)||this}qt(n,t);var i=n.prototype;return i.po=function(t,n){var i=this;t=function(t){for(var n=_n(),i=[],r=0;r<t.length;r++){var e=t[r];if(n.has(e.Th)){var u=n.get(e.Th),s=dn(dn(dn({},u),Zo(e)),{bY:dn(dn({},u.bY),e.bY)});n.set(e.Th,s)}else n.set(e.Th,e),i.push(e.Th)}return i.map(function(t){return n.get(t)})}(t);for(var r=this.Uh.dh,e=function(n){var e=r[n],u=hi(t,function(t){return t.Th===e.Th});u?e.po(u):i.jF(e)},u=r.length-1;u>=0;u--)e(u);for(var s=0,o=t;s<o.length;s++){var a=o[s],c=a.QS;if(void 0!==c&&!this.zF(a.Th)){var h=n(c);this.eb(new eC(a,h))}}},i.eb=function(n){this.xY(n),t.prototype.eb.call(this,n)},i.xY=function(t){var n=this.xF.filter(function(n){return n._Y===t._Y}).pop();n&&n.pY&&n.po({Th:n.Th,dY:t.QS})},n}(NI);function vC(t){return dC(t)?{gd:t.PY,BY:[t.BY.um,t.BY.om],Td:!0}:{gd:t.toString(),Td:!0}}function dC(t){return void 0!==t.BY}function lC(t){return t&&t.LY&&gd(t.LY)||!1}function _C(t){if(!t)return cd.bp;if(!lC(t))return cd.tA(t.duration);var n=t.MY||cd.bp,i=t.UY||cd.bp,r=cd.tA(t.duration);return n.Ip()||i.Ip()?n.Ip()?i.Ip()?r.Ip()?cd.bp:r:i:n:cd.gm(n,i)}function gC(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.sb)return i}return null}function wC(t){return gC(t)||function(t){return t.filter(function(t){return t.FY})}(t)[0]||t[0]}function yC(t,n){for(var i=0;i<n.length;i++){var r=n[i];li(t,r)||t.push(r)}return t}function mC(t){switch(t){case cC.ld:case cC.HY:return Tf.ld;case cC.dd:return Tf.dd}}!function(t){t.VY="alternative",t.XY="main",t.WY="commentary",t.qY="",t.fk="descriptions",t.zY="main-desc",t.GY="translation"}(sC||(sC={})),function(t){t.VY="alternative",t.XY="main",t.WY="commentary",t.qY="",t.hk="captions",t.jY="sign",t.ck="subtitles"}(oC||(oC={})),function(t){t.ld="video",t.dd="audio",t.QY="closedCaption",t.YY="variant"}(aC||(aC={})),function(t){t[t.$v=-1]="$v",t[t.dd=0]="dd",t[t.ld=1]="ld",t[t.HY=2]="HY"}(cC||(cC={})),function(t){t[t.$v=-1]="$v",t[t.ZY=1]="ZY",t[t.JY=2]="JY",t[t.$Y=3]="$Y",t[t.KY=4]="KY"}(hC||(hC={})),function(t){t.Nd=function(n){return n>=t.JY},t.tZ=function(n){return n===t.JY||n===t.$Y}}(hC||(hC={}));var kC=function(t){function n(){var n;return(n=t.call(this)||this).nZ=[],n.iZ=function(){return n.dispatchEvent("rZ")},n.eZ=function(){return n.dispatchEvent("uZ")},n}qt(n,t);var i=n.prototype;return i.Bm=function(t){this.nZ.push(t),t.addEventListener("uZ",this.eZ),t.addEventListener("sZ",this.iZ),this.dispatchEvent("oZ"),t.disabled||this.dispatchEvent("rZ")},i.ko=function(t){var n=this.nZ.indexOf(t);n<0||(di(this.nZ,n),t.removeEventListener("uZ",this.eZ),t.removeEventListener("sZ",this.iZ),this.dispatchEvent("oZ"),t.disabled||this.dispatchEvent("rZ"))},i.qs=function(){for(var t=!!this.aZ.length,n=!!this.cZ.length,i=0,r=this.nZ;i<r.length;i++){r[i].removeEventListener("sZ",this.iZ)}this.nZ.length=0,t&&this.dispatchEvent("oZ"),n&&this.dispatchEvent("rZ")},i.vh=function(){this.bs(),this.qs()},T(n,[{key:"aZ",get:function(){return this.nZ}},{key:"cZ",get:function(){return this.nZ.filter(function(t){return!t.disabled})}}]),n}(qD);function pC(t){if(!t)return null;for(var n={hZ:"",fZ:"",vZ:""},i=t.toLowerCase().split(","),r=0;r<i.length;r++){var e=i[r],u=e.trim();"mp4a.40.5"===u||"mp4a.40.05"===u?n.hZ="mp4a.40.5":"mp4a.40.2"===u||"mp4a.40.02"===u?n.hZ="mp4a.40.2":"mp4a.40.29"===u?n.hZ="mp4a.40.29":0===u.indexOf("mp4a.40.3")?n.hZ=u:"ec-3"===u?n.hZ=u:0===u.indexOf("avc")?n.fZ=e:n.vZ+=","+u}return n}var AC=function(t){function n(n,i,r,e,u,s,o,a,c,h,f,v,d,l,_,g){var w;return void 0===_&&(_=sC.XY),(w=t.call(this)||this).dZ=new KD,w.lZ=NaN,w._Z=void 0,w.gZ=void 0,w.XF=void 0,w.wZ=void 0,w.yZ=!1,w.mZ=null,w.kZ=!1,w.pZ=!0,w.AZ=!0,w.bZ=!0,w.TZ=void 0,w.EZ=void 0,w.SZ=void 0,w.RZ=void 0,w.IZ=void 0,w.NZ=void 0,w.DZ=void 0,w.CZ=null,w.OZ=void 0,w.xZ=n,w.PZ=Boolean(l),w.KT=i,w.kk=r||0===r?r:-1,w.BZ=e,w.LZ=u,w.MZ=Boolean(s),w.UZ=Boolean(o),w.FZ=pC(a),w.HZ=g,w.VZ=c,w.wZ=h,w.XZ=f,w.gZ=v,w.XF=d,w.VF=_,w}qt(n,t),n.createFromPlaylistStream=function(t,i,r){return new n(t,i.name||i.media&&i.media.name||void 0,i.id,i["average-bandwidth"],i.uri,void 0,void 0,i.codecs,i.XQ,i.audio,i.resolution,i.bandwidth,i.media?i.media.language:void 0,r,t.WZ[0]?t.WZ[0].Sh:sC.XY)},n.createFromPlaylistMedia=function(t,i,r,e){return new n(t,i.name,i.id,void 0,i.uri,!!i.default&&"yes"===i.default.toLowerCase(),i.autoselect?"yes"===i.autoselect.toLowerCase():void 0,void 0,void 0,void 0,void 0,void 0,i.language,r,function(t){if(t.default&&"yes"===t.default.toLowerCase())return t.characteristics&&jn(t.characteristics,"public.accessibility.describes-video")?sC.zY:sC.XY;if(t.characteristics&&jn(t.characteristics,"public.accessibility.describes-video"))return sC.fk;return sC.VY}(i),e)},n.createFromUri=function(t,i,r){return new n(t,void 0,void 0,void 0,i,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,r)};var i=n.prototype;return i.qZ=function(t,n){var i=Dy(),r=new tC(t,this,n).compute(),e=this.zZ(t.fragments),u=e.oldFragments,s=e.newFragments;this.GZ(u,i),this.jZ(s,i,r),this._Z!==t&&this.QZ(!0),this._Z=t,this.dispatchEvent({type:"YZ",ZZ:this}),this.dispatchEvent("renditionUpdated")},i.fY=function(t){return this.dZ.jQ(t)},i.JZ=function(){null!==this.mZ&&h(this.mZ),this.dispatchEvent("sZ"),this.dispatchEvent("renditionUpdated")},i.$Z=function(t){this.kZ=t,this.JZ()},i.KZ=function(){this.tJ(3e4)},i.vh=function(){null!==this.mZ&&h(this.mZ),this.bs()},i.nJ=function(){var t=this.pZ;this.pZ=this.AZ&&this.bZ,t!==this.pZ&&this.dispatchEvent("uZ")},i.QZ=function(t){this.AZ=t,this.nJ()},i.iJ=function(t){this.bZ=t,this.nJ()},i.rJ=function(t){this.FZ="string"==typeof t?pC(t):t,this.dispatchEvent("renditionUpdated")},i.tJ=function(t){var n=this;this.yZ=!0,this.JZ(),this.mZ=c(function(){n.yZ=!1,n.JZ()},t)},i.eJ=function(t,n){return t?!n&&t.hZ&&t.fZ?cC.HY:t.fZ?cC.ld:t.hZ?cC.dd:cC.$v:cC.$v},i.zZ=function(t){void 0===t&&(t=[]);for(var n=[],i=[],r=0,e=t;r<e.length;r++){var u=e[r];this.dZ.YQ(u.XQ)?n.push(u):i.push(u)}return{oldFragments:n,newFragments:i}},i.GZ=function(t,n){for(var i=0;i<t.length;i++){var r=t[i],e=this.dZ.jQ(r.XQ);e.uJ=yC(e.uJ,r.uJ),e.sJ=r.sJ||e.sJ,e.oJ=n}},i.jZ=function(t,n,i){var r=this.aJ(t);!function(t,n){for(var i=0,r=t.length-1;r>=0;r--){var e=t[r];e.gg=n-i,i+=1e3*e.duration}}(r,n),function(t,n){for(var i=0;i<t.length;i++){var r=t[i];r.cY+=n}}(r,i),this.addRenditionFragments(r)},i.aJ=function(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r.ZZ=this;var e=dn({},r);n.push(e)}return n},i.addRenditionFragments=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.dZ.Bm(i),m(this.lZ)&&(this.lZ=i.XQ)}},T(n,[{key:"Th",get:function(){return this.kk}},{key:"disabled",get:function(){return this.yZ||this.kZ},set:function(t){this.yZ=t,this.JZ()}},{key:"bl",get:function(){return this.pZ}},{key:"cJ",set:function(t){this.PZ=t}},{key:"hJ",get:function(){return this.FZ}},{key:"bandwidth",get:function(){return this.gZ},set:function(t){this.gZ=t,this.dispatchEvent("renditionUpdated")}},{key:"Sh",get:function(){return this.VF}},{key:"resolution",get:function(){return this.XZ},set:function(t){this.XZ=t,this.dispatchEvent("renditionUpdated")}},{key:"uri",get:function(){return this.LZ||this._Z&&this._Z.uri},set:function(t){this.LZ=t,this.dispatchEvent("renditionUpdated")}},{key:"hY",get:function(){return this._Z}},{key:"aY",get:function(){return this.dZ}},{key:"fJ",get:function(){return void 0!==this.HZ?this.HZ:this.eJ(this.FZ,this.PZ)}},{key:"vJ",get:function(){return this._Z?this._Z.live?this._Z.duration<-60?hC.$Y:hC.KY:hC.ZY:hC.$v}},{key:"Cn",get:function(){return this.KT},set:function(t){this.KT=t,this.dispatchEvent("renditionUpdated")}},{key:"XQ",get:function(){return this.VZ}},{key:"Ih",get:function(){return this.XF}},{key:"sb",get:function(){return this.MZ}},{key:"FY",get:function(){return this.UZ||this.MZ}},{key:"hZ",get:function(){return this.wZ}},{key:"dJ",get:function(){return this.lZ}},{key:"lJ",get:function(){return!!this.hY}},{key:"_J",get:function(){return this.BZ}},{key:"vD",get:function(){return this.xZ}},{key:"gJ",get:function(){return this.TZ},set:function(t){var n=this.TZ;this.TZ=t,n!==t&&this.dispatchEvent("renditionUpdated")}}]),n}(qD);var bC=function(t){function n(n,i){var r;(r=t.call(this)||this).dZ=new KD,r._Z=void 0,r.wJ=null,r.yJ=function(){return r.mJ()},r.xZ=n,r.pa=i.type,r.kk=i.id||0===i.id?i.id:-1,r.LZ=i.uri,r.XF=i.language,r.KT=i.name,r.MZ=!!i.default&&"yes"===i.default.toLowerCase(),r.UZ=!!i.autoselect&&"yes"===i.autoselect.toLowerCase();var e=function(t){if(jn(t.characteristics,"public.accessibility.describes-music-and-sound"))return Hf.hk;return Hf.ck}(i);return r.kJ=new bR(e,r.KT,r.XF,void 0,gf.WEBVTT),r.MZ&&(r.kJ.Lh=aa.xh),r}qt(n,t);var i=n.prototype;return i.qZ=function(t){this._Z=t,this.GZ(t.fragments),this.mJ(),this.dispatchEvent({type:"YZ",rendition:this}),this.dispatchEvent("renditionUpdated")},i.vh=function(){this.bs(),this.uy=null},i.GZ=function(t){for(var n=0;n<t.length;n++){var i=t[n];i.ZZ=this;var r=this.dZ.jQ(i.XQ);r?r.uJ=yC(r.uJ,i.uJ):(r=dn({},i),this.dZ.Bm(r),this.dispatchEvent({type:"pJ",AJ:r}))}},i.mJ=function(){this.wJ&&this.wJ.bJ(this,this.dZ)},T(n,[{key:"TJ",get:function(){return this.kJ}},{key:"uy",get:function(){return this.wJ},set:function(t){this.wJ&&this.wJ.removeEventListener("EJ",this.yJ),this.wJ=t,this.mJ(),this.wJ&&this.wJ.addEventListener("EJ",this.yJ)}},{key:"Th",get:function(){return this.kk}},{key:"Ih",get:function(){return this.XF}},{key:"sb",get:function(){return this.MZ}},{key:"FY",get:function(){return this.UZ||this.MZ}},{key:"PY",get:function(){return this.LZ}},{key:"uri",get:function(){return this.LZ}},{key:"hY",get:function(){return this._Z}},{key:"aY",get:function(){return this.dZ}},{key:"Pu",get:function(){return this.pa}},{key:"vJ",get:function(){return this._Z?this._Z.live?this._Z.duration<-60?hC.$Y:hC.KY:hC.ZY:hC.$v}},{key:"Cn",get:function(){return this.KT},set:function(t){this.KT=t,this.kJ.Rh=this.KT}},{key:"vD",get:function(){return this.xZ}},{key:"disabled",get:function(){return!1}}]),n}(qD),TC=function(t){function n(n,i){var r;(r=t.call(this)||this).SJ=["renditionUpdated","YZ","RJ"],r.IJ=null,r.NJ=null,r.DJ=null,r.CJ=null,r.OJ=new kC,r.xJ=new kC,r.PJ=new kC,r.Ld={},r.BJ=null,r._F=NaN,r.gs=function(t){return r.dispatchEvent(t)},r.Jo=n,r.LJ=i;var e=jt(r);return r.MJ=function(){e.UJ(this)},r.FJ=function(t){e.HJ(this,t)},r}qt(n,t);var i=n.prototype;return i.VJ=function(t,n){var i=new DI(n);return i.Lh=aa.Oh,this.Ld[i.Th]=i,this.dispatchEvent({type:"XJ",Mc:i}),i},i.WJ=function(t,n,i){var r=new NI(i,"manifest");return r.Lh=aa.Oh,this.Ld[r.Th]=r,this.dispatchEvent({type:"XJ",Mc:r}),r},i.qJ=function(t,n){if(t){var i=t.Uh,r=t.zJ,e=t&&this.Ld[r];e||(e=new DI(t.Bh),this.Ld[r]=e,e.Lh=aa.Oh,this.dispatchEvent({type:"XJ",Mc:e}));for(var u=0;u<i.length;u++){var s=i[u];e.eb(s)}}},i.GJ=function(t){t&&(this.jJ||(this.jJ=new bR(Hf.hk,"CC1","en",!0,gf.CEA608),this.Ld.CC1=this.jJ,this.dispatchEvent({type:"XJ",Mc:this.jJ})),this.jJ.eb(t))},i.QJ=function(t,n,i){var r=this.Ld[t];if(r){var e=[];!function(t,n,i,r){for(var e=0,u=t.Uh.dh;e<u.length;e++){var s=u[e];if(s.Ok>=i)break;n<s.xk&&r.push(s)}}(r,n,i,e);for(var u=0;u<e.length;u++){var s=e[u];r.jF(s)}}},i.YJ=function(t,n){return this.ZJ(t,n)},i.JJ=function(t){var n;return(n=this.$J(t,this.OJ))?n:(n=this.$J(t,this.xJ))?n:n=this.$J(t,this.PJ)},i.vh=function(){this.Ss(this.OJ),this.OJ.vh(),this.Ss(this.xJ),this.xJ.vh(),this.Ss(this.PJ),this.PJ.vh(),this.Ld={},this.jJ=void 0,this.KJ&&(this.KJ.vh(),this.KJ=void 0),this.BJ=null,this._F=NaN,this.IJ=null,this.NJ=null,this.DJ=null,this.CJ=null,this.dispatchEvent("vh")},i.t$=function(t){var n=AC.createFromUri(this,t.uri);this.Ss(this.xJ),this.xJ.Bm(n),n.addEventListener("renditionUpdated",this.MJ)},i.UJ=function(t){var n=t.hY,i=t.vJ;if(m(this._F)||hC.Nd(i)){if(hC.$v===i)return;if(!n)return;this._F=n.duration,this.dispatchEvent("n$")}m(this._F)||hC.ZY!==i||t.removeEventListener("renditionUpdated",this.MJ)},i.i$=function(t){var n=this;this.Ss(this.OJ),this.OJ.qs(),this.Ss(this.xJ),this.xJ.qs(),this.PJ.qs(),this.BJ=t;for(var i=t.streams.map(function(t){return AC.createFromPlaylistStream(n,t)}).filter(function(t){return function(t){if(!t)return!0;if(t.hZ&&!jn(t.hZ,"mp4a")&&!jn(t.hZ,"mp3"))return!1;if(t.fZ&&!jn(t.fZ,"avc1"))return!1;return!0}(t.hJ)}),r=i.some(function(t){return t.hJ&&t.hJ.hZ}),e=i.some(function(t){return t.hJ&&t.hJ.fZ}),u=0;u<i.length;u++){var s=i[u],o=Boolean(s.hJ&&s.hJ.hZ),a=Boolean(s.hJ&&s.hJ.fZ);r&&!o||e&&!a||(this.xJ.Bm(s),s.addEventListener("renditionUpdated",this.MJ))}for(var c=function(t,i){var r=i[t];switch(r.type.toLowerCase()){case"subtitles":if(!n.LJ){var e=new bC(n,r);n.PJ.Bm(e),n.dispatchEvent({type:"XJ",Mc:e.TJ})}break;case"closed-captions":break;case"audio":var u=n.xJ.aZ.filter(function(t){return t.hZ===r["group-id"]});if(0===u.length)return"continue";r.uri&&u.forEach(function(t){return t.cJ=!0});var s=r.uri?cC.dd:cC.HY,o=AC.createFromPlaylistMedia(n,r,!1,s);n.OJ.Bm(o)}},h=0,f=t.media;h<f.length;h++)c(h,f);this.r$=wC(this.WZ.cZ)||null,this.dispatchEvent("e$")},i.$J=function(t,n){for(var i=0,r=n.aZ;i<r.length;i++){var e=r[i];if(e.uri===t)return e}return null},i.HJ=function(t,n){this.dispatchEvent(dn(dn({},n),{ZZ:t}))},i.u$=function(t){for(var n=0,i=t.aZ;n<i.length;n++)for(var r=i[n],e=0,u=this.SJ;e<u.length;e++){var s=u[e];r.addEventListener(s,this.FJ)}},i.Ss=function(t){for(var n=0,i=t.aZ;n<i.length;n++){i[n].vh()}},i.s$=function(t,n){0!==t.length&&this.Jo.hlsDateRange&&(this.KJ||(this.KJ=new fC,this.dispatchEvent({type:"XJ",Mc:this.KJ})),this.KJ.po(t,n))},i.o$=function(t,n){if(this.NJ!==t){var i=this.NJ;this.NJ=t,this.dispatchEvent({type:"a$",fJ:"hZ",ZZ:this.NJ,c$:i,h$:n})}},i.ZJ=function(t,n){if(this.DJ!==t){var i=this.DJ;this.DJ=t,t&&this.dispatchEvent({type:"a$",fJ:"fZ",ZZ:this.DJ,c$:i,h$:n})}},i.f$=function(t){for(var n=0,i=t.aZ;n<i.length;n++){var r=i[n];if(r.vJ!==hC.$v)return r.vJ}return null},T(n,[{key:"Dd",get:function(){return this.IJ},set:function(t){t&&(0===t.streams.length?this.t$(t):this.i$(t),this.IJ=t,this.u$(this.xJ),this.u$(this.OJ),this.dispatchEvent("v$"))}},{key:"d$",get:function(){return this.BJ}},{key:"bv",get:function(){return this._F}},{key:"Xd",get:function(){var t=this,n=this.PJ.aZ.map(function(t){return t.TJ}),i=_.keys(this.Ld).map(function(n){return t.Ld[n]});return this.jJ&&i.push(this.jJ),this.KJ&&i.push(this.KJ),n.concat(i)}},{key:"r$",get:function(){return this.NJ},set:function(t){this.o$(t,!0)}},{key:"l$",get:function(){return this.DJ},set:function(t){this.ZJ(t,!1)}},{key:"WZ",get:function(){return this.OJ}},{key:"_$",get:function(){return this.xJ}},{key:"g$",get:function(){return this.PJ.aZ}},{key:"vJ",get:function(){var t;return null!==(t=this.NJ&&this.NJ.vJ)&&t!==hC.$v?t:null!==(t=this.DJ&&this.DJ.vJ)&&t!==hC.$v?t:null!==(t=this.f$(this.OJ))?t:null!==(t=this.f$(this.xJ))?t:hC.$v}}]),n}(qD);var EC=function(t){function n(n,i,r){var e,u,s,o,a;return(e=t.call(this)||this).lg=[],e.w$={},e.gs=function(t){return e.dispatchEvent(t)},e.y$=function(t){e.m$(t)},e.k$=function(t){e.handleRenditionUpdated(t)},e.p$=function(t){for(var n=0,i=e.lg;n<i.length;n++){i[n].A$.p$(t)}},e.b$=n,e.T$=i,e.E$=r,e.T$&&e.T$.addEventListener("a$",e.y$),e.E$&&(e.E$.addEventListener("renditionUpdated",e.k$),e.E$.addEventListener("S$",e.p$)),e.Bc=(u=jt(e),s=new qD,o={get length(){return u.lg.length},enable:function(t){u.UA(u.R$(t&&t.id)||t)},disable:function(t){u.FA(u.R$(t&&t.id)||t)},item:function(t){return u.lg[t]&&u.lg[t].Bc},getTrackByID:function(t){var n=u.R$(t);return n&&n.Bc},addEventListener:function(t,n){s.addEventListener(t,n)},removeEventListener:function(t,n){s.removeEventListener(t,n)}},a=function(t){return s.dispatchEvent(t,!0)},u.addEventListener("addtrack",a),u.addEventListener("enabledtrack",a),u.addEventListener("disabledtrack",a),o),e}qt(n,t);var i=n.prototype;return i.R$=function(t){return this.w$[t]},i.oh=function(t){for(var n=0,i=t.A$.Nh;n<i.length;n++){var r=i[n];r.Th===this.I$()&&(r.Jk=!0)}t.addEventListener("enabledtrack",this.gs),t.addEventListener("disabledtrack",this.gs),this.lg.push(t),this.w$[t.Th]=t,this.dispatchEvent({type:"addtrack",track:t.Bc})},i.UA=function(t){if(t){var n=this.w$[t.Th];if(n&&!n.bh){for(var i=this.lg.length-1;i>=0;i--)this.lg[i].tl();n.Kd()}}},i.FA=function(t){},T(n,[{key:"N$",get:function(){return this.I$()}}]),n}(qD);var SC=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).D$=NaN,e}qt(n,t);var i=n.prototype;return i.I$=function(){return this.D$},i.m$=function(t){t.C$?this.O$(t.x$):t.P$&&this.O$(t.P$)},i.O$=function(t){t&&(this.D$=t.Th),this.lg.forEach(function(n){return n.B$(t)})},i.handleRenditionUpdated=function(t){if(t.ZZ&&t.ZZ.fJ===cC.dd)for(var n=0,i=this.lg;n<i.length;n++){i[n].L$(t)}},i.UA=function(n){var i=n;if(!i){var r=this.lg.filter(function(t){return t.sb});r.length>0&&(i=r[0])}t.prototype.UA.call(this,i)},T(n,[{key:"Pu",get:function(){return"audio"}}]),n}(EC),RC=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).M$=NaN,e}qt(n,t);var i=n.prototype;return i.I$=function(){return this.M$},i.m$=function(t){(t.U$||t.x$)&&(t.x$&&(this.M$=t.x$.Th),this.lg.forEach(function(n){return n.B$(t.x$)}))},i.handleRenditionUpdated=function(t){if(t.ZZ&&(t.ZZ.fJ===cC.ld||t.ZZ.fJ===cC.HY))for(var n=0,i=this.lg;n<i.length;n++){i[n].L$(t)}},T(n,[{key:"Pu",get:function(){return"video"}}]),n}(EC);function IC(t,n){for(var i,r=n-(i=t?F(t)?Array.prototype.map.call(t,function(t){return("0"+t.toString(16)).substr(-2)}).join(""):(+t).toString(16):"").length;r>0;)i="0"+i,r-=1;return i}function NC(t,n){return void 0===n&&(n=0),y(t.toFixed(n))}var DC=function(t){function n(n){var i,r,e,u;return(i=t.call(this)||this).Jk=!1,i.F$=!0,i.ZZ=n,i.Jk=!1,i.Bc=(r=jt(i),e=new qD,u={get bandwidth(){return r.ZZ&&r.ZZ.bandwidth},get averageBandwidth(){return r.ZZ&&r.ZZ.averageBandwidth},get codecs(){return r.hJ},get resolution(){return r.H$},get frameRate(){return NC(r.V$,2)},get id(){return r.Th},get uri(){return r.ZZ&&r.ZZ.uri},get name(){return r.Cn},set name(t){r.Cn=t},get enabled(){return r.bh},set enabled(t){r.bh=Boolean(t)},addEventListener:function(t,n){e.addEventListener(t,n)},removeEventListener:function(t,n){e.removeEventListener(t,n)}},r.addEventListener("qualityupdated",function(t){return e.dispatchEvent(t,!0)}),u),i}qt(n,t);var i=n.prototype;return i.X$=function(t){var n=!!t&&this.Th===t.Th;this.Jk!==n&&(this.Jk=n,this.dispatchEvent({type:"activequalitychanged",quality:this.Bc}))},i.L$=function(t){return this.ZZ.Th===t.ZZ.Th&&(this.ZZ=t.ZZ,this.dispatchEvent({type:"qualityupdated",quality:this.Bc}),!0)},T(n,[{key:"bh",get:function(){return this.F$},set:function(t){this.F$=t,this.ZZ.$Z(!t)}},{key:"Sh",get:function(){return this.ZZ.Sh}},{key:"H$",get:function(){return this.ZZ.resolution?{width:this.ZZ.resolution.width,height:this.ZZ.resolution.height}:{width:NaN,height:NaN}}},{key:"Cn",get:function(){return this.ZZ.Cn},set:function(t){this.ZZ.Cn=t,this.dispatchEvent({type:"qualityupdated",quality:this.Bc})}},{key:"Th",get:function(){return this.ZZ.Th}}]),n}(qD);var CC=function(t){function n(n){return t.call(this,n)||this}return qt(n,t),T(n,[{key:"hJ",get:function(){return this.ZZ.hJ&&this.ZZ.hJ.fZ||""}},{key:"V$",get:function(){return NC(Number(this.ZZ.gJ),2)}}]),n}(DC),OC=function(t){function n(n){return t.call(this,n)||this}return qt(n,t),T(n,[{key:"hJ",get:function(){return this.ZZ.hJ&&this.ZZ.hJ.hZ||""}},{key:"V$",get:function(){return NC(Number(this.ZZ.OZ),2)}}]),n}(DC),xC=function(t){function n(n,i){var r,e,u,s,o;(r=t.call(this)||this).W$=null,r.q$={},r.gs=function(t){return r.dispatchEvent(t)},r.Nh=n,r.E$=i;for(var a=r.Nh.length-1;a>=0;a--){var c=r.Nh[a];r.q$[c.Th]=c}return r.Nh.forEach(function(t){return t.addEventListener("activequalitychanged",r.gs)}),r.Bc=(e=jt(r),u=new qD,s={item:function(t){var n=e.sh(t);return n&&n.Bc},getQualitiesByIDs:function(t){return e.z$(t).map(function(t){return t.Bc})},get length(){return e.Nh.length},get activeQuality(){return e.Ah&&e.Ah.Bc},get targetQuality(){return e.Dh?1===e.Dh.length?e.Dh[0].Bc:e.Dh.map(function(t){return t.Bc}):null},set targetQuality(t){if(t){var n=U(t)?t:[t];e.Dh=e.z$(n.map(function(t){return t.id}))}else e.Dh=null},addEventListener:function(t,n){u.addEventListener(t,n)},removeEventListener:function(t,n){u.removeEventListener(t,n)}},o=function(t){return u.dispatchEvent(t,!0)},e.addEventListener("activequalitychanged",o),e.addEventListener("targetqualitychanged",o),s),r}qt(n,t);var i=n.prototype;return i.G$=function(t){return!!t&&this.Nh.some(function(n){return n.Th===t.Th})},i.j$=function(t,n){for(var i=0,r=this.Nh;i<r.length;i++){r[i].X$(t)}},i.z$=function(t){var n=this;return t&&t.map(function(t){return n.q$[t]}).filter(function(t){return t})},i.Q$=function(){for(var t=this.Nh.length-1;t>=0;t--)this.Nh[t].Jk=!1},i.p$=function(t){var n=this.E$.Y$,i=this.z$(n);n&&n.length>0&&i&&i.length>0?this.dispatchEvent({type:"targetqualitychanged",quality:i[0].Bc}):n&&0!==n.length||this.dispatchEvent({type:"targetqualitychanged",quality:null})},i.sh=function(t){return this.Nh[t]},T(n,[{key:"Ah",get:function(){for(var t=0,n=this.Nh;t<n.length;t++){var i=n[t];if(i.Jk)return i}return null}},{key:"Dh",get:function(){return this.W$},set:function(t){this.W$=this.Z$(t)}}]),n}(qD);var PC=function(t){function n(n,i){return t.call(this,n,i)||this}qt(n,t);var i=n.prototype;return i.Kd=function(){this.E$&&(this.E$.D$=this.Nh[0].Th)},i.tl=function(t){this.E$&&(this.E$.D$=null)},i.Z$=function(t){},n}(xC),BC=function(t){function n(n,i){return t.call(this,n,i)||this}qt(n,t);var i=n.prototype;return i.Kd=function(){if(this.Z$(this.Dh),this.E$){var t=this.E$.b$;if(!t)return;var n=hi(t.J$.WZ.aZ,function(t){return!t.uri});this.E$.D$=n?n.Th:null}},i.j$=function(n,i){"video"===i&&t.prototype.j$.call(this,n,i)},i.tl=function(t){"video"===t&&this.Q$()},i.Z$=function(t){if(!this.E$)return this.Dh;var n=t?this.z$(t.map(function(t){return t.Th})):null;if(n&&n.length>0){var i=n.map(function(t){return t.Th});return this.E$.Y$=i,n}return t?this.Dh:(this.E$.Y$=null,null)},n}(xC),LC=function(t){function n(n,i){var r,e,u;return(r=t.call(this)||this).Pu=n,r.A$=i,r.Th=i.sh(0).Th,r.wk=r.A$.Nh.some(function(t){return t.Jk}),r.Cn=i.sh(0).ZZ.Cn,r.Bc=(e=jt(r),u=new qD,{get id(){return e.Th},get enabled(){return e.bh},get qualities(){return e.A$&&e.A$.Bc},get language(){return e.Ih},get default(){return e.sb},get name(){return e.Cn},set name(t){e.Cn=t},addEventListener:function(t,n){u.addEventListener(t,n)},removeEventListener:function(t,n){u.removeEventListener(t,n)}}),r}qt(n,t);var i=n.prototype;return i.B$=function(t){var n=this.A$.G$(t);this.bk(n),this.A$.j$(t,this.Pu)},i.bk=function(t){this.wk!==t&&(t?(this.wk=!0,this.dispatchEvent({type:"enabledtrack",track:this.Bc})):(this.wk=!1,this.dispatchEvent({type:"disabledtrack",track:this.Bc})))},i.Kd=function(){this.wk||this.A$.Kd()},i.tl=function(){this.wk&&this.A$.tl(this.Pu)},i.L$=function(t){t.ZZ.Th===this.Th&&(this.Cn=t.ZZ.Cn);for(var n=0,i=this.A$.Nh;n<i.length;n++){i[n].L$(t)}},T(n,[{key:"bh",get:function(){return this.wk}},{key:"Ih",get:function(){return this.K$()}},{key:"Sh",get:function(){return this.tK()}},{key:"sb",get:function(){var t="video"===this.Pu,n=this.A$.Nh&&this.A$.Nh[0].ZZ.sb;return t||n}}]),n}(qD);var MC=function(t){function n(n){return t.call(this,"video",n)||this}qt(n,t);var i=n.prototype;return i.tK=function(){return oC.XY},i.K$=function(){return""},n}(LC),UC=function(t){function n(n){return t.call(this,"audio",n)||this}qt(n,t);var i=n.prototype;return i.tK=function(){return this.A$.Nh[0].ZZ.Sh},i.K$=function(){return this.A$.Nh[0].ZZ.Ih||""},n}(LC),FC=function(){function t(t,n,i){var r=this;this.nK=function(){var t=r.iK;t.removeEventListener("rK",r.nK);var n=t.J$._$.aZ,i=t.J$.WZ.aZ,e=n.map(function(t){return new CC(t)});if(e.length>0){var u=new BC(e,r.eK);r.uK.oh(new MC(u));var s=hi(i,function(t){return!t.uri}),o=0===i.length;if(n.length>0&&(Boolean(s)||o)){var a=new UC(u);s&&(a.Cn=s.Cn),r.sK.oh(a)}}for(var c=0;c<i.length;c++){var h=i[c];if(h.uri){var f=new OC(h),v=new PC([f],r.eK);r.sK.oh(new UC(v))}}},this.iK=t,this.eK=i,this.sK=new SC(t,n,i),this.uK=new RC(t,n,i),t&&(t.rK?this.nK():t.addEventListener("rK",this.nK))}return T(t,[{key:"Hd",get:function(){return this.sK}},{key:"Vd",get:function(){return this.uK}}]),t}(),HC=["loadedmetadata","durationchange","xs","nO","bl","oK"],VC=["aK","a$","cK","xs"],XC=function(t){function n(n,i,r,e,u,s,o){var a;(a=t.call(this)||this).hK=null,a.fK=[],a.vK=[],a.dK=function(t){return a.dispatchEvent(t)},a.lK=function(t){return a._K(t)},a.gK=function(t){return a.wK(t)},a.aR=n.src,a.yK=n.type,a.mK=i,a.kK=r,a.pK=e,a.b$=u,a.T$=s,a.b$&&(a.b$.addEventListener("AK",a.dK),a.b$.addEventListener("bK",a.dK));var c=new FC(a.b$,a.T$,o);return a.Vd=c.Vd,a.Hd=c.Hd,a.cR=null,a.aR&&(a.T$&&a.T$.fh(),a.b$&&(a.b$.TK=a.aR)),a}qt(n,t);var i=n.prototype;return i.EK=function(t){this.T$&&this.T$.mo(t),this.b$&&this.b$.SK(),this.cR&&this.RK()},i.IK=function(){this.T$&&this.T$.IK(),this.b$&&this.b$.NK()},i.DK=function(){if(this.b$)for(var t=0;t<HC.length;t++){var n=HC[t];this.b$.addEventListener(n,this.lK)}if(this.T$)for(var i=0;i<VC.length;i++){var r=VC[i];this.T$.addEventListener(r,this.gK)}},i.CK=function(){if(this.b$)for(var t=0;t<HC.length;t++){var n=HC[t];this.b$.removeEventListener(n,this.lK)}if(this.T$)for(var i=0;i<VC.length;i++){var r=VC[i];this.T$.removeEventListener(r,this.gK)}},i.RK=function(){if(this.b$&&this.fK.length){var t=this.fK.slice();gi(this.fK);for(var n=0;n<t.length;n++){var i=t[n];this.b$.dispatchEvent(i)}}if(this.T$&&this.vK.length){var r=this.vK.slice();gi(this.vK);for(var e=0;e<r.length;e++){var u=r[e];this.T$.dispatchEvent(u)}}},i._K=function(t){this.fK.push(t)},i.wK=function(t){this.vK.push(t)},i.vh=function(){this.dispatchEvent("vh"),this.bs(),this.T$&&this.T$.vh(),this.pK&&this.pK.vh(),this.b$&&this.b$.vh(),this.hK=null,gi(this.fK),gi(this.vK)},T(n,[{key:"cR",get:function(){return this.hK},set:function(t){this.CK(),this.hK=t,this.cR?this.dispatchEvent("Do"):this.DK()}}]),n}(qD),WC=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).iK=null,n.gs=function(t){n.dispatchEvent(t,!0)},n}return qt(n,t),T(n,[{key:"D$",get:function(){var t=this.iK&&this.iK.J$.r$;return t?t.Th:null},set:function(t){var n;this.iK&&(n=null===t?wC(this.iK.J$.WZ.aZ):this.iK.J$.WZ.aZ.filter(function(n){return t===n.Th}).shift(),this.iK.J$.r$=n||null)}},{key:"Y$",get:function(){return this.iK&&this.iK.xK||null},set:function(t){this.iK&&(this.iK.PK(t),this.dispatchEvent("S$"))}},{key:"b$",get:function(){return this.iK},set:function(t){this.iK&&(this.iK.J$.removeEventListener("v$",this.gs),this.iK.J$.removeEventListener("renditionUpdated",this.gs),this.iK.J$.removeEventListener("e$",this.gs)),this.iK=t,this.iK&&(this.iK.J$.addEventListener("v$",this.gs),this.iK.J$.addEventListener("renditionUpdated",this.gs),this.iK.J$.addEventListener("e$",this.gs))}}]),n}(qD),qC=function(){function t(){}var n=t.prototype;return n.BK=function(t){return vn.resolve(!1)},n.LK=function(t){return vn.reject(zC)},n.MK=function(t){return vn.reject(zC)},n.Hs=function(t){return vn.resolve(!1)},n.Vs=function(t,n){return vn.resolve(void 0)},n.UK=function(t){return vn.resolve([])},n.FK=function(){return vn.resolve([])},n.HK=function(t,n){return vn.resolve([])},n.ko=function(t){return vn.reject(zC)},n.VK=function(t){return vn.reject(zC)},n.XK=function(){return vn.reject(zC)},t}(),zC="Storage disabled",GC=function(){function t(){this.WK=new qC,this.qK=new qC,this.zK=new qC,this.GK=new qC,this.jK=new qC}return t.QC=function(){return vn.resolve(new t)},t.prototype.QK=function(t){return vn.reject(jC)},t}(),jC="Storage disabled",QC=function(){function t(t){var n=this;this.hs=new se,this.YK=void 0,this.hs.io(t),this.hs.to.then(function(t){n.YK=t})}var n=t.prototype;return n.BK=function(){var t=vn.coroutine(fn.mark(function t(n){var i;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.YK,t.t0){t.next=5;break}return t.next=4,this.ZK;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.BK(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.LK=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.YK,t.t0){t.next=5;break}return t.next=4,this.ZK;case 4:t.t0=t.sent;case 5:return r=t.t0,t.abrupt("return",r.LK(n,i));case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.MK=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.YK,t.t0){t.next=5;break}return t.next=4,this.ZK;case 4:t.t0=t.sent;case 5:return r=t.t0,t.abrupt("return",r.MK(n,i));case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.Hs=function(){var t=vn.coroutine(fn.mark(function t(n){var i;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.YK,t.t0){t.next=5;break}return t.next=4,this.ZK;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.Hs(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Vs=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.YK,t.t0){t.next=5;break}return t.next=4,this.ZK;case 4:t.t0=t.sent;case 5:return r=t.t0,t.abrupt("return",r.Vs(n,i));case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.UK=function(){var t=vn.coroutine(fn.mark(function t(n){var i;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.YK,t.t0){t.next=5;break}return t.next=4,this.ZK;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.UK(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.FK=function(){var t=vn.coroutine(fn.mark(function t(){var n;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.YK,t.t0){t.next=5;break}return t.next=4,this.ZK;case 4:t.t0=t.sent;case 5:return n=t.t0,t.abrupt("return",n.FK());case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.HK=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.YK,t.t0){t.next=5;break}return t.next=4,this.ZK;case 4:t.t0=t.sent;case 5:return r=t.t0,t.abrupt("return",r.HK(n,i));case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.ko=function(){var t=vn.coroutine(fn.mark(function t(n){var i;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.YK,t.t0){t.next=5;break}return t.next=4,this.ZK;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.ko(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.VK=function(){var t=vn.coroutine(fn.mark(function t(n){var i;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.YK,t.t0){t.next=5;break}return t.next=4,this.ZK;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.VK(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.XK=function(){var t=vn.coroutine(fn.mark(function t(){var n;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.YK,t.t0){t.next=5;break}return t.next=4,this.ZK;case 4:t.t0=t.sent;case 5:return n=t.t0,t.abrupt("return",n.XK());case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),T(t,[{key:"ZK",get:function(){return this.hs.to}}]),t}(),YC=function(){function t(t){var n=this;this.hs=new se,this.JK=void 0,this.hs.io(t);var i=this.hs.to;i.then(function(t){n.JK=t}),this.qK=new QC(i.then(function(t){return t.qK})),this.WK=new QC(i.then(function(t){return t.WK})),this.zK=new QC(i.then(function(t){return t.zK})),this.GK=new QC(i.then(function(t){return t.GK})),this.jK=new QC(i.then(function(t){return t.jK}))}return t.prototype.QK=function(){var t=vn.coroutine(fn.mark(function t(n){var i;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.JK,t.t0){t.next=5;break}return t.next=4,this.$K;case 4:t.t0=t.sent;case 5:return i=t.t0,t.next=8,i.QK(n);case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),T(t,[{key:"$K",get:function(){return this.hs.to}}]),t}();function ZC(t){return void 0!==t}var JC=function(){function t(){this.KK=[]}var n=t.prototype;return n.BK=function(t){return vn.resolve("temporary"===t)},n.LK=function(){var t=vn.coroutine(fn.mark(function t(n){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.ko(n.key);case 2:this.KK.push(n);case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.MK=function(){var t=vn.coroutine(fn.mark(function t(n){var i,r=this;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.map(function(t){return r.LK(t)}),t.next=3,vn.all(i);case 3:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),n.Hs=function(){var t=vn.coroutine(fn.mark(function t(n){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",vn.resolve(Boolean(this.n0(n))));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Vs=function(t,n){return vn.resolve(this.n0(t,n))},n.UK=function(t){var n=this,i=t?t.map(function(t){return n.n0(t)}):this.KK;return vn.resolve(i.filter(ZC))},n.FK=function(){return vn.resolve([].concat(this.KK))},n.HK=function(t,n){var i=n||"key",r=this.KK.filter(function(n){return n[i]===t});return vn.resolve(r)},n.ko=function(t){var n=this.n0(t);return n&&vi(this.KK,n),vn.resolve()},n.VK=function(){var t=vn.coroutine(fn.mark(function t(n){var i,r;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0;case 1:if(!(i<n.length)){t.next=8;break}return r=n[i],t.next=5,this.ko(r);case 5:i++,t.next=1;break;case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.XK=function(){return gi(this.KK),vn.resolve()},n.n0=function(t,n){n=n||"key";for(var i=0,r=this.KK;i<r.length;i++){var e=r[i];if(e[n]===t)return e}},t}(),$C=function(){function t(){this.WK=new JC,this.qK=new JC,this.zK=new JC,this.GK=new JC,this.jK=new JC}return t.QC=function(){return vn.resolve(new t)},t.prototype.QK=function(t){return t(this)},t}(),KC=function(){function t(t){this.i0=t}var n=t.prototype;return n.BK=function(){var t=vn.coroutine(fn.mark(function t(n){var i,r,e;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0,r=this.i0;case 1:if(!(i<r.length)){t.next=10;break}return e=r[i],t.next=5,e.BK(n);case 5:if(!t.sent){t.next=7;break}return t.abrupt("return",!0);case 7:i++,t.next=1;break;case 10:return t.abrupt("return",!1);case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.LK=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r,e,u;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.i0;case 1:if(!(r<e.length)){t.next=10;break}return u=e[r],t.next=5,u.BK(i);case 5:if(!t.sent){t.next=7;break}return t.abrupt("return",u.LK(n));case 7:r++,t.next=1;break;case 10:throw new d("No collection found that can handle storage persistency type "+i);case 11:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.MK=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r,e,u;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.i0;case 1:if(!(r<e.length)){t.next=10;break}return u=e[r],t.next=5,u.BK(i);case 5:if(!t.sent){t.next=7;break}return t.abrupt("return",u.MK(n));case 7:r++,t.next=1;break;case 10:throw new d("No collection found that can handle storage persistency type "+i);case 11:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.Hs=function(){var t=vn.coroutine(fn.mark(function t(n){var i,r,e;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0,r=this.i0;case 1:if(!(i<r.length)){t.next=10;break}return e=r[i],t.next=5,e.Hs(n);case 5:if(!t.sent){t.next=7;break}return t.abrupt("return",!0);case 7:i++,t.next=1;break;case 10:return t.abrupt("return",!1);case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Vs=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r,e,u,s;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.i0;case 1:if(!(r<e.length)){t.next=11;break}return u=e[r],t.next=5,u.Vs(n,i);case 5:if(!(s=t.sent)){t.next=8;break}return t.abrupt("return",s);case 8:r++,t.next=1;break;case 11:return t.abrupt("return",void 0);case 12:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.UK=function(){var t=vn.coroutine(fn.mark(function t(n){var i,r,e,u;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=[],r=0,e=this.i0;case 2:if(!(r<e.length)){t.next=13;break}return u=e[r],t.t0=i.push,t.t1=i,t.next=8,u.UK(n);case 8:t.t2=t.sent,t.t0.apply.call(t.t0,t.t1,t.t2);case 10:r++,t.next=2;break;case 13:return t.abrupt("return",i);case 14:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.FK=function(){var t=vn.coroutine(fn.mark(function t(){var n,i,r,e;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=[],i=0,r=this.i0;case 2:if(!(i<r.length)){t.next=13;break}return e=r[i],t.t0=n.push,t.t1=n,t.next=8,e.FK();case 8:t.t2=t.sent,t.t0.apply.call(t.t0,t.t1,t.t2);case 10:i++,t.next=2;break;case 13:return t.abrupt("return",n);case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.HK=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r,e,u,s;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],e=0,u=this.i0;case 2:if(!(e<u.length)){t.next=13;break}return s=u[e],t.t0=r.push,t.t1=r,t.next=8,s.HK(n,i);case 8:t.t2=t.sent,t.t0.apply.call(t.t0,t.t1,t.t2);case 10:e++,t.next=2;break;case 13:return t.abrupt("return",r);case 14:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.ko=function(){var t=vn.coroutine(fn.mark(function t(n){var i,r,e;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0,r=this.i0;case 1:if(!(i<r.length)){t.next=8;break}return e=r[i],t.next=5,e.ko(n);case 5:i++,t.next=1;break;case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.VK=function(){var t=vn.coroutine(fn.mark(function t(n){var i,r,e;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0,r=this.i0;case 1:if(!(i<r.length)){t.next=8;break}return e=r[i],t.next=5,e.VK(n);case 5:i++,t.next=1;break;case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.XK=function(){var t=vn.coroutine(fn.mark(function t(){var n,i,r;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=0,i=this.i0;case 1:if(!(n<i.length)){t.next=8;break}return r=i[n],t.next=5,r.XK();case 5:n++,t.next=1;break;case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),t}();function tO(t){return vn.coroutine(fn.mark(function n(){var i;return fn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,vn.all(t.map(function(t){return t()}));case 2:return i=n.sent,n.abrupt("return",nO.QC(i));case 4:case"end":return n.stop()}},n)}))}var nO=function(){function t(t){this.r0=t,this.e0=new KC(t.map(function(t){return t.GK})),this.u0=new KC(t.map(function(t){return t.jK})),this.s0=new KC(t.map(function(t){return t.zK})),this.o0=new KC(t.map(function(t){return t.WK})),this.a0=new KC(t.map(function(t){return t.qK}))}return t.QC=function(n){return vn.resolve(new t(n))},t.prototype.QK=function(n){var i=this;if(0===this.r0.length)return n(this);var r=[],e=0;return this.r0[e].QK(function u(s){return r.push(s),++e<i.r0.length?i.r0[e].QK(u):n(new t(r))})},T(t,[{key:"GK",get:function(){return this.e0}},{key:"jK",get:function(){return this.u0}},{key:"zK",get:function(){return this.s0}},{key:"WK",get:function(){return this.o0}},{key:"qK",get:function(){return this.a0}}]),t}(),iO=function(){function t(t){this.c0=[],this.h0=!0,this.f0=t}var n=t.prototype;return n.QC=function(){return new YC(this.v0())},n.v0=function(){var t=vn.coroutine(fn.mark(function t(){var n,i,r;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.h0){t.next=4;break}return t.next=3,vn.resolve();case 3:this.h0=!1;case 4:n=0,i=this.c0;case 5:if(!(n<i.length)){t.next=18;break}return r=i[n],t.prev=7,t.next=10,tO([$C.QC,r])();case 10:return t.abrupt("return",t.sent);case 13:t.prev=13,t.t0=t.catch(7);case 15:n++,t.next=5;break;case 18:return t.next=20,tO([$C.QC,this.f0])();case 20:return t.abrupt("return",t.sent);case 21:case"end":return t.stop()}},t,this,[[7,13]])}));return function(){return t.apply(this,arguments)}}(),n.PL=function(t){if(!this.h0)throw new d("Registration overdue");this.c0.push(t)},t}(),rO=function(){function t(){}return t.PL=function(n){t.d0.PL(n)},T(t,null,[{key:"gn",get:function(){return t.l0||(t.l0=t.d0.QC()),t.l0}}]),t}();function eO(t){return no(t)}function uO(t,n){var i=no(t);return n?""+i+n:""+i}function sO(t,n,i,r,e,u){var s=new Pc;return n&&s.set("Range","bytes="+n[0]+"-"+n[1]),new Ly({gd:t,kd:i,yd:s,Td:r,md:Dc.GET,Pu:Cc.td,ls:e,Ed:u})}rO.d0=new iO(GC.QC),rO.l0=void 0;var oO=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this)||this).jA=null,o.dD=new ki,o._0=function(t,n){return o.Ed(t,n)},o.Ig=n,o.PY=i,o.kd=r,o.g0=e,o.cO=u,o.w0=new cO,o.$A=s,o.y0=rO.gn.WK,o.m0=rO.gn.qK,o}qt(n,t);var i=n.prototype;return i.um=function(){return this.k0(this.dD.ls)},i.k0=function(){var t=vn.coroutine(fn.mark(function t(n){var i,r,e,u,s,o,a;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return dC(i=this.PY)?(r=i.PY,e=[i.BY.um,i.BY.om]):(r=i,e=void 0),this.w0.p0(),t.prev=3,t.next=6,this.A0(r,e);case 6:if(u=t.sent,bi(n),u){t.next=12;break}return t.next=11,this.b0(r,e,n);case 11:u=t.sent;case 12:return t.next=14,u.$n();case 14:s=t.sent,bi(n),this.T0(s,u.YA),t.next=28;break;case 19:if(t.prev=19,t.t0=t.catch(3),!Ai(t.t0)){t.next=25;break}return t.abrupt("return");case 25:a=t.t0 instanceof EA?t.t0.jA.YA:0,o=new d('Could not load fragment: "'+this.PY+'", HTTP status '+a);case 27:return t.abrupt("return",this.E0(o));case 28:case"end":return t.stop()}},t,this,[[3,19]])}));return function(n){return t.apply(this,arguments)}}(),i.A0=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r,e,u,s;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=uO(n,i),t.next=4,this.y0.Hs(r);case 4:if(!t.sent){t.next=11;break}return t.next=7,this.m0.Vs(r);case 7:return e=t.sent,u=sO(n,i,this.kd,this.g0),s=e.data.buffer,t.abrupt("return",new AA({$n:s,yd:{},GA:u,QA:n,kd:this.kd,YA:200,AT:""}));case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0);case 16:return t.abrupt("return",null);case 17:case"end":return t.stop()}},t,this,[[0,13]])}));return function(n,i){return t.apply(this,arguments)}}(),i.b0=function(t,n,i){var r=sO(t,n,this.kd,this.g0,i,this._0);return this.$A.GA(r)},i.Ed=function(t,n){var i={type:"oK",GA:this,S0:t,R0:n=void 0===n?NaN:n};this.w0.I0(t,n),this.dispatchEvent(i)},i.T0=function(t,n){var i=this.kd===Sc.zv?t.byteLength:0;this.w0.N0(i),this.kd===Sc.An?this.jA=t:this.jA=new k(t),this.D0=n,t=null,this.E0(),this.jA=null},i.fs=function(t){return this.dD.fs(),t||((t=new d('Aborted fragment load: "'+this.PY+'"')).aborted=!0),this.E0(t)},i.E0=function(t){this.w0.C0();var n={type:"Gd",GA:this};return this.dispatchEvent(n),this.cO(t||null,this)},n}(qD);function aO(){return Dy()/1e3}var cO=function(t){function n(){var n;return(n=t.call(this)||this).O0=NaN,n.x0=NaN,n.P0=NaN,n.B0=NaN,n.L0=0,n.M0=NaN,n.O0=aO(),n}qt(n,t);var i=n.prototype;return i.p0=function(){this.O0=aO(),this.dispatchEvent("po")},i.I0=function(t,n){this.P0=aO(),this.AK||(this.x0=this.P0),this.L0=t,this.M0=n||this.M0||NaN,this.dispatchEvent("po")},i.N0=function(t){this.I0(t,t)},i.C0=function(){this.B0=aO(),this.dispatchEvent("po")},T(n,[{key:"AK",get:function(){return!m(this.x0)}},{key:"U0",get:function(){return!m(this.B0)}},{key:"Id",get:function(){return(this.x0||aO())-this.O0}},{key:"F0",get:function(){return(this.B0||this.P0)-this.x0}},{key:"H0",get:function(){return(this.B0||this.P0)-this.O0}}]),n}(qD),hO=function(t){function n(n,i){var r;return(r=t.call(this)||this).V0=[],r.X0=null,r.W0=function(t){return r.q0(t)},r.g0=!(!i||i.crossOrigin!==ja.wv),r.$A=n,r}qt(n,t);var i=n.prototype;return i.mo=function(t,n,i,r){var e=new oO(t,n,i,this.g0,r,this.$A);return e.addEventListener("Gd",this.W0),this.V0.push(e),this.z0(),e},i.qs=function(t,n){var i=function(t){return!n||t.Ig===n},r=this.V0.filter(i);!t&&this.X0&&i(this.X0)&&r.push(this.X0);for(var e=0;e<r.length;e++){r[e].fs()}return r},i.z0=function(){if(!this.X0){var t=this.V0.shift();t&&(this.X0=t,t.um())}},i.q0=function(t){var n=t.GA,i=this.V0.indexOf(n);-1!==i&&di(this.V0,i),this.X0===n&&(this.X0=null,this.z0())},n}(qD);function fO(n){return t.URL&&t.URL.createObjectURL?t.URL.createObjectURL(n):t.webkitURL&&t.webkitURL.createObjectURL?t.webkitURL.createObjectURL(n):t.createObjectURL?t.createObjectURL(n):null}function vO(n){return t.URL&&t.URL.revokeObjectURL?t.URL.revokeObjectURL(n):t.webkitURL&&t.webkitURL.revokeObjectURL?t.webkitURL.revokeObjectURL(n):t.revokeObjectURL?t.revokeObjectURL(n):void 0}function dO(t,n){return To([t],{type:n})}var lO="iframe.html",_O=0,gO=p&&(p.bind&&p.bind(p)||p),wO=function(t){function n(n){var i;return(i=t.call(this)||this).G0=void 0,i.j0=[],i.Q0=!1,i.gs=function(t){return i.dispatchEvent(t)},n&&i.Do(n),i}qt(n,t);var i=n.prototype;return i.postMessage=function(t){this.Q0||(this.G0?this.G0.postMessage(t):this.j0.push(t))},i.Do=function(t){if(this.Q0)t.terminate();else{this.G0=t,this.G0.addEventListener("message",this.gs,!1),this.G0.addEventListener("error",this.gs,!1);for(var n=0,i=this.j0;n<i.length;n++){var r=i[n];this.G0.postMessage(r)}this.j0.length=0}},i.terminate=function(){this.bs(),this.Q0=!0,this.j0.length=0,this.G0&&(this.G0.removeEventListener("message",this.gs,!1),this.G0.removeEventListener("error",this.gs,!1),this.G0.terminate(),this.G0=void 0)},n}(qD);var yO=function(n){function i(i,r,e){var u,o,a;return(u=n.call(this)||this).Y0=function(){return u.Z0()},u.J0=function(t){return u.$0(t)},u.Th=i,u.K0=r,u.n1=(o=e+lO,(a=s.createElement("iframe")).width="0",a.height="0",a.style.display="none",a.src=o,s.body.appendChild(a),a),u.i1=u.n1.contentWindow,u.e1=uo(e),u.n1.addEventListener("load",u.Y0),t.addEventListener("message",u.J0),u}qt(i,n);var r=i.prototype;return r.Z0=function(){this.n1.removeEventListener("load",this.Y0),this.i1.postMessage({type:"initialize",id:this.Th,script:this.K0},"*")},r.$0=function(t){uo(t.origin)===this.e1&&t.data.id===this.Th&&("initialized"===t.data.type?this.dispatchEvent("initialized"):"error"===t.data.type?this.dispatchEvent({type:"error",message:t.data.data.message,filename:t.data.data.filename,lineno:t.data.data.lineno}):this.dispatchEvent({type:"message",data:t.data.data}))},r.postMessage=function(t){this.i1.postMessage({type:"message",data:t},"*")},r.terminate=function(){this.n1.removeEventListener("load",this.Y0),t.removeEventListener("message",this.J0),this.i1.postMessage({type:"terminate"},"*"),this.n1.parentNode.removeChild(this.n1)},i}(qD);function mO(){return(mO=vn.coroutine(fn.mark(function t(n,i){var r,e,u,s,o,a;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=lT.KC,t.prev=1,e=new Ly({gd:n,md:Dc.GET,kd:Sc.An}),t.next=5,r.GA(e);case 5:return u=t.sent,t.next=8,u.$n();case 8:s=t.sent,i(void 0,s),t.next=17;break;case 12:t.prev=12,t.t0=t.catch(1),o=new d("PLAYER_INCORRECTLY_CONFIGURED"),a=t.t0 instanceof EA?t.t0.jA.YA:-1,i({eo:a,xs:o});case 17:case"end":return t.stop()}},t,null,[[1,12]])}))).apply(this,arguments)}function kO(t,n){function i(i){return e(),V(r=i.data)&&"2.84.1"===r.u1?n(void 0,t):n(new d("PLAYER_INCORRECTLY_CONFIGURED"));var r}function r(i){i.preventDefault&&i.preventDefault(),e(),t.terminate(),n({message:i.message,filename:i.filename,lineno:i.lineno})}function e(){t.removeEventListener("message",i),t.removeEventListener("error",r)}t.addEventListener("message",i),t.addEventListener("error",r)}function pO(t,n){if(void 0===t)return n({message:"Worker could not be loaded."});var i;try{i=new gO(t)}catch(t){return n({message:t.message})}return kO(i,n)}var AO=!0;function bO(t,n){var i=_O++,r=t+n,e=new wO;function u(){!function(t,n,i,r){var e;function u(){a(),kO(e,r)}function o(t){t.preventDefault&&t.preventDefault(),a(),e.terminate(),r({message:t.message,filename:t.filename,lineno:t.lineno})}function a(){e.removeEventListener("initialized",u),e.removeEventListener("error",o)}if(!s)return r({message:"Could not create Worker.",filename:"workershim.js",lineno:223});(e=new yO(t,n,i)).addEventListener("initialized",u),e.addEventListener("error",o)}(i,r,t,o)}function o(t,n,i){t?e.dispatchEvent({type:"error",message:t.message,filename:t.filename,lineno:t.lineno}):(e.Do(n),i&&e.dispatchEvent(i))}return pO(r,function(t,n,i){t?function(t,n){mO.apply(this,arguments)}(r,function(t,n){t?t.eo>=400?o(t.xs):u():n&&function(t,n){if(!AO)return n({message:"Could not create Worker.",filename:"workershim.js",lineno:196});pO(fO(dO(t,"application/javascript")),function(t,i,r){return t&&(AO=!1),n(t,i,r)})}(n,function(t,n,i){t?u():o(t,n,i)})}):o(t,n,i)}),e}function TO(t,n){if(n<0)throw new d("The index provided ("+n+") must be non-negative");if(n>=t.length)throw new d("The index provided ("+n+") is greater than the maximum bound ("+t.length+")")}function EO(t){return{get length(){return t.length},start:function(n){return TO(t,n|=0),t.start(n)},end:function(n){return TO(t,n|=0),t.end(n)}}}function SO(t,n){return t.um-n.um}var RO=function(){function t(t){this.s1=t}var n=t.prototype;return n.start=function(t){return this.s1[t].um},n.end=function(t){return this.s1[t].om},n.o1=function(){return this.s1},T(t,[{key:"length",get:function(){return this.s1.length}}]),t}(),IO=new RO([]),NO=new RO([{um:-1/0,om:1/0}]);function DO(t,n){return function(t,n){var i=t.length;if(n=+n||0,i<2)return t;for(var r=[],e=t.start(0),u=t.end(0),s=1;s<i;s++){var o=t.start(s),a=t.end(s);e<=o&&u>=a||(u+n>=o?u=a:(r.push({um:e,om:u}),e=o,u=a))}return r.push({um:e,om:u}),new RO(r)}(function(t){var n=BO(t);return n.sort(SO),new RO(n)}(t),n)}function CO(t,n){for(var i=[],r=0,e=0;r<t.length&&e<n.length;){var u=g.max(t.start(r),n.start(e)),s=g.min(t.end(r),n.end(e));u<s&&i.push({um:u,om:s}),t.end(r)<n.end(e)?r+=1:e+=1}return new RO(i)}function OO(t){var n=t.length;if(!n)return NO;var i=[],r=t.start(0);r!==-1/0&&i.push({um:-1/0,om:r});for(var e=0;e<n-1;e+=1)i.push({um:t.end(e),om:t.start(e+1)});var u=t.end(n-1);return u!==1/0&&i.push({um:u,om:1/0}),new RO(i)}function xO(t,n){return-1!==PO(t,n)}function PO(t,n){return function(t,n,i,r){n+=r=+r||0,i-=r;for(var e=0;e<t.length;e+=1)if(t.start(e)<=n&&i<=t.end(e))return e;return-1}(t,n,n)}function BO(t){if(t instanceof RO)return t.o1();var n=[];if(!t)return n;for(var i=0;i<t.length;i++)n.push({um:t.start(i),om:t.end(i)});return n}function LO(t,n){return i=[t,n],e=(r=e=[]).concat.apply(r,i.map(BO)),DO(new RO(e));var i,r,e}var MO=.001;function UO(t,n,i){return i=+i||0,t.um-i<=n.om&&n.um<=t.om+i}function FO(t){var n={um:NaN,om:NaN,aY:t};return HO(n),n}function HO(t){var n=t.aY;n.length?(n.sort(SO),t.um=n[0].um,t.om=n[n.length-1].om):(t.um=NaN,t.om=NaN)}function VO(t){return void 0!==t.aY}function XO(t,n,i){for(var r=[],e=0;e<t.length;e++){var u=t[e],s=g.max(u.um,n),o=g.min(u.om,i);if(s<o){var a=void 0;a=u.um===s&&u.om===o?u:{um:s,om:o,Lg:u.Lg},r.push(a)}}return r}function WO(t,n){var i=g.min(t.um,n.um),r=g.max(t.om,n.om),e=t.aY,u=n.aY,s=e.concat(u),o=e.length?e[e.length-1]:null,a=u.length?u[0]:null;return o&&a&&o.Lg===a.Lg&&UO(o,a,MO)&&s.splice(e.length-1,2,function(t,n){var i=t.Lg||n.Lg;return{um:g.min(t.um,n.um),om:g.max(t.om,n.om),Lg:i}}(o,a)),FO(s=XO(s,i,r))}var qO,zO,GO=function(){function t(t,n){this.s1=function(t){for(var n=[],i=0;i<t.length;i+=1){var r=t[i],e=void 0;VO(r)?HO(e=r):e=FO([r]),e.aY.length&&e.um<e.om&&n.push(e)}return n}(t),n||this.a1()}var n=t.prototype;return n.start=function(t){return this.s1[t]&&this.s1[t].um},n.end=function(t){return this.s1[t]&&this.s1[t].om},n.aY=function(t){return this.s1[t]&&this.s1[t].aY},n.c1=function(t,n){return this.h1(t,t,n)},n.h1=function(t,n,i){t+=i=+i||0,n-=i;for(var r=0;r<this.length;r+=1)if(this.start(r)<=t&&n<=this.end(r))return r;return-1},n.f1=function(t,n,i){t-=i=+i||0,n+=i;for(var r=0;r<this.length;r+=1)if(this.start(r)<n&&t<this.end(r))return r;return-1},n.v1=function(t,n){t+=n=+n||0;for(var i=this.length-1;i>=0;i-=1)if(this.start(i)<=t)return i;return-1},n.d1=function(t,n){t-=n=+n||0;for(var i=0;i<this.length;i+=1)if(t<=this.end(i))return i;return-1},n.gk=function(t){return-1!==this.c1(t)},n.Hm=function(t,n,i){return-1!==this.h1(t,n,i)},n.Xm=function(t,n,i){return-1!==this.f1(t,n,i)},n.Nm=function(t){for(var n=[],i=0,r=0;i<this.length&&r<t.length;){var e=g.max(this.start(i),t.start(r)),u=g.min(this.end(i),t.end(r));if(e<u){var s=XO(this.aY(i),e,u);n.push(FO(s))}this.end(i)<t.end(r)?i+=1:r+=1}return this.QC(n,!0)},n.Gm=function(t){return this.length&&t.length?this.Nm(OO(t)):this},n.Lm=function(t){return this.length?t.length?this.QC(this.s1.concat(t.s1)):this:t},n.l1=function(t){for(var n=[],i=0,r=this.s1;i<r.length;i++)for(var e=0,u=r[i].aY;e<u.length;e++){var s=t(u[e]);s&&n.push(s)}return this.QC(n)},n.zm=function(t){return this.l1(function(n){return t(n)?n:null})},n._1=function(){if(!this.length)return this;for(var t=this.s1.slice(),n=0;n<t.length-1;n+=1){var i=t[n],r=t[n+1];r&&this.g1(i,r)&&(t.splice(n,2,WO(i,r)),n-=1)}return this.QC(t,!0)},n.g1=function(t,n){var i=t.aY,r=n.aY,e=i.length?i[i.length-1]:null,u=r.length?r[0]:null;return e&&u&&this.w1(e,u)},n.a1=function(){var t=this.s1;t.sort(SO);for(var n=0;n<t.length-1;n+=1){var i=t[n],r=t[n+1];r&&UO(i,r,MO)&&(t.splice(n,2,WO(i,r)),n-=1)}},T(t,[{key:"length",get:function(){return this.s1.length}}]),t}(),jO=function(t){function n(n,i){return t.call(this,n,i)||this}qt(n,t);var i=n.prototype;return i.QC=function(t,i){return new n(t,i)},i.w1=function(t,n){return n.Lg.ZZ===t.Lg.ZZ&&n.Lg.XQ===t.Lg.XQ+1},n}(GO);function QO(t,n){for(var i=[],r=0;r<n.length;r++){var e=n[r],u=t.m1(e),s=t.A1(e,u);i.push({um:u.ap(),om:s.ap(),Lg:e})}return new jO(i)._1()}function YO(t){return t.b1!==qO.T1}function ZO(t){return 0===t.b1}function JO(t){return t.b1>=0}function $O(t,n){for(var i=[],r=0;r<n.length;r++)for(var e=!1,u=0,s=n.aY(r);u<s.length;u++){var o=s[u];if(!e){var a=o.Lg;if(lC(a)&&YO(a)){if((e=JO(a))&&!ZO(a)){var c=t.E1(a,a.S1).ap();o={um:g.max(o.um,c),om:o.om,Lg:a}}}else e=!0;0}e&&i.push(o)}return new jO(i)}!function(t){t.T1=-1,t.R1=-2}(qO||(qO={})),function(t){t.I1="h.264",t.N1="mp3",t.D1="aac-lc",t.C1="he-aac"}(zO||(zO={}));var KO,tx,nx,ix,rx=function(){function t(){this.O1=0,this.s1=[],this.DA={}}var n=t.prototype;return n.P1=function(t){this.s1=this.s1.concat(t.s1),this.O1+=t.lh},n.B1=function(t,n,i){var r=this.O1,e=i-n;e>0&&(this.s1.push({L1:n,M1:i,U1:e,F1:r,H1:t}),this.O1+=e)},n.Vs=function(t){for(var n=0,i=this.s1;n<i.length;n++){var r=i[n];if(r.F1<=t&&t<r.F1+r.U1)return r.H1[t+r.L1-r.F1]}},n.V1=function(t,n){for(var i=n,r=0,e=this.s1;r<e.length;r++)for(var u=e[r],s=u.M1,o=u.L1;o<s;o+=1,i+=1)t[i]=u.H1[o];return i},n.X1=function(){for(var t=new k(this.O1),n=0,i=0,r=this.s1;i<r.length;i++)for(var e=r[i],u=e.M1,s=e.L1;s<u;s+=1,n+=1)t[n]=e.H1[s];return t},n.Ys=function(n){for(var i=new t,r=0,e=this.s1;r<e.length;r++){var u=e[r];i.B1(u.H1,u.L1,u.M1)}return i.DA=n||dn({},this.DA),i},T(t,[{key:"lh",get:function(){return this.O1},set:function(t){var n=this.s1,i=this.O1-t;if(!(t>=this.O1))if(this.O1=t,0!==t)for(var r=n.length-1;r>=0;r-=1){var e=n[r];if(i<=e.U1)return e.M1-=i,e.U1-=i,void(n.length!==r+1&&(n.length=r+1));i-=e.U1}else n.length=0}},{key:"$n",get:function(){for(var t=new Array(this.O1),n=0,i=0,r=this.s1;i<r.length;i++)for(var e=r[i],u=e.M1,s=e.L1;s<u;s+=1,n+=1)t[n]=e.H1[s];return t}}]),t}();function ex(t,n){return{audio:t.audio?fx(t.audio,n):void 0,video:t.video?wx(t.video,n):void 0,W1:t.W1?(i=t.W1,{q1:i.q1,zJ:i.zJ,Bh:i.Bh,z1:i.z1,G1:i.G1,j1:i.j1,Q1:i.Q1.map(ux),Uh:[]}):void 0,Y1:t.Y1?t.Y1.map(ox):t.Y1,Z1:t.Z1.vA()};var i}function ux(t){return{j_:t.j_,DA:{J1:t.DA.J1,K1:t.DA.n2.vA()},kH:t.kH}}function sx(t){return{j_:t.j_,DA:{J1:t.DA.J1,n2:fd(t.DA.K1)},kH:t.kH}}function ox(t){return{n2:t.n2.vA(),Rw:t.Rw,Yz:t.Yz,Qz:t.Qz,Pu:t.Pu,i2:t.i2,Zz:t.Zz,Jz:t.Jz}}function ax(t){return{n2:fd(t.n2),Rw:t.Rw,Yz:t.Yz,Qz:t.Qz,Pu:t.Pu,i2:t.i2,Zz:t.Zz,Jz:t.Jz}}function cx(t){return{q1:t.q1,kH:[],e2:t.e2,u2:t.u2,duration:t.duration,s2:t.s2,o2:t.o2.vA(),a2:t.a2,c2:t.c2.vA(),h2:t.h2,f2:t.f2.vA(),v2:t.v2.vA(),d2:t.d2.vA(),l2:t.l2.vA(),_2:t._2.vA(),g2:t.g2.vA(),w2:t.w2.vA()}}function hx(t){return{q1:t.q1,kH:[],e2:t.e2,u2:t.u2,duration:t.duration,s2:t.s2,o2:fd(t.o2),a2:t.a2,c2:fd(t.c2),h2:t.h2,f2:fd(t.f2),v2:fd(t.v2),d2:fd(t.d2),l2:fd(t.l2),_2:fd(t._2),g2:fd(t.g2),w2:fd(t.w2)}}function fx(t,n){switch(t.e2){case zO.D1:case zO.C1:return function(t,n){return dn(dn({},dx(t)),{e2:t.e2,kH:t.kH.map(function(t){return function(t,n){var i=(r=t.DA,dn(dn({},kx(r)),{m2:r.m2,A2:r.A2,b2:r.b2}));var r;return _x(t.Ys(i),n)}(t,n)}),CZ:t.CZ,T2:t.T2})}(t,n);case zO.N1:return function(t,n){return dn(dn({},dx(t)),{e2:t.e2,kH:t.kH.map(function(t){return function(t,n){var i=(r=t.DA,dn(dn({},kx(r)),{K_:r.K_,Ng:r.Ng,E2:r.E2,S2:r.S2,R2:r.R2}));var r;return _x(t.Ys(i),n)}(t,n)})})}(t,n)}}function vx(t){switch(t.e2){case zO.D1:case zO.C1:return function(t){return dn(dn({},lx(t)),{e2:t.e2,kH:t.kH.map(function(t){return function(t){var n=gx(t),i=(r=n.DA,dn(dn({},px(r)),{m2:r.m2,A2:r.A2,b2:r.b2}));var r;return n.Ys(i)}(t)}),CZ:t.CZ,T2:t.T2})}(t);case zO.N1:return function(t){return dn(dn({},lx(t)),{e2:t.e2,kH:t.kH.map(function(t){return function(t){var n=gx(t),i=(r=n.DA,dn(dn({},px(r)),{K_:r.K_,Ng:r.Ng,E2:r.E2,S2:r.S2,R2:r.R2}));var r;return n.Ys(i)}(t)})})}(t)}}function dx(t){return dn(dn({},cx(t)),{kH:[],e2:t.e2,I2:t.I2,N2:t.N2,D2:t.D2,C2:t.C2})}function lx(t){return dn(dn({},hx(t)),{kH:[],e2:t.e2,I2:t.I2,N2:t.N2,D2:t.D2,C2:t.C2})}function _x(t,n){var i=t.X1();return n.push(i.buffer),{O2:i,P2:t.lh,B2:t.DA}}function gx(t){var n=new rx;return n.B1(t.O2,0,t.P2),n.DA=t.B2,n}function wx(t,n){return dn(dn({},cx(t)),{e2:t.e2,kH:t.kH.map(function(t){return function(t,n){var i=(r=t.DA,dn(dn({},yx(r)),{bv:r.bv,L2:r.L2.vA(),M2:r.M2,U2:r.U2,F2:r.F2&&r.F2.vA(),H2:r.H2&&r.H2.vA(),V2:r.V2,X2:r.X2,Y1:r.Y1,W2:r.W2}));var r;return _x(t.Ys(i),n)}(t,n)}),q2:t.q2,z2:t.z2,dw:t.dw,width:t.width,height:t.height,G2:t.G2,j2:t.j2,Q2:t.Q2,EZ:t.EZ,SZ:t.SZ,ww:t.ww,yw:t.yw})}function yx(t){var n;return dn(dn({},{J1:(n=t).J1,K1:n.K1.vA()}),{Y2:t.Y2.vA(),Z2:t.Z2.vA()})}function mx(t){var n;return dn(dn({},{J1:(n=t).J1,K1:fd(n.K1)}),{Y2:fd(t.Y2),Z2:fd(t.Z2)})}function kx(t){return dn({},yx(t))}function px(t){return dn({},mx(t))}function Ax(t){var n=t.video,i=n&&n.kH;if(!n)return 0;if(!i)return NaN;for(var r=0;r<i.length;r+=1){if(i[r].DA.V2)return r}return NaN}function bx(t){var n=t.J2.video,i=n&&n.kH;if(!n)return 0;if(!i)return NaN;for(var r=i.length-1;r>=0;r-=1){if(i[r].DA.V2)return r}return NaN}function Tx(t){if(!t)return null;switch(t.e2){case zO.I1:return function(t){return t.dw?"avc1."+(t.G2<16?"0":"")+((t.G2<<16)+(t.j2<<8)+t.Q2).toString(16):null}(t);case zO.N1:return"mp4a.40.34";case zO.D1:return t.T2?"mp4a.40.5":"mp4a.40.2";case zO.C1:return"mp4a.40.5";default:return null}}function Ex(t,n){var i=t.info,r=i.ZZ,e=t.J2,u=r.fY(t.info.XQ-1),s=e.audio||void 0,o=e.video||void 0,a=s&&Tx(s),c=o&&Tx(o),h=(!s||a)&&(!o||c)?{hZ:a,fZ:c}:null,f=s&&!m(s.h2)?s.h2:null,v=o&&!m(o.h2)?o.h2:null,d=pd(s&&s.v2,o&&o.v2),l=pd(s&&s.d2,o&&o.d2),_=Ad(s&&s.g2,o&&o.g2),w=Ad(s&&s.w2,o&&o.w2),y=o&&o.o2.Bm(cd.tA(o.duration)),k=s&&s.o2.Bm(cd.tA(s.duration)),p=lC(u),A=p&&u.width||r.resolution&&r.resolution.width,b=p&&u.width||r.resolution&&r.resolution.height;t.metadata={start:g.max(null===f?v||0:null===v?f:g.min(f,v),0),K2:i,duration:y&&k?cd.gm(y,k).ap():(y||k||cd.bp).ap(),t3:d,n3:l,i3:_,r3:w,audio:{start:g.max(0,f||0),duration:s&&s.s2||0,e2:a,V$:s&&s.a2,t3:s&&s.v2,n3:s&&s.d2,i3:s&&s.g2,r3:s&&s.w2},video:{start:g.max(0,v||0),duration:o&&o.s2||0,e2:c,V$:o&&o.a2,t3:o&&o.v2,n3:o&&o.d2,i3:o&&o.g2,r3:o&&o.w2},JB:o?{width:o.width||A,height:o.height||b}:null,XQ:i.XQ,size:n,quality:r,hJ:h,e3:i.e3,u3:i.u3}}function Sx(t,n){var i,r,e,u,s={start:0,duration:0,e2:null,V$:null,t3:null,n3:null,i3:null,r3:null};return"hZ"===n?(r=s,e=i=dn(dn({},s),t.video),u=t.JB):(r=i=dn(dn({},s),t.audio),e=s,u=null),{start:i.start,K2:t.K2,duration:i.duration,t3:i.t3,n3:i.n3,i3:i.i3,r3:i.r3,audio:r,video:e,JB:u,XQ:t.XQ,size:t.size,quality:t.quality,hJ:t.hJ,e3:t.e3,u3:t.u3}}function Rx(t,n){return t+"s3"+n.XQ+"o3"+n.uri}!function(t){t.a3="c3",t.h3="f3"}(KO||(KO={})),function(t){t.v3="d3",t.BQ="l3"}(tx||(tx={})),function(t){t._3="g3",t.h3="f3"}(nx||(nx={})),function(t){t.w3="y3",t.m3="A3"}(ix||(ix={}));var Ix=function(t){function n(n){var i;return(i=t.call(this)||this).b3=_n(),i.T3=void 0,i.E3=void 0,i.S3=function(t){var n=t.data,r=n.R3;if(i.b3.get(r))switch(n.I3){case tx.v3:0;var e=n.N3;i.D3(r,e);break;case tx.BQ:var u=n.C3;i.O3(r,new jD(GD.CQ,{code:u}));default:0}},i.x3=function(t){var n,r,e,u,s=t.data,o=s.P3;if(i.b3.get(o))switch(s.B3){case ix.w3:0;var a=s.L3;i.M3(o,{audio:(n=a).audio?vx(n.audio):void 0,video:n.video?(e=n.video,u=hx(e),dn(dn({},u),{e2:e.e2,kH:e.kH.map(function(t){return function(t){var n,i=gx(t),r=dn(dn({},mx(n=i.DA)),{bv:n.bv,L2:fd(n.L2),M2:n.M2,U2:n.U2,F2:n.F2&&fd(n.F2),H2:n.H2&&fd(n.H2),V2:n.V2,X2:n.X2,Y1:n.Y1,W2:n.W2});return i.Ys(r)}(t)}),q2:e.q2,z2:e.z2,dw:e.dw,width:e.width,height:e.height,G2:e.G2,j2:e.j2,Q2:e.Q2,EZ:e.EZ,SZ:e.SZ,ww:e.ww,yw:e.yw})):void 0,W1:n.W1?(r=n.W1,{q1:r.q1,zJ:r.zJ,Bh:r.Bh,z1:r.z1,G1:r.G1,j1:r.j1,Q1:r.Q1.map(sx),Uh:[]}):void 0,Y1:n.Y1?n.Y1.map(ax):n.Y1,Z1:fd(n.Z1)});break;case ix.m3:var c=s.U3;i.O3(o,new jD(GD.CQ,{code:c}));default:0}},i.F3=function(t){if("PLAYER_INCORRECTLY_CONFIGURED"===t.message){var n={type:"xs",xs:new jD(GD.FQ,{code:"THEOplayer workers could not be loaded. Please check the configuration of the libraryLocation"})};et(n.xs.info.code),i.dispatchEvent(n)}else 0},i.Jo=n,i.E3=i.H3(),i}qt(n,t);var i=n.prototype;return i.fs=function(t){var n=[];this.b3.forEach(function(i,r){t&&i.Ig!==t||n.push(r)}),this.V3(n)},i.V3=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.b3.delete(i)}if(t.length){if(this.T3){var r={X3:KO.h3,W3:t};this.T3.postMessage(r)}if(this.E3){var e={q3:nx.h3,z3:t};this.E3.postMessage(e)}}},i.O3=function(t,n){var i=this.b3.get(t);if(i){var r=i.cO;this.b3.delete(t),r(n)}},i.G3=function(t,n,i,r){this.T3||(this.T3=this.j3());var e={X3:KO.a3,Q3:t,Y3:n,Z3:i,J3:r};this.T3.postMessage(e)},i.K3=function(t,n){this.E3||(this.E3=this.H3());var i={q3:nx._3,t4:t,n4:n,i4:this.b3.get(t).r4};this.E3.postMessage(i)},i.D3=function(t,n){this.K3(t,n)},i.j3=function(){var t=bO(this.Jo.libraryLocation,"theoplayer.d.js");return t.addEventListener("message",this.S3),t.addEventListener("error",this.F3),t},i.e4=function(t){var n=t.J2.video,i=n&&n.kH&&n.kH[0];i&&i.DA.V2},i.M3=function(t,n){var i=this.b3.get(t),r=i.cO,e=i.u4,u={J2:n,info:i.s4,metadata:null};this.e4(u),function(t){var n=t.info.ZZ.fY(t.info.XQ-1),i=t.J2;t.info.u3=t.info.vY,n&&(i.audio||i.video?i.video&&!i.video.z2&&!i.video.q2&&i.video.a2&&n.gJ&&i.video.a2!==n.gJ?t.info.u3=!0:i.video&&(i.video.height&&n.height&&i.video.height!==n.height||i.video.width&&n.width&&i.video.width!==n.width)&&(t.info.u3=!0):t.info.u3=!0)}(u),Ex(u,e),function(t){var n=t.info,i=n.ZZ,r=t.metadata,e=t.J2;if(n.o4=cd.tA(r.duration),n.MY=e.audio&&e.audio.o2.Bm(cd.tA(e.audio.duration))||cd.bp,n.UY=e.video&&e.video.o2.Bm(cd.tA(e.video.duration))||cd.bp,n.a4=e.audio&&e.audio.o2||cd.bp,n.c4=e.video&&e.video.o2||cd.bp,n.h4=r.audio.t3,n.f4=r.audio.n3,n.v4=r.video.t3,n.d4=r.video.n3,n.LY=r.t3,n.l4=r.n3,n._4=r.audio.i3,n.g4=r.audio.r3,n.w4=r.video.i3,n.y4=r.video.r3,n.i3=r.i3,n.r3=r.r3,e.video){var u=Ax(t.J2),s=e.video.kH&&e.video.kH[u];s?(n.b1=u,n.S1=s.DA.Y2,n.m4=s.DA.Z2):n.b1=qO.R1}else n.b1=qO.T1;n.gJ=e.video&&e.video.a2||0,n.width=e.video&&e.video.width||0,n.height=e.video&&e.video.height||0,i.dispatchEvent({type:"RJ",s4:t.info}),!i.resolution&&r.JB&&(i.resolution=r.JB),i.bandwidth||(i.bandwidth=8*r.size/r.duration),!r.hJ||i.hJ&&!i.hJ.hZ==!r.hJ.hZ&&!i.hJ.fZ==!r.hJ.fZ||i.rJ(r.hJ),e.audio&&void 0!==e.audio.CZ&&(i.CZ=e.audio.CZ),i.EZ=e.video&&e.video.EZ||i.EZ,i.SZ=e.video&&e.video.SZ||i.SZ,i.RZ=e.audio&&e.audio.q1||void 0,i.IZ=e.video&&e.video.q1||void 0,i.NZ=e.audio&&e.audio.e2||void 0,i.DZ=e.video&&e.video.e2||void 0,i.OZ=e.audio&&e.audio.a2||void 0,i.gJ=e.video&&e.video.a2||void 0}(u),this.b3.delete(t),r(null,u)},i.H3=function(){var t=bO(this.Jo.libraryLocation,"theoplayer.e.js");return t.addEventListener("message",this.x3),t.addEventListener("error",this.F3),t},i.A4=function(t,n,i,r){var e=this;t.getKey(r).then(function(t){var u=i;i=void 0,e.b3.has(n)&&e.G3(n,u,t,r.iv)}).catch(function(t){i=void 0,e.b3.has(n)&&e.O3(n,t)})},i.b4=function(t,n,i,r,e,u){var s=Rx(t,r),o=r.ZZ;this.b3.set(s,{Ig:t,s4:r,r4:{T4:r.duration,hJ:o.hJ,EZ:o.EZ,SZ:o.SZ,RZ:o.RZ,IZ:o.IZ,NZ:o.NZ,DZ:o.DZ,CZ:!this.Jo.skipImplicitHEAACDetection&&o.CZ,E4:e},u4:i.length,cO:u}),r.key?this.A4(n,s,i,r.key):this.K3(s,i)},i.S4=function(t){var n=[];return this.b3.forEach(function(i){i.Ig===t&&n.push(i.s4)}),n},i.R4=function(t,n){var i=Rx(t,n);return this.b3.has(i)},i.vh=function(){this.fs(),this.T3&&(this.T3.terminate(),this.T3=void 0),this.E3&&(this.E3.terminate(),this.E3=void 0)},n}(qD);function Nx(t,n){return t+"I4"+n}function Dx(t){return Nx(t.ZZ.Th,t.XQ)}function Cx(t){return!(!t||!t.J2)}var Ox=function(){function t(t,n,i){this.N4=[],this.D4=_n(),this.C4=1,this.uy=t,this.O4=n,this.x4=i}var n=t.prototype;return n.P4=function(t){var n=Dx(t.info);if(this.D4.has(n))this.B4(t.info,t);else{this.N4.push(n),this.D4.set(n,t);for(var i=this.O4.L4+10;this.N4.length>8*this.M4&&this.U4>i*this.M4;){var r=this.D4.get(this.N4[0]),e=this.x4.F4,u=null==r?void 0:r.info;if(u){var s=u.start,o=s+u.duration,a=new xf([s,o]),c=e,h=c+this.O4.L4;if(new xf([c,h]).Nm(a).lh>0)break}this.D4.delete(this.N4.shift())}}},n.H4=function(t,n){var i=Nx(t,n),r=this.D4.get(i),e=this.N4.indexOf(i);return!(!r||-1===e)&&(di(this.N4,e),this.D4.delete(i),!0)},n.qs=function(){this.N4.length=0,this.D4.clear()},n.V4=function(){for(var t={},n=0,i=this.N4;n<i.length;n++){var r=i[n],e=this.D4.get(r);Cx(e)&&(t[e.info.ZZ.Th]=(t[e.info.ZZ.Th]||0)+1)}return t},n.X4=function(t,n){var i=[],r=this.W4(t,n);if(!Cx(r))return i;do{i.push(r),n+=1,r=this.W4(t,n)}while(Cx(r));return i},n.q4=function(t,n){return!!this.W4(t,n)},n.z4=function(t,n){return Cx(this.W4(t,n))},n.W4=function(t,n){return this.D4.get(Nx(t,n))},n.B4=function(t,n){var i=Dx(t),r=this.N4.indexOf(i);return-1!==r&&(di(this.N4,r),this.N4.push(i),n&&this.D4.set(i,n),!0)},n.G4=function(){for(var t=[],n=0,i=this.N4;n<i.length;n++){var r=i[n],e=this.D4.get(r);t.push(e.info)}return t},n.j4=function(){for(var t=[],n=0,i=this.N4;n<i.length;n++){var r=i[n],e=this.D4.get(r);e&&Cx(e)&&t.push(e.info)}return t},T(t,[{key:"U4",get:function(){for(var t=QO(this.uy,this.G4()),n=0,i=0;i<t.length;i++)n+=t.end(i)-t.start(i);return n}},{key:"M4",get:function(){return this.C4},set:function(t){t>0&&(this.C4=g.max(t,1))}}]),t}();var xx=P.un?function(t,n){return kd(t.Y2,n.Y2)}:function(t,n){return kd(t.Z2,n.Z2)};function Px(t,n,i){var r,e=t.length,u=cd.bp;r=function(t,n){return xx(t.DA,n.DA).fm(cd.bp)},t=ai(t.slice(),r);for(var s=1;s<e;s+=1){var o=t[s-1].DA,a=t[s].DA,c=xx(a,o);c._m(cd.bp)&&(c=n),u=u.Bm(c),o.L2=c,o.bv=c.ap()}if(e>0){var h=t[e-1].DA,f=cd.wm(cd.tA(g.round(i-u.ap())),n);h.L2=f,h.bv=f.ap()}}function Bx(t,n,i){var r=n[0].DA.K1,e=t[t.length-1].DA.K1,u=r.Gm(e),s=kd(r,e).Gm(u);if(!s.Ip())for(var o=0;o<n.length;o++){i(n[o].DA,s)}}function Lx(t,n){t.Z2=t.Z2.Bm(n),t.Y2=t.Y2.Bm(n),t.K1=t.K1.Bm(n)}function Mx(t,n){Lx(t,n),t.L2=t.L2.Bm(n),t.H2=Ux(t.H2,n),t.F2=Ux(t.F2,n)}function Ux(t,n){if(t)return t.Bm(n)}function Fx(t,n){return n.Bm(kd(t,n))}function Hx(t,n){var i={audio:void 0,video:void 0,Z1:t.Z1};if("video"===n){if(!t.audio)return i;i.audio={e2:t.audio.e2,a2:t.audio.a2,c2:t.audio.c2,duration:t.audio.duration,s2:t.audio.s2,o2:cd.bp,h2:t.audio.h2,f2:t.audio.f2,v2:t.audio.v2,d2:t.audio.d2,l2:t.audio.l2,_2:t.audio._2,g2:t.audio.g2,w2:t.audio.w2,kH:t.audio.kH,C2:t.audio.C2,D2:t.audio.D2,u2:t.audio.u2,I2:t.audio.I2,N2:t.audio.N2}}if("audio"===n){if(!t.video)return i;i.video={e2:t.video.e2,G2:t.video.G2,Q2:t.video.Q2,j2:t.video.j2,a2:t.video.a2,c2:t.video.c2,q2:t.video.q2,z2:t.video.z2,width:t.video.width,height:t.video.height,EZ:t.video.EZ,SZ:t.video.SZ,ww:t.video.ww,yw:t.video.yw,dw:t.video.dw,duration:t.video.duration,s2:t.video.s2,o2:cd.bp,h2:t.video.h2,f2:t.video.f2,v2:t.video.v2,d2:t.video.d2,l2:t.video.l2,_2:t.video._2,g2:t.video.g2,w2:t.video.w2,kH:t.video.kH,u2:t.video.u2}}return i}function Vx(t,n,i,r){var e=function(t,n){if(!t)return n;if(!n)return t;var i;if((t.e2===n.e2||!t.e2||!n.e2)&&t.a2===n.a2&&t.c2.hm(n.c2)&&t.D2===n.D2)return t.kH?n.kH?(i=t.kH.concat(n.kH),Bx(t.kH,n.kH,Lx)):i=t.kH:i=n.kH,{e2:t.e2,a2:t.a2,c2:t.c2,duration:t.duration+n.duration,s2:t.s2+n.s2,o2:t.o2,h2:t.h2,f2:t.f2,v2:t.v2,d2:t.d2,l2:Fx(n.l2,t.l2),_2:Fx(n._2,t._2),g2:Fx(n.g2,t.g2),w2:Fx(n.w2,t.w2),kH:i,D2:t.D2,C2:t.C2,u2:t.u2||n.u2,I2:t.I2,N2:t.N2}}(t.audio?t.audio:void 0,i.audio?i.audio:void 0);if(!t.audio&&!i.audio||e){var u=function(t,n,i,r){if(!t)return i;if(!i)return t;if(t.e2===i.e2){var e,u,s=t.q2||i.q2;if(s)u=1/(e=t.c2.Bm(i.c2).qp(2)).ap();else{if(t.a2!==i.a2)return;if(!t.c2.hm(i.c2))return;e=t.c2,u=t.a2}if(t.width===i.width&&t.height===i.height){var o,a=t.z2||i.z2||!t.c2.hm(i.c2);return t.kH?i.kH?r?(o=t.kH.concat(i.kH),Bx(t.kH,i.kH,Mx)):(Px(n.kH.concat(i.kH),e,n.duration+i.duration),o=t.kH.concat(i.kH),Bx(t.kH,i.kH,Mx)):o=t.kH:o=i.kH,{e2:t.e2,G2:t.G2,Q2:t.Q2,j2:t.j2,a2:u,c2:e,q2:s,z2:a,width:t.width,height:t.height,EZ:t.EZ,SZ:t.SZ,dw:t.dw,duration:t.duration+i.duration,s2:t.s2+i.s2,o2:t.o2,h2:t.h2,f2:t.f2,v2:t.v2,d2:t.d2,l2:Fx(i.l2,t.l2),_2:Fx(i._2,t._2),g2:Fx(i.g2,t.g2),w2:Fx(i.w2,t.w2),kH:o,u2:t.u2||i.u2,ww:t.ww,yw:t.yw}}}}(t.video?t.video:void 0,n.video,i.video,r);if(!t.video&&!i.video||u)return{audio:e,video:u,Z1:t.Z1}}}function Xx(t){return Hx(t,"audio")}function Wx(t){return Hx(t,"video")}var qx,zx,Gx,jx=function(){function t(t){this.kC=0,this.Q4=0,this.Y4=g.exp(g.log(.5)/t)}var n=t.prototype;return n.TC=function(t,n){var i=g.pow(this.Y4,t),r=n*(1-i)+i*this.kC;m(r)||(this.kC=r,this.Q4+=t)},n.Z4=function(){var t=1-g.pow(this.Y4,this.Q4);return this.kC/t},t}(),Qx=function(){function t(t,n,i){void 0===t&&(t=2),void 0===n&&(n=5),void 0===i&&(i=128e3),this.J4=0,this.K4=5e5,this.t5=new jx(t),this.n5=new jx(n),this.i5=i}var n=t.prototype;return n.TC=function(t,n){var i=8e3*n/t,r=t/1e3;this.J4+=n,this.t5.TC(r,i),this.n5.TC(r,i)},n.Z4=function(){return this.UC()?g.min(this.t5.Z4(),this.n5.Z4()):this.K4},n.UC=function(){return this.J4>=this.i5},t}(),Yx=function(){function t(){this.t5=new jx(2),this.n5=new jx(5),this.r5=0,this.e5=1,this.K4=100}var n=t.prototype;return n.TC=function(t){this.r5+=1,this.t5.TC(1,t),this.n5.TC(1,t)},n.Z4=function(){return this.UC()?g.min(this.t5.Z4(),this.n5.Z4()):this.K4},n.UC=function(){return this.r5>=this.e5},t}(),Zx=function(){function t(t,n){var i=this;this.u5=!1,this.s5=0,this.o5=0,this.a5=function(){return i.c5()},this.h5=t,this.GA=n,this.w0=n.w0,this.w0.addEventListener("po",this.a5)}return t.prototype.c5=function(){var t=this.w0.L0,n=1e3*this.w0.F0,i=1e3*this.w0.Id;this.w0.AK&&(this.u5||(this.h5.f5(i),this.u5=!0),n>this.o5&&(this.h5.v5(n-this.o5,t-this.s5),this.s5=t,this.o5=n))},t}(),Jx=function(){function t(){this.d5=new Qx,this.l5=new Yx}var n=t.prototype;return n._5=function(t){new Zx(this,t)},n.v5=function(t,n){this.d5.TC(t,n)},n.f5=function(t){this.l5.TC(t)},n.vh=function(){},T(t,[{key:"g5",get:function(){return this.l5.Z4()/1e3}},{key:"w5",get:function(){return this.d5.Z4()}}]),t}(),$x=function(){function t(){this.y5=_n()}var n=t.prototype;return n.m5=function(t,n){var i,r,e=this.y5.get(t);return Boolean(e&&(i=e.PY,r=n,X(i)?i===r:function(t,n){return t.PY===n.PY&&t.BY.um===n.BY.um&&t.BY.om===n.BY.om}(i,r)))},n.k5=function(t,n){if(this.m5(t,n))return this.y5.get(t).$n},n.p5=function(t,n,i){this.y5.set(t,{PY:n,$n:i})},n.qs=function(){this.y5.clear()},t}();!function(t){t[t.A5=0]="A5",t[t.b5=5]="b5",t[t.T5=13]="T5",t[t.E5=14]="E5",t[t.S5=15]="S5"}(qx||(qx={})),function(t){t[t.R5=0]="R5",t[t.I5=1]="I5",t[t.N5=2]="N5",t[t.D5=11]="D5",t[t.C5=13]="C5",t[t.O5=14]="O5"}(zx||(zx={})),function(t){t[t.x5=0]="x5",t[t.P5=1]="P5",t[t.B5=2]="B5",t[t.L5=3]="L5",t[t.M5=4]="M5",t[t.U5=5]="U5",t[t.F5=6]="F5",t[t.H5=7]="H5"}(Gx||(Gx={}));var Kx=5,tP=5,nP=.5;function iP(t){if(!t.J2.video)return[];for(var n=[],i=0;i<t.J2.video.kH.length;i++){var r=t.J2.video.kH[i].DA;r.V2&&n.push({V5:i,X5:r.Y2})}return n}var rP=cd.tA(.04),eP=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).W5=_n(),u.q5=_n(),u.z5=1,u.Jo=n,u.G5=i,u.$A=r,u.j5=new $x,u.O4=e,u.Q5=new hO(r,n),u.Y5=new Jx,u.Z5=new Ix(n),u.Z5.addEventListener("xs",function(t){u.dispatchEvent(t)}),u}qt(n,t);var i=n.prototype;return i.J5=function(t){this.Z5.fs(t),this.Q5.qs(!1,t)},i.qs=function(t){this.J5(t),t?this.W5.get(t).qs():this.W5.forEach(function(t){return t.qs()})},i.vh=function(){this.bs(),this.Q5.qs(),this.W5.forEach(function(t){return t.qs()}),this.W5.clear(),this.Z5.vh()},i.oh=function(t,n,i){if(!this.W5.has(t)){var r=new Ox(n,this.O4,i);r.M4=this.M4,this.W5.set(t,r)}},i.K5=function(){var t=vn.coroutine(fn.mark(function t(n,i,r){var e;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.j5.m5(i,r)){t.next=2;break}return t.abrupt("return",this.j5.k5(i,r));case 2:return t.next=4,this.t6(n,r);case 4:return e=t.sent,this.j5.p5(i,r,e),t.abrupt("return",e);case 7:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.t6=function(t,n){var i=this;return new vn(function(r,e){i.Q5.mo(t,n,Sc.zv,function(t,n){t&&e(t),r(new k(n.jA))})})},i.n6=function(t,n,i,r){var e=this.W5.get(t),u=e.W4(n.ZZ.Th,n.XQ);if(e.z4(n.ZZ.Th,n.XQ))e.B4(n),this.dispatchEvent({type:"i6",Ig:t,AJ:u});else{if(!u)return this.r6(t,n,i,r);e.B4(n),this.e6(t,n,i,u.u6)}return r&&r(),null},i.r6=function(t,n,i,r){var e=this,u=this.W5.get(t),s=function(t,n){return t+"s6"+n.XQ+"o3"+n.uri}(t,n);if(this.q5.has(s))return null;this.q5.set(s,!0);var o=this.Q5.mo(t,n.uri,Sc.zv,function(a,c){return e.q5.delete(s),a?r&&r(a):(e.dispatchEvent({type:"o6",Ig:t}),u.z4(n.ZZ.Th,n.XQ)||u.P4({info:n,u6:o.jA}),e.n6(t,n,i),r&&r(a,c))});return this.Y5._5(o),o},i.e6=function(t,n,i,r){var e=this,u=this.W5.get(t);this.Z5.R4(t,n)||(n&&n.key&&this.G5.getKey(n.key).catch(j),this.Z5.b4(t,this.G5,r,n,i,function(n,i){if(n)return e.dispatchEvent({type:"xs",xs:n});u.P4(i),e.dispatchEvent({type:"i6",Ig:t,AJ:i})}))},i.a6=function(t,n,i){var r=i.length,e="hZ"===t?sP:oP;if(!uP(n,i))return null;if(r<=1)return i;for(var u=1;u<r;u+=1){var s=i[u],o=i[u-1];if(s.metadata.u3){if("c6"===this.Jo.h6||e(s,o)){var a=i.splice(0,u);return uP(n,a)?a:this.a6(t,n,i)}0}}return i},i.f6=function(t,n,i,r){for(var e=this.W5.get(t).j4(),u=r.v6,s=function(t){var r=i[t],s=e.filter(function(t){return t.ZZ===r}),o=QO(n,s),a=o.c1(u.ap(),rP.ap());if(a>=0&&cd.tA(o.end(a)).Gm(u).hp(rP))return{v:!0}},o=0;o<i.length;o++){var a=s(o);if("object"==typeof a)return a.v}return!1},i.d6=function(t,n,i,r,e){if(!P.tn)return!0;if(e.l6||this.f6(t,n,i,e))return!0;var u=cd.wm(r,e._6);return e.v6.Gm(u).hp(cd.tA(2))},i.g6=function(t,n,i,r,e,u,s,o){var a=n.X4(e.Th,u),c=this.a6(t,u,a);if(!c||0===c.length)return null;var h,f=c[0],v=r.m1(f.info),d=kP(t,r,f);if("fZ"!==t||function(t,n,i){return!!t&&t.Lg.ZZ===n&&i.hp(cd.tA(t.om))&&i._m(cd.tA(t.om).Bm(rP))}(i,e,d))return{aY:c,w6:cd.gm(v,d)};f.J2.video&&(f=(c=dP(c,function(t,n,i,r){for(var e=0,u=0,s=0;s<t.length;s+=1)for(var o=t[s],a=iP(o),c=0;c<a.length;c++){var h=a[c];if(n.E1(o.info,h.X5).cp(i.Gm(r)))return{y6:e,m6:u};e=s,u=h.V5}return{y6:e,m6:u}}(c,r,s,o)))[0]);if(d=kP(t,r,f),function(t){var n=t.J2.video,i=n&&n.kH,r=i&&i[0],e=r&&r.DA.V2;if(!n)return!0;return!!e}(f))return{aY:c,w6:cd.gm(v,d)};var l=function(t){for(var n=0;n<t.length;n++){var i=Ax(t[n].J2);if(!m(i))return{y6:n,m6:i}}return null}(c),_=cd.wm(s,wP(t,r,e.fY(u)));if(f.info.XQ===u){if(l&&(d=kP(t,r,(h=dP(c,l))[0]),_.Gm(d).hp(o)))return{aY:h,w6:cd.gm(v,d)};for(var g=u-1;n.z4(e.Th,g);){var w=n.X4(e.Th,g);if((f=(h=this.a6(t,u,w))&&h[0]&&vP(h[0],bx(h[0])))&&(d=kP(t,r,f),_.Gm(d).hp(o)))return h[0]=f,{aY:h,w6:cd.gm(v,d)};g-=1}}return function(t){if(t.vY)return!1;var n=t.ZZ;if(n.hY&&n.hY.live)return!1;if(!n.fY(t.XQ-1))return!1;return!0}(c[0].info)?null:l?{aY:c=dP(c,l),w6:v}:null},i.k6=function(t,n,i,r,e,u,s,o,a,c,h){var f=u.p6(o,a,n),v=f&&f.Lg;if(!v)return null;var d=v.XQ;do{var l=d,_=o.fY(l),g=wP(n,u,_);if(!yP(n,u,_).lm(a)||_.e3){if(g.Bm(rP).cp(c))break;if(cd.wm(cd.bp,a.Gm(g)).lm(h)&&i.z4(o.Th,l-1)&&i.z4(o.Th,l))i.W4(o.Th,l).metadata.u3||(l-=1);var w=this.A6(t,n,i,r,e,u,s,o,l,a,h);if(w&&(fP(w,a,c)||w.l6))return w}}while(i.z4(o.Th,++d));return null},i.A6=function(t,n,i,r,e,u,s,o,a,c,h){var f=o.fY(a),v=this.g6(n,i,r,u,o,a,c,h),d=v&&v.aY,l=v&&v.w6,_=d&&d[d.length-1],w=_&&_.metadata.e3;if(!(d=function(t,n){if(!n||!n.length)return n;var i="hZ"===t?aP:cP;return n.map(i).filter(hP)}(n,d))||!d.length){if(w){var y=[],m=u.m1(_.info);return y.JM=m,y.b6=m,y._6=m,y.T6=m,y.v6=m,y.l6=w,y}return null}var k=d="fZ"===n?function(t,n,i){var r=i[0].J2.video;return i[0].info.vY?function(t,n,i,r){var e=fi(r.kH,function(t){return t.DA.V2});if(e<0)return i;var u=r.kH[e].DA,s=n.E1(i[0].info,u.Y2),o=pP(t,s);if(o._p())return i;var a=s.Gm(o).Yp(vd,ud.fA);if(a._m(cd.bp))return i;var c=TP(r.kH.slice(e),a);return i[0]=_P(i[0],c),i}(t,n,i,r):function(t,n,i,r){var e=r.c2.Hp(Kx),u=r.kH[0].DA,s=n.E1(i[0].info,u.Z2),o=AP(t,s,e);if(o._p())return i;var a=s.Gm(o).Yp(vd,ud.fA);if(a._m(cd.bp)||a.cp(e))return i;var c=TP(r.kH,a);return i[0]=_P(i[0],c),i}(t,n,i,r)}(e,u,d):function(t,n,i){var r;if((null===(r=i[0].J2.audio)||void 0===r?void 0:r.e2)===zO.N1)return i;var e=i[0].J2.audio,u=e.kH[0].DA;return i[0].info.vY?function(t,n,i,r,e){var u=n.E1(i[0].info,e.Y2),s=pP(t,u);if(s._p())return i;var o=u.Gm(s).ap(),a=g.floor(o/r.c2.ap());if(a<=0)return i;var c=bP(r,a);return i[0]=lP(i[0],c),i}(t,n,i,e,u):function(t,n,i,r,e){var u=n.E1(i[0].info,e.Z2),s=AP(t,u,r.c2.Hp(tP));if(s._p())return i;var o=(a=u.Gm(s).ap()/r.c2.ap(),a<0?g.ceil(a):g.floor(a));var a;if(0===o||g.abs(o)>tP)return i;var c=bP(r,o);return i[0]=lP(i[0],c),i}(t,n,i,e,u)}(e,u,d),p=k[0];if(f.XQ<p.info.XQ&&(l=u.m1(f)),k.JM=l,k.b6=function(t,n,i){return n.E1(i.info,mP(t,i).n3)}(n,u,p),k._6=kP(n,u,p),k.T6=function(t,n,i){return n.E1(i.info,mP(t,i).r3)}(n,u,k[k.length-1]),k.v6=function(t,n,i){return n.E1(i.info,mP(t,i).i3)}(n,u,k[k.length-1]),k.l6=w,!this.d6(t,u,s,c,k))return null;var A=p.J2.video;return!A||(A.EZ=A.EZ||o.EZ,A.SZ=A.SZ||o.SZ,A.EZ&&A.SZ)?k:null},i.E6=function(t,n,i,r,e,u,s,o,a,c){for(var h=null,f=s.length-1;f>=0;f-=1){var v=s[f],d=this.k6(t,n,i,r,e,u,s,v,o,a,c);d&&(h&&!d._6.lm(h._6)||(h=d))}return h},i.S6=function(t,n,i,r,e,u,s,o,a){for(var c=cd.tA(s),h=cd.tA(o),f=cd.tA(a),v=this.W5.get(t),d=new RO([{um:c.ap(),om:c.Bm(h).ap()}]),l=e.Nm(d),_=function(t){if(0===t.length)return null;var n=t.aY(t.length-1),i=n[n.length-1];if(!i.Lg.R6)return null;return i}(e),g=CO(OO(l),d),w=0;w<g.length;w++){var y=cd.tA(g.start(w)),m=cd.tA(g.end(w)),k=EP(l,y,m),p=y.Bm(k).Yp(vd,ud.fA),A=m.Yp(vd,ud.fA);if(p.lm(A)){if(_&&p.hp(cd.tA(_.om)))continue;var b=this.E6(t,n,v,u,e,i,r,p,A,f);if(b)return b}}return null},i.j4=function(t){return this.W5.get(t).j4()},i.S4=function(t){return this.Z5.S4(t)},T(n,[{key:"M4",get:function(){return this.z5},set:function(t){t>0&&(this.z5=t,this.W5.forEach(function(n){return n.M4=t}))}},{key:"g5",get:function(){return this.Y5.g5}},{key:"w5",get:function(){return this.Y5.w5}}]),n}(qD);function uP(t,n){for(var i=0;i<n.length;i++){if(n[i].info.XQ===t)return!0}return!1}function sP(t,n){return t.metadata.audio.e2!==n.metadata.audio.e2||(t.metadata.audio.V$!==n.metadata.audio.V$||(!(!t.J2.audio||!n.J2.audio||t.J2.audio.D2===n.J2.audio.D2)||!yd(t.metadata.audio.t3,t.metadata.audio.n3).hm(yd(n.metadata.audio.i3,n.metadata.audio.r3))))}function oP(t,n){return t.metadata.video.e2!==n.metadata.video.e2||(!(!t.metadata.JB||!n.metadata.JB||t.metadata.JB.height===n.metadata.JB.height&&t.metadata.JB.width===n.metadata.JB.width)||(!(!n.J2.video||n.J2.video.z2||t.metadata.video.V$===n.metadata.video.V$)||yd(t.metadata.video.t3,t.metadata.video.n3)!==yd(n.metadata.video.i3,n.metadata.video.r3)))}function aP(t){return t.J2.video&&(t={J2:Wx(t.J2),info:t.info,metadata:Sx(t.metadata,"fZ")}),t}function cP(t){return t.J2.audio&&(t={J2:Xx(t.J2),info:t.info,metadata:Sx(t.metadata,"hZ")}),t}function hP(t){return Boolean(t&&(t.J2.audio||t.J2.video))}function fP(t,n,i){var r=cd.wm(n,t._6),e=cd.gm(i,t.v6),u=rP;return P.Gt&&(r._m(t._6)?u=u.Bm(t._6).Gm(t.b6):e.hp(t.v6)&&(u=u.Bm(t.v6).Gm(t.T6))),e.Gm(r).hp(u)}function vP(t,n){return m(n)?null:0===n?t:_P(t,t.J2.video.kH.slice(n))}function dP(t,n){return(t=t.slice(n.y6))[0]=vP(t[0],n.m6),t}function lP(t,n){var i={info:t.info,J2:{audio:Wx(t.J2).audio,video:null,Z1:t.J2.Z1},metadata:null},r=i.J2.audio;r.kH=n;var e=n[0].DA;return r.f2=e.K1,r.h2=r.f2.ap(),gP(r,i.J2.Z1,r.c2),Ex(i,t.metadata.size),i.metadata=Sx(i.metadata,"fZ"),i}function _P(t,n){var i={info:t.info,J2:{audio:null,video:Xx(t.J2).video,Z1:t.J2.Z1},metadata:null},r=i.J2.video;r.kH=n;var e=n[0].DA;r.f2=e.K1,r.h2=r.f2.ap();var u=n[n.length-1].DA.L2;return gP(r,i.J2.Z1,u),Ex(i,t.metadata.size),i.metadata=Sx(i.metadata,"hZ"),i}function gP(t,n,i){for(var r=cd.iA,e=cd.iA,u=cd.rA,s=cd.rA,o=0,a=t.kH;o<a.length;o++){var c=a[o].DA;r=cd.gm(c.Z2,r),e=cd.gm(c.Y2,e),u=cd.wm(c.Z2,u),s=cd.wm(c.Y2,s)}t.v2=e,t.d2=r,t.l2=s,t._2=u,t.o2=cd.wm(kd(t.f2,n),cd.bp),t.g2=md(t.l2,i),t.w2=md(t._2,i),t.s2=yd(t.g2,t.v2).ap(),t.duration=t.s2}function wP(t,n,i){if(lC(i)){var r="hZ"===t?i.h4:i.v4;return gd(r)||(r=i.LY),n.E1(i,r)}return i&&n.m1(i)}function yP(t,n,i){if(lC(i)){var r="hZ"===t?i._4:i.w4;return gd(r)||(r=i.LY),n.E1(i,r)}return i&&n.m1(i).Bm("hZ"===t?function(t){return lC(t)?t.MY||cd.bp:t&&cd.tA(t.duration)||cd.bp}(i):function(t){return lC(t)?t.UY||cd.bp:t&&cd.tA(t.duration)||cd.bp}(i))}function mP(t,n){return"hZ"===t?n.metadata.audio:n.metadata.video}function kP(t,n,i){return n.E1(i.info,mP(t,i).t3)}function pP(t,n){var i=t.v1(n.ap());if(-1!==i){var r=cd.tA(t.end(i));if(n.Gm(r)._m(cd.tA(nP)))return r}return cd.nA}function AP(t,n,i){var r=t.c1(n.ap(),i.ap());if(-1!==r)for(var e=t.aY(r),u=e.length-1;u>=0;u--){var s=e[u];if(n.Gm(cd.tA(s.om)).vp()._m(i))return cd.tA(s.Lg.T6);if(n.Gm(cd.tA(s.um)).vp()._m(i))return cd.tA(s.Lg.I6)}return cd.nA}function bP(t,n){var i;if(n<0)i=t.kH.slice(-n);else{0;var r=new rx,e=function(t,n){if(t)switch(n){case 1:return new k([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);case 2:case 3:return new k([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}else switch(n){case 1:return new k([0,200,0,128,35,128]);case 2:return new k([33,0,73,144,2,25,0,35,128]);case 3:return new k([0,200,0,128,32,132,1,38,64,8,100,0,142]);case 4:return new k([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);case 5:return new k([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);case 6:return new k([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}return null}(t.T2,t.D2);r.B1(e,0,e.length),i=t.kH.slice();for(var u=0;u<n;u++){var s=i[0].DA,o=r.Ys(dn(dn({},r.DA),{K1:yd(s.K1,t.c2),J1:s.J1-t.c2.ap(),Z2:yd(s.Z2,t.c2),Y2:yd(s.Y2,t.c2)}));i.unshift(o)}}return i}function TP(t,n){var i=t[0].DA,r=t.slice();return r[0]=t[0].Ys(dn(dn({},i),{K1:yd(i.K1,n),J1:i.J1-n.ap(),Z2:yd(i.Z2,n),U2:i.U2-n.ap(),Y2:yd(i.Y2,n),M2:i.M2-n.ap(),L2:cd.wm(cd.bp,i.L2.Bm(n)),bv:g.max(0,i.bv+n.ap())})),r}function EP(t,n,i){for(var r=0;r<t.length-1;r++){var e=t.aY(r),u=t.aY(r+1);if(e.length&&u.length&&cd.tA(e[0].um)._m(n)&&cd.tA(u[u.length-1].om).hp(i)&&u[0].Lg.aY[0].Js.K2.vY)return rP.Hp(5)}return t.gk(n.ap())?rP:cd.bp}function SP(t){return new xP(t.OS,t.$n)}var RP,IP,NP,DP,CP,OP,xP=function(){function t(t,n){this.N6=n,this.OS=t}return t.prototype.D6=function(t){vO(t)},T(t,[{key:"$n",get:function(){return this.N6}},{key:"C6",get:function(){return fO(dO(this.N6,this.OS))}}]),t}(),PP=function(){function t(t,n,i){this.PY="data:"+t+";"+n+","+i}return t.prototype.D6=function(t){},T(t,[{key:"C6",get:function(){return this.PY}}]),t}();!function(t){t.N1="O6",t.dv="x6",t.P6="B6",t.L6="M6",t.U6="F6"}(RP||(RP={})),function(t){t.H6="V6",t.X6="W6"}(IP||(IP={})),function(t){t.q6="audio/mp4",t.z6="audio/mpeg",t.G6="video/mp4"}(NP||(NP={})),function(t){t[t.j6=0]="j6",t[t.Q6=1]="Q6",t[t.Ph=2]="Ph",t[t.Y6=3]="Y6"}(DP||(DP={})),function(t){t.Z6="J6",t.K6="t9"}(CP||(CP={})),function(t){t.n9="c6",t.K6="i9"}(OP||(OP={}));var BP=function(){function t(t,n,i,r,e,u,s,o,a,c){this.r9=DP.j6,this.e9=t,this.u9=n,this.Ig=i,this.OS=r,this.AJ=e,this.s9=u,this.ny=s,this.o9=o,this.a9=a,this.cO=c}return t.c9=function(t,n,i,r,e,u,s,o,a,c){switch(n){case CP.Z6:return new LP(t,i,r,e,u,s,o,a,c);case CP.K6:return new MP(t,i,r,e,u,s,o,a,c)}},t}(),LP=function(t){function n(n,i,r,e,u,s,o,a,c){return t.call(this,CP.Z6,n,i,r,e,u,s,o,a,c)||this}return qt(n,t),n.prototype.h9=function(){return{f9:"v9",d9:this.u9,l9:RP.U6,_9:IP.H6,g9:this.OS,w9:ex(this.AJ,[]),y9:this.a9,m9:this.o9.vA(),k9:this.s9.vA(),p9:this.ny.vA()}},n}(BP),MP=function(t){function n(n,i,r,e,u,s,o,a,c){return t.call(this,CP.K6,n,i,r,e,u,s,o,a,c)||this}return qt(n,t),n.prototype.h9=function(){return{f9:"v9",d9:this.u9,l9:this.OS===NP.z6?RP.N1:RP.dv,_9:yw?IP.X6:IP.H6,g9:this.OS,w9:ex(this.AJ,[])}},n}(BP),UP=function(){function t(){this.A9=_n(),this.b9=1}var n=t.prototype;return n.T9=function(){return(this.b9++).toString()},n.c9=function(t,n,i,r,e,u,s,o,a){var c=this.T9(),h=BP.c9(c,n,t,i,r,e,u,s,o,a);return this.E9(h),h},n.S9=function(t){return this.A9.get(t)},n.E9=function(t){this.A9.set(t.u9,t)},n.R9=function(t){this.A9.delete(t)},n.I9=function(t){this.S9(t).r9=DP.Q6,this.R9(t)},n.N9=function(t,n){var i=this.S9(t).cO;this.S9(t).r9=DP.Ph,this.R9(t),i(n)},n.D9=function(t,n){var i=this.S9(t).cO;this.S9(t).r9=DP.Y6,this.R9(t),i(null,n)},n.qs=function(t){var n=[];this.A9.forEach(function(i,r){t&&i.Ig!==t||n.push(r)});for(var i=0;i<n.length;i++){var r=n[i];this.I9(r)}},t}();var FP,HP=function(){function t(n){var i=this;this.C9=function(t){var n=t.data.O9,r=t.data.x9,e=t.data.P9,u=t.data.B9,s=i.A9.S9(r);if(s&&s.r9!==DP.Q6)switch(n){case"L9":i.M9(s,e);break;case"U9":i.A9.N9(r,new jD(GD.CQ,{code:u}));break;default:0}},this.F9=function(t){0},this.A9=new UP,this.Jo=n,this.H9=t.V9(n.h6),this.X9()}t.V9=function(t){switch(t){case OP.n9:return CP.Z6;case OP.K6:return CP.K6}};var n=t.prototype;return n.v9=function(t,n,i,r,e,u,s){var o={metadata:null,hZ:null,fZ:null,xs:null};i&&i.length||s(new jD(GD.CQ,{code:"SP154"}));var a=i[0],c=i[i.length-1],h=a.info.XQ+1,f=a.info.ZZ,v=a.metadata,d=v.audio.e2?v.audio:void 0,l=v.video.e2?v.video:void 0,_=c.metadata,g=_.audio.e2?_.audio:void 0,w=_.video.e2?_.video:void 0,y=r.Bm(kd(v.n3,v.t3)),k=r.Bm(kd(v.t3,v.t3)),p=r.Bm(d?kd(d.n3,v.t3):cd.bp),A=r.Bm(d?kd(d.t3,v.t3):cd.bp),b=r.Bm(l?kd(l.n3,v.t3):cd.bp),T=r.Bm(l?kd(l.t3,v.t3):cd.bp),E=r.Bm(kd(_.r3,v.t3)),S=r.Bm(kd(_.i3,v.t3)),R=r.Bm(g?kd(g.r3,v.t3):cd.bp),I=r.Bm(g?kd(g.i3,v.t3):cd.bp),N=r.Bm(w?kd(w.r3,v.t3):cd.bp),D=r.Bm(w?kd(w.i3,v.t3):cd.bp);p=cd.wm(cd.bp,p),b=cd.wm(cd.bp,b);var C,O,x,P,B,L=hC.Nd(n.vJ)?cd.tA(100079991719):cd.tA(n.bv),M=function(t){for(var n=t[0].J2,i=n,r=1;r<t.length;r++){if(!(n=Vx(i,t[r-1].J2,t[r].J2,t[r].info.u3)))return i;i=n}return i}(i);if(M.audio){O=(C=Wx(M)).audio.duration;x=this.A9.c9(t,this.H9,"mp3"===C.audio.e2?NP.z6:NP.q6,C,p,A,L,h,function(t,n){if(o.xs=o.xs||t,o.hZ=n,C=!0,P)return s(o.xs,o)}),this.W9(x),C=null}else C=!0;if(M.video){B=(P=Xx(M)).video.duration;x=this.A9.c9(t,this.H9,NP.G6,P,b,T,L,h,function(t,n){if(o.xs=o.xs||t,o.fZ=n,P=!0,C)return s(o.xs,o)}),this.W9(x),P=null}else P=!0;var U,F,H,V=i.map(function(t){return t.metadata}),X=cd.tA(O),W=cd.tA(B),q=a.J2.audio&&a.J2.video?cd.gm(a.J2.audio.o2.Bm(X),a.J2.video.o2.Bm(W)):a.J2.audio?a.J2.audio.o2.Bm(X):a.J2.video?a.J2.video.o2.Bm(W):cd.bp;if(q.Ip()&&rt("Segment with no valid audio or video track detected",a.info.uri),M.video){var z=Ax(M);if(m(z))rt("Segment without keyframes detected",a.info.uri),U=cd.nA,F=cd.nA,H=q.Hp(1.5);else{var G=M.video.kH[z].DA;U=r.Bm(kd(G.Z2,v.t3)),F=r.Bm(kd(G.Y2,v.t3)),H=cd.tA(G.M2-a.metadata.start)}}else U=p,F=A,H=cd.bp;var j=cd.wm(H,cd.wm(a.J2.audio&&a.J2.audio.o2||cd.bp,a.J2.video&&a.J2.video.o2||cd.bp));o.metadata={XQ:h,um:r.ap(),I6:y.ap(),JM:k.ap(),T6:E.ap(),v6:S.ap(),m4:U.ap(),S1:F.ap(),w6:cd.gm(r,e).ap(),bv:q.ap(),aY:V,Zs:j.ap(),hZ:d&&{um:A.ap(),I6:p.ap(),om:I.ap(),T6:R.ap(),bv:O,e2:d.e2},fZ:l&&{um:T.ap(),I6:b.ap(),om:D.ap(),T6:N.ap(),bv:B,e2:l.e2,Ja:v.JB.width,Cg:v.JB.height},hJ:v.hJ,u3:v.u3,ZZ:f,e3:u},i=null,M=null},n.vh=function(){this.A9.qs(),this.q9&&(this.q9.terminate(),this.q9=null)},n.fs=function(t){this.A9.qs(t)},n.M9=function(t,n){switch(t.e9){case CP.Z6:var i=n;this.A9.D9(t.u9,{initializer:SP(i.z9),m4s:SP(i.G9)});break;case CP.K6:var r=n;this.A9.D9(t.u9,(e=r,yw?new PP(e.OS,"base64",e.$n):new xP(e.OS,e.$n)));break;default:0}var e},n.X9=function(){this.q9||(this.q9=bO(this.Jo.libraryLocation,"theoplayer.p.js"),this.q9.addEventListener("message",this.C9),this.q9.addEventListener("error",this.F9))},n.W9=function(t){this.q9||this.X9(),this.q9.postMessage(t.h9())},t}();function VP(t,n){return/^https?:\/\//.exec(t)?t:/^:\/\//.exec(t)?t:0===t.indexOf("/")?n.substr(0,n.indexOf("/",8))+t:n+t}function XP(t,n){return t.length>=n.length&&0===t.lastIndexOf(n,0)}function WP(t){var n=t.indexOf(":");return-1!==n&&t.length>n+1?t.substring(n+1):null}function qP(t){for(var n={},i=/(:|,) ?([A-Z0-9\-]+)=((0(X|x)([0-9a-fA-F]+))|(([0-9]+(\.[0-9]+)?)x([0-9]+(\.[0-9]+)?))|([0-9]+(\.[0-9]+)?)|([A-Za-z\-]+[A-Za-z\-0-9]*)|("(([^"]*\\")*[^"]*)"))/g,r=i.exec(t);null!==r;){var e=r[2],u=void 0;u=void 0!==r[6]?ue(r[6]):void 0!==r[7]?{width:y(r[8]),height:y(r[10])}:void 0!==r[12]?y(r[12]):void 0!==r[14]?r[14]:void 0!==r[16]?r[16]:null,n[e.toLowerCase()]=u,r=i.exec(t)}return n}var zP,GP="x-";function jP(t,n,i,r){var e=t.split("@"),u=VP(n,i),s=w(e[0],10),o=e[1]?w(e[1],10):r;return{PY:u,toString:function(){return u},indexOf:function(t){return u.indexOf(t)},BY:{um:o,om:o+s-1}}}function QP(t,n,i){var r,e,u,s,o,a=0,c=0,h=0,f=null,v=0,d=!1,l=[],_=null,m=0,p=t.match(/[^\r\n]+/g);if(!p||"#EXTM3U"!==p[0].trim())throw new jD(GD.DQ,{code:"HMP2670",uri:n});for(var A={live:!0,hasEnd:!1,isEvent:!1,streams:[],fragments:[],media:[],dateRanges:[],isMasterPlaylist:!1,uri:n,metadata:null,duration:NaN,estimateDuration:NaN},b=1;b<p.length;b+=1){var T=p[b].trim();if(l.push(T+""),XP(T,"#EXT")){if(XP(T,"#EXTINF"))h=(h=y(WP(T)))||.5;else if(XP(T,"#EXT-X-BYTERANGE"))f=WP(T);else if(XP(T,"#EXT-X-KEY"))(u=qP(T)).method&&"NONE"===u.method?u=null:u.absoluteURI=VP(u.uri,i);else if(XP(T,"#EXT-X-DISCONTINUITY")&&!XP(T,"#EXT-X-DISCONTINUITY-"))d=!0,v+=1;else if(XP(T,"#EXT-X-STREAM-INF"))(e=qP(T)).XQ=c++,(b+=1)<p.length&&(e.uri=VP(p[b].trim(),i),A.streams.push(e));else if(XP(T,"#EXT-X-MEDIA")&&!XP(T,"#EXT-X-MEDIA-"))(s=qP(T)).uri&&(s.uri=VP(s.uri,i)),A.media.push(s);else if(XP(T,"#EXT-X-PROGRAM-DATE-TIME"))_=new Date(WP(T));else if(XP(T,"#EXT-X-DISCONTINUITY-SEQUENCE"))A.rY=!0,A.eY=w(WP(T),10);else if(XP(T,"#EXT-X-MEDIA-SEQUENCE"))a=w(WP(T),10),A.j9=!0,A.Q9=a;else if(XP(T,"#EXT-X-TARGETDURATION"))A.targetDuration=w(WP(T),10),A.hasTargetDuration=!0;else if(XP(T,"#EXT-X-PLAYLIST-TYPE:EVENT"))A.isEvent=!0;else if(XP(T,"#EXT-X-ENDLIST"))A.live=!1,A.hasEnd=!0;else if(XP(T,"#EXT-X-MAP")){var E=qP(T),S=E.uri,R=E.byterange;o=R?jP(R,S,i,0):VP(S,i)}else if(XP(T,"#EXT-X-VERSION"))A.version=w(WP(T),10);else if(XP(T,"#EXT-X-DATERANGE")){var I=YP(T);A.dateRanges.push(I)}}else if(XP(T,"#"));else if(0!==T.length){f?m=(r=jP(f,T,i,m)).BY.om+1:r=VP(T,i);var N,D=u&&dn({},u);u&&void 0===u.iv&&(N=a%4294967295,D.iv=new k([0,0,0,0,0,0,0,0,0,0,0,0,N>>24,N>>16,N>>8,255&N])),A.fragments.push({start:0,duration:h,uri:r,XQ:a,vY:d,cY:v,key:D,sJ:_,uJ:l,e3:!1,Y9:o}),a+=1,h=0,f=null,d=!1,_=null,l=[]}}return A.hasEnd&&A.fragments.length&&(A.fragments[A.fragments.length-1].e3=!0),A.isMasterPlaylist=0!==A.streams.length,A.metadata=function(t){var n=t&&t.fragments&&t.fragments.length,i=t.targetDuration,r=0,e=0;if(!n)return null;for(var u=0,s=t.fragments;u<s.length;u++){var o=s[u];e+=o.duration,i=g.min(i,o.duration),r=g.max(r,o.duration)}return{Z9:i,J9:r,K9:n?t.fragments[n-1].duration:0,t8:e/n,n8:e}}(A),function(t){if(!t.isMasterPlaylist){t.duration=0;for(var n=0,i=t.fragments;n<i.length;n++){var r=i[n];t.duration+=r.duration}t.estimateDuration=t.duration/t.fragments.length,t.targetDuration||(t.targetDuration=t.estimateDuration),t.live&&(t.fragments.length<10?t.duration=-.001:t.duration=-(t.duration-3*t.targetDuration))}}(A),function(t){for(var n=0,i=0,r=t.fragments;i<r.length;i++){var e=r[i];e.start=n,n+=e.duration}}(A),function(t){t.streams.sort(function(t,n){return t.bandwidth&&n.bandwidth&&t.bandwidth!==n.bandwidth?t.bandwidth-n.bandwidth:t.resolution&&n.resolution&&t.resolution.width!==n.resolution.width&&t.resolution.height!==n.resolution.height?t.resolution.height*t.resolution.width-n.resolution.height*n.resolution.width:t.XQ-n.XQ})}(A),function(t,n){for(var i={},r=0;r<t.media.length;r+=1){var e=t.media[r];e.type===n&&e.uri&&(i[e["group-id"]]=(i[e["group-id"]]||0)+1)}for(var u=t.media.length-1;u>=0;u-=1){var s=t.media[u];s.type!==n||i[s["group-id"]]||di(t.media,u)}}(A,"VIDEO"),function(t){for(var n=0,i=0,r=t.streams;i<r.length;i++)r[i].id=n,n+=1;for(var e=0,u=t.media;e<u.length;e++)u[e].id=n,n+=1}(A),function(t){for(var n=function(n,i){var r=i[n];"video"in r&&(r.media=function(t,n){for(var i,r=t.length>>>0,e=arguments[1],u=0;u<r;u++)if(i=t[u],n.call(e,i,u,t))return i}(t.media,function(t){return t["group-id"]==r.video}))},i=0,r=t.streams;i<r.length;i++)n(i,r)}(A),A}function YP(t){var n=qP(t),i=function(t){for(var n={},i=0,r=_.keys(t);i<r.length;i++){var e=r[i];Qn(e,GP)&&(n[e.substr(GP.length)]=t[e])}return n}(n),r=n["start-date"]?new Date(n["start-date"]):void 0,e=n["end-date"]?new Date(n["end-date"]):void 0,u="YES"===n["end-on-next"]||void 0,s=n["scte35-cmd"]?n["scte35-cmd"].buffer:void 0,o=n["scte35-out"]?n["scte35-out"].buffer:void 0,a=n["scte35-in"]?n["scte35-in"].buffer:void 0;return{Th:n.id,_Y:n.class,QS:r,dY:e,bv:n.duration,mY:n["planned-duration"],pY:u,bY:i,EY:s,RY:o,NY:a}}!function(t){t.NO_EXTM3U="HMP2670",t[t.DATERANGE_INVALID_1=101]="DATERANGE_INVALID_1",t[t.DATERANGE_INVALID_2=102]="DATERANGE_INVALID_2",t[t.DATERANGE_INVALID_3=103]="DATERANGE_INVALID_3",t[t.DATERANGE_INVALID_4=104]="DATERANGE_INVALID_4",t[t.DATERANGE_INVALID_5=105]="DATERANGE_INVALID_5",t[t.DATERANGE_INVALID_6=106]="DATERANGE_INVALID_6"}(zP||(zP={}));(FP={})[zP.NO_EXTM3U]="The manifest does not contain a EXTM3U tag.",FP[zP.DATERANGE_INVALID_1]="An EXT-X-DATERANGE tag with an END-ON-NEXT=YES attribute MUST have a CLASS attribute.",FP[zP.DATERANGE_INVALID_2]="Other EXT-X-DATERANGE tags with the same CLASS attribute MUST NOT specify Date Ranges that overlap.",FP[zP.DATERANGE_INVALID_3]="An EXT-X-DATERANGE tag with an END-ON-NEXT=YES attribute MUST NOT contain DURATION or END-DATE attributes.",FP[zP.DATERANGE_INVALID_4]="If a Playlist contains an EXT-X-DATERANGE tag, it MUST also contain at least one EXT-X-PROGRAM-DATE-TIME tag.",FP[zP.DATERANGE_INVALID_5]="If a Playlist contains two EXT-X-DATERANGE tags with the same ID attribute value, then any AttributeName that appears in both tags MUST have the same AttributeValue.",FP[zP.DATERANGE_INVALID_6]="If a Date Range contains a START-DATE attribute and a DURATION attribute and an END-DATE attribute, the value of the END-DATE attribute MUST be equal to the value of the START-DATE attribute plus the value of the DURATION attribute.";var ZP=function(){function t(){}return t.prototype.ng=function(t,n,i){return QP(t,n,i)},t}(),JP=3,$P=function(){function t(t,n,i){void 0===i&&(i=JP),this.$A=t,this.i8=n,this.r8=i}var n=t.prototype;return n.e8=function(t,n,i){return this.u8(t,n,!0,i)},n.s8=function(t,n,i){return this.u8(t,n,!1,i)},n.u8=function(){var t=vn.coroutine(fn.mark(function t(n,i,r,e){var u,s,o,a,c,h,f,v;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:s=100,o=0;case 2:if(!(o<this.r8)){t.next=31;break}if(!(o>0)){t.next=7;break}return t.next=6,Pi(s,e);case 6:s<1e4&&(s=g.min(2*s,1e4));case 7:a=0;case 8:if(!(a<n.length)){t.next=28;break}return c=n[a],t.prev=10,h=new Mc({gd:c,kd:Sc.An,yd:i,Td:this.i8,md:Dc.GET,Pu:Cc.Kv,Ad:Oc.$v,ls:e}),t.next=14,this.$A.GA(h);case 14:return f=t.sent,t.next=17,f.rb(e);case 17:return v=t.sent,t.abrupt("return",{o8:v,a8:c,QA:f.QA});case 22:t.prev=22,t.t0=t.catch(10),u=t.t0;case 25:a++,t.next=8;break;case 28:o++,t.next=2;break;case 31:throw u;case 32:case"end":return t.stop()}},t,this,[[10,22]])}));return function(n,i,r,e){return t.apply(this,arguments)}}(),t}(),KP=function(){function t(t,n,i,r){this.c8=t,this.h8=n,this.f8=i,this.v8=r}var n=t.prototype;return n.d8=function(){var t=vn.coroutine(fn.mark(function t(n){var i;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.c8.UK(n.map(eO));case 2:return i=t.sent,t.abrupt("return",i.shift());case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.l8=function(t,n){var i=uO(t,n);return this.h8.Hs(i)},n._8=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r,e;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=uO(n,i),t.next=3,this.f8.Vs(e);case 3:if(t.t1=r=t.sent,t.t0=null===t.t1,t.t0){t.next=7;break}t.t0=void 0===r;case 7:if(!t.t0){t.next=11;break}t.t2=void 0,t.next=12;break;case 11:t.t2=r.data;case 12:return t.abrupt("return",t.t2);case 13:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.dB=function(t){return this.v8.Vs(t)},t}(),tB=function(){function t(t){this.g8=t}return t.prototype.w8=function(){var t=vn.coroutine(fn.mark(function t(n,i,r,e){var u,s,o,a;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:void 0===e&&(e=!1),s=0,o=this.g8;case 2:if(!(s<o.length)){t.next=17;break}return a=o[s],t.prev=4,t.next=7,a.w8(n,i,r,e);case 7:return t.abrupt("return",t.sent);case 10:t.prev=10,t.t0=t.catch(4),Ti(t.t0),u=t.t0;case 14:s++,t.next=2;break;case 17:throw u;case 18:case"end":return t.stop()}},t,this,[[4,10]])}));return function(n,i,r){return t.apply(this,arguments)}}(),t}(),nB=function(){function t(t){this.y8=t}return t.prototype.w8=function(){var t=vn.coroutine(fn.mark(function t(n,i,r,e){var u;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.y8.d8(n);case 2:if(!(u=t.sent)){t.next=7;break}return t.abrupt("return",{o8:u.data,a8:u.locationURL,QA:u.responseURL});case 7:throw new d("Manifest fetch from cache unsuccesful");case 8:case"end":return t.stop()}},t,this)}));return function(n,i,r,e){return t.apply(this,arguments)}}(),t}(),iB=function(){function t(t){this.m8=t}return t.prototype.w8=function(){var t=vn.coroutine(fn.mark(function t(n,i,r,e){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===e&&(e=!1),!e){t.next=7;break}return t.next=4,this.m8.e8(n,i,r);case 4:return t.abrupt("return",t.sent);case 7:return t.next=9,this.m8.s8(n,i,r);case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),t}();function rB(t,n){return new tB([new nB(n),new iB(t)])}var eB=function(){function t(t,n,i){this.k8=t,this.p8=n,this.A8=i}var n=t.prototype;return n.w8=function(){var t=vn.coroutine(fn.mark(function t(n,i,r,e){var u;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===e&&(e=!1),t.next=3,this.k8.w8(n,i,r,e);case 3:return u=t.sent,t.next=6,this.b8(u);case 6:return t.abrupt("return",u);case 7:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),n.b8=function(){var t=vn.coroutine(fn.mark(function t(n){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.p8.LK({key:eO(n.a8),locationURL:no(n.a8),responseURL:no(n.QA),data:n.o8,references:[this.A8.Th]});case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),t}();function uB(t){return-1===(t=t.split("#")[0].split("?")[0]).indexOf("/")?t:t.substring(0,t.lastIndexOf("/")+1)}var sB=function(){function t(t,n,i){this.T8=new ZP,this.Jo=t,this.$A=i;var r=this.Jo&&this.Jo.crossOrigin===ja.wv,e=new $P(i,r,1);this.k8=rB(e,new KP(rO.gn.zK,rO.gn.WK,rO.gn.qK,rO.gn.jK))}var n=t.prototype;return n.mo=function(t,n,i){var r=this.sC(t,n);return i&&r.then(function(t){return i(null,t)},function(t){return i(t)}),r},n.sC=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r,e;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.k8.w8([n],i);case 3:return r=t.sent,n=r.QA,e=this.T8.ng(r.o8,n,uB(n)),t.abrupt("return",{Dd:e,E8:r.o8});case 10:if(t.prev=10,t.t0=t.catch(0),!(t.t0 instanceof TA)){t.next=16;break}throw new jD(GD.IQ,{code:"MFL8600",uri:n});case 16:if(!(t.t0 instanceof EA)){t.next=24;break}if(0!==t.t0.jA.YA){t.next=21;break}throw new jD(GD.NQ,{code:"MFL3900",uri:n,status:t.t0.jA.YA});case 21:throw new jD(GD.IQ,{code:"MFL4100",uri:n,status:t.t0.jA.YA});case 22:t.next=25;break;case 24:throw new jD(GD.Ph,{error:t.t0,uri:n});case 25:case"end":return t.stop()}},t,this,[[0,10]])}));return function(n,i){return t.apply(this,arguments)}}(),t}(),oB=function(t){function n(n,i){var r;return(r=t.call(this)||this).S8=new sB(i||{},rO.gn.zK,n),r}qt(n,t);var i=n.prototype;return i.Gd=function(){void 0!==this.R8&&(h(this.R8),this.R8=void 0),this.I8&&this.I8.GA&&(this.I8=void 0)},i.N8=function(t){if(this.IJ)for(var n=0,i=this.IJ.fragments;n<i.length;n++){var r=i[n];if(r.uri===t)return r}},n.D8=function(t,n,i,r){var e,u=t.targetDuration,s=t.metadata;return e=t.fragments.length&&s&&(!u||s.n8<3*u)?1e3*s.Z9:u?1e3*u:1e4,i===n&&(e/=2),e=g.max(e-r,1e3)},i.C8=function(t){if(t.fragments.length>0)for(var n=this.N8(t.fragments[0].uri),i=n&&n.XQ||0,r=0,e=t.fragments;r<e.length;r++){e[r].XQ+=i}},i.O8=function(t,i,r,e,u,s){var o=this;if(this.I8&&r===this.I8.GA){var a=Dy()-i;if(e){this.I8=void 0,this.sS=e;var h={type:"xs",xs:e};return this.dispatchEvent(h),u&&u(e)}this.I8=void 0;var f=s.Dd,v=s.E8;f.j9||this.C8(f),t===this.x8&&(this.BJ=f),this.IJ=f;var d=n.D8(f,v,this.P8,a);f.live?f.isMasterPlaylist||(this.R8=c(function(){return o.sC(t)},d)):this.Gd(),u&&u(e,s);var l={type:"B8",manifest:f,manifestText:v};this.dispatchEvent(l),this.P8=v}},i.sC=function(t,n){var i=this,r=Dy(),e=t;h(this.R8),this.R8=void 0;var u=this.S8.mo(e,{},function(e,s){return i.O8(t,r,u,e,n,s)});this.I8={GA:u,gd:t}},i.um=function(t,n){var i,r,e,u=this,s=!1;(e=t||(this.IJ?this.IJ.uri:this.x8))&&(this.I8&&this.I8.gd===t?n&&(i=function(t){u.removeEventListener("xs",r),u.removeEventListener("B8",i);var e=t;n(null,{Dd:e.manifest,E8:e.manifestText})},r=function(t){u.removeEventListener("xs",r),u.removeEventListener("B8",i),n(t.xs)},this.addEventListener("xs",r),this.addEventListener("B8",i)):(this.Gd(),this.sC(e,function(t,i){if(!s)return s=!0,n&&n(t,i)})))},i.L8=function(t){t&&(this.P8=void 0,this.BJ&&this.BJ.isMasterPlaylist?this.um(t.uri):this.IJ&&!this.M8()&&this.um(this.IJ.uri))},i.vh=function(){this.Gd(),this.bs()},i.M8=function(){return!!this.I8||!!this.R8||!(!this.IJ||this.IJ.live)},T(n,[{key:"Dd",get:function(){return this.IJ}},{key:"d$",get:function(){return this.BJ}},{key:"TK",get:function(){return this.x8},set:function(t){this.Gd(),this.P8=void 0,this.BJ=void 0,this.IJ=void 0,this.x8=t}}]),n}(qD),aB=function(t){function n(n,i){var r;return(r=t.call(this)||this).Jo=i,r.uh=_n(),r.x8=null,r.U8=null,r.$A=n,r}qt(n,t);var i=n.prototype;return i.um=function(){var t=this,n=this.TK;if(n&&!this.U8){var i=new oB(this.$A,this.Jo);i.addEventListener("xs",function(i){var r=i.xs;t.dispatchEvent({type:"F8",xs:r}),t.uh.has(n)&&t.dispatchEvent({type:"xs",xs:r,H8:n})}),i.addEventListener("B8",function n(r){i.removeEventListener("B8",n),i===t.U8&&t.dispatchEvent({type:"V8",Dd:r.manifest})}),i.addEventListener("B8",function(i){t.uh.has(n)&&t.dispatchEvent({type:n,Dd:i.manifest})}),this.U8=i,i.um(n)}},i.X8=function(t,n){this.W8(t),this.q8(n)},i.q8=function(t){var n,i=this;this.uh.has(t)||(t===this.TK?(this.um(),(n=this.U8).Dd&&this.dispatchEvent({type:t,Dd:n.Dd},!0)):((n=new oB(this.$A,this.Jo)).addEventListener("xs",function(n){i.dispatchEvent({type:n.type,xs:n.xs,H8:t})}),n.addEventListener("B8",function(n){i.dispatchEvent({type:t,Dd:n.manifest})})),this.uh.set(t,n))},i.W8=function(t){if(this.uh.has(t)){var n=this.uh.get(t);n!==this.U8&&n.vh(),this.uh.delete(t),this.removeEventListener(t)}},i.z8=function(t){if(this.uh.has(t)){var n=this.uh.get(t);n.M8()||n.um(t)}},i.G8=function(){var t=this;this.uh.forEach(function(n,i){return t.z8(i)})},i.fh=function(){this.uh.forEach(function(t){return t.vh()}),this.uh.clear(),this.U8&&(this.U8.vh(),this.U8=null),this.x8=null},T(n,[{key:"TK",get:function(){return this.U8&&this.U8.Dd?this.U8.Dd.uri:this.x8},set:function(t){this.fh(),this.x8=t}}]),n}(qD),cB=function(t){function n(){var n;return(n=t.call(this)||this).j8=NaN,n}qt(n,t);var i=n.prototype;return i.Q8=function(t,n){for(var i=t.length?g.min.apply(g,t):0,r=0;r<t.length;r++)t[r]-=i;for(var e=0;e<n.length;e++){n[e].Zs=cd.tA(t[e]||0)}var u=t.length?g.max.apply(g,t):0;this.j8=u,this.dispatchEvent({type:"Y8",Z8:u})},i.J8=function(t,n){var i=[];if(n.length<2)return this.Q8(i,n),!0;for(var r=n[0],e=0;e<n.length;e++){var u=n[e];if(!u.K8(t))return!1;i[e]=u.Zs.Bm(u.t7(r,t)).ap()}return this.Q8(i,n),!0},i.n7=function(t,n){return this.J8(t.cY,n)},i.i7=function(t,n){if(n.length<2)return this.Q8([],n),!0;var i=n[0].r7(t);if(m(i))return!1;for(var r=0;r<n.length;r++){if(n[r].r7(t)!==i)return!1}return this.J8(i,n)},i.fh=function(){this.j8=NaN},i.vh=function(){this.bs()},T(n,[{key:"Z8",get:function(){return this.j8}}]),n}(qD),hB=.001;function fB(t){return t.metadata.ZZ.Th+"e7"+t.metadata.XQ+"u7"+t.metadata.um+"s7"+t.metadata.bv}var vB=function(t){function n(){return t.apply(this,arguments)||this}qt(n,t);var i=n.prototype;return i.QC=function(t,i){return new n(t,i)},i.w1=function(t,n){return!1},n}(GO);function dB(t,n){var i=new vB([n]);return t.Gm(i).Lm(i)}function lB(t,n){var i=function(t,n){var i=t.JM,r=t.S1;if(!m(r)&&r===i)return!0;return!t.u3&&!!n&&n.Lg.ZZ===t.ZZ&&i>=n.om&&i<=n.om+hB}(t,n);return i||!m(t.S1)?{um:i?t.JM:t.S1,om:t.v6,Lg:t}:null}var _B=function(t){function n(n,i){var r;return(r=t.call(this)||this).o7=null,r.a7=function(){return r.c7()},r.h7=[],r.dl=[],r.f7=new vB([]),r.v7=null,r.d7=n,r.uy=i,r}qt(n,t);var i=n.prototype;return i.l7=function(t){var n=t.metadata,i=n&&n.aY;if(!i||!i.length)return vn.resolve();for(var r=[],e=n.um,u=0;u<i.length;u++){var s=i[u],o=e+s.duration;r.push({um:e,bv:s.duration,om:o,XQ:s.XQ,Js:s}),e=o}var a={Th:fB(t),um:t.metadata.um,I6:n.I6,JM:n.JM,_7:i[0].K2.sJ?new Date(i[0].K2.sJ.getTime()):null,bv:t.metadata.bv,om:t.metadata.um+t.metadata.bv,T6:n.T6,v6:n.v6,m4:n.m4,S1:n.S1,aY:r,ZZ:t.metadata.ZZ,R6:t.metadata.e3,u3:n.u3};return this.h7.push(a),this.g7(this.d7.l7(t),a)},i.g7=function(t,n){var i=this;return t.then(function(){if(vi(i.h7,n)){i.dl.push(n);var t=i.v7,r=lB(n,t);r&&(i.f7=dB(i.f7,r)),i.v7=r}i.c7(),i.w7(n)}).catch(function(){vi(i.h7,n)})},i.w7=function(t){var n=t.aY[0],i=t.aY[t.aY.length-1],r=t.ZZ,e=r.fY(n.XQ-1),u=hC.Nd(r.vJ);if(!e||u){var s=r.fY(n.XQ),o=this.uy.m1(s).ap();o<n.um&&this.d7.wM(o,n.um)}for(var a=0,c=this.dl;a<c.length;a++){var h=c[a];if(h.ZZ===t.ZZ){var f=h.aY[0],v=h.aY[h.aY.length-1];v.XQ+1===n.XQ&&v.om!==n.um?this.d7.wM(v.om,n.um):f.XQ-1===i.XQ&&i.om!==f.um&&this.d7.wM(i.om,f.um)}}},i.qs=function(){this.h7.length=0,this.dl.length=0,this.f7=new vB([]),this.v7=null},i.c7=function(){if(this.y7&&!this.y7.qO){var t=this.y7.dl||IO;t=function(t,n){for(var i=BO(t),r=0;r<i.length;r++){var e=i[r],u=n.v1(e.om,hB);if(u>=0){var s=n.aY(u),o=s[s.length-1],a=o.Lg.T6,c=o.Lg.v6;a-hB<e.om&&e.om<c&&(e.om=c)}}return new RO(i)}(t,this.f7),this.dl=this.dl.filter(function(n){return function(t,n,i,r){n-=r=+r||0,i+=r;for(var e=0;e<t.length;e+=1)if(t.start(e)<i&&n<t.end(e))return e;return-1}(t,n.um,n.om)>=0}),this.f7=this.f7.Nm(t)}},i.vh=function(){this.bs(),this.qs(),this.y7=null},i.m7=function(t){var n=this.k7(t);if(n)for(var i=0,r=n.aY;i<r.length;i++){var e=r[i];if(e.um<=t&&e.om>t)return e}return null},i.k7=function(t){for(var n=0,i=this.dl;n<i.length;n++){var r=i[n];if(r.um<=t&&r.om>t)return r}return null},i.p7=function(t){for(var n=0,i=this.dl;n<i.length;n++){var r=i[n];if(r.ZZ.Th===t.ZZ.Th)for(var e=0,u=r.aY;e<u.length;e++){if(u[e].XQ===t.XQ)return!0}}return!1},i.A7=function(){return this.b7()[0]},i.b7=function(){for(var t=this.f7,n=this.v7,i=0,r=this.h7;i<r.length;i++){var e=lB(r[i],n);e&&(t=dB(t,e)),n=e}return[t,n]},T(n,[{key:"lh",get:function(){return this.h7.length+this.dl.length}},{key:"y7",get:function(){return this.o7},set:function(t){this.o7&&this.o7.removeEventListener("updateend",this.a7),this.o7=t,this.o7&&(this.o7.addEventListener("updateend",this.a7),this.c7())}}]),n}(qD);function gB(t,n,i){!function(t,n,i){for(var r=i.Q1,e=[],u=0;u<r.length;u++)for(var s=r[u],o=n.E1(t,s.DA.n2).ap(),a=0,c=s.kH;a<c.length;a++){var h=c[a];e.push(new II(o,h))}i.Uh=e}(t,n,i)}function wB(t,n){return t&&n?g.abs(t.XQ-n.XQ)<=1?cd.bp:cd.pp(n.gg-t.gg,1e3):cd.bp}var yB=function(){function t(t,n,i,r,e){this.Zs=cd.bp,this.T7=!1,this.E7=null,this.vY=t,this.y6=t.ZZ.aY.zQ(n.XQ),this.V5=this.y6,this.S7=i,this.R7=r,this.Pu=e||null}var n=t.prototype;return n.I7=function(){if(this.E7)return this.E7;var t=this.N7();return(t.D7||t.xs)&&(this.E7=t),t},n.C7=function(){return{D7:!1,xs:!1,T7:this.T7,Ok:cd.nA}},n.D7=function(t){return t._p()?{D7:!1,xs:!0,T7:this.T7,Ok:cd.nA}:{D7:!0,xs:!1,T7:this.T7,Ok:t}},t}();function mB(t,n){switch(n){case"hZ":return gd(t.h4)?t.h4:t.LY;case"fZ":return gd(t.v4)?t.v4:t.LY;default:return t.LY}}var kB=function(t){function n(){return t.apply(this,arguments)||this}return qt(n,t),n.prototype.N7=function(){var t=this.vY,n=t.ZZ,i=n.aY,r=i.GQ(this.V5);if(t.gk(r)){if(this.R7&&t.O7&&lC(r)){var e=mB(r,this.Pu),u=t.x7(e,r.P7);return this.D7(u.Gm(this.Zs))}if(this.S7&&r===t.B7){var s=t.xk.Gm(_C(r));return this.D7(s.Gm(this.Zs))}this.V5+=1;var o=wB(r,i.GQ(this.V5));return this.T7=this.T7||o.cp(cd.bp),this.Zs=this.Zs.Bm(o).Bm(_C(r)),this.C7()}return this.D7(cd.nA)},n}(yB),pB=function(t){function n(){return t.apply(this,arguments)||this}return qt(n,t),n.prototype.N7=function(){var t=this.vY,n=t.ZZ,i=n.aY,r=i.GQ(this.V5);if(t.gk(r)){if(this.R7&&t.O7&&lC(r)){var e=mB(r,this.Pu),u=t.x7(e,r.P7);return this.D7(u.Bm(this.Zs))}if(this.S7&&r===t.L7){var s=t.Ok;return this.D7(s.Bm(this.Zs))}this.V5-=1;var o=i.GQ(this.V5),a=wB(o,r);return this.T7=this.T7||a.cp(cd.bp),this.Zs=this.Zs.Bm(a).Bm(_C(o)),this.C7()}return this.D7(cd.nA)},n}(yB);var AB=function(){function t(t,n,i){this.Ok=cd.bp,this.xk=cd.bp,this.L7=null,this.B7=null,this.M7=!1,this.U7=cd.nA,this.F7=cd.nA,this.H7=!1,this.XQ=t,this.ZZ=n,this.V7=i}var n=t.prototype;return n.gk=function(t){return t&&t.cY===this.XQ},n.x7=function(t,n){var i=t.Gm(this.U7).Bm(this.F7);if(void 0!==n){var r=i.Gm(n);if(r.vp().cp(_d)){var e=g.round(r.ap()/ld.ap());i=i.Gm(ld.Hp(e))}}return i},n.X7=function(t,n){return this.W7(t),this.q7(n),this.z7()||t===this.B7&&this.G7()},n.W7=function(t){if(this.O7&&hd(t.l4,this.U7)>=0)return!1;var n;if(n=this.O7?this.j7(t,!0,!1):this.Q7(t,!0,!1),this.U7._p())this.U7=t.l4;else{var i=kd(t.l4,this.U7);this.U7=this.U7.Bm(i)}return this.F7=n,!0},n.q7=function(t){if(!t)return!1;if(this.V7)return!1;if(!this.Y7())return!1;var n=this.ZZ.aY,i=this.L7,r=n.jQ(i.XQ-1);if(lC(i)&&lC(r)){var e=function(t,n,i){var r=t.E1(n,n.i3);if(!gd(i.d4)||!gd(i.v4))return r;var e,u=gd(i.h4),s=yd(i.v4,i.d4);if(u){var o=wd(yd(i.v4,i.h4),cd.bp);e=wd(yd(s,o),cd.bp)}else e=s;return yd(r,e)}(t,r,i);return this.H7=!0,this.Z7(e)}return!1},n.Z7=function(t){if(t.hm(this.Ok))return!1;var n=t.Gm(this.Ok);return this.Ok=t,this.xk=this.xk.Bm(n),this.F7=this.F7.Bm(n),!0},n.z7=function(){if(this.V7)return!1;var t=this.B7;if(!t)return!1;var n,i=new pB(this,t,!1,!0);do{n=i.I7()}while(!n.D7&&!n.xs&&!n.T7);if(n.D7&&!n.T7){var r=n.Ok.Bm(_C(t));if(!r.hm(this.xk))return this.xk=r,!0}return!1},n.J7=function(t){var n=!1;return n=this.q7(t)||n,n=this.K7(t)||n},n.K7=function(t){if(!t)return!1;if(this.H7)return!1;var n=t.xk.Bm(wB(t.B7,this.L7));return this.Z7(n)},n.ttt=function(t){var n=!1;return(!this.L7||this.L7.XQ>t.XQ)&&(this.Ok=this.Ok.Gm(wB(t,this.L7)),this.L7=t,n=!0),(!this.B7||this.B7.XQ<t.XQ)&&(this.xk=this.xk.Bm(wB(this.B7,t)).Bm(_C(t)),this.B7=t,n=!0),n},n.ntt=function(t){if(!this.O7||!t.O7)return cd.nA;if(this.U7._m(t.U7)){var n=this.x7(t.U7,t.F7);return t.F7.Gm(n)}return t.x7(this.U7,this.F7).Gm(this.F7)},n.Y7=function(){var t=this.L7;return!!t&&function(t,n){return n.cY===t&&n.vY}(this.XQ,t)},n.G7=function(){var t=this.B7;if(!t)return!1;var n=this.ZZ.aY.jQ(t.XQ+1);return function(t,n,i){return n.cY===t&&(!i||i.vY)}(this.XQ,t,n)},n.itt=function(t,n){return this.j7(t,!0,!0,n)},n.Q7=function(t,n,i){if(!this.gk(t))return cd.nA;var r,e=new pB(this,t,n,i);do{r=e.I7()}while(!r.D7&&!r.xs);if(!r.D7)return cd.nA;var u=r.Ok;return u.lm(this.Ok)?this.Ok:u},n.j7=function(t,n,i,r){if(!this.gk(t))return cd.nA;var e,u,s,o,a,c=new kB(this,t,n,i,r),h=new pB(this,t,n,i,r);do{e=c.I7(),u=h.I7()}while(!(e.D7||u.D7||e.xs&&u.xs));if(u.D7)s=u,o=e,a=c;else{if(!e.D7)return cd.nA;s=e,o=u,a=h}if(s.Ok.lm(this.Ok)){for(;!o.D7&&!o.xs;)o=a.I7();return o.D7?cd.wm(this.Ok,o.Ok):this.Ok}if(s.T7){for(;!o.T7&&!o.D7&&!o.xs;)o=a.I7();if(o.D7&&!o.T7&&this.Ok._m(o.Ok))return o.Ok}return s.Ok},n.E1=function(t,n){return this.gk(t)&&this.O7?this.x7(n,t.P7):cd.nA},n.b7=function(){0},T(t,[{key:"O7",get:function(){return!this.U7._p()}}]),t}();function bB(t,n){return n.lm(t.Ok)?Ef.tm:n.hp(t.xk)?Ef.nm:Ef.Ky}var TB=function(){function t(){this.rtt=new KD}var n=t.prototype;return n.jQ=function(t){return this.rtt.jQ(t)},n.GQ=function(t){return this.rtt.GQ(t)},n.ett=function(t){var n=this.rtt.zQ(t);return n<0?null:this.rtt.GQ(n-1)},n.I7=function(t){var n=this.rtt.zQ(t);return n<0?null:this.rtt.GQ(n+1)},n.utt=function(){return this.rtt.GQ(0)},n.stt=function(){var t=this.rtt.lh;return 0===t?null:this.rtt.GQ(t-1)},n.ott=function(t){var n=this.rtt,i=this.stt();if(i&&function(t,n){return t.Ok._m(n)&&n.lm(t.xk)}(i,t))return i;var r=aR(this.rtt.ZQ(),t,Q,bB);return n.GQ(r)},n.Bm=function(t){var n=this.rtt.Bm(t);if(n&&!this.I7(t.XQ)){t.M7=!0;var i=this.ett(t.XQ);i&&(i.M7=!1)}return n},n.ko=function(t){var n=this.rtt.ko(t);if(n&&t.M7){t.M7=!1;var i=this.ett(t.XQ);i&&(i.M7=!0)}return n},n.KQ=function(t){this.rtt.KQ(t)},n.b7=function(){},T(t,[{key:"lh",get:function(){return this.rtt.lh}}]),t}();var EB=cd.tA(10),SB=function(){function t(t,n,i){this.att=!1,this.ctt=!1,this.htt=new TB,this.ftt=cd.bp,this.dtt=void 0,this.ltt=null,this._tt=null,this.ZZ=t,this.dtt=n.liveOffset,this.V7=i}var n=t.prototype;return n.gtt=function(t){var n=this.ZZ,i=t?t.fragments:null,r=n.aY;if(!t||!i||!i.length)return!1;this.att=!0;var e,u=!1;if(!this.htt.lh){var s=r.jQ(i[0].XQ).cY,o=new AB(s,n,this.V7);o.Z7(this.Zs),this.htt.Bm(o),u=!0}if(this._tt){var a=r.zQ(this._tt.XQ);e=a<0?0:a+1}else e=0;for(var c=e,h=r.GQ(c),f=null,v=!1;h;){var d=h.cY;if(f&&f.XQ===d||(f&&v&&this.wtt(f),f=this.htt.jQ(d),u=u||v,v=!1),!f){f=new AB(d,n,this.V7),this.htt.Bm(f);var l=this.htt.ett(d);f.J7(l||void 0)}v=f.ttt(h)||v,h=r.GQ(++c)}return f&&v&&this.wtt(f),(u=u||v)&&this.ytt(),this.htt.stt()&&this.bJ(n.aY),this.ltt=r.jQ(i[0].XQ),this._tt=r.jQ(i[i.length-1].XQ),u},n.X7=function(t){var n=this.htt.jQ(t.cY);if(!n)return!1;this.ctt=!0;var i=this.htt.ett(n.XQ),r=n.X7(t,i);return r&&this.wtt(n),r},n.wtt=function(t){for(var n=t,i=this.htt.I7(t.XQ),r=!0;r&&i;)r=i.J7(n),n=i,i=this.htt.I7(i.XQ)},n.ytt=function(){for(var t=!1,n=this.htt.utt(),i=n&&this.htt.I7(n.XQ);n&&i;)n.xk.cp(i.Ok)&&(i.Z7(n.xk),t=!0),n=i,i=this.htt.I7(n.XQ);return t},n.mtt=function(t){var n=this.htt.stt(),i=t.htt.stt();if(!this.V7){if(n&&this.ktt(t,n.XQ))return!0;if(i&&this.ktt(t,i.XQ))return!0}return this.ptt?!(!n||!this.Att(t,n.XQ))||(!(!i||!this.Att(t,i.XQ))||(!(!n||!this.btt(t,n.XQ))||(!(!i||!this.btt(t,i.XQ))||this.Ttt(t)))):this.Ett(t)},n.Ett=function(t){var n=this.htt.utt(),i=t.htt.utt();return!(!n||!i)&&(this.js(i.Ok.Gm(n.Ok)),!0)},n.ktt=function(t,n){var i=this.htt.jQ(n);if(!i||!i.O7)return!1;var r=t.htt.jQ(n);return!(!r||!r.O7)&&(this.js(i.ntt(r)),!0)},n.Att=function(t,n){var i=this.htt.jQ(n);if(!i||!i.Y7())return!1;var r=t.htt.jQ(n);return!(!r||!r.Y7())&&(this.js(r.Ok.Gm(i.Ok)),!0)},n.btt=function(t,n){var i=this.htt.jQ(n);if(!i)return!1;var r=this.Stt(i.B7.XQ);if(!r)return!1;var e=t.htt.jQ(n);if(!e)return!1;var u=t.Stt(e.B7.XQ);if(!u)return!1;var s=i.itt(i.B7),o=e.itt(e.B7),a=cd.uA(r).Gm(cd.uA(u)),c=s.Gm(o);return this.js(a.Gm(c)),!0},n.Ttt=function(t){if(!this.ctt&&!t.ctt)return!1;var n=this.htt.stt(),i=t.htt.stt();if(n&&n.B7&&i&&i.B7){var r=cd.pp(n.B7.gg-i.B7.gg,1e3),e=n.xk.Gm(i.xk);return this.js(r.Gm(e)),!0}return!1},n.bJ=function(t){var n=this.htt.stt();if(n)for(var i=n.xk,r=t.lh-1;r>=0;r--){var e=t.GQ(r);if(i=i.Gm(cd.tA(e.duration)),void 0!==e.P7){0;break}e.P7=i}},n.r7=function(t){var n=this.htt.ott(t);return n?n.XQ:NaN},n.m1=function(t,n){var i=this.htt.jQ(t.cY);return i?i.itt(t,n):cd.nA},n.A1=function(t,n){var i=this.ZZ.aY.jQ(t.XQ+1);if(i){var r=this.m1(i);return r}return n.Bm(function(t){if(!t)return cd.bp;if(!lC(t))return cd.tA(t.duration);var n=t.MY||cd.bp,i=t.UY||cd.bp,r=cd.tA(t.duration);return n.Ip()||i.Ip()?n.Ip()?i.Ip()?r.Ip()?r:cd.bp:i:n:cd.wm(n,i)}(t))},n.E1=function(t,n){var i=this.htt.jQ(t.cY);return i&&i.O7?i.E1(t,n):cd.nA},n.p6=function(t,n){var i=this.ZZ.aY;return i.lh?function(t,n,i,r,e){var u,s,o=t.ZZ.aY,a={},c=function(n){var i=a[n];return void 0!==i?i:a[n]=t.m1(o.GQ(n),e)},h=i,f=c(h),v=r,d=c(v);if(n.lm(f))return{Lg:u=o.GQ(h),Rtt:f};if(n.hp(d)&&(u=o.GQ(v)).e3)return{Lg:u,Rtt:d};for(;f._m(n)&&n._m(d);){var l=void 0,_=void 0,w=void 0;if(h===v?(l=h,_=f):(l=h+g.round(n.Gm(f).ap()*(v-h)/d.Gm(f).ap())||0,_=c(l)),_.cp(n))d=c(v=l-1);else{if(u=o.GQ(l),!(w=(s=l)===r?c(s).Bm(_C(o.GQ(s))):c(s+1))._m(n))return u&&n._m(_.Bm(_C(u)))?{Lg:u,Rtt:_}:(u=o.GQ(l+1))&&{Lg:u,Rtt:w};h=l+1,f=w}}if(d._m(n)){if((u=o.GQ(v))&&n._m(d.Bm(_C(u))))return{Lg:u,Rtt:d};if(v<r&&(u=o.GQ(v+1),d=c(v+1),u&&n.lm(d)))return{Lg:u,Rtt:d}}return null}(this,t,0,i.lh-1,n):null},n.Stt=function(t){var n=this.ZZ.aY,i=n.zQ(t),r=n.GQ(i),e=r,u=cd.bp;if(r.sJ)return r.sJ;for(var s=i-1;s>=0;s--){var o=n.GQ(s);if(u=u.Bm(_C(o)).Bm(wB(o,e)),o.sJ)return new Date(o.sJ.getTime()+1e3*u.ap());e=o}return null},n.Itt=function(t){for(var n=this.ZZ.aY,i=void 0,r=0;r<n.lh;r++){var e=n.GQ(r);if(e.sJ){if(!(e.sJ.getTime()<=t.getTime())){i=i||e;break}i=e}}if(!i)return cd.nA;var u=cd.uA(t).Gm(cd.uA(i.sJ));return this.m1(i).Bm(u)},n.js=function(t){if(!t.hm(cd.bp))for(var n=this.htt.lh,i=0;i<n;i++){var r=this.htt.GQ(i);r.Z7(r.Ok.Bm(t))}},n.K8=function(t){var n=this.htt.jQ(t);return n&&n.O7},n.t7=function(t,n){if(this===t)return cd.bp;var i=this.htt.jQ(n),r=t.htt.jQ(n);return i&&r?i.ntt(r):cd.nA},n.b7=function(){0},T(t,[{key:"ptt",get:function(){var t=this.ZZ.hY;return!!t&&t.live}},{key:"Ntt",get:function(){var t=this.ZZ.hY;return!!t&&t.isEvent}},{key:"Dtt",get:function(){var t=this.ltt;return t?this.m1(t):cd.bp}},{key:"Ctt",get:function(){var t=this.htt.stt();return t?t.xk:cd.bp}},{key:"Ott",get:function(){if(!this.ptt)return cd.bp;var t=this.Ctt.Gm(this.xtt);return cd.wm(this.Dtt,t)}},{key:"xtt",get:function(){return this.dtt&&cd.tA(this.dtt)||this.Ptt.Hp(3)}},{key:"Btt",get:function(){return this.ptt&&this._tt?cd.pp(Dy()-this._tt.gg,1e3):cd.bp}},{key:"Ptt",get:function(){var t=this.ZZ.hY;return t&&t.targetDuration?cd.tA(t.targetDuration):EB}},{key:"Zs",get:function(){return this.ftt},set:function(t){var n=t.Gm(this.ftt);this.ftt=t,this.js(n)}}]),t}(),RB=function(t){function n(n){var i;return(i=t.call(this)||this).Ltt=[],i.Mtt={},i.Utt=null,i.Ftt=null,i.ftt=cd.bp,i.V7=void 0,i.Htt=n,i}qt(n,t);var i=n.prototype;return i.Vtt=function(t){return t&&this.Mtt[t.Th]||null},i.Xtt=function(t){var n=this.Vtt(t);return n||((n=new SB(t,this.Htt,!!this.V7)).Zs=this.ftt,this.Ltt.push(n),this.Mtt[t.Th]=n),n},i.Wtt=function(t){var n;switch(null===(n=this.Htt.hls)||void 0===n?void 0:n.discontinuityAlignment){case Mf.sk:return!0;case Mf.ak:return!1;default:return t.isEvent||t.hasEnd}},i.gtt=function(t,n){void 0===this.V7&&(this.V7=this.Wtt(n));var i=this.Vtt(this.Utt),r=i?i.Dtt:cd.bp,e=i?i.Ctt:cd.bp,u=this.Xtt(t),s=u.att,o=u.gtt(n);if(!s&&u.att&&(u.js(this.qtt(t)),o=!0),o=this.ztt(u)||o,this.Gtt(u,r,e)){var a=new jD(GD.UQ,{code:"MFU0166"});this.dispatchEvent({type:"xs",xs:a})}else this.Utt=t,o&&this.dispatchEvent("EJ")},i.X7=function(t,n){if(lC(n)){0;var i=this.Xtt(t),r=i.X7(n);r=this.ztt(i)||r,this.Ftt=t,r&&this.dispatchEvent("EJ")}},i.ztt=function(t){var n=!1,i=!1,r=this.Vtt(this.Ftt);r&&(r===t?n=!0:i=(n=t.mtt(r))||i);var e=this.Vtt(this.Utt);return e&&e!==t&&(i=n?e.mtt(t)||i:t.mtt(e)||i),i},i.qtt=function(t){var n=this.Vtt(t),i=!n.ptt,r=t.hY&&t.hY.isEvent;return i||r?cd.bp:n.Ptt.Hp(3)},i.Gtt=function(t,n,i){if(!t.ptt)return!1;var r=t.Dtt,e=t.Ctt,u=cd.gm(e,i).Gm(cd.wm(r,n)),s=cd.wm(t.Ptt.Hp(3),u.qp(2));return r.Bm(s).lm(n)},i.bJ=function(t,n){var i=this.Vtt(t)||this.Vtt(this.Utt);return i&&i.bJ(n)},i.r7=function(t){var n=this.Utt&&this.Vtt(this.Utt);return n?n.r7(t):NaN},i.jtt=function(t,n){var i=t.fY(n);return this.m1(i)},i.m1=function(t){if(!t)return cd.nA;var n=this.Vtt(t.ZZ)||this.Vtt(this.Utt);return n?n.m1(t):cd.nA},i.A1=function(t,n){if(!t)return cd.nA;var i=this.Vtt(t.ZZ)||this.Vtt(this.Utt);return i?i.A1(t,n):cd.nA},i.E1=function(t,n){if(!t||!n)return cd.nA;var i=this.Vtt(t.ZZ)||this.Vtt(this.Utt);return i?i.E1(t,n):cd.nA},i.p6=function(t,n,i){var r=this.Vtt(t);if(!r)return null;var e=r.p6(n,i);return e?{Lg:e.Lg,Rtt:e.Rtt}:null},i.Stt=function(t,n){var i=this.Vtt(t)||this.Vtt(this.Utt);return i?i.Stt(n):null},i.Itt=function(t,n){var i=this.Vtt(t)||this.Vtt(this.Utt);return i?i.Itt(n):cd.nA},i.K8=function(t){return void 0!==this.Qtt(t)},i.t7=function(t,n){if(this===t)return cd.bp;var i=this.Qtt(n),r=t.Qtt(n);return i&&r?i.t7(r,n):cd.nA},i.Qtt=function(t){return hi(this.Ltt,function(n){return n.K8(t)})},i.vh=function(){this.bs(),this.Ltt.length=0,this.Mtt={},this.Utt=null,this.Ftt=null,this.ftt=cd.bp},i.b7=function(){0},T(n,[{key:"Ytt",get:function(){return this.Dtt.Gm(this.Ptt.Hp(3))}},{key:"xtt",get:function(){var t=this.Htt.liveOffset;return cd.tA(t||3*this.Ptt.ap())}},{key:"ptt",get:function(){var t=this.Vtt(this.Utt);return!!t&&t.ptt}},{key:"Sl",get:function(){return this.Utt?new RO([{um:this.Dtt.ap(),om:this.Ctt.ap()}]):IO}},{key:"Dtt",get:function(){if(!this.Utt)return cd.bp;var t=this.Vtt(this.Utt);return t.Ntt?t.Dtt:t.Dtt.Bm(t.Btt)}},{key:"Ctt",get:function(){if(!this.Utt)return cd.bp;var t=this.Vtt(this.Utt);return t.Ctt.Bm(t.Btt)}},{key:"Ott",get:function(){if(!this.Utt)return cd.bp;var t=this.Vtt(this.Utt);return t.Ott.Bm(t.Btt)}},{key:"Ptt",get:function(){return this.Utt?this.Vtt(this.Utt).Ptt:EB}},{key:"Zs",get:function(){return this.ftt},set:function(t){if(!this.ftt.hm(t)){this.ftt=t;for(var n=0,i=this.Ltt;n<i.length;n++){i[n].Zs=t}this.dispatchEvent("EJ")}}}]),n}(qD),IB=function(t){function n(){return t.apply(this,arguments)||this}return qt(n,t),n.prototype.qtt=function(t){return cd.bp},n}(RB),NB=.25,DB=1/60;function CB(t,n){return Nf(t,n,DB)}var OB,xB=function(t,n,i){this.Ztt=NaN,this.Jtt=NaN,this.$tt=0,this.ZZ=t.ZZ,this.Ok=n,this.xk=i,this.bv=i-n,this.Lg=t},PB=function(t,n,i){this.Ztt=NaN,this.Jtt=NaN,this.$tt=0,this.ZZ=t,this.Ok=n,this.xk=i,this.bv=i-n};function BB(t){return!(!t||!t.Lg)}function LB(t,n,i){return r=n,e=i,u=t.Ok,s=t.xk,CB(r,s)<=0&&CB(u,e)<=0;var r,e,u,s}function MB(t,n){return CB(t.Ok,n)<=0?t.xk:t.Ok}function UB(t,n,i){return(t-n)/i-NB}function FB(t,n){return n.Gm(t).Lm(t)}function HB(t,n){var i=g.min(DB,t.bv/2);return n.Hm(t.Ok,t.xk,i)}function VB(t,n){var i=n.c1(t);return-1===i?t:n.end(i)}function XB(t){return t.Jtt<=t.Ztt}function WB(t,n){if(!XB(n))return!1;for(var i=0;i<t.length;i++){var r=t[i];if(r.$tt+n.Jtt>r.Ztt)return!1}return!0}function qB(t,n){for(var i=0;i<t.length;i++){t[i].$tt+=n.Jtt}n.$tt=n.Jtt,t.push(n)}!function(t){t[t.Ktt=0]="Ktt",t[t.tnt=1]="tnt",t[t.nnt=2]="nnt",t[t.Y6=3]="Y6"}(OB||(OB={}));var zB=function(){function t(t,n,i,r){this.Ig=t,this.uy=n,this.int=i,this.rnt=r,this.ent=rO.gn.zK,this.m0=rO.gn.qK}var n=t.prototype;return n.unt=function(){return this.int.aZ.reduce(function(t,n){return g.max(t,n.hY&&n.hY.targetDuration||0)},0)},n.snt=function(t,n){void 0===n&&(n=this.uy.m1(t).ap());var i=this.uy.A1(t,cd.tA(n));return new xB(t,n,i.ap())},n.ont=function(t,n){var i=t.aY.GQ(n);return i&&this.snt(i)||null},n.ant=function(t){var n=t.ZZ,i=n.aY.zQ(t.XQ);return i>=0&&this.ont(n,i-1)||null},n.cnt=function(t){var n=t.ZZ,i=n.aY.zQ(t.XQ);return i>=0&&this.ont(n,i+1)||null},n.hnt=function(t,n){var i=this.uy.p6(t,cd.tA(n));return i&&this.snt(i.Lg,i.Rtt.ap())||null},n.fnt=function(t){var n=t.aY.lh-1;return n>=0&&this.ont(t,n)||null},n.vnt=function(t,n,i){var r=t.hY&&t.hY.targetDuration||this.unt()||10,e=g.max(0,n-r),u=e+r;return i&&LB(i,e,u)&&(u=(e=i.xk)+r),new PB(t,e,u)},n.dnt=function(t,n,i){var r=this.rnt.g5,e=.8*this.rnt.w5,u=(n.bandwidth||0)*t.bv;return i&&i.AK?((u=8*i.M0||u)-8*i.L0)/e:r+u/e},n.lnt=function(){for(var t=this.rnt.j4(this.Ig),n=this.rnt.S4(this.Ig),i=0;i<n.length;i++){var r=n[i];-1===t.indexOf(r)&&t.push(r)}return t},n._nt=function(t,n){var i=n.filter(function(n){return n.ZZ===t});return QO(this.uy,i)._1()},n.gnt=function(t){return"audio"===this.Ig&&t?[t]:this.int.aZ},n.wnt=function(t){for(var n=new jO([]),i=new jO([]),r=this.lnt(),e={ynt:{},mnt:{},knt:{},pnt:{}},u=t.length-1;u>=0;u-=1){var s=t[u],o=this._nt(s,r),a=$O(this.uy,o);e.ynt[s.Th]=o,e.mnt[s.Th]=a,e.knt[s.Th]=n=FB(n,o),e.pnt[s.Th]=i=FB(i,a)}return e},n.Ant=function(t,n,i,r,e){for(var u,s,o,a,c=[],h=0;h<r.length;h++)for(var f=e[r[h].Th],v=0;v<f.length;v+=1){var d=f.start(v),l=f.end(v)-i;d<l&&c.push({um:d,om:l})}return 0===(u=CO(u=DO(new RO(c)),new RO([{um:t,om:n}]))).length||CB(u.start(0),t)>0?t:1===u.length&&(s=u.start(0),o=u.end(0),a=n,CB(s,t)<=0&&CB(a,o)<=0)?NaN:u.end(0)},n.bnt=function(t,n,i){var r=null,e=i.ynt[t.Th],u=i.knt[t.Th],s=i.pnt[t.Th],o=u.c1(n);if(-1!==o){for(var a=g.max(n,u.start(o)),c=u.end(o),h=new RO([{um:a,om:c}]),f=u.Nm(h).Gm(s),v=0;v<f.length;v++){var d=f.start(v),l=f.aY(v)[0];if(l.Lg.ZZ===t){if(r=this.ant(l.Lg))return r}else{for(r=this.hnt(t,d);r&&HB(r,e);)r=this.ant(r.Lg);if(r)return r}}var _=u.aY(o),w=_[_.length-1];if(w.Lg.ZZ===t&&(r=this.cnt(w.Lg)))return r}var y=this.fnt(t);if(!y||CB(y.xk,n)<=0){if(!y||!y.Lg.e3)return r=this.vnt(t,n,y);r=y}for(r||(r=this.hnt(t,n));r&&HB(r,u);)r=this.cnt(r.Lg);return r},n.Tnt=function(t,n){var i=this.fnt(t);return i&&i.Lg.e3&&CB(i.xk,n)<=0?i:this.hnt(t,n)},n.Ent=function(t,n,i,r,e,u,s,o){var a=t.ZZ,c=s.knt[a.Th],h=!HB(t,c),f=h?n:MB(t,r);t.Ztt=UB(f,r,u),t.Jtt=this.dnt(t,a);var v=o&&this.snt(o);if(v&&!HB(v,c)){var d=MB(v,r);if(v.Ztt=UB(d,r,u),v.Jtt=this.dnt(v,a,i&&i.w0),XB(v)&&(!h||function(t,n){var i=[];return!!WB(i,n)&&(qB(i,n),!(!BB(t)||!BB(n)||t.Lg!==n.Lg)||!!WB(i,t))}(t,v)))return v}if(h&&!XB(t))return null;var l=this.Snt(t,r,e,u,c);return l.length&&l[l.length-1]||null},n.Snt=function(t,n,i,r,e){for(var u=[],s=t.ZZ,o=t;o&&n<o.xk&&i<=o.Ok;){if(!HB(o,e)){if(m(o.Ztt)){var a=MB(o,n);o.Ztt=UB(a,n,r),o.Jtt=this.dnt(o,s)}WB(u,o)&&qB(u,o)}o=BB(o)&&this.ant(o.Lg)}return u},n.Rnt=function(t,n){return t.Ok<n?{Sh:OB.nnt}:BB(t)?{Sh:OB.Ktt,Lg:t.Lg,Ok:t.Ok}:{Sh:OB.tnt,ZZ:t.ZZ}},n.q4=function(t){if(dC(t.uri)){var n=t.uri,i=uO(n.PY,[n.BY.um,n.BY.om]);return this.m0.Hs(i)}var r=uO(t.uri);return this.m0.Hs(r)},n.Int=function(t){return this.ent.Hs(t.uri)},n.Nnt=function(){var t=vn.coroutine(fn.mark(function t(n,i,r,e,u,s,o,a,c){var h,f,v,d,l,_,g,w,y,k,p,A,b;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(h=this.gnt(e),f=this.wnt(h),v=this.uy.Ytt.ap(),d=this.Ant(n,i,u,h,f.mnt),g=null,y=!1,!m(d)){t.next=3;break}return t.abrupt("return",{Sh:OB.Y6});case 3:if(!(d<v)){t.next=5;break}return t.abrupt("return",{Sh:OB.nnt});case 5:k=a.length-1;case 6:if(!(k>=0)){t.next=27;break}if(l=a[k],_=VB(d,f.mnt[l.Th]),!(g=this.bnt(l,_,f))){t.next=24;break}if(p=!1,!BB(g)){t.next=18;break}return t.next=15,this.q4(g.Lg);case 15:p=t.sent,t.next=22;break;case 18:if(l.lJ){t.next=22;break}return t.next=21,this.Int(l);case 21:p=t.sent;case 22:if(!p){t.next=24;break}return t.abrupt("return",this.Rnt(g,v));case 24:k-=1,t.next=6;break;case 27:if(!(d<=n+NB&&c.length)){t.next=33;break}if(l=c[0],_=VB(d,f.mnt[l.Th]),!(g=this.bnt(l,_,f))){t.next=33;break}return t.abrupt("return",this.Rnt(g,v));case 33:A=c.length-1;case 34:if(!(A>=0)){t.next=48;break}if(l=c[A],_=VB(d,f.mnt[l.Th]),(g=this.bnt(l,_,f))?w=g:(y=!0,w=this.Tnt(l,_)),!w){t.next=45;break}if(!(b=this.Ent(w,_,s,n,v,r,f,o))){t.next=45;break}return t.abrupt("return",this.Rnt(b,v));case 45:A-=1,t.next=34;break;case 48:if(!y){t.next=50;break}return t.abrupt("return",{Sh:OB.Y6});case 50:if(!g){t.next=52;break}return t.abrupt("return",this.Rnt(g,v));case 52:if(a.length){t.next=54;break}return t.abrupt("return",{Sh:OB.Y6});case 54:if(l=a[0],_=VB(d,f.mnt[l.Th]),!(g=this.bnt(l,_,f))){t.next=61;break}return t.abrupt("return",this.Rnt(g,v));case 61:return t.abrupt("return",{Sh:OB.Y6});case 62:case"end":return t.stop()}},t,this)}));return function(n,i,r,e,u,s,o,a,c){return t.apply(this,arguments)}}(),t}(),GB=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this,n)||this).Dnt=i,o.Cnt=r,o.Rw=e,o.Ig=u,o.bd=s,o}return qt(n,t),n}(Vi),jB=function(t){function n(n,i,r,e,u){return t.call(this,Ta.Nf,n,i,r,e,u)||this}return qt(n,t),n}(GB),QB=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this,Ta.Cf,n,i,r,e,u)||this).Ont=s,a.pl=o,a}return qt(n,t),n}(GB),YB=cd.tA(.1),ZB=function(t){function n(n){var i;return(i=t.call(this)||this).xnt=[],i.wJ=n,i}qt(n,t);var i=n.prototype;return i.Pnt=function(t,n,i){var r=this.Bnt(t),e=this.Lnt(r);this.Mnt(e,n,i)},i.Bnt=function(t){if(0===t.length)return[];for(var n=t[0].AJ,i=this.Unt(t[0]),r=[],e=0;e<t.length;e++){var u=t[e];n!==u.AJ&&(n=u.AJ,i=this.Unt(u)),r.push(dn(dn({},u),{Fnt:u.n2.Bm(i)}))}return r},i.Unt=function(t){var n=this.wJ.E1(t.AJ,t.n2),i=n.Gm(t.n2);return kd(n,t.n2).Gm(i)},i.Lnt=function(t){var n,i,r,e,u,s=t.slice().sort(JB),o=this.xnt;if(o.length)if(s.length){var a=1/s[0].AJ.gJ,c=s[0].Fnt,h=o[0].Fnt,f=o[o.length-1].Fnt,v=(e=o[0].AJ,u=s[0].AJ,e.ZZ===u.ZZ);if(f.Gm(c).lm(cd.tA(2.5*a))&&v)n=o.concat(s).sort(JB);else if(c.hp(h)){for(var d=0;d<o.length&&o[d].Fnt.lm(c);)d++;for(var l=!1,_=!1,g=d,w=0;g<o.length&&w<s.length;g++,w++)i=o[g],r=s[w],i.n2.hm(r.n2)&&i.Pu===r.Pu&&i.Zz===r.Jz?l=!0:_=!0;var y=l&&!_,m=l&&_;!l&&_?n=o.concat(s).sort(JB):y?n=o.slice(0,d).concat(s):(n=s,m&&this.fh())}else n=s,this.fh()}else n=o;else n=s;return n},i.Mnt=function(t,n,i){if(0!==t.length){for(var r=t[0],e=n.Gm(r.Fnt),u=kd(n,r.Fnt).Gm(e),s=n.Bm(u),o=YB.Yp(s.yg),a=0;a<t.length;a+=1){var c=t[a];if(!i&&s.Gm(c.Fnt).lm(o))return void(this.xnt=t.slice(a));var h=this.wJ.E1(c.AJ,c.n2);this.jz(h,c)}this.xnt=[]}},n}(fD);function JB(t,n){return(t.AJ===n.AJ?hd(t.n2,n.n2):hd(t.Fnt,n.Fnt))||Rf(t.Rw,n.Rw)}var $B=function(t){function n(n,i,r,e,u,s,o,a,c,h){var f;return(f=t.call(this)||this).Hnt=!1,f.Vnt=!1,f.Xnt=!1,f.Wnt=!1,f.qnt=!1,f.znt=null,f.NJ=void 0,f.Gnt=void 0,f.jnt=null,f.xk=-1,f.Qnt=null,f.Ynt=!1,f.Znt=!1,f.Jnt=1/0,f.$nt=void 0,f.Knt=null,f.tit=0,f.gs=function(t){f.dispatchEvent(t)},f.nit=function(){!f.Xnt&&!f.Wnt&&f.iit&&f.Hnt&&(f.Wnt=f.rit("hZ",f.eit,function(){f.Wnt=!1}))},f.uit=function(){!f.Xnt&&!f.qnt&&f.sit&&f.Vnt&&(f.qnt=f.rit("fZ",f.oit,function(){f.qnt=!1}))},f.ait=function(t){return f.cit()},f.hit=function(t){if(t.Ig===f.Ig){var n=t.AJ,i=n.J2;i.W1&&f.fit(i.W1,n.info),i.Y1&&f.vit(i.Y1,n.info),f.cit(f.O4.L4,!0)}},f.y$=function(t){var n=t;f.dit(n.fJ,n.ZZ)},f.lit=function(t){if(f.jnt)for(var n=0;n<f.jnt.Zg;n++){var i="CC"+(n+1);f.J$.QJ(i,t.cue.Ok,t.cue.xk)}f.J$.GJ(t.cue)},f.wR=c,f.J$=i,f._it=r,f.rnt=e,f.git=u,f.d7=s,f.hw=o,f.O4=h,f.uy=new RB(o),f.wit=f.yit(i),e.oh(n,f.uy,f.d7),f.eit=new _B(s,f.uy),f.oit=new _B(s,f.uy),f.jnt=f.mit(f.uy),f.kit=new zB(n,f.uy,f.wit,e),e.addEventListener("i6",f.hit),f.uy.addEventListener("xs",f.gs),i.addEventListener("a$",f.y$),f}qt(n,t);var i=n.prototype;return i.rit=function(t,n,i){var r=this,e=this.d7.F4,u=5*this.d7.Iv,s=this.pit(),o="audio"===this.Ig?[this.Ait]:this.wit.aZ,a=n.b7(),c=a[0],h=a[1],f=this.rnt.S6(this.Ig,t,this.uy,o,c,h||void 0,e,u,s);return f&&!f.length&&f.l6?(this.d7.bit("hZ"===t,"fZ"===t),!1):!(!f||!f.length)&&(this.git.v9(this.Ig,this.J$,f,f._6,f.JM,f.l6,function(t,e){if(i(),t)r.dispatchEvent({type:"xs",xs:t});else{var u=e;n.l7(u).then(function(){return r.dispatchEvent("oK")}).catch(function(t){0})}}),!0)},i.Tit=function(){this.git.fs(this.Ig),this.Wnt=!1,this.qnt=!1},i.Eit=function(){var t=this.d7.F4,n=this.eit.m7(t)||this.oit.m7(t);!n||this.znt&&this.znt.XQ===n.XQ||(this.cit(this.O4.L4),this.znt=n,this.dispatchEvent({type:"Sit",DA:this.znt.Js.K2}))},i.Rit=function(){this.Iit()},i.Nit=function(){this.Rit()},i.Dit=function(){this.cit(this.O4.L4)},i.Cit=function(t,n){this.eit.m7(t)||this.oit.m7(t)||(this.znt=null)},i.Oit=function(t){var n=!1;this.eit.A7().gk(t)||(this.nit(),n=!0),this.oit.A7().gk(t)||(this.uit(),n=!0),n&&this.cit(this.O4.L4,!0)},i.xit=function(){this.eit.qs()},i.Pit=function(){this.oit.qs()},i.pit=function(){return 0===this.eit.lh+this.oit.lh?0:"c6"===this.hw.h6?0:1*this.rnt.M4},i.Iit=function(){this.nit(),this.uit()},i.G$=function(t){return-1!==this.wit.aZ.indexOf(t)},i.Bit=function(t){t&&this.G$(t)&&(this.mJ(t),this.s$(t))},i.mJ=function(t){this.uy.gtt(t,t.hY)},i.s$=function(t){var n=this;if(t&&t.hY&&this.hw.hlsDateRange){this.J$.s$(t.hY.dateRanges,function(i){return n.uy.Itt(t,i).ap()})}},i.Lit=function(t){this.G$(t.ZZ)&&this.uy.X7(t.ZZ,t)},i.Mit=function(t){var n,i,r,e=t,u=this.eit.m7(e)||this.oit.m7(e);if(u)i=u.Js.quality,r=u.XQ,n=u.um;else{var s=this.Ait;if(!s)return null;var o=this.uy.p6(s,cd.tA(e));if(!o)return null;i=s,r=o.Lg.XQ,n=o.Rtt.ap()}var a=this.uy.Stt(i,r);if(!a)return null;var c=e-n;return new Date(a.getTime()+1e3*c)},i.Itt=function(t){var n=this.Ait;return this.uy.Itt(n,t).ap()},i.cit=function(t,n){var i=this,r=this.Uit(),e=this.d7.F4;t&&(this.xk=e+t,n&&(this.Knt=null,this.tit=0)),this.Uit()||e>=this.xk?this.Fit(r):this.Qnt||this.Ynt||!this.bh||(this.Hit(),this.Vit(function(t){return i.Xit(e,i.d7.Iv,t)}))},i.Wit=function(t){t&&this._it.removeEventListener(t.uri,this.ait)},i.qit=function(t){t&&this._it.addEventListener(t.uri,this.ait)},i.Uit=function(){return-1===this.xk},n.zit=function(t){return hC.Nd(t.ZZ.vJ)&&Dy()-t.gg>2e3*t.ZZ.hY.metadata.n8},i.Vit=function(){var t=vn.coroutine(fn.mark(function t(n){var i,r;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=!1,this.Qnt=new ki,r=this.Qnt,t.prev=3,t.next=6,n(r.ls);case 6:i=t.sent,bi(r.ls),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),Ei(t.t0);case 13:return t.prev=13,this.Qnt===r&&(this.Qnt=null),t.finish(13);case 16:i&&this.cit();case 17:case"end":return t.stop()}},t,this,[[3,10,13,16]])}));return function(n){return t.apply(this,arguments)}}(),i.Hit=function(){this.Qnt&&(this.Qnt.fs(),this.Qnt=null)},i.Git=function(){var t=vn.coroutine(fn.mark(function t(n,i){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}(),i.jit=function(){var t=vn.coroutine(fn.mark(function t(n){var i;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!eL.zit(n)){t.next=2;break}return t.abrupt("return",this.dispatchEvent("Qit"));case 2:if(i=g.min(16e3,1e3*g.pow(2,this.tit)),this.tit+=1,this.Hit(),!(this.tit>2)){t.next=8;break}return n.ZZ.iJ(!1),t.abrupt("return",n.ZZ.KZ());case 8:this.Vit(function(t){return Pi(i,t).then(function(){return!0})});case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.fit=function(t,n){var i,r;r=IC((i=t).q1,4),i.zJ="0000.0000.0000."+r,function(t){var n=IC(t.z1,4),i=IC(t.G1,3),r=IC(t.j1,2*t.G1);t.Bh=(n+i+r).toUpperCase()}(t),gB(n,this.uy,t),this.J$.qJ(t,this.uy)},i.vit=function(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];i.push(dn(dn({},e),{AJ:n}))}this.jnt&&this.jnt.Pnt(i,n.w4,n.e3)},i.Yit=function(t){this.$nt&&this.$nt.AJ===t&&this.cit()},i.Zit=function(t,n){if(n){if(n.aborted)return;if(this.Knt===t)return this.jit(t)}else t.ZZ.iJ(!0);return this.cit()},i.Jit=function(t){var n=mC(t.ZZ.fJ);n&&this.dispatchEvent(new jB(vC(t.uri),t.ZZ.bandwidth||0,t.XQ,t.ZZ.XQ,n))},i.$it=function(t,n){var i=this.$nt&&this.$nt.GA.D0||200,r=mC(t.ZZ.fJ);r&&this.dispatchEvent(new QB(vC(t.uri),t.ZZ.bandwidth||0,t.XQ,t.ZZ.XQ,r,i,n&&n.w0.L0||0))},i.Fit=function(t){this.xk=-1,t||this.dispatchEvent("Kit")},i.trt=function(t){this.Znt=!0,this.Fit(t),this.dispatchEvent("bK")},i.Xit=function(){var t=vn.coroutine(fn.mark(function t(n,i,r){var e,u,s,o,a,c,h=this;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(bi(r),e=this.Ait,u=this.Uit(),this.Wit(e||void 0),!(n>=this.xk)){t.next=7;break}return this.Fit(u),t.abrupt("return",!1);case 7:return t.next=9,this.kit.Nnt(n,this.xk,i,e||void 0,this.pit(),this.$nt&&this.$nt.GA,this.$nt&&this.$nt.AJ,this.nrt,this.irt);case 9:if(s=t.sent,bc.Xv(this.rnt.w5/8),bi(r),s.Sh!==OB.nnt){t.next=18;break}return this.Hit(),this.dispatchEvent("Qit"),t.abrupt("return",!1);case 18:if(s.Sh!==OB.tnt){t.next=29;break}if(s.ZZ!==e){t.next=24;break}return this.qit(e),t.abrupt("return",!1);case 24:return t.next=26,this.Git(s.ZZ,null);case 26:return t.abrupt("return",t.sent);case 27:t.next=33;break;case 29:if(s.Sh!==OB.Y6){t.next=33;break}return this.qit(e||void 0),!hC.Nd(e.vJ)&&e.hY&&this.trt(u),t.abrupt("return",!1);case 33:if(o=s.Lg,!this.$nt||this.$nt.AJ!==o){t.next=36;break}return t.abrupt("return",!1);case 36:if(o.ZZ===e){t.next=40;break}return t.next=39,this.Git(o.ZZ,o);case 39:return t.abrupt("return",t.sent);case 40:if(this.$nt&&(this.$nt.GA.fs(),this.$nt=void 0),!(s.Ok>this.Jnt)){t.next=46;break}return this.trt(u),t.abrupt("return",!1);case 46:if(!(s.Ok>this.xk)){t.next=49;break}return this.Fit(u),t.abrupt("return",!1);case 49:if(this.Znt=!1,this.$nt=void 0,o!==this.Knt&&(this.tit=0),this.Knt=o,this.dispatchEvent("AK"),this.Jit(o),!o.Y9){t.next=59;break}return t.next=58,this.rnt.K5(this.Ig,String(o.ZZ.Th),o.Y9);case 58:a=t.sent;case 59:return(c=this.rnt.n6(this.Ig,o,a,function(t,n){h.Hit(),h.$it(o,n),h.$nt=void 0,r&&r.$u||h.Zit(o,t)}))&&(this.$nt={AJ:o,GA:c},c.addEventListener("oK",function(){r&&r.$u||h.Yit(o)})),t.abrupt("return",!1);case 62:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.rrt=function(t){this.cit(t||this.O4.L4,!0)},i.ert=function(){var t=this.Uit();this.xk=-1,this.$nt&&this.$nt.GA.fs(),this.$nt=void 0,this.Wit(),this.Znt=!1,this.Knt=null,this.tit=0,this.Hit(),this.Fit(t),this.jnt=this.mit(this.uy)},i.urt=function(){this.Ynt=!0,this.Wit(),this.Hit()},i.ort=function(){this.Ynt=!1,this.cit()},i.art=function(){this.Xnt=!0},i.crt=function(){this.Xnt=!1,this.Iit()},i.vh=function(){this.bs(),this.ert(),this.Tit(),this.iit=null,this.sit=null,this.eit.vh(),this.oit.vh(),this.git.fs(this.Ig),this.uy.vh(),this.J$.removeEventListener("a$",this.y$),this.rnt.removeEventListener("i6",this.hit),this.wit=null,this.hrt()},i.fh=function(){this.znt=null,this.NJ=void 0,this.Gnt=void 0,this.hrt(),this.jnt=this.mit(this.uy)},i.mit=function(t){var n=new ZB(t);return n.ps("gz",this.lit),n},i.hrt=function(){this.jnt&&(this.jnt.Ts("gz",this.lit),this.jnt.vh(),this.jnt=null)},T(n,[{key:"Av",get:function(){return this.d7.F4}},{key:"frt",get:function(){return this.Hnt}},{key:"Ig",get:function(){return this.vrt()}},{key:"lJ",get:function(){return this.drt()}},{key:"nrt",get:function(){return this.lrt()}},{key:"irt",get:function(){return this._rt()}},{key:"iit",get:function(){return this.eit.y7},set:function(t){var n=this.eit.y7;n&&n.removeEventListener("updateend",this.nit),this.eit.y7=t,t&&(t.addEventListener("updateend",this.nit),this.nit())}},{key:"sit",get:function(){return this.oit.y7},set:function(t){var n=this.oit.y7;n&&n.removeEventListener("updateend",this.uit),this.oit.y7=t,t&&(t.addEventListener("updateend",this.uit),this.uit())}},{key:"Kit",get:function(){return this.Uit()}},{key:"bK",get:function(){return this.Znt}},{key:"grt",get:function(){return this.Jnt},set:function(t){this.Jnt=t}},{key:"Ait",get:function(){return this.wrt()}},{key:"yrt",get:function(){return this.mrt()},set:function(t){this.krt(t)}},{key:"bh",get:function(){return this.AM()}},{key:"bl",get:function(){return this.prt()}}]),n}(qD);function KB(t,n){if(t.bandwidth!==n.bandwidth)return!1;if(t.resolution){if(!n.resolution)return!1;if(t.resolution.width!==n.resolution.width||t.resolution.height!==n.resolution.height)return!1}else if(n.resolution)return!1;return!0}function tL(t){for(var n=[],i=0;i<t.length;i++){for(var r=t[i],e=!1,u=0;u<n.length;u++){KB(r,n[u])&&(e=!0)}e||n.push(r)}return n}function nL(t){var n=t&&t.uri||"",i=n.indexOf("?"),r=n.indexOf("#"),e=n.length;-1!==r&&(e=r),-1!==i&&(e=i);var u=n.indexOf(".aac",e-4);return 0<=u&&u<e}var iL=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this)||this).Art=null,o.brt=null,o.Trt=null,o.Ert=null,o.Srt=null,o.Rrt=null,o.Irt=null,o.Nrt=!1,o.wk=!0,o.pZ=!0,o.Drt=null,o.Crt=function(){o.Drt&&o.Drt.disabled&&o.Ort(o.hw.initialRendition||"default"),o.xrt(!0)},o.Prt=function(){var t=o.J$._$.cZ.some(function(t){return t.bl});o.Brt(t)},o.Lrt=function(t){"variant"===t.Ig&&(o.rnt.removeEventListener("o6",o.Lrt),o.Drt&&(o.Drt=null,o.xrt(!1)))},o.wR=s,o.J$=n,o.uy=i,o.rnt=r,o.hw=e,o.Mrt=e.Urt||[],o.Frt=new sB(e,rO.gn.zK,u),o.Art=null,o.rnt.addEventListener("o6",o.Lrt),o.Hrt(),o.Vrt(),o.Ort(e.initialRendition||"default"),o}qt(n,t);var i=n.prototype;return i.Xrt=function(t,n){var i=gC(t);if(i&&!i.disabled)return i;var r=this.Wrt(t,null);switch(r.length?"first"!==n&&(n="high"):r=t,n){case"first":return r.reduce(function(t,n){return t.XQ<=n.XQ?t:n});case"high":var e=tL(r);return e[e.length-1];case"low":default:return tL(t)[0]}},i.qrt=function(t,n){var i=this.zrt||this.Drt&&[this.Drt],r=i&&i.filter(function(n){return li(t,n)});return r&&r.length>0?tL(r):tL(this.Wrt(t,n))},i.Wrt=function(t,n){var i=this.hw,r=this.Mrt,e=this.Grt();return t.filter(function(t){for(var u=0;u<r.length;u++){if(!r[u].jrt(t,n,e,i))return!1}return!0})},i.Qrt=function(t,n){var i=this.qrt(t,n);return i.length?i[i.length-1]:t[0]},i.Yrt=function(t,n){var i=this.zrt;return i&&i.length>0?i.filter(function(n){return li(t,n)}):t},i.Zrt=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r,e,u,s;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.Ert,e=this.Srt,!r||n!==this.Rrt||i!==this.Irt){t.next=4;break}return t.abrupt("return",r);case 4:return u=new ki,s=this.Jrt(n,i,u.ls),r&&e&&e.fs(),this.Ert=s,this.Srt=u,this.Irt=i,t.prev=10,t.next=13,s;case 13:return t.abrupt("return",t.sent);case 14:return t.prev=14,s===this.Ert&&(this.Ert=null,this.Srt=null,this.Irt=null),t.finish(14);case 17:case"end":return t.stop()}},t,this,[[10,,14,17]])}));return function(n,i){return t.apply(this,arguments)}}(),i.Jrt=function(){var t=vn.coroutine(fn.mark(function t(n,i,r){var e,u,s,o,a;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.J$,u=this.uy,s=e.l$,t.next=5,this.$rt(n,r);case 5:if(t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:if(!i){t.next=14;break}if(o=u.jtt(s,i.XQ),a=u.p6(n,o),hC.Nd(s.vJ)||a){t.next=14;break}return n.disabled="isUnsynced",t.abrupt("return",!1);case 14:return t.abrupt("return",!0);case 15:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.$rt=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r,e,u,s;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.brt,e=this.Trt,!r||n!==this.Rrt){t.next=4;break}return t.abrupt("return",r);case 4:return(u=new ki).vs(i),s=this.Krt(n,u.ls),r&&e&&e.fs(),this.brt=s,this.Trt=u,this.Rrt=n,t.prev=11,t.next=14,s;case 14:return t.abrupt("return",t.sent);case 15:return t.prev=15,s===this.brt&&(this.brt=null,this.Trt=null,this.Rrt=null),t.finish(15);case 18:case"end":return t.stop()}},t,this,[[11,,15,18]])}));return function(n,i){return t.apply(this,arguments)}}(),i.Krt=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r,e,u,s;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.J$,e=r.l$,!this.bh||e!==n){t.next=4;break}return t.abrupt("return",!1);case 4:if(this.tet(n)){t.next=8;break}u=n.hY,t.next=22;break;case 8:return t.prev=8,t.next=11,this.Frt.mo(n.uri,{});case 11:s=t.sent,bi(i),u=s.Dd,t.next=21;break;case 16:return t.prev=16,t.t0=t.catch(8),n.QZ(!1),n.KZ(),t.abrupt("return",!1);case 21:n.qZ(u,e);case 22:if(!nL(u.fragments[0])){t.next=25;break}return n.disabled="isAAC",t.abrupt("return",!1);case 25:return t.abrupt("return",!0);case 26:case"end":return t.stop()}},t,this,[[8,16]])}));return function(n,i){return t.apply(this,arguments)}}(),i.tet=function(t){var n=t.hY;return!n||!!n.live&&(!t.aY.lh||t.aY.GQ(t.aY.lh-1).gg+1e3*n.targetDuration<Dy())},i.bk=function(t){t?this.wk||(this.wk=!0,this.dispatchEvent("bh")):this.wk&&(this.wk=!1)},i.Brt=function(t){t&&!this.pZ?(this.pZ=!0,this.dispatchEvent("bl")):!t&&this.pZ&&(this.pZ=!1,this.dispatchEvent("nO"))},i.xrt=function(t){var n=this,i=this.J$,r=i.l$,e=i._$.cZ,u=this.Yrt(e,r),s=this.Qrt(u,r);s?this.Zrt(s,null).then(function(r){r&&(i.YJ(s,t),n.bk(!0))}):this.bk(!1)},i.net=function(){this.Drt=null,this.xrt(!0)},i.Vrt=function(){this.J$._$.addEventListener("uZ",this.Prt)},i.iet=function(){this.J$._$.removeEventListener("uZ",this.Prt)},i.Hrt=function(){this.J$._$.addEventListener("rZ",this.Crt)},i.ret=function(){this.J$._$.removeEventListener("rZ",this.Crt)},i.Ort=function(t){var n=this.J$,i=n._$.cZ;if(Boolean(n.l$&&!n.l$.disabled))this.Drt=null;else{if(i&&i.length){var r;switch(this.wR.Hx.type){case jT.PERFORMANCE:r="low";break;case jT.QUALITY:r="high";break;case jT.BANDWIDTH:r=t}this.Drt=this.Xrt(i,r),this.Nrt=!0}var e=this.Yrt(i,null),u=this.Qrt(e,null);u&&(n.l$=u)}},i.Grt=function(){return this.Nrt?{w5:this.rnt.w5}:{w5:this.wR.jx}},i.fs=function(){this.Ert&&this.Srt&&(this.Srt.fs(),this.Ert=null,this.Srt=null,this.Irt=null),this.brt&&this.Trt&&(this.Trt.fs(),this.brt=null,this.Trt=null,this.Rrt=null)},i.vh=function(){this.rnt.removeEventListener("o6",this.Lrt),this.ret(),this.iet(),this.fs(),this.Art=null,this.Drt=null},i.eet=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r,e;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.J$,n){t.next=3;break}return t.abrupt("return",!1);case 3:return t.next=5,this.Zrt(n,i);case 5:return(e=t.sent)&&(r.l$=n),t.abrupt("return",e);case 8:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),T(n,[{key:"bh",get:function(){return this.wk}},{key:"bl",get:function(){return this.pZ}},{key:"irt",get:function(){var t=this.J$,n=t.l$,i=this.Yrt(t._$.cZ,n);return this.qrt(i,n)}},{key:"nrt",get:function(){return this.Yrt(this.J$._$.cZ,this.J$.l$)}},{key:"zrt",get:function(){return this.Art},set:function(t){this.Art=t,this.net()}}]),n}(qD),rL=function(){function t(t,n){this.uet=-1,this.Mc=t,this.uy=n}return t.prototype.po=function(t){for(var n=t.aY,i=n.zQ(this.uet),r=i<0?0:i+1;r<n.lh;r++){var e=n.GQ(r);if(e.XQ>this.uet){var u=this.uy.m1(e),s=this.uy.A1(e,u),o=new Wv(u.ap(),s.ap(),[].concat(e.uJ),!1);o.Th=""+e.XQ,this.Mc.eb(o),this.uet=e.XQ}}},t}(),eL=function(t){function n(n,i,r,e,u,s,o,a,c){var h;return(h=t.call(this,aC.YY,n,i,r,e,u,s,o,a,c)||this).oet=null,h.aet=null,h.cet=new iL(n,h.uy,r,s,o,a),h.cet.addEventListener("bh",h.gs),h.cet.addEventListener("bl",h.gs),h.cet.addEventListener("nO",h.gs),s.manifestMetadataTrack&&(h.oet=n.WJ("",h.uy,""),h.aet=new rL(h.oet,h.uy)),h.Hnt=!h.J$.r$||!h.J$.r$.uri,h.Vnt=Boolean(h.J$.l$),h}qt(n,t);var i=n.prototype;return i.dit=function(t,n){if("hZ"===t){var i=n?n.uri:void 0;this.Hnt=!i}},i.vrt=function(){return aC.YY},i.drt=function(){return this.Ait&&this.Ait.lJ||!1},i.wrt=function(){return this.J$.l$},i.lrt=function(){return this.cet.nrt},i._rt=function(){return this.cet.irt},i.mrt=function(){var t=this.cet.zrt;return t&&t.map(function(t){return t.Th})},i.krt=function(t){if(t&&t.length>0){var n=this.wit.aZ.filter(function(n){return-1!==t.indexOf(n.Th)});if(!(n.length>0))return void 0;this.cet.zrt=n}else this.cet.zrt=null},i.AM=function(){return this.cet.bh},i.prt=function(){return this.cet.bl},i.Git=function(){var n=vn.coroutine(fn.mark(function n(i,r){return fn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.cet.eet(i,r);case 2:return n.abrupt("return",t.prototype.Git.call(this,i,r));case 3:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),i.ert=function(){t.prototype.ert.call(this),this.cet.fs()},i.mJ=function(n){t.prototype.mJ.call(this,n),this.aet&&this.aet.po(n)},i.vh=function(){t.prototype.vh.call(this),this.cet.vh(),this.cet.removeEventListener("bl",this.gs),this.cet.removeEventListener("nO",this.gs)},i.yit=function(t){return t._$},i.het=function(){var t=this.Av,n=this.frt?this.eit.k7(t):void 0,i=n?n.ZZ:void 0,r=this.oit.k7(t),e=r?r.ZZ:void 0,u=this.NJ;this.NJ=i;var s=this.Gnt;return this.Gnt=e,!u&&i?{c$:u,fet:i}:!s&&e?{c$:s,fet:e}:s&&e&&s.Th!==e.Th?{c$:s,fet:e}:void 0},n}($B),uL=function(t){function n(n,i,r,e,u,s,o,a,c){var h;return(h=t.call(this,aC.dd,n,i,r,e,u,s,o,a,c)||this).Hnt=!!h.J$.r$&&!!h.J$.r$.uri,h.Vnt=!1,h}qt(n,t);var i=n.prototype;return i.dit=function(t,n){if("hZ"===t){var i=n?n.uri:void 0;this.Hnt=!!i}},i.vrt=function(){return aC.dd},i.drt=function(){return this.Ait&&this.Ait.lJ||!1},i.wrt=function(){return this.J$.r$},i.lrt=function(){var t=this.wrt();return t?[t]:[]},i._rt=function(){return this.lrt()},i.yit=function(t){return t.WZ},i.mrt=function(){return null},i.krt=function(t){},i.AM=function(){return!0},i.prt=function(){return!0},i.het=function(){var t=this.frt?this.eit.k7(this.Av):void 0,n=t?t.ZZ:void 0,i=this.NJ;return this.NJ=n||void 0,!i&&n?{c$:i,fet:n}:i&&n&&i.Th!==n.Th?{c$:i,fet:n}:void 0},n}($B),sL=function(){function t(t,n,i,r,e,u){var s=this;this.vet=!1,this.det=xf.ik(),this.let=[],this._et=[],this.yJ=function(){return s.wet()},this.yet=function(t){t.Dd.live||s.met.removeEventListener(s.nY.PY,s.yet),s.nY.qZ(t.Dd)},this.ket=function(){s.nY.TJ.Lh===aa.Ch?s.vet&&s.pet():s.vet||s.Aet()},this.nY=t,this.met=n,this.x4=i,this.O4=u,this.bet=new hO(r,e),this.Tet=new ki,t.TJ.ps(xo.Qc,this.ket),t.uy&&t.uy.addEventListener("EJ",this.yJ),this.ket()}var n=t.prototype;return n.Aet=function(){this.vet||this.nY.TJ.Lh===aa.Ch||(this.met.removeEventListener(this.nY.PY,this.yet),this.met.addEventListener(this.nY.PY,this.yet),this.met.q8(this.nY.PY),this.met.z8(this.nY.PY),this.vet=!0,Ci(this.Eet(this.Tet.ls)))},n.Eet=function(){var t=vn.coroutine(fn.mark(function t(n){var i,r,e,u,s,o,a,c,h,f,v=this;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.x4.F4,r=this.O4.L4,e=new xf([i,i+r]),(u=e.Nm(this.det.Dm())).lh){t.next=16;break}return t.prev=6,t.next=9,Pi(1e3,n);case 9:t.next=15;break;case 11:return t.prev=11,t.t0=t.catch(6),Ei(t.t0),t.abrupt("return");case 15:return t.abrupt("return",this.Eet(n));case 16:if(s=u.um(0),o=this.Ret(s)){t.next=30;break}return a=this.nY,t.prev=20,t.next=23,Va(a,"YZ",n);case 23:t.next=29;break;case 25:return t.prev=25,t.t1=t.catch(20),Ei(t.t1),t.abrupt("return");case 29:return t.abrupt("return",this.Eet(n));case 30:c=o.Lg,h=o.Rtt.ap(),f=h+c.duration,this.bet.mo("TJ",c.uri,Sc.An,function(){var t=vn.coroutine(fn.mark(function t(i,r){var e,u,s,o,a,d;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!i){t.next=3;break}throw Pi(1e3,n).then(function(){return v.Eet(n)}),i;case 3:for(v.det=v.det.Lm(new xf([h,f])),v.let.push(c.XQ),e=Od(r.jA),u=e.bA||{TA:cd.bp,EA:cd.bp},s=v.nY.aY.jQ(c.XQ),o=0,a=e.Uh;o<a.length;o++)d=a[o],v._et.push({AJ:s,Rtt:oL(cd.tA(d.Ok),u.EA,u.TA),Iet:oL(cd.tA(d.xk),u.EA,u.TA),Ck:d});return v.wet(),t.next=12,v.Eet(n);case 12:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}());case 34:case"end":return t.stop()}},t,this,[[6,11],[20,25]])}));return function(n){return t.apply(this,arguments)}}(),n.wet=function(){var t=this.nY.uy;if(this._et.length&&t){for(var n=[],i=0,r=this._et;i<r.length;i++){var e=r[i],u=t.E1(e.AJ,e.Rtt);if(u._p())n.push(e);else{var s=t.E1(e.AJ,e.Iet),o=new zv(u.ap(),s.ap(),e.Ck.Pk,!1,e.Ck.Th);this.nY.TJ.eb(o)}}this._et=n,this.nY.TJ.QF(this.x4.F4,!0)}},n.Ret=function(t){var n=this.nY.uy,i=this.nY.aY;if(n.ptt)for(var r=n.Ctt.ap(),e=i.lh-1;e>=0;e-=1){var u=i.GQ(e),s=r-u.duration;if(new xf([s,r]).Sm(t,.5)){var o={Lg:u,Rtt:cd.tA(s)};return this.Net(i,o,e)}r=s}else for(var a=0,c=0;c<i.lh;c+=1){var h=i.GQ(c),f=a+h.duration;if(new xf([a,f]).Sm(t,.5)){var v={Lg:h,Rtt:cd.tA(a)};return this.Net(i,v,c)}a=f}},n.Net=function(t,n,i){var r=n.Lg;if(-1===this.let.indexOf(r.XQ))return n;for(var e=n.Rtt.ap()+r.duration,u=i+1;u<t.lh;u+=1){var s=t.GQ(u);if(-1===this.let.indexOf(s.XQ))return{Lg:s,Rtt:cd.tA(e)};e+=s.duration}},n.pet=function(){this.vet=!1,this.met.W8(this.nY.PY),this.Tet.fs(),this.Tet=new ki},n.fh=function(){this.pet(),this.det=xf.ik(),this.let.length=0,this.nY.TJ.Ts(xo.Qc,this.ket),this.nY.uy&&this.nY.uy.removeEventListener("EJ",this.yJ),this.met.removeEventListener(this.nY.PY,this.yet)},t}();function oL(t,n,i){return md(i,t.Gm(n))}var aL=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).Det=NaN,u.Cet=!1,u.Oet=1/0,u.xet=1/0,u.Pet=null,u.Bet=!0,u.Let=!0,u.d7=null,u.Met=void 0,u.Uet=void 0,u.Fet=[],u.UJ=function(){var t=u.J$.bv;m(t)||u.Det===t||(u.Det=t,u.dispatchEvent("durationchange"))},u.Het=function(){u.rK&&(u.J$.removeEventListener("renditionUpdated",u.Het),u.dispatchEvent("rK"))},u.Vet=function(){u.Kit&&u.dispatchEvent("Kit")},u.Xet=function(){u.bK&&u.dispatchEvent("bK")},u.gs=function(t){u.dispatchEvent(t)},u.Wet=function(t){var n=u.J$.JJ(t.H8);n?n instanceof AC&&(n.QZ(!1),n.KZ()):u.dispatchEvent(t)},u.qet=function(t){u.J$.Dd||(t.xs.code===GD.IQ?(u.Pet||(u.Pet=c(u.zet,Tw)),u.Let=!1,u.nJ()):u.dispatchEvent({type:"xs",xs:t.xs}))},u.Get=function(t){u.jet(),u.Qet(t.Dd),u.Yet(),u.J$.removeEventListener("n$",u.UJ),u.J$.addEventListener("n$",u.UJ),u.UJ(),u.Cet||(u.Cet=!0,u.dispatchEvent("loadedmetadata")),u.Het(),u.Let=!0,u.nJ()},u.zet=function(){u.jet();var t=u.TK;t&&(u._it.fh(),u._it.TK=t,u._it.um())},u.Zet=function(){u._it.G8()},u.Jet=function(){u.$et.forEach(function(t){return t.crt()})},u.Ket=function(t){u.tut.forEach(function(n){return n.Bit(t.ZZ)})},u.nut=function(t){u.$et.forEach(function(n){return n.Lit(t.s4)}),u.iut.n7(t.s4,u.$et.map(function(t){return t.uy}))},u.nJ=function(){var t=u.Bet,n=u.prt();u.Bet=n,n&&!t?u.dispatchEvent("bl"):!n&&t&&u.dispatchEvent("nO")},u.wR=e,u.hw=n,u.pK=i,u.$A=r,u.rnt=new eP(n,i,r,jt(u)),u.git=new HP(n),u.J$=new TC(n),u._it=new aB(r,n),u.iut=new cB,u._it.addEventListener("xs",u.Wet),u._it.addEventListener("F8",u.qet),u._it.addEventListener("V8",u.Get),u.rnt.addEventListener("i6",u.gs),u.rnt.addEventListener("xs",u.gs),u.J$.addEventListener("a$",u.gs),u.J$.addEventListener("YZ",u.Ket),u.J$.addEventListener("RJ",u.nut),u.J$.addEventListener("h$",u.gs),u.iut.addEventListener("Y8",u.gs),u.iut.addEventListener("Y8",u.Jet),u.addEventListener("bl",u.Zet),u}qt(n,t);var i=n.prototype;return i.rut=function(t){t.grt=this.grt,t.addEventListener("Sit",this.gs),t.addEventListener("eut",this.gs),t.addEventListener("xs",this.gs),t.addEventListener("Qit",this.gs),t.addEventListener("AK",this.gs),t.addEventListener("Kit",this.Vet),t.addEventListener("bK",this.Xet),t.addEventListener("nO",this.nJ),t.addEventListener("bl",this.nJ),t.addEventListener("bh",this.gs),t.addEventListener("oK",this.gs),t.addEventListener(Ta.Nf,this.gs),t.addEventListener(Ta.Cf,this.gs)},i.Yet=function(){this.uut();this.J$._$.aZ;var t=this.J$.WZ.aZ;this.Met=new eL(this.J$,this._it,this.rnt,this.git,this.d7,this.hw,this.$A,this.wR,this),this.rut(this.Met),t.length&&(this.Uet=new uL(this.J$,this._it,this.rnt,this.git,this.d7,this.hw,this.$A,this.wR,this),this.rut(this.Uet));for(var n=this.J$.g$,i=this.Met.uy,r=0;r<n.length;r++){var e=n[r];e.uy=i,this.Fet.push(new sL(e,this._it,this.d7,this.$A,this.hw,this))}},i.uut=function(){this.Met&&(this.Met.vh(),this.Met=void 0),this.Uet&&(this.Uet.vh(),this.Uet=void 0),this.Fet.forEach(function(t){return t.fh()}),this.Fet.length=0,this.iut.fh()},i.sut=function(t){this.$et.forEach(function(n){return n.rrt(t)})},i.Qet=function(t){this.J$.Dd=t},i.out=function(){this._it.um()},i.aut=function(t){this.iut.i7(t,this.$et.map(function(t){return t.uy}))||this.$et.forEach(function(t){t.Tit(),t.art()})},i.pet=function(){this.rnt.J5(),this.$et.forEach(function(t){return t.ert()})},i.NK=function(){this.rnt.J5(),this.$et.forEach(function(t){return t.urt()})},i.SK=function(){this.$et.forEach(function(t){return t.ort()})},i.vh=function(){this.bs(),this.jet(),this.uut(),this.rnt.vh(),this.git.vh(),this.J$.vh(),this._it.fh(),this.iut.vh()},i.cut=function(t,n,i,r){var e=this.Met,u=this.Uet;t&&(e.ert(),this.rnt.qs(e.Ig),e.rrt(r)),n&&u&&(u.ert(),this.rnt.qs(u.Ig),i&&u.rrt(r))},i.hut=function(){if(!this.Met)return IO;var t=this.Met;return QO(t.uy,this.rnt.j4(t.Ig))},i.X8=function(t,n,i){var r=this,e=n?n.uri:void 0,u=i?i.uri:void 0,s=function t(n){n.Dd.live||r._it.removeEventListener(u,t),i&&i.qZ(n.Dd)};u&&(this._it.removeEventListener(u,s),this._it.addEventListener(u,s)),this._it.X8(e,u),this._it.z8(u)},i.jet=function(){null!==this.Pet&&h(this.Pet),this.Pet=null},i.prt=function(){return!!this.Let&&(!this.Met||this.Met.bl)},i.PK=function(t){this.Met&&(this.Met.yrt=t)},i.fh=function(){this.tut.forEach(function(t){return t.fh()}),this.Fet.forEach(function(t){return t.fh()})},T(n,[{key:"fut",get:function(){return this.Met}},{key:"vut",get:function(){return this.Uet}},{key:"$et",get:function(){var t=[];return this.Met&&t.push(this.Met),this.Uet&&this.Uet.frt&&t.push(this.Uet),t}},{key:"tut",get:function(){return[this.Met,this.Uet].filter(M)}},{key:"L4",get:function(){return xt(this.wR.Ux*this.rnt.M4,1,this.dut)}},{key:"TK",get:function(){return this._it.TK},set:function(t){this.Det=NaN,this.Oet=1/0,this.Cet=!1,this.Bet=!0,this.Let=!0,this.J$.removeEventListener("renditionUpdated",this.Het),this.J$.removeEventListener("n$",this.UJ),this.jet(),this.uut(),this.rnt.qs(),this.git.fs(),this.J$.vh(),this.J$.addEventListener("renditionUpdated",this.Het),this._it.TK=t,this.nJ()}},{key:"bv",get:function(){return this.Det}},{key:"ptt",get:function(){return this.J$&&hC.Nd(this.J$.vJ)}},{key:"bl",get:function(){return this.Bet}},{key:"rK",get:function(){var t=this.$et;return t.length>0&&t.every(function(t){return t.lJ})}},{key:"M4",get:function(){return this.rnt.M4},set:function(t){t>0&&(this.rnt.M4=t)}},{key:"Kit",get:function(){return this.$et.every(function(t){return t.Kit})}},{key:"bK",get:function(){return this.$et.length>0&&this.$et.every(function(t){return t.bK})}},{key:"dut",get:function(){return this.xet},set:function(t){this.xet=t}},{key:"grt",get:function(){return this.Oet},set:function(t){var n=this;this.Oet=t,this.tut.forEach(function(t){return t.grt=n.Oet})}},{key:"Sl",get:function(){return this.rK?new RO([{um:this.Dtt,om:this.Ctt}]):IO}},{key:"Dtt",get:function(){if(!this.rK)return 0;for(var t=-1/0,n=0,i=this.$et;n<i.length;n++){var r=i[n];t=g.max(t,r.uy.Dtt.ap())}return t}},{key:"Ctt",get:function(){if(!this.rK)return 0;for(var t=1/0,n=0,i=this.$et;n<i.length;n++){var r=i[n];t=g.min(t,r.uy.Ctt.ap())}return t}},{key:"Ott",get:function(){if(!this.rK)return 0;for(var t=1/0,n=0,i=this.$et;n<i.length;n++){var r=i[n];t=g.min(t,r.uy.Ott.ap())}return g.max(t,this.Dtt)}},{key:"xK",get:function(){return this.Met&&this.Met.yrt||void 0}}]),n}(qD),cL=function(t){function n(n,i){var r;return(r=t.call(this)||this).Det=NaN,r.Cet=!1,r.Pet=null,r.Bet=!0,r.oet=null,r.aet=null,r.gs=function(t){r.dispatchEvent(t)},r.Qet=function(t){if(r.J$.Dd||(r.J$.Dd=r.lut.d$||null),!r.J$.l$){var n=r.J$._$.aZ[0];n&&(r.J$.l$=n,r.lut.L8(n),r.dispatchEvent({type:"_ut",ZZ:n}))}t.manifest.isMasterPlaylist||r.J$.l$.qZ(t.manifest),void 0!==t.manifest.duration&&r.Det!==t.manifest.duration&&(r.Det=t.manifest.duration,r.dispatchEvent("durationchange")),r.Cet||(r.Cet=!0,r.dispatchEvent("loadedmetadata")),r.Brt(!0),r.dispatchEvent({type:"B8",manifest:t.manifest})},r.qet=function(t){t.xs.code===GD.IQ?(r.Pet||(r.Pet=c(r.zet,Tw)),r.Brt(!1)):r.dispatchEvent({type:"xs",xs:t.xs})},r.zet=function(){r.jet();var t=r.TK;t&&r.lut.um(t)},r.jet=function(){h(r.Pet),r.Pet=null},r.Ket=function(t){var n=t.ZZ;r.uy.gtt(n,n.hY),r.hw.manifestMetadataTrack&&(r.aet||(r.oet=r.J$.WJ("",r.uy,""),r.aet=new rL(r.oet,r.uy)),r.aet.po(n))},r.hw=n,r.J$=new TC(n,!0),r.uy=new IB(n),r.lut=new oB(i,r.hw),r.uy.addEventListener("xs",r.gs),r.lut.addEventListener("B8",r.Qet),r.lut.addEventListener("xs",function(t){r.J$.Dd?(r.Pet||(r.Pet=c(r.zet,Tw)),r.Brt(!1)):r.qet(t)}),r.J$.addEventListener("YZ",r.Ket),r}qt(n,t);var i=n.prototype;return i.out=function(){this.J$.Dd||this.lut.um()},i.hut=function(){return IO},i.Brt=function(t){var n=this.Bet;this.Bet=t,t&&!n?this.dispatchEvent("bl"):!t&&n&&this.dispatchEvent("nO")},i.vh=function(){this.bs(),this.jet(),this.J$.vh(),this.lut.vh(),this.aet=null,this.uy.vh()},i.NK=function(){},i.SK=function(){},i.sut=function(t){},i.PK=function(t){},T(n,[{key:"TK",get:function(){return this.lut.TK},set:function(t){this.Det=NaN,this.Cet=!1,this.jet(),this.J$.vh(),this.aet=null,this.lut.TK=t,this.Brt(!0)}},{key:"bv",get:function(){return this.Det}},{key:"ptt",get:function(){return this.J$&&hC.Nd(this.J$.vJ)}},{key:"bl",get:function(){return this.Bet}},{key:"bK",get:function(){return!1}},{key:"Kit",get:function(){return!1}},{key:"xK",get:function(){return[]}}]),n}(qD),hL=1e3,fL="VEE3",vL=function(t){function n(n){var i;return(i=t.call(this,"gut")||this).ptsOffset=n,i}return qt(n,t),n}(Vi),dL=function(t){function n(n){var i;return(i=t.call(this)||this).wut=null,i.yut=0,i.mut="now",i.kut=1,i.Aut=!1,i.but=!1,i.Tut=0,i.Eut=null,i.Sut=null,i.Rut=null,i.Iut=null,i.Z8=0,i.Nut=0,i.initializePromiseAbortController=new ki,i.Dut=new se,i.Cut={},i.Out=!1,i.xut=null,i.Put=NaN,i.Eit=function(){i.b$.$et.map(function(t){t.Eit()})},i.het=function(){for(var t,n,r,e=0,u=i.b$.tut;e<u.length;e++){var s=u[e],o=s.het();if(o){var a=o.fet;a&&a.fJ!==cC.dd&&(i.xut=a)}s.Ig===aC.dd?t=o:s.Ig===aC.YY&&(n=o,r=s)}(t||n)&&i.dispatchEvent({type:"a$",But:t&&t.c$,P$:t&&t.fet,U$:n&&n.c$,x$:n&&n.fet,C$:!!r&&r.frt})},i.Rit=function(){null!==i.Eut&&h(i.Eut),i.Eut=c(i.Rit,hL),i.b$.$et.forEach(function(t){return t.Rit()})},i.Dit=function(){null!==i.Sut&&h(i.Sut),i.Aut&&(i.Sut=c(i.Dit,hL),i.b$.$et.forEach(function(t){return t.Dit()}))},i.Nit=function(){i.b$.$et.forEach(function(t){return t.Nit()})},i.Lut=function(){if(i.b$.ptt&&i.Iv>1){var t=i.b$.Ott;i.Mut>t&&(i.Iv=1,i.Mut>=t+1&&(i.Mut="now"))}},i.Uut=function(){i.wut&&(0===i.wut.Fut()?i.Mut="now":i.Mut=i.Hut(i.F4))},i.Vut=function(){i.Tut=i.F4},i.Xut=function(t){i.Wut(),i.wut.error&&(t.error.info.code===fL&&i.Nut<Ew?(i.Nut+=1,i.qut()):i.dispatchEvent({type:"xs",error:t.error}))},i.zut=function(){i.Nut=0},i.Gut=function(){i.removeEventListener("jut",i.Qut),i.Aut?i.Qut():i.addEventListener("jut",i.Qut)},i.Qut=function(){var t=i.F4;i.b$.removeEventListener("rK",i.Gut),i.b$.rK?i.b$.$et.forEach(function(n){return n.Oit(t)}):(i.b$.addEventListener("rK",i.Gut),i.b$.out())},i.Yut=function(){var t=i.F4;i.b$.tut.forEach(function(n){return n.Cit(t,i.b$.ptt)})},i.Zut=function(){null!==i.Eut&&h(i.Eut),i.Eut=null,null!==i.Sut&&h(i.Sut),i.Sut=null},i.Jut=function(){i.$ut(),i.b$.rK?i.EK():(i.b$.addEventListener("rK",i.Jut),i.b$.out())},i.$ut=function(){i.b$.removeEventListener("rK",i.Jut)},i.m$=function(t){i.b$.X8(t.fJ,t.c$||void 0,t.ZZ||void 0),t.h$&&i.Kut(t.fJ,t.c$,t.ZZ)},i.tst=function(t){var n=t.Z8-i.Z8;g.abs(n)>bw&&(i.Z8=t.Z8,i.F4=i.F4+n)},i.nst=function(t){var n=t.AJ.metadata;n.hJ&&(i.Cut[t.Ig]=n.hJ,i.ist())},i.ist=function(){if(i.b$.rK){var t=_.keys(i.Cut).length===i.b$.$et.length;if(i.wut&&!i.wut.rst&&t){var n=i.Dut;i.est().then(function(){return n.io()},function(t){return n.ro(t)})}i.wut&&i.Z8&&(i.wut.Z8=i.Z8)}},i.ust=function(){if(m(i.sst))if(i.b$.ptt)i.sst=0;else{var t=i.xut,n=t&&t.dJ,r=t&&M(n)&&!m(n)&&t.fY(n)||void 0;i.sst=lC(r)?r.c4.ap():NaN}i.aK&&(i.removeEventListener("a$",i.ust),i.b$.removeEventListener("i6",i.ust),i.dispatchEvent("aK",!0))},i.b$=n,n.d7=jt(i),i}qt(n,t);var i=n.prototype;return i.qut=function(){this.b$.ptt?this.Mut="now":(this.Tut+=.5,this.b$.$et.map(function(t){t.Tit(),t.xit(),t.Pit()}),this.Mut=this.Tut),this.ist(),this.wut.play()},i.ost=function(t){var n=this;this.Rut&&(this.b$.removeEventListener("rK",this.Rut),this.Rut=null),this.b$.rK?(this.but=!0,this.Out=!0,this.b$.aut(t),this.Out=!1):(this.Rut=function(){return n.ost(t)},this.b$.out())},i.ast=function(t){this.cst(),this.b$.ptt&&(t="none"),"auto"===t&&this.Jut()},i.hst=function(t){var n=this;this.cst(),"none"!==t&&(this.b$.rK?this.ast(t):(this.Iut=function(){return n.ast(t)},this.b$.addEventListener("rK",this.Iut),this.b$.out()))},i.cst=function(){this.$ut(),this.Iut&&(this.b$.removeEventListener("rK",this.Iut),this.Iut=null)},i.EK=function(){this.but?this.b$.sut():(this.Mut=this.mut,this.b$.sut(22)),this.Aut||(this.Aut=!0,this.dispatchEvent("jut"))},i.fst=function(){this.wut&&(this.wut.addEventListener("vst",this.Yut),this.wut.addEventListener("seeking",this.Gut),this.wut.addEventListener("error",this.Xut),this.wut.addEventListener("playing",this.zut)),this.b$.addEventListener("a$",this.m$),this.b$.addEventListener("Qit",this.Uut),this.b$.addEventListener("rK",this.ist),this.b$.addEventListener("Y8",this.tst),this.b$.addEventListener("bh",this.Gut),this.DK()},i.dst=function(){this.wut&&(this.wut.removeEventListener("vst",this.Yut),this.wut.removeEventListener("seeking",this.Gut),this.wut.removeEventListener("error",this.Xut),this.wut.removeEventListener("playing",this.zut)),this.b$.removeEventListener("a$",this.m$),this.b$.removeEventListener("Qit",this.Uut),this.b$.removeEventListener("rK",this.ist),this.b$.removeEventListener("Y8",this.tst),this.b$.removeEventListener("bh",this.Gut),this.CK()},i.DK=function(){this.wut&&(this.wut.addEventListener("loadstart",this.Jut),this.wut.addEventListener("timeupdate",this.Eit),this.wut.addEventListener("playing",this.het),this.wut.addEventListener("timeupdate",this.het),this.wut.addEventListener("timeupdate",this.Dit),this.wut.addEventListener("timeupdate",this.Rit),this.wut.addEventListener("timeupdate",this.Vut),this.wut.addEventListener("timeupdate",this.Lut),this.wut.addEventListener("ended",this.Zut)),this.b$.addEventListener("i6",this.nst),this.b$.addEventListener("i6",this.Nit)},i.CK=function(){null!==this.Eut&&h(this.Eut),null!==this.Sut&&h(this.Sut),this.wut&&(this.wut.removeEventListener("loadstart",this.Jut),this.wut.removeEventListener("timeupdate",this.Eit),this.wut.removeEventListener("playing",this.het),this.wut.removeEventListener("timeupdate",this.het),this.wut.removeEventListener("timeupdate",this.Dit),this.wut.removeEventListener("timeupdate",this.Rit),this.wut.removeEventListener("timeupdate",this.Vut),this.wut.removeEventListener("timeupdate",this.Lut),this.wut.removeEventListener("ended",this.Zut)),this.b$.removeEventListener("i6",this.nst),this.b$.removeEventListener("i6",this.Nit)},i.l7=function(){var t=vn.coroutine(fn.mark(function t(n){var i;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Si(this.Dut.to,this.initializePromiseAbortController.ls);case 2:return i=this.wut.l7(n),this.wut.loading&&(this.wut.loaded=!0,this.wut.loading=!1),t.next=6,i;case 6:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.wM=function(t,n){this.lst.wM(t,n)},i.bit=function(){var t=vn.coroutine(fn.mark(function t(n,i){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Si(this.Dut.to,this.initializePromiseAbortController.ls);case 3:return t.next=5,this.wut.bit(n,i);case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),Ai(t.t0)||this.dispatchEvent({type:"xs",error:t.t0});case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(n,i){return t.apply(this,arguments)}}(),i.est=function(){var t=vn.coroutine(fn.mark(function t(){var n,i,r,e;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.wut.est(this.Cut,this.b$.bv);case 2:if(n=t.sent){t.next=5;break}return t.abrupt("return");case 5:for(i=0,r=this.b$.tut;i<r.length;i++)e=r[i],n.hZ&&(e.iit=n.hZ),n.fZ&&(e.sit=n.fZ);case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Wut=function(){this.initializePromiseAbortController.fs(),this.initializePromiseAbortController=new ki,this.Dut=new se},i.Hut=function(t){var n=this.Sl;return n.length?xt(t,n.start(0),n.end(n.length-1)):0},i.Mit=function(t){var n=this.b$.fut;return n?n.Mit(t):null},i.Itt=function(t){var n=this.b$.fut;return n?n.Itt(t):NaN},i.mo=function(t){var n=t||"none";this.dst(),this.fst(),this.hst(n)},i.IK=function(){this.cst()},i.vh=function(){this.bs(),this.Cut={},this.lst=null},i.fh=function(){this.Wut(),this._st(),this.Cut={},this.yut=0,this.Tut=0,this.mut="now",this.Z8=0,this.kut=1,this.Aut=!1,this.but=!1,this.xut=null,this.b$.fh()},i.Kut=function(t,n,i){if(n){this.dispatchEvent("cK"),this.CK();var r=!1,e=!1,u=!1;if("fZ"===t){e=!0;var s=this.b$.fut;s&&s.frt&&(r=!0)}else r=!0,u=!(!i||!i.uri);r&&this.wut.h$("audio"),e&&this.wut.h$("video"),this.b$.tut.forEach(function(t){t.Tit(),r&&t.xit(),e&&t.Pit()}),this.b$.cut(e,r,u,22),this.b$.tut.forEach(function(t){return t.Iit()}),this.DK()}},i.zd=function(){this.CK(),this.b$.ptt&&this.b$.pet()},i.qd=function(){this.CK(),this.DK(),this.b$.SK()},i.gst=function(t){var n=this.sst||0;return this.gJ?t-n<0?0:g.round((t-n)*this.gJ-.5)||0:NaN},i.wst=function(t){var n=this.sst||0;return this.gJ?n+(t+.5)/this.gJ:NaN},i._st=function(){this.sst=NaN,this.removeEventListener("a$",this.ust),this.addEventListener("a$",this.ust),this.b$.removeEventListener("i6",this.ust),this.b$.addEventListener("i6",this.ust)},T(n,[{key:"lst",get:function(){return this.wut},set:function(t){this.dst(),this.Wut(),this.zut(),this.wut=t,this.ist()}},{key:"F4",get:function(){return this.wut&&!this.Out?this.wut.Fut():this.yut},set:function(t){t=this.Hut(t),this.Tut=this.yut=t,this.wut?this.wut.yst(t):(this.Yut(),this.Gut())}},{key:"Mut",get:function(){return this.wut&&!this.Out?this.F4:this.mut},set:function(t){"now"===t&&(t=this.b$.ptt?1/0:0),t=this.Hut(t),this.mut=t,this.Tut=this.yut=t,this.ost(cd.tA(this.yut)),this.F4=t}},{key:"xk",get:function(){return this.b$.grt},set:function(t){this.b$.grt=t}},{key:"Iv",get:function(){return this.wut?this.wut.Iv:this.kut},set:function(t){var n=this.kut;t>0&&(this.kut=t,this.wut&&(this.wut.Iv=t),this.b$.M4=t,this.kut!==n&&this.dispatchEvent("mst"))}},{key:"Sl",get:function(){var t=this.b$.Sl;if(!t.length||!this.b$.ptt)return t;var n=t.start(0),i=this.b$.Ott;return i=g.max(this.F4,i),new RO([{um:n,om:i}])}},{key:"ll",get:function(){return this.Mit(this.F4)}},{key:"gJ",get:function(){var t=this.xut;return t&&t.gJ||NaN}},{key:"sst",get:function(){return this.Put},set:function(t){this.Put!==t&&(this.dispatchEvent(new vL(t)),this.Put=t)}},{key:"aK",get:function(){return Boolean(this.gJ)&&!m(this.sst)}}]),n}(qD),lL=function(t){function n(n){var i;return(i=t.call(this)||this).kst=null,i.pst=[],i.Ast=function(t){return i.bst(t)},i.Tst=function(){return i.Est()},i.J$=n,i.pst=[],i}qt(n,t);var i=n.prototype;return i.nb=function(t){var n,i;"metadata"===t.kind&&(t.mode=aa.Oh,n=this.J$.VJ(t.id,t.inBandMetadataTrackDispatchType),i=this.Sst.bind(this,n),this.pst.push({Rst:t,Ist:i,TJ:n}),t.addEventListener("cuechange",i))},i.wb=function(){for(var t=this.kst.Xd,n=t&&t.length,i=0;i<n;i+=1)this.nb(t[i]);t&&t.addEventListener&&(t.addEventListener("addtrack",this.Ast),t.addEventListener("change",this.Tst))},i.Sst=function(t,n){for(var i=n.target.activeCues,r=i.length,e=r?i[0].startTime:0,u=0;u<r;u++){var s=kI(i[u].value),o=new II(e,s);t.eb(o)}},i.Est=function(){for(var t=0,n=this.pst;t<n.length;t++){var i=n[t].Rst;i.mode!==aa.Oh&&(i.mode=aa.Oh)}},i.bst=function(t){this.nb(t.track)},i.Nst=function(){for(var t=this.kst,n=t&&t.Xd,i=0,r=this.pst;i<r.length;i++){var e=r[i];e.Rst.removeEventListener("cuechange",e.Ist)}this.pst.length=0,n&&n.removeEventListener&&(n.removeEventListener("addtrack",this.Ast),n.removeEventListener("change",this.Tst))},i.vh=function(){this.Nst(),this.kst=null,this.J$=null,this.Ast=null,this.Tst=null},i.fh=function(){this.Nst(),this.kst&&this.wb()},n}(qD),_L=function(t){function n(n){var i;return(i=t.call(this)||this).wut=null,i.mut=0,i.kut=1,i.nO=!1,i.Dst=null,i.Cst=null,i.Ost=NaN,i.xst=NaN,i.Pst=null,i.Bst=function(){i.wut.removeEventListener("loadstart",i.Bst),i.wut.removeEventListener("play",i.Bst),i.b$.out()},i.Eit=function(){var t=i.b$.J$.l$;if(t&&(!i.Dst||i.Dst.um>i.F4||i.Dst.om<i.F4)){var n=i.b$.uy.p6(t,cd.tA(i.F4));if(!n)return void i.wut.addEventListener("timeupdate",i.Eit);i.Dst={um:n.Rtt.ap(),om:n.Rtt.Bm(cd.tA(n.Lg.duration)).ap(),XQ:n.Lg.XQ,sJ:null},i.dispatchEvent({type:"Sit",DA:n.Lg})}},i.het=function(){var t=i.b$.J$,n=t._$.aZ.length?t._$.aZ:t.WZ.aZ,r=i.wut.Cv,e=i.wut.Dv,u=n&&n.filter(function(t){var n=t.resolution;return n&&n.width===r&&n.height===e}),s=u&&u.length?u[0]:null;s!==i.Cst&&(i.Cst=s,i.dispatchEvent({type:"a$",ZZ:s}))},i.Lst=function(t){i.dispatchEvent({type:"a$",ZZ:t.ZZ})},i.Mst=function(){if(i.wut){var t=i.wut.Sl,n=t.length?t.end(t.length-1):NaN;isFinite(n)&&n!==i.xst&&(i.xst=n,i.Ost=Dy())}},i.Ust=function(){i.nO=!0},i.Fst=function(){i.nO&&(i.nO=!1,i.Hst())},i.b$=n,i.Vst=new lL(n.J$),n.addEventListener("nO",i.Ust),n.addEventListener("bl",i.Fst),i}qt(n,t);var i=n.prototype;return i.Hut=function(t){var n=this.wut.Sl;return n.length?xt(t,n.start(0),n.end(n.length-1)):0},i.Hst=function(){if(this.wut){var t=this.wut.currentTime,n=this.wut.paused;this.wut.load(),this.wut.currentTime=t,n||this.wut.play()}},i.Xst=function(){this.wut&&(this.wut.addEventListener("loadstart",this.Bst),this.wut.addEventListener("play",this.Bst),this.wut.addEventListener("timeupdate",this.Eit),this.wut.addEventListener("timeupdate",this.het),v(this.Pst),this.Pst=f(this.Mst,250))},i.Wst=function(){v(this.Pst),this.wut&&(this.wut.removeEventListener("loadstart",this.Bst),this.wut.removeEventListener("play",this.Bst),this.wut.removeEventListener("timeupdate",this.Eit),this.wut.removeEventListener("timeupdate",this.het))},i.mo=function(t){t=t||"none",this.Wst(),this.Xst(),this.b$.removeEventListener("_ut",this.Lst),this.b$.addEventListener("_ut",this.Lst),"none"!==t&&this.Bst()},i.vh=function(){this.bs(),this.Vst.vh(),this.lst=null,this.b$.removeEventListener("_ut",this.Lst)},i.fh=function(){this.mut=0,this.kut=1,this.nO=!1,this.Dst=null,this.Cst=null,this.Ost=NaN,this.xst=NaN,v(this.Pst),this.Vst.fh()},i.qd=function(){},i.zd=function(){},i.IK=function(){},i.Kut=function(){},i.Itt=function(t){var n=this.b$.J$.l$;return this.b$.uy.Itt(n,t).ap()},i.Mit=function(t){var n,i,r=this.b$.J$.l$,e=this.b$.uy,u=t,s=this.Dst;if(s)s.sJ||(s.sJ=e.Stt(r,s.XQ)),n=s.um,i=s.sJ;else{var o=e.p6(r,cd.tA(u));if(!o)return null;n=o.Rtt.ap(),i=e.Stt(r,o.Lg.XQ)}if(!i)return null;var a=u-n;return new Date(i.getTime()+1e3*a)},i.gst=function(t){return NaN},i.wst=function(t){return NaN},T(n,[{key:"qst",get:function(){return null}},{key:"ll",get:function(){return this.Mit(this.F4)}},{key:"lst",get:function(){return this.wut},set:function(t){this.Wst(),this.wut=t,this.wut&&(this.Vst.kst=this.wut,this.Vst.wb())}},{key:"Mut",get:function(){return this.wut?this.wut.Fut():this.mut},set:function(t){"now"===t&&(t=this.b$.ptt?1/0:0),t=this.Hut(t),this.mut=t,this.wut&&this.wut.yst(t)}},{key:"F4",get:function(){return this.Mut},set:function(t){t=this.Hut(t),this.Mut=t}},{key:"xk",get:function(){return 1/0},set:function(t){}},{key:"Iv",get:function(){return this.wut?this.wut.Iv:this.kut},set:function(t){t>0&&(this.kut=t,this.wut&&(this.wut.Iv=t))}},{key:"Sl",get:function(){var t,n,i,r=this.wut?this.wut.Sl:null,e=this.b$.uy.Sl;if(r&&r.length&&e.length)t=r.start(0),n=(i=this.xst||r.end(r.length-1))+this.b$.uy.xtt.ap(),isFinite(this.Ost)&&(i+=(Dy()-this.Ost)/1e3);else{if(r&&r.length)return r;if(!e.length)return e;t=r.start(0),n=e.end(e.length-1),i=this.b$.uy.Ott.ap()}return i=g.min(n,i),i=g.max(this.F4,i),new RO([{um:t,om:i}])}},{key:"gJ",get:function(){return NaN}},{key:"sst",get:function(){return NaN}},{key:"aK",get:function(){return!1}}]),n}(qD),gL=function(t){function i(n,i,r,e,u){var s;return(s=t.call(this,n,i,r)||this).zst=new ki,s.Gst=void 0,s.jst=function(){return s.Qst()},s.Pu=gf.WEBVTT,s.Mh=Sv.NONE,s.Hh=no(e),s.ps(xo.Qc,s.jst),s.$A=u,s}qt(i,t);var r=i.prototype;return r.mo=function(){this.Hh&&!this.Gst&&(this.Gst=this.sC(this.zst.ls),this.Gst.catch(Ei))},r.sC=function(){var t=vn.coroutine(fn.mark(function t(n){var i,r,e,u;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.Hh,t.prev=1,this.Mh=Sv.LOADING,r=new Ly({gd:i,md:Dc.GET,kd:Sc.An,ls:n}),t.next=6,this.$A.GA(r);case 6:return e=t.sent,t.next=9,e.$n();case 9:u=t.sent,this.N0(e,u),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(1),Ti(t.t0),this.Yst(Xl(t.t0,this.Hh));case 17:case"end":return t.stop()}},t,this,[[1,13]])}));return function(n){return t.apply(this,arguments)}}(),r.IK=function(){this.Mh!==Sv.LOADED&&(this.Mh=Sv.NONE,this.zst.fs(),this.zst=new ki,this.Gst=void 0)},r.Yst=function(t){this.Mh=Sv.ERROR,this.ys(new za(t))},r.vh=function(){this.IK(),this.zst.us(),t.prototype.vh.call(this)},r.Qst=function(){switch(this.Lh){case aa.xh:case aa.Oh:this.mo();break;case aa.Ch:this.IK()}},r.N0=function(t,i){try{for(var r=Od(i).Uh,e=0;e<r.length;e++){var u=r[e];this.eb(u)}this.Mh=Sv.LOADED}catch(i){this.Yst(new Ol(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Could not parse the "+Wl(this.Pu)+" subtitle file.",this.Hh,t.YA,i))}},i}(bR);function wL(t){return nv(t.kind)}var yL=function(){function t(t,n,i,r){this.Zst=t,this.Xd=i,this.Jst=n,this.$A=r,this.fh()}var n=t.prototype;return n.$st=function(t){if(this.Kst(),t)if(this.Jst)for(var n=0;n<t.length;n++){var i=t[n];this.HS(i)}else for(var r=0;r<t.length;r++){var e=t[r];this.tot(e)}},n.HS=function(t){var n=wL(t);if(Fl(n,t.label||""));else{var i=s.createElement("track");i.kind=n,i.label=t.label,i.src=t.src,i.srclang=t.srclang,i.default=!!t.default,this.Zst.appendChild(i)}},n.tot=function(t){var n=wL(t),i=new gL(n,t.label,t.srclang,t.src,this.$A);t.default&&(i.Lh=aa.xh),this.Xd.oh(i)},n.Kst=function(){for(var t=this.Xd.dh,n=t.length-1;n>=0;n--){var i=t[n];"static"===i.iot&&this.Xd.ah(i)}},n.rot=function(){this.Kst()},n.fh=function(){this.Kst()},t}(),mL=function(){function t(t){this.mK=t}var n=t.prototype;return n.ps=function(t,n){this.mK.addEventListener(t,n)},n.Ts=function(t,n){this.mK.removeEventListener(t,n)},T(t,[{key:"Av",get:function(){return this.mK.currentMonotonicTime}},{key:"Rv",get:function(){return this.mK.paused}},{key:"Nv",get:function(){return this.mK.seeking}}]),t}(),kL=function(t){function n(n,i){var r;(r=t.call(this)||this).eot=!0,r.uot=function(t){return r.sot(t)},r.oot=function(){return r.aot()},r.cot=function(){return r.hot()},r.fot=function(){return r.vot()},r.Ast=function(t){return r.bst(t.Mc)},r.dot=function(t){return r.lot(t.Mc)},r._ot=function(){return r.got()},r.wot=n,r.Xd=i,r.wot.addEventListener("seeking",r._ot),r.wot.addEventListener("seeked",r._ot),r.yot=new RI(new mL(n));for(var e=0,u=r.Xd.dh;e<u.length;e++){var s=u[e];r.bst(s)}return r.Xd.ps(Ro.Dc,r.Ast),r.Xd.ps(Ro.Oc,r.dot),r}qt(n,t);var i=n.prototype;return i.sot=function(t){this.Xd.oh(t.Mc)},i.aot=function(){for(var t=this.Xd.dh,n=t.length-1;n>=0;n--){var i=t[n];"static"!==i.iot&&this.Xd.ah(i)}},i.hot=function(){var t=this.lst,n=[],i=t&&t.Xd;if(i)for(var r=0;r<i.length;r++){var e=i[r]||i.item(r);if("metadata"!==e.kind){var u=e.THEOplayerTextTrack;if(!u){var s=this.WV(e);u=new AI(e,s,this.CH),e.THEOplayerTextTrack=u,this.Xd.oh(u)}n.push(u)}}for(var o=0,a=this.Xd.dh;o<a.length;o++){var c=a[o];bI(c)&&-1===n.indexOf(c)&&this.Xd.ah(c)}},i.WV=function(t){for(var n=this.lst._l.getElementsByTagName("track"),i=0;i<n.length;i++){var r=n[i]||n.item(i);if(r.track===t)return r}},i.vot=function(){for(var t=0,n=this.Xd.dh;t<n.length;t++){var i=n[t];bI(i)&&i.OH()}},i.got=function(){this.mot()},i.bst=function(t){t instanceof bR&&this.yot.oh(t)},i.lot=function(t){t instanceof bR&&this.yot.ah(t)},i.mot=function(){var t=this.Xd.dh;if(t.length)for(var n=this.wot.seekable,i=n.length?n.start(0):0,r=0;r<t.length;r++){var e=t[r];if(e instanceof bR){for(var u=[],s=0,o=e.Uh.dh;s<o.length;s++){var a=o[s];if(!(a.xk<i))break;u.push(a)}for(var c=0;c<u.length;c++){var h=u[c];e.jF(h)}}}},i.vh=function(){this.wot.removeEventListener("seeking",this._ot),this.wot.removeEventListener("seeked",this._ot);for(var t=0,n=this.Xd.dh;t<n.length;t++){var i=n[t];this.lot(i)}this.Xd.Ts(Ro.Dc,this.Ast),this.Xd.Ts(Ro.Oc,this.dot),this.yot.vh(),this.J$=null,this.lst=null},T(n,[{key:"J$",get:function(){return this.kot},set:function(t){var n=this.kot;if(n){for(var i=0,r=n.Xd;i<r.length;i++){var e=r[i];this.Xd.ah(e)}n.removeEventListener("XJ",this.uot),n.removeEventListener("vh",this.oot)}if(this.kot=t,t){for(var u=0,s=t.Xd;u<s.length;u++){var o=s[u];this.Xd.oh(o)}t.addEventListener("XJ",this.uot),t.addEventListener("vh",this.oot)}}},{key:"lst",get:function(){return this.wut},set:function(t){var n=this.wut;n&&n.Xd&&n.Xd.removeEventListener&&(n.Xd.removeEventListener("addtrack",this.cot),n.Xd.removeEventListener("removetrack",this.cot),n.Xd.removeEventListener("change",this.fot)),this.wut=t,t&&t.Xd&&t.Xd.addEventListener&&(t.Xd.addEventListener("addtrack",this.cot),t.Xd.addEventListener("removetrack",this.cot),t.Xd.addEventListener("change",this.fot)),this.hot(),this.vot()}},{key:"CH",get:function(){return this.eot},set:function(t){if(this.eot!==t){this.eot=t;for(var n=0,i=this.Xd.dh;n<i.length;n++){var r=i[n];bI(r)&&(r.CH=t)}}}}]),n}(qD),pL=function(){function t(t,n){this.pot=[],this.Aot=new Pc,this.bot=_n(),this.Tot=new ki,this.Td=!(!t||t.crossOrigin!==ja.wv&&!t.Eot),this.cT=n}var n=t.prototype;return n.Sot=function(){var t=vn.coroutine(fn.mark(function t(n,i){var e,u,s,o,a,c,h,f,v;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=r.Ua(n),u=0,s=this.pot;u<s.length;u++)null===(o=s[u]).Pn||void 0===o.Pn?e.searchParams.delete(o.Rot):e.searchParams.set(o.Rot,o.Pn);return t.prev=2,a=new Ly({gd:e.href,kd:Sc.zv,yd:this.Aot,Td:this.Td,md:Dc.GET,ls:i,Pu:Cc.nd,Ad:Oc.vd}),t.next=6,this.cT.GA(a);case 6:return c=t.sent,t.next=9,c.$n();case 9:return h=t.sent,f=new k(h),v=new k(16),16!==f.length&&rt("AES-128 decryption key length must be 16 bytes, but was "+f.length+" bytes. URL: ",e.href),f.length>16&&(f=ie(f,0,16)),v.set(f,16-f.length),t.abrupt("return",v);case 19:throw t.prev=19,t.t0=t.catch(2),Ti(t.t0),new d('Playback has been stalled due to failure to retrieve encryption key from "'+e.href);case 23:case"end":return t.stop()}},t,this,[[2,19]])}));return function(n,i){return t.apply(this,arguments)}}(),n.getKey=function(t){var n=t.absoluteURI;if(!n)return vn.reject(new jD(GD.PQ,{code:"CAD1603"}));var i=this.bot.get(n);return i||(i=this.Sot(n,this.Tot.ls),this.bot.set(n,i)),i},n.vh=function(){this.Tot.fs(),this.bot.clear()},n.Iot=function(t,n){this.pot.push({Rot:t,Pn:n})},n.Not=function(t,n){this.Aot.append(t,n)},t}(),AL=function(t){this.wot=t},bL=s.createElement("video");var TL=function(t){function n(){return t.apply(this,arguments)||this}return qt(n,t),n.prototype.jrt=function(t){return!!function(t){return bL.canPlayType('video/mp4;codecs="'+t.codecs+'"')}(t)||(t.disabled="AvoidUnsupportedCodecsRule",!1)},n}(AL);zD.gn.PL("AvoidUnsupportedCodecsRule",TL);var EL=function(t){function n(){return t.apply(this,arguments)||this}return qt(n,t),n.prototype.jrt=function(t,n,i,r){return!("i9"===r.h6)||t.bandwidth<2e6},n}(AL);zD.gn.PL("AvoidHighBitrateStreamsRule",EL);var SL=function(t){function n(){return t.apply(this,arguments)||this}qt(n,t);var i=n.prototype;return i.Dot=function(t){if(!t.resolution)return!0;var n=this.wot.element.getBoundingClientRect(),i=u.innerWidth||s.documentElement.clientWidth,e=u.innerHeight||s.documentElement.clientHeight,o=g.max(0,g.min(n.right,i)-g.max(0,n.left)),a=g.max(0,g.min(n.bottom,e)-g.max(0,n.top)),c=r.wc.qa;return t.resolution.width<=o*c&&t.resolution.height<=a*c},i.jrt=function(t){return this.Dot(t)},n}(AL);zD.gn.PL("AvoidVideoResolutionGreaterThanDisplaySizeRule",SL);var RL=function(t){function n(){return t.apply(this,arguments)||this}return qt(n,t),n.prototype.jrt=function(t,n,i){if(i.w5<=0)return!1;var r=i&&.8*i.w5;return!(r&&!m(r)&&t.bandwidth)||r>t.bandwidth*this.wot.playbackRate},n}(AL);zD.gn.PL("DownloadMetricRule",RL);var IL=function(t){function n(){return t.apply(this,arguments)||this}return qt(n,t),n.prototype.jrt=function(t){return!0},n}(AL);zD.gn.PL("LimitVideoQualityToDisplaySizeRule",IL);var NL=function(t){function n(){return t.apply(this,arguments)||this}return qt(n,t),n.prototype.jrt=function(t,n){return!n||(n.fJ===cC.$v||t.fJ===cC.$v||(n.fJ===cC.HY||t.fJ===cC.HY||n.fJ===t.fJ))},n}(AL);function DL(t){return!!t&&("object"==typeof t&&"src"in t&&"type"in t)}function CL(t,n){var i=n;for(var r in t)V(t[r])?(i[r]=i[r]||{},CL(t[r],i[r])):B.call(i,r)||(i[r]=t[r]);return i}function OL(t,n){var i=CL(n,t||{});return i.crossOrigin=function(t){var n=t&&t.crossOrigin;switch(n){case ja.gv:case ja.wv:break;default:n=ja.yv}return t&&t.withCredentials&&(n=ja.wv),t&&t.vr&&t.vr[360]&&n===ja.yv&&(n=ja.gv),n}(i),i}function xL(t){q(t)&&t.then(j,j)}zD.gn.PL("OnlyAllowSameTrackTypeRenditionsRule",NL);var PL,BL=500,LL=["abort","durationchange","ended","loadstart","pause","play","progress","ratechange","seeked","seeking","suspend","timeupdate","volumechange","webkitpresentationmodechanged"],ML=function(t){function n(n,i){var r;return(r=t.call(this)||this).Cot=void 0,r.sS=void 0,r.loading=!1,r.loaded=!1,r.configuration={useNativeVideoPlayback:!0},r.xb=function(){var t=r.wE.SS.error&&r.wE.SS.error.code;t&&r.Yst(new jD(GD.CQ,{code:"VEE"+t}))},r.Oot=function(t){r.dispatchEvent({type:t.type,error:r.wE.SS.error})},r.xot=function(){h(r.Cot),r.Cot=void 0,r.wE.SS.removeEventListener("timeupdate",r.xot),r.wE.Ts(wa.Yh,r.xot)},r.Pot=function(){void 0!==r.Cot&&r.xot(),r.Cot=c(function(){r.wE.SS.currentTime+=.1,r.xot()},BL),r.wE.SS.addEventListener("timeupdate",r.xot),r.wE.ps(wa.Yh,r.xot)},r.Bot=function(){switch(r.wE.SS.readyState){case pa.$h:case pa.Kh:case pa.tf:r.Pot();break;case pa.Jh:case pa.Zh:}},r.Lot=n,r.wE=i,r}qt(n,t);var i=n.prototype;return i.setup=function(){this.HJ(),this.wE.SS.parentNode!==this.Lot&&this.Lot.appendChild(this.wE.SS),this.loaded=!1,this.wE.SS.preload="metadata",this.wE.SS.addEventListener("play",this.Bot),this.wE.SS.addEventListener("loadeddata",this.Bot),this.dispatchEvent("Mot")},i.HJ=function(){for(var t=0;t<LL.length;t++){var n=LL[t];this.wE.SS.addEventListener(n,this.Oot,!0)}this.wE.SS.addEventListener("error",this.xb,!0),this.wE.ps(wa.Zc,this.Oot),this.wE.ps(wa.Yh,this.Oot)},i.Uot=function(){for(var t=0;t<LL.length;t++){var n=LL[t];this.wE.SS.removeEventListener(n,this.Oot,!0)}this.wE.SS.removeEventListener("error",this.xb,!0),this.wE.Ts(wa.Zc,this.Oot),this.wE.Ts(wa.Yh,this.Oot)},i.Yst=function(t){this.sS=t,this.dispatchEvent({type:"error",error:t})},i.l7=function(){return vn.resolve()},i.load=function(){this.wE.SS.load(),this.loaded=!0},i.unload=function(){return this.xot(),this.bs(),this.Uot(),this.wE.SS.removeEventListener("play",this.Bot),this.wE.SS.removeEventListener("loadeddata",this.Bot),Qe(this.wE.SS),this.wE.SS},i.play=function(){var t=this.Iv;xL(this.wE.SS.play()),this.Iv=t},i.pause=function(){this.wE.SS.pause()},i.Gd=function(){this.pause()},i.reset=function(){this.loading=!1,this.loaded=!1;try{this.yst(0)}catch(t){}this.dispatchEvent("reset")},i.ul=function(){return this.wE.SS},i.Fut=function(){return this.wE.SS.currentTime},i.yst=function(t){this.wE.SS.currentTime=t},i.canPlayCodecs=function(t){return this.wE.SS.canPlayType('video/mp4; codecs="'+t+'"')},T(n,[{key:"rst",get:function(){return!0}},{key:"_l",get:function(){return this.wE.SS}},{key:"dl",get:function(){return this.wE.SS.buffered}},{key:"Ov",get:function(){return this.wE.SS.volume},set:function(t){this.wE.SS.volume=t}},{key:"duration",get:function(){return this.wE.SS.duration}},{key:"muted",get:function(){return this.wE.SS.muted},set:function(t){this.wE.SS.muted=t}},{key:"paused",get:function(){return this.wE.SS.paused}},{key:"played",get:function(){return this.wE.SS.played}},{key:"poster",get:function(){return this.wE.SS.poster},set:function(t){t?this.wE.SS.poster=t:this.wE.SS.removeAttribute("poster")}},{key:"controls",get:function(){return this.wE.SS.controls},set:function(t){t?this.wE.SS.controls=t:this.wE.SS.removeAttribute("controls")}},{key:"ended",get:function(){return this.wE.SS.ended}},{key:"seeking",get:function(){return this.wE.SS.seeking}},{key:"error",get:function(){return this.wE.SS.error}},{key:"width",get:function(){return this.wE.SS.offsetWidth}},{key:"height",get:function(){return this.wE.SS.offsetHeight}},{key:"src",get:function(){return this.wE.SS.src},set:function(t){this.wE.SS.src=t}},{key:"Cv",get:function(){return this.wE.SS.videoWidth}},{key:"Dv",get:function(){return this.wE.SS.videoHeight}},{key:"Xd",get:function(){return this.wE.SS.textTracks}},{key:"ptt",get:function(){return this.wE.SS.duration===1/0}},{key:"Sl",get:function(){var t=this.wE.SS.seekable,n=t.length&&t.start(0)||0,i=t.length&&t.end(t.length-1)||0;return i===1/0&&(i=this.Fut()||0),new RO([{um:n,om:i}])}},{key:"Iv",get:function(){return this.wE.SS.playbackRate},set:function(t){t>0&&(this.wE.SS.playbackRate=t)}},{key:"Mh",get:function(){return this.wE.Mh}},{key:"Fot",get:function(){return void 0!==this.wE.SS.webkitSupportsPresentationMode&&this.wE.SS.webkitSupportsPresentationMode("picture-in-picture")}},{key:"Hot",get:function(){return"picture-in-picture"===this.wE.SS.webkitPresentationMode}},{key:"Vot",get:function(){return this.wE.SS.webkitPresentationMode},set:function(t){["inline","picture-in-picture","fullscreen"].indexOf(t)>-1&&this.wE.SS.webkitSetPresentationMode(t)}}]),n}(qD);!function(t){t[t.Xot=0]="Xot",t[t.Wot=1]="Wot",t[t.ej=2]="ej",t[t.qot=3]="qot",t[t.zot=4]="zot"}(PL||(PL={}));var UL=function(){function t(){this.Got=!1,this.jot=null,this.Qot=null,this.Yot=null,this.vb=[],this.Zot=null}var n=t.prototype;return n.Jot=function(){if(!this.Got)return!1;for(var t=this.jot,n=this.Qot,i=0;i<t.sourceBuffers.length;i++)if(t.sourceBuffers[i]===n)return!0;return!1},n.$ot=function(t){switch(t.Pu){case PL.Xot:return this.Kot(t.$n,t.Rtt,t.cO);case PL.Wot:return this.tat(t.nat);case PL.ej:return this.iat(t.rat,t.eat);case PL.qot:return this.lb();case PL.zot:return this.uat(t.cO)}},n.Kot=function(){var t=vn.coroutine(fn.mark(function t(n,i,r){var e;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=this.Qot,m(i)||(e.timestampOffset=i),e.appendBuffer(n),t.next=6,this.sat();case 6:r(),t.next=13;break;case 9:throw t.prev=9,t.t0=t.catch(0),r(t.t0),t.t0;case 13:case"end":return t.stop()}},t,this,[[0,9]])}));return function(n,i,r){return t.apply(this,arguments)}}(),n.tat=function(){var t=vn.coroutine(fn.mark(function t(n){var i,r,e,u,s;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.Qot,r=i.buffered,!(r.length>0)){t.next=11;break}if(e=r.start(0),u=g.min(r.end(0),n),!((s=u-e)>.5||u<=n&&s>0)){t.next=11;break}return i.remove(e,u),t.next=11,this.sat();case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.iat=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r,e,u,s,o;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.jot,r=this.Qot,e=r.buffered,!((u=e.length)>0)){t.next=12;break}if(s=g.max(e.start(0),n),o=g.min(e.end(u-1),i),!(o-s>0)){t.next=12;break}return r.remove(s,o),t.next=12,this.sat();case 12:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.lb=function(){var t=vn.coroutine(fn.mark(function t(){var n,i,r;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.jot,i=this.Qot,n.open&&"open"===n.readyState){t.next=4;break}return t.abrupt("return");case 4:if(t.prev=4,r=i.updating,i.abort(),!r){t.next=10;break}return t.next=10,Va(i,"updateend");case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(4);case 15:case"end":return t.stop()}},t,this,[[4,12]])}));return function(){return t.apply(this,arguments)}}(),n.uat=function(t){return vn.resolve(t())},n.oat=function(){var t=vn.coroutine(fn.mark(function t(n){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.JU(n)){t.next=5;break}return t.next=3,Pi(100);case 3:t.next=0;break;case 5:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.JU=function(t){var n=this.jot;if(!n.open||"open"!==n.readyState||!this.Jot())return!0;for(var i=0;i<n.sourceBuffers.length;i++)if(n.sourceBuffers[i].updating)return!1;return t?n.endOfStream(t):n.endOfStream(),!0},n.sat=function(){var t=this;return new vn(function(n,i){var r,e=t.Qot,u=!1,s=function(){u=!0},o=function(){u=!1,r="error"},a=function(){u=!1,r="aborted"},c=function(){h(),u&&!r?n():i(new d(r))},h=function(){e.removeEventListener("update",s),e.removeEventListener("error",o),e.removeEventListener("abort",a),e.removeEventListener("updateend",c)};e.addEventListener("update",s),e.addEventListener("error",o),e.addEventListener("abort",a),e.addEventListener("updateend",c)})},n.aat=function(){var t=this;this.Yot||(0!==this.vb.length||this.Zot)&&this.Jot()&&(this.Yot=this.hat().then(function(){t.Yot=null}))},n.hat=function(){var t=vn.coroutine(fn.mark(function t(){var n;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0;case 1:if(!(this.vb.length>0)){t.next=9;break}if(this.Jot()){t.next=4;break}return t.abrupt("return");case 4:return n=this.vb.shift(),t.next=7,this.$ot(n);case 7:t.next=1;break;case 9:t.next=16;break;case 11:return t.prev=11,t.t0=t.catch(0),t.next=16,this.oat("decode").catch(j);case 16:if(!this.Zot){t.next=26;break}return t.prev=17,t.next=20,this.oat(this.Zot.xs);case 20:t.next=25;break;case 22:t.prev=22,t.t1=t.catch(17);case 25:this.Zot=null;case 26:case"end":return t.stop()}},t,this,[[0,11],[17,22]])}));return function(){return t.apply(this,arguments)}}(),n.wb=function(t,n){this.Got||(this.Got=!0,this.jot=t,this.Qot=n,this.aat())},n.Bm=function(t,n,i){this.vb.push({Pu:PL.Xot,$n:t,Rtt:n,cO:i}),this.aat()},n.fat=function(t,n){this.vb.push({Pu:PL.ej,rat:t,eat:n}),this.aat()},n.vat=function(t){this.vb.push({Pu:PL.Wot,nat:t}),this.aat()},n.fs=function(){this.vb.push({Pu:PL.qot}),this.aat()},n.dat=function(t){this.vb.push({Pu:PL.zot,cO:t}),this.aat()},n.bit=function(t){this.Zot={xs:t},this.aat()},n.qs=function(){this.vb.length=0,this.Zot=null},t}();var FL=function(t){function n(n){var i;return(i=t.call(this)||this).Qot=null,i.lat=new UL,i.xk=NaN,i._at=null,i.gs=function(t){return i.dispatchEvent(t)},i.gat=function(){return i.J5()},i.jot=n,i.fh(),i}qt(n,t);var i=n.prototype;return i.wat=function(t){if(t)return this.dispatchEvent({type:"error",error:t})},i.l7=function(t,n,i,r){var e=this;if(!this.Qot||!n)return vn.resolve();var u=n.initializer.$n,s=function(t,n){if(!t)return!0;var i=t.length;if(i!==n.length)return!0;for(var r=0;r<i;r+=1)if(t[r]!==n[r])return!0;return!1}(this._at,u);if(r&&(P.un||this.lat.fs()),r)if(P.un);else{var o=t&&t.um,a=t&&t.um+t.bv-.5;this.lat.fat(o,a)}return s&&(this.lat.Bm(u,i,this.wat.bind(this)),this._at=u),new vn(function(t,r){e.lat.Bm(n.m4s.$n,i,function(n){n?r(n):t()})})},i.gM=function(){var t=this;return new vn(function(n){t.lat.dat(function(){var i=t.dl;i&&i.length&&(t.xk=i.end(i.length-1)),n()})})},i.sF=function(t){if(!this.Qot){try{this.Qot=this.jot.addSourceBuffer(t),this.Qot.addEventListener("updatestart",this.gs),this.Qot.addEventListener("updateend",this.gs)}catch(t){return this.dispatchEvent({type:"error",error:t}),!1}this.jot.addEventListener("sourceclose",this.gat),this.lat.wb(this.jot,this.Qot)}return!0},i.Jot=function(){for(var t=0;t<this.jot.sourceBuffers.length;t++)if(this.jot.sourceBuffers[t]===this.Qot)return!0;return!1},i.ko=function(t){var n=this,i=this.dl;if(!(this.Qot&&i&&i.length))return t&&t();this.Qot.remove(0,i.end(i.length-1)),t&&this.Qot.addEventListener("updateend",function i(r){n.Qot.removeEventListener("updateend",i),t()})},i.fh=function(t){this._at=null,this.xk=NaN,this.J5(),this.ko(t)},i.vat=function(t){this.Qot&&this.lat.vat(t)},i.bit=function(t){this.Qot&&this.lat.bit(t)},i.J5=function(){this.lat.qs(),"open"===this.jot.readyState&&this.Qot&&this.Qot.updating&&this.Qot.abort()},T(n,[{key:"dl",get:function(){return this.Qot&&this.Jot()?new RO(BO(this.Qot.buffered)):null}},{key:"qO",get:function(){return this.Qot&&this.Qot.updating}},{key:"Tv",get:function(){var t=this.dl;return!t||!m(this.xk)&&xO(t,this.xk)}}]),n}(qD),HL="mp4a.40.34";var VL=function(t){function n(n){var i;return(i=t.call(this)||this).yat=!1,i.rv=function(){var t=i.yat;i.yat=i.qO,!t&&i.yat?i.dispatchEvent("updatestart"):t&&!i.yat&&i.dispatchEvent("updateend")},i.mediasource=n,i.audioTrackBuffer=new FL(n),i.videoTrackBuffer=new FL(n),i.audioTrackBuffer.addEventListener("updatestart",i.rv),i.videoTrackBuffer.addEventListener("updatestart",i.rv),i.audioTrackBuffer.addEventListener("updateend",i.rv),i.videoTrackBuffer.addEventListener("updateend",i.rv),i.fh(),i}qt(n,t);var i=n.prototype;return i.l7=function(){var t=vn.coroutine(fn.mark(function t(n){var i;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.mediasource.open){t.next=2;break}return t.abrupt("return");case 2:return i=[],n.hZ&&i.push(this.audioTrackBuffer.l7(n.metadata.hZ,n.hZ,n.metadata.hZ&&n.metadata.hZ.e2===HL?n.metadata.hZ.um:NaN,n.metadata.u3)),n.fZ&&i.push(this.videoTrackBuffer.l7(n.metadata.fZ,n.fZ,NaN,n.metadata.u3)),t.next=7,vn.all(i);case 7:this.Tv&&(this.audioTrackBuffer.bit(),this.videoTrackBuffer.bit());case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.bit=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=[],n&&r.push(this.audioTrackBuffer.gM()),i&&r.push(this.videoTrackBuffer.gM()),t.next=5,vn.all(r);case 5:this.Tv&&(this.audioTrackBuffer.bit(),this.videoTrackBuffer.bit());case 6:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.wb=function(t){var n,i={};for(var r in t)if(B.call(t,r)){var e=t[r];if(e.fZ){var u='video/mp4; codecs="'+e.fZ+'"';this.videoTrackBuffer.sF(u),i.fZ=this.videoTrackBuffer}if(e.hZ){var s=(n=e.hZ)!==HL||lw?'audio/mp4; codecs="'+n+'"':"audio/mpeg";this.audioTrackBuffer.sF(s),i.hZ=this.audioTrackBuffer}0}return i},i.fh=function(t){var n=!1,i=!1;this.yat=!1,this.audioTrackBuffer.fh(function(){if(n=!0,i&&t)return t()}),this.videoTrackBuffer.fh(function(){if(i=!0,n&&t)return t()})},i.vat=function(t){this.audioTrackBuffer.vat(t),this.videoTrackBuffer.vat(t)},i.J5=function(t){t&&-1===t.indexOf("audio")||this.audioTrackBuffer.J5(),t&&-1===t.indexOf("video")||this.videoTrackBuffer.J5()},T(n,[{key:"dl",get:function(){var t=this.audioTrackBuffer.dl,n=this.videoTrackBuffer.dl;return t&&n?CO(t,n):t||n||IO}},{key:"$L",get:function(){return this.audioTrackBuffer.dl||IO}},{key:"KL",get:function(){return this.videoTrackBuffer.dl||IO}},{key:"qO",get:function(){return this.audioTrackBuffer.qO||this.videoTrackBuffer.qO}},{key:"Tv",get:function(){return this.audioTrackBuffer.Tv&&this.videoTrackBuffer.Tv}}]),n}(qD),XL=1,WL=.05,qL=.01;function zL(t,n){for(var i=n.length,r=0;r<i;r+=1)if(n.start(r)>t)return r;return-1}function GL(t,n,i,r){var e=PO(n,t),u=t;if(!(!r&&e>=0&&t<n.end(e)-WL)){var s,o;do{if((s=zL(t,n))<0)return;t=(o=n.start(s)+qL)+WL}while(n.end(s)-o<WL);for(var a=o-u,c=CO(new RO([{um:u,om:o}]),i),h=0;h<c.length;h++)a-=c.end(h)-c.start(h);return r&&e>=0&&(a-=n.end(e)-u),a<XL?o:void 0}}var jL=100,QL=1e-4,YL=500,ZL=mw,JL=P.Gt,$L=5,KL=["resize","volumechange"],tM=function(n){function i(t,i){var r;return(r=n.call(this)||this).mat=!0,r.Tv=!1,r.kat=!1,r.pat=!1,r.Aat=null,r.xs=!1,r.jot=null,r.Qot=null,r.bat=null,r.Got=!1,r.Tat=0,r.Eat=xf.ik(),r.kut=1,r.Sat=!1,r.AF=!1,r.Nv=!1,r.Rat=new ki,r.Iat=!1,r.Nat=!1,r.Dat=void 0,r.Cat=null,r.Oat=null,r.xat=pa.Zh,r.Pat=!1,r.configuration={},r.loading=!1,r.loaded=!1,r.Bat=function(){r.Pat=!1,r.Lat(),r.Mat(),r.Uat()},r.Fat=function(){r.Hat(),r.Uat(),r.Vat()},r.vS=function(){r.Xat(),r.Hat(),r.RF()?r.dispatchEvent("playing"):r.Pat=!0},r.Wat=function(){r.Pat=!1,r.Lat(),r.Gd()},r.ZU=function(){r.qat()},r.fS=function(){r.zat(),r.Vat()},r.IU=function(){var t=r.xat,n=r.Mh;t!==n&&(r.xat=n,r.dispatchEvent(new ba(r.Fut(),n))),r.Vat()},r.Mat=function(){r.Tat&&(v(r.Tat),r.Tat=0,JL&&(r.wE.SS.removeEventListener("timeupdate",r.YV),r.removeEventListener(wa.Zc,r.tX)))},r.Gat=function(){r.Tat||(r.Tat=f(r.jat,YL)),JL&&(r.wE.SS.addEventListener("timeupdate",r.YV),r.addEventListener(wa.Zc,r.tX),r.YV()),r.jat()},r.Qat=function(){var t=r.Fut(),n=xO(r.Yat,t);r.wE.Rv||r.Nv&&!n||r.Zat()||r.Gat()},r.jat=function(t){if(!(r.Cat||void 0===t&&r.Nat)){var n,i=r.Fut(),e=r.dl;if(void 0===t){if(void 0===(n=GL(i,e,r.Yat,r.kat)))return}else{if(!xO(e,t))return;n=t}var u=function(){r.wE.SS.currentTime=n,r.Jat(n),r.Mat(),r.Nat=!0};Bt(n,i)?r.Cat=c(function(){r.Cat=null,i=r.Fut(),Bt(n,i)&&(n+=1e3*YL,u())},YL):u()}},r.HX=function(){var t=r.bat;if(r.$at(),r.wE.SS.readyState===pa.Zh)return r.bat=t,void r.wE.SS.addEventListener("loadedmetadata",r.HX);g.abs(r.wE.SS.currentTime-t)<QL?r.fS():(r.wE.SS.currentTime=t,r.Nat=!1,r.ZU()),r.bat=null,r.yP(r.kut),r.wE.xX(),r.Kat(t)&&r.Gd()},r.tct=function(){if(!r.kat){var t=r.wE.SS,n=r.dl,i=t.currentTime;r.nct(n,i)&&(r.kat=!0,r.Hat(),i=t.currentTime,r.nct(n,i)?r.kat=!0:r.kat=!1,r.IU()),r.Oat=i}},r.Xat=function(){r.Lat(),r.Aat=f(r.tct,jL)},r.Lat=function(){r.kat=!1,v(r.Aat)},r.ict=function(){r.kat&&(r.kat=!1,r.IU())},r.YV=function(){var t=r.Qot;if(t)if(t.Tv)r.ZV();else{var n=t.$L,i=t.KL;if(0!==n.length&&0!==i.length){var e=r.Fut();if(e<n.start(0)||e<i.start(0))r.ZV();else xO(n,e)!==xO(i,e)?r.JV():r.ZV()}else r.ZV()}},r.tX=function(){if(!(r.Nv||r.Nat||r.wE.SS.seeking||r.Mh>=pa.Kh)){var t=r.Qot;if(t){var n=r.Fut(),i=xf.$m(t.$L),e=xf.$m(t.KL);if(i.Sm(n)&&e.Sm(n))i.Mm(e).Xm(n-$L,n)&&(r.wE.SS.currentTime=n,r.Nat=!0)}}},r.rct=function(){r.jot.open=!0,r.jot.removeEventListener("sourceopen",r.rct),r.jot.removeEventListener("webkitsourceopen",r.rct)},r.xb=function(t){var n=r.wE.SS.error&&r.wE.SS.error.code;n&&r.Yst(new jD(GD.CQ,{code:"VEE"+n}))},r.gs=function(t){r.dispatchEvent({type:t.type})},r.ect=function(){r.Qot&&r.Qot.Tv&&r.dispatchEvent("durationchange")},r.uct=function(){r.removeEventListener("sct",r.uct),r.Iat=!1,r.act(r.kut)},r.cct=t,r.wE=i,r}qt(i,n);var r=i.prototype;return r.act=function(t){this.AF&&(t=0),this.wE.Iv=t,0!==t||ZL?this.Sat&&(this.Sat=!1,xL(this.wE.qd())):(this.Sat=!this.wE.Rv||this.Sat,this.wE.zd()),this.Uat()},r.yP=function(t){this.kut=t,this.Iat||this.act(t)},r.hct=function(t){var n=PO(this.Yat,t);return-1===n?null:this.Yat.end(n)},r.qat=function(){this.Nat||this.Nv||(this.Nv=!0,this.dispatchEvent("seeking"))},r.zat=function(){this.Nat=!1,this.fct(),this.Nv&&(this.Nv=!1,this.dispatchEvent("seeked")),this.Qat()},r.Hat=function(){this.Nat||this.Qat()},r.fct=function(){this.Dat&&(h(this.Dat),this.Dat=void 0)},r.Jat=function(t){var n=this;this.Dat=c(function(){n.jat(t+2)},750)},r.Vat=function(){this.Pat&&this.RF()&&(this.Pat=!1,this.dispatchEvent("playing"))},r.Uat=function(){var t=this.mat,n=this.paused;this.mat=n,t&&!n?this.dispatchEvent("play"):!t&&n&&this.dispatchEvent("pause")},r.wM=function(t,n){if(!(t+.001>n)){var i=new xf([t,n]);this.Eat=this.Eat.Lm(i).Um(xf.$m(this.dl)),this.Eat.Sm(this.Fut())&&this.Qat()}},r.Kat=function(t){return t>=this.wE.SS.duration-(this.paused?0:.5)},r.vct=function(t){return m(this.wE.SS.duration)||(t=g.min(t,this.wE.SS.duration)),g.max(0,t)},r.$at=function(){this.bat=null,this.wE.SS.removeEventListener("loadedmetadata",this.HX)},r.NF=function(){return this.Mh<pa.Kh},r.RF=function(){return!(this.paused||this.ended||this.error||this.NF())},r.nct=function(t,n){var i=function(t,n){for(var i=n.length,r=0;r<i;r+=1){if(n.start(r)>t)return r;if(t<n.end(r)-WL)return r}return-1}(n,t),r=i<0?0:t.end(i),e=i<0?0:t.start(i);if(this.Oat&&this.Oat===n){if(this.Kat(n))return!1;if(e>n||r-n<1/6)return!0}return!1},r.JV=function(){this.AF||(this.AF=!0,this.act(0),this.IU())},r.ZV=function(){this.AF&&(this.AF=!1,this.yP(this.kut),this.wE.SS.currentTime=this.wE.SS.currentTime,this.IU())},r.dct=function(){var t=this.wE.SS;t.addEventListener("timeupdate",this.ict),this.wE.ps(Ta.kf,this.Bat),this.wE.ps(Ta.pf,this.Fat),this.wE.ps(Ta.vf,this.Wat),t.addEventListener("seeking",this.ZU),t.addEventListener("seeked",this.fS);for(var n=0;n<KL.length;n++){var i=KL[n];t.addEventListener(i,this.gs)}t.addEventListener("error",this.xb),t.addEventListener("durationchange",this.ect),this.wE.ps(Ta.Pf,this.gs),this.wE.ps(wa.Zc,this.IU),this.wE.ps(wa.Yh,this.vS)},r.lct=function(){var t=this.wE.SS;t.removeEventListener("timeupdate",this.ict),this.wE.Ts(Ta.kf,this.Bat),this.wE.Ts(Ta.pf,this.Fat),this.wE.Ts(Ta.vf,this.Wat),t.removeEventListener("seeking",this.ZU),t.removeEventListener("seeked",this.fS);for(var n=0;n<KL.length;n++){var i=KL[n];t.removeEventListener(i,this.gs)}t.removeEventListener("error",this.xb),t.removeEventListener("durationchange",this.ect),this.wE.Ts(Ta.Pf,this.gs),this.wE.Ts(wa.Zc,this.IU),this.wE.Ts(wa.Yh,this.vS)},r._ct=function(){var n=this.wE.SS,i=u.MediaSource||u.WebKitMediaSource||null;null!==i?t.URL&&t.URL.createObjectURL||t.webkitURL&&t.webkitURL.createObjectURL||t.createObjectURL?(this.gct(),this.jot=new i,this.jot.addEventListener("sourceopen",this.rct),this.jot.addEventListener("webkitsourceopen",this.rct),n.src=fO(this.jot),n.load()):this.Yst(new jD(GD.xQ,{code:"MVE2720"})):this.Yst(new jD(GD.xQ,{code:"MVE2650"}))},r.gct=function(){if(this.Got=!1,this.Qot&&(this.Qot.fh(),this.Qot=null),this.jot){this.Rat.fs();var t=this.wE.SS;t.src&&(vO(t.src),Qe(t)),this.jot=null}},r.setup=function(){this._ct(),this.dct(),this.wE.SS.parentNode!==this.cct&&this.cct.appendChild(this.wE.SS)},r.Yst=function(t){this.xs=t,this.dispatchEvent({type:"error",error:t})},r.Zat=function(){return this.Qot&&this.Qot.qO},r.wct=function(t){var n=this.Fut()-g.max(30,3*t.ZZ.hY.targetDuration);this.dispatchEvent("sct"),this.Qot&&!t.e3&&this.Qot.vat(n),this.Qat()},r.l7=function(t){if(!this.jot.open||"closed"===this.jot.readyState)return vn.reject("yct");if(!this.Qot)return vn.reject("mct");var n=this.kct(t);return this.pat||(this.pat=!0,this.dispatchEvent({type:"canplay"},!0)),n},r.kct=function(){var t=vn.coroutine(fn.mark(function t(n){var i,r;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.metadata,(r=[]).push(this.Qot.l7(n)),i.e3&&r.push(this.bit(!!n.hZ,!!n.fZ)),n=null,t.next=7,vn.all(r);case 7:this.wct(i);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.bit=function(t,n){return this.jot.open&&"closed"!==this.jot.readyState?this.Qot?this.Qot.bit(t,n):vn.reject("mct"):vn.reject("yct")},r.play=function(){var t=this.wE.Iv;this.Tv=!1,0!==this.wE.Iv||ZL?(xL(this.wE.qd()),this.wE.xX(),this.wE.Iv=t):this.Sat=!0,this.Uat()},r.pause=function(){0!==this.wE.Iv||ZL?this.wE.zd():this.Sat=!1,this.Uat()},r.Gd=function(){this.Tv||(this.Tv=!0,this.wE.zd(),this.dispatchEvent("ended"))},r.load=function(){this.dispatchEvent("loadstart"),this.loaded=!0},r.unload=function(){return v(this.Aat),this.Aat=null,this.Mat(),this.$at(),this.gct(),this.lct(),this.bs(),this.wE.SS},r.reset=function(){v(this.Aat),this.Aat=null,this.Mat(),this.$at(),this.mat=!0,this.Tv=!1,this.kat=!1,this.pat=!1,this.xs=!1,this.Nv=!1,this.Pat=!1,this.ZV(),this._ct(),this.loading=!1,this.loaded=!1,this.dispatchEvent("reset")},r.ul=function(){return this.wE.SS},r.Fut=function(){return null===this.bat?this.wE.SS.currentTime:this.bat},r.yst=function(t){var n=this.hct(t);t=this.vct(t),this.kat=!1,this.wE.SS.error&&(this.pat=!1,this.xs=!1,this._ct()),this.Tv&&(this.Tv=this.Kat(t)),this.Mat(),null!==n&&(t=n),this.$at(),this.bat=t,this.Nv=!0,this.dispatchEvent("vst"),this.dispatchEvent("seeking"),this.HX()},r.pct=function(t){return this.jot.open?vn.resolve(null):Va(this.jot,"sourceopen",t)},r.Act=function(t,n){n>0&&(this.jot.duration=n),this.Qot=new VL(this.jot);var i=this.Qot.wb(t);return this.dispatchEvent("Mot"),this.Qot.addEventListener("updatestart",this.Mat),this.Qot.addEventListener("updateend",this.Qat),this.Got=!0,this.dispatchEvent("Got"),i},r.est=function(t,n){var i=this;return this.Rat.fs(),this.Rat=new ki,this.Qot?vn.resolve(null):this.pct(this.Rat.ls).then(function(){return i.Act(t,n)})},r.h$=function(t){P.un&&(this.Iat=!0,this.act(0),this.removeEventListener("sct",this.uct),this.addEventListener("sct",this.uct),this.Qot&&this.Qot.J5(t))},r.canPlayCodecs=function(t){return this.wE.SS.canPlayType('video/mp4; codecs="'+t+'"')},T(i,[{key:"Yat",get:function(){return this.Eat.mm()}},{key:"Mh",get:function(){var t=this.wE.Mh;return t>pa.$h&&(this.kat||this.AF)?pa.$h:t}},{key:"_l",get:function(){return this.wE.SS}},{key:"dl",get:function(){return this.Qot?this.Qot.dl:this.wE.SS.buffered}},{key:"$L",get:function(){return this.Qot?this.Qot.$L:IO}},{key:"KL",get:function(){return this.Qot?this.Qot.KL:IO}},{key:"volume",get:function(){return this.wE.SS.volume},set:function(t){this.wE.SS.volume=t}},{key:"duration",get:function(){return this.wE.SS.duration}},{key:"muted",get:function(){return this.wE.SS.muted},set:function(t){this.wE.SS.muted=t}},{key:"paused",get:function(){return this.wE.Rv&&!this.Sat}},{key:"played",get:function(){return this.wE.SS.played}},{key:"poster",get:function(){return this.wE.SS.poster},set:function(t){t?this.wE.SS.poster=t:this.wE.SS.removeAttribute("poster")}},{key:"controls",get:function(){return this.wE.SS.controls},set:function(t){t?this.wE.SS.controls=t:this.wE.SS.removeAttribute("controls")}},{key:"ended",get:function(){return this.Tv}},{key:"seeking",get:function(){return this.Nv}},{key:"error",get:function(){return this.xs||this.wE.SS.error}},{key:"width",get:function(){return this.wE.SS.offsetWidth||this.wE.SS.parentNode.offsetWidth}},{key:"height",get:function(){return this.wE.SS.offsetHeight||this.wE.SS.parentNode.offsetHeight}},{key:"Iv",get:function(){return this.kut},set:function(t){var n=this.kut;t>0&&(this.yP(t),this.kut!==n&&this.dispatchEvent("ratechange"))}},{key:"Cv",get:function(){return this.wE.SS.videoWidth||0}},{key:"Dv",get:function(){return this.wE.SS.videoHeight||0}},{key:"rst",get:function(){return this.Got}}]),i}(qD),nM=["seeked","seeking","playing","pause","play","resize","warning","ended","durationchange","bct","h$",wa.Zc],iM=.04,rM=.25,eM=4,uM=.75,sM=1.5,oM=.25,aM=function(t){function n(){var n;return(n=t.call(this)||this).Tct=null,n.Ect=null,n.wF=!1,n.yF=1,n.gL=1,n.Sct=null,n.Rct=void 0,n.Oot=function(t){n.dispatchEvent(t)},n.Ict=function(t){n.Ect||n.dispatchEvent(t)},n.Nct=function(t){var i=t.error||n.Ect.error;n.audioStream=null,n.Sct=i.message||i.toString(),n.dispatchEvent({type:"warning",warning:n.Sct})},n.Dct=function(){n.Ect&&!n.Ect.loaded||n.Tct&&!n.Tct.loaded||(n.Ect&&(n.Ect.removeEventListener("loaded",n.Dct),n.Ect.play()),n.Tct&&(n.Tct.removeEventListener("loaded",n.Dct),n.Tct.play()))},n.Cct=function(){n.Oct(),n.Ect&&n.Tct&&(n.Ect.addEventListener("timeupdate",n.xct),n.Tct.addEventListener("timeupdate",n.xct))},n.Oct=function(){h(n.Rct),n.Ect&&n.Ect.removeEventListener("timeupdate",n.xct),n.Tct&&(n.Tct.Iv=n.gL,n.Tct.removeEventListener("timeupdate",n.xct))},n.Pct=function(){n.Mh<pa.Kh&&n.Oct()},n.xct=function(){if(h(n.Rct),n.Ect&&n.Tct){var t=n.Ect.Iv,i=n.Ect.Fut()-n.Tct.Fut(),r=g.max(eM,sM*t),e=g.min(rM,uM*t);if(g.abs(i)<iM)n.Tct.Iv!==t&&(n.Tct.Iv=t);else{var u=oM,s=t*(i/u+1);(s<e||s>r)&&(u=i/((s=i>0?r:e)/t-1)),n.Tct.Iv=s,n.Rct=c(n.xct,1e3*u)}}else n.Oct()},n.addEventListener("playing",n.Cct),n.addEventListener("ended",n.Oct),n.addEventListener(wa.Zc,n.Pct),n}qt(n,t);var i=n.prototype;return i.u$=function(t,n){n?(t.addEventListener("timeupdate",this.Oot),t.addEventListener("error",this.Nct)):(t.addEventListener("timeupdate",this.Ict),t.addEventListener("error",this.Oot));for(var i=0;i<nM.length;i++){var r=nM[i];t.addEventListener(r,this.Oot)}},i.Ss=function(t){t.removeEventListener("timeupdate",this.Oot),t.removeEventListener("timeupdate",this.Ict),t.removeEventListener("timeupdate",this.xct),t.removeEventListener("error",this.Oot),t.removeEventListener("error",this.Nct),t.removeEventListener("loaded",this.Dct);for(var n=0;n<nM.length;n++){var i=nM[n];t.removeEventListener(i,this.Oot)}},i.Bct=function(t){this.Ect&&this.Ect.Bct(t),this.Tct&&this.Tct.Bct(t)},i.play=function(){if(this.Ect&&!this.Ect.loaded||this.Tct&&!this.Tct.loaded)return this.Ect&&this.Ect.addEventListener("loaded",this.Dct),void(this.Tct&&this.Tct.addEventListener("loaded",this.Dct));this.Dct()},i.pause=function(){this.Ect&&(this.Ect.removeEventListener("loaded",this.Dct),this.Ect.pause()),this.Tct&&(this.Tct.removeEventListener("loaded",this.Dct),this.Tct.pause()),this.Oct()},i.load=function(t){t?(-1!==t.indexOf("audio")&&this.Ect&&this.Ect.load(),-1!==t.indexOf("video")&&this.Tct&&this.Tct.load()):(this.Ect&&this.Ect.load(),this.Tct&&this.Tct.load())},i.vh=function(t){this.bs(),this.Sct=null,t?(-1!==t.indexOf("audio")&&this.Ect&&(this.Ect.vh(),this.Ect=null),-1!==t.indexOf("video")&&this.Tct&&(this.Tct.vh(),this.Tct=null)):(this.Ect&&(this.Ect.vh(),this.Ect=null),this.Tct&&(this.Tct.vh(),this.Tct=null))},i.h$=function(t){this.Ect&&this.Ect.pause(),this.Tct&&this.Tct.pause(),this.Oct(),t&&-1===t.indexOf("audio")||!this.Ect||this.Ect.h$(),t&&-1===t.indexOf("video")||!this.Tct||this.Tct.h$()},i.l7=function(t){this.Ect&&t.hZ&&this.Ect.l7(t),this.Tct&&t.fZ&&this.Tct.l7(t)},i.Lct=function(t){return this.Tct?this.Tct.Lct(t):""},i.Mct=function(){return this.Tct?this.Tct.Mct():0},i.Uct=function(){return this.Tct?this.Tct.Uct():0},i.ul=function(){return this.Tct&&this.Tct.ul()},i.Fut=function(){return this.Ect?this.Ect.Fut():this.Tct?this.Tct.Fut():NaN},i.yst=function(t,n){this.Ect&&this.Ect.yst(t,n),this.Tct&&this.Tct.yst(t,n)},T(n,[{key:"dl",get:function(){return this.Ect&&this.Tct?CO(this.Ect.dl,this.Tct.dl):this.Ect?this.Ect.dl:this.Tct?this.Tct.dl:IO}},{key:"volume",get:function(){return this.yF},set:function(t){this.yF!==t&&(this.yF=t,this.Ect&&(this.Ect.volume=t),this.dispatchEvent("volumechange"))}},{key:"duration",get:function(){return this.Ect&&this.Ect.duration||this.Tct&&this.Tct.duration||NaN}},{key:"muted",get:function(){return this.wF},set:function(t){this.wF!==t&&(this.wF=t,this.Ect&&(this.Ect.muted=t),this.dispatchEvent("volumechange"))}},{key:"loaded",get:function(){return!(!this.Ect&&!this.Tct)&&(!(this.Ect&&!this.Ect.loaded)&&!(this.Tct&&!this.Tct.loaded))}},{key:"paused",get:function(){return!this.Ect&&!this.Tct||(this.Ect&&this.Ect.paused||this.Tct&&this.Tct.paused||!1)}},{key:"ended",get:function(){return this.Ect&&this.Ect.ended||this.Tct&&this.Tct.ended||!1}},{key:"seeking",get:function(){return this.Ect&&this.Ect.seeking||this.Tct&&this.Tct.seeking||!1}},{key:"error",get:function(){return this.Ect&&this.Ect.error||this.Tct&&this.Tct.error}},{key:"warning",get:function(){return this.Sct||this.Ect&&this.Ect.warning||this.Tct&&this.Tct.warning}},{key:"audioStream",get:function(){return this.Ect},set:function(t){this.Ect&&(this.Ss(this.Ect),this.Ect.vh()),this.Ect=t,this.Ect&&(this.Ect.volume=this.yF,this.Ect.muted=this.wF,this.Ect.Iv=this.gL,this.u$(this.Ect,!0))}},{key:"videoStream",get:function(){return this.Tct},set:function(t){this.Tct&&(this.Ss(this.Tct),this.Tct.vh()),this.Tct=t,this.Tct&&(this.Tct.Iv=this.gL,this.u$(this.Tct,!1))}},{key:"Iv",get:function(){return this.gL},set:function(t){this.gL!==t&&(t<0||(this.gL=t,this.Ect&&(this.Ect.Iv=t),this.Tct&&(this.Tct.Iv=t),this.dispatchEvent("ratechange")))}},{key:"Mh",get:function(){return this.Ect&&this.Tct?g.min(this.Ect.Mh,this.Tct.Mh):this.Ect?this.Ect.Mh:this.Tct?this.Tct.Mh:pa.Zh}},{key:"Cv",get:function(){return this.Tct?this.Tct.Cv:0}},{key:"Dv",get:function(){return this.Tct?this.Tct.Dv:0}}]),n}(qD),cM=function(){function t(t,n,i,r){var e=this;this.Ok=void 0,this.GA=0,this.pd=0,this.running=!1,this.Fct=function(t){return e.po(t)},this.Hct=t,this.Vct=n,this.bv=i,this.cO=r,this.Xct=t.Vs(),this.Wct=(n-this.Xct)/(i||1)}var n=t.prototype;return n.qct=function(){return this.Hct.tc(this.Vct),this.running=!1,this.zct(),this.cO()},n.um=function(){var t=this;this.running=!0,this.bv?this.Gct():WD(function(){t.running&&t.qct()})},n.po=function(t){if(this.zct(),this.running){void 0===this.Ok&&(this.Ok=t);var n=this.Xct,i=this.Wct,r=this.Vct,e=this.Hct,u=n+g.max(0,t-this.Ok)*i;if(n>=r&&u<=r||n<r&&u>=r)return this.qct();if(e.tc(u))return this.qct();this.Gct()}},n.Gct=function(){this.GA=RT(this.Fct),this.pd=TT(this.Fct)},n.zct=function(){IT(this.GA),ST(this.pd)},t}();var hM=function(t){function n(n,i){var r;return(r=t.call(this)||this).jct=null,r.Qct=null,r.Yct=NaN,r.Zct=!1,r.Jct=!1,r.$ct=1,r.Kct=void 0,r.tht=void 0,r.nht=function(t){r.iht(t)||r.dispatchEvent(t)},r.rht=n,r.pa=i,r}qt(n,t);var i=n.prototype;return i.pause=function(){this.rht.pause()},i.play=function(){xL(this.rht.play()),this.eht()},i.uht=function(t){if(!(this.Mh<pa.Kh))return this.J5(),this.Zct=!0,this.nht({type:"canplay"}),t&&t();this.Kct=c(this.tht,100)},i.mo=function(t){this.Jct=!0,this.Zct=!1,this.rht.removeEventListener("canplay",this.tht),this.tht=this.uht.bind(this,t),this.rht.addEventListener("canplay",this.tht),this.rht.load(),this.Kct=c(this.tht,100)},i.J5=function(){this.Jct=!1,this.rht.removeEventListener("canplay",this.tht),void 0!==this.Kct&&(h(this.Kct),this.Kct=void 0)},i.sht=function(t){if(this.pause(),this.J5(),null===t)return this.jct=null,void(this.Zct=!1);this.Zct=!1,this.Qct&&this.Qct.D6(this.rht.src),this.Qct=t[this.pa],this.rht.src=this.Qct.C6,this.jct=t},i.ul=function(){return this.rht},i.oht=function(t){this.Yct=g.max(t||0,0),this.rht.currentTime=this.Yct},i.aht=function(){return this.rht.currentTime},i.cht=function(t){var n=this.jct&&this.jct.metadata,i=n&&n.um,r=n&&n[this.pa].um,e=n&&n[this.pa].bv;return!!this.S0&&(!(t<i)&&t<r+g.min(e,this.rht.duration))},i.eht=function(){this.$ct!==this.rht.playbackRate&&(this.rht.playbackRate=this.$ct,kw&&this.$ct>0&&this.Mh!==pa.Zh&&(this.rht.currentTime=this.rht.currentTime))},i.iht=function(t){return!!(kw&&"seeked"===t.type&&g.abs(this.rht.currentTime-this.Yct)>.04)},i.addEventListener=function(n,i){this.AQ(n)||this.rht.addEventListener(n,this.nht),t.prototype.addEventListener.call(this,n,i)},i.removeEventListener=function(n,i){t.prototype.removeEventListener.call(this,n,i),this.AQ(n)||this.rht.removeEventListener(n,this.nht)},i.bs=function(){for(var n=0,i=this.bQ();n<i.length;n++){var r=i[n];this.rht.removeEventListener(r,this.nht)}t.prototype.bs.call(this)},i.unload=function(){this.Qct&&this.Qct.D6(this.rht.src),this.bs()},T(n,[{key:"volume",get:function(){return this.rht.volume},set:function(t){this.rht.volume=t}},{key:"muted",get:function(){return this.rht.muted},set:function(t){this.rht.muted=t}},{key:"style",get:function(){return this.rht.style}},{key:"um",get:function(){return this.jct?this.jct.metadata[this.pa].um:NaN}},{key:"om",get:function(){return this.jct?this.um+this.jct.metadata[this.pa].bv:NaN}},{key:"hht",get:function(){return this.jct?this.um+this.fht:NaN},set:function(t){this.jct?this.fht=t-this.um:this.fht=0}},{key:"fht",get:function(){return this.aht()},set:function(t){this.oht(t)}},{key:"vht",get:function(){return this.jct},set:function(t){this.sht(t)}},{key:"R6",get:function(){return this.jct&&this.jct.metadata.e3}},{key:"S0",get:function(){return!(!this.Zct||!this.jct)}},{key:"dht",get:function(){return!(!this.Jct||!this.jct)}},{key:"Iv",get:function(){return this.$ct},set:function(t){t>=0&&this.$ct!==t&&(this.$ct=t,this.eht())}},{key:"Rv",get:function(){return this.rht.paused}},{key:"Tv",get:function(){return this.rht.ended}},{key:"xs",get:function(){return this.rht.error}},{key:"Cv",get:function(){return this.rht.videoWidth}},{key:"Dv",get:function(){return this.rht.videoHeight}},{key:"Mh",get:function(){return this.rht.readyState}}]),n}(qD);function fM(t,n){return i=t.vht.metadata.ZZ,r=n.vht.metadata.ZZ,i.bandwidth&&r.bandwidth&&If(i.bandwidth,r.bandwidth)||i.resolution&&r.resolution&&If(i.resolution.width*i.resolution.height,r.resolution.width*r.resolution.height)||Rf(i.XQ,r.XQ)||If(t.om,n.om);var i,r}function vM(t){return{um:t.um,om:t.om}}function dM(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.um<=n&&n<r.om)return i}return-1}function lM(t,n,i){return{um:n?i.metadata.w6:i.metadata[t].um,om:i.metadata[t].um+i.metadata[t].bv}}function _M(t,n,i){return new RO([lM(t,n,i)])}function gM(t,n,i){for(var r=[],e=0;e<i.length;e++){var u=i[e];r.push(lM(t,n,u))}return DO(new RO(r))}function wM(t,n,i){if(!n)return!1;var r=n.metadata[t].um,e=r+n.metadata[t].bv;return r<=i&&i<=e}function yM(t,n){var i=PO(t,n);return i<0?n:t.end(i)}var mM=function(){function t(t){this.s1=[],this._ht=IO,this.ght=IO,this.Pu=t}var n=t.prototype;return n.l7=function(t){var n,i;this.s1=function(t,n){for(var i=[],r=function(t,n,r){var e=i.length&&i[i.length-1];e&&e.vht===t?e.om=r:i.push({vht:t,um:n,om:r})},e=0;e<t.length;e++){var u=t[e];if(u.om<=n.um)r(u.vht,u.um,u.om);else if(u.um>=n.om)n.um<n.om&&(r(n.vht,n.um,n.om),n.um=n.om),r(u.vht,u.um,u.om);else{var s=void 0,o=void 0;fM(n,u)>=0?(s=u,o=n):(s=n,o=u);var a=s.um,c=o.um,h=g.min(o.om,u.om),f=g.min(s.om,u.om);a<c&&r(s.vht,a,c),c<h&&r(o.vht,c,h),h<f&&r(s.vht,h,f),n.um=g.max(n.um,u.om)}}return n.um<n.om&&r(n.vht,n.um,n.om),i}(this.s1,function(t,n){var i=n.metadata[t].um;return{vht:n,um:i,om:i+n.metadata[t].bv}}(this.Pu,t)),this._ht=LO(this._ht,_M(this.Pu,!1,t)),this.ght=LO(this.ght,_M(this.Pu,!0,t)),this.ght=(n=this.ght,i=this._ht,CO(n,OO(i)))},n.wht=function(t){t=this.yht(t);var n=dM(this.s1,t);return n>=0?this.s1[n].vht:null},n.mht=function(t,n,i,r){t=this.yht(t);var e=this.s1,u=dM(e,t);if(u<0)return null;var s=e[u];if(!i||!wM(this.Pu,i,t))return r&&wM(this.Pu,r,t)?null:s.vht;if(i!==s.vht){if(r&&r===s.vht)return null;if(s.om-t>n)return s.vht}for(var o=u+1;o<e.length;o++){var a=e[o];if(r&&r===a.vht)return null;if(a.om-t>n)return a.vht;for(var c=[i],h=o+1;h<e.length;h++)c.push(e[h].vht);var f=gM(this.Pu,!1,c);c.push(a.vht);var v=gM(this.Pu,!1,c);if(yM(f,t)<yM(v,t))return a.vht}return null},n.kht=function(t,n){for(var i=this.s1,r=i.length-1;r>=0;r--){var e=i[r];(e.om<=t||e.um>=n)&&di(i,r)}},n.fh=function(){this.s1.length=0,this._ht=IO,this.ght=IO},n.yht=function(t){var n=GL(t,this.dl,this.ght,!1);return void 0===n?t:n},T(t,[{key:"dl",get:function(){var t=this.s1.map(vM);return DO(new RO(t))}}]),t}(),kM=5,pM=30,AM=function(t){function n(n,i){var r,e;(r=t.call(this)||this).Jo={hZ:{pht:100,Aht:100,bht:100},fZ:{pht:500,Aht:100,bht:200}},r.sS=null,r.Sct=null,r.Tht=null,r.Eht=null,r.Sht=0,r.Rht=null,r.Iht=!1,r.yj=!1,r.Nht=0,r.Dht=0,r.Cht=pa.Zh,r.vat=function(){var t=r.Fut();r.Oht.kht(t-kM,t+pM)},r.xht={Pht:(e=jt(r),{mo:function(){e.Bht.addEventListener("ended",this.Lht),e.Mht.addEventListener("ended",this.Uht)},vh:function(){e.Bht.removeEventListener("ended",this.Lht),e.Mht.removeEventListener("ended",this.Uht)},Fht:function(){},Lht:function(){e.pause(),e.dispatchEvent({type:"ended",origin:e.Bht})},Uht:function(){e.pause(),e.dispatchEvent({type:"ended",origin:e.Mht})}}),sb:{Cn:"sb",mo:function(){},vh:function(){},Fht:function(){}},Hht:function(){var t=jt(r),n=function n(){t.Bht.removeEventListener("play",n),t.Bht.removeEventListener("timeupdate",i),t.Bht.addEventListener("timeupdate",i)},i=function n(){var i,r;t.Bht.Rv||(!t.seeking&&t.Bht.vht?(i=t.Bht,(r=t.Mht).S0&&bM(i,r)>=0&&t.Vht(t.xht.Xht)):t.Bht.removeEventListener("timeupdate",n))};return{Cn:"Hht",mo:function(){t.xht.Pht.mo.call(this),this.Wht(),this.Fht()},vh:function(){t.xht.Pht.vh.call(this),t.Bht.removeEventListener("play",n),t.Bht.removeEventListener("timeupdate",i)},Fht:function(){t.Bht.vht?t.Fht(t.Mht,t.qht):t.Fht(t.Bht,t.qht)},Lht:function(){var n=t.Mht.vht;if(n&&n.metadata.u3)return t.Mht.cht(t.Bht.hht)&&(t.Mht.hht=t.Bht.hht),t.zht(),void t.Bht.play();t.xht.Pht.Lht.call(this)},Uht:function(){0},Wht:function(){t.Bht.removeEventListener("play",n),t.Bht.Rv?t.Bht.addEventListener("play",n):n.call(t.Bht)}}}(),Xht:function(){var t=jt(r),n=function(){r.Vht(r.xht.Ght)};return{Cn:"Xht",mo:function(){t.xht.Pht.mo.call(this),t.Mht.addEventListener("seeked",n);var i=bM(t.Bht,t.Mht),r=t.Jo[t.pa].pht/1e3,e=g.min(i+r,t.Mht.om);try{t.Mht.fht=e}catch(n){t.Vht(t.xht.Hht),t.jht(n.message)}},vh:function(){t.xht.Pht.vh.call(this),t.Mht.removeEventListener("seeked",n)},Fht:function(){},Lht:function(){t.xht.Pht.Lht.call(this)},Uht:function(){}}}(),Ght:function(){var t,n=jt(r),i=function(){u()},e=function(){u()},u=function(){IT(t),r.Mht.hht-r.Bht.hht-1/60>0?t=RT(i):r.Vht(r.xht.Qht)};return{Cn:"Ght",mo:function(){n.xht.Pht.mo.call(this),n.Bht.addEventListener("timeupdate",e),u()},vh:function(){n.xht.Pht.vh.call(this),IT(t),n.Bht.removeEventListener("timeupdate",e)},Fht:function(){},Lht:function(){n.xht.Pht.Lht.call(this)},Uht:function(){n.xht.Pht.Uht.call(this)}}}(),Qht:function(){var t,n=jt(r),i=function(){var t=r.Yht(r.Mht),n=r.Jo[r.pa].Aht/g.max(1,r.Bht.Iv);return function(t,n,i,r){return new cM(t,n,i,r)}(t,t.Zht,n,function(){r.Vht(r.xht.Jht),r.xht.Jht.$ht()})},e=function(){r.Tht.um(),r.Vht(r.xht.Jht)};return{Cn:"Qht",mo:function(){n.xht.Pht.mo.call(this);var r=n.Jo[n.pa].bht/g.max(1,n.Bht.Iv);n.Tht=i(),t=c(e,r),n.Mht.play()},vh:function(){n.xht.Pht.vh.call(this),h(t),t=0},Fht:function(){},Lht:function(){n.xht.Pht.Lht.call(this)},Uht:function(){n.xht.Pht.Uht.call(this)}}}(),Jht:function(){var t=jt(r);return{Cn:"Jht",mo:function(){t.xht.Pht.mo.call(this)},vh:function(){t.xht.Pht.vh.call(this),t.Tht&&t.Tht.qct()},Fht:function(){},Lht:function(){t.xht.Pht.Lht.call(this)},Uht:function(){t.xht.Pht.Uht.call(this)},$ht:function(){t.Tht=null,t.zht()}}}()},r.Kht={tft:function(){var t=jt(r);return{mo:function(){},vh:function(){},Fht:function(){t.nft.Fht()},yst:function(n,i,r,e){t.Sht=n,t.Rht=e,t.Vht(t.xht.sb);var u=t.Bht===t.ift?i:r,s=t.Mht===t.ift?i:r;u&&t.Bht.cht(n)?t.rft(t.Kht.eft):s&&t.Mht.cht(n)?t.rft(t.Kht.uft):t.rft(t.Kht.sft)}}}(),sft:function(){var t=jt(r),n=function(){r.qht(),r.Mht.S0?(r.Mht.cht(r.Sht)||(r.oft('Could not seek to exact timestamp "'+r.Sht+'", seeking instead to: "'+r.Mht.um+'"'),r.Sht=r.Mht.um),r.rft(r.Kht.uft)):r.rft(r.Kht.tft)};return{mo:function(){t.aft(),t.Bht.vht=null,t.Mht.vht=null,t.Mht.style.display="none",t.qht(),this.Fht()},vh:function(){t.Mht.J5(),t.Mht.style.display=""},Fht:function(){t.Mht.vht||t.Fht(t.Mht,n)},yst:function(n,i,r,e){t.cft(),t.hft.yst(n,i,r,e)}}}(),eft:function(){var t=jt(r),n=function(){r.rft(r.Kht.tft),r.Vht(r.xht.Hht),r.kF(),r.Rht&&(r.Rht.call(t),r.Rht=null)};return{mo:function(){t.Bht.addEventListener("seeked",n);try{t.Bht.hht=t.Sht,t.kF()}catch(n){t.jht(n.message)}},vh:function(){t.Bht.removeEventListener("seeked",n)},Fht:function(){},yst:function(n,i,r,e){t.cft(),t.hft.yst(n,i,r,e)}}}(),uft:function(){var t=jt(r),n=function(){r.rft(r.Kht.tft),r.zht(),r.Rht&&(r.Rht.call(t),r.Rht=null)};return{mo:function(){t.Mht.style.display="none",t.Mht.addEventListener("seeked",n);try{t.Mht.hht=t.Sht,t.kF()}catch(n){t.jht(n.message)}},vh:function(){t.Mht.style.display="",t.Mht.removeEventListener("seeked",n)},Fht:function(){},yst:function(n,i,r,e){t.cft(),t.hft.yst(n,i,r,e)}}}()},r.qht=function(){var t=r.yj;r.yj=r.ift.dht||r.fft.dht,t&&!r.yj&&r.dispatchEvent("updateend"),r.vft(),r.kF(),r.dft()},r.kF=function(){var t=r.Mh;t!==r.Cht&&(r.Cht=t,r.dispatchEvent(wa.Zc))},r.lft=n,r.pa=i,r.Oht=new mM(i),r.yF="fZ"===i?0:1;var u=function(t){switch(t){case"hZ":return"audio";case"fZ":return"video"}}(i);return r._ft=TM(u),r.gft=TM(u),n.appendChild(r._ft),n.appendChild(r.gft),r.ift=new hM(r._ft,r.pa),r.fft=new hM(r.gft,r.pa),r.Bht=r.ift,r.Mht=r.fft,r.nft=r.xht.Hht,r.hft=r.Kht.tft,r.nft.mo(),r.hft.mo(),r.HJ(),r.yh(),r}qt(n,t);var i=n.prototype;return i.wft=function(t){return t===this.ift?this.fft:this.ift},i.oft=function(t){this.Sct=t,this.dispatchEvent({type:"warning",warning:this.Sct})},i.jht=function(t){this.sS=t,this.dispatchEvent({type:"error",error:t})},i.Yht=function(t){var n,i=this,r=this.wft(t);return n="fZ"===this.pa?{Vs:function(){if(i.Eht!==t)return 0;var n=y(t.style.opacity);return m(n)?1:n},tc:function(n){n=xt(n,0,1),r.style.opacity=""+(1-n),1===n&&(i.Eht=t,t.style.zIndex="2",r.style.zIndex="1",r.style.opacity="1")},Zht:1,yft:function(){if(n.Vs()!==n.Zht)return n.tc(n.Zht)}}:{Vs:function(){return t.volume},tc:function(i){var e;try{t.volume=i}catch(t){e=t}try{r.volume=n.Zht-i}catch(t){e=t}return e},Zht:this.yF,yft:function(){if(n.Vs()!==n.Zht)return n.tc(n.Zht)}}},i.Fht=function(t,n){var i=this.Oht.mht(this.Fut(),1,this.Bht.vht,this.Mht.vht);return!!i&&(this.aft(),t.vht=i,t.mo(n),t.R6&&this.dispatchEvent("durationchange"),!0)},i.mft=function(){this.aft(),this.Oht.fh(),this.ift.J5(),this.fft.J5(),this.qht()},i.ul=function(){return this.Bht.ul()},i.Fut=function(){return this.seeking?this.Sht:this.Bht.hht},i.yst=function(t,n){var i=this,r=!n;this.dispatchEvent("seeking"),this.pause(),this.hft.yst(t,r,r,function(){i.dispatchEvent("seeked"),i.dispatchEvent("timeupdate",!0)})},i.zht=function(){var t=this.Bht;this.Vht(this.xht.sb),this.Bht=this.Mht,this.Mht=t,this.Yht(this.Bht).yft(),this.aft(),this.Mht.pause(),this.Mht.vht=null,this.qht(),this.Vht(this.xht.Hht)},i.HJ=function(){for(var t=this,n=["timeupdate","play","playing"],i=function(n,i){if("error"===i.type)return i.error?t.jht(new jD(GD.CQ,{code:"VEE"+i.error})):t.jht(new jD(GD.CQ,{code:"VEE"+n.xs.code}));n===t.Bht&&t.dispatchEvent({type:i.type,origin:n})},r=i.bind(null,this.ift),e=i.bind(null,this.fft),u=0;u<n.length;u++){var s=n[u];this.ift.addEventListener(s,r),this.fft.addEventListener(s,e)}this.ift.addEventListener("error",r),this.fft.addEventListener("error",e);for(var o=0;o<iR.length;o++){var a=iR[o];this.ift.addEventListener(a,this.kF),this.fft.addEventListener(a,this.kF)}},i.yh=function(){this.addEventListener("seeking",this.vat),this.addEventListener("timeupdate",this.vat)},i.Vht=function(t){var n;if(this.nft!==t){do{(n=this.nft).vh()}while(n!==this.nft);this.nft=t,t.mo()}},i.rft=function(t){var n;if(this.hft!==t){do{(n=this.hft).vh()}while(n!==this.hft);this.hft=t,t.mo()}},i.cft=function(){this.Rht=null,this.rft(this.Kht.tft)},i.load=function(){this.pause(),this.cft(),this.Bht.vht=null,this.Mht.vht=null,this.Vht(this.xht.Hht)},i.vh=function(){this.cft(),this.Vht(this.xht.sb),this.mft(),this.ift.unload(),this.fft.unload(),this.lft.removeChild(this._ft),this.lft.removeChild(this.gft),this.sS=null,this.Sct=null},i.h$=function(){var t=this,n=this.Fut();this.mft(),this.hft.yst(n,!1,!1,function(){t.dispatchEvent("h$",!0)})},i.play=function(){this.Yht(this.Bht).yft(),this.Bht.S0&&this.Bht.play()},i.pause=function(){this.ift.pause(),this.fft.pause()},i.Bct=function(t){var n=this,i=function(){n.dispatchEvent("bct",!0)};this.pause(),this.Bht.Tv?this.hft.yst(t,this.Mht===this.ift,this.Mht===this.fft,i):this.Mht.Tv?this.hft.yst(t,!1,!1,i):this.Mht.cht(t)?this.hft.yst(t,this.Mht===this.ift,this.Mht===this.fft,i):i()},i.l7=function(t){this.aft(),this.Oht.l7(t),this.qht(),this.hft.Fht()},i.Lct=function(t){return this._ft.canPlayType('video/mp4; codecs="'+t+'"')},i.Mct=function(){return g.max(this._ft.offsetWidth,this.gft.offsetWidth)},i.Uct=function(){return g.max(this._ft.offsetHeight,this.gft.offsetHeight)},i.vft=function(){!this.Iht&&this.loaded&&(this.Iht=!0,this.dispatchEvent("loaded"))},i.dft=function(){if("fZ"===this.pa){var t=this.Cv,n=this.Dv;t>0&&n>0&&(this.Nht!==t||this.Dht!==n)&&(this.Nht=t,this.Dht=n,this.dispatchEvent("resize"))}},i.aft=function(){var t=this.yj;this.yj=!0,t||this.dispatchEvent("updatestart")},T(n,[{key:"dl",get:function(){var t=[];return m(this.ift.um)||t.push({um:this.ift.um,om:this.ift.om}),m(this.fft.um)||t.push({um:this.fft.um,om:this.fft.om}),LO(DO(new RO(t)),this.Oht.dl)}},{key:"duration",get:function(){return this.Bht.R6?this.Bht.om:this.Mht.R6?this.Mht.om:NaN}},{key:"paused",get:function(){return this.Bht.Rv}},{key:"ended",get:function(){return this.Bht.Tv}},{key:"muted",get:function(){return this.Bht.muted&&this.Mht.muted},set:function(t){this.Bht.muted=t,this.Mht.muted=t}},{key:"volume",get:function(){return this.yF},set:function(t){this.yF=t,this.Tht&&this.Tht.qct(),this.Mht.volume=0,this.Bht.volume=this.yF}},{key:"error",get:function(){return this.sS}},{key:"warning",get:function(){return this.Sct}},{key:"seeking",get:function(){return this.hft!==this.Kht.tft}},{key:"loaded",get:function(){return this.Bht.S0}},{key:"Iv",get:function(){return this.Bht.Iv},set:function(t){t>=0&&(this.Bht.Iv=t,this.Mht.Iv=t)}},{key:"Cv",get:function(){return this.Bht.Cv}},{key:"Dv",get:function(){return this.Bht.Dv}},{key:"qO",get:function(){return this.yj}},{key:"Mh",get:function(){var t;if(this.hft===this.Kht.sft||this.hft===this.Kht.uft)t=pa.Jh;else{var n=this.Bht.Mh;if(n<=pa.$h)t=n;else{var i=xf.$m(this.dl).Am(),r=this.duration,e=this.Fut();m(r)||(e=g.min(e,r));var u=i.Zm(e);if(u){var s=u.om(0);t=s-e>=3*this.Iv||!m(r)&&s>=r?pa.tf:pa.Kh}else t=pa.$h}}return t===pa.Zh&&this.Iht?pa.Jh:t}}]),n}(qD);function bM(t,n){return t.hht-n.um}function TM(t){var n=s.createElement(t);return n.preload="metadata","audio"===t&&(n.style.display="none"),"video"===t&&(n.style.display="",n.style.zIndex="1"),ze(n),n.controls=!1,n}var EM,SM=function(){function t(t){var n=this;this.kft=function(){(m(n.pft)||n.Aft)&&(n.pft=n.uP()),n.bft=n.pft,n.Aft=!1},this.Tft=function(){var t=n.uP();n.Eft(t),n.pft=t},this.Sft=function(){n.cR.Mh<=pa.$h&&n.Tft()},this.Rft=function(){n.Eft(n.pft),n.Aft=!0},this.Ift=function(){n.pft=n.uP()},this.cR=t,this.Tl=xf.ik(),this.bft=NaN,this.pft=NaN,this.Aft=!1,t.addEventListener("playing",this.kft),t.addEventListener("pause",this.Tft),t.addEventListener("seeking",this.Rft),t.addEventListener("timeupdate",this.Ift),t.addEventListener(wa.Zc,this.Sft)}var n=t.prototype;return n.HU=function(){var t=this.Tl,n=this.bft;if(!m(n)){var i=this.uP();n<i&&(t=t.Lm(new xf([n,i])))}return t.mm()},n.uP=function(){return this.cR.Fut()},n.Eft=function(t){var n=this.bft;n<t&&(this.Tl=this.Tl.Lm(new xf([n,t]))),this.bft=NaN},n.vst=function(){var t=this.uP();this.Eft(t),this.Aft=!0},n.fh=function(){this.Tl=xf.ik(),this.bft=NaN,this.pft=NaN,this.Aft=!1},n.us=function(){var t=this.cR;t.removeEventListener("playing",this.kft),t.removeEventListener("pause",this.Tft),t.removeEventListener("seeking",this.Rft),t.removeEventListener("timeupdate",this.Ift),t.removeEventListener(wa.Zc,this.Sft),this.cR=null},t}(),RM=function(t){function n(n,i){var r;return(r=t.call(this)||this).cu=!1,r._F=NaN,r.sS=void 0,r.configuration={},r.loading=!1,r.loaded=!1,r.Cht=pa.Zh,r.Nft=function(){r.Dft.seeking||(r.Dft.removeEventListener("seeked",r.Nft),r.dispatchEvent("seeked"),r.Cft.paused?r.fN=r.Oft:r.xft(),r.kF())},r.Pft=function(){r.Dft.paused||(r.Dft.removeEventListener("playing",r.Pft),r.dispatchEvent("playing"))},r.Bft=function(t){r.fN=r.Lft,r.sS=t,r.dispatchEvent({type:"error",error:r.sS})},r.Mft={paused:!0,play:function(){r.removeEventListener("Got",r.Mft.Uft),r.cu?(r.fN=r.Fft,r.Dft.removeEventListener("playing",r.Pft),r.Dft.addEventListener("playing",r.Pft),r.Dft.play(),r.dispatchEvent("play")):r.addEventListener("Got",r.Mft.Uft)},Uft:function(){r.removeEventListener("Got",r.Mft.Uft),r.fN.play()},stall:function(){},pause:function(){r.Mft.Uft&&r.removeEventListener("Got",r.Mft.Uft),r.Dft.pause(),r.dispatchEvent("pause"),r.fN=r.Oft},load:function(t){},Fut:function(){return r.cu?r.Dft.Fut():0},yst:function(t,n){var i=xO(r.dl,t);n=n||!i,r.Dft.removeEventListener("seeked",r.Nft),r.Dft.addEventListener("seeked",r.Nft),r.Cft.seekTime=t,r.fN=r.Cft,r.dispatchEvent("vst"),r.Dft.yst(t,n),r.dispatchEvent("seeking")},AP:function(){return r.Dft.Mh},h$:function(t){r.Cft.seekTime=r.Fut(),r.fN=r.Hft,r.Dft.removeEventListener("h$",r.Hft.Vft),r.Dft.addEventListener("h$",r.Hft.Vft),r.Dft.h$(t),r.kF()},forwardEvent:function(t){"pause"===t.type&&r.Dft.ended||r.dispatchEvent(t)}},r.Oft=dn(dn({},r.Mft),{pause:function(){r.removeEventListener("Got",r.Mft.Uft)},yst:function(t){r.Cft.paused=!0,r.Mft.yst(t)},h$:function(t){r.Cft.paused=!0,r.Mft.h$(t)}}),r.Xft=dn({},r.Oft),r.Wft=dn(dn({},r.Oft),{load:function(t,n){r.removeEventListener("Got",r.Wft.qft),n||r.dispatchEvent("loadstart"),r.cu?r.Dft.load(t):(r.Wft.zft=t,r.addEventListener("Got",r.Wft.qft))},qft:function(){r.removeEventListener("Got",r.Wft.qft),r.fN.load(r.Wft.zft,!0)},zft:null,Fut:function(){return r.cu?r.Dft.Fut():r.Wft.Gft},yst:function(t){r.removeEventListener("Got",r.Wft.jft),r.cu?(r.fN=r.Oft,r.fN.yst(t)):(r.Wft.Gft=t,r.addEventListener("Got",r.Wft.jft),r.dispatchEvent("seeking"))},jft:function(){r.removeEventListener("Got",r.Wft.jft),r.fN.yst(r.Wft.Gft)},Gft:0,h$:function(t){}}),r.Fft=dn(dn({},r.Mft),{yst:function(t){r.Cft.paused=!1,r.Mft.yst(t)},play:function(){},stall:function(){r.fN=r.Qft,r.Qft.Yft=r.Dft.Fut(),r.Qft.paused=!1,r.Dft.addEventListener("bct",r.Qft.Zft),r.Dft.Bct(r.Qft.Yft),r.kF()},h$:function(t){r.Cft.paused=!1,r.Mft.h$(t)}}),r.Qft=dn(dn({},r.Fft),{paused:!1,Yft:0,yst:function(t){r.Dft.removeEventListener("bct",r.Qft.Zft),r.Qft.paused?r.fN=r.Oft:r.fN=r.Fft,r.fN.yst(t),r.kF()},Fut:function(){return r.Qft.Yft},AP:function(){return g.min(r.Dft.Mh,pa.$h)},forwardEvent:function(){},play:function(){r.Qft.paused=!1,r.dispatchEvent("play")},pause:function(){r.Qft.paused=!0,r.dispatchEvent("pause")},stall:function(){},Zft:function(){r.Dft.seeking||(r.Dft.removeEventListener("bct",r.Qft.Zft),r.Qft.paused?r.fN=r.Oft:r.Mft.play(),r.kF())}}),r.Cft=dn(dn({},r.Mft),{paused:!1,seekTime:0,Fut:function(){return r.Cft.seekTime},play:function(){r.Cft.paused=!1},pause:function(){r.Cft.paused=!0,r.Dft.pause(),r.dispatchEvent("pause")}}),r.Hft=dn(dn({},r.Cft),{yst:function(t){r.Dft.removeEventListener("h$",r.Hft.Vft),r.Cft.paused?r.fN=r.Oft:r.fN=r.Fft,r.fN.yst(t)},AP:function(){return g.min(r.Dft.Mh,pa.$h)},forwardEvent:function(){},stall:function(){},Vft:function(){r.Dft.seeking||(r.Dft.removeEventListener("h$",r.Hft.Vft),r.Cft.paused?r.fN=r.Oft:r.Mft.play(),r.kF())}}),r.Lft=dn(dn({},r.Mft),{play:function(){},pause:function(){},load:function(){},Fut:function(){return NaN},AP:function(){return pa.Zh},yst:function(t){r.Mft.yst(t,!0)},h$:function(t){}}),r.gs=function(t){r.dispatchEvent(t)},r.Jft=function(t){r.fN.forwardEvent(t)},r.$ft=function(t){r.Bft(t.error)},r.Kft=function(t){if(t.origin&&t.origin.R6)return r.Gd();r.fN.stall()},r.ect=function(){var t=r.Dft.duration;t&&r._F!==t&&(r._F=t,r.dispatchEvent("durationchange"))},r.tvt=function(){r.Dft.loaded&&(r.loaded=!0)},r.kF=function(){var t=r.Mh;t!==r.Cht&&(r.Cht=t,r.dispatchEvent(wa.Zc))},r.nvt=n,r.wE=i,r.ivt=new SM(jt(r)),r.Dft=new aM,r.fN=r.Wft,r.lft=s.createElement("div"),r.lft.style.position="absolute",r.lft.style.width="100%",r.lft.style.height="100%",r.rvt(),r}qt(n,t);var i=n.prototype;return i.xft=function(){this.Mft.play()},i.rvt=function(){for(var t=["resize","volumechange","ratechange"],n=["timeupdate","pause","warning"],i=0;i<t.length;i++){var r=t[i];this.Dft.addEventListener(r,this.gs)}for(var e=0;e<n.length;e++){var u=n[e];this.Dft.addEventListener(u,this.Jft)}this.Dft.addEventListener("ended",this.Kft),this.Dft.addEventListener("error",this.$ft),this.Dft.addEventListener("durationchange",this.ect),this.Dft.addEventListener("loaded",this.tvt),this.Dft.addEventListener(wa.Zc,this.kF)},i.setup=function(){this.wE.SS.parentNode===this.nvt?this.nvt.replaceChild(this.lft,this.wE.SS):(this.wE.SS.parentNode&&this.wE.SS.parentNode.removeChild(this.wE.SS),this.nvt.appendChild(this.lft))},i.play=function(){this.fN.play()},i.pause=function(){this.fN.pause()},i.evt=function(t){this.Dft&&this.Dft.vh(t),this.cu=!1},i.Gd=function(){this.pause(),this.fN=this.Xft,this.sS=void 0,this.dispatchEvent("ended"),this.dispatchEvent("pause")},i.load=function(t){this.fN.load(t)},i.unload=function(){return this.Dft.vh(),this.ivt.us(),this.lft.parentNode===this.nvt?this.nvt.replaceChild(this.wE.SS,this.lft):(this.lft.parentNode&&this.lft.parentNode.removeChild(this.lft),this.nvt.appendChild(this.wE.SS)),this.bs(),this.wE.SS},i.reset=function(t){this.cu=!1,this.fN=this.Wft,this.sS=void 0,this._F=NaN,this.Cht=pa.Zh,this.ivt.fh(),this.evt(t),this.loading=!1,this.loaded=!1,this.dispatchEvent("reset")},i.h$=function(t){this.fN.h$(t)},i.l7=function(t){return this.Dft.l7(t),vn.resolve()},i.ul=function(){return this.Dft.ul()},i.Fut=function(){return this.fN.Fut()},i.yst=function(t){this.ivt.vst(),this.fN.yst(t)},i.bit=function(t,n){return vn.resolve()},i.canPlayCodecs=function(t){return this.Dft.Lct('video/mp4; codecs="'+t+'"')},i.est=function(t){var n={};for(var i in t)if(B.call(t,i)){var r=t[i];!this.Dft.videoStream&&r.fZ&&(this.Dft.videoStream=new AM(this.lft,"fZ"),n.fZ=this.Dft.videoStream),!this.Dft.audioStream&&r.hZ&&(this.Dft.audioStream=new AM(this.lft,"hZ"),n.hZ=this.Dft.audioStream,this.dispatchEvent("Mot"))}return this.cu=!0,this.dispatchEvent("Got"),vn.resolve(n)},T(n,[{key:"rst",get:function(){return this.cu}},{key:"_l",get:function(){return this.lft}},{key:"dl",get:function(){return this.Dft.dl}},{key:"volume",get:function(){return this.Dft.volume},set:function(t){this.Dft.volume=t}},{key:"duration",get:function(){return this._F}},{key:"muted",get:function(){return this.Dft.muted},set:function(t){this.Dft.muted=t}},{key:"paused",get:function(){return this.fN.paused&&this.Dft.paused}},{key:"played",get:function(){return this.ivt.HU()}},{key:"ended",get:function(){return this.fN===this.Xft}},{key:"seeking",get:function(){return this.fN===this.Cft}},{key:"error",get:function(){return this.sS||this.Dft.error}},{key:"warning",get:function(){return this.Dft.warning}},{key:"width",get:function(){return this.Dft.Mct()}},{key:"height",get:function(){return this.Dft.Uct()}},{key:"Iv",get:function(){return this.Dft.Iv},set:function(t){this.Dft.Iv=t}},{key:"Mh",get:function(){return this.fN.AP()}},{key:"Cv",get:function(){return this.Dft.Cv}},{key:"Dv",get:function(){return this.Dft.Dv}}]),n}(qD);!function(t){t.HQ="unsupported",t.uvt="native",t.svt="hls-native",t.ovt="hls-mse",t.avt="hls-switching-video"}(EM||(EM={}));var IM=function(){function t(){this.cvt={},this.fvt(EM.uvt,ML),this.fvt(EM.svt,ML),this.fvt(EM.ovt,tM),this.fvt(EM.avt,RM)}return t.prototype.fvt=function(t,n){this.cvt[t]=n},t.fvt=function(n,i){t.l0.fvt(n,i)},t.vvt=function(n,i,r){var e=t.l0.cvt[n];return e?new e(i,r):void 0},t}();IM.l0=new IM;var NM=function(t){function n(n){var i;return(i=t.call(this)||this).dvt=function(t){i.ys(t)},i.lvt=n,i._vt(),i}qt(n,t);var i=n.prototype;return i._vt=function(){this.lvt.ps("aO",this.dvt)},i.gvt=function(){this.lvt.Ts("aO",this.dvt)},i.vh=function(){this.gvt()},T(n,[{key:"lO",get:function(){return this.lvt.lO}},{key:"_O",get:function(){return this.lvt._O}},{key:"wvt",set:function(t){var n=this.lvt;n.lO===t.lO&&n._O===t._O||(this.gvt(),this.lvt=t,this._vt(),this.ys(new mT(t._O,t.lO)))}}]),n}(Fi);function DM(t){return void 0!==t&&-1!==t.indexOf("m3u8")}function CM(t){return void 0!==t&&(0===t.toLowerCase().indexOf("application/x-mpegurl")||0===t.toLowerCase().indexOf("application/vnd.apple.mpegurl"))}function OM(t,n){var i=t.type;return i?cw?CM(i)?!gw||n.useSwitchOverMSE||P.un&&n.vr&&n.vr[360]?!vw||P.$t||P.in&&P.Bt?dw?EM.avt:EM.HQ:EM.svt:EM.ovt:EM.uvt:EM.HQ:EM.uvt}var xM=function(t,n,i,r,e){var u,s,o,a,f,v,l=this,w=null,k=null,p=null,A=!0,b=null,T=null,E=!1,S=null,R=null,I=null,N=Jw,D=Jw,C=!0,O=null,x={J1:0,Vct:0},B=null,L=null,M=null,U=1,H=!1,V="none",X=!0,W=!0,q=!1,z=null,G=!0,j=!1,Q=pa.Zh,Y=!1,Z=!1,J=NaN,$=null,K=null,tt=P.Xt&&fw,nt=!1,it="",rt=EM.HQ,et=null,ut=function(){var i=vn.coroutine(fn.mark(function i(){return fn.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(l.Ku=!0,l.bs(),B&&Pt(null),v&&(v.vh(),v=null),f&&(f.fh(),f=null),on(),k&&(k.unload(),k=null),!R.SS){i.next=11;break}return i.next=10,n.zS(R);case 10:R=null;case 11:if(!I.SS){i.next=15;break}return i.next=14,n.zS(I);case 14:I=null;case 15:u.vh(),t=null;case 17:case"end":return i.stop()}},i)}));return function(){return i.apply(this,arguments)}}(),st=function(){var t=new jD(GD.HQ,{info:"This browser does not allow you to watch this video. Try to update your browser or use a different browser."});l.dispatchEvent({type:"unsupportedPlatform"}),Kt(t)},ot=function(){var t,r;return(t=i.audioOnly?(r=n.TS(Tf.dd)).SS:(r=n.TS(Tf.ld)).SS).preload="none",ze(t),r},at=function(t){return t===R?I:R},ct=function(){b.style.zIndex="1",T.style.zIndex="0",b.style.display=A?"":"none",T.style.display=A&&E?"":"none"},ht=function(t){wt(t.b$),gt(t.T$),s&&(s.b$=o),kt()},ft=function(t,n){mt(t.b$,n),yt(t.T$),s&&(s.b$=o)},vt=function(){Gt(),It(),l.dispatchEvent("timeupdate"),l.dispatchEvent("ended")},dt=function(){var t=function(t){if("error"===t.type)return Kt(t.error);l.dispatchEvent(t)},n=function(t,n){var i;for(i=0;i<t.length;i+=1)k.addEventListener(t[i],n,!0)};switch(k.addEventListener("Mot",function(){k.volume=U,k.muted=H}),k.addEventListener("loadedmetadata",function(t){rt===EM.uvt&&(j=!0,l.dispatchEvent(t))}),k.addEventListener("durationchange",function(){var t=k.duration;t&&t!==1/0&&J!==t&&(J=t,l.dispatchEvent("durationchange"))}),k.addEventListener("seeking",zt),k.addEventListener("seeked",Gt),k.addEventListener("ended",vt),k.addEventListener(wa.Zc,un),k.setup(),v.lst=k,n(["timeupdate","playing","ratechange","resize"],t),rt){case EM.uvt:case EM.svt:n(["abort","emptied","error","loadstart","progress","suspend"],t);break;case EM.ovt:n(["play","pause"],Et)}k.addEventListener("warning",function(t){l.warning=t.warning,l.dispatchEvent(t)}),l.dispatchEvent("volumechange")},lt=function(t){w&&w.rot(),k&&(w=new yL(t,tt,f,r))},_t=function(t){var n=Ct(t.sources),r=t.textTracks||[],e=OL(t.configuration,i);return n&&n.contentProtection&&n.contentProtection.aes128&&n.contentProtection.aes128.useCredentials&&(e.Eot=!0),{sources:[n],textTracks:r,configuration:e}},gt=function(t){yt(t)},wt=function(t){o&&(o.vh(),o=null,l.initialized=!1),(o=t)&&(l.dispatchEvent("loadstart",!0),o.addEventListener("loadedmetadata",function(){j=!0,un()}),o.addEventListener("durationchange",function(){J=o.bv,l.dispatchEvent("durationchange")}),o.addEventListener("xs",function(t){Kt(t.xs)}),o.addEventListener("nO",pt),o.addEventListener("bl",pt),o.J$.addEventListener("renditionUpdated",function(){Yt()}),v.J$=o.J$)},yt=function(t){var n;a&&(a.vh(),a=null),k&&(a=t)&&(n=a.Mut,a.addEventListener("a$",function(t){var n=l.videoWidth,i=l.videoHeight;$=t.ZZ,l.dispatchEvent(t),pw&&n===l.videoWidth&&i===l.videoHeight||l.dispatchEvent("resize")}),a.addEventListener("xs",function(t){Kt(t.error)}),a.addEventListener("gut",function(t){l.dispatchEvent(t)}),a.lst=k,m(n)||Vt(n))},mt=function(t,n){o&&(o.vh(),o=null,l.initialized=!1),(o=t)&&(l.dispatchEvent("loadstart",!0),o.addEventListener("loadedmetadata",function(){j=!0,un()}),o.addEventListener(Ta.Nf,function(t){l.dispatchEvent(t)}),o.addEventListener(Ta.Cf,function(t){l.dispatchEvent(t)}),o.addEventListener("durationchange",function(){J=o.bv,l.dispatchEvent("durationchange")}),o.addEventListener("xs",function(t){Kt(t.xs)}),o.addEventListener("nO",pt),o.addEventListener("bl",pt),o.addEventListener("oK",function(){l.dispatchEvent("progress")}),o.J$.addEventListener("renditionUpdated",function(){Yt()}),o.J$.addEventListener("renditionUpdated",function(t){var i,r=t.ZZ.hJ&&t.ZZ.hJ.hZ;r&&-1!==r.indexOf("mp4a.40.3")&&("c6"!==n.h6||_w||(i=B,WD(function(){n.useSwitchOverMSE=!0;var t=W;B=null,sn({sources:i,configuration:n}),t||Rt()})))}),v.J$=o.J$)},kt=function(){k.addEventListener("play",function(){l.play({fromNative:!0})}),k.addEventListener("pause",function(){l.pause({fromNative:!0})}),k.addEventListener("volumechange",function(){l.volume=k.volume,l.muted=k.muted}),k.addEventListener("webkitpresentationmodechanged",Lt)},pt=function(){var t=G,n=!o||o.bl;G=n,n&&!t?l.dispatchEvent(Ta.mf):!n&&t&&l.dispatchEvent(Ta.yf)},At=function(){X=!1,W=!1,Y=!0,k.configuration.useNativeVideoPlayback||k.loaded||St(),Yt()},bt=function t(){l.removeEventListener("initialized",t),l.removeEventListener("initialized",Tt),X&&(At(),l.ended?Xt(0):Zt(),k.play(),a&&a.qd())},Tt=function t(){l.removeEventListener("initialized",bt),l.removeEventListener("initialized",t),X&&(At(),Zt())},Et=function(t){var n=W;W="pause"===t.type,n&&!W?l.play({fromNative:!0}):!n&&W&&l.pause({fromNative:!0})},St=function(){Y=!0,k.configuration.useNativeVideoPlayback?(k.load(),x.Vct="now"):k.loading||(k.load(),k.loading=!0),Yt()},Rt=function(t){if(t=t||{},W=!1,C&&(C=!1,n.SR()),x.yvt=!1,!l.initialized||!k){if(t.onlyWhenInitialized){var i=new jD(GD.MQ,{code:"MGB6720"});throw Kt(i),i}return l.removeEventListener("initialized",bt),l.removeEventListener("initialized",Tt),l.addEventListener("initialized",t.fromNative?Tt:bt),l.dispatchEvent("play",!0),void l.dispatchEvent("waiting",!0)}if(X){if(q&&l.ended)return It(),void l.dispatchEvent("timeupdate",!0);l.dispatchEvent("play",!0),t.fromNative?Tt():bt()}},It=function(t){W=!0,(t=t||{}).fromNative||l.removeEventListener("initialized",bt),l.removeEventListener("initialized",Tt),!X&&k&&(X=!0,t.fromNative||(k.pause(),a&&a.zd()),l.dispatchEvent("pause",!0))},Nt=function(t){return{type:DM(t)?"application/vnd.apple.mpegurl":"",src:t}},Dt=function(t){return"string"==typeof t},Ct=function(t){if(DL(t))return t.type?t:Nt(t.src);if(Dt(t))return Nt(t);if(F(t)&&Dt(t[0])){for(var n=0;n<t.length;n++){var i=t[n];if(DM(i))return Nt(i)}return Nt(t[0])}if(F(t)&&DL(t[0])){for(var r=0;r<t.length;r++){var e=t[r];if(CM(e.type)||!e.type&&DM(e.src))return e.type?e:Nt(e.src)}return t[0]}return{type:null,src:null}},Ot=function(t){var n=(t=_t(t)).sources[0],i=t.configuration,u=OM(n,i);!function(t,n){switch(t){case EM.uvt:case EM.svt:n.h6=!1,n.mvt=!1;break;case EM.ovt:n.h6="c6",n.mvt=!0;break;case EM.avt:n.h6="i9",n.mvt=P.Ot}}(u,i);var o=function(t,n,i){var u,o,a,c=i.configuration;switch(t){case EM.uvt:a=u=o=null;break;case EM.svt:a=null;var h=new cL(c,r);u=h,o=new _L(h);break;case EM.ovt:case EM.avt:a=new pL(c,r);var f=new aL(c,a,r,e);u=f,o=new dL(f);break;default:return null}return new XC(n,t,i,a,u,o,s)}(u,n,t);return o?(o.T$&&(o.T$.Iv=l.playbackRate),o):null},Pt=function(t){sn({sources:t})},Bt=function(n,i){var r=S,e=r.SS,s=!1,o=!l.paused,a=rt,c=l.playbackRate,h=l.kvt;K&&(K.vh(),K=null),on();var f=n&&n.kK||null;n&&n.yK||null,L=n&&n.aR||null,M=f&&f.configuration||null,rt=n&&n.mK||EM.HQ,tn();var v={type:"pvt",Avt:n,hw:M,bvt:i};if(l.dispatchEvent(v),rt!==EM.HQ){if(k){l.pause();var d=a===rt||a===EM.svt&&rt===EM.uvt||a===EM.uvt&&rt===EM.svt,_=i&&!P.Xt;if(d&&!_)k.reset(),w.fh();else{if(_?(p=k,e=(r=at(r)).SS):e=k.unload(),!(s=IM.vvt(rt,t,r)))return void st();k=s,dt(),lt(e)}Gt(),j=!1,Q=pa.Zh,Y=!1,Z=!1,J=NaN,O=null,l.dispatchEvent("durationchange"),x.Vct=0,x.J1=0,x.yvt=!0,l.dispatchEvent("timeupdate")}else{if(!(s=IM.vvt(rt,t,r)))return void st();k=s,r.SS.removeAttribute("poster"),dt(),lt(r.SS)}switch(S=r,u.wvt=S.JB,b=k._l,p?(T=p._l,E=!0):(T=at(r).SS,E=!1),ct(),M.crossOrigin){case ja.gv:case ja.wv:S.SS.setAttribute("crossorigin",M.crossOrigin);break;default:S.SS.removeAttribute("crossorigin")}if(h!==l.kvt&&l.dispatchEvent(Ta.df),Lt(),Mt(),!L)return B=null,void(l.initialized=!1);!function(t,n){switch(rt){case EM.uvt:case EM.svt:ht(t);break;case EM.ovt:case EM.avt:ft(t,n);break;default:return}t.cR=l,t.EK(V)}(K=n,M),k.src=L,w.$st(f&&f.textTracks),l.playbackRate=c,B=L;var g={type:"Tvt",Avt:n,hw:M,bvt:i};l.dispatchEvent(g),l.initialized=!0,l.dispatchEvent("initialized"),pt(),Xt("now"),k.configuration.useNativeVideoPlayback&&P.Xt&&o&&$t()&&(l.play(),l.pause()),f&&l.dispatchEvent({type:"sourcechange",sourceDescription:f})}else st()},Lt=function(){var t=it;(it=l.Vot)!==t&&l.dispatchEvent("Evt")},Mt=function(){v&&(v.CH=tt&&nt)},Ut=function(){return k&&k.rst?k.volume:U},Ft=function(){return Z?!k||x.yvt?x.Vct:a?a.Mut:k.Fut():Wt(O||0)},Ht=function(){return Z?qt(Ft()):"now"===O?0:O||0},Vt=function(t){if(Z){if(O=null,"now"!==t||l.live||(t=0),"now"!==t&&(t=y(t)||0,t=rn(t)),k){if(g.abs(x.Vct-t)<.001&&Dy()-x.J1<50)return;zt(),a?a.Mut=t:k.yst(t),k.seeking||Gt(),x={Vct:t,J1:Dy()}}}else Xt(qt(t))},Xt=function(t){if(!Z){var n=Ht();return O=t,Zt(),void(n!==Ht()&&zt())}return Vt(Wt(t))},Wt=function(t){if("number"==typeof t&&l.live){var n=nn();if(n.length)return t+n.end(0)}return t},qt=function(t){if("now"===t)return 0;if("number"==typeof t&&l.live){var n=nn();if(n.length)return t-n.end(0)}return t},zt=function(){q=!0,Qt(),et=c(jt,100)},Gt=function(){q&&(q=!1,et&&jt(),l.dispatchEvent("seeked"))},jt=function(){Qt(),l.dispatchEvent("seeking")},Qt=function(){et&&(h(et),et=null)},Yt=function(){Z||(Z=!m(J)&&nn().length>0&&(Y||!l.live))&&l.dispatchEvent("cht")},Zt=function t(){l.removeEventListener("cht",t),null!==O&&(Z?Xt(O):l.addEventListener("cht",t))},Jt=function(){return k&&k.rst?k.muted:H},$t=function(){return W},Kt=function(t){if(t&&t.code===GD.UQ)return n=!W,Pt(K.aR),void(n&&Rt());var n;$t()||It(),z=t,l.dispatchEvent({type:"error",error:z})},tn=function(){z=null},nn=function(){return EO(a?a.Sl:J>0?new RO([{um:0,om:J}]):IO)},rn=function(t){var n=nn();return n.length?xt(t,n.start(0),n.end(n.length-1)):0},en=function(){var t=k?k.Mh:pa.Zh;return j&&(t=g.max(pa.Jh,t)),t},un=function(){var t=en();t!==Q&&(Q=t,l.dispatchEvent(wa.Zc))},sn=function(t){var n=Ot(t);Bt(n,!1)},on=function(){if(p){var t=p.unload();p=null,E=!1,T=t||at(S).SS,ct()}};l.initialized=!1,l.warning=null,l.play=Rt,l.pause=It,l.load=function(){if(!l.initialized||!k){var t=new jD(GD.MQ,{code:"MGB7330"});throw Kt(t),t}St(),Xt("now")},l.Svt=Ot,l.Rvt=Bt,l.us=ut,l.Qd=sn,l.nl=function(){A=!0,ct()},l.il=function(){A=!1,ct()},l.ul=function(){return k&&k.ul()},l.Cd=function(){var t=k?AE(k.lst):{wl:0,yl:0,ml:0};return dn(dn(dn({},{wl:0,yl:0,ml:0,kl:0,pl:0,Al:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}),t),{kl:8*bc.qv()})},_.defineProperty(l,"buffered",{get:function(){return EO(k?k.dl:IO)}}),_.defineProperty(l,"played",{get:function(){return k?EO(k.played):IO}}),_.defineProperty(l,"seekable",{get:nn}),_.defineProperty(l,"live",{get:function(){return!(!o||!hC.Nd(o.J$.vJ))}}),_.defineProperty(l,"volume",{get:Ut,set:function(t){(t=y(t))!==Ut()&&(k&&(k.volume=t),U=t,l.dispatchEvent("volumechange"))}}),_.defineProperty(l,"currentTime",{get:Ht,set:Xt}),_.defineProperty(l,"dimensions",{get:function(){return u}}),_.defineProperty(l,"currentMonotonicTime",{get:Ft,set:Vt}),_.defineProperty(l,"currentProgramDateTime",{get:function(){return a?a.ll:null},set:function(t){var n,i;(i=t)&&"function"==typeof i.getTime&&!m(i.getTime())&&a&&(n=a.Itt(t),m(n)||null===n||Vt(n))}}),_.defineProperty(l,"duration",{get:function(){return J}}),_.defineProperty(l,"muted",{get:Jt,set:function(t){t!==Jt()&&(H=t,k&&(k.muted=t),H=t,l.dispatchEvent("volumechange"))}}),_.defineProperty(l,"paused",{get:$t,set:function(t){t?It():Rt()}}),_.defineProperty(l,"preload",{get:function(){return V},set:function(t){V=Gw((t||"none").toLowerCase())}}),_.defineProperty(l,"ended",{get:function(){return k&&k.ended||!1}}),_.defineProperty(l,"seeking",{get:function(){return q}}),_.defineProperty(l,"error",{get:function(){return z||k&&k.error}}),_.defineProperty(l,"element",{get:function(){return t}}),_.defineProperty(l,"kvt",{get:function(){return M&&M.vr&&M.vr[360]?Jw:S===R?N:D}}),_.defineProperty(l,"videoWidth",{get:function(){return k?k.Cv:$&&$.resolution?$.resolution.width:0}}),_.defineProperty(l,"videoHeight",{get:function(){return k?k.Dv:$&&$.resolution?$.resolution.height:0}}),_.defineProperty(l,"frameRate",{get:function(){return a&&a.gJ}}),_.defineProperty(l,"frameAccurateSeekEnabled",{get:function(){return!l.live&&k&&k.paused&&l.frameRate}}),_.defineProperty(l,"currentFrame",{get:function(){return a?a.gst(Ft()):NaN},set:function(t){l.frameAccurateSeekEnabled&&(t=y(t),Vt(a.wst(t)))}}),_.defineProperty(l,"playbackRate",{get:function(){return a&&a.Iv||k&&k.Iv||1},set:function(t){(t=y(t))>0&&(a?a.Iv=t:k&&(k.Iv=t))}}),_.defineProperty(l,"videoTracks",{get:function(){return K&&K.Vd.Bc||null}}),_.defineProperty(l,"audioTracks",{get:function(){return K&&K.Hd.Bc||null}}),_.defineProperty(l,"Xd",{get:function(){return f}}),_.defineProperty(l,"online",{get:function(){return G}}),_.defineProperty(l,"Fot",{get:function(){return k&&k.Fot}}),_.defineProperty(l,"Hot",{get:function(){return k&&k.Hot}}),_.defineProperty(l,"Vot",{get:function(){return k&&k.Vot||"inline"},set:function(t){k&&(k.Vot=t)}}),_.defineProperty(l,"Ivt",{get:function(){return nt},set:function(t){nt=!!t,Mt()}}),_.defineProperty(l,"Mh",{get:en}),function(){if(!t)throw new d("Invalid element.");var n;l.addEventListener(Ta.mf,function(){l.live&&Xt("now")}),l.addEventListener("playing",on),f=new Dl,v=new kL(l,f),l.addEventListener("fullscreenchange",Mt),Mt(),i.allowManualQualitySwitch&&(s=new WC),n=function(t){if("string"==typeof t)try{return zD.gn.QC(t,l)}catch(n){throw new d("Unknown rule: "+t)}return t},i.Urt=function(t){var i,r=[];for(i=0;i<t.length;i+=1)r.push(n(t[i]));return r}(i.abrRules),l.addEventListener("durationchange",Yt),R=ot(),I=ot(),S=R,b=R.SS,T=I.SS,u=new NM(S.JB),N=R.XS,D=I.XS,ct(),Pt(null)}()};xM.prototype=new qD,xM.prototype.constructor=xM;var PM,BM=((PM={useSwitchOverMSE:!1,ManifestParser:"Nvt",allowManualQualitySwitch:"panel",initialRendition:"default",playbackRates:!1,isEmbeddable:!1,withCredentials:!1,enableKeyboardShortcuts:!0,skipImplicitHEAACDetection:!0,abrRules:[]}).abrRules.push("DownloadMetricRule"),PM.abrRules.push("OnlyAllowSameTrackTypeRenditionsRule"),ww&&PM.abrRules.push("AvoidHighBitrateStreamsRule"),P.qt&&PM.abrRules.push("AvoidVideoResolutionGreaterThanDisplaySizeRule"),PM);var LM=function(t){function n(n,i,r){var e;return(e=t.call(this,xo.nh)||this).Dvt=n,e.Cvt=i,e.Ovt=r,e}return qt(n,t),n.prototype.Lc=function(){return new MM(this.Dvt&&this.Dvt.Bc)},n}(Oo),MM=function(t){function n(n){var i;return(i=t.call(this,"activequalitychanged")||this).quality=n,i}return qt(n,t),n}(Vi),UM=function(t){function n(n,i){var r;return(r=t.call(this,xo.rh)||this).Nh=n||[],r.Mc=i,r}return qt(n,t),n.prototype.Lc=function(){return new FM(this.Nh.map(function(t){return t.Bc}))},n}(Oo),FM=function(t){function n(n){var i;return(i=t.call(this,"targetqualitychanged")||this).qualities=n,i.quality=i.qualities.length>0?i.qualities[0]:void 0,i}return qt(n,t),n}(Vi),HM=function(t){function n(n){var i;return(i=t.call(this,"update")||this).quality=n,i}return qt(n,t),n}(Vi);function VM(t){return{get bandwidth(){return t.yC},get codecs(){return t.hJ},get id(){return t.Th},get name(){return t.Rh},get averageBandwidth(){return t.yC},get label(){return t.Rh},set label(n){t.Rh=ta(n)},get height(){return t.Cg},get width(){return t.Ja},get frameRate(){return t.V$},get firstFrame(){return t.xvt},get available(){return t.uQ},addEventListener:function(n,i){t.ps(n,i)},removeEventListener:function(n,i){t.Ts(n,i)}}}function XM(t){return{get bandwidth(){return t.yC},get codecs(){return t.hJ},get id(){return t.Th},get name(){return t.Rh},get averageBandwidth(){return t.yC},get label(){return t.Rh},set label(n){if(!X(n))throw new d("Unexpected - The provided label is not a string");t.Rh=n},get audioSamplingRate(){return t.Pvt},get available(){return t.uQ},addEventListener:function(n,i){t.ps(n,i)},removeEventListener:function(n,i){t.Ts(n,i)}}}var WM=function(t){function n(n,i){var r;(r=t.call(this)||this).Pc=void 0,r.Bvt=void 0,r.W$=void 0,r.Lvt=function(){return r.Mvt()},r.Uvt=function(){return r.Fvt()},r.Hvt=function(){return r.ys(new wv(jt(r)))},r.mk=kv(),r.Vvt=n,r.Xvt=i,r._k=new gv;for(var e=r.Vvt.qualities,u=0;u<e.length;u++){var s=e.item(u),o=r.Wvt(s);o.ps("update",r.Hvt),r._k.Bm(o)}return r.Vvt.qualities.addEventListener("activequalitychanged",r.Lvt),r.Vvt.qualities.addEventListener("targetqualitychanged",r.Uvt),r.Mvt(),r.Fvt(),r}qt(n,t);var i=n.prototype;return i.qvt=function(t){t!==this.Bvt&&(this.Bvt=t,t&&this.ys(new LM(t)))},i.zvt=function(t,n){return t===n||!(!t||!n)&&(r=n,(i=t).length===r.length&&_i(i,r));var i,r},i.Gvt=function(t){for(var n=0,i=this._k.dh;n<i.length;n++){var r=i[n];if(r.jvt===t)return r}},i.Qvt=function(t){for(var n=[],i=0,r=this._k.dh;i<r.length;i++){var e=r[i];li(t,e.jvt)&&n.push(e)}return n},i.Mvt=function(){var t=this.bh?this.Vvt.qualities.activeQuality:void 0,n=t&&this.Gvt(t)||void 0;this.qvt(n)},i.Fvt=function(){var t=this.Vvt.qualities.targetQuality;t?U(t)?this.Dh=this.Qvt(t)||void 0:this.Dh=this.Qvt([t])||void 0:this.Dh=void 0},i.bk=function(t){this.bh=t},i.vh=function(){this.Vvt.qualities.removeEventListener("activequalitychanged",this.Lvt),this.Vvt.qualities.removeEventListener("targetqualitychanged",this.Uvt);for(var t=0,n=this._k.dh;t<n.length;t++){var i=n[t];i.Ts("update",this.Hvt),i.vh()}},T(n,[{key:"Ah",get:function(){return this.Bvt}},{key:"bh",get:function(){return this.Vvt.enabled},set:function(t){t?this.Xvt.enable(this.Vvt):this.Xvt.disable(this.Vvt)}},{key:"Bc",get:function(){return this.Pc||(this.Pc=ua(this)),this.Pc}},{key:"Th",get:function(){return this.Vvt.id+""}},{key:"Eh",get:function(){return this.mk}},{key:"Sh",get:function(){return this.Vvt.kind}},{key:"Rh",get:function(){var t;return null!==(t=this.Vvt.name)&&void 0!==t?t:""},set:function(t){t!==this.Rh&&(this.Vvt.name=t,this.ys(new wv(this)))}},{key:"Ih",get:function(){return this.Vvt.language}},{key:"Lh",get:function(){return this.bh?"enabled":"disabled"}},{key:"Nh",get:function(){return this._k}},{key:"Dh",get:function(){return this.W$},set:function(t){var n=this,i=this.W$,e=t?t.filter(function(t){return r.wc.Xa(n.Ah,t)}):void 0;e&&0===e.length||this.zvt(e,i)||(this.W$=e,this.Vvt.qualities.targetQuality=e?e.map(function(t){return t.jvt}):null,this.ys(new UM(e,this)))}}]),n}(Fi),qM=function(t){function n(n){var i,r;return(i=t.call(this)||this).Pc=void 0,i.rv=function(){return i.po()},i.jvt=n,i.jvt.addEventListener("qualityupdated",i.rv),i.Th=n.id,i.yC=null!==(r=n.bandwidth)&&void 0!==r?r:NaN,i.hJ=n.codecs,i.PY=n.uri,i}qt(n,t);var i=n.prototype;return i.po=function(){this.Yvt()&&this.ys(new HM(this.Bc))},i.Yvt=function(){var t,n=this.jvt,i=n.id,r=null!==(t=n.bandwidth)&&void 0!==t?t:NaN,e=n.codecs,u=n.uri,s=this.Th!==i||!Mt(this.yC,r)||this.hJ!==e||this.PY!==u;return this.Th=i,this.yC=r,this.hJ=e,this.PY=u,s},i.vh=function(){this.jvt.removeEventListener("qualityupdated",this.rv)},i.FA=function(){},T(n,[{key:"Rh",get:function(){return this.jvt.name||""},set:function(t){this.Rh!==t&&(this.jvt.name=t,this.ys(new HM(this.Bc)))}},{key:"Bc",get:function(){return this.Pc||(this.Pc=this.Lc()),this.Pc}},{key:"uQ",get:function(){return!0}}]),n}(Fi),zM=function(t){function n(n){var i;return(i=t.call(this,n)||this).Pvt=NaN,i}return qt(n,t),n.prototype.Lc=function(){return XM(this)},n}(qM),GM=function(t){function n(n,i){var r;return void 0===i&&(i=0),(r=t.call(this,n)||this).V$=n.frameRate,r.Ja=n.resolution?n.resolution.width:NaN,r.Cg=n.resolution?n.resolution.height:NaN,r.Zvt=i,r}qt(n,t);var i=n.prototype;return i.Yvt=function(){var n=t.prototype.Yvt.call(this),i=this.jvt,r=i.frameRate,e=i.resolution?i.resolution.width:NaN,u=i.resolution?i.resolution.height:NaN;return n=n||!Mt(this.V$,r)||!Mt(this.Ja,e)||!Mt(this.Cg,u),this.V$=r,this.Ja=e,this.Cg=u,n},i.Lc=function(){return VM(this)},T(n,[{key:"xvt",get:function(){return this.Zvt},set:function(t){this.Zvt!==t&&(this.Zvt=t,this.ys(new HM(this.Bc)))}}]),n}(qM),jM=function(t){function n(){return t.apply(this,arguments)||this}return qt(n,t),n.prototype.Wvt=function(t){return new zM(t)},n}(WM),QM=function(t){function n(){return t.apply(this,arguments)||this}qt(n,t);var i=n.prototype;return i.Wvt=function(t){return new GM(t,this.Jvt)},i.$vt=function(t){this.Jvt=t;for(var n=0,i=this.Nh.dh;n<i.length;n++){var r=i[n];void 0!==r.xvt&&(r.xvt=t)}},n}(WM),YM=function(t){function n(){return t.call(this,Ta.mf)||this}return qt(n,t),n}(Vi),ZM=function(t){function n(){return t.call(this,Ta.yf)||this}return qt(n,t),n}(Vi),JM=function(){function t(t){this.Ld=new Dl,this.CX=new RI(t)}var n=t.prototype;return n.nb=function(t,n,i,r,e){var u=new bR(t,n,i,r,e);return this.Ld.oh(u),this.CX.oh(u),u},n.ub=function(t){this.Ld.ah(t),this.CX.ah(t)},n.fh=function(){this.Ld.fh(),this.CX.fh()},n.vh=function(){this.Ld.vh(),this.CX.vh()},T(t,[{key:"Xd",get:function(){return this.Ld}}]),t}();function $M(t,n){for(var i=0;i<t.lh;i++){var r=t.sh(i);if(r.Vvt===n)return r}}var KM=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this)||this).Kvt=void 0,o.sS=void 0,o.oS=void 0,o.tdt=NaN,o.ndt=0,o.idt=function(){o.ys(new Ma(o.Av))},o.rdt=function(){o.ys(new Fa(o.Av))},o.edt=function(){o.ys(new Da(o.Av))},o.udt=function(){o.ys(new Na(o.Av))},o.sdt=function(){o.ys(new Pa(o.Av,o.Iv))},o.odt=function(){o.ys(new Ia(o.Av,o.Ov))},o.adt=function(){o.ys(new SS(o.Av))},o.cdt=function(){o.ys(new Oa(o.Av))},o.hdt=function(){o.ys(new RS)},o.fdt=function(){o.ys(new YM)},o.vdt=function(){o.ys(new ZM)},o.ddt=function(){o.ldt(),o._dt.fh(),o.gdt(),o.qS()},o.cL=function(){o.gdt(),o.qS(),o.DS()},o.ldt=function(){var t=o.tdt,n=o.bv;o.tdt=n,t===n||m(t)&&m(n)||o.ys(new Ba(n))},o.wdt=function(t){var n=t.error||o.ydt.error;if(n){var i,r=qc.DECODE;n.code===GD.CQ&&Qn(n.info.code,"VEE")&&(r=+n.info.code.substr("VEE".length)),n.info&&(i=n.info.code),o.sS=new Qc(r,n.message,i),o.ys(new za(function(t){return new De(Jc(t.code),t.message,t)}(o.sS)))}},o.hS=function(){o.ys(new xa(o.Av,o.ll))},o.mdt=function(){o.Cv>0&&o.Dv>0&&o.ys(new $l)},o.kdt=function(){o.ys(new pc)},o.pdt=function(t){o.Bd.dh.forEach(function(n){return n.$vt(t.ptsOffset)})},o.Adt=function(t){o.ndt+=t.pl,o.ys(t)},o.bdt=function(t){return o.Tdt(t.track)},o.Edt=function(t){return o.Sdt(t.track)},o.Rdt=function(t){var n=$M(o.Pd,t.track);n&&n.ys(new Vo(n))},o.Idt=function(t){var n=$M(o.Bd,t.track);n&&n.ys(new Vo(n))},o.BG=n,o.mR=i,e=function(t){var n,i={};return i=CL(t,i),(i=CL(BM,i)).abrRules=i.abrRules.slice(0),i.allowManualQualitySwitch=!P.Mt&&i.allowManualQualitySwitch,i.libraryLocation=no(i.libraryLocation||"./",!0),i.initialRendition=i.initialRendition&&i.initialRendition.toLowerCase(),i.localisation=(n=i.localisation||{},function(t){return B.call(n,t)?n[t]:t}),i}(e),o.ydt=new xM(o.BG,o.mR,e,r,u),o.Ndt(),o.Ddt=new tU(o.ydt),o._dt=new Iw(o.Ddt,!0),o._dt.ps(Aa,o.gs),o.Pd=new _v,o.Bd=new _v,o.JA=new JM(jt(o)),o.IX=new LI(jt(o)),o.IX.kh=o.ydt.Xd,o.NX=new MI(o.JA,o.IX),o.Ld=new ER([o.ydt.Xd,o.NX.lg]),o.XG=new KI,o.XG.KX(n),o.WG=new gD(o.XG._l,o.ydt.dimensions,o.Xd,s,o.ydt.kvt),o.DS(),o}qt(n,t);var i=n.prototype;return i.il=function(){this.ydt.il(),this.XG.il()},i.nl=function(){this.ydt.nl(),this.XG.nl()},i.Qd=function(){var t=vn.coroutine(fn.mark(function t(n,i){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.Kvt=n,this.ydt.Qd({sources:{src:n.src,type:Qa._v,contentProtection:n.contentProtection},textTracks:i.textTracks,configuration:dn(dn({},i),{crossOrigin:n.crossOrigin,withCredentials:n.useCredentials,liveOffset:n.liveOffset,hlsDateRange:n.hlsDateRange,hls:n.hls})});case 2:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.qd=function(){this.ydt.play()},i.zd=function(){this.ydt.pause()},i.fh=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.Kvt=void 0,this.sS=void 0,this.oS=void 0,this.ndt=0,this.ydt.Qd({sources:null}),this._dt.fh(),this.JA.fh(),this.gdt();case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Yd=function(){return!1},i.Zd=function(){},i.Jd=function(){},i.ul=function(){return this.ydt.ul()||void 0},i.sl=function(){return this.ydt.kvt},i.vl=function(){},i.vh=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.fh();case 2:return this.bs(),this._dt.vh(),this.Ddt.vh(),this.Cdt(),t.next=8,this.ydt.us();case 8:return this.Pd.vh(),this.Bd.vh(),this.IX.vh(),t.next=13,this.NX.vh();case 13:this.JA.vh(),this.Ld.vh(),this.WG.vh(),this.XG.vh();case 17:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Ndt=function(){this.ydt.addEventListener("pvt",this.ddt),this.ydt.addEventListener("Tvt",this.cL),this.ydt.addEventListener("durationchange",this.ldt),this.ydt.addEventListener("error",this.wdt),this.ydt.addEventListener("timeupdate",this.hS),this.ydt.addEventListener("resize",this.mdt),this.ydt.addEventListener(Ta.df,this.kdt),this.ydt.addEventListener("gut",this.pdt),this.ydt.addEventListener(Ta.Cf,this.Adt),this.ydt.addEventListener("play",this.idt),this.ydt.addEventListener("pause",this.rdt),this.ydt.addEventListener("seeking",this.edt),this.ydt.addEventListener("seeked",this.udt),this.ydt.addEventListener("ratechange",this.sdt),this.ydt.addEventListener("volumechange",this.odt),this.ydt.addEventListener("progress",this.adt),this.ydt.addEventListener("ended",this.cdt),this.ydt.addEventListener("loadstart",this.hdt),this.ydt.addEventListener(Ta.mf,this.fdt),this.ydt.addEventListener(Ta.yf,this.vdt),this.ydt.addEventListener(Ta.Nf,this.gs)},i.Cdt=function(){this.ydt.removeEventListener("pvt",this.ddt),this.ydt.removeEventListener("Tvt",this.cL),this.ydt.removeEventListener("durationchange",this.ldt),this.ydt.removeEventListener("error",this.wdt),this.ydt.removeEventListener("timeupdate",this.hS),this.ydt.removeEventListener("resize",this.mdt),this.ydt.removeEventListener(Ta.df,this.kdt),this.ydt.removeEventListener("play",this.idt),this.ydt.removeEventListener("pause",this.rdt),this.ydt.removeEventListener("seeking",this.edt),this.ydt.removeEventListener("seeked",this.udt),this.ydt.removeEventListener("ratechange",this.sdt),this.ydt.removeEventListener("volumechange",this.odt),this.ydt.removeEventListener("progress",this.adt),this.ydt.removeEventListener("ended",this.cdt),this.ydt.removeEventListener("loadstart",this.hdt),this.ydt.removeEventListener(Ta.mf,this.fdt),this.ydt.removeEventListener(Ta.yf,this.vdt),this.ydt.removeEventListener(Ta.Nf,this.gs),this.ydt.removeEventListener(Ta.Cf,this.Adt)},i.DS=function(){var t=this.ydt.audioTracks,n=this.ydt.videoTracks;if(t){for(var i=0;i<t.length;i++)this.Tdt(t.item(i));t.addEventListener("addtrack",this.bdt),t.addEventListener("enabledtrack",this.Rdt),t.addEventListener("disabledtrack",this.Rdt)}if(n){for(var r=0;r<n.length;r++)this.Sdt(n.item(r));n.addEventListener("addtrack",this.Edt),n.addEventListener("enabledtrack",this.Idt),n.addEventListener("disabledtrack",this.Idt)}},i.qS=function(){var t=this.ydt.audioTracks,n=this.ydt.videoTracks;t&&(t.removeEventListener("addtrack",this.bdt),t.removeEventListener("enabledtrack",this.Rdt),t.removeEventListener("disabledtrack",this.Rdt)),n&&(n.removeEventListener("addtrack",this.Edt),n.removeEventListener("enabledtrack",this.Idt),n.removeEventListener("disabledtrack",this.Idt))},i.gdt=function(){for(var t=0,n=this.Pd.dh;t<n.length;t++){n[t].vh()}for(var i=0,r=this.Bd.dh;i<r.length;i++){r[i].vh()}this.Pd.fh(),this.Bd.fh()},i.Tdt=function(t){$M(this.Pd,t)||this.Pd.oh(new jM(t,this.ydt.audioTracks))},i.Sdt=function(t){$M(this.Bd,t)||this.Bd.oh(new QM(t,this.ydt.videoTracks))},T(n,[{key:"Hd",get:function(){return this.Pd}},{key:"dl",get:function(){return this.ydt.buffered}},{key:"ll",get:function(){var t;return null!==(t=this.ydt.currentProgramDateTime)&&void 0!==t?t:void 0},set:function(t){this.ydt.currentProgramDateTime=null!=t?t:null}},{key:"Av",get:function(){var t=this.ydt.currentMonotonicTime;return"now"===t&&(t=1/0),t===1/0&&m(this.ydt.duration)&&(t=0),t},set:function(t){this.ydt.currentMonotonicTime=t}},{key:"bv",get:function(){var t=this.ydt.duration;return t<0?1/0:t}},{key:"Tv",get:function(){return this.ydt.ended}},{key:"xs",get:function(){return this.sS}},{key:"Ev",get:function(){return this.oS}},{key:"Wd",get:function(){}},{key:"gl",get:function(){return!1}},{key:"Cd",get:function(){return dn(dn({},this.ydt.Cd()),{pl:this.ndt})}},{key:"Sv",get:function(){return this.ydt.muted},set:function(t){this.ydt.muted=t}},{key:"bl",get:function(){return this.ydt.online}},{key:"Rv",get:function(){return this.ydt.paused}},{key:"Iv",get:function(){return this.ydt.playbackRate},set:function(t){this.ydt.playbackRate=t}},{key:"Tl",get:function(){return this.ydt.played}},{key:"El",get:function(){return this.ydt.preload||qw.vR},set:function(t){this.ydt.preload=t}},{key:"Mh",get:function(){return this.ydt.Mh}},{key:"Sl",get:function(){return this.ydt.seekable}},{key:"Nv",get:function(){return this.ydt.seeking}},{key:"QS",get:function(){}},{key:"Xd",get:function(){return this.Ld}},{key:"Vd",get:function(){return this.Bd}},{key:"Dv",get:function(){return this.ydt.videoHeight}},{key:"Cv",get:function(){return this.ydt.videoWidth}},{key:"Ov",get:function(){return this.ydt.volume},set:function(t){this.ydt.volume=t}}]),n}(ma),tU=function(t){function n(n){var i;return(i=t.call(this)||this).Odt=function(){i.ys(new ba(i.Av,i.ydt.Mh))},i.xdt=function(){i.ys(new Rw(i.Av))},i.idt=function(){i.ys(new Ma(i.Av))},i.rdt=function(){i.ys(new Fa(i.Av))},i.ydt=n,i.ydt.addEventListener(wa.Zc,i.Odt),i.ydt.addEventListener(wa.Yh,i.xdt),i.ydt.addEventListener(Ta.pf,i.idt),i.ydt.addEventListener(Ta.kf,i.rdt),i}return qt(n,t),n.prototype.vh=function(){this.bs(),this.ydt.removeEventListener(wa.Zc,this.Odt),this.ydt.removeEventListener(wa.Yh,this.xdt),this.ydt.removeEventListener(Ta.pf,this.idt),this.ydt.removeEventListener(Ta.kf,this.rdt)},T(n,[{key:"Av",get:function(){var t=this.ydt.currentMonotonicTime;return"now"===t&&(t=1/0),t===1/0&&m(this.ydt.duration)&&(t=0),t}},{key:"Tv",get:function(){return this.ydt.ended}},{key:"xs",get:function(){return this.ydt.error||void 0}},{key:"Rv",get:function(){return this.ydt.paused}}]),n}(Fi);function nU(t,n){return iU.apply(this,arguments)}function iU(){return(iU=vn.coroutine(fn.mark(function t(n,i,r,e,u){var s,o;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:void 0===r&&(r=3),void 0===e&&(e=1e3),void 0===u&&(u=1/0),s=0;case 4:return t.prev=5,t.next=8,n(i);case 8:return t.abrupt("return",t.sent);case 11:if(t.prev=11,t.t0=t.catch(5),Ti(t.t0),!(s<r)){t.next=20;break}return o=g.min(e*g.pow(2,s),u),s++,t.next=19,Pi(o,i);case 19:return t.abrupt("continue",4);case 20:throw t.t0;case 21:t.next=4;break;case 23:case"end":return t.stop()}},t,null,[[5,11]])}))).apply(this,arguments)}Vw(new(function(){function t(){this.YS=Dw._v}var n=t.prototype;return n.Pl=function(t,n,i,r,e,u){return new KM(t,n,i,r,e,u)},n.ZS=function(n,i){if((P.Xt||P.dn)&&!i.manifestMetadataTrack)return!1;if(!uv(n.type))return!1;if(n.useNativePlayback)return!1;var r=n.contentProtection;return!(r&&!Wh(r)&&!t.Pdt(r))&&!!function(t){return OM(t,{})!==EM.HQ}(n)},t.Pdt=function(t){return!!t.aes128},n.JS=function(){return!0},t}()));var rU,eU=function(t){function n(){return t.call(this,"Bdt")||this}return qt(n,t),n}(Vi),uU=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Ldt=function(){e.ys(new eU)},e.Kvt=n,e.Mdt=dn(dn({},i),{crossOrigin:e.Kvt.crossOrigin,withCredentials:e.Kvt.useCredentials,liveOffset:e.Kvt.liveOffset,hlsDateRange:e.Kvt.hlsDateRange}),e.$A=r,e.Udt=[],e.cu=!1,e}qt(n,t);var i=n.prototype;return i.Fdt=function(){if(this.Hdt)return this.Hdt.Dd},i.um=function(t){var n=this;Ci(nU(function(){return n.EK()},t))},i.EK=function(){var t=vn.coroutine(fn.mark(function t(){var n,i,r,e,u,s;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Vdt();case 2:if((n=t.sent).isMasterPlaylist)for(this.Xdt=n,i=0,r=n.streams;i<r.length;i++)e=r[i],u=new oB(this.$A,this.Mdt),this.Udt.push({stream:{uri:e.uri,width:e.resolution&&e.resolution.width,height:e.resolution&&e.resolution.height},updater:u});else s=new oB(this.$A,this.Mdt),this.Udt.push({stream:{uri:n.uri},updater:s});this.Wdt&&(this.qdt(this.Wdt.width,this.Wdt.height),this.Wdt=void 0),this.cu=!0;case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.zdt=function(t,n){this.cu?this.qdt(t,n):this.Wdt={width:t,height:n}},i.qdt=function(t,n){this.Gdt();var i=this.jdt(t,n);i&&(this.Hdt=i.updater,this.Hdt.addEventListener("B8",this.Ldt),i.updater.um(i.stream.uri))},i.Gdt=function(){this.Hdt&&(this.Hdt.Gd(),this.Hdt.removeEventListener("B8",this.Ldt),this.Hdt=void 0)},i.jdt=function(t,n){return 1===this.Udt.length?this.Udt[0]:hi(this.Udt,function(i){return i.stream.width===t&&i.stream.height===n})},i.Vdt=function(){var t=vn.coroutine(fn.mark(function t(){var n,i;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=new sB(this.Mdt,rO.gn.zK,this.$A),t.next=3,n.mo(this.Kvt.src,{});case 3:return i=t.sent,t.abrupt("return",i.Dd);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.vh=function(){this.Gdt();for(var t=0,n=this.Udt;t<n.length;t++){n[t].updater.vh()}gi(this.Udt)},n}(Fi),sU=function(t){function n(n,i,r){var e;return(e=t.call(this,n)||this).Qdt=void 0,e.Ydt=!1,e.KJ=void 0,e.handleManifestUpdate=function(){var t=e.Qdt.Fdt();if(t){var n=e.QS;if(n){var i=n.getTime(),r=e.KJ;r||(r=new fC,e.KJ=r),r.po(t.dateRanges,function(t){return(t.getTime()-i)/1e3}),!e.Ydt&&r.Uh.lh>0&&(e.Xd.oh(r),e.CX.oh(r),e.Ydt=!0)}}},e.mdt=function(){e.Qdt&&e.Qdt.zdt(e.Cv,e.Dv)},e.Zdt=i,e.cB=r,e.CX=new RI(jt(e)),e.ps(Ta.Ef,e.mdt),e}qt(n,t);var i=n.prototype;return i.Qd=function(){var n=vn.coroutine(fn.mark(function n(i,r,e){return fn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.Qd.call(this,i,r,e);case 2:i.hlsDateRange&&this.Jdt(i,r,e);case 3:case"end":return n.stop()}},n,this)}));return function(t,i,r){return n.apply(this,arguments)}}(),i.Jdt=function(t,n,i){this.Qdt&&(this.Qdt.Ts("Bdt",this.handleManifestUpdate),this.Qdt.vh()),this.Qdt=new uU(t,n,this.Zdt),this.Qdt.ps("Bdt",this.handleManifestUpdate),this.Qdt.um(i)},i.fh=function(){return this.KJ&&(this.Xd.ah(this.KJ),this.CX.ah(this.KJ),this.KJ.vh(),this.KJ=void 0,this.Ydt=!1),this.CX.fh(),t.prototype.fh.call(this)},i.vh=function(){return this.Ts(Ta.Ef,this.mdt),this.Qdt&&(this.Qdt.Ts("Bdt",this.handleManifestUpdate),this.Qdt.vh()),this.CX.vh(),t.prototype.vh.call(this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).$dt=n,i.$dt.Xh(i.gs),i}qt(n,t);var i=n.prototype;return i.Yd=function(){return this.$dt.Yd()},i.sl=function(){return this.$dt.sl()},i.ul=function(){return this.$dt.ul()},i.il=function(){return this.$dt.il()},i.vl=function(){return this.$dt.vl()},i.zd=function(){return this.$dt.zd()},i.qd=function(){return this.$dt.qd()},i.fh=function(){return this.$dt.fh()},i.Qd=function(t,n,i){return this.$dt.Qd(t,n,i)},i.nl=function(){return this.$dt.nl()},i.Zd=function(){return this.$dt.Zd()},i.Jd=function(){return this.$dt.Jd()},i.vh=function(){return this.bs(),this.$dt.vh()},T(n,[{key:"Hd",get:function(){return this.$dt.Hd}},{key:"dl",get:function(){return this.$dt.dl}},{key:"ll",get:function(){return this.$dt.ll},set:function(t){this.$dt.ll=t}},{key:"Av",get:function(){return this.$dt.Av},set:function(t){this.$dt.Av=t}},{key:"bv",get:function(){return this.$dt.bv}},{key:"Tv",get:function(){return this.$dt.Tv}},{key:"Ev",get:function(){return this.$dt.Ev}},{key:"Wd",get:function(){return this.$dt.Wd}},{key:"xs",get:function(){return this.$dt.xs}},{key:"gl",get:function(){return this.$dt.gl}},{key:"Cd",get:function(){return this.$dt.Cd}},{key:"Sv",get:function(){return this.$dt.Sv},set:function(t){this.$dt.Sv=t}},{key:"bl",get:function(){return this.$dt.bl}},{key:"Rv",get:function(){return this.$dt.Rv}},{key:"Iv",get:function(){return this.$dt.Iv},set:function(t){this.$dt.Iv=t}},{key:"Tl",get:function(){return this.$dt.Tl}},{key:"El",get:function(){return this.$dt.El},set:function(t){this.$dt.El=t}},{key:"Mh",get:function(){return this.$dt.Mh}},{key:"Sl",get:function(){return this.$dt.Sl}},{key:"Nv",get:function(){return this.$dt.Nv}},{key:"QS",get:function(){return this.$dt.QS}},{key:"Xd",get:function(){return this.$dt.Xd}},{key:"Dv",get:function(){return this.$dt.Dv}},{key:"Vd",get:function(){return this.$dt.Vd}},{key:"Cv",get:function(){return this.$dt.Cv}},{key:"Ov",get:function(){return this.$dt.Ov},set:function(t){this.$dt.Ov=t}}]),n}(ma));rU=function(t,n,i){return new sU(t,n,i)},Fw.tR().nR(rU);var oU=function(t){function n(n){var i;return(i=t.call(this,"statechange")||this).state=n,i}return qt(n,t),n}(Vi);var aU=function(t){function n(n,i,e,u){var s;return(s=t.call(this)||this).Pc=void 0,s.fN=Cf.UNAVAILABLE,s.Kdt=new ki,s.handleAirplayChangedEvent=function(){s.bR&&s.bR.gl?s.tlt():s.i2===Cf.CONNECTED&&s.nlt()},s.handleAirplayPlayerTimeUpdate=function(t){s.ilt=t.currentTime,s.rlt=s.Bx.ll},s.elt=n,s.Bx=i,s.ult=u,s.ult.il(),s.Bx.Fd(u),s.slt(),r.wc.za&&s.olt(Cf.AVAILABLE),s}qt(n,t);var i=n.prototype;return i.slt=function(){this.bR&&this.bR.Ts(Ta.nf,this.handleAirplayChangedEvent),this.clt?this.bR=this.Bx:this.bR=this.ult,this.bR.ps(Ta.nf,this.handleAirplayChangedEvent)},i.tlt=function(){var t=vn.coroutine(fn.mark(function t(){var n;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.bR){t.next=2;break}return t.abrupt("return");case 2:if(this.clt){t.next=24;break}return this.ilt=this.Bx.Av,this.rlt=this.Bx.ll,this.ult.ps("timeupdate",this.handleAirplayPlayerTimeUpdate),this.hlt=this.Bx.kh,this.Bx.kh=this.ult,this.hlt.zd(),this.hlt.il(),this.ult.nl(),this.ult.Sv=this.hlt.Sv,this.ult.Iv=this.hlt.Iv,this.ult.Ov=this.hlt.Ov,n=this.ult.Rs("seeked"),this.ult.Av=this.hlt.Av,t.next=18,n;case 18:this.ult.qd(),this.ult.Sv=this.hlt.Sv,this.ult.Iv=this.hlt.Iv,this.ult.Ov=this.hlt.Ov,t.next=28;break;case 24:if(this.bR.Rv){t.next=27;break}return t.next=27,this.bR.Rs(Ta.kf,this.Kdt.ls);case 27:this.bR.qd();case 28:this.olt(Cf.CONNECTED);case 29:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.nlt=function(){this.hlt?(this.ult.Ts("timeupdate",this.handleAirplayPlayerTimeUpdate),this.hlt.Sv=this.ult.Sv,this.hlt.Iv=this.ult.Iv,this.hlt.Ov=this.ult.Ov,P.un&&!P.Xt&&this.Bx.bv===1/0?this.rlt?this.hlt.ll=this.rlt:this.hlt.Av=1/0:this.hlt.Av=this.ilt,this.rlt=void 0,this.ilt=void 0,this.hlt.nl(),this.ult.il(),this.ult.Rv||this.hlt.qd(),this.Bx.kh=this.hlt,this.ult.fh(),this.hlt=void 0):this.bR&&(this.bR.Av=this.bR.Av+1e-4);this.olt(Cf.AVAILABLE)},i.preloadPlayer=function(t){if(bi(t),this.bR.Mh<pa.Jh){var n=this.bR.Rs("loadedmetadata",t);return this.bR.El=qw.T_,n}return vn.resolve()},i.olt=function(t){t!==this.fN&&(this.fN=t,this.ys(new oU(this.fN)))},i.Zd=function(){r.wc.za&&(this.elt.$d(),this.Kdt.fs(),this.Kdt=new ki,this.clt?Ci(this.flt(this.Kdt.ls)):Ci(this.vlt(this.Kdt.ls)))},i.flt=function(){var t=vn.coroutine(fn.mark(function t(n){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.preloadPlayer(n);case 2:this.Bx.Zd();case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.vlt=function(){var t=vn.coroutine(fn.mark(function t(n){var i;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.ult.fh();case 3:return t.next=5,this.ult.Qd(this.Bx.jd(),n);case 5:return i=this.ult.Rs("playing",n),this.ult.qd(),t.next=9,Bi(i,3e3);case 9:this.ult.zd(),bi(n),this.ult.Zd(),t.next=19;break;case 14:if(t.prev=14,t.t0=t.catch(0),!Ai(t.t0)){t.next=18;break}return t.abrupt("return");case 18:0;case 19:case"end":return t.stop()}},t,this,[[0,14]])}));return function(n){return t.apply(this,arguments)}}(),i.Jd=function(){r.wc.za&&this.bR.Jd()},i.vh=function(){var t;this.bs(),this.Bx.cl(this.ult),this.Kdt.fs(),null===(t=this.ult)||void 0===t||t.vh()},T(n,[{key:"nB",get:function(){return this.i2===Cf.CONNECTED}},{key:"clt",get:function(){return this.Bx.Yd()}},{key:"i2",get:function(){return this.fN}},{key:"Bc",get:function(){var t;return this.Pc||(this.Pc=(t=this,{get casting(){return t.nB},get state(){return t.i2},start:function(){t.Zd()},stop:function(){t.Jd()},addEventListener:function(n,i){n=na(n,ta),t.ps(n,i)},removeEventListener:function(n,i){n=na(n,ta),t.Ts(n,i)}})),this.Pc}}]),n}(ma);XE(function(t){return function(t){function n(){return t.apply(this,arguments)||this}return qt(n,t),n.prototype.Lc=function(){var n=this.ZB.Bc;return Go(t.prototype.Lc.call(this),{get cast(){return n}})},n}(t)},PE.tL);var cU=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this)||this).dR=void 0,o.Kvt=void 0,o.Pd=new ha,o.Bd=new ha,o.Ld=new ya,o.fR=n,o.dlt=new pn(u,s,1,[Tf.ld]),o.dlt.kR(n),o.llt=new Bw(n,o.dlt,i,r,e),o.llt.Xh(o.gs),o.Pd.kh=o.llt.Hd,o.Bd.kh=o.llt.Vd,o.Ld.kh=o.llt.Xd,o}qt(n,t);var i=n.prototype;return i.Yd=function(){return this.llt.Yd()},i.Zd=function(){this.llt.Zd()},i.Jd=function(){this.llt.Jd()},i.qd=function(){Ci(this.llt.qd())},i.zd=function(){this.llt.zd()},i.Gd=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),i.jd=function(){return this.Kvt},i.Qd=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r,e,u,s;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(bi(i),this.Kvt=n,!cc(n.sources)){t.next=6;break}r=$f({src:""}),t.next=16;break;case 6:e=n.sources.filter(rv),u=0;case 8:if(!(u<e.length)){t.next=16;break}if(!Lw(s=e[u])){t.next=13;break}return r=s,t.abrupt("break",16);case 13:u++,t.next=8;break;case 16:if(r){t.next=18;break}throw new d("Unsupported source.");case 18:return t.next=20,this.llt.Qd(r,n,i);case 20:this.IR(r);case 21:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.IR=function(t){this.dR!==t&&(this.dR=t,this.ys(new Ac(t)))},i.ul=function(){},i._lt=function(){},i.ol=function(){return[]},i.$d=function(){this.dlt.SR()},i.Kd=function(t){yc(this,t)},i.tl=function(){},i.al=function(t){return!1},i.vl=function(){},i.fh=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.dR=void 0,this.Kvt=void 0,t.next=4,this.llt.fh();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.nl=function(){this.llt.nl()},i.il=function(){this.llt.il()},i.sl=function(){return this.llt.sl()},i.vh=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.bs(),this.dlt.vh(),t.next=4,this.llt.vh();case 4:this.Pd.vh(),this.Bd.vh(),this.Ld.vh();case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),T(n,[{key:"Hd",get:function(){return this.llt.Hd}},{key:"dl",get:function(){return this.llt.dl}},{key:"fl",get:function(){return this.dR}},{key:"Av",get:function(){return this.llt.Av},set:function(t){this.llt.Av=t}},{key:"ll",get:function(){return this.llt.ll}},{key:"bv",get:function(){return this.llt.bv}},{key:"_l",get:function(){return this.fR}},{key:"Tv",get:function(){return this.llt.Tv}},{key:"xs",get:function(){return this.llt.xs}},{key:"gl",get:function(){return this.llt.gl}},{key:"Cd",get:function(){return{wl:0,yl:0,ml:0,kl:0,pl:0,Al:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"Sv",get:function(){return this.llt.Sv},set:function(t){this.llt.Sv=t}},{key:"bl",get:function(){return this.llt.bl}},{key:"Rv",get:function(){return this.llt.Rv}},{key:"Iv",get:function(){return this.llt.Iv},set:function(t){this.llt.Iv=t}},{key:"Tl",get:function(){return this.llt.Tl}},{key:"El",get:function(){return this.llt.El},set:function(t){this.llt.El=t}},{key:"Mh",get:function(){return this.llt.Mh}},{key:"Sl",get:function(){return this.llt.Sl}},{key:"Nv",get:function(){return this.llt.Nv}},{key:"Xd",get:function(){return this.llt.Xd}},{key:"Dv",get:function(){return this.llt.Dv}},{key:"Cv",get:function(){return this.llt.Cv}},{key:"Vd",get:function(){return this.llt.Vd}},{key:"Ov",get:function(){return this.llt.Ov},set:function(t){this.llt.Ov=t}}]),n}(ma);XE(function(t){return function(t){function n(n,i){var r;r=t.call(this,n,i)||this;var e=new cU(r.QP._l,r.cT,r.hw,r.LB,r.FB,r.KB);return r.glt=new aU(jt(r),r.QP,r.cT,e),r.ZB.tB(r.glt),r.ps("currentsourcechange",function(){r.glt.slt()}),r}qt(n,t);var i=n.prototype;return i.Lc=function(){var n=this,i=t.prototype.Lc.call(this);return Go(i.cast,{get airplay(){return n.glt.Bc}}),i},i.vh=function(){this.glt.vh(),t.prototype.vh.call(this)},n}(t)},PE.tL);var hU=function(){},fU=function(){function t(){this.internalDict={},this.uidCounter=0}var n=t.prototype;return n.register=function(t){return this.internalDict[this.uidCounter]=t,this.uidCounter++},n.get=function(t){return this.internalDict[t]},n.remove=function(t){delete this.internalDict[t]},t}(),vU=hn(function(t,n){function i(t,n){var i=[],r=[];return null==n&&(n=function(t,n){return i[0]===n?"[Circular ~]":"[Circular ~."+r.slice(0,i.indexOf(n)).join(".")+"]"}),function(e,u){if(i.length>0){var s=i.indexOf(this);~s?i.splice(s+1):i.push(this),~s?r.splice(s,1/0,e):r.push(e),~i.indexOf(u)&&(u=n.call(this,e,u))}else i.push(u);return null==t?u:t.call(this,e,u)}}(t.exports=function(t,n,r,e){return JSON.stringify(t,i(n,e),r)}).getSerialize=i});function dU(t,n){return void 0!==n&&null!=n&&"function"==typeof n.start&&"function"==typeof n.end&&"number"==typeof n.length?function(t){for(var n=[],i=0;i<t.length;i++)n[i]={start:t.start(i),end:t.end(i)};return n}(n):n}function lU(t){return JSON.stringify(t,vU.getSerialize(dU))}var _U,gU=hn(function(t,n){_.defineProperty(n,"__esModule",{value:!0}),n.CHAR="\t\n\r -\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",n.S=" \t\r\n",n.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u");var i=9,r=10,e=13,u=32;function s(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}n.S_LIST=[u,r,e,i],n.isChar=function(t){return t>=u&&t<=55295||t===r||t===e||t===i||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isS=function(t){return t===u||t===r||t===e||t===i},n.isNameStartChar=s,n.isNameChar=function(t){return s(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),wU=hn(function(t,n){_.defineProperty(n,"__esModule",{value:!0}),n.CHAR="\x01-\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",n.RESTRICTED_CHAR="\x01-\b\v\f\x0e-\x1f\x7f-\x84\x86-\x9f",n.S=" \t\r\n",n.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.RESTRICTED_CHAR_RE=new RegExp("^["+n.RESTRICTED_CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u");var i=9,r=10,e=13,u=32;function s(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}n.S_LIST=[u,r,e,i],n.isChar=function(t){return t>=1&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isRestrictedChar=function(t){return t>=1&&t<=8||11===t||12===t||t>=14&&t<=31||t>=127&&t<=132||t>=134&&t<=159},n.isCharAndNotRestricted=function(t){return 9===t||10===t||13===t||t>31&&t<127||133===t||t>159&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isS=function(t){return t===u||t===r||t===e||t===i},n.isNameStartChar=s,n.isNameChar=function(t){return s(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),yU=hn(function(t,n){function i(t){return t>=65&&t<=90||95===t||t>=97&&t<=122||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}_.defineProperty(n,"__esModule",{value:!0}),n.NC_NAME_START_CHAR="A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NC_NAME_CHAR="-"+n.NC_NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.NC_NAME_START_CHAR_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]$","u"),n.NC_NAME_CHAR_RE=new RegExp("^["+n.NC_NAME_CHAR+"]$","u"),n.NC_NAME_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]["+n.NC_NAME_CHAR+"]*$","u"),n.isNCNameStartChar=i,n.isNCNameChar=function(t){return i(t)||45===t||46===t||t>=48&&t<=57||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),mU=hn(function(t,n){_.defineProperty(n,"__esModule",{value:!0});var i=gU.isS,r=gU.isChar,e=gU.isNameStartChar,u=gU.isNameChar,s=gU.S_LIST,o=gU.NAME_RE,a=wU.isChar,c=yU.isNCNameStartChar,h=yU.isNCNameChar,f=yU.NC_NAME_RE;const v="http://www.w3.org/XML/1998/namespace",l="http://www.w3.org/2000/xmlns/",g={__proto__:null,xml:v,xmlns:l},y={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},m=-1,k=-2,p=0,A=1,b=2,T=3,E=4,S=5,R=6,I=7,N=8,D=9,C=10,O=11,x=12,P=13,B=14,L=15,M=16,U=17,F=18,H=19,V=20,X=21,W=22,q=23,z=24,G=25,j=26,Q=27,Y=28,Z=29,J=30,$=31,K=32,tt=33,nt=34,it=35,rt=36,et=37,ut=38,st=39,ot=40,at=41,ct=42,ht=43,ft=44,vt=9,dt=10,lt=13,_t=32,gt=33,wt=38,yt=45,mt=47,kt=59,pt=60,At=61,bt=62,Tt=63,Et=91,St=93,Rt=133,It=8232,Nt=t=>34===t||39===t,Dt=[34,39],Ct=[...Dt,Et,bt],Ot=[...Dt,pt,St],xt=[At,Tt,...s],Pt=[...s,bt,wt,pt];function Bt(t,n,i){switch(n){case"xml":i!==v&&t.fail(`xml prefix must be bound to ${v}.`);break;case"xmlns":i!==l&&t.fail(`xmlns prefix must be bound to ${l}.`)}switch(i){case l:t.fail(""===n?`the default namespace may not be set to ${i}.`:`may not assign a prefix (even "xmlns") to the URI ${l}.`);break;case v:switch(n){case"xml":break;case"":t.fail(`the default namespace may not be set to ${i}.`);break;default:t.fail("may not assign the xml namespace to another prefix.")}}}const Lt=t=>f.test(t),Mt=t=>o.test(t),Ut=0,Ft=1,Ht=2;n.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const Vt={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};n.SaxesParser=class{constructor(t){this.opt=null!=t?t:{},this.fragmentOpt=!!this.opt.fragment;const n=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=!1!==this.opt.position,this.fileName=this.opt.fileName,n){this.nameStartCheck=c,this.nameCheck=h,this.isName=Lt,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=_.assign({__proto__:null},g);const t=this.opt.additionalNamespaces;null!=t&&(function(t,n){for(const i of _.keys(n))Bt(t,i,n[i])}(this,t),_.assign(this.ns,t))}else this.nameStartCheck=e,this.nameCheck=u,this.isName=Mt,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this.ua}_init(){var t;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=Ut,this.attribList=[];const{fragmentOpt:n}=this;this.state=n?P:p,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=n,this.xmlDeclPossible=!n,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:i}=this.opt;if(void 0===i){if(!0===this.opt.forceXMLVersion)throw new d("forceXMLVersion set but defaultXMLVersion is not set");i="1.0"}this.setXMLVersion(i),this.positionAtNewLine=0,this.doctype=!1,this.ua=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=_.create(y),null===(t=this.readyHandler)||void 0===t||t.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(t,n){this[Vt[t]]=n}off(t){this[Vt[t]]=void 0}makeError(t){var n;let i=null!==(n=this.fileName)&&void 0!==n?n:"";return this.trackPosition&&(i.length>0&&(i+=":"),i+=`${this.line}:${this.column}`),i.length>0&&(i+=": "),new d(i+t)}fail(t){const n=this.makeError(t),i=this.errorHandler;if(void 0===i)throw n;return i(n),this}write(t){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let n=!1;null===t?(n=!0,t=""):"object"==typeof t&&(t=t.toString()),void 0!==this.carriedFromPrevious&&(t=`${this.carriedFromPrevious}${t}`,this.carriedFromPrevious=void 0);let i=t.length;const r=t.charCodeAt(i-1);!n&&(r===lt||r>=55296&&r<=56319)&&(this.carriedFromPrevious=t[i-1],i--,t=t.slice(0,i));const{stateTable:e}=this;for(this.chunk=t,this.i=0;this.i<i;)e[this.state].call(this);return this.chunkPosition+=i,n?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return m;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>=_t||i===vt)return i;switch(i){case dt:return this.line++,this.column=0,this.positionAtNewLine=this.position,dt;case lt:return t.charCodeAt(n+1)===dt&&(this.i=n+2),this.line++,this.column=0,this.positionAtNewLine=this.position,k;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const r=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,r>1114111&&this.fail("disallowed character."),r}getCode11(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return m;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>31&&i<127||i>159&&i!==It||i===vt)return i;switch(i){case dt:return this.line++,this.column=0,this.positionAtNewLine=this.position,dt;case lt:{const i=t.charCodeAt(n+1);i!==dt&&i!==Rt||(this.i=n+2)}case Rt:case It:return this.line++,this.column=0,this.positionAtNewLine=this.position,k;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const r=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,r>1114111&&this.fail("disallowed character."),r}getCodeNorm(){const t=this.getCode();return t===k?dt:t}unget(){this.i=this.prevI,this.column--}captureTo(t){let{i:n}=this;const{chunk:i}=this;for(;;){const r=this.getCode(),e=r===k,u=e?dt:r;if(u===m||t.includes(u))return this.text+=i.slice(n,this.prevI),u;e&&(this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i)}}captureToChar(t){let{i:n}=this;const{chunk:i}=this;for(;;){let r=this.getCode();switch(r){case k:this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i,r=dt;break;case m:return this.text+=i.slice(n),!1}if(r===t)return this.text+=i.slice(n,this.prevI),!0}}captureNameChars(){const{chunk:t,i:n}=this;for(;;){const i=this.getCode();if(i===m)return this.name+=t.slice(n),m;if(!u(i))return this.name+=t.slice(n,this.prevI),i===k?dt:i}}skipSpaces(){for(;;){const t=this.getCodeNorm();if(t===m||!i(t))return t}}setXMLVersion(t){this.currentXMLVersion=t,"1.0"===t?(this.isChar=r,this.getCode=this.getCode10):(this.isChar=a,this.getCode=this.getCode11)}sBegin(){65279===this.chunk.charCodeAt(0)&&(this.i++,this.column++),this.state=A}sBeginWhitespace(){const t=this.i,n=this.skipSpaces();switch(this.prevI!==t&&(this.xmlDeclPossible=!1),n){case pt:if(this.state=L,0!==this.text.length)throw new d("no-empty text at start");break;case m:break;default:this.unget(),this.state=P,this.xmlDeclPossible=!1}}sDoctype(){var t;const n=this.captureTo(Ct);switch(n){case bt:null===(t=this.doctypeHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=P,this.doctype=!0;break;case m:break;default:this.text+=String.fromCodePoint(n),n===Et?this.state=E:Nt(n)&&(this.state=T,this.q=n)}}sDoctypeQuote(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.q=null,this.state=b)}sDTD(){const t=this.captureTo(Ot);t!==m&&(this.text+=String.fromCodePoint(t),t===St?this.state=b:t===pt?this.state=R:Nt(t)&&(this.state=S,this.q=t))}sDTDQuoted(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.state=E,this.q=null)}sDTDOpenWaka(){const t=this.getCodeNorm();switch(this.text+=String.fromCodePoint(t),t){case gt:this.state=I,this.openWakaBang="";break;case Tt:this.state=O;break;default:this.state=E}}sDTDOpenWakaBang(){const t=String.fromCodePoint(this.getCodeNorm()),n=this.openWakaBang+=t;this.text+=t,"-"!==n&&(this.state="--"===n?N:E,this.openWakaBang="")}sDTDComment(){this.captureToChar(yt)&&(this.text+="-",this.state=D)}sDTDCommentEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),this.state=t===yt?C:N}sDTDCommentEnded(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===bt?this.state=E:(this.fail("malformed comment."),this.state=N)}sDTDPI(){this.captureToChar(Tt)&&(this.text+="?",this.state=x)}sDTDPIEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===bt&&(this.state=E)}sText(){0!==this.tags.length?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:t}=this;const{chunk:n}=this;t:for(;;)switch(this.getCode()){case k:this.entity+=`${n.slice(t,this.prevI)}\n`,t=this.i;break;case kt:{const{entityReturnState:i}=this,r=this.entity+n.slice(t,this.prevI);let e;this.state=i,""===r?(this.fail("empty entity name."),e="&;"):(e=this.parseEntity(r),this.entity=""),i===P&&void 0===this.textHandler||(this.text+=e);break t}case m:this.entity+=n.slice(t);break t}}sOpenWaka(){const t=this.getCode();if(e(t))this.state=nt,this.unget(),this.xmlDeclPossible=!1;else switch(t){case mt:this.state=ht,this.xmlDeclPossible=!1;break;case gt:this.state=M,this.openWakaBang="",this.xmlDeclPossible=!1;break;case Tt:this.state=q;break;default:this.fail("disallowed character in tag name"),this.state=P,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=V,this.openWakaBang="";break;case"--":this.state=U,this.openWakaBang="";break;case"DOCTYPE":this.state=b,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(yt)&&(this.state=F)}sCommentEnding(){var t;const n=this.getCodeNorm();n===yt?(this.state=H,null===(t=this.commentHandler)||void 0===t||t.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(n)}`,this.state=U)}sCommentEnded(){const t=this.getCodeNorm();t!==bt?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(t)}`,this.state=U):this.state=P}sCData(){this.captureToChar(St)&&(this.state=X)}sCDataEnding(){const t=this.getCodeNorm();t===St?this.state=W:(this.text+=`]${String.fromCodePoint(t)}`,this.state=V)}sCDataEnding2(){var t;const n=this.getCodeNorm();switch(n){case bt:null===(t=this.cdataHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=P;break;case St:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(n)}`,this.state=V}}sPIFirstChar(){const t=this.getCodeNorm();this.nameStartCheck(t)?(this.piTarget+=String.fromCodePoint(t),this.state=z):t===Tt||i(t)?(this.fail("processing instruction without a target."),this.state=t===Tt?j:G):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(t),this.state=z)}sPIRest(){const{chunk:t,i:n}=this;for(;;){const r=this.getCodeNorm();if(r===m)return void(this.piTarget+=t.slice(n));if(!this.nameCheck(r)){this.piTarget+=t.slice(n,this.prevI);const e=r===Tt;e||i(r)?"xml"===this.piTarget?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=e?tt:Q):this.state=e?j:G:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(r));break}}}sPIBody(){if(0===this.text.length){const t=this.getCodeNorm();t===Tt?this.state=j:i(t)||(this.text=String.fromCodePoint(t))}else this.captureToChar(Tt)&&(this.state=j)}sPIEnding(){var t;const n=this.getCodeNorm();if(n===bt){const{piTarget:n}=this;"xml"===n.toLowerCase()&&this.fail("the XML declaration must appear at the start of the document."),null===(t=this.piHandler)||void 0===t||t.call(this,{target:n,body:this.text}),this.piTarget=this.text="",this.state=P}else n===Tt?this.text+="?":(this.text+=`?${String.fromCodePoint(n)}`,this.state=G);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const t=this.skipSpaces();t!==Tt?t!==m&&(this.state=Y,this.name=String.fromCodePoint(t)):this.state=tt}sXMLDeclName(){const t=this.captureTo(xt);if(t===Tt)return this.state=tt,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(i(t)||t===At){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=t===At?J:Z}}sXMLDeclEq(){const t=this.getCodeNorm();if(t===Tt)return this.state=tt,void this.fail("XML declaration is incomplete.");i(t)||(t!==At&&this.fail("value required."),this.state=J)}sXMLDeclValueStart(){const t=this.getCodeNorm();if(t===Tt)return this.state=tt,void this.fail("XML declaration is incomplete.");i(t)||(Nt(t)?this.q=t:(this.fail("value must be quoted."),this.q=_t),this.state=$)}sXMLDeclValue(){const t=this.captureTo([this.q,Tt]);if(t===Tt)return this.state=tt,this.text="",void this.fail("XML declaration is incomplete.");if(t===m)return;const n=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const t=n;this.xmlDecl.version=t,/^1\.[0-9]+$/.test(t)?this.opt.forceXMLVersion||this.setXMLVersion(t):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(n)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=n;break;case"standalone":"yes"!==n&&"no"!==n&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=n}this.name="",this.state=K}sXMLDeclSeparator(){const t=this.getCodeNorm();t!==Tt?(i(t)||(this.fail("whitespace required."),this.unget()),this.state=Q):this.state=tt}sXMLDeclEnding(){var t;this.getCodeNorm()===bt?("xml"!==this.piTarget?this.fail("processing instructions are not allowed before root."):"version"!==this.name&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),null===(t=this.xmldeclHandler)||void 0===t||t.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=P):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var t;const n=this.captureNameChars();if(n===m)return;const r=this.tag={name:this.name,attributes:_.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=r.ns=_.create(null)),null===(t=this.openTagStartHandler)||void 0===t||t.call(this,r),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),n){case bt:this.openTag();break;case mt:this.state=it;break;default:i(n)||this.fail("disallowed character in tag name."),this.state=rt}}sOpenTagSlash(){this.getCode()===bt?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=rt)}sAttrib(){const t=this.skipSpaces();t!==m&&(e(t)?(this.unget(),this.state=et):t===bt?this.openTag():t===mt?this.state=it:this.fail("disallowed character in attribute name."))}sAttribName(){const t=this.captureNameChars();t===At?this.state=st:i(t)?this.state=ut:t===bt?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):t!==m&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const t=this.skipSpaces();switch(t){case m:return;case At:this.state=st;break;default:this.fail("attribute without value."),this.text="",this.name="",t===bt?this.openTag():e(t)?(this.unget(),this.state=et):(this.fail("disallowed character in attribute name."),this.state=rt)}}sAttribValue(){const t=this.getCodeNorm();Nt(t)?(this.q=t,this.state=ot):i(t)||(this.fail("unquoted attribute value."),this.state=ct,this.unget())}sAttribValueQuoted(){const{q:t,chunk:n}=this;let{i:i}=this;for(;;)switch(this.getCode()){case t:return this.pushAttrib(this.name,this.text+n.slice(i,this.prevI)),this.name=this.text="",this.q=null,void(this.state=at);case wt:return this.text+=n.slice(i,this.prevI),this.state=B,void(this.entityReturnState=ot);case dt:case k:case vt:this.text+=`${n.slice(i,this.prevI)} `,i=this.i;break;case pt:return this.text+=n.slice(i,this.prevI),void this.fail("disallowed character.");case m:return void(this.text+=n.slice(i))}}sAttribValueClosed(){const t=this.getCodeNorm();i(t)?this.state=rt:t===bt?this.openTag():t===mt?this.state=it:e(t)?(this.fail("no whitespace between attributes."),this.unget(),this.state=et):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const t=this.captureTo(Pt);switch(t){case wt:this.state=B,this.entityReturnState=ct;break;case pt:this.fail("disallowed character.");break;case m:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",t===bt?this.openTag():this.state=rt}}sCloseTag(){const t=this.captureNameChars();t===bt?this.closeTag():i(t)?this.state=ft:t!==m&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case bt:this.closeTag();break;case m:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:t,forbiddenState:n}=this;const{chunk:i,textHandler:r}=this;t:for(;;)switch(this.getCode()){case pt:if(this.state=L,void 0!==r){const{text:n}=this,e=i.slice(t,this.prevI);0!==n.length?(r(n+e),this.text=""):0!==e.length&&r(e)}n=Ut;break t;case wt:this.state=B,this.entityReturnState=P,void 0!==r&&(this.text+=i.slice(t,this.prevI)),n=Ut;break t;case St:switch(n){case Ut:n=Ft;break;case Ft:n=Ht;break;case Ht:break;default:throw new d("impossible state")}break;case bt:n===Ht&&this.fail('the string "]]>" is disallowed in char data.'),n=Ut;break;case k:void 0!==r&&(this.text+=`${i.slice(t,this.prevI)}\n`),t=this.i,n=Ut;break;case m:void 0!==r&&(this.text+=i.slice(t));break t;default:n=Ut}this.forbiddenState=n}handleTextOutsideRoot(){let{i:t}=this;const{chunk:n,textHandler:r}=this;let e=!1;t:for(;;){const u=this.getCode();switch(u){case pt:if(this.state=L,void 0!==r){const{text:i}=this,e=n.slice(t,this.prevI);0!==i.length?(r(i+e),this.text=""):0!==e.length&&r(e)}break t;case wt:this.state=B,this.entityReturnState=P,void 0!==r&&(this.text+=n.slice(t,this.prevI)),e=!0;break t;case k:void 0!==r&&(this.text+=`${n.slice(t,this.prevI)}\n`),t=this.i;break;case m:void 0!==r&&(this.text+=n.slice(t));break t;default:i(u)||(e=!0)}}e&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(t,n){var i;const{prefix:r,local:e}=this.qname(t),u={name:t,prefix:r,local:e,value:n};if(this.attribList.push(u),null===(i=this.attributeHandler)||void 0===i||i.call(this,u),"xmlns"===r){const t=n.trim();"1.0"===this.currentXMLVersion&&""===t&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[e]=t,Bt(this,e,t)}else if("xmlns"===t){const t=n.trim();this.topNS[""]=t,Bt(this,"",t)}}pushAttribPlain(t,n){var i;const r={name:t,value:n};this.attribList.push(r),null===(i=this.attributeHandler)||void 0===i||i.call(this,r)}end(){var t,n;this.sawRoot||this.fail("document must contain a root element.");const{tags:i}=this;for(;i.length>0;){const t=i.pop();this.fail(`unclosed tag: ${t.name}`)}this.state!==p&&this.state!==P&&this.fail("unexpected end.");const{text:r}=this;return 0!==r.length&&(null===(t=this.textHandler)||void 0===t||t.call(this,r),this.text=""),this.ua=!0,null===(n=this.endHandler)||void 0===n||n.call(this),this._init(),this}resolve(t){var n,i;let r=this.topNS[t];if(void 0!==r)return r;const{tags:e}=this;for(let n=e.length-1;n>=0;n--)if(void 0!==(r=e[n].ns[t]))return r;return void 0!==(r=this.ns[t])?r:null===(i=(n=this.opt).resolvePrefix)||void 0===i?void 0:i.call(n,t)}qname(t){const n=t.indexOf(":");if(-1===n)return{prefix:"",local:t};const i=t.slice(n+1),r=t.slice(0,n);return(""===r||""===i||i.includes(":"))&&this.fail(`malformed name: ${t}.`),{prefix:r,local:i}}processAttribsNS(){var t;const{attribList:n}=this,i=this.tag;{const{prefix:n,local:r}=this.qname(i.name);i.prefix=n,i.local=r;const e=i.uri=null!==(t=this.resolve(n))&&void 0!==t?t:"";""!==n&&("xmlns"===n&&this.fail('tags may not have "xmlns" as prefix.'),""===e&&(this.fail(`unbound namespace prefix: ${JSON.stringify(n)}.`),i.uri=n))}if(0===n.length)return;const{attributes:r}=i,e=new Set;for(const t of n){const{name:n,prefix:i,local:u}=t;let s,o;""===i?(s="xmlns"===n?l:"",o=n):(void 0===(s=this.resolve(i))&&(this.fail(`unbound namespace prefix: ${JSON.stringify(i)}.`),s=i),o=`{${s}}${u}`),e.has(o)&&this.fail(`duplicate attribute: ${o}.`),e.add(o),t.uri=s,r[n]=t}this.attribList=[]}processAttribsPlain(){const{attribList:t}=this,n=this.tag.attributes;for(const{name:i,value:r}of t)void 0!==n[i]&&this.fail(`duplicate attribute: ${i}.`),n[i]=r;this.attribList=[]}openTag(){var t;this.processAttribs();const{tags:n}=this,i=this.tag;i.isSelfClosing=!1,null===(t=this.openTagHandler)||void 0===t||t.call(this,i),n.push(i),this.state=P,this.name=""}openSelfClosingTag(){var t,n,i;this.processAttribs();const{tags:r}=this,e=this.tag;e.isSelfClosing=!0,null===(t=this.openTagHandler)||void 0===t||t.call(this,e),null===(n=this.closeTagHandler)||void 0===n||n.call(this,e),null===(this.tag=null!==(i=r[r.length-1])&&void 0!==i?i:null)&&(this.closedRoot=!0),this.state=P,this.name=""}closeTag(){const{tags:t,name:n}=this;if(this.state=P,this.name="",""===n)return this.fail("weird empty close tag."),void(this.text+="</>");const i=this.closeTagHandler;let r=t.length;for(;r-- >0;){const r=this.tag=t.pop();if(this.topNS=r.ns,null==i||i(r),r.name===n)break;this.fail("unexpected close tag.")}0===r?this.closedRoot=!0:r<0&&(this.fail(`unmatched closing tag: ${n}.`),this.text+=`</${n}>`)}parseEntity(t){if("#"!==t[0]){const n=this.ENTITIES[t];return void 0!==n?n:(this.fail(this.isName(t)?"undefined entity.":"disallowed character in entity name."),`&${t};`)}let n=NaN;return"x"===t[1]&&/^#x[0-9a-f]+$/i.test(t)?n=w(t.slice(2),16):/^#[0-9]+$/.test(t)&&(n=w(t.slice(1),10)),this.isChar(n)?String.fromCodePoint(n):(this.fail("malformed character entity."),`&${t};`)}}}),kU=function(){function t(){}return t.prototype.Sn=function(t){var n=new mU.SaxesParser({xmlns:!0,defaultXMLVersion:"1.0",forceXMLVersion:!0}),i=new RU,r=[i];function e(t){r[r.length-1].Vn(t)}return n.on("text",function(t){r.length>1&&e(new EU(t))}),n.on("cdata",function(t){e(new SU(t))}),n.on("opentag",function(t){for(var n=t.local,i=t.uri,u=t.prefix,s=new bU({Dn:n,On:""===i?void 0:i,wlt:""===u?void 0:u}),o=t.attributes,a=0,c=_.keys(o);a<c.length;a++){var h=o[c[a]],f=h.prefix,v=h.local,d=h.uri,l=h.value,g=new pU({Dn:v,Pn:l,On:""===d?void 0:d,wlt:""===f?void 0:f});s.ylt(g)}e(s),r.push(s)}),n.on("closetag",function(){r.pop()}),n.on("error",function(t){throw new Zt(t)}),n.write(t).close(),i},t}(),pU=function(){function t(t){this.mlt=t.Dn,this.Zr=t.Pn,this.klt=t.On,this.plt=t.wlt}var n=t.prototype;return n.In=function(t){return this===t||!!NU(this,t)&&(this.mlt===t.mlt&&this.klt===t.klt&&this.plt===t.plt&&this.Zr===t.Zr)},n.Nn=function(){return new t({Dn:this.Dn,Pn:this.Pn,On:this.On,wlt:this.xn})},T(t,[{key:"kn",get:function(){return Vt.bn}},{key:"Dn",get:function(){return this.mlt}},{key:"Cn",get:function(){return void 0===this.plt?this.mlt:this.plt+":"+this.mlt}},{key:"On",get:function(){return this.klt}},{key:"xn",get:function(){return this.plt}},{key:"Pn",get:function(){return this.Zr}}]),t}(),AU=function(){function t(){this.Bn=[]}var n=t.prototype;return n.Mn=function(t){return this.Bn.filter(function(n){return IU(n)&&n.Fn===t})},n.Hn=function(t,n){return this.Bn.filter(function(i){return IU(i)&&i.Dn===n&&i.On===t})},n.Vn=function(t){this.Bn.push(t)},T(t,[{key:"Un",get:function(){return this.Bn}},{key:"Wn",get:function(){return this.Bn.filter(IU)}}]),t}(),bU=function(t){function n(n){var i;return(i=t.call(this)||this).Alt=[],i.mlt=n.Dn,i.klt=n.On,i.plt=n.wlt,i}qt(n,t);var i=n.prototype;return i.blt=function(t){for(var n=0,i=this.Un;n<i.length;n++){var r=i[n];IU(r)?r.blt(t):t.push(r.$n)}},i.zn=function(t,n){for(var i=0,r=this.Alt;i<r.length;i++){var e=r[i];if(e.Dn===n&&e.On===t)return e.Pn}},i.qn=function(t){for(var n=0,i=this.Alt;n<i.length;n++){var r=i[n];if(r.Cn===t)return r.Pn}},i.ylt=function(t){this.Alt.push(t)},i.Gn=function(t){for(var n=0;n<this.Alt.length;n++)if(this.Alt[n].Cn===t)return void this.Alt.splice(n,1)},i.jn=function(t,n){for(var i=0;i<this.Alt.length;i++)if(this.Alt[i].Dn===n&&this.Alt[i].On===t)return void this.Alt.splice(i,1)},i.Qn=function(t,n){this.Gn(t),this.ylt(new pU({Dn:t,Pn:n}))},i.Yn=function(t,n,i){this.Gn(n);var r=n.split(":");this.ylt(new pU({Dn:r[r.length-1],Pn:i,On:t,wlt:r.length>1?r[0]:void 0}))},i.Nn=function(t){var i=new n({Dn:this.Dn,On:this.On,wlt:this.xn});return this.Zn.forEach(function(t){return i.ylt(t.Nn())}),t&&this.Un.forEach(function(n){return i.Vn(n.Nn(t))}),i},i.In=function(t){return this===t||!!NU(this,t)&&(this.mlt===t.mlt&&this.plt===t.plt&&this.klt===t.klt&&(DU(this.Zn,t.Zn)&&DU(this.Un,t.Un)))},T(n,[{key:"kn",get:function(){return Vt.pn}},{key:"Zn",get:function(){return this.Alt}},{key:"Dn",get:function(){return this.mlt}},{key:"On",get:function(){return this.klt}},{key:"xn",get:function(){return this.plt}},{key:"Fn",get:function(){return void 0===this.plt?this.mlt:this.plt+":"+this.mlt}},{key:"Jn",get:function(){var t=[];return this.blt(t),t.join("")}}]),n}(AU),TU=function(){function t(t){this.pu=t}return T(t,[{key:"$n",get:function(){return this.pu}}]),t}(),EU=function(t){function n(n){return t.call(this,n)||this}qt(n,t);var i=n.prototype;return i.Nn=function(){return new n(this.$n)},i.In=function(t){return this===t||!!NU(this,t)&&this.$n===t.$n},T(n,[{key:"kn",get:function(){return Vt.An}}]),n}(TU),SU=function(t){function n(n){return t.call(this,n)||this}qt(n,t);var i=n.prototype;return i.Nn=function(){return new n(this.$n)},i.In=function(t){return this===t||!!NU(this,t)&&this.$n===t.$n},T(n,[{key:"kn",get:function(){return Vt.Tn}}]),n}(TU),RU=function(t){function n(){return t.apply(this,arguments)||this}qt(n,t);var i=n.prototype;return i.Nn=function(t){var i=new n;return t&&this.Un.forEach(function(n){return i.Vn(n.Nn(t))}),i},i.In=function(t){return this===t||!!NU(this,t)&&DU(this.Un,t.Un)},T(n,[{key:"kn",get:function(){return Vt.En}},{key:"Kn",get:function(){return this.Wn[0]}}]),n}(AU);function IU(t){return zt(t)}function NU(t,n){return t.kn===n.kn}function DU(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++)if(!t[i].In(n[i]))return!1;return!0}function CU(t){return void 0===t.adBreak||void 0===t.adBreak.ads?t:dn(dn({},t),{adBreak:dn(dn({},t.adBreak),{ads:t.adBreak.ads.map(function(t){t.adBreak;return $c(t,["adBreak"])})})})}function OU(t){return void 0===t.ads?t:dn(dn({},t),{ads:t.ads.map(function(t){t.adBreak;return $c(t,["adBreak"])})})}function xU(t){return"string"==typeof t.date?new Date(t.date):t.date}function PU(t){var n;return t.cue.track?(n=LU(t.cue,t.cue.track.type)).track={uid:t.cue.track.uid}:n=LU(t.cue,""),n}function BU(t){var n=[];return function t(i){if(Array.isArray(i))return i.map(t);if("object"==typeof i&&null!==i){if(n.includes(i))return"[Circular ~]";n.push(i);var r=_.entries(i);return _.fromEntries(r.map(function(i){var r=i[0],e=i[1],u=t(e);return"object"==typeof e&&null!==e&&"[Circular ~]"!==u&&n.pop(e),[r,u]}))}return i}(t)}function LU(t,n){var i={};return i.content=t.content,i.endTime=t.endTime,i.startTime=t.startTime,i.id=t.id,i.uid=t.uid,function(){switch(n){case"webvtt":i.align=t.align,i.line=t.line,i.lineAlign=t.lineAlign,i.position=t.position,i.positionAlign=t.positionAlign,i.region=t.region,i.size=t.size,i.snapToLines=t.snapToLines,i.text=t.text,i.vertical=t.vertical;break;case"ttml":i.content=function t(n){var i=n.children;if(0!==i.length)for(var r=0;r<i.length;r++){var e=i.item(r);return"image"===e.nodeName||"smpte:image"===e.nodeName?e:t(e)}}(t.content).innerHTML;for(var r=t.content,e={};r.firstChild&&r.firstChild.outerHTML;){(new kU).Sn(r.firstChild.outerHTML).Kn.Zn.forEach(function(t){e[t.Dn]=t.Pn}),r=r.firstChild}i.ttmlAttributes=e;break;case"daterange":var u={};for(var s in t.customAttributes){var o=t.customAttributes[s];if("object"==typeof(c=o)&&null!==c){var a=MU(o);u[s]={type:_U.Tlt,value:a}}else FU(o)?u[s]={type:_U.Elt,value:o}:u[s]={type:_U.qW,value:String(o)}}i.attributedClass=String(t.class),i.startDate=t.startDate,i.endDate=t.endDate,i.duration=t.duration,i.plannedDuration=t.plannedDuration,i.endOnNext=t.endOnNext,i.scte35Cmd=MU(t.scte35Cmd),i.scte35Out=MU(t.scte35Out),i.scte35In=MU(t.scte35In),i.customAttributes=u}var c}(),i}function MU(t){if(void 0!==t)return ir(t)}function UU(t){var n={};if(n.kind=t.kind,n.language=t.language,n.label=t.label,n.id=t.id,n.uid=t.uid,n.src=t.src,"cues"in t){n.inBandMetadataTrackDispatchType=t.inBandMetadataTrackDispatchType,n.mode=t.mode,n.type=t.type;var i=[];if(t.cues)for(var r=0;r<t.cues.length;r++){var e=t.cues[r];i.push(LU(e,t.type))}n.cues=i;var u=[];if(t.activeCues)for(var s=0;s<t.activeCues.length;s++){var o=t.activeCues[s];u.push(LU(o,t.type))}n.activeCues=u}else"enabled"in t&&(n.enabled=t.enabled);return n}function FU(t){return"number"==typeof t}!function(t){t.qW="daterange-ca-type_string",t.Elt="daterange-ca-type_number",t.Tlt="daterange-ca-type_arraybuffer"}(_U||(_U={}));var HU={cue:function(t){var n={};switch(n.date=xU(t),n.type=t.type,t.type){case"enter":case"exit":case"update":n.cue=PU(t)}return n},textTrack:function(t){var n={};switch(n.date=xU(t),n.type=t.type,t.type){case"addcue":t.cue.uid||(t.cue.uid=qU().register(t.cue));var i=WU()[zU()].eventListeners;t.cue.addEventListener("enter",function(t){i.InternalCueHelperEvent(t)}),t.cue.addEventListener("exit",function(t){i.InternalCueHelperEvent(t)}),t.cue.addEventListener("update",function(t){i.InternalCueHelperEvent(t)});case"removecue":case"entercue":case"exitcue":n.cue=PU(t);break;case"cuechange":for(var r=[],e=0;e<t.track.activeCues.length;e++){var u=t.track.activeCues[e];r.push(LU(u,t.track.type))}n.track={activeCues:r,uid:t.track.uid}}return n},textTrackList:function(t){var n={};switch(n.date=xU(t),n.type=t.type,t.type){case"addtrack":t.track.cues&&t.track.cues.length&&t.track.cues.length>0&&t.track.cues.map(function(t){t.uid=qU().register(t)}),n.track=UU(t.track);case"removetrack":case"change":n.track=UU(t.track)}return n},default:function(t){var n={};switch(n.date=xU(t),n.type=t.type,t.type){case"play":case"playing":case"pause":case"seeking":case"seeked":case"ended":case"waiting":case"emptied":n.currentTime=t.currentTime;break;case"timeupdate":n.currentTime=t.currentTime,n.currentProgramDateTime=t.currentProgramDateTime;break;case"progress":n.currentTime=t.currentTime;break;case"ratechange":n.currentTime=t.currentTime,n.playbackRate=t.playbackRate;break;case"durationchange":n.duration=t.duration;break;case"sourcechange":n.source=t.source;break;case"readystatechange":case"loadedmetadata":case"loadeddata":case"loadstart":case"canplay":case"canplaythrough":n.currentTime=t.currentTime,n.readyState=t.readyState;break;case"error":n.error=t.error,n.errorObject=dn({name:t.errorObject.name,cause:t.errorObject.cause},t.errorObject);break;case"addtrack":case"removetrack":case"change":n.track=UU(t.track);break;case"adbreakbegin":case"adbreakend":n.ad=OU(t.ad);break;case"adloaded":case"adimpression":n.ad=CU(t.ad);break;case"aderror":t.Slt&&(n.Slt=t.Slt),t.message&&(n.message=t.message);break;case"statechange":n.state=t.state;break;case"presentationmodechange":case"resize":break;case"adfirstquartile":case"admidpoint":case"adthirdquartile":case"adbegin":case"adend":n.currentTime=t.currentTime,n.ad=CU(t.ad)}return BU(n)},minimizeCueHelper:function(t){var n={};return n.date=xU(t),n.type=t.type,n.cue=PU(t),n.track={uid:t.cue.track.uid},n},adReplacer:CU,adBreakReplacer:OU,removeCircularReferences:BU},VU=function(){this.stringify=lU,this.minimize=HU};function XU(){return Tn.self}function WU(){return XU().THEOplayerBridge}function qU(){return XU().THEOCueMirrorMap}function zU(){return XU().THEOplayerGlobalID}function GU(){var t=XU();if(t.THEOplayerBridge){var n=new hU;t.THEOplayerBridge=Go(n,t.THEOplayerBridge)}else t.THEOplayerBridge=new hU;t.THEOplayerUtils||(t.THEOplayerUtils=new VU),t.THEOCueMirrorMap||(t.THEOCueMirrorMap=new fU)}GU();var jU,QU=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).type=n,r.detail=i,r}return qt(n,t),n}(Vi),YU=function(t){function n(){return t.apply(this,arguments)||this}qt(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.ys(new QU(t,n))},i.addEventListener=function(t,n){this.ps(t,n)},i.removeEventListener=function(t,n){this.Ts(t,n)},n}(ka),ZU=function(t){function n(n,i){var r;return(r=t.call(this)||this).Rlt=function(t){r.Ilt.oj("THEOplayerABRSetTargetBuffer",t.Ux),r.ys(t)},r.Nlt=function(t){r.Ilt.oj("THEOplayerABRSetStrategy",t.Hx),r.ys(t)},r.Ilt=n,r.Dlt=i,r.Dlt.ps("Fx",r.Rlt),r.Dlt.ps("Vx",r.Nlt),r}return qt(n,t),T(n,[{key:"jx",get:function(){var t;switch(this.Hx.type){case jT.PERFORMANCE:return 1;case jT.QUALITY:return 0;case jT.BANDWIDTH:return(null===(t=this.Hx.metadata)||void 0===t?void 0:t.bitrate)&&!m(this.Hx.metadata.bitrate)?this.Hx.metadata.bitrate:0;default:return 0}}},{key:"Bc",get:function(){return this.Dlt.Bc}},{key:"Hx",get:function(){return this.Dlt.Hx},set:function(t){this.Dlt.Hx=t}},{key:"Ux",get:function(){return this.Dlt.Ux},set:function(t){this.Dlt.Ux=t}},{key:"Xx",get:function(){return this.Dlt.Xx},set:function(t){this.Dlt.Xx=t}}]),n}(Fi),JU=function(t){function n(){return t.apply(this,arguments)||this}return qt(n,t),n.prototype.mE=function(t,n,i,r){return!0},n}(tw),$U=function(){function t(t,n,i){this.Ro=void 0,this.Jo=t,this.Xu=i,this.oa=n}var n=t.prototype;return n.ub=function(t){throw new d("Not implemented yet.")},n.AE=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r,e;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Xu.Yu(n.Bu,i);case 2:return r=t.sent,t.next=5,r.xo();case 5:return e=t.sent,t.next=8,this.zL(e);case 8:return t.abrupt("return",e);case 9:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.us=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.zL(void 0);case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.zL=function(){var t=vn.coroutine(fn.mark(function t(n){var i;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.jL(n),t.next=3,i;case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.jL=function(){var t=vn.coroutine(fn.mark(function t(n){var i;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(i=this.Ro)){t.next=5;break}return t.next=4,i.Co(this.oa);case 4:this.Ro=void 0;case 5:if(!n){t.next=9;break}return t.next=8,n.Do(this.oa);case 8:this.Ro=n;case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.nb=function(t,n,i){throw new d("Not implemented yet.")},T(t,[{key:"hw",get:function(){return this.Jo}},{key:"El",get:function(){throw new d("Not implemented yet.")},set:function(t){throw new d("Not implemented yet.")}},{key:"Sl",get:function(){throw new d("Not implemented yet.")}},{key:"Xd",get:function(){throw new d("Not implemented yet.")}},{key:"Clt",get:function(){throw new d("Not implemented yet")}},{key:"Vd",get:function(){throw new d("Not implemented yet.")}},{key:"Olt",get:function(){throw new d("Not implemented yet")}},{key:"xlt",get:function(){throw new d("Not implemented yet")}}]),t}();!function(t){t.Plt="webkitneedkey",t.Blt="webkitkeymessage",t.Llt="webkitkeyerror"}(jU||(jU={}));var KU=function(t){function n(n,i){var r;return(r=t.call(this,jU.Plt)||this).initData=n,r.sessionId=i,r}return qt(n,t),n}(Vi),tF=function(t){function n(n,i){var r;return(r=t.call(this,jU.Blt)||this).message=n,r.destinationURL=i,r}return qt(n,t),n}(Vi),nF=function(t){function n(){return t.call(this,jU.Llt)||this}return qt(n,t),n}(Vi),iF=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).Fo=n,s.oo=i,s.Mlt=r,s.aa=e,s.Ko=u,s.Wo=new se,s.ta=void 0,s.Qo=new Qi,s.ia=new se,s.Ult=function(t){s.ta?(s.ta.ro(void 0),s.ta=void 0):s.jo("internal-error"),s.ys(new qi)},s.Flt=function(t){s.ta&&(s.ta.io(void 0),s.ta=void 0),s.ys(new Wi(jt(s),"license-request",re(t.message).buffer,t.destinationURL||void 0))},s}qt(n,t);var i=n.prototype;return i.yo=function(){var t=vn.coroutine(fn.mark(function t(n,i,r){var e;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r&&r.fairplay&&r.fairplay.ra){t.next=3;break}throw new l("Expected FairPlay contentId to be defined but was "+e+".");case 3:return t.next=5,this.Hlt(ne(i),e);case 5:this.jo("usable"),this.ia.io(),this.ia=new se;case 8:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.mo=function(){var t=vn.coroutine(fn.mark(function t(n){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.po=function(){var t=vn.coroutine(fn.mark(function t(n){var i;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(i=ne(n)).byteLength){t.next=3;break}throw new l("Cannot call update with an empty response.");case 3:return this.ta=new se,this.Mlt.po(this.aa,i),t.next=7,this.ta.to;case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.wo=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.ia;case 2:return this.Mlt.Ts(jU.Blt,this.Flt),this.Mlt.Ts(jU.Llt,this.Ult),this.ia.fs(),this.Wo.io(void 0),t.abrupt("return",this.Wo.to);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.ko=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),i.Hlt=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=Ne(n,i,this.Ko),this.Mlt.ps(jU.Blt,this.Flt),this.Mlt.ps(jU.Llt,this.Ult),this.Mlt.Qb(this.aa,r);case 4:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.jo=function(t){this.Qo.qs(),this.Qo.Ws(ji,t),this.ys(new Xi(this))},T(n,[{key:"So",get:function(){return this.aa}},{key:"To",get:function(){return NaN}},{key:"bo",get:function(){return this.Wo.to}},{key:"Eo",get:function(){return this.Qo}}]),n}(Fi),rF=function(){function t(t,n,i){this.oo=n,this.Fo=i,this.Vlt=void 0,this.aa=void 0,this.Ko=void 0,this.Mlt=t}var i=t.prototype;return i.Io=function(){var t=vn.coroutine(fn.mark(function t(i){var r;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Ko){t.next=2;break}throw new De(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return r=new iF(this.Fo,this.oo,this.Mlt,this.aa,this.Ko),this.Vlt=r,t.abrupt("return",r);case 5:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.No=function(t){return this.Ko=ne(t),vn.resolve(!0)},i.Do=function(){var t=vn.coroutine(fn.mark(function t(n){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.webkitSetMediaKeys(this);case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Co=function(){var t=vn.coroutine(fn.mark(function t(n){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.webkitSetMediaKeys(null);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.createSession=function(){throw new d("Whoops.")},T(t,[{key:"keySystem",get:function(){return this.oo}},{key:"sessionId",set:function(t){this.aa=t}}]),t}(),eF=function(){function t(t,n,i){this.Xlt=t,this.oo=n,this.Jo=i;var r=ke(i)||"video/mp4";this.Fo=pe(r)}var n=t.prototype;return n.Po=function(){return this.Jo},n.xo=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new rF(this.Xlt,this.oo,this.Fo));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),T(t,[{key:"Bo",get:function(){return this.oo}}]),t}(),uF=function(){function t(t){this.Xlt=t}return t.prototype.Yu=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r,e,u;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<i.length)){t.next=9;break}if(e=i[r],!(u=me(sF,n,e))){t.next=6;break}return t.abrupt("return",new eF(this.Xlt,n,u));case 6:r++,t.next=1;break;case 9:throw new l("Unsupported key system configuration for "+n);case 10:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),t}();function sF(t,n){return t===Fn}var oF,aF=function(t){function n(n,i,r){var e;return void 0===r&&(r=new uF(i)),(e=t.call(this)||this).vE=void 0,e.TV=new Kl,e.Wlt=!1,e.$o=null,e.qlt={wl:0,yl:0,ml:0,kl:0,pl:0,Al:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},e.zlt=function(t){"boolean"==typeof t.detail.casting&&(e.Wlt=t.detail.casting,e.ys(new Nv(e.Wlt)))},e.Glt=function(t){e.aa=t.sessionId,e.$o&&(e.$o.sessionId=e.aa);var n=t.initData;if(n){var i=jI(n);if(!i)return;e.ys(new zi(On,i))}else e.ys(new zi(On,new ArrayBuffer(0)))},e.jlt=n,e.Xlt=i,e.Xlt.ps(jU.Plt,e.Glt),e.Xu=r,e.Qlt(),e}qt(n,t);var i=n.prototype;return i.ZL=function(){var t=vn.coroutine(fn.mark(function t(n){var i,r;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0;case 1:if(!(i<n.length)){t.next=8;break}if((r=n[i]).Pu!==Kg.SE){t.next=5;break}return t.abrupt("return",r);case 5:i++,t.next=1;break;case 8:return t.abrupt("return",void 0);case 9:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.us=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.fh();case 2:this.bs(),this.Ylt(),this.Xlt.Ts(jU.Plt,this.Glt);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.il=function(){throw new d("Not implemented yet")},i.nb=function(t,n,i,r,e,u){throw new d("Not implemented yet")},i.US=function(){return!1},i.HS=function(t,n,i,r){throw new d("Not implemented yet")},i.ub=function(t){throw new d("Not implemented yet")},i.mo=function(){var t=vn.coroutine(fn.mark(function t(n){var i=this;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.TV.vb(function(){var t=vn.coroutine(fn.mark(function t(r){var e;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.Pu!==Kg.SE){t.next=7;break}return bi(r),e=new $U(n,i,i.Xu),i.vE=e,t.abrupt("return",e);case 7:throw new d("Could not create non-static media source");case 8:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.zd=function(){throw new d("Not implemented yet")},i.qd=function(){throw new d("Not implemented yet")},i.fh=function(){var t=this;return this.TV.fs(),this.TV.vb(vn.coroutine(fn.mark(function n(){return fn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0===t.vE){n.next=4;break}return n.next=3,t.vE.us();case 3:t.vE=void 0;case 4:case"end":return n.stop()}},n)})))},i.Qs=function(t,n){throw new d("Not implemented yet")},i.GS=function(t){throw new d("Not implemented yet")},i.nl=function(){throw new d("Not implemented yet")},i.jS=function(){return this.qlt},i.Qlt=function(){this.jlt.addEventListener("airPlayIsCasting",this.zlt)},i.Ylt=function(){this.jlt.removeEventListener("airPlayIsCasting",this.zlt)},i.webkitSetMediaKeys=function(t){this.$o=t||null,this.$o&&(this.$o.sessionId=this.aa)},i.$X=function(){},i.fF=function(){throw new d("Not implemented yet")},i.vF=function(){throw new d("Not implemented yet")},i.KX=function(t){},T(n,[{key:"ll",get:function(){throw new d("Not implemented yet")}},{key:"SS",get:function(){throw new d("The mediaElement_ property is deprecated")}},{key:"dl",get:function(){throw new d("Not implemented yet")}},{key:"Av",get:function(){throw new d("Not implemented yet")}},{key:"JB",get:function(){throw new d("Not implemented yet")}},{key:"bv",get:function(){throw new d("Not implemented yet")}},{key:"Tv",get:function(){throw new d("Not implemented yet")}},{key:"xs",get:function(){throw new d("Not implemented yet")}},{key:"Cg",get:function(){throw new d("Not implemented yet")}},{key:"gl",get:function(){return this.Wlt}},{key:"Sv",get:function(){throw new d("Not implemented yet")}},{key:"Rv",get:function(){throw new d("Not implemented yet")}},{key:"Iv",get:function(){throw new d("Not implemented yet")}},{key:"Tl",get:function(){throw new d("Not implemented yet")}},{key:"Mh",get:function(){throw new d("Not implemented yet")}},{key:"Sl",get:function(){throw new d("Not implemented yet")}},{key:"Nv",get:function(){throw new d("Not implemented yet")}},{key:"tW",get:function(){throw new d("Not implemented yet")}},{key:"Ov",get:function(){throw new d("Not implemented yet")},set:function(t){throw new d("Not implemented yet")}},{key:"Ja",get:function(){throw new d("Not implemented yet")}},{key:"XS",get:function(){throw new d("Not implemented yet")}},{key:"webkitKeys",get:function(){return this.$o}},{key:"iW",get:function(){return yS}},{key:"Xd",get:function(){throw new d("Not implemented yet")}},{key:"QS",get:function(){throw new d("Not implemented yet")}},{key:"nW",get:function(){return!0}}]),n}(ma),cF=function(t){function n(n){var i;return(i=t.call(this,Ta.Uf)||this).qlt=n,i}return qt(n,t),n}(Vi);function hF(t){switch(t.type){case oF.qW:return t.value;case oF.Elt:return $o(t.value);case oF.Tlt:return tr(t.value);default:return}}function fF(t){return function(t){return void 0!==t.name&&void 0!==t.message}(t)&&void 0!==t.timestamp&&void 0!==t.code}!function(t){t.qW="daterange-ca-type_string",t.Elt="daterange-ca-type_number",t.Tlt="daterange-ca-type_arraybuffer"}(oF||(oF={}));var vF=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,e,i,r)||this).KT=n,s.Zlt=u,s}return qt(n,t),T(n,[{key:"name",get:function(){return this.KT}},{key:"timestamp",get:function(){return this.Zlt}}]),n}(De),dF=function(t){function n(n,i,r,e,u,s,o,a){var c;return(c=t.call(this,n,i,r,e,a)||this).url=u,c.status=s,c.errorComment=o,c}return qt(n,t),n}(vF),lF=function(t){function n(n,i,r,e,u){var s;(s=t.call(this)||this).dL=0,s.gF=!1,s.sS=void 0,s.oS=void 0,s.lL=!0,s.gL=1,s.Jlt=xf.ik(),s.jU=xf.ik(),s.wF=!1,s.OV=xf.ik(),s.BF=pa.Zh,s.DE=pa.Zh,s.qlt={wl:0,yl:0,ml:0,kl:0,pl:0,Al:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},s.vE=void 0,s.setCurrentTime=function(){var t=vn.coroutine(fn.mark(function t(n){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s.Sl.length){t.next=4;break}return s.dL=n,t.next=4,s.jlt.Rs("seekablechange");case 4:s.dL=s.updateCurrentTime(n),s.Ilt.oj("THEOplayerSetCurrentTime",s.dL),s._L=!0,s.ys(new Da(s.dL));case 8:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),s.$lt=function(t){if(t.detail){for(var n=t.detail.buffered,i=[],r=0;r<n.length;r++){var e=n[r];i.push(e.start,e.end)}s.Jlt=new xf(i),s.ys(new SS(s.Av))}},s.Klt=function(t){s.BF=t.detail.readyState,s.ys(new Sa(+t.detail.currentTime,s.Mh)),s.t_t()},s.n_t=function(t){s.BF=t.detail.readyState,s.ys(new Ea(+t.detail.currentTime,s.Mh)),s.t_t()},s.i_t=function(t){if(t.detail){var n=+t.detail.duration;s._F=n,s.ys(new Ba(s.bv))}},s.cdt=function(t){t.detail&&(s.gF=!0,s.ys(new Oa(+t.detail.currentTime)))},s.cS=function(t){if(t.detail&&t.detail.error&&t.detail.errorObject){var n,i=JSON.parse(t.detail.errorObject);fF(n=i)&&void 0!==n.url&&void 0!==n.status&&void 0!==n.errorComment?(s.oS=new dF(i.name,i.message,void 0,i.code,i.url,i.status,i.errorComment,i.timestamp),s.sS=Zc(s.oS),s.ys(new za(s.oS))):fF(i)&&(s.oS=new vF(i.name,i.message,void 0,i.code,i.timestamp),s.sS=Zc(s.oS),s.ys(new za(s.oS)))}},s.hdt=function(t){s.ys(new RS)},s.r_t=function(t){s.BF=t.detail.readyState,s.ys(new Ca(+t.detail.currentTime,s.Mh)),s.t_t()},s.e_t=function(){var t=vn.coroutine(fn.mark(function t(n){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s.Sl.length){t.next=3;break}return t.next=3,s.jlt.Rs("seekablechange");case 3:s.BF=n.detail.readyState,s.ys(new La(+n.detail.currentTime,s.Mh)),s.t_t();case 6:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),s.idt=function(t){t.detail&&s.ys(new Ma(+t.detail.currentTime))},s.rdt=function(t){t.detail&&s.ys(new Fa(+t.detail.currentTime))},s.u_t=function(t){if(t.detail){for(var n=t.detail.played,i=[],r=0;r<n.length;r++){var e=n[r];i.push(e.start,e.end)}s.OV=new xf(i).Pm(.05)}},s.xdt=function(t){t.detail&&s.ys(new Rw(+t.detail.currentTime))},s.sdt=function(t){t.detail&&(s.gL=t.detail.playbackRate,s.ys(new Pa(+t.detail.currentTime,s.gL)))},s.s_t=function(t){if(t.detail){for(var n=t.detail.seekable,i=[],r=0;r<n.length;r++){var e=n[r];i.push(e.start,e.end)}s.jU=new xf(i)}},s.udt=function(t){t.detail&&(s.dL=+t.detail.currentTime,s._L=!1,s.ys(new xa(s.dL,s.o_t)),s.ys(new Na(s.dL)))},s.edt=function(t){if(t.detail){var n=Number(t.detail.currentTime);n<s._F&&(s.gF=!1),s._L=!0,s.ys(new Da(n))}},s.a_t=function(t){t.detail&&(t.detail.currentDate&&(s.o_t=new Date(1e3*t.detail.currentDate)),s.dL=+t.detail.currentTime,s.ys(new xa(s.dL,s.o_t)))},s.c_t=function(t){s.h_t=t.detail.height,s.f_t=t.detail.width},s.v_t=function(t){t.detail&&s.ys(new Sw(+t.detail.currentTime))},s.bdt=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,enabled:t.detail.enabled};s.Hd.oh(new Tv(n))},s.d_t=function(t){for(var n,i,r=t.detail.lang,e=t.detail.label,u=0;u<s.Pd.lh;u++){var o=s.Hd.sh(u);o.Ih==r&&o.Rh==e?i=s.Pd.sh(u):1==o.bh&&(n=s.Pd.sh(u))}i&&n&&(i.bh=!0,n.bh=!1)},s.Edt=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,selected:t.detail.selected};s.Vd.oh(new Iv(n))},s.IG=function(t){var n,i=t.detail.kind,r=t.detail.type;i===Hf.T_&&r===gf.ID3?(n=new DI("",t.detail.label)).Lh=aa.Oh:i===Hf.T_&&r===gf.DATE_RANGE?(n=new fC,s.l_t=n):n=new bR(i,t.detail.label,t.detail.lang,t.detail.isDefault,r),s.GV.oh(n),s.CX.oh(n)},s.__t=function(t){for(var n=0,i=t.detail;n<i.length;n++){var r=i[n],e=r.Id3FrameId,u={id:e,text:r.Id3FrameText};"TXXX"!==e&&"TXX"!==e||(u.description=r.Id3FrameDescription);var o=new II($o(r.startTime),u);o.Th=r.uid;var a=s.g_t();a&&a.eb(o)}},s.w_t=function(t){for(var n,i=0,r=t.detail;i<r.length;i++){var e=r[i],u=new zv($o(e.startTime),$o(e.endTime),e.content,!1," "),o=null!==(n=s.y_t(Hf.ck))&&void 0!==n?n:s.y_t(Hf.hk);o&&(o.Pu=gf.WEBVTT,o.eb(u))}},s.AS=function(t){t.type===Ta.uf&&(s.sS=Zc(t.errorObject)),s.gs(t)},s.m_t=function(t){t.detail&&(s.qlt.yl=t.detail.corruptedVideoFrames,s.qlt.wl=t.detail.droppedVideoFrames,s.ys(new cF(s.Cd)))},s.k_t=function(t){var n=function(t){var n=t.detail,i=[];return n.forEach(function(t){var n={Th:t.id};if(void 0!==t.startDate&&(n.QS=new Date(t.startDate)),void 0!==t.endDate&&(n.dY=new Date(t.endDate)),void 0!==t.customAttributes){var r={};for(var e in t.customAttributes){var u=hF(t.customAttributes[e]);void 0!==u&&(r[e]=u)}n.bY=r}void 0!==t.scte35Cmd&&(n.EY=tr(t.scte35Cmd)),void 0!==t.scte35In&&(n.NY=tr(t.scte35In)),void 0!==t.scte35Out&&(n.RY=tr(t.scte35Out)),void 0!==t.startTime&&(n.Ok=t.startTime),n._Y=t.class,n.bv=$o(t.duration),n.mY=$o(t.plannedDuration),i.push(n)}),i}(t);n.forEach(function(t){var i=null!=t.Ok?t.Ok:(new Date).getTime(),r=new eC(t,i);s.l_t.eb(r),s.l_t.po(n,i)})};var o=e.uid;s.Ilt=s.getSdkBridge(o),s.jlt=new YU,WU()[o].sdkEventBus=s.jlt,s.Pd=new _v,s.Bd=new _v;var a=s.p_t(r);return s.JA=new JM(jt(s)),s.CX=new RI(jt(s)),s.CS=new Gl(s.JA,a),s.GV=new Dl,s.IX=new LI(jt(s)),s.IX.kh=s.GV,s.NX=new MI(s.JA,s.IX),s.Ld=new ER([s.GV,s.CS.lg,s.NX.lg]),s.Xlt=s.getFairPlayControllerBridge(s.Ilt),s.wE=new aF(s.jlt,s.Xlt),s.IS=new JU(s.wE,a),s.IS.ps(xw,s.AS),s.observeMediaElement(),s.DS(),s.wR=new ZU(s.Ilt,u),s.wR.ps("Fx",function(){s.Ilt.oj("THEOplayerSetPreferredForwardBufferDuration",s.wR.Ux)}),s}qt(n,t);var i=n.prototype;return i.sl=function(){return Jw},i.nl=function(){this.Ilt.oj("THEOplayerShow",{})},i.il=function(){this.Ilt.oj("THEOplayerHide",{})},i.A_t=function(){var t=this;this.Ilt.oj("THEOplayerSetInitialPreferredPeakBitRate",this.wR.jx);this.ps("playing",function n(){t.Ilt.oj("THEOplayerSetInitialPreferredPeakBitRate",0),t.Ts("playing",n)})},i.Qd=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r,e,u;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Kvt=n,r=dn(dn({},i),{sources:{src:n.src,type:Qa._v,contentProtection:n.contentProtection,ssai:n.ssai,crossOrigin:n.crossOrigin,hlsDateRange:n.hlsDateRange,isAdvertisement:n.isAdvertisement}}),this.Ilt.oj("THEOplayerSourceChange",r),e={Pu:Kg.SE,Hh:n.src,OS:n.type,xS:[],PS:n.crossOrigin,BS:i.metadata&&i.metadata.title},t.next=6,this.wE.mo(e);case 6:this.vE=t.sent,this.IS.Do(this.vE),this.IS.wb(this.LS(n)),i.textTracks&&(u=i.textTracks.filter(function(t){return t.format!==gf.WEBVTT})).length>0&&this.MS(u),Jl(this.Xd),this.A_t();case 12:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.LS=function(t){if(t.contentProtection&&t.contentProtection.fairplay){return{$b:t.contentProtection||{},mb:[{Bo:Xn,kb:[],tT:void 0,ra:void 0}],TE:[],EE:["video/mp4"]}}},i.qd=function(){this.lL=!1,this.ys(new Ma(this.Av)),this.Ilt.oj("THEOplayerPlay",{})},i.zd=function(){this.lL=!0,this.ys(new Fa(this.Av)),this.Ilt.oj("THEOplayerPause",{})},i.ul=function(){},i.fh=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.dL=0,this.gF=!1,this.sS=void 0,this.oS=void 0,this.lL=!0,this.gL=1,this._F=void 0,this.jU=xf.ik(),this.Jlt=xf.ik(),this.h_t=void 0,this.f_t=void 0,this.BF=pa.Zh,this.DE=pa.Zh,this.Pd.fh(),this.Bd.fh(),this.GV.fh(),this.Ld.fh(),t.next=19,this.NX.fh();case 19:return this.IX.fh(),t.next=22,this.CS.fh();case 22:return this.JA.fh(),this.CX.fh(),this.Kvt=void 0,t.next=27,this.wE.fh();case 27:return t.next=29,this.IS.fh();case 29:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Zd=function(){this.Ilt.oj("THEOplayerShowAirPlayPicker",{})},i.Jd=function(){this.Ilt.oj("THEOplayerStopAirPlayPicker",{})},i.updateMetrics=function(t){this.Cd.yl=t.yl,this.Cd.wl=t.wl},i.vh=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.fh();case 2:return this.bs(),this.unobserveMediaElement(),this.qS(),t.next=7,this.IS.vh();case 7:return t.next=9,this.wE.us();case 9:return this.Pd.vh(),this.Bd.vh(),this.GV.vh(),this.Ld.vh(),this.IX.vh(),t.next=16,this.NX.vh();case 16:return t.next=18,this.CS.vh();case 18:this.JA.vh(),this.CX.vh();case 20:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.MS=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.CS.KA(i)}},i.t_t=function(){var t=this.DE,n=this.BF;t!==n&&(this.DE=n,this.ys(new ba(this.Av,n)))},i.observeMediaElement=function(){this.wE.ps(Ta.nf,this.gs),this.jlt.addEventListener("play",this.idt),this.jlt.addEventListener("pause",this.rdt),this.jlt.addEventListener("seeking",this.edt),this.jlt.addEventListener("seeked",this.udt),this.jlt.addEventListener("ratechange",this.sdt),this.jlt.addEventListener("durationchange",this.i_t),this.jlt.addEventListener("timeupdate",this.a_t),this.jlt.addEventListener("waiting",this.v_t),this.jlt.addEventListener("playing",this.xdt),this.jlt.addEventListener("ended",this.cdt),this.jlt.addEventListener("loadedmetadata",this.e_t),this.jlt.addEventListener("loadeddata",this.r_t),this.jlt.addEventListener("loadstart",this.hdt),this.jlt.addEventListener("canplay",this.Klt),this.jlt.addEventListener("canplaythrough",this.n_t),this.jlt.addEventListener("error",this.cS),this.jlt.addEventListener("seekablechange",this.s_t),this.jlt.addEventListener("videosizechange",this.c_t),this.jlt.addEventListener("bufferedchange",this.$lt),this.jlt.addEventListener("playedchange",this.u_t),this.jlt.addEventListener("metricschange",this.m_t),this.jlt.addEventListener("addDateRangeCues",this.k_t)},i.unobserveMediaElement=function(){this.wE.Ts(Ta.nf,this.gs),this.jlt.removeEventListener("play",this.idt),this.jlt.removeEventListener("pause",this.rdt),this.jlt.removeEventListener("seeking",this.edt),this.jlt.removeEventListener("seeked",this.udt),this.jlt.removeEventListener("ratechange",this.sdt),this.jlt.removeEventListener("durationchange",this.i_t),this.jlt.removeEventListener("timeupdate",this.a_t),this.jlt.removeEventListener("waiting",this.v_t),this.jlt.removeEventListener("playing",this.xdt),this.jlt.removeEventListener("ended",this.cdt),this.jlt.removeEventListener("loadedmetadata",this.e_t),this.jlt.removeEventListener("loadeddata",this.r_t),this.jlt.removeEventListener("loadstart",this.hdt),this.jlt.removeEventListener("canplay",this.Klt),this.jlt.removeEventListener("canplaythrough",this.n_t),this.jlt.removeEventListener("error",this.cS),this.jlt.removeEventListener("seekablechange",this.s_t),this.jlt.removeEventListener("videosizechange",this.c_t),this.jlt.removeEventListener("bufferedchange",this.$lt),this.jlt.removeEventListener("playedchange",this.u_t),this.jlt.removeEventListener("metricschange",this.m_t),this.jlt.removeEventListener("addDateRangeCues",this.k_t)},i.updateCurrentTime=function(t){var n=this.Sl.start(0),i=this.Sl.end(0);return g.min(g.max(t,n),i)},i.g_t=function(){for(var t=0,n=this.Ld.dh;t<n.length;t++){var i=n[t];if(i.Sh===Hf.T_&&i.Pu===gf.ID3)return i}},i.y_t=function(t){for(var n=0,i=this.Ld.dh;n<i.length;n++){var r=i[n],e=r.Lh===aa.xh,u=r.Sh===t;if(e&&u)return r}},i.DS=function(){this.jlt.addEventListener("addaudiotrack",this.bdt),this.jlt.addEventListener("enableaudiotrack",this.d_t),this.jlt.addEventListener("addvideotrack",this.Edt),this.jlt.addEventListener("addtexttrack",this.IG),this.jlt.addEventListener("addtexttrackid3cues",this.__t),this.jlt.addEventListener("addtexttrackcues",this.w_t)},i.qS=function(){this.jlt.removeEventListener("addaudiotrack",this.bdt),this.jlt.removeEventListener("enableaudiotrack",this.d_t),this.jlt.removeEventListener("addvideotrack",this.Edt),this.jlt.removeEventListener("addtexttrack",this.IG),this.jlt.removeEventListener("addtexttrackid3cues",this.__t),this.jlt.removeEventListener("addtexttrackcues",this.b_t)},i.vl=function(){},T(n,[{key:"Hd",get:function(){return this.Pd}},{key:"dl",get:function(){return this.Jlt.mm()}},{key:"ll",get:function(){return this.o_t?this.o_t:null},set:function(t){this.Ilt.oj("THEOplayerSetCurrentProgramDateTime",t.getTime()),this.o_t=t}},{key:"Av",get:function(){return this.dL},set:function(t){this.setCurrentTime(t)}},{key:"bv",get:function(){return this._F}},{key:"Tv",get:function(){return this.gF}},{key:"xs",get:function(){return this.sS}},{key:"Ev",get:function(){return this.oS}},{key:"Wd",get:function(){}},{key:"gl",get:function(){return this.wE.gl}},{key:"Cd",get:function(){return this.qlt}},{key:"Sv",get:function(){return this.wF},set:function(t){this.wF!==t&&(this.Ilt.oj("THEOplayerSetMuted",t),this.wF=t,this.ys(new Ia(this.Av,t?0:1)))}},{key:"Rv",get:function(){return this.lL}},{key:"Iv",get:function(){return this.gL},set:function(t){this.Ilt.oj("THEOplayerSetPlaybackRate",t),this.gL=t}},{key:"Tl",get:function(){return this.OV.mm()}},{key:"El",get:function(){return qw.vR},set:function(t){}},{key:"Mh",get:function(){return this.BF}},{key:"Sl",get:function(){return this.jU.mm()}},{key:"Nv",get:function(){return this._L}},{key:"QS",get:function(){}},{key:"Xd",get:function(){return this.Ld}},{key:"Dv",get:function(){return this.h_t}},{key:"Cv",get:function(){return this.f_t}},{key:"Ov",get:function(){return 1},set:function(t){}},{key:"Vd",get:function(){return this.Bd}},{key:"bl",get:function(){return!0}}]),n}(ma),_F=function(){function t(){this.YS=Dw.rS}var n=t.prototype;return n.ZS=function(n,i){if(n.isAdvertisement)return!1;if(i.vr&&i.vr[360])return!1;if(rc(n.type))return!1;var r=n.contentProtection;if(r&&!Wh(r)){if(!Gh(r))return!1;if(!t.Pdt(r))return!1}return!0},t.Pdt=function(t){return Boolean(t.fairplay)||Boolean(t.aes128)},n.JS=function(){return!1},t}(),gF=function(){function t(){this.T_t=u.webkit}return t.prototype.oj=function(t,n){this.T_t.messageHandlers[t]&&this.T_t.messageHandlers[t].postMessage(n)},t}(),wF=function(t){function n(n){var i;return(i=t.call(this)||this).E_t=function(t){var n=tr(t.detail.initData),r=t.detail.sessionId;i.ys(new KU(n,r))},i.S_t=function(t){var n=new k(or(t.detail.message)),r=t.detail.destinationURL;i.ys(new tF(n,r))},i.R_t=function(t){i.ys(new nF)},i.Ilt=n,i.jlt=new YU,WU().fairplayController={sdkEventBus:i.jlt},i.u$(),i}qt(n,t);var i=n.prototype;return i.u$=function(){this.jlt.addEventListener(jU.Plt,this.E_t),this.jlt.addEventListener(jU.Blt,this.S_t),this.jlt.addEventListener(jU.Llt,this.R_t)},i.Qb=function(t,n){var i={data:ar(n.buffer),sessionId:t};this.Ilt.oj("THEOplayerCreateKeySession",i)},i.po=function(t,n){var i={data:ar(n.buffer),sessionId:t};this.Ilt.oj("THEOplayerUpdateKey",i)},n}(ma),yF=function(t){function n(n,i,r,e,u,s){var o;o=t.call(this,n,i,r,e,u)||this;var a=i.TS(Tf.ld);return o.XG=new KI,o.XG.KX(n),o.WG=new gD(o.XG._l,a.JB,o.Xd,s,a.XS),i.zS(a),Tn.document.querySelector(".vjs-tech")?Tn.document.querySelector(".player-div").classList.add("theo-ios-sdk"):Tn.document.querySelector(".player-div").style.background="transparent",o}qt(n,t);var i=n.prototype;return i.nl=function(){t.prototype.nl.call(this),this.XG.nl()},i.il=function(){t.prototype.il.call(this),this.XG.il()},i.Yd=function(){return!0},i.getSdkBridge=function(){return new gF},i.getFairPlayControllerBridge=function(){return kF},i.p_t=function(t){return t},i.vh=function(){var n=vn.coroutine(fn.mark(function n(){return fn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Tn.document.querySelector(".vjs-tech")?Tn.document.querySelector(".player-div").classList.remove("theo-ios-sdk"):Tn.document.querySelector(".player-div").style.background="#000000",n.next=3,t.prototype.vh.call(this);case 3:this.WG.vh(),this.XG.vh();case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),n}(lF);Vw(new(function(t){function n(){return t.apply(this,arguments)||this}qt(n,t);var i=n.prototype;return i.Pl=function(t,n,i,r,e,u){return new yF(t,n,i,r,e,u)},i.ZS=function(n,i){if(n.type){var r=Ze();if(!(r&&r.canPlayType&&r.canPlayType(n.type)))return!1}return t.prototype.ZS.call(this,n,i)},n}(_F)));var mF,kF=new wF(new gF),pF=function(t){function n(){return t.call(this,"I_t")||this}return qt(n,t),n.prototype.Lc=function(){return new AF},n}(Oo),AF=function(t){function n(){return t.call(this,"statechange")||this}return qt(n,t),n}(Vi);!function(t){t.IDLE="idle",t.LOADING="loading",t.DONE="done",t.ERROR="error",t.EVICTED="evicted"}(mF||(mF={}));var bF=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).N_t=new ma,n.gs=function(t){n.ys(t)},n}qt(n,t);var i=n.prototype;return i.Lc=function(){return n=TF(t=this),i=new fE(t,n),n.addEventListener=function(t,n){i.ps(t,n)},n.removeEventListener=function(t,n){i.Ts(t,n)},n;var t,n,i},i.ps=function(t,n){this.N_t.ps(t,n)},i.Xh=function(t){this.N_t.Xh(t)},i.bs=function(){this.N_t.bs()},i.ys=function(t){this.N_t.ys(t)},i.Ts=function(t,n){this.N_t.Ts(t,n)},i.Ss=function(t){this.N_t.Ss(t)},i.Wh=function(t){this.N_t.Wh(t)},i.Rs=function(t,n){return this.N_t.Rs(t,n)},n}(function(){function t(){this.Fs=[],this.Pc=void 0}var n=t.prototype;return n.Lc=function(){return TF(this)},n.sh=function(t){return this.Fs[t]},n.Bm=function(t){this.Fs.push(t),this.Pc&&this.Pc.push(t.Bc),this.D_t(t)},n.C_t=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.Bm(i)}},n.O_t=function(t,n){n>=0&&n<=this.Fs.length&&(this.Fs.splice(n,0,t),this.Pc&&this.Pc.splice(n,0,t.Bc),this.D_t(t))},n.gk=function(t){return li(this.Fs,t)},n.ko=function(t){this.x_t(this.Fs.indexOf(t))},n.x_t=function(t){if(t>=0&&t<this.Fs.length){var n=this.Fs[t];di(this.Fs,t),this.Pc&&di(this.Pc,t),this.P_t(n)}},n.qs=function(){var t=this.Fs.slice();gi(this.Fs),this.Pc&&gi(this.Pc);for(var n=0;n<t.length;n++){var i=t[n];this.P_t(i)}},T(t,[{key:"B_t",get:function(){return this.Fs}},{key:"lh",get:function(){return this.Fs.length}},{key:"Bc",get:function(){return this.Pc||(this.Pc=this.Lc()),this.Pc}}]),t}());function TF(t){var n=t.B_t.map(function(t){return t.Bc});return n.item=function(n){n|=0;var i=t.sh(n);return i&&i.Bc||void 0},n}var EF,SF=function(t){function n(n){var i;return(i=t.call(this,"addtask")||this).task=n,i}return qt(n,t),n}(Vi),RF=function(t){function n(n){var i;return(i=t.call(this,"M_t")||this).L_t=n,i}return qt(n,t),n.prototype.Lc=function(){return new SF(this.L_t.Bc)},n}(Oo),IF=function(t){function n(n){var i;return(i=t.call(this,"removetask")||this).task=n,i}return qt(n,t),n}(Vi),NF=function(t){function n(n){var i;return(i=t.call(this,"U_t")||this).task=n,i}return qt(n,t),n.prototype.Lc=function(){return new IF(this.task.Bc)},n}(Oo),DF=function(t){function n(){return t.call(this)||this}qt(n,t);var i=n.prototype;return i.D_t=function(t){this.ys(new RF(t))},i.P_t=function(t){this.ys(new NF(t))},n}(bF);!function(t){t.UNINITIALISED="uninitialised",t.INITIALISED="initialised"}(EF||(EF={}));var CF=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).F_t=EF.UNINITIALISED,e.ob=new DF,e.H_t=i,e.V_t=r,e.p8=n,e.$d(),e}qt(n,t);var i=n.prototype;return i.$d=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.X_t();case 2:this.W_t(EF.INITIALISED);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.X_t=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.q_t();case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0);case 8:case"end":return t.stop()}},t,this,[[0,5]])}));return function(){return t.apply(this,arguments)}}(),i.q_t=function(){var t=vn.coroutine(fn.mark(function t(){var n,i,r,e;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.p8.FK();case 2:for(n=t.sent,i=0;i<n.length;i++)r=n[i],e=this.H_t.z_t(r.id,r.sourceDescription,r.parameters,this.V_t),this.G_t(e),this.ob.Bm(e);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.W_t=function(t){this.F_t=t,this.ys(new pF)},i.z_t=function(t,n,i){void 0===i&&(i="persistent");var r=this.H_t.j_t(t,n,i);return this.Q_t(r,i),this.ob.Bm(r),this.G_t(r),r},i.Q_t=function(){var t=vn.coroutine(fn.mark(function t(n,i){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.Y_t(n,i);case 3:t.next=8;break;case 5:throw t.prev=5,t.t0=t.catch(0),d("Unable to persist task - "+t.t0);case 8:case"end":return t.stop()}},t,this,[[0,5]])}));return function(n,i){return t.apply(this,arguments)}}(),i.Y_t=function(){var t=vn.coroutine(fn.mark(function t(n,i){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.p8.LK({key:n.Th,id:n.Th,sourceDescription:n.aR,parameters:n.BA},i);case 2:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.G_t=function(t){var n=this;t.ps("I_t",function(){t.YA===mF.EVICTED&&n.ob.ko(t)})},T(n,[{key:"YA",get:function(){return this.F_t}},{key:"Z_t",get:function(){return this.ob}}]),n}(Fi);function OF(t,n){return function(t,n){var i=t.Ja&&n.Ja,r=t.Cg&&n.Cg;return i||r?i&&r?t.Ja*t.Cg-n.Ja*n.Cg:i?t.Ja-n.Ja:r?t.Cg-n.Cg:(t.Ja||1)*(t.Cg||1)-(n.Ja||1)*(n.Cg||1):0}(t,n)||function(t,n){return t.yC-n.yC}(t,n)}var xF=function(t){function n(){return t.call(this,"progress")||this}return qt(n,t),n}(Vi),PF=function(t){function n(){return t.call(this,"oK")||this}return qt(n,t),n.prototype.Lc=function(){return new xF},n}(Oo),BF=function(){function t(t,n,i){if(this.J_t=t,this._k=n,this.$_t=i,0===this._k.size)this.K_t=xf.ik();else{var r=new xf([-1/0,1/0]);this._k.forEach(function(t){r=r.Nm(t.timeRanges)}),this.K_t=r}}return t.prototype.hm=function(t){return!!Qo(this._k,t._k)&&(!!Mt(this.J_t,t.J_t)&&(!!Mt(this.Jm,t.Jm)&&(!!Mt(this.tgt,t.tgt)&&this.ngt.qm(t.ngt))))},t.igt=function(){return MF},T(t,[{key:"Jm",get:function(){return this.$_t}},{key:"rgt",get:function(){return this.J_t}},{key:"tgt",get:function(){return this.ngt.Jm}},{key:"egt",get:function(){var t=0,n=0;return this._k.forEach(function(i){t+=i.timeRanges.Jm,n+=i.totalQualityDurationToCache}),0===n?0:g.min(1,t/n)}},{key:"ngt",get:function(){return this.K_t}}]),t}(),LF=_n(),MF=new BF(0,LF,NaN);function UF(t,n){if(X(t)){if(jn(t,"%"))return y(t)/100*n;throw new d("Unexpected - Invalid string supplied as amount to cache.")}return n<t?n:t}var FF,HF=function(t){function n(n,i){return t.call(this,n,i)||this}return qt(n,t),T(n,[{key:"name",get:function(){return"ugt"}}]),n}(Yt);function VF(t,n,i,r){var e,u=[],s=hi(i,function(t){return t.sgt===Nn});if(s){for(var o=0;o<i.length;o++){var a=i[o];if(a.sgt!==Nn)for(var c=0,h=zn(a.sgt);c<h.length;c++){var f=h[c];u.push({Bo:f,kb:a.ogt?[a.ogt]:[],tT:null!==(e=a.tT)&&void 0!==e?e:s.tT,ra:void 0})}}if(u.length)return{$b:t,mb:u,TE:n===Tf.dd?r.slice():[],EE:n===Tf.ld?r.slice():[]}}}function XF(t,n){if(!t)return n;if(!n)return t;var i=[],r=_n();return WF(i,r,t.mb),WF(i,r,n.mb),{$b:t.$b,mb:i,TE:qF(t.TE,n.TE,li),EE:qF(t.EE,n.EE,li)}}function WF(t,n,i){for(var r=0;r<i.length;r++){var e=i[r],u=e.Bo.Uu,s=void 0;n.has(u)?(s=n.get(u)).kb=qF(s.kb,e.kb,zF):(s=dn({},e),t.push(s),n.set(u,s))}}function qF(t,n,i){for(var r=t.slice(),e=0;e<n.length;e++){var u=n[e];i(r,u)||r.push(u)}return r}function zF(t,n){for(var i=0;i<t.length;i++){if(ur(t[i],n))return!0}return!1}function GF(t,n){var i,r=t.agt;if(r){for(var e=t.NI,u=[],s=0,o=t.hJ;s<o.length;s++){var a=o[s];u.push(e+'; codecs="'+a+'"')}i=VF(n||{},t.Pu,r,u)}for(var c=0,h=t.cgt;c<h.length;c++){i=XF(i,jF(h[c],n))}return i}function jF(t,n){return VF(n||{},t.Pu,t.agt||[],[t.OS])}function QF(t,n,i){return YF.apply(this,arguments)}function YF(){return(YF=vn.coroutine(fn.mark(function t(n,i,r){var e,u,s,o,a;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=[],u=0,s=n.hgt;u<s.length;u++)o=s[u],e.push(ZF(o,i,r));return t.next=4,vn.all(e);case 4:return a=t.sent,t.abrupt("return",{bv:n.vgt.fgt(),dgt:[n.lgt],hgt:a});case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function ZF(t,n,i){return JF.apply(this,arguments)}function JF(){return(JF=vn.coroutine(fn.mark(function t(n,i,r){var e,u,s,o,a;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=[],u=0,s=n._gt;u<s.length;u++)o=s[u],e.push($F(o,i,r));return t.next=4,vn.all(e);case 4:return a=t.sent,t.abrupt("return",{ggt:a});case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function $F(t,n,i){return KF.apply(this,arguments)}function KF(){return(KF=vn.coroutine(fn.mark(function t(n,i,r){var e,u,s,o,a;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=[],u=0,s=n.wgt;u<s.length;u++)tH(o=s[u])||e.push(eH(o,i,r));return t.next=4,vn.all(e);case 4:return a=t.sent,t.abrupt("return",{lg:a,Pu:n.Pu});case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function tH(t){return t.cgt.every(rH)}!function(t){t[t.lv=0]="lv",t[t._v=1]="_v"}(FF||(FF={}));var nH,iH=1;function rH(t){return t.ygt!==iH&&Boolean(t.ygt)}function eH(t,n,i){return uH.apply(this,arguments)}function uH(){return(uH=vn.coroutine(fn.mark(function t(n,i,r){var e,u,s,o,a,c,h,f,v;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=[],u=0,s=n.cgt;u<s.length;u++)rH(o=s[u])||e.push(oH(o,r));return t.next=4,vn.all(e);case 4:return a=t.sent,c=n.hJ[0],h=n.agt,f=h?sH(c,h):void 0,v=GF(n,i),t.abrupt("return",{Nh:a,Ih:n.mgt,Pu:n.Pu,xS:f,kgt:v});case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function sH(t,n){for(var i=[],r=function(t){return t?jn(t,"avc")?ol.VIDEO_H264:jn(t,"hev")||jn(t,"hvc")||jn(t,"hvt")||jn(t,"lhv")||jn(t,"lhe")||jn(t,"lht")?ol.VIDEO_H265:jn(t,"mp4")?ol.VIDEO_MP4:jn(t,"mpeg2")?ol.VIDEO_MPEG2:jn(t,"mpeg")?ol.VIDEO_MPEG:ol.VIDEO_UNKNOWN:ol.VIDEO_UNKNOWN}(t),e=0;e<n.length;e++){var u=n[e],s=u.sgt.split(":").pop(),o=u.ogt;i.push({mimeType:r,uuid:s,data:o})}return{type:FF.lv,schemeType:Dn,schemeDatas:i}}function oH(t,n){return aH.apply(this,arguments)}function aH(){return(aH=vn.coroutine(fn.mark(function t(n,i){var r,e,u,s;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,cH(n,i);case 2:u=t.sent,s={Th:vH(n),uy:u,z9:n.Y9,yC:n.yC,Ya:n.Ya,Cg:n.Cg,Pu:n.Pu,Ja:n.Ja},t.t0=n.Pu,t.next=t.t0===Tf.An?7:t.t0===Tf.ld?8:t.t0===Tf.dd?10:12;break;case 7:return t.abrupt("break",13);case 8:return s.V$=null!==(e=null===(r=n.V$)||void 0===r?void 0:r.ap())&&void 0!==e?e:NaN,t.abrupt("break",13);case 10:return s.audioSamplingRate=n.Pvt,t.abrupt("break",13);case 12:0;case 13:return t.abrupt("return",s);case 14:case"end":return t.stop()}},t)}))).apply(this,arguments)}function cH(t,n){return hH.apply(this,arguments)}function hH(){return(hH=vn.coroutine(fn.mark(function t(n,i){var r,e,u,s,o,a,c,h;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],e=n.pgt,u=e.Agt(),s=u;case 4:if(!s){t.next=16;break}if(!e.bgt(s.V5)){t.next=12;break}return t.next=8,n.Tgt(s,i,(new ki).ls);case 8:for(o=t.sent,a=0;a<o.lh;a++)r.push(fH(o.Egt(a),n));t.next=13;break;case 12:r.push(fH(s,n));case 13:s=e.mht(s),t.next=4;break;case 16:return c=e.Sgt(),h=c.xk-u.Ok,t.abrupt("return",{bv:h,qK:r});case 19:case"end":return t.stop()}},t)}))).apply(this,arguments)}function fH(t,n){return{Ok:t.Ok,bv:t.bv,Rgt:n.Igt(t)}}function vH(t){return t.Ngt.um+"-"+(""+t.Th)}function dH(t,n){return function(t,n){var i={};for(var r in t){var e=t[r];for(var u in i[r]={},e){var s=[];i[r][u]=[];for(var o=e[u],a=0;a<o.length;a++){var c=o[a],h=lH(c,r,n);s.push(h)}i[r][u]=s}}return i}(function(t){var n=function(t){for(var n={},i=0;i<t.length;i++){var r=t[i];n[r["group-id"]]||(n[r["group-id"]]={Pu:r.type,Tg:[]}),n[r["group-id"]].Tg.push(r)}return n}(t),i={};for(var r in n)for(var e=n[r],u=0,s=e.Tg;u<s.length;u++){var o=s[u];i[e.Pu]||(i[e.Pu]={}),i[e.Pu][o.name]||(i[e.Pu][o.name]=[]),i[e.Pu][o.name].push(o)}return i}(t),n)}function lH(t,n,i){for(var r=t["group-id"],e={ZZ:t,_$:[]},u=0;u<i.length;u++){var s=i[u];s[n.toLowerCase()]===r&&e._$.push(s)}return e}function _H(t,n){return gH.apply(this,arguments)}function gH(){return(gH=vn.coroutine(fn.mark(function t(n,i){var r,e;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.w8([n],{});case 2:return r=t.sent,e=new ZP,t.abrupt("return",e.ng(r.o8,r.QA,uB(r.QA)));case 5:case"end":return t.stop()}},t)}))).apply(this,arguments)}function wH(t,n){return yH.apply(this,arguments)}function yH(){return(yH=vn.coroutine(fn.mark(function t(n,i){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.isMasterPlaylist){t.next=4;break}return t.abrupt("return",mH(n,i));case 4:return t.abrupt("return",(e=void 0,e=xH(r=n),{bv:r.duration,dgt:[r.uri],hgt:[{ggt:[{lg:[{Nh:[{Th:r.uri,uy:e,yC:0,Ya:"",Cg:0,Pu:null,Ja:0}]}]}]}]}));case 5:case"end":return t.stop()}var r,e},t)}))).apply(this,arguments)}function mH(t,n){return kH.apply(this,arguments)}function kH(){return(kH=vn.coroutine(fn.mark(function t(n,i){var r,e,u;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=dH(n.media,n.streams),t.next=3,TH(r,i);case 3:return e=t.sent,t.next=6,AH(n.streams,i);case 6:return u=t.sent,e.push(u),t.abrupt("return",{bv:pH(e),dgt:[n.uri],hgt:[{ggt:e}]});case 9:case"end":return t.stop()}},t)}))).apply(this,arguments)}function pH(t){for(var n=-1/0,i=0;i<t.length;i++)for(var r=0,e=t[i].lg;r<e.length;r++){var u=e[r];n=g.max.apply(g,[n].concat(u.Nh.map(function(t){return t.uy.bv})))}return n}function AH(t,n){return bH.apply(this,arguments)}function bH(){return(bH=vn.coroutine(fn.mark(function t(n,i){var r,e,u,s;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],e=0;case 2:if(!(e<n.length)){t.next=15;break}return u=n[e],t.next=6,CH(u.uri,i);case 6:(s=t.sent).yC=u.bandwidth,s.Ya=u.codecs,s.Cg=u.resolution&&u.resolution.height,s.Ja=u.resolution&&u.resolution.width,r.push(s);case 12:e++,t.next=2;break;case 15:return t.abrupt("return",{lg:[{Nh:r}]});case 16:case"end":return t.stop()}},t)}))).apply(this,arguments)}function TH(t,n){return EH.apply(this,arguments)}function EH(){return(EH=vn.coroutine(fn.mark(function t(n,i){var r,e,u,s;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],t.t0=fn.keys(n);case 2:if((t.t1=t.t0()).done){t.next=11;break}return e=t.t1.value,u=n[e],t.next=7,SH(u,i);case 7:s=t.sent,r.push(s),t.next=2;break;case 11:return t.abrupt("return",r);case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function SH(t,n){return RH.apply(this,arguments)}function RH(){return(RH=vn.coroutine(fn.mark(function t(n,i){var r,e,u,s;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],t.t0=fn.keys(n);case 2:if((t.t1=t.t0()).done){t.next=11;break}return e=t.t1.value,u=n[e],t.next=7,IH(u,i);case 7:s=t.sent,r.push(s),t.next=2;break;case 11:return t.abrupt("return",{lg:r});case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function IH(t,n){return NH.apply(this,arguments)}function NH(){return(NH=vn.coroutine(fn.mark(function t(n,i){var r,e,u,s;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],e=0;case 2:if(!(e<n.length)){t.next=11;break}return u=n[e],t.next=6,DH(u,i);case 6:s=t.sent,r.push(s);case 8:e++,t.next=2;break;case 11:return t.abrupt("return",{Nh:r});case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function DH(t,n){var i,r,e;return CH((r=(i=t).ZZ.uri,e=i._$.map(function(t){return t.uri}),r||(e.length?e[0]:null)),n)}function CH(t,n){return OH.apply(this,arguments)}function OH(){return(OH=vn.coroutine(fn.mark(function t(n,i){var r,e;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_H(n,i);case 2:return r=t.sent,e=xH(r),t.abrupt("return",{Th:n,Dgt:n,uy:e,yC:0,Ya:"",Cg:0,Pu:null,Ja:0});case 5:case"end":return t.stop()}},t)}))).apply(this,arguments)}function xH(t){for(var n=[],i=0,r=t.fragments;i<r.length;i++){var e=r[i];n.push(PH(e))}return{bv:t.duration,qK:n}}function PH(t){return{Ok:t.start,bv:t.duration,Rgt:BH(t.uri)}}function BH(t){return dC(t)?{gd:t.PY,BY:[t.BY.um,t.BY.om],Td:!1}:{gd:t.toString(),Td:!1}}!function(t){t.SE="static",t.RE="dynamic"}(nH||(nH={}));var LH,MH=31536e3,UH=2592e3,FH=86400,HH=3600,VH=60,XH=/^P(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)D)?(?:T(?:(\d+)H)?(?:(\d+)M)?(?:(\d*\.?\d*)S)?)?$/,WH=function(){function t(t){var n=t.match(XH);if(!n)throw new d("The given value could not be parsed as a valid DateTimeInterval");var i=Number(n[1])||0,r=Number(n[2])||0,e=Number(n[3])||0,u=Number(n[4])||0,s=Number(n[5])||0,o=Number(n[6])||0;this.Cgt=i*MH+r*UH+e*FH+u*HH+s*VH+o}var n=t.prototype;return n.fgt=function(){return this.Cgt},n.Ogt=function(){return 1e3*this.Cgt},T(t,[{key:"J1",get:function(){return cd.tA(this.Cgt,1e3)}}]),t}();!function(t){t.xgt="progressive",t.Pgt="interlaced",t.$v="unknown"}(LH||(LH={}));var qH=function(){function t(t,n){this.Bgt=t,this.Lgt=n}return t.prototype.ap=function(){return this.Bgt/this.Lgt},t}(),zH=/^(?:true|false)$/i,GH=/^(-?)(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(?:Z|([+-])(\d{2}):(\d{2}))?$/;function jH(t){if(void 0!==t)return new WH(t)}function QH(t){if(void 0!==t){var n=t.match(GH);if(!n)throw new d("The given value could not be parsed as a valid Date");var i=n[1],r=n[2],e=n[3],u=n[4],s=n[5],o=n[6],a=n[7],c=n[8],h=n[9],f=n[10],v=n[11],l=("-"===i?-1:1)*Number(r),_=Number(e)-1,w=Number(u),y=Number(s),k=Number(o),p=Number(a),A=Number("0."+(c||"")),b=g.round(1e3*A);if(h)k-=("-"===h?-1:1)*(60*Number(f)+Number(v));var T=new Date(Date.UTC(l,_,w,y,k,p,b));if(m(T.getTime()))throw new d("The given value could not be parsed as a valid Date");return T}}function YH(t){if(t){var n=/(\d+)-(\d+)/.exec(t);if(n)return[JH(n[1]),JH(n[2])]}}function ZH(t){if(void 0!==t){if(!m(Number(t)))try{return Ct.fromString(t,!0)}catch(t){}throw new d("The given value could not be parsed as a valid unsigned long")}}function JH(t){if(void 0!==t){var n=Number(t);if(!m(n))return n;throw new d("The given value could not be parsed as a valid Number")}}function $H(t){if(void 0!==t){var n=t.split("/"),i=Number(n[0]),r=Number(n[1]||1);if(!m(i)&&!m(r))return new qH(i,r);throw new d("The given value could not be parsed as a valid frame rate")}}function KH(t){if(void 0!==t){if(zH.test(t))return"true"===t.toLowerCase();if(!m(w(t)))return Boolean(w(t));throw new d("The given value could not be parsed as a valid Boolean.")}}function tV(t){return{gd:t.Jn,Mgt:KH(t.qn("availabilityTimeComplete")),Ugt:JH(t.qn("availabilityTimeOffset"))}}function nV(t){return t.map(tV)}function iV(t){var n,i,r,e,u,s=dV(t),o=(i="default_KID",r="urn:mpeg:cenc:2013",e="cenc",void 0===(u=(n=t).zn(r,i))&&(u=n.qn(e+":"+i)),u),a=function(t){if(t)return or(t.Jn)}(function(t,n,i,r){var e=t.Hn(i,n);return 0===e.length&&(e=t.Mn(r+":"+n)),e}(t,"pssh","urn:mpeg:cenc:2013","cenc")[0]),c=t.Hn("urn:microsoft:playready","pro"),h=c.length>0?function(t){var n=tr(t.Jn),i=new k([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),r=n.length,e=12+i.length+4+r,u=new ArrayBuffer(e),s=new k(u),o=new DataView(u),a=new ee;Dr(o,a,e),Dr(o,a,1886614376),Dr(o,a,0),Tr(o,a,i),Dr(o,a,r),Tr(o,a,n),0;return s.buffer}(c[0]):void 0;return{tT:o,ogt:null!=a?a:h,sgt:s.sgt,Pn:s.Pn}}function rV(t){return{Fgt:t.qn("sourceURL"),BY:YH(t.qn("range"))}}function eV(t,n){var i=t.qn("d"),r=t.qn("t"),e=JH(t.qn("r"));n.push({bv:i,Ok:r,Hgt:e})}function uV(t){return{V5:t.qn("index"),Vgt:YH(t.qn("indexRange")),Tg:t.qn("media"),Xgt:YH(t.qn("mediaRange"))}}function sV(t){var n,i,r=cV(t),e=(n=t.Mn("SegmentURL"),(i=n.map(uV)).length>0?i:void 0),u=t.qn("xlink:href"),s=t.qn("xlink:actuate");return dn(dn({},r),{Wgt:e,qgt:u,zgt:s})}function oV(t){var n=t.map(sV);return n.length>0?n:void 0}function aV(t){var n=KH(t.qn("availabilityTimeComplete")),i=JH(t.qn("availabilityTimeOffset")),r=YH(t.qn("indexRange")),e=KH(t.qn("indexRangeExact")),u=t.Mn("Initialization");if(u.length>1)throw new d("The provided MPEG-DASH document's "+t.Fn+" element can not have more than one Initialization element.");var s=1===u.length?rV(u[0]):void 0,o=ZH(t.qn("presentationTimeOffset")),a=t.Mn("RepresentationIndex");if(a.length>1)throw new d("The provided MPEG-DASH document's "+t.Fn+" element can not have more than one RepresentationIndex element.");return{Mgt:n,Ugt:i,Vgt:r,Ggt:e,jgt:s,Qgt:o,Ygt:1===a.length?rV(a[0]):void 0,Zgt:jH(t.qn("timeShiftBufferDepth")),yg:JH(t.qn("timescale"))}}function cV(t){var n=aV(t),i=t.Mn("BitstreamSwitching"),r=i.length>0?rV(i[0]):void 0,e=JH(t.qn("duration")),u=t.Mn("SegmentTimeline");if(u.length>1)throw new d("The provided MPEG-DASH document's "+t.Fn+" element can not have more than one SegmentTimeline element.");var s=1===u.length?function(t){for(var n=[],i=t.Mn("S"),r=0;r<i.length;r++)eV(i[r],n);return n}(u[0]):void 0,o=JH(t.qn("startNumber")),a=JH(t.qn("endNumber"));return dn(dn({},n),{Jgt:r,bv:e,pgt:s,$gt:o,Kgt:a})}function hV(t){var n=cV(t),i=t.qn("bitstreamSwitching"),r=t.qn("index"),e=t.qn("initialization"),u=t.qn("media");return dn(dn({},n),{twt:i,nwt:r,iwt:e,rwt:u})}function fV(t){return{Pvt:function(t){if(t){var n=t.split(/\s/);return n.length>1?(n.length=2,n.map(JH)):1===n.length?n.map(JH)[0]:void 0}}(t.qn("audioSamplingRate")),hJ:t.qn("codecs"),ewt:KH(t.qn("codingDependency")),agt:function(t){if(0!==t.length)return t.map(iV)}(t.Mn("ContentProtection")),uwt:t.Mn("EssentialProperty").map(lV),V$:$H(t.qn("frameRate")),Cg:JH(t.qn("height")),ygt:JH(t.qn("maxPlayoutRate")),swt:JH(t.qn("maximumSAPPeriod")),NI:t.qn("mimeType"),owt:t.qn("profiles"),awt:t.qn("sar"),cwt:function(t){switch(t){case LH.xgt:case LH.Pgt:case LH.$v:return t;default:return}}(t.qn("scanType")),hwt:t.qn("segmentProfiles"),fwt:JH(t.qn("startWithSAP")),Ja:JH(t.qn("width"))}}function vV(t){var n=fV(t),i=JH(t.qn("bandwidth")),r=nV(t.Mn("BaseURL")),e=t.qn("dependencyId"),u=t.qn("id"),s=t.qn("mediaStreamStructureId"),o=JH(t.qn("qualityRanking")),a=t.Mn("SegmentBase");if(a.length>1)throw new d("The provided MPEG-DASH document's Representation element can not have more than one SegmentBase element.");var c=1===a.length?aV(a[0]):void 0,h=oV(t.Mn("SegmentList")),f=t.Mn("SegmentTemplate");if(f.length>1)throw new d("The provided MPEG-DASH document's Representation element can not have more than one SegmentTemplate element.");var v=1===f.length?hV(f[0]):void 0;return dn(dn({},n),{yC:i,vwt:r,dwt:e,Th:u,lwt:s,_wt:o,gwt:c,wwt:h,ywt:v})}function dV(t){return{sgt:t.qn("schemeIdUri"),Pn:t.qn("value")}}function lV(t){return dV(t)}function _V(t){return dV(t)}function gV(t){return dV(t)}function wV(t){var n=fV(t),i=function(t){return t.map(gV)}(t.Mn("Accessibility")),r=nV(t.Mn("BaseURL")),e=KH(t.qn("bitstreamSwitching")),u=t.qn("contentType"),s=JH(t.qn("group")),o=JH(t.qn("id")),a=t.qn("lang"),c=JH(t.qn("maxBandwidth")),h=$H(t.qn("maxFrameRate")),f=JH(t.qn("maxHeight")),v=JH(t.qn("maxWidth")),l=JH(t.qn("minBandwidth")),_=$H(t.qn("minFrameRate")),g=JH(t.qn("minHeight")),w=JH(t.qn("minWidth")),y=t.qn("par"),m=t.Mn("Representation").map(vV);if(0===m.length)throw new d("The provided MPEG-DASH document has an AdaptationSet with no valid Representation's");var k=function(t){return t.map(_V)}(t.Mn("Role")),p=KH(t.qn("segmentAlignment"))||!1,A=t.Mn("SegmentBase");if(A.length>1)throw new d("The provided MPEG-DASH document's AdaptationSet element can not have more than one SegmentBase element.");var b=1===A.length?aV(A[0]):void 0,T=oV(t.Mn("SegmentList")),E=t.Mn("SegmentTemplate");if(E.length>1)throw new d("The provided MPEG-DASH document's AdaptationSet element can not have more than one SegmentTemplate element.");var S=1===E.length?hV(E[0]):void 0,R=JH(t.qn("selectionPriority")),I=R||1,N=KH(t.qn("subsegmentAlignment"))||!1,D=JH(t.qn("subsegmentStartsWithSAP")),C=t.qn("xlink:actuate")||"onRequest",O=t.qn("xlink:href");return dn(dn({},n),{mwt:i,vwt:r,Jgt:e,OS:u,kwt:s,Th:o,Ih:a,pwt:c,Awt:h,bwt:f,Twt:v,Ewt:l,Swt:_,Rwt:g,Iwt:w,Nwt:y,cgt:m,Dwt:k,Cwt:p,gwt:b,wwt:T,ywt:S,YS:I,Owt:N,xwt:D,Pwt:C,Bwt:O})}function yV(t){var n=ZH(t.qn("presentationTime"))||Ct.ZERO,i=ZH(t.qn("duration")),r=JH(t.qn("id")),e=function(t){for(var n=t.Zn,i={},r=0;r<n.length;r++)i[n[r].Cn]=n[r].Pn;return i}(t),u=t.Jn;return{Lwt:n,bv:i,Th:r,Zn:e,$n:""!==u.trim()?u:t.qn("messageData")||""}}function mV(t){return{Bwt:t.qn("xlink:href"),Pwt:t.qn("xlink:actuate"),sgt:t.qn("schemeIdUri"),Pn:t.qn("value"),yg:JH(t.qn("timescale")),Qgt:ZH(t.qn("presentationTimeOffset")),DI:t.Mn("Event").map(yV)}}function kV(t,n){var i=t.Mn("AssetIdentifier");if(i.length>1)throw new d("The provided MPEG-DASH document's Period element can not have more than one AssetIdentifier element.");var r=1===i.length?dV(i[0]):void 0,e=t.Mn("AdaptationSet").map(wV),u=nV(t.Mn("BaseURL")),s=KH(t.qn("bitstreamSwitching")),o=jH(t.qn("duration")),a=t.Mn("EventStream").map(mV),c=t.qn("id"),h=n&&jH(n.qn("start")),f=t.Mn("SegmentBase");if(f.length>1)throw new d("The provided MPEG-DASH document's Period element can not have more than one SegmentBase element.");var v=1===f.length?aV(f[0]):void 0,l=oV(t.Mn("SegmentBase")),_=t.Mn("SegmentTemplate");if(_.length>1)throw new d("The provided MPEG-DASH document's Period element can not have more than one SegmentTemplate element.");var g=1===_.length?hV(_[0]):void 0,w=jH(t.qn("start")),y=(t.Mn("Subset"),t.qn("xlink:href"));return{wgt:e,Mwt:r,vwt:u,Jgt:s,bv:o,Uwt:a,Th:c,Fwt:h,gwt:v,wwt:l,ywt:g,um:w,Pwt:t.qn("xlink:actuate"),Bwt:y}}function pV(t){var n=t.qn("schemeIdUri");if(n)return{sgt:n,Pn:t.qn("value")}}function AV(t,n){var i=QH(t.qn("availabilityEndTime")),r=QH(t.qn("availabilityStartTime")),e=nV(t.Mn("BaseURL")),u=t.qn("id"),s=t.Mn("Location").map(function(t){return""+t.Jn}),o=jH(t.qn("maxSegmentDuration")),a=jH(t.qn("maxSubsegmentDuration")),c=jH(t.qn("mediaPresentationDuration")),h=(t.Mn("Metrics"),jH(t.qn("minBufferTime")));if(!h)throw new d("The provided MPEG-DASH document's MPD element does not have the required 'minimumBufferTime' attribute.");var f=jH(t.qn("minimumUpdatePeriod")),v=function(t){for(var n=[],i=0;i<t.length;i+=1)n.push(kV(t[i],t[i+1]));return n}(t.Mn("Period"));if(!v.length)throw new d("The provided MPEG-DASH document's MPD element does not have the required 'Period' element.");var l=t.qn("profiles");if(!l)throw new d("The provided MPEG-DASH document's MPD element does not have the required 'profiles' attribute.");return{Hwt:i,Vwt:r,vwt:e,Th:u,Xwt:s,Wwt:n,qwt:o,zwt:a,vgt:c,Gwt:h,jwt:f,hgt:v,owt:l,Qwt:QH(t.qn("publishTime")),Ywt:jH(t.qn("suggestedPresentationDelay")),Zgt:jH(t.qn("timeShiftBufferDepth")),Pu:function(t){switch(t){case nH.SE:case nH.RE:return t;default:return}}(t.qn("type")),Zwt:function(t){for(var n=[],i=0;i<t.length;i++){var r=pV(t[i]);r&&n.push(r)}return n}(t.Mn("UTCTiming"))}}var bV,TV=function(){function t(){}return t.prototype.Jdt=function(t,n){return function(t,n){if(!t)throw new d("The provided MPEG-DASH document does not contain a valid MPD root element.");return AV(t,n)}(r.Sn(t).Kn,n)},t}(),EV=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).Th=n,s.yC=i,s.hJ=r,s.PY=u,s.pk=e||"",s.Jwt=!0,s}return qt(n,t),n.prototype.FA=function(){this.Jwt=!1,this.ys(new HM(this.Bc))},T(n,[{key:"Rh",get:function(){return this.pk},set:function(t){this.pk!==t&&(this.pk=t,this.ys(new HM(this.Bc)))}},{key:"uQ",get:function(){return this.Jwt}}]),n}(Fi),SV=function(t){function n(n,i,r,e,u,s,o,a,c){var h;return void 0===c&&(c=0),(h=t.call(this,n,i,r,e,u)||this).V$=s,h.Ja=o,h.Cg=a,h.xvt=c,h.Pc=void 0,h}return qt(n,t),T(n,[{key:"Bc",get:function(){return this.Pc||(this.Pc=VM(this)),this.Pc}}]),n}(EV),RV=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this,n,i,r,e,u)||this).Pvt=s,o.Pc=void 0,o}return qt(n,t),T(n,[{key:"Bc",get:function(){return this.Pc||(this.Pc=XM(this)),this.Pc}}]),n}(EV);!function(t){t.$wt="Kwt",t.tyt="nyt"}(bV||(bV={}));var IV=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).iyt=function(t){n.ys(t)},n}return qt(n,t),T(n,[{key:"ryt",get:function(){var t=this.eyt();return null==t?void 0:t.um}},{key:"uyt",get:function(){var t=this.eyt();return null==t?void 0:t.om}}]),n}(Fi);function NV(t){return G(t.syt)}var DV=function(t){function n(n,i){var r,e,u;if((r=t.call(this)||this).Pc=void 0,r.oyt=void 0,r.ayt=n,r.cyt=i,r.cyt.ps(bV.$wt,r.iyt),r.Pu===Tf.ld){var s=null!==(u=null===(e=r.V$)||void 0===e?void 0:e.ap())&&void 0!==u?u:NaN;r.hyt=new SV(CV++,r.yC,r.Ya,"","",s,r.Ja,r.Cg)}else r.Pu===Tf.dd?r.hyt=new RV(CV++,r.yC,r.Ya,"","",r.Pvt):r.hyt=void 0;return r}qt(n,t);var i=n.prototype;return i.Igt=function(t){var n=NV(t)?this.cyt.fyt(t):this.cyt.Igt(t);return{gd:n.gd,BY:n.BY,Td:this.vyt.Td}},i.dyt=function(){return this.cyt.dyt()},i.eyt=function(){return this.cyt.eyt()},i.lyt=function(){return this.cyt.lyt()},i.Tgt=function(t,n,i){return this.cyt.pgt.Tgt(t,this.cyt,this.vyt.Td,n,i)},i._yt=function(t){return NV(t)?this.pgt.gyt(t):this.pgt._yt(t)},i.R6=function(t){return NV(t)?this.pgt.wyt(t):this.pgt.R6(t)},i.vh=function(){this.cyt.Ts(bV.$wt,this.iyt)},T(n,[{key:"yyt",get:function(){return this.ayt}},{key:"Pvt",get:function(){var t;return null!==(t=this.cyt.$n.Pvt)&&void 0!==t?t:this.yyt.Pvt}},{key:"yC",get:function(){return this.cyt.$n.yC||0}},{key:"hJ",get:function(){var t=this.cyt.$n;return t.hJ?[t.hJ]:this.yyt.hJ}},{key:"myt",get:function(){var t=this.cyt.$n;return t.hJ?[t.hJ]:[]}},{key:"Ya",get:function(){return this.cyt.$n.hJ||this.yyt.Ya}},{key:"ewt",get:function(){return this.cyt.$n.ewt||this.yyt.ewt}},{key:"agt",get:function(){return this.cyt.$n.agt||this.yyt.agt}},{key:"OS",get:function(){return this.NI+'; codecs="'+this.Ya+'"'}},{key:"uwt",get:function(){var t=this.cyt.$n;return t.uwt.length?t.uwt:this.yyt.uwt}},{key:"Bc",get:function(){return this.Pc||(this.Pc=(t=this,{get id(){return t.Th},get type(){return t.Pu},get bandwidth(){return t.yC},get width(){return t.Ja},get height(){return t.Cg},get frameRate(){var n,i;return null!==(i=null===(n=t.V$)||void 0===n?void 0:n.ap())&&void 0!==i?i:NaN},get audioSamplingRate(){return t.Pvt}}));var t}},{key:"V$",get:function(){var t;return null!==(t=this.cyt.$n.V$)&&void 0!==t?t:this.yyt.V$}},{key:"Cg",get:function(){return this.cyt.$n.Cg||this.yyt.Cg}},{key:"Th",get:function(){return this.cyt.$n.Th||""}},{key:"E4",get:function(){return this.oyt},set:function(t){this.oyt=t}},{key:"Y9",get:function(){var t=this.cyt.kyt();if(t)return{gd:t.gd,BY:t.BY,Td:this.vyt.Td}}},{key:"ygt",get:function(){return this.cyt.$n.ygt||this.yyt.ygt||1}},{key:"swt",get:function(){return this.cyt.$n.swt||this.yyt.swt}},{key:"vyt",get:function(){return this.Ngt.vyt}},{key:"NI",get:function(){return this.cyt.$n.NI||this.yyt.NI}},{key:"Ngt",get:function(){return this.yyt.Ngt}},{key:"owt",get:function(){return this.cyt.$n.owt||this.yyt.owt}},{key:"Dvt",get:function(){return this.hyt}},{key:"awt",get:function(){return this.cyt.$n.awt||this.yyt.awt}},{key:"cwt",get:function(){return this.cyt.$n.cwt||this.yyt.cwt}},{key:"pyt",get:function(){return this.cyt.pyt}},{key:"hwt",get:function(){return this.cyt.$n.hwt||this.yyt.hwt}},{key:"pgt",get:function(){return this.cyt.pgt}},{key:"fwt",get:function(){return this.cyt.$n.fwt||this.yyt.fwt}},{key:"Pu",get:function(){var t=this.NI.split("/")[0];return"application"===t||"text"===t||Ml(this.NI,this.hJ)?Tf.An:"video"===t?Tf.ld:"audio"===t?Tf.dd:"image"===t?Tf._d:Tf.$v}},{key:"Ja",get:function(){return this.cyt.$n.Ja||this.yyt.Ja}}]),n}(IV),CV=0,OV=function(t){function n(n,i){var r;return(r=t.call(this)||this).Ayt=[],r.byt=[],r.Tyt=n,r.cyt=i,r.cyt.ps(bV.$wt,r.iyt),r}qt(n,t);var i=n.prototype;return i.po=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r,e=this;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==this.byt.length){t.next=6;break}return this.byt=[],r=this.cyt.cgt.map(function(t){return e.Eyt(t,n,i)}),t.next=5,vn.all(r);case 5:this.byt=t.sent.filter(M);case 6:this.Syt();case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Eyt=function(){var t=vn.coroutine(fn.mark(function t(n,i,r){var e,u;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new DV(this,n),t.next=3,i(e);case 3:if(u=t.sent,bi(r),u){t.next=7;break}return t.abrupt("return",void 0);case 7:return t.abrupt("return",e);case 8:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.Syt=function(){if(!this.byt.length)throw new d("Detected an AdaptationSet without any supported Representations.")},i.eyt=function(){return this.cyt.eyt()},i.lyt=function(){return this.cyt.lyt()},i.vh=function(){this.cyt.Ts(bV.$wt,this.iyt);for(var t=0,n=this.byt;t<n.length;t++){n[t].vh()}gi(this.byt)},T(n,[{key:"mwt",get:function(){return this.cyt.$n.mwt}},{key:"Pvt",get:function(){var t;return null!==(t=this.cyt.$n.Pvt)&&void 0!==t?t:-1}},{key:"hJ",get:function(){if(this.cyt.$n.hJ)return[this.cyt.$n.hJ];for(var t=[],n=0,i=this.cgt;n<i.length;n++){var r=i[n];r.myt.length&&-1===t.indexOf(r.Ya)&&t.push(r.Ya)}return t}},{key:"Ya",get:function(){return this.hJ.join()}},{key:"ewt",get:function(){return this.cyt.$n.ewt}},{key:"agt",get:function(){return this.cyt.$n.agt}},{key:"OS",get:function(){return this.NI+'; codecs="'+this.Ya+'"'}},{key:"uwt",get:function(){return this.Ayt}},{key:"V$",get:function(){return this.cyt.$n.V$}},{key:"kwt",get:function(){return this.cyt.$n.kwt}},{key:"Cg",get:function(){return this.cyt.$n.Cg||0}},{key:"Th",get:function(){return this.cyt.$n.Th}},{key:"ygt",get:function(){return this.cyt.$n.ygt}},{key:"swt",get:function(){return this.cyt.$n.swt}},{key:"vyt",get:function(){return this.Ngt.vyt}},{key:"NI",get:function(){return this.cyt.$n.NI||this.byt[0].NI}},{key:"Ngt",get:function(){return this.Tyt}},{key:"owt",get:function(){return this.cyt.$n.owt}},{key:"cgt",get:function(){return this.byt}},{key:"Dwt",get:function(){return this.cyt.$n.Dwt||[]}},{key:"awt",get:function(){return this.cyt.$n.awt}},{key:"cwt",get:function(){return this.cyt.$n.cwt}},{key:"hwt",get:function(){return this.cyt.$n.hwt}},{key:"YS",get:function(){return this.cyt.$n.YS}},{key:"fwt",get:function(){return this.cyt.$n.fwt}},{key:"Pu",get:function(){var t=(this.cyt.$n.OS||this.NI).split("/")[0];return"application"===t||"text"===t||"subtitle"===t||Ml(this.NI,this.hJ)?Tf.An:"video"===t?Tf.ld:"audio"===t?Tf.dd:"image"===t?Tf._d:Tf.$v}},{key:"Ja",get:function(){return this.cyt.$n.Ja||0}},{key:"mgt",get:function(){return this.cyt.$n.Ih||""}},{key:"Ryt",get:function(){return this.ryt}},{key:"Iyt",get:function(){var t=this.Ryt,n=this.uyt;if(void 0!==t&&void 0!==n){var i=g.min(n,this.vyt.Nyt);return g.max(t,i)}}}]),n}(IV);function xV(t,n){for(var i=[],e=0;e<n.length;e++)for(var u=n[e],s=0;s<t.length;s++){var o=t[s];i.push(r.Ua(o,u))}return i}var PV=function(){function t(t,n){this.Tyt=t,this.Dyt=n,this.pj=n.yg,this.Cyt=n.Ugt,this.Oyt=n.Qgt}var n=t.prototype;return n.xyt=function(t){var n=t-this.Tyt.um;if(!(n<0||n>=this.Tyt.bv)){var i=this.Pyt();return void 0!==i&&Pt(i,n,1e-5)?this.Agt():this.Byt(n)}},n.Lyt=function(t){var n=t-this.Tyt.um;if(!(n<0))return this.Myt(g.min(n,this.Tyt.bv))},n.Agt=function(){return this.Uyt(0)},n.Sgt=function(){var t=this.Tyt.bv;if(isFinite(t))return this.Myt(t)},n.dyt=function(t){if(this.Tyt.Fyt.Pu===nH.RE){var n=this.Hyt(t);if(!n)return;return{Vyt:t,Xyt:this.Wyt(t),qyt:n}}var i=this.Agt();if(i)return{Vyt:t,Xyt:i,qyt:this.Sgt()}},n.lyt=function(t,n){if(n){var i=this.zyt(n.Xyt),r=this.mht(n.qyt);if(r){var e=this.Gyt(r);(!i||e.getTime()<i.getTime())&&(i=e)}return i}var u=this.Agt();if(u){var s=this.Gyt(u);if(t.getTime()<s.getTime())return s}var o=this.Tyt.Fyt.Vwt;return t.getTime()<o.getTime()?o:void 0},n.Hyt=function(t){var n=(t.getTime()-this.Tyt.Fyt.Vwt.getTime())/1e3-this.Tyt.um+this.Cyt,i=this.Myt(xt(n,0,this.Tyt.bv));if(i&&(i=this.jyt(i,t))){for(var r=this.mht(i);r&&this.Qyt(r,t);)i=r,r=this.mht(i);return i}},n.Wyt=function(t){var n,i=this.Dyt.Zgt;if(i){var r=(t.getTime()-this.Tyt.Fyt.Vwt.getTime())/1e3-this.Tyt.um-i.fgt();(n=this.Myt(xt(r,0,this.Tyt.bv)))||(n=this.Agt())}else n=this.Agt();if(n&&(n=this.jyt(n,t))){for(var e=this.Yyt(n);e&&this.Qyt(e,t);)n=e,e=this.Yyt(n);return n}},n.jyt=function(t,n){for(var i=t;i&&this.Gyt(i).getTime()>n.getTime();)i=this.Yyt(i);if(i){var r=this.zyt(i);if(r&&r.getTime()<=n.getTime()){var e=this.Yyt(i);for(e&&this.Qyt(e,n)&&(i=e);i;){if(this.Gyt(i).getTime()>n.getTime())return;if(this.Qyt(i,n))break;i=this.mht(i)}if(!i)return}return i}},n.Qyt=function(t,n){if(this.Gyt(t).getTime()>n.getTime())return!1;var i=this.zyt(t);return!(i&&n.getTime()>=i.getTime())},n.Zyt=function(t,n){if(this.Jyt(t).getTime()>n.getTime())return!1;var i=this.zyt(t);return!(i&&n.getTime()>=i.getTime())},n.$yt=function(t,n,i){var r=Wt(n,this.pj)+this.Tyt.um;return{V5:t,Kyt:n,Ok:r,bv:i,xk:r+i}},n.Jyt=function(t){return this.Tyt.Fyt.Pu===nH.RE?new Date(this.Tyt.Fyt.Vwt.getTime()+1e3*(t.Ok+t.bv)):this.Tyt.Fyt.Vwt},n.Gyt=function(t){var n=this.Jyt(t);return this.Tyt.Fyt.Pu===nH.RE?new Date(n.getTime()-1e3*this.Cyt):n},n.zyt=function(t){var n=1/0;if(this.Tyt.Fyt.Pu===nH.RE){var i=this.Dyt.Zgt;i&&(n=this.Jyt(t).getTime()+1e3*t.bv+i.Ogt())}var r=this.Tyt.Fyt.Hwt;return r&&(n=g.min(n,r.getTime())),n===1/0?void 0:new Date(n)},n.tmt=function(t,n){return t.V5+n},n.bgt=function(t){return!1},n.Tgt=function(t,n,i,r,e){var u=this.nmt(t);if(!u)return vn.reject(new d("Invalid segment"));var s=this.imt(u.V5);return s?vn.resolve(s):this.rmt(u.V5,n,i,r,e)},n.imt=function(t){},n.rmt=function(t,n,i,r,e){return vn.reject(new d("Not supported"))},n.Yyt=function(t){var n=this.nmt(t);if(n)return this.Uyt(n.V5-1)},n.mht=function(t){var n=this.nmt(t);if(n)return this.Uyt(n.V5+1)},n.nmt=function(t){var n=this.Uyt(t.V5);if(n&&n.Ok===t.Ok)return n;var i=this.xyt(t.Ok);return i&&i.Ok===t.Ok?i:void 0},n.emt=function(t){var n=this.umt(t);if(n&&this.bgt(n.V5)){var i=this.imt(n.V5);if(i)return i.emt(t)}},n.umt=function(t){var n=this.Uyt(t.smt);return n&&n.Ok<=t.Ok&&t.xk<=n.xk||(n=this.xyt(t.Ok)),n},n._yt=function(t){var n=this.nmt(t);return!!n&&0===n.V5},n.gyt=function(t){var n=this.emt(t);return!!n&&0===n.syt},n.R6=function(t){var n=this.nmt(t);if(!n)return!1;var i=this.Sgt();return!!i&&n.V5===i.V5},n.wyt=function(t){var n=this.emt(t);if(!n)return!1;var i=this.Sgt();if(!i||n.smt!==i.V5)return!1;var r=this.imt(n.smt);return n.syt+1===r.lh},T(t,[{key:"kA",get:function(){return Wt(this.Oyt,this.pj)-this.Tyt.um}}]),t}(),BV=function(t){function n(n,i){var r;r=t.call(this,i,n)||this;var e=n.omt,u=n.bv;if(void 0===e||void 0===u)throw new d("MultipleSegmentBase does not have a segment duration specified.");return r.amt=e,r.cmt=u,r}qt(n,t);var i=n.prototype;return i.Uyt=function(t){if(!(t<0)){var n=this.amt.multiply(t),i=Wt(n,this.pj),r=this.Tyt.bv;if(!(i>=r)){var e=this.hmt();if(void 0!==e){if(t>e)return;if(t===e)return this.$yt(t,n,r-i)}return isFinite(r)&&i+this.cmt>r?this.$yt(t,n,r-i):this.$yt(t,n,this.cmt)}}},i.Pyt=function(){return 0},i.Byt=function(t){var n=g.floor(t/this.cmt),i=this.hmt();return void 0!==i&&n>=i?this.Uyt(i):this.Uyt(n)},i.Myt=function(t){if(t>=this.Tyt.bv){var n=g.ceil(this.Tyt.bv/this.cmt)-1,i=this.hmt();return void 0!==i&&n>=i?this.Uyt(i):this.Uyt(n)}return this.Byt(t)},i.hmt=function(){var t,n=this.Dyt.Kgt;if(void 0!==n)return n-(null!==(t=this.Dyt.$gt)&&void 0!==t?t:1);if(isFinite(this.Tyt.bv)){var i=this.Dyt.fmt;if(void 0!==i&&i>0)return i-1}},i.vmt=function(){if(isFinite(this.Tyt.bv))return this.Sgt()},i.dmt=function(t,n){return this.amt.multiply(t.V5+(n-1))},i.po=function(){},n}(PV);function LV(t,n){var i=t.length;if(0===i)return-1;for(var r=0,e=i-1,u=t[r].Ok,s=t[e].xk;r<=e&&u.lessThanOrEqual(n)&&n.lessThan(s);){var o=r+g.floor(n.subtract(u).toNumber()/s.subtract(u).toNumber()*(e-r)),a=t[o],c=a.Ok,h=o+1<i?t[o+1].Ok:a.xk;if(h.lessThanOrEqual(n))r=o+1,u=h;else{if(!n.lessThan(c))return o;e=o-1,s=c}}return-1}var MV=function(t){function n(n,i){var r;return(r=t.call(this,i,n)||this).lmt=[],r._mt=void 0,r.gmt=Ct.ZERO,r.po(),r}qt(n,t);var i=n.prototype;return i.Uyt=function(t){if(!(t<0))return t<this.lmt.length?this.lmt[t].vht:this.wmt(t-this.lmt.length)},i.Pyt=function(){if(this.lmt.length>0)return Wt(this.lmt[0].Ok,this.pj)},i.Byt=function(t){if(this._mt&&Wt(this._mt.Ok,this.pj)<=t){var n=Wt(this._mt.Ok,this.pj),i=Wt(this._mt.bv,this.pj),r=g.floor((t-n)/i);return this.wmt(r)}if(this.lmt.length>0&&Pt(t,Wt(this.lmt[0].Ok,this.pj),1e-5))return this.lmt[0].vht;var e=LV(this.lmt,Ct.fromNumber(t*this.pj));return e<0?void 0:this.lmt[e].vht},i.Myt=function(t){if(!this._mt&&this.lmt.length>0){var n=this.lmt[this.lmt.length-1];if(t>=Wt(n.xk,this.pj))return n.vht}var i=this.Pyt();return i&&t<i?this.lmt[0].vht:this.Byt(t)},i.vmt=function(){return isFinite(this.Tyt.bv)?this.Sgt():this.Uyt(this.lmt.length-1)},i.dmt=function(t){return this.ymt(t)},i.wmt=function(t){if(this._mt){var n=this._mt.Ok,i=this._mt.bv,r=n.add(i.multiply(t)),e=Wt(r,this.pj),u=this.Tyt.bv;if(!(e>=u)){var s=this.lmt.length+t,o=g.min(Wt(i,this.pj),e+u);return this.$yt(s,r,o)}}},i.ymt=function(t){return t.Kyt.add(this.Oyt)},i.po=function(){var t=this.Dyt.$n.pgt;if(!t)throw new d("MultipleSegmentBaseTO does not have a SegmentTimeline specified.");this.mmt(t)},i.mmt=function(t){var n=this.Oyt;this.kmt(t,n);var i=this.pmt(t);this.Amt(t,n,i.bmt,i.smt)},i.kmt=function(t,n){var i=this.lmt;if(0===t.length)gi(i);else{for(var r=t[0],e=r.Ok?Ct.fromString(r.Ok,!1).subtract(n):Ct.ZERO,u=0;u<i.length&&i[u].Ok.lessThan(e);)u++;u>0&&i.splice(0,u)}},i.pmt=function(t){for(var n=this.lmt,i=this.gmt,r=0,e=0;r<t.length&&e<n.length;){var u=t[r].Hgt||0;if(u<0)break;var s=e+u;if(s>=n.length)break;if(n[s].Ok.greaterThanOrEqual(i))break;if(n[e].vht.V5===e)e=s+1;else for(;e<=s;)n[e].vht.V5=e,e++;0,r++}return{bmt:r,smt:e}},i.Amt=function(t,n,i,r){for(var e,u=this.lmt,s=i,o=r;s<t.length;){var a=t[s],c=Ct.fromString(a.bv,!1),h=a.Hgt||0,f=void 0;if(a.Ok){if(f=Ct.fromString(a.Ok,!1).subtract(n),o>0){var v=u[o-1];v.xk.greaterThan(f)&&(v.bv=f.subtract(v.Ok),v.xk=v.Ok.add(v.bv))}}else f=o>0?u[o-1].xk:Ct.ZERO;if(h<0){if(s+1===t.length){e={Ok:f,bv:c};break}for(var d=Ct.fromString(t[s+1].Ok,!1).subtract(n);f.lessThan(d);){var l=f.add(c);this.Tmt(u,o,f,c,l),f=l,o++}}else for(var _=o+h;o<=_;){var g=f.add(c);this.Tmt(u,o,f,c,g),f=g,o++}s++}o<u.length&&u.splice(o),u.length>0&&(this.gmt=u[u.length-1].Ok),this._mt=e},i.Tmt=function(t,n,i,r,e){if(n<t.length){var u=t[n];0,u.bv.equals(r)?u.vht.V5=n:t[n]={Ok:i,bv:r,xk:e,vht:this.$yt(n,i,Wt(r,this.pj))}}else t.push({Ok:i,bv:r,xk:e,vht:this.$yt(n,i,Wt(r,this.pj))})},n}(PV),UV=function(){function t(t,n,i){this.Emt=void 0,this.Smt=void 0,this.Ngt=t,this.Rmt=n,this.pu=i}var n=t.prototype;return n.Imt=function(){if(this.Smt=this.Nmt(),this.Smt)return this.Smt;if(this.Rmt)return this.Rmt.pgt;throw new d("Missing media segment information.")},n.kyt=function(t){var n=this.jgt;if(n)return{gd:(void 0!==n.Fgt?r.Ua(n.Fgt,t.vwt[0]):t.vwt[0]).href,BY:n.BY};var i=this.Vgt;return i?{gd:t.vwt[0].href,BY:[0,i[0]-1]}:void 0},n.po=function(t){this.pu=t,this.Smt&&this.Smt.po()},T(t,[{key:"$n",get:function(){return this.pu}},{key:"Ugt",get:function(){return this.pu&&void 0!==this.pu.Ugt?this.pu.Ugt:this.Rmt?this.Rmt.Ugt:0}},{key:"Qgt",get:function(){return this.pu&&void 0!==this.pu.Qgt?this.pu.Qgt:this.Rmt?this.Rmt.Qgt:Ct.ZERO}},{key:"Zgt",get:function(){return this.pu&&void 0!==this.pu.Zgt?this.pu.Zgt:this.Rmt?this.Rmt.Zgt:this.Ngt.Fyt.Zgt}},{key:"yg",get:function(){return this.pu&&void 0!==this.pu.yg?this.pu.yg:this.Rmt&&this.Rmt.yg?this.Rmt.yg:1}},{key:"Vgt",get:function(){return this.pu&&void 0!==this.pu.Vgt?this.pu.Vgt:this.Rmt?this.Rmt.Vgt:void 0}},{key:"jgt",get:function(){return this.pu&&void 0!==this.pu.jgt?this.pu.jgt:this.Rmt?this.Rmt.jgt:void 0}},{key:"pgt",get:function(){return this.Emt||(this.Emt=this.Imt()),this.Emt}}]),t}(),FV=function(t){function n(){return t.apply(this,arguments)||this}return qt(n,t),n.prototype.Nmt=function(){return this.pu.pgt?new MV(this,this.Ngt):void 0!==this.pu.bv?new BV(this,this.Ngt):void 0},T(n,[{key:"bv",get:function(){return void 0!==this.pu.bv?this.pu.bv/this.yg:this.Rmt&&this.Rmt instanceof n?this.Rmt.bv:void 0}},{key:"omt",get:function(){return void 0!==this.pu.bv?Ct.fromNumber(this.pu.bv):this.Rmt&&this.Rmt instanceof n?this.Rmt.omt:void 0}},{key:"$gt",get:function(){return void 0!==this.pu.$gt?this.pu.$gt:this.Rmt&&this.Rmt instanceof n?this.Rmt.$gt:void 0}},{key:"Kgt",get:function(){return void 0!==this.pu.Kgt?this.pu.Kgt:this.Rmt&&this.Rmt instanceof n?this.Rmt.Kgt:void 0}}]),n}(UV),HV=function(){function t(t){this.Dmt=t}return t.prototype.io=function(t){return this.Dmt.replace(/\$\$|\$(RepresentationID|Number|Bandwidth|Time)(?:%0(\d+)([diuxXo]))?\$/g,function(n,i,r,e){if("$$"===n)return"$";var u=t[i];if(void 0===u)return n;if(void 0===r)return u.toString();var s=function(t,n){switch(n){case"d":case"i":case"u":return t.toString(10);case"x":return t.toString(16);case"X":return t.toString(16).toUpperCase();case"o":return t.toString(8);default:return}}(u,e);return void 0===s?n:s=$n(s,Number(r),"0")})},t}();var VV=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).Cmt=r.iwt?new HV(r.iwt):void 0,e.Omt=r.rwt?new HV(r.rwt):void 0,e}qt(n,t);var i=n.prototype;return i.kyt=function(n){var i=this.iwt;if(!i)return t.prototype.kyt.call(this,n);var e=i.io({Bandwidth:n.$n.yC,RepresentationID:n.$n.Th});return{gd:r.Ma(e,n.vwt[0])}},i.Igt=function(t,n){var i,e=null!==(i=n.pyt.$gt)&&void 0!==i?i:1,u=this.rwt.io({Bandwidth:n.$n.yC,Number:n.pgt.tmt(t,e),RepresentationID:n.$n.Th,Time:n.pgt.dmt(t,e)});return{gd:r.Ma(u,n.vwt[0])}},i.fyt=function(t,n){},T(n,[{key:"iwt",get:function(){return this.Cmt?this.Cmt:this.Rmt&&this.Rmt instanceof n?this.Rmt.iwt:void 0}},{key:"rwt",get:function(){return this.Omt?this.Omt:this.Rmt&&this.Rmt instanceof n?this.Rmt.rwt:void 0}},{key:"fmt",get:function(){}}]),n}(FV),XV=function(t){function n(){return t.apply(this,arguments)||this}qt(n,t);var i=n.prototype;return i.Igt=function(t,n){var i=this.pu.Wgt[t.V5],e=n.vwt[0];return{gd:(i.Tg?r.Ua(i.Tg,e):e).href,BY:i.Xgt}},i.fyt=function(t,n){},T(n,[{key:"fmt",get:function(){return void 0!==this.pu.Wgt?this.pu.Wgt.length:this.Rmt&&this.Rmt instanceof FV?this.Rmt.fmt:void 0}}]),n}(FV),WV=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).smt=n,s.xmt=i,s.yg=r.yg,s.Pmt=e,s.Qgt=u,s.Bmt=s.Lmt(r),s}qt(n,t);var i=n.prototype;return i.Egt=function(t){if(t>=0&&t<this.lh)return this.Mmt(this.Bmt[t])},i.Umt=function(t){var n=this.Fmt(t);if(this.Bmt.length>0){var i=this.Bmt[0];if(n<=Wt(i.Ok,this.yg))return this.Mmt(i)}var r=LV(this.Bmt,Ct.fromNumber(n*this.yg));if(!(r<0))return this.Mmt(this.Bmt[r])},i.Hmt=function(t){var n=this.Fmt(t);if(this.Bmt.length>0){var i=this.Bmt[this.Bmt.length-1];if(n>=Wt(i.xk,this.yg))return this.Mmt(i)}return this.Umt(t)},i.Mmt=function(t){var n=Wt(t.Ok,this.yg)-this.Qgt,i=n+this.Pmt,r=Wt(t.bv,this.yg);return{smt:this.smt,syt:t.V5,Ok:i,Kyt:Ct.fromNumber(n*this.yg),bv:r,xk:i+r,Vmt:[this.xmt+t.xmt,this.xmt+t.Xmt]}},i.Lmt=function(t){for(var n=[],i=t.ny,r=t.iy.toNumber(),e=0,u=0,s=t.uy;u<s.length;u++){var o=s[u],a=o.Zw,c=Ct.fromNumber(o.bv),h=i.add(c);0===o.Yw&&n.push({V5:e++,Ok:i,bv:c,xk:h,xmt:r,Xmt:r+a-1}),r+=a,i=h}return n},i.Fmt=function(t){return t-this.Pmt+this.Qgt},T(n,[{key:"lh",get:function(){return this.Bmt.length}}]),n}(function(){function t(){}return t.prototype.emt=function(t){var n=this.Egt(t.syt);if(n&&n.Ok===t.Ok)return n;var i=this.Umt(t.Ok);return i&&i.Ok===t.Ok?i:void 0},t}()),qV=function(t){function n(n,i){var r;return(r=t.call(this,i,n)||this).Wmt=void 0,r.qmt=n.Vgt,r.jct=r.$yt(0,Ct.ZERO,r.Tyt.bv),r}qt(n,t);var i=n.prototype;return i.Uyt=function(t){if(0===t)return this.jct},i.Pyt=function(){return 0},i.Byt=function(t){return this.jct},i.Myt=function(t){return this.Byt(t)},i.vmt=function(){return this.jct},i.dmt=function(t,n){return Ct.ZERO},i.dyt=function(t){var n=this.zmt(t);return n&&{Vyt:t,Xyt:n,qyt:n}},i.zmt=function(t){var n=this.jct;return this.Qyt(n,t)?n:void 0},i.Hyt=function(t){return this.zmt(t)},i.Wyt=function(t){return this.zmt(t)},i.po=function(){},i.bgt=function(t){return 0===t&&void 0!==this.qmt},i.imt=function(t){return this.Wmt},i.rmt=function(){var t=vn.coroutine(fn.mark(function t(n,i,r,e,u){var s,o,a;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=i.vwt[0].href,o=this.qmt,t.next=4,e.Gmt(s,o,r,u);case 4:return a=t.sent,this.Wmt=this.jmt(n,a),t.abrupt("return",this.Wmt);case 7:case"end":return t.stop()}},t,this)}));return function(n,i,r,e,u){return t.apply(this,arguments)}}(),i.jmt=function(t,n){var i=this.qmt,r=Ch.z_(new DataView(n),new ee);if(r.Pu!==ph.k_)throw new d("Invalid segment index");var e=Lh.cg(r.$n),u=i[1]+1;return new WV(t,u,e,this.Tyt.um,Wt(this.Oyt,this.pj))},n}(PV),zV=function(t){function n(){return t.apply(this,arguments)||this}qt(n,t);var i=n.prototype;return i.Igt=function(t,n){return{gd:n.vwt[0].href}},i.fyt=function(t,n){return{gd:n.vwt[0].href,BY:t.Vmt}},i.Nmt=function(){return new qV(this,this.Ngt)},T(n,[{key:"$gt",get:function(){}}]),n}(UV),GV=function(t){function n(){return t.call(this,bV.$wt)||this}return qt(n,t),n}(Vi);var jV=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Dyt=void 0,e.Qmt=1/0,e.Ymt=void 0,e.Sr=i,e.Zmt(n,r),e}qt(n,t);var i=n.prototype;return i.Jmt=function(){return this.Dyt||this.Sr&&this.Sr.Jmt()},i.$mt=function(t){var n=this.Ngt,i=this.Sr&&this.Sr.Jmt();this.pu.ywt?this.Dyt=new VV(n,i,this.pu.ywt):this.pu.wwt?this.Dyt=new XV(n,i,this.pu.wwt[0]):this.pu.gwt?this.Dyt=new zV(n,i,this.pu.gwt):t&&!i&&(this.Dyt=new zV(n,i,void 0))},i.Zmt=function(t,n){this.pu=t,this.Kmt=t.vwt&&t.vwt.length>0?xV(t.vwt.map(function(t){return t.gd}),n):n.slice(),this.Dyt&&(t.ywt?this.Dyt.po(t.ywt):t.wwt?this.Dyt.po(t.wwt[0]):t.gwt&&this.Dyt.po(t.gwt))},i.eyt=function(){var t;return null===(t=this.Ymt)||void 0===t?void 0:t.tkt},i.lyt=function(){var t;return null===(t=this.Ymt)||void 0===t?void 0:t.nkt},i.ikt=function(t){var n=this.Qmt,i=this.Ngt.bv,r=this.Ymt,e=this.rkt(t);r&&Pt(i,n,1e-5)&&JV(r,e)||(this.Qmt=i,this.Ymt=e,this.ys(new GV))},i.us=function(){this.bs()},T(n,[{key:"$n",get:function(){return this.pu}},{key:"vwt",get:function(){return this.Kmt}}]),n}(Fi);function QV(t){for(var n,i=0;i<t.length;i++){var r=t[i].eyt();if(r){n=r.um;break}}if(void 0!==n){for(var e,u=t.length-1;u>=0;u--){var s=t[u].eyt();if(s){e=s.om;break}}if(void 0!==e)return{um:n,om:e}}}function YV(t){if(0!==t.length){for(var n=0,i=1/0,r=0;r<t.length;r++){var e=t[r].eyt();if(!e)return;if((n=g.max(n,e.um))>=(i=g.min(i,e.om)))return}return{um:n,om:i}}}function ZV(t){for(var n,i=0;i<t.length;i++){var r=t[i].lyt();r&&(!n||r.getTime()<n.getTime())&&(n=r)}return n}function JV(t,n){return function(t,n){return t&&n?t.getTime()===n.getTime():t===n}(t.nkt,n.nkt)&&function(t,n){return t&&n?Pt(t.um,n.um,1e-5)&&Pt(t.om,n.om,1e-5):t===n}(t.tkt,n.tkt)}var $V=function(t){function n(n,i,r){var e;(e=t.call(this)||this).Tyt=n,e.kk=i,e.ekt=r.slice();for(var u=0;u<r.length;u++){r[u].ps(bV.$wt,e.iyt)}return e}qt(n,t);var i=n.prototype;return i.eyt=function(){return YV(this.ekt)},i.lyt=function(){for(var t,n=0,i=this.ekt;n<i.length;n++){var r=i[n].lyt();r&&(!t||r.getTime()<t.getTime())&&(t=r)}return t},i.vh=function(){this.bs();for(var t=0,n=this.ekt;t<n.length;t++){n[t].Ts(bV.$wt,this.iyt)}},T(n,[{key:"wgt",get:function(){return this.ekt}},{key:"hJ",get:function(){return this.wgt.reduce(function(t,n){for(var i=0,r=n.hJ;i<r.length;i++){var e=r[i];li(t,e)||t.push(e)}return t},[])}},{key:"Ya",get:function(){return this.hJ.length>0?this.hJ[0]:""}},{key:"Pu",get:function(){return this.ekt[0].Pu}},{key:"Th",get:function(){return this.kk}},{key:"vyt",get:function(){return this.Tyt.vyt}},{key:"NI",get:function(){return this.ekt[0].NI}},{key:"Ngt",get:function(){return this.Tyt}},{key:"cgt",get:function(){return yi(this.wgt,function(t){return t.cgt})}}]),n}(IV),KV=function(t){function n(){return t.call(this,bV.tyt)||this}return qt(n,t),n}(Vi);function tX(t){for(var n=[],i=function(i){var r=t[i],e=void 0,u=r.kwt;void 0===u||(e=hi(n,function(t){return t.Th===u})),e||(e={Th:u,wgt:[]},n.push(e)),e.wgt.push(r)},r=0;r<t.length;r++)i(r);return n}var nX,iX=function(t){function n(n,i){var r;return(r=t.call(this)||this).ekt=[],r.ukt=[],r.skt=!1,r.okt=n,r.cyt=i,r.cyt.ps(bV.$wt,r.iyt),r}qt(n,t);var i=n.prototype;return i.akt=function(t,n){if(0!==this.ukt.length){for(var i=t,r=0,e=this.ukt;r<e.length;r++){var u=e[r],s=u.Pu;if(s===Tf.dd||s===Tf.ld){var o=u.uyt;if(void 0===o)return;i=n(i,o)}}return i}},i.ckt=function(){this.skt||(this.skt=!0,this.ys(new KV),this.vh())},i.po=function(){var t=vn.coroutine(fn.mark(function t(n,i){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==this.ekt.length){t.next=7;break}return t.next=3,this.hkt(this.cyt.wgt,n,i);case 3:this.fkt(this.ekt),bi(i),t.next=9;break;case 7:return t.next=9,this.vkt(n,i);case 9:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.hkt=function(){var t=vn.coroutine(fn.mark(function t(n,i,r){var e,u,s;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=0;case 1:if(!(e<n.length)){t.next=17;break}return u=n[e],s=new OV(this,u),t.prev=4,t.next=7,s.po(i,r);case 7:this.ekt.push(s),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(4),Ti(t.t0);case 14:e++,t.next=1;break;case 17:case"end":return t.stop()}},t,this,[[4,10]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.fkt=function(t){for(var n=tX(t),i=0;i<n.length;i++){var r=n[i],e=new $V(this,r.Th,r.wgt);this.ukt.push(e)}},i.vkt=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r,e,u;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.ekt;case 1:if(!(r<e.length)){t.next=8;break}return u=e[r],t.next=5,u.po(n,i);case 5:r++,t.next=1;break;case 8:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.eyt=function(){return this.cyt.eyt()},i.lyt=function(){return this.cyt.lyt()},i.vh=function(){this.bs(),this.cyt.Ts(bV.$wt,this.iyt);for(var t=0,n=this.ukt;t<n.length;t++){n[t].vh()}for(var i=0,r=this.ekt;i<r.length;i++){r[i].vh()}gi(this.ekt),gi(this.ukt)},T(n,[{key:"wgt",get:function(){return this.ekt}},{key:"_gt",get:function(){return this.ukt}},{key:"Mwt",get:function(){return this.cyt.$n.Mwt}},{key:"bv",get:function(){return this.cyt.bv}},{key:"om",get:function(){return this.um+this.bv}},{key:"Uwt",get:function(){return this.cyt.$n.Uwt||[]}},{key:"Th",get:function(){return this.cyt.Th}},{key:"nyt",get:function(){return this.skt}},{key:"vyt",get:function(){return this.okt}},{key:"dkt",get:function(){return this.okt.lkt(this)}},{key:"Ngt",get:function(){return this}},{key:"_kt",get:function(){return this.okt.gkt(this)}},{key:"wkt",get:function(){return this.akt(1/0,g.min)}},{key:"ykt",get:function(){return this.akt(0,g.max)}},{key:"um",get:function(){return this.cyt.um}},{key:"Td",get:function(){return this.vyt.Td}}]),n}(IV),rX=function(t){function n(){return t.call(this,Ta.gf)||this}return qt(n,t),n}(Vi);!function(t){t.mkt="kkt"}(nX||(nX={}));var eX=function(t){function n(){return t.call(this,nX.mkt)||this}return qt(n,t),n}(Vi),uX=function(t){function n(n,i){var r;return(r=t.call(this,n,i,i.vwt)||this).pkt=void 0,r.ayt=i,r.$mt(!0),r}qt(n,t);var i=n.prototype;return i.kyt=function(){return this.pyt.kyt(this)},i.Igt=function(t){return this.pyt.Igt(t,this)},i.fyt=function(t){return this.pyt.fyt(t,this)},i.dyt=function(){return this.pkt},i.rkt=function(t){var n=this.pgt,i=n.dyt(t),r=i&&function(t,n){var i,r=t.Xyt,e=t.qyt,u=t.Vyt,s=r.Ok,o=n.Jyt(e);if(o.getTime()<=u.getTime())i=e.xk;else{var a=(o.getTime()-u.getTime())/1e3,c=g.max(e.bv-a,0);i=e.Ok+c}return{um:s,om:i}}(i,n),e=this.pgt.lyt(t,i);return this.pkt=i,{Vyt:t,tkt:r,nkt:e}},i.po=function(t){this.Zmt(t,this.ayt.vwt)},T(n,[{key:"yyt",get:function(){return this.ayt}},{key:"Ngt",get:function(){return this.ayt.Ngt}},{key:"Fyt",get:function(){return this.ayt.Fyt}},{key:"pyt",get:function(){return this.Jmt()}},{key:"pgt",get:function(){return this.pyt.pgt}}]),n}(jV),sX=function(t){function n(n,i){var r;return(r=t.call(this,n,i,i.vwt)||this).Tyt=i,r.$mt(!1),r.byt=n.cgt.map(function(t){return new uX(t,jt(r))}),r}qt(n,t);var i=n.prototype;return i.po=function(t){this.Zmt(t,this.Tyt.vwt);var n=t.cgt||[];if(this.byt.length!==n.length)throw new d("Expected "+this.byt.length+' representations in adaptation set "'+t.Th+'", found '+n.length);for(var i=0;i<n.length;i++)this.byt[i].po(n[i])},i.ikt=function(n){for(var i=0,r=this.byt;i<r.length;i++){r[i].ikt(n)}t.prototype.ikt.call(this,n)},i.rkt=function(t){return{Vyt:t,tkt:YV(this.byt),nkt:ZV(this.byt)}},i.us=function(){for(var n=0,i=this.byt;n<i.length;n++){i[n].us()}t.prototype.us.call(this)},T(n,[{key:"cgt",get:function(){return this.byt}},{key:"Ngt",get:function(){return this.Tyt}},{key:"Fyt",get:function(){return this.Tyt.Fyt}},{key:"kwt",get:function(){return this.pu.kwt}}]),n}(jV),oX=function(t){function n(n,i,r,e){var u;return(u=t.call(this,i,void 0,n.vwt)||this).ukt=[],u.Akt=n,u.CA=r,u._F=e,u.$mt(!1),u.ekt=(i.wgt||[]).map(function(t){return new sX(t,jt(u))}),u.ukt=tX(u.ekt),u}qt(n,t);var i=n.prototype;return i.po=function(t,n){this.Zmt(t,this.Akt.vwt),this._F=n;var i=t.wgt||[];if(this.ekt.length!==i.length)throw new d("Expected "+this.ekt.length+' adaptation sets in period "'+t.Th+'", found '+i.length);for(var r=0;r<i.length;r++)this.ekt[r].po(i[r])},i.ikt=function(n){for(var i=0,r=this.ekt;i<r.length;i++){r[i].ikt(n)}t.prototype.ikt.call(this,n)},i.rkt=function(t){return{Vyt:t,tkt:YV(this.ekt),nkt:ZV(this.ekt)}},i.us=function(){for(var n=0,i=this.ekt;n<i.length;n++){i[n].us()}t.prototype.us.call(this)},T(n,[{key:"wgt",get:function(){return this.ekt}},{key:"_gt",get:function(){return this.ukt}},{key:"Ngt",get:function(){return this}},{key:"Fyt",get:function(){return this.Akt}},{key:"Th",get:function(){return this.pu.Th}},{key:"um",get:function(){return this.CA}},{key:"bv",get:function(){return this._F}}]),n}(jV),aX=new Date("2000-01-01"),cX=function(t){function n(n,i,r,e){var u;if((u=t.call(this)||this).Ymt=void 0,u.bkt=void 0,u.Tkt=void 0,u.Ekt=[],u.Skt=i,u.po(n,r,e),n.Pu===nH.RE){var s=u.vmt();s&&s.Hwt&&s.Hwt.getTime()<aX.getTime()&&(u.Tkt=new Date(u.Qwt.getTime()-1e3*(s.vht.Ok+s.vht.bv)),u.ikt(e))}return u}qt(n,t);var i=n.prototype;return i.eyt=function(){var t;return null===(t=this.Ymt)||void 0===t?void 0:t.tkt},i.lyt=function(){var t;return null===(t=this.Ymt)||void 0===t?void 0:t.nkt},i.po=function(t,n,i,e){var u;this.pu=t,this.Rkt=n,this.Ikt=null!=e?e:i,this.FH=i;var s,o=[(s=n,r.Ua(".",s))];this.Kmt=t.vwt&&t.vwt.length>0?xV(t.vwt.map(function(t){return t.gd}),o):o,this.Nkt=t.Xwt&&t.Xwt.length>0?xV(t.Xwt,this.Kmt):[];var a=this.Nkt.map(function(t){return t.href}),c=n.href;li(a,c)||(this.Nkt.push(n),a.push(c));var h=this.Skt.href;li(a,h)||(this.Nkt.push(this.Skt),a.push(h)),this.bkt=null===(u=t.vgt)||void 0===u?void 0:u.fgt();var f=t.Pu===nH.RE,v=function(t,n,i){for(var r=[],e=0;e<t.length;e++){var u=t[e],s=void 0;if(u.um)s=u.um.fgt();else if(e>0&&t[e-1].bv){var o=r[e-1],a=t[e-1].bv.fgt();s=o+a}else{if(0!==e||n)break;s=0}r.push(s)}for(var c=[],h=0;h<r.length-1;h++)c.push({$n:t[h],um:r[h],bv:r[h+1]-r[h]});if(r.length>0){var f=r.length-1,v=t[f],d=r[f],l=1/0;n||(l=v.bv?v.bv.fgt():i-d),c.push({$n:v,um:d,bv:l})}return c}(t.hgt,f,this.bkt);this.Dkt(v),this.ikt(i)},i.Dkt=function(t){var n=this.Ekt;if(0!==t.length){for(var i=t[0].$n.Th,r=0;r<n.length&&n[r].Th!==i;)r++;for(var e=n.splice(0,r),u=0;u<e.length;u++){e[u].us()}for(var s=0;s<t.length;s++){var o=t[s];if(s<n.length){var a=n[s];0,a.po(o.$n,o.bv)}else n.push(new oX(this,o.$n,o.um,o.bv))}}else gi(n)},i.ikt=function(t){for(var n=0,i=this.Ekt;n<i.length;n++){i[n].ikt(t)}var r=this.Ymt,e=this.rkt(t);r&&JV(r,e)||(this.Ymt=e,this.ys(new GV))},i.rkt=function(t){return{Vyt:t,tkt:QV(this.Ekt),nkt:ZV(this.Ekt)}},i.vmt=function(){if(0!==this.Ekt.length){var t=this.Ekt[this.Ekt.length-1];if(!isFinite(t.bv)&&0!==t.wgt.length){var n=t.wgt[0];if(0!==n.cgt.length){var i=n.cgt[0].pgt,r=i.vmt();if(r)return{vht:r,Hwt:i.zyt(r)}}}}},i.us=function(){this.bs();for(var t=0,n=this.Ekt;t<n.length;t++){n[t].us()}},T(n,[{key:"$n",get:function(){return this.pu}},{key:"Pu",get:function(){return this.pu.Pu||nH.SE}},{key:"Vwt",get:function(){return this.Tkt||this.pu.Vwt||this.Qwt}},{key:"Hwt",get:function(){return this.pu.Hwt}},{key:"vgt",get:function(){return this.bkt}},{key:"vwt",get:function(){return this.Kmt}},{key:"Xwt",get:function(){return this.Nkt}},{key:"hgt",get:function(){return this.Ekt}},{key:"Qwt",get:function(){return this.pu.Qwt||this.FH}},{key:"Zgt",get:function(){return this.pu.Zgt}},{key:"Ckt",get:function(){return this.Ikt}},{key:"Okt",get:function(){return this.FH}}]),n}(Fi);var hX=function(){function t(t,n,i){this.$A=t,this.xkt=n,this.Pkt=i,this.Bkt=0}var n=t.prototype;return n.wb=function(){var t=vn.coroutine(fn.mark(function t(n){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Lkt(n,this.$A,this.xkt,this.Pkt).catch(Ei);case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Mkt=function(){return new Date(Ft()+this.Bkt)},n.Lkt=function(){var t=vn.coroutine(fn.mark(function t(n,i,r,e){var u,s,o;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=4;break}return t.next=3,this.Ukt(i,e,r);case 3:u=t.sent;case 4:if(void 0!==u){t.next=17;break}bi(r),s=0;case 7:if(!(s<n.length)){t.next=17;break}return o=n[s],t.next=11,this.Fkt(i,o,r);case 11:if(void 0===(u=t.sent)){t.next=14;break}return t.abrupt("break",17);case 14:s++,t.next=7;break;case 17:this.Bkt=void 0===u?0:u-Ft();case 18:case"end":return t.stop()}},t,this)}));return function(n,i,r,e){return t.apply(this,arguments)}}(),n.Fkt=function(){var t=vn.coroutine(fn.mark(function t(n,i,r){var e,u,s,o;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=i.sgt,t.t0=e,t.next="urn:mpeg:dash:utc:http-xsdate:2012"===t.t0?4:"urn:mpeg:dash:utc:http-xsdate:2014"===t.t0?4:"urn:mpeg:dash:utc:http-iso:2012"===t.t0?4:"urn:mpeg:dash:utc:http-iso:2014"===t.t0?4:"urn:mpeg:dash:utc:direct:2012"===t.t0?10:"urn:mpeg:dash:utc:direct:2014"===t.t0?10:16;break;case 4:if(!(u=i.Pn)){t.next=9;break}return t.next=8,this.Ukt(n,u,r);case 8:return t.abrupt("return",t.sent);case 9:return t.abrupt("break",17);case 10:if(!(s=i.Pn)){t.next=15;break}if(o=new Date(s).getTime(),m(o)){t.next=15;break}return t.abrupt("return",o);case 15:return t.abrupt("break",17);case 16:return t.abrupt("return");case 17:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),n.Ukt=function(){var t=vn.coroutine(fn.mark(function t(n,i,r){var e,u,s;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.GA({gd:i,md:Dc.GET,kd:Rc.An,ls:r});case 3:return e=t.sent,t.next=6,e.rb();case 6:if(u=t.sent,s=new Date(u).getTime(),m(s)){t.next=10;break}return t.abrupt("return",s);case 10:t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),Ti(t.t0);case 16:case"end":return t.stop()}},t,null,[[0,12]])}));return function(n,i,r){return t.apply(this,arguments)}}(),t}(),fX=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).cyt=void 0,u.pZ=!0,u.Ekt=[],u.Hkt=void 0,u.Vkt=n,u.Xkt=n.Hh,u.Wkt=i,u.$A=r,u.qkt=e,u.zkt=new hX(u.$A,u.qkt,u.Vkt.Gkt),u}qt(n,t);var i=n.prototype;return i.Brt=function(t){var n=this.bl;this.pZ=t,n!==this.bl&&this.ys(new eX)},i.po=function(){var t=vn.coroutine(fn.mark(function t(n,i,e){var u,s,o,a,c,h,f,v,d,l,_,g,w;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=[],o=[],a=n.Wwt?r.Ua(n.Wwt,this.Xkt):this.Xkt,void 0!==this.cyt){t.next=10;break}return t.next=6,this.zkt.wb(n.Zwt);case 6:this.cyt=new cX(n,this.Xkt,a,this.Mkt()),this.cyt.ps(bV.$wt,this.gs),t.next=11;break;case 10:this.cyt.po(n,a,this.Mkt(),i);case 11:if(0===(c=this.cyt.hgt).length)h=this.Ekt.slice(),gi(this.Ekt);else{for(f=c[0].Th,v=0;v<this.Ekt.length&&this.Ekt[v].Th!==f;)v++;for(h=this.Ekt.splice(0,v),d=0;d<c.length;d++)l=c[d],_=void 0,d<this.Ekt.length?_=this.Ekt[d]:(_=new iX(this,l),s.push(_)),o.push(_.po(this.Wkt,e))}return t.next=15,vn.all(o);case 15:for((u=this.Ekt).push.apply(u,s),g=0,w=h;g<w.length;g++)w[g].ckt();this.ys(new rX);case 18:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.Mkt=function(){return this.zkt.Mkt()},i.gkt=function(t){var n=this.Ekt.indexOf(t);if(n>0)return this.Ekt[n-1]},i.lkt=function(t){var n=this.Ekt.indexOf(t);if(n>=0&&n+1<this.Ekt.length)return this.Ekt[n+1]},i.eyt=function(){return this.cyt?this.cyt.eyt():void 0},i.lyt=function(){return this.cyt&&this.cyt.lyt()},i.ikt=function(t){this.cyt&&this.cyt.ikt(t)},i.vh=function(){this.bs(),this.Hkt=void 0,this.Brt(!1);for(var t=0,n=this.Ekt;t<n.length;t++){n[t].vh()}gi(this.Ekt),this.cyt&&this.cyt.us()},T(n,[{key:"Hwt",get:function(){return this.cyt&&this.cyt.Hwt}},{key:"Vwt",get:function(){return this.cyt&&this.cyt.Vwt}},{key:"Th",get:function(){return this.cyt&&this.cyt.$n.Th}},{key:"Ckt",get:function(){var t;return null===(t=this.cyt)||void 0===t?void 0:t.Ckt}},{key:"jkt",get:function(){var t;return null===(t=this.cyt)||void 0===t?void 0:t.Okt}},{key:"Xwt",get:function(){return this.cyt?this.cyt.Xwt.map(function(t){return t.href}):[this.lgt]}},{key:"lgt",get:function(){return this.Xkt.href}},{key:"qwt",get:function(){return this.cyt&&this.cyt.$n.qwt}},{key:"zwt",get:function(){return this.cyt&&this.cyt.$n.zwt}},{key:"vgt",get:function(){return this.cyt&&this.cyt.$n.vgt}},{key:"Gwt",get:function(){return this.cyt&&this.cyt.$n.Gwt}},{key:"jwt",get:function(){var t,n,i=(null===(n=null===(t=this.cyt)||void 0===t?void 0:t.$n.jwt)||void 0===n?void 0:n.Ogt())||0;return g.max(i,dX)}},{key:"bl",get:function(){return this.pZ}},{key:"hgt",get:function(){return this.Ekt}},{key:"Qkt",get:function(){return this.Pu===nH.RE?this.Nyt:this.Ykt}},{key:"Zkt",get:function(){var t=this.Qkt;if(void 0!==t)for(var n=0,i=this.hgt;n<i.length;n++){var r=i[n];if(r.um<=t&&r.om>t)return r}}},{key:"owt",get:function(){return this.cyt&&this.cyt.$n.owt}},{key:"Qwt",get:function(){return this.cyt&&this.cyt.Qwt}},{key:"wkt",get:function(){for(var t=this.Ekt.length-1;t>=0;t-=1){var n=this.Ekt[t].wkt;if(n)return n}}},{key:"Nyt",get:function(){var t=this.wkt;if(void 0!==t){var n=t-this.Jkt;return g.max(n,this.Ykt)}}},{key:"Ykt",get:function(){for(var t=0,n=this.Ekt;t<n.length;t++){var i=n[t].ryt;if(void 0!==i)return i}}},{key:"Td",get:function(){return Boolean(this.Vkt.Td)}},{key:"Jkt",get:function(){var t=this.cyt&&this.cyt.$n.Ywt;return t?t.fgt():this.Pu===nH.RE?this.xtt:0}},{key:"xtt",get:function(){return this.Vkt.xtt?this.Vkt.xtt:1.5*this.Gwt.fgt()}},{key:"Zgt",get:function(){return this.cyt&&this.cyt.Zgt}},{key:"Pu",get:function(){return this.cyt?this.cyt.Pu:void 0}}]),n}(Fi),vX=function(){function t(t,n,i,r){this.okt=new fX(t,n,i,r)}return T(t,[{key:"vyt",get:function(){return this.okt}}]),t}(),dX=1e3,lX=g.pow(2,31)-1,_X=function(){function t(t,n,i,r){var e=this;this.$kt=new ki,this.Kkt=function(){var t=vn.coroutine(fn.mark(function t(n){var i,r;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,i=e.cyt.vyt.Mkt(),t.next=4,e.tpt(e.cyt.vyt.Xwt,n);case 4:return r=t.sent,t.next=7,e.cyt.vyt.po(r,i,n);case 7:t.next=13;break;case 9:throw t.prev=9,t.t0=t.catch(0),xl(t.t0)&&e.cyt.vyt.Brt(!1),t.t0;case 13:case"end":return t.stop()}},t,null,[[0,9]])}));return function(n){return t.apply(this,arguments)}}(),this.k8=r,this.cyt=new vX(t,n,i,this.$kt.ls)}var n=t.prototype;return n.sC=function(){var t=vn.coroutine(fn.mark(function t(n){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.cyt.vyt.ys(new RS),t.prev=1,t.next=4,nU(this.Kkt,n);case 4:this.cyt.vyt.Brt(!0),t.next=13;break;case 7:throw t.prev=7,t.t0=t.catch(1),Ti(t.t0),this.npt=void 0,this.cyt.vyt.Brt(!1),new d("The provided MPEG-DASH document could not be loaded - "+t.t0.message);case 13:this.ipt=this.rpt(this.$kt.ls);case 14:case"end":return t.stop()}},t,this,[[1,7]])}));return function(n){return t.apply(this,arguments)}}(),n.rpt=function(){var t=vn.coroutine(fn.mark(function t(n){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0;case 1:if(this.cyt.vyt.Pu!==nH.RE){t.next=6;break}return t.next=4,Si(this.ept,n);case 4:t.next=1;break;case 6:t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}},t,this,[[0,8]])}));return function(n){return t.apply(this,arguments)}}(),n.upt=function(){var t=vn.coroutine(fn.mark(function t(n){var i,r;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(bi(n),!((i=this.spt())>0)){t.next=6;break}return r=g.min(i,lX),t.next=6,Pi(r,n);case 6:return t.prev=6,t.next=9,nU(this.Kkt,n,1/0,dX,3e4);case 9:this.cyt.vyt.Brt(!0);case 10:return t.prev=10,this.apt=void 0,t.finish(10);case 13:case"end":return t.stop()}},t,this,[[6,,10,13]])}));return function(n){return t.apply(this,arguments)}}(),n.spt=function(){var t=this.cyt.vyt.Mkt().getTime()-this.cyt.vyt.Ckt.getTime();return this.cyt.vyt.jwt-t},n.cpt=function(t){var n=this.cyt.vyt.lyt();if(n){var i=n.getTime()-t.getTime();if(i>0)return i}this.cyt.vyt.ikt(t);var r=this.cyt.vyt.lyt();return r?r.getTime()-t.getTime():NaN},n.hpt=function(){var t=vn.coroutine(fn.mark(function t(n){var i;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.apt||(this.apt=this.upt(n)),(i=new ki).vs(n),t.prev=3,t.next=6,vn.race([this.apt,this.fpt(i.ls)].filter(M));case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(3),Ei(t.t0);case 11:return t.prev=11,i.fs(),t.finish(11);case 14:case"end":return t.stop()}},t,this,[[3,8,11,14]])}));return function(n){return t.apply(this,arguments)}}(),n.fpt=function(t){var n=this.cyt.vyt.Mkt(),i=this.cpt(n);if(!m(i))return this.vpt(i,t)},n.vpt=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Pi(n,i);case 2:r=this.cyt.vyt.Mkt(),this.cyt.vyt.ikt(r);case 4:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.tpt=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r,e;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.k8.w8(n,{},i,!1);case 2:return r=t.sent,e=new TV,t.abrupt("return",e.Jdt(r.o8,r.QA));case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.vh=function(){return this.$kt.fs(),this.ipt=void 0,this.npt=void 0,this.apt=void 0,this.cyt.vyt.vh(),vn.resolve()},T(t,[{key:"dpt",get:function(){return this.cyt}},{key:"S0",get:function(){return this.npt||(this.npt=this.sC(this.$kt.ls),Ci(this.npt)),this.npt}},{key:"ept",get:function(){return this.cyt.vyt.jkt&&this.cyt.vyt.Pu===nH.RE?this.hpt(this.$kt.ls):this.S0}}]),t}(),gX=function(){function t(t,n,i){this.k8=t,this.lpt=n,this._pt=i}var n=t.prototype;return n.gpt=function(){var t=vn.coroutine(fn.mark(function t(n){var i;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.src){t.next=2;break}throw new d("Invalid typed source");case 2:if(!uv(i=n.type)){t.next=9;break}return t.next=6,this.wpt(n);case 6:return t.abrupt("return",t.sent);case 9:if(!rc(i)){t.next=15;break}return t.next=12,this.ypt(n);case 12:return t.abrupt("return",t.sent);case 15:throw new d("Unexpected source type");case 16:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.wpt=function(){var t=vn.coroutine(fn.mark(function t(n){var i;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_H(n.src,this.k8);case 3:return i=t.sent,t.next=6,wH(i,this.k8);case 6:return t.abrupt("return",t.sent);case 9:throw t.prev=9,t.t0=t.catch(0),new d("Unable to fetch HLS manifest");case 12:case"end":return t.stop()}},t,this,[[0,9]])}));return function(n){return t.apply(this,arguments)}}(),n.ypt=function(){var t=vn.coroutine(fn.mark(function t(n){var i;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,i=new _X({Hh:r.Ua(n.src),xtt:n.liveOffset,Gkt:n.timeServer,Td:n.useCredentials},this._pt,lT.nO,this.k8),t.next=4,i.S0;case 4:return t.next=6,QF(i.dpt.vyt,n.contentProtection,this.lpt);case 6:return t.abrupt("return",t.sent);case 9:throw t.prev=9,t.t0=t.catch(0),new d("Unable to fetch DASH manifest");case 12:case"end":return t.stop()}},t,this,[[0,9]])}));return function(n){return t.apply(this,arguments)}}(),t}(),wX=function(){var t=vn.coroutine(fn.mark(function t(n){var i,e,u,s,o;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n.OS,MediaSource.isTypeSupported(i)||Ul(n.NI,n.hJ)){t.next=3;break}return t.abrupt("return",!1);case 3:if(!n.agt){t.next=17;break}e=n.agt,u=yi(e,function(t){return zn(t.sgt)}).filter(M),s=0;case 7:if(!(s<u.length)){t.next=16;break}return o=u[s],t.next=11,r.Qu(o,i);case 11:if(!t.sent){t.next=13;break}return t.abrupt("return",!0);case 13:s++,t.next=7;break;case 16:return t.abrupt("return",!1);case 17:return t.abrupt("return",!0);case 18:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),yX=function(){function t(t){this.mpt=[],this.kpt=0,this.ppt=t}var n=t.prototype;return n.Apt=function(){var t=new se;return this.mpt.push(t),this.bpt(),t.to},n.Tpt=function(){var t=vn.coroutine(fn.mark(function t(n,i){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n;case 2:this.kpt-=1,this.bpt(),0===this.mpt.length&&0===this.kpt&&i.io(!0);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.bpt=function(){this.mpt.length>0&&this.kpt<this.ppt&&(this.mpt.shift().io(),this.kpt+=1)},t}();function mX(t,n){for(var i=0,r=0,e=t.uy.qK.map(function(t){return t.bv});r<e.length;r++){if((i+=e[r])>=n)return i}return i}var kX=function(t){function n(n,i,r,e,u,s,o,a){var c;void 0===a&&(a=wX),(c=t.call(this)||this).Ept=new se,c.Spt=BF.igt(),c.A8=n,c.JK=i,c.k8=r,c.Rpt=e,c.Ipt=u,c.lpt=s,c._pt=a,c.V_t=o,c.Npt=-1;var h=c.A8.aR.sources[0];return c.Dpt=h,c.xd=c.$d(),c.Cpt=new yX(c.A8.BA.parallelTasksThreshold),c}qt(n,t);var i=n.prototype;return i.$d=function(){var t=vn.coroutine(fn.mark(function t(){var n,i,r,e,u,s,o,a,c,h,f,v,d,l,_,w,y,m,k,p,A,b,T,E,S,R,I,N,D=this;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=new gX(this.k8,this.lpt,this._pt),t.next=3,i.gpt(this.Dpt);case 3:return this.IJ=t.sent,r=this.A8.BA.amount,e=this.IJ.bv,u=UF(r,e),this.$_t=u,o=eO(this.IJ.dgt[0]),t.next=11,this.JK.WK.HK(o,"manifestURL");case 11:for(a=t.sent.filter(function(t){return li(t.references,D.A8.Th)}),c=[],h=this.A8.BA.bandwidth,f=0,v=this.IJ.hgt;f<v.length;f++)for(d=v[f],l=0,_=d.ggt;l<_.length;l++)for(w=_[l],y=0,m=bX(w.lg);y<m.length;y++)for(k=m[y],p=0,A=TX(k.Nh,h);p<A.length;p++)b=A[p],c.push(b);if(this.Npt=g.ceil(c.map(function(t){return t.yC*mX(t,u)/8}).reduce(function(t,n){return t+n},0)),T=_n(),a&&0!==a.length){for(E=a.reduce(function(t,n){return t+n.byteSize},0),S=function(t){var i=a[t],r=i.qualityId,e=new xf(i.startsAndEnds);if(T.has(r))T.get(r).timeRanges=T.get(r).timeRanges.Lm(e).Pm(5e-4);else{var u=hi(c,function(t){return t.Th===r}),s=g.min(D.$_t,null!==(n=null==u?void 0:u.uy.bv)&&void 0!==n?n:1/0);T.set(r,{timeRanges:e,totalQualityDurationToCache:s})}},R=0;R<a.length;R++)S(R);s=new BF(E,T,this.$_t)}else{for(I=0;I<c.length;I++)N=c[I],T.set(N.Th,{timeRanges:xf.ik(),totalQualityDurationToCache:g.min(N.uy.bv,this.$_t)});s=new BF(0,T,this.$_t)}this.Opt=s;case 19:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.xpt=function(){var t=vn.coroutine(fn.mark(function t(n){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.xd;case 2:return t.next=4,this.Ppt(this.IJ,n);case 4:return t.next=6,this.Ept.to;case 6:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Ppt=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r,e,u,s;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.dgt){t.next=2;break}throw new d("Unexpected - manifest is missing locations");case 2:return t.next=4,this.Bpt();case 4:for(r=[],e=0,u=n.hgt;e<u.length;e++)s=u[e],r.push(this.Lpt(s,n.dgt[0],i));return t.abrupt("return",vn.all(r));case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Bpt=function(){var t=vn.coroutine(fn.mark(function t(){var n,i,r,e;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Rpt.FK();case 2:n=t.sent,i=0;case 4:if(!(i<n.length)){t.next=25;break}return r=n[i],t.next=8,this.JK.zK.Vs(r.key);case 8:if(!(e=t.sent)){t.next=14;break}return t.next=12,pX(e,this.A8.Th,this.JK.zK,this.V_t);case 12:t.next=22;break;case 14:return t.prev=14,t.next=17,this.JK.zK.LK(r,this.V_t);case 17:t.next=22;break;case 19:throw t.prev=19,t.t0=t.catch(14),new HF("Unable to store manifest with url: "+r.locationURL,t.t0);case 22:i++,t.next=4;break;case 25:return t.next=27,this.Rpt.XK();case 27:case"end":return t.stop()}},t,this,[[14,19]])}));return function(){return t.apply(this,arguments)}}(),i.Lpt=function(){var t=vn.coroutine(fn.mark(function t(n,i,r){var e,u,s,o,a,c,h;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=[],u=0,s=n.ggt;u<s.length;u++)for(o=s[u],a=bX(o.lg),c=0;c<a.length;c++)h=a[c],e.push(this.Mpt(h,i,r));return t.abrupt("return",vn.all(e));case 3:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.Mpt=function(){var t=vn.coroutine(fn.mark(function t(n,i,r){var e,u,s,o,a;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.A8.BA.bandwidth,u=TX(n.Nh,e),n.Pu!==Tf.ld||!n.kgt||!n.kgt.$b.widevine||"persistent"!==n.kgt.$b.widevine.licenseType){t.next=6;break}return t.next=5,this.Upt(n.kgt);case 5:bi(r);case 6:for(s=[],o=0;o<u.length;o++)a=u[o],s.push(this.Fpt(a,i,r));return t.abrupt("return",vn.all(s));case 9:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.Fpt=function(){var t=vn.coroutine(fn.mark(function t(n,i,r){var e,u,s,o,a,c;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(bi(r),!n.z9){t.next=7;break}return e={Ok:0,bv:0,Rgt:n.z9},t.next=5,this.Cpt.Apt();case 5:bi(r),Ci(this.Cpt.Tpt(this.Hpt(e,n,i),this.Ept));case 7:u=n.uy.qK[0].Ok,s=u+this.$_t,o=0,a=n.uy.qK;case 10:if(!(o<a.length)){t.next=22;break}if(!((c=a[o]).Ok>=s)){t.next=14;break}return t.abrupt("break",22);case 14:return t.next=16,this.Cpt.Apt();case 16:return t.next=18,this.Vpt(r);case 18:Ci(this.Cpt.Tpt(this.Hpt(c,n,i),this.Ept));case 19:o++,t.next=10;break;case 22:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.Vpt=function(){var t=vn.coroutine(fn.mark(function t(n){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(null==n?void 0:n.$u)){t.next=4;break}return t.next=3,this.Ept.to;case 3:throw new pi;case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Xpt=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.xd;case 2:return t.abrupt("return",this.IJ);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Upt=function(t){return vn.resolve()},i.Wpt=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return rt("License renewal unsupported in this SDK."),t.abrupt("return");case 2:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),i.Hpt=function(){var t=vn.coroutine(fn.mark(function t(n,i,r){var e,u,s,o,a,c,h,f=this;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.JK.WK,u=uO(n.Rgt.gd,n.Rgt.BY),t.next=4,e.Vs(u);case 4:if(!(s=t.sent)){t.next=11;break}return t.next=8,pX(s,this.A8.Th,e,this.V_t);case 8:this.qpt(s,!1),t.next=24;break;case 11:return t.prev=11,t.next=14,this.zpt(n.Rgt);case 14:return o=t.sent,a=this.Gpt(n,i,r,o),c=a.segmentMetadataEntry,h=a.segmentEntry,t.next=18,this.JK.QK(function(){var t=vn.coroutine(fn.mark(function t(n){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.WK.LK(c,f.V_t);case 2:return t.next=4,n.qK.LK(h,f.V_t);case 4:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}());case 18:this.qpt(c,!0),t.next=24;break;case 21:throw t.prev=21,t.t0=t.catch(11),new HF("Unable to store segment with url: "+n.Rgt.gd,t.t0);case 24:case"end":return t.stop()}},t,this,[[11,21]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.zpt=function(){var t=vn.coroutine(fn.mark(function t(n){var i;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Ipt.jpt(n,!1);case 2:return i=t.sent,t.next=5,this.Qpt(i);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Qpt=function(){var t=vn.coroutine(fn.mark(function t(n){var i;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.LT();case 2:return i=t.sent,t.abrupt("return",{buffer:i});case 4:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.Gpt=function(t,n,i,r){var e=uO(t.Rgt.gd,t.Rgt.BY),u=t.Ok,s=t.bv,o=this.Ypt(r);return{segmentMetadataEntry:{key:e,segmentURLsegmentByteRange:e,manifestURL:eO(i),qualityId:n.Th,byteSize:o,startsAndEnds:new xf([u,u+s]).cm,references:[this.A8.Th]},segmentEntry:{key:e,segmentURLsegmentByteRange:e,manifestURL:eO(i),data:r}}},i.Ypt=function(t){return t.buffer.byteLength},i.qpt=function(t,n){var i=t.qualityId,r=this.Spt,e=r._k;e.get(i).timeRanges=e.get(i).timeRanges.Lm(new xf(t.startsAndEnds)).Pm(5e-4),this.Opt=new BF(n?r.rgt+t.byteSize:r.rgt,e,this.$_t)},T(n,[{key:"Zpt",get:function(){return this.Npt}},{key:"Opt",get:function(){return this.Spt},set:function(t){this.Spt.hm(t)||(this.Spt=t,t.hm(BF.igt())||this.ys(new PF))}}]),n}(Fi);function pX(t,n,i,r){return AX.apply(this,arguments)}function AX(){return(AX=vn.coroutine(fn.mark(function t(n,i,r,e){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(li(n.references,i)){t.next=4;break}return n.references.push(i),t.next=4,r.LK(n,e);case 4:case"end":return t.stop()}},t)}))).apply(this,arguments)}function bX(t){return t.length?[t[0]]:[]}function TX(t,n){if(!t.length)return[];var i=[].concat(t).sort(OF),r=i.filter(function(t){return t.yC<=n});return r.length>0?[r.pop()]:[i.shift()]}var EX=function(){function t(t){this.dE=new Kl,this.$A=t}var n=t.prototype;return n.GA=function(t){var n=this,i=new se;return this.dE.vb(function(r){return n.Jpt(i,t,r)},t.ls).catch(j),i.to},n.tN=function(t){return this.$A.tN(t)},n.Jpt=function(){var t=vn.coroutine(fn.mark(function t(n,i,r){var e,u,s;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return bi(r),e=new Mc({gd:i.gd,ls:r},i),u=this.$A.GA(e),n.io(u),t.next=6,u;case 6:return s=t.sent,t.next=9,s.wD();case 9:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),n.vh=function(){this.dE.vh()},T(t,[{key:"JC",get:function(){return this.$A.JC}}]),t}(),SX=function(){function t(t){this.$A=t,this.$pt=new EX(this.$A)}var n=t.prototype;return n.jpt=function(t,n,i){return this.rit(t,n,!0,!1,i)},n.Kpt=function(t,n,i){return this.rit(t,n,!1,!1,i)},n.tAt=function(t,n,i){return this.rit(t,n,!1,!0,i)},n.rit=function(){var n=vn.coroutine(fn.mark(function n(i,r,e,u,s){var o;return fn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return bi(s),n.next=3,this.nAt(i,e,u,s);case 3:if(o=n.sent,!r){n.next=8;break}return n.abrupt("return",t.iAt(o));case 8:return n.abrupt("return",this.rAt(o));case 9:case"end":return n.stop()}},n,this)}));return function(t,i,r,e,u){return n.apply(this,arguments)}}(),n.rAt=function(t){return t},t.iAt=function(t){return t},n.nAt=function(t,n,i,r){var e=new Mc({gd:t.gd,kd:Sc.zv,yd:t.BY?{Range:"bytes="+t.BY[0]+"-"+t.BY[1]}:void 0,Td:t.Td,md:Dc.GET,Pu:Cc.td,Ad:i?Oc.rd:Oc.$v,bd:this.eAt,ls:r});return n?this.$pt.GA(e):this.$A.GA(e)},T(t,[{key:"eAt",get:function(){return xc.$v}}]),t}(),RX=function(){function t(t){this.$A=t}return t.prototype.Gmt=function(){var t=vn.coroutine(fn.mark(function t(n,i,r,e){var u;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$A.GA({gd:n,kd:Rc.zv,yd:{Range:"bytes="+i[0]+"-"+i[1]},Td:r,md:Dc.GET,Pu:Cc.$v,ls:e});case 2:return u=t.sent,t.next=5,u.LT();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}},t,this)}));return function(n,i,r,e){return t.apply(this,arguments)}}(),t}(),IX=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).vht=n,e}return qt(n,t),n}(Yt),NX=function(){function t(t){this.y8=t}return t.prototype.Gmt=function(){var t=vn.coroutine(fn.mark(function t(n,i,r,e){var u,s;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.y8._8(n,i);case 2:if(!(u=t.sent)){t.next=5;break}return t.abrupt("return",u.buffer);case 5:return t.next=7,this.y8._8(n);case 7:if(!(s=t.sent)){t.next=10;break}return t.abrupt("return",ie(new k(s.buffer),i[0],i[1]));case 10:throw new IX({gd:n,BY:i,Td:!1});case 11:case"end":return t.stop()}},t,this)}));return function(n,i,r,e){return t.apply(this,arguments)}}(),t}(),DX={key:"",segmentURLsegmentByteRange:"",manifestURL:"",qualityId:"",byteSize:0,startsAndEnds:new xf([0,0]).cm,references:[]},CX={key:"",segmentURLsegmentByteRange:"",manifestURL:"",data:""},OX=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n)||this).uAt=new RX(i),s.JK=r,s.sAt=e,s.V_t=u,s}qt(n,t);var i=n.prototype;return i.Gmt=function(){var n=vn.coroutine(fn.mark(function n(i,r,e,u){var s;return fn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.prototype.Gmt.call(this,i,r,e,u);case 3:return n.abrupt("return",n.sent);case 6:n.prev=6,n.t0=n.catch(0),Ti(n.t0);case 9:return n.next=11,this.uAt.Gmt(i,r,e,u);case 11:return s=n.sent,n.next=14,this.oAt(i,r,s);case 14:return n.abrupt("return",s);case 15:case"end":return n.stop()}},n,this,[[0,6]])}));return function(t,i,r,e){return n.apply(this,arguments)}}(),i.oAt=function(){var t=vn.coroutine(fn.mark(function t(i,r,e){var u,s,o,a,c,h,f,v=this;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==this.sAt){t.next=2;break}return t.abrupt("return");case 2:return u=this.JK.WK,s=uO(i,r),t.next=6,u.Vs(s);case 6:if(!(o=t.sent)){t.next=12;break}return t.next=10,pX(o,this.sAt,u);case 10:t.next=22;break;case 12:return t.prev=12,a={buffer:e},c=n.Gpt(s,a,this.sAt),h=c.segmentMetadataEntry,f=c.segmentEntry,t.next=17,this.JK.QK(function(){var t=vn.coroutine(fn.mark(function t(n){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.WK.LK(h,v.V_t);case 2:return t.next=4,n.qK.LK(f,v.V_t);case 4:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}());case 17:t.next=22;break;case 19:throw t.prev=19,t.t0=t.catch(12),new HF("Unable to store segment with url: "+i,t.t0);case 22:case"end":return t.stop()}},t,this,[[12,19]])}));return function(n,i,r){return t.apply(this,arguments)}}(),n.Gpt=function(t,n,i){return{segmentMetadataEntry:dn(dn({},DX),{key:t,segmentURLsegmentByteRange:t,references:[i]}),segmentEntry:dn(dn({},CX),{key:t,segmentURLsegmentByteRange:t,data:n})}},n}(NX);var xX=function(t){function n(){return t.apply(this,arguments)||this}return qt(n,t),n.prototype.aAt=function(t,n,i,r,e,u,s){return new kX(t,n,i,r,e,u,s)},n}(function(){function t(t){this.$A=t}return t.prototype.QC=function(t,n,i){void 0===i&&(i="persistent");var r=Boolean(t.aR.sources[0].useCredentials),e=new SX(this.$A),u=new $P(this.$A,r),s=new KP(n.zK,n.WK,n.qK,n.jK),o=function(t,n,i,r,e){return new OX(n,t,i,r,e)}(this.$A,s,n,t.Th,i),a=new JC,c=new eB(rB(u,s),a,t);return this.aAt(t,n,c,a,e,o,i)},t}());function PX(t){var n,i={get id(){return t.Th},get status(){return t.YA},get source(){return t.aR},get parameters(){return t.BA},get duration(){return t.bv},get cached(){return t.cAt.mm()},get secondsCached(){return t.hAt},get percentageCached(){return t.fAt},get bytes(){return t.vAt},get bytesCached(){return t.dAt},get license(){return t.jI.Bc},start:function(){t.um()},pause:function(){t.zd()},remove:function(){t.ko()},addEventListener:function(t,i){n.ps(t,i)},removeEventListener:function(t,i){n.Ts(t,i)}};return n=new fE(t,i),i}var BX=function(){function t(t,n,i){this.A8=t,this.JK=n,this.IJ=i}var n=t.prototype;return n.lAt=function(){var t=vn.coroutine(fn.mark(function t(){var n=this;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.JK.QK(function(){var t=vn.coroutine(fn.mark(function t(i){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._At(i);case 2:return t.next=4,n.gAt(i);case 4:return t.next=6,n.wAt(i);case 6:return t.next=8,n.yAt(i);case 8:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n._At=function(){var t=vn.coroutine(fn.mark(function t(n){var i,r;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.GK,r=this.A8.Th,t.next=4,i.ko(r);case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.gAt=function(){var t=vn.coroutine(fn.mark(function t(n){var i,r,e,u,s,o,a=this;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.WK,r=n.qK,e=eO(this.A8.aR.sources[0].src),t.next=5,i.HK(e,"manifestURL");case 5:u=t.sent.filter(function(t){return li(t.references,a.A8.Th)}),s=0;case 7:if(!(s<u.length)){t.next=22;break}if(vi((o=u[s]).references,this.A8.Th),0!==o.references.length){t.next=17;break}return t.next=13,i.ko(o.key);case 13:return t.next=15,r.ko(o.key);case 15:t.next=19;break;case 17:return t.next=19,i.LK(o);case 19:s++,t.next=7;break;case 22:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.wAt=function(){var t=vn.coroutine(fn.mark(function t(n){var i,r,e,u,s,o=this;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.zK,r=this.mAt(),t.next=4,i.UK(r);case 4:e=t.sent.filter(function(t){return li(t.references,o.A8.Th)}),u=0;case 6:if(!(u<e.length)){t.next=19;break}if(vi((s=e[u]).references,this.A8.Th),0!==s.references.length){t.next=14;break}return t.next=12,i.ko(s.key);case 12:t.next=16;break;case 14:return t.next=16,i.LK(s);case 16:u++,t.next=6;break;case 19:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.mAt=function(){if(!this.IJ)return[];var t=eO(this.A8.aR.sources[0].src),n=function(t){if(!t)return[];for(var n=[],i=0,r=t.hgt;i<r.length;i++)for(var e=0,u=r[i].ggt;e<u.length;e++)for(var s=0,o=u[e].lg;s<o.length;s++)for(var a=0,c=o[s].Nh;a<c.length;a++){var h=c[a];h.Dgt&&n.push(h.Dgt)}return n.reduce(function(t,n){return t.indexOf(n)<0&&t.push(n),t},[])}(this.IJ).map(function(t){return{src:t}}).map(function(t){return eO(t.src)});return[t].concat(n)},n.yAt=function(){var t=vn.coroutine(fn.mark(function t(n){var i,r,e,u,s=this;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.jK,t.next=3,i.FK();case 3:r=t.sent.filter(function(t){return li(t.references,s.A8.Th)}),e=0;case 5:if(!(e<r.length)){t.next=19;break}if(vi((u=r[e]).references,this.A8.Th),0!==u.references.length){t.next=14;break}return t.next=11,i.ko(u.key);case 11:this.kAt(u),t.next=16;break;case 14:return t.next=16,i.LK(u);case 16:e++,t.next=5;break;case 19:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.kAt=function(t){},t}(),LX=new(function(){function t(){}return t.prototype.QC=function(t,n,i){return new BX(t,n,i)},t}());var MX=function(){function t(t,n){this.Sr=t,this.pAt=n}var n=t.prototype;return n.B4=function(t){this.AAt(t)},n.AAt=function(){var t=vn.coroutine(fn.mark(function t(n){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.pAt.Wpt(n);case 3:t.next=9;break;case 5:t.prev=5,t.t0=t.catch(0),this.Sr.W_t(mF.ERROR);case 9:case"end":return t.stop()}},t,this,[[0,5]])}));return function(n){return t.apply(this,arguments)}}(),T(t,[{key:"Bc",get:function(){var t;return this.Pc||(this.Pc=(t=this,{renew:function(n){t.B4(n)}})),this.Pc}}]),t}(),UX=function(t){function n(n,i,r,e,u,s){var o;(o=t.call(this)||this).bAt=new ki,o.evictOnLoading=function(){o.Ts("I_t",o.evictOnLoading),o.TAt()},o.kk=n,o.Kvt=i,o.EAt=r,o.JK=e,o.pAt=u.QC(jt(o),o.JK,s),o.SAt=new MX(jt(o),o.pAt),o.F_t=1===o.pAt.Opt.egt?mF.DONE:mF.IDLE,o.pAt.ps("oK",function(t){o.gs(t),1===o.fAt&&o.W_t(mF.DONE)});var a=new Date,h=o.EAt.expirationDate.getTime()-a.getTime();return h<2147483647&&c(function(){return o.TAt()},h),o}qt(n,t);var i=n.prototype;return i.W_t=function(t){this.F_t!==t&&(this.F_t=t,this.ys(new pF))},i.um=function(){this.F_t===mF.EVICTED||this.F_t===mF.DONE||this.RAt()},i.RAt=function(){var t=vn.coroutine(fn.mark(function t(){var n;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.W_t(mF.LOADING),n=new ki,this.bAt=n,t.next=6,this.pAt.xpt(n.ls);case 6:this.W_t(mF.DONE),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),Ai(t.t0)?this.W_t(mF.IDLE):this.W_t(mF.ERROR);case 12:return t.prev=12,this.bAt.us(),t.finish(12);case 15:case"end":return t.stop()}},t,this,[[0,9,12,15]])}));return function(){return t.apply(this,arguments)}}(),i.zd=function(){this.bAt.fs()},i.ko=function(){this.YA===mF.LOADING?(this.ps("I_t",this.evictOnLoading),this.zd()):this.TAt()},i.TAt=function(){var t=vn.coroutine(fn.mark(function t(){var n;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.pAt.Xpt();case 3:return n=t.sent,t.next=6,LX.QC(this,this.JK,n).lAt();case 6:this.pAt.Opt=BF.igt(),this.W_t(mF.EVICTED),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),this.W_t(mF.ERROR);case 14:case"end":return t.stop()}},t,this,[[0,10]])}));return function(){return t.apply(this,arguments)}}(),T(n,[{key:"Bc",get:function(){return this.Pc||(this.Pc=PX(this)),this.Pc}},{key:"Th",get:function(){return this.kk}},{key:"jI",get:function(){return this.SAt}},{key:"YA",get:function(){return this.F_t}},{key:"aR",get:function(){return this.Kvt}},{key:"BA",get:function(){return this.EAt}},{key:"bv",get:function(){return this.pAt.Opt.Jm}},{key:"cAt",get:function(){return this.pAt.Opt.ngt}},{key:"hAt",get:function(){return this.pAt.Opt.tgt}},{key:"fAt",get:function(){return this.pAt.Opt.egt}},{key:"vAt",get:function(){return this.pAt.Zpt}},{key:"dAt",get:function(){return this.pAt.Opt.rgt}}]),n}(ma);var FX=function(){function t(t,n){this.JK=t,this.IAt=n}var n=t.prototype;return n.j_t=function(t,n,i){var r=Iy();return this.z_t(r,t,n,i)},n.z_t=function(t,n,i,r){return new UX(t,n,i,this.JK,this.IAt,r)},t}(),HX=30,VX=5;function XX(t){if(!t)throw new d("Unexpected - The cache parameters are undefined");var n=function(t){if(X(t)&&!jn(t,"%"))return w(t);return t}(t.amount);!function(t){if(i=t,X(i)&&jn(i,"%")){var n=y(t);if(m(n)||n<0||n>100)throw new d("The amount as percentage must be between 0 and 100 percent.")}var i;if(!X(t)&&m(t))throw new d("The amount must be a number or a string")}(n);var i=function(t){if(!t)return(n=new Date).setMinutes(n.getMinutes()+HX),n;var n;return t}(t.expirationDate);!function(t){if(t&&(n=t,n&&!(z(n)&&n>new Date)))throw new d("Invalid expiration date for the cache parameters");var n}(i);var r=function(t){if(void 0===t)return 1/0;return t}(t.bandwidth);return function(t){if(m(t)||t<0)throw new d("The bandwidth must be between zero and infinity.")}(r),{amount:n,expirationDate:i,bandwidth:r,parallelTasksThreshold:function(t){if(!t)return VX;if(m(t))throw new d("The amount must be a number");return t}(t.numberOfParallelTasks)}}var WX=function(t){function n(n,i){var r;return(r=t.call(this)||this).NAt=n,r.XB=i,r.NAt.ps("I_t",r.gs),r}return qt(n,t),n.prototype.DAt=function(t,n,i){var r,e;if(!t)throw new d("Unexpected - The source description is undefined");if(r=lv(t),e=XX(n),iv(r))throw new d("Invalid source description");return this.NAt.z_t(r,e).Bc},T(n,[{key:"Bc",get:function(){var t,n,i;return this.Pc||(this.Pc=(i={get status(){return t.YA},get tasks(){return t.Z_t},get network(){return t.$B.Bc},createTask:function(n,i){return t.DAt(n,i)},addEventListener:function(t,i){n.ps(t,i)},removeEventListener:function(t,i){n.Ts(t,i)}},n=new fE(t=this,i),i)),this.Pc}},{key:"YA",get:function(){return this.NAt.YA}},{key:"Z_t",get:function(){return this.NAt.Z_t.Bc}},{key:"$B",get:function(){return this.XB}}]),n}(ma);(qX=new QT(lT.KC,!1),zX=rO.gn,GX=new xX(qX),jX=new FX(zX,GX),QX=new ZT(qX),YX=new CF(zX.GK,jX,"persistent"),new WX(YX,QX)).Bc;var qX,zX,GX,jX,QX,YX,ZX=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this)._F=0,u.CAt=xf.ik(),u.OAt=0,u.xAt=0,u.kk=n,u.F_t=mF.IDLE,u.Kvt=i,u.EAt=r,u.NAt=e,u}qt(n,t);var i=n.prototype;return i.um=function(){this.NAt.startCachingTask(this)},i.ko=function(){this.NAt.removeCachingTask(this)},T(n,[{key:"Bc",get:function(){return this.Pc||(this.Pc=PX(this)),this.Pc}},{key:"Th",get:function(){return this.kk}},{key:"YA",get:function(){return this.F_t},set:function(t){this.F_t!==t&&(this.F_t=t,this.ys(new pF))}},{key:"aR",get:function(){return this.Kvt}},{key:"BA",get:function(){return this.EAt}},{key:"bv",get:function(){return this._F},set:function(t){this._F=t}},{key:"cAt",get:function(){return this.CAt},set:function(t){this.CAt=t}},{key:"hAt",get:function(){return this.OAt},set:function(t){this.OAt=t}},{key:"fAt",get:function(){return this.xAt},set:function(t){this.xAt=t,this.ys(new PF)}}]),n}(ka),JX=30;function $X(t){var n,i;if(!t)throw new d("Unexpected - The cache parameters are undefined");if(t.expirationDate?n=t.expirationDate:(n=new Date).setMinutes(n.getMinutes()+JX),n&&((i=n)&&!(z(i)&&i>new Date)))throw new d("Invalid expiration date for the cache parameters");return{expirationDate:n}}var KX=function(t){function n(){var n;return(n=t.call(this)||this).F_t=EF.UNINITIALISED,n.ob=new DF,n.PAt=function(t){if(t.detail){var i=n.findTaskWithId(t.detail.id);i&&(i.YA=mF.EVICTED,i.fAt=0,i.hAt=0,i.bv=0,i.cAt=xf.ik(),n.ob.ko(i))}},n.BAt=function(t){if(t.detail){var i=n.findTaskWithId(t.detail.id);if(i){var r=t.detail.status;r&&(i.YA=r);var e=t.detail.percentage;e&&(i.fAt=e);var u=t.detail.duration;u&&(i.bv=u);var s=t.detail.seconds;s&&(i.hAt=s);var o=t.detail.cached;if(o){for(var a=[],c=0;c<o.length;c++){var h=o[c];a.push(h.start,h.end)}i.cAt=new xf(a)}}}},n.LAt=function(t){if(t.detail){var i=lv(JSON.parse(t.detail.source));if(!n.MAt(i)){var r={},e=t.detail.expirationDate;e&&(r={expirationDate:new Date(e)});var u=t.detail.uuid;n.z_t(i,$X(r),u)}}},n.UAt=function(t){if(t.detail){var i={},r=t.detail.expirationDate;r&&(i={expirationDate:new Date(r)});var e=JSON.parse(t.detail.source),u=t.detail.uuid,s=n.z_t(lv(e),$X(i),u);s.YA=t.detail.status,s.fAt=t.detail.percentage,s.bv=t.detail.duration,s.hAt=t.detail.seconds;for(var o=t.detail.cached,a=[],c=0;c<o.length;c++){var h=o[c];a.push(h.start,h.end)}s.cAt=new xf(a)}},n.FAt=function(t){t.detail&&n.W_t(t.detail.status)},n.Ilt=new gF,n.jlt=new YU,WU().cache={sdkEventBus:n.jlt},n.u$(),n}qt(n,t);var i=n.prototype;return i.W_t=function(t){this.F_t!==t&&(this.F_t=t,this.ys(new pF))},i.z_t=function(t,n,i){void 0===i&&(i=void 0);var r=new ZX(i||Iy(),t,n,this);return this.ob.Bm(r),i||this.Ilt.oj("THEOplayerCacheCreateCachingTask",{source:t,parameters:n,id:r.Th}),r},i.findTaskWithId=function(t){for(var n=0,i=this.ob.B_t;n<i.length;n++){var r=i[n];if(r.Th===t)return r}},i.MAt=function(t){for(var n=nW(t.sources),i=0,r=this.ob.B_t;i<r.length;i++){if(nW(r[i].aR.sources).src===n.src)return!0}return!1},i.u$=function(){this.jlt.addEventListener("deleteTask",this.PAt),this.jlt.addEventListener("updateValues",this.BAt),this.jlt.addEventListener("newTask",this.LAt),this.jlt.addEventListener("restoreTask",this.UAt),this.jlt.addEventListener("setCacheStatus",this.FAt)},i.startCachingTask=function(t){this.Ilt.oj("THEOplayerCacheStartCachingTask",{id:t.Th})},i.removeCachingTask=function(t){this.Ilt.oj("THEOplayerCacheRemoveCachingTask",{id:t.Th})},T(n,[{key:"YA",get:function(){return this.F_t}},{key:"Z_t",get:function(){return this.ob}}]),n}(Fi),tW=function(t){function n(n){var i;return(i=t.call(this,n)||this).HAt=n,i.HAt.ps("I_t",i.gs),i}return qt(n,t),n.prototype.DAt=function(t,n){var i,r;if(!t)throw new d("Unexpected - The source description is undefined");if(i=lv(t),r=$X(n),iv(i))throw new d("Invalid source description");if(!nW(i.sources))throw new d("The provided sources can't be cached");return this.HAt.z_t(i,r).Bc},n}(WX);function nW(t){for(var n=0;n<t.length;n++){var i=t[n];if(uv(i.type))return i}}var iW,rW,eW=function(){var t=new KX;return new tW(t)}().Bc;!function(t){t.VAt="any",t.XAt="natural",t.WAt="landscape",t.qAt="portrait",t.zAt="portrait-primary",t.GAt="portrait-secondary",t.jAt="landscape-primary",t.QAt="landscape-secondary"}(iW||(iW={})),function(t){t.zAt="portrait-primary",t.GAt="portrait-secondary",t.jAt="landscape-primary",t.QAt="landscape-secondary"}(rW||(rW={}));var uW,sW,oW=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Ilt=new gF,n.YAt=iW.XAt,n.ZAt=rW.zAt,n.JAt=rW.zAt,n.$At=rW.zAt,n}qt(n,t);var i=n.prototype;return i.lock=function(t){var n=this;return new u.Promise(function(i,r){n.YAt=t,n.Ilt.oj("THEOplayerOrientationLock",t),n.KAt(),i()})},i.unlock=function(){var t=this;return new u.Promise(function(n,i){t.YAt=iW.XAt,t.Ilt.oj("THEOplayerOrientationUnlock"),t.type=t.JAt,t.KAt(),n()})},i.KAt=function(){var t=this.$At,n=this.type;t!==n&&(this.$At=n,this.ys(new Vi("change")))},i.addEventListener=function(t,n){this.ps(t,n)},i.removeEventListener=function(t,n){this.Ts(t,n)},n.tbt=function(t){switch(t){case iW.zAt:return[rW.zAt];case iW.GAt:return[rW.GAt];case iW.qAt:return[rW.zAt,rW.GAt];case iW.jAt:return[rW.jAt];case iW.QAt:return[rW.QAt];case iW.WAt:return[rW.jAt,rW.QAt];case iW.XAt:return[rW.zAt,rW.jAt,rW.QAt];case iW.VAt:return[rW.zAt,rW.GAt,rW.jAt,rW.QAt]}},n.nbt=function(t,i){return n.tbt(i).indexOf(t)>=0},T(n,[{key:"type",get:function(){return this.ZAt},set:function(t){this.JAt=t,n.nbt(t,this.YAt)?(this.ZAt=t,this.KAt()):(t===rW.jAt&&this.YAt===iW.QAt&&(this.ZAt=rW.QAt,this.KAt()),t===rW.QAt&&this.YAt===iW.jAt&&(this.ZAt=rW.jAt,this.KAt()))}},{key:"angle",get:function(){switch(this.type){case rW.jAt:return-90;case rW.QAt:return 90;case rW.zAt:return 0;case rW.GAt:return 180;default:return 0}}}]),n}(ka);oW.gn=new oW,u.screen.orientation=oW.gn,a&&-1===a.userAgent.indexOf("OS 9")&&_.defineProperty(u,"orientation",{get:function(){return u.screen.orientation.angle}}),u.screen.orientation.addEventListener("change",function(){u.dispatchEvent(new CustomEvent("orientationchange"))}),function(t){t.ibt="unavailable",t.rbt="available",t.ebt="presenting"}(uW||(uW={})),XE(function(t){return function(t){function n(n,i){return t.call(this,n,i)||this}return qt(n,t),n.prototype.Qd=function(n){t.prototype.Qd.call(this,n);var i=this.Bc;this.Bc.vr&&n&&n.vr&&i.vr.addEventListener("statechange",function(){i.vr.state===uW.ebt?screen.orientation&&screen.orientation.lock&&screen.orientation.lock(iW.QAt).catch(function(t){console.error("screen.orientation.lock() failed due to",t.message)}):screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock()})},n}(t)},PE.nL),function(t){t.Dc="addtrack",t.Oc="removetrack",t.Qc="change",t.th="update"}(sW||(sW={}));var aW=function(t,n,i){this.mediaType=t,this.mediaTrack=n,this.mediaTrackList=i,this.type=sW.Qc},cW=function(t,n){this.mediaType=t,this.mediaTrack=n,this.type=sW.Dc},hW=function(t,n){this.mediaType=t,this.mediaTrack=n,this.type=sW.Oc},fW=function(t,n){this.mediaType=t,this.mediaTrack=n,this.type=sW.th},vW=function(){function t(t,n,i){var r=this;this.ubt=function(t){var n=new aW(r.type,t.track,r.mediaTracks);r.messageDispatcher.sbt(n)},this.obt=function(t){var n=new cW(r.type,t.track);r.messageDispatcher.sbt(n),t.track.addEventListener("update",r.abt)},this.cbt=function(t){var n=new hW(r.type,t.track);r.messageDispatcher.sbt(n)},this.abt=function(t){var n=new fW(r.type,t.track);r.messageDispatcher.sbt(n)},this.type=t,this.mediaTracks=n,this.messageDispatcher=i,this.u$()}return t.prototype.u$=function(){this.mediaTracks.addEventListener("change",this.ubt),this.mediaTracks.addEventListener("addtrack",this.obt),this.mediaTracks.addEventListener("removetrack",this.cbt)},t}(),dW=function(){function t(){this.hbt=new gF}return t.prototype.sbt=function(t){this.hbt.oj(t.type,lU(t))},t}();zE(function(t){if(t.Bc.audioTracks){var n=new dW;new vW("audio",t.Bc.audioTracks,n)}if(t.Bc.videoTracks){var i=new dW;new vW("video",t.Bc.videoTracks,i)}});var lW,_W,gW=function(t){function n(){return t.apply(this,arguments)||this}return qt(n,t),n.prototype.dispatchEvent=function(t,n){switch(t){case lW.fbt:var i={integrationId:n.integrationId,keySystem:n.keySystem};this.ys(new wW(i));break;default:0}},n}(YU),wW=function(t){function n(n){var i;return(i=t.call(this,lW.fbt)||this).detail=n,i}return qt(n,t),n}(Vi);!function(t){t.fbt="registerContentProtectionIntegration"}(lW||(lW={})),function(t){t.vbt="certifiateRequest",t.dbt="certifiateResponse",t.lbt="licenseRequest",t._bt="licenseResponse",t.gbt="extractFairplayContentId",t.wbt="buildContentProtection",t.ybt="registerContentProtectionCallback"}(_W||(_W={}));var yW,mW,kW=function(t,n){this.value=t,this.integrationId=n,this.type=_W.ybt};!function(t){t.VOD="vod",t.LIVE="live"}(yW||(yW={})),function(t){t.LIVE_OFFSET="liveoffset",t.TRACK_BYTES_DOWNLOADED="trackbytesdownloaded",t.ESTIMATED_TRACK_NETWORK_BANDWIDTH="estimatedtracknetworkbandwidth",t.ESTIMATED_TRACK_MEDIA_DATA_BANDWIDTH="estimatedtrackmediadatabandwidth",t.SEGMENT_RECEIVE_INTERVAL="segmentreceiveinterval"}(mW||(mW={}));var pW,AW=function(t,n){this.value=t,this.integrationId=n,this.type=_W.wbt},bW=function(t,n){this.value=t,this.integrationId=n,this.type=_W.vbt},TW=function(t,n){this.value=t,this.integrationId=n,this.type=_W.dbt},EW=function(t,n){this.value=t,this.integrationId=n,this.type=_W.gbt},SW=function(t,n){this.value=t,this.integrationId=n,this.type=_W.lbt},RW=function(t,n){this.value=t,this.integrationId=n,this.type=_W._bt},IW=function(){function t(t,n){this.mbt=t,this.Bl=n}var i=t.prototype;return i.onCertificateRequest=function(){var t=vn.coroutine(fn.mark(function t(i){var r,e,u,s,o,a;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i),e=new bW(r,this.Bl),t.prev=2,t.next=5,this.mbt.kbt(e);case 5:if(!(u=t.sent)){t.next=16;break}if(s=JSON.parse(u),!this.pbt(s)){t.next=13;break}return o=dn({},s),t.abrupt("return",o);case 13:if(!this.Abt(s)){t.next=16;break}return a=new k(s),t.abrupt("return",a);case 16:throw new jc(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Could not parse callback in onCertificateRequest");case 19:throw t.prev=19,t.t0=t.catch(2),new jc(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,t.t0);case 22:case"end":return t.stop()}},t,this,[[2,19]])}));return function(n){return t.apply(this,arguments)}}(),i.onCertificateResponse=function(){var t=vn.coroutine(fn.mark(function t(i){var r,e,u,s,o;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i.request),e={request:r,url:i.url,status:i.status,statusText:i.statusText,headers:i.headers,body:Array.from(i.body)},u=new TW(e,this.Bl),t.next=5,this.mbt.kbt(u);case 5:if(!(s=t.sent)){t.next=11;break}return o=JSON.parse(s),t.abrupt("return",new k(o));case 11:throw new jc(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"received undefined instead of string in onCertificateResponse");case 12:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.onLicenseRequest=function(){var t=vn.coroutine(fn.mark(function t(i){var r,e,u,s,o,a,c;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i),e={url:r.url,method:r.method,headers:r.headers,body:r.body?Array.from(r.body):null,useCredentials:r.useCredentials,fairplaySkdUrl:i.fairplaySkdUrl},u=new SW(e,this.Bl),t.prev=3,t.next=6,this.mbt.kbt(u);case 6:if(!(s=t.sent)){t.next=17;break}if(o=JSON.parse(s),!this.pbt(o)){t.next=14;break}return a={url:o.url,method:o.method,headers:o.headers,body:o.body?new k(o.body):null,useCredentials:o.useCredentials,fairplaySkdUrl:o.fairplaySkdUrl},t.abrupt("return",a);case 14:if(!this.Abt(o)){t.next=17;break}return c=new k(o),t.abrupt("return",c);case 17:throw new jc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Could not parse callback in onLicenseRequest");case 20:throw t.prev=20,t.t0=t.catch(3),new jc(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,t.t0);case 23:case"end":return t.stop()}},t,this,[[3,20]])}));return function(n){return t.apply(this,arguments)}}(),i.onLicenseResponse=function(){var t=vn.coroutine(fn.mark(function t(i){var r,e,u,s,o,a;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i.request),e=dn(dn({},r),{fairplaySkdUrl:i.request.fairplaySkdUrl}),u={request:e,url:i.url,status:i.status,statusText:i.statusText,headers:i.headers,body:Array.from(i.body)},s=new RW(u,this.Bl),t.next=6,this.mbt.kbt(s);case 6:if(!(o=t.sent)){t.next=12;break}return a=JSON.parse(o),t.abrupt("return",new k(a));case 12:throw new jc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"received undefined instead of string in onLicenseResponse");case 13:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.extractFairplayContentId=function(){var t=vn.coroutine(fn.mark(function t(i){var r,e;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=new EW(i,this.Bl),t.next=3,this.mbt.kbt(r);case 3:if(!(e=t.sent)){t.next=6;break}return t.abrupt("return",e);case 6:return t.abrupt("return",vn.reject(new jc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"received undefined instead of string in extractFairplayContentId")));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.toCertificateRequestDTO=function(t){return{url:t.url,method:t.method,headers:t.headers,body:t.body?Array.from(t.body):null,useCredentials:t.useCredentials}},i.pbt=function(t){var n=t;return void 0!==n.url&&void 0!==n.method&&void 0!==n.headers},i.Abt=function(t){return!!new k(t)},t}(),NW=function(){function t(t){this.mbt=t}return t.prototype.build=function(t){if(!t.integration)throw new d("integrationId is undefined");var n=new IW(this.mbt,t.integration),i=new AW({drmConfiguration:t},t.integration);return this.mbt.kbt(i),n},t}(),DW=function(){var t=this;this.bbt=function(n){var i=new NW(t.messageDispatcher),r=n.detail,e=r.integrationId,u=r.keySystem,s={state:Eh.Vl.Ml(e,u,i)};t.messageDispatcher.kbt(new kW(s,e))},this.jlt=new gW,WU().contentProtectionIntegration={sdkEventBus:this.jlt},this.jlt.addEventListener(lW.fbt,this.bbt)},CW="nativePromiseCallback",OW=function(t){function n(n){var i;return(i=t.call(this,CW)||this).detail=n,i}return qt(n,t),n}(Vi);!function(t){t.RESOLVE="NATIVE_PROMISE_RESOLVE",t.REJECT="NATIVE_PROMISE_REJECT"}(pW||(pW={}));var xW=function(t){function n(){return t.apply(this,arguments)||this}qt(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.ys(new OW(n))},i.addEventListener=function(t,n){this.ps(t,n)},i.removeEventListener=function(t,n){this.Ts(t,n)},n}(YU),PW=function(){function t(){var t=this;this.promisesMap={},this.handleNativePromiseEvent=function(n){var i=t.promisesMap[n.detail.promiseId];if(!i)throw new d("Could not find a promise with id "+n.detail.promiseId);switch(n.detail.type){case pW.RESOLVE:i.io(n.detail.data);break;case pW.REJECT:i.ro(n.detail.data)}delete t.promisesMap[n.detail.promiseId]};var n=new xW;WU().nativePromise={sdkEventBus:n},n.addEventListener(CW,this.handleNativePromiseEvent)}return t.prototype.kbt=function(n){var i;t.messageIdTracker+=1;var r=t.messageIdTracker.toString(),e=dn(dn({},n),{promiseId:r}),u=new se;return this.promisesMap[r]=u,null===(i=this.hbt)||void 0===i||i.oj(n.type,vU(e)),u.to},t}();PW.messageIdTracker=-1;var BW,LW=function(t){function n(){var n;return(n=t.call(this)||this).hbt=new gF,n}return qt(n,t),n}(PW),MW=function(t){function n(){var n;return(n=t.call(this)||this).mbt=new LW,n}return qt(n,t),T(n,[{key:"messageDispatcher",get:function(){return this.mbt}}]),n}(DW);zE(function(t){new MW}),function(t){t.Tbt="airplaystatechange"}(BW||(BW={}));var UW=function(t){this.state=t,this.type=BW.Tbt},FW=function(t){function n(n){var i;return(i=t.call(this)||this).Ebt=function(t){var n=new UW(t.state);i.sbt(n)},i.Sbt=n,i.u$(n),i}return qt(n,t),n.prototype.u$=function(t){t.addEventListener("statechange",this.Ebt)},n}(dW);zE(function(t){var n;(null===(n=t.Bc.cast)||void 0===n?void 0:n.airplay)&&new FW(t.Bc.cast.airplay)}),n.ChromelessPlayer=dS,n.Player=dS,n.cache=eW,n.createGlobals=GU,n.features=["hls","airplay"],n.getCueMirrorMap=qU,n.getGlobalId=zU,n.getSdkEventBridge=WU,n.playerSuiteVersion="2021.2.0",n.players=gS,n.registerContentProtectionIntegration=wS,n.utils=_S,n.version="2.84.1",_.defineProperty(n,"__esModule",{value:!0})})}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:this);
