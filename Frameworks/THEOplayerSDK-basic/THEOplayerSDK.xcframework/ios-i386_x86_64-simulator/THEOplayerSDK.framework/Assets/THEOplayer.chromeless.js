/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com

 This product makes use of Open Source Software: Bluebird (MIT -
 Copyright (c) 2013-2015 Petka Antonov), long.js (Apache 2.0)
 The code of these projects has been heavily modified during
 integration.
 More information on the licenses can be found here: Apache 2.0
(http://www.apache.org/licenses/LICENSE-2.0), MIT
(https://opensource.org/licenses/MIT)

 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 2021.1.2 (2.82.0)
 Created: 2021-03-16T17:07:05.108Z
 */
!function(t){!function(n,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i((n="undefined"!=typeof globalThis?globalThis:n||t).THEOplayer={})}(this,function(n){"use strict";var i,r,e,u=t.window,s=t.document,o=t.location,a=t.navigator,c=t.setTimeout,h=t.clearTimeout,f=t.setInterval,v=t.clearInterval,d=t.Error,l=t.TypeError,_=(t.SyntaxError,t.Object),w=t.Math,g=t.parseInt,y=t.parseFloat,m=t.isNaN,k=t.Uint8Array,p=t.Worker,A=(t.WorkerGlobalScope,t.XMLHttpRequest);function b(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),_.defineProperty(t,r.key,r)}}function T(t,n,i){return n&&b(t.prototype,n),i&&b(t,i),t}!function(t){t.o="web",t.l="android",t.g="android-tv",t.R="ios",t.I="tvos",t.N="chromecast"}(e||(e={}));var E=a?a.userAgent:"",S=/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i,R=E.match(/Android ([0-9\.]+)/i),I=E.match(/Windows NT ([0-9\.]+)/i),N=E.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),C=E.match(/Firefox\/([0-9\.]+)/i),D=E.match(/OPR\/(\d+\.\d+)/i),O=E.match(/Tizen ([0-9\.]+)/i),x=function(){function n(){this.B=Boolean("ontouchstart"in t||t.DocumentTouch&&s instanceof t.DocumentTouch||a&&a.msMaxTouchPoints),this.M=/(mac\sos\sx)\s?([\w\s\.]+\w)*/i.test(E)||/(macintosh|mac(?=_powerpc)\s)/i.test(E),this.U=/Windows NT/i.test(E),this.F=I?y(I[1]):0,this.H=/Android/i.test(E),this.X=R?y(R[1]):0,this.q=/windows phone (8|8\.1)/i.test(E),this.G=/iPhone/i.test(E),this.j=/iPad/i.test(E),this.Y=this.M&&this.B&&!this.j,this.Z=/iPod/i.test(E),this.J=/Mobile Safari/i.test(E),this.K=(this.G||this.j||this.Y||this.Z)&&!this.q,this.nt=this.q||this.K||this.H||this.J,this.it=/CriOS/i.test(E),this.et=Boolean(t.chrome&&/google/i.test(a.vendor))||this.it,this.ut=S.exec(E)||[],this.st=/SMART-TV.*Tizen/i.test(E),this.ot=O?y(O[1]):0,this.at=/webos|web0s/i.test(E),this.ct=/Edge\/\d+/i.test(E),this.ht=/Trident/i.test(E),this.ft=this.ht&&!t.ActiveXObject&&"ActiveXObject"in t,this.vt=/Vivaldi/i.test(E),this.dt=/Firefox/i.test(E)&&!/Seamonkey/i.test(E),this._t=C?y(C[1]):0,this.wt=/Safari/i.test(E)&&!/Chrome/i.test(E)&&!this.q&&!this.st,this.yt=N?y(N[2]):0,this.kt=Boolean(D),this.pt=D?y(D[1]):0,this.At="ios"===e.g,this.bt="ios"===e.l,this.Tt=this.bt||this.At,this.Et="ios"===e.R,this.St="ios"===e.I,this.Rt="ios"===e.N}return T(n,[{key:"It",get:function(){return this.B}},{key:"Nt",get:function(){return this.M}},{key:"Ct",get:function(){return this.U}},{key:"Dt",get:function(){return this.F}},{key:"Ot",get:function(){return this.H}},{key:"xt",get:function(){return this.X}},{key:"Pt",get:function(){return this.q}},{key:"Bt",get:function(){return this.G}},{key:"Mt",get:function(){return this.j}},{key:"Lt",get:function(){return this.Y}},{key:"Ut",get:function(){return this.Z}},{key:"Ft",get:function(){return this.K}},{key:"Ht",get:function(){return this.J}},{key:"Vt",get:function(){return this.nt}},{key:"Xt",get:function(){return this.it}},{key:"qt",get:function(){return this.et}},{key:"Wt",get:function(){return this.ut}},{key:"zt",get:function(){return this.ut[1]}},{key:"Gt",get:function(){return this.st}},{key:"jt",get:function(){return this.ot}},{key:"Qt",get:function(){return this.at}},{key:"Yt",get:function(){return this.ct}},{key:"Zt",get:function(){return this.ht}},{key:"Jt",get:function(){return this.ft}},{key:"Kt",get:function(){return this.vt}},{key:"$t",get:function(){return this.dt}},{key:"tn",get:function(){return this._t}},{key:"nn",get:function(){return this.wt}},{key:"in",get:function(){return this.yt}},{key:"rn",get:function(){return this.kt}},{key:"un",get:function(){return this.pt}},{key:"sn",get:function(){return this.At}},{key:"an",get:function(){return this.bt}},{key:"cn",get:function(){return this.Tt}},{key:"hn",get:function(){return this.Et}},{key:"fn",get:function(){return this.St}},{key:"vn",get:function(){return this.Rt}}]),n}();x.dn=new x;var P=x.dn,B={}.hasOwnProperty,M={}.toString;function L(t){return null!=t}var U=Array.isArray||function(t){return"[object Array]"===M.call(t)};function F(t){return H(t)&&B.call(t,"length")&&G(t.length)}function H(t){return"object"==typeof t&&null!==t}function V(t){return H(t)&&t.constructor&&t.constructor===_}function X(t){return"string"==typeof t}function q(t){return"boolean"==typeof t}function W(t){return Boolean(t)&&"function"==typeof t.then}function z(t){return"[object Date]"===M.call(t)}function G(t){return"number"==typeof t}var j=function(){},Q=function(t){return t};function Y(t,n,i){var e;return function(){for(var u=arguments.length,s=new Array(u),o=0;o<u;o++)s[o]=arguments[o];var a=this,c=i&&!e;void 0!==e&&r.ln(e),e=r._n(function(){e=void 0,i||t.apply(a,s)},n),c&&t.apply(a,s)}}var Z=!(P.Zt&&!P.Jt),J=t.console;function K(t){if(H(t))try{return JSON.stringify(t)}catch(t){}return t}function $(t){return t.map(K).join(" ")}function tt(t){var n=J&&J[t];return n?n.bind&&Z?n.bind(J):function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];J[t]($(i))}:void 0}var nt,it,rt=tt("log")||j,et=tt("warn")||rt.bind(void 0,"WARNING:"),ut=tt("error")||rt.bind(void 0,"ERROR:"),st=(nt=J&&J.assert)?nt.bind&&Z?nt.bind(J):function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];J.assert(t,$(i))}:function(t){if(!t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];ut.apply(void 0,["Assertion failed:"].concat(i))}};function ot(){return Date.now()||(new Date).getTime()}function at(t){return t/1e3}function ct(t,n){t.prototype=_.create(n.prototype),t.prototype.constructor=t,t.__proto__=n}function ht(t){return t.wn===it.gn}function ft(t){return t.wn===it.yn}function vt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}!function(t){t[t.gn=1]="gn",t[t.mn=2]="mn",t[t.yn=3]="yn",t[t.kn=4]="kn",t[t.pn=9]="pn"}(it||(it={}));var dt=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];d.apply(this,n)};(dt.prototype=_.create(d.prototype)).constructor=dt;var lt=function(t){function n(n,i){var r;return(r=t.call(this)||this).message=n||"Unknown error",r.cause=i,d.captureStackTrace&&d.captureStackTrace(vt(r),r.constructor),r}return ct(n,t),T(n,[{key:"name",get:function(){return"BaseError"}}]),n}(dt),_t=function(t){function n(n){return t.call(this,"Invalid XML",n)||this}return ct(n,t),n}(lt),wt=function(){function t(){}return t.prototype.An=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new _t(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new _t;return new bt(n)},t}(),gt=function(){function t(t){this.bn=t}var n=t.prototype;return n.Tn=function(t){return this.bn.isEqualNode(t.bn)},n.En=function(n){return new t(this.bn.cloneNode(n))},T(t,[{key:"wn",get:function(){return it.mn}},{key:"Sn",get:function(){var t;return null!==(t=this.bn.localName)&&void 0!==t?t:St(this.bn.nodeName)}},{key:"Rn",get:function(){return this.bn.nodeName}},{key:"In",get:function(){var t;return null!==(t=this.bn.namespaceURI)&&void 0!==t?t:void 0}},{key:"Nn",get:function(){var t;return null!==(t=this.bn.prefix)&&void 0!==t?t:void 0}},{key:"Cn",get:function(){return this.bn.nodeValue}}]),t}(),yt=function(){function t(t){this.Dn=void 0,this.On=t}var n=t.prototype;return n.xn=function(t){return this.Pn.filter(function(n){return Tt(n)&&n.Bn===t})},n.Mn=function(t,n){return this.Pn.filter(function(i){return Tt(i)&&i.Sn===n&&i.In===t})},n.Ln=function(t){this.On.appendChild(t.Un),this.Dn&&this.Dn.push(t)},n.Tn=function(t){return this.On.isEqualNode(t.Un)},T(t,[{key:"Pn",get:function(){return void 0===this.Dn&&(this.Dn=function(t){for(var n=[],i=0;i<t.length;i++){var r=Et(t.item(i));r&&n.push(r)}return n}(this.On.childNodes)),this.Dn}},{key:"Fn",get:function(){return this.Pn.filter(Tt)}},{key:"Un",get:function(){return this.On}}]),t}(),mt=function(t){function n(n){return t.call(this,n)||this}ct(n,t);var i=n.prototype;return i.Hn=function(t){var n;return null!==(n=this.On.getAttribute(t))&&void 0!==n?n:void 0},i.Vn=function(t,n){var i;return null!==(i=this.On.getAttributeNS(t,n))&&void 0!==i?i:void 0},i.Xn=function(t){this.On.removeAttribute(t)},i.qn=function(t,n){this.On.removeAttributeNS(t,n)},i.Wn=function(t,n){this.On.setAttribute(t,n)},i.zn=function(t,n,i){this.On.setAttributeNS(t,n,i)},i.En=function(t){return new n(this.On.cloneNode(t))},T(n,[{key:"wn",get:function(){return it.gn}},{key:"Sn",get:function(){var t;return null!==(t=this.On.localName)&&void 0!==t?t:St(this.On.nodeName)}},{key:"In",get:function(){var t;return null!==(t=this.On.namespaceURI)&&void 0!==t?t:void 0}},{key:"Nn",get:function(){var t;return null!==(t=this.On.prefix)&&void 0!==t?t:void 0}},{key:"Bn",get:function(){return this.On.nodeName}},{key:"Gn",get:function(){return function(t){for(var n=[],i=0;i<t.length;i++)n.push(new gt(t.item(i)));return n}(this.On.attributes)}},{key:"jn",get:function(){return this.On.textContent}}]),n}(yt),kt=function(){function t(t){this.On=t}return t.prototype.Tn=function(t){return this.Qn===t.Qn},T(t,[{key:"Qn",get:function(){return this.On.nodeValue}},{key:"Un",get:function(){return this.On}}]),t}(),pt=function(t){function n(n){return t.call(this,n)||this}return ct(n,t),n.prototype.En=function(t){return new n(this.On.cloneNode(t))},T(n,[{key:"wn",get:function(){return it.yn}}]),n}(kt),At=function(t){function n(n){return t.call(this,n)||this}return ct(n,t),n.prototype.En=function(t){return new n(this.On.cloneNode(t))},T(n,[{key:"wn",get:function(){return it.kn}}]),n}(kt),bt=function(t){function n(n){return t.call(this,n)||this}return ct(n,t),n.prototype.En=function(t){return new n(this.On.cloneNode(t))},T(n,[{key:"wn",get:function(){return it.pn}},{key:"Yn",get:function(){return new mt(this.On.documentElement)}}]),n}(yt);function Tt(t){return ht(t)}function Et(t){switch(t.nodeType){case it.gn:return new mt(t);case it.yn:return new pt(t);case it.kn:return new At(t)}}function St(t){var n=t.indexOf(":");return n<0?t:t.substr(n+1)}var Rt="undefined"!=typeof globalThis?globalThis:void 0!==u?u:"undefined"!=typeof global?global:void 0!==t?t:{};function It(t,n,i){return t(i={path:n,exports:{},require:function(t,n){return function(){throw new d("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==n&&i.path)}},i.exports),i.exports}var Nt=It(function(t){!function(t){var n,i=_.prototype,r=i.hasOwnProperty,e="function"==typeof Symbol?Symbol:{},u=e.iterator||"@@iterator",s=e.asyncIterator||"@@asyncIterator",o=e.toStringTag||"@@toStringTag";function a(t,n,i,r){var e=n&&n.prototype instanceof y?n:y,u=_.create(e.prototype),s=new D(r||[]);return u.Zn=function(t,n,i){var r=h;return function(e,u){if(r===v)throw new d("Generator is already running");if(r===w){if("throw"===e)throw u;return x()}for(i.method=e,i.arg=u;;){var s=i.delegate;if(s){var o=I(s,i);if(o){if(o===g)continue;return o}}if("next"===i.method)i.sent=i.Jn=i.arg;else if("throw"===i.method){if(r===h)throw r=w,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=v;var a=c(t,n,i);if("normal"===a.type){if(r=i.done?w:f,a.arg===g)continue;return{value:a.arg,done:i.done}}"throw"===a.type&&(r=w,i.method="throw",i.arg=a.arg)}}}(t,i,s),u}function c(t,n,i){try{return{type:"normal",arg:t.call(n,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=a;var h="suspendedStart",f="suspendedYield",v="executing",w="completed",g={};function y(){}function k(){}function p(){}var A={};A[u]=function(){return this};var b=_.getPrototypeOf,T=b&&b(b(O([])));T&&T!==i&&r.call(T,u)&&(A=T);var E=p.prototype=y.prototype=_.create(A);function S(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this.Zn(n,t)}})}function R(t){var n;this.Zn=function(i,e){function u(){return new Promise(function(n,u){!function n(i,e,u,s){var o=c(t[i],t,e);if("throw"!==o.type){var a=o.arg,h=a.value;return h&&"object"==typeof h&&r.call(h,"Kn")?Promise.resolve(h.Kn).then(function(t){n("next",t,u,s)},function(t){n("throw",t,u,s)}):Promise.resolve(h).then(function(t){a.value=t,u(a)},function(t){return n("throw",t,u,s)})}s(o.arg)}(i,e,n,u)})}return n=n?n.then(u,u):u()}}function I(t,i){var r=t.iterator[i.method];if(r===n){if(i.delegate=null,"throw"===i.method){if(t.iterator.return&&(i.method="return",i.arg=n,I(t,i),"throw"===i.method))return g;i.method="throw",i.arg=new l("The iterator does not provide a 'throw' method")}return g}var e=c(r,t.iterator,i.arg);if("throw"===e.type)return i.method="throw",i.arg=e.arg,i.delegate=null,g;var u=e.arg;return u?u.done?(i[t.resultName]=u.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=n),i.delegate=null,g):u:(i.method="throw",i.arg=new l("iterator result is not an object"),i.delegate=null,g)}function N(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function C(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function D(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(N,this),this.reset(!0)}function O(t){if(t){var i=t[u];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!m(t.length)){var e=-1,s=function i(){for(;++e<t.length;)if(r.call(t,e))return i.value=t[e],i.done=!1,i;return i.value=n,i.done=!0,i};return s.next=s}}return{next:x}}function x(){return{value:n,done:!0}}k.prototype=E.constructor=p,p.constructor=k,p[o]=k.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===k||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return _.setPrototypeOf?_.setPrototypeOf(t,p):(t.__proto__=p,o in t||(t[o]="GeneratorFunction")),t.prototype=_.create(E),t},t.awrap=function(t){return{Kn:t}},S(R.prototype),R.prototype[s]=function(){return this},t.AsyncIterator=R,t.async=function(n,i,r,e){var u=new R(a(n,i,r,e));return t.isGeneratorFunction(i)?u:u.next().then(function(t){return t.done?t.value:u.next()})},S(E),E[o]="Generator",E[u]=function(){return this},E.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var i in t)n.push(i);return n.reverse(),function i(){for(;n.length;){var r=n.pop();if(r in t)return i.value=r,i.done=!1,i}return i.done=!0,i}},t.values=O,D.prototype={constructor:D,reset:function(t){if(this.prev=0,this.next=0,this.sent=this.Jn=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(C),!t)for(var i in this)"t"===i.charAt(0)&&r.call(this,i)&&!m(+i.slice(1))&&(this[i]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function e(r,e){return o.type="throw",o.arg=t,i.next=r,e&&(i.method="next",i.arg=n),!!e}for(var u=this.tryEntries.length-1;u>=0;--u){var s=this.tryEntries[u],o=s.completion;if("root"===s.tryLoc)return e("end");if(s.tryLoc<=this.prev){var a=r.call(s,"catchLoc"),c=r.call(s,"finallyLoc");if(a&&c){if(this.prev<s.catchLoc)return e(s.catchLoc,!0);if(this.prev<s.finallyLoc)return e(s.finallyLoc)}else if(a){if(this.prev<s.catchLoc)return e(s.catchLoc,!0)}else{if(!c)throw new d("try statement without catch or finally");if(this.prev<s.finallyLoc)return e(s.finallyLoc)}}}},abrupt:function(t,n){for(var i=this.tryEntries.length-1;i>=0;--i){var e=this.tryEntries[i];if(e.tryLoc<=this.prev&&r.call(e,"finallyLoc")&&this.prev<e.finallyLoc){var u=e;break}}u&&("break"===t||"continue"===t)&&u.tryLoc<=n&&n<=u.finallyLoc&&(u=null);var s=u?u.completion:{};return s.type=t,s.arg=n,u?(this.method="next",this.next=u.finallyLoc,g):this.complete(s)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),g},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),C(i),g}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc===t){var r=i.completion;if("throw"===r.type){var e=r.arg;C(i)}return e}}throw new d("illegal catch attempt")},delegateYield:function(t,i,r){return this.delegate={iterator:O(t),resultName:i,nextLoc:r},"next"===this.method&&(this.arg=n),g}}}(t.exports)}),Ct=It(function(n,r){n.exports=function t(n,r,e){function u(o,a){if(!r[o]){if(!n[o]){var c="function"==typeof i&&i;if(!a&&c)return c(o,!0);if(s)return s(o,!0);var h=new d("Cannot find module '"+o+"'");throw h.code="MODULE_NOT_FOUND",h}var f=r[o]={exports:{}};n[o][0].call(f.exports,function(t){var i=n[o][1][t];return u(i||t)},f,f.exports,t,n,r,e)}return r[o].exports}for(var s="function"==typeof i&&i,o=0;o<e.length;o++)u(e[o]);return u}({1:[function(t,n,i){n.exports=function(t){var n=t.$n;function i(t){var i=new n(t),r=i.promise();return i.setHowMany(1),i.setUnwrap(),i.init(),r}t.any=function(t){return i(t)},t.prototype.any=function(){return i(this)}}},{}],2:[function(t,n,i){var r;try{throw new d}catch(t){r=t}var e=t("./schedule"),u=t("./queue"),s=t("./util");function o(){this.ti=!1,this.ni=!1,this.ii=new u(16),this.ri=new u(16),this.ei=!1,this.ui=!0;var t=this;this.drainQueues=function(){t.si()},this.oi=e}function a(t,n,i){this.ii.push(t,n,i),this.ai()}function h(t,n,i){this.ri.push(t,n,i),this.ai()}function f(t){this.ri.ci(t),this.ai()}function v(t){for(;t.length()>0;)l(t)}function l(t){var n=t.shift();if("function"!=typeof n)n.hi();else{var i=t.shift(),r=t.shift();n.call(i,r)}}o.prototype.setScheduler=function(t){var n=this.oi;return this.oi=t,this.ti=!0,n},o.prototype.hasCustomScheduler=function(){return this.ti},o.prototype.enableTrampoline=function(){this.ui=!0},o.prototype.disableTrampolineIfNecessary=function(){s.hasDevTools&&(this.ui=!1)},o.prototype.haveItemsQueued=function(){return this.ni||this.ei},o.prototype.fatalError=function(t,n){n?(process.stderr.write("Fatal "+(t instanceof d?t.stack:t)+"\n"),process.exit(2)):this.throwLater(t)},o.prototype.throwLater=function(t,n){if(1===arguments.length&&(n=t,t=function(){throw n}),void 0!==c)c(function(){t(n)},0);else try{this.oi(function(){t(n)})}catch(t){throw new d("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},s.hasDevTools?(o.prototype.invokeLater=function(t,n,i){this.ui?a.call(this,t,n,i):this.oi(function(){c(function(){t.call(n,i)},100)})},o.prototype.invoke=function(t,n,i){this.ui?h.call(this,t,n,i):this.oi(function(){t.call(n,i)})},o.prototype.settlePromises=function(t){this.ui?f.call(this,t):this.oi(function(){t.hi()})}):(o.prototype.invokeLater=a,o.prototype.invoke=h,o.prototype.settlePromises=f),o.prototype.si=function(){v(this.ri),this.fi(),this.ei=!0,v(this.ii)},o.prototype.ai=function(){this.ni||(this.ni=!0,this.oi(this.drainQueues))},o.prototype.fi=function(){this.ni=!1},n.exports=o,n.exports.firstLineError=r},{"./queue":26,"./schedule":29,"./util":36}],3:[function(t,n,i){n.exports=function(t,n,i,r){var e=!1,u=function(t,n){this.vi(n)},s=function(t,n){n.promiseRejectionQueued=!0,n.bindingPromise.di(u,u,null,this,t)},o=function(t,n){0==(50397184&this.li)&&this._i(n.target)},a=function(t,n){n.promiseRejectionQueued||this.vi(t)};t.prototype.bind=function(u){e||(e=!0,t.prototype.wi=r.propagateFromFunction(),t.prototype.gi=r.boundValueFunction());var c=i(u),h=new t(n);h.wi(this,1);var f=this.yi();if(h.mi(c),c instanceof t){var v={promiseRejectionQueued:!1,promise:h,target:f,bindingPromise:c};f.di(n,s,void 0,h,v),c.di(o,a,void 0,h,v),h.ki(c)}else h._i(f);return h},t.prototype.mi=function(t){void 0!==t?(this.li=2097152|this.li,this.pi=t):this.li=-2097153&this.li},t.prototype.Ai=function(){return 2097152==(2097152&this.li)},t.bind=function(n,i){return t.resolve(i).bind(n)}}},{}],4:[function(t,n,i){var r;"undefined"!=typeof Promise&&(r=Promise);var e=t("./promise")();e.noConflict=function(){try{Promise===e&&(Promise=r)}catch(t){}return e},n.exports=e},{"./promise":22}],5:[function(t,n,i){var r=_.create;if(r){var e=r(null),u=r(null);e[" size"]=u[" size"]=0}n.exports=function(n){var i=t("./util"),r=i.canEvaluate;function e(t){var r=this.pop(),e=function(t,r){var e;if(null!=t&&(e=t[r]),"function"!=typeof e){var u="Object "+i.classString(t)+" has no method '"+i.toString(r)+"'";throw new n.TypeError(u)}return e}(t,r);return e.apply(t,this)}function u(t){return t[this]}function s(t){var n=+this;return n<0&&(n=w.max(0,n+t.length)),t[n]}i.isIdentifier,n.prototype.call=function(t){var n=[].slice.call(arguments,1);return n.push(t),this.di(e,void 0,void 0,n,void 0)},n.prototype.get=function(t){var n,i="number"==typeof t;if(i)n=s;else if(r){var e=(void 0)();n=null!==e?e:u}else n=u;return this.di(n,void 0,void 0,t,void 0)}}},{"./util":36}],6:[function(t,n,i){n.exports=function(n,i,r,e){var u=t("./util"),s=u.tryCatch,o=u.errorObj,a=n.bi;n.prototype.break=n.prototype.cancel=function(){if(!e.cancellation())return this.Ti("cancellation is disabled");for(var t=this,n=t;t.Ei();){if(!t.Si(n)){n.Ri()?n.Ii().cancel():n.Ni();break}var i=t.Ci;if(null==i||!i.Ei()){t.Ri()?t.Ii().cancel():t.Ni();break}t.Ri()&&t.Ii().cancel(),t.Di(),n=t,t=i}},n.prototype.Oi=function(){this.xi--},n.prototype.Pi=function(){return void 0===this.xi||this.xi<=0},n.prototype.Si=function(t){return t===this?(this.xi=0,this.Bi(),!0):(this.Oi(),!!this.Pi()&&(this.Bi(),!0))},n.prototype.Ni=function(){this.Pi()&&this.Mi()},n.prototype.Mi=function(){this.Ei()&&(this.Li(),a.invoke(this.Ui,this,void 0))},n.prototype.Ui=function(){this.Fi()>0&&this.hi()},n.prototype.Hi=function(){this.Vi=void 0},n.prototype.Ei=function(){return this.isPending()&&!this.Xi()},n.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},n.prototype.qi=function(t,n){if(u.isArray(t))for(var i=0;i<t.length;++i)this.qi(t[i],n);else if(void 0!==t)if("function"==typeof t){if(!n){var r=s(t).call(this.gi());r===o&&(this.Wi(r.e),a.throwLater(r.e))}}else t._resultCancelled(this)},n.prototype.Bi=function(){var t=this.zi();this.Hi(),a.invoke(this.qi,this,t)},n.prototype.Gi=function(){this.Ei()&&(this.qi(this.zi(),!0),this.Hi())},n.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(t,n,i){n.exports=function(n){var i=t("./util"),r=t("./es5").keys,e=i.tryCatch,u=i.errorObj;return function(t,s,o){return function(a){var c=o.gi();t:for(var h=0;h<t.length;++h){var f=t[h];if(f===d||null!=f&&f.prototype instanceof d){if(a instanceof f)return e(s).call(c,a)}else if("function"==typeof f){var v=e(f).call(c,a);if(v===u)return v;if(v)return e(s).call(c,a)}else if(i.isObject(a)){for(var l=r(f),_=0;_<l.length;++_){var w=l[_];if(f[w]!=a[w])continue t}return e(s).call(c,a)}}return n}}}},{"./es5":13,"./util":36}],8:[function(t,n,i){n.exports=function(t){var n=!1,i=[];function r(){this.ji=new r.CapturedTrace(e())}function e(){var t=i.length-1;if(t>=0)return i[t]}return t.prototype.Qi=function(){},t.prototype.Yi=function(){},t.prototype.Zi=function(){return null},t.Ji=t.prototype.Ji=function(){},r.prototype.Yi=function(){void 0!==this.ji&&(this.ji.Qi=null,i.push(this.ji))},r.prototype.Zi=function(){if(void 0!==this.ji){var t=i.pop(),n=t.Qi;return t.Qi=null,n}return null},r.CapturedTrace=null,r.create=function(){if(n)return new r},r.deactivateLongStackTraces=function(){},r.activateLongStackTraces=function(){var i=t.prototype.Yi,u=t.prototype.Zi,s=t.Ji,o=t.prototype.Ji,a=t.prototype.Qi;r.deactivateLongStackTraces=function(){t.prototype.Yi=i,t.prototype.Zi=u,t.Ji=s,t.prototype.Ji=o,t.prototype.Qi=a,n=!1},n=!0,t.prototype.Yi=r.prototype.Yi,t.prototype.Zi=r.prototype.Zi,t.Ji=t.prototype.Ji=e,t.prototype.Qi=function(){var t=this.Ji();t&&null==t.Qi&&(t.Qi=this)}},r}},{}],9:[function(t,n,i){n.exports=function(n,i){var r,e,u,o=n.Ki,a=n.bi,h=t("./errors").Warning,f=t("./util"),v=t("./es5"),w=f.canAttachTrace,y=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,m=/\((?:timers\.js):\d+:\d+\)/,k=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,p=null,A=null,b=!1,T=!(0==f.env("BLUEBIRD_DEBUG")),E=!(0==f.env("BLUEBIRD_WARNINGS")||!T&&!f.env("BLUEBIRD_WARNINGS")),S=!(0==f.env("BLUEBIRD_LONG_STACK_TRACES")||!T&&!f.env("BLUEBIRD_LONG_STACK_TRACES")),R=0!=f.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(E||!!f.env("BLUEBIRD_W_FORGOTTEN_RETURN"));n.prototype.suppressUnhandledRejections=function(){var t=this.yi();t.li=-1048577&t.li|524288},n.prototype.$i=function(){if(0==(524288&this.li)){this.tr();var t=this;c(function(){t.nr()},1)}},n.prototype.ir=function(){Z("rejectionHandled",r,void 0,this)},n.prototype.rr=function(){this.li=268435456|this.li},n.prototype.er=function(){return 0!=(268435456&this.li)},n.prototype.nr=function(){if(this.ur()){var t=this.sr();this.ar(),Z("unhandledRejection",e,t,this)}},n.prototype.ar=function(){this.li=262144|this.li},n.prototype.cr=function(){this.li=-262145&this.li},n.prototype.hr=function(){return(262144&this.li)>0},n.prototype.tr=function(){this.li=1048576|this.li},n.prototype.dr=function(){this.li=-1048577&this.li,this.hr()&&(this.cr(),this.ir())},n.prototype.ur=function(){return(1048576&this.li)>0},n.prototype.Ti=function(t,n,i){return G(t,n,i||this)},n.onPossiblyUnhandledRejection=function(t){var n=o();e="function"==typeof t?null===n?t:f.domainBind(n,t):void 0},n.onUnhandledRejectionHandled=function(t){var n=o();r="function"==typeof t?null===n?t:f.domainBind(n,t):void 0};var I=function(){};n.longStackTraces=function(){if(a.haveItemsQueued()&&!et.longStackTraces)throw new d("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!et.longStackTraces&&K()){var t=n.prototype._r,r=n.prototype.Wi,e=n.prototype.wr;et.longStackTraces=!0,I=function(){if(a.haveItemsQueued()&&!et.longStackTraces)throw new d("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");n.prototype._r=t,n.prototype.Wi=r,n.prototype.wr=e,i.deactivateLongStackTraces(),a.enableTrampoline(),et.longStackTraces=!1},n.prototype._r=q,n.prototype.Wi=W,n.prototype.wr=z,i.activateLongStackTraces(),a.disableTrampolineIfNecessary()}},n.hasLongStackTraces=function(){return et.longStackTraces&&K()};var N=function(){try{if("function"==typeof CustomEvent){var t=new CustomEvent("CustomEvent");return f.global.dispatchEvent(t),function(t,n){var i={detail:n,cancelable:!0};v.defineProperty(i,"promise",{value:n.promise}),v.defineProperty(i,"reason",{value:n.reason});var r=new CustomEvent(t.toLowerCase(),i);return!f.global.dispatchEvent(r)}}if("function"==typeof Event){var t=new Event("CustomEvent");return f.global.dispatchEvent(t),function(t,n){var i=new Event(t.toLowerCase(),{cancelable:!0});return i.detail=n,v.defineProperty(i,"promise",{value:n.promise}),v.defineProperty(i,"reason",{value:n.reason}),!f.global.dispatchEvent(i)}}var t=s.createEvent("CustomEvent");return t.initCustomEvent("testingtheevent",!1,!0,{}),f.global.dispatchEvent(t),function(t,n){var i=s.createEvent("CustomEvent");return i.initCustomEvent(t.toLowerCase(),!1,!0,n),!f.global.dispatchEvent(i)}}catch(t){}return function(){return!1}}(),C=f.isNode?function(){return process.emit.apply(process,arguments)}:f.global?function(t){var n="on"+t.toLowerCase(),i=f.global[n];return!!i&&(i.apply(f.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function D(t,n){return{promise:n}}var O={promiseCreated:D,promiseFulfilled:D,promiseRejected:D,promiseResolved:D,promiseCancelled:D,promiseChained:function(t,n,i){return{promise:n,child:i}},warning:function(t,n){return{warning:n}},unhandledRejection:function(t,n,i){return{reason:n,promise:i}},rejectionHandled:D},x=function(t){var n=!1;try{n=C.apply(null,arguments)}catch(t){a.throwLater(t),n=!0}var i=!1;try{i=N(t,O[t].apply(null,arguments))}catch(t){a.throwLater(t),i=!0}return i||n};function P(){return!1}function B(t,n,i){var r=this;try{t(n,i,function(t){if("function"!=typeof t)throw new l("onCancel must be a function, got: "+f.toString(t));r.gr(t)})}catch(t){return t}}function M(t){if(!this.Ei())return this;var n=this.zi();void 0!==n?f.isArray(n)?n.push(t):this.ki([n,t]):this.ki(t)}function L(){return this.Vi}function U(t){this.Vi=t}function F(){this.Ci=void 0,this.Vi=void 0}function H(t,n){if(0!=(1&n)){this.Ci=t;var i=t.xi;void 0===i&&(i=0),t.xi=i+1}0!=(2&n)&&t.Ai()&&this.mi(t.pi)}n.config=function(t){if("longStackTraces"in(t=_(t))&&(t.longStackTraces?n.longStackTraces():!t.longStackTraces&&n.hasLongStackTraces()&&I()),"warnings"in t){var i=t.warnings;et.warnings=!!i,R=et.warnings,f.isObject(i)&&"wForgottenReturn"in i&&(R=!!i.wForgottenReturn)}if("cancellation"in t&&t.cancellation&&!et.cancellation){if(a.haveItemsQueued())throw new d("cannot enable cancellation after promises are in use");n.prototype.yr=F,n.prototype.wi=H,n.prototype.zi=L,n.prototype.ki=U,n.prototype.gr=M,n.prototype.mr=B,V=H,et.cancellation=!0}return"monitoring"in t&&(t.monitoring&&!et.monitoring?(et.monitoring=!0,n.prototype.kr=x):!t.monitoring&&et.monitoring&&(et.monitoring=!1,n.prototype.kr=P)),n},n.prototype.kr=P,n.prototype.mr=function(t,n,i){try{t(n,i)}catch(t){return t}},n.prototype.zi=function(){},n.prototype.ki=function(t){},n.prototype.gr=function(t){},n.prototype._r=function(){},n.prototype.Wi=function(){},n.prototype.wr=function(){},n.prototype.yr=function(){},n.prototype.wi=function(t,n){};var V=function(t,n){0!=(2&n)&&t.Ai()&&this.mi(t.pi)};function X(){var t=this.pi;return void 0!==t&&t instanceof n?t.isFulfilled()?t.value():void 0:t}function q(){this.ji=new it(this.Ji())}function W(t,n){if(w(t)){var i=this.ji;if(void 0!==i&&n&&(i=i.pr),void 0!==i)i.attachExtraTrace(t);else if(!t.Ar){var r=Q(t);f.notEnumerableProp(t,"stack",r.message+"\n"+r.stack.join("\n")),f.notEnumerableProp(t,"Ar",!0)}}}function z(){this.ji=void 0}function G(t,i,r){if(et.warnings){var e,u=new h(t);if(i)r.Wi(u);else if(et.longStackTraces&&(e=n.Ji()))e.attachExtraTrace(u);else{var s=Q(u);u.stack=s.message+"\n"+s.stack.join("\n")}x("warning",u)||Y(u,"",!0)}}function j(t){for(var n=[],i=0;i<t.length;++i){var r=t[i],e="    (No stack trace)"===r||p.test(r),u=e&&$(r);e&&!u&&(b&&" "!==r.charAt(0)&&(r="    "+r),n.push(r))}return n}function Q(t){var n=t.stack,i=t.toString();return n="string"==typeof n&&n.length>0?function(t){for(var n=t.stack.replace(/\s+$/g,"").split("\n"),i=0;i<n.length;++i){var r=n[i];if("    (No stack trace)"===r||p.test(r))break}return i>0&&"SyntaxError"!=t.name&&(n=n.slice(i)),n}(t):["    (No stack trace)"],{message:i,stack:"SyntaxError"==t.name?n:j(n)}}function Y(t,n,i){if("undefined"!=typeof console){var r;if(f.isObject(t)){var e=t.stack;r=n+A(e,t)}else r=n+String(t);"function"==typeof u?u(r,i):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(r)}}function Z(t,n,i,r){var e=!1;try{"function"==typeof n&&(e=!0,"rejectionHandled"===t?n(r):n(i,r))}catch(t){a.throwLater(t)}"unhandledRejection"===t?x(t,i,r)||e||Y(i,"Unhandled rejection "):x(t,r)}function J(t){var n;if("function"==typeof t)n="[function "+(t.name||"anonymous")+"]";else{if(n=t&&"function"==typeof t.toString?t.toString():f.toString(t),/\[object [a-zA-Z0-9$_]+\]/.test(n))try{var i=JSON.stringify(t);n=i}catch(t){}0===n.length&&(n="(empty array)")}return"(<"+function(t){return t.length<41?t:t.substr(0,38)+"..."}(n)+">, no stack trace)"}function K(){return"function"==typeof rt}var $=function(){return!1},tt=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function nt(t){var n=t.match(tt);if(n)return{fileName:n[1],line:g(n[2],10)}}function it(t){this.pr=t,this.Tr=0;var n=this.Fi=1+(void 0===t?0:t.Fi);rt(this,it),n>32&&this.uncycle()}f.inherits(it,d),i.CapturedTrace=it,it.prototype.uncycle=function(){var t=this.Fi;if(!(t<2)){for(var n=[],i={},r=0,e=this;void 0!==e;++r)n.push(e),e=e.pr;for(var r=(t=this.Fi=r)-1;r>=0;--r){var u=n[r].stack;void 0===i[u]&&(i[u]=r)}for(var r=0;r<t;++r){var s=n[r].stack,o=i[s];if(void 0!==o&&o!==r){o>0&&(n[o-1].pr=void 0,n[o-1].Fi=1),n[r].pr=void 0,n[r].Fi=1;var a=r>0?n[r-1]:this;o<t-1?(a.pr=n[o+1],a.pr.uncycle(),a.Fi=a.pr.Fi+1):(a.pr=void 0,a.Fi=1);for(var c=a.Fi+1,h=r-2;h>=0;--h)n[h].Fi=c,c++;return}}}},it.prototype.attachExtraTrace=function(t){if(!t.Ar){this.uncycle();for(var n=Q(t),i=n.message,r=[n.stack],e=this;void 0!==e;)r.push(j(e.stack.split("\n"))),e=e.pr;!function(t){for(var n=t[0],i=1;i<t.length;++i){for(var r=t[i],e=n.length-1,u=n[e],s=-1,o=r.length-1;o>=0;--o)if(r[o]===u){s=o;break}for(var o=s;o>=0;--o){var a=r[o];if(n[e]!==a)break;n.pop(),e--}n=r}}(r),function(t){for(var n=0;n<t.length;++n)(0===t[n].length||n+1<t.length&&t[n][0]===t[n+1][0])&&(t.splice(n,1),n--)}(r),f.notEnumerableProp(t,"stack",function(t,n){for(var i=0;i<n.length-1;++i)n[i].push("From previous event:"),n[i]=n[i].join("\n");return i<n.length&&(n[i]=n[i].join("\n")),t+"\n"+n.join("\n")}(i,r)),f.notEnumerableProp(t,"Ar",!0)}};var rt=function(){var t=/^\s*at\s*/,n=function(t,n){return"string"==typeof t?t:void 0!==n.name&&void 0!==n.message?n.toString():J(n)};if("number"==typeof d.stackTraceLimit&&"function"==typeof d.captureStackTrace){d.stackTraceLimit+=6,p=t,A=n;var i=d.captureStackTrace;return $=function(t){return y.test(t)},function(t,n){d.stackTraceLimit+=6,i(t,n),d.stackTraceLimit-=6}}var r,e=new d;if("string"==typeof e.stack&&e.stack.split("\n")[0].indexOf("stackDetection@")>=0)return p=/@/,A=n,b=!0,function(t){t.stack=(new d).stack};try{throw new d}catch(t){r="stack"in t}return"stack"in e||!r||"number"!=typeof d.stackTraceLimit?(A=function(t,n){return"string"==typeof t?t:"object"!=typeof n&&"function"!=typeof n||void 0===n.name||void 0===n.message?J(n):n.toString()},null):(p=t,A=n,function(t){d.stackTraceLimit+=6;try{throw new d}catch(n){t.stack=n.stack}d.stackTraceLimit-=6})}();"undefined"!=typeof console&&void 0!==console.warn&&(u=function(t){console.warn(t)},f.isNode&&process.stderr.isTTY?u=function(t,n){var i=n?"\x1b[33m":"\x1b[31m";console.warn(i+t+"\x1b[0m\n")}:f.isNode||"string"!=typeof(new d).stack||(u=function(t,n){console.warn("%c"+t,n?"color: darkorange":"color: red")}));var et={warnings:E,longStackTraces:!1,cancellation:!1,monitoring:!1};return S&&n.longStackTraces(),{longStackTraces:function(){return et.longStackTraces},warnings:function(){return et.warnings},cancellation:function(){return et.cancellation},monitoring:function(){return et.monitoring},propagateFromFunction:function(){return V},boundValueFunction:function(){return X},checkForgottenReturns:function(t,n,i,r,e){if(void 0===t&&null!==n&&R){if(void 0!==e&&e.er())return;if(0==(65535&r.li))return;i&&(i+=" ");var u="",s="";if(n.ji){for(var o=n.ji.stack.split("\n"),a=j(o),c=a.length-1;c>=0;--c){var h=a[c];if(!m.test(h)){var f=h.match(k);f&&(u="at "+f[1]+":"+f[2]+":"+f[3]+" ");break}}if(a.length>0)for(var v=a[0],c=0;c<o.length;++c)if(o[c]===v){c>0&&(s="\n"+o[c-1]);break}}var d="a promise was created in a "+i+"handler "+u+"but was not returned from it, see http://goo.gl/rRqMUw"+s;r.Ti(d,!0,n)}},setBounds:function(t,n){if(K()){for(var i,r,e=(t.stack||"").split("\n"),u=(n.stack||"").split("\n"),s=-1,o=-1,a=0;a<e.length;++a){var c=nt(e[a]);if(c){i=c.fileName,s=c.line;break}}for(var a=0;a<u.length;++a){var c=nt(u[a]);if(c){r=c.fileName,o=c.line;break}}s<0||o<0||!i||!r||i!==r||s>=o||($=function(t){if(y.test(t))return!0;var n=nt(t);return!!(n&&n.fileName===i&&s<=n.line&&n.line<=o)})}},warn:G,deprecated:function(t,n){var i=t+" is deprecated and will be removed in a future version.";return n&&(i+=" Use "+n+" instead."),G(i)},CapturedTrace:it,fireDomEvent:N,fireGlobalEvent:C}}},{"./errors":12,"./es5":13,"./util":36}],10:[function(t,n,i){n.exports=function(t){function n(){return this.value}function i(){throw this.reason}t.prototype.return=t.prototype.thenReturn=function(i){return i instanceof t&&i.suppressUnhandledRejections(),this.di(n,void 0,void 0,{value:i},void 0)},t.prototype.throw=t.prototype.thenThrow=function(t){return this.di(i,void 0,void 0,{reason:t},void 0)},t.prototype.catchThrow=function(t){if(arguments.length<=1)return this.di(void 0,i,void 0,{reason:t},void 0);var n=arguments[1];return this.caught(t,function(){throw n})},t.prototype.catchReturn=function(i){if(arguments.length<=1)return i instanceof t&&i.suppressUnhandledRejections(),this.di(void 0,n,void 0,{value:i},void 0);var r=arguments[1];return r instanceof t&&r.suppressUnhandledRejections(),this.caught(i,function(){return r})}}},{}],11:[function(t,n,i){n.exports=function(t,n){var i=t.reduce,r=t.all;function e(){return r(this)}t.prototype.each=function(t){return i(this,t,n,0).di(e,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(t){return i(this,t,n,n)},t.each=function(t,r){return i(t,r,n,0).di(e,void 0,void 0,t,void 0)},t.mapSeries=function(t,r){return i(t,r,n,n)}}},{}],12:[function(t,n,i){var r,e,u=t("./es5"),s=u.freeze,o=t("./util"),a=o.inherits,c=o.notEnumerableProp;function h(t,n){function i(r){if(!(this instanceof i))return new i(r);c(this,"message","string"==typeof r?r:n),c(this,"name",t),d.captureStackTrace?d.captureStackTrace(this,this.constructor):d.call(this)}return a(i,d),i}var f=h("Warning","warning"),v=h("CancellationError","cancellation error"),_=h("TimeoutError","timeout error"),w=h("AggregateError","aggregate error");try{r=l,e=RangeError}catch(t){r=h("TypeError","type error"),e=h("RangeError","range error")}for(var g="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),y=0;y<g.length;++y)"function"==typeof Array.prototype[g[y]]&&(w.prototype[g[y]]=Array.prototype[g[y]]);u.defineProperty(w.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),w.prototype.isOperational=!0;var m=0;function k(t){if(!(this instanceof k))return new k(t);c(this,"name","OperationalError"),c(this,"message",t),this.cause=t,this.isOperational=!0,t instanceof d?(c(this,"message",t.message),c(this,"stack",t.stack)):d.captureStackTrace&&d.captureStackTrace(this,this.constructor)}w.prototype.toString=function(){var t=Array(4*m+1).join(" "),n="\n"+t+"AggregateError of:\n";m++,t=Array(4*m+1).join(" ");for(var i=0;i<this.length;++i){for(var r=this[i]===this?"[Circular AggregateError]":this[i]+"",e=r.split("\n"),u=0;u<e.length;++u)e[u]=t+e[u];r=e.join("\n"),n+=r+"\n"}return m--,n},a(k,d);var p=d.Er;p||(p=s({CancellationError:v,TimeoutError:_,OperationalError:k,RejectionError:k,AggregateError:w}),u.defineProperty(d,"Er",{value:p,writable:!1,enumerable:!1,configurable:!1})),n.exports={Error:d,TypeError:r,RangeError:e,CancellationError:p.CancellationError,OperationalError:p.OperationalError,TimeoutError:p.TimeoutError,AggregateError:p.AggregateError,Warning:f}},{"./es5":13,"./util":36}],13:[function(t,n,i){var r=function(){return void 0===this}();if(r)n.exports={freeze:_.freeze,defineProperty:_.defineProperty,getDescriptor:_.getOwnPropertyDescriptor,keys:_.keys,names:_.getOwnPropertyNames,getPrototypeOf:_.getPrototypeOf,isArray:Array.isArray,isES5:r,propertyIsWritable:function(t,n){var i=_.getOwnPropertyDescriptor(t,n);return!(i&&!i.writable&&!i.set)}};else{var e={}.hasOwnProperty,u={}.toString,s={}.constructor.prototype,o=function(t){var n=[];for(var i in t)e.call(t,i)&&n.push(i);return n};n.exports={isArray:function(t){try{return"[object Array]"===u.call(t)}catch(t){return!1}},keys:o,names:o,defineProperty:function(t,n,i){return t[n]=i.value,t},getDescriptor:function(t,n){return{value:t[n]}},freeze:function(t){return t},getPrototypeOf:function(t){try{return _(t).constructor.prototype}catch(t){return s}},isES5:r,propertyIsWritable:function(){return!0}}}},{}],14:[function(t,n,i){n.exports=function(t,n){var i=t.map;t.prototype.filter=function(t,r){return i(this,t,r,n)},t.filter=function(t,r,e){return i(t,r,e,n)}}},{}],15:[function(t,n,i){n.exports=function(n,i,r){var e=t("./util"),u=n.CancellationError,s=e.errorObj,o=t("./catch_filter")(r);function a(t,n,i){this.promise=t,this.type=n,this.handler=i,this.called=!1,this.cancelPromise=null}function c(t){this.finallyHandler=t}function h(t,n){return null!=t.cancelPromise&&(arguments.length>1?t.cancelPromise.vi(n):t.cancelPromise.Mi(),t.cancelPromise=null,!0)}function f(){return d.call(this,this.promise.yi().sr())}function v(t){if(!h(this,t))return s.e=t,s}function d(t){var e=this.promise,o=this.handler;if(!this.called){this.called=!0;var a=this.isFinallyHandler()?o.call(e.gi()):o.call(e.gi(),t);if(a===r)return a;if(void 0!==a){e.rr();var d=i(a,e);if(d instanceof n){if(null!=this.cancelPromise){if(d.Xi()){var l=new u("late cancellation observer");return e.Wi(l),s.e=l,s}d.isPending()&&d.gr(new c(this))}return d.di(f,v,void 0,this,void 0)}}}return e.isRejected()?(h(this),s.e=t,s):(h(this),t)}return a.prototype.isFinallyHandler=function(){return 0===this.type},c.prototype._resultCancelled=function(){h(this.finallyHandler)},n.prototype.Sr=function(t,n,i,r){return"function"!=typeof t?this.then():this.di(i,r,void 0,new a(this,n,t),void 0)},n.prototype.lastly=n.prototype.finally=function(t){return this.Sr(t,0,d,d)},n.prototype.tap=function(t){return this.Sr(t,1,d)},n.prototype.tapCatch=function(t){var i=arguments.length;if(1===i)return this.Sr(t,1,void 0,d);var r,u=new Array(i-1),s=0;for(r=0;r<i-1;++r){var a=arguments[r];if(!e.isObject(a))return n.reject(new l("tapCatch statement predicate: expecting an object but got "+e.classString(a)));u[s++]=a}u.length=s;var c=arguments[r];return this.Sr(o(u,c,this),1,void 0,d)},a}},{"./catch_filter":7,"./util":36}],16:[function(t,n,i){n.exports=function(n,i,r,e,u,s){var o=t("./errors"),a=o.TypeError,c=t("./util"),h=c.errorObj,f=c.tryCatch,v=[];function l(t,i,e,u){if(s.cancellation()){var o=new n(r),a=this.Rr=new n(r);this.Ir=o.lastly(function(){return a}),o._r(),o.ki(this)}else{var c=this.Ir=new n(r);c._r()}this.Nr=u,this.Cr=t,this.Dr=i,this.Or=void 0,this.xr="function"==typeof e?[e].concat(v):v,this.Pr=null,this.Br=!1}c.inherits(l,u),l.prototype.Mr=function(){return null===this.Ir},l.prototype.Lr=function(){this.Ir=this.Or=null,s.cancellation()&&null!==this.Rr&&(this.Rr.Ur(),this.Rr=null)},l.prototype.Fr=function(){if(!this.Mr()){var t,i=void 0!==this.Or.return;if(i)this.Ir.Yi(),t=f(this.Or.return).call(this.Or,void 0),this.Ir.Zi();else{var r=new n.CancellationError("generator .return() sentinel");n.coroutine.returnSentinel=r,this.Ir.Wi(r),this.Ir.Yi(),t=f(this.Or.throw).call(this.Or,r),this.Ir.Zi()}this.Br=!0,this.Pr=null,this.Hr(t)}},l.prototype.Vr=function(t){this.Pr=null,this.Ir.Yi();var n=f(this.Or.next).call(this.Or,t);this.Ir.Zi(),this.Hr(n)},l.prototype.Xr=function(t){this.Pr=null,this.Ir.Wi(t),this.Ir.Yi();var n=f(this.Or.throw).call(this.Or,t);this.Ir.Zi(),this.Hr(n)},l.prototype._resultCancelled=function(){if(this.Pr instanceof n){var t=this.Pr;this.Pr=null,t.cancel()}},l.prototype.promise=function(){return this.Ir},l.prototype.qr=function(){this.Or=this.Cr.call(this.Dr),this.Dr=this.Cr=void 0,this.Vr(void 0)},l.prototype.Hr=function(t){var i=this.Ir;if(t===h)return this.Lr(),this.Br?i.cancel():i.Wr(t.e,!1);var r=t.value;if(!0===t.done)return this.Lr(),this.Br?i.cancel():i._i(r);var u=e(r,this.Ir);if(u instanceof n||null!==(u=function(t,i,r){for(var u=0;u<i.length;++u){r.Yi();var s=f(i[u])(t);if(r.Zi(),s===h){r.Yi();var o=n.reject(h.e);return r.Zi(),o}var a=e(s,r);if(a instanceof n)return a}return null}(u,this.xr,this.Ir))){var s=(u=u.yi()).li;0==(50397184&s)?(this.Pr=u,u.zr(this,null)):0!=(33554432&s)?n.bi.invoke(this.Vr,this,u.Gr()):0!=(16777216&s)?n.bi.invoke(this.Xr,this,u.jr()):this.Fr()}else this.Xr(new a("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(r))+"From coroutine:\n"+this.Nr.split("\n").slice(1,-7).join("\n")))},n.coroutine=function(t,n){if("function"!=typeof t)throw new a("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var i=_(n).yieldHandler,r=l,e=(new d).stack;return function(){var n=t.apply(this,arguments),u=new r(void 0,void 0,i,e),s=u.promise();return u.Or=n,u.Vr(void 0),s}},n.coroutine.addYieldHandler=function(t){if("function"!=typeof t)throw new a("expecting a function but got "+c.classString(t));v.push(t)},n.spawn=function(t){if(s.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof t)return i("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var r=new l(t,this),e=r.promise();return r.qr(n.spawn),e}}},{"./errors":12,"./util":36}],17:[function(t,n,i){n.exports=function(n,i,r,e,u,s){var o=t("./util");o.canEvaluate,o.tryCatch,o.errorObj,n.join=function(){var t,n=arguments.length-1;n>0&&"function"==typeof arguments[n]&&(t=arguments[n]);var r=[].slice.call(arguments);t&&r.pop();var e=new i(r).promise();return void 0!==t?e.spread(t):e}}},{"./util":36}],18:[function(t,n,i){n.exports=function(n,i,r,e,u,s){var o=n.Ki,a=t("./util"),c=a.tryCatch,h=a.errorObj,f=n.bi;function v(t,n,i,r){this.constructor$(t),this.Ir._r();var e=o();this.Qr=null===e?n:a.domainBind(e,n),this.Yr=r===u?new Array(this.length()):null,this.Zr=i,this.Jr=0,this.Kr=[],f.invoke(this.$r,this,void 0)}function d(t,i,e,u){if("function"!=typeof i)return r("expecting a function but got "+a.classString(i));var s=0;if(void 0!==e){if("object"!=typeof e||null===e)return n.reject(new l("options argument must be an object but it is "+a.classString(e)));if("number"!=typeof e.concurrency)return n.reject(new l("'concurrency' must be a number but it is "+a.classString(e.concurrency)));s=e.concurrency}return s="number"==typeof s&&isFinite(s)&&s>=1?s:0,new v(t,i,s,u).promise()}a.inherits(v,i),v.prototype.$r=function(){this._init$(void 0,-2)},v.prototype._init=function(){},v.prototype.Vr=function(t,i){var r=this.te,u=this.length(),o=this.Yr,a=this.Zr;if(i<0){if(r[i=-1*i-1]=t,a>=1&&(this.Jr--,this.ie(),this.Mr()))return!0}else{if(a>=1&&this.Jr>=a)return r[i]=t,this.Kr.push(i),!1;null!==o&&(o[i]=t);var f=this.Ir,v=this.Qr,d=f.gi();f.Yi();var l=c(v).call(d,t,i,u),_=f.Zi();if(s.checkForgottenReturns(l,_,null!==o?"Promise.filter":"Promise.map",f),l===h)return this.vi(l.e),!0;var w=e(l,this.Ir);if(w instanceof n){var g=(w=w.yi()).li;if(0==(50397184&g))return a>=1&&this.Jr++,r[i]=w,w.zr(this,-1*(i+1)),!1;if(0==(33554432&g))return 0!=(16777216&g)?(this.vi(w.jr()),!0):(this.Mi(),!0);l=w.Gr()}r[i]=l}var y=++this.re;return y>=u&&(null!==o?this.ee(r,o):this.ue(r),!0)},v.prototype.ie=function(){for(var t=this.Kr,n=this.Zr,i=this.te;t.length>0&&this.Jr<n;){if(this.Mr())return;var r=t.pop();this.Vr(i[r],r)}},v.prototype.ee=function(t,n){for(var i=n.length,r=new Array(i),e=0,u=0;u<i;++u)t[u]&&(r[e++]=n[u]);r.length=e,this.ue(r)},v.prototype.preservedValues=function(){return this.Yr},n.prototype.map=function(t,n){return d(this,t,n,null)},n.map=function(t,n,i,r){return d(t,n,i,r)}}},{"./util":36}],19:[function(t,n,i){n.exports=function(n,i,r,e,u){var s=t("./util"),o=s.tryCatch;n.method=function(t){if("function"!=typeof t)throw new n.TypeError("expecting a function but got "+s.classString(t));return function(){var r=new n(i);r._r(),r.Yi();var e=o(t).apply(this,arguments),s=r.Zi();return u.checkForgottenReturns(e,s,"Promise.method",r),r.se(e),r}},n.attempt=n.try=function(t){if("function"!=typeof t)return e("expecting a function but got "+s.classString(t));var r,a=new n(i);if(a._r(),a.Yi(),arguments.length>1){u.deprecated("calling Promise.try with more than 1 argument");var c=arguments[1],h=arguments[2];r=s.isArray(c)?o(t).apply(h,c):o(t).call(h,c)}else r=o(t)();var f=a.Zi();return u.checkForgottenReturns(r,f,"Promise.try",a),a.se(r),a},n.prototype.se=function(t){t===s.errorObj?this.Wr(t.e,!1):this._i(t,!0)}}},{"./util":36}],20:[function(t,n,i){var r=t("./util"),e=r.maybeWrapAsError,u=t("./errors"),s=u.OperationalError,o=t("./es5"),a=/^(?:name|message|stack|cause)$/;function c(t){var n;if(function(t){return t instanceof d&&o.getPrototypeOf(t)===d.prototype}(t)){(n=new s(t)).name=t.name,n.message=t.message,n.stack=t.stack;for(var i=o.keys(t),e=0;e<i.length;++e){var u=i[e];a.test(u)||(n[u]=t[u])}return n}return r.markAsOriginatingFromRejection(t),t}n.exports=function(t,n){return function(i,r){if(null!==t){if(i){var u=c(e(i));t.Wi(u),t.vi(u)}else if(n){var s=[].slice.call(arguments,1);t.Ur(s)}else t.Ur(r);t=null}}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(t,n,i){n.exports=function(n){var i=t("./util"),r=n.bi,e=i.tryCatch,u=i.errorObj;function s(t,n){if(!i.isArray(t))return o.call(this,t,n);var s=e(n).apply(this.gi(),[null].concat(t));s===u&&r.throwLater(s.e)}function o(t,n){var i=this.gi(),s=void 0===t?e(n).call(i,null):e(n).call(i,null,t);s===u&&r.throwLater(s.e)}function a(t,n){if(!t){var i=new d(t+"");i.cause=t,t=i}var s=e(n).call(this.gi(),t);s===u&&r.throwLater(s.e)}n.prototype.asCallback=n.prototype.nodeify=function(t,n){if("function"==typeof t){var i=o;void 0!==n&&_(n).spread&&(i=s),this.di(i,a,void 0,this,t)}return this}}},{"./util":36}],22:[function(t,n,i){n.exports=function(){var i=function(){return new d("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},r=function(){return new N.PromiseInspection(this.yi())},e=function(t){return N.reject(new d(t))};function u(){}var s,o={},a=t("./util");s=a.isNode?function(){var t=process.domain;return void 0===t&&(t=null),t}:function(){return null},a.notEnumerableProp(N,"Ki",s);var c=t("./es5"),h=t("./async"),f=new h;c.defineProperty(N,"bi",{value:f});var v=t("./errors"),d=N.TypeError=v.TypeError;N.RangeError=v.RangeError;var l=N.CancellationError=v.CancellationError;N.TimeoutError=v.TimeoutError,N.OperationalError=v.OperationalError,N.RejectionError=v.OperationalError,N.AggregateError=v.AggregateError;var w=function(){},g={},y={},m=t("./thenables")(N,w),k=t("./promise_array")(N,w,m,e,u),p=t("./context")(N),A=p.create,b=t("./debuggability")(N,p),T=(b.CapturedTrace,t("./finally")(N,m,y)),E=t("./catch_filter")(y),S=t("./nodeback"),R=a.errorObj,I=a.tryCatch;function N(t){t!==w&&function(t,n){if(null==t||t.constructor!==N)throw new d("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof n)throw new d("expecting a function but got "+a.classString(n))}(this,t),this.li=0,this.oe=void 0,this.ae=void 0,this.ce=void 0,this.he=void 0,this.fe(t),this.Qi(),this.kr("promiseCreated",this)}function C(t){this.promise._i(t)}function D(t){this.promise.Wr(t,!1)}function O(t){var n=new N(w);n.oe=t,n.ae=t,n.ce=t,n.he=t}return N.prototype.toString=function(){return"[object Promise]"},N.prototype.caught=N.prototype.catch=function(t){var n=arguments.length;if(n>1){var i,r=new Array(n-1),u=0;for(i=0;i<n-1;++i){var s=arguments[i];if(!a.isObject(s))return e("Catch statement predicate: expecting an object but got "+a.classString(s));r[u++]=s}if(r.length=u,"function"!=typeof(t=arguments[i]))throw new d("The last argument to .catch() must be a function, got "+a.toString(t));return this.then(void 0,E(r,t,this))}return this.then(void 0,t)},N.prototype.reflect=function(){return this.di(r,r,void 0,this,void 0)},N.prototype.then=function(t,n){if(b.warnings()&&arguments.length>0&&"function"!=typeof t&&"function"!=typeof n){var i=".then() only accepts functions but was passed: "+a.classString(t);arguments.length>1&&(i+=", "+a.classString(n)),this.Ti(i)}return this.di(t,n,void 0,void 0,void 0)},N.prototype.done=function(t,n){var i=this.di(t,n,void 0,void 0,void 0);i.ve()},N.prototype.spread=function(t){return"function"!=typeof t?e("expecting a function but got "+a.classString(t)):this.all().di(t,void 0,void 0,g,void 0)},N.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this.value(),t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this.reason(),t.isRejected=!0),t},N.prototype.all=function(){return arguments.length>0&&this.Ti(".all() was passed arguments but it does not take any"),new k(this).promise()},N.prototype.error=function(t){return this.caught(a.originatesFromRejection,t)},N.getNewLibraryCopy=n.exports,N.is=function(t){return t instanceof N},N.fromNode=N.fromCallback=function(t){var n=new N(w);n._r();var i=arguments.length>1&&!!_(arguments[1]).multiArgs,r=I(t)(S(n,i));return r===R&&n.Wr(r.e,!0),n.de()||n._e(),n},N.all=function(t){return new k(t).promise()},N.cast=function(t){var n=m(t);return n instanceof N||((n=new N(w))._r(),n.we(),n.ae=t),n},N.resolve=N.fulfilled=N.cast,N.reject=N.rejected=function(t){var n=new N(w);return n._r(),n.Wr(t,!0),n},N.setScheduler=function(t){if("function"!=typeof t)throw new d("expecting a function but got "+a.classString(t));return f.setScheduler(t)},N.prototype.di=function(t,n,i,r,e){var u=void 0!==e,o=u?e:new N(w),c=this.yi(),h=c.li;u||(o.wi(this,3),o._r(),void 0===r&&0!=(2097152&this.li)&&(r=0!=(50397184&h)?this.gi():c===this?void 0:this.pi),this.kr("promiseChained",this,o));var v=s();if(0!=(50397184&h)){var d,_,g=c.ye;0!=(33554432&h)?(_=c.ae,d=t):0!=(16777216&h)?(_=c.oe,d=n,c.dr()):(g=c.me,_=new l("late cancellation observer"),c.Wi(_),d=n),f.invoke(g,c,{handler:null===v?d:"function"==typeof d&&a.domainBind(v,d),promise:o,receiver:r,value:_})}else c.ke(t,n,o,r,v);return o},N.prototype.Fi=function(){return 65535&this.li},N.prototype.de=function(){return 0!=(117506048&this.li)},N.prototype.Ri=function(){return 67108864==(67108864&this.li)},N.prototype.pe=function(t){this.li=-65536&this.li|65535&t},N.prototype.we=function(){this.li=33554432|this.li,this.kr("promiseFulfilled",this)},N.prototype.Ae=function(){this.li=16777216|this.li,this.kr("promiseRejected",this)},N.prototype.be=function(){this.li=67108864|this.li,this.kr("promiseResolved",this)},N.prototype.ve=function(){this.li=4194304|this.li},N.prototype.Te=function(){return(4194304&this.li)>0},N.prototype.Ee=function(){this.li=-65537&this.li},N.prototype.Li=function(){this.li=65536|this.li,this.kr("promiseCancelled",this)},N.prototype.Di=function(){this.li=8388608|this.li},N.prototype._e=function(){f.hasCustomScheduler()||(this.li=134217728|this.li)},N.prototype.Se=function(t){var n=0===t?this.he:this[4*t-4+3];if(n!==o)return void 0===n&&this.Ai()?this.gi():n},N.prototype.Re=function(t){return this[4*t-4+2]},N.prototype.Ie=function(t){return this[4*t-4+0]},N.prototype.Ne=function(t){return this[4*t-4+1]},N.prototype.gi=function(){},N.prototype.Ce=function(t){t.li;var n=t.oe,i=t.ae,r=t.ce,e=t.Se(0);void 0===e&&(e=o),this.ke(n,i,r,e,null)},N.prototype.De=function(t,n){var i=t.Ie(n),r=t.Ne(n),e=t.Re(n),u=t.Se(n);void 0===u&&(u=o),this.ke(i,r,e,u,null)},N.prototype.ke=function(t,n,i,r,e){var u=this.Fi();if(u>=65531&&(u=0,this.pe(0)),0===u)this.ce=i,this.he=r,"function"==typeof t&&(this.oe=null===e?t:a.domainBind(e,t)),"function"==typeof n&&(this.ae=null===e?n:a.domainBind(e,n));else{var s=4*u-4;this[s+2]=i,this[s+3]=r,"function"==typeof t&&(this[s+0]=null===e?t:a.domainBind(e,t)),"function"==typeof n&&(this[s+1]=null===e?n:a.domainBind(e,n))}return this.pe(u+1),u},N.prototype.zr=function(t,n){this.ke(void 0,void 0,n,t,null)},N.prototype._i=function(t,n){if(0==(117506048&this.li)){if(t===this)return this.Wr(i(),!1);var r=m(t,this);if(!(r instanceof N))return this.Ur(t);n&&this.wi(r,2);var e=r.yi();if(e!==this){var u=e.li;if(0==(50397184&u)){var s=this.Fi();s>0&&e.Ce(this);for(var o=1;o<s;++o)e.De(this,o);this.be(),this.pe(0),this.Oe(e)}else if(0!=(33554432&u))this.Ur(e.Gr());else if(0!=(16777216&u))this.vi(e.jr());else{var a=new l("late cancellation observer");e.Wi(a),this.vi(a)}}else this.vi(i())}},N.prototype.Wr=function(t,n,i){var r=a.ensureErrorObject(t),e=r===t;if(!e&&!i&&b.warnings()){var u="a promise was rejected with a non-error: "+a.classString(t);this.Ti(u,!0)}this.Wi(r,!!n&&e),this.vi(t)},N.prototype.fe=function(t){if(t!==w){var n=this;this._r(),this.Yi();var i=!0,r=this.mr(t,function(t){n._i(t)},function(t){n.Wr(t,i)});i=!1,this.Zi(),void 0!==r&&n.Wr(r,!0)}},N.prototype.xe=function(t,n,i,r){var e=r.li;if(0==(65536&e)){var u;r.Yi(),n===g?i&&"number"==typeof i.length?u=I(t).apply(this.gi(),i):(u=R).e=new d("cannot .spread() a non-array: "+a.classString(i)):u=I(t).call(n,i);var s=r.Zi();0==(65536&(e=r.li))&&(u===y?r.vi(i):u===R?r.Wr(u.e,!1):(b.checkForgottenReturns(u,s,"",r,this),r._i(u)))}},N.prototype.yi=function(){for(var t=this;t.Ri();)t=t.Ii();return t},N.prototype.Ii=function(){return this.ae},N.prototype.Oe=function(t){this.ae=t},N.prototype.Pe=function(t,n,i,e){var s=t instanceof N,o=this.li,a=0!=(134217728&o);0!=(65536&o)?(s&&t.Gi(),i instanceof T&&i.isFinallyHandler()?(i.cancelPromise=t,I(n).call(i,e)===R&&t.vi(R.e)):n===r?t.Ur(r.call(i)):i instanceof u?i.Fr(t):s||t instanceof k?t.Mi():i.cancel()):"function"==typeof n?s?(a&&t._e(),this.xe(n,i,e,t)):n.call(i,e,t):i instanceof u?i.Mr()||(0!=(33554432&o)?i.Vr(e,t):i.Xr(e,t)):s&&(a&&t._e(),0!=(33554432&o)?t.Ur(e):t.vi(e))},N.prototype.me=function(t){var n=t.handler,i=t.promise,r=t.receiver,e=t.value;"function"==typeof n?i instanceof N?this.xe(n,r,e,i):n.call(r,e,i):i instanceof N&&i.vi(e)},N.prototype.ye=function(t){this.Pe(t.promise,t.handler,t.receiver,t.value)},N.prototype.Be=function(t,n,i){var r=this.ce,e=this.Se(0);this.ce=void 0,this.he=void 0,this.Pe(r,t,e,n)},N.prototype.Me=function(t){var n=4*t-4;this[n+2]=this[n+3]=this[n+0]=this[n+1]=void 0},N.prototype.Ur=function(t){var n=this.li;if(!((117506048&n)>>>16)){if(t===this){var r=i();return this.Wi(r),this.vi(r)}this.we(),this.ae=t,(65535&n)>0&&(0!=(134217728&n)?this.hi():f.settlePromises(this),this.wr())}},N.prototype.vi=function(t){var n=this.li;if(!((117506048&n)>>>16)){if(this.Ae(),this.oe=t,this.Te())return f.fatalError(t,a.isNode);(65535&n)>0?f.settlePromises(this):this.$i()}},N.prototype.Le=function(t,n){for(var i=1;i<t;i++){var r=this.Ie(i),e=this.Re(i),u=this.Se(i);this.Me(i),this.Pe(e,r,u,n)}},N.prototype.Ue=function(t,n){for(var i=1;i<t;i++){var r=this.Ne(i),e=this.Re(i),u=this.Se(i);this.Me(i),this.Pe(e,r,u,n)}},N.prototype.hi=function(){var t=this.li,n=65535&t;if(n>0){if(0!=(16842752&t)){var i=this.oe;this.Be(this.ae,i,t),this.Ue(n,i)}else{var r=this.ae;this.Be(this.oe,r,t),this.Le(n,r)}this.pe(0)}this.yr()},N.prototype.sr=function(){var t=this.li;return 0!=(33554432&t)?this.ae:0!=(16777216&t)?this.oe:void 0},"undefined"!=typeof Symbol&&Symbol.toStringTag&&c.defineProperty(N.prototype,Symbol.toStringTag,{get:function(){return"Object"}}),N.defer=N.pending=function(){b.deprecated("Promise.defer","new Promise");var t=new N(w);return{promise:t,resolve:C,reject:D}},a.notEnumerableProp(N,"Fe",i),t("./method")(N,w,m,e,b),t("./bind")(N,w,m,b),t("./cancel")(N,k,e,b),t("./direct_resolve")(N),t("./synchronous_inspection")(N),t("./join")(N,k,m,w,f,s),N.Promise=N,N.version="3.5.5",t("./call_get.js")(N),t("./generators.js")(N,e,w,m,u,b),t("./map.js")(N,k,e,m,w,b),t("./nodeify.js")(N),t("./promisify.js")(N,w),t("./props.js")(N,k,m,e),t("./race.js")(N,w,m,e),t("./reduce.js")(N,k,e,m,w,b),t("./settle.js")(N,k,b),t("./some.js")(N,k,e),t("./timers.js")(N,w,b),t("./using.js")(N,e,m,A,w,b),t("./any.js")(N),t("./each.js")(N,w),t("./filter.js")(N,w),a.toFastProperties(N),a.toFastProperties(N.prototype),O({a:1}),O({b:2}),O({c:3}),O(1),O(function(){}),O(void 0),O(!1),O(new N(w)),b.setBounds(h.firstLineError,a.lastLineError),N}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(t,n,i){n.exports=function(n,i,r,e,u){var s=t("./util");function o(t){var r=this.Ir=new n(i);t instanceof n&&r.wi(t,3),r.ki(this),this.te=t,this.Fi=0,this.re=0,this._init(void 0,-2)}return s.isArray,s.inherits(o,u),o.prototype.length=function(){return this.Fi},o.prototype.promise=function(){return this.Ir},o.prototype._init=function t(i,u){var o=r(this.te,this.Ir);if(o instanceof n){var a=(o=o.yi()).li;if(this.te=o,0==(50397184&a))return this.Ir._e(),o.di(t,this.vi,void 0,this,u);if(0==(33554432&a))return 0!=(16777216&a)?this.vi(o.jr()):this.Mi();o=o.Gr()}if(null!==(o=s.asArray(o)))0!==o.length?this.He(o):-5===u?this.Ve():this.ue(function(t){switch(t){case-2:return[];case-3:return{};case-6:return new Map}}(u));else{var c=e("expecting an array or an iterable object but got "+s.classString(o)).reason();this.Ir.Wr(c,!1)}},o.prototype.He=function(t){var i=this.getActualLength(t.length);this.Fi=i,this.te=this.shouldCopyValues()?new Array(i):this.te;for(var e=this.Ir,u=!1,s=null,o=0;o<i;++o){var a=r(t[o],e);a instanceof n?(a=a.yi(),s=a.li):s=null,u?null!==s&&a.suppressUnhandledRejections():null!==s?0==(50397184&s)?(a.zr(this,o),this.te[o]=a):u=0!=(33554432&s)?this.Vr(a.Gr(),o):0!=(16777216&s)?this.Xr(a.jr(),o):this.Fr(o):u=this.Vr(a,o)}u||e._e()},o.prototype.Mr=function(){return null===this.te},o.prototype.ue=function(t){this.te=null,this.Ir.Ur(t)},o.prototype.Mi=function(){!this.Mr()&&this.Ir.Ei()&&(this.te=null,this.Ir.Mi())},o.prototype.vi=function(t){this.te=null,this.Ir.Wr(t,!1)},o.prototype.Vr=function(t,n){this.te[n]=t;var i=++this.re;return i>=this.Fi&&(this.ue(this.te),!0)},o.prototype.Fr=function(){return this.Mi(),!0},o.prototype.Xr=function(t){return this.re++,this.vi(t),!0},o.prototype._resultCancelled=function(){if(!this.Mr()){var t=this.te;if(this.Mi(),t instanceof n)t.cancel();else for(var i=0;i<t.length;++i)t[i]instanceof n&&t[i].cancel()}},o.prototype.shouldCopyValues=function(){return!0},o.prototype.getActualLength=function(t){return t},o}},{"./util":36}],24:[function(t,n,i){n.exports=function(n,i){var r={},e=t("./util"),u=t("./nodeback"),s=e.withAppended,o=e.maybeWrapAsError,a=e.canEvaluate,c=t("./errors").TypeError,h={Xe:!0},f=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","Xe"].join("|")+")$"),v=function(t){return e.isIdentifier(t)&&"_"!==t.charAt(0)&&"constructor"!==t};function d(t){return!f.test(t)}function l(t){try{return!0===t.Xe}catch(t){return!1}}function w(t,n,i){var r=e.getDataPropertyOrDefault(t,n+i,h);return!!r&&l(r)}function g(t,n,i,r){for(var u=e.inheritedDataKeys(t),s=[],o=0;o<u.length;++o){var a=u[o],h=t[a],f=r===v||v(a);"function"!=typeof h||l(h)||w(t,a,n)||!r(a,h,t,f)||s.push(a,h)}return function(t,n,i){for(var r=0;r<t.length;r+=2){var e=t[r];if(i.test(e))for(var u=e.replace(i,""),s=0;s<t.length;s+=2)if(t[s]===u)throw new c("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",n))}}(s,n,i),s}var y=function(t){return t.replace(/([$])/,"\\$")},m=a?void 0:function(t,a,c,h,f,v){var d=function(){return this}(),l=t;function _(){var e=a;a===r&&(e=this);var c=new n(i);c._r();var h="string"==typeof l&&this!==d?this[l]:t,f=u(c,v);try{h.apply(e,s(arguments,f))}catch(t){c.Wr(o(t),!0,!0)}return c.de()||c._e(),c}return"string"==typeof l&&(t=h),e.notEnumerableProp(_,"Xe",!0),_};function k(t,n,i,u,s){for(var o=new RegExp(y(n)+"$"),a=g(t,n,o,i),c=0,h=a.length;c<h;c+=2){var f=a[c],v=a[c+1],d=f+n;if(u===m)t[d]=m(f,r,f,v,n,s);else{var l=u(v,function(){return m(f,r,f,v,n,s)});e.notEnumerableProp(l,"Xe",!0),t[d]=l}}return e.toFastProperties(t),t}n.promisify=function(t,n){if("function"!=typeof t)throw new c("expecting a function but got "+e.classString(t));if(l(t))return t;var i=void 0===(n=_(n)).context?r:n.context,u=!!n.multiArgs,s=function(t,n,i){return m(t,n,void 0,t,null,i)}(t,i,u);return e.copyDescriptors(t,s,d),s},n.promisifyAll=function(t,n){if("function"!=typeof t&&"object"!=typeof t)throw new c("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");var i=!!(n=_(n)).multiArgs,r=n.suffix;"string"!=typeof r&&(r="Async");var u=n.filter;"function"!=typeof u&&(u=v);var s=n.promisifier;if("function"!=typeof s&&(s=m),!e.isIdentifier(r))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var o=e.inheritedDataKeys(t),a=0;a<o.length;++a){var h=t[o[a]];"constructor"!==o[a]&&e.isClass(h)&&(k(h.prototype,r,u,s,i),k(h,r,u,s,i))}return k(t,r,u,s,i)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(t,n,i){n.exports=function(n,i,r,e){var u,s=t("./util"),o=s.isObject,a=t("./es5");"function"==typeof Map&&(u=Map);var c=function(){var t=0,n=0;function i(i,r){this[t]=i,this[t+n]=r,t++}return function(r){n=r.size,t=0;var e=new Array(2*r.size);return r.forEach(i,e),e}}();function h(t){var n,i=!1;if(void 0!==u&&t instanceof u)n=c(t),i=!0;else{var r=a.keys(t),e=r.length;n=new Array(2*e);for(var s=0;s<e;++s){var o=r[s];n[s]=t[o],n[s+e]=o}}this.constructor$(n),this.qe=i,this._init$(void 0,i?-6:-3)}function f(t){var i,u=r(t);return o(u)?(i=u instanceof n?u.di(n.props,void 0,void 0,void 0,void 0):new h(u).promise(),u instanceof n&&i.wi(u,2),i):e("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}s.inherits(h,i),h.prototype._init=function(){},h.prototype.Vr=function(t,n){this.te[n]=t;var i=++this.re;if(i>=this.Fi){var r;if(this.qe)r=function(t){for(var n=new u,i=t.length/2|0,r=0;r<i;++r){var e=t[i+r],s=t[r];n.set(e,s)}return n}(this.te);else{r={};for(var e=this.length(),s=0,o=this.length();s<o;++s)r[this.te[s+e]]=this.te[s]}return this.ue(r),!0}return!1},h.prototype.shouldCopyValues=function(){return!1},h.prototype.getActualLength=function(t){return t>>1},n.prototype.props=function(){return f(this)},n.props=function(t){return f(t)}}},{"./es5":13,"./util":36}],26:[function(t,n,i){function r(t){this.We=t,this.Fi=0,this.ze=0}r.prototype.Ge=function(t){return this.We<t},r.prototype.ci=function(t){var n=this.length();this.je(n+1);var i=this.ze+n&this.We-1;this[i]=t,this.Fi=n+1},r.prototype.push=function(t,n,i){var r=this.length()+3;if(this.Ge(r))return this.ci(t),this.ci(n),void this.ci(i);var e=this.ze+r-3;this.je(r);var u=this.We-1;this[e+0&u]=t,this[e+1&u]=n,this[e+2&u]=i,this.Fi=r},r.prototype.shift=function(){var t=this.ze,n=this[t];return this[t]=void 0,this.ze=t+1&this.We-1,this.Fi--,n},r.prototype.length=function(){return this.Fi},r.prototype.je=function(t){this.We<t&&this.Qe(this.We<<1)},r.prototype.Qe=function(t){var n=this.We;this.We=t;var i=this.ze,r=this.Fi,e=i+r&n-1;!function(t,n,i,r,e){for(var u=0;u<e;++u)i[u+r]=t[u+n],t[u+n]=void 0}(this,0,this,n,e)},n.exports=r},{}],27:[function(t,n,i){n.exports=function(n,i,r,e){var u=t("./util"),s=function(t){return t.then(function(n){return o(n,t)})};function o(t,o){var a=r(t);if(a instanceof n)return s(a);if(null===(t=u.asArray(t)))return e("expecting an array or an iterable object but got "+u.classString(t));var c=new n(i);void 0!==o&&c.wi(o,3);for(var h=c.Ur,f=c.vi,v=0,d=t.length;v<d;++v){var l=t[v];(void 0!==l||v in t)&&n.cast(l).di(h,f,void 0,c,null)}return c}n.race=function(t){return o(t,void 0)},n.prototype.race=function(){return o(this,void 0)}}},{"./util":36}],28:[function(t,n,i){n.exports=function(n,i,r,e,u,s){var o=n.Ki,a=t("./util"),c=a.tryCatch;function h(t,i,r,e){this.constructor$(t);var s=o();this.Ye=null===s?i:a.domainBind(s,i),void 0!==r&&(r=n.resolve(r)).gr(this),this.Ze=r,this.Je=null,this.Ke=e===u?Array(this.Fi):0===e?null:void 0,this.Ir._r(),this._init$(void 0,-5)}function f(t,n){this.isFulfilled()?n.ue(t):n.vi(t)}function v(t,n,i,e){if("function"!=typeof n)return r("expecting a function but got "+a.classString(n));var u=new h(t,n,i,e);return u.promise()}function d(t){this.accum=t,this.array.$e(t);var i=e(this.value,this.array.Ir);return i instanceof n?(this.array.Je=i,i.di(l,void 0,void 0,this,void 0)):l.call(this,i)}function l(t){var i,r=this.array,e=r.Ir,u=c(r.Ye);e.Yi(),(i=void 0!==r.Ke?u.call(e.gi(),t,this.index,this.length):u.call(e.gi(),this.accum,t,this.index,this.length))instanceof n&&(r.Je=i);var o=e.Zi();return s.checkForgottenReturns(i,o,void 0!==r.Ke?"Promise.each":"Promise.reduce",e),i}a.inherits(h,i),h.prototype.$e=function(t){void 0!==this.Ke&&null!==this.Ke&&t!==u&&this.Ke.push(t)},h.prototype.tu=function(t){return null!==this.Ke&&this.Ke.push(t),this.Ke},h.prototype._init=function(){},h.prototype.Ve=function(){this.ue(void 0!==this.Ke?this.Ke:this.Ze)},h.prototype.shouldCopyValues=function(){return!1},h.prototype.ue=function(t){this.Ir._i(t),this.te=null},h.prototype._resultCancelled=function(t){if(t===this.Ze)return this.Mi();this.Mr()||(this._resultCancelled$(),this.Je instanceof n&&this.Je.cancel(),this.Ze instanceof n&&this.Ze.cancel())},h.prototype.He=function(t){var i,r;this.te=t;var e=t.length;if(void 0!==this.Ze?(i=this.Ze,r=0):(i=n.resolve(t[0]),r=1),this.Je=i,!i.isRejected())for(;r<e;++r){var u={accum:null,value:t[r],index:r,length:e,array:this};i=i.di(d,void 0,void 0,u,void 0)}void 0!==this.Ke&&(i=i.di(this.tu,void 0,void 0,this,void 0)),i.di(f,f,void 0,i,this)},n.prototype.reduce=function(t,n){return v(this,t,n,null)},n.reduce=function(t,n,i,r){return v(t,n,i,r)}}},{"./util":36}],29:[function(t,n,i){var r,e,o,a,h,f=t("./util"),v=f.getNativePromise();if(f.isNode&&"undefined"==typeof MutationObserver){var l=Rt.setImmediate,_=process.nextTick;r=f.isRecentNode?function(t){l.call(Rt,t)}:function(t){_.call(process,t)}}else if("function"==typeof v&&"function"==typeof v.resolve){var w=v.resolve();r=function(t){w.then(t)}}else r="undefined"!=typeof MutationObserver&&(void 0===u||!u.navigator||!u.navigator.standalone&&!u.cordova)&&"classList"in s.documentElement?(e=s.createElement("div"),o={attributes:!0},a=!1,h=s.createElement("div"),new MutationObserver(function(){e.classList.toggle("foo"),a=!1}).observe(h,o),function(t){var n=new MutationObserver(function(){n.disconnect(),t()});n.observe(e,o),a||(a=!0,h.classList.toggle("foo"))}):"undefined"!=typeof setImmediate?function(t){setImmediate(t)}:void 0!==c?function(t){c(t,0)}:function(){throw new d("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")};n.exports=r},{"./util":36}],30:[function(t,n,i){n.exports=function(n,i,r){var e=n.PromiseInspection,u=t("./util");function s(t){this.constructor$(t)}u.inherits(s,i),s.prototype.nu=function(t,n){this.te[t]=n;var i=++this.re;return i>=this.Fi&&(this.ue(this.te),!0)},s.prototype.Vr=function(t,n){var i=new e;return i.li=33554432,i.iu=t,this.nu(n,i)},s.prototype.Xr=function(t,n){var i=new e;return i.li=16777216,i.iu=t,this.nu(n,i)},n.settle=function(t){return r.deprecated(".settle()",".reflect()"),new s(t).promise()},n.prototype.settle=function(){return n.settle(this)}}},{"./util":36}],31:[function(t,n,i){n.exports=function(n,i,r){var e=t("./util"),u=t("./errors").RangeError,s=t("./errors").AggregateError,o=e.isArray,a={};function c(t){this.constructor$(t),this.ru=0,this.eu=!1,this.uu=!1}function h(t,n){if((0|n)!==n||n<0)return r("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var i=new c(t),e=i.promise();return i.setHowMany(n),i.init(),e}e.inherits(c,i),c.prototype._init=function(){if(this.uu)if(0!==this.ru){this._init$(void 0,-5);var t=o(this.te);!this.Mr()&&t&&this.ru>this.su()&&this.vi(this.ou(this.length()))}else this.ue([])},c.prototype.init=function(){this.uu=!0,this._init()},c.prototype.setUnwrap=function(){this.eu=!0},c.prototype.howMany=function(){return this.ru},c.prototype.setHowMany=function(t){this.ru=t},c.prototype.Vr=function(t){return this.au(t),this.cu()===this.howMany()&&(this.te.length=this.howMany(),1===this.howMany()&&this.eu?this.ue(this.te[0]):this.ue(this.te),!0)},c.prototype.Xr=function(t){return this.hu(t),this.fu()},c.prototype.Fr=function(){return this.te instanceof n||null==this.te?this.Mi():(this.hu(a),this.fu())},c.prototype.fu=function(){if(this.howMany()>this.su()){for(var t=new s,n=this.length();n<this.te.length;++n)this.te[n]!==a&&t.push(this.te[n]);return t.length>0?this.vi(t):this.Mi(),!0}return!1},c.prototype.cu=function(){return this.re},c.prototype.vu=function(){return this.te.length-this.length()},c.prototype.hu=function(t){this.te.push(t)},c.prototype.au=function(t){this.te[this.re++]=t},c.prototype.su=function(){return this.length()-this.vu()},c.prototype.ou=function(t){var n="Input array must contain at least "+this.ru+" items but contains only "+t+" items";return new u(n)},c.prototype.Ve=function(){this.vi(this.ou(0))},n.some=function(t,n){return h(t,n)},n.prototype.some=function(t){return h(this,t)},n.$n=c}},{"./errors":12,"./util":36}],32:[function(t,n,i){n.exports=function(t){function n(t){void 0!==t?(t=t.yi(),this.li=t.li,this.iu=t.de()?t.sr():void 0):(this.li=0,this.iu=void 0)}n.prototype.sr=function(){return this.iu};var i=n.prototype.value=function(){if(!this.isFulfilled())throw new l("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this.sr()},r=n.prototype.error=n.prototype.reason=function(){if(!this.isRejected())throw new l("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this.sr()},e=n.prototype.isFulfilled=function(){return 0!=(33554432&this.li)},u=n.prototype.isRejected=function(){return 0!=(16777216&this.li)},s=n.prototype.isPending=function(){return 0==(50397184&this.li)},o=n.prototype.isResolved=function(){return 0!=(50331648&this.li)};n.prototype.isCancelled=function(){return 0!=(8454144&this.li)},t.prototype.du=function(){return 65536==(65536&this.li)},t.prototype.Xi=function(){return this.yi().du()},t.prototype.isCancelled=function(){return 0!=(8454144&this.yi().li)},t.prototype.isPending=function(){return s.call(this.yi())},t.prototype.isRejected=function(){return u.call(this.yi())},t.prototype.isFulfilled=function(){return e.call(this.yi())},t.prototype.isResolved=function(){return o.call(this.yi())},t.prototype.value=function(){return i.call(this.yi())},t.prototype.reason=function(){var t=this.yi();return t.dr(),r.call(t)},t.prototype.Gr=function(){return this.sr()},t.prototype.jr=function(){return this.dr(),this.sr()},t.PromiseInspection=n}},{}],33:[function(t,n,i){n.exports=function(n,i){var r=t("./util"),e=r.errorObj,u=r.isObject,s={}.hasOwnProperty;return function(t,o){if(u(t)){if(t instanceof n)return t;var a=function(t){try{return function(t){return t.then}(t)}catch(t){return e.e=t,e}}(t);if(a===e){o&&o.Yi();var c=n.reject(a.e);return o&&o.Zi(),c}if("function"==typeof a){if(function(t){try{return s.call(t,"ce")}catch(t){return!1}}(t)){var c=new n(i);return t.di(c.Ur,c.vi,void 0,c,null),c}return function(t,u,s){var o=new n(i),a=o;s&&s.Yi(),o._r(),s&&s.Zi();var c=!0,h=r.tryCatch(u).call(t,function(t){o&&(o._i(t),o=null)},function(t){o&&(o.Wr(t,c,!0),o=null)});return c=!1,o&&h===e&&(o.Wr(h.e,!0,!0),o=null),a}(t,a,o)}}return t}}},{"./util":36}],34:[function(t,n,i){n.exports=function(n,i,r){var e=t("./util"),u=n.TimeoutError;function s(t){this.handle=t}s.prototype._resultCancelled=function(){h(this.handle)};var o=function(t){return a(+this).thenReturn(t)},a=n.delay=function(t,e){var u,a;return void 0!==e?(u=n.resolve(e).di(o,null,null,t,void 0),r.cancellation()&&e instanceof n&&u.ki(e)):(u=new n(i),a=c(function(){u.Ur()},+t),r.cancellation()&&u.ki(new s(a)),u._r()),u._e(),u};function f(t){return h(this.handle),t}function v(t){throw h(this.handle),t}n.prototype.delay=function(t){return a(t,this)},n.prototype.timeout=function(t,n){var i,o,a=new s(c(function(){i.isPending()&&function(t,n,i){var r;r="string"!=typeof n?n instanceof d?n:new u("operation timed out"):new u(n),e.markAsOriginatingFromRejection(r),t.Wi(r),t.vi(r),null!=i&&i.cancel()}(i,n,o)},t=+t));return r.cancellation()?(o=this.then(),(i=o.di(f,v,void 0,a,void 0)).ki(a)):i=this.di(f,v,void 0,a,void 0),i}}},{"./util":36}],35:[function(t,n,i){n.exports=function(n,i,r,e,u,s){var o=t("./util"),a=t("./errors").TypeError,h=t("./util").inherits,f=o.errorObj,v=o.tryCatch,d={};function l(t){c(function(){throw t},0)}function _(t,i){var e=0,s=t.length,o=new n(u);return function u(){if(e>=s)return o.Ur();var a=function(t){var n=r(t);return n!==t&&"function"==typeof t.lu&&"function"==typeof t._u&&t.lu()&&n.wu(t._u()),n}(t[e++]);if(a instanceof n&&a.lu()){try{a=r(a._u().tryDispose(i),t.promise)}catch(t){return l(t)}if(a instanceof n)return a.di(u,l,null,null,null)}u()}(),o}function w(t,n,i){this.gu=t,this.Ir=n,this.yu=i}function g(t,n,i){this.constructor$(t,n,i)}function y(t){return w.isDisposer(t)?(this.resources[this.index].wu(t),t.promise()):t}function m(t){this.length=t,this.promise=null,this[t-1]=null}w.prototype.data=function(){return this.gu},w.prototype.promise=function(){return this.Ir},w.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():d},w.prototype.tryDispose=function(t){var n=this.resource(),i=this.yu;void 0!==i&&i.Yi();var r=n!==d?this.doDispose(n,t):null;return void 0!==i&&i.Zi(),this.Ir.mu(),this.gu=null,r},w.isDisposer=function(t){return null!=t&&"function"==typeof t.resource&&"function"==typeof t.tryDispose},h(g,w),g.prototype.doDispose=function(t,n){var i=this.data();return i.call(t,t,n)},m.prototype._resultCancelled=function(){for(var t=this.length,i=0;i<t;++i){var r=this[i];r instanceof n&&r.cancel()}},n.using=function(){var t=arguments.length;if(t<2)return i("you must pass at least 2 arguments to Promise.using");var e,u=arguments[t-1];if("function"!=typeof u)return i("expecting a function but got "+o.classString(u));var a=!0;2===t&&Array.isArray(arguments[0])?(e=arguments[0],t=e.length,a=!1):(e=arguments,t--);for(var c=new m(t),h=0;h<t;++h){var d=e[h];if(w.isDisposer(d)){var l=d;(d=d.promise()).wu(l)}else{var g=r(d);g instanceof n&&(d=g.di(y,null,null,{resources:c,index:h},void 0))}c[h]=d}for(var k=new Array(c.length),h=0;h<k.length;++h)k[h]=n.resolve(c[h]).reflect();var p=n.all(k).then(function(t){for(var n=0;n<t.length;++n){var i=t[n];if(i.isRejected())return f.e=i.error(),f;if(!i.isFulfilled())return void p.cancel();t[n]=i.value()}A.Yi(),u=v(u);var r=a?u.apply(void 0,t):u(t),e=A.Zi();return s.checkForgottenReturns(r,e,"Promise.using",A),r}),A=p.lastly(function(){var t=new n.PromiseInspection(p);return _(c,t)});return c.promise=A,A.ki(c),A},n.prototype.wu=function(t){this.li=131072|this.li,this.ku=t},n.prototype.lu=function(){return(131072&this.li)>0},n.prototype._u=function(){return this.ku},n.prototype.mu=function(){this.li=-131073&this.li,this.ku=void 0},n.prototype.disposer=function(t){if("function"==typeof t)return new g(t,this,e());throw new a}}},{"./errors":12,"./util":36}],36:[function(n,i,r){var e,s=n("./es5"),o=void 0===a,c={e:{}},h=void 0!==t?t:void 0!==u?u:void 0!==Rt?Rt:void 0!==this?this:null;function f(){try{var t=e;return e=null,t.apply(this,arguments)}catch(t){return c.e=t,c}}function v(t){return null==t||!0===t||!1===t||"string"==typeof t||"number"==typeof t}function l(t,n,i){if(v(t))return t;var r={value:i,configurable:!0,enumerable:!1,writable:!0};return s.defineProperty(t,n,r),t}var w=function(){var t=[Array.prototype,_.prototype,Function.prototype],n=function(n){for(var i=0;i<t.length;++i)if(t[i]===n)return!0;return!1};if(s.isES5){var i=_.getOwnPropertyNames;return function(t){for(var r=[],e=_.create(null);null!=t&&!n(t);){var u;try{u=i(t)}catch(t){return r}for(var o=0;o<u.length;++o){var a=u[o];if(!e[a]){e[a]=!0;var c=_.getOwnPropertyDescriptor(t,a);null!=c&&null==c.get&&null==c.set&&r.push(a)}}t=s.getPrototypeOf(t)}return r}}var r={}.hasOwnProperty;return function(i){if(n(i))return[];var e=[];t:for(var u in i)if(r.call(i,u))e.push(u);else{for(var s=0;s<t.length;++s)if(r.call(t[s],u))continue t;e.push(u)}return e}}(),g=/this\s*\.\s*\S+\s*=/,y=/^[a-z$_][a-z$_0-9]*$/i;function m(t){try{return t+""}catch(t){return"[no string representation]"}}function k(t){return t instanceof d||null!==t&&"object"==typeof t&&"string"==typeof t.message&&"string"==typeof t.name}function p(t){return k(t)&&s.propertyIsWritable(t,"stack")}var A="stack"in new d?function(t){return p(t)?t:new d(m(t))}:function(t){if(p(t))return t;try{throw new d(m(t))}catch(t){return t}};function b(t){return{}.toString.call(t)}var T=function(t){return s.isArray(t)?t:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var E="function"==typeof Array.from?function(t){return Array.from(t)}:function(t){for(var n,i=[],r=t[Symbol.iterator]();!(n=r.next()).done;)i.push(n.value);return i};T=function(t){return s.isArray(t)?t:null!=t&&"function"==typeof t[Symbol.iterator]?E(t):null}}var S,R="undefined"!=typeof process&&"[object process]"===b(process).toLowerCase(),I="undefined"!=typeof process&&void 0!==process.env,N={isClass:function(t){try{if("function"==typeof t){var n=s.names(t.prototype),i=s.isES5&&n.length>1,r=n.length>0&&!(1===n.length&&"constructor"===n[0]),e=g.test(t+"")&&s.names(t).length>0;if(i||r||e)return!0}return!1}catch(t){return!1}},isIdentifier:function(t){return y.test(t)},inheritedDataKeys:w,getDataPropertyOrDefault:function(t,n,i){if(!s.isES5)return{}.hasOwnProperty.call(t,n)?t[n]:void 0;var r=_.getOwnPropertyDescriptor(t,n);return null!=r?null==r.get&&null==r.set?r.value:i:void 0},thrower:function(t){throw t},isArray:s.isArray,asArray:T,notEnumerableProp:l,isPrimitive:v,isObject:function(t){return"function"==typeof t||"object"==typeof t&&null!==t},isError:k,canEvaluate:o,errorObj:c,tryCatch:function(t){return e=t,f},inherits:function(t,n){var i={}.hasOwnProperty;function r(){for(var r in this.constructor=t,this.constructor$=n,n.prototype)i.call(n.prototype,r)&&"$"!==r.charAt(r.length-1)&&(this[r+"$"]=n.prototype[r])}return r.prototype=n.prototype,t.prototype=new r,t.prototype},withAppended:function(t,n){var i,r=t.length,e=new Array(r+1);for(i=0;i<r;++i)e[i]=t[i];return e[i]=n,e},maybeWrapAsError:function(t){return v(t)?new d(m(t)):t},toFastProperties:function(t){return t},filledRange:function(t,n,i){for(var r=new Array(t),e=0;e<t;++e)r[e]=n+e+i;return r},toString:m,canAttachTrace:p,ensureErrorObject:A,originatesFromRejection:function(t){return null!=t&&(t instanceof d.Er.OperationalError||!0===t.isOperational)},markAsOriginatingFromRejection:function(t){try{l(t,"isOperational",!0)}catch(t){}},classString:b,copyDescriptors:function(t,n,i){for(var r=s.names(t),e=0;e<r.length;++e){var u=r[e];if(i(u))try{s.defineProperty(n,u,s.getDescriptor(t,u))}catch(t){}}},hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:R,hasEnvVariables:I,env:function(t){return I?process.env[t]:void 0},global:h,getNativePromise:function(){if("function"==typeof Promise)try{var t=new Promise(function(){});if("[object Promise]"==={}.toString.call(t))return Promise}catch(t){}},domainBind:function(t,n){return t.bind(n)}};N.isRecentNode=N.isNode&&(process.versions&&process.versions.node?S=process.versions.node.split(".").map(Number):process.version&&(S=process.version.split(".").map(Number)),0===S[0]&&S[1]>10||S[0]>0),N.isNode&&N.toFastProperties(process);try{throw new d}catch(t){N.lastLineError=t}i.exports=N},{"./es5":13}]},{},[4])(4),null!=u?u.P=u.Promise:null!=t&&(t.P=t.Promise)});function Dt(){return(Dt=_.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var r in i)_.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}).apply(this,arguments)}function Ot(){var t=_.create(null);return t.pu=void 0,delete t.pu,t}function xt(){return new Lt}function Pt(t){var n=xt();for(var i in t)B.call(t,i)&&n.set(i,t[i]);return n}var Bt,Mt="undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0,Lt=Mt||(Bt=function(){function t(t,n){this.index=0,this.data=t,this.selector=n,this.keys=_.keys(t)}var n=t.prototype;return n.next=function(){var t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}},t}(),function(){function t(){this.data=Ot(),this.size=0}var n=t.prototype;return n.get=function(t){return this.data[t]},n.set=function(t,n){return this.has(t)||this.size++,this.data[t]=n,this},n.has=function(t){return t in this.data},n.delete=function(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)},n.clear=function(){this.data=Ot(),this.size=0},n.keys=function(){return new Bt(this.data,function(t,n){return n})},n.values=function(){return new Bt(this.data,function(t,n){return t[n]})},n.entries=function(){return new Bt(this.data,function(t,n){return[n,t[n]]})},n.forEach=function(t){for(var n in this.data)t(this.data[n],n)},t}());var Ut,Ft,Ht,Vt,Xt,qt,Wt,zt=Mt||(Ut=function(){function t(t,n){this.Au=t,this.bu=n}var n=t.prototype;return n.next=function(){var t=this.Au.next();return t.done?t:{value:this.bu(t.value),done:!1}},t}(),function(){function t(){this.Tu=xt()}var n=t.prototype;return n.get=function(t){return this.Tu.get(""+t)},n.set=function(t,n){return this.Tu.set(""+t,n),this},n.has=function(t){return this.Tu.has(""+t)},n.delete=function(t){return this.Tu.delete(""+t)},n.clear=function(){this.Tu.clear()},n.keys=function(){return new Ut(this.Tu.keys(),function(t){return Number(t)})},n.values=function(){return this.Tu.values()},n.entries=function(){return new Ut(this.Tu.entries(),function(t){var n=t[0],i=t[1];return[Number(n),i]})},n.forEach=function(t){this.Tu.forEach(function(n,i){t(n,Number(i))})},T(t,[{key:"size",get:function(){return this.Tu.size}}]),t}());var Gt,jt="urn:mpeg:dash:mp4protection:2011",Qt="cenc",Yt="sinf",Zt="skd",Jt="urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95",Kt="com.microsoft.playready",$t="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",tn="urn:uuid:"+$t,nn="94ce86fb-07ff-4f43-adb8-93d2fa968ca2",rn="urn:uuid:"+nn,en="com.apple.fps.1_0";!function(t){t.Eu="playready",t.Su="widevine",t.Ru="fairplay",t.Iu="clearkey",t.Nu="aes128"}(Gt||(Gt={}));var un={Cu:Gt.Eu,Du:Kt,Ou:"cenc",xu:"9a04f079-9840-4286-ab92-e65be0885f95",Pu:Jt,Bu:"PlayReady"},sn={Cu:Gt.Su,Du:"com.widevine.alpha",Ou:"cenc",xu:$t,Pu:tn,Bu:"Widevine"},on={Cu:Gt.Ru,Du:en,Ou:"skd",xu:nn,Pu:rn,Bu:"FairPlay"},an=(Gt.Ru,{Cu:Gt.Iu,Du:"org.w3.clearkey",Ou:"cenc",xu:"1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",Pu:"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",Bu:"ClearKey"}),cn=[un,sn,on,an];function hn(t){return cn.filter(function(n){return n.Pu===t.toLowerCase()})}function fn(t,n,i){return t.split(n).join(i)}function vn(t,n){return null!=t&&-1!==t.indexOf(n)}function dn(t,n){return null!=t&&t.substr(0,n.length)===n}function ln(t,n){return null!=t&&t.substr(t.length-n.length,n.length)===n}function _n(t,n){return t.toUpperCase()===n.toUpperCase()}function wn(t,n){var i=0|n;if(0===t.length||0===i)return"";for(var r=t,e="";1==(1&i)&&(e+=r),0!=(i>>>=1);)r+=r;return e}function gn(t,n,i){void 0===i&&(i=" ");var r=i,e=(0|n)-t.length;return e<=0?t:(e>r.length&&(r+=wn(r,e/r.length)),r.slice(0,e)+t)}function yn(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return String.fromCharCode.apply(String,n)}var mn=(P.qt&&Number(P.Wt[1]))>=42||P.$t&&P.tn>=38||P.Yt||P.Jt||P.rn&&P.un>=29;function kn(t,n){return vn(t,"audio")?{initDataTypes:["cenc"],audioCapabilities:[Dt({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[Dt({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}}function pn(){return void 0!==a&&"function"==typeof a.requestMediaKeySystemAccess}function An(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest}var bn=function(){function t(t){this.Mu=xt(),this.Lu=void 0,this.Uu=t}var n=t.prototype;return n.Fu=function(){return this.Hu(sn)},n.Vu=function(){return this.Hu(an)},n.Xu=function(){return this.Hu(un)},n.qu=function(){return this.Hu(on)},n.Hu=function(t){var n=t.Pu,i=this.Mu.get(n);if(i)return i;var r=this.Wu(t,'video/mp4; codecs="avc1.42000a"');return this.Mu.set(n,r),r},n.Wu=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.Uu.zu(n.Du,[kn(i,!0)]);case 3:return t.abrupt("return",!0);case 6:return t.prev=6,t.t0=t.catch(0),t.prev=8,t.next=11,this.Uu.zu(n.Du,[kn(i,!1)]);case 11:return t.abrupt("return",!0);case 14:return t.prev=14,t.t1=t.catch(8),t.abrupt("return",!1);case 17:case"end":return t.stop()}},t,this,[[0,6],[8,14]])}));return function(n,i){return t.apply(this,arguments)}}(),n.Gu=function(){return this.Lu||(this.Lu=this.ju()),this.Lu},n.ju=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("https:"!==qt.protocol){t.next=2;break}return t.abrupt("return",!1);case 2:if(mn){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,this.Vu();case 6:if(!t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:return t.abrupt("return",!0);case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),t}();function Tn(t,n){var i=En(t,n);return i!==t&&Sn(i,void 0,t.length,t),t}function En(t,n){var i=t,r=i.length;if(r<=1)return i;for(var e=new Array(r),u=1;u<r;u*=2){Sn(i,n,u,e);var s=i;i=e,e=s}return i}function Sn(t,n,i,r){var e,u,s,o,a,c=t.length,h=0,f=2*i;for(u=0;u<c;u+=f)for(e=(s=u+i)+i,s>c&&(s=c),e>c&&(e=c),o=u,a=s;;)if(o<s&&a<e)n&&n(t[o],t[a])<=0?r[h++]=t[o++]:r[h++]=t[a++];else if(o<s)r[h++]=t[o++];else{if(!(a<e))break;r[h++]=t[a++]}}function Rn(t,n,i){var r=In(t,n,i);return-1===r?void 0:t[r]}function In(t,n,i){for(var r=0;r<t.length;r+=1){var e=t[r];if(n.call(i,e,r,t))return r}return-1}function Nn(t,n){var i=t.indexOf(n);return-1!==i&&(Cn(t,i),!0)}function Cn(t,n){t.splice(n,1)}function Dn(t,n){return-1!==t.indexOf(n)}function On(t,n){for(var i=0;i<n.length;i++){if(!Dn(t,n[i]))return!1}return!0}function xn(t){t.length=0}function Pn(t){var n;return(n=[]).concat.apply(n,t)}function Bn(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];i.push.apply(i,n(e))}return i}var Mn=function(){function t(){this.Qu=!1,this.Yu=!1,this.Zu=[],this.Ju=[]}var n=t.prototype;return n.Ku=function(){if(!this.Qu&&!this.Yu){this.Qu=!0;for(var t=0,n=this.Zu.slice();t<n.length;t++){(0,n[t])()}this.$u()}},n.$u=function(){if(!this.Yu){this.Yu=!0;for(var t=0,n=this.Ju.slice();t<n.length;t++){(0,n[t])()}xn(this.Zu),xn(this.Ju)}},n.ts=function(t){this.Yu||this.Zu.push(t)},n.ns=function(t){this.Yu||Nn(this.Zu,t)},n.rs=function(t){this.Yu||this.Ju.push(t)},n.es=function(t){this.Yu||Nn(this.Ju,t)},t}(),Ln=function(){function t(){this.us=new Mn}var n=t.prototype;return n.ss=function(){this.us.Ku()},n.$u=function(){this.us.$u()},n.os=function(t){var n=this.us;if(!n.Qu)if(t.Qu)n.Ku();else if(!n.Yu&&!t.Yu){var i=function(){r(),n.Ku()},r=function r(){t.ns(i),t.es(r),n.ns(i),n.es(r)};t.ts(i),t.rs(r),n.ts(i),n.rs(r)}},n.as=function(){var n=new t,i=new t,r=n.cs,e=i.cs,u=this.us,s=function(){r.Qu&&e.Yu||e.Qu&&r.Yu?u.Ku():r.Yu&&e.Yu&&u.$u()};r.ts(s),e.ts(s),r.rs(s),e.rs(s),n.os(u),i.os(u);return u.rs(function(){r.ns(s),e.ns(s),r.es(s),e.es(s)}),[n,i]},T(t,[{key:"cs",get:function(){return this.us}}]),t}(),Un=function(t){function n(n,i){return t.call(this,n||"Aborted",i)||this}return ct(n,t),T(n,[{key:"name",get:function(){return"AbortError"}}]),n}(lt);function Fn(t){return t instanceof d&&"AbortError"===t.name}function Hn(t){if(t&&t.Qu)throw new Un}function Vn(t){if(Fn(t))throw t}function Xn(t){if(!Fn(t))throw t}function qn(t,n){return n?new Ct(function(i,r){if(n.Qu)return t.catch(j),r(new Un);var e=function t(){n.ns(t),r(new Un)};n.ts(e),t.then(function(t){n.ns(e),i(t)},function(t){n.ns(e),r(t)})}):t}function Wn(t,n){return t.then(function(t){return n.$u(),t},function(t){throw n.$u(),t})}function zn(t,n){var i=new Ln;return n&&i.os(n),t(i.cs).then(function(t){return i.ss(),t},function(t){throw i.ss(),t})}var Gn=Ct.resolve();function jn(t){Gn.then(t)}function Qn(t){t.then(j,j)}function Yn(t){return Zn.apply(this,arguments)}function Zn(){return(Zn=Ct.coroutine(Nt.mark(function t(n){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ct.all(n);case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),t.next=10,Ct.all(n.map(function(t){return t.catch(j)}));case 10:throw t.t0;case 11:case"end":return t.stop()}},t,null,[[0,6]])}))).apply(this,arguments)}function Jn(t,n){return new Ct(function(i,e){if(void 0!==n&&n.Qu)e(new Un);else{var u=r._n(function(){void 0!==n&&n.ns(s),i()},t),s=function(){r.ln(u),e(new Un)};void 0!==n&&n.ts(s)}})}function Kn(t,n){var i=new Ln;return Ct.race([t.then(function(t){return i.ss(),t},function(t){throw i.ss(),t}),Jn(n,i.cs).then(function(){throw i.$u(),new d("Timeout")})])}function $n(t){return t&&"function"!=typeof t?t.slice():t}function ti(t,n,i){if(i)if("function"==typeof i)i.call(t,n);else for(var r=0;r<i.length;r++){i[r].call(t,n)}}var ni,ii=function(){function t(t){var n=this;this.hs=Ot(),this.fs=function(t){n.vs(t)},this.ds=t||this}var n=t.prototype;return n.ls=function(t,n){if("function"==typeof n)if("string"==typeof t)this._s(t,n);else for(var i=0;i<t.length;i++){var r=t[i];this._s(r,n)}},n._s=function(t,n){var i=this.hs[t];i?"function"==typeof i?this.hs[t]=[i,n]:i.push(n):this.hs[t]=n},n.gs=function(){this.hs=Ot()},n.vs=function(t){var n=$n(this.hs[t.type]);ti(this.ds,t,n)},n.ys=function(t,n){if("function"==typeof n)if("string"==typeof t)this.ks(t,n);else for(var i=0;i<t.length;i++){var r=t[i];this.ks(r,n)}},n.ks=function(t,n){var i=this.hs[t];i&&("function"==typeof i?i===n&&(this.hs[t]=void 0):Nn(i,n))},n.ps=function(t){if("string"==typeof t)this.hs[t]=void 0;else for(var n=0;n<t.length;n++){var i=t[n];this.hs[i]=void 0}},n.As=function(t,n){var i=this;return new Ct(function(r,e){if(n&&n.Qu)return e(new Un);var u=function(t){o(),r(t)},s=function(){o(),e(new Un)},o=function(){i.ys(t,u),n&&n.ns(s)};i.ls(t,u),n&&n.ts(s)})},t}(),ri=function(t){function n(){return t.apply(this,arguments)||this}return ct(n,t),n.prototype.vs=function(n){var i=this;jn(function(){t.prototype.vs.call(i,n)})},n}(ii),ei=function(t,n){void 0===n&&(n=new Date),this.type=t,this.date=n},ui=function(t){function n(n){var i;return(i=t.call(this,"Ts")||this).bs=n,i}return ct(n,t),n}(ei),si=function(t){function n(n,i,r,e){var u;return(u=t.call(this,"Es")||this).bs=n,u.Ss=i,u.Es=r,u.Rs=e,u}return ct(n,t),n}(ei),oi=function(t){function n(){return t.call(this,"Is")||this}return ct(n,t),n}(ei);!function(t){t.Ns="Cs",t.Ds="Os"}(ni||(ni={}));var ai=function(t){function n(n,i){var r;return(r=t.call(this,ni.Ns)||this).Ou=n,r.xs=i,r}return ct(n,t),n}(ei),ci=function(t){function n(){return t.call(this,ni.Ds)||this}return ct(n,t),n}(ei),hi=new k([0]).buffer,fi=function(){function t(){this.Ps=[]}var n=t.prototype;return n.Bs=function(t){for(var n=0,i=this.Ps;n<i.length;n++){if(i[n][0]===t)return!0}return!1},n.Ms=function(t){for(var n=0,i=this.Ps;n<i.length;n++){var r=i[n];if(r[0]===t)return r[1]}},n.Ls=function(t,n){this.Ps.forEach(function(n){return t(n[1],n[0])},n)},n.Us=function(t,n){this.Ps.push([t,n])},n.Fs=function(){xn(this.Ps)},T(t,[{key:"Hs",get:function(){return this.Ps.length}}]),t}(),vi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),di=16383,li=/[\t\n\f\r ]/g;function _i(t){return 43===t?62:47===t?63:t>=48&&t<=57?t-48+52:t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:wi()}function wi(){throw new d("Invalid base64 input")}function gi(t){var n=t;li.test(n)&&(n=n.replace(li,""));var i=n.length;i%4==0&&i>=1&&"="===n[i-1]&&(i>=2&&"="===n[i-2]?i-=2:i-=1,n=n.substr(0,i));var r=i%4;if(1===r)return wi();for(var e,u=0===r?0:4-r,s=new k(function(t,n){return 3*(t+n)/4-n}(i,u)),o=u>0?i-4:i,a=0,c=0;a<o;a+=4)e=_i(n.charCodeAt(a))<<18|_i(n.charCodeAt(a+1))<<12|_i(n.charCodeAt(a+2))<<6|_i(n.charCodeAt(a+3)),s[c++]=e>>16&255,s[c++]=e>>8&255,s[c++]=255&e;return 2===u?(e=_i(n.charCodeAt(a))<<2|_i(n.charCodeAt(a+1))>>4,s[c++]=255&e):1===u&&(e=_i(n.charCodeAt(a))<<10|_i(n.charCodeAt(a+1))<<4|_i(n.charCodeAt(a+2))>>2,s[c++]=e>>8&255,s[c++]=255&e),s}function yi(t,n,i){for(var r,e,u,s=[],o=n;o<i;o+=3)s.push((r=t[o],e=t[o+1],u=t[o+2],vi[r>>2]+vi[(3&r)<<4|e>>4]+vi[(15&e)<<2|u>>6]+vi[63&u]));return s.join("")}function mi(t){for(var n=t.length,i=n%3,r=[],e=n-i,u=0;u<e;u+=di)r.push(yi(t,u,w.min(e,u+di)));if(1===i){var s=t[n-1];r.push(vi[s>>2]+vi[(3&s)<<4]+"==")}else if(2===i){var o=t[n-2],a=t[n-1];r.push(vi[o>>2]+vi[(3&o)<<4|a>>4]+vi[(15&a)<<2]+"=")}return r.join("")}var ki=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],pi=ArrayBuffer.isView||function(t){return t&&Dn(ki,M.call(t))};function Ai(t,n){return t===n||t.byteLength===n.byteLength&&function(t,n){if(t===n)return!0;if(t.byteLength!==n.byteLength)return!1;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}(new k(t),new k(n))}function bi(t){var n=t.reduce(function(t,n){return t+n.byteLength},0);return function(t,n){for(var i=new k(n),r=0,e=0;e<t.length;e++){var u=t[e];i.set(u,r),r+=u.byteLength}return i}(t,n)}function Ti(t){return gi(t).buffer}function Ei(t){return mi(new k(t))}function Si(t){return mi(Rr(t))}var Ri=function(){function t(t){void 0===t&&(t=0),this.Vs=t}var n=t.prototype;return n.Xs=function(t){this.Vs+=t},n.qs=function(t){this.Vs=t},n.Ws=function(){return new t(this.zs)},T(t,[{key:"zs",get:function(){return this.Vs}}]),t}(),Ii=Ci,Ni=null;try{Ni=new WebAssembly.Instance(new WebAssembly.Module(new k([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function Ci(t,n,i){this.low=0|t,this.high=0|n,this.unsigned=!!i}function Di(t){return!0===(t&&t.Gs)}Ci.prototype.Gs,_.defineProperty(Ci.prototype,"Gs",{value:!0}),Ci.isLong=Di;var Oi={},xi={};function Pi(t,n){var i,r,e;return n?(e=0<=(t>>>=0)&&t<256)&&(r=xi[t])?r:(i=Mi(t,(0|t)<0?-1:0,!0),e&&(xi[t]=i),i):(e=-128<=(t|=0)&&t<128)&&(r=Oi[t])?r:(i=Mi(t,t<0?-1:0,!1),e&&(Oi[t]=i),i)}function Bi(t,n){if(m(t))return n?zi:Wi;if(n){if(t<0)return zi;if(t>=Vi)return Zi}else{if(t<=-Xi)return Ji;if(t+1>=Xi)return Yi}return t<0?Bi(-t,n).neg():Mi(t%Hi|0,t/Hi|0,n)}function Mi(t,n,i){return new Ci(t,n,i)}Ci.fromInt=Pi,Ci.fromNumber=Bi,Ci.fromBits=Mi;var Li=w.pow;function Ui(t,n,i){if(0===t.length)throw d("empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return Wi;if("number"==typeof n?(i=n,n=!1):n=!!n,(i=i||10)<2||36<i)throw RangeError("radix");var r;if((r=t.indexOf("-"))>0)throw d("interior hyphen");if(0===r)return Ui(t.substring(1),n,i).neg();for(var e=Bi(Li(i,8)),u=Wi,s=0;s<t.length;s+=8){var o=w.min(8,t.length-s),a=g(t.substring(s,s+o),i);if(o<8){var c=Bi(Li(i,o));u=u.mul(c).add(Bi(a))}else u=(u=u.mul(e)).add(Bi(a))}return u.unsigned=n,u}function Fi(t,n){return"number"==typeof t?Bi(t,n):"string"==typeof t?Ui(t,n):Mi(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}Ci.fromString=Ui,Ci.fromValue=Fi;var Hi=4294967296,Vi=Hi*Hi,Xi=Vi/2,qi=Pi(1<<24),Wi=Pi(0);Ci.ZERO=Wi;var zi=Pi(0,!0);Ci.UZERO=zi;var Gi=Pi(1);Ci.ONE=Gi;var ji=Pi(1,!0);Ci.UONE=ji;var Qi=Pi(-1);Ci.NEG_ONE=Qi;var Yi=Mi(-1,2147483647,!1);Ci.MAX_VALUE=Yi;var Zi=Mi(-1,-1,!0);Ci.MAX_UNSIGNED_VALUE=Zi;var Ji=Mi(0,-2147483648,!1);Ci.MIN_VALUE=Ji;var Ki=Ci.prototype;Ki.toInt=function(){return this.unsigned?this.low>>>0:this.low},Ki.toNumber=function(){return this.unsigned?(this.high>>>0)*Hi+(this.low>>>0):this.high*Hi+(this.low>>>0)},Ki.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(Ji)){var n=Bi(t),i=this.div(n),r=i.mul(n).sub(this);return i.toString(t)+r.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var e=Bi(Li(t,6),this.unsigned),u=this,s="";;){var o=u.div(e),a=(u.sub(o.mul(e)).toInt()>>>0).toString(t);if((u=o).isZero())return a+s;for(;a.length<6;)a="0"+a;s=""+a+s}},Ki.getHighBits=function(){return this.high},Ki.getHighBitsUnsigned=function(){return this.high>>>0},Ki.getLowBits=function(){return this.low},Ki.getLowBitsUnsigned=function(){return this.low>>>0},Ki.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Ji)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,n=31;n>0&&0==(t&1<<n);n--);return 0!=this.high?n+33:n+1},Ki.isZero=function(){return 0===this.high&&0===this.low},Ki.eqz=Ki.isZero,Ki.isNegative=function(){return!this.unsigned&&this.high<0},Ki.isPositive=function(){return this.unsigned||this.high>=0},Ki.isOdd=function(){return 1==(1&this.low)},Ki.isEven=function(){return 0==(1&this.low)},Ki.equals=function(t){return Di(t)||(t=Fi(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},Ki.eq=Ki.equals,Ki.notEquals=function(t){return!this.eq(t)},Ki.neq=Ki.notEquals,Ki.ne=Ki.notEquals,Ki.lessThan=function(t){return this.comp(t)<0},Ki.lt=Ki.lessThan,Ki.lessThanOrEqual=function(t){return this.comp(t)<=0},Ki.lte=Ki.lessThanOrEqual,Ki.le=Ki.lessThanOrEqual,Ki.greaterThan=function(t){return this.comp(t)>0},Ki.gt=Ki.greaterThan,Ki.greaterThanOrEqual=function(t){return this.comp(t)>=0},Ki.gte=Ki.greaterThanOrEqual,Ki.ge=Ki.greaterThanOrEqual,Ki.compare=function(t){if(Di(t)||(t=Fi(t)),this.eq(t))return 0;var n=this.isNegative(),i=t.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},Ki.comp=Ki.compare,Ki.negate=function(){return!this.unsigned&&this.eq(Ji)?Ji:this.not().add(Gi)},Ki.neg=Ki.negate,Ki.add=function(t){Di(t)||(t=Fi(t));var n=this.high>>>16,i=65535&this.high,r=this.low>>>16,e=65535&this.low,u=t.high>>>16,s=65535&t.high,o=t.low>>>16,a=0,c=0,h=0,f=0;return h+=(f+=e+(65535&t.low))>>>16,c+=(h+=r+o)>>>16,a+=(c+=i+s)>>>16,a+=n+u,Mi((h&=65535)<<16|(f&=65535),(a&=65535)<<16|(c&=65535),this.unsigned)},Ki.subtract=function(t){return Di(t)||(t=Fi(t)),this.add(t.neg())},Ki.sub=Ki.subtract,Ki.multiply=function(t){if(this.isZero())return Wi;if(Di(t)||(t=Fi(t)),Ni)return Mi(Ni.mul(this.low,this.high,t.low,t.high),Ni.get_high(),this.unsigned);if(t.isZero())return Wi;if(this.eq(Ji))return t.isOdd()?Ji:Wi;if(t.eq(Ji))return this.isOdd()?Ji:Wi;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(qi)&&t.lt(qi))return Bi(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,r=this.low>>>16,e=65535&this.low,u=t.high>>>16,s=65535&t.high,o=t.low>>>16,a=65535&t.low,c=0,h=0,f=0,v=0;return f+=(v+=e*a)>>>16,h+=(f+=r*a)>>>16,f&=65535,h+=(f+=e*o)>>>16,c+=(h+=i*a)>>>16,h&=65535,c+=(h+=r*o)>>>16,h&=65535,c+=(h+=e*s)>>>16,c+=n*a+i*o+r*s+e*u,Mi((f&=65535)<<16|(v&=65535),(c&=65535)<<16|(h&=65535),this.unsigned)},Ki.mul=Ki.multiply,Ki.divide=function(t){if(Di(t)||(t=Fi(t)),t.isZero())throw d("division by zero");var n,i,r;if(Ni)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?Mi((this.unsigned?Ni.div_u:Ni.div_s)(this.low,this.high,t.low,t.high),Ni.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?zi:Wi;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return zi;if(t.gt(this.shru(1)))return ji;r=zi}else{if(this.eq(Ji))return t.eq(Gi)||t.eq(Qi)?Ji:t.eq(Ji)?Gi:(n=this.shr(1).div(t).shl(1)).eq(Wi)?t.isNegative()?Gi:Qi:(i=this.sub(t.mul(n)),r=n.add(i.div(t)));if(t.eq(Ji))return this.unsigned?zi:Wi;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();r=Wi}for(i=this;i.gte(t);){n=w.max(1,w.floor(i.toNumber()/t.toNumber()));for(var e=w.ceil(w.log(n)/w.LN2),u=e<=48?1:Li(2,e-48),s=Bi(n),o=s.mul(t);o.isNegative()||o.gt(i);)o=(s=Bi(n-=u,this.unsigned)).mul(t);s.isZero()&&(s=Gi),r=r.add(s),i=i.sub(o)}return r},Ki.div=Ki.divide,Ki.modulo=function(t){return Di(t)||(t=Fi(t)),Ni?Mi((this.unsigned?Ni.rem_u:Ni.rem_s)(this.low,this.high,t.low,t.high),Ni.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},Ki.mod=Ki.modulo,Ki.rem=Ki.modulo,Ki.not=function(){return Mi(~this.low,~this.high,this.unsigned)},Ki.and=function(t){return Di(t)||(t=Fi(t)),Mi(this.low&t.low,this.high&t.high,this.unsigned)},Ki.or=function(t){return Di(t)||(t=Fi(t)),Mi(this.low|t.low,this.high|t.high,this.unsigned)},Ki.xor=function(t){return Di(t)||(t=Fi(t)),Mi(this.low^t.low,this.high^t.high,this.unsigned)},Ki.shiftLeft=function(t){return Di(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Mi(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):Mi(0,this.low<<t-32,this.unsigned)},Ki.shl=Ki.shiftLeft,Ki.shiftRight=function(t){return Di(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Mi(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):Mi(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},Ki.shr=Ki.shiftRight,Ki.shiftRightUnsigned=function(t){if(Di(t)&&(t=t.toInt()),0===(t&=63))return this;var n=this.high;return t<32?Mi(this.low>>>t|n<<32-t,n>>>t,this.unsigned):Mi(32===t?n:n>>>t-32,0,this.unsigned)},Ki.shru=Ki.shiftRightUnsigned,Ki.shr_u=Ki.shiftRightUnsigned,Ki.toSigned=function(){return this.unsigned?Mi(this.low,this.high,!1):this},Ki.toUnsigned=function(){return this.unsigned?this:Mi(this.low,this.high,!0)},Ki.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},Ki.toBytesLE=function(){var t=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},Ki.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]},Ci.fromBytes=function(t,n,i){return i?Ci.fromBytesLE(t,n):Ci.fromBytesBE(t,n)},Ci.fromBytesLE=function(t,n){return new Ci(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},Ci.fromBytesBE=function(t,n){return new Ci(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};var $i=Ii,tr=[128,64,32,16,8,4,2,1],nr=16384,ir=function(){function t(t){this.js=t}return t.prototype.Qs=function(t){return rr(this.js,t)},t}();function rr(t,n){return(t&n)===n}function er(t,n){return rr(t,tr[n])}function ur(t,n){var i=t.getUint8(n.zs);return n.Xs(1),i}function sr(t,n,i){t.setUint8(n.zs,i),n.Xs(1)}function or(t,n,i){var r=xr(Mr(t),n.zs,n.zs+i);return n.Xs(r.byteLength),r}function ar(t,n,i){Mr(t).set(Mr(i),n.zs),n.Xs(i.byteLength)}function cr(t,n,i){return n.zs+i<=t.byteLength}function hr(t,n,i,r){return void 0===r&&(r=!1),r?function(t,n,i){for(var r=0,e=1,u=0;u<i;u++)r+=ur(t,n)*e,e*=256;return r}(t,n,i):function(t,n,i){for(var r=0,e=0;e<i;e++)r=256*r+ur(t,n);return r}(t,n,i)}function fr(t,n,i){void 0===i&&(i=!1);var r=t.getUint16(n.zs,i);return n.Xs(2),r}function vr(t,n,i,r){void 0===r&&(r=!1),t.setUint16(n.zs,i,r),n.Xs(2)}function dr(t,n,i){void 0===i&&(i=!1);var r=t.getUint32(n.zs,i);return n.Xs(4),r}function lr(t,n,i,r){void 0===r&&(r=!1),t.setUint32(n.zs,i,r),n.Xs(4)}function _r(t,n){var i=ur(t,n);if(i)return String.fromCharCode(i)}function wr(t,n){return mr(t,n)}function gr(t,n,i){for(var r="",e=0;e<i;e++)r+=_r(t,n);return r}function yr(t,n){var i,r=ur(t,n);return 0==(128&r)?i=r:192==(224&r)?i=64*(31&r)+(63&ur(t,n)):224==(240&r)?i=4096*(15&r)+64*(63&ur(t,n))+(63&ur(t,n)):240==(248&r)&&(i=262144*(7&r)+4096*(63&ur(t,n))+64*(63&ur(t,n))+(63&ur(t,n))),i}function mr(t,n){return kr(t,n,!0)}function kr(t,n,i){for(var r=[],e=[];n.zs<t.byteLength;){var u=ur(t,n);if(i&&!u)break;e.push(u),e.length>=nr&&(r.push(String.fromCharCode.apply(String,e)),e.length=0)}return e.length&&r.push(String.fromCharCode.apply(String,e)),r.join("")}function pr(t,n){if(n.zs+2<=t.byteLength){var i=t.getUint8(n.zs),r=t.getUint8(n.zs+1);return(254!==i||255!==r)&&(255===i&&254===r||void 0)}}function Ar(t,n){var i=pr(t,n);return void 0!==i&&n.Xs(2),br(t,n,!0===i)}function br(t,n,i){return void 0===i&&(i=!1),Tr(t,n,i,!0)}function Tr(t,n,i,r){for(var e=[],u=[];n.zs+2<=t.byteLength;){var s=fr(t,n,i);if(r&&!s)break;u.push(s),u.length>=nr&&(e.push(String.fromCharCode.apply(String,u)),u.length=0)}return u.length&&e.push(String.fromCharCode.apply(String,u)),e.join("")}function Er(t,n,i,r){void 0===r&&(r=!1);for(var e=i.length,u=0;u<e;u+=1){vr(t,n,i.charCodeAt(u),r)}}function Sr(t){return kr(Br(t),new Vr,!1)}function Rr(t){var n=new k(t.length);return function(t,n,i){for(var r=i.length,e=0;e<r;e+=1)sr(t,n,i.charCodeAt(e))}(Br(n),new Vr,t),n}function Ir(t,n){return void 0===n&&(n=!1),Tr(Br(t),new Vr,n,!1)}function Nr(t,n){void 0===n&&(n=!1);var i=new k(2*t.length);return Er(Br(i),new Vr,t,n),i}function Cr(t,n){return Dr(t,n,!0)}function Dr(t,n,i){var r=[],e=[];for(function(t,n){return n.zs+3<=t.byteLength&&239===t.getUint8(n.zs)&&187===t.getUint8(n.zs+1)&&191===t.getUint8(n.zs+2)}(t,n)&&n.Xs(3);n.zs<t.byteLength;){var u=yr(t,n);if(void 0===u)break;if(i&&0===u)break;e.push(u),e.length>=nr&&(r.push(yn(e)),e.length=0)}return e.length&&r.push(yn(e)),r.join("")}function Or(t){return Dr(Br(t),new Vr,!1)}function xr(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new k(t.buffer,t.byteOffset+n,i-n)}function Pr(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new DataView(t.buffer,t.byteOffset+n,i-n)}function Br(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Mr(t){return new k(t.buffer,t.byteOffset,t.byteLength)}function Lr(t){return t instanceof ArrayBuffer||pi(t)}function Ur(t){return t instanceof ArrayBuffer?new k(t):Mr(t)}function Fr(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),t.slice?t.slice(n,i):Hr(xr(t,n,i))}function Hr(t){if(t.slice)return t.slice(0);var n=new k(t.byteLength);return n.set(t,0),n}var Vr=function(){function t(t){void 0===t&&(t=0),this.Vs=t}var n=t.prototype;return n.Xs=function(t){this.Vs+=t},n.qs=function(t){this.Vs=t},n.Ws=function(){return new t(this.zs)},n.Ys=function(){return new Ri(this.zs<<3)},T(t,[{key:"zs",get:function(){return this.Vs}}]),t}();function Xr(t){var n=t,i=0,r=0;dn(n,"0x")&&(n=n.substring(2));var e=new k(w.ceil(n.length/2));for(1==(1&n.length)&&(i=1,e[r++]=g(n[0],16));i<n.length;i+=2)e[r++]=g(n.substr(i,2),16);return e}var qr=function(){function t(){var t=this;this.Zs=new Ct(function(n,i){t.ue=n,t.vi=i})}var n=t.prototype;return n.Js=function(t){this.ue&&(this.ue(t),this.$u())},n.Ks=function(t){this.vi&&(this.vi(t),this.$u())},n.ss=function(){this.Zs.catch(j),this.Ks(new Un)},n.$u=function(){this.ue=void 0,this.vi=void 0},t}();function Wr(){return new k([8,4]).buffer}function zr(t){return Ai(t,Wr())}function Gr(t,n){return t===Kt?function(t){if(t.byteLength<2*jr.length)return t;if(Ir(new DataView(t,0,2*jr.length),!0)===jr)return t;return n=t,Nr('<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">'+Ei(n)+'</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>',!0).buffer;var n}(n):n}var jr="<PlayReady";var Qr=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,e)||this).$s=i,u.to=r,u}return ct(n,t),n}(lt),Yr=function(t){function n(n,i){var r;(r=t.call(this)||this).no=n,r.io=i,r.ro=!1,r.eo=function(){r.uo()},r.so=function(t){r.vs(new si(vt(r),t.messageType,Gr(r.io,t.message)))},r.oo=function(){r.ro=!0,r.ao.Hs>0&&(r.ao.Fs(),r.vs(new ui(vt(r)))),r.no.removeEventListener("keystatuseschange",r.eo),r.no.removeEventListener("message",r.so)},r.no.addEventListener("keystatuseschange",r.eo),r.no.addEventListener("message",r.so),r.ao=new fi;var e=[];return r.no.closed&&e.push(Ct.resolve(r.no.closed)),r.co=new qr,e.push(r.co.Zs),r.ho=Ct.race(e).then(r.oo),r.uo(),r}ct(n,t);var i=n.prototype;return i.fo=function(){if(this.ro)return this.ho;var t=[];return t.push(Ct.resolve(this.no.close())),t.push(Jn(1e3)),this.co.Js(Ct.race(t).catch(Zr)),this.ro=!0,this.ho},i.vo=function(t,n,i){return Ct.resolve(this.no.generateRequest(t,n)).catch(Zr)},i.do=function(t){return Ct.resolve(this.no.load(t)).catch(Zr)},i.lo=function(){return Ct.resolve(this.no.remove()).catch(Zr)},i._o=function(t){return Ct.resolve(this.no.update(t)).catch(Zr)},i.uo=function(){var t=this;this.ao.Fs(),this.no.keyStatuses.forEach(function(n,i){t.wo(i,n)}),this.vs(new ui(this))},i.wo=function(t,n){if("string"==typeof t){var i=t;t=n,n=i}var r=Ur(t);if(this.io===Kt&&16===r.byteLength){var e=Br(r),u=e.getUint32(0,!0),s=e.getUint16(4,!0),o=e.getUint16(6,!0);e.setUint32(0,u,!1),e.setUint16(4,s,!1),e.setUint16(6,o,!1)}this.ao.Us(r,n)},T(n,[{key:"yo",get:function(){return this.ho}},{key:"mo",get:function(){return this.no.expiration}},{key:"ko",get:function(){return this.ao}},{key:"po",get:function(){return this.no.sessionId}}]),n}(ii);function Zr(t){var n;if(t.message){var i=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);i&&(n=0|g(i[1],16))}throw new Qr(t.message,void 0,n,t)}var Jr=function(){function t(t,n){this.Ao=t,this.io=n}var n=t.prototype;return n.bo=function(){var t=Ct.coroutine(Nt.mark(function t(n){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Yr(this.Ao.createSession(n),this.io));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.To=function(t){return Ct.resolve(this.Ao.setServerCertificate(t))},n.Eo=function(t){return Ct.resolve(t.setMediaKeys(this.Ao))},n.So=function(t){return Ct.resolve(t.setMediaKeys(null))},t}(),Kr=function(){function t(t,n){this.Ro=t,this.io=n}var n=t.prototype;return n.Io=function(){var t=Ct.coroutine(Nt.mark(function t(){var n;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Ro.createMediaKeys();case 2:return n=t.sent,t.abrupt("return",new Jr(n,this.io));case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.No=function(){return this.Ro.getConfiguration()},T(t,[{key:"Co",get:function(){return this.Ro.keySystem}}]),t}(),$r=function(){function t(){}return t.prototype.zu=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=i.filter(function(t){return!t.Do}),t.next=3,a.requestMediaKeySystemAccess(n,i);case 3:return r=t.sent,t.abrupt("return",new Kr(r,n));case 5:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}(),t.Oo=function(){return pn()},t}(),te=function(t){function n(n,i){var r;return(r=t.call(this)||this).xo=n,r.Po=i,r.ro=!1,r.Bo=void 0,r.Mo=void 0,r.Lo=void 0,r.oo=function(){r.ro=!0,r.Uo.Js(void 0),r.Lo&&(r.Lo.removeEventListener("mskeyclose",r.oo),r.Lo.removeEventListener("mskeymessage",r.Fo),r.Lo.removeEventListener("mskeyerror",r.Ho),r.Lo.removeEventListener("mskeyadded",r.Vo))},r.Fo=function(t){r.Mo&&(r.Mo.Js(void 0),r.Mo=void 0),r.vs(new si(vt(r),"license-request",Hr(t.message).buffer,t.destinationURL||void 0))},r.Ho=function(){var t=r.Lo&&r.Lo.error;if(t){var n=new Qr("Unknown CDM error",t.code,t.systemCode);if(r.Mo)r.Mo.Ks(n),r.Mo=void 0;else if(r.Bo)r.Bo.Ks(n),r.Bo=void 0;else switch(n.$s){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:r.Xo("output-not-allowed");break;default:r.Xo("internal-error")}}},r.Vo=function(){r.Mo&&(r.Xo("usable"),r.Mo.Js(void 0),r.Mo=void 0),r.Bo&&(r.Xo("usable"),r.Bo.Js(void 0),r.Bo=void 0)},r.Uo=new qr,r.qo=new fi,r}ct(n,t);var i=n.prototype;return i.vo=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Wo(),this.Mo=new qr,this.bo(Ur(i),r),t.next=5,this.Mo.Zs;case 5:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.bo=function(t,n){if(!t)throw new l("Expected initData to be defined but was "+t+".");var i,r=n&&n.playready&&n.playready.zo;return(i=n?this.xo.createSession(this.Po,t,r):this.xo.createSession(this.Po,t)).addEventListener("mskeyclose",this.oo),i.addEventListener("mskeymessage",this.Fo),i.addEventListener("mskeyerror",this.Ho),i.addEventListener("mskeyadded",this.Vo),this.Lo=i,this.Xo("status-pending"),i},i.do=function(){var t=Ct.coroutine(Nt.mark(function t(n){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Wo(),t.abrupt("return",!0);case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i._o=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Bo=new qr,this.Wo(),this.Lo){t.next=4;break}return t.abrupt("return",Ct.resolve());case 4:if(0!==(i=Ur(n)).byteLength){t.next=7;break}throw new l("Cannot call update with an empty response.");case 7:return this.Lo.update(i),t.next=10,this.Bo.Zs;case 10:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.fo=function(){return!this.ro&&this.Lo&&(this.ro=!0,this.Lo.close()),this.Uo.Zs},i.lo=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Wo(),t.abrupt("return");case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Wo=function(){if(this.ro)throw new l("Already closing or closed.")},i.Xo=function(t){this.qo.Fs(),this.qo.Us(hi,t),this.vs(new ui(this))},T(n,[{key:"po",get:function(){return this.Lo&&this.Lo.sessionId||""}},{key:"mo",get:function(){return NaN}},{key:"yo",get:function(){return this.Uo.Zs}},{key:"ko",get:function(){return this.qo}}]),n}(ii),ne=function(){function t(t,n){this.xo=t,this.Po=n}var n=t.prototype;return n.bo=function(){var t=Ct.coroutine(Nt.mark(function t(n){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new te(this.xo,this.Po));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.To=function(t){return Ct.resolve(!1)},n.Eo=function(t){var n=this;return t.readyState>=1?t.msSetMediaKeys(this.xo):t.addEventListener("loadedmetadata",function i(){t.msSetMediaKeys(n.xo),t.removeEventListener("loadedmetadata",i)}),Ct.resolve()},n.So=function(t){return Ct.resolve()},t}();function ie(t,n,i){var r=!1;if(!(i.persistentState&&"optional"!==i.persistentState||i.distinctiveIdentifier&&"optional"!==i.distinctiveIdentifier)){var e={audioCapabilities:[],videoCapabilities:[],persistentState:i.persistentState||"optional",distinctiveIdentifier:i.distinctiveIdentifier||"optional",initDataTypes:i.initDataTypes,sessionTypes:["temporary"],label:i.label,Do:i.Do},u=!1;if(i.audioCapabilities)for(var s=0,o=i.audioCapabilities;s<o.length;s++){var a=o[s];if(a.contentType){u=!0;var c=ee(a.contentType);!a.robustness&&t(n,c)&&(e.audioCapabilities.push(a),r=!0)}}if(i.videoCapabilities)for(var h=0,f=i.videoCapabilities;h<f.length;h++){var v=f[h];if(v.contentType){u=!0;var d=ee(v.contentType);!v.robustness&&t(n,d)&&(e.videoCapabilities.push(v),r=!0)}}return u||(r=t(n,"video/mp4")),r?e:void 0}}function re(t){if(t.videoCapabilities)for(var n=0,i=t.videoCapabilities;n<i.length;n++){var r=i[n];if(r.contentType)return r.contentType}if(t.audioCapabilities)for(var e=0,u=t.audioCapabilities;e<u.length;e++){var s=u[e];if(s.contentType)return s.contentType}}function ee(t){return t.split(";")[0]}var ue=function(){function t(t,n){this.io=t,this.Go=n;var i=re(n)||"video/mp4";this.Po=ee(i)}var n=t.prototype;return n.No=function(){return this.Go},n.Io=function(){return Ct.resolve(new ne(new Xt.MSMediaKeys(this.io),this.Po))},T(t,[{key:"Co",get:function(){return this.io}}]),t}(),se=function(){function t(){}return t.prototype.zu=function(t,n){try{return Ct.resolve(function(t,n){if(!oe())throw new l("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=ie(ae,t,r);if(e)return new ue(t,e)}throw new l("Unsupported key system configuration for "+t)}(t,n))}catch(t){return Ct.reject(t)}},t.Oo=function(){return oe()},t}();function oe(){return void 0!==Xt.MSMediaKeys&&"function"==typeof Xt.MSMediaKeys.isTypeSupported}function ae(t,n){return Xt.MSMediaKeys.isTypeSupported(t,n)}var ce,he,fe=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).jo=n,e.Po=i,e.Qo=r,e.Uo=new qr,e.Yo=void 0,e.qo=new fi,e.Zo=void 0,e.Jo=new qr,e.Ho=function(){var t=e.Zo&&e.Zo.error;if(t){var n=new Qr("Unknown CDM error",t.code,t.systemCode);e.Yo?(e.Yo.Ks(n),e.Yo=void 0):n.$s===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?e.Xo("output-not-allowed"):e.Xo("internal-error"),e.vs(new oi)}},e.Fo=function(t){e.Yo&&(e.Yo.Js(void 0),e.Yo=void 0),e.vs(new si(vt(e),"license-request",Hr(t.message).buffer,t.destinationURL||void 0))},e}ct(n,t);var i=n.prototype;return i.vo=function(t,n,i){var r=i&&i.fairplay&&i.fairplay.Ko;if(!r)throw new l("Expected FairPlay contentId to be defined but was "+r+".");var e=ve(Ur(n),r,this.Qo);return this.Zo=this.jo.createSession(this.Po,e),this.Zo.addEventListener("webkitkeymessage",this.Fo,!1),this.Zo.addEventListener("webkitkeyerror",this.Ho,!1),this.Xo("usable"),this.Jo.Js(this.Zo),this.Jo=new qr,Ct.resolve()},i.do=function(t){return Ct.resolve(!0)},i._o=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(i=Ur(n)).byteLength){t.next=3;break}throw new l("Cannot call update with an empty response.");case 3:if(this.Yo=new qr,t.t0=this.Zo,t.t0){t.next=9;break}return t.next=8,this.Jo.Zs;case 8:t.t0=t.sent;case 9:return t.t0.update(i),t.next=13,this.Yo.Zs;case 13:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.fo=function(){var t=this.Zo;return t&&(t.removeEventListener("webkitkeymessage",this.Fo,!1),t.removeEventListener("webkitkeyerror",this.Ho,!1),t.close()),this.Jo.ss(),this.Uo.Js(void 0),this.Uo.Zs},i.lo=function(){return Ct.resolve(void 0)},i.Xo=function(t){this.qo.Fs(),this.qo.Us(hi,t),this.vs(new ui(this))},T(n,[{key:"po",get:function(){return this.Zo?this.Zo.sessionId:""}},{key:"mo",get:function(){return NaN}},{key:"yo",get:function(){return this.Uo.Zs}},{key:"ko",get:function(){return this.qo}}]),n}(ii);function ve(t,n,i){var r=Or(t),e=2*r.length,u=2*n.length,s=new ArrayBuffer(4+e+4+u+4+i.byteLength),o=new DataView(s),a=new Vr;return lr(o,a,e,!0),Er(o,a,r,!0),lr(o,a,u,!0),Er(o,a,n,!0),lr(o,a,i.byteLength,!0),ar(o,a,i),new k(s)}(ce=n.ErrorCode||(n.ErrorCode={}))[ce.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",ce[ce.LICENSE_ERROR=2e3]="LICENSE_ERROR",ce[ce.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",ce[ce.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",ce[ce.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",ce[ce.SOURCE_INVALID=3e3]="SOURCE_INVALID",ce[ce.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",ce[ce.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",ce[ce.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",ce[ce.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",ce[ce.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",ce[ce.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",ce[ce.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",ce[ce.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",ce[ce.MEDIA_ABORTED=5004]="MEDIA_ABORTED",ce[ce.NETWORK_ERROR=6e3]="NETWORK_ERROR",ce[ce.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",ce[ce.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",ce[ce.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",ce[ce.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",ce[ce.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",ce[ce.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",ce[ce.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",ce[ce.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",ce[ce.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",ce[ce.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",ce[ce.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",ce[ce.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",ce[ce.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",ce[ce.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",ce[ce.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",ce[ce.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",ce[ce.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",ce[ce.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",ce[ce.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",ce[ce.AD_ERROR=1e4]="AD_ERROR",ce[ce.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",ce[ce.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR",(he=n.ErrorCategory||(n.ErrorCategory={}))[he.CONFIGURATION=1]="CONFIGURATION",he[he.LICENSE=2]="LICENSE",he[he.SOURCE=3]="SOURCE",he[he.MANIFEST=4]="MANIFEST",he[he.MEDIA=5]="MEDIA",he[he.NETWORK=6]="NETWORK",he[he.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",he[he.SUBTITLE=8]="SUBTITLE",he[he.VR=9]="VR",he[he.AD=10]="AD",he[he.FULLSCREEN=11]="FULLSCREEN",function(t){t.fromCode=function(n){var i=w.floor(n/1e3);if(i in t)return i;throw new l("Invalid error code: "+n)}}(n.ErrorCategory||(n.ErrorCategory={}));var de=function(t){function i(n,i,r){var e;return(e=t.call(this,i,r)||this).code=n,e}return ct(i,t),T(i,[{key:"name",get:function(){return"THEOplayerError"}},{key:"category",get:function(){return n.ErrorCategory.fromCode(this.code)}}]),i}(lt),le=function(){function t(t,n){this.jo=t,this.Po=n,this.Qo=void 0}var i=t.prototype;return i.getInternalMediaKeys=function(){return this.jo},i.bo=function(){var t=Ct.coroutine(Nt.mark(function t(i){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Qo){t.next=2;break}throw new de(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return t.abrupt("return",new fe(this.jo,this.Po,this.Qo));case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.To=function(t){return this.Qo=Ur(t),Ct.resolve(!0)},i.Eo=function(t){return t.webkitSetMediaKeys(this.jo),Ct.resolve()},i.So=function(t){return t.webkitSetMediaKeys(null),Ct.resolve()},t}(),_e=function(){function t(t,n){this.io=t,this.Go=n;var i=re(n)||"video/mp4";this.Po=ee(i)}var n=t.prototype;return n.No=function(){return this.Go},n.Io=function(){return Ct.resolve(new le(new Xt.WebKitMediaKeys(this.io),this.Po))},T(t,[{key:"Co",get:function(){return this.io}}]),t}(),we=function(){function t(){}return t.prototype.zu=function(t,n){try{return Ct.resolve(function(t,n){if(!ge())throw new l("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=ie(ye,t,r);if(e)return new _e(t,e)}throw new l("Unsupported key system configuration for "+t)}(t,n))}catch(t){return Ct.reject(t)}},t.Oo=function(){return ge()},t}();function ge(){return void 0!==Xt.WebKitMediaKeys&&"function"==typeof Xt.WebKitMediaKeys.isTypeSupported}function ye(t,n){return Xt.WebKitMediaKeys.isTypeSupported(t,n)}var me,ke=function(){function t(t){this.$o=t}return t.prototype.zu=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r,e,u;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.$o;case 1:if(!(r<e.length)){t.next=14;break}return u=e[r],t.prev=3,t.next=6,u.zu(n,i);case 6:return t.abrupt("return",t.sent);case 9:t.prev=9,t.t0=t.catch(3);case 11:r++,t.next=1;break;case 14:throw new l("Unsupported key system configuration for "+n);case 15:case"end":return t.stop()}},t,this,[[3,9]])}));return function(n,i){return t.apply(this,arguments)}}(),t}(),pe=function(t){function n(n){var i;return(i=t.call(this)||this).io=n,i.Mo=void 0,i.Yo=void 0,i.ta=!1,i.na=void 0,i.ia=void 0,i.Uo=new qr,i.ra="",i.ea=new qr,i.ua=new fi,i}ct(n,t);var i=n.prototype;return i.sa=function(){this.Yo&&(this.Xo("usable"),this.Yo.Js(void 0),this.Yo=void 0)},i.oa=function(t){var n=t,i=new Qr("Unknown CDM error",n.errorCode,n.systemCode);this.Yo?(this.Yo.Ks(i),this.Yo=void 0):this.Mo?(this.Mo.Ks(i),this.Mo=void 0):i.$s===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.Xo("output-restricted"):1===i.to?this.Xo("expired"):this.Xo("internal-error")},i.aa=function(t){this.Mo&&(this.Mo.Js(void 0),this.Mo=void 0),this.vs(new si(this,"license-request",Gr(this.io,Hr(t.message).buffer),t.defaultURL||void 0))},i.ca=function(t){this.ia||(this.ia=t,this.ea.Js(t))},i.fo=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed(),this.ta=!0,this.Uo.Js(void 0);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.vo=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.Mo=new qr,this.na=Ur(i),t.t0=this.ia,t.t0){t.next=8;break}return t.next=7,this.ea.Zs;case 7:t.t0=t.sent;case 8:return t.t0.webkitGenerateKeyRequest(this.io,this.na),t.next=12,this.Mo.Zs;case 12:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.do=function(){var t=Ct.coroutine(Nt.mark(function t(n){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.throwIfClosed(),t.abrupt("return",!1);case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.lo=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed();case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i._o=function(){var t=Ct.coroutine(Nt.mark(function t(n){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.Yo=new qr,t.t0=this.ia,t.t0){t.next=7;break}return t.next=6,this.ea.Zs;case 6:t.t0=t.sent;case 7:return t.t0.webkitAddKey(this.io,Ur(n),this.na,this.po),t.next=11,this.Yo.Zs;case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.throwIfClosed=function(){if(this.ta)throw new l("Already closing or closed.")},i.Xo=function(t){this.ua.Fs(),this.ua.Us(hi,t),this.vs(new ui(this))},T(n,[{key:"ko",get:function(){return this.ua}},{key:"po",get:function(){return this.ra},set:function(t){this.ra=t}},{key:"yo",get:function(){return this.Uo.Zs}},{key:"mo",get:function(){return NaN}}]),n}(ii),Ae=function(){function t(t){var n=this;this.io=t,this.ia=void 0,this.ha=xt(),this.fa=[],this.Vo=function(t){var i=n.va(t.sessionId);i&&i.sa()},this.da=function(t){var i=n.va(t.sessionId);i&&i.oa(t)},this.la=function(t){var i=t,r=n.va(i.sessionId);r&&r.aa(i)}}var n=t.prototype;return n.Eo=function(t){return this.ia=t,this.ia.addEventListener("webkitkeyadded",this.Vo),this.ia.addEventListener("webkitkeyerror",this.da),this.ia.addEventListener("webkitkeymessage",this.la),this.ha.forEach(function(n,i){return n.ca(t)}),this.fa.forEach(function(n){return n.ca(t)}),Ct.resolve()},n.So=function(t){return t.removeEventListener("webkitkeyadded",this.Vo),t.removeEventListener("webkitkeyerror",this.da),t.removeEventListener("webkitkeymessage",this.la),this.ia=void 0,Ct.resolve()},n.bo=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r){var e;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new pe(this.io),this.ia&&e.ca(this.ia),this.fa.push(e),t.abrupt("return",e);case 4:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),n.To=function(t){return Ct.resolve(!1)},n.va=function(t){if(t){var n=this.ha.get(t);return n||((n=this.fa.shift())?(n.po=t,this.ha.set(t,n),n):void 0)}},t}(),be=function(){function t(t,n){this.Co=t,this._a=n}var n=t.prototype;return n.Io=function(){return Ct.resolve(new Ae(this.Co))},n.No=function(){return this._a},t}();function Te(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Ee(t,n){if(void 0!==t.classList)t.classList.add(n);else if(void 0!==t.className){var i=function(t){var n=t.className;return"string"==typeof n?n:n&&"string"==typeof n.baseVal?n.baseVal:""}(t);-1===(" "+i+" ").indexOf(" "+n+" ")&&function(t,n){var i=t.className;"string"==typeof i?t.className=n:i&&"string"==typeof i.baseVal&&(i.baseVal=n)}(t,(i+" "+n).trim())}}function Se(t,n,i){t.display=n,"none"!==t.display&&""!==t.display||(t.display=i)}function Re(t,n){var i=n.style;if(i)for(var r in t)i[r]=t[r]}function Ie(t){var n=t.style;n.position="absolute",n.left="0",n.right="0",n.top="0",n.bottom="0",n.width="100%",n.height="100%"}function Ne(t){t.removeAttribute("title")}function Ce(t){return"video"===((n=t)&&n.nodeName&&n.nodeName.toLowerCase()||"");var n}function De(t){t.src&&(t.removeAttribute("src"),t.load())}function Oe(){return void 0!==s?s.createElement("video"):void 0}function xe(){return me||(me=Oe()),me}var Pe,Be=function(){function t(){}return t.prototype.zu=function(t,n){try{return Ct.resolve(Me(t,n))}catch(t){return Ct.reject(t)}},t.Oo=function(){return An()},t}();function Me(t,n){if(!Be.Oo())throw new l("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=ie(Le,t,n[i]);if(r)return new be(t,r)}throw new l("Unsupported key system configuration for "+t)}function Le(t,n){var i=xe();return!(!i||!i.canPlayType||""===i.canPlayType(n,t))}function Ue(){return Pe||(Pe=function(){var t=[];we.Oo()&&t.push(new we);$r.Oo()&&t.push(new $r);se.Oo()&&t.push(new se);Be.Oo()&&t.push(new Be);return new ke(t)}()),Pe}function Fe(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),_.defineProperty(t,r.key,r)}}function He(t,n){var i=function(t,n){var i=t.length;if(i<=1)return t;for(var r=new Array(i),e=1;e<i;e*=2){Ve(t,n,e,r);var u=t;t=r,r=u}return t}(t,n);return i!==t&&Ve(i,null,t.length,t),t}function Ve(t,n,i,r){var e,u,s,o,a,c=t.length,h=0,f=2*i;for(e=0;e<c;e+=f)for(s=(u=e+i)+i,u>c&&(u=c),s>c&&(s=c),o=e,a=u;;)if(o<u&&a<s)n(t[o],t[a])<=0?r[h++]=t[o++]:r[h++]=t[a++];else if(o<u)r[h++]=t[o++];else{if(!(a<s))break;r[h++]=t[a++]}}var Xe=/[a-zA-Z]/,qe=/[0-9]/,We=/[0-9a-fA-F]/,ze=/^0x/i,Ge=/^[0-9]+$/,je=/^[0-9a-fA-F]+$/,Qe=/^[0-7]+$/,Ye=_.prototype.toString,Ze=Array.isArray||function(t){return"[object Array]"===Ye.call(t)},Je="undefined"!=typeof Symbol&&"symbol"==typeof Symbol.iterator;function Ke(t){return Ze(t)?t:Array.from(t)}function $e(t){return t>=65&&t<=90}function tu(t){return $e(t)||function(t){return t>=97&&t<=122}(t)}function nu(t){return t>=48&&t<=57}function iu(t){return nu(t)||tu(t)}function ru(t){return nu(t)||t>=65&&t<=70||t>=97&&t<=102}function eu(t){return $e(t)?t+32:t}function uu(t){return nu(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function su(t,n){return void 0===n&&(n=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(n?87:55):-1}var ou=w.min,au=String.fromCharCode,cu=16384;function hu(t){for(var n=t.length,i=[],r=0;r<n;r+=cu){var e=ou(r+cu,n);i.push(au.apply(null,t.slice(r,e)))}return i.join("")}var fu=/[^\0-\x7E]/,vu=/[\x2E\u3002\uFF0E\uFF61]/g,du={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},lu=w.floor,_u=String.fromCharCode;function wu(t){throw new RangeError(du[t])}function gu(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&e)<<10)+(1023&u)+65536):(n.push(e),i--)}else n.push(e)}return n}var yu,mu,ku,pu=function(t,n){return t+22+75*(t<26)-((0!=n)<<5)},Au=function(t,n,i){var r=0;for(t=i?lu(t/700):t>>1,t+=lu(t/n);t>455;r+=36)t=lu(t/35);return lu(r+36*t/(t+38))},bu=function(t){return function(t,n){var i=t.split("@"),r="";i.length>1&&(r=i[0]+"@",t=i[1]);var e=function(t,n){for(var i=[],r=t.length;r--;)i[r]=n(t[r]);return i}((t=t.replace(vu,".")).split("."),n).join(".");return r+e}(t,function(t){return fu.test(t)?"xn--"+function(t){for(var n=[],i=(t=gu(t)).length,r=128,e=0,u=72,s=0,o=t;s<o.length;s++){var a=o[s];a<128&&n.push(_u(a))}var c=n.length,h=c;for(c&&n.push("-");h<i;){for(var f=2147483647,v=0,d=t;v<d.length;v++){var l=d[v];l>=r&&l<f&&(f=l)}var _=h+1;f-r>lu((2147483647-e)/_)&&wu("overflow"),e+=(f-r)*_,r=f;for(var w=0,g=t;w<g.length;w++){var y=g[w];if(y<r&&++e>2147483647&&wu("overflow"),y==r){for(var m=e,k=36;;k+=36){var p=k<=u?1:k>=u+26?26:k-u;if(m<p)break;var A=m-p,b=36-p;n.push(_u(pu(p+A%b,0))),m=lu(A/b)}n.push(_u(pu(m,0))),u=Au(e,_,h==c),e=0,++h}}++e,++r}return n.join("")}(t):t})};function Tu(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return hu(n)}function Eu(t){if(t>=55296&&t<=57343)throw new d("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function Su(t,n){return t>>n&63|128}function Ru(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Eu(t),n.push(t>>12&15|224),n.push(Su(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(Su(t,12)),n.push(Su(t,6))),n.push(63&t|128)):n.push(t)}function Iu(t){for(var n=[],i=0;i<t.length;i++){Ru(t[i],n)}return n}function Nu(){if(ku>=mu)throw new d("Invalid byte index");var t=255&yu[ku];if(ku++,128==(192&t))return 63&t;throw new d("Invalid continuation byte")}function Cu(){var t,n;if(ku>mu)throw new d("Invalid byte index");if(ku===mu)return!1;if(t=255&yu[ku],ku++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|Nu())>=128)return n;throw new d("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|Nu()<<6|Nu())>=2048)return Eu(n),n;throw new d("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|Nu()<<12|Nu()<<6|Nu())>=65536&&n<=1114111)return n;throw new d("Invalid UTF-8 detected")}function Du(t){return[37,su(t>>4),su(15&t)]}function Ou(t){return function(t){return t>=0&&t<=31}(t)||t>126}function xu(t){return Ou(t)||32===t||34===t||60===t||62===t||96===t}function Pu(t){return xu(t)||35===t||63===t||123===t||125===t}function Bu(t){return Pu(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function Mu(t){return t<33||t>126||34===t||35===t||60===t||62===t}function Lu(t){return Mu(t)||39===t}function Uu(t,n){if(!n(t))return[t];for(var i=Iu([t]),r=[],e=0;e<i.length;e++){var u=i[e];r.push.apply(r,Du(u))}return r}function Fu(t,n){for(var i=[],r=0,e=gu(t);r<e.length;r++){var u=e[r];i.push.apply(i,Uu(u,n))}return Tu(i)}function Hu(t){return function(t){for(var n=[],i=t.length,r=0;r<i;r++){var e=t[r];if(37===e&&r+2<i&&ru(t[r+1])&&ru(t[r+2])){var u=uu(t[r+1])<<4|uu(t[r+2]);n.push(u),r+=2}else n.push(e)}return n}(Iu(t))}function Vu(t){return Tu(function(t){yu=t.slice(),mu=yu.length,ku=0;for(var n,i=[];!1!==(n=Cu());)i.push(n);return i}(Hu(gu(t))))}function Xu(t){var n,i,r,e,u=t.length,s=[0,0,0,0,0,0,0,0],o=0,a=null,c=0;if(c<u&&":"===t[c]){if(!(c+1<u&&":"===t[c+1]))throw new l;c+=2,a=o+=1}for(;c<u;){if(8===o)throw new l("Too many groups");if(":"!==t[c]){for(var h=0,f=0;f<4&&c<u&&We.test(t[c]);)h=h<<4|g(t[c],16),c+=1,f+=1;if("."===t[c]){if(0===f)throw new l;if(c-=f,o>6)throw new l;for(var v=0;c<u;){var d=null;if(v>0){if(!("."===t[c]&&v<4))throw new l;c+=1}if(!qe.test(t[c]))throw new l;for(;c<u&&qe.test(t[c]);){var _=g(t[c],10);if(null===d)d=_;else{if(0===d)throw new l;if((d=10*d+_)>255)throw new l}c+=1}s[o]=s[o]<<8|d,2!==(v+=1)&&4!==v||(o+=1)}if(4!==v)throw new l;break}if(":"===t[c]){if((c+=1)===u)throw new l}else if(c<u)throw new l;s[o]=h,o+=1}else{if(null!==a)throw new l("Too many :: groups");c+=1,a=o+=1}}if(null!==a){var w=o-a;for(o=7;0!==o&&w>0;)r=a+w-1,e=void 0,e=(n=s)[i=o],n[i]=n[r],n[r]=e,o-=1,w-=1}else if(8!==o)throw new l;return s}function qu(t){var n=10,i=Ge;return ze.test(t)?(t=t.slice(2),n=16,i=je):t.length>=2&&"0"===t[0]&&(t=t.slice(1),n=8,i=Qe),""===t?0:i.test(t)?g(t,n):void 0}var Wu={wa:4},zu=/[\0\t\n\r #%\/:?@\[\\\]]/,Gu=/[\0\t\n\r #\/:?@\[\\\]]/;function ju(t,n){if("["===t[0]){if("]"!==t[t.length-1])throw new l("Invalid IPv6 address");return{wa:2,ga:Xu(t.slice(1,-1))}}if(!n)return function(t){if(Gu.test(t))throw new l("Invalid code point in opaque host");var n=Fu(t,Ou);return""===n?Wu:{wa:3,gu:n}}(t);var i=function(t){return function(t){return bu(t.toLowerCase())}(t)}(Vu(t));if(zu.test(i))throw new l("Invalid code point in host");var r=function(t){var n=t.split(".");if(""===n[n.length-1]&&n.pop(),!(n.length>4)){for(var i=[],r=0;r<n.length;r++){var e=n[r];if(""===e)return;var u=qu(e);if(void 0===u)return;i.push(u)}for(var s=0;s<i.length-1;s++)if(i[s]>255)throw new l;if(i[i.length-1]>=w.pow(256,5-i.length))throw new l;for(var o=i.pop(),a=0;a<i.length;a++)o+=i[a]*w.pow(256,3-a);return o}}(i);return void 0!==r?{wa:1,ga:r}:""===i?Wu:{wa:0,ya:i}}function Qu(t){switch(t.wa){case 0:return t.ya;case 1:return function(t){for(var n=[],i=t,r=1;r<=4;r++)n.push(""+(255&i)),4!==r&&n.push("."),i>>>=8;return n.reverse().join("")}(t.ga);case 2:return"["+function(t){for(var n="",i=function(t){for(var n=0,i=0,r=0,e=0,u=0;u<8;u++)0===t[u]?(0===e&&(r=u),e++):(e>i&&(n=r,i=e),e=0);return e>i&&(n=r,i=e),i>1?n:null}(t),r=!1,e=0;e<8;e++){if(r){if(0===t[e])continue;r=!1}i!==e?(n+=t[e].toString(16),7!==e&&(n+=":")):(n+=0===e?"::":":",r=!0)}return n}(t.ga)+"]";case 3:return t.gu;case 4:return""}}var Yu=/\+/g;function Zu(t){for(var n=t.split("&"),i=[],r=0;r<n.length;r++){var e=n[r];if(""!==e){var u=e.indexOf("="),s=void 0,o=void 0;-1!==u?(s=e.slice(0,u),o=e.slice(u+1)):(s=e,o=""),s=s.replace(Yu," "),o=o.replace(Yu," ");var a=Vu(s),c=Vu(o);i.push([a,c])}}return i}function Ju(t){for(var n="",i=0;i<t.length;i++){var r=t[i];i>0&&(n+="&"),n+=Ku(Iu(gu(r[0])))+"="+Ku(Iu(gu(r[1])))}return n}function Ku(t){for(var n,i=[],r=0;r<t.length;r++){var e=t[r];32===e?i.push(43):42===(n=e)||45===n||46===n||95===n||iu(n)?i.push(e):i.push.apply(i,Du(e))}return hu(i)}var $u=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function ts(t){var n=""+t,i=$u.exec(n);return i?function(t,n){for(var i=t.length,r=[],e=n;e<i;e++){var u=t.charCodeAt(e);if(is(u))if(rs(u)||e===i-1)r.push(ns);else{var s=t.charCodeAt(e+1);rs(s)?(r.push(u,s),e++):r.push(ns)}else r.push(u)}return t.slice(0,n)+hu(r)}(n,i.index):n}var ns=65533,is=function(t){return 55296==(63488&t)},rs=function(t){return 0!=(1024&t)};function es(t,n){var i=t[0],r=n[0];return i===r?0:i<r?-1:1}function us(t){t.ma.length=0}function ss(t,n){!function(t,n){for(var i=0;i<n.length;i++)t[i]=n[i];t.length=n.length}(t.ma,Zu(n))}function os(t){if(t.ka){var n=Ju(t.ma);""===n&&(n=null),t.ka.ka.pa=n}}var as=function(){function t(t){if(void 0===t&&(t=void 0),this.ka=null,null==t)this.ma=[];else if("object"==typeof t||"function"==typeof t)if((u=t)instanceof as&&Ze(u.ma)&&(!Je||u[Symbol.iterator]===cs))this.ma=t.ma.slice();else if(function(t){return null!=t&&(!!Ze(t)||!!Je&&"function"==typeof t[Symbol.iterator])}(t)){this.ma=[];for(var n=0,i=Ke(t);n<i.length;n++){var r=Ke(i[n]);if(2!==r.length)throw new l("Invalid name-value pair");this.ma.push([ts(r[0]),ts(r[1])])}}else for(var e in this.ma=[],t)_.prototype.hasOwnProperty.call(t,e)&&this.ma.push([ts(e),ts(t[e])]);else(t=ts(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this.ma=Zu(t);var u}var n=t.prototype;return n.append=function(t,n){t=ts(t),n=ts(n),this.ma.push([t,n]),os(this)},n.delete=function(t){t=ts(t);for(var n=this.ma,i=0;i<n.length;){n[i][0]===t?n.splice(i,1):i++}os(this)},n.get=function(t){t=ts(t);for(var n=this.ma,i=0;i<n.length;i++){var r=n[i];if(r[0]===t)return r[1]}return null},n.getAll=function(t){t=ts(t);for(var n=this.ma,i=[],r=0;r<n.length;r++){var e=n[r];e[0]===t&&i.push(e[1])}return i},n.has=function(t){t=ts(t);for(var n=this.ma,i=0;i<n.length;i++){if(n[i][0]===t)return!0}return!1},n.set=function(t,n){t=ts(t),n=ts(n);for(var i=this.ma,r=!1,e=0;e<i.length;){var u=i[e];u[0]===t?r?i.splice(e,1):(u[1]=n,r=!0,e++):e++}r||i.push([t,n]),os(this)},n.sort=function(){He(this.ma,es),os(this)},n.toString=function(){return Ju(this.ma)},n.entries=function(){return new ds(this.ma,hs)},n.keys=function(){return new ds(this.ma,fs)},n.values=function(){return new ds(this.ma,vs)},n.forEach=function(t){var n=this;this.ma.forEach(function(i){return t(i[1],i[0],n)})},t}(),cs=as.prototype.entries;Je&&(as.prototype[Symbol.iterator]=cs);var hs=function(t){return[t[0],t[1]]},fs=function(t){return t[0]},vs=function(t){return t[1]},ds=function(){function t(t,n){this.Aa=0,this.ma=t,this.ba=n}return t.prototype.next=function(){return this.Aa<this.ma.length?{done:!1,value:this.ba(this.ma[this.Aa++])}:{done:!0,value:void 0}},t}(),ls="null";var _s=_.create(null);_s.ftp=21,_s.file=0,_s.gopher=70,_s.http=80,_s.https=443,_s.ws=80,_s.wss=443;var ws=/^(?:\.|%2e)$/i,gs=/^(?:\.|%2e){2}$/i;function ys(t){return ws.test(t)}function ms(t){return gs.test(t)}function ks(t){return void 0!==_s[t]}function ps(t){return ks(t.Ta)}function As(t){return""!==t.Ea||""!==t.Sa}function bs(t){var n=t.length;if(!(n>=2))return!1;if(!Es(t.slice(0,2)))return!1;if(2!==n){var i=t[2];if(47!==i&&92!==i&&63!==i&&35!==i)return!1}return!0}function Ts(t){return 2===t.length&&Xe.test(t[0])&&(":"===t[1]||"|"===t[1])}function Es(t){return 2===t.length&&Ts(hu(t))}function Ss(t){return Ts(t)&&":"===t[1]}function Rs(t){var n=t.Ra;0!==n.length&&("file"===t.Ta&&1===n.length&&Ss(n[0])||n.pop())}function Is(t){return null===t.Ia||Wu===t.Ia||t.Na||"file"===t.Ta}var Ns=-1,Cs=/\t|\n|\r/g,Ds=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function Os(t,n,i,r){void 0===i&&(i=null),void 0===r&&(r=null),i||(i=new Ps,t=t.replace(Ds,""));var e=null!==r?r:0;n=n||null;for(var u=[],s=!1,o=!1,a=!1,c=gu(t=t.replace(Cs,"")),h=c.length,f=0;f<=h;){var v=f<h?c[f]:Ns;switch(e){case 0:if(!tu(v)){if(null===r){u.length=0,e=2;continue}throw new l("Invalid scheme")}u.push(eu(v)),e=1;break;case 1:if(iu(v)||43===v||45===v||46===v)u.push(eu(v));else{if(58!==v){if(null===r){u.length=0,e=2,f=0;continue}throw new l("Invalid scheme")}var d=Tu(u);if(null!==r){if(ks(i.Ta)&&!ks(d))return;if(!ks(i.Ta)&&ks(d))return;if((As(i)||null!==i.Ca)&&"file"===d)return;if("file"===i.Ta&&(i.Ia===Wu||null===i.Ia))return}if(i.Ta=d,null!==r)return void(ps(i)&&i.Ca===_s[i.Ta]&&(i.Ca=null));u.length=0,"file"===i.Ta?e=13:ps(i)&&n&&n.Ta===i.Ta?e=3:ps(i)?e=7:47===c[f+1]?(e=4,f+=1):(i.Na=!0,i.Ra.push(""),e=18)}break;case 2:if(!n||n.Na&&35!==v)throw new l("Invalid scheme");n.Na&&35===v?(i.Ta=n.Ta,i.Ra=n.Ra.slice(),i.pa=n.pa,i.Da="",i.Na=!0,e=20):"file"!==n.Ta?(e=5,f-=1):(e=13,f-=1);break;case 3:47===v&&47===c[f+1]?e=8:(e=5,f-=1);break;case 4:47===v?e=9:(e=17,f-=1);break;case 5:i.Ta=n.Ta,Ns===v?(i.Ea=n.Ea,i.Sa=n.Sa,i.Ia=n.Ia,i.Ca=n.Ca,i.Ra=n.Ra.slice(),i.pa=n.pa):47===v?e=6:63===v?(i.Ea=n.Ea,i.Sa=n.Sa,i.Ia=n.Ia,i.Ca=n.Ca,i.Ra=n.Ra.slice(),i.pa="",e=19):35===v?(i.Ea=n.Ea,i.Sa=n.Sa,i.Ia=n.Ia,i.Ca=n.Ca,i.Ra=n.Ra.slice(),i.pa=n.pa,i.Da="",e=20):92===v&&ps(i)?e=6:(i.Ea=n.Ea,i.Sa=n.Sa,i.Ia=n.Ia,i.Ca=n.Ca,i.Ra=n.Ra.slice(),i.Ra.pop(),e=17,f-=1);break;case 6:!ps(i)||47!==v&&92!==v?47===v?e=9:(i.Ea=n.Ea,i.Sa=n.Sa,i.Ia=n.Ia,i.Ca=n.Ca,e=17,f-=1):e=8;break;case 7:if(47!==v||47!==c[f+1]){e=8;continue}e=8,f+=1;break;case 8:47!==v&&92!==v&&(e=9,f-=1);break;case 9:if(64===v){s&&u.unshift(37,52,48),s=!0;for(var _=0;_<u.length;_++){var w=u[_];if(58!==w||a){var y=Tu(Uu(w,Bu));a?i.Sa+=y:i.Ea+=y}else a=!0}u.length=0}else if(Ns===v||47===v||63===v||35===v||ps(i)&&92===v){if(s&&0===u.length)throw new l("Invalid host");f-=u.length+1,u.length=0,e=10}else u.push(v);break;case 10:case 11:if(null!==r&&"file"===i.Ta)f-=1,e=15;else if(58!==v||o)if(Ns===v||47===v||63===v||35===v||ps(i)&&92===v){if(f-=1,ps(i)&&0===u.length)throw new l("Invalid host");if(null!==r&&0===u.length&&(As(i)||null!==i.Ca))return;var m=ju(Tu(u),ps(i));if(i.Ia=m,u.length=0,e=16,null!==r)return}else 91===v?o=!0:93===v&&(o=!1),u.push(v);else{if(0===u.length)throw new l("Invalid host");var k=ju(Tu(u),ps(i));if(i.Ia=k,u.length=0,e=12,11===r)return}break;case 12:if(nu(v))u.push(v);else{if(!(Ns===v||47===v||63===v||35===v||ps(i)&&92===v||null!==r))throw new l("Invalid port");if(0!==u.length){var p=g(Tu(u),10);if(p>65535)throw new l("Invalid port");i.Ca=p===_s[i.Ta]?null:p,u.length=0}if(null!==r)return;e=16,f-=1}break;case 13:i.Ta="file",47===v||92===v?e=14:n&&"file"===n.Ta?Ns===v?(i.Ia=n.Ia,i.Ra=n.Ra.slice(),i.pa=n.pa):63===v?(i.Ia=n.Ia,i.Ra=n.Ra.slice(),i.pa="",e=19):35===v?(i.Ia=n.Ia,i.Ra=n.Ra.slice(),i.pa=n.pa,i.Da="",e=20):(bs(c.slice(f))||(i.Ia=n.Ia,i.Ra=n.Ra.slice(),Rs(i)),e=17,f-=1):(e=17,f-=1);break;case 14:47===v||92===v?e=15:(n&&"file"===n.Ta&&!bs(c.slice(f))&&(Ss(n.Ra[0])?i.Ra.push(n.Ra[0]):i.Ia=n.Ia),e=17,f-=1);break;case 15:if(Ns===v||47===v||92===v||63===v||35===v)if(f-=1,null===r&&Es(u))e=17;else if(0===u.length){if(i.Ia=Wu,null!==r)return;e=16}else{var A=ju(Tu(u),ps(i));if(0===A.wa&&"localhost"===A.ya&&(A=Wu),i.Ia=A,null!==r)return;u.length=0,e=16}else u.push(v);break;case 16:ps(i)?(e=17,47!==v&&92!==v&&(f-=1)):null===r&&63===v?(i.pa="",e=19):null===r&&35===v?(i.Da="",e=20):Ns!==v&&(e=17,47!==v&&(f-=1));break;case 17:if(Ns===v||47===v||ps(i)&&92===v||null===r&&(63===v||35===v)){var b=Tu(u);if(ms(b)?(Rs(i),47===v||ps(i)&&92===v||i.Ra.push("")):!ys(b)||47===v||ps(i)&&92===v?ys(b)||("file"===i.Ta&&0===i.Ra.length&&Es(u)&&(Wu!==i.Ia&&null!==i.Ia&&(i.Ia=Wu),u[1]=58,b=Tu(u)),i.Ra.push(b)):i.Ra.push(""),u.length=0,"file"===i.Ta&&(Ns===v||63===v||35===v))for(;i.Ra.length>1&&""===i.Ra[0];)i.Ra.shift();63===v?(i.pa="",e=19):35===v&&(i.Da="",e=20)}else u.push.apply(u,Uu(v,Pu));break;case 18:63===v?(i.pa="",e=19):35===v?(i.Da="",e=20):Ns!==v&&(i.Ra[0]+=Tu(Uu(v,Ou)));break;case 19:null===r&&35===v?(i.Da="",e=20):Ns!==v&&(i.pa+=Tu(Uu(v,ps(i)?Lu:Mu)));break;case 20:Ns===v||0===v||(i.Da+=Tu(Uu(v,xu)))}f++}return i}function xs(t,n,i,r){try{Os(t,n,i,r)}catch(t){}}var Ps=function(){this.Ta="",this.Ea="",this.Sa="",this.Ia=null,this.Ca=null,this.Ra=[],this.pa=null,this.Da=null,this.Na=!1};function Bs(t){switch(t.Ta){case"blob":var n;try{n=Os(t.Ra[0],null)}catch(t){return ls}return Bs(n);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return i=t.Ta,r=t.Ia,e=t.Ca,i+"://"+Qu(r)+(null===e?"":":"+e);case"file":default:return ls}var i,r,e}var Ms=function(){function t(t,n){var i,r,e=null;if(null!=n)if(null!=(i=n)&&i instanceof Ms&&"object"==typeof i.ka)e=n.ka;else try{e=Os(String(n),null)}catch(t){throw new l("Invalid base URL: "+t.message)}try{r=Os(String(t),e)}catch(t){throw new l("Invalid URL: "+t.message)}var u=r.pa;this.ka=r,this.pa=function(t){var n=new as;return null!==t&&ss(n,t),n}(u),this.pa.ka=this}var n,i,r,e=t.prototype;return e.toString=function(){return this.href},e.toJSON=function(){return this.href},n=t,(i=[{key:"href",get:function(){return function(t,n){void 0===n&&(n=!1);var i=t.Ta+":";if(null!==t.Ia?(i+="//",As(t)&&(i+=t.Ea,""!==t.Sa&&(i+=":"+t.Sa),i+="@"),i+=Qu(t.Ia),null!==t.Ca&&(i+=":"+t.Ca)):null===t.Ia&&"file"===t.Ta&&(i+="//"),t.Na)i+=t.Ra[0];else for(var r=0,e=t.Ra;r<e.length;r++)i+="/"+e[r];return null!==t.pa&&(i+="?"+t.pa),n||null===t.Da||(i+="#"+t.Da),i}(this.ka)},set:function(t){var n;try{n=Os(String(t),null)}catch(t){throw new l("Invalid URL: "+t.message)}this.ka=n,us(this.pa);var i=this.ka.pa;null!==i&&ss(this.pa,i)}},{key:"origin",get:function(){return Bs(this.ka)}},{key:"protocol",get:function(){return this.ka.Ta+":"},set:function(t){xs(t+":",null,this.ka,0)}},{key:"username",get:function(){return this.ka.Ea},set:function(t){Is(this.ka)||(this.ka.Ea=Fu(t,Bu))}},{key:"password",get:function(){return this.ka.Sa},set:function(t){Is(this.ka)||(this.ka.Sa=Fu(t,Bu))}},{key:"host",get:function(){var t=this.ka,n=t.Ia;if(null===n)return"";var i=t.Ca,r=Qu(n);return null!==i&&(r+=":"+i),r},set:function(t){this.ka.Na||xs(t,null,this.ka,10)}},{key:"hostname",get:function(){var t=this.ka.Ia;return null===t?"":Qu(t)},set:function(t){this.ka.Na||xs(t,null,this.ka,11)}},{key:"port",get:function(){var t=this.ka.Ca;return null===t?"":""+t},set:function(t){Is(this.ka)||(""===t?this.ka.Ca=null:xs(t,null,this.ka,12))}},{key:"pathname",get:function(){var t=this.ka.Ra;return this.ka.Na?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.ka.Na||(this.ka.Ra.length=0,xs(t,null,this.ka,16))}},{key:"search",get:function(){var t=this.ka.pa;return null===t||""===t?"":"?"+t},set:function(t){t=ts(t);var n=this.ka;if(""===t)return n.pa=null,void us(this.pa);"?"===t[0]&&(t=t.slice(1)),n.pa="",xs(t,null,n,19),ss(this.pa,t)}},{key:"searchParams",get:function(){return this.pa}},{key:"hash",get:function(){var t=this.ka.Da;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.ka.Da="",xs(t,null,this.ka,20)):this.ka.Da=null}}])&&Fe(n.prototype,i),r&&Fe(n,r),t}();function Ls(t,n){for(var i=0,r=_.keys(n);i<r.length;i++){var e=r[i];t.searchParams.set(e,n[e])}}function Us(t,n){var i=r.Oa(t).href;return n&&!ln(i,"/")&&(i+="/"),i}var Fs=/cache:(.+)?(?=&|$)/,Hs="http://webcache.googleusercontent.com/search?q=cache:";function Vs(t){if(!dn(t,Hs))return"";var n=r.Oa(t).search.match(Fs);return n&&n.length>1?n[1]:""}function Xs(t){return r.Oa(t).hostname}var qs,Ws=w.pow(2,-52);function zs(t,n,i){return w.min(w.max(t,n),i)}function Gs(t,n,i){return t===n||w.abs(t-n)<=i}function js(t,n){if(t===n)return!0;var i=w.abs(t-n);return i<Ws||i<w.max(w.abs(t),w.abs(n))*Ws}function Qs(t){return t!=t}function Ys(t,n){return t===n||Qs(t)&&Qs(n)}function Zs(t,n){for(var i=t,r=n;0!==r;){var e=i%r;i=r,r=e}return i<0?-i:i}!function(t){t[t.xa=0]="xa",t[t.Pa=1]="Pa",t[t.Ba=-1]="Ba"}(qs||(qs={}));var Js=function(t,n){return(0|t)-(0|n)},Ks=function(t,n){return t===n?qs.xa:t<n?qs.Ba:t>n?qs.Pa:m(t)?m(n)?qs.xa:qs.Pa:qs.Ba};function $s(t,n,i){return Gs(t,n,i)?qs.xa:Ks(t,n)}var to=function(t,n){return js(t,n)?qs.xa:Ks(t,n)};var no=function(){function t(t,n){void 0===n&&(n=1),this.Ma=t,this.La=n}t.Ua=function(n){return new t(w.ceil(n.Ma),n.La)},t.Fa=function(n){return new t(w.floor(n.Ma),n.La)},t.Ha=function(t,n){return t.Va(n)?t:n},t.Xa=function(t,n){return t.qa(n)?t:n};var n=t.prototype;return n.Wa=function(n){return this.La>=n.La?new t(this.Ma+n.za(this.La).Ma,this.La):new t(this.za(n.La).Ma+n.Ma,n.La)},n.Ga=function(t){return t.ja(this)},n.Va=function(t){return t.qa(this)},n.Qa=function(n){return this.La>=n.La?new t(w.abs(this.Ma-n.za(this.La).Ma),this.La):n.Qa(this)},n.Ya=function(t,n){return this.Qa(t).qa(n)},n.Za=function(t){return io(this,t)},n.Ja=function(t){return 0===this.Za(t)},n.ja=function(t){return this.Za(t)<0},n.qa=function(t){return this.Za(t)<=0},n.za=function(n){return new t(this.Ma*(n/this.La),n)},n.Ka=function(n){return this.La>=n.La?new t(this.Ma-n.za(this.La).Ma,this.La):new t(this.za(n.La).Ma-n.Ma,n.La)},n.$a=function(n){return new t(this.Ma*n,this.La)},T(t,[{key:"tc",get:function(){return!isFinite(this.Ma)}},{key:"nc",get:function(){return this.Ma/this.La}}]),t}();function io(t,n){return t.La>=n.La?to(t.Ma,n.za(t.La).Ma):to(t.za(n.La).Ma,n.Ma)}no.ic=new no(1/6,1),no.rc=new no(0),no.ec=new no(1/0),no.uc=1e6;var ro=!!("ontouchstart"in t||t.DocumentTouch&&s instanceof t.DocumentTouch)||!(!a||!a.msMaxTouchPoints),eo=xe(),uo=!(!eo||!eo.webkitShowPlaybackTargetPicker),so=function(){function t(){this.sc=new no(0,1),this.oc=!1,this.It=ro,this.Vt=!1,this.ac=!0,this.cc=!1}var n=t.prototype;return n.hc=function(t,n){return!0},n.fc=function(t){return t.Va(no.ic.$a(2))},T(t,[{key:"vc",get:function(){return u.devicePixelRatio||1}},{key:"dc",get:function(){return uo}}]),t}(),oo=function(t){function n(){return t.call(this)||this}return ct(n,t),n}(so),ao=function(t){function n(){return t.apply(this,arguments)||this}return ct(n,t),n.prototype.hc=function(t,n){if(t&&t.lc&&n&&n.lc){var i=co(t.lc,"mp4a.40.2")&&co(n.lc,"mp4a.40.5"),r=co(t.lc,"mp4a.40.5")&&co(n.lc,"mp4a.40.2"),e=co(t.lc,"mp4a.40.2")&&co(n.lc,"mp4a.40.34"),u=co(t.lc,"mp4a.40.34")&&co(n.lc,"mp4a.40.2"),s=co(t.lc,"mp4a.40.5")&&co(n.lc,"mp4a.40.34"),o=co(t.lc,"mp4a.40.34")&&co(n.lc,"mp4a.40.5");return!(i||r||e||u||s||o)}return!0},n}(oo);function co(t,n){return t.indexOf(n)>-1}var ho=function(t){function n(){return t.apply(this,arguments)||this}return ct(n,t),n.prototype.fc=function(t){return t.Va(new no(2))},n}(oo),fo=function(t){function n(){var n;return(n=t.call(this)||this).oc=P.in>=11,n.ac=P.nn&&!(P.Ft&&P.in<10),n}return ct(n,t),n}(oo),vo=function(){var t=Oe();if(!t)return!1;var n=t.muted;return t.muted=!n,t.muted!==n}();!function(){if(P.Lt)return!1;var t=Oe();if(!t)return!1;var n=t.volume;t.volume=n/2+.1,t.volume}();var lo=function(t){function n(n){var i;return(i=t.call(this)||this)._c=n,i._c&&(i.sc=i._c.sc,i.oc=i._c.oc,i.It=i._c.It,i.ac=vo&&i._c.ac,i.cc=P.sn),i}ct(n,t);var i=n.prototype;return i.hc=function(n,i){return this._c?this._c.hc(n,i):t.prototype.hc.call(this,n,i)},i.fc=function(n){return this._c?this._c.fc(n):t.prototype.fc.call(this,n)},n}(so),_o=function(t){function n(n){var i;return(i=t.call(this,n)||this).oc=!0,i.Vt=!0,i}return ct(n,t),n}(lo),wo=function(t){function n(){return t.apply(this,arguments)||this}return ct(n,t),n.prototype.hc=function(n,i){return!(i.wc>1920)&&t.prototype.hc.call(this,n,i)},n}(lo),go=function(){function t(){this.gc=xt()}var n=t.prototype;return n.Fs=function(t){this.gc.delete(t)},n.yc=function(){this.gc.clear()},n.Ms=function(t){return this.gc.get(t)},n.mc=function(t,n){this.gc.set(t,n)},t}(),yo=function(){function t(){}return t.kc=function(){return t.dn||(t.dn=mo.Oo()?new mo:new go),t.dn},t.Fs=function(n){t.kc().Fs(n)},t.yc=function(){t.kc().yc()},t.Ms=function(n){return t.kc().Ms(n)},t.mc=function(n,i){t.kc().mc(n,i)},t}();yo.dn=void 0;var mo=function(n){function i(){return n.apply(this,arguments)||this}ct(i,n),i.Oo=function(){try{return t.sessionStorage.setItem("foobar","foobar"),t.sessionStorage.removeItem("foobar"),!0}catch(t){return!1}};var r=i.prototype;return r.Fs=function(n){t.sessionStorage.removeItem(n)},r.yc=function(){t.sessionStorage.clear()},r.Ms=function(n){return t.sessionStorage[n]},r.mc=function(n,i){t.sessionStorage[n]=i},i}(yo);var ko=function(){var n,i=t.Blob;if(i)try{return new i,n=i,function(t,i){return new n(t,i)}}catch(t){}var r,e=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder;return e?(r=e,function(t,n){var i=new r;if(t)for(var e=0;e<t.length;e++){var u=t[e];i.append(u)}return i.getBlob(n&&n.type||"")}):null}();function po(t,n,i){var r=ko([n],{type:"application/octet-stream"}),e=URL.createObjectURL(r),u=function(t,n){var i=t,r=i.indexOf("?");if(r>=0&&(i=i.substr(0,r)),i=i.substr(i.lastIndexOf("/")+1),n){var e=i.indexOf(".");e<0&&(e=i.length),i=i.substr(0,e)+n+i.substr(e)}return i}(t,i),o=s.createElement("a");o.href=e,o.download=u,s.body.appendChild(o),o.click(),s.body.removeChild(o),URL.revokeObjectURL(e)}var Ao,bo,To=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).sc=new no(2,1),n}return ct(n,t),n}(_o),Eo=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).sc=new no(1,1),n}return ct(n,t),n}(_o),So=function(){function n(){var n;this.pc=new wt,this.Ac=new Ro,this.bc=void 0,this.Tc=(n=function(){if(P.$t)return new ao;if(P.Yt||P.Zt)return new ho;if(P.nn)return new fo;return new oo}(),P.Ot?new To(n):P.Ft?new Eo(n):P.Vt?new _o(n):P.Gt?new wo(n):new lo(n)),t.performance&&t.performance.now?this.Ec=function(){return t.performance.now()}:this.Ec=ot}var i=n.prototype;return i.Sc=function(){rt.apply(void 0,arguments)},i.Rc=function(){et.apply(void 0,arguments)},i.Ic=function(){ut.apply(void 0,arguments)},i.Nc=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];st.apply(void 0,[t].concat(i))},i._n=function(t,n){return c(t,n)},i.Cc=function(t,n){return f(t,n)},i.ln=function(t){h(t)},i.Dc=function(t){v(t)},i.An=function(t){return this.pc.An(t)},i.Gu=function(){return this.Oc.Gu()},i.Vu=function(){return this.Oc.Vu()},i.qu=function(){return this.Oc.qu()},i.Xu=function(){return this.Oc.Xu()},i.Fu=function(){return this.Oc.Fu()},i.Wu=function(t,n){return this.Oc.Wu(t,n)},i.Hu=function(t){return this.Oc.Hu(t)},i.Oa=function(t,n){var i;return void 0===n&&(n=(i=Xt).document&&i.document.baseURI||i.location.href||""),new Ms(t,n)},T(n,[{key:"Oc",get:function(){return this.bc||(this.bc=new bn(Ue())),this.bc}},{key:"xc",get:function(){return this.Ac}},{key:"Pc",get:function(){return this.Tc}},{key:"Bc",get:function(){return yo.kc()}},{key:"Mc",get:function(){return{Lc:po}}},{key:"Uc",get:function(){return a.connection&&a.connection.effectiveType||"default"}},{key:"Fc",get:function(){return a.connection&&a.connection.type||"unknown"}},{key:"Hc",get:function(){return{Vc:a&&a.userAgent.match(/Android /i)?"Android":"other",Xc:Boolean(a&&a.userAgent.match(/Android 8.0.0/i))}}}]),n}(),Ro=function(){function t(){}return T(t,[{key:"qc",get:function(){return a.oscpu}},{key:"Pc",get:function(){return a.platform}},{key:"Wc",get:function(){return a.vendor}},{key:"zc",get:function(){return a.vendorSub}}]),t}();Ao=new So,r=Ao,function(t){t.Gc="jc",t.Qc="Yc"}(bo||(bo={}));bo.Gc,bo.Qc;var Io=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Zc=void 0,r}return ct(n,t),T(n,[{key:"Jc",get:function(){return this.Zc||(this.Zc=this.Kc()),this.Zc}}]),n}(ei);var No,Co=function(t){function n(n){return t.call(this,n)||this}return ct(n,t),n}(Io),Do=function(t){function n(n){return t.call(this,n)||this}return ct(n,t),n}(ei),Oo=function(t){function n(n){var i;return(i=t.call(this,bo.Gc)||this).$c=n,i}return ct(n,t),n.prototype.Kc=function(){return new xo(this.$c.Jc)},n}(Co),xo=function(t){function n(n){var i;return(i=t.call(this,"addtrack")||this).track=n,i}return ct(n,t),n}(Do),Po=function(t){function n(n){var i;return(i=t.call(this,bo.Qc)||this).$c=n,i}return ct(n,t),n.prototype.Kc=function(){return new Bo(this.$c.Jc)},n}(Co),Bo=function(t){function n(n){var i;return(i=t.call(this,"removetrack")||this).track=n,i}return ct(n,t),n}(Do);!function(t){t.th="nh",t.ih="rh",t.eh="uh",t.sh="oh",t.ah="hh",t.fh="vh",t.dh="lh",t._h="wh",t.gh="_o",t.yh="mh",t.kh="ph",t.QUALITY_UNAVAILABLE="qualityunavailable",t.NO_QUALITY="noquality"}(No||(No={}));var Mo=function(t){function n(){var n;return(n=t.call(this)||this).Ah=[],n.Zc=void 0,n}ct(n,t);var i=n.prototype;return i.bh=function(t){return this.Ah[t]},i.Th=function(t){return!(!t||Dn(this.Ah,t))&&(this.Ah.push(t),this.Zc&&this.Zc.push(t.Jc),t.ls(No.fh,this.fs),this.vs(new Oo(t)),!0)},i.Eh=function(t){if(!t)return!1;var n=this.Ah.indexOf(t);return!(n<0)&&(Cn(this.Ah,n),this.Zc&&Cn(this.Zc,n),t.ys(No.fh,this.fs),this.vs(new Po(t)),!0)},i.Sh=function(t){return Dn(this.Ah,t)},i.Rh=function(){for(var t=this.Ah,n=t.length-1;n>=0;n-=1)this.Eh(t[n])},i.Ih=function(){this.Rh(),this.gs()},T(n,[{key:"Nh",get:function(){return this.Ah}},{key:"Jc",get:function(){return this.Zc||(this.Zc=this.Kc()),this.Zc}},{key:"Ch",get:function(){return this.Ah.length}}]),n}(ii),Lo=function(t){function n(n){var i;return(i=t.call(this,No.fh)||this).$c=n,i}return ct(n,t),n.prototype.Kc=function(){return new Uo(this.$c.Jc)},n}(Co),Uo=function(t){function n(n){var i;return(i=t.call(this,"change")||this).track=n,i}return ct(n,t),n}(Do),Fo=function(t){function n(){var n;return(n=t.call(this)||this).Dh=void 0,n.Oh=function(t){var i=t.$c;n.Th(i)},n.xh=function(t){var i=t.$c;n.Eh(i)},n}ct(n,t);var i=n.prototype;return i.Ph=function(t){t.ls(bo.Gc,this.Oh),t.ls(bo.Qc,this.xh)},i.Bh=function(t){t.ys(bo.Gc,this.Oh),t.ys(bo.Qc,this.xh)},i.Ih=function(){this.Dh&&this.Dh.Ih(),t.prototype.Ih.call(this)},T(n,[{key:"Mh",get:function(){return this.Dh},set:function(t){var n=this.Dh;if(t!==n){if(n){this.Bh(n);for(var i=0,r=n.Nh;i<r.length;i++){var e=r[i];t&&t.Sh(e)||this.Eh(e)}}if(this.Dh=t,t){for(var u=[],s=0,o=t.Nh;s<o.length;s++){var a=o[s];this.Th(a),this.Lh(a)&&u.push(a)}this.Ph(t);for(var c=0;c<u.length;c++){var h=u[c];h.vs(new Lo(h))}}}}}]),n}(Mo),Ho=_.freeze||Q;function Vo(t,n,i){_.defineProperty(t,n,{writable:!1,enumerable:!0,value:i})}function Xo(t,n){for(var i=0,r=_.getOwnPropertyNames(n);i<r.length;i++){var e=r[i];_.defineProperty(t,e,_.getOwnPropertyDescriptor(n,e))}return t}function qo(t){if(V(t)){var n={};for(var i in t)B.call(t,i)&&(n[i]=qo(t[i]));return n}if(U(t)){for(var r=new Array(t.length),e=0;e<r.length;e++)e in t&&(r[e]=qo(t[e]));return r}return t}function Wo(t,n){return t===n||!(!t||!n)&&(!(!H(t)||!H(n))&&(F(t)?!!F(n)&&function(t,n){var i=t.length,r=n.length;if(i!==r)return!1;for(var e=0;e<i;e+=1)if(!Wo(t[e],n[e]))return!1;return!0}(t,n):!F(n)&&function(t,n){var i=_.keys(t),r=_.keys(n);if(!i||!r||i.length!==r.length)return!1;for(var e=0;e<i.length;e++){var u=i[e];if(!B.call(n,u)||!Wo(t[u],n[u]))return!1}return!0}(t,n)))}function zo(t,n){return t.constructor===n.constructor}function Go(t){for(var n={},i=0,r=_.keys(t);i<r.length;i++){var e=r[i],u=t[e];null!=u&&(n[e]=u)}return n}function jo(t){var n=t;if("string"==typeof n){if("true"===(n=n.toLowerCase()))return!0;if("false"===n)return!1}return Boolean(n)}function Qo(t){return"string"==typeof t?""===t?NaN:Number(t):"boolean"==typeof t||null==t||t instanceof Date||"number"!=typeof Number(t)&&!t?NaN:Number(t)}function Yo(t){var n=Qo(t);if(m(n))throw new d("Expected a valid number.");return n}function Zo(t){return"string"==typeof t?t:""}function Jo(t,n){return F(t)?function(t,n){if(!F(t))return[];for(var i=0|t.length,r=new Array(i),e=0;e<i;e++)r[e]=n(t[e]);return r}(t,n):n(t)}var Ko=[bo.Gc,bo.Qc,No.fh];function $o(t){var n,i=t.Nh.map(function(t){return t.Jc});return i.item=function(n){var i=0|n,r=t.bh(i);return r&&r.Jc||void 0},i.addEventListener=function(t,i){n.ls(t,i)},i.removeEventListener=function(t,i){n.ys(t,i)},n=new ri(i),t.ls(Ko,function(t){return n.vs(t.Jc)}),i}function ta(){}function na(t){var n,i=[No.gh,No.fh,No.yh,No.kh,No.QUALITY_UNAVAILABLE],r={get activeQuality(){return t.Uh&&t.Uh.Jc},get enabled(){return t.Fh},set enabled(n){t.Fh=jo(n)},get id(){return t.Hh},get uid(){return t.Vh},get kind(){return t.Xh},get label(){return t.qh},set label(n){t.qh=Zo(n)},get language(){return t.Wh},get qualities(){return t.zh.Jc},set targetQuality(n){var i;(i=n?function(t,n){for(var i=[],r=0,e=t.zh.Nh;r<e.length;r++)for(var u=e[r],s=0;s<n.length;s++){var o=n[s];u.Jc===o&&i.push(u)}return i}(t,U(n)?n:[n]):[]).length>0?t.Gh=i:t.Gh=void 0},get targetQuality(){if(t.Gh)return 1===t.Gh.length?t.Gh[0].Jc:t.Gh.map(function(t){return t.Jc})},addEventListener:function(t,i){var r=Jo(t,Zo);n.ls(r,i)},removeEventListener:function(t,i){var r=Jo(t,Zo);n.ys(r,i)}};return n=new ri(r),t.ls(i,function(t){return n.vs(t.Jc)}),_.defineProperty(r,"constructor",{value:ta}),r}function ia(){}function ra(t){var n=$o(t);return _.defineProperty(n,"constructor",{value:ia}),n}var ea,ua,sa=function(t){function n(){return t.apply(this,arguments)||this}ct(n,t);var i=n.prototype;return i.Kc=function(){return ra(this)},i.Lh=function(t){return t.Fh},n}(Fo);function oa(t){if("string"==typeof t){var n=t.toLowerCase();switch(n){case ea.jh:case ea.Qh:case ea.Yh:return n}}else if("number"==typeof t)switch(t){case 0:return ea.jh;case 1:return ea.Qh;case 2:return ea.Yh}return ea.jh}function aa(){}function ca(t){var n,i=[No.fh,No.gh,No.th,No.ih,No.eh,No.sh,No.ah,No.dh,No._h],r=[ua.Zh],e={get kind(){return t.Xh},get label(){return t.qh},set label(n){t.qh=Zo(n)},get language(){return t.Wh},get id(){return t.Hh},get uid(){return t.Vh},get inBandMetadataTrackDispatchType(){return t.Jh},get mode(){return t.Kh},set mode(n){n!==ea.Yh&&n!==ea.Qh&&n!==ea.jh||(t.Kh=n)},get type(){return t.Cu},get readyState(){return va(t.$h)},get cues(){return t.Kh===ea.jh?null:t.tf.Jc},get activeCues(){return t.Kh===ea.jh?null:t.nf.Jc},get src(){return t.if||""},addEventListener:function(t,i){var r=Jo(t,Zo);n.ls(r,i)},removeEventListener:function(t,i){var r=Jo(t,Zo);n.ys(r,i)}};return n=new ri(t),t.ls(i,function(t){return n.vs(t.Jc)}),t.ls(r,function(t){return n.vs(t)}),_.defineProperty(e,"constructor",{value:aa}),e}function ha(){}function fa(t){var n=$o(t);return _.defineProperty(n,"constructor",{value:ha}),n}function va(t){return t}!function(t){t.jh="disabled",t.Qh="hidden",t.Yh="showing"}(ea||(ea={})),function(t){t.Zh="error"}(ua||(ua={}));var da,la=function(t){function n(){return t.apply(this,arguments)||this}ct(n,t);var i=n.prototype;return i.Kc=function(){return fa(this)},i.Lh=function(t){return t.Kh===ea.Yh},n}(Fo),_a=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).rf=void 0,n}ct(n,t);var i=n.prototype;return i.ef=function(t){if("function"==typeof t){var n=this.rf;n?"function"==typeof n?this.rf=[n,t]:n.push(t):this.rf=t}},i.uf=function(t){var n=this.rf;n&&("function"==typeof n?n===t&&(this.rf=void 0):Nn(n,t))},i.gs=function(){t.prototype.gs.call(this),this.rf=void 0},i.vs=function(n){var i=$n(this.rf);t.prototype.vs.call(this,n),ti(this.ds,n,i)},n}(ii),wa=function(t){function n(){return t.apply(this,arguments)||this}return ct(n,t),n}(_a);!function(t){t.sf="canplay",t.af="canplaythrough",t.cf="loadeddata",t.hf="loadedmetadata",t.dh="readystatechange",t.ff="waiting",t.vf="playing"}(da||(da={}));var ga,ya=[da.sf,da.af,da.cf,da.hf,da.dh,da.ff,da.vf],ma=function(t){function n(n,i){var r;return(r=t.call(this,da.dh)||this).currentTime=n,r.readyState=i,r}return ct(n,t),n}(ei);!function(t){t[t.df=0]="df",t[t.lf=1]="lf",t[t._f=2]="_f",t[t.wf=3]="wf",t[t.gf=4]="gf"}(ga||(ga={}));var ka,pa=function(t){function n(n,i){var r;return void 0===i&&(i=ga.gf),(r=t.call(this,da.af)||this).currentTime=n,r.readyState=i,r}return ct(n,t),n}(ei),Aa=function(t){function n(n,i){var r;return void 0===i&&(i=ga.wf),(r=t.call(this,da.sf)||this).currentTime=n,r.readyState=i,r}return ct(n,t),n}(ei);!function(t){t.yf="mf",t.kf="pf",t.Af="contentprotectionerror",t.bf="contentprotectionsuccess",t.Tf="currentsourcechange",t.Ef="destroy",t.Sf="durationchange",t.Rf="emptied",t.Ns="encrypted",t.If="ended",t.Nf="Cf",t.Df="loadstart",t.Of="manifestupdate",t.xf="nosupportedrepresentationfound",t.Pf="offline",t.Bf="online",t.Mf="pause",t.Lf="play",t.Uf="progress",t.Ff="ratechange",t.Hf="representationchange",t.Vf="resize",t.Xf="seeked",t.qf="seeking",t.Wf="segmentnotfound",t.zf="Gf",t.jf="Qf",t.Yf="sourcechange",t.Zf="timeupdate",t.Jf="volumechange",t.Kf="$f",t.tv="metricschange"}(ka||(ka={}));var ba,Ta=function(t){function n(n,i){var r;return(r=t.call(this,ka.Jf)||this).currentTime=n,r.volume=i,r}return ct(n,t),n}(ei),Ea=function(t){function n(n){var i;return(i=t.call(this,ka.Xf)||this).currentTime=n,i}return ct(n,t),n}(ei),Sa=function(t){function n(n){var i;return(i=t.call(this,ka.qf)||this).currentTime=n,i}return ct(n,t),n}(ei),Ra=function(t){function n(n,i){var r;return void 0===i&&(i=ga._f),(r=t.call(this,da.cf)||this).currentTime=n,r.readyState=i,r}return ct(n,t),n}(ei),Ia=function(t){function n(n){var i;return(i=t.call(this,ka.If)||this).currentTime=n,i}return ct(n,t),n}(ei),Na=function(t){function n(n,i){var r;return(r=t.call(this,ka.Zf)||this).currentTime=n,r.currentProgramDateTime=i,r}return ct(n,t),n}(ei),Ca=function(t){function n(n,i){var r;return(r=t.call(this,ka.Ff)||this).currentTime=n,r.playbackRate=i,r}return ct(n,t),n}(ei),Da=function(t){function n(n){var i;return(i=t.call(this,ka.Sf)||this).duration=n,i}return ct(n,t),n}(ei),Oa=function(t){function n(n,i){var r;return void 0===i&&(i=ga.lf),(r=t.call(this,da.hf)||this).currentTime=n,r.readyState=i,r}return ct(n,t),n}(ei),xa=function(t){function n(n){var i;return(i=t.call(this,ka.Lf)||this).currentTime=n,i}return ct(n,t),n}(ei),Pa=function(t){function n(n,i){var r;return void 0===i&&(i=ga.df),(r=t.call(this,ka.Rf)||this).currentTime=n,r.readyState=i,r}return ct(n,t),n}(ei),Ba=function(t){function n(n){var i;return(i=t.call(this,ka.Mf)||this).currentTime=n,i}return ct(n,t),n}(ei),Ma=function(t){function n(n){var i;return(i=t.call(this,"presentationmodechange")||this).presentationMode=n,i}return ct(n,t),n}(ei);function La(t,n,i){return new Ct(function(r,e){if(i&&i.Qu)return e(new Un);var u=function(t){o(),r(t)},s=function(){o(),e(new Un)},o=function(){t.removeEventListener(n,u),i&&i.ns(s)};t.addEventListener(n,u),i&&i.ts(s)})}!function(t){t.fh="fullscreenchange",t.nv="fullscreensupportchange",t.Zh="fullscreenerror"}(ba||(ba={}));var Ua=function(t){function n(n,i){var r;return void 0===i&&(i=!1),(r=t.call(this,n)||this).rv=[],r.ev=function(t){jn(function(){r.fs(t)})},r.uv=i?r.ev:r.fs,r}ct(n,t);var i=n.prototype;return i.sv=function(t){t.ef(this.uv),this.rv.push(t)},i.ov=function(t){t.uf(this.uv),Nn(this.rv,t)},i.Ih=function(){this.gs();for(var t=0,n=this.rv;t<n.length;t++){n[t].uf(this.uv)}xn(this.rv)},n}(_a),Fa=function(t){function n(){return t.apply(this,arguments)||this}return ct(n,t),n}(Ua);var Ha,Va=function(t){function n(n){var i;return(i=t.call(this,ua.Zh)||this).errorObject=n,i}return ct(n,t),n.prototype.Kc=function(){return this},T(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(Io);!function(t){t.INLINE="inline",t.FULLSCREEN="fullscreen",t.PICTURE_IN_PICTURE="picture-in-picture"}(Ha||(Ha={}));var Xa,qa,Wa,za,Ga,ja,Qa=function(t){function i(n){var i;return(i=t.call(this)||this).av=!1,i.cv=!1,i.Zc=void 0,i.hv=function(){return i.fv()},i.vv=function(){return i.dv()},i.lv=n,i._v=i.wv=i.gv=i.yv=Ha.INLINE,i.lv.ls(ba.fh,i.hv),i.lv.ls(ba.Zh,i.vv),i.mv(),i}ct(i,t);var r=i.prototype;return r.Kc=function(){return t=this,i={get currentMode(){return t.kv()},requestMode:function(n){var i=wc(n);i&&t.pv(i)},supportsMode:function(n){var i=wc(n);return!!i&&t.Av(i)},addEventListener:function(t,i){n.ls(t,i)},removeEventListener:function(t,i){n.ys(t,i)}},(n=new Ua(i,!0)).sv(t),i;var t,n,i},r.pv=function(t){this.bv(t,t)},r.bv=function(t,n){this.wv!==n&&(this.av=!0,this._v=t,this.Tv(n,this.wv),t!==Ha.FULLSCREEN&&(this.gv=t),this.av=!1,this.mv())},r.kv=function(){return this.cv?Ha.FULLSCREEN:Ha.INLINE},r.Av=function(t){switch(t){case Ha.FULLSCREEN:return this.lv.Ev;case Ha.INLINE:return!0}return!1},r.mv=function(){if(!this.av){var t=this.wv,n=this.kv();this.wv=n,n!==Ha.FULLSCREEN&&(this.yv=n),t!==n&&this.vs(new Ma(n))}},r.Tv=function(t,n){var i=t===Ha.FULLSCREEN;this.cv=i,i!==this.lv.Sv&&(i?this.lv.Rv():this.lv.Iv())},r.fv=function(){if(!this.av){var t=this.lv.Sv;this.cv=t,t?this.bv(Ha.FULLSCREEN,Ha.FULLSCREEN):t||this._v!==Ha.FULLSCREEN?this.mv():this.bv(this.gv,this.yv)}},r.dv=function(){this.fv(),this.vs(new Va(new de(n.ErrorCode.FULLSCREEN_ERROR,"Failed to enter fullscreen.")))},r.Ih=function(){this.lv.Ih(),this.gs()},T(i,[{key:"Jc",get:function(){return this.Zc||(this.Zc=this.Kc()),this.Zc}}]),i}(_a),Ya="1ADD53F3";function Za(t){return{chromecast:function(t){return{appID:t&&t.appID?Zo(t.appID):Ya}}(t?t.chromecast:void 0),strategy:function(t){switch(t){case"auto":return Xa.AUTO;case"manual":return Xa.MANUAL;case"disabled":return Xa.DISABLED;default:return Xa.MANUAL}}(t?t.strategy:void 0)}}function Ja(t){var n,i=Wa.Nv;return(n=t)&&vn(n,"mpd")&&(i=Wa.Cv),function(t){return!!t&&vn(t,"m3u8")}(t)&&(i=Wa.Dv),i}function Ka(t){switch(t){case qa.Ov:case qa.xv:return t;default:return qa.Pv}}function $a(t){return!!t&&dn(t.toLowerCase(),Wa.Cv)}function tc(t){return H(t)&&H(t.ssai)&&"google-dai"===t.ssai.integration}function nc(t){return H(t)&&X(t.integration)&&"verizon-media"===t.integration}function ic(t){if(X(t))return!t;if(nc(t))return!t.id;if(tc(t)){var n=t.ssai,i="live"===n.availabilityType&&n.assetKey,r="vod"===n.availabilityType&&n.contentSourceID&&n.videoID;return Boolean(i&&r)}return!t.src}function rc(t){return Boolean(H(t)&&X(t.src))}function ec(t){return X(t)||rc(t)||tc(t)||nc(t)}function uc(t){if(t){if(ec(t))return ic(t);for(var n=0;n<t.length;n++){if(!ic(t[n]))return!1}return!0}return!0}function sc(){return{crossOrigin:qa.Pv,useCredentials:!1,liveOffset:void 0,timeServer:void 0,hlsDateRange:!1,experimentalRendering:!1,nativeUiRendering:!1,lowLatency:!1,useNativePlayback:!1,dash:void 0,hls:void 0}}function oc(){return Dt(Dt({},sc()),{src:void 0,type:Wa.Nv,contentProtection:void 0,ssai:void 0,integrationData:void 0})}function ac(t){var n={allowedMimeTypes:void 0,preload:"midroll-and-postroll",showCountdown:!0,vpaidMode:za.ENABLED,googleImaConfiguration:{useNativeIma:!1}};return void 0===t?n:(void 0!==t.preload&&(n.preload=function(t){switch(t){case"none":return Ga.NONE;case"midroll-and-postroll":default:return Ga.MIDROLL_AND_POSTROLL}}(t.preload)),void 0!==t.showCountdown&&(n.showCountdown=jo(t.showCountdown)),void 0!==t.vpaidMode&&(n.vpaidMode=function(t){switch(t){case"insecure":return za.INSECURE;case"disabled":return za.DISABLED;case"enabled":default:return za.ENABLED}}(t.vpaidMode)),U(t.allowedMimeTypes)&&(n.allowedMimeTypes=t.allowedMimeTypes.filter(X)),void 0!==t.googleImaConfiguration&&(n.googleImaConfiguration=function(t){return void 0===t?{useNativeIma:!1}:{useNativeIma:jo(t.useNativeIma)}}(t.googleImaConfiguration)),n)}function cc(t){if(!F(t))return[];for(var n=[],i=0;i<t.length;i++){var r=t[i];V(r)&&n.push(r)}return n}function hc(t){switch(t){case ja.ALL:case ja.CONTENT:return t;default:return ja.NONE}}function fc(t){var n,i,e,u=qo(t||{});return u.libraryLocation&&(u.libraryLocation=Us(u.libraryLocation)),u.isEmbeddable=Boolean(u.isEmbeddable),u.cast=Za(u.cast),u.ads=ac(u.ads),u.analytics=cc(u.analytics),u.mutedAutoplay=hc(u.mutedAutoplay),u.allowNativeFullscreen=Boolean(u.allowNativeFullscreen),u.allowMixedContent=Boolean(u.allowMixedContent),u.persistVolume=Boolean(u.persistVolume),u.liveOffset=(n=u.liveOffset,Number(n)||void 0),u.hlsDateRange=(i=u.hlsDateRange,Boolean(i)),u.retainPlaybackRateOnSourceChange=Boolean(u.retainPlaybackRateOnSourceChange),u.license=X(e=u.license)?e:void 0,u.licenseUrl=function(t){if(!t)return;try{return Us(t)}catch(t){return void r.Rc("Invalid 'licenseUrl', falling back to default URL")}}(u.licenseUrl),u}!function(t){t.AUTO="auto",t.MANUAL="manual",t.DISABLED="disabled"}(Xa||(Xa={})),function(t){t.Pv="",t.Ov="anonymous",t.xv="use-credentials"}(qa||(qa={})),function(t){t.Cv="application/dash+xml",t.Dv="application/vnd.apple.mpegurl",t.Bv="application/x-mpegurl",t.Nv="video/mp4",t.Mv="application/vnd.theoplayer.hesp+json"}(Wa||(Wa={})),function(t){t.ENABLED="enabled",t.INSECURE="insecure",t.DISABLED="disabled"}(za||(za={})),function(t){t.NONE="none",t.MIDROLL_AND_POSTROLL="midroll-and-postroll"}(Ga||(Ga={})),function(t){t.NONE="none",t.ALL="all",t.CONTENT="content"}(ja||(ja={}));var vc={Lv:0,Uv:NaN,Fv:!1,Is:void 0,Hv:void 0,Vv:!1,Xv:!0,qv:1,$h:ga.df,Wv:!1,zv:0,Gv:0,jv:1};function dc(t){return{Lv:t.Lv,Uv:t.Uv,Fv:t.Fv,Is:t.Is,Hv:t.Hv,Vv:t.Vv,Xv:t.Xv,qv:t.qv,$h:t.$h,Wv:t.Wv,zv:t.zv,Gv:t.Gv,jv:t.jv}}function lc(t,n){t.jv=n.jv,t.Vv=n.Vv}function _c(t,n,i){if(n!==i){var r=n.Lv,e=n.Uv,u=n.Vv,s=n.Xv,o=n.qv,a=n.$h,c=n.Wv,h=(n.Gv,n.zv,n.jv),f=i.Lv,v=i.Uv,d=i.Fv,l=i.Hv,_=i.Vv,w=i.Xv,g=i.qv,y=i.$h,k=i.Wv,p=(i.Gv,i.zv,i.jv);a!==ga.df&&t.vs(new Pa(f,y)),w&&!s?t.vs(new Ba(f)):!w&&s&&t.vs(new xa(f)),y>=ga.lf&&t.vs(new Oa(f,y)),v===e||m(v)&&m(e)||t.vs(new Da(v)),g!==o&&t.vs(new Ca(f,g)),f!==r&&t.vs(new Na(f,void 0)),d&&t.vs(new Ia(f)),y>=ga._f&&t.vs(new Ra(f,y)),k&&!c?t.vs(new Sa(f)):!k&&c&&t.vs(new Ea(f)),p===h&&_===u||t.vs(new Ta(f,p)),y>=ga.wf&&t.vs(new Aa(f,y)),y>=ga.gf&&t.vs(new pa(f,y)),y!==a&&t.vs(new ma(f,y)),l&&t.vs(new Va(l))}}function wc(t){switch(t){case Ha.INLINE:case Ha.FULLSCREEN:case Ha.PICTURE_IN_PICTURE:return t;default:return}}var gc=function(t){function n(){return t.call(this,ka.Nf)||this}return ct(n,t),n}(ei),yc=function(t){function n(n){var i;return(i=t.call(this,ka.Tf)||this).currentSource=n,i}return ct(n,t),n}(ei),mc=function(){function t(){}return t.Qv=function(n,i){var r=t.Yv(n,i);return r?t.Zv(r):0},t.Jv=function(){return r.Uc||"default"},t.Kv=function(){return r.Fc||"unknown"},t.Yv=function(n,i){var e,u=null===(e=r.Bc)||void 0===e?void 0:e.Ms(i),s=u&&JSON.parse(u);if(s&&s[n])return t.$v(s,n,i)},t.Zv=function(t){var n=t.availableBandwidth;return n||0},t.$v=function(n,i,r){if(!t.td(n,i))return n[i];t.nd(n,i,r)},t.nd=function(t,n,i){var e;delete t[n],null===(e=r.Bc)||void 0===e||e.mc(i,JSON.stringify(t))},t.td=function(t,n){var i=t[n].storedTimestamp;if(!i)return!1;var r=new Date(i),e=(new Date).getTime();return r.setMonth(r.getMonth()+1)<=e},t.rd=function(t,n,i,r){var e;return Dt(Dt({},t),((e={})[n]={availableBandwidth:i,storedTimestamp:r},e))},t.ed=function(n){var i=t.Jv();t.ud(i,"theoplayer-stored-network-info",n,ot())},t.ud=function(n,i,e,u){var s,o,a=null===(s=r.Bc)||void 0===s?void 0:s.Ms(i),c=a?JSON.parse(a):void 0,h=t.rd(c,n,e,u);null===(o=r.Bc)||void 0===o||o.mc(i,JSON.stringify(h))},t.sd=function(){var n=t.Jv();return t.Qv(n,"theoplayer-stored-network-info")},t}();var kc,pc=function(t){function n(n){var i;return(i=t.call(this)||this).od=[],i.hd=!1,i.fd=new sa,i.vd=new sa,i.dd=new la,i.ld=!1,i._d(n),n.ef(i.fs),i.Dh=n,i.fd.Mh=n.wd,i.vd.Mh=n.gd,i.dd.Mh=n.yd,i}ct(n,t);var i=n.prototype;return i.md=function(){this.Dh.md()},i.kd=function(){this.Dh.kd()},i.pd=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Yn(this.od.map(function(t){return t.pd()})).then(j));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Ad=function(){return this.Dh.Ad()},i.bd=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Hn(i),t.next=3,this.Dh.bd(n,i);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Td=function(){return this.Mh.Td()},i.Ed=function(){this.Mh.Ed()},i.Sd=function(){this.Mh.Sd()},i.Rd=function(){if(!this.hd){for(var t=0,n=this.od;t<n.length;t++){n[t].Rd()}this.hd=!0}},i.Id=function(t){this.Dh.Id(t)},i.Nd=function(){this.Dh.Nd()},i.Cd=function(){this.Dh.Cd()},i.Dd=function(){this.Dh.Dd()},i.Od=function(){return this.Dh.Od()},i.xd=function(){return this.Dh.xd()},i.Pd=function(){for(var t=[],n=0,i=this.od;n<i.length;n++){var r=i[n];t.push.apply(t,r.Pd())}return t},i.Bd=function(t){for(var n=!1,i=0,r=this.od;i<r.length;i++){n=r[i].Bd(t)||n}return n},i.vs=function(n){this.Bd(n)||t.prototype.vs.call(this,n)},i._d=function(t){this.od.push(t)},i.Md=function(t){Nn(this.od,t)},i.Ld=function(t){if(t!==this.Dh){var n=this.Dh;n.Nd(),n.uf(this.fs);var i=dc(this),r=this.Ud,e=this.xd();this.Dh=t,this.fd.Mh=t.wd,this.vd.Mh=t.gd,this.dd.Mh=t.yd,_c(this,i,this);var u=this.Ud;u!==r&&this.vs(new yc(u)),this.xd()!==e&&this.vs(new gc),t.ef(this.fs),t.Id(n)}},i.Fd=function(){},i.Ih=function(){var t=Ct.coroutine(Nt.mark(function t(){var n,i,r;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.gs(),this.Dh.Nd(),n=0,i=this.od;case 3:if(!(n<i.length)){t.next=10;break}return r=i[n],t.next=7,r.Ih();case 7:n++,t.next=3;break;case 10:this.fd.Ih(),this.vd.Ih(),this.dd.Ih();case 13:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Rh=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Yn(this.od.map(function(t){return t.Rh()})).then(j));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),T(n,[{key:"wd",get:function(){return this.fd}},{key:"yd",get:function(){return this.dd}},{key:"gd",get:function(){return this.vd}},{key:"Hd",get:function(){return this.Dh.Hd}},{key:"Vd",get:function(){return this.Dh.Vd},set:function(t){this.Dh.Vd=t}},{key:"Ud",get:function(){return this.Dh.Ud}},{key:"Lv",get:function(){return this.Dh.Lv},set:function(t){this.Dh.Lv=t}},{key:"Uv",get:function(){return this.Dh.Uv}},{key:"Xd",get:function(){return this.Dh.Xd}},{key:"Fv",get:function(){return this.Dh.Fv}},{key:"Is",get:function(){return this.Dh.Is}},{key:"Hv",get:function(){return this.Dh.Hv}},{key:"qd",get:function(){return this.Mh.qd}},{key:"Wd",get:function(){return this.Dh.Wd}},{key:"zd",get:function(){return function(t){for(var n=0,i=0,r=0,e=0,u=0,s={amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0},o=0;o<t.length;o++){var a=t[o];n+=a.Gd,i+=a.jd,r+=a.Qd,e+=a.Yd,u+=a.Zd,s.amountOfBufferedAudioSegments+=a.Jd.amountOfBufferedAudioSegments,s.amountOfBufferedVideoSegments+=a.Jd.amountOfBufferedVideoSegments}return{Gd:n,jd:i,Qd:r,Yd:e,Zd:u,Jd:s}}(this.od.map(function(t){return t.zd}))}},{key:"Vv",get:function(){return this.Dh.Vv},set:function(t){this.Dh.Vv=t}},{key:"Kd",get:function(){return this.Dh.Kd}},{key:"Xv",get:function(){return this.Dh.Xv}},{key:"qv",get:function(){return this.Dh.qv},set:function(t){this.Dh.qv=t}},{key:"$d",get:function(){return this.Dh.$d}},{key:"tl",get:function(){return this.Dh.tl},set:function(t){this.Dh.tl=t}},{key:"$h",get:function(){return this.Dh.$h}},{key:"nl",get:function(){return this.Dh.nl}},{key:"Wv",get:function(){return this.Dh.Wv}},{key:"zv",get:function(){return this.Dh.zv}},{key:"Gv",get:function(){return this.Dh.Gv}},{key:"jv",get:function(){return this.Dh.jv},set:function(t){this.Dh.jv=t}},{key:"Mh",get:function(){return this.Dh},set:function(t){this.Ld(t)}}]),n}(wa),Ac=function(t){function n(n,i,r,e,u,s,o,a){var c;return(c=t.call(this,n,i,r)||this).url=e,c.status=u,c.statusText=s,c.response=o,c.systemCode=a,c}return ct(n,t),T(n,[{key:"name",get:function(){return"ContentProtectionError"}}]),n}(de);!function(t){t[t.ABORTED=1]="ABORTED",t[t.NETWORK=2]="NETWORK",t[t.DECODE=3]="DECODE",t[t.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",t[t.ENCRYPTED=5]="ENCRYPTED",t[t.LICENSE_INVALID=6]="LICENSE_INVALID",t[t.ADVERTISEMENT_ERROR=7]="ADVERTISEMENT_ERROR"}(kc||(kc={}));var bc=function(t){function n(n,i,r,e){var u;return(u=t.call(this,i)||this).code=n,u.message=null!=i?i:"Unknown error",u.cause=r,u.systemCode=e,d.captureStackTrace&&d.captureStackTrace(vt(u),u.constructor),u}return ct(n,t),T(n,[{key:"name",get:function(){return"MediaError"}}]),n}(dt);function Tc(t){Vo(t,"MEDIA_ERR_ABORTED",kc.ABORTED),Vo(t,"MEDIA_ERR_NETWORK",kc.NETWORK),Vo(t,"MEDIA_ERR_DECODE",kc.DECODE),Vo(t,"MEDIA_ERR_SRC_NOT_SUPPORTED",kc.SRC_NOT_SUPPORTED),Vo(t,"MEDIA_ERR_ENCRYPTED",kc.ENCRYPTED)}function Ec(t){var i,r;return function(t){return t.category===n.ErrorCategory.CONTENT_PROTECTION}(t)?new bc(kc.ENCRYPTED,t.message,null===(i=t.cause)||void 0===i?void 0:i.message,t.systemCode):new bc(function(t){if(t===n.ErrorCode.MEDIA_ABORTED)return kc.ABORTED;if(t===n.ErrorCode.MANIFEST_LOAD_ERROR||t===n.ErrorCode.MEDIA_LOAD_ERROR||t===n.ErrorCode.SUBTITLE_LOAD_ERROR)return kc.NETWORK;if(t===n.ErrorCode.MEDIA_DECODE_ERROR)return kc.DECODE;if(t===n.ErrorCode.MEDIA_NOT_SUPPORTED)return kc.SRC_NOT_SUPPORTED;var i=n.ErrorCategory.fromCode(t);if(i===n.ErrorCategory.NETWORK)return kc.NETWORK;if(i===n.ErrorCategory.SOURCE)return kc.SRC_NOT_SUPPORTED;if(i===n.ErrorCategory.LICENSE)return kc.LICENSE_INVALID;if(i===n.ErrorCategory.CONTENT_PROTECTION)return kc.ENCRYPTED;if(i===n.ErrorCategory.AD)return kc.ADVERTISEMENT_ERROR;return kc.DECODE}(t.code),t.message,null===(r=t.cause)||void 0===r?void 0:r.message)}function Sc(t){switch(t){case kc.ABORTED:return n.ErrorCode.MEDIA_ABORTED;case kc.NETWORK:return n.ErrorCode.NETWORK_ERROR;case kc.DECODE:return n.ErrorCode.MEDIA_DECODE_ERROR;case kc.SRC_NOT_SUPPORTED:return n.ErrorCode.SOURCE_NOT_SUPPORTED;case kc.ENCRYPTED:return n.ErrorCode.CONTENT_PROTECTION_ERROR;case kc.LICENSE_INVALID:return n.ErrorCode.LICENSE_ERROR;case kc.ADVERTISEMENT_ERROR:return n.ErrorCode.AD_ERROR}}function Rc(t,n){var i={};for(var r in t)_.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(i[r]=t[r]);if(null!=t&&"function"==typeof _.getOwnPropertySymbols){var e=0;for(r=_.getOwnPropertySymbols(t);e<r.length;e++)n.indexOf(r[e])<0&&_.prototype.propertyIsEnumerable.call(t,r[e])&&(i[r[e]]=t[r[e]])}return i}Tc(bc),Tc(bc.prototype);var Ic,Nc="titanium",Cc="conax",Dc="ezdrm",Oc="irdeto",xc="vudrm",Pc="verimatrix",Bc="keyos",Mc="drmtoday",Lc="expressplay",Uc="azure",Fc="xstream",Hc="vimond",Vc="axinom",Xc="uplynk",qc="comcast",Wc="custom";function zc(t){return L(t.token&&t.deviceId)}function Gc(t){var n,i=null===(n=t.fairplay)||void 0===n?void 0:n.headers;return void 0!==i&&L(i.PreAuthorization)}function jc(t){var n=t;return zc(n)&&""!==n.token&&""!==n.deviceId&&!Gc(n)}!function(t){t.il=!1,t.ul=!1,t.sl=!1,t.ol=!1,t.LOG_ADS_DETAILS=!1,t.LOG_CHROMECAST_DETAILS=!1,t.LOG_CUSTOM_DRM=!1,t.LOG_BUFFERING_VIDEO_MAIN=!1,t.LOG_BUFFERING_VIDEO_SELECTION=!1,t.LOG_BUFFERING_AUDIO_MAIN=!1,t.LOG_BUFFERING_AUDIO_SELECTION=!1,t.al=!1}(Ic||(Ic={}));var Qc,Yc=function(){function t(t,n,i){this.cl=t,this.io=n,this.hl=i}return t.prototype.fl=function(t){return function(t){var n=t.onCertificateRequest;if(void 0!==n&&"function"!=typeof n)throw new l("ContentProtectionIntegration.onCertificateRequest is not a function.");var i=t.onCertificateResponse;if(void 0!==i&&"function"!=typeof i)throw new l("ContentProtectionIntegration.onCertificateResponse is not a function.");var r=t.onLicenseRequest;if(void 0!==r&&"function"!=typeof r)throw new l("ContentProtectionIntegration.onLicenseRequest is not a function.");var e=t.onLicenseResponse;if(void 0!==e&&"function"!=typeof e)throw new l("ContentProtectionIntegration.onLicenseResponse is not a function.");var u=t.extractFairplayContentId;if(void 0!==u&&"function"!=typeof u)throw new l("ContentProtectionIntegration.extractFairplayContentId is not a function.");return t}(this.hl.build(t))},T(t,[{key:"vl",get:function(){return this.cl}},{key:"Co",get:function(){return this.io}}]),t}();!function(t){t.FAILED="FAILED",t.OVERRIDDEN="OVERRIDDEN",t.SUCCEEDED="SUCCEEDED"}(Qc||(Qc={}));var Zc,Jc,Kc,$c,th=function(){function t(){this.dl=[]}var i=t.prototype;return i.registerContentProtectionIntegration=function(t,i,e){switch(this.ll(t,i,e)){case Qc.FAILED:throw new Ac(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The keySystem should be 'widevine', 'playready' or 'fairplay', but was "+i+".");case Qc.OVERRIDDEN:var u=Ih(i);r.Rc("Warning: Overwriting an earlier registered integration for "+t+" and "+u+".");break;case Qc.SUCCEEDED:Ih(i);0}},i.ll=function(t,n,i){var r=Ih(n);if(!r)return Qc.FAILED;for(var e=Qc.SUCCEEDED,u=0,s=this.dl.slice();u<s.length;u++){var o=s[u];o.vl===t&&o.Co===r&&(e=Qc.OVERRIDDEN,Nn(this.dl,o))}return this.dl.push(new Yc(t,r,i)),e},i._l=function(t,n){return void 0!==this.wl(t,n)},i.gl=function(t,n,i){var r=this.wl(t,n);if(!r)throw d("No ContentProtectionIntegrationInit was found for integration id "+t+" and key system "+n);return r.fl(i)},i.wl=function(t,n){for(var i=0,r=this.dl;i<r.length;i++){var e=r[i];if(e.vl===t&&(!n||e.Co===n))return e}},t}();function nh(t,n,i){void 0===i&&(i=!1);var r=dr(t,n,i),e=dr(t,n,i),u=i?e:r,s=i?r:e;return $i.fromBits(s,u,!0)}th.yl=new th,function(t){t.ml="moov",t.kl="mvhd",t.pl="trak",t.Al="tkhd",t.bl="mdia",t.Tl="mdhd",t.El="hdlr",t.Sl="minf",t.Rl="stbl",t.Il="stsd",t.Nl="mvex",t.Cl="trex",t.Dl="avc1",t.Ol="avcC",t.xl="hev1",t.Pl="hvc1",t.Bl="hvcC",t.Ml="pasp",t.Ll="mp4a",t.Ul="esds",t.Fl="wvtt",t.Hl="vttC",t.Vl="vlab",t.Xl="moof",t.ql="mfhd",t.Wl="traf",t.zl="tfhd",t.Gl="trun",t.jl="tfdt",t.Ql="mdat",t.Yl="pssh",t.Zl="emsg",t.Jl="sidx"}(Zc||(Zc={})),function(t){t.Kl="vide",t.$l="soun",t.t_="hint",t.n_="meta",t.i_="auxv"}(Jc||(Jc={})),function(t){t[t.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",t[t.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",t[t.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",t[t.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",t[t.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT",t[t.DURATION_IS_EMPTY=32]="DURATION_IS_EMPTY",t[t.DEFAULT_BASE_IS_MOOF=131072]="DEFAULT_BASE_IS_MOOF"}(Kc||(Kc={})),function(t){t[t.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",t[t.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",t[t.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",t[t.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT=2048]="SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT"}($c||($c={}));var ih,rh=function(){function t(t,n){this.Qn=t,this.r_=n}var n=t.prototype;return n.e_=function(){return ur(this.Qn,this.r_)},n.u_=function(){return fr(this.Qn,this.r_)},n.s_=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt16(n.zs,i);return n.Xs(2),r}(this.Qn,this.r_)},n.o_=function(){return dr(this.Qn,this.r_)},n.a_=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt32(n.zs,i);return n.Xs(4),r}(this.Qn,this.r_)},n.c_=function(){return nh(this.Qn,this.r_)},n.h_=function(t){return or(this.Qn,this.r_,t)},n.f_=function(t){return function(t,n,i){for(var r=[],e=0;e<i;e++)r.push(dr(t,n));return r}(this.Qn,this.r_,t)},n.v_=function(t){return gr(this.Qn,this.r_,t)},n.d_=function(){return Cr(this.Qn,this.r_)},n.l_=function(t){this.r_.Xs(t)},t}(),eh=function(t){function n(n,i){var r;return(r=t.call(this)||this).__=n,r.w_=i,r}return ct(n,t),n}(lt),uh=function(){function t(){}return t.g_=function(n,i){void 0===i&&(i=!1);var r=[],e=n.Qn,u=n.r_;try{for(;u.zs<e.byteLength;){var s=t.y_(e,u);r.push(s)}}catch(t){if(!(t instanceof eh))throw t;if(i)throw new eh(t.__,r)}return r},t.y_=function(t,n){var i=n.zs;if(!cr(t,n,4))throw new eh(i);var r=dr(t,n);if(!cr(t,n,4))throw new eh(i);var e,u=gr(t,n,4),s=0;if(1===r){if(!cr(t,n,8))throw new eh(i);s=nh(t,n).toNumber()}if("uuid"===u){if(!cr(t,n,16))throw new eh(i);u=gr(t,n,16)}switch(r){case 0:e=t.byteLength-i;break;case 1:e=s;break;default:e=r}var o=n.zs,a=i+e;if(a>t.byteLength)throw new eh(i);var c={Cu:u,zs:i,Qn:new rh(Pr(t,i,a),new Vr(o-i))};return n.qs(a),c},t.m_=function(t,n,i){var r=t.Qn,e=t.r_,u=xr(Mr(r),e.zs,r.byteLength);return i&&(u=Hr(u)),e.Xs(u.byteLength),{Cu:n,Qn:u}},t.k_=function(n,i,r){var e=ch(n.o_());return{Cu:i,p_:e.version,A_:e.flags,Qn:t.m_(n,i,r).Qn}},t}();function sh(t,n){var i=oh(t,n);if(!i)throw new d("Missing "+n+" atom");return i}function oh(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.Cu===n)return r.Qn}}function ah(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];e.Cu===n&&i.push(e.Qn)}return i}function ch(t){return{version:t>>24,flags:new ir(16777215&t)}}var hh=function(){function t(){}return t.b_=function(n){return Boolean(t.T_[n])},t.E_=function(n){for(var i=[],r=uh.g_(new rh(n,new Vr)),e=0;e<r.length;e++){var u=r[e];t.b_(u.Cu)&&i.push(t.T_[u.Cu](u.zs,u.Qn))}return i},t.S_=function(t){var n=new rh(t,new Vr);return uh.g_(n).some(function(t){return t.Cu===Zc.Xl})},t.R_=function(n){return ah(uh.g_(new rh(n,new Vr)),Zc.Yl).map(t.I_)},t.N_=function(n,i){var r=uh.g_(i),e=sh(r,Zc.kl),u=ah(r,Zc.pl),s=oh(r,Zc.Nl),o=t.C_(e),a=u.map(t.D_),c=s?t.O_(s):void 0;return{Cu:Zc.ml,x_:o,P_:a,B_:c}},t.C_=function(t){var n=ch(t.o_()),i=n.version,r=n.flags,e=1===i?t.c_():t.o_(),u=1===i?t.c_():t.o_(),s=t.o_(),o=1===i?t.c_():t.o_(),a=t.o_(),c=t.u_()>>8;t.l_(2),t.l_(8);var h=t.f_(9);t.l_(24);var f=t.o_();return{Cu:Zc.kl,p_:i,A_:r,M_:e,L_:u,La:s,Uv:o,U_:a,jv:c,F_:h,H_:f}},t.D_=function(n){var i=uh.g_(n),r=sh(i,Zc.Al),e=sh(i,Zc.bl),u=t.V_(r),s=t.X_(e);return{Cu:Zc.pl,x_:u,q_:s}},t.V_=function(t){var n=ch(t.o_()),i=n.version,r=n.flags,e=1===i?t.c_():t.o_(),u=1===i?t.c_():t.o_(),s=t.o_();t.l_(4);var o=1===i?t.c_():t.o_();t.l_(8);var a=t.s_(),c=t.s_(),h=t.s_()/w.pow(2,8);t.l_(2);var f=t.f_(9),v=t.o_()/w.pow(2,16),d=t.o_()/w.pow(2,16);return{Cu:Zc.Al,W_:r.Qs(1),z_:r.Qs(2),G_:r.Qs(4),M_:e,L_:u,j_:s,Uv:o,Q_:a,Y_:c,jv:h,F_:f,wc:v,Z_:d}},t.X_=function(n){var i=uh.g_(n),r=sh(i,Zc.Tl),e=sh(i,Zc.El),u=sh(i,Zc.Sl),s=t.J_(r),o=t.K_(e),a=t.tw(u,o.nw);return{Cu:Zc.bl,x_:s,iw:o,rw:a}},t.J_=function(t){var n=ch(t.o_()),i=n.version,r=n.flags,e=1===i?t.c_():t.o_(),u=1===i?t.c_():t.o_(),s=t.o_(),o=1===i?t.c_():t.o_();t.u_();return t.l_(2),{Cu:Zc.Tl,p_:i,A_:r,M_:e,L_:u,La:s,Uv:o}},t.K_=function(t){var n=ch(t.o_()),i=n.version,r=n.flags;t.l_(4);var e=t.v_(4);t.l_(12);var u=t.d_();return{Cu:Zc.El,p_:i,A_:r,nw:e,Rn:u}},t.tw=function(n,i){var r=sh(uh.g_(n),Zc.Rl),e=t.ew(r,i);return{Cu:Zc.Sl,uw:e}},t.ew=function(n,i){var r=sh(uh.g_(n),Zc.Il),e=t.sw(r,i);return{Cu:Zc.Rl,ow:e}},t.sw=function(n,i){for(var r=ch(n.o_()),e=r.version,u=r.flags,s=(n.o_(),[]),o=uh.g_(n),a=0;a<o.length;a++){var c=o[a];c.Cu===Zc.Dl?s.push(t.aw(c.Qn)):c.Cu===Zc.xl||c.Cu===Zc.Pl?s.push(t.cw(c.Qn,c.Cu)):c.Cu===Zc.Ll?s.push(t.hw(c.Qn)):c.Cu===Zc.Fl&&s.push(t.fw(c.Qn))}return{Cu:Zc.Il,p_:e,A_:u,vw:s}},t.dw=function(t,n){return t.l_(6),{Cu:n,lw:t.u_()}},t._w=function(n,i){var r=t.dw(n,i);n.l_(8);var e=n.u_(),u=n.u_();n.l_(2),n.l_(2);var s=n.o_()>>>16;return Dt(Dt({},r),{ww:e,gw:u,yw:s})},t.mw=function(n,i){var r=t.dw(n,i);n.l_(2),n.l_(2),n.l_(12);var e=n.u_(),u=n.u_(),s=n.o_(),o=n.o_();n.l_(4);var a=n.u_();n.l_(32);var c=n.u_();return n.l_(2),Dt(Dt({},r),{wc:e,Z_:u,kw:s,pw:o,Aw:a,bw:c})},t.hw=function(n){var i=t._w(n,Zc.Ll),r=sh(uh.g_(n),Zc.Ul),e=t.Tw(r);return Dt(Dt({},i),{Ew:e})},t.fw=function(n){var i=t.dw(n,Zc.Fl),r=uh.g_(n),e=sh(r,Zc.Hl),u=t.Sw(e),s=oh(r,Zc.Vl),o=s?t.Rw(s):s;return Dt(Dt({},i),{Iw:u,Nw:o})},t.Sw=function(t){return{Cu:Zc.Hl,Cw:t.d_()}},t.Rw=function(t){return{Cu:Zc.Vl,qh:t.d_()}},t.Tw=function(t){return uh.k_(t,Zc.Ul,!0)},t.aw=function(n){var i=t.mw(n,Zc.Dl),r=uh.g_(n),e=sh(r,Zc.Ol),u=oh(r,Zc.Ml),s=t.Dw(e),o=u?t.Ow(u):void 0;return Dt(Dt({},i),{xw:s,Pw:o})},t.cw=function(n,i){var r=t.mw(n,i),e=sh(uh.g_(n),Zc.Bl),u=t.Bw(e);return Dt(Dt({},r),{Mw:u})},t.Dw=function(t){return uh.m_(t,Zc.Ol,!0)},t.Bw=function(t){return uh.m_(t,Zc.Bl,!0)},t.Ow=function(t){var n=t.o_(),i=t.o_();return{Cu:Zc.Ml,Lw:n,Uw:i}},t.O_=function(n){var i=ah(uh.g_(n),Zc.Cl).map(t.Fw);return{Cu:Zc.Nl,P_:i}},t.Fw=function(t){var n=ch(t.o_()),i=n.version,r=n.flags,e=t.o_(),u=t.o_(),s=t.o_(),o=t.o_(),a=t.o_();return{Cu:Zc.Cl,p_:i,A_:r,j_:e,Hw:u,Vw:s,Xw:o,qw:a}},t.Ww=function(n,i){var r=uh.g_(i),e=sh(r,Zc.ql),u=ah(r,Zc.Wl),s=t.zw(e),o=u.map(t.Gw);return{Cu:Zc.Xl,jw:n,x_:s,P_:o}},t.zw=function(t){var n=ch(t.o_()),i=n.version,r=n.flags,e=t.o_();return{Cu:Zc.ql,p_:i,A_:r,Qw:e}},t.Gw=function(n){var i=uh.g_(n),r=sh(i,Zc.zl),e=ah(i,Zc.Gl),u=oh(i,Zc.jl),s=t.Yw(r),o=e.map(function(n){return t.Zw(n,s)}),a=u?t.Jw(u):void 0;return{Cu:Zc.Wl,x_:s,Kw:o,$w:a}},t.Yw=function(t){var n=ch(t.o_()),i=n.version,r=n.flags,e=t.o_(),u=r.Qs(Kc.BASE_DATA_OFFSET_PRESENT)?t.o_():void 0,s=r.Qs(Kc.SAMPLE_DESCRIPTION_INDEX_PRESENT)?t.o_():void 0,o=r.Qs(Kc.DEFAULT_SAMPLE_DURATION_PRESENT)?t.o_():void 0,a=r.Qs(Kc.DEFAULT_SAMPLE_SIZE_PRESENT)?t.o_():void 0,c=r.Qs(Kc.DEFAULT_SAMPLE_FLAGS_PRESENT)?t.o_():void 0;return{Cu:Zc.zl,p_:i,A_:r,j_:e,tg:u,ng:s,Vw:o,Xw:a,qw:c}},t.Zw=function(n,i){for(var r=ch(n.o_()),e=r.version,u=r.flags,s=n.o_(),o=u.Qs($c.DATA_OFFSET_PRESENT)?n.a_():void 0,a=u.Qs($c.FIRST_SAMPLE_FLAGS_PRESENT)?n.o_():void 0,c=[],h=0;h<s;h++){var f=t.ig(n,u,e,i);0===h&&void 0!==a&&(f.A_=a),c.push(f)}return{Cu:Zc.Gl,p_:e,A_:u,rg:s,jw:o,eg:a,ug:c}},t.ig=function(t,n,i,r){return{Uv:n.Qs($c.SAMPLE_DURATION_PRESENT)?t.o_():r.Vw,Hs:n.Qs($c.SAMPLE_SIZE_PRESENT)?t.o_():r.Xw,A_:n.Qs($c.SAMPLE_FLAGS_PRESENT)?t.o_():r.qw,sg:n.Qs($c.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT)?0===i?t.o_():t.a_():void 0}},t.og=function(t,n){var i=n.Qn,r=n.r_,e=ch(dr(i,r)),u=e.version,s=e.flags,o=wr(i,r),a=wr(i,r),c=dr(i,r),h=dr(i,r),f=dr(i,r),v=dr(i,r),d=Fr(Mr(i),r.zs,i.byteLength);return r.Xs(d.byteLength),{Cu:Zc.Zl,p_:u,A_:s,ag:o,Cn:a,La:c,cg:h,hg:f,Hh:v,fg:d}},t.vg=function(t,n){return uh.m_(n,Zc.Ql,!1)},t.I_=function(n){var i=n.Qn,r=n.r_,e=Hr(Mr(i)).buffer,u=ch(dr(i,r)),s=u.version,o=u.flags,a=t.dg(i,r);if(s>0)for(var c=dr(i,r),h=[],f=0;f<c;f++){for(var v="",d=0;d<16;d++){var l=ur(i,r).toString(16);v+=1===l.length?"0"+l:l}h.push(v)}var _=dr(i,r),w=new k(e,r.zs,_);return r.Xs(i.byteLength),{Cu:Zc.Yl,p_:s,A_:o,lg:a,_g:[],wg:_,Qn:w,gg:e}},t.dg=function(t,n){for(var i="",r=0;r<4;r++){var e=ur(t,n).toString(16);i+=1===e.length?"0"+e:e}i+="-";for(var u=0;u<2;u++){var s=ur(t,n).toString(16);i+=1===s.length?"0"+s:s}i+="-";for(var o=0;o<2;o++){var a=ur(t,n).toString(16);i+=1===a.length?"0"+a:a}i+="-";for(var c=0;c<2;c++){var h=ur(t,n).toString(16);i+=1===h.length?"0"+h:h}i+="-";for(var f=0;f<6;f++){var v=ur(t,n).toString(16);i+=1===v.length?"0"+v:v}return i.toLowerCase()},t.yg=function(t,n){var i,r,e=n.Qn,u=n.r_,s=ch(dr(e,u)),o=s.version,a=s.flags,c=dr(e,u),h=dr(e,u);0===o?(i=$i.fromBits(dr(e,u),0,!0),r=$i.fromBits(dr(e,u),0,!0)):(i=nh(e,u),r=nh(e,u)),u.Xs(2);for(var f=fr(e,u),v=[],d=0;d<f;d+=1){var l=dr(e,u),_=l>>31&1,w=2147483647&l,g=dr(e,u),y=dr(e,u),m=y>>31&1,k=y>>28&7,p=268435455&y;v.push({mg:_,kg:w,Uv:g,pg:m,Ag:k,bg:p})}return{Cu:Zc.Jl,p_:o,A_:a,Tg:c,La:h,Eg:i,Sg:r,Rg:f,Ig:v}},t.Jw=function(t){var n,i=t.Qn,r=t.r_,e=ch(dr(i,r)),u=e.version,s=e.flags;return n=0===u?$i.fromBits(dr(i,r),0,!0):nh(i,r),{Cu:Zc.jl,p_:u,A_:s,$w:n}},t}();hh.T_=((ih={})[Zc.ml]=hh.N_,ih[Zc.Xl]=hh.Ww,ih[Zc.Ql]=hh.vg,ih[Zc.Jl]=hh.yg,ih[Zc.Zl]=hh.og,ih);var fh={playready:"https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx",widevine:"https://wv-keyos.licensekeyserver.com/",fairplay:"https://fp-keyos.licensekeyserver.com/getkey"};function vh(t){if(!t)return!0;var n=t.licenseAcquisitionURL,i=t.certificateURL,r=t.keys,e=t.headers,u=t.useCredentials,s=t.queryParameters,o=t.certificateRequestProcessor,a=t.certificateResponseProcessor,c=t.licenseRequestProcessor,h=t.licenseResponseProcessor;return!(n||i||r||e||u||s||o||a||c||h)}function dh(t){return t&&void 0!==t.licenseAcquisitionURL}var lh,_h=dh,wh=dh;function gh(t){if(!t)return!0;if(ph(t))return!1;var n=t.fairplay,i=t.playready,r=t.widevine,e=t.clearkey,u=t.aes128;return vh(n)&&vh(i)&&vh(r)&&vh(e)&&vh(u)}function yh(t){var n=jc(t),i=function(t){var n,i=t;return Gc(i)&&""!==(null===(n=i.fairplay)||void 0===n?void 0:n.headers.PreAuthorization)&&!zc(i)}(t);return(!n||!i)&&(n||i)}function mh(t){return t.integration===Oc}function kh(t){var n=t;if(!n)return!1;if(gh(n))return!1;var i=n.fairplay,r=n.playready,e=n.widevine,u=n.clearkey;if(ph(t))return!0;if(i&&!function(t){var n=t;return n&&(void 0!==n.certificateURL||void 0!==n.certificate)}(i))return!1;if(r&&!_h(r))return!1;if(e&&!wh(e))return!1;if(u&&!function(t){var n=t;return n&&(void 0!==n.licenseAcquisitionURL||void 0!==n.keys)}(u))return!1;if(n.integration){if(th.yl._l(n.integration))return!0;switch(n.integration){case Nc:if(!function(t){return t.integration===Nc&&(Ah(t)||bh(t))}(t))return!1;break;case xc:if(!Th(t))return!1;break;case Pc:if(!function(t){return t.integration===Pc}(t))return!1;break;case Oc:if(!mh(t))return!1;break;case Cc:if(!yh(t))return!1;break;case Dc:if(!function(t){return t.integration===Dc}(t))return!1;break;case Bc:if(!ph(t))return!1;break;case Mc:if(!function(t){var n=t;return n.integration===Mc&&(void 0!==n.token||function(t){return void 0!==t.merchant&&void 0!==t.sessionId&&void 0!==t.userId}(n))}(t))return!1;break;case Lc:if(!function(t){return t.integration===Lc}(t))return!1;break;case Fc:if(!Eh(t))return!1;break;case Hc:if(!function(t){return t.integration===Hc}(t))return!1;break;case Vc:if(!Sh(t))return!1;break;case Uc:if(!function(t){var n=t;return n.integration===Uc&&void 0!==n.token}(t))return!1;break;case Xc:if(!function(t){return t.integration===Xc}(t))return!1;break;case qc:if(!function(t){var n=t;return n&&L(n.releasePid)&&L(n.accountId)&&L(n.token)}(t))return!1;break;case Wc:return!0;default:return!1}}return!0}function ph(t){return t.integration===Bc}function Ah(t){return void 0!==t.authToken}function bh(t){var n=t;return void 0!==n.accountName&&void 0!==n.customerName&&void 0!==n.portalId}function Th(t){var n=t;return n.integration===xc&&void 0!==n.token}function Eh(t){var n=t;return n&&n.integration===Fc&&X(n.ticketAcquisitionURL)&&X(n.streamId)}function Sh(t){var n=t;return n.integration===Vc&&void 0!==n.token}function Rh(t,n){var i,r,e,u=n[t],s=null!==(i=null==u?void 0:u.licenseAcquisitionURL)&&void 0!==i?i:fh[t],o=null!==(r=null==u?void 0:u.customdata)&&void 0!==r?r:n.customdata,a=o?{customData:o}:{},c=Dt(Dt({},null!==(e=null==u?void 0:u.headers)&&void 0!==e?e:{}),a),h=null!=u?u:{};h.customdata;return Dt(Dt({},Rc(h,["customdata"])),{licenseAcquisitionURL:s,headers:c})}function Ih(t){switch(t.toLowerCase()){case"widevine":case tn:return tn;case"playready":case Jt:return Jt;case"fairplay":case rn:return rn}}function Nh(t,i){switch(t){case Qt:return function(t){for(var n={},i=hh.R_(new DataView(t)),r=0;r<i.length;r++){var e=i[r];n[e.lg]=e.gg}return n}(i);case Yt:case Zt:return function(t){var n;return(n={})[nn]=t,n}(i);default:throw new de(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Unsupported initDataType "+t)}}function Ch(t){if(t&&H(t))return Dt(Dt({},t),{integration:Dh(t.integration),fairplay:Uh(t.fairplay),widevine:Oh(t.widevine),playready:xh(t.playready),clearkey:Fh(t.clearkey),aes128:Hh(t.aes128),integrationParameters:Vh(t.integrationParameters),preferredKeySystems:Xh(t.preferredKeySystems)})}function Dh(t){if(X(t))return t}function Oh(t){if(t&&H(t))return{persistentState:Ph(t.persistentState),distinctiveIdentifier:Ph(t.distinctiveIdentifier),audioRobustness:Bh(t.audioRobustness),videoRobustness:Bh(t.videoRobustness),licenseAcquisitionURL:X(t.licenseAcquisitionURL)?t.licenseAcquisitionURL:void 0,licenseType:Mh(t.licenseType),headers:t.headers,useCredentials:!!q(t.useCredentials)&&t.useCredentials,queryParameters:t.queryParameters,certificate:X(t.certificate)||Lr(t.certificate)?t.certificate:void 0,certificateRequestProcessor:Lh(t.certificateRequestProcessor),certificateResponseProcessor:Lh(t.certificateResponseProcessor),licenseRequestProcessor:Lh(t.licenseRequestProcessor),licenseResponseProcessor:Lh(t.licenseResponseProcessor)}}function xh(t){if(t){var n=Oh(t);if(n){var i=X(t.customData)?t.customData:void 0;return Dt(Dt({},n),{customData:i})}}}function Ph(t){switch(null==t?void 0:t.toLowerCase()){case"required":return"required";case"optional":return"optional";case"not-allowed":return"not-allowed"}}function Bh(t){switch(t){case"HW_SECURE_ALL":return"HW_SECURE_ALL";case"HW_SECURE_DECODE":return"HW_SECURE_DECODE";case"HW_SECURE_CRYPTO":return"HW_SECURE_CRYPTO";case"SW_SECURE_DECODE":return"SW_SECURE_DECODE";case"SW_SECURE_CRYPTO":return"SW_SECURE_CRYPTO";case"":return""}}function Mh(t){switch(null==t?void 0:t.toLowerCase()){case"temporary":return"temporary";case"persistent":return"persistent"}}function Lh(t){if("function"==typeof t)return t}function Uh(t){if(t){var n=Oh(t);if(n){var i=X(t.certificateURL)?t.certificateURL:void 0;return Dt(Dt({},n),{certificateURL:i})}}}function Fh(t){if(t){var n=Oh(t);if(n){var i=U(t.keys)?t.keys.map(function(t){return function(t){if(!t||!H(t))return;var n=t.id,i=t.value;if(!X(n)||!X(i))return;return{id:n,value:i}}(t)}).filter(L):void 0;return Dt(Dt({},n),{keys:i})}}}function Hh(t){if(H(t))return{useCredentials:q(t.useCredentials)?t.useCredentials:void 0}}function Vh(t){if(H(t))return t}function Xh(t){return t&&U(t)?t.map(function(t){return Ih(t)}).filter(L):[tn,Jt,rn]}!function(t){t.DEFAULT="",t.THEO="theo",t.GOOGLE_IMA="google-ima",t.SPOTX="spotx",t.FREEWHEEL="freewheel"}(lh||(lh={}));var qh,Wh,zh,Gh,jh,Qh,Yh,Zh,Jh,Kh=function(){function t(){this.Ng=[]}var n=t.prototype;return n.Cg=function(t){var n=this.Dg.filter(function(n){return n.Og(t)});if(n.length>1)0;else if(0===n.length)throw d("Unknown ad integration: "+t.integration);return n[0]||null},n.xg=function(t){this.Ng.push(t)},T(t,[{key:"Dg",get:function(){return this.Ng}}]),t}();Kh.dn=new Kh,function(t){t.DEFAULT="",t.SRT="srt",t.TTML="ttml",t.WEBVTT="webvtt",t.EMSG="emsg",t.EVENT_STREAM="eventstream",t.ID3="id3",t.CEA608="cea608",t.DATE_RANGE="daterange"}(qh||(qh={})),function(t){t.vf="PLAYING",t.Pg="PAUSED",t.Bg="SEEK",t.Mg="STALLED",t.Lg="FAILED",t.Ug="INITIAL_BUFFERING",t.Fg="NO_ACCESS"}(Wh||(Wh={})),function(t){t.Hg="HTTP_REQUEST_STATUS_CODE_1XX",t.Vg="HTTP_REQUEST_STATUS_CODE_2XX",t.Xg="HTTP_REQUEST_STATUS_CODE_3XX",t.qg="HTTP_REQUEST_STATUS_CODE_4XX",t.Wg="HTTP_REQUEST_STATUS_CODE_5XX",t.zg="BUFFER_LENGTH",t.Gg="BYTES_RECEIVED",t.jg="SEGMENT_READ_BITRATE",t.Qg="SEGMENT_PROFILE_BITRATE",t.Yg="NUMBER_OF_FRAMES_DROPPED",t.Zg="PLAYBACK_POSITION",t.Jg="NUMBER_OF_FRAMES_DECODED",t.Kg="PLAYBACK_DELTA_TO_ORIGIN",t.$g="STREAM_DELTA_TO_ORIGIN",t.ty="ORIGIN_TIMESTAMP"}(zh||(zh={})),function(t){t.ny="MANIFEST_URI",t.iy="ASSET_DURATION",t.ey="NUMBER_OF_CONTENT_PROFILES",t.uy="CDN",t.sy="CONTENT_TITLE",t.oy="SERVICE_NAME",t.ay="CONTENT_TYPE",t.hy="CONTENT_DESCRIPTION"}(Gh||(Gh={})),function(t){t.vy="shutdown_normal_shutdown"}(jh||(jh={})),function(t){t.ly="session/",t._y="internalError/",t.wy="drmError/",t.gy="caError/",t.yy="networkError/"}(Qh||(Qh={})),function(t){t.my="userAction",t.ky="endOfStreamReached"}(Yh||(Yh={})),function(t){t.PAUSE="py",t.RESUME="Ay"}(Zh||(Zh={})),function(t){t.$l="audio",t.Kl="video",t.yn="text",t.by="image",t.Ty="unknown"}(Jh||(Jh={}));var $h,tf=function(t){function n(n,i){var r;return(r=t.call(this)||this).Ch=w.floor(n.length/2),r.Ey=n,r.Sy=i||function(t){for(var n=new Array(2*t),i=0,r=0;i<t;i+=1,r+=2)n[r]=!0,n[r+1]=!1;return n}(r.Ch),r}ct(n,t);var i=n.prototype;return i.Ry=function(t){return this.Ey[2*t]},i.Iy=function(t){return this.Sy[2*t]},i.Ny=function(t){return this.Ey[2*t+1]},i.Cy=function(t){return this.Sy[2*t+1]},T(n,[{key:"Dy",get:function(){return this.Ey.slice()}}]),n}(function(){function t(){}var n=t.prototype;return n.Ja=function(t,n){return 0===this.Za(t,n)},n.Oy=function(t,n){return this.Za(t,n)>0},n.xy=function(t,n){return this.Za(t,n)>=0},n.ja=function(t,n){return this.Za(t,n)<0},n.qa=function(t,n){return this.Za(t,n)<=0},n.Xa=function(t,n){return this.ja(t,n)?t:n},n.Ha=function(t,n){return this.Oy(t,n)?t:n},n.Py=function(t,n,i){return i?this.qa(t,n):this.ja(t,n)},n.By=function(){var t=this;return{get length(){return t.Ch},start:function(n){var i=0|n;return t.My(i),t.Ly(t.Ry(i))},end:function(n){var i=0|n;return t.My(i),t.Ly(t.Ny(i))}}},n.Uy=function(){for(var t=new Array(2*this.Ch),n=new Array(2*this.Ch),i=0;i<this.Ch;i++)t[2*i]=this.Ry(i),t[2*i+1]=this.Ny(i),n[2*i]=!0,n[2*i+1]=!0;return this.Fy(t,n)},n.My=function(t){if(t<0)throw new d("The index provided ("+t+") must be non-negative");if(t>=this.Ch)throw new d("The index provided ("+t+") is greater than the maximum bound ("+this.Ch+")")},n.Hy=function(t){if(0===this.Ch)return this.Vy();if(this.Xy(t))return t;if(this.qa(t,this.Ry(0)))return this.Ry(0);if(this.xy(t,this.Ny(this.Ch-1)))return this.Ny(this.Ch-1);for(var n,i=this.qy(),r=0;r<this.Ch;r++){var e=this.Ry(r),u=this.Qa(e,t);this.ja(u,i)&&(n=e,i=u);var s=this.Ny(r),o=this.Qa(this.Ny(r),t);this.ja(o,i)&&(n=s,i=o)}return n},n.Wy=function(t){for(var n=0,i=0,r=[],e=[];n<this.Ch&&i<t.Ch;){var u=this.Ry(n),s=this.Ny(n),o=this.Iy(n),a=this.Cy(n),c=t.Ry(i),h=t.Ny(i),f=t.Iy(i),v=t.Cy(i),d=this.Ha(u,c),l=this.Xa(s,h),_=void 0;_=this.Ja(u,c)?o||f:this.Ja(d,u)?o:f;var w=void 0;w=this.Ja(s,h)?a||v:this.Ja(l,s)?a:v,(this.ja(d,l)||_&&w&&this.Ja(d,l))&&(r.push(d,l),e.push(_,w));var g=this.Za(this.Ny(n),t.Ny(i));0===g?(n+=1,i+=1):g<0?n+=1:i+=1}return this.Fy(r,e)},n.zy=function(){var t=this.Gy(),n=t.Ch;if(0===n)return this.Fy([t.jy(),t.qy()],[!1,!1]);var i=[],r=[],e=t.Ry(0);t.Ja(e,t.jy())||(i.push(t.jy(),e),r.push(!1,!t.Iy(0)));for(var u=0;u<n-1;u++)i.push(t.Ny(u),t.Ry(u+1)),r.push(!t.Cy(u),!t.Iy(u+1));var s=t.Ny(n-1);return t.Ja(s,t.qy())||(i.push(s,t.qy()),r.push(!t.Cy(n-1),!1)),t.Fy(i,r)},n.Qy=function(t){for(var n=0,i=0,r=this.Ch,e=t.Ch,u=new Array(2*(r+e)),s=new Array(2*(r+e)),o=0;n<r&&i<e;){var a=this.Ry(n),c=this.Ny(n),h=t.Ry(i),f=t.Ny(i);this.ja(a,h)||this.Ja(a,h)&&this.ja(c,f)?(u[o]=a,u[o+1]=c,s[o]=this.Iy(n),s[o+1]=this.Cy(n),n++):(u[o]=h,u[o+1]=f,s[o]=t.Iy(i),s[o+1]=t.Cy(i),i++),o+=2}for(;n<r;)u[o]=this.Ry(n),u[o+1]=this.Ny(n),s[o]=this.Iy(n),s[o+1]=this.Cy(n),n++,o+=2;for(;i<e;)u[o]=t.Ry(i),u[o+1]=t.Ny(i),s[o]=t.Iy(i),s[o+1]=t.Cy(i),i++,o+=2;return this.Fy(u,s)},n.Yy=function(t){void 0===t&&(t=this.Vy());var n=this.Ch;if(n<2)return this;for(var i=[],r=[],e=this.Ry(0),u=this.Ny(0),s=this.Iy(0),o=this.Cy(0),a=1;a<n;a++){var c=this.Ry(a),h=this.Ny(a),f=this.Iy(a),v=this.Cy(a);this.ja(e,c)&&this.Oy(u,h)||(this.Ja(e,c)&&(s=f=s||f),this.Ja(u,h)&&(o=v=o||v),this.Py(c,this.Wa(u,t),o||f)?(u=h,o=v):(i.push(e,u),r.push(s,o),e=c,u=h,s=f,o=v))}return i.push(e,u),r.push(s,o),this.Fy(i,r).Gy()},n.Gy=function(){for(var t=[],n=[],i=0;i<this.Ch;i++){var r=this.Ry(i),e=this.Ny(i),u=this.Iy(i),s=this.Cy(i);this.Ja(r,e)?(u||s)&&(t.push(r,e),n.push(!0,!0)):(t.push(r,e),n.push(u,s))}return this.Fy(t,n)},n.Zy=function(t){return this.Ch?t.Ch?this.Qy(t).Yy():this:t},n.Jy=function(t){var n=this.Gy(),i=t.Gy(),r=n.zy(),e=i.zy(),u=r.Wy(i),s=e.Wy(n);return u.Zy(s)},n.Xs=function(t){for(var n=[],i=[],r=0;r<this.Ch;r++){var e=this.Wa(this.Ry(r),t),u=this.Wa(this.Ny(r),t);n.push(e,u),i.push(this.Iy(r),this.Cy(r))}return this.Fy(n,i)},n.Ky=function(t){return this.Gy().Wy(t.Gy().zy())},n.Xy=function(t,n){return this.$y(t,n)>=0},n.tm=function(t,n,i,r,e){return this.nm(t,n,i,r,e)>=0},n.im=function(t,n,i,r,e){return this.rm(t,n,i,r,e)>=0},n.um=function(t){if(t.Ch!==this.Ch)return!1;for(var n=0;n<this.Ch;n++)if(!this.Ja(this.Ry(n),t.Ry(n))||!this.Ja(this.Ny(n),t.Ny(n))||this.Iy(n)!==t.Iy(n)||this.Cy(n)!==t.Cy(n))return!1;return!0},n.sm=function(t){for(var n=[],i=[],r=0;r<this.Ch;r++)t(this.Ry(r),this.Ny(r))&&(n.push(this.Ry(r),this.Ny(r)),i.push(this.Iy(r),this.Cy(r)));return this.Fy(n,i)},n.rm=function(t,n,i,r,e){void 0===i&&(i=!0),void 0===r&&(r=!0),void 0===e&&(e=this.Vy());for(var u=this.Ka(t,e),s=this.Wa(n,e),o=0;o<this.Ch;o+=1)if(this.Py(this.Ry(o),s,!r||this.Iy(o))&&this.Py(u,this.Ny(o),!i||this.Cy(o)))return o;return-1},n.nm=function(t,n,i,r,e){void 0===i&&(i=!0),void 0===r&&(r=!1),void 0===e&&(e=this.Vy());for(var u=this.Wa(t,e),s=this.Ka(n,e),o=0;o<this.Ch;o+=1)if(this.Py(this.Ry(o),u,!i||this.Iy(o))&&this.Py(s,this.Ny(o),!r||this.Cy(o)))return o;return-1},n.$y=function(t,n){return this.nm(t,t,!0,!0,n)},n.om=function(t,n){void 0===n&&(n=this.Vy());for(var i=this.Wa(t,n),r=this.Ch-1;r>=0;r-=1)if(this.Py(this.Ry(r),i,this.Iy(r)))return r;return-1},n.am=function(t,n){void 0===n&&(n=this.Vy());for(var i=this.Ka(t,n),r=0;r<this.Ch;r+=1)if(this.Py(i,this.Ny(r),this.Cy(r)))return r;return-1},n.cm=function(t){return this.My(t),this.Fy([this.Ry(t),this.Ny(t)],[this.Iy(t),this.Cy(t)])},n.hm=function(t,n){var i=this.$y(t,n);return i<0?void 0:this.cm(i)},T(t,[{key:"fm",get:function(){for(var t=this.Vy(),n=0;n<this.Ch;n++){var i=this.Ka(this.Ny(n),this.Ry(n));t=this.Wa(t,i)}return t}}]),t}()),nf=function(t){function n(n,i){return t.call(this,n,i)||this}ct(n,t);var i=n.prototype;return i.Za=function(t,n){return t<n?qs.Ba:t===n?qs.xa:qs.Pa},i.Wa=function(t,n){return t+n},i.Ka=function(t,n){return t-n},i.Qa=function(t,n){return w.abs(t-n)},i.Vy=function(){return 0},i.qy=function(){return 1/0},i.jy=function(){return-1/0},n.vm=function(t){for(var i=[],r=0;r<t.length;r++)i.push(t.start(r),t.end(r));return new n(i)},n.dm=function(t){return new n([t,t],[!0,!0])},i.Fy=function(t,i){return new n(t,i)},i.Ly=function(t){return t},n.lm=function(){return rf},n}(tf),rf=new nf([]);!function(t){t.UNAVAILABLE="unavailable",t.AVAILABLE="available",t.CONNECTING="connecting",t.CONNECTED="connected"}($h||($h={}));var ef,uf,sf,of,af,cf,hf="agama";function ff(t){return function(t){switch(t){case ef.NONE:case ef.HORIZONTAL:case ef.VERTICAL:return!0;default:return!1}}(t)?t:ef.NONE}function vf(t){switch(t){case"":return ef.NONE;case"horizontal":return ef.HORIZONTAL;case"vertical":return ef.VERTICAL;default:throw new l}}function df(t){return{useSeamlessPeriodSwitch:lf(null==t?void 0:t.useSeamlessPeriodSwitch)}}function lf(t){if(!t||!X(t))return uf._m;switch(t){case"always":return uf.wm;case"never":return uf.gm;default:return uf._m}}function _f(t){return{discontinuityAlignment:wf(null==t?void 0:t.discontinuityAlignment)}}function wf(t){if(!t||!X(t))return sf._m;switch(t){case"playlist":return sf.ym;case"media":return sf.mm;default:return sf._m}}function gf(t,n,i){var r=function(t,n){var i=qa.Pv;t.useCredentials?i=qa.xv:t.crossOrigin&&(i=Ka(t.crossOrigin));i===qa.Pv&&n&&n.vr&&n.vr[360]&&(i=qa.Ov);return{useCredentials:i===qa.xv,crossOrigin:i}}(t,n),e=r.useCredentials,u=r.crossOrigin,s=t.liveOffset;L(s)||(s=i&&L(i.liveOffset)?i.liveOffset:void 0);var o=t.timeServer;L(o)||(o=n&&L(n.timeServer)?n.timeServer:void 0);var a=Boolean(t.hlsDateRange);return L(t.hlsDateRange)||(a=!(!i||!L(i.hlsDateRange))&&Boolean(i.hlsDateRange)),{crossOrigin:u,useCredentials:e,liveOffset:s,timeServer:o,hlsDateRange:a,experimentalRendering:Boolean(t.experimentalRendering),nativeUiRendering:Boolean(t.nativeUiRendering),lowLatency:Boolean(t.lowLatency),useNativePlayback:Boolean(t.useNativePlayback),dash:L(t.dash)?df(t.dash):void 0,hls:L(t.hls)?_f(t.hls):void 0}}function yf(t){if(null!==t)return t}function mf(t){var n,i={apiKey:t.apiKey,integration:t.integration,streamActivityMonitorID:yf(t.streamActivityMonitorID),adTagParameters:H(t.adTagParameters)?t.adTagParameters:{},authToken:yf(t.authToken)};if("vod"===(null==t?void 0:t.availabilityType)||(n=t,Boolean(n.videoID&&n.contentSourceID))){var e=t.videoID,u=t.contentSourceID;return e?u?Dt(Dt({},i),{availabilityType:"vod",videoID:e,contentSourceID:u}):void r.Rc("A VOD DAI configuration was provided without valid contentSourceID which is required."):void r.Rc("A VOD DAI configuration was provided without valid videoID which is required.")}if("live"===(null==t?void 0:t.availabilityType)||function(t){return Boolean(t.assetKey)}(t)){var s=t.assetKey;return s?Dt(Dt({},i),{availabilityType:"live",assetKey:s}):void r.Rc("A Live DAI configuration was provided without valid assetKey which is required.")}r.Rc("A DAI configuration was provided without a valid availabilityType which is required.")}function kf(t){switch(t.integration){case"google-dai":return mf(t);case"imagine":return{integration:t.integration};case"yospace":return function(t){return{integration:t.integration}}(t);default:return{integration:t.integration}}}function pf(t,n,i){var r=gf(t,n,i),e=yf(t.src),u=t.type;u||(u=t.src?Ja(t.src):void 0);var s=function(t,n){var i;i=L(t.contentProtection)?t.contentProtection:L(t.drm)?t.drm:L(n)&&L(n.contentProtection)?n.contentProtection:L(n)&&L(n.drm)?n.drm:void 0;return Af(i)}(t,n),o=L(t.ssai)?kf(t.ssai):void 0;return Dt(Dt({},r),{src:e,type:u,contentProtection:s,ssai:o,integrationData:void 0})}function Af(t){if(!kh(t)||!t.integration)return t;switch(t.integration){case Bc:return n=t,i=Rh(Gt.Su,n),r=Rh(Gt.Eu,n),e=n[Gt.Ru]&&Rh(Gt.Ru,n),Dt({integration:"keyos",widevine:i,playready:r},e?{fairplay:e}:{});default:return t}var n,i,r,e}!function(t){t.NONE="",t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(ef||(ef={})),function(t){t._m="auto",t.wm="always",t.gm="never"}(uf||(uf={})),function(t){t._m="auto",t.ym="playlist",t.mm="media"}(sf||(sf={})),function(t){t.VERIZON_MEDIA="verizon-media"}(of||(of={})),function(t){t.ASSET="asset",t.CHANNEL="channel",t.EVENT="event"}(af||(af={})),function(t){t.km="subtitles",t.pm="captions",t.Am="descriptions",t.bm="chapters",t.n_="metadata",t.Tm="thumbnails"}(cf||(cf={}));var bf=[cf.km,cf.pm,cf.Am,cf.bm,cf.n_,cf.Tm];function Tf(t){var n=String(t||"").toLowerCase();return function(t){return"string"==typeof t&&Dn(bf,t)}(n)?n:n?cf.n_:cf.km}function Ef(t){if(!t)return!0;var n,i,r=!(ec(n=t.sources)||F(n)&&ec(n[0]))||uc(t.sources),e=!t.ads||(!(i=t.ads)||U(i)&&0===i.length),u=""!==t.poster&&!t.poster;return r&&e&&u}function Sf(t){return X(t.src)}function Rf(t){if(t&&t.sources)return function t(n){if(X(n))return n;if(rc(n))return n.src;if(F(n)&&n.length>0)return t(n[0]);return}(t.sources)}function If(t){return!!t&&(dn(t=t.toLowerCase(),Wa.Dv)||dn(t,Wa.Bv))}function Nf(t,n,i){return nc(t)?function(t,n,i){var r=Dt(Dt({},sc()),{ping:{adImpressions:!1,freeWheelVideoViews:!1,linearAdData:!1},integration:of.VERIZON_MEDIA,id:"",preplayParameters:{},playbackUrlParameters:{},assetType:af.ASSET,contentProtected:!1,assetInfo:!0});r.id=(e=t.id,X(e)?e:F(e)&&X(e[0])?e:H(u=e)&&X(u.userId)&&(F(u.externalId)||X(u.externalId))?e:""),t.preplayParameters&&(r.preplayParameters=t.preplayParameters);var e,u;t.playbackUrlParameters&&(r.playbackUrlParameters=t.playbackUrlParameters);t.assetType&&(r.assetType=function(t){switch(t){case"channel":return af.CHANNEL;case"event":return af.EVENT;case"asset":default:return af.ASSET}}(t.assetType));t.contentProtected&&(r.contentProtected=jo(t.contentProtected));t.assetInfo?r.assetInfo=jo(t.assetInfo):r.assetInfo="asset"===r.assetType;return r.ping=(s=r.assetType,o=t.ping,a=!1,c=!1,h=!1,o?(a=!!q(o.adImpressions)&&o.adImpressions,c=!!q(o.freeWheelVideoViews)&&o.freeWheelVideoViews,h=q(o.linearAdData)?o.linearAdData:s!==af.ASSET):s!==af.ASSET&&(h=!0),{adImpressions:a,freeWheelVideoViews:c,linearAdData:h}),r=Df(r=Cf(r,t),n,i);var s,o,a,c,h}(t,n,i):function(t,n,i){var r=oc(),e=n&&(n.contentProtection||n.drm);if(X(t)){if(r.src=t,r.type=Ja(t),e){var u=Ch(e);r.contentProtection=Af(u)}}else if(rc(t)||tc(t)){r.src=t.src,r.type=t.type||Ja(t.src);var s=function(t){return t.type===Wa.Mv}(t)?t.hesp:void 0;void 0!==s&&(r.hesp=s);var o=t.contentProtection||t.drm||e,a=Ch(o);r.contentProtection=Af(a),t.ssai&&(r.ssai=kf(t.ssai)),r=Cf(r,t)}return r=Df(r,n,i)}(t,n,i)}function Cf(t,n){n.useCredentials?t.crossOrigin=qa.xv:n.crossOrigin&&(t.crossOrigin=Ka(n.crossOrigin)),X(n.timeServer)&&(t.timeServer=n.timeServer),n.liveOffset&&(t.liveOffset=n.liveOffset),n.hlsDateRange&&(t.hlsDateRange=n.hlsDateRange),n.lowLatency&&(t.lowLatency=jo(n.lowLatency)),n.useNativePlayback&&(t.useNativePlayback=jo(n.useNativePlayback)),n.dash&&(t.dash=df(n.dash)),n.hls&&(t.hls=_f(n.hls));var i=void 0!==n.experimentalRendering?jo(n.experimentalRendering):void 0;void 0!==i&&(t.experimentalRendering=i);var r=void 0!==n.nativeUiRendering?jo(n.nativeUiRendering):void 0;return void 0!==r&&(t.nativeUiRendering=r),t}function Df(t,n,i){var r,e=n&&n.timeServer;return i&&i.liveOffset&&!L(t.liveOffset)&&(t.liveOffset=i.liveOffset),i&&i.hlsDateRange&&!L(t.hlsDateRange)&&(t.hlsDateRange=i.hlsDateRange),t.crossOrigin===qa.Pv&&(null===(r=null==n?void 0:n.vr)||void 0===r?void 0:r[360])&&(t.crossOrigin=qa.Ov),t.useCredentials=t.crossOrigin===qa.xv,X(e)&&!t.timeServer&&(t.timeServer=e),t}function Of(t){var n={src:""};if(t&&t.src){if(n.src=Zo(t.src),"default"in t&&(n.default=jo(t.default)),n.kind=Tf(t.kind),function(t){switch(t){case qh.DEFAULT:case qh.SRT:case qh.TTML:case qh.WEBVTT:case qh.EMSG:case qh.EVENT_STREAM:case qh.ID3:case qh.CEA608:case qh.DATE_RANGE:return!0;default:return!1}}(t.format)&&(n.format=t.format),"srclang"in t){var i=t.srclang;"string"==typeof i&&""!==i&&(n.srclang=i)}if("label"in t){var r=t.label;"string"==typeof r&&""!==r&&(n.label=r)}}return n}function xf(t,n){if(V(t))try{return n.Cg(t).Em(t)}catch(t){return}}function Pf(t){return X(t.sources)&&""!==t.sources||H(t.sources)&&X(t.sources.src)}function Bf(t){return t.integration===lh.SPOTX&&!m(t.id)}function Mf(t){return"freewheel"===t.integration}function Lf(t,n,i){if(void 0===i&&(i=Kh.dn),Ef(t))return{sources:[oc()]};var r=qo(t);if(r.sources=function(t,n,i){if(ec(t))return[Nf(t,n,i)];if(F(t)&&ec(t[0])){for(var r=[],e=0;e<t.length;e++){var u=t[e];r.push(Nf(u,n,i))}return r}return[oc()]}(r.sources,r,n),"contentProtection"in r&&delete r.contentProtection,"drm"in r&&delete r.drm,"ads"in r){var e=function(t,n){if(!F(t))return[];for(var i=[],r=0;r<t.length;r++){var e=t[r];(e=xf(e,n))&&(Pf(e)||Bf(e)||Mf(e))&&i.push(e)}return i}(r.ads,i);0===e.length?delete r.ads:r.ads=e}var u,s,o,a=!uc(r.sources),c=r.ads&&r.ads.length>0;if(a&&!c?delete r.ads:c&&!a&&(r.sources=[]),"textTracks"in r){var h=function(t){if(!F(t))return[];for(var n=[],i=0;i<t.length;i++){var r=t[i];""!==(r=Of(r)).src&&n.push(r)}return n}(r.textTracks);0===h.length?delete r.textTracks:r.textTracks=h}if("poster"in r&&(r.poster=Zo(r.poster)),"vr"in r&&(r.vr=(u=r.vr,(s=u||{}).stereoMode=ff(s.stereoMode),{360:Boolean(s[360]),stereoMode:s.stereoMode?vf(s.stereoMode):ef.NONE})),"analytics"in r||(null==n?void 0:n.analytics)){var f=cc(r.analytics),v=n&&n.analytics||[];r.analytics=function(t,n){for(var i=qo(t),r=function(r){var e=n[r],u=!t.some(function(t){return t.integration===e.integration});u&&e.integration!==hf&&i.push(e)},e=0;e<n.length;e++)r(e);return i}(f,v)}return"mutedAutoplay"in r&&(r.mutedAutoplay=hc(r.mutedAutoplay)),"timeServer"in r&&delete r.timeServer,r.blockContentIfAdError=void 0!==(o=r.blockContentIfAdError)&&"boolean"==typeof o&&Boolean(o),r}var Uf=function(t){function n(){return t.apply(this,arguments)||this}ct(n,t);var i=n.prototype;return i.Th=function(n){return t.prototype.Th.call(this,n)},i.Kc=function(){return ra(this)},n}(Mo);var Ff=function(){function t(){this.Sm=[],this.Zc=void 0}var n=t.prototype;return n.Wa=function(t){this.Sm.push(t),this.Zc&&this.Zc.push(t.Jc)},n.bh=function(t){return this.Sm[t]},n.Rm=function(t){return U(t)?On(this.Sm,t):Dn(this.Sm,t)},T(t,[{key:"Nh",get:function(){return this.Sm}},{key:"Ch",get:function(){return this.Sm.length}},{key:"Jc",get:function(){var t,n;return this.Zc||(this.Zc=((n=(t=this).Nh.map(function(t){return t.Jc})).item=function(n){var i=0|n,r=t.bh(i);return r&&r.Jc||void 0},n)),this.Zc}}]),t}(),Hf=function(t){function n(n){var i;return(i=t.call(this,No.gh)||this).$c=n,i}return ct(n,t),n.prototype.Kc=function(){return new Vf(this.$c.Jc)},n}(Co),Vf=function(t){function n(n){var i;return(i=t.call(this,"update")||this).track=n,i}return ct(n,t),n}(Do),Xf=0;function qf(){return Xf++}var Wf=0;var zf=0;var Gf=0;var jf=function(t){function n(n){var i;return(i=t.call(this)||this).Cu=Jh.$l,i.Im=!1,i.Zc=void 0,i.Nm=n,i.Cm=qf(),i.Dm=Gf+++"",i.Om=n.label,i.Sm=new Ff,i.xm(),i}ct(n,t);var i=n.prototype;return i.Pm=function(t){this.Fh=t},i.xm=function(){this.Fh=this.Bm},T(n,[{key:"Uh",get:function(){}},{key:"Fh",get:function(){return this.Im},set:function(t){this.Im!==t&&(this.Im=t,this.Bm=t,this.vs(new Lo(this)))}},{key:"Bm",get:function(){return!!this.Nm.enabled},set:function(t){this.Nm.enabled=t}},{key:"Jc",get:function(){return this.Zc||(this.Zc=na(this)),this.Zc}},{key:"Hh",get:function(){return this.Dm}},{key:"Vh",get:function(){return this.Cm}},{key:"Xh",get:function(){return this.Nm.kind}},{key:"qh",get:function(){return this.Om},set:function(t){t!==this.Om&&(this.Om=t,this.vs(new Hf(this)))}},{key:"Wh",get:function(){return this.Nm.language}},{key:"Kh",get:function(){return this.Fh?"enabled":"disabled"}},{key:"Mm",get:function(){return this.Nm}},{key:"zh",get:function(){return this.Sm}},{key:"Gh",get:function(){},set:function(t){}}]),n}(ii),Qf=0;var Yf,Zf,Jf=function(t){function n(n){var i;return(i=t.call(this)||this).Cu=Jh.Kl,i.Im=!1,i.Zc=void 0,i.Nm=n,i.Cm=qf(),i.Dm=Qf+++"",i.Sm=new Ff,i.Om=n.label,i.xm(),i}ct(n,t);var i=n.prototype;return i.xm=function(){this.Fh=this.Bm},i.Pm=function(t){this.Fh=t},T(n,[{key:"Uh",get:function(){}},{key:"Fh",get:function(){return this.Im},set:function(t){this.Im!==t&&(this.Im=t,this.Bm=t,this.vs(new Lo(this)))}},{key:"Bm",get:function(){return!!this.Nm.selected},set:function(t){this.Nm.selected=t}},{key:"Jc",get:function(){return this.Zc||(this.Zc=na(this)),this.Zc}},{key:"Hh",get:function(){return this.Dm}},{key:"Vh",get:function(){return this.Cm}},{key:"Xh",get:function(){return"main"}},{key:"qh",get:function(){return this.Om},set:function(t){t!==this.Om&&(this.Om=t,this.vs(new Hf(this)))}},{key:"Wh",get:function(){return this.Nm.language}},{key:"Kh",get:function(){return this.Fh?"enabled":"disabled"}},{key:"Mm",get:function(){return this.Nm}},{key:"zh",get:function(){return this.Sm}},{key:"Gh",get:function(){},set:function(t){}}]),n}(ii),Kf=function(t){function n(n){var i;return(i=t.call(this,ka.yf)||this).Wd=n,i}return ct(n,t),n}(ei);!function(t){t[t.NONE=0]="NONE",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t[t.ERROR=3]="ERROR"}(Yf||(Yf={})),function(t){t.Lm="cue",t.Um="region",t.Fm="stylesheet"}(Zf||(Zf={}));var $f,tv,nv={"line-left":"start",center:"middle","line-right":"end"},iv={start:"line-left",middle:"center",end:"line-right"};function rv(t,n){if("auto"===t)switch(n){case"start":case"left":return"line-left";case"end":case"right":return"line-right";default:return"center"}return t}function ev(t,n){if("auto"===t)switch(n){case"start":case"left":return 0;case"end":case"right":return 100;default:return 50}return r=50,e="number"==typeof(i=t)?i:y(i),m(e)?r:e;var i,r,e}!function(t){t.Hm="Rv",t.Vm="Iv",t.gh="_o"}($f||($f={})),function(t){t.Hm="enter",t.Vm="exit",t.gh="update"}(tv||(tv={}));var uv=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).Xm=i,r}return ct(n,t),n}(Co),sv=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).cue=i,r}return ct(n,t),n}(Do);function ov(t){var n,i=[$f.Hm,$f.Vm,$f.gh],r={get track(){return t.$c.Jc},get id(){return t.Hh},get startTime(){return t.qm},get endTime(){return t.Wm},get content(){return t.zm},addEventListener:function(t,i){var r=Jo(t,Zo);n.ls(r,i)},removeEventListener:function(t,i){var r=Jo(t,Zo);n.ys(r,i)}};return n=new ri(r),t.ls(i,function(t){return n.vs(t.Jc)}),r}function av(){}function cv(t){return Xo(ov(t),{get align(){return t.Gm},get line(){return t.jm},get lineAlign(){return t.Qm},get position(){return t.Ym},get positionAlign(){return t.Zm},get region(){return t.Jm?t.Jm.Jc:null},get size(){return t.Hs},get snapToLines(){return t.Km},get text(){return t.zm},get vertical(){return t.$m}})}var hv=.02;function fv(t,n){return Gs(t.qm,n.qm,hv)&&Gs(t.Wm,n.Wm,hv)&&t.Hh===n.Hh}var vv=function(t){function n(n,i,r,e,u){var s;return void 0===u&&(u=""),(s=t.call(this)||this).Zc=void 0,s.tk=void 0,s.nk=!1,s.ik="",s.rk=-1,s.ek=n,s.uk=i,s.sk=r,s.ak=Boolean(e),s.Dm=u,s}ct(n,t);var i=n.prototype;return i.Kc=function(){return ov(this)},i.Ja=function(t){return this===t||zo(this,t)&&fv(this,t)},i.Ih=function(){this.gs()},T(n,[{key:"qm",get:function(){return this.ek},set:function(t){this.ek=t}},{key:"Wm",get:function(){return this.uk},set:function(t){this.uk=t}},{key:"Hh",get:function(){return this.Dm},set:function(t){this.Dm=t}},{key:"Jc",get:function(){return this.Zc||(this.Zc=this.Kc()),this.Zc}},{key:"ck",get:function(){return this.nk},set:function(t){this.nk=t}},{key:"$c",get:function(){return this.tk},set:function(t){this.tk=t}},{key:"zm",get:function(){return this.sk},set:function(t){this.sk=t}},{key:"hk",get:function(){return this.ik},set:function(t){this.ik=t}},{key:"fk",get:function(){return this.ak},set:function(t){this.ak=t}}]),n}(ii);function dv(t,n){return t.zm===n.zm&&t.jm===n.jm&&t.Qm===n.Qm&&t.Ym===n.Ym&&t.Zm===n.Zm&&t.Jm===n.Jm&&t.Km===n.Km&&t.Hs===n.Hs&&t.Gm===n.Gm&&t.$m===n.$m}var lv=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n,i,r,e)||this).jm="auto",s.Qm="start",s.Ym="auto",s.Zm="auto",s.Jm=void 0,s.Km=!0,s.Hs=100,s.Gm="center",s.$m="",s.Hh=u||"",s}return ct(n,t),n.prototype.Ja=function(n){return this===n||zo(this,n)&&t.prototype.Ja.call(this,n)&&dv(this,n)},T(n,[{key:"Jc",get:function(){return this.Zc||(this.Zc=cv(this)),this.Zc}},{key:"Cu",get:function(){return Zf.Lm}}]),n}(vv);function _v(t){var n="number"==typeof t.jm?t.jm:y(t.jm);return m(n)||t.Km||!(n<0||n>100)?m(n)?t.Km?-1:100:n:100}function wv(t){return ev(t.Ym,t.Gm)}function gv(t){return rv(t.Zm,t.Gm)}function yv(t){var n=100,i=gv(t),r=wv(t);return"line-left"===i&&(n=100-r),"line-right"===i&&(n=r),"center"===i&&r<=50&&(n=2*r),"center"===i&&r>50&&(n=2*(100-r)),t.Hs<n?t.Hs:n}function mv(t){return{get id(){return t.Hh},get identifier(){return t.Hh},get lines(){return t.vk},get regionAnchorX(){return t.dk},get regionAnchorY(){return t.lk},get scrollValue(){return t._k},get viewportAnchorX(){return t.wk},get viewportAnchorY(){return t.gk},get width(){return t.wc}}}var kv=function(){function t(t,n,i,r,e,u,s,o){this.Hh=t,this.wc=n,this.vk=i,this.dk=r,this.lk=e,this.wk=u,this.gk=s,this._k=o}return T(t,[{key:"Jc",get:function(){return this.Zc||(this.Zc=mv(this)),this.Zc}},{key:"Cu",get:function(){return Zf.Um}}]),t}(),pv=function(){function t(){}var n=t.prototype;return n.Ga=function(t){return this.Za(t)>0},n.Va=function(t){return this.Za(t)>=0},n.Ya=function(t,n){return this.Qa(t).qa(n)},n.Ja=function(t){return 0===this.Za(t)},n.ja=function(t){return this.Za(t)<0},n.qa=function(t){return this.Za(t)<=0},n.yk=function(){return this.mk()?this.kk():this},n.Ka=function(t){return this.Wa(t.kk())},n.Qa=function(t){return this.Ka(t).yk()},t}();function Av(t,n){return t.pk()?n.pk()?qs.xa:qs.Pa:n.pk()?qs.Ba:t.tc()?n.tc()&&t.mk()===n.mk()?qs.xa:t.mk()?qs.Ba:qs.Pa:n.mk()?qs.Pa:qs.Ba}var bv=function(){function t(t,n){this.Ak=t,this.bk=n}t.Tk=function(n,i,r){return r?new t(n.toUnsigned(),i.toUnsigned()):new t(n.toSigned(),i.toSigned())},t.Ek=function(n){return n.unsigned?new t(n,$i.UZERO):new t(n,n.isNegative()?$i.NEG_ONE:$i.ZERO)},t.Sk=function(n,i){if(m(n))return i?t.Rk:t.rc;if(i){if(n<0)return t.Rk;if(n>=3.402823669209385e38)return t.Ik}else{if(n<=-1.7014118346046923e38)return t.Nk;if(n+1>=1.7014118346046923e38)return t.Ck}return n<0?t.Sk(-n,i).kk():t.Tk($i.fromNumber(n%0x10000000000000000),$i.fromNumber(n/0x10000000000000000),i)};var n=t.prototype;return n.Dk=function(){return this.bk.unsigned},n.Ok=function(){return this.Ak.isZero()&&this.bk.isZero()},n.mk=function(){return this.bk.isNegative()},n.xk=function(){return this.Dk()?t.Tk(this.Ak,this.bk,!1):this},n.Pk=function(){return this.Dk()?this:t.Tk(this.Ak,this.bk,!0)},n.Bk=function(){return this.Ak},n.Mk=function(){return this.mk()?-this.kk().Mk():0x10000000000000000*this.bk.toNumber()+this.Ak.toUnsigned().toNumber()},n.Lk=function(){return this.Ak.toInt()},n.Ja=function(t){return(this.Dk()===t.Dk()||this.bk.getHighBits()>>>31!=1||t.bk.getHighBits()>>>31!=1)&&(this.bk.toUnsigned().eq(t.bk.toUnsigned())&&this.Ak.toUnsigned().eq(t.Ak.toUnsigned()))},n.Za=function(t){if(this.Ja(t))return qs.xa;var n=this.mk(),i=t.mk();if(n&&!i)return qs.Ba;if(!n&&i)return qs.Pa;if(!this.Dk())return this.Ka(t).mk()?qs.Ba:qs.Pa;var r=this.Pk(),e=t.Pk(),u=e.bk.comp(r.bk);return u>0||0===u&&e.Ak.gt(r.Ak)?qs.Ba:qs.Pa},n.ja=function(t){return this.Za(t)<0},n.qa=function(t){return this.Za(t)<=0},n.Oy=function(t){return this.Za(t)>0},n.xy=function(t){return this.Za(t)>=0},n.Uk=function(){return new t(this.Ak.not(),this.bk.not())},n.Fk=function(n){return new t(this.Ak.and(n.Ak),this.bk.and(n.bk))},n.Hk=function(n){return new t(this.Ak.or(n.Ak),this.bk.or(n.bk))},n.Vk=function(n){var i=127&n;return 0===i?this:i<64?t.Tk(this.Ak.shl(i),this.bk.shl(i).or(this.Ak.shru(64-i)),this.Dk()):t.Tk($i.ZERO,this.Ak.shl(i-64),this.Dk())},n.Xk=function(n){var i=127&n;return 0===i?this:i<64?t.Tk(this.Ak.shru(i).or(this.bk.shl(64-i)),this.bk.shr(i),this.Dk()):t.Tk(this.bk.shr(i-64),this.bk.isNegative()?$i.NEG_ONE:$i.ZERO,this.Dk())},n.qk=function(n){var i=127&n;return 0===i?this:i<64?t.Tk(this.Ak.shru(i).or(this.bk.shl(64-i)),this.bk.shru(i),this.Dk()):64===i?t.Tk(this.bk,$i.ZERO,this.Dk()):t.Tk(this.bk.shru(i-64),$i.ZERO,this.Dk())},n.Wa=function(n){var i=this.bk.high>>>16,r=65535&this.bk.high,e=this.bk.low>>>16,u=65535&this.bk.low,s=this.Ak.high>>>16,o=65535&this.Ak.high,a=this.Ak.low>>>16,c=65535&this.Ak.low,h=n.bk.high>>>16,f=65535&n.bk.high,v=n.bk.low>>>16,d=65535&n.bk.low,l=n.Ak.high>>>16,_=65535&n.Ak.high,w=n.Ak.low>>>16,g=0,y=0,m=0,k=0,p=0,A=0,b=0,T=0;b+=(T+=c+(65535&n.Ak.low))>>>16,T&=65535,A+=(b+=a+w)>>>16,b&=65535,p+=(A+=o+_)>>>16,A&=65535,k+=(p+=s+l)>>>16,p&=65535,m+=(k+=u+d)>>>16,k&=65535,y+=(m+=e+v)>>>16,m&=65535,g+=(y+=r+f)>>>16,y&=65535,g+=i+h,g&=65535;var E=this.Dk(),S=$i.fromBits(m<<16|k,g<<16|y,E),R=$i.fromBits(b<<16|T,p<<16|A,E);return t.Tk(R,S,E)},n.Ka=function(t){return this.Wa(t.kk())},n.kk=function(){return this.Uk().Wa(t.Wk)},n.zk=function(n){if(this.Ok()||n.Ok())return this.Dk()?t.Rk:t.rc;if(this.mk())return n.mk()?this.kk().zk(n.kk()):this.kk().zk(n).kk();if(n.mk())return this.zk(n.kk()).kk();if(this.bk.isZero()&&0===this.Ak.high&&n.bk.isZero()&&0===n.Ak.high)return t.Ek(this.Ak.multiply(n.Ak));var i=$i.fromBits(4294967295,0,!0),r=this.Ak.and(i),e=this.Ak.shru(32),u=this.bk.and(i),s=this.bk.shru(32),o=n.Ak.and(i),a=n.Ak.shru(32),c=n.bk.and(i),h=n.bk.shru(32),f=$i.UZERO,v=$i.UZERO,d=$i.UZERO,l=$i.UZERO;f=f.add(r.mul(o)),v=v.add(f.shru(32)),f=f.and(i),v=v.add(e.mul(o)),d=d.add(v.shru(32)),v=(v=v.and(i)).add(r.mul(a)),d=d.add(v.shru(32)),v=v.and(i),d=d.add(u.mul(o)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(e.mul(a)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(r.mul(c)),l=l.add(d.shru(32)),d=d.and(i),l=l.add(s.mul(o)).add(u.mul(a)).add(e.mul(c)).add(r.mul(h)).and(i);var _=$i.fromBits(f.getLowBitsUnsigned(),v.getLowBitsUnsigned(),!0),w=$i.fromBits(d.getLowBitsUnsigned(),l.getLowBitsUnsigned(),!0);return t.Tk(_,w,this.Dk())},n.Gk=function(n){var i,r,e=n;if(e.Ok())throw new RangeError("division by zero");if(this.Ok())return this.Dk()?[t.Rk,t.Rk]:[t.rc,t.rc];if(this.Dk()){if(e.Dk()||(e=e.Pk()),e.Oy(this))return[t.Rk,this];if(e.Oy(this.qk(1)))return[r=t.jk,i=this.Ka(e)];r=t.Rk}else{if(this.Ja(t.Nk)){if(e.Ja(t.Wk)||e.Ja(t.Qk))return[t.Nk,t.rc];if(e.Ja(t.Nk))return[t.Wk,t.rc];var u=this.Xk(1).Yk(e).Vk(1);return u.Ja(t.rc)?r=e.mk()?t.Wk:t.Qk:(i=this.Ka(e.zk(u)),r=u.Wa(i.Yk(e))),[r,i=this.Ka(e.zk(r))]}if(e.Ja(t.Nk))return this.Dk()?[t.Rk,this]:[t.rc,this];if(this.mk()){if(e.mk())return this.kk().Gk(e.kk());var s=this.kk().Gk(e);return r=s[0],i=s[1],[r.kk(),i.kk()]}if(e.mk()){var o=this.Gk(e.kk());return r=o[0],i=o[1],[r.kk(),i.kk()]}r=t.rc}for(i=this;i.xy(e);){for(var a=w.max(1,w.floor(i.Mk()/e.Mk())),c=w.ceil(w.log(a)/w.LN2),h=c<=48?1:w.pow(2,c-48),f=t.Sk(a),v=f.zk(e);v.mk()||v.Oy(i);)a-=h,v=(f=t.Sk(a,this.Dk())).zk(e);f.Ok()&&(f=t.Wk),r=r.Wa(f),i=i.Ka(v)}return[r,i]},n.Yk=function(t){return this.Gk(t)[0]},n.Zk=function(t){return this.Gk(t)[1]},n.toString=function(n){var i=n||10;if(i<2||i>36)throw new RangeError("radix");if(this.Ok())return"0";if(this.mk()){if(this.Ja(t.Nk)){var r=t.Sk(i),e=this.Yk(r),u=e.zk(r).Ka(this);return e.toString(i)+u.Lk().toString(i)}return"-"+this.kk().toString(i)}for(var s=t.Sk(w.pow(i,6),this.Dk()),o=this,a="";;){var c=o.Yk(s),h=(o.Ka(c.zk(s)).Lk()>>>0).toString(i);if((o=c).Ok())return h+a;for(;h.length<6;)h="0"+h;a=String(h)+a}},t}();bv.rc=bv.Ek($i.ZERO),bv.Rk=bv.Ek($i.UZERO),bv.Wk=bv.Ek($i.ONE),bv.jk=bv.Ek($i.UONE),bv.Qk=bv.Ek($i.NEG_ONE),bv.Ck=bv.Tk($i.NEG_ONE,$i.MAX_VALUE,!1),bv.Ik=bv.Tk($i.MAX_UNSIGNED_VALUE,$i.MAX_UNSIGNED_VALUE,!0),bv.Nk=bv.Tk($i.ZERO,$i.MIN_VALUE,!1);var Tv=function(t){function n(n,i){var r;return(r=t.call(this)||this).Cn=n.toSigned(),r.La=i>>>0,r}ct(n,t),n.Jk=function(t,i){return void 0===i&&(i=1e6),n.Sk(t*i,i)},n.Sk=function(t,i){return m(t)?n.Kk:t===1/0?n.$k:t===-1/0?n.tp:new n($i.fromNumber(t),i)},n.Ek=function(t,i){return new n(t,i)},n.np=function(t){return new n($i.fromNumber(w.round(t.Ma)),t.La)},n.ip=function(t){return new n($i.fromNumber(t.getTime()),1e3)},n.Ha=function(t,n){return t.Va(n)?t:n},n.Xa=function(t,n){return t.qa(n)?t:n},n.rp=function(t,i,r){return n.Ha(i,n.Xa(r,t))};var i=n.prototype;return i.mk=function(){return this.Cn.isNegative()},i.Ok=function(){return 0!==this.La&&this.Cn.isZero()},i.tc=function(){return 0===this.La&&!this.Cn.isZero()},i.pk=function(){return 0===this.La&&this.Cn.isZero()},i.Mk=function(){if(0===this.La)return this.Cn.isZero()?NaN:this.Cn.isNegative()?-1/0:1/0;var t=this.Cn.divide(this.La),n=this.Cn.subtract(t.multiply(this.La));return t.toNumber()+n.toNumber()/this.La},i.Bk=function(){if(0===this.La)throw new d("Failed to convert timestamp");return this.Cn},i.ep=function(){return new Date(0===this.La?NaN:this.za(1e3).Cn.toNumber())},i.sp=function(){return new no(0===this.La?this.Mk():this.Cn.toNumber(),this.La)},i.za=function(t,i){void 0===i&&(i=Rv.op);var r=this.La;if(r===t)return this;if(0===r)return this;var e=Zs(r,t);return new n(function(t,n,i){var r=t.Gk(n),e=r[0],u=r[1];if(u.Ok())return e;if(i===Rv.op)return u.mk()?e.Ka(bv.Wk):e;if(i===Rv.ap)return u.mk()?e:e.Wa(bv.Wk);var s=u.zk(bv.Sk(2));return s.mk()?s.kk().ja(n)?e:e.Ka(bv.Wk):s.ja(n)?e:e.Wa(bv.Wk)}(bv.Ek(this.Cn).zk(bv.Sk(t/e)),bv.Sk(r/e),i).Bk(),t)},i.Za=function(t){if(this===t)return qs.xa;if(0===this.La||0===t.La)return Av(this,t);if(this.Ok())return t.Ok()?qs.xa:t.mk()?qs.Pa:qs.Ba;if(t.Ok())return this.mk()?qs.Ba:qs.Pa;var n=w.min(this.La,t.La),i=this.za(n,Rv.cp).Cn,r=t.za(n,Rv.cp).Cn;return i.compare(r)},i.kk=function(){return 0===this.La?Ev(this):new n(this.Cn.negate(),this.La)},i.Wa=function(t){if(0===this.La||0===t.La)return Sv(this,t);if(this.Ok())return t;if(t.Ok())return this;var i=w.max(this.La,t.La),r=this.za(i,Rv.cp),e=t.za(i,Rv.cp);return new n(r.Cn.add(e.Cn),i)},i.zk=function(t){if(this.pk()||m(t))return n.Kk;if(this.tc()||!isFinite(t)){if(this.Ok()||0===t)return n.Kk;var i=this.mk()?n.tp:n.$k;return t<0?i.kk():i}return this.Ok()?this:new n(0===t?$i.ZERO:this.Cn.multiply(t),this.La)},i.Yk=function(t){if(this.pk()||m(t))return n.Kk;if(this.tc())return isFinite(t)?0===t?1/t<0?this.kk():this:t<0?this.kk():this:n.Kk;if(!isFinite(t))return new n($i.ZERO,this.La);if(this.Ok())return 0===t?n.Kk:new n($i.ZERO,this.La);if(0===t){var i=this.mk()?n.tp:n.$k;return 1/t<0?i.kk():i}return new n(this.Cn.divide(t),this.La)},i.hp=function(){return[this.Cn.low,this.Cn.high,this.La]},n}(pv);function Ev(t){return t.pk()?t:t.mk()?Tv.$k:Tv.tp}function Sv(t,n){return t.pk()||n.pk()?Tv.Kk:t.tc()&&n.tc()?t.mk()===n.mk()?t:Tv.Kk:t.tc()?t:n}Tv.rc=new Tv($i.ZERO,1e6),Tv.Kk=new Tv($i.ZERO,0),Tv.$k=new Tv($i.ONE,0),Tv.tp=new Tv($i.NEG_ONE,0);var Rv,Iv=function(t){function n(n,i){var r;return(r=t.call(this)||this).Cn=BigInt.asIntN(64,n),r.La=i>>>0,r}ct(n,t),n.Jk=function(t,i){return void 0===i&&(i=1e6),n.Sk(t*i,i)},n.Sk=function(t,i){return m(t)?n.Kk:t===1/0?n.$k:t===-1/0?n.tp:new n(BigInt(w.floor(t)),i)},n.Ek=function(t,i){return new n(BigInt(t.high)<<BigInt(32)|BigInt(t.low>>>0),i)},n.np=function(t){return n.Sk(w.round(t.Ma),t.La)},n.ip=function(t){return n.Sk(t.getTime(),1e3)},n.Ha=function(t,n){return t.Va(n)?t:n},n.Xa=function(t,n){return t.qa(n)?t:n},n.rp=function(t,i,r){return n.Ha(i,n.Xa(r,t))};var i=n.prototype;return i.mk=function(){return this.Cn<BigInt(0)},i.Ok=function(){return 0!==this.La&&this.Cn===BigInt(0)},i.tc=function(){return 0===this.La&&this.Cn!==BigInt(0)},i.pk=function(){return 0===this.La&&this.Cn===BigInt(0)},i.Mk=function(){if(0===this.La)return this.Cn===BigInt(0)?NaN:this.Cn<BigInt(0)?-1/0:1/0;var t=this.Cn/BigInt(this.La),n=this.Cn-t*BigInt(this.La);return Number(t)+Number(n)/this.La},i.Bk=function(){if(0===this.La)throw new d("Failed to convert timestamp");return this.fp()},i.fp=function(){var t=this.Cn&BigInt(4294967295),n=this.Cn>>BigInt(32)&BigInt(4294967295);return $i.fromBits(Number(t),Number(n))},i.ep=function(){return new Date(0===this.La?NaN:Number(this.za(1e3).Cn))},i.sp=function(){return new no(0===this.La?this.Mk():Number(this.Cn),this.La)},i.za=function(t,i){void 0===i&&(i=Rv.op);var r=this.La;if(r===t)return this;if(0===r)return this;var e=Zs(r,t);return new n(function(t,n,i){var r=t/n,e=t-r*n;if(e===BigInt(0))return r;if(i===Rv.op)return e<BigInt(0)?r-BigInt(1):r;if(i===Rv.ap)return e<BigInt(0)?r:r+BigInt(1);var u=e*BigInt(2);return u<BigInt(0)?-u<n?r:r-BigInt(1):u<n?r:r+BigInt(1)}(this.Cn*BigInt(t/e),BigInt(r/e),i),t)},i.Za=function(t){if(this===t)return qs.xa;if(0===this.La||0===t.La)return Av(this,t);if(this.Ok())return t.Ok()?qs.xa:t.mk()?qs.Pa:qs.Ba;if(t.Ok())return this.mk()?qs.Ba:qs.Pa;var n=w.min(this.La,t.La),i=this.za(n,Rv.cp).Cn,r=t.za(n,Rv.cp).Cn;return i>r?qs.Pa:i<r?qs.Ba:qs.xa},i.kk=function(){return 0===this.La?Nv(this):new n(-this.Cn,this.La)},i.Wa=function(t){if(0===this.La||0===t.La)return Cv(this,t);if(this.Ok())return t;if(t.Ok())return this;var i=w.max(this.La,t.La),r=this.za(i,Rv.cp),e=t.za(i,Rv.cp);return new n(r.Cn+e.Cn,i)},i.zk=function(t){if(this.pk()||m(t))return n.Kk;if(this.tc()||!isFinite(t)){if(this.Ok()||0===t)return n.Kk;var i=this.mk()?n.tp:n.$k;return t<0?i.kk():i}return this.Ok()?this:new n(0===t?BigInt(0):this.Cn*BigInt(t),this.La)},i.Yk=function(t){if(this.pk()||m(t))return n.Kk;if(this.tc())return isFinite(t)?0===t?1/t<0?this.kk():this:t<0?this.kk():this:n.Kk;if(!isFinite(t))return new n(BigInt(0),this.La);if(this.Ok())return 0===t?n.Kk:new n(BigInt(0),this.La);if(0===t){var i=this.mk()?n.tp:n.$k;return 1/t<0?i.kk():i}return new n(this.Cn/BigInt(t),this.La)},i.hp=function(){var t=this.fp();return[t.low,t.high,this.La]},T(n,null,[{key:"rc",get:function(){return n.vp||(n.vp=new n(BigInt(0),1e6)),n.vp}},{key:"Kk",get:function(){return n.dp||(n.dp=new n(BigInt(0),0)),n.dp}},{key:"$k",get:function(){return n.lp||(n.lp=new n(BigInt(1),0)),n.lp}},{key:"tp",get:function(){return n._p||(n._p=new n(BigInt(-1),0)),n._p}}]),n}(pv);function Nv(t){return t.pk()?t:t.mk()?Iv.$k:Iv.tp}function Cv(t,n){return t.pk()||n.pk()?Iv.Kk:t.tc()&&n.tc()?t.mk()===n.mk()?t:Iv.Kk:t.tc()?t:n}Iv.vp=void 0,Iv.dp=void 0,Iv.lp=void 0,Iv._p=void 0,function(t){t[t.op=0]="op",t[t.ap=1]="ap",t[t.cp=2]="cp"}(Rv||(Rv={}));var Dv=function(){try{return"function"==typeof BigInt&&"bigint"==typeof BigInt(0)}catch(t){return!1}}()?Iv:Tv;function Ov(t,n){return t.Za(n)}function xv(t){return Dv.Ek($i.fromBits(t[0],t[1],!1),t[2])}var Pv=9e4,Bv=w.pow(2,33),Mv=Dv.Sk(Bv,Pv),Lv=Mv.Yk(2);function Uv(t){return null!=t&&!t.pk()}function Fv(t,n){return t.tc()||n.tc()?Dv.Ha(t,n):Xv(t,n).Ga(Dv.rc)?t:n}function Hv(t,n){var i=t.Ka(n);return i.ja(Dv.rc)&&(i=i.Wa(Mv)),i}function Vv(t,n){var i=t.Wa(n);return i.Va(Mv)&&(i=i.Ka(Mv)),i}function Xv(t,n){var i=t.Ka(n);return t.tc()||n.tc()?i:(i.Va(Lv)?i=i.Ka(Mv):i.ja(Lv.kk())&&(i=i.Wa(Mv)),i)}function qv(t,n){if(t||n)return t?n?Dv.Xa(t,n):t:n}function Wv(t,n){if(t||n)return t?n?Dv.Ha(t,n):t:n}var zv={wp:no.rc,gp:no.ec,yp:no.rc},Gv=6,jv=["WEBVTT ","WEBVTT\t","WEBVTT\n"],Qv=[" ","\t","\n","\f","\r"],Yv=/^\d*$/,Zv=/.*[0-9]+.*/,Jv=/^[\d.-]+$/,Kv=/(^\.|\.$)/,$v=/(\D\.|\.\D)/;function td(t,n){void 0===n&&(n=zv);var i={tf:[],mp:[],kp:[]},r=nd(t),e=new Vr;if(fd(r),id(r,function(t){return"\n"!==t},e),e.zs>=r.length)return i;(e.Xs(1),"\n"!==r.charAt(e.zs))?sd(rd(r,e,!1,!0,i,n),i):e.Xs(1);for(id(r,function(t){return"\n"===t},e);e.zs<r.length;){sd(rd(r,e,!1,!1,i,n),i),id(r,function(t){return"\n"===t},e)}return i}function nd(t){var n=fn(t,"\0"," "),i=fn(n,"\r\n","\n");return fn(i,"\r","\n")}function id(t,n,i){for(var r=i.zs;i.zs<t.length&&n(t.charAt(i.zs));)i.Xs(1);return t.substring(r,i.zs)}function rd(t,n,i,e,u,s){for(var o,a=0,c=n.zs,h="",f=!1,v=!1,d=null,l=null,_=null;!f;)if(o=id(t,function(t){return"\n"!==t},n),a++,n.zs>=t.length?f=!0:n.Xs(1),vn(o,"--\x3e")){if(e||1!==a&&(2!==a||v)){n.qs(c);break}v=!0,c=n.zs,d=new lv(0,0,"",!1,h);try{od(o,u.mp,d,s),h=""}catch(t){r.Rc(t),d=null}}else{if(""===o)break;e&&dn(o,"X-TIMESTAMP-MAP")&&(u.pp=ed(o)),e||2!==a||i||(_n("STYLE",h.replace(/ /g,""))?(l={Cu:Zf.Fm},h=""):_n("REGION",h.replace(/ /g,""))&&(_=new kv("",100,3,0,100,0,100,""),h="")),h&&(h+="\n"),h+=o,c=n.zs}if(d)return d.zm=h,d;if(l);else if(_)return function(t,n){for(var i=t.split(/\s/),r=0;r<i.length;r++){var e=i[r];if(0!==e.length&&vn(e,":")&&":"!==e.charAt(0)&&":"!==e.charAt(e.length-1)){var u=e.indexOf(":"),s=e.substring(0,u),o=e.substring(u+1,e.length);switch(s.toUpperCase()){case"ID":Ad(o,n);break;case"WIDTH":Ed(o,n);break;case"LINES":Td(o,n);break;case"REGIONANCHOR":var a=pd(o);a&&(n.dk=a[0],n.lk=a[1]);break;case"VIEWPORTANCHOR":var c=pd(o);c&&(n.wk=c[0],n.gk=c[1]);break;case"SCROLL":bd(o,n)}}}}(h,_),_;return null}function ed(t){var n,i=t.split("=")[1].trim().split(","),r=ud(i[0].trim(),"MPEGTS")?i[0]:i[1],e=ud(i[0].trim(),"LOCAL")?i[0]:i[1];return{Ap:(n=Number(r.split(/:(.*)/)[1].trim())||0,Dv.Sk(n,Pv)),bp:hd(e.split(/:(.*)/)[1].trim(),new Vr)||Dv.rc}}function ud(t,n){return dn(t,n)}function sd(t,n){t&&function(t){return t.Cu===Zf.Lm}(t)?n.tf.push(t):t&&function(t){return t.Cu===Zf.Um}(t)?n.mp.push(t):t&&function(t){return t.Cu===Zf.Fm}(t)&&n.kp.push(t)}function od(t,n,i,r){var e=new Vr;if(vd(t,e),i.qm=ad(hd(t,e).sp(),r).nc,vd(t,e),"--\x3e"!==t.substring(e.zs,e.zs+3))throw d("Something went wrong with parsing a WebVTT Cue");e.Xs(3),vd(t,e),i.Wm=ad(hd(t,e).sp(),r).nc,function(t,n,i){for(var r=t.split(/\s/),e=0;e<r.length;e++){var u=r[e];if(0!==u.length&&vn(u,":")&&":"!==u.charAt(0)&&":"!==u.charAt(u.length-1)){var s=u.indexOf(":"),o=u.substring(0,s),a=u.substring(s+1,u.length);switch(o.toUpperCase()){case"REGION":gd(a,n,i);break;case"VERTICAL":md(a,n);break;case"D":kd(a,n);break;case"LINE":case"L":_d(a,n);break;case"POSITION":case"T":wd(a,n);break;case"SIZE":case"S":yd(a,n);break;case"ALIGN":case"A":ld(a,n)}}}}(t.substring(e.zs,t.length),i,n)}function ad(t,n){return t.Wa(n.wp)}function cd(t){return/^[0-9]$/.test(t)}function hd(t,n){var i,r,e,u=fn(t,",","."),s=!1;if(n.zs>=u.length||!cd(u.charAt(n.zs)))throw new d("Something went wrong with parsing a WebVTT Cue timestamp");var o=id(u,cd,n),a=g(o,10);if((o.length>2||a>59)&&(s=!0),n.zs>=u.length||":"!==u.charAt(n.zs))throw new d("Something went wrong with parsing a WebVTT Cue timestamp");n.Xs(1);var c=id(u,cd,n);if(2!==c.length)throw new d("Something went wrong with parsing a WebVTT Cue timestamp");var h=g(c,10);if(s||n.zs<u.length&&":"===u.charAt(n.zs)){if(n.zs>=u.length||":"!==u.charAt(n.zs))throw new d("Something went wrong with parsing a WebVTT Cue timestamp");n.Xs(1);var f=id(u,cd,n);if(2!==c.length)throw new d("Something went wrong with parsing a WebVTT Cue timestamp");i=a,r=h,e=g(f,10)}else i=0,r=a,e=h;if(n.zs>=u.length||"."!==u.charAt(n.zs))throw new d("Something went wrong with parsing a WebVTT Cue timestamp");n.Xs(1);var v=id(u,cd,n),l=g(v,10);if(h>59||e>59)throw new d("Something went wrong with parsing a WebVTT Cue timestamp");var _=Dv.Sk(60*i*60+60*r+e,1),w=Dv.Sk(l,1e3);return _.Wa(w)}function fd(t){if(t.length<Gv)return!1;for(var n=0;n<jv.length;n++){if(dn(t,jv[n]))return!0}return!1}function vd(t,n){for(;n.zs<t.length&&(i=t.charAt(n.zs),Dn(Qv,i));)n.Xs(1);var i}function dd(t){var n=t.lastIndexOf("%");if(n>-1){var i=y(t.substring(0,n));if(!m(i)&&i>=0&&i<=100)return i}return null}function ld(t,n){var i=t.toLowerCase();switch(i){case"start":case"center":case"end":case"left":case"right":n.Gm=i;break;case"middle":n.Gm="center"}}function _d(t,n){var i=t,r="";if(vn(t,",")&&(i=t.substring(0,t.indexOf(",")),r=t.substring(t.indexOf(",")+1,t.length)),Zv.test(i)){var e;if(ln(i,"%")){var u=dd(i);if(null===u)return;e=u}else{if(!Jv.test(t)||t.lastIndexOf("-")>0||t.indexOf(".")!==t.lastIndexOf(".")||!$v.test(t)||Kv.test(t))return;if(e=y(t),m(e))return}switch(n.jm=e,n.Km=ln(i,"%"),r=t.toLowerCase()){case"start":case"center":case"end":n.Qm=r;break;case"middle":n.Qm="center"}}}function wd(t,n){var i=t,r="";vn(t,",")&&(i=t.substring(0,t.indexOf(",")),r=t.substring(t.indexOf(",")+1,t.length));var e=dd(i);if(null!==e)switch(n.Ym=e,r=r.toLowerCase()){case"line-left":case"center":case"line-right":case"auto":n.Zm=r;break;case"start":n.Zm="line-left";break;case"middle":n.Zm="center";break;case"end":n.Zm="line-right"}}function gd(t,n,i){for(var r=i.length-1;r>=0;r--)if(i[r].Hh===t)return void(n.Jm=i[r])}function yd(t,n){var i=dd(t);null!==i&&(n.Hs=i)}function md(t,n){switch(t.toLowerCase()){case"rl":case"vertical:rl":case"vertical-rl":n.$m="rl";break;case"lr":case"vertical:lr":case"vertical-lr":n.$m="lr";break;default:n.$m=""}}function kd(t,n){"VERTICAL"===t.toUpperCase()?n.$m="rl":"VERTICAL-LR"===t.toUpperCase()&&(n.$m="lr")}function pd(t){if(t.indexOf(",")>=0){var n=dd(t.substring(0,t.indexOf(","))),i=dd(t.substring(t.indexOf(",")+1,t.length));return[zs(n||0,0,100),zs(i||100,0,100)]}return null}function Ad(t,n){n.Hh=t}function bd(t,n){"up"===t.toLowerCase()&&(n._k="up")}function Td(t,n){Yv.test(t)&&(n.vk=g(t))}function Ed(t,n){var i=dd(t);null!==i&&(n.wc=i)}function Sd(t){return t&&"Un"in t?t.Un:t}var Rd=function(t){function n(n,i,r,e,u,s,o,a){var c;return(c=t.call(this,n,i,r,e,o)||this).Tp=u,c.Ep=s,c.Sp=a||void 0,c}return ct(n,t),n.prototype.Ja=function(n){return this===n||!!zo(this,n)&&(!!t.prototype.Ja.call(this,n)&&(!!Wo(this.Rp,n.Rp)&&(!!Wo(this.mp,n.mp)&&(this.Ip&&n.Ip?!!this.Ip.Tn(n.Ip)&&(this.zm&&n.zm?this.zm.Tn(n.zm):this.zm===n.zm):this.Ip===n.Ip))))},T(n,[{key:"Rp",get:function(){return this.Tp}},{key:"mp",get:function(){return this.Ep}},{key:"Ip",get:function(){return this.Sp}},{key:"Jc",get:function(){var t;return this.Zc||(this.Zc=Xo(ov(t=this),{get styles(){return t.Rp},get regions(){return t.mp},get metadata(){return Sd(t.Ip)},get content(){return Sd(t.zm)}})),this.Zc}}]),n}(vv),Id=function(){function t(t,n,i){this.Np=t,this.Cp=n,ht(i)?this.Dp=function(t,n,i){for(var r=0,e=["begin","end","dur"];r<e.length;r++){var u=e[r];i.Xn(u)}return i}(0,0,i):this.Dp=i}return T(t,[{key:"Op",get:function(){return this.Dp.En(!0)}},{key:"qm",get:function(){return this.Np}},{key:"Wm",get:function(){return this.Cp}}]),t}();var Nd={VIDEO_H264:"video/avc",VIDEO_H265:"video/hevc",VIDEO_MP4:"video/mp4",VIDEO_MPEG:"video/mpeg",VIDEO_MPEG2:"video/mpeg2",VIDEO_UNKNOWN:"video/x-unknown",AUDIO_AAC:"audio/mp4a-latm",AUDIO_MP4:"audio/mp4",AUDIO_UNKOWN:"audio/x-unknown",IMAGE_JPEG:"image/jpeg",APPLICATION_TTML_XML:"application/ttml+xml",APPLICATION_MP4:"application/mp4",TEXT_VTT:"text/vtt"};function Cd(t){return vn(t,Nd.APPLICATION_MP4)||vn(t,Nd.VIDEO_MP4)||vn(t,Nd.AUDIO_MP4)}var Dd=function(){function t(t,n){this.Cu=t,this.xp=n}return t.prototype.Pp=function(t){for(var n=0,i=this.xp;n<i.length;n++){var r=i[n],e=r[0],u=r[1];if(e.toLowerCase()===t.toLowerCase())return u}},t}();function Od(t){var n=t.trim(),i=n.indexOf(";");if(i<0)return new Dd(n,[]);for(var r=n.substr(0,i).trim(),e=n.substr(i+1).trim(),u=[],s=0,o=!1,a=0;a<e.length;a++){var c=e[a];if(o||";"!==c)'"'===c&&(o=!o);else{var h=xd(e.substr(s,a));h&&u.push(h),s=a+1}}if(s!==e.length){var f=xd(e.substr(s));f&&u.push(f)}return new Dd(r,u)}function xd(t){var n=t.indexOf("=");if(!(n<0)){var i=t.substr(0,n).trim(),r=t.substr(n+1).trim();return'"'===r[0]&&(r=r.substring(1,r.length-1)),[i,r]}}var Pd="http://www.w3.org/XML/1998/namespace";function Bd(t,n){return function(t,n){var i=t.Fn.slice(),r=[];for(;i.length>0;){var e=i.shift();n(e)?r.push(e):i.push.apply(i,e.Fn)}return r}(t,function(t){return t.Bn===n})}function Md(t,n){for(var i=t,r=0;r<n.length;r++){var e=n[r];i=i.replace(e+":","")}return i}function Ld(t,n){for(var i=t.Gn,r={},e=0;e<i.length;e++)r[Md(i[e].Rn,n)]=i[e].Cn;return r}var Ud=/^(\d\d+):(\d\d):(\d+)((\.(\d+))?|(:(\d\d+)(\.(\d+))?))$/,Fd=/^(\d+)(\.(\d+))?(h|m|s|ms|f|t)$/;function Hd(t,n,i){return void 0===i&&(i=zv),function(t,n,i){var e=[],u=r.An(t);if(!u)return e;var s=u.Yn;if("tt"!==s.Bn)return e;var o=s&&s.xn("head")[0],a=s&&s.xn("body")[0],c=["ebutts","tts","xml"];if(!a||!o)return e;for(var h=function(t,n){for(var i={},r=t.xn("styling")[0],e=r&&r.xn("style")||[],u=0;u<e.length;u++){var s=e[u],o=s.Vn(Pd,"id");i[o]=Ld(s,n)}return i}(o,c),f=function(t,n){var i=qo(t),r=Wd(n.Hn("tts:extent"));if(!r)return i;for(var e=0,u=_.keys(i);e<u.length;e++){var s=u[e],o=Wd(i[s].extent);if(o){var a=Xd(o[0],r[0]),c=Xd(o[1],r[1]);i[s].extent=a+" "+c}var h=Wd(i[s].origin);if(h){var f=Xd(h[0],r[0]),v=Xd(h[1],r[1]);i[s].origin=f+" "+v}}return i}(function(t,n){for(var i={},r=t.xn("layout")[0],e=r&&r.xn("region")||[],u=0;u<e.length;u++){var s=e[u],o=s.Vn(Pd,"id");if(o){i[o]=Ld(s,n);var a=jd(s,n);for(var c in a)B.call(a,c)&&(i[o][c]=a[c])}}return i}(o,c),s),v=o.xn("metadata")[0],d=function t(n,i,r,e){var u=i;var s;var o=r;var a=[];var c=[];if(ht(n)){u=Gd(n.Hn("begin"),e)||u,s=Gd(n.Hn("dur"),no.rc),o=Gd(n.Hn("end"),e)||s&&u.Wa(s)||o;for(var h=n.Pn,f=0;f<h.length;f++)("body"===n.Sn||"div"===n.Sn)&&h[f].wn>1||(a=a.concat(t(h[f],u,o,e)))}var v=function(t,n,i){var r=[];r.push(t,n);for(var e=0;e<i.length;e++){var u=i[e];r.push(u.qm,u.Wm)}r.sort(io);for(var s=r.length,o=0;o<s-1;o++)r[o+1].Ja(r[o])&&(Cn(r,o+1),o--,s=r.length);return r}(u,o,a);for(var d=0;d<v.length-1;d++){var l=zd(v[d],v[d+1],a);if(l.length<=0&&Qd(n)){var _=n.En(!1);c.push(new Id(v[d],v[d+1],_))}else l.length>0&&function(){var t=n.En(!1);l.forEach(function(n){return t.Ln(n.Op)}),c.push(new Id(v[d],v[d+1],t))}()}return c}(a,i.wp,i.gp,i.yp),l=0;l<d.length;l++){var w=d[l],g=Vd(f,w);e.push(new Rd(w.qm.nc,w.Wm.nc,w.Op,!1,h,g,(zf++).toString(),v))}return e}(t,0,i)}function Vd(t,n){for(var i=function t(n){var i=[];var r;if(ht(n)){(r=n.Hn("region"))&&i.push(r);for(var e=n.Pn,u=0;u<e.length;u++)i=i.concat(t(e[u]))}return i}(n.Op),r={},e=0;e<i.length;e++){var u=i[e];r[u]=t[u]}return r}function Xd(t,n){var i=qd(t),r=qd(n);if(i&&r&&i===r){var e=Number(t.slice(0,-i.length)),u=Number(n.slice(0,-r.length));return m(e)||m(u)?t:e/u*100+"%"}return t}function qd(t){return ln(t,"px")?"px":ln(t,"em")?"em":ln(t,"c")?"c":ln(t,"%")?"%":void 0}function Wd(t){if(t){var n=t.split(" ");if(2===n.length)return[n[0],n[1]]}}function zd(t,n,i){for(var r=[],e=0;e<i.length;e++){var u=i[e].qm,s=i[e].Wm;(u.Va(t)&&s.qa(n)||u.ja(n)&&s.Va(n)||u.qa(t)&&s.Ga(t))&&r.push(i[e])}return r}function Gd(t,n){if(t){if(Ud.test(t)){var i=Ud.exec(t);if(!i)return;var r=Number(i[1])||0,e=Number(i[2])||0,u=Number(i[3])||0,s=i[6],o=s?Number(s)*w.pow(.1,s.length):0;return new no(3600*r+60*e+u+o).Ka(n)}if(Fd.test(t)){var a=Fd.exec(t);if(!a)return;var c,h=Number(a[1]);switch(a[4]){case"h":c=3600*h;break;case"m":c=60*h;break;case"s":c=h;break;case"ms":c=.001*h;break;case"f":case"t":default:c=NaN}return new no(c).Ka(n)}}}function jd(t,n){for(var i={},r=t.xn("style")||[],e=0;e<r.length;e++){var u=Ld(r[e],n);for(var s in u)B.call(u,s)&&(i[s]=u[s])}return i}function Qd(t){if(ht(t)){var n=t.Sn.toUpperCase(),i=Boolean(t.Hn("smpte:backgroundImage"));return"BR"===n||i}return t.wn===it.yn}function Yd(t){var n=function(t){var n=r.An(t);if(n)return n.Yn}(t);return"tt"===(null==n?void 0:n.Sn)}var Zd,Jd,Kd=function(t){function n(){return t.apply(this,arguments)||this}ct(n,t);var i=n.prototype;return i.Th=function(n){return t.prototype.Th.call(this,n)},i.Eh=function(n){var i=t.prototype.Eh.call(this,n);return i&&(n.Kh=ea.jh),i},i.Kc=function(){return fa(this)},n}(Mo),$d=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).P_=new Kd,n.Bp=function(t){t.$c.Kh!==ea.jh?n.Mp(t.$c):n.Lp(t.$c)},n}ct(n,t);var i=n.prototype;return i.Th=function(t){t.ls(No.fh,this.Bp),this.P_.Th(t)},i.Eh=function(t){t.ys(No.fh,this.Bp),t.Kh=ea.jh,this.P_.Eh(t)},i.Mp=function(t){},i.Lp=function(t){},i.Up=function(){for(var t=0,n=this.P_.Nh;t<n.length;t++){var i=n[t];i.ys(No.fh,this.Bp),i.Ih()}},i.Rh=function(){return this.Up(),this.P_.Rh(),Ct.resolve()},i.Ih=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.gs(),t.next=3,this.Rh();case 3:this.P_.Ih();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n}(ii);!function(t){t.Fp="arraybuffer",t.Hp="json",t.Vp="stream",t.yn="text",t.Xp="blob",t.pn="document"}(Zd||(Zd={})),function(t){t.Fp=Zd.Fp,t.Hp=Zd.Hp,t.Vp=Zd.Vp,t.yn=Zd.yn}(Jd||(Jd={}));var tl,nl,il,rl,el=function(){function t(n){var i=this;this.Tu={},n instanceof t?n.asList().forEach(function(t){var n=t[0],r=t[1];i.append(n,r)}):Array.isArray(n)?n.forEach(function(t){i.append(t[0],t[1])}):n&&_.getOwnPropertyNames(n).forEach(function(t){i.append(t,n[t])})}var n=t.prototype;return n.append=function(t,n){var i=t,r=n;i=ul(i),r=sl(r);var e=i.toLowerCase();if(this.Tu.hasOwnProperty(e)){var u=this.Tu[e],s=u[1];u[1]=s?s+", "+r:r}else this.Tu[e]=[i,r]},n.delete=function(t){var n=ul(t).toLowerCase();delete this.Tu[n]},n.get=function(t){var n=ul(t).toLowerCase();return this.Tu.hasOwnProperty(n)?this.Tu[n][1]:null},n.has=function(t){var n=ul(t).toLowerCase();return this.Tu.hasOwnProperty(n)},n.set=function(t,n){var i=t,r=(i=ul(i)).toLowerCase();this.Tu[r]=[i,sl(n)]},n.forEach=function(t,n){for(var i in this.Tu)this.Tu.hasOwnProperty(i)&&t.call(n,this.Tu[i][1],i,this)},n.asList=function(){var t=[];for(var n in this.Tu)if(this.Tu.hasOwnProperty(n)){var i=this.Tu[n],r=i[0],e=i[1];t.push([r,e])}return t},n.qp=function(){var t={};return this.forEach(function(n,i){t[i]=n}),t},n.Wp=function(t){var n=this;t.forEach(function(t,i){n.append(i,t)})},n.zp=function(t){var n=this;t.forEach(function(t,i){n.set(i,t)})},t}();function ul(t){var n=t;if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(n))throw new l("Invalid character in header field name");return n}function sl(t){var n=t;return"string"!=typeof n&&(n=String(n)),n}!function(t){t.DELETE="DELETE",t.GET="GET",t.HEAD="HEAD",t.OPTIONS="OPTIONS",t.POST="POST",t.PUT="PUT"}(tl||(tl={})),function(t){t.Ty="",t.Gp="manifest",t.jp="segment",t.Qp="content-protection"}(nl||(nl={})),function(t){t.Ty="",t.Yp="initialization-segment",t.Zp="fairplay-license",t.Jp="fairplay-certificate",t.Kp="widevine-license",t.$p="widevine-certificate",t.tA="playready-license",t.nA="clearkey-license",t.iA="aes128-key"}(il||(il={})),function(t){t.Ty="",t.$l="audio",t.Kl="video",t.yn="text",t.by="image"}(rl||(rl={}));var ol,al,cl=function(t,n){var i,r,e,u,s,o,a,c,h,f,v,d=t.rA;n?(i=n.eA,r=n.uA,e=n.sA,u=n.oA,s=n.aA,o=n.cs,a=n.Cu,c=n.cA,h=n.hA,f=n.fA,v=n.vA):(i=null,r={},e=tl.GET,u=Jd.yn,s=0,a=nl.Ty,c=il.Ty,h=rl.Ty,f=!1),this.rA=d,this.eA=t.eA||i,this.uA=new el(t.uA||r),this.sA=t.sA||e,this.oA=t.oA||u,this.aA=void 0!==t.aA?Number(t.aA)||0:s,this.cs=t.cs||o||(new Ln).cs,this.Cu=t.Cu||a,this.cA=t.cA||c,this.hA=t.hA||h,this.fA=void 0!==t.fA?Boolean(t.fA):f,this.vA=t.vA||v},hl=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n,i,u)||this).url=r,s.status=e,s}return ct(n,t),n}(de);function fl(t){switch(t.name){case ol.dA:case ol.lA:case ol._A:return!0;default:return!1}}function vl(t){return vn(t,al.wA)}function dl(t){return t.some(ll)}function ll(t){return vn(t,al.gA)||vn(t,al.Fl)}function _l(t,n){return Cd(t)&&dl(n)}function wl(t,n){return!!t&&(Cd(t)?function(t){return t.some(vl)}(n)||dl(n):vn(t,Nd.APPLICATION_TTML_XML)||vn(t,Nd.TEXT_VTT)||vn(t,Nd.IMAGE_JPEG))}function gl(t,n){return t===cf.Tm||t===cf.n_&&n===cf.Tm}function yl(t,n,i,r){for(var e=0,u=t.tf.Nh;e<u.length;e++){var s=u[e];if(s.qm>i)break;n<=s.Wm&&r.push(s)}}function ml(t,n){return Js(t.Vh,n.Vh)}function kl(t,i){var r=i,e=0;if(fl(t)&&t.name===ol.dA)r=t.yA.rA;else if(t.name===ol.lA){var u=t.mA;if(r=u.kA,0===(e=u.pA))return new hl(n.ErrorCode.SUBTITLE_CORS_ERROR,"Could not load the subtitle file. Make sure the source is set correctly and that CORS support is enabled.",r,e,t)}return new hl(n.ErrorCode.SUBTITLE_LOAD_ERROR,"Could not load the subtitle file.",r,e,t)}function pl(t){switch(t){case qh.WEBVTT:return"WebVTT";case qh.SRT:return"SRT";case qh.TTML:return"TTML";default:return""}}function Al(t){return fd(nd(t))?qh.WEBVTT:Yd(t)?qh.TTML:qh.SRT}!function(t){t.dA="HttpOpenError",t.lA="HttpResponseError",t._A="HttpTimeoutError"}(ol||(ol={})),function(t){t.gA="vtt",t.Fl="wvtt",t.wA="stpp"}(al||(al={}));var bl=function(t){function n(n){var i;return(i=t.call(this,ua.Zh)||this).errorObject=n,i}return ct(n,t),n.prototype.Kc=function(){return this},T(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(Io),Tl=function(t){function i(n,i){var r;return(r=t.call(this)||this).AA=new Ln,r.bA=n,r.TA=i,r}ct(i,t);var r=i.prototype;return r.EA=function(t){if(t.src){var n=t.kind||cf.km,i=this.bA.SA(n,t.label,t.srclang,t.default);return i.if=Us(t.src),this.Th(i),i}},r.RA=function(){var t=Ct.coroutine(Nt.mark(function t(i,r){var e,u,s,o,a,c,h,f,v,d,l;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i.$h=Yf.LOADING,e=new cl({rA:i.if,oA:Zd.yn,sA:tl.GET,cs:r}),t.prev=2,t.next=5,this.TA.yA(e);case 5:return o=t.sent,s=o.pA,t.next=9,o.IA();case 9:u=t.sent,t.next=18;break;case 12:return t.prev=12,t.t0=t.catch(2),Vn(t.t0),i.$h=Yf.ERROR,i.vs(new bl(kl(t.t0,i.if))),t.abrupt("return");case 18:for(t.prev=18,a=Al(u),i.Cu=a,c=[],a===qh.WEBVTT||a===qh.SRT?(h=td(u),c=h.tf):a===qh.TTML&&(c=Hd(u)),f=0,v=c;f<v.length;f++)d=v[f],i.NA(d);t.next=33;break;case 26:return t.prev=26,t.t1=t.catch(18),Vn(t.t1),i.$h=Yf.ERROR,l=pl(i.Cu),i.vs(new bl(new hl(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Could not parse the "+l+(l?" ":"")+"subtitle file.",i.if,s,t.t1))),t.abrupt("return");case 33:i.$h=Yf.LOADED;case 34:case"end":return t.stop()}},t,this,[[2,12],[18,26]])}));return function(n,i){return t.apply(this,arguments)}}(),r.Mp=function(t){Dn(this.P_.Nh,t)&&t.$h===Yf.NONE&&this.RA(t,this.AA.cs).catch(Xn)},r.do=function(){},r.Rh=function(){var n=Ct.coroutine(Nt.mark(function n(){var i,r,e;return Nt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(this.AA.ss(),this.AA=new Ln,i=0,r=this.P_.Nh;i<r.length;i++)e=r[i],this.bA.CA(e);return n.next=5,t.prototype.Rh.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i}($d);function El(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.Xh===n&&r.DA)return r}}function Sl(t,n){Rl(El(t.Nh,n))}function Rl(t){void 0!==t&&(t.Kh=ea.Yh)}function Il(t,n){Rl(El(t.Nh,n)||function(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.Xh===n)return r}}(t.Nh,n))}function Nl(t){for(var n=0;n<bf.length;n++){var i=bf[n];i===cf.bm?Il(t,i):Sl(t,i)}}var Cl=function(t){function n(){return t.call(this,ka.Vf)||this}return ct(n,t),n}(ei),Dl=function(){function t(t){var n=this;this.OA=[],this.xA=void 0,this.PA=new Ln,this.qr=function(){return 0===n.OA.length?n.BA?Ol(n.BA,n.PA.cs).then(n.MA,n.MA):n.MA():n.OA.shift()().then(n.qr)},this.MA=function(){if(0!==n.OA.length)return n.qr();n.xA=void 0},this.BA=t}var n=t.prototype;return n.LA=function(t,n){var i=this;return new Ct(function(r){var e=new Ln;e.os(i.PA.cs),n&&e.os(n);var u=function(){e.$u()};i.OA.push(function(){var n=Ol(t,e.cs);return r(n),n.then(u,u)}),i.xA||(i.xA=i.qr())})},n.ss=function(){return this.UA(!0)},n.Ih=function(){return this.BA=void 0,this.UA(!1)},n.UA=function(t){var n=this.xA;return this.PA.ss(),t&&(this.PA=new Ln),Ct.resolve(n)},t}();function Ol(t,n){return new Ct(function(i){return i(t(n))})}var xl=function(t){function n(n){var i;return(i=t.call(this,ka.Af)||this).errorObject=n,i}return ct(n,t),T(n,[{key:"error",get:function(){return this.errorObject.message}},{key:"licenseAcquisitionURL",get:function(){return this.errorObject.url}},{key:"status",get:function(){return this.errorObject.status}},{key:"statusText",get:function(){return this.errorObject.statusText}},{key:"licenseAcquisitionMessage",get:function(){return this.errorObject.response}},{key:"systemCode",get:function(){return this.errorObject.systemCode}}]),n}(ei),Pl=function(t){function n(n){var i;return(i=t.call(this)||this).FA=void 0,i.PA=new Ln,i.HA=n,i}ct(n,t);var i=n.prototype;return i.VA=function(t){t&&(this.FA=t,this.XA(this.PA.cs).catch(Xn))},i.XA=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i,r,e,u,s,o,a,c;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=this.FA,r=!1,e=0,u=i.qA;case 3:if(!(e<u.length)){t.next=25;break}s=u[e],o=0,a=s.WA;case 6:if(!(o<a.length)){t.next=20;break}return c=a[o],t.prev=8,t.next=11,this.zA(s.Co.Ou,c,n);case 11:r=!0,t.next=17;break;case 14:t.prev=14,t.t0=t.catch(8),Vn(t.t0);case 17:o++,t.next=6;break;case 20:if(!r){t.next=22;break}return t.abrupt("break",25);case 22:e++,t.next=3;break;case 25:case"end":return t.stop()}},t,this,[[8,14]])}));return function(n){return t.apply(this,arguments)}}(),i.GA=function(t,n){return this.zA(t,n,this.PA.cs)},i.Rh=function(){return this.FA=void 0,this.PA.ss(),this.PA=new Ln,this.jA()},i.Ih=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.gs(),t.next=3,this.Rh();case 3:this.PA.$u();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.QA=function(t,n){if(!this.FA)return!1;var i=Nh(t,n);return Boolean(i[$t])},T(n,[{key:"Co",get:function(){return this.YA()}}]),n}(ii),Bl=function(t){function n(n){var i;return(i=t.call(this,ua.Zh)||this).errorObject=n,i}return ct(n,t),T(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(ei),Ml=function(t){function n(){return t.call(this,ka.bf)||this}return ct(n,t),n}(ei),Ll=function(t){function n(n){var i;return(i=t.call(this,"$f")||this).ZA=n,i}return ct(n,t),n}(ei),Ul=new Dl,Fl=function(t){function i(i,e,u,s,o){var a;return(a=t.call(this)||this).JA=i,a.KA=e,a.Ou=u,a.xs=s,a.$A=o,a.uu=!1,a.nb=!1,a.PA=new Ln,a.so=function(t){switch(t.Ss){case"license-request":a.ib(t.Es,t.Rs).catch(function(t){return a.Ho(t)});break;default:a.Ho(new Ac(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Unsupported CDM message type: "+t.Ss))}},a.rb=function(t){a.JA.ko.Ls(function(t,n){switch(t){case"usable":r._n(function(){a.nb=!0,a.vs(new Ml)},100);break;case"expired":case"status-pending":break;case"output-restricted":case"internal-error":a.vs(new Ll(n))}})},a.eb=function(t){a.Ho(new Ac(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Unknown CDM error"))},i.ls("Es",a.so),i.ls("Ts",a.rb),i.ls("Is",a.eb),a.yo=i.yo.then(function(){return a.ub()}),a}ct(i,t);var e=i.prototype;return e.vo=function(){var t=this;return this.uu=!0,Ul.LA(function(n){return t.sb(n)},this.PA.cs)},e.sb=function(){var t=Ct.coroutine(Nt.mark(function t(i){var r,e,u;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,Hn(i),t.next=4,this.KA.ob(this.xs);case 4:return r=t.sent,t.next=7,this.JA.vo(this.Ou,this.xs,r);case 7:if(!this.KA.ab){t.next=10;break}return t.next=10,this.KA.As("persistenttokenavailable",i);case 10:t.next=19;break;case 12:throw t.prev=12,t.t0=t.catch(0),Vn(t.t0),e=t.t0 instanceof Qr?t.t0.to:void 0,u=new Ac(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while performing the CDM request",t.t0,void 0,void 0,void 0,void 0,e),this.Ho(u),u;case 19:case"end":return t.stop()}},t,this,[[0,12]])}));return function(n){return t.apply(this,arguments)}}(),e.ib=function(){var t=Ct.coroutine(Nt.mark(function t(i,r){var e,u;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r&&this.KA.cb(r),t.prev=1,!zr(i)){t.next=8;break}return t.next=5,this.KA.hb(new k(i),this.PA.cs);case 5:e=t.sent,t.next=11;break;case 8:return t.next=10,this.KA.fb(new k(i),this.PA.cs);case 10:e=t.sent;case 11:t.next=18;break;case 13:if(t.prev=13,t.t0=t.catch(1),!Fn(t.t0)){t.next=17;break}return t.abrupt("return");case 17:throw t.t0;case 18:return t.prev=18,t.next=21,this.JA._o(e);case 21:t.next=27;break;case 23:throw t.prev=23,t.t1=t.catch(18),u=t.t1 instanceof Qr?t.t1.to:void 0,new Ac(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while applying license response",t.t1,void 0,void 0,void 0,void 0,u);case 27:case"end":return t.stop()}},t,this,[[1,13],[18,23]])}));return function(n,i){return t.apply(this,arguments)}}(),e.Ho=function(t){var i=t instanceof Ac?t:new Ac(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.vs(new xl(i)),this.fo()},e.ub=function(){this.JA.ys("Es",this.so),this.JA.ys("Ts",this.rb),this.JA.ys("Is",this.eb),this.nb=!1,this.PA.ss()},e.fo=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.gs(),this.ub(),t.next=4,this.JA.fo().catch(j);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i}(ii),Hl=[ka.bf,ka.Af,ka.Kf],Vl=function(t){function n(n,i,r){var e;(e=t.call(this)||this).vb=[],e.Ao=n,e.HA=r,e.lb=i;var u=i._b;return u&&Qn(n.To(u)),e}ct(n,t);var i=n.prototype;return i.wb=function(){return this.gb||(this.gb=this.yb()),this.gb},i.yb=function(){var t=Ct.coroutine(Nt.mark(function t(){var n;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.lb.hb(new k(Wr()));case 2:return n=t.sent,t.next=5,this.Ao.To(n.buffer);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.mb=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r){var e,u,s=this;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Ao.bo("temporary");case 2:return e=t.sent,u=new Fl(e,this.lb,n,i,r),this.vb.push(u),u.ls(Hl,this.fs),u.yo.then(function(){return s.kb(u)}),t.abrupt("return",u);case 8:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.pb=function(t,n,i){if(i)return!1;for(var r=0,e=this.vb;r<e.length;r++){var u=e[r];if(!u.$A&&u.Ou===t&&Ai(u.xs,n))return!0}return!1},i.kb=function(t){t.ys(Hl,this.fs),Nn(this.vb,t)},i.Ih=function(){var t=Ct.coroutine(Nt.mark(function t(){var n;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.gs(),n=this.vb.slice(),this.vb.length=0,t.next=5,Ct.all(n.map(function(t){return t.fo()}));case 5:this.lb.Ih();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),T(n,[{key:"Ab",get:function(){return this.lb.Ab}},{key:"Co",get:function(){return this.lb.Co}},{key:"bb",get:function(){return this.lb.bb}},{key:"Tb",get:function(){return this.lb.Tb}},{key:"Eb",get:function(){return this.lb.Eb}}]),n}(ii),Xl=function(t){function n(){return t.call(this,"persistenttokenavailable")||this}return ct(n,t),n}(ei),ql=function(t){function i(n,i,r,e,u){var s;return(s=t.call(this)||this).Sb=void 0,s.Co=n,s.Ab=i,s.Tb=r,s.TA=e,s.Rb=u,s.bb=s.Ib(i),s}ct(i,t);var e=i.prototype;return e.Nb=function(){return this.Sb},e.cb=function(t){this.Sb=t},e.Cb=function(){return this.bb.licenseAcquisitionURL||this.Nb()},e.ob=function(t){return Ct.resolve(void 0)},e.Db=function(){var t=Ct.coroutine(Nt.mark(function t(i,r,e,u){var s,o;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==(s=this.Ob(i,r,e,u)).rA){t.next=3;break}throw new Ac(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 3:return t.prev=3,t.next=6,this.xb.yA(s);case 6:return o=t.sent,t.next=9,o.Pb(r);case 9:return t.abrupt("return",t.sent);case 12:return t.prev=12,t.t0=t.catch(3),Vn(t.t0),t.next=17,this.Bb(t.t0,s.rA,u);case 17:return t.abrupt("return");case 18:case"end":return t.stop()}},t,this,[[3,12]])}));return function(n,i,r,e){return t.apply(this,arguments)}}(),e.Ob=function(t,n,i,r){var e=this.Mb().qp(),u=this.fA,s={rA:this.Lb(),oA:n,uA:e,eA:t,fA:u,sA:tl.POST,aA:0,cs:r,Cu:nl.Qp,cA:i};return new cl(s)},e.ib=function(t,n){return Ct.resolve(t)},e.Ub=function(t,n,i,r){return Ct.resolve(t)},e.Mb=function(){return new el(this.bb.headers||{})},e.Bb=function(){var t=Ct.coroutine(Nt.mark(function t(i,r,e){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:throw new Ac(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during license server request",i);case 1:case"end":return t.stop()}},t)}));return function(n,i,r){return t.apply(this,arguments)}}(),e.Lb=function(t,n){var i=n,e=this.bb.queryParameters;if(!i){var u=this.Cb();if(!u)return"";i=u}if(e||t){var s=r.Oa(i);t&&Ls(s,t),e&&Ls(s,e),i=s.href}return i},e.Fb=function(t){return function(t,n){var i=n.licenseResponseProcessor;return Ct.resolve(new k(Wl(t,i)))}(t,this.bb)},e.Hb=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r){var e,u,s;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Vb(n,r);case 2:return e=t.sent,t.next=5,this.Db(e,this.Rb,i,r);case 5:return u=t.sent,t.next=8,this.Fb(u);case 8:return s=t.sent,t.abrupt("return",s);case 10:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),e.Ih=function(){this.gs()},T(i,[{key:"xb",get:function(){return this.TA}},{key:"ab",get:function(){return!1}},{key:"_b",get:function(){var t=this.bb.certificate;if(t)return X(t)?gi(t):Ur(t)}},{key:"Xb",get:function(){return"optional"}},{key:"Do",get:function(){return!1}},{key:"Eb",get:function(){return!1}},{key:"fA",get:function(){return Boolean(this.bb.useCredentials)}}]),i}(ii);function Wl(t,i){if(!t||!i||"function"!=typeof i)return t;try{return i(t)}catch(t){throw new Ac(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error while preprocessing DRM data",t)}}function zl(t,n){var i=Hr(t).buffer,r=n.licenseRequestProcessor;return Ct.resolve(Wl(i,r))}var Gl,jl=function(t){function n(n,i,r,e){return t.call(this,sn,n,i,r,e)||this}ct(n,t);var i=n.prototype;return i.Ib=function(t){return t.widevine||{}},i.hb=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._b){t.next=2;break}return t.abrupt("return",this._b);case 2:return t.abrupt("return",this.fb(new k(n),i));case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.fb=function(n,i){return t.prototype.Hb.call(this,n,il.Kp,i)},n}(ql);!function(t){t.Su="Widevine",t.Eu="PlayreadyV2",t.qb="PlayreadyV2",t.Wb="PlayreadyV3",t.Ru="Fairplay"}(Gl||(Gl={}));var Ql={Widevine:{DRMProvider:"Google",DRMVersion:"1.4.8.86",DRMType:"Widevine"},PlayreadyV2:{DRMProvider:"Microsoft",DRMVersion:"2.9",DRMType:"Playready"},PlayreadyV3:{DRMProvider:"Microsoft",DRMVersion:"3",DRMType:"Playready"},Fairplay:{DRMProvider:"Apple",DRMType:"FairPlay",DRMVersion:"1.0"}};function Yl(t,n){var i,e,u,s,o=Ql[n],a=t.accountName;return{CustomerName:t.customerName,AccountName:a,PortalId:t.portalId,FriendlyName:t.friendlyName,DeviceInfo:{FormatVersion:"1",DeviceType:"PC",OSType:null===(i=r.xc)||void 0===i?void 0:i.Pc,OSVersion:null===(e=r.xc)||void 0===e?void 0:e.qc,DRMProvider:o.DRMProvider,DRMVersion:o.DRMVersion,DRMType:o.DRMType,DeviceVendor:null===(u=r.xc)||void 0===u?void 0:u.Wc,DeviceModel:null===(s=r.xc)||void 0===s?void 0:s.zc}}}function Zl(t,i){if(!t.accountName)throw new Ac(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, accountName is not set.");if(!t.customerName)throw new Ac(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, customerName is not set.");if(!t.portalId)throw new Ac(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, portalId is not set.");throw new Ac(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration.")}function Jl(t,n,i){var r;if(Ah(t))r={AuthToken:t.authToken,Payload:n};else{if(!bh(t))throw Zl(t,i);r={LatensRegistration:Yl(t,i),Payload:n}}return Si(JSON.stringify(r))}function Kl(t,n,i){return $l.apply(this,arguments)}function $l(){return($l=Ct.coroutine(Nt.mark(function t(i,r,e){var u,s,o,a;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u=i.mA){t.next=3;break}throw new Ac(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",i,r);case 3:return s=u,t.prev=4,t.next=7,s.zb(e);case 7:o=t.sent,a=t_(o),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),a="";case 14:throw new Ac(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",i,s.yA.rA,s.pA,s.Gb,a);case 15:case"end":return t.stop()}},t,null,[[4,11]])}))).apply(this,arguments)}function t_(t){if(t){if(t.WvProxyErr)return t.WvProxyErr.desc;if(t.DrmErr)return t.DrmErr.desc}}var n_=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r,Jd.Hp)||this).jb=!0,e}ct(i,t);var r=i.prototype;return r.Bb=function(t,n,i){return Kl(t,n,i)},r.Vb=function(){var t=Ct.coroutine(Nt.mark(function t(i,r){var e,u;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.Ab){t.next=3;break}throw new Ac(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Widevine DRM configuration.");case 3:return u=mi(i),t.abrupt("return",Jl(e,u,Gl.Su));case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.Fb=function(t){var i;if(!t.license)throw new Ac(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Widevine license server");return i=gi(t.license),Ct.resolve(i)},r.Qb=function(t){return Ct.resolve(new k(t))},r.hb=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r,e;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Yb(),t.next=3,this.Vb(n,i);case 3:return r=t.sent,t.next=6,this.Db(r,Jd.Fp,il.$p,i);case 6:return e=t.sent,t.next=9,this.Qb(e);case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.fb=function(){var n=Ct.coroutine(Nt.mark(function n(i,r){var e;return Nt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.fb.call(this,i,r);case 2:return e=n.sent,this.Yb(),n.abrupt("return",e);case 5:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),r.Yb=function(){this.vs(new Xl),this.jb=!1},T(i,[{key:"ab",get:function(){return this.jb}},{key:"Xb",get:function(){return"required"}}]),i}(jl),i_=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r,Jd.Fp)||this).cb("https://widevine-proxy.drm.technology/proxy"),e}return ct(i,t),i.prototype.Vb=function(){var t=Ct.coroutine(Nt.mark(function t(i,r){var e,u,s,o;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,zl(i,this.bb);case 2:if(e=t.sent,u=this.Tb,r=new k(e),s=[].slice.call(r),o=this.Zb){t.next=8;break}throw new Ac(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The Widevine vuDRM token has not been correctly configured.");case 8:return t.abrupt("return",JSON.stringify({token:o,drm_info:s,kid:u}));case 9:case"end":return t.stop()}var r},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),T(i,[{key:"Zb",get:function(){if(Th(this.Ab))return this.Ab.token}}]),i}(jl);function r_(t,n){var i=n||{};return t.ticket&&t.sessionId&&(i=Dt(Dt({},i),{SessionId:t.sessionId,Ticket:t.ticket})),Dt(Dt({},i),{CrmId:t.crmId,AccountId:t.accountId,ContentId:t.contentId})}var e_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,Jd.Fp)||this).cb("https://emeademo.dev.ott.irdeto.com/Widevine/getlicense"),e}ct(n,t);var i=n.prototype;return i.Vb=function(t,n){return zl(t,this.bb)},i.Lb=function(n,i){var r=n;return mh(this.Ab)&&(r=r_(this.Ab,r)),t.prototype.Lb.call(this,r,i)},n}(jl),u_="Conax-Custom-Data";function s_(t,n,i){var r=t&&yh(t)&&t;if(r&&!i.has(u_)){var e=jc(r)?r.token:void 0,u=jc(r)?r.deviceId:void 0,s=JSON.stringify({Version:"1.0.0",CxAuthenticationDataToken:e,CxClientInfo:{DeviceType:"Browser",DrmClientType:n+"-HTML5",DrmClientVersion:"1.0.0",CxDeviceId:u}});i.set(u_,s)}return i}var o_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,Jd.Fp)||this).cb("https://connect.conax.com:8094/license"),e}ct(n,t);var i=n.prototype;return i.Vb=function(t,n){return zl(t,this.bb)},i.Mb=function(){var n=t.prototype.Mb.call(this);return s_(this.Ab,"Widevine",n)},n}(jl);function a_(t){var n=Sr(new k(t));return gi(JSON.parse(n).license)}function c_(t){return"string"==typeof t.token?t.token:Si(JSON.stringify({userId:t.userId,sessionId:t.sessionId,merchant:t.merchant}))}function h_(t,n,i){var r;return r=i.token?"x-dt-auth-token":"dt-custom-data",t.set(r,n),t}var f_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,Jd.Fp)||this).cb("https://lic.drmtoday.com/license-proxy-widevine/cenc/"),e}ct(n,t);var i=n.prototype;return i.Vb=function(t,n){return zl(t,this.bb)},i.Fb=function(t){return Ct.resolve(a_(t))},i.Mb=function(){return h_(t.prototype.Mb.call(this),this.Zb,this.Ab)},T(n,[{key:"Zb",get:function(){return c_(this.Ab)}}]),n}(jl),v_=function(t){function n(n,i,r){return t.call(this,n,i,r,Jd.Fp)||this}ct(n,t);var i=n.prototype;return i.Vb=function(t,n){return zl(t,this.bb)},i.Mb=function(){var n=t.prototype.Mb.call(this),i=this.Ab.token;return n.set("Authorization","Bearer "+i),n},n}(jl);function d_(t,n,i,r){return l_.apply(this,arguments)}function l_(){return(l_=Ct.coroutine(Nt.mark(function t(i,r,e,u){var s,o,a,c,h,f,v;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Eh(i)){t.next=2;break}throw new Ac(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Xstream DRM Configuration");case 2:return(s=new el).append("Cache-Control","no-cache"),s.append("Content-Type","application/json"),(o=i.sessionId)&&s.append("XSSESSION",o),a=i.streamId,c=i.fairplay?"persistent"===i.fairplay.licenseType?"persistent":"non-persistent":i.widevine&&"persistent"===i.widevine.licenseType?"persistent":"non-persistent",h={drmType:r,licenseType:c,streamId:a},f={rA:i.ticketAcquisitionURL,oA:Jd.Hp,uA:s,sA:tl.POST,eA:JSON.stringify(h),cs:u},t.next=13,e.yA(f);case 13:return v=t.sent,t.next=16,v.zb();case 16:return t.abrupt("return",t.sent);case 17:case"end":return t.stop()}},t)}))).apply(this,arguments)}var __=function(t){function n(n,i,r){return t.call(this,n,i,r,Jd.Hp)||this}ct(n,t);var i=n.prototype;return i.Mb=function(){var n=t.prototype.Mb.call(this);return n.set("Content-Type","application/json"),n},i.Vb=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r,e,u,s;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=Ei(n.buffer),e=this.Ab,t.next=4,d_(e,"widevine_modular",this.xb,i);case 4:return u=t.sent,this.cb(u.licenseServerUrl),s=Rr(JSON.stringify({payload:r,ticket:u.ticket})),t.abrupt("return",zl(s,this.bb));case 8:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Fb=function(t){var n=t;return Ct.resolve(gi(n.license))},n}(jl),w_=function(t){function i(n,i,r){return t.call(this,n,i,r,Jd.Fp)||this}ct(i,t);var r=i.prototype;return r.Vb=function(t,n){return zl(t,this.bb)},r.Mb=function(){if(!Sh(this.Ab))throw new Ac(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.Mb.call(this);return i.set("X-AxDRM-Message",this.Ab.token),i},i}(jl);function g_(t){for(var n=new k(2*t.length),i=0;i<t.length;i+=1)n[2*i]=t.charCodeAt(i),n[2*i+1]=0;return n}var y_=function(t){function n(n,i,r){var e;return(e=t.call(this,un,n,i,r,Jd.Fp)||this).Jb=void 0,e}ct(n,t);var i=n.prototype;return i.Ib=function(t){return t.playready||{}},i.Mb=function(){var n=new el(this.Jb);return n.zp(t.prototype.Mb.call(this)),n},i.Kb=function(t){return t.length>=1&&t[0].Pn.length>0},i.ob=function(n){var i=this.Ab.playready.customData;if(i){var r=g_(i),e=g_('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">'+mi(r)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>");return Ct.resolve({playready:{zo:e}})}return t.prototype.ob.call(this,n)},i.Vb=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,zl(n,this.bb);case 2:return r=t.sent,t.abrupt("return",this.$b(r));case 4:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.$b=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i,e,u,s,o,a,c,h,f,v,d,l,_,w,g,y;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:o=null,a=new DataView(n),c=br(a,new Vr,!0),t.prev=3,h=r.An(c),t.next=10;break;case 7:return t.prev=7,t.t0=t.catch(3),t.abrupt("return",o);case 10:for(f=null===(i=h.xn("PlayReadyKeyMessage")[0])||void 0===i?void 0:i.xn("LicenseAcquisition")[0],v=null!==(e=null==f?void 0:f.xn("Challenge"))&&void 0!==e?e:[],this.Kb(v)&&(o=Ti(v[0].jn)),d=new el,l=null!==(s=null===(u=null==f?void 0:f.xn("HttpHeaders")[0])||void 0===u?void 0:u.xn("HttpHeader"))&&void 0!==s?s:[],_=0;_<l.length;_++)w=l[_],g=w.xn("name")[0].jn,y=w.xn("value")[0].jn,d.append(g,y);return this.Jb=d,t.abrupt("return",o);case 18:case"end":return t.stop()}},t,this,[[3,7]])}));return function(n){return t.apply(this,arguments)}}(),i.hb=function(t,n){return Ct.resolve(t)},i.fb=function(n,i){return t.prototype.Hb.call(this,n,il.tA,i)},T(n,[{key:"Do",get:function(){return Boolean(this.Ab.playready.customData)}}]),n}(ql),m_=function(){function t(n){this.tT=n,this.nT=t.iT(n)}return t.iT=function(t){return"3"===t.version?Gl.Wb:Gl.qb},t.prototype.rT=function(){var t={};if(this.nT===Gl.Wb){var n={LatensRegistration:Yl(this.tT,Gl.Wb)};t["X-TITANIUM-DRM-CDATA"]=Si(JSON.stringify(n))}return t},T(t,[{key:"eT",get:function(){return this.nT}},{key:"Do",get:function(){return this.nT===Gl.qb}}]),t}();var k_=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r)||this).uT=new m_(e.Ab),e}ct(i,t);var e=i.prototype;return e.ob=function(t){var i=this.Ab;if(!this.Ab)throw new Ac(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium PlayReady DRM configuration.");if(bh(i)){var r={};return r.playready={zo:p_(i,this.uT.eT)},Ct.resolve(r)}return Ct.reject(Zl(i,Gl.Eu))},e.Mb=function(){var n=new el(this.uT.rT());return n.zp(t.prototype.Mb.call(this)),n},e.Bb=function(){var t=Ct.coroutine(Nt.mark(function t(i,e,u){var s,o,a,c,h,f,v,d;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=i.mA){t.next=3;break}throw new Ac(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",i,e);case 3:return t.prev=3,t.next=6,o.sT(u);case 6:h=t.sent,f=Sr(new k(h)),(v=r.An(f))&&(d=Bd(v,"CustomData")).length>0&&(a=JSON.parse(d[0].jn),c=null===(s=a.DrmErr)||void 0===s?void 0:s.desc),t.next=14;break;case 12:t.prev=12,t.t0=t.catch(3);case 14:throw new Ac(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",i,e,o.pA,o.Gb,c);case 15:case"end":return t.stop()}},t,null,[[3,12]])}));return function(n,i,r){return t.apply(this,arguments)}}(),e.Kb=function(t){if(1!==t.length)throw new Ac(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"PlayReady license message incorrectly formatted, Challenge not found.");return!0},T(i,[{key:"Do",get:function(){return this.uT.Do}}]),i}(y_);function p_(t,n){var i=Yl(t,n),r=i.DeviceInfo.FormatVersion,e=Si('<LatensRegistration formatversion="'+r+'"><AccountName>'+i.AccountName+"</AccountName><CustomerName>"+i.CustomerName+"</CustomerName><PortalID>"+i.PortalId+'</PortalID><DeviceInfo formatversion="'+r+'"><DeviceType>'+i.DeviceInfo.DeviceType+"</DeviceType><OSType>"+i.DeviceInfo.OSType+"</OSType><OSVersion>"+i.DeviceInfo.OSVersion+"</OSVersion><DRMProvider>"+i.DeviceInfo.DRMProvider+"</DRMProvider><DRMVersion>"+i.DeviceInfo.DRMVersion+"</DRMVersion><DRMType>"+i.DeviceInfo.DRMType+"</DRMType><DeviceVendor>"+i.DeviceInfo.DeviceVendor+"</DeviceVendor><DeviceModel>"+i.DeviceInfo.DeviceModel+"</DeviceModel></DeviceInfo></LatensRegistration>"),u=Nr(("<TitaniumCustomData>"+e+"</TitaniumCustomData>").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/&lt;/g,"<").replace(/&gt;/g,">"),!0);return Nr('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0"><CustomData encoding="base64encoded">'+mi(u)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>",!0)}var A_,b_=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r)||this).cb("https://playready-license.drm.technology/rightsmanager.asmx"),e}ct(i,t);var r=i.prototype;return r.Kb=function(t){if(1!==t.length)throw new Ac(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Vudrm PlayReady license message incorrectly formatted, Challenge not found.");return!0},r.Lb=function(n,i){var r=Dt(Dt({},n||{}),{token:this.Zb});return t.prototype.Lb.call(this,r,i)},T(i,[{key:"Zb",get:function(){if(Th(this.Ab))return this.Ab.token}}]),i}(y_),T_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).cb("https://emeademo.dev.ott.irdeto.com/playready/rightsmanager.asmx"),e}return ct(n,t),n.prototype.Lb=function(n,i){var r=n;return mh(this.Ab)&&(r=r_(this.Ab,r)),t.prototype.Lb.call(this,r,i)},n}(y_),E_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).cb("https://connect.conax.com:8010/cxplayready/rightsmanager.asmx"),e}return ct(n,t),n.prototype.Mb=function(){var n=t.prototype.Mb.call(this);return s_(this.Ab,"PlayReady",n)},n}(y_),S_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).cb("https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx"),e}ct(n,t);var i=n.prototype;return i.Fb=function(n){return(dn(Sr(new k(n)),"<?xml")?A_.oT:A_.zb)===A_.zb?Ct.resolve(a_(n)):Ct.resolve(t.prototype.Fb.call(this,new k(n)))},i.Mb=function(){return h_(t.prototype.Mb.call(this),this.Zb,this.Ab)},T(n,[{key:"Zb",get:function(){return c_(this.Ab)}}]),n}(y_);!function(t){t[t.oT=0]="oT",t[t.zb=1]="zb"}(A_||(A_={}));var R_,I_=function(t){function n(n,i,r){return t.call(this,n,i,r)||this}ct(n,t);var i=n.prototype;return i.Mb=function(){var n=t.prototype.Mb.call(this);return this.aT&&n.set("Ticket",this.aT),n.set("Content-Type","text/xml"),n},i.Vb=function(){var n=Ct.coroutine(Nt.mark(function n(i,r){var e,u;return Nt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e=this.Ab,n.next=3,d_(e,"playready",this.xb,r);case 3:return u=n.sent,this.cb(u.licenseServerUrl),this.aT=u.ticket,n.abrupt("return",t.prototype.Vb.call(this,i,r));case 7:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),n}(y_),N_=function(t){function i(){return t.apply(this,arguments)||this}return ct(i,t),i.prototype.Mb=function(){if(!Sh(this.Ab))throw new Ac(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.Mb.call(this);return i.set("X-AxDRM-Message",this.Ab.token),i},i}(y_);!function(t){t.Hp="application/json",t.cT="application/x-www-form-urlencoded",t.hT="application/octet-stream",t.yn="text/plain;charset=UTF-8"}(R_||(R_={}));var C_=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n.Co,i,r,e,u)||this).fT="",s.vT=void 0,s.dT=n.Ko,s}ct(n,t);var i=n.prototype;return i.lT=function(){return this.bb.certificateURL||this.vT},i._T=function(t){this.vT=t},i.Vb=function(){var t=Ct.coroutine(Nt.mark(function t(n){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.wT(n,this.fT));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.wT=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return","spc="+encodeURIComponent(mi(n))+"&assetId="+encodeURIComponent(i));case 1:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}(),i.Ib=function(t){return t.fairplay||{}},i.gT=function(t){var n=t.indexOf("?");if(n>=0)return Ct.resolve(t.substr(n+1));var i=t.split("/");return Ct.resolve(i[i.length-1])},i.ob=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i,r,e,u;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=null!==(i=this.dT)&&void 0!==i?i:Or(new k(n)),t.next=3,this.gT(r);case 3:return e=t.sent,this.fT=e,(u={}).fairplay={Ko:e},t.abrupt("return",u);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Mb=function(){var n=t.prototype.Mb.call(this);return n.set("Content-Type",this.yT),n},i.hb=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._b){t.next=2;break}return t.abrupt("return",this._b);case 2:return t.next=4,this.mT(i);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.fb=function(n,i){return t.prototype.Hb.call(this,n,il.Zp,i)},i.kT=function(t){var n=this.lT(),i=this.Mb(),r={rA:n,oA:Jd.Fp,uA:i,sA:tl.GET,fA:!1,eA:null,aA:0,cs:t,Cu:nl.Qp,cA:il.Jp};return new cl(r)},i.mT=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i,r,e;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.kT(n),t.next=3,this.xb.yA(i);case 3:return r=t.sent,t.next=6,r.sT();case 6:return e=t.sent,t.abrupt("return",new k(e));case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Fb=function(t){var n;if("string"==typeof t){var i=t.trim();"<ckc>"===i.substr(0,5)&&"</ckc>"===i.substr(-6)&&(i=i.slice(5,-6)),n=gi(i)}else n=new k(t);return Ct.resolve(n)},i.Lb=function(n,i){var r=t.prototype.Lb.call(this,n,i);return dn(r,"skd:")&&(r=r.substr("skd:".length)),r},T(n,[{key:"Eb",get:function(){return!0}},{key:"yT",get:function(){return R_.cT}}]),n}(ql),D_=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,Jd.Fp)||this}ct(n,t);var i=n.prototype;return i.gT=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i,r,e;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.split("://",1),r=i[0].slice(-3),i=n.split(";",2),e=i.length>1?i[1]:"",t.abrupt("return","skd"===r.toLowerCase()?e:"");case 5:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.Vb=function(){var t=Ct.coroutine(Nt.mark(function t(n){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.Fb=function(t){return Ct.resolve(new k(t))},i.Lb=function(n,i){var r=n||{};return r.p1=ot(),t.prototype.Lb.call(this,r,i)},T(n,[{key:"yT",get:function(){return R_.hT}}]),n}(C_),O_=function(t){function i(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,Jd.Fp)||this).cb("https://fairplay-license.drm.technology/license"),u._T("https://fairplay-license.drm.technology/certificate"),u}ct(i,t);var r=i.prototype;return r.wT=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={token:this.Zb,contentId:i,payload:mi(n)},t.abrupt("return",JSON.stringify(r));case 2:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.Fb=function(t){return Ct.resolve(new k(t))},r.Mb=function(){var n=t.prototype.Mb.call(this);return n.set("x-vudrm-token",this.Zb),n},T(i,[{key:"yT",get:function(){return R_.Hp}},{key:"Zb",get:function(){if(!Th(this.Ab))throw new Ac(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Token is required for FairPlay VuDrm.");return this.Ab.token}}]),i}(C_),x_="Verimatrix Fairplay license response incorrectly formatted. Invalid json.",P_="Verimatrix Fairplay license response incorrectly formatted. Ckc not found.",B_=function(t){function i(n,i,r,e){return t.call(this,n,i,r,e,Jd.Fp)||this}return ct(i,t),i.prototype.Fb=function(i){var r=function(t){var i;try{i=JSON.parse(t).ckc}catch(t){throw new Ac(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,x_)}if(!i)throw new Ac(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,P_);return i}(Sr(new DataView(i)));return t.prototype.Fb.call(this,r)},i}(C_);var M_=function(t){function i(n,i,r,e){return t.call(this,n,i,r,e,Jd.Hp)||this}ct(i,t);var r=i.prototype;return r.Vb=function(){var t=Ct.coroutine(Nt.mark(function t(i){var r,e;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.Ab){t.next=3;break}throw new Ac(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Fairplay DRM configuration.");case 3:return e=mi(i),t.abrupt("return",Jl(r,e,Gl.Ru));case 5:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.Fb=function(t){try{var i;if(X(t)){var r=t.trim();i=JSON.parse(r)}else i=t;if(i.license){var e=Ti(i.license);return Ct.resolve(new k(e))}return Ct.reject(new Ac(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Titanium Fairplay license server"))}catch(t){return Ct.reject(new Ac(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Fairplay license server"))}},r.Bb=function(t,n,i){return Kl(t,n,i)},T(i,[{key:"yT",get:function(){return R_.Hp}}]),i}(C_),L_=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,Jd.Fp)||this).cb("https://emeademo.dev.ott.irdeto.com/streaming/getckc"),u._T("https://emeademo.dev.ott.irdeto.com/streaming/getcertificate"),u}ct(n,t);var i=n.prototype;return i.lT=function(){var n=t.prototype.lT.call(this);if(!n)return n;var i=r.Oa(n),e=this.Ab;return mh(e)&&Ls(i,{accountId:e.accountId,applicationId:e.applicationId||""}),i.href},i.gT=function(){var n=Ct.coroutine(Nt.mark(function n(i){return Nt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!mh(this.Ab)){n.next=2;break}return n.abrupt("return",this.Ab.contentId);case 2:return n.abrupt("return",t.prototype.gT.call(this,i));case 3:case"end":return n.stop()}},n,this)}));return function(t){return n.apply(this,arguments)}}(),i.Vb=function(){var t=Ct.coroutine(Nt.mark(function t(n){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.Fb=function(t){return Ct.resolve(new k(t))},i.Lb=function(n,i){var r=n;return mh(this.Ab)&&(r=function(t,n){return Dt(Dt({},r_(t,n)),{KeyId:t.keyId})}(this.Ab,r)),t.prototype.Lb.call(this,r,i)},T(n,[{key:"yT",get:function(){return R_.hT}}]),n}(C_),U_=function(t){function i(i,r,e,u){var s;if(s=t.call(this,i,r,e,u,Jd.yn)||this,!yh(r))throw new Ac(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Conax configuration");return s.cb("https://connect.conax.com:8097/license"),s}ct(i,t);var r=i.prototype;return r.Mb=function(){var n=t.prototype.Mb.call(this);return s_(this.Ab,"FairPlay",n)},r.mT=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i,r,e,u;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.lT(),r={rA:i,oA:Jd.Fp,uA:{},sA:tl.GET,fA:!1,eA:null,aA:0,cs:n,Cu:nl.Qp,cA:il.Jp},t.next=4,this.xb.yA(r);case 4:return e=t.sent,t.next=7,e.sT();case 7:return u=t.sent,t.abrupt("return",new k(u));case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.Vb=function(){var t=Ct.coroutine(Nt.mark(function t(n){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.gT=function(t){var n,i=t.indexOf("?");return 0===t.indexOf("skd://")?(n=i>=0?t.substring("skd://".length,i):t.substring("skd://".length),Ct.resolve(Sr(gi(n)))):Ct.resolve("unknown")},r.Fb=function(t){try{var n=JSON.parse(t);return Ct.resolve(new k(Ti(n.CkcMessage)))}catch(t){return Ct.reject("CFLRW-66")}},i}(C_),F_=function(t){function i(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,Jd.yn)||this).cb(fh[Gt.Ru]),u}ct(i,t);var r=i.prototype;return r.gT=function(t){return 0===t.indexOf("skd://")?Ct.resolve(t.substring("skd://".length,40)):Ct.reject(new Ac(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error while determining the KeyOS Content ID."))},r.wT=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return","spc="+mi(n)+"&assetId="+i);case 1:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}(),i}(C_),H_=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,Jd.yn)||this).cb("https://lic.drmtoday.com/license-server-fairplay/"),u}ct(n,t);var i=n.prototype;return i.wT=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r="spc="+encodeURIComponent(mi(n))+"&"+encodeURI(i),"persistent"!==this.bb.licenseType){t.next=3;break}return t.abrupt("return",r+"&offline=true");case 3:return t.abrupt("return",r);case 4:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Mb=function(){return h_(t.prototype.Mb.call(this),this.Zb,this.Ab)},T(n,[{key:"Zb",get:function(){return c_(this.Ab)}}]),n}(C_),V_=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,Jd.Fp)||this}ct(n,t);var i=n.prototype;return i.gT=function(t){var n=t;return dn(n,"skd:")&&(n="http:"+n.substring(4)),dn(n,"http:")||dn(n,"https:")?Ct.resolve(r.Oa(n).hostname):Ct.reject(new d("Could not parse ExpressPlay FairPlay content ID."))},i.Vb=function(){var t=Ct.coroutine(Nt.mark(function t(n){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.Fb=function(t){return Ct.resolve(new k(t))},T(n,[{key:"yT",get:function(){return R_.hT}}]),n}(C_),X_=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,Jd.yn)||this}return ct(n,t),n.prototype.Mb=function(){var n=t.prototype.Mb.call(this),i=this.Ab.token;return n.set("Authorization","Bearer "+i),n},n}(C_),q_=function(t){function n(n,i,r,e){var u;if(u=t.call(this,n,i,r,e,Jd.Hp)||this,!Eh(i))throw new d("Invalid Xstream DRM configuration");return u}ct(n,t);var i=n.prototype;return i.mT=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i,r,e,u,s;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.lT(),r=this.Mb(),e={rA:i,oA:Jd.Hp,uA:r,sA:tl.POST,cs:n,Cu:nl.Qp,cA:il.Jp},t.next=5,this.xb.yA(e);case 5:return u=t.sent,t.next=8,u.zb();case 8:return s=t.sent,t.abrupt("return",new k(gi(s.certificate)));case 10:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.fb=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r){var e,u,s,o,a,c,h;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===r&&(r=Jd.yn),e=mi(n),u=this.Ab,t.next=5,d_(u,"fairplay",this.xb,i);case 5:return s=t.sent,o=Rr(JSON.stringify({spc:e,ticket:s.ticket})),a={rA:this.Cb(),oA:Jd.Hp,uA:this.Mb(),sA:tl.POST,eA:o,aA:0,cs:i,Cu:nl.Qp,cA:il.Zp},t.next=10,this.xb.yA(a);case 10:return c=t.sent,t.next=13,c.zb();case 13:return h=t.sent,t.abrupt("return",gi(h.licence));case 15:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),T(n,[{key:"yT",get:function(){return R_.Hp}}]),n}(C_),W_=function(t){function i(n,i,r,e){return t.call(this,n,i,r,e,Jd.yn)||this}ct(i,t);var r=i.prototype;return r.wT=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",mi(n));case 1:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}(),r.Fb=function(i){if(0===i.length)throw new Ac(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Vimond license request error.");return t.prototype.Fb.call(this,i)},r.Mb=function(){var n=t.prototype.Mb.call(this);return n.set("Content-Type","text/plain"),n},i}(C_),z_=function(t){function i(n,i,r,e){return t.call(this,n,i,r,e,Jd.Fp)||this}ct(i,t);var r=i.prototype;return r.wT=function(){var t=Ct.coroutine(Nt.mark(function t(n){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.Fb=function(t){return Ct.resolve(new k(t))},r.Mb=function(){if(!Sh(this.Ab))throw new Ac(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.Mb.call(this);return i.set("X-AxDRM-Message",this.Ab.token),i},T(i,[{key:"yT",get:function(){return R_.Hp}}]),i}(C_),G_=function(t){function i(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,Jd.Hp)||this).pT=void 0,u}ct(i,t);var e=i.prototype;return e.wT=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={spc:mi(n)},t.abrupt("return",JSON.stringify(r));case 2:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}(),e.gT=function(t){var i=r.Oa(t);return this.pT=t,i.searchParams.has("b")?Ct.resolve(i.searchParams.get("b")):Ct.reject(new Ac(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error during license server request: Could not extract content id"))},e.Lb=function(n,i){var r=this.Cb();return!r&&this.pT&&(r=this.pT),r&&(r=r.replace("skd://","https://")),t.prototype.Lb.call(this,n,i||r)},e.Fb=function(){var t=Ct.coroutine(Nt.mark(function t(i){var r;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(r=X(i)?JSON.parse(i.trim()):i).ckc){t.next=4;break}return t.abrupt("return",gi(r.ckc));case 4:t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(0),new Ac(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Uplynk Fairplay license server");case 9:throw new Ac(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Uplynk Fairplay license server");case 10:case"end":return t.stop()}},t,null,[[0,6]])}));return function(n){return t.apply(this,arguments)}}(),T(i,[{key:"yT",get:function(){return R_.yn}}]),i}(C_),j_=function(){function t(t,n){this.AT=t,this.bT=n}var n=t.prototype;return n.TT=function(t){return this.AT(t)},n.ET=function(t,n){throw new l(n+" must be "+this.bT+". (Received: "+t+")")},t}(),Q_=new j_(G,"a number"),Y_=new j_(X,"a string"),Z_=new j_(q,"a boolean");var J_,K_=(J_={responseCode:Q_,isException:Z_,description:Y_,title:Y_,correlationId:Y_},{TT:function(t){if(!H(t))return!1;for(var n=0,i=_.keys(J_);n<i.length;n++){var r=i[n];if(!J_[r].TT(t[r]))return!1}return!0},ET:function(t,n){if(!H(t))throw new l(n+" must be an object.");for(var i=0,r=_.keys(J_);i<r.length;i++){var e=r[i],u=J_[e];if(!u.TT(t[e]))return u.ET(t[e],n+"."+e)}throw new l}});function $_(t,n,i,r,e){return tw.apply(this,arguments)}function tw(){return(tw=Ct.coroutine(Nt.mark(function t(n,i,r,e,u){var s;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=nw(n,i,r,u),t.next=3,iw(s,e);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t)}))).apply(this,arguments)}function nw(t,n,i,e){var u={token:n.token,account:n.accountId,form:"json"},s=decodeURIComponent(function(t,n){var i=r.Oa(t);return Ls(i,n),i.toString()}(i,u)),o=new el({});o.append("Content-Type","application/json");var a=mi(t),c={getFairplayLicense:{releasePid:n.releasePid,spcMessage:a}};return{rA:s,oA:Jd.yn,uA:o,sA:tl.POST,eA:JSON.stringify(c),cs:e,Cu:nl.Qp,cA:il.Zp}}function iw(t,n){return rw.apply(this,arguments)}function rw(){return(rw=Ct.coroutine(Nt.mark(function t(i,r){var e,u;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.yA(i);case 2:return e=t.sent,t.next=5,e.zb();case 5:if(u=t.sent,!K_.TT(u)){t.next=8;break}throw new Ac(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,u.description,void 0,i.rA,u.responseCode);case 8:return t.abrupt("return",gi(u.getFairplayLicenseResponse.ckcResponse));case 9:case"end":return t.stop()}},t)}))).apply(this,arguments)}var ew=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,Jd.Fp)||this).ST=i,u}ct(n,t);var i=n.prototype;return i.gT=function(n){var i=n.replace("FairPlay",this.ST.releasePid);return t.prototype.gT.call(this,i)},i.fb=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$_(n,this.ST,this.Cb(),this.xb,i);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n}(C_),uw=function(t){function i(n,i,r){return t.call(this,an,n,i,r,Jd.Fp)||this}ct(i,t);var r=i.prototype;return r.Ib=function(t){return t.clearkey||{}},r.Vb=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",zl(n,this.bb));case 1:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.Db=function(){var i=Ct.coroutine(Nt.mark(function i(r,e,u,s){var o,a;return Nt.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(o=this.bb,!this.Cb()){i.next=5;break}return i.abrupt("return",t.prototype.Db.call(this,r,this.Rb,u,s));case 5:if(!o.keys||!o.keys.length){i.next=10;break}return a={keys:o.keys.map(function(t){var n=t;return n||(n={}),{kty:"oct",kid:n.id,k:n.value}})},i.abrupt("return",Rr(JSON.stringify(a)).buffer);case 10:throw new Ac(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The clearkey license has not been configured correctly.");case 11:case"end":return i.stop()}},i,this)}));return function(t,n,r,e){return i.apply(this,arguments)}}(),r.hb=function(t,n){return Ct.resolve(new k(0))},r.fb=function(n,i){return t.prototype.Hb.call(this,n,il.nA,i)},i}(ql),sw=function(t){function n(){return t.apply(this,arguments)||this}return ct(n,t),n.prototype.Vb=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",zl(n,this.bb));case 1:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n}(jl),ow={url:"",method:"GET",headers:{},body:null,useCredentials:!1};function aw(t,n,i){return cw.apply(this,arguments)}function cw(){return(cw=Ct.coroutine(Nt.mark(function t(n,i,r){var e,u,s;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=bw(i),(u=n.onCertificateRequest)&&"function"==typeof u){t.next=5;break}return t.abrupt("return",Ct.resolve(i));case 5:return t.next=8,qn(Ct.resolve(u.call(n,e)),r);case 8:if(!Lr(s=t.sent)){t.next=11;break}return t.abrupt("return",Ur(s));case 11:return t.abrupt("return",Aw(Dt(Dt({},ow),s)));case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function hw(t,n,i,r,e){return fw.apply(this,arguments)}function fw(){return(fw=Ct.coroutine(Nt.mark(function t(n,i,r,e,u){var s,o,a;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=n.onCertificateResponse,o=pw(i,r,e),s&&"function"==typeof s){t.next=5;break}return t.abrupt("return",Ct.resolve(i));case 5:return t.next=8,qn(Ct.resolve(s.call(n,o)),u);case 8:return a=t.sent,t.abrupt("return",Ur(a));case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function vw(t,n,i,r){return dw.apply(this,arguments)}function dw(){return(dw=Ct.coroutine(Nt.mark(function t(n,i,r,e){var u;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ww(n,i,r,e);case 2:if(!((u=t.sent)instanceof ArrayBuffer)){t.next=5;break}return t.abrupt("return",u);case 5:return t.abrupt("return",Aw(u));case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function lw(t,n,i,r,e,u){return _w.apply(this,arguments)}function _w(){return(_w=Ct.coroutine(Nt.mark(function t(n,i,r,e,u,s){var o,a;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=kw(r,u),t.next=3,yw(n,new k(i),o,e,s);case 3:return a=t.sent,t.abrupt("return",Ur(a).buffer);case 5:case"end":return t.stop()}},t)}))).apply(this,arguments)}function ww(t,n,i,r){return gw.apply(this,arguments)}function gw(){return(gw=Ct.coroutine(Nt.mark(function t(n,i,r,e){var u,s,o;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u=null==n?void 0:n.onLicenseRequest,s=kw(i,r),u&&"function"==typeof u){t.next=5;break}return t.abrupt("return",Ct.resolve(s));case 5:return t.next=8,qn(Ct.resolve(u.call(n,s)),e);case 8:if(!Lr(o=t.sent)){t.next=11;break}return t.abrupt("return",Ur(o).buffer);case 11:return t.abrupt("return",Dt(Dt({fairplaySkdUrl:void 0},ow),o));case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function yw(t,n,i,r,e){return mw.apply(this,arguments)}function mw(){return(mw=Ct.coroutine(Nt.mark(function t(n,i,r,e,u){var s,o,a;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=null==n?void 0:n.onLicenseResponse,o=pw(i,r,e),s&&"function"==typeof s){t.next=5;break}return t.abrupt("return",Ct.resolve(i));case 5:return t.next=8,qn(Ct.resolve(s.call(n,o)),u);case 8:return a=t.sent,t.abrupt("return",Ur(a));case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function kw(t,n){return Dt(Dt({},bw(t)),{fairplaySkdUrl:n})}function pw(t,n,i){return{url:i.kA,status:i.pA,statusText:i.Gb,headers:i.uA.qp(),body:t,request:n}}function Aw(t){return new cl({rA:t.url,sA:t.method,uA:t.headers,eA:t.body,fA:t.useCredentials})}function bw(t){var n;return{url:t.rA,body:null!==(n=Tw(t.eA))&&void 0!==n?n:null,headers:t.uA.qp(),method:t.sA,useCredentials:t.fA}}function Tw(t){if(t)return"string"==typeof t?Rr(t):t instanceof ArrayBuffer?new k(t):pi(t)?Mr(t):void 0}var Ew=function(t){function i(n,i,r,e){var u;return(u=t.call(this,n,i,r)||this).RT=e,u}ct(i,t);var r=i.prototype;return r.hb=function(t,n){return Ct.resolve(t)},r.fb=function(){var t=Ct.coroutine(Nt.mark(function t(i,r){var e,u,s,o,a;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$b(Hr(i).buffer);case 2:return e=t.sent,u=this.Ob(e,Jd.Fp,il.tA,r),t.next=6,vw(this.RT,u,void 0,r);case 6:if(!((s=t.sent)instanceof ArrayBuffer)){t.next=10;break}return t.abrupt("return",new k(s));case 10:if(""!==s.rA){t.next=12;break}throw new Ac(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 12:return t.prev=12,t.next=15,this.xb.yA(s);case 15:return o=t.sent,t.next=18,o.sT(r);case 18:return a=t.sent,t.t0=k,t.next=22,lw(this.RT,a,u,o,void 0,r);case 22:return t.t1=t.sent,t.abrupt("return",new t.t0(t.t1));case 26:throw t.prev=26,t.t2=t.catch(12),Vn(t.t2),new Ac(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during PlayReady license request",t.t2);case 30:case"end":return t.stop()}},t,this,[[12,26]])}));return function(n,i){return t.apply(this,arguments)}}(),i}(y_),Sw=function(t){function i(n,i,r,e){var u;return(u=t.call(this,n,i,r,Jd.Fp)||this).RT=e,u}ct(i,t);var r=i.prototype;return r.hb=function(){var t=Ct.coroutine(Nt.mark(function t(i,r){var e,u,s,o,a;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._b){t.next=2;break}return t.abrupt("return",this._b);case 2:return e=this.Ob(i,Jd.Fp,il.$p,r),t.next=5,aw(this.RT,e,r);case 5:if(!((u=t.sent)instanceof k)){t.next=9;break}return t.abrupt("return",u);case 9:if(""!==u.rA){t.next=11;break}throw new Ac(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The certificate request URL has not been correctly configured.");case 11:return t.prev=11,t.next=14,this.xb.yA(u);case 14:return s=t.sent,t.next=17,s.sT(r);case 17:o=t.sent,t.next=24;break;case 20:throw t.prev=20,t.t0=t.catch(11),Vn(t.t0),new Ac(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during Widevine certificate request",t.t0);case 24:return a=kw(e,void 0),t.next=27,hw(this.RT,new k(o),a,s,r);case 27:return t.abrupt("return",t.sent);case 28:case"end":return t.stop()}},t,this,[[11,20]])}));return function(n,i){return t.apply(this,arguments)}}(),r.fb=function(){var t=Ct.coroutine(Nt.mark(function t(i,r){var e,u,s,o;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.Ob(i,Jd.Fp,il.Kp,r),t.next=3,vw(this.RT,e,void 0,r);case 3:if(!((u=t.sent)instanceof ArrayBuffer)){t.next=7;break}return t.abrupt("return",new k(u));case 7:if(""!==u.rA){t.next=9;break}throw new Ac(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return t.prev=9,t.next=12,this.xb.yA(u);case 12:return s=t.sent,t.next=15,s.sT(r);case 15:o=t.sent,t.next=22;break;case 18:throw t.prev=18,t.t0=t.catch(9),Vn(t.t0),new Ac(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Widevine license request",t.t0);case 22:return t.t1=k,t.next=25,lw(this.RT,o,e,s,void 0,r);case 25:return t.t2=t.sent,t.abrupt("return",new t.t1(t.t2));case 27:case"end":return t.stop()}},t,this,[[9,18]])}));return function(n,i){return t.apply(this,arguments)}}(),i}(sw),Rw=function(t){function i(n,i,r,e,u){var s;return(s=t.call(this,n,i,r,e,Jd.Fp)||this).RT=u,s}ct(i,t);var r=i.prototype;return r.hb=function(){var t=Ct.coroutine(Nt.mark(function t(i,r){var e,u,s,o,a;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._b){t.next=2;break}return t.abrupt("return",this._b);case 2:return e=this.kT(r),t.next=5,aw(this.RT,e,r);case 5:if(u=t.sent,!pi(u)){t.next=8;break}return t.abrupt("return",u);case 8:return t.prev=8,t.next=11,this.xb.yA(u);case 11:return s=t.sent,t.next=14,s.sT();case 14:return o=t.sent,a=kw(e,void 0),t.next=18,hw(this.RT,new k(o),a,s,r);case 18:return t.abrupt("return",t.sent);case 21:throw t.prev=21,t.t0=t.catch(8),Vn(t.t0),new Ac(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during FairPlay certificate request",t.t0);case 25:case"end":return t.stop()}},t,this,[[8,21]])}));return function(n,i){return t.apply(this,arguments)}}(),r.fb=function(){var t=Ct.coroutine(Nt.mark(function t(i,r){var e,u,s,o;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.Ob(i,Jd.Fp,il.Zp,r),t.next=3,vw(this.RT,e,this.IT,r);case 3:if(!((u=t.sent)instanceof ArrayBuffer)){t.next=7;break}return t.abrupt("return",new k(u));case 7:if(""!==u.rA){t.next=9;break}throw new Ac(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return t.prev=9,t.next=12,this.xb.yA(u);case 12:return s=t.sent,t.next=15,s.sT(r);case 15:return o=t.sent,t.t0=k,t.next=19,lw(this.RT,o,e,s,this.IT,r);case 19:return t.t1=t.sent,t.abrupt("return",new t.t0(t.t1));case 23:throw t.prev=23,t.t2=t.catch(9),Vn(t.t2),new Ac(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during FairPlay license request",t.t2);case 27:case"end":return t.stop()}},t,this,[[9,23]])}));return function(n,i){return t.apply(this,arguments)}}(),r.gT=function(){var n=Ct.coroutine(Nt.mark(function n(i){var r;return Nt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.IT=i,!(null===(r=this.RT)||void 0===r?void 0:r.extractFairplayContentId)){n.next=3;break}return n.abrupt("return",Ct.resolve(this.RT.extractFairplayContentId(i)));case 3:return n.abrupt("return",t.prototype.gT.call(this,i));case 4:case"end":return n.stop()}},n,this)}));return function(t){return n.apply(this,arguments)}}(),i}(C_),Iw=function(){function t(){}var n=t.prototype;return n.NT=function(t,n){return new Vl(t,n,this)},n.CT=function(t,n,i,r){switch(t.Co.Cu){case Gt.Su:return this.DT(n,i,r);case Gt.Eu:return this.OT(n,i,r);case Gt.Ru:return this.xT(t,n,i,r);case Gt.Iu:default:return this.PT(n,i,r)}},n.DT=function(t,n,i){var r,e=(r=t).integration===Wc&&X(r.customIntegrationId)?t.customIntegrationId:t.integration;if(e&&th.yl._l(e,tn)){var u=th.yl.gl(e,tn,t);return new Sw(t,n,i,u)}switch(e){case Nc:return new n_(t,n,i);case xc:return new i_(t,n,i);case Oc:return new e_(t,n,i);case Cc:return new o_(t,n,i);case Mc:return new f_(t,n,i);case Uc:return new v_(t,n,i);case Fc:return new __(t,n,i);case Vc:return new w_(t,n,i);case Bc:default:return new sw(t,n,i,Jd.Fp)}},n.OT=function(t,n,i){var r=t.integration;if(r&&th.yl._l(r,Jt)){var e=th.yl.gl(r,Jt,t);return new Ew(t,n,i,e)}switch(r){case Nc:return new k_(t,n,i);case xc:return new b_(t,n,i);case Oc:return new T_(t,n,i);case Cc:return new E_(t,n,i);case Mc:return new S_(t,n,i);case Fc:return new I_(t,n,i);case Vc:return new N_(t,n,i);case Bc:default:return new y_(t,n,i)}},n.xT=function(t,n,i,r){var e=n.integration;if(e&&th.yl._l(e,rn)){var u=th.yl.gl(e,rn,n);return new Rw(t,n,i,r,u)}switch(e){case Dc:return new D_(t,n,i,r);case xc:return new O_(t,n,i,r);case Pc:return new B_(t,n,i,r);case Nc:return new M_(t,n,i,r);case Oc:return new L_(t,n,i,r);case Cc:return new U_(t,n,i,r);case Bc:return new F_(t,n,i,r);case Mc:return new H_(t,n,i,r);case Lc:return new V_(t,n,i,r);case Uc:return new X_(t,n,i,r);case Fc:return new q_(t,n,i,r);case Hc:return new W_(t,n,i,r);case Vc:return new z_(t,n,i,r);case Xc:return new G_(t,n,i,r);case qc:return new ew(t,n,i,r);default:return new C_(t,n,i,r,Jd.yn)}},n.PT=function(t,n,i){return new uw(t,n,i)},n.BT=function(t){return t.Cu===Gt.Eu||t.Cu===Gt.Su||t.Cu===Gt.Ru||t.Cu===Gt.Iu},t}();function Nw(t,n){switch(n){case Gt.Su:return t.widevine;case Gt.Eu:return t.playready;case Gt.Ru:return t.fairplay;default:return}}var Cw,Dw=function(t){function i(n,i,r){var e;return void 0===r&&(r=new Iw),(e=t.call(this,r)||this).MT=void 0,e.io=void 0,e.LT=new Dl,e.UT=function(){var t=Ct.coroutine(Nt.mark(function t(n){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.GA(n.Ou,n.xs);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),Fn(t.t0)||e.Ho(t.t0);case 8:case"end":return t.stop()}},t,null,[[0,5]])}));return function(n){return t.apply(this,arguments)}}(),e.FT=function(t){e.vs(t)},e.HT=function(t){e.vs(t),e.vs(new Bl(t.errorObject))},e.VT=n,e.TA=i,e.VT.ls(ni.Ns,e.UT),e}ct(i,t);var e=i.prototype;return e.YA=function(){var t;return null===(t=this.io)||void 0===t?void 0:t.Co},e.Eo=function(t){if(this.MT)throw new d("Invalid state");this.MT=t},e.VA=function(n){if(!this.MT)throw new d("Invalid state");t.prototype.VA.call(this,n)},e.zA=function(){var t=Ct.coroutine(Nt.mark(function t(i,e,u){var s,o,a,c,h,f,v,d,l,_;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Hn(u),e.byteLength){t.next=3;break}return t.abrupt("return");case 3:if(this.FA&&this.FA.qA.length){t.next=5;break}throw new Ac(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_MISSING,"Missing configuration for encrypted content");case 5:if(s=this.FA,i===Qt||i===Zt||i===Yt){t.next=9;break}return t.abrupt("return");case 9:o=Nh(i,e),c=0,h=s.qA;case 11:if(!(c<h.length)){t.next=41;break}if(f=h[c],Hn(u),(v=o[f.Co.xu])&&f.Co.Ou===i){t.next=17;break}return t.abrupt("continue",38);case 17:return t.prev=17,t.next=20,this.XT(f.Co,u);case 20:if(!(d=t.sent).Eb){t.next=24;break}return t.next=24,d.wb();case 24:if(l=this.VT.Wd,!this.qT(d,f.Co.Ou,v,l)){t.next=31;break}return t.next=28,d.mb(f.Co.Ou,v,l);case 28:return _=t.sent,t.next=31,_.vo();case 31:return t.abrupt("return");case 34:t.prev=34,t.t0=t.catch(17),Vn(t.t0),a=t.t0;case 38:c++,t.next=11;break;case 41:return t.next=43,r.Gu();case 43:if(!t.sent){t.next=47;break}throw new Ac(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported",a);case 47:throw new Ac(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Cannot create content decryption session",a);case 48:case"end":return t.stop()}},t,this,[[17,34]])}));return function(n,i,r){return t.apply(this,arguments)}}(),e.qT=function(t,n,i,r){return!t.pb(n,i,r)},e.XT=function(t,n){var i=this;return this.LT.LA(function(n){return i.WT(t,n)},n)},e.WT=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r,e,u,s,o;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Hn(i),this.FA){t.next=3;break}throw new d("Not initialized");case 3:if(!this.io){t.next=7;break}if(this.io.Co===n){t.next=6;break}throw new d("Internal key system error");case 6:return t.abrupt("return",this.io);case 7:if(this.HA.BT(n)){t.next=9;break}throw new d("Unsupported "+n.Bu+" key system");case 9:if(r=this.zT(n)){t.next=12;break}throw new d("Missing configuration for "+n.Bu+" key system");case 12:return e=this.FA,u=this.HA.CT(r,e.Ab,r.Tb,this.TA),t.next=16,this.Io(n,r,u,i);case 16:return s=t.sent,(o=this.HA.NT(s,u)).ls(ka.bf,this.FT),o.ls(ka.Af,this.HT),o.ls(ka.Kf,this.fs),this.io=o,t.abrupt("return",o);case 23:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),e.Io=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r,e){var u,s,o,a,c,h,f,v;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return u=this.FA,s=n.Ou,o=Nw(u.Ab,i.Co.Cu),a=(null==o?void 0:o.persistentState)||r.Xb,c=(null==o?void 0:o.distinctiveIdentifier)||void 0,h=Boolean(null==o?void 0:o.audioRobustness)||Boolean(null==o?void 0:o.videoRobustness),t.prev=6,Hn(e),f=Ow(u,s,a,c,r.Do,(null==o?void 0:o.audioRobustness)||"SW_SECURE_CRYPTO",(null==o?void 0:o.videoRobustness)||"SW_SECURE_CRYPTO"),t.next=11,this.MT.GT(n,[f]);case 11:return t.abrupt("return",t.sent);case 14:if(t.prev=14,t.t0=t.catch(6),Vn(t.t0),Hn(e),!h){t.next=20;break}throw t.t0;case 20:return v=Ow(u,s,a,c,r.Do,void 0,void 0),t.next=23,this.MT.GT(n,[v]);case 23:return t.abrupt("return",t.sent);case 24:case"end":return t.stop()}},t,this,[[6,14]])}));return function(n,i,r,e){return t.apply(this,arguments)}}(),e.zT=function(t){if(this.FA)for(var n=0,i=this.FA.qA;n<i.length;n++){var r=i[n];if(r.Co===t)return r}},e.Ho=function(t){var i=t instanceof Ac?t:new Ac(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.HT(new xl(i))},e.jT=function(){var t=Ct.coroutine(Nt.mark(function t(){var n;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.LT.ss();case 2:if(!(n=this.io)){t.next=8;break}return n.ys(ka.Kf,this.fs),this.io=void 0,t.next=8,n.Ih();case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),e.jA=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.MT=void 0,t.next=3,this.jT();case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),e.Ih=function(){var n=Ct.coroutine(Nt.mark(function n(){return Nt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.VT.ys(ni.Ns,this.UT),n.next=3,t.prototype.Ih.call(this);case 3:return n.next=5,this.LT.Ih();case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i}(Pl);function Ow(t,n,i,r,e,u,s){return{initDataTypes:[n],audioCapabilities:xw(t.QT,u),videoCapabilities:xw(t.YT,s),persistentState:i,distinctiveIdentifier:r,Do:e}}function xw(t,n){return t.length?t.map(function(t){return{contentType:t,robustness:n}}):void 0}!function(t){t[t.ZT=0]="ZT",t[t.JT=1]="JT"}(Cw||(Cw={}));var Pw=t,Bw=Pw.MediaSource,Mw=Pw.WebKitMediaSource,Lw=Pw.TextTrack,Uw=s&&s.createElement("video"),Fw=(s&&s.documentElement.style,P.Nt&&P.rn&&P.un<=26),Hw=(P.Vt,!!p),Vw=!(!Bw&&!Mw),Xw=!!Lw,qw=(s&&(s.fullscreenEnabled||s.webkitFullscreenEnabled||s.mozFullScreenEnabled||s.msFullscreenEnabled)||P.Ft,P.$t&&P.tn,Uw&&Uw.canPlayType&&(""!==Uw.canPlayType("application/vnd.apple.mpegURL")||P.Ot&&!P.$t&&P.xt>=4)),Ww=Uw&&Uw.canPlayType&&""!==Uw.canPlayType("video/mp4")&&!Fw,zw=Vw&&!P.nn&&!P.Zt&&!P.Yt&&((Bw||Mw).isTypeSupported?(Bw||Mw).isTypeSupported('audio/mp4; codecs="mp4a.40.34"'):Uw&&Uw.canPlayType&&""!==Uw.canPlayType('audio/mp4; codecs="mp4a.40.34"')),Gw=Vw&&!P.nn&&(zw||((Bw||Mw).isTypeSupported?(Bw||Mw).isTypeSupported("audio/mpeg"):Uw&&Uw.canPlayType&&""!==Uw.canPlayType("audio/mpeg"))),jw=Vw&&!(P.Kt&&P.Nt)&&((Bw||Mw).isTypeSupported?(Bw||Mw).isTypeSupported('video/mp4; codecs="avc1.4d401e"'):Ww),Qw=(P.nn||P.Zt||P.Yt,P.Jt),Yw=Qw&&!1,Zw=!P.nn,Jw=P.Zt&&P.Ct&&P.Dt<=6.1,Kw=Uw&&"onresize"in Uw;try{u&&u.top!==u.self}catch(t){!0}var $w,tg=.001,ng=1e4,ig=3,rg=function(t){function n(n){var i;return(i=t.call(this,da.ff)||this).currentTime=n,i}return ct(n,t),n}(ei),eg=function(t){function n(n){var i;return(i=t.call(this,da.vf)||this).currentTime=n,i}return ct(n,t),n}(ei),ug=function(t){function n(n,i){var r;return void 0===i&&(i=!1),(r=t.call(this)||this).KT=n,r.$T=i,r.tE=ga.df,r.nE=!0,r.iE=!1,r.rE=!1,r.eE=function(t){var n=t.readyState;n!==r.tE&&r.vs(t),n===ga.df&&(r.iE=!1,r.rE=!1),r.uE(n),r.sE(n),r.oE(n),r.maybeDispatchCanPlayThroughEvent(n),r.aE(n),r.cE(n),r.tE=n},r.hE=function(){r.cE(r.tE),r.aE(r.tE),r.nE=r.KT.Xv},r.fE=function(){r.nE=r.KT.Xv},r.KT.ls(da.dh,r.eE),r.KT.ls(ka.Lf,r.hE),r.KT.ls(ka.Mf,r.fE),r.$T&&r.KT.ls(da.vf,r.fs),r}ct(n,t);var i=n.prototype;return i.uE=function(t){!this.rE&&t>=ga.lf&&(this.rE=!0,this.vs(new Oa(this.KT.Lv,t)))},i.sE=function(t){!this.iE&&t>=ga._f&&(this.iE=!0,this.vs(new Ra(this.KT.Lv,t)))},i.aE=function(t){this.$T||(t>=ga.wf&&this.tE<ga.wf&&!this.KT.Xv||this.vE&&t>=ga.wf)&&this.vs(new eg(this.KT.Lv))},i.cE=function(t){!this.dE(t)||this.KT.Fv||this.KT.Is||this.vs(new rg(this.KT.Lv))},i.oE=function(t){this.tE<=ga._f&&t>=ga.wf&&this.vs(new Aa(this.KT.Lv,t))},i.maybeDispatchCanPlayThroughEvent=function(t){t===ga.gf&&this.vs(new pa(this.KT.Lv,t))},i.dE=function(t){var n=!this.KT.Xv&&t<=ga._f,i=!this.nE&&this.tE<=ga._f;return n&&!i},i.Rh=function(){this.tE=ga.df,this.nE=!0,this.iE=!1,this.rE=!1},i.Ih=function(){this.gs(),this.$T&&this.KT.ys(da.vf,this.fs),this.KT.ys(ka.Lf,this.hE),this.KT.ys(ka.Mf,this.fE),this.KT.ys(da.dh,this.eE)},T(n,[{key:"vE",get:function(){return!this.KT.Xv&&this.nE}}]),n}(ii);!function(t){t.lE="nokey",t._E="keyexpired",t.wE="sessionnotopened",t.gE="insufficientoutputprotection",t.yE="insufficientsecurity",t.mE="frametoolarge",t.kE="loststate",t.pE="resourcebusy",t.AE="unsupportedoperation"}($w||($w={}));var sg,og,ag,cg=[$w.AE,$w.pE,$w.kE,$w.mE,$w.yE,$w.gE,$w.wE,$w._E,$w.lE],hg=[ka.bf,ka.Af,ua.Zh];[].concat(Hl,[ua.Zh],cg);function fg(){return ag||(ag=Xt&&Xt.document&&Xt.document.createElement("video")),ag}!function(t){t.Kl="video",t.$l="audio"}(sg||(sg={})),function(t){t[t.bE=0]="bE",t[t.TE=1]="TE",t[t.EE=2]="EE",t[t.Dv=3]="Dv",t[t.SE=4]="SE",t[t.Mv=5]="Mv",t[t.RE=6]="RE"}(og||(og={}));var vg=function(t){function n(n,i,r,e,u,s,o){var a;return void 0===s&&(s=new Iw),void 0===o&&(o=Ue()),(a=t.call(this)||this).MT=void 0,a.IE=void 0,a.NE=void 0,a.CE=void 0,a.DE=function(t){var n=t.Is,i=n.code,r=new de(Sc(i),"Something went wrong during native playback.",n);a.IE=new bc(i,r.message,n.message),a.NE=r,a.vs(new Bl(r))},a.OE=function(){a.vs(new Na(a.Lv,a.Vd))},a.xE=function(t){a.Xv||(a.CE=void 0),a.vs(t)},a.PE=function(t){a.CE=void 0,a.vs(t)},a.BE=function(){a.vs(new Kf(a.Wd))},a.ME=function(){a.Gv>0&&a.zv>0&&a.vs(new Cl)},a.LE=function(t){a.fd.Th(new jf(t.track))},a.UE=function(t){var n=_g(a.fd,t.track);n&&a.fd.Eh(n)},a.FE=function(){a.HE(a.fd)},a.VE=function(t){a.vd.Th(new Jf(t.track))},a.XE=function(t){var n=_g(a.vd,t.track);n&&a.vd.Eh(n)},a.qE=function(){a.HE(a.vd)},a.WE=function(t){t.type===ka.Af&&(a.IE=Ec(t.errorObject),a.NE=t.errorObject),a.fs(t)},a.zE=i,a.TA=r,a.Uu=o,a.VT=a.zE.GE(Jh.Kl),a.jE=a.VT.QE.preload,a.HA=s,a.YE=new ug(a.VT,!0),a.YE.ls(ya,a.fs),a.ZE=new Dw(a.VT,a.TA,a.HA),a.ZE.ls(hg,a.WE),a.JE(),a.fd=new Uf,a.vd=new Uf,a.KE(),a.$E=new Tl(a.VT,a.TA),a.dd=new la,a.Cd(),a}ct(n,t);var i=n.prototype;return i.Dd=function(){this.VT.Dd()},i.Cd=function(){this.VT.Cd()},i.bd=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r){var e;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Hn(r),e={Cu:Cw.ZT,if:n.src,tS:n.type,nS:[],tl:this.jE,iS:n.crossOrigin,rS:i.metadata&&i.metadata.title},t.next=4,this.VT.do(e);case 4:return this.MT=t.sent,Hn(r),t.next=8,this.ZE.Rh();case 8:this.ZE.Eo(this.MT),this.ZE.VA(this.eS(n)),this.dd.Mh=this.VT.yd,i.textTracks&&this.uS(i.textTracks),Nl(this.yd);case 13:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.uS=function(t){for(var n,i=0;i<t.length;i++){var r=t[i];if(this.VT.sS()&&P.Ft&&Xw&&!gl(r.kind,r.label)&&this.oS(r)){var e=null!==(n=r.kind)&&void 0!==n?n:cf.km;this.VT.aS(r.src,e,r.label,r.srclang)}else{if(void 0===r.src)continue;this.$E.EA(r)}}},i.oS=function(t){return!t.format||"webvtt"===t.format},i.md=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.VT.md();case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:if(this.cS){t.next=12;break}return t.next=10,this.VT.As(ka.Uf);case 10:t.next=7;break;case 12:case"end":return t.stop()}},t,this,[[0,5]])}));return function(){return t.apply(this,arguments)}}(),i.kd=function(){this.VT.kd()},i.Td=function(){return void 0!==this.VT.QE.webkitShowPlaybackTargetPicker},i.Ed=function(){this.VT.QE.webkitShowPlaybackTargetPicker&&this.VT.QE.webkitShowPlaybackTargetPicker()},i.Sd=function(){this.VT.QE.webkitShowPlaybackTargetPicker&&this.VT.QE.webkitShowPlaybackTargetPicker()},i.Od=function(){return this.VT.QE},i.xd=function(){return this.VT.hS},i.Rh=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.IE=void 0,this.NE=void 0,this.MT&&(this.MT=void 0),this.dd.Rh(),t.next=6,this.VT.Rh();case 6:return this.YE.Rh(),t.next=9,this.ZE.Rh();case 9:return this.tl=this.jE,this.wd.Rh(),this.gd.Rh(),t.next=14,this.$E.Rh();case 14:this.CE=void 0;case 15:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Ih=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Rh();case 2:return this.gs(),this.fS(),this.vS(),t.next=7,this.ZE.Ih();case 7:return this.YE.Ih(),t.next=10,this.zE.dS(this.VT);case 10:return this.fd.Ih(),this.vd.Ih(),this.dd.Ih(),t.next=15,this.$E.Ih();case 15:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.JE=function(){this.VT.ls(ka.Lf,this.fs),this.VT.ls(ka.Mf,this.fs),this.VT.ls(ka.Zf,this.OE),this.VT.ls(ka.Uf,this.fs),this.VT.ls(ka.Df,this.fs),this.VT.ls(ka.qf,this.fs),this.VT.ls(ka.Xf,this.xE),this.VT.ls(ka.If,this.fs),this.VT.ls(ka.Ff,this.fs),this.VT.ls(ka.Jf,this.fs),this.VT.ls(ka.Sf,this.fs),this.VT.ls(ka.Vf,this.ME),this.VT.ls(da.vf,this.PE),this.VT.ls(ua.Zh,this.DE),this.VT.QE.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.BE)},i.fS=function(){this.VT.ys(ka.Lf,this.fs),this.VT.ys(ka.Mf,this.fs),this.VT.ys(ka.Zf,this.OE),this.VT.ys(ka.Uf,this.fs),this.VT.ys(ka.Df,this.fs),this.VT.ys(ka.qf,this.fs),this.VT.ys(ka.Xf,this.xE),this.VT.ys(ka.If,this.fs),this.VT.ys(ka.Ff,this.fs),this.VT.ys(ka.Jf,this.fs),this.VT.ys(ka.Sf,this.fs),this.VT.ys(ka.Vf,this.ME),this.VT.ys(da.vf,this.PE),this.VT.ys(ua.Zh,this.DE),this.VT.QE.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.BE)},i.eS=function(t){if(t.contentProtection&&t.contentProtection.fairplay){return{Ab:t.contentProtection||{},qA:[{Co:on,WA:[],Tb:void 0,Ko:void 0}],QT:[],YT:["video/mp4"]}}},i.KE=function(){var t=this.VT.QE.audioTracks,n=this.VT.QE.videoTracks;t&&(t.addEventListener("addtrack",this.LE),t.addEventListener("removetrack",this.UE),t.addEventListener("change",this.FE)),n&&(n.addEventListener("addtrack",this.VE),n.addEventListener("removetrack",this.XE),n.addEventListener("change",this.qE))},i.vS=function(){var t=this.VT.QE.audioTracks,n=this.VT.QE.videoTracks;t&&(t.removeEventListener("addtrack",this.LE),t.removeEventListener("removetrack",this.UE),t.removeEventListener("change",this.FE)),n&&(n.removeEventListener("addtrack",this.VE),n.removeEventListener("removetrack",this.XE),n.removeEventListener("change",this.qE))},i.HE=function(t){for(var n=0;n<t.Ch;n++){t.bh(n).xm()}},i.Fd=function(){this.ZE.jT().then(j)},T(n,[{key:"cS",get:function(){var t=this.VT.Hd,n=new no(this.Lv),i=new no(.01);return t.Xy(n,i)}},{key:"wd",get:function(){return this.fd}},{key:"Hd",get:function(){return this.VT.Hd.By()}},{key:"Vd",get:function(){return this.VT.Vd},set:function(t){t&&this.VT.lS(t)}},{key:"Lv",get:function(){return void 0!==this.CE?this.CE:this.VT.Lv},set:function(t){this.Wd&&(this.CE=t),this.VT.qs(t)}},{key:"Uv",get:function(){return this.VT.Uv}},{key:"Fv",get:function(){return this.VT.Fv}},{key:"Is",get:function(){return this.IE}},{key:"Hv",get:function(){return this.NE}},{key:"qd",get:function(){}},{key:"Wd",get:function(){return this.VT.Wd}},{key:"zd",get:function(){return Dt(Dt({},{Gd:0,jd:0,Qd:0,Yd:0,Zd:0,Jd:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}),this.VT._S())}},{key:"Vv",get:function(){return this.VT.Vv},set:function(t){this.VT.Vv=t}},{key:"Kd",get:function(){return!0}},{key:"Xv",get:function(){return this.VT.Xv}},{key:"qv",get:function(){return this.VT.qv},set:function(t){this.VT.qv=t}},{key:"$d",get:function(){return this.VT.QE.played}},{key:"tl",get:function(){return this.jE},set:function(t){this.jE=t,this.MT&&(this.MT.tl=t)}},{key:"$h",get:function(){return this.VT.$h}},{key:"nl",get:function(){return this.VT.nl.By()}},{key:"Wv",get:function(){return this.VT.Wv}},{key:"wS",get:function(){return this.VT.wS}},{key:"yd",get:function(){return this.dd}},{key:"gd",get:function(){return this.vd}},{key:"zv",get:function(){return this.VT.zv}},{key:"Gv",get:function(){return this.VT.Gv}},{key:"jv",get:function(){return this.VT.jv},set:function(t){this.VT.jv=t}}]),n}(_a);function dg(t){return!t.type||!(!fg().canPlayType||!fg().canPlayType(t.type))}var lg=function(){function t(){this.gS=og.RE}var n=t.prototype;return n.fl=function(t,n,i,r,e,u){return new vg(t,n,i,r,e)},n.yS=function(t,n){return dg(t)},t}();function _g(t,n){for(var i=0,r=t.Nh;i<r.length;i++){var e=r[i];if(e.Mm===n)return e}}var wg=function(){function t(){this.mS=new lg,this.kS=[]}t.pS=function(){return this.dn};var n=t.prototype;return n.AS=function(t){this.kS.push(t)},n.fl=function(t,n,i,r,e,u){for(var s=this.mS.fl(t,n,i,r,e,u),o=0,a=this.kS;o<a.length;o++){s=(0,a[o])(s,i,r)}return s},n.yS=function(t,n){return this.mS.yS(t,n)},T(t,[{key:"gS",get:function(){return this.mS.gS}}]),t}();function gg(t){kg.dn.bS(t)}function yg(t,n){return kg.dn.TS(t,n)}function mg(t,n){return Js(t.gS,n.gS)}wg.dn=new wg;var kg=function(){function t(){this.ES=wg.pS(),this.SS=[]}var n=t.prototype;return n.RS=function(t){this.ES=t},n.IS=function(){return this.ES},n.bS=function(t){this.SS.push(t),this.SS.sort(mg)},n.NS=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r,e,u,s;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.SS;case 1:if(!(r<e.length)){t.next=17;break}if(u=e[r],!W(s=u.yS(n,i))){t.next=10;break}return t.next=7,s;case 7:t.t0=t.sent,t.next=11;break;case 10:t.t0=Boolean(s);case 11:if(!t.t0){t.next=14;break}return t.abrupt("return",u);case 14:r++,t.next=1;break;case 17:return t.abrupt("return",void 0);case 18:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.TS=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r,e,u,s,o,a;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<n.length)){t.next=11;break}return e=n[r],t.next=5,this.NS(e,i);case 5:if(!(u=t.sent)){t.next=8;break}return t.abrupt("return",{CS:e,DS:u});case 8:r++,t.next=1;break;case 11:s=this.ES,o=0;case 13:if(!(o<n.length)){t.next=20;break}if(a=n[o],!s.yS(a,i)){t.next=17;break}return t.abrupt("return",{CS:a,DS:s});case 17:o++,t.next=13;break;case 20:return t.abrupt("return",{CS:n[0],DS:s});case 21:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),t}();kg.dn=new kg;var pg,Ag=function(){function t(t){this.OS=Xt&&Xt.document&&Xt.document.createElement("div"),Ie(this.OS),t.appendChild(this.OS)}return t.prototype.Ih=function(){Te(this.OS)},t}();function bg(t){switch(t){case pg._m:case"":return pg._m;case pg.n_:return pg.n_;case pg.xS:default:return pg.xS}}!function(t){t.RE="",t.xS="none",t.n_="metadata",t._m="auto"}(pg||(pg={}));var Tg=[ua.Zh,ka.Rf,ka.Ns,ka.tv,ka.yf,ka.Nf,ka.Pf,ka.Bf,ka.zf,ka.jf,da.sf,da.af,da.cf,da.hf,da.dh,da.ff,da.vf,ka.Af,ka.bf,ka.Sf,ka.If,ka.Df,ka.Of,ka.Lf,ka.Uf,ka.Mf,ka.Ff,ka.Vf,ka.qf,ka.Xf,ka.Zf,ka.Jf,ka.Hf,ka.xf,ka.Wf],Eg=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this)||this).PS=void 0,o.jE=pg.xS,o.BS=void 0,o.MS=!0,o.fd=new sa,o.vd=new sa,o.dd=new la,o.LS=n,o.Go=i,o.TA=r,o.US=e,o.FS=s,o.HS=new Ft(u,o.FS),o.HS.VS(o.LS),o.XS=new Ag(o.LS),o.qS=kg.dn.IS(),o.WS=o.zS(o.qS),o.WS.tl=o.tl,o.GS(),o}ct(n,t);var i=n.prototype;return i.kd=function(){this.WS.kd()},i.md=function(){this.WS.md()},i.pd=function(){return this.bd({sources:[]})},i.Rd=function(){this.HS.jS()},i.Id=function(t){lc(this,t)},i.Nd=function(){},i.Bd=function(t){return!1},i.zS=function(t){return t.fl(this.LS,this.HS,this.TA,this.Go,this.US,this.FS)},i.GS=function(){this.fd.Mh=this.WS.wd,this.vd.Mh=this.WS.gd,this.dd.Mh=this.WS.yd,this.WS.ls(Tg,this.fs)},i.QS=function(){this.WS.ys(Tg,this.fs),this.fd.Mh=void 0,this.vd.Mh=void 0,this.dd.Mh=void 0},i.Ad=function(){return this.BS},i.bd=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r,e,u,s,o,a;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Hn(i),this.BS=n,n){t.next=4;break}return t.abrupt("return");case 4:if(!uc(r=n.sources.filter(Sf))){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,yg(r,n);case 9:if(e=t.sent,Hn(i),u=e.CS,s=e.DS,o=this.xd(),a=dc(this),this.qS===s&&!this.Is){t.next=25;break}return this.QS(),t.next=19,this.WS.Ih();case 19:Hn(i),this.qS=s,this.WS=this.zS(s),Sg(this.WS,a),_c(this,a,this),this.GS();case 25:return this.WS.tl=this.tl,this.MS?this.WS.Cd():this.WS.Dd(),t.next=29,this.WS.bd(u,n,i);case 29:Hn(i),this.YS(u),this.xd()!==o&&this.vs(new gc);case 32:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.YS=function(t){this.PS!==t&&(this.PS=t,this.vs(new yc(t)))},i.Td=function(){return this.WS.Td()},i.Ed=function(){this.WS.Ed()},i.Sd=function(){this.WS.Sd()},i.Od=function(){return this.WS.Od()},i.xd=function(){return this.WS.xd()},i.Pd=function(){return this.HS.ZS.map(function(t){return t.QE})},i.Fd=function(){this.WS.Fd()},i.Rh=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.BS=void 0,this.YS(void 0),t.next=4,this.WS.Rh();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Ih=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.gs(),t.next=3,this.Rh();case 3:return t.next=5,this.WS.Ih();case 5:this.HS.Ih(),this.XS.Ih(),this.fd.Ih(),this.vd.Ih(),this.dd.Ih();case 10:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Cd=function(){this.MS=!0,this.WS.Cd()},i.Dd=function(){this.MS=!1,this.WS.Dd()},T(n,[{key:"wd",get:function(){return this.fd}},{key:"Hd",get:function(){return this.WS.Hd}},{key:"Xd",get:function(){return this.LS}},{key:"Is",get:function(){return this.WS.Is}},{key:"Hv",get:function(){return this.WS.Hv}},{key:"Vd",get:function(){return this.WS.Vd},set:function(t){this.WS.Vd=t}},{key:"Ud",get:function(){return this.PS}},{key:"Lv",get:function(){return this.WS.Lv},set:function(t){this.WS.Lv=t}},{key:"Uv",get:function(){return this.WS.Uv}},{key:"Fv",get:function(){return this.WS.Fv}},{key:"qd",get:function(){return this.WS.qd}},{key:"Wd",get:function(){return this.WS.Wd}},{key:"zd",get:function(){return this.WS.zd}},{key:"Vv",get:function(){return this.WS.Vv},set:function(t){this.WS.Vv=t}},{key:"Kd",get:function(){return this.WS.Kd}},{key:"Xv",get:function(){return this.WS.Xv}},{key:"qv",get:function(){return this.WS.qv},set:function(t){this.WS.qv=t}},{key:"$d",get:function(){return this.WS.$d}},{key:"tl",get:function(){return this.jE},set:function(t){this.jE=t,this.WS&&(this.WS.tl=this.jE)}},{key:"$h",get:function(){return this.WS.$h}},{key:"nl",get:function(){return this.WS.nl}},{key:"Wv",get:function(){return this.WS.Wv}},{key:"yd",get:function(){return this.dd}},{key:"zv",get:function(){return this.WS.zv}},{key:"gd",get:function(){return this.vd}},{key:"Gv",get:function(){return this.WS.Gv}},{key:"jv",get:function(){return this.WS.jv},set:function(t){this.WS.jv=t}}]),n}(wa);function Sg(t,n){t.Vv!==n.Vv&&(t.Vv=n.Vv),t.jv!==n.jv&&(t.jv=n.jv),t.qv!==n.qv&&(t.qv=n.qv)}var Rg=function(t){function n(){return t.call(this,ba.Zh)||this}return ct(n,t),n}(ei),Ig=new(function(t){function n(){return t.apply(this,arguments)||this}ct(n,t);var i=n.prototype;return i.Rv=function(){this.vs(new Rg)},i.Iv=function(){},i.Ih=function(){this.gs()},T(n,[{key:"Sv",get:function(){return!1}},{key:"Ev",get:function(){return!1}}]),n}(ii)),Ng=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).LS=n,e.JS=i,e.KS=new Uf,e.$S=new Kd,e.tR=r,e}ct(n,t);var i=n.prototype;return i.Bd=function(t){return!0},i.Dd=function(){},i.md=function(){throw this.vs(new Va(this.tR)),this.JS},i.kd=function(){},i.Ad=function(){},i.bd=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:throw Hn(i),this.vs(new Va(this.tR)),this.JS;case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Cd=function(){},i.pd=function(){return Ct.resolve()},i.Od=function(){},i.xd=function(){return Ig},i.Pd=function(){return[]},i.Rd=function(){},i.Id=function(t){},i.Nd=function(){},i.Td=function(){return!1},i.Ed=function(){},i.Sd=function(){},i.Fd=function(){},i.Rh=function(){return Ct.resolve()},i.Ih=function(){return this.gs(),this.KS.Ih(),this.$S.Ih(),Ct.resolve()},T(n,[{key:"wd",get:function(){return this.KS}},{key:"Hd",get:function(){return nf.lm().By()}},{key:"Vd",get:function(){return new Date(NaN)},set:function(t){}},{key:"Ud",get:function(){}},{key:"Lv",get:function(){return 0},set:function(t){}},{key:"Uv",get:function(){return 0}},{key:"Xd",get:function(){return this.LS}},{key:"Fv",get:function(){return!0}},{key:"Is",get:function(){return this.JS}},{key:"Hv",get:function(){return this.tR}},{key:"qd",get:function(){}},{key:"zd",get:function(){return{Gd:0,jd:0,Qd:0,Yd:0,Zd:0,Jd:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"Vv",get:function(){return!1},set:function(t){}},{key:"Kd",get:function(){return!0}},{key:"Xv",get:function(){return!0}},{key:"qv",get:function(){return 0},set:function(t){}},{key:"$d",get:function(){return nf.lm().By()}},{key:"tl",get:function(){return pg.xS},set:function(t){}},{key:"$h",get:function(){return ga.df}},{key:"nl",get:function(){return nf.lm().By()}},{key:"Wv",get:function(){return!1}},{key:"yd",get:function(){return this.$S}},{key:"zv",get:function(){return 0}},{key:"gd",get:function(){return this.KS}},{key:"Gv",get:function(){return 0}},{key:"jv",get:function(){return 1},set:function(t){}},{key:"Wd",get:function(){return!1}}]),n}(wa);var Cg=function(){function t(t){this.nR=t}return t.prototype.iR=function(t){var n,i,r,e,u,s,o,a=[];if(!t)return"";var c=t.length%4;if(c>0)for(;c++<4;)t+=this.nR.charAt(64);for(n=0;n<t.length;n+=4)i=(o=this.nR.indexOf(t.charAt(n))<<18|this.nR.indexOf(t.charAt(n+1))<<12|(u=this.nR.indexOf(t.charAt(n+2)))<<6|(s=this.nR.indexOf(t.charAt(n+3))))>>>16&255,r=o>>>8&255,e=255&o,a[n/4]=String.fromCharCode(i,r,e),64===s&&(a[n/4]=String.fromCharCode(i,r)),64===u&&(a[n/4]=String.fromCharCode(i));return a.join("")},t.prototype.rR=function(t,n){var i,r,e,u,s,o,a,c=[],h="";if((o=t.length%3)>0)for(;o++<3;)h+=this.nR.charAt(64),t+="\0";for(o=0;o<t.length;o+=3)r=(i=t.charCodeAt(o)<<16|t.charCodeAt(o+1)<<8|t.charCodeAt(o+2))>>18&63,e=i>>12&63,u=i>>6&63,s=63&i,c[o/3]=this.nR.charAt(r)+this.nR.charAt(e)+this.nR.charAt(u)+this.nR.charAt(s);return a=(a=c.join("")).slice(0,a.length-h.length),n||(a+=h),a},t.bp=new t(function(){var t,n,i,r,e=[],u=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<u.length;t+=1)for(n=u[t],i=0;i<n.length;i+=1)r=n.charAt(i),-1===e.indexOf(r)&&e.push(r);return e.join("")}()),t.eR=new t(t.bp.iR("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")),t}();function Dg(t){return"string"==typeof t}function Og(t){return"number"==typeof t}var xg={}.toString;var Pg,Bg=Array.isArray||function(t){return"[object Array]"===xg.call(t)};function Mg(t,n){return Bg(t)&&t.every(n)}!function(t){t.HTML5="html5",t.ANDROID="android",t.IOS="ios",t.TVOS="tvos",t.ANDROIDTV="androidtv",t.TIZEN="tizen",t.WEBOS="webos",t.CHROMECAST="chromecast",t.ROKU="roku",t.FIRETV="firetv",t.CHROMECASTCAF="chromecastcaf"}(Pg||(Pg={}));var Lg,Ug=_.keys(Pg).map(function(t){return Pg[t]});function Fg(t){return-1!==Ug.indexOf(t)}function Hg(t){try{var n=Cg.eR.iR(t),i=JSON.parse(n);if(!function(t){var n=(f=t,"object"==typeof f&&null!==f),i=Dg(t.key),r=Dg(t.customer_id),e=Og(t.generation_date),u=Og(t.expiration_date),s=Mg(t.domains_page,Dg),o=Mg(t.domains_source,Dg),a=Mg(t.sdks,Fg),c=(h=t.send_impression,"boolean"==typeof h);var h;var f;if(!(n&&i&&r&&e&&u&&s&&o&&a&&c))return!1;return!0}(i))throw new d("The provided license could not be decoded correctly.");return i}catch(t){throw new d("The provided license could not be decoded correctly.")}}function Vg(){return Lg||(Lg={rA:qt.href,uR:Xt.parent&&Xt.parent!==u,sR:Wg()}),Lg}var Xg,qg=["http:","https:","ftp:","ws:","wss:"];function Wg(){try{return Xt.top.location.href}catch(t){return Xt&&Xt.document&&Xt.document.referrer}}!function(t){t[t.oR=0]="oR",t[t.aR=1]="aR",t[t.cR=2]="cR"}(Xg||(Xg={}));var zg,Gg=function(t,n,i,r,e,u,s,o){void 0===e&&(e=""),void 0===u&&(u=Date.now()),void 0===s&&(s=[]),void 0===o&&(o=!0),this.hR=t,this.fR=n,this.vR=i,this.dR=r,this.lR=e,this._R=u,this.wR=s,this.gR=o};!function(t){t.aR="expired",t.yR="invaliddomain",t.mR="invalidsource",t.Zh="error"}(zg||(zg={}));var jg=function(){function t(t,n,i){this.kR=t,this.pR=n,this.AR=i,this.bR=$g(this.AR)}var n=t.prototype;return n.TR=function(t,n){var i=this;if(!Ef(t)&&0!==n.vR.length&&!Zg(n.vR)){var r=[];if(ec(t.sources)?r=[t.sources]:F(t.sources)&&(r=t.sources),!r.every(function(t){return i.ER(t,n)})){var e=zg.mR,u=ny.SR(e);throw new de(Qg(e),u)}}},n.RR=function(n){return this.IR(n.wR)&&this.NR(n)?t.CR(n.dR)?Xg.oR:Xg.aR:Xg.cR},n.IR=function(t){var n=this;return 0===t.length||t.some(function(t){return n.DR(t)})},n.DR=function(t){return"ios"===function(t){switch(t){case Pg.ANDROID:return e.l;case Pg.ANDROIDTV:case Pg.FIRETV:return e.g;case Pg.IOS:return e.R;case Pg.TVOS:return e.I;case Pg.CHROMECAST:case Pg.CHROMECASTCAF:return e.N;default:return e.o}}(t)},t.CR=function(t){var n=Number(new Date);return!!t&&n<=t},n.NR=function(t){return!(this.bR&&0!==t.fR.length&&!Zg(t.fR))||!!(this.bR&&this.OR(t.fR)&&this.xR(t.fR))},n.OR=function(t){return Jg(this.AR.rA,t)},n.xR=function(t){if(!this.AR.uR)return!0;if(this.kR)return!0;var n=this.PR();return!!n&&Jg(n,t)},n.PR=function(){if(this.AR.uR){var t=o.ancestorOrigins;return t&&t.length>0?t[t.length-1]:this.AR.sR?this.AR.sR:void 0}},n.ER=function(n,i){return!!t.MR(n,i.vR)},t.MR=function(t,n){return Jg(this.LR(t),n)},t.LR=function(t){return X(t)?t:rc(t)&&t.src||""},t}();function Qg(t){switch(t){case zg.yR:return n.ErrorCode.LICENSE_INVALID_DOMAIN;case zg.mR:return n.ErrorCode.LICENSE_INVALID_SOURCE;case zg.aR:return n.ErrorCode.LICENSE_EXPIRED;case zg.Zh:return n.ErrorCode.LICENSE_ERROR}}function Yg(t,n){var i=t,r=n;if(!i)return!1;if("*"===(r=r.trim()))return!0;if(r===(i=i.replace(/\.+$/,"")))return!0;var e="\\.",u="25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?",s="(\\*|"+u+")",o=new RegExp("ip-range\\("+s+e+s+e+s+e+s+"\\)"),a=r.match(o),c=function(t){return"*"===t?"("+u+")":t};if(null!==a&&5===a.length){var h=new RegExp("^"+a[1]+e+c(a[2])+e+c(a[3])+e+c(a[4])+"$");return null!==i.match(h)}return r="."+r,-1!==i.indexOf(r,i.length-r.length)}function Zg(t){return t.some(function(t){return"*"===t})}function Jg(t,n){var i=r.Oa(t);if(!Kg(i))return!0;for(var e=0;e<n.length;e++){var u=n[e];if(Yg(i.hostname,u))return!0;if(Yg(Vs(t),u))return!0}return!1}function Kg(t){return-1!==qg.indexOf(t.protocol)}function $g(t){var n=r.Oa(t.rA);return Kg(n)&&!Yg(n.hostname,"localhost")&&!function(t){return Yg(t.hostname,"theoplayer.doubleclick.net")}(n)}var ty,ny=function(){function t(){}return t.SR=function(t){return t===zg.yR?this.UR:t===zg.mR?this.FR:t===zg.aR?this.HR:this.XR},t}();function iy(t){var n=[t.Qw,t.qR,t.WR];switch(t.qR){case ty.zR:n.push(t.if);break;case ty.GR:n.push(t.Lv),n.push(t.Is);break;case ty.jR:n.push(t.Is)}return n}ny.XR="The license for this player is invalid.",ny.HR="The usage license for this video player has expired.",ny.UR="The current domain is incompatible with the license for this player.",ny.FR="The provided video source is incompatible with the license for this player.",function(t){t[t.zR=1]="zR",t[t.GR=4]="GR",t[t.jR=5]="jR"}(ty||(ty={}));for(var ry=new Array(256),ey=0;ey<256;ey+=1)ry[ey]=(ey<16?"0":"")+ey.toString(16);function uy(){var t=ot(),n=(4294967296*w.random()|0)+t&3029421624,i=(4294967296*w.random()|0)+t&3595553209,r=(4294967296*w.random()|0)+t&1130486254,e=(4294967296*w.random()|0)+t&1284287105;return ry[255&n]+ry[n>>>8&255]+ry[n>>>16&255]+ry[n>>>24&255]+"-"+ry[255&i]+ry[i>>>8&255]+"-"+ry[i>>>16&15|64]+ry[i>>>24&255]+"-"+ry[63&r|128]+ry[r>>>8&255]+"-"+ry[r>>>16&255]+ry[r>>>24&255]+ry[255&e]+ry[e>>>8&255]+ry[e>>>16&255]+ry[e>>>24&255]}var sy=function(){function t(t){this.nR=t}var n=t.prototype;return n.iR=function(t){var n,i,r,e,u,s,o,a=[];if(!t)return"";for(n=0;n<t.length;n+=4)i=(o=this.nR.indexOf(t.charAt(n))<<18|this.nR.indexOf(t.charAt(n+1))<<12|(u=this.nR.indexOf(t.charAt(n+2)))<<6|(s=this.nR.indexOf(t.charAt(n+3))))>>>16&255,r=o>>>8&255,e=255&o,a[n/4]=String.fromCharCode(i,r,e),64===s&&(a[n/4]=String.fromCharCode(i,r)),64===u&&(a[n/4]=String.fromCharCode(i));return a.join("")},n.rR=function(t){var n,i,r,e,u,s,o,a=[],c="";if((s=t.length%3)>0)for(;s++<3;)c+=this.nR.charAt(64),t+="\0";for(s=0;s<t.length;s+=3)i=(n=t.charCodeAt(s)<<16|t.charCodeAt(s+1)<<8|t.charCodeAt(s+2))>>18&63,r=n>>12&63,e=n>>6&63,u=63&n,a[s/3]=this.nR.charAt(i)+this.nR.charAt(r)+this.nR.charAt(e)+this.nR.charAt(u);return(o=a.join("")).slice(0,o.length-c.length)+c},t}();function oy(){return r.Ec()}sy.bp=new sy(function(){var t,n,i,r,e=[],u=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<u.length;t+=1)for(n=u[t],i=0;i<n.length;i+=1)r=n.charAt(i),-1===e.indexOf(r)&&e.push(r);return e.join("")}()),sy.eR=new sy(sy.bp.iR("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop"));var ay,cy="theoplayer-session-id";function hy(){if(!ay){var t=yo.Ms(cy);t?ay=t:(ay=uy(),yo.mc(cy,ay))}return ay}var fy=/[^\x00-\x7E]/g;function vy(t){return"\\u"+gn(t.charCodeAt(0).toString(16),4,"0")}var dy=function(t){function n(n,i){return t.call(this,n,i)||this}return ct(n,t),n}(cl),ly=0,_y=1,wy=6e4;function gy(t){var n,i,r,e,u,s=(n=function(t){return[t.QR,t.po,t.hR,t.p_,t.YR,t.ZR,t.JR.map(iy)]}(t),i=[],r=n,e=function(t,n){if(H(n)){if(-1!==i.indexOf(n))return null;i.push(n)}return n},JSON.stringify(r,e,u).replace(fy,vy));return sy.eR.rR(s)}var yy=function(){function t(t,n,i,r,e,u){var s=this;void 0===r&&(r=sy.bp),void 0===e&&(e=ly),void 0===u&&(u=_y),this.nT=t,this.TA=n,this.KR=i,this.$R=r,this.tI=e,this.nI=u,this.iI=[],this.rI=null,this.eI=0,this.uI="unknown",this.sI=0,this.oI=function(){oy()-s.eI>wy&&s.aI()},this.cI=function(){s.aI(!0)},Vt.hI(this.cI),f(this.oI,wy)}var n=t.prototype;return n.fI=function(){return Boolean(this.YR)},n.vI=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.KR.dI();case 2:if(t.sent.gR){t.next=5;break}return t.abrupt("return");case 5:return i={qR:ty.zR,WR:ot(),if:n},t.next=8,this.lI(i);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n._I=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={qR:ty.GR,WR:ot(),Lv:i,Is:n},t.next=3,this.lI(r);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.wI=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i={qR:ty.jR,WR:ot(),Is:n},t.next=3,this.lI(i);case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.lI=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.KR.dI();case 2:if(i=t.sent,"a:n[_O*[C4C-N$_@_MYY $D]iOp]N$_-_]th_:c|aen?C:pH"!==this.$R.rR(i.hR)){t.next=6;break}if(n.qR===ty.jR){t.next=6;break}return t.abrupt("return");case 6:if(n.qR===ty.zR?this.gI():this.fI()||this.gI(),n.Qw=this.sI++,this.iI.push(n),(r=n.qR)!==ty.zR&&r!==ty.jR){t.next=14;break}return t.next=12,this.aI();case 12:t.next=19;break;case 14:if(!(this.iI.length>this.tI)){t.next=19;break}return t.next=17,this.yI();case 17:t.next=19;break;case 19:case"end":return t.stop()}var r},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.aI=function(){var t=Ct.coroutine(Nt.mark(function t(n){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:void 0===n&&(n=!1);case 1:if(!(this.iI.length>0)){t.next=6;break}return t.next=4,this.yI(n);case 4:t.next=1;break;case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.mI=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.KR.dI();case 2:return i=t.sent,t.abrupt("return",{QR:ot(),po:hy(),hR:this.$R.rR(i.hR)||"dev",p_:this.nT,YR:this.rI,ZR:this.uI,JR:n});case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.yI=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i,r;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===n&&(n=!1),i=this.iI.splice(0,this.nI),t.next=4,this.mI(i);case 4:r=t.sent,n?this.kI(r):this.pI(r),this.eI=oy();case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.pI=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i,r,e;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=gy(n),r=new dy({rA:"https://license.theoplayer.com",eA:i,fA:!1,oA:Zd.yn,uA:{"Content-Type":R_.cT},aA:4e3,sA:tl.POST}),t.prev=2,t.next=5,this.TA.yA(r);case 5:return e=t.sent,t.next=8,e.sT();case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),(new Image).src="https://licensing.theoplayer.com/t?"+i;case 13:case"end":return t.stop()}},t,this,[[2,10]])}));return function(n){return t.apply(this,arguments)}}(),n.kI=function(t){var n=gy(t);this.TA.kI({rA:"https://license.theoplayer.com",eA:n,tS:R_.cT})},n.gI=function(){this.fI()&&this.aI(),this.rI=uy(),this.sI=0},n.Ih=function(){Vt.AI(this.cI),this.aI()},T(t,[{key:"JR",get:function(){return this.iI}},{key:"YR",get:function(){return this.rI}}]),t}();var my="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(t){return"Symbol("+t+")"};function ky(){}var py=Number.isNaN||function(t){return t!=t},Ay=ky;function by(t){return"object"==typeof t&&null!==t||"function"==typeof t}function Ty(t){return t.slice()}function Ey(t){return!1!==function(t){if("number"!=typeof t)return!1;if(py(t))return!1;if(t<0)return!1;return!0}(t)&&t!==1/0}function Sy(t,n,i){if("function"!=typeof t)throw new l("Argument is not a function");return Function.prototype.apply.call(t,n,i)}function Ry(t,n,i,r){var e=t[n];if(void 0!==e){if("function"!=typeof e)throw new l(e+" is not a method");switch(i){case 0:return function(){return Ny(e,t,r)};case 1:return function(n){var i=[n].concat(r);return Ny(e,t,i)}}}return function(){return Uy(void 0)}}function Iy(t,n,i){var r=t[n];if(void 0!==r)return Sy(r,t,i)}function Ny(t,n,i){try{return Uy(Sy(t,n,i))}catch(t){return Fy(t)}}function Cy(t){return t}function Dy(t){if(t=Number(t),py(t)||t<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return t}function Oy(t){if(void 0===t)return function(){return 1};if("function"!=typeof t)throw new l("size property of a queuing strategy must be a function");return function(n){return t(n)}}var xy=Ct,Py=Ct.prototype.then,By=Ct.resolve.bind(xy),My=Ct.reject.bind(xy);function Ly(t){return new xy(t)}function Uy(t){return By(t)}function Fy(t){return My(t)}function Hy(t,n,i){return Py.call(t,n,i)}function Vy(t,n,i){Hy(Hy(t,n,i),void 0,Ay)}function Xy(t,n){Vy(t,n)}function qy(t,n){Vy(t,void 0,n)}function Wy(t,n,i){return Hy(t,n,i)}function zy(t){Hy(t,void 0,Ay)}var Gy=function(){function t(){this.bI=0,this.TI=0,this.ze={EI:[],SI:void 0},this.RI=this.ze,this.bI=0,this.TI=0}return _.defineProperty(t.prototype,"length",{get:function(){return this.TI},enumerable:!0,configurable:!0}),t.prototype.push=function(t){var n=this.RI,i=n;16383===n.EI.length&&(i={EI:[],SI:void 0}),n.EI.push(t),i!==n&&(this.RI=i,n.SI=i),++this.TI},t.prototype.shift=function(){var t=this.ze,n=t,i=this.bI,r=i+1,e=t.EI,u=e[i];return 16384===r&&(n=t.SI,r=0),--this.TI,this.bI=r,t!==n&&(this.ze=n),e[i]=void 0,u},t.prototype.forEach=function(t){for(var n=this.bI,i=this.ze,r=i.EI;!(n===r.length&&void 0===i.SI||n===r.length&&(n=0,0===(r=(i=i.SI).EI).length));)t(r[n]),++n},t.prototype.peek=function(){var t=this.ze,n=this.bI;return t.EI[n]},t}();function jy(t,n,i){var r=null;!0===i&&(r=_.prototype);var e=_.create(r);return e.value=t,e.done=n,e}function Qy(t,n){t.II=!0,t.NI=n,n.CI=t,"readable"===n.DI?Ky(t):"closed"===n.DI?function(t){Ky(t),nm(t)}(t):$y(t,n.OI)}function Yy(t,n){return up(t.NI,n)}function Zy(t){"readable"===t.NI.DI?tm(t,new l("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,n){$y(t,n)}(t,new l("Reader was released and can no longer be used to monitor the stream's closedness")),t.NI.CI=void 0,t.NI=void 0}function Jy(t){return new l("Cannot "+t+" a stream using a released reader")}function Ky(t){t.ho=Ly(function(n,i){t.xI=n,t.BI=i})}function $y(t,n){Ky(t),tm(t,n)}function tm(t,n){zy(t.ho),t.BI(n),t.xI=void 0,t.BI=void 0}function nm(t){t.xI(void 0),t.xI=void 0,t.BI=void 0}var im=my("[[CancelSteps]]"),rm=my("[[PullSteps]]");function em(t,n){void 0===n&&(n=!1);var i=new fm(t);return i.II=n,i}function um(t){return Ly(function(n,i){var r={ue:n,vi:i};t.CI.MI.push(r)})}function sm(t,n,i){var r=t.CI;r.MI.shift().ue(jy(n,i,r.II))}function om(t){return t.CI.MI.length}function am(t){var n=t.CI;return void 0!==n&&!!vm(n)}var cm,hm,fm=function(){function t(t){if(!1===rp(t))throw new l("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===ep(t))throw new l("This stream has already been locked for exclusive reading by another reader");Qy(this,t),this.MI=new Gy}return _.defineProperty(t.prototype,"closed",{get:function(){return vm(this)?this.ho:Fy(lm("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return vm(this)?void 0===this.NI?Fy(Jy("cancel")):Yy(this,t):Fy(lm("cancel"))},t.prototype.read=function(){return vm(this)?void 0===this.NI?Fy(Jy("read from")):dm(this):Fy(lm("read"))},t.prototype.releaseLock=function(){if(!vm(this))throw lm("releaseLock");if(void 0!==this.NI){if(this.MI.length>0)throw new l("Tried to release a reader lock when that reader has pending read() calls un-settled");Zy(this)}},t}();function vm(t){return!!by(t)&&!!_.prototype.hasOwnProperty.call(t,"MI")}function dm(t){var n=t.NI;return n.LI=!0,"closed"===n.DI?Uy(jy(void 0,!0,t.II)):"errored"===n.DI?Fy(n.OI):n.UI[rm]()}function lm(t){return new l("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}"symbol"==typeof my.asyncIterator&&((cm={})[my.asyncIterator]=function(){return this},hm=cm,_.defineProperty(hm,my.asyncIterator,{enumerable:!1}));var _m={next:function(){if(!1===wm(this))return Fy(gm("next"));var t=this.FI;return void 0===t.NI?Fy(Jy("iterate")):Wy(dm(t),function(n){var i=n.done;return i&&Zy(t),jy(n.value,i,!0)})},return:function(t){if(!1===wm(this))return Fy(gm("next"));var n=this.FI;if(void 0===n.NI)return Fy(Jy("finish iterating"));if(n.MI.length>0)return Fy(new l("Tried to release a reader lock when that reader has pending read() calls un-settled"));if(!1===this.HI){var i=Yy(n,t);return Zy(n),Wy(i,function(){return jy(t,!0,!0)})}return Zy(n),Uy(jy(t,!0,!0))}};function wm(t){return!!by(t)&&!!_.prototype.hasOwnProperty.call(t,"FI")}function gm(t){return new l("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}function ym(t){var n=t.Kr.shift();return t.VI-=n.size,t.VI<0&&(t.VI=0),n.value}function mm(t,n,i){if(!Ey(i=Number(i)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");t.Kr.push({value:n,size:i}),t.VI+=i}function km(t){t.Kr=new Gy,t.VI=0}void 0!==hm&&_.setPrototypeOf(_m,hm),_.defineProperty(_m,"next",{enumerable:!1}),_.defineProperty(_m,"return",{enumerable:!1});var pm=my("[[AbortSteps]]"),Am=my("[[ErrorSteps]]"),bm=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),Em(this);var i=n.size,r=n.highWaterMark;if(void 0!==t.type)throw new RangeError("Invalid type is specified");var e=Oy(i);void 0===r&&(r=1),function(t,n,i,r){var e=_.create(qm.prototype);var u=Ry(n,"write",1,[e]),s=Ry(n,"close",0,[]),o=Ry(n,"abort",1,[]);Wm(t,e,function(){return Iy(n,"start",[e])},u,s,o,i,r)}(this,t,r=Dy(r),e)}return _.defineProperty(t.prototype,"locked",{get:function(){if(!1===Sm(this))throw Jm("locked");return Rm(this)},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===Sm(this)?Fy(Jm("abort")):!0===Rm(this)?Fy(new l("Cannot abort a stream that already has a writer")):Im(this,t)},t.prototype.close=function(){return!1===Sm(this)?Fy(Jm("close")):!0===Rm(this)?Fy(new l("Cannot close a stream that already has a writer")):!0===xm(this)?Fy(new l("Cannot close an already-closing stream")):Nm(this)},t.prototype.getWriter=function(){if(!1===Sm(this))throw Jm("getWriter");return Tm(this)},t}();function Tm(t){return new Mm(t)}function Em(t){t.DI="writable",t.OI=void 0,t.XI=void 0,t.qI=void 0,t.WI=new Gy,t.zI=void 0,t.GI=void 0,t.jI=void 0,t.QI=void 0,t.YI=!1}function Sm(t){return!!by(t)&&!!_.prototype.hasOwnProperty.call(t,"qI")}function Rm(t){return void 0!==t.XI}function Im(t,n){var i=t.DI;if("closed"===i||"errored"===i)return Uy(void 0);if(void 0!==t.QI)return t.QI.Ir;var r=!1;"erroring"===i&&(r=!0,n=void 0);var e=Ly(function(i,e){t.QI={Ir:void 0,ue:i,vi:e,jr:n,ZI:r}});return t.QI.Ir=e,!1===r&&Dm(t,n),e}function Nm(t){var n=t.DI;if("closed"===n||"errored"===n)return Fy(new l("The stream (in "+n+" state) is not in the writable state and cannot be closed"));var i,r=Ly(function(n,i){var r={ue:n,vi:i};t.GI=r}),e=t.XI;return void 0!==e&&!0===t.YI&&"writable"===n&&ak(e),mm(i=t.qI,"close",0),jm(i),r}function Cm(t,n){"writable"!==t.DI?Om(t):Dm(t,n)}function Dm(t,n){var i=t.qI;t.DI="erroring",t.OI=n;var r=t.XI;void 0!==r&&Hm(r,n),!1===function(t){if(void 0===t.zI&&void 0===t.jI)return!1;return!0}(t)&&!0===i.JI&&Om(t)}function Om(t){t.DI="errored",t.qI[Am]();var n=t.OI;if(t.WI.forEach(function(t){t.vi(n)}),t.WI=new Gy,void 0!==t.QI){var i=t.QI;if(t.QI=void 0,!0===i.ZI)return i.vi(n),void Pm(t);Vy(t.qI[pm](i.jr),function(){i.ue(),Pm(t)},function(n){i.vi(n),Pm(t)})}else Pm(t)}function xm(t){return void 0!==t.GI||void 0!==t.jI}function Pm(t){void 0!==t.GI&&(t.GI.vi(t.OI),t.GI=void 0);var n=t.XI;void 0!==n&&ik(n,t.OI)}function Bm(t,n){var i=t.XI;void 0!==i&&n!==t.YI&&(!0===n?function(t){ek(t)}(i):ak(i)),t.YI=n}var Mm=function(){function t(t){if(!1===Sm(t))throw new l("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===Rm(t))throw new l("This stream has already been locked for exclusive writing by another writer");this.KI=t,t.XI=this;var n,i=t.DI;if("writable"===i)!1===xm(t)&&!0===t.YI?ek(this):sk(this),tk(this);else if("erroring"===i)uk(this,t.OI),tk(this);else if("closed"===i)sk(this),tk(n=this),rk(n);else{var r=t.OI;uk(this,r),nk(this,r)}}return _.defineProperty(t.prototype,"closed",{get:function(){return!1===Lm(this)?Fy(Km("closed")):this.ho},enumerable:!0,configurable:!0}),_.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Lm(this))throw Km("desiredSize");if(void 0===this.KI)throw $m("desiredSize");return function(t){var n=t.KI,i=n.DI;if("errored"===i||"erroring"===i)return null;if("closed"===i)return 0;return Gm(n.qI)}(this)},enumerable:!0,configurable:!0}),_.defineProperty(t.prototype,"ready",{get:function(){return!1===Lm(this)?Fy(Km("ready")):this.$I},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===Lm(this)?Fy(Km("abort")):void 0===this.KI?Fy($m("abort")):function(t,n){return Im(t.KI,n)}(this,t)},t.prototype.close=function(){if(!1===Lm(this))return Fy(Km("close"));var t=this.KI;return void 0===t?Fy($m("close")):!0===xm(t)?Fy(new l("Cannot close an already-closing stream")):Um(this)},t.prototype.releaseLock=function(){if(!1===Lm(this))throw Km("releaseLock");void 0!==this.KI&&Vm(this)},t.prototype.write=function(t){return!1===Lm(this)?Fy(Km("write")):void 0===this.KI?Fy($m("write to")):Xm(this,t)},t}();function Lm(t){return!!by(t)&&!!_.prototype.hasOwnProperty.call(t,"KI")}function Um(t){return Nm(t.KI)}function Fm(t,n){"pending"===t.tN?ik(t,n):function(t,n){nk(t,n)}(t,n)}function Hm(t,n){"pending"===t.nN?ok(t,n):function(t,n){uk(t,n)}(t,n)}function Vm(t){var n=t.KI,i=new l("Writer was released and can no longer be used to monitor the stream's closedness");Hm(t,i),Fm(t,i),n.XI=void 0,t.KI=void 0}function Xm(t,n){var i=t.KI,r=i.qI,e=function(t,n){try{return t.iN(n)}catch(n){return Qm(t,n),1}}(r,n);if(i!==t.KI)return Fy($m("write to"));var u=i.DI;if("errored"===u)return Fy(i.OI);if(!0===xm(i)||"closed"===u)return Fy(new l("The stream is closing or closed and cannot be written to"));if("erroring"===u)return Fy(i.OI);var s=function(t){return Ly(function(n,i){var r={ue:n,vi:i};t.WI.push(r)})}(i);return function(t,n,i){var r={chunk:n};try{mm(t,r,i)}catch(n){return void Qm(t,n)}var e=t.rN;if(!1===xm(e)&&"writable"===e.DI){var u=Ym(t);Bm(e,u)}jm(t)}(r,n,e),s}var qm=function(){function t(){throw new l("WritableStreamDefaultController cannot be constructed explicitly")}return t.prototype.error=function(t){if(!1===function(t){if(!by(t))return!1;if(!_.prototype.hasOwnProperty.call(t,"rN"))return!1;return!0}(this))throw new l("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this.rN.DI&&Zm(this,t)},t.prototype[pm]=function(t){var n=this.eN(t);return zm(this),n},t.prototype[Am]=function(){km(this)},t}();function Wm(t,n,i,r,e,u,s,o){n.rN=t,t.qI=n,n.Kr=void 0,n.VI=void 0,km(n),n.JI=!1,n.iN=o,n.uN=s,n.sN=r,n.oN=e,n.eN=u;var a=Ym(n);Bm(t,a),Vy(Uy(i()),function(){n.JI=!0,jm(n)},function(i){n.JI=!0,Cm(t,i)})}function zm(t){t.sN=void 0,t.oN=void 0,t.eN=void 0,t.iN=void 0}function Gm(t){return t.uN-t.VI}function jm(t){var n=t.rN;if(!1!==t.JI&&void 0===n.zI)if("erroring"!==n.DI){if(0!==t.Kr.length){var i=t.Kr.peek().value;"close"===i?function(t){var n=t.rN;(function(t){t.jI=t.GI,t.GI=void 0})(n),ym(t);var i=t.oN();zm(t),Vy(i,function(){!function(t){t.jI.ue(void 0),t.jI=void 0,"erroring"===t.DI&&(t.OI=void 0,void 0!==t.QI&&(t.QI.ue(),t.QI=void 0)),t.DI="closed";var n=t.XI;void 0!==n&&rk(n)}(n)},function(t){!function(t,n){t.jI.vi(n),t.jI=void 0,void 0!==t.QI&&(t.QI.vi(n),t.QI=void 0),Cm(t,n)}(n,t)})}(t):function(t,n){var i=t.rN;(function(t){t.zI=t.WI.shift()})(i),Vy(t.sN(n),function(){!function(t){t.zI.ue(void 0),t.zI=void 0}(i);var n=i.DI;if(ym(t),!1===xm(i)&&"writable"===n){var r=Ym(t);Bm(i,r)}jm(t)},function(n){"writable"===i.DI&&zm(t),function(t,n){t.zI.vi(n),t.zI=void 0,Cm(t,n)}(i,n)})}(t,i.chunk)}}else Om(n)}function Qm(t,n){"writable"===t.rN.DI&&Zm(t,n)}function Ym(t){return Gm(t)<=0}function Zm(t,n){var i=t.rN;zm(t),Dm(i,n)}function Jm(t){return new l("WritableStream.prototype."+t+" can only be used on a WritableStream")}function Km(t){return new l("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function $m(t){return new l("Cannot "+t+" a stream using a released writer")}function tk(t){t.ho=Ly(function(n,i){t.xI=n,t.BI=i,t.tN="pending"})}function nk(t,n){tk(t),ik(t,n)}function ik(t,n){zy(t.ho),t.BI(n),t.xI=void 0,t.BI=void 0,t.tN="rejected"}function rk(t){t.xI(void 0),t.xI=void 0,t.BI=void 0,t.tN="resolved"}function ek(t){t.$I=Ly(function(n,i){t.aN=n,t.cN=i}),t.nN="pending"}function uk(t,n){ek(t),ok(t,n)}function sk(t){ek(t),ak(t)}function ok(t,n){zy(t.$I),t.cN(n),t.aN=void 0,t.cN=void 0,t.nN="rejected"}function ak(t){t.aN(void 0),t.aN=void 0,t.cN=void 0,t.nN="fulfilled"}function ck(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}var hk="undefined"!=typeof DOMException?DOMException:void 0;var fk,vk=function(t){if("function"!=typeof t&&"object"!=typeof t)return!1;try{return new t,!0}catch(t){return!1}}(hk)?hk:((fk=function(t,n){this.message=t||"",this.name=n||"Error",d.captureStackTrace&&d.captureStackTrace(this,this.constructor)}).prototype=_.create(d.prototype),_.defineProperty(fk.prototype,"constructor",{value:fk,writable:!0,configurable:!0}),fk);function dk(t,n,i,r,e,u){var s=em(t),o=Tm(n);t.LI=!0;var a=!1,c=Uy(void 0);return Ly(function(h,f){var v,d,_,w;if(void 0!==u){if(v=function(){var i=new vk("Aborted","AbortError"),u=[];!1===r&&u.push(function(){return"writable"===n.DI?Im(n,i):Uy(void 0)}),!1===e&&u.push(function(){return"readable"===t.DI?up(t,i):Uy(void 0)}),k(function(){return Ct.all(u.map(function(t){return t()}))},!0,i)},!0===u.aborted)return void v();u.addEventListener("abort",v)}if(m(t,s.ho,function(t){!1===r?k(function(){return Im(n,t)},!0,t):p(!0,t)}),m(n,o.ho,function(n){!1===e?k(function(){return up(t,n)},!0,n):p(!0,n)}),d=t,_=s.ho,w=function(){!1===i?k(function(){return function(t){var n=t.KI,i=n.DI;return!0===xm(n)||"closed"===i?Uy(void 0):"errored"===i?Fy(n.OI):Um(t)}(o)}):p()},"closed"===d.DI?w():Xy(_,w),!0===xm(n)||"closed"===n.DI){var g=new l("the destination writable stream closed before all data could be piped to it");!1===e?k(function(){return up(t,g)},!0,g):p(!0,g)}function y(){var t=c;return Hy(c,function(){return t!==c?y():void 0})}function m(t,n,i){"errored"===t.DI?i(t.OI):qy(n,i)}function k(t,i,r){function e(){Vy(t(),function(){return A(i,r)},function(t){return A(!0,t)})}!0!==a&&(a=!0,"writable"===n.DI&&!1===xm(n)?Xy(y(),e):e())}function p(t,i){!0!==a&&(a=!0,"writable"===n.DI&&!1===xm(n)?Xy(y(),function(){return A(t,i)}):A(t,i))}function A(t,n){Vm(o),Zy(s),void 0!==u&&u.removeEventListener("abort",v),t?f(n):h(void 0)}zy(Ly(function(t,n){!function i(r){r?t():Hy(!0===a?Uy(!0):Hy(o.$I,function(){return Hy(dm(s),function(t){return!0===t.done||(c=Hy(Xm(o,t.value),void 0,ky),!1)})}),i,n)}(!1)}))})}var lk=function(){function t(){throw new l}return _.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===_k(this))throw Ek("desiredSize");return Ak(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===_k(this))throw Ek("close");if(!1===bk(this))throw new l("The stream is not in a state that permits close");mk(this)},t.prototype.enqueue=function(t){if(!1===_k(this))throw Ek("enqueue");if(!1===bk(this))throw new l("The stream is not in a state that permits enqueue");return kk(this,t)},t.prototype.error=function(t){if(!1===_k(this))throw Ek("error");pk(this,t)},t.prototype[im]=function(t){km(this);var n=this.hN(t);return yk(this),n},t.prototype[rm]=function(){var t=this.fN;if(this.Kr.length>0){var n=ym(this);return!0===this.vN&&0===this.Kr.length?(yk(this),sp(t)):wk(this),Uy(jy(n,!1,t.CI.II))}var i=um(t);return wk(this),i},t}();function _k(t){return!!by(t)&&!!_.prototype.hasOwnProperty.call(t,"fN")}function wk(t){!1!==gk(t)&&(!0!==t.dN?(t.dN=!0,Vy(t.lN(),function(){t.dN=!1,!0===t._N&&(t._N=!1,wk(t))},function(n){pk(t,n)})):t._N=!0)}function gk(t){var n=t.fN;return!1!==bk(t)&&(!1!==t.JI&&(!0===ep(n)&&om(n)>0||Ak(t)>0))}function yk(t){t.lN=void 0,t.hN=void 0,t.iN=void 0}function mk(t){var n=t.fN;t.vN=!0,0===t.Kr.length&&(yk(t),sp(n))}function kk(t,n){var i=t.fN;if(!0===ep(i)&&om(i)>0)sm(i,n,!1);else{var r=void 0;try{r=t.iN(n)}catch(n){throw pk(t,n),n}try{mm(t,n,r)}catch(n){throw pk(t,n),n}}wk(t)}function pk(t,n){var i=t.fN;"readable"===i.DI&&(km(t),yk(t),op(i,n))}function Ak(t){var n=t.fN.DI;return"errored"===n?null:"closed"===n?0:t.uN-t.VI}function bk(t){var n=t.fN.DI;return!1===t.vN&&"readable"===n}function Tk(t,n,i,r,e,u,s){n.fN=t,n.Kr=void 0,n.VI=void 0,km(n),n.JI=!1,n.vN=!1,n._N=!1,n.dN=!1,n.iN=s,n.uN=u,n.lN=r,n.hN=e,t.UI=n,Vy(Uy(i()),function(){n.JI=!0,wk(n)},function(t){pk(n,t)})}function Ek(t){return new l("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}var Sk=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&w.floor(t)===t},Rk=function(){function t(){throw new l("ReadableStreamBYOBRequest cannot be used directly")}return _.defineProperty(t.prototype,"view",{get:function(){if(!1===Ck(this))throw Gk("view");return this.Dp},enumerable:!0,configurable:!0}),t.prototype.respond=function(t){if(!1===Ck(this))throw Gk("respond");if(void 0===this.wN)throw new l("This BYOB request has been invalidated");this.Dp.buffer,function(t,n){if(!1===Ey(n=Number(n)))throw new RangeError("bytesWritten must be a finite");Hk(t,n)}(this.wN,t)},t.prototype.respondWithNewView=function(t){if(!1===Ck(this))throw Gk("respond");if(void 0===this.wN)throw new l("This BYOB request has been invalidated");if(!ArrayBuffer.isView(t))throw new l("You can only respond with array buffer views");t.buffer,function(t,n){var i=t.gN.peek();if(i.byteOffset+i.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.byteLength!==n.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");i.buffer=n.buffer,Hk(t,n.byteLength)}(this.wN,t)},t}(),Ik=function(){function t(){throw new l("ReadableByteStreamController constructor cannot be used directly")}return _.defineProperty(t.prototype,"byobRequest",{get:function(){if(!1===Nk(this))throw jk("byobRequest");if(void 0===this.yN&&this.gN.length>0){var t=this.gN.peek(),n=new k(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),i=_.create(Rk.prototype);!function(t,n,i){t.wN=n,t.Dp=i}(i,this,n),this.yN=i}return this.yN},enumerable:!0,configurable:!0}),_.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Nk(this))throw jk("desiredSize");return Wk(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===Nk(this))throw jk("close");if(!0===this.vN)throw new l("The stream has already been closed; do not close it again!");var t=this.mN.DI;if("readable"!==t)throw new l("The stream (in "+t+" state) is not in the readable state and cannot be closed");!function(t){var n=t.mN;if(t.VI>0)return void(t.vN=!0);if(t.gN.length>0){var i=t.gN.peek();if(i.bytesFilled>0){var r=new l("Insufficient bytes to fill elements in the given buffer");throw qk(t,r),r}}Xk(t),sp(n)}(this)},t.prototype.enqueue=function(t){if(!1===Nk(this))throw jk("enqueue");if(!0===this.vN)throw new l("stream is closed or draining");var n=this.mN.DI;if("readable"!==n)throw new l("The stream (in "+n+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(t))throw new l("You can only enqueue array buffer views when using a ReadableByteStreamController");t.buffer,function(t,n){var i=t.mN,r=n.buffer,e=n.byteOffset,u=n.byteLength,s=Cy(r);if(!0===am(i))if(0===om(i))Pk(t,s,e,u);else{var o=new k(s,e,u);sm(i,o,!1)}else!0===Zk(i)?(Pk(t,s,e,u),Fk(t)):Pk(t,s,e,u);Dk(t)}(this,t)},t.prototype.error=function(t){if(!1===Nk(this))throw jk("error");qk(this,t)},t.prototype[im]=function(t){this.gN.length>0&&(this.gN.peek().bytesFilled=0);km(this);var n=this.hN(t);return Xk(this),n},t.prototype[rm]=function(){var t=this.mN;if(this.VI>0){var n=this.Kr.shift();this.VI-=n.byteLength,Lk(this);var i=void 0;try{i=new k(n.buffer,n.byteOffset,n.byteLength)}catch(t){return Fy(t)}return Uy(jy(i,!1,t.CI.II))}var r=this.kN;if(void 0!==r){var e=void 0;try{e=new ArrayBuffer(r)}catch(t){return Fy(t)}var u={buffer:e,byteOffset:0,byteLength:r,bytesFilled:0,elementSize:1,ctor:k,readerType:"default"};this.gN.push(u)}var s=um(t);return Dk(this),s},t}();function Nk(t){return!!by(t)&&!!_.prototype.hasOwnProperty.call(t,"mN")}function Ck(t){return!!by(t)&&!!_.prototype.hasOwnProperty.call(t,"wN")}function Dk(t){!1!==function(t){var n=t.mN;if("readable"!==n.DI)return!1;if(!0===t.vN)return!1;if(!1===t.JI)return!1;if(!0===am(n)&&om(n)>0)return!0;if(!0===Zk(n)&&Yk(n)>0)return!0;if(Wk(t)>0)return!0;return!1}(t)&&(!0!==t.dN?(t.dN=!0,Vy(t.lN(),function(){t.dN=!1,!0===t._N&&(t._N=!1,Dk(t))},function(n){qk(t,n)})):t._N=!0)}function Ok(t,n){var i=!1;"closed"===t.DI&&(i=!0);var r=xk(n);"default"===n.readerType?sm(t,r,i):function(t,n,i){var r=t.CI;r.pN.shift().ue(jy(n,i,r.II))}(t,r,i)}function xk(t){var n=t.bytesFilled,i=t.elementSize;return new t.ctor(t.buffer,t.byteOffset,n/i)}function Pk(t,n,i,r){t.Kr.push({buffer:n,byteOffset:i,byteLength:r}),t.VI+=r}function Bk(t,n){var i=n.elementSize,r=n.bytesFilled-n.bytesFilled%i,e=w.min(t.VI,n.byteLength-n.bytesFilled),u=n.bytesFilled+e,s=u-u%i,o=e,a=!1;s>r&&(o=s-n.bytesFilled,a=!0);for(var c,h,f,v,d,l=t.Kr;o>0;){var _=l.peek(),g=w.min(o,_.byteLength),y=n.byteOffset+n.bytesFilled;c=n.buffer,h=y,f=_.buffer,v=_.byteOffset,d=g,new k(c).set(new k(f,v,d),h),_.byteLength===g?l.shift():(_.byteOffset+=g,_.byteLength-=g),t.VI-=g,Mk(t,g,n),o-=g}return a}function Mk(t,n,i){Uk(t),i.bytesFilled+=n}function Lk(t){0===t.VI&&!0===t.vN?(Xk(t),sp(t.mN)):Dk(t)}function Uk(t){void 0!==t.yN&&(t.yN.wN=void 0,t.yN.Dp=void 0,t.yN=void 0)}function Fk(t){for(;t.gN.length>0;){if(0===t.VI)return;var n=t.gN.peek();!0===Bk(t,n)&&(Vk(t),Ok(t.mN,n))}}function Hk(t,n){var i=t.gN.peek();if("closed"===t.mN.DI){if(0!==n)throw new l("bytesWritten must be 0 when calling respond() on a closed stream");!function(t,n){n.buffer=Cy(n.buffer);var i=t.mN;if(!0===Zk(i))for(;Yk(i)>0;)Ok(i,Vk(t))}(t,i)}else!function(t,n,i){if(i.bytesFilled+n>i.byteLength)throw new RangeError("bytesWritten out of range");if(Mk(t,n,i),!(i.bytesFilled<i.elementSize)){Vk(t);var r=i.bytesFilled%i.elementSize;if(r>0){var e=i.byteOffset+i.bytesFilled,u=i.buffer.slice(e-r,e);Pk(t,u,0,u.byteLength)}i.buffer=Cy(i.buffer),i.bytesFilled-=r,Ok(t.mN,i),Fk(t)}}(t,n,i);Dk(t)}function Vk(t){var n=t.gN.shift();return Uk(t),n}function Xk(t){t.lN=void 0,t.hN=void 0}function qk(t,n){var i=t.mN;"readable"===i.DI&&(!function(t){Uk(t),t.gN=new Gy}(t),km(t),Xk(t),op(i,n))}function Wk(t){var n=t.mN.DI;return"errored"===n?null:"closed"===n?0:t.uN-t.VI}function zk(t,n,i){var r=_.create(Ik.prototype);var e=Ry(n,"pull",0,[r]),u=Ry(n,"cancel",1,[]),s=n.autoAllocateChunkSize;if(void 0!==s&&(s=Number(s),!1===Sk(s)||s<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");!function(t,n,i,r,e,u,s){n.mN=t,n._N=!1,n.dN=!1,n.yN=void 0,n.Kr=n.VI=void 0,km(n),n.vN=!1,n.JI=!1,n.uN=Dy(u),n.lN=r,n.hN=e,n.kN=s,n.gN=new Gy,t.UI=n,Vy(Uy(i()),function(){n.JI=!0,Dk(n)},function(t){qk(n,t)})}(t,r,function(){return Iy(n,"start",[r])},e,u,i,s)}function Gk(t){return new l("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function jk(t){return new l("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function Qk(t){return Ly(function(n,i){var r={ue:n,vi:i};t.CI.pN.push(r)})}function Yk(t){return t.CI.pN.length}function Zk(t){var n=t.CI;return void 0!==n&&!!Kk(n)}var Jk=function(){function t(t){if(!rp(t))throw new l("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===Nk(t.UI))throw new l("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(ep(t))throw new l("This stream has already been locked for exclusive reading by another reader");Qy(this,t),this.pN=new Gy}return _.defineProperty(t.prototype,"closed",{get:function(){return Kk(this)?this.ho:Fy($k("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return Kk(this)?void 0===this.NI?Fy(Jy("cancel")):Yy(this,t):Fy($k("cancel"))},t.prototype.read=function(t){return Kk(this)?void 0===this.NI?Fy(Jy("read from")):ArrayBuffer.isView(t)?(t.buffer,0===t.byteLength?Fy(new l("view must have non-zero byteLength")):function(t,n){var i=t.NI;if(i.LI=!0,"errored"===i.DI)return Fy(i.OI);return function(t,n){var i=t.mN,r=1;n.constructor!==DataView&&(r=n.constructor.BYTES_PER_ELEMENT);var e=n.constructor,u={buffer:Cy(n.buffer),byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:r,ctor:e,readerType:"byob"};if(t.gN.length>0)return t.gN.push(u),Qk(i);if("closed"===i.DI)return Uy(jy(new e(u.buffer,u.byteOffset,0),!0,i.CI.II));if(t.VI>0){if(!0===Bk(t,u)){var s=xk(u);return Lk(t),Uy(jy(s,!1,i.CI.II))}if(!0===t.vN){var o=new l("Insufficient bytes to fill elements in the given buffer");return qk(t,o),Fy(o)}}t.gN.push(u);var a=Qk(i);return Dk(t),a}(i.UI,n)}(this,t)):Fy(new l("view must be an array buffer view")):Fy($k("read"))},t.prototype.releaseLock=function(){if(!Kk(this))throw $k("releaseLock");if(void 0!==this.NI){if(this.pN.length>0)throw new l("Tried to release a reader lock when that reader has pending read() calls un-settled");Zy(this)}},t}();function Kk(t){return!!by(t)&&!!_.prototype.hasOwnProperty.call(t,"pN")}function $k(t){return new l("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}var tp=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),ip(this);var i=n.size,r=n.highWaterMark,e=t.type;if("bytes"===String(e)){if(void 0!==i)throw new RangeError("The strategy for a byte stream cannot have a size function");void 0===r&&(r=0),zk(this,t,r=Dy(r))}else{if(void 0!==e)throw new RangeError("Invalid type is specified");var u=Oy(i);void 0===r&&(r=1),function(t,n,i,r){var e=_.create(lk.prototype),u=Ry(n,"pull",0,[e]),s=Ry(n,"cancel",1,[]);Tk(t,e,function(){return Iy(n,"start",[e])},u,s,i,r)}(this,t,r=Dy(r),u)}}return _.defineProperty(t.prototype,"locked",{get:function(){if(!1===rp(this))throw ap("locked");return ep(this)},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return!1===rp(this)?Fy(ap("cancel")):!0===ep(this)?Fy(new l("Cannot cancel a stream that already has a reader")):up(this,t)},t.prototype.getReader=function(t){var n=(void 0===t?{}:t).mode;if(!1===rp(this))throw ap("getReader");if(void 0===n)return em(this,!0);if("byob"===(n=String(n)))return function(t,n){void 0===n&&(n=!1);var i=new Jk(t);return i.II=n,i}(this,!0);throw new RangeError("Invalid mode is specified")},t.prototype.pipeThrough=function(t,n){var i=t.writable,r=t.readable,e=void 0===n?{}:n,u=e.preventClose,s=e.preventAbort,o=e.preventCancel,a=e.signal;if(!1===rp(this))throw ap("pipeThrough");if(!1===Sm(i))throw new l("writable argument to pipeThrough must be a WritableStream");if(!1===rp(r))throw new l("readable argument to pipeThrough must be a ReadableStream");if(u=Boolean(u),s=Boolean(s),o=Boolean(o),void 0!==a&&!ck(a))throw new l("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(!0===ep(this))throw new l("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(!0===Rm(i))throw new l("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return zy(dk(this,i,u,s,o,a)),r},t.prototype.pipeTo=function(t,n){var i=void 0===n?{}:n,r=i.preventClose,e=i.preventAbort,u=i.preventCancel,s=i.signal;return!1===rp(this)?Fy(ap("pipeTo")):!1===Sm(t)?Fy(new l("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(r=Boolean(r),e=Boolean(e),u=Boolean(u),void 0===s||ck(s)?!0===ep(this)?Fy(new l("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):!0===Rm(t)?Fy(new l("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):dk(this,t,r,e,u,s):Fy(new l("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal")))},t.prototype.tee=function(){if(!1===rp(this))throw ap("tee");var t=function(t,n){var i,r,e,u,s,o=em(t),a=!1,c=!1,h=!1,f=Ly(function(t){s=t});function v(){return!0===a?Uy(void 0):(a=!0,zy(Wy(dm(o),function(t){if(a=!1,!0===t.done)return!1===c&&mk(e.UI),void(!1===h&&mk(u.UI));var n=t.value,i=n,r=n;!1===c&&kk(e.UI,i),!1===h&&kk(u.UI,r)})),Uy(void 0))}function d(){}return e=np(d,v,function(n){if(c=!0,i=n,!0===h){var e=Ty([i,r]),u=up(t,e);s(u)}return f}),u=np(d,v,function(n){if(h=!0,r=n,!0===c){var e=Ty([i,r]),u=up(t,e);s(u)}return f}),qy(o.ho,function(t){pk(e.UI,t),pk(u.UI,t)}),[e,u]}(this);return Ty(t)},t.prototype.getIterator=function(t){var n=(void 0===t?{}:t).preventCancel,i=void 0!==n&&n;if(!1===rp(this))throw ap("getIterator");return function(t,n){void 0===n&&(n=!1);var i=em(t),r=_.create(_m);return r.FI=i,r.HI=Boolean(n),r}(this,i)},t}();function np(t,n,i,r,e){void 0===r&&(r=1),void 0===e&&(e=function(){return 1});var u=_.create(tp.prototype);return ip(u),Tk(u,_.create(lk.prototype),t,n,i,r,e),u}function ip(t){t.DI="readable",t.CI=void 0,t.OI=void 0,t.LI=!1}function rp(t){return!!by(t)&&!!_.prototype.hasOwnProperty.call(t,"UI")}function ep(t){return void 0!==t.CI}function up(t,n){return t.LI=!0,"closed"===t.DI?Uy(void 0):"errored"===t.DI?Fy(t.OI):(sp(t),Wy(t.UI[im](n),ky))}function sp(t){t.DI="closed";var n=t.CI;void 0!==n&&(vm(n)&&(n.MI.forEach(function(t){t.ue(jy(void 0,!0,n.II))}),n.MI=new Gy),nm(n))}function op(t,n){t.DI="errored",t.OI=n;var i=t.CI;void 0!==i&&(vm(i)?(i.MI.forEach(function(t){t.vi(n)}),i.MI=new Gy):(i.pN.forEach(function(t){t.vi(n)}),i.pN=new Gy),tm(i,n))}function ap(t){return new l("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}"symbol"==typeof my.asyncIterator&&_.defineProperty(tp.prototype,my.asyncIterator,{value:tp.prototype.getIterator,enumerable:!1,writable:!0,configurable:!0});var cp=function(){function t(t){var n=t.highWaterMark;this.highWaterMark=n}return t.prototype.size=function(){return 1},t}(),hp=function(){function t(t,n,i){void 0===t&&(t={}),void 0===n&&(n={}),void 0===i&&(i={});var r=n.size,e=n.highWaterMark,u=i.size,s=i.highWaterMark;if(void 0!==t.writableType)throw new RangeError("Invalid writable type specified");var o=Oy(r);if(void 0===e&&(e=1),e=Dy(e),void 0!==t.readableType)throw new RangeError("Invalid readable type specified");var a,c=Oy(u);void 0===s&&(s=0),s=Dy(s),function(t,n,i,r,e,u){function s(){return n}t.AN=function(t,n,i,r,e,u){void 0===e&&(e=1),void 0===u&&(u=function(){return 1});var s=_.create(bm.prototype);return Em(s),Wm(s,_.create(qm.prototype),t,n,i,r,e,u),s}(s,function(n){return function(t,n){var i=t.bN;if(!0===t.YI){var r=t.TN;return Wy(r,function(){var r=t.AN,e=r.DI;if("erroring"===e)throw r.OI;return mp(i,n)})}return mp(i,n)}(t,n)},function(){return function(t){var n=t.EN,i=t.bN,r=i.SN();return gp(i),Wy(r,function(){if("errored"===n.DI)throw n.OI;var t=n.UI;!0===bk(t)&&mk(t)},function(i){throw vp(t,i),n.OI})}(t)},function(n){return function(t,n){return vp(t,n),Uy(void 0)}(t,n)},i,r),t.EN=np(s,function(){return function(t){return lp(t,!1),t.TN}(t)},function(n){return dp(t,n),Uy(void 0)},e,u),t.YI=void 0,t.TN=void 0,t.RN=void 0,lp(t,!0),t.bN=void 0}(this,Ly(function(t){a=t}),e,o,s,c),function(t,n){var i=_.create(_p.prototype),r=function(t){try{return yp(i,t),Uy(void 0)}catch(t){return Fy(t)}},e=n.transform;if(void 0!==e){if("function"!=typeof e)throw new l("transform is not a method");r=function(t){return Ny(e,n,[t,i])}}var u=Ry(n,"flush",0,[i]);!function(t,n,i,r){n.IN=t,t.bN=n,n.NN=i,n.SN=r}(t,i,r,u)}(this,t);var h=Iy(t,"start",[this.bN]);a(h)}return _.defineProperty(t.prototype,"readable",{get:function(){if(!1===fp(this))throw pp("readable");return this.EN},enumerable:!0,configurable:!0}),_.defineProperty(t.prototype,"writable",{get:function(){if(!1===fp(this))throw pp("writable");return this.AN},enumerable:!0,configurable:!0}),t}();function fp(t){return!!by(t)&&!!_.prototype.hasOwnProperty.call(t,"bN")}function vp(t,n){pk(t.EN.UI,n),dp(t,n)}function dp(t,n){gp(t.bN),Qm(t.AN.qI,n),!0===t.YI&&lp(t,!1)}function lp(t,n){void 0!==t.TN&&t.RN(),t.TN=Ly(function(n){t.RN=n}),t.YI=n}var _p=function(){function t(){throw new l("TransformStreamDefaultController instances cannot be created directly")}return _.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===wp(this))throw kp("desiredSize");return Ak(this.IN.EN.UI)},enumerable:!0,configurable:!0}),t.prototype.enqueue=function(t){if(!1===wp(this))throw kp("enqueue");yp(this,t)},t.prototype.error=function(t){if(!1===wp(this))throw kp("error");var n;n=t,vp(this.IN,n)},t.prototype.terminate=function(){if(!1===wp(this))throw kp("terminate");!function(t){var n=t.IN,i=n.EN.UI;!0===bk(i)&&mk(i);var r=new l("TransformStream terminated");dp(n,r)}(this)},t}();function wp(t){return!!by(t)&&!!_.prototype.hasOwnProperty.call(t,"IN")}function gp(t){t.NN=void 0,t.SN=void 0}function yp(t,n){var i=t.IN,r=i.EN.UI;if(!1===bk(r))throw new l("Readable side is not in a state that permits enqueue");try{kk(r,n)}catch(t){throw dp(i,t),i.EN.OI}(function(t){return!0!==gk(t)})(r)!==i.YI&&lp(i,!0)}function mp(t,n){return Wy(t.NN(n),void 0,function(n){throw vp(t.IN,n),n})}function kp(t){return new l("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function pp(t){return new l("TransformStream.prototype."+t+" can only be used on a TransformStream")}var Ap,bp=function(t){function n(n){var i;return(i=t.call(this,""+n.join("\n"),n[0])||this).causes=n,i}return ct(n,t),T(n,[{key:"name",get:function(){return"AggregateError"}}]),n}(lt);function Tp(t){return n=[t],new tp({start:function(t){for(var i=0;i<n.length;i++){var r=n[i];t.enqueue(r)}t.close()}});var n}function Ep(t){return Tp(new k(t))}function Sp(t,n){var i=n,r=t.getReader(),e=new qr,u=function(){s();var t=new Un;r.cancel(t).catch(j),e.Ks(t)},s=function(){i&&(i.ns(u),i=void 0)};i&&(i.Qu?u():i.ts(u));var o=[];return Ct.resolve(r.read()).then(function t(n){return n.done?(s(),Ct.resolve(o)):(o.push(n.value),Ct.resolve(r.read()).then(t))}).then(function(t){s(),e.Js(t)},function(t){s(),e.Ks(t)}),e.Zs}function Rp(t,n){var i=n,r=new hp,e=r.readable,u=r.writable,s=u.getWriter(),o=function(){i&&i.ss()};return s.closed.then(o,o),t.then(function(t){return i=void 0,s.releaseLock(),t.pipeTo(u).catch(j)},function(t){return i=void 0,s.releaseLock(),u.abort(t).catch(j)}),e}function Ip(t){var n=new hp,i=n.readable,r=n.writable;return t.pipeTo(r,{preventCancel:!0}).catch(function(t){var n;n=U(t)?t[0]===t[1]||Fn(t[0])&&Fn(t[1])?t[0]:new bp(t):t,r.abort(n).catch(j)}),i.tee()}function Np(t){return new Ct(function(n,i){t.onload=function(){n(t.result)},t.onerror=function(){i(t.error)}})}function Cp(t){var n=new FileReader,i=Np(n);return n.readAsArrayBuffer(t),i}function Dp(t){var n=new FileReader,i=Np(n);return n.readAsText(t),i}function Op(t){return n=t,(new XMLSerializer).serializeToString(n);var n}function xp(t){return function(t,n){var i=(new DOMParser).parseFromString(t,n);if(!i||i.getElementsByTagName("parsererror").length>0)throw new d("Invalid XML");return i}(t,"text/xml")}function Pp(t,n,i){return Sp(t,i).then(function(t){return ko(t,{type:n})})}!function(t){t[t.Vp=0]="Vp",t[t.CN=1]="CN"}(Ap||(Ap={}));var Bp="content-type",Mp="text/plain;charset=UTF-8",Lp="application/xml;charset=UTF-8",Up=function(){function t(){}var n=t.prototype;return n.zb=function(t){return this.IA(t).then(JSON.parse)},n.DN=function(t){return this.IA(t).then(xp)},n.Pb=function(t,n){switch(t){case Zd.Fp:return this.sT(n);case Zd.Xp:return this.ON(n);case Zd.pn:return this.DN(n);case Zd.Hp:return this.zb(n);case Zd.Vp:return this.xN();case Zd.yn:return this.IA(n);default:throw new l}},t}();function Fp(t,n,i){if(t instanceof Up)return t;var r,e=(i.get(Bp)||"").toLowerCase();if(t instanceof tp)r={Cu:Ap.Vp,xN:t,tS:e};else{var u=Ct.resolve(t).then(function(t){return function(t,n){if(t){if("string"==typeof t)return{Cu:Zd.yn,eA:t,tS:n||Mp};if(t instanceof ArrayBuffer||pi(t))return{Cu:Zd.Fp,eA:Jp(t),tS:n};if(t instanceof Blob)return{Cu:Zd.Xp,eA:t,tS:t.type||n};if(t instanceof Document)return{Cu:Zd.pn,eA:t,tS:n||Lp};if(V(t)||U(t))return{Cu:Zd.Hp,eA:t,tS:n};throw new l("Unsupported BodyInit type")}return{Cu:Zd.yn,eA:null,tS:n}}(t,e)});r={Cu:Ap.CN,Zs:u,PN:n}}return new Hp(r)}var Hp=function(t){function n(n){var i;return(i=t.call(this)||this).BN=!1,i.MN=new qr,i.MN.Zs.catch(j),i.LN(n),i}ct(n,t);var i=n.prototype;return i.UN=function(){return this.MN.Zs},i.IA=function(t){return this.FN(Vp,t)},i.zb=function(t){return this.FN(qp,t)},i.ON=function(t){return this.FN(zp,t)},i.sT=function(t){return this.FN(jp,t)},i.xN=function(){return this.HN((t=this.VN).Cu===Ap.Vp?t.xN:Rp(t.Zs.then(Qp).then(Ep),t.PN));var t},i.DN=function(t){return this.FN(Yp,t)},i.FN=function(t,n){if(this.BN)return Ct.reject(new l("Already used"));this.BN=!0;var i=t(this.VN,n);return this.MN.Js(i.then(j)),i},i.HN=function(t){if(this.BN)throw new l("Already used");if(t.locked)throw new l("Body stream is locked");this.BN=!0;var n=new hp,i=Ct.resolve(t.pipeTo(n.writable));return this.MN.Js(i),n.readable},i.LN=function(t){this.VN=t,t.Cu===Ap.CN&&t.Zs.catch(j)},i.XN=function(){if(this.BN)throw new l("Already used");var t=function(t){if(t.Cu===Ap.Vp){var n=t.xN.tee(),i=n[0],r=n[1];return[{Cu:t.Cu,xN:i,tS:t.tS},{Cu:t.Cu,xN:r,tS:t.tS}]}var e=t.PN.as(),u=e[0],s=e[1];return[{Cu:t.Cu,Zs:t.Zs,PN:u},{Cu:t.Cu,Zs:t.Zs,PN:s}]}(this.VN),i=t[0],r=t[1];return this.LN(i),new n(r)},T(n,[{key:"qN",get:function(){return this.BN}}]),n}(Up);function Vp(t,n){return t.Cu===Ap.Vp?Pp(t.xN,t.tS,n).then(Dp):(n&&t.PN.os(n),Wn(t.Zs.then(Xp),t.PN))}function Xp(t){switch(t.Cu){case Zd.yn:return Ct.resolve(t.eA||"");case Zd.Fp:return n=t.eA,Dp(ko([n]));case Zd.Xp:return Dp(t.eA);case Zd.pn:return Ct.resolve(t.eA).then(Op);case Zd.Hp:return Ct.resolve(t.eA).then(JSON.stringify)}var n}function qp(t,n){return t.Cu===Ap.Vp?Vp(t,n).then(JSON.parse):(n&&t.PN.os(n),Wn(t.Zs.then(Wp),t.PN))}function Wp(t){return t.Cu===Zd.Hp?Ct.resolve(t.eA):Xp(t).then(JSON.parse)}function zp(t,n){return t.Cu===Ap.Vp?Pp(t.xN,t.tS,n):(n&&t.PN.os(n),Wn(t.Zs.then(Gp),t.PN))}function Gp(t){return t.Cu===Zd.Xp?Ct.resolve(t.eA):t.Cu===Zd.Fp?Ct.resolve(ko([t.eA],{type:t.tS})):Xp(t).then(function(n){return ko([n],{type:t.tS})})}function jp(t,n){return t.Cu===Ap.Vp?function(t,n){return Sp(t,n).then(function(t){return bi(t).buffer})}(t.xN,n):(n&&t.PN.os(n),Wn(t.Zs.then(Qp),t.PN))}function Qp(t){return t.Cu===Zd.Fp?Ct.resolve(t.eA):Gp(t).then(Cp)}function Yp(t,n){return t.Cu===Ap.Vp?Vp(t,n).then(xp):(n&&t.PN.os(n),Wn(t.Zs.then(Zp),t.PN))}function Zp(t){return t.Cu===Zd.pn?Ct.resolve(t.eA):Xp(t).then(xp)}function Jp(t){return t instanceof ArrayBuffer?t:Hr(Mr(t)).buffer}function Kp(t){return t.pA>=200&&t.pA<=299||304===t.pA}var $p=function(t){function n(n,i){var r,e,u,s,o,a;i?(e=i.uA,u=i.oA,s=i.pA,o=i.Gb,a=i.WN):(e=[],u=Zd.yn,s=200,o="OK",a=!1);var c=n.yA,h=new el(n.uA||e),f=n.oA||u,v=n.kA||(i&&i.yA===c?i.kA:c.rA),d=Fp(void 0!==n.Qn?n.Qn:i?i.zN:null,n.PN||new Ln,h);return(r=t.call(this,d)||this).uA=h,r.yA=c,r.kA=v,r.oA=f,r.pA=void 0!==n.pA?n.pA:s,r.Gb=void 0!==n.Gb?String(n.Gb):o,r.WN=n.WN||a,r}ct(n,t);var i=n.prototype;return i.Qn=function(t){return this.Pb(this.oA,t)},i.Ws=function(){return new n({Qn:this.XN(),yA:this.yA},this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).zN=n,i}ct(n,t);var i=n.prototype;return i.UN=function(){return this.zN.UN()},i.IA=function(t){return this.zN.IA(t)},i.zb=function(t){return this.zN.zb(t)},i.ON=function(t){return this.zN.ON(t)},i.sT=function(t){return this.zN.sT(t)},i.DN=function(t){return this.zN.DN(t)},i.xN=function(){return this.zN.xN()},i.XN=function(){return this.zN.XN()},T(n,[{key:"qN",get:function(){return this.zN.qN}}]),n}(Up)),tA=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).GN=n,e}return ct(n,t),T(n,[{key:"yA",get:function(){return this.GN}}]),n}(lt);var nA=function(t){function n(n,i){return t.call(this,n,"Error while opening "+n.rA+". Invalid URL.",i)||this}return ct(n,t),T(n,[{key:"name",get:function(){return ol.dA}}]),n}(tA);var iA=function(t){function n(n,i){var r;return(r=t.call(this,n.yA,function(t){return"Error while loading "+t.yA.rA+", status code "+t.pA}(n),i)||this).jN=n,r}return ct(n,t),T(n,[{key:"name",get:function(){return ol.lA}},{key:"mA",get:function(){return this.jN}}]),n}(tA);var rA=function(t){function n(n,i){return t.call(this,n,function(t){return"Request for "+t.rA+" timed out after "+t.aA+" seconds."}(n),i)||this}return ct(n,t),T(n,[{key:"name",get:function(){return ol._A}}]),n}(tA),eA=function(t,n){return(eA=_.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])})(t,n)};function uA(t,n){function i(){this.constructor=t}eA(t,n),t.prototype=null===n?_.create(n):(i.prototype=n.prototype,new i)}var sA="object"==typeof u?u:"object"==typeof t?t:"object"==typeof global?global:null;var oA=function(){var t=sA.Blob;if(t)try{return new t,function(t,n){return new sA.Blob(t,n)}}catch(t){}var n,i=sA.BlobBuilder||sA.WebKitBlobBuilder||sA.MozBlobBuilder||sA.MSBlobBuilder;return i?(n=i,function(t,i){var r=new n;if(t)for(var e=0,u=t;e<u.length;e++){var s=u[e];r.append(s)}return r.getBlob(i&&i.type||"")}):null}(),aA="function"==typeof tp?tp:void 0;function cA(t){return t&&"function"==typeof t.getReader}function hA(t){if("function"!=typeof t)return!1;try{var n=!1,i=new t({start:function(){n=!0}});return!!n&&cA(i)}catch(t){return!1}}var fA=function(){function t(t,n){this.CI=t,this.QN=n}return t.prototype.pull=function(t){var n=this;return this.CI.read().then(function(i){n.QN&&n.QN(i),i.done?t.close():t.enqueue(i.value)})},t.prototype.cancel=function(t){return this.CI.cancel(t)},t}();function vA(t,n){return n.constructor===t?n:new t(new fA(n.getReader()),{highWaterMark:0})}var dA=function(){function t(t,n){this.YN=t,this.Mi=n}return t.prototype.pull=function(t){return this.YN().then(function(n){t.enqueue(new k(n)),t.close()})},t.prototype.cancel=function(t){this.Mi&&this.Mi(t)},t}();function lA(t,n,i){return new t(new dA(n,i),{highWaterMark:0})}var _A={searchParams:"URLSearchParams"in sA,iterable:"Symbol"in sA&&"iterator"in Symbol,blob:"FileReader"in sA&&!!oA,formData:"FormData"in sA,arrayBuffer:"ArrayBuffer"in sA,stream:hA(aA),streamRequest:"Request"in sA&&"body"in sA.Request.prototype,streamResponse:"Response"in sA&&"body"in sA.Response.prototype,abort:"AbortController"in sA&&"Request"in sA&&"signal"in sA.Request.prototype,encoding:"TextEncoder"in sA&&"TextDecoder"in sA,url:"URL"in sA&&function(t){try{return new sA.URL(t).toString()===t}catch(t){return!1}}("http://example.com/"),firefox:"navigator"in sA&&/Firefox\//.test(sA.navigator.userAgent)};function wA(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new l("Invalid character in header field name");return t}function gA(t){return"string"!=typeof t&&(t=String(t)),t}function yA(t){var n={next:function(){var n=t.shift();return{done:void 0===n,value:n}}};return _A.iterable&&(n[Symbol.iterator]=function(){return n}),n}var mA=function(){function t(n){var i,r=this;this.Tu={},n instanceof t?n.asList().forEach(function(t){var n=t[0],i=t[1];r.append(n,i)}):Array.isArray(n)?n.forEach(function(t){r.append(t[0],t[1])}):(i=n,_A.iterable&&i&&i[Symbol.iterator]?Array.from(n).forEach(function(t){r.append(t[0],t[1])}):n&&_.getOwnPropertyNames(n).forEach(function(t){r.append(t,n[t])}))}return t.prototype.append=function(t,n){t=wA(t),n=gA(n);var i=t.toLowerCase();if(this.Tu.hasOwnProperty(i)){var r=this.Tu[i],e=r[1];r[1]=e?e+", "+n:n}else this.Tu[i]=[t,n]},t.prototype.delete=function(t){var n=wA(t).toLowerCase();delete this.Tu[n]},t.prototype.get=function(t){var n=wA(t).toLowerCase();return this.Tu.hasOwnProperty(n)?this.Tu[n][1]:null},t.prototype.has=function(t){var n=wA(t).toLowerCase();return this.Tu.hasOwnProperty(n)},t.prototype.set=function(t,n){var i=(t=wA(t)).toLowerCase();this.Tu[i]=[t,gA(n)]},t.prototype.forEach=function(t,n){for(var i in this.Tu)this.Tu.hasOwnProperty(i)&&t.call(n,this.Tu[i][1],i,this)},t.prototype.keys=function(){var t=[];return this.forEach(function(n,i){t.push(i)}),yA(t)},t.prototype.values=function(){var t=[];return this.forEach(function(n){t.push(n)}),yA(t)},t.prototype.entries=function(){var t=[];return this.forEach(function(n,i){t.push([i,n])}),yA(t)},t.prototype.asList=function(){var t=[];for(var n in this.Tu)if(this.Tu.hasOwnProperty(n)){var i=this.Tu[n],r=i[0],e=i[1];t.push([r,e])}return t},t}();function kA(){}_A.iterable&&(mA.prototype[Symbol.iterator]=mA.prototype.entries);var pA,AA,bA,TA=w.min,EA=String.fromCharCode,SA=16384;function RA(t){for(var n=[],i=0,r=t;i<r.length;i++){var e=r[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return function(t){for(var n=t.length,i=[],r=0;r<n;r+=SA){var e=TA(r+SA,n);i.push(EA.apply(null,t.slice(r,e)))}return i.join("")}(n)}function IA(t){if(t>=55296&&t<=57343)throw new d("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function NA(t,n){return t>>n&63|128}function CA(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(IA(t),n.push(t>>12&15|224),n.push(NA(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(NA(t,12)),n.push(NA(t,6))),n.push(63&t|128)):n.push(t)}function DA(){if(bA>=AA)throw new d("Invalid byte index");var t=255&pA[bA];if(bA++,128==(192&t))return 63&t;throw new d("Invalid continuation byte")}function OA(){var t,n;if(bA>AA)throw new d("Invalid byte index");if(bA===AA)return!1;if(t=255&pA[bA],bA++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|DA())>=128)return n;throw new d("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|DA()<<6|DA())>=2048)return IA(n),n;throw new d("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|DA()<<12|DA()<<6|DA())>=65536&&n<=1114111)return n;throw new d("Invalid UTF-8 detected")}var xA=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];function PA(t){return t&&URLSearchParams.prototype.isPrototypeOf(t)}function BA(t){return t&&ArrayBuffer.prototype.isPrototypeOf(t)}function MA(t){return t&&DataView.prototype.isPrototypeOf(t)}var LA,UA=ArrayBuffer.isView||function(t){return t&&(xA.indexOf(_.prototype.toString.call(t))>-1||MA(t))};function FA(t){if(t.bodyUsed)return Ct.reject(new l("Already used"));t.bodyUsed=!0}function HA(t){return new Ct(function(n,i){t.onload=function(){n(t.result)},t.onerror=function(){i(t.error)}})}function VA(t){return _A.encoding?new sA.TextDecoder("utf-8").decode(new k(t)):RA(function(t){AA=(pA=t).length,bA=0;for(var n,i=[];!1!==(n=OA());)i.push(n);return i}(new k(t)))}function XA(t){return _A.encoding?(new sA.TextEncoder).encode(t).buffer:new k(function(t){for(var n=[],i=0,r=t;i<r.length;i++)CA(r[i],n);return n}(function(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&e)<<10)+(1023&u)+65536):(n.push(e),i--)}else n.push(e)}return n}(t))).buffer}function qA(t){var n=t.getReader(),i=[],r=function(t){var e=t.done,u=t.value;return e?Ct.resolve(i):(i.push(u),n.read().then(r))};return n.read().then(r)}function WA(t){return qA(t).then(function(t){return function(t){for(var n=0,i=0,r=t;i<r.length;i++)n+=(a=r[i]).byteLength;for(var e=new k(n),u=0,s=0,o=t;s<o.length;s++){var a=o[s];e.set(a,u),u+=a.byteLength}return e}(t).buffer})}function zA(t){return t.slice?t.slice(0):GA(new k(t))}function GA(t){if(t.slice)return t.slice(0).buffer;var n=new k(t.byteLength);return n.set(new k(t.buffer,t.byteOffset,t.byteLength)),n.buffer}function jA(t){var n=new FormData;return t.trim().split("&").forEach(function(t){if(t){var i=t.split("="),r=i.shift().replace(/\+/g," "),e=i.join("=").replace(/\+/g," ");n.append(decodeURIComponent(r),decodeURIComponent(e))}}),n}function QA(t){var n=t;if(n.bodyUsed)throw new l("Already used");if(n.ZN===LA.JN){if(!n.KN.tee)throw new d("could not clone ReadableStream body");var i=n.KN.tee(),r=i[0],e=i[1];return n.body=r,n.KN=r,n.$N=r,e}return n.ZN===LA.Fp?zA(n.KN):n.ZN===LA.CN?n.KN.then(QA):n.$N}!function(t){t[t.yn=0]="yn",t[t.Xp=1]="Xp",t[t.tC=2]="tC",t[t.Fp=3]="Fp",t[t.JN=4]="JN",t[t.CN=5]="CN"}(LA||(LA={}));var YA=function(){function t(n,i){this.bodyUsed=!1;var r,e,u,s=this;if(this.$N=n||null,n)if("string"==typeof n)this.ZN=LA.yn,this.KN=n;else if((u=n)&&"function"==typeof u.then)this.ZN=LA.CN,this.KN=Ct.resolve(n).then(function(n){return new t(n,i)}),this.KN.catch(kA);else if(_A.blob&&function(t){return t&&Blob.prototype.isPrototypeOf(t)}(n))this.ZN=LA.Xp,this.KN=n;else if(_A.formData&&function(t){return t&&FormData.prototype.isPrototypeOf(t)}(n))this.ZN=LA.tC,this.KN=n;else if(_A.searchParams&&PA(n))this.ZN=LA.yn,this.KN=n.toString();else if(_A.arrayBuffer&&(BA(n)||UA(n)))MA(n)&&(this.$N=new k((e=n).buffer,e.byteOffset,e.byteLength)),this.ZN=LA.Fp,this.KN=BA(r=n)?zA(r):GA(r);else{if(!_A.stream||!cA(n))throw new d("unsupported BodyInit type");n=vA(aA,n),this.ZN=LA.JN,this.KN=n,this.$N=n}else this.ZN=LA.yn,this.KN="";this.nC="",i.has("content-type")?this.nC=(i.get("content-type")||"").toLowerCase():("string"==typeof n?this.nC="text/plain;charset=UTF-8":s.ZN===LA.Xp&&s.KN.type?this.nC=s.KN.type:_A.searchParams&&PA(n)&&(this.nC="application/x-www-form-urlencoded;charset=UTF-8"),this.nC&&i.set("content-type",this.nC)),_A.stream&&(null==n?this.body=null:s.ZN===LA.JN?this.body=s.KN:this.body=lA(aA,function(){return s.arrayBuffer()},function(){s.bodyUsed=!0}))}return t.prototype.text=function(){var t,n,i,r=FA(this);return r||(this.ZN===LA.Xp?(t=this.KN,n=new FileReader,i=HA(n),n.readAsText(t),i):this.ZN===LA.Fp?Ct.resolve(this.KN).then(VA):this.ZN===LA.JN?WA(this.KN).then(VA):this.ZN===LA.CN?this.KN.then(function(t){return t.text()}):this.ZN===LA.tC?Ct.reject(new d("could not read FormData body as text")):Ct.resolve(this.KN))},t.prototype.json=function(){return this.text().then(JSON.parse)},t}();_A.blob&&(YA.prototype.blob=function(){var t,n,i=FA(this);return i||(this.ZN===LA.Xp?Ct.resolve(this.KN):this.ZN===LA.Fp?Ct.resolve(oA([this.KN],{type:this.nC})):this.ZN===LA.JN?(t=this.KN,n=this.nC,qA(t).then(function(t){return oA(t,{type:n||""})})):this.ZN===LA.CN?this.KN.then(function(t){return t.blob()}):this.ZN===LA.tC?Ct.reject(new d("could not read FormData body as Blob")):Ct.resolve(oA([this.KN],{type:this.nC})))}),_A.arrayBuffer&&(YA.prototype.arrayBuffer=function(){var t,n,i;return this.ZN===LA.Fp?FA(this)||Ct.resolve(this.KN):this.ZN===LA.Xp?FA(this)||(t=this.KN,n=new FileReader,i=HA(n),n.readAsArrayBuffer(t),i):this.ZN===LA.JN?WA(this.KN):this.ZN===LA.CN?FA(this)||this.KN.then(function(t){return t.arrayBuffer()}):this.ZN===LA.tC?Ct.reject(new d("could not read FormData body as ArrayBuffer")):Ct.resolve(this.KN).then(XA)}),_A.formData&&(YA.prototype.formData=function(){return this.ZN===LA.tC?FA(this)||Ct.resolve(this.KN):this.text().then(jA)});var ZA=[301,302,303,307,308],JA=function(t){function n(n,i){var r=this,e=new mA((i=i||{}).headers);return(r=t.call(this,n||null,e)||this).type="default",r.status=void 0===i.status?200:i.status,r.ok=r.status>=200&&r.status<300,r.statusText=void 0!==i.statusText?String(i.statusText):"",r.headers=e,r.url=i.url||"",r}return uA(n,t),n.prototype.clone=function(){return new n(QA(this),{status:this.status,statusText:this.statusText,headers:new mA(this.headers),url:this.url})},n.error=function(){var t=new n(null,{status:0,statusText:""});return t.type="error",t},n.redirect=function(t,i){if(-1===ZA.indexOf(i))throw new RangeError("Invalid status code");return new n(null,{status:i,headers:{location:t}})},n}(YA);var KA,$A=function(t,n){return t(n={exports:{}},n.exports),n.exports}(function(t,n){function i(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}function r(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),_.defineProperty(t,r.key,r)}}function e(t,n,i){return n&&r(t.prototype,n),i&&r(t,i),t}function u(t){return(u=_.setPrototypeOf?_.getPrototypeOf:function(t){return t.__proto__||_.getPrototypeOf(t)})(t)}function o(t,n){return(o=_.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t,n,i){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,i){var r=function(t,n){for(;!_.prototype.hasOwnProperty.call(t,n)&&null!==(t=u(t)););return t}(t,n);if(r){var e=_.getOwnPropertyDescriptor(r,n);return e.get?e.get.call(i):e.value}})(t,n,i||t)}_.defineProperty(n,"__esModule",{value:!0});var f=function(){function t(){i(this,t),_.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return e(t,[{key:"addEventListener",value:function(t,n){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(n)}},{key:"removeEventListener",value:function(t,n){if(t in this.listeners)for(var i=this.listeners[t],r=0,e=i.length;r<e;r++)if(i[r]===n)return void i.splice(r,1)}},{key:"dispatchEvent",value:function(t){var n=this;if(t.type in this.listeners){for(var i=function(i){c(function(){return i.call(n,t)})},r=this.listeners[t.type],e=0,u=r.length;e<u;e++)i(r[e]);return!t.defaultPrevented}}}]),t}(),v=function(t){function n(){var t,r,e;return i(this,n),r=this,(t=!(e=u(n).call(this))||"object"!=typeof e&&"function"!=typeof e?a(r):e).listeners||f.call(a(t)),_.defineProperty(a(t),"aborted",{value:!1,writable:!0,configurable:!0}),_.defineProperty(a(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new l("Super expression must either be null or a function");t.prototype=_.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&o(t,n)}(n,f),e(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),h(u(n.prototype),"dispatchEvent",this).call(this,t)}}]),n}(),d=function(){function t(){i(this,t),_.defineProperty(this,"signal",{value:new v,writable:!0,configurable:!0})}return e(t,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(n){void 0!==s?s.createEvent?(t=s.createEvent("Event")).initEvent("abort",!1,!1):(t=s.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(d.prototype[Symbol.toStringTag]="AbortController",v.prototype[Symbol.toStringTag]="AbortSignal"),n.AbortSignal=v,n.AbortController=d,n.default=d});(KA=$A)&&KA.__esModule&&_.prototype.hasOwnProperty.call(KA,"default")&&KA.default;$A.AbortSignal;var tb=$A.AbortController,nb=sA.DOMException;try{new nb}catch(t){(nb=function(t,n){d.call(this,t),this.name=n||"Error",d.captureStackTrace&&d.captureStackTrace(this,this.constructor)}).prototype=_.create(d.prototype),nb.prototype.constructor=nb}var ib=tb;var rb,eb="moz-chunked-arraybuffer";function ub(t){try{var n=new A;return n.open("GET","https://test"),n.responseType=t,n.responseType===t}catch(t){}return!1}!function(t){t[t.UNSENT=0]="UNSENT",t[t.OPENED=1]="OPENED",t[t.HEADERS_RECEIVED=2]="HEADERS_RECEIVED",t[t.LOADING=3]="LOADING",t[t.DONE=4]="DONE"}(rb||(rb={}));var sb=function(){function t(t,n){var i=this;this.iC=!1,this.GN=t,this.rC=n,this.eC=new A,this.uC=new Ct(function(t,n){i.sC=t,i.oC=n})}return t.prototype.send=function(){var t=this;return this.aC().then(function(n){return t.cC(n,t.rC),t.uC})},t.prototype.aC=function(){var t=this.GN;return t.ZN===LA.JN?t.arrayBuffer():Ct.resolve(t.$N)},t.prototype.hC=function(t){this.GN.onprogress&&this.GN.onprogress(t.loaded,t.lengthComputable?t.total:void 0)},t.prototype.fC=function(t){this.oC(t)},t.prototype.vC=function(){this.fC(new l("Network request failed"))},t.prototype.dC=function(){this.fC(new l("Network request failed"))},t.prototype.lC=function(){this.fC(new nb("Aborted","AbortError"))},t.prototype.cC=function(t,n){var i=this,r=this.GN,e=this.eC,u=function(){return i._C()};if(r.signal.aborted)return this.lC();e.onreadystatechange=function(){if(e.readyState>=rb.HEADERS_RECEIVED&&!i.iC){var t=function(t){var n=new mA;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var i=t.split(":"),r=i.shift().trim();if(r){var e=i.join(":").trim();n.append(r,e)}}),n}(e.getAllResponseHeaders()||""),n={status:e.status,statusText:e.statusText,headers:t,url:e.responseURL||t.get("X-Request-URL")};i.iC=!0,i.wC(n)}},e.onprogress=function(t){return i.hC(t)},e.onload=function(){return i.gC()},e.onerror=function(){return i.vC()},e.ontimeout=function(){return i.dC()},e.onabort=function(){return i.lC()},e.open(r.method,r.url,!0),e.withCredentials="include"===r.credentials,"responseType"in e&&n&&(e.responseType=n),r.headers.asList().forEach(function(t){var n=t[0],i=t[1];e.setRequestHeader(n,i)}),r.signal.addEventListener("abort",u),e.onloadend=function(){r.signal.removeEventListener("abort",u)},t?e.send(t):e.send()},t.prototype._C=function(){this.eC.abort()},t}(),ob=function(t){function n(n,i){var r=t.call(this,n,i)||this;return r.yC=void 0,r.mC=void 0,r}return uA(n,t),n.prototype.wC=function(t){var n=this;this.yC=new Ct(function(t,i){n.mC=t,n.kC=i}),this.sC(new JA(this.yC,t))},n.prototype.gC=function(){var t=this.eC.response||this.eC.responseText;this.mC(t)},n.prototype.fC=function(n){t.prototype.fC.call(this,n),this.kC&&this.kC(n)},n}(sb),ab=function(t){function n(n){var i=t.call(this,n,eb)||this;return i.pC=void 0,i.AC=void 0,i.bC=!1,i}return uA(n,t),n.prototype.wC=function(t){var n=this;this.pC=new aA({start:function(t){n.AC=t},cancel:function(){n.bC=!0,n._C()}}),this.sC(new JA(this.pC,t))},n.prototype.hC=function(n){this.bC||this.AC.enqueue(new k(this.eC.response)),t.prototype.hC.call(this,n)},n.prototype.gC=function(){this.AC.close()},n.prototype.fC=function(n){t.prototype.fC.call(this,n),this.AC&&!this.bC&&(this.bC=!0,this.AC.error(n))},n}(sb),cb=function(){var t=_A.firefox&&ub(eb);return cb=function(){return t},t},hb=function(){var t;return t=_A.arrayBuffer&&ub("arraybuffer")?"arraybuffer":_A.blob&&ub("blob")?"blob":"",hb=function(){return t},t};function fb(t){return(_A.stream&&cb()?new ab(t):new ob(t,hb())).send()}var vb=sA.fetch,db=sA.Request,lb=(sA.Response,sA.AbortController);var _b=["http:","https:"];var wb=function(){try{if(_A.streamRequest){var t=new db("about:blank",{body:"",method:"POST"}).body;if(t&&hA(t.constructor))return t.constructor}}catch(t){}}();function gb(t,n,i){var r;if(_A.stream){var e=void 0;if(_A.streamResponse){var u=t.body;e=u&&vA(aA,u)}else e=lA(aA,function(){return t.arrayBuffer()},function(){n.abort()});e&&i&&(e=function(t,n,i){var r=0;return function(t,n,i){return new t(new fA(n.getReader(),i),{highWaterMark:0})}(aA,t,function(t){var e=t.done,u=t.value;e?i=void 0===i?r:i:r+=u.byteLength,n(r,i)})}(e,i,yb(t.headers))),r=e}else{var s=t.arrayBuffer();i&&(s=function(t,n,i){return Ct.resolve().then(function(){return n(0,i),t}).then(function(t){var r=t.byteLength;return n(r,i=void 0===i?r:i),t})}(s,i,yb(t.headers))),r=s}return new JA(r,t)}function yb(t){return t.has("content-length")?Number(t.get("content-length")):void 0}function mb(t){var n=new lb;return function(t,n){var i,r=t;return i=r.ZN===LA.JN?_A.streamRequest&&wb?Ct.resolve(vA(wb,r.KN)):t.arrayBuffer():Ct.resolve(t.$N),t.signal&&function(t,n){if(!t.signal.aborted)if(n.aborted)t.abort();else{var i=function(){n.removeEventListener("abort",i),t.signal.removeEventListener("abort",i),t.abort()};n.addEventListener("abort",i),t.signal.addEventListener("abort",i)}}(n,t.signal),i.then(function(i){return new db(t.url,{body:i||void 0,credentials:t.credentials,headers:(r=t.headers,(r instanceof mA?r:new mA(r)).asList()),method:t.method,mode:t.mode,referrer:t.referrer,referrerPolicy:t.referrerPolicy,signal:n.signal});var r})}(t,n).then(vb).then(function(i){return gb(i,n,t.onprogress)})}var kb=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];var pb=function(t){function n(i,r){var e,u,s,o,a,c,h,f,v,d=this,_=(r=r||{}).body||null;if(i instanceof n){if(i.bodyUsed)throw new l("Already used");e=i.url,u=i.credentials,r.headers||(s=new mA(i.headers)),o=i.method,a=i.mode,c=i.referrer,h=i.referrerPolicy,f=i.signal,v=i.onprogress,_||null==i.$N||(_=i.$N,i.bodyUsed=!0)}else e=String(i),u="same-origin",o="GET",a="cors",c="about:client",h="",f=null,v=null;if(!r.headers&&s||(s=new mA(r.headers)),r&&(c="about:client",h=""),(d=t.call(this,_,s)||this).url=e,d.headers=s,d.credentials=r.credentials||u,d.method=function(t){var n=t.toUpperCase();return kb.indexOf(n)>-1?n:t}(r.method||o),d.mode=r.mode||a,d.signal=r.signal||f||(new ib).signal,d.referrer=void 0!==r.referrer?r.referrer:c,d.referrerPolicy=void 0!==r.referrerPolicy?r.referrerPolicy:h,d.onprogress=r.onprogress||v,("GET"===d.method||"HEAD"===d.method)&&_)throw new l("Body not allowed for GET or HEAD requests");return d}return uA(n,t),n.prototype.clone=function(){return new n(this,{body:QA(this)})},n}(YA),Ab="function"==typeof vb&&_A.abort&&_A.stream&&_A.streamResponse&&_A.url;function bb(t,n){return new Ct(function(i){var r=new pb(t,n);i((Ab&&function(t){try{return _b.indexOf(new sA.URL(t,sA.location.href).protocol)>=0}catch(t){return!1}}(r.url)?mb:fb)(r))})}bb.polyfill=!0;var Tb=function(){function t(t){this.PA=new Ln,this.jN=void 0,this.TC=!1,this.GN=t,this.PA.os(t.cs),this.mA=this.EC()}var n=t.prototype;return n.EC=function(){var t=Ct.coroutine(Nt.mark(function t(){var n,i,e,u,s,o,a,h,f=this;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:(n=this.GN).aA&&c(function(){f.TC=!0,f.PA.ss()},n.aA),t.prev=2,i=bb(n.rA,{method:n.sA,headers:n.uA.qp(),body:n.eA,credentials:n.fA?"include":"same-origin",signal:Rb(this.PA.cs),onprogress:n.vA}),t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(2),new nA(n,t.t0);case 9:return t.prev=9,t.next=12,i;case 12:e=t.sent,t.next=20;break;case 15:throw t.prev=15,t.t1=t.catch(9),Fn(u=this.SC(t.t1))&&this.PA.ss(),u;case 20:if(s=e.url||n.rA,o=0===e.status&&"file:"===(v=s,r.Oa(v).protocol)?200:e.status,a=new Eb(this,e,this.PA),h=new $p({Qn:a,yA:n,oA:n.oA,uA:new el(e.headers.asList()),pA:o,Gb:e.statusText,kA:s}),this.jN=h,!Kp(h)){t.next=29;break}return t.abrupt("return",h);case 29:throw new iA(h);case 30:case"end":return t.stop()}var v},t,this,[[2,6],[9,15]])}));return function(){return t.apply(this,arguments)}}(),n.SC=function(t){return Fn(t)?this.TC?new rA(this.GN):new Un(t.message,t):this.jN?new iA(this.jN,t):new nA(this.GN,t)},t}(),Eb=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).MN=new qr,e.pr=n,e.RC=i,e.PA=r,e.MN.Zs.catch(j),e}ct(n,t);var i=n.prototype;return i.UN=function(){return this.MN.Zs},i.IA=function(t){return this.FN(this.RC.text(),t)},i.sT=function(t){return this.FN(this.RC.arrayBuffer(),t)},i.ON=function(t){return this.FN(this.RC.blob(),t)},i.xN=function(){var t=this.RC.body;return t?this.HN(t):Rp(this.sT().then(Ep),this.PA)},i.XN=function(){var t=this.RC.clone(),i=this.PA.as(),r=i[0],e=i[1];return this.PA=r,new n(this.pr,t,e)},i.FN=function(t,n){var i=this;n&&this.PA.os(n);var r=Ct.resolve(t).catch(function(t){throw i.pr.SC(t)});return r=Wn(r,this.PA),this.MN.Js(r.then(j)),r},i.HN=function(t){var n=this,i=new hp,r=Ct.resolve(t.pipeTo(i.writable,{preventAbort:!0})).catch(function(t){var r=n.pr.SC(t);throw i.writable.abort(r).catch(j),r});return r=Wn(r,this.PA),this.MN.Js(r.then(j)),i.readable},T(n,[{key:"qN",get:function(){return this.RC.bodyUsed}}]),n}(Up),Sb="abort";function Rb(t){var n=new ib;if(t.Qu)n.abort();else if(!t.Yu){var i=function(){r(),n.abort()},r=function r(){n.signal.removeEventListener(Sb,i),t.ns(i),t.ns(r)};n.signal.addEventListener(Sb,i),t.ts(i),t.rs(r)}return n.signal}var Ib=function(){function t(){}var n=t.prototype;return n.yA=function(t){return new Tb(t).mA},n.kI=function(t){if(Wt&&Wt.sendBeacon)Wt.sendBeacon(t.rA,ko([t.eA],{type:t.tS}));else{var n=t.tS?{"Content-type":t.tS}:void 0;Qn(this.yA(new dy({sA:tl.POST,rA:t.rA,eA:t.eA,uA:n})))}},n.Ih=function(){},t}(),Nb=function(){function t(){}var n=t.prototype;return n.yA=function(t){var n=function(t){return new $p({Qn:null,uA:{},yA:t,kA:t.rA,oA:t.oA,pA:0,Gb:ka.Pf})}(new dy(t));return Ct.resolve(n)},n.kI=function(t){},n.Ih=function(){},t}();var Cb=function(){function t(t){this.IC=0,this.NC=0,this.DC=w.exp(w.log(.5)/t)}return t.prototype.OC=function(t,n){var i=w.pow(this.DC,t),r=n*(1-i)+i*this.IC;m(r)||(this.IC=r,this.NC+=t)},T(t,[{key:"xC",get:function(){var t=1-w.pow(this.DC,this.NC);return this.IC/t}}]),t}(),Db=function(){function t(t,n,i,r){void 0===t&&(t=Dv.Jk(.5)),void 0===n&&(n=Dv.Jk(5)),void 0===i&&(i=128e3),void 0===r&&(r=!1),this.BC=t,this.MC=n,this.LC=i,this.UC=r,this.FC=0,this.HC=0,this.VC=[],this.XC=void 0,this.qC=5e5,this.WC=5e3,this.zC=new Cb(t.Mk()),this.GC=new Cb(n.Mk())}var n=t.prototype;return n.OC=function(t,n){var i=8*n/t.Mk(),e=t.Mk(),u=r.Ec();for(this.UC&&void 0!==this.XC&&u-this.XC>=this.WC&&this.Rh(),this.zC.OC(e,i),this.GC.OC(e,i),this.VC.push([e,i]);;){for(var s=0,o=0,a=this.VC;o<a.length;o++){var c=a[o],h=c[0];c[1];s+=h}if(s<=this.BC.Mk())break;this.VC.shift()}this.FC+=n,this.HC+=n,this.XC=u},n.jC=function(){return void 0!==this.XC&&r.Ec()-this.XC<this.WC&&this.HC>=this.LC},n.Rh=function(){this.zC=new Cb(this.BC.Mk()),this.GC=new Cb(this.MC.Mk()),this.HC=0,this.VC=[],this.XC=void 0},T(t,[{key:"xC",get:function(){return this.jC()?w.min(this.zC.xC,this.GC.xC):this.qC}},{key:"QC",get:function(){return this.FC}}]),t}(),Ob=function(){function t(t,n,i){void 0===t&&(t=Dv.Jk(2)),void 0===n&&(n=Dv.Jk(5)),void 0===i&&(i=!1),this.BC=t,this.MC=n,this.UC=i,this.YC=0,this.qC=Dv.Jk(.1),this.VC=[],this.XC=void 0,this.WC=6e4,this.ZC=10,this.zC=new Cb(t.Mk()),this.GC=new Cb(n.Mk())}var n=t.prototype;return n.OC=function(t){var n=r.Ec(),i=t.Mk();this.UC&&void 0!==this.XC&&n-this.XC>=this.WC&&this.Rh(),this.YC+=1,this.zC.OC(1,i),this.GC.OC(1,i),this.VC.push(i),this.VC.length>this.ZC&&this.VC.shift(),this.XC=n},n.jC=function(){return void 0!==this.XC&&r.Ec()-this.XC<=this.WC},n.Rh=function(){this.zC=new Cb(this.BC.Mk()),this.GC=new Cb(this.MC.Mk()),this.YC=0,this.VC=[],this.XC=void 0},T(t,[{key:"xC",get:function(){return this.jC()?Dv.Jk(w.min(this.zC.xC,this.GC.xC)):this.qC}}]),t}(),xb=function(){function t(t,n,i){this.JC=t,this.KC=n,this.$C=i,this.tD=void 0,this.nD=void 0,this.iD=void 0,this.rD=void 0,this.eD=[]}var n=t.prototype;return n.uD=function(t){if(this.tD)throw new d("RequestMeasurer - The start of the request has already been marked.");this.tD=t},n.sD=function(t){if(!this.tD)throw new d("RequestMeasurer - The start of the request has not yet been marked.");if(this.nD)throw new d("RequestMeasurer - The start of the response has already been marked.");this.nD=t,this.$C.OC(this.nD.Ka(this.tD))},n.oD=function(t,n){if(!this.nD)throw new d("RequestMeasurer - The start of the response has not yet been marked.");if(this.iD){var i=t.Ka(this.iD),r=this.eD.reduce(function(t,n){return n.Wa(t)},Dv.rc).Yk(this.eD.length),e=i.Ga(r.Yk(2)),u=i.ja(r.Wa(r.Yk(2)));e&&u&&this.KC.OC(i,n.length),this.eD.push(i),this.eD.length>100&&this.eD.shift(),this.iD=t}else this.iD=t},n.aD=function(t){if(!this.nD)throw new d("RequestMeasurer - The start of the response has not yet been marked.");if(this.rD)throw new d("RequestMeasurer - The end of the response has already been marked.");this.rD=t},t}(),Pb=function(){function t(t){this.cD=t}var n=t.prototype;return n.uD=function(t){this.cD.markRequestStart(1e3*t.Mk())},n.sD=function(t){this.cD.markResponseStart(1e3*t.Mk())},n.oD=function(t,n){this.cD.markResponseData(1e3*t.Mk(),n)},n.aD=function(t){this.cD.markResponseEnd(1e3*t.Mk())},t}();function Bb(t){var n;return{get url(){return t.rA},get method(){return t.sA},get headers(){return n||(n=t.uA.qp()),n},get body(){return t.eA},get useCredentials(){return t.fA},get type(){return Hb(t.Cu)},get subType(){return Xb(t.cA)},get mediaType(){return Wb(t.hA)},get responseType(){return Lb(t.oA)}}}function Mb(t){switch(t.toLowerCase()){case"arraybuffer":return Zd.Fp;case"blob":return Zd.Xp;case"document":return Zd.pn;case"json":return Zd.Hp;case"stream":return Zd.Vp;case"text":default:return Zd.yn}}function Lb(t){return t}function Ub(t){switch(t.toUpperCase()){case"GET":default:return tl.GET;case"POST":return tl.POST;case"PUT":return tl.PUT;case"DELETE":return tl.DELETE;case"HEAD":return tl.HEAD;case"OPTIONS":return tl.OPTIONS}}function Fb(t){switch(t.toLowerCase()){case"manifest":return nl.Gp;case"segment":return nl.jp;case"content-protection":return nl.Qp;default:return nl.Ty}}function Hb(t){return t}function Vb(t){switch(t.toLowerCase()){case"initialization-segment":return il.Yp;case"fairplay-license":return il.Zp;case"fairplay-certificate":return il.Jp;case"widevine-license":return il.Kp;case"widevine-certificate":return il.$p;case"playready-license":return il.tA;case"clearkey-license":return il.nA;case"aes128-key":return il.iA;default:return il.Ty}}function Xb(t){return t}function qb(t){switch(t.toLowerCase()){case"audio":return rl.$l;case"video":return rl.Kl;case"text":return rl.yn;case"image":return rl.by;case"":default:return rl.Ty}}function Wb(t){return t}var zb=function(t){function n(){var n;return(n=t.call(this)||this).hD=void 0,n}ct(n,t);var i=n.prototype;return i.fD=function(){return this.hD?this.hD.bandwidth:t.prototype.fD.call(this)},i.vD=function(){return this.hD?Dv.Sk(this.hD.roundTripTime,1e3):t.prototype.vD.call(this)},i.dD=function(n){return this.hD?new Pb(this.hD.createMeasurer(Bb(n))):t.prototype.dD.call(this,n)},n}(function(){function t(){this.Zc=void 0,this.KC=new Db,this.$C=new Ob}var n=t.prototype;return n.fD=function(){return this.KC.xC},n.vD=function(){return this.$C.xC},n.dD=function(t){return new xb(t.rA,this.KC,this.$C)},T(t,[{key:"lD",get:function(){return this.fD()}},{key:"_D",get:function(){return this.vD()}},{key:"Jc",get:function(){var t;return this.Zc||(this.Zc=(t=this,{get bandwidth(){return t.lD},get roundTripTime(){return t._D.Mk()},createMeasurer:function(t){throw new d("Creating a RequestMeasurer on the internal MeasurableNetworkEstimator implementation is not allowed.")}})),this.Zc}}]),t}()),Gb=function(){function t(t,n){void 0===n&&(n=!0),this.wD=new zb,this.gD=t,this.yD=n}var n=t.prototype;return n.yA=function(t){return L(ko)?this.mD(t):this.gD.yA(this.kD(t))},n.mD=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i,e,u,s,o;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.kD(n),(e=this.wD.dD(i)).uD(Dv.Jk(r.Ec()/1e3)),t.next=5,this.gD.yA(i);case 5:return u=t.sent,e.sD(Dv.Jk(r.Ec()/1e3)),s=u.xN().pipeThrough(new hp(new jb(e))),o={Qn:s,yA:u.yA},t.abrupt("return",new $p(o,u));case 10:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.kI=function(t){return this.gD.kI(this.pD(t))},n.kD=function(n){var i=new dy(n);if(!this.yD){var r=t.bD(i.rA);i=new dy({rA:r},i)}return i},n.pD=function(n){var i=n.rA;return this.yD||(i=t.bD(i)),{rA:i,eA:n.eA}},t.bD=function(t){return s&&s.location&&"https:"===s.location.protocol&&dn(t,"http://")?t.replace(":","s:"):t},n.Ih=function(){this.gD.Ih()},T(t,[{key:"TD",get:function(){return this.wD}},{key:"ED",get:function(){return this.wD.Jc},set:function(t){this.wD.hD=t}}],[{key:"SD",get:function(){return t.RD}},{key:"ND",get:function(){return t.CD}}]),t}();Gb.RD=new Gb(new Ib),Gb.CD=new Gb(new Nb);var jb=function(){function t(t){this.DD=t}var n=t.prototype;return n.start=function(t){this.OD=t},n.transform=function(t){this.DD.oD(Dv.Sk(r.Ec(),1e3),t),this.OD.enqueue(t)},n.flush=function(){this.DD.aD(Dv.Sk(r.Ec(),1e3))},t}();var Qb=!P.Ft&&!P.Zt;function Yb(t,n,i){var r=t.getImageData(n,i,1,1).data;return 0===r[0]&&0===r[1]&&0===r[2]&&0===r[3]}var Zb=function(){function t(t){this.Zc=void 0,this.xD=void 0,this.DS=t}var n=t.prototype;return n.PD=function(t){if(!t||!t.drawImage)return!1;var n=this.DS.Od();if(!n)return!1;for(var i=arguments.length,r=new Array(i>1?i-1:0),e=1;e<i;e++)r[e-1]=arguments[e];return t.drawImage.apply(t,[n].concat(r)),!0},n.BD=function(t,n,i,r,e,u){if(!t||!t.texImage2D)return!1;var o=this.DS,a=o.Od();if(!a)return!1;if(!Qb){this.xD||(this.xD=s.createElement("canvas"));var c=this.xD,h=c.getContext("2d"),f=o.Gv,v=o.zv,l=c.width,_=c.height;h.clearRect(0,0,c.width,c.height),l===f&&_===v||(c.width=f,c.height=v),h.drawImage(a,0,0,f,v);var w=!1;f>0&&Yb(h,f-1,0)&&(c.width=l,w=!0),v>0&&Yb(h,0,v-1)&&(c.height=_,w=!0),w&&h.drawImage(a,0,0,f,v),a=c}try{t.texImage2D(n,i,r,e,u,a)}catch(t){throw new d("Error trying to render video content to the WebGLRenderingContext. This is most likely due to CORS restrictions. https://support.theoplayer.com/hc/en-us/articles/115003094385#Considerations")}return!0},T(t,[{key:"Jc",get:function(){return this.Zc||(this.Zc=(t=this,{drawImage:function(n){for(var i=arguments.length,r=new Array(i>1?i-1:0),e=1;e<i;e++)r[e-1]=arguments[e];return t.PD.apply(t,[n].concat(r))},texImage2D:function(n,i,r,e,u,s){return t.BD(n,i,r,e,u,s)}}));var t}}]),t}(),Jb=function(t){function n(n,i){var r;return(r=t.call(this,"MD")||this).wc=n,r.Z_=i,r}return ct(n,t),n.prototype.Kc=function(){return new Kb(this.wc,this.Z_)},n}(Io),Kb=function(t){function n(n,i){var r;return(r=t.call(this,"dimensionchange")||this).width=n,r.height=i,r}return ct(n,t),n}(ei),$b=function(t,n){this.Xd=t,this.LD=n},tT=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).UD=0,r.FD=0,r.HD=function(t){if(t.length>0){var n=t[t.length-1].contentRect;r.FD=n.width,r.UD=n.height,r.LD(r.FD,r.UD)}},r.VD=new Xt.ResizeObserver(r.HD),r.VD.observe(r.Xd),r}return ct(n,t),n.prototype.Ih=function(){this.VD.disconnect()},T(n,[{key:"XD",get:function(){return this.UD}},{key:"qD",get:function(){return this.FD}}]),n}($b),nT=0;function iT(t){var n=oy(),i=w.max(0,16-(n-nT)),r=c(function(){return t(n+i)},i);return nT=n+i,r}var rT,eT=h,uT=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,sT=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelRequestAnimationFrame;function oT(){return rT||(rT=Xt&&Xt.document&&Xt.document.createElement("span")),rT}uT&&sT||(uT=iT,sT=eT),uT=uT.bind(t),sT=sT.bind(t);var aT=["Webkit","Moz","O","ms"],cT=(function(){var t=!1;try{if(void 0!==Xt&&"function"==typeof Xt.addEventListener){var n=_.defineProperty({},"passive",{get:function(){t=!0}});Xt.addEventListener("testPassiveEventSupport",j,n),Xt.removeEventListener("testPassiveEventSupport",j,n)}}catch(t){}}(),xt());function hT(t){return cT.has(t)||cT.set(t,function(t){var n=oT();if(!n||!n.style)return t;if(void 0!==n.style[t])return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<aT.length;r++){var e=aT[r],u=e+i;if(void 0!==n.style[u])return u}return t}(t)),cT.get(t)}function fT(t){var n=t.style;n.position="absolute",n.left=n.right=n.bottom=n.top="0",n.overflow="scroll",n.zIndex="-1",n.visibility="hidden"}function vT(t){var n=t.style;n.position="absolute",n.left=n.top="0",n[hT("transition")]="0s"}var dT=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).WD=void 0,e.zD=0,e.FD=NaN,e.UD=NaN,e.GD=void 0,e.Rh=function(){e.jD.style.width=1e5+"px",e.jD.style.height=1e5+"px",e.QD.scrollLeft=1e5,e.QD.scrollTop=1e5,e.YD.scrollLeft=1e5,e.YD.scrollTop=1e5,0===e.YD.scrollTop&&uT(e.Rh)},e.ZD=function(){var t=e.qD,n=e.XD;e.LD(t,n),e.FD=t,e.UD=n,e.Rh(),e.zD=0},e.JD=function(){if(!e.zD){var t=e.qD,n=e.XD;t===e.FD&&n===e.UD||(e.zD=uT(e.ZD))}},e.KD=function(){e.GD||(e.GD=c(e.$D,66))},e.$D=function(){e.GD=void 0,e.tO()},e.tO=function(){e.JD()},e.Eo(r),e}ct(n,t);var i=n.prototype;return i.nO=function(){var t,n=this.Xd,i=s.createElement("div");return this.QD=s.createElement("div"),this.jD=s.createElement("div"),this.YD=s.createElement("div"),this.iO=s.createElement("div"),fT(this.QD),fT(this.YD),vT(this.jD),vT(t=this.iO),t.style.width="200%",t.style.height="200%",i.appendChild(this.QD),i.appendChild(this.YD),this.QD.appendChild(this.jD),this.YD.appendChild(this.iO),n&&n.appendChild(i),this.JD(),this.QD.addEventListener("scroll",this.JD),this.YD.addEventListener("scroll",this.JD),i},i.Eo=function(t){var n=this.Xd,i=function(t,n){return u.getComputedStyle(t,void 0).getPropertyValue(n)||t.style[n]}(n,"position");t||"static"!==i||(n.style.position="relative"),this.WD=this.nO(),u&&u.addEventListener("resize",this.KD)},i.Ih=function(){this.WD&&(sT(this.zD),this.zD=0,this.QD.removeEventListener("scroll",this.JD),this.YD.removeEventListener("scroll",this.JD),Te(this.WD),this.WD=void 0,u&&u.removeEventListener("resize",this.KD))},T(n,[{key:"XD",get:function(){return this.Xd&&this.Xd.getBoundingClientRect().height||this.UD||0}},{key:"qD",get:function(){return this.Xd&&this.Xd.getBoundingClientRect().width||this.FD||0}}]),n}($b),lT=function(t){function n(n){var i;return(i=t.call(this)||this).VD=void 0,i.HD=function(t,n){i.vs(new Jb(t,n))},i.Xd=n,i}ct(n,t);var i=n.prototype;return i.Eo=function(t){this.VD||("function"==typeof Xt.ResizeObserver?this.VD=new tT(this.Xd,this.HD):this.VD=new dT(this.Xd,this.HD,t))},i.Ih=function(){this.gs(),this.VD&&(this.VD.Ih(),this.VD=void 0)},T(n,[{key:"XD",get:function(){return this.VD?this.VD.XD:0}},{key:"qD",get:function(){return this.VD?this.VD.qD:0}}]),n}(ii),_T=function(t){function n(){return t.call(this,ba.fh)||this}return ct(n,t),n}(ei);var wT=function(){if(s)for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0;n<t.length;n++){var i=t[n];if(i[1]in s)return{rO:i[0],eO:i[1],uO:i[2],sO:i[3],oO:i[4],aO:i[5]}}}(),gT=function(t){function n(){return t.call(this,ba.nv)||this}return ct(n,t),n}(ei),yT=function(t){function n(i){var r;return(r=t.call(this)||this).Sv=!1,r.cO=function(){return r.hv()},r.hO=function(){return r.vv()},r.Xd=i,r.Ev=n.fO(i),s.addEventListener(wT.oO,r.cO),r.hv(),r}ct(n,t),n.fO=function(t){return Boolean(wT&&s[wT.sO]&&wT.rO in t)};var i=n.prototype;return i.Rv=function(){var t=this.Xd[wT.rO]();t&&t.then?t.then(this.cO,this.hO):(s.removeEventListener(wT.aO,this.hO),s.addEventListener(wT.aO,this.hO))},i.Iv=function(){var t=s[wT.eO]();t&&t.then?t.then(this.cO,this.hO):(s.removeEventListener(wT.aO,this.hO),s.addEventListener(wT.aO,this.hO))},i.hv=function(){var t=this.Sv,n=this.Xd===s[wT.uO];this.Sv=n,t!==n&&this.vs(new _T)},i.vv=function(){this.vs(new Rg)},i.Ih=function(){this.gs(),s.removeEventListener(wT.oO,this.cO),s.removeEventListener(wT.aO,this.hO)},n}(ii),mT=function(t){function n(i){var r;return(r=t.call(this)||this).Sv=!1,r.cO=function(){return r.hv()},r.Xd=i,r.Ev=n.fO(i),r.Xd.addEventListener("webkitbeginfullscreen",r.cO),r.Xd.addEventListener("webkitendfullscreen",r.cO),r.Xd.addEventListener("webkitpresentationmodechanged",r.cO),r.hv(),r}ct(n,t),n.fO=function(t){return P.Ft&&("webkitEnterFullscreen"in t||"webkitSupportsPresentationMode"in t)};var i=n.prototype;return i.Rv=function(){var t=this;this.Xd.webkitSupportsPresentationMode&&this.Xd.webkitSupportsPresentationMode("fullscreen")?P.Ft?requestAnimationFrame(function(){return t.Xd.webkitSetPresentationMode("fullscreen")}):this.Xd.webkitSetPresentationMode("fullscreen"):this.Xd.webkitEnterFullscreen()},i.Iv=function(){this.Xd.webkitSupportsPresentationMode&&this.Xd.webkitSupportsPresentationMode("inline")?this.Xd.webkitSetPresentationMode("inline"):this.Xd.webkitExitFullscreen()},i.hv=function(){var t,n=this.Sv;t=this.Xd.webkitPresentationMode?"fullscreen"===this.Xd.webkitPresentationMode:!!this.Xd.webkitDisplayingFullscreen,this.Sv=t,n!==t&&this.vs(new _T)},i.Ih=function(){this.gs(),this.Xd.removeEventListener("webkitbeginfullscreen",this.cO),this.Xd.removeEventListener("webkitendfullscreen",this.cO),this.Xd.removeEventListener("webkitpresentationmodechanged",this.cO)},n}(ii),kT=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).vO=[],n.dO=void 0,n.cv=!1,n.hv=function(){var t=n.cv,i=n.lO();t!==i&&(n.cv=i,n.vs(new _T))},n}ct(n,t);var i=n.prototype;return i.Rv=function(){this.dO?this.dO.Rv():this.vs(new Rg)},i.Iv=function(){for(var t=0,n=this.vO;t<n.length;t++){var i=n[t];i.Sv&&i.Iv()}},i._O=function(t){this.dO=t},i.wO=function(t){this.vO.push(t),t.ls(ba.fh,this.hv),t.ls(ba.Zh,this.fs),this.hv()},i.gO=function(t){Nn(this.vO,t),t.ys(ba.fh,this.hv),t.ys(ba.Zh,this.fs)},i.lO=function(){for(var t=0,n=this.vO;t<n.length;t++){if(n[t].Sv)return!0}return!1},i.Rh=function(){this.dO=void 0,this.cv=!1;for(var t=this.vO.slice(),n=0;n<t.length;n++){var i=t[n];this.gO(i),i.Ih()}this.hv()},i.Ih=function(){this.gs(),this.Rh()},T(n,[{key:"Ev",get:function(){return!!this.dO&&this.dO.Ev}},{key:"Sv",get:function(){return this.cv}}]),n}(ii),pT=function(t){function n(n,i){var r;return(r=t.call(this)||this).yO=!1,r.mO=function(){return r._o()},r.hv=function(t){r.yO||r.vs(t)},r.DS=n,r.kO=i,r.pO=Ig,r.AO(),r.DS.ls(ka.Nf,r.mO),r._o(),r}ct(n,t);var i=n.prototype;return i.Rv=function(){this.kO&&this.pO.Rv()},i.Iv=function(){this.pO.Iv()},i.AO=function(){this.pO.ls(ba.fh,this.hv),this.pO.ls(ba.Zh,this.fs)},i.bO=function(){this.pO.ys(ba.fh,this.hv),this.pO.ys(ba.Zh,this.fs)},i._o=function(){var t=this.pO,n=this.DS.xd();if(t!==n){this.yO=!0;var i=this.Sv,r=this.Ev;i&&this.Iv(),this.bO(),this.pO=n,this.AO(),i&&!this.Sv&&this.Ev?this.Rv():this.Iv(),this.yO=!1,r!==this.Ev&&this.vs(new gT),i!==this.Sv&&this.vs(new _T)}},i.Ih=function(){this.gs(),this.bO(),this.DS.ys(ka.Nf,this.mO)},T(n,[{key:"Ev",get:function(){return!!this.kO&&this.pO.Ev}},{key:"Sv",get:function(){return this.pO.Sv}}]),n}(ii),AT=function(){function t(t,n){this.TO=t,this.EO=n,this.SO=new qr,this.RO=[],this.Zc=void 0,this.IO=!1,this.jN=void 0,this.NO=0}var n=t.prototype;return n.CO=function(){this.IO=!0,this.SO.Js(null)},n.DO=function(){this.SO.Ks(this.RO)},n.OO=function(t){if(!this.xO)throw new l("Cannot respond more than once");if(!H(t))throw new l("Expected valid response");this.jN=this.PO(t),this.CO()},n.BO=function(){try{var t=this.EO(this.Jc);t?this.MO(t):this.LO||this.UO||this.CO()}catch(t){this.DO()}},n.MO=function(t){if(this.UO)throw new d("Request has been redirected or a response already exists");if(W(t))this.FO(t);else{if("function"!=typeof t)throw new l("Expected promise or function");var n=new qr;try{var i=t(function(t){t?n.Ks(t):n.Js(void 0)});W(i)&&n.Js(i)}catch(t){n.Ks(t)}this.FO(n.Zs)}},n.FO=function(){var t=Ct.coroutine(Nt.mark(function t(n){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.NO++,t.next=4,n;case 4:this.NO--,this.LO||this.UO||(this.RO.length?this.DO():this.CO()),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(0),this.NO--,this.RO.push(t.t0),this.LO||this.UO||this.DO();case 13:case"end":return t.stop()}},t,this,[[0,8]])}));return function(n){return t.apply(this,arguments)}}(),T(t,[{key:"HO",get:function(){return this.SO.Zs}},{key:"Jc",get:function(){return this.Zc||(this.Zc=this.VO()),this.Zc}},{key:"UO",get:function(){return this.IO}},{key:"xO",get:function(){return!this.IO}},{key:"LO",get:function(){return this.NO>0}},{key:"mA",get:function(){return this.jN}}]),t}(),bT=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).XO=r,e.BO(),e}ct(n,t),n.qO=function(t,n,i){var r=void 0===t.body?i:t.body;return new $p({Qn:r,yA:n.yA,oA:n.yA.oA,uA:t.headers,pA:t.status,Gb:t.statusText,kA:t.url,WN:!0},n)};var i=n.prototype;return i.VO=function(){return i=Bb((t=this).yA),{get closed(){return!t.xO},get request(){return i},get url(){return t.rA},get status(){return t.pA},get statusText(){return t.Gb},get headers(){return n||(n=t.uA.qp()),n},get body(){return t.eA},respondWith:function(n){return t.OO(n)},waitUntil:function(n){return t.MO(n)}};var t,n,i},i.PO=function(t){return n.qO(t,this.TO,this.XO)},T(n,[{key:"eA",get:function(){return this.XO}},{key:"uA",get:function(){return this.TO.uA}},{key:"yA",get:function(){return this.TO.yA}},{key:"mA",get:function(){return this.jN}},{key:"pA",get:function(){return this.TO.pA}},{key:"Gb",get:function(){return this.TO.Gb}},{key:"rA",get:function(){return this.TO.kA}}]),n}(AT),TT=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).WO=void 0,e.zO=r,e.BO(),e}ct(n,t);var i=n.prototype;return i.VO=function(){return t=this,{get url(){return t.rA},get method(){return t.sA},get headers(){return n||(n=t.uA.qp()),n},get body(){return t.eA},get closed(){return!t.xO},get useCredentials(){return t.fA},get type(){return Hb(t.Cu)},get subType(){return Xb(t.cA)},get mediaType(){return Wb(t.hA)},get responseType(){return Lb(t.oA)},redirect:function(n){return t.GO(n)},respondWith:function(n){return t.OO(n)},waitUntil:function(n){return t.MO(n)}};var t,n},i.PO=function(t){var n=this.TO.eA,i=new $p({Qn:n,uA:{},yA:this.TO,kA:this.TO.rA,oA:this.TO.oA,pA:200,Gb:"OK"});return bT.qO(t,i,n)},i.GO=function(t){if(!this.xO)throw new l("Cannot redirect, already redirected or has a response");var n;n=X(t)?{url:t}:t,this.WO=function(t,n){return new dy({rA:void 0===t.url?n.rA:t.url,sA:void 0!==t.method?Ub(t.method):void 0,uA:t.headers,eA:t.body,fA:t.useCredentials,Cu:void 0!==t.type?Fb(t.type):void 0,cA:void 0!==t.subType?Vb(t.subType):void 0,hA:void 0!==t.mediaType?qb(t.mediaType):void 0,oA:void 0!==t.responseType?Mb(t.responseType):void 0},n)}(n,this.TO),this.CO()},T(n,[{key:"eA",get:function(){return this.TO.eA}},{key:"xO",get:function(){return this.zO&&!this.IO}},{key:"uA",get:function(){return this.TO.uA}},{key:"sA",get:function(){return this.TO.sA}},{key:"jO",get:function(){return this.WO}},{key:"mA",get:function(){return this.jN}},{key:"oA",get:function(){return this.TO.oA}},{key:"aA",get:function(){return this.TO.aA}},{key:"cs",get:function(){return this.TO.cs}},{key:"Cu",get:function(){return this.TO.Cu}},{key:"cA",get:function(){return this.TO.cA}},{key:"hA",get:function(){return this.TO.hA}},{key:"rA",get:function(){return this.TO.rA}},{key:"fA",get:function(){return this.TO.fA}},{key:"vA",get:function(){return this.TO.vA}}]),n}(AT);var ET,ST=function(t){function n(n,i){var r;void 0===i&&(i=!0);var e=new RT(n);return(r=t.call(this,e,i)||this).QO=e,r}ct(n,t);var i=n.prototype;return i.YO=function(t){this.QO.YO(t)},i.ZO=function(t){this.QO.ZO(t)},i.JO=function(t){this.QO.JO(t)},i.KO=function(t){this.QO.KO(t)},i.$O=function(t){this.QO.$O(t)},n}(Gb),RT=function(){function t(t){this.tx=[],this.nx=[],this.gD=t}var n=t.prototype;return n.yA=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.ix(n,n.cs);case 3:i=t.sent,t.next=13;break;case 6:if(t.prev=6,t.t0=t.catch(0),!(t.t0 instanceof tA)){t.next=12;break}return t.next=11,this.ex(t.t0,n.cs);case 11:return t.abrupt("return",t.sent);case 12:throw t.t0;case 13:return t.next=15,this.ux(i,n.cs);case 15:return t.abrupt("return",t.sent);case 16:case"end":return t.stop()}},t,this,[[0,6]])}));return function(n){return t.apply(this,arguments)}}(),n.kI=function(t){return this.gD.kI(t)},n.ix=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r,e,u,s,o;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:Hn(i),r=void 0,e=0,u=this.tx.slice();case 3:if(!(e<u.length)){t.next=21;break}if(s=u[e],Hn(i),(o=new TT(n,s,!r)).UO){t.next=17;break}return t.prev=8,t.next=11,o.HO;case 11:t.next=17;break;case 13:return t.prev=13,t.t0=t.catch(8),t.abrupt("continue",18);case 17:o.jO&&!r?n=o.jO:o.mA&&!r&&(r=o.mA);case 18:e++,t.next=3;break;case 21:if(!r){t.next=23;break}return t.abrupt("return",r);case 23:return t.abrupt("return",this.gD.yA(n));case 24:case"end":return t.stop()}},t,this,[[8,13]])}));return function(n,i){return t.apply(this,arguments)}}(),n.ex=function(t,n){var i;return i=t instanceof iA?t.mA:new $p({Qn:null,yA:t.yA,pA:0,Gb:""}),this.ux(i,n)},n.ux=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r,e,u,s,o;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.nx.slice();case 1:if(!(r<e.length)){t.next=22;break}return u=e[r],Hn(i),t.next=6,Ct.resolve(n.Ws().Qn(i));case 6:if(s=t.sent,(o=new bT(n,u,s)).UO){t.next=18;break}return t.prev=9,t.next=12,o.HO;case 12:t.next=18;break;case 14:return t.prev=14,t.t0=t.catch(9),t.abrupt("continue",19);case 18:n=o.mA||n;case 19:r++,t.next=1;break;case 22:if(!Kp(n)){t.next=26;break}return t.abrupt("return",n);case 26:throw new iA(n);case 27:case"end":return t.stop()}},t,this,[[9,14]])}));return function(n,i){return t.apply(this,arguments)}}(),n.YO=function(t){this.tx.unshift(t)},n.ZO=function(t){this.tx.push(t)},n.JO=function(t){Nn(this.tx,t)},n.KO=function(t){this.nx.unshift(t)},n.$O=function(t){Nn(this.nx,t)},n.Ih=function(){this.gD.Ih(),xn(this.tx),xn(this.nx)},t}(),IT=function(){function t(t){this.TA=t}var n=t.prototype;return n.YO=function(t){this.TA.YO(t)},n.JO=function(t){this.TA.JO(t)},n.KO=function(t){this.TA.KO(t)},n.$O=function(t){this.TA.$O(t)},T(t,[{key:"Jc",get:function(){var t;return this.Zc||(this.Zc=(t=this,{addRequestInterceptor:function(n){t.YO(n)},removeRequestInterceptor:function(n){t.JO(n)},addResponseInterceptor:function(n){t.KO(n)},removeResponseInterceptor:function(n){t.$O(n)}})),this.Zc}}]),t}(),NT=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).sx=n,r.TA=i,r.ox=void 0,r.sx.ls(ka.Bf,r.fs),r.sx.ls(ka.Pf,r.fs),r}ct(n,t);var i=n.prototype;return i.YO=function(t){this.TA.YO(t)},i.JO=function(t){this.TA.JO(t)},i.KO=function(t){this.TA.KO(t)},i.$O=function(t){this.TA.$O(t)},i.Ih=function(){this.gs(),this.sx.ys(ka.Bf,this.fs),this.sx.ys(ka.Pf,this.fs)},T(n,[{key:"Jc",get:function(){var t;return this.Zc||(this.Zc=(t=this,{get online(){return t.Kd},get estimator(){return t.ax},set estimator(n){t.ax=n},addRequestInterceptor:function(n){t.YO(n)},removeRequestInterceptor:function(n){t.JO(n)},addResponseInterceptor:function(n){t.KO(n)},removeResponseInterceptor:function(n){t.$O(n)},addEventListener:function(n,i){t.ls(n,i)},removeEventListener:function(n,i){t.ys(n,i)}})),this.Zc}},{key:"Kd",get:function(){return this.sx.Kd}},{key:"ax",get:function(){var t;return null!==(t=this.ox)&&void 0!==t?t:this.TA.ED},set:function(t){this.TA.ED=function(t){return{get bandwidth(){return Yo(t.bandwidth)},get roundTripTime(){return Yo(t.roundTripTime)},createMeasurer:function(n){return i=t.createMeasurer(n),{markRequestStart:function(t){i.markRequestStart(t)},markResponseStart:function(t){i.markResponseStart(t)},markResponseData:function(t,n){i.markResponseData(t,n)},markResponseEnd:function(t){i.markResponseEnd(t)}};var i}}}(t),this.ox=t}}]),n}(_a);!function(t){t.PERFORMANCE="performance",t.QUALITY="quality",t.BANDWIDTH="bandwidth"}(ET||(ET={}));var CT=30;function DT(t,n,i,r,e,u){var s=[],o=t.Ka(new no(u)),a=t.Wa(new no(e));if(n&&i){var c=n.Ka(i);o=no.Xa(o,c);var h=n.Wa(i.$a(2));a=no.Ha(a,h)}return!o.Ja(no.rc)&&r.im(no.rc,o)&&s.push([no.rc,o]),r.im(a,no.ec)&&s.push([a,no.ec]),s}var OT={type:ET.BANDWIDTH},xT=20,PT=60;function BT(t){var n,i,r,e=qo(OT);return X(t)?e.type=MT(t):H(t)&&function(t){switch(t){case ET.PERFORMANCE:case ET.QUALITY:case ET.BANDWIDTH:return!0;default:return!1}}(t.type)&&(e.type=MT(t.type)),H(t)&&H(t.metadata)&&(e.metadata=(n=t.metadata,i={},r=Qo(n.bitrate),m(r)||(i.bitrate=r),i)),e}function MT(t){switch(t){case"bandwidth":return ET.BANDWIDTH;case"performance":return ET.PERFORMANCE;case"quality":return ET.QUALITY}}var LT=function(t){function n(n){var i;return(i=t.call(this,"vx")||this).hx=n,i}return ct(n,t),n}(ei),UT=function(t){function n(n){var i;return(i=t.call(this,"_x")||this).lx=n,i}return ct(n,t),n}(ei),FT=function(t){function n(n){var i;return(i=t.call(this,"gx")||this).wx=n,i}return ct(n,t),n}(ei),HT=function(t){function n(){var n,i;return(n=t.apply(this,arguments)||this).Zc=(i=vt(n),{get strategy(){return{metadata:(t=i.lx).metadata,type:(n=t.type,n)};var t,n},set strategy(t){i.lx=BT(t)},get targetBuffer(){return i.hx},set targetBuffer(t){var n=Qo(t);m(n)||(i.hx=n>PT?PT:n)},get bufferLookbackWindow(){return i.wx},set bufferLookbackWindow(t){var n=Qo(t);m(n)||(i.wx=n<=0?CT:n)}}),n.yx=OT,n.mx=xT,n.kx=CT,n}return ct(n,t),T(n,[{key:"Ax",get:function(){switch(this.yx.type){case ET.PERFORMANCE:return 0;case ET.QUALITY:return 1/0;case ET.BANDWIDTH:return this.yx.metadata&&void 0!==this.yx.metadata.bitrate?this.yx.metadata.bitrate:8*mc.sd();default:return 8*mc.sd()}}},{key:"Jc",get:function(){return this.Zc}},{key:"lx",get:function(){return this.yx},set:function(t){this.yx=t,this.vs(new UT(t))}},{key:"hx",get:function(){return this.mx},set:function(t){this.mx=t,this.vs(new LT(t))}},{key:"wx",get:function(){return this.kx},set:function(t){this.kx=t,this.vs(new FT(t))}}]),n}(ii),VT=function(t){function n(){return t.call(this,"vh")||this}return ct(n,t),n.prototype.Kc=function(){return new XT},n}(Io),XT=function(t){function n(){return t.call(this,"change")||this}return ct(n,t),n}(ei),qT=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).bx=function(t){var n;n=t,Boolean(n&&n.Jc)&&jn(function(){r.vs(t.Jc)})},r.Tx=n,r.Tx.ef(r.bx),r}return ct(n,t),n.prototype.Ih=function(){this.gs(),this.Tx.uf(this.bx)},n}(_a),WT=function(t){function n(){return t.apply(this,arguments)||this}return ct(n,t),n}(qT);var zT=no.rc,GT=new no(-1/0),jT=no.ec,QT=function(t){function n(n,i){return t.call(this,n,i)||this}ct(n,t);var i=n.prototype;return i.Za=function(t,n){return t.ja(n)?qs.Ba:t.Ja(n)?qs.xa:qs.Pa},i.Wa=function(t,n){return t.Wa(n)},i.Ka=function(t,n){return t.Ka(n)},i.Qa=function(t,n){return t.Qa(n)},i.Vy=function(){return zT},i.qy=function(){return jT},i.jy=function(){return GT},n.vm=function(t){for(var i=[],r=0;r<t.length;r++)i.push(new no(t.start(r)),new no(t.end(r)));return new n(i)},n.Ex=function(t){for(var i=[],r=[],e=0;e<t.Ch;e++)i.push(new no(t.Ry(e))),i.push(new no(t.Ny(e))),r.push(t.Iy(e)),r.push(t.Cy(e));return new n(i,r)},n.dm=function(t){return new n([t,t],[!0,!0])},i.Fy=function(t,i){return new n(t,i)},i.Ly=function(t){return t.nc},n.lm=function(){return YT},n}(tf),YT=new QT([]),ZT=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).ek=0,n.uk=1/0,n}ct(n,t);var i=n.prototype;return i.Rh=function(){0===this.ek&&this.uk===1/0||(this.ek=0,this.uk=1/0,this.vs(new VT))},i.Sx=function(){return new QT([new no(this.qm),new no(this.Wm)],[!0,!0])},T(n,[{key:"qm",get:function(){return this.ek},set:function(t){if(this.Wm<=t)throw new d("Start time of a clip should be smaller than the end time.");this.ek!==t&&(this.ek=t,this.vs(new VT))}},{key:"Wm",get:function(){return this.uk},set:function(t){if(t<=this.qm)throw new d("End time of a clip should be larger than the start time.");this.uk!==t&&(this.uk=t,this.vs(new VT))}},{key:"Jc",get:function(){var t,n,i;return this.Zc||(this.Zc=(i={get startTime(){return t.qm},set startTime(n){t.qm=n},get endTime(){return t.Wm},set endTime(n){t.Wm=n},addEventListener:function(t,i){n.ls(t,i)},removeEventListener:function(t,i){n.ys(t,i)}},n=new qT(t=this,i),i)),this.Zc}}]),n}(_a),JT=function(t){function n(n){var i;return(i=t.call(this)||this).Rx=n,i.Ix=function(t){i.Nx(t)||i.vs(t)},i.Rx.ef(i.Ix),i}ct(n,t);var i=n.prototype;return i.Cx=function(){return this.Rx.wd},i.Pd=function(){return this.Rx.Pd()},i.Dx=function(){return this.Rx.Hd},i.Ox=function(){return this.Rx.Ud},i.xx=function(){return this.Rx.Vd},i.Px=function(t){this.Rx.Vd=t},i.Bx=function(){return this.Rx.Lv},i.Mx=function(t){this.Rx.Lv=t},i.Lx=function(){return this.Rx.Uv},i.Ux=function(){return this.Rx.Xd},i.Fx=function(){return this.Rx.Fv},i.Hx=function(){return this.Rx.Is},i.Vx=function(){return this.Rx.Hv},i.Xx=function(){return this.Rx.Wd},i.qx=function(){return this.Rx.Vv},i.Wx=function(t){this.Rx.Vv=t},i.zx=function(){return this.Rx.Kd},i.Gx=function(){return this.Rx.Xv},i.jx=function(){return this.Rx.qv},i.Qx=function(t){this.Rx.qv=t},i.Yx=function(){return this.Rx.$d},i.Zx=function(){return this.Rx.tl},i.Jx=function(t){this.Rx.tl=t},i.Kx=function(){return this.Rx.$h},i.$x=function(){return this.Rx.nl},i.tP=function(){return this.Rx.Wv},i.Ad=function(){return this.Rx.Ad()},i.bd=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Hn(i),t.next=3,this.Rx.bd(n,i);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.nP=function(){return this.Rx.yd},i.iP=function(){return this.Rx.zv},i.rP=function(){return this.Rx.gd},i.eP=function(){return this.Rx.Gv},i.uP=function(){return this.Rx.jv},i.sP=function(t){this.Rx.jv=t},i.xd=function(){return this.Rx.xd()},i.Od=function(){return this.Rx.Od()},i.Id=function(t){this.Rx.Id(t)},i.Nd=function(){this.Rx.Nd()},i.Dd=function(){this.Rx.Dd()},i.Rd=function(){this.Rx.Rd()},i.kd=function(){this.Rx.kd()},i.md=function(){this.Rx.md()},i.Cd=function(){this.Rx.Cd()},i.pd=function(){return this.Rx.pd()},i.Td=function(){return this.Rx.Td()},i.Ed=function(){this.Rx.Ed()},i.Sd=function(){this.Rx.Sd()},i.Rh=function(){return this.Rx.Rh()},i.Ih=function(){return this.Rx.Ih()},i.Fd=function(){this.Rx.Fd()},i.Bd=function(t){return this.Rx.Bd(t)},i.Nx=function(t){return!1},T(n,[{key:"wd",get:function(){return this.Cx()}},{key:"Hd",get:function(){return this.Dx()}},{key:"Vd",get:function(){return this.xx()},set:function(t){this.Px(t)}},{key:"Ud",get:function(){return this.Ox()}},{key:"Lv",get:function(){return this.Bx()},set:function(t){this.Mx(t)}},{key:"Uv",get:function(){return this.Lx()}},{key:"Xd",get:function(){return this.Ux()}},{key:"Fv",get:function(){return this.Fx()}},{key:"Is",get:function(){return this.Hx()}},{key:"Hv",get:function(){return this.Vx()}},{key:"qd",get:function(){return this.Rx.qd}},{key:"Wd",get:function(){return this.Xx()}},{key:"zd",get:function(){return this.Rx.zd}},{key:"Vv",get:function(){return this.qx()},set:function(t){this.Wx(t)}},{key:"Kd",get:function(){return this.zx()}},{key:"Xv",get:function(){return this.Gx()}},{key:"qv",get:function(){return this.jx()},set:function(t){this.Qx(t)}},{key:"$d",get:function(){return this.Yx()}},{key:"tl",get:function(){return this.Zx()},set:function(t){this.Jx(t)}},{key:"$h",get:function(){return this.Kx()}},{key:"nl",get:function(){return this.$x()}},{key:"Wv",get:function(){return this.tP()}},{key:"yd",get:function(){return this.nP()}},{key:"zv",get:function(){return this.iP()}},{key:"gd",get:function(){return this.rP()}},{key:"Gv",get:function(){return this.eP()}},{key:"jv",get:function(){return this.uP()},set:function(t){this.sP(t)}}]),n}(wa),KT=function(t){function n(i,r){var e;return(e=t.call(this,i)||this).oP=!1,e.aP=void 0,e.cP=!1,e.hP=function(){e.fP(),e.vP()},e.OE=function(){e.dP(),e.vP(),e.lP&&e.Lv>=e._P.Wm-n.wP&&!e.Fv&&(e.aP=uT(e.OE))},e.gP=function(){e.cP=!0},e.yP=function(){e.cP&&(e.cP=!1,e.vP())},e._P=r,e._P.ls("vh",e.hP),e.Rx.ls("timeupdate",e.OE),e}ct(n,t);var i=n.prototype;return i.Mx=function(n){var i=this._P.Sx().Hy(new no(n)).nc;t.prototype.Mx.call(this,i),this.vP()},i.Fx=function(){return t.prototype.Fx.call(this)||this.oP},i.$x=function(){return QT.vm(t.prototype.$x.call(this)).Wy(this._P.Sx()).By()},i.md=function(){this.Fx()?this.Mx(this.mP.start(0)):this.fP(),t.prototype.md.call(this),this.vP()},i.bd=function(){var n=Ct.coroutine(Nt.mark(function n(i,r){return Nt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Hn(r),this.oP=!1,this._P.Rh(),n.next=5,t.prototype.bd.call(this,i,r);case 5:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),i.Ih=function(){return this._P.ys("vh",this.hP),this.Rx.ys("timeupdate",this.OE),this.dP(),t.prototype.Ih.call(this)},i.Nx=function(n){switch(n.type){case"seeking":return this.vs(n),this.gP(),!0;case"seeked":case"emptied":return this.vs(n),this.yP(),!0;case"ended":if(this.lP)return!0}return t.prototype.Nx.call(this,n)},i.dP=function(){this.aP&&(sT(this.aP),this.aP=void 0)},i.vP=function(){var t=this.Lv,i=this.lP&&t>=this._P.Wm-n.ic;this.oP&&!i?(this.oP=!1,this.Xv&&this.md()):this.oP||!i||this.Wv||this.cP||(this.oP=!0,this.vs(new Ia(t)),this.kd())},i.fP=function(){if(this.Uv!==1/0){var t=this.mP,i=QT.vm(t).Hy(new no(this.Lv)).nc;Gs(this.Lv,i,n.ic)||this.Mx(i)}},T(n,[{key:"mP",get:function(){return this.$x().length?this.$x():this._P.Sx().By()}},{key:"lP",get:function(){return this._P.Wm<this.Uv}}]),n}(JT);KT.wP=1,KT.ic=.001;var $T=function(){function t(){this.kP=!1}return T(t,[{key:"pP",get:function(){return this.kP},set:function(t){this.kP=t}}]),t}(),tE=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).AP=!1,r.bP=!1,r.kP=i,r}ct(n,t);var i=n.prototype;return i.Fx=function(){return!this.kP.pP&&t.prototype.Fx.call(this)},i.kd=function(){this.bP=!0,t.prototype.kd.call(this)},i.md=function(){this.bP=!1,t.prototype.md.call(this)},i.Nx=function(n){if(this.kP.pP)switch(n.type){case"ended":return this.Lv=0,this.bP||(this.Wv?this.AP=!0:this.md()),!0;case"seeked":this.AP&&(this.AP=!1,this.md());break;case"pause":if(this.AP||t.prototype.Fx.call(this))return!0}return t.prototype.Nx.call(this,n)},n}(JT);var nE=function(){function t(t){var n;this.WS=t,this.Zc=(n=this,{get currentBandwidthEstimate(){return n.Yd},get corruptedVideoFrames(){return n.jd},get droppedVideoFrames(){return n.Gd},get totalBytesLoaded(){return n.Zd},get bufferedSegments(){return n.Jd}})}return T(t,[{key:"Jc",get:function(){return this.Zc}},{key:"jd",get:function(){return this.WS.TP.zd.jd}},{key:"Yd",get:function(){return this.WS.TP.zd.Yd}},{key:"Gd",get:function(){return this.WS.TP.zd.Gd}},{key:"EP",get:function(){throw new d("Not implemented")}},{key:"SP",get:function(){throw new d("Not implemented")}},{key:"Zd",get:function(){return this.WS.TP.zd.Zd}},{key:"Qd",get:function(){return this.WS.TP.zd.Qd}},{key:"Jd",get:function(){return this.WS.TP.zd.Jd}}]),t}();function iE(t){return t?"function"==typeof t.getVideoPlaybackQuality?t.getVideoPlaybackQuality().droppedVideoFrames:t.webkitDroppedFrameCount||0:0}function rE(t){return t&&"function"==typeof t.getVideoPlaybackQuality&&t.getVideoPlaybackQuality().corruptedVideoFrames||0}function eE(t){return"function"==typeof t.getVideoPlaybackQuality?t.getVideoPlaybackQuality().totalVideoFrames:t.webkitDecodedFrameCount||0}function uE(t){return t&&Ce(t)?{Gd:iE(t),jd:rE(t),Qd:eE(t)}:{Gd:0,jd:0,Qd:0,Yd:0,Zd:0,Jd:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}var sE=function(t){function n(){return t.call(this,"RP")||this}return ct(n,t),n.prototype.Kc=function(){return new oE},n}(Io),oE=function(t){function n(){return t.call(this,"castingchange")||this}return ct(n,t),n}(ei);var aE=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).IP=[],n.Zc=void 0,n.NP=function(){return n.vs(new sE)},n}ct(n,t);var i=n.prototype;return i.CP=function(t){this.IP.push(t),t.ls("statechange",this.NP)},i.Ih=function(){var t=this;this.IP.forEach(function(n){n.ys("statechange",t.NP)}),xn(this.IP)},T(n,[{key:"DP",get:function(){return this.IP.some(function(t){return t.DP})}},{key:"Jc",get:function(){var t,n,i;return this.Zc||(this.Zc=(i={get casting(){return t.DP},addEventListener:function(t,i){n.ls(t,i)},removeEventListener:function(t,i){n.ys(t,i)}},n=new WT(t=this,i),i)),this.Zc}}]),n}(wa),cE=function(){function t(){}return t.OP=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r,e;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=new dy({rA:n,oA:Zd.yn,sA:tl.GET}),t.next=4,i.yA(r);case 4:return e=t.sent,t.next=7,e.Qn();case 7:return t.abrupt("return",t.sent);case 10:return t.prev=10,t.t0=t.catch(0),Fn(t.t0),t.abrupt("return",void 0);case 14:case"end":return t.stop()}},t,null,[[0,10]])}));return function(n,i){return t.apply(this,arguments)}}(),t.xP=function(t){try{var i=Hg(t);return new Gg(i.key,i.domains_page,i.domains_source,i.expiration_date,i.customer_id,i.generation_date,i.sdks,i.send_impression)}catch(t){throw new de(n.ErrorCode.LICENSE_ERROR,"Invalid license. No valid license was configured.")}},t.PP=function(t){void 0===t&&(t=sy.bp),r.Rc("The baked-in license is used. Please update the configuration with your license.");var n=t.iR(".$hsF|b9_Ess*r[1F|C-*]'8iOn3C:o3COo5"),i=["F$(:_L50F|aY"].map(function(n){return t.iR(n)}),e=["F$(:_L50F|aY"].map(function(n){return t.iR(n)}),u=Number(new Date(Number(t.iR("COD|aHpHa:p3Ceo3Co\"\""))));return new Gg(n,i,e,u)},t.getDummyLicense=function(t,n){return new Gg(t,[],[],864e13,n)},t}(),hE=function(){function t(){}return t.kc=function(){return t.dn||(t.dn=fE.Oo()?new fE:new go),t.dn},t.Fs=function(n){t.kc().Fs(n)},t.yc=function(){t.kc().yc()},t.Ms=function(n){return t.kc().Ms(n)},t.mc=function(n,i){t.kc().mc(n,i)},t.BP=function(n){var i=t.Ms(n);if(void 0!==i)return y(i)},t.MP=function(n){return"true"===t.Ms(n)},t}();hE.dn=void 0;var fE=function(n){function i(){return n.apply(this,arguments)||this}ct(i,n),i.Oo=function(){try{return t.localStorage.setItem("foobar","foobar"),t.localStorage.removeItem("foobar"),!0}catch(t){}return!1};var r=i.prototype;return r.Fs=function(n){t.localStorage.removeItem(n)},r.yc=function(){t.localStorage.clear()},r.Ms=function(n){return t.localStorage[n]},r.mc=function(n,i){t.localStorage[n]=i},i}(hE),vE=w.floor(14399999*w.random()-72e5),dE=function(){function t(t,n,i,r,e,u){this.TA=t,this.LP=n,this.UP=i,this.KR=r,this.FP=e,this.AR=u,this.bR=$g(u)}var i=t.prototype;return i.HP=function(){var t=Ct.coroutine(Nt.mark(function t(){var n;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.VP(this.FP.license,this.FP.licenseUrl);case 2:n=t.sent,this.KR.XP(n);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.VP=function(){var t=Ct.coroutine(Nt.mark(function t(i,r){var e,u,s,o,a,c,h,f;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r,i?u=cE.xP(i):e||(u=cE.PP()),e||(e="https://validate.theoplayer.com/1/"+u.hR),s=this.qP(),!u){t.next=14;break}if((o=this.LP.RR(u))!==Xg.oR){t.next=14;break}if(!this.WP(u.dR)||!this.WP(null==s?void 0:s.dR)){t.next=13;break}return t.next=10,this.zP(e);case 10:if(!(a=t.sent)){t.next=13;break}return t.abrupt("return",a);case 13:return t.abrupt("return",u);case 14:if(!s){t.next=25;break}if(this.LP.RR(s)!==Xg.oR){t.next=24;break}if(!this.WP(null==s?void 0:s.dR)){t.next=23;break}return t.next=20,this.zP(e);case 20:if(!(c=t.sent)){t.next=23;break}return t.abrupt("return",c);case 23:return t.abrupt("return",s);case 24:hE.Fs("THEOplayer.license");case 25:return t.next=27,cE.OP(e,this.TA);case 27:if(!(h=t.sent)){t.next=37;break}if(f=cE.xP(h),this.LP.RR(f)!==Xg.oR){t.next=34;break}return hE.mc("THEOplayer.license",h),t.abrupt("return",f);case 34:hE.Fs("THEOplayer.license"),t.next=39;break;case 37:if(this.bR||!u||o!==Xg.aR||e!=="https://validate.theoplayer.com/1/"+u.hR){t.next=39;break}return t.abrupt("return",cE.getDummyLicense(u.hR,u.lR));case 39:if(!u&&!f){t.next=43;break}this.GP(null!=u?u:f,new de(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!")),t.next=44;break;case 43:throw new de(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!");case 44:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.TR=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i,r,e,u,s,o,a;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.KR.dI();case 2:if(r=t.sent,!this.WP(r.dR)){t.next=9;break}return e=null!==(i=this.FP.licenseUrl)&&void 0!==i?i:"https://validate.theoplayer.com/1/"+r.hR,t.next=7,this.zP(e);case 7:(u=t.sent)&&(this.KR.XP(u),r=u);case 9:if(t.prev=9,(s=this.LP.RR(r))!==Xg.cR){t.next=16;break}throw o=zg.yR,new de(Qg(o),ny.SR(o));case 16:if(s!==Xg.aR){t.next=19;break}throw a=zg.aR,new de(Qg(a),ny.SR(a));case 19:this.LP.TR(n,r),t.next=25;break;case 22:t.prev=22,t.t0=t.catch(9),this.jP(t.t0);case 25:case"end":return t.stop()}},t,this,[[9,22]])}));return function(n){return t.apply(this,arguments)}}(),i.zP=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i,r;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,cE.OP(n,this.TA);case 3:if(void 0!==(i=t.sent)){t.next=6;break}return t.abrupt("return",void 0);case 6:if(r=cE.xP(i),this.LP.RR(r)!==Xg.oR){t.next=11;break}return hE.mc("THEOplayer.license",i),t.abrupt("return",r);case 11:return t.abrupt("return",void 0);case 14:return t.prev=14,t.t0=t.catch(0),t.abrupt("return",void 0);case 17:case"end":return t.stop()}},t,this,[[0,14]])}));return function(n){return t.apply(this,arguments)}}(),i.WP=function(t){return!t||Number(new Date)+2592e5+vE>=t},i.qP=function(){var t=hE.Ms("THEOplayer.license");if(t)return cE.xP(t)},i.GP=function(t,n){this.KR.XP(t),this.jP(n)},i.jP=function(t){throw ut(t.message),this.UP.wI(t.message),t},t}(),lE=function(){function t(){this.OD=new qr}var n=t.prototype;return n.XP=function(t){this.QP=t,this.OD.Js()},n.dI=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.QP){t.next=2;break}return t.abrupt("return",Ct.resolve(this.QP));case 2:return t.next=4,this.OD.Zs;case 4:return t.abrupt("return",this.QP);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),T(t,[{key:"YP",get:function(){return this.QP}}]),t}(),_E=function(t){function n(){return t.call(this,"vh")||this}return ct(n,t),n.prototype.Kc=function(){return new wE},n}(Io),wE=function(t){function n(){return t.call(this,"change")||this}return ct(n,t),n}(ei);var gE,yE,mE={ZP:void 0,JP:void 0,KP:void 0,$P:void 0,tB:void 0,nB:void 0},kE="THEOplayer.textTrackStyle.",pE=function(t){function n(){var i;return(i=t.call(this)||this).Zc=void 0,i.iB=n.rB(),i}return ct(n,t),n.prototype._o=function(t){this.iB=Dt(Dt({},this.iB),t),n.eB(this.iB),this.vs(new _E)},n.rB=function(){var t=Dt({},mE);return t.ZP=hE.Ms(kE+"fontFamily")||t.ZP,t.JP=hE.Ms(kE+"fontColor")||t.JP,t.KP=hE.Ms(kE+"fontSize")||t.KP,t.$P=hE.Ms(kE+"backgroundColor")||t.$P,t.tB=hE.Ms(kE+"windowColor")||t.tB,t.nB=hE.Ms(kE+"edgeStyle")||t.nB,t},n.eB=function(t){hE.mc(kE+"fontFamily",t.ZP||""),hE.mc(kE+"fontColor",t.JP||""),hE.mc(kE+"fontSize",t.KP||""),hE.mc(kE+"backgroundColor",t.$P||""),hE.mc(kE+"windowColor",t.tB||""),hE.mc(kE+"edgeStyle",t.nB||"")},T(n,[{key:"uB",get:function(){return this.iB}},{key:"ZP",get:function(){return this.iB.ZP},set:function(t){this._o({ZP:t})}},{key:"JP",get:function(){return this.iB.JP},set:function(t){this._o({JP:t})}},{key:"KP",get:function(){return this.iB.KP},set:function(t){this._o({KP:t})}},{key:"$P",get:function(){return this.iB.$P},set:function(t){this._o({$P:t})}},{key:"tB",get:function(){return this.iB.tB},set:function(t){this._o({tB:t})}},{key:"nB",get:function(){return this.iB.nB},set:function(t){this._o({nB:t})}},{key:"Jc",get:function(){var t,n,i;return this.Zc||(this.Zc=(t=this,i={get fontFamily(){return t.ZP},set fontFamily(n){t.ZP=n},get fontColor(){return t.JP},set fontColor(n){t.JP=n},get fontSize(){return t.KP},set fontSize(n){t.KP=n},get backgroundColor(){return t.$P},set backgroundColor(n){t.$P=n},get windowColor(){return t.tB},set windowColor(n){t.tB=n},get edgeStyle(){return t.nB},set edgeStyle(n){t.nB=n},addEventListener:function(t,i){var r=Jo(t,Zo);n.ls(r,i)},removeEventListener:function(t,i){var r=Jo(t,Zo);n.ys(r,i)}},n=new ri(i),t.ls(["vh"],function(t){return n.vs(t.Jc)}),i)),this.Zc}}]),n}(ii),AE=function(t){function n(n,i){var r;(r=t.call(this)||this).sB=!1,r.hd=!1,r.oB=!1,r.aB=function(t){if(!r.oB){r.oB=!0;var n=r.cB,i=Ec(t);r.TP.Mh=new Ng(r.Xd,i,t),Qn(n.Ih())}},r.hB=function(t){r.vs(t.Jc)},r.fB=function(t){t.type!==ka.Bf&&t.type!==ka.Pf&&r.vs(t)};var e=Qo(i.uid);m(e)?r.Cm=Wf++:r.Cm=e,r.Cw=i,r.vB=new HT;var u=Gb.SD,s=new lE;r.dB=new yy("2.82.0",u,s),r.xb=new ST(u,i.allowMixedContent),r.LP=new jg(i.isEmbeddable,"2.82.0",Vg()),r.lB=new dE(u,r.LP,r.dB,s,i,Vg()),r.lB.HP().catch(r.aB),r._B=new lT(n),r._B.ls("MD",r.hB),r.FS=new pE,r._P=new ZT,r.kP=new $T;var o=new Eg(n,i,r.xb,r.vB,r._B,r.FS);o=new KT(o,r.wB),o=new tE(o,r.pP),r.cB=o,r.TP=new pc(r.cB),r.TP.ef(r.fB),r.gB=new nE(vt(r)),r.yB=new NT(r.TP,r.xb),r.mB=new Zb(vt(r)),r.kB=new pT(r.TP,i.allowNativeFullscreen),r.pB=new Qa(r.kB),r._B.Eo();var a=new Ft(r._B,r.FS,1,[Jh.Kl]);return r.AB=new Ht(a),r.bB=new aE,r}ct(n,t);var i=n.prototype;return i.Wx=function(t){this.TP.Vv=t,t||this.Xv||this.Rd()},i.sP=function(t){this.TP.jv=t},i.TB=function(){_c(this,vc,this)},i.md=function(){this.TP.md()},i.kd=function(){this.TP.kd()},i.bd=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=5;break}return this.lB.TR(n).catch(this.aB),r=bE(n),t.next=5,this.TP.bd(r,i);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Rd=function(){this.hd||(this.TP.Rd(),this.AB.Rd(),this.hd=!0)},i.Sv=function(){return this.pB.kv()===Ha.FULLSCREEN},i.Cd=function(){this.TP.Cd()},i.Dd=function(){this.TP.Dd()},i.Od=function(){return this.TP.Od()},i.Rh=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.TP.pd();case 2:return t.next=4,this.TP.Rh();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Ih=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.gs(),this.bB.Ih(),this.xb.Ih(),this.yB.Ih(),this.kB.Ih(),this.pB.Ih(),this._B.Ih(),this.dB.Ih(),this.AB.Ih(),t.next=11,this.TP.Ih();case 11:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),T(n,[{key:"ld",get:function(){return this.sB},set:function(t){this.sB=t,this.TP.ld=t}},{key:"EB",get:function(){return this.AB}},{key:"wd",get:function(){return this.TP.wd}},{key:"SB",get:function(){return this.bB}},{key:"RB",get:function(){return this._B}},{key:"qd",get:function(){return this.TP.qd}},{key:"zd",get:function(){return this.gB}},{key:"IB",get:function(){return this.yB}},{key:"yd",get:function(){return this.TP.yd}},{key:"NB",get:function(){return this.FS}},{key:"gd",get:function(){return this.TP.gd}},{key:"Hd",get:function(){return this.TP.Hd}},{key:"wB",get:function(){return this._P}},{key:"pP",get:function(){return this.kP}},{key:"Lv",get:function(){return this.TP.Lv},set:function(t){this.TP.Lv=t}},{key:"Vd",get:function(){return this.TP.Vd},set:function(t){this.TP.Vd=t}},{key:"Ud",get:function(){return this.TP.Ud}},{key:"Uv",get:function(){return this.TP.Uv}},{key:"Xd",get:function(){return this.TP.Xd}},{key:"Fv",get:function(){return this.TP.Fv}},{key:"Is",get:function(){return this.TP.Is}},{key:"Hv",get:function(){return this.TP.Hv}},{key:"Vv",get:function(){return this.TP.Vv},set:function(t){var n=Boolean(t);this.Wx(n)}},{key:"Xv",get:function(){return this.TP.Xv}},{key:"qv",get:function(){return this.TP.qv},set:function(t){this.TP.qv=t}},{key:"$d",get:function(){return this.TP.$d}},{key:"tl",get:function(){return this.TP.tl},set:function(t){this.TP.tl=bg(t)}},{key:"$h",get:function(){return this.TP.$h}},{key:"nl",get:function(){return this.TP.nl}},{key:"Wv",get:function(){return this.TP.Wv}},{key:"Vh",get:function(){return this.Cm}},{key:"zv",get:function(){return this.TP.zv}},{key:"Gv",get:function(){return this.TP.Gv}},{key:"jv",get:function(){return this.TP.jv},set:function(t){var n=zs(Number(t),0,1)||0;this.sP(n)}}]),n}(wa);function bE(t){t.sources;var n=t.sources.filter(function(t){return void 0===t.integration});return t.sources=n,t}!function(t){t[t.CB=0]="CB",t[t.DB=1]="DB"}(gE||(gE={})),function(t){t[t.OB=0]="OB"}(yE||(yE={}));var TE={};function EE(t,n){(TE[n]||(TE[n]=[])).push(t)}function SE(t,n){var i=t;if(TE[n])for(var r=0,e=TE[n];r<e.length;r++){i=(0,e[r])(i)}return i}var RE=[];function IE(t){RE.push(t)}var NE=t.CustomEvent;var CE,DE=function(){try{var t=new NE("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?function(t,n){return new CustomEvent(t,n)}:function(t,n){var i=s.createEvent("CustomEvent");return n?i.initCustomEvent(t,n.bubbles,n.cancelable,n.detail):i.initCustomEvent(t,!1,!1,void 0),i};(CE=Ct)&&CE.config({warnings:!1,longStackTraces:!1});CE&&(BE=CE.setScheduler(j),OE=BE,ME={xB:function(t){xE=t,OE(PE)},aI:PE=function(){var t=xE;t&&(xE=void 0,t())}},CE.setScheduler(ME.xB));var OE,xE,PE,BE,ME,LE=function(){function t(t,n){var i=this;this.PB=!1,this.BB=function(t){i.MB._I(t.error,i.Lv)},this.LB=function(){i.MB.vI(i.UB),i.WS.removeEventListener("playing",i.LB),i.PB=!1},this.FB=function(){i.PB||(i.WS.addEventListener("playing",i.LB),i.PB=!0)},this.MB=n,this.WS=t,this.WS.addEventListener("error",this.BB),this.WS.addEventListener("sourcechange",this.FB),this.FB()}return t.prototype.Rh=function(){},T(t,[{key:"Lv",get:function(){var t=this.WS.currentTime;return"number"==typeof t&&isFinite(t)?t:"now"}},{key:"UB",get:function(){return this.WS.src||""}}]),t}();IE(function(t){new LE(t.Jc,t.dB)});var UE="theoplayer-stored-volume",FE="theoplayer-stored-mutedstate";EE(function(t){return function(t){function n(n,i){var r;if(r=t.call(this,n,i)||this,i.persistVolume){var e=hE.BP(UE);(void 0===e||m(e))&&(e=1);var u=hE.MP(FE)||!1;r.jv=e,r.Vv=u}return r}ct(n,t);var i=n.prototype;return i.Wx=function(n){this.Cw.persistVolume&&hE.mc(FE,n),t.prototype.Wx.call(this,n)},i.sP=function(n){this.Cw.persistVolume&&hE.mc(UE,n),t.prototype.sP.call(this,n)},n}(t)},gE.DB);var HE=new(function(){function t(){this.HB=[],this.Zc=void 0}var n=t.prototype;return n.bh=function(t){return this.HB[t]},n.VB=function(t){this.HB.push(t),this.Jc.push(t.Jc)},n.lo=function(t){var n=this.HB.indexOf(t);n<0||(Cn(this.HB,n),this.Zc&&Cn(this.Zc,n))},n.XB=function(t){for(var n=0,i=this.HB;n<i.length;n++){var r=i[n];if(r.Vh===t)return r}},T(t,[{key:"Ch",get:function(){return this.HB.length}},{key:"Jc",get:function(){return this.Zc||(this.Zc=function(t){for(var n=[],i=0;i<t.Ch;i++)n[i]=t.bh(i).Jc;return n.getPlayerByUID=function(n){var i=t.XB(n);return i&&i.Jc},n}(this)),this.Zc}}]),t}());var VE,XE=function(t){function n(n){var i;return(i=t.call(this,ka.Yf)||this).source=n,i}return ct(n,t),n}(ei),qE=function(t){function n(){var n;return(n=t.call(this)||this).qB=0,n.WB=!0,n.zB=!1,n.GB=1,n}ct(n,t);var i=n.prototype;return i.md=function(){this.WB&&(this.WB=!1,this.vs(new xa(this.Lv)),this.vs(new rg(this.Lv)))},i.kd=function(){this.WB||(this.WB=!0,this.vs(new Na(this.Lv,this.Vd)),this.vs(new Ba(this.Lv)))},i.Rh=function(){this.qB=0,this.zB=!1,this.GB=1,this.kd(),this.vs(new Pa(this.qB))},i.Ih=function(){this.gs()},i.Dd=function(){},i.Cd=function(){},i.ef=function(t){this.ls("emptied",t),this.ls("pause",t),this.ls("play",t),this.ls("seeking",t),this.ls("timeupdate",t),this.ls("waiting",t)},i.uf=function(t){this.ys("emptied",t),this.ys("pause",t),this.ys("play",t),this.ys("seeking",t),this.ys("timeupdate",t),this.ys("waiting",t)},T(n,[{key:"Vd",get:function(){},set:function(t){}},{key:"Lv",get:function(){return this.qB},set:function(t){this.qB!==t&&(this.qB=t,this.zB=!0,this.vs(new Sa(this.Lv)))}},{key:"Xv",get:function(){return this.WB}},{key:"qv",get:function(){return this.GB},set:function(t){this.GB!==t&&(this.GB=t,this.vs(new Ca(this.Lv,this.qv)))}},{key:"$h",get:function(){return ga.df}},{key:"Wv",get:function(){return this.zB}}]),n}(ii),WE=function(t){function n(){return t.call(this,ka.Ef)||this}return ct(n,t),n}(ei),zE={zIndex:"1",display:"inline-block",verticalAlign:"middle",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"contain",cursor:"pointer",margin:"0",padding:"0",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",height:"100%"},GE={visibility:"hidden"},jE={visibility:"visible"},QE=function(){function t(t){var n,i=this;this.jB=!1,this.QB=function(t){i.jB=!1,i.YB=t.source&&t.source.poster,i._o()},this.hE=function(){i.jB=!0,i.Dd()},this.WS=t,this.GS(),this.OS=((n=Xt&&Xt.document&&Xt.document.createElement("div")).className="theoplayer-poster",Re(zE,n),n),t.Xd.appendChild(this.OS)}var n=t.prototype;return n._o=function(){var t=this.WS.Xv,n=this.jB;this.rA?this.OS.style.backgroundImage='url("'+this.rA.replace(/[\\"]/g,function(t){return"\\"+t})+'")':this.OS.style.backgroundImage="",t&&this.rA&&!n?this.Cd():this.Dd()},n.Cd=function(){Re(GE,this.WS.Xd),Re(jE,this.OS)},n.Dd=function(){Re(GE,this.OS),Re(jE,this.WS.Xd)},n.GS=function(){this.WS.ls("sourcechange",this.QB),this.WS.ls("play",this.hE)},n.Ih=function(){this.WS.ys("sourcechange",this.QB),this.WS.ys("play",this.hE),Te(this.OS)},T(t,[{key:"rA",get:function(){return void 0!==this.YB?this.YB:void 0!==this.ZB?this.ZB:void 0}},{key:"JB",set:function(t){this.ZB=t,this._o()}}]),t}();function YE(t){return function(n){function i(i,r){var e;return(e=n.call(this,i)||this).KB=function(t){t.type!==ka.Ff&&e.$B.push(t)},e.tM=new t(i,r),e.nM=new qE,e.WS=e.tM,e.iM=new QE(vt(e)),e.LT=new Dl,e.rM=!1,e.$B=[],e.MS=!0,e.BS=void 0,e.GS(),e}ct(i,n);var r=i.prototype;return r.LA=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.LT.LA(n,i).catch(Xn));case 1:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.eM=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Hn(i),this.tM.ef(this.KB),t.next=4,this.tM.bd(n,i);case 4:this.tM.uf(this.KB);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.uM=function(){var t=Ct.coroutine(Nt.mark(function t(){var n,i,r;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((n=this.Ad())&&!Ef(n)&&this.ld&&this.Xv){t.next=3;break}return t.abrupt("return");case 3:return i=n.mutedAutoplay||this.Cw.mutedAutoplay,t.next=6,this.EB.sM();case 6:r=t.sent,t.t0=r,t.next="all"===t.t0?10:"muted"===t.t0?12:14;break;case 10:return this.oM(),t.abrupt("break",14);case 12:return(this.Vv||i===ja.ALL)&&(this.Vv=!0,this.md()),t.abrupt("break",14);case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.bd=function(t){var n=this,i=this.BS;i&&!Ef(i)&&this.vs(new Pa(0,0)),this.Rh(),this.BS=t,Qn(this.LA(function(){var i=Ct.coroutine(Nt.mark(function i(r){return Nt.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return Hn(r),i.prev=1,i.next=4,n.eM(t,r);case 4:i.next=10;break;case 6:throw i.prev=6,i.t0=i.catch(1),n.BS=void 0,i.t0;case 10:return i.next=12,n.aM();case 12:case"end":return i.stop()}},i,null,[[1,6]])}));return function(t){return i.apply(this,arguments)}}()))},r.aM=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.cM(this.tM),this.vs(new XE(this.Ad())),t.next=4,this.uM();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.Mx=function(t){this.WS.Lv=t},r.Hx=function(){return this.tM.Is},r.Vx=function(){return this.tM.Hv},r.md=function(){this.WS.md()},r.oM=function(){this.Vv||this.Rd(),this.md()},r.Rd=function(){this.tM.Rd()},r.kd=function(){this.WS.kd()},r.pd=function(){this.bd(void 0)},r.Cd=function(){this.MS=!0,this.WS.Cd()},r.Dd=function(){this.MS=!1,this.WS.Dd()},r.TB=function(){this.tM.TB()},r.sP=function(t){this.tM.sP(t)},r.Wx=function(t){this.tM.Wx(t)},r.hM=function(t){this.fM=t,t.VB(this)},r.Sv=function(){return this.tM.Sv()},r.Ad=function(){return this.BS},r.Od=function(){return this.tM.Od()},r.Bx=function(){return this.tM.Lv},r.Lx=function(){return this.tM.Uv},r.Dx=function(){return this.tM.Hd},r.Yx=function(){return this.tM.$d},r.$x=function(){return this.tM.nl},r.Rh=function(){var t=this;this.BS=void 0,xn(this.$B),this.nM.Rh(),this.cM(this.nM),this.LT.ss(),Qn(this.LT.LA(function(){var n=Ct.coroutine(Nt.mark(function n(i){return Nt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Hn(i),n.next=3,t.tM.Rh();case 3:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}()))},r.Ih=function(){var t=this;this.vs(new WE),this.iM.Ih(),this.QS(),this.Rh(),Qn(this.LA(Ct.coroutine(Nt.mark(function n(){return Nt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.tM.Ih();case 2:t.fM&&(t.fM.lo(t),t.fM=void 0),t.LT.Ih();case 4:case"end":return n.stop()}},n)})))),this.gs()},r.cM=function(t){if(this.WS!==t){var n=this.WS.Xv,i=this.WS.Lv,r=this.WS.qv;this.QS(),t===this.tM?(t.Lv!==i&&(t.Lv=i),t.qv!==r&&(t.qv=r),n?t.kd():t.md()):this.Cw.retainPlaybackRateOnSourceChange?t.qv=r:1!==r&&this.vs(new Ca(this.Bx(),1)),this.WS=t,this.GS();for(var e=0,u=this.$B;e<u.length;e++){var s=u[e];this.vs(s)}xn(this.$B),this.MS?t.Cd():t.Dd()}},r.GS=function(){this.WS.ef(this.fs)},r.QS=function(){this.WS.uf(this.fs)},r.Kc=function(){return t=this,r=function(n){i=n;var r=Lf(n,t.Cw);t.bd(r)},e={get abr(){return t.vB.Jc},get audioTracks(){return t.wd.Jc},get autoplay(){return t.ld},set autoplay(n){t.ld=Boolean(n)},get buffered(){return t.Dx()},get canvas(){return t.mB.Jc},get clip(){return t.wB.Jc},get currentProgramDateTime(){var n;return null!==(n=t.Vd)&&void 0!==n?n:null},set currentProgramDateTime(n){t.Vd=null!=n?n:void 0},get currentTime(){return t.Bx()},set currentTime(n){t.Mx(Number(n))},get duration(){return t.Lx()},get element(){return t.Xd},get ended(){return t.Fv},get error(){return t.Hx()},get errorObject(){return t.Vx()},get hesp(){return t.qd},get loop(){return t.pP.pP},set loop(n){t.pP.pP=Boolean(n)},get metrics(){return t.zd.Jc},get muted(){return t.Vv},set muted(n){t.Wx(n)},get network(){return t.IB.Jc},get paused(){return t.Xv},get playbackRate(){return t.qv},set playbackRate(n){var i=Number(n);if(i<0)throw new RangeError("playbackRate must be a positive number");t.qv=i},get played(){return t.Yx()},get poster(){return t.vM},set poster(n){t.vM=Zo(n)},get preload(){return t.tl},set preload(n){t.tl=n},get presentation(){return t.pB.Jc},get readyState(){return t.$h},get seekable(){return t.$x()},get seeking(){return t.Wv},get source(){return i},set source(t){r(t)},get src(){return Rf(t.Ad())},set src(t){r({sources:t})},get textTracks(){return t.yd.Jc},get textTrackStyle(){return t.NB.Jc},get uid(){return t.Vh},get videoHeight(){return t.zv},get videoTracks(){return t.gd.Jc},get videoWidth(){return t.Gv},get volume(){return t.jv},set volume(n){t.sP(Number(n))},destroy:function(){t.Ih(),t=null,i=void 0},play:function(){t.oM()},pause:function(){t.kd()},stop:function(){i=void 0,t.pd()},prepareWithUserAction:function(){t.Rd()},addEventListener:function(t,i){n.ls(t,i)},removeEventListener:function(t,i){n.ys(t,i)},setSource:function(t){r(t)}},(n=new Fa(e,!0)).sv(t),e;var t,n,i,r,e},T(i,[{key:"dB",get:function(){return this.tM.dB}},{key:"mB",get:function(){return this.tM.mB}},{key:"Cw",get:function(){return this.tM.Cw}},{key:"cB",get:function(){return this.tM.cB}},{key:"xb",get:function(){return this.tM.xb}},{key:"hS",get:function(){return this.tM.kB}},{key:"pB",get:function(){return this.tM.pB}},{key:"_B",get:function(){return this.tM._B}},{key:"TP",get:function(){return this.tM.TP}},{key:"vB",get:function(){return this.tM.vB}},{key:"ld",get:function(){return this.tM.ld},set:function(t){this.tM.ld=t,this.uM()}},{key:"EB",get:function(){return this.tM.EB}},{key:"wd",get:function(){return this.tM.wd}},{key:"SB",get:function(){return this.tM.SB}},{key:"RB",get:function(){return this.tM._B}},{key:"Jc",get:function(){return this.Zc||(this.Zc=this.Kc()),this.Zc}},{key:"qd",get:function(){return this.tM.qd}},{key:"zd",get:function(){return this.tM.zd}},{key:"IB",get:function(){return this.tM.IB}},{key:"yd",get:function(){return this.tM.yd}},{key:"NB",get:function(){return this.tM.NB}},{key:"gd",get:function(){return this.tM.gd}},{key:"wB",get:function(){return this.tM.wB}},{key:"pP",get:function(){return this.tM.pP}},{key:"Vd",get:function(){return this.WS.Vd},set:function(t){this.WS.Vd=t}},{key:"Ud",get:function(){return this.tM.Ud}},{key:"Xd",get:function(){return this.tM.Xd}},{key:"Fv",get:function(){return this.tM.Fv}},{key:"Vv",get:function(){return this.tM.Vv},set:function(t){this.tM.Vv=t}},{key:"Xv",get:function(){return this.WS.Xv}},{key:"vM",get:function(){return this.iM.rA||""},set:function(t){this.iM.JB=t}},{key:"qv",get:function(){return this.tM.qv},set:function(t){this.WS.qv=t}},{key:"tl",get:function(){return this.tM.tl},set:function(t){this.tM.tl=bg(t)}},{key:"$h",get:function(){return this.WS.$h}},{key:"Wv",get:function(){return this.WS.Wv}},{key:"Vh",get:function(){return this.tM.Vh}},{key:"zv",get:function(){return this.tM.zv}},{key:"Gv",get:function(){return this.tM.Gv}},{key:"jv",get:function(){return this.tM.jv},set:function(t){this.tM.jv=t}}]),i}(wa)}function ZE(t,n){var i=fc(n),r=new(VE||(VE=SE(VE=YE(AE),gE.CB),VE=SE(VE,gE.DB)),VE)(t,i),e=r.Jc;return r.TB(),r.hM(HE),_.defineProperty(e,"constructor",{value:ZE}),e=Ho(e),function(t){for(var n=0;n<RE.length;n++)(0,RE[n])(t)}(r),e}jn(function(){t.dispatchEvent&&t.dispatchEvent(DE("theoplayerready"))});var JE,KE={base64:new(function(){function t(){}var n=t.prototype;return n.encode=function(t){return mi(t)},n.decode=function(t){return gi(t)},t}())},$E=HE.Jc,tS=th.yl.registerContentProtectionIntegration.bind(th.yl),nS={dM:!1,lM:50,_M:!1},iS=["loadstart","encrypted","waitingforkey","webkitneedkey","msneedkey"];!function(t){t.ky="wM"}(JE||(JE={}));var rS,eS,uS,sS,oS=function(t){function i(n,i,r){var e;(e=t.call(this)||this).gM=!1,e.yM=new qr,e.LT=new Dl,e.Ao=void 0,e.mM=function(){e.kM(!0)},e.Go=n,e.VT=i,e.ia=i.QE,e.Uu=r;for(var u=0;u<iS.length;u++){var s=iS[u];e.ia.addEventListener(s,e.mM)}return e}ct(i,t);var r=i.prototype;return r.GT=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r,e;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Uu.zu(n.Du,i);case 2:return r=t.sent,t.next=5,r.Io();case 5:return e=t.sent,t.next=8,this.pM(e);case 8:return t.abrupt("return",e);case 9:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.$u=function(){var t=Ct.coroutine(Nt.mark(function t(){var n,i;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(this.gs(),n=0;n<iS.length;n++)i=iS[n],this.ia.removeEventListener(i,this.mM);return t.next=4,this.LT.Ih();case 4:return t.next=6,this.AM();case 6:return t.next=8,this.pM(void 0);case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.kM=function(t){t!==this.gM&&(this.gM=t,t?this.yM.Js(void 0):this.yM=new qr)},r.pM=function(t){var n=this;return this.LT.LA(function(){return n.bM(t)})},r.bM=function(){var t=Ct.coroutine(Nt.mark(function t(i){var r;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!i||this.ia.src){t.next=4;break}throw new Ac(n.ErrorCode.CONTENT_PROTECTION_ERROR,"Attempted to attach MediaKeys to a sourceless MediaElement");case 4:if(i||!this.ia.src){t.next=6;break}throw new Ac(n.ErrorCode.CONTENT_PROTECTION_ERROR,"Attempted to remove MediaKeys from a non-empty MediaElement");case 6:if(!i||this.gM){t.next=9;break}return t.next=9,this.yM.Zs;case 9:if(!(r=this.Ao)){t.next=14;break}return t.next=13,r.So(this.ia);case 13:this.Ao=void 0;case 14:if(!i){t.next=18;break}return t.next=17,i.Eo(this.ia);case 17:this.Ao=i;case 18:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.bd=function(t){var n=this;return this.LT.LA(function(){return n.TM(t)})},r.TM=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.kM(!1),i=this.VT.qv,this.ia.src=n,this.VT.qv=i;case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.do=function(){var t=this;return this.LT.LA(function(){return t.EC()})},r.EC=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.ia.load();case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.AM=function(){var t=this;return this.LT.LA(function(){return t.EM()})},r.EM=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.kM(!1),De(this.ia);case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),T(i,[{key:"wd",get:function(){throw new d("Not implemented")}},{key:"Cw",get:function(){return this.Go}},{key:"QE",get:function(){return this.ia}},{key:"gd",get:function(){throw new d("Not implemented")}}]),i}(ii),aS=function(t){function n(){return t.apply(this,arguments)||this}ct(n,t);var i=n.prototype;return i.VA=function(){var t=Ct.coroutine(Nt.mark(function t(){var n;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=this.Cw,t.t0=n.iS,t.next=t.t0===qa.Ov?4:t.t0===qa.xv?4:(t.t0,qa.Pv,6);break;case 4:return this.ia.setAttribute("crossorigin",n.iS),t.abrupt("break",8);case 6:return this.ia.removeAttribute("crossorigin"),t.abrupt("break",8);case 8:return void 0!==n.tl?this.ia.preload=n.tl:this.ia.preload=pg.RE,void 0!==n.rS?this.ia.title=n.rS:Ne(this.ia),t.next=12,this.bd(n.if);case 12:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.$u=function(){var n=Ct.coroutine(Nt.mark(function n(){return Nt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Ne(this.ia),n.next=3,t.prototype.$u.call(this);case 3:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),n.SM=function(t,n){return!!n.canPlayType&&Boolean(n.canPlayType(t.tS))},T(n,[{key:"Hd",get:function(){return QT.vm(this.ia.buffered)}},{key:"Uv",get:function(){return this.ia.duration}},{key:"RM",get:function(){var t=this.Uv;if(!isFinite(t))return!1;var n=this.Hd;if(0===n.Ch)return!1;var i=n.Ny(n.Ch-1);return new no(t).Ka(i).ja(no.ic)}},{key:"tl",get:function(){return this.ia.preload},set:function(t){this.ia.preload=t}},{key:"nl",get:function(){return QT.vm(this.ia.seekable)}},{key:"IM",get:function(){return this.Hd}},{key:"NM",get:function(){if(Ce(this.ia)&&(this.ia.videoWidth>0||this.ia.videoHeight>0))return this.Hd}}]),n}(oS),cS=function(t){function n(n){var i;return(i=t.call(this,ka.Uf)||this).currentTime=n,i}return ct(n,t),n}(ei),hS=function(t){function n(){return t.call(this,ka.Df)||this}return ct(n,t),n}(ei);!function(t){t[t.CM=0]="CM",t[t.DM=1]="DM"}(rS||(rS={})),function(t){t.OM="xM"}(eS||(eS={})),function(t){t[t.PM=0]="PM",t[t.Vp=1]="Vp",t[t.BM=2]="BM"}(uS||(uS={})),function(t){t.MM="LM"}(sS||(sS={}));var fS=function(t){function n(n){var i;return(i=t.call(this,sS.MM)||this).UM=n,i}return ct(n,t),n}(ei),vS=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).FM=QT.lm(),n}ct(n,t);var i=n.prototype;return i.HM=function(t,n){var i=new QT([t,n]);this.FM=this.FM.Zy(i),this.vs(new fS(i))},i.VM=function(t,n){this.FM=this.FM.Ky(new QT([t,n]))},i.Rh=function(){this.FM=QT.lm()},i.Ih=function(){this.gs()},T(n,[{key:"XM",get:function(){return this.FM}}]),n}(ii),dS=function(t){function n(){return t.apply(this,arguments)||this}ct(n,t);var i=n.prototype;return i.qM=function(t,n,i){return Ct.reject(new d("Invalid state"))},i.WM=function(){return Ct.reject(new d("Invalid state"))},i.zM=function(t,n){return Ct.reject(new d("Invalid state"))},i.RM=function(){return!1},i.GM=function(){},i.jM=function(t,n){},i.QM=function(t,n){},i.lo=function(t,n,i){return Ct.resolve()},i.YM=function(t,n){return Ct.reject(new d("Invalid state"))},i.ZM=function(t){},i.JM=function(t){},i.Ih=function(){return Ct.resolve()},T(n,[{key:"Hd",get:function(){return QT.lm()}},{key:"KM",get:function(){return!1}},{key:"$M",get:function(){return QT.lm()}},{key:"tL",get:function(){return!1}},{key:"yO",get:function(){return!1}}]),n}(ii),lS=function(){function t(t,n){this.nL=void 0,this.iL=n,this.rL=t}var n=t.prototype;return n.RM=function(){return!!this.nL&&this.Hd.Uy().Xy(this.nL)},n.GM=function(){var t=this.Hd;this.nL=t.Ch>0?t.Ny(t.Ch-1):new no(0),this.iL.eL()},T(t,[{key:"Hd",get:function(){var t=QT.vm(this.rL.buffered).Wy(new QT([no.rc,no.ec])),n=this.nL;return void 0!==n&&t.Ch>0&&t.Ny(t.Ch-1).Ja(n)&&(t=t.Zy(QT.dm(n))),t}}]),t}(),_S="QuotaExceededError";function wS(t){return t&&t.name===_S}function gS(t,n){return void 0===n&&(n=new cp({highWaterMark:1/0})),new tp(new yS(t,n),{highWaterMark:0})}var yS=function(){function t(t,n){var i=this,r=n.size,e=void 0===r?function(){return 1}:r,u=n.highWaterMark,s=void 0===u?1:u;this.Kr=[],this.VI=0,this.OD=void 0,this.uL=!1,this.sL=void 0,this.oL=function(t){return t.done?(i.ie(),void i.OD.close()):(i.Kr.push(t.value),i.VI+=i.aL(t.value),i.uL&&i.ie(),i.cL()?i.CI.read().then(i.oL):void 0)},this.vC=function(t){i.ie(),i.OD.error(t)},this.CI=t.getReader(),this.aL=e,this.hL=s}var n=t.prototype;return n.start=function(t){this.OD=t,this.cL()&&this.fL()},n.pull=function(){this.Kr.length>0?this.ie():this.uL=!0,this.cL()&&this.fL()},n.cancel=function(t){return xn(this.Kr),this.VI=0,this.uL=!1,this.CI.cancel(t)},n.ie=function(){if(0!==this.Kr.length){var t=this.Kr;this.Kr=[],this.VI=0,this.uL=!1,this.OD.enqueue(t)}},n.cL=function(){return!!this.uL||this.hL-this.VI>0},n.fL=function(){var t=this;if(!this.sL){var n=this.CI.read().then(this.oL).catch(this.vC);this.sL=n;var i=function(){t.sL===n&&(t.sL=void 0)};n.then(i,i)}},t}(),mS=20,kS=P.nn,pS=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).mx=mS,u.kx=CT,u.vL=!1,u.dL=!1,u.lL=void 0,u._L=new Ln,u.wL=!1,u.gL=void 0,u.yL=function(){u.vL=!1},u.VT=n,u.mL=r,u.kL=i,u.rL=e,u.rL.addEventListener("updateend",u.yL),u}ct(n,t);var i=n.prototype;return i.qM=function(t,n,i){var r=this;switch(t.Cu){case uS.PM:case uS.Vp:return this.pL(function(i){return r.AL(t,n,i)},i);case uS.BM:throw new d("Opaque segments are not supported on web.")}},i.zM=function(t,n){var i=this;switch(t.Cu){case uS.PM:return this.pL(function(n){return i.bL(t,n)},n);case uS.Vp:throw new d("Streaming initialization segments are not supported on web.");case uS.BM:throw new d("Opaque initialization segments are not supported on web.")}},i.bL=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.TL(n.Qn,void 0,i);case 2:kS&&(this.wL=!1,this.gL=n);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.AL=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(kS&&this.wL&&this.gL)){t.next=3;break}return t.next=3,this.bL(this.gL,r);case 3:return t.prev=3,Hn(r),t.next=7,this.TL(n.Qn,i,r);case 7:this.vs(new ei(eS.OM));case 8:return t.prev=8,n.Cu===uS.Vp&&n.Qn.cancel(new Un).catch(j),t.finish(8);case 11:case"end":return t.stop()}},t,this,[[3,,8,11]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.TL=function(t,n,i){return this.EL(t,n,i)},i.EL=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Hn(r),t.next=3,this.SL(new no(this.VT.Lv),i?new no(i.RL):void 0,i?new no(i.Uv):void 0);case 3:if(Hn(r),!(n instanceof tp)){t.next=9;break}return t.next=7,this.IL(n,i,r);case 7:t.next=11;break;case 9:return t.next=11,this.NL(n,i,r);case 11:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.IL=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r){var e,u;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=void 0,u=Ip(n),n=u[0],e=u[1],t.prev=5,t.next=8,this.CL(n,i,r);case 8:return e.cancel(new Un).catch(j),t.abrupt("return");case 12:if(t.prev=12,t.t0=t.catch(5),!wS(t.t0)){t.next=21;break}return t.next=17,this.SL(new no(this.VT.Lv),i?new no(i.RL):void 0,i?new no(i.Uv):void 0,r);case 17:if(!t.sent){t.next=21;break}return n=e,t.abrupt("continue",0);case 21:throw e.cancel(t.t0).catch(j),t.t0;case 23:t.next=0;break;case 25:case"end":return t.stop()}},t,this,[[5,12]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.CL=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r){var e,u,s,o,a,c,h,f;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=this.kL.Hd,u=gS(n),s=u.getReader(),o=!1,t.prev=4,i&&this.DL(i);case 6:return t.next=9,qn(s.read(),r);case 9:if(!(a=t.sent).done){t.next=13;break}return o=!1,t.abrupt("break",20);case 13:return Hn(r),c=bi(a.value),o=!0,t.next=18,this.OL(c);case 18:t.next=6;break;case 20:t.next=37;break;case 22:if(t.prev=22,t.t0=t.catch(4),s.cancel(t.t0).catch(j),!o){t.next=36;break}return t.next=28,this.xL();case 28:h=this.kL.Hd.Wy(e.zy()),f=0;case 30:if(!(f<h.Ch)){t.next=36;break}return t.next=33,this.PL(h.Ry(f).nc,h.Ny(f).nc);case 33:f++,t.next=30;break;case 36:throw t.t0;case 37:case"end":return t.stop()}},t,this,[[4,22]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.NL=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=1,Hn(r),i&&this.DL(i),t.next=6,this.OL(n);case 6:return t.abrupt("return",t.sent);case 9:if(t.prev=9,t.t0=t.catch(1),!wS(t.t0)){t.next=17;break}return t.next=14,this.SL(new no(this.VT.Lv),i?new no(i.RL):void 0,i?new no(i.Uv):void 0,r);case 14:if(!t.sent){t.next=17;break}return t.abrupt("continue",0);case 17:throw t.t0;case 18:t.next=0;break;case 20:case"end":return t.stop()}},t,this,[[1,9]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.YM=function(t,n){var i=this;return this.pL(function(){return i.BL(t,n)})},i.BL=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.rL.appendWindowStart===n&&this.rL.appendWindowEnd===i){t.next=6;break}return t.next=3,this.xL();case 3:this.rL.appendWindowStart=0,this.rL.appendWindowEnd=i,this.rL.appendWindowStart=n;case 6:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.DL=function(t){this.rL.timestampOffset!==t.yp&&(this.rL.timestampOffset=t.yp)},i.OL=function(){var t=Ct.coroutine(Nt.mark(function t(n){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.rL.appendBuffer(n),this.dL=!0,t.next=4,this.ML();case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.SL=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r,e){var u,s,o,a,c;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:u=DT(n,i,r,this.kL.Hd,this.mx,this.kx),s=0;case 2:if(!(s<u.length)){t.next=9;break}return o=u[s],a=o[0],c=o[1],t.next=6,this.PL(a.nc,c.nc,e);case 6:s++,t.next=2;break;case 9:return t.abrupt("return",u.length>0);case 10:case"end":return t.stop()}},t,this)}));return function(n,i,r,e){return t.apply(this,arguments)}}(),i.LL=function(t,n,i){var r=this;return this.pL(function(i){return r.PL(t,n,i)},i)},i.PL=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Hn(r),this.rL.remove(n,i),t.next=4,this.ML();case 4:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.ML=function(){var t=this,n=this.kL.Hd;return new Ct(function(i,r){var e,u=!1,s=function(){u=!0},o=function(){u=!1,e="error"},a=function(){u=!1,e="aborted"},c=function(){h(),u&&!e?(n.um(t.kL.Hd)||t.vs(new ei(eS.OM)),i()):r(new d(e))},h=function(){t.rL.removeEventListener("update",s),t.rL.removeEventListener("error",o),t.rL.removeEventListener("abort",a),t.rL.removeEventListener("updateend",c)};t.rL.addEventListener("update",s),t.rL.addEventListener("error",o),t.rL.addEventListener("abort",a),t.rL.addEventListener("updateend",c)})},i.UL=function(){var t=Ct.coroutine(Nt.mark(function t(){var n=this;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.pL(function(){return n.xL()}));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.xL=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.mL.$h===SS.dA){t.next=2;break}return t.abrupt("return");case 2:kS&&(this.wL=!0),this.rL.updating&&(this.vL=!0);try{this.rL.abort()}catch(t){0,this.vL=!1}if(!this.yO){t.next=8;break}return t.next=8,this.ML().catch(j);case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.pL=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.lL){t.next=2;break}throw new d("Internal error");case 2:return(r=new Ln).os(this._L.cs),i&&r.os(i),t.prev=5,this.lL=n(r.cs),t.next=9,this.lL;case 9:if(this.mL.FL(),!this.yO){t.next=13;break}return t.next=13,this.ML();case 13:return t.prev=13,this.lL=void 0,r.$u(),t.finish(13);case 17:case"end":return t.stop()}},t,this,[[5,,13,17]])}));return function(n,i){return t.apply(this,arguments)}}(),i.$u=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.gs(),this._L.ss(),!this.lL){t.next=6;break}return t.next=5,this.lL.catch(j);case 5:this.lL=void 0;case 6:this.rL.removeEventListener("updateend",this.yL);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),T(n,[{key:"tL",get:function(){return this.dL}},{key:"hx",get:function(){return this.mx},set:function(t){this.mx=t}},{key:"wx",set:function(t){this.kx=t}},{key:"yO",get:function(){return this.vL||this.rL.updating}}]),n}(ii);function AS(t,n,i,r,e){var u=new lS(t,n),s=new pS(r,u,n,t);return new bS(u,s,e)}var bS=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).kL=n,e.HL=i,e.VL=r,e.HL.ls(eS.OM,e.fs),e}ct(n,t);var i=n.prototype;return i.RM=function(){return this.kL.RM()},i.GM=function(){this.kL.GM()},i.jM=function(t,n){var i=new no(t),r=new no(n);this.VL.HM(i,r)},i.QM=function(t,n){var i=new no(t),r=new no(n);this.VL.VM(i,r)},i.WM=function(){return this.HL.UL()},i.qM=function(t,n,i){return this.HL.qM(t,n,i)},i.zM=function(t,n){return this.HL.zM(t,n)},i.lo=function(t,n,i){return this.QM(t,n),this.HL.LL(t,n,i)},i.YM=function(t,n){return this.HL.YM(t,n)},i.ZM=function(t){this.HL.hx=t},i.JM=function(t){this.HL.wx=t},i.Ih=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.HL.ys(eS.OM,this.fs),t.next=3,this.HL.$u();case 3:this.VL.Ih();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),T(n,[{key:"Hd",get:function(){return this.kL.Hd}},{key:"KM",get:function(){return!0}},{key:"$M",get:function(){return this.VL.XM}},{key:"tL",get:function(){return this.HL.tL}},{key:"yO",get:function(){return this.HL.yO}}]),n}(ii),TS=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).rL=void 0,s.mL=n,s.Go=r,s.Po=r.tS,s.XL=e,s.VT=i,s.DI=new dS,s.DI.ls(eS.OM,s.fs),s.mx=mS,s.kx=CT,s.VL=u,s}ct(n,t);var i=n.prototype;return i.RM=function(){return this.DI.RM()},i.GM=function(){return this.DI.GM()},i.jM=function(t,n){this.DI.jM(t,n)},i.QM=function(t,n){this.DI.QM(t,n)},i.WM=function(){return this.DI.WM()},i.qM=function(t,n,i){return this.DI.qM(t,n,i)},i.zM=function(t,n){return this.DI.zM(t,n)},i.YM=function(t,n){return this.DI.YM(t,n)},i.lo=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.DI.lo(n,i,r);case 2:(P.vn||P.Qt)&&this.VT.qs(this.VT.Lv);case 3:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.Pm=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.KM!==n){t.next=2;break}return t.abrupt("return");case 2:if(!n){t.next=7;break}return t.next=5,this.Mp(i);case 5:t.next=9;break;case 7:return t.next=9,this.Lp(i);case 9:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Mp=function(){var t=Ct.coroutine(Nt.mark(function t(n){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,Hn(n),ES(this.rL,!0),t.next=5,this.qL(this.rL);case 5:t.next=12;break;case 7:return t.prev=7,t.t0=t.catch(0),Hn(n),t.next=12,this.mL.WL(this);case 12:case"end":return t.stop()}},t,this,[[0,7]])}));return function(n){return t.apply(this,arguments)}}(),i.Lp=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.rL,t.prev=1,Hn(n),t.next=5,this.Rh();case 5:ES(i,!1),this.rL=i,t.next=14;break;case 9:return t.prev=9,t.t0=t.catch(1),Hn(n),t.next=14,this.mL.zL(this,i);case 14:case"end":return t.stop()}},t,this,[[1,9]])}));return function(n){return t.apply(this,arguments)}}(),i.setState=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(i=this.DI).ys(eS.OM,this.fs),t.next=4,i.Ih();case 4:this.DI=n,this.DI.ZM(this.mx),this.DI.JM(this.kx),this.DI.ls(eS.OM,this.fs);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.qL=function(){var t=Ct.coroutine(Nt.mark(function t(n){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.rL=n,t.next=3,this.setState(AS(n,this.mL,this.XL,this.VT,this.VL));case 3:this.vs(new ei("Fh"));case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.GL=function(t){if(this.Po!==t.tS){if(!MediaSource.isTypeSupported(t.tS))return!1;if(!this.rL.changeType){if(this.XL!==Jh.Kl)return!1;var n=Od(this.Po),i=Od(t.tS);if(n.Cu!==i.Cu)return!1;if(!function(t,n){var i=t.Pp("codecs"),r=n.Pp("codecs");if(i&&r){var e=i.split(".",1)[0],u=i.split(".",1)[0];return e===u}return!i&&!r}(n,i))return!1}}return!0},i.jL=function(t){this.Go=t,this.Po!==t.tS&&(this.Po=t.tS,this.rL.changeType&&this.rL.changeType(this.Po))},i.Rh=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.VL.Rh(),this.rL=void 0,t.next=4,this.setState(new dS);case 4:this.vs(new ei("QL"));case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.$u=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.gs(),t.next=4,this.Rh();case 4:this.DI.ys(eS.OM,this.fs),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}},t,this,[[0,7]])}));return function(){return t.apply(this,arguments)}}(),T(n,[{key:"Hd",get:function(){return this.DI.Hd}},{key:"Cw",get:function(){return this.Go}},{key:"tS",get:function(){return this.Po}},{key:"$M",get:function(){return this.DI.$M}},{key:"tL",get:function(){return this.DI.tL}},{key:"hx",get:function(){return this.mx},set:function(t){this.mx=t,this.DI.ZM(t)}},{key:"wx",set:function(t){this.kx=t,this.DI.JM(t)}},{key:"yO",get:function(){return this.DI.yO}},{key:"KM",get:function(){return this.DI.KM}}]),n}(ii);function ES(t,n){var i=t&&t.audioTracks,r=t&&t.videoTracks;if(!i||!r)throw new d("Not supported by browser.");for(var e=0;e<i.length;e++)i[e].enabled!==n&&(i[e].enabled=n);for(var u=0;u<r.length;u++)r[u].selected!==n&&(r[u].selected=n)}var SS,RS=new no(.001),IS=100,NS=new no(.5),CS=1e3,DS=1e4,OS=.01,xS=[ka.Lf,ka.Mf,ka.qf,ka.Xf,ka.If,ka.Ff,da.dh,ua.Zh],PS=function(){function t(t,n){var i=this;this.kL=t,this.VT=n,this.tE=ga.df,this.YL=!1,this.ZL=[],this.JL=0,this.KL=0,this.$L=0,this.tU=0,this.nU=CS,this.iU=function(t){var n=new no(i.VT.Lv);t.UM.Xy(n)&&i.rU(n)},this.eU=Y(function(){i.uU(da.dh)},IS),this.sU=Y(function(){i.uU(ka.Uf)},IS),this.oU=function(){i.aU()?i.cU():i.hU()},this.fU=function(){var t=i.JL,n=i.KL,e=i.VT.Lv,u=r.Ec(),s=t!==e;if(s||!i.aU())return i.JL=e,i.KL=u,void(s&&(i.tU=0,i.nU=CS));if(n>0&&u>n+i.nU){var o=e+i.tU*OS;i.kL.Hd.Xy(new no(o))&&(i.JL=o,i.KL=u,i.tU++,i.nU=w.max(2*i.nU,DS),i.VT.qs(o))}},this.VT.ls(da.dh,this.eU),this.VT.ls(ka.Uf,this.sU),this.VT.ls(xS,this.oU)}var n=t.prototype;return n.vU=function(t){this.ZL.push(t),t.ls(sS.MM,this.iU)},n.Ih=function(){var t=this;this.hU(),this.tE=ga.df,this.VT.ys(da.dh,this.eU),this.VT.ys(ka.Uf,this.sU),this.VT.ys(xS,this.oU),this.ZL.forEach(function(n){return n.ys(sS.MM,t.iU)}),this.YL=!0},n.uU=function(t){if(!this.YL){var n=this.VT.$h;if(n<=ga._f){var i=new no(this.VT.Lv),r=this.kL.Hd,e=r.$y(i),u=r.Ny(e);-1!==e&&(t===da.dh&&n<this.tE||t===ka.Uf&&n===this.tE)&&u.ja(i.Wa(NS))&&(i=u),this.rU(i)}t===da.dh&&(this.tE=n)}},n.rU=function(t){if(!this.VT.Fv){var n=this.XM.Ky(this.kL.Hd).Uy(),i=n.$y(t);if(-1!==i)n.Ry(i).Ya(n.Ny(i),RS)||this.VT.qs(n.Ny(i).nc)}},n.cU=function(){0===this.$L&&(this.$L=r.Cc(this.fU,250))},n.hU=function(){0!==this.$L&&(r.Dc(this.$L),this.$L=0),this.KL=0},n.aU=function(){return!this.VT.Xv&&!this.VT.Wv&&0!==this.VT.qv&&!this.VT.Fv&&!this.VT.Is&&this.VT.$h>=ga.wf},T(t,[{key:"XM",get:function(){return this.ZL.reduce(function(t,n){return t.Zy(n.XM)},QT.lm())}}]),t}(),BS=P.Yt||P.Zt,MS=function(){function t(t,n,i,r){void 0===i&&(i=!1),void 0===r&&(r=!1),this.Np=t,this.Cp=n,this.dU=i,this.lU=r,this._U=oy()}return t.prototype.wU=function(){var t=this.Np,n=this.Cp;if(this.dU||this.lU){var i=.001*(oy()-this._U);this.dU&&(t+=i),this.lU&&(n+=i)}return t>=n?QT.lm():new QT([new no(t),new no(n)])},T(t,[{key:"gU",get:function(){return this.dU}},{key:"yU",get:function(){return this.lU}}]),t}();!function(t){t.mU="closed",t.dA="open",t.If="ended"}(SS||(SS={}));var LS=function(){function t(){}return t.prototype.kU=function(){return new MediaSource},t}(),US=function(t){function n(n,i,r,e){var u;return void 0===e&&(e=new LS),(u=t.call(this,n,i,r)||this).pU=void 0,u.AU=void 0,u.bU=new MS(0,1/0),u.TU=void 0,u.EU=!1,u.SU=function(){u.RU()},u.IU=function(){u.VT.IU()},u.NU=e,u.MT=u.NU.kU(),u.VT.ls(ka.qf,u.SU),u.CU=new PS(vt(u),u.VT),u}ct(n,t);var i=n.prototype;return i.DU=function(t){if(m(t)||t<0)throw new d("Invalid duration");var n=t===1/0,i=n?9007199254740991:t;if(n&&this.MT.setLiveSeekableRange){var r=w.pow(2,39);this.MT.setLiveSeekableRange(0,r)}this.OU()?this.MT.duration=i:this.TU=i},i.xU=function(){var t=[];if(this.pU&&this.pU.KM&&t.push(this.pU.Hd),this.AU&&this.AU.KM&&t.push(this.AU.Hd),0===t.length)return QT.lm();for(var n=no.rc,i=0;i<t.length;i++){var r=t[i];r.Ch>0&&(n=no.Ha(n,r.Ny(r.Ch-1)))}for(var e=this.RM,u=new QT([no.rc,n],[!0,e]),s=0;s<t.length;s++){var o=t[s];e&&o.Ch>0&&(o=o.Zy(new QT([o.Ny(o.Ch-1),n],[!0,!0]))),u=u.Wy(o)}return u},i.PU=function(t,n,i,r){this.bU=new MS(t,n,!!i,!!r)},i.VA=function(){var t=Ct.coroutine(Nt.mark(function t(){var n,i,r,e,u,s;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=Rn(this.Go.BU,function(t){return dn(t.tS,"audio")}),i=Rn(this.Go.BU,function(t){return dn(t.tS,"video")}),n&&(r=new vS,this.CU.vU(r),this.pU=new TS(this,this.VT,n,Jh.$l,r),this.pU.ls(eS.OM,this.IU)),i&&(e=new vS,this.CU.vU(e),this.AU=new TS(this,this.VT,i,Jh.Kl,e),this.AU.ls(eS.OM,this.IU)),t.next=6,this.MU();case 6:if(!this.pU){t.next=12;break}return t.next=9,this.LU(this.pU.tS);case 9:return u=t.sent,t.next=12,this.pU.qL(u);case 12:if(!this.AU){t.next=18;break}return t.next=15,this.LU(this.AU.tS);case 15:return s=t.sent,t.next=18,this.AU.qL(s);case 18:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.MU=function(){var n=Ct.coroutine(Nt.mark(function n(){var i;return Nt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=URL.createObjectURL(this.MT),n.next=3,t.prototype.bd.call(this,i);case 3:return n.next=5,t.prototype.do.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i.LU=function(){var t=Ct.coroutine(Nt.mark(function t(n){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.$h===SS.dA){t.next=3;break}return t.next=3,La(this.MT,"sourceopen");case 3:if(!(this.pU&&this.pU.tL||this.AU&&this.AU.tL)){t.next=6;break}throw new d("UU");case 6:return t.abrupt("return",this.MT.addSourceBuffer(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.OU=function(){if(this.$h!==SS.dA)return!1;var t=this.pU&&this.pU.yO,n=this.AU&&this.AU.yO;return!(t||n)},i.GM=function(){this.EU=!0,this.pU&&this.pU.GM(),this.AU&&this.AU.GM(),this.EU=!1,this.RU()},i.GL=function(t){var n=Rn(this.Go.BU,function(t){return dn(t.tS,"audio")}),i=Rn(this.Go.BU,function(t){return dn(t.tS,"video")});if(this.pU){if(!n)return!1;if(!this.pU.GL(n))return!1}else if(n)return!1;if(this.AU){if(!i)return!1;if(!this.AU.GL(i))return!1}else if(i)return!1;return!0},i.jL=function(t){var n=Rn(t.BU,function(t){return dn(t.tS,"audio")}),i=Rn(t.BU,function(t){return dn(t.tS,"video")});this.pU&&this.pU.jL(n),this.AU&&this.AU.jL(i),this.Go=t},i.$u=function(){var n=Ct.coroutine(Nt.mark(function n(){return Nt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.pU){n.next=4;break}return n.next=3,this.pU.$u();case 3:this.pU=void 0;case 4:if(!this.AU){n.next=8;break}return n.next=7,this.AU.$u();case 7:this.AU=void 0;case 8:return this.ia.src&&URL.revokeObjectURL(this.ia.src),this.VT.ys(ka.qf,this.SU),this.CU.Ih(),n.next=13,t.prototype.$u.call(this);case 13:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i.eL=function(){this.EU||this.RU()},i.RU=function(){this.FU&&this.OU()&&(this.MT.endOfStream(),this.TU=void 0,this.vs(new ei(JE.ky)))},i.WL=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i,r;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.LU(n.tS);case 3:return i=t.sent,t.next=6,n.qL(i);case 6:t.next=14;break;case 8:return t.prev=8,t.t0=t.catch(0),(r=this.HU).push(n),t.next=14,this.VU(r);case 14:case"end":return t.stop()}},t,this,[[0,8]])}));return function(n){return t.apply(this,arguments)}}(),i.zL=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!P.$t){t.next=3;break}throw new d("Not supported in Firefox");case 3:this.MT.removeSourceBuffer(i),t.next=11;break;case 6:return t.prev=6,t.t0=t.catch(0),r=this.HU.filter(function(t){return t!==n}),t.next=11,this.VU(r);case 11:case"end":return t.stop()}},t,this,[[0,6]])}));return function(n,i){return t.apply(this,arguments)}}(),i.VU=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i,r,e,u,s,o;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.VT.XU(),i=0,r=this.HU;case 2:if(!(i<r.length)){t.next=10;break}if(!(e=r[i])){t.next=7;break}return t.next=7,e.Rh();case 7:i++,t.next=2;break;case 10:return this.MT=this.NU.kU(),t.next=13,this.MU();case 13:u=0;case 14:if(!(u<n.length)){t.next=24;break}return s=n[u],t.next=18,this.LU(s.tS);case 18:return o=t.sent,t.next=21,s.qL(o);case 21:u++,t.next=14;break;case 24:this.VT.qU();case 25:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.FL=function(){this.OU()&&(this.RM?this.RU():void 0!==this.TU&&(this.MT.duration=this.TU,this.TU=void 0))},n.SM=function(t){if("undefined"==typeof MediaSource)return!1;if("function"!=typeof MediaSource.isTypeSupported)return!1;for(var n=0,i=t.BU;n<i.length;n++){var r=i[n];if(!MediaSource.isTypeSupported(r.tS))return!1}return!0},T(n,[{key:"WU",get:function(){return this.pU}},{key:"zU",get:function(){return this.AU}},{key:"HU",get:function(){var t=[];return this.pU&&this.pU.KM&&t.push(this.pU),this.AU&&this.AU.KM&&t.push(this.AU),t}},{key:"Uv",get:function(){if(this.TU)return this.TU;var t=this.MT.duration;return 9007199254740991===t?1/0:t}},{key:"Hd",get:function(){return BS?this.xU():QT.vm(this.ia.buffered)}},{key:"IM",get:function(){if(this.pU&&this.pU.KM)return this.pU.Hd}},{key:"NM",get:function(){if(this.AU&&this.AU.KM)return this.AU.Hd}},{key:"nl",get:function(){return this.bU.wU().Wy(new QT([no.rc,new no(this.Uv)],[!0,!0]))}},{key:"RM",get:function(){return(!this.pU||!this.pU.KM||this.pU.RM())&&(!this.AU||!this.AU.KM||this.AU.RM())}},{key:"$h",get:function(){return this.MT.readyState}},{key:"FU",get:function(){if(!this.RM)return!1;var t=this.Hd;return 0!==t.Ch&&t.Ry(t.Ch-1).qa(new no(this.VT.Lv))}}]),n}(oS),FS=function(t){function n(n,i,r,e,u,s,o,a){var c;return(c=t.call(this)||this).qB=n,c.GU=i,c.jU=r,c.WB=e,c.zB=u,c.QU=s,c.GB=o,c.YU=a,c}ct(n,t);var i=n.prototype;return i.kd=function(){this.WB||(this.WB=!0,this.vs(new Ba(this.Lv)))},i.md=function(){this.WB&&(this.WB=!1,this.vs(new xa(this.Lv)))},T(n,[{key:"Lv",get:function(){return this.qB},set:function(t){this.Lv!==t&&(this.qB=t,this.zB=!0,this.vs(new Sa(this.Lv)))}},{key:"Uv",get:function(){return this.GU}},{key:"Fv",get:function(){return this.jU}},{key:"Xv",get:function(){return this.WB}},{key:"Wv",get:function(){return this.zB}},{key:"Vv",get:function(){return this.QU},set:function(t){this.Vv!==t&&(this.QU=t,this.vs(new Ta(this.Lv,this.jv)))}},{key:"qv",get:function(){return this.GB},set:function(t){this.qv!==t&&(this.GB=t,this.vs(new Ca(this.Lv,this.qv)))}},{key:"jv",get:function(){return this.YU},set:function(t){this.jv!==t&&(this.YU=t,this.vs(new Ta(this.Lv,this.jv)))}}]),n}(ii),HS=function(t){function n(n){var i;return(i=t.call(this)||this).tE=ga.df,i.ZU=function(){i.JU()},i.VT=n,i}ct(n,t);var i=n.prototype;return i.KU=function(t){this.tE!==t&&(this.tE=t,this.vs(new ma(this.VT.Lv,t)))},i.JU=function(){this.KU(this.Kx())},i.Rh=function(){this.KU(ga.df)},i.$u=function(){this.gs()},T(n,[{key:"$h",get:function(){return this.Kx()}}]),n}(ii),VS=["emptied","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","timeupdate","progress","seeking","seeked"],XS=function(t){function n(n){var i;i=t.call(this,n)||this;for(var r=0;r<VS.length;r++){var e=VS[r];i.VT.QE.addEventListener(e,i.ZU)}return i}ct(n,t);var i=n.prototype;return i.Kx=function(){var t=this.VT.QE.readyState;return t>ga._f&&this.VT.$U?ga._f:(this.VT.QE.seeking&&t>ga.lf&&(t=ga.lf),t)},i.$u=function(){for(var n=0;n<VS.length;n++){var i=VS[n];this.VT.QE.removeEventListener(i,this.ZU)}t.prototype.$u.call(this)},n}(HS),qS=no.ic.nc,WS=new no(40,1e3),zS=function(t){function n(n){var i;(i=t.call(this,n)||this).VT.ls(ka.qf,i.ZU);for(var r=0;r<VS.length;r++){var e=VS[r];i.VT.QE.addEventListener(e,i.ZU)}return i}ct(n,t);var i=n.prototype;return i.Kx=function(){if(this.VT.QE.readyState===ga.df)return ga.df;var t=this.tF(),n=t?t.Ny-t.Ry:0;if(!t)return ga.lf;var i=this.VT.qv;return this.nF()||n>=3*i?ga.gf:n>=3?ga.wf:ga._f},i.tF=function(){var t=new no(this.VT.Lv),n=this.VT.Hd.Yy(WS),i=n.$y(t);if(!(i<0))return{Ry:t.nc,Ny:n.Ny(i).nc}},i.nF=function(){if(this.VT.Fv)return!0;var t=this.VT.Uv,n=this.tF();return!!n&&t-n.Ny<=qS},i.$u=function(){this.VT.ys(ka.qf,this.ZU);for(var n=0;n<VS.length;n++){var i=VS[n];this.VT.QE.removeEventListener(i,this.ZU)}t.prototype.$u.call(this)},n}(HS),GS=[da.dh,ka.Lf,ka.Mf,ka.qf,ka.Xf,ka.If,ua.Zh],jS=function(t){function n(n){var i;return(i=t.call(this,n)||this).iF=!1,i.rF=function(){i.iF=!0,i._o()},i.ia=n.QE,i.ia.addEventListener(da.vf,i.rF),i}ct(n,t);var i=n.prototype;return i.eF=function(){return this.iF&&t.prototype.eF.call(this)},i._o=function(){this.iF&&(this.ia.paused||this.ia.ended||this.ia.error)&&(this.iF=!1),t.prototype._o.call(this)},i.Rh=function(){t.prototype.Rh.call(this),this.iF=!1},i.$u=function(){this.ia.removeEventListener(da.vf,this.rF),t.prototype.$u.call(this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).uF=!1,i.mO=function(){i._o()},i.KT=n,i.KT.ls(GS,i.mO),i}ct(n,t);var i=n.prototype;return i.sF=function(){return this.KT.$h<ga.wf},i.eF=function(){return!this.KT.Wv&&!(this.KT.Xv||this.KT.Fv||this.KT.Is||this.sF())},i._o=function(){var t=this.uF;this.uF=this.eF(),!t&&this.uF&&this.vs(new eg(this.KT.Lv))},i.Rh=function(){this.uF=!1},i.$u=function(){this.gs(),this.KT.ys(GS,this.mO)},n}(ii)),QS=function(t){function n(n){var i;return(i=t.call(this,ua.Zh)||this).Is=n,i}return ct(n,t),n}(ei);function YS(t,n,i,r,e,u,s){void 0===e&&(e=!1),void 0===u&&(u=0),void 0===s&&(s=t.length);for(var o=u,a=s-1;o<=a;){var c=o+(a-o>>1),h=r(i(t[c]),n);if(h<0)o=c+1;else if(h>0)a=c-1;else{if(!(e&&c>u&&0===r(i(t[c-1]),n)))return c;a=c-1}}return~o}function ZS(t,n){return t.qm<=n&&t.Wm>n}function JS(t,n){return function(t,n){return $s(t.qm,n.qm,hv)}(t,n)||function(t,n){return $s(t.Wm,n.Wm,hv)}(t,n)}function KS(t,n){var i=YS(t,n,Q,JS,!0);if(i<0)return i;for(;i<t.length&&JS(n,t[i])===qs.xa;i++)if(t[i].Ja(n))return i;return-(i+1)}function $S(t){var n=t.$c;if(!n)return-1;if(t instanceof vv)return n.oF(t);var i=n.tf;if(!i)return-1;var r=KS(i.Nh,t);return r>=0?r:-1}function tR(t,n){var i=function(t,n,i){for(var r=t.length,e=n.length,u=0,s=0,o=[],a=[];u<r&&s<e;){var c=t[u],h=n[s];c===h?(u++,s++):i(h,c)<=0?(o.push(h),s++):(a.push(c),u++)}for(;u<r;)a.push(t[u]),u++;for(;s<e;)o.push(n[s]),s++;return{aF:o,cF:a}}(t,n,JS);return function(t,n){for(var i=n.length,r=0;r<i;r++)t[r]=n[r];t.length=i}(t,n),i}var nR=function(){function t(t){this.Zc=void 0,this.hF=t}var n=t.prototype;return n.Kc=function(){return function(t){for(var n=[],i=0;i<t.Ch;i++)n[i]=t.Ms(i).Jc;return n.item=function(n){var i=0|n,r=t.Ms(i);return r&&r.Jc||void 0},_.defineProperty(n,"constructor",{value:av}),n}(this)},n.Rm=function(t){for(var n=this.hF,i=n.length-1;i>=0;i-=1){var r=n[i];if(t.Ja(r))return!0}return!1},n.Ms=function(t){return this.hF[t]},T(t,[{key:"Nh",get:function(){return this.hF}},{key:"Ch",get:function(){return this.hF.length}},{key:"Jc",get:function(){if(this.Zc){var t=this.hF;this.Zc.length=t.length;for(var n=0;n<t.length;n++)this.Zc[n]=t[n].Jc}else this.Zc=this.Kc();return this.Zc}}]),t}(),iR=function(t){function n(n,i){var r;return(r=t.call(this,No.dh)||this).$c=n,r.$h=i,r}return ct(n,t),n.prototype.Kc=function(){return new rR(this.$c.Jc,va(this.$h))},n}(Co),rR=function(t){function n(n,i){var r;return(r=t.call(this,"readystatechange")||this).track=n,r.readyState=i,r}return ct(n,t),n}(Do),eR=function(t){function n(n){var i;return(i=t.call(this,No._h)||this).$c=n,i}return ct(n,t),n.prototype.Kc=function(){return new uR(this.$c.Jc)},n}(Co),uR=function(t){function n(n){var i;return(i=t.call(this,"typechange")||this).track=n,i}return ct(n,t),n}(Do),sR=function(t){function n(n){var i;return(i=t.call(this,No.th)||this).Xm=n,i}return ct(n,t),n.prototype.Kc=function(){return new oR(this.Xm.Jc)},n}(Co),oR=function(t){function n(n){var i;return(i=t.call(this,"addcue")||this).cue=n,i}return ct(n,t),n}(Do),aR=function(t){function n(n){var i;return(i=t.call(this,No.ih)||this).Xm=n,i}return ct(n,t),n.prototype.Kc=function(){return new cR(this.Xm.Jc)},n}(Co),cR=function(t){function n(n){var i;return(i=t.call(this,"removecue")||this).cue=n,i}return ct(n,t),n}(Do),hR=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this)||this).Dm=String(fR++),o.Cm=qf(),o.fF=!1,o._v=ea.jh,o.vF=Yf.NONE,o.dF=void 0,o.hF=[],o.lF=[],o._F=0,o.wF=0,o.gF=s||"",o.yF=n,o.mF=r||"",o.fF=Boolean(e),o.wa=u||qh.DEFAULT,o.Om=i||"",o.kF=new nR(o.hF),o.pF=new nR(o.lF),o}ct(n,t);var i=n.prototype;return i.AF=function(t){return Rn(this.kF.Nh,function(n){return n.Hh===t})},i.Kc=function(){return ca(this)},i.bv=function(t){var n=oa(t);n!==this.Kh&&(this._v=n,n===ea.jh&&(this.lF.forEach(function(t){t.ck=!1}),xn(this.lF),this.wF=0))},i.NA=function(t){if(t&&!t.$c){var n=KS(this.tf.Nh,t);if(!(n>=0)){t.$c=this;var i=-(n+1);this.hF.splice(i,0,t),this.bF(i),t.rk=i,i<this.wF&&(this.wF=i),this.vs(new sR(t))}}},i.TF=function(t){if(t&&t.$c===this){var n=this.oF(t);if(!(n<0)){t.ck=!1;var i=this.lF,r=KS(i,t);r>=0&&Cn(i,r),Cn(this.hF,n),this.bF(n),t.rk=-1,this.wF>n&&--this.wF,this.vs(new aR(t))}}},i.EF=function(t,n){var i=this.lF,r=this.hF,e=this.wF,u=!1;n&&(e=0);for(var s=i.length-1;s>=0;s--){ZS(i[s],t)||(u=!0,Cn(i,s))}for(;e<r.length&&r[e].qm<=t;){var o=r[e];ZS(o,t)&&!Dn(i,o)&&(u=!0,i.push(o)),e++}u&&Tn(i,JS),this.wF=e},i.oF=function(t){return(-1===t.rk||t.rk>=this._F)&&this.SF(),t.rk},i.SF=function(){for(var t=this.hF,n=this._F;n<t.length;n++)t[n].rk=n;this._F=t.length},i.bF=function(t){t<this._F&&(this._F=t)},i.Ih=function(){this.gs();for(var t=this.hF.slice(),n=0;n<t.length;n++){t[n].Ih()}xn(this.hF),xn(this.lF)},T(n,[{key:"nf",get:function(){return this.pF}},{key:"tf",get:function(){return this.kF}},{key:"DA",get:function(){return this.fF},set:function(t){this.fF=t}},{key:"Jc",get:function(){return this.Zc||(this.Zc=this.Kc()),this.Zc}},{key:"Hh",get:function(){return this.Dm}},{key:"Vh",get:function(){return this.Cm}},{key:"Jh",get:function(){return this.gF},set:function(t){this.gF=t}},{key:"Xh",get:function(){return this.yF}},{key:"qh",get:function(){return this.Om},set:function(t){t!==this.Om&&(this.Om=t,this.vs(new Hf(this)))}},{key:"Wh",get:function(){return this.mF}},{key:"Kh",get:function(){return this._v},set:function(t){this.bv(t),this.vs(new Lo(this))}},{key:"$h",get:function(){return this.vF},set:function(t){this.vF!==t&&(this.vF=t,this.vs(new iR(this,this.vF)))}},{key:"if",get:function(){return this.dF},set:function(t){this.dF=t}},{key:"Cu",get:function(){return this.wa},set:function(t){this.wa!==t&&(this.wa=t,this.vs(new eR(this)))}}]),n}(ii),fR=0;var vR=function(t){function n(n){var i;(i=t.call(this)||this).RF=[],i.IF=function(t){i.Th(t.$c)},i.NF=function(t){var n=t.$c;i.CF(n)||i.Eh(n)};for(var r=0;r<n.length;r++){var e=n[r];i.DF(e)}return i}ct(n,t);var i=n.prototype;return i.DF=function(t){this.RF.push(t);for(var n=0,i=t.Nh;n<i.length;n++){var r=i[n];this.Th(r)}this.OF(t)},i.xF=function(t){Nn(this.RF,t),this.PF(t);for(var n=0,i=t.Nh;n<i.length;n++){var r=i[n];this.CF(r)||this.Eh(r)}},i.CF=function(t){for(var n=0,i=this.RF;n<i.length;n++){if(i[n].Sh(t))return!0}return!1},i.OF=function(t){t.ls(bo.Gc,this.IF),t.ls(bo.Qc,this.NF)},i.PF=function(t){t.ys(bo.Gc,this.IF),t.ys(bo.Qc,this.NF)},i.Ih=function(){for(;this.RF.length>0;)this.xF(this.RF[0]);t.prototype.Ih.call(this)},i.Kc=function(){return fa(this)},n}(Mo),dR=function(t){function n(n,i){var r;return(r=t.call(this,$f.Hm,n)||this).Ma=i,r}return ct(n,t),n.prototype.Kc=function(){return new lR(this.Xm.Jc)},n}(uv),lR=function(t){function n(n){return t.call(this,tv.Hm,n)||this}return ct(n,t),n}(sv),_R=function(t){function n(n,i){var r;return(r=t.call(this,$f.Vm,n)||this).Ma=i,r}return ct(n,t),n.prototype.Kc=function(){return new wR(this.Xm.Jc)},n}(uv),wR=function(t){function n(n){return t.call(this,tv.Vm,n)||this}return ct(n,t),n}(sv),gR=function(t){function n(n){var i;return(i=t.call(this,No.eh)||this).Xm=n,i}return ct(n,t),n.prototype.Kc=function(){return new yR(this.Xm.Jc)},n}(Co),yR=function(t){function n(n){var i;return(i=t.call(this,"entercue")||this).cue=n,i}return ct(n,t),n}(Do),mR=function(t){function n(n){var i;return(i=t.call(this,No.sh)||this).Xm=n,i}return ct(n,t),n.prototype.Kc=function(){return new kR(this.Xm.Jc)},n}(Co),kR=function(t){function n(n){var i;return(i=t.call(this,"exitcue")||this).cue=n,i}return ct(n,t),n}(Do),pR=function(t){function n(n){var i;return(i=t.call(this)||this).tk=void 0,i.Zc=void 0,i.nk=!1,i.ik="",i.BF=function(){i.ck=!0},i.MF=function(){i.ck=!1},i.LF=n,i.LF.addEventListener("enter",i.BF),i.LF.addEventListener("exit",i.MF),i}ct(n,t);var i=n.prototype;return i.Kc=function(){return ov(this)},i.Ja=function(t){return this===t||zo(this,t)&&fv(this,t)},i.Ih=function(){this.gs(),this.LF.removeEventListener("enter",this.BF),this.LF.removeEventListener("exit",this.MF)},T(n,[{key:"qm",get:function(){return this.LF.startTime},set:function(t){this.LF.startTime=t}},{key:"Wm",get:function(){return this.LF.endTime},set:function(t){this.LF.endTime=t}},{key:"zm",get:function(){return this.LF.text},set:function(t){this.LF.text=t+""}},{key:"fk",get:function(){return!!this.LF.pauseOnExit},set:function(t){this.LF.pauseOnExit=!!t}},{key:"$c",get:function(){return this.tk},set:function(t){this.tk=t}},{key:"Hh",get:function(){return this.LF.id||""},set:function(t){this.LF.id=t||""}},{key:"Jc",get:function(){return this.Zc||(this.Zc=this.Kc()),this.Zc}},{key:"hk",get:function(){return this.ik},set:function(t){this.ik=t}},{key:"ck",get:function(){return this.nk},set:function(t){this.ck!==t&&(this.nk=t,t?(this.vs(new dR(this,this.qm)),this.tk&&this.tk.vs(new gR(this))):(this.vs(new _R(this,this.Wm)),this.tk&&this.tk.vs(new mR(this))))}}]),n}(_a),AR=function(t){function n(n){var i;return(i=t.call(this,No.ah)||this).$c=n,i}return ct(n,t),n.prototype.Kc=function(){return new bR(this.$c.Jc)},n}(Co),bR=function(t){function n(n){var i;return(i=t.call(this,"cuechange")||this).track=n,i}return ct(n,t),n}(Do);function TR(t){if(t){var n=t.THEOplayerVTTRegion;return n||(n=new ER(t),t.THEOplayerVTTRegion=n),n}}var ER=function(){function t(t){this.Zc=void 0,this.UF=t}return T(t,[{key:"FF",get:function(){return this.UF}},{key:"Hh",get:function(){return this.UF.id||""}},{key:"wc",get:function(){return+this.UF.width||0},set:function(t){this.UF.width=t||0}},{key:"vk",get:function(){return+this.UF.lines||0},set:function(t){this.UF.lines=t||0}},{key:"dk",get:function(){return+this.UF.regionAnchorX||0},set:function(t){this.UF.regionAnchorX=t||0}},{key:"lk",get:function(){return+this.UF.regionAnchorY||0},set:function(t){this.UF.regionAnchorY=t||0}},{key:"wk",get:function(){return+this.UF.viewportAnchorX||0},set:function(t){this.UF.viewportAnchorX=t||0}},{key:"gk",get:function(){return+this.UF.viewportAnchorY||0},set:function(t){this.UF.viewportAnchorY=t||0}},{key:"_k",get:function(){return this.UF.scroll||""}},{key:"Jc",get:function(){return this.Zc||(this.Zc=mv(this)),this.Zc}}]),t}(),SR=function(t){function n(n){return t.call(this,n)||this}return ct(n,t),T(n,[{key:"$m",get:function(){return this.LF.vertical||""},set:function(t){this.LF.vertical=t||""}},{key:"Km",get:function(){return!!this.LF.snapToLines},set:function(t){this.LF.snapToLines=!!t}},{key:"jm",get:function(){return this.LF.line},set:function(t){this.LF.line=t}},{key:"Hs",get:function(){return+this.LF.size},set:function(t){this.LF.size=zs(t,0,100)}}]),n}(pR),RR=function(t){function n(n){return t.call(this,n)||this}return ct(n,t),n.prototype.Ja=function(n){return this===n||zo(this,n)&&t.prototype.Ja.call(this,n)&&dv(this,n)},T(n,[{key:"Jm",get:function(){return TR(this.LF.region)}},{key:"Qm",get:function(){return this.LF.lineAlign||"start"},set:function(t){this.LF.lineAlign=t||"start"}},{key:"Ym",get:function(){return this.LF.position},set:function(t){this.LF.position=t}},{key:"Zm",get:function(){return this.LF.positionAlign||"auto"},set:function(t){this.LF.positionAlign=t||"auto"}},{key:"Gm",get:function(){return this.LF.align||"center"},set:function(t){this.LF.align=t||"center"}},{key:"Jc",get:function(){return this.Zc||(this.Zc=cv(this)),this.Zc}}]),n}(SR),IR=function(t){function n(n){return t.call(this,n)||this}return ct(n,t),n.prototype.Ja=function(n){return this===n||zo(this,n)&&t.prototype.Ja.call(this,n)&&dv(this,n)},T(n,[{key:"Jm",get:function(){return TR(this.FF)}},{key:"FF",get:function(){return function(t,n){if(void 0!==n){var i=t&&t.regions;return i&&i.getRegionById(n)||void 0}}(this.LF.track,this.LF.regionId)}},{key:"Qm",get:function(){return"middle"===(t=this.LF.lineAlign||"start")?"center":t;var t},set:function(t){var n;this.LF.lineAlign="center"===(n=t||"start")?"middle":n}},{key:"Ym",get:function(){return this.LF.position},set:function(t){var n,i;this.LF.position=(n=t,i=this.Gm,ev(n,i))}},{key:"Zm",get:function(){return t=this.LF.positionAlign||"middle",iv[t];var t},set:function(t){var n,i;this.LF.positionAlign=(n=t||"center",i=this.Gm,nv[rv(n,i)])}},{key:"Gm",get:function(){return"middle"===(t=this.LF.align||"middle")?"center":t;var t},set:function(t){var n;this.LF.align="center"===(n=t||"center")?"middle":n}},{key:"Jc",get:function(){return this.Zc||(this.Zc=cv(this)),this.Zc}}]),n}(SR);function NR(t,n){return t.zm===n.zm}function CR(t,n,i){for(var r=t[n].qm,e=n;e>=0&&t[e].qm===r;e--)t[e].Wm=i}function DR(t){return ov(t)}var OR,xR,PR=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).HF=i,r}return ct(n,t),n.prototype.Ja=function(n){return this===n||zo(this,n)&&t.prototype.Ja.call(this,n)&&NR(this,n)},T(n,[{key:"zm",get:function(){return this.HF}},{key:"Jc",get:function(){return this.Zc||(this.Zc=DR(this)),this.Zc}}]),n}(pR);function BR(t){switch(t){case OR.ISO_8859_1:case OR.UTF16_BOM:case OR.UTF16:case OR.UTF8:return!0}return!1}function MR(t){switch(t){case OR.ISO_8859_1:return mr;case OR.UTF16_BOM:return Ar;case OR.UTF16:return br;case OR.UTF8:return Cr}}function LR(t,n){var i=n.zs,r=t.byteLength,e=Mr(t);return n.Xs(r-i),Fr(e,i,r).buffer}function UR(t,n){return{id:t||"",data:n instanceof ArrayBuffer?n:void 0}}function FR(t,n,i){var r=ur(t,n);if(BR(r)){var e=MR(r);return{id:i,language:gr(t,n,3),description:e(t,n),text:e(t,n)}}}function HR(t,n,i){var r=ur(t,n);if(BR(r)){var e=MR(r);return{id:i,mimeType:mr(t,n),fileName:e(t,n),description:e(t,n),data:LR(t,n)}}}function VR(t,n,i){var r=ur(t,n);if(BR(r)){for(var e=MR(r),u=[];n.zs<t.byteLength;)u.push({involvement:e(t,n),involvee:e(t,n)});return{id:i,entries:u}}}function XR(t,n,i){var r=ur(t,n);if(BR(r)){for(var e=MR(r),u=gr(t,n,3),s=ur(t,n),o=ur(t,n),a=e(t,n),c=!1,h=[];n.zs<t.byteLength;){var f=void 0;if(r===OR.UTF16_BOM){var v=pr(t,n);void 0===v?v=c:c=v,f=br(t,n,v)}else f=e(t,n);if(!f||n.zs+4>t.byteLength)break;h.push({text:f,timestamp:dr(t,n)})}return{id:i,language:u,format:s,contentType:o,description:a,entries:h}}}function qR(t,n,i){return{id:i,ownerIdentifier:mr(t,n),identifier:LR(t,n)}}function WR(t,n,i){var r=ur(t,n);if(BR(r)){var e=MR(r);return{id:i,language:gr(t,n,3),description:e(t,n),text:e(t,n)}}}function zR(t,n,i){var r=ur(t,n);if(BR(r))return{id:i,text:MR(r)(t,n)}}function GR(t,n,i){return{id:i,url:mr(t,n)}}function jR(t,n,i){var r=ur(t,n);if(BR(r)){var e=MR(r);return{id:i,description:e(t,n),text:e(t,n)}}}function QR(t,n,i){var r=ur(t,n);if(BR(r))return{id:i,description:MR(r)(t,n),url:mr(t,n)}}function YR(t,n,i){switch(i){case"COM":return FR(t,n,i);case"GEO":return HR(t,n,i);case"IPL":return VR(t,n,i);case"PIC":return function(t,n,i){var r=ur(t,n);if(BR(r)){var e,u,s=MR(r),o=gr(t,n,3),a=ur(t,n),c=s(t,n);return"--\x3e"===o?(e=o,u=mr(t,n)):(e="image/"+o.toLowerCase(),u=LR(t,n)),{id:i,mimeType:e,pictureType:a,description:c,data:u}}}(t,n,i);case"SLT":return XR(t,n,i);case"TXX":return jR(t,n,i);case"UFI":return qR(t,n,i);case"ULT":return WR(t,n,i);case"WXX":return QR(t,n,i);default:if("T"===i.charAt(0))return zR(t,n,i);if("W"===i.charAt(0))return GR(t,n,i)}}function ZR(t,n,i){switch(i){case"APIC":return function(t,n,i){var r=ur(t,n);if(BR(r)){var e=MR(r),u=mr(t,n);return{id:i,mimeType:u,pictureType:ur(t,n),description:e(t,n),data:"--\x3e"===u?mr(t,n):LR(t,n)}}}(t,n,i);case"COMM":return FR(t,n,i);case"COMR":return function(t,n,i){var r=ur(t,n);if(BR(r)){var e,u,s=MR(r),o=mr(t,n),a=gr(t,n,8),c=mr(t,n),h=ur(t,n),f=s(t,n),v=s(t,n);return n.zs<t.byteLength&&(e=mr(t,n)||"image/",u=LR(t,n)),{id:i,price:o,validUntil:a,contactURL:c,receivedAs:h,nameOfSeller:f,description:v,pictureMimeType:e,sellerLogo:u}}}(t,n,i);case"GEOB":return HR(t,n,i);case"IPLS":return VR(t,n,i);case"PRIV":return function(t,n,i){return{id:i,ownerIdentifier:mr(t,n),data:LR(t,n)}}(t,n,i);case"POSS":return function(t,n,i){return{id:i,format:ur(t,n),position:dr(t,n)}}(t,n,i);case"SYLT":return XR(t,n,i);case"TXXX":return jR(t,n,i);case"UFID":return qR(t,n,i);case"USER":return function(t,n,i){var r=ur(t,n);if(BR(r)){var e=MR(r);return{id:i,language:gr(t,n,3),text:e(t,n)}}}(t,n,i);case"USLT":return WR(t,n,i);case"WXXX":return QR(t,n,i);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return zR(t,n,i);default:var r=i.charAt(0);if("T"===r)return zR(t,n,i);if("W"===r)return GR(t,n,i)}}!function(t){t[t.ISO_8859_1=0]="ISO_8859_1",t[t.UTF16_BOM=1]="UTF16_BOM",t[t.UTF16=2]="UTF16",t[t.UTF8=3]="UTF8"}(OR||(OR={})),function(t){t[t.V22=2]="V22",t[t.V23=3]="V23",t[t.V24=4]="V24"}(xR||(xR={}));var JR=10;function KR(t,n){return(127&ur(t,n))<<21|(127&ur(t,n))<<14|(127&ur(t,n))<<7|127&ur(t,n)}function $R(t,n){switch(t){case xR.V24:return{VF:er(n,0),XF:er(n,1),qF:er(n,2),WF:er(n,3)};case xR.V23:return{VF:er(n,0),XF:er(n,1),qF:er(n,2)};case xR.V22:return{VF:er(n,0),zF:er(n,1)}}}function tI(t,n,i){switch(i.p_){case xR.V23:i.A_.XF&&function(t,n){var i=n.zs,r=dr(t,n)+4,e=32768&fr(t,n);n.qs(i+r),e&&dr(t,n)}(t,n);break;case xR.V24:i.A_.XF&&function(t,n){var i=n.zs,r=KR(t,n);n.qs(i+r)}(t,n)}}function nI(t,n){if(t.byteLength-n.zs<JR)return null;if(73!==ur(t,n)||68!==ur(t,n)||51!==ur(t,n))return null;var i=ur(t,n),r=ur(t,n);if(!function(t){switch(t){case xR.V22:case xR.V23:case xR.V24:return!0}return!1}(i))return null;var e=ur(t,n),u=KR(t,n);return{p_:i,GF:r,A_:$R(i,e),jF:u}}function iI(t,n,i){switch(i.p_){case xR.V22:return function(t,n,i){return{Hh:gr(t,n,3),Hs:hr(t,n,3)}}(t,n);case xR.V23:return function(t,n,i){var r=gr(t,n,4),e=dr(t,n);ur(t,n);var u=ur(t,n);return{Hh:r,Hs:e,A_:{zF:er(u,0),QF:er(u,1),groupingIdentity:er(u,2)}}}(t,n);case xR.V24:return function(t,n,i){var r=gr(t,n,4),e=KR(t,n);ur(t,n);var u=ur(t,n);return{Hh:r,Hs:e,A_:{groupingIdentity:er(u,1),zF:er(u,4),QF:er(u,5),VF:er(u,6),YF:er(u,7)}}}(t,n)}}function rI(t){for(var n=new k(t.byteLength),i=0,r=0;r<t.byteLength;r++){var e=t.getUint8(r);255===e&&r++,n[i]=e,i++}return new DataView(n,0,i)}function eI(t,n){var i=n||new Vr,r=nI(t,i);return r?{x_:r,ZF:function(t,n,i){var r=[],e=n.zs,u=Pr(t,e,e+i.jF),s=new Vr;switch(n.Xs(i.jF),i.p_){case xR.V22:case xR.V23:i.A_.VF&&(u=rI(u))}tI(t,n,i);for(;s.zs<u.byteLength;)r.push(uI(u,s,i));return r}(t,i,r)}:null}function uI(t,n,i){var r,e,u=iI(t,n,i),s=n.zs,o=Pr(t,s,s+u.Hs);switch(n.Xs(u.Hs),i.p_){case xR.V22:var a=u;r=YR(e=o,new Vr,a.Hh);break;case xR.V23:var c=u,h=new Vr;!function(t,n,i){var r,e,u,s=i.A_;s.zF&&(r=dr(t,n)),s.QF&&(e=ur(t,n)),s.groupingIdentity&&(u=ur(t,n))}(o,h,c),r=ZR(e=Pr(o,h.zs,o.byteLength),new Vr,c.Hh);break;case xR.V24:var f=u,v=new Vr;f.A_.VF&&(o=rI(o)),function(t,n,i){var r,e,u,s,o=i.A_;o.groupingIdentity&&(r=ur(t,n)),o.zF&&(e=dr(t,n)),o.QF&&(u=ur(t,n)),o.YF&&(s=KR(t,n))}(o,v,f),r=ZR(e=Pr(o,v.zs,o.byteLength),new Vr,f.Hh)}if(!r){var d=Hr(Mr(e));r=UR(u.Hh,d.buffer)}return r}function sI(t){return function(t,n,i){return zR(t,n,i)}(new DataView(t.data),new Vr,t.key)}function oI(t){switch(t.key){case"APIC":case"PIC":return function(t){return{id:t.key,mimeType:t.type,pictureType:16,description:t.info,data:t.data}}(t);case"GEOB":case"GEO":return function(t){return{id:t.key,mimeType:t.type,fileName:t.name,description:t.info,data:t.data}}(t);case"PRIV":return function(t){return{id:t.key,ownerIdentifier:t.info,data:t.data}}(t);case"TXXX":case"TXX":return function(t){return{id:t.key,description:t.info,text:t.data}}(t);case"WXXX":case"WXX":return function(t){return{id:t.key,description:t.info,url:t.data}}(t);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return sI(t);default:var n=t.key.charAt(0);if("T"===n)return function(t){return{id:t.key,text:t.data}}(t);if("W"===n)return function(t){return{id:t.key,url:t.data}}(t)}return function(t){return UR(t.key,t.data)}(t)}var aI="org.id3";var cI=function(t){function n(n,i,r){var e;return void 0===r&&(r=!0),(e=t.call(this)||this).hF=[],e.lF=[],e._v=ea.jh,e.vF=Yf.NONE,e.dF=void 0,e.wa=qh.DEFAULT,e.JF=function(){e.KF(),e.Nm.removeEventListener("cuechange",e.JF)},e.tH=function(){e.Kh!==ea.jh&&(e.nH(),e.EF(),e.hF.length&&e.iH(Yf.LOADING))},e.rH=function(){e.iH(Yf.LOADED)},e.eH=function(){e.iH(Yf.ERROR)},e.Nm=n,e.uH=r,e.Nm.addEventListener("cuechange",e.JF),e.Nm.addEventListener("cuechange",e.tH),e.sH=i,e.sH&&(e.dF=Us(e.sH.src),e.sH.addEventListener("load",e.rH),e.sH.addEventListener("error",e.eH)),e.Cm=qf(),e.Om=n.label||"",e.kF=new nR(e.hF),e.pF=new nR(e.lF),e.Kh=e.oH,jn(function(){e.tH(),e.iH(Yf.NONE)}),e}ct(n,t);var i=n.prototype;return i.Kc=function(){return ca(this)},i.KF=function(){var t=this.Kh;this.aH||t!==ea.Yh?this.oH=t:this.oH=ea.Qh},i.cH=function(){var t=this.Kh,n=this.oH;t!==n&&(this.aH||t!==ea.Yh||n!==ea.Qh)&&("metadata"===this.Xh&&n===ea.jh?this.Kh=t:this.Kh=n)},i.JU=function(t){this.vF!==t&&(this.vF=t,this.vs(new iR(this,t)))},i.iH=function(t){var n=w.max(this.vF,this.hH,t);this.JU(n)},i.fH=function(t){return t&&t.THEOplayerTextTrackCue||void 0},i.vH=function(t){var n=this.fH(t);if(n)return n;if(F(n=this.dH(t)))for(var i=0,r=n;i<r.length;i++){r[i].$c=this}else n.$c=this;return t.THEOplayerTextTrackCue=n,n},i.dH=function(t){return(n=t)&&n.type===aI&&n.value?(this.Cu=qh.ID3,function(t){var n;try{n=oI(t.value)}catch(t){n=UR("")}return new PR(t,n)}(t)):function(t){return!!(t&&t.data instanceof ArrayBuffer)}(t)?(this.Cu=qh.ID3,function(t){var n=[];try{var i=eI(new DataView(t.data));if(i)for(var r=0,e=i.ZF;r<e.length;r++){var u=e[r];n.push(new PR(t,u))}}catch(t){}return n}(t)):function(t){return"text"in t}(t)?(this.Cu=qh.WEBVTT,function(t){return function(t){return"regionId"in t}(t)}(t)?new IR(t):new RR(t)):new pR(t);var n},i.lH=function(t){var n=[];if(!t)return n;for(var i=t.length,r=0;r<i;r++){var e=this.vH(t[r]||t.item(r));if(F(e))for(var u=0;u<e.length;u++){var s=e[u];n.push(s)}else n.push(e)}return n},i.nH=function(){for(var t=this.lH(this.Nm.cues),n=tR(this.hF,t),i=0,r=n.cF;i<r.length;i++){var e=r[i];this.vs(new aR(e))}for(var u=0,s=n.aF;u<s.length;u++){var o=s[u];this.vs(new sR(o))}},i.EF=function(){for(var t=this.lH(this.Nm.activeCues),n=tR(this.lF,t),i=0,r=n.cF;i<r.length;i++){r[i].ck=!1}for(var e=0,u=n.aF;e<u.length;e++){u[e].ck=!0}(n.aF.length||n.cF.length)&&this.vs(new AR(this))},i.Ih=function(){this.gs();for(var t=this.hF.slice(),n=0;n<t.length;n++){t[n].Ih()}xn(this.hF),xn(this.lF),this.Nm.removeEventListener("cuechange",this.tH),this.sH&&(this.Nm.removeEventListener("load",this.rH),this.Nm.removeEventListener("error",this.eH)),this.sH&&Te(this.sH)},T(n,[{key:"nf",get:function(){return this.pF}},{key:"DA",get:function(){return this.sH?this.sH.default:void 0}},{key:"tf",get:function(){return this.kF}},{key:"Jc",get:function(){return this.Zc||(this.Zc=this.Kc()),this.Zc}},{key:"Hh",get:function(){return this.Nm.id||this.sH&&this.sH.id||""}},{key:"Vh",get:function(){return this.Cm}},{key:"Jh",get:function(){return this.Nm.inBandMetadataTrackDispatchType||""}},{key:"Xh",get:function(){return this.Nm.kind||cf.km}},{key:"qh",get:function(){return this.Om},set:function(t){t!==this.qh&&(this.Om=t,this.vs(new Hf(this)))}},{key:"Wh",get:function(){return this.Nm.language||""}},{key:"Kh",get:function(){return this._v},set:function(t){var n=this.Kh;this._v=oa(t),this.KF();var i=this.Kh;n!==i&&this.vs(new Lo(this)),i!==ea.jh&&this.iH(Yf.LOADING)}},{key:"oH",get:function(){return oa(this.Nm.mode)},set:function(t){this.Nm.mode=t}},{key:"Mm",get:function(){return this.Nm}},{key:"$h",get:function(){return this.vF}},{key:"hH",get:function(){return this.sH?+this.sH.readyState||Yf.NONE:Yf.LOADED}},{key:"if",get:function(){return this.dF}},{key:"Cu",get:function(){return this.wa},set:function(t){this.wa!==t&&(this.wa=t,this.vs(new eR(this)))}},{key:"aH",get:function(){return this.uH},set:function(t){this.uH=t,this.KF()}}]),n}(ii);function hI(t){return t instanceof cI}var fI=.1;function vI(t,n){return Ks(t.Ma,n.Ma)||function(t,n){return t.$c===n.$c?Js($S(t),$S(n)):ml(t.$c,n.$c)}(t.Xm,n.Xm)||function(t,n){return t===n?qs.xa:t===$f.Hm?qs.Ba:qs.Pa}(t.type,n.type)}var dI=function(){function t(t,n){var i=this;this.dd=[],this._H=0,this.wH=0,this.gH=[],this.yH=!1,this.mH=!1,this.kH=void 0,this.pH=!1,this.AH=function(){i._H=0,i.bH(),i.TH()},this.EH=function(){i.bH(),i.TH()},this.SH=function(){i.mH=!0,i.RH();var t=void 0!==i.kH?i.kH:i.wH,n=i.WS.Lv;w.abs(t-n)>fI&&(i.kH=n,i.pH=!1)},this.IH=function(){i.mH=!0;var t=i.WS.Lv;w.abs(i.wH-t)<=fI&&(i.pH=!0),i.bH(),i.TH()},this.NH=function(){i.CH(),i.bH(),i.TH()},this.DH=function(){i.OH()},this.xH=function(t){Nn(i.gH,t.Xm),i.OH()},this.PH=n,this.WS=t,t.ls(ka.Zf,this.EH),t.ls(ka.Lf,this.EH),t.ls(da.vf,this.EH),t.ls(ka.Mf,this.EH),t.ls(ka.qf,this.SH),t.ls(ka.Xf,this.IH),this.OH()}var n=t.prototype;return n.Rh=function(){xn(this.gH);for(var t=0,n=this.dd.slice();t<n.length;t++){var i=n[t];this.Eh(i)}this.RH(),this._H=0,this.wH=0,this.yH=!1,this.mH=!1,this.kH=void 0},n.Th=function(t){Dn(this.dd,t)||(this.dd.push(t),t.ls(No.th,this.DH),t.ls(No.ih,this.xH),t.ls(No.fh,this.NH),t.tf.Ch&&this.OH(),this.CH())},n.Eh=function(t){if(Nn(this.dd,t)){if(t.ys(No.th,this.DH),t.ys(No.ih,this.xH),t.ys(No.fh,this.NH),t.tf.Ch){for(var n=0,i=t.tf.Nh;n<i.length;n++){var r=i[n];Nn(this.gH,r)}this.OH()}this.CH()}},n.CH=function(){this.yH=this.dd.some(function(t){return t.Kh!==ea.jh})},n.TH=function(){this.WS.Wv||this.WS.Xv?this.RH():this.OH()},n.OH=function(){this.yH&&(this._H||(this._H=this.PH.xB(this.AH)))},n.RH=function(){this._H&&(this.PH.BH(this._H),this._H=0)},n.bH=function(){if(this.yH&&!this.WS.Wv){var t=this.dd,n=this.mH&&!this.pH?this.kH:this.WS.Lv,i=n-this.wH<-fI,r=this.mH||i,e=this.pH;this.mH&&(this.kH=void 0,this.mH=!1,this.pH=!1);for(var u,s=this.wH,o=[],a=0;a<t.length;a++){var c=t[a];if(c.Kh!==ea.jh){c.EF(n,r);for(var h=0,f=c.nf.Nh;h<f.length;h++){var v=f[h];o.push(v)}}}if(r&&!e)u=this.gH;else{u=[];for(var d=no.ic.nc,l=0;l<t.length;l++){var _=t[l];_.Kh!==ea.jh&&yl(_,s-d,n,u)}}for(var g=u.length-1;g>=0;g--)Dn(o,u[g])&&Cn(u,g);var y=[];if(!r||e)for(var m=u.length-1;m>=0;m--){var k=u[m];k.qm>=s&&k.Wm<=n&&(y.push(k),Cn(u,m))}for(var p=[],A=[],b=0;b<y.length;b++){var T=y[b];T.ck||p.push(new dR(T,T.qm)),p.push(new _R(T,w.max(T.qm,T.Wm)))}for(var E=0,S=u;E<S.length;E++){var R=S[E];R.ck&&(p.push(new _R(R,w.max(R.qm,R.Wm))),R.ck=!1)}for(var I=0;I<o.length;I++){var N=o[I];N.ck||(p.push(new dR(N,N.qm)),N.ck=!0)}p.sort(vI);for(var C=0;C<p.length;C++){var D=p[C],O=D.Xm;O.vs(D);var x=O.$c;x&&(D.type===$f.Hm?x.vs(new gR(O)):x.vs(new mR(O)),Dn(A,x)||A.push(x))}A.sort(ml);for(var P=0;P<A.length;P++){var B=A[P];B.vs(new AR(B))}this.wH=n,this.gH=o}},n.Ih=function(){this.Rh(),this.WS.ys(ka.Zf,this.EH),this.WS.ys(ka.Lf,this.EH),this.WS.ys(da.vf,this.EH),this.WS.ys(ka.Mf,this.EH),this.WS.ys(ka.qf,this.SH),this.WS.ys(ka.Xf,this.IH)},t}(),lI=new(function(){function t(){}var n=t.prototype;return n.xB=function(t){return uT(t)},n.BH=function(t){sT(t)},t}()),_I=function(t){function n(n,i){return void 0===i&&(i=lI),t.call(this,n,i)||this}return ct(n,t),n}(dI),wI=function(t){function n(n,i){return t.call(this,n,1/0,i,!1)||this}return ct(n,t),n.prototype.Ja=function(n){return this===n||zo(this,n)&&t.prototype.Ja.call(this,n)&&NR(this,n)},T(n,[{key:"Jc",get:function(){return this.Zc||(this.Zc=DR(this)),this.Zc}}]),n}(vv),gI=function(t){function n(n,i,r){return void 0===r&&(r=qh.DEFAULT),t.call(this,cf.n_,i||"","",!1,r,n)||this}return ct(n,t),n}(hR),yI=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Cu=qh.ID3,r}ct(n,t);var i=n.prototype;return i.NA=function(n){!function(t,n){if(0!==n.length){var i=n.length-1;if(n[i].qm<t.qm)CR(n,i,t.qm);else{var r=n[0];if(r.qm>t.qm)t.Wm=r.qm;else{var e=KS(n,t);if(!(e>=0)){var u=-(e+1),s=u-1;if(s>=0&&n[s].qm<t.qm&&CR(n,s,t.qm),u<n.length){var o=n[u];t.Wm=o.qm}}}}}}(n,this.hF),t.prototype.NA.call(this,n)},i.Kc=function(){return ca(this)},n}(gI);function mI(t){var n=t&&t.THEOplayerTextTrackCue||void 0;if(n)return n;var i=t.startTime,r=oI(t.value);return t.THEOplayerTextTrackCue=new wI(i,r),t.THEOplayerTextTrackCue}var kI=function(t){function n(n){var i;return(i=t.call(this,n.inBandMetadataTrackDispatchType,n.label)||this).tH=function(){i.Kh!==ea.jh&&(i.nH(),i.iH(Yf.LOADED))},i.Nm=n,i.Nm.addEventListener("cuechange",i.tH),i.Kh=i.oH,jn(function(){i.tH()}),i}ct(n,t);var i=n.prototype;return i.bv=function(n){t.prototype.bv.call(this,n),this.oH=this.Kh},i.iH=function(t){this.$h=w.max(this.$h,t)},i.nH=function(){for(var t=function(t){for(var n=t.length,i=[],r=0;r<n;r++)i.push(mI(t[r]||t.item(r)));return Tn(i,JS),i}(this.Nm.cues),n=tR(this.tf.Nh.slice(),t),i=0,r=n.cF;i<r.length;i++){var e=r[i];this.TF(e)}for(var u=0,s=n.aF;u<s.length;u++){var o=s[u];this.NA(o)}},i.Ih=function(){this.Nm.removeEventListener("cuechange",this.tH),t.prototype.Ih.call(this)},T(n,[{key:"Hh",get:function(){return this.Nm.id||""}},{key:"Jh",get:function(){return this.Nm.inBandMetadataTrackDispatchType||""}},{key:"Wh",get:function(){return this.Nm.language||""}},{key:"oH",get:function(){return oa(this.Nm.mode)},set:function(t){this.Nm.mode=t}},{key:"Mm",get:function(){return this.Nm}}]),n}(yI),pI=function(t){function n(n){var i;return(i=t.call(this,0,n.zm)||this).MH=n,i.Wm=i.MH.qm,i}return ct(n,t),T(n,[{key:"Hh",get:function(){return this.MH.Hh},set:function(t){this.MH.Hh=t}},{key:"fk",get:function(){return this.MH.fk},set:function(t){this.MH.fk=t}},{key:"hk",get:function(){return this.MH.hk},set:function(t){this.MH.hk=t}}]),n}(wI);function AI(t){return void 0===t.LH&&(t.LH=new pI(t)),t.LH}var bI=function(t){function n(n,i){var r;(r=t.call(this,n.Jh,n.qh)||this).Cu=qh.ID3,r.UH=function(t){r.FH(t.Xm)},r.HH=function(t){var n=t.Xm;if(void 0!==n.LH){var i=n.LH;n.LH=void 0,r.TF(i),i.Ih()}},r.VH=function(t){var n=AI(t.Xm);n.ck||r.XH(n),r.qH(n)},r.WH=function(t){var n=t.Xm,i=AI(n);r.zH.Lv<n.qm&&r.XH(i)},r.GH=function(){var t=r.jH,n=r.Kh;if(r.jH=n,n===ea.jh)r.lF.forEach(function(t){return t.ck=!1}),xn(r.lF);else if(t===ea.jh)for(var i=r.zH.Lv,e=0,u=r.hF;e<u.length;e++){var s=u[e];i<s.Wm&&r.XH(s)}},r.zH=i,r.QH=n,r.jH=n.Kh,n.ls(No.th,r.UH),n.ls(No.ih,r.HH),n.ls(No.eh,r.VH),n.ls(No.sh,r.WH),n.ls(No.fh,r.GH);for(var e=0,u=r.QH.tf.Nh;e<u.length;e++){var s=u[e];r.FH(s)}return r}ct(n,t);var i=n.prototype;return i.XH=function(t){var n=KS(this.lF,t);if(!(n>=0)){var i=-(n+1);this.lF.splice(i,0,t),t.ck=!0,t.vs(new dR(t,this.zH.Lv)),this.vs(new gR(t)),this.vs(new AR(this))}},i.qH=function(t){var n=KS(this.lF,t);n>=0&&Cn(this.lF,n),t.ck=!1,t.vs(new _R(t,this.zH.Lv)),this.vs(new mR(t)),this.vs(new AR(this))},i.Ih=function(){this.QH.ys(No.th,this.UH),this.QH.ys(No.ih,this.HH),this.QH.ys(No.eh,this.VH),this.QH.ys(No.sh,this.WH),this.QH.ys(No.fh,this.GH),t.prototype.Ih.call(this)},i.FH=function(t){var n=AI(t);(this.NA(n),this.Kh!==ea.jh)&&(this.zH.Lv<n.Wm&&this.XH(n))},T(n,[{key:"Xh",get:function(){return this.QH.Xh}},{key:"qh",get:function(){return this.QH.qh},set:function(t){this.QH.qh=t}},{key:"Wh",get:function(){return this.QH.Wh}},{key:"Hh",get:function(){return this.QH.Hh}},{key:"Vh",get:function(){return this.QH.Vh}},{key:"Jh",get:function(){return this.QH.Jh}},{key:"Kh",get:function(){return this.QH.Kh},set:function(t){this.QH.Kh=t}},{key:"$h",get:function(){return this.QH.$h}},{key:"if",get:function(){return this.QH.if}}]),n}(gI),TI=function(t){function n(n){var i;return(i=t.call(this)||this).zH=n,i}ct(n,t);var i=n.prototype;return i.Th=function(n){if(n.Cu===qh.ID3){var i=n;return i.LH||(i.LH=new bI(i,this.zH)),t.prototype.Th.call(this,i.LH)}return t.prototype.Th.call(this,n)},i.Eh=function(n){if(n.Cu===qh.ID3){var i=n;return!!i.LH&&t.prototype.Eh.call(this,i.LH)}return t.prototype.Eh.call(this,n)},n}(la),EI=function(t){function n(n,i){var r;return(r=t.call(this)||this).bA=n,r.YH=i,r.ZH=new zt,r.IF=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((i=n.$c).Cu){t.next=4;break}return t.next=4,i.As(No._h);case 4:if(i.Cu===qh.ID3){t.next=6;break}return t.abrupt("return");case 6:if(0!==i.tf.Ch){t.next=11;break}return t.next=9,i.As(No.th);case 9:t.next=6;break;case 11:r.JH(i);case 12:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.NF=function(t){var n=t.$c;if(n.Cu===qh.ID3&&r.ZH.has(n.Vh)){var i=r.ZH.get(n.Vh);r.Eh(i),r.bA.CA(i),n.ys(No.th,r.FH)}},r.FH=function(t){SI(t.Xm)&&r.KH(t.Xm)},r.$H(),r}ct(n,t);var i=n.prototype;return i.$H=function(){this.YH.ls(bo.Gc,this.IF),this.YH.ls(bo.Qc,this.NF)},i.tV=function(){this.YH.ys(bo.Gc,this.IF),this.YH.ys(bo.Qc,this.NF)},i.JH=function(t){var n=t.tf.Nh[0];if(SI(n)){var i=function(t){var n=t.match(RI);if(!n)return;return{$c:n[1],Wh:n[2]}}(n.zm.description),r=i.$c,e=i.Wh;if(!this.nV(r,e)){var u=this.bA.SA(cf.km,r,e,!1,qh.TTML);this.Th(u),this.ZH.set(t.Vh,u);for(var s=0,o=t.tf.Nh;s<o.length;s++){var a=o[s];SI(a)&&this.KH(a)}t.ls(No.th,this.FH)}}},i.nV=function(t,n){return!!Rn(this.P_.Nh,function(i){return i.qh===t&&i.Wh===n})},i.KH=function(t){if(t.$c)for(var n=this.ZH.get(t.$c.Vh),i=Hd(t.zm.text,0,{wp:new no(0),gp:new no(1/0),yp:new no(-t.Wm)}),r=0;r<i.length;r++){var e=i[r];n.NA(e)}},i.Rh=function(){var n=Ct.coroutine(Nt.mark(function n(){var i,r,e,u,s;return Nt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(i=0,r=this.YH.Nh;i<r.length;i++)r[i].ys(No.th,this.FH);for(e=0,u=this.P_.Nh;e<u.length;e++)s=u[e],this.bA.CA(s);return this.ZH.clear(),n.next=5,t.prototype.Rh.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i.Ih=function(){var n=Ct.coroutine(Nt.mark(function n(){return Nt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.tV(),n.next=3,t.prototype.Ih.call(this);case 3:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),n}($d);function SI(t){return function(t){return"TXXX"===t.id||"TXX"===t.id}(n=t.zm)&&RI.test(n.description);var n}var RI=/^Track:(.+),Lang:(.+)$/;var II=new no(50,1e3),NI=P.Yt||P.Zt,CI=P.qt,DI=new no(500,1e3),OI=new no(5),xI=new no(.04),PI=new no(.001),BI=P.nn,MI=[ka.Jf,ka.Ff,ka.qf,ka.Lf,ka.Mf],LI=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).IE=void 0,e.MS=!0,e.MT=void 0,e.iV=new Dl,e.rV=void 0,e.eV=void 0,e.uV=void 0,e.zB=!1,e.sV=Ct.resolve(),e.oV=new Ln,e.aV=[],e.cV=QT.lm(),e.hV=void 0,e.fV=1,e.vV=!1,e.dV=!1,e.lV=!1,e._V=!1,e.wV=!1,e.gV=0,e.yV=function(t){var n=t.track,i=e.mV(n);e.kV(n,i)},e.pV=function(t){var n=function(t,n){for(var i=0,r=t.Nh;i<r.length;i++){var e=r[i];if(e.Mm===n)return e}return}(e.AV,t.track);n&&e.AV.Eh(n)},e.bV=function(){for(var t=0;t<e.dd.Ch;t++){var n=e.dd.bh(t);n instanceof cI&&n.cH()}},e.TV=function(){for(var t=e.AV.Nh,n=0;n<t.length;n++){var i=t[n];e.AV.Eh(i)}},e.EV=function(){var t=e.MT,n=t.WU,i=t.zU;if(n&&i)if(t.RM)e.SV();else if(t.$h!==SS.mU){var r=n.Hd,u=i.Hd;if(0!==r.Ch&&0!==u.Ch){var s=new no(e.Lv,1);if(s.ja(r.Ry(0))||s.ja(u.Ry(0)))e.SV();else if(r.Xy(s)!==u.Xy(s))e.RV();else if(e.SV(),!e.gV&&e.IV.eF())r.Jy(u).im(s,s.Wa(DI))&&(e.gV=uT(e.NV))}else e.SV()}},e.NV=function(){e.gV=0,e.EV()},e.CV=function(){if(!(e.Wv||e.$h>=ga.wf)){0;var t=e.MT,n=t.WU,i=t.zU;if(n&&i){var r=new no(e.Lv,1),u=n.Hd,s=i.Hd;if(u.Xy(r)&&s.Xy(r))u.Jy(s).im(r.Ka(OI),r)&&e.qs(r.nc)}}},e.DV=function(){e.vs(new xa(e.Lv))},e.OV=function(){e.xV(new Un),e.vs(new Ba(e.Lv))},e.PV=function(){e.BV(),e.vs(new eg(e.Lv))},e.MV=function(){e.LV(e.qv)},e.UV=function(){e.vs(new Da(e.Uv))},e.FV=function(){e.vs(new cS(e.Lv))},e.HV=function(){e.vs(new hS)},e.VV=function(){var t=e.Lv,n=e.Wv,i=e.$h<ga.wf&&!e.Fv,r=void 0!==e.uV,u=r&&e.uV!==t;(n||!r||u&&!i)&&(e.vs(new Na(e.Lv,void 0)),e.uV=t)},e.XV=function(){e.vs(new Ia(e.Lv))},e.qV=function(){var t;if(null!==e.ia.error){var n=e.ia.error;e.IE=new bc(null!==(t=n.code)&&void 0!==t?t:kc.DECODE,n.message||"Error decoding media",void 0,n.msExtendedCode),e.WV(e.IE),e.vs(new QS(e.IE))}else e.IE=void 0},e.zV=function(){e.vs(new Ta(e.Lv,e.jv))},e.GV=function(){e.Gv>0&&e.zv>0&&e.vs(new Cl)},e.jV=function(t){e.vs(new ai(t.initDataType,t.initData||new ArrayBuffer(0)))},e.QV=function(){e.vs(new ci)},e.YV=function(t){var n=t.initData,i=n?Hr(n).buffer:new ArrayBuffer(0);e.vs(new ai(Qt,i))},e.ZV=function(t){if(t.initData){var n=UI(t.initData);if(!n)return;e.vs(new ai(Zt,n))}else e.vs(new ai(Zt,new ArrayBuffer(0)))},e.JV=function(t){var n=t.initData,i=n?Hr(n).buffer:new ArrayBuffer(0);e.vs(new ai(Qt,i))},e.KV=function(){e.BV()},e.$V=function(t){e.xV(t)},e.ia=n,e.Uu=i,e.tX=r,e.nX=new XS(vt(e)),e.IV=new jS(vt(e)),e.IV.ls(da.vf,e.PV),e.dd=new Kd,e.iX=new Kd,e.AV=new Kd,e.rX=new vR([e.dd,e.iX,e.AV]),e.eX=new TI(vt(e)),e.eX.Mh=e.rX,e.uX=new EI(vt(e),e.eX),e.sX=new vR([e.rX,e.uX.P_]),e.oX=new _I(vt(e)),e.aX(),e.KE(),e}ct(n,t);var i=n.prototype;return i.cX=function(){return void 0!==this.eV&&this.Uv===this.eV.nc},i.LV=function(t){this.fV!==t&&(this.fV=t,this.vs(new Ca(this.Lv,t)))},i._S=function(){return uE(this.ia)},i.md=function(){var t=this.hX();return this.fX(),t},i.fX=function(){this.dV?this.lV&&(this.lV=!1,this.vs(new xa(this.Lv))):this.vX()},i.vX=function(){if(this.rV)this.rV.md();else{P.nn&&!P.Ft&&this.ia.preload===pg.xS&&(this.ia.preload=pg.n_);var t=this.qv,n=this.ia.play();t!==this.QE.playbackRate&&(this.qv=t),W(n)?n.then(this.KV,this.$V):this.IV.eF()&&this.BV()}},i.kd=function(){this.dV?this.lV||(this.lV=!0,this.vs(new Ba(this.Lv))):this.dX()},i.dX=function(){this.rV?this.rV.kd():(this.ia.pause(),this.IV._o()),this.WV(new Un)},i.hX=function(){var t=new qr;return this.aV.push(t),t.Zs},i.lX=function(){for(var t=0,n=this.aV;t<n.length;t++){n[t].Js(void 0)}xn(this.aV)},i.WV=function(t){for(var n=0,i=this.aV;n<i.length;n++){i[n].Ks(t)}xn(this.aV)},i.BV=function(){this.dV||this.rV||this.lX()},i.xV=function(t){this.dV||this.rV||this.WV(t)},i.qs=function(t,n){this.rV?this.rV.Lv=t:(this.oV.ss(),this.oV=new Ln,this.sV=this._X(new no(t),this.sV,this.oV.cs).catch(j))},i.lS=function(t){if(this.ia.getStartDate){var n=this.ia.getStartDate();if(n&&!m(n.getTime())){var i=(t.getTime()-n.getTime())/1e3;this.qs(i)}}},i._X=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r){var e,u,s,o,a,c,h,f,v=this;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.eV=n,this.zB=!0,this.vs(new Sa(n.nc)),t.next=6,i.catch(j);case 6:if(Hn(r),this.vV&&this.wX(),this.$h!==ga.df){t.next=11;break}return t.next=11,this.As(da.dh,r);case 11:if(0!==this.ia.seekable.length){t.next=17;break}return t.next=14,Ct.race([La(this.ia,"timeupdate",r),Jn(100,r)]);case 14:Hn(r),t.next=11;break;case 17:e=this.gX(n),u=this.nl,s=!0,o=!1;case 21:if((u=this.nl).Ch>0&&!u.Xy(e)&&(e=u.Hy(e),s=!0),BI&&void 0!==(a=this.yX())&&e.Ga(a)&&(e=a,s=!0),o){t.next=35;break}if(void 0===(c=this.mX())||!e.Ga(c)){t.next=35;break}return o=!0,t.next=31,this.kX(c,r);case 31:return t.next=33,La(this.ia,"seeked",r);case 33:Hn(r),s=!0;case 35:if(!s){t.next=54;break}return s=!1,t.next=39,this.kX(e,r);case 39:Hn(r),h=new no(this.Lv),u=this.nl,e=u.Hy(e),f=1;case 44:if(e.Ya(h,no.ic)){t.next=54;break}return u=this.nl,e=HI(e,u,f),t.next=49,this.kX(e,r);case 49:Hn(r),h=new no(this.Lv),f++,t.next=44;break;case 54:if(this.ia.seeking||this.$h<ga._f){t.next=56;break}return t.abrupt("break",61);case 56:return t.next=58,zn(function(t){var n;return Ct.race([La(v.ia,"seeked",t),v.As([ka.Uf,ka.Sf,da.dh],t),null===(n=v.MT)||void 0===n?void 0:n.As(JE.ky,t)].filter(L))},r);case 58:Hn(r),t.next=21;break;case 61:this.pX(),t.next=69;break;case 64:if(t.prev=64,t.t0=t.catch(0),!Fn(t.t0)){t.next=68;break}return t.abrupt("return");case 68:0;case 69:case"end":return t.stop()}},t,this,[[0,64]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.kX=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r,e,u;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Hn(i),r=this.nl,n=r.Hy(n),!this.vV){t.next=18;break}e=!0;case 5:if(!(e||this.$h<ga.wf)){t.next=17;break}if((r=this.nl).Xy(n)||(n=r.Hy(n),e=!0),!e){t.next=13;break}return e=!1,this.eV=n,this.vs(new Sa(this.Lv)),t.abrupt("continue",5);case 13:return t.next=15,this.As([da.dh,ka.Sf],i);case 15:t.next=5;break;case 17:Hn(i);case 18:if(u=La(this.ia,"seeking",i),this.ia.currentTime=n.nc,this.eV=void 0,this.vs(new Sa(this.Lv)),!this.ia.seeking){t.next=25;break}return t.next=25,u;case 25:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.gX=function(t){var n=this.Hd;if(n&&!n.Xy(t)){var i=n.$y(t,II);if(i>-1){var r=n.Ry(i);if(t.ja(r))return r}}return t},i.yX=function(){if(this.MT&&this.MT.RM){var t=this.MT.IM,n=this.MT.NM,i=t&&n?t.Wy(n):t||n;if(i&&0!==i.Ch){var r=i.Ry(i.Ch-1),e=i.Ny(i.Ch-1);return no.Ha(r,e.Ka(PI))}}},i.mX=function(){if(this.MT&&this.MT.RM){var t=this.MT.NM;if(t&&0!==t.Ch){var n=t.Ry(t.Ch-1),i=t.Ny(t.Ch-1).Ka(xI.$a(.5));return i=i.Ka(PI),no.Ha(n,i)}}},i.pX=function(){this.zB=!1,this.vV&&this.AX(),this.vs(new Ea(this.Lv))},i.wX=function(){this.dV||(this.lV=this.Xv,this.dV=!0,this.dX())},i.AX=function(){this.dV&&(this.dV=!1,this.lV||this.fX())},i.SM=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i,r;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0;case 1:if(!(i<n.length)){t.next=12;break}if((r=n[i]).Cu!==Cw.ZT||!aS.SM(r,this.ia)){t.next=7;break}return t.abrupt("return",r);case 7:if(r.Cu!==Cw.JT||!US.SM(r)){t.next=9;break}return t.abrupt("return",r);case 9:i++,t.next=1;break;case 12:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Dd=function(){this.MS=!1,Ce(this.ia)&&(this.ia.style.display="none")},i.Cd=function(){this.MS=!0,Ce(this.ia)&&(this.ia.style.display="block")},i.SA=function(t,n,i,r,e,u){var s=new hR(t,n,i,r,e,u);return this.dd.Th(s),this.oX.Th(s),s},i.sS=function(){return!0},i.aS=function(t,n,i,r){var e=s.createElement("track");e.src=Us(t),e.kind=n,e.label=null!=i?i:"",r&&(e.srclang=r),e.id=uy(),this.ia.appendChild(e);var u=this.ia.textTracks.getTrackById(e.id),o=new cI(u,e);return this.iX.Th(o),o},i.CA=function(t){this.dd.Eh(t),this.oX.Eh(t)},i.KE=function(){var t=this.ia.textTracks;t&&t.addEventListener&&(t.addEventListener("addtrack",this.yV),t.addEventListener("removetrack",this.pV),t.addEventListener("change",this.bV)),this.ia.addEventListener("emptied",this.TV)},i.vS=function(){var t=this.ia.textTracks;t&&t.removeEventListener&&(t.removeEventListener("addtrack",this.yV),t.removeEventListener("removetrack",this.pV),t.removeEventListener("change",this.bV)),this.ia.removeEventListener("emptied",this.TV)},i.kV=function(t,n){if(P.nn){if(t.kind===cf.n_)return void this.bX(t);if(t.kind===cf.pm&&!VI(t))return void this.TX(t,n)}this.AV.Th(new cI(t,n))},i.bX=function(t){t.mode=ea.Qh;var n=new kI(t);this.AV.Th(n),this.oX.Th(n)},i.TX=function(t,n){var i=this;t.addEventListener("cuechange",function r(){VI(t)&&(t.removeEventListener("cuechange",r),i.AV.Th(new cI(t,n)))}),t.mode=ea.Qh},i.mV=function(t){for(var n=this.ia.getElementsByTagName("track"),i=0;i<n.length;i++){var r=n[i]||n.item(i);if(r.track===t)return r}},i.do=function(t){var n=this;return this.iV.LA(function(){var i=Ct.coroutine(Nt.mark(function i(r){var e;return Nt.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(Hn(r),!n.MT){i.next=3;break}throw new d("Already loaded a media source");case 3:if(t.Cu!==Cw.ZT){i.next=9;break}e=new aS(t,n,n.Uu),n.vV=!1,n.EX(new XS(n)),i.next=17;break;case 9:if(t.Cu!==Cw.JT){i.next=16;break}e=new US(t,n,n.Uu),n.vV=NI,n.EX(n.vV?new zS(n):new XS(n)),CI&&(n.ls(ka.Zf,n.EV),n.ls(da.dh,n.CV)),i.next=17;break;case 16:throw new d("Unsupported configuration");case 17:return n.MT=e,i.next=20,e.VA();case 20:return i.abrupt("return",e);case 21:case"end":return i.stop()}},i)}));return function(t){return i.apply(this,arguments)}}())},i.RV=function(){if(!this._V){var t=this.qv;this._V=!0,this.qv=t,this.ia.playbackRate=0,this.nX&&this.nX.JU()}},i.SV=function(){if(this._V){var t=this.qv;this._V=!1,this.qv=t,this.ia.currentTime=this.ia.currentTime,this.nX&&this.nX.JU()}},i.EX=function(t){var n=this.$h;this.nX.$u(),this.nX=t,this.nX.ls(da.dh,this.fs);var i=this.$h;n!==i&&this.vs(new ma(this.Lv,i))},i.Rh=function(){var t=Ct.coroutine(Nt.mark(function t(){var n=this;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.zB=!1,this.cV=QT.lm(),this.oV.ss(),this.eV=void 0,this.vV=!1,this.dV=!1,this.IE=void 0,this.uV=void 0,this.WV(new Un),this.EX(new XS(this)),this.IV.Rh(),this.SV(),CI&&(sT(this.gV),this.gV=0,this.ys(ka.Zf,this.EV),this.ys(da.dh,this.CV)),this.dd.Rh(),this.iX.Nh.forEach(function(t){return t.Ih()}),this.iX.Rh(),t.next=18,this.iV.ss();case 18:return t.next=20,this.iV.LA(Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.MT){t.next=4;break}return t.next=3,n.MT.$u();case 3:n.MT=void 0;case 4:case"end":return t.stop()}},t)})));case 20:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.$u=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.SX(),this.vS(),t.next=4,this.Rh();case 4:return t.next=6,this.iV.Ih();case 6:return this.IV.$u(),this.nX.$u(),this.dd.Ih(),this.eX.Ih(),this.AV.Ih(),this.iX.Ih(),t.next=14,this.uX.Ih();case 14:this.rX.Ih(),this.sX.Ih();case 16:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.aX=function(){this.QE.addEventListener("play",this.DV),this.QE.addEventListener("pause",this.OV),this.QE.addEventListener("timeupdate",this.VV),this.QE.addEventListener("progress",this.FV),this.QE.addEventListener("loadstart",this.HV),this.QE.addEventListener("ended",this.XV),this.QE.addEventListener("ratechange",this.MV),this.QE.addEventListener("volumechange",this.zV),this.QE.addEventListener("durationchange",this.UV),this.QE.addEventListener("resize",this.GV),this.QE.addEventListener("loadedmetadata",this.GV),this.QE.addEventListener("error",this.qV),pn()?(this.ia.addEventListener("encrypted",this.jV),this.ia.addEventListener("waitingforkey",this.QV)):void 0!==Xt.WebKitMediaKeys&&"function"==typeof Xt.WebKitMediaKeys.isTypeSupported?this.ia.addEventListener("webkitneedkey",this.ZV):An()?this.ia.addEventListener("webkitneedkey",this.JV):void 0!==Xt.MSMediaKeys&&"function"==typeof Xt.MSMediaKeys.isTypeSupported&&this.ia.addEventListener("msneedkey",this.YV)},i.SX=function(){this.QE.removeEventListener("play",this.DV),this.QE.removeEventListener("pause",this.OV),this.QE.removeEventListener("timeupdate",this.VV),this.QE.removeEventListener("progress",this.FV),this.QE.removeEventListener("loadstart",this.HV),this.QE.removeEventListener("ended",this.XV),this.QE.removeEventListener("ratechange",this.MV),this.QE.removeEventListener("volumechange",this.zV),this.QE.removeEventListener("durationchange",this.UV),this.QE.removeEventListener("resize",this.GV),this.QE.removeEventListener("loadedmetadata",this.GV),this.QE.removeEventListener("error",this.qV),this.QE.removeEventListener("encrypted",this.jV),this.QE.removeEventListener("waitingforkey",this.QV),this.QE.removeEventListener("msneedkey",this.YV),this.QE.removeEventListener("webkitneedkey",this.ZV)},i.XU=function(){this.rV||(this.cV=this.$d,this.rV=new FS(this.Lv,this.Uv,this.Fv,this.Xv,this.Wv,this.Vv,this.qv,this.jv),this.SX(),this.rV.ls(MI,this.fs))},i.qU=function(){if(this.rV){var t=this.rV;this.rV=void 0,t.Uv===this.Uv||m(t.Uv)&&m(this.Uv)||this.vs(new Da(this.Uv)),this.qv=t.qv,t.Xv?this.kd():this.fX(),t.Lv!==this.Lv?this.qs(t.Lv):!t.Wv&&this.Wv?this.vs(new Sa(this.Lv)):t.Wv&&!this.Wv&&this.vs(new Ea(this.Lv)),!t.Fv&&this.Fv&&this.vs(new Ia(this.Lv)),t.ys(MI,this.fs),this.aX()}},i.RX=function(){this.wV=!0},i.IX=function(t){t.appendChild(this.ia)},i.IU=function(){CI&&this.EV(),this.nX.JU()},T(n,[{key:"$U",get:function(){return this._V}},{key:"Hd",get:function(){return this.MT?this.MT.Hd:QT.lm()}},{key:"Vd",get:function(){if(this.ia.getStartDate){var t=this.ia.getStartDate();if(t&&!m(t.getTime())){var n=1e3*this.Lv;return new Date(t.getTime()+n)}}}},{key:"wS",get:function(){if(this.QE.getStartDate)return this.QE.getStartDate()}},{key:"Lv",get:function(){return this.rV?this.rV.Lv:void 0!==this.eV?this.eV.nc:this.ia.currentTime}},{key:"RB",get:function(){return this.tX}},{key:"Uv",get:function(){return this.rV?this.rV.Uv:this.MT?this.MT.Uv:this.ia.duration}},{key:"Fv",get:function(){return this.Wv?this.cX():this.rV?this.rV.Fv:this.ia.ended}},{key:"Is",get:function(){return this.IE}},{key:"QE",get:function(){return this.ia}},{key:"Xv",get:function(){return this.dV?this.lV:this.rV?this.rV.Xv:this.ia.paused}},{key:"$d",get:function(){return this.cV.Zy(QT.vm(this.ia.played))}},{key:"Z_",get:function(){return this.ia.offsetHeight*r.Pc.vc}},{key:"wc",get:function(){return this.ia.offsetWidth*r.Pc.vc}},{key:"hS",get:function(){return Ig}},{key:"$h",get:function(){return this.nX.$h}},{key:"nl",get:function(){return this.MT?this.MT.nl:QT.lm()}},{key:"Wv",get:function(){return this.rV?this.rV.Wv:this.zB}},{key:"Vv",get:function(){return this.rV?this.rV.Vv:this.ia.muted},set:function(t){this.rV?this.rV.Vv=t:this.ia.muted=t}},{key:"qv",get:function(){return this.rV?this.rV.qv:void 0!==this.hV?this.hV:this.ia.playbackRate},set:function(t){this.rV?this.rV.qv=t:this.Xv||this._V?(this.hV=t,this.LV(t)):(this.hV=void 0,this.ia.playbackRate=t)}},{key:"NX",get:function(){return this.MS}},{key:"jv",get:function(){return this.rV?this.rV.jv:this.ia.volume},set:function(t){this.rV?this.rV.jv=t:this.ia.volume=t}},{key:"yd",get:function(){return this.sX}},{key:"Wd",get:function(){return!!this.ia.webkitCurrentPlaybackTargetIsWireless}},{key:"CX",get:function(){return this.wV}},{key:"playbackProperties",get:function(){return Dt(Dt({},nS),{_M:!0})}}]),n}(ii);function UI(t){try{var n=Br(t),i=new Vr;return Rr(Ir(or(n,i,dr(n,i,!0)),!0))}catch(t){return}}var FI=new no(1,100);function HI(t,n,i){if(void 0===i&&(i=0),!n.Ch)return new no(0);var r=n.Hy(t),e=FI.$a(i);r.Ja(n.Ry(0))?r=r.Wa(e):r.Ja(n.Ny(n.Ch-1))&&(r=r.Ka(e));var u=r.za(no.uc);return no.Fa(u)}function VI(t){return!!t.cues&&t.cues.length>0}var XI=function(t){function n(){return t.apply(this,arguments)||this}return ct(n,t),n.prototype.Od=function(){},T(n,[{key:"zv",get:function(){return 0}},{key:"Gv",get:function(){return 0}}]),n}(LI),qI="theoplayer-texttracks",WI=function(){function t(t){void 0===t&&(t=5);var n=Xt.document.createElement("div");n.className=qI,n.style.position="absolute",n.style.display="none",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="10%",n.style.bottom="80%",n.style.bottom="10%",n.style.left="0",n.style.width="100%",n.style.lineHeight="1.3em",n.style.zIndex=""+t,this.DX=n,this.Cd()}var n=t.prototype;return n.Dd=function(){this.DX.style.display="none"},n.Cd=function(){Se(this.DX.style,"flex","-ms-flexbox")},n.IX=function(t){t.appendChild(this.DX)},n.Ih=function(){Te(this.DX)},T(t,[{key:"Xd",get:function(){return this.DX}}]),t}();function zI(t,n){return t?Dt(Dt({},n),Go(t)):n}function GI(t){return t.KP&&vn(t.KP,"%")?Number(t.KP.replace("%",""))/100:t.KP&&vn(t.KP,"em")?Number(t.KP.replace("em","")):1}var jI,QI,YI=function(){function t(t,n,i,r,e){var u=this;this.OX=xt(),this.xX=!0,this.PX=function(t){return u.OX.has(t.hk)},this.BX=function(t){return!u.PX(t)},this.MX=function(t){return u.NA(t.Xm)},this.LX=function(t){return u.removeCue(t.Xm)},this.UX=function(){return u.FX()},this.HX=function(t){return u.VX(t.Xm)},this.XX=function(t){return u.qX(t.Xm)},this.WX=function(t){u.zX(t.wc,t.Z_)},this.tk=t,this.GX=this.jX=e,this.ia=this.QX(i),this.tX=r,n.appendChild(this.ia),this.YX(),this.tk.tf.Nh.forEach(function(t){return u.NA(t)}),this.RB.ls("MD",this.WX),this.zX(this.RB.qD,this.RB.XD)}var n=t.prototype;return n.ZX=function(t){this.jX=zI(t,this.GX),this.jX.ZP&&(this.QE.style.fontFamily=this.jX.ZP),this.zX(this.RB.qD,this.RB.XD),this.JX()},n.YX=function(){this.tk.ls(No.th,this.MX),this.tk.ls(No.ih,this.LX),this.tk.ls(No.fh,this.UX)},n.KX=function(){var t=this;this.tk.ys(No.th,this.MX),this.tk.ys(No.ih,this.LX),this.tk.ys(No.fh,this.UX),this.tk.tf.Nh.forEach(function(n){return t.$X(n)})},n.tq=function(t){t.ls($f.Hm,this.HX),t.ls($f.Vm,this.XX)},n.$X=function(t){t.ys($f.Hm,this.HX),t.ys($f.Vm,this.XX)},n.NA=function(t){t.hk||(t.hk=this.nq),this.tq(t),t.ck&&this.VX(t)},n.removeCue=function(t){this.$X(t),this.qX(t)},n.FX=function(){this.tk.Kh===ea.Yh?this.iq():this.rq()},n.iq=function(){var t=this,n=this.RB.qD,i=this.RB.XD,r=new Jb(n,i);this.WX(r),this.xX=!1,this.uq.forEach(function(n){return t.VX(n)})},n.VX=function(t){this.xX||this.BX(t)&&(this.sq(t),this.OX.set(t.hk,t))},n.sq=function(t){var n=this.ia,i=this.oq(t);if(i)for(var r=0;r<i.length;r++){var e=i[r];e.className=t.hk,n.appendChild(e)}},n.rq=function(){var t=this;this.xX=!0,this.OX.forEach(function(n){return t.qX(n)})},n.qX=function(t){this.PX(t)&&(this.aq(t),this.OX.delete(t.hk))},n.aq=function(t){for(var n=this.ia,i=n.getElementsByClassName(t.hk);i.length;)n.removeChild(i[0])},n.JX=function(){for(var t=0,n=this.cq;t<n.length;t++){var i=n[t];this.aq(i),this.sq(i)}},n.Ih=function(){Te(this.QE),this.KX(),this.RB.ys("MD",this.WX)},T(t,[{key:"$c",get:function(){return this.tk}},{key:"QE",get:function(){return this.ia}},{key:"RB",get:function(){return this.tX}},{key:"hq",get:function(){return this.jX}},{key:"cq",get:function(){return this.tk.nf.Nh.filter(this.PX)}},{key:"uq",get:function(){return this.tk.nf.Nh.filter(this.BX)}}]),t}();function ZI(t){return JI[t||"none"]}!function(t){t.fq='"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',t.vq='"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',t.dq='"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',t.lq='Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif'}(jI||(jI={})),function(t){t.BLACK="#000000",t.WHITE="#FFFFFF",t.GREEN="#00ff00",t.BLUE="#0000ff",t.CYAN="#00ffff",t.RED="#ff0000",t.YELLOW="#ffff00",t.MAGENTA="#ff00ff",t.TRANSPARENT="transparent"}(QI||(QI={}));var JI={none:"",dropshadow:"#222 2px 2px 3px, #222 2px 2px 4px, #222 2px 2px 5px",raised:"#222 1px 1px, #222 2px 2px, #222 3px 3px",depressed:"#ccc 1px 1px, #ccc 0px 1px, #222 -1px -1px, #222 0px -1px",uniform:"#222 -1px -1px 0, #222 1px -1px 0, #222 -1px 1px 0, #222 1px 1px 0"};function KI(t,n){void 0===t.textContent?t.innerText=n:t.textContent=n}var $I=Pt({monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:"monospace, sans-serif",monospaceSerif:"monospace, serif",proportionalSansSerif:"Arial",proportionalSerif:"Times New Roman",default:"monospace, sans-serif;"}),tN=Pt({lrtb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rltb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;unicode-bidi: bidi-override;",tbrl:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;",tblr:"-webkit-writing-mode: vertical-lr;writing-mode: vertical-lr;-webkit-text-orientation: upright;text-orientation: upright;",lr:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rl:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;",tb:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;"}),nN={backgroundColor:function(t,n){n.style.backgroundColor=t},color:function(t,n){n.style.color=t},direction:function(t,n){n.style.direction=t},display:function(t,n){"none"===t&&(n.style.display="none")},fontFamily:function(t,n){var i=$I.get(t);n.style.fontFamily=i||t},fontSize:function(t,n){ln(t,"px")?t=g(t)/24+"em":ln(t,"c")&&(t=t.replace("c","em")),n.style.fontSize=t},fontStyle:function(t,n){n.style.fontStyle=t},fontWeight:function(t,n){n.style.fontWeight=t},lineHeight:function(t,n){n.style.lineHeight=t},opacity:function(t,n){n.style.opacity=t},overflow:function(t,n){n.style.overflow=t},padding:function(t,n){n.style.padding=t},textAlign:function(t,n){"right"===t?(n.style.textAlign="right",n.style.justifyContent="flex-end"):"start"===t?(n.style.textAlign="start",n.style.justifyContent="flex-start"):"center"===t?(n.style.textAlign="center",n.style.justifyContent="center"):"end"===t?(n.style.textAlign="end",n.style.justifyContent="flex-end"):"left"===t&&(n.style.textAlign="left",n.style.justifyContent="flex-start")},textDecoration:function(t,n){var i=t;i=(i=(i=(i=i.replace("lineThrough","line-through")).replace("noUnderline","none")).replace("noLineThrough ","none")).replace("noOverline  ","none"),n.style.textDecoration=i},unicodeBidi:function(t,n){n.style.unicodeBidi=t.replace("bidiOverride","bidi-override")},visibility:function(t,n){n.style.visibility=t},zIndex:function(t,n){n.style.zIndex=t},displayAlign:function(t,n){var i;"before"===t.toLowerCase()?i="flex-start":"center"===t.toLowerCase()?i="center":"after"===t.toLowerCase()&&(i="flex-end"),n.style.alignItems=i},extent:function(t,n){var i,r,e=t.split(" ");e.length>=2?(i=e[0],r=e[1]):i=r="100%",n.style.height=r,n.style.width=i},origin:function(t,n){var i=t.split(" "),r=i[0],e=i[1];void 0===r&&void 0===e||(n.style.position="absolute",void 0!==r&&(n.style.left=r),void 0!==e&&(n.style.top=e))},showBackground:function(t,n){},wrapOption:function(t,n){n.style.whiteSpace=t.replace("noWrap","nowrp").replace("wrap","normal").replace("nowrp","nowrap")},writingMode:function(t,n){var i=tN.get(t);i&&(n.style.cssText=n.style.cssText.concat(i))},textOutline:function(){},linePadding:function(t,n){if(ln(t,"c")){var i=t.replace("c","em");n.style.paddingLeft=n.style.paddingRight=i}},multiRowAlign:function(t,n){"auto"===t.toLowerCase()?n.style.textAlign="":n.style.textAlign="value"}},iN=0,rN={JP:QI.WHITE,ZP:"Arial, Helvetica, Sans-Serif",KP:"100%",$P:QI.TRANSPARENT,tB:QI.TRANSPARENT,nB:"none"},eN=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,rN)||this}ct(n,t);var i=n.prototype;return i.QX=function(t){var n=s.createElement("div");return n.className="theoplayer-ttml-texttrack-"+t,n.style.position="absolute",n.style.display="flex",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="0",n.style.left="0",n.style.width="100%",n.style.height="100%",n},i.zX=function(t,n){var i=n/15;this.QE.style.fontSize=i+"px"},i.oq=function(t){if(t.$c&&t.$c.Cu!==qh.TTML)return[];var n,i=[],r=t,e=r.Rp,u=r.mp,o=r.zm;if(0===_.keys(u).length){Ee(n=s.createElement("div"),r.hk),fN(n);for(var a=uN(o,e,r.Ip,void 0,this.QE),c=0;c<a.length;c++){var h=a[c];n.appendChild(h)}i.push(n)}else for(var f=0,v=_.keys(u);f<v.length;f++){var d=v[f],l=s.createElement("div");l.id=d,Ee(l,r.hk);var w=uN(o,e,r.Ip,l,this.QE);if(w){fN(l),aN(l,u[d],e,this.QE);for(var g=0;g<w.length;g++){var y=w[g];l.appendChild(y)}i.push(l)}i.push(l)}return i},i.ZX=function(t){},T(n,[{key:"nq",get:function(){return"theoplayer-ttmlcue-"+iN++}}]),n}(YI);function uN(t,n,i,r,e){var u,s;if(ht(t)&&("SPAN"===(s=t).Sn.toUpperCase()||"P"===s.Sn.toUpperCase()||"BR"===s.Sn.toUpperCase()||"DIV"===s.Sn.toUpperCase()||"BODY"===s.Sn.toUpperCase())){var o=function t(n){var i;var r=n.Hn("region");if("p"===n.Sn.toLowerCase())return r;var e=[];for(var u=0,s=n.Fn;u<s.length;u++){var o=s[u];e.push(t(o))}!function(t){for(var n=[],i=0;i<t.length;i++){for(var r=!0,e=i+1;e<t.length;e++)if(t[i]===t[e]){r=!1;break}r&&n.push(t[i])}}(e);return 0===e.length?r:1===e.length?null!==(i=e[0])&&void 0!==i?i:r:void 0}(t);if(!o||r.id===o){(function(t,n,i,r){var e=n.Hn("style");hN(t,e,i,r),function(t,n,i){Array.prototype.slice.call(n.Gn).forEach(function(n){var r=Md(n.Rn,["ebutts","tts","xml"]);nN[r]&&nN[r](n.Cn,t,i)})}(t,n,r)})(u="BODY"===t.Sn.toUpperCase()?r:sN(t),t,n,e),function(t,n,i){var r=null==n?void 0:n.Hn("smpte:backgroundImage");if(r){r=r.replace("#","");var e=function t(n,i){if(n&&i(n))return n;var r=null;if(null==n?void 0:n.Fn)for(var e=0,u=null==n?void 0:n.Fn;e<u.length;e++){var s=u[e];if(r=t(s,i))break}return r}(i,function(t){return t.Gn.some(function(t){return"id"===t.Sn&&t.Cn===r})});e&&cN(t,e,n,!0)}!function(t,n){var i=n.Fn[0];if(!i||"metadata"!==i.Sn.toLowerCase())return;var r=i.Fn[0];cN(t,r,n)}(t,n)}(u,t,i);for(var a=[],c=t.Pn,h=0;h<c.length;h++){var f=uN(c[h],n,i,r,e);f&&(a=a.concat(f))}if("BODY"!==t.Sn.toUpperCase()){for(var v=0,d=a;v<d.length;v++){var l=d[v];u.appendChild(l)}return[u]}return a}}else ft(t)&&(u=sN(t));if(u)return[u]}function sN(t){var n,i;if(ft(t))KI(n=s.createElement("text"),t.Qn);else if(ht(t))switch(t.Sn.toUpperCase()){case"BR":n=s.createElement("br");break;case"SPAN":n=s.createElement("span"),(i=n).style.backgroundColor="rgba(0,0,0,0.6)",i.style.textAlign="start",i.style.lineHeight="normal",oN(n,t);break;case"P":(function(t){t.style.fontFamily="Arial, Helvetica, Sans-Serif",t.style.color="white",t.style.justifyContent="flex-start",t.style.textAlign="start",t.style.padding="none",t.style.margin="0",t.style.lineHeight="normal",t.style.lineHeight="1.3em",t.style.textShadow="rgb(0, 0, 0) -1px -1px 0px, rgb(0, 0, 0) 1px -1px 0px, rgb(0, 0, 0) -1px 1px 0px, rgb(0, 0, 0) 1px 1px 0px"})(n=s.createElement("p")),oN(n,t);break;case"DIV":oN(n=s.createElement("div"),t)}return n}function oN(t,n){var i=n.Vn(Pd,"id");i&&(t.id=i)}function aN(t,n,i,r){hN(t,n.style,i,r),_.keys(n).forEach(function(i){nN[i]&&nN[i](n[i],t)})}function cN(t,n,i,r){void 0===r&&(r=!1),r&&(t.style.width=t.style.height="100%");var e=s.createElement("img");e.src=function(t){var n=t&&t.Pn.length>0?t.Pn[0]:null;return n&&ft(n)?"data:image/png;base64,"+n.Qn:""}(n),e.id=t.id,e.style.height="100%",e.style.maxWidth="100%",function(t,n){t.style.display="flex";var i=n.Hn("smpte:backgroundImageVertical");if(i)switch(i.toLowerCase()){case"left":t.style.alignItems="flex-start";break;case"center":t.style.alignItems="center";break;case"right":t.style.alignItems="flex-end";break;case"inherit":t.style.alignItems="inherit"}else t.style.alignItems="center";var r=n.Hn("smpte:backgroundImageHorizontal");if(r)switch(r.toLowerCase()){case"left":t.style.justifyContent="flex-start";break;case"center":t.style.justifyContent="center";break;case"right":t.style.justifyContent="flex-end";break;case"inherit":t.style.justifyContent="inherit"}else t.style.justifyContent="center"}(t,i),t.appendChild(e)}function hN(t,n,i,r){n&&n.split(" ").forEach(function(n){i[n]&&_.keys(i[n]).forEach(function(e){var u=Md(e,["ebutts","tts","xml"]);"style"===u.toLowerCase()?hN(t,i[n][e],i,r):nN[u]&&nN[u](i[n][e],t,r)})})}function fN(t){t.style.display="flex",t.style.top="auto",t.style.left="5%",t.style.width="90%",t.style.height="100%",t.style.maxHeight=t.style.maxWidth="100%",t.style.alignItems="flex-start",t.style.overflow="visible",t.style.position="absolute",t.style.justifyContent="center",t.style.textAlign="start",t.style.cssText=t.style.cssText.concat("ms-writing-mode: lr-tb, horizontal-tb;-webkit-writing-mode: horizontal-tb;-moz-writing-mode: horizontal-tb;writing-mode: horizontal-tb;"),t.style.padding="none",t.style.margin="0"}var vN,dN,lN=void 0;function _N(t,n){for(var i,r=vN._q,e="",u=[],s=t.charAt(n.zs),o="",a={Cu:dN.wq,Bn:"",gq:[]};n.zs<t.length+1;){switch(s=n.zs<t.length?t.charAt(n.zs):"EOF",r){case vN._q:switch(s){case"&":var c=t.substr(n.zs).match(/&#?[0-9a-zA-Z]+;/);c?(e+=(i=c[0],lN||(lN=Xt.document.createElement("textarea")),lN.innerHTML=i,lN.value),n.Xs(c[0].length-1)):e+="&";break;case"<":if(e)return{Cu:dN.yq,zm:e};r=vN.mq;break;case"EOF":return{Cu:dN.yq,zm:e};default:e+=s}break;case vN.mq:switch(s){case"\t":case"\n":case"\f":case" ":r=vN.kq;break;case".":r=vN.pq;break;case"/":r=vN.Aq;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":e=s,r=vN.bq;break;case">":return n.Xs(1),a;case"EOF":return a;default:e=s,r=vN.Tq}break;case vN.Tq:switch(s){case"\t":case"\f":case" ":r=vN.kq;break;case"\n":o=s,r=vN.kq;break;case".":r=vN.pq;break;case">":return n.Xs(1),{Cu:dN.wq,Bn:e,gq:[]};case"EOF":return{Cu:dN.wq,Bn:e,gq:[]};default:e+=s}break;case vN.pq:switch(s){case"\t":case"\f":case" ":u.push(o),o="",r=vN.kq;break;case"\n":u.push(o),o=s,r=vN.kq;break;case".":u.push(o),o="";break;case">":return n.Xs(1),u.push(o),{Cu:dN.wq,Bn:e,gq:u};case"EOF":return u.push(o),{Cu:dN.wq,Bn:e,gq:u};default:o+=s}break;case vN.kq:switch(s){case"&":r=vN.Eq;break;case">":n.Xs(1);var h=o.trim();return h=h.replace(/\s/," "),{Cu:dN.wq,Bn:e,gq:u,Sq:h};default:o+=s}break;case vN.Eq:for(var f="",v=n.zs;">"===t.charAt(v);v++)f+=t.charAt(v);o+=f||"&",r=vN.kq;break;case vN.Aq:switch(s){case">":return n.Xs(1),{Cu:dN.Rq,Bn:e};case"EOF":return{Cu:dN.Rq,Bn:e};default:e+=s}break;case vN.bq:switch(s){case">":return n.Xs(1),{Cu:dN.Iq,Nq:e};case"EOF":return{Cu:dN.Iq,Nq:e};default:e+=s}}n.Xs(1)}}!function(t){t._q="Data",t.mq="Tag",t.Tq="StartTag",t.pq="StartTagClass",t.kq="StartTagAnnotation",t.Eq="CharRefInAnnotation",t.Aq="EndTag",t.bq="TimestampTag"}(vN||(vN={})),function(t){t.yq="string",t.wq="starttag",t.Rq="endtag",t.Iq="timestamp"}(dN||(dN={}));var wN,gN,yN={JP:QI.WHITE,ZP:"sans-serif",KP:"100%",$P:"rgba(0,0,0,0.8)",tB:QI.TRANSPARENT,nB:"none"},mN="theoplayer-webvtt-region-",kN="theoplayer-webvtt-styling-",pN="theoplayer-webvtt-voice-",AN=5.23,bN=1.14,TN=0,EN=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,yN)||this).Cq={},u.Dq=CN(3),u}ct(n,t);var i=n.prototype;return i.QX=function(t){var n=s.createElement("div");return n.className="theoplayer-webvtt-texttrack-"+t,Ie(n),Se(n.style,"flex","-ms-flexbox"),n.style.overflow="hidden",n.style.pointerEvents="none",n.style.fontFamily=this.hq.ZP,n.style.whiteSpace="pre-line",n},i.zX=function(t,n){for(var i=n/100,r=t/100,e=w.min(i,r),u=GI(this.hq),s=0,o=_.keys(this.Oq);s<o.length;s++){var a=o[s],c=this.Oq[a].xq;this.Pq(c,e,u,this.Oq[a].Jm)}this.Pq(this.Bq,e,u),this.Mq()},i.Mq=function(){var t=GI(this.hq);this.Bq.style.padding=t>=1.5?"0":1/t+"em"},i.sq=function(t){var n=this.QE,i=this.RB.XD/100,r=this.Bq;t.Jm&&(this.Oq[t.Jm.Hh]||(this.Oq[t.Jm.Hh]={Jm:t.Jm,xq:DN(t.Jm,i)}),r=this.Oq[t.Jm.Hh].xq),n.querySelector("."+r.className)||n.appendChild(r);var e=this.oq(t);r.children.length>=1&&t.Jm&&"up"===t.Jm._k&&(r.style.transitionProperty="top",r.style.transitionDuration="0.433s");for(var u=0;u<e.length;u++){var s=e[u];s.className=t.hk,r.appendChild(s)}},i.oq=function(t){var n=[];return t&&n.push(this.Lq(t)),n},i.Lq=function(t){for(var n=new Vr,i=t.zm,r=this.Uq(t),e=r,u="",o=[],a={};n.zs<i.length;){var c=_N(i,n);if(c.Cu===dN.yq){var h=this.Fq(c.zm);SN(h,a),e.appendChild(h)}else if(c.Cu===dN.wq){switch(a[c.Bn.toLowerCase()]||(a[c.Bn.toLowerCase()]=[]),a[c.Bn.toLowerCase()].push(c),c.Bn.toLowerCase()){case"c":break;case"i":var f=s.createElement("i");e.appendChild(f),e=f;break;case"b":var v=s.createElement("b");e.appendChild(v),e=v;break;case"u":var d=s.createElement("u");e.appendChild(d),e=d;break;case"ruby":var l=s.createElement("ruby");e.appendChild(l),e=l;break;case"rt":if("ruby"===u){var _=s.createElement("rt");e.appendChild(_)}break;case"v":break;case"lang":o.push(c.Sq)}u=c.Bn||""}else if(c.Cu===dN.Rq){a[c.Bn.toLowerCase()]&&a[c.Bn.toLowerCase()].pop(),(!c.Bn||"C"!==c.Bn.toUpperCase()&&"V"!==c.Bn.toUpperCase())&&("LANG"===c.Bn.toUpperCase()?o.pop():"RUBY"===c.Bn.toUpperCase()&&"RUBY"===e.tagName?e=e.parentNode.parentNode:e.tagName&&e.tagName.toUpperCase()===c.Bn.toUpperCase()&&(e=e.parentNode)),u=c.Bn||""}else if(c.Cu===dN.Iq){var w=c.Nq,g=new Vr;try{hd(w,g)}catch(t){ut("ERROR collecting timestamp",t)}}}return r},i.Fq=function(t){var n=s.createElement("span");return KI(n,t),n.style.background=this.hq.$P,n},i.Pq=function(t,n,i,r){if(r){var e=RN(r,n);t.style.height=e*i+"px",t.style.left=IN(r)+"%",t.style.top=NN(r,n)+"px"}t.style.fontSize=AN*n*i+"px"},i.Uq=function(t){var n=s.createElement("div");return n.style.margin="0",n.style.padding="0",n.style.unicodeBidi="plaintext",n.style.wordWrap="break-word",n.style.width="auto",n.style.textAlign=t.Gm,function(t,n){"rl"===n.$m?t.style.writingMode="vertical-rl":"lr"===n.$m?t.style.writingMode="vertical-lr":t.style.writingMode="horizontal-tb"}(n,t),function(t,n){var i=yv(n);ON(n)?(t.style.width=i+"%",t.style.height="auto"):(t.style.height=i+"%",t.style.width="auto")}(n,t),function(t,n){var i,r,e=gv(n),u=wv(n),s=yv(n);ON(n)?("line-left"===e?i=u:"center"===e?i=u-s/2:"line-right"===e&&(i=u-s),r=n.Km?0:_v(n)):("line-left"===e?r=u:"center"===e?r=u-s/2:"line-right"===e&&(r=u-s),i=n.Km?0:_v(n));t.style.left=i+"%",t.style.top=r+"%"}(n,t),n.style.background=this.hq.tB,n.style.color=this.hq.JP,n.style.textShadow=ZI(this.hq.nB),n},i.aq=function(t){for(var n=t.hk,i=this.QE,r=i.children,e=0;e<r.length;e++){for(var u=r[e].getElementsByClassName(n),s=0;s<u.length;s++)r[e].removeChild(u[s]);if(0===r[e].childNodes.length){for(var o=0,a=_.keys(this.Oq);o<a.length;o++){var c=a[o];if(vn(r[e].className,mN+c)){delete this.Oq[c];break}}i.removeChild(r[e])}}},T(n,[{key:"Oq",get:function(){return this.Cq||(this.Cq={}),this.Cq}},{key:"Bq",get:function(){return this.Dq||(this.Dq=CN(3)),this.Dq}},{key:"nq",get:function(){return"theoplayer-webvtt-cue-"+TN++}}]),n}(YI);function SN(t,n){if(n.c)for(var i=0,r=n.c;i<r.length;i++){var e=r[i];if(e.gq)for(var u=0,s=e.gq;u<s.length;u++){var o=s[u];Ee(t,kN+o)}}if(n.v)for(var a=0,c=n.v;a<c.length;a++){var h=c[a];h.Sq&&Ee(t,pN+h.Sq)}}function RN(t,n){return t.vk*(AN*n)*bN}function IN(t){return t.wk-t.dk*t.wc/100}function NN(t,n){var i=t.gk,r=t.lk*RN(t,n)/100;return w.max(0,i-r)}function CN(t){var n=s.createElement("div");return n.className=mN+"default",Ie(n),Se(n.style,"inline-flex","-ms-flexbox"),n.style.flexFlow="column",n.style.justifyContent="flex-end",n.style["-ms-flex-align"]="end",n.style.overflow="hidden",n.style.wordWrap="break-word",n.style.writingMode="horizontal-tb",n.style.pointerEvents="none",n.style.maxHeight="100%",n.style.minHeight="0px",n.style.margin="0",n.style.padding="1em",n.style.boxSizing="border-box",n.style.fontSize=AN*t+"px",n.style.lineHeight=bN+"em",n}function DN(t,n){var i=CN(n);i.className=mN+t.Hh;var r=t.wc,e=RN(t,n);return i.style.width=r+"%",i.style.height=e+"px",i.style.left=IN(t)+"%",i.style.top=NN(t,n)+"px",i.style.padding="0",i.style.boxSizing="border-box",i}function ON(t){return""===t.$m}!function(t){t[t.Hq=0]="Hq",t[t.Vq=1]="Vq",t[t.Xq=2]="Xq",t[t.qq=3]="qq",t[t.Wq=4]="Wq",t[t.zq=5]="zq"}(wN||(wN={})),function(t){t[t.Gq=0]="Gq",t[t.jq=1]="jq",t[t.Qq=2]="Qq",t[t.Yq=3]="Yq"}(gN||(gN={}));var xN=15,PN=32,BN=[[42,225],[92,233],[94,237],[95,243],[96,250],[123,231],[124,247],[125,209],[126,241],[127,9608],[128,174],[129,176],[130,189],[131,191],[132,8482],[133,162],[134,163],[135,9834],[136,224],[137,32],[138,232],[139,226],[140,234],[141,238],[142,244],[143,251],[144,193],[145,201],[146,211],[147,218],[148,220],[149,252],[150,8216],[151,161],[152,42],[153,8217],[154,9473],[155,169],[156,8480],[157,8226],[158,8220],[159,8221],[160,192],[161,194],[162,199],[163,200],[164,202],[165,203],[166,235],[167,206],[168,207],[169,239],[170,212],[171,217],[172,249],[173,219],[174,171],[175,187],[176,195],[177,227],[178,205],[179,204],[180,236],[181,210],[182,242],[183,213],[184,245],[185,123],[186,125],[187,92],[188,94],[189,95],[190,124],[191,8764],[192,196],[193,228],[194,214],[195,246],[196,223],[197,165],[198,164],[199,9475],[200,197],[201,229],[202,216],[203,248],[204,9487],[205,9491],[206,9495],[207,9499]].reduce(function(t,n){return t[n[0]]=n[1],t},{}),MN=function(){function t(){this.Zq=[],this.Jq=0;for(var t=0;t<PN;t++)this.Zq.push(null);this.Kq=!1}var n=t.prototype;return n.$q=function(t){for(var n=0;n<PN;n++)t&&(this.Zq[n]=t.Zq[n])},n.Ja=function(t){for(var n=0;n<PN;n++)if(this.Zq[n]!==t.Zq[n])return!1;return!0},n.tW=function(){for(var t=0;t<PN;t++)if(null!==this.Zq[t])return!1;return!0},n.nW=function(t){this.Jq!==t&&(this.Jq=t),this.Jq<0?this.Jq=0:this.Jq>PN&&(this.Jq=PN-1)},n.iW=function(t){var n=this.Jq+t;this.nW(n)},n.rW=function(){this.iW(-1),this.Zq[this.Jq]=null},n.eW=function(t){t>=144&&this.rW();var n,i=BN[n=t]?String.fromCharCode(BN[n]):String.fromCharCode(n);this.Jq>=PN||(32===Number(i)?(this.Zq[this.Jq]=this.Kq?"</i>":"<i>",this.Kq=!this.Kq):this.Zq[this.Jq]=i,this.iW(1))},n.uW=function(t){for(var n=t;n<PN;n++)this.Zq[n]=null},n.Fs=function(){this.uW(0),this.Jq=0},n.sW=function(){this.uW(this.Jq)},n.oW=function(t,n){for(var i=this.Zq,r=null,e=0;e<PN;e++){var u=i[e];null===u?r=null:(r||(r={aW:e,cW:t,wc:0,Z_:1,Zq:[[]]},n.push(r)),r.Zq[0].push(u),r.wc++)}},n.hp=function(t,n){return t.hW(this.Zq,n)},t}();var LN=function(){function t(){this.fW=null,this.vW=[];for(var t=0;t<xN;t++)this.vW.push(new MN);this.dW=xN-1,this.Rh()}var n=t.prototype;return n.$q=function(t){for(var n=0;n<xN;n++)this.vW[n].$q(t.vW[n])},n.Ja=function(t){for(var n=!0,i=0;i<xN;i++)if(!this.vW[i].Ja(t.vW[i])){n=!1;break}return n},n.tW=function(){for(var t=!0,n=0;n<xN;n++)if(!this.vW[n].tW()){t=!1;break}return t},n.Rh=function(){for(var t=0;t<xN;t++)this.vW[t].Fs();this.dW=xN-1},n.eW=function(t){this.vW[this.dW].eW(t)},n.lW=function(){this.vW[this.dW].rW()},n.sW=function(){this.vW[this.dW].sW()},n._W=function(){if(null!==this.fW){var t=this.dW+1-this.fW,n=this.vW[t];n&&(Cn(this.vW,t),n.Fs(),this.vW.splice(this.dW,0,n))}},n.iW=function(t){this.vW[this.dW].iW(t)},n.wW=function(t){this.fW=t},n.gW=function(t){var n=t.yW;this.fW&&n<this.fW-1&&(n=this.fW-1),this.dW=n;var i=this.vW[this.dW];null!==t.mW&&i.nW(t.mW)},n.kW=function(){for(var t=this.vW,n=[],i=0;i<t.length;i++){t[i].oW(i,n)}for(var r=0;r<n.length;r++){for(var e=!1,u=n[r],s=n.length-1;s>r;){var o=n[s];FN(u,o)&&(u=UN(u,o),Cn(n,s),e=!0),s--}e&&(n[r]=u,r--)}return n.map(HN)},n.hp=function(t){return t.pW(this.vW)},t}();function UN(t,n){for(var i=w.min(t.aW,n.aW),r=w.min(t.cW,n.cW),e=w.max(t.aW+t.wc,n.aW+n.wc)-i,u=w.max(t.cW+t.Z_,n.cW+n.Z_)-r,s=new Array(u),o=0;o<u;o++){var a=new Array(e),c=t.Zq[o+r-t.cW];if(c)for(var h=0;h<c.length;h++)c[h]&&(a[h-i+t.aW]=c[h]);var f=n.Zq[o+r-n.cW];if(f)for(var v=0;v<f.length;v++)f[v]&&(a[v-i+n.aW]=f[v]);s[o]=a}return{aW:i,cW:r,wc:e,Z_:u,Zq:s}}function FN(t,n){return t.aW<=n.aW+n.wc&&n.aW<=t.aW+t.wc&&t.cW<=n.cW+n.Z_&&n.cW<=t.cW+t.Z_}function HN(t){for(var n=new Array(t.Z_),i=t.Zq,r=0;r<i.length;r++){for(var e=i[r],u=[],s=!1,o=0;o<e.length;o++){var a=e[o];a?(s||(s=!0,u.push("<c.theoplayer-text-track-fragment>")),u.push(a)):(s&&(s=!1,u.push("</c>")),u.push(" "))}s&&(s=!1,u.push("</c>")),n[r]=u.join("")}var c=n.join("\n");return{aW:t.aW,cW:t.cW,wc:t.wc,Z_:t.Z_,zm:c}}var VN=function(){function t(t,n){this.yW=t,this.mW=n}return t.prototype.Ja=function(t){return this.yW===t.yW&&this.mW===t.mW},t}(),XN=function(){function t(t){this.AW=t,this.bW=this.TW(),this.EW=this.SW()}var n=t.prototype;return n.TW=function(){for(var t=new VN(Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),n=0,i=this.RW;n<i.length;n++){var r=i[n],e=w.min(t.yW,r.IW.yW),u=w.min(t.mW,r.IW.mW);t=new VN(e,u)}return t},n.SW=function(){for(var t=new VN(Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY),n=0,i=this.RW;n<i.length;n++){var r=i[n],e=w.max(t.yW,r.NW.yW),u=w.max(t.mW,r.NW.mW);t=new VN(e,u)}return t},T(t,[{key:"IW",get:function(){return this.bW}},{key:"NW",get:function(){return this.EW}},{key:"RW",get:function(){return Pn(this.AW.map(function(t){return t.RW}))}}]),t}(),qN=function(){function t(t,n){this.iB=t,this.bW=n,this.DW=""}var n=t.prototype;return n.eW=function(t){this.DW+=t},n.OW=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.eW(i)}},T(t,[{key:"xW",get:function(){return this.DW}},{key:"RW",get:function(){return[this]}},{key:"PW",get:function(){return this.iB}},{key:"IW",get:function(){return this.bW}},{key:"NW",get:function(){return new VN(this.IW.yW,this.IW.mW+this.xW.length-1)}}]),t}(),WN=function(){function t(){}var n=t.prototype;return n.BW=function(t){return t.hp(this)},n.pW=function(t){var n=this;return Pn(t.map(function(t,i){return t.hp(n,i)}))},n.hW=function(t,n){return new zN(t,n).MW()},t}(),zN=function(){function t(t,n){this.yW=t,this.LW=n,this.UW=[],this.FW=null}var n=t.prototype;return n.MW=function(){if(this.HW)return[];for(var t=0;t<this.yW.length;t++)this.VW(t);return this.XW(),this.UW},n.qW=function(t){this.FW=new qN($N,new VN(this.LW,t))},n.XW=function(){this.FW&&(this.UW.push(this.FW),this.FW=null)},n.VW=function(t){var n=this.yW[t];GN(n)?this.FW&&this.XW():(this.FW||this.qW(t),this.FW.eW(n))},T(t,[{key:"HW",get:function(){return this.yW.every(GN)}}]),t}();function GN(t){return null==t}var jN,QN=function(t){function n(n,i,r){return t.call(this,n,i,r,!1)||this}return ct(n,t),n}(vv),YN=function(t){function n(n){var i;return(i=t.call(this,"WW")||this).cue=n,i}return ct(n,t),n}(ei);!function(t){t[t.xS=0]="xS",t[t.zW=1]="zW",t[t.GW=2]="GW",t[t.jW=3]="jW",t[t.yn=4]="yn"}(jN||(jN={}));var ZN,JN=function(t){function n(){var n;return(n=t.call(this)||this).Ma=Dv.rc,n.qm=Dv.rc,n.Kh=jN.xS,n.QW=new LN,n.YW=new LN,n.ZW=new LN,n.JW=n.QW,n}ct(n,t);var i=n.prototype;return i.eW=function(t){this.JW.eW(t),this.Kh!==jN.zW&&this.Kh!==jN.GW||this.KW()},i.bv=function(t){t!==this.Kh&&(this.Kh=t,this.Kh===jN.jW?this.JW=this.YW:(this.JW=this.QW,this.JW.Rh()),this.Kh!==jN.GW&&(this.QW.wW(null),this.YW.wW(null)))},i.gW=function(t){this.JW.gW(t)},i.$W=function(){this.bv(jN.jW)},i.tz=function(){this.Kh!==jN.yn&&(this.JW.lW(),this.JW===this.QW&&this.KW())},i.nz=function(){},i.iz=function(){},i.rz=function(){this.JW.sW(),this.KW()},i.ez=function(t){this.JW=this.QW,this.bv(jN.GW),this.JW.wW(t)},i.uz=function(){},i.sz=function(){this.bv(jN.zW)},i.oz=function(){this.bv(jN.yn)},i.az=function(){this.bv(jN.yn)},i.cz=function(){this.QW.Rh(),this.KW()},i.hz=function(){this.JW._W(),this.KW()},i.fz=function(){this.YW.Rh()},i.vz=function(){if(this.Kh===jN.jW){var t=this.QW;this.QW=this.YW,this.YW=t,this.JW=this.YW}this.KW()},i.dz=function(t){this.JW.iW(t)},i.KW=function(){if(null!==this.Ma){if((!this.qm||this.qm.Ok())&&!this.QW.tW())this.qm=this.Ma;else if(!this.QW.Ja(this.ZW)){var t=this.lz();if(this.Ma.Ga(this.qm)){var n=new QN(this.qm.Mk(),this.Ma.Mk(),t);this.vs(new YN(n))}this.qm=this.QW.tW()?null:this.Ma}this.ZW.$q(this.QW)}},i.lz=function(){return function(t){var n=[],i=[].concat(t);for(;i.length>0;){var r=i.pop(),e=void 0;do{e=!1;for(var u=0;u<i.length;u++){var s=i[u];(function(t,n){return w.abs(t.NW.mW-n.IW.mW)<=1||w.abs(n.NW.mW-t.IW.mW)<=1||w.abs(t.NW.yW-n.IW.yW)<=1||w.abs(n.NW.yW-t.IW.yW)<=1}(o=r,a=s)||function(t,n){return KN(t.IW.yW,t.NW.yW,n.IW.yW,n.NW.yW)&&KN(t.IW.mW,t.NW.mW,n.IW.mW,n.NW.mW)}(o,a))&&(r=new XN([].concat(r.RW,s.RW)),Nn(i,s),e=!0)}}while(e&&i.length>0);n.push(r)}var o,a;return n}((new WN).BW(this.ZW))},i.Rh=function(){this.Ma=Dv.rc,this.qm=Dv.rc,this.QW.Rh(),this.QW.wW(null),this.YW.Rh(),this.YW.wW(null),this.ZW.Rh(),this.ZW.wW(null),this.JW=this.QW,this.Kh=jN.xS},n}(ii);function KN(t,n,i,r){return n>=i&&r>=t}!function(t){t.FONT_REGULAR="regular",t.FONT_UNDERLINE="underline",t.FONT_ITALICS="italics",t.FONT_UNDERLINE_ITALICS="underline-italics"}(ZN||(ZN={}));var $N={JP:QI.WHITE,ZP:jI.dq,KP:"100%",$P:QI.BLACK,tB:"transparent",nB:"none",_z:ZN.FONT_REGULAR},tC=[{wz:QI.WHITE,_z:ZN.FONT_REGULAR,mW:0},{wz:QI.WHITE,_z:ZN.FONT_UNDERLINE,mW:0},{wz:QI.GREEN,_z:ZN.FONT_REGULAR,mW:0},{wz:QI.GREEN,_z:ZN.FONT_UNDERLINE,mW:0},{wz:QI.BLUE,_z:ZN.FONT_REGULAR,mW:0},{wz:QI.BLUE,_z:ZN.FONT_UNDERLINE,mW:0},{wz:QI.CYAN,_z:ZN.FONT_REGULAR,mW:0},{wz:QI.CYAN,_z:ZN.FONT_UNDERLINE,mW:0},{wz:QI.RED,_z:ZN.FONT_REGULAR,mW:0},{wz:QI.RED,_z:ZN.FONT_UNDERLINE,mW:0},{wz:QI.YELLOW,_z:ZN.FONT_REGULAR,mW:0},{wz:QI.YELLOW,_z:ZN.FONT_UNDERLINE,mW:0},{wz:QI.MAGENTA,_z:ZN.FONT_REGULAR,mW:0},{wz:QI.MAGENTA,_z:ZN.FONT_UNDERLINE,mW:0},{wz:QI.WHITE,_z:ZN.FONT_ITALICS,mW:0},{wz:QI.WHITE,_z:ZN.FONT_UNDERLINE_ITALICS,mW:0},{wz:QI.WHITE,_z:ZN.FONT_REGULAR,mW:0},{wz:QI.WHITE,_z:ZN.FONT_UNDERLINE,mW:0},{wz:QI.WHITE,_z:ZN.FONT_REGULAR,mW:4},{wz:QI.WHITE,_z:ZN.FONT_UNDERLINE,mW:4},{wz:QI.WHITE,_z:ZN.FONT_REGULAR,mW:8},{wz:QI.WHITE,_z:ZN.FONT_UNDERLINE,mW:8},{wz:QI.WHITE,_z:ZN.FONT_REGULAR,mW:12},{wz:QI.WHITE,_z:ZN.FONT_UNDERLINE,mW:12},{wz:QI.WHITE,_z:ZN.FONT_REGULAR,mW:16},{wz:QI.WHITE,_z:ZN.FONT_UNDERLINE,mW:16},{wz:QI.WHITE,_z:ZN.FONT_REGULAR,mW:20},{wz:QI.WHITE,_z:ZN.FONT_UNDERLINE,mW:20},{wz:QI.WHITE,_z:ZN.FONT_REGULAR,mW:24},{wz:QI.WHITE,_z:ZN.FONT_UNDERLINE,mW:24},{wz:QI.WHITE,_z:ZN.FONT_REGULAR,mW:28},{wz:QI.WHITE,_z:ZN.FONT_UNDERLINE,mW:28}],nC=[11,-1,1,2,3,4,12,13,14,15,5,6,7,8,9,10],iC=function(t){function n(){var n;(n=t.call(this)||this).gz=null,n.yz=null,n.mz=0;var i=new JN;return n.kz=[i,new JN],i.ls("WW",n.fs),n}ct(n,t);var i=n.prototype;return i.Rh=function(){for(var t=0,n=this.kz;t<n.length;t++){n[t].Rh()}},i.pz=function(t,n){if(n.Cu===gN.Gq&&n.Az){n.bz&&(this.mz=0),this.kz[this.mz].Ma=t;var i=127&n.Tz,r=127&n.Ez;if(i+r!==0){switch(i){case 17:r>=32&&r<=47&&this.Sz(),r>=48&&r<=63&&this.Rz(i,r);break;case 18:case 19:r>=32&&r<=63&&this.Rz(i,r);break;case 20:case 21:r>=32&&r<=47&&this.Iz(i,r);break;case 23:r>=33&&r<=35&&this.Iz(i,r),r>=46&&r<=47&&this.Sz()}16===i&&r>=64&&r<=95?this.Nz(i,r):i>=17&&i<=23&&r>=64&&r<=127&&this.Nz(i,r),i>=32&&this.Rz(i,r)}}},i.Iz=function(t,n){var i=null;if(t===this.gz&&n===this.yz)return this.gz=null,this.yz=null,!0;i=20===t||23===t?0:1;var r=this.kz[i];return 20===t||28===t?32===n?r.$W():33===n?r.tz():34===n?r.nz():35===n?r.iz():36===n?r.rz():37===n?r.ez(2):38===n?r.ez(3):39===n?r.ez(4):40===n?r.uz():41===n?r.sz():42===n?r.oz():43===n?r.az():44===n?r.cz():45===n?r.hz():46===n?r.fz():47===n&&r.vz():r.dz(n-32),this.gz=t,this.yz=n,this.mz=i,!0},i.Nz=function(t,i){t===this.gz&&i===this.yz&&(this.gz=null,this.yz=null);var r=t<=23?0:1,e=nC[t<<1&14|i>>5&1]-1;if(!(e<0)){var u=n.Cz(e,i);this.kz[r].gW(u),this.gz=t,this.yz=i,this.mz=r}},n.Cz=function(t,n){var i=n>95?n-96:n-64;return{wz:tC[i].wz,_z:tC[i]._z,mW:tC[i].mW,yW:t}},i.Rz=function(t,n){var i=t>=25?t-8:t,r=this.kz[this.mz],e=!1;switch(i){case 17:r.eW(n+80),e=!0;break;case 18:r.eW(n+112),e=!0;break;case 19:r.eW(n+144),e=!0;break;default:t>=32&&(r.eW(t),n>=32&&r.eW(n),e=!0)}e&&(this.gz=null,this.yz=null)},i.Sz=function(){this.kz[this.mz].JW.iW(1)},i.Ih=function(){this.gs()},T(n,[{key:"ww",get:function(){return this.kz.length}}]),n}(ii),rC=function(){function t(t,n,i){this.Dz=t,this.Oz=n,this.jX=i}var n=t.prototype;return n.xz=function(){return this.Pz=this.Bz(),this.Mz(),this.Lz(),this.Pz},n.Bz=function(){var t=s.createElement("div");return t.style.position="absolute",t.style.margin="0",t.style.padding="0",t.style.whiteSpace="pre",t.style.width=this.Uz/PN*this.Oz.Fz*100+"%",t.style.height=1.2*this.Hz+"em",t.style.lineHeight="1.2em",t.style.letterSpacing=this.Oz.Vz?"calc(1em - 1ch)":"",t.style.fontFamily=this.jX.ZP,t.style.backgroundColor=this.jX.tB,t},n.Mz=function(){var t=this.Xz.yW/xN*100,n=this.Xz.mW/PN*100,i=(PN-this.qz.mW-1)/PN*100,r=(xN-this.qz.yW-1)/xN*100;this.Oz.Wz||(n=i=1,this.Pz.style.width="98%"),r<t?this.Pz.style.bottom=r*this.Oz.Fz+"%":this.Pz.style.top=t*this.Oz.Fz+"%",i<n?this.Pz.style.right=i+"%":this.Pz.style.left=n+"%"},n.Lz=function(){for(var t=this.Dz.RW.sort(eC),n=0;n<t.length;n++)this.zz(t[n-1],t[n]),this.Gz(t[n]);this.zz(t[t.length-1],null)},n.Gz=function(n){var i=zI(this.jX,n.PW),r=t.jz(i);KI(r,n.xW),this.Pz.appendChild(r)},t.jz=function(t){var n=s.createElement("span");return n.style.display="inline-block",t._z!==ZN.FONT_ITALICS&&t._z!==ZN.FONT_UNDERLINE_ITALICS||(n.style.fontStyle="italic"),t._z!==ZN.FONT_UNDERLINE&&t._z!==ZN.FONT_UNDERLINE_ITALICS||(n.style.textDecoration="underline"),n.style.color=t.JP,n.style.backgroundColor=t.$P,n.style.textShadow=ZI(t.nB),n.style.height="1.2em",n},n.zz=function(t,n){var i=t?t.NW.yW:this.Dz.IW.yW,r=n?n.IW.yW:this.Dz.NW.yW,e=t?t.NW.mW:this.Dz.IW.mW,u=n?n.IW.mW:this.Dz.NW.mW;i<r&&(!n||t&&t.IW.yW!==n.IW.yW?this.Qz():this.Yz(this.Dz.NW.mW-e),e=this.Dz.IW.mW),e<u&&(n?this.Yz(u-e):this.Qz())},n.Qz=function(){var t=s.createElement("br");this.Pz.appendChild(t)},n.Yz=function(t){if(!(t<=0)){var n=s.createElement("span");n.style.display="inline-block",KI(n,wn(" ",t)),this.Pz.appendChild(n)}},T(t,[{key:"Xz",get:function(){return this.Dz.IW}},{key:"qz",get:function(){return this.Dz.NW}},{key:"Uz",get:function(){return this.Dz.NW.mW-this.Dz.IW.mW+1}},{key:"Hz",get:function(){return this.Dz.NW.yW-this.Dz.IW.yW+1}}]),t}();function eC(t,n){return function(t,n){if(t.yW!==n.yW)return t.yW-n.yW;return t.mW-n.mW}(t.IW,n.IW)}var uC=0;var sC=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,$N)||this}ct(n,t);var i=n.prototype;return i.QX=function(t){var n=s.createElement("div");return n.className="theoplayer-cea608-texttrack-"+t,n.style.position="absolute",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.height="100%",this.hq.ZP&&(n.style.fontFamily=this.hq.ZP),n},i.zX=function(t,n){this.Zz()},i.Zz=function(){var t,n=GI(this.hq);this.Jz={Fz:(t=100*n)/100,Vz:t<=100,Wz:t<=150};var i=this.Kz/PN;this.$z=i*n,this.QE.style.fontSize=this.$z+"px"},i.oq=function(t){var n=this;return this.Jz&&this.Jz.Wz?this.tG(80):this.tG(100),this.Zz(),t.zm.map(function(t){return new rC(t,n.Jz,n.hq).xz()})},i.tG=function(t){var n=(100-t)/2;this.QE.style.left=n+"%",this.QE.style.width=t+"%"},T(n,[{key:"Kz",get:function(){var t=this.QE.offsetWidth;return this.Jz&&this.Jz.Wz||(t*=.8),t}},{key:"nq",get:function(){return"theoplayer-cea608-texttrack-"+uC++}}]),n}(YI),oC=function(){function t(t,n,i,r,e){var u=this;this.nG=[],this.iG=function(t){var n=t.$c;n.ls(No.dh,u.rG),n.ls(No._h,u.rG),n instanceof cI&&(n.aH=u.aH),u.eG(n)},this.rG=function(t){var n=t.$c;u.eG(n)},this.uG=function(t){var n=t.$c;n.ys(No.dh,u.rG),n.ys(No._h,u.rG),u.sG(n)},this.oG=function(){for(var t=u.aH,n=0,i=u.dd.Nh;n<i.length;n++){var r=i[n];r instanceof cI&&(r.aH=t)}},this.aG=function(){for(var t=0,n=u.nG;t<n.length;t++){n[t].ZX(u.FS)}},this.cG=t,this.tX=n,this.dd=i,this.hG=e,this.FS=r,this.dd.ls(bo.Gc,this.iG),this.dd.ls(bo.Qc,this.uG),this.dd.ls("vh",this.rG),this.hG.ls(ba.fh,this.oG),this.FS.ls("vh",this.aG),this.oG()}var n=t.prototype;return n.fG=function(t){for(var n=0,i=this.nG;n<i.length;n++){var r=i[n];if(r.$c===t)return r}},n.vG=function(t){switch(t.Cu){case qh.TTML:case qh.SRT:case qh.WEBVTT:case qh.CEA608:return!0}return!1},n.dG=function(t){switch(t.Cu){case qh.TTML:return new eN(t,this.cG,t.qh,this.tX);case qh.SRT:case qh.WEBVTT:return new EN(t,this.cG,t.qh,this.tX);case qh.CEA608:return new sC(t,this.cG,t.qh,this.tX)}},n.lG=function(t){var n=this.fG(t);n||((n=this.dG(t)).ZX(this.FS),this.nG.push(n),t.Kh===ea.Yh&&n.iq())},n.sG=function(t){for(var n=this.nG,i=n.length-1;i>=0;i-=1){var r=n[i];r.$c===t&&(r.Ih(),Cn(n,i))}},n.eG=function(t){var n;(n=t.Xh)!==cf.km&&n!==cf.pm||!this.vG(t)||(t.$h===Yf.ERROR?this.sG(t):this.lG(t))},n.Rh=function(){for(var t=0,n=this.nG;t<n.length;t++){var i=n[t];i.$c.ys(No.dh,this.rG),i.$c.ys(No._h,this.rG),i.Ih()}xn(this.nG)},n.Ih=function(){this.Rh();for(var t=0,n=this.nG;t<n.length;t++){n[t].Ih()}this.dd.ys(bo.Gc,this.iG),this.dd.ys(bo.Qc,this.uG),this.dd.ys("vh",this.rG),this.hG.ys(ba.fh,this.oG),this.FS.ys("vh",this.aG)},T(t,[{key:"aH",get:function(){return this.hG.Sv}}]),t}();function aC(t){for(var n=new kT,i=function(t){var n=[];return yT.fO(t)&&n.push(new yT(t)),mT.fO(t)&&n.push(new mT(t)),n}(t),r=0;r<i.length;r++){var e=i[r];n.wO(e)}return n._O(i[0]),n}var cC=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r)||this)._G=aC(n),u.FS=e,u.wG=new WI,u.gG=new oC(u.wG.Xd,u.RB,u.yd,u.FS,u.hS),u}ct(n,t);var i=n.prototype;return i.Od=function(){return this.ia},i.$u=function(){var n=Ct.coroutine(Nt.mark(function n(){return Nt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this._G.Ih(),this.wG.Ih(),this.gG.Ih(),n.next=5,t.prototype.$u.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i.Dd=function(){t.prototype.Dd.call(this),this.wG.Dd()},i.Cd=function(){t.prototype.Cd.call(this),this.wG.Cd()},i.IX=function(n){t.prototype.IX.call(this,n),this.wG.IX(n)},T(n,[{key:"QE",get:function(){return this.ia}},{key:"zv",get:function(){return this.ia.videoHeight}},{key:"Gv",get:function(){return this.ia.videoWidth}},{key:"hS",get:function(){return this._G}}]),n}(LI),hC=2,fC=[Jh.$l,Jh.Kl];function vC(t){var n=s.createElement(t);return Ce(n)&&function(t){t.addEventListener("contextmenu",function(t){t.preventDefault()})}(n),dC(n),n}function dC(t){t.removeAttribute("id"),t.removeAttribute("class"),t.removeAttribute("style"),function(t){if(t)for(var n;n=t.firstChild;)t.removeChild(n)}(t),De(t),t.pause(),t.playbackRate=1,t.preload=pg._m,t.controls=!1,t.style.display="none",Ce(t)&&(t.style.width="100%",t.style.height="100%",t.style.pointerEvents="none",t.playsInline=!0,t.setAttribute("webkit-playsinline",""))}function lC(t,n){if(n.ac){var i=t.muted;t.muted=!0,t.muted=!1,t.muted=i}else if(t.paused){var r=t.play();W(r)&&Qn(r),t.pause()}}var _C;Ft=(_C={yG:function(){function t(t,n,i,r,e){void 0===i&&(i=hC),void 0===r&&(r=fC),void 0===e&&(e=Ue()),this.mG=i,this.kG=[].concat(r),this.Uu=e,this.tX=t,this.FS=n,this.pG=xt(),this.AG()}var n=t.prototype;return n.VS=function(t){for(var n=0,i=this.ZS;n<i.length;n++){i[n].IX(t)}},n.GE=function(t){var n=Rn(this.pG.get(t),function(t){return t.bG});if(n)return n.bG=!1,n.TG},n.dS=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i,r,e;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.QE,r=i.tagName.toLowerCase(),t.next=4,n.Rh();case 4:dC(i),(e=Rn(this.pG.get(r)||[],function(t){return n===t.TG}))&&(e.bG=!0);case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.jS=function(){for(var t=0,n=this.EG;t<n.length;t++){lC(n[t],r.Pc)}},n.Ih=function(){for(var t=0,n=this.ZS;t<n.length;t++){var i=n[t],r=i.QE;i.$u(),dC(r),Te(r)}},n.AG=function(){for(var t=0,n=this.kG;t<n.length;t++){var i=n[t],r=[];this.pG.set(i,r);for(var e=0;e<this.mG;e++){var u=vC(i),s=i===Jh.$l?new XI(u,this.Uu,this.tX):new cC(u,this.Uu,this.tX,this.FS);r.push({TG:s,bG:!0})}}},T(t,[{key:"ZS",get:function(){for(var t=[],n=0,i=this.kG;n<i.length;n++){var r=i[n],e=this.pG.get(r).map(function(t){return t.TG});t.push.apply(t,e)}return t}},{key:"EG",get:function(){return this.ZS.map(function(t){return t.QE})}}]),t}(),SG:function(){function t(n){var i=this;this.HS=n,this.RG=new Dl,this.IG=Ct.coroutine(Nt.mark(function n(){var r,e,u;return Nt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=i.HS.GE(Jh.Kl),e=r.QE,n.next=4,t.NG(e);case 4:return u=n.sent,n.next=7,i.HS.dS(r);case 7:return n.abrupt("return",u);case 8:case"end":return n.stop()}},n)}))}var n=t.prototype;return n.sM=function(){return this.RG.LA(this.IG)},n.Rd=function(){this.HS.jS()},t.NG=function(){var n=Ct.coroutine(Nt.mark(function n(i){return Nt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i.src||(i.src="data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw"),n.next=3,t.CG();case 3:return n.next=5,t.DG(i);case 5:if(!n.sent){n.next=7;break}return n.abrupt("return","all");case 7:return n.next=9,t.OG(i);case 9:if(!n.sent){n.next=11;break}return n.abrupt("return","muted");case 11:return n.abrupt("return","none");case 12:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}(),t.DG=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n.play(),t.prev=1,W(i)){t.next=4;break}return t.abrupt("return",!P.Vt);case 4:return t.next=6,i;case 6:return t.abrupt("return",!0);case 9:return t.prev=9,t.t0=t.catch(1),t.abrupt("return",!1);case 12:return t.prev=12,n.pause(),t.finish(12);case 15:case"end":return t.stop()}},t,null,[[1,9,12,15]])}));return function(n){return t.apply(this,arguments)}}(),t.OG=function(){var n=Ct.coroutine(Nt.mark(function n(i){var r;return Nt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i.muted=!0,n.next=3,t.DG(i);case 3:return r=n.sent,i.muted=!1,n.abrupt("return",r);case 6:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}(),t.CG=function(){return new Ct(function(t){if("function"==typeof MessageChannel){var n=new MessageChannel;n.port1.onmessage=function(){return t()},n.port2.postMessage("")}else c(t,0)})},n.Ih=function(){this.RG.Ih()},t}(),xG:{hI:function(t){Xt.addEventListener("beforeunload",t)},AI:function(t){Xt.removeEventListener("beforeunload",t)}},PG:u}).yG,Ht=_C.SG,Vt=_C.xG,Xt=_C.PG,qt=Xt&&Xt.location,Wt=Xt&&Xt.navigator;var wC=[];function gC(){wC.shift()()}function yC(t){wC.push(t),c(gC,0)}var mC=function(){function t(t){this.BG=t}var n=t.prototype;return n.MG=function(t){return this.LG=this.LG||{},void 0===this.LG[t]&&(this.LG[t]=[]),this.LG[t]},n.addEventListener=function(t,n){var i=this.MG(t);-1===i.indexOf(n)&&i.push(n)},n.ef=function(t){(this.UG||(this.UG=[])).push(t)},n.removeEventListener=function(t,n){var i=this.MG(t);n?Nn(i,n):i.length=0},n.uf=function(t){var n=this.UG;n&&Nn(n,t)},n.gs=function(){this.LG=void 0},n.dispatchEvent=function(t,n){if(n)return yC(this.dispatchEvent.bind(this,t));"string"==typeof t&&(t={type:t});for(var i=this.MG(t.type).slice(),r=this.UG&&this.UG.slice(),e=0;e<i.length;e++){i[e].call(this.BG||this,t)}if(r)for(var u=0;u<r.length;u++){r[u].call(this.BG||this,t)}},n.FG=function(t){return Boolean(this.LG&&this.LG[t]&&this.LG[t].length)},n.HG=function(){return this.LG?_.keys(this.LG):[]},t}(),kC=function(){function t(){this.VG=[]}var n=t.prototype;return n.XG=function(t,n){var i=this.VG[t];return i?new i(n):null},n.hM=function(t,n){this.VG[t]=n},t}();kC.dn=new kC;var pC,AC=function(t){function n(n,i){var r,e=TC[n];return(r=t.call(this,e?e.Es:"")||this).code=n,r.info=i,r.helpLink=e&&e.qG,r.helpLinkText=e&&e.WG,r}return ct(n,t),T(n,[{key:"name",get:function(){return"THEOplayerError"}}]),n}(lt);!function(t){t.zG="LICENSE_INVALID",t.GG="MANIFEST_NOT_FOUND",t.jG="MANIFEST_CORS_ERROR",t.QG="INVALID_HLS_MANIFEST",t.YG="PLAYBACK_ISSUE",t.ZG="AUDIO_ISSUE",t.JG="BROWSER_SUPPORT_ISSUE",t.KG="INVALID_KEY",t.$G="DECRYPTION_ERROR",t.tj="AD_BLOCK_DETECTED",t.nj="THEOPLAYER_NOT_INITIALIZED",t.Zh="ERROR",t.ij="MANIFEST_SEQUENCE_RESET_ERROR",t.rj="PLAYER_INCORRECTLY_CONFIGURED",t.ej="UNSUPPORTED"}(pC||(pC={}));for(var bC=[{$s:pC.zG,Es:"The license for this player is invalid. Please contact your service provider for additional information."},{$s:pC.GG,Es:"Could not load the manifest file."},{$s:pC.jG,Es:"Could not load the manifest file. Make sure the source is set correctly and that CORS support is enabled.",qG:"https://www.theoplayer.com/documentation/cors.html",uj:!1},{$s:pC.QG,Es:"The source of the player is an invalid HLS manifest.",qG:"https://developer.apple.com/library/ios/technotes/tn2288/_index.html"},{$s:pC.YG,Es:"There appears to be a playback issue."},{$s:pC.ZG,Es:"There is an audio issue. Please contact your service provider with the code below for additional information."},{$s:pC.JG,Es:"Your browser doesn't support a feature. Try upgrading your browser or please contact your service provider referring to the code below."},{$s:pC.KG,Es:"There is an invalid key being decrypted. Please contact your service provider with the code below for additional information."},{$s:pC.$G,Es:"There is a decryption error. Please contact your service provider with the code below for additional information."},{$s:pC.tj,Es:"An ad blocker was detected. Please turn it off and refresh the page in order to watch this video."},{$s:pC.nj,Es:"THEOplayer hasn't been initialized yet. Please check your configuration or wait."},{$s:pC.Zh,Es:"THEOplayer encountered an error. If this issue holds, please contact your service provider."},{$s:pC.ij,Es:"The video stream has been reset. THEOplayer will attempt to reload the source."},{$s:pC.rj,Es:"The player is incorrectly configured.",qG:"https://support.theoplayer.com/hc/en-us/articles/214343065-Player-API"},{$s:pC.ej,Es:"This browser does not allow you to watch this video. Try to update your browser or use a different browser."}],TC={},EC=0;EC<bC.length;EC++){var SC=bC[EC];TC[SC.$s]=SC}function RC(t){return t.sj}var IC=function(){function t(){this.EI=[],this.oj={},this.aj=0}var n=t.prototype;return n.cj=function(t){var n=this.oj[t];return void 0===n?-1:n-this.aj},n.hj=function(t){return this.EI[t]},n.fj=function(t){return this.hj(this.cj(t))},n.vj=function(t){return!!this.hj(t)},n.dj=function(t){return!!this.fj(t)},n.lj=function(){return this.EI},n.Wa=function(t){var n,i=this.EI,r=i.length?i[i.length-1]:null;if(this.cj(t.sj)>=0)return!1;if(r&&t.sj>r.sj)n=i.length;else{var e=YS(this.EI,t.sj,RC,Js);if(e>=0)return!1;n=-(e+1)}return this._j(t,n),!0},n.lo=function(t){var n=this.EI,i=this.oj,r=this.cj(t.sj);return!(r<0)&&(n.splice(r,0,t),delete i[t.sj],this.wj(r),!0)},n.gj=function(t){var n=this.EI,i=this.oj;t=w.min(t,n.length);for(var r=0;r<t;r++)delete i[n[r].sj];n.splice(0,t),this.aj+=t},n._j=function(t,n){var i=this.EI;n>=i.length?i.push(t):i.splice(n,0,t),this.wj(n)},n.wj=function(t){for(var n=this.EI,i=this.oj,r=this.aj,e=n.length,u=t;u<e;u++)i[n[u].sj]=u+r},T(t,[{key:"Ch",get:function(){return this.EI.length}}]),t}(),NC=function(){function t(t,n,i){this.yj=t,this.mj=n,this.kj=i}var n=t.prototype;return n.compute=function(){return this.yj.live?this.yj.pj?this.yj.Aj:this.estimateDiscontinuitySequenceNumber():0},n.estimateDiscontinuitySequenceNumber=function(){var t=0;return this.kj&&(t+=this.bj()),this.Tj()&&(t+=this.Ej(t)),t},n.Tj=function(){return void 0!==this.mj.Sj.fj(this.yj.fragments[0].sj)},n.Ej=function(t){var n=this.yj.fragments[0];return this.mj.Sj.fj(n.sj).Rj-(n.Rj+t)||0},n.bj=function(){var t=CC(this.yj),n=CC(this.kj.Ij),i=this.estimateMinimalOffset(n,t);return this.getOldDiscontinuitySequenceNumber(this.kj)+i},n.estimateMinimalOffset=function(t,n){for(var i=0,r=1/0,e=0;e<t.length;e+=1){for(var u=0,s=0;s<n.length+t.length;s+=1){var o=t[s]||0,a=n[s-e]||0;u+=w.abs(o-a)}u<r&&(i=e,r=u)}return i},n.getOldDiscontinuitySequenceNumber=function(t){return t.Ij.fragments.length?this.kj.Nj(t.Ij.fragments[0].sj).Rj:0},t}();function CC(t){for(var n=[],i=0,r=0,e=t.fragments;r<e.length;r++){var u=e[r];u.Cj&&(n.push(i),i=0),i+=u.duration}return n.push(i),n}var DC=function(t){function n(n){return t.call(this,$f.gh,n)||this}return ct(n,t),n.prototype.Kc=function(){return new OC(this.Xm.Jc)},n}(uv),OC=function(t){function n(n){return t.call(this,tv.gh,n)||this}return ct(n,t),n}(sv),xC=function(t){function n(n,i){var r,e=PC(i,n.Uv,n.wS,n.Dj);return(r=t.call(this,i,e,void 0,!1,n.Hh)||this).Oj=n.xj,r.Pj=n.wS,r.Bj=n.Dj,r.GU=n.Uv,r.Mj=n.Lj,r.Uj=Boolean(n.Fj),r.Hj=n.Vj||{},r.Xj=n.qj,r.Wj=n.zj,r.Gj=n.jj,r.Qj(),r.Yj(),r}ct(n,t);var i=n.prototype;return i._o=function(t){var n=!1;void 0===this.Oj&&void 0!==t.xj&&(n=!0,this.Oj=t.xj),void 0===this.Bj&&void 0!==t.Dj&&(n=!0,this.Bj=t.Dj),void 0===this.GU&&void 0!==t.Uv&&(n=!0,this.GU=t.Uv),void 0===this.Mj&&void 0!==t.Lj&&(n=!0,this.Mj=t.Lj),!this.Uj&&t.Fj&&(n=!0,this.Uj=t.Fj),n=this.updateCustomAttributes(t,n),void 0===this.Xj&&void 0!==t.qj&&(n=!0,this.Xj=t.qj),void 0===this.Wj&&void 0!==t.zj&&(n=!0,this.Wj=t.zj),void 0===this.Gj&&void 0!==t.jj&&(n=!0,this.Gj=t.jj),this.Qj(),this.Yj(),this.Zj(),n&&this.vs(new DC(this))},i.updateCustomAttributes=function(t,n){var i=n;if(t.Vj)for(var r=0,e=_.keys(t.Vj);r<e.length;r++){var u=e[r];void 0===this.Hj[u]&&(i=!0,this.Hj[u]=t.Vj[u])}return i},i.Qj=function(){this.GU&&!this.Bj&&(this.Bj=new Date(this.Pj.getTime()+1e3*this.GU))},i.Yj=function(){this.Bj&&!this.GU&&(this.GU=at(this.Bj.getTime()-this.Pj.getTime()))},i.Zj=function(){this.uk===1/0&&(this.Bj||this.GU)&&(this.uk=PC(this.ek,this.GU,this.Pj,this.Bj))},T(n,[{key:"Jc",get:function(){var t;return this.Zc||(this.Zc=Xo(ov(t=this),{get content(){return t.zm},get class(){return t.xj},get startDate(){return t.wS},get endDate(){return t.Dj},get duration(){return t.Uv},get plannedDuration(){return t.Lj},get endOnNext(){return t.Fj},get scte35Cmd(){return t.qj},get scte35Out(){return t.zj},get scte35In(){return t.jj},get customAttributes(){return t.Vj}})),this.Zc}},{key:"xj",get:function(){return this.Oj}},{key:"wS",get:function(){return this.Pj}},{key:"Dj",get:function(){return this.Bj}},{key:"Uv",get:function(){return this.GU}},{key:"Lj",get:function(){return this.Mj}},{key:"Fj",get:function(){return this.Uj}},{key:"qj",get:function(){return this.Xj}},{key:"zj",get:function(){return this.Wj}},{key:"jj",get:function(){return this.Gj}},{key:"Vj",get:function(){return this.Hj}}]),n}(vv);function PC(t,n,i,r){return L(n)?t+n:r?t+(at(r.getTime())-at(i.getTime())):1/0}var BC,MC,LC,UC,FC,HC=function(t){function n(){return t.call(this,void 0,void 0,qh.DATE_RANGE)||this}ct(n,t);var i=n.prototype;return i._o=function(t,n){var i=this;t=function(t){for(var n=xt(),i=[],r=0;r<t.length;r++){var e=t[r];if(n.has(e.Hh)){var u=n.get(e.Hh),s=Dt(Dt(Dt({},u),Go(e)),{Vj:Dt(Dt({},u.Vj),e.Vj)});n.set(e.Hh,s)}else n.set(e.Hh,e),i.push(e.Hh)}return i.map(function(t){return n.get(t)})}(t);for(var r=this.tf.Nh,e=function(n){var e=r[n],u=Rn(t,function(t){return t.Hh===e.Hh});u?e._o(u):i.TF(e)},u=r.length-1;u>=0;u--)e(u);for(var s=0,o=t;s<o.length;s++){var a=o[s],c=a.wS;if(void 0!==c&&!this.AF(a.Hh)){var h=n(c);this.NA(new xC(a,h))}}},i.NA=function(n){this.Jj(n),t.prototype.NA.call(this,n)},i.Jj=function(t){var n=this.hF.filter(function(n){return n.xj===t.xj}).pop();n&&n.Fj&&n._o({Hh:n.Hh,Dj:t.wS})},n}(gI);function VC(t){return XC(t)?{rA:t.Kj,$j:[t.$j.Ry,t.$j.Ny],fA:!0}:{rA:t.toString(),fA:!0}}function XC(t){return void 0!==t.$j}function qC(t){return t&&t.tQ&&Uv(t.tQ)||!1}function WC(t){if(!t)return Dv.rc;if(!qC(t))return Dv.Jk(t.duration);var n=t.nQ||Dv.rc,i=t.iQ||Dv.rc,r=Dv.Jk(t.duration);return n.Ok()||i.Ok()?n.Ok()?i.Ok()?r.Ok()?Dv.rc:r:i:n:Dv.Xa(n,i)}function zC(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.DA)return i}return null}function GC(t){return zC(t)||function(t){return t.filter(function(t){return t.rQ})}(t)[0]||t[0]}function jC(t,n){for(var i=0;i<n.length;i++){var r=n[i];Dn(t,r)||t.push(r)}return t}function QC(t){switch(t){case UC.Kl:case UC.eQ:return Jh.Kl;case UC.$l:return Jh.$l}}!function(t){t.uQ="alternative",t.sQ="main",t.oQ="commentary",t.aQ="",t.Am="descriptions",t.cQ="main-desc",t.hQ="translation"}(BC||(BC={})),function(t){t.uQ="alternative",t.sQ="main",t.oQ="commentary",t.aQ="",t.pm="captions",t.fQ="sign",t.km="subtitles"}(MC||(MC={})),function(t){t.Kl="video",t.$l="audio",t.vQ="closedCaption",t.dQ="variant"}(LC||(LC={})),function(t){t[t.Ty=-1]="Ty",t[t.$l=0]="$l",t[t.Kl=1]="Kl",t[t.eQ=2]="eQ"}(UC||(UC={})),function(t){t[t.Ty=-1]="Ty",t[t.lQ=1]="lQ",t[t._Q=2]="_Q",t[t.wQ=3]="wQ",t[t.gQ=4]="gQ"}(FC||(FC={})),function(t){t.yQ=function(n){return n>=t._Q},t.mQ=function(n){return n===t._Q||n===t.wQ}}(FC||(FC={}));var YC=function(t){function n(){var n;return(n=t.call(this)||this).kQ=[],n.pQ=function(){return n.dispatchEvent("AQ")},n.bQ=function(){return n.dispatchEvent("TQ")},n}ct(n,t);var i=n.prototype;return i.Wa=function(t){this.kQ.push(t),t.addEventListener("TQ",this.bQ),t.addEventListener("EQ",this.pQ),this.dispatchEvent("SQ"),t.disabled||this.dispatchEvent("AQ")},i.lo=function(t){var n=this.kQ.indexOf(t);n<0||(Cn(this.kQ,n),t.removeEventListener("TQ",this.bQ),t.removeEventListener("EQ",this.pQ),this.dispatchEvent("SQ"),t.disabled||this.dispatchEvent("AQ"))},i.Fs=function(){for(var t=!!this.RQ.length,n=!!this.IQ.length,i=0,r=this.kQ;i<r.length;i++){r[i].removeEventListener("EQ",this.pQ)}this.kQ.length=0,t&&this.dispatchEvent("SQ"),n&&this.dispatchEvent("AQ")},i.Ih=function(){this.gs(),this.Fs()},T(n,[{key:"RQ",get:function(){return this.kQ}},{key:"IQ",get:function(){return this.kQ.filter(function(t){return!t.disabled})}}]),n}(mC);function ZC(t){if(!t)return null;for(var n={NQ:"",CQ:"",DQ:""},i=t.toLowerCase().split(","),r=0;r<i.length;r++){var e=i[r],u=e.trim();"mp4a.40.5"===u||"mp4a.40.05"===u?n.NQ="mp4a.40.5":"mp4a.40.2"===u||"mp4a.40.02"===u?n.NQ="mp4a.40.2":"mp4a.40.29"===u?n.NQ="mp4a.40.29":0===u.indexOf("mp4a.40.3")?n.NQ=u:"ec-3"===u?n.NQ=u:0===u.indexOf("avc")?n.CQ=e:n.DQ+=","+u}return n}var JC=function(t){function n(n,i,r,e,u,s,o,a,c,h,f,v,d,l,_,w){var g;return void 0===_&&(_=BC.sQ),(g=t.call(this)||this).OQ=new IC,g.xQ=NaN,g.PQ=void 0,g.BQ=void 0,g.mF=void 0,g.MQ=void 0,g.LQ=!1,g.UQ=null,g.FQ=!1,g.HQ=!0,g.VQ=!0,g.XQ=!0,g.qQ=void 0,g.WQ=void 0,g.zQ=void 0,g.GQ=void 0,g.jQ=void 0,g.QQ=void 0,g.YQ=null,g.ZQ=void 0,g.JQ=void 0,g.KQ=n,g.$Q=Boolean(l),g.bT=i,g.Dm=r||0===r?r:-1,g.tY=e,g.JC=u,g.nY=Boolean(s),g.iY=Boolean(o),g.rY=ZC(a),g.eY=w,g.uY=c,g.MQ=h,g.sY=f,g.BQ=v,g.mF=d,g.yF=_,g}ct(n,t),n.createFromPlaylistStream=function(t,i,r){return new n(t,i.name||i.media&&i.media.name||void 0,i.id,i["average-bandwidth"],i.uri,void 0,void 0,i.codecs,i.sj,i.audio,i.resolution,i.bandwidth,i.media?i.media.language:void 0,r,t.oY[0]?t.oY[0].Xh:BC.sQ)},n.createFromPlaylistMedia=function(t,i,r,e){return new n(t,i.name,i.id,void 0,i.uri,!!i.default&&"yes"===i.default.toLowerCase(),i.autoselect?"yes"===i.autoselect.toLowerCase():void 0,void 0,void 0,void 0,void 0,void 0,i.language,r,function(t){if(t.default&&"yes"===t.default.toLowerCase())return t.characteristics&&vn(t.characteristics,"public.accessibility.describes-video")?BC.cQ:BC.sQ;if(t.characteristics&&vn(t.characteristics,"public.accessibility.describes-video"))return BC.Am;return BC.uQ}(i),e)},n.createFromUri=function(t,i,r){return new n(t,void 0,void 0,void 0,i,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,r)};var i=n.prototype;return i.aY=function(t,n){var i=oy(),r=new NC(t,this,n).compute(),e=this.cY(t.fragments),u=e.oldFragments,s=e.newFragments;this.hY(u,i),this.fY(s,i,r),this.PQ!==t&&this.vY(!0),this.PQ=t,this.dispatchEvent({type:"dY",lY:this}),this.dispatchEvent("renditionUpdated")},i.Nj=function(t){return this.OQ.fj(t)},i._Y=function(){null!==this.UQ&&h(this.UQ),this.dispatchEvent("EQ"),this.dispatchEvent("renditionUpdated")},i.wY=function(t){this.FQ=t,this._Y()},i.gY=function(){this.yY(3e4)},i.Ih=function(){null!==this.UQ&&h(this.UQ),this.gs()},i.mY=function(){var t=this.HQ;this.HQ=this.VQ&&this.XQ,t!==this.HQ&&this.dispatchEvent("TQ")},i.vY=function(t){this.VQ=t,this.mY()},i.kY=function(t){this.XQ=t,this.mY()},i.pY=function(t){this.rY="string"==typeof t?ZC(t):t,this.dispatchEvent("renditionUpdated")},i.yY=function(t){var n=this;this.LQ=!0,this._Y(),this.UQ=c(function(){n.LQ=!1,n._Y()},t)},i.AY=function(t,n){return t?!n&&t.NQ&&t.CQ?UC.eQ:t.CQ?UC.Kl:t.NQ?UC.$l:UC.Ty:UC.Ty},i.cY=function(t){void 0===t&&(t=[]);for(var n=[],i=[],r=0,e=t;r<e.length;r++){var u=e[r];this.OQ.dj(u.sj)?n.push(u):i.push(u)}return{oldFragments:n,newFragments:i}},i.hY=function(t,n){for(var i=0;i<t.length;i++){var r=t[i],e=this.OQ.fj(r.sj);e.bY=jC(e.bY,r.bY),e.TY=r.TY||e.TY,e.EY=n}},i.fY=function(t,n,i){var r=this.SY(t);!function(t,n){for(var i=0,r=t.length-1;r>=0;r--){var e=t[r];e.M_=n-i,i+=1e3*e.duration}}(r,n),function(t,n){for(var i=0;i<t.length;i++){var r=t[i];r.Rj+=n}}(r,i),this.addRenditionFragments(r)},i.SY=function(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r.lY=this;var e=Dt({},r);n.push(e)}return n},i.addRenditionFragments=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.OQ.Wa(i),m(this.xQ)&&(this.xQ=i.sj)}},T(n,[{key:"Hh",get:function(){return this.Dm}},{key:"disabled",get:function(){return this.LQ||this.FQ},set:function(t){this.LQ=t,this._Y()}},{key:"Kd",get:function(){return this.HQ}},{key:"RY",set:function(t){this.$Q=t}},{key:"IY",get:function(){return this.rY}},{key:"bandwidth",get:function(){return this.BQ},set:function(t){this.BQ=t,this.dispatchEvent("renditionUpdated")}},{key:"Xh",get:function(){return this.yF}},{key:"resolution",get:function(){return this.sY},set:function(t){this.sY=t,this.dispatchEvent("renditionUpdated")}},{key:"uri",get:function(){return this.JC||this.PQ&&this.PQ.uri},set:function(t){this.JC=t,this.dispatchEvent("renditionUpdated")}},{key:"Ij",get:function(){return this.PQ}},{key:"Sj",get:function(){return this.OQ}},{key:"NY",get:function(){return void 0!==this.eY?this.eY:this.AY(this.rY,this.$Q)}},{key:"CY",get:function(){return this.PQ?this.PQ.live?this.PQ.duration<-60?FC.wQ:FC.gQ:FC.lQ:FC.Ty}},{key:"Rn",get:function(){return this.bT},set:function(t){this.bT=t,this.dispatchEvent("renditionUpdated")}},{key:"sj",get:function(){return this.uY}},{key:"Wh",get:function(){return this.mF}},{key:"DA",get:function(){return this.nY}},{key:"rQ",get:function(){return this.iY||this.nY}},{key:"NQ",get:function(){return this.MQ}},{key:"DY",get:function(){return this.xQ}},{key:"OY",get:function(){return!!this.Ij}},{key:"xY",get:function(){return this.tY}},{key:"xN",get:function(){return this.KQ}}]),n}(mC);var KC=function(t){function n(n,i){var r;(r=t.call(this)||this).OQ=new IC,r.PQ=void 0,r.PY=null,r.BY=function(){return r.MY()},r.KQ=n,r.wa=i.type,r.Dm=i.id||0===i.id?i.id:-1,r.JC=i.uri,r.mF=i.language,r.bT=i.name,r.nY=!!i.default&&"yes"===i.default.toLowerCase(),r.iY=!!i.autoselect&&"yes"===i.autoselect.toLowerCase();var e=function(t){if(vn(t.characteristics,"public.accessibility.describes-music-and-sound"))return cf.pm;return cf.km}(i);return r.LY=new hR(e,r.bT,r.mF,void 0,qh.WEBVTT),r.nY&&(r.LY.Kh=ea.Yh),r}ct(n,t);var i=n.prototype;return i.aY=function(t){this.PQ=t,this.hY(t.fragments),this.MY(),this.dispatchEvent({type:"dY",rendition:this}),this.dispatchEvent("renditionUpdated")},i.Ih=function(){this.gs(),this.Ig=null},i.hY=function(t){for(var n=0;n<t.length;n++){var i=t[n];i.lY=this;var r=this.OQ.fj(i.sj);r?r.bY=jC(r.bY,i.bY):(r=Dt({},i),this.OQ.Wa(r),this.dispatchEvent({type:"UY",FY:r}))}},i.MY=function(){this.PY&&this.PY.HY(this,this.OQ)},T(n,[{key:"VY",get:function(){return this.LY}},{key:"Ig",get:function(){return this.PY},set:function(t){this.PY&&this.PY.removeEventListener("XY",this.BY),this.PY=t,this.MY(),this.PY&&this.PY.addEventListener("XY",this.BY)}},{key:"Hh",get:function(){return this.Dm}},{key:"Wh",get:function(){return this.mF}},{key:"DA",get:function(){return this.nY}},{key:"rQ",get:function(){return this.iY||this.nY}},{key:"Kj",get:function(){return this.JC}},{key:"uri",get:function(){return this.JC}},{key:"Ij",get:function(){return this.PQ}},{key:"Sj",get:function(){return this.OQ}},{key:"Cu",get:function(){return this.wa}},{key:"CY",get:function(){return this.PQ?this.PQ.live?this.PQ.duration<-60?FC.wQ:FC.gQ:FC.lQ:FC.Ty}},{key:"Rn",get:function(){return this.bT},set:function(t){this.bT=t,this.LY.qh=this.bT}},{key:"xN",get:function(){return this.KQ}},{key:"disabled",get:function(){return!1}}]),n}(mC),$C=function(t){function n(n,i){var r;(r=t.call(this)||this).qY=["renditionUpdated","dY","WY"],r.zY=null,r.GY=null,r.jY=null,r.QY=null,r.YY=new YC,r.ZY=new YC,r.JY=new YC,r.dd={},r.KY=null,r.GU=NaN,r.fs=function(t){return r.dispatchEvent(t)},r.Go=n,r.$Y=i;var e=vt(r);return r.tZ=function(){e.nZ(this)},r.iZ=function(t){e.rZ(this,t)},r}ct(n,t);var i=n.prototype;return i.eZ=function(t,n){var i=new yI(n);return i.Kh=ea.Qh,this.dd[i.Hh]=i,this.dispatchEvent({type:"uZ",$c:i}),i},i.sZ=function(t,n,i){var r=new gI(i,"manifest");return r.Kh=ea.Qh,this.dd[r.Hh]=r,this.dispatchEvent({type:"uZ",$c:r}),r},i.oZ=function(t,n){if(t){var i=t.tf,r=t.aZ,e=t&&this.dd[r];e||(e=new yI(t.Jh),this.dd[r]=e,e.Kh=ea.Qh,this.dispatchEvent({type:"uZ",$c:e}));for(var u=0;u<i.length;u++){var s=i[u];e.NA(s)}}},i.cZ=function(t){t&&(this.hZ||(this.hZ=new hR(cf.pm,"CC1","en",!0,qh.CEA608),this.dd.CC1=this.hZ,this.dispatchEvent({type:"uZ",$c:this.hZ})),this.hZ.NA(t))},i.fZ=function(t,n,i){var r=this.dd[t];if(r){var e=[];!function(t,n,i,r){for(var e=0,u=t.tf.Nh;e<u.length;e++){var s=u[e];if(s.qm>=i)break;n<s.Wm&&r.push(s)}}(r,n,i,e);for(var u=0;u<e.length;u++){var s=e[u];r.TF(s)}}},i.vZ=function(t,n){return this.dZ(t,n)},i.lZ=function(t){var n;return(n=this._Z(t,this.YY))?n:(n=this._Z(t,this.ZY))?n:n=this._Z(t,this.JY)},i.Ih=function(){this.ps(this.YY),this.YY.Ih(),this.ps(this.ZY),this.ZY.Ih(),this.ps(this.JY),this.JY.Ih(),this.dd={},this.hZ=void 0,this.wZ&&(this.wZ.Ih(),this.wZ=void 0),this.KY=null,this.GU=NaN,this.zY=null,this.GY=null,this.jY=null,this.QY=null,this.dispatchEvent("Ih")},i.gZ=function(t){var n=JC.createFromUri(this,t.uri);this.ps(this.ZY),this.ZY.Wa(n),n.addEventListener("renditionUpdated",this.tZ)},i.nZ=function(t){var n=t.Ij,i=t.CY;if(m(this.GU)||FC.yQ(i)){if(FC.Ty===i)return;if(!n)return;this.GU=n.duration,this.dispatchEvent("yZ")}m(this.GU)||FC.lQ!==i||t.removeEventListener("renditionUpdated",this.tZ)},i.mZ=function(t){var n=this;this.ps(this.YY),this.YY.Fs(),this.ps(this.ZY),this.ZY.Fs(),this.JY.Fs(),this.KY=t;for(var i=t.streams.map(function(t){return JC.createFromPlaylistStream(n,t)}).filter(function(t){return function(t){if(!t)return!0;if(t.NQ&&!vn(t.NQ,"mp4a")&&!vn(t.NQ,"mp3"))return!1;if(t.CQ&&!vn(t.CQ,"avc1"))return!1;return!0}(t.IY)}),r=i.some(function(t){return t.IY&&t.IY.NQ}),e=i.some(function(t){return t.IY&&t.IY.CQ}),u=0;u<i.length;u++){var s=i[u],o=Boolean(s.IY&&s.IY.NQ),a=Boolean(s.IY&&s.IY.CQ);r&&!o||e&&!a||(this.ZY.Wa(s),s.addEventListener("renditionUpdated",this.tZ))}for(var c=function(t,i){var r=i[t];switch(r.type.toLowerCase()){case"subtitles":if(!n.$Y){var e=new KC(n,r);n.JY.Wa(e),n.dispatchEvent({type:"uZ",$c:e.VY})}break;case"closed-captions":break;case"audio":var u=n.ZY.RQ.filter(function(t){return t.NQ===r["group-id"]});if(0===u.length)return"continue";r.uri&&u.forEach(function(t){return t.RY=!0});var s=r.uri?UC.$l:UC.eQ,o=JC.createFromPlaylistMedia(n,r,!1,s);n.YY.Wa(o)}},h=0,f=t.media;h<f.length;h++)c(h,f);this.kZ=GC(this.oY.IQ)||null,this.dispatchEvent("pZ")},i._Z=function(t,n){for(var i=0,r=n.RQ;i<r.length;i++){var e=r[i];if(e.uri===t)return e}return null},i.rZ=function(t,n){this.dispatchEvent(Dt(Dt({},n),{lY:t}))},i.AZ=function(t){for(var n=0,i=t.RQ;n<i.length;n++)for(var r=i[n],e=0,u=this.qY;e<u.length;e++){var s=u[e];r.addEventListener(s,this.iZ)}},i.ps=function(t){for(var n=0,i=t.RQ;n<i.length;n++){i[n].Ih()}},i.bZ=function(t,n){0!==t.length&&this.Go.hlsDateRange&&(this.wZ||(this.wZ=new HC,this.dispatchEvent({type:"uZ",$c:this.wZ})),this.wZ._o(t,n))},i.TZ=function(t,n){if(this.GY!==t){var i=this.GY;this.GY=t,this.dispatchEvent({type:"EZ",NY:"NQ",lY:this.GY,SZ:i,RZ:n})}},i.dZ=function(t,n){if(this.jY!==t){var i=this.jY;this.jY=t,t&&this.dispatchEvent({type:"EZ",NY:"CQ",lY:this.jY,SZ:i,RZ:n})}},i.IZ=function(t){for(var n=0,i=t.RQ;n<i.length;n++){var r=i[n];if(r.CY!==FC.Ty)return r.CY}return null},T(n,[{key:"NZ",get:function(){return this.zY},set:function(t){t&&(0===t.streams.length?this.gZ(t):this.mZ(t),this.zY=t,this.AZ(this.ZY),this.AZ(this.YY),this.dispatchEvent("CZ"))}},{key:"DZ",get:function(){return this.KY}},{key:"Uv",get:function(){return this.GU}},{key:"yd",get:function(){var t=this,n=this.JY.RQ.map(function(t){return t.VY}),i=_.keys(this.dd).map(function(n){return t.dd[n]});return this.hZ&&i.push(this.hZ),this.wZ&&i.push(this.wZ),n.concat(i)}},{key:"kZ",get:function(){return this.GY},set:function(t){this.TZ(t,!0)}},{key:"OZ",get:function(){return this.jY},set:function(t){this.dZ(t,!1)}},{key:"oY",get:function(){return this.YY}},{key:"xZ",get:function(){return this.ZY}},{key:"PZ",get:function(){return this.JY.RQ}},{key:"CY",get:function(){var t;return null!==(t=this.GY&&this.GY.CY)&&t!==FC.Ty?t:null!==(t=this.jY&&this.jY.CY)&&t!==FC.Ty?t:null!==(t=this.IZ(this.YY))?t:null!==(t=this.IZ(this.ZY))?t:FC.Ty}}]),n}(mC);var tD=function(t){function n(n,i,r){var e,u,s,o,a;return(e=t.call(this)||this).P_=[],e.BZ={},e.fs=function(t){return e.dispatchEvent(t)},e.MZ=function(t){e.LZ(t)},e.UZ=function(t){e.handleRenditionUpdated(t)},e.FZ=function(t){for(var n=0,i=e.P_;n<i.length;n++){i[n].HZ.FZ(t)}},e.VZ=n,e.XZ=i,e.qZ=r,e.XZ&&e.XZ.addEventListener("EZ",e.MZ),e.qZ&&(e.qZ.addEventListener("renditionUpdated",e.UZ),e.qZ.addEventListener("WZ",e.FZ)),e.Jc=(u=vt(e),s=new mC,o={get length(){return u.P_.length},enable:function(t){u.Mp(u.zZ(t&&t.id)||t)},disable:function(t){u.Lp(u.zZ(t&&t.id)||t)},item:function(t){return u.P_[t]&&u.P_[t].Jc},getTrackByID:function(t){var n=u.zZ(t);return n&&n.Jc},addEventListener:function(t,n){s.addEventListener(t,n)},removeEventListener:function(t,n){s.removeEventListener(t,n)}},a=function(t){return s.dispatchEvent(t,!0)},u.addEventListener("addtrack",a),u.addEventListener("enabledtrack",a),u.addEventListener("disabledtrack",a),o),e}ct(n,t);var i=n.prototype;return i.zZ=function(t){return this.BZ[t]},i.Th=function(t){for(var n=0,i=t.HZ.zh;n<i.length;n++){var r=i[n];r.Hh===this.GZ()&&(r.ck=!0)}t.addEventListener("enabledtrack",this.fs),t.addEventListener("disabledtrack",this.fs),this.P_.push(t),this.BZ[t.Hh]=t,this.dispatchEvent({type:"addtrack",track:t.Jc})},i.Mp=function(t){if(t){var n=this.BZ[t.Hh];if(n&&!n.Fh){for(var i=this.P_.length-1;i>=0;i--)this.P_[i].Nd();n.Id()}}},i.Lp=function(t){},T(n,[{key:"jZ",get:function(){return this.GZ()}}]),n}(mC);var nD=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).QZ=NaN,e}ct(n,t);var i=n.prototype;return i.GZ=function(){return this.QZ},i.LZ=function(t){t.YZ?this.ZZ(t.JZ):t.KZ&&this.ZZ(t.KZ)},i.ZZ=function(t){t&&(this.QZ=t.Hh),this.P_.forEach(function(n){return n.$Z(t)})},i.handleRenditionUpdated=function(t){if(t.lY&&t.lY.NY===UC.$l)for(var n=0,i=this.P_;n<i.length;n++){i[n].tJ(t)}},i.Mp=function(n){var i=n;if(!i){var r=this.P_.filter(function(t){return t.DA});r.length>0&&(i=r[0])}t.prototype.Mp.call(this,i)},T(n,[{key:"Cu",get:function(){return"audio"}}]),n}(tD),iD=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).nJ=NaN,e}ct(n,t);var i=n.prototype;return i.GZ=function(){return this.nJ},i.LZ=function(t){(t.iJ||t.JZ)&&(t.JZ&&(this.nJ=t.JZ.Hh),this.P_.forEach(function(n){return n.$Z(t.JZ)}))},i.handleRenditionUpdated=function(t){if(t.lY&&t.lY.NY===UC.Kl)for(var n=0,i=this.P_;n<i.length;n++){i[n].tJ(t)}},T(n,[{key:"Cu",get:function(){return"video"}}]),n}(tD);function rD(t,n){for(var i,r=n-(i=t?F(t)?Array.prototype.map.call(t,function(t){return("0"+t.toString(16)).substr(-2)}).join(""):(+t).toString(16):"").length;r>0;)i="0"+i,r-=1;return i}function eD(t,n){return void 0===n&&(n=0),y(t.toFixed(n))}var uD=function(t){function n(n){var i,r,e,u;return(i=t.call(this)||this).ck=!1,i.rJ=!0,i.lY=n,i.ck=!1,i.Jc=(r=vt(i),e=new mC,u={get bandwidth(){return r.lY&&r.lY.bandwidth},get averageBandwidth(){return r.lY&&r.lY.averageBandwidth},get codecs(){return r.IY},get resolution(){return r.eJ},get frameRate(){return eD(r.uJ,2)},get id(){return r.Hh},get uri(){return r.lY&&r.lY.uri},get name(){return r.Rn},set name(t){r.Rn=t},get enabled(){return r.Fh},set enabled(t){r.Fh=Boolean(t)},addEventListener:function(t,n){e.addEventListener(t,n)},removeEventListener:function(t,n){e.removeEventListener(t,n)}},r.addEventListener("qualityupdated",function(t){return e.dispatchEvent(t,!0)}),u),i}ct(n,t);var i=n.prototype;return i.sJ=function(t){var n=!!t&&this.Hh===t.Hh;this.ck!==n&&(this.ck=n,this.dispatchEvent({type:"activequalitychanged",quality:this.Jc}))},i.tJ=function(t){return this.lY.Hh===t.lY.Hh&&(this.lY=t.lY,this.dispatchEvent({type:"qualityupdated",quality:this.Jc}),!0)},T(n,[{key:"Fh",get:function(){return this.rJ},set:function(t){this.rJ=t,this.lY.wY(!t)}},{key:"Xh",get:function(){return this.lY.Xh}},{key:"eJ",get:function(){return this.lY.resolution?{width:this.lY.resolution.width,height:this.lY.resolution.height}:{width:NaN,height:NaN}}},{key:"Rn",get:function(){return this.lY.Rn},set:function(t){this.lY.Rn=t,this.dispatchEvent({type:"qualityupdated",quality:this.Jc})}},{key:"Hh",get:function(){return this.lY.Hh}}]),n}(mC);var sD=function(t){function n(n){return t.call(this,n)||this}return ct(n,t),T(n,[{key:"IY",get:function(){return this.lY.IY&&this.lY.IY.CQ||""}},{key:"uJ",get:function(){return eD(Number(this.lY.JQ),2)}}]),n}(uD),oD=function(t){function n(n){return t.call(this,n)||this}return ct(n,t),T(n,[{key:"IY",get:function(){return this.lY.IY&&this.lY.IY.NQ||""}},{key:"uJ",get:function(){return eD(Number(this.lY.ZQ),2)}}]),n}(uD),aD=function(t){function n(n,i){var r,e,u,s,o;(r=t.call(this)||this).oJ=null,r.aJ={},r.fs=function(t){return r.dispatchEvent(t)},r.zh=n,r.qZ=i;for(var a=r.zh.length-1;a>=0;a--){var c=r.zh[a];r.aJ[c.Hh]=c}return r.zh.forEach(function(t){return t.addEventListener("activequalitychanged",r.fs)}),r.Jc=(e=vt(r),u=new mC,s={item:function(t){var n=e.bh(t);return n&&n.Jc},getQualitiesByIDs:function(t){return e.cJ(t).map(function(t){return t.Jc})},get length(){return e.zh.length},get activeQuality(){return e.Uh&&e.Uh.Jc},get targetQuality(){return e.Gh?1===e.Gh.length?e.Gh[0].Jc:e.Gh.map(function(t){return t.Jc}):null},set targetQuality(t){if(t){var n=U(t)?t:[t];e.Gh=e.cJ(n.map(function(t){return t.id}))}else e.Gh=null},addEventListener:function(t,n){u.addEventListener(t,n)},removeEventListener:function(t,n){u.removeEventListener(t,n)}},o=function(t){return u.dispatchEvent(t,!0)},e.addEventListener("activequalitychanged",o),e.addEventListener("targetqualitychanged",o),s),r}ct(n,t);var i=n.prototype;return i.hJ=function(t){return!!t&&this.zh.some(function(n){return n.Hh===t.Hh})},i.fJ=function(t,n){for(var i=0,r=this.zh;i<r.length;i++){r[i].sJ(t)}},i.cJ=function(t){var n=this;return t&&t.map(function(t){return n.aJ[t]}).filter(function(t){return t})},i.vJ=function(){for(var t=this.zh.length-1;t>=0;t--)this.zh[t].ck=!1},i.FZ=function(t){var n=this.qZ.dJ,i=this.cJ(n);n&&n.length>0&&i&&i.length>0?this.dispatchEvent({type:"targetqualitychanged",quality:i[0].Jc}):n&&0!==n.length||this.dispatchEvent({type:"targetqualitychanged",quality:null})},i.bh=function(t){return this.zh[t]},T(n,[{key:"Uh",get:function(){for(var t=0,n=this.zh;t<n.length;t++){var i=n[t];if(i.ck)return i}return null}},{key:"Gh",get:function(){return this.oJ},set:function(t){this.oJ=this.lJ(t)}}]),n}(mC);var cD=function(t){function n(n,i){return t.call(this,n,i)||this}ct(n,t);var i=n.prototype;return i.Id=function(){this.qZ&&(this.qZ.QZ=this.zh[0].Hh)},i.Nd=function(t){this.qZ&&(this.qZ.QZ=null)},i.lJ=function(t){},n}(aD),hD=function(t){function n(n,i){return t.call(this,n,i)||this}ct(n,t);var i=n.prototype;return i.Id=function(){if(this.lJ(this.Gh),this.qZ){var t=this.qZ.VZ;if(!t)return;var n=Rn(t._J.oY.RQ,function(t){return!t.uri});this.qZ.QZ=n?n.Hh:null}},i.fJ=function(n,i){"video"===i&&t.prototype.fJ.call(this,n,i)},i.Nd=function(t){"video"===t&&this.vJ()},i.lJ=function(t){if(!this.qZ)return this.Gh;var n=t?this.cJ(t.map(function(t){return t.Hh})):null;if(n&&n.length>0){var i=n.map(function(t){return t.Hh});return this.qZ.dJ=i,n}return t?this.Gh:(this.qZ.dJ=null,null)},n}(aD),fD=function(t){function n(n,i){var r,e,u;return(r=t.call(this)||this).Cu=n,r.HZ=i,r.Hh=i.bh(0).Hh,r.Im=r.HZ.zh.some(function(t){return t.ck}),r.Rn=i.bh(0).lY.Rn,r.Jc=(e=vt(r),u=new mC,{get id(){return e.Hh},get enabled(){return e.Fh},get qualities(){return e.HZ&&e.HZ.Jc},get language(){return e.Wh},get default(){return e.DA},get name(){return e.Rn},set name(t){e.Rn=t},addEventListener:function(t,n){u.addEventListener(t,n)},removeEventListener:function(t,n){u.removeEventListener(t,n)}}),r}ct(n,t);var i=n.prototype;return i.$Z=function(t){var n=this.HZ.hJ(t);this.Pm(n),this.HZ.fJ(t,this.Cu)},i.Pm=function(t){this.Im!==t&&(t?(this.Im=!0,this.dispatchEvent({type:"enabledtrack",track:this.Jc})):(this.Im=!1,this.dispatchEvent({type:"disabledtrack",track:this.Jc})))},i.Id=function(){this.Im||this.HZ.Id()},i.Nd=function(){this.Im&&this.HZ.Nd(this.Cu)},i.tJ=function(t){t.lY.Hh===this.Hh&&(this.Rn=t.lY.Rn);for(var n=0,i=this.HZ.zh;n<i.length;n++){i[n].tJ(t)}},T(n,[{key:"Fh",get:function(){return this.Im}},{key:"Wh",get:function(){return this.wJ()}},{key:"Xh",get:function(){return this.gJ()}},{key:"DA",get:function(){var t="video"===this.Cu,n=this.HZ.zh&&this.HZ.zh[0].lY.DA;return t||n}}]),n}(mC);var vD=function(t){function n(n){return t.call(this,"video",n)||this}ct(n,t);var i=n.prototype;return i.gJ=function(){return MC.sQ},i.wJ=function(){return""},n}(fD),dD=function(t){function n(n){return t.call(this,"audio",n)||this}ct(n,t);var i=n.prototype;return i.gJ=function(){return this.HZ.zh[0].lY.Xh},i.wJ=function(){return this.HZ.zh[0].lY.Wh||""},n}(fD),lD=function(){function t(t,n,i){var r=this;this.yJ=function(){var t=r.mJ;t.removeEventListener("kJ",r.yJ);var n=t._J.xZ.RQ,i=t._J.oY.RQ,e=n.map(function(t){return new sD(t)});if(e.length>0){var u=new hD(e,r.pJ);r.AJ.Th(new vD(u));var s=Rn(i,function(t){return!t.uri}),o=0===i.length;if(n.length>0&&(Boolean(s)||o)){var a=new dD(u);s&&(a.Rn=s.Rn),r.bJ.Th(a)}}for(var c=0;c<i.length;c++){var h=i[c];if(h.uri){var f=new oD(h),v=new cD([f],r.pJ);r.bJ.Th(new dD(v))}}},this.mJ=t,this.pJ=i,this.bJ=new nD(t,n,i),this.AJ=new iD(t,n,i),t&&(t.kJ?this.yJ():t.addEventListener("kJ",this.yJ))}return T(t,[{key:"wd",get:function(){return this.bJ}},{key:"gd",get:function(){return this.AJ}}]),t}(),_D=["loadedmetadata","durationchange","Is","ND","Kd","TJ"],wD=["EJ","EZ","SJ","Is"],gD=function(t){function n(n,i,r,e,u,s,o){var a;(a=t.call(this)||this).RJ=null,a.IJ=[],a.NJ=[],a.CJ=function(t){return a.dispatchEvent(t)},a.DJ=function(t){return a.OJ(t)},a.xJ=function(t){return a.PJ(t)},a.CS=n.src,a.BJ=n.type,a.MJ=i,a.LJ=r,a.UJ=e,a.VZ=u,a.XZ=s,a.VZ&&(a.VZ.addEventListener("FJ",a.CJ),a.VZ.addEventListener("HJ",a.CJ));var c=new lD(a.VZ,a.XZ,o);return a.gd=c.gd,a.wd=c.wd,a.DS=null,a.CS&&(a.XZ&&a.XZ.Rh(),a.VZ&&(a.VZ.VJ=a.CS)),a}ct(n,t);var i=n.prototype;return i.XJ=function(t){this.XZ&&this.XZ.do(t),this.VZ&&this.VZ.qJ(),this.DS&&this.WJ()},i.zJ=function(){this.XZ&&this.XZ.zJ(),this.VZ&&this.VZ.GJ()},i.jJ=function(){if(this.VZ)for(var t=0;t<_D.length;t++){var n=_D[t];this.VZ.addEventListener(n,this.DJ)}if(this.XZ)for(var i=0;i<wD.length;i++){var r=wD[i];this.XZ.addEventListener(r,this.xJ)}},i.QJ=function(){if(this.VZ)for(var t=0;t<_D.length;t++){var n=_D[t];this.VZ.removeEventListener(n,this.DJ)}if(this.XZ)for(var i=0;i<wD.length;i++){var r=wD[i];this.XZ.removeEventListener(r,this.xJ)}},i.WJ=function(){if(this.VZ&&this.IJ.length){var t=this.IJ.slice();xn(this.IJ);for(var n=0;n<t.length;n++){var i=t[n];this.VZ.dispatchEvent(i)}}if(this.XZ&&this.NJ.length){var r=this.NJ.slice();xn(this.NJ);for(var e=0;e<r.length;e++){var u=r[e];this.XZ.dispatchEvent(u)}}},i.OJ=function(t){this.IJ.push(t)},i.PJ=function(t){this.NJ.push(t)},i.Ih=function(){this.dispatchEvent("Ih"),this.gs(),this.XZ&&this.XZ.Ih(),this.UJ&&this.UJ.Ih(),this.VZ&&this.VZ.Ih(),this.RJ=null,xn(this.IJ),xn(this.NJ)},T(n,[{key:"DS",get:function(){return this.RJ},set:function(t){this.QJ(),this.RJ=t,this.DS?this.dispatchEvent("Eo"):this.jJ()}}]),n}(mC),yD=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).mJ=null,n.fs=function(t){n.dispatchEvent(t,!0)},n}return ct(n,t),T(n,[{key:"QZ",get:function(){var t=this.mJ&&this.mJ._J.kZ;return t?t.Hh:null},set:function(t){var n;this.mJ&&(n=null===t?GC(this.mJ._J.oY.RQ):this.mJ._J.oY.RQ.filter(function(n){return t===n.Hh}).shift(),this.mJ._J.kZ=n||null)}},{key:"dJ",get:function(){return this.mJ&&this.mJ.YJ||null},set:function(t){this.mJ&&(this.mJ.ZJ(t),this.dispatchEvent("WZ"))}},{key:"VZ",get:function(){return this.mJ},set:function(t){this.mJ&&(this.mJ._J.removeEventListener("CZ",this.fs),this.mJ._J.removeEventListener("renditionUpdated",this.fs),this.mJ._J.removeEventListener("pZ",this.fs)),this.mJ=t,this.mJ&&(this.mJ._J.addEventListener("CZ",this.fs),this.mJ._J.addEventListener("renditionUpdated",this.fs),this.mJ._J.addEventListener("pZ",this.fs))}}]),n}(mC),mD=function(){function t(){}var n=t.prototype;return n.JJ=function(t){return Ct.reject(kD)},n.KJ=function(t){return Ct.reject(kD)},n.Bs=function(t){return Ct.resolve(!1)},n.Ms=function(t,n){return Ct.resolve(void 0)},n.$J=function(t){return Ct.resolve([])},n.tK=function(){return Ct.resolve([])},n.nK=function(t,n){return Ct.resolve([])},n.lo=function(t){return Ct.reject(kD)},n.iK=function(t){return Ct.reject(kD)},n.rK=function(){return Ct.reject(kD)},t}(),kD="Storage disabled",pD=function(){function t(){this.eK=new mD,this.uK=new mD,this.sK=new mD,this.oK=new mD,this.aK=new mD}return t.XG=function(){return Ct.resolve(new t)},t.prototype.cK=function(t){return Ct.reject(AD)},t}(),AD="Storage disabled",bD=function(){function t(t){var n=this;this.us=new qr,this.hK=void 0,this.us.Js(t),this.us.Zs.then(function(t){n.hK=t})}var n=t.prototype;return n.JJ=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.hK,t.t0){t.next=5;break}return t.next=4,this.fK;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.JJ(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.KJ=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.hK,t.t0){t.next=5;break}return t.next=4,this.fK;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.KJ(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Bs=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.hK,t.t0){t.next=5;break}return t.next=4,this.fK;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.Bs(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Ms=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.hK,t.t0){t.next=5;break}return t.next=4,this.fK;case 4:t.t0=t.sent;case 5:return r=t.t0,t.abrupt("return",r.Ms(n,i));case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.$J=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.hK,t.t0){t.next=5;break}return t.next=4,this.fK;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.$J(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.tK=function(){var t=Ct.coroutine(Nt.mark(function t(){var n;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.hK,t.t0){t.next=5;break}return t.next=4,this.fK;case 4:t.t0=t.sent;case 5:return n=t.t0,t.abrupt("return",n.tK());case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.nK=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.hK,t.t0){t.next=5;break}return t.next=4,this.fK;case 4:t.t0=t.sent;case 5:return r=t.t0,t.abrupt("return",r.nK(n,i));case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.lo=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.hK,t.t0){t.next=5;break}return t.next=4,this.fK;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.lo(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.iK=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.hK,t.t0){t.next=5;break}return t.next=4,this.fK;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.iK(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.rK=function(){var t=Ct.coroutine(Nt.mark(function t(){var n;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.hK,t.t0){t.next=5;break}return t.next=4,this.fK;case 4:t.t0=t.sent;case 5:return n=t.t0,t.abrupt("return",n.rK());case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),T(t,[{key:"fK",get:function(){return this.us.Zs}}]),t}(),TD=function(){function t(t){var n=this;this.us=new qr,this.vK=void 0,this.us.Js(t);var i=this.us.Zs;i.then(function(t){n.vK=t}),this.uK=new bD(i.then(function(t){return t.uK})),this.eK=new bD(i.then(function(t){return t.eK})),this.sK=new bD(i.then(function(t){return t.sK})),this.oK=new bD(i.then(function(t){return t.oK})),this.aK=new bD(i.then(function(t){return t.aK}))}return t.prototype.cK=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.vK,t.t0){t.next=5;break}return t.next=4,this.dK;case 4:t.t0=t.sent;case 5:return i=t.t0,t.next=8,i.cK(n);case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),T(t,[{key:"dK",get:function(){return this.us.Zs}}]),t}(),ED=function(){function t(t){this.lK=[],this._K=!0,this.wK=t}var n=t.prototype;return n.XG=function(){return new TD(this.gK())},n.gK=function(){var t=Ct.coroutine(Nt.mark(function t(){var n,i,r;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._K){t.next=4;break}return t.next=3,Ct.resolve();case 3:this._K=!1;case 4:n=0,i=this.lK;case 5:if(!(n<i.length)){t.next=18;break}return r=i[n],t.prev=7,t.next=10,r();case 10:return t.abrupt("return",t.sent);case 13:t.prev=13,t.t0=t.catch(7);case 15:n++,t.next=5;break;case 18:return t.next=20,this.wK();case 20:return t.abrupt("return",t.sent);case 21:case"end":return t.stop()}},t,this,[[7,13]])}));return function(){return t.apply(this,arguments)}}(),n.hM=function(t){if(!this._K)throw new d("Registration overdue");this.lK.push(t)},t}(),SD=function(){function t(){}return t.hM=function(n){t.yK.hM(n)},T(t,null,[{key:"dn",get:function(){return t.mK||(t.mK=t.yK.XG()),t.mK}}]),t}();function RD(t){return Us(t)}function ID(t,n){var i=Us(t);return n?""+i+n:""+i}function ND(t,n,i,r,e,u){var s=new el;return n&&s.set("Range","bytes="+n[0]+"-"+n[1]),new dy({rA:t,oA:i,uA:s,fA:r,sA:tl.GET,Cu:nl.jp,cs:e,vA:u})}SD.yK=new ED(pD.XG),SD.mK=void 0;var CD=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this)||this).mA=null,o.PN=new Ln,o.kK=function(t,n){return o.vA(t,n)},o.j_=n,o.Kj=i,o.oA=r,o.pK=e,o.LD=u,o.AK=new OD,o.TA=s,o.bK=SD.dn.eK,o.TK=SD.dn.uK,o}ct(n,t);var i=n.prototype;return i.Ry=function(){return this.EK(this.PN.cs)},i.EK=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i,r,e,u,s,o,a;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return XC(i=this.Kj)?(r=i.Kj,e=[i.$j.Ry,i.$j.Ny]):(r=i,e=void 0),this.AK.SK(),t.prev=3,t.next=6,this.RK(r,e);case 6:if(u=t.sent,Hn(n),u){t.next=12;break}return t.next=11,this.IK(r,e,n);case 11:u=t.sent;case 12:return t.next=14,u.Qn();case 14:s=t.sent,Hn(n),this.NK(s,u.pA),t.next=28;break;case 19:if(t.prev=19,t.t0=t.catch(3),!Fn(t.t0)){t.next=25;break}return t.abrupt("return");case 25:a=t.t0 instanceof iA?t.t0.mA.pA:0,o=new d('Could not load fragment: "'+this.Kj+'", HTTP status '+a);case 27:return t.abrupt("return",this.CK(o));case 28:case"end":return t.stop()}},t,this,[[3,19]])}));return function(n){return t.apply(this,arguments)}}(),i.RK=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r,e,u,s;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=ID(n,i),t.next=4,this.bK.Bs(r);case 4:if(!t.sent){t.next=11;break}return t.next=7,this.TK.Ms(r);case 7:return e=t.sent,u=ND(n,i,this.oA,this.pK),s=e.data.buffer,t.abrupt("return",new $p({Qn:s,uA:{},yA:u,kA:n,oA:this.oA,pA:200,Gb:""}));case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0);case 16:return t.abrupt("return",null);case 17:case"end":return t.stop()}},t,this,[[0,13]])}));return function(n,i){return t.apply(this,arguments)}}(),i.IK=function(t,n,i){var r=ND(t,n,this.oA,this.pK,i,this.kK);return this.TA.yA(r)},i.vA=function(t,n){var i={type:"TJ",yA:this,DK:t,xK:n=void 0===n?NaN:n};this.AK.PK(t,n),this.dispatchEvent(i)},i.NK=function(t,n){var i=this.oA===Zd.Fp?t.byteLength:0;this.AK.BK(i),this.oA===Zd.yn?this.mA=t:this.mA=new k(t),this.MK=n,t=null,this.CK(),this.mA=null},i.ss=function(t){return this.PN.ss(),t||((t=new d('Aborted fragment load: "'+this.Kj+'"')).aborted=!0),this.CK(t)},i.CK=function(t){this.AK.LK();var n={type:"pd",yA:this};return this.dispatchEvent(n),this.LD(t||null,this)},n}(mC);function DD(){return oy()/1e3}var OD=function(t){function n(){var n;return(n=t.call(this)||this).UK=NaN,n.FK=NaN,n.HK=NaN,n.VK=NaN,n.XK=0,n.qK=NaN,n.UK=DD(),n}ct(n,t);var i=n.prototype;return i.SK=function(){this.UK=DD(),this.dispatchEvent("_o")},i.PK=function(t,n){this.HK=DD(),this.FJ||(this.FK=this.HK),this.XK=t,this.qK=n||this.qK||NaN,this.dispatchEvent("_o")},i.BK=function(t){this.PK(t,t)},i.LK=function(){this.VK=DD(),this.dispatchEvent("_o")},T(n,[{key:"FJ",get:function(){return!m(this.FK)}},{key:"WK",get:function(){return!m(this.VK)}},{key:"zK",get:function(){return(this.FK||DD())-this.UK}},{key:"GK",get:function(){return(this.VK||this.HK)-this.FK}},{key:"jK",get:function(){return(this.VK||this.HK)-this.UK}}]),n}(mC),xD=function(t){function n(n,i){var r;return(r=t.call(this)||this).QK=[],r.YK=null,r.ZK=function(t){return r.JK(t)},r.pK=!(!i||i.crossOrigin!==qa.xv),r.TA=n,r}ct(n,t);var i=n.prototype;return i.do=function(t,n,i,r){var e=new CD(t,n,i,this.pK,r,this.TA);return e.addEventListener("pd",this.ZK),this.QK.push(e),this.KK(),e},i.Fs=function(t,n){var i=function(t){return!n||t.j_===n},r=this.QK.filter(i);!t&&this.YK&&i(this.YK)&&r.push(this.YK);for(var e=0;e<r.length;e++){r[e].ss()}return r},i.KK=function(){if(!this.YK){var t=this.QK.shift();t&&(this.YK=t,t.Ry())}},i.JK=function(t){var n=t.yA,i=this.QK.indexOf(n);-1!==i&&Cn(this.QK,i),this.YK===n&&(this.YK=null,this.KK())},n}(mC);function PD(n){return t.URL&&t.URL.createObjectURL?t.URL.createObjectURL(n):t.webkitURL&&t.webkitURL.createObjectURL?t.webkitURL.createObjectURL(n):t.createObjectURL?t.createObjectURL(n):null}function BD(n){return t.URL&&t.URL.revokeObjectURL?t.URL.revokeObjectURL(n):t.webkitURL&&t.webkitURL.revokeObjectURL?t.webkitURL.revokeObjectURL(n):t.revokeObjectURL?t.revokeObjectURL(n):void 0}function MD(t,n){return ko([t],{type:n})}var LD="iframe.html",UD=0,FD=p&&(p.bind&&p.bind(p)||p),HD=function(t){function n(n){var i;return(i=t.call(this)||this).$K=void 0,i.t$=[],i.n$=!1,i.fs=function(t){return i.dispatchEvent(t)},n&&i.Eo(n),i}ct(n,t);var i=n.prototype;return i.postMessage=function(t){this.n$||(this.$K?this.$K.postMessage(t):this.t$.push(t))},i.Eo=function(t){if(this.n$)t.terminate();else{this.$K=t,this.$K.addEventListener("message",this.fs,!1),this.$K.addEventListener("error",this.fs,!1);for(var n=0,i=this.t$;n<i.length;n++){var r=i[n];this.$K.postMessage(r)}this.t$.length=0}},i.terminate=function(){this.gs(),this.n$=!0,this.t$.length=0,this.$K&&(this.$K.removeEventListener("message",this.fs,!1),this.$K.removeEventListener("error",this.fs,!1),this.$K.terminate(),this.$K=void 0)},n}(mC);var VD=function(n){function i(i,r,e){var u,o,a;return(u=n.call(this)||this).i$=function(){return u.r$()},u.e$=function(t){return u.u$(t)},u.Hh=i,u.s$=r,u.o$=(o=e+LD,(a=s.createElement("iframe")).width="0",a.height="0",a.style.display="none",a.src=o,s.body.appendChild(a),a),u.a$=u.o$.contentWindow,u.c$=Xs(e),u.o$.addEventListener("load",u.i$),t.addEventListener("message",u.e$),u}ct(i,n);var r=i.prototype;return r.r$=function(){this.o$.removeEventListener("load",this.i$),this.a$.postMessage({type:"initialize",id:this.Hh,script:this.s$},"*")},r.u$=function(t){Xs(t.origin)===this.c$&&t.data.id===this.Hh&&("initialized"===t.data.type?this.dispatchEvent("initialized"):"error"===t.data.type?this.dispatchEvent({type:"error",message:t.data.data.message,filename:t.data.data.filename,lineno:t.data.data.lineno}):this.dispatchEvent({type:"message",data:t.data.data}))},r.postMessage=function(t){this.a$.postMessage({type:"message",data:t},"*")},r.terminate=function(){this.o$.removeEventListener("load",this.i$),t.removeEventListener("message",this.e$),this.a$.postMessage({type:"terminate"},"*"),this.o$.parentNode.removeChild(this.o$)},i}(mC);function XD(){return(XD=Ct.coroutine(Nt.mark(function t(n,i){var r,e,u,s,o,a;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=Gb.SD,t.prev=1,e=new dy({rA:n,sA:tl.GET,oA:Zd.yn}),t.next=5,r.yA(e);case 5:return u=t.sent,t.next=8,u.Qn();case 8:s=t.sent,i(void 0,s),t.next=17;break;case 12:t.prev=12,t.t0=t.catch(1),o=new d("PLAYER_INCORRECTLY_CONFIGURED"),a=t.t0 instanceof iA?t.t0.mA.pA:-1,i({$s:a,Is:o});case 17:case"end":return t.stop()}},t,null,[[1,12]])}))).apply(this,arguments)}function qD(t,n){function i(i){return e(),V(r=i.data)&&"2.82.0"===r.h$?n(void 0,t):n(new d("PLAYER_INCORRECTLY_CONFIGURED"));var r}function r(i){i.preventDefault&&i.preventDefault(),e(),t.terminate(),n({message:i.message,filename:i.filename,lineno:i.lineno})}function e(){t.removeEventListener("message",i),t.removeEventListener("error",r)}t.addEventListener("message",i),t.addEventListener("error",r)}function WD(t,n){if(void 0===t)return n({message:"Worker could not be loaded."});var i;try{i=new FD(t)}catch(t){return n({message:t.message})}return qD(i,n)}var zD=!0;function GD(t,n){var i=UD++,r=t+n,e=new HD;function u(){!function(t,n,i,r){var e;function u(){a(),qD(e,r)}function o(t){t.preventDefault&&t.preventDefault(),a(),e.terminate(),r({message:t.message,filename:t.filename,lineno:t.lineno})}function a(){e.removeEventListener("initialized",u),e.removeEventListener("error",o)}if(!s)return r({message:"Could not create Worker.",filename:"workershim.js",lineno:223});(e=new VD(t,n,i)).addEventListener("initialized",u),e.addEventListener("error",o)}(i,r,t,o)}function o(t,n,i){t?e.dispatchEvent({type:"error",message:t.message,filename:t.filename,lineno:t.lineno}):(e.Eo(n),i&&e.dispatchEvent(i))}return WD(r,function(t,n,i){t?function(t,n){XD.apply(this,arguments)}(r,function(t,n){t?t.$s>=400?o(t.Is):u():n&&function(t,n){if(!zD)return n({message:"Could not create Worker.",filename:"workershim.js",lineno:196});WD(PD(MD(t,"application/javascript")),function(t,i,r){return t&&(zD=!1),n(t,i,r)})}(n,function(t,n,i){t?u():o(t,n,i)})}):o(t,n,i)}),e}function jD(t,n){if(n<0)throw new d("The index provided ("+n+") must be non-negative");if(n>=t.length)throw new d("The index provided ("+n+") is greater than the maximum bound ("+t.length+")")}function QD(t){return{get length(){return t.length},start:function(n){return jD(t,n|=0),t.start(n)},end:function(n){return jD(t,n|=0),t.end(n)}}}function YD(t,n){return t.Ry-n.Ry}var ZD=function(){function t(t){this.f$=t}var n=t.prototype;return n.start=function(t){return this.f$[t].Ry},n.end=function(t){return this.f$[t].Ny},n.v$=function(){return this.f$},T(t,[{key:"length",get:function(){return this.f$.length}}]),t}(),JD=new ZD([]),KD=new ZD([{Ry:-1/0,Ny:1/0}]);function $D(t,n){return function(t,n){var i=t.length;if(n=+n||0,i<2)return t;for(var r=[],e=t.start(0),u=t.end(0),s=1;s<i;s++){var o=t.start(s),a=t.end(s);e<=o&&u>=a||(u+n>=o?u=a:(r.push({Ry:e,Ny:u}),e=o,u=a))}return r.push({Ry:e,Ny:u}),new ZD(r)}(function(t){var n=eO(t);return n.sort(YD),new ZD(n)}(t),n)}function tO(t,n){for(var i=[],r=0,e=0;r<t.length&&e<n.length;){var u=w.max(t.start(r),n.start(e)),s=w.min(t.end(r),n.end(e));u<s&&i.push({Ry:u,Ny:s}),t.end(r)<n.end(e)?r+=1:e+=1}return new ZD(i)}function nO(t){var n=t.length;if(!n)return KD;var i=[],r=t.start(0);r!==-1/0&&i.push({Ry:-1/0,Ny:r});for(var e=0;e<n-1;e+=1)i.push({Ry:t.end(e),Ny:t.start(e+1)});var u=t.end(n-1);return u!==1/0&&i.push({Ry:u,Ny:1/0}),new ZD(i)}function iO(t,n){return-1!==rO(t,n)}function rO(t,n){return function(t,n,i,r){n+=r=+r||0,i-=r;for(var e=0;e<t.length;e+=1)if(t.start(e)<=n&&i<=t.end(e))return e;return-1}(t,n,n)}function eO(t){if(t instanceof ZD)return t.v$();var n=[];if(!t)return n;for(var i=0;i<t.length;i++)n.push({Ry:t.start(i),Ny:t.end(i)});return n}function uO(t,n){return i=[t,n],e=(r=e=[]).concat.apply(r,i.map(eO)),$D(new ZD(e));var i,r,e}var sO=.001;function oO(t,n,i){return i=+i||0,t.Ry-i<=n.Ny&&n.Ry<=t.Ny+i}function aO(t){var n={Ry:NaN,Ny:NaN,Sj:t};return cO(n),n}function cO(t){var n=t.Sj;n.length?(n.sort(YD),t.Ry=n[0].Ry,t.Ny=n[n.length-1].Ny):(t.Ry=NaN,t.Ny=NaN)}function hO(t){return void 0!==t.Sj}function fO(t,n,i){for(var r=[],e=0;e<t.length;e++){var u=t[e],s=w.max(u.Ry,n),o=w.min(u.Ny,i);if(s<o){var a=void 0;a=u.Ry===s&&u.Ny===o?u:{Ry:s,Ny:o,rw:u.rw},r.push(a)}}return r}function vO(t,n){var i=w.min(t.Ry,n.Ry),r=w.max(t.Ny,n.Ny),e=t.Sj,u=n.Sj,s=e.concat(u),o=e.length?e[e.length-1]:null,a=u.length?u[0]:null;return o&&a&&o.rw===a.rw&&oO(o,a,sO)&&s.splice(e.length-1,2,function(t,n){var i=t.rw||n.rw;return{Ry:w.min(t.Ry,n.Ry),Ny:w.max(t.Ny,n.Ny),rw:i}}(o,a)),aO(s=fO(s,i,r))}var dO,lO,_O=function(){function t(t,n){this.f$=function(t){for(var n=[],i=0;i<t.length;i+=1){var r=t[i],e=void 0;hO(r)?cO(e=r):e=aO([r]),e.Sj.length&&e.Ry<e.Ny&&n.push(e)}return n}(t),n||this.d$()}var n=t.prototype;return n.start=function(t){return this.f$[t]&&this.f$[t].Ry},n.end=function(t){return this.f$[t]&&this.f$[t].Ny},n.Sj=function(t){return this.f$[t]&&this.f$[t].Sj},n.l$=function(t,n){return this._$(t,t,n)},n._$=function(t,n,i){t+=i=+i||0,n-=i;for(var r=0;r<this.length;r+=1)if(this.start(r)<=t&&n<=this.end(r))return r;return-1},n.w$=function(t,n,i){t-=i=+i||0,n+=i;for(var r=0;r<this.length;r+=1)if(this.start(r)<n&&t<this.end(r))return r;return-1},n.g$=function(t,n){t+=n=+n||0;for(var i=this.length-1;i>=0;i-=1)if(this.start(i)<=t)return i;return-1},n.y$=function(t,n){t-=n=+n||0;for(var i=0;i<this.length;i+=1)if(t<=this.end(i))return i;return-1},n.Rm=function(t){return-1!==this.l$(t)},n.tm=function(t,n,i){return-1!==this._$(t,n,i)},n.im=function(t,n,i){return-1!==this.w$(t,n,i)},n.Wy=function(t){for(var n=[],i=0,r=0;i<this.length&&r<t.length;){var e=w.max(this.start(i),t.start(r)),u=w.min(this.end(i),t.end(r));if(e<u){var s=fO(this.Sj(i),e,u);n.push(aO(s))}this.end(i)<t.end(r)?i+=1:r+=1}return this.XG(n,!0)},n.Ka=function(t){return this.length&&t.length?this.Wy(nO(t)):this},n.Zy=function(t){return this.length?t.length?this.XG(this.f$.concat(t.f$)):this:t},n.m$=function(t){for(var n=[],i=0,r=this.f$;i<r.length;i++)for(var e=0,u=r[i].Sj;e<u.length;e++){var s=t(u[e]);s&&n.push(s)}return this.XG(n)},n.sm=function(t){return this.m$(function(n){return t(n)?n:null})},n.k$=function(){if(!this.length)return this;for(var t=this.f$.slice(),n=0;n<t.length-1;n+=1){var i=t[n],r=t[n+1];r&&this.p$(i,r)&&(t.splice(n,2,vO(i,r)),n-=1)}return this.XG(t,!0)},n.p$=function(t,n){var i=t.Sj,r=n.Sj,e=i.length?i[i.length-1]:null,u=r.length?r[0]:null;return e&&u&&this.A$(e,u)},n.d$=function(){var t=this.f$;t.sort(YD);for(var n=0;n<t.length-1;n+=1){var i=t[n],r=t[n+1];r&&oO(i,r,sO)&&(t.splice(n,2,vO(i,r)),n-=1)}},T(t,[{key:"length",get:function(){return this.f$.length}}]),t}(),wO=function(t){function n(n,i){return t.call(this,n,i)||this}ct(n,t);var i=n.prototype;return i.XG=function(t,i){return new n(t,i)},i.A$=function(t,n){return n.rw.lY===t.rw.lY&&n.rw.sj===t.rw.sj+1},n}(_O);function gO(t,n){for(var i=[],r=0;r<n.length;r++){var e=n[r],u=t.b$(e),s=t.T$(e,u);i.push({Ry:u.Mk(),Ny:s.Mk(),rw:e})}return new wO(i).k$()}function yO(t){return t.E$!==dO.S$}function mO(t){return 0===t.E$}function kO(t){return t.E$>=0}function pO(t,n){for(var i=[],r=0;r<n.length;r++)for(var e=!1,u=0,s=n.Sj(r);u<s.length;u++){var o=s[u];if(!e){var a=o.rw;if(qC(a)&&yO(a)){if((e=kO(a))&&!mO(a)){var c=t.R$(a,a.I$).Mk();o={Ry:w.max(o.Ry,c),Ny:o.Ny,rw:a}}}else e=!0;0}e&&i.push(o)}return new wO(i)}!function(t){t.S$=-1,t.N$=-2}(dO||(dO={})),function(t){t.C$="h.264",t.D$="mp3",t.O$="aac-lc",t.x$="he-aac"}(lO||(lO={}));var AO,bO,TO,EO,SO=function(){function t(){this.P$=0,this.f$=[],this.Ip={}}var n=t.prototype;return n.B$=function(t){this.f$=this.f$.concat(t.f$),this.P$+=t.Ch},n.M$=function(t,n,i){var r=this.P$,e=i-n;e>0&&(this.f$.push({L$:n,U$:i,F$:e,H$:r,V$:t}),this.P$+=e)},n.Ms=function(t){for(var n=0,i=this.f$;n<i.length;n++){var r=i[n];if(r.H$<=t&&t<r.H$+r.F$)return r.V$[t+r.L$-r.H$]}},n.X$=function(t,n){for(var i=n,r=0,e=this.f$;r<e.length;r++)for(var u=e[r],s=u.U$,o=u.L$;o<s;o+=1,i+=1)t[i]=u.V$[o];return i},n.q$=function(){for(var t=new k(this.P$),n=0,i=0,r=this.f$;i<r.length;i++)for(var e=r[i],u=e.U$,s=e.L$;s<u;s+=1,n+=1)t[n]=e.V$[s];return t},n.Ws=function(n){for(var i=new t,r=0,e=this.f$;r<e.length;r++){var u=e[r];i.M$(u.V$,u.L$,u.U$)}return i.Ip=n||Dt({},this.Ip),i},T(t,[{key:"Ch",get:function(){return this.P$},set:function(t){var n=this.f$,i=this.P$-t;if(!(t>=this.P$))if(this.P$=t,0!==t)for(var r=n.length-1;r>=0;r-=1){var e=n[r];if(i<=e.F$)return e.U$-=i,e.F$-=i,void(n.length!==r+1&&(n.length=r+1));i-=e.F$}else n.length=0}},{key:"Qn",get:function(){for(var t=new Array(this.P$),n=0,i=0,r=this.f$;i<r.length;i++)for(var e=r[i],u=e.U$,s=e.L$;s<u;s+=1,n+=1)t[n]=e.V$[s];return t}}]),t}();function RO(t,n){return{audio:t.audio?PO(t.audio,n):void 0,video:t.video?HO(t.video,n):void 0,W$:t.W$?(i=t.W$,{z$:i.z$,aZ:i.aZ,Jh:i.Jh,G$:i.G$,j$:i.j$,Q$:i.Q$,Y$:i.Y$.map(IO),tf:[]}):void 0,Z$:t.Z$?t.Z$.map(CO):t.Z$,J$:t.J$.hp()};var i}function IO(t){return{x_:t.x_,Ip:{K$:t.Ip.K$,n0:t.Ip.i0.hp()},ZF:t.ZF}}function NO(t){return{x_:t.x_,Ip:{K$:t.Ip.K$,i0:xv(t.Ip.n0)},ZF:t.ZF}}function CO(t){return{i0:t.i0.hp(),Qw:t.Qw,bz:t.bz,Az:t.Az,Cu:t.Cu,r0:t.r0,Tz:t.Tz,Ez:t.Ez}}function DO(t){return{i0:xv(t.i0),Qw:t.Qw,bz:t.bz,Az:t.Az,Cu:t.Cu,r0:t.r0,Tz:t.Tz,Ez:t.Ez}}function OO(t){return{z$:t.z$,ZF:[],e0:t.e0,u0:t.u0,duration:t.duration,s0:t.s0,o0:t.o0.hp(),a0:t.a0,c0:t.c0.hp(),h0:t.h0,f0:t.f0.hp(),v0:t.v0.hp(),d0:t.d0.hp(),l0:t.l0.hp(),_0:t._0.hp(),w0:t.w0.hp(),g0:t.g0.hp()}}function xO(t){return{z$:t.z$,ZF:[],e0:t.e0,u0:t.u0,duration:t.duration,s0:t.s0,o0:xv(t.o0),a0:t.a0,c0:xv(t.c0),h0:t.h0,f0:xv(t.f0),v0:xv(t.v0),d0:xv(t.d0),l0:xv(t.l0),_0:xv(t._0),w0:xv(t.w0),g0:xv(t.g0)}}function PO(t,n){switch(t.e0){case lO.O$:case lO.x$:return function(t,n){return Dt(Dt({},MO(t)),{e0:t.e0,ZF:t.ZF.map(function(t){return function(t,n){var i=(r=t.Ip,Dt(Dt({},qO(r)),{y0:r.y0,m0:r.m0,k0:r.k0}));var r;return UO(t.Ws(i),n)}(t,n)}),YQ:t.YQ,p0:t.p0})}(t,n);case lO.D$:return function(t,n){return Dt(Dt({},MO(t)),{e0:t.e0,ZF:t.ZF.map(function(t){return function(t,n){var i=(r=t.Ip,Dt(Dt({},qO(r)),{p_:r.p_,Q_:r.Q_,A0:r.A0,b0:r.b0,T0:r.T0}));var r;return UO(t.Ws(i),n)}(t,n)})})}(t,n)}}function BO(t){switch(t.e0){case lO.O$:case lO.x$:return function(t){return Dt(Dt({},LO(t)),{e0:t.e0,ZF:t.ZF.map(function(t){return function(t){var n=FO(t),i=(r=n.Ip,Dt(Dt({},WO(r)),{y0:r.y0,m0:r.m0,k0:r.k0}));var r;return n.Ws(i)}(t)}),YQ:t.YQ,p0:t.p0})}(t);case lO.D$:return function(t){return Dt(Dt({},LO(t)),{e0:t.e0,ZF:t.ZF.map(function(t){return function(t){var n=FO(t),i=(r=n.Ip,Dt(Dt({},WO(r)),{p_:r.p_,Q_:r.Q_,A0:r.A0,b0:r.b0,T0:r.T0}));var r;return n.Ws(i)}(t)})})}(t)}}function MO(t){return Dt(Dt({},OO(t)),{ZF:[],e0:t.e0,E0:t.E0,S0:t.S0,R0:t.R0,I0:t.I0})}function LO(t){return Dt(Dt({},xO(t)),{ZF:[],e0:t.e0,E0:t.E0,S0:t.S0,R0:t.R0,I0:t.I0})}function UO(t,n){var i=t.q$();return n.push(i.buffer),{N0:i,C0:t.Ch,D0:t.Ip}}function FO(t){var n=new SO;return n.M$(t.N0,0,t.C0),n.Ip=t.D0,n}function HO(t,n){return Dt(Dt({},OO(t)),{e0:t.e0,ZF:t.ZF.map(function(t){return function(t,n){var i=(r=t.Ip,Dt(Dt({},VO(r)),{Uv:r.Uv,O0:r.O0.hp(),x0:r.x0,P0:r.P0,B0:r.B0&&r.B0.hp(),M0:r.M0&&r.M0.hp(),L0:r.L0,U0:r.U0,Z$:r.Z$,F0:r.F0}));var r;return UO(t.Ws(i),n)}(t,n)}),H0:t.H0,V0:t.V0,xw:t.xw,width:t.width,height:t.height,X0:t.X0,q0:t.q0,W0:t.W0,qQ:t.qQ,WQ:t.WQ,Lw:t.Lw,Uw:t.Uw})}function VO(t){var n;return Dt(Dt({},{K$:(n=t).K$,n0:n.n0.hp()}),{z0:t.z0.hp(),G0:t.G0.hp()})}function XO(t){var n;return Dt(Dt({},{K$:(n=t).K$,n0:xv(n.n0)}),{z0:xv(t.z0),G0:xv(t.G0)})}function qO(t){return Dt({},VO(t))}function WO(t){return Dt({},XO(t))}function zO(t){var n=t.video,i=n&&n.ZF;if(!n)return 0;if(!i)return NaN;for(var r=0;r<i.length;r+=1){if(i[r].Ip.L0)return r}return NaN}function GO(t){var n=t.j0.video,i=n&&n.ZF;if(!n)return 0;if(!i)return NaN;for(var r=i.length-1;r>=0;r-=1){if(i[r].Ip.L0)return r}return NaN}function jO(t){if(!t)return null;switch(t.e0){case lO.C$:return function(t){return t.xw?"avc1."+(t.X0<16?"0":"")+((t.X0<<16)+(t.q0<<8)+t.W0).toString(16):null}(t);case lO.D$:return"mp4a.40.34";case lO.O$:return t.p0?"mp4a.40.5":"mp4a.40.2";case lO.x$:return"mp4a.40.5";default:return null}}function QO(t,n){var i=t.info,r=i.lY,e=t.j0,u=r.Nj(t.info.sj-1),s=e.audio||void 0,o=e.video||void 0,a=s&&jO(s),c=o&&jO(o),h=(!s||a)&&(!o||c)?{NQ:a,CQ:c}:null,f=s&&!m(s.h0)?s.h0:null,v=o&&!m(o.h0)?o.h0:null,d=qv(s&&s.v0,o&&o.v0),l=qv(s&&s.d0,o&&o.d0),_=Wv(s&&s.w0,o&&o.w0),g=Wv(s&&s.g0,o&&o.g0),y=o&&o.o0.Wa(Dv.Jk(o.duration)),k=s&&s.o0.Wa(Dv.Jk(s.duration)),p=qC(u),A=p&&u.width||r.resolution&&r.resolution.width,b=p&&u.width||r.resolution&&r.resolution.height;t.metadata={start:w.max(null===f?v||0:null===v?f:w.min(f,v),0),Q0:i,duration:y&&k?Dv.Xa(y,k).Mk():(y||k||Dv.rc).Mk(),Y0:d,Z0:l,J0:_,K0:g,audio:{start:w.max(0,f||0),duration:s&&s.s0||0,e0:a,uJ:s&&s.a0,Y0:s&&s.v0,Z0:s&&s.d0,J0:s&&s.w0,K0:s&&s.g0},video:{start:w.max(0,v||0),duration:o&&o.s0||0,e0:c,uJ:o&&o.a0,Y0:o&&o.v0,Z0:o&&o.d0,J0:o&&o.w0,K0:o&&o.g0},RB:o?{width:o.width||A,height:o.height||b}:null,sj:i.sj,size:n,quality:r,IY:h,$0:i.$0,n1:i.n1}}function YO(t,n){var i,r,e,u,s={start:0,duration:0,e0:null,uJ:null,Y0:null,Z0:null,J0:null,K0:null};return"NQ"===n?(r=s,e=i=Dt(Dt({},s),t.video),u=t.RB):(r=i=Dt(Dt({},s),t.audio),e=s,u=null),{start:i.start,Q0:t.Q0,duration:i.duration,Y0:i.Y0,Z0:i.Z0,J0:i.J0,K0:i.K0,audio:r,video:e,RB:u,sj:t.sj,size:t.size,quality:t.quality,IY:t.IY,$0:t.$0,n1:t.n1}}function ZO(t,n){return t+"i1"+n.sj+"e1"+n.uri}!function(t){t.u1="s1",t.o1="a1"}(AO||(AO={})),function(t){t.c1="h1",t.$G="f1"}(bO||(bO={})),function(t){t.v1="d1",t.o1="a1"}(TO||(TO={})),function(t){t.l1="_1",t.w1="g1"}(EO||(EO={}));var JO=function(t){function n(n){var i;return(i=t.call(this)||this).m1=xt(),i.A1=void 0,i.b1=void 0,i.T1=function(t){var n=t.data,r=n.E1;if(i.m1.get(r))switch(n.S1){case bO.c1:0;var e=n.R1;i.I1(r,e);break;case bO.$G:var u=n.N1;i.C1(r,new AC(pC.YG,{code:u}));default:0}},i.D1=function(t){var n,r,e,u,s=t.data,o=s.O1;if(i.m1.get(o))switch(s.P1){case EO.l1:0;var a=s.B1;i.M1(o,{audio:(n=a).audio?BO(n.audio):void 0,video:n.video?(e=n.video,u=xO(e),Dt(Dt({},u),{e0:e.e0,ZF:e.ZF.map(function(t){return function(t){var n,i=FO(t),r=Dt(Dt({},XO(n=i.Ip)),{Uv:n.Uv,O0:xv(n.O0),x0:n.x0,P0:n.P0,B0:n.B0&&xv(n.B0),M0:n.M0&&xv(n.M0),L0:n.L0,U0:n.U0,Z$:n.Z$,F0:n.F0});return i.Ws(r)}(t)}),H0:e.H0,V0:e.V0,xw:e.xw,width:e.width,height:e.height,X0:e.X0,q0:e.q0,W0:e.W0,qQ:e.qQ,WQ:e.WQ,Lw:e.Lw,Uw:e.Uw})):void 0,W$:n.W$?(r=n.W$,{z$:r.z$,aZ:r.aZ,Jh:r.Jh,G$:r.G$,j$:r.j$,Q$:r.Q$,Y$:r.Y$.map(NO),tf:[]}):void 0,Z$:n.Z$?n.Z$.map(DO):n.Z$,J$:xv(n.J$)});break;case EO.w1:var c=s.L1;i.C1(o,new AC(pC.YG,{code:c}));default:0}},i.U1=function(t){if("PLAYER_INCORRECTLY_CONFIGURED"===t.message){var n={type:"Is",Is:new AC(pC.rj,{code:"THEOplayer workers could not be loaded. Please check the configuration of the libraryLocation"})};ut(n.Is.info.code),i.dispatchEvent(n)}else 0},i.Go=n,i.b1=i.F1(),i}ct(n,t);var i=n.prototype;return i.ss=function(t){var n=[];this.m1.forEach(function(i,r){t&&i.j_!==t||n.push(r)}),this.H1(n)},i.H1=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.m1.delete(i)}if(t.length){if(this.A1){var r={V1:AO.o1,X1:t};this.A1.postMessage(r)}if(this.b1){var e={q1:TO.o1,W1:t};this.b1.postMessage(e)}}},i.C1=function(t,n){var i=this.m1.get(t);if(i){var r=i.LD;this.m1.delete(t),r(n)}},i.z1=function(t,n,i,r){this.A1||(this.A1=this.G1());var e={V1:AO.u1,j1:t,Q1:n,Y1:i,Z1:r};this.A1.postMessage(e)},i.J1=function(t,n){this.b1||(this.b1=this.F1());var i={q1:TO.v1,K1:t,n2:n,i2:this.m1.get(t).e2};this.b1.postMessage(i)},i.I1=function(t,n){this.J1(t,n)},i.G1=function(){var t=GD(this.Go.libraryLocation,"theoplayer.d.js");return t.addEventListener("message",this.T1),t.addEventListener("error",this.U1),t},i.u2=function(t){var n=t.j0.video,i=n&&n.ZF&&n.ZF[0];i&&i.Ip.L0},i.M1=function(t,n){var i=this.m1.get(t),r=i.LD,e=i.s2,u={j0:n,info:i.o2,metadata:null};this.u2(u),function(t){var n=t.info.lY.Nj(t.info.sj-1),i=t.j0;t.info.n1=t.info.Cj,n&&(i.audio||i.video?i.video&&!i.video.V0&&!i.video.H0&&i.video.a0&&n.JQ&&i.video.a0!==n.JQ?t.info.n1=!0:i.video&&(i.video.height&&n.height&&i.video.height!==n.height||i.video.width&&n.width&&i.video.width!==n.width)&&(t.info.n1=!0):t.info.n1=!0)}(u),QO(u,e),function(t){var n=t.info,i=n.lY,r=t.metadata,e=t.j0;if(n.a2=Dv.Jk(r.duration),n.nQ=e.audio&&e.audio.o0.Wa(Dv.Jk(e.audio.duration))||Dv.rc,n.iQ=e.video&&e.video.o0.Wa(Dv.Jk(e.video.duration))||Dv.rc,n.c2=e.audio&&e.audio.o0||Dv.rc,n.h2=e.video&&e.video.o0||Dv.rc,n.f2=r.audio.Y0,n.v2=r.audio.Z0,n.d2=r.video.Y0,n.l2=r.video.Z0,n.tQ=r.Y0,n._2=r.Z0,n.w2=r.audio.J0,n.g2=r.audio.K0,n.m2=r.video.J0,n.A2=r.video.K0,n.J0=r.J0,n.K0=r.K0,e.video){var u=zO(t.j0),s=e.video.ZF&&e.video.ZF[u];s?(n.E$=u,n.I$=s.Ip.z0,n.b2=s.Ip.G0):n.E$=dO.N$}else n.E$=dO.S$;n.JQ=e.video&&e.video.a0||0,n.width=e.video&&e.video.width||0,n.height=e.video&&e.video.height||0,i.dispatchEvent({type:"WY",o2:t.info}),!i.resolution&&r.RB&&(i.resolution=r.RB),i.bandwidth||(i.bandwidth=8*r.size/r.duration),!r.IY||i.IY&&!i.IY.NQ==!r.IY.NQ&&!i.IY.CQ==!r.IY.CQ||i.pY(r.IY),e.audio&&void 0!==e.audio.YQ&&(i.YQ=e.audio.YQ),i.qQ=e.video&&e.video.qQ||i.qQ,i.WQ=e.video&&e.video.WQ||i.WQ,i.zQ=e.audio&&e.audio.z$||void 0,i.GQ=e.video&&e.video.z$||void 0,i.jQ=e.audio&&e.audio.e0||void 0,i.QQ=e.video&&e.video.e0||void 0,i.ZQ=e.audio&&e.audio.a0||void 0,i.JQ=e.video&&e.video.a0||void 0}(u),this.m1.delete(t),r(null,u)},i.F1=function(){var t=GD(this.Go.libraryLocation,"theoplayer.e.js");return t.addEventListener("message",this.D1),t.addEventListener("error",this.U1),t},i.T2=function(t,n,i,r){var e=this;t.getKey(r).then(function(t){var u=i;i=void 0,e.m1.has(n)&&e.z1(n,u,t,r.iv)}).catch(function(t){i=void 0,e.m1.has(n)&&e.C1(n,t)})},i.E2=function(t,n,i,r,e,u){var s=ZO(t,r),o=r.lY;this.m1.set(s,{j_:t,o2:r,e2:{S2:r.duration,IY:o.IY,qQ:o.qQ,WQ:o.WQ,zQ:o.zQ,GQ:o.GQ,jQ:o.jQ,QQ:o.QQ,YQ:!this.Go.skipImplicitHEAACDetection&&o.YQ,R2:e},s2:i.length,LD:u}),r.key?this.T2(n,s,i,r.key):this.J1(s,i)},i.I2=function(t){var n=[];return this.m1.forEach(function(i){i.j_===t&&n.push(i.o2)}),n},i.N2=function(t,n){var i=ZO(t,n);return this.m1.has(i)},i.Ih=function(){this.ss(),this.A1&&(this.A1.terminate(),this.A1=void 0),this.b1&&(this.b1.terminate(),this.b1=void 0)},n}(mC);function KO(t,n){return t+"C2"+n}function $O(t){return KO(t.lY.Hh,t.sj)}function tx(t){return!(!t||!t.j0)}var nx=function(){function t(t,n,i){this.D2=[],this.O2=xt(),this.P2=1,this.Ig=t,this.B2=n,this.M2=i}var n=t.prototype;return n.L2=function(t){var n=$O(t.info);if(this.O2.has(n))this.U2(t.info,t);else{this.D2.push(n),this.O2.set(n,t);for(var i=this.B2.F2+10;this.D2.length>8*this.H2&&this.V2>i*this.H2;){var r=this.O2.get(this.D2[0]),e=this.M2.X2,u=null==r?void 0:r.info;if(u){var s=u.start,o=s+u.duration,a=new nf([s,o]),c=e,h=c+this.B2.F2;if(new nf([c,h]).Wy(a).Ch>0)break}this.O2.delete(this.D2.shift())}}},n.q2=function(t,n){var i=KO(t,n),r=this.O2.get(i),e=this.D2.indexOf(i);return!(!r||-1===e)&&(Cn(this.D2,e),this.O2.delete(i),!0)},n.Fs=function(){this.D2.length=0,this.O2.clear()},n.W2=function(){for(var t={},n=0,i=this.D2;n<i.length;n++){var r=i[n],e=this.O2.get(r);tx(e)&&(t[e.info.lY.Hh]=(t[e.info.lY.Hh]||0)+1)}return t},n.z2=function(t,n){var i=[],r=this.G2(t,n);if(!tx(r))return i;do{i.push(r),n+=1,r=this.G2(t,n)}while(tx(r));return i},n.j2=function(t,n){return!!this.G2(t,n)},n.Q2=function(t,n){return tx(this.G2(t,n))},n.G2=function(t,n){return this.O2.get(KO(t,n))},n.U2=function(t,n){var i=$O(t),r=this.D2.indexOf(i);return-1!==r&&(Cn(this.D2,r),this.D2.push(i),n&&this.O2.set(i,n),!0)},n.Y2=function(){for(var t=[],n=0,i=this.D2;n<i.length;n++){var r=i[n],e=this.O2.get(r);t.push(e.info)}return t},n.Z2=function(){for(var t=[],n=0,i=this.D2;n<i.length;n++){var r=i[n],e=this.O2.get(r);e&&tx(e)&&t.push(e.info)}return t},T(t,[{key:"V2",get:function(){for(var t=gO(this.Ig,this.Y2()),n=0,i=0;i<t.length;i++)n+=t.end(i)-t.start(i);return n}},{key:"H2",get:function(){return this.P2},set:function(t){t>0&&(this.P2=w.max(t,1))}}]),t}();var ix=P.nn?function(t,n){return t.z0.Ka(n.z0)}:function(t,n){return t.G0.Ka(n.G0)};function rx(t,n,i){var r,e=t.length,u=Dv.rc;r=function(t,n){return ix(t.Ip,n.Ip).Za(Dv.rc)},t=En(t.slice(),r);for(var s=1;s<e;s+=1){var o=t[s-1].Ip,a=t[s].Ip,c=ix(a,o);c.qa(Dv.rc)&&(c=n),u=u.Wa(c),o.O0=c,o.Uv=c.Mk()}if(e>0){var h=t[e-1].Ip,f=Dv.Ha(Dv.Jk(w.round(i-u.Mk())),n);h.O0=f,h.Uv=f.Mk()}}function ex(t,n,i){var r=n[0].Ip.n0,e=t[t.length-1].Ip.n0,u=r.Ka(e),s=Xv(r,e).Ka(u);if(!s.Ok())for(var o=0;o<n.length;o++){i(n[o].Ip,s)}}function ux(t,n){t.G0=t.G0.Wa(n),t.z0=t.z0.Wa(n),t.n0=t.n0.Wa(n)}function sx(t,n){ux(t,n),t.O0=t.O0.Wa(n),t.M0=ox(t.M0,n),t.B0=ox(t.B0,n)}function ox(t,n){if(t)return t.Wa(n)}function ax(t,n){return n.Wa(Xv(t,n))}function cx(t,n){var i={audio:void 0,video:void 0,J$:t.J$};if("video"===n){if(!t.audio)return i;i.audio={e0:t.audio.e0,a0:t.audio.a0,c0:t.audio.c0,duration:t.audio.duration,s0:t.audio.s0,o0:Dv.rc,h0:t.audio.h0,f0:t.audio.f0,v0:t.audio.v0,d0:t.audio.d0,l0:t.audio.l0,_0:t.audio._0,w0:t.audio.w0,g0:t.audio.g0,ZF:t.audio.ZF,I0:t.audio.I0,R0:t.audio.R0,u0:t.audio.u0,E0:t.audio.E0,S0:t.audio.S0}}if("audio"===n){if(!t.video)return i;i.video={e0:t.video.e0,X0:t.video.X0,W0:t.video.W0,q0:t.video.q0,a0:t.video.a0,c0:t.video.c0,H0:t.video.H0,V0:t.video.V0,width:t.video.width,height:t.video.height,qQ:t.video.qQ,WQ:t.video.WQ,Lw:t.video.Lw,Uw:t.video.Uw,xw:t.video.xw,duration:t.video.duration,s0:t.video.s0,o0:Dv.rc,h0:t.video.h0,f0:t.video.f0,v0:t.video.v0,d0:t.video.d0,l0:t.video.l0,_0:t.video._0,w0:t.video.w0,g0:t.video.g0,ZF:t.video.ZF,u0:t.video.u0}}return i}function hx(t,n,i,r){var e=function(t,n){if(!t)return n;if(!n)return t;var i;if((t.e0===n.e0||!t.e0||!n.e0)&&t.a0===n.a0&&t.c0.Ja(n.c0)&&t.R0===n.R0)return t.ZF?n.ZF?(i=t.ZF.concat(n.ZF),ex(t.ZF,n.ZF,ux)):i=t.ZF:i=n.ZF,{e0:t.e0,a0:t.a0,c0:t.c0,duration:t.duration+n.duration,s0:t.s0+n.s0,o0:t.o0,h0:t.h0,f0:t.f0,v0:t.v0,d0:t.d0,l0:ax(n.l0,t.l0),_0:ax(n._0,t._0),w0:ax(n.w0,t.w0),g0:ax(n.g0,t.g0),ZF:i,R0:t.R0,I0:t.I0,u0:t.u0||n.u0,E0:t.E0,S0:t.S0}}(t.audio?t.audio:void 0,i.audio?i.audio:void 0);if(!t.audio&&!i.audio||e){var u=function(t,n,i,r){if(!t)return i;if(!i)return t;if(t.e0===i.e0){var e,u,s=t.H0||i.H0;if(s)u=1/(e=t.c0.Wa(i.c0).Yk(2)).Mk();else{if(t.a0!==i.a0)return;if(!t.c0.Ja(i.c0))return;e=t.c0,u=t.a0}if(t.width===i.width&&t.height===i.height){var o,a=t.V0||i.V0||!t.c0.Ja(i.c0);return t.ZF?i.ZF?r?(o=t.ZF.concat(i.ZF),ex(t.ZF,i.ZF,sx)):(rx(n.ZF.concat(i.ZF),e,n.duration+i.duration),o=t.ZF.concat(i.ZF),ex(t.ZF,i.ZF,sx)):o=t.ZF:o=i.ZF,{e0:t.e0,X0:t.X0,W0:t.W0,q0:t.q0,a0:u,c0:e,H0:s,V0:a,width:t.width,height:t.height,qQ:t.qQ,WQ:t.WQ,xw:t.xw,duration:t.duration+i.duration,s0:t.s0+i.s0,o0:t.o0,h0:t.h0,f0:t.f0,v0:t.v0,d0:t.d0,l0:ax(i.l0,t.l0),_0:ax(i._0,t._0),w0:ax(i.w0,t.w0),g0:ax(i.g0,t.g0),ZF:o,u0:t.u0||i.u0,Lw:t.Lw,Uw:t.Uw}}}}(t.video?t.video:void 0,n.video,i.video,r);if(!t.video&&!i.video||u)return{audio:e,video:u,J$:t.J$}}}function fx(t){return cx(t,"audio")}function vx(t){return cx(t,"video")}var dx,lx,_x,wx=function(){function t(t){this.xC=0,this.J2=0,this.K2=w.exp(w.log(.5)/t)}var n=t.prototype;return n.OC=function(t,n){var i=w.pow(this.K2,t),r=n*(1-i)+i*this.xC;m(r)||(this.xC=r,this.J2+=t)},n.t3=function(){var t=1-w.pow(this.K2,this.J2);return this.xC/t},t}(),gx=function(){function t(t,n,i){void 0===t&&(t=2),void 0===n&&(n=5),void 0===i&&(i=128e3),this.n3=0,this.i3=5e5,this.r3=new wx(t),this.e3=new wx(n),this.u3=i}var n=t.prototype;return n.OC=function(t,n){var i=8e3*n/t,r=t/1e3;this.n3+=n,this.r3.OC(r,i),this.e3.OC(r,i)},n.t3=function(){return this.jC()?w.min(this.r3.t3(),this.e3.t3()):this.i3},n.jC=function(){return this.n3>=this.u3},t}(),yx=function(){function t(){this.r3=new wx(2),this.e3=new wx(5),this.s3=0,this.o3=1,this.i3=100}var n=t.prototype;return n.OC=function(t){this.s3+=1,this.r3.OC(1,t),this.e3.OC(1,t)},n.t3=function(){return this.jC()?w.min(this.r3.t3(),this.e3.t3()):this.i3},n.jC=function(){return this.s3>=this.o3},t}(),mx=function(){function t(t,n){var i=this;this.a3=!1,this.c3=0,this.h3=0,this.f3=function(){return i.v3()},this.d3=t,this.yA=n,this.AK=n.AK,this.AK.addEventListener("_o",this.f3)}return t.prototype.v3=function(){var t=this.AK.XK,n=1e3*this.AK.GK,i=1e3*this.AK.zK;this.AK.FJ&&(this.a3||(this.d3.l3(i),this.a3=!0),n>this.h3&&(this.d3._3(n-this.h3,t-this.c3),this.c3=t,this.h3=n))},t}(),kx=function(){function t(){this.w3=new gx,this.g3=new yx}var n=t.prototype;return n.y3=function(t){new mx(this,t)},n._3=function(t,n){this.w3.OC(t,n)},n.l3=function(t){this.g3.OC(t)},n.Ih=function(){},T(t,[{key:"m3",get:function(){return this.g3.t3()/1e3}},{key:"A3",get:function(){return this.w3.t3()}}]),t}(),px=function(){function t(){this.b3=xt()}var n=t.prototype;return n.T3=function(t,n){var i,r,e=this.b3.get(t);return Boolean(e&&(i=e.Kj,r=n,X(i)?i===r:function(t,n){return t.Kj===n.Kj&&t.$j.Ry===n.$j.Ry&&t.$j.Ny===n.$j.Ny}(i,r)))},n.E3=function(t,n){if(this.T3(t,n))return this.b3.get(t).Qn},n.S3=function(t,n,i){this.b3.set(t,{Kj:n,Qn:i})},n.Fs=function(){this.b3.clear()},t}();!function(t){t[t.R3=0]="R3",t[t.I3=5]="I3",t[t.N3=13]="N3",t[t.C3=14]="C3",t[t.D3=15]="D3"}(dx||(dx={})),function(t){t[t.O3=0]="O3",t[t.x3=1]="x3",t[t.P3=2]="P3",t[t.B3=11]="B3",t[t.M3=13]="M3",t[t.L3=14]="L3"}(lx||(lx={})),function(t){t[t.U3=0]="U3",t[t.F3=1]="F3",t[t.H3=2]="H3",t[t.V3=3]="V3",t[t.X3=4]="X3",t[t.q3=5]="q3",t[t.W3=6]="W3",t[t.z3=7]="z3"}(_x||(_x={}));var Ax=5,bx=5,Tx=.5;function Ex(t){if(!t.j0.video)return[];for(var n=[],i=0;i<t.j0.video.ZF.length;i++){var r=t.j0.video.ZF[i].Ip;r.L0&&n.push({G3:i,j3:r.z0})}return n}var Sx=Dv.Jk(.04),Rx=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).Q3=xt(),u.Y3=xt(),u.Z3=1,u.Go=n,u.J3=i,u.TA=r,u.K3=new px,u.B2=e,u.t4=new xD(r,n),u.n4=new kx,u.i4=new JO(n),u.i4.addEventListener("Is",function(t){u.dispatchEvent(t)}),u}ct(n,t);var i=n.prototype;return i.r4=function(t){this.i4.ss(t),this.t4.Fs(!1,t)},i.Fs=function(t){this.r4(t),t?this.Q3.get(t).Fs():this.Q3.forEach(function(t){return t.Fs()})},i.Ih=function(){this.gs(),this.t4.Fs(),this.Q3.forEach(function(t){return t.Fs()}),this.Q3.clear(),this.i4.Ih()},i.Th=function(t,n,i){if(!this.Q3.has(t)){var r=new nx(n,this.B2,i);r.H2=this.H2,this.Q3.set(t,r)}},i.e4=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r){var e;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.K3.T3(i,r)){t.next=2;break}return t.abrupt("return",this.K3.E3(i,r));case 2:return t.next=4,this.u4(n,r);case 4:return e=t.sent,this.K3.S3(i,r,e),t.abrupt("return",e);case 7:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.u4=function(t,n){var i=this;return new Ct(function(r,e){i.t4.do(t,n,Zd.Fp,function(t,n){t&&e(t),r(new k(n.mA))})})},i.s4=function(t,n,i,r){var e=this.Q3.get(t),u=e.G2(n.lY.Hh,n.sj);if(e.Q2(n.lY.Hh,n.sj))e.U2(n),this.dispatchEvent({type:"o4",j_:t,FY:u});else{if(!u)return this.a4(t,n,i,r);e.U2(n),this.c4(t,n,i,u.h4)}return r&&r(),null},i.a4=function(t,n,i,r){var e=this,u=this.Q3.get(t),s=function(t,n){return t+"f4"+n.sj+"e1"+n.uri}(t,n);if(this.Y3.has(s))return null;this.Y3.set(s,!0);var o=this.t4.do(t,n.uri,Zd.Fp,function(a,c){return e.Y3.delete(s),a?r&&r(a):(e.dispatchEvent({type:"v4",j_:t}),u.Q2(n.lY.Hh,n.sj)||u.L2({info:n,h4:o.mA}),e.s4(t,n,i),r&&r(a,c))});return this.n4.y3(o),o},i.c4=function(t,n,i,r){var e=this,u=this.Q3.get(t);this.i4.N2(t,n)||(n&&n.key&&this.J3.getKey(n.key).catch(j),this.i4.E2(t,this.J3,r,n,i,function(n,i){if(n)return e.dispatchEvent({type:"Is",Is:n});u.L2(i),e.dispatchEvent({type:"o4",j_:t,FY:i})}))},i.d4=function(t,n,i){var r=i.length,e="NQ"===t?Nx:Cx;if(!Ix(n,i))return null;if(r<=1)return i;for(var u=1;u<r;u+=1){var s=i[u],o=i[u-1];if(s.metadata.n1){if("l4"===this.Go._4||e(s,o)){var a=i.splice(0,u);return Ix(n,a)?a:this.d4(t,n,i)}0}}return i},i.w4=function(t,n,i,r){for(var e=this.Q3.get(t).Z2(),u=r.g4,s=function(t){var r=i[t],s=e.filter(function(t){return t.lY===r}),o=gO(n,s),a=o.l$(u.Mk(),Sx.Mk());if(a>=0&&Dv.Jk(o.end(a)).Ka(u).Va(Sx))return{v:!0}},o=0;o<i.length;o++){var a=s(o);if("object"==typeof a)return a.v}return!1},i.y4=function(t,n,i,r,e){if(!P.Jt)return!0;if(e.m4||this.w4(t,n,i,e))return!0;var u=Dv.Ha(r,e.A4);return e.g4.Ka(u).Va(Dv.Jk(2))},i.b4=function(t,n,i,r,e,u,s,o){var a=n.z2(e.Hh,u),c=this.d4(t,u,a);if(!c||0===c.length)return null;var h,f=c[0],v=r.b$(f.info),d=qx(t,r,f);if("CQ"!==t||function(t,n,i){return!!t&&t.rw.lY===n&&i.Va(Dv.Jk(t.Ny))&&i.qa(Dv.Jk(t.Ny).Wa(Sx))}(i,e,d))return{Sj:c,T4:Dv.Xa(v,d)};f.j0.video&&(f=(c=Mx(c,function(t,n,i,r){for(var e=0,u=0,s=0;s<t.length;s+=1)for(var o=t[s],a=Ex(o),c=0;c<a.length;c++){var h=a[c];if(n.R$(o.info,h.j3).Ga(i.Ka(r)))return{E4:e,S4:u};e=s,u=h.G3}return{E4:e,S4:u}}(c,r,s,o)))[0]);if(d=qx(t,r,f),function(t){var n=t.j0.video,i=n&&n.ZF,r=i&&i[0],e=r&&r.Ip.L0;if(!n)return!0;return!!e}(f))return{Sj:c,T4:Dv.Xa(v,d)};var l=function(t){for(var n=0;n<t.length;n++){var i=zO(t[n].j0);if(!m(i))return{E4:n,S4:i}}return null}(c),_=Dv.Ha(s,Hx(t,r,e.Nj(u)));if(f.info.sj===u){if(l&&(d=qx(t,r,(h=Mx(c,l))[0]),_.Ka(d).Va(o)))return{Sj:h,T4:Dv.Xa(v,d)};for(var w=u-1;n.Q2(e.Hh,w);){var g=n.z2(e.Hh,w);if((f=(h=this.d4(t,u,g))&&h[0]&&Bx(h[0],GO(h[0])))&&(d=qx(t,r,f),_.Ka(d).Va(o)))return h[0]=f,{Sj:h,T4:Dv.Xa(v,d)};w-=1}}return function(t){if(t.Cj)return!1;var n=t.lY;if(n.Ij&&n.Ij.live)return!1;if(!n.Nj(t.sj-1))return!1;return!0}(c[0].info)?null:l?{Sj:c=Mx(c,l),T4:v}:null},i.R4=function(t,n,i,r,e,u,s,o,a,c,h){var f=u.I4(o,a,n),v=f&&f.rw;if(!v)return null;var d=v.sj;do{var l=d,_=o.Nj(l),w=Hx(n,u,_);if(!Vx(n,u,_).ja(a)||_.$0){if(w.Wa(Sx).Ga(c))break;if(Dv.Ha(Dv.rc,a.Ka(w)).ja(h)&&i.Q2(o.Hh,l-1)&&i.Q2(o.Hh,l))i.G2(o.Hh,l).metadata.n1||(l-=1);var g=this.N4(t,n,i,r,e,u,s,o,l,a,h);if(g&&(Px(g,a,c)||g.m4))return g}}while(i.Q2(o.Hh,++d));return null},i.N4=function(t,n,i,r,e,u,s,o,a,c,h){var f=o.Nj(a),v=this.b4(n,i,r,u,o,a,c,h),d=v&&v.Sj,l=v&&v.T4,_=d&&d[d.length-1],g=_&&_.metadata.$0;if(!(d=function(t,n){if(!n||!n.length)return n;var i="NQ"===t?Dx:Ox;return n.map(i).filter(xx)}(n,d))||!d.length){if(g){var y=[],m=u.b$(_.info);return y.RL=m,y.C4=m,y.A4=m,y.D4=m,y.g4=m,y.m4=g,y}return null}var k=d="CQ"===n?function(t,n,i){var r=i[0].j0.video;return i[0].info.Cj?function(t,n,i,r){var e=In(r.ZF,function(t){return t.Ip.L0});if(e<0)return i;var u=r.ZF[e].Ip,s=n.R$(i[0].info,u.z0),o=Wx(t,s);if(o.pk())return i;var a=s.Ka(o).za(Pv,Rv.cp);if(a.qa(Dv.rc))return i;var c=jx(r.ZF.slice(e),a);return i[0]=Ux(i[0],c),i}(t,n,i,r):function(t,n,i,r){var e=r.c0.zk(Ax),u=r.ZF[0].Ip,s=n.R$(i[0].info,u.G0),o=zx(t,s,e);if(o.pk())return i;var a=s.Ka(o).za(Pv,Rv.cp);if(a.qa(Dv.rc)||a.Ga(e))return i;var c=jx(r.ZF,a);return i[0]=Ux(i[0],c),i}(t,n,i,r)}(e,u,d):function(t,n,i){var r;if((null===(r=i[0].j0.audio)||void 0===r?void 0:r.e0)===lO.D$)return i;var e=i[0].j0.audio,u=e.ZF[0].Ip;return i[0].info.Cj?function(t,n,i,r,e){var u=n.R$(i[0].info,e.z0),s=Wx(t,u);if(s.pk())return i;var o=u.Ka(s).Mk(),a=w.floor(o/r.c0.Mk());if(a<=0)return i;var c=Gx(r,a);return i[0]=Lx(i[0],c),i}(t,n,i,e,u):function(t,n,i,r,e){var u=n.R$(i[0].info,e.G0),s=zx(t,u,r.c0.zk(bx));if(s.pk())return i;var o=(a=u.Ka(s).Mk()/r.c0.Mk(),a<0?w.ceil(a):w.floor(a));var a;if(0===o||w.abs(o)>bx)return i;var c=Gx(r,o);return i[0]=Lx(i[0],c),i}(t,n,i,e,u)}(e,u,d),p=k[0];if(f.sj<p.info.sj&&(l=u.b$(f)),k.RL=l,k.C4=function(t,n,i){return n.R$(i.info,Xx(t,i).Z0)}(n,u,p),k.A4=qx(n,u,p),k.D4=function(t,n,i){return n.R$(i.info,Xx(t,i).K0)}(n,u,k[k.length-1]),k.g4=function(t,n,i){return n.R$(i.info,Xx(t,i).J0)}(n,u,k[k.length-1]),k.m4=g,!this.y4(t,u,s,c,k))return null;var A=p.j0.video;return!A||(A.qQ=A.qQ||o.qQ,A.WQ=A.WQ||o.WQ,A.qQ&&A.WQ)?k:null},i.O4=function(t,n,i,r,e,u,s,o,a,c){for(var h=null,f=s.length-1;f>=0;f-=1){var v=s[f],d=this.R4(t,n,i,r,e,u,s,v,o,a,c);d&&(h&&!d.A4.ja(h.A4)||(h=d))}return h},i.x4=function(t,n,i,r,e,u,s,o,a){for(var c=Dv.Jk(s),h=Dv.Jk(o),f=Dv.Jk(a),v=this.Q3.get(t),d=new ZD([{Ry:c.Mk(),Ny:c.Wa(h).Mk()}]),l=e.Wy(d),_=function(t){if(0===t.length)return null;var n=t.Sj(t.length-1),i=n[n.length-1];if(!i.rw.P4)return null;return i}(e),w=tO(nO(l),d),g=0;g<w.length;g++){var y=Dv.Jk(w.start(g)),m=Dv.Jk(w.end(g)),k=Qx(l,y,m),p=y.Wa(k).za(Pv,Rv.cp),A=m.za(Pv,Rv.cp);if(p.ja(A)){if(_&&p.Va(Dv.Jk(_.Ny)))continue;var b=this.O4(t,n,v,u,e,i,r,p,A,f);if(b)return b}}return null},i.Z2=function(t){return this.Q3.get(t).Z2()},i.I2=function(t){return this.i4.I2(t)},T(n,[{key:"H2",get:function(){return this.Z3},set:function(t){t>0&&(this.Z3=t,this.Q3.forEach(function(n){return n.H2=t}))}},{key:"m3",get:function(){return this.n4.m3}},{key:"A3",get:function(){return this.n4.A3}}]),n}(mC);function Ix(t,n){for(var i=0;i<n.length;i++){if(n[i].info.sj===t)return!0}return!1}function Nx(t,n){return t.metadata.audio.e0!==n.metadata.audio.e0||(t.metadata.audio.uJ!==n.metadata.audio.uJ||(!(!t.j0.audio||!n.j0.audio||t.j0.audio.R0===n.j0.audio.R0)||!Hv(t.metadata.audio.Y0,t.metadata.audio.Z0).Ja(Hv(n.metadata.audio.J0,n.metadata.audio.K0))))}function Cx(t,n){return t.metadata.video.e0!==n.metadata.video.e0||(!(!t.metadata.RB||!n.metadata.RB||t.metadata.RB.height===n.metadata.RB.height&&t.metadata.RB.width===n.metadata.RB.width)||(!(!n.j0.video||n.j0.video.V0||t.metadata.video.uJ===n.metadata.video.uJ)||Hv(t.metadata.video.Y0,t.metadata.video.Z0)!==Hv(n.metadata.video.J0,n.metadata.video.K0)))}function Dx(t){return t.j0.video&&(t={j0:vx(t.j0),info:t.info,metadata:YO(t.metadata,"CQ")}),t}function Ox(t){return t.j0.audio&&(t={j0:fx(t.j0),info:t.info,metadata:YO(t.metadata,"NQ")}),t}function xx(t){return Boolean(t&&(t.j0.audio||t.j0.video))}function Px(t,n,i){var r=Dv.Ha(n,t.A4),e=Dv.Xa(i,t.g4),u=Sx;return P.qt&&(r.qa(t.A4)?u=u.Wa(t.A4).Ka(t.C4):e.Va(t.g4)&&(u=u.Wa(t.g4).Ka(t.D4))),e.Ka(r).Va(u)}function Bx(t,n){return m(n)?null:0===n?t:Ux(t,t.j0.video.ZF.slice(n))}function Mx(t,n){return(t=t.slice(n.E4))[0]=Bx(t[0],n.S4),t}function Lx(t,n){var i={info:t.info,j0:{audio:vx(t.j0).audio,video:null,J$:t.j0.J$},metadata:null},r=i.j0.audio;r.ZF=n;var e=n[0].Ip;return r.f0=e.n0,r.h0=r.f0.Mk(),Fx(r,i.j0.J$,r.c0),QO(i,t.metadata.size),i.metadata=YO(i.metadata,"CQ"),i}function Ux(t,n){var i={info:t.info,j0:{audio:null,video:fx(t.j0).video,J$:t.j0.J$},metadata:null},r=i.j0.video;r.ZF=n;var e=n[0].Ip;r.f0=e.n0,r.h0=r.f0.Mk();var u=n[n.length-1].Ip.O0;return Fx(r,i.j0.J$,u),QO(i,t.metadata.size),i.metadata=YO(i.metadata,"NQ"),i}function Fx(t,n,i){for(var r=Dv.$k,e=Dv.$k,u=Dv.tp,s=Dv.tp,o=0,a=t.ZF;o<a.length;o++){var c=a[o].Ip;r=Dv.Xa(c.G0,r),e=Dv.Xa(c.z0,e),u=Dv.Ha(c.G0,u),s=Dv.Ha(c.z0,s)}t.v0=e,t.d0=r,t.l0=s,t._0=u,t.o0=Dv.Ha(Xv(t.f0,n),Dv.rc),t.w0=Vv(t.l0,i),t.g0=Vv(t._0,i),t.s0=Hv(t.w0,t.v0).Mk(),t.duration=t.s0}function Hx(t,n,i){if(qC(i)){var r="NQ"===t?i.f2:i.d2;return Uv(r)||(r=i.tQ),n.R$(i,r)}return i&&n.b$(i)}function Vx(t,n,i){if(qC(i)){var r="NQ"===t?i.w2:i.m2;return Uv(r)||(r=i.tQ),n.R$(i,r)}return i&&n.b$(i).Wa("NQ"===t?function(t){return qC(t)?t.nQ||Dv.rc:t&&Dv.Jk(t.duration)||Dv.rc}(i):function(t){return qC(t)?t.iQ||Dv.rc:t&&Dv.Jk(t.duration)||Dv.rc}(i))}function Xx(t,n){return"NQ"===t?n.metadata.audio:n.metadata.video}function qx(t,n,i){return n.R$(i.info,Xx(t,i).Y0)}function Wx(t,n){var i=t.g$(n.Mk());if(-1!==i){var r=Dv.Jk(t.end(i));if(n.Ka(r).qa(Dv.Jk(Tx)))return r}return Dv.Kk}function zx(t,n,i){var r=t.l$(n.Mk(),i.Mk());if(-1!==r)for(var e=t.Sj(r),u=e.length-1;u>=0;u--){var s=e[u];if(n.Ka(Dv.Jk(s.Ny)).yk().qa(i))return Dv.Jk(s.rw.D4);if(n.Ka(Dv.Jk(s.Ry)).yk().qa(i))return Dv.Jk(s.rw.B4)}return Dv.Kk}function Gx(t,n){var i;if(n<0)i=t.ZF.slice(-n);else{0;var r=new SO,e=function(t,n){if(t)switch(n){case 1:return new k([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);case 2:case 3:return new k([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}else switch(n){case 1:return new k([0,200,0,128,35,128]);case 2:return new k([33,0,73,144,2,25,0,35,128]);case 3:return new k([0,200,0,128,32,132,1,38,64,8,100,0,142]);case 4:return new k([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);case 5:return new k([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);case 6:return new k([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}return null}(t.p0,t.R0);r.M$(e,0,e.length),i=t.ZF.slice();for(var u=0;u<n;u++){var s=i[0].Ip,o=r.Ws(Dt(Dt({},r.Ip),{n0:Hv(s.n0,t.c0),K$:s.K$-t.c0.Mk(),G0:Hv(s.G0,t.c0),z0:Hv(s.z0,t.c0)}));i.unshift(o)}}return i}function jx(t,n){var i=t[0].Ip,r=t.slice();return r[0]=t[0].Ws(Dt(Dt({},i),{n0:Hv(i.n0,n),K$:i.K$-n.Mk(),G0:Hv(i.G0,n),P0:i.P0-n.Mk(),z0:Hv(i.z0,n),x0:i.x0-n.Mk(),O0:Dv.Ha(Dv.rc,i.O0.Wa(n)),Uv:w.max(0,i.Uv+n.Mk())})),r}function Qx(t,n,i){for(var r=0;r<t.length-1;r++){var e=t.Sj(r),u=t.Sj(r+1);if(e.length&&u.length&&Dv.Jk(e[0].Ry).qa(n)&&Dv.Jk(u[u.length-1].Ny).Va(i)&&u[0].rw.Sj[0].js.Q0.Cj)return Sx.zk(5)}return t.Rm(n.Mk())?Sx:Dv.rc}function Yx(t){return new iP(t.tS,t.Qn)}var Zx,Jx,Kx,$x,tP,nP,iP=function(){function t(t,n){this.M4=n,this.tS=t}return t.prototype.L4=function(t){BD(t)},T(t,[{key:"Qn",get:function(){return this.M4}},{key:"U4",get:function(){return PD(MD(this.M4,this.tS))}}]),t}(),rP=function(){function t(t,n,i){this.Kj="data:"+t+";"+n+","+i}return t.prototype.L4=function(t){},T(t,[{key:"U4",get:function(){return this.Kj}}]),t}();!function(t){t.D$="F4",t.Nv="H4",t.V4="X4",t.q4="W4",t.z4="G4"}(Zx||(Zx={})),function(t){t.j4="Q4",t.Y4="Z4"}(Jx||(Jx={})),function(t){t.J4="audio/mp4",t.K4="audio/mpeg",t.t5="video/mp4"}(Kx||(Kx={})),function(t){t[t.n5=0]="n5",t[t.i5=1]="i5",t[t.Zh=2]="Zh",t[t.r5=3]="r5"}($x||($x={})),function(t){t.e5="u5",t.s5="o5"}(tP||(tP={})),function(t){t.a5="l4",t.s5="c5"}(nP||(nP={}));var eP=function(){function t(t,n,i,r,e,u,s,o,a,c){this.h5=$x.n5,this.f5=t,this.v5=n,this.j_=i,this.tS=r,this.FY=e,this.d5=u,this.Eg=s,this.l5=o,this._5=a,this.LD=c}return t.w5=function(t,n,i,r,e,u,s,o,a,c){switch(n){case tP.e5:return new uP(t,i,r,e,u,s,o,a,c);case tP.s5:return new sP(t,i,r,e,u,s,o,a,c)}},t}(),uP=function(t){function n(n,i,r,e,u,s,o,a,c){return t.call(this,tP.e5,n,i,r,e,u,s,o,a,c)||this}return ct(n,t),n.prototype.g5=function(){return{y5:"m5",k5:this.v5,p5:Zx.z4,A5:Jx.j4,b5:this.tS,T5:RO(this.FY,[]),E5:this._5,S5:this.l5.hp(),R5:this.d5.hp(),I5:this.Eg.hp()}},n}(eP),sP=function(t){function n(n,i,r,e,u,s,o,a,c){return t.call(this,tP.s5,n,i,r,e,u,s,o,a,c)||this}return ct(n,t),n.prototype.g5=function(){return{y5:"m5",k5:this.v5,p5:this.tS===Kx.K4?Zx.D$:Zx.Nv,A5:Yw?Jx.Y4:Jx.j4,b5:this.tS,T5:RO(this.FY,[])}},n}(eP),oP=function(){function t(){this.N5=xt(),this.C5=1}var n=t.prototype;return n.D5=function(){return(this.C5++).toString()},n.w5=function(t,n,i,r,e,u,s,o,a){var c=this.D5(),h=eP.w5(c,n,t,i,r,e,u,s,o,a);return this.O5(h),h},n.x5=function(t){return this.N5.get(t)},n.O5=function(t){this.N5.set(t.v5,t)},n.P5=function(t){this.N5.delete(t)},n.B5=function(t){this.x5(t).h5=$x.i5,this.P5(t)},n.M5=function(t,n){var i=this.x5(t).LD;this.x5(t).h5=$x.Zh,this.P5(t),i(n)},n.L5=function(t,n){var i=this.x5(t).LD;this.x5(t).h5=$x.r5,this.P5(t),i(null,n)},n.Fs=function(t){var n=[];this.N5.forEach(function(i,r){t&&i.j_!==t||n.push(r)});for(var i=0;i<n.length;i++){var r=n[i];this.B5(r)}},t}();var aP,cP=function(){function t(n){var i=this;this.U5=function(t){var n=t.data.F5,r=t.data.H5,e=t.data.V5,u=t.data.X5,s=i.N5.x5(r);if(s&&s.h5!==$x.i5)switch(n){case"q5":i.W5(s,e);break;case"z5":i.N5.M5(r,new AC(pC.YG,{code:u}));break;default:0}},this.G5=function(t){0},this.N5=new oP,this.Go=n,this.j5=t.Q5(n._4),this.Y5()}t.Q5=function(t){switch(t){case nP.a5:return tP.e5;case nP.s5:return tP.s5}};var n=t.prototype;return n.m5=function(t,n,i,r,e,u,s){var o={metadata:null,NQ:null,CQ:null,Is:null};i&&i.length||s(new AC(pC.YG,{code:"SP154"}));var a=i[0],c=i[i.length-1],h=a.info.sj+1,f=a.info.lY,v=a.metadata,d=v.audio.e0?v.audio:void 0,l=v.video.e0?v.video:void 0,_=c.metadata,w=_.audio.e0?_.audio:void 0,g=_.video.e0?_.video:void 0,y=r.Wa(Xv(v.Z0,v.Y0)),k=r.Wa(Xv(v.Y0,v.Y0)),p=r.Wa(d?Xv(d.Z0,v.Y0):Dv.rc),A=r.Wa(d?Xv(d.Y0,v.Y0):Dv.rc),b=r.Wa(l?Xv(l.Z0,v.Y0):Dv.rc),T=r.Wa(l?Xv(l.Y0,v.Y0):Dv.rc),E=r.Wa(Xv(_.K0,v.Y0)),S=r.Wa(Xv(_.J0,v.Y0)),R=r.Wa(w?Xv(w.K0,v.Y0):Dv.rc),I=r.Wa(w?Xv(w.J0,v.Y0):Dv.rc),N=r.Wa(g?Xv(g.K0,v.Y0):Dv.rc),C=r.Wa(g?Xv(g.J0,v.Y0):Dv.rc);p=Dv.Ha(Dv.rc,p),b=Dv.Ha(Dv.rc,b);var D,O,x,P,B,M=FC.yQ(n.CY)?Dv.Jk(100079991719):Dv.Jk(n.Uv),L=function(t){for(var n=t[0].j0,i=n,r=1;r<t.length;r++){if(!(n=hx(i,t[r-1].j0,t[r].j0,t[r].info.n1)))return i;i=n}return i}(i);if(L.audio){O=(D=vx(L)).audio.duration;x=this.N5.w5(t,this.j5,"mp3"===D.audio.e0?Kx.K4:Kx.J4,D,p,A,M,h,function(t,n){if(o.Is=o.Is||t,o.NQ=n,D=!0,P)return s(o.Is,o)}),this.Z5(x),D=null}else D=!0;if(L.video){B=(P=fx(L)).video.duration;x=this.N5.w5(t,this.j5,Kx.t5,P,b,T,M,h,function(t,n){if(o.Is=o.Is||t,o.CQ=n,P=!0,D)return s(o.Is,o)}),this.Z5(x),P=null}else P=!0;var U,F,H,V=i.map(function(t){return t.metadata}),X=Dv.Jk(O),q=Dv.Jk(B),W=a.j0.audio&&a.j0.video?Dv.Xa(a.j0.audio.o0.Wa(X),a.j0.video.o0.Wa(q)):a.j0.audio?a.j0.audio.o0.Wa(X):a.j0.video?a.j0.video.o0.Wa(q):Dv.rc;if(W.Ok()&&et("Segment with no valid audio or video track detected",a.info.uri),L.video){var z=zO(L);if(m(z))et("Segment without keyframes detected",a.info.uri),U=Dv.Kk,F=Dv.Kk,H=W.zk(1.5);else{var G=L.video.ZF[z].Ip;U=r.Wa(Xv(G.G0,v.Y0)),F=r.Wa(Xv(G.z0,v.Y0)),H=Dv.Jk(G.x0-a.metadata.start)}}else U=p,F=A,H=Dv.rc;var j=Dv.Ha(H,Dv.Ha(a.j0.audio&&a.j0.audio.o0||Dv.rc,a.j0.video&&a.j0.video.o0||Dv.rc));o.metadata={sj:h,Ry:r.Mk(),B4:y.Mk(),RL:k.Mk(),D4:E.Mk(),g4:S.Mk(),b2:U.Mk(),I$:F.Mk(),T4:Dv.Xa(r,e).Mk(),Uv:W.Mk(),Sj:V,zs:j.Mk(),NQ:d&&{Ry:A.Mk(),B4:p.Mk(),Ny:I.Mk(),D4:R.Mk(),Uv:O,e0:d.e0},CQ:l&&{Ry:T.Mk(),B4:b.Mk(),Ny:C.Mk(),D4:N.Mk(),Uv:B,e0:l.e0,wc:v.RB.width,Z_:v.RB.height},IY:v.IY,n1:v.n1,lY:f,$0:u},i=null,L=null},n.Ih=function(){this.N5.Fs(),this.J5&&(this.J5.terminate(),this.J5=null)},n.ss=function(t){this.N5.Fs(t)},n.W5=function(t,n){switch(t.f5){case tP.e5:var i=n;this.N5.L5(t.v5,{initializer:Yx(i.K5),m4s:Yx(i.t6)});break;case tP.s5:var r=n;this.N5.L5(t.v5,(e=r,Yw?new rP(e.tS,"base64",e.Qn):new iP(e.tS,e.Qn)));break;default:0}var e},n.Y5=function(){this.J5||(this.J5=GD(this.Go.libraryLocation,"theoplayer.p.js"),this.J5.addEventListener("message",this.U5),this.J5.addEventListener("error",this.G5))},n.Z5=function(t){this.J5||this.Y5(),this.J5.postMessage(t.g5())},t}();function hP(t,n){return/^https?:\/\//.exec(t)?t:/^:\/\//.exec(t)?t:0===t.indexOf("/")?n.substr(0,n.indexOf("/",8))+t:n+t}function fP(t,n){return t.length>=n.length&&0===t.lastIndexOf(n,0)}function vP(t){var n=t.indexOf(":");return-1!==n&&t.length>n+1?t.substring(n+1):null}function dP(t){for(var n={},i=/(:|,) ?([A-Z0-9\-]+)=((0(X|x)([0-9a-fA-F]+))|(([0-9]+(\.[0-9]+)?)x([0-9]+(\.[0-9]+)?))|([0-9]+(\.[0-9]+)?)|([A-Za-z\-]+[A-Za-z\-0-9]*)|("(([^"]*\\")*[^"]*)"))/g,r=i.exec(t);null!==r;){var e=r[2],u=void 0;u=void 0!==r[6]?Xr(r[6]):void 0!==r[7]?{width:y(r[8]),height:y(r[10])}:void 0!==r[12]?y(r[12]):void 0!==r[14]?r[14]:void 0!==r[16]?r[16]:null,n[e.toLowerCase()]=u,r=i.exec(t)}return n}var lP,_P="x-";function wP(t,n,i,r){var e=t.split("@"),u=hP(n,i),s=g(e[0],10),o=e[1]?g(e[1],10):r;return{Kj:u,toString:function(){return u},indexOf:function(t){return u.indexOf(t)},$j:{Ry:o,Ny:o+s-1}}}function gP(t,n,i){var r,e,u,s,o,a=0,c=0,h=0,f=null,v=0,d=!1,l=[],_=null,m=0,p=t.match(/[^\r\n]+/g);if(!p||"#EXTM3U"!==p[0].trim())throw new AC(pC.QG,{code:"HMP2670",uri:n});for(var A={live:!0,hasEnd:!1,isEvent:!1,streams:[],fragments:[],media:[],dateRanges:[],isMasterPlaylist:!1,uri:n,metadata:null,duration:NaN,estimateDuration:NaN},b=1;b<p.length;b+=1){var T=p[b].trim();if(l.push(T+""),fP(T,"#EXT")){if(fP(T,"#EXTINF"))h=(h=y(vP(T)))||.5;else if(fP(T,"#EXT-X-BYTERANGE"))f=vP(T);else if(fP(T,"#EXT-X-KEY"))(u=dP(T)).method&&"NONE"===u.method?u=null:u.absoluteURI=hP(u.uri,i);else if(fP(T,"#EXT-X-DISCONTINUITY")&&!fP(T,"#EXT-X-DISCONTINUITY-"))d=!0,v+=1;else if(fP(T,"#EXT-X-STREAM-INF"))(e=dP(T)).sj=c++,(b+=1)<p.length&&(e.uri=hP(p[b].trim(),i),A.streams.push(e));else if(fP(T,"#EXT-X-MEDIA")&&!fP(T,"#EXT-X-MEDIA-"))(s=dP(T)).uri&&(s.uri=hP(s.uri,i)),A.media.push(s);else if(fP(T,"#EXT-X-PROGRAM-DATE-TIME"))_=new Date(vP(T));else if(fP(T,"#EXT-X-DISCONTINUITY-SEQUENCE"))A.pj=!0,A.Aj=g(vP(T),10);else if(fP(T,"#EXT-X-MEDIA-SEQUENCE"))a=g(vP(T),10),A.n6=!0,A.i6=a;else if(fP(T,"#EXT-X-TARGETDURATION"))A.targetDuration=g(vP(T),10),A.hasTargetDuration=!0;else if(fP(T,"#EXT-X-PLAYLIST-TYPE:EVENT"))A.isEvent=!0;else if(fP(T,"#EXT-X-ENDLIST"))A.live=!1,A.hasEnd=!0;else if(fP(T,"#EXT-X-MAP")){var E=dP(T),S=E.uri,R=E.byterange;o=R?wP(R,S,i,0):hP(S,i)}else if(fP(T,"#EXT-X-VERSION"))A.version=g(vP(T),10);else if(fP(T,"#EXT-X-DATERANGE")){var I=yP(T);A.dateRanges.push(I)}}else if(fP(T,"#"));else if(0!==T.length){f?m=(r=wP(f,T,i,m)).$j.Ny+1:r=hP(T,i);var N,C=u&&Dt({},u);u&&void 0===u.iv&&(N=a%4294967295,C.iv=new k([0,0,0,0,0,0,0,0,0,0,0,0,N>>24,N>>16,N>>8,255&N])),A.fragments.push({start:0,duration:h,uri:r,sj:a,Cj:d,Rj:v,key:C,TY:_,bY:l,$0:!1,r6:o}),a+=1,h=0,f=null,d=!1,_=null,l=[]}}return A.hasEnd&&A.fragments.length&&(A.fragments[A.fragments.length-1].$0=!0),A.isMasterPlaylist=0!==A.streams.length,A.metadata=function(t){var n=t&&t.fragments&&t.fragments.length,i=t.targetDuration,r=0,e=0;if(!n)return null;for(var u=0,s=t.fragments;u<s.length;u++){var o=s[u];e+=o.duration,i=w.min(i,o.duration),r=w.max(r,o.duration)}return{e6:i,u6:r,s6:n?t.fragments[n-1].duration:0,o6:e/n,a6:e}}(A),function(t){if(!t.isMasterPlaylist){t.duration=0;for(var n=0,i=t.fragments;n<i.length;n++){var r=i[n];t.duration+=r.duration}t.estimateDuration=t.duration/t.fragments.length,t.targetDuration||(t.targetDuration=t.estimateDuration),t.live&&(t.fragments.length<10?t.duration=-.001:t.duration=-(t.duration-3*t.targetDuration))}}(A),function(t){for(var n=0,i=0,r=t.fragments;i<r.length;i++){var e=r[i];e.start=n,n+=e.duration}}(A),function(t){t.streams.sort(function(t,n){return t.bandwidth&&n.bandwidth&&t.bandwidth!==n.bandwidth?t.bandwidth-n.bandwidth:t.resolution&&n.resolution&&t.resolution.width!==n.resolution.width&&t.resolution.height!==n.resolution.height?t.resolution.height*t.resolution.width-n.resolution.height*n.resolution.width:t.sj-n.sj})}(A),function(t,n){for(var i={},r=0;r<t.media.length;r+=1){var e=t.media[r];e.type===n&&e.uri&&(i[e["group-id"]]=(i[e["group-id"]]||0)+1)}for(var u=t.media.length-1;u>=0;u-=1){var s=t.media[u];s.type!==n||i[s["group-id"]]||Cn(t.media,u)}}(A,"VIDEO"),function(t){for(var n=0,i=0,r=t.streams;i<r.length;i++)r[i].id=n,n+=1;for(var e=0,u=t.media;e<u.length;e++)u[e].id=n,n+=1}(A),function(t){for(var n=function(n,i){var r=i[n];"video"in r&&(r.media=function(t,n){for(var i,r=t.length>>>0,e=arguments[1],u=0;u<r;u++)if(i=t[u],n.call(e,i,u,t))return i}(t.media,function(t){return t["group-id"]==r.video}))},i=0,r=t.streams;i<r.length;i++)n(i,r)}(A),A}function yP(t){var n=dP(t),i=function(t){for(var n={},i=0,r=_.keys(t);i<r.length;i++){var e=r[i];dn(e,_P)&&(n[e.substr(_P.length)]=t[e])}return n}(n),r=n["start-date"]?new Date(n["start-date"]):void 0,e=n["end-date"]?new Date(n["end-date"]):void 0,u="YES"===n["end-on-next"]||void 0,s=n["scte35-cmd"]?n["scte35-cmd"].buffer:void 0,o=n["scte35-out"]?n["scte35-out"].buffer:void 0,a=n["scte35-in"]?n["scte35-in"].buffer:void 0;return{Hh:n.id,xj:n.class,wS:r,Dj:e,Uv:n.duration,Lj:n["planned-duration"],Fj:u,Vj:i,qj:s,zj:o,jj:a}}!function(t){t.NO_EXTM3U="HMP2670",t[t.DATERANGE_INVALID_1=101]="DATERANGE_INVALID_1",t[t.DATERANGE_INVALID_2=102]="DATERANGE_INVALID_2",t[t.DATERANGE_INVALID_3=103]="DATERANGE_INVALID_3",t[t.DATERANGE_INVALID_4=104]="DATERANGE_INVALID_4",t[t.DATERANGE_INVALID_5=105]="DATERANGE_INVALID_5",t[t.DATERANGE_INVALID_6=106]="DATERANGE_INVALID_6"}(lP||(lP={}));(aP={})[lP.NO_EXTM3U]="The manifest does not contain a EXTM3U tag.",aP[lP.DATERANGE_INVALID_1]="An EXT-X-DATERANGE tag with an END-ON-NEXT=YES attribute MUST have a CLASS attribute.",aP[lP.DATERANGE_INVALID_2]="Other EXT-X-DATERANGE tags with the same CLASS attribute MUST NOT specify Date Ranges that overlap.",aP[lP.DATERANGE_INVALID_3]="An EXT-X-DATERANGE tag with an END-ON-NEXT=YES attribute MUST NOT contain DURATION or END-DATE attributes.",aP[lP.DATERANGE_INVALID_4]="If a Playlist contains an EXT-X-DATERANGE tag, it MUST also contain at least one EXT-X-PROGRAM-DATE-TIME tag.",aP[lP.DATERANGE_INVALID_5]="If a Playlist contains two EXT-X-DATERANGE tags with the same ID attribute value, then any AttributeName that appears in both tags MUST have the same AttributeValue.",aP[lP.DATERANGE_INVALID_6]="If a Date Range contains a START-DATE attribute and a DURATION attribute and an END-DATE attribute, the value of the END-DATE attribute MUST be equal to the value of the START-DATE attribute plus the value of the DURATION attribute.";var mP=function(){function t(){}return t.prototype.E_=function(t,n,i){return gP(t,n,i)},t}(),kP=3,pP=function(){function t(t,n,i){void 0===i&&(i=kP),this.TA=t,this.c6=n,this.h6=i}var n=t.prototype;return n.f6=function(t,n,i){return this.v6(t,n,!0,i)},n.d6=function(t,n,i){return this.v6(t,n,!1,i)},n.v6=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r,e){var u,s,o,a,c,h,f,v;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:s=100,o=0;case 2:if(!(o<this.h6)){t.next=31;break}if(!(o>0)){t.next=7;break}return t.next=6,Jn(s,e);case 6:s<1e4&&(s=w.min(2*s,1e4));case 7:a=0;case 8:if(!(a<n.length)){t.next=28;break}return c=n[a],t.prev=10,h=new cl({rA:c,oA:Zd.yn,uA:i,fA:this.c6,sA:tl.GET,Cu:nl.Gp,cA:il.Ty,cs:e}),t.next=14,this.TA.yA(h);case 14:return f=t.sent,t.next=17,f.IA(e);case 17:return v=t.sent,t.abrupt("return",{l6:v,_6:c,kA:f.kA});case 22:t.prev=22,t.t0=t.catch(10),u=t.t0;case 25:a++,t.next=8;break;case 28:o++,t.next=2;break;case 31:throw u;case 32:case"end":return t.stop()}},t,this,[[10,22]])}));return function(n,i,r,e){return t.apply(this,arguments)}}(),t}(),AP=function(){function t(t,n,i,r){this.w6=t,this.g6=n,this.y6=i,this.m6=r}var n=t.prototype;return n.k6=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.w6.$J(n.map(RD));case 2:return i=t.sent,t.abrupt("return",i.shift());case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.p6=function(t,n){var i=ID(t,n);return this.g6.Bs(i)},n.A6=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r,e;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=ID(n,i),t.next=3,this.y6.Ms(e);case 3:if(t.t1=r=t.sent,t.t0=null===t.t1,t.t0){t.next=7;break}t.t0=void 0===r;case 7:if(!t.t0){t.next=11;break}t.t2=void 0,t.next=12;break;case 11:t.t2=r.data;case 12:return t.abrupt("return",t.t2);case 13:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.qP=function(t){return this.m6.Ms(t)},t}(),bP=function(){function t(t){this.b6=t}return t.prototype.T6=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r,e){var u,s,o,a;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:void 0===e&&(e=!1),s=0,o=this.b6;case 2:if(!(s<o.length)){t.next=17;break}return a=o[s],t.prev=4,t.next=7,a.T6(n,i,r,e);case 7:return t.abrupt("return",t.sent);case 10:t.prev=10,t.t0=t.catch(4),Vn(t.t0),u=t.t0;case 14:s++,t.next=2;break;case 17:throw u;case 18:case"end":return t.stop()}},t,this,[[4,10]])}));return function(n,i,r){return t.apply(this,arguments)}}(),t}(),TP=function(){function t(t){this.E6=t}return t.prototype.T6=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r,e){var u;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.E6.k6(n);case 2:if(!(u=t.sent)){t.next=7;break}return t.abrupt("return",{l6:u.data,_6:u.locationURL,kA:u.responseURL});case 7:throw new d("Manifest fetch from cache unsuccesful");case 8:case"end":return t.stop()}},t,this)}));return function(n,i,r,e){return t.apply(this,arguments)}}(),t}(),EP=function(){function t(t){this.S6=t}return t.prototype.T6=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r,e){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===e&&(e=!1),!e){t.next=7;break}return t.next=4,this.S6.f6(n,i,r);case 4:return t.abrupt("return",t.sent);case 7:return t.next=9,this.S6.d6(n,i,r);case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),t}();function SP(t,n){return new bP([new TP(n),new EP(t)])}var RP=function(){function t(t,n,i){this.R6=t,this.I6=n,this.N6=i}var n=t.prototype;return n.T6=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r,e){var u;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===e&&(e=!1),t.next=3,this.R6.T6(n,i,r,e);case 3:return u=t.sent,t.next=6,this.C6(u);case 6:return t.abrupt("return",u);case 7:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),n.C6=function(){var t=Ct.coroutine(Nt.mark(function t(n){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.I6.JJ({key:RD(n._6),locationURL:Us(n._6),responseURL:Us(n.kA),data:n.l6,references:[this.N6.Hh]});case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),t}();function IP(t){return-1===(t=t.split("#")[0].split("?")[0]).indexOf("/")?t:t.substring(0,t.lastIndexOf("/")+1)}var NP=function(){function t(t,n,i){this.D6=new mP,this.Go=t,this.TA=i;var r=this.Go&&this.Go.crossOrigin===qa.xv,e=new pP(i,r,1);this.R6=SP(e,new AP(SD.dn.sK,SD.dn.eK,SD.dn.uK,SD.dn.aK))}var n=t.prototype;return n.do=function(t,n,i){var r=this.EC(t,n);return i&&r.then(function(t){return i(null,t)},function(t){return i(t)}),r},n.EC=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r,e;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.R6.T6([n],i);case 3:return r=t.sent,n=r.kA,e=this.D6.E_(r.l6,n,IP(n)),t.abrupt("return",{NZ:e,O6:r.l6});case 10:if(t.prev=10,t.t0=t.catch(0),!(t.t0 instanceof nA)){t.next=16;break}throw new AC(pC.GG,{code:"MFL8600",uri:n});case 16:if(!(t.t0 instanceof iA)){t.next=24;break}if(0!==t.t0.mA.pA){t.next=21;break}throw new AC(pC.jG,{code:"MFL3900",uri:n,status:t.t0.mA.pA});case 21:throw new AC(pC.GG,{code:"MFL4100",uri:n,status:t.t0.mA.pA});case 22:t.next=25;break;case 24:throw new AC(pC.Zh,{error:t.t0,uri:n});case 25:case"end":return t.stop()}},t,this,[[0,10]])}));return function(n,i){return t.apply(this,arguments)}}(),t}(),CP=function(t){function n(n,i){var r;return(r=t.call(this)||this).x6=new NP(i||{},SD.dn.sK,n),r}ct(n,t);var i=n.prototype;return i.pd=function(){void 0!==this.P6&&(h(this.P6),this.P6=void 0),this.B6&&this.B6.yA&&(this.B6=void 0)},i.M6=function(t){if(this.zY)for(var n=0,i=this.zY.fragments;n<i.length;n++){var r=i[n];if(r.uri===t)return r}},n.L6=function(t,n,i,r){var e,u=t.targetDuration,s=t.metadata;return e=t.fragments.length&&s&&(!u||s.a6<3*u)?1e3*s.e6:u?1e3*u:1e4,i===n&&(e/=2),e=w.max(e-r,1e3)},i.U6=function(t){if(t.fragments.length>0)for(var n=this.M6(t.fragments[0].uri),i=n&&n.sj||0,r=0,e=t.fragments;r<e.length;r++){e[r].sj+=i}},i.F6=function(t,i,r,e,u,s){var o=this;if(this.B6&&r===this.B6.yA){var a=oy()-i;if(e){this.B6=void 0,this.IE=e;var h={type:"Is",Is:e};return this.dispatchEvent(h),u&&u(e)}this.B6=void 0;var f=s.NZ,v=s.O6;f.n6||this.U6(f),t===this.H6&&(this.KY=f),this.zY=f;var d=n.L6(f,v,this.V6,a);f.live?f.isMasterPlaylist||(this.P6=c(function(){return o.EC(t)},d)):this.pd(),u&&u(e,s);var l={type:"X6",manifest:f,manifestText:v};this.dispatchEvent(l),this.V6=v}},i.EC=function(t,n){var i=this,r=oy(),e=t;h(this.P6),this.P6=void 0;var u=this.x6.do(e,{},function(e,s){return i.F6(t,r,u,e,n,s)});this.B6={yA:u,rA:t}},i.Ry=function(t,n){var i,r,e,u=this,s=!1;(e=t||(this.zY?this.zY.uri:this.H6))&&(this.B6&&this.B6.rA===t?n&&(i=function(t){u.removeEventListener("Is",r),u.removeEventListener("X6",i);var e=t;n(null,{NZ:e.manifest,O6:e.manifestText})},r=function(t){u.removeEventListener("Is",r),u.removeEventListener("X6",i),n(t.Is)},this.addEventListener("Is",r),this.addEventListener("X6",i)):(this.pd(),this.EC(e,function(t,i){if(!s)return s=!0,n&&n(t,i)})))},i.q6=function(t){t&&(this.V6=void 0,this.KY&&this.KY.isMasterPlaylist?this.Ry(t.uri):this.zY&&!this.W6()&&this.Ry(this.zY.uri))},i.Ih=function(){this.pd(),this.gs()},i.W6=function(){return!!this.B6||!!this.P6||!(!this.zY||this.zY.live)},T(n,[{key:"NZ",get:function(){return this.zY}},{key:"DZ",get:function(){return this.KY}},{key:"VJ",get:function(){return this.H6},set:function(t){this.pd(),this.V6=void 0,this.KY=void 0,this.zY=void 0,this.H6=t}}]),n}(mC),DP=function(t){function n(n,i){var r;return(r=t.call(this)||this).Go=i,r.Ah=xt(),r.H6=null,r.z6=null,r.TA=n,r}ct(n,t);var i=n.prototype;return i.Ry=function(){var t=this,n=this.VJ;if(n&&!this.z6){var i=new CP(this.TA,this.Go);i.addEventListener("Is",function(i){var r=i.Is;t.dispatchEvent({type:"G6",Is:r}),t.Ah.has(n)&&t.dispatchEvent({type:"Is",Is:r,j6:n})}),i.addEventListener("X6",function n(r){i.removeEventListener("X6",n),i===t.z6&&t.dispatchEvent({type:"Q6",NZ:r.manifest})}),i.addEventListener("X6",function(i){t.Ah.has(n)&&t.dispatchEvent({type:n,NZ:i.manifest})}),this.z6=i,i.Ry(n)}},i.Y6=function(t,n){this.Z6(t),this.J6(n)},i.J6=function(t){var n,i=this;this.Ah.has(t)||(t===this.VJ?(this.Ry(),(n=this.z6).NZ&&this.dispatchEvent({type:t,NZ:n.NZ},!0)):((n=new CP(this.TA,this.Go)).addEventListener("Is",function(n){i.dispatchEvent({type:n.type,Is:n.Is,j6:t})}),n.addEventListener("X6",function(n){i.dispatchEvent({type:t,NZ:n.manifest})})),this.Ah.set(t,n))},i.Z6=function(t){if(this.Ah.has(t)){var n=this.Ah.get(t);n!==this.z6&&n.Ih(),this.Ah.delete(t),this.removeEventListener(t)}},i.K6=function(t){if(this.Ah.has(t)){var n=this.Ah.get(t);n.W6()||n.Ry(t)}},i.t9=function(){var t=this;this.Ah.forEach(function(n,i){return t.K6(i)})},i.Rh=function(){this.Ah.forEach(function(t){return t.Ih()}),this.Ah.clear(),this.z6&&(this.z6.Ih(),this.z6=null),this.H6=null},T(n,[{key:"VJ",get:function(){return this.z6&&this.z6.NZ?this.z6.NZ.uri:this.H6},set:function(t){this.Rh(),this.H6=t}}]),n}(mC),OP=function(t){function n(){var n;return(n=t.call(this)||this).n9=NaN,n}ct(n,t);var i=n.prototype;return i.i9=function(t,n){for(var i=t.length?w.min.apply(w,t):0,r=0;r<t.length;r++)t[r]-=i;for(var e=0;e<n.length;e++){n[e].zs=Dv.Jk(t[e]||0)}var u=t.length?w.max.apply(w,t):0;this.n9=u,this.dispatchEvent({type:"r9",e9:u})},i.u9=function(t,n){var i=[];if(n.length<2)return this.i9(i,n),!0;for(var r=n[0],e=0;e<n.length;e++){var u=n[e];if(!u.s9(t))return!1;i[e]=u.zs.Wa(u.o9(r,t)).Mk()}return this.i9(i,n),!0},i.a9=function(t,n){return this.u9(t.Rj,n)},i.c9=function(t,n){if(n.length<2)return this.i9([],n),!0;var i=n[0].h9(t);if(m(i))return!1;for(var r=0;r<n.length;r++){if(n[r].h9(t)!==i)return!1}return this.u9(i,n)},i.Rh=function(){this.n9=NaN},i.Ih=function(){this.gs()},T(n,[{key:"e9",get:function(){return this.n9}}]),n}(mC),xP=.001;function PP(t){return t.metadata.lY.Hh+"f9"+t.metadata.sj+"v9"+t.metadata.Ry+"d9"+t.metadata.Uv}var BP=function(t){function n(){return t.apply(this,arguments)||this}ct(n,t);var i=n.prototype;return i.XG=function(t,i){return new n(t,i)},i.A$=function(t,n){return!1},n}(_O);function MP(t,n){var i=new BP([n]);return t.Ka(i).Zy(i)}function LP(t,n){var i=function(t,n){var i=t.RL,r=t.I$;if(!m(r)&&r===i)return!0;return!t.n1&&!!n&&n.rw.lY===t.lY&&i>=n.Ny&&i<=n.Ny+xP}(t,n);return i||!m(t.I$)?{Ry:i?t.RL:t.I$,Ny:t.g4,rw:t}:null}var UP=function(t){function n(n,i){var r;return(r=t.call(this)||this).l9=null,r._9=function(){return r.w9()},r.g9=[],r.Hd=[],r.y9=new BP([]),r.m9=null,r.k9=n,r.Ig=i,r}ct(n,t);var i=n.prototype;return i.p9=function(t){var n=t.metadata,i=n&&n.Sj;if(!i||!i.length)return Ct.resolve();for(var r=[],e=n.Ry,u=0;u<i.length;u++){var s=i[u],o=e+s.duration;r.push({Ry:e,Uv:s.duration,Ny:o,sj:s.sj,js:s}),e=o}var a={Hh:PP(t),Ry:t.metadata.Ry,B4:n.B4,RL:n.RL,A9:i[0].Q0.TY?new Date(i[0].Q0.TY.getTime()):null,Uv:t.metadata.Uv,Ny:t.metadata.Ry+t.metadata.Uv,D4:n.D4,g4:n.g4,b2:n.b2,I$:n.I$,Sj:r,lY:t.metadata.lY,P4:t.metadata.$0,n1:n.n1};return this.g9.push(a),this.b9(this.k9.p9(t),a)},i.b9=function(t,n){var i=this;return t.then(function(){if(Nn(i.g9,n)){i.Hd.push(n);var t=i.m9,r=LP(n,t);r&&(i.y9=MP(i.y9,r)),i.m9=r}i.w9(),i.T9(n)}).catch(function(){Nn(i.g9,n)})},i.T9=function(t){var n=t.Sj[0],i=t.Sj[t.Sj.length-1],r=t.lY,e=r.Nj(n.sj-1),u=FC.yQ(r.CY);if(!e||u){var s=r.Nj(n.sj),o=this.Ig.b$(s).Mk();o<n.Ry&&this.k9.jM(o,n.Ry)}for(var a=0,c=this.Hd;a<c.length;a++){var h=c[a];if(h.lY===t.lY){var f=h.Sj[0],v=h.Sj[h.Sj.length-1];v.sj+1===n.sj&&v.Ny!==n.Ry?this.k9.jM(v.Ny,n.Ry):f.sj-1===i.sj&&i.Ny!==f.Ry&&this.k9.jM(i.Ny,f.Ry)}}},i.Fs=function(){this.g9.length=0,this.Hd.length=0,this.y9=new BP([]),this.m9=null},i.w9=function(){if(this.E9&&!this.E9.yO){var t=this.E9.Hd||JD;t=function(t,n){for(var i=eO(t),r=0;r<i.length;r++){var e=i[r],u=n.g$(e.Ny,xP);if(u>=0){var s=n.Sj(u),o=s[s.length-1],a=o.rw.D4,c=o.rw.g4;a-xP<e.Ny&&e.Ny<c&&(e.Ny=c)}}return new ZD(i)}(t,this.y9),this.Hd=this.Hd.filter(function(n){return function(t,n,i,r){n-=r=+r||0,i+=r;for(var e=0;e<t.length;e+=1)if(t.start(e)<i&&n<t.end(e))return e;return-1}(t,n.Ry,n.Ny)>=0}),this.y9=this.y9.Wy(t)}},i.Ih=function(){this.gs(),this.Fs(),this.E9=null},i.S9=function(t){var n=this.R9(t);if(n)for(var i=0,r=n.Sj;i<r.length;i++){var e=r[i];if(e.Ry<=t&&e.Ny>t)return e}return null},i.R9=function(t){for(var n=0,i=this.Hd;n<i.length;n++){var r=i[n];if(r.Ry<=t&&r.Ny>t)return r}return null},i.I9=function(t){for(var n=0,i=this.Hd;n<i.length;n++){var r=i[n];if(r.lY.Hh===t.lY.Hh)for(var e=0,u=r.Sj;e<u.length;e++){if(u[e].sj===t.sj)return!0}}return!1},i.N9=function(){return this.C9()[0]},i.C9=function(){for(var t=this.y9,n=this.m9,i=0,r=this.g9;i<r.length;i++){var e=LP(r[i],n);e&&(t=MP(t,e)),n=e}return[t,n]},T(n,[{key:"Ch",get:function(){return this.g9.length+this.Hd.length}},{key:"E9",get:function(){return this.l9},set:function(t){this.l9&&this.l9.removeEventListener("updateend",this._9),this.l9=t,this.l9&&(this.l9.addEventListener("updateend",this._9),this.w9())}}]),n}(mC);function FP(t,n,i){!function(t,n,i){for(var r=i.Y$,e=[],u=0;u<r.length;u++)for(var s=r[u],o=n.R$(t,s.Ip.i0).Mk(),a=0,c=s.ZF;a<c.length;a++){var h=c[a];e.push(new wI(o,h))}i.tf=e}(t,n,i)}function HP(t,n){return t&&n?w.abs(t.sj-n.sj)<=1?Dv.rc:Dv.Sk(n.M_-t.M_,1e3):Dv.rc}var VP=function(){function t(t,n,i,r,e){this.zs=Dv.rc,this.D9=!1,this.O9=null,this.Cj=t,this.E4=t.lY.Sj.cj(n.sj),this.G3=this.E4,this.x9=i,this.P9=r,this.Cu=e||null}var n=t.prototype;return n.B9=function(){if(this.O9)return this.O9;var t=this.M9();return(t.L9||t.Is)&&(this.O9=t),t},n.U9=function(){return{L9:!1,Is:!1,D9:this.D9,qm:Dv.Kk}},n.L9=function(t){return t.pk()?{L9:!1,Is:!0,D9:this.D9,qm:Dv.Kk}:{L9:!0,Is:!1,D9:this.D9,qm:t}},t}();function XP(t,n){switch(n){case"NQ":return Uv(t.f2)?t.f2:t.tQ;case"CQ":return Uv(t.d2)?t.d2:t.tQ;default:return t.tQ}}var qP=function(t){function n(){return t.apply(this,arguments)||this}return ct(n,t),n.prototype.M9=function(){var t=this.Cj,n=t.lY,i=n.Sj,r=i.hj(this.G3);if(t.Rm(r)){if(this.P9&&t.F9&&qC(r)){var e=XP(r,this.Cu),u=t.H9(e,r.V9);return this.L9(u.Ka(this.zs))}if(this.x9&&r===t.X9){var s=t.Wm.Ka(WC(r));return this.L9(s.Ka(this.zs))}this.G3+=1;var o=HP(r,i.hj(this.G3));return this.D9=this.D9||o.Ga(Dv.rc),this.zs=this.zs.Wa(o).Wa(WC(r)),this.U9()}return this.L9(Dv.Kk)},n}(VP),WP=function(t){function n(){return t.apply(this,arguments)||this}return ct(n,t),n.prototype.M9=function(){var t=this.Cj,n=t.lY,i=n.Sj,r=i.hj(this.G3);if(t.Rm(r)){if(this.P9&&t.F9&&qC(r)){var e=XP(r,this.Cu),u=t.H9(e,r.V9);return this.L9(u.Wa(this.zs))}if(this.x9&&r===t.q9){var s=t.qm;return this.L9(s.Wa(this.zs))}this.G3-=1;var o=i.hj(this.G3),a=HP(o,r);return this.D9=this.D9||a.Ga(Dv.rc),this.zs=this.zs.Wa(a).Wa(WC(o)),this.U9()}return this.L9(Dv.Kk)},n}(VP);var zP=function(){function t(t,n,i){this.qm=Dv.rc,this.Wm=Dv.rc,this.q9=null,this.X9=null,this.W9=!1,this.z9=Dv.Kk,this.G9=Dv.Kk,this.j9=!1,this.sj=t,this.lY=n,this.Q9=i}var n=t.prototype;return n.Rm=function(t){return t&&t.Rj===this.sj},n.H9=function(t,n){var i=t.Ka(this.z9).Wa(this.G9);if(void 0!==n){var r=i.Ka(n);if(r.yk().Ga(Lv)){var e=w.round(r.Mk()/Mv.Mk());i=i.Ka(Mv.zk(e))}}return i},n.Y9=function(t,n){return this.Z9(t),this.J9(n),this.K9()||t===this.X9&&this.t8()},n.Z9=function(t){if(this.F9&&Ov(t._2,this.z9)>=0)return!1;var n;if(n=this.F9?this.n8(t,!0,!1):this.i8(t,!0,!1),this.z9.pk())this.z9=t._2;else{var i=Xv(t._2,this.z9);this.z9=this.z9.Wa(i)}return this.G9=n,!0},n.J9=function(t){if(!t)return!1;if(this.Q9)return!1;if(!this.r8())return!1;var n=this.lY.Sj,i=this.q9,r=n.fj(i.sj-1);if(qC(i)&&qC(r)){var e=function(t,n,i){var r=t.R$(n,n.J0);if(!Uv(i.l2)||!Uv(i.d2))return r;var e,u=Uv(i.f2),s=Hv(i.d2,i.l2);if(u){var o=Fv(Hv(i.d2,i.f2),Dv.rc);e=Fv(Hv(s,o),Dv.rc)}else e=s;return Hv(r,e)}(t,r,i);return this.j9=!0,this.e8(e)}return!1},n.e8=function(t){if(t.Ja(this.qm))return!1;var n=t.Ka(this.qm);return this.qm=t,this.Wm=this.Wm.Wa(n),this.G9=this.G9.Wa(n),!0},n.K9=function(){if(this.Q9)return!1;var t=this.X9;if(!t)return!1;var n,i=new WP(this,t,!1,!0);do{n=i.B9()}while(!n.L9&&!n.Is&&!n.D9);if(n.L9&&!n.D9){var r=n.qm.Wa(WC(t));if(!r.Ja(this.Wm))return this.Wm=r,!0}return!1},n.u8=function(t){var n=!1;return n=this.J9(t)||n,n=this.s8(t)||n},n.s8=function(t){if(!t)return!1;if(this.j9)return!1;var n=t.Wm.Wa(HP(t.X9,this.q9));return this.e8(n)},n.o8=function(t){var n=!1;return(!this.q9||this.q9.sj>t.sj)&&(this.qm=this.qm.Ka(HP(t,this.q9)),this.q9=t,n=!0),(!this.X9||this.X9.sj<t.sj)&&(this.Wm=this.Wm.Wa(HP(this.X9,t)).Wa(WC(t)),this.X9=t,n=!0),n},n.a8=function(t){if(!this.F9||!t.F9)return Dv.Kk;if(this.z9.qa(t.z9)){var n=this.H9(t.z9,t.G9);return t.G9.Ka(n)}return t.H9(this.z9,this.G9).Ka(this.G9)},n.r8=function(){var t=this.q9;return!!t&&function(t,n){return n.Rj===t&&n.Cj}(this.sj,t)},n.t8=function(){var t=this.X9;if(!t)return!1;var n=this.lY.Sj.fj(t.sj+1);return function(t,n,i){return n.Rj===t&&(!i||i.Cj)}(this.sj,t,n)},n.c8=function(t,n){return this.n8(t,!0,!0,n)},n.i8=function(t,n,i){if(!this.Rm(t))return Dv.Kk;var r,e=new WP(this,t,n,i);do{r=e.B9()}while(!r.L9&&!r.Is);if(!r.L9)return Dv.Kk;var u=r.qm;return u.ja(this.qm)?this.qm:u},n.n8=function(t,n,i,r){if(!this.Rm(t))return Dv.Kk;var e,u,s,o,a,c=new qP(this,t,n,i,r),h=new WP(this,t,n,i,r);do{e=c.B9(),u=h.B9()}while(!(e.L9||u.L9||e.Is&&u.Is));if(u.L9)s=u,o=e,a=c;else{if(!e.L9)return Dv.Kk;s=e,o=u,a=h}if(s.qm.ja(this.qm)){for(;!o.L9&&!o.Is;)o=a.B9();return o.L9?Dv.Ha(this.qm,o.qm):this.qm}if(s.D9){for(;!o.D9&&!o.L9&&!o.Is;)o=a.B9();if(o.L9&&!o.D9&&this.qm.qa(o.qm))return o.qm}return s.qm},n.R$=function(t,n){return this.Rm(t)&&this.F9?this.H9(n,t.V9):Dv.Kk},n.C9=function(){0},T(t,[{key:"F9",get:function(){return!this.z9.pk()}}]),t}();function GP(t,n){return n.ja(t.qm)?qs.Pa:n.Va(t.Wm)?qs.Ba:qs.xa}var jP=function(){function t(){this.h8=new IC}var n=t.prototype;return n.fj=function(t){return this.h8.fj(t)},n.hj=function(t){return this.h8.hj(t)},n.f8=function(t){var n=this.h8.cj(t);return n<0?null:this.h8.hj(n-1)},n.B9=function(t){var n=this.h8.cj(t);return n<0?null:this.h8.hj(n+1)},n.v8=function(){return this.h8.hj(0)},n.d8=function(){var t=this.h8.Ch;return 0===t?null:this.h8.hj(t-1)},n.l8=function(t){var n=this.h8,i=this.d8();if(i&&function(t,n){return t.qm.qa(n)&&n.ja(t.Wm)}(i,t))return i;var r=YS(this.h8.lj(),t,Q,GP);return n.hj(r)},n.Wa=function(t){var n=this.h8.Wa(t);if(n&&!this.B9(t.sj)){t.W9=!0;var i=this.f8(t.sj);i&&(i.W9=!1)}return n},n.lo=function(t){var n=this.h8.lo(t);if(n&&t.W9){t.W9=!1;var i=this.f8(t.sj);i&&(i.W9=!0)}return n},n.gj=function(t){this.h8.gj(t)},n.C9=function(){},T(t,[{key:"Ch",get:function(){return this.h8.Ch}}]),t}();var QP=Dv.Jk(10),YP=function(){function t(t,n,i){this._8=!1,this.w8=!1,this.g8=new jP,this.y8=Dv.rc,this.m8=void 0,this.k8=null,this.p8=null,this.lY=t,this.m8=n.liveOffset,this.Q9=i}var n=t.prototype;return n.A8=function(t){var n=this.lY,i=t?t.fragments:null,r=n.Sj;if(!t||!i||!i.length)return!1;this._8=!0;var e,u=!1;if(!this.g8.Ch){var s=r.fj(i[0].sj).Rj,o=new zP(s,n,this.Q9);o.e8(this.zs),this.g8.Wa(o),u=!0}if(this.p8){var a=r.cj(this.p8.sj);e=a<0?0:a+1}else e=0;for(var c=e,h=r.hj(c),f=null,v=!1;h;){var d=h.Rj;if(f&&f.sj===d||(f&&v&&this.b8(f),f=this.g8.fj(d),u=u||v,v=!1),!f){f=new zP(d,n,this.Q9),this.g8.Wa(f);var l=this.g8.f8(d);f.u8(l||void 0)}v=f.o8(h)||v,h=r.hj(++c)}return f&&v&&this.b8(f),(u=u||v)&&this.T8(),this.g8.d8()&&this.HY(n.Sj),this.k8=r.fj(i[0].sj),this.p8=r.fj(i[i.length-1].sj),u},n.Y9=function(t){var n=this.g8.fj(t.Rj);if(!n)return!1;this.w8=!0;var i=this.g8.f8(n.sj),r=n.Y9(t,i);return r&&this.b8(n),r},n.b8=function(t){for(var n=t,i=this.g8.B9(t.sj),r=!0;r&&i;)r=i.u8(n),n=i,i=this.g8.B9(i.sj)},n.T8=function(){for(var t=!1,n=this.g8.v8(),i=n&&this.g8.B9(n.sj);n&&i;)n.Wm.Ga(i.qm)&&(i.e8(n.Wm),t=!0),n=i,i=this.g8.B9(n.sj);return t},n.E8=function(t){var n=this.g8.d8(),i=t.g8.d8();if(!this.Q9){if(n&&this.S8(t,n.sj))return!0;if(i&&this.S8(t,i.sj))return!0}return this.R8?!(!n||!this.I8(t,n.sj))||(!(!i||!this.I8(t,i.sj))||(!(!n||!this.N8(t,n.sj))||(!(!i||!this.N8(t,i.sj))||this.C8(t)))):this.D8(t)},n.D8=function(t){var n=this.g8.v8(),i=t.g8.v8();return!(!n||!i)&&(this.Xs(i.qm.Ka(n.qm)),!0)},n.S8=function(t,n){var i=this.g8.fj(n);if(!i||!i.F9)return!1;var r=t.g8.fj(n);return!(!r||!r.F9)&&(this.Xs(i.a8(r)),!0)},n.I8=function(t,n){var i=this.g8.fj(n);if(!i||!i.r8())return!1;var r=t.g8.fj(n);return!(!r||!r.r8())&&(this.Xs(r.qm.Ka(i.qm)),!0)},n.N8=function(t,n){var i=this.g8.fj(n);if(!i)return!1;var r=this.O8(i.X9.sj);if(!r)return!1;var e=t.g8.fj(n);if(!e)return!1;var u=t.O8(e.X9.sj);if(!u)return!1;var s=i.c8(i.X9),o=e.c8(e.X9),a=Dv.ip(r).Ka(Dv.ip(u)),c=s.Ka(o);return this.Xs(a.Ka(c)),!0},n.C8=function(t){if(!this.w8&&!t.w8)return!1;var n=this.g8.d8(),i=t.g8.d8();if(n&&n.X9&&i&&i.X9){var r=Dv.Sk(n.X9.M_-i.X9.M_,1e3),e=n.Wm.Ka(i.Wm);return this.Xs(r.Ka(e)),!0}return!1},n.HY=function(t){var n=this.g8.d8();if(n)for(var i=n.Wm,r=t.Ch-1;r>=0;r--){var e=t.hj(r);if(i=i.Ka(Dv.Jk(e.duration)),void 0!==e.V9){0;break}e.V9=i}},n.h9=function(t){var n=this.g8.l8(t);return n?n.sj:NaN},n.b$=function(t,n){var i=this.g8.fj(t.Rj);return i?i.c8(t,n):Dv.Kk},n.T$=function(t,n){var i=this.lY.Sj.fj(t.sj+1);if(i){var r=this.b$(i);return r}return n.Wa(function(t){if(!t)return Dv.rc;if(!qC(t))return Dv.Jk(t.duration);var n=t.nQ||Dv.rc,i=t.iQ||Dv.rc,r=Dv.Jk(t.duration);return n.Ok()||i.Ok()?n.Ok()?i.Ok()?r.Ok()?r:Dv.rc:i:n:Dv.Ha(n,i)}(t))},n.R$=function(t,n){var i=this.g8.fj(t.Rj);return i&&i.F9?i.R$(t,n):Dv.Kk},n.I4=function(t,n){var i=this.lY.Sj;return i.Ch?function(t,n,i,r,e){var u,s,o=t.lY.Sj,a={},c=function(n){var i=a[n];return void 0!==i?i:a[n]=t.b$(o.hj(n),e)},h=i,f=c(h),v=r,d=c(v);if(n.ja(f))return{rw:u=o.hj(h),x8:f};if(n.Va(d)&&(u=o.hj(v)).$0)return{rw:u,x8:d};for(;f.qa(n)&&n.qa(d);){var l=void 0,_=void 0,g=void 0;if(h===v?(l=h,_=f):(l=h+w.round(n.Ka(f).Mk()*(v-h)/d.Ka(f).Mk())||0,_=c(l)),_.Ga(n))d=c(v=l-1);else{if(u=o.hj(l),!(g=(s=l)===r?c(s).Wa(WC(o.hj(s))):c(s+1)).qa(n))return u&&n.qa(_.Wa(WC(u)))?{rw:u,x8:_}:(u=o.hj(l+1))&&{rw:u,x8:g};h=l+1,f=g}}if(d.qa(n)){if((u=o.hj(v))&&n.qa(d.Wa(WC(u))))return{rw:u,x8:d};if(v<r&&(u=o.hj(v+1),d=c(v+1),u&&n.ja(d)))return{rw:u,x8:d}}return null}(this,t,0,i.Ch-1,n):null},n.O8=function(t){var n=this.lY.Sj,i=n.cj(t),r=n.hj(i),e=r,u=Dv.rc;if(r.TY)return r.TY;for(var s=i-1;s>=0;s--){var o=n.hj(s);if(u=u.Wa(WC(o)).Wa(HP(o,e)),o.TY)return new Date(o.TY.getTime()+1e3*u.Mk());e=o}return null},n.P8=function(t){for(var n=this.lY.Sj,i=void 0,r=0;r<n.Ch;r++){var e=n.hj(r);if(e.TY){if(!(e.TY.getTime()<=t.getTime())){i=i||e;break}i=e}}if(!i)return Dv.Kk;var u=Dv.ip(t).Ka(Dv.ip(i.TY));return this.b$(i).Wa(u)},n.Xs=function(t){if(!t.Ja(Dv.rc))for(var n=this.g8.Ch,i=0;i<n;i++){var r=this.g8.hj(i);r.e8(r.qm.Wa(t))}},n.s9=function(t){var n=this.g8.fj(t);return n&&n.F9},n.o9=function(t,n){if(this===t)return Dv.rc;var i=this.g8.fj(n),r=t.g8.fj(n);return i&&r?i.a8(r):Dv.Kk},n.C9=function(){0},T(t,[{key:"R8",get:function(){var t=this.lY.Ij;return!!t&&t.live}},{key:"B8",get:function(){var t=this.lY.Ij;return!!t&&t.isEvent}},{key:"M8",get:function(){var t=this.k8;return t?this.b$(t):Dv.rc}},{key:"L8",get:function(){var t=this.g8.d8();return t?t.Wm:Dv.rc}},{key:"U8",get:function(){if(!this.R8)return Dv.rc;var t=this.L8.Ka(this.F8);return Dv.Ha(this.M8,t)}},{key:"F8",get:function(){return this.m8&&Dv.Jk(this.m8)||this.H8.zk(3)}},{key:"V8",get:function(){return this.R8&&this.p8?Dv.Sk(oy()-this.p8.M_,1e3):Dv.rc}},{key:"H8",get:function(){var t=this.lY.Ij;return t&&t.targetDuration?Dv.Jk(t.targetDuration):QP}},{key:"zs",get:function(){return this.y8},set:function(t){var n=t.Ka(this.y8);this.y8=t,this.Xs(n)}}]),t}(),ZP=function(t){function n(n){var i;return(i=t.call(this)||this).X8=[],i.q8={},i.W8=null,i.z8=null,i.y8=Dv.rc,i.Q9=void 0,i.G8=n,i}ct(n,t);var i=n.prototype;return i.j8=function(t){return t&&this.q8[t.Hh]||null},i.Q8=function(t){var n=this.j8(t);return n||((n=new YP(t,this.G8,!!this.Q9)).zs=this.y8,this.X8.push(n),this.q8[t.Hh]=n),n},i.Y8=function(t){var n;switch(null===(n=this.G8.hls)||void 0===n?void 0:n.discontinuityAlignment){case sf.ym:return!0;case sf.mm:return!1;default:return t.isEvent||t.hasEnd}},i.A8=function(t,n){void 0===this.Q9&&(this.Q9=this.Y8(n));var i=this.j8(this.W8),r=i?i.M8:Dv.rc,e=i?i.L8:Dv.rc,u=this.Q8(t),s=u._8,o=u.A8(n);if(!s&&u._8&&(u.Xs(this.Z8(t)),o=!0),o=this.J8(u)||o,this.K8(u,r,e)){var a=new AC(pC.ij,{code:"MFU0166"});this.dispatchEvent({type:"Is",Is:a})}else this.W8=t,o&&this.dispatchEvent("XY")},i.Y9=function(t,n){if(qC(n)){0;var i=this.Q8(t),r=i.Y9(n);r=this.J8(i)||r,this.z8=t,r&&this.dispatchEvent("XY")}},i.J8=function(t){var n=!1,i=!1,r=this.j8(this.z8);r&&(r===t?n=!0:i=(n=t.E8(r))||i);var e=this.j8(this.W8);return e&&e!==t&&(i=n?e.E8(t)||i:t.E8(e)||i),i},i.Z8=function(t){var n=this.j8(t),i=!n.R8,r=t.Ij&&t.Ij.isEvent;return i||r?Dv.rc:n.H8.zk(3)},i.K8=function(t,n,i){if(!t.R8)return!1;var r=t.M8,e=t.L8,u=Dv.Xa(e,i).Ka(Dv.Ha(r,n)),s=Dv.Ha(t.H8.zk(3),u.Yk(2));return r.Wa(s).ja(n)},i.HY=function(t,n){var i=this.j8(t)||this.j8(this.W8);return i&&i.HY(n)},i.h9=function(t){var n=this.W8&&this.j8(this.W8);return n?n.h9(t):NaN},i.t7=function(t,n){var i=t.Nj(n);return this.b$(i)},i.b$=function(t){if(!t)return Dv.Kk;var n=this.j8(t.lY)||this.j8(this.W8);return n?n.b$(t):Dv.Kk},i.T$=function(t,n){if(!t)return Dv.Kk;var i=this.j8(t.lY)||this.j8(this.W8);return i?i.T$(t,n):Dv.Kk},i.R$=function(t,n){if(!t||!n)return Dv.Kk;var i=this.j8(t.lY)||this.j8(this.W8);return i?i.R$(t,n):Dv.Kk},i.I4=function(t,n,i){var r=this.j8(t);if(!r)return null;var e=r.I4(n,i);return e?{rw:e.rw,x8:e.x8}:null},i.O8=function(t,n){var i=this.j8(t)||this.j8(this.W8);return i?i.O8(n):null},i.P8=function(t,n){var i=this.j8(t)||this.j8(this.W8);return i?i.P8(n):Dv.Kk},i.s9=function(t){return void 0!==this.n7(t)},i.o9=function(t,n){if(this===t)return Dv.rc;var i=this.n7(n),r=t.n7(n);return i&&r?i.o9(r,n):Dv.Kk},i.n7=function(t){return Rn(this.X8,function(n){return n.s9(t)})},i.Ih=function(){this.gs(),this.X8.length=0,this.q8={},this.W8=null,this.z8=null,this.y8=Dv.rc},i.C9=function(){0},T(n,[{key:"i7",get:function(){return this.M8.Ka(this.H8.zk(3))}},{key:"F8",get:function(){var t=this.G8.liveOffset;return Dv.Jk(t||3*this.H8.Mk())}},{key:"R8",get:function(){var t=this.j8(this.W8);return!!t&&t.R8}},{key:"nl",get:function(){return this.W8?new ZD([{Ry:this.M8.Mk(),Ny:this.L8.Mk()}]):JD}},{key:"M8",get:function(){if(!this.W8)return Dv.rc;var t=this.j8(this.W8);return t.B8?t.M8:t.M8.Wa(t.V8)}},{key:"L8",get:function(){if(!this.W8)return Dv.rc;var t=this.j8(this.W8);return t.L8.Wa(t.V8)}},{key:"U8",get:function(){if(!this.W8)return Dv.rc;var t=this.j8(this.W8);return t.U8.Wa(t.V8)}},{key:"H8",get:function(){return this.W8?this.j8(this.W8).H8:QP}},{key:"zs",get:function(){return this.y8},set:function(t){if(!this.y8.Ja(t)){this.y8=t;for(var n=0,i=this.X8;n<i.length;n++){i[n].zs=t}this.dispatchEvent("XY")}}}]),n}(mC),JP=function(t){function n(){return t.apply(this,arguments)||this}return ct(n,t),n.prototype.Z8=function(t){return Dv.rc},n}(ZP),KP=.25,$P=1/60;function tB(t,n){return $s(t,n,$P)}var nB,iB=function(t,n,i){this.r7=NaN,this.e7=NaN,this.u7=0,this.lY=t.lY,this.qm=n,this.Wm=i,this.Uv=i-n,this.rw=t},rB=function(t,n,i){this.r7=NaN,this.e7=NaN,this.u7=0,this.lY=t,this.qm=n,this.Wm=i,this.Uv=i-n};function eB(t){return!(!t||!t.rw)}function uB(t,n,i){return r=n,e=i,u=t.qm,s=t.Wm,tB(r,s)<=0&&tB(u,e)<=0;var r,e,u,s}function sB(t,n){return tB(t.qm,n)<=0?t.Wm:t.qm}function oB(t,n,i){return(t-n)/i-KP}function aB(t,n){return n.Ka(t).Zy(t)}function cB(t,n){var i=w.min($P,t.Uv/2);return n.tm(t.qm,t.Wm,i)}function hB(t,n){var i=n.l$(t);return-1===i?t:n.end(i)}function fB(t){return t.e7<=t.r7}function vB(t,n){if(!fB(n))return!1;for(var i=0;i<t.length;i++){var r=t[i];if(r.u7+n.e7>r.r7)return!1}return!0}function dB(t,n){for(var i=0;i<t.length;i++){t[i].u7+=n.e7}n.u7=n.e7,t.push(n)}!function(t){t[t.s7=0]="s7",t[t.o7=1]="o7",t[t.a7=2]="a7",t[t.r5=3]="r5"}(nB||(nB={}));var lB=function(){function t(t,n,i,r){this.j_=t,this.Ig=n,this.c7=i,this.h7=r,this.f7=SD.dn.sK,this.TK=SD.dn.uK}var n=t.prototype;return n.v7=function(){return this.c7.RQ.reduce(function(t,n){return w.max(t,n.Ij&&n.Ij.targetDuration||0)},0)},n.d7=function(t,n){void 0===n&&(n=this.Ig.b$(t).Mk());var i=this.Ig.T$(t,Dv.Jk(n));return new iB(t,n,i.Mk())},n.l7=function(t,n){var i=t.Sj.hj(n);return i&&this.d7(i)||null},n._7=function(t){var n=t.lY,i=n.Sj.cj(t.sj);return i>=0&&this.l7(n,i-1)||null},n.w7=function(t){var n=t.lY,i=n.Sj.cj(t.sj);return i>=0&&this.l7(n,i+1)||null},n.g7=function(t,n){var i=this.Ig.I4(t,Dv.Jk(n));return i&&this.d7(i.rw,i.x8.Mk())||null},n.y7=function(t){var n=t.Sj.Ch-1;return n>=0&&this.l7(t,n)||null},n.m7=function(t,n,i){var r=t.Ij&&t.Ij.targetDuration||this.v7()||10,e=w.max(0,n-r),u=e+r;return i&&uB(i,e,u)&&(u=(e=i.Wm)+r),new rB(t,e,u)},n.k7=function(t,n,i){var r=this.h7.m3,e=.8*this.h7.A3,u=(n.bandwidth||0)*t.Uv;return i&&i.FJ?((u=8*i.qK||u)-8*i.XK)/e:r+u/e},n.p7=function(){for(var t=this.h7.Z2(this.j_),n=this.h7.I2(this.j_),i=0;i<n.length;i++){var r=n[i];-1===t.indexOf(r)&&t.push(r)}return t},n.A7=function(t,n){var i=n.filter(function(n){return n.lY===t});return gO(this.Ig,i).k$()},n.b7=function(t){return"audio"===this.j_&&t?[t]:this.c7.RQ},n.T7=function(t){for(var n=new wO([]),i=new wO([]),r=this.p7(),e={E7:{},S7:{},R7:{},I7:{}},u=t.length-1;u>=0;u-=1){var s=t[u],o=this.A7(s,r),a=pO(this.Ig,o);e.E7[s.Hh]=o,e.S7[s.Hh]=a,e.R7[s.Hh]=n=aB(n,o),e.I7[s.Hh]=i=aB(i,a)}return e},n.N7=function(t,n,i,r,e){for(var u,s,o,a,c=[],h=0;h<r.length;h++)for(var f=e[r[h].Hh],v=0;v<f.length;v+=1){var d=f.start(v),l=f.end(v)-i;d<l&&c.push({Ry:d,Ny:l})}return 0===(u=tO(u=$D(new ZD(c)),new ZD([{Ry:t,Ny:n}]))).length||tB(u.start(0),t)>0?t:1===u.length&&(s=u.start(0),o=u.end(0),a=n,tB(s,t)<=0&&tB(a,o)<=0)?NaN:u.end(0)},n.C7=function(t,n,i){var r=null,e=i.E7[t.Hh],u=i.R7[t.Hh],s=i.I7[t.Hh],o=u.l$(n);if(-1!==o){for(var a=w.max(n,u.start(o)),c=u.end(o),h=new ZD([{Ry:a,Ny:c}]),f=u.Wy(h).Ka(s),v=0;v<f.length;v++){var d=f.start(v),l=f.Sj(v)[0];if(l.rw.lY===t){if(r=this._7(l.rw))return r}else{for(r=this.g7(t,d);r&&cB(r,e);)r=this._7(r.rw);if(r)return r}}var _=u.Sj(o),g=_[_.length-1];if(g.rw.lY===t&&(r=this.w7(g.rw)))return r}var y=this.y7(t);if(!y||tB(y.Wm,n)<=0){if(!y||!y.rw.$0)return r=this.m7(t,n,y);r=y}for(r||(r=this.g7(t,n));r&&cB(r,u);)r=this.w7(r.rw);return r},n.D7=function(t,n){var i=this.y7(t);return i&&i.rw.$0&&tB(i.Wm,n)<=0?i:this.g7(t,n)},n.O7=function(t,n,i,r,e,u,s,o){var a=t.lY,c=s.R7[a.Hh],h=!cB(t,c),f=h?n:sB(t,r);t.r7=oB(f,r,u),t.e7=this.k7(t,a);var v=o&&this.d7(o);if(v&&!cB(v,c)){var d=sB(v,r);if(v.r7=oB(d,r,u),v.e7=this.k7(v,a,i&&i.AK),fB(v)&&(!h||function(t,n){var i=[];return!!vB(i,n)&&(dB(i,n),!(!eB(t)||!eB(n)||t.rw!==n.rw)||!!vB(i,t))}(t,v)))return v}if(h&&!fB(t))return null;var l=this.x7(t,r,e,u,c);return l.length&&l[l.length-1]||null},n.x7=function(t,n,i,r,e){for(var u=[],s=t.lY,o=t;o&&n<o.Wm&&i<=o.qm;){if(!cB(o,e)){if(m(o.r7)){var a=sB(o,n);o.r7=oB(a,n,r),o.e7=this.k7(o,s)}vB(u,o)&&dB(u,o)}o=eB(o)&&this._7(o.rw)}return u},n.P7=function(t,n){return t.qm<n?{Xh:nB.a7}:eB(t)?{Xh:nB.s7,rw:t.rw,qm:t.qm}:{Xh:nB.o7,lY:t.lY}},n.j2=function(t){if(XC(t.uri)){var n=t.uri,i=ID(n.Kj,[n.$j.Ry,n.$j.Ny]);return this.TK.Bs(i)}var r=ID(t.uri);return this.TK.Bs(r)},n.B7=function(t){return this.f7.Bs(t.uri)},n.M7=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r,e,u,s,o,a,c){var h,f,v,d,l,_,w,g,y,k,p,A,b;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(h=this.b7(e),f=this.T7(h),v=this.Ig.i7.Mk(),d=this.N7(n,i,u,h,f.S7),w=null,y=!1,!m(d)){t.next=3;break}return t.abrupt("return",{Xh:nB.r5});case 3:if(!(d<v)){t.next=5;break}return t.abrupt("return",{Xh:nB.a7});case 5:k=a.length-1;case 6:if(!(k>=0)){t.next=27;break}if(l=a[k],_=hB(d,f.S7[l.Hh]),!(w=this.C7(l,_,f))){t.next=24;break}if(p=!1,!eB(w)){t.next=18;break}return t.next=15,this.j2(w.rw);case 15:p=t.sent,t.next=22;break;case 18:if(l.OY){t.next=22;break}return t.next=21,this.B7(l);case 21:p=t.sent;case 22:if(!p){t.next=24;break}return t.abrupt("return",this.P7(w,v));case 24:k-=1,t.next=6;break;case 27:if(!(d<=n+KP&&c.length)){t.next=33;break}if(l=c[0],_=hB(d,f.S7[l.Hh]),!(w=this.C7(l,_,f))){t.next=33;break}return t.abrupt("return",this.P7(w,v));case 33:A=c.length-1;case 34:if(!(A>=0)){t.next=48;break}if(l=c[A],_=hB(d,f.S7[l.Hh]),(w=this.C7(l,_,f))?g=w:(y=!0,g=this.D7(l,_)),!g){t.next=45;break}if(!(b=this.O7(g,_,s,n,v,r,f,o))){t.next=45;break}return t.abrupt("return",this.P7(b,v));case 45:A-=1,t.next=34;break;case 48:if(!y){t.next=50;break}return t.abrupt("return",{Xh:nB.r5});case 50:if(!w){t.next=52;break}return t.abrupt("return",this.P7(w,v));case 52:if(a.length){t.next=54;break}return t.abrupt("return",{Xh:nB.r5});case 54:if(l=a[0],_=hB(d,f.S7[l.Hh]),!(w=this.C7(l,_,f))){t.next=61;break}return t.abrupt("return",this.P7(w,v));case 61:return t.abrupt("return",{Xh:nB.r5});case 62:case"end":return t.stop()}},t,this)}));return function(n,i,r,e,u,s,o,a,c){return t.apply(this,arguments)}}(),t}(),_B=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this,n)||this).L7=i,o.U7=r,o.Qw=e,o.j_=u,o.hA=s,o}return ct(n,t),n}(ei),wB=function(t){function n(n,i,r,e,u){return t.call(this,ka.zf,n,i,r,e,u)||this}return ct(n,t),n}(_B),gB=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this,ka.jf,n,i,r,e,u)||this).F7=s,a.Zd=o,a}return ct(n,t),n}(_B),yB=Dv.Jk(.1),mB=function(t){function n(n){var i;return(i=t.call(this)||this).H7=[],i.PY=n,i}ct(n,t);var i=n.prototype;return i.V7=function(t,n,i){var r=this.X7(t),e=this.q7(r);this.W7(e,n,i)},i.X7=function(t){if(0===t.length)return[];for(var n=t[0].FY,i=this.z7(t[0]),r=[],e=0;e<t.length;e++){var u=t[e];n!==u.FY&&(n=u.FY,i=this.z7(u)),r.push(Dt(Dt({},u),{G7:u.i0.Wa(i)}))}return r},i.z7=function(t){var n=this.PY.R$(t.FY,t.i0),i=n.Ka(t.i0);return Xv(n,t.i0).Ka(i)},i.q7=function(t){var n,i,r,e,u,s=t.slice().sort(kB),o=this.H7;if(o.length)if(s.length){var a=1/s[0].FY.JQ,c=s[0].G7,h=o[0].G7,f=o[o.length-1].G7,v=(e=o[0].FY,u=s[0].FY,e.lY===u.lY);if(f.Ka(c).ja(Dv.Jk(2.5*a))&&v)n=o.concat(s).sort(kB);else if(c.Va(h)){for(var d=0;d<o.length&&o[d].G7.ja(c);)d++;for(var l=!1,_=!1,w=d,g=0;w<o.length&&g<s.length;w++,g++)i=o[w],r=s[g],i.i0.Ja(r.i0)&&i.Cu===r.Cu&&i.Tz===r.Ez?l=!0:_=!0;var y=l&&!_,m=l&&_;!l&&_?n=o.concat(s).sort(kB):y?n=o.slice(0,d).concat(s):(n=s,m&&this.Rh())}else n=s,this.Rh()}else n=o;else n=s;return n},i.W7=function(t,n,i){if(0!==t.length){for(var r=t[0],e=n.Ka(r.G7),u=Xv(n,r.G7).Ka(e),s=n.Wa(u),o=yB.za(s.La),a=0;a<t.length;a+=1){var c=t[a];if(!i&&s.Ka(c.G7).ja(o))return void(this.H7=t.slice(a));var h=this.PY.R$(c.FY,c.i0);this.pz(h,c)}this.H7=[]}},n}(iC);function kB(t,n){return(t.FY===n.FY?Ov(t.i0,n.i0):Ov(t.G7,n.G7))||Js(t.Qw,n.Qw)}var pB=function(t){function n(n,i,r,e,u,s,o,a,c,h){var f;return(f=t.call(this)||this).j7=!1,f.Q7=!1,f.Y7=!1,f.Z7=!1,f.J7=!1,f.K7=null,f.GY=void 0,f.ttt=void 0,f.ntt=null,f.Wm=-1,f.itt=null,f.rtt=!1,f.ett=!1,f.utt=1/0,f.stt=void 0,f.ott=null,f.att=0,f.fs=function(t){f.dispatchEvent(t)},f.ctt=function(){!f.Y7&&!f.Z7&&f.htt&&f.j7&&(f.Z7=f.ftt("NQ",f.dtt,function(){f.Z7=!1}))},f.ltt=function(){!f.Y7&&!f.J7&&f._tt&&f.Q7&&(f.J7=f.ftt("CQ",f.wtt,function(){f.J7=!1}))},f.gtt=function(t){return f.ytt()},f.mtt=function(t){if(t.j_===f.j_){var n=t.FY,i=n.j0;i.W$&&f.ktt(i.W$,n.info),i.Z$&&f.ptt(i.Z$,n.info),f.ytt(f.B2.F2,!0)}},f.MZ=function(t){var n=t;f.Att(n.NY,n.lY)},f.btt=function(t){if(f.ntt)for(var n=0;n<f.ntt.ww;n++){var i="CC"+(n+1);f._J.fZ(i,t.cue.qm,t.cue.Wm)}f._J.cZ(t.cue)},f.US=c,f._J=i,f.Ttt=r,f.h7=e,f.Ett=u,f.k9=s,f.Cw=o,f.B2=h,f.Ig=new ZP(o),f.Stt=f.Rtt(i),e.Th(n,f.Ig,f.k9),f.dtt=new UP(s,f.Ig),f.wtt=new UP(s,f.Ig),f.ntt=f.Itt(f.Ig),f.Ntt=new lB(n,f.Ig,f.Stt,e),e.addEventListener("o4",f.mtt),f.Ig.addEventListener("Is",f.fs),i.addEventListener("EZ",f.MZ),f}ct(n,t);var i=n.prototype;return i.ftt=function(t,n,i){var r=this,e=this.k9.X2,u=5*this.k9.qv,s=this.Ctt(),o="audio"===this.j_?[this.Dtt]:this.Stt.RQ,a=n.C9(),c=a[0],h=a[1],f=this.h7.x4(this.j_,t,this.Ig,o,c,h||void 0,e,u,s);return f&&!f.length&&f.m4?(this.k9.Ott("NQ"===t,"CQ"===t),!1):!(!f||!f.length)&&(this.Ett.m5(this.j_,this._J,f,f.A4,f.RL,f.m4,function(t,e){if(i(),t)r.dispatchEvent({type:"Is",Is:t});else{var u=e;n.p9(u).then(function(){return r.dispatchEvent("TJ")}).catch(function(t){0})}}),!0)},i.xtt=function(){this.Ett.ss(this.j_),this.Z7=!1,this.J7=!1},i.Ptt=function(){var t=this.k9.X2,n=this.dtt.S9(t)||this.wtt.S9(t);!n||this.K7&&this.K7.sj===n.sj||(this.ytt(this.B2.F2),this.K7=n,this.dispatchEvent({type:"Btt",Ip:this.K7.js.Q0}))},i.Mtt=function(){this.Ltt()},i.Utt=function(){this.Mtt()},i.Ftt=function(){this.ytt(this.B2.F2)},i.Htt=function(t,n){this.dtt.S9(t)||this.wtt.S9(t)||(this.K7=null)},i.Vtt=function(t){var n=!1;this.dtt.N9().Rm(t)||(this.ctt(),n=!0),this.wtt.N9().Rm(t)||(this.ltt(),n=!0),n&&this.ytt(this.B2.F2,!0)},i.Xtt=function(){this.dtt.Fs()},i.qtt=function(){this.wtt.Fs()},i.Ctt=function(){return 0===this.dtt.Ch+this.wtt.Ch?0:"l4"===this.Cw._4?0:1*this.h7.H2},i.Ltt=function(){this.ctt(),this.ltt()},i.hJ=function(t){return-1!==this.Stt.RQ.indexOf(t)},i.Wtt=function(t){t&&this.hJ(t)&&(this.MY(t),this.bZ(t))},i.MY=function(t){this.Ig.A8(t,t.Ij)},i.bZ=function(t){var n=this;if(t&&t.Ij&&this.Cw.hlsDateRange){this._J.bZ(t.Ij.dateRanges,function(i){return n.Ig.P8(t,i).Mk()})}},i.ztt=function(t){this.hJ(t.lY)&&this.Ig.Y9(t.lY,t)},i.Gtt=function(t){var n,i,r,e=t,u=this.dtt.S9(e)||this.wtt.S9(e);if(u)i=u.js.quality,r=u.sj,n=u.Ry;else{var s=this.Dtt;if(!s)return null;var o=this.Ig.I4(s,Dv.Jk(e));if(!o)return null;i=s,r=o.rw.sj,n=o.x8.Mk()}var a=this.Ig.O8(i,r);if(!a)return null;var c=e-n;return new Date(a.getTime()+1e3*c)},i.P8=function(t){var n=this.Dtt;return this.Ig.P8(n,t).Mk()},i.ytt=function(t,n){var i=this,r=this.jtt(),e=this.k9.X2;t&&(this.Wm=e+t,n&&(this.ott=null,this.att=0)),this.jtt()||e>=this.Wm?this.Qtt(r):this.itt||this.rtt||!this.Fh||(this.Ytt(),this.Ztt(function(t){return i.Jtt(e,i.k9.qv,t)}))},i.Ktt=function(t){t&&this.Ttt.removeEventListener(t.uri,this.gtt)},i.$tt=function(t){t&&this.Ttt.addEventListener(t.uri,this.gtt)},i.jtt=function(){return-1===this.Wm},n.tnt=function(t){return FC.yQ(t.lY.CY)&&oy()-t.M_>2e3*t.lY.Ij.metadata.a6},i.Ztt=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i,r;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=!1,this.itt=new Ln,r=this.itt,t.prev=3,t.next=6,n(r.cs);case 6:i=t.sent,Hn(r.cs),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),Xn(t.t0);case 13:return t.prev=13,this.itt===r&&(this.itt=null),t.finish(13);case 16:i&&this.ytt();case 17:case"end":return t.stop()}},t,this,[[3,10,13,16]])}));return function(n){return t.apply(this,arguments)}}(),i.Ytt=function(){this.itt&&(this.itt.ss(),this.itt=null)},i.nnt=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}(),i.int=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!RB.tnt(n)){t.next=2;break}return t.abrupt("return",this.dispatchEvent("rnt"));case 2:if(i=w.min(16e3,1e3*w.pow(2,this.att)),this.att+=1,this.Ytt(),!(this.att>2)){t.next=8;break}return n.lY.kY(!1),t.abrupt("return",n.lY.gY());case 8:this.Ztt(function(t){return Jn(i,t).then(function(){return!0})});case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.ktt=function(t,n){var i,r;r=rD((i=t).z$,4),i.aZ="0000.0000.0000."+r,function(t){var n=rD(t.G$,4),i=rD(t.j$,3),r=rD(t.Q$,2*t.j$);t.Jh=(n+i+r).toUpperCase()}(t),FP(n,this.Ig,t),this._J.oZ(t,this.Ig)},i.ptt=function(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];i.push(Dt(Dt({},e),{FY:n}))}this.ntt&&this.ntt.V7(i,n.m2,n.$0)},i.ent=function(t){this.stt&&this.stt.FY===t&&this.ytt()},i.unt=function(t,n){if(n){if(n.aborted)return;if(this.ott===t)return this.int(t)}else t.lY.kY(!0);return this.ytt()},i.snt=function(t){var n=QC(t.lY.NY);n&&this.dispatchEvent(new wB(VC(t.uri),t.lY.bandwidth||0,t.sj,t.lY.sj,n))},i.ont=function(t,n){var i=this.stt&&this.stt.yA.MK||200,r=QC(t.lY.NY);r&&this.dispatchEvent(new gB(VC(t.uri),t.lY.bandwidth||0,t.sj,t.lY.sj,r,i,n&&n.AK.XK||0))},i.Qtt=function(t){this.Wm=-1,t||this.dispatchEvent("ant")},i.cnt=function(t){this.ett=!0,this.Qtt(t),this.dispatchEvent("HJ")},i.Jtt=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r){var e,u,s,o,a,c,h=this;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Hn(r),e=this.Dtt,u=this.jtt(),this.Ktt(e||void 0),!(n>=this.Wm)){t.next=7;break}return this.Qtt(u),t.abrupt("return",!1);case 7:return t.next=9,this.Ntt.M7(n,this.Wm,i,e||void 0,this.Ctt(),this.stt&&this.stt.yA,this.stt&&this.stt.FY,this.hnt,this.fnt);case 9:if(s=t.sent,mc.ed(this.h7.A3/8),Hn(r),s.Xh!==nB.a7){t.next=18;break}return this.Ytt(),this.dispatchEvent("rnt"),t.abrupt("return",!1);case 18:if(s.Xh!==nB.o7){t.next=29;break}if(s.lY!==e){t.next=24;break}return this.$tt(e),t.abrupt("return",!1);case 24:return t.next=26,this.nnt(s.lY,null);case 26:return t.abrupt("return",t.sent);case 27:t.next=33;break;case 29:if(s.Xh!==nB.r5){t.next=33;break}return this.$tt(e||void 0),!FC.yQ(e.CY)&&e.Ij&&this.cnt(u),t.abrupt("return",!1);case 33:if(o=s.rw,!this.stt||this.stt.FY!==o){t.next=36;break}return t.abrupt("return",!1);case 36:if(o.lY===e){t.next=40;break}return t.next=39,this.nnt(o.lY,o);case 39:return t.abrupt("return",t.sent);case 40:if(this.stt&&(this.stt.yA.ss(),this.stt=void 0),!(s.qm>this.utt)){t.next=46;break}return this.cnt(u),t.abrupt("return",!1);case 46:if(!(s.qm>this.Wm)){t.next=49;break}return this.Qtt(u),t.abrupt("return",!1);case 49:if(this.ett=!1,this.stt=void 0,o!==this.ott&&(this.att=0),this.ott=o,this.dispatchEvent("FJ"),this.snt(o),!o.r6){t.next=59;break}return t.next=58,this.h7.e4(this.j_,String(o.lY.Hh),o.r6);case 58:a=t.sent;case 59:return(c=this.h7.s4(this.j_,o,a,function(t,n){h.Ytt(),h.ont(o,n),h.stt=void 0,r&&r.Qu||h.unt(o,t)}))&&(this.stt={FY:o,yA:c},c.addEventListener("TJ",function(){r&&r.Qu||h.ent(o)})),t.abrupt("return",!1);case 62:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.vnt=function(t){this.ytt(t||this.B2.F2,!0)},i.dnt=function(){var t=this.jtt();this.Wm=-1,this.stt&&this.stt.yA.ss(),this.stt=void 0,this.Ktt(),this.ett=!1,this.ott=null,this.att=0,this.Ytt(),this.Qtt(t),this.ntt=this.Itt(this.Ig)},i.lnt=function(){this.rtt=!0,this.Ktt(),this.Ytt()},i._nt=function(){this.rtt=!1,this.ytt()},i.wnt=function(){this.Y7=!0},i.gnt=function(){this.Y7=!1,this.Ltt()},i.Ih=function(){this.gs(),this.dnt(),this.xtt(),this.htt=null,this._tt=null,this.dtt.Ih(),this.wtt.Ih(),this.Ett.ss(this.j_),this.Ig.Ih(),this._J.removeEventListener("EZ",this.MZ),this.h7.removeEventListener("o4",this.mtt),this.Stt=null,this.ynt()},i.Rh=function(){this.K7=null,this.GY=void 0,this.ttt=void 0,this.ynt(),this.ntt=this.Itt(this.Ig)},i.Itt=function(t){var n=new mB(t);return n.ls("WW",this.btt),n},i.ynt=function(){this.ntt&&(this.ntt.ys("WW",this.btt),this.ntt.Ih(),this.ntt=null)},T(n,[{key:"Lv",get:function(){return this.k9.X2}},{key:"mnt",get:function(){return this.j7}},{key:"j_",get:function(){return this.knt()}},{key:"OY",get:function(){return this.pnt()}},{key:"hnt",get:function(){return this.Ant()}},{key:"fnt",get:function(){return this.bnt()}},{key:"htt",get:function(){return this.dtt.E9},set:function(t){var n=this.dtt.E9;n&&n.removeEventListener("updateend",this.ctt),this.dtt.E9=t,t&&(t.addEventListener("updateend",this.ctt),this.ctt())}},{key:"_tt",get:function(){return this.wtt.E9},set:function(t){var n=this.wtt.E9;n&&n.removeEventListener("updateend",this.ltt),this.wtt.E9=t,t&&(t.addEventListener("updateend",this.ltt),this.ltt())}},{key:"ant",get:function(){return this.jtt()}},{key:"HJ",get:function(){return this.ett}},{key:"Tnt",get:function(){return this.utt},set:function(t){this.utt=t}},{key:"Dtt",get:function(){return this.Ent()}},{key:"Snt",get:function(){return this.Rnt()},set:function(t){this.Int(t)}},{key:"Fh",get:function(){return this.KM()}},{key:"Kd",get:function(){return this.Nnt()}}]),n}(mC);function AB(t,n){if(t.bandwidth!==n.bandwidth)return!1;if(t.resolution){if(!n.resolution)return!1;if(t.resolution.width!==n.resolution.width||t.resolution.height!==n.resolution.height)return!1}else if(n.resolution)return!1;return!0}function bB(t){for(var n=[],i=0;i<t.length;i++){for(var r=t[i],e=!1,u=0;u<n.length;u++){AB(r,n[u])&&(e=!0)}e||n.push(r)}return n}function TB(t){var n=t&&t.uri||"",i=n.indexOf("?"),r=n.indexOf("#"),e=n.length;-1!==r&&(e=r),-1!==i&&(e=i);var u=n.indexOf(".aac",e-4);return 0<=u&&u<e}var EB=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this)||this).Cnt=null,o.Dnt=null,o.Ont=null,o.xnt=null,o.Pnt=null,o.Bnt=null,o.Mnt=null,o.Lnt=!1,o.Im=!0,o.HQ=!0,o.Unt=null,o.Fnt=function(){o.Unt&&o.Unt.disabled&&o.Hnt(o.Cw.initialRendition||"default"),o.Vnt(!0)},o.Xnt=function(){var t=o._J.xZ.IQ.some(function(t){return t.Kd});o.qnt(t)},o.Wnt=function(t){"variant"===t.j_&&(o.h7.removeEventListener("v4",o.Wnt),o.Unt&&(o.Unt=null,o.Vnt(!1)))},o.US=s,o._J=n,o.Ig=i,o.h7=r,o.Cw=e,o.znt=e.Gnt||[],o.jnt=new NP(e,SD.dn.sK,u),o.Cnt=null,o.h7.addEventListener("v4",o.Wnt),o.Qnt(),o.Ynt(),o.Hnt(e.initialRendition||"default"),o}ct(n,t);var i=n.prototype;return i.Znt=function(t,n){var i=zC(t);if(i&&!i.disabled)return i;var r=this.Jnt(t,null);switch(r.length?"first"!==n&&(n="high"):r=t,n){case"first":return r.reduce(function(t,n){return t.sj<=n.sj?t:n});case"high":var e=bB(r);return e[e.length-1];case"low":default:return bB(t)[0]}},i.Knt=function(t,n){var i=this.$nt||this.Unt&&[this.Unt],r=i&&i.filter(function(n){return Dn(t,n)});return r&&r.length>0?bB(r):bB(this.Jnt(t,n))},i.Jnt=function(t,n){var i=this.Cw,r=this.znt,e=this.tit();return t.filter(function(t){for(var u=0;u<r.length;u++){if(!r[u].nit(t,n,e,i))return!1}return!0})},i.iit=function(t,n){var i=this.Knt(t,n);return i.length?i[i.length-1]:t[0]},i.rit=function(t,n){var i=this.$nt;return i&&i.length>0?i.filter(function(n){return Dn(t,n)}):t},i.eit=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r,e,u,s;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.xnt,e=this.Pnt,!r||n!==this.Bnt||i!==this.Mnt){t.next=4;break}return t.abrupt("return",r);case 4:return u=new Ln,s=this.uit(n,i,u.cs),r&&e&&e.ss(),this.xnt=s,this.Pnt=u,this.Mnt=i,t.prev=10,t.next=13,s;case 13:return t.abrupt("return",t.sent);case 14:return t.prev=14,s===this.xnt&&(this.xnt=null,this.Pnt=null,this.Mnt=null),t.finish(14);case 17:case"end":return t.stop()}},t,this,[[10,,14,17]])}));return function(n,i){return t.apply(this,arguments)}}(),i.uit=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r){var e,u,s,o,a;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this._J,u=this.Ig,s=e.OZ,t.next=5,this.sit(n,r);case 5:if(t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:if(!i){t.next=14;break}if(o=u.t7(s,i.sj),a=u.I4(n,o),FC.yQ(s.CY)||a){t.next=14;break}return n.disabled="isUnsynced",t.abrupt("return",!1);case 14:return t.abrupt("return",!0);case 15:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.sit=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r,e,u,s;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.Dnt,e=this.Ont,!r||n!==this.Bnt){t.next=4;break}return t.abrupt("return",r);case 4:return(u=new Ln).os(i),s=this.oit(n,u.cs),r&&e&&e.ss(),this.Dnt=s,this.Ont=u,this.Bnt=n,t.prev=11,t.next=14,s;case 14:return t.abrupt("return",t.sent);case 15:return t.prev=15,s===this.Dnt&&(this.Dnt=null,this.Ont=null,this.Bnt=null),t.finish(15);case 18:case"end":return t.stop()}},t,this,[[11,,15,18]])}));return function(n,i){return t.apply(this,arguments)}}(),i.oit=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r,e,u,s;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this._J,e=r.OZ,!this.Fh||e!==n){t.next=4;break}return t.abrupt("return",!1);case 4:if(this.ait(n)){t.next=8;break}u=n.Ij,t.next=22;break;case 8:return t.prev=8,t.next=11,this.jnt.do(n.uri,{});case 11:s=t.sent,Hn(i),u=s.NZ,t.next=21;break;case 16:return t.prev=16,t.t0=t.catch(8),n.vY(!1),n.gY(),t.abrupt("return",!1);case 21:n.aY(u,e);case 22:if(!TB(u.fragments[0])){t.next=25;break}return n.disabled="isAAC",t.abrupt("return",!1);case 25:return t.abrupt("return",!0);case 26:case"end":return t.stop()}},t,this,[[8,16]])}));return function(n,i){return t.apply(this,arguments)}}(),i.ait=function(t){var n=t.Ij;return!n||!!n.live&&(!t.Sj.Ch||t.Sj.hj(t.Sj.Ch-1).M_+1e3*n.targetDuration<oy())},i.Pm=function(t){t?this.Im||(this.Im=!0,this.dispatchEvent("Fh")):this.Im&&(this.Im=!1)},i.qnt=function(t){t&&!this.HQ?(this.HQ=!0,this.dispatchEvent("Kd")):!t&&this.HQ&&(this.HQ=!1,this.dispatchEvent("ND"))},i.Vnt=function(t){var n=this,i=this._J,r=i.OZ,e=i.xZ.IQ,u=this.rit(e,r),s=this.iit(u,r);s?this.eit(s,null).then(function(r){r&&(i.vZ(s,t),n.Pm(!0))}):this.Pm(!1)},i.cit=function(){this.Unt=null,this.Vnt(!0)},i.Ynt=function(){this._J.xZ.addEventListener("TQ",this.Xnt)},i.hit=function(){this._J.xZ.removeEventListener("TQ",this.Xnt)},i.Qnt=function(){this._J.xZ.addEventListener("AQ",this.Fnt)},i.fit=function(){this._J.xZ.removeEventListener("AQ",this.Fnt)},i.Hnt=function(t){var n=this._J,i=n.xZ.IQ;if(Boolean(n.OZ&&!n.OZ.disabled))this.Unt=null;else{if(i&&i.length){var r;switch(this.US.lx.type){case ET.PERFORMANCE:r="low";break;case ET.QUALITY:r="high";break;case ET.BANDWIDTH:r=t}this.Unt=this.Znt(i,r),this.Lnt=!0}var e=this.rit(i,null),u=this.iit(e,null);u&&(n.OZ=u)}},i.tit=function(){return this.Lnt?{A3:this.h7.A3}:{A3:this.US.Ax}},i.ss=function(){this.xnt&&this.Pnt&&(this.Pnt.ss(),this.xnt=null,this.Pnt=null,this.Mnt=null),this.Dnt&&this.Ont&&(this.Ont.ss(),this.Dnt=null,this.Ont=null,this.Bnt=null)},i.Ih=function(){this.h7.removeEventListener("v4",this.Wnt),this.fit(),this.hit(),this.ss(),this.Cnt=null,this.Unt=null},i.vit=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r,e;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this._J,n){t.next=3;break}return t.abrupt("return",!1);case 3:return t.next=5,this.eit(n,i);case 5:return(e=t.sent)&&(r.OZ=n),t.abrupt("return",e);case 8:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),T(n,[{key:"Fh",get:function(){return this.Im}},{key:"Kd",get:function(){return this.HQ}},{key:"fnt",get:function(){var t=this._J,n=t.OZ,i=this.rit(t.xZ.IQ,n);return this.Knt(i,n)}},{key:"hnt",get:function(){return this.rit(this._J.xZ.IQ,this._J.OZ)}},{key:"$nt",get:function(){return this.Cnt},set:function(t){this.Cnt=t,this.cit()}}]),n}(mC),SB=function(){function t(t,n){this.dit=-1,this.$c=t,this.Ig=n}return t.prototype._o=function(t){for(var n=t.Sj,i=n.cj(this.dit),r=i<0?0:i+1;r<n.Ch;r++){var e=n.hj(r);if(e.sj>this.dit){var u=this.Ig.b$(e),s=this.Ig.T$(e,u),o=new vv(u.Mk(),s.Mk(),[].concat(e.bY),!1);o.Hh=""+e.sj,this.$c.NA(o),this.dit=e.sj}}},t}(),RB=function(t){function n(n,i,r,e,u,s,o,a,c){var h;return(h=t.call(this,LC.dQ,n,i,r,e,u,s,o,a,c)||this).lit=null,h._it=null,h.wit=new EB(n,h.Ig,r,s,o,a),h.wit.addEventListener("Fh",h.fs),h.wit.addEventListener("Kd",h.fs),h.wit.addEventListener("ND",h.fs),s.manifestMetadataTrack&&(h.lit=n.sZ("",h.Ig,""),h._it=new SB(h.lit,h.Ig)),h.j7=!h._J.kZ||!h._J.kZ.uri,h.Q7=Boolean(h._J.OZ),h}ct(n,t);var i=n.prototype;return i.Att=function(t,n){if("NQ"===t){var i=n?n.uri:void 0;this.j7=!i}},i.knt=function(){return LC.dQ},i.pnt=function(){return this.Dtt&&this.Dtt.OY||!1},i.Ent=function(){return this._J.OZ},i.Ant=function(){return this.wit.hnt},i.bnt=function(){return this.wit.fnt},i.Rnt=function(){var t=this.wit.$nt;return t&&t.map(function(t){return t.Hh})},i.Int=function(t){if(t&&t.length>0){var n=this.Stt.RQ.filter(function(n){return-1!==t.indexOf(n.Hh)});if(!(n.length>0))return void 0;this.wit.$nt=n}else this.wit.$nt=null},i.KM=function(){return this.wit.Fh},i.Nnt=function(){return this.wit.Kd},i.nnt=function(){var n=Ct.coroutine(Nt.mark(function n(i,r){return Nt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.wit.vit(i,r);case 2:return n.abrupt("return",t.prototype.nnt.call(this,i,r));case 3:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),i.dnt=function(){t.prototype.dnt.call(this),this.wit.ss()},i.MY=function(n){t.prototype.MY.call(this,n),this._it&&this._it._o(n)},i.Ih=function(){t.prototype.Ih.call(this),this.wit.Ih(),this.wit.removeEventListener("Kd",this.fs),this.wit.removeEventListener("ND",this.fs)},i.Rtt=function(t){return t.xZ},i.git=function(){var t=this.Lv,n=this.mnt?this.dtt.R9(t):void 0,i=n?n.lY:void 0,r=this.wtt.R9(t),e=r?r.lY:void 0,u=this.GY;this.GY=i;var s=this.ttt;return this.ttt=e,!u&&i?{SZ:u,yit:i}:!s&&e?{SZ:s,yit:e}:s&&e&&s.Hh!==e.Hh?{SZ:s,yit:e}:void 0},n}(pB),IB=function(t){function n(n,i,r,e,u,s,o,a,c){var h;return(h=t.call(this,LC.$l,n,i,r,e,u,s,o,a,c)||this).j7=!!h._J.kZ&&!!h._J.kZ.uri,h.Q7=!1,h}ct(n,t);var i=n.prototype;return i.Att=function(t,n){if("NQ"===t){var i=n?n.uri:void 0;this.j7=!!i}},i.knt=function(){return LC.$l},i.pnt=function(){return this.Dtt&&this.Dtt.OY||!1},i.Ent=function(){return this._J.kZ},i.Ant=function(){var t=this.Ent();return t?[t]:[]},i.bnt=function(){return this.Ant()},i.Rtt=function(t){return t.oY},i.Rnt=function(){return null},i.Int=function(t){},i.KM=function(){return!0},i.Nnt=function(){return!0},i.git=function(){var t=this.mnt?this.dtt.R9(this.Lv):void 0,n=t?t.lY:void 0,i=this.GY;return this.GY=n||void 0,!i&&n?{SZ:i,yit:n}:i&&n&&i.Hh!==n.Hh?{SZ:i,yit:n}:void 0},n}(pB),NB=function(){function t(t,n,i,r,e,u){var s=this;this.mit=!1,this.kit=new nf([]),this.pit=[],this.Ait=[],this.BY=function(){return s.bit()},this.Tit=function(t){t.NZ.live||s.Eit.removeEventListener(s.mj.Kj,s.Tit),s.mj.aY(t.NZ)},this.Sit=function(){s.mj.VY.Kh===ea.jh?s.mit&&s.Rit():s.mit||s.Iit()},this.mj=t,this.Eit=n,this.M2=i,this.B2=u,this.Nit=new xD(r,e),this.Cit=new Ln,t.VY.ls(No.fh,this.Sit),t.Ig&&t.Ig.addEventListener("XY",this.BY),n.addEventListener(t.Kj,this.Tit),this.Sit()}var n=t.prototype;return n.Iit=function(){this.mit||this.mj.VY.Kh===ea.jh||(this.Eit.J6(this.mj.Kj),this.Eit.K6(this.mj.Kj),this.mit=!0,Qn(this.Dit(this.Cit.cs)))},n.Dit=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i,r,e,u,s,o,a,c,h,f,v=this;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.M2.X2,r=this.B2.F2,e=new nf([i,i+r]),(u=e.Wy(this.kit.zy())).Ch){t.next=16;break}return t.prev=6,t.next=9,Jn(1e3,n);case 9:t.next=15;break;case 11:return t.prev=11,t.t0=t.catch(6),Xn(t.t0),t.abrupt("return");case 15:return t.abrupt("return",this.Dit(n));case 16:if(s=u.Ry(0),o=this.Oit(s)){t.next=30;break}return a=this.mj,t.prev=20,t.next=23,La(a,"dY",n);case 23:t.next=29;break;case 25:return t.prev=25,t.t1=t.catch(20),Xn(t.t1),t.abrupt("return");case 29:return t.abrupt("return",this.Dit(n));case 30:c=o.rw,h=o.x8.Mk(),f=h+c.duration,this.Nit.do("VY",c.uri,Zd.yn,function(){var t=Ct.coroutine(Nt.mark(function t(i,r){var e,u,s,o,a,d;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!i){t.next=3;break}throw Jn(1e3,n).then(function(){return v.Dit(n)}),i;case 3:for(v.kit=v.kit.Zy(new nf([h,f])),v.pit.push(c.sj),e=td(r.mA),u=e.pp||{Ap:Dv.rc,bp:Dv.rc},s=v.mj.Sj.fj(c.sj),o=0,a=e.tf;o<a.length;o++)d=a[o],v.Ait.push({FY:s,x8:CB(Dv.Jk(d.qm),u.bp,u.Ap),xit:CB(Dv.Jk(d.Wm),u.bp,u.Ap),Xm:d});return v.bit(),t.next=12,v.Dit(n);case 12:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}());case 34:case"end":return t.stop()}},t,this,[[6,11],[20,25]])}));return function(n){return t.apply(this,arguments)}}(),n.bit=function(){var t=this.mj.Ig;if(this.Ait.length&&t){for(var n=[],i=0,r=this.Ait;i<r.length;i++){var e=r[i],u=t.R$(e.FY,e.x8);if(u.pk())n.push(e);else{var s=t.R$(e.FY,e.xit),o=new lv(u.Mk(),s.Mk(),e.Xm.zm,!1,e.Xm.Hh);this.mj.VY.NA(o)}}this.Ait=n,this.mj.VY.EF(this.M2.X2,!0)}},n.Oit=function(t){var n=this.mj.Ig,i=this.mj.Sj;if(n.R8)for(var r=n.L8.Mk(),e=i.Ch-1;e>=0;e-=1){var u=i.hj(e),s=r-u.duration;if(new nf([s,r]).Xy(t,.5)){var o={rw:u,x8:Dv.Jk(s)};return this.Pit(i,o,e)}r=s}else for(var a=0,c=0;c<i.Ch;c+=1){var h=i.hj(c),f=a+h.duration;if(new nf([a,f]).Xy(t,.5)){var v={rw:h,x8:Dv.Jk(a)};return this.Pit(i,v,c)}a=f}},n.Pit=function(t,n,i){var r=n.rw;if(-1===this.pit.indexOf(r.sj))return n;for(var e=n.x8.Mk()+r.duration,u=i+1;u<t.Ch;u+=1){var s=t.hj(u);if(-1===this.pit.indexOf(s.sj))return{rw:s,x8:Dv.Jk(e)};e+=s.duration}},n.Rit=function(){this.mit=!1,this.Eit.Z6(this.mj.Kj),this.Cit.ss(),this.Cit=new Ln},n.Rh=function(){this.Rit(),this.kit=new nf([]),this.pit.length=0,this.mj.VY.ys(No.fh,this.Sit),this.mj.Ig&&this.mj.Ig.removeEventListener("XY",this.BY),this.Eit.removeEventListener(this.mj.Kj,this.Tit)},t}();function CB(t,n,i){return Vv(i,t.Ka(n))}var DB=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).Bit=NaN,u.Mit=!1,u.Lit=1/0,u.Uit=1/0,u.Fit=null,u.Hit=!0,u.Vit=!0,u.k9=null,u.Xit=void 0,u.qit=void 0,u.Wit=[],u.nZ=function(){var t=u._J.Uv;m(t)||u.Bit===t||(u.Bit=t,u.dispatchEvent("durationchange"))},u.zit=function(){u.kJ&&(u._J.removeEventListener("renditionUpdated",u.zit),u.dispatchEvent("kJ"))},u.Git=function(){u.ant&&u.dispatchEvent("ant")},u.jit=function(){u.HJ&&u.dispatchEvent("HJ")},u.fs=function(t){u.dispatchEvent(t)},u.Qit=function(t){var n=u._J.lZ(t.j6);n?n instanceof JC&&(n.vY(!1),n.gY()):u.dispatchEvent(t)},u.Yit=function(t){u._J.NZ||(t.Is.code===pC.GG?(u.Fit||(u.Fit=c(u.Zit,ng)),u.Vit=!1,u.mY()):u.dispatchEvent({type:"Is",Is:t.Is}))},u.Jit=function(t){u.Kit(),u.$it(t.NZ),u.trt(),u._J.removeEventListener("yZ",u.nZ),u._J.addEventListener("yZ",u.nZ),u.nZ(),u.Mit||(u.Mit=!0,u.dispatchEvent("loadedmetadata")),u.zit(),u.Vit=!0,u.mY()},u.Zit=function(){u.Kit();var t=u.VJ;t&&(u.Ttt.Rh(),u.Ttt.VJ=t,u.Ttt.Ry())},u.nrt=function(){u.Ttt.t9()},u.irt=function(){u.rrt.forEach(function(t){return t.gnt()})},u.ert=function(t){u.urt.forEach(function(n){return n.Wtt(t.lY)})},u.ort=function(t){u.rrt.forEach(function(n){return n.ztt(t.o2)}),u.art.a9(t.o2,u.rrt.map(function(t){return t.Ig}))},u.mY=function(){var t=u.Hit,n=u.Nnt();u.Hit=n,n&&!t?u.dispatchEvent("Kd"):!n&&t&&u.dispatchEvent("ND")},u.US=e,u.Cw=n,u.UJ=i,u.TA=r,u.h7=new Rx(n,i,r,vt(u)),u.Ett=new cP(n),u._J=new $C(n),u.Ttt=new DP(r,n),u.art=new OP,u.Ttt.addEventListener("Is",u.Qit),u.Ttt.addEventListener("G6",u.Yit),u.Ttt.addEventListener("Q6",u.Jit),u.h7.addEventListener("o4",u.fs),u.h7.addEventListener("Is",u.fs),u._J.addEventListener("EZ",u.fs),u._J.addEventListener("dY",u.ert),u._J.addEventListener("WY",u.ort),u._J.addEventListener("RZ",u.fs),u.art.addEventListener("r9",u.fs),u.art.addEventListener("r9",u.irt),u.addEventListener("Kd",u.nrt),u}ct(n,t);var i=n.prototype;return i.crt=function(t){t.Tnt=this.Tnt,t.addEventListener("Btt",this.fs),t.addEventListener("hrt",this.fs),t.addEventListener("Is",this.fs),t.addEventListener("rnt",this.fs),t.addEventListener("FJ",this.fs),t.addEventListener("ant",this.Git),t.addEventListener("HJ",this.jit),t.addEventListener("ND",this.mY),t.addEventListener("Kd",this.mY),t.addEventListener("Fh",this.fs),t.addEventListener("TJ",this.fs),t.addEventListener(ka.zf,this.fs),t.addEventListener(ka.jf,this.fs)},i.trt=function(){this.frt();this._J.xZ.RQ;var t=this._J.oY.RQ;this.Xit=new RB(this._J,this.Ttt,this.h7,this.Ett,this.k9,this.Cw,this.TA,this.US,this),this.crt(this.Xit),t.length&&(this.qit=new IB(this._J,this.Ttt,this.h7,this.Ett,this.k9,this.Cw,this.TA,this.US,this),this.crt(this.qit));for(var n=this._J.PZ,i=this.Xit.Ig,r=0;r<n.length;r++){var e=n[r];e.Ig=i,this.Wit.push(new NB(e,this.Ttt,this.k9,this.TA,this.Cw,this))}},i.frt=function(){this.Xit&&(this.Xit.Ih(),this.Xit=void 0),this.qit&&(this.qit.Ih(),this.qit=void 0),this.Wit.forEach(function(t){return t.Rh()}),this.Wit.length=0,this.art.Rh()},i.vrt=function(t){this.rrt.forEach(function(n){return n.vnt(t)})},i.$it=function(t){this._J.NZ=t},i.drt=function(){this.Ttt.Ry()},i.lrt=function(t){this.art.c9(t,this.rrt.map(function(t){return t.Ig}))||this.rrt.forEach(function(t){t.xtt(),t.wnt()})},i.Rit=function(){this.h7.r4(),this.rrt.forEach(function(t){return t.dnt()})},i.GJ=function(){this.h7.r4(),this.rrt.forEach(function(t){return t.lnt()})},i.qJ=function(){this.rrt.forEach(function(t){return t._nt()})},i.Ih=function(){this.gs(),this.Kit(),this.frt(),this.h7.Ih(),this.Ett.Ih(),this._J.Ih(),this.Ttt.Rh(),this.art.Ih()},i._rt=function(t,n,i,r){var e=this.Xit,u=this.qit;t&&(e.dnt(),this.h7.Fs(e.j_),e.vnt(r)),n&&u&&(u.dnt(),this.h7.Fs(u.j_),i&&u.vnt(r))},i.wrt=function(){if(!this.Xit)return JD;var t=this.Xit;return gO(t.Ig,this.h7.Z2(t.j_))},i.Y6=function(t,n,i){var r=this,e=n?n.uri:void 0,u=i?i.uri:void 0,s=function t(n){n.NZ.live||r.Ttt.removeEventListener(u,t),i&&i.aY(n.NZ)};u&&(this.Ttt.removeEventListener(u,s),this.Ttt.addEventListener(u,s)),this.Ttt.Y6(e,u),this.Ttt.K6(u)},i.Kit=function(){null!==this.Fit&&h(this.Fit),this.Fit=null},i.Nnt=function(){return!!this.Vit&&(!this.Xit||this.Xit.Kd)},i.ZJ=function(t){this.Xit&&(this.Xit.Snt=t)},i.Rh=function(){this.urt.forEach(function(t){return t.Rh()}),this.Wit.forEach(function(t){return t.Rh()})},T(n,[{key:"grt",get:function(){return this.Xit}},{key:"yrt",get:function(){return this.qit}},{key:"rrt",get:function(){var t=[];return this.Xit&&t.push(this.Xit),this.qit&&this.qit.mnt&&t.push(this.qit),t}},{key:"urt",get:function(){return[this.Xit,this.qit].filter(L)}},{key:"F2",get:function(){return zs(this.US.hx*this.h7.H2,1,this.mrt)}},{key:"VJ",get:function(){return this.Ttt.VJ},set:function(t){this.Bit=NaN,this.Lit=1/0,this.Mit=!1,this.Hit=!0,this.Vit=!0,this._J.removeEventListener("renditionUpdated",this.zit),this._J.removeEventListener("yZ",this.nZ),this.Kit(),this.frt(),this.h7.Fs(),this.Ett.ss(),this._J.Ih(),this._J.addEventListener("renditionUpdated",this.zit),this.Ttt.VJ=t,this.mY()}},{key:"Uv",get:function(){return this.Bit}},{key:"R8",get:function(){return this._J&&FC.yQ(this._J.CY)}},{key:"Kd",get:function(){return this.Hit}},{key:"kJ",get:function(){var t=this.rrt;return t.length>0&&t.every(function(t){return t.OY})}},{key:"H2",get:function(){return this.h7.H2},set:function(t){t>0&&(this.h7.H2=t)}},{key:"ant",get:function(){return this.rrt.every(function(t){return t.ant})}},{key:"HJ",get:function(){return this.rrt.length>0&&this.rrt.every(function(t){return t.HJ})}},{key:"mrt",get:function(){return this.Uit},set:function(t){this.Uit=t}},{key:"Tnt",get:function(){return this.Lit},set:function(t){var n=this;this.Lit=t,this.urt.forEach(function(t){return t.Tnt=n.Lit})}},{key:"nl",get:function(){return this.kJ?new ZD([{Ry:this.M8,Ny:this.L8}]):JD}},{key:"M8",get:function(){if(!this.kJ)return 0;for(var t=-1/0,n=0,i=this.rrt;n<i.length;n++){var r=i[n];t=w.max(t,r.Ig.M8.Mk())}return t}},{key:"L8",get:function(){if(!this.kJ)return 0;for(var t=1/0,n=0,i=this.rrt;n<i.length;n++){var r=i[n];t=w.min(t,r.Ig.L8.Mk())}return t}},{key:"U8",get:function(){if(!this.kJ)return 0;for(var t=1/0,n=0,i=this.rrt;n<i.length;n++){var r=i[n];t=w.min(t,r.Ig.U8.Mk())}return w.max(t,this.M8)}},{key:"YJ",get:function(){return this.Xit&&this.Xit.Snt||void 0}}]),n}(mC),OB=function(t){function n(n,i){var r;return(r=t.call(this)||this).Bit=NaN,r.Mit=!1,r.Fit=null,r.Hit=!0,r.lit=null,r._it=null,r.fs=function(t){r.dispatchEvent(t)},r.$it=function(t){if(r._J.NZ||(r._J.NZ=r.krt.DZ||null),!r._J.OZ){var n=r._J.xZ.RQ[0];n&&(r._J.OZ=n,r.krt.q6(n),r.dispatchEvent({type:"prt",lY:n}))}t.manifest.isMasterPlaylist||r._J.OZ.aY(t.manifest),void 0!==t.manifest.duration&&r.Bit!==t.manifest.duration&&(r.Bit=t.manifest.duration,r.dispatchEvent("durationchange")),r.Mit||(r.Mit=!0,r.dispatchEvent("loadedmetadata")),r.qnt(!0),r.dispatchEvent({type:"X6",manifest:t.manifest})},r.Yit=function(t){t.Is.code===pC.GG?(r.Fit||(r.Fit=c(r.Zit,ng)),r.qnt(!1)):r.dispatchEvent({type:"Is",Is:t.Is})},r.Zit=function(){r.Kit();var t=r.VJ;t&&r.krt.Ry(t)},r.Kit=function(){h(r.Fit),r.Fit=null},r.ert=function(t){var n=t.lY;r.Ig.A8(n,n.Ij),r.Cw.manifestMetadataTrack&&(r._it||(r.lit=r._J.sZ("",r.Ig,""),r._it=new SB(r.lit,r.Ig)),r._it._o(n))},r.Cw=n,r._J=new $C(n,!0),r.Ig=new JP(n),r.krt=new CP(i,r.Cw),r.Ig.addEventListener("Is",r.fs),r.krt.addEventListener("X6",r.$it),r.krt.addEventListener("Is",function(t){r._J.NZ?(r.Fit||(r.Fit=c(r.Zit,ng)),r.qnt(!1)):r.Yit(t)}),r._J.addEventListener("dY",r.ert),r}ct(n,t);var i=n.prototype;return i.drt=function(){this._J.NZ||this.krt.Ry()},i.wrt=function(){return JD},i.qnt=function(t){var n=this.Hit;this.Hit=t,t&&!n?this.dispatchEvent("Kd"):!t&&n&&this.dispatchEvent("ND")},i.Ih=function(){this.gs(),this.Kit(),this._J.Ih(),this.krt.Ih(),this._it=null,this.Ig.Ih()},i.GJ=function(){},i.qJ=function(){},i.vrt=function(t){},i.ZJ=function(t){},T(n,[{key:"VJ",get:function(){return this.krt.VJ},set:function(t){this.Bit=NaN,this.Mit=!1,this.Kit(),this._J.Ih(),this._it=null,this.krt.VJ=t,this.qnt(!0)}},{key:"Uv",get:function(){return this.Bit}},{key:"R8",get:function(){return this._J&&FC.yQ(this._J.CY)}},{key:"Kd",get:function(){return this.Hit}},{key:"HJ",get:function(){return!1}},{key:"ant",get:function(){return!1}},{key:"YJ",get:function(){return[]}}]),n}(mC),xB=1e3,PB="VEE3",BB=function(t){function n(n){var i;return(i=t.call(this,"Art")||this).ptsOffset=n,i}return ct(n,t),n}(ei),MB=function(t){function n(n){var i;return(i=t.call(this)||this).brt=null,i.Trt=0,i.Ert="now",i.Srt=1,i.Rrt=!1,i.Irt=!1,i.Nrt=0,i.Crt=null,i.Drt=null,i.Ort=null,i.xrt=null,i.e9=0,i.Prt=0,i.initializePromiseAbortController=new Ln,i.Brt=new qr,i.Mrt={},i.Lrt=!1,i.Urt=null,i.Frt=NaN,i.Ptt=function(){i.VZ.rrt.map(function(t){t.Ptt()})},i.git=function(){var t=i.VZ.yrt,n=t&&t.git(),r=i.VZ.grt,e=r&&r.git();(n||e)&&i.dispatchEvent({type:"EZ",Hrt:n&&n.SZ,KZ:n&&n.yit,iJ:e&&e.SZ,JZ:e&&e.yit,YZ:!!r&&r.mnt});for(var u=0,s=i.VZ.urt;u<s.length;u++){var o=s[u].git();if(o){var a=o.yit;a&&a.NY!==UC.$l&&(i.Urt=a)}}},i.Mtt=function(){null!==i.Crt&&h(i.Crt),i.Crt=c(i.Mtt,xB),i.VZ.rrt.forEach(function(t){return t.Mtt()})},i.Ftt=function(){null!==i.Drt&&h(i.Drt),i.Rrt&&(i.Drt=c(i.Ftt,xB),i.VZ.rrt.forEach(function(t){return t.Ftt()}))},i.Utt=function(){i.VZ.rrt.forEach(function(t){return t.Utt()})},i.Vrt=function(){if(i.VZ.R8&&i.qv>1){var t=i.VZ.U8;i.Xrt>t&&(i.qv=1,i.Xrt>=t+1&&(i.Xrt="now"))}},i.qrt=function(){i.brt&&(0===i.brt.Wrt()?i.Xrt="now":i.Xrt=i.zrt(i.X2))},i.Grt=function(){i.Nrt=i.X2},i.jrt=function(t){i.Qrt(),i.brt.error&&(t.error.info.code===PB&&i.Prt<ig?(i.Prt+=1,i.Yrt()):i.dispatchEvent({type:"Is",error:t.error}))},i.Zrt=function(){i.Prt=0},i.Jrt=function(){i.removeEventListener("Krt",i.$rt),i.Rrt?i.$rt():i.addEventListener("Krt",i.$rt)},i.$rt=function(){var t=i.X2;i.VZ.removeEventListener("kJ",i.Jrt),i.VZ.kJ?i.VZ.rrt.forEach(function(n){return n.Vtt(t)}):(i.VZ.addEventListener("kJ",i.Jrt),i.VZ.drt())},i.tet=function(){var t=i.X2;i.VZ.urt.forEach(function(n){return n.Htt(t,i.VZ.R8)})},i.net=function(){null!==i.Crt&&h(i.Crt),i.Crt=null,null!==i.Drt&&h(i.Drt),i.Drt=null},i.iet=function(){i.ret(),i.VZ.kJ?i.XJ():(i.VZ.addEventListener("kJ",i.iet),i.VZ.drt())},i.ret=function(){i.VZ.removeEventListener("kJ",i.iet)},i.LZ=function(t){i.VZ.Y6(t.NY,t.SZ||void 0,t.lY||void 0),t.RZ&&i.eet(t.NY,t.SZ,t.lY)},i.uet=function(t){var n=t.e9-i.e9;w.abs(n)>tg&&(i.e9=t.e9,i.X2=i.X2+n)},i.oet=function(t){var n=t.FY.metadata;n.IY&&(i.Mrt[t.j_]=n.IY,i.aet())},i.aet=function(){if(i.VZ.kJ){var t=_.keys(i.Mrt).length===i.VZ.rrt.length;if(i.brt&&!i.brt.cet&&t){var n=i.Brt;i.het().then(function(){return n.Js()},function(t){return n.Ks(t)})}i.brt&&i.e9&&(i.brt.e9=i.e9)}},i.fet=function(){if(m(i.vet))if(i.VZ.R8)i.vet=0;else{var t=i.Urt,n=t&&t.DY,r=t&&L(n)&&!m(n)&&t.Nj(n)||void 0;i.vet=qC(r)?r.h2.Mk():NaN}i.EJ&&(i.removeEventListener("EZ",i.fet),i.VZ.removeEventListener("o4",i.fet),i.dispatchEvent("EJ",!0))},i.VZ=n,n.k9=vt(i),i}ct(n,t);var i=n.prototype;return i.Yrt=function(){this.VZ.R8?this.Xrt="now":(this.Nrt+=.5,this.VZ.rrt.map(function(t){t.xtt(),t.Xtt(),t.qtt()}),this.Xrt=this.Nrt),this.aet(),this.brt.play()},i.det=function(t){var n=this;this.Ort&&(this.VZ.removeEventListener("kJ",this.Ort),this.Ort=null),this.VZ.kJ?(this.Irt=!0,this.Lrt=!0,this.VZ.lrt(t),this.Lrt=!1):(this.Ort=function(){return n.det(t)},this.VZ.drt())},i.let=function(t){this._et(),this.VZ.R8&&(t="none"),"auto"===t&&this.iet()},i.wet=function(t){var n=this;this._et(),"none"!==t&&(this.VZ.kJ?this.let(t):(this.xrt=function(){return n.let(t)},this.VZ.addEventListener("kJ",this.xrt),this.VZ.drt()))},i._et=function(){this.ret(),this.xrt&&(this.VZ.removeEventListener("kJ",this.xrt),this.xrt=null)},i.XJ=function(){this.Irt?this.VZ.vrt():(this.Xrt=this.Ert,this.VZ.vrt(22)),this.Rrt||(this.Rrt=!0,this.dispatchEvent("Krt"))},i.yet=function(){this.brt&&(this.brt.addEventListener("met",this.tet),this.brt.addEventListener("seeking",this.Jrt),this.brt.addEventListener("error",this.jrt),this.brt.addEventListener("playing",this.Zrt)),this.VZ.addEventListener("EZ",this.LZ),this.VZ.addEventListener("rnt",this.qrt),this.VZ.addEventListener("kJ",this.aet),this.VZ.addEventListener("r9",this.uet),this.VZ.addEventListener("Fh",this.Jrt),this.jJ()},i.ket=function(){this.brt&&(this.brt.removeEventListener("met",this.tet),this.brt.removeEventListener("seeking",this.Jrt),this.brt.removeEventListener("error",this.jrt),this.brt.removeEventListener("playing",this.Zrt)),this.VZ.removeEventListener("EZ",this.LZ),this.VZ.removeEventListener("rnt",this.qrt),this.VZ.removeEventListener("kJ",this.aet),this.VZ.removeEventListener("r9",this.uet),this.VZ.removeEventListener("Fh",this.Jrt),this.QJ()},i.jJ=function(){this.brt&&(this.brt.addEventListener("loadstart",this.iet),this.brt.addEventListener("timeupdate",this.Ptt),this.brt.addEventListener("playing",this.git),this.brt.addEventListener("timeupdate",this.git),this.brt.addEventListener("timeupdate",this.Ftt),this.brt.addEventListener("timeupdate",this.Mtt),this.brt.addEventListener("timeupdate",this.Grt),this.brt.addEventListener("timeupdate",this.Vrt),this.brt.addEventListener("ended",this.net)),this.VZ.addEventListener("o4",this.oet),this.VZ.addEventListener("o4",this.Utt)},i.QJ=function(){null!==this.Crt&&h(this.Crt),null!==this.Drt&&h(this.Drt),this.brt&&(this.brt.removeEventListener("loadstart",this.iet),this.brt.removeEventListener("timeupdate",this.Ptt),this.brt.removeEventListener("playing",this.git),this.brt.removeEventListener("timeupdate",this.git),this.brt.removeEventListener("timeupdate",this.Ftt),this.brt.removeEventListener("timeupdate",this.Mtt),this.brt.removeEventListener("timeupdate",this.Grt),this.brt.removeEventListener("timeupdate",this.Vrt),this.brt.removeEventListener("ended",this.net)),this.VZ.removeEventListener("o4",this.oet),this.VZ.removeEventListener("o4",this.Utt)},i.p9=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,qn(this.Brt.Zs,this.initializePromiseAbortController.cs);case 2:return i=this.brt.p9(n),this.brt.loading&&(this.brt.loaded=!0,this.brt.loading=!1),t.next=6,i;case 6:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.jM=function(t,n){this.pet.jM(t,n)},i.Ott=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,qn(this.Brt.Zs,this.initializePromiseAbortController.cs);case 3:return t.next=5,this.brt.Ott(n,i);case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),Fn(t.t0)||this.dispatchEvent({type:"Is",error:t.t0});case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(n,i){return t.apply(this,arguments)}}(),i.het=function(){var t=Ct.coroutine(Nt.mark(function t(){var n,i,r,e;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.brt.het(this.Mrt,this.VZ.Uv);case 2:if(n=t.sent){t.next=5;break}return t.abrupt("return");case 5:for(i=0,r=this.VZ.urt;i<r.length;i++)e=r[i],n.NQ&&(e.htt=n.NQ),n.CQ&&(e._tt=n.CQ);case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Qrt=function(){this.initializePromiseAbortController.ss(),this.initializePromiseAbortController=new Ln,this.Brt=new qr},i.zrt=function(t){var n=this.nl;return n.length?zs(t,n.start(0),n.end(n.length-1)):0},i.Gtt=function(t){var n=this.VZ.grt;return n?n.Gtt(t):null},i.P8=function(t){var n=this.VZ.grt;return n?n.P8(t):NaN},i.do=function(t){var n=t||"none";this.ket(),this.yet(),this.wet(n)},i.zJ=function(){this._et()},i.Ih=function(){this.gs(),this.Mrt={},this.pet=null},i.Rh=function(){this.Qrt(),this.Aet(),this.Mrt={},this.Trt=0,this.Nrt=0,this.Ert="now",this.e9=0,this.Srt=1,this.Rrt=!1,this.Irt=!1,this.Urt=null,this.VZ.Rh()},i.eet=function(t,n,i){if(n){this.dispatchEvent("SJ"),this.QJ();var r=!1,e=!1,u=!1;if("CQ"===t){e=!0;var s=this.VZ.grt;s&&s.mnt&&(r=!0)}else r=!0,u=!(!i||!i.uri);r&&this.brt.RZ("audio"),e&&this.brt.RZ("video"),this.VZ.urt.forEach(function(t){t.xtt(),r&&t.Xtt(),e&&t.qtt()}),this.VZ._rt(e,r,u,22),this.VZ.urt.forEach(function(t){return t.Ltt()}),this.jJ()}},i.kd=function(){this.QJ(),this.VZ.R8&&this.VZ.Rit()},i.md=function(){this.QJ(),this.jJ(),this.VZ.qJ()},i.bet=function(t){var n=this.vet||0;return this.JQ?t-n<0?0:w.round((t-n)*this.JQ-.5)||0:NaN},i.Tet=function(t){var n=this.vet||0;return this.JQ?n+(t+.5)/this.JQ:NaN},i.Aet=function(){this.vet=NaN,this.removeEventListener("EZ",this.fet),this.addEventListener("EZ",this.fet),this.VZ.removeEventListener("o4",this.fet),this.VZ.addEventListener("o4",this.fet)},T(n,[{key:"pet",get:function(){return this.brt},set:function(t){this.ket(),this.Qrt(),this.Zrt(),this.brt=t,this.aet()}},{key:"X2",get:function(){return this.brt&&!this.Lrt?this.brt.Wrt():this.Trt},set:function(t){t=this.zrt(t),this.Nrt=this.Trt=t,this.brt?this.brt.Eet(t):(this.tet(),this.Jrt())}},{key:"Xrt",get:function(){return this.brt&&!this.Lrt?this.X2:this.Ert},set:function(t){"now"===t&&(t=this.VZ.R8?1/0:0),t=this.zrt(t),this.Ert=t,this.Nrt=this.Trt=t,this.det(Dv.Jk(this.Trt)),this.X2=t}},{key:"Wm",get:function(){return this.VZ.Tnt},set:function(t){this.VZ.Tnt=t}},{key:"qv",get:function(){return this.brt?this.brt.qv:this.Srt},set:function(t){var n=this.Srt;t>0&&(this.Srt=t,this.brt&&(this.brt.qv=t),this.VZ.H2=t,this.Srt!==n&&this.dispatchEvent("Ret"))}},{key:"nl",get:function(){var t=this.VZ.nl;if(!t.length||!this.VZ.R8)return t;var n=t.start(0),i=this.VZ.U8;return i=w.max(this.X2,i),new ZD([{Ry:n,Ny:i}])}},{key:"Vd",get:function(){return this.Gtt(this.X2)}},{key:"JQ",get:function(){var t=this.Urt;return t&&t.JQ||NaN}},{key:"vet",get:function(){return this.Frt},set:function(t){this.Frt!==t&&(this.dispatchEvent(new BB(t)),this.Frt=t)}},{key:"EJ",get:function(){return Boolean(this.JQ)&&!m(this.vet)}}]),n}(mC),LB=function(t){function n(n){var i;return(i=t.call(this)||this).Iet=null,i.Net=[],i.Cet=function(t){return i.Det(t)},i.Oet=function(){return i.xet()},i._J=n,i.Net=[],i}ct(n,t);var i=n.prototype;return i.SA=function(t){var n,i;"metadata"===t.kind&&(t.mode=ea.Qh,n=this._J.eZ(t.id,t.inBandMetadataTrackDispatchType),i=this.Pet.bind(this,n),this.Net.push({Bet:t,Met:i,VY:n}),t.addEventListener("cuechange",i))},i.VA=function(){for(var t=this.Iet.yd,n=t&&t.length,i=0;i<n;i+=1)this.SA(t[i]);t&&t.addEventListener&&(t.addEventListener("addtrack",this.Cet),t.addEventListener("change",this.Oet))},i.Pet=function(t,n){for(var i=n.target.activeCues,r=i.length,e=r?i[0].startTime:0,u=0;u<r;u++){var s=oI(i[u].value),o=new wI(e,s);t.NA(o)}},i.xet=function(){for(var t=0,n=this.Net;t<n.length;t++){var i=n[t].Bet;i.mode!==ea.Qh&&(i.mode=ea.Qh)}},i.Det=function(t){this.SA(t.track)},i.Let=function(){for(var t=this.Iet,n=t&&t.yd,i=0,r=this.Net;i<r.length;i++){var e=r[i];e.Bet.removeEventListener("cuechange",e.Met)}this.Net.length=0,n&&n.removeEventListener&&(n.removeEventListener("addtrack",this.Cet),n.removeEventListener("change",this.Oet))},i.Ih=function(){this.Let(),this.Iet=null,this._J=null,this.Cet=null,this.Oet=null},i.Rh=function(){this.Let(),this.Iet&&this.VA()},n}(mC),UB=function(t){function n(n){var i;return(i=t.call(this)||this).brt=null,i.Ert=0,i.Srt=1,i.ND=!1,i.Uet=null,i.Fet=null,i.Het=NaN,i.Vet=NaN,i.Xet=null,i.qet=function(){i.brt.removeEventListener("loadstart",i.qet),i.brt.removeEventListener("play",i.qet),i.VZ.drt()},i.Ptt=function(){var t=i.VZ._J.OZ;if(t&&(!i.Uet||i.Uet.Ry>i.X2||i.Uet.Ny<i.X2)){var n=i.VZ.Ig.I4(t,Dv.Jk(i.X2));if(!n)return void i.brt.addEventListener("timeupdate",i.Ptt);i.Uet={Ry:n.x8.Mk(),Ny:n.x8.Wa(Dv.Jk(n.rw.duration)).Mk(),sj:n.rw.sj,TY:null},i.dispatchEvent({type:"Btt",Ip:n.rw})}},i.git=function(){var t=i.VZ._J,n=t.xZ.RQ.length?t.xZ.RQ:t.oY.RQ,r=i.brt.Gv,e=i.brt.zv,u=n&&n.filter(function(t){var n=t.resolution;return n&&n.width===r&&n.height===e}),s=u&&u.length?u[0]:null;s!==i.Fet&&(i.Fet=s,i.dispatchEvent({type:"EZ",lY:s}))},i.Wet=function(t){i.dispatchEvent({type:"EZ",lY:t.lY})},i.zet=function(){if(i.brt){var t=i.brt.nl,n=t.length?t.end(t.length-1):NaN;isFinite(n)&&n!==i.Vet&&(i.Vet=n,i.Het=oy())}},i.Get=function(){i.ND=!0},i.jet=function(){i.ND&&(i.ND=!1,i.Qet())},i.VZ=n,i.Yet=new LB(n._J),n.addEventListener("ND",i.Get),n.addEventListener("Kd",i.jet),i}ct(n,t);var i=n.prototype;return i.zrt=function(t){var n=this.brt.nl;return n.length?zs(t,n.start(0),n.end(n.length-1)):0},i.Qet=function(){if(this.brt){var t=this.brt.currentTime,n=this.brt.paused;this.brt.load(),this.brt.currentTime=t,n||this.brt.play()}},i.Zet=function(){this.brt&&(this.brt.addEventListener("loadstart",this.qet),this.brt.addEventListener("play",this.qet),this.brt.addEventListener("timeupdate",this.Ptt),this.brt.addEventListener("timeupdate",this.git),v(this.Xet),this.Xet=f(this.zet,250))},i.Jet=function(){v(this.Xet),this.brt&&(this.brt.removeEventListener("loadstart",this.qet),this.brt.removeEventListener("play",this.qet),this.brt.removeEventListener("timeupdate",this.Ptt),this.brt.removeEventListener("timeupdate",this.git))},i.do=function(t){t=t||"none",this.Jet(),this.Zet(),this.VZ.removeEventListener("prt",this.Wet),this.VZ.addEventListener("prt",this.Wet),"none"!==t&&this.qet()},i.Ih=function(){this.gs(),this.Yet.Ih(),this.pet=null,this.VZ.removeEventListener("prt",this.Wet)},i.Rh=function(){this.Ert=0,this.Srt=1,this.ND=!1,this.Uet=null,this.Fet=null,this.Het=NaN,this.Vet=NaN,v(this.Xet),this.Yet.Rh()},i.md=function(){},i.kd=function(){},i.zJ=function(){},i.eet=function(){},i.P8=function(t){var n=this.VZ._J.OZ;return this.VZ.Ig.P8(n,t).Mk()},i.Gtt=function(t){var n,i,r=this.VZ._J.OZ,e=this.VZ.Ig,u=t,s=this.Uet;if(s)s.TY||(s.TY=e.O8(r,s.sj)),n=s.Ry,i=s.TY;else{var o=e.I4(r,Dv.Jk(u));if(!o)return null;n=o.x8.Mk(),i=e.O8(r,o.rw.sj)}if(!i)return null;var a=u-n;return new Date(i.getTime()+1e3*a)},i.bet=function(t){return NaN},i.Tet=function(t){return NaN},T(n,[{key:"Ket",get:function(){return null}},{key:"Vd",get:function(){return this.Gtt(this.X2)}},{key:"pet",get:function(){return this.brt},set:function(t){this.Jet(),this.brt=t,this.brt&&(this.Yet.Iet=this.brt,this.Yet.VA())}},{key:"Xrt",get:function(){return this.brt?this.brt.Wrt():this.Ert},set:function(t){"now"===t&&(t=this.VZ.R8?1/0:0),t=this.zrt(t),this.Ert=t,this.brt&&this.brt.Eet(t)}},{key:"X2",get:function(){return this.Xrt},set:function(t){t=this.zrt(t),this.Xrt=t}},{key:"Wm",get:function(){return 1/0},set:function(t){}},{key:"qv",get:function(){return this.brt?this.brt.qv:this.Srt},set:function(t){t>0&&(this.Srt=t,this.brt&&(this.brt.qv=t))}},{key:"nl",get:function(){var t,n,i,r=this.brt?this.brt.nl:null,e=this.VZ.Ig.nl;if(r&&r.length&&e.length)t=r.start(0),n=(i=this.Vet||r.end(r.length-1))+this.VZ.Ig.F8.Mk(),isFinite(this.Het)&&(i+=(oy()-this.Het)/1e3);else{if(r&&r.length)return r;if(!e.length)return e;t=r.start(0),n=e.end(e.length-1),i=this.VZ.Ig.U8.Mk()}return i=w.min(n,i),i=w.max(this.X2,i),new ZD([{Ry:t,Ny:i}])}},{key:"JQ",get:function(){return NaN}},{key:"vet",get:function(){return NaN}},{key:"EJ",get:function(){return!1}}]),n}(mC),FB=function(t){function i(n,i,r,e,u){var s;return(s=t.call(this,n,i,r)||this).$et=new Ln,s.tut=void 0,s.nut=function(){return s.iut()},s.Cu=qh.WEBVTT,s.$h=Yf.NONE,s.if=Us(e),s.ls(No.fh,s.nut),s.TA=u,s}ct(i,t);var r=i.prototype;return r.do=function(){this.if&&!this.tut&&(this.tut=this.EC(this.$et.cs),this.tut.catch(Xn))},r.EC=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i,r,e,u;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.if,t.prev=1,this.$h=Yf.LOADING,r=new dy({rA:i,sA:tl.GET,oA:Zd.yn,cs:n}),t.next=6,this.TA.yA(r);case 6:return e=t.sent,t.next=9,e.Qn();case 9:u=t.sent,this.BK(e,u),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(1),Vn(t.t0),this.rut(kl(t.t0,this.if));case 17:case"end":return t.stop()}},t,this,[[1,13]])}));return function(n){return t.apply(this,arguments)}}(),r.zJ=function(){this.$h!==Yf.LOADED&&(this.$h=Yf.NONE,this.$et.ss(),this.$et=new Ln,this.tut=void 0)},r.rut=function(t){this.$h=Yf.ERROR,this.vs(new Va(t))},r.Ih=function(){this.zJ(),this.$et.$u(),t.prototype.Ih.call(this)},r.iut=function(){switch(this.Kh){case ea.Yh:case ea.Qh:this.do();break;case ea.jh:this.zJ()}},r.BK=function(t,i){try{for(var r=td(i).tf,e=0;e<r.length;e++){var u=r[e];this.NA(u)}this.$h=Yf.LOADED}catch(i){this.rut(new hl(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Could not parse the "+pl(this.Cu)+" subtitle file.",this.if,t.pA,i))}},i}(hR);function HB(t){return Tf(t.kind)}var VB=function(){function t(t,n,i,r){this.eut=t,this.yd=i,this.uut=n,this.TA=r,this.Rh()}var n=t.prototype;return n.sut=function(t){if(this.out(),t)if(this.uut)for(var n=0;n<t.length;n++){var i=t[n];this.aS(i)}else for(var r=0;r<t.length;r++){var e=t[r];this.aut(e)}},n.aS=function(t){var n=HB(t);if(gl(n,t.label||""));else{var i=s.createElement("track");i.kind=n,i.label=t.label,i.src=t.src,i.srclang=t.srclang,i.default=!!t.default,this.eut.appendChild(i)}},n.aut=function(t){var n=HB(t),i=new FB(n,t.label,t.srclang,t.src,this.TA);t.default&&(i.Kh=ea.Yh),this.yd.Th(i)},n.out=function(){for(var t=this.yd.Nh,n=t.length-1;n>=0;n--){var i=t[n];"static"===i.cut&&this.yd.Eh(i)}},n.hut=function(){this.out()},n.Rh=function(){this.out()},t}(),XB=function(){function t(t){this.MJ=t}var n=t.prototype;return n.ls=function(t,n){this.MJ.addEventListener(t,n)},n.ys=function(t,n){this.MJ.removeEventListener(t,n)},T(t,[{key:"Lv",get:function(){return this.MJ.currentMonotonicTime}},{key:"Xv",get:function(){return this.MJ.paused}},{key:"Wv",get:function(){return this.MJ.seeking}}]),t}(),qB=function(t){function n(n,i){var r;(r=t.call(this)||this).fut=!0,r.vut=function(t){return r.dut(t)},r.lut=function(){return r._ut()},r.wut=function(){return r.gut()},r.yut=function(){return r.mut()},r.Cet=function(t){return r.Det(t.$c)},r.kut=function(t){return r.Aut(t.$c)},r.but=function(){return r.Tut()},r.Eut=n,r.yd=i,r.Eut.addEventListener("seeking",r.but),r.Eut.addEventListener("seeked",r.but),r.Sut=new _I(new XB(n));for(var e=0,u=r.yd.Nh;e<u.length;e++){var s=u[e];r.Det(s)}return r.yd.ls(bo.Gc,r.Cet),r.yd.ls(bo.Qc,r.kut),r}ct(n,t);var i=n.prototype;return i.dut=function(t){this.yd.Th(t.$c)},i._ut=function(){for(var t=this.yd.Nh,n=t.length-1;n>=0;n--){var i=t[n];"static"!==i.cut&&this.yd.Eh(i)}},i.gut=function(){var t=this.pet,n=[],i=t&&t.yd;if(i)for(var r=0;r<i.length;r++){var e=i[r]||i.item(r);if("metadata"!==e.kind){var u=e.THEOplayerTextTrack;if(!u){var s=this.mV(e);u=new cI(e,s,this.aH),e.THEOplayerTextTrack=u,this.yd.Th(u)}n.push(u)}}for(var o=0,a=this.yd.Nh;o<a.length;o++){var c=a[o];hI(c)&&-1===n.indexOf(c)&&this.yd.Eh(c)}},i.mV=function(t){for(var n=this.pet.Xd.getElementsByTagName("track"),i=0;i<n.length;i++){var r=n[i]||n.item(i);if(r.track===t)return r}},i.mut=function(){for(var t=0,n=this.yd.Nh;t<n.length;t++){var i=n[t];hI(i)&&i.cH()}},i.Tut=function(){this.Rut()},i.Det=function(t){t instanceof hR&&this.Sut.Th(t)},i.Aut=function(t){t instanceof hR&&this.Sut.Eh(t)},i.Rut=function(){var t=this.yd.Nh;if(t.length)for(var n=this.Eut.seekable,i=n.length?n.start(0):0,r=0;r<t.length;r++){var e=t[r];if(e instanceof hR){for(var u=[],s=0,o=e.tf.Nh;s<o.length;s++){var a=o[s];if(!(a.Wm<i))break;u.push(a)}for(var c=0;c<u.length;c++){var h=u[c];e.TF(h)}}}},i.Ih=function(){this.Eut.removeEventListener("seeking",this.but),this.Eut.removeEventListener("seeked",this.but);for(var t=0,n=this.yd.Nh;t<n.length;t++){var i=n[t];this.Aut(i)}this.yd.ys(bo.Gc,this.Cet),this.yd.ys(bo.Qc,this.kut),this.Sut.Ih(),this._J=null,this.pet=null},T(n,[{key:"_J",get:function(){return this.Iut},set:function(t){var n=this.Iut;if(n){for(var i=0,r=n.yd;i<r.length;i++){var e=r[i];this.yd.Eh(e)}n.removeEventListener("uZ",this.vut),n.removeEventListener("Ih",this.lut)}if(this.Iut=t,t){for(var u=0,s=t.yd;u<s.length;u++){var o=s[u];this.yd.Th(o)}t.addEventListener("uZ",this.vut),t.addEventListener("Ih",this.lut)}}},{key:"pet",get:function(){return this.brt},set:function(t){var n=this.brt;n&&n.yd&&n.yd.removeEventListener&&(n.yd.removeEventListener("addtrack",this.wut),n.yd.removeEventListener("removetrack",this.wut),n.yd.removeEventListener("change",this.yut)),this.brt=t,t&&t.yd&&t.yd.addEventListener&&(t.yd.addEventListener("addtrack",this.wut),t.yd.addEventListener("removetrack",this.wut),t.yd.addEventListener("change",this.yut)),this.gut(),this.mut()}},{key:"aH",get:function(){return this.fut},set:function(t){if(this.fut!==t){this.fut=t;for(var n=0,i=this.yd.Nh;n<i.length;n++){var r=i[n];hI(r)&&(r.aH=t)}}}}]),n}(mC),WB=function(){function t(t,n){this.Nut=[],this.Cut=new el,this.Dut=xt(),this.Out=new Ln,this.fA=!(!t||t.crossOrigin!==qa.xv&&!t.xut),this.xb=n}var n=t.prototype;return n.Put=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var e,u,s,o,a,c,h,f,v;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=r.Oa(n),u=0,s=this.Nut;u<s.length;u++)null===(o=s[u]).Cn||void 0===o.Cn?e.searchParams.delete(o.But):e.searchParams.set(o.But,o.Cn);return t.prev=2,a=new dy({rA:e.href,oA:Zd.Fp,uA:this.Cut,fA:this.fA,sA:tl.GET,cs:i,Cu:nl.Qp,cA:il.iA}),t.next=6,this.xb.yA(a);case 6:return c=t.sent,t.next=9,c.Qn();case 9:return h=t.sent,f=new k(h),v=new k(16),16!==f.length&&et("AES-128 decryption key length must be 16 bytes, but was "+f.length+" bytes. URL: ",e.href),f.length>16&&(f=Fr(f,0,16)),v.set(f,16-f.length),t.abrupt("return",v);case 19:throw t.prev=19,t.t0=t.catch(2),Vn(t.t0),new d('Playback has been stalled due to failure to retrieve encryption key from "'+e.href);case 23:case"end":return t.stop()}},t,this,[[2,19]])}));return function(n,i){return t.apply(this,arguments)}}(),n.getKey=function(t){var n=t.absoluteURI;if(!n)return Ct.reject(new AC(pC.KG,{code:"CAD1603"}));var i=this.Dut.get(n);return i||(i=this.Put(n,this.Out.cs),this.Dut.set(n,i)),i},n.Ih=function(){this.Out.ss(),this.Dut.clear()},n.Mut=function(t,n){this.Nut.push({But:t,Cn:n})},n.Lut=function(t,n){this.Cut.append(t,n)},t}(),zB=function(t){this.Eut=t},GB=s.createElement("video");var jB=function(t){function n(){return t.apply(this,arguments)||this}return ct(n,t),n.prototype.nit=function(t){return!!function(t){return GB.canPlayType('video/mp4;codecs="'+t.codecs+'"')}(t)||(t.disabled="AvoidUnsupportedCodecsRule",!1)},n}(zB);kC.dn.hM("AvoidUnsupportedCodecsRule",jB);var QB=function(t){function n(){return t.apply(this,arguments)||this}return ct(n,t),n.prototype.nit=function(t,n,i,r){return!("c5"===r._4)||t.bandwidth<2e6},n}(zB);kC.dn.hM("AvoidHighBitrateStreamsRule",QB);var YB=function(t){function n(){return t.apply(this,arguments)||this}ct(n,t);var i=n.prototype;return i.Uut=function(t){if(!t.resolution)return!0;var n=this.Eut.element.getBoundingClientRect(),i=u.innerWidth||s.documentElement.clientWidth,e=u.innerHeight||s.documentElement.clientHeight,o=w.max(0,w.min(n.right,i)-w.max(0,n.left)),a=w.max(0,w.min(n.bottom,e)-w.max(0,n.top)),c=r.Pc.vc;return t.resolution.width<=o*c&&t.resolution.height<=a*c},i.nit=function(t){return this.Uut(t)},n}(zB);kC.dn.hM("AvoidVideoResolutionGreaterThanDisplaySizeRule",YB);var ZB=function(t){function n(){return t.apply(this,arguments)||this}return ct(n,t),n.prototype.nit=function(t,n,i){if(i.A3<=0)return!1;var r=i&&.8*i.A3;return!(r&&!m(r)&&t.bandwidth)||r>t.bandwidth*this.Eut.playbackRate},n}(zB);kC.dn.hM("DownloadMetricRule",ZB);var JB=function(t){function n(){return t.apply(this,arguments)||this}return ct(n,t),n.prototype.nit=function(t){return!0},n}(zB);kC.dn.hM("LimitVideoQualityToDisplaySizeRule",JB);var KB=function(t){function n(){return t.apply(this,arguments)||this}return ct(n,t),n.prototype.nit=function(t,n){return!n||(n.NY===UC.Ty||t.NY===UC.Ty||n.NY===t.NY)},n}(zB);function $B(t){return!!t&&("object"==typeof t&&"src"in t&&"type"in t)}function tM(t,n){var i=n;for(var r in t)V(t[r])?(i[r]=i[r]||{},tM(t[r],i[r])):B.call(i,r)||(i[r]=t[r]);return i}function nM(t,n){var i=tM(n,t||{});return i.crossOrigin=function(t){var n=t&&t.crossOrigin;switch(n){case qa.Ov:case qa.xv:break;default:n=qa.Pv}return t&&t.withCredentials&&(n=qa.xv),t&&t.vr&&t.vr[360]&&n===qa.Pv&&(n=qa.Ov),n}(i),i}function iM(t){W(t)&&t.then(j,j)}kC.dn.hM("OnlyAllowSameTrackTypeRenditionsRule",KB);var rM,eM=500,uM=["abort","durationchange","ended","loadstart","pause","play","progress","ratechange","seeked","seeking","suspend","timeupdate","volumechange","webkitpresentationmodechanged"],sM=function(t){function n(n,i){var r;return(r=t.call(this)||this).Fut=void 0,r.IE=void 0,r.loading=!1,r.loaded=!1,r.configuration={useNativeVideoPlayback:!0},r.eb=function(){var t=r.VT.QE.error&&r.VT.QE.error.code;t&&r.rut(new AC(pC.YG,{code:"VEE"+t}))},r.Hut=function(t){r.dispatchEvent({type:t.type,error:r.VT.QE.error})},r.Vut=function(){h(r.Fut),r.Fut=void 0,r.VT.QE.removeEventListener("timeupdate",r.Vut),r.VT.ys(da.vf,r.Vut)},r.Xut=function(){void 0!==r.Fut&&r.Vut(),r.Fut=c(function(){r.VT.QE.currentTime+=.1,r.Vut()},eM),r.VT.QE.addEventListener("timeupdate",r.Vut),r.VT.ls(da.vf,r.Vut)},r.qut=function(){switch(r.VT.QE.readyState){case ga._f:case ga.wf:case ga.gf:r.Xut();break;case ga.lf:case ga.df:}},r.Wut=n,r.VT=i,r}ct(n,t);var i=n.prototype;return i.setup=function(){this.rZ(),this.VT.QE.parentNode!==this.Wut&&this.Wut.appendChild(this.VT.QE),this.loaded=!1,this.VT.QE.preload="metadata",this.VT.QE.addEventListener("play",this.qut),this.VT.QE.addEventListener("loadeddata",this.qut),this.dispatchEvent("zut")},i.rZ=function(){for(var t=0;t<uM.length;t++){var n=uM[t];this.VT.QE.addEventListener(n,this.Hut,!0)}this.VT.QE.addEventListener("error",this.eb,!0),this.VT.ls(da.dh,this.Hut),this.VT.ls(da.vf,this.Hut)},i.Gut=function(){for(var t=0;t<uM.length;t++){var n=uM[t];this.VT.QE.removeEventListener(n,this.Hut,!0)}this.VT.QE.removeEventListener("error",this.eb,!0),this.VT.ys(da.dh,this.Hut),this.VT.ys(da.vf,this.Hut)},i.rut=function(t){this.IE=t,this.dispatchEvent({type:"error",error:t})},i.p9=function(){return Ct.resolve()},i.load=function(){this.VT.QE.load(),this.loaded=!0},i.unload=function(){return this.Vut(),this.gs(),this.Gut(),this.VT.QE.removeEventListener("play",this.qut),this.VT.QE.removeEventListener("loadeddata",this.qut),De(this.VT.QE),this.VT.QE},i.play=function(){var t=this.qv;iM(this.VT.QE.play()),this.qv=t},i.pause=function(){this.VT.QE.pause()},i.pd=function(){this.pause()},i.reset=function(){this.loading=!1,this.loaded=!1;try{this.Eet(0)}catch(t){}this.dispatchEvent("reset")},i.Od=function(){return this.VT.QE},i.Wrt=function(){return this.VT.QE.currentTime},i.Eet=function(t){this.VT.QE.currentTime=t},i.canPlayCodecs=function(t){return this.VT.QE.canPlayType('video/mp4; codecs="'+t+'"')},T(n,[{key:"cet",get:function(){return!0}},{key:"Xd",get:function(){return this.VT.QE}},{key:"Hd",get:function(){return this.VT.QE.buffered}},{key:"jv",get:function(){return this.VT.QE.volume},set:function(t){this.VT.QE.volume=t}},{key:"duration",get:function(){return this.VT.QE.duration}},{key:"muted",get:function(){return this.VT.QE.muted},set:function(t){this.VT.QE.muted=t}},{key:"paused",get:function(){return this.VT.QE.paused}},{key:"played",get:function(){return this.VT.QE.played}},{key:"poster",get:function(){return this.VT.QE.poster},set:function(t){t?this.VT.QE.poster=t:this.VT.QE.removeAttribute("poster")}},{key:"controls",get:function(){return this.VT.QE.controls},set:function(t){t?this.VT.QE.controls=t:this.VT.QE.removeAttribute("controls")}},{key:"ended",get:function(){return this.VT.QE.ended}},{key:"seeking",get:function(){return this.VT.QE.seeking}},{key:"error",get:function(){return this.VT.QE.error}},{key:"width",get:function(){return this.VT.QE.offsetWidth}},{key:"height",get:function(){return this.VT.QE.offsetHeight}},{key:"src",get:function(){return this.VT.QE.src},set:function(t){this.VT.QE.src=t}},{key:"Gv",get:function(){return this.VT.QE.videoWidth}},{key:"zv",get:function(){return this.VT.QE.videoHeight}},{key:"yd",get:function(){return this.VT.QE.textTracks}},{key:"R8",get:function(){return this.VT.QE.duration===1/0}},{key:"nl",get:function(){var t=this.VT.QE.seekable,n=t.length&&t.start(0)||0,i=t.length&&t.end(t.length-1)||0;return i===1/0&&(i=this.Wrt()||0),new ZD([{Ry:n,Ny:i}])}},{key:"qv",get:function(){return this.VT.QE.playbackRate},set:function(t){t>0&&(this.VT.QE.playbackRate=t)}},{key:"$h",get:function(){return this.VT.$h}},{key:"jut",get:function(){return void 0!==this.VT.QE.webkitSupportsPresentationMode&&this.VT.QE.webkitSupportsPresentationMode("picture-in-picture")}},{key:"Qut",get:function(){return"picture-in-picture"===this.VT.QE.webkitPresentationMode}},{key:"Yut",get:function(){return this.VT.QE.webkitPresentationMode},set:function(t){["inline","picture-in-picture","fullscreen"].indexOf(t)>-1&&this.VT.QE.webkitSetPresentationMode(t)}}]),n}(mC);!function(t){t[t.Zut=0]="Zut",t[t.Jut=1]="Jut",t[t.Kut=2]="Kut",t[t.$ut=3]="$ut",t[t.tst=4]="tst"}(rM||(rM={}));var oM=function(){function t(){this.nst=!1,this.ist=null,this.rst=null,this.est=null,this.LA=[],this.ust=null}var n=t.prototype;return n.sst=function(){if(!this.nst)return!1;for(var t=this.ist,n=this.rst,i=0;i<t.sourceBuffers.length;i++)if(t.sourceBuffers[i]===n)return!0;return!1},n.ost=function(t){switch(t.Cu){case rM.Zut:return this.ast(t.Qn,t.x8,t.LD);case rM.Jut:return this.cst(t.hst);case rM.Kut:return this.fst(t.vst,t.dst);case rM.$ut:return this.UA();case rM.tst:return this.lst(t.LD)}},n.ast=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r){var e;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=this.rst,m(i)||(e.timestampOffset=i),e.appendBuffer(n),t.next=6,this._st();case 6:r(),t.next=13;break;case 9:throw t.prev=9,t.t0=t.catch(0),r(t.t0),t.t0;case 13:case"end":return t.stop()}},t,this,[[0,9]])}));return function(n,i,r){return t.apply(this,arguments)}}(),n.cst=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i,r,e,u,s;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.rst,r=i.buffered,!(r.length>0)){t.next=11;break}if(e=r.start(0),u=w.min(r.end(0),n),!((s=u-e)>.5||u<=n&&s>0)){t.next=11;break}return i.remove(e,u),t.next=11,this._st();case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.fst=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r,e,u,s,o;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.ist,r=this.rst,e=r.buffered,!((u=e.length)>0)){t.next=12;break}if(s=w.max(e.start(0),n),o=w.min(e.end(u-1),i),!(o-s>0)){t.next=12;break}return r.remove(s,o),t.next=12,this._st();case 12:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.UA=function(){var t=Ct.coroutine(Nt.mark(function t(){var n,i,r;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.ist,i=this.rst,n.open&&"open"===n.readyState){t.next=4;break}return t.abrupt("return");case 4:if(t.prev=4,r=i.updating,i.abort(),!r){t.next=10;break}return t.next=10,La(i,"updateend");case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(4);case 15:case"end":return t.stop()}},t,this,[[4,12]])}));return function(){return t.apply(this,arguments)}}(),n.lst=function(t){return Ct.resolve(t())},n.wst=function(){var t=Ct.coroutine(Nt.mark(function t(n){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.RU(n)){t.next=5;break}return t.next=3,Jn(100);case 3:t.next=0;break;case 5:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.RU=function(t){var n=this.ist;if(!n.open||"open"!==n.readyState||!this.sst())return!0;for(var i=0;i<n.sourceBuffers.length;i++)if(n.sourceBuffers[i].updating)return!1;return t?n.endOfStream(t):n.endOfStream(),!0},n._st=function(){var t=this;return new Ct(function(n,i){var r,e=t.rst,u=!1,s=function(){u=!0},o=function(){u=!1,r="error"},a=function(){u=!1,r="aborted"},c=function(){h(),u&&!r?n():i(new d(r))},h=function(){e.removeEventListener("update",s),e.removeEventListener("error",o),e.removeEventListener("abort",a),e.removeEventListener("updateend",c)};e.addEventListener("update",s),e.addEventListener("error",o),e.addEventListener("abort",a),e.addEventListener("updateend",c)})},n.gst=function(){var t=this;this.est||(0!==this.LA.length||this.ust)&&this.sst()&&(this.est=this.yst().then(function(){t.est=null}))},n.yst=function(){var t=Ct.coroutine(Nt.mark(function t(){var n;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0;case 1:if(!(this.LA.length>0)){t.next=9;break}if(this.sst()){t.next=4;break}return t.abrupt("return");case 4:return n=this.LA.shift(),t.next=7,this.ost(n);case 7:t.next=1;break;case 9:t.next=16;break;case 11:return t.prev=11,t.t0=t.catch(0),t.next=16,this.wst("decode").catch(j);case 16:if(!this.ust){t.next=26;break}return t.prev=17,t.next=20,this.wst(this.ust.Is);case 20:t.next=25;break;case 22:t.prev=22,t.t1=t.catch(17);case 25:this.ust=null;case 26:case"end":return t.stop()}},t,this,[[0,11],[17,22]])}));return function(){return t.apply(this,arguments)}}(),n.VA=function(t,n){this.nst||(this.nst=!0,this.ist=t,this.rst=n,this.gst())},n.Wa=function(t,n,i){this.LA.push({Cu:rM.Zut,Qn:t,x8:n,LD:i}),this.gst()},n.mst=function(t,n){this.LA.push({Cu:rM.Kut,vst:t,dst:n}),this.gst()},n.kst=function(t){this.LA.push({Cu:rM.Jut,hst:t}),this.gst()},n.ss=function(){this.LA.push({Cu:rM.$ut}),this.gst()},n.pst=function(t){this.LA.push({Cu:rM.tst,LD:t}),this.gst()},n.Ott=function(t){this.ust={Is:t},this.gst()},n.Fs=function(){this.LA.length=0,this.ust=null},t}();var aM=function(t){function n(n){var i;return(i=t.call(this)||this).rst=null,i.Ast=new oM,i.Wm=NaN,i.bst=null,i.fs=function(t){return i.dispatchEvent(t)},i.Tst=function(){return i.r4()},i.ist=n,i.Rh(),i}ct(n,t);var i=n.prototype;return i.Est=function(t){if(t)return this.dispatchEvent({type:"error",error:t})},i.p9=function(t,n,i,r){var e=this;if(!this.rst||!n)return Ct.resolve();var u=n.initializer.Qn,s=function(t,n){if(!t)return!0;var i=t.length;if(i!==n.length)return!0;for(var r=0;r<i;r+=1)if(t[r]!==n[r])return!0;return!1}(this.bst,u);if(r&&(P.nn||this.Ast.ss()),r)if(P.nn);else{var o=t&&t.Ry,a=t&&t.Ry+t.Uv-.5;this.Ast.mst(o,a)}return s&&(this.Ast.Wa(u,i,this.Est.bind(this)),this.bst=u),new Ct(function(t,r){e.Ast.Wa(n.m4s.Qn,i,function(n){n?r(n):t()})})},i.GM=function(){var t=this;return new Ct(function(n){t.Ast.pst(function(){var i=t.Hd;i&&i.length&&(t.Wm=i.end(i.length-1)),n()})})},i.LU=function(t){if(!this.rst){try{this.rst=this.ist.addSourceBuffer(t),this.rst.addEventListener("updatestart",this.fs),this.rst.addEventListener("updateend",this.fs)}catch(t){return this.dispatchEvent({type:"error",error:t}),!1}this.ist.addEventListener("sourceclose",this.Tst),this.Ast.VA(this.ist,this.rst)}return!0},i.sst=function(){for(var t=0;t<this.ist.sourceBuffers.length;t++)if(this.ist.sourceBuffers[t]===this.rst)return!0;return!1},i.lo=function(t){var n=this,i=this.Hd;if(!(this.rst&&i&&i.length))return t&&t();this.rst.remove(0,i.end(i.length-1)),t&&this.rst.addEventListener("updateend",function i(r){n.rst.removeEventListener("updateend",i),t()})},i.Rh=function(t){this.bst=null,this.Wm=NaN,this.r4(),this.lo(t)},i.kst=function(t){this.rst&&this.Ast.kst(t)},i.Ott=function(t){this.rst&&this.Ast.Ott(t)},i.r4=function(){this.Ast.Fs(),"open"===this.ist.readyState&&this.rst&&this.rst.updating&&this.rst.abort()},T(n,[{key:"Hd",get:function(){return this.rst&&this.sst()?new ZD(eO(this.rst.buffered)):null}},{key:"yO",get:function(){return this.rst&&this.rst.updating}},{key:"Fv",get:function(){var t=this.Hd;return!t||!m(this.Wm)&&iO(t,this.Wm)}}]),n}(mC),cM="mp4a.40.34";var hM=function(t){function n(n){var i;return(i=t.call(this)||this).Sst=!1,i.mv=function(){var t=i.Sst;i.Sst=i.yO,!t&&i.Sst?i.dispatchEvent("updatestart"):t&&!i.Sst&&i.dispatchEvent("updateend")},i.mediasource=n,i.audioTrackBuffer=new aM(n),i.videoTrackBuffer=new aM(n),i.audioTrackBuffer.addEventListener("updatestart",i.mv),i.videoTrackBuffer.addEventListener("updatestart",i.mv),i.audioTrackBuffer.addEventListener("updateend",i.mv),i.videoTrackBuffer.addEventListener("updateend",i.mv),i.Rh(),i}ct(n,t);var i=n.prototype;return i.p9=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.mediasource.open){t.next=2;break}return t.abrupt("return");case 2:return i=[],n.NQ&&i.push(this.audioTrackBuffer.p9(n.metadata.NQ,n.NQ,n.metadata.NQ&&n.metadata.NQ.e0===cM?n.metadata.NQ.Ry:NaN,n.metadata.n1)),n.CQ&&i.push(this.videoTrackBuffer.p9(n.metadata.CQ,n.CQ,NaN,n.metadata.n1)),t.next=7,Ct.all(i);case 7:this.Fv&&(this.audioTrackBuffer.Ott(),this.videoTrackBuffer.Ott());case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Ott=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=[],n&&r.push(this.audioTrackBuffer.GM()),i&&r.push(this.videoTrackBuffer.GM()),t.next=5,Ct.all(r);case 5:this.Fv&&(this.audioTrackBuffer.Ott(),this.videoTrackBuffer.Ott());case 6:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.VA=function(t){var n,i={};for(var r in t)if(B.call(t,r)){var e=t[r];if(e.CQ){var u='video/mp4; codecs="'+e.CQ+'"';this.videoTrackBuffer.LU(u),i.CQ=this.videoTrackBuffer}if(e.NQ){var s=(n=e.NQ)!==cM||zw?'audio/mp4; codecs="'+n+'"':"audio/mpeg";this.audioTrackBuffer.LU(s),i.NQ=this.audioTrackBuffer}0}return i},i.Rh=function(t){var n=!1,i=!1;this.Sst=!1,this.audioTrackBuffer.Rh(function(){if(n=!0,i&&t)return t()}),this.videoTrackBuffer.Rh(function(){if(i=!0,n&&t)return t()})},i.kst=function(t){this.audioTrackBuffer.kst(t),this.videoTrackBuffer.kst(t)},i.r4=function(t){t&&-1===t.indexOf("audio")||this.audioTrackBuffer.r4(),t&&-1===t.indexOf("video")||this.videoTrackBuffer.r4()},T(n,[{key:"Hd",get:function(){var t=this.audioTrackBuffer.Hd,n=this.videoTrackBuffer.Hd;return t&&n?tO(t,n):t||n||JD}},{key:"IM",get:function(){return this.audioTrackBuffer.Hd||JD}},{key:"NM",get:function(){return this.videoTrackBuffer.Hd||JD}},{key:"yO",get:function(){return this.audioTrackBuffer.yO||this.videoTrackBuffer.yO}},{key:"Fv",get:function(){return this.audioTrackBuffer.Fv&&this.videoTrackBuffer.Fv}}]),n}(mC),fM=1,vM=.05,dM=.01;function lM(t,n){for(var i=n.length,r=0;r<i;r+=1)if(n.start(r)>t)return r;return-1}function _M(t,n,i,r){var e=rO(n,t),u=t;if(!(!r&&e>=0&&t<n.end(e)-vM)){var s,o;do{if((s=lM(t,n))<0)return;t=(o=n.start(s)+dM)+vM}while(n.end(s)-o<vM);for(var a=o-u,c=tO(new ZD([{Ry:u,Ny:o}]),i),h=0;h<c.length;h++)a-=c.end(h)-c.start(h);return r&&e>=0&&(a-=n.end(e)-u),a<fM?o:void 0}}var wM=100,gM=1e-4,yM=500,mM=Zw,kM=P.qt,pM=5,AM=["resize","volumechange"],bM=function(n){function i(t,i){var r;return(r=n.call(this)||this).Rst=!0,r.Fv=!1,r.Ist=!1,r.Nst=!1,r.Cst=null,r.Is=!1,r.ist=null,r.rst=null,r.Dst=null,r.nst=!1,r.Ost=0,r.xst=nf.lm(),r.Srt=1,r.Pst=!1,r.$U=!1,r.Wv=!1,r.Bst=new Ln,r.Mst=!1,r.Lst=!1,r.Ust=void 0,r.Fst=null,r.Hst=null,r.Vst=ga.df,r.Xst=!1,r.configuration={},r.loading=!1,r.loaded=!1,r.qst=function(){r.Xst=!1,r.Wst(),r.zst(),r.Gst()},r.jst=function(){r.Qst(),r.Gst(),r.Yst()},r.PE=function(){r.Zst(),r.Qst(),r.eF()?r.dispatchEvent("playing"):r.Xst=!0},r.Jst=function(){r.Xst=!1,r.Wst(),r.pd()},r.SU=function(){r.Kst()},r.xE=function(){r.$st(),r.Yst()},r.eU=function(){var t=r.Vst,n=r.$h;t!==n&&(r.Vst=n,r.dispatchEvent(new ma(r.Wrt(),n))),r.Yst()},r.zst=function(){r.Ost&&(v(r.Ost),r.Ost=0,kM&&(r.VT.QE.removeEventListener("timeupdate",r.EV),r.removeEventListener(da.dh,r.CV)))},r.tot=function(){r.Ost||(r.Ost=f(r.iot,yM)),kM&&(r.VT.QE.addEventListener("timeupdate",r.EV),r.addEventListener(da.dh,r.CV),r.EV()),r.iot()},r.rot=function(){var t=r.Wrt(),n=iO(r.eot,t);r.VT.Xv||r.Wv&&!n||r.uot()||r.tot()},r.iot=function(t){if(!(r.Fst||void 0===t&&r.Lst)){var n,i=r.Wrt(),e=r.Hd;if(void 0===t){if(void 0===(n=_M(i,e,r.eot,r.Ist)))return}else{if(!iO(e,t))return;n=t}var u=function(){r.VT.QE.currentTime=n,r.sot(n),r.zst(),r.Lst=!0};js(n,i)?r.Fst=c(function(){r.Fst=null,i=r.Wrt(),js(n,i)&&(n+=1e3*yM,u())},yM):u()}},r._X=function(){var t=r.Dst;if(r.oot(),r.VT.QE.readyState===ga.df)return r.Dst=t,void r.VT.QE.addEventListener("loadedmetadata",r._X);w.abs(r.VT.QE.currentTime-t)<gM?r.xE():(r.VT.QE.currentTime=t,r.Lst=!1,r.SU()),r.Dst=null,r.Qx(r.Srt),r.aot(t)&&r.pd()},r.cot=function(){if(!r.Ist){var t=r.VT.QE,n=r.Hd,i=t.currentTime;r.hot(n,i)&&(r.Ist=!0,r.Qst(),i=t.currentTime,r.hot(n,i)?r.Ist=!0:r.Ist=!1,r.eU()),r.Hst=i}},r.Zst=function(){r.Wst(),r.Cst=f(r.cot,wM)},r.Wst=function(){r.Ist=!1,v(r.Cst)},r.fot=function(){r.Ist&&(r.Ist=!1,r.eU())},r.EV=function(){var t=r.rst;if(t)if(t.Fv)r.SV();else{var n=t.IM,i=t.NM;if(0!==n.length&&0!==i.length){var e=r.Wrt();if(e<n.start(0)||e<i.start(0))r.SV();else iO(n,e)!==iO(i,e)?r.RV():r.SV()}else r.SV()}},r.CV=function(){if(!(r.Wv||r.Lst||r.VT.QE.seeking||r.$h>=ga.wf)){var t=r.rst;if(t){var n=r.Wrt(),i=nf.vm(t.IM),e=nf.vm(t.NM);if(i.Xy(n)&&e.Xy(n))i.Jy(e).im(n-pM,n)&&(r.VT.QE.currentTime=n,r.Lst=!0)}}},r.vot=function(){r.ist.open=!0,r.ist.removeEventListener("sourceopen",r.vot),r.ist.removeEventListener("webkitsourceopen",r.vot)},r.eb=function(t){var n=r.VT.QE.error&&r.VT.QE.error.code;n&&r.rut(new AC(pC.YG,{code:"VEE"+n}))},r.fs=function(t){r.dispatchEvent({type:t.type})},r.dot=function(){r.rst&&r.rst.Fv&&r.dispatchEvent("durationchange")},r.lot=function(){r.removeEventListener("_ot",r.lot),r.Mst=!1,r.wot(r.Srt)},r.got=t,r.VT=i,r}ct(i,n);var r=i.prototype;return r.wot=function(t){this.$U&&(t=0),this.VT.qv=t,0!==t||mM?this.Pst&&(this.Pst=!1,iM(this.VT.md())):(this.Pst=!this.VT.Xv||this.Pst,this.VT.kd()),this.Gst()},r.Qx=function(t){this.Srt=t,this.Mst||this.wot(t)},r.yot=function(t){var n=rO(this.eot,t);return-1===n?null:this.eot.end(n)},r.Kst=function(){this.Lst||this.Wv||(this.Wv=!0,this.dispatchEvent("seeking"))},r.$st=function(){this.Lst=!1,this.mot(),this.Wv&&(this.Wv=!1,this.dispatchEvent("seeked")),this.rot()},r.Qst=function(){this.Lst||this.rot()},r.mot=function(){this.Ust&&(h(this.Ust),this.Ust=void 0)},r.sot=function(t){var n=this;this.Ust=c(function(){n.iot(t+2)},750)},r.Yst=function(){this.Xst&&this.eF()&&(this.Xst=!1,this.dispatchEvent("playing"))},r.Gst=function(){var t=this.Rst,n=this.paused;this.Rst=n,t&&!n?this.dispatchEvent("play"):!t&&n&&this.dispatchEvent("pause")},r.jM=function(t,n){if(!(t+.001>n)){var i=new nf([t,n]);this.xst=this.xst.Zy(i).Ky(nf.vm(this.Hd)),this.xst.Xy(this.Wrt())&&this.rot()}},r.aot=function(t){return t>=this.VT.QE.duration-(this.paused?0:.5)},r.kot=function(t){return m(this.VT.QE.duration)||(t=w.min(t,this.VT.QE.duration)),w.max(0,t)},r.oot=function(){this.Dst=null,this.VT.QE.removeEventListener("loadedmetadata",this._X)},r.sF=function(){return this.$h<ga.wf},r.eF=function(){return!(this.paused||this.ended||this.error||this.sF())},r.hot=function(t,n){var i=function(t,n){for(var i=n.length,r=0;r<i;r+=1){if(n.start(r)>t)return r;if(t<n.end(r)-vM)return r}return-1}(n,t),r=i<0?0:t.end(i),e=i<0?0:t.start(i);if(this.Hst&&this.Hst===n){if(this.aot(n))return!1;if(e>n||r-n<1/6)return!0}return!1},r.RV=function(){this.$U||(this.$U=!0,this.wot(0),this.eU())},r.SV=function(){this.$U&&(this.$U=!1,this.Qx(this.Srt),this.eU())},r.pot=function(){var t=this.VT.QE;t.addEventListener("timeupdate",this.fot),this.VT.ls(ka.Mf,this.qst),this.VT.ls(ka.Lf,this.jst),this.VT.ls(ka.If,this.Jst),t.addEventListener("seeking",this.SU),t.addEventListener("seeked",this.xE);for(var n=0;n<AM.length;n++){var i=AM[n];t.addEventListener(i,this.fs)}t.addEventListener("error",this.eb),t.addEventListener("durationchange",this.dot),this.VT.ls(ka.Zf,this.fs),this.VT.ls(da.dh,this.eU),this.VT.ls(da.vf,this.PE)},r.Aot=function(){var t=this.VT.QE;t.removeEventListener("timeupdate",this.fot),this.VT.ys(ka.Mf,this.qst),this.VT.ys(ka.Lf,this.jst),this.VT.ys(ka.If,this.Jst),t.removeEventListener("seeking",this.SU),t.removeEventListener("seeked",this.xE);for(var n=0;n<AM.length;n++){var i=AM[n];t.removeEventListener(i,this.fs)}t.removeEventListener("error",this.eb),t.removeEventListener("durationchange",this.dot),this.VT.ys(ka.Zf,this.fs),this.VT.ys(da.dh,this.eU),this.VT.ys(da.vf,this.PE)},r.bot=function(){var n=this.VT.QE,i=u.MediaSource||u.WebKitMediaSource||null;null!==i?t.URL&&t.URL.createObjectURL||t.webkitURL&&t.webkitURL.createObjectURL||t.createObjectURL?(this.Tot(),this.ist=new i,this.ist.addEventListener("sourceopen",this.vot),this.ist.addEventListener("webkitsourceopen",this.vot),n.src=PD(this.ist),n.load()):this.rut(new AC(pC.JG,{code:"MVE2720"})):this.rut(new AC(pC.JG,{code:"MVE2650"}))},r.Tot=function(){if(this.nst=!1,this.rst&&(this.rst.Rh(),this.rst=null),this.ist){this.Bst.ss();var t=this.VT.QE;t.src&&(BD(t.src),De(t)),this.ist=null}},r.setup=function(){this.bot(),this.pot(),this.VT.QE.parentNode!==this.got&&this.got.appendChild(this.VT.QE)},r.rut=function(t){this.Is=t,this.dispatchEvent({type:"error",error:t})},r.uot=function(){return this.rst&&this.rst.yO},r.Eot=function(t){var n=this.Wrt()-w.max(30,3*t.lY.Ij.targetDuration);this.dispatchEvent("_ot"),this.rst&&!t.$0&&this.rst.kst(n),this.rot()},r.p9=function(t){if(!this.ist.open||"closed"===this.ist.readyState)return Ct.reject("Sot");if(!this.rst)return Ct.reject("Rot");var n=this.Iot(t);return this.Nst||(this.Nst=!0,this.dispatchEvent({type:"canplay"},!0)),n},r.Iot=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i,r;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.metadata,(r=[]).push(this.rst.p9(n)),i.$0&&r.push(this.Ott(!!n.NQ,!!n.CQ)),n=null,t.next=7,Ct.all(r);case 7:this.Eot(i);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.Ott=function(t,n){return this.ist.open&&"closed"!==this.ist.readyState?this.rst?this.rst.Ott(t,n):Ct.reject("Rot"):Ct.reject("Sot")},r.play=function(){var t=this.VT.qv;this.Fv=!1,0!==this.VT.qv||mM?(iM(this.VT.md()),this.VT.qv=t):this.Pst=!0,this.Gst()},r.pause=function(){0!==this.VT.qv||mM?this.VT.kd():this.Pst=!1,this.Gst()},r.pd=function(){this.Fv||(this.Fv=!0,this.VT.kd(),this.dispatchEvent("ended"))},r.load=function(){this.dispatchEvent("loadstart"),this.loaded=!0},r.unload=function(){return v(this.Cst),this.Cst=null,this.zst(),this.oot(),this.Tot(),this.Aot(),this.gs(),this.VT.QE},r.reset=function(){v(this.Cst),this.Cst=null,this.zst(),this.oot(),this.Rst=!0,this.Fv=!1,this.Ist=!1,this.Nst=!1,this.Is=!1,this.Wv=!1,this.Xst=!1,this.SV(),this.bot(),this.loading=!1,this.loaded=!1,this.dispatchEvent("reset")},r.Od=function(){return this.VT.QE},r.Wrt=function(){return null===this.Dst?this.VT.QE.currentTime:this.Dst},r.Eet=function(t){var n=this.yot(t);t=this.kot(t),this.Ist=!1,this.VT.QE.error&&(this.Nst=!1,this.Is=!1,this.bot()),this.Fv&&(this.Fv=this.aot(t)),this.zst(),null!==n&&(t=n),this.oot(),this.Dst=t,this.Wv=!0,this.dispatchEvent("met"),this.dispatchEvent("seeking"),this._X()},r.Not=function(t){return this.ist.open?Ct.resolve(null):La(this.ist,"sourceopen",t)},r.Cot=function(t,n){n>0&&(this.ist.duration=n),this.rst=new hM(this.ist);var i=this.rst.VA(t);return this.dispatchEvent("zut"),this.rst.addEventListener("updatestart",this.zst),this.rst.addEventListener("updateend",this.rot),this.nst=!0,this.dispatchEvent("nst"),i},r.het=function(t,n){var i=this;return this.Bst.ss(),this.Bst=new Ln,this.rst?Ct.resolve(null):this.Not(this.Bst.cs).then(function(){return i.Cot(t,n)})},r.RZ=function(t){P.nn&&(this.Mst=!0,this.wot(0),this.removeEventListener("_ot",this.lot),this.addEventListener("_ot",this.lot),this.rst&&this.rst.r4(t))},r.canPlayCodecs=function(t){return this.VT.QE.canPlayType('video/mp4; codecs="'+t+'"')},T(i,[{key:"eot",get:function(){return this.xst.By()}},{key:"$h",get:function(){var t=this.VT.$h;return t>ga._f&&(this.Ist||this.$U)?ga._f:t}},{key:"Xd",get:function(){return this.VT.QE}},{key:"Hd",get:function(){return this.rst?this.rst.Hd:this.VT.QE.buffered}},{key:"IM",get:function(){return this.rst?this.rst.IM:JD}},{key:"NM",get:function(){return this.rst?this.rst.NM:JD}},{key:"volume",get:function(){return this.VT.QE.volume},set:function(t){this.VT.QE.volume=t}},{key:"duration",get:function(){return this.VT.QE.duration}},{key:"muted",get:function(){return this.VT.QE.muted},set:function(t){this.VT.QE.muted=t}},{key:"paused",get:function(){return this.VT.Xv&&!this.Pst}},{key:"played",get:function(){return this.VT.QE.played}},{key:"poster",get:function(){return this.VT.QE.poster},set:function(t){t?this.VT.QE.poster=t:this.VT.QE.removeAttribute("poster")}},{key:"controls",get:function(){return this.VT.QE.controls},set:function(t){t?this.VT.QE.controls=t:this.VT.QE.removeAttribute("controls")}},{key:"ended",get:function(){return this.Fv}},{key:"seeking",get:function(){return this.Wv}},{key:"error",get:function(){return this.Is||this.VT.QE.error}},{key:"width",get:function(){return this.VT.QE.offsetWidth||this.VT.QE.parentNode.offsetWidth}},{key:"height",get:function(){return this.VT.QE.offsetHeight||this.VT.QE.parentNode.offsetHeight}},{key:"qv",get:function(){return this.Srt},set:function(t){var n=this.Srt;t>0&&(this.Qx(t),this.Srt!==n&&this.dispatchEvent("ratechange"))}},{key:"Gv",get:function(){return this.VT.QE.videoWidth||0}},{key:"zv",get:function(){return this.VT.QE.videoHeight||0}},{key:"cet",get:function(){return this.nst}}]),i}(mC),TM=["seeked","seeking","playing","pause","play","resize","warning","ended","durationchange","Dot","RZ",da.dh],EM=.04,SM=.25,RM=4,IM=.75,NM=1.5,CM=.25,DM=function(t){function n(){var n;return(n=t.call(this)||this).Oot=null,n.xot=null,n.QU=!1,n.YU=1,n.GB=1,n.Pot=null,n.Bot=void 0,n.Hut=function(t){n.dispatchEvent(t)},n.Mot=function(t){n.xot||n.dispatchEvent(t)},n.Lot=function(t){var i=t.error||n.xot.error;n.audioStream=null,n.Pot=i.message||i.toString(),n.dispatchEvent({type:"warning",warning:n.Pot})},n.Uot=function(){n.xot&&!n.xot.loaded||n.Oot&&!n.Oot.loaded||(n.xot&&(n.xot.removeEventListener("loaded",n.Uot),n.xot.play()),n.Oot&&(n.Oot.removeEventListener("loaded",n.Uot),n.Oot.play()))},n.Fot=function(){n.Hot(),n.xot&&n.Oot&&(n.xot.addEventListener("timeupdate",n.Vot),n.Oot.addEventListener("timeupdate",n.Vot))},n.Hot=function(){h(n.Bot),n.xot&&n.xot.removeEventListener("timeupdate",n.Vot),n.Oot&&(n.Oot.qv=n.GB,n.Oot.removeEventListener("timeupdate",n.Vot))},n.Xot=function(){n.$h<ga.wf&&n.Hot()},n.Vot=function(){if(h(n.Bot),n.xot&&n.Oot){var t=n.xot.qv,i=n.xot.Wrt()-n.Oot.Wrt(),r=w.max(RM,NM*t),e=w.min(SM,IM*t);if(w.abs(i)<EM)n.Oot.qv!==t&&(n.Oot.qv=t);else{var u=CM,s=t*(i/u+1);(s<e||s>r)&&(u=i/((s=i>0?r:e)/t-1)),n.Oot.qv=s,n.Bot=c(n.Vot,1e3*u)}}else n.Hot()},n.addEventListener("playing",n.Fot),n.addEventListener("ended",n.Hot),n.addEventListener(da.dh,n.Xot),n}ct(n,t);var i=n.prototype;return i.AZ=function(t,n){n?(t.addEventListener("timeupdate",this.Hut),t.addEventListener("error",this.Lot)):(t.addEventListener("timeupdate",this.Mot),t.addEventListener("error",this.Hut));for(var i=0;i<TM.length;i++){var r=TM[i];t.addEventListener(r,this.Hut)}},i.ps=function(t){t.removeEventListener("timeupdate",this.Hut),t.removeEventListener("timeupdate",this.Mot),t.removeEventListener("timeupdate",this.Vot),t.removeEventListener("error",this.Hut),t.removeEventListener("error",this.Lot),t.removeEventListener("loaded",this.Uot);for(var n=0;n<TM.length;n++){var i=TM[n];t.removeEventListener(i,this.Hut)}},i.qot=function(t){this.xot&&this.xot.qot(t),this.Oot&&this.Oot.qot(t)},i.play=function(){if(this.xot&&!this.xot.loaded||this.Oot&&!this.Oot.loaded)return this.xot&&this.xot.addEventListener("loaded",this.Uot),void(this.Oot&&this.Oot.addEventListener("loaded",this.Uot));this.Uot()},i.pause=function(){this.xot&&(this.xot.removeEventListener("loaded",this.Uot),this.xot.pause()),this.Oot&&(this.Oot.removeEventListener("loaded",this.Uot),this.Oot.pause()),this.Hot()},i.load=function(t){t?(-1!==t.indexOf("audio")&&this.xot&&this.xot.load(),-1!==t.indexOf("video")&&this.Oot&&this.Oot.load()):(this.xot&&this.xot.load(),this.Oot&&this.Oot.load())},i.Ih=function(t){this.gs(),this.Pot=null,t?(-1!==t.indexOf("audio")&&this.xot&&(this.xot.Ih(),this.xot=null),-1!==t.indexOf("video")&&this.Oot&&(this.Oot.Ih(),this.Oot=null)):(this.xot&&(this.xot.Ih(),this.xot=null),this.Oot&&(this.Oot.Ih(),this.Oot=null))},i.RZ=function(t){this.xot&&this.xot.pause(),this.Oot&&this.Oot.pause(),this.Hot(),t&&-1===t.indexOf("audio")||!this.xot||this.xot.RZ(),t&&-1===t.indexOf("video")||!this.Oot||this.Oot.RZ()},i.p9=function(t){this.xot&&t.NQ&&this.xot.p9(t),this.Oot&&t.CQ&&this.Oot.p9(t)},i.Wot=function(t){return this.Oot?this.Oot.Wot(t):""},i.zot=function(){return this.Oot?this.Oot.zot():0},i.Got=function(){return this.Oot?this.Oot.Got():0},i.Od=function(){return this.Oot&&this.Oot.Od()},i.Wrt=function(){return this.xot?this.xot.Wrt():this.Oot?this.Oot.Wrt():NaN},i.Eet=function(t,n){this.xot&&this.xot.Eet(t,n),this.Oot&&this.Oot.Eet(t,n)},T(n,[{key:"Hd",get:function(){return this.xot&&this.Oot?tO(this.xot.Hd,this.Oot.Hd):this.xot?this.xot.Hd:this.Oot?this.Oot.Hd:JD}},{key:"volume",get:function(){return this.YU},set:function(t){this.YU!==t&&(this.YU=t,this.xot&&(this.xot.volume=t),this.dispatchEvent("volumechange"))}},{key:"duration",get:function(){return this.xot&&this.xot.duration||this.Oot&&this.Oot.duration||NaN}},{key:"muted",get:function(){return this.QU},set:function(t){this.QU!==t&&(this.QU=t,this.xot&&(this.xot.muted=t),this.dispatchEvent("volumechange"))}},{key:"loaded",get:function(){return!(!this.xot&&!this.Oot)&&(!(this.xot&&!this.xot.loaded)&&!(this.Oot&&!this.Oot.loaded))}},{key:"paused",get:function(){return!this.xot&&!this.Oot||(this.xot&&this.xot.paused||this.Oot&&this.Oot.paused||!1)}},{key:"ended",get:function(){return this.xot&&this.xot.ended||this.Oot&&this.Oot.ended||!1}},{key:"seeking",get:function(){return this.xot&&this.xot.seeking||this.Oot&&this.Oot.seeking||!1}},{key:"error",get:function(){return this.xot&&this.xot.error||this.Oot&&this.Oot.error}},{key:"warning",get:function(){return this.Pot||this.xot&&this.xot.warning||this.Oot&&this.Oot.warning}},{key:"audioStream",get:function(){return this.xot},set:function(t){this.xot&&(this.ps(this.xot),this.xot.Ih()),this.xot=t,this.xot&&(this.xot.volume=this.YU,this.xot.muted=this.QU,this.xot.qv=this.GB,this.AZ(this.xot,!0))}},{key:"videoStream",get:function(){return this.Oot},set:function(t){this.Oot&&(this.ps(this.Oot),this.Oot.Ih()),this.Oot=t,this.Oot&&(this.Oot.qv=this.GB,this.AZ(this.Oot,!1))}},{key:"qv",get:function(){return this.GB},set:function(t){this.GB!==t&&(t<0||(this.GB=t,this.xot&&(this.xot.qv=t),this.Oot&&(this.Oot.qv=t),this.dispatchEvent("ratechange")))}},{key:"$h",get:function(){return this.xot&&this.Oot?w.min(this.xot.$h,this.Oot.$h):this.xot?this.xot.$h:this.Oot?this.Oot.$h:ga.df}},{key:"Gv",get:function(){return this.Oot?this.Oot.Gv:0}},{key:"zv",get:function(){return this.Oot?this.Oot.zv:0}}]),n}(mC),OM=function(){function t(t,n,i,r){var e=this;this.qm=void 0,this.yA=0,this.aA=0,this.running=!1,this.jot=function(t){return e._o(t)},this.Qot=t,this.Yot=n,this.Uv=i,this.LD=r,this.Zot=t.Ms(),this.Jot=(n-this.Zot)/(i||1)}var n=t.prototype;return n.Kot=function(){return this.Qot.mc(this.Yot),this.running=!1,this.$ot(),this.LD()},n.Ry=function(){var t=this;this.running=!0,this.Uv?this.tat():yC(function(){t.running&&t.Kot()})},n._o=function(t){if(this.$ot(),this.running){void 0===this.qm&&(this.qm=t);var n=this.Zot,i=this.Jot,r=this.Yot,e=this.Qot,u=n+w.max(0,t-this.qm)*i;if(n>=r&&u<=r||n<r&&u>=r)return this.Kot();if(e.mc(u))return this.Kot();this.tat()}},n.tat=function(){this.yA=uT(this.jot),this.aA=iT(this.jot)},n.$ot=function(){sT(this.yA),eT(this.aA)},t}();var xM=function(t){function n(n,i){var r;return(r=t.call(this)||this).nat=null,r.iat=null,r.rat=NaN,r.eat=!1,r.uat=!1,r.sat=1,r.oat=void 0,r.aat=void 0,r.hat=function(t){r.fat(t)||r.dispatchEvent(t)},r.vat=n,r.wa=i,r}ct(n,t);var i=n.prototype;return i.pause=function(){this.vat.pause()},i.play=function(){iM(this.vat.play()),this.dat()},i.lat=function(t){if(!(this.$h<ga.wf))return this.r4(),this.eat=!0,this.hat({type:"canplay"}),t&&t();this.oat=c(this.aat,100)},i.do=function(t){this.uat=!0,this.eat=!1,this.vat.removeEventListener("canplay",this.aat),this.aat=this.lat.bind(this,t),this.vat.addEventListener("canplay",this.aat),this.vat.load(),this.oat=c(this.aat,100)},i.r4=function(){this.uat=!1,this.vat.removeEventListener("canplay",this.aat),void 0!==this.oat&&(h(this.oat),this.oat=void 0)},i._at=function(t){if(this.pause(),this.r4(),null===t)return this.nat=null,void(this.eat=!1);this.eat=!1,this.iat&&this.iat.L4(this.vat.src),this.iat=t[this.wa],this.vat.src=this.iat.U4,this.nat=t},i.Od=function(){return this.vat},i.wat=function(t){this.rat=w.max(t||0,0),this.vat.currentTime=this.rat},i.gat=function(){return this.vat.currentTime},i.yat=function(t){var n=this.nat&&this.nat.metadata,i=n&&n.Ry,r=n&&n[this.wa].Ry,e=n&&n[this.wa].Uv;return!!this.DK&&(!(t<i)&&t<r+w.min(e,this.vat.duration))},i.dat=function(){this.sat!==this.vat.playbackRate&&(this.vat.playbackRate=this.sat,Jw&&this.sat>0&&this.$h!==ga.df&&(this.vat.currentTime=this.vat.currentTime))},i.fat=function(t){return!!(Jw&&"seeked"===t.type&&w.abs(this.vat.currentTime-this.rat)>.04)},i.addEventListener=function(n,i){this.FG(n)||this.vat.addEventListener(n,this.hat),t.prototype.addEventListener.call(this,n,i)},i.removeEventListener=function(n,i){t.prototype.removeEventListener.call(this,n,i),this.FG(n)||this.vat.removeEventListener(n,this.hat)},i.gs=function(){for(var n=0,i=this.HG();n<i.length;n++){var r=i[n];this.vat.removeEventListener(r,this.hat)}t.prototype.gs.call(this)},i.unload=function(){this.iat&&this.iat.L4(this.vat.src),this.gs()},T(n,[{key:"volume",get:function(){return this.vat.volume},set:function(t){this.vat.volume=t}},{key:"muted",get:function(){return this.vat.muted},set:function(t){this.vat.muted=t}},{key:"style",get:function(){return this.vat.style}},{key:"Ry",get:function(){return this.nat?this.nat.metadata[this.wa].Ry:NaN}},{key:"Ny",get:function(){return this.nat?this.Ry+this.nat.metadata[this.wa].Uv:NaN}},{key:"mat",get:function(){return this.nat?this.Ry+this.kat:NaN},set:function(t){this.nat?this.kat=t-this.Ry:this.kat=0}},{key:"kat",get:function(){return this.gat()},set:function(t){this.wat(t)}},{key:"pat",get:function(){return this.nat},set:function(t){this._at(t)}},{key:"P4",get:function(){return this.nat&&this.nat.metadata.$0}},{key:"DK",get:function(){return!(!this.eat||!this.nat)}},{key:"Aat",get:function(){return!(!this.uat||!this.nat)}},{key:"qv",get:function(){return this.sat},set:function(t){t>=0&&this.sat!==t&&(this.sat=t,this.dat())}},{key:"Xv",get:function(){return this.vat.paused}},{key:"Fv",get:function(){return this.vat.ended}},{key:"Is",get:function(){return this.vat.error}},{key:"Gv",get:function(){return this.vat.videoWidth}},{key:"zv",get:function(){return this.vat.videoHeight}},{key:"$h",get:function(){return this.vat.readyState}}]),n}(mC);function PM(t,n){return i=t.pat.metadata.lY,r=n.pat.metadata.lY,i.bandwidth&&r.bandwidth&&Ks(i.bandwidth,r.bandwidth)||i.resolution&&r.resolution&&Ks(i.resolution.width*i.resolution.height,r.resolution.width*r.resolution.height)||Js(i.sj,r.sj)||Ks(t.Ny,n.Ny);var i,r}function BM(t){return{Ry:t.Ry,Ny:t.Ny}}function MM(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.Ry<=n&&n<r.Ny)return i}return-1}function LM(t,n,i){return{Ry:n?i.metadata.T4:i.metadata[t].Ry,Ny:i.metadata[t].Ry+i.metadata[t].Uv}}function UM(t,n,i){return new ZD([LM(t,n,i)])}function FM(t,n,i){for(var r=[],e=0;e<i.length;e++){var u=i[e];r.push(LM(t,n,u))}return $D(new ZD(r))}function HM(t,n,i){if(!n)return!1;var r=n.metadata[t].Ry,e=r+n.metadata[t].Uv;return r<=i&&i<=e}function VM(t,n){var i=rO(t,n);return i<0?n:t.end(i)}var XM=function(){function t(t){this.f$=[],this.bat=JD,this.Tat=JD,this.Cu=t}var n=t.prototype;return n.p9=function(t){var n,i;this.f$=function(t,n){for(var i=[],r=function(t,n,r){var e=i.length&&i[i.length-1];e&&e.pat===t?e.Ny=r:i.push({pat:t,Ry:n,Ny:r})},e=0;e<t.length;e++){var u=t[e];if(u.Ny<=n.Ry)r(u.pat,u.Ry,u.Ny);else if(u.Ry>=n.Ny)n.Ry<n.Ny&&(r(n.pat,n.Ry,n.Ny),n.Ry=n.Ny),r(u.pat,u.Ry,u.Ny);else{var s=void 0,o=void 0;PM(n,u)>=0?(s=u,o=n):(s=n,o=u);var a=s.Ry,c=o.Ry,h=w.min(o.Ny,u.Ny),f=w.min(s.Ny,u.Ny);a<c&&r(s.pat,a,c),c<h&&r(o.pat,c,h),h<f&&r(s.pat,h,f),n.Ry=w.max(n.Ry,u.Ny)}}return n.Ry<n.Ny&&r(n.pat,n.Ry,n.Ny),i}(this.f$,function(t,n){var i=n.metadata[t].Ry;return{pat:n,Ry:i,Ny:i+n.metadata[t].Uv}}(this.Cu,t)),this.bat=uO(this.bat,UM(this.Cu,!1,t)),this.Tat=uO(this.Tat,UM(this.Cu,!0,t)),this.Tat=(n=this.Tat,i=this.bat,tO(n,nO(i)))},n.Eat=function(t){t=this.Sat(t);var n=MM(this.f$,t);return n>=0?this.f$[n].pat:null},n.Rat=function(t,n,i,r){t=this.Sat(t);var e=this.f$,u=MM(e,t);if(u<0)return null;var s=e[u];if(!i||!HM(this.Cu,i,t))return r&&HM(this.Cu,r,t)?null:s.pat;if(i!==s.pat){if(r&&r===s.pat)return null;if(s.Ny-t>n)return s.pat}for(var o=u+1;o<e.length;o++){var a=e[o];if(r&&r===a.pat)return null;if(a.Ny-t>n)return a.pat;for(var c=[i],h=o+1;h<e.length;h++)c.push(e[h].pat);var f=FM(this.Cu,!1,c);c.push(a.pat);var v=FM(this.Cu,!1,c);if(VM(f,t)<VM(v,t))return a.pat}return null},n.Iat=function(t,n){for(var i=this.f$,r=i.length-1;r>=0;r--){var e=i[r];(e.Ny<=t||e.Ry>=n)&&Cn(i,r)}},n.Rh=function(){this.f$.length=0,this.bat=JD,this.Tat=JD},n.Sat=function(t){var n=_M(t,this.Hd,this.Tat,!1);return void 0===n?t:n},T(t,[{key:"Hd",get:function(){var t=this.f$.map(BM);return $D(new ZD(t))}}]),t}(),qM=5,WM=30,zM=function(t){function n(n,i){var r,e;(r=t.call(this)||this).Go={NQ:{Nat:100,Cat:100,Dat:100},CQ:{Nat:500,Cat:100,Dat:200}},r.IE=null,r.Pot=null,r.Oat=null,r.xat=null,r.Pat=0,r.Bat=null,r.Mat=!1,r.Lat=!1,r.Uat=0,r.Fat=0,r.Hat=ga.df,r.kst=function(){var t=r.Wrt();r.Vat.Iat(t-qM,t+WM)},r.Xat={qat:(e=vt(r),{do:function(){e.Wat.addEventListener("ended",this.zat),e.Gat.addEventListener("ended",this.jat)},Ih:function(){e.Wat.removeEventListener("ended",this.zat),e.Gat.removeEventListener("ended",this.jat)},Qat:function(){},zat:function(){e.pause(),e.dispatchEvent({type:"ended",origin:e.Wat})},jat:function(){e.pause(),e.dispatchEvent({type:"ended",origin:e.Gat})}}),DA:{Rn:"DA",do:function(){},Ih:function(){},Qat:function(){}},Yat:function(){var t=vt(r),n=function n(){t.Wat.removeEventListener("play",n),t.Wat.removeEventListener("timeupdate",i),t.Wat.addEventListener("timeupdate",i)},i=function n(){var i,r;t.Wat.Xv||(!t.seeking&&t.Wat.pat?(i=t.Wat,(r=t.Gat).DK&&GM(i,r)>=0&&t.Zat(t.Xat.Jat)):t.Wat.removeEventListener("timeupdate",n))};return{Rn:"Yat",do:function(){t.Xat.qat.do.call(this),this.Kat(),this.Qat()},Ih:function(){t.Xat.qat.Ih.call(this),t.Wat.removeEventListener("play",n),t.Wat.removeEventListener("timeupdate",i)},Qat:function(){t.Wat.pat?t.Qat(t.Gat,t.$at):t.Qat(t.Wat,t.$at)},zat:function(){var n=t.Gat.pat;if(n&&n.metadata.n1)return t.Gat.yat(t.Wat.mat)&&(t.Gat.mat=t.Wat.mat),t.tct(),void t.Wat.play();t.Xat.qat.zat.call(this)},jat:function(){0},Kat:function(){t.Wat.removeEventListener("play",n),t.Wat.Xv?t.Wat.addEventListener("play",n):n.call(t.Wat)}}}(),Jat:function(){var t=vt(r),n=function(){r.Zat(r.Xat.nct)};return{Rn:"Jat",do:function(){t.Xat.qat.do.call(this),t.Gat.addEventListener("seeked",n);var i=GM(t.Wat,t.Gat),r=t.Go[t.wa].Nat/1e3,e=w.min(i+r,t.Gat.Ny);try{t.Gat.kat=e}catch(n){t.Zat(t.Xat.Yat),t.ict(n.message)}},Ih:function(){t.Xat.qat.Ih.call(this),t.Gat.removeEventListener("seeked",n)},Qat:function(){},zat:function(){t.Xat.qat.zat.call(this)},jat:function(){}}}(),nct:function(){var t,n=vt(r),i=function(){u()},e=function(){u()},u=function(){sT(t),r.Gat.mat-r.Wat.mat-1/60>0?t=uT(i):r.Zat(r.Xat.rct)};return{Rn:"nct",do:function(){n.Xat.qat.do.call(this),n.Wat.addEventListener("timeupdate",e),u()},Ih:function(){n.Xat.qat.Ih.call(this),sT(t),n.Wat.removeEventListener("timeupdate",e)},Qat:function(){},zat:function(){n.Xat.qat.zat.call(this)},jat:function(){n.Xat.qat.jat.call(this)}}}(),rct:function(){var t,n=vt(r),i=function(){var t=r.ect(r.Gat),n=r.Go[r.wa].Cat/w.max(1,r.Wat.qv);return function(t,n,i,r){return new OM(t,n,i,r)}(t,t.uct,n,function(){r.Zat(r.Xat.sct),r.Xat.sct.act()})},e=function(){r.Oat.Ry(),r.Zat(r.Xat.sct)};return{Rn:"rct",do:function(){n.Xat.qat.do.call(this);var r=n.Go[n.wa].Dat/w.max(1,n.Wat.qv);n.Oat=i(),t=c(e,r),n.Gat.play()},Ih:function(){n.Xat.qat.Ih.call(this),h(t),t=0},Qat:function(){},zat:function(){n.Xat.qat.zat.call(this)},jat:function(){n.Xat.qat.jat.call(this)}}}(),sct:function(){var t=vt(r);return{Rn:"sct",do:function(){t.Xat.qat.do.call(this)},Ih:function(){t.Xat.qat.Ih.call(this),t.Oat&&t.Oat.Kot()},Qat:function(){},zat:function(){t.Xat.qat.zat.call(this)},jat:function(){t.Xat.qat.jat.call(this)},act:function(){t.Oat=null,t.tct()}}}()},r.cct={hct:function(){var t=vt(r);return{do:function(){},Ih:function(){},Qat:function(){t.fct.Qat()},Eet:function(n,i,r,e){t.Pat=n,t.Bat=e,t.Zat(t.Xat.DA);var u=t.Wat===t.vct?i:r,s=t.Gat===t.vct?i:r;u&&t.Wat.yat(n)?t.dct(t.cct.lct):s&&t.Gat.yat(n)?t.dct(t.cct._ct):t.dct(t.cct.wct)}}}(),wct:function(){var t=vt(r),n=function(){r.$at(),r.Gat.DK?(r.Gat.yat(r.Pat)||(r.gct('Could not seek to exact timestamp "'+r.Pat+'", seeking instead to: "'+r.Gat.Ry+'"'),r.Pat=r.Gat.Ry),r.dct(r.cct._ct)):r.dct(r.cct.hct)};return{do:function(){t.yct(),t.Wat.pat=null,t.Gat.pat=null,t.Gat.style.display="none",t.$at(),this.Qat()},Ih:function(){t.Gat.r4(),t.Gat.style.display=""},Qat:function(){t.Gat.pat||t.Qat(t.Gat,n)},Eet:function(n,i,r,e){t.mct(),t.kct.Eet(n,i,r,e)}}}(),lct:function(){var t=vt(r),n=function(){r.dct(r.cct.hct),r.Zat(r.Xat.Yat),r.JU(),r.Bat&&(r.Bat.call(t),r.Bat=null)};return{do:function(){t.Wat.addEventListener("seeked",n);try{t.Wat.mat=t.Pat,t.JU()}catch(n){t.ict(n.message)}},Ih:function(){t.Wat.removeEventListener("seeked",n)},Qat:function(){},Eet:function(n,i,r,e){t.mct(),t.kct.Eet(n,i,r,e)}}}(),_ct:function(){var t=vt(r),n=function(){r.dct(r.cct.hct),r.tct(),r.Bat&&(r.Bat.call(t),r.Bat=null)};return{do:function(){t.Gat.style.display="none",t.Gat.addEventListener("seeked",n);try{t.Gat.mat=t.Pat,t.JU()}catch(n){t.ict(n.message)}},Ih:function(){t.Gat.style.display="",t.Gat.removeEventListener("seeked",n)},Qat:function(){},Eet:function(n,i,r,e){t.mct(),t.kct.Eet(n,i,r,e)}}}()},r.$at=function(){var t=r.Lat;r.Lat=r.vct.Aat||r.pct.Aat,t&&!r.Lat&&r.dispatchEvent("updateend"),r.Act(),r.JU(),r.bct()},r.JU=function(){var t=r.$h;t!==r.Hat&&(r.Hat=t,r.dispatchEvent(da.dh))},r.Tct=n,r.wa=i,r.Vat=new XM(i),r.YU="CQ"===i?0:1;var u=function(t){switch(t){case"NQ":return"audio";case"CQ":return"video"}}(i);return r.Ect=jM(u),r.Sct=jM(u),n.appendChild(r.Ect),n.appendChild(r.Sct),r.vct=new xM(r.Ect,r.wa),r.pct=new xM(r.Sct,r.wa),r.Wat=r.vct,r.Gat=r.pct,r.fct=r.Xat.Yat,r.kct=r.cct.hct,r.fct.do(),r.kct.do(),r.rZ(),r.Ph(),r}ct(n,t);var i=n.prototype;return i.Rct=function(t){return t===this.vct?this.pct:this.vct},i.gct=function(t){this.Pot=t,this.dispatchEvent({type:"warning",warning:this.Pot})},i.ict=function(t){this.IE=t,this.dispatchEvent({type:"error",error:t})},i.ect=function(t){var n,i=this,r=this.Rct(t);return n="CQ"===this.wa?{Ms:function(){if(i.xat!==t)return 0;var n=y(t.style.opacity);return m(n)?1:n},mc:function(n){n=zs(n,0,1),r.style.opacity=""+(1-n),1===n&&(i.xat=t,t.style.zIndex="2",r.style.zIndex="1",r.style.opacity="1")},uct:1,Ict:function(){if(n.Ms()!==n.uct)return n.mc(n.uct)}}:{Ms:function(){return t.volume},mc:function(i){var e;try{t.volume=i}catch(t){e=t}try{r.volume=n.uct-i}catch(t){e=t}return e},uct:this.YU,Ict:function(){if(n.Ms()!==n.uct)return n.mc(n.uct)}}},i.Qat=function(t,n){var i=this.Vat.Rat(this.Wrt(),1,this.Wat.pat,this.Gat.pat);return!!i&&(this.yct(),t.pat=i,t.do(n),t.P4&&this.dispatchEvent("durationchange"),!0)},i.Nct=function(){this.yct(),this.Vat.Rh(),this.vct.r4(),this.pct.r4(),this.$at()},i.Od=function(){return this.Wat.Od()},i.Wrt=function(){return this.seeking?this.Pat:this.Wat.mat},i.Eet=function(t,n){var i=this,r=!n;this.dispatchEvent("seeking"),this.pause(),this.kct.Eet(t,r,r,function(){i.dispatchEvent("seeked"),i.dispatchEvent("timeupdate",!0)})},i.tct=function(){var t=this.Wat;this.Zat(this.Xat.DA),this.Wat=this.Gat,this.Gat=t,this.ect(this.Wat).Ict(),this.yct(),this.Gat.pause(),this.Gat.pat=null,this.$at(),this.Zat(this.Xat.Yat)},i.rZ=function(){for(var t=this,n=["timeupdate","play","playing"],i=function(n,i){if("error"===i.type)return i.error?t.ict(new AC(pC.YG,{code:"VEE"+i.error})):t.ict(new AC(pC.YG,{code:"VEE"+n.Is.code}));n===t.Wat&&t.dispatchEvent({type:i.type,origin:n})},r=i.bind(null,this.vct),e=i.bind(null,this.pct),u=0;u<n.length;u++){var s=n[u];this.vct.addEventListener(s,r),this.pct.addEventListener(s,e)}this.vct.addEventListener("error",r),this.pct.addEventListener("error",e);for(var o=0;o<VS.length;o++){var a=VS[o];this.vct.addEventListener(a,this.JU),this.pct.addEventListener(a,this.JU)}},i.Ph=function(){this.addEventListener("seeking",this.kst),this.addEventListener("timeupdate",this.kst)},i.Zat=function(t){var n;if(this.fct!==t){do{(n=this.fct).Ih()}while(n!==this.fct);this.fct=t,t.do()}},i.dct=function(t){var n;if(this.kct!==t){do{(n=this.kct).Ih()}while(n!==this.kct);this.kct=t,t.do()}},i.mct=function(){this.Bat=null,this.dct(this.cct.hct)},i.load=function(){this.pause(),this.mct(),this.Wat.pat=null,this.Gat.pat=null,this.Zat(this.Xat.Yat)},i.Ih=function(){this.mct(),this.Zat(this.Xat.DA),this.Nct(),this.vct.unload(),this.pct.unload(),this.Tct.removeChild(this.Ect),this.Tct.removeChild(this.Sct),this.IE=null,this.Pot=null},i.RZ=function(){var t=this,n=this.Wrt();this.Nct(),this.kct.Eet(n,!1,!1,function(){t.dispatchEvent("RZ",!0)})},i.play=function(){this.ect(this.Wat).Ict(),this.Wat.DK&&this.Wat.play()},i.pause=function(){this.vct.pause(),this.pct.pause()},i.qot=function(t){var n=this,i=function(){n.dispatchEvent("Dot",!0)};this.pause(),this.Wat.Fv?this.kct.Eet(t,this.Gat===this.vct,this.Gat===this.pct,i):this.Gat.Fv?this.kct.Eet(t,!1,!1,i):this.Gat.yat(t)?this.kct.Eet(t,this.Gat===this.vct,this.Gat===this.pct,i):i()},i.p9=function(t){this.yct(),this.Vat.p9(t),this.$at(),this.kct.Qat()},i.Wot=function(t){return this.Ect.canPlayType('video/mp4; codecs="'+t+'"')},i.zot=function(){return w.max(this.Ect.offsetWidth,this.Sct.offsetWidth)},i.Got=function(){return w.max(this.Ect.offsetHeight,this.Sct.offsetHeight)},i.Act=function(){!this.Mat&&this.loaded&&(this.Mat=!0,this.dispatchEvent("loaded"))},i.bct=function(){if("CQ"===this.wa){var t=this.Gv,n=this.zv;t>0&&n>0&&(this.Uat!==t||this.Fat!==n)&&(this.Uat=t,this.Fat=n,this.dispatchEvent("resize"))}},i.yct=function(){var t=this.Lat;this.Lat=!0,t||this.dispatchEvent("updatestart")},T(n,[{key:"Hd",get:function(){var t=[];return m(this.vct.Ry)||t.push({Ry:this.vct.Ry,Ny:this.vct.Ny}),m(this.pct.Ry)||t.push({Ry:this.pct.Ry,Ny:this.pct.Ny}),uO($D(new ZD(t)),this.Vat.Hd)}},{key:"duration",get:function(){return this.Wat.P4?this.Wat.Ny:this.Gat.P4?this.Gat.Ny:NaN}},{key:"paused",get:function(){return this.Wat.Xv}},{key:"ended",get:function(){return this.Wat.Fv}},{key:"muted",get:function(){return this.Wat.muted&&this.Gat.muted},set:function(t){this.Wat.muted=t,this.Gat.muted=t}},{key:"volume",get:function(){return this.YU},set:function(t){this.YU=t,this.Oat&&this.Oat.Kot(),this.Gat.volume=0,this.Wat.volume=this.YU}},{key:"error",get:function(){return this.IE}},{key:"warning",get:function(){return this.Pot}},{key:"seeking",get:function(){return this.kct!==this.cct.hct}},{key:"loaded",get:function(){return this.Wat.DK}},{key:"qv",get:function(){return this.Wat.qv},set:function(t){t>=0&&(this.Wat.qv=t,this.Gat.qv=t)}},{key:"Gv",get:function(){return this.Wat.Gv}},{key:"zv",get:function(){return this.Wat.zv}},{key:"yO",get:function(){return this.Lat}},{key:"$h",get:function(){var t;if(this.kct===this.cct.wct||this.kct===this.cct._ct)t=ga.lf;else{var n=this.Wat.$h;if(n<=ga._f)t=n;else{var i=nf.vm(this.Hd).Uy(),r=this.duration,e=this.Wrt();m(r)||(e=w.min(e,r));var u=i.hm(e);if(u){var s=u.Ny(0);t=s-e>=3*this.qv||!m(r)&&s>=r?ga.gf:ga.wf}else t=ga._f}}return t===ga.df&&this.Mat?ga.lf:t}}]),n}(mC);function GM(t,n){return t.mat-n.Ry}function jM(t){var n=s.createElement(t);return n.preload="metadata","audio"===t&&(n.style.display="none"),"video"===t&&(n.style.display="",n.style.zIndex="1"),Ie(n),n.controls=!1,n}var QM,YM=function(){function t(t){var n=this;this.Cct=function(){(m(n.Dct)||n.Oct)&&(n.Dct=n.Bx()),n.xct=n.Dct,n.Oct=!1},this.Pct=function(){var t=n.Bx();n.Bct(t),n.Dct=t},this.Mct=function(){n.DS.$h<=ga._f&&n.Pct()},this.Lct=function(){n.Bct(n.Dct),n.Oct=!0},this.Uct=function(){n.Dct=n.Bx()},this.DS=t,this.$d=nf.lm(),this.xct=NaN,this.Dct=NaN,this.Oct=!1,t.addEventListener("playing",this.Cct),t.addEventListener("pause",this.Pct),t.addEventListener("seeking",this.Lct),t.addEventListener("timeupdate",this.Uct),t.addEventListener(da.dh,this.Mct)}var n=t.prototype;return n.wU=function(){var t=this.$d,n=this.xct;if(!m(n)){var i=this.Bx();n<i&&(t=t.Zy(new nf([n,i])))}return t.By()},n.Bx=function(){return this.DS.Wrt()},n.Bct=function(t){var n=this.xct;n<t&&(this.$d=this.$d.Zy(new nf([n,t]))),this.xct=NaN},n.met=function(){var t=this.Bx();this.Bct(t),this.Oct=!0},n.Rh=function(){this.$d=nf.lm(),this.xct=NaN,this.Dct=NaN,this.Oct=!1},n.$u=function(){var t=this.DS;t.removeEventListener("playing",this.Cct),t.removeEventListener("pause",this.Pct),t.removeEventListener("seeking",this.Lct),t.removeEventListener("timeupdate",this.Uct),t.removeEventListener(da.dh,this.Mct),this.DS=null},t}(),ZM=function(t){function n(n,i){var r;return(r=t.call(this)||this).uu=!1,r.GU=NaN,r.IE=void 0,r.configuration={},r.loading=!1,r.loaded=!1,r.Hat=ga.df,r.Fct=function(){r.Hct.seeking||(r.Hct.removeEventListener("seeked",r.Fct),r.dispatchEvent("seeked"),r.Vct.paused?r.DI=r.Xct:r.qct(),r.JU())},r.Wct=function(){r.Hct.paused||(r.Hct.removeEventListener("playing",r.Wct),r.dispatchEvent("playing"))},r.zct=function(t){r.DI=r.Gct,r.IE=t,r.dispatchEvent({type:"error",error:r.IE})},r.jct={paused:!0,play:function(){r.removeEventListener("nst",r.jct.Qct),r.uu?(r.DI=r.Yct,r.Hct.removeEventListener("playing",r.Wct),r.Hct.addEventListener("playing",r.Wct),r.Hct.play(),r.dispatchEvent("play")):r.addEventListener("nst",r.jct.Qct)},Qct:function(){r.removeEventListener("nst",r.jct.Qct),r.DI.play()},stall:function(){},pause:function(){r.jct.Qct&&r.removeEventListener("nst",r.jct.Qct),r.Hct.pause(),r.dispatchEvent("pause"),r.DI=r.Xct},load:function(t){},Wrt:function(){return r.uu?r.Hct.Wrt():0},Eet:function(t,n){var i=iO(r.Hd,t);n=n||!i,r.Hct.removeEventListener("seeked",r.Fct),r.Hct.addEventListener("seeked",r.Fct),r.Vct.seekTime=t,r.DI=r.Vct,r.dispatchEvent("met"),r.Hct.Eet(t,n),r.dispatchEvent("seeking")},Kx:function(){return r.Hct.$h},RZ:function(t){r.Vct.seekTime=r.Wrt(),r.DI=r.Zct,r.Hct.removeEventListener("RZ",r.Zct.Jct),r.Hct.addEventListener("RZ",r.Zct.Jct),r.Hct.RZ(t),r.JU()},forwardEvent:function(t){"pause"===t.type&&r.Hct.ended||r.dispatchEvent(t)}},r.Xct=Dt(Dt({},r.jct),{pause:function(){r.removeEventListener("nst",r.jct.Qct)},Eet:function(t){r.Vct.paused=!0,r.jct.Eet(t)},RZ:function(t){r.Vct.paused=!0,r.jct.RZ(t)}}),r.Kct=Dt({},r.Xct),r.$ct=Dt(Dt({},r.Xct),{load:function(t,n){r.removeEventListener("nst",r.$ct.tht),n||r.dispatchEvent("loadstart"),r.uu?r.Hct.load(t):(r.$ct.nht=t,r.addEventListener("nst",r.$ct.tht))},tht:function(){r.removeEventListener("nst",r.$ct.tht),r.DI.load(r.$ct.nht,!0)},nht:null,Wrt:function(){return r.uu?r.Hct.Wrt():r.$ct.iht},Eet:function(t){r.removeEventListener("nst",r.$ct.rht),r.uu?(r.DI=r.Xct,r.DI.Eet(t)):(r.$ct.iht=t,r.addEventListener("nst",r.$ct.rht),r.dispatchEvent("seeking"))},rht:function(){r.removeEventListener("nst",r.$ct.rht),r.DI.Eet(r.$ct.iht)},iht:0,RZ:function(t){}}),r.Yct=Dt(Dt({},r.jct),{Eet:function(t){r.Vct.paused=!1,r.jct.Eet(t)},play:function(){},stall:function(){r.DI=r.eht,r.eht.uht=r.Hct.Wrt(),r.eht.paused=!1,r.Hct.addEventListener("Dot",r.eht.sht),r.Hct.qot(r.eht.uht),r.JU()},RZ:function(t){r.Vct.paused=!1,r.jct.RZ(t)}}),r.eht=Dt(Dt({},r.Yct),{paused:!1,uht:0,Eet:function(t){r.Hct.removeEventListener("Dot",r.eht.sht),r.eht.paused?r.DI=r.Xct:r.DI=r.Yct,r.DI.Eet(t),r.JU()},Wrt:function(){return r.eht.uht},Kx:function(){return w.min(r.Hct.$h,ga._f)},forwardEvent:function(){},play:function(){r.eht.paused=!1,r.dispatchEvent("play")},pause:function(){r.eht.paused=!0,r.dispatchEvent("pause")},stall:function(){},sht:function(){r.Hct.seeking||(r.Hct.removeEventListener("Dot",r.eht.sht),r.eht.paused?r.DI=r.Xct:r.jct.play(),r.JU())}}),r.Vct=Dt(Dt({},r.jct),{paused:!1,seekTime:0,Wrt:function(){return r.Vct.seekTime},play:function(){r.Vct.paused=!1},pause:function(){r.Vct.paused=!0,r.Hct.pause(),r.dispatchEvent("pause")}}),r.Zct=Dt(Dt({},r.Vct),{Eet:function(t){r.Hct.removeEventListener("RZ",r.Zct.Jct),r.Vct.paused?r.DI=r.Xct:r.DI=r.Yct,r.DI.Eet(t)},Kx:function(){return w.min(r.Hct.$h,ga._f)},forwardEvent:function(){},stall:function(){},Jct:function(){r.Hct.seeking||(r.Hct.removeEventListener("RZ",r.Zct.Jct),r.Vct.paused?r.DI=r.Xct:r.jct.play(),r.JU())}}),r.Gct=Dt(Dt({},r.jct),{play:function(){},pause:function(){},load:function(){},Wrt:function(){return NaN},Kx:function(){return ga.df},Eet:function(t){r.jct.Eet(t,!0)},RZ:function(t){}}),r.fs=function(t){r.dispatchEvent(t)},r.oht=function(t){r.DI.forwardEvent(t)},r.aht=function(t){r.zct(t.error)},r.cht=function(t){if(t.origin&&t.origin.P4)return r.pd();r.DI.stall()},r.dot=function(){var t=r.Hct.duration;t&&r.GU!==t&&(r.GU=t,r.dispatchEvent("durationchange"))},r.hht=function(){r.Hct.loaded&&(r.loaded=!0)},r.JU=function(){var t=r.$h;t!==r.Hat&&(r.Hat=t,r.dispatchEvent(da.dh))},r.fht=n,r.VT=i,r.vht=new YM(vt(r)),r.Hct=new DM,r.DI=r.$ct,r.Tct=s.createElement("div"),r.Tct.style.position="absolute",r.Tct.style.width="100%",r.Tct.style.height="100%",r.dht(),r}ct(n,t);var i=n.prototype;return i.qct=function(){this.jct.play()},i.dht=function(){for(var t=["resize","volumechange","ratechange"],n=["timeupdate","pause","warning"],i=0;i<t.length;i++){var r=t[i];this.Hct.addEventListener(r,this.fs)}for(var e=0;e<n.length;e++){var u=n[e];this.Hct.addEventListener(u,this.oht)}this.Hct.addEventListener("ended",this.cht),this.Hct.addEventListener("error",this.aht),this.Hct.addEventListener("durationchange",this.dot),this.Hct.addEventListener("loaded",this.hht),this.Hct.addEventListener(da.dh,this.JU)},i.setup=function(){this.VT.QE.parentNode===this.fht?this.fht.replaceChild(this.Tct,this.VT.QE):(this.VT.QE.parentNode&&this.VT.QE.parentNode.removeChild(this.VT.QE),this.fht.appendChild(this.Tct))},i.play=function(){this.DI.play()},i.pause=function(){this.DI.pause()},i._ht=function(t){this.Hct&&this.Hct.Ih(t),this.uu=!1},i.pd=function(){this.pause(),this.DI=this.Kct,this.IE=void 0,this.dispatchEvent("ended"),this.dispatchEvent("pause")},i.load=function(t){this.DI.load(t)},i.unload=function(){return this.Hct.Ih(),this.vht.$u(),this.Tct.parentNode===this.fht?this.fht.replaceChild(this.VT.QE,this.Tct):(this.Tct.parentNode&&this.Tct.parentNode.removeChild(this.Tct),this.fht.appendChild(this.VT.QE)),this.gs(),this.VT.QE},i.reset=function(t){this.uu=!1,this.DI=this.$ct,this.IE=void 0,this.GU=NaN,this.Hat=ga.df,this.vht.Rh(),this._ht(t),this.loading=!1,this.loaded=!1,this.dispatchEvent("reset")},i.RZ=function(t){this.DI.RZ(t)},i.p9=function(t){return this.Hct.p9(t),Ct.resolve()},i.Od=function(){return this.Hct.Od()},i.Wrt=function(){return this.DI.Wrt()},i.Eet=function(t){this.vht.met(),this.DI.Eet(t)},i.Ott=function(t,n){return Ct.resolve()},i.canPlayCodecs=function(t){return this.Hct.Wot('video/mp4; codecs="'+t+'"')},i.het=function(t){var n={};for(var i in t)if(B.call(t,i)){var r=t[i];!this.Hct.videoStream&&r.CQ&&(this.Hct.videoStream=new zM(this.Tct,"CQ"),n.CQ=this.Hct.videoStream),!this.Hct.audioStream&&r.NQ&&(this.Hct.audioStream=new zM(this.Tct,"NQ"),n.NQ=this.Hct.audioStream,this.dispatchEvent("zut"))}return this.uu=!0,this.dispatchEvent("nst"),Ct.resolve(n)},T(n,[{key:"cet",get:function(){return this.uu}},{key:"Xd",get:function(){return this.Tct}},{key:"Hd",get:function(){return this.Hct.Hd}},{key:"volume",get:function(){return this.Hct.volume},set:function(t){this.Hct.volume=t}},{key:"duration",get:function(){return this.GU}},{key:"muted",get:function(){return this.Hct.muted},set:function(t){this.Hct.muted=t}},{key:"paused",get:function(){return this.DI.paused&&this.Hct.paused}},{key:"played",get:function(){return this.vht.wU()}},{key:"ended",get:function(){return this.DI===this.Kct}},{key:"seeking",get:function(){return this.DI===this.Vct}},{key:"error",get:function(){return this.IE||this.Hct.error}},{key:"warning",get:function(){return this.Hct.warning}},{key:"width",get:function(){return this.Hct.zot()}},{key:"height",get:function(){return this.Hct.Got()}},{key:"qv",get:function(){return this.Hct.qv},set:function(t){this.Hct.qv=t}},{key:"$h",get:function(){return this.DI.Kx()}},{key:"Gv",get:function(){return this.Hct.Gv}},{key:"zv",get:function(){return this.Hct.zv}}]),n}(mC);!function(t){t.ej="unsupported",t.wht="native",t.ght="hls-native",t.yht="hls-mse",t.mht="hls-switching-video"}(QM||(QM={}));var JM=function(){function t(){this.kht={},this.pht(QM.wht,sM),this.pht(QM.ght,sM),this.pht(QM.yht,bM),this.pht(QM.mht,ZM)}return t.prototype.pht=function(t,n){this.kht[t]=n},t.pht=function(n,i){t.mK.pht(n,i)},t.Aht=function(n,i,r){var e=t.mK.kht[n];return e?new e(i,r):void 0},t}();JM.mK=new JM;var KM=function(t){function n(n){var i;return(i=t.call(this)||this).bht=function(t){i.vs(t)},i.Tht=n,i.Eht(),i}ct(n,t);var i=n.prototype;return i.Eht=function(){this.Tht.ls("MD",this.bht)},i.Sht=function(){this.Tht.ys("MD",this.bht)},i.Ih=function(){this.Sht()},T(n,[{key:"XD",get:function(){return this.Tht.XD}},{key:"qD",get:function(){return this.Tht.qD}},{key:"Rht",set:function(t){var n=this.Tht;n.XD===t.XD&&n.qD===t.qD||(this.Sht(),this.Tht=t,this.Eht(),this.vs(new Jb(t.qD,t.XD)))}}]),n}(ii);function $M(t){return void 0!==t&&-1!==t.indexOf("m3u8")}function tL(t){return void 0!==t&&(0===t.toLowerCase().indexOf("application/x-mpegurl")||0===t.toLowerCase().indexOf("application/vnd.apple.mpegurl"))}function nL(t,n){var i=t.type;return i?Hw?tL(i)?!jw||n.useSwitchOverMSE||P.nn&&n.vr&&n.vr[360]?!qw||P.Yt||P.$t&&P.Ot?Ww?QM.mht:QM.ej:QM.ght:QM.yht:QM.wht:QM.ej:QM.wht}var iL=function(t,n,i,r,e){var u,s,o,a,f,v,l=this,g=null,k=null,p=null,A=!0,b=null,T=null,E=!1,S=null,R=null,I=null,N=Ig,C=Ig,D=!0,O=null,x={K$:0,Yot:0},B=null,M=null,L=null,U=1,H=!1,V="none",X=!0,q=!0,W=!1,z=null,G=!0,j=!1,Q=ga.df,Y=!1,Z=!1,J=NaN,K=null,$=null,tt=P.Ft&&Xw,nt=!1,it="",rt=QM.ej,et=null,ut=function(){var i=Ct.coroutine(Nt.mark(function i(){return Nt.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(l.Yu=!0,l.gs(),B&&Mt(null),v&&(v.Ih(),v=null),f&&(f.Rh(),f=null),cn(),k&&(k.unload(),k=null),!R.QE){i.next=11;break}return i.next=10,n.dS(R);case 10:R=null;case 11:if(!I.QE){i.next=15;break}return i.next=14,n.dS(I);case 14:I=null;case 15:u.Ih(),t=null;case 17:case"end":return i.stop()}},i)}));return function(){return i.apply(this,arguments)}}(),st=function(){var t=new AC(pC.ej,{info:"This browser does not allow you to watch this video. Try to update your browser or use a different browser."});l.dispatchEvent({type:"unsupportedPlatform"}),nn(t)},ot=function(){var t,r;return(t=i.audioOnly?(r=n.GE(Jh.$l)).QE:(r=n.GE(Jh.Kl)).QE).preload="none",Ie(t),r},at=function(t){return t===R?I:R},ct=function(){b.style.zIndex="1",T.style.zIndex="0",b.style.display=A?"":"none",T.style.display=A&&E?"":"none"},ht=function(t){gt(t.VZ),wt(t.XZ),s&&(s.VZ=o),kt()},ft=function(t,n){mt(t.VZ,n),yt(t.XZ),s&&(s.VZ=o)},vt=function(){Qt(),It(),l.dispatchEvent("timeupdate"),l.dispatchEvent("ended")},dt=function(){var t=function(t){if("error"===t.type)return nn(t.error);l.dispatchEvent(t)},n=function(t,n){var i;for(i=0;i<t.length;i+=1)k.addEventListener(t[i],n,!0)};switch(k.addEventListener("zut",function(){k.volume=U,k.muted=H}),k.addEventListener("loadedmetadata",function(t){rt===QM.wht&&(j=!0,l.dispatchEvent(t))}),k.addEventListener("durationchange",function(){var t=k.duration;t&&t!==1/0&&J!==t&&(J=t,l.dispatchEvent("durationchange"))}),k.addEventListener("seeking",jt),k.addEventListener("seeked",Qt),k.addEventListener("ended",vt),k.addEventListener(da.dh,on),k.setup(),v.pet=k,n(["timeupdate","playing","ratechange","resize"],t),rt){case QM.wht:case QM.ght:n(["abort","emptied","error","loadstart","progress","suspend"],t);break;case QM.yht:n(["play","pause"],Et)}k.addEventListener("warning",function(t){l.warning=t.warning,l.dispatchEvent(t)}),l.dispatchEvent("volumechange")},lt=function(t){g&&g.hut(),k&&(g=new VB(t,tt,f,r))},_t=function(t){var n=Pt(t.sources),r=t.textTracks||[],e=nM(t.configuration,i);return n&&n.contentProtection&&n.contentProtection.aes128&&n.contentProtection.aes128.useCredentials&&(e.xut=!0),{sources:[n],textTracks:r,configuration:e}},wt=function(t){yt(t)},gt=function(t){o&&(o.Ih(),o=null,l.initialized=!1),(o=t)&&(l.dispatchEvent("loadstart",!0),o.addEventListener("loadedmetadata",function(){j=!0,on()}),o.addEventListener("durationchange",function(){J=o.Uv,l.dispatchEvent("durationchange")}),o.addEventListener("Is",function(t){nn(t.Is)}),o.addEventListener("ND",pt),o.addEventListener("Kd",pt),o._J.addEventListener("renditionUpdated",function(){Jt()}),v._J=o._J)},yt=function(t){var n;a&&(a.Ih(),a=null),k&&(a=t)&&(n=a.Xrt,a.addEventListener("EZ",function(t){var n=l.videoWidth,i=l.videoHeight;K=t.lY,l.dispatchEvent(t),Kw&&n===l.videoWidth&&i===l.videoHeight||l.dispatchEvent("resize")}),a.addEventListener("Is",function(t){nn(t.error)}),a.addEventListener("Art",function(t){l.dispatchEvent(t)}),a.pet=k,m(n)||qt(n))},mt=function(t,n){o&&(o.Ih(),o=null,l.initialized=!1),(o=t)&&(l.dispatchEvent("loadstart",!0),o.addEventListener("loadedmetadata",function(){j=!0,on()}),o.addEventListener(ka.zf,function(t){l.dispatchEvent(t)}),o.addEventListener(ka.jf,function(t){l.dispatchEvent(t)}),o.addEventListener("durationchange",function(){J=o.Uv,l.dispatchEvent("durationchange")}),o.addEventListener("Is",function(t){nn(t.Is)}),o.addEventListener("ND",pt),o.addEventListener("Kd",pt),o.addEventListener("TJ",function(){l.dispatchEvent("progress")}),o._J.addEventListener("renditionUpdated",function(){Jt()}),o._J.addEventListener("renditionUpdated",function(t){var i,r=t.lY.IY&&t.lY.IY.NQ;r&&-1!==r.indexOf("mp4a.40.3")&&("l4"!==n._4||Gw||(i=B,yC(function(){n.useSwitchOverMSE=!0;var t=q;B=null,an({sources:i,configuration:n}),t||Rt()})))}),v._J=o._J)},kt=function(){k.addEventListener("play",function(){l.play({fromNative:!0})}),k.addEventListener("pause",function(){l.pause({fromNative:!0})}),k.addEventListener("volumechange",function(){l.volume=k.volume,l.muted=k.muted}),k.addEventListener("webkitpresentationmodechanged",Ut)},pt=function(){var t=G,n=!o||o.Kd;G=n,n&&!t?l.dispatchEvent(ka.Bf):!n&&t&&l.dispatchEvent(ka.Pf)},At=function(){X=!1,q=!1,Y=!0,k.configuration.useNativeVideoPlayback||k.loaded||St(),Jt()},bt=function t(){l.removeEventListener("initialized",t),l.removeEventListener("initialized",Tt),X&&(At(),l.ended?Wt(0):Kt(),k.play(),a&&a.md())},Tt=function t(){l.removeEventListener("initialized",bt),l.removeEventListener("initialized",t),X&&(At(),Kt())},Et=function(t){var n=q;q="pause"===t.type,n&&!q?l.play({fromNative:!0}):!n&&q&&l.pause({fromNative:!0})},St=function(){Y=!0,k.configuration.useNativeVideoPlayback?(k.load(),x.Yot="now"):k.loading||(k.load(),k.loading=!0),Jt()},Rt=function(t){if(t=t||{},q=!1,D&&(D=!1,n.jS()),x.Iht=!1,!l.initialized||!k){if(t.onlyWhenInitialized){var i=new AC(pC.nj,{code:"MGB6720"});throw nn(i),i}return l.removeEventListener("initialized",bt),l.removeEventListener("initialized",Tt),l.addEventListener("initialized",t.fromNative?Tt:bt),l.dispatchEvent("play",!0),void l.dispatchEvent("waiting",!0)}if(X){if(W&&l.ended)return It(),void l.dispatchEvent("timeupdate",!0);l.dispatchEvent("play",!0),t.fromNative?Tt():bt()}},It=function(t){q=!0,(t=t||{}).fromNative||l.removeEventListener("initialized",bt),l.removeEventListener("initialized",Tt),!X&&k&&(X=!0,t.fromNative||(k.pause(),a&&a.kd()),l.dispatchEvent("pause",!0))},Ot=function(t){return{type:$M(t)?"application/vnd.apple.mpegurl":"",src:t}},xt=function(t){return"string"==typeof t},Pt=function(t){if($B(t))return t.type?t:Ot(t.src);if(xt(t))return Ot(t);if(F(t)&&xt(t[0])){for(var n=0;n<t.length;n++){var i=t[n];if($M(i))return Ot(i)}return Ot(t[0])}if(F(t)&&$B(t[0])){for(var r=0;r<t.length;r++){var e=t[r];if(tL(e.type)||!e.type&&$M(e.src))return e.type?e:Ot(e.src)}return t[0]}return{type:null,src:null}},Bt=function(t){var n=(t=_t(t)).sources[0],i=t.configuration,u=nL(n,i);!function(t,n){switch(t){case QM.wht:case QM.ght:n._4=!1,n.Nht=!1;break;case QM.yht:n._4="l4",n.Nht=!0;break;case QM.mht:n._4="c5",n.Nht=P.Nt}}(u,i);var o=function(t,n,i){var u,o,a,c=i.configuration;switch(t){case QM.wht:a=u=o=null;break;case QM.ght:a=null;var h=new OB(c,r);u=h,o=new UB(h);break;case QM.yht:case QM.mht:a=new WB(c,r);var f=new DB(c,a,r,e);u=f,o=new MB(f);break;default:return null}return new gD(n,t,i,a,u,o,s)}(u,n,t);return o?(o.XZ&&(o.XZ.qv=l.playbackRate),o):null},Mt=function(t){an({sources:t})},Lt=function(n,i){var r=S,e=r.QE,s=!1,o=!l.paused,a=rt,c=l.playbackRate,h=l.Cht;$&&($.Ih(),$=null),cn();var f=n&&n.LJ||null;n&&n.BJ||null,M=n&&n.CS||null,L=f&&f.configuration||null,rt=n&&n.MJ||QM.ej,rn();var v={type:"Dht",Oht:n,Cw:L,xht:i};if(l.dispatchEvent(v),rt!==QM.ej){if(k){l.pause();var d=a===rt||a===QM.ght&&rt===QM.wht||a===QM.wht&&rt===QM.ght,_=i&&!P.Ft;if(d&&!_)k.reset(),g.Rh();else{if(_?(p=k,e=(r=at(r)).QE):e=k.unload(),!(s=JM.Aht(rt,t,r)))return void st();k=s,dt(),lt(e)}Qt(),j=!1,Q=ga.df,Y=!1,Z=!1,J=NaN,O=null,l.dispatchEvent("durationchange"),x.Yot=0,x.K$=0,x.Iht=!0,l.dispatchEvent("timeupdate")}else{if(!(s=JM.Aht(rt,t,r)))return void st();k=s,r.QE.removeAttribute("poster"),dt(),lt(r.QE)}switch(S=r,u.Rht=S.RB,b=k.Xd,p?(T=p.Xd,E=!0):(T=at(r).QE,E=!1),ct(),L.crossOrigin){case qa.Ov:case qa.xv:S.QE.setAttribute("crossorigin",L.crossOrigin);break;default:S.QE.removeAttribute("crossorigin")}if(h!==l.Cht&&l.dispatchEvent(ka.Nf),Ut(),Ft(),!M)return B=null,void(l.initialized=!1);!function(t,n){switch(rt){case QM.wht:case QM.ght:ht(t);break;case QM.yht:case QM.mht:ft(t,n);break;default:return}t.DS=l,t.XJ(V)}($=n,L),k.src=M,g.sut(f&&f.textTracks),l.playbackRate=c,B=M;var w={type:"Pht",Oht:n,Cw:L,xht:i};l.dispatchEvent(w),l.initialized=!0,l.dispatchEvent("initialized"),pt(),Wt("now"),k.configuration.useNativeVideoPlayback&&P.Ft&&o&&tn()&&(l.play(),l.pause()),f&&l.dispatchEvent({type:"sourcechange",sourceDescription:f})}else st()},Ut=function(){var t=it;(it=l.Yut)!==t&&l.dispatchEvent("Bht")},Ft=function(){v&&(v.aH=tt&&nt)},Ht=function(){return k&&k.cet?k.volume:U},Vt=function(){return Z?!k||x.Iht?x.Yot:a?a.Xrt:k.Wrt():zt(O||0)},Xt=function(){return Z?Gt(Vt()):"now"===O?0:O||0},qt=function(t){if(Z){if(O=null,"now"!==t||l.live||(t=0),"now"!==t&&(t=y(t)||0,t=un(t)),k){if(w.abs(x.Yot-t)<.001&&oy()-x.K$<50)return;jt(),a?a.Xrt=t:k.Eet(t),k.seeking||Qt(),x={Yot:t,K$:oy()}}}else Wt(Gt(t))},Wt=function(t){if(!Z){var n=Xt();return O=t,Kt(),void(n!==Xt()&&jt())}return qt(zt(t))},zt=function(t){if("number"==typeof t&&l.live){var n=en();if(n.length)return t+n.end(0)}return t},Gt=function(t){if("now"===t)return 0;if("number"==typeof t&&l.live){var n=en();if(n.length)return t-n.end(0)}return t},jt=function(){W=!0,Zt(),et=c(Yt,100)},Qt=function(){W&&(W=!1,et&&Yt(),l.dispatchEvent("seeked"))},Yt=function(){Zt(),l.dispatchEvent("seeking")},Zt=function(){et&&(h(et),et=null)},Jt=function(){Z||(Z=!m(J)&&en().length>0&&(Y||!l.live))&&l.dispatchEvent("yat")},Kt=function t(){l.removeEventListener("yat",t),null!==O&&(Z?Wt(O):l.addEventListener("yat",t))},$t=function(){return k&&k.cet?k.muted:H},tn=function(){return q},nn=function(t){if(t&&t.code===pC.ij)return n=!q,Mt($.CS),void(n&&Rt());var n;tn()||It(),z=t,l.dispatchEvent({type:"error",error:z})},rn=function(){z=null},en=function(){return QD(a?a.nl:J>0?new ZD([{Ry:0,Ny:J}]):JD)},un=function(t){var n=en();return n.length?zs(t,n.start(0),n.end(n.length-1)):0},sn=function(){var t=k?k.$h:ga.df;return j&&(t=w.max(ga.lf,t)),t},on=function(){var t=sn();t!==Q&&(Q=t,l.dispatchEvent(da.dh))},an=function(t){var n=Bt(t);Lt(n,!1)},cn=function(){if(p){var t=p.unload();p=null,E=!1,T=t||at(S).QE,ct()}};l.initialized=!1,l.warning=null,l.play=Rt,l.pause=It,l.load=function(){if(!l.initialized||!k){var t=new AC(pC.nj,{code:"MGB7330"});throw nn(t),t}St(),Wt("now")},l.Mht=Bt,l.Lht=Lt,l.$u=ut,l.bd=an,l.Cd=function(){A=!0,ct()},l.Dd=function(){A=!1,ct()},l.Od=function(){return k&&k.Od()},l.zd=function(){var t=k?uE(k.pet):{Gd:0,jd:0,Qd:0};return Dt(Dt(Dt({},{Gd:0,jd:0,Qd:0,Yd:0,Zd:0,Jd:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}),t),{Yd:8*mc.sd()})},_.defineProperty(l,"buffered",{get:function(){return QD(k?k.Hd:JD)}}),_.defineProperty(l,"played",{get:function(){return k?QD(k.played):JD}}),_.defineProperty(l,"seekable",{get:en}),_.defineProperty(l,"live",{get:function(){return!(!o||!FC.yQ(o._J.CY))}}),_.defineProperty(l,"volume",{get:Ht,set:function(t){(t=y(t))!==Ht()&&(k&&(k.volume=t),U=t,l.dispatchEvent("volumechange"))}}),_.defineProperty(l,"currentTime",{get:Xt,set:Wt}),_.defineProperty(l,"dimensions",{get:function(){return u}}),_.defineProperty(l,"currentMonotonicTime",{get:Vt,set:qt}),_.defineProperty(l,"currentProgramDateTime",{get:function(){return a?a.Vd:null},set:function(t){var n,i;(i=t)&&"function"==typeof i.getTime&&!m(i.getTime())&&a&&(n=a.P8(t),m(n)||null===n||qt(n))}}),_.defineProperty(l,"duration",{get:function(){return J}}),_.defineProperty(l,"muted",{get:$t,set:function(t){t!==$t()&&(H=t,k&&(k.muted=t),H=t,l.dispatchEvent("volumechange"))}}),_.defineProperty(l,"paused",{get:tn,set:function(t){t?It():Rt()}}),_.defineProperty(l,"preload",{get:function(){return V},set:function(t){V=bg((t||"none").toLowerCase())}}),_.defineProperty(l,"ended",{get:function(){return k&&k.ended||!1}}),_.defineProperty(l,"seeking",{get:function(){return W}}),_.defineProperty(l,"error",{get:function(){return z||k&&k.error}}),_.defineProperty(l,"element",{get:function(){return t}}),_.defineProperty(l,"Cht",{get:function(){return L&&L.vr&&L.vr[360]?Ig:S===R?N:C}}),_.defineProperty(l,"videoWidth",{get:function(){return k?k.Gv:K&&K.resolution?K.resolution.width:0}}),_.defineProperty(l,"videoHeight",{get:function(){return k?k.zv:K&&K.resolution?K.resolution.height:0}}),_.defineProperty(l,"frameRate",{get:function(){return a&&a.JQ}}),_.defineProperty(l,"frameAccurateSeekEnabled",{get:function(){return!l.live&&k&&k.paused&&l.frameRate}}),_.defineProperty(l,"currentFrame",{get:function(){return a?a.bet(Vt()):NaN},set:function(t){l.frameAccurateSeekEnabled&&(t=y(t),qt(a.Tet(t)))}}),_.defineProperty(l,"playbackRate",{get:function(){return a&&a.qv||k&&k.qv||1},set:function(t){(t=y(t))>0&&(a?a.qv=t:k&&(k.qv=t))}}),_.defineProperty(l,"videoTracks",{get:function(){return $&&$.gd.Jc||null}}),_.defineProperty(l,"audioTracks",{get:function(){return $&&$.wd.Jc||null}}),_.defineProperty(l,"yd",{get:function(){return f}}),_.defineProperty(l,"online",{get:function(){return G}}),_.defineProperty(l,"jut",{get:function(){return k&&k.jut}}),_.defineProperty(l,"Qut",{get:function(){return k&&k.Qut}}),_.defineProperty(l,"Yut",{get:function(){return k&&k.Yut||"inline"},set:function(t){k&&(k.Yut=t)}}),_.defineProperty(l,"Uht",{get:function(){return nt},set:function(t){nt=!!t,Ft()}}),_.defineProperty(l,"$h",{get:sn}),function(){if(!t)throw new d("Invalid element.");var n;l.addEventListener(ka.Bf,function(){l.live&&Wt("now")}),l.addEventListener("playing",cn),f=new Kd,v=new qB(l,f),l.addEventListener("fullscreenchange",Ft),Ft(),i.allowManualQualitySwitch&&(s=new yD),n=function(t){if("string"==typeof t)try{return kC.dn.XG(t,l)}catch(n){throw new d("Unknown rule: "+t)}return t},i.Gnt=function(t){var i,r=[];for(i=0;i<t.length;i+=1)r.push(n(t[i]));return r}(i.abrRules),l.addEventListener("durationchange",Jt),R=ot(),I=ot(),S=R,b=R.QE,T=I.QE,u=new KM(S.RB),N=R.hS,C=I.hS,ct(),Mt(null)}()};iL.prototype=new mC,iL.prototype.constructor=iL;var rL,eL=((rL={useSwitchOverMSE:!1,ManifestParser:"Fht",allowManualQualitySwitch:"panel",initialRendition:"default",playbackRates:!1,isEmbeddable:!1,withCredentials:!1,enableKeyboardShortcuts:!0,skipImplicitHEAACDetection:!0,abrRules:[]}).abrRules.push("DownloadMetricRule"),rL.abrRules.push("OnlyAllowSameTrackTypeRenditionsRule"),Qw&&rL.abrRules.push("AvoidHighBitrateStreamsRule"),P.Vt&&rL.abrRules.push("AvoidVideoResolutionGreaterThanDisplaySizeRule"),rL);var uL=function(t){function n(n,i,r){var e;return(e=t.call(this,No.yh)||this).Hht=n,e.Vht=i,e.Xht=r,e}return ct(n,t),n.prototype.Kc=function(){return new sL(this.Hht&&this.Hht.Jc)},n}(Io),sL=function(t){function n(n){var i;return(i=t.call(this,"activequalitychanged")||this).quality=n,i}return ct(n,t),n}(ei),oL=function(t){function n(n,i){var r;return(r=t.call(this,No.kh)||this).zh=n||[],r.$c=i,r}return ct(n,t),n.prototype.Kc=function(){return new aL(this.zh.map(function(t){return t.Jc}))},n}(Io),aL=function(t){function n(n){var i;return(i=t.call(this,"targetqualitychanged")||this).qualities=n,i.quality=i.qualities.length>0?i.qualities[0]:void 0,i}return ct(n,t),n}(ei),cL=function(t){function n(n){var i;return(i=t.call(this,"update")||this).quality=n,i}return ct(n,t),n}(ei);function hL(t){return{get bandwidth(){return t.lD},get codecs(){return t.IY},get id(){return t.Hh},get name(){return t.qh},get averageBandwidth(){return t.lD},get label(){return t.qh},set label(n){t.qh=Zo(n)},get height(){return t.Z_},get width(){return t.wc},get frameRate(){return t.uJ},get firstFrame(){return t.qht},get available(){return t.bG},addEventListener:function(n,i){t.ls(n,i)},removeEventListener:function(n,i){t.ys(n,i)}}}function fL(t){return{get bandwidth(){return t.lD},get codecs(){return t.IY},get id(){return t.Hh},get name(){return t.qh},get averageBandwidth(){return t.lD},get label(){return t.qh},set label(n){if(!X(n))throw new d("Unexpected - The provided label is not a string");t.qh=n},get audioSamplingRate(){return t.Wht},get available(){return t.bG},addEventListener:function(n,i){t.ls(n,i)},removeEventListener:function(n,i){t.ys(n,i)}}}var vL=function(t){function n(n,i){var r;(r=t.call(this)||this).Zc=void 0,r.zht=void 0,r.oJ=void 0,r.Ght=function(){return r.jht()},r.Qht=function(){return r.Yht()},r.Zht=function(){return r.vs(new Hf(vt(r)))},r.Cm=qf(),r.Jht=n,r.Kht=i,r.Sm=new Ff;for(var e=r.Jht.qualities,u=0;u<e.length;u++){var s=e.item(u),o=r.$ht(s);o.ls("update",r.Zht),r.Sm.Wa(o)}return r.Jht.qualities.addEventListener("activequalitychanged",r.Ght),r.Jht.qualities.addEventListener("targetqualitychanged",r.Qht),r.jht(),r.Yht(),r}ct(n,t);var i=n.prototype;return i.tft=function(t){t!==this.zht&&(this.zht=t,t&&this.vs(new uL(t)))},i.nft=function(t,n){return t===n||!(!t||!n)&&(r=n,(i=t).length===r.length&&On(i,r));var i,r},i.ift=function(t){for(var n=0,i=this.Sm.Nh;n<i.length;n++){var r=i[n];if(r.rft===t)return r}},i.eft=function(t){for(var n=[],i=0,r=this.Sm.Nh;i<r.length;i++){var e=r[i];Dn(t,e.rft)&&n.push(e)}return n},i.jht=function(){var t=this.Fh?this.Jht.qualities.activeQuality:void 0,n=t&&this.ift(t)||void 0;this.tft(n)},i.Yht=function(){var t=this.Jht.qualities.targetQuality;t?U(t)?this.Gh=this.eft(t)||void 0:this.Gh=this.eft([t])||void 0:this.Gh=void 0},i.Pm=function(t){this.Fh=t},i.Ih=function(){this.Jht.qualities.removeEventListener("activequalitychanged",this.Ght),this.Jht.qualities.removeEventListener("targetqualitychanged",this.Qht);for(var t=0,n=this.Sm.Nh;t<n.length;t++){var i=n[t];i.ys("update",this.Zht),i.Ih()}},T(n,[{key:"Uh",get:function(){return this.zht}},{key:"Fh",get:function(){return this.Jht.enabled},set:function(t){t?this.Kht.enable(this.Jht):this.Kht.disable(this.Jht)}},{key:"Jc",get:function(){return this.Zc||(this.Zc=na(this)),this.Zc}},{key:"Hh",get:function(){return this.Jht.id+""}},{key:"Vh",get:function(){return this.Cm}},{key:"Xh",get:function(){return this.Jht.kind}},{key:"qh",get:function(){var t;return null!==(t=this.Jht.name)&&void 0!==t?t:""},set:function(t){t!==this.qh&&(this.Jht.name=t,this.vs(new Hf(this)))}},{key:"Wh",get:function(){return this.Jht.language}},{key:"Kh",get:function(){return this.Fh?"enabled":"disabled"}},{key:"zh",get:function(){return this.Sm}},{key:"Gh",get:function(){return this.oJ},set:function(t){var n=this,i=this.oJ,e=t?t.filter(function(t){return r.Pc.hc(n.Uh,t)}):void 0;e&&0===e.length||this.nft(e,i)||(this.oJ=e,this.Jht.qualities.targetQuality=e?e.map(function(t){return t.rft}):null,this.vs(new oL(e,this)))}}]),n}(ii),dL=function(t){function n(n){var i,r;return(i=t.call(this)||this).Zc=void 0,i.mv=function(){return i._o()},i.rft=n,i.rft.addEventListener("qualityupdated",i.mv),i.Hh=n.id,i.lD=null!==(r=n.bandwidth)&&void 0!==r?r:NaN,i.IY=n.codecs,i.Kj=n.uri,i}ct(n,t);var i=n.prototype;return i._o=function(){this.uft()&&this.vs(new cL(this.Jc))},i.uft=function(){var t,n=this.rft,i=n.id,r=null!==(t=n.bandwidth)&&void 0!==t?t:NaN,e=n.codecs,u=n.uri,s=this.Hh!==i||!Ys(this.lD,r)||this.IY!==e||this.Kj!==u;return this.Hh=i,this.lD=r,this.IY=e,this.Kj=u,s},i.Ih=function(){this.rft.removeEventListener("qualityupdated",this.mv)},i.Lp=function(){},T(n,[{key:"qh",get:function(){return this.rft.name||""},set:function(t){this.qh!==t&&(this.rft.name=t,this.vs(new cL(this.Jc)))}},{key:"Jc",get:function(){return this.Zc||(this.Zc=this.Kc()),this.Zc}},{key:"bG",get:function(){return!0}}]),n}(ii),lL=function(t){function n(n){var i;return(i=t.call(this,n)||this).Wht=NaN,i}return ct(n,t),n.prototype.Kc=function(){return fL(this)},n}(dL),_L=function(t){function n(n,i){var r;return void 0===i&&(i=0),(r=t.call(this,n)||this).uJ=n.frameRate,r.wc=n.resolution?n.resolution.width:NaN,r.Z_=n.resolution?n.resolution.height:NaN,r.sft=i,r}ct(n,t);var i=n.prototype;return i.uft=function(){var n=t.prototype.uft.call(this),i=this.rft,r=i.frameRate,e=i.resolution?i.resolution.width:NaN,u=i.resolution?i.resolution.height:NaN;return n=n||!Ys(this.uJ,r)||!Ys(this.wc,e)||!Ys(this.Z_,u),this.uJ=r,this.wc=e,this.Z_=u,n},i.Kc=function(){return hL(this)},T(n,[{key:"qht",get:function(){return this.sft},set:function(t){this.sft!==t&&(this.sft=t,this.vs(new cL(this.Jc)))}}]),n}(dL),wL=function(t){function n(){return t.apply(this,arguments)||this}return ct(n,t),n.prototype.$ht=function(t){return new lL(t)},n}(vL),gL=function(t){function n(){return t.apply(this,arguments)||this}ct(n,t);var i=n.prototype;return i.$ht=function(t){return new _L(t,this.oft)},i.aft=function(t){this.oft=t;for(var n=0,i=this.zh.Nh;n<i.length;n++){var r=i[n];void 0!==r.qht&&(r.qht=t)}},n}(vL),yL=function(t){function n(){return t.call(this,ka.Bf)||this}return ct(n,t),n}(ei),mL=function(t){function n(){return t.call(this,ka.Pf)||this}return ct(n,t),n}(ei),kL=function(){function t(t){this.dd=new Kd,this.oX=new _I(t)}var n=t.prototype;return n.SA=function(t,n,i,r,e){var u=new hR(t,n,i,r,e);return this.dd.Th(u),this.oX.Th(u),u},n.CA=function(t){this.dd.Eh(t),this.oX.Eh(t)},n.Rh=function(){this.dd.Rh(),this.oX.Rh()},n.Ih=function(){this.dd.Ih(),this.oX.Ih()},T(t,[{key:"yd",get:function(){return this.dd}}]),t}();function pL(t,n){for(var i=0;i<t.Ch;i++){var r=t.bh(i);if(r.Jht===n)return r}}var AL=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this)||this).cft=void 0,o.IE=void 0,o.NE=void 0,o.hft=NaN,o.fft=0,o.vft=function(){o.vs(new xa(o.Lv))},o.dft=function(){o.vs(new Ba(o.Lv))},o.lft=function(){o.vs(new Sa(o.Lv))},o._ft=function(){o.vs(new Ea(o.Lv))},o.wft=function(){o.vs(new Ca(o.Lv,o.qv))},o.gft=function(){o.vs(new Ta(o.Lv,o.jv))},o.yft=function(){o.vs(new cS(o.Lv))},o.mft=function(){o.vs(new Ia(o.Lv))},o.kft=function(){o.vs(new hS)},o.pft=function(){o.vs(new yL)},o.Aft=function(){o.vs(new mL)},o.bft=function(){o.Tft(),o.Eft.Rh(),o.Sft(),o.vS()},o.FB=function(){o.Sft(),o.vS(),o.KE()},o.Tft=function(){var t=o.hft,n=o.Uv;o.hft=n,t===n||m(t)&&m(n)||o.vs(new Da(n))},o.Rft=function(t){var n=t.error||o.Ift.error;if(n){var i,r=kc.DECODE;n.code===pC.YG&&dn(n.info.code,"VEE")&&(r=+n.info.code.substr("VEE".length)),n.info&&(i=n.info.code),o.IE=new bc(r,n.message,i),o.vs(new Va(function(t){return new de(Sc(t.code),t.message,t)}(o.IE)))}},o.OE=function(){o.vs(new Na(o.Lv,o.Vd))},o.Nft=function(){o.Gv>0&&o.zv>0&&o.vs(new Cl)},o.Cft=function(){o.vs(new gc)},o.Dft=function(t){o.vd.Nh.forEach(function(n){return n.aft(t.ptsOffset)})},o.Oft=function(t){o.fft+=t.Zd,o.vs(t)},o.xft=function(t){return o.Pft(t.track)},o.Bft=function(t){return o.Mft(t.track)},o.Lft=function(t){var n=pL(o.fd,t.track);n&&n.vs(new Lo(n))},o.Uft=function(t){var n=pL(o.vd,t.track);n&&n.vs(new Lo(n))},o.cG=n,o.HS=i,e=function(t){var n,i={};return i=tM(t,i),(i=tM(eL,i)).abrRules=i.abrRules.slice(0),i.allowManualQualitySwitch=!P.Pt&&i.allowManualQualitySwitch,i.libraryLocation=Us(i.libraryLocation||"./",!0),i.initialRendition=i.initialRendition&&i.initialRendition.toLowerCase(),i.localisation=(n=i.localisation||{},function(t){return B.call(n,t)?n[t]:t}),i}(e),o.Ift=new iL(o.cG,o.HS,e,r,u),o.Fft(),o.Hft=new bL(o.Ift),o.Eft=new ug(o.Hft,!0),o.Eft.ls(ya,o.fs),o.fd=new Uf,o.vd=new Uf,o.bA=new kL(vt(o)),o.eX=new TI(vt(o)),o.eX.Mh=o.Ift.yd,o.uX=new EI(o.bA,o.eX),o.dd=new vR([o.Ift.yd,o.uX.P_]),o.wG=new WI,o.wG.IX(n),o.gG=new oC(o.wG.Xd,o.Ift.dimensions,o.yd,s,o.Ift.Cht),o.KE(),o}ct(n,t);var i=n.prototype;return i.Dd=function(){this.Ift.Dd(),this.wG.Dd()},i.Cd=function(){this.Ift.Cd(),this.wG.Cd()},i.bd=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.cft=n,this.Ift.bd({sources:{src:n.src,type:Wa.Dv,contentProtection:n.contentProtection},textTracks:i.textTracks,configuration:Dt(Dt({},i),{crossOrigin:n.crossOrigin,withCredentials:n.useCredentials,liveOffset:n.liveOffset,hlsDateRange:n.hlsDateRange,hls:n.hls})});case 2:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.md=function(){this.Ift.play()},i.kd=function(){this.Ift.pause()},i.Rh=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.cft=void 0,this.IE=void 0,this.NE=void 0,this.fft=0,this.Ift.bd({sources:null}),this.Eft.Rh(),this.bA.Rh(),this.Sft();case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Td=function(){return!1},i.Ed=function(){},i.Sd=function(){},i.Od=function(){return this.Ift.Od()||void 0},i.xd=function(){return this.Ift.Cht},i.Fd=function(){},i.Ih=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Rh();case 2:return this.gs(),this.Eft.Ih(),this.Hft.Ih(),this.Vft(),t.next=8,this.Ift.$u();case 8:return this.fd.Ih(),this.vd.Ih(),this.eX.Ih(),t.next=13,this.uX.Ih();case 13:this.bA.Ih(),this.dd.Ih(),this.gG.Ih(),this.wG.Ih();case 17:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Fft=function(){this.Ift.addEventListener("Dht",this.bft),this.Ift.addEventListener("Pht",this.FB),this.Ift.addEventListener("durationchange",this.Tft),this.Ift.addEventListener("error",this.Rft),this.Ift.addEventListener("timeupdate",this.OE),this.Ift.addEventListener("resize",this.Nft),this.Ift.addEventListener(ka.Nf,this.Cft),this.Ift.addEventListener("Art",this.Dft),this.Ift.addEventListener(ka.jf,this.Oft),this.Ift.addEventListener("play",this.vft),this.Ift.addEventListener("pause",this.dft),this.Ift.addEventListener("seeking",this.lft),this.Ift.addEventListener("seeked",this._ft),this.Ift.addEventListener("ratechange",this.wft),this.Ift.addEventListener("volumechange",this.gft),this.Ift.addEventListener("progress",this.yft),this.Ift.addEventListener("ended",this.mft),this.Ift.addEventListener("loadstart",this.kft),this.Ift.addEventListener(ka.Bf,this.pft),this.Ift.addEventListener(ka.Pf,this.Aft),this.Ift.addEventListener(ka.zf,this.fs)},i.Vft=function(){this.Ift.removeEventListener("Dht",this.bft),this.Ift.removeEventListener("Pht",this.FB),this.Ift.removeEventListener("durationchange",this.Tft),this.Ift.removeEventListener("error",this.Rft),this.Ift.removeEventListener("timeupdate",this.OE),this.Ift.removeEventListener("resize",this.Nft),this.Ift.removeEventListener(ka.Nf,this.Cft),this.Ift.removeEventListener("play",this.vft),this.Ift.removeEventListener("pause",this.dft),this.Ift.removeEventListener("seeking",this.lft),this.Ift.removeEventListener("seeked",this._ft),this.Ift.removeEventListener("ratechange",this.wft),this.Ift.removeEventListener("volumechange",this.gft),this.Ift.removeEventListener("progress",this.yft),this.Ift.removeEventListener("ended",this.mft),this.Ift.removeEventListener("loadstart",this.kft),this.Ift.removeEventListener(ka.Bf,this.pft),this.Ift.removeEventListener(ka.Pf,this.Aft),this.Ift.removeEventListener(ka.zf,this.fs),this.Ift.removeEventListener(ka.jf,this.Oft)},i.KE=function(){var t=this.Ift.audioTracks,n=this.Ift.videoTracks;if(t){for(var i=0;i<t.length;i++)this.Pft(t.item(i));t.addEventListener("addtrack",this.xft),t.addEventListener("enabledtrack",this.Lft),t.addEventListener("disabledtrack",this.Lft)}if(n){for(var r=0;r<n.length;r++)this.Mft(n.item(r));n.addEventListener("addtrack",this.Bft),n.addEventListener("enabledtrack",this.Uft),n.addEventListener("disabledtrack",this.Uft)}},i.vS=function(){var t=this.Ift.audioTracks,n=this.Ift.videoTracks;t&&(t.removeEventListener("addtrack",this.xft),t.removeEventListener("enabledtrack",this.Lft),t.removeEventListener("disabledtrack",this.Lft)),n&&(n.removeEventListener("addtrack",this.Bft),n.removeEventListener("enabledtrack",this.Uft),n.removeEventListener("disabledtrack",this.Uft))},i.Sft=function(){for(var t=0,n=this.fd.Nh;t<n.length;t++){n[t].Ih()}for(var i=0,r=this.vd.Nh;i<r.length;i++){r[i].Ih()}this.fd.Rh(),this.vd.Rh()},i.Pft=function(t){pL(this.fd,t)||this.fd.Th(new wL(t,this.Ift.audioTracks))},i.Mft=function(t){pL(this.vd,t)||this.vd.Th(new gL(t,this.Ift.videoTracks))},T(n,[{key:"wd",get:function(){return this.fd}},{key:"Hd",get:function(){return this.Ift.buffered}},{key:"Vd",get:function(){var t;return null!==(t=this.Ift.currentProgramDateTime)&&void 0!==t?t:void 0},set:function(t){this.Ift.currentProgramDateTime=null!=t?t:null}},{key:"Lv",get:function(){var t=this.Ift.currentMonotonicTime;return"now"===t&&(t=1/0),t===1/0&&m(this.Ift.duration)&&(t=0),t},set:function(t){this.Ift.currentMonotonicTime=t}},{key:"Uv",get:function(){var t=this.Ift.duration;return t<0?1/0:t}},{key:"Fv",get:function(){return this.Ift.ended}},{key:"Is",get:function(){return this.IE}},{key:"Hv",get:function(){return this.NE}},{key:"qd",get:function(){}},{key:"Wd",get:function(){return!1}},{key:"zd",get:function(){return Dt(Dt({},this.Ift.zd()),{Zd:this.fft})}},{key:"Vv",get:function(){return this.Ift.muted},set:function(t){this.Ift.muted=t}},{key:"Kd",get:function(){return this.Ift.online}},{key:"Xv",get:function(){return this.Ift.paused}},{key:"qv",get:function(){return this.Ift.playbackRate},set:function(t){this.Ift.playbackRate=t}},{key:"$d",get:function(){return this.Ift.played}},{key:"tl",get:function(){return this.Ift.preload||pg.xS},set:function(t){this.Ift.preload=t}},{key:"$h",get:function(){return this.Ift.$h}},{key:"nl",get:function(){return this.Ift.seekable}},{key:"Wv",get:function(){return this.Ift.seeking}},{key:"wS",get:function(){}},{key:"yd",get:function(){return this.dd}},{key:"gd",get:function(){return this.vd}},{key:"zv",get:function(){return this.Ift.videoHeight}},{key:"Gv",get:function(){return this.Ift.videoWidth}},{key:"jv",get:function(){return this.Ift.volume},set:function(t){this.Ift.volume=t}}]),n}(_a),bL=function(t){function n(n){var i;return(i=t.call(this)||this).Xft=function(){i.vs(new ma(i.Lv,i.Ift.$h))},i.qft=function(){i.vs(new eg(i.Lv))},i.vft=function(){i.vs(new xa(i.Lv))},i.dft=function(){i.vs(new Ba(i.Lv))},i.Ift=n,i.Ift.addEventListener(da.dh,i.Xft),i.Ift.addEventListener(da.vf,i.qft),i.Ift.addEventListener(ka.Lf,i.vft),i.Ift.addEventListener(ka.Mf,i.dft),i}return ct(n,t),n.prototype.Ih=function(){this.gs(),this.Ift.removeEventListener(da.dh,this.Xft),this.Ift.removeEventListener(da.vf,this.qft),this.Ift.removeEventListener(ka.Lf,this.vft),this.Ift.removeEventListener(ka.Mf,this.dft)},T(n,[{key:"Lv",get:function(){var t=this.Ift.currentMonotonicTime;return"now"===t&&(t=1/0),t===1/0&&m(this.Ift.duration)&&(t=0),t}},{key:"Fv",get:function(){return this.Ift.ended}},{key:"Is",get:function(){return this.Ift.error||void 0}},{key:"Xv",get:function(){return this.Ift.paused}}]),n}(ii);function TL(t,n){return EL.apply(this,arguments)}function EL(){return(EL=Ct.coroutine(Nt.mark(function t(n,i,r,e,u){var s,o;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:void 0===r&&(r=3),void 0===e&&(e=1e3),void 0===u&&(u=1/0),s=0;case 4:return t.prev=5,t.next=8,n(i);case 8:return t.abrupt("return",t.sent);case 11:if(t.prev=11,t.t0=t.catch(5),Vn(t.t0),!(s<r)){t.next=20;break}return o=w.min(e*w.pow(2,s),u),s++,t.next=19,Jn(o,i);case 19:return t.abrupt("continue",4);case 20:throw t.t0;case 21:t.next=4;break;case 23:case"end":return t.stop()}},t,null,[[5,11]])}))).apply(this,arguments)}gg(new(function(){function t(){this.gS=og.Dv}var n=t.prototype;return n.fl=function(t,n,i,r,e,u){return new AL(t,n,i,r,e,u)},n.yS=function(n,i){if((P.Ft||P.hn)&&!i.manifestMetadataTrack)return!1;if(!If(n.type))return!1;if(n.useNativePlayback)return!1;var r=n.contentProtection;return!(r&&!gh(r)&&!t.Wft(r))&&!!function(t){return nL(t,{})!==QM.ej}(n)},t.Wft=function(t){return!!t.aes128},t}()));var SL,RL=function(t){function n(){return t.call(this,"zft")||this}return ct(n,t),n}(ei),IL=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Gft=function(){e.vs(new RL)},e.cft=n,e.jft=Dt(Dt({},i),{crossOrigin:e.cft.crossOrigin,withCredentials:e.cft.useCredentials,liveOffset:e.cft.liveOffset,hlsDateRange:e.cft.hlsDateRange}),e.TA=r,e.Qft=[],e.uu=!1,e}ct(n,t);var i=n.prototype;return i.Yft=function(){if(this.Zft)return this.Zft.NZ},i.Ry=function(t){var n=this;Qn(TL(function(){return n.XJ()},t))},i.XJ=function(){var t=Ct.coroutine(Nt.mark(function t(){var n,i,r,e,u,s;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Jft();case 2:if((n=t.sent).isMasterPlaylist)for(this.Kft=n,i=0,r=n.streams;i<r.length;i++)e=r[i],u=new CP(this.TA,this.jft),this.Qft.push({stream:{uri:e.uri,width:e.resolution&&e.resolution.width,height:e.resolution&&e.resolution.height},updater:u});else s=new CP(this.TA,this.jft),this.Qft.push({stream:{uri:n.uri},updater:s});this.$ft&&(this.tvt(this.$ft.width,this.$ft.height),this.$ft=void 0),this.uu=!0;case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.nvt=function(t,n){this.uu?this.tvt(t,n):this.$ft={width:t,height:n}},i.tvt=function(t,n){this.ivt();var i=this.rvt(t,n);i&&(this.Zft=i.updater,this.Zft.addEventListener("X6",this.Gft),i.updater.Ry(i.stream.uri))},i.ivt=function(){this.Zft&&(this.Zft.pd(),this.Zft.removeEventListener("X6",this.Gft),this.Zft=void 0)},i.rvt=function(t,n){return 1===this.Qft.length?this.Qft[0]:Rn(this.Qft,function(i){return i.stream.width===t&&i.stream.height===n})},i.Jft=function(){var t=Ct.coroutine(Nt.mark(function t(){var n,i;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=new NP(this.jft,SD.dn.sK,this.TA),t.next=3,n.do(this.cft.src,{});case 3:return i=t.sent,t.abrupt("return",i.NZ);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Ih=function(){this.ivt();for(var t=0,n=this.Qft;t<n.length;t++){n[t].updater.Ih()}xn(this.Qft)},n}(ii),NL=function(t){function n(n,i,r){var e;return(e=t.call(this,n)||this).evt=void 0,e.uvt=!1,e.wZ=void 0,e.handleManifestUpdate=function(){var t=e.evt.Yft();if(t){var n=e.wS;if(n){var i=n.getTime(),r=e.wZ;r||(r=new HC,e.wZ=r),r._o(t.dateRanges,function(t){return(t.getTime()-i)/1e3}),!e.uvt&&r.tf.Ch>0&&(e.yd.Th(r),e.oX.Th(r),e.uvt=!0)}}},e.Nft=function(){e.evt&&e.evt.nvt(e.Gv,e.zv)},e.svt=i,e.FP=r,e.oX=new _I(vt(e)),e.ls(ka.Vf,e.Nft),e}ct(n,t);var i=n.prototype;return i.bd=function(){var n=Ct.coroutine(Nt.mark(function n(i,r,e){return Nt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.bd.call(this,i,r,e);case 2:i.hlsDateRange&&this.ovt(i,r,e);case 3:case"end":return n.stop()}},n,this)}));return function(t,i,r){return n.apply(this,arguments)}}(),i.ovt=function(t,n,i){this.evt&&(this.evt.ys("zft",this.handleManifestUpdate),this.evt.Ih()),this.evt=new IL(t,n,this.svt),this.evt.ls("zft",this.handleManifestUpdate),this.evt.Ry(i)},i.Rh=function(){return this.wZ&&(this.yd.Eh(this.wZ),this.oX.Eh(this.wZ),this.wZ.Ih(),this.wZ=void 0,this.uvt=!1),this.oX.Rh(),t.prototype.Rh.call(this)},i.Ih=function(){return this.ys(ka.Vf,this.Nft),this.evt&&(this.evt.ys("zft",this.handleManifestUpdate),this.evt.Ih()),this.oX.Ih(),t.prototype.Ih.call(this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).avt=n,i.avt.ef(i.fs),i}ct(n,t);var i=n.prototype;return i.Td=function(){return this.avt.Td()},i.xd=function(){return this.avt.xd()},i.Od=function(){return this.avt.Od()},i.Dd=function(){return this.avt.Dd()},i.Fd=function(){return this.avt.Fd()},i.kd=function(){return this.avt.kd()},i.md=function(){return this.avt.md()},i.Rh=function(){return this.avt.Rh()},i.bd=function(t,n,i){return this.avt.bd(t,n,i)},i.Cd=function(){return this.avt.Cd()},i.Ed=function(){return this.avt.Ed()},i.Sd=function(){return this.avt.Sd()},i.Ih=function(){return this.gs(),this.avt.Ih()},T(n,[{key:"wd",get:function(){return this.avt.wd}},{key:"Hd",get:function(){return this.avt.Hd}},{key:"Vd",get:function(){return this.avt.Vd},set:function(t){this.avt.Vd=t}},{key:"Lv",get:function(){return this.avt.Lv},set:function(t){this.avt.Lv=t}},{key:"Uv",get:function(){return this.avt.Uv}},{key:"Fv",get:function(){return this.avt.Fv}},{key:"Hv",get:function(){return this.avt.Hv}},{key:"qd",get:function(){return this.avt.qd}},{key:"Is",get:function(){return this.avt.Is}},{key:"Wd",get:function(){return this.avt.Wd}},{key:"zd",get:function(){return this.avt.zd}},{key:"Vv",get:function(){return this.avt.Vv},set:function(t){this.avt.Vv=t}},{key:"Kd",get:function(){return this.avt.Kd}},{key:"Xv",get:function(){return this.avt.Xv}},{key:"qv",get:function(){return this.avt.qv},set:function(t){this.avt.qv=t}},{key:"$d",get:function(){return this.avt.$d}},{key:"tl",get:function(){return this.avt.tl},set:function(t){this.avt.tl=t}},{key:"$h",get:function(){return this.avt.$h}},{key:"nl",get:function(){return this.avt.nl}},{key:"Wv",get:function(){return this.avt.Wv}},{key:"wS",get:function(){return this.avt.wS}},{key:"yd",get:function(){return this.avt.yd}},{key:"zv",get:function(){return this.avt.zv}},{key:"gd",get:function(){return this.avt.gd}},{key:"Gv",get:function(){return this.avt.Gv}},{key:"jv",get:function(){return this.avt.jv},set:function(t){this.avt.jv=t}}]),n}(_a));SL=function(t,n,i){return new NL(t,n,i)},wg.pS().AS(SL);var CL=function(t){function n(n){var i;return(i=t.call(this,"statechange")||this).state=n,i}return ct(n,t),n}(ei);var DL=function(t){function n(n,i,e,u){var s;return(s=t.call(this)||this).Zc=void 0,s.DI=$h.UNAVAILABLE,s.cvt=new Ln,s.handleAirplayChangedEvent=function(){s.WS&&s.WS.Wd?s.fvt():s.r0===$h.CONNECTED&&s.vvt()},s.handleAirplayPlayerTimeUpdate=function(t){s.dvt=t.currentTime,s.lvt=s.sx.Vd},s._vt=n,s.sx=i,s.wvt=u,s.wvt.Dd(),s.sx._d(u),s.gvt(),r.Pc.dc&&s.yvt($h.AVAILABLE),s}ct(n,t);var i=n.prototype;return i.gvt=function(){this.WS&&this.WS.ys(ka.yf,this.handleAirplayChangedEvent),this.mvt?this.WS=this.sx:this.WS=this.wvt,this.WS.ls(ka.yf,this.handleAirplayChangedEvent)},i.fvt=function(){var t=Ct.coroutine(Nt.mark(function t(){var n;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.WS){t.next=2;break}return t.abrupt("return");case 2:if(this.mvt){t.next=24;break}return this.dvt=this.sx.Lv,this.lvt=this.sx.Vd,this.wvt.ls("timeupdate",this.handleAirplayPlayerTimeUpdate),this.kvt=this.sx.Mh,this.sx.Mh=this.wvt,this.kvt.kd(),this.kvt.Dd(),this.wvt.Cd(),this.wvt.Vv=this.kvt.Vv,this.wvt.qv=this.kvt.qv,this.wvt.jv=this.kvt.jv,n=this.wvt.As("seeked"),this.wvt.Lv=this.kvt.Lv,t.next=18,n;case 18:this.wvt.md(),this.wvt.Vv=this.kvt.Vv,this.wvt.qv=this.kvt.qv,this.wvt.jv=this.kvt.jv,t.next=28;break;case 24:if(this.WS.Xv){t.next=27;break}return t.next=27,this.WS.As(ka.Mf,this.cvt.cs);case 27:this.WS.md();case 28:this.yvt($h.CONNECTED);case 29:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.vvt=function(){this.kvt?(this.wvt.ys("timeupdate",this.handleAirplayPlayerTimeUpdate),this.kvt.Vv=this.wvt.Vv,this.kvt.qv=this.wvt.qv,this.kvt.jv=this.wvt.jv,P.nn&&!P.Ft&&this.sx.Uv===1/0?this.lvt?this.kvt.Vd=this.lvt:this.kvt.Lv=1/0:this.kvt.Lv=this.dvt,this.lvt=void 0,this.dvt=void 0,this.kvt.Cd(),this.wvt.Dd(),this.wvt.Xv||this.kvt.md(),this.sx.Mh=this.kvt,this.wvt.Rh(),this.kvt=void 0):this.WS&&(this.WS.Lv=this.WS.Lv+1e-4);this.yvt($h.AVAILABLE)},i.preloadPlayer=function(t){if(Hn(t),this.WS.$h<ga.lf){var n=this.WS.As("loadedmetadata",t);return this.WS.tl=pg.n_,n}return Ct.resolve()},i.yvt=function(t){t!==this.DI&&(this.DI=t,this.vs(new CL(this.DI)))},i.Ed=function(){r.Pc.dc&&(this._vt.Rd(),this.cvt.ss(),this.cvt=new Ln,this.mvt?Qn(this.pvt(this.cvt.cs)):Qn(this.Avt(this.cvt.cs)))},i.pvt=function(){var t=Ct.coroutine(Nt.mark(function t(n){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.preloadPlayer(n);case 2:this.sx.Ed();case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Avt=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.wvt.bd(this.sx.Ad(),n);case 3:return i=this.wvt.As("playing",n),this.wvt.md(),t.next=7,Kn(i,3e3);case 7:this.wvt.kd(),Hn(n),this.wvt.Ed(),t.next=17;break;case 12:if(t.prev=12,t.t0=t.catch(0),!Fn(t.t0)){t.next=16;break}return t.abrupt("return");case 16:0;case 17:case"end":return t.stop()}},t,this,[[0,12]])}));return function(n){return t.apply(this,arguments)}}(),i.Sd=function(){r.Pc.dc&&this.WS.Sd()},i.Ih=function(){var t;this.gs(),this.sx.Md(this.wvt),this.cvt.ss(),null===(t=this.wvt)||void 0===t||t.Ih()},T(n,[{key:"DP",get:function(){return this.r0===$h.CONNECTED}},{key:"mvt",get:function(){return this.sx.Td()}},{key:"r0",get:function(){return this.DI}},{key:"Jc",get:function(){var t;return this.Zc||(this.Zc=(t=this,{get casting(){return t.DP},get state(){return t.r0},start:function(){t.Ed()},stop:function(){t.Sd()},addEventListener:function(n,i){n=Jo(n,Zo),t.ls(n,i)},removeEventListener:function(n,i){n=Jo(n,Zo),t.ys(n,i)}})),this.Zc}}]),n}(_a);EE(function(t){return function(t){function n(){return t.apply(this,arguments)||this}return ct(n,t),n.prototype.Kc=function(){var n=this.SB.Jc;return Xo(t.prototype.Kc.call(this),{get cast(){return n}})},n}(t)},gE.CB);var OL=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this)||this).PS=void 0,o.cft=void 0,o.fd=new sa,o.vd=new sa,o.dd=new la,o.OS=n,o.bvt=new Ft(u,s,1,[Jh.Kl]),o.bvt.VS(n),o.Tvt=new vg(n,o.bvt,i,r,e),o.Tvt.ef(o.fs),o.fd.Mh=o.Tvt.wd,o.vd.Mh=o.Tvt.gd,o.dd.Mh=o.Tvt.yd,o}ct(n,t);var i=n.prototype;return i.Td=function(){return this.Tvt.Td()},i.Ed=function(){this.Tvt.Ed()},i.Sd=function(){this.Tvt.Sd()},i.md=function(){Qn(this.Tvt.md())},i.kd=function(){this.Tvt.kd()},i.pd=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),i.Ad=function(){return this.cft},i.bd=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r,e,u,s;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Hn(i),this.cft=n,!uc(n.sources)){t.next=6;break}r=pf({src:""}),t.next=16;break;case 6:e=n.sources.filter(Sf),u=0;case 8:if(!(u<e.length)){t.next=16;break}if(!dg(s=e[u])){t.next=13;break}return r=s,t.abrupt("break",16);case 13:u++,t.next=8;break;case 16:if(r){t.next=18;break}throw new d("Unsupported source.");case 18:return t.next=20,this.Tvt.bd(r,n,i);case 20:this.YS(r);case 21:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.YS=function(t){this.PS!==t&&(this.PS=t,this.vs(new yc(t)))},i.Od=function(){},i.Evt=function(){},i.Pd=function(){return[]},i.Rd=function(){this.bvt.jS()},i.Id=function(t){lc(this,t)},i.Nd=function(){},i.Bd=function(t){return!1},i.Fd=function(){},i.Rh=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.PS=void 0,this.cft=void 0,t.next=4,this.Tvt.Rh();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Cd=function(){this.Tvt.Cd()},i.Dd=function(){this.Tvt.Dd()},i.xd=function(){return this.Tvt.xd()},i.Ih=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.gs(),this.bvt.Ih(),t.next=4,this.Tvt.Ih();case 4:this.fd.Ih(),this.vd.Ih(),this.dd.Ih();case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),T(n,[{key:"wd",get:function(){return this.Tvt.wd}},{key:"Hd",get:function(){return this.Tvt.Hd}},{key:"Ud",get:function(){return this.PS}},{key:"Lv",get:function(){return this.Tvt.Lv},set:function(t){this.Tvt.Lv=t}},{key:"Vd",get:function(){return this.Tvt.Vd}},{key:"Uv",get:function(){return this.Tvt.Uv}},{key:"Xd",get:function(){return this.OS}},{key:"Fv",get:function(){return this.Tvt.Fv}},{key:"Is",get:function(){return this.Tvt.Is}},{key:"Wd",get:function(){return this.Tvt.Wd}},{key:"zd",get:function(){return{Gd:0,jd:0,Qd:0,Yd:0,Zd:0,Jd:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"Vv",get:function(){return this.Tvt.Vv},set:function(t){this.Tvt.Vv=t}},{key:"Kd",get:function(){return this.Tvt.Kd}},{key:"Xv",get:function(){return this.Tvt.Xv}},{key:"qv",get:function(){return this.Tvt.qv},set:function(t){this.Tvt.qv=t}},{key:"$d",get:function(){return this.Tvt.$d}},{key:"tl",get:function(){return this.Tvt.tl},set:function(t){this.Tvt.tl=t}},{key:"$h",get:function(){return this.Tvt.$h}},{key:"nl",get:function(){return this.Tvt.nl}},{key:"Wv",get:function(){return this.Tvt.Wv}},{key:"yd",get:function(){return this.Tvt.yd}},{key:"zv",get:function(){return this.Tvt.zv}},{key:"Gv",get:function(){return this.Tvt.Gv}},{key:"gd",get:function(){return this.Tvt.gd}},{key:"jv",get:function(){return this.Tvt.jv},set:function(t){this.Tvt.jv=t}}]),n}(_a);EE(function(t){return function(t){function n(n,i){var r;r=t.call(this,n,i)||this;var e=new OL(r.TP.Xd,r.xb,r.Cw,r.vB,r._B,r.NB);return r.Svt=new DL(vt(r),r.TP,r.xb,e),r.SB.CP(r.Svt),r.ls("currentsourcechange",function(){r.Svt.gvt()}),r}ct(n,t);var i=n.prototype;return i.Kc=function(){var n=this,i=t.prototype.Kc.call(this);return Xo(i.cast,{get airplay(){return n.Svt.Jc}}),i},i.Ih=function(){this.Svt.Ih(),t.prototype.Ih.call(this)},n}(t)},gE.CB);var xL,PL=function(){},BL=function(){function t(){this.internalDict={},this.uidCounter=0}var n=t.prototype;return n.register=function(t){return this.internalDict[this.uidCounter]=t,this.uidCounter++},n.get=function(t){return this.internalDict[t]},n.remove=function(t){delete this.internalDict[t]},t}(),ML=It(function(t,n){function i(t,n){var i=[],r=[];return null==n&&(n=function(t,n){return i[0]===n?"[Circular ~]":"[Circular ~."+r.slice(0,i.indexOf(n)).join(".")+"]"}),function(e,u){if(i.length>0){var s=i.indexOf(this);~s?i.splice(s+1):i.push(this),~s?r.splice(s,1/0,e):r.push(e),~i.indexOf(u)&&(u=n.call(this,e,u))}else i.push(u);return null==t?u:t.call(this,e,u)}}(t.exports=function(t,n,r,e){return JSON.stringify(t,i(n,e),r)}).getSerialize=i});function LL(t,n){return void 0!==n&&null!=n&&"function"==typeof n.start&&"function"==typeof n.end&&"number"==typeof n.length?function(t){for(var n=[],i=0;i<t.length;i++)n[i]={start:t.start(i),end:t.end(i)};return n}(n):n}function UL(t){return JSON.stringify(t,ML.getSerialize(LL))}function FL(t){return void 0===t.adBreak||void 0===t.adBreak.ads?t:Dt(Dt({},t),{adBreak:Dt(Dt({},t.adBreak),{ads:t.adBreak.ads.map(function(t){t.adBreak;return Rc(t,["adBreak"])})})})}function HL(t){return void 0===t.ads?t:Dt(Dt({},t),{ads:t.ads.map(function(t){t.adBreak;return Rc(t,["adBreak"])})})}function VL(t){return"string"==typeof t.date?new Date(t.date):t.date}function XL(t){var n;return t.cue.track?(n=WL(t.cue,t.cue.track.type)).track={uid:t.cue.track.uid}:n=WL(t.cue,""),n}function qL(t){var n=new Set;return function t(i){if(Array.isArray(i))return i.map(t);if("object"==typeof i&&null!==i){if(n.has(i))return"[Circular ~]";n.add(i);var r=_.entries(i);return _.fromEntries(r.map(function(n){return[n[0],t(n[1])]}))}return i}(t)}function WL(t,n){var i,r={};switch(r.content=t.content,r.endTime=t.endTime,r.startTime=t.startTime,r.id=t.id,r.uid=t.uid,n){case"webvtt":r.align=t.align,r.line=t.line,r.lineAlign=t.lineAlign,r.position=t.position,r.positionAlign=t.positionAlign,r.region=t.region,r.size=t.size,r.snapToLines=t.snapToLines,r.text=t.text,r.vertical=t.vertical;break;case"ttml":r.content=function t(n){var i=n.children;if(0!==i.length)for(var r=0;r<i.length;r++){var e=i.item(r);return"image"===e.nodeName||"smpte:image"===e.nodeName?e:t(e)}}(t.content).innerHTML;break;case"daterange":var e={};for(var u in t.customAttributes){var s=t.customAttributes[u];if("object"==typeof(i=s)&&null!==i){var o=zL(s);e[u]={type:xL.Rvt,value:o}}else jL(s)?e[u]={type:xL.Ivt,value:s}:e[u]={type:xL.yq,value:String(s)}}r.attributedClass=String(t.class),r.startDate=t.startDate,r.endDate=t.endDate,r.duration=t.duration,r.plannedDuration=t.plannedDuration,r.endOnNext=t.endOnNext,r.scte35Cmd=zL(t.scte35Cmd),r.scte35Out=zL(t.scte35Out),r.scte35In=zL(t.scte35In),r.customAttributes=e}return r}function zL(t){if(void 0!==t)return mi(t)}function GL(t){var n={};if(n.kind=t.kind,n.language=t.language,n.label=t.label,n.id=t.id,n.uid=t.uid,n.src=t.src,"cues"in t){n.inBandMetadataTrackDispatchType=t.inBandMetadataTrackDispatchType,n.mode=t.mode,n.type=t.type;var i=[];if(t.cues)for(var r=0;r<t.cues.length;r++){var e=t.cues[r];i.push(WL(e,t.type))}n.cues=i;var u=[];if(t.activeCues)for(var s=0;s<t.activeCues.length;s++){var o=t.activeCues[s];u.push(WL(o,t.type))}n.activeCues=u}else"enabled"in t&&(n.enabled=t.enabled);return n}function jL(t){return"number"==typeof t}!function(t){t.yq="daterange-ca-type_string",t.Ivt="daterange-ca-type_number",t.Rvt="daterange-ca-type_arraybuffer"}(xL||(xL={}));var QL={cue:function(t){var n={};switch(n.date=VL(t),n.type=t.type,t.type){case"enter":case"exit":case"update":n.cue=XL(t)}return n},textTrack:function(t){var n={};switch(n.date=VL(t),n.type=t.type,t.type){case"addcue":t.cue.uid||(t.cue.uid=KL().register(t.cue));var i=JL()[$L()].eventListeners;t.cue.addEventListener("enter",function(t){i.InternalCueHelperEvent(t)}),t.cue.addEventListener("exit",function(t){i.InternalCueHelperEvent(t)}),t.cue.addEventListener("update",function(t){i.InternalCueHelperEvent(t)});case"removecue":case"entercue":case"exitcue":n.cue=XL(t);break;case"cuechange":for(var r=[],e=0;e<t.track.activeCues.length;e++){var u=t.track.activeCues[e];r.push(WL(u,t.track.type))}n.track={activeCues:r,uid:t.track.uid}}return n},textTrackList:function(t){var n={};switch(n.date=VL(t),n.type=t.type,t.type){case"addtrack":t.track.cues&&t.track.cues.length&&t.track.cues.length>0&&t.track.cues.map(function(t){t.uid=KL().register(t)}),n.track=GL(t.track);case"removetrack":case"change":n.track=GL(t.track)}return n},default:function(t){var n={};switch(n.date=VL(t),n.type=t.type,t.type){case"play":case"playing":case"pause":case"seeking":case"seeked":case"ended":case"waiting":case"emptied":n.currentTime=t.currentTime;break;case"timeupdate":n.currentTime=t.currentTime,n.currentProgramDateTime=t.currentProgramDateTime;break;case"progress":n.currentTime=t.currentTime;break;case"ratechange":n.currentTime=t.currentTime,n.playbackRate=t.playbackRate;break;case"durationchange":n.duration=t.duration;break;case"sourcechange":n.source=t.source;break;case"readystatechange":case"loadedmetadata":case"loadeddata":case"loadstart":case"canplay":case"canplaythrough":n.currentTime=t.currentTime,n.readyState=t.readyState;break;case"error":n.error=t.error,n.errorObject=Dt({name:t.errorObject.name,cause:t.errorObject.cause},t.errorObject);break;case"addtrack":case"removetrack":case"change":n.track=GL(t.track);break;case"adbreakbegin":case"adbreakend":n.ad=HL(t.ad);break;case"adloaded":case"adimpression":n.ad=FL(t.ad);break;case"aderror":t.Nvt&&(n.Nvt=t.Nvt),t.message&&(n.message=t.message);break;case"statechange":n.state=t.state;break;case"presentationmodechange":case"resize":break;case"adfirstquartile":case"admidpoint":case"adthirdquartile":case"adbegin":case"adend":n.currentTime=t.currentTime,n.ad=FL(t.ad)}return qL(n)},minimizeCueHelper:function(t){var n={};return n.date=VL(t),n.type=t.type,n.cue=XL(t),n.track={uid:t.cue.track.uid},n},adReplacer:FL,adBreakReplacer:HL,removeCircularReferences:qL},YL=function(){this.stringify=UL,this.minimize=QL};function ZL(){return Xt.self}function JL(){return ZL().THEOplayerBridge}function KL(){return ZL().THEOCueMirrorMap}function $L(){return ZL().THEOplayerGlobalID}function tU(){var t=ZL();if(t.THEOplayerBridge){var n=new PL;t.THEOplayerBridge=Xo(n,t.THEOplayerBridge)}else t.THEOplayerBridge=new PL;t.THEOplayerUtils||(t.THEOplayerUtils=new YL),t.THEOCueMirrorMap||(t.THEOCueMirrorMap=new BL)}tU();var nU,iU=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).type=n,r.detail=i,r}return ct(n,t),n}(ei),rU=function(t){function n(){return t.apply(this,arguments)||this}ct(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.vs(new iU(t,n))},i.addEventListener=function(t,n){this.ls(t,n)},i.removeEventListener=function(t,n){this.ys(t,n)},n}(wa),eU=function(t){function n(n,i){var r;return(r=t.call(this)||this).Cvt=function(t){r.Ovt.Dvt("THEOplayerABRSetTargetBuffer",t.hx),r.vs(t)},r.xvt=function(t){r.Ovt.Dvt("THEOplayerABRSetStrategy",t.lx),r.vs(t)},r.Ovt=n,r.Pvt=i,r.Pvt.ls("vx",r.Cvt),r.Pvt.ls("_x",r.xvt),r}return ct(n,t),T(n,[{key:"Ax",get:function(){var t;switch(this.lx.type){case ET.PERFORMANCE:return 1;case ET.QUALITY:return 0;case ET.BANDWIDTH:return(null===(t=this.lx.metadata)||void 0===t?void 0:t.bitrate)&&!m(this.lx.metadata.bitrate)?this.lx.metadata.bitrate:0;default:return 0}}},{key:"Jc",get:function(){return this.Pvt.Jc}},{key:"lx",get:function(){return this.Pvt.lx},set:function(t){this.Pvt.lx=t}},{key:"hx",get:function(){return this.Pvt.hx},set:function(t){this.Pvt.hx=t}},{key:"wx",get:function(){return this.Pvt.wx},set:function(t){this.Pvt.wx=t}}]),n}(ii),uU=function(t){function n(){return t.apply(this,arguments)||this}return ct(n,t),n.prototype.qT=function(t,n,i,r){return!0},n}(Dw),sU=function(){function t(t,n,i){this.Ao=void 0,this.Go=t,this.Uu=i,this.ia=n}var n=t.prototype;return n.CA=function(t){throw new d("Not implemented yet.")},n.GT=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r,e;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Uu.zu(n.Du,i);case 2:return r=t.sent,t.next=5,r.Io();case 5:return e=t.sent,t.next=8,this.pM(e);case 8:return t.abrupt("return",e);case 9:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.$u=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.pM(void 0);case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.pM=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.bM(n),t.next=3,i;case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.bM=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(i=this.Ao)){t.next=5;break}return t.next=4,i.So(this.ia);case 4:this.Ao=void 0;case 5:if(!n){t.next=9;break}return t.next=8,n.Eo(this.ia);case 8:this.Ao=n;case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.SA=function(t,n,i){throw new d("Not implemented yet.")},T(t,[{key:"Cw",get:function(){return this.Go}},{key:"tl",get:function(){throw new d("Not implemented yet.")},set:function(t){throw new d("Not implemented yet.")}},{key:"nl",get:function(){throw new d("Not implemented yet.")}},{key:"yd",get:function(){throw new d("Not implemented yet.")}},{key:"Bvt",get:function(){throw new d("Not implemented yet")}},{key:"gd",get:function(){throw new d("Not implemented yet.")}},{key:"Mvt",get:function(){throw new d("Not implemented yet")}},{key:"Lvt",get:function(){throw new d("Not implemented yet")}}]),t}();!function(t){t.Uvt="webkitneedkey",t.Fvt="webkitkeymessage",t.Hvt="webkitkeyerror"}(nU||(nU={}));var oU=function(t){function n(n,i){var r;return(r=t.call(this,nU.Uvt)||this).initData=n,r.sessionId=i,r}return ct(n,t),n}(ei),aU=function(t){function n(n,i){var r;return(r=t.call(this,nU.Fvt)||this).message=n,r.destinationURL=i,r}return ct(n,t),n}(ei),cU=function(t){function n(){return t.call(this,nU.Hvt)||this}return ct(n,t),n}(ei),hU=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).Po=n,s.io=i,s.Vvt=r,s.ra=e,s.Qo=u,s.Uo=new qr,s.Yo=void 0,s.qo=new fi,s.Jo=new qr,s.Xvt=function(t){s.Yo?(s.Yo.Ks(void 0),s.Yo=void 0):s.Xo("internal-error"),s.vs(new oi)},s.qvt=function(t){s.Yo&&(s.Yo.Js(void 0),s.Yo=void 0),s.vs(new si(vt(s),"license-request",Hr(t.message).buffer,t.destinationURL||void 0))},s}ct(n,t);var i=n.prototype;return i.vo=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r){var e;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r&&r.fairplay&&r.fairplay.Ko){t.next=3;break}throw new l("Expected FairPlay contentId to be defined but was "+e+".");case 3:return t.next=5,this.Wvt(Ur(i),e);case 5:this.Xo("usable"),this.Jo.Js(),this.Jo=new qr;case 8:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.do=function(){var t=Ct.coroutine(Nt.mark(function t(n){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i._o=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(i=Ur(n)).byteLength){t.next=3;break}throw new l("Cannot call update with an empty response.");case 3:return this.Yo=new qr,this.Vvt._o(this.ra,i),t.next=7,this.Yo.Zs;case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.fo=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Jo;case 2:return this.Vvt.ys(nU.Fvt,this.qvt),this.Vvt.ys(nU.Hvt,this.Xvt),this.Jo.ss(),this.Uo.Js(void 0),t.abrupt("return",this.Uo.Zs);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.lo=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),i.Wvt=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=ve(n,i,this.Qo),this.Vvt.ls(nU.Fvt,this.qvt),this.Vvt.ls(nU.Hvt,this.Xvt),this.Vvt.mb(this.ra,r);case 4:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Xo=function(t){this.qo.Fs(),this.qo.Us(hi,t),this.vs(new ui(this))},T(n,[{key:"po",get:function(){return this.ra}},{key:"mo",get:function(){return NaN}},{key:"yo",get:function(){return this.Uo.Zs}},{key:"ko",get:function(){return this.qo}}]),n}(ii),fU=function(){function t(t,n,i){this.io=n,this.Po=i,this.zvt=void 0,this.ra=void 0,this.Qo=void 0,this.Vvt=t}var i=t.prototype;return i.bo=function(){var t=Ct.coroutine(Nt.mark(function t(i){var r;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Qo){t.next=2;break}throw new de(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return r=new hU(this.Po,this.io,this.Vvt,this.ra,this.Qo),this.zvt=r,t.abrupt("return",r);case 5:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.To=function(t){return this.Qo=Ur(t),Ct.resolve(!0)},i.Eo=function(){var t=Ct.coroutine(Nt.mark(function t(n){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.webkitSetMediaKeys(this);case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.So=function(){var t=Ct.coroutine(Nt.mark(function t(n){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.webkitSetMediaKeys(null);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.createSession=function(){throw new d("Whoops.")},T(t,[{key:"keySystem",get:function(){return this.io}},{key:"sessionId",set:function(t){this.ra=t}}]),t}(),vU=function(){function t(t,n,i){this.Gvt=t,this.io=n,this.Go=i;var r=re(i)||"video/mp4";this.Po=ee(r)}var n=t.prototype;return n.No=function(){return this.Go},n.Io=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new fU(this.Gvt,this.io,this.Po));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),T(t,[{key:"Co",get:function(){return this.io}}]),t}(),dU=function(){function t(t){this.Gvt=t}return t.prototype.zu=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r,e,u;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<i.length)){t.next=9;break}if(e=i[r],!(u=ie(lU,n,e))){t.next=6;break}return t.abrupt("return",new vU(this.Gvt,n,u));case 6:r++,t.next=1;break;case 9:throw new l("Unsupported key system configuration for "+n);case 10:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),t}();function lU(t,n){return t===en}var _U,wU=function(t){function n(n,i,r){var e;return void 0===r&&(r=new dU(i)),(e=t.call(this)||this).MT=void 0,e.iV=new Dl,e.jvt=!1,e.jo=null,e.Qvt={Gd:0,jd:0,Qd:0,Yd:0,Zd:0,Jd:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},e.Yvt=function(t){"boolean"==typeof t.detail.casting&&(e.jvt=t.detail.casting,e.vs(new Kf(e.jvt)))},e.Zvt=function(t){e.ra=t.sessionId,e.jo&&(e.jo.sessionId=e.ra);var n=t.initData;if(n){var i=UI(n);if(!i)return;e.vs(new ai(Zt,i))}else e.vs(new ai(Zt,new ArrayBuffer(0)))},e.Jvt=n,e.Gvt=i,e.Gvt.ls(nU.Uvt,e.Zvt),e.Uu=r,e.Kvt(),e}ct(n,t);var i=n.prototype;return i.SM=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i,r;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0;case 1:if(!(i<n.length)){t.next=8;break}if((r=n[i]).Cu!==Cw.ZT){t.next=5;break}return t.abrupt("return",r);case 5:i++,t.next=1;break;case 8:return t.abrupt("return",void 0);case 9:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.$u=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Rh();case 2:this.gs(),this.$vt(),this.Gvt.ys(nU.Uvt,this.Zvt);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Dd=function(){throw new d("Not implemented yet")},i.SA=function(t,n,i,r,e,u){throw new d("Not implemented yet")},i.sS=function(){return!1},i.aS=function(t,n,i,r){throw new d("Not implemented yet")},i.CA=function(t){throw new d("Not implemented yet")},i.do=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i=this;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.iV.LA(function(){var t=Ct.coroutine(Nt.mark(function t(r){var e;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.Cu!==Cw.ZT){t.next=7;break}return Hn(r),e=new sU(n,i,i.Uu),i.MT=e,t.abrupt("return",e);case 7:throw new d("Could not create non-static media source");case 8:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.kd=function(){throw new d("Not implemented yet")},i.md=function(){throw new d("Not implemented yet")},i.Rh=function(){var t=this;return this.iV.ss(),this.iV.LA(Ct.coroutine(Nt.mark(function n(){return Nt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0===t.MT){n.next=4;break}return n.next=3,t.MT.$u();case 3:t.MT=void 0;case 4:case"end":return n.stop()}},n)})))},i.qs=function(t,n){throw new d("Not implemented yet")},i.lS=function(t){throw new d("Not implemented yet")},i.Cd=function(){throw new d("Not implemented yet")},i._S=function(){return this.Qvt},i.Kvt=function(){this.Jvt.addEventListener("airPlayIsCasting",this.Yvt)},i.$vt=function(){this.Jvt.removeEventListener("airPlayIsCasting",this.Yvt)},i.webkitSetMediaKeys=function(t){this.jo=t||null,this.jo&&(this.jo.sessionId=this.ra)},i.RX=function(){},i.XU=function(){throw new d("Not implemented yet")},i.qU=function(){throw new d("Not implemented yet")},i.IX=function(t){},T(n,[{key:"Vd",get:function(){throw new d("Not implemented yet")}},{key:"QE",get:function(){throw new d("The mediaElement_ property is deprecated")}},{key:"Hd",get:function(){throw new d("Not implemented yet")}},{key:"Lv",get:function(){throw new d("Not implemented yet")}},{key:"RB",get:function(){throw new d("Not implemented yet")}},{key:"Uv",get:function(){throw new d("Not implemented yet")}},{key:"Fv",get:function(){throw new d("Not implemented yet")}},{key:"Is",get:function(){throw new d("Not implemented yet")}},{key:"Z_",get:function(){throw new d("Not implemented yet")}},{key:"Wd",get:function(){return this.jvt}},{key:"Vv",get:function(){throw new d("Not implemented yet")}},{key:"Xv",get:function(){throw new d("Not implemented yet")}},{key:"qv",get:function(){throw new d("Not implemented yet")}},{key:"$d",get:function(){throw new d("Not implemented yet")}},{key:"$h",get:function(){throw new d("Not implemented yet")}},{key:"nl",get:function(){throw new d("Not implemented yet")}},{key:"Wv",get:function(){throw new d("Not implemented yet")}},{key:"NX",get:function(){throw new d("Not implemented yet")}},{key:"jv",get:function(){throw new d("Not implemented yet")},set:function(t){throw new d("Not implemented yet")}},{key:"wc",get:function(){throw new d("Not implemented yet")}},{key:"hS",get:function(){throw new d("Not implemented yet")}},{key:"webkitKeys",get:function(){return this.jo}},{key:"playbackProperties",get:function(){return nS}},{key:"yd",get:function(){throw new d("Not implemented yet")}},{key:"wS",get:function(){throw new d("Not implemented yet")}},{key:"CX",get:function(){return!0}}]),n}(_a),gU=function(t){function n(n){var i;return(i=t.call(this,ka.tv)||this).Qvt=n,i}return ct(n,t),n}(ei);function yU(t){switch(t.type){case _U.yq:return t.value;case _U.Ivt:return Qo(t.value);case _U.Rvt:return gi(t.value);default:return}}function mU(t){return function(t){return void 0!==t.name&&void 0!==t.message}(t)&&void 0!==t.timestamp&&void 0!==t.code}!function(t){t.yq="daterange-ca-type_string",t.Ivt="daterange-ca-type_number",t.Rvt="daterange-ca-type_arraybuffer"}(_U||(_U={}));var kU=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,e,i,r)||this).bT=n,s.tdt=u,s}return ct(n,t),T(n,[{key:"name",get:function(){return this.bT}},{key:"timestamp",get:function(){return this.tdt}}]),n}(de),pU=function(t){function n(n,i,r,e,u,s,o,a){var c;return(c=t.call(this,n,i,r,e,a)||this).url=u,c.status=s,c.errorComment=o,c}return ct(n,t),n}(kU),AU=function(t){function n(n,i,r,e,u){var s;(s=t.call(this)||this).qB=0,s.jU=!1,s.IE=void 0,s.NE=void 0,s.WB=!0,s.GB=1,s.ndt=new nf([]),s.bU=new nf([]),s.QU=!1,s.cV=new nf([]),s.vF=ga.df,s.tE=ga.df,s.Qvt={Gd:0,jd:0,Qd:0,Yd:0,Zd:0,Jd:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},s.MT=void 0,s.setCurrentTime=function(){var t=Ct.coroutine(Nt.mark(function t(n){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s.nl.length){t.next=4;break}return s.qB=n,t.next=4,s.Jvt.As("seekablechange");case 4:s.qB=s.updateCurrentTime(n),s.Ovt.Dvt("THEOplayerSetCurrentTime",s.qB),s.zB=!0,s.vs(new Sa(s.qB));case 8:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),s.idt=function(t){if(t.detail){for(var n=t.detail.buffered,i=[],r=0;r<n.length;r++){var e=n[r];i.push(e.start,e.end)}s.ndt=new nf(i),s.vs(new cS(s.Lv))}},s.rdt=function(t){s.vF=t.detail.readyState,s.vs(new Aa(+t.detail.currentTime,s.$h)),s.edt()},s.udt=function(t){s.vF=t.detail.readyState,s.vs(new pa(+t.detail.currentTime,s.$h)),s.edt()},s.sdt=function(t){if(t.detail){var n=+t.detail.duration;s.GU=n,s.vs(new Da(s.Uv))}},s.mft=function(t){t.detail&&(s.jU=!0,s.vs(new Ia(+t.detail.currentTime)))},s.DE=function(t){if(t.detail&&t.detail.error&&t.detail.errorObject){var n,i=JSON.parse(t.detail.errorObject);mU(n=i)&&void 0!==n.url&&void 0!==n.status&&void 0!==n.errorComment?(s.NE=new pU(i.name,i.message,void 0,i.code,i.url,i.status,i.errorComment,i.timestamp),s.IE=Ec(s.NE),s.vs(new Va(s.NE))):mU(i)&&(s.NE=new kU(i.name,i.message,void 0,i.code,i.timestamp),s.IE=Ec(s.NE),s.vs(new Va(s.NE)))}},s.kft=function(t){s.vs(new hS)},s.odt=function(t){s.vF=t.detail.readyState,s.vs(new Ra(+t.detail.currentTime,s.$h)),s.edt()},s.adt=function(){var t=Ct.coroutine(Nt.mark(function t(n){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s.nl.length){t.next=3;break}return t.next=3,s.Jvt.As("seekablechange");case 3:s.vF=n.detail.readyState,s.vs(new Oa(+n.detail.currentTime,s.$h)),s.edt();case 6:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),s.vft=function(t){t.detail&&s.vs(new xa(+t.detail.currentTime))},s.dft=function(t){t.detail&&s.vs(new Ba(+t.detail.currentTime))},s.cdt=function(t){if(t.detail){for(var n=t.detail.played,i=[],r=0;r<n.length;r++){var e=n[r];i.push(e.start,e.end)}s.cV=new nf(i).Yy(.05)}},s.qft=function(t){t.detail&&s.vs(new eg(+t.detail.currentTime))},s.wft=function(t){t.detail&&(s.GB=t.detail.playbackRate,s.vs(new Ca(+t.detail.currentTime,s.GB)))},s.hdt=function(t){if(t.detail){for(var n=t.detail.seekable,i=[],r=0;r<n.length;r++){var e=n[r];i.push(e.start,e.end)}s.bU=new nf(i)}},s._ft=function(t){t.detail&&(s.qB=+t.detail.currentTime,s.zB=!1,s.vs(new Na(s.qB,s.fdt)),s.vs(new Ea(s.qB)))},s.lft=function(t){if(t.detail){var n=Number(t.detail.currentTime);n<s.GU&&(s.jU=!1),s.zB=!0,s.vs(new Sa(n))}},s.vdt=function(t){t.detail&&(t.detail.currentDate&&(s.fdt=new Date(1e3*t.detail.currentDate)),s.qB=+t.detail.currentTime,s.vs(new Na(s.qB,s.fdt)))},s.ddt=function(t){s.ldt=t.detail.height,s._dt=t.detail.width},s.wdt=function(t){t.detail&&s.vs(new rg(+t.detail.currentTime))},s.xft=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,enabled:t.detail.enabled};s.wd.Th(new jf(n))},s.gdt=function(t){for(var n,i,r=t.detail.lang,e=t.detail.label,u=0;u<s.fd.Ch;u++){var o=s.wd.bh(u);o.Wh==r&&o.qh==e?i=s.fd.bh(u):1==o.Fh&&(n=s.fd.bh(u))}i&&n&&(i.Fh=!0,n.Fh=!1)},s.Bft=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,selected:t.detail.selected};s.gd.Th(new Jf(n))},s.iG=function(t){var n,i=t.detail.kind,r=t.detail.type;i===cf.n_&&r===qh.ID3?(n=new yI("",t.detail.label)).Kh=ea.Qh:i===cf.n_&&r===qh.DATE_RANGE?(n=new HC,s.ydt=n):n=new hR(i,t.detail.label,t.detail.lang,t.detail.isDefault,r),s.AV.Th(n),s.oX.Th(n)},s.mdt=function(t){for(var n=0,i=t.detail;n<i.length;n++){var r=i[n],e=r.Id3FrameId,u={id:e,text:r.Id3FrameText};"TXXX"!==e&&"TXX"!==e||(u.description=r.Id3FrameDescription);var o=new wI(Qo(r.startTime),u);o.Hh=r.uid;var a=s.kdt();a&&a.NA(o)}},s.pdt=function(t){for(var n=0,i=t.detail;n<i.length;n++){var r=i[n],e=new lv(Qo(r.startTime),Qo(r.endTime),r.content,!1),u=s.Adt();u&&(u.Cu=qh.WEBVTT,u.NA(e))}},s.WE=function(t){t.type===ka.Af&&(s.IE=Ec(t.errorObject)),s.fs(t)},s.bdt=function(t){t.detail&&(s.Qvt.jd=t.detail.corruptedVideoFrames,s.Qvt.Gd=t.detail.droppedVideoFrames,s.vs(new gU(s.zd)))},s.Tdt=function(t){var n=function(t){var n=t.detail,i=[];return n.forEach(function(t){var n={Hh:t.id};if(void 0!==t.startDate&&(n.wS=new Date(t.startDate)),void 0!==t.endDate&&(n.Dj=new Date(t.endDate)),void 0!==t.customAttributes){var r={};for(var e in t.customAttributes){var u=yU(t.customAttributes[e]);void 0!==u&&(r[e]=u)}n.Vj=r}void 0!==t.scte35Cmd&&(n.qj=gi(t.scte35Cmd)),void 0!==t.scte35In&&(n.jj=gi(t.scte35In)),void 0!==t.scte35Out&&(n.zj=gi(t.scte35Out)),void 0!==t.startTime&&(n.qm=t.startTime),n.xj=t.class,n.Uv=Qo(t.duration),n.Lj=Qo(t.plannedDuration),i.push(n)}),i}(t);n.forEach(function(t){var i=null!=t.qm?t.qm:(new Date).getTime(),r=new xC(t,i);s.ydt.NA(r),s.ydt._o(n,i)})};var o=e.uid;s.Ovt=s.getSdkBridge(o),s.Jvt=new rU,JL()[o].sdkEventBus=s.Jvt,s.fd=new Uf,s.vd=new Uf;var a=s.Edt(r);return s.bA=new kL(vt(s)),s.oX=new _I(vt(s)),s.$E=new Tl(s.bA,a),s.AV=new Kd,s.eX=new TI(vt(s)),s.eX.Mh=s.AV,s.uX=new EI(s.bA,s.eX),s.dd=new vR([s.AV,s.$E.P_,s.uX.P_]),s.Gvt=s.getFairPlayControllerBridge(s.Ovt),s.VT=new wU(s.Jvt,s.Gvt),s.ZE=new uU(s.VT,a),s.ZE.ls(hg,s.WE),s.observeMediaElement(),s.KE(),s.US=new eU(s.Ovt,u),s.US.ls("vx",function(){s.Ovt.Dvt("THEOplayerSetPreferredForwardBufferDuration",s.US.hx)}),s}ct(n,t);var i=n.prototype;return i.xd=function(){return Ig},i.Cd=function(){this.Ovt.Dvt("THEOplayerShow",{})},i.Dd=function(){this.Ovt.Dvt("THEOplayerHide",{})},i.Sdt=function(){var t=this;this.Ovt.Dvt("THEOplayerSetInitialPreferredPeakBitRate",this.US.Ax);this.ls("playing",function n(){t.Ovt.Dvt("THEOplayerSetInitialPreferredPeakBitRate",0),t.ys("playing",n)})},i.bd=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r,e,u;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.cft=n,r=Dt(Dt({},i),{sources:{src:n.src,type:Wa.Dv,contentProtection:n.contentProtection,ssai:n.ssai,crossOrigin:n.crossOrigin,hlsDateRange:n.hlsDateRange}}),this.Ovt.Dvt("THEOplayerSourceChange",r),e={Cu:Cw.ZT,if:n.src,tS:n.type,nS:[],iS:n.crossOrigin,rS:i.metadata&&i.metadata.title},t.next=6,this.VT.do(e);case 6:this.MT=t.sent,this.ZE.Eo(this.MT),this.ZE.VA(this.eS(n)),i.textTracks&&(u=i.textTracks.filter(function(t){return t.format!==qh.WEBVTT})).length>0&&this.uS(u),Nl(this.yd),this.Sdt();case 12:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.eS=function(t){if(t.contentProtection&&t.contentProtection.fairplay){return{Ab:t.contentProtection||{},qA:[{Co:on,WA:[],Tb:void 0,Ko:void 0}],QT:[],YT:["video/mp4"]}}},i.md=function(){this.WB=!1,this.vs(new xa(this.Lv)),this.Ovt.Dvt("THEOplayerPlay",{})},i.kd=function(){this.WB=!0,this.vs(new Ba(this.Lv)),this.Ovt.Dvt("THEOplayerPause",{})},i.Od=function(){},i.Rh=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.qB=0,this.jU=!1,this.IE=void 0,this.NE=void 0,this.WB=!0,this.GB=1,this.GU=void 0,this.bU=new nf([]),this.ndt=new nf([]),this.ldt=void 0,this._dt=void 0,this.vF=ga.df,this.tE=ga.df,this.fd.Rh(),this.vd.Rh(),this.AV.Rh(),this.dd.Rh(),t.next=19,this.uX.Rh();case 19:return this.eX.Rh(),t.next=22,this.$E.Rh();case 22:return this.bA.Rh(),this.oX.Rh(),this.cft=void 0,t.next=27,this.VT.Rh();case 27:return t.next=29,this.ZE.Rh();case 29:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Ed=function(){this.Ovt.Dvt("THEOplayerShowAirPlayPicker",{})},i.Sd=function(){this.Ovt.Dvt("THEOplayerStopAirPlayPicker",{})},i.updateMetrics=function(t){this.zd.jd=t.jd,this.zd.Gd=t.Gd},i.Ih=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Rh();case 2:return this.gs(),this.unobserveMediaElement(),this.vS(),t.next=7,this.ZE.Ih();case 7:return t.next=9,this.VT.$u();case 9:return this.fd.Ih(),this.vd.Ih(),this.AV.Ih(),this.dd.Ih(),this.eX.Ih(),t.next=16,this.uX.Ih();case 16:return t.next=18,this.$E.Ih();case 18:this.bA.Ih(),this.oX.Ih();case 20:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.uS=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.$E.EA(i)}},i.edt=function(){var t=this.tE,n=this.vF;t!==n&&(this.tE=n,this.vs(new ma(this.Lv,n)))},i.observeMediaElement=function(){this.VT.ls(ka.yf,this.fs),this.Jvt.addEventListener("play",this.vft),this.Jvt.addEventListener("pause",this.dft),this.Jvt.addEventListener("seeking",this.lft),this.Jvt.addEventListener("seeked",this._ft),this.Jvt.addEventListener("ratechange",this.wft),this.Jvt.addEventListener("durationchange",this.sdt),this.Jvt.addEventListener("timeupdate",this.vdt),this.Jvt.addEventListener("waiting",this.wdt),this.Jvt.addEventListener("playing",this.qft),this.Jvt.addEventListener("ended",this.mft),this.Jvt.addEventListener("loadedmetadata",this.adt),this.Jvt.addEventListener("loadeddata",this.odt),this.Jvt.addEventListener("loadstart",this.kft),this.Jvt.addEventListener("canplay",this.rdt),this.Jvt.addEventListener("canplaythrough",this.udt),this.Jvt.addEventListener("error",this.DE),this.Jvt.addEventListener("seekablechange",this.hdt),this.Jvt.addEventListener("videosizechange",this.ddt),this.Jvt.addEventListener("bufferedchange",this.idt),this.Jvt.addEventListener("playedchange",this.cdt),this.Jvt.addEventListener("metricschange",this.bdt),this.Jvt.addEventListener("addDateRangeCues",this.Tdt)},i.unobserveMediaElement=function(){this.VT.ys(ka.yf,this.fs),this.Jvt.removeEventListener("play",this.vft),this.Jvt.removeEventListener("pause",this.dft),this.Jvt.removeEventListener("seeking",this.lft),this.Jvt.removeEventListener("seeked",this._ft),this.Jvt.removeEventListener("ratechange",this.wft),this.Jvt.removeEventListener("durationchange",this.sdt),this.Jvt.removeEventListener("timeupdate",this.vdt),this.Jvt.removeEventListener("waiting",this.wdt),this.Jvt.removeEventListener("playing",this.qft),this.Jvt.removeEventListener("ended",this.mft),this.Jvt.removeEventListener("loadedmetadata",this.adt),this.Jvt.removeEventListener("loadeddata",this.odt),this.Jvt.removeEventListener("loadstart",this.kft),this.Jvt.removeEventListener("canplay",this.rdt),this.Jvt.removeEventListener("canplaythrough",this.udt),this.Jvt.removeEventListener("error",this.DE),this.Jvt.removeEventListener("seekablechange",this.hdt),this.Jvt.removeEventListener("videosizechange",this.ddt),this.Jvt.removeEventListener("bufferedchange",this.idt),this.Jvt.removeEventListener("playedchange",this.cdt),this.Jvt.removeEventListener("metricschange",this.bdt),this.Jvt.removeEventListener("addDateRangeCues",this.Tdt)},i.updateCurrentTime=function(t){var n=this.nl.start(0),i=this.nl.end(0);return w.min(w.max(t,n),i)},i.kdt=function(){for(var t=0,n=this.dd.Nh;t<n.length;t++){var i=n[t];if(i.Xh===cf.n_&&i.Cu===qh.ID3)return i}},i.Adt=function(){for(var t=0,n=this.dd.Nh;t<n.length;t++){var i=n[t];if(i.Kh===ea.Yh)return i}},i.KE=function(){this.Jvt.addEventListener("addaudiotrack",this.xft),this.Jvt.addEventListener("enableaudiotrack",this.gdt),this.Jvt.addEventListener("addvideotrack",this.Bft),this.Jvt.addEventListener("addtexttrack",this.iG),this.Jvt.addEventListener("addtexttrackid3cues",this.mdt),this.Jvt.addEventListener("addtexttrackcues",this.pdt)},i.vS=function(){this.Jvt.removeEventListener("addaudiotrack",this.xft),this.Jvt.removeEventListener("enableaudiotrack",this.gdt),this.Jvt.removeEventListener("addvideotrack",this.Bft),this.Jvt.removeEventListener("addtexttrack",this.iG),this.Jvt.removeEventListener("addtexttrackid3cues",this.mdt),this.Jvt.removeEventListener("addtexttrackcues",this.pdt)},i.Fd=function(){},T(n,[{key:"wd",get:function(){return this.fd}},{key:"Hd",get:function(){return this.ndt.By()}},{key:"Vd",get:function(){return this.fdt?this.fdt:null},set:function(t){this.Ovt.Dvt("THEOplayerSetCurrentProgramDateTime",t.getTime()),this.fdt=t}},{key:"Lv",get:function(){return this.qB},set:function(t){this.setCurrentTime(t)}},{key:"Uv",get:function(){return this.GU}},{key:"Fv",get:function(){return this.jU}},{key:"Is",get:function(){return this.IE}},{key:"Hv",get:function(){return this.NE}},{key:"qd",get:function(){}},{key:"Wd",get:function(){return this.VT.Wd}},{key:"zd",get:function(){return this.Qvt}},{key:"Vv",get:function(){return this.QU},set:function(t){this.QU!==t&&(this.Ovt.Dvt("THEOplayerSetMuted",t),this.QU=t,this.vs(new Ta(this.Lv,t?0:1)))}},{key:"Xv",get:function(){return this.WB}},{key:"qv",get:function(){return this.GB},set:function(t){this.Ovt.Dvt("THEOplayerSetPlaybackRate",t),this.GB=t}},{key:"$d",get:function(){return this.cV.By()}},{key:"tl",get:function(){return pg.xS},set:function(t){}},{key:"$h",get:function(){return this.vF}},{key:"nl",get:function(){return this.bU.By()}},{key:"Wv",get:function(){return this.zB}},{key:"wS",get:function(){}},{key:"yd",get:function(){return this.dd}},{key:"zv",get:function(){return this.ldt}},{key:"Gv",get:function(){return this._dt}},{key:"jv",get:function(){return 1},set:function(t){}},{key:"gd",get:function(){return this.vd}},{key:"Kd",get:function(){return!0}}]),n}(_a),bU=function(){function t(){this.gS=og.SE}return t.prototype.yS=function(n,i){if(i.vr&&i.vr[360])return!1;if($a(n.type))return!1;var r=n.contentProtection;if(r&&!gh(r)){if(!kh(r))return!1;if(!t.Wft(r))return!1}return!0},t.Wft=function(t){return Boolean(t.fairplay)||Boolean(t.aes128)},t}(),TU=function(){function t(){this.Rdt=u.webkit}return t.prototype.Dvt=function(t,n){this.Rdt.messageHandlers[t]&&this.Rdt.messageHandlers[t].postMessage(n)},t}(),EU=function(t){function n(n){var i;return(i=t.call(this)||this).Idt=function(t){var n=gi(t.detail.initData),r=t.detail.sessionId;i.vs(new oU(n,r))},i.Ndt=function(t){var n=new k(Ti(t.detail.message)),r=t.detail.destinationURL;i.vs(new aU(n,r))},i.Cdt=function(t){i.vs(new cU)},i.Ovt=n,i.Jvt=new rU,JL().fairplayController={sdkEventBus:i.Jvt},i.AZ(),i}ct(n,t);var i=n.prototype;return i.AZ=function(){this.Jvt.addEventListener(nU.Uvt,this.Idt),this.Jvt.addEventListener(nU.Fvt,this.Ndt),this.Jvt.addEventListener(nU.Hvt,this.Cdt)},i.mb=function(t,n){var i={data:Ei(n.buffer),sessionId:t};this.Ovt.Dvt("THEOplayerCreateKeySession",i)},i._o=function(t,n){var i={data:Ei(n.buffer),sessionId:t};this.Ovt.Dvt("THEOplayerUpdateKey",i)},n}(_a),SU=function(t){function n(n,i,r,e,u,s){var o;o=t.call(this,n,i,r,e,u)||this;var a=i.GE(Jh.Kl);return o.wG=new WI,o.wG.IX(n),o.gG=new oC(o.wG.Xd,a.RB,o.yd,s,a.hS),i.dS(a),Xt.document.querySelector(".vjs-tech")?Xt.document.querySelector(".player-div").classList.add("theo-ios-sdk"):Xt.document.querySelector(".player-div").style.background="transparent",o}ct(n,t);var i=n.prototype;return i.Cd=function(){t.prototype.Cd.call(this),this.wG.Cd()},i.Dd=function(){t.prototype.Dd.call(this),this.wG.Dd()},i.Td=function(){return!0},i.getSdkBridge=function(){return new TU},i.getFairPlayControllerBridge=function(){return IU},i.Edt=function(t){return t},i.Ih=function(){var n=Ct.coroutine(Nt.mark(function n(){return Nt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Xt.document.querySelector(".vjs-tech")?Xt.document.querySelector(".player-div").classList.remove("theo-ios-sdk"):Xt.document.querySelector(".player-div").style.background="#000000",n.next=3,t.prototype.Ih.call(this);case 3:this.gG.Ih(),this.wG.Ih();case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),n}(AU);gg(new(function(t){function n(){return t.apply(this,arguments)||this}ct(n,t);var i=n.prototype;return i.fl=function(t,n,i,r,e,u){return new SU(t,n,i,r,e,u)},i.yS=function(n,i){if(n.type){var r=xe();if(!(r&&r.canPlayType&&r.canPlayType(n.type)))return!1}return t.prototype.yS.call(this,n,i)},n}(bU)));var RU,IU=new EU(new TU),NU=function(t){function n(){return t.call(this,"Ddt")||this}return ct(n,t),n.prototype.Kc=function(){return new CU},n}(Io),CU=function(t){function n(){return t.call(this,"statechange")||this}return ct(n,t),n}(ei);!function(t){t.IDLE="idle",t.LOADING="loading",t.DONE="done",t.ERROR="error",t.EVICTED="evicted"}(RU||(RU={}));var DU=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Odt=new _a,n.fs=function(t){n.vs(t)},n}ct(n,t);var i=n.prototype;return i.Kc=function(){return n=OU(t=this),i=new qT(t,n),n.addEventListener=function(t,n){i.ls(t,n)},n.removeEventListener=function(t,n){i.ys(t,n)},n;var t,n,i},i.ls=function(t,n){this.Odt.ls(t,n)},i.ef=function(t){this.Odt.ef(t)},i.gs=function(){this.Odt.gs()},i.vs=function(t){this.Odt.vs(t)},i.ys=function(t,n){this.Odt.ys(t,n)},i.ps=function(t){this.Odt.ps(t)},i.uf=function(t){this.Odt.uf(t)},i.As=function(t,n){return this.Odt.As(t,n)},n}(function(){function t(){this.Ps=[],this.Zc=void 0}var n=t.prototype;return n.Kc=function(){return OU(this)},n.bh=function(t){return this.Ps[t]},n.Wa=function(t){this.Ps.push(t),this.Zc&&this.Zc.push(t.Jc),this.xdt(t)},n.Pdt=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.Wa(i)}},n.Bdt=function(t,n){n>=0&&n<=this.Ps.length&&(this.Ps.splice(n,0,t),this.Zc&&this.Zc.splice(n,0,t.Jc),this.xdt(t))},n.Rm=function(t){return Dn(this.Ps,t)},n.lo=function(t){this.Mdt(this.Ps.indexOf(t))},n.Mdt=function(t){if(t>=0&&t<this.Ps.length){var n=this.Ps[t];Cn(this.Ps,t),this.Zc&&Cn(this.Zc,t),this.Ldt(n)}},n.Fs=function(){var t=this.Ps.slice();xn(this.Ps),this.Zc&&xn(this.Zc);for(var n=0;n<t.length;n++){var i=t[n];this.Ldt(i)}},T(t,[{key:"Udt",get:function(){return this.Ps}},{key:"Ch",get:function(){return this.Ps.length}},{key:"Jc",get:function(){return this.Zc||(this.Zc=this.Kc()),this.Zc}}]),t}());function OU(t){var n=t.Udt.map(function(t){return t.Jc});return n.item=function(n){n|=0;var i=t.bh(n);return i&&i.Jc||void 0},n}var xU,PU=function(t){function n(n){var i;return(i=t.call(this,"addtask")||this).task=n,i}return ct(n,t),n}(ei),BU=function(t){function n(n){var i;return(i=t.call(this,"Hdt")||this).Fdt=n,i}return ct(n,t),n.prototype.Kc=function(){return new PU(this.Fdt.Jc)},n}(Io),MU=function(t){function n(n){var i;return(i=t.call(this,"removetask")||this).task=n,i}return ct(n,t),n}(ei),LU=function(t){function n(n){var i;return(i=t.call(this,"Vdt")||this).task=n,i}return ct(n,t),n.prototype.Kc=function(){return new MU(this.task.Jc)},n}(Io),UU=function(t){function n(){return t.call(this)||this}ct(n,t);var i=n.prototype;return i.xdt=function(t){this.vs(new BU(t))},i.Ldt=function(t){this.vs(new LU(t))},n}(DU);!function(t){t.UNINITIALISED="uninitialised",t.INITIALISED="initialised"}(xU||(xU={}));var FU=function(t){function n(n,i){var r;return(r=t.call(this)||this).Xdt=xU.UNINITIALISED,r.OA=new UU,r.qdt=i,r.I6=n,r.Rd(),r}ct(n,t);var i=n.prototype;return i.Rd=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Wdt();case 2:this.zdt(xU.INITIALISED);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Wdt=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.Gdt();case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0);case 8:case"end":return t.stop()}},t,this,[[0,5]])}));return function(){return t.apply(this,arguments)}}(),i.Gdt=function(){var t=Ct.coroutine(Nt.mark(function t(){var n,i,r,e;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.I6.tK();case 2:for(n=t.sent,i=0;i<n.length;i++)r=n[i],e=this.qdt.jdt(r.id,r.sourceDescription,r.parameters),this.Qdt(e),this.OA.Wa(e);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.zdt=function(t){this.Xdt=t,this.vs(new NU)},i.jdt=function(t,n){var i=this.qdt.Ydt(t,n);return this.Zdt(i),this.OA.Wa(i),this.Qdt(i),i},i.Zdt=function(){var t=Ct.coroutine(Nt.mark(function t(n){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.Jdt(n);case 3:t.next=8;break;case 5:throw t.prev=5,t.t0=t.catch(0),d("Unable to persist task - "+t.t0);case 8:case"end":return t.stop()}},t,this,[[0,5]])}));return function(n){return t.apply(this,arguments)}}(),i.Jdt=function(){var t=Ct.coroutine(Nt.mark(function t(n){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.I6.JJ({key:n.Hh,id:n.Hh,sourceDescription:n.CS,parameters:n.xp});case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Qdt=function(t){var n=this;t.ls("Ddt",function(){t.pA===RU.EVICTED&&n.OA.lo(t)})},T(n,[{key:"pA",get:function(){return this.Xdt}},{key:"Kdt",get:function(){return this.OA}}]),n}(ii);function HU(t,n){return function(t,n){var i=t.wc&&n.wc,r=t.Z_&&n.Z_;return i||r?i&&r?t.wc*t.Z_-n.wc*n.Z_:i?t.wc-n.wc:r?t.Z_-n.Z_:(t.wc||1)*(t.Z_||1)-(n.wc||1)*(n.Z_||1):0}(t,n)||function(t,n){return t.lD-n.lD}(t,n)}var VU=function(t){function n(){return t.call(this,"progress")||this}return ct(n,t),n}(ei),XU=function(t){function n(){return t.call(this,"TJ")||this}return ct(n,t),n.prototype.Kc=function(){return new VU},n}(Io),qU=function(){function t(t,n,i){if(this.$dt=t,this.Sm=n,this.tlt=i,0===this.Sm.size)this.nlt=nf.lm();else{var r=new nf([-1/0,1/0]);this.Sm.forEach(function(t){r=r.Wy(t.timeRanges)}),this.nlt=r}}return t.prototype.Ja=function(t){return!!Wo(this.Sm,t.Sm)&&(!!Ys(this.$dt,t.$dt)&&(!!Ys(this.fm,t.fm)&&(!!Ys(this.ilt,t.ilt)&&this.rlt.um(t.rlt))))},t.elt=function(){return zU},T(t,[{key:"fm",get:function(){return this.tlt}},{key:"ult",get:function(){return this.$dt}},{key:"ilt",get:function(){return this.rlt.fm}},{key:"slt",get:function(){var t=0,n=0;return this.Sm.forEach(function(i){t+=i.timeRanges.fm,n+=i.totalQualityDurationToCache}),0===n?0:w.min(1,t/n)}},{key:"rlt",get:function(){return this.nlt}}]),t}(),WU=xt(),zU=new qU(0,WU,NaN);function GU(t,n){if(X(t)){if(vn(t,"%"))return y(t)/100*n;throw new d("Unexpected - Invalid string supplied as amount to cache.")}return n<t?n:t}var jU,QU=function(t){function n(n,i){return t.call(this,n,i)||this}return ct(n,t),T(n,[{key:"name",get:function(){return"olt"}}]),n}(lt);function YU(t,n,i,r){var e,u=[],s=Rn(i,function(t){return t.clt===jt});if(s){for(var o=0;o<i.length;o++){var a=i[o];if(a.clt!==jt)for(var c=0,h=hn(a.clt);c<h.length;c++){var f=h[c];u.push({Co:f,WA:a.hlt?[a.hlt]:[],Tb:null!==(e=a.Tb)&&void 0!==e?e:s.Tb,Ko:void 0})}}if(u.length)return{Ab:t,qA:u,QT:n===Jh.$l?r.slice():[],YT:n===Jh.Kl?r.slice():[]}}}function ZU(t,n){if(!t)return n;if(!n)return t;var i=[],r=xt();return JU(i,r,t.qA),JU(i,r,n.qA),{Ab:t.Ab,qA:i,QT:KU(t.QT,n.QT,Dn),YT:KU(t.YT,n.YT,Dn)}}function JU(t,n,i){for(var r=0;r<i.length;r++){var e=i[r],u=e.Co.Pu,s=void 0;n.has(u)?(s=n.get(u)).WA=KU(s.WA,e.WA,$U):(s=Dt({},e),t.push(s),n.set(u,s))}}function KU(t,n,i){for(var r=t.slice(),e=0;e<n.length;e++){var u=n[e];i(r,u)||r.push(u)}return r}function $U(t,n){for(var i=0;i<t.length;i++){if(Ai(t[i],n))return!0}return!1}function tF(t,n){var i,r=t.flt;if(r){for(var e=t.ZR,u=[],s=0,o=t.IY;s<o.length;s++){var a=o[s];u.push(e+'; codecs="'+a+'"')}i=YU(n||{},t.Cu,r,u)}for(var c=0,h=t.vlt;c<h.length;c++){i=ZU(i,nF(h[c],n))}return i}function nF(t,n){return YU(n||{},t.Cu,t.flt||[],[t.tS])}function iF(t,n,i){return rF.apply(this,arguments)}function rF(){return(rF=Ct.coroutine(Nt.mark(function t(n,i,r){var e,u,s,o,a;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=[],u=0,s=n.dlt;u<s.length;u++)o=s[u],e.push(eF(o,i,r));return t.next=4,Ct.all(e);case 4:return a=t.sent,t.abrupt("return",{Uv:n._lt.llt.nc,wlt:[n.glt],dlt:a});case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function eF(t,n,i){return uF.apply(this,arguments)}function uF(){return(uF=Ct.coroutine(Nt.mark(function t(n,i,r){var e,u,s,o,a;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=[],u=0,s=n.ylt;u<s.length;u++)o=s[u],e.push(sF(o,i,r));return t.next=4,Ct.all(e);case 4:return a=t.sent,t.abrupt("return",{mlt:a});case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function sF(t,n,i){return oF.apply(this,arguments)}function oF(){return(oF=Ct.coroutine(Nt.mark(function t(n,i,r){var e,u,s,o,a;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=[],u=0,s=n.klt;u<s.length;u++)aF(o=s[u])||e.push(vF(o,i,r));return t.next=4,Ct.all(e);case 4:return a=t.sent,t.abrupt("return",{P_:a,Cu:n.Cu});case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function aF(t){return t.vlt.every(fF)}!function(t){t[t.Cv=0]="Cv",t[t.Dv=1]="Dv"}(jU||(jU={}));var cF,hF=1;function fF(t){return t.plt!==hF&&Boolean(t.plt)}function vF(t,n,i){return dF.apply(this,arguments)}function dF(){return(dF=Ct.coroutine(Nt.mark(function t(n,i,r){var e,u,s,o,a,c,h,f,v;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=[],u=0,s=n.vlt;u<s.length;u++)fF(o=s[u])||e.push(_F(o,r));return t.next=4,Ct.all(e);case 4:return a=t.sent,c=n.IY[0],h=n.flt,f=h?lF(c,h):void 0,v=tF(n,i),t.abrupt("return",{zh:a,Wh:n.Alt,Cu:n.Cu,nS:f,blt:v});case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function lF(t,n){for(var i=[],r=function(t){return t?vn(t,"avc")?Nd.VIDEO_H264:vn(t,"hev")||vn(t,"hvc")||vn(t,"hvt")||vn(t,"lhv")||vn(t,"lhe")||vn(t,"lht")?Nd.VIDEO_H265:vn(t,"mp4")?Nd.VIDEO_MP4:vn(t,"mpeg2")?Nd.VIDEO_MPEG2:vn(t,"mpeg")?Nd.VIDEO_MPEG:Nd.VIDEO_UNKNOWN:Nd.VIDEO_UNKNOWN}(t),e=0;e<n.length;e++){var u=n[e],s=u.clt.split(":").pop(),o=u.hlt;i.push({mimeType:r,uuid:s,data:o})}return{type:jU.Cv,schemeType:Qt,schemeDatas:i}}function _F(t,n){return wF.apply(this,arguments)}function wF(){return(wF=Ct.coroutine(Nt.mark(function t(n,i){var r,e;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,gF(n,i);case 2:r=t.sent,e={Hh:kF(n),Ig:r,K5:n.r6,lD:n.lD,lc:n.lc,Z_:n.Z_,Cu:n.Cu,wc:n.wc},t.t0=n.Cu,t.next=t.t0===Jh.yn?7:t.t0===Jh.Kl?8:t.t0===Jh.$l?10:12;break;case 7:return t.abrupt("break",13);case 8:return e.uJ=n.uJ?n.uJ.nc:NaN,t.abrupt("break",13);case 10:return e.audioSamplingRate=n.Wht,t.abrupt("break",13);case 12:0;case 13:return t.abrupt("return",e);case 14:case"end":return t.stop()}},t)}))).apply(this,arguments)}function gF(t,n){return yF.apply(this,arguments)}function yF(){return(yF=Ct.coroutine(Nt.mark(function t(n,i){var r,e,u,s,o,a,c,h;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],e=n.Tlt,u=e.Elt(),s=u;case 4:if(!s){t.next=16;break}if(!e.Slt(s.G3)){t.next=12;break}return t.next=8,n.Rlt(s,i,(new Ln).cs);case 8:for(o=t.sent,a=0;a<o.Ch;a++)r.push(mF(o.Ilt(a),n));t.next=13;break;case 12:r.push(mF(s,n));case 13:s=e.Rat(s),t.next=4;break;case 16:return c=e.Nlt(),h=c.Wm.Ka(u.qm).Mk(),t.abrupt("return",{Uv:h,uK:r});case 19:case"end":return t.stop()}},t)}))).apply(this,arguments)}function mF(t,n){return{qm:t.qm.Mk(),Uv:t.Uv.Mk(),Clt:n.Dlt(t)}}function kF(t){return t.Olt.Ry.nc+"-"+(""+t.Hh)}function pF(t,n){return function(t,n){var i={};for(var r in t){var e=t[r];for(var u in i[r]={},e){var s=[];i[r][u]=[];for(var o=e[u],a=0;a<o.length;a++){var c=o[a],h=AF(c,r,n);s.push(h)}i[r][u]=s}}return i}(function(t){var n=function(t){for(var n={},i=0;i<t.length;i++){var r=t[i];n[r["group-id"]]||(n[r["group-id"]]={Cu:r.type,q_:[]}),n[r["group-id"]].q_.push(r)}return n}(t),i={};for(var r in n)for(var e=n[r],u=0,s=e.q_;u<s.length;u++){var o=s[u];i[e.Cu]||(i[e.Cu]={}),i[e.Cu][o.name]||(i[e.Cu][o.name]=[]),i[e.Cu][o.name].push(o)}return i}(t),n)}function AF(t,n,i){for(var r=t["group-id"],e={lY:t,xZ:[]},u=0;u<i.length;u++){var s=i[u];s[n.toLowerCase()]===r&&e.xZ.push(s)}return e}function bF(t,n){return TF.apply(this,arguments)}function TF(){return(TF=Ct.coroutine(Nt.mark(function t(n,i){var r,e;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.T6([n],{});case 2:return r=t.sent,e=new mP,t.abrupt("return",e.E_(r.l6,r.kA,IP(r.kA)));case 5:case"end":return t.stop()}},t)}))).apply(this,arguments)}function EF(t,n){return SF.apply(this,arguments)}function SF(){return(SF=Ct.coroutine(Nt.mark(function t(n,i){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.isMasterPlaylist){t.next=4;break}return t.abrupt("return",RF(n,i));case 4:return t.abrupt("return",(e=void 0,e=VF(r=n),{Uv:r.duration,wlt:[r.uri],dlt:[{mlt:[{P_:[{zh:[{Hh:r.uri,Ig:e,lD:0,lc:"",Z_:0,Cu:null,wc:0}]}]}]}]}));case 5:case"end":return t.stop()}var r,e},t)}))).apply(this,arguments)}function RF(t,n){return IF.apply(this,arguments)}function IF(){return(IF=Ct.coroutine(Nt.mark(function t(n,i){var r,e,u;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=pF(n.media,n.streams),t.next=3,OF(r,i);case 3:return e=t.sent,t.next=6,CF(n.streams,i);case 6:return u=t.sent,e.push(u),t.abrupt("return",{Uv:NF(e),wlt:[n.uri],dlt:[{mlt:e}]});case 9:case"end":return t.stop()}},t)}))).apply(this,arguments)}function NF(t){for(var n=-1/0,i=0;i<t.length;i++)for(var r=0,e=t[i].P_;r<e.length;r++){var u=e[r];n=w.max.apply(w,[n].concat(u.zh.map(function(t){return t.Ig.Uv})))}return n}function CF(t,n){return DF.apply(this,arguments)}function DF(){return(DF=Ct.coroutine(Nt.mark(function t(n,i){var r,e,u,s;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],e=0;case 2:if(!(e<n.length)){t.next=15;break}return u=n[e],t.next=6,FF(u.uri,i);case 6:(s=t.sent).lD=u.bandwidth,s.lc=u.codecs,s.Z_=u.resolution&&u.resolution.height,s.wc=u.resolution&&u.resolution.width,r.push(s);case 12:e++,t.next=2;break;case 15:return t.abrupt("return",{P_:[{zh:r}]});case 16:case"end":return t.stop()}},t)}))).apply(this,arguments)}function OF(t,n){return xF.apply(this,arguments)}function xF(){return(xF=Ct.coroutine(Nt.mark(function t(n,i){var r,e,u,s;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],t.t0=Nt.keys(n);case 2:if((t.t1=t.t0()).done){t.next=11;break}return e=t.t1.value,u=n[e],t.next=7,PF(u,i);case 7:s=t.sent,r.push(s),t.next=2;break;case 11:return t.abrupt("return",r);case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function PF(t,n){return BF.apply(this,arguments)}function BF(){return(BF=Ct.coroutine(Nt.mark(function t(n,i){var r,e,u,s;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],t.t0=Nt.keys(n);case 2:if((t.t1=t.t0()).done){t.next=11;break}return e=t.t1.value,u=n[e],t.next=7,MF(u,i);case 7:s=t.sent,r.push(s),t.next=2;break;case 11:return t.abrupt("return",{P_:r});case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function MF(t,n){return LF.apply(this,arguments)}function LF(){return(LF=Ct.coroutine(Nt.mark(function t(n,i){var r,e,u,s;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],e=0;case 2:if(!(e<n.length)){t.next=11;break}return u=n[e],t.next=6,UF(u,i);case 6:s=t.sent,r.push(s);case 8:e++,t.next=2;break;case 11:return t.abrupt("return",{zh:r});case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function UF(t,n){var i,r,e;return FF((r=(i=t).lY.uri,e=i.xZ.map(function(t){return t.uri}),r||(e.length?e[0]:null)),n)}function FF(t,n){return HF.apply(this,arguments)}function HF(){return(HF=Ct.coroutine(Nt.mark(function t(n,i){var r,e;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,bF(n,i);case 2:return r=t.sent,e=VF(r),t.abrupt("return",{Hh:n,xlt:n,Ig:e,lD:0,lc:"",Z_:0,Cu:null,wc:0});case 5:case"end":return t.stop()}},t)}))).apply(this,arguments)}function VF(t){for(var n=[],i=0,r=t.fragments;i<r.length;i++){var e=r[i];n.push(XF(e))}return{Uv:t.duration,uK:n}}function XF(t){return{qm:t.start,Uv:t.duration,Clt:qF(t.uri)}}function qF(t){return XC(t)?{rA:t.Kj,$j:[t.$j.Ry,t.$j.Ny],fA:!1}:{rA:t.toString(),fA:!1}}!function(t){t.ZT="static",t.JT="dynamic"}(cF||(cF={}));var WF,zF=function(){function t(t){var n=t.match(/P(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)W)?(?:(\d+)D)?(?:T(?:(\d+)H)?(?:(\d+)M)?(?:(\d*\.?\d*)S)?)?/);if(!n)throw new d("The given value could not be parsed as a valid DateTimeInterval");this.Plt=y(n[1])||0,this.Blt=y(n[2])||0,this.Mlt=y(n[3])||0,this.Llt=y(n[4])||0,this.Ult=y(n[5])||0,this.Flt=y(n[6])||0,this.Hlt=y(n[7])||0}return t.prototype.Vlt=function(){var t=new Date,n=new Date(t.getTime());return n.setUTCFullYear(n.getUTCFullYear()+this.Xlt),n.setUTCMonth(n.getUTCMonth()+this.qlt),n.setUTCDate(n.getUTCDate()+7*this.Wlt),n.setUTCDate(n.getUTCDate()+this.zlt),n.setUTCHours(n.getUTCHours()+this.Glt),n.setUTCMinutes(n.getUTCMinutes()+this.jlt),n.setUTCMilliseconds(n.getUTCMilliseconds()+1e3*this.Qlt),n.getTime()-t.getTime()},T(t,[{key:"Xlt",get:function(){return this.Plt}},{key:"qlt",get:function(){return this.Blt}},{key:"Wlt",get:function(){return this.Mlt}},{key:"zlt",get:function(){return this.Llt}},{key:"Glt",get:function(){return this.Ult}},{key:"jlt",get:function(){return this.Flt}},{key:"Qlt",get:function(){return this.Hlt}},{key:"llt",get:function(){return new no(this.Vlt(),1e3)}},{key:"K$",get:function(){return Dv.Sk(this.Vlt(),1e3)}}]),t}();!function(t){t.Ylt="progressive",t.Zlt="interlaced",t.Ty="unknown"}(WF||(WF={}));var GF=/^(?:true|false)$/i,jF=/^(-?)(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(?:Z|([+-])(\d{2}):(\d{2}))?$/;function QF(t){if(void 0!==t)return new zF(t)}function YF(t){if(void 0!==t){var n=t.match(jF);if(!n)throw new d("The given value could not be parsed as a valid Date");var i=n[1],r=n[2],e=n[3],u=n[4],s=n[5],o=n[6],a=n[7],c=n[8],h=n[9],f=n[10],v=n[11],l=("-"===i?-1:1)*Number(r),_=Number(e)-1,g=Number(u),y=Number(s),k=Number(o),p=Number(a),A=Number("0."+(c||"")),b=w.round(1e3*A);if(h)k-=("-"===h?-1:1)*(60*Number(f)+Number(v));var T=new Date(Date.UTC(l,_,g,y,k,p,b));if(m(T.getTime()))throw new d("The given value could not be parsed as a valid Date");return T}}function ZF(t){if(t){var n=/(\d+)-(\d+)/.exec(t);if(n)return[KF(n[1]),KF(n[2])]}}function JF(t){if(void 0!==t){if(!m(Number(t)))try{return $i.fromString(t,!0)}catch(t){}throw new d("The given value could not be parsed as a valid unsigned long")}}function KF(t){if(void 0!==t){var n=Number(t);if(!m(n))return n;throw new d("The given value could not be parsed as a valid Number")}}function $F(t){if(void 0!==t){var n=t.split("/"),i=Number(n[0]),r=Number(n[1]||1);if(!m(i)&&!m(r))return new no(i,r);throw new d("The given value could not be parsed as a valid frame rate")}}function tH(t){if(void 0!==t){if(GF.test(t))return"true"===t.toLowerCase();if(!m(g(t)))return Boolean(g(t));throw new d("The given value could not be parsed as a valid Boolean.")}}function nH(t){return{rA:t.jn,Jlt:tH(t.Hn("availabilityTimeComplete")),Klt:KF(t.Hn("availabilityTimeOffset"))}}function iH(t){return t.map(nH)}function rH(t){var n,i,r,e,u,s=lH(t),o=(i="default_KID",r="urn:mpeg:cenc:2013",e="cenc",void 0===(u=(n=t).Vn(r,i))&&(u=n.Hn(e+":"+i)),u),a=function(t){if(t)return Ti(t.jn)}(function(t,n,i,r){var e=t.Mn(i,n);return 0===e.length&&(e=t.xn(r+":"+n)),e}(t,"pssh","urn:mpeg:cenc:2013","cenc")[0]),c=t.Mn("urn:microsoft:playready","pro"),h=c.length>0?function(t){var n=gi(t.jn),i=new k([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),r=n.length,e=12+i.length+4+r,u=new ArrayBuffer(e),s=new k(u),o=new DataView(u),a=new Vr;lr(o,a,e),lr(o,a,1886614376),lr(o,a,0),ar(o,a,i),lr(o,a,r),ar(o,a,n),0;return s.buffer}(c[0]):void 0;return{Tb:o,hlt:null!=a?a:h,clt:s.clt,Cn:s.Cn}}function eH(t){return{$lt:t.Hn("sourceURL"),$j:ZF(t.Hn("range"))}}function uH(t,n){var i=JF(t.Hn("d")),r=JF(t.Hn("t")),e=KF(t.Hn("r"));n.push({Uv:i,qm:r,t_t:e})}function sH(t){return{G3:t.Hn("index"),n_t:ZF(t.Hn("indexRange")),q_:t.Hn("media"),i_t:ZF(t.Hn("mediaRange"))}}function oH(t){var n,i,r=hH(t),e=(n=t.xn("SegmentURL"),(i=n.map(sH)).length>0?i:void 0),u=t.Hn("xlink:href"),s=t.Hn("xlink:actuate");return Dt(Dt({},r),{r_t:e,e_t:u,u_t:s})}function aH(t){var n=t.map(oH);return n.length>0?n:void 0}function cH(t){var n=tH(t.Hn("availabilityTimeComplete")),i=KF(t.Hn("availabilityTimeOffset")),r=ZF(t.Hn("indexRange")),e=tH(t.Hn("indexRangeExact")),u=t.xn("Initialization");if(u.length>1)throw new d("The provided MPEG-DASH document's "+t.Bn+" element can not have more than one Initialization element.");var s=1===u.length?eH(u[0]):void 0,o=JF(t.Hn("presentationTimeOffset")),a=t.xn("RepresentationIndex");if(a.length>1)throw new d("The provided MPEG-DASH document's "+t.Bn+" element can not have more than one RepresentationIndex element.");return{Jlt:n,Klt:i,n_t:r,s_t:e,o_t:s,a_t:o,c_t:1===a.length?eH(a[0]):void 0,h_t:QF(t.Hn("timeShiftBufferDepth")),La:KF(t.Hn("timescale"))}}function hH(t){var n=cH(t),i=t.xn("BitstreamSwitching"),r=i.length>0?eH(i[0]):void 0,e=KF(t.Hn("duration")),u=t.xn("SegmentTimeline");if(u.length>1)throw new d("The provided MPEG-DASH document's "+t.Bn+" element can not have more than one SegmentTimeline element.");var s=1===u.length?function(t){for(var n=[],i=t.xn("S"),r=0;r<i.length;r++)uH(i[r],n);return n}(u[0]):void 0,o=KF(t.Hn("startNumber")),a=KF(t.Hn("endNumber"));return Dt(Dt({},n),{f_t:r,Uv:e,Tlt:s,v_t:o,d_t:a})}function fH(t){var n=hH(t),i=t.Hn("bitstreamSwitching"),r=t.Hn("index"),e=t.Hn("initialization"),u=t.Hn("media");return Dt(Dt({},n),{l_t:i,__t:r,w_t:e,g_t:u})}function vH(t){return{Wht:function(t){if(t){var n=t.split(/\s/);return n.length>1?(n.length=2,n.map(KF)):1===n.length?n.map(KF)[0]:void 0}}(t.Hn("audioSamplingRate")),IY:t.Hn("codecs"),y_t:tH(t.Hn("codingDependency")),flt:function(t){if(0!==t.length)return t.map(rH)}(t.xn("ContentProtection")),m_t:t.xn("EssentialProperty").map(_H),uJ:$F(t.Hn("frameRate")),Z_:KF(t.Hn("height")),plt:KF(t.Hn("maxPlayoutRate")),k_t:KF(t.Hn("maximumSAPPeriod")),ZR:t.Hn("mimeType"),p_t:t.Hn("profiles"),A_t:t.Hn("sar"),b_t:function(t){switch(t){case WF.Ylt:case WF.Zlt:case WF.Ty:return t;default:return}}(t.Hn("scanType")),T_t:t.Hn("segmentProfiles"),E_t:KF(t.Hn("startWithSAP")),wc:KF(t.Hn("width"))}}function dH(t){var n=vH(t),i=KF(t.Hn("bandwidth")),r=iH(t.xn("BaseURL")),e=t.Hn("dependencyId"),u=t.Hn("id"),s=t.Hn("mediaStreamStructureId"),o=KF(t.Hn("qualityRanking")),a=t.xn("SegmentBase");if(a.length>1)throw new d("The provided MPEG-DASH document's Representation element can not have more than one SegmentBase element.");var c=1===a.length?cH(a[0]):void 0,h=aH(t.xn("SegmentList")),f=t.xn("SegmentTemplate");if(f.length>1)throw new d("The provided MPEG-DASH document's Representation element can not have more than one SegmentTemplate element.");var v=1===f.length?fH(f[0]):void 0;return Dt(Dt({},n),{lD:i,S_t:r,R_t:e,Hh:u,I_t:s,N_t:o,C_t:c,D_t:h,O_t:v})}function lH(t){return{clt:t.Hn("schemeIdUri"),Cn:t.Hn("value")}}function _H(t){return lH(t)}function wH(t){return lH(t)}function gH(t){return lH(t)}function yH(t){var n=vH(t),i=function(t){return t.map(gH)}(t.xn("Accessibility")),r=iH(t.xn("BaseURL")),e=tH(t.Hn("bitstreamSwitching")),u=t.Hn("contentType"),s=KF(t.Hn("group")),o=KF(t.Hn("id")),a=t.Hn("lang"),c=KF(t.Hn("maxBandwidth")),h=$F(t.Hn("maxFrameRate")),f=KF(t.Hn("maxHeight")),v=KF(t.Hn("maxWidth")),l=KF(t.Hn("minBandwidth")),_=$F(t.Hn("minFrameRate")),w=KF(t.Hn("minHeight")),g=KF(t.Hn("minWidth")),y=t.Hn("par"),m=t.xn("Representation").map(dH);if(0===m.length)throw new d("The provided MPEG-DASH document has an AdaptationSet with no valid Representation's");var k=function(t){return t.map(wH)}(t.xn("Role")),p=tH(t.Hn("segmentAlignment"))||!1,A=t.xn("SegmentBase");if(A.length>1)throw new d("The provided MPEG-DASH document's AdaptationSet element can not have more than one SegmentBase element.");var b=1===A.length?cH(A[0]):void 0,T=aH(t.xn("SegmentList")),E=t.xn("SegmentTemplate");if(E.length>1)throw new d("The provided MPEG-DASH document's AdaptationSet element can not have more than one SegmentTemplate element.");var S=1===E.length?fH(E[0]):void 0,R=KF(t.Hn("selectionPriority")),I=R||1,N=tH(t.Hn("subsegmentAlignment"))||!1,C=KF(t.Hn("subsegmentStartsWithSAP")),D=t.Hn("xlink:actuate")||"onRequest",O=t.Hn("xlink:href");return Dt(Dt({},n),{x_t:i,S_t:r,f_t:e,tS:u,P_t:s,Hh:o,Wh:a,B_t:c,M_t:h,L_t:f,U_t:v,F_t:l,H_t:_,V_t:w,X_t:g,q_t:y,vlt:m,W_t:k,z_t:p,C_t:b,D_t:T,O_t:S,gS:I,G_t:N,j_t:C,Q_t:D,Y_t:O})}function mH(t){var n=JF(t.Hn("presentationTime"))||$i.ZERO,i=JF(t.Hn("duration")),r=KF(t.Hn("id")),e=function(t){for(var n=t.Gn,i={},r=0;r<n.length;r++)i[n[r].Rn]=n[r].Cn;return i}(t),u=t.jn;return{Z_t:n,Uv:i,Hh:r,Gn:e,Qn:""!==u.trim()?u:t.Hn("messageData")||""}}function kH(t){return{Y_t:t.Hn("xlink:href"),Q_t:t.Hn("xlink:actuate"),clt:t.Hn("schemeIdUri"),Cn:t.Hn("value"),La:KF(t.Hn("timescale")),a_t:JF(t.Hn("presentationTimeOffset")),JR:t.xn("Event").map(mH)}}function pH(t,n){var i=t.xn("AssetIdentifier");if(i.length>1)throw new d("The provided MPEG-DASH document's Period element can not have more than one AssetIdentifier element.");var r=1===i.length?lH(i[0]):void 0,e=t.xn("AdaptationSet").map(yH),u=iH(t.xn("BaseURL")),s=tH(t.Hn("bitstreamSwitching")),o=QF(t.Hn("duration")),a=t.xn("EventStream").map(kH),c=t.Hn("id"),h=n&&QF(n.Hn("start")),f=t.xn("SegmentBase");if(f.length>1)throw new d("The provided MPEG-DASH document's Period element can not have more than one SegmentBase element.");var v=1===f.length?cH(f[0]):void 0,l=aH(t.xn("SegmentBase")),_=t.xn("SegmentTemplate");if(_.length>1)throw new d("The provided MPEG-DASH document's Period element can not have more than one SegmentTemplate element.");var w=1===_.length?fH(_[0]):void 0,g=QF(t.Hn("start")),y=(t.xn("Subset"),t.Hn("xlink:href"));return{klt:e,J_t:r,S_t:u,f_t:s,Uv:o,K_t:a,Hh:c,$_t:h,C_t:v,D_t:l,O_t:w,Ry:g,Q_t:t.Hn("xlink:actuate"),Y_t:y}}function AH(t){var n=t.Hn("schemeIdUri");if(n)return{clt:n,Cn:t.Hn("value")}}function bH(t,n){var i=YF(t.Hn("availabilityEndTime")),r=YF(t.Hn("availabilityStartTime")),e=iH(t.xn("BaseURL")),u=t.Hn("id"),s=t.xn("Location").map(function(t){return""+t.jn}),o=QF(t.Hn("maxSegmentDuration")),a=QF(t.Hn("maxSubsegmentDuration")),c=QF(t.Hn("mediaPresentationDuration")),h=(t.xn("Metrics"),QF(t.Hn("minBufferTime")));if(!h)throw new d("The provided MPEG-DASH document's MPD element does not have the required 'minimumBufferTime' attribute.");var f=QF(t.Hn("minimumUpdatePeriod")),v=function(t){for(var n=[],i=0;i<t.length;i+=1)n.push(pH(t[i],t[i+1]));return n}(t.xn("Period"));if(!v.length)throw new d("The provided MPEG-DASH document's MPD element does not have the required 'Period' element.");var l=t.Hn("profiles");if(!l)throw new d("The provided MPEG-DASH document's MPD element does not have the required 'profiles' attribute.");return{twt:i,nwt:r,S_t:e,Hh:u,iwt:s,rwt:n,ewt:o,uwt:a,_lt:c,swt:h,owt:f,dlt:v,p_t:l,awt:YF(t.Hn("publishTime")),cwt:QF(t.Hn("suggestedPresentationDelay")),h_t:QF(t.Hn("timeShiftBufferDepth")),Cu:function(t){switch(t){case cF.ZT:case cF.JT:return t;default:return}}(t.Hn("type")),hwt:function(t){for(var n=[],i=0;i<t.length;i++){var r=AH(t[i]);r&&n.push(r)}return n}(t.xn("UTCTiming"))}}var TH,EH=function(){function t(){}return t.prototype.ovt=function(t,n){return function(t,n){if(!t)throw new d("The provided MPEG-DASH document does not contain a valid MPD root element.");return bH(t,n)}(r.An(t).Yn,n)},t}(),SH=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).Hh=n,s.lD=i,s.IY=r,s.Kj=u,s.Om=e||"",s.fwt=!0,s}return ct(n,t),n.prototype.Lp=function(){this.fwt=!1,this.vs(new cL(this.Jc))},T(n,[{key:"qh",get:function(){return this.Om},set:function(t){this.Om!==t&&(this.Om=t,this.vs(new cL(this.Jc)))}},{key:"bG",get:function(){return this.fwt}}]),n}(ii),RH=function(t){function n(n,i,r,e,u,s,o,a,c){var h;return void 0===c&&(c=0),(h=t.call(this,n,i,r,e,u)||this).uJ=s,h.wc=o,h.Z_=a,h.qht=c,h.Zc=void 0,h}return ct(n,t),T(n,[{key:"Jc",get:function(){return this.Zc||(this.Zc=hL(this)),this.Zc}}]),n}(SH),IH=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this,n,i,r,e,u)||this).Wht=s,o.Zc=void 0,o}return ct(n,t),T(n,[{key:"Jc",get:function(){return this.Zc||(this.Zc=fL(this)),this.Zc}}]),n}(SH);!function(t){t.vwt="dwt",t.lwt="_wt"}(TH||(TH={}));var NH=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).wwt=function(t){n.vs(t)},n}return ct(n,t),T(n,[{key:"gwt",get:function(){var t=this.ywt();return null==t?void 0:t.Ry.sp()}},{key:"mwt",get:function(){var t=this.ywt();return null==t?void 0:t.Ny.sp()}}]),n}(ii);function CH(t){return G(t.kwt)}var DH=function(t){function n(n,i){var r;if((r=t.call(this)||this).Zc=void 0,r.pwt=void 0,r.Awt=n,r.bwt=i,r.bwt.ls(TH.vwt,r.wwt),r.Cu===Jh.Kl){var e=r.uJ&&r.uJ.nc||NaN;r.Twt=new RH(OH++,r.lD,r.lc,"","",e,r.wc,r.Z_)}else r.Cu===Jh.$l?r.Twt=new IH(OH++,r.lD,r.lc,"","",r.Wht):r.Twt=void 0;return r}ct(n,t);var i=n.prototype;return i.Dlt=function(t){var n=CH(t)?this.bwt.Ewt(t):this.bwt.Dlt(t);return{rA:n.rA,$j:n.$j,fA:this.Swt.fA}},i.Rwt=function(){return this.bwt.Rwt()},i.ywt=function(){return this.bwt.ywt()},i.Iwt=function(){return this.bwt.Iwt()},i.Rlt=function(t,n,i){return this.bwt.Tlt.Rlt(t,this.bwt,this.Swt.fA,n,i)},i.Nwt=function(t){return CH(t)?this.Tlt.Cwt(t):this.Tlt.Nwt(t)},i.P4=function(t){return CH(t)?this.Tlt.Dwt(t):this.Tlt.P4(t)},i.Ih=function(){this.bwt.ys(TH.vwt,this.wwt)},T(n,[{key:"Owt",get:function(){return this.Awt}},{key:"Wht",get:function(){var t;return null!==(t=this.bwt.Qn.Wht)&&void 0!==t?t:this.Owt.Wht}},{key:"lD",get:function(){return this.bwt.Qn.lD||0}},{key:"IY",get:function(){var t=this.bwt.Qn;return t.IY?[t.IY]:this.Owt.IY}},{key:"xwt",get:function(){var t=this.bwt.Qn;return t.IY?[t.IY]:[]}},{key:"lc",get:function(){return this.bwt.Qn.IY||this.Owt.lc}},{key:"y_t",get:function(){return this.bwt.Qn.y_t||this.Owt.y_t}},{key:"flt",get:function(){return this.bwt.Qn.flt||this.Owt.flt}},{key:"tS",get:function(){return this.ZR+'; codecs="'+this.lc+'"'}},{key:"m_t",get:function(){var t=this.bwt.Qn;return t.m_t.length?t.m_t:this.Owt.m_t}},{key:"Jc",get:function(){return this.Zc||(this.Zc=(t=this,{get id(){return t.Hh},get type(){return t.Cu},get bandwidth(){return t.lD},get width(){return t.wc},get height(){return t.Z_},get frameRate(){return t.uJ&&t.uJ.nc||NaN},get audioSamplingRate(){return t.Wht}}));var t}},{key:"uJ",get:function(){return this.bwt.Qn.uJ||this.Owt.uJ}},{key:"Z_",get:function(){return this.bwt.Qn.Z_||this.Owt.Z_}},{key:"Hh",get:function(){return this.bwt.Qn.Hh||""}},{key:"R2",get:function(){return this.pwt},set:function(t){this.pwt=t}},{key:"r6",get:function(){var t=this.bwt.Pwt();if(t)return{rA:t.rA,$j:t.$j,fA:this.Swt.fA}}},{key:"plt",get:function(){return this.bwt.Qn.plt||this.Owt.plt||1}},{key:"k_t",get:function(){return this.bwt.Qn.k_t||this.Owt.k_t}},{key:"Swt",get:function(){return this.Olt.Swt}},{key:"ZR",get:function(){return this.bwt.Qn.ZR||this.Owt.ZR}},{key:"Olt",get:function(){return this.Owt.Olt}},{key:"p_t",get:function(){return this.bwt.Qn.p_t||this.Owt.p_t}},{key:"Hht",get:function(){return this.Twt}},{key:"A_t",get:function(){return this.bwt.Qn.A_t||this.Owt.A_t}},{key:"b_t",get:function(){return this.bwt.Qn.b_t||this.Owt.b_t}},{key:"Bwt",get:function(){return this.bwt.Bwt}},{key:"T_t",get:function(){return this.bwt.Qn.T_t||this.Owt.T_t}},{key:"Tlt",get:function(){return this.bwt.Tlt}},{key:"E_t",get:function(){return this.bwt.Qn.E_t||this.Owt.E_t}},{key:"Cu",get:function(){var t=this.ZR.split("/")[0];return"application"===t||"text"===t||_l(this.ZR,this.IY)?Jh.yn:"video"===t?Jh.Kl:"audio"===t?Jh.$l:"image"===t?Jh.by:Jh.Ty}},{key:"wc",get:function(){return this.bwt.Qn.wc||this.Owt.wc}}]),n}(NH),OH=0,xH=function(t){function n(n,i){var r;return(r=t.call(this)||this).Mwt=[],r.Lwt=[],r.Uwt=n,r.bwt=i,r.bwt.ls(TH.vwt,r.wwt),r}ct(n,t);var i=n.prototype;return i._o=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r,e=this;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==this.Lwt.length){t.next=6;break}return this.Lwt=[],r=this.bwt.vlt.map(function(t){return e.Fwt(t,n,i)}),t.next=5,Ct.all(r);case 5:this.Lwt=t.sent.filter(L);case 6:this.Hwt();case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Fwt=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r){var e,u;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new DH(this,n),t.next=3,i(e);case 3:if(u=t.sent,Hn(r),u){t.next=7;break}return t.abrupt("return",void 0);case 7:return t.abrupt("return",e);case 8:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.Hwt=function(){if(!this.Lwt.length)throw new d("Detected an AdaptationSet without any supported Representations.")},i.ywt=function(){return this.bwt.ywt()},i.Iwt=function(){return this.bwt.Iwt()},i.Ih=function(){this.bwt.ys(TH.vwt,this.wwt);for(var t=0,n=this.Lwt;t<n.length;t++){n[t].Ih()}xn(this.Lwt)},T(n,[{key:"x_t",get:function(){return this.bwt.Qn.x_t}},{key:"Wht",get:function(){var t;return null!==(t=this.bwt.Qn.Wht)&&void 0!==t?t:-1}},{key:"IY",get:function(){if(this.bwt.Qn.IY)return[this.bwt.Qn.IY];for(var t=[],n=0,i=this.vlt;n<i.length;n++){var r=i[n];r.xwt.length&&-1===t.indexOf(r.lc)&&t.push(r.lc)}return t}},{key:"lc",get:function(){return this.IY.join()}},{key:"y_t",get:function(){return this.bwt.Qn.y_t}},{key:"flt",get:function(){return this.bwt.Qn.flt}},{key:"tS",get:function(){return this.ZR+'; codecs="'+this.lc+'"'}},{key:"m_t",get:function(){return this.Mwt}},{key:"uJ",get:function(){return this.bwt.Qn.uJ}},{key:"P_t",get:function(){return this.bwt.Qn.P_t}},{key:"Z_",get:function(){return this.bwt.Qn.Z_||0}},{key:"Hh",get:function(){return this.bwt.Qn.Hh}},{key:"plt",get:function(){return this.bwt.Qn.plt}},{key:"k_t",get:function(){return this.bwt.Qn.k_t}},{key:"Swt",get:function(){return this.Olt.Swt}},{key:"ZR",get:function(){return this.bwt.Qn.ZR||this.Lwt[0].ZR}},{key:"Olt",get:function(){return this.Uwt}},{key:"p_t",get:function(){return this.bwt.Qn.p_t}},{key:"vlt",get:function(){return this.Lwt}},{key:"W_t",get:function(){return this.bwt.Qn.W_t||[]}},{key:"A_t",get:function(){return this.bwt.Qn.A_t}},{key:"b_t",get:function(){return this.bwt.Qn.b_t}},{key:"T_t",get:function(){return this.bwt.Qn.T_t}},{key:"gS",get:function(){return this.bwt.Qn.gS}},{key:"E_t",get:function(){return this.bwt.Qn.E_t}},{key:"Cu",get:function(){var t=(this.bwt.Qn.tS||this.ZR).split("/")[0];return"application"===t||"text"===t||"subtitle"===t||_l(this.ZR,this.IY)?Jh.yn:"video"===t?Jh.Kl:"audio"===t?Jh.$l:"image"===t?Jh.by:Jh.Ty}},{key:"wc",get:function(){return this.bwt.Qn.wc||0}},{key:"Alt",get:function(){return this.bwt.Qn.Wh||""}},{key:"Vwt",get:function(){return this.gwt}},{key:"Xwt",get:function(){var t=this.Vwt,n=this.mwt;if(t&&n){var i=no.Xa(n,this.Swt.qwt);return no.Ha(t,i)}}}]),n}(NH);function PH(t,n){for(var i=[],e=0;e<n.length;e++)for(var u=n[e],s=0;s<t.length;s++){var o=t[s];i.push(r.Oa(o,u))}return i}var BH=function(){function t(t,n){this.Uwt=t,this.Wwt=n,this.zwt=n.La,this.Gwt=n.Klt.za(this.zwt),this.jwt=n.a_t.za(this.zwt)}var n=t.prototype;return n.Qwt=function(t){var n,i=t.Ka(this.Uwt.Ry);if(!i.mk()&&!i.Va(this.Uwt.Uv))return(null===(n=this.Ywt())||void 0===n?void 0:n.Ja(i))?this.Elt():this.Zwt(i.za(this.zwt,Rv.cp))},n.Jwt=function(t){var n=t.Ka(this.Uwt.Ry).za(this.zwt,Rv.cp);if(!n.mk())return this.Kwt(Dv.Xa(n,this.Uwt.Uv).za(this.zwt,Rv.cp))},n.Elt=function(){return this.$wt(0)},n.Nlt=function(){var t=this.Uwt.Uv.za(this.zwt,Rv.cp);if(!t.tc())return this.Kwt(t)},n.Rwt=function(t){if(this.Uwt.tgt.Cu===cF.JT){var n=this.ngt(t);if(!n)return;return{igt:t,rgt:this.egt(t),ugt:n}}var i=this.Elt();if(i)return{igt:t,rgt:i,ugt:this.Nlt()}},n.Iwt=function(t,n){if(n){var i=n.rgt.twt,r=this.Rat(n.ugt);return r&&(!i||r.sgt.getTime()<i.getTime())&&(i=r.sgt),i}var e=this.Elt();if(e&&t.getTime()<e.sgt.getTime())return e.sgt;var u=this.Uwt.tgt.nwt;return t.getTime()<u.getTime()?u:void 0},n.ngt=function(t){var n=Dv.ip(t).Ka(Dv.ip(this.Uwt.tgt.nwt)).Ka(this.Uwt.Ry).Wa(this.Gwt),i=this.Kwt(Dv.rp(n.za(this.zwt,Rv.cp),Dv.rc.za(this.zwt,Rv.cp),this.Uwt.Uv.za(this.zwt,Rv.cp)));if(i&&(i=this.ogt(i,t))){for(var r=this.Rat(i);r&&this.agt(r,t);)i=r,r=this.Rat(i);return i}},n.egt=function(t){var n,i=this.Wwt.h_t;if(i){var r=Dv.ip(t).Ka(Dv.ip(this.Uwt.tgt.nwt)).Ka(this.Uwt.Ry).Ka(i.K$);(n=this.Kwt(Dv.rp(r.za(this.zwt,Rv.cp),Dv.rc.za(this.zwt,Rv.cp),this.Uwt.Uv.za(this.zwt,Rv.cp))))||(n=this.Elt())}else n=this.Elt();if(n&&(n=this.ogt(n,t))){for(var e=this.cgt(n);e&&this.agt(e,t);)n=e,e=this.cgt(n);return n}},n.ogt=function(t,n){for(var i=t;i&&i.sgt.getTime()>n.getTime();)i=this.cgt(i);if(i){if(i.twt&&i.twt.getTime()<=n.getTime()){var r=this.cgt(i);for(r&&this.agt(r,n)&&(i=r);i;){if(i.sgt.getTime()>n.getTime())return;if(this.agt(i,n))break;i=this.Rat(i)}if(!i)return}return i}},n.agt=function(t,n){return t.sgt.getTime()<=n.getTime()&&(!t.twt||n.getTime()<t.twt.getTime())},n.hgt=function(t,n){return t.nwt.getTime()<=n.getTime()&&(!t.twt||n.getTime()<t.twt.getTime())},n.fgt=function(t,n,i){var r=n.Wa(this.Uwt.Ry).za(this.zwt,Rv.cp),e=Dv.Xa(i,this.Uwt.Uv.Ka(n)).za(this.zwt,Rv.cp),u=this.vgt(r,e),s=this.dgt(u,e),o=this.lgt(u);return{G3:t,_gt:n,qm:r,Uv:e,Wm:r.Wa(e),nwt:u.ep(),twt:s?s.ep():void 0,sgt:o.ep()}},n.vgt=function(t,n){return this.Uwt.tgt.Cu===cF.JT?Dv.ip(this.Uwt.tgt.nwt).Wa(t).Wa(n):Dv.ip(this.Uwt.tgt.nwt)},n.lgt=function(t){return this.Uwt.tgt.Cu===cF.JT?t.Ka(this.Gwt):t},n.dgt=function(t,n){var i=Dv.$k;if(this.Uwt.tgt.Cu===cF.JT){var r=this.Wwt.h_t;r&&(i=t.Wa(n).Wa(Dv.Jk(r.llt.nc,1)))}var e=this.Uwt.tgt.twt;return e&&(i=Dv.Xa(i,Dv.ip(e))),i.tc()?void 0:i},n.wgt=function(t,n){return(t.G3+n).toString(10)},n.Slt=function(t){return!1},n.Rlt=function(t,n,i,r,e){var u=this.ggt(t);if(!u)return Ct.reject(new d("Invalid segment"));var s=this.ygt(u.G3);return s?Ct.resolve(s):this.mgt(u.G3,n,i,r,e)},n.ygt=function(t){},n.mgt=function(t,n,i,r,e){return Ct.reject(new d("Not supported"))},n.cgt=function(t){var n=this.ggt(t);if(n)return this.$wt(n.G3-1)},n.Rat=function(t){var n=this.ggt(t);if(n)return this.$wt(n.G3+1)},n.ggt=function(t){var n=this.$wt(t.G3);if(n&&n.qm.Ja(t.qm))return n;var i=this.Qwt(t.qm);return i&&i.qm.Ja(t.qm)?i:void 0},n.kgt=function(t){var n=this.pgt(t);if(n&&this.Slt(n.G3)){var i=this.ygt(n.G3);if(i)return i.kgt(t)}},n.pgt=function(t){var n=this.$wt(t.Agt);return n&&n.qm.qa(t.qm)&&t.Wm.qa(n.Wm)||(n=this.Qwt(t.qm)),n},n.Nwt=function(t){var n=this.ggt(t);return!!n&&0===n.G3},n.Cwt=function(t){var n=this.kgt(t);return!!n&&0===n.kwt},n.P4=function(t){var n=this.ggt(t);if(!n)return!1;var i=this.Nlt();return!!i&&n.G3===i.G3},n.Dwt=function(t){var n=this.kgt(t);if(!n)return!1;var i=this.Nlt();if(!i||n.Agt!==i.G3)return!1;var r=this.ygt(n.Agt);return n.kwt+1===r.Ch},T(t,[{key:"yp",get:function(){return this.jwt.Ka(this.Uwt.Ry).za(this.zwt,Rv.cp)}}]),t}(),MH=function(t){function n(n,i){var r;r=t.call(this,i,n)||this;var e=n.Uv;if(void 0===e)throw new d("MultipleSegmentBase does not have a segment duration specified.");return r.bgt=e,r}ct(n,t);var i=n.prototype;return i.$wt=function(t){if(!(t<0)){var n=this.bgt.zk(t);if(!n.Va(this.Uwt.Uv.za(this.zwt,Rv.ap))){var i=this.Tgt();if(void 0!==i){if(t>i)return;if(t===i)return this.fgt(t,n,this.Uwt.Uv.Ka(n))}return this.fgt(t,n,this.bgt)}}},i.Ywt=function(){return Dv.rc.za(this.zwt)},i.Zwt=function(t){var n=w.floor(t.Mk()/this.bgt.Mk()),i=this.Tgt();return void 0!==i&&n>=i?this.$wt(i):this.$wt(n)},i.Kwt=function(t){if(t.Va(this.Uwt.Uv)){var n=w.ceil(this.Uwt.Uv.Mk()/this.bgt.Mk())-1,i=this.Tgt();return void 0!==i&&n>=i?this.$wt(i):this.$wt(n)}return this.Zwt(t)},i.Tgt=function(){var t,n=this.Wwt.d_t;if(void 0!==n)return n-(null!==(t=this.Wwt.v_t)&&void 0!==t?t:1);if(!this.Uwt.Uv.tc()){var i=this.Wwt.Egt;if(void 0!==i&&i>0)return i-1}},i.Sgt=function(){if(!this.Uwt.Uv.tc())return this.Nlt()},i.Rgt=function(t,n){return this.bgt.zk(t.G3+(n-1)).za(this.zwt).Bk().toString(10)},i._o=function(){},n}(BH);function LH(t,n){var i=t.length;if(0===i)return-1;for(var r=0,e=i-1,u=t[r].qm,s=t[e].Wm;r<=e&&u.lessThanOrEqual(n)&&n.lessThan(s);){var o=r+w.floor(n.subtract(u).toNumber()/s.subtract(u).toNumber()*(e-r)),a=t[o],c=a.qm,h=o+1<i?t[o+1].qm:a.Wm;if(h.lessThanOrEqual(n))r=o+1,u=h;else{if(!n.lessThan(c))return o;e=o-1,s=c}}return-1}var UH=function(t){function n(n,i){var r;return(r=t.call(this,i,n)||this).Igt=[],r.Ngt=void 0,r._o(),r}ct(n,t);var i=n.prototype;return i.$wt=function(t){if(!(t<0))return t<this.Igt.length?this.Cgt(this.Igt[t]):this.Dgt(t-this.Igt.length)},i.Ywt=function(){if(this.Igt.length>0)return Dv.Ek(this.Igt[0].qm,this.zwt)},i.Zwt=function(t){var n=t.za(this.zwt).Bk();if(this.Ngt&&this.Ngt.qm.lessThanOrEqual(n)){var i=this.Ngt.qm,r=this.Ngt.Uv,e=w.floor(n.subtract(i).toNumber()/r.toNumber());return this.Dgt(e)}if(this.Igt.length>0&&t.Ja(Dv.Ek(this.Igt[0].qm,this.zwt)))return this.Cgt(this.Igt[0]);var u=LH(this.Igt,n);return u<0?void 0:this.Cgt(this.Igt[u])},i.Kwt=function(t){if(!this.Ngt&&this.Igt.length>0){var n=this.Igt[this.Igt.length-1];if(t.Va(Dv.Ek(n.Wm,this.zwt)))return this.Cgt(n)}var i=this.Ywt();return i&&t.ja(i)?this.Cgt(this.Igt[0]):this.Zwt(t)},i.Sgt=function(){return this.Uwt.Uv.tc()?this.$wt(this.Igt.length-1):this.Nlt()},i.Rgt=function(t){return this.Ogt(t).za(this.zwt).Bk().toString(10)},i.Cgt=function(t){return this.fgt(t.G3,Dv.Ek(t.qm,this.zwt),Dv.Ek(t.Uv,this.zwt))},i.Dgt=function(t){if(this.Ngt){var n=this.Ngt.qm,i=this.Ngt.Uv,r=n.add(i.multiply(t)),e=Dv.Ek(r,this.zwt);if(!e.Va(this.Uwt.Uv.za(this.zwt,Rv.ap)))return this.fgt(this.Igt.length+t,e,Dv.Ek(i,this.zwt))}},i.Ogt=function(t){return t._gt.Wa(this.jwt)},i._o=function(){var t=this.Wwt.Qn.Tlt;if(!t)throw new d("MultipleSegmentBaseTO does not have a SegmentTimeline specified.");this.xgt(t)},i.xgt=function(t){for(var n,i=this.jwt.Bk(),r=[],e=0,u=$i.ZERO,s=0;s<t.length;s++){var o=t[s],a=void 0,c=o.qm?o.qm.toSigned().subtract(i):u,h=o.Uv.toSigned(),f=o.t_t||0,v=s+1<t.length&&t[s+1].qm?t[s+1].qm.toSigned().subtract(i):void 0;if(f<0){if(s+1===t.length){n={qm:c,Uv:h};break}for(;c.lessThan(v);)a={G3:e++,qm:c,Uv:h,Wm:c.add(h)},r.push(a),c=a.Wm}else for(var d=0;d<=f;d++)a={G3:e++,qm:c,Uv:h,Wm:c.add(h)},r.push(a),c=a.Wm;a&&v&&a.Wm.greaterThan(v)&&(a.Uv=v.subtract(a.qm),a.Wm=a.qm.add(a.Uv)),a&&(u=a.Wm)}this.Igt=r,this.Ngt=n},n}(BH),FH=function(){function t(t,n,i){this.Pgt=void 0,this.Bgt=void 0,this.Olt=t,this.Mgt=n,this.gu=i}var n=t.prototype;return n.Lgt=function(){if(this.Bgt=this.Ugt(),this.Bgt)return this.Bgt;if(this.Mgt)return this.Mgt.Tlt;throw new d("Missing media segment information.")},n.Pwt=function(t){var n=this.o_t;if(n)return{rA:(void 0!==n.$lt?r.Oa(n.$lt,t.S_t[0]):t.S_t[0]).href,$j:n.$j};var i=this.n_t;return i?{rA:t.S_t[0].href,$j:[0,i[0]-1]}:void 0},n._o=function(t){this.gu=t,this.Bgt&&this.Bgt._o()},T(t,[{key:"Qn",get:function(){return this.gu}},{key:"Klt",get:function(){return this.gu&&void 0!==this.gu.Klt?Dv.Jk(this.gu.Klt):this.Mgt?this.Mgt.Klt:Dv.rc}},{key:"a_t",get:function(){return this.gu&&void 0!==this.gu.a_t?Dv.Ek(this.gu.a_t,this.La):this.Mgt?this.Mgt.a_t:Dv.rc}},{key:"h_t",get:function(){return this.gu&&void 0!==this.gu.h_t?this.gu.h_t:this.Mgt?this.Mgt.h_t:this.Olt.tgt.h_t}},{key:"La",get:function(){return this.gu&&void 0!==this.gu.La?this.gu.La:this.Mgt&&this.Mgt.La?this.Mgt.La:1}},{key:"n_t",get:function(){return this.gu&&void 0!==this.gu.n_t?this.gu.n_t:this.Mgt?this.Mgt.n_t:void 0}},{key:"o_t",get:function(){return this.gu&&void 0!==this.gu.o_t?this.gu.o_t:this.Mgt?this.Mgt.o_t:void 0}},{key:"Tlt",get:function(){return this.Pgt||(this.Pgt=this.Lgt()),this.Pgt}}]),t}(),HH=function(t){function n(){return t.apply(this,arguments)||this}return ct(n,t),n.prototype.Ugt=function(){return this.gu.Tlt?new UH(this,this.Olt):void 0!==this.gu.Uv?new MH(this,this.Olt):void 0},T(n,[{key:"Uv",get:function(){return void 0!==this.gu.Uv?Dv.Sk(this.gu.Uv,this.La):this.Mgt&&this.Mgt instanceof n?this.Mgt.Uv:void 0}},{key:"v_t",get:function(){return void 0!==this.gu.v_t?this.gu.v_t:this.Mgt&&this.Mgt instanceof n?this.Mgt.v_t:void 0}},{key:"d_t",get:function(){return void 0!==this.gu.d_t?this.gu.d_t:this.Mgt&&this.Mgt instanceof n?this.Mgt.d_t:void 0}}]),n}(FH),VH=function(){function t(t){this.Fgt=t}return t.prototype.Js=function(t){return this.Fgt.replace(/\$\$|\$(RepresentationID|Number|Bandwidth|Time)(?:%0(\d+)d)?\$/g,function(n,i,r){if("$$"===n)return"$";var e=t[i]||"";return r&&(e=gn(e,Number(r),"0")),e})},t}(),XH=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).Hgt=r.w_t?new VH(r.w_t):void 0,e.Vgt=r.g_t?new VH(r.g_t):void 0,e}ct(n,t);var i=n.prototype;return i.Pwt=function(n){var i=this.w_t;if(!i)return t.prototype.Pwt.call(this,n);var e=i.Js({Bandwidth:n.Qn.lD.toString(),RepresentationID:n.Qn.Hh});return{rA:r.Oa(e,n.S_t[0]).href}},i.Dlt=function(t,n){var i,e=null!==(i=n.Bwt.v_t)&&void 0!==i?i:1,u=this.g_t.Js({Bandwidth:n.Qn.lD.toString(),Number:n.Tlt.wgt(t,e),RepresentationID:n.Qn.Hh,Time:n.Tlt.Rgt(t,e)});return{rA:r.Oa(u,n.S_t[0]).href}},i.Ewt=function(t,n){},T(n,[{key:"w_t",get:function(){return this.Hgt?this.Hgt:this.Mgt&&this.Mgt instanceof n?this.Mgt.w_t:void 0}},{key:"g_t",get:function(){return this.Vgt?this.Vgt:this.Mgt&&this.Mgt instanceof n?this.Mgt.g_t:void 0}},{key:"Egt",get:function(){}}]),n}(HH),qH=function(t){function n(){return t.apply(this,arguments)||this}ct(n,t);var i=n.prototype;return i.Dlt=function(t,n){var i=this.gu.r_t[t.G3],e=n.S_t[0];return{rA:(i.q_?r.Oa(i.q_,e):e).href,$j:i.i_t}},i.Ewt=function(t,n){},T(n,[{key:"Egt",get:function(){return void 0!==this.gu.r_t?this.gu.r_t.length:this.Mgt&&this.Mgt instanceof HH?this.Mgt.Egt:void 0}}]),n}(HH),WH=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).Agt=n,s.Xgt=i,s.La=r.La,s.qgt=e,s.a_t=u,s.Wgt=s.zgt(r),s}ct(n,t);var i=n.prototype;return i.Ilt=function(t){if(t>=0&&t<this.Ch)return this.Ggt(this.Wgt[t])},i.jgt=function(t){var n=this.Qgt(t);if(this.Wgt.length>0){var i=this.Wgt[0];if(n.qa(Dv.Ek(i.qm,this.La)))return this.Ggt(i)}var r=LH(this.Wgt,n.za(this.La).Bk());if(!(r<0))return this.Ggt(this.Wgt[r])},i.Ygt=function(t){var n=this.Qgt(t);if(this.Wgt.length>0){var i=this.Wgt[this.Wgt.length-1];if(n.Va(Dv.Ek(i.Wm,this.La)))return this.Ggt(i)}return this.jgt(t)},i.Ggt=function(t){var n=Dv.Ek(t.qm,this.La).Ka(this.a_t),i=n.Wa(this.qgt),r=Dv.Ek(t.Uv,this.La);return{Agt:this.Agt,kwt:t.G3,qm:i,_gt:n,Uv:r,Wm:i.Wa(r),Zgt:[this.Xgt+t.Xgt,this.Xgt+t.Jgt]}},i.zgt=function(t){for(var n=[],i=t.Eg,r=t.Sg.toNumber(),e=0,u=0,s=t.Ig;u<s.length;u++){var o=s[u],a=o.kg,c=$i.fromNumber(o.Uv),h=i.add(c);0===o.mg&&n.push({G3:e++,qm:i,Uv:c,Wm:h,Xgt:r,Jgt:r+a-1}),r+=a,i=h}return n},i.Qgt=function(t){return t.Ka(this.qgt).Wa(this.a_t)},T(n,[{key:"Ch",get:function(){return this.Wgt.length}}]),n}(function(){function t(){}return t.prototype.kgt=function(t){var n=this.Ilt(t.kwt);if(n&&n.qm.Ja(t.qm))return n;var i=this.jgt(t.qm);return i&&i.qm.Ja(t.qm)?i:void 0},t}()),zH=function(t){function n(n,i){var r;return(r=t.call(this,i,n)||this).Kgt=void 0,r.$gt=n.n_t,r}ct(n,t);var i=n.prototype;return i.$wt=function(t){if(0===t)return this.Cgt()},i.Ywt=function(){return Dv.rc.za(this.zwt)},i.Zwt=function(t){return this.Cgt()},i.Kwt=function(t){return this.Zwt(t)},i.Sgt=function(){return this.Cgt()},i.Cgt=function(){return this.fgt(0,Dv.rc.za(this.zwt,Rv.cp),this.Uwt.Uv.za(this.zwt,Rv.cp))},i.Rgt=function(t,n){return""},i.Rwt=function(t){var n=this.tyt(t);return n&&{igt:t,rgt:n,ugt:n}},i.tyt=function(t){var n=this.Cgt();return this.agt(n,t)?n:void 0},i.ngt=function(t){return this.tyt(t)},i.egt=function(t){return this.tyt(t)},i._o=function(){},i.Slt=function(t){return 0===t&&void 0!==this.$gt},i.ygt=function(t){return this.Kgt},i.mgt=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r,e,u){var s,o,a;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=i.S_t[0].href,o=this.$gt,t.next=4,e.nyt(s,o,r,u);case 4:return a=t.sent,this.Kgt=this.iyt(n,a),t.abrupt("return",this.Kgt);case 7:case"end":return t.stop()}},t,this)}));return function(n,i,r,e,u){return t.apply(this,arguments)}}(),i.iyt=function(t,n){var i=this.$gt,r=uh.y_(new DataView(n),new Vr);if(r.Cu!==Zc.Jl)throw new d("Invalid segment index");var e=hh.yg(r.zs,r.Qn),u=i[1]+1;return new WH(t,u,e,this.Uwt.Ry,this.jwt)},n}(BH),GH=function(t){function n(){return t.apply(this,arguments)||this}ct(n,t);var i=n.prototype;return i.Dlt=function(t,n){return{rA:n.S_t[0].href}},i.Ewt=function(t,n){return{rA:n.S_t[0].href,$j:t.Zgt}},i.Ugt=function(){return new zH(this,this.Olt)},T(n,[{key:"v_t",get:function(){}}]),n}(FH),jH=function(t){function n(){return t.call(this,TH.vwt)||this}return ct(n,t),n}(ei);var QH=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Wwt=void 0,e.ryt=Dv.$k,e.eyt=void 0,e.pr=i,e.uyt(n,r),e}ct(n,t);var i=n.prototype;return i.syt=function(){return this.Wwt||this.pr&&this.pr.syt()},i.oyt=function(t){var n=this.Olt,i=this.pr&&this.pr.syt();this.gu.O_t?this.Wwt=new XH(n,i,this.gu.O_t):this.gu.D_t?this.Wwt=new qH(n,i,this.gu.D_t[0]):this.gu.C_t?this.Wwt=new GH(n,i,this.gu.C_t):t&&!i&&(this.Wwt=new GH(n,i,void 0))},i.uyt=function(t,n){this.gu=t,this.ayt=t.S_t&&t.S_t.length>0?PH(t.S_t.map(function(t){return t.rA}),n):n.slice(),this.Wwt&&(t.O_t?this.Wwt._o(t.O_t):t.D_t?this.Wwt._o(t.D_t[0]):t.C_t&&this.Wwt._o(t.C_t))},i.ywt=function(){var t;return null===(t=this.eyt)||void 0===t?void 0:t.cyt},i.Iwt=function(){var t;return null===(t=this.eyt)||void 0===t?void 0:t.hyt},i.fyt=function(t){var n=this.ryt,i=this.Olt.Uv,r=this.eyt,e=this.vyt(t);r&&i.Ja(n)&&KH(r,e)||(this.ryt=i,this.eyt=e,this.vs(new jH))},i.$u=function(){this.gs()},T(n,[{key:"Qn",get:function(){return this.gu}},{key:"S_t",get:function(){return this.ayt}}]),n}(ii);function YH(t){for(var n,i=0;i<t.length;i++){var r=t[i].ywt();if(r){n=r.Ry;break}}if(n){for(var e,u=t.length-1;u>=0;u--){var s=t[u].ywt();if(s){e=s.Ny;break}}if(e)return{Ry:n,Ny:e}}}function ZH(t){if(0!==t.length){for(var n=Dv.rc,i=Dv.$k,r=0;r<t.length;r++){var e=t[r].ywt();if(!e)return;if(n=Dv.Ha(n,e.Ry),i=Dv.Xa(i,e.Ny),n.Va(i))return}return{Ry:n,Ny:i}}}function JH(t){for(var n,i=0;i<t.length;i++){var r=t[i].Iwt();r&&(!n||r.getTime()<n.getTime())&&(n=r)}return n}function KH(t,n){return function(t,n){return t&&n?t.getTime()===n.getTime():t===n}(t.hyt,n.hyt)&&function(t,n){return t&&n?t.Ry.Ja(n.Ry)&&t.Ny.Ja(n.Ny):t===n}(t.cyt,n.cyt)}var $H=function(t){function n(n,i,r){var e;(e=t.call(this)||this).Uwt=n,e.Dm=i,e.dyt=r.slice();for(var u=0;u<r.length;u++){r[u].ls(TH.vwt,e.wwt)}return e}ct(n,t);var i=n.prototype;return i.ywt=function(){return ZH(this.dyt)},i.Iwt=function(){for(var t,n=0,i=this.dyt;n<i.length;n++){var r=i[n].Iwt();r&&(!t||r.getTime()<t.getTime())&&(t=r)}return t},i.Ih=function(){this.gs();for(var t=0,n=this.dyt;t<n.length;t++){n[t].ys(TH.vwt,this.wwt)}},T(n,[{key:"klt",get:function(){return this.dyt}},{key:"IY",get:function(){return this.klt.reduce(function(t,n){for(var i=0,r=n.IY;i<r.length;i++){var e=r[i];Dn(t,e)||t.push(e)}return t},[])}},{key:"lc",get:function(){return this.IY.length>0?this.IY[0]:""}},{key:"Cu",get:function(){return this.dyt[0].Cu}},{key:"Hh",get:function(){return this.Dm}},{key:"Swt",get:function(){return this.Uwt.Swt}},{key:"ZR",get:function(){return this.dyt[0].ZR}},{key:"Olt",get:function(){return this.Uwt}},{key:"vlt",get:function(){return Bn(this.klt,function(t){return t.vlt})}}]),n}(NH),tV=function(t){function n(){return t.call(this,TH.lwt)||this}return ct(n,t),n}(ei);function nV(t){for(var n=[],i=function(i){var r=t[i],e=void 0,u=r.P_t;void 0===u||(e=Rn(n,function(t){return t.Hh===u})),e||(e={Hh:u,klt:[]},n.push(e)),e.klt.push(r)},r=0;r<t.length;r++)i(r);return n}var iV,rV=function(t){function n(n,i){var r;return(r=t.call(this)||this).dyt=[],r.lyt=[],r._yt=!1,r.wyt=n,r.bwt=i,r.bwt.ls(TH.vwt,r.wwt),r}ct(n,t);var i=n.prototype;return i.gyt=function(t,n){if(0!==this.lyt.length){for(var i=t,r=0,e=this.lyt;r<e.length;r++){var u=e[r],s=u.Cu;if(s===Jh.$l||s===Jh.Kl){var o=u.mwt;if(!o)return;i=n(i,o)}}return i}},i.yyt=function(){this._yt||(this._yt=!0,this.vs(new tV),this.Ih())},i._o=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==this.dyt.length){t.next=7;break}return t.next=3,this.myt(this.bwt.klt,n,i);case 3:this.kyt(this.dyt),Hn(i),t.next=9;break;case 7:return t.next=9,this.pyt(n,i);case 9:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.myt=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r){var e,u,s;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=0;case 1:if(!(e<n.length)){t.next=17;break}return u=n[e],s=new xH(this,u),t.prev=4,t.next=7,s._o(i,r);case 7:this.dyt.push(s),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(4),Vn(t.t0);case 14:e++,t.next=1;break;case 17:case"end":return t.stop()}},t,this,[[4,10]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.kyt=function(t){for(var n=nV(t),i=0;i<n.length;i++){var r=n[i],e=new $H(this,r.Hh,r.klt);this.lyt.push(e)}},i.pyt=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r,e,u;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.dyt;case 1:if(!(r<e.length)){t.next=8;break}return u=e[r],t.next=5,u._o(n,i);case 5:r++,t.next=1;break;case 8:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.ywt=function(){return this.bwt.ywt()},i.Iwt=function(){return this.bwt.Iwt()},i.Ih=function(){this.gs(),this.bwt.ys(TH.vwt,this.wwt);for(var t=0,n=this.lyt;t<n.length;t++){n[t].Ih()}for(var i=0,r=this.dyt;i<r.length;i++){r[i].Ih()}xn(this.dyt),xn(this.lyt)},T(n,[{key:"klt",get:function(){return this.dyt}},{key:"ylt",get:function(){return this.lyt}},{key:"J_t",get:function(){return this.bwt.Qn.J_t}},{key:"Uv",get:function(){return this.bwt.Uv.sp()}},{key:"Ny",get:function(){return this.Ry.Wa(this.Uv)}},{key:"K_t",get:function(){return this.bwt.Qn.K_t||[]}},{key:"Hh",get:function(){return this.bwt.Hh}},{key:"_wt",get:function(){return this._yt}},{key:"Swt",get:function(){return this.wyt}},{key:"Ayt",get:function(){return this.wyt.byt(this)}},{key:"Olt",get:function(){return this}},{key:"Tyt",get:function(){return this.wyt.Eyt(this)}},{key:"Syt",get:function(){return this.gyt(no.ec,no.Xa)}},{key:"Ryt",get:function(){return this.gyt(no.rc,no.Ha)}},{key:"Ry",get:function(){return this.bwt.Ry.sp()}},{key:"fA",get:function(){return this.Swt.fA}}]),n}(NH),eV=function(t){function n(){return t.call(this,ka.Of)||this}return ct(n,t),n}(ei);!function(t){t.Iyt="Nyt"}(iV||(iV={}));var uV=function(t){function n(){return t.call(this,iV.Iyt)||this}return ct(n,t),n}(ei),sV=function(t){function n(n,i){var r;return(r=t.call(this,n,i,i.S_t)||this).Cyt=void 0,r.Awt=i,r.oyt(!0),r}ct(n,t);var i=n.prototype;return i.Pwt=function(){return this.Bwt.Pwt(this)},i.Dlt=function(t){return this.Bwt.Dlt(t,this)},i.Ewt=function(t){return this.Bwt.Ewt(t,this)},i.Rwt=function(){return this.Cyt},i.vyt=function(t){var n=this.Tlt.Rwt(t),i=n&&function(t){var n,i=t.rgt,r=t.ugt,e=t.igt,u=i.qm;if(r.nwt.getTime()<=e.getTime())n=r.Wm;else{var s=Dv.Jk(r.nwt.getTime()-e.getTime(),1e3),o=Dv.Ha(r.Uv.Ka(s),Dv.rc);n=r.qm.Wa(o)}return{Ry:u,Ny:n}}(n),r=this.Tlt.Iwt(t,n);return this.Cyt=n,{igt:t,cyt:i,hyt:r}},i._o=function(t){this.uyt(t,this.Awt.S_t)},T(n,[{key:"Owt",get:function(){return this.Awt}},{key:"Olt",get:function(){return this.Awt.Olt}},{key:"tgt",get:function(){return this.Awt.tgt}},{key:"Bwt",get:function(){return this.syt()}},{key:"Tlt",get:function(){return this.Bwt.Tlt}}]),n}(QH),oV=function(t){function n(n,i){var r;return(r=t.call(this,n,i,i.S_t)||this).Uwt=i,r.oyt(!1),r.Lwt=n.vlt.map(function(t){return new sV(t,vt(r))}),r}ct(n,t);var i=n.prototype;return i._o=function(t){this.uyt(t,this.Uwt.S_t);var n=t.vlt||[];if(this.Lwt.length!==n.length)throw new d("Expected "+this.Lwt.length+' representations in adaptation set "'+t.Hh+'", found '+n.length);for(var i=0;i<n.length;i++)this.Lwt[i]._o(n[i])},i.fyt=function(n){for(var i=0,r=this.Lwt;i<r.length;i++){r[i].fyt(n)}t.prototype.fyt.call(this,n)},i.vyt=function(t){return{igt:t,cyt:ZH(this.Lwt),hyt:JH(this.Lwt)}},i.$u=function(){for(var n=0,i=this.Lwt;n<i.length;n++){i[n].$u()}t.prototype.$u.call(this)},T(n,[{key:"vlt",get:function(){return this.Lwt}},{key:"Olt",get:function(){return this.Uwt}},{key:"tgt",get:function(){return this.Uwt.tgt}},{key:"P_t",get:function(){return this.gu.P_t}}]),n}(QH),aV=function(t){function n(n,i,r,e){var u;return(u=t.call(this,i,void 0,n.S_t)||this).lyt=[],u.Dyt=n,u.Np=r,u.GU=e,u.oyt(!1),u.dyt=(i.klt||[]).map(function(t){return new oV(t,vt(u))}),u.lyt=nV(u.dyt),u}ct(n,t);var i=n.prototype;return i._o=function(t,n){this.uyt(t,this.Dyt.S_t),this.GU=n;var i=t.klt||[];if(this.dyt.length!==i.length)throw new d("Expected "+this.dyt.length+' adaptation sets in period "'+t.Hh+'", found '+i.length);for(var r=0;r<i.length;r++)this.dyt[r]._o(i[r])},i.fyt=function(n){for(var i=0,r=this.dyt;i<r.length;i++){r[i].fyt(n)}t.prototype.fyt.call(this,n)},i.vyt=function(t){return{igt:t,cyt:ZH(this.dyt),hyt:JH(this.dyt)}},i.$u=function(){for(var n=0,i=this.dyt;n<i.length;n++){i[n].$u()}t.prototype.$u.call(this)},T(n,[{key:"klt",get:function(){return this.dyt}},{key:"ylt",get:function(){return this.lyt}},{key:"Olt",get:function(){return this}},{key:"tgt",get:function(){return this.Dyt}},{key:"Hh",get:function(){return this.gu.Hh}},{key:"Ry",get:function(){return this.Np}},{key:"Uv",get:function(){return this.GU}}]),n}(QH),cV=new Date("2000-01-01"),hV=function(t){function n(n,i,r,e){var u;if((u=t.call(this)||this).eyt=void 0,u.Oyt=void 0,u.xyt=void 0,u.Pyt=[],u.Byt=i,u._o(n,r,e),n.Cu===cF.JT){var s=u.Sgt(),o=null==s?void 0:s.twt;s&&o&&o.getTime()<cV.getTime()&&(u.xyt=Dv.ip(u.awt).Ka(s.qm).Ka(s.Uv).ep(),u.fyt(e))}return u}ct(n,t);var i=n.prototype;return i.ywt=function(){var t;return null===(t=this.eyt)||void 0===t?void 0:t.cyt},i.Iwt=function(){var t;return null===(t=this.eyt)||void 0===t?void 0:t.hyt},i._o=function(t,n,i,e){var u;this.gu=t,this.Myt=n,this.Lyt=null!=e?e:i,this.wH=i;var s,o=[(s=n,r.Oa(".",s))];this.ayt=t.S_t&&t.S_t.length>0?PH(t.S_t.map(function(t){return t.rA}),o):o,this.Uyt=t.iwt&&t.iwt.length>0?PH(t.iwt,this.ayt):[];var a=this.Uyt.map(function(t){return t.href}),c=n.href;Dn(a,c)||(this.Uyt.push(n),a.push(c));var h=this.Byt.href;Dn(a,h)||(this.Uyt.push(this.Byt),a.push(h)),this.Oyt=null===(u=t._lt)||void 0===u?void 0:u.K$;var f=t.Cu===cF.JT,v=function(t,n,i){for(var r=[],e=0;e<t.length;e++){var u=t[e],s=void 0;if(u.Ry)s=u.Ry.K$.za(1e3);else if(e>0&&t[e-1].Uv){var o=r[e-1],a=t[e-1].Uv.K$.za(1e3);s=o.Wa(a)}else{if(0!==e||n)break;s=Dv.rc.za(1e3)}r.push(s)}for(var c=[],h=0;h<r.length-1;h++)c.push({Qn:t[h],Ry:r[h],Uv:r[h+1].Ka(r[h])});if(r.length>0){var f=r.length-1,v=t[f],d=r[f],l=Dv.$k;n||(l=v.Uv?v.Uv.K$.za(1e3):i.Ka(d)),c.push({Qn:v,Ry:d,Uv:l})}return c}(t.dlt,f,this.Oyt);this.Fyt(v),this.fyt(i)},i.Fyt=function(t){var n=this.Pyt;if(0!==t.length){for(var i=t[0].Qn.Hh,r=0;r<n.length&&n[r].Hh!==i;)r++;for(var e=n.splice(0,r),u=0;u<e.length;u++){e[u].$u()}for(var s=0;s<t.length;s++){var o=t[s];if(s<n.length){var a=n[s];0,a._o(o.Qn,o.Uv)}else n.push(new aV(this,o.Qn,o.Ry,o.Uv))}}else xn(n)},i.fyt=function(t){for(var n=0,i=this.Pyt;n<i.length;n++){i[n].fyt(t)}var r=this.eyt,e=this.vyt(t);r&&KH(r,e)||(this.eyt=e,this.vs(new jH))},i.vyt=function(t){return{igt:t,cyt:YH(this.Pyt),hyt:JH(this.Pyt)}},i.Sgt=function(){if(0!==this.Pyt.length){var t=this.Pyt[this.Pyt.length-1];if(t.Uv.tc()&&0!==t.klt.length){var n=t.klt[0];if(0!==n.vlt.length)return n.vlt[0].Tlt.Sgt()}}},i.$u=function(){this.gs();for(var t=0,n=this.Pyt;t<n.length;t++){n[t].$u()}},T(n,[{key:"Qn",get:function(){return this.gu}},{key:"Cu",get:function(){return this.gu.Cu||cF.ZT}},{key:"nwt",get:function(){return this.xyt||this.gu.nwt||this.awt}},{key:"twt",get:function(){return this.gu.twt}},{key:"_lt",get:function(){return this.Oyt}},{key:"S_t",get:function(){return this.ayt}},{key:"iwt",get:function(){return this.Uyt}},{key:"dlt",get:function(){return this.Pyt}},{key:"awt",get:function(){return this.gu.awt||this.wH}},{key:"h_t",get:function(){return this.gu.h_t}},{key:"Hyt",get:function(){return this.Lyt}},{key:"Vyt",get:function(){return this.wH}}]),n}(ii);var fV=function(){function t(t,n,i){this.TA=t,this.Xyt=n,this.qyt=i,this.Wyt=0}var n=t.prototype;return n.VA=function(){var t=Ct.coroutine(Nt.mark(function t(n){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.zyt(n,this.TA,this.Xyt,this.qyt).catch(Xn);case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Gyt=function(){return new Date(ot()+this.Wyt)},n.zyt=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r,e){var u,s,o;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=4;break}return t.next=3,this.jyt(i,e,r);case 3:u=t.sent;case 4:if(void 0!==u){t.next=17;break}Hn(r),s=0;case 7:if(!(s<n.length)){t.next=17;break}return o=n[s],t.next=11,this.Qyt(i,o,r);case 11:if(void 0===(u=t.sent)){t.next=14;break}return t.abrupt("break",17);case 14:s++,t.next=7;break;case 17:this.Wyt=void 0===u?0:u-ot();case 18:case"end":return t.stop()}},t,this)}));return function(n,i,r,e){return t.apply(this,arguments)}}(),n.Qyt=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r){var e,u,s,o;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=i.clt,t.t0=e,t.next="urn:mpeg:dash:utc:http-xsdate:2012"===t.t0?4:"urn:mpeg:dash:utc:http-xsdate:2014"===t.t0?4:"urn:mpeg:dash:utc:http-iso:2012"===t.t0?4:"urn:mpeg:dash:utc:http-iso:2014"===t.t0?4:"urn:mpeg:dash:utc:direct:2012"===t.t0?10:"urn:mpeg:dash:utc:direct:2014"===t.t0?10:16;break;case 4:if(!(u=i.Cn)){t.next=9;break}return t.next=8,this.jyt(n,u,r);case 8:return t.abrupt("return",t.sent);case 9:return t.abrupt("break",17);case 10:if(!(s=i.Cn)){t.next=15;break}if(o=new Date(s).getTime(),m(o)){t.next=15;break}return t.abrupt("return",o);case 15:return t.abrupt("break",17);case 16:return t.abrupt("return");case 17:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),n.jyt=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r){var e,u,s;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.yA({rA:i,sA:tl.GET,oA:Jd.yn,cs:r});case 3:return e=t.sent,t.next=6,e.IA();case 6:if(u=t.sent,s=new Date(u).getTime(),m(s)){t.next=10;break}return t.abrupt("return",s);case 10:t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),Vn(t.t0);case 16:case"end":return t.stop()}},t,null,[[0,12]])}));return function(n,i,r){return t.apply(this,arguments)}}(),t}(),vV=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).bwt=void 0,u.HQ=!0,u.Pyt=[],u.Yyt=void 0,u.Zyt=n,u.Jyt=n.if,u.Kyt=i,u.TA=r,u.$yt=e,u.tmt=new fV(u.TA,u.$yt,u.Zyt.nmt),u}ct(n,t);var i=n.prototype;return i.qnt=function(t){var n=this.Kd;this.HQ=t,n!==this.Kd&&this.vs(new uV)},i._o=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,e){var u,s,o,a,c,h,f,v,d,l,_,w,g;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=[],o=[],a=n.rwt?r.Oa(n.rwt,this.Jyt):this.Jyt,void 0!==this.bwt){t.next=10;break}return t.next=6,this.tmt.VA(n.hwt);case 6:this.bwt=new hV(n,this.Jyt,a,this.Gyt()),this.bwt.ls(TH.vwt,this.fs),t.next=11;break;case 10:this.bwt._o(n,a,this.Gyt(),i);case 11:if(0===(c=this.bwt.dlt).length)h=this.Pyt.slice(),xn(this.Pyt);else{for(f=c[0].Hh,v=0;v<this.Pyt.length&&this.Pyt[v].Hh!==f;)v++;for(h=this.Pyt.splice(0,v),d=0;d<c.length;d++)l=c[d],_=void 0,d<this.Pyt.length?_=this.Pyt[d]:(_=new rV(this,l),s.push(_)),o.push(_._o(this.Kyt,e))}return t.next=15,Ct.all(o);case 15:for((u=this.Pyt).push.apply(u,s),w=0,g=h;w<g.length;w++)g[w].yyt();this.vs(new eV);case 18:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.Gyt=function(){return this.tmt.Gyt()},i.Eyt=function(t){var n=this.Pyt.indexOf(t);if(n>0)return this.Pyt[n-1]},i.byt=function(t){var n=this.Pyt.indexOf(t);if(n>=0&&n+1<this.Pyt.length)return this.Pyt[n+1]},i.ywt=function(){return this.bwt?this.bwt.ywt():void 0},i.Iwt=function(){return this.bwt&&this.bwt.Iwt()},i.fyt=function(t){this.bwt&&this.bwt.fyt(t)},i.Ih=function(){this.gs(),this.Yyt=void 0,this.qnt(!1);for(var t=0,n=this.Pyt;t<n.length;t++){n[t].Ih()}xn(this.Pyt),this.bwt&&this.bwt.$u()},T(n,[{key:"twt",get:function(){return this.bwt&&this.bwt.twt}},{key:"nwt",get:function(){return this.bwt&&this.bwt.nwt}},{key:"Hh",get:function(){return this.bwt&&this.bwt.Qn.Hh}},{key:"Hyt",get:function(){var t;return null===(t=this.bwt)||void 0===t?void 0:t.Hyt}},{key:"imt",get:function(){var t;return null===(t=this.bwt)||void 0===t?void 0:t.Vyt}},{key:"iwt",get:function(){return this.bwt?this.bwt.iwt.map(function(t){return t.href}):[this.glt]}},{key:"glt",get:function(){return this.Jyt.href}},{key:"ewt",get:function(){return this.bwt&&this.bwt.Qn.ewt}},{key:"uwt",get:function(){return this.bwt&&this.bwt.Qn.uwt}},{key:"_lt",get:function(){return this.bwt&&this.bwt.Qn._lt}},{key:"swt",get:function(){return this.bwt&&this.bwt.Qn.swt}},{key:"owt",get:function(){var t,n,i=(null===(n=null===(t=this.bwt)||void 0===t?void 0:t.Qn.owt)||void 0===n?void 0:n.Vlt())||0;return w.max(i,lV)}},{key:"Kd",get:function(){return this.HQ}},{key:"dlt",get:function(){return this.Pyt}},{key:"rmt",get:function(){return this.Cu===cF.ZT?this.emt:this.qwt}},{key:"umt",get:function(){var t=this.rmt;if(t)for(var n=0,i=this.dlt;n<i.length;n++){var r=i[n];if(r.Ry.qa(t)&&r.Ny.Ga(t))return r}}},{key:"p_t",get:function(){return this.bwt&&this.bwt.Qn.p_t}},{key:"awt",get:function(){return this.bwt&&this.bwt.awt}},{key:"Syt",get:function(){for(var t=this.Pyt.length-1;t>=0;t-=1){var n=this.Pyt[t].Syt;if(n)return n}}},{key:"qwt",get:function(){var t=this.Syt;if(t){var n=t.Ka(this.smt);return no.Ha(n,this.emt)}}},{key:"emt",get:function(){for(var t=0,n=this.Pyt;t<n.length;t++){var i=n[t].gwt;if(i)return i}}},{key:"fA",get:function(){return Boolean(this.Zyt.fA)}},{key:"smt",get:function(){var t=this.bwt&&this.bwt.Qn.cwt;return t?t.llt:this.Cu===cF.JT?this.F8:no.rc}},{key:"F8",get:function(){return this.Zyt.F8?new no(this.Zyt.F8,1):this.swt.llt.$a(1.5)}},{key:"h_t",get:function(){return this.bwt&&this.bwt.h_t}},{key:"Cu",get:function(){return this.bwt?this.bwt.Cu:cF.ZT}}]),n}(ii),dV=function(){function t(t,n,i,r){this.wyt=new vV(t,n,i,r)}return T(t,[{key:"Swt",get:function(){return this.wyt}}]),t}(),lV=1e3,_V=w.pow(2,31)-1,wV=function(){function t(t,n,i,r){var e=this;this.omt=new Ln,this.amt=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i,r;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,i=e.bwt.Swt.Gyt(),t.next=4,e.cmt(e.bwt.Swt.iwt,n);case 4:return r=t.sent,t.next=7,e.bwt.Swt._o(r,i,n);case 7:t.next=13;break;case 9:throw t.prev=9,t.t0=t.catch(0),fl(t.t0)&&e.bwt.Swt.qnt(!1),t.t0;case 13:case"end":return t.stop()}},t,null,[[0,9]])}));return function(n){return t.apply(this,arguments)}}(),this.R6=r,this.bwt=new dV(t,n,i,this.omt.cs)}var n=t.prototype;return n.EC=function(){var t=Ct.coroutine(Nt.mark(function t(n){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.bwt.Swt.vs(new hS),t.prev=1,t.next=4,TL(this.amt,n);case 4:this.bwt.Swt.qnt(!0),t.next=13;break;case 7:throw t.prev=7,t.t0=t.catch(1),Vn(t.t0),this.hmt=void 0,this.bwt.Swt.qnt(!1),new d("The provided MPEG-DASH document could not be loaded - "+t.t0.message);case 13:this.fmt=this.vmt(this.omt.cs);case 14:case"end":return t.stop()}},t,this,[[1,7]])}));return function(n){return t.apply(this,arguments)}}(),n.vmt=function(){var t=Ct.coroutine(Nt.mark(function t(n){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0;case 1:if("static"===this.bwt.Swt.Cu){t.next=6;break}return t.next=4,qn(this.dmt,n);case 4:t.next=1;break;case 6:t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}},t,this,[[0,8]])}));return function(n){return t.apply(this,arguments)}}(),n.lmt=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i,r;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Hn(n),!((i=this._mt())>0)){t.next=6;break}return r=w.min(i,_V),t.next=6,Jn(r,n);case 6:return t.prev=6,t.next=9,TL(this.amt,n,1/0,lV,3e4);case 9:this.bwt.Swt.qnt(!0);case 10:return t.prev=10,this.wmt=void 0,t.finish(10);case 13:case"end":return t.stop()}},t,this,[[6,,10,13]])}));return function(n){return t.apply(this,arguments)}}(),n._mt=function(){var t=this.bwt.Swt.Gyt().getTime()-this.bwt.Swt.Hyt.getTime();return this.bwt.Swt.owt-t},n.gmt=function(t){var n=this.bwt.Swt.Iwt();if(n){var i=n.getTime()-t.getTime();if(i>0)return i}this.bwt.Swt.fyt(t);var r=this.bwt.Swt.Iwt();return r?r.getTime()-t.getTime():NaN},n.ymt=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.wmt||(this.wmt=this.lmt(n)),(i=new Ln).os(n),t.prev=3,t.next=6,Ct.race([this.wmt,this.mmt(i.cs)].filter(L));case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(3),Xn(t.t0);case 11:return t.prev=11,i.ss(),t.finish(11);case 14:case"end":return t.stop()}},t,this,[[3,8,11,14]])}));return function(n){return t.apply(this,arguments)}}(),n.mmt=function(t){var n=this.bwt.Swt.Gyt(),i=this.gmt(n);if(!m(i))return this.kmt(i,t)},n.kmt=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Jn(n,i);case 2:r=this.bwt.Swt.Gyt(),this.bwt.Swt.fyt(r);case 4:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.cmt=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r,e;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.R6.T6(n,{},i,!1);case 2:return r=t.sent,e=new EH,t.abrupt("return",e.ovt(r.l6,r.kA));case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.Ih=function(){return this.omt.ss(),this.fmt=void 0,this.hmt=void 0,this.wmt=void 0,this.bwt.Swt.Ih(),Ct.resolve()},T(t,[{key:"pmt",get:function(){return this.bwt}},{key:"DK",get:function(){return this.hmt||(this.hmt=this.EC(this.omt.cs),Qn(this.hmt)),this.hmt}},{key:"dmt",get:function(){return this.bwt.Swt.imt&&this.bwt.Swt.Cu!==cF.ZT?this.ymt(this.omt.cs):this.DK}}]),t}(),gV=function(){function t(t,n,i){this.R6=t,this.Amt=n,this.bmt=i}var n=t.prototype;return n.Tmt=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.src){t.next=2;break}throw new d("Invalid typed source");case 2:if(!If(i=n.type)){t.next=9;break}return t.next=6,this.Emt(n);case 6:return t.abrupt("return",t.sent);case 9:if(!$a(i)){t.next=15;break}return t.next=12,this.Smt(n);case 12:return t.abrupt("return",t.sent);case 15:throw new d("Unexpected source type");case 16:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Emt=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,bF(n.src,this.R6);case 3:return i=t.sent,t.next=6,EF(i,this.R6);case 6:return t.abrupt("return",t.sent);case 9:throw t.prev=9,t.t0=t.catch(0),new d("Unable to fetch HLS manifest");case 12:case"end":return t.stop()}},t,this,[[0,9]])}));return function(n){return t.apply(this,arguments)}}(),n.Smt=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,i=new wV({if:r.Oa(n.src),F8:n.liveOffset,nmt:n.timeServer,fA:n.useCredentials},this.bmt,Gb.ND,this.R6),t.next=4,i.DK;case 4:return t.next=6,iF(i.pmt.Swt,n.contentProtection,this.Amt);case 6:return t.abrupt("return",t.sent);case 9:throw t.prev=9,t.t0=t.catch(0),new d("Unable to fetch DASH manifest");case 12:case"end":return t.stop()}},t,this,[[0,9]])}));return function(n){return t.apply(this,arguments)}}(),t}(),yV=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i,e,u,s,o;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n.tS,MediaSource.isTypeSupported(i)||wl(n.ZR,n.IY)){t.next=3;break}return t.abrupt("return",!1);case 3:if(!n.flt){t.next=17;break}e=n.flt,u=Bn(e,function(t){return hn(t.clt)}).filter(L),s=0;case 7:if(!(s<u.length)){t.next=16;break}return o=u[s],t.next=11,r.Wu(o,i);case 11:if(!t.sent){t.next=13;break}return t.abrupt("return",!0);case 13:s++,t.next=7;break;case 16:return t.abrupt("return",!1);case 17:return t.abrupt("return",!0);case 18:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),mV=function(){function t(t){this.Rmt=[],this.Imt=0,this.Nmt=t}var n=t.prototype;return n.Cmt=function(){var t=new qr;return this.Rmt.push(t),this.Dmt(),t.Zs},n.Omt=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n;case 2:this.Imt-=1,this.Dmt(),0===this.Rmt.length&&0===this.Imt&&i.Js(!0);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.Dmt=function(){this.Rmt.length>0&&this.Imt<this.Nmt&&(this.Rmt.shift().Js(),this.Imt+=1)},t}();function kV(t,n){for(var i=0,r=0,e=t.Ig.uK.map(function(t){return t.Uv});r<e.length;r++){if((i+=e[r])>=n)return i}return i}var pV=function(t){function n(n,i,r,e,u,s,o){var a;void 0===o&&(o=yV),(a=t.call(this)||this).xmt=new qr,a.Pmt=qU.elt(),a.N6=n,a.vK=i,a.R6=r,a.Bmt=e,a.Mmt=u,a.Amt=s,a.bmt=o,a.Lmt=-1;var c=a.N6.CS.sources[0];return a.Umt=c,a.hd=a.Rd(),a.Fmt=new mV(a.N6.xp.parallelTasksThreshold),a}ct(n,t);var i=n.prototype;return i.Rd=function(){var t=Ct.coroutine(Nt.mark(function t(){var n,i,r,e,u,s,o,a,c,h,f,v,d,l,_,g,y,m,k,p,A,b,T,E,S,R,I,N,C=this;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=new gV(this.R6,this.Amt,this.bmt),t.next=3,i.Tmt(this.Umt);case 3:return this.zY=t.sent,r=this.N6.xp.amount,e=this.zY.Uv,u=GU(r,e),this.tlt=u,o=RD(this.zY.wlt[0]),t.next=11,this.vK.eK.nK(o,"manifestURL");case 11:for(a=t.sent.filter(function(t){return Dn(t.references,C.N6.Hh)}),c=[],h=this.N6.xp.bandwidth,f=0,v=this.zY.dlt;f<v.length;f++)for(d=v[f],l=0,_=d.mlt;l<_.length;l++)for(g=_[l],y=0,m=TV(g.P_);y<m.length;y++)for(k=m[y],p=0,A=EV(k.zh,h);p<A.length;p++)b=A[p],c.push(b);if(this.Lmt=w.ceil(c.map(function(t){return t.lD*kV(t,u)/8}).reduce(function(t,n){return t+n},0)),T=xt(),a&&0!==a.length){for(E=a.reduce(function(t,n){return t+n.byteSize},0),S=function(t){var i=a[t],r=i.qualityId,e=new nf(i.startsAndEnds);if(T.has(r))T.get(r).timeRanges=T.get(r).timeRanges.Zy(e).Yy(5e-4);else{var u=Rn(c,function(t){return t.Hh===r}),s=w.min(C.tlt,null!==(n=null==u?void 0:u.Ig.Uv)&&void 0!==n?n:1/0);T.set(r,{timeRanges:e,totalQualityDurationToCache:s})}},R=0;R<a.length;R++)S(R);s=new qU(E,T,this.tlt)}else{for(I=0;I<c.length;I++)N=c[I],T.set(N.Hh,{timeRanges:new nf([]),totalQualityDurationToCache:w.min(N.Ig.Uv,this.tlt)});s=new qU(0,T,this.tlt)}this.Hmt=s;case 19:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Vmt=function(){var t=Ct.coroutine(Nt.mark(function t(n){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.hd;case 2:return t.next=4,this.Xmt(this.zY,n);case 4:return t.next=6,this.xmt.Zs;case 6:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Xmt=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r,e,u,s;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.wlt){t.next=2;break}throw new d("Unexpected - manifest is missing locations");case 2:return t.next=4,this.qmt();case 4:for(r=[],e=0,u=n.dlt;e<u.length;e++)s=u[e],r.push(this.Wmt(s,n.wlt[0],i));return t.abrupt("return",Ct.all(r));case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.qmt=function(){var t=Ct.coroutine(Nt.mark(function t(){var n,i,r,e;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Bmt.tK();case 2:n=t.sent,i=0;case 4:if(!(i<n.length)){t.next=25;break}return r=n[i],t.next=8,this.vK.sK.Ms(r.key);case 8:if(!(e=t.sent)){t.next=14;break}return t.next=12,AV(e,this.N6.Hh,this.vK.sK);case 12:t.next=22;break;case 14:return t.prev=14,t.next=17,this.vK.sK.JJ(r);case 17:t.next=22;break;case 19:throw t.prev=19,t.t0=t.catch(14),new QU("Unable to store manifest with url: "+r.locationURL,t.t0);case 22:i++,t.next=4;break;case 25:return t.next=27,this.Bmt.rK();case 27:case"end":return t.stop()}},t,this,[[14,19]])}));return function(){return t.apply(this,arguments)}}(),i.Wmt=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r){var e,u,s,o,a,c,h;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=[],u=0,s=n.mlt;u<s.length;u++)for(o=s[u],a=TV(o.P_),c=0;c<a.length;c++)h=a[c],e.push(this.zmt(h,i,r));return t.abrupt("return",Ct.all(e));case 3:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.zmt=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r){var e,u,s,o,a;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.N6.xp.bandwidth,u=EV(n.zh,e),n.Cu!==Jh.Kl||!n.blt||!n.blt.Ab.widevine||"persistent"!==n.blt.Ab.widevine.licenseType){t.next=6;break}return t.next=5,this.Gmt(n.blt);case 5:Hn(r);case 6:for(s=[],o=0;o<u.length;o++)a=u[o],s.push(this.jmt(a,i,r));return t.abrupt("return",Ct.all(s));case 9:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.jmt=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r){var e,u,s,o,a,c;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Hn(r),!n.K5){t.next=7;break}return e={qm:0,Uv:0,Clt:n.K5},t.next=5,this.Fmt.Cmt();case 5:Hn(r),Qn(this.Fmt.Omt(this.Qmt(e,n,i),this.xmt));case 7:u=n.Ig.uK[0].qm,s=u+this.tlt,o=0,a=n.Ig.uK;case 10:if(!(o<a.length)){t.next=22;break}if(!((c=a[o]).qm>=s)){t.next=14;break}return t.abrupt("break",22);case 14:return t.next=16,this.Fmt.Cmt();case 16:return t.next=18,this.Ymt(r);case 18:Qn(this.Fmt.Omt(this.Qmt(c,n,i),this.xmt));case 19:o++,t.next=10;break;case 22:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.Ymt=function(){var t=Ct.coroutine(Nt.mark(function t(n){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(null==n?void 0:n.Qu)){t.next=4;break}return t.next=3,this.xmt.Zs;case 3:throw new Un;case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Zmt=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.hd;case 2:return t.abrupt("return",this.zY);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Gmt=function(t){return Ct.resolve()},i.Jmt=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return et("License renewal unsupported in this SDK."),t.abrupt("return");case 2:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),i.Qmt=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r){var e,u,s,o,a,c,h;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.vK.eK,u=ID(n.Clt.rA,n.Clt.$j),t.next=4,e.Ms(u);case 4:if(!(s=t.sent)){t.next=11;break}return t.next=8,AV(s,this.N6.Hh,e);case 8:this.Kmt(s,!1),t.next=24;break;case 11:return t.prev=11,t.next=14,this.$mt(n.Clt);case 14:return o=t.sent,a=this.tkt(n,i,r,o),c=a.segmentMetadataEntry,h=a.segmentEntry,t.next=18,this.vK.cK(function(){var t=Ct.coroutine(Nt.mark(function t(n){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.eK.JJ(c);case 2:return t.next=4,n.uK.JJ(h);case 4:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}());case 18:this.Kmt(c,!0),t.next=24;break;case 21:throw t.prev=21,t.t0=t.catch(11),new QU("Unable to store segment with url: "+n.Clt.rA,t.t0);case 24:case"end":return t.stop()}},t,this,[[11,21]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.$mt=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Mmt.nkt(n,!1);case 2:return i=t.sent,t.next=5,this.ikt(i);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.ikt=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.sT();case 2:return i=t.sent,t.abrupt("return",{buffer:i});case 4:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.tkt=function(t,n,i,r){var e=ID(t.Clt.rA,t.Clt.$j),u=t.qm,s=t.Uv,o=this.rkt(r);return{segmentMetadataEntry:{key:e,segmentURLsegmentByteRange:e,manifestURL:RD(i),qualityId:n.Hh,byteSize:o,startsAndEnds:new nf([u,u+s]).Dy,references:[this.N6.Hh]},segmentEntry:{key:e,segmentURLsegmentByteRange:e,manifestURL:RD(i),data:r}}},i.rkt=function(t){return t.buffer.byteLength},i.Kmt=function(t,n){var i=t.qualityId,r=this.Pmt,e=r.Sm;e.get(i).timeRanges=e.get(i).timeRanges.Zy(new nf(t.startsAndEnds)).Yy(5e-4),this.Hmt=new qU(n?r.ult+t.byteSize:r.ult,e,this.tlt)},T(n,[{key:"ekt",get:function(){return this.Lmt}},{key:"Hmt",get:function(){return this.Pmt},set:function(t){this.Pmt.Ja(t)||(this.Pmt=t,t.Ja(qU.elt())||this.vs(new XU))}}]),n}(ii);function AV(t,n,i){return bV.apply(this,arguments)}function bV(){return(bV=Ct.coroutine(Nt.mark(function t(n,i,r){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Dn(n.references,i)){t.next=4;break}return n.references.push(i),t.next=4,r.JJ(n);case 4:case"end":return t.stop()}},t)}))).apply(this,arguments)}function TV(t){return t.length?[t[0]]:[]}function EV(t,n){if(!t.length)return[];var i=[].concat(t).sort(HU),r=i.filter(function(t){return t.lD<=n});return r.length>0?[r.pop()]:[i.shift()]}var SV=function(){function t(t){this.LT=new Dl,this.TA=t}var n=t.prototype;return n.yA=function(t){var n=this,i=new qr;return this.LT.LA(function(r){return n.ukt(i,t,r)},t.cs).catch(j),i.Zs},n.kI=function(t){return this.TA.kI(t)},n.ukt=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r){var e,u,s;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Hn(r),e=new cl({rA:i.rA,cs:r},i),u=this.TA.yA(e),n.Js(u),t.next=6,u;case 6:return s=t.sent,t.next=9,s.UN();case 9:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),n.Ih=function(){this.LT.Ih()},T(t,[{key:"TD",get:function(){return this.TA.TD}}]),t}(),RV=function(){function t(t){this.TA=t,this.skt=new SV(this.TA)}var n=t.prototype;return n.nkt=function(t,n,i){return this.ftt(t,n,!0,!1,i)},n.okt=function(t,n,i){return this.ftt(t,n,!1,!1,i)},n.akt=function(t,n,i){return this.ftt(t,n,!1,!0,i)},n.ftt=function(){var n=Ct.coroutine(Nt.mark(function n(i,r,e,u,s){var o;return Nt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Hn(s),n.next=3,this.ckt(i,e,u,s);case 3:if(o=n.sent,!r){n.next=8;break}return n.abrupt("return",t.hkt(o));case 8:return n.abrupt("return",this.fkt(o));case 9:case"end":return n.stop()}},n,this)}));return function(t,i,r,e,u){return n.apply(this,arguments)}}(),n.fkt=function(t){return t},t.hkt=function(t){return t},n.ckt=function(t,n,i,r){var e=new cl({rA:t.rA,oA:Zd.Fp,uA:t.$j?{Range:"bytes="+t.$j[0]+"-"+t.$j[1]}:void 0,fA:t.fA,sA:tl.GET,Cu:nl.jp,cA:i?il.Yp:il.Ty,hA:this.vkt,cs:r});return n?this.skt.yA(e):this.TA.yA(e)},T(t,[{key:"vkt",get:function(){return rl.Ty}}]),t}();function IV(t){return void 0!==t}var NV=function(){function t(){this.dkt=[]}var n=t.prototype;return n.JJ=function(t){return this.lo(t.key),this.dkt.push(t),Ct.resolve()},n.KJ=function(t){var n=this;return t.forEach(function(t){return n.JJ(t)}),Ct.resolve()},n.Bs=function(t){return Ct.resolve(Boolean(this.Ms(t)))},n.Ms=function(t,n){return Ct.resolve(this.lkt(t,n))},n.$J=function(t){var n=this,i=t?t.map(function(t){return n.lkt(t)}):this.dkt;return Ct.resolve(i.filter(IV))},n.tK=function(){return Ct.resolve([].concat(this.dkt))},n.nK=function(t,n){var i=n||"key",r=this.dkt.filter(function(n){return n[i]===t});return Ct.resolve(r)},n.lo=function(t){var n=this.lkt(t);return n&&Nn(this.dkt,n),Ct.resolve()},n.iK=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.lo(i)}return Ct.resolve()},n.rK=function(){return xn(this.dkt),Ct.resolve()},n.lkt=function(t,n){n=n||"key";for(var i=0,r=this.dkt;i<r.length;i++){var e=r[i];if(e[n]===t)return e}},t}(),CV=function(){function t(t){this._kt=t}return t.prototype.nyt=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r,e){var u,s,o,a;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:s=0,o=this._kt;case 1:if(!(s<o.length)){t.next=16;break}return a=o[s],t.prev=3,t.next=6,a.nyt(n,i,r,e);case 6:return t.abrupt("return",t.sent);case 9:t.prev=9,t.t0=t.catch(3),Vn(t.t0),u=t.t0;case 13:s++,t.next=1;break;case 16:throw u;case 17:case"end":return t.stop()}},t,this,[[3,9]])}));return function(n,i,r,e){return t.apply(this,arguments)}}(),t}(),DV=function(){function t(t){this.TA=t}return t.prototype.nyt=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r,e){var u;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.TA.yA({rA:n,oA:Jd.Fp,uA:{Range:"bytes="+i[0]+"-"+i[1]},fA:r,sA:tl.GET,Cu:nl.Ty,cs:e});case 2:return u=t.sent,t.next=5,u.sT();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}},t,this)}));return function(n,i,r,e){return t.apply(this,arguments)}}(),t}(),OV=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).pat=n,e}return ct(n,t),n}(lt),xV=function(){function t(t){this.E6=t}return t.prototype.nyt=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r,e){var u,s;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.E6.A6(n,i);case 2:if(!(u=t.sent)){t.next=5;break}return t.abrupt("return",u.buffer);case 5:return t.next=7,this.E6.A6(n);case 7:if(!(s=t.sent)){t.next=10;break}return t.abrupt("return",Fr(new k(s.buffer),i[0],i[1]));case 10:throw new OV({rA:n,$j:i,fA:!1});case 11:case"end":return t.stop()}},t,this)}));return function(n,i,r,e){return t.apply(this,arguments)}}(),t}();var PV=function(t){function n(){return t.apply(this,arguments)||this}return ct(n,t),n.prototype.wkt=function(t,n,i,r,e,u){return new pV(t,n,i,r,e,u)},n}(function(){function t(t){this.TA=t}return t.prototype.XG=function(t,n){var i=Boolean(t.CS.sources[0].useCredentials),r=new RV(this.TA),e=new pP(this.TA,i),u=new AP(n.sK,n.eK,n.uK,n.aK),s=function(t,n){return new CV([new xV(n),new DV(t)])}(this.TA,u),o=new NV,a=new RP(SP(e,u),o,t);return this.wkt(t,n,a,o,r,s)},t}());function BV(t){var n,i={get id(){return t.Hh},get status(){return t.pA},get source(){return t.CS},get parameters(){return t.xp},get duration(){return t.Uv},get cached(){return t.gkt.By()},get secondsCached(){return t.ykt},get percentageCached(){return t.mkt},get bytes(){return t.kkt},get bytesCached(){return t.pkt},get license(){return t.dI.Jc},start:function(){t.Ry()},pause:function(){t.kd()},remove:function(){t.lo()},addEventListener:function(t,i){n.ls(t,i)},removeEventListener:function(t,i){n.ys(t,i)}};return n=new qT(t,i),i}var MV=function(){function t(t,n,i){this.N6=t,this.vK=n,this.zY=i}var n=t.prototype;return n.Akt=function(){var t=Ct.coroutine(Nt.mark(function t(){var n=this;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.vK.cK(function(){var t=Ct.coroutine(Nt.mark(function t(i){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.bkt(i);case 2:return t.next=4,n.Tkt(i);case 4:return t.next=6,n.Ekt(i);case 6:return t.next=8,n.Skt(i);case 8:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.bkt=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i,r;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.oK,r=this.N6.Hh,t.next=4,i.lo(r);case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Tkt=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i,r,e,u,s,o,a=this;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.eK,r=n.uK,e=RD(this.N6.CS.sources[0].src),t.next=5,i.nK(e,"manifestURL");case 5:u=t.sent.filter(function(t){return Dn(t.references,a.N6.Hh)}),s=0;case 7:if(!(s<u.length)){t.next=22;break}if(Nn((o=u[s]).references,this.N6.Hh),0!==o.references.length){t.next=17;break}return t.next=13,i.lo(o.key);case 13:return t.next=15,r.lo(o.key);case 15:t.next=19;break;case 17:return t.next=19,i.JJ(o);case 19:s++,t.next=7;break;case 22:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Ekt=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i,r,e,u,s,o=this;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.sK,r=this.Rkt(),t.next=4,i.$J(r);case 4:e=t.sent.filter(function(t){return Dn(t.references,o.N6.Hh)}),u=0;case 6:if(!(u<e.length)){t.next=19;break}if(Nn((s=e[u]).references,this.N6.Hh),0!==s.references.length){t.next=14;break}return t.next=12,i.lo(s.key);case 12:t.next=16;break;case 14:return t.next=16,i.JJ(s);case 16:u++,t.next=6;break;case 19:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Rkt=function(){if(!this.zY)return[];var t=RD(this.N6.CS.sources[0].src),n=function(t){if(!t)return[];for(var n=[],i=0,r=t.dlt;i<r.length;i++)for(var e=0,u=r[i].mlt;e<u.length;e++)for(var s=0,o=u[e].P_;s<o.length;s++)for(var a=0,c=o[s].zh;a<c.length;a++){var h=c[a];h.xlt&&n.push(h.xlt)}return n.reduce(function(t,n){return t.indexOf(n)<0&&t.push(n),t},[])}(this.zY).map(function(t){return{src:t}}).map(function(t){return RD(t.src)});return[t].concat(n)},n.Skt=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i,r,e,u,s=this;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.aK,t.next=3,i.tK();case 3:r=t.sent.filter(function(t){return Dn(t.references,s.N6.Hh)}),e=0;case 5:if(!(e<r.length)){t.next=19;break}if(Nn((u=r[e]).references,this.N6.Hh),0!==u.references.length){t.next=14;break}return t.next=11,i.lo(u.key);case 11:this.Ikt(u),t.next=16;break;case 14:return t.next=16,i.JJ(u);case 16:e++,t.next=5;break;case 19:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Ikt=function(t){},t}(),LV=new(function(){function t(){}return t.prototype.XG=function(t,n,i){return new MV(t,n,i)},t}());var UV=function(){function t(t,n){this.pr=t,this.Nkt=n}var n=t.prototype;return n.U2=function(t){this.Ckt(t)},n.Ckt=function(){var t=Ct.coroutine(Nt.mark(function t(n){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.Nkt.Jmt(n);case 3:t.next=9;break;case 5:t.prev=5,t.t0=t.catch(0),this.pr.zdt(RU.ERROR);case 9:case"end":return t.stop()}},t,this,[[0,5]])}));return function(n){return t.apply(this,arguments)}}(),T(t,[{key:"Jc",get:function(){var t;return this.Zc||(this.Zc=(t=this,{renew:function(n){t.U2(n)}})),this.Zc}}]),t}(),FV=function(t){function n(n,i,r,e,u){var s;(s=t.call(this)||this).Dkt=new Ln,s.evictOnLoading=function(){s.ys("Ddt",s.evictOnLoading),s.Okt()},s.Dm=n,s.cft=i,s.xkt=r,s.vK=e,s.Nkt=u.XG(vt(s),s.vK),s.Pkt=new UV(vt(s),s.Nkt),s.Xdt=1===s.Nkt.Hmt.slt?RU.DONE:RU.IDLE,s.Nkt.ls("TJ",function(t){s.fs(t),1===s.mkt&&s.zdt(RU.DONE)});var o=new Date,a=s.xkt.expirationDate.getTime()-o.getTime();return a<2147483647&&c(function(){return s.Okt()},a),s}ct(n,t);var i=n.prototype;return i.zdt=function(t){this.Xdt!==t&&(this.Xdt=t,this.vs(new NU))},i.Ry=function(){this.Xdt===RU.EVICTED||this.Xdt===RU.DONE||this.Bkt()},i.Bkt=function(){var t=Ct.coroutine(Nt.mark(function t(){var n;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.zdt(RU.LOADING),n=new Ln,this.Dkt=n,t.next=6,this.Nkt.Vmt(n.cs);case 6:this.zdt(RU.DONE),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),Fn(t.t0)?this.zdt(RU.IDLE):this.zdt(RU.ERROR);case 12:return t.prev=12,this.Dkt.$u(),t.finish(12);case 15:case"end":return t.stop()}},t,this,[[0,9,12,15]])}));return function(){return t.apply(this,arguments)}}(),i.kd=function(){this.Dkt.ss()},i.lo=function(){this.pA===RU.LOADING?(this.ls("Ddt",this.evictOnLoading),this.kd()):this.Okt()},i.Okt=function(){var t=Ct.coroutine(Nt.mark(function t(){var n;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.Nkt.Zmt();case 3:return n=t.sent,t.next=6,LV.XG(this,this.vK,n).Akt();case 6:this.Nkt.Hmt=qU.elt(),this.zdt(RU.EVICTED),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),this.zdt(RU.ERROR);case 14:case"end":return t.stop()}},t,this,[[0,10]])}));return function(){return t.apply(this,arguments)}}(),T(n,[{key:"Jc",get:function(){return this.Zc||(this.Zc=BV(this)),this.Zc}},{key:"Hh",get:function(){return this.Dm}},{key:"dI",get:function(){return this.Pkt}},{key:"pA",get:function(){return this.Xdt}},{key:"CS",get:function(){return this.cft}},{key:"xp",get:function(){return this.xkt}},{key:"Uv",get:function(){return this.Nkt.Hmt.fm}},{key:"gkt",get:function(){return this.Nkt.Hmt.rlt}},{key:"ykt",get:function(){return this.Nkt.Hmt.ilt}},{key:"mkt",get:function(){return this.Nkt.Hmt.slt}},{key:"kkt",get:function(){return this.Nkt.ekt}},{key:"pkt",get:function(){return this.Nkt.Hmt.ult}}]),n}(_a);var HV=function(){function t(t,n){this.vK=t,this.Mkt=n}var n=t.prototype;return n.Ydt=function(t,n){var i=uy();return this.jdt(i,t,n)},n.jdt=function(t,n,i){return new FV(t,n,i,this.vK,this.Mkt)},t}(),VV=30,XV=5;function qV(t){if(!t)throw new d("Unexpected - The cache parameters are undefined");var n=function(t){if(X(t)&&!vn(t,"%"))return g(t);return t}(t.amount);!function(t){if(i=t,X(i)&&vn(i,"%")){var n=y(t);if(m(n)||n<0||n>100)throw new d("The amount as percentage must be between 0 and 100 percent.")}var i;if(!X(t)&&m(t))throw new d("The amount must be a number or a string")}(n);var i=function(t){if(!t)return(n=new Date).setMinutes(n.getMinutes()+VV),n;var n;return t}(t.expirationDate);!function(t){if(t&&(n=t,n&&!(z(n)&&n>new Date)))throw new d("Invalid expiration date for the cache parameters");var n}(i);var r=function(t){if(void 0===t)return 1/0;return t}(t.bandwidth);return function(t){if(m(t)||t<0)throw new d("The bandwidth must be between zero and infinity.")}(r),{amount:n,expirationDate:i,bandwidth:r,parallelTasksThreshold:function(t){if(!t)return XV;if(m(t))throw new d("The amount must be a number");return t}(t.numberOfParallelTasks)}}var WV=function(t){function n(n,i){var r;return(r=t.call(this)||this).Lkt=n,r.yB=i,r.Lkt.ls("Ddt",r.fs),r}return ct(n,t),n.prototype.Ukt=function(t,n){var i,r;if(!t)throw new d("Unexpected - The source description is undefined");if(i=Lf(t),r=qV(n),Ef(i))throw new d("Invalid source description");return this.Lkt.jdt(i,r).Jc},T(n,[{key:"Jc",get:function(){var t,n,i;return this.Zc||(this.Zc=(i={get status(){return t.pA},get tasks(){return t.Kdt},get network(){return t.IB.Jc},createTask:function(n,i){return t.Ukt(n,i)},addEventListener:function(t,i){n.ls(t,i)},removeEventListener:function(t,i){n.ys(t,i)}},n=new qT(t=this,i),i)),this.Zc}},{key:"pA",get:function(){return this.Lkt.pA}},{key:"Kdt",get:function(){return this.Lkt.Kdt.Jc}},{key:"IB",get:function(){return this.yB}}]),n}(_a);(zV=new ST(Gb.SD,!1),GV=SD.dn,jV=new PV(zV),QV=new HV(GV,jV),YV=new IT(zV),ZV=new FU(GV.oK,QV),new WV(ZV,YV)).Jc;var zV,GV,jV,QV,YV,ZV,JV=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).GU=0,u.Fkt=new nf([]),u.Hkt=0,u.Vkt=0,u.Dm=n,u.Xdt=RU.IDLE,u.cft=i,u.xkt=r,u.Lkt=e,u}ct(n,t);var i=n.prototype;return i.Ry=function(){this.Lkt.startCachingTask(this)},i.lo=function(){this.Lkt.removeCachingTask(this)},T(n,[{key:"Jc",get:function(){return this.Zc||(this.Zc=BV(this)),this.Zc}},{key:"Hh",get:function(){return this.Dm}},{key:"pA",get:function(){return this.Xdt},set:function(t){this.Xdt!==t&&(this.Xdt=t,this.vs(new NU))}},{key:"CS",get:function(){return this.cft}},{key:"xp",get:function(){return this.xkt}},{key:"Uv",get:function(){return this.GU},set:function(t){this.GU=t}},{key:"gkt",get:function(){return this.Fkt},set:function(t){this.Fkt=t}},{key:"ykt",get:function(){return this.Hkt},set:function(t){this.Hkt=t}},{key:"mkt",get:function(){return this.Vkt},set:function(t){this.Vkt=t,this.vs(new XU)}}]),n}(wa),KV=30;function $V(t){var n,i;if(!t)throw new d("Unexpected - The cache parameters are undefined");if(t.expirationDate?n=t.expirationDate:(n=new Date).setMinutes(n.getMinutes()+KV),n&&((i=n)&&!(z(i)&&i>new Date)))throw new d("Invalid expiration date for the cache parameters");return{expirationDate:n}}var tX=function(t){function n(){var n;return(n=t.call(this)||this).Xdt=xU.UNINITIALISED,n.OA=new UU,n.Xkt=function(t){if(t.detail){var i=n.findTaskWithId(t.detail.id);i&&(i.pA=RU.EVICTED,i.mkt=0,i.ykt=0,i.Uv=0,i.gkt=new nf([]),n.OA.lo(i))}},n.qkt=function(t){if(t.detail){var i=n.findTaskWithId(t.detail.id);if(i){var r=t.detail.status;r&&(i.pA=r);var e=t.detail.percentage;e&&(i.mkt=e);var u=t.detail.duration;u&&(i.Uv=u);var s=t.detail.seconds;s&&(i.ykt=s);var o=t.detail.cached;if(o){for(var a=[],c=0;c<o.length;c++){var h=o[c];a.push(h.start,h.end)}i.gkt=new nf(a)}}}},n.Wkt=function(t){if(t.detail){var i=Lf(JSON.parse(t.detail.source));if(!n.zkt(i)){var r={},e=t.detail.expirationDate;e&&(r={expirationDate:new Date(e)});var u=t.detail.uuid;n.jdt(i,$V(r),u)}}},n.Gkt=function(t){if(t.detail){var i={},r=t.detail.expirationDate;r&&(i={expirationDate:new Date(r)});var e=JSON.parse(t.detail.source),u=t.detail.uuid,s=n.jdt(Lf(e),$V(i),u);s.pA=t.detail.status,s.mkt=t.detail.percentage,s.Uv=t.detail.duration,s.ykt=t.detail.seconds;for(var o=t.detail.cached,a=[],c=0;c<o.length;c++){var h=o[c];a.push(h.start,h.end)}s.gkt=new nf(a)}},n.jkt=function(t){t.detail&&n.zdt(t.detail.status)},n.Ovt=new TU,n.Jvt=new rU,JL().cache={sdkEventBus:n.Jvt},n.AZ(),n}ct(n,t);var i=n.prototype;return i.zdt=function(t){this.Xdt!==t&&(this.Xdt=t,this.vs(new NU))},i.jdt=function(t,n,i){void 0===i&&(i=void 0);var r=new JV(i||uy(),t,n,this);return this.OA.Wa(r),i||this.Ovt.Dvt("THEOplayerCacheCreateCachingTask",{source:t,parameters:n,id:r.Hh}),r},i.findTaskWithId=function(t){for(var n=0,i=this.OA.Udt;n<i.length;n++){var r=i[n];if(r.Hh===t)return r}},i.zkt=function(t){for(var n=iX(t.sources),i=0,r=this.OA.Udt;i<r.length;i++){if(iX(r[i].CS.sources).src===n.src)return!0}return!1},i.AZ=function(){this.Jvt.addEventListener("deleteTask",this.Xkt),this.Jvt.addEventListener("updateValues",this.qkt),this.Jvt.addEventListener("newTask",this.Wkt),this.Jvt.addEventListener("restoreTask",this.Gkt),this.Jvt.addEventListener("setCacheStatus",this.jkt)},i.startCachingTask=function(t){this.Ovt.Dvt("THEOplayerCacheStartCachingTask",{id:t.Hh})},i.removeCachingTask=function(t){this.Ovt.Dvt("THEOplayerCacheRemoveCachingTask",{id:t.Hh})},T(n,[{key:"pA",get:function(){return this.Xdt}},{key:"Kdt",get:function(){return this.OA}}]),n}(ii),nX=function(t){function n(n){var i;return(i=t.call(this,n)||this).Qkt=n,i.Qkt.ls("Ddt",i.fs),i}return ct(n,t),n.prototype.Ukt=function(t,n){var i,r;if(!t)throw new d("Unexpected - The source description is undefined");if(i=Lf(t),r=$V(n),Ef(i))throw new d("Invalid source description");if(!iX(i.sources))throw new d("The provided sources can't be cached");return this.Qkt.jdt(i,r).Jc},n}(WV);function iX(t){for(var n=0;n<t.length;n++){var i=t[n];if(If(i.type))return i}}var rX,eX,uX=function(){var t=new tX;return new nX(t)}().Jc;!function(t){t.Ykt="any",t.Zkt="natural",t.Jkt="landscape",t.Kkt="portrait",t.$kt="portrait-primary",t.tpt="portrait-secondary",t.npt="landscape-primary",t.ipt="landscape-secondary"}(rX||(rX={})),function(t){t.$kt="portrait-primary",t.tpt="portrait-secondary",t.npt="landscape-primary",t.ipt="landscape-secondary"}(eX||(eX={}));var sX,oX,aX=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Ovt=new TU,n.rpt=rX.Zkt,n.ept=eX.$kt,n.upt=eX.$kt,n.spt=eX.$kt,n}ct(n,t);var i=n.prototype;return i.lock=function(t){var n=this;return new u.Promise(function(i,r){n.rpt=t,n.Ovt.Dvt("THEOplayerOrientationLock",t),n.opt(),i()})},i.unlock=function(){var t=this;return new u.Promise(function(n,i){t.rpt=rX.Zkt,t.Ovt.Dvt("THEOplayerOrientationUnlock"),t.type=t.upt,t.opt(),n()})},i.opt=function(){var t=this.spt,n=this.type;t!==n&&(this.spt=n,this.vs(new ei("change")))},i.addEventListener=function(t,n){this.ls(t,n)},i.removeEventListener=function(t,n){this.ys(t,n)},n.apt=function(t){switch(t){case rX.$kt:return[eX.$kt];case rX.tpt:return[eX.tpt];case rX.Kkt:return[eX.$kt,eX.tpt];case rX.npt:return[eX.npt];case rX.ipt:return[eX.ipt];case rX.Jkt:return[eX.npt,eX.ipt];case rX.Zkt:return[eX.$kt,eX.npt,eX.ipt];case rX.Ykt:return[eX.$kt,eX.tpt,eX.npt,eX.ipt]}},n.cpt=function(t,i){return n.apt(i).indexOf(t)>=0},T(n,[{key:"type",get:function(){return this.ept},set:function(t){this.upt=t,n.cpt(t,this.rpt)?(this.ept=t,this.opt()):(t===eX.npt&&this.rpt===rX.ipt&&(this.ept=eX.ipt,this.opt()),t===eX.ipt&&this.rpt===rX.npt&&(this.ept=eX.npt,this.opt()))}},{key:"angle",get:function(){switch(this.type){case eX.npt:return-90;case eX.ipt:return 90;case eX.$kt:return 0;case eX.tpt:return 180;default:return 0}}}]),n}(wa);aX.dn=new aX,u.screen.orientation=aX.dn,a&&-1===a.userAgent.indexOf("OS 9")&&_.defineProperty(u,"orientation",{get:function(){return u.screen.orientation.angle}}),u.screen.orientation.addEventListener("change",function(){u.dispatchEvent(new CustomEvent("orientationchange"))}),function(t){t.hpt="unavailable",t.fpt="available",t.vpt="presenting"}(sX||(sX={})),EE(function(t){return function(t){function n(n,i){return t.call(this,n,i)||this}return ct(n,t),n.prototype.bd=function(n){t.prototype.bd.call(this,n);var i=this.Jc;this.Jc.vr&&n&&n.vr&&i.vr.addEventListener("statechange",function(){i.vr.state===sX.vpt?screen.orientation&&screen.orientation.lock&&screen.orientation.lock(rX.ipt).catch(function(t){console.error("screen.orientation.lock() failed due to",t.message)}):screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock()})},n}(t)},gE.DB),function(t){t.Gc="addtrack",t.Qc="removetrack",t.fh="change",t.gh="update"}(oX||(oX={}));var cX=function(t,n,i){this.mediaType=t,this.mediaTrack=n,this.mediaTrackList=i,this.type=oX.fh},hX=function(t,n){this.mediaType=t,this.mediaTrack=n,this.type=oX.Gc},fX=function(t,n){this.mediaType=t,this.mediaTrack=n,this.type=oX.Qc},vX=function(t,n){this.mediaType=t,this.mediaTrack=n,this.type=oX.gh},dX=function(){function t(t,n,i){var r=this;this.dpt=function(t){var n=new cX(r.type,t.track,r.mediaTracks);r.messageDispatcher.lpt(n)},this._pt=function(t){var n=new hX(r.type,t.track);r.messageDispatcher.lpt(n),t.track.addEventListener("update",r.wpt)},this.gpt=function(t){var n=new fX(r.type,t.track);r.messageDispatcher.lpt(n)},this.wpt=function(t){var n=new vX(r.type,t.track);r.messageDispatcher.lpt(n)},this.type=t,this.mediaTracks=n,this.messageDispatcher=i,this.AZ()}return t.prototype.AZ=function(){this.mediaTracks.addEventListener("change",this.dpt),this.mediaTracks.addEventListener("addtrack",this._pt),this.mediaTracks.addEventListener("removetrack",this.gpt)},t}(),lX=function(){function t(){this.ypt=new TU}return t.prototype.lpt=function(t){this.ypt.Dvt(t.type,UL(t))},t}();IE(function(t){if(t.Jc.audioTracks){var n=new lX;new dX("audio",t.Jc.audioTracks,n)}if(t.Jc.videoTracks){var i=new lX;new dX("video",t.Jc.videoTracks,i)}});var _X,wX,gX=function(t){function n(){return t.apply(this,arguments)||this}return ct(n,t),n.prototype.dispatchEvent=function(t,n){switch(t){case _X.mpt:var i={integrationId:n.integrationId,keySystem:n.keySystem};this.vs(new yX(i));break;default:0}},n}(rU),yX=function(t){function n(n){var i;return(i=t.call(this,_X.mpt)||this).detail=n,i}return ct(n,t),n}(ei);!function(t){t.mpt="registerContentProtectionIntegration"}(_X||(_X={})),function(t){t.kpt="certifiateRequest",t.ppt="certifiateResponse",t.Apt="licenseRequest",t.bpt="licenseResponse",t.Tpt="extractFairplayContentId",t.Ept="buildContentProtection",t.Spt="registerContentProtectionCallback"}(wX||(wX={}));var mX,kX,pX=function(t,n){this.value=t,this.integrationId=n,this.type=wX.Spt};!function(t){t.VOD="vod",t.LIVE="live"}(mX||(mX={})),function(t){t.LIVE_OFFSET="liveoffset",t.TRACK_BYTES_DOWNLOADED="trackbytesdownloaded",t.ESTIMATED_TRACK_NETWORK_BANDWIDTH="estimatedtracknetworkbandwidth",t.ESTIMATED_TRACK_MEDIA_DATA_BANDWIDTH="estimatedtrackmediadatabandwidth",t.SEGMENT_RECEIVE_INTERVAL="segmentreceiveinterval"}(kX||(kX={}));var AX,bX=function(t,n){this.value=t,this.integrationId=n,this.type=wX.Ept},TX=function(t,n){this.value=t,this.integrationId=n,this.type=wX.kpt},EX=function(t,n){this.value=t,this.integrationId=n,this.type=wX.ppt},SX=function(t,n){this.value=t,this.integrationId=n,this.type=wX.Tpt},RX=function(t,n){this.value=t,this.integrationId=n,this.type=wX.Apt},IX=function(t,n){this.value=t,this.integrationId=n,this.type=wX.bpt},NX=function(){function t(t,n){this.Rpt=t,this.vl=n}var i=t.prototype;return i.onCertificateRequest=function(){var t=Ct.coroutine(Nt.mark(function t(i){var r,e,u,s,o,a;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i),e=new TX(r,this.vl),t.prev=2,t.next=5,this.Rpt.Ipt(e);case 5:if(!(u=t.sent)){t.next=16;break}if(s=JSON.parse(u),!this.Npt(s)){t.next=13;break}return o=Dt({},s),t.abrupt("return",o);case 13:if(!this.Cpt(s)){t.next=16;break}return a=new k(s),t.abrupt("return",a);case 16:throw new Ac(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Could not parse callback in onCertificateRequest");case 19:throw t.prev=19,t.t0=t.catch(2),new Ac(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,t.t0);case 22:case"end":return t.stop()}},t,this,[[2,19]])}));return function(n){return t.apply(this,arguments)}}(),i.onCertificateResponse=function(){var t=Ct.coroutine(Nt.mark(function t(i){var r,e,u,s,o;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i.request),e={request:r,url:i.url,status:i.status,statusText:i.statusText,headers:i.headers,body:Array.from(i.body)},u=new EX(e,this.vl),t.next=5,this.Rpt.Ipt(u);case 5:if(!(s=t.sent)){t.next=11;break}return o=JSON.parse(s),t.abrupt("return",new k(o));case 11:throw new Ac(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"received undefined instead of string in onCertificateResponse");case 12:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.onLicenseRequest=function(){var t=Ct.coroutine(Nt.mark(function t(i){var r,e,u,s,o,a,c;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i),e={url:r.url,method:r.method,headers:r.headers,body:r.body?Array.from(r.body):null,useCredentials:r.useCredentials,fairplaySkdUrl:i.fairplaySkdUrl},u=new RX(e,this.vl),t.prev=3,t.next=6,this.Rpt.Ipt(u);case 6:if(!(s=t.sent)){t.next=17;break}if(o=JSON.parse(s),!this.Npt(o)){t.next=14;break}return a={url:o.url,method:o.method,headers:o.headers,body:o.body?new k(o.body):null,useCredentials:o.useCredentials,fairplaySkdUrl:o.fairplaySkdUrl},t.abrupt("return",a);case 14:if(!this.Cpt(o)){t.next=17;break}return c=new k(o),t.abrupt("return",c);case 17:throw new Ac(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Could not parse callback in onLicenseRequest");case 20:throw t.prev=20,t.t0=t.catch(3),new Ac(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,t.t0);case 23:case"end":return t.stop()}},t,this,[[3,20]])}));return function(n){return t.apply(this,arguments)}}(),i.onLicenseResponse=function(){var t=Ct.coroutine(Nt.mark(function t(i){var r,e,u,s,o,a;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i.request),e=Dt(Dt({},r),{fairplaySkdUrl:i.request.fairplaySkdUrl}),u={request:e,url:i.url,status:i.status,statusText:i.statusText,headers:i.headers,body:Array.from(i.body)},s=new IX(u,this.vl),t.next=6,this.Rpt.Ipt(s);case 6:if(!(o=t.sent)){t.next=12;break}return a=JSON.parse(o),t.abrupt("return",new k(a));case 12:throw new Ac(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"received undefined instead of string in onLicenseResponse");case 13:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.extractFairplayContentId=function(){var t=Ct.coroutine(Nt.mark(function t(i){var r,e;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=new SX(i,this.vl),t.next=3,this.Rpt.Ipt(r);case 3:if(!(e=t.sent)){t.next=6;break}return t.abrupt("return",e);case 6:return t.abrupt("return",Ct.reject(new Ac(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"received undefined instead of string in extractFairplayContentId")));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.toCertificateRequestDTO=function(t){return{url:t.url,method:t.method,headers:t.headers,body:t.body?Array.from(t.body):null,useCredentials:t.useCredentials}},i.Npt=function(t){var n=t;return void 0!==n.url&&void 0!==n.method&&void 0!==n.headers},i.Cpt=function(t){return!!new k(t)},t}(),CX=function(){function t(t){this.Rpt=t}return t.prototype.build=function(t){if(!t.integration)throw new d("integrationId is undefined");var n=new NX(this.Rpt,t.integration),i=new bX({drmConfiguration:t},t.integration);return this.Rpt.Ipt(i),n},t}(),DX=function(){var t=this;this.Dpt=function(n){var i=new CX(t.messageDispatcher),r=n.detail,e=r.integrationId,u=r.keySystem,s={state:th.yl.ll(e,u,i)};t.messageDispatcher.Ipt(new pX(s,e))},this.Jvt=new gX,JL().contentProtectionIntegration={sdkEventBus:this.Jvt},this.Jvt.addEventListener(_X.mpt,this.Dpt)},OX="nativePromiseCallback",xX=function(t){function n(n){var i;return(i=t.call(this,OX)||this).detail=n,i}return ct(n,t),n}(ei);!function(t){t.RESOLVE="NATIVE_PROMISE_RESOLVE",t.REJECT="NATIVE_PROMISE_REJECT"}(AX||(AX={}));var PX=function(t){function n(){return t.apply(this,arguments)||this}ct(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.vs(new xX(n))},i.addEventListener=function(t,n){this.ls(t,n)},i.removeEventListener=function(t,n){this.ys(t,n)},n}(rU),BX=function(){function t(){var t=this;this.promisesMap={},this.handleNativePromiseEvent=function(n){var i=t.promisesMap[n.detail.promiseId];if(!i)throw new d("Could not find a promise with id "+n.detail.promiseId);switch(n.detail.type){case AX.RESOLVE:i.Js(n.detail.data);break;case AX.REJECT:i.Ks(n.detail.data)}delete t.promisesMap[n.detail.promiseId]};var n=new PX;JL().nativePromise={sdkEventBus:n},n.addEventListener(OX,this.handleNativePromiseEvent)}return t.prototype.Ipt=function(n){var i;t.messageIdTracker+=1;var r=t.messageIdTracker.toString(),e=Dt(Dt({},n),{promiseId:r}),u=new qr;return this.promisesMap[r]=u,null===(i=this.ypt)||void 0===i||i.Dvt(n.type,ML(e)),u.Zs},t}();BX.messageIdTracker=-1;var MX,LX=function(t){function n(){var n;return(n=t.call(this)||this).ypt=new TU,n}return ct(n,t),n}(BX),UX=function(t){function n(){var n;return(n=t.call(this)||this).Rpt=new LX,n}return ct(n,t),T(n,[{key:"messageDispatcher",get:function(){return this.Rpt}}]),n}(DX);IE(function(t){new UX}),function(t){t.Opt="airplaystatechange"}(MX||(MX={}));var FX=function(t){this.state=t,this.type=MX.Opt},HX=function(t){function n(n){var i;return(i=t.call(this)||this).xpt=function(t){var n=new FX(t.state);i.lpt(n)},i.Ppt=n,i.AZ(n),i}return ct(n,t),n.prototype.AZ=function(t){t.addEventListener("statechange",this.xpt)},n}(lX);IE(function(t){var n;(null===(n=t.Jc.cast)||void 0===n?void 0:n.airplay)&&new HX(t.Jc.cast.airplay)}),n.ChromelessPlayer=ZE,n.Player=ZE,n.cache=uX,n.createGlobals=tU,n.features=["hls","airplay"],n.getCueMirrorMap=KL,n.getGlobalId=$L,n.getSdkEventBridge=JL,n.playerSuiteVersion="2021.1.2",n.players=$E,n.registerContentProtectionIntegration=tS,n.utils=KE,n.version="2.82.0",_.defineProperty(n,"__esModule",{value:!0})})}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:this);
