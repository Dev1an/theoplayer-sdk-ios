/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com

 This product makes use of Open Source Software: Bluebird (MIT -
 Copyright (c) 2013-2015 Petka Antonov), long.js (Apache 2.0)
 The code of these projects has been heavily modified during
 integration.
 More information on the licenses can be found here: Apache 2.0
(http://www.apache.org/licenses/LICENSE-2.0), MIT
(https://opensource.org/licenses/MIT)

 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 2021.2.1 (2.85.3)
 Created: 2021-06-21T11:23:01.651Z
 */
!function(t){!function(n,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i((n="undefined"!=typeof globalThis?globalThis:n||t).THEOplayer={})}(this,function(n){"use strict";var i,r,e,u=t.window,s=t.document,o=t.location,a=t.navigator,c=t.setTimeout,h=t.clearTimeout,f=t.setInterval,v=t.clearInterval,d=t.Error,l=t.TypeError,_=(t.SyntaxError,t.Object),g=t.Math,w=t.parseInt,y=t.parseFloat,m=t.isNaN,k=t.Uint8Array,p=t.Worker,A=(t.WorkerGlobalScope,t.XMLHttpRequest);function b(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),_.defineProperty(t,r.key,r)}}function T(t,n,i){return n&&b(t.prototype,n),i&&b(t,i),t}!function(t){t.l="web",t.g="android",t.R="android-tv",t.I="ios",t.N="tvos",t.B="chromecast"}(e||(e={}));var E=a?a.userAgent:"",S=E.match(/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),R=E.match(/Android ([0-9\.]+)/i),I=E.match(/Windows NT ([0-9\.]+)/i),N=E.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),D=E.match(/Firefox\/([0-9\.]+)/i),C=E.match(/OPR\/(\d+\.\d+)/i),O=E.match(/Tizen ([0-9\.]+)/i),x=function(){function n(){this.M=Boolean("ontouchstart"in t||t.DocumentTouch&&s instanceof t.DocumentTouch||a&&a.msMaxTouchPoints),this.U=/(mac\sos\sx)\s?([\w\s\.]+\w)*/i.test(E)||/(macintosh|mac(?=_powerpc)\s)/i.test(E),this.F=/Windows NT/i.test(E),this.H=I?y(I[1]):0,this.G=/Android/i.test(E),this.j=R?y(R[1]):0,this.Y=/windows phone (8|8\.1)/i.test(E),this.Z=/iPhone/i.test(E),this.J=/iPad/i.test(E),this.K=this.U&&this.M&&!this.J,this.nt=/iPod/i.test(E),this.it=/Mobile Safari/i.test(E),this.et=(this.Z||this.J||this.K||this.nt)&&!this.Y,this.ut=this.Y||this.et||this.G||this.it,this.st=/CriOS/i.test(E),this.ot=Boolean(t.chrome&&/google/i.test(a.vendor))||this.st,this.at=S?w(S[1],10):0,this.ct=/SMART-TV.*Tizen/i.test(E),this.ht=O?y(O[1]):0,this.ft=/webos|web0s/i.test(E),this.vt=/Edge\/\d+/i.test(E),this.dt=/Trident/i.test(E),this._t=this.dt&&!t.ActiveXObject&&"ActiveXObject"in t,this.wt=/Vivaldi/i.test(E),this.yt=/Firefox/i.test(E)&&!/Seamonkey/i.test(E),this.kt=D?y(D[1]):0,this.pt=/Safari/i.test(E)&&!/Chrome/i.test(E)&&!this.Y&&!this.ct,this.At=N?y(N[2]):0,this.bt=Boolean(C),this.Tt=C?y(C[1]):0,this.Et="ios"===e.R,this.St="ios"===e.g,this.Rt=this.St||this.Et,this.It="ios"===e.I,this.Nt="ios"===e.N,this.Dt="ios"===e.B}return T(n,[{key:"Ct",get:function(){return this.M}},{key:"Ot",get:function(){return this.U}},{key:"xt",get:function(){return this.F}},{key:"Pt",get:function(){return this.H}},{key:"Bt",get:function(){return this.G}},{key:"Lt",get:function(){return this.j}},{key:"Mt",get:function(){return this.Y}},{key:"Ut",get:function(){return this.Z}},{key:"Ft",get:function(){return this.J}},{key:"Ht",get:function(){return this.K}},{key:"Vt",get:function(){return this.nt}},{key:"Xt",get:function(){return this.et}},{key:"Wt",get:function(){return this.it}},{key:"qt",get:function(){return this.ut}},{key:"zt",get:function(){return this.st}},{key:"Gt",get:function(){return this.ot}},{key:"jt",get:function(){return this.at}},{key:"Qt",get:function(){return this.ct}},{key:"Yt",get:function(){return this.ht}},{key:"Zt",get:function(){return this.ft}},{key:"Jt",get:function(){return this.vt}},{key:"$t",get:function(){return this.dt}},{key:"Kt",get:function(){return this._t}},{key:"tn",get:function(){return this.wt}},{key:"nn",get:function(){return this.yt}},{key:"in",get:function(){return this.kt}},{key:"rn",get:function(){return this.pt}},{key:"un",get:function(){return this.At}},{key:"sn",get:function(){return this.bt}},{key:"an",get:function(){return this.Tt}},{key:"cn",get:function(){return this.Et}},{key:"hn",get:function(){return this.St}},{key:"fn",get:function(){return this.Rt}},{key:"vn",get:function(){return this.It}},{key:"dn",get:function(){return this.Nt}},{key:"ln",get:function(){return this.Dt}}]),n}();x._n=new x;var P=x._n,B={}.hasOwnProperty,L={}.toString;function M(t){return null!=t}var U=Array.isArray||function(t){return"[object Array]"===L.call(t)};function F(t){return H(t)&&B.call(t,"length")&&G(t.length)}function H(t){return"object"==typeof t&&null!==t}function V(t){return H(t)&&t.constructor&&t.constructor===_}function X(t){return"string"==typeof t}function W(t){return"boolean"==typeof t}function q(t){return Boolean(t)&&"function"==typeof t.then}function z(t){return"[object Date]"===L.call(t)}function G(t){return"number"==typeof t}var j=function(){},Q=function(t){return t};function Y(t,n,i){var e;return function(){for(var u=arguments.length,s=new Array(u),o=0;o<u;o++)s[o]=arguments[o];var a=this,c=i&&!e;void 0!==e&&r.gn(e),e=r.wn(function(){e=void 0,i||t.apply(a,s)},n),c&&t.apply(a,s)}}var Z=!(P.$t&&!P.Kt),J=t.console;function $(t){if(H(t))try{return JSON.stringify(t)}catch(t){}return t}function K(t){return t.map($).join(" ")}function tt(t){var n=J&&J[t];return n?n.bind&&Z?n.bind(J):function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];J[t](K(i))}:void 0}var nt,it=tt("log")||j,rt=tt("warn")||it.bind(void 0,"WARNING:"),et=tt("error")||it.bind(void 0,"ERROR:"),ut=(nt=J&&J.assert)?nt.bind&&Z?nt.bind(J):function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];J.assert(t,K(i))}:function(t){if(!t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];et.apply(void 0,["Assertion failed:"].concat(i))}},st=at,ot=null;try{ot=new WebAssembly.Instance(new WebAssembly.Module(new k([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function at(t,n,i){this.low=0|t,this.high=0|n,this.unsigned=!!i}function ct(t){return!0===(t&&t.yn)}at.prototype.yn,_.defineProperty(at.prototype,"yn",{value:!0}),at.isLong=ct;var ht={},ft={};function vt(t,n){var i,r,e;return n?(e=0<=(t>>>=0)&&t<256)&&(r=ft[t])?r:(i=lt(t,(0|t)<0?-1:0,!0),e&&(ft[t]=i),i):(e=-128<=(t|=0)&&t<128)&&(r=ht[t])?r:(i=lt(t,t<0?-1:0,!1),e&&(ht[t]=i),i)}function dt(t,n){if(m(t))return n?bt:At;if(n){if(t<0)return bt;if(t>=mt)return It}else{if(t<=-kt)return Nt;if(t+1>=kt)return Rt}return t<0?dt(-t,n).neg():lt(t%yt|0,t/yt|0,n)}function lt(t,n,i){return new at(t,n,i)}at.fromInt=vt,at.fromNumber=dt,at.fromBits=lt;var _t=g.pow;function gt(t,n,i){if(0===t.length)throw d("empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return At;if("number"==typeof n?(i=n,n=!1):n=!!n,(i=i||10)<2||36<i)throw RangeError("radix");var r;if((r=t.indexOf("-"))>0)throw d("interior hyphen");if(0===r)return gt(t.substring(1),n,i).neg();for(var e=dt(_t(i,8)),u=At,s=0;s<t.length;s+=8){var o=g.min(8,t.length-s),a=w(t.substring(s,s+o),i);if(o<8){var c=dt(_t(i,o));u=u.mul(c).add(dt(a))}else u=(u=u.mul(e)).add(dt(a))}return u.unsigned=n,u}function wt(t,n){return"number"==typeof t?dt(t,n):"string"==typeof t?gt(t,n):lt(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}at.fromString=gt,at.fromValue=wt;var yt=4294967296,mt=yt*yt,kt=mt/2,pt=vt(1<<24),At=vt(0);at.ZERO=At;var bt=vt(0,!0);at.UZERO=bt;var Tt=vt(1);at.ONE=Tt;var Et=vt(1,!0);at.UONE=Et;var St=vt(-1);at.NEG_ONE=St;var Rt=lt(-1,2147483647,!1);at.MAX_VALUE=Rt;var It=lt(-1,-1,!0);at.MAX_UNSIGNED_VALUE=It;var Nt=lt(0,-2147483648,!1);at.MIN_VALUE=Nt;var Dt=at.prototype;Dt.toInt=function(){return this.unsigned?this.low>>>0:this.low},Dt.toNumber=function(){return this.unsigned?(this.high>>>0)*yt+(this.low>>>0):this.high*yt+(this.low>>>0)},Dt.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(Nt)){var n=dt(t),i=this.div(n),r=i.mul(n).sub(this);return i.toString(t)+r.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var e=dt(_t(t,6),this.unsigned),u=this,s="";;){var o=u.div(e),a=(u.sub(o.mul(e)).toInt()>>>0).toString(t);if((u=o).isZero())return a+s;for(;a.length<6;)a="0"+a;s=""+a+s}},Dt.getHighBits=function(){return this.high},Dt.getHighBitsUnsigned=function(){return this.high>>>0},Dt.getLowBits=function(){return this.low},Dt.getLowBitsUnsigned=function(){return this.low>>>0},Dt.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Nt)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,n=31;n>0&&0==(t&1<<n);n--);return 0!=this.high?n+33:n+1},Dt.isZero=function(){return 0===this.high&&0===this.low},Dt.eqz=Dt.isZero,Dt.isNegative=function(){return!this.unsigned&&this.high<0},Dt.isPositive=function(){return this.unsigned||this.high>=0},Dt.isOdd=function(){return 1==(1&this.low)},Dt.isEven=function(){return 0==(1&this.low)},Dt.equals=function(t){return ct(t)||(t=wt(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},Dt.eq=Dt.equals,Dt.notEquals=function(t){return!this.eq(t)},Dt.neq=Dt.notEquals,Dt.ne=Dt.notEquals,Dt.lessThan=function(t){return this.comp(t)<0},Dt.lt=Dt.lessThan,Dt.lessThanOrEqual=function(t){return this.comp(t)<=0},Dt.lte=Dt.lessThanOrEqual,Dt.le=Dt.lessThanOrEqual,Dt.greaterThan=function(t){return this.comp(t)>0},Dt.gt=Dt.greaterThan,Dt.greaterThanOrEqual=function(t){return this.comp(t)>=0},Dt.gte=Dt.greaterThanOrEqual,Dt.ge=Dt.greaterThanOrEqual,Dt.compare=function(t){if(ct(t)||(t=wt(t)),this.eq(t))return 0;var n=this.isNegative(),i=t.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},Dt.comp=Dt.compare,Dt.negate=function(){return!this.unsigned&&this.eq(Nt)?Nt:this.not().add(Tt)},Dt.neg=Dt.negate,Dt.add=function(t){ct(t)||(t=wt(t));var n=this.high>>>16,i=65535&this.high,r=this.low>>>16,e=65535&this.low,u=t.high>>>16,s=65535&t.high,o=t.low>>>16,a=0,c=0,h=0,f=0;return h+=(f+=e+(65535&t.low))>>>16,c+=(h+=r+o)>>>16,a+=(c+=i+s)>>>16,a+=n+u,lt((h&=65535)<<16|(f&=65535),(a&=65535)<<16|(c&=65535),this.unsigned)},Dt.subtract=function(t){return ct(t)||(t=wt(t)),this.add(t.neg())},Dt.sub=Dt.subtract,Dt.multiply=function(t){if(this.isZero())return At;if(ct(t)||(t=wt(t)),ot)return lt(ot.mul(this.low,this.high,t.low,t.high),ot.get_high(),this.unsigned);if(t.isZero())return At;if(this.eq(Nt))return t.isOdd()?Nt:At;if(t.eq(Nt))return this.isOdd()?Nt:At;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(pt)&&t.lt(pt))return dt(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,r=this.low>>>16,e=65535&this.low,u=t.high>>>16,s=65535&t.high,o=t.low>>>16,a=65535&t.low,c=0,h=0,f=0,v=0;return f+=(v+=e*a)>>>16,h+=(f+=r*a)>>>16,f&=65535,h+=(f+=e*o)>>>16,c+=(h+=i*a)>>>16,h&=65535,c+=(h+=r*o)>>>16,h&=65535,c+=(h+=e*s)>>>16,c+=n*a+i*o+r*s+e*u,lt((f&=65535)<<16|(v&=65535),(c&=65535)<<16|(h&=65535),this.unsigned)},Dt.mul=Dt.multiply,Dt.divide=function(t){if(ct(t)||(t=wt(t)),t.isZero())throw d("division by zero");var n,i,r;if(ot)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?lt((this.unsigned?ot.div_u:ot.div_s)(this.low,this.high,t.low,t.high),ot.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?bt:At;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return bt;if(t.gt(this.shru(1)))return Et;r=bt}else{if(this.eq(Nt))return t.eq(Tt)||t.eq(St)?Nt:t.eq(Nt)?Tt:(n=this.shr(1).div(t).shl(1)).eq(At)?t.isNegative()?Tt:St:(i=this.sub(t.mul(n)),r=n.add(i.div(t)));if(t.eq(Nt))return this.unsigned?bt:At;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();r=At}for(i=this;i.gte(t);){n=g.max(1,g.floor(i.toNumber()/t.toNumber()));for(var e=g.ceil(g.log(n)/g.LN2),u=e<=48?1:_t(2,e-48),s=dt(n),o=s.mul(t);o.isNegative()||o.gt(i);)o=(s=dt(n-=u,this.unsigned)).mul(t);s.isZero()&&(s=Tt),r=r.add(s),i=i.sub(o)}return r},Dt.div=Dt.divide,Dt.modulo=function(t){return ct(t)||(t=wt(t)),ot?lt((this.unsigned?ot.rem_u:ot.rem_s)(this.low,this.high,t.low,t.high),ot.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},Dt.mod=Dt.modulo,Dt.rem=Dt.modulo,Dt.not=function(){return lt(~this.low,~this.high,this.unsigned)},Dt.and=function(t){return ct(t)||(t=wt(t)),lt(this.low&t.low,this.high&t.high,this.unsigned)},Dt.or=function(t){return ct(t)||(t=wt(t)),lt(this.low|t.low,this.high|t.high,this.unsigned)},Dt.xor=function(t){return ct(t)||(t=wt(t)),lt(this.low^t.low,this.high^t.high,this.unsigned)},Dt.shiftLeft=function(t){return ct(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?lt(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):lt(0,this.low<<t-32,this.unsigned)},Dt.shl=Dt.shiftLeft,Dt.shiftRight=function(t){return ct(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?lt(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):lt(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},Dt.shr=Dt.shiftRight,Dt.shiftRightUnsigned=function(t){if(ct(t)&&(t=t.toInt()),0===(t&=63))return this;var n=this.high;return t<32?lt(this.low>>>t|n<<32-t,n>>>t,this.unsigned):lt(32===t?n:n>>>t-32,0,this.unsigned)},Dt.shru=Dt.shiftRightUnsigned,Dt.shr_u=Dt.shiftRightUnsigned,Dt.toSigned=function(){return this.unsigned?lt(this.low,this.high,!1):this},Dt.toUnsigned=function(){return this.unsigned?this:lt(this.low,this.high,!0)},Dt.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},Dt.toBytesLE=function(){var t=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},Dt.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]},at.fromBytes=function(t,n,i){return i?at.fromBytesLE(t,n):at.fromBytesBE(t,n)},at.fromBytesLE=function(t,n){return new at(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},at.fromBytesBE=function(t,n){return new at(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};var Ct=st,Ot=g.pow(2,-52);function xt(t,n,i){return g.min(g.max(t,n),i)}function Pt(t,n,i){return t===n||g.abs(t-n)<=i}function Bt(t,n){if(t===n)return!0;var i=g.abs(t-n);return i<Ot||i<g.max(g.abs(t),g.abs(n))*Ot}function Lt(t){return t!=t}function Mt(t,n){return t===n||Lt(t)&&Lt(n)}function Ut(t,n){for(var i=t,r=n;0!==r;){var e=i%r;i=r,r=e}return i<0?-i:i}function Ft(){return Date.now()||(new Date).getTime()}function Ht(t){return t/1e3}var Vt,Xt=Ct.fromNumber(9007199254740991);function Wt(t,n){if(0===n)return t.isZero()?NaN:t.isNegative()?-1/0:1/0;if(t.lessThanOrEqual(Xt))return t.toNumber()/n;var i=t.divide(n),r=t.subtract(i.multiply(n));return i.toNumber()+r.toNumber()/n}function qt(t,n){t.prototype=_.create(n.prototype),t.prototype.constructor=t,t.__proto__=n}function zt(t){return t.mn===Vt.kn}function Gt(t){return t.mn===Vt.pn}function jt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}!function(t){t[t.kn=1]="kn",t[t.An=2]="An",t[t.pn=3]="pn",t[t.bn=4]="bn",t[t.Tn=9]="Tn"}(Vt||(Vt={}));var Qt=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];d.apply(this,n)};(Qt.prototype=_.create(d.prototype)).constructor=Qt;var Yt=function(t){function n(n,i){var r;return(r=t.call(this)||this).message=n||"Unknown error",r.cause=i,d.captureStackTrace&&d.captureStackTrace(jt(r),r.constructor),r}return qt(n,t),T(n,[{key:"name",get:function(){return"BaseError"}}]),n}(Qt),Zt=function(t){function n(n){return t.call(this,"Invalid XML",n)||this}return qt(n,t),n}(Yt),Jt=function(){function t(){}return t.prototype.En=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new Zt(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new Zt;return new un(n)},t}(),$t=function(){function t(t){this.Sn=t}var n=t.prototype;return n.Rn=function(t){return this.Sn.isEqualNode(t.Sn)},n.In=function(n){return new t(this.Sn.cloneNode(n))},T(t,[{key:"mn",get:function(){return Vt.An}},{key:"Nn",get:function(){var t;return null!==(t=this.Sn.localName)&&void 0!==t?t:an(this.Sn.nodeName)}},{key:"Dn",get:function(){return this.Sn.nodeName}},{key:"Cn",get:function(){var t;return null!==(t=this.Sn.namespaceURI)&&void 0!==t?t:void 0}},{key:"On",get:function(){var t;return null!==(t=this.Sn.prefix)&&void 0!==t?t:void 0}},{key:"xn",get:function(){return this.Sn.nodeValue}}]),t}(),Kt=function(){function t(t){this.Pn=void 0,this.Bn=t}var n=t.prototype;return n.Ln=function(t){return this.Mn.filter(function(n){return sn(n)&&n.Un===t})},n.Fn=function(t,n){return this.Mn.filter(function(i){return sn(i)&&i.Nn===n&&i.Cn===t})},n.Hn=function(t){this.Bn.appendChild(t.Vn),this.Pn&&this.Pn.push(t)},n.Rn=function(t){return this.Bn.isEqualNode(t.Vn)},T(t,[{key:"Mn",get:function(){return void 0===this.Pn&&(this.Pn=function(t){for(var n=[],i=0;i<t.length;i++){var r=on(t.item(i));r&&n.push(r)}return n}(this.Bn.childNodes)),this.Pn}},{key:"Xn",get:function(){return this.Mn.filter(sn)}},{key:"Vn",get:function(){return this.Bn}}]),t}(),tn=function(t){function n(n){return t.call(this,n)||this}qt(n,t);var i=n.prototype;return i.Wn=function(t){if(this.Bn.hasAttribute(t))return this.Bn.getAttribute(t)},i.qn=function(t,n){if(this.Bn.hasAttributeNS(t,n))return this.Bn.getAttributeNS(t,n)},i.zn=function(t){this.Bn.removeAttribute(t)},i.Gn=function(t,n){this.Bn.removeAttributeNS(t,n)},i.jn=function(t,n){this.Bn.setAttribute(t,n)},i.Qn=function(t,n,i){this.Bn.setAttributeNS(t,n,i)},i.In=function(t){return new n(this.Bn.cloneNode(t))},T(n,[{key:"mn",get:function(){return Vt.kn}},{key:"Nn",get:function(){var t;return null!==(t=this.Bn.localName)&&void 0!==t?t:an(this.Bn.nodeName)}},{key:"Cn",get:function(){var t;return null!==(t=this.Bn.namespaceURI)&&void 0!==t?t:void 0}},{key:"On",get:function(){var t;return null!==(t=this.Bn.prefix)&&void 0!==t?t:void 0}},{key:"Un",get:function(){return this.Bn.nodeName}},{key:"Yn",get:function(){return function(t){for(var n=[],i=0;i<t.length;i++)n.push(new $t(t.item(i)));return n}(this.Bn.attributes)}},{key:"Zn",get:function(){return this.Bn.textContent}}]),n}(Kt),nn=function(){function t(t){this.Bn=t}return t.prototype.Rn=function(t){return this.Jn===t.Jn},T(t,[{key:"Jn",get:function(){return this.Bn.nodeValue}},{key:"Vn",get:function(){return this.Bn}}]),t}(),rn=function(t){function n(n){return t.call(this,n)||this}return qt(n,t),n.prototype.In=function(t){return new n(this.Bn.cloneNode(t))},T(n,[{key:"mn",get:function(){return Vt.pn}}]),n}(nn),en=function(t){function n(n){return t.call(this,n)||this}return qt(n,t),n.prototype.In=function(t){return new n(this.Bn.cloneNode(t))},T(n,[{key:"mn",get:function(){return Vt.bn}}]),n}(nn),un=function(t){function n(n){return t.call(this,n)||this}return qt(n,t),n.prototype.In=function(t){return new n(this.Bn.cloneNode(t))},T(n,[{key:"mn",get:function(){return Vt.Tn}},{key:"$n",get:function(){return new tn(this.Bn.documentElement)}}]),n}(Kt);function sn(t){return zt(t)}function on(t){switch(t.nodeType){case Vt.kn:return new tn(t);case Vt.pn:return new rn(t);case Vt.bn:return new en(t)}}function an(t){var n=t.indexOf(":");return n<0?t:t.substr(n+1)}var cn="undefined"!=typeof globalThis?globalThis:void 0!==u?u:"undefined"!=typeof global?global:void 0!==t?t:{};function hn(t,n,i){return t(i={path:n,exports:{},require:function(t,n){return function(){throw new d("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==n&&i.path)}},i.exports),i.exports}var fn=hn(function(t){!function(t){var n,i=_.prototype,r=i.hasOwnProperty,e="function"==typeof Symbol?Symbol:{},u=e.iterator||"@@iterator",s=e.asyncIterator||"@@asyncIterator",o=e.toStringTag||"@@toStringTag";function a(t,n,i,r){var e=n&&n.prototype instanceof y?n:y,u=_.create(e.prototype),s=new C(r||[]);return u.Kn=function(t,n,i){var r=h;return function(e,u){if(r===v)throw new d("Generator is already running");if(r===g){if("throw"===e)throw u;return x()}for(i.method=e,i.arg=u;;){var s=i.delegate;if(s){var o=I(s,i);if(o){if(o===w)continue;return o}}if("next"===i.method)i.sent=i.ti=i.arg;else if("throw"===i.method){if(r===h)throw r=g,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=v;var a=c(t,n,i);if("normal"===a.type){if(r=i.done?g:f,a.arg===w)continue;return{value:a.arg,done:i.done}}"throw"===a.type&&(r=g,i.method="throw",i.arg=a.arg)}}}(t,i,s),u}function c(t,n,i){try{return{type:"normal",arg:t.call(n,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=a;var h="suspendedStart",f="suspendedYield",v="executing",g="completed",w={};function y(){}function k(){}function p(){}var A={};A[u]=function(){return this};var b=_.getPrototypeOf,T=b&&b(b(O([])));T&&T!==i&&r.call(T,u)&&(A=T);var E=p.prototype=y.prototype=_.create(A);function S(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this.Kn(n,t)}})}function R(t){var n;this.Kn=function(i,e){function u(){return new Promise(function(n,u){!function n(i,e,u,s){var o=c(t[i],t,e);if("throw"!==o.type){var a=o.arg,h=a.value;return h&&"object"==typeof h&&r.call(h,"ni")?Promise.resolve(h.ni).then(function(t){n("next",t,u,s)},function(t){n("throw",t,u,s)}):Promise.resolve(h).then(function(t){a.value=t,u(a)},function(t){return n("throw",t,u,s)})}s(o.arg)}(i,e,n,u)})}return n=n?n.then(u,u):u()}}function I(t,i){var r=t.iterator[i.method];if(r===n){if(i.delegate=null,"throw"===i.method){if(t.iterator.return&&(i.method="return",i.arg=n,I(t,i),"throw"===i.method))return w;i.method="throw",i.arg=new l("The iterator does not provide a 'throw' method")}return w}var e=c(r,t.iterator,i.arg);if("throw"===e.type)return i.method="throw",i.arg=e.arg,i.delegate=null,w;var u=e.arg;return u?u.done?(i[t.resultName]=u.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=n),i.delegate=null,w):u:(i.method="throw",i.arg=new l("iterator result is not an object"),i.delegate=null,w)}function N(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function D(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(N,this),this.reset(!0)}function O(t){if(t){var i=t[u];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!m(t.length)){var e=-1,s=function i(){for(;++e<t.length;)if(r.call(t,e))return i.value=t[e],i.done=!1,i;return i.value=n,i.done=!0,i};return s.next=s}}return{next:x}}function x(){return{value:n,done:!0}}k.prototype=E.constructor=p,p.constructor=k,p[o]=k.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===k||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return _.setPrototypeOf?_.setPrototypeOf(t,p):(t.__proto__=p,o in t||(t[o]="GeneratorFunction")),t.prototype=_.create(E),t},t.awrap=function(t){return{ni:t}},S(R.prototype),R.prototype[s]=function(){return this},t.AsyncIterator=R,t.async=function(n,i,r,e){var u=new R(a(n,i,r,e));return t.isGeneratorFunction(i)?u:u.next().then(function(t){return t.done?t.value:u.next()})},S(E),E[o]="Generator",E[u]=function(){return this},E.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var i in t)n.push(i);return n.reverse(),function i(){for(;n.length;){var r=n.pop();if(r in t)return i.value=r,i.done=!1,i}return i.done=!0,i}},t.values=O,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this.ti=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(D),!t)for(var i in this)"t"===i.charAt(0)&&r.call(this,i)&&!m(+i.slice(1))&&(this[i]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function e(r,e){return o.type="throw",o.arg=t,i.next=r,e&&(i.method="next",i.arg=n),!!e}for(var u=this.tryEntries.length-1;u>=0;--u){var s=this.tryEntries[u],o=s.completion;if("root"===s.tryLoc)return e("end");if(s.tryLoc<=this.prev){var a=r.call(s,"catchLoc"),c=r.call(s,"finallyLoc");if(a&&c){if(this.prev<s.catchLoc)return e(s.catchLoc,!0);if(this.prev<s.finallyLoc)return e(s.finallyLoc)}else if(a){if(this.prev<s.catchLoc)return e(s.catchLoc,!0)}else{if(!c)throw new d("try statement without catch or finally");if(this.prev<s.finallyLoc)return e(s.finallyLoc)}}}},abrupt:function(t,n){for(var i=this.tryEntries.length-1;i>=0;--i){var e=this.tryEntries[i];if(e.tryLoc<=this.prev&&r.call(e,"finallyLoc")&&this.prev<e.finallyLoc){var u=e;break}}u&&("break"===t||"continue"===t)&&u.tryLoc<=n&&n<=u.finallyLoc&&(u=null);var s=u?u.completion:{};return s.type=t,s.arg=n,u?(this.method="next",this.next=u.finallyLoc,w):this.complete(s)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),w},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),D(i),w}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc===t){var r=i.completion;if("throw"===r.type){var e=r.arg;D(i)}return e}}throw new d("illegal catch attempt")},delegateYield:function(t,i,r){return this.delegate={iterator:O(t),resultName:i,nextLoc:r},"next"===this.method&&(this.arg=n),w}}}(t.exports)}),vn=hn(function(n,r){n.exports=function t(n,r,e){function u(o,a){if(!r[o]){if(!n[o]){var c="function"==typeof i&&i;if(!a&&c)return c(o,!0);if(s)return s(o,!0);var h=new d("Cannot find module '"+o+"'");throw h.code="MODULE_NOT_FOUND",h}var f=r[o]={exports:{}};n[o][0].call(f.exports,function(t){var i=n[o][1][t];return u(i||t)},f,f.exports,t,n,r,e)}return r[o].exports}for(var s="function"==typeof i&&i,o=0;o<e.length;o++)u(e[o]);return u}({1:[function(t,n,i){n.exports=function(t){var n=t.ii;function i(t){var i=new n(t),r=i.promise();return i.setHowMany(1),i.setUnwrap(),i.init(),r}t.any=function(t){return i(t)},t.prototype.any=function(){return i(this)}}},{}],2:[function(t,n,i){var r;try{throw new d}catch(t){r=t}var e=t("./schedule"),u=t("./queue"),s=t("./util");function o(){this.ri=!1,this.ei=!1,this.ui=new u(16),this.si=new u(16),this.oi=!1,this.ai=!0;var t=this;this.drainQueues=function(){t.ci()},this.hi=e}function a(t,n,i){this.ui.push(t,n,i),this.fi()}function h(t,n,i){this.si.push(t,n,i),this.fi()}function f(t){this.si.vi(t),this.fi()}function v(t){for(;t.length()>0;)l(t)}function l(t){var n=t.shift();if("function"!=typeof n)n.di();else{var i=t.shift(),r=t.shift();n.call(i,r)}}o.prototype.setScheduler=function(t){var n=this.hi;return this.hi=t,this.ri=!0,n},o.prototype.hasCustomScheduler=function(){return this.ri},o.prototype.enableTrampoline=function(){this.ai=!0},o.prototype.disableTrampolineIfNecessary=function(){s.hasDevTools&&(this.ai=!1)},o.prototype.haveItemsQueued=function(){return this.ei||this.oi},o.prototype.fatalError=function(t,n){n?(process.stderr.write("Fatal "+(t instanceof d?t.stack:t)+"\n"),process.exit(2)):this.throwLater(t)},o.prototype.throwLater=function(t,n){if(1===arguments.length&&(n=t,t=function(){throw n}),void 0!==c)c(function(){t(n)},0);else try{this.hi(function(){t(n)})}catch(t){throw new d("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},s.hasDevTools?(o.prototype.invokeLater=function(t,n,i){this.ai?a.call(this,t,n,i):this.hi(function(){c(function(){t.call(n,i)},100)})},o.prototype.invoke=function(t,n,i){this.ai?h.call(this,t,n,i):this.hi(function(){t.call(n,i)})},o.prototype.settlePromises=function(t){this.ai?f.call(this,t):this.hi(function(){t.di()})}):(o.prototype.invokeLater=a,o.prototype.invoke=h,o.prototype.settlePromises=f),o.prototype.ci=function(){v(this.si),this.li(),this.oi=!0,v(this.ui)},o.prototype.fi=function(){this.ei||(this.ei=!0,this.hi(this.drainQueues))},o.prototype.li=function(){this.ei=!1},n.exports=o,n.exports.firstLineError=r},{"./queue":26,"./schedule":29,"./util":36}],3:[function(t,n,i){n.exports=function(t,n,i,r){var e=!1,u=function(t,n){this._i(n)},s=function(t,n){n.promiseRejectionQueued=!0,n.bindingPromise.gi(u,u,null,this,t)},o=function(t,n){0==(50397184&this.wi)&&this.yi(n.target)},a=function(t,n){n.promiseRejectionQueued||this._i(t)};t.prototype.bind=function(u){e||(e=!0,t.prototype.mi=r.propagateFromFunction(),t.prototype.ki=r.boundValueFunction());var c=i(u),h=new t(n);h.mi(this,1);var f=this.pi();if(h.Ai(c),c instanceof t){var v={promiseRejectionQueued:!1,promise:h,target:f,bindingPromise:c};f.gi(n,s,void 0,h,v),c.gi(o,a,void 0,h,v),h.bi(c)}else h.yi(f);return h},t.prototype.Ai=function(t){void 0!==t?(this.wi=2097152|this.wi,this.Ti=t):this.wi=-2097153&this.wi},t.prototype.Ei=function(){return 2097152==(2097152&this.wi)},t.bind=function(n,i){return t.resolve(i).bind(n)}}},{}],4:[function(t,n,i){var r;"undefined"!=typeof Promise&&(r=Promise);var e=t("./promise")();e.noConflict=function(){try{Promise===e&&(Promise=r)}catch(t){}return e},n.exports=e},{"./promise":22}],5:[function(t,n,i){var r=_.create;if(r){var e=r(null),u=r(null);e[" size"]=u[" size"]=0}n.exports=function(n){var i=t("./util"),r=i.canEvaluate;function e(t){var r=this.pop(),e=function(t,r){var e;if(null!=t&&(e=t[r]),"function"!=typeof e){var u="Object "+i.classString(t)+" has no method '"+i.toString(r)+"'";throw new n.TypeError(u)}return e}(t,r);return e.apply(t,this)}function u(t){return t[this]}function s(t){var n=+this;return n<0&&(n=g.max(0,n+t.length)),t[n]}i.isIdentifier,n.prototype.call=function(t){var n=[].slice.call(arguments,1);return n.push(t),this.gi(e,void 0,void 0,n,void 0)},n.prototype.get=function(t){var n,i="number"==typeof t;if(i)n=s;else if(r){var e=(void 0)();n=null!==e?e:u}else n=u;return this.gi(n,void 0,void 0,t,void 0)}}},{"./util":36}],6:[function(t,n,i){n.exports=function(n,i,r,e){var u=t("./util"),s=u.tryCatch,o=u.errorObj,a=n.Si;n.prototype.break=n.prototype.cancel=function(){if(!e.cancellation())return this.Ri("cancellation is disabled");for(var t=this,n=t;t.Ii();){if(!t.Ni(n)){n.Di()?n.Ci().cancel():n.Oi();break}var i=t.xi;if(null==i||!i.Ii()){t.Di()?t.Ci().cancel():t.Oi();break}t.Di()&&t.Ci().cancel(),t.Pi(),n=t,t=i}},n.prototype.Bi=function(){this.Li--},n.prototype.Mi=function(){return void 0===this.Li||this.Li<=0},n.prototype.Ni=function(t){return t===this?(this.Li=0,this.Ui(),!0):(this.Bi(),!!this.Mi()&&(this.Ui(),!0))},n.prototype.Oi=function(){this.Mi()&&this.Fi()},n.prototype.Fi=function(){this.Ii()&&(this.Hi(),a.invoke(this.Vi,this,void 0))},n.prototype.Vi=function(){this.Xi()>0&&this.di()},n.prototype.Wi=function(){this.qi=void 0},n.prototype.Ii=function(){return this.isPending()&&!this.zi()},n.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},n.prototype.Gi=function(t,n){if(u.isArray(t))for(var i=0;i<t.length;++i)this.Gi(t[i],n);else if(void 0!==t)if("function"==typeof t){if(!n){var r=s(t).call(this.ki());r===o&&(this.ji(r.e),a.throwLater(r.e))}}else t._resultCancelled(this)},n.prototype.Ui=function(){var t=this.Qi();this.Wi(),a.invoke(this.Gi,this,t)},n.prototype.Yi=function(){this.Ii()&&(this.Gi(this.Qi(),!0),this.Wi())},n.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(t,n,i){n.exports=function(n){var i=t("./util"),r=t("./es5").keys,e=i.tryCatch,u=i.errorObj;return function(t,s,o){return function(a){var c=o.ki();t:for(var h=0;h<t.length;++h){var f=t[h];if(f===d||null!=f&&f.prototype instanceof d){if(a instanceof f)return e(s).call(c,a)}else if("function"==typeof f){var v=e(f).call(c,a);if(v===u)return v;if(v)return e(s).call(c,a)}else if(i.isObject(a)){for(var l=r(f),_=0;_<l.length;++_){var g=l[_];if(f[g]!=a[g])continue t}return e(s).call(c,a)}}return n}}}},{"./es5":13,"./util":36}],8:[function(t,n,i){n.exports=function(t){var n=!1,i=[];function r(){this.Zi=new r.CapturedTrace(e())}function e(){var t=i.length-1;if(t>=0)return i[t]}return t.prototype.Ji=function(){},t.prototype.$i=function(){},t.prototype.Ki=function(){return null},t.tr=t.prototype.tr=function(){},r.prototype.$i=function(){void 0!==this.Zi&&(this.Zi.Ji=null,i.push(this.Zi))},r.prototype.Ki=function(){if(void 0!==this.Zi){var t=i.pop(),n=t.Ji;return t.Ji=null,n}return null},r.CapturedTrace=null,r.create=function(){if(n)return new r},r.deactivateLongStackTraces=function(){},r.activateLongStackTraces=function(){var i=t.prototype.$i,u=t.prototype.Ki,s=t.tr,o=t.prototype.tr,a=t.prototype.Ji;r.deactivateLongStackTraces=function(){t.prototype.$i=i,t.prototype.Ki=u,t.tr=s,t.prototype.tr=o,t.prototype.Ji=a,n=!1},n=!0,t.prototype.$i=r.prototype.$i,t.prototype.Ki=r.prototype.Ki,t.tr=t.prototype.tr=e,t.prototype.Ji=function(){var t=this.tr();t&&null==t.Ji&&(t.Ji=this)}},r}},{}],9:[function(t,n,i){n.exports=function(n,i){var r,e,u,o=n.nr,a=n.Si,h=t("./errors").Warning,f=t("./util"),v=t("./es5"),g=f.canAttachTrace,y=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,m=/\((?:timers\.js):\d+:\d+\)/,k=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,p=null,A=null,b=!1,T=!(0==f.env("BLUEBIRD_DEBUG")),E=!(0==f.env("BLUEBIRD_WARNINGS")||!T&&!f.env("BLUEBIRD_WARNINGS")),S=!(0==f.env("BLUEBIRD_LONG_STACK_TRACES")||!T&&!f.env("BLUEBIRD_LONG_STACK_TRACES")),R=0!=f.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(E||!!f.env("BLUEBIRD_W_FORGOTTEN_RETURN"));n.prototype.suppressUnhandledRejections=function(){var t=this.pi();t.wi=-1048577&t.wi|524288},n.prototype.ir=function(){if(0==(524288&this.wi)){this.rr();var t=this;c(function(){t.er()},1)}},n.prototype.ur=function(){Z("rejectionHandled",r,void 0,this)},n.prototype.sr=function(){this.wi=268435456|this.wi},n.prototype.ar=function(){return 0!=(268435456&this.wi)},n.prototype.er=function(){if(this.cr()){var t=this.hr();this.dr(),Z("unhandledRejection",e,t,this)}},n.prototype.dr=function(){this.wi=262144|this.wi},n.prototype._r=function(){this.wi=-262145&this.wi},n.prototype.gr=function(){return(262144&this.wi)>0},n.prototype.rr=function(){this.wi=1048576|this.wi},n.prototype.wr=function(){this.wi=-1048577&this.wi,this.gr()&&(this._r(),this.ur())},n.prototype.cr=function(){return(1048576&this.wi)>0},n.prototype.Ri=function(t,n,i){return G(t,n,i||this)},n.onPossiblyUnhandledRejection=function(t){var n=o();e="function"==typeof t?null===n?t:f.domainBind(n,t):void 0},n.onUnhandledRejectionHandled=function(t){var n=o();r="function"==typeof t?null===n?t:f.domainBind(n,t):void 0};var I=function(){};n.longStackTraces=function(){if(a.haveItemsQueued()&&!et.longStackTraces)throw new d("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!et.longStackTraces&&$()){var t=n.prototype.yr,r=n.prototype.ji,e=n.prototype.mr;et.longStackTraces=!0,I=function(){if(a.haveItemsQueued()&&!et.longStackTraces)throw new d("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");n.prototype.yr=t,n.prototype.ji=r,n.prototype.mr=e,i.deactivateLongStackTraces(),a.enableTrampoline(),et.longStackTraces=!1},n.prototype.yr=W,n.prototype.ji=q,n.prototype.mr=z,i.activateLongStackTraces(),a.disableTrampolineIfNecessary()}},n.hasLongStackTraces=function(){return et.longStackTraces&&$()};var N=function(){try{if("function"==typeof CustomEvent){var t=new CustomEvent("CustomEvent");return f.global.dispatchEvent(t),function(t,n){var i={detail:n,cancelable:!0};v.defineProperty(i,"promise",{value:n.promise}),v.defineProperty(i,"reason",{value:n.reason});var r=new CustomEvent(t.toLowerCase(),i);return!f.global.dispatchEvent(r)}}if("function"==typeof Event){var t=new Event("CustomEvent");return f.global.dispatchEvent(t),function(t,n){var i=new Event(t.toLowerCase(),{cancelable:!0});return i.detail=n,v.defineProperty(i,"promise",{value:n.promise}),v.defineProperty(i,"reason",{value:n.reason}),!f.global.dispatchEvent(i)}}var t=s.createEvent("CustomEvent");return t.initCustomEvent("testingtheevent",!1,!0,{}),f.global.dispatchEvent(t),function(t,n){var i=s.createEvent("CustomEvent");return i.initCustomEvent(t.toLowerCase(),!1,!0,n),!f.global.dispatchEvent(i)}}catch(t){}return function(){return!1}}(),D=f.isNode?function(){return process.emit.apply(process,arguments)}:f.global?function(t){var n="on"+t.toLowerCase(),i=f.global[n];return!!i&&(i.apply(f.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function C(t,n){return{promise:n}}var O={promiseCreated:C,promiseFulfilled:C,promiseRejected:C,promiseResolved:C,promiseCancelled:C,promiseChained:function(t,n,i){return{promise:n,child:i}},warning:function(t,n){return{warning:n}},unhandledRejection:function(t,n,i){return{reason:n,promise:i}},rejectionHandled:C},x=function(t){var n=!1;try{n=D.apply(null,arguments)}catch(t){a.throwLater(t),n=!0}var i=!1;try{i=N(t,O[t].apply(null,arguments))}catch(t){a.throwLater(t),i=!0}return i||n};function P(){return!1}function B(t,n,i){var r=this;try{t(n,i,function(t){if("function"!=typeof t)throw new l("onCancel must be a function, got: "+f.toString(t));r.kr(t)})}catch(t){return t}}function L(t){if(!this.Ii())return this;var n=this.Qi();void 0!==n?f.isArray(n)?n.push(t):this.bi([n,t]):this.bi(t)}function M(){return this.qi}function U(t){this.qi=t}function F(){this.xi=void 0,this.qi=void 0}function H(t,n){if(0!=(1&n)){this.xi=t;var i=t.Li;void 0===i&&(i=0),t.Li=i+1}0!=(2&n)&&t.Ei()&&this.Ai(t.Ti)}n.config=function(t){if("longStackTraces"in(t=_(t))&&(t.longStackTraces?n.longStackTraces():!t.longStackTraces&&n.hasLongStackTraces()&&I()),"warnings"in t){var i=t.warnings;et.warnings=!!i,R=et.warnings,f.isObject(i)&&"wForgottenReturn"in i&&(R=!!i.wForgottenReturn)}if("cancellation"in t&&t.cancellation&&!et.cancellation){if(a.haveItemsQueued())throw new d("cannot enable cancellation after promises are in use");n.prototype.pr=F,n.prototype.mi=H,n.prototype.Qi=M,n.prototype.bi=U,n.prototype.kr=L,n.prototype.Ar=B,V=H,et.cancellation=!0}return"monitoring"in t&&(t.monitoring&&!et.monitoring?(et.monitoring=!0,n.prototype.Tr=x):!t.monitoring&&et.monitoring&&(et.monitoring=!1,n.prototype.Tr=P)),n},n.prototype.Tr=P,n.prototype.Ar=function(t,n,i){try{t(n,i)}catch(t){return t}},n.prototype.Qi=function(){},n.prototype.bi=function(t){},n.prototype.kr=function(t){},n.prototype.yr=function(){},n.prototype.ji=function(){},n.prototype.mr=function(){},n.prototype.pr=function(){},n.prototype.mi=function(t,n){};var V=function(t,n){0!=(2&n)&&t.Ei()&&this.Ai(t.Ti)};function X(){var t=this.Ti;return void 0!==t&&t instanceof n?t.isFulfilled()?t.value():void 0:t}function W(){this.Zi=new it(this.tr())}function q(t,n){if(g(t)){var i=this.Zi;if(void 0!==i&&n&&(i=i.Er),void 0!==i)i.attachExtraTrace(t);else if(!t.Sr){var r=Q(t);f.notEnumerableProp(t,"stack",r.message+"\n"+r.stack.join("\n")),f.notEnumerableProp(t,"Sr",!0)}}}function z(){this.Zi=void 0}function G(t,i,r){if(et.warnings){var e,u=new h(t);if(i)r.ji(u);else if(et.longStackTraces&&(e=n.tr()))e.attachExtraTrace(u);else{var s=Q(u);u.stack=s.message+"\n"+s.stack.join("\n")}x("warning",u)||Y(u,"",!0)}}function j(t){for(var n=[],i=0;i<t.length;++i){var r=t[i],e="    (No stack trace)"===r||p.test(r),u=e&&K(r);e&&!u&&(b&&" "!==r.charAt(0)&&(r="    "+r),n.push(r))}return n}function Q(t){var n=t.stack,i=t.toString();return n="string"==typeof n&&n.length>0?function(t){for(var n=t.stack.replace(/\s+$/g,"").split("\n"),i=0;i<n.length;++i){var r=n[i];if("    (No stack trace)"===r||p.test(r))break}return i>0&&"SyntaxError"!=t.name&&(n=n.slice(i)),n}(t):["    (No stack trace)"],{message:i,stack:"SyntaxError"==t.name?n:j(n)}}function Y(t,n,i){if("undefined"!=typeof console){var r;if(f.isObject(t)){var e=t.stack;r=n+A(e,t)}else r=n+String(t);"function"==typeof u?u(r,i):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(r)}}function Z(t,n,i,r){var e=!1;try{"function"==typeof n&&(e=!0,"rejectionHandled"===t?n(r):n(i,r))}catch(t){a.throwLater(t)}"unhandledRejection"===t?x(t,i,r)||e||Y(i,"Unhandled rejection "):x(t,r)}function J(t){var n;if("function"==typeof t)n="[function "+(t.name||"anonymous")+"]";else{if(n=t&&"function"==typeof t.toString?t.toString():f.toString(t),/\[object [a-zA-Z0-9$_]+\]/.test(n))try{var i=JSON.stringify(t);n=i}catch(t){}0===n.length&&(n="(empty array)")}return"(<"+function(t){return t.length<41?t:t.substr(0,38)+"..."}(n)+">, no stack trace)"}function $(){return"function"==typeof rt}var K=function(){return!1},tt=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function nt(t){var n=t.match(tt);if(n)return{fileName:n[1],line:w(n[2],10)}}function it(t){this.Er=t,this.Rr=0;var n=this.Xi=1+(void 0===t?0:t.Xi);rt(this,it),n>32&&this.uncycle()}f.inherits(it,d),i.CapturedTrace=it,it.prototype.uncycle=function(){var t=this.Xi;if(!(t<2)){for(var n=[],i={},r=0,e=this;void 0!==e;++r)n.push(e),e=e.Er;for(var r=(t=this.Xi=r)-1;r>=0;--r){var u=n[r].stack;void 0===i[u]&&(i[u]=r)}for(var r=0;r<t;++r){var s=n[r].stack,o=i[s];if(void 0!==o&&o!==r){o>0&&(n[o-1].Er=void 0,n[o-1].Xi=1),n[r].Er=void 0,n[r].Xi=1;var a=r>0?n[r-1]:this;o<t-1?(a.Er=n[o+1],a.Er.uncycle(),a.Xi=a.Er.Xi+1):(a.Er=void 0,a.Xi=1);for(var c=a.Xi+1,h=r-2;h>=0;--h)n[h].Xi=c,c++;return}}}},it.prototype.attachExtraTrace=function(t){if(!t.Sr){this.uncycle();for(var n=Q(t),i=n.message,r=[n.stack],e=this;void 0!==e;)r.push(j(e.stack.split("\n"))),e=e.Er;!function(t){for(var n=t[0],i=1;i<t.length;++i){for(var r=t[i],e=n.length-1,u=n[e],s=-1,o=r.length-1;o>=0;--o)if(r[o]===u){s=o;break}for(var o=s;o>=0;--o){var a=r[o];if(n[e]!==a)break;n.pop(),e--}n=r}}(r),function(t){for(var n=0;n<t.length;++n)(0===t[n].length||n+1<t.length&&t[n][0]===t[n+1][0])&&(t.splice(n,1),n--)}(r),f.notEnumerableProp(t,"stack",function(t,n){for(var i=0;i<n.length-1;++i)n[i].push("From previous event:"),n[i]=n[i].join("\n");return i<n.length&&(n[i]=n[i].join("\n")),t+"\n"+n.join("\n")}(i,r)),f.notEnumerableProp(t,"Sr",!0)}};var rt=function(){var t=/^\s*at\s*/,n=function(t,n){return"string"==typeof t?t:void 0!==n.name&&void 0!==n.message?n.toString():J(n)};if("number"==typeof d.stackTraceLimit&&"function"==typeof d.captureStackTrace){d.stackTraceLimit+=6,p=t,A=n;var i=d.captureStackTrace;return K=function(t){return y.test(t)},function(t,n){d.stackTraceLimit+=6,i(t,n),d.stackTraceLimit-=6}}var r,e=new d;if("string"==typeof e.stack&&e.stack.split("\n")[0].indexOf("stackDetection@")>=0)return p=/@/,A=n,b=!0,function(t){t.stack=(new d).stack};try{throw new d}catch(t){r="stack"in t}return"stack"in e||!r||"number"!=typeof d.stackTraceLimit?(A=function(t,n){return"string"==typeof t?t:"object"!=typeof n&&"function"!=typeof n||void 0===n.name||void 0===n.message?J(n):n.toString()},null):(p=t,A=n,function(t){d.stackTraceLimit+=6;try{throw new d}catch(n){t.stack=n.stack}d.stackTraceLimit-=6})}();"undefined"!=typeof console&&void 0!==console.warn&&(u=function(t){console.warn(t)},f.isNode&&process.stderr.isTTY?u=function(t,n){var i=n?"\x1b[33m":"\x1b[31m";console.warn(i+t+"\x1b[0m\n")}:f.isNode||"string"!=typeof(new d).stack||(u=function(t,n){console.warn("%c"+t,n?"color: darkorange":"color: red")}));var et={warnings:E,longStackTraces:!1,cancellation:!1,monitoring:!1};return S&&n.longStackTraces(),{longStackTraces:function(){return et.longStackTraces},warnings:function(){return et.warnings},cancellation:function(){return et.cancellation},monitoring:function(){return et.monitoring},propagateFromFunction:function(){return V},boundValueFunction:function(){return X},checkForgottenReturns:function(t,n,i,r,e){if(void 0===t&&null!==n&&R){if(void 0!==e&&e.ar())return;if(0==(65535&r.wi))return;i&&(i+=" ");var u="",s="";if(n.Zi){for(var o=n.Zi.stack.split("\n"),a=j(o),c=a.length-1;c>=0;--c){var h=a[c];if(!m.test(h)){var f=h.match(k);f&&(u="at "+f[1]+":"+f[2]+":"+f[3]+" ");break}}if(a.length>0)for(var v=a[0],c=0;c<o.length;++c)if(o[c]===v){c>0&&(s="\n"+o[c-1]);break}}var d="a promise was created in a "+i+"handler "+u+"but was not returned from it, see http://goo.gl/rRqMUw"+s;r.Ri(d,!0,n)}},setBounds:function(t,n){if($()){for(var i,r,e=(t.stack||"").split("\n"),u=(n.stack||"").split("\n"),s=-1,o=-1,a=0;a<e.length;++a){var c=nt(e[a]);if(c){i=c.fileName,s=c.line;break}}for(var a=0;a<u.length;++a){var c=nt(u[a]);if(c){r=c.fileName,o=c.line;break}}s<0||o<0||!i||!r||i!==r||s>=o||(K=function(t){if(y.test(t))return!0;var n=nt(t);return!!(n&&n.fileName===i&&s<=n.line&&n.line<=o)})}},warn:G,deprecated:function(t,n){var i=t+" is deprecated and will be removed in a future version.";return n&&(i+=" Use "+n+" instead."),G(i)},CapturedTrace:it,fireDomEvent:N,fireGlobalEvent:D}}},{"./errors":12,"./es5":13,"./util":36}],10:[function(t,n,i){n.exports=function(t){function n(){return this.value}function i(){throw this.reason}t.prototype.return=t.prototype.thenReturn=function(i){return i instanceof t&&i.suppressUnhandledRejections(),this.gi(n,void 0,void 0,{value:i},void 0)},t.prototype.throw=t.prototype.thenThrow=function(t){return this.gi(i,void 0,void 0,{reason:t},void 0)},t.prototype.catchThrow=function(t){if(arguments.length<=1)return this.gi(void 0,i,void 0,{reason:t},void 0);var n=arguments[1];return this.caught(t,function(){throw n})},t.prototype.catchReturn=function(i){if(arguments.length<=1)return i instanceof t&&i.suppressUnhandledRejections(),this.gi(void 0,n,void 0,{value:i},void 0);var r=arguments[1];return r instanceof t&&r.suppressUnhandledRejections(),this.caught(i,function(){return r})}}},{}],11:[function(t,n,i){n.exports=function(t,n){var i=t.reduce,r=t.all;function e(){return r(this)}t.prototype.each=function(t){return i(this,t,n,0).gi(e,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(t){return i(this,t,n,n)},t.each=function(t,r){return i(t,r,n,0).gi(e,void 0,void 0,t,void 0)},t.mapSeries=function(t,r){return i(t,r,n,n)}}},{}],12:[function(t,n,i){var r,e,u=t("./es5"),s=u.freeze,o=t("./util"),a=o.inherits,c=o.notEnumerableProp;function h(t,n){function i(r){if(!(this instanceof i))return new i(r);c(this,"message","string"==typeof r?r:n),c(this,"name",t),d.captureStackTrace?d.captureStackTrace(this,this.constructor):d.call(this)}return a(i,d),i}var f=h("Warning","warning"),v=h("CancellationError","cancellation error"),_=h("TimeoutError","timeout error"),g=h("AggregateError","aggregate error");try{r=l,e=RangeError}catch(t){r=h("TypeError","type error"),e=h("RangeError","range error")}for(var w="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),y=0;y<w.length;++y)"function"==typeof Array.prototype[w[y]]&&(g.prototype[w[y]]=Array.prototype[w[y]]);u.defineProperty(g.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),g.prototype.isOperational=!0;var m=0;function k(t){if(!(this instanceof k))return new k(t);c(this,"name","OperationalError"),c(this,"message",t),this.cause=t,this.isOperational=!0,t instanceof d?(c(this,"message",t.message),c(this,"stack",t.stack)):d.captureStackTrace&&d.captureStackTrace(this,this.constructor)}g.prototype.toString=function(){var t=Array(4*m+1).join(" "),n="\n"+t+"AggregateError of:\n";m++,t=Array(4*m+1).join(" ");for(var i=0;i<this.length;++i){for(var r=this[i]===this?"[Circular AggregateError]":this[i]+"",e=r.split("\n"),u=0;u<e.length;++u)e[u]=t+e[u];r=e.join("\n"),n+=r+"\n"}return m--,n},a(k,d);var p=d.Ir;p||(p=s({CancellationError:v,TimeoutError:_,OperationalError:k,RejectionError:k,AggregateError:g}),u.defineProperty(d,"Ir",{value:p,writable:!1,enumerable:!1,configurable:!1})),n.exports={Error:d,TypeError:r,RangeError:e,CancellationError:p.CancellationError,OperationalError:p.OperationalError,TimeoutError:p.TimeoutError,AggregateError:p.AggregateError,Warning:f}},{"./es5":13,"./util":36}],13:[function(t,n,i){var r=function(){return void 0===this}();if(r)n.exports={freeze:_.freeze,defineProperty:_.defineProperty,getDescriptor:_.getOwnPropertyDescriptor,keys:_.keys,names:_.getOwnPropertyNames,getPrototypeOf:_.getPrototypeOf,isArray:Array.isArray,isES5:r,propertyIsWritable:function(t,n){var i=_.getOwnPropertyDescriptor(t,n);return!(i&&!i.writable&&!i.set)}};else{var e={}.hasOwnProperty,u={}.toString,s={}.constructor.prototype,o=function(t){var n=[];for(var i in t)e.call(t,i)&&n.push(i);return n};n.exports={isArray:function(t){try{return"[object Array]"===u.call(t)}catch(t){return!1}},keys:o,names:o,defineProperty:function(t,n,i){return t[n]=i.value,t},getDescriptor:function(t,n){return{value:t[n]}},freeze:function(t){return t},getPrototypeOf:function(t){try{return _(t).constructor.prototype}catch(t){return s}},isES5:r,propertyIsWritable:function(){return!0}}}},{}],14:[function(t,n,i){n.exports=function(t,n){var i=t.map;t.prototype.filter=function(t,r){return i(this,t,r,n)},t.filter=function(t,r,e){return i(t,r,e,n)}}},{}],15:[function(t,n,i){n.exports=function(n,i,r){var e=t("./util"),u=n.CancellationError,s=e.errorObj,o=t("./catch_filter")(r);function a(t,n,i){this.promise=t,this.type=n,this.handler=i,this.called=!1,this.cancelPromise=null}function c(t){this.finallyHandler=t}function h(t,n){return null!=t.cancelPromise&&(arguments.length>1?t.cancelPromise._i(n):t.cancelPromise.Fi(),t.cancelPromise=null,!0)}function f(){return d.call(this,this.promise.pi().hr())}function v(t){if(!h(this,t))return s.e=t,s}function d(t){var e=this.promise,o=this.handler;if(!this.called){this.called=!0;var a=this.isFinallyHandler()?o.call(e.ki()):o.call(e.ki(),t);if(a===r)return a;if(void 0!==a){e.sr();var d=i(a,e);if(d instanceof n){if(null!=this.cancelPromise){if(d.zi()){var l=new u("late cancellation observer");return e.ji(l),s.e=l,s}d.isPending()&&d.kr(new c(this))}return d.gi(f,v,void 0,this,void 0)}}}return e.isRejected()?(h(this),s.e=t,s):(h(this),t)}return a.prototype.isFinallyHandler=function(){return 0===this.type},c.prototype._resultCancelled=function(){h(this.finallyHandler)},n.prototype.Nr=function(t,n,i,r){return"function"!=typeof t?this.then():this.gi(i,r,void 0,new a(this,n,t),void 0)},n.prototype.lastly=n.prototype.finally=function(t){return this.Nr(t,0,d,d)},n.prototype.tap=function(t){return this.Nr(t,1,d)},n.prototype.tapCatch=function(t){var i=arguments.length;if(1===i)return this.Nr(t,1,void 0,d);var r,u=new Array(i-1),s=0;for(r=0;r<i-1;++r){var a=arguments[r];if(!e.isObject(a))return n.reject(new l("tapCatch statement predicate: expecting an object but got "+e.classString(a)));u[s++]=a}u.length=s;var c=arguments[r];return this.Nr(o(u,c,this),1,void 0,d)},a}},{"./catch_filter":7,"./util":36}],16:[function(t,n,i){n.exports=function(n,i,r,e,u,s){var o=t("./errors"),a=o.TypeError,c=t("./util"),h=c.errorObj,f=c.tryCatch,v=[];function l(t,i,e,u){if(s.cancellation()){var o=new n(r),a=this.Dr=new n(r);this.Cr=o.lastly(function(){return a}),o.yr(),o.bi(this)}else{var c=this.Cr=new n(r);c.yr()}this.Or=u,this.xr=t,this.Pr=i,this.Br=void 0,this.Lr="function"==typeof e?[e].concat(v):v,this.Mr=null,this.Ur=!1}c.inherits(l,u),l.prototype.Fr=function(){return null===this.Cr},l.prototype.Hr=function(){this.Cr=this.Br=null,s.cancellation()&&null!==this.Dr&&(this.Dr.Vr(),this.Dr=null)},l.prototype.Xr=function(){if(!this.Fr()){var t,i=void 0!==this.Br.return;if(i)this.Cr.$i(),t=f(this.Br.return).call(this.Br,void 0),this.Cr.Ki();else{var r=new n.CancellationError("generator .return() sentinel");n.coroutine.returnSentinel=r,this.Cr.ji(r),this.Cr.$i(),t=f(this.Br.throw).call(this.Br,r),this.Cr.Ki()}this.Ur=!0,this.Mr=null,this.Wr(t)}},l.prototype.qr=function(t){this.Mr=null,this.Cr.$i();var n=f(this.Br.next).call(this.Br,t);this.Cr.Ki(),this.Wr(n)},l.prototype.zr=function(t){this.Mr=null,this.Cr.ji(t),this.Cr.$i();var n=f(this.Br.throw).call(this.Br,t);this.Cr.Ki(),this.Wr(n)},l.prototype._resultCancelled=function(){if(this.Mr instanceof n){var t=this.Mr;this.Mr=null,t.cancel()}},l.prototype.promise=function(){return this.Cr},l.prototype.Gr=function(){this.Br=this.xr.call(this.Pr),this.Pr=this.xr=void 0,this.qr(void 0)},l.prototype.Wr=function(t){var i=this.Cr;if(t===h)return this.Hr(),this.Ur?i.cancel():i.jr(t.e,!1);var r=t.value;if(!0===t.done)return this.Hr(),this.Ur?i.cancel():i.yi(r);var u=e(r,this.Cr);if(u instanceof n||null!==(u=function(t,i,r){for(var u=0;u<i.length;++u){r.$i();var s=f(i[u])(t);if(r.Ki(),s===h){r.$i();var o=n.reject(h.e);return r.Ki(),o}var a=e(s,r);if(a instanceof n)return a}return null}(u,this.Lr,this.Cr))){var s=(u=u.pi()).wi;0==(50397184&s)?(this.Mr=u,u.Qr(this,null)):0!=(33554432&s)?n.Si.invoke(this.qr,this,u.Yr()):0!=(16777216&s)?n.Si.invoke(this.zr,this,u.Zr()):this.Xr()}else this.zr(new a("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(r))+"From coroutine:\n"+this.Or.split("\n").slice(1,-7).join("\n")))},n.coroutine=function(t,n){if("function"!=typeof t)throw new a("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var i=_(n).yieldHandler,r=l,e=(new d).stack;return function(){var n=t.apply(this,arguments),u=new r(void 0,void 0,i,e),s=u.promise();return u.Br=n,u.qr(void 0),s}},n.coroutine.addYieldHandler=function(t){if("function"!=typeof t)throw new a("expecting a function but got "+c.classString(t));v.push(t)},n.spawn=function(t){if(s.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof t)return i("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var r=new l(t,this),e=r.promise();return r.Gr(n.spawn),e}}},{"./errors":12,"./util":36}],17:[function(t,n,i){n.exports=function(n,i,r,e,u,s){var o=t("./util");o.canEvaluate,o.tryCatch,o.errorObj,n.join=function(){var t,n=arguments.length-1;n>0&&"function"==typeof arguments[n]&&(t=arguments[n]);var r=[].slice.call(arguments);t&&r.pop();var e=new i(r).promise();return void 0!==t?e.spread(t):e}}},{"./util":36}],18:[function(t,n,i){n.exports=function(n,i,r,e,u,s){var o=n.nr,a=t("./util"),c=a.tryCatch,h=a.errorObj,f=n.Si;function v(t,n,i,r){this.constructor$(t),this.Cr.yr();var e=o();this.Jr=null===e?n:a.domainBind(e,n),this.$r=r===u?new Array(this.length()):null,this.Kr=i,this.te=0,this.ie=[],f.invoke(this.re,this,void 0)}function d(t,i,e,u){if("function"!=typeof i)return r("expecting a function but got "+a.classString(i));var s=0;if(void 0!==e){if("object"!=typeof e||null===e)return n.reject(new l("options argument must be an object but it is "+a.classString(e)));if("number"!=typeof e.concurrency)return n.reject(new l("'concurrency' must be a number but it is "+a.classString(e.concurrency)));s=e.concurrency}return s="number"==typeof s&&isFinite(s)&&s>=1?s:0,new v(t,i,s,u).promise()}a.inherits(v,i),v.prototype.re=function(){this._init$(void 0,-2)},v.prototype._init=function(){},v.prototype.qr=function(t,i){var r=this.ee,u=this.length(),o=this.$r,a=this.Kr;if(i<0){if(r[i=-1*i-1]=t,a>=1&&(this.te--,this.ue(),this.Fr()))return!0}else{if(a>=1&&this.te>=a)return r[i]=t,this.ie.push(i),!1;null!==o&&(o[i]=t);var f=this.Cr,v=this.Jr,d=f.ki();f.$i();var l=c(v).call(d,t,i,u),_=f.Ki();if(s.checkForgottenReturns(l,_,null!==o?"Promise.filter":"Promise.map",f),l===h)return this._i(l.e),!0;var g=e(l,this.Cr);if(g instanceof n){var w=(g=g.pi()).wi;if(0==(50397184&w))return a>=1&&this.te++,r[i]=g,g.Qr(this,-1*(i+1)),!1;if(0==(33554432&w))return 0!=(16777216&w)?(this._i(g.Zr()),!0):(this.Fi(),!0);l=g.Yr()}r[i]=l}var y=++this.se;return y>=u&&(null!==o?this.oe(r,o):this.ae(r),!0)},v.prototype.ue=function(){for(var t=this.ie,n=this.Kr,i=this.ee;t.length>0&&this.te<n;){if(this.Fr())return;var r=t.pop();this.qr(i[r],r)}},v.prototype.oe=function(t,n){for(var i=n.length,r=new Array(i),e=0,u=0;u<i;++u)t[u]&&(r[e++]=n[u]);r.length=e,this.ae(r)},v.prototype.preservedValues=function(){return this.$r},n.prototype.map=function(t,n){return d(this,t,n,null)},n.map=function(t,n,i,r){return d(t,n,i,r)}}},{"./util":36}],19:[function(t,n,i){n.exports=function(n,i,r,e,u){var s=t("./util"),o=s.tryCatch;n.method=function(t){if("function"!=typeof t)throw new n.TypeError("expecting a function but got "+s.classString(t));return function(){var r=new n(i);r.yr(),r.$i();var e=o(t).apply(this,arguments),s=r.Ki();return u.checkForgottenReturns(e,s,"Promise.method",r),r.ce(e),r}},n.attempt=n.try=function(t){if("function"!=typeof t)return e("expecting a function but got "+s.classString(t));var r,a=new n(i);if(a.yr(),a.$i(),arguments.length>1){u.deprecated("calling Promise.try with more than 1 argument");var c=arguments[1],h=arguments[2];r=s.isArray(c)?o(t).apply(h,c):o(t).call(h,c)}else r=o(t)();var f=a.Ki();return u.checkForgottenReturns(r,f,"Promise.try",a),a.ce(r),a},n.prototype.ce=function(t){t===s.errorObj?this.jr(t.e,!1):this.yi(t,!0)}}},{"./util":36}],20:[function(t,n,i){var r=t("./util"),e=r.maybeWrapAsError,u=t("./errors"),s=u.OperationalError,o=t("./es5"),a=/^(?:name|message|stack|cause)$/;function c(t){var n;if(function(t){return t instanceof d&&o.getPrototypeOf(t)===d.prototype}(t)){(n=new s(t)).name=t.name,n.message=t.message,n.stack=t.stack;for(var i=o.keys(t),e=0;e<i.length;++e){var u=i[e];a.test(u)||(n[u]=t[u])}return n}return r.markAsOriginatingFromRejection(t),t}n.exports=function(t,n){return function(i,r){if(null!==t){if(i){var u=c(e(i));t.ji(u),t._i(u)}else if(n){var s=[].slice.call(arguments,1);t.Vr(s)}else t.Vr(r);t=null}}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(t,n,i){n.exports=function(n){var i=t("./util"),r=n.Si,e=i.tryCatch,u=i.errorObj;function s(t,n){if(!i.isArray(t))return o.call(this,t,n);var s=e(n).apply(this.ki(),[null].concat(t));s===u&&r.throwLater(s.e)}function o(t,n){var i=this.ki(),s=void 0===t?e(n).call(i,null):e(n).call(i,null,t);s===u&&r.throwLater(s.e)}function a(t,n){if(!t){var i=new d(t+"");i.cause=t,t=i}var s=e(n).call(this.ki(),t);s===u&&r.throwLater(s.e)}n.prototype.asCallback=n.prototype.nodeify=function(t,n){if("function"==typeof t){var i=o;void 0!==n&&_(n).spread&&(i=s),this.gi(i,a,void 0,this,t)}return this}}},{"./util":36}],22:[function(t,n,i){n.exports=function(){var i=function(){return new d("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},r=function(){return new N.PromiseInspection(this.pi())},e=function(t){return N.reject(new d(t))};function u(){}var s,o={},a=t("./util");s=a.isNode?function(){var t=process.domain;return void 0===t&&(t=null),t}:function(){return null},a.notEnumerableProp(N,"nr",s);var c=t("./es5"),h=t("./async"),f=new h;c.defineProperty(N,"Si",{value:f});var v=t("./errors"),d=N.TypeError=v.TypeError;N.RangeError=v.RangeError;var l=N.CancellationError=v.CancellationError;N.TimeoutError=v.TimeoutError,N.OperationalError=v.OperationalError,N.RejectionError=v.OperationalError,N.AggregateError=v.AggregateError;var g=function(){},w={},y={},m=t("./thenables")(N,g),k=t("./promise_array")(N,g,m,e,u),p=t("./context")(N),A=p.create,b=t("./debuggability")(N,p),T=(b.CapturedTrace,t("./finally")(N,m,y)),E=t("./catch_filter")(y),S=t("./nodeback"),R=a.errorObj,I=a.tryCatch;function N(t){t!==g&&function(t,n){if(null==t||t.constructor!==N)throw new d("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof n)throw new d("expecting a function but got "+a.classString(n))}(this,t),this.wi=0,this.he=void 0,this.fe=void 0,this.ve=void 0,this.de=void 0,this._e(t),this.Ji(),this.Tr("promiseCreated",this)}function D(t){this.promise.yi(t)}function C(t){this.promise.jr(t,!1)}function O(t){var n=new N(g);n.he=t,n.fe=t,n.ve=t,n.de=t}return N.prototype.toString=function(){return"[object Promise]"},N.prototype.caught=N.prototype.catch=function(t){var n=arguments.length;if(n>1){var i,r=new Array(n-1),u=0;for(i=0;i<n-1;++i){var s=arguments[i];if(!a.isObject(s))return e("Catch statement predicate: expecting an object but got "+a.classString(s));r[u++]=s}if(r.length=u,"function"!=typeof(t=arguments[i]))throw new d("The last argument to .catch() must be a function, got "+a.toString(t));return this.then(void 0,E(r,t,this))}return this.then(void 0,t)},N.prototype.reflect=function(){return this.gi(r,r,void 0,this,void 0)},N.prototype.then=function(t,n){if(b.warnings()&&arguments.length>0&&"function"!=typeof t&&"function"!=typeof n){var i=".then() only accepts functions but was passed: "+a.classString(t);arguments.length>1&&(i+=", "+a.classString(n)),this.Ri(i)}return this.gi(t,n,void 0,void 0,void 0)},N.prototype.done=function(t,n){var i=this.gi(t,n,void 0,void 0,void 0);i.we()},N.prototype.spread=function(t){return"function"!=typeof t?e("expecting a function but got "+a.classString(t)):this.all().gi(t,void 0,void 0,w,void 0)},N.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this.value(),t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this.reason(),t.isRejected=!0),t},N.prototype.all=function(){return arguments.length>0&&this.Ri(".all() was passed arguments but it does not take any"),new k(this).promise()},N.prototype.error=function(t){return this.caught(a.originatesFromRejection,t)},N.getNewLibraryCopy=n.exports,N.is=function(t){return t instanceof N},N.fromNode=N.fromCallback=function(t){var n=new N(g);n.yr();var i=arguments.length>1&&!!_(arguments[1]).multiArgs,r=I(t)(S(n,i));return r===R&&n.jr(r.e,!0),n.ye()||n.me(),n},N.all=function(t){return new k(t).promise()},N.cast=function(t){var n=m(t);return n instanceof N||((n=new N(g)).yr(),n.ke(),n.fe=t),n},N.resolve=N.fulfilled=N.cast,N.reject=N.rejected=function(t){var n=new N(g);return n.yr(),n.jr(t,!0),n},N.setScheduler=function(t){if("function"!=typeof t)throw new d("expecting a function but got "+a.classString(t));return f.setScheduler(t)},N.prototype.gi=function(t,n,i,r,e){var u=void 0!==e,o=u?e:new N(g),c=this.pi(),h=c.wi;u||(o.mi(this,3),o.yr(),void 0===r&&0!=(2097152&this.wi)&&(r=0!=(50397184&h)?this.ki():c===this?void 0:this.Ti),this.Tr("promiseChained",this,o));var v=s();if(0!=(50397184&h)){var d,_,w=c.pe;0!=(33554432&h)?(_=c.fe,d=t):0!=(16777216&h)?(_=c.he,d=n,c.wr()):(w=c.Ae,_=new l("late cancellation observer"),c.ji(_),d=n),f.invoke(w,c,{handler:null===v?d:"function"==typeof d&&a.domainBind(v,d),promise:o,receiver:r,value:_})}else c.be(t,n,o,r,v);return o},N.prototype.Xi=function(){return 65535&this.wi},N.prototype.ye=function(){return 0!=(117506048&this.wi)},N.prototype.Di=function(){return 67108864==(67108864&this.wi)},N.prototype.Te=function(t){this.wi=-65536&this.wi|65535&t},N.prototype.ke=function(){this.wi=33554432|this.wi,this.Tr("promiseFulfilled",this)},N.prototype.Ee=function(){this.wi=16777216|this.wi,this.Tr("promiseRejected",this)},N.prototype.Se=function(){this.wi=67108864|this.wi,this.Tr("promiseResolved",this)},N.prototype.we=function(){this.wi=4194304|this.wi},N.prototype.Re=function(){return(4194304&this.wi)>0},N.prototype.Ie=function(){this.wi=-65537&this.wi},N.prototype.Hi=function(){this.wi=65536|this.wi,this.Tr("promiseCancelled",this)},N.prototype.Pi=function(){this.wi=8388608|this.wi},N.prototype.me=function(){f.hasCustomScheduler()||(this.wi=134217728|this.wi)},N.prototype.Ne=function(t){var n=0===t?this.de:this[4*t-4+3];if(n!==o)return void 0===n&&this.Ei()?this.ki():n},N.prototype.De=function(t){return this[4*t-4+2]},N.prototype.Ce=function(t){return this[4*t-4+0]},N.prototype.Oe=function(t){return this[4*t-4+1]},N.prototype.ki=function(){},N.prototype.xe=function(t){t.wi;var n=t.he,i=t.fe,r=t.ve,e=t.Ne(0);void 0===e&&(e=o),this.be(n,i,r,e,null)},N.prototype.Pe=function(t,n){var i=t.Ce(n),r=t.Oe(n),e=t.De(n),u=t.Ne(n);void 0===u&&(u=o),this.be(i,r,e,u,null)},N.prototype.be=function(t,n,i,r,e){var u=this.Xi();if(u>=65531&&(u=0,this.Te(0)),0===u)this.ve=i,this.de=r,"function"==typeof t&&(this.he=null===e?t:a.domainBind(e,t)),"function"==typeof n&&(this.fe=null===e?n:a.domainBind(e,n));else{var s=4*u-4;this[s+2]=i,this[s+3]=r,"function"==typeof t&&(this[s+0]=null===e?t:a.domainBind(e,t)),"function"==typeof n&&(this[s+1]=null===e?n:a.domainBind(e,n))}return this.Te(u+1),u},N.prototype.Qr=function(t,n){this.be(void 0,void 0,n,t,null)},N.prototype.yi=function(t,n){if(0==(117506048&this.wi)){if(t===this)return this.jr(i(),!1);var r=m(t,this);if(!(r instanceof N))return this.Vr(t);n&&this.mi(r,2);var e=r.pi();if(e!==this){var u=e.wi;if(0==(50397184&u)){var s=this.Xi();s>0&&e.xe(this);for(var o=1;o<s;++o)e.Pe(this,o);this.Se(),this.Te(0),this.Be(e)}else if(0!=(33554432&u))this.Vr(e.Yr());else if(0!=(16777216&u))this._i(e.Zr());else{var a=new l("late cancellation observer");e.ji(a),this._i(a)}}else this._i(i())}},N.prototype.jr=function(t,n,i){var r=a.ensureErrorObject(t),e=r===t;if(!e&&!i&&b.warnings()){var u="a promise was rejected with a non-error: "+a.classString(t);this.Ri(u,!0)}this.ji(r,!!n&&e),this._i(t)},N.prototype._e=function(t){if(t!==g){var n=this;this.yr(),this.$i();var i=!0,r=this.Ar(t,function(t){n.yi(t)},function(t){n.jr(t,i)});i=!1,this.Ki(),void 0!==r&&n.jr(r,!0)}},N.prototype.Le=function(t,n,i,r){var e=r.wi;if(0==(65536&e)){var u;r.$i(),n===w?i&&"number"==typeof i.length?u=I(t).apply(this.ki(),i):(u=R).e=new d("cannot .spread() a non-array: "+a.classString(i)):u=I(t).call(n,i);var s=r.Ki();0==(65536&(e=r.wi))&&(u===y?r._i(i):u===R?r.jr(u.e,!1):(b.checkForgottenReturns(u,s,"",r,this),r.yi(u)))}},N.prototype.pi=function(){for(var t=this;t.Di();)t=t.Ci();return t},N.prototype.Ci=function(){return this.fe},N.prototype.Be=function(t){this.fe=t},N.prototype.Me=function(t,n,i,e){var s=t instanceof N,o=this.wi,a=0!=(134217728&o);0!=(65536&o)?(s&&t.Yi(),i instanceof T&&i.isFinallyHandler()?(i.cancelPromise=t,I(n).call(i,e)===R&&t._i(R.e)):n===r?t.Vr(r.call(i)):i instanceof u?i.Xr(t):s||t instanceof k?t.Fi():i.cancel()):"function"==typeof n?s?(a&&t.me(),this.Le(n,i,e,t)):n.call(i,e,t):i instanceof u?i.Fr()||(0!=(33554432&o)?i.qr(e,t):i.zr(e,t)):s&&(a&&t.me(),0!=(33554432&o)?t.Vr(e):t._i(e))},N.prototype.Ae=function(t){var n=t.handler,i=t.promise,r=t.receiver,e=t.value;"function"==typeof n?i instanceof N?this.Le(n,r,e,i):n.call(r,e,i):i instanceof N&&i._i(e)},N.prototype.pe=function(t){this.Me(t.promise,t.handler,t.receiver,t.value)},N.prototype.Ue=function(t,n,i){var r=this.ve,e=this.Ne(0);this.ve=void 0,this.de=void 0,this.Me(r,t,e,n)},N.prototype.Fe=function(t){var n=4*t-4;this[n+2]=this[n+3]=this[n+0]=this[n+1]=void 0},N.prototype.Vr=function(t){var n=this.wi;if(!((117506048&n)>>>16)){if(t===this){var r=i();return this.ji(r),this._i(r)}this.ke(),this.fe=t,(65535&n)>0&&(0!=(134217728&n)?this.di():f.settlePromises(this),this.mr())}},N.prototype._i=function(t){var n=this.wi;if(!((117506048&n)>>>16)){if(this.Ee(),this.he=t,this.Re())return f.fatalError(t,a.isNode);(65535&n)>0?f.settlePromises(this):this.ir()}},N.prototype.He=function(t,n){for(var i=1;i<t;i++){var r=this.Ce(i),e=this.De(i),u=this.Ne(i);this.Fe(i),this.Me(e,r,u,n)}},N.prototype.Ve=function(t,n){for(var i=1;i<t;i++){var r=this.Oe(i),e=this.De(i),u=this.Ne(i);this.Fe(i),this.Me(e,r,u,n)}},N.prototype.di=function(){var t=this.wi,n=65535&t;if(n>0){if(0!=(16842752&t)){var i=this.he;this.Ue(this.fe,i,t),this.Ve(n,i)}else{var r=this.fe;this.Ue(this.he,r,t),this.He(n,r)}this.Te(0)}this.pr()},N.prototype.hr=function(){var t=this.wi;return 0!=(33554432&t)?this.fe:0!=(16777216&t)?this.he:void 0},"undefined"!=typeof Symbol&&Symbol.toStringTag&&c.defineProperty(N.prototype,Symbol.toStringTag,{get:function(){return"Object"}}),N.defer=N.pending=function(){b.deprecated("Promise.defer","new Promise");var t=new N(g);return{promise:t,resolve:D,reject:C}},a.notEnumerableProp(N,"Xe",i),t("./method")(N,g,m,e,b),t("./bind")(N,g,m,b),t("./cancel")(N,k,e,b),t("./direct_resolve")(N),t("./synchronous_inspection")(N),t("./join")(N,k,m,g,f,s),N.Promise=N,N.version="3.5.5",t("./call_get.js")(N),t("./generators.js")(N,e,g,m,u,b),t("./map.js")(N,k,e,m,g,b),t("./nodeify.js")(N),t("./promisify.js")(N,g),t("./props.js")(N,k,m,e),t("./race.js")(N,g,m,e),t("./reduce.js")(N,k,e,m,g,b),t("./settle.js")(N,k,b),t("./some.js")(N,k,e),t("./timers.js")(N,g,b),t("./using.js")(N,e,m,A,g,b),t("./any.js")(N),t("./each.js")(N,g),t("./filter.js")(N,g),a.toFastProperties(N),a.toFastProperties(N.prototype),O({a:1}),O({b:2}),O({c:3}),O(1),O(function(){}),O(void 0),O(!1),O(new N(g)),b.setBounds(h.firstLineError,a.lastLineError),N}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(t,n,i){n.exports=function(n,i,r,e,u){var s=t("./util");function o(t){var r=this.Cr=new n(i);t instanceof n&&r.mi(t,3),r.bi(this),this.ee=t,this.Xi=0,this.se=0,this._init(void 0,-2)}return s.isArray,s.inherits(o,u),o.prototype.length=function(){return this.Xi},o.prototype.promise=function(){return this.Cr},o.prototype._init=function t(i,u){var o=r(this.ee,this.Cr);if(o instanceof n){var a=(o=o.pi()).wi;if(this.ee=o,0==(50397184&a))return this.Cr.me(),o.gi(t,this._i,void 0,this,u);if(0==(33554432&a))return 0!=(16777216&a)?this._i(o.Zr()):this.Fi();o=o.Yr()}if(null!==(o=s.asArray(o)))0!==o.length?this.We(o):-5===u?this.qe():this.ae(function(t){switch(t){case-2:return[];case-3:return{};case-6:return new Map}}(u));else{var c=e("expecting an array or an iterable object but got "+s.classString(o)).reason();this.Cr.jr(c,!1)}},o.prototype.We=function(t){var i=this.getActualLength(t.length);this.Xi=i,this.ee=this.shouldCopyValues()?new Array(i):this.ee;for(var e=this.Cr,u=!1,s=null,o=0;o<i;++o){var a=r(t[o],e);a instanceof n?(a=a.pi(),s=a.wi):s=null,u?null!==s&&a.suppressUnhandledRejections():null!==s?0==(50397184&s)?(a.Qr(this,o),this.ee[o]=a):u=0!=(33554432&s)?this.qr(a.Yr(),o):0!=(16777216&s)?this.zr(a.Zr(),o):this.Xr(o):u=this.qr(a,o)}u||e.me()},o.prototype.Fr=function(){return null===this.ee},o.prototype.ae=function(t){this.ee=null,this.Cr.Vr(t)},o.prototype.Fi=function(){!this.Fr()&&this.Cr.Ii()&&(this.ee=null,this.Cr.Fi())},o.prototype._i=function(t){this.ee=null,this.Cr.jr(t,!1)},o.prototype.qr=function(t,n){this.ee[n]=t;var i=++this.se;return i>=this.Xi&&(this.ae(this.ee),!0)},o.prototype.Xr=function(){return this.Fi(),!0},o.prototype.zr=function(t){return this.se++,this._i(t),!0},o.prototype._resultCancelled=function(){if(!this.Fr()){var t=this.ee;if(this.Fi(),t instanceof n)t.cancel();else for(var i=0;i<t.length;++i)t[i]instanceof n&&t[i].cancel()}},o.prototype.shouldCopyValues=function(){return!0},o.prototype.getActualLength=function(t){return t},o}},{"./util":36}],24:[function(t,n,i){n.exports=function(n,i){var r={},e=t("./util"),u=t("./nodeback"),s=e.withAppended,o=e.maybeWrapAsError,a=e.canEvaluate,c=t("./errors").TypeError,h={ze:!0},f=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","ze"].join("|")+")$"),v=function(t){return e.isIdentifier(t)&&"_"!==t.charAt(0)&&"constructor"!==t};function d(t){return!f.test(t)}function l(t){try{return!0===t.ze}catch(t){return!1}}function g(t,n,i){var r=e.getDataPropertyOrDefault(t,n+i,h);return!!r&&l(r)}function w(t,n,i,r){for(var u=e.inheritedDataKeys(t),s=[],o=0;o<u.length;++o){var a=u[o],h=t[a],f=r===v||v(a);"function"!=typeof h||l(h)||g(t,a,n)||!r(a,h,t,f)||s.push(a,h)}return function(t,n,i){for(var r=0;r<t.length;r+=2){var e=t[r];if(i.test(e))for(var u=e.replace(i,""),s=0;s<t.length;s+=2)if(t[s]===u)throw new c("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",n))}}(s,n,i),s}var y=function(t){return t.replace(/([$])/,"\\$")},m=a?void 0:function(t,a,c,h,f,v){var d=function(){return this}(),l=t;function _(){var e=a;a===r&&(e=this);var c=new n(i);c.yr();var h="string"==typeof l&&this!==d?this[l]:t,f=u(c,v);try{h.apply(e,s(arguments,f))}catch(t){c.jr(o(t),!0,!0)}return c.ye()||c.me(),c}return"string"==typeof l&&(t=h),e.notEnumerableProp(_,"ze",!0),_};function k(t,n,i,u,s){for(var o=new RegExp(y(n)+"$"),a=w(t,n,o,i),c=0,h=a.length;c<h;c+=2){var f=a[c],v=a[c+1],d=f+n;if(u===m)t[d]=m(f,r,f,v,n,s);else{var l=u(v,function(){return m(f,r,f,v,n,s)});e.notEnumerableProp(l,"ze",!0),t[d]=l}}return e.toFastProperties(t),t}n.promisify=function(t,n){if("function"!=typeof t)throw new c("expecting a function but got "+e.classString(t));if(l(t))return t;var i=void 0===(n=_(n)).context?r:n.context,u=!!n.multiArgs,s=function(t,n,i){return m(t,n,void 0,t,null,i)}(t,i,u);return e.copyDescriptors(t,s,d),s},n.promisifyAll=function(t,n){if("function"!=typeof t&&"object"!=typeof t)throw new c("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");var i=!!(n=_(n)).multiArgs,r=n.suffix;"string"!=typeof r&&(r="Async");var u=n.filter;"function"!=typeof u&&(u=v);var s=n.promisifier;if("function"!=typeof s&&(s=m),!e.isIdentifier(r))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var o=e.inheritedDataKeys(t),a=0;a<o.length;++a){var h=t[o[a]];"constructor"!==o[a]&&e.isClass(h)&&(k(h.prototype,r,u,s,i),k(h,r,u,s,i))}return k(t,r,u,s,i)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(t,n,i){n.exports=function(n,i,r,e){var u,s=t("./util"),o=s.isObject,a=t("./es5");"function"==typeof Map&&(u=Map);var c=function(){var t=0,n=0;function i(i,r){this[t]=i,this[t+n]=r,t++}return function(r){n=r.size,t=0;var e=new Array(2*r.size);return r.forEach(i,e),e}}();function h(t){var n,i=!1;if(void 0!==u&&t instanceof u)n=c(t),i=!0;else{var r=a.keys(t),e=r.length;n=new Array(2*e);for(var s=0;s<e;++s){var o=r[s];n[s]=t[o],n[s+e]=o}}this.constructor$(n),this.Ge=i,this._init$(void 0,i?-6:-3)}function f(t){var i,u=r(t);return o(u)?(i=u instanceof n?u.gi(n.props,void 0,void 0,void 0,void 0):new h(u).promise(),u instanceof n&&i.mi(u,2),i):e("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}s.inherits(h,i),h.prototype._init=function(){},h.prototype.qr=function(t,n){this.ee[n]=t;var i=++this.se;if(i>=this.Xi){var r;if(this.Ge)r=function(t){for(var n=new u,i=t.length/2|0,r=0;r<i;++r){var e=t[i+r],s=t[r];n.set(e,s)}return n}(this.ee);else{r={};for(var e=this.length(),s=0,o=this.length();s<o;++s)r[this.ee[s+e]]=this.ee[s]}return this.ae(r),!0}return!1},h.prototype.shouldCopyValues=function(){return!1},h.prototype.getActualLength=function(t){return t>>1},n.prototype.props=function(){return f(this)},n.props=function(t){return f(t)}}},{"./es5":13,"./util":36}],26:[function(t,n,i){function r(t){this.je=t,this.Xi=0,this.Qe=0}r.prototype.Ye=function(t){return this.je<t},r.prototype.vi=function(t){var n=this.length();this.Ze(n+1);var i=this.Qe+n&this.je-1;this[i]=t,this.Xi=n+1},r.prototype.push=function(t,n,i){var r=this.length()+3;if(this.Ye(r))return this.vi(t),this.vi(n),void this.vi(i);var e=this.Qe+r-3;this.Ze(r);var u=this.je-1;this[e+0&u]=t,this[e+1&u]=n,this[e+2&u]=i,this.Xi=r},r.prototype.shift=function(){var t=this.Qe,n=this[t];return this[t]=void 0,this.Qe=t+1&this.je-1,this.Xi--,n},r.prototype.length=function(){return this.Xi},r.prototype.Ze=function(t){this.je<t&&this.Je(this.je<<1)},r.prototype.Je=function(t){var n=this.je;this.je=t;var i=this.Qe,r=this.Xi,e=i+r&n-1;!function(t,n,i,r,e){for(var u=0;u<e;++u)i[u+r]=t[u+n],t[u+n]=void 0}(this,0,this,n,e)},n.exports=r},{}],27:[function(t,n,i){n.exports=function(n,i,r,e){var u=t("./util"),s=function(t){return t.then(function(n){return o(n,t)})};function o(t,o){var a=r(t);if(a instanceof n)return s(a);if(null===(t=u.asArray(t)))return e("expecting an array or an iterable object but got "+u.classString(t));var c=new n(i);void 0!==o&&c.mi(o,3);for(var h=c.Vr,f=c._i,v=0,d=t.length;v<d;++v){var l=t[v];(void 0!==l||v in t)&&n.cast(l).gi(h,f,void 0,c,null)}return c}n.race=function(t){return o(t,void 0)},n.prototype.race=function(){return o(this,void 0)}}},{"./util":36}],28:[function(t,n,i){n.exports=function(n,i,r,e,u,s){var o=n.nr,a=t("./util"),c=a.tryCatch;function h(t,i,r,e){this.constructor$(t);var s=o();this.$e=null===s?i:a.domainBind(s,i),void 0!==r&&(r=n.resolve(r)).kr(this),this.Ke=r,this.tu=null,this.nu=e===u?Array(this.Xi):0===e?null:void 0,this.Cr.yr(),this._init$(void 0,-5)}function f(t,n){this.isFulfilled()?n.ae(t):n._i(t)}function v(t,n,i,e){if("function"!=typeof n)return r("expecting a function but got "+a.classString(n));var u=new h(t,n,i,e);return u.promise()}function d(t){this.accum=t,this.array.iu(t);var i=e(this.value,this.array.Cr);return i instanceof n?(this.array.tu=i,i.gi(l,void 0,void 0,this,void 0)):l.call(this,i)}function l(t){var i,r=this.array,e=r.Cr,u=c(r.$e);e.$i(),(i=void 0!==r.nu?u.call(e.ki(),t,this.index,this.length):u.call(e.ki(),this.accum,t,this.index,this.length))instanceof n&&(r.tu=i);var o=e.Ki();return s.checkForgottenReturns(i,o,void 0!==r.nu?"Promise.each":"Promise.reduce",e),i}a.inherits(h,i),h.prototype.iu=function(t){void 0!==this.nu&&null!==this.nu&&t!==u&&this.nu.push(t)},h.prototype.ru=function(t){return null!==this.nu&&this.nu.push(t),this.nu},h.prototype._init=function(){},h.prototype.qe=function(){this.ae(void 0!==this.nu?this.nu:this.Ke)},h.prototype.shouldCopyValues=function(){return!1},h.prototype.ae=function(t){this.Cr.yi(t),this.ee=null},h.prototype._resultCancelled=function(t){if(t===this.Ke)return this.Fi();this.Fr()||(this._resultCancelled$(),this.tu instanceof n&&this.tu.cancel(),this.Ke instanceof n&&this.Ke.cancel())},h.prototype.We=function(t){var i,r;this.ee=t;var e=t.length;if(void 0!==this.Ke?(i=this.Ke,r=0):(i=n.resolve(t[0]),r=1),this.tu=i,!i.isRejected())for(;r<e;++r){var u={accum:null,value:t[r],index:r,length:e,array:this};i=i.gi(d,void 0,void 0,u,void 0)}void 0!==this.nu&&(i=i.gi(this.ru,void 0,void 0,this,void 0)),i.gi(f,f,void 0,i,this)},n.prototype.reduce=function(t,n){return v(this,t,n,null)},n.reduce=function(t,n,i,r){return v(t,n,i,r)}}},{"./util":36}],29:[function(t,n,i){var r,e,o,a,h,f=t("./util"),v=f.getNativePromise();if(f.isNode&&"undefined"==typeof MutationObserver){var l=cn.setImmediate,_=process.nextTick;r=f.isRecentNode?function(t){l.call(cn,t)}:function(t){_.call(process,t)}}else if("function"==typeof v&&"function"==typeof v.resolve){var g=v.resolve();r=function(t){g.then(t)}}else r="undefined"!=typeof MutationObserver&&(void 0===u||!u.navigator||!u.navigator.standalone&&!u.cordova)&&"classList"in s.documentElement?(e=s.createElement("div"),o={attributes:!0},a=!1,h=s.createElement("div"),new MutationObserver(function(){e.classList.toggle("foo"),a=!1}).observe(h,o),function(t){var n=new MutationObserver(function(){n.disconnect(),t()});n.observe(e,o),a||(a=!0,h.classList.toggle("foo"))}):"undefined"!=typeof setImmediate?function(t){setImmediate(t)}:void 0!==c?function(t){c(t,0)}:function(){throw new d("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")};n.exports=r},{"./util":36}],30:[function(t,n,i){n.exports=function(n,i,r){var e=n.PromiseInspection,u=t("./util");function s(t){this.constructor$(t)}u.inherits(s,i),s.prototype.eu=function(t,n){this.ee[t]=n;var i=++this.se;return i>=this.Xi&&(this.ae(this.ee),!0)},s.prototype.qr=function(t,n){var i=new e;return i.wi=33554432,i.uu=t,this.eu(n,i)},s.prototype.zr=function(t,n){var i=new e;return i.wi=16777216,i.uu=t,this.eu(n,i)},n.settle=function(t){return r.deprecated(".settle()",".reflect()"),new s(t).promise()},n.prototype.settle=function(){return n.settle(this)}}},{"./util":36}],31:[function(t,n,i){n.exports=function(n,i,r){var e=t("./util"),u=t("./errors").RangeError,s=t("./errors").AggregateError,o=e.isArray,a={};function c(t){this.constructor$(t),this.su=0,this.ou=!1,this.au=!1}function h(t,n){if((0|n)!==n||n<0)return r("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var i=new c(t),e=i.promise();return i.setHowMany(n),i.init(),e}e.inherits(c,i),c.prototype._init=function(){if(this.au)if(0!==this.su){this._init$(void 0,-5);var t=o(this.ee);!this.Fr()&&t&&this.su>this.cu()&&this._i(this.hu(this.length()))}else this.ae([])},c.prototype.init=function(){this.au=!0,this._init()},c.prototype.setUnwrap=function(){this.ou=!0},c.prototype.howMany=function(){return this.su},c.prototype.setHowMany=function(t){this.su=t},c.prototype.qr=function(t){return this.fu(t),this.vu()===this.howMany()&&(this.ee.length=this.howMany(),1===this.howMany()&&this.ou?this.ae(this.ee[0]):this.ae(this.ee),!0)},c.prototype.zr=function(t){return this.du(t),this.lu()},c.prototype.Xr=function(){return this.ee instanceof n||null==this.ee?this.Fi():(this.du(a),this.lu())},c.prototype.lu=function(){if(this.howMany()>this.cu()){for(var t=new s,n=this.length();n<this.ee.length;++n)this.ee[n]!==a&&t.push(this.ee[n]);return t.length>0?this._i(t):this.Fi(),!0}return!1},c.prototype.vu=function(){return this.se},c.prototype._u=function(){return this.ee.length-this.length()},c.prototype.du=function(t){this.ee.push(t)},c.prototype.fu=function(t){this.ee[this.se++]=t},c.prototype.cu=function(){return this.length()-this._u()},c.prototype.hu=function(t){var n="Input array must contain at least "+this.su+" items but contains only "+t+" items";return new u(n)},c.prototype.qe=function(){this._i(this.hu(0))},n.some=function(t,n){return h(t,n)},n.prototype.some=function(t){return h(this,t)},n.ii=c}},{"./errors":12,"./util":36}],32:[function(t,n,i){n.exports=function(t){function n(t){void 0!==t?(t=t.pi(),this.wi=t.wi,this.uu=t.ye()?t.hr():void 0):(this.wi=0,this.uu=void 0)}n.prototype.hr=function(){return this.uu};var i=n.prototype.value=function(){if(!this.isFulfilled())throw new l("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this.hr()},r=n.prototype.error=n.prototype.reason=function(){if(!this.isRejected())throw new l("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this.hr()},e=n.prototype.isFulfilled=function(){return 0!=(33554432&this.wi)},u=n.prototype.isRejected=function(){return 0!=(16777216&this.wi)},s=n.prototype.isPending=function(){return 0==(50397184&this.wi)},o=n.prototype.isResolved=function(){return 0!=(50331648&this.wi)};n.prototype.isCancelled=function(){return 0!=(8454144&this.wi)},t.prototype.gu=function(){return 65536==(65536&this.wi)},t.prototype.zi=function(){return this.pi().gu()},t.prototype.isCancelled=function(){return 0!=(8454144&this.pi().wi)},t.prototype.isPending=function(){return s.call(this.pi())},t.prototype.isRejected=function(){return u.call(this.pi())},t.prototype.isFulfilled=function(){return e.call(this.pi())},t.prototype.isResolved=function(){return o.call(this.pi())},t.prototype.value=function(){return i.call(this.pi())},t.prototype.reason=function(){var t=this.pi();return t.wr(),r.call(t)},t.prototype.Yr=function(){return this.hr()},t.prototype.Zr=function(){return this.wr(),this.hr()},t.PromiseInspection=n}},{}],33:[function(t,n,i){n.exports=function(n,i){var r=t("./util"),e=r.errorObj,u=r.isObject,s={}.hasOwnProperty;return function(t,o){if(u(t)){if(t instanceof n)return t;var a=function(t){try{return function(t){return t.then}(t)}catch(t){return e.e=t,e}}(t);if(a===e){o&&o.$i();var c=n.reject(a.e);return o&&o.Ki(),c}if("function"==typeof a){if(function(t){try{return s.call(t,"ve")}catch(t){return!1}}(t)){var c=new n(i);return t.gi(c.Vr,c._i,void 0,c,null),c}return function(t,u,s){var o=new n(i),a=o;s&&s.$i(),o.yr(),s&&s.Ki();var c=!0,h=r.tryCatch(u).call(t,function(t){o&&(o.yi(t),o=null)},function(t){o&&(o.jr(t,c,!0),o=null)});return c=!1,o&&h===e&&(o.jr(h.e,!0,!0),o=null),a}(t,a,o)}}return t}}},{"./util":36}],34:[function(t,n,i){n.exports=function(n,i,r){var e=t("./util"),u=n.TimeoutError;function s(t){this.handle=t}s.prototype._resultCancelled=function(){h(this.handle)};var o=function(t){return a(+this).thenReturn(t)},a=n.delay=function(t,e){var u,a;return void 0!==e?(u=n.resolve(e).gi(o,null,null,t,void 0),r.cancellation()&&e instanceof n&&u.bi(e)):(u=new n(i),a=c(function(){u.Vr()},+t),r.cancellation()&&u.bi(new s(a)),u.yr()),u.me(),u};function f(t){return h(this.handle),t}function v(t){throw h(this.handle),t}n.prototype.delay=function(t){return a(t,this)},n.prototype.timeout=function(t,n){var i,o,a=new s(c(function(){i.isPending()&&function(t,n,i){var r;r="string"!=typeof n?n instanceof d?n:new u("operation timed out"):new u(n),e.markAsOriginatingFromRejection(r),t.ji(r),t._i(r),null!=i&&i.cancel()}(i,n,o)},t=+t));return r.cancellation()?(o=this.then(),(i=o.gi(f,v,void 0,a,void 0)).bi(a)):i=this.gi(f,v,void 0,a,void 0),i}}},{"./util":36}],35:[function(t,n,i){n.exports=function(n,i,r,e,u,s){var o=t("./util"),a=t("./errors").TypeError,h=t("./util").inherits,f=o.errorObj,v=o.tryCatch,d={};function l(t){c(function(){throw t},0)}function _(t,i){var e=0,s=t.length,o=new n(u);return function u(){if(e>=s)return o.Vr();var a=function(t){var n=r(t);return n!==t&&"function"==typeof t.wu&&"function"==typeof t.yu&&t.wu()&&n.mu(t.yu()),n}(t[e++]);if(a instanceof n&&a.wu()){try{a=r(a.yu().tryDispose(i),t.promise)}catch(t){return l(t)}if(a instanceof n)return a.gi(u,l,null,null,null)}u()}(),o}function g(t,n,i){this.ku=t,this.Cr=n,this.pu=i}function w(t,n,i){this.constructor$(t,n,i)}function y(t){return g.isDisposer(t)?(this.resources[this.index].mu(t),t.promise()):t}function m(t){this.length=t,this.promise=null,this[t-1]=null}g.prototype.data=function(){return this.ku},g.prototype.promise=function(){return this.Cr},g.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():d},g.prototype.tryDispose=function(t){var n=this.resource(),i=this.pu;void 0!==i&&i.$i();var r=n!==d?this.doDispose(n,t):null;return void 0!==i&&i.Ki(),this.Cr.Au(),this.ku=null,r},g.isDisposer=function(t){return null!=t&&"function"==typeof t.resource&&"function"==typeof t.tryDispose},h(w,g),w.prototype.doDispose=function(t,n){var i=this.data();return i.call(t,t,n)},m.prototype._resultCancelled=function(){for(var t=this.length,i=0;i<t;++i){var r=this[i];r instanceof n&&r.cancel()}},n.using=function(){var t=arguments.length;if(t<2)return i("you must pass at least 2 arguments to Promise.using");var e,u=arguments[t-1];if("function"!=typeof u)return i("expecting a function but got "+o.classString(u));var a=!0;2===t&&Array.isArray(arguments[0])?(e=arguments[0],t=e.length,a=!1):(e=arguments,t--);for(var c=new m(t),h=0;h<t;++h){var d=e[h];if(g.isDisposer(d)){var l=d;(d=d.promise()).mu(l)}else{var w=r(d);w instanceof n&&(d=w.gi(y,null,null,{resources:c,index:h},void 0))}c[h]=d}for(var k=new Array(c.length),h=0;h<k.length;++h)k[h]=n.resolve(c[h]).reflect();var p=n.all(k).then(function(t){for(var n=0;n<t.length;++n){var i=t[n];if(i.isRejected())return f.e=i.error(),f;if(!i.isFulfilled())return void p.cancel();t[n]=i.value()}A.$i(),u=v(u);var r=a?u.apply(void 0,t):u(t),e=A.Ki();return s.checkForgottenReturns(r,e,"Promise.using",A),r}),A=p.lastly(function(){var t=new n.PromiseInspection(p);return _(c,t)});return c.promise=A,A.bi(c),A},n.prototype.mu=function(t){this.wi=131072|this.wi,this.bu=t},n.prototype.wu=function(){return(131072&this.wi)>0},n.prototype.yu=function(){return this.bu},n.prototype.Au=function(){this.wi=-131073&this.wi,this.bu=void 0},n.prototype.disposer=function(t){if("function"==typeof t)return new w(t,this,e());throw new a}}},{"./errors":12,"./util":36}],36:[function(n,i,r){var e,s=n("./es5"),o=void 0===a,c={e:{}},h=void 0!==t?t:void 0!==u?u:void 0!==cn?cn:void 0!==this?this:null;function f(){try{var t=e;return e=null,t.apply(this,arguments)}catch(t){return c.e=t,c}}function v(t){return null==t||!0===t||!1===t||"string"==typeof t||"number"==typeof t}function l(t,n,i){if(v(t))return t;var r={value:i,configurable:!0,enumerable:!1,writable:!0};return s.defineProperty(t,n,r),t}var g=function(){var t=[Array.prototype,_.prototype,Function.prototype],n=function(n){for(var i=0;i<t.length;++i)if(t[i]===n)return!0;return!1};if(s.isES5){var i=_.getOwnPropertyNames;return function(t){for(var r=[],e=_.create(null);null!=t&&!n(t);){var u;try{u=i(t)}catch(t){return r}for(var o=0;o<u.length;++o){var a=u[o];if(!e[a]){e[a]=!0;var c=_.getOwnPropertyDescriptor(t,a);null!=c&&null==c.get&&null==c.set&&r.push(a)}}t=s.getPrototypeOf(t)}return r}}var r={}.hasOwnProperty;return function(i){if(n(i))return[];var e=[];t:for(var u in i)if(r.call(i,u))e.push(u);else{for(var s=0;s<t.length;++s)if(r.call(t[s],u))continue t;e.push(u)}return e}}(),w=/this\s*\.\s*\S+\s*=/,y=/^[a-z$_][a-z$_0-9]*$/i;function m(t){try{return t+""}catch(t){return"[no string representation]"}}function k(t){return t instanceof d||null!==t&&"object"==typeof t&&"string"==typeof t.message&&"string"==typeof t.name}function p(t){return k(t)&&s.propertyIsWritable(t,"stack")}var A="stack"in new d?function(t){return p(t)?t:new d(m(t))}:function(t){if(p(t))return t;try{throw new d(m(t))}catch(t){return t}};function b(t){return{}.toString.call(t)}var T=function(t){return s.isArray(t)?t:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var E="function"==typeof Array.from?function(t){return Array.from(t)}:function(t){for(var n,i=[],r=t[Symbol.iterator]();!(n=r.next()).done;)i.push(n.value);return i};T=function(t){return s.isArray(t)?t:null!=t&&"function"==typeof t[Symbol.iterator]?E(t):null}}var S,R="undefined"!=typeof process&&"[object process]"===b(process).toLowerCase(),I="undefined"!=typeof process&&void 0!==process.env,N={isClass:function(t){try{if("function"==typeof t){var n=s.names(t.prototype),i=s.isES5&&n.length>1,r=n.length>0&&!(1===n.length&&"constructor"===n[0]),e=w.test(t+"")&&s.names(t).length>0;if(i||r||e)return!0}return!1}catch(t){return!1}},isIdentifier:function(t){return y.test(t)},inheritedDataKeys:g,getDataPropertyOrDefault:function(t,n,i){if(!s.isES5)return{}.hasOwnProperty.call(t,n)?t[n]:void 0;var r=_.getOwnPropertyDescriptor(t,n);return null!=r?null==r.get&&null==r.set?r.value:i:void 0},thrower:function(t){throw t},isArray:s.isArray,asArray:T,notEnumerableProp:l,isPrimitive:v,isObject:function(t){return"function"==typeof t||"object"==typeof t&&null!==t},isError:k,canEvaluate:o,errorObj:c,tryCatch:function(t){return e=t,f},inherits:function(t,n){var i={}.hasOwnProperty;function r(){for(var r in this.constructor=t,this.constructor$=n,n.prototype)i.call(n.prototype,r)&&"$"!==r.charAt(r.length-1)&&(this[r+"$"]=n.prototype[r])}return r.prototype=n.prototype,t.prototype=new r,t.prototype},withAppended:function(t,n){var i,r=t.length,e=new Array(r+1);for(i=0;i<r;++i)e[i]=t[i];return e[i]=n,e},maybeWrapAsError:function(t){return v(t)?new d(m(t)):t},toFastProperties:function(t){return t},filledRange:function(t,n,i){for(var r=new Array(t),e=0;e<t;++e)r[e]=n+e+i;return r},toString:m,canAttachTrace:p,ensureErrorObject:A,originatesFromRejection:function(t){return null!=t&&(t instanceof d.Ir.OperationalError||!0===t.isOperational)},markAsOriginatingFromRejection:function(t){try{l(t,"isOperational",!0)}catch(t){}},classString:b,copyDescriptors:function(t,n,i){for(var r=s.names(t),e=0;e<r.length;++e){var u=r[e];if(i(u))try{s.defineProperty(n,u,s.getDescriptor(t,u))}catch(t){}}},hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:R,hasEnvVariables:I,env:function(t){return I?process.env[t]:void 0},global:h,getNativePromise:function(){if("function"==typeof Promise)try{var t=new Promise(function(){});if("[object Promise]"==={}.toString.call(t))return Promise}catch(t){}},domainBind:function(t,n){return t.bind(n)}};N.isRecentNode=N.isNode&&(process.versions&&process.versions.node?S=process.versions.node.split(".").map(Number):process.version&&(S=process.version.split(".").map(Number)),0===S[0]&&S[1]>10||S[0]>0),N.isNode&&N.toFastProperties(process);try{throw new d}catch(t){N.lastLineError=t}i.exports=N},{"./es5":13}]},{},[4])(4),null!=u?u.P=u.Promise:null!=t&&(t.P=t.Promise)});function dn(){return(dn=_.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var r in i)_.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}).apply(this,arguments)}function ln(){var t=_.create(null);return t.Tu=void 0,delete t.Tu,t}function _n(){return new mn}function gn(t){var n=_n();for(var i in t)B.call(t,i)&&n.set(i,t[i]);return n}var wn,yn="undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0,mn=yn||(wn=function(){function t(t,n){this.index=0,this.data=t,this.selector=n,this.keys=_.keys(t)}var n=t.prototype;return n.next=function(){var t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}},t}(),function(){function t(){this.data=ln(),this.size=0}var n=t.prototype;return n.get=function(t){return this.data[t]},n.set=function(t,n){return this.has(t)||this.size++,this.data[t]=n,this},n.has=function(t){return t in this.data},n.delete=function(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)},n.clear=function(){this.data=ln(),this.size=0},n.keys=function(){return new wn(this.data,function(t,n){return n})},n.values=function(){return new wn(this.data,function(t,n){return t[n]})},n.entries=function(){return new wn(this.data,function(t,n){return[n,t[n]]})},n.forEach=function(t){for(var n in this.data)t(this.data[n],n)},t}());var kn,pn,An,bn,Tn,En,Sn,Rn=yn||(kn=function(){function t(t,n){this.Eu=t,this.Su=n}var n=t.prototype;return n.next=function(){var t=this.Eu.next();return t.done?t:{value:this.Su(t.value),done:!1}},t}(),function(){function t(){this.Ru=_n()}var n=t.prototype;return n.get=function(t){return this.Ru.get(""+t)},n.set=function(t,n){return this.Ru.set(""+t,n),this},n.has=function(t){return this.Ru.has(""+t)},n.delete=function(t){return this.Ru.delete(""+t)},n.clear=function(){this.Ru.clear()},n.keys=function(){return new kn(this.Ru.keys(),function(t){return Number(t)})},n.values=function(){return this.Ru.values()},n.entries=function(){return new kn(this.Ru.entries(),function(t){var n=t[0],i=t[1];return[Number(n),i]})},n.forEach=function(t){this.Ru.forEach(function(n,i){t(n,Number(i))})},T(t,[{key:"size",get:function(){return this.Ru.size}}]),t}());var In,Nn="urn:mpeg:dash:mp4protection:2011",Dn="cenc",Cn="sinf",On="skd",xn="urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95",Pn="com.microsoft.playready",Bn="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",Ln="urn:uuid:"+Bn,Mn="94ce86fb-07ff-4f43-adb8-93d2fa968ca2",Un="urn:uuid:"+Mn,Fn="com.apple.fps.1_0";!function(t){t.Iu="playready",t.Nu="widevine",t.Du="fairplay",t.Cu="clearkey",t.Ou="aes128"}(In||(In={}));var Hn={xu:In.Iu,Pu:Pn,Bu:"cenc",Lu:"9a04f079-9840-4286-ab92-e65be0885f95",Mu:xn,Uu:"PlayReady"},Vn={xu:In.Nu,Pu:"com.widevine.alpha",Bu:"cenc",Lu:Bn,Mu:Ln,Uu:"Widevine"},Xn={xu:In.Du,Pu:Fn,Bu:"skd",Lu:Mn,Mu:Un,Uu:"FairPlay"},Wn=(In.Du,{xu:In.Cu,Pu:"org.w3.clearkey",Bu:"cenc",Lu:"1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",Mu:"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",Uu:"ClearKey"}),qn=[Hn,Vn,Xn,Wn];function zn(t){return qn.filter(function(n){return n.Mu===t.toLowerCase()})}function Gn(t,n,i){return t.split(n).join(i)}function jn(t,n){return null!=t&&-1!==t.indexOf(n)}function Qn(t,n){return null!=t&&t.substr(0,n.length)===n}function Yn(t,n){return null!=t&&t.substr(t.length-n.length,n.length)===n}function Zn(t,n){return t.toUpperCase()===n.toUpperCase()}function Jn(t,n){var i=0|n;if(0===t.length||0===i)return"";for(var r=t,e="";1==(1&i)&&(e+=r),0!=(i>>>=1);)r+=r;return e}function $n(t,n,i){void 0===i&&(i=" ");var r=i,e=(0|n)-t.length;return e<=0?t:(e>r.length&&(r+=Jn(r,e/r.length)),r.slice(0,e)+t)}function Kn(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return ni(n)}var ti=16384;function ni(t){var n=t.length;if(n<=ti)return String.fromCharCode.apply(String,t);for(var i=[],r=0;r<n;r+=ti)i.push(String.fromCharCode.apply(String,t.slice(r,r+ti)));return i.join("")}var ii=P.Gt&&P.jt>=42||P.nn&&P.in>=38||P.Jt||P.Kt||P.sn&&P.an>=29;function ri(t,n){return jn(t,"audio")?{initDataTypes:["cenc"],audioCapabilities:[dn({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[dn({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}}function ei(){return void 0!==a&&"function"==typeof a.requestMediaKeySystemAccess}function ui(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest}var si=function(){function t(t){this.Fu=_n(),this.Hu=void 0,this.Vu=t}var n=t.prototype;return n.Xu=function(){return this.Wu(Vn)},n.qu=function(){return this.Wu(Wn)},n.zu=function(){return this.Wu(Hn)},n.Gu=function(){return this.Wu(Xn)},n.Wu=function(t){var n=t.Mu,i=this.Fu.get(n);if(i)return i;var r=this.ju(t,'video/mp4; codecs="avc1.42000a"');return this.Fu.set(n,r),r},n.ju=function(){var t=vn.coroutine(fn.mark(function t(n,i){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.Vu.Qu(n.Pu,[ri(i,!0)]);case 3:return t.abrupt("return",!0);case 6:return t.prev=6,t.t0=t.catch(0),t.prev=8,t.next=11,this.Vu.Qu(n.Pu,[ri(i,!1)]);case 11:return t.abrupt("return",!0);case 14:return t.prev=14,t.t1=t.catch(8),t.abrupt("return",!1);case 17:case"end":return t.stop()}},t,this,[[0,6],[8,14]])}));return function(n,i){return t.apply(this,arguments)}}(),n.Yu=function(){return this.Hu||(this.Hu=this.Zu()),this.Hu},n.Zu=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("https:"!==En.protocol){t.next=2;break}return t.abrupt("return",!1);case 2:if(ii){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,this.qu();case 6:if(!t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:return t.abrupt("return",!0);case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),t}();function oi(t,n){var i=ai(t,n);return i!==t&&ci(i,void 0,t.length,t),t}function ai(t,n){var i=t,r=i.length;if(r<=1)return i;for(var e=new Array(r),u=1;u<r;u*=2){ci(i,n,u,e);var s=i;i=e,e=s}return i}function ci(t,n,i,r){var e,u,s,o,a,c=t.length,h=0,f=2*i;for(u=0;u<c;u+=f)for(e=(s=u+i)+i,s>c&&(s=c),e>c&&(e=c),o=u,a=s;;)if(o<s&&a<e)n&&n(t[o],t[a])<=0?r[h++]=t[o++]:r[h++]=t[a++];else if(o<s)r[h++]=t[o++];else{if(!(a<e))break;r[h++]=t[a++]}}function hi(t,n,i){var r=fi(t,n,i);return-1===r?void 0:t[r]}function fi(t,n,i){for(var r=0;r<t.length;r+=1){var e=t[r];if(n.call(i,e,r,t))return r}return-1}function vi(t,n){var i=t.indexOf(n);return-1!==i&&(di(t,i),!0)}function di(t,n){t.splice(n,1)}function li(t,n){return-1!==t.indexOf(n)}function _i(t,n){for(var i=0;i<n.length;i++){if(!li(t,n[i]))return!1}return!0}function gi(t){t.length=0}function wi(t){var n;return(n=[]).concat.apply(n,t)}function yi(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];i.push.apply(i,n(e))}return i}var mi=function(){function t(){this.Ju=!1,this.$u=!1,this.Ku=[],this.ts=[]}var n=t.prototype;return n.rs=function(){if(!this.Ju&&!this.$u){this.Ju=!0;for(var t=0,n=this.Ku.slice();t<n.length;t++){(0,n[t])()}this.es()}},n.es=function(){if(!this.$u){this.$u=!0;for(var t=0,n=this.ts.slice();t<n.length;t++){(0,n[t])()}gi(this.Ku),gi(this.ts)}},n.us=function(t){this.$u||this.Ku.push(t)},n.ss=function(t){this.$u||vi(this.Ku,t)},n.os=function(t){this.$u||this.ts.push(t)},n.as=function(t){this.$u||vi(this.ts,t)},t}(),ki=function(){function t(){this.cs=new mi}var n=t.prototype;return n.hs=function(){this.cs.rs()},n.es=function(){this.cs.es()},n.fs=function(t){var n=this.cs;if(!n.Ju)if(t.Ju)n.rs();else if(!n.$u&&!t.$u){var i=function(){r(),n.rs()},r=function r(){t.ss(i),t.as(r),n.ss(i),n.as(r)};t.us(i),t.os(r),n.us(i),n.os(r)}},n.vs=function(){var n=new t,i=new t,r=n.ds,e=i.ds,u=this.cs,s=function(){r.Ju&&e.$u||e.Ju&&r.$u?u.rs():r.$u&&e.$u&&u.es()};r.us(s),e.us(s),r.os(s),e.os(s),n.fs(u),i.fs(u);return u.os(function(){r.ss(s),e.ss(s),r.as(s),e.as(s)}),[n,i]},T(t,[{key:"ds",get:function(){return this.cs}}]),t}(),pi=function(t){function n(n,i){return t.call(this,n||"Aborted",i)||this}return qt(n,t),T(n,[{key:"name",get:function(){return"AbortError"}}]),n}(Yt);function Ai(t){return t instanceof d&&"AbortError"===t.name}function bi(t){if(t&&t.Ju)throw new pi}function Ti(t){if(Ai(t))throw t}function Ei(t){if(!Ai(t))throw t}function Si(t,n){return n?new vn(function(i,r){if(n.Ju)return t.catch(j),r(new pi);var e=function t(){n.ss(t),r(new pi)};n.us(e),t.then(function(t){n.ss(e),i(t)},function(t){n.ss(e),r(t)})}):t}function Ri(t,n){return t.then(function(t){return n.es(),t},function(t){throw n.es(),t})}function Ii(t,n){var i=new ki;return n&&i.fs(n),t(i.ds).then(function(t){return i.hs(),t},function(t){throw i.hs(),t})}var Ni=vn.resolve();function Di(t){Ni.then(t)}function Ci(t){t.then(j,j)}function Oi(t){return xi.apply(this,arguments)}function xi(){return(xi=vn.coroutine(fn.mark(function t(n){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,vn.all(n);case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),t.next=10,vn.all(n.map(function(t){return t.catch(j)}));case 10:throw t.t0;case 11:case"end":return t.stop()}},t,null,[[0,6]])}))).apply(this,arguments)}function Pi(t,n){return new vn(function(i,e){if(void 0!==n&&n.Ju)e(new pi);else{var u=r.wn(function(){void 0!==n&&n.ss(s),i()},t),s=function(){r.gn(u),e(new pi)};void 0!==n&&n.us(s)}})}function Bi(t,n){var i=new ki;return vn.race([t,Pi(n,i.ds).then(function(){throw new d("Timeout")})]).then(function(t){return i.hs(),t},function(t){throw i.hs(),t})}function Li(t){return t&&"function"!=typeof t?t.slice():t}function Mi(t,n,i){if(i)if("function"==typeof i)i.call(t,n);else for(var r=0;r<i.length;r++){i[r].call(t,n)}}var Ui,Fi=function(){function t(t){var n=this;this.ls=ln(),this._s=void 0,this.gs=function(t){n.ys(t)},this.ks=t||this}var n=t.prototype;return n.ps=function(t,n){if("function"==typeof n)if("string"==typeof t)this.As(t,n);else for(var i=0;i<t.length;i++){var r=t[i];this.As(r,n)}},n.As=function(t,n){var i=this.ls[t];i?"function"==typeof i?this.ls[t]=[i,n]:i.push(n):this.ls[t]=n},n.bs=function(t){if("function"==typeof t){var n=this._s;n?"function"==typeof n?this._s=[n,t]:n.push(t):this._s=t}},n.Ts=function(){this.ls=ln(),this._s=void 0},n.ys=function(t){var n=Li(this.ls[t.type]),i=Li(this._s);Mi(this.ks,t,n),Mi(this.ks,t,i)},n.Es=function(t,n){if("function"==typeof n)if("string"==typeof t)this.Ss(t,n);else for(var i=0;i<t.length;i++){var r=t[i];this.Ss(r,n)}},n.Ss=function(t,n){var i=this.ls[t];i&&("function"==typeof i?i===n&&(this.ls[t]=void 0):vi(i,n))},n.Rs=function(t){if("string"==typeof t)this.ls[t]=void 0;else for(var n=0;n<t.length;n++){var i=t[n];this.ls[i]=void 0}},n.Is=function(t){var n=this._s;n&&("function"==typeof n?n===t&&(this._s=void 0):vi(n,t))},n.Ns=function(t,n){var i=this;return new vn(function(r,e){if(n&&n.Ju)return e(new pi);var u=function(t){o(),r(t)},s=function(){o(),e(new pi)},o=function(){i.Es(t,u),n&&n.ss(s)};i.ps(t,u),n&&n.us(s)})},t}(),Hi=function(t){function n(){return t.apply(this,arguments)||this}return qt(n,t),n.prototype.ys=function(n){var i=this;Di(function(){t.prototype.ys.call(i,n)})},n}(Fi),Vi=function(t,n){void 0===n&&(n=new Date),this.type=t,this.date=n},Xi=function(t){function n(n){var i;return(i=t.call(this,"Cs")||this).Ds=n,i}return qt(n,t),n}(Vi),Wi=function(t){function n(n,i,r,e){var u;return(u=t.call(this,"Os")||this).Ds=n,u.xs=i,u.Os=r,u.Ps=e,u}return qt(n,t),n}(Vi),qi=function(t){function n(){return t.call(this,"Bs")||this}return qt(n,t),n}(Vi);!function(t){t.Ls="Ms",t.Us="Fs"}(Ui||(Ui={}));var zi=function(t){function n(n,i){var r;return(r=t.call(this,Ui.Ls)||this).Bu=n,r.Hs=i,r}return qt(n,t),n}(Vi),Gi=function(t){function n(){return t.call(this,Ui.Us)||this}return qt(n,t),n}(Vi),ji=new k([0]).buffer,Qi=function(){function t(){this.Vs=[]}var n=t.prototype;return n.Xs=function(t){for(var n=0,i=this.Vs;n<i.length;n++){if(i[n][0]===t)return!0}return!1},n.Ws=function(t){for(var n=0,i=this.Vs;n<i.length;n++){var r=i[n];if(r[0]===t)return r[1]}},n.qs=function(t,n){this.Vs.forEach(function(n){return t(n[1],n[0])},n)},n.zs=function(t,n){this.Vs.push([t,n])},n.Gs=function(){gi(this.Vs)},T(t,[{key:"js",get:function(){return this.Vs.length}}]),t}(),Yi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),Zi=16383,Ji=/[\t\n\f\r ]/g;function $i(t){return 43===t?62:47===t?63:t>=48&&t<=57?t-48+52:t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:Ki()}function Ki(){throw new d("Invalid base64 input")}function tr(t){var n=t;Ji.test(n)&&(n=n.replace(Ji,""));var i=n.length;i%4==0&&i>=1&&"="===n[i-1]&&(i>=2&&"="===n[i-2]?i-=2:i-=1,n=n.substr(0,i));var r=i%4;if(1===r)return Ki();for(var e,u=0===r?0:4-r,s=new k(function(t,n){return 3*(t+n)/4-n}(i,u)),o=u>0?i-4:i,a=0,c=0;a<o;a+=4)e=$i(n.charCodeAt(a))<<18|$i(n.charCodeAt(a+1))<<12|$i(n.charCodeAt(a+2))<<6|$i(n.charCodeAt(a+3)),s[c++]=e>>16&255,s[c++]=e>>8&255,s[c++]=255&e;return 2===u?(e=$i(n.charCodeAt(a))<<2|$i(n.charCodeAt(a+1))>>4,s[c++]=255&e):1===u&&(e=$i(n.charCodeAt(a))<<10|$i(n.charCodeAt(a+1))<<4|$i(n.charCodeAt(a+2))>>2,s[c++]=e>>8&255,s[c++]=255&e),s}function nr(t,n,i){for(var r,e,u,s=[],o=n;o<i;o+=3)s.push((r=t[o],e=t[o+1],u=t[o+2],Yi[r>>2]+Yi[(3&r)<<4|e>>4]+Yi[(15&e)<<2|u>>6]+Yi[63&u]));return s.join("")}function ir(t){for(var n=t.length,i=n%3,r=[],e=n-i,u=0;u<e;u+=Zi)r.push(nr(t,u,g.min(e,u+Zi)));if(1===i){var s=t[n-1];r.push(Yi[s>>2]+Yi[(3&s)<<4]+"==")}else if(2===i){var o=t[n-2],a=t[n-1];r.push(Yi[o>>2]+Yi[(3&o)<<4|a>>4]+Yi[(15&a)<<2]+"=")}return r.join("")}var rr=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],er=ArrayBuffer.isView||function(t){return t&&li(rr,L.call(t))};function ur(t,n){return t===n||t.byteLength===n.byteLength&&function(t,n){if(t===n)return!0;if(t.byteLength!==n.byteLength)return!1;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}(new k(t),new k(n))}function sr(t){var n=t.reduce(function(t,n){return t+n.byteLength},0);return function(t,n){for(var i=new k(n),r=0,e=0;e<t.length;e++){var u=t[e];i.set(u,r),r+=u.byteLength}return i}(t,n)}function or(t){return tr(t).buffer}function ar(t){return ir(new k(t))}function cr(t){return ir(qr(t))}var hr=function(){function t(t){void 0===t&&(t=0),this.Qs=t}var n=t.prototype;return n.Ys=function(t){this.Qs+=t},n.Zs=function(t){this.Qs=t},n.Js=function(){return new t(this.$s)},T(t,[{key:"$s",get:function(){return this.Qs}}]),t}();function fr(t){if(t>=55296&&t<=57343)throw new d("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function vr(t,n){return t>>n&63|128}function dr(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(fr(t),n.push(t>>12&15|224),n.push(vr(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(vr(t,12)),n.push(vr(t,6))),n.push(63&t|128)):n.push(t)}function lr(t,n){if(n.$s>=t.length)throw new d("Invalid byte index");var i=255&t[n.$s];if(n.Ys(1),128==(192&i))return 63&i;throw new d("Invalid continuation byte")}function _r(t,n){var i=n.$s;if(i>t.length)throw new d("Invalid byte index");if(i===t.length)return!1;var r=255&t[i];if(n.Ys(1),0==(128&r))return r;if(192==(224&r)){var e=(31&r)<<6|lr(t,n);if(e>=128)return e;throw new d("Invalid continuation byte")}if(224==(240&r)){var u=(15&r)<<12|lr(t,n)<<6|lr(t,n);if(u>=2048)return fr(u),u;throw new d("Invalid continuation byte")}if(240==(248&r)){var s=(7&r)<<18|lr(t,n)<<12|lr(t,n)<<6|lr(t,n);if(s>=65536&&s<=1114111)return s}throw new d("Invalid UTF-8 detected")}var gr=65279;var wr=[128,64,32,16,8,4,2,1],yr=function(){function t(t){this.Ks=t}return t.prototype.to=function(t){return mr(this.Ks,t)},t}();function mr(t,n){return(t&n)===n}function kr(t,n){return mr(t,wr[n])}function pr(t,n){var i=t.getUint8(n.$s);return n.Ys(1),i}function Ar(t,n,i){t.setUint8(n.$s,i),n.Ys(1)}function br(t,n,i){var r=Zr(Kr(t),n.$s,n.$s+i);return n.Ys(r.byteLength),r}function Tr(t,n,i){Kr(t).set(Kr(i),n.$s),n.Ys(i.byteLength)}function Er(t,n,i){return n.$s+i<=t.byteLength}function Sr(t,n,i,r){return void 0===r&&(r=!1),r?function(t,n,i){for(var r=0,e=1,u=0;u<i;u++)r+=pr(t,n)*e,e*=256;return r}(t,n,i):function(t,n,i){for(var r=0,e=0;e<i;e++)r=256*r+pr(t,n);return r}(t,n,i)}function Rr(t,n,i){void 0===i&&(i=!1);var r=t.getUint16(n.$s,i);return n.Ys(2),r}function Ir(t,n,i,r){void 0===r&&(r=!1),t.setUint16(n.$s,i,r),n.Ys(2)}function Nr(t,n,i){void 0===i&&(i=!1);var r=t.getUint32(n.$s,i);return n.Ys(4),r}function Dr(t,n,i,r){void 0===r&&(r=!1),t.setUint32(n.$s,i,r),n.Ys(4)}function Cr(t,n,i){void 0===i&&(i=!1);var r=Nr(t,n,i),e=Nr(t,n,i),u=i?e:r,s=i?r:e;return Ct.fromBits(s,u,!0)}function Or(t,n){var i=pr(t,n);if(i)return String.fromCharCode(i)}function xr(t,n){return Lr(t,n)}function Pr(t,n,i){for(var r="",e=0;e<i;e++)r+=Or(t,n);return r}function Br(t,n){var i,r=pr(t,n);return 0==(128&r)?i=r:192==(224&r)?i=64*(31&r)+(63&pr(t,n)):224==(240&r)?i=4096*(15&r)+64*(63&pr(t,n))+(63&pr(t,n)):240==(248&r)&&(i=262144*(7&r)+4096*(63&pr(t,n))+64*(63&pr(t,n))+(63&pr(t,n))),i}function Lr(t,n){return Mr(t,n,!0)}function Mr(t,n,i){for(var r=[];n.$s<t.byteLength;){var e=pr(t,n);if(i&&!e)break;r.push(e)}return ni(r)}function Ur(t,n){if(n.$s+2<=t.byteLength){var i=t.getUint8(n.$s),r=t.getUint8(n.$s+1);return(254!==i||255!==r)&&(255===i&&254===r||void 0)}}function Fr(t,n){var i=Ur(t,n);return void 0!==i&&n.Ys(2),Hr(t,n,!0===i)}function Hr(t,n,i){return void 0===i&&(i=!1),Vr(t,n,i,!0)}function Vr(t,n,i,r){for(var e=[];n.$s+2<=t.byteLength;){var u=Rr(t,n,i);if(r&&!u)break;e.push(u)}return ni(e)}function Xr(t,n,i,r){void 0===r&&(r=!1);for(var e=i.length,u=0;u<e;u+=1){Ir(t,n,i.charCodeAt(u),r)}}function Wr(t){return Mr($r(t),new ee,!1)}function qr(t){var n=new k(t.length);return function(t,n,i){for(var r=i.length,e=0;e<r;e+=1)Ar(t,n,i.charCodeAt(e))}($r(n),new ee,t),n}function zr(t,n){return void 0===n&&(n=!1),Vr($r(t),new ee,n,!1)}function Gr(t,n){void 0===n&&(n=!1);var i=new k(2*t.length);return Xr($r(i),new ee,t,n),i}function jr(t,n){return function(t,n,i){var r=[];(function(t,n){return n.$s+3<=t.byteLength&&239===t.getUint8(n.$s)&&187===t.getUint8(n.$s+1)&&191===t.getUint8(n.$s+2)})(t,n)&&n.Ys(3);for(;n.$s<t.byteLength;){var e=Br(t,n);if(void 0===e)break;if(i&&0===e)break;r.push(e)}return Kn(r)}(t,n,!0)}function Qr(t){return Kn(function(t,n){var i,r=[],e=new ee;if(!n){if(!1===(i=_r(t,e)))return r;i===gr||r.push(i)}for(;!1!==(i=_r(t,e));)r.push(i);return r}(Kr(t)))}function Yr(t){return new k(function(t){for(var n=[],i=0;i<t.length;i++)dr(t[i],n);return n}(function(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&e)<<10)+(1023&u)+65536):(n.push(e),i--)}else n.push(e)}return n}(t)))}function Zr(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new k(t.buffer,t.byteOffset+n,i-n)}function Jr(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new DataView(t.buffer,t.byteOffset+n,i-n)}function $r(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Kr(t){return new k(t.buffer,t.byteOffset,t.byteLength)}function te(t){return t instanceof ArrayBuffer||er(t)}function ne(t){return t instanceof ArrayBuffer?new k(t):Kr(t)}function ie(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),t.slice?t.slice(n,i):re(Zr(t,n,i))}function re(t){if(t.slice)return t.slice(0);var n=new k(t.byteLength);return n.set(t,0),n}var ee=function(){function t(t){void 0===t&&(t=0),this.Qs=t}var n=t.prototype;return n.Ys=function(t){this.Qs+=t},n.Zs=function(t){this.Qs=t},n.Js=function(){return new t(this.$s)},n.io=function(){return new hr(this.$s<<3)},T(t,[{key:"$s",get:function(){return this.Qs}}]),t}();function ue(t){var n=t,i=0,r=0;Qn(n,"0x")&&(n=n.substring(2));var e=new k(g.ceil(n.length/2));for(1==(1&n.length)&&(i=1,e[r++]=w(n[0],16));i<n.length;i+=2)e[r++]=w(n.substr(i,2),16);return e}var se=function(){function t(){var t=this;this.ro=new vn(function(n,i){t.ae=n,t._i=i})}var n=t.prototype;return n.eo=function(t){this.ae&&(this.ae(t),this.es())},n.uo=function(t){this._i&&(this._i(t),this.es())},n.hs=function(){this.ro.catch(j),this.uo(new pi)},n.es=function(){this.ae=void 0,this._i=void 0},t}();function oe(){return new k([8,4]).buffer}function ae(t){return ur(t,oe())}function ce(t,n){return t===Pn?function(t){if(t.byteLength<2*he.length)return t;if(zr(new DataView(t,0,2*he.length),!0)===he)return t;return n=t,Gr('<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">'+ar(n)+'</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>',!0).buffer;var n}(n):n}var he="<PlayReady";var fe=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,e)||this).so=i,u.oo=r,u}return qt(n,t),n}(Yt),ve=function(t){function n(n,i){var r;(r=t.call(this)||this).ao=n,r.co=i,r.ho=!1,r.fo=function(){r.vo()},r.do=function(t){r.ys(new Wi(jt(r),t.messageType,ce(r.co,t.message)))},r.lo=function(){r.ho=!0,r._o.js>0&&(r._o.Gs(),r.ys(new Xi(jt(r)))),r.ao.removeEventListener("keystatuseschange",r.fo),r.ao.removeEventListener("message",r.do)},r.ao.addEventListener("keystatuseschange",r.fo),r.ao.addEventListener("message",r.do),r._o=new Qi;var e=[];return r.ao.closed&&e.push(vn.resolve(r.ao.closed)),r.wo=new se,e.push(r.wo.ro),r.yo=vn.race(e).then(r.lo),r.vo(),r}qt(n,t);var i=n.prototype;return i.mo=function(){if(this.ho)return this.yo;var t=[];return t.push(vn.resolve(this.ao.close())),t.push(Pi(1e3)),this.wo.eo(vn.race(t).catch(de)),this.ho=!0,this.yo},i.ko=function(t,n,i){return vn.resolve(this.ao.generateRequest(t,n)).catch(de)},i.po=function(t){return vn.resolve(this.ao.load(t)).catch(de)},i.Ao=function(){return vn.resolve(this.ao.remove()).catch(de)},i.bo=function(t){return vn.resolve(this.ao.update(t)).catch(de)},i.vo=function(){var t=this;this._o.Gs(),this.ao.keyStatuses.forEach(function(n,i){t.To(i,n)}),this.ys(new Xi(this))},i.To=function(t,n){if("string"==typeof t){var i=t;t=n,n=i}var r=ne(t);if(this.co===Pn&&16===r.byteLength){var e=$r(r),u=e.getUint32(0,!0),s=e.getUint16(4,!0),o=e.getUint16(6,!0);e.setUint32(0,u,!1),e.setUint16(4,s,!1),e.setUint16(6,o,!1)}this.co===Pn&&"status-pending"===n&&(n="usable"),this._o.zs(r,n)},T(n,[{key:"Eo",get:function(){return this.yo}},{key:"So",get:function(){return this.ao.expiration}},{key:"Ro",get:function(){return this._o}},{key:"Io",get:function(){return this.ao.sessionId}}]),n}(Fi);function de(t){var n;if(t.message){var i=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);i&&(n=0|w(i[1],16))}throw new fe(t.message,void 0,n,t)}var le=function(){function t(t,n){this.No=t,this.co=n}var n=t.prototype;return n.Do=function(){var t=vn.coroutine(fn.mark(function t(n){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new ve(this.No.createSession(n),this.co));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Co=function(t){return vn.resolve(this.No.setServerCertificate(t))},n.Oo=function(t){return vn.resolve(t.setMediaKeys(this.No))},n.xo=function(t){return vn.resolve(t.setMediaKeys(null))},t}(),_e=function(){function t(t,n){this.Po=t,this.co=n}var n=t.prototype;return n.Bo=function(){var t=vn.coroutine(fn.mark(function t(){var n;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Po.createMediaKeys();case 2:return n=t.sent,t.abrupt("return",new le(n,this.co));case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.Lo=function(){return this.Po.getConfiguration()},T(t,[{key:"Mo",get:function(){return this.Po.keySystem}}]),t}(),ge=function(){function t(){}return t.prototype.Qu=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=i.filter(function(t){return!t.Uo}),t.next=3,a.requestMediaKeySystemAccess(n,i);case 3:return r=t.sent,t.abrupt("return",new _e(r,n));case 5:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}(),t.Fo=function(){return ei()},t}(),we=function(t){function n(n,i){var r;return(r=t.call(this)||this).Ho=n,r.Vo=i,r.ho=!1,r.Xo=void 0,r.Wo=void 0,r.qo=void 0,r.lo=function(){r.ho=!0,r.zo.eo(void 0),r.qo&&(r.qo.removeEventListener("mskeyclose",r.lo),r.qo.removeEventListener("mskeymessage",r.Go),r.qo.removeEventListener("mskeyerror",r.jo),r.qo.removeEventListener("mskeyadded",r.Qo))},r.Go=function(t){r.Wo&&(r.Wo.eo(void 0),r.Wo=void 0),r.ys(new Wi(jt(r),"license-request",re(t.message).buffer,t.destinationURL||void 0))},r.jo=function(){var t=r.qo&&r.qo.error;if(t){var n=new fe("Unknown CDM error",t.code,t.systemCode);if(r.Wo)r.Wo.uo(n),r.Wo=void 0;else if(r.Xo)r.Xo.uo(n),r.Xo=void 0;else switch(n.so){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:r.Yo("output-not-allowed");break;default:r.Yo("internal-error")}}},r.Qo=function(){r.Wo&&(r.Yo("usable"),r.Wo.eo(void 0),r.Wo=void 0),r.Xo&&(r.Yo("usable"),r.Xo.eo(void 0),r.Xo=void 0)},r.zo=new se,r.Zo=new Qi,r}qt(n,t);var i=n.prototype;return i.ko=function(){var t=vn.coroutine(fn.mark(function t(n,i,r){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Jo(),this.Wo=new se,this.Do(ne(i),r),t.next=5,this.Wo.ro;case 5:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.Do=function(t,n){if(!t)throw new l("Expected initData to be defined but was "+t+".");var i,r=n&&n.playready&&n.playready.$o;return(i=n?this.Ho.createSession(this.Vo,t,r):this.Ho.createSession(this.Vo,t)).addEventListener("mskeyclose",this.lo),i.addEventListener("mskeymessage",this.Go),i.addEventListener("mskeyerror",this.jo),i.addEventListener("mskeyadded",this.Qo),this.qo=i,this.Yo("status-pending"),i},i.po=function(){var t=vn.coroutine(fn.mark(function t(n){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Jo(),t.abrupt("return",!0);case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.bo=function(){var t=vn.coroutine(fn.mark(function t(n){var i;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Xo=new se,this.Jo(),this.qo){t.next=4;break}return t.abrupt("return",vn.resolve());case 4:if(0!==(i=ne(n)).byteLength){t.next=7;break}throw new l("Cannot call update with an empty response.");case 7:return this.qo.update(i),t.next=10,this.Xo.ro;case 10:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.mo=function(){return!this.ho&&this.qo&&(this.ho=!0,this.qo.close()),this.zo.ro},i.Ao=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Jo(),t.abrupt("return");case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Jo=function(){if(this.ho)throw new l("Already closing or closed.")},i.Yo=function(t){this.Zo.Gs(),this.Zo.zs(ji,t),this.ys(new Xi(this))},T(n,[{key:"Io",get:function(){return this.qo&&this.qo.sessionId||""}},{key:"So",get:function(){return NaN}},{key:"Eo",get:function(){return this.zo.ro}},{key:"Ro",get:function(){return this.Zo}}]),n}(Fi),ye=function(){function t(t,n){this.Ho=t,this.Vo=n}var n=t.prototype;return n.Do=function(){var t=vn.coroutine(fn.mark(function t(n){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new we(this.Ho,this.Vo));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Co=function(t){return vn.resolve(!1)},n.Oo=function(t){var n=this;return t.readyState>=1?t.msSetMediaKeys(this.Ho):t.addEventListener("loadedmetadata",function i(){t.msSetMediaKeys(n.Ho),t.removeEventListener("loadedmetadata",i)}),vn.resolve()},n.xo=function(t){return vn.resolve()},t}();function me(t,n,i){var r=!1;if(!(i.persistentState&&"optional"!==i.persistentState||i.distinctiveIdentifier&&"optional"!==i.distinctiveIdentifier)){var e={audioCapabilities:[],videoCapabilities:[],persistentState:i.persistentState||"optional",distinctiveIdentifier:i.distinctiveIdentifier||"optional",initDataTypes:i.initDataTypes,sessionTypes:["temporary"],label:i.label,Uo:i.Uo},u=!1;if(i.audioCapabilities)for(var s=0,o=i.audioCapabilities;s<o.length;s++){var a=o[s];if(a.contentType){u=!0;var c=pe(a.contentType);!a.robustness&&t(n,c)&&(e.audioCapabilities.push(a),r=!0)}}if(i.videoCapabilities)for(var h=0,f=i.videoCapabilities;h<f.length;h++){var v=f[h];if(v.contentType){u=!0;var d=pe(v.contentType);!v.robustness&&t(n,d)&&(e.videoCapabilities.push(v),r=!0)}}return u||(r=t(n,"video/mp4")),r?e:void 0}}function ke(t){if(t.videoCapabilities)for(var n=0,i=t.videoCapabilities;n<i.length;n++){var r=i[n];if(r.contentType)return r.contentType}if(t.audioCapabilities)for(var e=0,u=t.audioCapabilities;e<u.length;e++){var s=u[e];if(s.contentType)return s.contentType}}function pe(t){return t.split(";")[0]}var Ae=function(){function t(t,n){this.co=t,this.Ko=n;var i=ke(n)||"video/mp4";this.Vo=pe(i)}var n=t.prototype;return n.Lo=function(){return this.Ko},n.Bo=function(){return vn.resolve(new ye(new Tn.MSMediaKeys(this.co),this.Vo))},T(t,[{key:"Mo",get:function(){return this.co}}]),t}(),be=function(){function t(){}return t.prototype.Qu=function(t,n){try{return vn.resolve(function(t,n){if(!Te())throw new l("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=me(Ee,t,r);if(e)return new Ae(t,e)}throw new l("Unsupported key system configuration for "+t)}(t,n))}catch(t){return vn.reject(t)}},t.Fo=function(){return Te()},t}();function Te(){return void 0!==Tn.MSMediaKeys&&"function"==typeof Tn.MSMediaKeys.isTypeSupported}function Ee(t,n){return Tn.MSMediaKeys.isTypeSupported(t,n)}var Se,Re,Ie=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).ta=n,e.Vo=i,e.na=r,e.zo=new se,e.ia=void 0,e.Zo=new Qi,e.ra=void 0,e.ea=new se,e.jo=function(){var t=e.ra&&e.ra.error;if(t){var n=new fe("Unknown CDM error",t.code,t.systemCode);e.ia?(e.ia.uo(n),e.ia=void 0):n.so===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?e.Yo("output-not-allowed"):e.Yo("internal-error"),e.ys(new qi)}},e.Go=function(t){e.ia&&(e.ia.eo(void 0),e.ia=void 0),e.ys(new Wi(jt(e),"license-request",re(t.message).buffer,t.destinationURL||void 0))},e}qt(n,t);var i=n.prototype;return i.ko=function(t,n,i){var r=i&&i.fairplay&&i.fairplay.ua;if(!r)throw new l("Expected FairPlay contentId to be defined but was "+r+".");var e=Ne(ne(n),r,this.na);return this.ra=this.ta.createSession(this.Vo,e),this.ra.addEventListener("webkitkeymessage",this.Go,!1),this.ra.addEventListener("webkitkeyerror",this.jo,!1),this.Yo("usable"),this.ea.eo(this.ra),this.ea=new se,vn.resolve()},i.po=function(t){return vn.resolve(!0)},i.bo=function(){var t=vn.coroutine(fn.mark(function t(n){var i;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(i=ne(n)).byteLength){t.next=3;break}throw new l("Cannot call update with an empty response.");case 3:if(this.ia=new se,t.t0=this.ra,t.t0){t.next=9;break}return t.next=8,this.ea.ro;case 8:t.t0=t.sent;case 9:return t.t0.update(i),t.next=13,this.ia.ro;case 13:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.mo=function(){var t=this.ra;return t&&(t.removeEventListener("webkitkeymessage",this.Go,!1),t.removeEventListener("webkitkeyerror",this.jo,!1),t.close()),this.ea.hs(),this.zo.eo(void 0),this.zo.ro},i.Ao=function(){return vn.resolve(void 0)},i.Yo=function(t){this.Zo.Gs(),this.Zo.zs(ji,t),this.ys(new Xi(this))},T(n,[{key:"Io",get:function(){return this.ra?this.ra.sessionId:""}},{key:"So",get:function(){return NaN}},{key:"Eo",get:function(){return this.zo.ro}},{key:"Ro",get:function(){return this.Zo}}]),n}(Fi);function Ne(t,n,i){var r=Qr(t),e=2*r.length,u=2*n.length,s=new ArrayBuffer(4+e+4+u+4+i.byteLength),o=new DataView(s),a=new ee;return Dr(o,a,e,!0),Xr(o,a,r,!0),Dr(o,a,u,!0),Xr(o,a,n,!0),Dr(o,a,i.byteLength,!0),Tr(o,a,i),new k(s)}(Se=n.ErrorCode||(n.ErrorCode={}))[Se.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",Se[Se.LICENSE_ERROR=2e3]="LICENSE_ERROR",Se[Se.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",Se[Se.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",Se[Se.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",Se[Se.SOURCE_INVALID=3e3]="SOURCE_INVALID",Se[Se.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",Se[Se.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",Se[Se.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",Se[Se.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",Se[Se.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",Se[Se.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",Se[Se.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",Se[Se.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",Se[Se.MEDIA_ABORTED=5004]="MEDIA_ABORTED",Se[Se.NETWORK_ERROR=6e3]="NETWORK_ERROR",Se[Se.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",Se[Se.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",Se[Se.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",Se[Se.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",Se[Se.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",Se[Se.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",Se[Se.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",Se[Se.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",Se[Se.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",Se[Se.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",Se[Se.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",Se[Se.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",Se[Se.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",Se[Se.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",Se[Se.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",Se[Se.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",Se[Se.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",Se[Se.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",Se[Se.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",Se[Se.AD_ERROR=1e4]="AD_ERROR",Se[Se.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",Se[Se.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR",(Re=n.ErrorCategory||(n.ErrorCategory={}))[Re.CONFIGURATION=1]="CONFIGURATION",Re[Re.LICENSE=2]="LICENSE",Re[Re.SOURCE=3]="SOURCE",Re[Re.MANIFEST=4]="MANIFEST",Re[Re.MEDIA=5]="MEDIA",Re[Re.NETWORK=6]="NETWORK",Re[Re.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",Re[Re.SUBTITLE=8]="SUBTITLE",Re[Re.VR=9]="VR",Re[Re.AD=10]="AD",Re[Re.FULLSCREEN=11]="FULLSCREEN",function(t){t.fromCode=function(n){var i=g.floor(n/1e3);if(i in t)return i;throw new l("Invalid error code: "+n)}}(n.ErrorCategory||(n.ErrorCategory={}));var De=function(t){function i(n,i,r){var e;return(e=t.call(this,i,r)||this).code=n,e}return qt(i,t),T(i,[{key:"name",get:function(){return"THEOplayerError"}},{key:"category",get:function(){return n.ErrorCategory.fromCode(this.code)}}]),i}(Yt),Ce=function(){function t(t,n){this.ta=t,this.Vo=n,this.na=void 0}var i=t.prototype;return i.getInternalMediaKeys=function(){return this.ta},i.Do=function(){var t=vn.coroutine(fn.mark(function t(i){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.na){t.next=2;break}throw new De(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return t.abrupt("return",new Ie(this.ta,this.Vo,this.na));case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Co=function(t){return this.na=ne(t),vn.resolve(!0)},i.Oo=function(t){return t.webkitSetMediaKeys(this.ta),vn.resolve()},i.xo=function(t){return t.webkitSetMediaKeys(null),vn.resolve()},t}(),Oe=function(){function t(t,n){this.co=t,this.Ko=n;var i=ke(n)||"video/mp4";this.Vo=pe(i)}var n=t.prototype;return n.Lo=function(){return this.Ko},n.Bo=function(){return vn.resolve(new Ce(new Tn.WebKitMediaKeys(this.co),this.Vo))},T(t,[{key:"Mo",get:function(){return this.co}}]),t}(),xe=function(){function t(){}return t.prototype.Qu=function(t,n){try{return vn.resolve(function(t,n){if(t!==Fn)throw new l(t+" is not supported with webkit-prefixed Encrypted Media Extensions.");if(!Pe())throw new l("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=me(Be,t,r);if(e)return new Oe(t,e)}throw new l("Unsupported key system configuration for "+t)}(t,n))}catch(t){return vn.reject(t)}},t.Fo=function(){return Pe()},t}();function Pe(){return void 0!==Tn.WebKitMediaKeys&&"function"==typeof Tn.WebKitMediaKeys.isTypeSupported}function Be(t,n){return Tn.WebKitMediaKeys.isTypeSupported(t,n)}var Le,Me=function(){function t(t){this.sa=t}return t.prototype.Qu=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r,e,u;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.sa;case 1:if(!(r<e.length)){t.next=14;break}return u=e[r],t.prev=3,t.next=6,u.Qu(n,i);case 6:return t.abrupt("return",t.sent);case 9:t.prev=9,t.t0=t.catch(3);case 11:r++,t.next=1;break;case 14:throw new l("Unsupported key system configuration for "+n);case 15:case"end":return t.stop()}},t,this,[[3,9]])}));return function(n,i){return t.apply(this,arguments)}}(),t}(),Ue=function(t){function n(n){var i;return(i=t.call(this)||this).co=n,i.Wo=void 0,i.ia=void 0,i.oa=!1,i.aa=void 0,i.ca=void 0,i.zo=new se,i.ha="",i.fa=new se,i.va=new Qi,i}qt(n,t);var i=n.prototype;return i.da=function(){this.ia&&(this.Yo("usable"),this.ia.eo(void 0),this.ia=void 0)},i.la=function(t){var n=new fe("Unknown CDM error",t.errorCode,t.systemCode);this.ia?(this.ia.uo(n),this.ia=void 0):this.Wo?(this.Wo.uo(n),this.Wo=void 0):n.so===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.Yo("output-restricted"):1===n.oo?this.Yo("expired"):this.Yo("internal-error")},i._a=function(t){0!==t.message.byteLength&&(this.Wo&&(this.Wo.eo(void 0),this.Wo=void 0),this.ys(new Wi(this,"license-request",ce(this.co,re(t.message).buffer),t.defaultURL||void 0)))},i.ga=function(t){this.ca||(this.ca=t,this.fa.eo(t))},i.mo=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed(),this.oa=!0,this.zo.eo(void 0);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.ko=function(){var t=vn.coroutine(fn.mark(function t(n,i){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.Wo=new se,this.aa=ne(i),t.t0=this.ca,t.t0){t.next=8;break}return t.next=7,this.fa.ro;case 7:t.t0=t.sent;case 8:return t.t0.webkitGenerateKeyRequest(this.co,this.aa),t.next=12,this.Wo.ro;case 12:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.po=function(){var t=vn.coroutine(fn.mark(function t(n){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.throwIfClosed(),t.abrupt("return",!1);case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Ao=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed();case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.bo=function(){var t=vn.coroutine(fn.mark(function t(n){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.ia=new se,t.t0=this.ca,t.t0){t.next=7;break}return t.next=6,this.fa.ro;case 6:t.t0=t.sent;case 7:return t.t0.webkitAddKey(this.co,ne(n),this.aa,this.Io),t.next=11,this.ia.ro;case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.throwIfClosed=function(){if(this.oa)throw new l("Already closing or closed.")},i.Yo=function(t){this.va.Gs(),this.va.zs(ji,t),this.ys(new Xi(this))},T(n,[{key:"Ro",get:function(){return this.va}},{key:"Io",get:function(){return this.ha},set:function(t){this.ha=t}},{key:"Eo",get:function(){return this.zo.ro}},{key:"So",get:function(){return NaN}}]),n}(Fi),Fe=function(){function t(t){var n=this;this.co=t,this.ca=void 0,this.wa=_n(),this.ya=[],this.Qo=function(t){var i=n.ma(t.sessionId);i&&i.da()},this.ka=function(t){var i=n.ma(t.sessionId);i&&i.la(t)},this.pa=function(t){var i=n.ma(t.sessionId);i&&i._a(t)}}var n=t.prototype;return n.Oo=function(t){return this.ca=t,this.ca.addEventListener("webkitkeyadded",this.Qo),this.ca.addEventListener("webkitkeyerror",this.ka),this.ca.addEventListener("webkitkeymessage",this.pa),this.wa.forEach(function(n,i){return n.ga(t)}),this.ya.forEach(function(n){return n.ga(t)}),vn.resolve()},n.xo=function(t){return t.removeEventListener("webkitkeyadded",this.Qo),t.removeEventListener("webkitkeyerror",this.ka),t.removeEventListener("webkitkeymessage",this.pa),this.ca=void 0,vn.resolve()},n.Do=function(){var t=vn.coroutine(fn.mark(function t(n,i,r){var e;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new Ue(this.co),this.ca&&e.ga(this.ca),this.ya.push(e),t.abrupt("return",e);case 4:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),n.Co=function(t){return vn.resolve(!1)},n.ma=function(t){if(t){var n=this.wa.get(t);return n||((n=this.ya.shift())?(n.Io=t,this.wa.set(t,n),n):void 0)}},t}(),He=function(){function t(t,n){this.Mo=t,this.Aa=n}var n=t.prototype;return n.Bo=function(){return vn.resolve(new Fe(this.Mo))},n.Lo=function(){return this.Aa},t}();function Ve(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Xe(t,n){if(void 0!==t.classList)t.classList.add(n);else if(void 0!==t.className){var i=function(t){var n=t.className;return"string"==typeof n?n:n&&"string"==typeof n.baseVal?n.baseVal:""}(t);-1===(" "+i+" ").indexOf(" "+n+" ")&&function(t,n){var i=t.className;"string"==typeof i?t.className=n:i&&"string"==typeof i.baseVal&&(i.baseVal=n)}(t,(i+" "+n).trim())}}function We(t,n,i){t.display=n,"none"!==t.display&&""!==t.display||(t.display=i)}function qe(t,n){var i=n.style;if(i)for(var r in t)i[r]=t[r]}function ze(t){var n=t.style;n.position="absolute",n.left="0",n.right="0",n.top="0",n.bottom="0",n.width="100%",n.height="100%"}function Ge(t){t.removeAttribute("title")}function je(t){return"video"===((n=t)&&n.nodeName&&n.nodeName.toLowerCase()||"");var n}function Qe(t){t.src&&(t.removeAttribute("src"),t.load())}function Ye(){return void 0!==s?s.createElement("video"):void 0}function Ze(){return Le||(Le=Ye()),Le}var Je,$e=function(){function t(){}return t.prototype.Qu=function(t,n){try{return vn.resolve(Ke(t,n))}catch(t){return vn.reject(t)}},t.Fo=function(){return ui()},t}();function Ke(t,n){if(!$e.Fo())throw new l("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=me(tu,t,n[i]);if(r)return new He(t,r)}throw new l("Unsupported key system configuration for "+t)}function tu(t,n){var i=Ze();return!(!i||!i.canPlayType||""===i.canPlayType(n,t))}function nu(){return Je||(Je=function(){var t=[];xe.Fo()&&t.push(new xe);ge.Fo()&&t.push(new ge);be.Fo()&&t.push(new be);$e.Fo()&&t.push(new $e);return new Me(t)}()),Je}function iu(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),_.defineProperty(t,r.key,r)}}function ru(t,n){var i=function(t,n){var i=t.length;if(i<=1)return t;for(var r=new Array(i),e=1;e<i;e*=2){eu(t,n,e,r);var u=t;t=r,r=u}return t}(t,n);return i!==t&&eu(i,null,t.length,t),t}function eu(t,n,i,r){var e,u,s,o,a,c=t.length,h=0,f=2*i;for(e=0;e<c;e+=f)for(s=(u=e+i)+i,u>c&&(u=c),s>c&&(s=c),o=e,a=u;;)if(o<u&&a<s)n(t[o],t[a])<=0?r[h++]=t[o++]:r[h++]=t[a++];else if(o<u)r[h++]=t[o++];else{if(!(a<s))break;r[h++]=t[a++]}}var uu=/[a-zA-Z]/,su=/[0-9]/,ou=/[0-9a-fA-F]/,au=/^0x/i,cu=/^[0-9]+$/,hu=/^[0-9a-fA-F]+$/,fu=/^[0-7]+$/,vu=_.prototype.toString,du=Array.isArray||function(t){return"[object Array]"===vu.call(t)},lu="undefined"!=typeof Symbol&&"symbol"==typeof Symbol.iterator;function _u(t){return du(t)?t:Array.from(t)}function gu(t){return t>=65&&t<=90}function wu(t){return gu(t)||function(t){return t>=97&&t<=122}(t)}function yu(t){return t>=48&&t<=57}function mu(t){return yu(t)||wu(t)}function ku(t){return yu(t)||t>=65&&t<=70||t>=97&&t<=102}function pu(t){return gu(t)?t+32:t}function Au(t){return yu(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function bu(t,n){return void 0===n&&(n=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(n?87:55):-1}var Tu=g.min,Eu=String.fromCharCode,Su=16384;function Ru(t){for(var n=t.length,i=[],r=0;r<n;r+=Su){var e=Tu(r+Su,n);i.push(Eu.apply(null,t.slice(r,e)))}return i.join("")}var Iu=/[^\0-\x7E]/,Nu=/[\x2E\u3002\uFF0E\uFF61]/g,Du={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Cu=g.floor,Ou=String.fromCharCode;function xu(t){throw new RangeError(Du[t])}function Pu(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&e)<<10)+(1023&u)+65536):(n.push(e),i--)}else n.push(e)}return n}var Bu,Lu,Mu,Uu=function(t,n){return t+22+75*(t<26)-((0!=n)<<5)},Fu=function(t,n,i){var r=0;for(t=i?Cu(t/700):t>>1,t+=Cu(t/n);t>455;r+=36)t=Cu(t/35);return Cu(r+36*t/(t+38))},Hu=function(t){return function(t,n){var i=t.split("@"),r="";i.length>1&&(r=i[0]+"@",t=i[1]);var e=function(t,n){for(var i=[],r=t.length;r--;)i[r]=n(t[r]);return i}((t=t.replace(Nu,".")).split("."),n).join(".");return r+e}(t,function(t){return Iu.test(t)?"xn--"+function(t){for(var n=[],i=(t=Pu(t)).length,r=128,e=0,u=72,s=0,o=t;s<o.length;s++){var a=o[s];a<128&&n.push(Ou(a))}var c=n.length,h=c;for(c&&n.push("-");h<i;){for(var f=2147483647,v=0,d=t;v<d.length;v++){var l=d[v];l>=r&&l<f&&(f=l)}var _=h+1;f-r>Cu((2147483647-e)/_)&&xu("overflow"),e+=(f-r)*_,r=f;for(var g=0,w=t;g<w.length;g++){var y=w[g];if(y<r&&++e>2147483647&&xu("overflow"),y==r){for(var m=e,k=36;;k+=36){var p=k<=u?1:k>=u+26?26:k-u;if(m<p)break;var A=m-p,b=36-p;n.push(Ou(Uu(p+A%b,0))),m=Cu(A/b)}n.push(Ou(Uu(m,0))),u=Fu(e,_,h==c),e=0,++h}}++e,++r}return n.join("")}(t):t})};function Vu(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return Ru(n)}function Xu(t){if(t>=55296&&t<=57343)throw new d("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function Wu(t,n){return t>>n&63|128}function qu(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Xu(t),n.push(t>>12&15|224),n.push(Wu(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(Wu(t,12)),n.push(Wu(t,6))),n.push(63&t|128)):n.push(t)}function zu(t){for(var n=[],i=0;i<t.length;i++){qu(t[i],n)}return n}function Gu(){if(Mu>=Lu)throw new d("Invalid byte index");var t=255&Bu[Mu];if(Mu++,128==(192&t))return 63&t;throw new d("Invalid continuation byte")}function ju(){var t,n;if(Mu>Lu)throw new d("Invalid byte index");if(Mu===Lu)return!1;if(t=255&Bu[Mu],Mu++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|Gu())>=128)return n;throw new d("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|Gu()<<6|Gu())>=2048)return Xu(n),n;throw new d("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|Gu()<<12|Gu()<<6|Gu())>=65536&&n<=1114111)return n;throw new d("Invalid UTF-8 detected")}function Qu(t){return[37,bu(t>>4),bu(15&t)]}function Yu(t){return function(t){return t>=0&&t<=31}(t)||t>126}function Zu(t){return Yu(t)||32===t||34===t||60===t||62===t||96===t}function Ju(t){return Zu(t)||35===t||63===t||123===t||125===t}function $u(t){return Ju(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function Ku(t){return t<33||t>126||34===t||35===t||60===t||62===t}function ts(t){return Ku(t)||39===t}function ns(t,n){if(!n(t))return[t];for(var i=zu([t]),r=[],e=0;e<i.length;e++){var u=i[e];r.push.apply(r,Qu(u))}return r}function is(t,n){for(var i=[],r=0,e=Pu(t);r<e.length;r++){var u=e[r];i.push.apply(i,ns(u,n))}return Vu(i)}function rs(t){return function(t){for(var n=[],i=t.length,r=0;r<i;r++){var e=t[r];if(37===e&&r+2<i&&ku(t[r+1])&&ku(t[r+2])){var u=Au(t[r+1])<<4|Au(t[r+2]);n.push(u),r+=2}else n.push(e)}return n}(zu(t))}function es(t){return Vu(function(t){Bu=t.slice(),Lu=Bu.length,Mu=0;for(var n,i=[];!1!==(n=ju());)i.push(n);return i}(rs(Pu(t))))}function us(t){var n,i,r,e,u=t.length,s=[0,0,0,0,0,0,0,0],o=0,a=null,c=0;if(c<u&&":"===t[c]){if(!(c+1<u&&":"===t[c+1]))throw new l;c+=2,a=o+=1}for(;c<u;){if(8===o)throw new l("Too many groups");if(":"!==t[c]){for(var h=0,f=0;f<4&&c<u&&ou.test(t[c]);)h=h<<4|w(t[c],16),c+=1,f+=1;if("."===t[c]){if(0===f)throw new l;if(c-=f,o>6)throw new l;for(var v=0;c<u;){var d=null;if(v>0){if(!("."===t[c]&&v<4))throw new l;c+=1}if(!su.test(t[c]))throw new l;for(;c<u&&su.test(t[c]);){var _=w(t[c],10);if(null===d)d=_;else{if(0===d)throw new l;if((d=10*d+_)>255)throw new l}c+=1}s[o]=s[o]<<8|d,2!==(v+=1)&&4!==v||(o+=1)}if(4!==v)throw new l;break}if(":"===t[c]){if((c+=1)===u)throw new l}else if(c<u)throw new l;s[o]=h,o+=1}else{if(null!==a)throw new l("Too many :: groups");c+=1,a=o+=1}}if(null!==a){var g=o-a;for(o=7;0!==o&&g>0;)r=a+g-1,e=void 0,e=(n=s)[i=o],n[i]=n[r],n[r]=e,o-=1,g-=1}else if(8!==o)throw new l;return s}function ss(t){var n=10,i=cu;return au.test(t)?(t=t.slice(2),n=16,i=hu):t.length>=2&&"0"===t[0]&&(t=t.slice(1),n=8,i=fu),""===t?0:i.test(t)?w(t,n):void 0}var os={ba:4},as=/[\0\t\n\r #%/:?@\[\\\]]/,cs=/[\0\t\n\r #/:?@\[\\\]]/;function hs(t,n){if("["===t[0]){if("]"!==t[t.length-1])throw new l("Invalid IPv6 address");return{ba:2,Ta:us(t.slice(1,-1))}}if(!n)return function(t){if(cs.test(t))throw new l("Invalid code point in opaque host");var n=is(t,Yu);return""===n?os:{ba:3,ku:n}}(t);var i=function(t){return function(t){return Hu(t.toLowerCase())}(t)}(es(t));if(as.test(i))throw new l("Invalid code point in host");var r=function(t){var n=t.split(".");if(""===n[n.length-1]&&n.pop(),!(n.length>4)){for(var i=[],r=0;r<n.length;r++){var e=n[r];if(""===e)return;var u=ss(e);if(void 0===u)return;i.push(u)}for(var s=0;s<i.length-1;s++)if(i[s]>255)throw new l;if(i[i.length-1]>=g.pow(256,5-i.length))throw new l;for(var o=i.pop(),a=0;a<i.length;a++)o+=i[a]*g.pow(256,3-a);return o}}(i);return void 0!==r?{ba:1,Ta:r}:""===i?os:{ba:0,Ea:i}}function fs(t){switch(t.ba){case 0:return t.Ea;case 1:return function(t){for(var n=[],i=t,r=1;r<=4;r++)n.push(""+(255&i)),4!==r&&n.push("."),i>>>=8;return n.reverse().join("")}(t.Ta);case 2:return"["+function(t){for(var n="",i=function(t){for(var n=0,i=0,r=0,e=0,u=0;u<8;u++)0===t[u]?(0===e&&(r=u),e++):(e>i&&(n=r,i=e),e=0);return e>i&&(n=r,i=e),i>1?n:null}(t),r=!1,e=0;e<8;e++){if(r){if(0===t[e])continue;r=!1}i!==e?(n+=t[e].toString(16),7!==e&&(n+=":")):(n+=0===e?"::":":",r=!0)}return n}(t.Ta)+"]";case 3:return t.ku;case 4:return""}}var vs=/\+/g;function ds(t){for(var n=t.split("&"),i=[],r=0;r<n.length;r++){var e=n[r];if(""!==e){var u=e.indexOf("="),s=void 0,o=void 0;-1!==u?(s=e.slice(0,u),o=e.slice(u+1)):(s=e,o=""),s=s.replace(vs," "),o=o.replace(vs," ");var a=es(s),c=es(o);i.push([a,c])}}return i}function ls(t){for(var n="",i=0;i<t.length;i++){var r=t[i];i>0&&(n+="&"),n+=_s(zu(Pu(r[0])))+"="+_s(zu(Pu(r[1])))}return n}function _s(t){for(var n,i=[],r=0;r<t.length;r++){var e=t[r];32===e?i.push(43):42===(n=e)||45===n||46===n||95===n||mu(n)?i.push(e):i.push.apply(i,Qu(e))}return Ru(i)}var gs=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function ws(t){var n=""+t,i=gs.exec(n);return i?function(t,n){for(var i=t.length,r=[],e=n;e<i;e++){var u=t.charCodeAt(e);if(ms(u))if(ks(u)||e===i-1)r.push(ys);else{var s=t.charCodeAt(e+1);ks(s)?(r.push(u,s),e++):r.push(ys)}else r.push(u)}return t.slice(0,n)+Ru(r)}(n,i.index):n}var ys=65533,ms=function(t){return 55296==(63488&t)},ks=function(t){return 0!=(1024&t)};function ps(t,n){var i=t[0],r=n[0];return i===r?0:i<r?-1:1}function As(t){t.Sa.length=0}function bs(t,n){!function(t,n){for(var i=0;i<n.length;i++)t[i]=n[i];t.length=n.length}(t.Sa,ds(n))}function Ts(t){if(t.Ra){var n=ls(t.Sa);""===n&&(n=null),t.Ra.Ra.Ia=n}}var Es=function(){function t(t){if(void 0===t&&(t=void 0),this.Ra=null,null==t)this.Sa=[];else if("object"==typeof t||"function"==typeof t)if((u=t)instanceof Es&&du(u.Sa)&&(!lu||u[Symbol.iterator]===Ss))this.Sa=t.Sa.slice();else if(function(t){return null!=t&&(!!du(t)||!!lu&&"function"==typeof t[Symbol.iterator])}(t)){this.Sa=[];for(var n=0,i=_u(t);n<i.length;n++){var r=_u(i[n]);if(2!==r.length)throw new l("Invalid name-value pair");this.Sa.push([ws(r[0]),ws(r[1])])}}else for(var e in this.Sa=[],t)_.prototype.hasOwnProperty.call(t,e)&&this.Sa.push([ws(e),ws(t[e])]);else(t=ws(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this.Sa=ds(t);var u}var n=t.prototype;return n.append=function(t,n){t=ws(t),n=ws(n),this.Sa.push([t,n]),Ts(this)},n.delete=function(t){t=ws(t);for(var n=this.Sa,i=0;i<n.length;){n[i][0]===t?n.splice(i,1):i++}Ts(this)},n.get=function(t){t=ws(t);for(var n=this.Sa,i=0;i<n.length;i++){var r=n[i];if(r[0]===t)return r[1]}return null},n.getAll=function(t){t=ws(t);for(var n=this.Sa,i=[],r=0;r<n.length;r++){var e=n[r];e[0]===t&&i.push(e[1])}return i},n.has=function(t){t=ws(t);for(var n=this.Sa,i=0;i<n.length;i++){if(n[i][0]===t)return!0}return!1},n.set=function(t,n){t=ws(t),n=ws(n);for(var i=this.Sa,r=!1,e=0;e<i.length;){var u=i[e];u[0]===t?r?i.splice(e,1):(u[1]=n,r=!0,e++):e++}r||i.push([t,n]),Ts(this)},n.sort=function(){ru(this.Sa,ps),Ts(this)},n.toString=function(){return ls(this.Sa)},n.entries=function(){return new Ds(this.Sa,Rs)},n.keys=function(){return new Ds(this.Sa,Is)},n.values=function(){return new Ds(this.Sa,Ns)},n.forEach=function(t){var n=this;this.Sa.forEach(function(i){return t(i[1],i[0],n)})},t}(),Ss=Es.prototype.entries;lu&&(Es.prototype[Symbol.iterator]=Ss);var Rs=function(t){return[t[0],t[1]]},Is=function(t){return t[0]},Ns=function(t){return t[1]},Ds=function(){function t(t,n){this.Na=0,this.Sa=t,this.Da=n}return t.prototype.next=function(){return this.Na<this.Sa.length?{done:!1,value:this.Da(this.Sa[this.Na++])}:{done:!0,value:void 0}},t}(),Cs="null";var Os=_.create(null);Os.ftp=21,Os.file=0,Os.gopher=70,Os.http=80,Os.https=443,Os.ws=80,Os.wss=443;var xs=/^(?:\.|%2e)$/i,Ps=/^(?:\.|%2e){2}$/i;function Bs(t){return xs.test(t)}function Ls(t){return Ps.test(t)}function Ms(t){return void 0!==Os[t]}function Us(t){return Ms(t.Ca)}function Fs(t){return""!==t.Oa||""!==t.xa}function Hs(t){var n=t.length;if(!(n>=2))return!1;if(!Xs(t.slice(0,2)))return!1;if(2!==n){var i=t[2];if(47!==i&&92!==i&&63!==i&&35!==i)return!1}return!0}function Vs(t){return 2===t.length&&uu.test(t[0])&&(":"===t[1]||"|"===t[1])}function Xs(t){return 2===t.length&&Vs(Ru(t))}function Ws(t){return Vs(t)&&":"===t[1]}function qs(t){var n=t.Pa;0!==n.length&&("file"===t.Ca&&1===n.length&&Ws(n[0])||n.pop())}function zs(t){return null===t.Ba||os===t.Ba||t.La||"file"===t.Ca}var Gs=-1,js=/\t|\n|\r/g,Qs=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function Ys(t,n,i,r){void 0===i&&(i=null),void 0===r&&(r=null),i||(i=new Js,t=t.replace(Qs,""));var e=null!==r?r:0;n=n||null;for(var u=[],s=!1,o=!1,a=!1,c=Pu(t=t.replace(js,"")),h=c.length,f=0;f<=h;){var v=f<h?c[f]:Gs;switch(e){case 0:if(!wu(v)){if(null===r){u.length=0,e=2;continue}throw new l("Invalid scheme")}u.push(pu(v)),e=1;break;case 1:if(mu(v)||43===v||45===v||46===v)u.push(pu(v));else{if(58!==v){if(null===r){u.length=0,e=2,f=0;continue}throw new l("Invalid scheme")}var d=Vu(u);if(null!==r){if(Ms(i.Ca)&&!Ms(d))return;if(!Ms(i.Ca)&&Ms(d))return;if((Fs(i)||null!==i.Ma)&&"file"===d)return;if("file"===i.Ca&&(i.Ba===os||null===i.Ba))return}if(i.Ca=d,null!==r)return void(Us(i)&&i.Ma===Os[i.Ca]&&(i.Ma=null));u.length=0,"file"===i.Ca?e=13:Us(i)&&n&&n.Ca===i.Ca?e=3:Us(i)?e=7:47===c[f+1]?(e=4,f+=1):(i.La=!0,i.Pa.push(""),e=18)}break;case 2:if(!n||n.La&&35!==v)throw new l("Invalid scheme");n.La&&35===v?(i.Ca=n.Ca,i.Pa=n.Pa.slice(),i.Ia=n.Ia,i.Ua="",i.La=!0,e=20):"file"!==n.Ca?(e=5,f-=1):(e=13,f-=1);break;case 3:47===v&&47===c[f+1]?e=8:(e=5,f-=1);break;case 4:47===v?e=9:(e=17,f-=1);break;case 5:i.Ca=n.Ca,Gs===v?(i.Oa=n.Oa,i.xa=n.xa,i.Ba=n.Ba,i.Ma=n.Ma,i.Pa=n.Pa.slice(),i.Ia=n.Ia):47===v?e=6:63===v?(i.Oa=n.Oa,i.xa=n.xa,i.Ba=n.Ba,i.Ma=n.Ma,i.Pa=n.Pa.slice(),i.Ia="",e=19):35===v?(i.Oa=n.Oa,i.xa=n.xa,i.Ba=n.Ba,i.Ma=n.Ma,i.Pa=n.Pa.slice(),i.Ia=n.Ia,i.Ua="",e=20):92===v&&Us(i)?e=6:(i.Oa=n.Oa,i.xa=n.xa,i.Ba=n.Ba,i.Ma=n.Ma,i.Pa=n.Pa.slice(),i.Pa.pop(),e=17,f-=1);break;case 6:!Us(i)||47!==v&&92!==v?47===v?e=9:(i.Oa=n.Oa,i.xa=n.xa,i.Ba=n.Ba,i.Ma=n.Ma,e=17,f-=1):e=8;break;case 7:if(47!==v||47!==c[f+1]){e=8;continue}e=8,f+=1;break;case 8:47!==v&&92!==v&&(e=9,f-=1);break;case 9:if(64===v){s&&u.unshift(37,52,48),s=!0;for(var _=0;_<u.length;_++){var g=u[_];if(58!==g||a){var y=Vu(ns(g,$u));a?i.xa+=y:i.Oa+=y}else a=!0}u.length=0}else if(Gs===v||47===v||63===v||35===v||Us(i)&&92===v){if(s&&0===u.length)throw new l("Invalid host");f-=u.length+1,u.length=0,e=10}else u.push(v);break;case 10:case 11:if(null!==r&&"file"===i.Ca)f-=1,e=15;else if(58!==v||o)if(Gs===v||47===v||63===v||35===v||Us(i)&&92===v){if(f-=1,Us(i)&&0===u.length)throw new l("Invalid host");if(null!==r&&0===u.length&&(Fs(i)||null!==i.Ma))return;var m=hs(Vu(u),Us(i));if(i.Ba=m,u.length=0,e=16,null!==r)return}else 91===v?o=!0:93===v&&(o=!1),u.push(v);else{if(0===u.length)throw new l("Invalid host");var k=hs(Vu(u),Us(i));if(i.Ba=k,u.length=0,e=12,11===r)return}break;case 12:if(yu(v))u.push(v);else{if(!(Gs===v||47===v||63===v||35===v||Us(i)&&92===v||null!==r))throw new l("Invalid port");if(0!==u.length){var p=w(Vu(u),10);if(p>65535)throw new l("Invalid port");i.Ma=p===Os[i.Ca]?null:p,u.length=0}if(null!==r)return;e=16,f-=1}break;case 13:i.Ca="file",47===v||92===v?e=14:n&&"file"===n.Ca?Gs===v?(i.Ba=n.Ba,i.Pa=n.Pa.slice(),i.Ia=n.Ia):63===v?(i.Ba=n.Ba,i.Pa=n.Pa.slice(),i.Ia="",e=19):35===v?(i.Ba=n.Ba,i.Pa=n.Pa.slice(),i.Ia=n.Ia,i.Ua="",e=20):(Hs(c.slice(f))||(i.Ba=n.Ba,i.Pa=n.Pa.slice(),qs(i)),e=17,f-=1):(e=17,f-=1);break;case 14:47===v||92===v?e=15:(n&&"file"===n.Ca&&!Hs(c.slice(f))&&(Ws(n.Pa[0])?i.Pa.push(n.Pa[0]):i.Ba=n.Ba),e=17,f-=1);break;case 15:if(Gs===v||47===v||92===v||63===v||35===v)if(f-=1,null===r&&Xs(u))e=17;else if(0===u.length){if(i.Ba=os,null!==r)return;e=16}else{var A=hs(Vu(u),Us(i));if(0===A.ba&&"localhost"===A.Ea&&(A=os),i.Ba=A,null!==r)return;u.length=0,e=16}else u.push(v);break;case 16:Us(i)?(e=17,47!==v&&92!==v&&(f-=1)):null===r&&63===v?(i.Ia="",e=19):null===r&&35===v?(i.Ua="",e=20):Gs!==v&&(e=17,47!==v&&(f-=1));break;case 17:if(Gs===v||47===v||Us(i)&&92===v||null===r&&(63===v||35===v)){var b=Vu(u);if(Ls(b)?(qs(i),47===v||Us(i)&&92===v||i.Pa.push("")):!Bs(b)||47===v||Us(i)&&92===v?Bs(b)||("file"===i.Ca&&0===i.Pa.length&&Xs(u)&&(os!==i.Ba&&null!==i.Ba&&(i.Ba=os),u[1]=58,b=Vu(u)),i.Pa.push(b)):i.Pa.push(""),u.length=0,"file"===i.Ca&&(Gs===v||63===v||35===v))for(;i.Pa.length>1&&""===i.Pa[0];)i.Pa.shift();63===v?(i.Ia="",e=19):35===v&&(i.Ua="",e=20)}else u.push.apply(u,ns(v,Ju));break;case 18:63===v?(i.Ia="",e=19):35===v?(i.Ua="",e=20):Gs!==v&&(i.Pa[0]+=Vu(ns(v,Yu)));break;case 19:null===r&&35===v?(i.Ua="",e=20):Gs!==v&&(i.Ia+=Vu(ns(v,Us(i)?ts:Ku)));break;case 20:Gs===v||0===v||(i.Ua+=Vu(ns(v,Zu)))}f++}return i}function Zs(t,n,i,r){try{Ys(t,n,i,r)}catch(t){}}var Js=function(){this.Ca="",this.Oa="",this.xa="",this.Ba=null,this.Ma=null,this.Pa=[],this.Ia=null,this.Ua=null,this.La=!1};function $s(t){switch(t.Ca){case"blob":var n;try{n=Ys(t.Pa[0],null)}catch(t){return Cs}return $s(n);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return i=t.Ca,r=t.Ba,e=t.Ma,i+"://"+fs(r)+(null===e?"":":"+e);case"file":default:return Cs}var i,r,e}var Ks=function(){function t(t,n){var i,r,e=null;if(null!=n)if(null!=(i=n)&&i instanceof Ks&&"object"==typeof i.Ra)e=n.Ra;else try{e=Ys(String(n),null)}catch(t){throw new l("Invalid base URL: "+t.message)}try{r=Ys(String(t),e)}catch(t){throw new l("Invalid URL: "+t.message)}var u=r.Ia;this.Ra=r,this.Ia=function(t){var n=new Es;return null!==t&&bs(n,t),n}(u),this.Ia.Ra=this}var n,i,r,e=t.prototype;return e.toString=function(){return this.href},e.toJSON=function(){return this.href},n=t,(i=[{key:"href",get:function(){return function(t,n){void 0===n&&(n=!1);var i=t.Ca+":";if(null!==t.Ba?(i+="//",Fs(t)&&(i+=t.Oa,""!==t.xa&&(i+=":"+t.xa),i+="@"),i+=fs(t.Ba),null!==t.Ma&&(i+=":"+t.Ma)):null===t.Ba&&"file"===t.Ca&&(i+="//"),t.La)i+=t.Pa[0];else for(var r=0,e=t.Pa;r<e.length;r++)i+="/"+e[r];return null!==t.Ia&&(i+="?"+t.Ia),n||null===t.Ua||(i+="#"+t.Ua),i}(this.Ra)},set:function(t){var n;try{n=Ys(String(t),null)}catch(t){throw new l("Invalid URL: "+t.message)}this.Ra=n,As(this.Ia);var i=this.Ra.Ia;null!==i&&bs(this.Ia,i)}},{key:"origin",get:function(){return $s(this.Ra)}},{key:"protocol",get:function(){return this.Ra.Ca+":"},set:function(t){Zs(t+":",null,this.Ra,0)}},{key:"username",get:function(){return this.Ra.Oa},set:function(t){zs(this.Ra)||(this.Ra.Oa=is(t,$u))}},{key:"password",get:function(){return this.Ra.xa},set:function(t){zs(this.Ra)||(this.Ra.xa=is(t,$u))}},{key:"host",get:function(){var t=this.Ra,n=t.Ba;if(null===n)return"";var i=t.Ma,r=fs(n);return null!==i&&(r+=":"+i),r},set:function(t){this.Ra.La||Zs(t,null,this.Ra,10)}},{key:"hostname",get:function(){var t=this.Ra.Ba;return null===t?"":fs(t)},set:function(t){this.Ra.La||Zs(t,null,this.Ra,11)}},{key:"port",get:function(){var t=this.Ra.Ma;return null===t?"":""+t},set:function(t){zs(this.Ra)||(""===t?this.Ra.Ma=null:Zs(t,null,this.Ra,12))}},{key:"pathname",get:function(){var t=this.Ra.Pa;return this.Ra.La?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.Ra.La||(this.Ra.Pa.length=0,Zs(t,null,this.Ra,16))}},{key:"search",get:function(){var t=this.Ra.Ia;return null===t||""===t?"":"?"+t},set:function(t){t=ws(t);var n=this.Ra;if(""===t)return n.Ia=null,void As(this.Ia);"?"===t[0]&&(t=t.slice(1)),n.Ia="",Zs(t,null,n,19),bs(this.Ia,t)}},{key:"searchParams",get:function(){return this.Ia}},{key:"hash",get:function(){var t=this.Ra.Ua;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.Ra.Ua="",Zs(t,null,this.Ra,20)):this.Ra.Ua=null}}])&&iu(n.prototype,i),r&&iu(n,r),t}();function to(t,n){for(var i=0,r=_.keys(n);i<r.length;i++){var e=r[i];t.searchParams.set(e,n[e])}}function no(t,n){var i=r.Fa(t);return n&&!Yn(i,"/")&&(i+="/"),i}var io=/cache:(.+)?(?=&|$)/,ro="http://webcache.googleusercontent.com/search?q=cache:";function eo(t){if(!Qn(t,ro))return"";var n=r.Ha(t).search.match(io);return n&&n.length>1?n[1]:""}function uo(t){return r.Ha(t).hostname}function so(t){return t.document&&t.document.baseURI||t.location.href||""}var oo=!!("ontouchstart"in t||t.DocumentTouch&&s instanceof t.DocumentTouch)||!(!a||!a.msMaxTouchPoints),ao=Ze(),co=!(!ao||!ao.webkitShowPlaybackTargetPicker),ho=function(){function t(){this.Va=0,this.Xa=!1,this.Ct=oo,this.qt=!1,this.Wa=!0}var n=t.prototype;return n.qa=function(t,n){return!0},n.za=function(t){return t>=1/6*2},T(t,[{key:"Ga",get:function(){return u.devicePixelRatio||1}},{key:"ja",get:function(){return co}},{key:"Qa",get:function(){return!1}},{key:"Ya",get:function(){return!0}},{key:"Za",get:function(){return P.rn}}]),t}(),fo=function(t){function n(){return t.call(this)||this}return qt(n,t),n}(ho),vo=function(t){function n(){return t.apply(this,arguments)||this}return qt(n,t),n.prototype.qa=function(t,n){if(t&&t.Ja&&n&&n.Ja){var i=lo(t.Ja,"mp4a.40.2")&&lo(n.Ja,"mp4a.40.5"),r=lo(t.Ja,"mp4a.40.5")&&lo(n.Ja,"mp4a.40.2"),e=lo(t.Ja,"mp4a.40.2")&&lo(n.Ja,"mp4a.40.34"),u=lo(t.Ja,"mp4a.40.34")&&lo(n.Ja,"mp4a.40.2"),s=lo(t.Ja,"mp4a.40.5")&&lo(n.Ja,"mp4a.40.34"),o=lo(t.Ja,"mp4a.40.34")&&lo(n.Ja,"mp4a.40.5");return!(i||r||e||u||s||o)}return!0},n}(fo);function lo(t,n){return t.indexOf(n)>-1}var _o=function(t){function n(){return t.apply(this,arguments)||this}return qt(n,t),n.prototype.za=function(t){return t>=2},n}(fo),go=function(t){function n(){var n;return(n=t.call(this)||this).Xa=P.un>=11,n.Wa=P.rn&&!(P.Xt&&P.un<10),n}return qt(n,t),n}(fo),wo=function(){var t=Ye();if(!t)return!1;var n=t.muted;return t.muted=!n,t.muted!==n}();!function(){if(P.Ht)return!1;var t=Ye();if(!t)return!1;var n=t.volume;t.volume=n/2+.1,t.volume}();var yo=function(t){function n(n){var i;return(i=t.call(this)||this).$a=n,i.$a&&(i.Va=i.$a.Va,i.Xa=i.$a.Xa,i.Ct=i.$a.Ct,i.Wa=wo&&i.$a.Wa),i}qt(n,t);var i=n.prototype;return i.qa=function(n,i){return this.$a?this.$a.qa(n,i):t.prototype.qa.call(this,n,i)},i.za=function(n){return this.$a?this.$a.za(n):t.prototype.za.call(this,n)},n}(ho),mo=function(t){function n(n){var i;return(i=t.call(this,n)||this).Xa=!0,i.qt=!0,i}return qt(n,t),n}(yo),ko=function(t){function n(){return t.apply(this,arguments)||this}return qt(n,t),n.prototype.qa=function(n,i){return!(i.Ka>1920)&&t.prototype.qa.call(this,n,i)},T(n,[{key:"Qa",get:function(){return P.Yt<3}},{key:"Ya",get:function(){return P.Yt>=3}}]),n}(yo),po=function(){function t(){this.tc=_n()}var n=t.prototype;return n.Gs=function(t){this.tc.delete(t)},n.nc=function(){this.tc.clear()},n.Ws=function(t){return this.tc.get(t)},n.ic=function(t,n){this.tc.set(t,n)},t}(),Ao=function(){function t(){}return t.rc=function(){return t._n||(t._n=bo.Fo()?new bo:new po),t._n},t.Gs=function(n){t.rc().Gs(n)},t.nc=function(){t.rc().nc()},t.Ws=function(n){return t.rc().Ws(n)},t.ic=function(n,i){t.rc().ic(n,i)},t}();Ao._n=void 0;var bo=function(n){function i(){return n.apply(this,arguments)||this}qt(i,n),i.Fo=function(){try{return t.sessionStorage.setItem("foobar","foobar"),t.sessionStorage.removeItem("foobar"),!0}catch(t){return!1}};var r=i.prototype;return r.Gs=function(n){t.sessionStorage.removeItem(n)},r.nc=function(){t.sessionStorage.clear()},r.Ws=function(n){return t.sessionStorage[n]},r.ic=function(n,i){t.sessionStorage[n]=i},i}(Ao);var To=function(){var n,i=t.Blob;if(i)try{return new i,n=i,function(t,i){return new n(t,i)}}catch(t){}var r,e=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder;return e?(r=e,function(t,n){var i=new r;if(t)for(var e=0;e<t.length;e++){var u=t[e];i.append(u)}return i.getBlob(n&&n.type||"")}):null}();function Eo(t,n,i){var r=To([n],{type:"application/octet-stream"}),e=URL.createObjectURL(r),u=function(t,n){var i=t,r=i.indexOf("?");if(r>=0&&(i=i.substr(0,r)),i=i.substr(i.lastIndexOf("/")+1),n){var e=i.indexOf(".");e<0&&(e=i.length),i=i.substr(0,e)+n+i.substr(e)}return i}(t,i),o=s.createElement("a");o.href=e,o.download=u,s.body.appendChild(o),o.click(),s.body.removeChild(o),URL.revokeObjectURL(e)}var So,Ro,Io=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Va=2,n}return qt(n,t),n}(mo),No=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Va=1,n}return qt(n,t),n}(mo);!function(t){t.ec="uc",t.sc="oc",t.ac="contentprotectionerror",t.cc="contentprotectionsuccess",t.hc="currentsourcechange",t.fc="destroy",t.vc="durationchange",t.dc="emptied",t.Ls="encrypted",t.lc="ended",t._c="gc",t.wc="loadstart",t.yc="manifestupdate",t.mc="nosupportedrepresentationfound",t.kc="offline",t.pc="online",t.Ac="pause",t.bc="play",t.Tc="progress",t.Ec="ratechange",t.Sc="representationchange",t.Rc="resize",t.Ic="seeked",t.Nc="seeking",t.Dc="segmentnotfound",t.Cc="Oc",t.xc="Pc",t.Bc="sourcechange",t.Lc="timeupdate",t.Mc="volumechange",t.Uc="Fc",t.Hc="metricschange"}(So||(So={})),function(t){t.Vc="arraybuffer",t.Xc="json",t.Wc="stream",t.pn="text"}(Ro||(Ro={}));var Do=function(){function t(n){var i=this;this.Ru={},n instanceof t?n.asList().forEach(function(t){var n=t[0],r=t[1];i.append(n,r)}):Array.isArray(n)?n.forEach(function(t){i.append(t[0],t[1])}):n&&_.getOwnPropertyNames(n).forEach(function(t){i.append(t,n[t])})}var n=t.prototype;return n.append=function(t,n){var i=t,r=n;i=Co(i),r=Oo(r);var e=i.toLowerCase();if(this.Ru.hasOwnProperty(e)){var u=this.Ru[e],s=u[1];u[1]=s?s+", "+r:r}else this.Ru[e]=[i,r]},n.delete=function(t){var n=Co(t).toLowerCase();delete this.Ru[n]},n.get=function(t){var n=Co(t).toLowerCase();return this.Ru.hasOwnProperty(n)?this.Ru[n][1]:null},n.has=function(t){var n=Co(t).toLowerCase();return this.Ru.hasOwnProperty(n)},n.set=function(t,n){var i=t,r=(i=Co(i)).toLowerCase();this.Ru[r]=[i,Oo(n)]},n.forEach=function(t,n){for(var i in this.Ru)this.Ru.hasOwnProperty(i)&&t.call(n,this.Ru[i][1],i,this)},n.asList=function(){var t=[];for(var n in this.Ru)if(this.Ru.hasOwnProperty(n)){var i=this.Ru[n],r=i[0],e=i[1];t.push([r,e])}return t},n.qc=function(){var t={};return this.forEach(function(n,i){t[i]=n}),t},n.zc=function(t){var n=this;t.forEach(function(t,i){n.append(i,t)})},n.Gc=function(t){var n=this;t.forEach(function(t,i){n.set(i,t)})},t}();function Co(t){var n=t;if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(n))throw new l("Invalid character in header field name");return n}function Oo(t){var n=t;return"string"!=typeof n&&(n=String(n)),n}var xo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(t){return"Symbol("+t+")"};function Po(){}var Bo=Number.isNaN||function(t){return t!=t},Lo=Po;function Mo(t){return"object"==typeof t&&null!==t||"function"==typeof t}function Uo(t){return t.slice()}function Fo(t){return!1!==function(t){if("number"!=typeof t)return!1;if(Bo(t))return!1;if(t<0)return!1;return!0}(t)&&t!==1/0}function Ho(t,n,i){if("function"!=typeof t)throw new l("Argument is not a function");return Function.prototype.apply.call(t,n,i)}function Vo(t,n,i,r){var e=t[n];if(void 0!==e){if("function"!=typeof e)throw new l(e+" is not a method");switch(i){case 0:return function(){return Wo(e,t,r)};case 1:return function(n){var i=[n].concat(r);return Wo(e,t,i)}}}return function(){return $o(void 0)}}function Xo(t,n,i){var r=t[n];if(void 0!==r)return Ho(r,t,i)}function Wo(t,n,i){try{return $o(Ho(t,n,i))}catch(t){return Ko(t)}}function qo(t){return t}function zo(t){if(t=Number(t),Bo(t)||t<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return t}function Go(t){if(void 0===t)return function(){return 1};if("function"!=typeof t)throw new l("size property of a queuing strategy must be a function");return function(n){return t(n)}}var jo=vn,Qo=vn.prototype.then,Yo=vn.resolve.bind(jo),Zo=vn.reject.bind(jo);function Jo(t){return new jo(t)}function $o(t){return Yo(t)}function Ko(t){return Zo(t)}function ta(t,n,i){return Qo.call(t,n,i)}function na(t,n,i){ta(ta(t,n,i),void 0,Lo)}function ia(t,n){na(t,n)}function ra(t,n){na(t,void 0,n)}function ea(t,n,i){return ta(t,n,i)}function ua(t){ta(t,void 0,Lo)}var sa=function(){function t(){this.jc=0,this.Qc=0,this.Qe={Yc:[],Zc:void 0},this.Jc=this.Qe,this.jc=0,this.Qc=0}return _.defineProperty(t.prototype,"length",{get:function(){return this.Qc},enumerable:!0,configurable:!0}),t.prototype.push=function(t){var n=this.Jc,i=n;16383===n.Yc.length&&(i={Yc:[],Zc:void 0}),n.Yc.push(t),i!==n&&(this.Jc=i,n.Zc=i),++this.Qc},t.prototype.shift=function(){var t=this.Qe,n=t,i=this.jc,r=i+1,e=t.Yc,u=e[i];return 16384===r&&(n=t.Zc,r=0),--this.Qc,this.jc=r,t!==n&&(this.Qe=n),e[i]=void 0,u},t.prototype.forEach=function(t){for(var n=this.jc,i=this.Qe,r=i.Yc;!(n===r.length&&void 0===i.Zc||n===r.length&&(n=0,0===(r=(i=i.Zc).Yc).length));)t(r[n]),++n},t.prototype.peek=function(){var t=this.Qe,n=this.jc;return t.Yc[n]},t}();function oa(t,n,i){var r=null;!0===i&&(r=_.prototype);var e=_.create(r);return e.value=t,e.done=n,e}function aa(t,n){t.$c=!0,t.Kc=n,n.th=t,"readable"===n.nh?va(t):"closed"===n.nh?function(t){va(t),_a(t)}(t):da(t,n.ih)}function ca(t,n){return mh(t.Kc,n)}function ha(t){"readable"===t.Kc.nh?la(t,new l("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,n){da(t,n)}(t,new l("Reader was released and can no longer be used to monitor the stream's closedness")),t.Kc.th=void 0,t.Kc=void 0}function fa(t){return new l("Cannot "+t+" a stream using a released reader")}function va(t){t.yo=Jo(function(n,i){t.rh=n,t.eh=i})}function da(t,n){va(t),la(t,n)}function la(t,n){ua(t.yo),t.eh(n),t.rh=void 0,t.eh=void 0}function _a(t){t.rh(void 0),t.rh=void 0,t.eh=void 0}var ga=xo("[[CancelSteps]]"),wa=xo("[[PullSteps]]");function ya(t,n){void 0===n&&(n=!1);var i=new Ea(t);return i.$c=n,i}function ma(t){return Jo(function(n,i){var r={ae:n,_i:i};t.th.uh.push(r)})}function ka(t,n,i){var r=t.th;r.uh.shift().ae(oa(n,i,r.$c))}function pa(t){return t.th.uh.length}function Aa(t){var n=t.th;return void 0!==n&&!!Sa(n)}var ba,Ta,Ea=function(){function t(t){if(!1===wh(t))throw new l("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===yh(t))throw new l("This stream has already been locked for exclusive reading by another reader");aa(this,t),this.uh=new sa}return _.defineProperty(t.prototype,"closed",{get:function(){return Sa(this)?this.yo:Ko(Ia("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return Sa(this)?void 0===this.Kc?Ko(fa("cancel")):ca(this,t):Ko(Ia("cancel"))},t.prototype.read=function(){return Sa(this)?void 0===this.Kc?Ko(fa("read from")):Ra(this):Ko(Ia("read"))},t.prototype.releaseLock=function(){if(!Sa(this))throw Ia("releaseLock");if(void 0!==this.Kc){if(this.uh.length>0)throw new l("Tried to release a reader lock when that reader has pending read() calls un-settled");ha(this)}},t}();function Sa(t){return!!Mo(t)&&!!_.prototype.hasOwnProperty.call(t,"uh")}function Ra(t){var n=t.Kc;return n.sh=!0,"closed"===n.nh?$o(oa(void 0,!0,t.$c)):"errored"===n.nh?Ko(n.ih):n.oh[wa]()}function Ia(t){return new l("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}"symbol"==typeof xo.asyncIterator&&((ba={})[xo.asyncIterator]=function(){return this},Ta=ba,_.defineProperty(Ta,xo.asyncIterator,{enumerable:!1}));var Na={next:function(){if(!1===Da(this))return Ko(Ca("next"));var t=this.ah;return void 0===t.Kc?Ko(fa("iterate")):ea(Ra(t),function(n){var i=n.done;return i&&ha(t),oa(n.value,i,!0)})},return:function(t){if(!1===Da(this))return Ko(Ca("next"));var n=this.ah;if(void 0===n.Kc)return Ko(fa("finish iterating"));if(n.uh.length>0)return Ko(new l("Tried to release a reader lock when that reader has pending read() calls un-settled"));if(!1===this.hh){var i=ca(n,t);return ha(n),ea(i,function(){return oa(t,!0,!0)})}return ha(n),$o(oa(t,!0,!0))}};function Da(t){return!!Mo(t)&&!!_.prototype.hasOwnProperty.call(t,"ah")}function Ca(t){return new l("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}function Oa(t){var n=t.ie.shift();return t.fh-=n.size,t.fh<0&&(t.fh=0),n.value}function xa(t,n,i){if(!Fo(i=Number(i)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");t.ie.push({value:n,size:i}),t.fh+=i}function Pa(t){t.ie=new sa,t.fh=0}void 0!==Ta&&_.setPrototypeOf(Na,Ta),_.defineProperty(Na,"next",{enumerable:!1}),_.defineProperty(Na,"return",{enumerable:!1});var Ba=xo("[[AbortSteps]]"),La=xo("[[ErrorSteps]]"),Ma=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),Fa(this);var i=n.size,r=n.highWaterMark;if(void 0!==t.type)throw new RangeError("Invalid type is specified");var e=Go(i);void 0===r&&(r=1),function(t,n,i,r){var e=_.create(rc.prototype);var u=Vo(n,"write",1,[e]),s=Vo(n,"close",0,[]),o=Vo(n,"abort",1,[]);ec(t,e,function(){return Xo(n,"start",[e])},u,s,o,i,r)}(this,t,r=zo(r),e)}return _.defineProperty(t.prototype,"locked",{get:function(){if(!1===Ha(this))throw fc("locked");return Va(this)},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===Ha(this)?Ko(fc("abort")):!0===Va(this)?Ko(new l("Cannot abort a stream that already has a writer")):Xa(this,t)},t.prototype.close=function(){return!1===Ha(this)?Ko(fc("close")):!0===Va(this)?Ko(new l("Cannot close a stream that already has a writer")):!0===ja(this)?Ko(new l("Cannot close an already-closing stream")):Wa(this)},t.prototype.getWriter=function(){if(!1===Ha(this))throw fc("getWriter");return Ua(this)},t}();function Ua(t){return new Za(t)}function Fa(t){t.nh="writable",t.ih=void 0,t.vh=void 0,t.dh=void 0,t.lh=new sa,t._h=void 0,t.gh=void 0,t.wh=void 0,t.yh=void 0,t.mh=!1}function Ha(t){return!!Mo(t)&&!!_.prototype.hasOwnProperty.call(t,"dh")}function Va(t){return void 0!==t.vh}function Xa(t,n){var i=t.nh;if("closed"===i||"errored"===i)return $o(void 0);if(void 0!==t.yh)return t.yh.Cr;var r=!1;"erroring"===i&&(r=!0,n=void 0);var e=Jo(function(i,e){t.yh={Cr:void 0,ae:i,_i:e,Zr:n,kh:r}});return t.yh.Cr=e,!1===r&&za(t,n),e}function Wa(t){var n=t.nh;if("closed"===n||"errored"===n)return Ko(new l("The stream (in "+n+" state) is not in the writable state and cannot be closed"));var i,r=Jo(function(n,i){var r={ae:n,_i:i};t.gh=r}),e=t.vh;return void 0!==e&&!0===t.mh&&"writable"===n&&Ac(e),xa(i=t.dh,"close",0),oc(i),r}function qa(t,n){"writable"!==t.nh?Ga(t):za(t,n)}function za(t,n){var i=t.dh;t.nh="erroring",t.ih=n;var r=t.vh;void 0!==r&&tc(r,n),!1===function(t){if(void 0===t._h&&void 0===t.wh)return!1;return!0}(t)&&!0===i.ph&&Ga(t)}function Ga(t){t.nh="errored",t.dh[La]();var n=t.ih;if(t.lh.forEach(function(t){t._i(n)}),t.lh=new sa,void 0!==t.yh){var i=t.yh;if(t.yh=void 0,!0===i.kh)return i._i(n),void Qa(t);na(t.dh[Ba](i.Zr),function(){i.ae(),Qa(t)},function(n){i._i(n),Qa(t)})}else Qa(t)}function ja(t){return void 0!==t.gh||void 0!==t.wh}function Qa(t){void 0!==t.gh&&(t.gh._i(t.ih),t.gh=void 0);var n=t.vh;void 0!==n&&gc(n,t.ih)}function Ya(t,n){var i=t.vh;void 0!==i&&n!==t.mh&&(!0===n?function(t){yc(t)}(i):Ac(i)),t.mh=n}var Za=function(){function t(t){if(!1===Ha(t))throw new l("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===Va(t))throw new l("This stream has already been locked for exclusive writing by another writer");this.Ah=t,t.vh=this;var n,i=t.nh;if("writable"===i)!1===ja(t)&&!0===t.mh?yc(this):kc(this),lc(this);else if("erroring"===i)mc(this,t.ih),lc(this);else if("closed"===i)kc(this),lc(n=this),wc(n);else{var r=t.ih;mc(this,r),_c(this,r)}}return _.defineProperty(t.prototype,"closed",{get:function(){return!1===Ja(this)?Ko(vc("closed")):this.yo},enumerable:!0,configurable:!0}),_.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Ja(this))throw vc("desiredSize");if(void 0===this.Ah)throw dc("desiredSize");return function(t){var n=t.Ah,i=n.nh;if("errored"===i||"erroring"===i)return null;if("closed"===i)return 0;return sc(n.dh)}(this)},enumerable:!0,configurable:!0}),_.defineProperty(t.prototype,"ready",{get:function(){return!1===Ja(this)?Ko(vc("ready")):this.bh},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===Ja(this)?Ko(vc("abort")):void 0===this.Ah?Ko(dc("abort")):function(t,n){return Xa(t.Ah,n)}(this,t)},t.prototype.close=function(){if(!1===Ja(this))return Ko(vc("close"));var t=this.Ah;return void 0===t?Ko(dc("close")):!0===ja(t)?Ko(new l("Cannot close an already-closing stream")):$a(this)},t.prototype.releaseLock=function(){if(!1===Ja(this))throw vc("releaseLock");void 0!==this.Ah&&nc(this)},t.prototype.write=function(t){return!1===Ja(this)?Ko(vc("write")):void 0===this.Ah?Ko(dc("write to")):ic(this,t)},t}();function Ja(t){return!!Mo(t)&&!!_.prototype.hasOwnProperty.call(t,"Ah")}function $a(t){return Wa(t.Ah)}function Ka(t,n){"pending"===t.Th?gc(t,n):function(t,n){_c(t,n)}(t,n)}function tc(t,n){"pending"===t.Eh?pc(t,n):function(t,n){mc(t,n)}(t,n)}function nc(t){var n=t.Ah,i=new l("Writer was released and can no longer be used to monitor the stream's closedness");tc(t,i),Ka(t,i),n.vh=void 0,t.Ah=void 0}function ic(t,n){var i=t.Ah,r=i.dh,e=function(t,n){try{return t.Sh(n)}catch(n){return ac(t,n),1}}(r,n);if(i!==t.Ah)return Ko(dc("write to"));var u=i.nh;if("errored"===u)return Ko(i.ih);if(!0===ja(i)||"closed"===u)return Ko(new l("The stream is closing or closed and cannot be written to"));if("erroring"===u)return Ko(i.ih);var s=function(t){return Jo(function(n,i){var r={ae:n,_i:i};t.lh.push(r)})}(i);return function(t,n,i){var r={chunk:n};try{xa(t,r,i)}catch(n){return void ac(t,n)}var e=t.Rh;if(!1===ja(e)&&"writable"===e.nh){var u=cc(t);Ya(e,u)}oc(t)}(r,n,e),s}var rc=function(){function t(){throw new l("WritableStreamDefaultController cannot be constructed explicitly")}return t.prototype.error=function(t){if(!1===function(t){if(!Mo(t))return!1;if(!_.prototype.hasOwnProperty.call(t,"Rh"))return!1;return!0}(this))throw new l("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this.Rh.nh&&hc(this,t)},t.prototype[Ba]=function(t){var n=this.Ih(t);return uc(this),n},t.prototype[La]=function(){Pa(this)},t}();function ec(t,n,i,r,e,u,s,o){n.Rh=t,t.dh=n,n.ie=void 0,n.fh=void 0,Pa(n),n.ph=!1,n.Sh=o,n.Nh=s,n.Dh=r,n.Ch=e,n.Ih=u;var a=cc(n);Ya(t,a),na($o(i()),function(){n.ph=!0,oc(n)},function(i){n.ph=!0,qa(t,i)})}function uc(t){t.Dh=void 0,t.Ch=void 0,t.Ih=void 0,t.Sh=void 0}function sc(t){return t.Nh-t.fh}function oc(t){var n=t.Rh;if(!1!==t.ph&&void 0===n._h)if("erroring"!==n.nh){if(0!==t.ie.length){var i=t.ie.peek().value;"close"===i?function(t){var n=t.Rh;(function(t){t.wh=t.gh,t.gh=void 0})(n),Oa(t);var i=t.Ch();uc(t),na(i,function(){!function(t){t.wh.ae(void 0),t.wh=void 0,"erroring"===t.nh&&(t.ih=void 0,void 0!==t.yh&&(t.yh.ae(),t.yh=void 0)),t.nh="closed";var n=t.vh;void 0!==n&&wc(n)}(n)},function(t){!function(t,n){t.wh._i(n),t.wh=void 0,void 0!==t.yh&&(t.yh._i(n),t.yh=void 0),qa(t,n)}(n,t)})}(t):function(t,n){var i=t.Rh;(function(t){t._h=t.lh.shift()})(i),na(t.Dh(n),function(){!function(t){t._h.ae(void 0),t._h=void 0}(i);var n=i.nh;if(Oa(t),!1===ja(i)&&"writable"===n){var r=cc(t);Ya(i,r)}oc(t)},function(n){"writable"===i.nh&&uc(t),function(t,n){t._h._i(n),t._h=void 0,qa(t,n)}(i,n)})}(t,i.chunk)}}else Ga(n)}function ac(t,n){"writable"===t.Rh.nh&&hc(t,n)}function cc(t){return sc(t)<=0}function hc(t,n){var i=t.Rh;uc(t),za(i,n)}function fc(t){return new l("WritableStream.prototype."+t+" can only be used on a WritableStream")}function vc(t){return new l("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function dc(t){return new l("Cannot "+t+" a stream using a released writer")}function lc(t){t.yo=Jo(function(n,i){t.rh=n,t.eh=i,t.Th="pending"})}function _c(t,n){lc(t),gc(t,n)}function gc(t,n){ua(t.yo),t.eh(n),t.rh=void 0,t.eh=void 0,t.Th="rejected"}function wc(t){t.rh(void 0),t.rh=void 0,t.eh=void 0,t.Th="resolved"}function yc(t){t.bh=Jo(function(n,i){t.Oh=n,t.xh=i}),t.Eh="pending"}function mc(t,n){yc(t),pc(t,n)}function kc(t){yc(t),Ac(t)}function pc(t,n){ua(t.bh),t.xh(n),t.Oh=void 0,t.xh=void 0,t.Eh="rejected"}function Ac(t){t.Oh(void 0),t.Oh=void 0,t.xh=void 0,t.Eh="fulfilled"}function bc(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}var Tc="undefined"!=typeof DOMException?DOMException:void 0;var Ec,Sc=function(t){if("function"!=typeof t&&"object"!=typeof t)return!1;try{return new t,!0}catch(t){return!1}}(Tc)?Tc:((Ec=function(t,n){this.message=t||"",this.name=n||"Error",d.captureStackTrace&&d.captureStackTrace(this,this.constructor)}).prototype=_.create(d.prototype),_.defineProperty(Ec.prototype,"constructor",{value:Ec,writable:!0,configurable:!0}),Ec);function Rc(t,n,i,r,e,u){var s=ya(t),o=Ua(n);t.sh=!0;var a=!1,c=$o(void 0);return Jo(function(h,f){var v,d,_,g;if(void 0!==u){if(v=function(){var i=new Sc("Aborted","AbortError"),u=[];!1===r&&u.push(function(){return"writable"===n.nh?Xa(n,i):$o(void 0)}),!1===e&&u.push(function(){return"readable"===t.nh?mh(t,i):$o(void 0)}),k(function(){return vn.all(u.map(function(t){return t()}))},!0,i)},!0===u.aborted)return void v();u.addEventListener("abort",v)}if(m(t,s.yo,function(t){!1===r?k(function(){return Xa(n,t)},!0,t):p(!0,t)}),m(n,o.yo,function(n){!1===e?k(function(){return mh(t,n)},!0,n):p(!0,n)}),d=t,_=s.yo,g=function(){!1===i?k(function(){return function(t){var n=t.Ah,i=n.nh;return!0===ja(n)||"closed"===i?$o(void 0):"errored"===i?Ko(n.ih):$a(t)}(o)}):p()},"closed"===d.nh?g():ia(_,g),!0===ja(n)||"closed"===n.nh){var w=new l("the destination writable stream closed before all data could be piped to it");!1===e?k(function(){return mh(t,w)},!0,w):p(!0,w)}function y(){var t=c;return ta(c,function(){return t!==c?y():void 0})}function m(t,n,i){"errored"===t.nh?i(t.ih):ra(n,i)}function k(t,i,r){function e(){na(t(),function(){return A(i,r)},function(t){return A(!0,t)})}!0!==a&&(a=!0,"writable"===n.nh&&!1===ja(n)?ia(y(),e):e())}function p(t,i){!0!==a&&(a=!0,"writable"===n.nh&&!1===ja(n)?ia(y(),function(){return A(t,i)}):A(t,i))}function A(t,n){nc(o),ha(s),void 0!==u&&u.removeEventListener("abort",v),t?f(n):h(void 0)}ua(Jo(function(t,n){!function i(r){r?t():ta(!0===a?$o(!0):ta(o.bh,function(){return ta(Ra(s),function(t){return!0===t.done||(c=ta(ic(o,t.value),void 0,Po),!1)})}),i,n)}(!1)}))})}var Ic=function(){function t(){throw new l}return _.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Nc(this))throw Fc("desiredSize");return Lc(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===Nc(this))throw Fc("close");if(!1===Mc(this))throw new l("The stream is not in a state that permits close");xc(this)},t.prototype.enqueue=function(t){if(!1===Nc(this))throw Fc("enqueue");if(!1===Mc(this))throw new l("The stream is not in a state that permits enqueue");return Pc(this,t)},t.prototype.error=function(t){if(!1===Nc(this))throw Fc("error");Bc(this,t)},t.prototype[ga]=function(t){Pa(this);var n=this.Ph(t);return Oc(this),n},t.prototype[wa]=function(){var t=this.Bh;if(this.ie.length>0){var n=Oa(this);return!0===this.Lh&&0===this.ie.length?(Oc(this),kh(t)):Dc(this),$o(oa(n,!1,t.th.$c))}var i=ma(t);return Dc(this),i},t}();function Nc(t){return!!Mo(t)&&!!_.prototype.hasOwnProperty.call(t,"Bh")}function Dc(t){!1!==Cc(t)&&(!0!==t.Mh?(t.Mh=!0,na(t.Uh(),function(){t.Mh=!1,!0===t.Fh&&(t.Fh=!1,Dc(t))},function(n){Bc(t,n)})):t.Fh=!0)}function Cc(t){var n=t.Bh;return!1!==Mc(t)&&(!1!==t.ph&&(!0===yh(n)&&pa(n)>0||Lc(t)>0))}function Oc(t){t.Uh=void 0,t.Ph=void 0,t.Sh=void 0}function xc(t){var n=t.Bh;t.Lh=!0,0===t.ie.length&&(Oc(t),kh(n))}function Pc(t,n){var i=t.Bh;if(!0===yh(i)&&pa(i)>0)ka(i,n,!1);else{var r=void 0;try{r=t.Sh(n)}catch(n){throw Bc(t,n),n}try{xa(t,n,r)}catch(n){throw Bc(t,n),n}}Dc(t)}function Bc(t,n){var i=t.Bh;"readable"===i.nh&&(Pa(t),Oc(t),ph(i,n))}function Lc(t){var n=t.Bh.nh;return"errored"===n?null:"closed"===n?0:t.Nh-t.fh}function Mc(t){var n=t.Bh.nh;return!1===t.Lh&&"readable"===n}function Uc(t,n,i,r,e,u,s){n.Bh=t,n.ie=void 0,n.fh=void 0,Pa(n),n.ph=!1,n.Lh=!1,n.Fh=!1,n.Mh=!1,n.Sh=s,n.Nh=u,n.Uh=r,n.Ph=e,t.oh=n,na($o(i()),function(){n.ph=!0,Dc(n)},function(t){Bc(n,t)})}function Fc(t){return new l("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}var Hc=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&g.floor(t)===t},Vc=function(){function t(){throw new l("ReadableStreamBYOBRequest cannot be used directly")}return _.defineProperty(t.prototype,"view",{get:function(){if(!1===qc(this))throw sh("view");return this.Hh},enumerable:!0,configurable:!0}),t.prototype.respond=function(t){if(!1===qc(this))throw sh("respond");if(void 0===this.Vh)throw new l("This BYOB request has been invalidated");this.Hh.buffer,function(t,n){if(!1===Fo(n=Number(n)))throw new RangeError("bytesWritten must be a finite");th(t,n)}(this.Vh,t)},t.prototype.respondWithNewView=function(t){if(!1===qc(this))throw sh("respond");if(void 0===this.Vh)throw new l("This BYOB request has been invalidated");if(!ArrayBuffer.isView(t))throw new l("You can only respond with array buffer views");t.buffer,function(t,n){var i=t.Xh.peek();if(i.byteOffset+i.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.byteLength!==n.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");i.buffer=n.buffer,th(t,n.byteLength)}(this.Vh,t)},t}(),Xc=function(){function t(){throw new l("ReadableByteStreamController constructor cannot be used directly")}return _.defineProperty(t.prototype,"byobRequest",{get:function(){if(!1===Wc(this))throw oh("byobRequest");if(void 0===this.Wh&&this.Xh.length>0){var t=this.Xh.peek(),n=new k(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),i=_.create(Vc.prototype);!function(t,n,i){t.Vh=n,t.Hh=i}(i,this,n),this.Wh=i}return this.Wh},enumerable:!0,configurable:!0}),_.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Wc(this))throw oh("desiredSize");return eh(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===Wc(this))throw oh("close");if(!0===this.Lh)throw new l("The stream has already been closed; do not close it again!");var t=this.qh.nh;if("readable"!==t)throw new l("The stream (in "+t+" state) is not in the readable state and cannot be closed");!function(t){var n=t.qh;if(t.fh>0)return void(t.Lh=!0);if(t.Xh.length>0){var i=t.Xh.peek();if(i.bytesFilled>0){var r=new l("Insufficient bytes to fill elements in the given buffer");throw rh(t,r),r}}ih(t),kh(n)}(this)},t.prototype.enqueue=function(t){if(!1===Wc(this))throw oh("enqueue");if(!0===this.Lh)throw new l("stream is closed or draining");var n=this.qh.nh;if("readable"!==n)throw new l("The stream (in "+n+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(t))throw new l("You can only enqueue array buffer views when using a ReadableByteStreamController");t.buffer,function(t,n){var i=t.qh,r=n.buffer,e=n.byteOffset,u=n.byteLength,s=qo(r);if(!0===Aa(i))if(0===pa(i))Qc(t,s,e,u);else{var o=new k(s,e,u);ka(i,o,!1)}else!0===hh(i)?(Qc(t,s,e,u),Kc(t)):Qc(t,s,e,u);zc(t)}(this,t)},t.prototype.error=function(t){if(!1===Wc(this))throw oh("error");rh(this,t)},t.prototype[ga]=function(t){this.Xh.length>0&&(this.Xh.peek().bytesFilled=0);Pa(this);var n=this.Ph(t);return ih(this),n},t.prototype[wa]=function(){var t=this.qh;if(this.fh>0){var n=this.ie.shift();this.fh-=n.byteLength,Jc(this);var i=void 0;try{i=new k(n.buffer,n.byteOffset,n.byteLength)}catch(t){return Ko(t)}return $o(oa(i,!1,t.th.$c))}var r=this.zh;if(void 0!==r){var e=void 0;try{e=new ArrayBuffer(r)}catch(t){return Ko(t)}var u={buffer:e,byteOffset:0,byteLength:r,bytesFilled:0,elementSize:1,ctor:k,readerType:"default"};this.Xh.push(u)}var s=ma(t);return zc(this),s},t}();function Wc(t){return!!Mo(t)&&!!_.prototype.hasOwnProperty.call(t,"qh")}function qc(t){return!!Mo(t)&&!!_.prototype.hasOwnProperty.call(t,"Vh")}function zc(t){!1!==function(t){var n=t.qh;if("readable"!==n.nh)return!1;if(!0===t.Lh)return!1;if(!1===t.ph)return!1;if(!0===Aa(n)&&pa(n)>0)return!0;if(!0===hh(n)&&ch(n)>0)return!0;if(eh(t)>0)return!0;return!1}(t)&&(!0!==t.Mh?(t.Mh=!0,na(t.Uh(),function(){t.Mh=!1,!0===t.Fh&&(t.Fh=!1,zc(t))},function(n){rh(t,n)})):t.Fh=!0)}function Gc(t,n){var i=!1;"closed"===t.nh&&(i=!0);var r=jc(n);"default"===n.readerType?ka(t,r,i):function(t,n,i){var r=t.th;r.Gh.shift().ae(oa(n,i,r.$c))}(t,r,i)}function jc(t){var n=t.bytesFilled,i=t.elementSize;return new t.ctor(t.buffer,t.byteOffset,n/i)}function Qc(t,n,i,r){t.ie.push({buffer:n,byteOffset:i,byteLength:r}),t.fh+=r}function Yc(t,n){var i=n.elementSize,r=n.bytesFilled-n.bytesFilled%i,e=g.min(t.fh,n.byteLength-n.bytesFilled),u=n.bytesFilled+e,s=u-u%i,o=e,a=!1;s>r&&(o=s-n.bytesFilled,a=!0);for(var c,h,f,v,d,l=t.ie;o>0;){var _=l.peek(),w=g.min(o,_.byteLength),y=n.byteOffset+n.bytesFilled;c=n.buffer,h=y,f=_.buffer,v=_.byteOffset,d=w,new k(c).set(new k(f,v,d),h),_.byteLength===w?l.shift():(_.byteOffset+=w,_.byteLength-=w),t.fh-=w,Zc(t,w,n),o-=w}return a}function Zc(t,n,i){$c(t),i.bytesFilled+=n}function Jc(t){0===t.fh&&!0===t.Lh?(ih(t),kh(t.qh)):zc(t)}function $c(t){void 0!==t.Wh&&(t.Wh.Vh=void 0,t.Wh.Hh=void 0,t.Wh=void 0)}function Kc(t){for(;t.Xh.length>0;){if(0===t.fh)return;var n=t.Xh.peek();!0===Yc(t,n)&&(nh(t),Gc(t.qh,n))}}function th(t,n){var i=t.Xh.peek();if("closed"===t.qh.nh){if(0!==n)throw new l("bytesWritten must be 0 when calling respond() on a closed stream");!function(t,n){n.buffer=qo(n.buffer);var i=t.qh;if(!0===hh(i))for(;ch(i)>0;)Gc(i,nh(t))}(t,i)}else!function(t,n,i){if(i.bytesFilled+n>i.byteLength)throw new RangeError("bytesWritten out of range");if(Zc(t,n,i),!(i.bytesFilled<i.elementSize)){nh(t);var r=i.bytesFilled%i.elementSize;if(r>0){var e=i.byteOffset+i.bytesFilled,u=i.buffer.slice(e-r,e);Qc(t,u,0,u.byteLength)}i.buffer=qo(i.buffer),i.bytesFilled-=r,Gc(t.qh,i),Kc(t)}}(t,n,i);zc(t)}function nh(t){var n=t.Xh.shift();return $c(t),n}function ih(t){t.Uh=void 0,t.Ph=void 0}function rh(t,n){var i=t.qh;"readable"===i.nh&&(!function(t){$c(t),t.Xh=new sa}(t),Pa(t),ih(t),ph(i,n))}function eh(t){var n=t.qh.nh;return"errored"===n?null:"closed"===n?0:t.Nh-t.fh}function uh(t,n,i){var r=_.create(Xc.prototype);var e=Vo(n,"pull",0,[r]),u=Vo(n,"cancel",1,[]),s=n.autoAllocateChunkSize;if(void 0!==s&&(s=Number(s),!1===Hc(s)||s<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");!function(t,n,i,r,e,u,s){n.qh=t,n.Fh=!1,n.Mh=!1,n.Wh=void 0,n.ie=n.fh=void 0,Pa(n),n.Lh=!1,n.ph=!1,n.Nh=zo(u),n.Uh=r,n.Ph=e,n.zh=s,n.Xh=new sa,t.oh=n,na($o(i()),function(){n.ph=!0,zc(n)},function(t){rh(n,t)})}(t,r,function(){return Xo(n,"start",[r])},e,u,i,s)}function sh(t){return new l("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function oh(t){return new l("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function ah(t){return Jo(function(n,i){var r={ae:n,_i:i};t.th.Gh.push(r)})}function ch(t){return t.th.Gh.length}function hh(t){var n=t.th;return void 0!==n&&!!vh(n)}var fh=function(){function t(t){if(!wh(t))throw new l("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===Wc(t.oh))throw new l("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(yh(t))throw new l("This stream has already been locked for exclusive reading by another reader");aa(this,t),this.Gh=new sa}return _.defineProperty(t.prototype,"closed",{get:function(){return vh(this)?this.yo:Ko(dh("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return vh(this)?void 0===this.Kc?Ko(fa("cancel")):ca(this,t):Ko(dh("cancel"))},t.prototype.read=function(t){return vh(this)?void 0===this.Kc?Ko(fa("read from")):ArrayBuffer.isView(t)?(t.buffer,0===t.byteLength?Ko(new l("view must have non-zero byteLength")):function(t,n){var i=t.Kc;if(i.sh=!0,"errored"===i.nh)return Ko(i.ih);return function(t,n){var i=t.qh,r=1;n.constructor!==DataView&&(r=n.constructor.BYTES_PER_ELEMENT);var e=n.constructor,u={buffer:qo(n.buffer),byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:r,ctor:e,readerType:"byob"};if(t.Xh.length>0)return t.Xh.push(u),ah(i);if("closed"===i.nh)return $o(oa(new e(u.buffer,u.byteOffset,0),!0,i.th.$c));if(t.fh>0){if(!0===Yc(t,u)){var s=jc(u);return Jc(t),$o(oa(s,!1,i.th.$c))}if(!0===t.Lh){var o=new l("Insufficient bytes to fill elements in the given buffer");return rh(t,o),Ko(o)}}t.Xh.push(u);var a=ah(i);return zc(t),a}(i.oh,n)}(this,t)):Ko(new l("view must be an array buffer view")):Ko(dh("read"))},t.prototype.releaseLock=function(){if(!vh(this))throw dh("releaseLock");if(void 0!==this.Kc){if(this.Gh.length>0)throw new l("Tried to release a reader lock when that reader has pending read() calls un-settled");ha(this)}},t}();function vh(t){return!!Mo(t)&&!!_.prototype.hasOwnProperty.call(t,"Gh")}function dh(t){return new l("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}var lh=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),gh(this);var i=n.size,r=n.highWaterMark,e=t.type;if("bytes"===String(e)){if(void 0!==i)throw new RangeError("The strategy for a byte stream cannot have a size function");void 0===r&&(r=0),uh(this,t,r=zo(r))}else{if(void 0!==e)throw new RangeError("Invalid type is specified");var u=Go(i);void 0===r&&(r=1),function(t,n,i,r){var e=_.create(Ic.prototype),u=Vo(n,"pull",0,[e]),s=Vo(n,"cancel",1,[]);Uc(t,e,function(){return Xo(n,"start",[e])},u,s,i,r)}(this,t,r=zo(r),u)}}return _.defineProperty(t.prototype,"locked",{get:function(){if(!1===wh(this))throw Ah("locked");return yh(this)},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return!1===wh(this)?Ko(Ah("cancel")):!0===yh(this)?Ko(new l("Cannot cancel a stream that already has a reader")):mh(this,t)},t.prototype.getReader=function(t){var n=(void 0===t?{}:t).mode;if(!1===wh(this))throw Ah("getReader");if(void 0===n)return ya(this,!0);if("byob"===(n=String(n)))return function(t,n){void 0===n&&(n=!1);var i=new fh(t);return i.$c=n,i}(this,!0);throw new RangeError("Invalid mode is specified")},t.prototype.pipeThrough=function(t,n){var i=t.writable,r=t.readable,e=void 0===n?{}:n,u=e.preventClose,s=e.preventAbort,o=e.preventCancel,a=e.signal;if(!1===wh(this))throw Ah("pipeThrough");if(!1===Ha(i))throw new l("writable argument to pipeThrough must be a WritableStream");if(!1===wh(r))throw new l("readable argument to pipeThrough must be a ReadableStream");if(u=Boolean(u),s=Boolean(s),o=Boolean(o),void 0!==a&&!bc(a))throw new l("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(!0===yh(this))throw new l("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(!0===Va(i))throw new l("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return ua(Rc(this,i,u,s,o,a)),r},t.prototype.pipeTo=function(t,n){var i=void 0===n?{}:n,r=i.preventClose,e=i.preventAbort,u=i.preventCancel,s=i.signal;return!1===wh(this)?Ko(Ah("pipeTo")):!1===Ha(t)?Ko(new l("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(r=Boolean(r),e=Boolean(e),u=Boolean(u),void 0===s||bc(s)?!0===yh(this)?Ko(new l("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):!0===Va(t)?Ko(new l("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Rc(this,t,r,e,u,s):Ko(new l("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal")))},t.prototype.tee=function(){if(!1===wh(this))throw Ah("tee");var t=function(t,n){var i,r,e,u,s,o=ya(t),a=!1,c=!1,h=!1,f=Jo(function(t){s=t});function v(){return!0===a?$o(void 0):(a=!0,ua(ea(Ra(o),function(t){if(a=!1,!0===t.done)return!1===c&&xc(e.oh),void(!1===h&&xc(u.oh));var n=t.value,i=n,r=n;!1===c&&Pc(e.oh,i),!1===h&&Pc(u.oh,r)})),$o(void 0))}function d(){}return e=_h(d,v,function(n){if(c=!0,i=n,!0===h){var e=Uo([i,r]),u=mh(t,e);s(u)}return f}),u=_h(d,v,function(n){if(h=!0,r=n,!0===c){var e=Uo([i,r]),u=mh(t,e);s(u)}return f}),ra(o.yo,function(t){Bc(e.oh,t),Bc(u.oh,t)}),[e,u]}(this);return Uo(t)},t.prototype.getIterator=function(t){var n=(void 0===t?{}:t).preventCancel,i=void 0!==n&&n;if(!1===wh(this))throw Ah("getIterator");return function(t,n){void 0===n&&(n=!1);var i=ya(t),r=_.create(Na);return r.ah=i,r.hh=Boolean(n),r}(this,i)},t}();function _h(t,n,i,r,e){void 0===r&&(r=1),void 0===e&&(e=function(){return 1});var u=_.create(lh.prototype);return gh(u),Uc(u,_.create(Ic.prototype),t,n,i,r,e),u}function gh(t){t.nh="readable",t.th=void 0,t.ih=void 0,t.sh=!1}function wh(t){return!!Mo(t)&&!!_.prototype.hasOwnProperty.call(t,"oh")}function yh(t){return void 0!==t.th}function mh(t,n){return t.sh=!0,"closed"===t.nh?$o(void 0):"errored"===t.nh?Ko(t.ih):(kh(t),ea(t.oh[ga](n),Po))}function kh(t){t.nh="closed";var n=t.th;void 0!==n&&(Sa(n)&&(n.uh.forEach(function(t){t.ae(oa(void 0,!0,n.$c))}),n.uh=new sa),_a(n))}function ph(t,n){t.nh="errored",t.ih=n;var i=t.th;void 0!==i&&(Sa(i)?(i.uh.forEach(function(t){t._i(n)}),i.uh=new sa):(i.Gh.forEach(function(t){t._i(n)}),i.Gh=new sa),la(i,n))}function Ah(t){return new l("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}"symbol"==typeof xo.asyncIterator&&_.defineProperty(lh.prototype,xo.asyncIterator,{value:lh.prototype.getIterator,enumerable:!1,writable:!0,configurable:!0});var bh=function(){function t(t){var n=t.highWaterMark;this.highWaterMark=n}return t.prototype.size=function(){return 1},t}(),Th=function(){function t(t,n,i){void 0===t&&(t={}),void 0===n&&(n={}),void 0===i&&(i={});var r=n.size,e=n.highWaterMark,u=i.size,s=i.highWaterMark;if(void 0!==t.writableType)throw new RangeError("Invalid writable type specified");var o=Go(r);if(void 0===e&&(e=1),e=zo(e),void 0!==t.readableType)throw new RangeError("Invalid readable type specified");var a,c=Go(u);void 0===s&&(s=0),s=zo(s),function(t,n,i,r,e,u){function s(){return n}t.jh=function(t,n,i,r,e,u){void 0===e&&(e=1),void 0===u&&(u=function(){return 1});var s=_.create(Ma.prototype);return Fa(s),ec(s,_.create(rc.prototype),t,n,i,r,e,u),s}(s,function(n){return function(t,n){var i=t.Qh;if(!0===t.mh){var r=t.Yh;return ea(r,function(){var r=t.jh,e=r.nh;if("erroring"===e)throw r.ih;return xh(i,n)})}return xh(i,n)}(t,n)},function(){return function(t){var n=t.Zh,i=t.Qh,r=i.Jh();return Ch(i),ea(r,function(){if("errored"===n.nh)throw n.ih;var t=n.oh;!0===Mc(t)&&xc(t)},function(i){throw Sh(t,i),n.ih})}(t)},function(n){return function(t,n){return Sh(t,n),$o(void 0)}(t,n)},i,r),t.Zh=_h(s,function(){return function(t){return Ih(t,!1),t.Yh}(t)},function(n){return Rh(t,n),$o(void 0)},e,u),t.mh=void 0,t.Yh=void 0,t.$h=void 0,Ih(t,!0),t.Qh=void 0}(this,Jo(function(t){a=t}),e,o,s,c),function(t,n){var i=_.create(Nh.prototype),r=function(t){try{return Oh(i,t),$o(void 0)}catch(t){return Ko(t)}},e=n.transform;if(void 0!==e){if("function"!=typeof e)throw new l("transform is not a method");r=function(t){return Wo(e,n,[t,i])}}var u=Vo(n,"flush",0,[i]);!function(t,n,i,r){n.Kh=t,t.Qh=n,n.tf=i,n.Jh=r}(t,i,r,u)}(this,t);var h=Xo(t,"start",[this.Qh]);a(h)}return _.defineProperty(t.prototype,"readable",{get:function(){if(!1===Eh(this))throw Bh("readable");return this.Zh},enumerable:!0,configurable:!0}),_.defineProperty(t.prototype,"writable",{get:function(){if(!1===Eh(this))throw Bh("writable");return this.jh},enumerable:!0,configurable:!0}),t}();function Eh(t){return!!Mo(t)&&!!_.prototype.hasOwnProperty.call(t,"Qh")}function Sh(t,n){Bc(t.Zh.oh,n),Rh(t,n)}function Rh(t,n){Ch(t.Qh),ac(t.jh.dh,n),!0===t.mh&&Ih(t,!1)}function Ih(t,n){void 0!==t.Yh&&t.$h(),t.Yh=Jo(function(n){t.$h=n}),t.mh=n}var Nh=function(){function t(){throw new l("TransformStreamDefaultController instances cannot be created directly")}return _.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Dh(this))throw Ph("desiredSize");return Lc(this.Kh.Zh.oh)},enumerable:!0,configurable:!0}),t.prototype.enqueue=function(t){if(!1===Dh(this))throw Ph("enqueue");Oh(this,t)},t.prototype.error=function(t){if(!1===Dh(this))throw Ph("error");var n;n=t,Sh(this.Kh,n)},t.prototype.terminate=function(){if(!1===Dh(this))throw Ph("terminate");!function(t){var n=t.Kh,i=n.Zh.oh;!0===Mc(i)&&xc(i);var r=new l("TransformStream terminated");Rh(n,r)}(this)},t}();function Dh(t){return!!Mo(t)&&!!_.prototype.hasOwnProperty.call(t,"Kh")}function Ch(t){t.tf=void 0,t.Jh=void 0}function Oh(t,n){var i=t.Kh,r=i.Zh.oh;if(!1===Mc(r))throw new l("Readable side is not in a state that permits enqueue");try{Pc(r,n)}catch(t){throw Rh(i,t),i.Zh.ih}(function(t){return!0!==Cc(t)})(r)!==i.mh&&Ih(i,!0)}function xh(t,n){return ea(t.tf(n),void 0,function(n){throw Sh(t.Kh,n),n})}function Ph(t){return new l("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function Bh(t){return new l("TransformStream.prototype."+t+" can only be used on a TransformStream")}var Lh,Mh=function(t){function n(n){var i;return(i=t.call(this,""+n.join("\n"),n[0])||this).causes=n,i}return qt(n,t),T(n,[{key:"name",get:function(){return"AggregateError"}}]),n}(Yt);function Uh(t){return n=[t],new lh({start:function(t){for(var i=0;i<n.length;i++){var r=n[i];t.enqueue(r)}t.close()}});var n}function Fh(t){return Uh(new k(t))}function Hh(t,n){return function(t,n){var i=n,r=t.getReader(),e=new se,u=function(){s();var t=new pi;r.cancel(t).catch(j),e.uo(t)},s=function(){i&&(i.ss(u),i=void 0)};i&&(i.Ju?u():i.us(u));var o=[];return vn.resolve(r.read()).then(function t(n){return n.done?(s(),vn.resolve(o)):(o.push(n.value),vn.resolve(r.read()).then(t))}).then(function(t){s(),e.eo(t)},function(t){s(),e.uo(t)}),e.ro}(t,n).then(function(t){return sr(t).buffer})}function Vh(t,n){var i=n,r=new Th,e=r.readable,u=r.writable,s=u.getWriter(),o=function(){i&&i.hs()};return s.closed.then(o,o),t.then(function(t){return i=void 0,s.releaseLock(),t.pipeTo(u).catch(j)},function(t){return i=void 0,s.releaseLock(),u.abort(t).catch(j)}),e}function Xh(t){var n=new Th,i=n.readable,r=n.writable;return t.pipeTo(r,{preventCancel:!0}).catch(function(t){var n;n=U(t)?t[0]===t[1]||Ai(t[0])&&Ai(t[1])?t[0]:new Mh(t):t,r.abort(n).catch(j)}),i.tee()}function Wh(t){return Qr(new k(t))}function qh(t){return Yr(t).buffer}!function(t){t[t.Wc=0]="Wc",t[t.nf=1]="nf"}(Lh||(Lh={}));var zh="content-type",Gh="text/plain;charset=UTF-8",jh=function(){function t(){}var n=t.prototype;return n.if=function(t){return this.rf(t).then(JSON.parse)},n.ef=function(t,n){switch(t){case Ro.Vc:return this.uf(n);case Ro.Xc:return this.if(n);case Ro.Wc:return this.sf();case Ro.pn:return this.rf(n);default:throw new l}},t}();function Qh(t,n,i){if(t instanceof jh)return t;if(t instanceof lh)return function(t,n){return new Zh({xu:Lh.Wc,sf:t,af:Yh(n)})}(t,i);var r=Yh(i),e=vn.resolve(t).then(function(t){return function(t,n){if(t){if("string"==typeof t)return{xu:Ro.pn,cf:t,af:n||Gh};if(t instanceof ArrayBuffer||er(t))return{xu:Ro.Vc,cf:ef(t),af:n};if(V(t)||U(t))return{xu:Ro.Xc,cf:t,af:n};throw new l("Unsupported BodyInit type")}return{xu:Ro.pn,cf:null,af:n}}(t,r)});return new Zh({xu:Lh.nf,ro:e,hf:n})}function Yh(t){return(t.get(zh)||"").toLowerCase()}var Zh=function(t){function n(n){var i;return(i=t.call(this)||this).ff=!1,i.vf=new se,i.vf.ro.catch(j),i.df(n),i}qt(n,t);var i=n.prototype;return i.lf=function(){return this.vf.ro},i.rf=function(t){return this._f(Jh,t)},i.if=function(t){return this._f(Kh,t)},i.uf=function(t){return this._f(nf,t)},i.sf=function(){return this.gf((t=this.wf).xu===Lh.Wc?t.sf:Vh(t.ro.then(rf).then(Fh),t.hf));var t},i._f=function(t,n){if(this.ff)return vn.reject(new l("Already used"));this.ff=!0;var i=t(this.wf,n);return this.vf.eo(i.then(j)),i},i.gf=function(t){if(this.ff)throw new l("Already used");if(t.locked)throw new l("Body stream is locked");this.ff=!0;var n=new Th,i=vn.resolve(t.pipeTo(n.writable));return this.vf.eo(i),n.readable},i.df=function(t){this.wf=t,t.xu===Lh.nf&&t.ro.catch(j)},i.yf=function(){if(this.ff)throw new l("Already used");var t=function(t){if(t.xu===Lh.Wc){var n=t.sf.tee(),i=n[0],r=n[1];return[{xu:t.xu,sf:i,af:t.af},{xu:t.xu,sf:r,af:t.af}]}var e=t.hf.vs(),u=e[0],s=e[1];return[{xu:t.xu,ro:t.ro,hf:u},{xu:t.xu,ro:t.ro,hf:s}]}(this.wf),i=t[0],r=t[1];return this.df(i),new n(r)},T(n,[{key:"mf",get:function(){return this.ff}}]),n}(jh);function Jh(t,n){return t.xu===Lh.Wc?Hh(t.sf,n).then(Wh):(n&&t.hf.fs(n),Ri(t.ro.then($h),t.hf))}function $h(t){switch(t.xu){case Ro.pn:return vn.resolve(t.cf||"");case Ro.Vc:return vn.resolve(t.cf).then(Wh);case Ro.Xc:return vn.resolve(t.cf).then(JSON.stringify)}}function Kh(t,n){return t.xu===Lh.Wc?Jh(t,n).then(JSON.parse):(n&&t.hf.fs(n),Ri(t.ro.then(tf),t.hf))}function tf(t){return t.xu===Ro.Xc?vn.resolve(t.cf):$h(t).then(JSON.parse)}function nf(t,n){return t.xu===Lh.Wc?Hh(t.sf,n):(n&&t.hf.fs(n),Ri(t.ro.then(rf),t.hf))}function rf(t){switch(t.xu){case Ro.Vc:return vn.resolve(t.cf);case Ro.pn:case Ro.Xc:return $h(t).then(qh)}}function ef(t){return t instanceof ArrayBuffer?t:re(Kr(t)).buffer}function uf(t){return t.kf>=200&&t.kf<=299||304===t.kf}var sf,of,af,cf,hf=function(t){function n(n,i){var r,e,u,s,o,a;i?(e=i.pf,u=i.Af,s=i.kf,o=i.bf,a=i.Tf):(e=[],u=Ro.pn,s=200,o="OK",a=!1);var c=n.Ef,h=new Do(n.pf||e),f=n.Af||u,v=n.Sf||(i&&i.Ef===c?i.Sf:c.Rf),d=i?i.If:null,l=Qh(void 0!==n.Jn?n.Jn:d,n.hf||new ki,h);return(r=t.call(this,l)||this).pf=h,r.Ef=c,r.Sf=v,r.Af=f,r.kf=void 0!==n.kf?n.kf:s,r.bf=void 0!==n.bf?String(n.bf):o,r.Tf=n.Tf||a,r}qt(n,t);var i=n.prototype;return i.Jn=function(t){return this.ef(this.Af,t)},i.Js=function(){return new n({Jn:this.yf(),Ef:this.Ef},this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).If=n,i}qt(n,t);var i=n.prototype;return i.lf=function(){return this.If.lf()},i.rf=function(t){return this.If.rf(t)},i.if=function(t){return this.If.if(t)},i.uf=function(t){return this.If.uf(t)},i.sf=function(){return this.If.sf()},i.yf=function(){return this.If.yf()},T(n,[{key:"mf",get:function(){return this.If.mf}}]),n}(jh));!function(t){t.DELETE="DELETE",t.GET="GET",t.HEAD="HEAD",t.OPTIONS="OPTIONS",t.POST="POST",t.PUT="PUT"}(sf||(sf={})),function(t){t.Nf="",t.Df="manifest",t.Cf="segment",t.Of="content-protection"}(of||(of={})),function(t){t.Nf="",t.xf="initialization-segment",t.Pf="fairplay-license",t.Bf="fairplay-certificate",t.Lf="widevine-license",t.Mf="widevine-certificate",t.Uf="playready-license",t.Ff="clearkey-license",t.Hf="aes128-key"}(af||(af={})),function(t){t.Nf="",t.Vf="audio",t.Xf="video",t.pn="text",t.Wf="image"}(cf||(cf={}));var ff=function(t,n){var i,r,e,u,s,o,a,c,h,f,v,d=t.Rf;n?(i=n.cf,r=n.pf,e=n.qf,u=n.Af,s=n.zf,o=n.ds,a=n.xu,c=n.Gf,h=n.jf,f=n.Qf,v=n.Yf):(i=null,r={},e=sf.GET,u=Ro.pn,s=0,a=of.Nf,c=af.Nf,h=cf.Nf,f=!1),this.Rf=d,this.cf=t.cf||i,this.pf=new Do(t.pf||r),this.qf=t.qf||e,this.Af=t.Af||u,this.zf=void 0!==t.zf?Number(t.zf)||0:s,this.ds=t.ds||o||(new ki).ds,this.xu=t.xu||a,this.Gf=t.Gf||c,this.jf=t.jf||h,this.Qf=void 0!==t.Qf?Boolean(t.Qf):f,this.Yf=t.Yf||v},vf=function(){function t(){}var n=t.prototype;return n.Ef=function(t){var n=function(t){return new hf({Jn:null,pf:{},Ef:t,Sf:t.Rf,Af:t.Af,kf:0,bf:So.kc})}(new ff(t));return vn.resolve(n)},n.Zf=function(t){},n.Jf=function(){},t}();var df,lf=function(){function t(t,n){void 0===n&&(n=!0),this.$f=t,this.Kf=n}var n=t.prototype;return n.Ef=function(t){var n=this.tv(t);return this.$f.Ef(n)},n.Zf=function(t){return this.$f.Zf(this.nv(t))},n.tv=function(n){var i=new ff(n);if(!this.Kf){var r=t.rv(i.Rf);i=new ff({Rf:r},i)}return i},n.nv=function(n){var i=n.Rf;return this.Kf||(i=t.rv(i)),{Rf:i,cf:n.cf}},t.rv=function(t){return r.ev&&Qn(t,"http://")?t.replace(":","s:"):t},n.Jf=function(){this.$f.Jf()},T(t,null,[{key:"uv",get:function(){return t.sv||(t.sv=new t(new vf)),t.sv}}]),t}();lf.sv=void 0,function(t){t.ov="HttpOpenError",t.av="HttpResponseError",t.cv="HttpTimeoutError"}(df||(df={}));var _f=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).hv=n,e}return qt(n,t),T(n,[{key:"Ef",get:function(){return this.hv}}]),n}(Yt);var gf=function(t){function n(n,i){return t.call(this,n,"Error while opening "+n.Rf+". Invalid URL.",i)||this}return qt(n,t),T(n,[{key:"name",get:function(){return df.ov}}]),n}(_f);var wf=function(t){function n(n,i,r){var e;return(e=t.call(this,n.Ef,null!=r?r:function(t){return"Error while loading "+t.Ef.Rf+", status code "+t.kf}(n),i)||this).fv=n,e}return qt(n,t),T(n,[{key:"name",get:function(){return df.av}},{key:"vv",get:function(){return this.fv}}]),n}(_f);var yf=function(t){function n(n,i){return t.call(this,n,function(t){return"Request for "+t.Rf+" timed out after "+t.zf+" seconds."}(n),i)||this}return qt(n,t),T(n,[{key:"name",get:function(){return df.cv}}]),n}(_f),mf=function(t,n){return(mf=_.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])})(t,n)};function kf(t,n){function i(){this.constructor=t}mf(t,n),t.prototype=null===n?_.create(n):(i.prototype=n.prototype,new i)}var pf="object"==typeof u?u:"object"==typeof t?t:"object"==typeof global?global:null;var Af=function(){var t=pf.Blob;if(t)try{return new t,function(t,n){return new pf.Blob(t,n)}}catch(t){}var n,i=pf.BlobBuilder||pf.WebKitBlobBuilder||pf.MozBlobBuilder||pf.MSBlobBuilder;return i?(n=i,function(t,i){var r=new n;if(t)for(var e=0,u=t;e<u.length;e++){var s=u[e];r.append(s)}return r.getBlob(i&&i.type||"")}):null}(),bf="function"==typeof lh?lh:void 0;function Tf(t){return t&&"function"==typeof t.getReader}function Ef(t){if("function"!=typeof t)return!1;try{var n=!1,i=new t({start:function(){n=!0}});return!!n&&Tf(i)}catch(t){return!1}}var Sf=function(){function t(t,n){this.th=t,this.dv=n}return t.prototype.pull=function(t){var n=this;return this.th.read().then(function(i){n.dv&&n.dv(i),i.done?t.close():t.enqueue(i.value)})},t.prototype.cancel=function(t){return this.th.cancel(t)},t}();function Rf(t,n){return n.constructor===t?n:new t(new Sf(n.getReader()),{highWaterMark:0})}var If=function(){function t(t,n){this.lv=t,this.Fi=n}return t.prototype.pull=function(t){return this.lv().then(function(n){t.enqueue(new k(n)),t.close()})},t.prototype.cancel=function(t){this.Fi&&this.Fi(t)},t}();function Nf(t,n,i){return new t(new If(n,i),{highWaterMark:0})}var Df={searchParams:"URLSearchParams"in pf,iterable:"Symbol"in pf&&"iterator"in Symbol,blob:"FileReader"in pf&&!!Af,formData:"FormData"in pf,arrayBuffer:"ArrayBuffer"in pf,stream:Ef(bf),streamRequest:"Request"in pf&&"body"in pf.Request.prototype,streamResponse:"Response"in pf&&"body"in pf.Response.prototype,abort:"AbortController"in pf&&"Request"in pf&&"signal"in pf.Request.prototype,encoding:"TextEncoder"in pf&&"TextDecoder"in pf,url:"URL"in pf&&function(t){try{return new pf.URL(t).toString()===t}catch(t){return!1}}("http://example.com/"),firefox:"navigator"in pf&&/Firefox\//.test(pf.navigator.userAgent)};function Cf(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new l("Invalid character in header field name");return t}function Of(t){return"string"!=typeof t&&(t=String(t)),t}function xf(t){var n={next:function(){var n=t.shift();return{done:void 0===n,value:n}}};return Df.iterable&&(n[Symbol.iterator]=function(){return n}),n}var Pf=function(){function t(n){var i,r=this;this.Ru={},n instanceof t?n.asList().forEach(function(t){var n=t[0],i=t[1];r.append(n,i)}):Array.isArray(n)?n.forEach(function(t){r.append(t[0],t[1])}):(i=n,Df.iterable&&i&&i[Symbol.iterator]?Array.from(n).forEach(function(t){r.append(t[0],t[1])}):n&&_.getOwnPropertyNames(n).forEach(function(t){r.append(t,n[t])}))}return t.prototype.append=function(t,n){t=Cf(t),n=Of(n);var i=t.toLowerCase();if(this.Ru.hasOwnProperty(i)){var r=this.Ru[i],e=r[1];r[1]=e?e+", "+n:n}else this.Ru[i]=[t,n]},t.prototype.delete=function(t){var n=Cf(t).toLowerCase();delete this.Ru[n]},t.prototype.get=function(t){var n=Cf(t).toLowerCase();return this.Ru.hasOwnProperty(n)?this.Ru[n][1]:null},t.prototype.has=function(t){var n=Cf(t).toLowerCase();return this.Ru.hasOwnProperty(n)},t.prototype.set=function(t,n){var i=(t=Cf(t)).toLowerCase();this.Ru[i]=[t,Of(n)]},t.prototype.forEach=function(t,n){for(var i in this.Ru)this.Ru.hasOwnProperty(i)&&t.call(n,this.Ru[i][1],i,this)},t.prototype.keys=function(){var t=[];return this.forEach(function(n,i){t.push(i)}),xf(t)},t.prototype.values=function(){var t=[];return this.forEach(function(n){t.push(n)}),xf(t)},t.prototype.entries=function(){var t=[];return this.forEach(function(n,i){t.push([i,n])}),xf(t)},t.prototype.asList=function(){var t=[];for(var n in this.Ru)if(this.Ru.hasOwnProperty(n)){var i=this.Ru[n],r=i[0],e=i[1];t.push([r,e])}return t},t}();function Bf(){}Df.iterable&&(Pf.prototype[Symbol.iterator]=Pf.prototype.entries);var Lf,Mf,Uf,Ff=g.min,Hf=String.fromCharCode,Vf=16384;function Xf(t){for(var n=[],i=0,r=t;i<r.length;i++){var e=r[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return function(t){for(var n=t.length,i=[],r=0;r<n;r+=Vf){var e=Ff(r+Vf,n);i.push(Hf.apply(null,t.slice(r,e)))}return i.join("")}(n)}function Wf(t){if(t>=55296&&t<=57343)throw new d("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function qf(t,n){return t>>n&63|128}function zf(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Wf(t),n.push(t>>12&15|224),n.push(qf(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(qf(t,12)),n.push(qf(t,6))),n.push(63&t|128)):n.push(t)}function Gf(){if(Uf>=Mf)throw new d("Invalid byte index");var t=255&Lf[Uf];if(Uf++,128==(192&t))return 63&t;throw new d("Invalid continuation byte")}function jf(){var t,n;if(Uf>Mf)throw new d("Invalid byte index");if(Uf===Mf)return!1;if(t=255&Lf[Uf],Uf++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|Gf())>=128)return n;throw new d("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|Gf()<<6|Gf())>=2048)return Wf(n),n;throw new d("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|Gf()<<12|Gf()<<6|Gf())>=65536&&n<=1114111)return n;throw new d("Invalid UTF-8 detected")}var Qf=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];function Yf(t){return t&&URLSearchParams.prototype.isPrototypeOf(t)}function Zf(t){return t&&ArrayBuffer.prototype.isPrototypeOf(t)}function Jf(t){return t&&DataView.prototype.isPrototypeOf(t)}var $f,Kf=ArrayBuffer.isView||function(t){return t&&(Qf.indexOf(_.prototype.toString.call(t))>-1||Jf(t))};function tv(t){if(t.bodyUsed)return vn.reject(new l("Already used"));t.bodyUsed=!0}function nv(t){return new vn(function(n,i){t.onload=function(){n(t.result)},t.onerror=function(){i(t.error)}})}function iv(t){return Df.encoding?new pf.TextDecoder("utf-8").decode(new k(t)):Xf(function(t){Mf=(Lf=t).length,Uf=0;for(var n,i=[];!1!==(n=jf());)i.push(n);return i}(new k(t)))}function rv(t){return Df.encoding?(new pf.TextEncoder).encode(t).buffer:new k(function(t){for(var n=[],i=0,r=t;i<r.length;i++)zf(r[i],n);return n}(function(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&e)<<10)+(1023&u)+65536):(n.push(e),i--)}else n.push(e)}return n}(t))).buffer}function ev(t){var n=t.getReader(),i=[],r=function(t){var e=t.done,u=t.value;return e?vn.resolve(i):(i.push(u),n.read().then(r))};return n.read().then(r)}function uv(t){return ev(t).then(function(t){return function(t){for(var n=0,i=0,r=t;i<r.length;i++)n+=(a=r[i]).byteLength;for(var e=new k(n),u=0,s=0,o=t;s<o.length;s++){var a=o[s];e.set(a,u),u+=a.byteLength}return e}(t).buffer})}function sv(t){return t.slice?t.slice(0):ov(new k(t))}function ov(t){if(t.slice)return t.slice(0).buffer;var n=new k(t.byteLength);return n.set(new k(t.buffer,t.byteOffset,t.byteLength)),n.buffer}function av(t){var n=new FormData;return t.trim().split("&").forEach(function(t){if(t){var i=t.split("="),r=i.shift().replace(/\+/g," "),e=i.join("=").replace(/\+/g," ");n.append(decodeURIComponent(r),decodeURIComponent(e))}}),n}function cv(t){var n=t;if(n.bodyUsed)throw new l("Already used");if(n._v===$f.gv){if(!n.wv.tee)throw new d("could not clone ReadableStream body");var i=n.wv.tee(),r=i[0],e=i[1];return n.body=r,n.wv=r,n.yv=r,e}return n._v===$f.Vc?sv(n.wv):n._v===$f.nf?n.wv.then(cv):n.yv}!function(t){t[t.pn=0]="pn",t[t.mv=1]="mv",t[t.kv=2]="kv",t[t.Vc=3]="Vc",t[t.gv=4]="gv",t[t.nf=5]="nf"}($f||($f={}));var hv=function(){function t(n,i){this.bodyUsed=!1;var r,e,u,s=this;if(this.yv=n||null,n)if("string"==typeof n)this._v=$f.pn,this.wv=n;else if((u=n)&&"function"==typeof u.then)this._v=$f.nf,this.wv=vn.resolve(n).then(function(n){return new t(n,i)}),this.wv.catch(Bf);else if(Df.blob&&function(t){return t&&Blob.prototype.isPrototypeOf(t)}(n))this._v=$f.mv,this.wv=n;else if(Df.formData&&function(t){return t&&FormData.prototype.isPrototypeOf(t)}(n))this._v=$f.kv,this.wv=n;else if(Df.searchParams&&Yf(n))this._v=$f.pn,this.wv=n.toString();else if(Df.arrayBuffer&&(Zf(n)||Kf(n)))Jf(n)&&(this.yv=new k((e=n).buffer,e.byteOffset,e.byteLength)),this._v=$f.Vc,this.wv=Zf(r=n)?sv(r):ov(r);else{if(!Df.stream||!Tf(n))throw new d("unsupported BodyInit type");n=Rf(bf,n),this._v=$f.gv,this.wv=n,this.yv=n}else this._v=$f.pn,this.wv="";this.pv="",i.has("content-type")?this.pv=(i.get("content-type")||"").toLowerCase():("string"==typeof n?this.pv="text/plain;charset=UTF-8":s._v===$f.mv&&s.wv.type?this.pv=s.wv.type:Df.searchParams&&Yf(n)&&(this.pv="application/x-www-form-urlencoded;charset=UTF-8"),this.pv&&i.set("content-type",this.pv)),Df.stream&&(null==n?this.body=null:s._v===$f.gv?this.body=s.wv:this.body=Nf(bf,function(){return s.arrayBuffer()},function(){s.bodyUsed=!0}))}return t.prototype.text=function(){var t,n,i,r=tv(this);return r||(this._v===$f.mv?(t=this.wv,n=new FileReader,i=nv(n),n.readAsText(t),i):this._v===$f.Vc?vn.resolve(this.wv).then(iv):this._v===$f.gv?uv(this.wv).then(iv):this._v===$f.nf?this.wv.then(function(t){return t.text()}):this._v===$f.kv?vn.reject(new d("could not read FormData body as text")):vn.resolve(this.wv))},t.prototype.json=function(){return this.text().then(JSON.parse)},t}();Df.blob&&(hv.prototype.blob=function(){var t,n,i=tv(this);return i||(this._v===$f.mv?vn.resolve(this.wv):this._v===$f.Vc?vn.resolve(Af([this.wv],{type:this.pv})):this._v===$f.gv?(t=this.wv,n=this.pv,ev(t).then(function(t){return Af(t,{type:n||""})})):this._v===$f.nf?this.wv.then(function(t){return t.blob()}):this._v===$f.kv?vn.reject(new d("could not read FormData body as Blob")):vn.resolve(Af([this.wv],{type:this.pv})))}),Df.arrayBuffer&&(hv.prototype.arrayBuffer=function(){var t,n,i;return this._v===$f.Vc?tv(this)||vn.resolve(this.wv):this._v===$f.mv?tv(this)||(t=this.wv,n=new FileReader,i=nv(n),n.readAsArrayBuffer(t),i):this._v===$f.gv?uv(this.wv):this._v===$f.nf?tv(this)||this.wv.then(function(t){return t.arrayBuffer()}):this._v===$f.kv?vn.reject(new d("could not read FormData body as ArrayBuffer")):vn.resolve(this.wv).then(rv)}),Df.formData&&(hv.prototype.formData=function(){return this._v===$f.kv?tv(this)||vn.resolve(this.wv):this.text().then(av)});var fv=[301,302,303,307,308],vv=function(t){function n(n,i){var r=this,e=new Pf((i=i||{}).headers);return(r=t.call(this,n||null,e)||this).type="default",r.status=void 0===i.status?200:i.status,r.ok=r.status>=200&&r.status<300,r.statusText=void 0!==i.statusText?String(i.statusText):"",r.headers=e,r.url=i.url||"",r}return kf(n,t),n.prototype.clone=function(){return new n(cv(this),{status:this.status,statusText:this.statusText,headers:new Pf(this.headers),url:this.url})},n.error=function(){var t=new n(null,{status:0,statusText:""});return t.type="error",t},n.redirect=function(t,i){if(-1===fv.indexOf(i))throw new RangeError("Invalid status code");return new n(null,{status:i,headers:{location:t}})},n}(hv);var dv,lv=function(t,n){return t(n={exports:{}},n.exports),n.exports}(function(t,n){function i(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}function r(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),_.defineProperty(t,r.key,r)}}function e(t,n,i){return n&&r(t.prototype,n),i&&r(t,i),t}function u(t){return(u=_.setPrototypeOf?_.getPrototypeOf:function(t){return t.__proto__||_.getPrototypeOf(t)})(t)}function o(t,n){return(o=_.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t,n,i){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,i){var r=function(t,n){for(;!_.prototype.hasOwnProperty.call(t,n)&&null!==(t=u(t)););return t}(t,n);if(r){var e=_.getOwnPropertyDescriptor(r,n);return e.get?e.get.call(i):e.value}})(t,n,i||t)}_.defineProperty(n,"__esModule",{value:!0});var f=function(){function t(){i(this,t),_.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return e(t,[{key:"addEventListener",value:function(t,n){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(n)}},{key:"removeEventListener",value:function(t,n){if(t in this.listeners)for(var i=this.listeners[t],r=0,e=i.length;r<e;r++)if(i[r]===n)return void i.splice(r,1)}},{key:"dispatchEvent",value:function(t){var n=this;if(t.type in this.listeners){for(var i=function(i){c(function(){return i.call(n,t)})},r=this.listeners[t.type],e=0,u=r.length;e<u;e++)i(r[e]);return!t.defaultPrevented}}}]),t}(),v=function(t){function n(){var t,r,e;return i(this,n),r=this,(t=!(e=u(n).call(this))||"object"!=typeof e&&"function"!=typeof e?a(r):e).listeners||f.call(a(t)),_.defineProperty(a(t),"aborted",{value:!1,writable:!0,configurable:!0}),_.defineProperty(a(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new l("Super expression must either be null or a function");t.prototype=_.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&o(t,n)}(n,f),e(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),h(u(n.prototype),"dispatchEvent",this).call(this,t)}}]),n}(),d=function(){function t(){i(this,t),_.defineProperty(this,"signal",{value:new v,writable:!0,configurable:!0})}return e(t,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(n){void 0!==s?s.createEvent?(t=s.createEvent("Event")).initEvent("abort",!1,!1):(t=s.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(d.prototype[Symbol.toStringTag]="AbortController",v.prototype[Symbol.toStringTag]="AbortSignal"),n.AbortSignal=v,n.AbortController=d,n.default=d});(dv=lv)&&dv.__esModule&&_.prototype.hasOwnProperty.call(dv,"default")&&dv.default;lv.AbortSignal;var _v=lv.AbortController,gv=pf.DOMException;try{new gv}catch(t){(gv=function(t,n){d.call(this,t),this.name=n||"Error",d.captureStackTrace&&d.captureStackTrace(this,this.constructor)}).prototype=_.create(d.prototype),gv.prototype.constructor=gv}var wv=_v;function yv(t,n){if(!t.signal.aborted)if(n.aborted)t.abort();else{var i=function(){n.removeEventListener("abort",i),t.signal.removeEventListener("abort",i),t.abort()};n.addEventListener("abort",i),t.signal.addEventListener("abort",i)}}function mv(t,n,i){return new vn(function(r,e){if(n.signal.aborted)return t.catch(Bf),e(kv());var u=function(){n.signal.removeEventListener("abort",u),e(kv())};n.signal.addEventListener("abort",u),t.then(function(t){n.signal.removeEventListener("abort",u),r(t),i&&n.abort()},function(t){n.signal.removeEventListener("abort",u),e(t),i&&n.abort()})})}function kv(){return new gv("Aborted","AbortError")}var pv,Av="moz-chunked-arraybuffer";function bv(t){try{var n=new A;return n.open("GET","https://test"),n.responseType=t,n.responseType===t}catch(t){}return!1}!function(t){t[t.UNSENT=0]="UNSENT",t[t.OPENED=1]="OPENED",t[t.HEADERS_RECEIVED=2]="HEADERS_RECEIVED",t[t.LOADING=3]="LOADING",t[t.DONE=4]="DONE"}(pv||(pv={}));var Tv=function(){function t(t,n){var i=this;this.Av=!1,this.hv=t,this.bv=n,this.Tv=new A,this.Ev=new vn(function(t,n){i.Sv=t,i.Rv=n})}return t.prototype.send=function(){var t=this;return this.Iv().then(function(n){return t.Nv(n,t.bv),t.Ev})},t.prototype.Iv=function(){var t=this.hv;return t._v===$f.gv?t.arrayBuffer():vn.resolve(t.yv)},t.prototype.Dv=function(t){this.hv.onprogress&&this.hv.onprogress(t.loaded,t.lengthComputable?t.total:void 0)},t.prototype.Cv=function(t){this.Rv(t)},t.prototype.Ov=function(){this.Cv(new l("Network request failed"))},t.prototype.xv=function(){this.Cv(new l("Network request failed"))},t.prototype.Pv=function(){this.Cv(kv())},t.prototype.Nv=function(t,n){var i=this,r=this.hv,e=this.Tv,u=function(){return i.Bv()};if(r.signal.aborted)return this.Pv();e.onreadystatechange=function(){if(e.readyState>=pv.HEADERS_RECEIVED&&!i.Av){var t=function(t){var n=new Pf;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var i=t.split(":"),r=i.shift().trim();if(r){var e=i.join(":").trim();n.append(r,e)}}),n}(e.getAllResponseHeaders()||""),n={status:e.status,statusText:e.statusText,headers:t,url:e.responseURL||t.get("X-Request-URL")};i.Av=!0,i.Lv(n)}},e.onprogress=function(t){return i.Dv(t)},e.onload=function(){return i.Mv()},e.onerror=function(){return i.Ov()},e.ontimeout=function(){return i.xv()},e.onabort=function(){return i.Pv()},e.open(r.method,r.url,!0),e.withCredentials="include"===r.credentials,"responseType"in e&&n&&(e.responseType=n),r.headers.asList().forEach(function(t){var n=t[0],i=t[1];e.setRequestHeader(n,i)}),r.signal.addEventListener("abort",u),e.onloadend=function(){r.signal.removeEventListener("abort",u)},t?e.send(t):e.send()},t.prototype.Bv=function(){this.Tv.abort()},t}(),Ev=function(t){function n(n,i){var r=t.call(this,n,i)||this;return r.Uv=void 0,r.Fv=void 0,r}return kf(n,t),n.prototype.Lv=function(t){var n=this;this.Uv=new vn(function(t,i){n.Fv=t,n.Hv=i}),this.Sv(new vv(this.Uv,t))},n.prototype.Mv=function(){var t=this.Tv.response||this.Tv.responseText;this.Fv(t)},n.prototype.Cv=function(n){t.prototype.Cv.call(this,n),this.Hv&&this.Hv(n)},n}(Tv),Sv=function(t){function n(n){var i=t.call(this,n,Av)||this;return i.Vv=void 0,i.Xv=void 0,i.Wv=!1,i}return kf(n,t),n.prototype.Lv=function(t){var n=this;this.Vv=new bf({start:function(t){n.Xv=t},cancel:function(){n.Wv=!0,n.Bv()}}),this.Sv(new vv(this.Vv,t))},n.prototype.Dv=function(n){this.Wv||this.Xv.enqueue(new k(this.Tv.response)),t.prototype.Dv.call(this,n)},n.prototype.Mv=function(){this.Xv.close()},n.prototype.Cv=function(n){t.prototype.Cv.call(this,n),this.Xv&&!this.Wv&&(this.Wv=!0,this.Xv.error(n))},n}(Tv),Rv=function(){var t=Df.firefox&&bv(Av);return Rv=function(){return t},t},Iv=function(){var t;return t=Df.arrayBuffer&&bv("arraybuffer")?"arraybuffer":Df.blob&&bv("blob")?"blob":"",Iv=function(){return t},t};function Nv(t){return(Df.stream&&Rv()?new Sv(t):new Ev(t,Iv())).send()}var Dv=pf.fetch,Cv=pf.Request,Ov=(pf.Response,pf.AbortController);var xv=["http:","https:"];var Pv=function(){try{if(Df.streamRequest){var t=new Cv("about:blank",{body:"",method:"POST"}).body;if(t&&Ef(t.constructor))return t.constructor}}catch(t){}}();function Bv(t,n,i){var r;if(Df.stream){var e=void 0;if(Df.streamResponse){var u=t.body;e=u&&Rf(bf,u)}else e=Nf(bf,function(){return mv(t.arrayBuffer(),n,!0)},function(){n.abort()});e&&i&&(e=function(t,n,i){var r=0;return function(t,n,i){return new t(new Sf(n.getReader(),i),{highWaterMark:0})}(bf,t,function(t){var e=t.done,u=t.value;e?i=void 0===i?r:i:r+=u.byteLength,n(r,i)})}(e,i,Lv(t.headers))),r=e}else{var s=mv(t.arrayBuffer(),n,!0);i&&(s=function(t,n,i){return vn.resolve().then(function(){return n(0,i),t}).then(function(t){var r=t.byteLength;return n(r,i=void 0===i?r:i),t})}(s,i,Lv(t.headers))),r=s}return new vv(r,t)}function Lv(t){return t.has("content-length")?Number(t.get("content-length")):void 0}function Mv(t){var n=new wv;return t.signal&&yv(n,t.signal),function(t,n){var i,r,e=t;if(i=e._v===$f.gv?Df.streamRequest&&Pv?vn.resolve(Rf(Pv,e.wv)):mv(t.arrayBuffer(),n,!1):mv(vn.resolve(t.yv),n,!1),Df.abort){var u=new Ov;yv(u,n.signal),r=u.signal}return i.then(function(n){return new Cv(t.url,{body:n||void 0,credentials:t.credentials,headers:(i=t.headers,(i instanceof Pf?i:new Pf(i)).asList()),method:t.method,mode:t.mode,referrer:t.referrer,referrerPolicy:t.referrerPolicy,signal:r});var i})}(t,n).then(Dv).then(function(i){return Bv(i,n,t.onprogress)})}var Uv=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];var Fv=function(t){function n(i,r){var e,u,s,o,a,c,h,f,v,d=this,_=(r=r||{}).body||null;if(i instanceof n){if(i.bodyUsed)throw new l("Already used");e=i.url,u=i.credentials,r.headers||(s=new Pf(i.headers)),o=i.method,a=i.mode,c=i.referrer,h=i.referrerPolicy,f=i.signal,v=i.onprogress,_||null==i.yv||(_=i.yv,i.bodyUsed=!0)}else e=String(i),u="same-origin",o="GET",a="cors",c="about:client",h="",f=null,v=null;if(!r.headers&&s||(s=new Pf(r.headers)),r&&(c="about:client",h=""),(d=t.call(this,_,s)||this).url=e,d.headers=s,d.credentials=r.credentials||u,d.method=function(t){var n=t.toUpperCase();return Uv.indexOf(n)>-1?n:t}(r.method||o),d.mode=r.mode||a,d.signal=r.signal||f||(new wv).signal,d.referrer=void 0!==r.referrer?r.referrer:c,d.referrerPolicy=void 0!==r.referrerPolicy?r.referrerPolicy:h,d.onprogress=r.onprogress||v,("GET"===d.method||"HEAD"===d.method)&&_)throw new l("Body not allowed for GET or HEAD requests");return d}return kf(n,t),n.prototype.clone=function(){return new n(this,{body:cv(this)})},n}(hv),Hv="function"==typeof Dv&&Df.stream&&Df.streamResponse&&Df.url;function Vv(t,n){return new vn(function(i){var r=new Fv(t,n);i((Hv&&function(t){try{return xv.indexOf(new pf.URL(t,pf.location.href).protocol)>=0}catch(t){return!1}}(r.url)?Mv:Nv)(r))})}Vv.polyfill=!0;var Xv=function(){function t(t){this.qv=new ki,this.fv=void 0,this.zv=!1,this.hv=t,this.qv.fs(t.ds),this.vv=this.Gv()}var n=t.prototype;return n.Gv=function(){var t=vn.coroutine(fn.mark(function t(){var n,i,e,u,s,o,a,h,f=this;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:(n=this.hv).zf&&c(function(){f.zv=!0,f.qv.hs()},n.zf),t.prev=2,i=Vv(n.Rf,{method:n.qf,headers:n.pf.qc(),body:n.cf,credentials:n.Qf?"include":"same-origin",signal:zv(this.qv.ds),onprogress:n.Yf}),t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(2),new gf(n,t.t0);case 9:return t.prev=9,t.next=12,i;case 12:e=t.sent,t.next=20;break;case 15:throw t.prev=15,t.t1=t.catch(9),Ai(u=this.jv(t.t1))&&this.qv.hs(),u;case 20:if(s=e.url||n.Rf,o=0===e.status&&"file:"===(v=s,r.Ha(v).protocol)?200:e.status,a=new Wv(this,e,this.qv),h=new hf({Jn:a,Ef:n,Af:n.Af,pf:new Do(e.headers.asList()),kf:o,bf:e.statusText,Sf:s}),this.fv=h,!uf(h)){t.next=29;break}return t.abrupt("return",h);case 29:throw new wf(h);case 30:case"end":return t.stop()}var v},t,this,[[2,6],[9,15]])}));return function(){return t.apply(this,arguments)}}(),n.jv=function(t){return Ai(t)?this.zv?new yf(this.hv):new pi(t.message,t):this.fv?new wf(this.fv,t):new gf(this.hv,t)},t}(),Wv=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).vf=new se,e.Er=n,e.Qv=i,e.qv=r,e.vf.ro.catch(j),e}qt(n,t);var i=n.prototype;return i.lf=function(){return this.vf.ro},i.rf=function(t){return this._f(this.Qv.text(),t)},i.uf=function(t){return this._f(this.Qv.arrayBuffer(),t)},i.sf=function(){var t=this.Qv.body;return t?this.gf(t):Vh(this.uf().then(Fh),this.qv)},i.yf=function(){var t=this.Qv.clone(),i=this.qv.vs(),r=i[0],e=i[1];return this.qv=r,new n(this.Er,t,e)},i._f=function(t,n){var i=this;n&&this.qv.fs(n);var r=vn.resolve(t).catch(function(t){throw i.Er.jv(t)});return r=Ri(r,this.qv),this.vf.eo(r.then(j)),r},i.gf=function(t){var n=this,i=new Th,r=vn.resolve(t.pipeTo(i.writable,{preventAbort:!0})).catch(function(t){var r=n.Er.jv(t);throw i.writable.abort(r).catch(j),r});return r=Ri(r,this.qv),this.vf.eo(r.then(j)),i.readable},T(n,[{key:"mf",get:function(){return this.Qv.bodyUsed}}]),n}(jh),qv="abort";function zv(t){var n=new wv;if(t.Ju)n.abort();else if(!t.$u){var i=function(){r(),n.abort()},r=function r(){n.signal.removeEventListener(qv,i),t.ss(i),t.ss(r)};n.signal.addEventListener(qv,i),t.us(i),t.os(r)}return n.signal}function Gv(t,n,i){return new vn(function(r,e){if(i&&i.Ju)return e(new pi);var u=function(t){o(),r(t)},s=function(){o(),e(new pi)},o=function(){t.removeEventListener(n,u),i&&i.ss(s)};t.addEventListener(n,u),i&&i.us(s)})}var jv,Qv,Yv=function(){function t(){}var n=t.prototype;return n.Ef=function(t){return new Xv(t).vv},n.Zf=function(t){if(Sn&&Sn.sendBeacon)Sn.sendBeacon(t.Rf,To([t.cf],{type:t.af}));else{var n=t.af?{"Content-type":t.af}:void 0;Ci(this.Ef(new ff({qf:sf.POST,Rf:t.Rf,cf:t.cf,pf:n})))}},n.Jf=function(){},t}(),Zv=function(){function n(){var n;this.Yv=new Jt,this.Zv=new Jv,this.Jv=void 0,this.$v=(n=function(){if(P.nn)return new vo;if(P.Jt||P.$t)return new _o;if(P.rn)return new go;return new fo}(),P.Bt?new Io(n):P.Xt?new No(n):P.qt?new mo(n):P.Qt?new ko(n):new yo(n)),this.Kv=function(){if(P.Zt||P.Qt){var t=P.jt;if(void 0===t||Number(t)<42)return!1}return!0}(),this.td=void 0,this.nd=function(){if(t.URL)try{var n=new t.URL("b","http://a");return n.pathname="c d","http://a/c%20d"===n.href}catch(t){}return!1}(),t.performance&&t.performance.now?this.rd=function(){return t.performance.now()}:this.rd=Ft}var i=n.prototype;return i.ed=function(){it.apply(void 0,arguments)},i.ud=function(){rt.apply(void 0,arguments)},i.sd=function(){et.apply(void 0,arguments)},i.od=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];ut.apply(void 0,[t].concat(i))},i.wn=function(t,n){return c(t,n)},i.hd=function(t,n){return f(t,n)},i.gn=function(t){h(t)},i.fd=function(t){v(t)},i.En=function(t){return this.Yv.En(t)},i.Yu=function(){return this.vd.Yu()},i.qu=function(){return this.vd.qu()},i.Gu=function(){return this.vd.Gu()},i.zu=function(){return this.vd.zu()},i.Xu=function(){return this.vd.Xu()},i.ju=function(t,n){return this.vd.ju(t,n)},i.Wu=function(t){return this.vd.Wu(t)},i.Ha=function(t,n){return void 0===n&&(n=so(Tn)),new Ks(t,n)},i.Fa=function(n,i){if(void 0===i&&(i=so(Tn)),this.nd){var r=X(i)?i:i.toString();return new t.URL(n,r).href}return this.Ha(n,i).href},T(n,[{key:"vd",get:function(){return this.Jv||(this.Jv=new si(nu())),this.Jv}},{key:"dd",get:function(){return this.Zv}},{key:"ld",get:function(){return this.$v}},{key:"_d",get:function(){return this.Kv}},{key:"gd",get:function(){return Ao.rc()}},{key:"wd",get:function(){return{yd:Eo}}},{key:"md",get:function(){return a.connection&&a.connection.effectiveType||"default"}},{key:"kd",get:function(){return a.connection&&a.connection.type||"unknown"}},{key:"pd",get:function(){return{Ad:a&&a.userAgent.match(/Android /i)?"Android":"other",bd:Boolean(a&&a.userAgent.match(/Android 8.0.0/i))}}},{key:"Td",get:function(){return this.td||(this.td=new lf(new Yv)),this.td}},{key:"ev",get:function(){return s&&s.location&&"https:"===s.location.protocol}}]),n}(),Jv=function(){function t(){}return T(t,[{key:"Ed",get:function(){return a.oscpu}},{key:"ld",get:function(){return a.platform}},{key:"Sd",get:function(){return a.vendor}},{key:"Rd",get:function(){return a.vendorSub}}]),t}();jv=new Zv,r=jv,function(t){t.Id="Nd",t.Dd="Cd"}(Qv||(Qv={}));Qv.Id,Qv.Dd;var $v=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Od=void 0,r}return qt(n,t),T(n,[{key:"xd",get:function(){return this.Od||(this.Od=this.Pd()),this.Od}}]),n}(Vi);var Kv,td=function(t){function n(n){return t.call(this,n)||this}return qt(n,t),n}($v),nd=function(t){function n(n){return t.call(this,n)||this}return qt(n,t),n}(Vi),id=function(t){function n(n){var i;return(i=t.call(this,Qv.Id)||this).Bd=n,i}return qt(n,t),n.prototype.Pd=function(){return new rd(this.Bd.xd)},n}(td),rd=function(t){function n(n){var i;return(i=t.call(this,"addtrack")||this).track=n,i}return qt(n,t),n}(nd),ed=function(t){function n(n){var i;return(i=t.call(this,Qv.Dd)||this).Bd=n,i}return qt(n,t),n.prototype.Pd=function(){return new ud(this.Bd.xd)},n}(td),ud=function(t){function n(n){var i;return(i=t.call(this,"removetrack")||this).track=n,i}return qt(n,t),n}(nd);!function(t){t.Ld="Md",t.Ud="Fd",t.Hd="Vd",t.Xd="Wd",t.qd="zd",t.Gd="jd",t.Qd="Yd",t.Zd="Jd",t.$d="bo",t.Kd="tl",t.nl="il",t.QUALITY_UNAVAILABLE="qualityunavailable",t.NO_QUALITY="noquality"}(Kv||(Kv={}));var sd=function(t){function n(){var n;return(n=t.call(this)||this).ul=[],n.Od=void 0,n}qt(n,t);var i=n.prototype;return i.sl=function(t){return this.ul[t]},i.ol=function(t){return!(!t||li(this.ul,t))&&(this.ul.push(t),this.Od&&this.Od.push(t.xd),t.ps(Kv.Gd,this.gs),this.ys(new id(t)),!0)},i.al=function(t){if(!t)return!1;var n=this.ul.indexOf(t);return!(n<0)&&(di(this.ul,n),this.Od&&di(this.Od,n),t.Es(Kv.Gd,this.gs),this.ys(new ed(t)),!0)},i.cl=function(t){return li(this.ul,t)},i.hl=function(){for(var t=this.ul,n=t.length-1;n>=0;n-=1)this.al(t[n])},i.Jf=function(){this.hl(),this.Ts()},T(n,[{key:"fl",get:function(){return this.ul}},{key:"xd",get:function(){return this.Od||(this.Od=this.Pd()),this.Od}},{key:"vl",get:function(){return this.ul.length}}]),n}(Fi),od=function(t){function n(n){var i;return(i=t.call(this,Kv.Gd)||this).Bd=n,i}return qt(n,t),n.prototype.Pd=function(){return new ad(this.Bd.xd)},n}(td),ad=function(t){function n(n){var i;return(i=t.call(this,"change")||this).track=n,i}return qt(n,t),n}(nd),cd=function(t){function n(){var n;return(n=t.call(this)||this).dl=void 0,n.ll=function(t){var i=t.Bd;n.ol(i)},n._l=function(t){var i=t.Bd;n.al(i)},n}qt(n,t);var i=n.prototype;return i.gl=function(t){t.ps(Qv.Id,this.ll),t.ps(Qv.Dd,this._l)},i.wl=function(t){t.Es(Qv.Id,this.ll),t.Es(Qv.Dd,this._l)},i.Jf=function(){this.dl&&this.dl.Jf(),t.prototype.Jf.call(this)},T(n,[{key:"yl",get:function(){return this.dl},set:function(t){var n=this.dl;if(t!==n){if(n){this.wl(n);for(var i=0,r=n.fl;i<r.length;i++){var e=r[i];t&&t.cl(e)||this.al(e)}}if(this.dl=t,t){for(var u=[],s=0,o=t.fl;s<o.length;s++){var a=o[s];this.ol(a),this.ml(a)&&u.push(a)}this.gl(t);for(var c=0;c<u.length;c++){var h=u[c];h.ys(new od(h))}}}}}]),n}(sd),hd=_.freeze||Q;function fd(t,n,i){_.defineProperty(t,n,{writable:!1,enumerable:!0,value:i})}function vd(t,n){for(var i=0,r=_.getOwnPropertyNames(n);i<r.length;i++){var e=r[i];_.defineProperty(t,e,_.getOwnPropertyDescriptor(n,e))}return t}function dd(t){if(V(t)){var n={};for(var i in t)B.call(t,i)&&(n[i]=dd(t[i]));return n}if(U(t)){for(var r=new Array(t.length),e=0;e<r.length;e++)e in t&&(r[e]=dd(t[e]));return r}return t}function ld(t,n){return t===n||!(!t||!n)&&(!(!H(t)||!H(n))&&(F(t)?!!F(n)&&function(t,n){var i=t.length,r=n.length;if(i!==r)return!1;for(var e=0;e<i;e+=1)if(!ld(t[e],n[e]))return!1;return!0}(t,n):!F(n)&&function(t,n){var i=_.keys(t),r=_.keys(n);if(!i||!r||i.length!==r.length)return!1;for(var e=0;e<i.length;e++){var u=i[e];if(!B.call(n,u)||!ld(t[u],n[u]))return!1}return!0}(t,n)))}function _d(t,n){return t.constructor===n.constructor}function gd(t){for(var n={},i=0,r=_.keys(t);i<r.length;i++){var e=r[i],u=t[e];null!=u&&(n[e]=u)}return n}function wd(t){var n=t;if("string"==typeof n){if("true"===(n=n.toLowerCase()))return!0;if("false"===n)return!1}return Boolean(n)}function yd(t){return"string"==typeof t?""===t?NaN:Number(t):"boolean"==typeof t||null==t||t instanceof Date||"number"!=typeof Number(t)&&!t?NaN:Number(t)}function md(t){var n=yd(t);if(m(n))throw new d("Expected a valid number.");return n}function kd(t){return"string"==typeof t?t:""}function pd(t,n){return F(t)?function(t,n){if(!F(t))return[];for(var i=0|t.length,r=new Array(i),e=0;e<i;e++)r[e]=n(t[e]);return r}(t,n):n(t)}var Ad=[Qv.Id,Qv.Dd,Kv.Gd];function bd(t){var n,i=t.fl.map(function(t){return t.xd});return i.item=function(n){var i=0|n,r=t.sl(i);return r&&r.xd||void 0},i.addEventListener=function(t,i){n.ps(t,i)},i.removeEventListener=function(t,i){n.Es(t,i)},n=new Hi(i),t.ps(Ad,function(t){return n.ys(t.xd)}),i}function Td(){}function Ed(t){var n,i=[Kv.$d,Kv.Gd,Kv.Kd,Kv.nl,Kv.QUALITY_UNAVAILABLE],r={get activeQuality(){return t.kl&&t.kl.xd},get enabled(){return t.pl},set enabled(n){t.pl=wd(n)},get id(){return t.Al},get uid(){return t.bl},get kind(){return t.Tl},get label(){return t.El},set label(n){t.El=kd(n)},get language(){return t.Sl},get qualities(){return t.Rl.xd},set targetQuality(n){var i;(i=n?function(t,n){for(var i=[],r=0,e=t.Rl.fl;r<e.length;r++)for(var u=e[r],s=0;s<n.length;s++){var o=n[s];u.xd===o&&i.push(u)}return i}(t,U(n)?n:[n]):[]).length>0?t.Il=i:t.Il=void 0},get targetQuality(){if(t.Il)return 1===t.Il.length?t.Il[0].xd:t.Il.map(function(t){return t.xd})},addEventListener:function(t,i){var r=pd(t,kd);n.ps(r,i)},removeEventListener:function(t,i){var r=pd(t,kd);n.Es(r,i)}};return n=new Hi(r),t.ps(i,function(t){return n.ys(t.xd)}),_.defineProperty(r,"constructor",{value:Td}),r}function Sd(){}function Rd(t){var n=bd(t);return _.defineProperty(n,"constructor",{value:Sd}),n}var Id,Nd,Dd=function(t){function n(){return t.apply(this,arguments)||this}qt(n,t);var i=n.prototype;return i.Pd=function(){return Rd(this)},i.ml=function(t){return t.pl},n}(cd);function Cd(t){if("string"==typeof t){var n=t.toLowerCase();switch(n){case Id.Nl:case Id.Dl:case Id.Cl:return n}}else if("number"==typeof t)switch(t){case 0:return Id.Nl;case 1:return Id.Dl;case 2:return Id.Cl}return Id.Nl}function Od(){}function xd(t){var n,i=[Kv.Gd,Kv.$d,Kv.Ld,Kv.Ud,Kv.Hd,Kv.Xd,Kv.qd,Kv.Qd,Kv.Zd],r=[Nd.Ol],e={get kind(){return t.Tl},get label(){return t.El},set label(n){t.El=kd(n)},get language(){return t.Sl},get id(){return t.Al},get uid(){return t.bl},get inBandMetadataTrackDispatchType(){return t.xl},get mode(){return t.Pl},set mode(n){n!==Id.Cl&&n!==Id.Dl&&n!==Id.Nl||(t.Pl=n)},get type(){return t.xu},get readyState(){return Ld(t.Bl)},get cues(){return t.Pl===Id.Nl?null:t.Ll.xd},get activeCues(){return t.Pl===Id.Nl?null:t.Ml.xd},get src(){return t.Ul||""},addEventListener:function(t,i){var r=pd(t,kd);n.ps(r,i)},removeEventListener:function(t,i){var r=pd(t,kd);n.Es(r,i)}};return n=new Hi(t),t.ps(i,function(t){return n.ys(t.xd)}),t.ps(r,function(t){return n.ys(t)}),_.defineProperty(e,"constructor",{value:Od}),e}function Pd(){}function Bd(t){var n=bd(t);return _.defineProperty(n,"constructor",{value:Pd}),n}function Ld(t){return t}!function(t){t.Nl="disabled",t.Dl="hidden",t.Cl="showing"}(Id||(Id={})),function(t){t.Ol="error"}(Nd||(Nd={}));var Md=function(t){function n(){return t.apply(this,arguments)||this}qt(n,t);var i=n.prototype;return i.Pd=function(){return Bd(this)},i.ml=function(t){return t.Pl===Id.Cl},n}(cd),Ud=function(t){function n(){return t.apply(this,arguments)||this}qt(n,t);var i=n.prototype;return i.bs=function(n){t.prototype.bs.call(this,n)},i.Is=function(n){t.prototype.Is.call(this,n)},n}(Fi),Fd=function(t){function n(){return t.apply(this,arguments)||this}return qt(n,t),n}(Ud),Hd=function(t){function n(){return t.call(this,So._c)||this}return qt(n,t),n}(Vi),Vd=function(t){function n(n){var i;return(i=t.call(this,So.hc)||this).currentSource=n,i}return qt(n,t),n}(Vi),Xd=function(){function t(){}return t.Fl=function(n,i){var r=t.Hl(n,i);return r?t.Vl(r):0},t.Xl=function(){return r.md||"default"},t.Wl=function(){return r.kd||"unknown"},t.Hl=function(n,i){var e,u=null===(e=r.gd)||void 0===e?void 0:e.Ws(i),s=u&&JSON.parse(u);if(s&&s[n])return t.ql(s,n,i)},t.Vl=function(t){var n=t.availableBandwidth;return n||0},t.ql=function(n,i,r){if(!t.zl(n,i))return n[i];t.Gl(n,i,r)},t.Gl=function(t,n,i){var e;delete t[n],null===(e=r.gd)||void 0===e||e.ic(i,JSON.stringify(t))},t.zl=function(t,n){var i=t[n].storedTimestamp;if(!i)return!1;var r=new Date(i),e=(new Date).getTime();return r.setMonth(r.getMonth()+1)<=e},t.jl=function(t,n,i,r){var e;return dn(dn({},t),((e={})[n]={availableBandwidth:i,storedTimestamp:r},e))},t.Ql=function(n){var i=t.Xl();t.Yl(i,"theoplayer-stored-network-info",n,Ft())},t.Yl=function(n,i,e,u){var s,o,a=null===(s=r.gd)||void 0===s?void 0:s.Ws(i),c=a?JSON.parse(a):void 0,h=t.jl(c,n,e,u);null===(o=r.gd)||void 0===o||o.ic(i,JSON.stringify(h))},t.Zl=function(){var n=t.Xl();return t.Fl(n,"theoplayer-stored-network-info")},t}();var Wd,qd,zd,Gd,jd,Qd,Yd="1ADD53F3";function Zd(t){return{chromecast:function(t){return{appID:t&&t.appID?kd(t.appID):Yd}}(t?t.chromecast:void 0),strategy:function(t){switch(t){case"auto":return Wd.AUTO;case"manual":return Wd.MANUAL;case"disabled":return Wd.DISABLED;default:return Wd.MANUAL}}(t?t.strategy:void 0)}}function Jd(t){var n,i=zd.Jl;return(n=t)&&jn(n,"mpd")&&(i=zd.$l),function(t){return!!t&&jn(t,"m3u8")}(t)&&(i=zd.Kl),i}function $d(t){switch(t){case qd.t_:case qd.n_:return t;default:return qd.i_}}function Kd(t){return!!t&&Qn(t.toLowerCase(),zd.$l)}function tl(t){if(!t)return!1;var n=t.toLowerCase();return Qn(n,zd.Kl)||Qn(n,zd.r_)}function nl(t){return H(t)&&H(t.ssai)&&"google-dai"===t.ssai.integration}function il(t){return H(t)&&X(t.integration)&&"verizon-media"===t.integration}function rl(t){if(X(t))return!t;if(il(t))return!t.id;if(nl(t)){var n=t.ssai,i="live"===n.availabilityType&&n.assetKey,r="vod"===n.availabilityType&&n.contentSourceID&&n.videoID;return Boolean(i&&r)}return!t.src}function el(t){return Boolean(H(t)&&X(t.src))}function ul(t){return X(t)||el(t)||nl(t)||il(t)}function sl(t){if(t){if(ul(t))return rl(t);for(var n=0;n<t.length;n++){if(!rl(t[n]))return!1}return!0}return!0}function ol(){return{crossOrigin:qd.i_,useCredentials:!1,liveOffset:void 0,timeServer:void 0,hlsDateRange:!1,experimentalRendering:!1,nativeUiRendering:!1,lowLatency:!1,useNativePlayback:!1,dash:void 0,hls:void 0}}function al(){return dn(dn({},ol()),{src:void 0,type:zd.Jl,contentProtection:void 0,ssai:void 0,integrationData:void 0,isAdvertisement:void 0})}function cl(t){var n={allowedMimeTypes:void 0,preload:"midroll-and-postroll",showCountdown:!0,vpaidMode:Gd.ENABLED,googleImaConfiguration:{useNativeIma:!1}};return void 0===t?n:(void 0!==t.preload&&(n.preload=function(t){switch(t){case"none":return jd.NONE;case"midroll-and-postroll":default:return jd.MIDROLL_AND_POSTROLL}}(t.preload)),void 0!==t.showCountdown&&(n.showCountdown=wd(t.showCountdown)),void 0!==t.vpaidMode&&(n.vpaidMode=function(t){switch(t){case"insecure":return Gd.INSECURE;case"disabled":return Gd.DISABLED;case"enabled":default:return Gd.ENABLED}}(t.vpaidMode)),U(t.allowedMimeTypes)&&(n.allowedMimeTypes=t.allowedMimeTypes.filter(X)),void 0!==t.googleImaConfiguration&&(n.googleImaConfiguration=function(t){return void 0===t?{useNativeIma:!1}:{useNativeIma:wd(t.useNativeIma)}}(t.googleImaConfiguration)),n)}function hl(t){if(!F(t))return[];for(var n=[],i=0;i<t.length;i++){var r=t[i];V(r)&&n.push(r)}return n}function fl(t){return X(t.src)}!function(t){t.AUTO="auto",t.MANUAL="manual",t.DISABLED="disabled"}(Wd||(Wd={})),function(t){t.i_="",t.t_="anonymous",t.n_="use-credentials"}(qd||(qd={})),function(t){t.$l="application/dash+xml",t.Kl="application/vnd.apple.mpegurl",t.r_="application/x-mpegurl",t.Jl="video/mp4",t.e_="application/vnd.theoplayer.hesp+json",t.u_="application/vnd.theo.hesp+json"}(zd||(zd={})),function(t){t.ENABLED="enabled",t.INSECURE="insecure",t.DISABLED="disabled"}(Gd||(Gd={})),function(t){t.NONE="none",t.MIDROLL_AND_POSTROLL="midroll-and-postroll"}(jd||(jd={})),function(t){t[t.s_=0]="s_",t[t.o_=1]="o_",t[t.a_=2]="a_",t[t.c_=3]="c_",t[t.h_=4]="h_"}(Qd||(Qd={}));var vl,dl=function(t){function n(n,i){var r;return void 0===i&&(i=Qd.s_),(r=t.call(this,So.dc)||this).currentTime=n,r.readyState=i,r}return qt(n,t),n}(Vi),ll=function(t){function n(n){var i;return(i=t.call(this,So.Ac)||this).currentTime=n,i}return qt(n,t),n}(Vi),_l=function(t){function n(n){var i;return(i=t.call(this,So.bc)||this).currentTime=n,i}return qt(n,t),n}(Vi);!function(t){t.f_="canplay",t.v_="canplaythrough",t.d_="loadeddata",t.l_="loadedmetadata",t.Qd="readystatechange",t.__="waiting",t.g_="playing"}(vl||(vl={}));var gl,wl=[vl.f_,vl.v_,vl.d_,vl.l_,vl.Qd,vl.__,vl.g_],yl=function(t){function n(n,i){var r;return void 0===i&&(i=Qd.o_),(r=t.call(this,vl.l_)||this).currentTime=n,r.readyState=i,r}return qt(n,t),n}(Vi),ml=function(t){function n(n){var i;return(i=t.call(this,So.vc)||this).duration=n,i}return qt(n,t),n}(Vi),kl=function(t){function n(n,i){var r;return(r=t.call(this,So.Ec)||this).currentTime=n,r.playbackRate=i,r}return qt(n,t),n}(Vi),pl=function(t){function n(n,i){var r;return(r=t.call(this,So.Lc)||this).currentTime=n,r.currentProgramDateTime=i,r}return qt(n,t),n}(Vi),Al=function(t){function n(n){var i;return(i=t.call(this,So.lc)||this).currentTime=n,i}return qt(n,t),n}(Vi),bl=function(t){function n(n,i){var r;return void 0===i&&(i=Qd.a_),(r=t.call(this,vl.d_)||this).currentTime=n,r.readyState=i,r}return qt(n,t),n}(Vi),Tl=function(t){function n(n){var i;return(i=t.call(this,So.Nc)||this).currentTime=n,i}return qt(n,t),n}(Vi),El=function(t){function n(n){var i;return(i=t.call(this,So.Ic)||this).currentTime=n,i}return qt(n,t),n}(Vi),Sl=function(t){function n(n,i){var r;return(r=t.call(this,So.Mc)||this).currentTime=n,r.volume=i,r}return qt(n,t),n}(Vi),Rl=function(t){function n(n,i){var r;return void 0===i&&(i=Qd.c_),(r=t.call(this,vl.f_)||this).currentTime=n,r.readyState=i,r}return qt(n,t),n}(Vi),Il=function(t){function n(n,i){var r;return void 0===i&&(i=Qd.h_),(r=t.call(this,vl.v_)||this).currentTime=n,r.readyState=i,r}return qt(n,t),n}(Vi),Nl=function(t){function n(n,i){var r;return(r=t.call(this,vl.Qd)||this).currentTime=n,r.readyState=i,r}return qt(n,t),n}(Vi),Dl=function(t){function n(n){var i;return(i=t.call(this,Nd.Ol)||this).errorObject=n,i}return qt(n,t),n.prototype.Pd=function(){return this},T(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}($v);function Cl(t){switch(t){case gl.ALL:case gl.CONTENT:return t;default:return gl.NONE}}function Ol(t){var n,i,e,u=dd(t||{});return u.libraryLocation&&(u.libraryLocation=no(u.libraryLocation)),u.isEmbeddable=Boolean(u.isEmbeddable),u.cast=Zd(u.cast),u.ads=cl(u.ads),u.analytics=hl(u.analytics),u.mutedAutoplay=Cl(u.mutedAutoplay),u.allowNativeFullscreen=Boolean(u.allowNativeFullscreen),u.allowMixedContent=Boolean(u.allowMixedContent),u.persistVolume=Boolean(u.persistVolume),u.liveOffset=(n=u.liveOffset,Number(n)||void 0),u.hlsDateRange=(i=u.hlsDateRange,Boolean(i)),u.retainPlaybackRateOnSourceChange=Boolean(u.retainPlaybackRateOnSourceChange),u.license=X(e=u.license)?e:void 0,u.licenseUrl=function(t){if(!t)return;try{return no(t)}catch(t){return void r.ud("Invalid 'licenseUrl', falling back to default URL")}}(u.licenseUrl),u}function xl(t){return{w_:t.w_,y_:t.y_,m_:t.m_,Bs:t.Bs,k_:t.k_,p_:t.p_,A_:t.A_,b_:t.b_,Bl:t.Bl,T_:t.T_,E_:t.E_,S_:t.S_,R_:t.R_}}function Pl(t,n){var i=n.R_,r=n.p_;t.R_=i,t.p_=r}function Bl(t,n,i){if(n!==i){var r=n.w_,e=n.y_,u=n.p_,s=n.A_,o=n.b_,a=n.Bl,c=n.T_,h=(n.S_,n.E_,n.R_),f=i.w_,v=i.y_,d=i.m_,l=i.k_,_=i.p_,g=i.A_,w=i.b_,y=i.Bl,k=i.T_,p=(i.S_,i.E_,i.R_);a!==Qd.s_&&t.ys(new dl(f,y)),g&&!s?t.ys(new ll(f)):!g&&s&&t.ys(new _l(f)),y>=Qd.o_&&t.ys(new yl(f,y)),v===e||m(v)&&m(e)||t.ys(new ml(v)),w!==o&&t.ys(new kl(f,w)),f!==r&&t.ys(new pl(f,void 0)),d&&t.ys(new Al(f)),y>=Qd.a_&&t.ys(new bl(f,y)),k&&!c?t.ys(new Tl(f)):!k&&c&&t.ys(new El(f)),p===h&&_===u||t.ys(new Sl(f,p)),y>=Qd.c_&&t.ys(new Rl(f,y)),y>=Qd.h_&&t.ys(new Il(f,y)),y!==a&&t.ys(new Nl(f,y)),l&&t.ys(new Dl(l))}}!function(t){t.NONE="none",t.ALL="all",t.CONTENT="content"}(gl||(gl={}));var Ll=["analytic","golive","nogolive","bufferedchange","disablevideo","enablevideo","nativeseeking","nativeseeked"];function Ml(t){var n=pd(t,kd);return(X(n)?[n]:n).filter(function(t){return n=t,-1!==Ll.indexOf(n);var n})}var Ul=function(t){function n(){return t.call(this,"nativeseeking")||this}return qt(n,t),n}(Vi),Fl=function(t){function n(){return t.call(this,"nativeseeked")||this}return qt(n,t),n}(Vi),Hl=400,Vl={windowStart:.4,target:.4+.2,windowEnd:.8,maxOffset:3,targetAbrOffset:1},Xl=Wl(.5,Vl);function Wl(t,n){var i=g.max(1,t/n.windowStart);return{windowStart:i*n.windowStart,target:i*n.target,windowEnd:i*n.windowEnd,maxOffset:n.maxOffset+(i*n.windowEnd-n.windowEnd),targetAbrOffset:i*n.targetAbrOffset}}function ql(){var t;return t="Android"===r.pd.Ad?Xl:Vl,r.pd.bd?function(t){var n=t;r.pd.bd&&(n=Wl((Hl+250)/1e3,n));return n}(t):t}var zl,Gl=function(t){function n(){var n;return(n=t.call(this)||this).dl=void 0,n.Od=void 0,n.I_=ql(),n.dl=void 0,n}qt(n,t);var i=n.prototype;return i.gl=function(t){t.ps(Ll,this.gs)},i.wl=function(t){t.Es(Ll,this.gs)},i.N_=function(){return this.dl?this.dl.N_():vn.resolve()},i.Jf=function(){this.Ts(),this.dl&&this.wl(this.dl),this.dl=void 0},T(n,[{key:"yl",get:function(){return this.dl},set:function(t){var n=this.dl;t!==n&&(n&&this.wl(n),t&&this.gl(t),this.dl=t,this.dl&&(this.dl.D_=this.I_))}},{key:"xd",get:function(){var t;return this.Od||(this.Od=(t=this,{goLive:function(){return t.N_()},get isLive(){return t.C_},get currentServerLiveTime(){return t.O_},get currentLatency(){return t.x_},get latency(){return t.D_},set latency(n){t.D_=n},get manifest(){return t.P_},get metrics(){return t.B_},addEventListener:function(n,i){t.ps(Ml(n),i)},removeEventListener:function(n,i){t.Es(Ml(n),i)}})),this.Od}},{key:"O_",get:function(){var t;return null===(t=this.dl)||void 0===t?void 0:t.O_}},{key:"x_",get:function(){var t;return null===(t=this.dl)||void 0===t?void 0:t.x_}},{key:"C_",get:function(){return!!this.dl&&this.dl.C_}},{key:"D_",get:function(){return this.I_},set:function(t){this.dl&&(this.dl.D_=t),this.I_=t}},{key:"P_",get:function(){var t;return null===(t=this.dl)||void 0===t?void 0:t.P_}},{key:"B_",get:function(){var t;return null===(t=this.dl)||void 0===t?void 0:t.B_}}]),n}(Fi),jl=function(t){function n(n){var i;return(i=t.call(this)||this).L_=[],i.M_=!1,i.U_=new Dd,i.F_=new Dd,i.H_=new Md,i.V_=new Gl,i.X_=!1,i.W_(n),n.bs(i.gs),i.dl=n,i.U_.yl=n.q_,i.F_.yl=n.z_,i.H_.yl=n.G_,i.V_.yl=n.j_,i}qt(n,t);var i=n.prototype;return i.Q_=function(){this.dl.Q_()},i.Y_=function(){this.dl.Y_()},i.Z_=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Oi(this.L_.map(function(t){return t.Z_()})).then(j));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.J_=function(){return this.dl.J_()},i.K_=function(){var t=vn.coroutine(fn.mark(function t(n,i){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return bi(i),t.next=3,this.dl.K_(n,i);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.tg=function(){return this.yl.tg()},i.ng=function(){this.yl.ng()},i.ig=function(){this.yl.ig()},i.rg=function(){if(!this.M_){for(var t=0,n=this.L_;t<n.length;t++){n[t].rg()}this.M_=!0}},i.eg=function(t){this.dl.eg(t)},i.ug=function(){this.dl.ug()},i.sg=function(){this.dl.sg()},i.og=function(){this.dl.og()},i.ag=function(){return this.dl.ag()},i.cg=function(){return this.dl.cg()},i.hg=function(){for(var t=[],n=0,i=this.L_;n<i.length;n++){var r=i[n];t.push.apply(t,r.hg())}return t},i.fg=function(t){for(var n=!1,i=0,r=this.L_;i<r.length;i++){n=r[i].fg(t)||n}return n},i.ys=function(n){this.fg(n)||t.prototype.ys.call(this,n)},i.W_=function(t){this.L_.push(t)},i.vg=function(t){vi(this.L_,t)},i.dg=function(t){if(t!==this.dl){var n=this.dl;n.ug(),n.Is(this.gs);var i=xl(this),r=this.lg,e=this.cg();this.dl=t,this.U_.yl=t.q_,this.F_.yl=t.z_,this.H_.yl=t.G_,this.V_.yl=t.j_,Bl(this,i,this);var u=this.lg;u!==r&&this.ys(new Vd(u)),this.cg()!==e&&this.ys(new Hd),t.bs(this.gs),t.eg(n)}},i._g=function(){},i.Jf=function(){var t=vn.coroutine(fn.mark(function t(){var n,i,r;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.Ts(),this.dl.ug(),n=0,i=this.L_;case 3:if(!(n<i.length)){t.next=10;break}return r=i[n],t.next=7,r.Jf();case 7:n++,t.next=3;break;case 10:this.U_.Jf(),this.F_.Jf(),this.H_.Jf(),this.V_.Jf();case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.hl=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Oi(this.L_.map(function(t){return t.hl()})).then(j));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),T(n,[{key:"q_",get:function(){return this.U_}},{key:"G_",get:function(){return this.H_}},{key:"z_",get:function(){return this.F_}},{key:"gg",get:function(){return this.dl.gg}},{key:"wg",get:function(){return this.dl.wg},set:function(t){this.dl.wg=t}},{key:"lg",get:function(){return this.dl.lg}},{key:"w_",get:function(){return this.dl.w_},set:function(t){this.dl.w_=t}},{key:"y_",get:function(){return this.dl.y_}},{key:"yg",get:function(){return this.dl.yg}},{key:"m_",get:function(){return this.dl.m_}},{key:"Bs",get:function(){return this.dl.Bs}},{key:"k_",get:function(){return this.dl.k_}},{key:"j_",get:function(){return this.V_}},{key:"mg",get:function(){return this.dl.mg}},{key:"B_",get:function(){return function(t){for(var n=0,i=0,r=0,e=0,u=0,s={amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0},o=0;o<t.length;o++){var a=t[o];n+=a.kg,i+=a.pg,r+=a.Ag,e+=a.bg,u+=a.Tg,s.amountOfBufferedAudioSegments+=a.Eg.amountOfBufferedAudioSegments,s.amountOfBufferedVideoSegments+=a.Eg.amountOfBufferedVideoSegments}return{kg:n,pg:i,Ag:r,bg:e,Tg:u,Eg:s}}(this.L_.map(function(t){return t.B_}))}},{key:"p_",get:function(){return this.dl.p_},set:function(t){this.dl.p_=t}},{key:"Sg",get:function(){return this.dl.Sg}},{key:"A_",get:function(){return this.dl.A_}},{key:"b_",get:function(){return this.dl.b_},set:function(t){this.dl.b_=t}},{key:"Rg",get:function(){return this.dl.Rg}},{key:"Ig",get:function(){return this.dl.Ig},set:function(t){this.dl.Ig=t}},{key:"Bl",get:function(){return this.dl.Bl}},{key:"Ng",get:function(){return this.dl.Ng}},{key:"T_",get:function(){return this.dl.T_}},{key:"E_",get:function(){return this.dl.E_}},{key:"S_",get:function(){return this.dl.S_}},{key:"R_",get:function(){return this.dl.R_},set:function(t){this.dl.R_=t}},{key:"yl",get:function(){return this.dl},set:function(t){this.dg(t)}}]),n}(Fd),Ql=function(t){function n(n,i,r,e,u,s,o,a){var c;return(c=t.call(this,n,i,r)||this).url=e,c.status=u,c.statusText=s,c.response=o,c.systemCode=a,c}return qt(n,t),T(n,[{key:"name",get:function(){return"ContentProtectionError"}}]),n}(De);!function(t){t[t.ABORTED=1]="ABORTED",t[t.NETWORK=2]="NETWORK",t[t.DECODE=3]="DECODE",t[t.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",t[t.ENCRYPTED=5]="ENCRYPTED",t[t.LICENSE_INVALID=6]="LICENSE_INVALID",t[t.ADVERTISEMENT_ERROR=7]="ADVERTISEMENT_ERROR"}(zl||(zl={}));var Yl=function(t){function n(n,i,r,e){var u;return(u=t.call(this,i)||this).code=n,u.message=null!=i?i:"Unknown error",u.cause=r,u.systemCode=e,d.captureStackTrace&&d.captureStackTrace(jt(u),u.constructor),u}return qt(n,t),T(n,[{key:"name",get:function(){return"MediaError"}}]),n}(Qt);function Zl(t){fd(t,"MEDIA_ERR_ABORTED",zl.ABORTED),fd(t,"MEDIA_ERR_NETWORK",zl.NETWORK),fd(t,"MEDIA_ERR_DECODE",zl.DECODE),fd(t,"MEDIA_ERR_SRC_NOT_SUPPORTED",zl.SRC_NOT_SUPPORTED),fd(t,"MEDIA_ERR_ENCRYPTED",zl.ENCRYPTED)}function Jl(t){var i,r;return function(t){return t.category===n.ErrorCategory.CONTENT_PROTECTION}(t)?new Yl(zl.ENCRYPTED,t.message,null===(i=t.cause)||void 0===i?void 0:i.message,t.systemCode):new Yl(function(t){if(t===n.ErrorCode.MEDIA_ABORTED)return zl.ABORTED;if(t===n.ErrorCode.MANIFEST_LOAD_ERROR||t===n.ErrorCode.MEDIA_LOAD_ERROR||t===n.ErrorCode.SUBTITLE_LOAD_ERROR)return zl.NETWORK;if(t===n.ErrorCode.MEDIA_DECODE_ERROR)return zl.DECODE;if(t===n.ErrorCode.MEDIA_NOT_SUPPORTED)return zl.SRC_NOT_SUPPORTED;var i=n.ErrorCategory.fromCode(t);if(i===n.ErrorCategory.NETWORK)return zl.NETWORK;if(i===n.ErrorCategory.SOURCE)return zl.SRC_NOT_SUPPORTED;if(i===n.ErrorCategory.LICENSE)return zl.LICENSE_INVALID;if(i===n.ErrorCategory.CONTENT_PROTECTION)return zl.ENCRYPTED;if(i===n.ErrorCategory.AD)return zl.ADVERTISEMENT_ERROR;return zl.DECODE}(t.code),t.message,null===(r=t.cause)||void 0===r?void 0:r.message)}function $l(t){switch(t){case zl.ABORTED:return n.ErrorCode.MEDIA_ABORTED;case zl.NETWORK:return n.ErrorCode.NETWORK_ERROR;case zl.DECODE:return n.ErrorCode.MEDIA_DECODE_ERROR;case zl.SRC_NOT_SUPPORTED:return n.ErrorCode.SOURCE_NOT_SUPPORTED;case zl.ENCRYPTED:return n.ErrorCode.CONTENT_PROTECTION_ERROR;case zl.LICENSE_INVALID:return n.ErrorCode.LICENSE_ERROR;case zl.ADVERTISEMENT_ERROR:return n.ErrorCode.AD_ERROR}}Zl(Yl),Zl(Yl.prototype);var Kl,t_=function(t){function n(){return t.apply(this,arguments)||this}qt(n,t);var i=n.prototype;return i.ol=function(n){return t.prototype.ol.call(this,n)},i.Pd=function(){return Rd(this)},n}(sd);!function(t){t.Vf="audio",t.Xf="video",t.pn="text",t.Wf="image",t.Nf="unknown"}(Kl||(Kl={}));var n_=function(){function t(){this.Dg=[],this.Od=void 0}var n=t.prototype;return n.Cg=function(t){this.Dg.push(t),this.Od&&this.Od.push(t.xd)},n.sl=function(t){return this.Dg[t]},n.Og=function(t){return U(t)?_i(this.Dg,t):li(this.Dg,t)},T(t,[{key:"fl",get:function(){return this.Dg}},{key:"vl",get:function(){return this.Dg.length}},{key:"xd",get:function(){var t,n;return this.Od||(this.Od=((n=(t=this).fl.map(function(t){return t.xd})).item=function(n){var i=0|n,r=t.sl(i);return r&&r.xd||void 0},n)),this.Od}}]),t}(),i_=function(t){function n(n){var i;return(i=t.call(this,Kv.$d)||this).Bd=n,i}return qt(n,t),n.prototype.Pd=function(){return new r_(this.Bd.xd)},n}(td),r_=function(t){function n(n){var i;return(i=t.call(this,"update")||this).track=n,i}return qt(n,t),n}(nd),e_=0;function u_(){return e_++}var s_=0;var o_=0;var a_=0;var c_=function(t){function n(n){var i;return(i=t.call(this)||this).xu=Kl.Vf,i.xg=!1,i.Od=void 0,i.Pg=n,i.Bg=u_(),i.Lg=a_+++"",i.Mg=n.label,i.Dg=new n_,i.Ug(),i}qt(n,t);var i=n.prototype;return i.Fg=function(t){this.pl=t},i.Ug=function(){this.pl=this.Hg},T(n,[{key:"kl",get:function(){}},{key:"pl",get:function(){return this.xg},set:function(t){this.xg!==t&&(this.xg=t,this.Hg=t,this.ys(new od(this)))}},{key:"Hg",get:function(){return!!this.Pg.enabled},set:function(t){this.Pg.enabled=t}},{key:"xd",get:function(){return this.Od||(this.Od=Ed(this)),this.Od}},{key:"Al",get:function(){return this.Lg}},{key:"bl",get:function(){return this.Bg}},{key:"Tl",get:function(){return this.Pg.kind}},{key:"El",get:function(){return this.Mg},set:function(t){t!==this.Mg&&(this.Mg=t,this.ys(new i_(this)))}},{key:"Sl",get:function(){return this.Pg.language}},{key:"Pl",get:function(){return this.pl?"enabled":"disabled"}},{key:"Vg",get:function(){return this.Pg}},{key:"Rl",get:function(){return this.Dg}},{key:"Il",get:function(){},set:function(t){}}]),n}(Fi),h_=0;var f_,v_,d_,l_=function(t){function n(n){var i;return(i=t.call(this)||this).xu=Kl.Xf,i.xg=!1,i.Od=void 0,i.Pg=n,i.Bg=u_(),i.Lg=h_+++"",i.Dg=new n_,i.Mg=n.label,i.Ug(),i}qt(n,t);var i=n.prototype;return i.Ug=function(){this.pl=this.Hg},i.Fg=function(t){this.pl=t},T(n,[{key:"kl",get:function(){}},{key:"pl",get:function(){return this.xg},set:function(t){this.xg!==t&&(this.xg=t,this.Hg=t,this.ys(new od(this)))}},{key:"Hg",get:function(){return!!this.Pg.selected},set:function(t){this.Pg.selected=t}},{key:"xd",get:function(){return this.Od||(this.Od=Ed(this)),this.Od}},{key:"Al",get:function(){return this.Lg}},{key:"bl",get:function(){return this.Bg}},{key:"Tl",get:function(){return"main"}},{key:"El",get:function(){return this.Mg},set:function(t){t!==this.Mg&&(this.Mg=t,this.ys(new i_(this)))}},{key:"Sl",get:function(){return this.Pg.language}},{key:"Pl",get:function(){return this.pl?"enabled":"disabled"}},{key:"Vg",get:function(){return this.Pg}},{key:"Rl",get:function(){return this.Dg}},{key:"Il",get:function(){},set:function(t){}}]),n}(Fi),__=function(t){function n(n){var i;return(i=t.call(this,So.ec)||this).mg=n,i}return qt(n,t),n}(Vi);!function(t){t[t.NONE=0]="NONE",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t[t.ERROR=3]="ERROR"}(f_||(f_={})),function(t){t.DEFAULT="",t.SRT="srt",t.TTML="ttml",t.WEBVTT="webvtt",t.EMSG="emsg",t.EVENT_STREAM="eventstream",t.ID3="id3",t.CEA608="cea608",t.DATE_RANGE="daterange"}(v_||(v_={})),function(t){t.Xg="cue",t.Wg="region",t.qg="stylesheet"}(d_||(d_={}));var g_,w_,y_={"line-left":"start",center:"middle","line-right":"end"},m_={start:"line-left",middle:"center",end:"line-right"};function k_(t,n){if("auto"===t)switch(n){case"start":case"left":return"line-left";case"end":case"right":return"line-right";default:return"center"}return t}function p_(t,n){if("auto"===t)switch(n){case"start":case"left":return 0;case"end":case"right":return 100;default:return 50}return r=50,e="number"==typeof(i=t)?i:y(i),m(e)?r:e;var i,r,e}!function(t){t.zg="Gg",t.jg="Qg",t.$d="bo"}(g_||(g_={})),function(t){t.zg="enter",t.jg="exit",t.$d="update"}(w_||(w_={}));var A_=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).Yg=i,r}return qt(n,t),n}(td),b_=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).cue=i,r}return qt(n,t),n}(nd);function T_(t){var n,i=[g_.zg,g_.jg,g_.$d],r={get track(){return t.Bd.xd},get id(){return t.Al},get startTime(){return t.Zg},get endTime(){return t.Jg},get content(){return t.$g},addEventListener:function(t,i){var r=pd(t,kd);n.ps(r,i)},removeEventListener:function(t,i){var r=pd(t,kd);n.Es(r,i)}};return n=new Hi(r),t.ps(i,function(t){return n.ys(t.xd)}),r}function E_(){}function S_(t){return vd(T_(t),{get align(){return t.Kg},get line(){return t.tw},get lineAlign(){return t.nw},get position(){return t.iw},get positionAlign(){return t.rw},get region(){return t.ew?t.ew.xd:null},get size(){return t.js},get snapToLines(){return t.uw},get text(){return t.$g},get vertical(){return t.sw}})}var R_=.02;function I_(t,n){return Pt(t.Zg,n.Zg,R_)&&Pt(t.Jg,n.Jg,R_)&&t.Al===n.Al}var N_=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).Od=void 0,s.ow=void 0,s.aw=!1,s.cw="",s.hw=-1,s.fw=n,s.vw=i,s.dw=r,s.lw=Boolean(e),s.Lg=u||(o_++).toString(),s}qt(n,t);var i=n.prototype;return i.Pd=function(){return T_(this)},i._w=function(t){return this===t||_d(this,t)&&I_(this,t)},i.Jf=function(){this.Ts()},T(n,[{key:"Zg",get:function(){return this.fw},set:function(t){this.fw=t}},{key:"Jg",get:function(){return this.vw},set:function(t){this.vw=t}},{key:"Al",get:function(){return this.Lg},set:function(t){this.Lg=t}},{key:"xd",get:function(){return this.Od||(this.Od=this.Pd()),this.Od}},{key:"gw",get:function(){return this.aw},set:function(t){this.aw=t}},{key:"Bd",get:function(){return this.ow},set:function(t){this.ow=t}},{key:"$g",get:function(){return this.dw},set:function(t){this.dw=t}},{key:"ww",get:function(){return this.cw},set:function(t){this.cw=t}},{key:"yw",get:function(){return this.lw},set:function(t){this.lw=t}}]),n}(Fi);function D_(t,n){return t.$g===n.$g&&t.tw===n.tw&&t.nw===n.nw&&t.iw===n.iw&&t.rw===n.rw&&t.ew===n.ew&&t.uw===n.uw&&t.js===n.js&&t.Kg===n.Kg&&t.sw===n.sw}var C_=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n,i,r,e,u)||this).tw="auto",s.nw="start",s.iw="auto",s.rw="auto",s.ew=void 0,s.uw=!0,s.js=100,s.Kg="center",s.sw="",s}return qt(n,t),n.prototype._w=function(n){return this===n||_d(this,n)&&t.prototype._w.call(this,n)&&D_(this,n)},T(n,[{key:"xd",get:function(){return this.Od||(this.Od=S_(this)),this.Od}},{key:"xu",get:function(){return d_.Xg}}]),n}(N_);function O_(t){var n="number"==typeof t.tw?t.tw:y(t.tw);return m(n)||t.uw||!(n<0||n>100)?m(n)?t.uw?-1:100:n:100}function x_(t){return p_(t.iw,t.Kg)}function P_(t){return k_(t.rw,t.Kg)}function B_(t){var n=100,i=P_(t),r=x_(t);return"line-left"===i&&(n=100-r),"line-right"===i&&(n=r),"center"===i&&r<=50&&(n=2*r),"center"===i&&r>50&&(n=2*(100-r)),t.js<n?t.js:n}function L_(t){return{get id(){return t.Al},get identifier(){return t.Al},get lines(){return t.mw},get regionAnchorX(){return t.kw},get regionAnchorY(){return t.pw},get scrollValue(){return t.Aw},get viewportAnchorX(){return t.bw},get viewportAnchorY(){return t.Tw},get width(){return t.Ka}}}var M_,U_=function(){function t(t,n,i,r,e,u,s,o){this.Al=t,this.Ka=n,this.mw=i,this.kw=r,this.pw=e,this.bw=u,this.Tw=s,this.Aw=o}return T(t,[{key:"xd",get:function(){return this.Od||(this.Od=L_(this)),this.Od}},{key:"xu",get:function(){return d_.Wg}}]),t}();!function(t){t[t.Ew=0]="Ew",t[t.Sw=1]="Sw",t[t.Rw=-1]="Rw"}(M_||(M_={}));var F_=function(t,n){return(0|t)-(0|n)},H_=function(t,n){return t===n?M_.Ew:t<n?M_.Rw:t>n?M_.Sw:m(t)?m(n)?M_.Ew:M_.Sw:M_.Rw};function V_(t,n,i){return Pt(t,n,i)?M_.Ew:H_(t,n)}var X_=function(t,n){return Bt(t,n)?M_.Ew:H_(t,n)};var W_=function(){function t(){}var n=t.prototype;return n.Iw=function(t){return this.Nw()*t},n.Dw=function(t){return this.Cw(t)>0},n.Ow=function(t){return this.Cw(t)>=0},n.xw=function(t,n){return this.Bw(t).Pw(n)},n._w=function(t){return 0===this.Cw(t)},n.Lw=function(t){return this.Cw(t)<0},n.Pw=function(t){return this.Cw(t)<=0},n.Mw=function(){return this.Uw()?this.Fw():this},n.Hw=function(t){return this.Cg(t.Fw())},n.Bw=function(t){return this.Hw(t).Mw()},t}();function q_(t,n){return t.Vw()?n.Vw()?M_.Ew:M_.Sw:n.Vw()?M_.Rw:t.Xw()?n.Xw()&&t.Uw()===n.Uw()?M_.Ew:t.Uw()?M_.Rw:M_.Sw:n.Uw()?M_.Sw:M_.Rw}var z_=function(){function t(t,n){this.Ww=t,this.qw=n}t.zw=function(n,i,r){return r?new t(n.toUnsigned(),i.toUnsigned()):new t(n.toSigned(),i.toSigned())},t.Gw=function(n){return n.unsigned?new t(n,Ct.UZERO):new t(n,n.isNegative()?Ct.NEG_ONE:Ct.ZERO)},t.jw=function(n,i){if(m(n))return i?t.Qw:t.Yw;if(i){if(n<0)return t.Qw;if(n>=3.402823669209385e38)return t.Zw}else{if(n<=-1.7014118346046923e38)return t.Jw;if(n+1>=1.7014118346046923e38)return t.$w}return n<0?t.jw(-n,i).Fw():t.zw(Ct.fromNumber(n%0x10000000000000000),Ct.fromNumber(n/0x10000000000000000),i)};var n=t.prototype;return n.Kw=function(){return this.qw.unsigned},n.ty=function(){return this.Ww.isZero()&&this.qw.isZero()},n.Uw=function(){return this.qw.isNegative()},n.ny=function(){return this.Kw()?t.zw(this.Ww,this.qw,!1):this},n.iy=function(){return this.Kw()?this:t.zw(this.Ww,this.qw,!0)},n.ey=function(){return this.Ww},n.Nw=function(){return this.Uw()?-this.Fw().Nw():0x10000000000000000*this.qw.toNumber()+this.Ww.toUnsigned().toNumber()},n.uy=function(){return this.Ww.toInt()},n._w=function(t){return(this.Kw()===t.Kw()||this.qw.getHighBits()>>>31!=1||t.qw.getHighBits()>>>31!=1)&&(this.qw.toUnsigned().eq(t.qw.toUnsigned())&&this.Ww.toUnsigned().eq(t.Ww.toUnsigned()))},n.Cw=function(t){if(this._w(t))return M_.Ew;var n=this.Uw(),i=t.Uw();if(n&&!i)return M_.Rw;if(!n&&i)return M_.Sw;if(!this.Kw())return this.Hw(t).Uw()?M_.Rw:M_.Sw;var r=this.iy(),e=t.iy(),u=e.qw.comp(r.qw);return u>0||0===u&&e.Ww.gt(r.Ww)?M_.Rw:M_.Sw},n.Lw=function(t){return this.Cw(t)<0},n.Pw=function(t){return this.Cw(t)<=0},n.sy=function(t){return this.Cw(t)>0},n.oy=function(t){return this.Cw(t)>=0},n.ay=function(){return new t(this.Ww.not(),this.qw.not())},n.hy=function(n){return new t(this.Ww.and(n.Ww),this.qw.and(n.qw))},n.vy=function(n){return new t(this.Ww.or(n.Ww),this.qw.or(n.qw))},n.ly=function(n){var i=127&n;return 0===i?this:i<64?t.zw(this.Ww.shl(i),this.qw.shl(i).or(this.Ww.shru(64-i)),this.Kw()):t.zw(Ct.ZERO,this.Ww.shl(i-64),this.Kw())},n._y=function(n){var i=127&n;return 0===i?this:i<64?t.zw(this.Ww.shru(i).or(this.qw.shl(64-i)),this.qw.shr(i),this.Kw()):t.zw(this.qw.shr(i-64),this.qw.isNegative()?Ct.NEG_ONE:Ct.ZERO,this.Kw())},n.gy=function(n){var i=127&n;return 0===i?this:i<64?t.zw(this.Ww.shru(i).or(this.qw.shl(64-i)),this.qw.shru(i),this.Kw()):64===i?t.zw(this.qw,Ct.ZERO,this.Kw()):t.zw(this.qw.shru(i-64),Ct.ZERO,this.Kw())},n.Cg=function(n){var i=this.qw.high>>>16,r=65535&this.qw.high,e=this.qw.low>>>16,u=65535&this.qw.low,s=this.Ww.high>>>16,o=65535&this.Ww.high,a=this.Ww.low>>>16,c=65535&this.Ww.low,h=n.qw.high>>>16,f=65535&n.qw.high,v=n.qw.low>>>16,d=65535&n.qw.low,l=n.Ww.high>>>16,_=65535&n.Ww.high,g=n.Ww.low>>>16,w=0,y=0,m=0,k=0,p=0,A=0,b=0,T=0;b+=(T+=c+(65535&n.Ww.low))>>>16,T&=65535,A+=(b+=a+g)>>>16,b&=65535,p+=(A+=o+_)>>>16,A&=65535,k+=(p+=s+l)>>>16,p&=65535,m+=(k+=u+d)>>>16,k&=65535,y+=(m+=e+v)>>>16,m&=65535,w+=(y+=r+f)>>>16,y&=65535,w+=i+h,w&=65535;var E=this.Kw(),S=Ct.fromBits(m<<16|k,w<<16|y,E),R=Ct.fromBits(b<<16|T,p<<16|A,E);return t.zw(R,S,E)},n.Hw=function(t){return this.Cg(t.Fw())},n.Fw=function(){return this.ay().Cg(t.wy)},n.yy=function(n){if(this.ty()||n.ty())return this.Kw()?t.Qw:t.Yw;if(this.Uw())return n.Uw()?this.Fw().yy(n.Fw()):this.Fw().yy(n).Fw();if(n.Uw())return this.yy(n.Fw()).Fw();if(this.qw.isZero()&&0===this.Ww.high&&n.qw.isZero()&&0===n.Ww.high)return t.Gw(this.Ww.multiply(n.Ww));var i=Ct.fromBits(4294967295,0,!0),r=this.Ww.and(i),e=this.Ww.shru(32),u=this.qw.and(i),s=this.qw.shru(32),o=n.Ww.and(i),a=n.Ww.shru(32),c=n.qw.and(i),h=n.qw.shru(32),f=Ct.UZERO,v=Ct.UZERO,d=Ct.UZERO,l=Ct.UZERO;f=f.add(r.mul(o)),v=v.add(f.shru(32)),f=f.and(i),v=v.add(e.mul(o)),d=d.add(v.shru(32)),v=(v=v.and(i)).add(r.mul(a)),d=d.add(v.shru(32)),v=v.and(i),d=d.add(u.mul(o)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(e.mul(a)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(r.mul(c)),l=l.add(d.shru(32)),d=d.and(i),l=l.add(s.mul(o)).add(u.mul(a)).add(e.mul(c)).add(r.mul(h)).and(i);var _=Ct.fromBits(f.getLowBitsUnsigned(),v.getLowBitsUnsigned(),!0),g=Ct.fromBits(d.getLowBitsUnsigned(),l.getLowBitsUnsigned(),!0);return t.zw(_,g,this.Kw())},n.my=function(n){var i,r,e=n;if(e.ty())throw new RangeError("division by zero");if(this.ty())return this.Kw()?[t.Qw,t.Qw]:[t.Yw,t.Yw];if(this.Kw()){if(e.Kw()||(e=e.iy()),e.sy(this))return[t.Qw,this];if(e.sy(this.gy(1)))return[r=t.ky,i=this.Hw(e)];r=t.Qw}else{if(this._w(t.Jw)){if(e._w(t.wy)||e._w(t.py))return[t.Jw,t.Yw];if(e._w(t.Jw))return[t.wy,t.Yw];var u=this._y(1).Ay(e).ly(1);return u._w(t.Yw)?r=e.Uw()?t.wy:t.py:(i=this.Hw(e.yy(u)),r=u.Cg(i.Ay(e))),[r,i=this.Hw(e.yy(r))]}if(e._w(t.Jw))return this.Kw()?[t.Qw,this]:[t.Yw,this];if(this.Uw()){if(e.Uw())return this.Fw().my(e.Fw());var s=this.Fw().my(e);return r=s[0],i=s[1],[r.Fw(),i.Fw()]}if(e.Uw()){var o=this.my(e.Fw());return r=o[0],i=o[1],[r.Fw(),i.Fw()]}r=t.Yw}for(i=this;i.oy(e);){for(var a=g.max(1,g.floor(i.Nw()/e.Nw())),c=g.ceil(g.log(a)/g.LN2),h=c<=48?1:g.pow(2,c-48),f=t.jw(a),v=f.yy(e);v.Uw()||v.sy(i);)a-=h,v=(f=t.jw(a,this.Kw())).yy(e);f.ty()&&(f=t.wy),r=r.Cg(f),i=i.Hw(v)}return[r,i]},n.Ay=function(t){return this.my(t)[0]},n.by=function(t){return this.my(t)[1]},n.toString=function(n){var i=n||10;if(i<2||i>36)throw new RangeError("radix");if(this.ty())return"0";if(this.Uw()){if(this._w(t.Jw)){var r=t.jw(i),e=this.Ay(r),u=e.yy(r).Hw(this);return e.toString(i)+u.uy().toString(i)}return"-"+this.Fw().toString(i)}for(var s=t.jw(g.pow(i,6),this.Kw()),o=this,a="";;){var c=o.Ay(s),h=(o.Hw(c.yy(s)).uy()>>>0).toString(i);if((o=c).ty())return h+a;for(;h.length<6;)h="0"+h;a=String(h)+a}},t}();z_.Yw=z_.Gw(Ct.ZERO),z_.Qw=z_.Gw(Ct.UZERO),z_.wy=z_.Gw(Ct.ONE),z_.ky=z_.Gw(Ct.UONE),z_.py=z_.Gw(Ct.NEG_ONE),z_.$w=z_.zw(Ct.NEG_ONE,Ct.MAX_VALUE,!1),z_.Zw=z_.zw(Ct.MAX_UNSIGNED_VALUE,Ct.MAX_UNSIGNED_VALUE,!0),z_.Jw=z_.zw(Ct.ZERO,Ct.MIN_VALUE,!1);var G_=function(){function t(t,n){void 0===n&&(n=1),this.Ty=t,this.Ey=n}t.Sy=function(n){return new t(g.ceil(n.Ty),n.Ey)},t.Ry=function(n){return new t(g.floor(n.Ty),n.Ey)},t.Iy=function(t,n){return t.Ow(n)?t:n},t.Ny=function(t,n){return t.Pw(n)?t:n};var n=t.prototype;return n.Cg=function(n){return this.Ey>=n.Ey?new t(this.Ty+n.Dy(this.Ey).Ty,this.Ey):new t(this.Dy(n.Ey).Ty+n.Ty,n.Ey)},n.Dw=function(t){return t.Lw(this)},n.Ow=function(t){return t.Pw(this)},n.Bw=function(n){return this.Ey>=n.Ey?new t(g.abs(this.Ty-n.Dy(this.Ey).Ty),this.Ey):n.Bw(this)},n.xw=function(t,n){return this.Bw(t).Pw(n)},n.Cw=function(t){return i=t,(n=this).Ey>=i.Ey?X_(n.Ty,i.Dy(n.Ey).Ty):X_(n.Dy(i.Ey).Ty,i.Ty);var n,i},n._w=function(t){return 0===this.Cw(t)},n.Lw=function(t){return this.Cw(t)<0},n.Pw=function(t){return this.Cw(t)<=0},n.Dy=function(n){return new t(this.Ty*(n/this.Ey),n)},n.Hw=function(n){return this.Ey>=n.Ey?new t(this.Ty-n.Dy(this.Ey).Ty,this.Ey):new t(this.Dy(n.Ey).Ty-n.Ty,n.Ey)},n.Cy=function(n){return new t(this.Ty*n,this.Ey)},T(t,[{key:"Xw",get:function(){return!isFinite(this.Ty)}},{key:"Oy",get:function(){return this.Ty/this.Ey}}]),t}();G_.xy=new G_(1/6,1),G_.Yw=new G_(0),G_.Py=new G_(1/0),G_.By=1e6;var j_=function(t){function n(n,i){var r;return(r=t.call(this)||this).xn=n.toSigned(),r.Ey=i>>>0,r}qt(n,t),n.Ly=function(t,i){return void 0===i&&(i=1e6),n.jw(t*i,i)},n.jw=function(t,i){return m(t)?n.My:t===1/0?n.Uy:t===-1/0?n.Fy:new n(Ct.fromNumber(t),i)},n.Gw=function(t,i){return new n(t,i)},n.Hy=function(t){return n.Ly(t.Oy,1e6)},n.Vy=function(t){return new n(Ct.fromNumber(t.getTime()),1e3)},n.Iy=function(t,n){return t.Ow(n)?t:n},n.Ny=function(t,n){return t.Pw(n)?t:n},n.Xy=function(t,i,r){return n.Iy(i,n.Ny(r,t))};var i=n.prototype;return i.Uw=function(){return this.xn.isNegative()},i.ty=function(){return 0!==this.Ey&&this.xn.isZero()},i.Xw=function(){return 0===this.Ey&&!this.xn.isZero()},i.Vw=function(){return 0===this.Ey&&this.xn.isZero()},i.Nw=function(){if(0===this.Ey)return this.xn.isZero()?NaN:this.xn.isNegative()?-1/0:1/0;var t=this.xn.divide(this.Ey),n=this.xn.subtract(t.multiply(this.Ey));return t.toNumber()+n.toNumber()/this.Ey},i.ey=function(){if(0===this.Ey)throw new d("Failed to convert timestamp");return this.xn},i.Wy=function(){return new Date(0===this.Ey?NaN:this.Dy(1e3).xn.toNumber())},i.qy=function(){return new G_(0===this.Ey?this.Nw():this.xn.toNumber(),this.Ey)},i.Dy=function(t,i){void 0===i&&(i=Z_.zy);var r=this.Ey;if(r===t)return this;if(0===r)return this;var e=Ut(r,t);return new n(function(t,n,i){var r=t.my(n),e=r[0],u=r[1];if(u.ty())return e;if(i===Z_.zy)return u.Uw()?e.Hw(z_.wy):e;if(i===Z_.Gy)return u.Uw()?e:e.Cg(z_.wy);var s=u.yy(z_.jw(2));return s.Uw()?s.Fw().Lw(n)?e:e.Hw(z_.wy):s.Lw(n)?e:e.Cg(z_.wy)}(z_.Gw(this.xn).yy(z_.jw(t/e)),z_.jw(r/e),i).ey(),t)},i.Cw=function(t){if(this===t)return M_.Ew;if(0===this.Ey||0===t.Ey)return q_(this,t);if(this.ty())return t.ty()?M_.Ew:t.Uw()?M_.Sw:M_.Rw;if(t.ty())return this.Uw()?M_.Rw:M_.Sw;var n=g.min(this.Ey,t.Ey),i=this.Dy(n,Z_.jy).xn,r=t.Dy(n,Z_.jy).xn;return i.compare(r)},i.Fw=function(){return 0===this.Ey?Q_(this):new n(this.xn.negate(),this.Ey)},i.Cg=function(t){if(0===this.Ey||0===t.Ey)return Y_(this,t);if(this.ty())return t;if(t.ty())return this;var i=g.max(this.Ey,t.Ey),r=this.Dy(i,Z_.jy),e=t.Dy(i,Z_.jy);return new n(r.xn.add(e.xn),i)},i.yy=function(t){if(this.Vw()||m(t))return n.My;if(this.Xw()||!isFinite(t)){if(this.ty()||0===t)return n.My;var i=this.Uw()?n.Fy:n.Uy;return t<0?i.Fw():i}return this.ty()?this:new n(0===t?Ct.ZERO:this.xn.multiply(t),this.Ey)},i.Ay=function(t){if(this.Vw()||m(t))return n.My;if(this.Xw())return isFinite(t)?0===t?1/t<0?this.Fw():this:t<0?this.Fw():this:n.My;if(!isFinite(t))return new n(Ct.ZERO,this.Ey);if(this.ty())return 0===t?n.My:new n(Ct.ZERO,this.Ey);if(0===t){var i=this.Uw()?n.Fy:n.Uy;return 1/t<0?i.Fw():i}return new n(this.xn.divide(t),this.Ey)},i.Qy=function(){return[this.xn.low,this.xn.high,this.Ey]},n}(W_);function Q_(t){return t.Vw()?t:t.Uw()?j_.Uy:j_.Fy}function Y_(t,n){return t.Vw()||n.Vw()?j_.My:t.Xw()&&n.Xw()?t.Uw()===n.Uw()?t:j_.My:t.Xw()?t:n}j_.Yw=new j_(Ct.ZERO,1e6),j_.My=new j_(Ct.ZERO,0),j_.Uy=new j_(Ct.ONE,0),j_.Fy=new j_(Ct.NEG_ONE,0);var Z_,J_=function(t){function n(n,i){var r;return(r=t.call(this)||this).xn=BigInt.asIntN(64,n),r.Ey=i>>>0,r}qt(n,t),n.Ly=function(t,i){return void 0===i&&(i=1e6),n.jw(t*i,i)},n.jw=function(t,i){return m(t)?n.My:t===1/0?n.Uy:t===-1/0?n.Fy:new n(BigInt(g.floor(t)),i)},n.Gw=function(t,i){return new n(BigInt(t.high)<<BigInt(32)|BigInt(t.low>>>0),i)},n.Hy=function(t){return n.Ly(t.Oy,1e6)},n.Vy=function(t){return n.jw(t.getTime(),1e3)},n.Iy=function(t,n){return t.Ow(n)?t:n},n.Ny=function(t,n){return t.Pw(n)?t:n},n.Xy=function(t,i,r){return n.Iy(i,n.Ny(r,t))};var i=n.prototype;return i.Uw=function(){return this.xn<BigInt(0)},i.ty=function(){return 0!==this.Ey&&this.xn===BigInt(0)},i.Xw=function(){return 0===this.Ey&&this.xn!==BigInt(0)},i.Vw=function(){return 0===this.Ey&&this.xn===BigInt(0)},i.Nw=function(){if(0===this.Ey)return this.xn===BigInt(0)?NaN:this.xn<BigInt(0)?-1/0:1/0;var t=this.xn/BigInt(this.Ey),n=this.xn-t*BigInt(this.Ey);return Number(t)+Number(n)/this.Ey},i.ey=function(){if(0===this.Ey)throw new d("Failed to convert timestamp");return this.Yy()},i.Yy=function(){var t=this.xn&BigInt(4294967295),n=this.xn>>BigInt(32)&BigInt(4294967295);return Ct.fromBits(Number(t),Number(n))},i.Wy=function(){return new Date(0===this.Ey?NaN:Number(this.Dy(1e3).xn))},i.qy=function(){return new G_(0===this.Ey?this.Nw():Number(this.xn),this.Ey)},i.Dy=function(t,i){void 0===i&&(i=Z_.zy);var r=this.Ey;if(r===t)return this;if(0===r)return this;var e=Ut(r,t);return new n(function(t,n,i){var r=t/n,e=t-r*n;if(e===BigInt(0))return r;if(i===Z_.zy)return e<BigInt(0)?r-BigInt(1):r;if(i===Z_.Gy)return e<BigInt(0)?r:r+BigInt(1);var u=e*BigInt(2);return u<BigInt(0)?-u<n?r:r-BigInt(1):u<n?r:r+BigInt(1)}(this.xn*BigInt(t/e),BigInt(r/e),i),t)},i.Cw=function(t){if(this===t)return M_.Ew;if(0===this.Ey||0===t.Ey)return q_(this,t);if(this.ty())return t.ty()?M_.Ew:t.Uw()?M_.Sw:M_.Rw;if(t.ty())return this.Uw()?M_.Rw:M_.Sw;var n=g.min(this.Ey,t.Ey),i=this.Dy(n,Z_.jy).xn,r=t.Dy(n,Z_.jy).xn;return i>r?M_.Sw:i<r?M_.Rw:M_.Ew},i.Fw=function(){return 0===this.Ey?$_(this):new n(-this.xn,this.Ey)},i.Cg=function(t){if(0===this.Ey||0===t.Ey)return K_(this,t);if(this.ty())return t;if(t.ty())return this;var i=g.max(this.Ey,t.Ey),r=this.Dy(i,Z_.jy),e=t.Dy(i,Z_.jy);return new n(r.xn+e.xn,i)},i.yy=function(t){if(this.Vw()||m(t))return n.My;if(this.Xw()||!isFinite(t)){if(this.ty()||0===t)return n.My;var i=this.Uw()?n.Fy:n.Uy;return t<0?i.Fw():i}return this.ty()?this:new n(0===t?BigInt(0):this.xn*BigInt(t),this.Ey)},i.Ay=function(t){if(this.Vw()||m(t))return n.My;if(this.Xw())return isFinite(t)?0===t?1/t<0?this.Fw():this:t<0?this.Fw():this:n.My;if(!isFinite(t))return new n(BigInt(0),this.Ey);if(this.ty())return 0===t?n.My:new n(BigInt(0),this.Ey);if(0===t){var i=this.Uw()?n.Fy:n.Uy;return 1/t<0?i.Fw():i}return new n(this.xn/BigInt(t),this.Ey)},i.Qy=function(){var t=this.Yy();return[t.low,t.high,this.Ey]},T(n,null,[{key:"Yw",get:function(){return n.Zy||(n.Zy=new n(BigInt(0),1e6)),n.Zy}},{key:"My",get:function(){return n.Jy||(n.Jy=new n(BigInt(0),0)),n.Jy}},{key:"Uy",get:function(){return n.$y||(n.$y=new n(BigInt(1),0)),n.$y}},{key:"Fy",get:function(){return n.Ky||(n.Ky=new n(BigInt(-1),0)),n.Ky}}]),n}(W_);function $_(t){return t.Vw()?t:t.Uw()?J_.Uy:J_.Fy}function K_(t,n){return t.Vw()||n.Vw()?J_.My:t.Xw()&&n.Xw()?t.Uw()===n.Uw()?t:J_.My:t.Xw()?t:n}J_.Zy=void 0,J_.Jy=void 0,J_.$y=void 0,J_.Ky=void 0,function(t){t[t.zy=0]="zy",t[t.Gy=1]="Gy",t[t.jy=2]="jy"}(Z_||(Z_={}));var tg=function(){try{return"function"==typeof BigInt&&"bigint"==typeof BigInt(0)}catch(t){return!1}}()?J_:j_;function ng(t,n){return t.Cw(n)}function ig(t){return tg.Gw(Ct.fromBits(t[0],t[1],!1),t[2])}var rg=9e4,eg=g.pow(2,33),ug=tg.jw(eg,rg),sg=ug.Ay(2);function og(t){return null!=t&&!t.Vw()}function ag(t,n){return t.Xw()||n.Xw()?tg.Iy(t,n):fg(t,n).Dw(tg.Yw)?t:n}function cg(t,n){var i=t.Hw(n);return i.Lw(tg.Yw)&&(i=i.Cg(ug)),i}function hg(t,n){var i=t.Cg(n);return i.Ow(ug)&&(i=i.Hw(ug)),i}function fg(t,n){var i=t.Hw(n);return t.Xw()||n.Xw()?i:(i.Ow(sg)?i=i.Hw(ug):i.Lw(sg.Fw())&&(i=i.Cg(ug)),i)}function vg(t,n){if(t||n)return t?n?tg.Ny(t,n):t:n}function dg(t,n){if(t||n)return t?n?tg.Iy(t,n):t:n}var lg,_g,gg,wg,yg={tm:0,nm:1/0,im:0},mg=6,kg=["WEBVTT ","WEBVTT\t","WEBVTT\n"],pg=[" ","\t","\n","\f","\r"],Ag=/^\d*$/,bg=/.*[0-9]+.*/,Tg=/^[\d.-]+$/,Eg=/(^\.|\.$)/,Sg=/(\D\.|\.\D)/;function Rg(t,n){void 0===n&&(n=yg);var i={Ll:[],rm:[],um:[]},r=Ig(t),e=new ee;if(Ug(r),Ng(r,function(t){return"\n"!==t},e),e.$s>=r.length)return i;(e.Ys(1),"\n"!==r.charAt(e.$s))?xg(Dg(r,e,!1,!0,i,n),i):e.Ys(1);for(Ng(r,function(t){return"\n"===t},e);e.$s<r.length;){xg(Dg(r,e,!1,!1,i,n),i),Ng(r,function(t){return"\n"===t},e)}return i}function Ig(t){var n=Gn(t,"\0"," "),i=Gn(n,"\r\n","\n");return Gn(i,"\r","\n")}function Ng(t,n,i){for(var r=i.$s;i.$s<t.length&&n(t.charAt(i.$s));)i.Ys(1);return t.substring(r,i.$s)}function Dg(t,n,i,e,u,s){for(var o,a=0,c=n.$s,h="",f=!1,v=!1,d=null,l=null,_=null;!f;)if(o=Ng(t,function(t){return"\n"!==t},n),a++,n.$s>=t.length?f=!0:n.Ys(1),jn(o,"--\x3e")){if(e||1!==a&&(2!==a||v)){n.Zs(c);break}v=!0,c=n.$s,d=new C_(0,0,"",!1,h);try{Pg(o,u.rm,d,s),h=""}catch(t){r.ud(t),d=null}}else{if(""===o)break;e&&Qn(o,"X-TIMESTAMP-MAP")&&(u.sm=Cg(o)),e||2!==a||i||(Zn("STYLE",h.replace(/ /g,""))?(l={xu:d_.qg},h=""):Zn("REGION",h.replace(/ /g,""))&&(_=new U_("",100,3,0,100,0,100,""),h="")),h&&(h+="\n"),h+=o,c=n.$s}if(d)return d.$g=h,d;if(l);else if(_)return function(t,n){for(var i=t.split(/\s/),r=0;r<i.length;r++){var e=i[r];if(0!==e.length&&jn(e,":")&&":"!==e.charAt(0)&&":"!==e.charAt(e.length-1)){var u=e.indexOf(":"),s=e.substring(0,u),o=e.substring(u+1,e.length);switch(s.toUpperCase()){case"ID":Yg(o,n);break;case"WIDTH":$g(o,n);break;case"LINES":Jg(o,n);break;case"REGIONANCHOR":var a=Qg(o);a&&(n.kw=a[0],n.pw=a[1]);break;case"VIEWPORTANCHOR":var c=Qg(o);c&&(n.bw=c[0],n.Tw=c[1]);break;case"SCROLL":Zg(o,n)}}}}(h,_),_;return null}function Cg(t){var n,i,r=t.split("=")[1].trim().split(","),e=Og(r[0].trim(),"MPEGTS")?r[0]:r[1],u=Og(r[0].trim(),"LOCAL")?r[0]:r[1];return{om:(i=Number(e.split(/:(.*)/)[1].trim())||0,tg.jw(i,rg)),am:tg.Ly(null!==(n=Mg(u.split(/:(.*)/)[1].trim(),new ee))&&void 0!==n?n:0)}}function Og(t,n){return Qn(t,n)}function xg(t,n){t&&function(t){return t.xu===d_.Xg}(t)?n.Ll.push(t):t&&function(t){return t.xu===d_.Wg}(t)?n.rm.push(t):t&&function(t){return t.xu===d_.qg}(t)&&n.um.push(t)}function Pg(t,n,i,r){var e=new ee;if(Fg(t,e),i.Zg=Bg(Mg(t,e),r),Fg(t,e),"--\x3e"!==t.substring(e.$s,e.$s+3))throw d("Something went wrong with parsing a WebVTT Cue");e.Ys(3),Fg(t,e),i.Jg=Bg(Mg(t,e),r),function(t,n,i){for(var r=t.split(/\s/),e=0;e<r.length;e++){var u=r[e];if(0!==u.length&&jn(u,":")&&":"!==u.charAt(0)&&":"!==u.charAt(u.length-1)){var s=u.indexOf(":"),o=u.substring(0,s),a=u.substring(s+1,u.length);switch(o.toUpperCase()){case"REGION":qg(a,n,i);break;case"VERTICAL":Gg(a,n);break;case"D":jg(a,n);break;case"LINE":case"L":Xg(a,n);break;case"POSITION":case"T":Wg(a,n);break;case"SIZE":case"S":zg(a,n);break;case"ALIGN":case"A":Vg(a,n)}}}}(t.substring(e.$s,t.length),i,n)}function Bg(t,n){return t+n.tm}function Lg(t){return/^[0-9]$/.test(t)}function Mg(t,n){var i,r,e,u=Gn(t,",","."),s=!1;if(n.$s>=u.length||!Lg(u.charAt(n.$s)))throw new d("Something went wrong with parsing a WebVTT Cue timestamp");var o=Ng(u,Lg,n),a=w(o,10);if((o.length>2||a>59)&&(s=!0),n.$s>=u.length||":"!==u.charAt(n.$s))throw new d("Something went wrong with parsing a WebVTT Cue timestamp");n.Ys(1);var c=Ng(u,Lg,n);if(2!==c.length)throw new d("Something went wrong with parsing a WebVTT Cue timestamp");var h=w(c,10);if(s||n.$s<u.length&&":"===u.charAt(n.$s)){if(n.$s>=u.length||":"!==u.charAt(n.$s))throw new d("Something went wrong with parsing a WebVTT Cue timestamp");n.Ys(1);var f=Ng(u,Lg,n);if(2!==c.length)throw new d("Something went wrong with parsing a WebVTT Cue timestamp");i=a,r=h,e=w(f,10)}else i=0,r=a,e=h;if(n.$s>=u.length||"."!==u.charAt(n.$s))throw new d("Something went wrong with parsing a WebVTT Cue timestamp");n.Ys(1);var v=Ng(u,Lg,n),l=w(v,10);if(h>59||e>59)throw new d("Something went wrong with parsing a WebVTT Cue timestamp");return 60*i*60+60*r+e+l/1e3}function Ug(t){if(t.length<mg)return!1;for(var n=0;n<kg.length;n++){if(Qn(t,kg[n]))return!0}return!1}function Fg(t,n){for(;n.$s<t.length&&(i=t.charAt(n.$s),li(pg,i));)n.Ys(1);var i}function Hg(t){var n=t.lastIndexOf("%");if(n>-1){var i=y(t.substring(0,n));if(!m(i)&&i>=0&&i<=100)return i}return null}function Vg(t,n){var i=t.toLowerCase();switch(i){case"start":case"center":case"end":case"left":case"right":n.Kg=i;break;case"middle":n.Kg="center"}}function Xg(t,n){var i=t,r="";if(jn(t,",")&&(i=t.substring(0,t.indexOf(",")),r=t.substring(t.indexOf(",")+1,t.length)),bg.test(i)){var e;if(Yn(i,"%")){var u=Hg(i);if(null===u)return;e=u}else{if(!Tg.test(t)||t.lastIndexOf("-")>0||t.indexOf(".")!==t.lastIndexOf(".")||!Sg.test(t)||Eg.test(t))return;if(e=y(t),m(e))return}switch(n.tw=e,n.uw=Yn(i,"%"),r=t.toLowerCase()){case"start":case"center":case"end":n.nw=r;break;case"middle":n.nw="center"}}}function Wg(t,n){var i=t,r="";jn(t,",")&&(i=t.substring(0,t.indexOf(",")),r=t.substring(t.indexOf(",")+1,t.length));var e=Hg(i);if(null!==e)switch(n.iw=e,r=r.toLowerCase()){case"line-left":case"center":case"line-right":case"auto":n.rw=r;break;case"start":n.rw="line-left";break;case"middle":n.rw="center";break;case"end":n.rw="line-right"}}function qg(t,n,i){for(var r=i.length-1;r>=0;r--)if(i[r].Al===t)return void(n.ew=i[r])}function zg(t,n){var i=Hg(t);null!==i&&(n.js=i)}function Gg(t,n){switch(t.toLowerCase()){case"rl":case"vertical:rl":case"vertical-rl":n.sw="rl";break;case"lr":case"vertical:lr":case"vertical-lr":n.sw="lr";break;default:n.sw=""}}function jg(t,n){"VERTICAL"===t.toUpperCase()?n.sw="rl":"VERTICAL-LR"===t.toUpperCase()&&(n.sw="lr")}function Qg(t){if(t.indexOf(",")>=0){var n=Hg(t.substring(0,t.indexOf(","))),i=Hg(t.substring(t.indexOf(",")+1,t.length));return[xt(n||0,0,100),xt(i||100,0,100)]}return null}function Yg(t,n){n.Al=t}function Zg(t,n){"up"===t.toLowerCase()&&(n.Aw="up")}function Jg(t,n){Ag.test(t)&&(n.mw=w(t))}function $g(t,n){var i=Hg(t);null!==i&&(n.Ka=i)}!function(t){t.cm="moov",t.hm="mvhd",t.fm="trak",t.vm="tkhd",t.dm="mdia",t.lm="mdhd",t._m="hdlr",t.gm="minf",t.wm="stbl",t.ym="stsd",t.mm="stsc",t.km="mvex",t.pm="trex",t.Am="avc1",t.bm="avcC",t.Tm="hev1",t.Em="hvc1",t.Sm="hvcC",t.Rm="pasp",t.Im="mp4a",t.Nm="esds",t.Dm="wvtt",t.Cm="vttC",t.Om="vlab",t.xm="enca",t.Pm="encv",t.Bm="moof",t.Lm="mfhd",t.Mm="traf",t.Um="tfhd",t.Fm="trun",t.Hm="tfdt",t.Vm="mdat",t.Xm="pssh",t.Wm="emsg",t.qm="sidx",t.zm="styp",t.Gm="ftyp",t.jm="sinf",t.Qm="frma"}(lg||(lg={})),function(t){t.Xf="vide",t.Vf="soun",t.Ym="hint",t.Zm="meta",t.Jm="auxv"}(_g||(_g={})),function(t){t[t.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",t[t.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",t[t.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",t[t.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",t[t.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT",t[t.DURATION_IS_EMPTY=32]="DURATION_IS_EMPTY",t[t.DEFAULT_BASE_IS_MOOF=131072]="DEFAULT_BASE_IS_MOOF"}(gg||(gg={})),function(t){t[t.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",t[t.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",t[t.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",t[t.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT=2048]="SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT"}(wg||(wg={}));var Kg=function(){function t(t,n){this.Jn=t,this.$m=n}var n=t.prototype;return n.Km=function(){return pr(this.Jn,this.$m)},n.tk=function(){return Rr(this.Jn,this.$m)},n.nk=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt16(n.$s,i);return n.Ys(2),r}(this.Jn,this.$m)},n.ik=function(){return Nr(this.Jn,this.$m)},n.rk=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt32(n.$s,i);return n.Ys(4),r}(this.Jn,this.$m)},n.ek=function(){return Cr(this.Jn,this.$m)},n.uk=function(t){return br(this.Jn,this.$m,t)},n.sk=function(t){return function(t,n,i){for(var r=[],e=0;e<i;e++)r.push(Nr(t,n));return r}(this.Jn,this.$m,t)},n.ak=function(t){return Pr(this.Jn,this.$m,t)},n.ck=function(){return jr(this.Jn,this.$m)},n.hk=function(t){this.$m.Ys(t)},n.Js=function(){return new t(this.Jn,this.$m.Js())},t}();function tw(t,n){return t.xu===n}function nw(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(tw(r,n))return r}}function iw(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];tw(e,n)&&i.push(e)}return i}var rw=function(t){function n(n,i){var r;return(r=t.call(this)||this).fk=n,r.vk=i,r}return qt(n,t),T(n,[{key:"name",get:function(){return"DataIncompleteError"}}]),n}(Yt),ew=function(){function t(){}return t.dk=function(n){var i=n.Jn,r=n.$m,e=t.lk(i,r,!1);if(!e._k)throw new rw(r.$s,e.Xn);return e.Xn},t.lk=function(n,i,r){for(var e=[];i.$s<n.byteLength;){var u=t.gk(n,i,r);if(!u._k)return{_k:!1,Xn:e};e.push(u.wk)}return{_k:!0,Xn:e}},t.yk=function(n,i){var r=t.gk(n,i,!1);if(!r._k)throw new rw(i.$s);return r.wk},t.mk=function(n,i){for(var r=n.Jn,e=n.$m;e.$s<r.byteLength;){var u=t.gk(r,e,!1);if(!u._k)return;if(u.wk.xu===i)return u.wk}},t.gk=function(n,i,r){var e=i.$s,u=t.kk(n,i);if(!u._k)return u;var s=u.pk,o=s.js;if(0===o){if(r)return i.Zs(e),{_k:!1,Ak:1/0};o=n.byteLength-e}var a=e+o;if(a>n.byteLength){var c=a;return i.Zs(e),{_k:!1,Ak:c}}var h={xu:s.xu,$s:e,Jn:new Kg(Jr(n,e,a),new ee(s.bk))};return i.Zs(a),{_k:!0,wk:h}},t.kk=function(t,n){var i=n.$s;if(!Er(t,n,8))return{_k:!1,Ak:n.$s+8};var r=Nr(t,n),e=Pr(t,n,4);if(1===r){if(!Er(t,n,8)){var u=n.$s+8;return n.Zs(i),{_k:!1,Ak:u}}r=Cr(t,n).toNumber()}if("uuid"===e){if(!Er(t,n,16)){var s=n.$s+16;return n.Zs(i),{_k:!1,Ak:s}}e=Pr(t,n,16)}return{_k:!0,pk:{xu:e,js:r,bk:n.$s-i}}},t.Tk=function(t,n,i){var r=t.Jn,e=t.$m,u=Zr(Kr(r),e.$s,r.byteLength);return i&&(u=re(u)),e.Ys(u.byteLength),{xu:n,Jn:u}},t.Ek=function(n,i,r){var e=aw(n.ik());return{xu:i,Sk:e.version,Rk:e.flags,Jn:t.Tk(n,i,r).Jn}},t}();function uw(t,n){var i=sw(t,n);if(!i)throw new d("Missing "+n+" atom");return i}function sw(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.xu===n)return r.Jn}}function ow(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];e.xu===n&&i.push(e.Jn)}return i}function aw(t){return{version:t>>24,flags:new yr(16777215&t)}}var cw=function(){function t(){}return t.Ik=function(n){for(var i=[],r=ew.dk(new Kg(n,new ee)),e=0;e<r.length;e++){var u=r[e],s=t.Nk(u);s&&i.push(s)}return i},t.Dk=function(t){return ew.lk(t,new ee,!1).Xn.some(function(t){return t.xu===lg.Bm||t.xu===lg.zm})},t.Ck=function(n){return ow(ew.dk(new Kg(n,new ee)),lg.Xm).map(t.Ok)},t.Nk=function(n){switch(n.xu){case lg.cm:return t.xk(n.Jn);case lg.Bm:return t.Pk(n.Jn,n.$s);case lg.Vm:return t.Bk(n.Jn);case lg.qm:return t.Lk(n.Jn);case lg.Wm:return t.Mk(n.Jn)}},t.xk=function(n){var i=ew.dk(n),r=uw(i,lg.hm),e=ow(i,lg.fm),u=sw(i,lg.km),s=t.Uk(r),o=e.map(t.Fk),a=u?t.Hk(u):void 0;return{xu:lg.cm,pk:s,Vk:o,Xk:a}},t.Uk=function(t){var n=aw(t.ik()),i=n.version,r=n.flags,e=1===i?t.ek():t.ik(),u=1===i?t.ek():t.ik(),s=t.ik(),o=1===i?t.ek():t.ik(),a=t.ik(),c=t.tk()>>8;t.hk(2),t.hk(8);var h=t.sk(9);t.hk(24);var f=t.ik();return{xu:lg.hm,Sk:i,Rk:r,Wk:e,qk:u,Ey:s,y_:o,zk:a,R_:c,Gk:h,jk:f}},t.Fk=function(n){var i=ew.dk(n),r=uw(i,lg.vm),e=uw(i,lg.dm),u=t.Qk(r),s=t.Yk(e);return{xu:lg.fm,pk:u,Zk:s}},t.Qk=function(t){var n=aw(t.ik()),i=n.version,r=n.flags,e=1===i?t.ek():t.ik(),u=1===i?t.ek():t.ik(),s=t.ik();t.hk(4);var o=1===i?t.ek():t.ik();t.hk(8);var a=t.nk(),c=t.nk(),h=t.nk()/g.pow(2,8);t.hk(2);var f=t.sk(9),v=t.ik()/g.pow(2,16),d=t.ik()/g.pow(2,16);return{xu:lg.vm,Jk:r.to(1),$k:r.to(2),Kk:r.to(4),Wk:e,qk:u,tp:s,y_:o,np:a,ip:c,R_:h,Gk:f,Ka:v,rp:d}},t.Yk=function(n){var i=ew.dk(n),r=uw(i,lg.lm),e=uw(i,lg._m),u=uw(i,lg.gm),s=t.ep(r),o=t.sp(e),a=t.op(u);return{xu:lg.dm,pk:s,ap:o,cp:a}},t.ep=function(t){var n=aw(t.ik()),i=n.version,r=n.flags,e=1===i?t.ek():t.ik(),u=1===i?t.ek():t.ik(),s=t.ik(),o=1===i?t.ek():t.ik();t.tk();return t.hk(2),{xu:lg.lm,Sk:i,Rk:r,Wk:e,qk:u,Ey:s,y_:o}},t.sp=function(t){var n=aw(t.ik()),i=n.version,r=n.flags;t.hk(4);var e=t.ak(4);t.hk(12);var u=t.ck();return{xu:lg._m,Sk:i,Rk:r,hp:e,Dn:u}},t.op=function(n){var i=uw(ew.dk(n),lg.wm),r=t.fp(i);return{xu:lg.gm,vp:r}},t.fp=function(n){var i=uw(ew.dk(n),lg.ym),r=t.dp(i);return{xu:lg.wm,lp:r}},t.dp=function(n){for(var i=aw(n.ik()),r=i.version,e=i.flags,u=(n.ik(),[]),s=ew.dk(n),o=0;o<s.length;o++){var a=s[o],c=t._p(a.Jn,a.xu);c&&u.push(c)}return{xu:lg.ym,Sk:r,Rk:e,gp:u}},t._p=function(n,i){var r=t.wp(n,i);return r||((r=t.yp(n,i))||(i===lg.Dm?t.mp(n):void 0))},t.wp=function(n,i){return i===lg.Im?t.kp(n):i===lg.xm?t.pp(n):void 0},t.yp=function(n,i){return i===lg.Am?t.Ap(n):i===lg.Tm||i===lg.Em?t.bp(n,i):i===lg.Pm?t.Tp(n):void 0},t.Ep=function(t,n){return t.hk(6),{xu:n,Sp:t.tk()}},t.Rp=function(n,i){var r=t.Ep(n,i);n.hk(8);var e=n.tk(),u=n.tk();n.hk(2),n.hk(2);var s=n.ik()>>>16;return dn(dn({},r),{Ip:e,Np:u,Dp:s})},t.Cp=function(n,i){var r=t.Ep(n,i);n.hk(2),n.hk(2),n.hk(12);var e=n.tk(),u=n.tk(),s=n.ik(),o=n.ik();n.hk(4);var a=n.tk();n.hk(32);var c=n.tk();return n.hk(2),dn(dn({},r),{Ka:e,rp:u,Op:s,xp:o,Pp:a,Bp:c})},t.kp=function(n){var i=t.Rp(n,lg.Im),r=uw(ew.dk(n),lg.Nm),e=t.Lp(r);return dn(dn({},i),{Mp:e})},t.mp=function(n){var i=t.Ep(n,lg.Dm),r=ew.dk(n),e=uw(r,lg.Cm),u=t.Up(e),s=sw(r,lg.Om),o=s?t.Fp(s):s;return dn(dn({},i),{Hp:u,Vp:o})},t.Up=function(t){return{xu:lg.Cm,Xp:t.ck()}},t.Fp=function(t){return{xu:lg.Om,El:t.ck()}},t.Lp=function(t){return ew.Ek(t,lg.Nm,!0)},t.Ap=function(n){var i=t.Cp(n,lg.Am),r=ew.dk(n),e=uw(r,lg.bm),u=sw(r,lg.Rm),s=t.Wp(e),o=u?t.qp(u):void 0;return dn(dn({},i),{zp:s,Gp:o})},t.bp=function(n,i){var r=t.Cp(n,i),e=uw(ew.dk(n),lg.Sm),u=t.jp(e);return dn(dn({},r),{Qp:u})},t.Tp=function(n){var i=n.Js(),r=t.Cp(n,lg.Pm),e=uw(ew.dk(n),lg.jm),u=t.Yp(e),s=t.yp(i,u.Jp.Zp);return dn(dn({},r),{$p:s,Kp:u})},t.pp=function(n){var i=n.Js(),r=t.Rp(n,lg.xm),e=uw(ew.dk(n),lg.jm),u=t.Yp(e),s=t.wp(i,u.Jp.Zp);return dn(dn({},r),{$p:s,Kp:u})},t.Yp=function(n){var i=uw(ew.dk(n),lg.Qm),r=t.tA(i);return{xu:lg.jm,Jp:r}},t.tA=function(t){var n=t.ak(4);return{xu:lg.Qm,Zp:n}},t.Wp=function(t){return ew.Tk(t,lg.bm,!0)},t.jp=function(t){return ew.Tk(t,lg.Sm,!0)},t.qp=function(t){var n=t.ik(),i=t.ik();return{xu:lg.Rm,nA:n,iA:i}},t.Hk=function(n){var i=ow(ew.dk(n),lg.pm).map(t.rA);return{xu:lg.km,Vk:i}},t.rA=function(t){var n=aw(t.ik()),i=n.version,r=n.flags,e=t.ik(),u=t.ik(),s=t.ik(),o=t.ik(),a=t.ik();return{xu:lg.pm,Sk:i,Rk:r,tp:e,eA:u,uA:s,sA:o,oA:a}},t.Pk=function(n,i){var r=ew.dk(n),e=uw(r,lg.Lm),u=ow(r,lg.Mm),s=t.aA(e),o=u.map(t.cA);return{xu:lg.Bm,hA:i,pk:s,Vk:o}},t.aA=function(t){var n=aw(t.ik()),i=n.version,r=n.flags,e=t.ik();return{xu:lg.Lm,Sk:i,Rk:r,fA:e}},t.cA=function(n){var i=ew.dk(n),r=uw(i,lg.Um),e=ow(i,lg.Fm),u=sw(i,lg.Hm),s=t.vA(r),o=e.map(function(n){return t.dA(n,s)}),a=u?t.lA(u):void 0;return{xu:lg.Mm,pk:s,_A:o,gA:a}},t.vA=function(t){var n=aw(t.ik()),i=n.version,r=n.flags,e=t.ik(),u=r.to(gg.BASE_DATA_OFFSET_PRESENT)?t.ek():void 0,s=r.to(gg.SAMPLE_DESCRIPTION_INDEX_PRESENT)?t.ik():void 0,o=r.to(gg.DEFAULT_SAMPLE_DURATION_PRESENT)?t.ik():void 0,a=r.to(gg.DEFAULT_SAMPLE_SIZE_PRESENT)?t.ik():void 0,c=r.to(gg.DEFAULT_SAMPLE_FLAGS_PRESENT)?t.ik():void 0;return{xu:lg.Um,Sk:i,Rk:r,tp:e,wA:u,yA:s,uA:o,sA:a,oA:c}},t.dA=function(n,i){for(var r=aw(n.ik()),e=r.version,u=r.flags,s=n.ik(),o=u.to(wg.DATA_OFFSET_PRESENT)?n.rk():void 0,a=u.to(wg.FIRST_SAMPLE_FLAGS_PRESENT)?n.ik():void 0,c=[],h=0;h<s;h++){var f=t.mA(n,u,e,i);0===h&&void 0!==a&&(f.Rk=a),c.push(f)}return{xu:lg.Fm,Sk:e,Rk:u,kA:s,hA:o,pA:a,AA:c}},t.mA=function(t,n,i,r){return{y_:n.to(wg.SAMPLE_DURATION_PRESENT)?t.ik():r.uA,js:n.to(wg.SAMPLE_SIZE_PRESENT)?t.ik():r.sA,Rk:n.to(wg.SAMPLE_FLAGS_PRESENT)?t.ik():r.oA,bA:n.to(wg.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT)?0===i?t.ik():t.rk():void 0}},t.Mk=function(t){var n=t.Jn,i=t.$m,r=aw(Nr(n,i)),e=r.version,u=r.flags,s=xr(n,i),o=xr(n,i),a=Nr(n,i),c=Nr(n,i),h=Nr(n,i),f=Nr(n,i),v=ie(Kr(n),i.$s,n.byteLength);return i.Ys(v.byteLength),{xu:lg.Wm,Sk:e,Rk:u,TA:s,xn:o,Ey:a,EA:c,SA:h,Al:f,RA:v}},t.Bk=function(t){return ew.Tk(t,lg.Vm,!1)},t.Ok=function(n){var i=n.Jn,r=n.$m,e=re(Kr(i)).buffer,u=aw(Nr(i,r)),s=u.version,o=u.flags,a=t.IA(i,r),c=[];if(s>0)for(var h=Nr(i,r),f=0;f<h;f++){var v=br(i,r,16);c.push(v)}var d=Nr(i,r),l=new k(e,r.$s,d);return r.Ys(i.byteLength),{xu:lg.Xm,Sk:s,Rk:o,NA:a,DA:c,CA:d,Jn:l,OA:e}},t.IA=function(t,n){for(var i="",r=0;r<4;r++){var e=pr(t,n).toString(16);i+=1===e.length?"0"+e:e}i+="-";for(var u=0;u<2;u++){var s=pr(t,n).toString(16);i+=1===s.length?"0"+s:s}i+="-";for(var o=0;o<2;o++){var a=pr(t,n).toString(16);i+=1===a.length?"0"+a:a}i+="-";for(var c=0;c<2;c++){var h=pr(t,n).toString(16);i+=1===h.length?"0"+h:h}i+="-";for(var f=0;f<6;f++){var v=pr(t,n).toString(16);i+=1===v.length?"0"+v:v}return i.toLowerCase()},t.Lk=function(t){var n,i,r=t.Jn,e=t.$m,u=aw(Nr(r,e)),s=u.version,o=u.flags,a=Nr(r,e),c=Nr(r,e);0===s?(n=Ct.fromBits(Nr(r,e),0,!0),i=Ct.fromBits(Nr(r,e),0,!0)):(n=Cr(r,e),i=Cr(r,e)),e.Ys(2);for(var h=Rr(r,e),f=[],v=0;v<h;v+=1){var d=Nr(r,e),l=d>>31&1,_=2147483647&d,g=Nr(r,e),w=Nr(r,e),y=w>>31&1,m=w>>28&7,k=268435455&w;f.push({xA:l,PA:_,y_:g,BA:y,LA:m,MA:k})}return{xu:lg.qm,Sk:s,Rk:o,UA:a,Ey:c,FA:n,HA:i,VA:h,XA:f}},t.lA=function(t){var n,i=t.Jn,r=t.$m,e=aw(Nr(i,r)),u=e.version,s=e.flags;return n=0===u?Ct.fromBits(Nr(i,r),0,!0):Cr(i,r),{xu:lg.Hm,Sk:u,Rk:s,gA:n}},t}();function hw(t){return t&&"Vn"in t?t.Vn:t}var fw=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this,n,i,r,e)||this).WA=u,a.qA=s,a.zA=o||void 0,a}return qt(n,t),n.prototype._w=function(n){return this===n||!!_d(this,n)&&(!!t.prototype._w.call(this,n)&&(!!ld(this.GA,n.GA)&&(!!ld(this.rm,n.rm)&&(this.jA&&n.jA?!!this.jA.Rn(n.jA)&&(this.$g&&n.$g?this.$g.Rn(n.$g):this.$g===n.$g):this.jA===n.jA))))},T(n,[{key:"GA",get:function(){return this.WA}},{key:"rm",get:function(){return this.qA}},{key:"jA",get:function(){return this.zA}},{key:"xd",get:function(){var t;return this.Od||(this.Od=vd(T_(t=this),{get styles(){return t.GA},get regions(){return t.rm},get metadata(){return hw(t.jA)},get content(){return hw(t.$g)}})),this.Od}}]),n}(N_),vw=function(){function t(t,n,i){this.QA=t,this.YA=n,zt(i)?this.Hh=function(t,n,i){for(var r=0,e=["begin","end","dur"];r<e.length;r++){var u=e[r];i.zn(u)}return i}(0,0,i):this.Hh=i}return T(t,[{key:"ZA",get:function(){return this.Hh.In(!0)}},{key:"Zg",get:function(){return this.QA}},{key:"Jg",get:function(){return this.YA}}]),t}();var dw={VIDEO_H264:"video/avc",VIDEO_H265:"video/hevc",VIDEO_MP4:"video/mp4",VIDEO_MPEG:"video/mpeg",VIDEO_MPEG2:"video/mpeg2",VIDEO_UNKNOWN:"video/x-unknown",AUDIO_AAC:"audio/mp4a-latm",AUDIO_MP4:"audio/mp4",AUDIO_UNKOWN:"audio/x-unknown",IMAGE_JPEG:"image/jpeg",APPLICATION_TTML_XML:"application/ttml+xml",APPLICATION_MP4:"application/mp4",TEXT_VTT:"text/vtt"};function lw(t){return jn(t,dw.APPLICATION_MP4)||jn(t,dw.VIDEO_MP4)||jn(t,dw.AUDIO_MP4)}var _w=function(){function t(t,n){this.xu=t,this.JA=n}return t.prototype.$A=function(t){for(var n=0,i=this.JA;n<i.length;n++){var r=i[n],e=r[0],u=r[1];if(e.toLowerCase()===t.toLowerCase())return u}},t}();function gw(t){var n=t.trim(),i=n.indexOf(";");if(i<0)return new _w(n,[]);for(var r=n.substr(0,i).trim(),e=n.substr(i+1).trim(),u=[],s=0,o=!1,a=0;a<e.length;a++){var c=e[a];if(o||";"!==c)'"'===c&&(o=!o);else{var h=ww(e.substr(s,a));h&&u.push(h),s=a+1}}if(s!==e.length){var f=ww(e.substr(s));f&&u.push(f)}return new _w(r,u)}function ww(t){var n=t.indexOf("=");if(!(n<0)){var i=t.substr(0,n).trim(),r=t.substr(n+1).trim();return'"'===r[0]&&(r=r.substring(1,r.length-1)),[i,r]}}var yw="http://www.w3.org/XML/1998/namespace";function mw(t,n,i,r){var e=t.Fn(i,n);return 0===e.length&&(e=t.Ln(r+":"+n)),e}function kw(t,n){return function(t,n){var i=t.Xn.slice(),r=[];for(;i.length>0;){var e=i.shift();n(e)?r.push(e):i.push.apply(i,e.Xn)}return r}(t,function(t){return t.Un===n})}function pw(t,n){for(var i=t,r=0;r<n.length;r++){var e=n[r];i=i.replace(e+":","")}return i}function Aw(t,n){for(var i=t.Yn,r={},e=0;e<i.length;e++)r[pw(i[e].Dn,n)]=i[e].xn;return r}var bw=/^(\d\d+):(\d\d):(\d+)((\.(\d+))?|(:(\d\d+)(\.(\d+))?))$/,Tw=/^(\d+)(\.(\d+))?(h|m|s|ms|f|t)$/,Ew="http://www.w3.org/ns/ttml";function Sw(t,n,i){return void 0===i&&(i=yg),function(t,n,i){var e=[],u=r.En(t);if(!u)return e;var s=u.$n;if("tt"!==s.Nn)return e;var o=s&&s.Fn(Ew,"head")[0],a=s&&s.Fn(Ew,"body")[0],c=["ebutts","tts","xml"];if(!a||!o)return e;for(var h=function(t,n){for(var i={},r=t.Fn(Ew,"styling")[0],e=r&&r.Fn(Ew,"style")||[],u=0;u<e.length;u++){var s=e[u],o=s.qn(yw,"id");i[o]=Aw(s,n)}return i}(o,c),f=function(t,n){var i=dd(t),r=Dw(n.Wn("tts:extent"));if(!r)return i;for(var e=0,u=_.keys(i);e<u.length;e++){var s=u[e],o=Dw(i[s].extent);if(o){var a=Iw(o[0],r[0]),c=Iw(o[1],r[1]);i[s].extent=a+" "+c}var h=Dw(i[s].origin);if(h){var f=Iw(h[0],r[0]),v=Iw(h[1],r[1]);i[s].origin=f+" "+v}}return i}(function(t,n){for(var i={},r=t.Fn(Ew,"layout")[0],e=r&&r.Fn(Ew,"region")||[],u=0;u<e.length;u++){var s=e[u],o=s.qn(yw,"id");if(o){i[o]=Aw(s,n);var a=xw(s,n);for(var c in a)B.call(a,c)&&(i[o][c]=a[c])}}return i}(o,c),s),v=o.Fn(Ew,"metadata")[0],d=function t(n,i,r,e){var u,s;var o=i;var a;var c=r;var h=[];var f=[];if(zt(n)){o=null!==(u=Ow(n.Wn("begin"),e))&&void 0!==u?u:o,a=Ow(n.Wn("dur"),0),c=null!==(s=Ow(n.Wn("end"),e))&&void 0!==s?s:void 0!==a?o+a:c;for(var v=n.Mn,d=0;d<v.length;d++)("body"===n.Nn||"div"===n.Nn)&&v[d].mn>1||(h=h.concat(t(v[d],o,c,e)))}var l=function(t,n,i){var r=[];r.push(t,n);for(var e=0;e<i.length;e++){var u=i[e];r.push(u.Zg,u.Jg)}r.sort(H_);for(var s=r.length,o=0;o<s-1;o++)r[o+1]===r[o]&&(di(r,o+1),o--,s=r.length);return r}(o,c,h);for(var _=0;_<l.length-1;_++){var g=Cw(l[_],l[_+1],h);if(g.length<=0&&Pw(n)){var w=n.In(!1);f.push(new vw(l[_],l[_+1],w))}else g.length>0&&function(){var t=n.In(!1);g.forEach(function(n){return t.Hn(n.ZA)}),f.push(new vw(l[_],l[_+1],t))}()}return f}(a,i.tm,i.nm,i.im),l=0;l<d.length;l++){var g=d[l],w=Rw(f,g);e.push(new fw(g.Zg,g.Jg,g.ZA,!1,h,w,v))}return e}(t,0,i)}function Rw(t,n){for(var i=function t(n){var i=[];var r;if(zt(n)){(r=n.Wn("region"))&&i.push(r);for(var e=n.Mn,u=0;u<e.length;u++)i=i.concat(t(e[u]))}return i}(n.ZA),r={},e=0;e<i.length;e++){var u=i[e];r[u]=t[u]}return r}function Iw(t,n){var i=Nw(t),r=Nw(n);if(i&&r&&i===r){var e=Number(t.slice(0,-i.length)),u=Number(n.slice(0,-r.length));return m(e)||m(u)?t:e/u*100+"%"}return t}function Nw(t){return Yn(t,"px")?"px":Yn(t,"em")?"em":Yn(t,"c")?"c":Yn(t,"%")?"%":void 0}function Dw(t){if(t){var n=t.split(" ");if(2===n.length)return[n[0],n[1]]}}function Cw(t,n,i){for(var r=[],e=0;e<i.length;e++){var u=i[e].Zg,s=i[e].Jg;(u>=t&&s<=n||u<n&&s>=n||u<t&&s>t)&&r.push(i[e])}return r}function Ow(t,n){if(t){if(bw.test(t)){var i=bw.exec(t);if(!i)return;var r=Number(i[1])||0,e=Number(i[2])||0,u=Number(i[3])||0,s=i[6];return 3600*r+60*e+u+(s?Number(s)*g.pow(.1,s.length):0)-n}if(Tw.test(t)){var o=Tw.exec(t);if(!o)return;var a,c=Number(o[1]);switch(o[4]){case"h":a=3600*c;break;case"m":a=60*c;break;case"s":a=c;break;case"ms":a=.001*c;break;case"f":case"t":default:a=NaN}return a-n}}}function xw(t,n){for(var i={},r=t.Ln("style")||[],e=0;e<r.length;e++){var u=Aw(r[e],n);for(var s in u)B.call(u,s)&&(i[s]=u[s])}return i}function Pw(t){if(zt(t)){var n=t.Nn.toUpperCase(),i=Boolean(t.Wn("smpte:backgroundImage"));return"BR"===n||i}return t.mn===Vt.pn}function Bw(t){var n=function(t){var n=r.En(t);if(n)return n.$n}(t);return"tt"===(null==n?void 0:n.Nn)}var Lw,Mw=function(t){function n(){return t.apply(this,arguments)||this}qt(n,t);var i=n.prototype;return i.ol=function(n){return t.prototype.ol.call(this,n)},i.al=function(n){var i=t.prototype.al.call(this,n);return i&&(n.Pl=Id.Nl),i},i.Pd=function(){return Bd(this)},n}(sd),Uw=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Vk=new Mw,n.KA=function(t){t.Bd.Pl!==Id.Nl?n.nb(t.Bd):n.ib(t.Bd)},n}qt(n,t);var i=n.prototype;return i.ol=function(t){t.ps(Kv.Gd,this.KA),this.Vk.ol(t)},i.al=function(t){t.Es(Kv.Gd,this.KA),t.Pl=Id.Nl,this.Vk.al(t)},i.nb=function(t){},i.ib=function(t){},i.rb=function(){for(var t=0,n=this.Vk.fl;t<n.length;t++){var i=n[t];i.Es(Kv.Gd,this.KA),i.Jf()}},i.hl=function(){return this.rb(),this.Vk.hl(),vn.resolve()},i.Jf=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Ts(),t.next=3,this.hl();case 3:this.Vk.Jf();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n}(Fi);!function(t){t.eb="subtitles",t.ub="captions",t.sb="descriptions",t.ob="chapters",t.Zm="metadata",t.ab="thumbnails"}(Lw||(Lw={}));var Fw=[Lw.eb,Lw.ub,Lw.sb,Lw.ob,Lw.Zm,Lw.ab];function Hw(t){var n=String(t||"").toLowerCase();return function(t){return"string"==typeof t&&li(Fw,t)}(n)?n:n?Lw.Zm:Lw.eb}var Vw,Xw=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n,i,u)||this).url=r,s.status=e,s}return qt(n,t),n}(De);function Ww(t){return t instanceof _f}function qw(t){return jn(t,Vw.cb)}function zw(t){return t.some(Gw)}function Gw(t){return jn(t,Vw.hb)||jn(t,Vw.Dm)}function jw(t,n){return lw(t)&&zw(n)}function Qw(t,n){return!!t&&(lw(t)?function(t){return t.some(qw)}(n)||zw(n):jn(t,dw.APPLICATION_TTML_XML)||jn(t,dw.TEXT_VTT)||jn(t,dw.IMAGE_JPEG))}function Yw(t,n){return t===Lw.ab||t===Lw.Zm&&n===Lw.ab}function Zw(t,n,i,r){for(var e=0,u=t.Ll.fl;e<u.length;e++){var s=u[e];if(s.Zg>i)break;n<=s.Jg&&r.push(s)}}function Jw(t,n){return F_(t.bl,n.bl)}function $w(t,i){var r=i,e=0;if(Ww(t)&&t.name===df.ov)r=t.Ef.Rf;else if(t instanceof wf){var u=t.vv;if(r=u.Sf,0===(e=u.kf))return new Xw(n.ErrorCode.SUBTITLE_CORS_ERROR,"Could not load the subtitle file. Make sure the source is set correctly and that CORS support is enabled.",r,e,t)}return new Xw(n.ErrorCode.SUBTITLE_LOAD_ERROR,"Could not load the subtitle file.",r,e,t)}function Kw(t){switch(t){case v_.WEBVTT:return"WebVTT";case v_.SRT:return"SRT";case v_.TTML:return"TTML";default:return""}}function ty(t){return Ug(Ig(t))?v_.WEBVTT:Bw(t)?v_.TTML:v_.SRT}!function(t){t.hb="vtt",t.Dm="wvtt",t.cb="stpp"}(Vw||(Vw={}));var ny=function(t){function n(n){var i;return(i=t.call(this,Nd.Ol)||this).errorObject=n,i}return qt(n,t),n.prototype.Pd=function(){return this},T(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}($v),iy=function(t){function i(n,i){var r;return(r=t.call(this)||this).fb=new ki,r.vb=n,r.lb=i,r}qt(i,t);var r=i.prototype;return r._b=function(t){if(t.src){var n=t.kind||Lw.eb,i=this.vb.gb(n,t.label,t.srclang,t.default);return i.Ul=no(t.src),this.ol(i),i}},r.wb=function(){var t=vn.coroutine(fn.mark(function t(i,r){var e,u,s,o,a,c,h,f,v,d,l;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i.Bl=f_.LOADING,e=new ff({Rf:i.Ul,Af:Ro.pn,qf:sf.GET,ds:r}),t.prev=2,t.next=5,this.lb.Ef(e);case 5:return o=t.sent,s=o.kf,t.next=9,o.rf();case 9:u=t.sent,t.next=18;break;case 12:return t.prev=12,t.t0=t.catch(2),Ti(t.t0),i.Bl=f_.ERROR,i.ys(new ny($w(t.t0,i.Ul))),t.abrupt("return");case 18:for(t.prev=18,a=ty(u),i.xu=a,c=[],a===v_.WEBVTT||a===v_.SRT?(h=Rg(u),c=h.Ll):a===v_.TTML&&(c=Sw(u)),f=0,v=c;f<v.length;f++)d=v[f],i.yb(d);t.next=33;break;case 26:return t.prev=26,t.t1=t.catch(18),Ti(t.t1),i.Bl=f_.ERROR,l=Kw(i.xu),i.ys(new ny(new Xw(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Could not parse the "+l+(l?" ":"")+"subtitle file.",i.Ul,s,t.t1))),t.abrupt("return");case 33:i.Bl=f_.LOADED;case 34:case"end":return t.stop()}},t,this,[[2,12],[18,26]])}));return function(n,i){return t.apply(this,arguments)}}(),r.nb=function(t){li(this.Vk.fl,t)&&t.Bl===f_.NONE&&this.wb(t,this.fb.ds).catch(Ei)},r.po=function(){},r.hl=function(){var n=vn.coroutine(fn.mark(function n(){var i,r,e;return fn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(this.fb.hs(),this.fb=new ki,i=0,r=this.Vk.fl;i<r.length;i++)e=r[i],this.vb.mb(e);return n.next=5,t.prototype.hl.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i}(Uw);function ry(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.Tl===n&&r.kb)return r}}function ey(t,n){uy(ry(t.fl,n))}function uy(t){void 0!==t&&(t.Pl=Id.Cl)}function sy(t,n){uy(ry(t.fl,n)||function(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.Tl===n)return r}}(t.fl,n))}function oy(t){for(var n=0;n<Fw.length;n++){var i=Fw[n];i===Lw.ob?sy(t,i):ey(t,i)}}var ay=function(t){function n(){return t.call(this,So.Rc)||this}return qt(n,t),n}(Vi),cy=function(){function t(t){var n=this;this.pb=[],this.Ab=void 0,this.qv=new ki,this.Gr=function(){return 0===n.pb.length?n.bb?hy(n.bb,n.qv.ds).then(n.Tb,n.Tb):n.Tb():n.pb.shift()().then(n.Gr)},this.Tb=function(){if(0!==n.pb.length)return n.Gr();n.Ab=void 0},this.bb=t}var n=t.prototype;return n.Eb=function(t,n){var i=this;return new vn(function(r){var e=new ki;e.fs(i.qv.ds),n&&e.fs(n);var u=function(){e.es()};i.pb.push(function(){var n=hy(t,e.ds);return r(n),n.then(u,u)}),i.Ab||(i.Ab=i.Gr())})},n.hs=function(){return this.Sb(!0)},n.Jf=function(){return this.bb=void 0,this.Sb(!1)},n.Sb=function(t){var n=this.Ab;return this.qv.hs(),t&&(this.qv=new ki),vn.resolve(n)},t}();function hy(t,n){return new vn(function(i){return i(t(n))})}var fy=function(t){function n(n){var i;return(i=t.call(this,So.ac)||this).errorObject=n,i}return qt(n,t),T(n,[{key:"error",get:function(){return this.errorObject.message}},{key:"licenseAcquisitionURL",get:function(){return this.errorObject.url}},{key:"status",get:function(){return this.errorObject.status}},{key:"statusText",get:function(){return this.errorObject.statusText}},{key:"licenseAcquisitionMessage",get:function(){return this.errorObject.response}},{key:"systemCode",get:function(){return this.errorObject.systemCode}}]),n}(Vi);function vy(t,n){var i={};for(var r in t)_.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(i[r]=t[r]);if(null!=t&&"function"==typeof _.getOwnPropertySymbols){var e=0;for(r=_.getOwnPropertySymbols(t);e<r.length;e++)n.indexOf(r[e])<0&&_.prototype.propertyIsEnumerable.call(t,r[e])&&(i[r[e]]=t[r[e]])}return i}var dy,ly="titanium",_y="conax",gy="ezdrm",wy="irdeto",yy="vudrm",my="verimatrix",ky="keyos",py="drmtoday",Ay="expressplay",by="azure",Ty="xstream",Ey="vimond",Sy="axinom",Ry="uplynk",Iy="comcast",Ny="custom";function Dy(t){return M(t.token&&t.deviceId)}function Cy(t){var n,i=null===(n=t.fairplay)||void 0===n?void 0:n.headers;return void 0!==i&&M(i.PreAuthorization)}function Oy(t){var n=t;return Dy(n)&&""!==n.token&&""!==n.deviceId&&!Cy(n)}!function(t){t.Rb=!1,t.Ib=!1,t.Nb=!1,t.Db=!1,t.LOG_ADS_DETAILS=!1,t.LOG_CHROMECAST_DETAILS=!1,t.LOG_CUSTOM_DRM=!1,t.LOG_BUFFERING_VIDEO_MAIN=!1,t.LOG_BUFFERING_VIDEO_SELECTION=!1,t.LOG_BUFFERING_AUDIO_MAIN=!1,t.LOG_BUFFERING_AUDIO_SELECTION=!1,t.Cb=!1}(dy||(dy={}));var xy,Py=function(){function t(t,n,i){this.Ob=t,this.co=n,this.xb=i}return t.prototype.Pb=function(t){return function(t){var n=t.onCertificateRequest;if(void 0!==n&&"function"!=typeof n)throw new l("ContentProtectionIntegration.onCertificateRequest is not a function.");var i=t.onCertificateResponse;if(void 0!==i&&"function"!=typeof i)throw new l("ContentProtectionIntegration.onCertificateResponse is not a function.");var r=t.onLicenseRequest;if(void 0!==r&&"function"!=typeof r)throw new l("ContentProtectionIntegration.onLicenseRequest is not a function.");var e=t.onLicenseResponse;if(void 0!==e&&"function"!=typeof e)throw new l("ContentProtectionIntegration.onLicenseResponse is not a function.");var u=t.extractFairplayContentId;if(void 0!==u&&"function"!=typeof u)throw new l("ContentProtectionIntegration.extractFairplayContentId is not a function.");return t}(this.xb.build(t))},T(t,[{key:"Bb",get:function(){return this.Ob}},{key:"Mo",get:function(){return this.co}}]),t}();!function(t){t.FAILED="FAILED",t.OVERRIDDEN="OVERRIDDEN",t.SUCCEEDED="SUCCEEDED"}(xy||(xy={}));var By=function(){function t(){this.Lb=[]}var i=t.prototype;return i.registerContentProtectionIntegration=function(t,i,e){switch(this.Mb(t,i,e)){case xy.FAILED:throw new Ql(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The keySystem should be 'widevine', 'playready' or 'fairplay', but was "+i+".");case xy.OVERRIDDEN:var u=$y(i);r.ud("Warning: Overwriting an earlier registered integration for "+t+" and "+u+".");break;case xy.SUCCEEDED:$y(i);0}},i.Mb=function(t,n,i){var r=$y(n);if(!r)return xy.FAILED;for(var e=xy.SUCCEEDED,u=0,s=this.Lb.slice();u<s.length;u++){var o=s[u];o.Bb===t&&o.Mo===r&&(e=xy.OVERRIDDEN,vi(this.Lb,o))}return this.Lb.push(new Py(t,r,i)),e},i.Ub=function(t,n){return void 0!==this.Fb(t,n)},i.Hb=function(t,n,i){var r=this.Fb(t,n);if(!r)throw d("No ContentProtectionIntegrationInit was found for integration id "+t+" and key system "+n);return r.Pb(i)},i.Fb=function(t,n){for(var i=0,r=this.Lb;i<r.length;i++){var e=r[i];if(e.Bb===t&&(!n||e.Mo===n))return e}},t}();By.Vb=new By;var Ly={playready:"https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx",widevine:"https://wv-keyos.licensekeyserver.com/",fairplay:"https://fp-keyos.licensekeyserver.com/getkey"};function My(t){if(!t)return!0;var n=t.licenseAcquisitionURL,i=t.certificateURL,r=t.keys,e=t.headers,u=t.useCredentials,s=t.queryParameters,o=t.certificateRequestProcessor,a=t.certificateResponseProcessor,c=t.licenseRequestProcessor,h=t.licenseResponseProcessor;return!(n||i||r||e||u||s||o||a||c||h)}function Uy(t){return t&&void 0!==t.licenseAcquisitionURL}var Fy=Uy,Hy=Uy;function Vy(t){if(!t)return!0;if(zy(t))return!1;var n=t.fairplay,i=t.playready,r=t.widevine,e=t.clearkey,u=t.aes128;return My(n)&&My(i)&&My(r)&&My(e)&&My(u)}function Xy(t){var n=Oy(t),i=function(t){var n,i=t;return Cy(i)&&""!==(null===(n=i.fairplay)||void 0===n?void 0:n.headers.PreAuthorization)&&!Dy(i)}(t);return(!n||!i)&&(n||i)}function Wy(t){return t.integration===wy}function qy(t){var n=t;if(!n)return!1;if(Vy(n))return!1;var i=n.fairplay,r=n.playready,e=n.widevine,u=n.clearkey;if(zy(t))return!0;if(i&&!function(t){var n=t;return n&&(void 0!==n.certificateURL||void 0!==n.certificate)}(i))return!1;if(r&&!Fy(r))return!1;if(e&&!Hy(e))return!1;if(u&&!function(t){var n=t;return n&&(void 0!==n.licenseAcquisitionURL||void 0!==n.keys)}(u))return!1;if(n.integration){if(By.Vb.Ub(n.integration))return!0;switch(n.integration){case ly:if(!function(t){return t.integration===ly&&(Gy(t)||jy(t))}(t))return!1;break;case yy:if(!Qy(t))return!1;break;case my:if(!function(t){return t.integration===my}(t))return!1;break;case wy:if(!Wy(t))return!1;break;case _y:if(!Xy(t))return!1;break;case gy:if(!function(t){return t.integration===gy}(t))return!1;break;case ky:if(!zy(t))return!1;break;case py:if(!function(t){var n=t;return n.integration===py&&(void 0!==n.token||function(t){return void 0!==t.merchant&&void 0!==t.sessionId&&void 0!==t.userId}(n))}(t))return!1;break;case Ay:if(!function(t){return t.integration===Ay}(t))return!1;break;case Ty:if(!Yy(t))return!1;break;case Ey:if(!function(t){return t.integration===Ey}(t))return!1;break;case Sy:if(!Zy(t))return!1;break;case by:if(!function(t){var n=t;return n.integration===by&&void 0!==n.token}(t))return!1;break;case Ry:if(!function(t){return t.integration===Ry}(t))return!1;break;case Iy:if(!function(t){var n=t;return n&&M(n.releasePid)&&M(n.accountId)&&M(n.token)}(t))return!1;break;case Ny:return!0;default:return!1}}return!0}function zy(t){return t.integration===ky}function Gy(t){return void 0!==t.authToken}function jy(t){var n=t;return void 0!==n.accountName&&void 0!==n.customerName&&void 0!==n.portalId}function Qy(t){var n=t;return n.integration===yy&&void 0!==n.token}function Yy(t){var n=t;return n&&n.integration===Ty&&X(n.ticketAcquisitionURL)&&X(n.streamId)}function Zy(t){var n=t;return n.integration===Sy&&void 0!==n.token}function Jy(t,n){var i,r,e,u=n[t],s=null!==(i=null==u?void 0:u.licenseAcquisitionURL)&&void 0!==i?i:Ly[t],o=null!==(r=null==u?void 0:u.customdata)&&void 0!==r?r:n.customdata,a=o?{customData:o}:{},c=dn(dn({},null!==(e=null==u?void 0:u.headers)&&void 0!==e?e:{}),a),h=null!=u?u:{};h.customdata;return dn(dn({},vy(h,["customdata"])),{licenseAcquisitionURL:s,headers:c})}function $y(t){switch(t.toLowerCase()){case"widevine":case Ln:return Ln;case"playready":case xn:return xn;case"fairplay":case Un:return Un}}function Ky(t,i){switch(t){case Dn:return function(t){for(var n={},i=cw.Ck(new DataView(t)),r=0;r<i.length;r++){var e=i[r];n[e.NA]=e.OA}return n}(i);case Cn:case On:return function(t){var n;return(n={})[Mn]=t,n}(i);default:throw new De(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Unsupported initDataType "+t)}}var tm=function(t){function n(n){var i;return(i=t.call(this)||this).Xb=void 0,i.qv=new ki,i.Wb=n,i}qt(n,t);var i=n.prototype;return i.qb=function(t){t&&(this.Xb=t,this.zb(this.qv.ds).catch(Ei))},i.zb=function(){var t=vn.coroutine(fn.mark(function t(n){var i;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.Xb,!r.ld.Ya){t.next=6;break}return t.next=4,this.Gb(n);case 4:if(!t.sent){t.next=6;break}return t.abrupt("return");case 6:if(!i.jb){t.next=10;break}return t.next=9,this.Qb(n);case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Gb=function(){var t=vn.coroutine(fn.mark(function t(n){var i,r,e,u,s,o,a,c;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=this.Xb,r=!1,e=0,u=i.Yb;case 3:if(!(e<u.length)){t.next=25;break}s=u[e],o=0,a=s.Zb;case 6:if(!(o<a.length)){t.next=20;break}return c=a[o],t.prev=8,t.next=11,this.Jb(s.Mo.Bu,c,n);case 11:r=!0,t.next=17;break;case 14:t.prev=14,t.t0=t.catch(8),Ti(t.t0);case 17:o++,t.next=6;break;case 20:if(!r){t.next=22;break}return t.abrupt("return",!0);case 22:e++,t.next=3;break;case 25:return t.abrupt("return",!1);case 26:case"end":return t.stop()}},t,this,[[8,14]])}));return function(n){return t.apply(this,arguments)}}(),i.$b=function(t,n){return this.Jb(t,n,this.qv.ds)},i.hl=function(){return this.Xb=void 0,this.qv.hs(),this.qv=new ki,this.Kb()},i.Jf=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Ts(),t.next=3,this.hl();case 3:this.qv.es();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.tT=function(t,n){if(!this.Xb)return!1;var i=Ky(t,n);return Boolean(i[Bn])},T(n,[{key:"Mo",get:function(){return this.nT()}}]),n}(Fi),nm=function(t){function n(){return t.call(this,So.cc)||this}return qt(n,t),n}(Vi),im=function(t){function n(n){var i;return(i=t.call(this,"Fc")||this).iT=n,i}return qt(n,t),n}(Vi),rm=new cy,em=function(t){function i(i,e,u){var s;return(s=t.call(this)||this).rT=i,s.eT=e,s.uT=u,s.au=!1,s.sT=!1,s.qv=new ki,s.do=function(t){switch(t.xs){case"license-request":s.oT(t.Os,t.Ps).catch(function(t){return s.jo(t)});break;default:s.jo(new Ql(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Unsupported CDM message type: "+t.xs))}},s.aT=function(t){s.rT.Ro.qs(function(t,n){switch(t){case"usable":r.wn(function(){s.sT=!0,s.ys(new nm)},100);break;case"expired":case"status-pending":break;case"output-restricted":case"internal-error":s.ys(new im(n))}})},s.cT=function(t){s.jo(new Ql(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Unknown CDM error"))},i.ps("Os",s.do),i.ps("Cs",s.aT),i.ps("Bs",s.cT),s.Eo=i.Eo.then(function(){return s.hT()}),s}qt(i,t);var e=i.prototype;return e.ko=function(){var t=this;return this.au=!0,rm.Eb(function(n){return t.fT(n)},this.qv.ds)},e.fT=function(){var t=vn.coroutine(fn.mark(function t(i){var r,e,u;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,bi(i),t.next=4,this.eT.vT(this.uT.Hs);case 4:return r=t.sent,t.next=7,this.rT.ko(this.uT.Bu,this.uT.Hs,r);case 7:if(!this.eT.dT){t.next=10;break}return t.next=10,this.eT.Ns("persistenttokenavailable",i);case 10:t.next=19;break;case 12:throw t.prev=12,t.t0=t.catch(0),Ti(t.t0),e=t.t0 instanceof fe?t.t0.oo:void 0,u=new Ql(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while performing the CDM request",t.t0,void 0,void 0,void 0,void 0,e),this.jo(u),u;case 19:case"end":return t.stop()}},t,this,[[0,12]])}));return function(n){return t.apply(this,arguments)}}(),e.oT=function(){var t=vn.coroutine(fn.mark(function t(i,r){var e,u;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r&&this.eT.lT(r),t.prev=1,!ae(i)){t.next=8;break}return t.next=5,this.eT._T(new k(i),this.qv.ds);case 5:e=t.sent,t.next=11;break;case 8:return t.next=10,this.eT.gT(new k(i),this.qv.ds);case 10:e=t.sent;case 11:t.next=18;break;case 13:if(t.prev=13,t.t0=t.catch(1),!Ai(t.t0)){t.next=17;break}return t.abrupt("return");case 17:throw t.t0;case 18:return t.prev=18,t.next=21,this.rT.bo(e);case 21:t.next=27;break;case 23:throw t.prev=23,t.t1=t.catch(18),u=t.t1 instanceof fe?t.t1.oo:void 0,new Ql(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while applying license response",t.t1,void 0,void 0,void 0,void 0,u);case 27:case"end":return t.stop()}},t,this,[[1,13],[18,23]])}));return function(n,i){return t.apply(this,arguments)}}(),e.jo=function(t){var i=t instanceof Ql?t:new Ql(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.ys(new fy(i)),this.mo()},e.hT=function(){this.rT.Es("Os",this.do),this.rT.Es("Cs",this.aT),this.rT.Es("Bs",this.cT),this.sT=!1,this.qv.hs()},e.mo=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Ts(),this.hT(),t.next=4,this.rT.mo().catch(j);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i}(Fi),um=[So.cc,So.ac,So.Uc],sm=function(t){function n(n,i,r){var e;(e=t.call(this)||this).wT=[],e.yT=[],e.No=n,e.Wb=r,e.mT=i;var u=i.kT;return u&&Ci(n.Co(u)),e}qt(n,t);var i=n.prototype;return i.pT=function(){return this.AT||(this.AT=this.bT()),this.AT},i.bT=function(){var t=vn.coroutine(fn.mark(function t(){var n;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.mT._T(new k(oe()));case 2:return n=t.sent,t.next=5,this.No.Co(n.buffer);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.TT=function(){var t=vn.coroutine(fn.mark(function t(n){var i,r,e=this;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.yT.push(n),t.next=4,this.No.Do("temporary");case 4:return i=t.sent,r=new em(i,this.mT,n),this.wT.push(r),r.ps(um,this.gs),r.Eo.then(function(){return e.ET(r)}),t.abrupt("return",r);case 10:return t.prev=10,vi(this.yT,n),t.finish(10);case 13:case"end":return t.stop()}},t,this,[[0,,10,13]])}));return function(n){return t.apply(this,arguments)}}(),i.ST=function(t){if(t.RT)return!1;for(var n=0,i=this.wT;n<i.length;n++){if(om(i[n].uT,t))return!0}for(var r=0,e=this.yT;r<e.length;r++){if(om(e[r],t))return!0}return!1},i.ET=function(t){t.Es(um,this.gs),vi(this.wT,t)},i.Jf=function(){var t=vn.coroutine(fn.mark(function t(){var n;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Ts(),n=this.wT.slice(),this.wT.length=0,t.next=5,vn.all(n.map(function(t){return t.mo()}));case 5:this.mT.Jf();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),T(n,[{key:"IT",get:function(){return this.mT.IT}},{key:"Mo",get:function(){return this.mT.Mo}},{key:"NT",get:function(){return this.mT.NT}},{key:"DT",get:function(){return this.mT.DT}},{key:"CT",get:function(){return this.mT.CT}}]),n}(Fi);function om(t,n){return!t.RT&&t.Bu===n.Bu&&ur(t.Hs,n.Hs)}var am=function(t){function n(){return t.call(this,"persistenttokenavailable")||this}return qt(n,t),n}(Vi),cm=function(t){function i(n,i,r,e,u){var s;return(s=t.call(this)||this).OT=void 0,s.Mo=n,s.IT=i,s.DT=r,s.lb=e,s.xT=u,s.NT=s.PT(i),s}qt(i,t);var e=i.prototype;return e.BT=function(){return this.OT},e.lT=function(t){this.OT=t},e.LT=function(){return this.NT.licenseAcquisitionURL||this.BT()},e.vT=function(t){return vn.resolve(void 0)},e.MT=function(){var t=vn.coroutine(fn.mark(function t(i,r,e,u){var s,o;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==(s=this.UT(i,r,e,u)).Rf){t.next=3;break}throw new Ql(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 3:return t.prev=3,t.next=6,this.Td.Ef(s);case 6:return o=t.sent,t.next=9,o.ef(r);case 9:return t.abrupt("return",t.sent);case 12:return t.prev=12,t.t0=t.catch(3),Ti(t.t0),t.next=17,this.FT(t.t0,s.Rf,u);case 17:return t.abrupt("return");case 18:case"end":return t.stop()}},t,this,[[3,12]])}));return function(n,i,r,e){return t.apply(this,arguments)}}(),e.UT=function(t,n,i,r){var e=this.HT().qc(),u=this.Qf,s={Rf:this.VT(),Af:n,pf:e,cf:t,Qf:u,qf:sf.POST,zf:0,ds:r,xu:of.Of,Gf:i};return new ff(s)},e.oT=function(t,n){return vn.resolve(t)},e.XT=function(t,n,i,r){return vn.resolve(t)},e.HT=function(){return new Do(this.NT.headers||{})},e.FT=function(){var t=vn.coroutine(fn.mark(function t(i,r,e){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:throw new Ql(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during license server request",i);case 1:case"end":return t.stop()}},t)}));return function(n,i,r){return t.apply(this,arguments)}}(),e.VT=function(t,n){var i=n,e=this.NT.queryParameters;if(!i){var u=this.LT();if(!u)return"";i=u}if(e||t){var s=r.Ha(i);t&&to(s,t),e&&to(s,e),i=s.href}return i},e.WT=function(t){return function(t,n){var i=n.licenseResponseProcessor;return vn.resolve(new k(hm(t,i)))}(t,this.NT)},e.qT=function(){var t=vn.coroutine(fn.mark(function t(n,i,r){var e,u,s;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.zT(n,r);case 2:return e=t.sent,t.next=5,this.MT(e,this.xT,i,r);case 5:return u=t.sent,t.next=8,this.WT(u);case 8:return s=t.sent,t.abrupt("return",s);case 10:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),e.Jf=function(){this.Ts()},T(i,[{key:"Td",get:function(){return this.lb}},{key:"dT",get:function(){return!1}},{key:"kT",get:function(){var t=this.NT.certificate;if(t)return X(t)?tr(t):ne(t)}},{key:"GT",get:function(){return"optional"}},{key:"Uo",get:function(){return!1}},{key:"CT",get:function(){return!1}},{key:"Qf",get:function(){return Boolean(this.NT.useCredentials)}}]),i}(Fi);function hm(t,i){if(!t||!i||"function"!=typeof i)return t;try{return i(t)}catch(t){throw new Ql(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error while preprocessing DRM data",t)}}function fm(t,n){var i=re(t).buffer,r=n.licenseRequestProcessor;return vn.resolve(hm(i,r))}var vm,dm=function(t){function n(n,i,r,e){return t.call(this,Vn,n,i,r,e)||this}qt(n,t);var i=n.prototype;return i.PT=function(t){return t.widevine||{}},i._T=function(){var t=vn.coroutine(fn.mark(function t(n,i){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.kT){t.next=2;break}return t.abrupt("return",this.kT);case 2:return t.abrupt("return",this.gT(new k(n),i));case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.gT=function(n,i){return t.prototype.qT.call(this,n,af.Lf,i)},n}(cm);!function(t){t.Nu="Widevine",t.Iu="PlayreadyV2",t.jT="PlayreadyV2",t.QT="PlayreadyV3",t.Du="Fairplay"}(vm||(vm={}));var lm={Widevine:{DRMProvider:"Google",DRMVersion:"1.4.8.86",DRMType:"Widevine"},PlayreadyV2:{DRMProvider:"Microsoft",DRMVersion:"2.9",DRMType:"Playready"},PlayreadyV3:{DRMProvider:"Microsoft",DRMVersion:"3",DRMType:"Playready"},Fairplay:{DRMProvider:"Apple",DRMType:"FairPlay",DRMVersion:"1.0"}};function _m(t,n){var i,e,u,s,o=lm[n],a=t.accountName;return{CustomerName:t.customerName,AccountName:a,PortalId:t.portalId,FriendlyName:t.friendlyName,DeviceInfo:{FormatVersion:"1",DeviceType:"PC",OSType:null===(i=r.dd)||void 0===i?void 0:i.ld,OSVersion:null===(e=r.dd)||void 0===e?void 0:e.Ed,DRMProvider:o.DRMProvider,DRMVersion:o.DRMVersion,DRMType:o.DRMType,DeviceVendor:null===(u=r.dd)||void 0===u?void 0:u.Sd,DeviceModel:null===(s=r.dd)||void 0===s?void 0:s.Rd}}}function gm(t,i){if(!t.accountName)throw new Ql(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, accountName is not set.");if(!t.customerName)throw new Ql(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, customerName is not set.");if(!t.portalId)throw new Ql(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, portalId is not set.");throw new Ql(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration.")}function wm(t,n,i){var r;if(Gy(t))r={AuthToken:t.authToken,Payload:n};else{if(!jy(t))throw gm(t,i);r={LatensRegistration:_m(t,i),Payload:n}}return cr(JSON.stringify(r))}function ym(t,n,i){return mm.apply(this,arguments)}function mm(){return(mm=vn.coroutine(fn.mark(function t(i,r,e){var u,s,o,a;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u=i.vv){t.next=3;break}throw new Ql(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",i,r);case 3:return s=u,t.prev=4,t.next=7,s.if(e);case 7:o=t.sent,a=km(o),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),a="";case 14:throw new Ql(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",i,s.Ef.Rf,s.kf,s.bf,a);case 15:case"end":return t.stop()}},t,null,[[4,11]])}))).apply(this,arguments)}function km(t){if(t){if(t.WvProxyErr)return t.WvProxyErr.desc;if(t.DrmErr)return t.DrmErr.desc}}var pm=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r,Ro.Xc)||this).YT=!0,e}qt(i,t);var r=i.prototype;return r.FT=function(t,n,i){return ym(t,n,i)},r.zT=function(){var t=vn.coroutine(fn.mark(function t(i,r){var e,u;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.IT){t.next=3;break}throw new Ql(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Widevine DRM configuration.");case 3:return u=ir(i),t.abrupt("return",wm(e,u,vm.Nu));case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.WT=function(t){var i;if(!t.license)throw new Ql(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Widevine license server");return i=tr(t.license),vn.resolve(i)},r.ZT=function(t){return vn.resolve(new k(t))},r._T=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r,e;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.JT(),t.next=3,this.zT(n,i);case 3:return r=t.sent,t.next=6,this.MT(r,Ro.Vc,af.Mf,i);case 6:return e=t.sent,t.next=9,this.ZT(e);case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.gT=function(){var n=vn.coroutine(fn.mark(function n(i,r){var e;return fn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.gT.call(this,i,r);case 2:return e=n.sent,this.JT(),n.abrupt("return",e);case 5:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),r.JT=function(){this.ys(new am),this.YT=!1},T(i,[{key:"dT",get:function(){return this.YT}},{key:"GT",get:function(){return"required"}}]),i}(dm),Am=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r,Ro.Vc)||this).lT("https://widevine-proxy.drm.technology/proxy"),e}return qt(i,t),i.prototype.zT=function(){var t=vn.coroutine(fn.mark(function t(i,r){var e,u,s,o;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fm(i,this.NT);case 2:if(e=t.sent,u=this.DT,r=new k(e),s=[].slice.call(r),o=this.$T){t.next=8;break}throw new Ql(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The Widevine vuDRM token has not been correctly configured.");case 8:return t.abrupt("return",JSON.stringify({token:o,drm_info:s,kid:u}));case 9:case"end":return t.stop()}var r},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),T(i,[{key:"$T",get:function(){if(Qy(this.IT))return this.IT.token}}]),i}(dm);function bm(t,n){var i=n||{};return t.ticket&&t.sessionId&&(i=dn(dn({},i),{SessionId:t.sessionId,Ticket:t.ticket})),dn(dn({},i),{CrmId:t.crmId,AccountId:t.accountId,ContentId:t.contentId})}var Tm=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,Ro.Vc)||this).lT("https://emeademo.dev.ott.irdeto.com/Widevine/getlicense"),e}qt(n,t);var i=n.prototype;return i.zT=function(t,n){return fm(t,this.NT)},i.VT=function(n,i){var r=n;return Wy(this.IT)&&(r=bm(this.IT,r)),t.prototype.VT.call(this,r,i)},n}(dm),Em="Conax-Custom-Data";function Sm(t,n,i){var r=t&&Xy(t)&&t;if(r&&!i.has(Em)){var e=Oy(r)?r.token:void 0,u=Oy(r)?r.deviceId:void 0,s=JSON.stringify({Version:"1.0.0",CxAuthenticationDataToken:e,CxClientInfo:{DeviceType:"Browser",DrmClientType:n+"-HTML5",DrmClientVersion:"1.0.0",CxDeviceId:u}});i.set(Em,s)}return i}var Rm=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,Ro.Vc)||this).lT("https://connect.conax.com:8094/license"),e}qt(n,t);var i=n.prototype;return i.zT=function(t,n){return fm(t,this.NT)},i.HT=function(){var n=t.prototype.HT.call(this);return Sm(this.IT,"Widevine",n)},n}(dm);function Im(t){var n=Wr(new k(t));return tr(JSON.parse(n).license)}function Nm(t){return"string"==typeof t.token?t.token:cr(JSON.stringify({userId:t.userId,sessionId:t.sessionId,merchant:t.merchant}))}function Dm(t,n,i){var r;return r=i.token?"x-dt-auth-token":"dt-custom-data",t.set(r,n),t}var Cm=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,Ro.Vc)||this).lT("https://lic.drmtoday.com/license-proxy-widevine/cenc/"),e}qt(n,t);var i=n.prototype;return i.zT=function(t,n){return fm(t,this.NT)},i.WT=function(t){return vn.resolve(Im(t))},i.HT=function(){return Dm(t.prototype.HT.call(this),this.$T,this.IT)},T(n,[{key:"$T",get:function(){return Nm(this.IT)}}]),n}(dm),Om=function(t){function n(n,i,r){return t.call(this,n,i,r,Ro.Vc)||this}qt(n,t);var i=n.prototype;return i.zT=function(t,n){return fm(t,this.NT)},i.HT=function(){var n=t.prototype.HT.call(this),i=this.IT.token;return n.set("Authorization","Bearer "+i),n},n}(dm);function xm(t,n,i,r){return Pm.apply(this,arguments)}function Pm(){return(Pm=vn.coroutine(fn.mark(function t(i,r,e,u){var s,o,a,c,h,f,v;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Yy(i)){t.next=2;break}throw new Ql(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Xstream DRM Configuration");case 2:return(s=new Do).append("Cache-Control","no-cache"),s.append("Content-Type","application/json"),(o=i.sessionId)&&s.append("XSSESSION",o),a=i.streamId,c=i.fairplay?"persistent"===i.fairplay.licenseType?"persistent":"non-persistent":i.widevine&&"persistent"===i.widevine.licenseType?"persistent":"non-persistent",h={drmType:r,licenseType:c,streamId:a},f={Rf:i.ticketAcquisitionURL,Af:Ro.Xc,pf:s,qf:sf.POST,cf:JSON.stringify(h),ds:u},t.next=13,e.Ef(f);case 13:return v=t.sent,t.next=16,v.if();case 16:return t.abrupt("return",t.sent);case 17:case"end":return t.stop()}},t)}))).apply(this,arguments)}var Bm=function(t){function n(n,i,r){return t.call(this,n,i,r,Ro.Xc)||this}qt(n,t);var i=n.prototype;return i.HT=function(){var n=t.prototype.HT.call(this);return n.set("Content-Type","application/json"),n},i.zT=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r,e,u,s;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=ar(n.buffer),e=this.IT,t.next=4,xm(e,"widevine_modular",this.Td,i);case 4:return u=t.sent,this.lT(u.licenseServerUrl),s=qr(JSON.stringify({payload:r,ticket:u.ticket})),t.abrupt("return",fm(s,this.NT));case 8:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.WT=function(t){var n=t;return vn.resolve(tr(n.license))},n}(dm),Lm=function(t){function i(n,i,r){return t.call(this,n,i,r,Ro.Vc)||this}qt(i,t);var r=i.prototype;return r.zT=function(t,n){return fm(t,this.NT)},r.HT=function(){if(!Zy(this.IT))throw new Ql(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.HT.call(this);return i.set("X-AxDRM-Message",this.IT.token),i},i}(dm);function Mm(t){for(var n=new k(2*t.length),i=0;i<t.length;i+=1)n[2*i]=t.charCodeAt(i),n[2*i+1]=0;return n}var Um=function(t){function n(n,i,r){var e;return(e=t.call(this,Hn,n,i,r,Ro.Vc)||this).KT=void 0,e}qt(n,t);var i=n.prototype;return i.PT=function(t){return t.playready||{}},i.HT=function(){var n=new Do(this.KT);return n.Gc(t.prototype.HT.call(this)),n},i.tE=function(t){return t.length>=1&&t[0].Mn.length>0},i.vT=function(n){var i=this.IT.playready.customData;if(i){var r=Mm(i),e=Mm('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">'+ir(r)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>");return vn.resolve({playready:{$o:e}})}return t.prototype.vT.call(this,n)},i.zT=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fm(n,this.NT);case 2:return r=t.sent,t.abrupt("return",this.nE(r));case 4:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.nE=function(){var t=vn.coroutine(fn.mark(function t(n){var i,e,u,s,o,a,c,h,f,v,d,l,_,g,w,y;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:o=null,a=new DataView(n),c=Hr(a,new ee,!0),t.prev=3,h=r.En(c),t.next=10;break;case 7:return t.prev=7,t.t0=t.catch(3),t.abrupt("return",o);case 10:for(f=null===(i=h.Ln("PlayReadyKeyMessage")[0])||void 0===i?void 0:i.Ln("LicenseAcquisition")[0],v=null!==(e=null==f?void 0:f.Ln("Challenge"))&&void 0!==e?e:[],this.tE(v)&&(o=or(v[0].Zn)),d=new Do,l=null!==(s=null===(u=null==f?void 0:f.Ln("HttpHeaders")[0])||void 0===u?void 0:u.Ln("HttpHeader"))&&void 0!==s?s:[],_=0;_<l.length;_++)g=l[_],w=g.Ln("name")[0].Zn,y=g.Ln("value")[0].Zn,d.append(w,y);return this.KT=d,t.abrupt("return",o);case 18:case"end":return t.stop()}},t,this,[[3,7]])}));return function(n){return t.apply(this,arguments)}}(),i._T=function(t,n){return vn.resolve(t)},i.gT=function(n,i){return t.prototype.qT.call(this,n,af.Uf,i)},T(n,[{key:"Uo",get:function(){return Boolean(this.IT.playready.customData)}}]),n}(cm),Fm=function(){function t(n){this.iE=n,this.rE=t.eE(n)}return t.eE=function(t){return"3"===t.version?vm.QT:vm.jT},t.prototype.uE=function(){var t={};if(this.rE===vm.QT){var n={LatensRegistration:_m(this.iE,vm.QT)};t["X-TITANIUM-DRM-CDATA"]=cr(JSON.stringify(n))}return t},T(t,[{key:"sE",get:function(){return this.rE}},{key:"Uo",get:function(){return this.rE===vm.jT}}]),t}();var Hm=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r)||this).oE=new Fm(e.IT),e}qt(i,t);var e=i.prototype;return e.vT=function(t){var i=this.IT;if(!this.IT)throw new Ql(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium PlayReady DRM configuration.");if(jy(i)){var r={};return r.playready={$o:Vm(i,this.oE.sE)},vn.resolve(r)}return vn.reject(gm(i,vm.Iu))},e.HT=function(){var n=new Do(this.oE.uE());return n.Gc(t.prototype.HT.call(this)),n},e.FT=function(){var t=vn.coroutine(fn.mark(function t(i,e,u){var s,o,a,c,h,f,v,d;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=i.vv){t.next=3;break}throw new Ql(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",i,e);case 3:return t.prev=3,t.next=6,o.uf(u);case 6:h=t.sent,f=Wr(new k(h)),(v=r.En(f))&&(d=kw(v,"CustomData")).length>0&&(a=JSON.parse(d[0].Zn),c=null===(s=a.DrmErr)||void 0===s?void 0:s.desc),t.next=14;break;case 12:t.prev=12,t.t0=t.catch(3);case 14:throw new Ql(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",i,e,o.kf,o.bf,c);case 15:case"end":return t.stop()}},t,null,[[3,12]])}));return function(n,i,r){return t.apply(this,arguments)}}(),e.tE=function(t){if(1!==t.length)throw new Ql(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"PlayReady license message incorrectly formatted, Challenge not found.");return!0},T(i,[{key:"Uo",get:function(){return this.oE.Uo}}]),i}(Um);function Vm(t,n){var i=_m(t,n),r=i.DeviceInfo.FormatVersion,e=cr('<LatensRegistration formatversion="'+r+'"><AccountName>'+i.AccountName+"</AccountName><CustomerName>"+i.CustomerName+"</CustomerName><PortalID>"+i.PortalId+'</PortalID><DeviceInfo formatversion="'+r+'"><DeviceType>'+i.DeviceInfo.DeviceType+"</DeviceType><OSType>"+i.DeviceInfo.OSType+"</OSType><OSVersion>"+i.DeviceInfo.OSVersion+"</OSVersion><DRMProvider>"+i.DeviceInfo.DRMProvider+"</DRMProvider><DRMVersion>"+i.DeviceInfo.DRMVersion+"</DRMVersion><DRMType>"+i.DeviceInfo.DRMType+"</DRMType><DeviceVendor>"+i.DeviceInfo.DeviceVendor+"</DeviceVendor><DeviceModel>"+i.DeviceInfo.DeviceModel+"</DeviceModel></DeviceInfo></LatensRegistration>"),u=Gr(("<TitaniumCustomData>"+e+"</TitaniumCustomData>").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/&lt;/g,"<").replace(/&gt;/g,">"),!0);return Gr('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0"><CustomData encoding="base64encoded">'+ir(u)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>",!0)}var Xm,Wm=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r)||this).lT("https://playready-license.drm.technology/rightsmanager.asmx"),e}qt(i,t);var r=i.prototype;return r.tE=function(t){if(1!==t.length)throw new Ql(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Vudrm PlayReady license message incorrectly formatted, Challenge not found.");return!0},r.VT=function(n,i){var r=dn(dn({},n||{}),{token:this.$T});return t.prototype.VT.call(this,r,i)},T(i,[{key:"$T",get:function(){if(Qy(this.IT))return this.IT.token}}]),i}(Um),qm=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).lT("https://emeademo.dev.ott.irdeto.com/playready/rightsmanager.asmx"),e}return qt(n,t),n.prototype.VT=function(n,i){var r=n;return Wy(this.IT)&&(r=bm(this.IT,r)),t.prototype.VT.call(this,r,i)},n}(Um),zm=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).lT("https://connect.conax.com:8010/cxplayready/rightsmanager.asmx"),e}return qt(n,t),n.prototype.HT=function(){var n=t.prototype.HT.call(this);return Sm(this.IT,"PlayReady",n)},n}(Um),Gm=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).lT("https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx"),e}qt(n,t);var i=n.prototype;return i.WT=function(n){return(Qn(Wr(new k(n)),"<?xml")?Xm.aE:Xm.if)===Xm.if?vn.resolve(Im(n)):vn.resolve(t.prototype.WT.call(this,new k(n)))},i.HT=function(){return Dm(t.prototype.HT.call(this),this.$T,this.IT)},T(n,[{key:"$T",get:function(){return Nm(this.IT)}}]),n}(Um);!function(t){t[t.aE=0]="aE",t[t.if=1]="if"}(Xm||(Xm={}));var jm,Qm=function(t){function n(n,i,r){return t.call(this,n,i,r)||this}qt(n,t);var i=n.prototype;return i.HT=function(){var n=t.prototype.HT.call(this);return this.cE&&n.set("Ticket",this.cE),n.set("Content-Type","text/xml"),n},i.zT=function(){var n=vn.coroutine(fn.mark(function n(i,r){var e,u;return fn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e=this.IT,n.next=3,xm(e,"playready",this.Td,r);case 3:return u=n.sent,this.lT(u.licenseServerUrl),this.cE=u.ticket,n.abrupt("return",t.prototype.zT.call(this,i,r));case 7:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),n}(Um),Ym=function(t){function i(){return t.apply(this,arguments)||this}return qt(i,t),i.prototype.HT=function(){if(!Zy(this.IT))throw new Ql(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.HT.call(this);return i.set("X-AxDRM-Message",this.IT.token),i},i}(Um);!function(t){t.Xc="application/json",t.hE="application/x-www-form-urlencoded",t.fE="application/octet-stream",t.pn="text/plain;charset=UTF-8"}(jm||(jm={}));var Zm=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n.Mo,i,r,e,u)||this).vE="",s.dE=void 0,s.lE=n.ua,s}qt(n,t);var i=n.prototype;return i._E=function(){return this.NT.certificateURL||this.dE},i.gE=function(t){this.dE=t},i.zT=function(){var t=vn.coroutine(fn.mark(function t(n){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.wE(n,this.vE));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.wE=function(){var t=vn.coroutine(fn.mark(function t(n,i){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return","spc="+encodeURIComponent(ir(n))+"&assetId="+encodeURIComponent(i));case 1:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}(),i.PT=function(t){return t.fairplay||{}},i.yE=function(t){var n=t.indexOf("?");if(n>=0)return vn.resolve(t.substr(n+1));var i=t.split("/");return vn.resolve(i[i.length-1])},i.vT=function(){var t=vn.coroutine(fn.mark(function t(n){var i,r,e,u;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=null!==(i=this.lE)&&void 0!==i?i:Qr(new k(n)),t.next=3,this.yE(r);case 3:return e=t.sent,this.vE=e,(u={}).fairplay={ua:e},t.abrupt("return",u);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.HT=function(){var n=t.prototype.HT.call(this);return n.set("Content-Type",this.mE),n},i._T=function(){var t=vn.coroutine(fn.mark(function t(n,i){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.kT){t.next=2;break}return t.abrupt("return",this.kT);case 2:return t.next=4,this.kE(i);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.gT=function(n,i){return t.prototype.qT.call(this,n,af.Pf,i)},i.pE=function(t){var n=this._E(),i=this.HT(),r={Rf:n,Af:Ro.Vc,pf:i,qf:sf.GET,Qf:!1,cf:null,zf:0,ds:t,xu:of.Of,Gf:af.Bf};return new ff(r)},i.kE=function(){var t=vn.coroutine(fn.mark(function t(n){var i,r,e;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.pE(n),t.next=3,this.Td.Ef(i);case 3:return r=t.sent,t.next=6,r.uf();case 6:return e=t.sent,t.abrupt("return",new k(e));case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.WT=function(t){var n;if("string"==typeof t){var i=t.trim();"<ckc>"===i.substr(0,5)&&"</ckc>"===i.substr(-6)&&(i=i.slice(5,-6)),n=tr(i)}else n=new k(t);return vn.resolve(n)},i.VT=function(n,i){var r=t.prototype.VT.call(this,n,i);return Qn(r,"skd:")&&(r=r.substr("skd:".length)),r},T(n,[{key:"CT",get:function(){return!0}},{key:"mE",get:function(){return jm.hE}}]),n}(cm),Jm=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,Ro.Vc)||this}qt(n,t);var i=n.prototype;return i.yE=function(){var t=vn.coroutine(fn.mark(function t(n){var i,r,e;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.split("://",1),r=i[0].slice(-3),i=n.split(";",2),e=i.length>1?i[1]:"",t.abrupt("return","skd"===r.toLowerCase()?e:"");case 5:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.zT=function(){var t=vn.coroutine(fn.mark(function t(n){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.WT=function(t){return vn.resolve(new k(t))},i.VT=function(n,i){var r=n||{};return r.p1=Ft(),t.prototype.VT.call(this,r,i)},T(n,[{key:"mE",get:function(){return jm.fE}}]),n}(Zm),$m=function(t){function i(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,Ro.Vc)||this).lT("https://fairplay-license.drm.technology/license"),u.gE("https://fairplay-license.drm.technology/certificate"),u}qt(i,t);var r=i.prototype;return r.wE=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={token:this.$T,contentId:i,payload:ir(n)},t.abrupt("return",JSON.stringify(r));case 2:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.WT=function(t){return vn.resolve(new k(t))},r.HT=function(){var n=t.prototype.HT.call(this);return n.set("x-vudrm-token",this.$T),n},T(i,[{key:"mE",get:function(){return jm.Xc}},{key:"$T",get:function(){if(!Qy(this.IT))throw new Ql(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Token is required for FairPlay VuDrm.");return this.IT.token}}]),i}(Zm),Km="Verimatrix Fairplay license response incorrectly formatted. Invalid json.",tk="Verimatrix Fairplay license response incorrectly formatted. Ckc not found.",nk=function(t){function i(n,i,r,e){return t.call(this,n,i,r,e,Ro.Vc)||this}return qt(i,t),i.prototype.WT=function(i){var r=function(t){var i;try{i=JSON.parse(t).ckc}catch(t){throw new Ql(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,Km)}if(!i)throw new Ql(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,tk);return i}(Wr(new DataView(i)));return t.prototype.WT.call(this,r)},i}(Zm);var ik=function(t){function i(n,i,r,e){return t.call(this,n,i,r,e,Ro.Xc)||this}qt(i,t);var r=i.prototype;return r.zT=function(){var t=vn.coroutine(fn.mark(function t(i){var r,e;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.IT){t.next=3;break}throw new Ql(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Fairplay DRM configuration.");case 3:return e=ir(i),t.abrupt("return",wm(r,e,vm.Du));case 5:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.WT=function(t){try{var i;if(X(t)){var r=t.trim();i=JSON.parse(r)}else i=t;if(i.license){var e=or(i.license);return vn.resolve(new k(e))}return vn.reject(new Ql(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Titanium Fairplay license server"))}catch(t){return vn.reject(new Ql(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Fairplay license server"))}},r.FT=function(t,n,i){return ym(t,n,i)},T(i,[{key:"mE",get:function(){return jm.Xc}}]),i}(Zm),rk=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,Ro.Vc)||this).lT("https://emeademo.dev.ott.irdeto.com/streaming/getckc"),u.gE("https://emeademo.dev.ott.irdeto.com/streaming/getcertificate"),u}qt(n,t);var i=n.prototype;return i._E=function(){var n=t.prototype._E.call(this);if(!n)return n;var i=r.Ha(n),e=this.IT;return Wy(e)&&to(i,{accountId:e.accountId,applicationId:e.applicationId||""}),i.href},i.yE=function(){var n=vn.coroutine(fn.mark(function n(i){return fn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!Wy(this.IT)){n.next=2;break}return n.abrupt("return",this.IT.contentId);case 2:return n.abrupt("return",t.prototype.yE.call(this,i));case 3:case"end":return n.stop()}},n,this)}));return function(t){return n.apply(this,arguments)}}(),i.zT=function(){var t=vn.coroutine(fn.mark(function t(n){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.WT=function(t){return vn.resolve(new k(t))},i.VT=function(n,i){var r=n;return Wy(this.IT)&&(r=function(t,n){return dn(dn({},bm(t,n)),{KeyId:t.keyId})}(this.IT,r)),t.prototype.VT.call(this,r,i)},T(n,[{key:"mE",get:function(){return jm.fE}}]),n}(Zm),ek=function(t){function i(i,r,e,u){var s;if(s=t.call(this,i,r,e,u,Ro.pn)||this,!Xy(r))throw new Ql(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Conax configuration");return s.lT("https://connect.conax.com:8097/license"),s}qt(i,t);var r=i.prototype;return r.HT=function(){var n=t.prototype.HT.call(this);return Sm(this.IT,"FairPlay",n)},r.kE=function(){var t=vn.coroutine(fn.mark(function t(n){var i,r,e,u;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this._E(),r={Rf:i,Af:Ro.Vc,pf:{},qf:sf.GET,Qf:!1,cf:null,zf:0,ds:n,xu:of.Of,Gf:af.Bf},t.next=4,this.Td.Ef(r);case 4:return e=t.sent,t.next=7,e.uf();case 7:return u=t.sent,t.abrupt("return",new k(u));case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.zT=function(){var t=vn.coroutine(fn.mark(function t(n){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.yE=function(t){var n,i=t.indexOf("?");return 0===t.indexOf("skd://")?(n=i>=0?t.substring("skd://".length,i):t.substring("skd://".length),vn.resolve(Wr(tr(n)))):vn.resolve("unknown")},r.WT=function(t){try{var n=JSON.parse(t);return vn.resolve(new k(or(n.CkcMessage)))}catch(t){return vn.reject("CFLRW-66")}},i}(Zm),uk=function(t){function i(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,Ro.pn)||this).lT(Ly[In.Du]),u}qt(i,t);var r=i.prototype;return r.yE=function(t){return 0===t.indexOf("skd://")?vn.resolve(t.substring("skd://".length,40)):vn.reject(new Ql(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error while determining the KeyOS Content ID."))},r.wE=function(){var t=vn.coroutine(fn.mark(function t(n,i){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return","spc="+ir(n)+"&assetId="+i);case 1:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}(),i}(Zm),sk=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,Ro.pn)||this).lT("https://lic.drmtoday.com/license-server-fairplay/"),u}qt(n,t);var i=n.prototype;return i.wE=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r="spc="+encodeURIComponent(ir(n))+"&"+encodeURI(i),"persistent"!==this.NT.licenseType){t.next=3;break}return t.abrupt("return",r+"&offline=true");case 3:return t.abrupt("return",r);case 4:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.HT=function(){return Dm(t.prototype.HT.call(this),this.$T,this.IT)},T(n,[{key:"$T",get:function(){return Nm(this.IT)}}]),n}(Zm),ok=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,Ro.Vc)||this}qt(n,t);var i=n.prototype;return i.yE=function(t){var n=t;return Qn(n,"skd:")&&(n="http:"+n.substring(4)),Qn(n,"http:")||Qn(n,"https:")?vn.resolve(r.Ha(n).hostname):vn.reject(new d("Could not parse ExpressPlay FairPlay content ID."))},i.zT=function(){var t=vn.coroutine(fn.mark(function t(n){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.WT=function(t){return vn.resolve(new k(t))},T(n,[{key:"mE",get:function(){return jm.fE}}]),n}(Zm),ak=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,Ro.pn)||this}return qt(n,t),n.prototype.HT=function(){var n=t.prototype.HT.call(this),i=this.IT.token;return n.set("Authorization","Bearer "+i),n},n}(Zm),ck=function(t){function n(n,i,r,e){var u;if(u=t.call(this,n,i,r,e,Ro.Xc)||this,!Yy(i))throw new d("Invalid Xstream DRM configuration");return u}qt(n,t);var i=n.prototype;return i.kE=function(){var t=vn.coroutine(fn.mark(function t(n){var i,r,e,u,s;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this._E(),r=this.HT(),e={Rf:i,Af:Ro.Xc,pf:r,qf:sf.POST,ds:n,xu:of.Of,Gf:af.Bf},t.next=5,this.Td.Ef(e);case 5:return u=t.sent,t.next=8,u.if();case 8:return s=t.sent,t.abrupt("return",new k(tr(s.certificate)));case 10:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.gT=function(){var t=vn.coroutine(fn.mark(function t(n,i,r){var e,u,s,o,a,c,h;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===r&&(r=Ro.pn),e=ir(n),u=this.IT,t.next=5,xm(u,"fairplay",this.Td,i);case 5:return s=t.sent,o=qr(JSON.stringify({spc:e,ticket:s.ticket})),a={Rf:this.LT(),Af:Ro.Xc,pf:this.HT(),qf:sf.POST,cf:o,zf:0,ds:i,xu:of.Of,Gf:af.Pf},t.next=10,this.Td.Ef(a);case 10:return c=t.sent,t.next=13,c.if();case 13:return h=t.sent,t.abrupt("return",tr(h.licence));case 15:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),T(n,[{key:"mE",get:function(){return jm.Xc}}]),n}(Zm),hk=function(t){function i(n,i,r,e){return t.call(this,n,i,r,e,Ro.pn)||this}qt(i,t);var r=i.prototype;return r.wE=function(){var t=vn.coroutine(fn.mark(function t(n,i){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",ir(n));case 1:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}(),r.WT=function(i){if(0===i.length)throw new Ql(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Vimond license request error.");return t.prototype.WT.call(this,i)},r.HT=function(){var n=t.prototype.HT.call(this);return n.set("Content-Type","text/plain"),n},i}(Zm),fk=function(t){function i(n,i,r,e){return t.call(this,n,i,r,e,Ro.Vc)||this}qt(i,t);var r=i.prototype;return r.wE=function(){var t=vn.coroutine(fn.mark(function t(n){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.WT=function(t){return vn.resolve(new k(t))},r.HT=function(){if(!Zy(this.IT))throw new Ql(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.HT.call(this);return i.set("X-AxDRM-Message",this.IT.token),i},T(i,[{key:"mE",get:function(){return jm.Xc}}]),i}(Zm),vk=function(t){function i(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,Ro.Xc)||this).AE=void 0,u}qt(i,t);var e=i.prototype;return e.wE=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={spc:ir(n)},t.abrupt("return",JSON.stringify(r));case 2:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}(),e.yE=function(t){var i=r.Ha(t);return this.AE=t,i.searchParams.has("b")?vn.resolve(i.searchParams.get("b")):vn.reject(new Ql(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error during license server request: Could not extract content id"))},e.VT=function(n,i){var r=this.LT();return!r&&this.AE&&(r=this.AE),r&&(r=r.replace("skd://","https://")),t.prototype.VT.call(this,n,i||r)},e.WT=function(){var t=vn.coroutine(fn.mark(function t(i){var r;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(r=X(i)?JSON.parse(i.trim()):i).ckc){t.next=4;break}return t.abrupt("return",tr(r.ckc));case 4:t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(0),new Ql(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Uplynk Fairplay license server");case 9:throw new Ql(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Uplynk Fairplay license server");case 10:case"end":return t.stop()}},t,null,[[0,6]])}));return function(n){return t.apply(this,arguments)}}(),T(i,[{key:"mE",get:function(){return jm.pn}}]),i}(Zm),dk=function(){function t(t,n){this.bE=t,this.TE=n}var n=t.prototype;return n.EE=function(t){return this.bE(t)},n.SE=function(t,n){throw new l(n+" must be "+this.TE+". (Received: "+t+")")},t}(),lk=new dk(G,"a number"),_k=new dk(X,"a string"),gk=new dk(W,"a boolean");var wk,yk=(wk={responseCode:lk,isException:gk,description:_k,title:_k,correlationId:_k},{EE:function(t){if(!H(t))return!1;for(var n=0,i=_.keys(wk);n<i.length;n++){var r=i[n];if(!wk[r].EE(t[r]))return!1}return!0},SE:function(t,n){if(!H(t))throw new l(n+" must be an object.");for(var i=0,r=_.keys(wk);i<r.length;i++){var e=r[i],u=wk[e];if(!u.EE(t[e]))return u.SE(t[e],n+"."+e)}throw new l}});function mk(t,n,i,r,e){return kk.apply(this,arguments)}function kk(){return(kk=vn.coroutine(fn.mark(function t(n,i,r,e,u){var s;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=pk(n,i,r,u),t.next=3,Ak(s,e);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t)}))).apply(this,arguments)}function pk(t,n,i,e){var u={token:n.token,account:n.accountId,form:"json"},s=decodeURIComponent(function(t,n){var i=r.Ha(t);return to(i,n),i.toString()}(i,u)),o=new Do({});o.append("Content-Type","application/json");var a=ir(t),c={getFairplayLicense:{releasePid:n.releasePid,spcMessage:a}};return{Rf:s,Af:Ro.pn,pf:o,qf:sf.POST,cf:JSON.stringify(c),ds:e,xu:of.Of,Gf:af.Pf}}function Ak(t,n){return bk.apply(this,arguments)}function bk(){return(bk=vn.coroutine(fn.mark(function t(i,r){var e,u;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.Ef(i);case 2:return e=t.sent,t.next=5,e.if();case 5:if(u=t.sent,!yk.EE(u)){t.next=8;break}throw new Ql(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,u.description,void 0,i.Rf,u.responseCode);case 8:return t.abrupt("return",tr(u.getFairplayLicenseResponse.ckcResponse));case 9:case"end":return t.stop()}},t)}))).apply(this,arguments)}var Tk=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,Ro.Vc)||this).RE=i,u}qt(n,t);var i=n.prototype;return i.yE=function(n){var i=n.replace("FairPlay",this.RE.releasePid);return t.prototype.yE.call(this,i)},i.gT=function(){var t=vn.coroutine(fn.mark(function t(n,i){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,mk(n,this.RE,this.LT(),this.Td,i);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n}(Zm),Ek=function(t){function i(n,i,r){return t.call(this,Wn,n,i,r,Ro.Vc)||this}qt(i,t);var r=i.prototype;return r.PT=function(t){return t.clearkey||{}},r.zT=function(){var t=vn.coroutine(fn.mark(function t(n,i){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",fm(n,this.NT));case 1:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.MT=function(){var i=vn.coroutine(fn.mark(function i(r,e,u,s){var o,a;return fn.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(o=this.NT,!this.LT()){i.next=5;break}return i.abrupt("return",t.prototype.MT.call(this,r,this.xT,u,s));case 5:if(!o.keys||!o.keys.length){i.next=10;break}return a={keys:o.keys.map(function(t){var n=t;return n||(n={}),{kty:"oct",kid:n.id,k:n.value}})},i.abrupt("return",qr(JSON.stringify(a)).buffer);case 10:throw new Ql(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The clearkey license has not been configured correctly.");case 11:case"end":return i.stop()}},i,this)}));return function(t,n,r,e){return i.apply(this,arguments)}}(),r._T=function(t,n){return vn.resolve(new k(0))},r.gT=function(n,i){return t.prototype.qT.call(this,n,af.Ff,i)},i}(cm),Sk=function(t){function n(){return t.apply(this,arguments)||this}return qt(n,t),n.prototype.zT=function(){var t=vn.coroutine(fn.mark(function t(n,i){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",fm(n,this.NT));case 1:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n}(dm),Rk={url:"",method:"GET",headers:{},body:null,useCredentials:!1};function Ik(t,n,i){return Nk.apply(this,arguments)}function Nk(){return(Nk=vn.coroutine(fn.mark(function t(n,i,r){var e,u,s;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=Wk(i),(u=n.onCertificateRequest)&&"function"==typeof u){t.next=5;break}return t.abrupt("return",vn.resolve(i));case 5:return t.next=8,Si(vn.resolve(u.call(n,e)),r);case 8:if(!te(s=t.sent)){t.next=11;break}return t.abrupt("return",ne(s));case 11:return t.abrupt("return",Xk(dn(dn({},Rk),s)));case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Dk(t,n,i,r,e){return Ck.apply(this,arguments)}function Ck(){return(Ck=vn.coroutine(fn.mark(function t(n,i,r,e,u){var s,o,a;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=n.onCertificateResponse,o=Vk(i,r,e),s&&"function"==typeof s){t.next=5;break}return t.abrupt("return",vn.resolve(i));case 5:return t.next=8,Si(vn.resolve(s.call(n,o)),u);case 8:return a=t.sent,t.abrupt("return",ne(a));case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Ok(t,n,i,r){return xk.apply(this,arguments)}function xk(){return(xk=vn.coroutine(fn.mark(function t(n,i,r,e){var u;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Lk(n,i,r,e);case 2:if(!((u=t.sent)instanceof ArrayBuffer)){t.next=5;break}return t.abrupt("return",u);case 5:return t.abrupt("return",Xk(u));case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Pk(t,n,i,r,e,u){return Bk.apply(this,arguments)}function Bk(){return(Bk=vn.coroutine(fn.mark(function t(n,i,r,e,u,s){var o,a;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=Hk(r,u),t.next=3,Uk(n,new k(i),o,e,s);case 3:return a=t.sent,t.abrupt("return",ne(a).buffer);case 5:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Lk(t,n,i,r){return Mk.apply(this,arguments)}function Mk(){return(Mk=vn.coroutine(fn.mark(function t(n,i,r,e){var u,s,o;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u=null==n?void 0:n.onLicenseRequest,s=Hk(i,r),u&&"function"==typeof u){t.next=5;break}return t.abrupt("return",vn.resolve(s));case 5:return t.next=8,Si(vn.resolve(u.call(n,s)),e);case 8:if(!te(o=t.sent)){t.next=11;break}return t.abrupt("return",ne(o).buffer);case 11:return t.abrupt("return",dn(dn({fairplaySkdUrl:void 0},Rk),o));case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Uk(t,n,i,r,e){return Fk.apply(this,arguments)}function Fk(){return(Fk=vn.coroutine(fn.mark(function t(n,i,r,e,u){var s,o,a;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=null==n?void 0:n.onLicenseResponse,o=Vk(i,r,e),s&&"function"==typeof s){t.next=5;break}return t.abrupt("return",vn.resolve(i));case 5:return t.next=8,Si(vn.resolve(s.call(n,o)),u);case 8:return a=t.sent,t.abrupt("return",ne(a));case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Hk(t,n){return dn(dn({},Wk(t)),{fairplaySkdUrl:n})}function Vk(t,n,i){return{url:i.Sf,status:i.kf,statusText:i.bf,headers:i.pf.qc(),body:t,request:n}}function Xk(t){return new ff({Rf:t.url,qf:t.method,pf:t.headers,cf:t.body,Qf:t.useCredentials})}function Wk(t){var n;return{url:t.Rf,body:null!==(n=qk(t.cf))&&void 0!==n?n:null,headers:t.pf.qc(),method:t.qf,useCredentials:t.Qf}}function qk(t){if(t)return"string"==typeof t?qr(t):t instanceof ArrayBuffer?new k(t):er(t)?Kr(t):void 0}var zk=function(t){function i(n,i,r,e){var u;return(u=t.call(this,n,i,r)||this).IE=e,u}qt(i,t);var r=i.prototype;return r._T=function(t,n){return vn.resolve(t)},r.gT=function(){var t=vn.coroutine(fn.mark(function t(i,r){var e,u,s,o,a;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.nE(re(i).buffer);case 2:return e=t.sent,u=this.UT(e,Ro.Vc,af.Uf,r),t.next=6,Ok(this.IE,u,void 0,r);case 6:if(!((s=t.sent)instanceof ArrayBuffer)){t.next=10;break}return t.abrupt("return",new k(s));case 10:if(""!==s.Rf){t.next=12;break}throw new Ql(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 12:return t.prev=12,t.next=15,this.Td.Ef(s);case 15:return o=t.sent,t.next=18,o.uf(r);case 18:return a=t.sent,t.t0=k,t.next=22,Pk(this.IE,a,u,o,void 0,r);case 22:return t.t1=t.sent,t.abrupt("return",new t.t0(t.t1));case 26:throw t.prev=26,t.t2=t.catch(12),Ti(t.t2),new Ql(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during PlayReady license request",t.t2);case 30:case"end":return t.stop()}},t,this,[[12,26]])}));return function(n,i){return t.apply(this,arguments)}}(),i}(Um),Gk=function(t){function i(n,i,r,e){var u;return(u=t.call(this,n,i,r,Ro.Vc)||this).IE=e,u}qt(i,t);var r=i.prototype;return r._T=function(){var t=vn.coroutine(fn.mark(function t(i,r){var e,u,s,o,a;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.kT){t.next=2;break}return t.abrupt("return",this.kT);case 2:return e=this.UT(i,Ro.Vc,af.Mf,r),t.next=5,Ik(this.IE,e,r);case 5:if(!((u=t.sent)instanceof k)){t.next=9;break}return t.abrupt("return",u);case 9:if(""!==u.Rf){t.next=11;break}throw new Ql(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The certificate request URL has not been correctly configured.");case 11:return t.prev=11,t.next=14,this.Td.Ef(u);case 14:return s=t.sent,t.next=17,s.uf(r);case 17:o=t.sent,t.next=24;break;case 20:throw t.prev=20,t.t0=t.catch(11),Ti(t.t0),new Ql(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during Widevine certificate request",t.t0);case 24:return a=Hk(e,void 0),t.next=27,Dk(this.IE,new k(o),a,s,r);case 27:return t.abrupt("return",t.sent);case 28:case"end":return t.stop()}},t,this,[[11,20]])}));return function(n,i){return t.apply(this,arguments)}}(),r.gT=function(){var t=vn.coroutine(fn.mark(function t(i,r){var e,u,s,o;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.UT(i,Ro.Vc,af.Lf,r),t.next=3,Ok(this.IE,e,void 0,r);case 3:if(!((u=t.sent)instanceof ArrayBuffer)){t.next=7;break}return t.abrupt("return",new k(u));case 7:if(""!==u.Rf){t.next=9;break}throw new Ql(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return t.prev=9,t.next=12,this.Td.Ef(u);case 12:return s=t.sent,t.next=15,s.uf(r);case 15:o=t.sent,t.next=22;break;case 18:throw t.prev=18,t.t0=t.catch(9),Ti(t.t0),new Ql(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Widevine license request",t.t0);case 22:return t.t1=k,t.next=25,Pk(this.IE,o,e,s,void 0,r);case 25:return t.t2=t.sent,t.abrupt("return",new t.t1(t.t2));case 27:case"end":return t.stop()}},t,this,[[9,18]])}));return function(n,i){return t.apply(this,arguments)}}(),i}(Sk),jk=function(t){function i(n,i,r,e,u){var s;return(s=t.call(this,n,i,r,e,Ro.Vc)||this).IE=u,s}qt(i,t);var r=i.prototype;return r._T=function(){var t=vn.coroutine(fn.mark(function t(i,r){var e,u,s,o,a;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.kT){t.next=2;break}return t.abrupt("return",this.kT);case 2:return e=this.pE(r),t.next=5,Ik(this.IE,e,r);case 5:if(u=t.sent,!er(u)){t.next=8;break}return t.abrupt("return",u);case 8:return t.prev=8,t.next=11,this.Td.Ef(u);case 11:return s=t.sent,t.next=14,s.uf();case 14:return o=t.sent,a=Hk(e,void 0),t.next=18,Dk(this.IE,new k(o),a,s,r);case 18:return t.abrupt("return",t.sent);case 21:throw t.prev=21,t.t0=t.catch(8),Ti(t.t0),new Ql(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during FairPlay certificate request",t.t0);case 25:case"end":return t.stop()}},t,this,[[8,21]])}));return function(n,i){return t.apply(this,arguments)}}(),r.gT=function(){var t=vn.coroutine(fn.mark(function t(i,r){var e,u,s,o;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.UT(i,Ro.Vc,af.Pf,r),t.next=3,Ok(this.IE,e,this.NE,r);case 3:if(!((u=t.sent)instanceof ArrayBuffer)){t.next=7;break}return t.abrupt("return",new k(u));case 7:if(""!==u.Rf){t.next=9;break}throw new Ql(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return t.prev=9,t.next=12,this.Td.Ef(u);case 12:return s=t.sent,t.next=15,s.uf(r);case 15:return o=t.sent,t.t0=k,t.next=19,Pk(this.IE,o,e,s,this.NE,r);case 19:return t.t1=t.sent,t.abrupt("return",new t.t0(t.t1));case 23:throw t.prev=23,t.t2=t.catch(9),Ti(t.t2),new Ql(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during FairPlay license request",t.t2);case 27:case"end":return t.stop()}},t,this,[[9,23]])}));return function(n,i){return t.apply(this,arguments)}}(),r.yE=function(){var n=vn.coroutine(fn.mark(function n(i){var r;return fn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.NE=i,!(null===(r=this.IE)||void 0===r?void 0:r.extractFairplayContentId)){n.next=3;break}return n.abrupt("return",vn.resolve(this.IE.extractFairplayContentId(i)));case 3:return n.abrupt("return",t.prototype.yE.call(this,i));case 4:case"end":return n.stop()}},n,this)}));return function(t){return n.apply(this,arguments)}}(),i}(Zm),Qk=function(){function t(){}var n=t.prototype;return n.DE=function(t,n){return new sm(t,n,this)},n.CE=function(t,n,i,r){switch(t.Mo.xu){case In.Nu:return this.OE(n,i,r);case In.Iu:return this.xE(n,i,r);case In.Du:return this.PE(t,n,i,r);case In.Cu:default:return this.BE(n,i,r)}},n.OE=function(t,n,i){var r,e=(r=t).integration===Ny&&X(r.customIntegrationId)?t.customIntegrationId:t.integration;if(e&&By.Vb.Ub(e,Ln)){var u=By.Vb.Hb(e,Ln,t);return new Gk(t,n,i,u)}switch(e){case ly:return new pm(t,n,i);case yy:return new Am(t,n,i);case wy:return new Tm(t,n,i);case _y:return new Rm(t,n,i);case py:return new Cm(t,n,i);case by:return new Om(t,n,i);case Ty:return new Bm(t,n,i);case Sy:return new Lm(t,n,i);case ky:default:return new Sk(t,n,i,Ro.Vc)}},n.xE=function(t,n,i){var r=t.integration;if(r&&By.Vb.Ub(r,xn)){var e=By.Vb.Hb(r,xn,t);return new zk(t,n,i,e)}switch(r){case ly:return new Hm(t,n,i);case yy:return new Wm(t,n,i);case wy:return new qm(t,n,i);case _y:return new zm(t,n,i);case py:return new Gm(t,n,i);case Ty:return new Qm(t,n,i);case Sy:return new Ym(t,n,i);case ky:default:return new Um(t,n,i)}},n.PE=function(t,n,i,r){var e=n.integration;if(e&&By.Vb.Ub(e,Un)){var u=By.Vb.Hb(e,Un,n);return new jk(t,n,i,r,u)}switch(e){case gy:return new Jm(t,n,i,r);case yy:return new $m(t,n,i,r);case my:return new nk(t,n,i,r);case ly:return new ik(t,n,i,r);case wy:return new rk(t,n,i,r);case _y:return new ek(t,n,i,r);case ky:return new uk(t,n,i,r);case py:return new sk(t,n,i,r);case Ay:return new ok(t,n,i,r);case by:return new ak(t,n,i,r);case Ty:return new ck(t,n,i,r);case Ey:return new hk(t,n,i,r);case Sy:return new fk(t,n,i,r);case Ry:return new vk(t,n,i,r);case Iy:return new Tk(t,n,i,r);default:return new Zm(t,n,i,r,Ro.pn)}},n.BE=function(t,n,i){return new Ek(t,n,i)},n.LE=function(t){return t.xu===In.Iu||t.xu===In.Nu||t.xu===In.Du||t.xu===In.Cu},t}();function Yk(t,n){switch(n){case In.Nu:return t.widevine;case In.Iu:return t.playready;case In.Du:return t.fairplay;default:return}}var Zk,Jk=function(t){function i(n,i,r){var e;return void 0===r&&(r=new Qk),(e=t.call(this,r)||this).ME=void 0,e.co=void 0,e.UE=new cy,e.FE=function(){var t=vn.coroutine(fn.mark(function t(n){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$b(n.Bu,n.Hs);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),Ai(t.t0)||e.jo(t.t0);case 8:case"end":return t.stop()}},t,null,[[0,5]])}));return function(n){return t.apply(this,arguments)}}(),e.HE=function(t){e.ys(t)},e.VE=function(t){e.ys(t),e.ys(new Dl(t.errorObject))},e.XE=n,e.lb=i,e.XE.ps(Ui.Ls,e.FE),e}qt(i,t);var e=i.prototype;return e.nT=function(){var t;return null===(t=this.co)||void 0===t?void 0:t.Mo},e.Oo=function(t){if(this.ME)throw new d("Invalid state");this.ME=t},e.qb=function(n){if(!this.ME)throw new d("Invalid state");t.prototype.qb.call(this,n)},e.Jb=function(){var t=vn.coroutine(fn.mark(function t(i,e,u){var s,o,a,c,h,f,v,d,l,_,g;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(bi(u),e.byteLength){t.next=3;break}return t.abrupt("return");case 3:if(this.Xb&&this.Xb.Yb.length){t.next=5;break}throw new Ql(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_MISSING,"Missing configuration for encrypted content");case 5:if(s=this.Xb,i===Dn||i===On||i===Cn){t.next=9;break}return t.abrupt("return");case 9:o=Ky(i,e),c=0,h=s.Yb;case 11:if(!(c<h.length)){t.next=42;break}if(f=h[c],bi(u),(v=o[f.Mo.Lu])&&f.Mo.Bu===i){t.next=17;break}return t.abrupt("continue",39);case 17:return t.prev=17,t.next=20,this.WE(f.Mo,u);case 20:if(!(d=t.sent).CT){t.next=24;break}return t.next=24,d.pT();case 24:if(l=this.XE.mg,_={Bu:f.Mo.Bu,Hs:v,RT:l},!this.qE(d,_)){t.next=32;break}return t.next=29,d.TT(_);case 29:return g=t.sent,t.next=32,g.ko();case 32:return t.abrupt("return");case 35:t.prev=35,t.t0=t.catch(17),Ti(t.t0),a=t.t0;case 39:c++,t.next=11;break;case 42:return t.next=44,r.Yu();case 44:if(!t.sent){t.next=48;break}throw new Ql(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported",a);case 48:throw new Ql(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Cannot create content decryption session",a);case 49:case"end":return t.stop()}},t,this,[[17,35]])}));return function(n,i,r){return t.apply(this,arguments)}}(),e.qE=function(t,n){return r.ld.Qa||!t.ST(n)},e.Qb=function(){var t=vn.coroutine(fn.mark(function t(n){var i,r,e,u,s;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.Xb){t.next=3;break}return t.abrupt("return");case 3:r=0,e=i.Yb;case 4:if(!(r<e.length)){t.next=23;break}return u=e[r],bi(n),t.prev=7,t.next=10,this.WE(u.Mo,n);case 10:if(!(s=t.sent).CT){t.next=14;break}return t.next=14,s.pT();case 14:return t.abrupt("return");case 17:t.prev=17,t.t0=t.catch(7),Ti(t.t0);case 20:r++,t.next=4;break;case 23:case"end":return t.stop()}},t,this,[[7,17]])}));return function(n){return t.apply(this,arguments)}}(),e.WE=function(t,n){var i=this;return this.UE.Eb(function(n){return i.zE(t,n)},n)},e.zE=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r,e,u,s,o;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(bi(i),this.Xb){t.next=3;break}throw new d("Not initialized");case 3:if(!this.co){t.next=7;break}if(this.co.Mo===n){t.next=6;break}throw new d("Internal key system error");case 6:return t.abrupt("return",this.co);case 7:if(this.Wb.LE(n)){t.next=9;break}throw new d("Unsupported "+n.Uu+" key system");case 9:if(r=this.GE(n)){t.next=12;break}throw new d("Missing configuration for "+n.Uu+" key system");case 12:return e=this.Xb,u=this.Wb.CE(r,e.IT,r.DT,this.lb),t.next=16,this.Bo(n,r,u,i);case 16:return s=t.sent,(o=this.Wb.DE(s,u)).ps(So.cc,this.HE),o.ps(So.ac,this.VE),o.ps(So.Uc,this.gs),this.co=o,t.abrupt("return",o);case 23:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),e.Bo=function(){var t=vn.coroutine(fn.mark(function t(n,i,r,e){var u,s,o,a,c,h,f,v;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return u=this.Xb,s=n.Bu,o=Yk(u.IT,i.Mo.xu),a=(null==o?void 0:o.persistentState)||r.GT,c=(null==o?void 0:o.distinctiveIdentifier)||void 0,h=Boolean(null==o?void 0:o.audioRobustness)||Boolean(null==o?void 0:o.videoRobustness),t.prev=6,bi(e),f=$k(u,s,a,c,r.Uo,(null==o?void 0:o.audioRobustness)||"SW_SECURE_CRYPTO",(null==o?void 0:o.videoRobustness)||"SW_SECURE_CRYPTO"),t.next=11,this.ME.jE(n,[f]);case 11:return t.abrupt("return",t.sent);case 14:if(t.prev=14,t.t0=t.catch(6),Ti(t.t0),bi(e),!h){t.next=20;break}throw t.t0;case 20:return v=$k(u,s,a,c,r.Uo,void 0,void 0),t.next=23,this.ME.jE(n,[v]);case 23:return t.abrupt("return",t.sent);case 24:case"end":return t.stop()}},t,this,[[6,14]])}));return function(n,i,r,e){return t.apply(this,arguments)}}(),e.GE=function(t){if(this.Xb)for(var n=0,i=this.Xb.Yb;n<i.length;n++){var r=i[n];if(r.Mo===t)return r}},e.jo=function(t){var i=t instanceof Ql?t:new Ql(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.VE(new fy(i))},e.QE=function(){var t=vn.coroutine(fn.mark(function t(){var n;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.UE.hs();case 2:if(!(n=this.co)){t.next=8;break}return n.Es(So.Uc,this.gs),this.co=void 0,t.next=8,n.Jf();case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),e.Kb=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.ME=void 0,t.next=3,this.QE();case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),e.Jf=function(){var n=vn.coroutine(fn.mark(function n(){return fn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.XE.Es(Ui.Ls,this.FE),n.next=3,t.prototype.Jf.call(this);case 3:return n.next=5,this.UE.Jf();case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i}(tm);function $k(t,n,i,r,e,u,s){return{initDataTypes:[n],audioCapabilities:Kk(t.YE,u),videoCapabilities:Kk(t.ZE,s),persistentState:i,distinctiveIdentifier:r,Uo:e}}function Kk(t,n){return t.length?t.map(function(t){return{contentType:t,robustness:n}}):void 0}!function(t){t[t.JE=0]="JE",t[t.$E=1]="$E"}(Zk||(Zk={}));var tp=t,np=tp.MediaSource,ip=tp.WebKitMediaSource,rp=tp.TextTrack,ep=s&&s.createElement("video"),up=(s&&s.documentElement.style,P.Ot&&P.sn&&P.an<=26),sp=(P.qt,!!p),op=!(!np&&!ip),ap=!!rp,cp=(s&&(s.fullscreenEnabled||s.webkitFullscreenEnabled||s.mozFullScreenEnabled||s.msFullscreenEnabled)||P.Xt,P.nn&&P.in,ep&&ep.canPlayType&&(""!==ep.canPlayType("application/vnd.apple.mpegURL")||P.Bt&&!P.nn&&P.Lt>=4)),hp=ep&&ep.canPlayType&&""!==ep.canPlayType("video/mp4")&&!up,fp=op&&!P.rn&&!P.$t&&!P.Jt&&((np||ip).isTypeSupported?(np||ip).isTypeSupported('audio/mp4; codecs="mp4a.40.34"'):ep&&ep.canPlayType&&""!==ep.canPlayType('audio/mp4; codecs="mp4a.40.34"')),vp=op&&!P.rn&&(fp||((np||ip).isTypeSupported?(np||ip).isTypeSupported("audio/mpeg"):ep&&ep.canPlayType&&""!==ep.canPlayType("audio/mpeg"))),dp=op&&!(P.tn&&P.Ot)&&((np||ip).isTypeSupported?(np||ip).isTypeSupported('video/mp4; codecs="avc1.4d401e"'):hp),lp=(P.rn||P.$t||P.Jt,P.Kt),_p=lp&&!1,gp=!P.rn,wp=P.$t&&P.xt&&P.Pt<=6.1,yp=ep&&"onresize"in ep;try{u&&u.top!==u.self}catch(t){!0}var mp,kp=.001,pp=1e4,Ap=3,bp=function(t){function n(n){var i;return(i=t.call(this,vl.__)||this).currentTime=n,i}return qt(n,t),n}(Vi),Tp=function(t){function n(n){var i;return(i=t.call(this,vl.g_)||this).currentTime=n,i}return qt(n,t),n}(Vi),Ep=function(t){function n(n,i){var r;return void 0===i&&(i=!1),(r=t.call(this)||this).KE=n,r.tS=i,r.nS=Qd.s_,r.iS=!0,r.rS=!1,r.eS=!1,r.uS=function(t){var n=t.readyState;n!==r.nS&&r.ys(t),n===Qd.s_&&(r.rS=!1,r.eS=!1),r.sS(n),r.oS(n),r.aS(n),r.maybeDispatchCanPlayThroughEvent(n),r.cS(n),r.hS(n),r.nS=n},r.fS=function(){r.hS(r.nS),r.cS(r.nS),r.iS=r.KE.A_},r.vS=function(){r.iS=r.KE.A_},r.KE.ps(vl.Qd,r.uS),r.KE.ps(So.bc,r.fS),r.KE.ps(So.Ac,r.vS),r.tS&&r.KE.ps(vl.g_,r.gs),r}qt(n,t);var i=n.prototype;return i.sS=function(t){!this.eS&&t>=Qd.o_&&(this.eS=!0,this.ys(new yl(this.KE.w_,t)))},i.oS=function(t){!this.rS&&t>=Qd.a_&&(this.rS=!0,this.ys(new bl(this.KE.w_,t)))},i.cS=function(t){this.tS||(t>=Qd.c_&&this.nS<Qd.c_&&!this.KE.A_||this.dS&&t>=Qd.c_)&&this.ys(new Tp(this.KE.w_))},i.hS=function(t){!this.lS(t)||this.KE.m_||this.KE.Bs||this.ys(new bp(this.KE.w_))},i.aS=function(t){this.nS<=Qd.a_&&t>=Qd.c_&&this.ys(new Rl(this.KE.w_,t))},i.maybeDispatchCanPlayThroughEvent=function(t){t===Qd.h_&&this.ys(new Il(this.KE.w_,t))},i.lS=function(t){var n=!this.KE.A_&&t<=Qd.a_,i=!this.iS&&this.nS<=Qd.a_;return n&&!i},i.hl=function(){this.nS=Qd.s_,this.iS=!0,this.rS=!1,this.eS=!1},i.Jf=function(){this.Ts(),this.tS&&this.KE.Es(vl.g_,this.gs),this.KE.Es(So.bc,this.fS),this.KE.Es(So.Ac,this.vS),this.KE.Es(vl.Qd,this.uS)},T(n,[{key:"dS",get:function(){return!this.KE.A_&&this.iS}}]),n}(Fi);!function(t){t._S="nokey",t.gS="keyexpired",t.wS="sessionnotopened",t.yS="insufficientoutputprotection",t.mS="insufficientsecurity",t.kS="frametoolarge",t.pS="loststate",t.AS="resourcebusy",t.bS="unsupportedoperation"}(mp||(mp={}));var Sp,Rp,Ip=[mp.bS,mp.AS,mp.pS,mp.kS,mp.mS,mp.yS,mp.wS,mp.gS,mp._S],Np=[So.cc,So.ac,Nd.Ol];[].concat(um,[Nd.Ol],Ip);!function(t){t.Xf="video",t.Vf="audio"}(Sp||(Sp={})),function(t){t[t.TS=0]="TS",t[t.ES=1]="ES",t[t.SS=2]="SS",t[t.RS=3]="RS",t[t.Kl=4]="Kl",t[t.IS=5]="IS",t[t.u_=6]="u_",t[t.NS=7]="NS",t[t.DS=8]="DS"}(Rp||(Rp={}));var Dp,Cp=function(){function t(){}return t.prototype.CS=function(t){},T(t,[{key:"OS",get:function(){return 0}},{key:"xS",get:function(){return 0}}]),t}();function Op(){return Dp||(Dp=Tn&&Tn.document&&Tn.document.createElement("video")),Dp}var xp=function(t){function n(n,i,r,e,u,s,o){var a;return void 0===s&&(s=new Qk),void 0===o&&(o=nu()),(a=t.call(this)||this).ME=void 0,a.PS=void 0,a.BS=void 0,a.LS=void 0,a.MS=new Cp,a.US=function(t){var n=t.Bs,i=n.code,r=new De($l(i),"Something went wrong during native playback.",n);a.PS=new Yl(i,r.message,n.message),a.BS=r,a.ys(new Dl(r))},a.FS=function(){a.ys(new pl(a.w_,a.wg))},a.HS=function(t){a.A_||(a.LS=void 0),a.ys(t)},a.VS=function(t){a.LS=void 0,a.ys(t)},a.XS=function(){a.ys(new __(a.mg))},a.WS=function(){a.S_>0&&a.E_>0&&a.ys(new ay)},a.qS=function(t){a.U_.ol(new c_(t.track))},a.zS=function(t){var n=Lp(a.U_,t.track);n&&a.U_.al(n)},a.GS=function(){a.jS(a.U_)},a.QS=function(t){a.F_.ol(new l_(t.track))},a.YS=function(t){var n=Lp(a.F_,t.track);n&&a.F_.al(n)},a.ZS=function(){a.jS(a.F_)},a.JS=function(t){t.type===So.ac&&(a.PS=Jl(t.errorObject),a.BS=t.errorObject),a.gs(t)},a.$S=i,a.lb=r,a.Vu=o,a.XE=a.$S.KS(Kl.Xf),a.tR=a.XE.nR.preload,a.Wb=s,a.iR=new Ep(a.XE,!0),a.iR.ps(wl,a.gs),a.rR=new Jk(a.XE,a.lb,a.Wb),a.rR.ps(Np,a.JS),a.eR(),a.U_=new t_,a.F_=new t_,a.uR(),a.sR=new iy(a.XE,a.lb),a.H_=new Md,a.sg(),a}qt(n,t);var i=n.prototype;return i.og=function(){this.XE.og()},i.sg=function(){this.XE.sg()},i.K_=function(){var t=vn.coroutine(fn.mark(function t(n,i,r){var e;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return bi(r),e={xu:Zk.JE,Ul:n.src,af:n.type,oR:[],Ig:this.tR,aR:n.crossOrigin,cR:i.metadata&&i.metadata.title},t.next=4,this.XE.po(e);case 4:return this.ME=t.sent,bi(r),t.next=8,this.rR.hl();case 8:this.rR.Oo(this.ME),this.rR.qb(this.hR(n)),this.H_.yl=this.XE.G_,i.textTracks&&this.fR(i.textTracks),oy(this.G_);case 13:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.fR=function(t){for(var n,i=0;i<t.length;i++){var r=t[i];if(this.XE.vR()&&P.Xt&&ap&&!Yw(r.kind,r.label)&&this.dR(r)){var e=null!==(n=r.kind)&&void 0!==n?n:Lw.eb;this.XE.lR(r.src,e,r.label,r.srclang)}else{if(void 0===r.src)continue;this.sR._b(r)}}},i.dR=function(t){return!t.format||"webvtt"===t.format},i.Q_=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.XE.Q_();case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:if(this._R){t.next=12;break}return t.next=10,this.XE.Ns(So.Tc);case 10:t.next=7;break;case 12:case"end":return t.stop()}},t,this,[[0,5]])}));return function(){return t.apply(this,arguments)}}(),i.Y_=function(){this.XE.Y_()},i.tg=function(){return void 0!==this.XE.nR.webkitShowPlaybackTargetPicker},i.ng=function(){this.XE.nR.webkitShowPlaybackTargetPicker&&this.XE.nR.webkitShowPlaybackTargetPicker()},i.ig=function(){this.XE.nR.webkitShowPlaybackTargetPicker&&this.XE.nR.webkitShowPlaybackTargetPicker()},i.ag=function(){return this.XE.nR},i.cg=function(){return this.XE.gR},i.hl=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.PS=void 0,this.BS=void 0,this.ME&&(this.ME=void 0),this.H_.hl(),t.next=6,this.XE.hl();case 6:return this.iR.hl(),t.next=9,this.rR.hl();case 9:return this.Ig=this.tR,this.q_.hl(),this.z_.hl(),t.next=14,this.sR.hl();case 14:this.LS=void 0;case 15:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Jf=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.hl();case 2:return this.Ts(),this.wR(),this.yR(),t.next=7,this.rR.Jf();case 7:return this.iR.Jf(),t.next=10,this.$S.mR(this.XE);case 10:return this.U_.Jf(),this.F_.Jf(),this.H_.Jf(),t.next=15,this.sR.Jf();case 15:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.eR=function(){this.XE.ps(So.bc,this.gs),this.XE.ps(So.Ac,this.gs),this.XE.ps(So.Lc,this.FS),this.XE.ps(So.Tc,this.gs),this.XE.ps(So.wc,this.gs),this.XE.ps(So.Nc,this.gs),this.XE.ps(So.Ic,this.HS),this.XE.ps(So.lc,this.gs),this.XE.ps(So.Ec,this.gs),this.XE.ps(So.Mc,this.gs),this.XE.ps(So.vc,this.gs),this.XE.ps(So.Rc,this.WS),this.XE.ps(vl.g_,this.VS),this.XE.ps(Nd.Ol,this.US),this.XE.nR.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.XS)},i.wR=function(){this.XE.Es(So.bc,this.gs),this.XE.Es(So.Ac,this.gs),this.XE.Es(So.Lc,this.FS),this.XE.Es(So.Tc,this.gs),this.XE.Es(So.wc,this.gs),this.XE.Es(So.Nc,this.gs),this.XE.Es(So.Ic,this.HS),this.XE.Es(So.lc,this.gs),this.XE.Es(So.Ec,this.gs),this.XE.Es(So.Mc,this.gs),this.XE.Es(So.vc,this.gs),this.XE.Es(So.Rc,this.WS),this.XE.Es(vl.g_,this.VS),this.XE.Es(Nd.Ol,this.US),this.XE.nR.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.XS)},i.hR=function(t){if(t.contentProtection&&t.contentProtection.fairplay){return{IT:t.contentProtection||{},Yb:[{Mo:Xn,Zb:[],DT:void 0,ua:void 0}],YE:[],ZE:["video/mp4"]}}},i.uR=function(){var t=this.XE.nR.audioTracks,n=this.XE.nR.videoTracks;t&&(t.addEventListener("addtrack",this.qS),t.addEventListener("removetrack",this.zS),t.addEventListener("change",this.GS)),n&&(n.addEventListener("addtrack",this.QS),n.addEventListener("removetrack",this.YS),n.addEventListener("change",this.ZS))},i.yR=function(){var t=this.XE.nR.audioTracks,n=this.XE.nR.videoTracks;t&&(t.removeEventListener("addtrack",this.qS),t.removeEventListener("removetrack",this.zS),t.removeEventListener("change",this.GS)),n&&(n.removeEventListener("addtrack",this.QS),n.removeEventListener("removetrack",this.YS),n.removeEventListener("change",this.ZS))},i.jS=function(t){for(var n=0;n<t.vl;n++){t.sl(n).Ug()}},i._g=function(){this.rR.QE().then(j)},T(n,[{key:"_R",get:function(){var t=this.XE.gg,n=this.w_;return t.kR(n,.01)}},{key:"q_",get:function(){return this.U_}},{key:"gg",get:function(){return this.XE.gg.pR()}},{key:"wg",get:function(){return this.XE.wg},set:function(t){t&&this.XE.AR(t)}},{key:"w_",get:function(){return void 0!==this.LS?this.LS:this.XE.w_},set:function(t){this.mg&&(this.LS=t),this.XE.Zs(t)}},{key:"y_",get:function(){return this.XE.y_}},{key:"m_",get:function(){return this.XE.m_}},{key:"Bs",get:function(){return this.PS}},{key:"k_",get:function(){return this.BS}},{key:"j_",get:function(){}},{key:"mg",get:function(){return this.XE.mg}},{key:"B_",get:function(){return dn(dn({},{kg:0,pg:0,Ag:0,bg:0,Tg:0,Eg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}),this.XE.bR())}},{key:"p_",get:function(){return this.XE.p_},set:function(t){this.XE.p_=t}},{key:"Sg",get:function(){return!0}},{key:"A_",get:function(){return this.XE.A_}},{key:"b_",get:function(){return this.XE.b_},set:function(t){this.XE.b_=t}},{key:"Rg",get:function(){return this.XE.nR.played}},{key:"Ig",get:function(){return this.tR},set:function(t){this.tR=t,this.ME&&(this.ME.Ig=t)}},{key:"Bl",get:function(){return this.XE.Bl}},{key:"Ng",get:function(){return this.XE.Ng.pR()}},{key:"T_",get:function(){return this.XE.T_}},{key:"TR",get:function(){return this.XE.TR}},{key:"G_",get:function(){return this.H_}},{key:"z_",get:function(){return this.F_}},{key:"E_",get:function(){return this.XE.E_}},{key:"S_",get:function(){return this.XE.S_}},{key:"R_",get:function(){return this.XE.R_},set:function(t){this.XE.R_=t}},{key:"ER",get:function(){return this.MS}}]),n}(Ud);function Pp(t){return!t.type||!(!Op().canPlayType||!Op().canPlayType(t.type))}var Bp=function(){function t(){this.SR=Rp.DS}var n=t.prototype;return n.Pb=function(t,n,i,r,e,u){return new xp(t,n,i,r,e)},n.RR=function(t,n){return Pp(t)},n.IR=function(){return!1},t}();function Lp(t,n){for(var i=0,r=t.fl;i<r.length;i++){var e=r[i];if(e.Vg===n)return e}}var Mp=function(){function t(){this.NR=new Bp,this.DR=[]}t.CR=function(){return this._n};var n=t.prototype;return n.OR=function(t){this.DR.push(t)},n.Pb=function(t,n,i,r,e,u){for(var s=this.NR.Pb(t,n,i,r,e,u),o=0,a=this.DR;o<a.length;o++){s=(0,a[o])(s,i,r)}return s},n.RR=function(t,n){return this.NR.RR(t,n)},n.IR=function(){return!1},T(t,[{key:"SR",get:function(){return this.NR.SR}}]),t}();function Up(t,n){return F_(t.SR,n.SR)}function Fp(t){Hp._n.xR(t)}Mp._n=new Mp;var Hp=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).PR=Mp.CR(),n}qt(n,t);var i=n.prototype;return i.LR=function(t){this.PR=t},i.MR=function(){return this.PR},i.UR=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r,e,u,s,o,a;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<n.length)){t.next=11;break}return e=n[r],t.next=5,this.FR(e,i);case 5:if(!(u=t.sent)){t.next=8;break}return t.abrupt("return",{HR:e,XR:u});case 8:r++,t.next=1;break;case 11:s=this.PR,o=0;case 13:if(!(o<n.length)){t.next=20;break}if(a=n[o],!s.RR(a,i)){t.next=17;break}return t.abrupt("return",{HR:a,XR:s});case 17:o++,t.next=13;break;case 20:return t.abrupt("return",{HR:n[0],XR:s});case 21:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n}(function(){function t(){this.WR=[]}var n=t.prototype;return n.xR=function(t){this.WR.push(t),this.WR.sort(Up)},n.FR=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r,e,u,s;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.WR;case 1:if(!(r<e.length)){t.next=17;break}if(u=e[r],!q(s=u.RR(n,i))){t.next=10;break}return t.next=7,s;case 7:t.t0=t.sent,t.next=11;break;case 10:t.t0=Boolean(s);case 11:if(!t.t0){t.next=14;break}return t.abrupt("return",u);case 14:r++,t.next=1;break;case 17:return t.abrupt("return",void 0);case 18:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),t}());Hp._n=new Hp;var Vp,Xp=function(){function t(t){this.qR=Tn&&Tn.document&&Tn.document.createElement("div"),ze(this.qR),t.appendChild(this.qR)}return t.prototype.Jf=function(){Ve(this.qR)},t}();function Wp(t){switch(t){case Vp.zR:case"":return Vp.zR;case Vp.Zm:return Vp.Zm;case Vp.GR:default:return Vp.GR}}!function(t){t.DS="",t.GR="none",t.Zm="metadata",t.zR="auto"}(Vp||(Vp={}));var qp=[Nd.Ol,So.dc,So.Ls,So.Hc,So.ec,So._c,So.kc,So.pc,So.Cc,So.xc,vl.f_,vl.v_,vl.d_,vl.l_,vl.Qd,vl.__,vl.g_,So.ac,So.cc,So.vc,So.lc,So.wc,So.yc,So.bc,So.Tc,So.Ac,So.Ec,So.Rc,So.Nc,So.Ic,So.Lc,So.Mc,So.Sc,So.mc,So.Dc],zp=function(t){function n(n,i){var r;return(r=t.call(this)||this).jR=void 0,r.QR=void 0,r.tR=Vp.GR,r.YR=void 0,r.ZR=!0,r.U_=new Dd,r.F_=new Dd,r.H_=new Md,r.V_=new Gl,r.JR=n,r.$R=i,r.$R.Ig=r.Ig,r.KR(),r}qt(n,t);var i=n.prototype;return i.Y_=function(){this.$R.Y_()},i.Q_=function(){this.$R.Q_()},i.Z_=function(){return this.K_(void 0)},i.rg=function(){},i.fg=function(t){return!1},i.KR=function(){this.U_.yl=this.$R.q_,this.F_.yl=this.$R.z_,this.H_.yl=this.$R.G_,this.V_.yl=this.$R.j_,this.$R.ps(qp,this.gs)},i.tI=function(){this.$R.Es(qp,this.gs),this.U_.yl=void 0,this.F_.yl=void 0,this.H_.yl=void 0,this.V_.yl=void 0},i.J_=function(){return this.YR},i.K_=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r,e,u,s,o,a;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(bi(i),this.YR=n,n){t.next=4;break}return t.abrupt("return");case 4:if(!sl(r=n.sources.filter(fl))){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,this.JR.UR(r,n);case 9:if(e=t.sent,bi(i),u=e.HR,s=e.XR,o=this.cg(),a=xl(this),this.jR===s&&!this.Bs){t.next=25;break}return this.tI(),t.next=19,this.$R.Jf();case 19:bi(i),this.jR=s,this.$R=this.nI(s),Gp(this.$R,a),Bl(this,a,this),this.KR();case 25:return this.$R.Ig=this.Ig,this.ZR?this.$R.sg():this.$R.og(),t.next=29,this.$R.K_(u,n,i);case 29:bi(i),this.iI(u),this.cg()!==o&&this.ys(new Hd);case 32:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.iI=function(t){this.QR!==t&&(this.QR=t,this.ys(new Vd(t)))},i.tg=function(){return this.$R.tg()},i.ng=function(){this.$R.ng()},i.ig=function(){this.$R.ig()},i.cg=function(){return this.$R.cg()},i._g=function(){this.$R._g()},i.hl=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.YR=void 0,this.iI(void 0),t.next=4,this.$R.hl();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Jf=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Ts(),t.next=3,this.hl();case 3:return t.next=5,this.$R.Jf();case 5:this.U_.Jf(),this.F_.Jf(),this.H_.Jf(),this.V_.Jf();case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.sg=function(){this.ZR=!0,this.$R.sg()},i.og=function(){this.ZR=!1,this.$R.og()},T(n,[{key:"q_",get:function(){return this.U_}},{key:"gg",get:function(){return this.$R.gg}},{key:"Bs",get:function(){return this.$R.Bs}},{key:"k_",get:function(){return this.$R.k_}},{key:"wg",get:function(){return this.$R.wg},set:function(t){this.$R.wg=t}},{key:"lg",get:function(){return this.QR}},{key:"w_",get:function(){return this.$R.w_},set:function(t){this.$R.w_=t}},{key:"y_",get:function(){return this.$R.y_}},{key:"m_",get:function(){return this.$R.m_}},{key:"j_",get:function(){return this.V_}},{key:"mg",get:function(){return this.$R.mg}},{key:"B_",get:function(){return this.$R.B_}},{key:"p_",get:function(){return this.$R.p_},set:function(t){this.$R.p_=t}},{key:"Sg",get:function(){return this.$R.Sg}},{key:"A_",get:function(){return this.$R.A_}},{key:"b_",get:function(){return this.$R.b_},set:function(t){this.$R.b_=t}},{key:"Rg",get:function(){return this.$R.Rg}},{key:"Ig",get:function(){return this.tR},set:function(t){this.tR=t,this.$R&&(this.$R.Ig=this.tR)}},{key:"Bl",get:function(){return this.$R.Bl}},{key:"Ng",get:function(){return this.$R.Ng}},{key:"T_",get:function(){return this.$R.T_}},{key:"G_",get:function(){return this.H_}},{key:"E_",get:function(){return this.$R.E_}},{key:"z_",get:function(){return this.F_}},{key:"S_",get:function(){return this.$R.S_}},{key:"R_",get:function(){return this.$R.R_},set:function(t){this.$R.R_=t}},{key:"ER",get:function(){return this.$R.ER}}]),n}(Fi);function Gp(t,n){t.p_!==n.p_&&(t.p_=n.p_),t.R_!==n.R_&&(t.R_=n.R_),t.b_!==n.b_&&(t.b_=n.b_)}var jp,Qp=function(t){function n(n,i){var r;return(r=t.call(this)||this).vl=n.length>>1,r.rI=n,r.eI=i||function(t){for(var n=new Array(2*t),i=0,r=0;i<t;i+=1,r+=2)n[r]=!0,n[r+1]=!1;return n}(r.vl),r}qt(n,t);var i=n.prototype;return i.uI=function(t){return this.rI[2*t]},i.sI=function(t){return this.eI[2*t]},i.oI=function(t){return this.rI[2*t+1]},i.aI=function(t){return this.eI[2*t+1]},T(n,[{key:"cI",get:function(){return this.rI.slice()}}]),n}(function(){function t(){}var n=t.prototype;return n._w=function(t,n){return 0===this.Cw(t,n)},n.sy=function(t,n){return this.Cw(t,n)>0},n.oy=function(t,n){return this.Cw(t,n)>=0},n.Lw=function(t,n){return this.Cw(t,n)<0},n.Pw=function(t,n){return this.Cw(t,n)<=0},n.Ny=function(t,n){return this.Lw(t,n)?t:n},n.Iy=function(t,n){return this.sy(t,n)?t:n},n.hI=function(t,n,i){return i?this.Pw(t,n):this.Lw(t,n)},n.pR=function(){var t=this;return{get length(){return t.vl},start:function(n){var i=0|n;return t.fI(i),t.vI(t.uI(i))},end:function(n){var i=0|n;return t.fI(i),t.vI(t.oI(i))}}},n.dI=function(){for(var t=new Array(2*this.vl),n=new Array(2*this.vl),i=0;i<this.vl;i++)t[2*i]=this.uI(i),t[2*i+1]=this.oI(i),n[2*i]=!0,n[2*i+1]=!0;return this.lI(t,n)},n.fI=function(t){if(t<0)throw new d("The index provided ("+t+") must be non-negative");if(t>=this.vl)throw new d("The index provided ("+t+") is greater than the maximum bound ("+this.vl+")")},n._I=function(t){if(0===this.vl)return this.gI();if(this.kR(t))return t;if(this.Pw(t,this.uI(0)))return this.uI(0);if(this.oy(t,this.oI(this.vl-1)))return this.oI(this.vl-1);for(var n,i=this.wI(),r=0;r<this.vl;r++){var e=this.uI(r),u=this.Bw(e,t);this.Lw(u,i)&&(n=e,i=u);var s=this.oI(r),o=this.Bw(this.oI(r),t);this.Lw(o,i)&&(n=s,i=o)}return n},n.yI=function(t){for(var n=0,i=0,r=[],e=[];n<this.vl&&i<t.vl;){var u=this.uI(n),s=this.oI(n),o=this.sI(n),a=this.aI(n),c=t.uI(i),h=t.oI(i),f=t.sI(i),v=t.aI(i),d=this.Iy(u,c),l=this.Ny(s,h),_=void 0;_=this._w(u,c)?o&&f:this._w(d,u)?o:f;var g=void 0;g=this._w(s,h)?a&&v:this._w(l,s)?a:v,(this.Lw(d,l)||_&&g&&this._w(d,l))&&(r.push(d,l),e.push(_,g));var w=this.Cw(this.oI(n),t.oI(i));0===w?(n+=1,i+=1):w<0?n+=1:i+=1}return this.lI(r,e)},n.mI=function(){var t=this.kI(),n=t.vl;if(0===n)return this.lI([t.pI(),t.wI()],[!1,!1]);var i=[],r=[],e=t.uI(0);t._w(e,t.pI())||(i.push(t.pI(),e),r.push(!1,!t.sI(0)));for(var u=0;u<n-1;u++)i.push(t.oI(u),t.uI(u+1)),r.push(!t.aI(u),!t.sI(u+1));var s=t.oI(n-1);return t._w(s,t.wI())||(i.push(s,t.wI()),r.push(!t.aI(n-1),!1)),t.lI(i,r)},n.AI=function(t){for(var n=0,i=0,r=this.vl,e=t.vl,u=new Array(2*(r+e)),s=new Array(2*(r+e)),o=0;n<r&&i<e;){var a=this.uI(n),c=this.oI(n),h=t.uI(i),f=t.oI(i);this.Lw(a,h)||this._w(a,h)&&this.Lw(c,f)?(u[o]=a,u[o+1]=c,s[o]=this.sI(n),s[o+1]=this.aI(n),n++):(u[o]=h,u[o+1]=f,s[o]=t.sI(i),s[o+1]=t.aI(i),i++),o+=2}for(;n<r;)u[o]=this.uI(n),u[o+1]=this.oI(n),s[o]=this.sI(n),s[o+1]=this.aI(n),n++,o+=2;for(;i<e;)u[o]=t.uI(i),u[o+1]=t.oI(i),s[o]=t.sI(i),s[o+1]=t.aI(i),i++,o+=2;return this.lI(u,s)},n.bI=function(t){void 0===t&&(t=this.gI());var n=this.vl;if(n<2)return this;for(var i=[],r=[],e=this.uI(0),u=this.oI(0),s=this.sI(0),o=this.aI(0),a=1;a<n;a++){var c=this.uI(a),h=this.oI(a),f=this.sI(a),v=this.aI(a);this.Lw(e,c)&&this.sy(u,h)||(this._w(e,c)&&(s=f=s||f),this._w(u,h)&&(o=v=o||v),this.hI(c,this.Cg(u,t),o||f)?(u=h,o=v):(i.push(e,u),r.push(s,o),e=c,u=h,s=f,o=v))}return i.push(e,u),r.push(s,o),this.lI(i,r).kI()},n.kI=function(){for(var t=[],n=[],i=0;i<this.vl;i++){var r=this.uI(i),e=this.oI(i),u=this.sI(i),s=this.aI(i);this._w(r,e)?(u||s)&&(t.push(r,e),n.push(!0,!0)):(t.push(r,e),n.push(u,s))}return this.lI(t,n)},n.TI=function(t){return this.vl?t.vl?this.AI(t).bI():this:t},n.EI=function(t){var n=this.kI(),i=t.kI(),r=n.mI(),e=i.mI(),u=r.yI(i),s=e.yI(n);return u.TI(s)},n.Ys=function(t){if(this._w(t,this.gI()))return this;for(var n=[],i=[],r=0;r<this.vl;r++){var e=this.Cg(this.uI(r),t),u=this.Cg(this.oI(r),t);n.push(e,u),i.push(this.sI(r),this.aI(r))}return this.lI(n,i)},n.SI=function(t){return this.kI().yI(t.kI().mI())},n.kR=function(t,n){return this.RI(t,n)>=0},n.II=function(t,n,i,r,e){return this.NI(t,n,i,r,e)>=0},n.DI=function(t,n,i,r,e){return this.CI(t,n,i,r,e)>=0},n.OI=function(t){if(t.vl!==this.vl)return!1;for(var n=0;n<this.vl;n++)if(!this._w(this.uI(n),t.uI(n))||!this._w(this.oI(n),t.oI(n))||this.sI(n)!==t.sI(n)||this.aI(n)!==t.aI(n))return!1;return!0},n.xI=function(t){for(var n=[],i=[],r=0;r<this.vl;r++)t(this.uI(r),this.oI(r))&&(n.push(this.uI(r),this.oI(r)),i.push(this.sI(r),this.aI(r)));return this.lI(n,i)},n.CI=function(t,n,i,r,e){void 0===i&&(i=!0),void 0===r&&(r=!0),void 0===e&&(e=this.gI());for(var u=this.Hw(t,e),s=this.Cg(n,e),o=0;o<this.vl;o+=1)if(this.hI(this.uI(o),s,!r||this.sI(o))&&this.hI(u,this.oI(o),!i||this.aI(o)))return o;return-1},n.NI=function(t,n,i,r,e){void 0===i&&(i=!0),void 0===r&&(r=!1),void 0===e&&(e=this.gI());for(var u=this.Cg(t,e),s=this.Hw(n,e),o=0;o<this.vl;o+=1)if(this.hI(this.uI(o),u,!i||this.sI(o))&&this.hI(s,this.oI(o),!r||this.aI(o)))return o;return-1},n.RI=function(t,n){return this.NI(t,t,!0,!0,n)},n.BI=function(t,n){void 0===n&&(n=this.gI());for(var i=this.Cg(t,n),r=this.vl-1;r>=0;r-=1)if(this.hI(this.uI(r),i,this.sI(r)))return r;return-1},n.LI=function(t,n){void 0===n&&(n=this.gI());for(var i=this.Hw(t,n),r=0;r<this.vl;r+=1)if(this.hI(i,this.oI(r),this.aI(r)))return r;return-1},n.MI=function(t){return this.fI(t),this.lI([this.uI(t),this.oI(t)],[this.sI(t),this.aI(t)])},n.UI=function(t,n){var i=this.RI(t,n);return i<0?void 0:this.MI(i)},T(t,[{key:"FI",get:function(){for(var t=this.gI(),n=0;n<this.vl;n++){var i=this.Hw(this.oI(n),this.uI(n));t=this.Cg(t,i)}return t}}]),t}()),Yp=function(t){function n(n,i){return t.call(this,n,i)||this}qt(n,t);var i=n.prototype;return i.Cw=function(t,n){return t<n?M_.Rw:t===n?M_.Ew:M_.Sw},i.Cg=function(t,n){return t+n},i.Hw=function(t,n){return t-n},i.Bw=function(t,n){return g.abs(t-n)},i.gI=function(){return 0},i.wI=function(){return 1/0},i.pI=function(){return-1/0},n.HI=function(t){for(var i=[],r=0;r<t.length;r++)i.push(t.start(r),t.end(r));return new n(i)},n.VI=function(t){for(var i=[],r=[],e=0;e<t.vl;e++)i.push(t.uI(e).Oy),i.push(t.oI(e).Oy),r.push(t.sI(e)),r.push(t.aI(e));return new n(i,r)},n.XI=function(t){return new n([t,t],[!0,!0])},i.lI=function(t,i){return new n(t,i)},i.vI=function(t){return t},n.WI=function(){return Zp},n}(Qp),Zp=new Yp([]);!function(t){t.Gd="fullscreenchange",t.qI="fullscreensupportchange",t.Ol="fullscreenerror"}(jp||(jp={}));var Jp=function(t){function n(){return t.call(this,jp.Ol)||this}return qt(n,t),n}(Vi),$p=new(function(t){function n(){return t.apply(this,arguments)||this}qt(n,t);var i=n.prototype;return i.Gg=function(){this.ys(new Jp)},i.Qg=function(){},i.Jf=function(){this.Ts()},T(n,[{key:"zI",get:function(){return!1}},{key:"GI",get:function(){return!1}}]),n}(Fi)),Kp=function(t){function n(){return t.apply(this,arguments)||this}return qt(n,t),n.prototype.ag=function(){},n}(function(t){function n(){var n;return(n=t.apply(this,arguments)||this).jI=0,n.QI=!1,n.YI=!0,n.ZI=1,n.JI=!1,n.$I=1,n.q_=new t_,n.gg=Yp.WI().pR(),n.y_=NaN,n.m_=!1,n.Bs=void 0,n.k_=void 0,n.j_=void 0,n.mg=!1,n.Sg=!0,n.Rg=Yp.WI().pR(),n.Ig=Vp.GR,n.Bl=Qd.s_,n.Ng=Yp.WI().pR(),n.TR=void 0,n.G_=new Mw,n.E_=0,n.z_=new t_,n.S_=0,n.MS=new Cp,n}qt(n,t);var i=n.prototype;return i.sg=function(){},i.og=function(){},i.Q_=function(){this.YI&&(this.YI=!1,this.ys(new _l(this.w_)),this.ys(new bp(this.w_)))},i.Y_=function(){this.YI||(this.YI=!0,this.ys(new pl(this.w_,this.wg)),this.ys(new ll(this.w_)))},i.K_=function(t,n){return vn.resolve()},i.tg=function(){return!1},i.ng=function(){},i.ig=function(){},i.cg=function(){return $p},i._g=function(){},i.hl=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.jI=0,this.JI=!1,this.Y_(),this.ys(new dl(this.jI));case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Jf=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.Ts(),this.q_.Jf(),this.G_.Jf(),this.z_.Jf();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),T(n,[{key:"wg",get:function(){},set:function(t){}},{key:"w_",get:function(){return this.jI},set:function(t){this.jI!==t&&(this.jI=t,this.JI=!0,this.ys(new Tl(this.w_)))}},{key:"B_",get:function(){return{kg:0,pg:0,Ag:0,bg:0,Tg:0,Eg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"p_",get:function(){return this.QI},set:function(t){this.QI!==t&&(this.QI=t,this.ys(new Sl(this.w_,this.R_)))}},{key:"A_",get:function(){return this.YI}},{key:"b_",get:function(){return this.ZI},set:function(t){this.ZI!==t&&(this.ZI=t,this.ys(new kl(this.w_,this.b_)))}},{key:"T_",get:function(){return this.JI}},{key:"R_",get:function(){return this.$I},set:function(t){this.$I!==t&&(this.$I=t,this.ys(new Sl(this.w_,this.R_)))}},{key:"ER",get:function(){return this.MS}}]),n}(Fi)),tA=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this,Hp._n,new Kp)||this).KI=n,o.Ko=i,o.lb=r,o.tN=e,o.nN=s,o.iN=new pn(u,o.nN),o.iN.rN(o.KI),o.eN=new Xp(o.KI),o}qt(n,t);var i=n.prototype;return i.rg=function(){t.prototype.rg.call(this),this.iN.uN()},i.eg=function(t){Pl(this,t)},i.ug=function(){},i.nI=function(t){return t.Pb(this.KI,this.iN,this.lb,this.Ko,this.tN,this.nN)},i.ag=function(){return this.$R.ag()},i.hg=function(){return this.iN.sN.map(function(t){return t.nR})},i.bs=function(n){t.prototype.bs.call(this,n)},i.Is=function(n){t.prototype.Is.call(this,n)},i.Jf=function(){var n=vn.coroutine(fn.mark(function n(){return fn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.Jf.call(this);case 2:this.iN.Jf(),this.eN.Jf();case 4:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),T(n,[{key:"yg",get:function(){return this.KI}}]),n}(zp),nA=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).KI=n,e.oN=i,e.aN=new t_,e.cN=new Mw,e.hN=r,e}qt(n,t);var i=n.prototype;return i.fg=function(t){return!0},i.og=function(){},i.Q_=function(){throw this.ys(new Dl(this.hN)),this.oN},i.Y_=function(){},i.J_=function(){},i.K_=function(){var t=vn.coroutine(fn.mark(function t(n,i){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:throw bi(i),this.ys(new Dl(this.hN)),this.oN;case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.sg=function(){},i.Z_=function(){return vn.resolve()},i.ag=function(){},i.cg=function(){return $p},i.hg=function(){return[]},i.rg=function(){},i.eg=function(t){},i.ug=function(){},i.tg=function(){return!1},i.ng=function(){},i.ig=function(){},i._g=function(){},i.hl=function(){return vn.resolve()},i.Jf=function(){return this.Ts(),this.aN.Jf(),this.cN.Jf(),vn.resolve()},T(n,[{key:"q_",get:function(){return this.aN}},{key:"gg",get:function(){return Yp.WI().pR()}},{key:"wg",get:function(){return new Date(NaN)},set:function(t){}},{key:"lg",get:function(){}},{key:"w_",get:function(){return 0},set:function(t){}},{key:"y_",get:function(){return 0}},{key:"yg",get:function(){return this.KI}},{key:"m_",get:function(){return!0}},{key:"Bs",get:function(){return this.oN}},{key:"k_",get:function(){return this.hN}},{key:"j_",get:function(){}},{key:"B_",get:function(){return{kg:0,pg:0,Ag:0,bg:0,Tg:0,Eg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"p_",get:function(){return!1},set:function(t){}},{key:"Sg",get:function(){return!0}},{key:"A_",get:function(){return!0}},{key:"b_",get:function(){return 0},set:function(t){}},{key:"Rg",get:function(){return Yp.WI().pR()}},{key:"Ig",get:function(){return Vp.GR},set:function(t){}},{key:"Bl",get:function(){return Qd.s_}},{key:"Ng",get:function(){return Yp.WI().pR()}},{key:"T_",get:function(){return!1}},{key:"G_",get:function(){return this.cN}},{key:"E_",get:function(){return 0}},{key:"z_",get:function(){return this.aN}},{key:"S_",get:function(){return 0}},{key:"R_",get:function(){return 1},set:function(t){}},{key:"mg",get:function(){return!1}}]),n}(Fd);function iA(t){if(t&&H(t))return dn(dn({},t),{integration:rA(t.integration),fairplay:hA(t.fairplay),widevine:eA(t.widevine),playready:uA(t.playready),clearkey:fA(t.clearkey),aes128:vA(t.aes128),integrationParameters:dA(t.integrationParameters),preferredKeySystems:lA(t.preferredKeySystems)})}function rA(t){if(X(t))return t}function eA(t){if(t&&H(t))return{persistentState:sA(t.persistentState),distinctiveIdentifier:sA(t.distinctiveIdentifier),audioRobustness:oA(t.audioRobustness),videoRobustness:oA(t.videoRobustness),licenseAcquisitionURL:X(t.licenseAcquisitionURL)?t.licenseAcquisitionURL:void 0,licenseType:aA(t.licenseType),headers:t.headers,useCredentials:!!W(t.useCredentials)&&t.useCredentials,queryParameters:t.queryParameters,certificate:X(t.certificate)||te(t.certificate)?t.certificate:void 0,certificateRequestProcessor:cA(t.certificateRequestProcessor),certificateResponseProcessor:cA(t.certificateResponseProcessor),licenseRequestProcessor:cA(t.licenseRequestProcessor),licenseResponseProcessor:cA(t.licenseResponseProcessor)}}function uA(t){if(t){var n=eA(t);if(n){var i=X(t.customData)?t.customData:void 0;return dn(dn({},n),{customData:i})}}}function sA(t){switch(null==t?void 0:t.toLowerCase()){case"required":return"required";case"optional":return"optional";case"not-allowed":return"not-allowed"}}function oA(t){switch(t){case"HW_SECURE_ALL":return"HW_SECURE_ALL";case"HW_SECURE_DECODE":return"HW_SECURE_DECODE";case"HW_SECURE_CRYPTO":return"HW_SECURE_CRYPTO";case"SW_SECURE_DECODE":return"SW_SECURE_DECODE";case"SW_SECURE_CRYPTO":return"SW_SECURE_CRYPTO";case"":return""}}function aA(t){switch(null==t?void 0:t.toLowerCase()){case"temporary":return"temporary";case"persistent":return"persistent"}}function cA(t){if("function"==typeof t)return t}function hA(t){if(t){var n=eA(t);if(n){var i=X(t.certificateURL)?t.certificateURL:void 0;return dn(dn({},n),{certificateURL:i})}}}function fA(t){if(t){var n=eA(t);if(n){var i=U(t.keys)?t.keys.map(function(t){return function(t){if(!t||!H(t))return;var n=t.id,i=t.value;if(!X(n)||!X(i))return;return{id:n,value:i}}(t)}).filter(M):void 0;return dn(dn({},n),{keys:i})}}}function vA(t){if(H(t))return{useCredentials:W(t.useCredentials)?t.useCredentials:void 0}}function dA(t){if(H(t))return t}function lA(t){return t&&U(t)?t.map(function(t){return $y(t)}).filter(M):[Ln,xn,Un]}var _A,gA=function(t){function n(n){var i;return(i=t.call(this,"presentationmodechange")||this).presentationMode=n,i}return qt(n,t),n}(Vi),wA=function(t){function n(n,i){var r;return void 0===i&&(i=!1),(r=t.call(this,n)||this).fN=[],r.vN=function(t){Di(function(){r.gs(t)})},r.dN=i?r.vN:r.gs,r}qt(n,t);var i=n.prototype;return i.lN=function(t){t.bs(this.dN),this.fN.push(t)},i._N=function(t){t.Is(this.dN),vi(this.fN,t)},i.Jf=function(){this.Ts();for(var t=0,n=this.fN;t<n.length;t++){n[t].Is(this.dN)}gi(this.fN)},n}(Ud),yA=function(t){function n(){return t.apply(this,arguments)||this}return qt(n,t),n}(wA);!function(t){t.INLINE="inline",t.FULLSCREEN="fullscreen",t.PICTURE_IN_PICTURE="picture-in-picture"}(_A||(_A={}));var mA,kA=function(t){function i(n){var i;return(i=t.call(this)||this).gN=!1,i.wN=!1,i.Od=void 0,i.yN=function(){return i.mN()},i.kN=function(){return i.pN()},i.AN=n,i.bN=i.TN=i.EN=i.SN=_A.INLINE,i.AN.ps(jp.Gd,i.yN),i.AN.ps(jp.Ol,i.kN),i.RN(),i}qt(i,t);var r=i.prototype;return r.Pd=function(){return t=this,i={get currentMode(){return t.IN()},requestMode:function(n){var i=AA(n);i&&t.NN(i)},supportsMode:function(n){var i=AA(n);return!!i&&t.DN(i)},addEventListener:function(t,i){n.ps(t,i)},removeEventListener:function(t,i){n.Es(t,i)}},(n=new wA(i,!0)).lN(t),i;var t,n,i},r.NN=function(t){this.CN(t,t)},r.CN=function(t,n){this.TN!==n&&(this.gN=!0,this.bN=t,this.ON(n,this.TN),t!==_A.FULLSCREEN&&(this.EN=t),this.gN=!1,this.RN())},r.IN=function(){return this.wN?_A.FULLSCREEN:_A.INLINE},r.DN=function(t){switch(t){case _A.FULLSCREEN:return this.AN.GI;case _A.INLINE:return!0}return!1},r.RN=function(){if(!this.gN){var t=this.TN,n=this.IN();this.TN=n,n!==_A.FULLSCREEN&&(this.SN=n),t!==n&&this.ys(new gA(n))}},r.ON=function(t,n){var i=t===_A.FULLSCREEN;this.wN=i,i!==this.AN.zI&&(i?this.AN.Gg():this.AN.Qg())},r.mN=function(){if(!this.gN){var t=this.AN.zI;this.wN=t,t?this.CN(_A.FULLSCREEN,_A.FULLSCREEN):t||this.bN!==_A.FULLSCREEN?this.RN():this.CN(this.EN,this.SN)}},r.pN=function(){this.mN(),this.ys(new Dl(new De(n.ErrorCode.FULLSCREEN_ERROR,"Failed to enter fullscreen.")))},r.Jf=function(){this.AN.Jf(),this.Ts()},T(i,[{key:"xd",get:function(){return this.Od||(this.Od=this.Pd()),this.Od}}]),i}(Ud),pA={w_:0,y_:NaN,m_:!1,Bs:void 0,k_:void 0,p_:!1,A_:!0,b_:1,Bl:Qd.s_,T_:!1,E_:0,S_:0,R_:1};function AA(t){switch(t){case _A.INLINE:case _A.FULLSCREEN:case _A.PICTURE_IN_PICTURE:return t;default:return}}!function(t){t.DEFAULT="",t.THEO="theo",t.GOOGLE_IMA="google-ima",t.SPOTX="spotx",t.FREEWHEEL="freewheel"}(mA||(mA={}));var bA,TA,EA,SA,RA,IA,NA,DA,CA=function(){function t(){this.xN=[]}var n=t.prototype;return n.PN=function(t){var n=this.BN.filter(function(n){return n.LN(t)});if(n.length>1)0;else if(0===n.length)throw d("Unknown ad integration: "+t.integration);return n[0]||null},n.MN=function(t){this.xN.push(t)},T(t,[{key:"BN",get:function(){return this.xN}}]),t}();CA._n=new CA,function(t){t.g_="PLAYING",t.UN="PAUSED",t.FN="SEEK",t.HN="STALLED",t.VN="FAILED",t.XN="INITIAL_BUFFERING",t.WN="NO_ACCESS"}(bA||(bA={})),function(t){t.qN="HTTP_REQUEST_STATUS_CODE_1XX",t.zN="HTTP_REQUEST_STATUS_CODE_2XX",t.GN="HTTP_REQUEST_STATUS_CODE_3XX",t.jN="HTTP_REQUEST_STATUS_CODE_4XX",t.QN="HTTP_REQUEST_STATUS_CODE_5XX",t.YN="BUFFER_LENGTH",t.ZN="BYTES_RECEIVED",t.JN="SEGMENT_READ_BITRATE",t.$N="SEGMENT_PROFILE_BITRATE",t.KN="NUMBER_OF_FRAMES_DROPPED",t.tD="PLAYBACK_POSITION",t.nD="NUMBER_OF_FRAMES_DECODED",t.iD="PLAYBACK_DELTA_TO_ORIGIN",t.rD="STREAM_DELTA_TO_ORIGIN",t.eD="ORIGIN_TIMESTAMP"}(TA||(TA={})),function(t){t.uD="MANIFEST_URI",t.sD="ASSET_DURATION",t.oD="NUMBER_OF_CONTENT_PROFILES",t.aD="CDN",t.cD="CONTENT_TITLE",t.hD="SERVICE_NAME",t.fD="CONTENT_TYPE",t.vD="CONTENT_DESCRIPTION"}(EA||(EA={})),function(t){t.dD="shutdown_normal_shutdown"}(SA||(SA={})),function(t){t.lD="session/",t._D="internalError/",t.gD="drmError/",t.wD="caError/",t.yD="networkError/"}(RA||(RA={})),function(t){t.mD="userAction",t.kD="endOfStreamReached"}(IA||(IA={})),function(t){t.PAUSE="pD",t.RESUME="bD"}(NA||(NA={})),function(t){t.UNAVAILABLE="unavailable",t.AVAILABLE="available",t.CONNECTING="connecting",t.CONNECTED="connected"}(DA||(DA={}));var OA,xA,PA,BA,LA,MA="agama";function UA(t){return function(t){switch(t){case OA.NONE:case OA.HORIZONTAL:case OA.VERTICAL:return!0;default:return!1}}(t)?t:OA.NONE}function FA(t){switch(t){case"":return OA.NONE;case"horizontal":return OA.HORIZONTAL;case"vertical":return OA.VERTICAL;default:throw new l}}function HA(t){return{useSeamlessPeriodSwitch:VA(null==t?void 0:t.useSeamlessPeriodSwitch)}}function VA(t){if(!t||!X(t))return xA.zR;switch(t){case"always":return xA.TD;case"never":return xA.ED;default:return xA.zR}}function XA(t){return{discontinuityAlignment:WA(null==t?void 0:t.discontinuityAlignment)}}function WA(t){if(!t||!X(t))return PA.zR;switch(t){case"playlist":return PA.SD;case"media":return PA.RD;default:return PA.zR}}function qA(t,n,i){var r=function(t,n){var i=qd.i_;t.useCredentials?i=qd.n_:t.crossOrigin&&(i=$d(t.crossOrigin));i===qd.i_&&n&&n.vr&&n.vr[360]&&(i=qd.t_);return{useCredentials:i===qd.n_,crossOrigin:i}}(t,n),e=r.useCredentials,u=r.crossOrigin,s=t.liveOffset;M(s)||(s=i&&M(i.liveOffset)?i.liveOffset:void 0);var o=t.timeServer;M(o)||(o=n&&M(n.timeServer)?n.timeServer:void 0);var a=Boolean(t.hlsDateRange);return M(t.hlsDateRange)||(a=!(!i||!M(i.hlsDateRange))&&Boolean(i.hlsDateRange)),{crossOrigin:u,useCredentials:e,liveOffset:s,timeServer:o,hlsDateRange:a,experimentalRendering:Boolean(t.experimentalRendering),nativeUiRendering:Boolean(t.nativeUiRendering),lowLatency:Boolean(t.lowLatency),useNativePlayback:Boolean(t.useNativePlayback),dash:M(t.dash)?HA(t.dash):void 0,hls:M(t.hls)?XA(t.hls):void 0}}function zA(t){if(null!==t)return t}function GA(t){var n,i={apiKey:t.apiKey,integration:t.integration,streamActivityMonitorID:zA(t.streamActivityMonitorID),adTagParameters:H(t.adTagParameters)?t.adTagParameters:{},authToken:zA(t.authToken)};if("vod"===(null==t?void 0:t.availabilityType)||(n=t,Boolean(n.videoID&&n.contentSourceID))){var e=t.videoID,u=t.contentSourceID;return e?u?dn(dn({},i),{availabilityType:"vod",videoID:e,contentSourceID:u}):void r.ud("A VOD DAI configuration was provided without valid contentSourceID which is required."):void r.ud("A VOD DAI configuration was provided without valid videoID which is required.")}if("live"===(null==t?void 0:t.availabilityType)||function(t){return Boolean(t.assetKey)}(t)){var s=t.assetKey;return s?dn(dn({},i),{availabilityType:"live",assetKey:s}):void r.ud("A Live DAI configuration was provided without valid assetKey which is required.")}r.ud("A DAI configuration was provided without a valid availabilityType which is required.")}function jA(t){switch(t.integration){case"google-dai":return GA(t);case"imagine":return{integration:t.integration};case"yospace":return function(t){var n;return{integration:t.integration,streamType:null!==(n=t.streamType)&&void 0!==n?n:void 0}}(t);default:return{integration:t.integration}}}function QA(t,n,i){var r=qA(t,n,i),e=zA(t.src),u=t.type;u||(u=t.src?Jd(t.src):void 0);var s=function(t,n){var i;i=M(t.contentProtection)?t.contentProtection:M(t.drm)?t.drm:M(n)&&M(n.contentProtection)?n.contentProtection:M(n)&&M(n.drm)?n.drm:void 0;return YA(i)}(t,n),o=M(t.ssai)?jA(t.ssai):void 0;return dn(dn({},r),{src:e,type:u,contentProtection:s,ssai:o,integrationData:void 0,isAdvertisement:Boolean(t.isAdvertisement)})}function YA(t){if(!qy(t)||!t.integration)return t;switch(t.integration){case ky:return n=t,i=Jy(In.Nu,n),r=Jy(In.Iu,n),e=n[In.Du]&&Jy(In.Du,n),dn({integration:"keyos",widevine:i,playready:r},e?{fairplay:e}:{});default:return t}var n,i,r,e}function ZA(t){if(!t)return!0;var n,i,r=!(ul(n=t.sources)||F(n)&&ul(n[0]))||sl(t.sources),e=!t.ads||(!(i=t.ads)||U(i)&&0===i.length),u=""!==t.poster&&!t.poster;return r&&e&&u}function JA(t){if(t&&t.sources)return function t(n){if(X(n))return n;if(el(n))return n.src;if(F(n)&&n.length>0)return t(n[0]);return}(t.sources)}function $A(t,n,i){return il(t)?function(t,n,i){var r=dn(dn({},ol()),{ping:{adImpressions:!1,freeWheelVideoViews:!1,linearAdData:!1},integration:BA.VERIZON_MEDIA,id:"",preplayParameters:{},playbackUrlParameters:{},assetType:LA.ASSET,contentProtected:!1,assetInfo:!0});r.id=(e=t.id,X(e)?e:F(e)&&X(e[0])?e:H(u=e)&&X(u.userId)&&(F(u.externalId)||X(u.externalId))?e:""),t.preplayParameters&&(r.preplayParameters=t.preplayParameters);var e,u;t.playbackUrlParameters&&(r.playbackUrlParameters=t.playbackUrlParameters);t.assetType&&(r.assetType=function(t){switch(t){case"channel":return LA.CHANNEL;case"event":return LA.EVENT;case"asset":default:return LA.ASSET}}(t.assetType));t.contentProtected&&(r.contentProtected=wd(t.contentProtected));t.assetInfo?r.assetInfo=wd(t.assetInfo):r.assetInfo="asset"===r.assetType;return r.ping=(s=r.assetType,o=t.ping,a=!1,c=!1,h=!1,o?(a=!!W(o.adImpressions)&&o.adImpressions,c=!!W(o.freeWheelVideoViews)&&o.freeWheelVideoViews,h=W(o.linearAdData)?o.linearAdData:s!==LA.ASSET):s!==LA.ASSET&&(h=!0),{adImpressions:a,freeWheelVideoViews:c,linearAdData:h}),r=tb(r=KA(r,t),n,i);var s,o,a,c,h}(t,n,i):function(t,n,i){var r=al(),e=n&&(n.contentProtection||n.drm);if(X(t)){if(r.src=t,r.type=Jd(t),e){var u=iA(e);r.contentProtection=YA(u)}}else if(el(t)||nl(t)){r.src=t.src,r.type=t.type||Jd(t.src),r.isAdvertisement=t.isAdvertisement;var s=function(t){return t.type===zd.e_||t.type===zd.u_}(t)?t.hesp:void 0;void 0!==s&&(r.hesp=s);var o=t.contentProtection||t.drm||e,a=iA(o);r.contentProtection=YA(a),t.ssai&&(r.ssai=jA(t.ssai)),r=KA(r,t)}return r=tb(r,n,i)}(t,n,i)}function KA(t,n){n.useCredentials?t.crossOrigin=qd.n_:n.crossOrigin&&(t.crossOrigin=$d(n.crossOrigin)),X(n.timeServer)&&(t.timeServer=n.timeServer),n.liveOffset&&(t.liveOffset=n.liveOffset),n.hlsDateRange&&(t.hlsDateRange=n.hlsDateRange),n.lowLatency&&(t.lowLatency=wd(n.lowLatency)),n.useNativePlayback&&(t.useNativePlayback=wd(n.useNativePlayback)),n.dash&&(t.dash=HA(n.dash)),n.hls&&(t.hls=XA(n.hls));var i=void 0!==n.experimentalRendering?wd(n.experimentalRendering):void 0;void 0!==i&&(t.experimentalRendering=i);var r=void 0!==n.nativeUiRendering?wd(n.nativeUiRendering):void 0;return void 0!==r&&(t.nativeUiRendering=r),t}function tb(t,n,i){var r,e=n&&n.timeServer;return i&&i.liveOffset&&!M(t.liveOffset)&&(t.liveOffset=i.liveOffset),i&&i.hlsDateRange&&!M(t.hlsDateRange)&&(t.hlsDateRange=i.hlsDateRange),t.crossOrigin===qd.i_&&(null===(r=null==n?void 0:n.vr)||void 0===r?void 0:r[360])&&(t.crossOrigin=qd.t_),t.useCredentials=t.crossOrigin===qd.n_,X(e)&&!t.timeServer&&(t.timeServer=e),t}function nb(t){var n={src:""};if(t&&t.src){if(n.src=kd(t.src),"default"in t&&(n.default=wd(t.default)),n.kind=Hw(t.kind),function(t){switch(t){case v_.DEFAULT:case v_.SRT:case v_.TTML:case v_.WEBVTT:case v_.EMSG:case v_.EVENT_STREAM:case v_.ID3:case v_.CEA608:case v_.DATE_RANGE:return!0;default:return!1}}(t.format)&&(n.format=t.format),"srclang"in t){var i=t.srclang;"string"==typeof i&&""!==i&&(n.srclang=i)}if("label"in t){var r=t.label;"string"==typeof r&&""!==r&&(n.label=r)}}return n}function ib(t,n){if(V(t))try{return n.PN(t).ND(t)}catch(t){return}}function rb(t){return X(t.sources)&&""!==t.sources||H(t.sources)&&X(t.sources.src)}function eb(t){return t.integration===mA.SPOTX&&!m(t.id)}function ub(t){return"freewheel"===t.integration}function sb(t,n,i){if(void 0===i&&(i=CA._n),ZA(t))return{sources:[al()]};var r=dd(t);if(r.sources=function(t,n,i){if(ul(t))return[$A(t,n,i)];if(F(t)&&ul(t[0])){for(var r=[],e=0;e<t.length;e++){var u=t[e];r.push($A(u,n,i))}return r}return[al()]}(r.sources,r,n),"contentProtection"in r&&delete r.contentProtection,"drm"in r&&delete r.drm,"ads"in r){var e=function(t,n){if(!F(t))return[];for(var i=[],r=0;r<t.length;r++){var e=t[r];(e=ib(e,n))&&(rb(e)||eb(e)||ub(e))&&i.push(e)}return i}(r.ads,i);0===e.length?delete r.ads:r.ads=e}var u,s,o,a=!sl(r.sources),c=r.ads&&r.ads.length>0;if(a&&!c?delete r.ads:c&&!a&&(r.sources=[]),"textTracks"in r){var h=function(t){if(!F(t))return[];for(var n=[],i=0;i<t.length;i++){var r=t[i];""!==(r=nb(r)).src&&n.push(r)}return n}(r.textTracks);0===h.length?delete r.textTracks:r.textTracks=h}if("poster"in r&&(r.poster=kd(r.poster)),"vr"in r&&(r.vr=(u=r.vr,(s=u||{}).stereoMode=UA(s.stereoMode),{360:Boolean(s[360]),stereoMode:s.stereoMode?FA(s.stereoMode):OA.NONE})),"analytics"in r||(null==n?void 0:n.analytics)){var f=hl(r.analytics),v=n&&n.analytics||[];r.analytics=function(t,n){for(var i=dd(t),r=function(r){var e=n[r],u=!t.some(function(t){return t.integration===e.integration});u&&e.integration!==MA&&i.push(e)},e=0;e<n.length;e++)r(e);return i}(f,v)}return"mutedAutoplay"in r&&(r.mutedAutoplay=Cl(r.mutedAutoplay)),"timeServer"in r&&delete r.timeServer,r.blockContentIfAdError=void 0!==(o=r.blockContentIfAdError)&&"boolean"==typeof o&&Boolean(o),r}!function(t){t.NONE="",t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(OA||(OA={})),function(t){t.zR="auto",t.TD="always",t.ED="never"}(xA||(xA={})),function(t){t.zR="auto",t.SD="playlist",t.RD="media"}(PA||(PA={})),function(t){t.VERIZON_MEDIA="verizon-media"}(BA||(BA={})),function(t){t.ASSET="asset",t.CHANNEL="channel",t.EVENT="event"}(LA||(LA={}));var ob=function(){function t(t){this.DD=t}return t.prototype.CD=function(t){var n,i,r,e,u,s,o,a=[];if(!t)return"";var c=t.length%4;if(c>0)for(;c++<4;)t+=this.DD.charAt(64);for(n=0;n<t.length;n+=4)i=(o=this.DD.indexOf(t.charAt(n))<<18|this.DD.indexOf(t.charAt(n+1))<<12|(u=this.DD.indexOf(t.charAt(n+2)))<<6|(s=this.DD.indexOf(t.charAt(n+3))))>>>16&255,r=o>>>8&255,e=255&o,a[n/4]=String.fromCharCode(i,r,e),64===s&&(a[n/4]=String.fromCharCode(i,r)),64===u&&(a[n/4]=String.fromCharCode(i));return a.join("")},t.prototype.OD=function(t,n){var i,r,e,u,s,o,a,c=[],h="";if((o=t.length%3)>0)for(;o++<3;)h+=this.DD.charAt(64),t+="\0";for(o=0;o<t.length;o+=3)r=(i=t.charCodeAt(o)<<16|t.charCodeAt(o+1)<<8|t.charCodeAt(o+2))>>18&63,e=i>>12&63,u=i>>6&63,s=63&i,c[o/3]=this.DD.charAt(r)+this.DD.charAt(e)+this.DD.charAt(u)+this.DD.charAt(s);return a=(a=c.join("")).slice(0,a.length-h.length),n||(a+=h),a},t.am=new t(function(){var t,n,i,r,e=[],u=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<u.length;t+=1)for(n=u[t],i=0;i<n.length;i+=1)r=n.charAt(i),-1===e.indexOf(r)&&e.push(r);return e.join("")}()),t.xD=new t(t.am.CD("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")),t}();function ab(t){return"string"==typeof t}function cb(t){return"number"==typeof t}var hb={}.toString;var fb,vb=Array.isArray||function(t){return"[object Array]"===hb.call(t)};function db(t,n){return vb(t)&&t.every(n)}!function(t){t.HTML5="html5",t.ANDROID="android",t.IOS="ios",t.TVOS="tvos",t.ANDROIDTV="androidtv",t.TIZEN="tizen",t.WEBOS="webos",t.CHROMECAST="chromecast",t.ROKU="roku",t.FIRETV="firetv",t.CHROMECASTCAF="chromecastcaf"}(fb||(fb={}));var lb,_b=_.keys(fb).map(function(t){return fb[t]});function gb(t){return-1!==_b.indexOf(t)}function wb(t){try{var n=ob.xD.CD(t),i=JSON.parse(n);if(!function(t){var n=(f=t,"object"==typeof f&&null!==f),i=ab(t.key),r=ab(t.customer_id),e=cb(t.generation_date),u=cb(t.expiration_date),s=db(t.domains_page,ab),o=db(t.domains_source,ab),a=db(t.sdks,gb),c=(h=t.send_impression,"boolean"==typeof h);var h;var f;if(!(n&&i&&r&&e&&u&&s&&o&&a&&c))return!1;return!0}(i))throw new d("The provided license could not be decoded correctly.");return i}catch(t){throw new d("The provided license could not be decoded correctly.")}}function yb(){return lb||(lb={Rf:En.href,PD:Tn.parent&&Tn.parent!==u,BD:pb()}),lb}var mb,kb=["http:","https:","ftp:","ws:","wss:"];function pb(){try{return Tn.top.location.href}catch(t){return Tn&&Tn.document&&Tn.document.referrer}}!function(t){t[t.LD=0]="LD",t[t.MD=1]="MD",t[t.UD=2]="UD"}(mb||(mb={}));var Ab,bb=function(t,n,i,r,e,u,s,o){void 0===e&&(e=""),void 0===u&&(u=Date.now()),void 0===s&&(s=[]),void 0===o&&(o=!0),this.FD=t,this.HD=n,this.VD=i,this.XD=r,this.WD=e,this.qD=u,this.zD=s,this.GD=o};!function(t){t.MD="expired",t.jD="invaliddomain",t.QD="invalidsource",t.Ol="error"}(Ab||(Ab={}));var Tb=function(){function t(t,n,i){this.YD=t,this.ZD=n,this.JD=i,this.$D=Db(this.JD)}var n=t.prototype;return n.KD=function(t,n){var i=this;if(!ZA(t)&&0!==n.VD.length&&!Rb(n.VD)){var r=[];if(ul(t.sources)?r=[t.sources]:F(t.sources)&&(r=t.sources),!r.every(function(t){return i.tC(t,n)})){var e=Ab.QD,u=Ob.nC(e);throw new De(Eb(e),u)}}},n.iC=function(n){return this.rC(n.zD)&&this.eC(n)?t.uC(n.XD)?mb.LD:mb.MD:mb.UD},n.rC=function(t){var n=this;return 0===t.length||t.some(function(t){return n.sC(t)})},n.sC=function(t){return"ios"===function(t){switch(t){case fb.ANDROID:return e.g;case fb.ANDROIDTV:case fb.FIRETV:return e.R;case fb.IOS:return e.I;case fb.TVOS:return e.N;case fb.CHROMECAST:case fb.CHROMECASTCAF:return e.B;default:return e.l}}(t)},t.uC=function(t){var n=Number(new Date);return!!t&&n<=t},n.eC=function(t){return!(this.$D&&0!==t.HD.length&&!Rb(t.HD))||!!(this.$D&&this.oC(t.HD)&&this.aC(t.HD))},n.oC=function(t){return Ib(this.JD.Rf,t)},n.aC=function(t){if(!this.JD.PD)return!0;if(this.YD)return!0;var n=this.cC();return!!n&&Ib(n,t)},n.cC=function(){if(this.JD.PD){var t=o.ancestorOrigins;return t&&t.length>0?t[t.length-1]:this.JD.BD?this.JD.BD:void 0}},n.tC=function(n,i){return!!t.hC(n,i.VD)},t.hC=function(t,n){return Ib(this.fC(t),n)},t.fC=function(t){return X(t)?t:el(t)&&t.src||""},t}();function Eb(t){switch(t){case Ab.jD:return n.ErrorCode.LICENSE_INVALID_DOMAIN;case Ab.QD:return n.ErrorCode.LICENSE_INVALID_SOURCE;case Ab.MD:return n.ErrorCode.LICENSE_EXPIRED;case Ab.Ol:return n.ErrorCode.LICENSE_ERROR}}function Sb(t,n){var i=t,r=n;if(!i)return!1;if("*"===(r=r.trim()))return!0;if(r===(i=i.replace(/\.+$/,"")))return!0;var e="\\.",u="25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?",s="(\\*|"+u+")",o=new RegExp("ip-range\\("+s+e+s+e+s+e+s+"\\)"),a=r.match(o),c=function(t){return"*"===t?"("+u+")":t};if(null!==a&&5===a.length){var h=new RegExp("^"+a[1]+e+c(a[2])+e+c(a[3])+e+c(a[4])+"$");return null!==i.match(h)}return r="."+r,-1!==i.indexOf(r,i.length-r.length)}function Rb(t){return t.some(function(t){return"*"===t})}function Ib(t,n){var i=r.Ha(t);if(!Nb(i))return!0;for(var e=0;e<n.length;e++){var u=n[e];if(Sb(i.hostname,u))return!0;if(Sb(eo(t),u))return!0}return!1}function Nb(t){return-1!==kb.indexOf(t.protocol)}function Db(t){var n=r.Ha(t.Rf);return Nb(n)&&!Sb(n.hostname,"localhost")&&!function(t){return Sb(t.hostname,"theoplayer.doubleclick.net")}(n)}var Cb,Ob=function(){function t(){}return t.nC=function(t){return t===Ab.jD?this.vC:t===Ab.QD?this.dC:t===Ab.MD?this.lC:this._C},t}();function xb(t){var n=[t.fA,t.gC,t.wC];switch(t.gC){case Cb.yC:n.push(t.Ul);break;case Cb.mC:n.push(t.w_),n.push(t.Bs);break;case Cb.kC:n.push(t.Bs)}return n}Ob._C="The license for this player is invalid.",Ob.lC="The usage license for this video player has expired.",Ob.vC="The current domain is incompatible with the license for this player.",Ob.dC="The provided video source is incompatible with the license for this player.",function(t){t[t.yC=1]="yC",t[t.mC=4]="mC",t[t.kC=5]="kC"}(Cb||(Cb={}));for(var Pb=new Array(256),Bb=0;Bb<256;Bb+=1)Pb[Bb]=(Bb<16?"0":"")+Bb.toString(16);function Lb(){var t=Ft(),n=(4294967296*g.random()|0)+t&3029421624,i=(4294967296*g.random()|0)+t&3595553209,r=(4294967296*g.random()|0)+t&1130486254,e=(4294967296*g.random()|0)+t&1284287105;return Pb[255&n]+Pb[n>>>8&255]+Pb[n>>>16&255]+Pb[n>>>24&255]+"-"+Pb[255&i]+Pb[i>>>8&255]+"-"+Pb[i>>>16&15|64]+Pb[i>>>24&255]+"-"+Pb[63&r|128]+Pb[r>>>8&255]+"-"+Pb[r>>>16&255]+Pb[r>>>24&255]+Pb[255&e]+Pb[e>>>8&255]+Pb[e>>>16&255]+Pb[e>>>24&255]}var Mb=function(){function t(t){this.DD=t}var n=t.prototype;return n.CD=function(t){var n,i,r,e,u,s,o,a=[];if(!t)return"";for(n=0;n<t.length;n+=4)i=(o=this.DD.indexOf(t.charAt(n))<<18|this.DD.indexOf(t.charAt(n+1))<<12|(u=this.DD.indexOf(t.charAt(n+2)))<<6|(s=this.DD.indexOf(t.charAt(n+3))))>>>16&255,r=o>>>8&255,e=255&o,a[n/4]=String.fromCharCode(i,r,e),64===s&&(a[n/4]=String.fromCharCode(i,r)),64===u&&(a[n/4]=String.fromCharCode(i));return a.join("")},n.OD=function(t){var n,i,r,e,u,s,o,a=[],c="";if((s=t.length%3)>0)for(;s++<3;)c+=this.DD.charAt(64),t+="\0";for(s=0;s<t.length;s+=3)i=(n=t.charCodeAt(s)<<16|t.charCodeAt(s+1)<<8|t.charCodeAt(s+2))>>18&63,r=n>>12&63,e=n>>6&63,u=63&n,a[s/3]=this.DD.charAt(i)+this.DD.charAt(r)+this.DD.charAt(e)+this.DD.charAt(u);return(o=a.join("")).slice(0,o.length-c.length)+c},t}();function Ub(){return r.rd()}Mb.am=new Mb(function(){var t,n,i,r,e=[],u=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<u.length;t+=1)for(n=u[t],i=0;i<n.length;i+=1)r=n.charAt(i),-1===e.indexOf(r)&&e.push(r);return e.join("")}()),Mb.xD=new Mb(Mb.am.CD("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop"));var Fb,Hb="theoplayer-session-id";function Vb(){if(!Fb){var t=Ao.Ws(Hb);t?Fb=t:(Fb=Lb(),Ao.ic(Hb,Fb))}return Fb}var Xb=/[^\x00-\x7E]/g;function Wb(t){return"\\u"+$n(t.charCodeAt(0).toString(16),4,"0")}var qb=0,zb=1,Gb=6e4;function jb(t){var n,i,r,e,u,s=(n=function(t){return[t.pC,t.Io,t.FD,t.Sk,t.AC,t.bC,t.TC.map(xb)]}(t),i=[],r=n,e=function(t,n){if(H(n)){if(-1!==i.indexOf(n))return null;i.push(n)}return n},JSON.stringify(r,e,u).replace(Xb,Wb));return Mb.xD.OD(s)}var Qb=function(){function t(t,n,i,r,e,u){var s=this;void 0===r&&(r=Mb.am),void 0===e&&(e=qb),void 0===u&&(u=zb),this.rE=t,this.lb=n,this.EC=i,this.SC=r,this.RC=e,this.IC=u,this.NC=[],this.DC=null,this.OC=0,this.xC="unknown",this.BC=0,this.LC=function(){Ub()-s.OC>Gb&&s.MC()},this.UC=function(){s.MC(!0)},bn.FC(this.UC),f(this.LC,Gb)}var n=t.prototype;return n.HC=function(){return Boolean(this.AC)},n.VC=function(){var t=vn.coroutine(fn.mark(function t(n){var i;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.EC.XC();case 2:if(t.sent.GD){t.next=5;break}return t.abrupt("return");case 5:return i={gC:Cb.yC,wC:Ft(),Ul:n},t.next=8,this.WC(i);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.qC=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={gC:Cb.mC,wC:Ft(),w_:i,Bs:n},t.next=3,this.WC(r);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.zC=function(){var t=vn.coroutine(fn.mark(function t(n){var i;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i={gC:Cb.kC,wC:Ft(),Bs:n},t.next=3,this.WC(i);case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.WC=function(){var t=vn.coroutine(fn.mark(function t(n){var i;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.EC.XC();case 2:if(i=t.sent,"a:n[_O*[C4C-N$_@_MYY $D]iOp]N$_-_]th_:c|aen?C:pH"!==this.SC.OD(i.FD)){t.next=6;break}if(n.gC===Cb.kC){t.next=6;break}return t.abrupt("return");case 6:if(n.gC===Cb.yC?this.GC():this.HC()||this.GC(),n.fA=this.BC++,this.NC.push(n),(r=n.gC)!==Cb.yC&&r!==Cb.kC){t.next=14;break}return t.next=12,this.MC();case 12:t.next=19;break;case 14:if(!(this.NC.length>this.RC)){t.next=19;break}return t.next=17,this.jC();case 17:t.next=19;break;case 19:case"end":return t.stop()}var r},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.MC=function(){var t=vn.coroutine(fn.mark(function t(n){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:void 0===n&&(n=!1);case 1:if(!(this.NC.length>0)){t.next=6;break}return t.next=4,this.jC(n);case 4:t.next=1;break;case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.QC=function(){var t=vn.coroutine(fn.mark(function t(n){var i;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.EC.XC();case 2:return i=t.sent,t.abrupt("return",{pC:Ft(),Io:Vb(),FD:this.SC.OD(i.FD)||"dev",Sk:this.rE,AC:this.DC,bC:this.xC,TC:n});case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.jC=function(){var t=vn.coroutine(fn.mark(function t(n){var i,r;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===n&&(n=!1),i=this.NC.splice(0,this.IC),t.next=4,this.QC(i);case 4:r=t.sent,n?this.Zf(r):this.YC(r),this.OC=Ub();case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.YC=function(){var t=vn.coroutine(fn.mark(function t(n){var i,r,e;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=jb(n),r=new ff({Rf:"https://license.theoplayer.com",cf:i,Qf:!1,Af:Ro.pn,pf:{"Content-Type":jm.hE},zf:4e3,qf:sf.POST}),t.prev=2,t.next=5,this.lb.Ef(r);case 5:return e=t.sent,t.next=8,e.uf();case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),(new Image).src="https://licensing.theoplayer.com/t?"+i;case 13:case"end":return t.stop()}},t,this,[[2,10]])}));return function(n){return t.apply(this,arguments)}}(),n.Zf=function(t){var n=jb(t);this.lb.Zf({Rf:"https://license.theoplayer.com",cf:n,af:jm.hE})},n.GC=function(){this.HC()&&this.MC(),this.DC=Lb(),this.BC=0},n.Jf=function(){bn.ZC(this.UC),this.MC()},T(t,[{key:"TC",get:function(){return this.NC}},{key:"AC",get:function(){return this.DC}}]),t}();var Yb=!P.Xt&&!P.$t;function Zb(t,n,i){var r=t.getImageData(n,i,1,1).data;return 0===r[0]&&0===r[1]&&0===r[2]&&0===r[3]}var Jb=function(){function t(t){this.Od=void 0,this.JC=void 0,this.XR=t}var n=t.prototype;return n.$C=function(t){if(!t||!t.drawImage)return!1;var n=this.XR.ag();if(!n)return!1;for(var i=arguments.length,r=new Array(i>1?i-1:0),e=1;e<i;e++)r[e-1]=arguments[e];return t.drawImage.apply(t,[n].concat(r)),!0},n.KC=function(t,n,i,r,e,u){if(!t||!t.texImage2D)return!1;var o=this.XR,a=o.ag();if(!a)return!1;if(!Yb){this.JC||(this.JC=s.createElement("canvas"));var c=this.JC,h=c.getContext("2d"),f=o.S_,v=o.E_,l=c.width,_=c.height;h.clearRect(0,0,c.width,c.height),l===f&&_===v||(c.width=f,c.height=v),h.drawImage(a,0,0,f,v);var g=!1;f>0&&Zb(h,f-1,0)&&(c.width=l,g=!0),v>0&&Zb(h,0,v-1)&&(c.height=_,g=!0),g&&h.drawImage(a,0,0,f,v),a=c}try{t.texImage2D(n,i,r,e,u,a)}catch(t){throw new d("Error trying to render video content to the WebGLRenderingContext. This is most likely due to CORS restrictions. https://support.theoplayer.com/hc/en-us/articles/115003094385#Considerations")}return!0},T(t,[{key:"xd",get:function(){return this.Od||(this.Od=(t=this,{drawImage:function(n){for(var i=arguments.length,r=new Array(i>1?i-1:0),e=1;e<i;e++)r[e-1]=arguments[e];return t.$C.apply(t,[n].concat(r))},texImage2D:function(n,i,r,e,u,s){return t.KC(n,i,r,e,u,s)}}));var t}}]),t}(),$b=function(t){function n(n,i){var r;return(r=t.call(this,"tO")||this).Ka=n,r.rp=i,r}return qt(n,t),n.prototype.Pd=function(){return new Kb(this.Ka,this.rp)},n}($v),Kb=function(t){function n(n,i){var r;return(r=t.call(this,"dimensionchange")||this).width=n,r.height=i,r}return qt(n,t),n}(Vi),tT=function(t,n){this.yg=t,this.nO=n},nT=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).iO=0,r.rO=0,r.eO=function(t){if(t.length>0){var n=t[t.length-1].contentRect;r.rO=n.width,r.iO=n.height,r.nO(r.rO,r.iO)}},r.uO=new Tn.ResizeObserver(r.eO),r.uO.observe(r.yg),r}return qt(n,t),n.prototype.Jf=function(){this.uO.disconnect()},T(n,[{key:"sO",get:function(){return this.iO}},{key:"oO",get:function(){return this.rO}}]),n}(tT),iT=0;function rT(t){var n=Ub(),i=g.max(0,16-(n-iT)),r=c(function(){return t(n+i)},i);return iT=n+i,r}var eT,uT=h,sT=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,oT=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelRequestAnimationFrame;function aT(){return eT||(eT=Tn&&Tn.document&&Tn.document.createElement("span")),eT}sT&&oT||(sT=rT,oT=uT),sT=sT.bind(t),oT=oT.bind(t);var cT=["Webkit","Moz","O","ms"],hT=(function(){var t=!1;try{if(void 0!==Tn&&"function"==typeof Tn.addEventListener){var n=_.defineProperty({},"passive",{get:function(){t=!0}});Tn.addEventListener("testPassiveEventSupport",j,n),Tn.removeEventListener("testPassiveEventSupport",j,n)}}catch(t){}}(),_n());function fT(t){return hT.has(t)||hT.set(t,function(t){var n=aT();if(!n||!n.style)return t;if(void 0!==n.style[t])return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<cT.length;r++){var e=cT[r],u=e+i;if(void 0!==n.style[u])return u}return t}(t)),hT.get(t)}function vT(t){var n=t.style;n.position="absolute",n.left=n.right=n.bottom=n.top="0",n.overflow="scroll",n.zIndex="-1",n.visibility="hidden"}function dT(t){var n=t.style;n.position="absolute",n.left=n.top="0",n[fT("transition")]="0s"}var lT=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).aO=void 0,e.cO=0,e.rO=NaN,e.iO=NaN,e.hO=void 0,e.hl=function(){e.fO.style.width=1e5+"px",e.fO.style.height=1e5+"px",e.vO.scrollLeft=1e5,e.vO.scrollTop=1e5,e.dO.scrollLeft=1e5,e.dO.scrollTop=1e5,0===e.dO.scrollTop&&sT(e.hl)},e.lO=function(){var t=e.oO,n=e.sO;e.nO(t,n),e.rO=t,e.iO=n,e.hl(),e.cO=0},e._O=function(){if(!e.cO){var t=e.oO,n=e.sO;t===e.rO&&n===e.iO||(e.cO=sT(e.lO))}},e.gO=function(){e.hO||(e.hO=c(e.wO,66))},e.wO=function(){e.hO=void 0,e.yO()},e.yO=function(){e._O()},e.Oo(r),e}qt(n,t);var i=n.prototype;return i.mO=function(){var t,n=this.yg,i=s.createElement("div");return this.vO=s.createElement("div"),this.fO=s.createElement("div"),this.dO=s.createElement("div"),this.kO=s.createElement("div"),vT(this.vO),vT(this.dO),dT(this.fO),dT(t=this.kO),t.style.width="200%",t.style.height="200%",i.appendChild(this.vO),i.appendChild(this.dO),this.vO.appendChild(this.fO),this.dO.appendChild(this.kO),n&&n.appendChild(i),this._O(),this.vO.addEventListener("scroll",this._O),this.dO.addEventListener("scroll",this._O),i},i.Oo=function(t){var n=this.yg,i=function(t,n){return u.getComputedStyle(t,void 0).getPropertyValue(n)||t.style[n]}(n,"position");t||"static"!==i||(n.style.position="relative"),this.aO=this.mO(),u&&u.addEventListener("resize",this.gO)},i.Jf=function(){this.aO&&(oT(this.cO),this.cO=0,this.vO.removeEventListener("scroll",this._O),this.dO.removeEventListener("scroll",this._O),Ve(this.aO),this.aO=void 0,u&&u.removeEventListener("resize",this.gO))},T(n,[{key:"sO",get:function(){return this.yg&&this.yg.getBoundingClientRect().height||this.iO||0}},{key:"oO",get:function(){return this.yg&&this.yg.getBoundingClientRect().width||this.rO||0}}]),n}(tT),_T=function(t){function n(n){var i;return(i=t.call(this)||this).uO=void 0,i.eO=function(t,n){i.ys(new $b(t,n))},i.yg=n,i}qt(n,t);var i=n.prototype;return i.Oo=function(t){this.uO||("function"==typeof Tn.ResizeObserver?this.uO=new nT(this.yg,this.eO):this.uO=new lT(this.yg,this.eO,t))},i.Jf=function(){this.Ts(),this.uO&&(this.uO.Jf(),this.uO=void 0)},T(n,[{key:"sO",get:function(){return this.uO?this.uO.sO:0}},{key:"oO",get:function(){return this.uO?this.uO.oO:0}}]),n}(Fi),gT=function(t){function n(){return t.call(this,jp.Gd)||this}return qt(n,t),n}(Vi);var wT=function(){if(s)for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0;n<t.length;n++){var i=t[n];if(i[1]in s)return{pO:i[0],AO:i[1],bO:i[2],TO:i[3],EO:i[4],SO:i[5]}}}(),yT=function(t){function n(){return t.call(this,jp.qI)||this}return qt(n,t),n}(Vi),mT=function(t){function n(i){var r;return(r=t.call(this)||this).zI=!1,r.RO=function(){return r.yN()},r.IO=function(){return r.kN()},r.yg=i,r.GI=n.NO(i),s.addEventListener(wT.EO,r.RO),r.yN(),r}qt(n,t),n.NO=function(t){return Boolean(wT&&s[wT.TO]&&wT.pO in t)};var i=n.prototype;return i.Gg=function(){var t=this.yg[wT.pO]();t&&t.then?t.then(this.RO,this.IO):(s.removeEventListener(wT.SO,this.IO),s.addEventListener(wT.SO,this.IO))},i.Qg=function(){var t=s[wT.AO]();t&&t.then?t.then(this.RO,this.IO):(s.removeEventListener(wT.SO,this.IO),s.addEventListener(wT.SO,this.IO))},i.yN=function(){var t=this.zI,n=this.yg===s[wT.bO];this.zI=n,t!==n&&this.ys(new gT)},i.kN=function(){this.ys(new Jp)},i.Jf=function(){this.Ts(),s.removeEventListener(wT.EO,this.RO),s.removeEventListener(wT.SO,this.IO)},n}(Fi),kT=function(t){function n(i){var r;return(r=t.call(this)||this).zI=!1,r.RO=function(){return r.yN()},r.yg=i,r.GI=n.NO(i),r.yg.addEventListener("webkitbeginfullscreen",r.RO),r.yg.addEventListener("webkitendfullscreen",r.RO),r.yg.addEventListener("webkitpresentationmodechanged",r.RO),r.yN(),r}qt(n,t),n.NO=function(t){return P.Xt&&("webkitEnterFullscreen"in t||"webkitSupportsPresentationMode"in t)};var i=n.prototype;return i.Gg=function(){var t=this;this.yg.webkitSupportsPresentationMode&&this.yg.webkitSupportsPresentationMode("fullscreen")?P.Xt?requestAnimationFrame(function(){return t.yg.webkitSetPresentationMode("fullscreen")}):this.yg.webkitSetPresentationMode("fullscreen"):this.yg.webkitEnterFullscreen()},i.Qg=function(){this.yg.webkitSupportsPresentationMode&&this.yg.webkitSupportsPresentationMode("inline")?this.yg.webkitSetPresentationMode("inline"):this.yg.webkitExitFullscreen()},i.yN=function(){var t,n=this.zI;t=this.yg.webkitPresentationMode?"fullscreen"===this.yg.webkitPresentationMode:!!this.yg.webkitDisplayingFullscreen,this.zI=t,n!==t&&this.ys(new gT)},i.Jf=function(){this.Ts(),this.yg.removeEventListener("webkitbeginfullscreen",this.RO),this.yg.removeEventListener("webkitendfullscreen",this.RO),this.yg.removeEventListener("webkitpresentationmodechanged",this.RO)},n}(Fi),pT=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).DO=[],n.CO=void 0,n.wN=!1,n.yN=function(){var t=n.wN,i=n.OO();t!==i&&(n.wN=i,n.ys(new gT))},n}qt(n,t);var i=n.prototype;return i.Gg=function(){this.CO?this.CO.Gg():this.ys(new Jp)},i.Qg=function(){for(var t=0,n=this.DO;t<n.length;t++){var i=n[t];i.zI&&i.Qg()}},i.xO=function(t){this.CO=t},i.PO=function(t){this.DO.push(t),t.ps(jp.Gd,this.yN),t.ps(jp.Ol,this.gs),this.yN()},i.BO=function(t){vi(this.DO,t),t.Es(jp.Gd,this.yN),t.Es(jp.Ol,this.gs)},i.OO=function(){for(var t=0,n=this.DO;t<n.length;t++){if(n[t].zI)return!0}return!1},i.hl=function(){this.CO=void 0,this.wN=!1;for(var t=this.DO.slice(),n=0;n<t.length;n++){var i=t[n];this.BO(i),i.Jf()}this.yN()},i.Jf=function(){this.Ts(),this.hl()},T(n,[{key:"GI",get:function(){return!!this.CO&&this.CO.GI}},{key:"zI",get:function(){return this.wN}}]),n}(Fi),AT=function(t){function n(n,i){var r;return(r=t.call(this)||this).LO=!1,r.MO=function(){return r.bo()},r.yN=function(t){r.LO||r.ys(t)},r.XR=n,r.UO=i,r.FO=$p,r.HO(),r.XR.ps(So._c,r.MO),r.bo(),r}qt(n,t);var i=n.prototype;return i.Gg=function(){this.UO&&this.FO.Gg()},i.Qg=function(){this.FO.Qg()},i.HO=function(){this.FO.ps(jp.Gd,this.yN),this.FO.ps(jp.Ol,this.gs)},i.VO=function(){this.FO.Es(jp.Gd,this.yN),this.FO.Es(jp.Ol,this.gs)},i.bo=function(){var t=this.FO,n=this.XR.cg();if(t!==n){this.LO=!0;var i=this.zI,r=this.GI;i&&this.Qg(),this.VO(),this.FO=n,this.HO(),i&&!this.zI&&this.GI?this.Gg():this.Qg(),this.LO=!1,r!==this.GI&&this.ys(new yT),i!==this.zI&&this.ys(new gT)}},i.Jf=function(){this.Ts(),this.VO(),this.XR.Es(So._c,this.MO)},T(n,[{key:"GI",get:function(){return!!this.UO&&this.FO.GI}},{key:"zI",get:function(){return this.FO.zI}}]),n}(Fi);function bT(t){var n;return{get url(){return t.Rf},get method(){return t.qf},get headers(){return n||(n=t.pf.qc()),n},get body(){return t.cf},get useCredentials(){return t.Qf},get type(){return IT(t.xu)},get subType(){return DT(t.Gf)},get mediaType(){return OT(t.jf)},get responseType(){return ET(t.Af)}}}function TT(t){switch(t.toLowerCase()){case"arraybuffer":return Ro.Vc;case"json":return Ro.Xc;case"stream":return Ro.Wc;case"text":default:return Ro.pn}}function ET(t){return t}function ST(t){switch(t.toUpperCase()){case"POST":return sf.POST;case"PUT":return sf.PUT;case"DELETE":return sf.DELETE;case"HEAD":return sf.HEAD;case"OPTIONS":return sf.OPTIONS;case"GET":default:return sf.GET}}function RT(t){switch(t.toLowerCase()){case"manifest":return of.Df;case"segment":return of.Cf;case"content-protection":return of.Of;default:return of.Nf}}function IT(t){return t}function NT(t){switch(t.toLowerCase()){case"initialization-segment":return af.xf;case"fairplay-license":return af.Pf;case"fairplay-certificate":return af.Bf;case"widevine-license":return af.Lf;case"widevine-certificate":return af.Mf;case"playready-license":return af.Uf;case"clearkey-license":return af.Ff;case"aes128-key":return af.Hf;default:return af.Nf}}function DT(t){return t}function CT(t){switch(t.toLowerCase()){case"audio":return cf.Vf;case"video":return cf.Xf;case"text":return cf.pn;case"image":return cf.Wf;case"":default:return cf.Nf}}function OT(t){return t}var xT=function(){function t(t,n){this.XO=t,this.WO=n,this.qO=new se,this.zO=[],this.Od=void 0,this.GO=!1,this.fv=void 0,this.jO=0}var n=t.prototype;return n._k=function(){this.GO=!0,this.qO.eo(null)},n.QO=function(){this.qO.uo(this.zO)},n.YO=function(t){if(!this.ZO)throw new l("Cannot respond more than once");if(!H(t))throw new l("Expected valid response");this.fv=this.JO(t),this._k()},n.$O=function(){try{var t=this.WO(this.xd);t?this.KO(t):this.tx||this.nx||this._k()}catch(t){this.QO()}},n.KO=function(t){if(this.nx)throw new d("Request has been redirected or a response already exists");if(q(t))this.ix(t);else{if("function"!=typeof t)throw new l("Expected promise or function");var n=new se;try{var i=t(function(t){t?n.uo(t):n.eo(void 0)});q(i)&&n.eo(i)}catch(t){n.uo(t)}this.ix(n.ro)}},n.ix=function(){var t=vn.coroutine(fn.mark(function t(n){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.jO++,t.next=4,n;case 4:this.jO--,this.tx||this.nx||(this.zO.length?this.QO():this._k()),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(0),this.jO--,this.zO.push(t.t0),this.tx||this.nx||this.QO();case 13:case"end":return t.stop()}},t,this,[[0,8]])}));return function(n){return t.apply(this,arguments)}}(),T(t,[{key:"ex",get:function(){return this.qO.ro}},{key:"xd",get:function(){return this.Od||(this.Od=this.ux()),this.Od}},{key:"nx",get:function(){return this.GO}},{key:"ZO",get:function(){return!this.GO}},{key:"tx",get:function(){return this.jO>0}},{key:"vv",get:function(){return this.fv}}]),t}(),PT=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).sx=r,e.$O(),e}qt(n,t),n.ox=function(t,n,i){var r=void 0===t.body?i:t.body;return new hf({Jn:r,Ef:n.Ef,Af:n.Ef.Af,pf:t.headers,kf:t.status,bf:t.statusText,Sf:t.url,Tf:!0},n)};var i=n.prototype;return i.ux=function(){return i=bT((t=this).Ef),{get closed(){return!t.ZO},get request(){return i},get url(){return t.Rf},get status(){return t.kf},get statusText(){return t.bf},get headers(){return n||(n=t.pf.qc()),n},get body(){return t.cf},respondWith:function(n){return t.YO(n)},waitUntil:function(n){return t.KO(n)}};var t,n,i},i.JO=function(t){return n.ox(t,this.XO,this.sx)},T(n,[{key:"cf",get:function(){return this.sx}},{key:"pf",get:function(){return this.XO.pf}},{key:"Ef",get:function(){return this.XO.Ef}},{key:"vv",get:function(){return this.fv}},{key:"kf",get:function(){return this.XO.kf}},{key:"bf",get:function(){return this.XO.bf}},{key:"Rf",get:function(){return this.XO.Sf}}]),n}(xT),BT=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).ax=void 0,e.hx=r,e.$O(),e}qt(n,t);var i=n.prototype;return i.ux=function(){return t=this,{get url(){return t.Rf},get method(){return t.qf},get headers(){return n||(n=t.pf.qc()),n},get body(){return t.cf},get closed(){return!t.ZO},get useCredentials(){return t.Qf},get type(){return IT(t.xu)},get subType(){return DT(t.Gf)},get mediaType(){return OT(t.jf)},get responseType(){return ET(t.Af)},redirect:function(n){return t.vx(n)},respondWith:function(n){return t.YO(n)},waitUntil:function(n){return t.KO(n)}};var t,n},i.JO=function(t){var n=this.XO.cf,i=new hf({Jn:n,pf:{},Ef:this.XO,Sf:this.XO.Rf,Af:this.XO.Af,kf:200,bf:"OK"});return PT.ox(t,i,n)},i.vx=function(t){if(!this.ZO)throw new l("Cannot redirect, already redirected or has a response");var n;n=X(t)?{url:t}:t,this.ax=function(t,n){return new ff({Rf:void 0===t.url?n.Rf:t.url,qf:void 0!==t.method?ST(t.method):void 0,pf:t.headers,cf:t.body,Qf:t.useCredentials,xu:void 0!==t.type?RT(t.type):void 0,Gf:void 0!==t.subType?NT(t.subType):void 0,jf:void 0!==t.mediaType?CT(t.mediaType):void 0,Af:void 0!==t.responseType?TT(t.responseType):void 0},n)}(n,this.XO),this._k()},T(n,[{key:"cf",get:function(){return this.XO.cf}},{key:"ZO",get:function(){return this.hx&&!this.GO}},{key:"pf",get:function(){return this.XO.pf}},{key:"qf",get:function(){return this.XO.qf}},{key:"lx",get:function(){return this.ax}},{key:"vv",get:function(){return this.fv}},{key:"Af",get:function(){return this.XO.Af}},{key:"zf",get:function(){return this.XO.zf}},{key:"ds",get:function(){return this.XO.ds}},{key:"xu",get:function(){return this.XO.xu}},{key:"Gf",get:function(){return this.XO.Gf}},{key:"jf",get:function(){return this.XO.jf}},{key:"Rf",get:function(){return this.XO.Rf}},{key:"Qf",get:function(){return this.XO.Qf}},{key:"Yf",get:function(){return this.XO.Yf}}]),n}(xT);var LT,MT=function(t){function n(n,i){var r;void 0===i&&(i=!0);var e=new UT(n);return(r=t.call(this,e,i)||this)._x=e,r}qt(n,t);var i=n.prototype;return i.gx=function(t){this._x.gx(t)},i.wx=function(t){this._x.wx(t)},i.yx=function(t){this._x.yx(t)},i.mx=function(t){this._x.mx(t)},i.kx=function(t){this._x.kx(t)},n}(lf),UT=function(){function t(t){this.Ax=[],this.bx=[],this.$f=t}var n=t.prototype;return n.Ef=function(){var t=vn.coroutine(fn.mark(function t(n){var i;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.Tx(n,n.ds);case 3:i=t.sent,t.next=13;break;case 6:if(t.prev=6,t.t0=t.catch(0),!(t.t0 instanceof _f)){t.next=12;break}return t.next=11,this.Ex(t.t0,n.ds);case 11:return t.abrupt("return",t.sent);case 12:throw t.t0;case 13:return t.next=15,this.Sx(i,n.ds);case 15:if(!uf(i=t.sent)){t.next=20;break}return t.abrupt("return",i);case 20:throw new wf(i);case 21:case"end":return t.stop()}},t,this,[[0,6]])}));return function(n){return t.apply(this,arguments)}}(),n.Zf=function(t){return this.$f.Zf(t)},n.Tx=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r,e,u,s,o,a;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:bi(i),r=n,u=0,s=this.Ax.slice();case 3:if(!(u<s.length)){t.next=21;break}if(o=s[u],bi(i),(a=new BT(r,o,!e)).nx){t.next=17;break}return t.prev=8,t.next=11,a.ex;case 11:t.next=17;break;case 13:return t.prev=13,t.t0=t.catch(8),t.abrupt("continue",18);case 17:a.lx&&!e?r=a.lx:a.vv&&!e&&(e=a.vv);case 18:u++,t.next=3;break;case 21:if(!e){t.next=23;break}return t.abrupt("return",e);case 23:return t.abrupt("return",this.$f.Ef(r));case 24:case"end":return t.stop()}},t,this,[[8,13]])}));return function(n,i){return t.apply(this,arguments)}}(),n.Ex=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r,e;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n instanceof wf?n.vv:new hf({Jn:null,Ef:n.Ef,kf:0,bf:""}),t.next=3,this.Sx(r,i);case 3:if((e=t.sent)!==r){t.next=8;break}throw n;case 8:if(!uf(e)){t.next=12;break}return t.abrupt("return",e);case 12:throw new wf(e);case 13:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.Sx=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r,e,u,s,o,a;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=n,e=0,u=this.bx.slice();case 2:if(!(e<u.length)){t.next=23;break}return s=u[e],bi(i),t.next=7,vn.resolve(r.Js().Jn(i));case 7:if(o=t.sent,(a=new PT(r,s,o)).nx){t.next=19;break}return t.prev=10,t.next=13,a.ex;case 13:t.next=19;break;case 15:return t.prev=15,t.t0=t.catch(10),t.abrupt("continue",20);case 19:r=a.vv||r;case 20:e++,t.next=2;break;case 23:return t.abrupt("return",r);case 24:case"end":return t.stop()}},t,this,[[10,15]])}));return function(n,i){return t.apply(this,arguments)}}(),n.gx=function(t){this.Ax.unshift(t)},n.wx=function(t){this.Ax.push(t)},n.yx=function(t){vi(this.Ax,t)},n.mx=function(t){this.bx.unshift(t)},n.kx=function(t){vi(this.bx,t)},n.Jf=function(){this.$f.Jf(),gi(this.Ax),gi(this.bx)},t}(),FT=function(){function t(t){this.lb=t}var n=t.prototype;return n.gx=function(t){this.lb.gx(t)},n.yx=function(t){this.lb.yx(t)},n.mx=function(t){this.lb.mx(t)},n.kx=function(t){this.lb.kx(t)},T(t,[{key:"xd",get:function(){var t;return this.Od||(this.Od=(t=this,{addRequestInterceptor:function(n){t.gx(n)},removeRequestInterceptor:function(n){t.yx(n)},addResponseInterceptor:function(n){t.mx(n)},removeResponseInterceptor:function(n){t.kx(n)}})),this.Od}}]),t}(),HT=function(t){function n(n,i,r){var e;return(e=t.call(this,i)||this).Rx=n,e.lb=i,e.tN=r,e.Rx.ps(So.pc,e.gs),e.Rx.ps(So.kc,e.gs),e}qt(n,t);var i=n.prototype;return i.Ix=function(t){this.tN.Ix(t)},i.gx=function(t){this.lb.gx(t)},i.yx=function(t){this.lb.yx(t)},i.mx=function(t){this.lb.mx(t)},i.kx=function(t){this.lb.kx(t)},i.Jf=function(){this.Ts(),this.Rx.Es(So.pc,this.gs),this.Rx.Es(So.kc,this.gs)},T(n,[{key:"xd",get:function(){var t;return this.Od||(this.Od=(t=this,{get online(){return t.Sg},get estimator(){return n=t.Nx,{get bandwidth(){return n.OS},get roundTripTime(){return n.xS}};var n},setEstimator:function(n){t.Ix(function(t){if(t)return{get OS(){return md(t.bandwidth)},get xS(){return md(t.roundTripTime)},CS:function(n){return function(t){if(t)return{Dx:function(n){t.markRequestStart(n)},Cx:function(n){t.markResponseStart(n)},Ox:function(n,i){t.markResponseData(n,i)},xx:function(n){t.markResponseEnd(n)}}}(t.createMeasurer(bT(n)))}}}(n))},addRequestInterceptor:function(n){t.gx(n)},removeRequestInterceptor:function(n){t.yx(n)},addResponseInterceptor:function(n){t.mx(n)},removeResponseInterceptor:function(n){t.kx(n)},addEventListener:function(n,i){t.ps(n,i)},removeEventListener:function(n,i){t.Es(n,i)}})),this.Od}},{key:"Sg",get:function(){return this.Rx.Sg}},{key:"Nx",get:function(){return this.tN.Nx}}]),n}(Ud);!function(t){t.PERFORMANCE="performance",t.QUALITY="quality",t.BANDWIDTH="bandwidth"}(LT||(LT={}));var VT=30,XT=1,WT=5;function qT(t,n,i,r,e,u){var s=[],o=t-g.max(u,XT),a=t+e;if(n&&i){var c=xt(i,XT,WT),h=n-c;o=g.min(o,h);var f=n+i+c;a=g.max(a,f)}return 0!==o&&r.DI(0,o)&&s.push([0,o]),r.DI(a,1/0)&&s.push([a,1/0]),s}var zT={type:LT.BANDWIDTH},GT=20,jT=60;function QT(t){var n,i,r,e=dd(zT);return X(t)?e.type=YT(t):H(t)&&function(t){switch(t){case LT.PERFORMANCE:case LT.QUALITY:case LT.BANDWIDTH:return!0;default:return!1}}(t.type)&&(e.type=YT(t.type)),H(t)&&H(t.metadata)&&(e.metadata=(n=t.metadata,i={},r=yd(n.bitrate),m(r)||(i.bitrate=r),i)),e}function YT(t){switch(t){case"bandwidth":return LT.BANDWIDTH;case"performance":return LT.PERFORMANCE;case"quality":return LT.QUALITY}}var ZT=function(t){function n(n){var i;return(i=t.call(this,"Bx")||this).Px=n,i}return qt(n,t),n}(Vi),JT=function(t){function n(n){var i;return(i=t.call(this,"Mx")||this).Lx=n,i}return qt(n,t),n}(Vi),$T=function(t){function n(n){var i;return(i=t.call(this,"Fx")||this).Ux=n,i}return qt(n,t),n}(Vi),KT=function(t){function n(){var n,i;return(n=t.apply(this,arguments)||this).Od=(i=jt(n),{get strategy(){return{metadata:(t=i.Lx).metadata,type:(n=t.type,n)};var t,n},set strategy(t){i.Lx=QT(t)},get targetBuffer(){return i.Px},set targetBuffer(t){var n=yd(t);m(n)||(i.Px=n>jT?jT:n)},get bufferLookbackWindow(){return i.Ux},set bufferLookbackWindow(t){var n=yd(t);m(n)||(i.Ux=n<=0?VT:n)}}),n.Hx=zT,n.Vx=GT,n.Xx=VT,n.Wx=void 0,n}qt(n,t);var i=n.prototype;return i.qb=function(t){this.qx=t},i.Ix=function(t){this.Wx=t},T(n,[{key:"zx",get:function(){switch(this.Hx.type){case LT.PERFORMANCE:return 0;case LT.QUALITY:return 1/0;case LT.BANDWIDTH:return this.Hx.metadata&&void 0!==this.Hx.metadata.bitrate?this.Hx.metadata.bitrate:8*Xd.Zl();default:return 8*Xd.Zl()}}},{key:"xd",get:function(){return this.Od}},{key:"Lx",get:function(){return this.Hx},set:function(t){this.Hx=t,this.ys(new JT(t))}},{key:"Px",get:function(){return this.Vx},set:function(t){this.Vx=t,this.ys(new ZT(t))}},{key:"Ux",get:function(){return this.Xx},set:function(t){this.Xx=t,this.ys(new $T(t))}},{key:"Nx",get:function(){var t;return null!==(t=this.Wx)&&void 0!==t?t:this.qx.ER}}]),n}(Fi),tE=function(t){function n(){return t.call(this,"jd")||this}return qt(n,t),n.prototype.Pd=function(){return new nE},n}($v),nE=function(t){function n(){return t.call(this,"change")||this}return qt(n,t),n}(Vi),iE=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).Gx=function(t){var n;n=t,Boolean(n&&n.xd)&&Di(function(){r.ys(t.xd)})},r.jx=n,r.jx.bs(r.Gx),r}return qt(n,t),n.prototype.Jf=function(){this.Ts(),this.jx.Is(this.Gx)},n}(Ud),rE=function(t){function n(){return t.apply(this,arguments)||this}return qt(n,t),n}(iE);var eE=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).fw=0,n.vw=1/0,n}qt(n,t);var i=n.prototype;return i.hl=function(){0===this.fw&&this.vw===1/0||(this.fw=0,this.vw=1/0,this.ys(new tE))},i.Qx=function(){return new Yp([this.Zg,this.Jg],[!0,!0])},T(n,[{key:"Zg",get:function(){return this.fw},set:function(t){if(this.Jg<=t)throw new d("Start time of a clip should be smaller than the end time.");this.fw!==t&&(this.fw=t,this.ys(new tE))}},{key:"Jg",get:function(){return this.vw},set:function(t){if(t<=this.Zg)throw new d("End time of a clip should be larger than the start time.");this.vw!==t&&(this.vw=t,this.ys(new tE))}},{key:"xd",get:function(){var t,n,i;return this.Od||(this.Od=(i={get startTime(){return t.Zg},set startTime(n){t.Zg=n},get endTime(){return t.Jg},set endTime(n){t.Jg=n},addEventListener:function(t,i){n.ps(t,i)},removeEventListener:function(t,i){n.Es(t,i)}},n=new iE(t=this,i),i)),this.Od}}]),n}(Ud),uE=function(t){function n(n){var i;return(i=t.call(this)||this).Yx=n,i.Zx=function(t){i.Jx(t)||i.ys(t)},i.Yx.bs(i.Zx),i}qt(n,t);var i=n.prototype;return i.$x=function(){return this.Yx.q_},i.hg=function(){return this.Yx.hg()},i.Kx=function(){return this.Yx.gg},i.tP=function(){return this.Yx.lg},i.nP=function(){return this.Yx.wg},i.iP=function(t){this.Yx.wg=t},i.rP=function(){return this.Yx.w_},i.eP=function(t){this.Yx.w_=t},i.uP=function(){return this.Yx.y_},i.sP=function(){return this.Yx.yg},i.oP=function(){return this.Yx.m_},i.aP=function(){return this.Yx.Bs},i.cP=function(){return this.Yx.k_},i.hP=function(){return this.Yx.mg},i.fP=function(){return this.Yx.p_},i.vP=function(t){this.Yx.p_=t},i.dP=function(){return this.Yx.Sg},i.lP=function(){return this.Yx.A_},i._P=function(){return this.Yx.b_},i.gP=function(t){this.Yx.b_=t},i.wP=function(){return this.Yx.Rg},i.yP=function(){return this.Yx.Ig},i.mP=function(t){this.Yx.Ig=t},i.kP=function(){return this.Yx.Bl},i.pP=function(){return this.Yx.Ng},i.AP=function(){return this.Yx.T_},i.J_=function(){return this.Yx.J_()},i.K_=function(){var t=vn.coroutine(fn.mark(function t(n,i){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return bi(i),t.next=3,this.Yx.K_(n,i);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.bP=function(){return this.Yx.G_},i.TP=function(){return this.Yx.E_},i.EP=function(){return this.Yx.z_},i.SP=function(){return this.Yx.S_},i.RP=function(){return this.Yx.R_},i.IP=function(t){this.Yx.R_=t},i.cg=function(){return this.Yx.cg()},i.ag=function(){return this.Yx.ag()},i.eg=function(t){this.Yx.eg(t)},i.ug=function(){this.Yx.ug()},i.og=function(){this.Yx.og()},i.rg=function(){this.Yx.rg()},i.Y_=function(){this.Yx.Y_()},i.Q_=function(){this.Yx.Q_()},i.sg=function(){this.Yx.sg()},i.Z_=function(){return this.Yx.Z_()},i.tg=function(){return this.Yx.tg()},i.ng=function(){this.Yx.ng()},i.ig=function(){this.Yx.ig()},i.hl=function(){return this.Yx.hl()},i.Jf=function(){return this.Yx.Jf()},i._g=function(){this.Yx._g()},i.fg=function(t){return this.Yx.fg(t)},i.Jx=function(t){return!1},T(n,[{key:"q_",get:function(){return this.$x()}},{key:"gg",get:function(){return this.Kx()}},{key:"wg",get:function(){return this.nP()},set:function(t){this.iP(t)}},{key:"lg",get:function(){return this.tP()}},{key:"w_",get:function(){return this.rP()},set:function(t){this.eP(t)}},{key:"y_",get:function(){return this.uP()}},{key:"yg",get:function(){return this.sP()}},{key:"m_",get:function(){return this.oP()}},{key:"Bs",get:function(){return this.aP()}},{key:"k_",get:function(){return this.cP()}},{key:"j_",get:function(){return this.Yx.j_}},{key:"mg",get:function(){return this.hP()}},{key:"B_",get:function(){return this.Yx.B_}},{key:"p_",get:function(){return this.fP()},set:function(t){this.vP(t)}},{key:"Sg",get:function(){return this.dP()}},{key:"A_",get:function(){return this.lP()}},{key:"b_",get:function(){return this._P()},set:function(t){this.gP(t)}},{key:"Rg",get:function(){return this.wP()}},{key:"Ig",get:function(){return this.yP()},set:function(t){this.mP(t)}},{key:"Bl",get:function(){return this.kP()}},{key:"Ng",get:function(){return this.pP()}},{key:"T_",get:function(){return this.AP()}},{key:"G_",get:function(){return this.bP()}},{key:"E_",get:function(){return this.TP()}},{key:"z_",get:function(){return this.EP()}},{key:"S_",get:function(){return this.SP()}},{key:"R_",get:function(){return this.RP()},set:function(t){this.IP(t)}}]),n}(Fd),sE=function(t){function n(i,r){var e;return(e=t.call(this,i)||this).NP=!1,e.DP=void 0,e.CP=!1,e.OP=function(){e.xP(),e.PP()},e.FS=function(){e.BP(),e.PP(),e.LP&&e.w_>=e.MP.Jg-n.UP&&!e.m_&&(e.DP=sT(e.FS))},e.FP=function(){e.CP=!0},e.HP=function(){e.CP&&(e.CP=!1,e.PP())},e.MP=r,e.MP.ps("jd",e.OP),e.Yx.ps("timeupdate",e.FS),e}qt(n,t);var i=n.prototype;return i.eP=function(n){var i=this.MP.Qx()._I(n);t.prototype.eP.call(this,i),this.PP()},i.oP=function(){return t.prototype.oP.call(this)||this.NP},i.pP=function(){return Yp.HI(t.prototype.pP.call(this)).yI(this.MP.Qx()).pR()},i.Q_=function(){this.oP()?this.eP(this.VP.start(0)):this.xP(),t.prototype.Q_.call(this),this.PP()},i.K_=function(){var n=vn.coroutine(fn.mark(function n(i,r){return fn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return bi(r),this.NP=!1,this.MP.hl(),n.next=5,t.prototype.K_.call(this,i,r);case 5:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),i.Jf=function(){return this.MP.Es("jd",this.OP),this.Yx.Es("timeupdate",this.FS),this.BP(),t.prototype.Jf.call(this)},i.Jx=function(n){switch(n.type){case"seeking":return this.ys(n),this.FP(),!0;case"seeked":case"emptied":return this.ys(n),this.HP(),!0;case"ended":if(this.LP)return!0}return t.prototype.Jx.call(this,n)},i.BP=function(){this.DP&&(oT(this.DP),this.DP=void 0)},i.PP=function(){var t=this.w_,i=this.LP&&t>=this.MP.Jg-n.xy;this.NP&&!i?(this.NP=!1,this.A_&&this.Q_()):this.NP||!i||this.T_||this.CP||(this.NP=!0,this.ys(new Al(t)),this.Y_())},i.xP=function(){if(this.y_!==1/0){var t=this.VP,i=Yp.HI(t)._I(this.w_);Pt(this.w_,i,n.xy)||this.eP(i)}},T(n,[{key:"VP",get:function(){return this.pP().length?this.pP():this.MP.Qx().pR()}},{key:"LP",get:function(){return this.MP.Jg<this.y_}}]),n}(uE);sE.UP=1,sE.xy=.001;var oE=function(){function t(){this.XP=!1}return T(t,[{key:"WP",get:function(){return this.XP},set:function(t){this.XP=t}}]),t}(),aE=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).qP=!1,r.zP=!1,r.XP=i,r}qt(n,t);var i=n.prototype;return i.oP=function(){return!this.XP.WP&&t.prototype.oP.call(this)},i.Y_=function(){this.zP=!0,t.prototype.Y_.call(this)},i.Q_=function(){this.zP=!1,t.prototype.Q_.call(this)},i.Jx=function(n){if(this.XP.WP)switch(n.type){case"ended":return this.w_=0,this.zP||(this.T_?this.qP=!0:this.Q_()),!0;case"seeked":this.qP&&(this.qP=!1,this.Q_());break;case"pause":if(this.qP||t.prototype.oP.call(this))return!0}return t.prototype.Jx.call(this,n)},n}(uE);var cE=function(){function t(t){var n;this.$R=t,this.Od=(n=this,{get currentBandwidthEstimate(){return n.bg},get corruptedVideoFrames(){return n.pg},get droppedVideoFrames(){return n.kg},get totalBytesLoaded(){return n.Tg},get bufferedSegments(){return n.Eg}})}return T(t,[{key:"xd",get:function(){return this.Od}},{key:"pg",get:function(){return this.$R.GP.B_.pg}},{key:"bg",get:function(){return this.$R.GP.B_.bg}},{key:"kg",get:function(){return this.$R.GP.B_.kg}},{key:"jP",get:function(){throw new d("Not implemented")}},{key:"QP",get:function(){throw new d("Not implemented")}},{key:"Tg",get:function(){return this.$R.GP.B_.Tg}},{key:"Ag",get:function(){return this.$R.GP.B_.Ag}},{key:"Eg",get:function(){return this.$R.GP.B_.Eg}}]),t}();function hE(t){return t?"function"==typeof t.getVideoPlaybackQuality?t.getVideoPlaybackQuality().droppedVideoFrames:t.webkitDroppedFrameCount||0:0}function fE(t){return t&&"function"==typeof t.getVideoPlaybackQuality&&t.getVideoPlaybackQuality().corruptedVideoFrames||0}function vE(t){return"function"==typeof t.getVideoPlaybackQuality?t.getVideoPlaybackQuality().totalVideoFrames:t.webkitDecodedFrameCount||0}function dE(t){return t&&je(t)?{kg:hE(t),pg:fE(t),Ag:vE(t)}:{kg:0,pg:0,Ag:0,bg:0,Tg:0,Eg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}var lE=function(t){function n(){return t.call(this,"YP")||this}return qt(n,t),n.prototype.Pd=function(){return new _E},n}($v),_E=function(t){function n(){return t.call(this,"castingchange")||this}return qt(n,t),n}(Vi);var gE=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).ZP=[],n.Od=void 0,n.JP=function(){return n.ys(new lE)},n}qt(n,t);var i=n.prototype;return i.$P=function(t){this.ZP.push(t),t.ps("statechange",this.JP)},i.Jf=function(){var t=this;this.ZP.forEach(function(n){n.Es("statechange",t.JP)}),gi(this.ZP)},T(n,[{key:"KP",get:function(){return this.ZP.some(function(t){return t.KP})}},{key:"xd",get:function(){var t,n,i;return this.Od||(this.Od=(i={get casting(){return t.KP},addEventListener:function(t,i){n.ps(t,i)},removeEventListener:function(t,i){n.Es(t,i)}},n=new rE(t=this,i),i)),this.Od}}]),n}(Fd),wE=function(){function t(){}return t.tB=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r,e;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=new ff({Rf:n,Af:Ro.pn,qf:sf.GET}),t.next=4,i.Ef(r);case 4:return e=t.sent,t.next=7,e.Jn();case 7:return t.abrupt("return",t.sent);case 10:return t.prev=10,t.t0=t.catch(0),Ai(t.t0),t.abrupt("return",void 0);case 14:case"end":return t.stop()}},t,null,[[0,10]])}));return function(n,i){return t.apply(this,arguments)}}(),t.nB=function(t){try{var i=wb(t);return new bb(i.key,i.domains_page,i.domains_source,i.expiration_date,i.customer_id,i.generation_date,i.sdks,i.send_impression)}catch(t){throw new De(n.ErrorCode.LICENSE_ERROR,"Invalid license. No valid license was configured.")}},t.iB=function(t){void 0===t&&(t=Mb.am),r.ud("The baked-in license is used. Please update the configuration with your license.");var n=t.CD(".$hsF|b9_Ess*r[1F|C-*]'8iOn3C:o3COo5"),i=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.CD(n)}),e=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.CD(n)}),u=Number(new Date(Number(t.CD("COD|aHpHa:p3Ceo3Co\"\""))));return new bb(n,i,e,u)},t.convertLicenseToDummyLicense=function(t){return new bb(t.FD,t.HD,t.VD,864e13,t.WD,Date.now(),t.zD,t.GD)},t}(),yE=function(){function t(){}return t.rc=function(){return t._n||(t._n=mE.Fo()?new mE:new po),t._n},t.Gs=function(n){t.rc().Gs(n)},t.nc=function(){t.rc().nc()},t.Ws=function(n){return t.rc().Ws(n)},t.ic=function(n,i){t.rc().ic(n,i)},t.rB=function(n){var i=t.Ws(n);if(void 0!==i)return y(i)},t.eB=function(n){return"true"===t.Ws(n)},t}();yE._n=void 0;var mE=function(n){function i(){return n.apply(this,arguments)||this}qt(i,n),i.Fo=function(){try{return t.localStorage.setItem("foobar","foobar"),t.localStorage.removeItem("foobar"),!0}catch(t){}return!1};var r=i.prototype;return r.Gs=function(n){t.localStorage.removeItem(n)},r.nc=function(){t.localStorage.clear()},r.Ws=function(n){return t.localStorage[n]},r.ic=function(n,i){t.localStorage[n]=i},i}(yE),kE=g.floor(14399999*g.random()-72e5),pE=function(){function t(t,n,i,r,e,u){this.lb=t,this.uB=n,this.sB=i,this.EC=r,this.oB=e,this.JD=u,this.$D=Db(u)}var i=t.prototype;return i.aB=function(){var t=vn.coroutine(fn.mark(function t(){var n;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.cB(this.oB.license,this.oB.licenseUrl);case 2:n=t.sent,this.EC.hB(n);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.cB=function(){var t=vn.coroutine(fn.mark(function t(i,r){var e,u,s,o,a,c,h,f;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r,i?u=wE.nB(i):e||(u=wE.iB()),e||(e="https://validate.theoplayer.com/1/"+u.FD),s=this.fB(),!u){t.next=14;break}if((o=this.uB.iC(u))!==mb.LD){t.next=14;break}if(!this.vB(u.XD)||!this.vB(null==s?void 0:s.XD)){t.next=13;break}return t.next=10,this.dB(e);case 10:if(!(a=t.sent)){t.next=13;break}return t.abrupt("return",a);case 13:return t.abrupt("return",u);case 14:if(!s){t.next=25;break}if(this.uB.iC(s)!==mb.LD){t.next=24;break}if(!this.vB(null==s?void 0:s.XD)){t.next=23;break}return t.next=20,this.dB(e);case 20:if(!(c=t.sent)){t.next=23;break}return t.abrupt("return",c);case 23:return t.abrupt("return",s);case 24:yE.Gs("THEOplayer.license");case 25:return t.next=27,wE.tB(e,this.lb);case 27:if(!(h=t.sent)){t.next=37;break}if(f=wE.nB(h),this.uB.iC(f)!==mb.LD){t.next=34;break}return yE.ic("THEOplayer.license",h),t.abrupt("return",f);case 34:yE.Gs("THEOplayer.license"),t.next=39;break;case 37:if(this.$D||!u||o!==mb.MD||e!=="https://validate.theoplayer.com/1/"+u.FD){t.next=39;break}return t.abrupt("return",wE.convertLicenseToDummyLicense(u));case 39:if(!u&&!f){t.next=43;break}this.lB(null!=u?u:f,new De(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!")),t.next=44;break;case 43:throw new De(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!");case 44:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.KD=function(){var t=vn.coroutine(fn.mark(function t(n){var i,r,e,u,s,o,a;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.EC.XC();case 2:if(r=t.sent,!this.vB(r.XD)){t.next=9;break}return e=null!==(i=this.oB.licenseUrl)&&void 0!==i?i:"https://validate.theoplayer.com/1/"+r.FD,t.next=7,this.dB(e);case 7:(u=t.sent)&&(this.EC.hB(u),r=u);case 9:if(t.prev=9,(s=this.uB.iC(r))!==mb.UD){t.next=16;break}throw o=Ab.jD,new De(Eb(o),Ob.nC(o));case 16:if(s!==mb.MD){t.next=19;break}throw a=Ab.MD,new De(Eb(a),Ob.nC(a));case 19:this.uB.KD(n,r),t.next=25;break;case 22:t.prev=22,t.t0=t.catch(9),this._B(t.t0);case 25:case"end":return t.stop()}},t,this,[[9,22]])}));return function(n){return t.apply(this,arguments)}}(),i.dB=function(){var t=vn.coroutine(fn.mark(function t(n){var i,r;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,wE.tB(n,this.lb);case 3:if(void 0!==(i=t.sent)){t.next=6;break}return t.abrupt("return",void 0);case 6:if(r=wE.nB(i),this.uB.iC(r)!==mb.LD){t.next=11;break}return yE.ic("THEOplayer.license",i),t.abrupt("return",r);case 11:return t.abrupt("return",void 0);case 14:return t.prev=14,t.t0=t.catch(0),t.abrupt("return",void 0);case 17:case"end":return t.stop()}},t,this,[[0,14]])}));return function(n){return t.apply(this,arguments)}}(),i.vB=function(t){return!t||Number(new Date)+2592e5+kE>=t},i.fB=function(){var t=yE.Ws("THEOplayer.license");if(t)return wE.nB(t)},i.lB=function(t,n){this.EC.hB(t),this._B(n)},i._B=function(t){throw et(t.message),this.sB.zC(t.message),t},t}(),AE=function(){function t(){this.gB=new se}var n=t.prototype;return n.hB=function(t){this.wB=t,this.gB.eo()},n.XC=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.wB){t.next=2;break}return t.abrupt("return",vn.resolve(this.wB));case 2:return t.next=4,this.gB.ro;case 4:return t.abrupt("return",this.wB);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),T(t,[{key:"yB",get:function(){return this.wB}}]),t}(),bE=function(t){function n(){return t.call(this,"jd")||this}return qt(n,t),n.prototype.Pd=function(){return new TE},n}($v),TE=function(t){function n(){return t.call(this,"change")||this}return qt(n,t),n}(Vi);var EE,SE,RE={mB:void 0,kB:void 0,pB:void 0,AB:void 0,bB:void 0,TB:void 0},IE="THEOplayer.textTrackStyle.",NE=function(t){function n(){var i;return(i=t.call(this)||this).Od=void 0,i.EB=n.SB(),i}return qt(n,t),n.prototype.bo=function(t){this.EB=dn(dn({},this.EB),t),n.RB(this.EB),this.ys(new bE)},n.SB=function(){var t=dn({},RE);return t.mB=yE.Ws(IE+"fontFamily")||t.mB,t.kB=yE.Ws(IE+"fontColor")||t.kB,t.pB=yE.Ws(IE+"fontSize")||t.pB,t.AB=yE.Ws(IE+"backgroundColor")||t.AB,t.bB=yE.Ws(IE+"windowColor")||t.bB,t.TB=yE.Ws(IE+"edgeStyle")||t.TB,t},n.RB=function(t){yE.ic(IE+"fontFamily",t.mB||""),yE.ic(IE+"fontColor",t.kB||""),yE.ic(IE+"fontSize",t.pB||""),yE.ic(IE+"backgroundColor",t.AB||""),yE.ic(IE+"windowColor",t.bB||""),yE.ic(IE+"edgeStyle",t.TB||"")},T(n,[{key:"IB",get:function(){return this.EB}},{key:"mB",get:function(){return this.EB.mB},set:function(t){this.bo({mB:t})}},{key:"kB",get:function(){return this.EB.kB},set:function(t){this.bo({kB:t})}},{key:"pB",get:function(){return this.EB.pB},set:function(t){this.bo({pB:t})}},{key:"AB",get:function(){return this.EB.AB},set:function(t){this.bo({AB:t})}},{key:"bB",get:function(){return this.EB.bB},set:function(t){this.bo({bB:t})}},{key:"TB",get:function(){return this.EB.TB},set:function(t){this.bo({TB:t})}},{key:"xd",get:function(){var t,n,i;return this.Od||(this.Od=(t=this,i={get fontFamily(){return t.mB},set fontFamily(n){t.mB=n},get fontColor(){return t.kB},set fontColor(n){t.kB=n},get fontSize(){return t.pB},set fontSize(n){t.pB=n},get backgroundColor(){return t.AB},set backgroundColor(n){t.AB=n},get windowColor(){return t.bB},set windowColor(n){t.bB=n},get edgeStyle(){return t.TB},set edgeStyle(n){t.TB=n},addEventListener:function(t,i){var r=pd(t,kd);n.ps(r,i)},removeEventListener:function(t,i){var r=pd(t,kd);n.Es(r,i)}},n=new Hi(i),t.ps(["jd"],function(t){return n.ys(t.xd)}),i)),this.Od}}]),n}(Fi),DE=function(t){function n(n,i){var e;(e=t.call(this)||this).NB=!1,e.M_=!1,e.DB=!1,e.CB=function(t){if(!e.DB){e.DB=!0;var n=e.OB,i=Jl(t);e.GP.yl=new nA(e.yg,i,t),Ci(n.Jf())}},e.xB=function(t){e.ys(t.xd)},e.PB=function(t){t.type!==So.pc&&t.type!==So.kc&&e.ys(t)};var u=yd(i.uid);m(u)?e.Bg=s_++:e.Bg=u,e.Xp=i;var s=r.Td,o=new AE;e.BB=new Qb("2.85.3",s,o),e.Td=new MT(s,i.allowMixedContent),e.tN=new KT,e.uB=new Tb(i.isEmbeddable,"2.85.3",yb()),e.LB=new pE(s,e.uB,e.BB,o,i,yb()),e.LB.aB().catch(e.CB),e.MB=new _T(n),e.MB.ps("tO",e.xB),e.nN=new NE,e.MP=new eE,e.XP=new oE;var a=new tA(n,i,e.Td,e.tN,e.MB,e.nN);e.tN.qb(a);var c=a;c=new sE(c,e.UB),c=new aE(c,e.WP),e.OB=c,e.GP=new jl(e.OB),e.GP.bs(e.PB),e.FB=new cE(jt(e)),e.HB=new HT(e.GP,e.Td,e.tN),e.VB=new Jb(jt(e)),e.XB=new AT(e.GP,i.allowNativeFullscreen),e.WB=new kA(e.XB),e.MB.Oo();var h=new pn(e.MB,e.nN,1,[Kl.Xf]);return e.qB=new An(h),e.zB=new gE,e}qt(n,t);var i=n.prototype;return i.vP=function(t){this.GP.p_=t,t||this.A_||this.rg()},i.IP=function(t){this.GP.R_=t},i.GB=function(){Bl(this,pA,this)},i.Q_=function(){this.GP.Q_()},i.Y_=function(){this.GP.Y_()},i.K_=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=5;break}return this.LB.KD(n).catch(this.CB),r=CE(n),t.next=5,this.GP.K_(r,i);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.rg=function(){this.M_||(this.GP.rg(),this.qB.rg(),this.M_=!0)},i.zI=function(){return this.WB.IN()===_A.FULLSCREEN},i.sg=function(){this.GP.sg()},i.og=function(){this.GP.og()},i.ag=function(){return this.GP.ag()},i.hl=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.GP.Z_();case 2:return t.next=4,this.GP.hl();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Jf=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Ts(),this.zB.Jf(),this.Td.Jf(),this.HB.Jf(),this.XB.Jf(),this.WB.Jf(),this.MB.Jf(),this.BB.Jf(),this.qB.Jf(),t.next=11,this.GP.Jf();case 11:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),T(n,[{key:"jB",get:function(){return this.tN}},{key:"X_",get:function(){return this.NB},set:function(t){this.NB=t,this.GP.X_=t}},{key:"QB",get:function(){return this.qB}},{key:"q_",get:function(){return this.GP.q_}},{key:"YB",get:function(){return this.zB}},{key:"ZB",get:function(){return this.MB}},{key:"j_",get:function(){return this.GP.j_}},{key:"B_",get:function(){return this.FB}},{key:"JB",get:function(){return this.HB}},{key:"G_",get:function(){return this.GP.G_}},{key:"$B",get:function(){return this.nN}},{key:"z_",get:function(){return this.GP.z_}},{key:"gg",get:function(){return this.GP.gg}},{key:"UB",get:function(){return this.MP}},{key:"WP",get:function(){return this.XP}},{key:"w_",get:function(){return this.GP.w_},set:function(t){this.GP.w_=t}},{key:"wg",get:function(){return this.GP.wg},set:function(t){this.GP.wg=t}},{key:"lg",get:function(){return this.GP.lg}},{key:"y_",get:function(){return this.GP.y_}},{key:"yg",get:function(){return this.GP.yg}},{key:"m_",get:function(){return this.GP.m_}},{key:"Bs",get:function(){return this.GP.Bs}},{key:"k_",get:function(){return this.GP.k_}},{key:"p_",get:function(){return this.GP.p_},set:function(t){var n=Boolean(t);this.vP(n)}},{key:"A_",get:function(){return this.GP.A_}},{key:"b_",get:function(){return this.GP.b_},set:function(t){this.GP.b_=t}},{key:"Rg",get:function(){return this.GP.Rg}},{key:"Ig",get:function(){return this.GP.Ig},set:function(t){this.GP.Ig=Wp(t)}},{key:"Bl",get:function(){return this.GP.Bl}},{key:"Ng",get:function(){return this.GP.Ng}},{key:"T_",get:function(){return this.GP.T_}},{key:"bl",get:function(){return this.Bg}},{key:"E_",get:function(){return this.GP.E_}},{key:"S_",get:function(){return this.GP.S_}},{key:"R_",get:function(){return this.GP.R_},set:function(t){var n=xt(Number(t),0,1)||0;this.IP(n)}}]),n}(Fd);function CE(t){t.sources;var n=t.sources.filter(function(t){return void 0===t.integration});return t.sources=n,t}!function(t){t[t.KB=0]="KB",t[t.tL=1]="tL"}(EE||(EE={})),function(t){t[t.nL=0]="nL"}(SE||(SE={}));var OE={};function xE(t,n){(OE[n]||(OE[n]=[])).push(t)}function PE(t,n){var i=t;if(OE[n])for(var r=0,e=OE[n];r<e.length;r++){i=(0,e[r])(i)}return i}var BE=[];function LE(t){BE.push(t)}var ME=t.CustomEvent;var UE,FE=function(){try{var t=new ME("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?function(t,n){return new CustomEvent(t,n)}:function(t,n){var i=s.createEvent("CustomEvent");return n?i.initCustomEvent(t,n.bubbles,n.cancelable,n.detail):i.initCustomEvent(t,!1,!1,void 0),i};(UE=vn)&&UE.config({warnings:!1,longStackTraces:!1});UE&&(WE=UE.setScheduler(j),HE=WE,qE={iL:function(t){VE=t,HE(XE)},MC:XE=function(){var t=VE;t&&(VE=void 0,t())}},UE.setScheduler(qE.iL));var HE,VE,XE,WE,qE,zE=function(){function t(t,n){var i=this;this.rL=!1,this.eL=function(t){i.uL.qC(t.error,i.w_)},this.sL=function(){i.uL.VC(i.oL),i.$R.removeEventListener("playing",i.sL),i.rL=!1},this.aL=function(){i.rL||(i.$R.addEventListener("playing",i.sL),i.rL=!0)},this.uL=n,this.$R=t,this.$R.addEventListener("error",this.eL),this.$R.addEventListener("sourcechange",this.aL),this.aL()}return t.prototype.hl=function(){},T(t,[{key:"w_",get:function(){var t=this.$R.currentTime;return"number"==typeof t&&isFinite(t)?t:"now"}},{key:"oL",get:function(){return this.$R.src||""}}]),t}();LE(function(t){new zE(t.xd,t.BB)});var GE="theoplayer-stored-volume",jE="theoplayer-stored-mutedstate";xE(function(t){return function(t){function n(n,i){var r;if(r=t.call(this,n,i)||this,i.persistVolume){var e=yE.rB(GE);(void 0===e||m(e))&&(e=1);var u=yE.eB(jE)||!1;r.R_=e,r.p_=u}return r}qt(n,t);var i=n.prototype;return i.vP=function(n){this.Xp.persistVolume&&yE.ic(jE,n),t.prototype.vP.call(this,n)},i.IP=function(n){this.Xp.persistVolume&&yE.ic(GE,n),t.prototype.IP.call(this,n)},n}(t)},EE.tL);var QE=new(function(){function t(){this.cL=[],this.Od=void 0}var n=t.prototype;return n.sl=function(t){return this.cL[t]},n.hL=function(t){this.cL.push(t),this.xd.push(t.xd)},n.Ao=function(t){var n=this.cL.indexOf(t);n<0||(di(this.cL,n),this.Od&&di(this.Od,n))},n.fL=function(t){for(var n=0,i=this.cL;n<i.length;n++){var r=i[n];if(r.bl===t)return r}},T(t,[{key:"vl",get:function(){return this.cL.length}},{key:"xd",get:function(){return this.Od||(this.Od=function(t){for(var n=[],i=0;i<t.vl;i++)n[i]=t.sl(i).xd;return n.getPlayerByUID=function(n){var i=t.fL(n);return i&&i.xd},n}(this)),this.Od}}]),t}());var YE,ZE=function(t){function n(n){var i;return(i=t.call(this,So.Bc)||this).source=n,i}return qt(n,t),n}(Vi),JE=function(t){function n(){var n;return(n=t.call(this)||this).jI=0,n.YI=!0,n.JI=!1,n.ZI=1,n}qt(n,t);var i=n.prototype;return i.Q_=function(){this.YI&&(this.YI=!1,this.ys(new _l(this.w_)),this.ys(new bp(this.w_)))},i.Y_=function(){this.YI||(this.YI=!0,this.ys(new pl(this.w_,this.wg)),this.ys(new ll(this.w_)))},i.hl=function(){this.jI=0,this.JI=!1,this.ZI=1,this.Y_(),this.ys(new dl(this.jI))},i.Jf=function(){this.Ts()},i.og=function(){},i.sg=function(){},T(n,[{key:"wg",get:function(){},set:function(t){}},{key:"w_",get:function(){return this.jI},set:function(t){this.jI!==t&&(this.jI=t,this.JI=!0,this.ys(new Tl(this.w_)))}},{key:"A_",get:function(){return this.YI}},{key:"b_",get:function(){return this.ZI},set:function(t){this.ZI!==t&&(this.ZI=t,this.ys(new kl(this.w_,this.b_)))}},{key:"Bl",get:function(){return Qd.s_}},{key:"T_",get:function(){return this.JI}}]),n}(Ud),$E=function(t){function n(){return t.call(this,So.fc)||this}return qt(n,t),n}(Vi),KE={zIndex:"1",display:"inline-block",verticalAlign:"middle",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"contain",cursor:"pointer",margin:"0",padding:"0",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",height:"100%"},tS={visibility:"hidden"},nS={visibility:"visible"},iS=function(){function t(t){var n,i=this;this.vL=!1,this.dL=function(t){i.vL=!1,i.lL=t.source&&t.source.poster,i.bo()},this.fS=function(){i.vL=!0,i.og()},this.$R=t,this.KR(),this.qR=((n=Tn&&Tn.document&&Tn.document.createElement("div")).className="theoplayer-poster",qe(KE,n),n),t.yg.appendChild(this.qR)}var n=t.prototype;return n.bo=function(){var t=this.$R.A_,n=this.vL;this.Rf?this.qR.style.backgroundImage='url("'+this.Rf.replace(/[\\"]/g,function(t){return"\\"+t})+'")':this.qR.style.backgroundImage="",t&&this.Rf&&!n?this.sg():this.og()},n.sg=function(){qe(tS,this.$R.yg),qe(nS,this.qR)},n.og=function(){qe(tS,this.qR),qe(nS,this.$R.yg)},n.KR=function(){this.$R.ps("sourcechange",this.dL),this.$R.ps("play",this.fS)},n.Jf=function(){this.$R.Es("sourcechange",this.dL),this.$R.Es("play",this.fS),Ve(this.qR)},T(t,[{key:"Rf",get:function(){return void 0!==this.lL?this.lL:void 0!==this._L?this._L:void 0}},{key:"gL",set:function(t){this._L=t,this.bo()}}]),t}();function rS(t){return function(n){function i(i,r){var e;return(e=n.call(this,i)||this).wL=function(t){t.type!==So.Ec&&e.yL.push(t)},e.mL=new t(i,r),e.kL=new JE,e.$R=e.mL,e.pL=new iS(jt(e)),e.UE=new cy,e.AL=!1,e.yL=[],e.ZR=!0,e.YR=void 0,e.KR(),e}qt(i,n);var r=i.prototype;return r.Eb=function(){var t=vn.coroutine(fn.mark(function t(n,i){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.UE.Eb(n,i).catch(Ei));case 1:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.bL=function(){var t=vn.coroutine(fn.mark(function t(n,i){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return bi(i),this.mL.bs(this.wL),t.next=4,this.mL.K_(n,i);case 4:this.mL.Is(this.wL);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.TL=function(){var t=vn.coroutine(fn.mark(function t(){var n,i,r;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((n=this.J_())&&!ZA(n)&&this.X_&&this.A_){t.next=3;break}return t.abrupt("return");case 3:return i=n.mutedAutoplay||this.Xp.mutedAutoplay,t.next=6,this.QB.EL();case 6:r=t.sent,t.t0=r,t.next="all"===t.t0?10:"muted"===t.t0?12:14;break;case 10:return this.SL(),t.abrupt("break",14);case 12:return(this.p_||i===gl.ALL)&&(this.p_=!0,this.Q_()),t.abrupt("break",14);case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.K_=function(t){var n=this,i=this.YR;i&&!ZA(i)&&this.ys(new dl(0,0)),this.hl(),this.YR=t,Ci(this.Eb(function(){var i=vn.coroutine(fn.mark(function i(r){return fn.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return bi(r),i.prev=1,i.next=4,n.bL(t,r);case 4:i.next=10;break;case 6:throw i.prev=6,i.t0=i.catch(1),n.YR=void 0,i.t0;case 10:return i.next=12,n.RL();case 12:case"end":return i.stop()}},i,null,[[1,6]])}));return function(t){return i.apply(this,arguments)}}()))},r.RL=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.IL(this.mL),this.ys(new ZE(this.J_())),t.next=4,this.TL();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.eP=function(t){this.$R.w_=t},r.aP=function(){return this.mL.Bs},r.cP=function(){return this.mL.k_},r.Q_=function(){this.$R.Q_()},r.SL=function(){this.p_||this.rg(),this.Q_()},r.rg=function(){this.mL.rg()},r.Y_=function(){this.$R.Y_()},r.Z_=function(){this.K_(void 0)},r.sg=function(){this.ZR=!0,this.$R.sg()},r.og=function(){this.ZR=!1,this.$R.og()},r.GB=function(){this.mL.GB()},r.IP=function(t){this.mL.IP(t)},r.vP=function(t){this.mL.vP(t)},r.NL=function(t){this.DL=t,t.hL(this)},r.zI=function(){return this.mL.zI()},r.J_=function(){return this.YR},r.ag=function(){return this.mL.ag()},r.rP=function(){return this.mL.w_},r.uP=function(){return this.mL.y_},r.Kx=function(){return this.mL.gg},r.wP=function(){return this.mL.Rg},r.pP=function(){return this.mL.Ng},r.hl=function(){var t=this;this.YR=void 0,gi(this.yL),this.kL.hl(),this.IL(this.kL),this.UE.hs(),Ci(this.UE.Eb(function(){var n=vn.coroutine(fn.mark(function n(i){return fn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return bi(i),n.next=3,t.mL.hl();case 3:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}()))},r.Jf=function(){var t=this;this.ys(new $E),this.pL.Jf(),this.tI(),this.hl(),Ci(this.Eb(vn.coroutine(fn.mark(function n(){return fn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.mL.Jf();case 2:t.DL&&(t.DL.Ao(t),t.DL=void 0),t.UE.Jf();case 4:case"end":return n.stop()}},n)})))),this.Ts()},r.IL=function(t){if(this.$R!==t){var n=this.$R.A_,i=this.$R.w_,r=this.$R.b_;this.tI(),t===this.mL?(t.w_!==i&&(t.w_=i),t.b_!==r&&(t.b_=r),n?t.Y_():t.Q_()):this.Xp.retainPlaybackRateOnSourceChange?t.b_=r:1!==r&&this.ys(new kl(this.rP(),1)),this.$R=t,this.KR();for(var e=0,u=this.yL;e<u.length;e++){var s=u[e];this.ys(s)}gi(this.yL),this.ZR?t.sg():t.og()}},r.KR=function(){this.$R.bs(this.gs)},r.tI=function(){this.$R.Is(this.gs)},r.Pd=function(){return t=this,r=function(n){i=n;var r=sb(n,t.Xp);t.K_(r)},e={get abr(){return t.jB.xd},get audioTracks(){return t.q_.xd},get autoplay(){return t.X_},set autoplay(n){t.X_=Boolean(n)},get buffered(){return t.Kx()},get canvas(){return t.VB.xd},get clip(){return t.UB.xd},get currentProgramDateTime(){var n;return null!==(n=t.wg)&&void 0!==n?n:null},set currentProgramDateTime(n){t.wg=null!=n?n:void 0},get currentTime(){return t.rP()},set currentTime(n){t.eP(Number(n))},get duration(){return t.uP()},get element(){return t.yg},get ended(){return t.m_},get error(){return t.aP()},get errorObject(){return t.cP()},get loop(){return t.WP.WP},set loop(n){t.WP.WP=Boolean(n)},get metrics(){return t.B_.xd},get muted(){return t.p_},set muted(n){t.vP(n)},get network(){return t.JB.xd},get paused(){return t.A_},get playbackRate(){return t.b_},set playbackRate(n){var i=Number(n);if(i<0)throw new RangeError("playbackRate must be a positive number");t.b_=i},get played(){return t.wP()},get poster(){return t.CL},set poster(n){t.CL=kd(n)},get preload(){return t.Ig},set preload(n){t.Ig=n},get presentation(){return t.WB.xd},get readyState(){return t.Bl},get seekable(){return t.pP()},get seeking(){return t.T_},get source(){return i},set source(t){r(t)},get src(){return JA(t.J_())},set src(t){r({sources:t})},get textTracks(){return t.G_.xd},get textTrackStyle(){return t.$B.xd},get uid(){return t.bl},get videoHeight(){return t.E_},get videoTracks(){return t.z_.xd},get videoWidth(){return t.S_},get volume(){return t.R_},set volume(n){t.IP(Number(n))},destroy:function(){t.Jf(),t=null,i=void 0},play:function(){t.SL()},pause:function(){t.Y_()},stop:function(){i=void 0,t.Z_()},prepareWithUserAction:function(){t.rg()},addEventListener:function(t,i){n.ps(t,i)},removeEventListener:function(t,i){n.Es(t,i)},setSource:function(t){r(t)}},(n=new yA(e,!0)).lN(t),e;var t,n,i,r,e},T(i,[{key:"BB",get:function(){return this.mL.BB}},{key:"VB",get:function(){return this.mL.VB}},{key:"Xp",get:function(){return this.mL.Xp}},{key:"OB",get:function(){return this.mL.OB}},{key:"Td",get:function(){return this.mL.Td}},{key:"gR",get:function(){return this.mL.XB}},{key:"WB",get:function(){return this.mL.WB}},{key:"MB",get:function(){return this.mL.MB}},{key:"GP",get:function(){return this.mL.GP}},{key:"jB",get:function(){return this.mL.jB}},{key:"X_",get:function(){return this.mL.X_},set:function(t){this.mL.X_=t,this.TL()}},{key:"QB",get:function(){return this.mL.QB}},{key:"q_",get:function(){return this.mL.q_}},{key:"YB",get:function(){return this.mL.YB}},{key:"ZB",get:function(){return this.mL.MB}},{key:"xd",get:function(){return this.Od||(this.Od=this.Pd()),this.Od}},{key:"j_",get:function(){return this.mL.j_}},{key:"B_",get:function(){return this.mL.B_}},{key:"JB",get:function(){return this.mL.JB}},{key:"G_",get:function(){return this.mL.G_}},{key:"$B",get:function(){return this.mL.$B}},{key:"z_",get:function(){return this.mL.z_}},{key:"UB",get:function(){return this.mL.UB}},{key:"WP",get:function(){return this.mL.WP}},{key:"wg",get:function(){return this.$R.wg},set:function(t){this.$R.wg=t}},{key:"lg",get:function(){return this.mL.lg}},{key:"yg",get:function(){return this.mL.yg}},{key:"m_",get:function(){return this.mL.m_}},{key:"p_",get:function(){return this.mL.p_},set:function(t){this.mL.p_=t}},{key:"A_",get:function(){return this.$R.A_}},{key:"CL",get:function(){return this.pL.Rf||""},set:function(t){this.pL.gL=t}},{key:"b_",get:function(){return this.mL.b_},set:function(t){this.$R.b_=t}},{key:"Ig",get:function(){return this.mL.Ig},set:function(t){this.mL.Ig=Wp(t)}},{key:"Bl",get:function(){return this.$R.Bl}},{key:"T_",get:function(){return this.$R.T_}},{key:"bl",get:function(){return this.mL.bl}},{key:"E_",get:function(){return this.mL.E_}},{key:"S_",get:function(){return this.mL.S_}},{key:"R_",get:function(){return this.mL.R_},set:function(t){this.mL.R_=t}}]),i}(Fd)}function eS(t,n){var i=Ol(n),r=new(YE||(YE=PE(YE=rS(DE),EE.KB),YE=PE(YE,EE.tL)),YE)(t,i),e=r.xd;return r.GB(),r.NL(QE),_.defineProperty(e,"constructor",{value:eS}),e=hd(e),function(t){for(var n=0;n<BE.length;n++)(0,BE[n])(t)}(r),e}Di(function(){t.dispatchEvent&&t.dispatchEvent(FE("theoplayerready"))});var uS,sS={base64:new(function(){function t(){}var n=t.prototype;return n.encode=function(t){return ir(t)},n.decode=function(t){return tr(t)},t}())},oS=QE.xd,aS=By.Vb.registerContentProtectionIntegration.bind(By.Vb),cS=(So.bc,So.Ac,vl.g_,So.Lc,So.Tc,So.wc,So.Nc,So.Ic,So.lc,So.Ec,So.Mc,So.vc,vl.Qd,So.Rc,Nd.Ol,Ui.Ls,Ui.Us,{OL:!1,xL:50}),hS=["loadstart","encrypted","waitingforkey","webkitneedkey","msneedkey"];!function(t){t.kD="PL"}(uS||(uS={}));var fS,vS,dS=function(t){function i(n,i,r){var e;(e=t.call(this)||this).BL=!1,e.LL=new se,e.UE=new cy,e.No=void 0,e.ML=function(){e.UL(!0)},e.Ko=n,e.XE=i,e.ca=i.nR,e.Vu=r;for(var u=0;u<hS.length;u++){var s=hS[u];e.ca.addEventListener(s,e.ML)}return e}qt(i,t);var r=i.prototype;return r.jE=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r,e;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Vu.Qu(n.Pu,i);case 2:return r=t.sent,t.next=5,r.Bo();case 5:return e=t.sent,t.next=8,this.FL(e);case 8:return t.abrupt("return",e);case 9:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.es=function(){var t=vn.coroutine(fn.mark(function t(){var n,i;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(this.Ts(),n=0;n<hS.length;n++)i=hS[n],this.ca.removeEventListener(i,this.ML);return t.next=4,this.UE.Jf();case 4:return t.next=6,this.HL();case 6:return t.next=8,this.FL(void 0);case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.UL=function(t){t!==this.BL&&(this.BL=t,t?this.LL.eo(void 0):this.LL=new se)},r.FL=function(t){var n=this;return this.UE.Eb(function(){return n.VL(t)})},r.VL=function(){var t=vn.coroutine(fn.mark(function t(i){var r;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!i||this.ca.src){t.next=4;break}throw new Ql(n.ErrorCode.CONTENT_PROTECTION_ERROR,"Attempted to attach MediaKeys to a sourceless MediaElement");case 4:if(i||!this.ca.src){t.next=6;break}throw new Ql(n.ErrorCode.CONTENT_PROTECTION_ERROR,"Attempted to remove MediaKeys from a non-empty MediaElement");case 6:if(!i||this.BL){t.next=9;break}return t.next=9,this.LL.ro;case 9:if(!(r=this.No)){t.next=14;break}return t.next=13,r.xo(this.ca);case 13:this.No=void 0;case 14:if(!i){t.next=18;break}return t.next=17,i.Oo(this.ca);case 17:this.No=i;case 18:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.K_=function(t){var n=this;return this.UE.Eb(function(){return n.XL(t)})},r.XL=function(){var t=vn.coroutine(fn.mark(function t(n){var i;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.UL(!1),i=this.XE.b_,this.ca.src=n,this.XE.b_=i;case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.po=function(){var t=this;return this.UE.Eb(function(){return t.Gv()})},r.Gv=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.ca.load();case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.HL=function(){var t=this;return this.UE.Eb(function(){return t.WL()})},r.WL=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.UL(!1),Qe(this.ca);case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),T(i,[{key:"q_",get:function(){throw new d("Not implemented")}},{key:"Xp",get:function(){return this.Ko}},{key:"nR",get:function(){return this.ca}},{key:"z_",get:function(){throw new d("Not implemented")}}]),i}(Fi),lS=function(t){function n(){return t.apply(this,arguments)||this}qt(n,t);var i=n.prototype;return i.qb=function(){var t=vn.coroutine(fn.mark(function t(){var n;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=this.Xp,t.t0=n.aR,t.next=t.t0===qd.t_?4:t.t0===qd.n_?4:(t.t0,qd.i_,6);break;case 4:return this.ca.setAttribute("crossorigin",n.aR),t.abrupt("break",8);case 6:return this.ca.removeAttribute("crossorigin"),t.abrupt("break",8);case 8:return void 0!==n.Ig?this.ca.preload=n.Ig:this.ca.preload=Vp.DS,void 0!==n.cR?this.ca.title=n.cR:Ge(this.ca),t.next=12,this.K_(n.Ul);case 12:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.es=function(){var n=vn.coroutine(fn.mark(function n(){return fn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Ge(this.ca),n.next=3,t.prototype.es.call(this);case 3:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),n.qL=function(t,n){return!!n.canPlayType&&Boolean(n.canPlayType(t.af))},T(n,[{key:"gg",get:function(){return Yp.HI(this.ca.buffered)}},{key:"y_",get:function(){return this.ca.duration}},{key:"zL",get:function(){var t=this.y_;if(!isFinite(t))return!1;var n=this.gg;return 0!==n.vl&&t-n.oI(n.vl-1)<1/6}},{key:"Ig",get:function(){return this.ca.preload},set:function(t){this.ca.preload=t}},{key:"Ng",get:function(){return Yp.HI(this.ca.seekable)}},{key:"GL",get:function(){return this.gg}},{key:"jL",get:function(){if(je(this.ca)&&(this.ca.videoWidth>0||this.ca.videoHeight>0))return this.gg}}]),n}(dS),_S=function(t){function n(n){var i;return(i=t.call(this,So.Tc)||this).currentTime=n,i}return qt(n,t),n}(Vi),gS=function(t){function n(){return t.call(this,So.wc)||this}return qt(n,t),n}(Vi);!function(t){t[t.QL=0]="QL",t[t.YL=1]="YL"}(fS||(fS={})),function(t){t.ZL="JL"}(vS||(vS={}));var wS,yS;vS.ZL;!function(t){t[t.$L=0]="$L",t[t.Wc=1]="Wc",t[t.KL=2]="KL"}(wS||(wS={})),function(t){t.tM="nM"}(yS||(yS={}));var mS=function(t){function n(n){var i;return(i=t.call(this,yS.tM)||this).iM=n,i}return qt(n,t),n}(Vi),kS=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).rM=Yp.WI(),n}qt(n,t);var i=n.prototype;return i.eM=function(t,n){var i=new Yp([t,n]);this.rM=this.rM.TI(i),this.ys(new mS(i))},i.uM=function(t,n){this.rM=this.rM.SI(new Yp([t,n]))},i.hl=function(){this.rM=Yp.WI()},i.Jf=function(){this.Ts()},T(n,[{key:"sM",get:function(){return this.rM}}]),n}(Fi),pS=function(t){function n(){return t.apply(this,arguments)||this}qt(n,t);var i=n.prototype;return i.oM=function(t,n,i){return vn.reject(new d("Invalid state"))},i.aM=function(){return vn.reject(new d("Invalid state"))},i.cM=function(t,n){return vn.reject(new d("Invalid state"))},i.zL=function(){return!1},i.hM=function(){},i.fM=function(t,n){},i.vM=function(t,n){},i.Ao=function(t,n,i){return vn.resolve()},i.dM=function(t,n){return vn.reject(new d("Invalid state"))},i.lM=function(t){},i._M=function(t){},i.Jf=function(){return vn.resolve()},T(n,[{key:"gg",get:function(){return Yp.WI()}},{key:"gM",get:function(){return!1}},{key:"wM",get:function(){return Yp.WI()}},{key:"yM",get:function(){return!1}},{key:"LO",get:function(){return!1}}]),n}(Fi),AS=function(){function t(t,n){this.mM=void 0,this.kM=n,this.pM=t}var n=t.prototype;return n.zL=function(){return!!this.mM&&this.gg.dI().kR(this.mM)},n.hM=function(){var t=this.gg;this.mM=t.vl>0?t.oI(t.vl-1):0,this.kM.AM()},T(t,[{key:"gg",get:function(){if(this.kM.Bl===HS.bM)return Yp.WI();var t=Yp.HI(this.pM.buffered).yI(new Yp([0,1/0])),n=this.mM;return void 0!==n&&t.vl>0&&t.oI(t.vl-1)===n&&(t=t.TI(Yp.XI(n))),t}}]),t}(),bS="QuotaExceededError";function TS(t){return t&&t.name===bS}function ES(t,n){return void 0===n&&(n=new bh({highWaterMark:1/0})),new lh(new SS(t,n),{highWaterMark:0})}var SS=function(){function t(t,n){var i=this,r=n.size,e=void 0===r?function(){return 1}:r,u=n.highWaterMark,s=void 0===u?1:u;this.ie=[],this.fh=0,this.gB=void 0,this.TM=!1,this.EM=void 0,this.SM=function(t){return t.done?(i.ue(),void i.gB.close()):(i.ie.push(t.value),i.fh+=i.RM(t.value),i.TM&&i.ue(),i.IM()?i.th.read().then(i.SM):void 0)},this.Ov=function(t){i.ue(),i.gB.error(t)},this.th=t.getReader(),this.RM=e,this.NM=s}var n=t.prototype;return n.start=function(t){this.gB=t,this.IM()&&this.DM()},n.pull=function(){this.ie.length>0?this.ue():this.TM=!0,this.IM()&&this.DM()},n.cancel=function(t){return gi(this.ie),this.fh=0,this.TM=!1,this.th.cancel(t)},n.ue=function(){if(0!==this.ie.length){var t=this.ie;this.ie=[],this.fh=0,this.TM=!1,this.gB.enqueue(t)}},n.IM=function(){return!!this.TM||this.NM-this.fh>0},n.DM=function(){var t=this;if(!this.EM){var n=this.th.read().then(this.SM).catch(this.Ov);this.EM=n;var i=function(){t.EM===n&&(t.EM=void 0)};n.then(i,i)}},t}(),RS=20,IS=P.rn,NS=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).Vx=RS,u.Xx=VT,u.CM=!1,u.OM=!1,u.xM=void 0,u.PM=new ki,u.BM=!1,u.LM=void 0,u.MM=function(){u.CM=!1},u.XE=n,u.UM=r,u.FM=i,u.pM=e,u.pM.addEventListener("updateend",u.MM),u}qt(n,t);var i=n.prototype;return i.oM=function(t,n,i){var r=this;switch(t.xu){case wS.$L:case wS.Wc:return this.HM(function(i){return r.VM(t,n,i)},i);case wS.KL:throw new d("Opaque segments are not supported on web.")}},i.cM=function(t,n){var i=this;switch(t.xu){case wS.$L:return this.HM(function(n){return i.XM(t,n)},n);case wS.Wc:throw new d("Streaming initialization segments are not supported on web.");case wS.KL:throw new d("Opaque initialization segments are not supported on web.")}},i.XM=function(){var t=vn.coroutine(fn.mark(function t(n,i){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.WM(n.Jn,void 0,i);case 2:IS&&(this.BM=!1,this.LM=n);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.VM=function(){var t=vn.coroutine(fn.mark(function t(n,i,r){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(IS&&this.BM&&this.LM)){t.next=3;break}return t.next=3,this.XM(this.LM,r);case 3:return t.prev=3,bi(r),t.next=7,this.WM(n.Jn,i,r);case 7:this.ys(new Vi(vS.ZL));case 8:return t.prev=8,n.xu===wS.Wc&&n.Jn.cancel(new pi).catch(j),t.finish(8);case 11:case"end":return t.stop()}},t,this,[[3,,8,11]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.WM=function(t,n,i){return this.qM(t,n,i)},i.qM=function(){var t=vn.coroutine(fn.mark(function t(n,i,r){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return bi(r),t.next=3,this.zM(this.XE.w_,null==i?void 0:i.GM,null==i?void 0:i.y_);case 3:if(bi(r),!(n instanceof lh)){t.next=9;break}return t.next=7,this.jM(n,i,r);case 7:t.next=11;break;case 9:return t.next=11,this.QM(n,i,r);case 11:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.jM=function(){var t=vn.coroutine(fn.mark(function t(n,i,r){var e,u;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=void 0,u=Xh(n),n=u[0],e=u[1],t.prev=5,t.next=8,this.YM(n,i,r);case 8:return e.cancel(new pi).catch(j),t.abrupt("return");case 12:if(t.prev=12,t.t0=t.catch(5),!TS(t.t0)){t.next=21;break}return t.next=17,this.zM(this.XE.w_,i?i.GM:void 0,i?i.y_:void 0,r);case 17:if(!t.sent){t.next=21;break}return n=e,t.abrupt("continue",0);case 21:throw e.cancel(t.t0).catch(j),t.t0;case 23:t.next=0;break;case 25:case"end":return t.stop()}},t,this,[[5,12]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.YM=function(){var t=vn.coroutine(fn.mark(function t(n,i,r){var e,u,s,o,a,c,h,f;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=this.FM.gg,u=ES(n),s=u.getReader(),o=!1,t.prev=4,i&&this.ZM(i);case 6:return t.next=9,Si(s.read(),r);case 9:if(!(a=t.sent).done){t.next=13;break}return o=!1,t.abrupt("break",20);case 13:return bi(r),c=sr(a.value),o=!0,t.next=18,this.JM(c);case 18:t.next=6;break;case 20:t.next=37;break;case 22:if(t.prev=22,t.t0=t.catch(4),s.cancel(t.t0).catch(j),!o){t.next=36;break}return t.next=28,this.$M();case 28:h=this.FM.gg.yI(e.mI()),f=0;case 30:if(!(f<h.vl)){t.next=36;break}return t.next=33,this.KM(h.uI(f),h.oI(f));case 33:f++,t.next=30;break;case 36:throw t.t0;case 37:case"end":return t.stop()}},t,this,[[4,22]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.QM=function(){var t=vn.coroutine(fn.mark(function t(n,i,r){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=1,bi(r),i&&this.ZM(i),t.next=6,this.JM(n);case 6:return t.abrupt("return",t.sent);case 9:if(t.prev=9,t.t0=t.catch(1),!TS(t.t0)){t.next=17;break}return t.next=14,this.zM(this.XE.w_,i?i.GM:void 0,i?i.y_:void 0,r);case 14:if(!t.sent){t.next=17;break}return t.abrupt("continue",0);case 17:throw t.t0;case 18:t.next=0;break;case 20:case"end":return t.stop()}},t,this,[[1,9]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.dM=function(t,n){var i=this;return this.HM(function(){return i.tU(t,n)})},i.tU=function(){var t=vn.coroutine(fn.mark(function t(n,i){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.pM.appendWindowStart===n&&this.pM.appendWindowEnd===i){t.next=6;break}return t.next=3,this.$M();case 3:this.pM.appendWindowStart=0,this.pM.appendWindowEnd=i,this.pM.appendWindowStart=n;case 6:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.ZM=function(t){this.pM.timestampOffset!==t.im&&(this.pM.timestampOffset=t.im)},i.JM=function(){var t=vn.coroutine(fn.mark(function t(n){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.pM.appendBuffer(n),this.OM=!0,t.next=4,this.nU();case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.zM=function(){var t=vn.coroutine(fn.mark(function t(n,i,r,e){var u,s,o,a,c;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:u=qT(n,i,r,this.FM.gg,this.Vx,this.Xx),s=0;case 2:if(!(s<u.length)){t.next=9;break}return o=u[s],a=o[0],c=o[1],t.next=6,this.KM(a,c,e);case 6:s++,t.next=2;break;case 9:return t.abrupt("return",u.length>0);case 10:case"end":return t.stop()}},t,this)}));return function(n,i,r,e){return t.apply(this,arguments)}}(),i.iU=function(t,n,i){var r=this;return this.HM(function(i){return r.KM(t,n,i)},i)},i.KM=function(){var t=vn.coroutine(fn.mark(function t(n,i,r){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return bi(r),this.pM.remove(n,i),t.next=4,this.nU();case 4:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.nU=function(){var t=this,n=this.FM.gg;return new vn(function(i,r){var e,u=!1,s=function(){u=!0},o=function(){u=!1,e="error"},a=function(){u=!1,e="aborted"},c=function(){h(),u&&!e?(n.OI(t.FM.gg)||t.ys(new Vi(vS.ZL)),i()):r(new d(e))},h=function(){t.pM.removeEventListener("update",s),t.pM.removeEventListener("error",o),t.pM.removeEventListener("abort",a),t.pM.removeEventListener("updateend",c)};t.pM.addEventListener("update",s),t.pM.addEventListener("error",o),t.pM.addEventListener("abort",a),t.pM.addEventListener("updateend",c)})},i.rU=function(){var t=vn.coroutine(fn.mark(function t(){var n=this;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.HM(function(){return n.$M()}));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.$M=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.UM.Bl===HS.ov){t.next=2;break}return t.abrupt("return");case 2:IS&&(this.BM=!0),this.pM.updating&&(this.CM=!0);try{this.pM.abort()}catch(t){0,this.CM=!1}if(!this.LO){t.next=8;break}return t.next=8,this.nU().catch(j);case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.HM=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.xM){t.next=2;break}throw new d("Internal error");case 2:return(r=new ki).fs(this.PM.ds),i&&r.fs(i),t.prev=5,this.xM=n(r.ds),t.next=9,this.xM;case 9:if(this.UM.eU(),!this.LO){t.next=13;break}return t.next=13,this.nU();case 13:return t.prev=13,this.xM=void 0,r.es(),t.finish(13);case 17:case"end":return t.stop()}},t,this,[[5,,13,17]])}));return function(n,i){return t.apply(this,arguments)}}(),i.es=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Ts(),this.PM.hs(),!this.xM){t.next=6;break}return t.next=5,this.xM.catch(j);case 5:this.xM=void 0;case 6:this.pM.removeEventListener("updateend",this.MM);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),T(n,[{key:"yM",get:function(){return this.OM}},{key:"Px",get:function(){return this.Vx},set:function(t){this.Vx=t}},{key:"Ux",set:function(t){this.Xx=t}},{key:"LO",get:function(){return this.CM||this.pM.updating}}]),n}(Fi);function DS(t,n,i,r,e){var u=new AS(t,n),s=new NS(r,u,n,t);return new CS(u,s,e)}var CS=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).FM=n,e.uU=i,e.sU=r,e.uU.ps(vS.ZL,e.gs),e}qt(n,t);var i=n.prototype;return i.zL=function(){return this.FM.zL()},i.hM=function(){this.FM.hM()},i.fM=function(t,n){this.sU.eM(t,n)},i.vM=function(t,n){this.sU.uM(t,n)},i.aM=function(){return this.uU.rU()},i.oM=function(t,n,i){return this.uU.oM(t,n,i)},i.cM=function(t,n){return this.uU.cM(t,n)},i.Ao=function(t,n,i){return this.vM(t,n),this.uU.iU(t,n,i)},i.dM=function(t,n){return this.uU.dM(t,n)},i.lM=function(t){this.uU.Px=t},i._M=function(t){this.uU.Ux=t},i.Jf=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.uU.Es(vS.ZL,this.gs),t.next=3,this.uU.es();case 3:this.sU.Jf();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),T(n,[{key:"gg",get:function(){return this.FM.gg}},{key:"gM",get:function(){return!0}},{key:"wM",get:function(){return this.sU.sM}},{key:"yM",get:function(){return this.uU.yM}},{key:"LO",get:function(){return this.uU.LO}}]),n}(Fi),OS=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).pM=void 0,s.UM=n,s.Ko=r,s.Vo=r.af,s.oU=e,s.XE=i,s.nh=new pS,s.nh.ps(vS.ZL,s.gs),s.Vx=RS,s.Xx=VT,s.sU=u,s}qt(n,t);var i=n.prototype;return i.zL=function(){return this.nh.zL()},i.hM=function(){return this.nh.hM()},i.fM=function(t,n){this.nh.fM(t,n)},i.vM=function(t,n){this.nh.vM(t,n)},i.aM=function(){return this.nh.aM()},i.oM=function(t,n,i){return this.nh.oM(t,n,i)},i.cM=function(t,n){return this.nh.cM(t,n)},i.dM=function(t,n){return this.nh.dM(t,n)},i.Ao=function(){var t=vn.coroutine(fn.mark(function t(n,i,r){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.nh.Ao(n,i,r);case 2:(P.ln||P.Zt)&&this.XE.Zs(this.XE.w_);case 3:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.Fg=function(){var t=vn.coroutine(fn.mark(function t(n,i){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.gM!==n){t.next=2;break}return t.abrupt("return");case 2:if(!n){t.next=7;break}return t.next=5,this.nb(i);case 5:t.next=9;break;case 7:return t.next=9,this.ib(i);case 9:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.nb=function(){var t=vn.coroutine(fn.mark(function t(n){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,bi(n),xS(this.pM,!0),t.next=5,this.aU(this.pM);case 5:t.next=12;break;case 7:return t.prev=7,t.t0=t.catch(0),bi(n),t.next=12,this.UM.cU(this);case 12:case"end":return t.stop()}},t,this,[[0,7]])}));return function(n){return t.apply(this,arguments)}}(),i.ib=function(){var t=vn.coroutine(fn.mark(function t(n){var i;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.pM,t.prev=1,bi(n),t.next=5,this.hl();case 5:xS(i,!1),this.pM=i,t.next=14;break;case 9:return t.prev=9,t.t0=t.catch(1),bi(n),t.next=14,this.UM.hU(this,i);case 14:case"end":return t.stop()}},t,this,[[1,9]])}));return function(n){return t.apply(this,arguments)}}(),i.setState=function(){var t=vn.coroutine(fn.mark(function t(n){var i;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(i=this.nh).Es(vS.ZL,this.gs),t.next=4,i.Jf();case 4:this.nh=n,this.nh.lM(this.Vx),this.nh._M(this.Xx),this.nh.ps(vS.ZL,this.gs);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.aU=function(){var t=vn.coroutine(fn.mark(function t(n){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.pM=n,t.next=3,this.setState(DS(n,this.UM,this.oU,this.XE,this.sU));case 3:this.ys(new Vi("pl"));case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.fU=function(t){if(this.Vo!==t.af){if(!MediaSource.isTypeSupported(t.af))return!1;if(!this.pM.changeType){if(this.oU!==Kl.Xf)return!1;var n=gw(this.Vo),i=gw(t.af);if(n.xu!==i.xu)return!1;if(!function(t,n){var i=t.$A("codecs"),r=n.$A("codecs");if(i&&r){var e=i.split(".",1)[0],u=i.split(".",1)[0];return e===u}return!i&&!r}(n,i))return!1}}return!0},i.vU=function(t){this.Ko=t,this.Vo!==t.af&&(this.Vo=t.af,this.pM.changeType&&this.pM.changeType(this.Vo))},i.hl=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.sU.hl(),this.pM=void 0,t.next=4,this.setState(new pS);case 4:this.ys(new Vi("dU"));case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.es=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.Ts(),t.next=4,this.hl();case 4:this.nh.Es(vS.ZL,this.gs),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}},t,this,[[0,7]])}));return function(){return t.apply(this,arguments)}}(),T(n,[{key:"gg",get:function(){return this.nh.gg}},{key:"Xp",get:function(){return this.Ko}},{key:"af",get:function(){return this.Vo}},{key:"wM",get:function(){return this.nh.wM}},{key:"yM",get:function(){return this.nh.yM}},{key:"Px",get:function(){return this.Vx},set:function(t){this.Vx=t,this.nh.lM(t)}},{key:"Ux",set:function(t){this.Xx=t,this.nh._M(t)}},{key:"LO",get:function(){return this.nh.LO}},{key:"gM",get:function(){return this.nh.gM}}]),n}(Fi);function xS(t,n){var i=t&&t.audioTracks,r=t&&t.videoTracks;if(!i||!r)throw new d("Not supported by browser.");for(var e=0;e<i.length;e++)i[e].enabled!==n&&(i[e].enabled=n);for(var u=0;u<r.length;u++)r[u].selected!==n&&(r[u].selected=n)}var PS=100,BS=1e3,LS=1e4,MS=.01,US=[So.bc,So.Ac,So.Nc,So.Ic,So.lc,So.Ec,vl.Qd,Nd.Ol],FS=function(){function t(t,n){var i=this;this.FM=t,this.XE=n,this.nS=Qd.s_,this.lU=!1,this._U=[],this.gU=0,this.wU=0,this.yU=0,this.mU=0,this.kU=BS,this.pU=function(t){var n=i.XE.w_;t.iM.kR(n)&&i.AU(n)},this.bU=Y(function(){i.TU(vl.Qd)},PS),this.EU=Y(function(){i.TU(So.Tc)},PS),this.SU=function(){i.RU()?i.IU():i.NU()},this.DU=function(){var t=i.gU,n=i.wU,e=i.XE.w_,u=r.rd(),s=t!==e;if(s||!i.RU())return i.gU=e,i.wU=u,void(s&&(i.mU=0,i.kU=BS));if(n>0&&u>n+i.kU){var o=e+i.mU*MS;i.FM.gg.kR(o)&&(i.gU=o,i.wU=u,i.mU++,i.kU=g.max(2*i.kU,LS),i.XE.Zs(o))}},this.XE.ps(vl.Qd,this.bU),this.XE.ps(So.Tc,this.EU),this.XE.ps(US,this.SU)}var n=t.prototype;return n.CU=function(t){this._U.push(t),t.ps(yS.tM,this.pU)},n.Jf=function(){var t=this;this.NU(),this.nS=Qd.s_,this.XE.Es(vl.Qd,this.bU),this.XE.Es(So.Tc,this.EU),this.XE.Es(US,this.SU),this._U.forEach(function(n){return n.Es(yS.tM,t.pU)}),this.lU=!0},n.TU=function(t){if(!this.lU){var n=this.XE.Bl;if(n<=Qd.a_){var i=this.XE.w_,r=this.FM.gg,e=r.RI(i),u=r.oI(e);-1!==e&&(t===vl.Qd&&n<this.nS||t===So.Tc&&n===this.nS)&&u<i+.5&&(i=u),this.AU(i)}t===vl.Qd&&(this.nS=n)}},n.AU=function(t){if(!this.XE.m_){var n=this.sM.SI(this.FM.gg).dI(),i=n.RI(t);if(-1!==i)g.abs(n.uI(i)-n.oI(i))<=.001||this.XE.Zs(n.oI(i))}},n.IU=function(){0===this.yU&&(this.yU=r.hd(this.DU,250))},n.NU=function(){0!==this.yU&&(r.fd(this.yU),this.yU=0),this.wU=0},n.RU=function(){return!this.XE.A_&&!this.XE.T_&&0!==this.XE.b_&&!this.XE.m_&&!this.XE.Bs&&this.XE.Bl>=Qd.c_},T(t,[{key:"sM",get:function(){return this._U.reduce(function(t,n){return t.TI(n.sM)},Yp.WI())}}]),t}();var HS,VS=P.Jt||P.$t,XS=function(){function t(t,n,i,r){void 0===i&&(i=!1),void 0===r&&(r=!1),this.QA=t,this.YA=n,this.OU=i,this.xU=r,this.PU=Ub()}return t.prototype.BU=function(){var t=this.QA,n=this.YA;if(this.OU||this.xU){var i=.001*(Ub()-this.PU);this.OU&&(t+=i),this.xU&&(n+=i)}return t>=n?Yp.WI():new Yp([t,n])},T(t,[{key:"LU",get:function(){return this.OU}},{key:"MU",get:function(){return this.xU}}]),t}();!function(t){t.bM="closed",t.ov="open",t.lc="ended"}(HS||(HS={}));var WS=function(){function t(){}return t.prototype.UU=function(){return new MediaSource},t}(),qS=function(t){function n(n,i,r,e){var u;return void 0===e&&(e=new WS),(u=t.call(this,n,i,r)||this).FU=void 0,u.HU=void 0,u.VU=new XS(0,1/0),u.XU=void 0,u.WU=!1,u.qU=function(){u.zU()},u.GU=function(){u.XE.GU()},u.jU=e,u.ME=u.jU.UU(),u.XE.ps(So.Nc,u.qU),u.QU=new FS(jt(u),u.XE),u}qt(n,t);var i=n.prototype;return i.YU=function(t){if(m(t)||t<0)throw new d("Invalid duration");var n=t===1/0,i=n?9007199254740991:t;if(n&&this.ME.setLiveSeekableRange){var r=g.pow(2,39);this.ME.setLiveSeekableRange(0,r)}this.ZU()?this.ME.duration=i:this.XU=i},i.JU=function(t,n,i,r){this.VU=new XS(t,n,!!i,!!r)},i.qb=function(){var t=vn.coroutine(fn.mark(function t(){var n,i,r,e,u,s;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=hi(this.Ko.$U,function(t){return Qn(t.af,"audio")}),i=hi(this.Ko.$U,function(t){return Qn(t.af,"video")}),n&&(r=new kS,this.QU.CU(r),this.FU=new OS(this,this.XE,n,Kl.Vf,r),this.FU.ps(vS.ZL,this.GU)),i&&(e=new kS,this.QU.CU(e),this.HU=new OS(this,this.XE,i,Kl.Xf,e),this.HU.ps(vS.ZL,this.GU)),t.next=6,this.KU();case 6:if(!this.FU){t.next=12;break}return t.next=9,this.tF(this.FU.af);case 9:return u=t.sent,t.next=12,this.FU.aU(u);case 12:if(!this.HU){t.next=18;break}return t.next=15,this.tF(this.HU.af);case 15:return s=t.sent,t.next=18,this.HU.aU(s);case 18:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.KU=function(){var n=vn.coroutine(fn.mark(function n(){var i;return fn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=URL.createObjectURL(this.ME),n.next=3,t.prototype.K_.call(this,i);case 3:return n.next=5,t.prototype.po.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i.tF=function(){var t=vn.coroutine(fn.mark(function t(n){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Bl===HS.ov){t.next=3;break}return t.next=3,Gv(this.ME,"sourceopen");case 3:if(!(this.FU&&this.FU.yM||this.HU&&this.HU.yM)){t.next=6;break}throw new d("nF");case 6:return t.abrupt("return",this.ME.addSourceBuffer(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.ZU=function(){if(this.Bl!==HS.ov)return!1;var t=this.FU&&this.FU.LO,n=this.HU&&this.HU.LO;return!(t||n)},i.hM=function(){this.WU=!0,this.FU&&this.FU.hM(),this.HU&&this.HU.hM(),this.WU=!1,this.zU()},i.fU=function(t){var n=hi(this.Ko.$U,function(t){return Qn(t.af,"audio")}),i=hi(this.Ko.$U,function(t){return Qn(t.af,"video")});if(this.FU){if(!n)return!1;if(!this.FU.fU(n))return!1}else if(n)return!1;if(this.HU){if(!i)return!1;if(!this.HU.fU(i))return!1}else if(i)return!1;return!0},i.vU=function(t){var n=hi(t.$U,function(t){return Qn(t.af,"audio")}),i=hi(t.$U,function(t){return Qn(t.af,"video")});this.FU&&this.FU.vU(n),this.HU&&this.HU.vU(i),this.Ko=t},i.es=function(){var n=vn.coroutine(fn.mark(function n(){return fn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.FU){n.next=4;break}return n.next=3,this.FU.es();case 3:this.FU=void 0;case 4:if(!this.HU){n.next=8;break}return n.next=7,this.HU.es();case 7:this.HU=void 0;case 8:return this.ca.src&&URL.revokeObjectURL(this.ca.src),this.XE.Es(So.Nc,this.qU),this.QU.Jf(),n.next=13,t.prototype.es.call(this);case 13:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i.AM=function(){this.WU||this.zU()},i.zU=function(){this.iF&&this.ZU()&&(this.ME.endOfStream(),this.XU=void 0,this.ys(new Vi(uS.kD)))},i.cU=function(){var t=vn.coroutine(fn.mark(function t(n){var i,r;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.tF(n.af);case 3:return i=t.sent,t.next=6,n.aU(i);case 6:t.next=14;break;case 8:return t.prev=8,t.t0=t.catch(0),(r=this.rF).push(n),t.next=14,this.eF(r);case 14:case"end":return t.stop()}},t,this,[[0,8]])}));return function(n){return t.apply(this,arguments)}}(),i.hU=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!P.nn){t.next=3;break}throw new d("Not supported in Firefox");case 3:this.ME.removeSourceBuffer(i),t.next=11;break;case 6:return t.prev=6,t.t0=t.catch(0),r=this.rF.filter(function(t){return t!==n}),t.next=11,this.eF(r);case 11:case"end":return t.stop()}},t,this,[[0,6]])}));return function(n,i){return t.apply(this,arguments)}}(),i.eF=function(){var t=vn.coroutine(fn.mark(function t(n){var i,r,e,u,s,o;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.XE.uF(),i=0,r=this.rF;case 2:if(!(i<r.length)){t.next=10;break}if(!(e=r[i])){t.next=7;break}return t.next=7,e.hl();case 7:i++,t.next=2;break;case 10:return this.ME=this.jU.UU(),t.next=13,this.KU();case 13:u=0;case 14:if(!(u<n.length)){t.next=24;break}return s=n[u],t.next=18,this.tF(s.af);case 18:return o=t.sent,t.next=21,s.aU(o);case 21:u++,t.next=14;break;case 24:this.XE.sF();case 25:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.eU=function(){this.ZU()&&(this.zL?this.zU():void 0!==this.XU&&(this.ME.duration=this.XU,this.XU=void 0))},n.qL=function(t){if("undefined"==typeof MediaSource)return!1;if("function"!=typeof MediaSource.isTypeSupported)return!1;for(var n=0,i=t.$U;n<i.length;n++){var r=i[n];if(!MediaSource.isTypeSupported(r.af))return!1}return!0},T(n,[{key:"oF",get:function(){return this.FU}},{key:"aF",get:function(){return this.HU}},{key:"rF",get:function(){var t=[];return this.FU&&this.FU.gM&&t.push(this.FU),this.HU&&this.HU.gM&&t.push(this.HU),t}},{key:"y_",get:function(){if(this.XU)return this.XU;var t=this.ME.duration;return 9007199254740991===t?1/0:t}},{key:"gg",get:function(){return VS?function(t){var n=[];if(t.oF&&t.oF.gM&&n.push(t.oF.gg),t.aF&&t.aF.gM&&n.push(t.aF.gg),0===n.length)return Yp.WI();for(var i=0,r=0;r<n.length;r++){var e=n[r];e.vl>0&&(i=g.max(i,e.oI(e.vl-1)))}for(var u=t.zL,s=new Yp([0,i],[!0,u]),o=0;o<n.length;o++){var a=n[o];u&&a.vl>0&&(a=a.TI(new Yp([a.oI(a.vl-1),i],[!0,!0]))),s=s.yI(a)}return s}(this):Yp.HI(this.ca.buffered)}},{key:"GL",get:function(){if(this.FU&&this.FU.gM)return this.FU.gg}},{key:"jL",get:function(){if(this.HU&&this.HU.gM)return this.HU.gg}},{key:"Ng",get:function(){return this.VU.BU().yI(new Yp([0,this.y_],[!0,!0]))}},{key:"zL",get:function(){return(!this.FU||!this.FU.gM||this.FU.zL())&&(!this.HU||!this.HU.gM||this.HU.zL())}},{key:"Bl",get:function(){return this.ME.readyState}},{key:"iF",get:function(){if(!this.zL)return!1;var t=this.gg;return 0!==t.vl&&t.uI(t.vl-1)<=this.XE.w_}}]),n}(dS),zS=function(t){function n(n,i,r,e,u,s,o,a){var c;return(c=t.call(this)||this).jI=n,c.cF=i,c.hF=r,c.YI=e,c.JI=u,c.QI=s,c.ZI=o,c.$I=a,c}qt(n,t);var i=n.prototype;return i.Y_=function(){this.YI||(this.YI=!0,this.ys(new ll(this.w_)))},i.Q_=function(){this.YI&&(this.YI=!1,this.ys(new _l(this.w_)))},T(n,[{key:"w_",get:function(){return this.jI},set:function(t){this.w_!==t&&(this.jI=t,this.JI=!0,this.ys(new Tl(this.w_)))}},{key:"y_",get:function(){return this.cF}},{key:"m_",get:function(){return this.hF}},{key:"A_",get:function(){return this.YI}},{key:"T_",get:function(){return this.JI}},{key:"p_",get:function(){return this.QI},set:function(t){this.p_!==t&&(this.QI=t,this.ys(new Sl(this.w_,this.R_)))}},{key:"b_",get:function(){return this.ZI},set:function(t){this.b_!==t&&(this.ZI=t,this.ys(new kl(this.w_,this.b_)))}},{key:"R_",get:function(){return this.$I},set:function(t){this.R_!==t&&(this.$I=t,this.ys(new Sl(this.w_,this.R_)))}}]),n}(Fi),GS=function(t){function n(n){var i;return(i=t.call(this)||this).nS=Qd.s_,i.fF=function(){i.vF()},i.XE=n,i}qt(n,t);var i=n.prototype;return i.dF=function(t){this.nS!==t&&(this.nS=t,this.ys(new Nl(this.XE.w_,t)))},i.vF=function(){this.dF(this.kP())},i.hl=function(){this.dF(Qd.s_)},i.es=function(){this.Ts()},T(n,[{key:"Bl",get:function(){return this.kP()}}]),n}(Fi),jS=["emptied","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","timeupdate","progress","seeking","seeked"],QS=function(t){function n(n){var i;i=t.call(this,n)||this;for(var r=0;r<jS.length;r++){var e=jS[r];i.XE.nR.addEventListener(e,i.fF)}return i}qt(n,t);var i=n.prototype;return i.kP=function(){var t=this.XE.nR.readyState;return t>Qd.a_&&this.XE.lF?Qd.a_:(this.XE.nR.seeking&&t>Qd.o_&&(t=Qd.o_),t)},i.es=function(){for(var n=0;n<jS.length;n++){var i=jS[n];this.XE.nR.removeEventListener(i,this.fF)}t.prototype.es.call(this)},n}(GS),YS=function(t){function n(n){var i;(i=t.call(this,n)||this).XE.ps(So.Nc,i.fF);for(var r=0;r<jS.length;r++){var e=jS[r];i.XE.nR.addEventListener(e,i.fF)}return i}qt(n,t);var i=n.prototype;return i.kP=function(){if(this.XE.nR.readyState===Qd.s_)return Qd.s_;var t=this._F(),n=t?t.oI-t.uI:0;if(!t)return Qd.o_;var i=this.XE.b_;return this.gF()||n>=3*i?Qd.h_:n>=3?Qd.c_:Qd.a_},i._F=function(){var t=this.XE.w_,n=this.XE.gg.bI(.04),i=n.RI(t);if(!(i<0))return{uI:t,oI:n.oI(i)}},i.gF=function(){if(this.XE.m_)return!0;var t=this.XE.y_,n=this._F();return!!n&&t-n.oI<=1/6},i.es=function(){this.XE.Es(So.Nc,this.fF);for(var n=0;n<jS.length;n++){var i=jS[n];this.XE.nR.removeEventListener(i,this.fF)}t.prototype.es.call(this)},n}(GS),ZS=[vl.Qd,So.bc,So.Ac,So.Nc,So.Ic,So.lc,Nd.Ol],JS=function(t){function n(n){var i;return(i=t.call(this,n)||this).wF=!1,i.yF=function(){i.wF=!0,i.bo()},i.ca=n.nR,i.ca.addEventListener(vl.g_,i.yF),i}qt(n,t);var i=n.prototype;return i.mF=function(){return this.wF&&t.prototype.mF.call(this)},i.bo=function(){this.wF&&(this.ca.paused||this.ca.ended||this.ca.error)&&(this.wF=!1),t.prototype.bo.call(this)},i.hl=function(){t.prototype.hl.call(this),this.wF=!1},i.es=function(){this.ca.removeEventListener(vl.g_,this.yF),t.prototype.es.call(this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).kF=!1,i.MO=function(){i.bo()},i.KE=n,i.KE.ps(ZS,i.MO),i}qt(n,t);var i=n.prototype;return i.pF=function(){return this.KE.Bl<Qd.c_},i.mF=function(){return!this.KE.T_&&!(this.KE.A_||this.KE.m_||this.KE.Bs||this.pF())},i.bo=function(){var t=this.kF;this.kF=this.mF(),!t&&this.kF&&this.ys(new Tp(this.KE.w_))},i.hl=function(){this.kF=!1},i.es=function(){this.Ts(),this.KE.Es(ZS,this.MO)},n}(Fi)),$S=function(t){function n(n){var i;return(i=t.call(this,Nd.Ol)||this).Bs=n,i}return qt(n,t),n}(Vi);function KS(t,n,i,r,e,u,s){void 0===e&&(e=!1),void 0===u&&(u=0),void 0===s&&(s=t.length);for(var o=u,a=s-1;o<=a;){var c=o+(a-o>>1),h=r(i(t[c]),n);if(h<0)o=c+1;else if(h>0)a=c-1;else{if(!(e&&c>u&&0===r(i(t[c-1]),n)))return c;a=c-1}}return~o}function tR(t,n){return t.Zg<=n&&t.Jg>n}function nR(t,n){return function(t,n){return V_(t.Zg,n.Zg,R_)}(t,n)||function(t,n){return V_(t.Jg,n.Jg,R_)}(t,n)}function iR(t,n){var i=KS(t,n,Q,nR,!0);if(i<0)return i;for(;i<t.length&&nR(n,t[i])===M_.Ew;i++)if(t[i]._w(n))return i;return-(i+1)}function rR(t){var n=t.Bd;if(!n)return-1;if(t instanceof N_)return n.AF(t);var i=n.Ll;if(!i)return-1;var r=iR(i.fl,t);return r>=0?r:-1}function eR(t,n){var i=function(t,n,i){for(var r=t.length,e=n.length,u=0,s=0,o=[],a=[];u<r&&s<e;){var c=t[u],h=n[s];c===h?(u++,s++):i(h,c)<=0?(o.push(h),s++):(a.push(c),u++)}for(;u<r;)a.push(t[u]),u++;for(;s<e;)o.push(n[s]),s++;return{bF:o,TF:a}}(t,n,nR);return function(t,n){for(var i=n.length,r=0;r<i;r++)t[r]=n[r];t.length=i}(t,n),i}var uR=function(){function t(t){this.Od=void 0,this.EF=t}var n=t.prototype;return n.Pd=function(){return function(t){for(var n=[],i=0;i<t.vl;i++)n[i]=t.Ws(i).xd;return n.item=function(n){var i=0|n,r=t.Ws(i);return r&&r.xd||void 0},_.defineProperty(n,"constructor",{value:E_}),n}(this)},n.Og=function(t){for(var n=this.EF,i=n.length-1;i>=0;i-=1){var r=n[i];if(t._w(r))return!0}return!1},n.Ws=function(t){return this.EF[t]},T(t,[{key:"fl",get:function(){return this.EF}},{key:"vl",get:function(){return this.EF.length}},{key:"xd",get:function(){if(this.Od){var t=this.EF;this.Od.length=t.length;for(var n=0;n<t.length;n++)this.Od[n]=t[n].xd}else this.Od=this.Pd();return this.Od}}]),t}(),sR=function(t){function n(n,i){var r;return(r=t.call(this,Kv.Qd)||this).Bd=n,r.Bl=i,r}return qt(n,t),n.prototype.Pd=function(){return new oR(this.Bd.xd,Ld(this.Bl))},n}(td),oR=function(t){function n(n,i){var r;return(r=t.call(this,"readystatechange")||this).track=n,r.readyState=i,r}return qt(n,t),n}(nd),aR=function(t){function n(n){var i;return(i=t.call(this,Kv.Zd)||this).Bd=n,i}return qt(n,t),n.prototype.Pd=function(){return new cR(this.Bd.xd)},n}(td),cR=function(t){function n(n){var i;return(i=t.call(this,"typechange")||this).track=n,i}return qt(n,t),n}(nd),hR=function(t){function n(n){var i;return(i=t.call(this,Kv.Ld)||this).Yg=n,i}return qt(n,t),n.prototype.Pd=function(){return new fR(this.Yg.xd)},n}(td),fR=function(t){function n(n){var i;return(i=t.call(this,"addcue")||this).cue=n,i}return qt(n,t),n}(nd),vR=function(t){function n(n){var i;return(i=t.call(this,Kv.Ud)||this).Yg=n,i}return qt(n,t),n.prototype.Pd=function(){return new dR(this.Yg.xd)},n}(td),dR=function(t){function n(n){var i;return(i=t.call(this,"removecue")||this).cue=n,i}return qt(n,t),n}(nd),lR=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this)||this).Lg=String(_R++),o.Bg=u_(),o.SF=!1,o.bN=Id.Nl,o.RF=f_.NONE,o.IF=void 0,o.EF=[],o.NF=[],o.DF=0,o.CF=0,o.OF=s||"",o.xF=n,o.PF=r||"",o.SF=Boolean(e),o.ba=u||v_.DEFAULT,o.Mg=i||"",o.BF=new uR(o.EF),o.LF=new uR(o.NF),o}qt(n,t);var i=n.prototype;return i.MF=function(t){return hi(this.BF.fl,function(n){return n.Al===t})},i.Pd=function(){return xd(this)},i.CN=function(t){var n=Cd(t);n!==this.Pl&&(this.bN=n,n===Id.Nl&&(this.NF.forEach(function(t){t.gw=!1}),gi(this.NF),this.CF=0))},i.yb=function(t){if(t&&!t.Bd){var n=iR(this.Ll.fl,t);if(!(n>=0)){t.Bd=this;var i=-(n+1);this.EF.splice(i,0,t),this.UF(i),t.hw=i,i<this.CF&&(this.CF=i),this.ys(new hR(t))}}},i.FF=function(t){if(t&&t.Bd===this){var n=this.AF(t);if(!(n<0)){t.gw=!1;var i=this.NF,r=iR(i,t);r>=0&&di(i,r),di(this.EF,n),this.UF(n),t.hw=-1,this.CF>n&&--this.CF,this.ys(new vR(t))}}},i.HF=function(t,n){var i=this.NF,r=this.EF,e=this.CF,u=!1;n&&(e=0);for(var s=i.length-1;s>=0;s--){tR(i[s],t)||(u=!0,di(i,s))}for(;e<r.length&&r[e].Zg<=t;){var o=r[e];tR(o,t)&&!li(i,o)&&(u=!0,i.push(o)),e++}u&&oi(i,nR),this.CF=e},i.AF=function(t){return(-1===t.hw||t.hw>=this.DF)&&this.VF(),t.hw},i.VF=function(){for(var t=this.EF,n=this.DF;n<t.length;n++)t[n].hw=n;this.DF=t.length},i.UF=function(t){t<this.DF&&(this.DF=t)},i.Jf=function(){this.Ts();for(var t=this.EF.slice(),n=0;n<t.length;n++){t[n].Jf()}gi(this.EF),gi(this.NF)},T(n,[{key:"Ml",get:function(){return this.LF}},{key:"Ll",get:function(){return this.BF}},{key:"kb",get:function(){return this.SF},set:function(t){this.SF=t}},{key:"xd",get:function(){return this.Od||(this.Od=this.Pd()),this.Od}},{key:"Al",get:function(){return this.Lg}},{key:"bl",get:function(){return this.Bg}},{key:"xl",get:function(){return this.OF},set:function(t){this.OF=t}},{key:"Tl",get:function(){return this.xF}},{key:"El",get:function(){return this.Mg},set:function(t){t!==this.Mg&&(this.Mg=t,this.ys(new i_(this)))}},{key:"Sl",get:function(){return this.PF}},{key:"Pl",get:function(){return this.bN},set:function(t){this.CN(t),this.ys(new od(this))}},{key:"Bl",get:function(){return this.RF},set:function(t){this.RF!==t&&(this.RF=t,this.ys(new sR(this,this.RF)))}},{key:"Ul",get:function(){return this.IF},set:function(t){this.IF=t}},{key:"xu",get:function(){return this.ba},set:function(t){this.ba!==t&&(this.ba=t,this.ys(new aR(this)))}}]),n}(Fi),_R=0;var gR=function(t){function n(n){var i;(i=t.call(this)||this).XF=[],i.WF=function(t){i.ol(t.Bd)},i.qF=function(t){var n=t.Bd;i.zF(n)||i.al(n)};for(var r=0;r<n.length;r++){var e=n[r];i.GF(e)}return i}qt(n,t);var i=n.prototype;return i.GF=function(t){this.XF.push(t);for(var n=0,i=t.fl;n<i.length;n++){var r=i[n];this.ol(r)}this.jF(t)},i.QF=function(t){vi(this.XF,t),this.YF(t);for(var n=0,i=t.fl;n<i.length;n++){var r=i[n];this.zF(r)||this.al(r)}},i.zF=function(t){for(var n=0,i=this.XF;n<i.length;n++){if(i[n].cl(t))return!0}return!1},i.jF=function(t){t.ps(Qv.Id,this.WF),t.ps(Qv.Dd,this.qF)},i.YF=function(t){t.Es(Qv.Id,this.WF),t.Es(Qv.Dd,this.qF)},i.Jf=function(){for(;this.XF.length>0;)this.QF(this.XF[0]);t.prototype.Jf.call(this)},i.Pd=function(){return Bd(this)},n}(sd),wR=function(t){function n(n,i){var r;return(r=t.call(this,g_.zg,n)||this).Ty=i,r}return qt(n,t),n.prototype.Pd=function(){return new yR(this.Yg.xd)},n}(A_),yR=function(t){function n(n){return t.call(this,w_.zg,n)||this}return qt(n,t),n}(b_),mR=function(t){function n(n,i){var r;return(r=t.call(this,g_.jg,n)||this).Ty=i,r}return qt(n,t),n.prototype.Pd=function(){return new kR(this.Yg.xd)},n}(A_),kR=function(t){function n(n){return t.call(this,w_.jg,n)||this}return qt(n,t),n}(b_),pR=function(t){function n(n){var i;return(i=t.call(this,Kv.Hd)||this).Yg=n,i}return qt(n,t),n.prototype.Pd=function(){return new AR(this.Yg.xd)},n}(td),AR=function(t){function n(n){var i;return(i=t.call(this,"entercue")||this).cue=n,i}return qt(n,t),n}(nd),bR=function(t){function n(n){var i;return(i=t.call(this,Kv.Xd)||this).Yg=n,i}return qt(n,t),n.prototype.Pd=function(){return new TR(this.Yg.xd)},n}(td),TR=function(t){function n(n){var i;return(i=t.call(this,"exitcue")||this).cue=n,i}return qt(n,t),n}(nd),ER=function(t){function n(n){var i;return(i=t.call(this)||this).ow=void 0,i.Od=void 0,i.aw=!1,i.cw="",i.ZF=function(){i.gw=!0},i.JF=function(){i.gw=!1},i.KF=n,i.KF.addEventListener("enter",i.ZF),i.KF.addEventListener("exit",i.JF),i}qt(n,t);var i=n.prototype;return i.Pd=function(){return T_(this)},i._w=function(t){return this===t||_d(this,t)&&I_(this,t)},i.Jf=function(){this.Ts(),this.KF.removeEventListener("enter",this.ZF),this.KF.removeEventListener("exit",this.JF)},T(n,[{key:"Zg",get:function(){return this.KF.startTime},set:function(t){this.KF.startTime=t}},{key:"Jg",get:function(){return this.KF.endTime},set:function(t){this.KF.endTime=t}},{key:"$g",get:function(){return this.KF.text},set:function(t){this.KF.text=t+""}},{key:"yw",get:function(){return!!this.KF.pauseOnExit},set:function(t){this.KF.pauseOnExit=!!t}},{key:"Bd",get:function(){return this.ow},set:function(t){this.ow=t}},{key:"Al",get:function(){return this.KF.id||""},set:function(t){this.KF.id=t||""}},{key:"xd",get:function(){return this.Od||(this.Od=this.Pd()),this.Od}},{key:"ww",get:function(){return this.cw},set:function(t){this.cw=t}},{key:"gw",get:function(){return this.aw},set:function(t){this.gw!==t&&(this.aw=t,t?(this.ys(new wR(this,this.Zg)),this.ow&&this.ow.ys(new pR(this))):(this.ys(new mR(this,this.Jg)),this.ow&&this.ow.ys(new bR(this))))}}]),n}(Ud),SR=function(t){function n(n){var i;return(i=t.call(this,Kv.qd)||this).Bd=n,i}return qt(n,t),n.prototype.Pd=function(){return new RR(this.Bd.xd)},n}(td),RR=function(t){function n(n){var i;return(i=t.call(this,"cuechange")||this).track=n,i}return qt(n,t),n}(nd);function IR(t){if(t){var n=t.THEOplayerVTTRegion;return n||(n=new NR(t),t.THEOplayerVTTRegion=n),n}}var NR=function(){function t(t){this.Od=void 0,this.tH=t}return T(t,[{key:"nH",get:function(){return this.tH}},{key:"Al",get:function(){return this.tH.id||""}},{key:"Ka",get:function(){return+this.tH.width||0},set:function(t){this.tH.width=t||0}},{key:"mw",get:function(){return+this.tH.lines||0},set:function(t){this.tH.lines=t||0}},{key:"kw",get:function(){return+this.tH.regionAnchorX||0},set:function(t){this.tH.regionAnchorX=t||0}},{key:"pw",get:function(){return+this.tH.regionAnchorY||0},set:function(t){this.tH.regionAnchorY=t||0}},{key:"bw",get:function(){return+this.tH.viewportAnchorX||0},set:function(t){this.tH.viewportAnchorX=t||0}},{key:"Tw",get:function(){return+this.tH.viewportAnchorY||0},set:function(t){this.tH.viewportAnchorY=t||0}},{key:"Aw",get:function(){return this.tH.scroll||""}},{key:"xd",get:function(){return this.Od||(this.Od=L_(this)),this.Od}}]),t}(),DR=function(t){function n(n){return t.call(this,n)||this}return qt(n,t),T(n,[{key:"sw",get:function(){return this.KF.vertical||""},set:function(t){this.KF.vertical=t||""}},{key:"uw",get:function(){return!!this.KF.snapToLines},set:function(t){this.KF.snapToLines=!!t}},{key:"tw",get:function(){return this.KF.line},set:function(t){this.KF.line=t}},{key:"js",get:function(){return+this.KF.size},set:function(t){this.KF.size=xt(t,0,100)}}]),n}(ER),CR=function(t){function n(n){return t.call(this,n)||this}return qt(n,t),n.prototype._w=function(n){return this===n||_d(this,n)&&t.prototype._w.call(this,n)&&D_(this,n)},T(n,[{key:"ew",get:function(){return IR(this.KF.region)}},{key:"nw",get:function(){return this.KF.lineAlign||"start"},set:function(t){this.KF.lineAlign=t||"start"}},{key:"iw",get:function(){return this.KF.position},set:function(t){this.KF.position=t}},{key:"rw",get:function(){return this.KF.positionAlign||"auto"},set:function(t){this.KF.positionAlign=t||"auto"}},{key:"Kg",get:function(){return this.KF.align||"center"},set:function(t){this.KF.align=t||"center"}},{key:"xd",get:function(){return this.Od||(this.Od=S_(this)),this.Od}}]),n}(DR),OR=function(t){function n(n){return t.call(this,n)||this}return qt(n,t),n.prototype._w=function(n){return this===n||_d(this,n)&&t.prototype._w.call(this,n)&&D_(this,n)},T(n,[{key:"ew",get:function(){return IR(this.nH)}},{key:"nH",get:function(){return function(t,n){if(void 0!==n){var i=t&&t.regions;return i&&i.getRegionById(n)||void 0}}(this.KF.track,this.KF.regionId)}},{key:"nw",get:function(){return"middle"===(t=this.KF.lineAlign||"start")?"center":t;var t},set:function(t){var n;this.KF.lineAlign="center"===(n=t||"start")?"middle":n}},{key:"iw",get:function(){return this.KF.position},set:function(t){var n,i;this.KF.position=(n=t,i=this.Kg,p_(n,i))}},{key:"rw",get:function(){return t=this.KF.positionAlign||"middle",m_[t];var t},set:function(t){var n,i;this.KF.positionAlign=(n=t||"center",i=this.Kg,y_[k_(n,i)])}},{key:"Kg",get:function(){return"middle"===(t=this.KF.align||"middle")?"center":t;var t},set:function(t){var n;this.KF.align="center"===(n=t||"center")?"middle":n}},{key:"xd",get:function(){return this.Od||(this.Od=S_(this)),this.Od}}]),n}(DR);function xR(t,n){return t.$g===n.$g}function PR(t,n,i){for(var r=t[n].Zg,e=n;e>=0&&t[e].Zg===r;e--)t[e].Jg=i}function BR(t){return T_(t)}var LR,MR,UR=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).iH=i,r}return qt(n,t),n.prototype._w=function(n){return this===n||_d(this,n)&&t.prototype._w.call(this,n)&&xR(this,n)},T(n,[{key:"$g",get:function(){return this.iH}},{key:"xd",get:function(){return this.Od||(this.Od=BR(this)),this.Od}}]),n}(ER);function FR(t){switch(t){case LR.ISO_8859_1:case LR.UTF16_BOM:case LR.UTF16:case LR.UTF8:return!0}return!1}function HR(t){switch(t){case LR.ISO_8859_1:return Lr;case LR.UTF16_BOM:return Fr;case LR.UTF16:return Hr;case LR.UTF8:return jr}}function VR(t,n){var i=n.$s,r=t.byteLength,e=Kr(t);return n.Ys(r-i),ie(e,i,r).buffer}function XR(t,n){return{id:t||"",data:n instanceof ArrayBuffer?n:void 0}}function WR(t,n,i){var r=pr(t,n);if(FR(r)){var e=HR(r);return{id:i,language:Pr(t,n,3),description:e(t,n),text:e(t,n)}}}function qR(t,n,i){var r=pr(t,n);if(FR(r)){var e=HR(r);return{id:i,mimeType:Lr(t,n),fileName:e(t,n),description:e(t,n),data:VR(t,n)}}}function zR(t,n,i){var r=pr(t,n);if(FR(r)){for(var e=HR(r),u=[];n.$s<t.byteLength;)u.push({involvement:e(t,n),involvee:e(t,n)});return{id:i,entries:u}}}function GR(t,n,i){var r=pr(t,n);if(FR(r)){for(var e=HR(r),u=Pr(t,n,3),s=pr(t,n),o=pr(t,n),a=e(t,n),c=!1,h=[];n.$s<t.byteLength;){var f=void 0;if(r===LR.UTF16_BOM){var v=Ur(t,n);void 0===v?v=c:c=v,f=Hr(t,n,v)}else f=e(t,n);if(!f||n.$s+4>t.byteLength)break;h.push({text:f,timestamp:Nr(t,n)})}return{id:i,language:u,format:s,contentType:o,description:a,entries:h}}}function jR(t,n,i){return{id:i,ownerIdentifier:Lr(t,n),identifier:VR(t,n)}}function QR(t,n,i){var r=pr(t,n);if(FR(r)){var e=HR(r);return{id:i,language:Pr(t,n,3),description:e(t,n),text:e(t,n)}}}function YR(t,n,i){var r=pr(t,n);if(FR(r))return{id:i,text:HR(r)(t,n)}}function ZR(t,n,i){return{id:i,url:Lr(t,n)}}function JR(t,n,i){var r=pr(t,n);if(FR(r)){var e=HR(r);return{id:i,description:e(t,n),text:e(t,n)}}}function $R(t,n,i){var r=pr(t,n);if(FR(r))return{id:i,description:HR(r)(t,n),url:Lr(t,n)}}function KR(t,n,i){switch(i){case"COM":return WR(t,n,i);case"GEO":return qR(t,n,i);case"IPL":return zR(t,n,i);case"PIC":return function(t,n,i){var r=pr(t,n);if(FR(r)){var e,u,s=HR(r),o=Pr(t,n,3),a=pr(t,n),c=s(t,n);return"--\x3e"===o?(e=o,u=Lr(t,n)):(e="image/"+o.toLowerCase(),u=VR(t,n)),{id:i,mimeType:e,pictureType:a,description:c,data:u}}}(t,n,i);case"SLT":return GR(t,n,i);case"TXX":return JR(t,n,i);case"UFI":return jR(t,n,i);case"ULT":return QR(t,n,i);case"WXX":return $R(t,n,i);default:if("T"===i.charAt(0))return YR(t,n,i);if("W"===i.charAt(0))return ZR(t,n,i)}}function tI(t,n,i){switch(i){case"APIC":return function(t,n,i){var r=pr(t,n);if(FR(r)){var e=HR(r),u=Lr(t,n);return{id:i,mimeType:u,pictureType:pr(t,n),description:e(t,n),data:"--\x3e"===u?Lr(t,n):VR(t,n)}}}(t,n,i);case"COMM":return WR(t,n,i);case"COMR":return function(t,n,i){var r=pr(t,n);if(FR(r)){var e,u,s=HR(r),o=Lr(t,n),a=Pr(t,n,8),c=Lr(t,n),h=pr(t,n),f=s(t,n),v=s(t,n);return n.$s<t.byteLength&&(e=Lr(t,n)||"image/",u=VR(t,n)),{id:i,price:o,validUntil:a,contactURL:c,receivedAs:h,nameOfSeller:f,description:v,pictureMimeType:e,sellerLogo:u}}}(t,n,i);case"GEOB":return qR(t,n,i);case"IPLS":return zR(t,n,i);case"PRIV":return function(t,n,i){return{id:i,ownerIdentifier:Lr(t,n),data:VR(t,n)}}(t,n,i);case"POSS":return function(t,n,i){return{id:i,format:pr(t,n),position:Nr(t,n)}}(t,n,i);case"SYLT":return GR(t,n,i);case"TXXX":return JR(t,n,i);case"UFID":return jR(t,n,i);case"USER":return function(t,n,i){var r=pr(t,n);if(FR(r)){var e=HR(r);return{id:i,language:Pr(t,n,3),text:e(t,n)}}}(t,n,i);case"USLT":return QR(t,n,i);case"WXXX":return $R(t,n,i);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return YR(t,n,i);default:var r=i.charAt(0);if("T"===r)return YR(t,n,i);if("W"===r)return ZR(t,n,i)}}!function(t){t[t.ISO_8859_1=0]="ISO_8859_1",t[t.UTF16_BOM=1]="UTF16_BOM",t[t.UTF16=2]="UTF16",t[t.UTF8=3]="UTF8"}(LR||(LR={})),function(t){t[t.V22=2]="V22",t[t.V23=3]="V23",t[t.V24=4]="V24"}(MR||(MR={}));var nI=10;function iI(t,n){return(127&pr(t,n))<<21|(127&pr(t,n))<<14|(127&pr(t,n))<<7|127&pr(t,n)}function rI(t,n){switch(t){case MR.V24:return{rH:kr(n,0),eH:kr(n,1),uH:kr(n,2),sH:kr(n,3)};case MR.V23:return{rH:kr(n,0),eH:kr(n,1),uH:kr(n,2)};case MR.V22:return{rH:kr(n,0),oH:kr(n,1)}}}function eI(t,n,i){switch(i.Sk){case MR.V23:i.Rk.eH&&function(t,n){var i=n.$s,r=Nr(t,n)+4,e=32768&Rr(t,n);n.Zs(i+r),e&&Nr(t,n)}(t,n);break;case MR.V24:i.Rk.eH&&function(t,n){var i=n.$s,r=iI(t,n);n.Zs(i+r)}(t,n)}}function uI(t,n){if(t.byteLength-n.$s<nI)return null;if(73!==pr(t,n)||68!==pr(t,n)||51!==pr(t,n))return null;var i=pr(t,n),r=pr(t,n);if(!function(t){switch(t){case MR.V22:case MR.V23:case MR.V24:return!0}return!1}(i))return null;var e=pr(t,n),u=iI(t,n);return{Sk:i,aH:r,Rk:rI(i,e),cH:u}}function sI(t,n,i){switch(i.Sk){case MR.V22:return function(t,n,i){return{Al:Pr(t,n,3),js:Sr(t,n,3)}}(t,n);case MR.V23:return function(t,n,i){var r=Pr(t,n,4),e=Nr(t,n);pr(t,n);var u=pr(t,n);return{Al:r,js:e,Rk:{oH:kr(u,0),hH:kr(u,1),groupingIdentity:kr(u,2)}}}(t,n);case MR.V24:return function(t,n,i){var r=Pr(t,n,4),e=iI(t,n);pr(t,n);var u=pr(t,n);return{Al:r,js:e,Rk:{groupingIdentity:kr(u,1),oH:kr(u,4),hH:kr(u,5),rH:kr(u,6),fH:kr(u,7)}}}(t,n)}}function oI(t){for(var n=new k(t.byteLength),i=0,r=0;r<t.byteLength;r++){var e=t.getUint8(r);255===e&&r++,n[i]=e,i++}return new DataView(n,0,i)}function aI(t,n){var i=n||new ee,r=uI(t,i);return r?{pk:r,vH:function(t,n,i){var r=[],e=n.$s,u=Jr(t,e,e+i.cH),s=new ee;switch(n.Ys(i.cH),i.Sk){case MR.V22:case MR.V23:i.Rk.rH&&(u=oI(u))}eI(t,n,i);for(;s.$s<u.byteLength;)r.push(cI(u,s,i));return r}(t,i,r)}:null}function cI(t,n,i){var r,e,u=sI(t,n,i),s=n.$s,o=Jr(t,s,s+u.js);switch(n.Ys(u.js),i.Sk){case MR.V22:var a=u;r=KR(e=o,new ee,a.Al);break;case MR.V23:var c=u,h=new ee;!function(t,n,i){var r,e,u,s=i.Rk;s.oH&&(r=Nr(t,n)),s.hH&&(e=pr(t,n)),s.groupingIdentity&&(u=pr(t,n))}(o,h,c),r=tI(e=Jr(o,h.$s,o.byteLength),new ee,c.Al);break;case MR.V24:var f=u,v=new ee;f.Rk.rH&&(o=oI(o)),function(t,n,i){var r,e,u,s,o=i.Rk;o.groupingIdentity&&(r=pr(t,n)),o.oH&&(e=Nr(t,n)),o.hH&&(u=pr(t,n)),o.fH&&(s=iI(t,n))}(o,v,f),r=tI(e=Jr(o,v.$s,o.byteLength),new ee,f.Al)}if(!r){var d=re(Kr(e));r=XR(u.Al,d.buffer)}return r}function hI(t){return function(t,n,i){return YR(t,n,i)}(new DataView(t.data),new ee,t.key)}function fI(t){switch(t.key){case"APIC":case"PIC":return function(t){return{id:t.key,mimeType:t.type,pictureType:16,description:t.info,data:t.data}}(t);case"GEOB":case"GEO":return function(t){return{id:t.key,mimeType:t.type,fileName:t.name,description:t.info,data:t.data}}(t);case"PRIV":return function(t){return{id:t.key,ownerIdentifier:t.info,data:t.data}}(t);case"TXXX":case"TXX":return function(t){return{id:t.key,description:t.info,text:t.data}}(t);case"WXXX":case"WXX":return function(t){return{id:t.key,description:t.info,url:t.data}}(t);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return hI(t);default:var n=t.key.charAt(0);if("T"===n)return function(t){return{id:t.key,text:t.data}}(t);if("W"===n)return function(t){return{id:t.key,url:t.data}}(t)}return function(t){return XR(t.key,t.data)}(t)}var vI="org.id3";var dI=function(t){function n(n,i,r){var e;return void 0===r&&(r=!0),(e=t.call(this)||this).EF=[],e.NF=[],e.bN=Id.Nl,e.RF=f_.NONE,e.IF=void 0,e.ba=v_.DEFAULT,e.dH=function(){e.lH(),e.Pg.removeEventListener("cuechange",e.dH)},e._H=function(){e.Pl!==Id.Nl&&(e.gH(),e.HF(),e.EF.length&&e.wH(f_.LOADING))},e.yH=function(){e.wH(f_.LOADED)},e.mH=function(){e.wH(f_.ERROR)},e.Pg=n,e.kH=r,e.Pg.addEventListener("cuechange",e.dH),e.Pg.addEventListener("cuechange",e._H),e.pH=i,e.pH&&(e.IF=no(e.pH.src),e.pH.addEventListener("load",e.yH),e.pH.addEventListener("error",e.mH)),e.Bg=u_(),e.Mg=n.label||"",e.BF=new uR(e.EF),e.LF=new uR(e.NF),e.Pl=e.AH,Di(function(){e._H(),e.wH(f_.NONE)}),e}qt(n,t);var i=n.prototype;return i.Pd=function(){return xd(this)},i.lH=function(){var t=this.Pl;this.bH||t!==Id.Cl?this.AH=t:this.AH=Id.Dl},i.TH=function(){var t=this.Pl,n=this.AH;t!==n&&(this.bH||t!==Id.Cl||n!==Id.Dl)&&("metadata"===this.Tl&&n===Id.Nl?this.Pl=t:this.Pl=n)},i.vF=function(t){this.RF!==t&&(this.RF=t,this.ys(new sR(this,t)))},i.wH=function(t){var n=g.max(this.RF,this.EH,t);this.vF(n)},i.SH=function(t){return t&&t.THEOplayerTextTrackCue||void 0},i.RH=function(t){var n=this.SH(t);if(n)return n;if(F(n=this.IH(t)))for(var i=0,r=n;i<r.length;i++){r[i].Bd=this}else n.Bd=this;return t.THEOplayerTextTrackCue=n,n},i.IH=function(t){return(n=t)&&n.type===vI&&n.value?(this.xu=v_.ID3,function(t){var n;try{n=fI(t.value)}catch(t){n=XR("")}return new UR(t,n)}(t)):function(t){return!!(t&&t.data instanceof ArrayBuffer)}(t)?(this.xu=v_.ID3,function(t){var n=[];try{var i=aI(new DataView(t.data));if(i)for(var r=0,e=i.vH;r<e.length;r++){var u=e[r];n.push(new UR(t,u))}}catch(t){}return n}(t)):function(t){return"text"in t}(t)?(this.xu=v_.WEBVTT,function(t){return function(t){return"regionId"in t}(t)}(t)?new OR(t):new CR(t)):new ER(t);var n},i.NH=function(t){var n=[];if(!t)return n;for(var i=t.length,r=0;r<i;r++){var e=this.RH(t[r]||t.item(r));if(F(e))for(var u=0;u<e.length;u++){var s=e[u];n.push(s)}else n.push(e)}return n},i.gH=function(){for(var t=this.NH(this.Pg.cues),n=eR(this.EF,t),i=0,r=n.TF;i<r.length;i++){var e=r[i];this.ys(new vR(e))}for(var u=0,s=n.bF;u<s.length;u++){var o=s[u];this.ys(new hR(o))}},i.HF=function(){for(var t=this.NH(this.Pg.activeCues),n=eR(this.NF,t),i=0,r=n.TF;i<r.length;i++){r[i].gw=!1}for(var e=0,u=n.bF;e<u.length;e++){u[e].gw=!0}(n.bF.length||n.TF.length)&&this.ys(new SR(this))},i.Jf=function(){this.Ts();for(var t=this.EF.slice(),n=0;n<t.length;n++){t[n].Jf()}gi(this.EF),gi(this.NF),this.Pg.removeEventListener("cuechange",this._H),this.pH&&(this.Pg.removeEventListener("load",this.yH),this.Pg.removeEventListener("error",this.mH)),this.pH&&Ve(this.pH)},T(n,[{key:"Ml",get:function(){return this.LF}},{key:"kb",get:function(){return this.pH?this.pH.default:void 0}},{key:"Ll",get:function(){return this.BF}},{key:"xd",get:function(){return this.Od||(this.Od=this.Pd()),this.Od}},{key:"Al",get:function(){return this.Pg.id||this.pH&&this.pH.id||""}},{key:"bl",get:function(){return this.Bg}},{key:"xl",get:function(){return this.Pg.inBandMetadataTrackDispatchType||""}},{key:"Tl",get:function(){return this.Pg.kind||Lw.eb}},{key:"El",get:function(){return this.Mg},set:function(t){t!==this.El&&(this.Mg=t,this.ys(new i_(this)))}},{key:"Sl",get:function(){return this.Pg.language||""}},{key:"Pl",get:function(){return this.bN},set:function(t){var n=this.Pl;this.bN=Cd(t),this.lH();var i=this.Pl;n!==i&&this.ys(new od(this)),i!==Id.Nl&&this.wH(f_.LOADING)}},{key:"AH",get:function(){return Cd(this.Pg.mode)},set:function(t){this.Pg.mode=t}},{key:"Vg",get:function(){return this.Pg}},{key:"Bl",get:function(){return this.RF}},{key:"EH",get:function(){return this.pH?+this.pH.readyState||f_.NONE:f_.LOADED}},{key:"Ul",get:function(){return this.IF}},{key:"xu",get:function(){return this.ba},set:function(t){this.ba!==t&&(this.ba=t,this.ys(new aR(this)))}},{key:"bH",get:function(){return this.kH},set:function(t){this.kH=t,this.lH()}}]),n}(Fi);function lI(t){return t instanceof dI}function _I(t,n){return H_(t.Ty,n.Ty)||function(t,n){return t.Bd===n.Bd?F_(rR(t),rR(n)):Jw(t.Bd,n.Bd)}(t.Yg,n.Yg)||function(t,n){return t===n?M_.Ew:t===g_.zg?M_.Rw:M_.Sw}(t.type,n.type)}var gI=function(){function t(t,n){var i=this;this.H_=[],this.DH=0,this.CH=0,this.OH=[],this.xH=!1,this.PH=!1,this.BH=void 0,this.LH=function(){i.DH=0,i.MH(),i.UH()},this.FH=function(){i.MH(),i.UH()},this.HH=function(){i.PH=!0,i.BH=i.$R.w_,i.VH()},this.XH=function(){i.MH(),i.UH()},this.WH=function(){i.qH(),i.MH(),i.UH()},this.zH=function(){i.GH()},this.jH=function(t){vi(i.OH,t.Yg),i.GH()},this.QH=n,this.$R=t,t.ps(So.Lc,this.FH),t.ps(So.bc,this.FH),t.ps(vl.g_,this.FH),t.ps(So.Ac,this.FH),t.ps(So.Nc,this.HH),t.ps(So.Ic,this.XH),this.GH()}var n=t.prototype;return n.hl=function(){gi(this.OH);for(var t=0,n=this.H_.slice();t<n.length;t++){var i=n[t];this.al(i)}this.VH(),this.DH=0,this.CH=0,this.xH=!1,this.PH=!1,this.BH=void 0},n.ol=function(t){li(this.H_,t)||(this.H_.push(t),t.ps(Kv.Ld,this.zH),t.ps(Kv.Ud,this.jH),t.ps(Kv.Gd,this.WH),t.Ll.vl&&this.GH(),this.qH())},n.al=function(t){if(vi(this.H_,t)){if(t.Es(Kv.Ld,this.zH),t.Es(Kv.Ud,this.jH),t.Es(Kv.Gd,this.WH),t.Ll.vl){for(var n=0,i=t.Ll.fl;n<i.length;n++){var r=i[n];vi(this.OH,r)}this.GH()}this.qH()}},n.qH=function(){this.xH=this.H_.some(function(t){return t.Pl!==Id.Nl})},n.UH=function(){this.$R.T_||this.$R.A_?this.VH():this.GH()},n.GH=function(){this.xH&&(this.DH||(this.DH=this.QH.iL(this.LH)))},n.VH=function(){this.DH&&(this.QH.YH(this.DH),this.DH=0)},n.MH=function(){var t;if(this.xH&&!this.$R.T_){var n=this.H_,i=this.CH,r=null!==(t=this.BH)&&void 0!==t?t:this.$R.w_,e=r-i<-.1,u=this.PH||e;u&&r>i&&r-i<.1&&(u=!1),this.PH=!1,this.BH=void 0;for(var s,o=[],a=0;a<n.length;a++){var c=n[a];if(c.Pl!==Id.Nl){c.HF(r,u);for(var h=0,f=c.Ml.fl;h<f.length;h++){var v=f[h];o.push(v)}}}if(u)s=this.OH;else{s=[];for(var d=0;d<n.length;d++){var l=n[d];l.Pl!==Id.Nl&&Zw(l,i-1/6,r,s)}}for(var _=s.length-1;_>=0;_--)li(o,s[_])&&di(s,_);var w=[];if(!u)for(var y=s.length-1;y>=0;y--){var m=s[y];m.Zg>=i&&m.Jg<=r&&(w.push(m),di(s,y))}for(var k=[],p=[],A=0;A<w.length;A++){var b=w[A];b.gw||k.push(new wR(b,b.Zg)),k.push(new mR(b,g.max(b.Zg,b.Jg)))}for(var T=0,E=s;T<E.length;T++){var S=E[T];S.gw&&(k.push(new mR(S,g.max(S.Zg,S.Jg))),S.gw=!1)}for(var R=0;R<o.length;R++){var I=o[R];I.gw||(k.push(new wR(I,I.Zg)),I.gw=!0)}k.sort(_I);for(var N=0;N<k.length;N++){var D=k[N],C=D.Yg;C.ys(D);var O=C.Bd;O&&(D.type===g_.zg?O.ys(new pR(C)):O.ys(new bR(C)),li(p,O)||p.push(O))}p.sort(Jw);for(var x=0;x<p.length;x++){var P=p[x];P.ys(new SR(P))}this.CH=r,this.OH=o}},n.Jf=function(){this.hl(),this.$R.Es(So.Lc,this.FH),this.$R.Es(So.bc,this.FH),this.$R.Es(vl.g_,this.FH),this.$R.Es(So.Ac,this.FH),this.$R.Es(So.Nc,this.HH),this.$R.Es(So.Ic,this.XH)},t}(),wI=function(){function t(){}var n=t.prototype;return n.iL=function(t){return sT(t)},n.YH=function(t){oT(t)},t}(),yI=new wI,mI=function(t){function n(n,i){return void 0===i&&(i=yI),t.call(this,n,i)||this}return qt(n,t),n}(gI),kI=function(t){function n(n,i){return t.call(this,n,1/0,i,!1)||this}return qt(n,t),n.prototype._w=function(n){return this===n||_d(this,n)&&t.prototype._w.call(this,n)&&xR(this,n)},T(n,[{key:"xd",get:function(){return this.Od||(this.Od=BR(this)),this.Od}}]),n}(N_),pI=function(t){function n(n,i,r){return void 0===r&&(r=v_.DEFAULT),t.call(this,Lw.Zm,i||"","",!1,r,n)||this}return qt(n,t),n}(lR),AI=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).xu=v_.ID3,r}qt(n,t);var i=n.prototype;return i.yb=function(n){!function(t,n){if(0!==n.length){var i=n.length-1;if(n[i].Zg<t.Zg)PR(n,i,t.Zg);else{var r=n[0];if(r.Zg>t.Zg)t.Jg=r.Zg;else{var e=iR(n,t);if(!(e>=0)){var u=-(e+1),s=u-1;if(s>=0&&n[s].Zg<t.Zg&&PR(n,s,t.Zg),u<n.length){var o=n[u];t.Jg=o.Zg}}}}}}(n,this.EF),t.prototype.yb.call(this,n)},i.Pd=function(){return xd(this)},n}(pI);function bI(t){var n=t&&t.THEOplayerTextTrackCue||void 0;if(n)return n;var i=t.startTime,r=fI(t.value);return t.THEOplayerTextTrackCue=new kI(i,r),t.THEOplayerTextTrackCue}var TI=function(t){function n(n){var i;return(i=t.call(this,n.inBandMetadataTrackDispatchType,n.label)||this)._H=function(){i.Pl!==Id.Nl&&(i.gH(),i.wH(f_.LOADED))},i.Pg=n,i.Pg.addEventListener("cuechange",i._H),i.Pl=i.AH,Di(function(){i._H()}),i}qt(n,t);var i=n.prototype;return i.CN=function(n){t.prototype.CN.call(this,n),this.AH=this.Pl},i.wH=function(t){this.Bl=g.max(this.Bl,t)},i.gH=function(){for(var t=function(t){for(var n=t.length,i=[],r=0;r<n;r++)i.push(bI(t[r]||t.item(r)));return oi(i,nR),i}(this.Pg.cues),n=eR(this.Ll.fl.slice(),t),i=0,r=n.TF;i<r.length;i++){var e=r[i];this.FF(e)}for(var u=0,s=n.bF;u<s.length;u++){var o=s[u];this.yb(o)}},i.Jf=function(){this.Pg.removeEventListener("cuechange",this._H),t.prototype.Jf.call(this)},T(n,[{key:"Al",get:function(){return this.Pg.id||""}},{key:"xl",get:function(){return this.Pg.inBandMetadataTrackDispatchType||""}},{key:"Sl",get:function(){return this.Pg.language||""}},{key:"AH",get:function(){return Cd(this.Pg.mode)},set:function(t){this.Pg.mode=t}},{key:"Vg",get:function(){return this.Pg}}]),n}(AI),EI=function(t){function n(n){var i;return(i=t.call(this,0,n.$g)||this).ZH=n,i.Jg=i.ZH.Zg,i}return qt(n,t),T(n,[{key:"Al",get:function(){return this.ZH.Al},set:function(t){this.ZH.Al=t}},{key:"yw",get:function(){return this.ZH.yw},set:function(t){this.ZH.yw=t}},{key:"ww",get:function(){return this.ZH.ww},set:function(t){this.ZH.ww=t}}]),n}(kI);function SI(t){return void 0===t.JH&&(t.JH=new EI(t)),t.JH}var RI=function(t){function n(n,i){var r;(r=t.call(this,n.xl,n.El)||this).xu=v_.ID3,r.$H=function(t){r.KH(t.Yg)},r.tV=function(t){var n=t.Yg;if(void 0!==n.JH){var i=n.JH;n.JH=void 0,r.FF(i),i.Jf()}},r.nV=function(t){var n=SI(t.Yg);n.gw||r.iV(n),r.rV(n)},r.eV=function(t){var n=t.Yg,i=SI(n);r.uV.w_<n.Zg&&r.iV(i)},r.sV=function(){var t=r.oV,n=r.Pl;if(r.oV=n,n===Id.Nl)r.NF.forEach(function(t){return t.gw=!1}),gi(r.NF);else if(t===Id.Nl)for(var i=r.uV.w_,e=0,u=r.EF;e<u.length;e++){var s=u[e];i<s.Jg&&r.iV(s)}},r.uV=i,r.aV=n,r.oV=n.Pl,n.ps(Kv.Ld,r.$H),n.ps(Kv.Ud,r.tV),n.ps(Kv.Hd,r.nV),n.ps(Kv.Xd,r.eV),n.ps(Kv.Gd,r.sV);for(var e=0,u=r.aV.Ll.fl;e<u.length;e++){var s=u[e];r.KH(s)}return r}qt(n,t);var i=n.prototype;return i.iV=function(t){var n=iR(this.NF,t);if(!(n>=0)){var i=-(n+1);this.NF.splice(i,0,t),t.gw=!0,t.ys(new wR(t,this.uV.w_)),this.ys(new pR(t)),this.ys(new SR(this))}},i.rV=function(t){var n=iR(this.NF,t);n>=0&&di(this.NF,n),t.gw=!1,t.ys(new mR(t,this.uV.w_)),this.ys(new bR(t)),this.ys(new SR(this))},i.Jf=function(){this.aV.Es(Kv.Ld,this.$H),this.aV.Es(Kv.Ud,this.tV),this.aV.Es(Kv.Hd,this.nV),this.aV.Es(Kv.Xd,this.eV),this.aV.Es(Kv.Gd,this.sV),t.prototype.Jf.call(this)},i.KH=function(t){var n=SI(t);(this.yb(n),this.Pl!==Id.Nl)&&(this.uV.w_<n.Jg&&this.iV(n))},T(n,[{key:"Tl",get:function(){return this.aV.Tl}},{key:"El",get:function(){return this.aV.El},set:function(t){this.aV.El=t}},{key:"Sl",get:function(){return this.aV.Sl}},{key:"Al",get:function(){return this.aV.Al}},{key:"bl",get:function(){return this.aV.bl}},{key:"xl",get:function(){return this.aV.xl}},{key:"Pl",get:function(){return this.aV.Pl},set:function(t){this.aV.Pl=t}},{key:"Bl",get:function(){return this.aV.Bl}},{key:"Ul",get:function(){return this.aV.Ul}}]),n}(pI),II=function(t){function n(n){var i;return(i=t.call(this)||this).uV=n,i}qt(n,t);var i=n.prototype;return i.ol=function(n){if(n.xu===v_.ID3){var i=n;return i.JH||(i.JH=new RI(i,this.uV)),t.prototype.ol.call(this,i.JH)}return t.prototype.ol.call(this,n)},i.al=function(n){if(n.xu===v_.ID3){var i=n;return!!i.JH&&t.prototype.al.call(this,i.JH)}return t.prototype.al.call(this,n)},n}(Md),NI=function(t){function n(n,i){var r;return(r=t.call(this)||this).vb=n,r.cV=i,r.hV=new Rn,r.WF=function(){var t=vn.coroutine(fn.mark(function t(n){var i;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((i=n.Bd).xu){t.next=4;break}return t.next=4,i.Ns(Kv.Zd);case 4:if(i.xu===v_.ID3){t.next=6;break}return t.abrupt("return");case 6:if(0!==i.Ll.vl){t.next=11;break}return t.next=9,i.Ns(Kv.Ld);case 9:t.next=6;break;case 11:r.fV(i);case 12:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.qF=function(t){var n=t.Bd;if(n.xu===v_.ID3&&r.hV.has(n.bl)){var i=r.hV.get(n.bl);r.al(i),r.vb.mb(i),n.Es(Kv.Ld,r.KH)}},r.KH=function(t){DI(t.Yg)&&r.vV(t.Yg)},r.dV(),r}qt(n,t);var i=n.prototype;return i.dV=function(){this.cV.ps(Qv.Id,this.WF),this.cV.ps(Qv.Dd,this.qF)},i.lV=function(){this.cV.Es(Qv.Id,this.WF),this.cV.Es(Qv.Dd,this.qF)},i.fV=function(t){var n=t.Ll.fl[0];if(DI(n)){var i=function(t){var n=t.match(CI);if(!n)return;return{Bd:n[1],Sl:n[2]}}(n.$g.description),r=i.Bd,e=i.Sl;if(!this._V(r,e)){var u=this.vb.gb(Lw.eb,r,e,!1,v_.TTML);this.ol(u),this.hV.set(t.bl,u);for(var s=0,o=t.Ll.fl;s<o.length;s++){var a=o[s];DI(a)&&this.vV(a)}t.ps(Kv.Ld,this.KH)}}},i._V=function(t,n){return!!hi(this.Vk.fl,function(i){return i.El===t&&i.Sl===n})},i.vV=function(t){if(t.Bd)for(var n=this.hV.get(t.Bd.bl),i=Sw(t.$g.text,0,{tm:0,nm:1/0,im:-t.Jg}),r=0;r<i.length;r++){var e=i[r];n.yb(e)}},i.hl=function(){var n=vn.coroutine(fn.mark(function n(){var i,r,e,u,s;return fn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(i=0,r=this.cV.fl;i<r.length;i++)r[i].Es(Kv.Ld,this.KH);for(e=0,u=this.Vk.fl;e<u.length;e++)s=u[e],this.vb.mb(s);return this.hV.clear(),n.next=5,t.prototype.hl.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i.Jf=function(){var n=vn.coroutine(fn.mark(function n(){return fn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.lV(),n.next=3,t.prototype.Jf.call(this);case 3:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),n}(Uw);function DI(t){return function(t){return"TXXX"===t.id||"TXX"===t.id}(n=t.$g)&&CI.test(n.description);var n}var CI=/^Track:(.+),Lang:(.+)$/;var OI=P.Jt||P.$t,xI=P.Gt,PI=.5,BI=5,LI=P.rn,MI=[So.Mc,So.Ec,So.Nc,So.bc,So.Ac],UI=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).PS=void 0,e.ZR=!0,e.ME=void 0,e.gV=new cy,e.wV=void 0,e.yV=void 0,e.mV=void 0,e.kV=void 0,e.JI=!1,e.pV=vn.resolve(),e.AV=new ki,e.bV=[],e.TV=Yp.WI(),e.EV=void 0,e.SV=1,e.RV=!1,e.IV=!1,e.NV=!1,e.DV=!1,e.CV=!1,e.OV=!1,e.xV=0,e.PV=function(t){var n=t.track,i=e.BV(n);e.LV(n,i)},e.MV=function(t){var n=function(t,n){for(var i=0,r=t.fl;i<r.length;i++){var e=r[i];if(e.Vg===n)return e}return}(e.UV,t.track);n&&e.UV.al(n)},e.FV=function(){for(var t=0;t<e.H_.vl;t++){var n=e.H_.sl(t);n instanceof dI&&n.TH()}},e.HV=function(){for(var t=e.UV.fl,n=0;n<t.length;n++){var i=t[n];e.UV.al(i)}},e.VV=function(){var t=e.ME,n=t.oF,i=t.aF;if(n&&i)if(t.zL)e.XV();else if(t.Bl!==HS.bM){var r=n.gg,u=i.gg;if(0!==r.vl&&0!==u.vl){var s=e.w_;if(s<r.uI(0)||s<u.uI(0))e.XV();else if(r.kR(s)!==u.kR(s))e.WV();else if(e.XV(),!e.xV&&e.qV.mF())r.EI(u).DI(s,s+PI)&&(e.xV=sT(e.zV))}else e.XV()}},e.zV=function(){e.xV=0,e.VV()},e.GV=function(){if(!(e.T_||e.Bl>=Qd.c_)){0;var t=e.ME,n=t.oF,i=t.aF;if(n&&i){var r=e.w_,u=n.gg,s=i.gg;if(u.kR(r)&&s.kR(r))u.EI(s).DI(r-BI,r)&&e.Zs(r)}}},e.jV=function(){e.ys(new _l(e.w_))},e.QV=function(){e.YV(new pi),e.ys(new ll(e.w_))},e.ZV=function(){e.JV(),e.ys(new Tp(e.w_))},e.$V=function(){e.KV(e.b_)},e.tX=function(){e.ys(new ml(e.y_))},e.nX=function(){e.ys(new _S(e.w_))},e.iX=function(){e.ys(new gS)},e.rX=function(){var t=e.w_,n=e.T_,i=e.Bl<Qd.c_&&!e.m_,r=void 0!==e.kV,u=r&&e.kV!==t;(n||!r||u&&!i)&&(e.ys(new pl(e.w_,void 0)),e.kV=t)},e.eX=function(){!e.RV&&e.m_&&(e.RV=!0,e.ys(new Al(e.w_)))},e.uX=function(){var t;if(null!==e.ca.error){var n=e.ca.error;e.PS=new Yl(null!==(t=n.code)&&void 0!==t?t:zl.DECODE,n.message||"Error decoding media",void 0,n.msExtendedCode),e.sX(e.PS),e.ys(new $S(e.PS))}else e.PS=void 0},e.oX=function(){e.ys(new Sl(e.w_,e.R_))},e.aX=function(){e.S_>0&&e.E_>0&&e.ys(new ay)},e.cX=function(t){e.ys(new zi(t.initDataType,t.initData||new ArrayBuffer(0)))},e.hX=function(){e.ys(new Gi)},e.fX=function(t){var n=t.initData,i=n?re(n).buffer:new ArrayBuffer(0);e.ys(new zi(Dn,i))},e.vX=function(t){if(t.initData){var n=FI(t.initData);if(!n)return;e.ys(new zi(On,n))}else e.ys(new zi(On,new ArrayBuffer(0)))},e.dX=function(t){var n=t.initData,i=n?re(n).buffer:new ArrayBuffer(0);e.ys(new zi(Dn,i))},e.lX=function(){e.JV()},e._X=function(t){e.YV(t)},e.ca=n,e.Vu=i,e.gX=r,e.wX=new QS(jt(e)),e.wX.ps(vl.Qd,e.gs),e.qV=new JS(jt(e)),e.qV.ps(vl.g_,e.ZV),e.H_=new Mw,e.yX=new Mw,e.UV=new Mw,e.mX=new gR([e.H_,e.yX,e.UV]),e.kX=new II(jt(e)),e.kX.yl=e.mX,e.pX=new NI(jt(e),e.kX),e.AX=new gR([e.mX,e.pX.Vk]),e.bX=new mI(jt(e)),e.TX(),e.uR(),e}qt(n,t);var i=n.prototype;return i.EX=function(){this.nR.ended||this.w_===this.y_||(this.RV=!1)},i.SX=function(){return void 0!==this.yV&&this.y_===this.yV},i.KV=function(t){this.SV!==t&&(this.SV=t,this.ys(new kl(this.w_,t)))},i.bR=function(){return dE(this.ca)},i.Q_=function(){var t=this.RX();return this.IX(),t},i.IX=function(){this.NV?this.DV&&(this.DV=!1,this.ys(new _l(this.w_))):this.NX()},i.NX=function(){if(this.wV)this.wV.Q_();else{P.rn&&!P.Xt&&this.ca.preload===Vp.GR&&(this.ca.preload=Vp.Zm);var t=this.b_,n=this.ca.play();t!==this.nR.playbackRate&&(this.b_=t),q(n)?n.then(this.lX,this._X):this.qV.mF()&&this.JV()}},i.Y_=function(){this.NV?this.DV||(this.DV=!0,this.ys(new ll(this.w_))):this.DX()},i.DX=function(){this.wV?this.wV.Y_():(this.ca.pause(),this.qV.bo()),this.sX(new pi)},i.RX=function(){var t=new se;return this.bV.push(t),t.ro},i.CX=function(){for(var t=0,n=this.bV;t<n.length;t++){n[t].eo(void 0)}gi(this.bV)},i.sX=function(t){for(var n=0,i=this.bV;n<i.length;n++){i[n].uo(t)}gi(this.bV)},i.JV=function(){this.NV||this.wV||this.CX()},i.YV=function(t){this.NV||this.wV||this.sX(t)},i.Zs=function(t,n){this.wV?this.wV.w_=t:(this.AV.hs(),this.AV=new ki,this.pV=this.OX(t,this.pV,this.AV.ds).catch(j))},i.AR=function(t){if(this.ca.getStartDate){var n=this.ca.getStartDate();if(n&&!m(n.getTime())){var i=(t.getTime()-n.getTime())/1e3;this.Zs(i)}}},i.OX=function(){var t=vn.coroutine(fn.mark(function t(n,i,r){var e,u,s,o,a,c,h,f,v=this;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.yV=n,this.JI=!0,this.RV&&!this.SX()&&(this.RV=!1),this.ys(new Tl(n)),t.next=7,i.catch(j);case 7:if(bi(r),this.IV&&this.xX(),this.Bl!==Qd.s_){t.next=12;break}return t.next=12,this.Ns(vl.Qd,r);case 12:if(0!==this.ca.seekable.length){t.next=18;break}return t.next=15,vn.race([Gv(this.ca,"timeupdate",r),Pi(100,r)]);case 15:bi(r),t.next=12;break;case 18:e=this.PX(n),u=this.Ng,s=!0,o=!1;case 22:if((u=this.Ng).vl>0&&!u.kR(e)&&(e=u._I(e),s=!0),LI&&void 0!==(a=this.BX())&&e>a&&(e=a,s=!0),o){t.next=36;break}if(!(void 0!==(c=this.LX())&&e>c)){t.next=36;break}return o=!0,t.next=32,this.MX(c,r);case 32:return t.next=34,Gv(this.ca,"seeked",r);case 34:bi(r),s=!0;case 36:if(!s){t.next=55;break}return s=!1,t.next=40,this.MX(e,r);case 40:bi(r),h=this.w_,u=this.Ng,e=u._I(e),f=1;case 45:if(!(g.abs(e-h)>=1/6)){t.next=55;break}return u=this.Ng,e=VI(e,u,f),t.next=50,this.MX(e,r);case 50:bi(r),h=this.w_,f++,t.next=45;break;case 55:if(this.ca.seeking||this.Bl<Qd.a_){t.next=57;break}return t.abrupt("break",62);case 57:return t.next=59,Ii(function(t){var n;return vn.race([Gv(v.ca,"seeked",t),v.Ns([So.Tc,So.vc,vl.Qd],t),null===(n=v.ME)||void 0===n?void 0:n.Ns(uS.kD,t)].filter(M))},r);case 59:bi(r),t.next=22;break;case 62:this.UX(),t.next=70;break;case 65:if(t.prev=65,t.t0=t.catch(0),!Ai(t.t0)){t.next=69;break}return t.abrupt("return");case 69:0;case 70:case"end":return t.stop()}},t,this,[[0,65]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.MX=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r,e,u;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(bi(i),r=this.Ng,n=r._I(n),!this.IV){t.next=18;break}e=!0;case 5:if(!(e||this.Bl<Qd.c_)){t.next=17;break}if((r=this.Ng).kR(n)||(n=r._I(n),e=!0),!e){t.next=13;break}return e=!1,this.yV=n,this.ys(new Tl(this.w_)),t.abrupt("continue",5);case 13:return t.next=15,this.Ns([vl.Qd,So.vc],i);case 15:t.next=5;break;case 17:bi(i);case 18:if(u=Gv(this.ca,"seeking",i),this.ca.currentTime=n,this.yV=void 0,this.ys(new Tl(this.w_)),!this.ca.seeking){t.next=25;break}return t.next=25,u;case 25:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.PX=function(t){var n=this.gg;if(n&&!n.kR(t)){var i=n.RI(t,.05);if(i>-1){var r=n.uI(i);if(t<r)return r}}return t},i.BX=function(){if(this.ME&&this.ME.zL){var t=this.ME.GL,n=this.ME.jL,i=t&&n?t.yI(n):t||n;if(i&&0!==i.vl){var r=i.uI(i.vl-1),e=i.oI(i.vl-1);return g.max(r,e-.001)}}},i.LX=function(){if(this.ME&&this.ME.zL){var t=this.ME.jL;if(t&&0!==t.vl){var n=t.uI(t.vl-1),i=t.oI(t.vl-1)-.02;return i-=.001,g.max(n,i)}}},i.UX=function(){this.JI=!1,this.IV&&this.FX(),this.ys(new El(this.w_))},i.xX=function(){this.NV||(this.DV=this.A_,this.NV=!0,this.DX())},i.FX=function(){this.NV&&(this.NV=!1,this.DV||this.IX())},i.qL=function(){var t=vn.coroutine(fn.mark(function t(n){var i,r;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0;case 1:if(!(i<n.length)){t.next=12;break}if((r=n[i]).xu!==Zk.JE||!lS.qL(r,this.ca)){t.next=7;break}return t.abrupt("return",r);case 7:if(r.xu!==Zk.$E||!qS.qL(r)){t.next=9;break}return t.abrupt("return",r);case 9:i++,t.next=1;break;case 12:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.og=function(){this.ZR=!1,je(this.ca)&&(this.ca.style.display="none")},i.sg=function(){this.ZR=!0,je(this.ca)&&(this.ca.style.display="block")},i.gb=function(t,n,i,r,e,u){var s=new lR(t,n,i,r,e,u);return this.H_.ol(s),this.bX.ol(s),s},i.vR=function(){return!0},i.lR=function(t,n,i,r){var e=s.createElement("track");e.src=no(t),e.kind=n,e.label=null!=i?i:"",r&&(e.srclang=r),e.id=Lb(),this.ca.appendChild(e);var u=this.ca.textTracks.getTrackById(e.id),o=new dI(u,e);return this.yX.ol(o),o},i.mb=function(t){this.H_.al(t),this.bX.al(t)},i.uR=function(){var t=this.ca.textTracks;t&&t.addEventListener&&(t.addEventListener("addtrack",this.PV),t.addEventListener("removetrack",this.MV),t.addEventListener("change",this.FV)),this.ca.addEventListener("emptied",this.HV)},i.yR=function(){var t=this.ca.textTracks;t&&t.removeEventListener&&(t.removeEventListener("addtrack",this.PV),t.removeEventListener("removetrack",this.MV),t.removeEventListener("change",this.FV)),this.ca.removeEventListener("emptied",this.HV)},i.LV=function(t,n){if(P.rn){if(t.kind===Lw.Zm)return void this.HX(t);if(t.kind===Lw.ub&&!XI(t))return void this.VX(t,n)}this.yX.fl.map(function(t){return t.Al}).indexOf(t.id)<0&&this.UV.ol(new dI(t,n))},i.HX=function(t){t.mode=Id.Dl;var n=new TI(t);this.UV.ol(n),this.bX.ol(n)},i.VX=function(t,n){var i=this;t.addEventListener("cuechange",function r(){XI(t)&&(t.removeEventListener("cuechange",r),i.UV.ol(new dI(t,n)))}),t.mode=Id.Dl},i.BV=function(t){for(var n=this.ca.getElementsByTagName("track"),i=0;i<n.length;i++){var r=n[i]||n.item(i);if(r.track===t)return r}},i.po=function(t){var n=this;return this.gV.Eb(function(){var i=vn.coroutine(fn.mark(function i(r){var e;return fn.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(bi(r),!n.ME){i.next=3;break}throw new d("Already loaded a media source");case 3:if(t.xu!==Zk.JE){i.next=9;break}e=new lS(t,n,n.Vu),n.IV=!1,n.XX(new QS(n)),i.next=17;break;case 9:if(t.xu!==Zk.$E){i.next=16;break}e=new qS(t,n,n.Vu),n.IV=OI,n.XX(n.IV?new YS(n):new QS(n)),xI&&(n.ps(So.Lc,n.VV),n.ps(vl.Qd,n.GV)),i.next=17;break;case 16:throw new d("Unsupported configuration");case 17:return n.ME=e,i.next=20,e.qb();case 20:return i.abrupt("return",e);case 21:case"end":return i.stop()}},i)}));return function(t){return i.apply(this,arguments)}}())},i.WV=function(){if(!this.CV){var t=this.b_;this.CV=!0,this.b_=t,this.ca.playbackRate=0,this.wX&&this.wX.vF()}},i.XV=function(){if(this.CV){var t=this.b_;this.CV=!1,this.b_=t,this.ca.currentTime=this.ca.currentTime,this.wX&&this.wX.vF()}},i.XX=function(t){var n=this.Bl;this.wX.es(),this.wX=t,this.wX.ps(vl.Qd,this.gs);var i=this.Bl;n!==i&&this.ys(new Nl(this.w_,i))},i.hl=function(){var t=vn.coroutine(fn.mark(function t(){var n=this;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.JI=!1,this.TV=Yp.WI(),this.AV.hs(),this.yV=void 0,this.mV=void 0,this.IV=!1,this.NV=!1,this.PS=void 0,this.RV=!1,this.kV=void 0,this.sX(new pi),this.XX(new QS(this)),this.qV.hl(),this.XV(),xI&&(oT(this.xV),this.xV=0,this.Es(So.Lc,this.VV),this.Es(vl.Qd,this.GV)),this.H_.hl(),this.yX.fl.forEach(function(t){return t.Jf()}),this.yX.hl(),t.next=20,this.gV.hs();case 20:return t.next=22,this.gV.Eb(vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.ME){t.next=4;break}return t.next=3,n.ME.es();case 3:n.ME=void 0;case 4:case"end":return t.stop()}},t)})));case 22:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.es=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.WX(),this.yR(),t.next=4,this.hl();case 4:return t.next=6,this.gV.Jf();case 6:return this.qV.es(),this.wX.es(),this.H_.Jf(),this.kX.Jf(),this.UV.Jf(),this.yX.Jf(),t.next=14,this.pX.Jf();case 14:this.mX.Jf(),this.AX.Jf(),this.Ts();case 17:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.TX=function(){this.nR.addEventListener("play",this.jV),this.nR.addEventListener("pause",this.QV),this.nR.addEventListener("timeupdate",this.rX),this.nR.addEventListener("progress",this.nX),this.nR.addEventListener("loadstart",this.iX),this.nR.addEventListener("ended",this.eX),this.nR.addEventListener("ratechange",this.$V),this.nR.addEventListener("volumechange",this.oX),this.nR.addEventListener("durationchange",this.tX),this.nR.addEventListener("resize",this.aX),this.nR.addEventListener("loadedmetadata",this.aX),this.nR.addEventListener("error",this.uX),ei()?(this.ca.addEventListener("encrypted",this.cX),this.ca.addEventListener("waitingforkey",this.hX)):void 0!==Tn.WebKitMediaKeys&&"function"==typeof Tn.WebKitMediaKeys.isTypeSupported?this.ca.addEventListener("webkitneedkey",this.vX):ui()?this.ca.addEventListener("webkitneedkey",this.dX):void 0!==Tn.MSMediaKeys&&"function"==typeof Tn.MSMediaKeys.isTypeSupported&&this.ca.addEventListener("msneedkey",this.fX)},i.WX=function(){this.nR.removeEventListener("play",this.jV),this.nR.removeEventListener("pause",this.QV),this.nR.removeEventListener("timeupdate",this.rX),this.nR.removeEventListener("progress",this.nX),this.nR.removeEventListener("loadstart",this.iX),this.nR.removeEventListener("ended",this.eX),this.nR.removeEventListener("ratechange",this.$V),this.nR.removeEventListener("volumechange",this.oX),this.nR.removeEventListener("durationchange",this.tX),this.nR.removeEventListener("resize",this.aX),this.nR.removeEventListener("loadedmetadata",this.aX),this.nR.removeEventListener("error",this.uX),this.nR.removeEventListener("encrypted",this.cX),this.nR.removeEventListener("waitingforkey",this.hX),this.nR.removeEventListener("msneedkey",this.fX),this.nR.removeEventListener("webkitneedkey",this.vX)},i.uF=function(){this.wV||(this.TV=this.Rg,this.wV=new zS(this.w_,this.y_,this.m_,this.A_,this.T_,this.p_,this.b_,this.R_),this.WX(),this.wV.ps(MI,this.gs))},i.sF=function(){if(this.wV){var t=this.wV;this.wV=void 0,t.y_===this.y_||m(t.y_)&&m(this.y_)||this.ys(new ml(this.y_)),this.b_=t.b_,t.A_?this.Y_():this.IX(),t.w_!==this.w_?this.Zs(t.w_):!t.T_&&this.T_?this.ys(new Tl(this.w_)):t.T_&&!this.T_&&this.ys(new El(this.w_)),!t.m_&&this.m_&&this.ys(new Al(this.w_)),t.Es(MI,this.gs),this.TX()}},i.qX=function(){this.OV=!0},i.zX=function(t){t.appendChild(this.ca)},i.GU=function(){xI&&this.VV(),this.wX.vF()},T(n,[{key:"lF",get:function(){return this.CV}},{key:"gg",get:function(){return this.ME?this.ME.gg:Yp.WI()}},{key:"wg",get:function(){var t=this.TR;if(t&&!m(t.getTime())){var n=1e3*this.w_;return new Date(t.getTime()+n)}}},{key:"TR",get:function(){if(this.nR.getStartDate)return this.JI&&this.mV||(this.mV=this.nR.getStartDate()),this.mV}},{key:"w_",get:function(){return this.wV?this.wV.w_:void 0!==this.yV?this.yV:this.ca.currentTime}},{key:"ZB",get:function(){return this.gX}},{key:"y_",get:function(){return this.wV?this.wV.y_:this.ME?this.ME.y_:this.ca.duration}},{key:"m_",get:function(){return this.T_?this.SX():this.wV?this.wV.m_:this.ca.ended||this.RV}},{key:"Bs",get:function(){return this.PS}},{key:"nR",get:function(){return this.ca}},{key:"A_",get:function(){return this.NV?this.DV:this.wV?this.wV.A_:this.ca.paused}},{key:"Rg",get:function(){return this.TV.TI(Yp.HI(this.ca.played))}},{key:"rp",get:function(){return this.ca.offsetHeight*r.ld.Ga}},{key:"Ka",get:function(){return this.ca.offsetWidth*r.ld.Ga}},{key:"gR",get:function(){return $p}},{key:"Bl",get:function(){return this.wX.Bl}},{key:"Ng",get:function(){return this.ME?this.ME.Ng:Yp.WI()}},{key:"T_",get:function(){return this.wV?this.wV.T_:this.JI}},{key:"p_",get:function(){return this.wV?this.wV.p_:this.ca.muted},set:function(t){this.wV?this.wV.p_=t:this.ca.muted=t}},{key:"b_",get:function(){return this.wV?this.wV.b_:void 0!==this.EV?this.EV:this.ca.playbackRate},set:function(t){this.wV?this.wV.b_=t:this.A_||this.CV?(this.EV=t,this.KV(t)):(this.EV=void 0,this.ca.playbackRate=t)}},{key:"GX",get:function(){return this.ZR}},{key:"R_",get:function(){return this.wV?this.wV.R_:this.ca.volume},set:function(t){this.wV?this.wV.R_=t:this.ca.volume=t}},{key:"G_",get:function(){return this.AX}},{key:"mg",get:function(){return!!this.ca.webkitCurrentPlaybackTargetIsWireless}},{key:"jX",get:function(){return this.OV}},{key:"QX",get:function(){return dn({},cS)}}]),n}(Fi);function FI(t){try{var n=$r(t),i=new ee;return qr(zr(br(n,i,Nr(n,i,!0)),!0))}catch(t){return}}var HI=.01;function VI(t,n,i){if(void 0===i&&(i=0),!n.vl)return 0;var r=n._I(t),e=HI*i;return r===n.uI(0)?r+=e:r===n.oI(n.vl-1)&&(r-=e),r}function XI(t){return!!t.cues&&t.cues.length>0}var WI=function(t){function n(){return t.apply(this,arguments)||this}return qt(n,t),n.prototype.ag=function(){},T(n,[{key:"E_",get:function(){return 0}},{key:"S_",get:function(){return 0}}]),n}(UI),qI="theoplayer-texttracks",zI=function(){function t(t){void 0===t&&(t=5);var n=Tn.document.createElement("div");n.className=qI,n.style.position="absolute",n.style.display="none",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="10%",n.style.bottom="80%",n.style.bottom="10%",n.style.left="0",n.style.width="100%",n.style.lineHeight="1.3em",n.style.zIndex=""+t,this.YX=n,this.sg()}var n=t.prototype;return n.og=function(){this.YX.style.display="none"},n.sg=function(){We(this.YX.style,"flex","-ms-flexbox")},n.zX=function(t){t.appendChild(this.YX)},n.Jf=function(){Ve(this.YX)},T(t,[{key:"yg",get:function(){return this.YX}}]),t}();function GI(t,n){return t?dn(dn({},n),gd(t)):n}function jI(t){return t.pB&&jn(t.pB,"%")?Number(t.pB.replace("%",""))/100:t.pB&&jn(t.pB,"em")?Number(t.pB.replace("em","")):1}var QI,YI,ZI=function(){function t(t,n,i,r,e){var u=this;this.ZX=_n(),this.JX=!0,this.$X=function(t){return u.ZX.has(t.ww)},this.KX=function(t){return!u.$X(t)},this.tW=function(t){return u.yb(t.Yg)},this.nW=function(t){return u.removeCue(t.Yg)},this.iW=function(){return u.rW()},this.eW=function(t){return u.uW(t.Yg)},this.sW=function(t){return u.oW(t.Yg)},this.aW=function(t){u.cW(t.Ka,t.rp)},this.ow=t,this.hW=this.fW=e,this.ca=this.vW(i),this.gX=r,n.appendChild(this.ca),this.dW(),this.ow.Ll.fl.forEach(function(t){return u.yb(t)}),this.ZB.ps("tO",this.aW),this.cW(this.ZB.oO,this.ZB.sO)}var n=t.prototype;return n.lW=function(t){this.fW=GI(t,this.hW),this.fW.mB&&(this.nR.style.fontFamily=this.fW.mB),this.cW(this.ZB.oO,this.ZB.sO),this._W()},n.dW=function(){this.ow.ps(Kv.Ld,this.tW),this.ow.ps(Kv.Ud,this.nW),this.ow.ps(Kv.Gd,this.iW)},n.gW=function(){var t=this;this.ow.Es(Kv.Ld,this.tW),this.ow.Es(Kv.Ud,this.nW),this.ow.Es(Kv.Gd,this.iW),this.ow.Ll.fl.forEach(function(n){return t.wW(n)})},n.yW=function(t){t.ps(g_.zg,this.eW),t.ps(g_.jg,this.sW)},n.wW=function(t){t.Es(g_.zg,this.eW),t.Es(g_.jg,this.sW)},n.yb=function(t){t.ww||(t.ww=this.mW),this.yW(t),t.gw&&this.uW(t)},n.removeCue=function(t){this.wW(t),this.oW(t)},n.rW=function(){this.ow.Pl===Id.Cl?this.kW():this.pW()},n.kW=function(){var t=this,n=this.ZB.oO,i=this.ZB.sO,r=new $b(n,i);this.aW(r),this.JX=!1,this.AW.forEach(function(n){return t.uW(n)})},n.uW=function(t){this.JX||this.KX(t)&&(this.bW(t),this.ZX.set(t.ww,t))},n.bW=function(t){var n=this.ca,i=this.TW(t);if(i)for(var r=0;r<i.length;r++){var e=i[r];e.className=t.ww,n.appendChild(e)}},n.pW=function(){var t=this;this.JX=!0,this.ZX.forEach(function(n){return t.oW(n)})},n.oW=function(t){this.$X(t)&&(this.EW(t),this.ZX.delete(t.ww))},n.EW=function(t){for(var n=this.ca,i=n.getElementsByClassName(t.ww);i.length;)n.removeChild(i[0])},n._W=function(){for(var t=0,n=this.SW;t<n.length;t++){var i=n[t];this.EW(i),this.bW(i)}},n.Jf=function(){Ve(this.nR),this.gW(),this.ZB.Es("tO",this.aW)},T(t,[{key:"Bd",get:function(){return this.ow}},{key:"nR",get:function(){return this.ca}},{key:"ZB",get:function(){return this.gX}},{key:"RW",get:function(){return this.fW}},{key:"SW",get:function(){return this.ow.Ml.fl.filter(this.$X)}},{key:"AW",get:function(){return this.ow.Ml.fl.filter(this.KX)}}]),t}();function JI(t){return $I[t||"none"]}!function(t){t.IW='"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',t.NW='"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',t.DW='"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',t.OW='Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif'}(QI||(QI={})),function(t){t.BLACK="#000000",t.WHITE="#FFFFFF",t.GREEN="#00ff00",t.BLUE="#0000ff",t.CYAN="#00ffff",t.RED="#ff0000",t.YELLOW="#ffff00",t.MAGENTA="#ff00ff",t.TRANSPARENT="transparent"}(YI||(YI={}));var $I={none:"",dropshadow:"#222 2px 2px 3px, #222 2px 2px 4px, #222 2px 2px 5px",raised:"#222 1px 1px, #222 2px 2px, #222 3px 3px",depressed:"#ccc 1px 1px, #ccc 0px 1px, #222 -1px -1px, #222 0px -1px",uniform:"#222 -1px -1px 0, #222 1px -1px 0, #222 -1px 1px 0, #222 1px 1px 0"};function KI(t,n){void 0===t.textContent?t.innerText=n:t.textContent=n}var tN=gn({monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:"monospace, sans-serif",monospaceSerif:"monospace, serif",proportionalSansSerif:"Arial",proportionalSerif:"Times New Roman",default:"monospace, sans-serif;"}),nN=gn({lrtb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rltb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;unicode-bidi: bidi-override;",tbrl:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;",tblr:"-webkit-writing-mode: vertical-lr;writing-mode: vertical-lr;-webkit-text-orientation: upright;text-orientation: upright;",lr:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rl:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;",tb:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;"}),iN={backgroundColor:function(t,n){n.style.backgroundColor=t},color:function(t,n){n.style.color=t},direction:function(t,n){n.style.direction=t},display:function(t,n){"none"===t&&(n.style.display="none")},fontFamily:function(t,n){var i=tN.get(t);n.style.fontFamily=i||t},fontSize:function(t,n){Yn(t,"px")?t=w(t)/24+"em":Yn(t,"c")&&(t=t.replace("c","em")),n.style.fontSize=t},fontStyle:function(t,n){n.style.fontStyle=t},fontWeight:function(t,n){n.style.fontWeight=t},lineHeight:function(t,n){n.style.lineHeight=t},opacity:function(t,n){n.style.opacity=t},overflow:function(t,n){n.style.overflow=t},padding:function(t,n){n.style.padding=t},textAlign:function(t,n){"right"===t?(n.style.textAlign="right",n.style.justifyContent="flex-end"):"start"===t?(n.style.textAlign="start",n.style.justifyContent="flex-start"):"center"===t?(n.style.textAlign="center",n.style.justifyContent="center"):"end"===t?(n.style.textAlign="end",n.style.justifyContent="flex-end"):"left"===t&&(n.style.textAlign="left",n.style.justifyContent="flex-start")},textDecoration:function(t,n){var i=t;i=(i=(i=(i=i.replace("lineThrough","line-through")).replace("noUnderline","none")).replace("noLineThrough ","none")).replace("noOverline  ","none"),n.style.textDecoration=i},unicodeBidi:function(t,n){n.style.unicodeBidi=t.replace("bidiOverride","bidi-override")},visibility:function(t,n){n.style.visibility=t},zIndex:function(t,n){n.style.zIndex=t},displayAlign:function(t,n){var i;"before"===t.toLowerCase()?i="flex-start":"center"===t.toLowerCase()?i="center":"after"===t.toLowerCase()&&(i="flex-end"),n.style.alignItems=i},extent:function(t,n){var i,r,e=t.split(" ");e.length>=2?(i=e[0],r=e[1]):i=r="100%",n.style.height=r,n.style.width=i},origin:function(t,n){var i=t.split(" "),r=i[0],e=i[1];void 0===r&&void 0===e||(n.style.position="absolute",void 0!==r&&(n.style.left=r),void 0!==e&&(n.style.top=e))},showBackground:function(t,n){},wrapOption:function(t,n){n.style.whiteSpace=t.replace("noWrap","nowrp").replace("wrap","normal").replace("nowrp","nowrap")},writingMode:function(t,n){var i=nN.get(t);i&&(n.style.cssText=n.style.cssText.concat(i))},textOutline:function(){},linePadding:function(t,n){if(Yn(t,"c")){var i=t.replace("c","em");n.style.paddingLeft=n.style.paddingRight=i}},multiRowAlign:function(t,n){"auto"===t.toLowerCase()?n.style.textAlign="":n.style.textAlign="value"}},rN=0,eN={kB:YI.WHITE,mB:"Arial, Helvetica, Sans-Serif",pB:"100%",AB:YI.TRANSPARENT,bB:YI.TRANSPARENT,TB:"none"},uN=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,eN)||this}qt(n,t);var i=n.prototype;return i.vW=function(t){var n=s.createElement("div");return n.className="theoplayer-ttml-texttrack-"+t,n.style.position="absolute",n.style.display="flex",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="0",n.style.left="0",n.style.width="100%",n.style.height="100%",n},i.cW=function(t,n){var i=n/15;this.nR.style.fontSize=i+"px"},i.TW=function(t){if(t.Bd&&t.Bd.xu!==v_.TTML)return[];var n,i=[],r=t,e=r.GA,u=r.rm,o=r.$g;if(0===_.keys(u).length){Xe(n=s.createElement("div"),r.ww),vN(n);for(var a=sN(o,e,r.jA,void 0,this.nR),c=0;c<a.length;c++){var h=a[c];n.appendChild(h)}i.push(n)}else for(var f=0,v=_.keys(u);f<v.length;f++){var d=v[f],l=s.createElement("div");l.id=d,Xe(l,r.ww);var g=sN(o,e,r.jA,l,this.nR);if(g){vN(l),cN(l,u[d],e,this.nR);for(var w=0;w<g.length;w++){var y=g[w];l.appendChild(y)}i.push(l)}i.push(l)}return i},i.lW=function(t){},T(n,[{key:"mW",get:function(){return"theoplayer-ttmlcue-"+rN++}}]),n}(ZI);function sN(t,n,i,r,e){var u,s;if(zt(t)&&("SPAN"===(s=t).Nn.toUpperCase()||"P"===s.Nn.toUpperCase()||"BR"===s.Nn.toUpperCase()||"DIV"===s.Nn.toUpperCase()||"BODY"===s.Nn.toUpperCase())){var o=function t(n){var i;var r=n.Wn("region");if("p"===n.Nn.toLowerCase())return r;var e=[];for(var u=0,s=n.Xn;u<s.length;u++){var o=s[u];e.push(t(o))}!function(t){for(var n=[],i=0;i<t.length;i++){for(var r=!0,e=i+1;e<t.length;e++)if(t[i]===t[e]){r=!1;break}r&&n.push(t[i])}}(e);return 0===e.length?r:1===e.length?null!==(i=e[0])&&void 0!==i?i:r:void 0}(t);if(!o||r.id===o){(function(t,n,i,r){var e=n.Wn("style");fN(t,e,i,r),function(t,n,i){Array.prototype.slice.call(n.Yn).forEach(function(n){var r=pw(n.Dn,["ebutts","tts","xml"]);iN[r]&&iN[r](n.xn,t,i)})}(t,n,r)})(u="BODY"===t.Nn.toUpperCase()?r:oN(t),t,n,e),function(t,n,i){var r=null==n?void 0:n.Wn("smpte:backgroundImage");if(r){r=r.replace("#","");var e=function t(n,i){if(n&&i(n))return n;var r=null;if(null==n?void 0:n.Xn)for(var e=0,u=null==n?void 0:n.Xn;e<u.length;e++){var s=u[e];if(r=t(s,i))break}return r}(i,function(t){return t.Yn.some(function(t){return"id"===t.Nn&&t.xn===r})});e&&hN(t,e,n,!0)}!function(t,n){var i=n.Xn[0];if(!i||"metadata"!==i.Nn.toLowerCase())return;var r=i.Xn[0];hN(t,r,n)}(t,n)}(u,t,i);for(var a=[],c=t.Mn,h=0;h<c.length;h++){var f=sN(c[h],n,i,r,e);f&&(a=a.concat(f))}if("BODY"!==t.Nn.toUpperCase()){for(var v=0,d=a;v<d.length;v++){var l=d[v];u.appendChild(l)}return[u]}return a}}else Gt(t)&&(u=oN(t));if(u)return[u]}function oN(t){var n,i;if(Gt(t))KI(n=s.createElement("text"),t.Jn);else if(zt(t))switch(t.Nn.toUpperCase()){case"BR":n=s.createElement("br");break;case"SPAN":n=s.createElement("span"),(i=n).style.backgroundColor="rgba(0,0,0,0.6)",i.style.textAlign="start",i.style.lineHeight="normal",aN(n,t);break;case"P":(function(t){t.style.fontFamily="Arial, Helvetica, Sans-Serif",t.style.color="white",t.style.justifyContent="flex-start",t.style.textAlign="start",t.style.padding="none",t.style.margin="0",t.style.lineHeight="normal",t.style.lineHeight="1.3em",t.style.textShadow="rgb(0, 0, 0) -1px -1px 0px, rgb(0, 0, 0) 1px -1px 0px, rgb(0, 0, 0) -1px 1px 0px, rgb(0, 0, 0) 1px 1px 0px"})(n=s.createElement("p")),aN(n,t);break;case"DIV":aN(n=s.createElement("div"),t)}return n}function aN(t,n){var i=n.qn(yw,"id");i&&(t.id=i)}function cN(t,n,i,r){fN(t,n.style,i,r),_.keys(n).forEach(function(i){iN[i]&&iN[i](n[i],t)})}function hN(t,n,i,r){void 0===r&&(r=!1),r&&(t.style.width=t.style.height="100%");var e=s.createElement("img");e.src=function(t){var n=t&&t.Mn.length>0?t.Mn[0]:null;return n&&Gt(n)?"data:image/png;base64,"+n.Jn:""}(n),e.id=t.id,e.style.height="100%",e.style.maxWidth="100%",function(t,n){t.style.display="flex";var i=n.Wn("smpte:backgroundImageVertical");if(i)switch(i.toLowerCase()){case"left":t.style.alignItems="flex-start";break;case"center":t.style.alignItems="center";break;case"right":t.style.alignItems="flex-end";break;case"inherit":t.style.alignItems="inherit"}else t.style.alignItems="center";var r=n.Wn("smpte:backgroundImageHorizontal");if(r)switch(r.toLowerCase()){case"left":t.style.justifyContent="flex-start";break;case"center":t.style.justifyContent="center";break;case"right":t.style.justifyContent="flex-end";break;case"inherit":t.style.justifyContent="inherit"}else t.style.justifyContent="center"}(t,i),t.appendChild(e)}function fN(t,n,i,r){n&&n.split(" ").forEach(function(n){i[n]&&_.keys(i[n]).forEach(function(e){var u=pw(e,["ebutts","tts","xml"]);"style"===u.toLowerCase()?fN(t,i[n][e],i,r):iN[u]&&iN[u](i[n][e],t,r)})})}function vN(t){t.style.display="flex",t.style.top="auto",t.style.left="5%",t.style.width="90%",t.style.height="100%",t.style.maxHeight=t.style.maxWidth="100%",t.style.alignItems="flex-start",t.style.overflow="visible",t.style.position="absolute",t.style.justifyContent="center",t.style.textAlign="start",t.style.cssText=t.style.cssText.concat("ms-writing-mode: lr-tb, horizontal-tb;-webkit-writing-mode: horizontal-tb;-moz-writing-mode: horizontal-tb;writing-mode: horizontal-tb;"),t.style.padding="none",t.style.margin="0"}var dN,lN,_N=void 0;function gN(t,n){for(var i,r=dN.xW,e="",u=[],s=t.charAt(n.$s),o="",a={xu:lN.PW,Un:"",BW:[]};n.$s<t.length+1;){switch(s=n.$s<t.length?t.charAt(n.$s):"EOF",r){case dN.xW:switch(s){case"&":var c=t.substr(n.$s).match(/&#?[0-9a-zA-Z]+;/);c?(e+=(i=c[0],_N||(_N=Tn.document.createElement("textarea")),_N.innerHTML=i,_N.value),n.Ys(c[0].length-1)):e+="&";break;case"<":if(e)return{xu:lN.LW,$g:e};r=dN.MW;break;case"EOF":return{xu:lN.LW,$g:e};default:e+=s}break;case dN.MW:switch(s){case"\t":case"\n":case"\f":case" ":r=dN.UW;break;case".":r=dN.FW;break;case"/":r=dN.HW;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":e=s,r=dN.VW;break;case">":return n.Ys(1),a;case"EOF":return a;default:e=s,r=dN.XW}break;case dN.XW:switch(s){case"\t":case"\f":case" ":r=dN.UW;break;case"\n":o=s,r=dN.UW;break;case".":r=dN.FW;break;case">":return n.Ys(1),{xu:lN.PW,Un:e,BW:[]};case"EOF":return{xu:lN.PW,Un:e,BW:[]};default:e+=s}break;case dN.FW:switch(s){case"\t":case"\f":case" ":u.push(o),o="",r=dN.UW;break;case"\n":u.push(o),o=s,r=dN.UW;break;case".":u.push(o),o="";break;case">":return n.Ys(1),u.push(o),{xu:lN.PW,Un:e,BW:u};case"EOF":return u.push(o),{xu:lN.PW,Un:e,BW:u};default:o+=s}break;case dN.UW:switch(s){case"&":r=dN.WW;break;case">":n.Ys(1);var h=o.trim();return h=h.replace(/\s/," "),{xu:lN.PW,Un:e,BW:u,qW:h};default:o+=s}break;case dN.WW:for(var f="",v=n.$s;">"===t.charAt(v);v++)f+=t.charAt(v);o+=f||"&",r=dN.UW;break;case dN.HW:switch(s){case">":return n.Ys(1),{xu:lN.zW,Un:e};case"EOF":return{xu:lN.zW,Un:e};default:e+=s}break;case dN.VW:switch(s){case">":return n.Ys(1),{xu:lN.GW,jW:e};case"EOF":return{xu:lN.GW,jW:e};default:e+=s}}n.Ys(1)}}!function(t){t.xW="Data",t.MW="Tag",t.XW="StartTag",t.FW="StartTagClass",t.UW="StartTagAnnotation",t.WW="CharRefInAnnotation",t.HW="EndTag",t.VW="TimestampTag"}(dN||(dN={})),function(t){t.LW="string",t.PW="starttag",t.zW="endtag",t.GW="timestamp"}(lN||(lN={}));var wN,yN,mN={kB:YI.WHITE,mB:"sans-serif",pB:"100%",AB:"rgba(0,0,0,0.8)",bB:YI.TRANSPARENT,TB:"none"},kN="theoplayer-webvtt-region-",pN="theoplayer-webvtt-styling-",AN="theoplayer-webvtt-voice-",bN=5.23,TN=1.14,EN=0,SN=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,mN)||this).QW={},u.YW=CN(3),u}qt(n,t);var i=n.prototype;return i.vW=function(t){var n=s.createElement("div");return n.className="theoplayer-webvtt-texttrack-"+t,ze(n),We(n.style,"flex","-ms-flexbox"),n.style.overflow="hidden",n.style.pointerEvents="none",n.style.fontFamily=this.RW.mB,n.style.whiteSpace="pre-line",n},i.cW=function(t,n){for(var i=n/100,r=t/100,e=g.min(i,r),u=jI(this.RW),s=0,o=_.keys(this.ZW);s<o.length;s++){var a=o[s],c=this.ZW[a].JW;this.$W(c,e,u,this.ZW[a].ew)}this.$W(this.KW,e,u),this.tq()},i.tq=function(){var t=jI(this.RW);this.KW.style.padding=t>=1.5?"0":1/t+"em"},i.bW=function(t){var n=this.nR,i=this.ZB.sO/100,r=this.KW;t.ew&&(this.ZW[t.ew.Al]||(this.ZW[t.ew.Al]={ew:t.ew,JW:ON(t.ew,i)}),r=this.ZW[t.ew.Al].JW),n.querySelector("."+r.className)||n.appendChild(r);var e=this.TW(t);r.children.length>=1&&t.ew&&"up"===t.ew.Aw&&(r.style.transitionProperty="top",r.style.transitionDuration="0.433s");for(var u=0;u<e.length;u++){var s=e[u];s.className=t.ww,r.appendChild(s)}},i.TW=function(t){var n=[];return t&&n.push(this.nq(t)),n},i.nq=function(t){for(var n=new ee,i=t.$g,r=this.iq(t),e=r,u="",o=[],a={};n.$s<i.length;){var c=gN(i,n);if(c.xu===lN.LW){var h=this.rq(c.$g);RN(h,a),e.appendChild(h)}else if(c.xu===lN.PW){switch(a[c.Un.toLowerCase()]||(a[c.Un.toLowerCase()]=[]),a[c.Un.toLowerCase()].push(c),c.Un.toLowerCase()){case"c":break;case"i":var f=s.createElement("i");e.appendChild(f),e=f;break;case"b":var v=s.createElement("b");e.appendChild(v),e=v;break;case"u":var d=s.createElement("u");e.appendChild(d),e=d;break;case"ruby":var l=s.createElement("ruby");e.appendChild(l),e=l;break;case"rt":if("ruby"===u){var _=s.createElement("rt");e.appendChild(_)}break;case"v":break;case"lang":o.push(c.qW)}u=c.Un||""}else if(c.xu===lN.zW){a[c.Un.toLowerCase()]&&a[c.Un.toLowerCase()].pop(),(!c.Un||"C"!==c.Un.toUpperCase()&&"V"!==c.Un.toUpperCase())&&("LANG"===c.Un.toUpperCase()?o.pop():"RUBY"===c.Un.toUpperCase()&&"RUBY"===e.tagName?e=e.parentNode.parentNode:e.tagName&&e.tagName.toUpperCase()===c.Un.toUpperCase()&&(e=e.parentNode)),u=c.Un||""}else if(c.xu===lN.GW){var g=c.jW,w=new ee;try{Mg(g,w)}catch(t){et("ERROR collecting timestamp",t)}}}return r},i.rq=function(t){var n=s.createElement("span");return KI(n,t),n.style.background=this.RW.AB,n},i.$W=function(t,n,i,r){if(r){var e=IN(r,n);t.style.height=e*i+"px",t.style.left=NN(r)+"%",t.style.top=DN(r,n)+"px"}t.style.fontSize=bN*n*i+"px"},i.iq=function(t){var n=s.createElement("div");return n.style.margin="0",n.style.padding="0",n.style.unicodeBidi="plaintext",n.style.wordWrap="break-word",n.style.width="auto",n.style.textAlign=t.Kg,function(t,n){"rl"===n.sw?t.style.writingMode="vertical-rl":"lr"===n.sw?t.style.writingMode="vertical-lr":t.style.writingMode="horizontal-tb"}(n,t),function(t,n){var i=B_(n);xN(n)?(t.style.width=i+"%",t.style.height="auto"):(t.style.height=i+"%",t.style.width="auto")}(n,t),function(t,n){var i,r,e=P_(n),u=x_(n),s=B_(n);xN(n)?("line-left"===e?i=u:"center"===e?i=u-s/2:"line-right"===e&&(i=u-s),r=n.uw?0:O_(n)):("line-left"===e?r=u:"center"===e?r=u-s/2:"line-right"===e&&(r=u-s),i=n.uw?0:O_(n));t.style.left=i+"%",t.style.top=r+"%"}(n,t),n.style.background=this.RW.bB,n.style.color=this.RW.kB,n.style.textShadow=JI(this.RW.TB),n},i.EW=function(t){for(var n=t.ww,i=this.nR,r=i.children,e=0;e<r.length;e++){for(var u=r[e].getElementsByClassName(n),s=0;s<u.length;s++)r[e].removeChild(u[s]);if(0===r[e].childNodes.length){for(var o=0,a=_.keys(this.ZW);o<a.length;o++){var c=a[o];if(jn(r[e].className,kN+c)){delete this.ZW[c];break}}i.removeChild(r[e])}}},T(n,[{key:"ZW",get:function(){return this.QW||(this.QW={}),this.QW}},{key:"KW",get:function(){return this.YW||(this.YW=CN(3)),this.YW}},{key:"mW",get:function(){return"theoplayer-webvtt-cue-"+EN++}}]),n}(ZI);function RN(t,n){if(n.c)for(var i=0,r=n.c;i<r.length;i++){var e=r[i];if(e.BW)for(var u=0,s=e.BW;u<s.length;u++){var o=s[u];Xe(t,pN+o)}}if(n.v)for(var a=0,c=n.v;a<c.length;a++){var h=c[a];h.qW&&Xe(t,AN+h.qW)}}function IN(t,n){return t.mw*(bN*n)*TN}function NN(t){return t.bw-t.kw*t.Ka/100}function DN(t,n){var i=t.Tw,r=t.pw*IN(t,n)/100;return g.max(0,i-r)}function CN(t){var n=s.createElement("div");return n.className=kN+"default",ze(n),We(n.style,"inline-flex","-ms-flexbox"),n.style.flexFlow="column",n.style.justifyContent="flex-end",n.style["-ms-flex-align"]="end",n.style.overflow="hidden",n.style.wordWrap="break-word",n.style.writingMode="horizontal-tb",n.style.pointerEvents="none",n.style.maxHeight="100%",n.style.minHeight="0px",n.style.margin="0",n.style.padding="1em",n.style.boxSizing="border-box",n.style.fontSize=bN*t+"px",n.style.lineHeight=TN+"em",n}function ON(t,n){var i=CN(n);i.className=kN+t.Al;var r=t.Ka,e=IN(t,n);return i.style.width=r+"%",i.style.height=e+"px",i.style.left=NN(t)+"%",i.style.top=DN(t,n)+"px",i.style.padding="0",i.style.boxSizing="border-box",i}function xN(t){return""===t.sw}!function(t){t[t.uq=0]="uq",t[t.sq=1]="sq",t[t.oq=2]="oq",t[t.aq=3]="aq",t[t.cq=4]="cq",t[t.hq=5]="hq"}(wN||(wN={})),function(t){t[t.fq=0]="fq",t[t.vq=1]="vq",t[t.dq=2]="dq",t[t.lq=3]="lq"}(yN||(yN={}));var PN=15,BN=32,LN=[[42,225],[92,233],[94,237],[95,243],[96,250],[123,231],[124,247],[125,209],[126,241],[127,9608],[128,174],[129,176],[130,189],[131,191],[132,8482],[133,162],[134,163],[135,9834],[136,224],[137,32],[138,232],[139,226],[140,234],[141,238],[142,244],[143,251],[144,193],[145,201],[146,211],[147,218],[148,220],[149,252],[150,8216],[151,161],[152,42],[153,8217],[154,9473],[155,169],[156,8480],[157,8226],[158,8220],[159,8221],[160,192],[161,194],[162,199],[163,200],[164,202],[165,203],[166,235],[167,206],[168,207],[169,239],[170,212],[171,217],[172,249],[173,219],[174,171],[175,187],[176,195],[177,227],[178,205],[179,204],[180,236],[181,210],[182,242],[183,213],[184,245],[185,123],[186,125],[187,92],[188,94],[189,95],[190,124],[191,8764],[192,196],[193,228],[194,214],[195,246],[196,223],[197,165],[198,164],[199,9475],[200,197],[201,229],[202,216],[203,248],[204,9487],[205,9491],[206,9495],[207,9499]].reduce(function(t,n){return t[n[0]]=n[1],t},{}),MN=function(){function t(){this._q=[],this.gq=0;for(var t=0;t<BN;t++)this._q.push(null);this.wq=!1}var n=t.prototype;return n.yq=function(t){for(var n=0;n<BN;n++)t&&(this._q[n]=t._q[n])},n._w=function(t){for(var n=0;n<BN;n++)if(this._q[n]!==t._q[n])return!1;return!0},n.mq=function(){for(var t=0;t<BN;t++)if(null!==this._q[t])return!1;return!0},n.kq=function(t){this.gq!==t&&(this.gq=t),this.gq<0?this.gq=0:this.gq>BN&&(this.gq=BN-1)},n.pq=function(t){var n=this.gq+t;this.kq(n)},n.Aq=function(){this.pq(-1),this._q[this.gq]=null},n.bq=function(t){t>=144&&this.Aq();var n,i=LN[n=t]?String.fromCharCode(LN[n]):String.fromCharCode(n);this.gq>=BN||(32===Number(i)?(this._q[this.gq]=this.wq?"</i>":"<i>",this.wq=!this.wq):this._q[this.gq]=i,this.pq(1))},n.Tq=function(t){for(var n=t;n<BN;n++)this._q[n]=null},n.Gs=function(){this.Tq(0),this.gq=0},n.Eq=function(){this.Tq(this.gq)},n.Sq=function(t,n){for(var i=this._q,r=null,e=0;e<BN;e++){var u=i[e];null===u?r=null:(r||(r={Rq:e,Iq:t,Ka:0,rp:1,_q:[[]]},n.push(r)),r._q[0].push(u),r.Ka++)}},n.Qy=function(t,n){return t.Nq(this._q,n)},t}();var UN=function(){function t(){this.Dq=null,this.Cq=[];for(var t=0;t<PN;t++)this.Cq.push(new MN);this.Oq=PN-1,this.hl()}var n=t.prototype;return n.yq=function(t){for(var n=0;n<PN;n++)this.Cq[n].yq(t.Cq[n])},n._w=function(t){for(var n=!0,i=0;i<PN;i++)if(!this.Cq[i]._w(t.Cq[i])){n=!1;break}return n},n.mq=function(){for(var t=!0,n=0;n<PN;n++)if(!this.Cq[n].mq()){t=!1;break}return t},n.hl=function(){for(var t=0;t<PN;t++)this.Cq[t].Gs();this.Oq=PN-1},n.bq=function(t){this.Cq[this.Oq].bq(t)},n.xq=function(){this.Cq[this.Oq].Aq()},n.Eq=function(){this.Cq[this.Oq].Eq()},n.Pq=function(){if(null!==this.Dq){var t=this.Oq+1-this.Dq,n=this.Cq[t];n&&(di(this.Cq,t),n.Gs(),this.Cq.splice(this.Oq,0,n))}},n.pq=function(t){this.Cq[this.Oq].pq(t)},n.Bq=function(t){this.Dq=t},n.Lq=function(t){var n=t.Mq;this.Dq&&n<this.Dq-1&&(n=this.Dq-1),this.Oq=n;var i=this.Cq[this.Oq];null!==t.Uq&&i.kq(t.Uq)},n.Fq=function(){for(var t=this.Cq,n=[],i=0;i<t.length;i++){t[i].Sq(i,n)}for(var r=0;r<n.length;r++){for(var e=!1,u=n[r],s=n.length-1;s>r;){var o=n[s];HN(u,o)&&(u=FN(u,o),di(n,s),e=!0),s--}e&&(n[r]=u,r--)}return n.map(VN)},n.Qy=function(t){return t.Hq(this.Cq)},t}();function FN(t,n){for(var i=g.min(t.Rq,n.Rq),r=g.min(t.Iq,n.Iq),e=g.max(t.Rq+t.Ka,n.Rq+n.Ka)-i,u=g.max(t.Iq+t.rp,n.Iq+n.rp)-r,s=new Array(u),o=0;o<u;o++){var a=new Array(e),c=t._q[o+r-t.Iq];if(c)for(var h=0;h<c.length;h++)c[h]&&(a[h-i+t.Rq]=c[h]);var f=n._q[o+r-n.Iq];if(f)for(var v=0;v<f.length;v++)f[v]&&(a[v-i+n.Rq]=f[v]);s[o]=a}return{Rq:i,Iq:r,Ka:e,rp:u,_q:s}}function HN(t,n){return t.Rq<=n.Rq+n.Ka&&n.Rq<=t.Rq+t.Ka&&t.Iq<=n.Iq+n.rp&&n.Iq<=t.Iq+t.rp}function VN(t){for(var n=new Array(t.rp),i=t._q,r=0;r<i.length;r++){for(var e=i[r],u=[],s=!1,o=0;o<e.length;o++){var a=e[o];a?(s||(s=!0,u.push("<c.theoplayer-text-track-fragment>")),u.push(a)):(s&&(s=!1,u.push("</c>")),u.push(" "))}s&&(s=!1,u.push("</c>")),n[r]=u.join("")}var c=n.join("\n");return{Rq:t.Rq,Iq:t.Iq,Ka:t.Ka,rp:t.rp,$g:c}}var XN=function(){function t(t,n){this.Mq=t,this.Uq=n}return t.prototype._w=function(t){return this.Mq===t.Mq&&this.Uq===t.Uq},t}(),WN=function(){function t(t){this.Vq=t,this.Xq=this.Wq(),this.qq=this.zq()}var n=t.prototype;return n.Wq=function(){for(var t=new XN(Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),n=0,i=this.Gq;n<i.length;n++){var r=i[n],e=g.min(t.Mq,r.jq.Mq),u=g.min(t.Uq,r.jq.Uq);t=new XN(e,u)}return t},n.zq=function(){for(var t=new XN(Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY),n=0,i=this.Gq;n<i.length;n++){var r=i[n],e=g.max(t.Mq,r.Qq.Mq),u=g.max(t.Uq,r.Qq.Uq);t=new XN(e,u)}return t},T(t,[{key:"jq",get:function(){return this.Xq}},{key:"Qq",get:function(){return this.qq}},{key:"Gq",get:function(){return wi(this.Vq.map(function(t){return t.Gq}))}}]),t}(),qN=function(){function t(t,n){this.EB=t,this.Xq=n,this.Yq=""}var n=t.prototype;return n.bq=function(t){this.Yq+=t},n.Zq=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.bq(i)}},T(t,[{key:"Jq",get:function(){return this.Yq}},{key:"Gq",get:function(){return[this]}},{key:"$q",get:function(){return this.EB}},{key:"jq",get:function(){return this.Xq}},{key:"Qq",get:function(){return new XN(this.jq.Mq,this.jq.Uq+this.Jq.length-1)}}]),t}(),zN=function(){function t(){}var n=t.prototype;return n.Kq=function(t){return t.Qy(this)},n.Hq=function(t){var n=this;return wi(t.map(function(t,i){return t.Qy(n,i)}))},n.Nq=function(t,n){return new GN(t,n).tz()},t}(),GN=function(){function t(t,n){this.Mq=t,this.nz=n,this.iz=[],this.rz=null}var n=t.prototype;return n.tz=function(){if(this.ez)return[];for(var t=0;t<this.Mq.length;t++)this.uz(t);return this.sz(),this.iz},n.oz=function(t){this.rz=new qN(tD,new XN(this.nz,t))},n.sz=function(){this.rz&&(this.iz.push(this.rz),this.rz=null)},n.uz=function(t){var n=this.Mq[t];jN(n)?this.rz&&this.sz():(this.rz||this.oz(t),this.rz.bq(n))},T(t,[{key:"ez",get:function(){return this.Mq.every(jN)}}]),t}();function jN(t){return null==t}var QN,YN=function(t){function n(n,i,r){return t.call(this,n,i,r,!1)||this}return qt(n,t),n}(N_),ZN=function(t){function n(n){var i;return(i=t.call(this,"az")||this).cue=n,i}return qt(n,t),n}(Vi);!function(t){t[t.GR=0]="GR",t[t.cz=1]="cz",t[t.hz=2]="hz",t[t.fz=3]="fz",t[t.pn=4]="pn"}(QN||(QN={}));var JN,$N=function(t){function n(){var n;return(n=t.call(this)||this).Ty=tg.Yw,n.Zg=tg.Yw,n.Pl=QN.GR,n.vz=new UN,n.dz=new UN,n.lz=new UN,n._z=n.vz,n}qt(n,t);var i=n.prototype;return i.bq=function(t){this._z.bq(t),this.Pl!==QN.cz&&this.Pl!==QN.hz||this.gz()},i.CN=function(t){t!==this.Pl&&(this.Pl=t,this.Pl===QN.fz?this._z=this.dz:(this._z=this.vz,this._z.hl()),this.Pl!==QN.hz&&(this.vz.Bq(null),this.dz.Bq(null)))},i.Lq=function(t){this._z.Lq(t)},i.wz=function(){this.CN(QN.fz)},i.yz=function(){this.Pl!==QN.pn&&(this._z.xq(),this._z===this.vz&&this.gz())},i.mz=function(){},i.kz=function(){},i.pz=function(){this._z.Eq(),this.gz()},i.Az=function(t){this._z=this.vz,this.CN(QN.hz),this._z.Bq(t)},i.bz=function(){},i.Tz=function(){this.CN(QN.cz)},i.Ez=function(){this.CN(QN.pn)},i.Sz=function(){this.CN(QN.pn)},i.Rz=function(){this.vz.hl(),this.gz()},i.Iz=function(){this._z.Pq(),this.gz()},i.Nz=function(){this.dz.hl()},i.Dz=function(){if(this.Pl===QN.fz){var t=this.vz;this.vz=this.dz,this.dz=t,this._z=this.dz}this.gz()},i.Cz=function(t){this._z.pq(t)},i.gz=function(){if(null!==this.Ty){if((!this.Zg||this.Zg.ty())&&!this.vz.mq())this.Zg=this.Ty;else if(!this.vz._w(this.lz)){var t=this.Oz();if(this.Ty.Dw(this.Zg)){var n=new YN(this.Zg.Nw(),this.Ty.Nw(),t);this.ys(new ZN(n))}this.Zg=this.vz.mq()?null:this.Ty}this.lz.yq(this.vz)}},i.Oz=function(){return function(t){var n=[],i=[].concat(t);for(;i.length>0;){var r=i.pop(),e=void 0;do{e=!1;for(var u=0;u<i.length;u++){var s=i[u];(function(t,n){return g.abs(t.Qq.Uq-n.jq.Uq)<=1||g.abs(n.Qq.Uq-t.jq.Uq)<=1||g.abs(t.Qq.Mq-n.jq.Mq)<=1||g.abs(n.Qq.Mq-t.jq.Mq)<=1}(o=r,a=s)||function(t,n){return KN(t.jq.Mq,t.Qq.Mq,n.jq.Mq,n.Qq.Mq)&&KN(t.jq.Uq,t.Qq.Uq,n.jq.Uq,n.Qq.Uq)}(o,a))&&(r=new WN([].concat(r.Gq,s.Gq)),vi(i,s),e=!0)}}while(e&&i.length>0);n.push(r)}var o,a;return n}((new zN).Kq(this.lz))},i.hl=function(){this.Ty=tg.Yw,this.Zg=tg.Yw,this.vz.hl(),this.vz.Bq(null),this.dz.hl(),this.dz.Bq(null),this.lz.hl(),this.lz.Bq(null),this._z=this.vz,this.Pl=QN.GR},n}(Fi);function KN(t,n,i,r){return n>=i&&r>=t}!function(t){t.FONT_REGULAR="regular",t.FONT_UNDERLINE="underline",t.FONT_ITALICS="italics",t.FONT_UNDERLINE_ITALICS="underline-italics"}(JN||(JN={}));var tD={kB:YI.WHITE,mB:QI.DW,pB:"100%",AB:YI.BLACK,bB:"transparent",TB:"none",xz:JN.FONT_REGULAR},nD=[{Pz:YI.WHITE,xz:JN.FONT_REGULAR,Uq:0},{Pz:YI.WHITE,xz:JN.FONT_UNDERLINE,Uq:0},{Pz:YI.GREEN,xz:JN.FONT_REGULAR,Uq:0},{Pz:YI.GREEN,xz:JN.FONT_UNDERLINE,Uq:0},{Pz:YI.BLUE,xz:JN.FONT_REGULAR,Uq:0},{Pz:YI.BLUE,xz:JN.FONT_UNDERLINE,Uq:0},{Pz:YI.CYAN,xz:JN.FONT_REGULAR,Uq:0},{Pz:YI.CYAN,xz:JN.FONT_UNDERLINE,Uq:0},{Pz:YI.RED,xz:JN.FONT_REGULAR,Uq:0},{Pz:YI.RED,xz:JN.FONT_UNDERLINE,Uq:0},{Pz:YI.YELLOW,xz:JN.FONT_REGULAR,Uq:0},{Pz:YI.YELLOW,xz:JN.FONT_UNDERLINE,Uq:0},{Pz:YI.MAGENTA,xz:JN.FONT_REGULAR,Uq:0},{Pz:YI.MAGENTA,xz:JN.FONT_UNDERLINE,Uq:0},{Pz:YI.WHITE,xz:JN.FONT_ITALICS,Uq:0},{Pz:YI.WHITE,xz:JN.FONT_UNDERLINE_ITALICS,Uq:0},{Pz:YI.WHITE,xz:JN.FONT_REGULAR,Uq:0},{Pz:YI.WHITE,xz:JN.FONT_UNDERLINE,Uq:0},{Pz:YI.WHITE,xz:JN.FONT_REGULAR,Uq:4},{Pz:YI.WHITE,xz:JN.FONT_UNDERLINE,Uq:4},{Pz:YI.WHITE,xz:JN.FONT_REGULAR,Uq:8},{Pz:YI.WHITE,xz:JN.FONT_UNDERLINE,Uq:8},{Pz:YI.WHITE,xz:JN.FONT_REGULAR,Uq:12},{Pz:YI.WHITE,xz:JN.FONT_UNDERLINE,Uq:12},{Pz:YI.WHITE,xz:JN.FONT_REGULAR,Uq:16},{Pz:YI.WHITE,xz:JN.FONT_UNDERLINE,Uq:16},{Pz:YI.WHITE,xz:JN.FONT_REGULAR,Uq:20},{Pz:YI.WHITE,xz:JN.FONT_UNDERLINE,Uq:20},{Pz:YI.WHITE,xz:JN.FONT_REGULAR,Uq:24},{Pz:YI.WHITE,xz:JN.FONT_UNDERLINE,Uq:24},{Pz:YI.WHITE,xz:JN.FONT_REGULAR,Uq:28},{Pz:YI.WHITE,xz:JN.FONT_UNDERLINE,Uq:28}],iD=[11,-1,1,2,3,4,12,13,14,15,5,6,7,8,9,10],rD=function(t){function n(){var n;(n=t.call(this)||this).Bz=null,n.Lz=null,n.Mz=0;var i=new $N;return n.Uz=[i,new $N],i.ps("az",n.gs),n}qt(n,t);var i=n.prototype;return i.hl=function(){for(var t=0,n=this.Uz;t<n.length;t++){n[t].hl()}},i.Fz=function(t,n){if(n.xu===yN.fq&&n.Hz){n.Vz&&(this.Mz=0),this.Uz[this.Mz].Ty=t;var i=127&n.Xz,r=127&n.Wz;if(i+r!==0){switch(i){case 17:r>=32&&r<=47&&this.qz(),r>=48&&r<=63&&this.zz(i,r);break;case 18:case 19:r>=32&&r<=63&&this.zz(i,r);break;case 20:case 21:r>=32&&r<=47&&this.Gz(i,r);break;case 23:r>=33&&r<=35&&this.Gz(i,r),r>=46&&r<=47&&this.qz()}16===i&&r>=64&&r<=95?this.jz(i,r):i>=17&&i<=23&&r>=64&&r<=127&&this.jz(i,r),i>=32&&this.zz(i,r)}}},i.Gz=function(t,n){var i=null;if(t===this.Bz&&n===this.Lz)return this.Bz=null,this.Lz=null,!0;i=20===t||23===t?0:1;var r=this.Uz[i];return 20===t||28===t?32===n?r.wz():33===n?r.yz():34===n?r.mz():35===n?r.kz():36===n?r.pz():37===n?r.Az(2):38===n?r.Az(3):39===n?r.Az(4):40===n?r.bz():41===n?r.Tz():42===n?r.Ez():43===n?r.Sz():44===n?r.Rz():45===n?r.Iz():46===n?r.Nz():47===n&&r.Dz():r.Cz(n-32),this.Bz=t,this.Lz=n,this.Mz=i,!0},i.jz=function(t,i){t===this.Bz&&i===this.Lz&&(this.Bz=null,this.Lz=null);var r=t<=23?0:1,e=iD[t<<1&14|i>>5&1]-1;if(!(e<0)){var u=n.Qz(e,i);this.Uz[r].Lq(u),this.Bz=t,this.Lz=i,this.Mz=r}},n.Qz=function(t,n){var i=n>95?n-96:n-64;return{Pz:nD[i].Pz,xz:nD[i].xz,Uq:nD[i].Uq,Mq:t}},i.zz=function(t,n){var i=t>=25?t-8:t,r=this.Uz[this.Mz],e=!1;switch(i){case 17:r.bq(n+80),e=!0;break;case 18:r.bq(n+112),e=!0;break;case 19:r.bq(n+144),e=!0;break;default:t>=32&&(r.bq(t),n>=32&&r.bq(n),e=!0)}e&&(this.Bz=null,this.Lz=null)},i.qz=function(){this.Uz[this.Mz]._z.pq(1)},i.Jf=function(){this.Ts()},T(n,[{key:"Ip",get:function(){return this.Uz.length}}]),n}(Fi),eD=function(){function t(t,n,i){this.Yz=t,this.Zz=n,this.fW=i}var n=t.prototype;return n.Jz=function(){return this.$z=this.Kz(),this.tG(),this.nG(),this.$z},n.Kz=function(){var t=s.createElement("div");return t.style.position="absolute",t.style.margin="0",t.style.padding="0",t.style.whiteSpace="pre",t.style.width=this.iG/BN*this.Zz.rG*100+"%",t.style.height=1.2*this.eG+"em",t.style.lineHeight="1.2em",t.style.letterSpacing=this.Zz.uG?"calc(1em - 1ch)":"",t.style.fontFamily=this.fW.mB,t.style.backgroundColor=this.fW.bB,t},n.tG=function(){var t=this.sG.Mq/PN*100,n=this.sG.Uq/BN*100,i=(BN-this.oG.Uq-1)/BN*100,r=(PN-this.oG.Mq-1)/PN*100;this.Zz.aG||(n=i=1,this.$z.style.width="98%"),r<t?this.$z.style.bottom=r*this.Zz.rG+"%":this.$z.style.top=t*this.Zz.rG+"%",i<n?this.$z.style.right=i+"%":this.$z.style.left=n+"%"},n.nG=function(){for(var t=this.Yz.Gq.sort(uD),n=0;n<t.length;n++)this.cG(t[n-1],t[n]),this.hG(t[n]);this.cG(t[t.length-1],null)},n.hG=function(n){var i=GI(this.fW,n.$q),r=t.fG(i);KI(r,n.Jq),this.$z.appendChild(r)},t.fG=function(t){var n=s.createElement("span");return n.style.display="inline-block",t.xz!==JN.FONT_ITALICS&&t.xz!==JN.FONT_UNDERLINE_ITALICS||(n.style.fontStyle="italic"),t.xz!==JN.FONT_UNDERLINE&&t.xz!==JN.FONT_UNDERLINE_ITALICS||(n.style.textDecoration="underline"),n.style.color=t.kB,n.style.backgroundColor=t.AB,n.style.textShadow=JI(t.TB),n.style.height="1.2em",n},n.cG=function(t,n){var i=t?t.Qq.Mq:this.Yz.jq.Mq,r=n?n.jq.Mq:this.Yz.Qq.Mq,e=t?t.Qq.Uq:this.Yz.jq.Uq,u=n?n.jq.Uq:this.Yz.Qq.Uq;i<r&&(!n||t&&t.jq.Mq!==n.jq.Mq?this.vG():this.dG(this.Yz.Qq.Uq-e),e=this.Yz.jq.Uq),e<u&&(n?this.dG(u-e):this.vG())},n.vG=function(){var t=s.createElement("br");this.$z.appendChild(t)},n.dG=function(t){if(!(t<=0)){var n=s.createElement("span");n.style.display="inline-block",KI(n,Jn(" ",t)),this.$z.appendChild(n)}},T(t,[{key:"sG",get:function(){return this.Yz.jq}},{key:"oG",get:function(){return this.Yz.Qq}},{key:"iG",get:function(){return this.Yz.Qq.Uq-this.Yz.jq.Uq+1}},{key:"eG",get:function(){return this.Yz.Qq.Mq-this.Yz.jq.Mq+1}}]),t}();function uD(t,n){return function(t,n){if(t.Mq!==n.Mq)return t.Mq-n.Mq;return t.Uq-n.Uq}(t.jq,n.jq)}var sD=0;var oD=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,tD)||this}qt(n,t);var i=n.prototype;return i.vW=function(t){var n=s.createElement("div");return n.className="theoplayer-cea608-texttrack-"+t,n.style.position="absolute",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.height="100%",this.RW.mB&&(n.style.fontFamily=this.RW.mB),n},i.cW=function(t,n){this.lG()},i.lG=function(){var t,n=jI(this.RW);this._G={rG:(t=100*n)/100,uG:t<=100,aG:t<=150};var i=this.gG/BN;this.wG=i*n,this.nR.style.fontSize=this.wG+"px"},i.TW=function(t){var n=this;return this._G&&this._G.aG?this.yG(80):this.yG(100),this.lG(),t.$g.map(function(t){return new eD(t,n._G,n.RW).Jz()})},i.yG=function(t){var n=(100-t)/2;this.nR.style.left=n+"%",this.nR.style.width=t+"%"},T(n,[{key:"gG",get:function(){var t=this.nR.offsetWidth;return this._G&&this._G.aG||(t*=.8),t}},{key:"mW",get:function(){return"theoplayer-cea608-texttrack-"+sD++}}]),n}(ZI),aD=function(){function t(t,n,i,r,e){var u=this;this.mG=[],this.kG=function(t){var n=t.Bd;n.ps(Kv.Qd,u.pG),n.ps(Kv.Zd,u.pG),n instanceof dI&&(n.bH=u.bH),u.AG(n)},this.pG=function(t){var n=t.Bd;u.AG(n)},this.bG=function(t){var n=t.Bd;n.Es(Kv.Qd,u.pG),n.Es(Kv.Zd,u.pG),u.TG(n)},this.EG=function(){for(var t=u.bH,n=0,i=u.H_.fl;n<i.length;n++){var r=i[n];r instanceof dI&&(r.bH=t)}},this.SG=function(){for(var t=0,n=u.mG;t<n.length;t++){n[t].lW(u.nN)}},this.RG=t,this.gX=n,this.H_=i,this.IG=e,this.nN=r,this.H_.ps(Qv.Id,this.kG),this.H_.ps(Qv.Dd,this.bG),this.H_.ps("jd",this.pG),this.IG.ps(jp.Gd,this.EG),this.nN.ps("jd",this.SG),this.EG()}var n=t.prototype;return n.NG=function(t){for(var n=0,i=this.mG;n<i.length;n++){var r=i[n];if(r.Bd===t)return r}},n.DG=function(t){switch(t.xu){case v_.TTML:case v_.SRT:case v_.WEBVTT:case v_.CEA608:return!0}return!1},n.CG=function(t){switch(t.xu){case v_.TTML:return new uN(t,this.RG,t.El,this.gX);case v_.SRT:case v_.WEBVTT:return new SN(t,this.RG,t.El,this.gX);case v_.CEA608:return new oD(t,this.RG,t.El,this.gX)}},n.OG=function(t){var n=this.NG(t);n||((n=this.CG(t)).lW(this.nN),this.mG.push(n),t.Pl===Id.Cl&&n.kW())},n.TG=function(t){for(var n=this.mG,i=n.length-1;i>=0;i-=1){var r=n[i];r.Bd===t&&(r.Jf(),di(n,i))}},n.AG=function(t){var n;(n=t.Tl)!==Lw.eb&&n!==Lw.ub||!this.DG(t)||(t.Bl===f_.ERROR?this.TG(t):this.OG(t))},n.hl=function(){for(var t=0,n=this.mG;t<n.length;t++){var i=n[t];i.Bd.Es(Kv.Qd,this.pG),i.Bd.Es(Kv.Zd,this.pG),i.Jf()}gi(this.mG)},n.Jf=function(){this.hl();for(var t=0,n=this.mG;t<n.length;t++){n[t].Jf()}this.H_.Es(Qv.Id,this.kG),this.H_.Es(Qv.Dd,this.bG),this.H_.Es("jd",this.pG),this.IG.Es(jp.Gd,this.EG),this.nN.Es("jd",this.SG)},T(t,[{key:"bH",get:function(){return this.IG.zI}}]),t}();function cD(t){var n=new pT,i=function(t){var n=[];return mT.NO(t)&&n.push(new mT(t)),kT.NO(t)&&n.push(new kT(t)),n}(t);if(i.length>0){for(var r=0;r<i.length;r++){var e=i[r];n.PO(e)}n.xO(i[0])}return n}var hD,fD=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r)||this).xG=cD(n),u.nN=e,u.PG=new zI,u.BG=new aD(u.PG.yg,u.ZB,u.G_,u.nN,u.gR),u}qt(n,t);var i=n.prototype;return i.ag=function(){return this.ca},i.es=function(){var n=vn.coroutine(fn.mark(function n(){return fn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.xG.Jf(),this.PG.Jf(),this.BG.Jf(),n.next=5,t.prototype.es.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i.og=function(){t.prototype.og.call(this),this.PG.og()},i.sg=function(){t.prototype.sg.call(this),this.PG.sg()},i.zX=function(n){t.prototype.zX.call(this,n),this.PG.zX(n)},T(n,[{key:"nR",get:function(){return this.ca}},{key:"E_",get:function(){return this.ca.videoHeight}},{key:"S_",get:function(){return this.ca.videoWidth}},{key:"gR",get:function(){return this.xG}}]),n}(UI),vD=G_.Yw,dD=new G_(-1/0),lD=G_.Py,_D=function(t){function n(n,i){return t.call(this,n,i)||this}qt(n,t);var i=n.prototype;return i.Cw=function(t,n){return t.Lw(n)?M_.Rw:t._w(n)?M_.Ew:M_.Sw},i.Cg=function(t,n){return t.Cg(n)},i.Hw=function(t,n){return t.Hw(n)},i.Bw=function(t,n){return t.Bw(n)},i.gI=function(){return vD},i.wI=function(){return lD},i.pI=function(){return dD},n.HI=function(t){for(var i=[],r=0;r<t.length;r++)i.push(new G_(t.start(r)),new G_(t.end(r)));return new n(i)},n.LG=function(t){for(var i=[],r=[],e=0;e<t.vl;e++)i.push(new G_(t.uI(e))),i.push(new G_(t.oI(e))),r.push(t.sI(e)),r.push(t.aI(e));return new n(i,r)},n.XI=function(t){return new n([t,t],[!0,!0])},i.lI=function(t,i){return new n(t,i)},i.vI=function(t){return t.Oy},n.WI=function(){return gD},n}(Qp),gD=new _D([]),wD=["encrypted","loadstart","progress","suspend","abort","error","emptied","stalled","play","pause","seeking","seeked","loadedmetadata","loadeddata","waiting","playing","canplay","canplaythrough","timeupdate","ended","ratechange","durationchange","volumechange","bufferchange","webkitcurrentplaybacktargetiswirelesschanged"],yD=function(t){function n(n,i){var r;return(r=t.call(this)||this).MG=function(t){r.ys(new Vi(t.type))},r.UG=n,r.FG=i,r.FG.playsInline=!0,r.FG.style.width="100%",r.FG.style.height="100%",wD.forEach(function(t){return r.FG.addEventListener(t,r.MG)}),r.UG.appendChild(r.FG),r}qt(n,t);var i=n.prototype;return i.jn=function(t,n){this.FG.setAttribute(t,n)},i.Q_=function(){return this.FG.play()},i.Y_=function(){this.FG.pause()},i.po=function(){this.FG.load()},i.hl=function(){this.FG.removeAttribute("src"),this.FG.load()},i.es=function(){var t=this;this.Ts(),wD.forEach(function(n){return t.FG.removeEventListener(n,t.MG)})},i.HG=function(){var t={droppedVideoFrames:0,totalVideoFrames:0};return void 0!==this.FG.webkitDroppedFrameCount?t.droppedVideoFrames=this.FG.webkitDroppedFrameCount:t.droppedVideoFrames="function"==typeof this.FG.getVideoPlaybackQuality?this.FG.getVideoPlaybackQuality().droppedVideoFrames:0,void 0!==this.FG.webkitTotalFrameCount?t.totalVideoFrames=this.FG.webkitTotalFrameCount:t.totalVideoFrames="function"==typeof this.FG.getVideoPlaybackQuality?this.FG.getVideoPlaybackQuality().totalVideoFrames:0,t},i.qX=function(){this.p_=!this.p_,this.p_=!this.p_},i.createAggregateFullscreen=function(){return cD(this.FG)},T(n,[{key:"Bs",get:function(){return this.FG.error||void 0}},{key:"Ul",get:function(){return this.FG.src},set:function(t){this.FG.src=t}},{key:"X_",get:function(){return this.FG.autoplay},set:function(t){this.FG.autoplay=t}},{key:"R_",get:function(){return this.FG.volume},set:function(t){this.FG.volume=t}},{key:"w_",get:function(){return this.FG.currentTime},set:function(t){this.FG.currentTime=t}},{key:"$q",get:function(){return this.FG.style}},{key:"p_",get:function(){return this.FG.muted},set:function(t){this.FG.muted=t}},{key:"A_",get:function(){return this.FG.paused}},{key:"T_",get:function(){return this.FG.seeking}},{key:"gg",get:function(){return _D.HI(this.FG.buffered)}},{key:"Rg",get:function(){return _D.HI(this.FG.played)}},{key:"y_",get:function(){return this.FG.duration}},{key:"b_",get:function(){return this.FG.playbackRate},set:function(t){this.FG.playbackRate=t}},{key:"VG",get:function(){return this.FG.defaultPlaybackRate}},{key:"Ig",get:function(){return this.FG.preload},set:function(t){this.FG.preload=t}},{key:"E_",get:function(){return this.FG.videoHeight}},{key:"S_",get:function(){return this.FG.videoWidth}},{key:"XG",get:function(){return this.FG.getClientRects()}},{key:"m_",get:function(){return this.FG.ended}},{key:"Bl",get:function(){return this.FG.readyState}}]),n}(Fi);!function(t){t.WG="HELLO",t.qG="HI_THERE",t.zG="INITIALIZE",t.GG="APPEND_INIT",t.jG="APPEND_DATA",t.QG="ACK",t.YG="REMOVE",t.ZG="DESTROY_SESSION"}(hD||(hD={}));var mD=function(){function t(){this.UE=new cy}var n=t.prototype;return n.JG=function(t){var n=this;return this.UE.Eb(function(){var t=vn.coroutine(fn.mark(function t(i){var r,e,u,s,o,c;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(bi(i),r=new MessageChannel,e=r.port1,u=r.port2,a.serviceWorker.controller){t.next=7;break}return t.next=7,Gv(a.serviceWorker,"install",i);case 7:if("activated"===a.serviceWorker.controller.state){t.next=10;break}return t.next=10,Gv(a.serviceWorker.controller,"activate",i);case 10:return s={kind:hD.WG,port:u},a.serviceWorker.controller.postMessage(s,[u]),e.start(),n.Ma=e,t.prev=15,t.next=18,Gv(e,"message",i);case 18:if(o=t.sent,(c=o.data).kind===hD.qG){t.next=23;break}throw new d("Could not set up message channel");case 23:n.ha=c.sessionId,t.next=30;break;case 26:throw t.prev=26,t.t0=t.catch(15),Ai(t.t0)&&n.$G(),t.t0;case 30:case"end":return t.stop()}},t,null,[[15,26]])}));return function(n){return t.apply(this,arguments)}}(),t)},n.KG=function(t,n){var i=this;return this.Ma,this.UE.Eb(vn.coroutine(fn.mark(function r(){var e;return fn.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(i.Ma){r.next=2;break}throw new d("MessageSession not set up yet or already closed.");case 2:return n||(n=[]),i.Ma.postMessage(t,n),r.next=7,Gv(i.Ma,"message");case 7:return e=r.sent,r.abrupt("return",e.data);case 10:case"end":return r.stop()}},r)})))},n.tj=function(){var t=this;return this.UE.Eb(function(){return t.$G()})},n.$G=function(){if(a.serviceWorker.controller&&"activated"===a.serviceWorker.controller.state&&this.Ma){var t={kind:hD.ZG};this.Ma.postMessage(t),this.Ma.close(),this.Ma=void 0}},t}(),kD=["emptied","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","timeupdate","progress","seeking","seeked"],pD=function(t){function n(n,i){var r;(r=t.call(this,n)||this).nj=i;for(var e=0;e<kD.length;e++){var u=kD[e];r.nj.ps(u,r.fF)}return r}qt(n,t);var i=n.prototype;return i.kP=function(){var t=this.nj.Bl;return this.nj.T_&&t>Qd.o_&&(t=Qd.o_),t},i.es=function(){for(var n=0;n<kD.length;n++){var i=kD[n];this.nj.Es(i,this.fF)}t.prototype.es.call(this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).nS=Qd.s_,i.fF=function(){i.vF()},i.currentTimeProvider=n,i}qt(n,t);var i=n.prototype;return i.dF=function(t){if(this.nS!==t){this.nS=t;var n=this.currentTimeProvider.w_,i=G(n)?n:n.Nw();this.ys(new Nl(i,t))}},i.vF=function(){this.dF(this.kP())},i.hl=function(){this.dF(Qd.s_)},i.es=function(){this.Ts()},T(n,[{key:"Bl",get:function(){return this.kP()}}]),n}(Fi)),AD=function(){function t(){this.ij=G_.Py}var n=t.prototype;return n.rj=function(t,n){var i=t.Hw(n);this.ij=i.Dw(this.ej)?this.ij:i},n.uj=function(t){this.ij=t},T(t,[{key:"ej",get:function(){return this.ij}}]),t}(),bD=function(){function t(){this.Ab=vn.resolve()}return t.prototype.sj=function(t){var n=this.Ab.then(t);return this.Ab=n.then(j,j),n},t}(),TD=function(t){function n(n,i){var r;return(r=t.call(this)||this).xC=n,r.oj=i,r.aj=void 0,r.cj=void 0,r.hj=!0,r.UE=new bD,r.fj=new ki,r.vj=!1,r.dj=!1,r}qt(n,t);var i=n.prototype;return i.Fg=function(t,n){if(this.gM!==t){this.hj=t;var i=new Vi(t?"pl":"dU");this.ys(i)}return vn.resolve()},i.fM=function(t,n){},i.vM=function(t,n){},i.zL=function(){return this.dj},i.hs=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.fj.hs(),this.fj=new ki;case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.aM=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),i.dM=function(){var t=vn.coroutine(fn.mark(function t(n,i){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}(),i.oM=function(){var t=vn.coroutine(fn.mark(function t(i,r,e){var u,s,o,a=this;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i.xu===wS.$L){t.next=2;break}throw new d("Streaming or opaque segments are not supported yet.");case 2:return u=i.Jn,s=this.lj(e),o=function(){var t=vn.coroutine(fn.mark(function t(){var i,r,e,o,c,h,f;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(bi(s.ds),i=cw.Ik(new DataView(u.buffer)),(r=iw(i,lg.Bm)).length){t.next=5;break}throw new d("Moof boxes not found");case 5:return e=a._j,o=n.gj(r,e),c=a.wj(r,e),h=u.buffer,f={kind:hD.jG,mimeType:a.xC,segment:u,startPts:tg.Hy(o).Qy(),totalDuration:tg.Hy(c).Qy()},t.next=12,a.oj.KG(f,[h]);case 12:void 0===a.aj&&(a.aj=o),void 0===a.cj&&(a.cj=o),a.cj=a.cj.Cg(c),a.ys(new Vi(vS.ZL));case 16:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),t.abrupt("return",this.UE.sj(vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a.vj=!0,t.next=4,o();case 4:return t.prev=4,s.es(),a.vj=!1,t.finish(4);case 8:case"end":return t.stop()}},t,null,[[0,,4,8]])}))));case 6:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.cM=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r,e,u,s=this;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.xu===wS.$L){t.next=2;break}throw new d("Streaming or opaque initialization segments are not supported yet.");case 2:return r=n.Jn,e=this.lj(i),u=function(){var t=vn.coroutine(fn.mark(function t(){var n,i,u,o;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(bi(e.ds),n=cw.Ik(new DataView(r.buffer)),i=nw(n,lg.cm)){t.next=5;break}throw new d("Moov Box not found");case 5:if(0!==i.Vk.length){t.next=7;break}throw new d("Tracks not found");case 7:return s._j=i.Vk[0].Zk.pk.Ey,u=r.buffer,o={kind:hD.GG,mimeType:s.xC,segment:r},t.next=12,s.oj.KG(o,[u]);case 12:s.ys(new Vi(vS.ZL));case 13:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),t.abrupt("return",this.UE.sj(vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s.vj=!0,t.next=4,u();case 4:return t.prev=4,e.es(),s.vj=!1,t.finish(4);case 8:case"end":return t.stop()}},t,null,[[0,,4,8]])}))));case 6:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.hM=function(){this.dj=!0},i.Ao=function(){var t=vn.coroutine(fn.mark(function t(n,i,r){var e,u,s=this;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.lj(r),u=function(){var t=vn.coroutine(fn.mark(function t(){var n;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return bi(e.ds),n={kind:hD.YG,mimeType:s.xC,endTime:tg.Ly(i).Qy()},t.next=4,s.oj.KG(n);case 4:s.aj=void 0,s.cj=void 0,s.ys(new Vi(vS.ZL));case 7:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),t.abrupt("return",this.UE.sj(vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s.vj=!0,t.next=4,u();case 4:return t.prev=4,e.es(),s.vj=!1,t.finish(4);case 8:case"end":return t.stop()}},t,null,[[0,,4,8]])}))));case 3:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),n.gj=function(t,n){if(0===t.length)throw new d("Initial Moof box not found");var i=t[0];if(0===i.Vk.length)throw new d("No tracks");if(!i.Vk[0].gA)throw new d("No decode time");return new G_(i.Vk[0].gA.gA.toNumber(),n)},i.lj=function(t){var n=new ki;return n.fs(this.fj.ds),t&&n.fs(t),n},i.wj=function(t,n){var i=0;return t.forEach(function(t){t.Vk.forEach(function(t){t._A.forEach(function(t){t.AA.forEach(function(t){var n;i+=null!==(n=t.y_)&&void 0!==n?n:0})})})}),new G_(i,n)},T(n,[{key:"gg",get:function(){return void 0===this.aj||void 0===this.cj?Yp.WI():new Yp([this.aj.Oy,this.cj.Oy])}},{key:"Xp",get:function(){return{af:this.xC}}},{key:"bC",get:function(){return this.xC}},{key:"wM",get:function(){return Yp.WI()}},{key:"Px",get:function(){return 30},set:function(t){}},{key:"Ux",get:function(){return 30},set:function(t){}},{key:"gM",get:function(){return this.hj}},{key:"LO",get:function(){return this.vj}},{key:"yj",get:function(){return this.aj}},{key:"Jg",get:function(){return this.cj}}]),n}(Fi),ED=function(){function t(t,n){this.Ko=t,this.HU=hi(n,function(t){return Boolean(t.bC.match(/video/))}),this.FU=hi(n,function(t){return Boolean(t.bC.match(/audio/))}),this.mj()}t.kj=function(n,i){for(var r=[],e=0;e<n.$U.length;e++){var u=n.$U[e].af;r.push(new TD(u,i))}return new t(n,r)};var n=t.prototype;return n.mj=function(){},n.jE=function(t,n){return vn.resolve(void 0)},n.es=function(){var t=vn.coroutine(fn.mark(function t(){var n,i,r;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(n=0,i=[this.FU,this.HU].filter(M);n<i.length;n++)(r=i[n]).Ts(),r.aM().catch(j);case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.YU=function(t){},n.JU=function(t,n,i,r){},n.hM=function(){var t,n;null===(t=this.FU)||void 0===t||t.hM(),null===(n=this.HU)||void 0===n||n.hM()},n.fU=function(t){return!1},n.vU=function(t){},T(t,[{key:"pj",get:function(){return[this.FU,this.HU].filter(M).filter(function(t){return t.gM})}},{key:"oF",get:function(){return this.FU}},{key:"Xp",get:function(){return this.Ko}},{key:"y_",get:function(){return 0}},{key:"zL",get:function(){var t,n,i,r,e=null===(n=null===(t=this.FU)||void 0===t?void 0:t.zL())||void 0===n||n,u=null===(r=null===(i=this.HU)||void 0===i?void 0:i.zL())||void 0===r||r;return e&&u}},{key:"Ng",get:function(){return new Yp([0,1/0])}},{key:"aF",get:function(){return this.HU}},{key:"z_",get:function(){throw new d("Not implemented")}}]),t}(),SD=function(t){function n(n){var i;return(i=t.call(this)||this).Aj=!0,i.oj=new mD,i.bj=new AD,i.Tj=!0,i.Ej=new vn(function(t,n){i.Sj=t,i.Rj=n}),i.JI=!1,i.pV=vn.resolve(),i.AV=new ki,i.Ij=!0,i.TV=Yp.WI(),i.Nj=function(){i.A_||i.nj.gg.vl<=0||i.gg.vl<=0||i.bj.rj(new G_(i.gg.oI(i.gg.vl-1)),i.nj.gg.oI(i.nj.gg.vl-1))},i.Dj=function(){i.ys(new Al(i.w_))},i.Cj=function(){i.ys(new pl(i.w_,i.wg))},i.Oj=function(){i.ys(new kl(i.w_,i.b_))},i.xj=function(){i.ys(new Sl(i.w_,i.R_))},i.Pj=function(){i.ys(new ml(i.y_))},i.Bj=function(){i.ys(new Tp(i.w_))},i.Lj=function(){i.ys(new Ul)},i.Mj=function(){i.ys(new Fl)},i.Uj=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.nj.Ns("playing");case 2:i.Ij&&i.ys(new _l(i.w_)),i.Tj=!1,i.Ij=!0;case 5:case"end":return t.stop()}},t)})),i.Fj=function(){i.Tj=!0,i.ys(new ll(i.w_))},i.nj=n,i.wX=new pD(jt(i),i.nj),i.nj.jn("id","player_video"),i.Hj(),i.Vj(),i.xG=i.nj.createAggregateFullscreen(),i}qt(n,t);var i=n.prototype;return i.Hj=function(){this.nj.ps("timeupdate",this.Nj),this.nj.ps("ended",this.Dj),this.nj.ps("timeupdate",this.Cj),this.nj.ps("ratechange",this.Oj),this.nj.ps("volumechange",this.xj),this.nj.ps("durationchange",this.Pj),this.nj.ps("playing",this.Bj),this.nj.ps("seeking",this.Lj),this.nj.ps("seeked",this.Mj),this.nj.ps("play",this.Uj),this.nj.ps("pause",this.Fj)},i.Xj=function(){this.nj.Es("timeupdate",this.Nj),this.nj.Es("ended",this.Dj),this.nj.Es("timeupdate",this.Cj),this.nj.Es("ratechange",this.Oj),this.nj.Es("volumechange",this.xj),this.nj.Es("durationchange",this.Pj),this.nj.Es("playing",this.Bj),this.nj.Es("seeking",this.Lj),this.nj.Es("seeked",this.Mj),this.nj.Es("play",this.Uj),this.nj.Es("pause",this.Fj)},i.Vj=function(){this.wX.ps(vl.Qd,this.gs)},i.Wj=function(){this.wX.Es(vl.Qd,this.gs)},i.Zs=function(t,n){this.AV.hs(),this.AV=new ki,this.pV=this.OX(t,this.pV,this.AV.ds).catch(j)},i.OX=function(){var t=vn.coroutine(fn.mark(function t(n,i,r){var e,u,s;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.TV=this.Rg,u=null===(e=this.ME)||void 0===e?void 0:e.pj){t.next=4;break}return t.abrupt("return");case 4:return s=g.max.apply(g,u.map(function(t){return t.yj?t.yj.Oy:1/0})),this.JI=!0,this.ys(new Tl(n)),t.next=9,i.catch(j);case 9:if(bi(r),t.prev=10,this.Aj||this.qj(),this.nj.po(),this.Tj){t.next=17;break}return this.Ij=!1,t.next=17,Si(this.nj.Q_(),r);case 17:if(!(this.Bl<Qd.a_)){t.next=22;break}return t.next=20,this.wX.Ns(vl.Qd,r);case 20:t.next=17;break;case 22:this.Sj(),this.Aj=!1,this.JI=!1,this.ys(new El(this.w_)),t.next=32;break;case 28:throw t.prev=28,t.t0=t.catch(10),this.Rj(),t.t0;case 32:return t.prev=32,this.zj(),this.bj.uj(new G_(s)),t.finish(32);case 36:case"end":return t.stop()}},t,this,[[10,28,32,36]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.Y_=function(){this.Tj=!0,this.nj.Y_()},i.Q_=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Tj=!1,t.prev=1,this.nj.Ul){t.next=8;break}return this.qX(),t.next=6,this.Ej;case 6:t.next=10;break;case 8:return t.next=10,this.nj.Q_();case 10:t.next=16;break;case 12:throw t.prev=12,t.t0=t.catch(1),this.Tj=!0,t.t0;case 16:case"end":return t.stop()}},t,this,[[1,12]])}));return function(){return t.apply(this,arguments)}}(),i.es=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.oj&&this.oj.tj().catch(j),this.AV.hs(),this.Xj(),this.Wj(),this.wX.es(),this.Ts();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.hl=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.oj&&this.oj.tj().catch(j),this.AV.hs(),this.nj.hl(),this.wX.hl(),this.TV=Yp.WI();case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.qX=function(){this.nj.qX()},i.qj=function(){var t,n=this.nj.XG;if(n.length>0){var i,r,e=(t=n[0]).width,u=this.nj.S_/this.nj.E_,s=t.height;e/s>u?(i=s*u,r=s):(r=e/u,i=e),this.nj.$q.width=i+"px",this.nj.$q.height=r+"px",this.nj.$q.marginLeft=(e-i)/2+"px",this.nj.$q.marginTop=(s-r)/2+"px",this.nj.$q.backgroundColor="black"}},i.zj=function(){this.nj.$q.width="100%",this.nj.$q.height="100%",this.nj.$q.marginLeft="",this.nj.$q.marginTop="",this.nj.$q.backgroundColor=""},i.lR=function(t,n,i,r){},i.gb=function(t,n,i,r,e){},i.qL=function(t){return vn.resolve(void 0)},i.bR=function(){var t=this.nj.HG();return{pg:0,kg:t.droppedVideoFrames,Ag:t.totalVideoFrames}},i.sg=function(){this.nj.$q.display="block"},i.og=function(){this.nj.$q.display="none"},i.uF=function(){},i.po=function(){var t=vn.coroutine(fn.mark(function t(n){var i;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.xu!==Zk.JE){t.next=2;break}throw new d("Not yet implemented");case 2:return t.next=4,this.oj.JG();case 4:return i={kind:hD.zG,mediaBufferConfigs:n.$U.map(function(t){return t.af})},t.next=7,this.oj.KG(i);case 7:return this.ME=ED.kj(n,this.oj),this.nj.Ig="none",this.nj.Ul="https://theo.proxy/"+this.oj.ha+"/master.m3u8",t.abrupt("return",this.ME);case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.sF=function(){},i.mb=function(t){},i.AR=function(t){},i.vR=function(){return!1},T(n,[{key:"w_",get:function(){return this.nj.w_+this.bj.ej.Oy}},{key:"A_",get:function(){return this.nj.A_}},{key:"R_",get:function(){return this.nj.R_},set:function(t){this.nj.R_=t}},{key:"b_",get:function(){return this.nj.b_},set:function(t){this.nj.b_=t}},{key:"VG",get:function(){return this.nj.VG}},{key:"gg",get:function(){var t,n,i=null!==(n=null===(t=this.ME)||void 0===t?void 0:t.pj)&&void 0!==n?n:[];return 0===i.length?Yp.WI():i.reduce(function(t,n){return t.yI(n.gg)},new Yp([0,1/0]))}},{key:"Rg",get:function(){var t=Yp.VI(this.nj.Rg);return this.TV.TI(t.Ys(this.bj.ej.Oy))}},{key:"T_",get:function(){return this.JI}},{key:"y_",get:function(){return this.nj.y_}},{key:"p_",get:function(){return this.nj.p_},set:function(t){this.nj.p_=t}},{key:"$q",get:function(){return this.nj.$q}},{key:"QX",get:function(){return dn(dn({},cS),{OL:!0,xL:300})}},{key:"Bl",get:function(){return this.wX.Bl}},{key:"E_",get:function(){return this.nj.E_}},{key:"S_",get:function(){return this.nj.S_}},{key:"m_",get:function(){return this.nj.m_}},{key:"rp",get:function(){return 0}},{key:"Ka",get:function(){return 0}},{key:"mg",get:function(){return!1}},{key:"jX",get:function(){return!1}},{key:"wg",get:function(){}},{key:"ZB",get:function(){}},{key:"Bs",get:function(){}},{key:"gR",get:function(){return this.xG}},{key:"Ng",get:function(){return this.ME?this.ME.Ng:Yp.WI()}},{key:"TR",get:function(){}},{key:"G_",get:function(){}},{key:"GX",get:function(){return"block"===this.nj.$q.display}}]),n}(Fi),RD=2,ID=[Kl.Vf,Kl.Xf];function ND(t){var n=s.createElement(t);return je(n)&&function(t){t.addEventListener("contextmenu",function(t){t.preventDefault()})}(n),DD(n),n}function DD(t){t.removeAttribute("id"),t.removeAttribute("class"),t.removeAttribute("style"),function(t){if(t)for(var n;n=t.firstChild;)t.removeChild(n)}(t),Qe(t),t.pause(),t.playbackRate=1,t.preload=Vp.zR,t.controls=!1,t.style.display="none",je(t)&&(t.style.width="100%",t.style.height="100%",t.style.pointerEvents="none",t.playsInline=!0,t.setAttribute("webkit-playsinline",""))}function CD(t,n){if(n.Wa){var i=t.muted;t.muted=!0,t.muted=!1,t.muted=i}else if(t.paused){var r=t.play();q(r)&&Ci(r),t.pause()}}var OD;pn=(OD={Gj:function(){function t(t,n,i,r,e){void 0===i&&(i=RD),void 0===r&&(r=ID),void 0===e&&(e=nu()),this.jj=i,this.Qj=[].concat(r),this.Vu=e,this.gX=t,this.nN=n,this.Yj=_n(),this.Zj()}var n=t.prototype;return n.rN=function(t){for(var n=0,i=this.sN;n<i.length;n++){i[n].zX(t)}this.Jj&&(this.$j=new yD(t,this.Jj))},n.KS=function(t){var n=hi(this.Yj.get(t),function(t){return t.Kj});if(n)return n.Kj=!1,n.tQ},n.nQ=function(t){var n;if(!this.Jj)throw new d("Error creating iOS Safari MediaController");return null===(n=this.$j)||void 0===n||n.hl(),DD(this.Jj),new SD(this.$j)},n.mR=function(){var t=vn.coroutine(fn.mark(function t(n){var i,r,e;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.nR,r=i.tagName.toLowerCase(),t.next=4,n.hl();case 4:DD(i),(e=hi(this.Yj.get(r)||[],function(t){return n===t.tQ}))&&(e.Kj=!0);case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.uN=function(){for(var t=0,n=this.iQ;t<n.length;t++){CD(n[t],r.ld)}this.Jj&&CD(this.Jj,r.ld)},n.Jf=function(){for(var t,n=0,i=this.sN;n<i.length;n++){var r=i[n],e=r.nR;r.es(),DD(e),Ve(e)}this.Jj&&(null===(t=this.$j)||void 0===t||t.es(),DD(this.Jj),Ve(this.Jj))},n.Zj=function(){for(var t=0,n=this.Qj;t<n.length;t++){var i=n[t],r=[];this.Yj.set(i,r);for(var e=0;e<this.jj;e++){var u=ND(i),s=i===Kl.Vf?new WI(u,this.Vu,this.gX):new fD(u,this.Vu,this.gX,this.nN);r.push({tQ:s,Kj:!0})}}P.rn&&P.Xt&&(this.Jj=ND(Kl.Xf))},T(t,[{key:"sN",get:function(){for(var t=[],n=0,i=this.Qj;n<i.length;n++){var r=i[n],e=this.Yj.get(r).map(function(t){return t.tQ});t.push.apply(t,e)}return t}},{key:"iQ",get:function(){return this.sN.map(function(t){return t.nR})}}]),t}(),rQ:function(){function t(n){var i=this;this.iN=n,this.eQ=new cy,this.uQ=vn.coroutine(fn.mark(function n(){var r,e,u;return fn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=i.iN.KS(Kl.Xf),e=r.nR,n.next=4,t.sQ(e);case 4:return u=n.sent,n.next=7,i.iN.mR(r);case 7:return n.abrupt("return",u);case 8:case"end":return n.stop()}},n)}))}var n=t.prototype;return n.EL=function(){return this.eQ.Eb(this.uQ)},n.rg=function(){this.iN.uN()},t.sQ=function(){var n=vn.coroutine(fn.mark(function n(i){return fn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i.src||(i.src="data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw"),n.next=3,t.oQ();case 3:return n.next=5,t.aQ(i);case 5:if(!n.sent){n.next=7;break}return n.abrupt("return","all");case 7:return n.next=9,t.cQ(i);case 9:if(!n.sent){n.next=11;break}return n.abrupt("return","muted");case 11:return n.abrupt("return","none");case 12:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}(),t.aQ=function(){var t=vn.coroutine(fn.mark(function t(n){var i;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n.play(),t.prev=1,q(i)){t.next=4;break}return t.abrupt("return",!P.qt);case 4:return t.next=6,i;case 6:return t.abrupt("return",!0);case 9:return t.prev=9,t.t0=t.catch(1),t.abrupt("return",!1);case 12:return t.prev=12,n.pause(),t.finish(12);case 15:case"end":return t.stop()}},t,null,[[1,9,12,15]])}));return function(n){return t.apply(this,arguments)}}(),t.cQ=function(){var n=vn.coroutine(fn.mark(function n(i){var r;return fn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i.muted=!0,n.next=3,t.aQ(i);case 3:return r=n.sent,i.muted=!1,n.abrupt("return",r);case 6:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}(),t.oQ=function(){return new vn(function(t){if("function"==typeof MessageChannel){var n=new MessageChannel;n.port1.onmessage=function(){return t()},n.port2.postMessage("")}else c(t,0)})},n.Jf=function(){this.eQ.Jf()},t}(),hQ:{FC:function(t){Tn.addEventListener("beforeunload",t)},ZC:function(t){Tn.removeEventListener("beforeunload",t)}},fQ:u}).Gj,An=OD.rQ,bn=OD.hQ,Tn=OD.fQ,En=Tn&&Tn.location,Sn=Tn&&Tn.navigator;var xD=[];function PD(){xD.shift()()}function BD(t){xD.push(t),c(PD,0)}var LD=function(){function t(t){this.vQ=t}var n=t.prototype;return n.dQ=function(t){return this.lQ=this.lQ||{},void 0===this.lQ[t]&&(this.lQ[t]=[]),this.lQ[t]},n.addEventListener=function(t,n){var i=this.dQ(t);-1===i.indexOf(n)&&i.push(n)},n.bs=function(t){(this._Q||(this._Q=[])).push(t)},n.removeEventListener=function(t,n){var i=this.dQ(t);n?vi(i,n):i.length=0},n.Is=function(t){var n=this._Q;n&&vi(n,t)},n.Ts=function(){this.lQ=void 0},n.dispatchEvent=function(t,n){if(n)return BD(this.dispatchEvent.bind(this,t));"string"==typeof t&&(t={type:t});for(var i=this.dQ(t.type).slice(),r=this._Q&&this._Q.slice(),e=0;e<i.length;e++){i[e].call(this.vQ||this,t)}if(r)for(var u=0;u<r.length;u++){r[u].call(this.vQ||this,t)}},n.gQ=function(t){return Boolean(this.lQ&&this.lQ[t]&&this.lQ[t].length)},n.wQ=function(){return this.lQ?_.keys(this.lQ):[]},t}(),MD=function(){function t(){this.yQ=[]}var n=t.prototype;return n.kj=function(t,n){var i=this.yQ[t];return i?new i(n):null},n.NL=function(t,n){this.yQ[t]=n},t}();MD._n=new MD;var UD,FD=function(t){function n(n,i){var r,e=VD[n];return(r=t.call(this,e?e.Os:"")||this).code=n,r.info=i,r.helpLink=e&&e.mQ,r.helpLinkText=e&&e.kQ,r}return qt(n,t),T(n,[{key:"name",get:function(){return"THEOplayerError"}}]),n}(Yt);!function(t){t.pQ="LICENSE_INVALID",t.AQ="MANIFEST_NOT_FOUND",t.bQ="MANIFEST_CORS_ERROR",t.TQ="INVALID_HLS_MANIFEST",t.EQ="PLAYBACK_ISSUE",t.SQ="AUDIO_ISSUE",t.RQ="BROWSER_SUPPORT_ISSUE",t.IQ="INVALID_KEY",t.NQ="DECRYPTION_ERROR",t.DQ="AD_BLOCK_DETECTED",t.CQ="THEOPLAYER_NOT_INITIALIZED",t.Ol="ERROR",t.OQ="MANIFEST_SEQUENCE_RESET_ERROR",t.xQ="PLAYER_INCORRECTLY_CONFIGURED",t.PQ="UNSUPPORTED"}(UD||(UD={}));for(var HD=[{so:UD.pQ,Os:"The license for this player is invalid. Please contact your service provider for additional information."},{so:UD.AQ,Os:"Could not load the manifest file."},{so:UD.bQ,Os:"Could not load the manifest file. Make sure the source is set correctly and that CORS support is enabled.",mQ:"https://www.theoplayer.com/documentation/cors.html",BQ:!1},{so:UD.TQ,Os:"The source of the player is an invalid HLS manifest.",mQ:"https://developer.apple.com/library/ios/technotes/tn2288/_index.html"},{so:UD.EQ,Os:"There appears to be a playback issue."},{so:UD.SQ,Os:"There is an audio issue. Please contact your service provider with the code below for additional information."},{so:UD.RQ,Os:"Your browser doesn't support a feature. Try upgrading your browser or please contact your service provider referring to the code below."},{so:UD.IQ,Os:"There is an invalid key being decrypted. Please contact your service provider with the code below for additional information."},{so:UD.NQ,Os:"There is a decryption error. Please contact your service provider with the code below for additional information."},{so:UD.DQ,Os:"An ad blocker was detected. Please turn it off and refresh the page in order to watch this video."},{so:UD.CQ,Os:"THEOplayer hasn't been initialized yet. Please check your configuration or wait."},{so:UD.Ol,Os:"THEOplayer encountered an error. If this issue holds, please contact your service provider."},{so:UD.OQ,Os:"The video stream has been reset. THEOplayer will attempt to reload the source."},{so:UD.xQ,Os:"The player is incorrectly configured.",mQ:"https://support.theoplayer.com/hc/en-us/articles/214343065-Player-API"},{so:UD.PQ,Os:"This browser does not allow you to watch this video. Try to update your browser or use a different browser."}],VD={},XD=0;XD<HD.length;XD++){var WD=HD[XD];VD[WD.so]=WD}function qD(t){return t.LQ}var zD=function(){function t(){this.Yc=[],this.MQ={},this.UQ=0}var n=t.prototype;return n.FQ=function(t){var n=this.MQ[t];return void 0===n?-1:n-this.UQ},n.HQ=function(t){return this.Yc[t]},n.VQ=function(t){return this.HQ(this.FQ(t))},n.XQ=function(t){return!!this.HQ(t)},n.WQ=function(t){return!!this.VQ(t)},n.qQ=function(){return this.Yc},n.Cg=function(t){var n,i=this.Yc,r=i.length?i[i.length-1]:null;if(this.FQ(t.LQ)>=0)return!1;if(r&&t.LQ>r.LQ)n=i.length;else{var e=KS(this.Yc,t.LQ,qD,F_);if(e>=0)return!1;n=-(e+1)}return this.zQ(t,n),!0},n.Ao=function(t){var n=this.Yc,i=this.MQ,r=this.FQ(t.LQ);return!(r<0)&&(n.splice(r,0,t),delete i[t.LQ],this.GQ(r),!0)},n.jQ=function(t){var n=this.Yc,i=this.MQ;t=g.min(t,n.length);for(var r=0;r<t;r++)delete i[n[r].LQ];n.splice(0,t),this.UQ+=t},n.zQ=function(t,n){var i=this.Yc;n>=i.length?i.push(t):i.splice(n,0,t),this.GQ(n)},n.GQ=function(t){for(var n=this.Yc,i=this.MQ,r=this.UQ,e=n.length,u=t;u<e;u++)i[n[u].LQ]=u+r},T(t,[{key:"vl",get:function(){return this.Yc.length}}]),t}(),GD=function(){function t(t,n,i){this.QQ=t,this.YQ=n,this.ZQ=i}var n=t.prototype;return n.compute=function(){return this.QQ.live?this.QQ.JQ?this.QQ.$Q:this.estimateDiscontinuitySequenceNumber():0},n.estimateDiscontinuitySequenceNumber=function(){var t=0;return this.ZQ&&(t+=this.KQ()),this.tY()&&(t+=this.nY(t)),t},n.tY=function(){return void 0!==this.YQ.iY.VQ(this.QQ.fragments[0].LQ)},n.nY=function(t){var n=this.QQ.fragments[0];return this.YQ.iY.VQ(n.LQ).rY-(n.rY+t)||0},n.KQ=function(){var t=jD(this.QQ),n=jD(this.ZQ.eY),i=this.estimateMinimalOffset(n,t);return this.getOldDiscontinuitySequenceNumber(this.ZQ)+i},n.estimateMinimalOffset=function(t,n){for(var i=0,r=1/0,e=0;e<t.length;e+=1){for(var u=0,s=0;s<n.length+t.length;s+=1){var o=t[s]||0,a=n[s-e]||0;u+=g.abs(o-a)}u<r&&(i=e,r=u)}return i},n.getOldDiscontinuitySequenceNumber=function(t){return t.eY.fragments.length?this.ZQ.uY(t.eY.fragments[0].LQ).rY:0},t}();function jD(t){for(var n=[],i=0,r=0,e=t.fragments;r<e.length;r++){var u=e[r];u.sY&&(n.push(i),i=0),i+=u.duration}return n.push(i),n}var QD=function(t){function n(n){return t.call(this,g_.$d,n)||this}return qt(n,t),n.prototype.Pd=function(){return new YD(this.Yg.xd)},n}(A_),YD=function(t){function n(n){return t.call(this,w_.$d,n)||this}return qt(n,t),n}(b_),ZD=function(t){function n(n,i){var r,e=JD(i,n.y_,n.TR,n.oY);return(r=t.call(this,i,e,void 0,!1,n.Al)||this).aY=n.cY,r.hY=n.TR,r.fY=n.oY,r.cF=n.y_,r.vY=n.dY,r.lY=Boolean(n._Y),r.gY=n.wY||{},r.yY=n.mY,r.kY=n.pY,r.AY=n.bY,r.TY(),r.EY(),r}qt(n,t);var i=n.prototype;return i.bo=function(t){var n=!1;void 0===this.aY&&void 0!==t.cY&&(n=!0,this.aY=t.cY),void 0===this.fY&&void 0!==t.oY&&(n=!0,this.fY=t.oY),void 0===this.cF&&void 0!==t.y_&&(n=!0,this.cF=t.y_),void 0===this.vY&&void 0!==t.dY&&(n=!0,this.vY=t.dY),!this.lY&&t._Y&&(n=!0,this.lY=t._Y),n=this.updateCustomAttributes(t,n),void 0===this.yY&&void 0!==t.mY&&(n=!0,this.yY=t.mY),void 0===this.kY&&void 0!==t.pY&&(n=!0,this.kY=t.pY),void 0===this.AY&&void 0!==t.bY&&(n=!0,this.AY=t.bY),this.TY(),this.EY(),this.SY(),n&&this.ys(new QD(this))},i.updateCustomAttributes=function(t,n){var i=n;if(t.wY)for(var r=0,e=_.keys(t.wY);r<e.length;r++){var u=e[r];void 0===this.gY[u]&&(i=!0,this.gY[u]=t.wY[u])}return i},i.TY=function(){this.cF&&!this.fY&&(this.fY=new Date(this.hY.getTime()+1e3*this.cF))},i.EY=function(){this.fY&&!this.cF&&(this.cF=Ht(this.fY.getTime()-this.hY.getTime()))},i.SY=function(){this.vw===1/0&&(this.fY||this.cF)&&(this.vw=JD(this.fw,this.cF,this.hY,this.fY))},T(n,[{key:"xd",get:function(){var t;return this.Od||(this.Od=vd(T_(t=this),{get content(){return t.$g},get class(){return t.cY},get startDate(){return t.TR},get endDate(){return t.oY},get duration(){return t.y_},get plannedDuration(){return t.dY},get endOnNext(){return t._Y},get scte35Cmd(){return t.mY},get scte35Out(){return t.pY},get scte35In(){return t.bY},get customAttributes(){return t.wY}})),this.Od}},{key:"cY",get:function(){return this.aY}},{key:"TR",get:function(){return this.hY}},{key:"oY",get:function(){return this.fY}},{key:"y_",get:function(){return this.cF}},{key:"dY",get:function(){return this.vY}},{key:"_Y",get:function(){return this.lY}},{key:"mY",get:function(){return this.yY}},{key:"pY",get:function(){return this.kY}},{key:"bY",get:function(){return this.AY}},{key:"wY",get:function(){return this.gY}}]),n}(N_);function JD(t,n,i,r){return M(n)?t+n:r?t+(Ht(r.getTime())-Ht(i.getTime())):1/0}var $D,KD,tC,nC,iC,rC=function(t){function n(){return t.call(this,void 0,void 0,v_.DATE_RANGE)||this}qt(n,t);var i=n.prototype;return i.bo=function(t,n){var i=this;t=function(t){for(var n=_n(),i=[],r=0;r<t.length;r++){var e=t[r];if(n.has(e.Al)){var u=n.get(e.Al),s=dn(dn(dn({},u),gd(e)),{wY:dn(dn({},u.wY),e.wY)});n.set(e.Al,s)}else n.set(e.Al,e),i.push(e.Al)}return i.map(function(t){return n.get(t)})}(t);for(var r=this.Ll.fl,e=function(n){var e=r[n],u=hi(t,function(t){return t.Al===e.Al});u?e.bo(u):i.FF(e)},u=r.length-1;u>=0;u--)e(u);for(var s=0,o=t;s<o.length;s++){var a=o[s],c=a.TR;if(void 0!==c&&!this.MF(a.Al)){var h=n(c);this.yb(new ZD(a,h))}}},i.yb=function(n){this.RY(n),t.prototype.yb.call(this,n)},i.RY=function(t){var n=this.EF.filter(function(n){return n.cY===t.cY}).pop();n&&n._Y&&n.bo({Al:n.Al,oY:t.TR})},n}(pI);function eC(t){return uC(t)?{Rf:t.IY,NY:[t.NY.uI,t.NY.oI],Qf:!0}:{Rf:t.toString(),Qf:!0}}function uC(t){return void 0!==t.NY}function sC(t){return t&&t.DY&&og(t.DY)||!1}function oC(t){if(!t)return tg.Yw;if(!sC(t))return tg.Ly(t.duration);var n=t.CY||tg.Yw,i=t.OY||tg.Yw,r=tg.Ly(t.duration);return n.ty()||i.ty()?n.ty()?i.ty()?r.ty()?tg.Yw:r:i:n:tg.Ny(n,i)}function aC(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.kb)return i}return null}function cC(t){return aC(t)||function(t){return t.filter(function(t){return t.xY})}(t)[0]||t[0]}function hC(t,n){for(var i=0;i<n.length;i++){var r=n[i];li(t,r)||t.push(r)}return t}function fC(t){switch(t){case nC.Xf:case nC.PY:return Kl.Xf;case nC.Vf:return Kl.Vf}}!function(t){t.BY="alternative",t.LY="main",t.MY="commentary",t.UY="",t.sb="descriptions",t.FY="main-desc",t.HY="translation"}($D||($D={})),function(t){t.BY="alternative",t.LY="main",t.MY="commentary",t.UY="",t.ub="captions",t.VY="sign",t.eb="subtitles"}(KD||(KD={})),function(t){t.Xf="video",t.Vf="audio",t.XY="closedCaption",t.WY="variant"}(tC||(tC={})),function(t){t[t.Nf=-1]="Nf",t[t.Vf=0]="Vf",t[t.Xf=1]="Xf",t[t.PY=2]="PY"}(nC||(nC={})),function(t){t[t.Nf=-1]="Nf",t[t.qY=1]="qY",t[t.zY=2]="zY",t[t.GY=3]="GY",t[t.jY=4]="jY"}(iC||(iC={})),function(t){t.C_=function(n){return n>=t.zY},t.QY=function(n){return n===t.zY||n===t.GY}}(iC||(iC={}));var vC=function(t){function n(){var n;return(n=t.call(this)||this).YY=[],n.ZY=function(){return n.dispatchEvent("JY")},n.$Y=function(){return n.dispatchEvent("KY")},n}qt(n,t);var i=n.prototype;return i.Cg=function(t){this.YY.push(t),t.addEventListener("KY",this.$Y),t.addEventListener("tZ",this.ZY),this.dispatchEvent("nZ"),t.disabled||this.dispatchEvent("JY")},i.Ao=function(t){var n=this.YY.indexOf(t);n<0||(di(this.YY,n),t.removeEventListener("KY",this.$Y),t.removeEventListener("tZ",this.ZY),this.dispatchEvent("nZ"),t.disabled||this.dispatchEvent("JY"))},i.Gs=function(){for(var t=!!this.iZ.length,n=!!this.rZ.length,i=0,r=this.YY;i<r.length;i++){r[i].removeEventListener("tZ",this.ZY)}this.YY.length=0,t&&this.dispatchEvent("nZ"),n&&this.dispatchEvent("JY")},i.Jf=function(){this.Ts(),this.Gs()},T(n,[{key:"iZ",get:function(){return this.YY}},{key:"rZ",get:function(){return this.YY.filter(function(t){return!t.disabled})}}]),n}(LD);function dC(t){if(!t)return null;for(var n={eZ:"",uZ:"",sZ:""},i=t.toLowerCase().split(","),r=0;r<i.length;r++){var e=i[r],u=e.trim();"mp4a.40.5"===u||"mp4a.40.05"===u?n.eZ="mp4a.40.5":"mp4a.40.2"===u||"mp4a.40.02"===u?n.eZ="mp4a.40.2":"mp4a.40.29"===u?n.eZ="mp4a.40.29":0===u.indexOf("mp4a.40.3")?n.eZ=u:"ec-3"===u?n.eZ=u:0===u.indexOf("avc")?n.uZ=e:n.sZ+=","+u}return n}var lC=function(t){function n(n,i,r,e,u,s,o,a,c,h,f,v,d,l,_,g){var w;return void 0===_&&(_=$D.LY),(w=t.call(this)||this).oZ=new zD,w.aZ=NaN,w.cZ=void 0,w.hZ=void 0,w.PF=void 0,w.fZ=void 0,w.vZ=!1,w.dZ=null,w.lZ=!1,w._Z=!0,w.gZ=!0,w.wZ=!0,w.yZ=void 0,w.mZ=void 0,w.kZ=void 0,w.pZ=void 0,w.AZ=void 0,w.bZ=void 0,w.TZ=void 0,w.EZ=null,w.SZ=void 0,w.RZ=n,w.IZ=Boolean(l),w.TE=i,w.Lg=r||0===r?r:-1,w.NZ=e,w.DZ=u,w.CZ=Boolean(s),w.OZ=Boolean(o),w.xZ=dC(a),w.PZ=g,w.BZ=c,w.fZ=h,w.LZ=f,w.hZ=v,w.PF=d,w.xF=_,w}qt(n,t),n.createFromPlaylistStream=function(t,i,r){return new n(t,i.name||i.media&&i.media.name||void 0,i.id,i["average-bandwidth"],i.uri,void 0,void 0,i.codecs,i.LQ,i.audio,i.resolution,i.bandwidth,i.media?i.media.language:void 0,r,t.MZ[0]?t.MZ[0].Tl:$D.LY)},n.createFromPlaylistMedia=function(t,i,r,e){return new n(t,i.name,i.id,void 0,i.uri,!!i.default&&"yes"===i.default.toLowerCase(),i.autoselect?"yes"===i.autoselect.toLowerCase():void 0,void 0,void 0,void 0,void 0,void 0,i.language,r,function(t){if(t.default&&"yes"===t.default.toLowerCase())return t.characteristics&&jn(t.characteristics,"public.accessibility.describes-video")?$D.FY:$D.LY;if(t.characteristics&&jn(t.characteristics,"public.accessibility.describes-video"))return $D.sb;return $D.BY}(i),e)},n.createFromUri=function(t,i,r){return new n(t,void 0,void 0,void 0,i,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,r)};var i=n.prototype;return i.UZ=function(t,n){var i=Ub(),r=new GD(t,this,n).compute(),e=this.FZ(t.fragments),u=e.oldFragments,s=e.newFragments;this.HZ(u,i),this.VZ(s,i,r),this.cZ!==t&&this.XZ(!0),this.cZ=t,this.dispatchEvent({type:"WZ",qZ:this}),this.dispatchEvent("renditionUpdated")},i.uY=function(t){return this.oZ.VQ(t)},i.zZ=function(){null!==this.dZ&&h(this.dZ),this.dispatchEvent("tZ"),this.dispatchEvent("renditionUpdated")},i.GZ=function(t){this.lZ=t,this.zZ()},i.jZ=function(){this.QZ(3e4)},i.Jf=function(){null!==this.dZ&&h(this.dZ),this.Ts()},i.YZ=function(){var t=this._Z;this._Z=this.gZ&&this.wZ,t!==this._Z&&this.dispatchEvent("KY")},i.XZ=function(t){this.gZ=t,this.YZ()},i.ZZ=function(t){this.wZ=t,this.YZ()},i.JZ=function(t){this.xZ="string"==typeof t?dC(t):t,this.dispatchEvent("renditionUpdated")},i.QZ=function(t){var n=this;this.vZ=!0,this.zZ(),this.dZ=c(function(){n.vZ=!1,n.zZ()},t)},i.$Z=function(t,n){return t?!n&&t.eZ&&t.uZ?nC.PY:t.uZ?nC.Xf:t.eZ?nC.Vf:nC.Nf:nC.Nf},i.FZ=function(t){void 0===t&&(t=[]);for(var n=[],i=[],r=0,e=t;r<e.length;r++){var u=e[r];this.oZ.WQ(u.LQ)?n.push(u):i.push(u)}return{oldFragments:n,newFragments:i}},i.HZ=function(t,n){for(var i=0;i<t.length;i++){var r=t[i],e=this.oZ.VQ(r.LQ);e.KZ=hC(e.KZ,r.KZ),e.tJ=r.tJ||e.tJ,e.nJ=n}},i.VZ=function(t,n,i){var r=this.iJ(t);!function(t,n){for(var i=0,r=t.length-1;r>=0;r--){var e=t[r];e.Wk=n-i,i+=1e3*e.duration}}(r,n),function(t,n){for(var i=0;i<t.length;i++){var r=t[i];r.rY+=n}}(r,i),this.addRenditionFragments(r)},i.iJ=function(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r.qZ=this;var e=dn({},r);n.push(e)}return n},i.addRenditionFragments=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.oZ.Cg(i),m(this.aZ)&&(this.aZ=i.LQ)}},T(n,[{key:"Al",get:function(){return this.Lg}},{key:"disabled",get:function(){return this.vZ||this.lZ},set:function(t){this.vZ=t,this.zZ()}},{key:"Sg",get:function(){return this._Z}},{key:"rJ",set:function(t){this.IZ=t}},{key:"eJ",get:function(){return this.xZ}},{key:"bandwidth",get:function(){return this.hZ},set:function(t){this.hZ=t,this.dispatchEvent("renditionUpdated")}},{key:"Tl",get:function(){return this.xF}},{key:"resolution",get:function(){return this.LZ},set:function(t){this.LZ=t,this.dispatchEvent("renditionUpdated")}},{key:"uri",get:function(){return this.DZ||this.cZ&&this.cZ.uri},set:function(t){this.DZ=t,this.dispatchEvent("renditionUpdated")}},{key:"eY",get:function(){return this.cZ}},{key:"iY",get:function(){return this.oZ}},{key:"uJ",get:function(){return void 0!==this.PZ?this.PZ:this.$Z(this.xZ,this.IZ)}},{key:"sJ",get:function(){return this.cZ?this.cZ.live?this.cZ.duration<-60?iC.GY:iC.jY:iC.qY:iC.Nf}},{key:"Dn",get:function(){return this.TE},set:function(t){this.TE=t,this.dispatchEvent("renditionUpdated")}},{key:"LQ",get:function(){return this.BZ}},{key:"Sl",get:function(){return this.PF}},{key:"kb",get:function(){return this.CZ}},{key:"xY",get:function(){return this.OZ||this.CZ}},{key:"eZ",get:function(){return this.fZ}},{key:"oJ",get:function(){return this.aZ}},{key:"aJ",get:function(){return!!this.eY}},{key:"cJ",get:function(){return this.NZ}},{key:"sf",get:function(){return this.RZ}},{key:"hJ",get:function(){return this.yZ},set:function(t){var n=this.yZ;this.yZ=t,n!==t&&this.dispatchEvent("renditionUpdated")}}]),n}(LD);var _C=function(t){function n(n,i){var r;(r=t.call(this)||this).oZ=new zD,r.cZ=void 0,r.fJ=null,r.vJ=function(){return r.dJ()},r.RZ=n,r.ba=i.type,r.Lg=i.id||0===i.id?i.id:-1,r.DZ=i.uri,r.PF=i.language,r.TE=i.name,r.CZ=!!i.default&&"yes"===i.default.toLowerCase(),r.OZ=!!i.autoselect&&"yes"===i.autoselect.toLowerCase();var e=function(t){if(jn(t.characteristics,"public.accessibility.describes-music-and-sound"))return Lw.ub;return Lw.eb}(i);return r.lJ=new lR(e,r.TE,r.PF,void 0,v_.WEBVTT),r.CZ&&(r.lJ.Pl=Id.Cl),r}qt(n,t);var i=n.prototype;return i.UZ=function(t){this.cZ=t,this.HZ(t.fragments),this.dJ(),this.dispatchEvent({type:"WZ",rendition:this}),this.dispatchEvent("renditionUpdated")},i.Jf=function(){this.Ts(),this.XA=null},i.HZ=function(t){for(var n=0;n<t.length;n++){var i=t[n];i.qZ=this;var r=this.oZ.VQ(i.LQ);r?r.KZ=hC(r.KZ,i.KZ):(r=dn({},i),this.oZ.Cg(r),this.dispatchEvent({type:"_J",gJ:r}))}},i.dJ=function(){this.fJ&&this.fJ.wJ(this,this.oZ)},T(n,[{key:"yJ",get:function(){return this.lJ}},{key:"XA",get:function(){return this.fJ},set:function(t){this.fJ&&this.fJ.removeEventListener("mJ",this.vJ),this.fJ=t,this.dJ(),this.fJ&&this.fJ.addEventListener("mJ",this.vJ)}},{key:"Al",get:function(){return this.Lg}},{key:"Sl",get:function(){return this.PF}},{key:"kb",get:function(){return this.CZ}},{key:"xY",get:function(){return this.OZ||this.CZ}},{key:"IY",get:function(){return this.DZ}},{key:"uri",get:function(){return this.DZ}},{key:"eY",get:function(){return this.cZ}},{key:"iY",get:function(){return this.oZ}},{key:"xu",get:function(){return this.ba}},{key:"sJ",get:function(){return this.cZ?this.cZ.live?this.cZ.duration<-60?iC.GY:iC.jY:iC.qY:iC.Nf}},{key:"Dn",get:function(){return this.TE},set:function(t){this.TE=t,this.lJ.El=this.TE}},{key:"sf",get:function(){return this.RZ}},{key:"disabled",get:function(){return!1}}]),n}(LD),gC=function(t){function n(n,i){var r;(r=t.call(this)||this).kJ=["renditionUpdated","WZ","pJ"],r.AJ=null,r.bJ=null,r.TJ=null,r.EJ=null,r.SJ=new vC,r.RJ=new vC,r.IJ=new vC,r.H_={},r.NJ=null,r.cF=NaN,r.gs=function(t){return r.dispatchEvent(t)},r.Ko=n,r.DJ=i;var e=jt(r);return r.CJ=function(){e.OJ(this)},r.xJ=function(t){e.PJ(this,t)},r}qt(n,t);var i=n.prototype;return i.BJ=function(t,n){var i=new AI(n);return i.Pl=Id.Dl,this.H_[i.Al]=i,this.dispatchEvent({type:"LJ",Bd:i}),i},i.MJ=function(t,n,i){var r=new pI(i,"manifest");return r.Pl=Id.Dl,this.H_[r.Al]=r,this.dispatchEvent({type:"LJ",Bd:r}),r},i.UJ=function(t,n){if(t){var i=t.Ll,r=t.FJ,e=t&&this.H_[r];e||(e=new AI(t.xl),this.H_[r]=e,e.Pl=Id.Dl,this.dispatchEvent({type:"LJ",Bd:e}));for(var u=0;u<i.length;u++){var s=i[u];e.yb(s)}}},i.HJ=function(t){t&&(this.VJ||(this.VJ=new lR(Lw.ub,"CC1","en",!0,v_.CEA608),this.H_.CC1=this.VJ,this.dispatchEvent({type:"LJ",Bd:this.VJ})),this.VJ.yb(t))},i.XJ=function(t,n,i){var r=this.H_[t];if(r){var e=[];!function(t,n,i,r){for(var e=0,u=t.Ll.fl;e<u.length;e++){var s=u[e];if(s.Zg>=i)break;n<s.Jg&&r.push(s)}}(r,n,i,e);for(var u=0;u<e.length;u++){var s=e[u];r.FF(s)}}},i.WJ=function(t,n){return this.qJ(t,n)},i.zJ=function(t){var n;return(n=this.GJ(t,this.SJ))?n:(n=this.GJ(t,this.RJ))?n:n=this.GJ(t,this.IJ)},i.Jf=function(){this.Rs(this.SJ),this.SJ.Jf(),this.Rs(this.RJ),this.RJ.Jf(),this.Rs(this.IJ),this.IJ.Jf(),this.H_={},this.VJ=void 0,this.jJ&&(this.jJ.Jf(),this.jJ=void 0),this.NJ=null,this.cF=NaN,this.AJ=null,this.bJ=null,this.TJ=null,this.EJ=null,this.dispatchEvent("Jf")},i.QJ=function(t){var n=lC.createFromUri(this,t.uri);this.Rs(this.RJ),this.RJ.Cg(n),n.addEventListener("renditionUpdated",this.CJ)},i.OJ=function(t){var n=t.eY,i=t.sJ;if(m(this.cF)||iC.C_(i)){if(iC.Nf===i)return;if(!n)return;this.cF=n.duration,this.dispatchEvent("YJ")}m(this.cF)||iC.qY!==i||t.removeEventListener("renditionUpdated",this.CJ)},i.ZJ=function(t){var n=this;this.Rs(this.SJ),this.SJ.Gs(),this.Rs(this.RJ),this.RJ.Gs(),this.IJ.Gs(),this.NJ=t;for(var i=t.streams.map(function(t){return lC.createFromPlaylistStream(n,t)}).filter(function(t){return function(t){if(!t)return!0;if(t.eZ&&!jn(t.eZ,"mp4a")&&!jn(t.eZ,"mp3"))return!1;if(t.uZ&&!jn(t.uZ,"avc1"))return!1;return!0}(t.eJ)}),r=i.some(function(t){return t.eJ&&t.eJ.eZ}),e=i.some(function(t){return t.eJ&&t.eJ.uZ}),u=0;u<i.length;u++){var s=i[u],o=Boolean(s.eJ&&s.eJ.eZ),a=Boolean(s.eJ&&s.eJ.uZ);r&&!o||e&&!a||(this.RJ.Cg(s),s.addEventListener("renditionUpdated",this.CJ))}for(var c=function(t,i){var r=i[t];switch(r.type.toLowerCase()){case"subtitles":if(!n.DJ){var e=new _C(n,r);n.IJ.Cg(e),n.dispatchEvent({type:"LJ",Bd:e.yJ})}break;case"closed-captions":break;case"audio":var u=n.RJ.iZ.filter(function(t){return t.eZ===r["group-id"]});if(0===u.length)return"continue";r.uri&&u.forEach(function(t){return t.rJ=!0});var s=r.uri?nC.Vf:nC.PY,o=lC.createFromPlaylistMedia(n,r,!1,s);n.SJ.Cg(o)}},h=0,f=t.media;h<f.length;h++)c(h,f);this.JJ=cC(this.MZ.rZ)||null,this.dispatchEvent("$J")},i.GJ=function(t,n){for(var i=0,r=n.iZ;i<r.length;i++){var e=r[i];if(e.uri===t)return e}return null},i.PJ=function(t,n){this.dispatchEvent(dn(dn({},n),{qZ:t}))},i.KJ=function(t){for(var n=0,i=t.iZ;n<i.length;n++)for(var r=i[n],e=0,u=this.kJ;e<u.length;e++){var s=u[e];r.addEventListener(s,this.xJ)}},i.Rs=function(t){for(var n=0,i=t.iZ;n<i.length;n++){i[n].Jf()}},i.t$=function(t,n){0!==t.length&&this.Ko.hlsDateRange&&(this.jJ||(this.jJ=new rC,this.dispatchEvent({type:"LJ",Bd:this.jJ})),this.jJ.bo(t,n))},i.n$=function(t,n){if(this.bJ!==t){var i=this.bJ;this.bJ=t,this.dispatchEvent({type:"i$",uJ:"eZ",qZ:this.bJ,r$:i,e$:n})}},i.qJ=function(t,n){if(this.TJ!==t){var i=this.TJ;this.TJ=t,t&&this.dispatchEvent({type:"i$",uJ:"uZ",qZ:this.TJ,r$:i,e$:n})}},i.u$=function(t){for(var n=0,i=t.iZ;n<i.length;n++){var r=i[n];if(r.sJ!==iC.Nf)return r.sJ}return null},T(n,[{key:"P_",get:function(){return this.AJ},set:function(t){t&&(0===t.streams.length?this.QJ(t):this.ZJ(t),this.AJ=t,this.KJ(this.RJ),this.KJ(this.SJ),this.dispatchEvent("s$"))}},{key:"o$",get:function(){return this.NJ}},{key:"y_",get:function(){return this.cF}},{key:"G_",get:function(){var t=this,n=this.IJ.iZ.map(function(t){return t.yJ}),i=_.keys(this.H_).map(function(n){return t.H_[n]});return this.VJ&&i.push(this.VJ),this.jJ&&i.push(this.jJ),n.concat(i)}},{key:"JJ",get:function(){return this.bJ},set:function(t){this.n$(t,!0)}},{key:"a$",get:function(){return this.TJ},set:function(t){this.qJ(t,!1)}},{key:"MZ",get:function(){return this.SJ}},{key:"c$",get:function(){return this.RJ}},{key:"h$",get:function(){return this.IJ.iZ}},{key:"sJ",get:function(){var t;return null!==(t=this.bJ&&this.bJ.sJ)&&t!==iC.Nf?t:null!==(t=this.TJ&&this.TJ.sJ)&&t!==iC.Nf?t:null!==(t=this.u$(this.SJ))?t:null!==(t=this.u$(this.RJ))?t:iC.Nf}}]),n}(LD);var wC=function(t){function n(n,i,r){var e,u,s,o,a;return(e=t.call(this)||this).Vk=[],e.f$={},e.gs=function(t){return e.dispatchEvent(t)},e.v$=function(t){e.d$(t)},e.l$=function(t){e.handleRenditionUpdated(t)},e._$=function(t){for(var n=0,i=e.Vk;n<i.length;n++){i[n].g$._$(t)}},e.w$=n,e.y$=i,e.m$=r,e.y$&&e.y$.addEventListener("i$",e.v$),e.m$&&(e.m$.addEventListener("renditionUpdated",e.l$),e.m$.addEventListener("k$",e._$)),e.xd=(u=jt(e),s=new LD,o={get length(){return u.Vk.length},enable:function(t){u.nb(u.p$(t&&t.id)||t)},disable:function(t){u.ib(u.p$(t&&t.id)||t)},item:function(t){return u.Vk[t]&&u.Vk[t].xd},getTrackByID:function(t){var n=u.p$(t);return n&&n.xd},addEventListener:function(t,n){s.addEventListener(t,n)},removeEventListener:function(t,n){s.removeEventListener(t,n)}},a=function(t){return s.dispatchEvent(t,!0)},u.addEventListener("addtrack",a),u.addEventListener("enabledtrack",a),u.addEventListener("disabledtrack",a),o),e}qt(n,t);var i=n.prototype;return i.p$=function(t){return this.f$[t]},i.ol=function(t){for(var n=0,i=t.g$.Rl;n<i.length;n++){var r=i[n];r.Al===this.A$()&&(r.gw=!0)}t.addEventListener("enabledtrack",this.gs),t.addEventListener("disabledtrack",this.gs),this.Vk.push(t),this.f$[t.Al]=t,this.dispatchEvent({type:"addtrack",track:t.xd})},i.nb=function(t){if(t){var n=this.f$[t.Al];if(n&&!n.pl){for(var i=this.Vk.length-1;i>=0;i--)this.Vk[i].ug();n.eg()}}},i.ib=function(t){},T(n,[{key:"b$",get:function(){return this.A$()}}]),n}(LD);var yC=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).T$=NaN,e}qt(n,t);var i=n.prototype;return i.A$=function(){return this.T$},i.d$=function(t){t.E$?this.S$(t.R$):t.I$&&this.S$(t.I$)},i.S$=function(t){t&&(this.T$=t.Al),this.Vk.forEach(function(n){return n.N$(t)})},i.handleRenditionUpdated=function(t){if(t.qZ&&t.qZ.uJ===nC.Vf)for(var n=0,i=this.Vk;n<i.length;n++){i[n].D$(t)}},i.nb=function(n){var i=n;if(!i){var r=this.Vk.filter(function(t){return t.kb});r.length>0&&(i=r[0])}t.prototype.nb.call(this,i)},T(n,[{key:"xu",get:function(){return"audio"}}]),n}(wC),mC=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).C$=NaN,e}qt(n,t);var i=n.prototype;return i.A$=function(){return this.C$},i.d$=function(t){(t.O$||t.R$)&&(t.R$&&(this.C$=t.R$.Al),this.Vk.forEach(function(n){return n.N$(t.R$)}))},i.handleRenditionUpdated=function(t){if(t.qZ&&(t.qZ.uJ===nC.Xf||t.qZ.uJ===nC.PY))for(var n=0,i=this.Vk;n<i.length;n++){i[n].D$(t)}},T(n,[{key:"xu",get:function(){return"video"}}]),n}(wC);function kC(t,n){for(var i,r=n-(i=t?F(t)?Array.prototype.map.call(t,function(t){return("0"+t.toString(16)).substr(-2)}).join(""):(+t).toString(16):"").length;r>0;)i="0"+i,r-=1;return i}function pC(t,n){return void 0===n&&(n=0),y(t.toFixed(n))}var AC=function(t){function n(n){var i,r,e,u;return(i=t.call(this)||this).gw=!1,i.x$=!0,i.qZ=n,i.gw=!1,i.xd=(r=jt(i),e=new LD,u={get bandwidth(){return r.qZ&&r.qZ.bandwidth},get averageBandwidth(){return r.qZ&&r.qZ.averageBandwidth},get codecs(){return r.eJ},get resolution(){return r.P$},get frameRate(){return pC(r.B$,2)},get id(){return r.Al},get uri(){return r.qZ&&r.qZ.uri},get name(){return r.Dn},set name(t){r.Dn=t},get enabled(){return r.pl},set enabled(t){r.pl=Boolean(t)},addEventListener:function(t,n){e.addEventListener(t,n)},removeEventListener:function(t,n){e.removeEventListener(t,n)}},r.addEventListener("qualityupdated",function(t){return e.dispatchEvent(t,!0)}),u),i}qt(n,t);var i=n.prototype;return i.L$=function(t){var n=!!t&&this.Al===t.Al;this.gw!==n&&(this.gw=n,this.dispatchEvent({type:"activequalitychanged",quality:this.xd}))},i.D$=function(t){return this.qZ.Al===t.qZ.Al&&(this.qZ=t.qZ,this.dispatchEvent({type:"qualityupdated",quality:this.xd}),!0)},T(n,[{key:"pl",get:function(){return this.x$},set:function(t){this.x$=t,this.qZ.GZ(!t)}},{key:"Tl",get:function(){return this.qZ.Tl}},{key:"P$",get:function(){return this.qZ.resolution?{width:this.qZ.resolution.width,height:this.qZ.resolution.height}:{width:NaN,height:NaN}}},{key:"Dn",get:function(){return this.qZ.Dn},set:function(t){this.qZ.Dn=t,this.dispatchEvent({type:"qualityupdated",quality:this.xd})}},{key:"Al",get:function(){return this.qZ.Al}}]),n}(LD);var bC=function(t){function n(n){return t.call(this,n)||this}return qt(n,t),T(n,[{key:"eJ",get:function(){return this.qZ.eJ&&this.qZ.eJ.uZ||""}},{key:"B$",get:function(){return pC(Number(this.qZ.hJ),2)}}]),n}(AC),TC=function(t){function n(n){return t.call(this,n)||this}return qt(n,t),T(n,[{key:"eJ",get:function(){return this.qZ.eJ&&this.qZ.eJ.eZ||""}},{key:"B$",get:function(){return pC(Number(this.qZ.SZ),2)}}]),n}(AC),EC=function(t){function n(n,i){var r,e,u,s,o;(r=t.call(this)||this).M$=null,r.U$={},r.gs=function(t){return r.dispatchEvent(t)},r.Rl=n,r.m$=i;for(var a=r.Rl.length-1;a>=0;a--){var c=r.Rl[a];r.U$[c.Al]=c}return r.Rl.forEach(function(t){return t.addEventListener("activequalitychanged",r.gs)}),r.xd=(e=jt(r),u=new LD,s={item:function(t){var n=e.sl(t);return n&&n.xd},getQualitiesByIDs:function(t){return e.F$(t).map(function(t){return t.xd})},get length(){return e.Rl.length},get activeQuality(){return e.kl&&e.kl.xd},get targetQuality(){return e.Il?1===e.Il.length?e.Il[0].xd:e.Il.map(function(t){return t.xd}):null},set targetQuality(t){if(t){var n=U(t)?t:[t];e.Il=e.F$(n.map(function(t){return t.id}))}else e.Il=null},addEventListener:function(t,n){u.addEventListener(t,n)},removeEventListener:function(t,n){u.removeEventListener(t,n)}},o=function(t){return u.dispatchEvent(t,!0)},e.addEventListener("activequalitychanged",o),e.addEventListener("targetqualitychanged",o),s),r}qt(n,t);var i=n.prototype;return i.H$=function(t){return!!t&&this.Rl.some(function(n){return n.Al===t.Al})},i.V$=function(t,n){for(var i=0,r=this.Rl;i<r.length;i++){r[i].L$(t)}},i.F$=function(t){var n=this;return t&&t.map(function(t){return n.U$[t]}).filter(function(t){return t})},i.X$=function(){for(var t=this.Rl.length-1;t>=0;t--)this.Rl[t].gw=!1},i._$=function(t){var n=this.m$.W$,i=this.F$(n);n&&n.length>0&&i&&i.length>0?this.dispatchEvent({type:"targetqualitychanged",quality:i[0].xd}):n&&0!==n.length||this.dispatchEvent({type:"targetqualitychanged",quality:null})},i.sl=function(t){return this.Rl[t]},T(n,[{key:"kl",get:function(){for(var t=0,n=this.Rl;t<n.length;t++){var i=n[t];if(i.gw)return i}return null}},{key:"Il",get:function(){return this.M$},set:function(t){this.M$=this.q$(t)}}]),n}(LD);var SC=function(t){function n(n,i){return t.call(this,n,i)||this}qt(n,t);var i=n.prototype;return i.eg=function(){this.m$&&(this.m$.T$=this.Rl[0].Al)},i.ug=function(t){this.m$&&(this.m$.T$=null)},i.q$=function(t){},n}(EC),RC=function(t){function n(n,i){return t.call(this,n,i)||this}qt(n,t);var i=n.prototype;return i.eg=function(){if(this.q$(this.Il),this.m$){var t=this.m$.w$;if(!t)return;var n=hi(t.z$.MZ.iZ,function(t){return!t.uri});this.m$.T$=n?n.Al:null}},i.V$=function(n,i){"video"===i&&t.prototype.V$.call(this,n,i)},i.ug=function(t){"video"===t&&this.X$()},i.q$=function(t){if(!this.m$)return this.Il;var n=t?this.F$(t.map(function(t){return t.Al})):null;if(n&&n.length>0){var i=n.map(function(t){return t.Al});return this.m$.W$=i,n}return t?this.Il:(this.m$.W$=null,null)},n}(EC),IC=function(t){function n(n,i){var r,e,u;return(r=t.call(this)||this).xu=n,r.g$=i,r.Al=i.sl(0).Al,r.xg=r.g$.Rl.some(function(t){return t.gw}),r.Dn=i.sl(0).qZ.Dn,r.xd=(e=jt(r),u=new LD,{get id(){return e.Al},get enabled(){return e.pl},get qualities(){return e.g$&&e.g$.xd},get language(){return e.Sl},get default(){return e.kb},get name(){return e.Dn},set name(t){e.Dn=t},addEventListener:function(t,n){u.addEventListener(t,n)},removeEventListener:function(t,n){u.removeEventListener(t,n)}}),r}qt(n,t);var i=n.prototype;return i.N$=function(t){var n=this.g$.H$(t);this.Fg(n),this.g$.V$(t,this.xu)},i.Fg=function(t){this.xg!==t&&(t?(this.xg=!0,this.dispatchEvent({type:"enabledtrack",track:this.xd})):(this.xg=!1,this.dispatchEvent({type:"disabledtrack",track:this.xd})))},i.eg=function(){this.xg||this.g$.eg()},i.ug=function(){this.xg&&this.g$.ug(this.xu)},i.D$=function(t){t.qZ.Al===this.Al&&(this.Dn=t.qZ.Dn);for(var n=0,i=this.g$.Rl;n<i.length;n++){i[n].D$(t)}},T(n,[{key:"pl",get:function(){return this.xg}},{key:"Sl",get:function(){return this.G$()}},{key:"Tl",get:function(){return this.j$()}},{key:"kb",get:function(){var t="video"===this.xu,n=this.g$.Rl&&this.g$.Rl[0].qZ.kb;return t||n}}]),n}(LD);var NC=function(t){function n(n){return t.call(this,"video",n)||this}qt(n,t);var i=n.prototype;return i.j$=function(){return KD.LY},i.G$=function(){return""},n}(IC),DC=function(t){function n(n){return t.call(this,"audio",n)||this}qt(n,t);var i=n.prototype;return i.j$=function(){return this.g$.Rl[0].qZ.Tl},i.G$=function(){return this.g$.Rl[0].qZ.Sl||""},n}(IC),CC=function(){function t(t,n,i){var r=this;this.Q$=function(){var t=r.Y$;t.removeEventListener("Z$",r.Q$);var n=t.z$.c$.iZ,i=t.z$.MZ.iZ,e=n.map(function(t){return new bC(t)});if(e.length>0){var u=new RC(e,r.J$);r.K$.ol(new NC(u));var s=hi(i,function(t){return!t.uri}),o=0===i.length;if(n.length>0&&(Boolean(s)||o)){var a=new DC(u);s&&(a.Dn=s.Dn),r.tK.ol(a)}}for(var c=0;c<i.length;c++){var h=i[c];if(h.uri){var f=new TC(h),v=new SC([f],r.J$);r.tK.ol(new DC(v))}}},this.Y$=t,this.J$=i,this.tK=new yC(t,n,i),this.K$=new mC(t,n,i),t&&(t.Z$?this.Q$():t.addEventListener("Z$",this.Q$))}return T(t,[{key:"q_",get:function(){return this.tK}},{key:"z_",get:function(){return this.K$}}]),t}(),OC=["loadedmetadata","durationchange","Bs","uv","Sg","nK"],xC=["iK","i$","rK","Bs"],PC=function(t){function n(n,i,r,e,u,s,o){var a;(a=t.call(this)||this).eK=null,a.uK=[],a.sK=[],a.oK=function(t){return a.dispatchEvent(t)},a.aK=function(t){return a.cK(t)},a.hK=function(t){return a.fK(t)},a.HR=n.src,a.vK=n.type,a.dK=i,a.lK=r,a._K=e,a.w$=u,a.y$=s,a.w$&&(a.w$.addEventListener("gK",a.oK),a.w$.addEventListener("wK",a.oK));var c=new CC(a.w$,a.y$,o);return a.z_=c.z_,a.q_=c.q_,a.XR=null,a.HR&&(a.y$&&a.y$.hl(),a.w$&&(a.w$.yK=a.HR)),a}qt(n,t);var i=n.prototype;return i.mK=function(t){this.y$&&this.y$.po(t),this.w$&&this.w$.kK(),this.XR&&this.pK()},i.AK=function(){this.y$&&this.y$.AK(),this.w$&&this.w$.bK()},i.TK=function(){if(this.w$)for(var t=0;t<OC.length;t++){var n=OC[t];this.w$.addEventListener(n,this.aK)}if(this.y$)for(var i=0;i<xC.length;i++){var r=xC[i];this.y$.addEventListener(r,this.hK)}},i.EK=function(){if(this.w$)for(var t=0;t<OC.length;t++){var n=OC[t];this.w$.removeEventListener(n,this.aK)}if(this.y$)for(var i=0;i<xC.length;i++){var r=xC[i];this.y$.removeEventListener(r,this.hK)}},i.pK=function(){if(this.w$&&this.uK.length){var t=this.uK.slice();gi(this.uK);for(var n=0;n<t.length;n++){var i=t[n];this.w$.dispatchEvent(i)}}if(this.y$&&this.sK.length){var r=this.sK.slice();gi(this.sK);for(var e=0;e<r.length;e++){var u=r[e];this.y$.dispatchEvent(u)}}},i.cK=function(t){this.uK.push(t)},i.fK=function(t){this.sK.push(t)},i.Jf=function(){this.dispatchEvent("Jf"),this.Ts(),this.y$&&this.y$.Jf(),this._K&&this._K.Jf(),this.w$&&this.w$.Jf(),this.eK=null,gi(this.uK),gi(this.sK)},T(n,[{key:"XR",get:function(){return this.eK},set:function(t){this.EK(),this.eK=t,this.XR?this.dispatchEvent("Oo"):this.TK()}}]),n}(LD),BC=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Y$=null,n.gs=function(t){n.dispatchEvent(t,!0)},n}return qt(n,t),T(n,[{key:"T$",get:function(){var t=this.Y$&&this.Y$.z$.JJ;return t?t.Al:null},set:function(t){var n;this.Y$&&(n=null===t?cC(this.Y$.z$.MZ.iZ):this.Y$.z$.MZ.iZ.filter(function(n){return t===n.Al}).shift(),this.Y$.z$.JJ=n||null)}},{key:"W$",get:function(){return this.Y$&&this.Y$.SK||null},set:function(t){this.Y$&&(this.Y$.RK(t),this.dispatchEvent("k$"))}},{key:"w$",get:function(){return this.Y$},set:function(t){this.Y$&&(this.Y$.z$.removeEventListener("s$",this.gs),this.Y$.z$.removeEventListener("renditionUpdated",this.gs),this.Y$.z$.removeEventListener("$J",this.gs)),this.Y$=t,this.Y$&&(this.Y$.z$.addEventListener("s$",this.gs),this.Y$.z$.addEventListener("renditionUpdated",this.gs),this.Y$.z$.addEventListener("$J",this.gs))}}]),n}(LD),LC=function(){function t(){}var n=t.prototype;return n.IK=function(t){return vn.resolve(!1)},n.NK=function(t){return vn.reject(MC)},n.DK=function(t){return vn.reject(MC)},n.Xs=function(t){return vn.resolve(!1)},n.Ws=function(t,n){return vn.resolve(void 0)},n.CK=function(t){return vn.resolve([])},n.xK=function(){return vn.resolve([])},n.PK=function(t,n){return vn.resolve([])},n.Ao=function(t){return vn.reject(MC)},n.BK=function(t){return vn.reject(MC)},n.LK=function(){return vn.reject(MC)},t}(),MC="Storage disabled",UC=function(){function t(){this.MK=new LC,this.UK=new LC,this.FK=new LC,this.HK=new LC,this.VK=new LC}return t.kj=function(){return vn.resolve(new t)},t.prototype.XK=function(t){return vn.reject(FC)},t}(),FC="Storage disabled",HC=function(){function t(t){var n=this;this.cs=new se,this.WK=void 0,this.cs.eo(t),this.cs.ro.then(function(t){n.WK=t})}var n=t.prototype;return n.IK=function(){var t=vn.coroutine(fn.mark(function t(n){var i;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.WK,t.t0){t.next=5;break}return t.next=4,this.qK;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.IK(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.NK=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.WK,t.t0){t.next=5;break}return t.next=4,this.qK;case 4:t.t0=t.sent;case 5:return r=t.t0,t.abrupt("return",r.NK(n,i));case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.DK=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.WK,t.t0){t.next=5;break}return t.next=4,this.qK;case 4:t.t0=t.sent;case 5:return r=t.t0,t.abrupt("return",r.DK(n,i));case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.Xs=function(){var t=vn.coroutine(fn.mark(function t(n){var i;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.WK,t.t0){t.next=5;break}return t.next=4,this.qK;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.Xs(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Ws=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.WK,t.t0){t.next=5;break}return t.next=4,this.qK;case 4:t.t0=t.sent;case 5:return r=t.t0,t.abrupt("return",r.Ws(n,i));case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.CK=function(){var t=vn.coroutine(fn.mark(function t(n){var i;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.WK,t.t0){t.next=5;break}return t.next=4,this.qK;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.CK(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.xK=function(){var t=vn.coroutine(fn.mark(function t(){var n;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.WK,t.t0){t.next=5;break}return t.next=4,this.qK;case 4:t.t0=t.sent;case 5:return n=t.t0,t.abrupt("return",n.xK());case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.PK=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.WK,t.t0){t.next=5;break}return t.next=4,this.qK;case 4:t.t0=t.sent;case 5:return r=t.t0,t.abrupt("return",r.PK(n,i));case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.Ao=function(){var t=vn.coroutine(fn.mark(function t(n){var i;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.WK,t.t0){t.next=5;break}return t.next=4,this.qK;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.Ao(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.BK=function(){var t=vn.coroutine(fn.mark(function t(n){var i;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.WK,t.t0){t.next=5;break}return t.next=4,this.qK;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.BK(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.LK=function(){var t=vn.coroutine(fn.mark(function t(){var n;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.WK,t.t0){t.next=5;break}return t.next=4,this.qK;case 4:t.t0=t.sent;case 5:return n=t.t0,t.abrupt("return",n.LK());case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),T(t,[{key:"qK",get:function(){return this.cs.ro}}]),t}(),VC=function(){function t(t){var n=this;this.cs=new se,this.zK=void 0,this.cs.eo(t);var i=this.cs.ro;i.then(function(t){n.zK=t}),this.UK=new HC(i.then(function(t){return t.UK})),this.MK=new HC(i.then(function(t){return t.MK})),this.FK=new HC(i.then(function(t){return t.FK})),this.HK=new HC(i.then(function(t){return t.HK})),this.VK=new HC(i.then(function(t){return t.VK}))}return t.prototype.XK=function(){var t=vn.coroutine(fn.mark(function t(n){var i;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.zK,t.t0){t.next=5;break}return t.next=4,this.GK;case 4:t.t0=t.sent;case 5:return i=t.t0,t.next=8,i.XK(n);case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),T(t,[{key:"GK",get:function(){return this.cs.ro}}]),t}();function XC(t){return void 0!==t}var WC=function(){function t(){this.jK=[]}var n=t.prototype;return n.IK=function(t){return vn.resolve("temporary"===t)},n.NK=function(){var t=vn.coroutine(fn.mark(function t(n){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Ao(n.key);case 2:this.jK.push(n);case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.DK=function(){var t=vn.coroutine(fn.mark(function t(n){var i,r=this;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.map(function(t){return r.NK(t)}),t.next=3,vn.all(i);case 3:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),n.Xs=function(){var t=vn.coroutine(fn.mark(function t(n){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",vn.resolve(Boolean(this.QK(n))));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Ws=function(t,n){return vn.resolve(this.QK(t,n))},n.CK=function(t){var n=this,i=t?t.map(function(t){return n.QK(t)}):this.jK;return vn.resolve(i.filter(XC))},n.xK=function(){return vn.resolve([].concat(this.jK))},n.PK=function(t,n){var i=n||"key",r=this.jK.filter(function(n){return n[i]===t});return vn.resolve(r)},n.Ao=function(t){var n=this.QK(t);return n&&vi(this.jK,n),vn.resolve()},n.BK=function(){var t=vn.coroutine(fn.mark(function t(n){var i,r;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0;case 1:if(!(i<n.length)){t.next=8;break}return r=n[i],t.next=5,this.Ao(r);case 5:i++,t.next=1;break;case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.LK=function(){return gi(this.jK),vn.resolve()},n.QK=function(t,n){n=n||"key";for(var i=0,r=this.jK;i<r.length;i++){var e=r[i];if(e[n]===t)return e}},t}(),qC=function(){function t(){this.MK=new WC,this.UK=new WC,this.FK=new WC,this.HK=new WC,this.VK=new WC}return t.kj=function(){return vn.resolve(new t)},t.prototype.XK=function(t){return t(this)},t}(),zC=function(){function t(t){this.YK=t}var n=t.prototype;return n.IK=function(){var t=vn.coroutine(fn.mark(function t(n){var i,r,e;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0,r=this.YK;case 1:if(!(i<r.length)){t.next=10;break}return e=r[i],t.next=5,e.IK(n);case 5:if(!t.sent){t.next=7;break}return t.abrupt("return",!0);case 7:i++,t.next=1;break;case 10:return t.abrupt("return",!1);case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.NK=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r,e,u;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.YK;case 1:if(!(r<e.length)){t.next=10;break}return u=e[r],t.next=5,u.IK(i);case 5:if(!t.sent){t.next=7;break}return t.abrupt("return",u.NK(n));case 7:r++,t.next=1;break;case 10:throw new d("No collection found that can handle storage persistency type "+i);case 11:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.DK=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r,e,u;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.YK;case 1:if(!(r<e.length)){t.next=10;break}return u=e[r],t.next=5,u.IK(i);case 5:if(!t.sent){t.next=7;break}return t.abrupt("return",u.DK(n));case 7:r++,t.next=1;break;case 10:throw new d("No collection found that can handle storage persistency type "+i);case 11:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.Xs=function(){var t=vn.coroutine(fn.mark(function t(n){var i,r,e;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0,r=this.YK;case 1:if(!(i<r.length)){t.next=10;break}return e=r[i],t.next=5,e.Xs(n);case 5:if(!t.sent){t.next=7;break}return t.abrupt("return",!0);case 7:i++,t.next=1;break;case 10:return t.abrupt("return",!1);case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Ws=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r,e,u,s;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.YK;case 1:if(!(r<e.length)){t.next=11;break}return u=e[r],t.next=5,u.Ws(n,i);case 5:if(!(s=t.sent)){t.next=8;break}return t.abrupt("return",s);case 8:r++,t.next=1;break;case 11:return t.abrupt("return",void 0);case 12:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.CK=function(){var t=vn.coroutine(fn.mark(function t(n){var i,r,e,u;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=[],r=0,e=this.YK;case 2:if(!(r<e.length)){t.next=13;break}return u=e[r],t.t0=i.push,t.t1=i,t.next=8,u.CK(n);case 8:t.t2=t.sent,t.t0.apply.call(t.t0,t.t1,t.t2);case 10:r++,t.next=2;break;case 13:return t.abrupt("return",i);case 14:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.xK=function(){var t=vn.coroutine(fn.mark(function t(){var n,i,r,e;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=[],i=0,r=this.YK;case 2:if(!(i<r.length)){t.next=13;break}return e=r[i],t.t0=n.push,t.t1=n,t.next=8,e.xK();case 8:t.t2=t.sent,t.t0.apply.call(t.t0,t.t1,t.t2);case 10:i++,t.next=2;break;case 13:return t.abrupt("return",n);case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.PK=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r,e,u,s;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],e=0,u=this.YK;case 2:if(!(e<u.length)){t.next=13;break}return s=u[e],t.t0=r.push,t.t1=r,t.next=8,s.PK(n,i);case 8:t.t2=t.sent,t.t0.apply.call(t.t0,t.t1,t.t2);case 10:e++,t.next=2;break;case 13:return t.abrupt("return",r);case 14:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.Ao=function(){var t=vn.coroutine(fn.mark(function t(n){var i,r,e;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0,r=this.YK;case 1:if(!(i<r.length)){t.next=8;break}return e=r[i],t.next=5,e.Ao(n);case 5:i++,t.next=1;break;case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.BK=function(){var t=vn.coroutine(fn.mark(function t(n){var i,r,e;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0,r=this.YK;case 1:if(!(i<r.length)){t.next=8;break}return e=r[i],t.next=5,e.BK(n);case 5:i++,t.next=1;break;case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.LK=function(){var t=vn.coroutine(fn.mark(function t(){var n,i,r;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=0,i=this.YK;case 1:if(!(n<i.length)){t.next=8;break}return r=i[n],t.next=5,r.LK();case 5:n++,t.next=1;break;case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),t}();function GC(t){return vn.coroutine(fn.mark(function n(){var i;return fn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,vn.all(t.map(function(t){return t()}));case 2:return i=n.sent,n.abrupt("return",jC.kj(i));case 4:case"end":return n.stop()}},n)}))}var jC=function(){function t(t){this.ZK=t,this.JK=new zC(t.map(function(t){return t.HK})),this.$K=new zC(t.map(function(t){return t.VK})),this.KK=new zC(t.map(function(t){return t.FK})),this.n0=new zC(t.map(function(t){return t.MK})),this.i0=new zC(t.map(function(t){return t.UK}))}return t.kj=function(n){return vn.resolve(new t(n))},t.prototype.XK=function(n){var i=this;if(0===this.ZK.length)return n(this);var r=[],e=0;return this.ZK[e].XK(function u(s){return r.push(s),++e<i.ZK.length?i.ZK[e].XK(u):n(new t(r))})},T(t,[{key:"HK",get:function(){return this.JK}},{key:"VK",get:function(){return this.$K}},{key:"FK",get:function(){return this.KK}},{key:"MK",get:function(){return this.n0}},{key:"UK",get:function(){return this.i0}}]),t}(),QC=function(){function t(t){this.r0=[],this.e0=!0,this.u0=t}var n=t.prototype;return n.kj=function(){return new VC(this.s0())},n.s0=function(){var t=vn.coroutine(fn.mark(function t(){var n,i,r;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.e0){t.next=4;break}return t.next=3,vn.resolve();case 3:this.e0=!1;case 4:n=0,i=this.r0;case 5:if(!(n<i.length)){t.next=18;break}return r=i[n],t.prev=7,t.next=10,GC([qC.kj,r])();case 10:return t.abrupt("return",t.sent);case 13:t.prev=13,t.t0=t.catch(7);case 15:n++,t.next=5;break;case 18:return t.next=20,GC([qC.kj,this.u0])();case 20:return t.abrupt("return",t.sent);case 21:case"end":return t.stop()}},t,this,[[7,13]])}));return function(){return t.apply(this,arguments)}}(),n.NL=function(t){if(!this.e0)throw new d("Registration overdue");this.r0.push(t)},t}(),YC=function(){function t(){}return t.NL=function(n){t.o0.NL(n)},T(t,null,[{key:"_n",get:function(){return t.a0||(t.a0=t.o0.kj()),t.a0}}]),t}();function ZC(t){return no(t)}function JC(t,n){var i=no(t);return n?""+i+n:""+i}function $C(t,n,i,r,e,u){var s=new Do;return n&&s.set("Range","bytes="+n[0]+"-"+n[1]),new ff({Rf:t,Af:i,pf:s,Qf:r,qf:sf.GET,xu:of.Cf,ds:e,Yf:u})}YC.o0=new QC(UC.kj),YC.a0=void 0;var KC=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this)||this).vv=null,o.hf=new ki,o.c0=function(t,n){return o.Yf(t,n)},o.tp=n,o.IY=i,o.Af=r,o.h0=e,o.nO=u,o.f0=new nO,o.lb=s,o.v0=YC._n.MK,o.d0=YC._n.UK,o}qt(n,t);var i=n.prototype;return i.uI=function(){return this.l0(this.hf.ds)},i.l0=function(){var t=vn.coroutine(fn.mark(function t(n){var i,r,e,u,s,o,a;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return uC(i=this.IY)?(r=i.IY,e=[i.NY.uI,i.NY.oI]):(r=i,e=void 0),this.f0._0(),t.prev=3,t.next=6,this.g0(r,e);case 6:if(u=t.sent,bi(n),u){t.next=12;break}return t.next=11,this.w0(r,e,n);case 11:u=t.sent;case 12:return t.next=14,u.Jn();case 14:s=t.sent,bi(n),this.y0(s,u.kf),t.next=28;break;case 19:if(t.prev=19,t.t0=t.catch(3),!Ai(t.t0)){t.next=25;break}return t.abrupt("return");case 25:a=t.t0 instanceof wf?t.t0.vv.kf:0,o=new d('Could not load fragment: "'+this.IY+'", HTTP status '+a);case 27:return t.abrupt("return",this.m0(o));case 28:case"end":return t.stop()}},t,this,[[3,19]])}));return function(n){return t.apply(this,arguments)}}(),i.g0=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r,e,u,s;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=JC(n,i),t.next=4,this.v0.Xs(r);case 4:if(!t.sent){t.next=11;break}return t.next=7,this.d0.Ws(r);case 7:return e=t.sent,u=$C(n,i,this.Af,this.h0),s=e.data.buffer,t.abrupt("return",new hf({Jn:s,pf:{},Ef:u,Sf:n,Af:this.Af,kf:200,bf:""}));case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0);case 16:return t.abrupt("return",null);case 17:case"end":return t.stop()}},t,this,[[0,13]])}));return function(n,i){return t.apply(this,arguments)}}(),i.w0=function(t,n,i){var r=$C(t,n,this.Af,this.h0,i,this.c0);return this.lb.Ef(r)},i.Yf=function(t,n){var i={type:"nK",Ef:this,k0:t,p0:n=void 0===n?NaN:n};this.f0.A0(t,n),this.dispatchEvent(i)},i.y0=function(t,n){var i=this.Af===Ro.Vc?t.byteLength:0;this.f0.b0(i),this.Af===Ro.pn?this.vv=t:this.vv=new k(t),this.T0=n,t=null,this.m0(),this.vv=null},i.hs=function(t){return this.hf.hs(),t||((t=new d('Aborted fragment load: "'+this.IY+'"')).aborted=!0),this.m0(t)},i.m0=function(t){this.f0.E0();var n={type:"Z_",Ef:this};return this.dispatchEvent(n),this.nO(t||null,this)},n}(LD);function tO(){return Ub()/1e3}var nO=function(t){function n(){var n;return(n=t.call(this)||this).S0=NaN,n.R0=NaN,n.I0=NaN,n.N0=NaN,n.D0=0,n.C0=NaN,n.S0=tO(),n}qt(n,t);var i=n.prototype;return i._0=function(){this.S0=tO(),this.dispatchEvent("bo")},i.A0=function(t,n){this.I0=tO(),this.gK||(this.R0=this.I0),this.D0=t,this.C0=n||this.C0||NaN,this.dispatchEvent("bo")},i.b0=function(t){this.A0(t,t)},i.E0=function(){this.N0=tO(),this.dispatchEvent("bo")},T(n,[{key:"gK",get:function(){return!m(this.R0)}},{key:"O0",get:function(){return!m(this.N0)}},{key:"D_",get:function(){return(this.R0||tO())-this.S0}},{key:"x0",get:function(){return(this.N0||this.I0)-this.R0}},{key:"P0",get:function(){return(this.N0||this.I0)-this.S0}}]),n}(LD),iO=function(t){function n(n,i){var r;return(r=t.call(this)||this).B0=[],r.L0=null,r.M0=function(t){return r.U0(t)},r.h0=!(!i||i.crossOrigin!==qd.n_),r.lb=n,r}qt(n,t);var i=n.prototype;return i.po=function(t,n,i,r){var e=new KC(t,n,i,this.h0,r,this.lb);return e.addEventListener("Z_",this.M0),this.B0.push(e),this.F0(),e},i.Gs=function(t,n){var i=function(t){return!n||t.tp===n},r=this.B0.filter(i);!t&&this.L0&&i(this.L0)&&r.push(this.L0);for(var e=0;e<r.length;e++){r[e].hs()}return r},i.F0=function(){if(!this.L0){var t=this.B0.shift();t&&(this.L0=t,t.uI())}},i.U0=function(t){var n=t.Ef,i=this.B0.indexOf(n);-1!==i&&di(this.B0,i),this.L0===n&&(this.L0=null,this.F0())},n}(LD);function rO(n){return t.URL&&t.URL.createObjectURL?t.URL.createObjectURL(n):t.webkitURL&&t.webkitURL.createObjectURL?t.webkitURL.createObjectURL(n):t.createObjectURL?t.createObjectURL(n):null}function eO(n){return t.URL&&t.URL.revokeObjectURL?t.URL.revokeObjectURL(n):t.webkitURL&&t.webkitURL.revokeObjectURL?t.webkitURL.revokeObjectURL(n):t.revokeObjectURL?t.revokeObjectURL(n):void 0}function uO(t,n){return To([t],{type:n})}var sO="iframe.html",oO=0,aO=p&&(p.bind&&p.bind(p)||p),cO=function(t){function n(n){var i;return(i=t.call(this)||this).H0=void 0,i.V0=[],i.X0=!1,i.gs=function(t){return i.dispatchEvent(t)},n&&i.Oo(n),i}qt(n,t);var i=n.prototype;return i.postMessage=function(t){this.X0||(this.H0?this.H0.postMessage(t):this.V0.push(t))},i.Oo=function(t){if(this.X0)t.terminate();else{this.H0=t,this.H0.addEventListener("message",this.gs,!1),this.H0.addEventListener("error",this.gs,!1);for(var n=0,i=this.V0;n<i.length;n++){var r=i[n];this.H0.postMessage(r)}this.V0.length=0}},i.terminate=function(){this.Ts(),this.X0=!0,this.V0.length=0,this.H0&&(this.H0.removeEventListener("message",this.gs,!1),this.H0.removeEventListener("error",this.gs,!1),this.H0.terminate(),this.H0=void 0)},n}(LD);var hO=function(n){function i(i,r,e){var u,o,a;return(u=n.call(this)||this).W0=function(){return u.q0()},u.z0=function(t){return u.G0(t)},u.Al=i,u.j0=r,u.Q0=(o=e+sO,(a=s.createElement("iframe")).width="0",a.height="0",a.style.display="none",a.src=o,s.body.appendChild(a),a),u.Y0=u.Q0.contentWindow,u.Z0=uo(e),u.Q0.addEventListener("load",u.W0),t.addEventListener("message",u.z0),u}qt(i,n);var r=i.prototype;return r.q0=function(){this.Q0.removeEventListener("load",this.W0),this.Y0.postMessage({type:"initialize",id:this.Al,script:this.j0},"*")},r.G0=function(t){uo(t.origin)===this.Z0&&t.data.id===this.Al&&("initialized"===t.data.type?this.dispatchEvent("initialized"):"error"===t.data.type?this.dispatchEvent({type:"error",message:t.data.data.message,filename:t.data.data.filename,lineno:t.data.data.lineno}):this.dispatchEvent({type:"message",data:t.data.data}))},r.postMessage=function(t){this.Y0.postMessage({type:"message",data:t},"*")},r.terminate=function(){this.Q0.removeEventListener("load",this.W0),t.removeEventListener("message",this.z0),this.Y0.postMessage({type:"terminate"},"*"),this.Q0.parentNode.removeChild(this.Q0)},i}(LD);function fO(){return(fO=vn.coroutine(fn.mark(function t(n,i){var e,u,s,o,a,c;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.Td,t.prev=1,u=new ff({Rf:n,qf:sf.GET,Af:Ro.pn}),t.next=5,e.Ef(u);case 5:return s=t.sent,t.next=8,s.Jn();case 8:o=t.sent,i(void 0,o),t.next=17;break;case 12:t.prev=12,t.t0=t.catch(1),a=new d("PLAYER_INCORRECTLY_CONFIGURED"),c=t.t0 instanceof wf?t.t0.vv.kf:-1,i({so:c,Bs:a});case 17:case"end":return t.stop()}},t,null,[[1,12]])}))).apply(this,arguments)}function vO(t,n){function i(i){return e(),V(r=i.data)&&"2.85.3"===r.J0?n(void 0,t):n(new d("PLAYER_INCORRECTLY_CONFIGURED"));var r}function r(i){i.preventDefault&&i.preventDefault(),e(),t.terminate(),n({message:i.message,filename:i.filename,lineno:i.lineno})}function e(){t.removeEventListener("message",i),t.removeEventListener("error",r)}t.addEventListener("message",i),t.addEventListener("error",r)}function dO(t,n){if(void 0===t)return n({message:"Worker could not be loaded."});var i;try{i=new aO(t)}catch(t){return n({message:t.message})}return vO(i,n)}var lO=!0;function _O(t,n){var i=oO++,r=t+n,e=new cO;function u(){!function(t,n,i,r){var e;function u(){a(),vO(e,r)}function o(t){t.preventDefault&&t.preventDefault(),a(),e.terminate(),r({message:t.message,filename:t.filename,lineno:t.lineno})}function a(){e.removeEventListener("initialized",u),e.removeEventListener("error",o)}if(!s)return r({message:"Could not create Worker.",filename:"workershim.js",lineno:223});(e=new hO(t,n,i)).addEventListener("initialized",u),e.addEventListener("error",o)}(i,r,t,o)}function o(t,n,i){t?e.dispatchEvent({type:"error",message:t.message,filename:t.filename,lineno:t.lineno}):(e.Oo(n),i&&e.dispatchEvent(i))}return dO(r,function(t,n,i){t?function(t,n){fO.apply(this,arguments)}(r,function(t,n){t?t.so>=400?o(t.Bs):u():n&&function(t,n){if(!lO)return n({message:"Could not create Worker.",filename:"workershim.js",lineno:196});dO(rO(uO(t,"application/javascript")),function(t,i,r){return t&&(lO=!1),n(t,i,r)})}(n,function(t,n,i){t?u():o(t,n,i)})}):o(t,n,i)}),e}function gO(t,n){if(n<0)throw new d("The index provided ("+n+") must be non-negative");if(n>=t.length)throw new d("The index provided ("+n+") is greater than the maximum bound ("+t.length+")")}function wO(t){return{get length(){return t.length},start:function(n){return gO(t,n|=0),t.start(n)},end:function(n){return gO(t,n|=0),t.end(n)}}}function yO(t,n){return t.uI-n.uI}var mO=function(){function t(t){this.$0=t}var n=t.prototype;return n.start=function(t){return this.$0[t].uI},n.end=function(t){return this.$0[t].oI},n.K0=function(){return this.$0},T(t,[{key:"length",get:function(){return this.$0.length}}]),t}(),kO=new mO([]),pO=new mO([{uI:-1/0,oI:1/0}]);function AO(t,n){return function(t,n){var i=t.length;if(n=+n||0,i<2)return t;for(var r=[],e=t.start(0),u=t.end(0),s=1;s<i;s++){var o=t.start(s),a=t.end(s);e<=o&&u>=a||(u+n>=o?u=a:(r.push({uI:e,oI:u}),e=o,u=a))}return r.push({uI:e,oI:u}),new mO(r)}(function(t){var n=RO(t);return n.sort(yO),new mO(n)}(t),n)}function bO(t,n){for(var i=[],r=0,e=0;r<t.length&&e<n.length;){var u=g.max(t.start(r),n.start(e)),s=g.min(t.end(r),n.end(e));u<s&&i.push({uI:u,oI:s}),t.end(r)<n.end(e)?r+=1:e+=1}return new mO(i)}function TO(t){var n=t.length;if(!n)return pO;var i=[],r=t.start(0);r!==-1/0&&i.push({uI:-1/0,oI:r});for(var e=0;e<n-1;e+=1)i.push({uI:t.end(e),oI:t.start(e+1)});var u=t.end(n-1);return u!==1/0&&i.push({uI:u,oI:1/0}),new mO(i)}function EO(t,n){return-1!==SO(t,n)}function SO(t,n){return function(t,n,i,r){n+=r=+r||0,i-=r;for(var e=0;e<t.length;e+=1)if(t.start(e)<=n&&i<=t.end(e))return e;return-1}(t,n,n)}function RO(t){if(t instanceof mO)return t.K0();var n=[];if(!t)return n;for(var i=0;i<t.length;i++)n.push({uI:t.start(i),oI:t.end(i)});return n}function IO(t,n){return i=[t,n],e=(r=e=[]).concat.apply(r,i.map(RO)),AO(new mO(e));var i,r,e}var NO=.001;function DO(t,n,i){return i=+i||0,t.uI-i<=n.oI&&n.uI<=t.oI+i}function CO(t){var n={uI:NaN,oI:NaN,iY:t};return OO(n),n}function OO(t){var n=t.iY;n.length?(n.sort(yO),t.uI=n[0].uI,t.oI=n[n.length-1].oI):(t.uI=NaN,t.oI=NaN)}function xO(t){return void 0!==t.iY}function PO(t,n,i){for(var r=[],e=0;e<t.length;e++){var u=t[e],s=g.max(u.uI,n),o=g.min(u.oI,i);if(s<o){var a=void 0;a=u.uI===s&&u.oI===o?u:{uI:s,oI:o,cp:u.cp},r.push(a)}}return r}function BO(t,n){var i=g.min(t.uI,n.uI),r=g.max(t.oI,n.oI),e=t.iY,u=n.iY,s=e.concat(u),o=e.length?e[e.length-1]:null,a=u.length?u[0]:null;return o&&a&&o.cp===a.cp&&DO(o,a,NO)&&s.splice(e.length-1,2,function(t,n){var i=t.cp||n.cp;return{uI:g.min(t.uI,n.uI),oI:g.max(t.oI,n.oI),cp:i}}(o,a)),CO(s=PO(s,i,r))}var LO,MO,UO=function(){function t(t,n){this.$0=function(t){for(var n=[],i=0;i<t.length;i+=1){var r=t[i],e=void 0;xO(r)?OO(e=r):e=CO([r]),e.iY.length&&e.uI<e.oI&&n.push(e)}return n}(t),n||this.n1()}var n=t.prototype;return n.start=function(t){return this.$0[t]&&this.$0[t].uI},n.end=function(t){return this.$0[t]&&this.$0[t].oI},n.iY=function(t){return this.$0[t]&&this.$0[t].iY},n.i1=function(t,n){return this.e1(t,t,n)},n.e1=function(t,n,i){t+=i=+i||0,n-=i;for(var r=0;r<this.length;r+=1)if(this.start(r)<=t&&n<=this.end(r))return r;return-1},n.u1=function(t,n,i){t-=i=+i||0,n+=i;for(var r=0;r<this.length;r+=1)if(this.start(r)<n&&t<this.end(r))return r;return-1},n.s1=function(t,n){t+=n=+n||0;for(var i=this.length-1;i>=0;i-=1)if(this.start(i)<=t)return i;return-1},n.o1=function(t,n){t-=n=+n||0;for(var i=0;i<this.length;i+=1)if(t<=this.end(i))return i;return-1},n.Og=function(t){return-1!==this.i1(t)},n.II=function(t,n,i){return-1!==this.e1(t,n,i)},n.DI=function(t,n,i){return-1!==this.u1(t,n,i)},n.yI=function(t){for(var n=[],i=0,r=0;i<this.length&&r<t.length;){var e=g.max(this.start(i),t.start(r)),u=g.min(this.end(i),t.end(r));if(e<u){var s=PO(this.iY(i),e,u);n.push(CO(s))}this.end(i)<t.end(r)?i+=1:r+=1}return this.kj(n,!0)},n.Hw=function(t){return this.length&&t.length?this.yI(TO(t)):this},n.TI=function(t){return this.length?t.length?this.kj(this.$0.concat(t.$0)):this:t},n.a1=function(t){for(var n=[],i=0,r=this.$0;i<r.length;i++)for(var e=0,u=r[i].iY;e<u.length;e++){var s=t(u[e]);s&&n.push(s)}return this.kj(n)},n.xI=function(t){return this.a1(function(n){return t(n)?n:null})},n.c1=function(){if(!this.length)return this;for(var t=this.$0.slice(),n=0;n<t.length-1;n+=1){var i=t[n],r=t[n+1];r&&this.h1(i,r)&&(t.splice(n,2,BO(i,r)),n-=1)}return this.kj(t,!0)},n.h1=function(t,n){var i=t.iY,r=n.iY,e=i.length?i[i.length-1]:null,u=r.length?r[0]:null;return e&&u&&this.f1(e,u)},n.n1=function(){var t=this.$0;t.sort(yO);for(var n=0;n<t.length-1;n+=1){var i=t[n],r=t[n+1];r&&DO(i,r,NO)&&(t.splice(n,2,BO(i,r)),n-=1)}},T(t,[{key:"length",get:function(){return this.$0.length}}]),t}(),FO=function(t){function n(n,i){return t.call(this,n,i)||this}qt(n,t);var i=n.prototype;return i.kj=function(t,i){return new n(t,i)},i.f1=function(t,n){return n.cp.qZ===t.cp.qZ&&n.cp.LQ===t.cp.LQ+1},n}(UO);function HO(t,n){for(var i=[],r=0;r<n.length;r++){var e=n[r],u=t.v1(e),s=t.d1(e,u);i.push({uI:u.Nw(),oI:s.Nw(),cp:e})}return new FO(i).c1()}function VO(t){return t.l1!==LO._1}function XO(t){return 0===t.l1}function WO(t){return t.l1>=0}function qO(t,n){for(var i=[],r=0;r<n.length;r++)for(var e=!1,u=0,s=n.iY(r);u<s.length;u++){var o=s[u];if(!e){var a=o.cp;if(sC(a)&&VO(a)){if((e=WO(a))&&!XO(a)){var c=t.g1(a,a.w1).Nw();o={uI:g.max(o.uI,c),oI:o.oI,cp:a}}}else e=!0;0}e&&i.push(o)}return new FO(i)}!function(t){t._1=-1,t.m1=-2}(LO||(LO={})),function(t){t.A1="h.264",t.b1="mp3",t.T1="aac-lc",t.E1="he-aac"}(MO||(MO={}));var zO,GO,jO,QO,YO=function(){function t(){this.S1=0,this.$0=[],this.jA={}}var n=t.prototype;return n.R1=function(t){this.$0=this.$0.concat(t.$0),this.S1+=t.vl},n.I1=function(t,n,i){var r=this.S1,e=i-n;e>0&&(this.$0.push({N1:n,D1:i,C1:e,O1:r,P1:t}),this.S1+=e)},n.Ws=function(t){for(var n=0,i=this.$0;n<i.length;n++){var r=i[n];if(r.O1<=t&&t<r.O1+r.C1)return r.P1[t+r.N1-r.O1]}},n.B1=function(t,n){for(var i=n,r=0,e=this.$0;r<e.length;r++)for(var u=e[r],s=u.D1,o=u.N1;o<s;o+=1,i+=1)t[i]=u.P1[o];return i},n.L1=function(){for(var t=new k(this.S1),n=0,i=0,r=this.$0;i<r.length;i++)for(var e=r[i],u=e.D1,s=e.N1;s<u;s+=1,n+=1)t[n]=e.P1[s];return t},n.Js=function(n){for(var i=new t,r=0,e=this.$0;r<e.length;r++){var u=e[r];i.I1(u.P1,u.N1,u.D1)}return i.jA=n||dn({},this.jA),i},T(t,[{key:"vl",get:function(){return this.S1},set:function(t){var n=this.$0,i=this.S1-t;if(!(t>=this.S1))if(this.S1=t,0!==t)for(var r=n.length-1;r>=0;r-=1){var e=n[r];if(i<=e.C1)return e.D1-=i,e.C1-=i,void(n.length!==r+1&&(n.length=r+1));i-=e.C1}else n.length=0}},{key:"Jn",get:function(){for(var t=new Array(this.S1),n=0,i=0,r=this.$0;i<r.length;i++)for(var e=r[i],u=e.D1,s=e.N1;s<u;s+=1,n+=1)t[n]=e.P1[s];return t}}]),t}();function ZO(t,n){return{audio:t.audio?rx(t.audio,n):void 0,video:t.video?cx(t.video,n):void 0,M1:t.M1?(i=t.M1,{U1:i.U1,FJ:i.FJ,xl:i.xl,F1:i.F1,H1:i.H1,V1:i.V1,X1:i.X1.map(JO),Ll:[]}):void 0,W1:t.W1?t.W1.map(KO):t.W1,q1:t.q1.Qy()};var i}function JO(t){return{pk:t.pk,jA:{z1:t.jA.z1,G1:t.jA.j1.Qy()},vH:t.vH}}function $O(t){return{pk:t.pk,jA:{z1:t.jA.z1,j1:ig(t.jA.G1)},vH:t.vH}}function KO(t){return{j1:t.j1.Qy(),fA:t.fA,Vz:t.Vz,Hz:t.Hz,xu:t.xu,Q1:t.Q1,Xz:t.Xz,Wz:t.Wz}}function tx(t){return{j1:ig(t.j1),fA:t.fA,Vz:t.Vz,Hz:t.Hz,xu:t.xu,Q1:t.Q1,Xz:t.Xz,Wz:t.Wz}}function nx(t){return{U1:t.U1,vH:[],Y1:t.Y1,Z1:t.Z1,duration:t.duration,J1:t.J1,K1:t.K1.Qy(),n2:t.n2,i2:t.i2.Qy(),e2:t.e2,u2:t.u2.Qy(),s2:t.s2.Qy(),o2:t.o2.Qy(),a2:t.a2.Qy(),c2:t.c2.Qy(),h2:t.h2.Qy(),f2:t.f2.Qy()}}function ix(t){return{U1:t.U1,vH:[],Y1:t.Y1,Z1:t.Z1,duration:t.duration,J1:t.J1,K1:ig(t.K1),n2:t.n2,i2:ig(t.i2),e2:t.e2,u2:ig(t.u2),s2:ig(t.s2),o2:ig(t.o2),a2:ig(t.a2),c2:ig(t.c2),h2:ig(t.h2),f2:ig(t.f2)}}function rx(t,n){switch(t.Y1){case MO.T1:case MO.E1:return function(t,n){return dn(dn({},ux(t)),{Y1:t.Y1,vH:t.vH.map(function(t){return function(t,n){var i=(r=t.jA,dn(dn({},vx(r)),{v2:r.v2,d2:r.d2,l2:r.l2}));var r;return ox(t.Js(i),n)}(t,n)}),EZ:t.EZ,_2:t._2})}(t,n);case MO.b1:return function(t,n){return dn(dn({},ux(t)),{Y1:t.Y1,vH:t.vH.map(function(t){return function(t,n){var i=(r=t.jA,dn(dn({},vx(r)),{Sk:r.Sk,np:r.np,g2:r.g2,w2:r.w2,m2:r.m2}));var r;return ox(t.Js(i),n)}(t,n)})})}(t,n)}}function ex(t){switch(t.Y1){case MO.T1:case MO.E1:return function(t){return dn(dn({},sx(t)),{Y1:t.Y1,vH:t.vH.map(function(t){return function(t){var n=ax(t),i=(r=n.jA,dn(dn({},dx(r)),{v2:r.v2,d2:r.d2,l2:r.l2}));var r;return n.Js(i)}(t)}),EZ:t.EZ,_2:t._2})}(t);case MO.b1:return function(t){return dn(dn({},sx(t)),{Y1:t.Y1,vH:t.vH.map(function(t){return function(t){var n=ax(t),i=(r=n.jA,dn(dn({},dx(r)),{Sk:r.Sk,np:r.np,g2:r.g2,w2:r.w2,m2:r.m2}));var r;return n.Js(i)}(t)})})}(t)}}function ux(t){return dn(dn({},nx(t)),{vH:[],Y1:t.Y1,A2:t.A2,b2:t.b2,T2:t.T2,E2:t.E2})}function sx(t){return dn(dn({},ix(t)),{vH:[],Y1:t.Y1,A2:t.A2,b2:t.b2,T2:t.T2,E2:t.E2})}function ox(t,n){var i=t.L1();return n.push(i.buffer),{S2:i,R2:t.vl,I2:t.jA}}function ax(t){var n=new YO;return n.I1(t.S2,0,t.R2),n.jA=t.I2,n}function cx(t,n){return dn(dn({},nx(t)),{Y1:t.Y1,vH:t.vH.map(function(t){return function(t,n){var i=(r=t.jA,dn(dn({},hx(r)),{y_:r.y_,N2:r.N2.Qy(),D2:r.D2,C2:r.C2,O2:r.O2&&r.O2.Qy(),P2:r.P2&&r.P2.Qy(),B2:r.B2,L2:r.L2,W1:r.W1,M2:r.M2}));var r;return ox(t.Js(i),n)}(t,n)}),U2:t.U2,F2:t.F2,zp:t.zp,width:t.width,height:t.height,H2:t.H2,V2:t.V2,X2:t.X2,mZ:t.mZ,kZ:t.kZ,nA:t.nA,iA:t.iA})}function hx(t){var n;return dn(dn({},{z1:(n=t).z1,G1:n.G1.Qy()}),{W2:t.W2.Qy(),q2:t.q2.Qy()})}function fx(t){var n;return dn(dn({},{z1:(n=t).z1,G1:ig(n.G1)}),{W2:ig(t.W2),q2:ig(t.q2)})}function vx(t){return dn({},hx(t))}function dx(t){return dn({},fx(t))}function lx(t){var n=t.video,i=n&&n.vH;if(!n)return 0;if(!i)return NaN;for(var r=0;r<i.length;r+=1){if(i[r].jA.B2)return r}return NaN}function _x(t){var n=t.z2.video,i=n&&n.vH;if(!n)return 0;if(!i)return NaN;for(var r=i.length-1;r>=0;r-=1){if(i[r].jA.B2)return r}return NaN}function gx(t){if(!t)return null;switch(t.Y1){case MO.A1:return function(t){return t.zp?"avc1."+(t.H2<16?"0":"")+((t.H2<<16)+(t.V2<<8)+t.X2).toString(16):null}(t);case MO.b1:return"mp4a.40.34";case MO.T1:return t._2?"mp4a.40.5":"mp4a.40.2";case MO.E1:return"mp4a.40.5";default:return null}}function wx(t,n){var i=t.info,r=i.qZ,e=t.z2,u=r.uY(t.info.LQ-1),s=e.audio||void 0,o=e.video||void 0,a=s&&gx(s),c=o&&gx(o),h=(!s||a)&&(!o||c)?{eZ:a,uZ:c}:null,f=s&&!m(s.e2)?s.e2:null,v=o&&!m(o.e2)?o.e2:null,d=vg(s&&s.s2,o&&o.s2),l=vg(s&&s.o2,o&&o.o2),_=dg(s&&s.h2,o&&o.h2),w=dg(s&&s.f2,o&&o.f2),y=o&&o.K1.Cg(tg.Ly(o.duration)),k=s&&s.K1.Cg(tg.Ly(s.duration)),p=sC(u),A=p&&u.width||r.resolution&&r.resolution.width,b=p&&u.width||r.resolution&&r.resolution.height;t.metadata={start:g.max(null===f?v||0:null===v?f:g.min(f,v),0),G2:i,duration:y&&k?tg.Ny(y,k).Nw():(y||k||tg.Yw).Nw(),j2:d,Q2:l,Y2:_,Z2:w,audio:{start:g.max(0,f||0),duration:s&&s.J1||0,Y1:a,B$:s&&s.n2,j2:s&&s.s2,Q2:s&&s.o2,Y2:s&&s.h2,Z2:s&&s.f2},video:{start:g.max(0,v||0),duration:o&&o.J1||0,Y1:c,B$:o&&o.n2,j2:o&&o.s2,Q2:o&&o.o2,Y2:o&&o.h2,Z2:o&&o.f2},ZB:o?{width:o.width||A,height:o.height||b}:null,LQ:i.LQ,size:n,quality:r,eJ:h,J2:i.J2,K2:i.K2}}function yx(t,n){var i,r,e,u,s={start:0,duration:0,Y1:null,B$:null,j2:null,Q2:null,Y2:null,Z2:null};return"eZ"===n?(r=s,e=i=dn(dn({},s),t.video),u=t.ZB):(r=i=dn(dn({},s),t.audio),e=s,u=null),{start:i.start,G2:t.G2,duration:i.duration,j2:i.j2,Q2:i.Q2,Y2:i.Y2,Z2:i.Z2,audio:r,video:e,ZB:u,LQ:t.LQ,size:t.size,quality:t.quality,eJ:t.eJ,J2:t.J2,K2:t.K2}}function mx(t,n){return t+"t3"+n.LQ+"n3"+n.uri}!function(t){t.i3="r3",t.e3="u3"}(zO||(zO={})),function(t){t.s3="o3",t.NQ="a3"}(GO||(GO={})),function(t){t.c3="h3",t.e3="u3"}(jO||(jO={})),function(t){t.f3="v3",t.d3="l3"}(QO||(QO={}));var kx=function(t){function n(n){var i;return(i=t.call(this)||this)._3=_n(),i.g3=void 0,i.w3=void 0,i.y3=function(t){var n=t.data,r=n.m3;if(i._3.get(r))switch(n.A3){case GO.s3:0;var e=n.b3;i.T3(r,e);break;case GO.NQ:var u=n.E3;i.S3(r,new FD(UD.EQ,{code:u}));default:0}},i.R3=function(t){var n,r,e,u,s=t.data,o=s.I3;if(i._3.get(o))switch(s.N3){case QO.f3:0;var a=s.D3;i.C3(o,{audio:(n=a).audio?ex(n.audio):void 0,video:n.video?(e=n.video,u=ix(e),dn(dn({},u),{Y1:e.Y1,vH:e.vH.map(function(t){return function(t){var n,i=ax(t),r=dn(dn({},fx(n=i.jA)),{y_:n.y_,N2:ig(n.N2),D2:n.D2,C2:n.C2,O2:n.O2&&ig(n.O2),P2:n.P2&&ig(n.P2),B2:n.B2,L2:n.L2,W1:n.W1,M2:n.M2});return i.Js(r)}(t)}),U2:e.U2,F2:e.F2,zp:e.zp,width:e.width,height:e.height,H2:e.H2,V2:e.V2,X2:e.X2,mZ:e.mZ,kZ:e.kZ,nA:e.nA,iA:e.iA})):void 0,M1:n.M1?(r=n.M1,{U1:r.U1,FJ:r.FJ,xl:r.xl,F1:r.F1,H1:r.H1,V1:r.V1,X1:r.X1.map($O),Ll:[]}):void 0,W1:n.W1?n.W1.map(tx):n.W1,q1:ig(n.q1)});break;case QO.d3:var c=s.O3;i.S3(o,new FD(UD.EQ,{code:c}));default:0}},i.x3=function(t){if("PLAYER_INCORRECTLY_CONFIGURED"===t.message){var n={type:"Bs",Bs:new FD(UD.xQ,{code:"THEOplayer workers could not be loaded. Please check the configuration of the libraryLocation"})};et(n.Bs.info.code),i.dispatchEvent(n)}else 0},i.Ko=n,i.w3=i.P3(),i}qt(n,t);var i=n.prototype;return i.hs=function(t){var n=[];this._3.forEach(function(i,r){t&&i.tp!==t||n.push(r)}),this.B3(n)},i.B3=function(t){for(var n=0;n<t.length;n++){var i=t[n];this._3.delete(i)}if(t.length){if(this.g3){var r={L3:zO.e3,M3:t};this.g3.postMessage(r)}if(this.w3){var e={U3:jO.e3,F3:t};this.w3.postMessage(e)}}},i.S3=function(t,n){var i=this._3.get(t);if(i){var r=i.nO;this._3.delete(t),r(n)}},i.H3=function(t,n,i,r){this.g3||(this.g3=this.V3());var e={L3:zO.i3,X3:t,W3:n,q3:i,z3:r};this.g3.postMessage(e)},i.G3=function(t,n){this.w3||(this.w3=this.P3());var i={U3:jO.c3,j3:t,Q3:n,Y3:this._3.get(t).Z3};this.w3.postMessage(i)},i.T3=function(t,n){this.G3(t,n)},i.V3=function(){var t=_O(this.Ko.libraryLocation,"theoplayer.d.js");return t.addEventListener("message",this.y3),t.addEventListener("error",this.x3),t},i.J3=function(t){var n=t.z2.video,i=n&&n.vH&&n.vH[0];i&&i.jA.B2},i.C3=function(t,n){var i=this._3.get(t),r=i.nO,e=i.K3,u={z2:n,info:i.t4,metadata:null};this.J3(u),function(t){var n=t.info.qZ.uY(t.info.LQ-1),i=t.z2;t.info.K2=t.info.sY,n&&(i.audio||i.video?i.video&&!i.video.F2&&!i.video.U2&&i.video.n2&&n.hJ&&i.video.n2!==n.hJ?t.info.K2=!0:i.video&&(i.video.height&&n.height&&i.video.height!==n.height||i.video.width&&n.width&&i.video.width!==n.width)&&(t.info.K2=!0):t.info.K2=!0)}(u),wx(u,e),function(t){var n=t.info,i=n.qZ,r=t.metadata,e=t.z2;if(n.n4=tg.Ly(r.duration),n.CY=e.audio&&e.audio.K1.Cg(tg.Ly(e.audio.duration))||tg.Yw,n.OY=e.video&&e.video.K1.Cg(tg.Ly(e.video.duration))||tg.Yw,n.i4=e.audio&&e.audio.K1||tg.Yw,n.r4=e.video&&e.video.K1||tg.Yw,n.e4=r.audio.j2,n.u4=r.audio.Q2,n.s4=r.video.j2,n.o4=r.video.Q2,n.DY=r.j2,n.a4=r.Q2,n.c4=r.audio.Y2,n.h4=r.audio.Z2,n.f4=r.video.Y2,n.v4=r.video.Z2,n.Y2=r.Y2,n.Z2=r.Z2,e.video){var u=lx(t.z2),s=e.video.vH&&e.video.vH[u];s?(n.l1=u,n.w1=s.jA.W2,n.d4=s.jA.q2):n.l1=LO.m1}else n.l1=LO._1;n.hJ=e.video&&e.video.n2||0,n.width=e.video&&e.video.width||0,n.height=e.video&&e.video.height||0,i.dispatchEvent({type:"pJ",t4:t.info}),!i.resolution&&r.ZB&&(i.resolution=r.ZB),i.bandwidth||(i.bandwidth=8*r.size/r.duration),!r.eJ||i.eJ&&!i.eJ.eZ==!r.eJ.eZ&&!i.eJ.uZ==!r.eJ.uZ||i.JZ(r.eJ),e.audio&&void 0!==e.audio.EZ&&(i.EZ=e.audio.EZ),i.mZ=e.video&&e.video.mZ||i.mZ,i.kZ=e.video&&e.video.kZ||i.kZ,i.pZ=e.audio&&e.audio.U1||void 0,i.AZ=e.video&&e.video.U1||void 0,i.bZ=e.audio&&e.audio.Y1||void 0,i.TZ=e.video&&e.video.Y1||void 0,i.SZ=e.audio&&e.audio.n2||void 0,i.hJ=e.video&&e.video.n2||void 0}(u),this._3.delete(t),r(null,u)},i.P3=function(){var t=_O(this.Ko.libraryLocation,"theoplayer.e.js");return t.addEventListener("message",this.R3),t.addEventListener("error",this.x3),t},i.l4=function(t,n,i,r){var e=this;t.getKey(r).then(function(t){var u=i;i=void 0,e._3.has(n)&&e.H3(n,u,t,r.iv)}).catch(function(t){i=void 0,e._3.has(n)&&e.S3(n,t)})},i._4=function(t,n,i,r,e,u){var s=mx(t,r),o=r.qZ;this._3.set(s,{tp:t,t4:r,Z3:{g4:r.duration,eJ:o.eJ,mZ:o.mZ,kZ:o.kZ,pZ:o.pZ,AZ:o.AZ,bZ:o.bZ,TZ:o.TZ,EZ:!this.Ko.skipImplicitHEAACDetection&&o.EZ,w4:e},K3:i.length,nO:u}),r.key?this.l4(n,s,i,r.key):this.G3(s,i)},i.y4=function(t){var n=[];return this._3.forEach(function(i){i.tp===t&&n.push(i.t4)}),n},i.m4=function(t,n){var i=mx(t,n);return this._3.has(i)},i.Jf=function(){this.hs(),this.g3&&(this.g3.terminate(),this.g3=void 0),this.w3&&(this.w3.terminate(),this.w3=void 0)},n}(LD);function px(t,n){return t+"A4"+n}function Ax(t){return px(t.qZ.Al,t.LQ)}function bx(t){return!(!t||!t.z2)}var Tx=function(){function t(t,n,i){this.b4=[],this.T4=_n(),this.E4=1,this.XA=t,this.S4=n,this.R4=i}var n=t.prototype;return n.I4=function(t){var n=Ax(t.info);if(this.T4.has(n))this.N4(t.info,t);else{this.b4.push(n),this.T4.set(n,t);for(var i=this.S4.D4+10;this.b4.length>8*this.C4&&this.O4>i*this.C4;){var r=this.T4.get(this.b4[0]),e=this.R4.x4,u=null==r?void 0:r.info;if(u){var s=u.start,o=s+u.duration,a=new Yp([s,o]),c=e,h=c+this.S4.D4;if(new Yp([c,h]).yI(a).vl>0)break}this.T4.delete(this.b4.shift())}}},n.P4=function(t,n){var i=px(t,n),r=this.T4.get(i),e=this.b4.indexOf(i);return!(!r||-1===e)&&(di(this.b4,e),this.T4.delete(i),!0)},n.Gs=function(){this.b4.length=0,this.T4.clear()},n.B4=function(){for(var t={},n=0,i=this.b4;n<i.length;n++){var r=i[n],e=this.T4.get(r);bx(e)&&(t[e.info.qZ.Al]=(t[e.info.qZ.Al]||0)+1)}return t},n.L4=function(t,n){var i=[],r=this.M4(t,n);if(!bx(r))return i;do{i.push(r),n+=1,r=this.M4(t,n)}while(bx(r));return i},n.U4=function(t,n){return!!this.M4(t,n)},n.F4=function(t,n){return bx(this.M4(t,n))},n.M4=function(t,n){return this.T4.get(px(t,n))},n.N4=function(t,n){var i=Ax(t),r=this.b4.indexOf(i);return-1!==r&&(di(this.b4,r),this.b4.push(i),n&&this.T4.set(i,n),!0)},n.H4=function(){for(var t=[],n=0,i=this.b4;n<i.length;n++){var r=i[n],e=this.T4.get(r);t.push(e.info)}return t},n.V4=function(){for(var t=[],n=0,i=this.b4;n<i.length;n++){var r=i[n],e=this.T4.get(r);e&&bx(e)&&t.push(e.info)}return t},T(t,[{key:"O4",get:function(){for(var t=HO(this.XA,this.H4()),n=0,i=0;i<t.length;i++)n+=t.end(i)-t.start(i);return n}},{key:"C4",get:function(){return this.E4},set:function(t){t>0&&(this.E4=g.max(t,1))}}]),t}();var Ex=P.rn?function(t,n){return fg(t.W2,n.W2)}:function(t,n){return fg(t.q2,n.q2)};function Sx(t,n,i){var r,e=t.length,u=tg.Yw;r=function(t,n){return Ex(t.jA,n.jA).Cw(tg.Yw)},t=ai(t.slice(),r);for(var s=1;s<e;s+=1){var o=t[s-1].jA,a=t[s].jA,c=Ex(a,o);c.Pw(tg.Yw)&&(c=n),u=u.Cg(c),o.N2=c,o.y_=c.Nw()}if(e>0){var h=t[e-1].jA,f=tg.Iy(tg.Ly(g.round(i-u.Nw())),n);h.N2=f,h.y_=f.Nw()}}function Rx(t,n,i){var r=n[0].jA.G1,e=t[t.length-1].jA.G1,u=r.Hw(e),s=fg(r,e).Hw(u);if(!s.ty())for(var o=0;o<n.length;o++){i(n[o].jA,s)}}function Ix(t,n){t.q2=t.q2.Cg(n),t.W2=t.W2.Cg(n),t.G1=t.G1.Cg(n)}function Nx(t,n){Ix(t,n),t.N2=t.N2.Cg(n),t.P2=Dx(t.P2,n),t.O2=Dx(t.O2,n)}function Dx(t,n){if(t)return t.Cg(n)}function Cx(t,n){return n.Cg(fg(t,n))}function Ox(t,n){var i={audio:void 0,video:void 0,q1:t.q1};if("video"===n){if(!t.audio)return i;i.audio={Y1:t.audio.Y1,n2:t.audio.n2,i2:t.audio.i2,duration:t.audio.duration,J1:t.audio.J1,K1:tg.Yw,e2:t.audio.e2,u2:t.audio.u2,s2:t.audio.s2,o2:t.audio.o2,a2:t.audio.a2,c2:t.audio.c2,h2:t.audio.h2,f2:t.audio.f2,vH:t.audio.vH,E2:t.audio.E2,T2:t.audio.T2,Z1:t.audio.Z1,A2:t.audio.A2,b2:t.audio.b2}}if("audio"===n){if(!t.video)return i;i.video={Y1:t.video.Y1,H2:t.video.H2,X2:t.video.X2,V2:t.video.V2,n2:t.video.n2,i2:t.video.i2,U2:t.video.U2,F2:t.video.F2,width:t.video.width,height:t.video.height,mZ:t.video.mZ,kZ:t.video.kZ,nA:t.video.nA,iA:t.video.iA,zp:t.video.zp,duration:t.video.duration,J1:t.video.J1,K1:tg.Yw,e2:t.video.e2,u2:t.video.u2,s2:t.video.s2,o2:t.video.o2,a2:t.video.a2,c2:t.video.c2,h2:t.video.h2,f2:t.video.f2,vH:t.video.vH,Z1:t.video.Z1}}return i}function xx(t,n,i,r){var e=function(t,n){if(!t)return n;if(!n)return t;var i;if((t.Y1===n.Y1||!t.Y1||!n.Y1)&&t.n2===n.n2&&t.i2._w(n.i2)&&t.T2===n.T2)return t.vH?n.vH?(i=t.vH.concat(n.vH),Rx(t.vH,n.vH,Ix)):i=t.vH:i=n.vH,{Y1:t.Y1,n2:t.n2,i2:t.i2,duration:t.duration+n.duration,J1:t.J1+n.J1,K1:t.K1,e2:t.e2,u2:t.u2,s2:t.s2,o2:t.o2,a2:Cx(n.a2,t.a2),c2:Cx(n.c2,t.c2),h2:Cx(n.h2,t.h2),f2:Cx(n.f2,t.f2),vH:i,T2:t.T2,E2:t.E2,Z1:t.Z1||n.Z1,A2:t.A2,b2:t.b2}}(t.audio?t.audio:void 0,i.audio?i.audio:void 0);if(!t.audio&&!i.audio||e){var u=function(t,n,i,r){if(!t)return i;if(!i)return t;if(t.Y1===i.Y1){var e,u,s=t.U2||i.U2;if(s)u=1/(e=t.i2.Cg(i.i2).Ay(2)).Nw();else{if(t.n2!==i.n2)return;if(!t.i2._w(i.i2))return;e=t.i2,u=t.n2}if(t.width===i.width&&t.height===i.height){var o,a=t.F2||i.F2||!t.i2._w(i.i2);return t.vH?i.vH?r?(o=t.vH.concat(i.vH),Rx(t.vH,i.vH,Nx)):(Sx(n.vH.concat(i.vH),e,n.duration+i.duration),o=t.vH.concat(i.vH),Rx(t.vH,i.vH,Nx)):o=t.vH:o=i.vH,{Y1:t.Y1,H2:t.H2,X2:t.X2,V2:t.V2,n2:u,i2:e,U2:s,F2:a,width:t.width,height:t.height,mZ:t.mZ,kZ:t.kZ,zp:t.zp,duration:t.duration+i.duration,J1:t.J1+i.J1,K1:t.K1,e2:t.e2,u2:t.u2,s2:t.s2,o2:t.o2,a2:Cx(i.a2,t.a2),c2:Cx(i.c2,t.c2),h2:Cx(i.h2,t.h2),f2:Cx(i.f2,t.f2),vH:o,Z1:t.Z1||i.Z1,nA:t.nA,iA:t.iA}}}}(t.video?t.video:void 0,n.video,i.video,r);if(!t.video&&!i.video||u)return{audio:e,video:u,q1:t.q1}}}function Px(t){return Ox(t,"audio")}function Bx(t){return Ox(t,"video")}var Lx,Mx,Ux,Fx=function(){function t(t){this.rj=0,this.X4=0,this.W4=g.exp(g.log(.5)/t)}var n=t.prototype;return n.q4=function(t,n){var i=g.pow(this.W4,t),r=n*(1-i)+i*this.rj;m(r)||(this.rj=r,this.X4+=t)},n.z4=function(){var t=1-g.pow(this.W4,this.X4);return this.rj/t},t}(),Hx=function(){function t(t,n,i){void 0===t&&(t=2),void 0===n&&(n=5),void 0===i&&(i=128e3),this.G4=0,this.j4=5e5,this.Q4=new Fx(t),this.Y4=new Fx(n),this.Z4=i}var n=t.prototype;return n.q4=function(t,n){var i=8e3*n/t,r=t/1e3;this.G4+=n,this.Q4.q4(r,i),this.Y4.q4(r,i)},n.z4=function(){return this.J4()?g.min(this.Q4.z4(),this.Y4.z4()):this.j4},n.J4=function(){return this.G4>=this.Z4},t}(),Vx=function(){function t(){this.Q4=new Fx(2),this.Y4=new Fx(5),this.K4=0,this.t5=1,this.j4=100}var n=t.prototype;return n.q4=function(t){this.K4+=1,this.Q4.q4(1,t),this.Y4.q4(1,t)},n.z4=function(){return this.J4()?g.min(this.Q4.z4(),this.Y4.z4()):this.j4},n.J4=function(){return this.K4>=this.t5},t}(),Xx=function(){function t(t,n){var i=this;this.n5=!1,this.i5=0,this.r5=0,this.e5=function(){return i.u5()},this.s5=t,this.Ef=n,this.f0=n.f0,this.f0.addEventListener("bo",this.e5)}return t.prototype.u5=function(){var t=this.f0.D0,n=1e3*this.f0.x0,i=1e3*this.f0.D_;this.f0.gK&&(this.n5||(this.s5.o5(i),this.n5=!0),n>this.r5&&(this.s5.a5(n-this.r5,t-this.i5),this.i5=t,this.r5=n))},t}(),Wx=function(){function t(){this.c5=new Hx,this.h5=new Vx}var n=t.prototype;return n.f5=function(t){new Xx(this,t)},n.a5=function(t,n){this.c5.q4(t,n)},n.o5=function(t){this.h5.q4(t)},n.Jf=function(){},T(t,[{key:"v5",get:function(){return this.h5.z4()/1e3}},{key:"d5",get:function(){return this.c5.z4()}}]),t}(),qx=function(){function t(){this.l5=_n()}var n=t.prototype;return n._5=function(t,n){var i,r,e=this.l5.get(t);return Boolean(e&&(i=e.IY,r=n,X(i)?i===r:function(t,n){return t.IY===n.IY&&t.NY.uI===n.NY.uI&&t.NY.oI===n.NY.oI}(i,r)))},n.g5=function(t,n){if(this._5(t,n))return this.l5.get(t).Jn},n.w5=function(t,n,i){this.l5.set(t,{IY:n,Jn:i})},n.Gs=function(){this.l5.clear()},t}();!function(t){t[t.y5=0]="y5",t[t.m5=5]="m5",t[t.k5=13]="k5",t[t.p5=14]="p5",t[t.A5=15]="A5"}(Lx||(Lx={})),function(t){t[t.b5=0]="b5",t[t.T5=1]="T5",t[t.E5=2]="E5",t[t.S5=11]="S5",t[t.R5=13]="R5",t[t.I5=14]="I5"}(Mx||(Mx={})),function(t){t[t.N5=0]="N5",t[t.D5=1]="D5",t[t.C5=2]="C5",t[t.O5=3]="O5",t[t.x5=4]="x5",t[t.P5=5]="P5",t[t.B5=6]="B5",t[t.L5=7]="L5"}(Ux||(Ux={}));var zx=5,Gx=5,jx=.5;function Qx(t){if(!t.z2.video)return[];for(var n=[],i=0;i<t.z2.video.vH.length;i++){var r=t.z2.video.vH[i].jA;r.B2&&n.push({M5:i,U5:r.W2})}return n}var Yx=tg.Ly(.04),Zx=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).F5=_n(),u.H5=_n(),u.V5=1,u.Ko=n,u.X5=i,u.lb=r,u.W5=new qx,u.S4=e,u.q5=new iO(r,n),u.z5=new Wx,u.G5=new kx(n),u.G5.addEventListener("Bs",function(t){u.dispatchEvent(t)}),u}qt(n,t);var i=n.prototype;return i.j5=function(t){this.G5.hs(t),this.q5.Gs(!1,t)},i.Gs=function(t){this.j5(t),t?this.F5.get(t).Gs():this.F5.forEach(function(t){return t.Gs()})},i.Jf=function(){this.Ts(),this.q5.Gs(),this.F5.forEach(function(t){return t.Gs()}),this.F5.clear(),this.G5.Jf()},i.ol=function(t,n,i){if(!this.F5.has(t)){var r=new Tx(n,this.S4,i);r.C4=this.C4,this.F5.set(t,r)}},i.Q5=function(){var t=vn.coroutine(fn.mark(function t(n,i,r){var e;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.W5._5(i,r)){t.next=2;break}return t.abrupt("return",this.W5.g5(i,r));case 2:return t.next=4,this.Y5(n,r);case 4:return e=t.sent,this.W5.w5(i,r,e),t.abrupt("return",e);case 7:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.Y5=function(t,n){var i=this;return new vn(function(r,e){i.q5.po(t,n,Ro.Vc,function(t,n){t&&e(t),r(new k(n.vv))})})},i.Z5=function(t,n,i,r){var e=this.F5.get(t),u=e.M4(n.qZ.Al,n.LQ);if(e.F4(n.qZ.Al,n.LQ))e.N4(n),this.dispatchEvent({type:"J5",tp:t,gJ:u});else{if(!u)return this.K5(t,n,i,r);e.N4(n),this.t6(t,n,i,u.n6)}return r&&r(),null},i.K5=function(t,n,i,r){var e=this,u=this.F5.get(t),s=function(t,n){return t+"i6"+n.LQ+"n3"+n.uri}(t,n);if(this.H5.has(s))return null;this.H5.set(s,!0);var o=this.q5.po(t,n.uri,Ro.Vc,function(a,c){return e.H5.delete(s),a?r&&r(a):(e.dispatchEvent({type:"r6",tp:t}),u.F4(n.qZ.Al,n.LQ)||u.I4({info:n,n6:o.vv}),e.Z5(t,n,i),r&&r(a,c))});return this.z5.f5(o),o},i.t6=function(t,n,i,r){var e=this,u=this.F5.get(t);this.G5.m4(t,n)||(n&&n.key&&this.X5.getKey(n.key).catch(j),this.G5._4(t,this.X5,r,n,i,function(n,i){if(n)return e.dispatchEvent({type:"Bs",Bs:n});u.I4(i),e.dispatchEvent({type:"J5",tp:t,gJ:i})}))},i.e6=function(t,n,i){var r=i.length,e="eZ"===t?$x:Kx;if(!Jx(n,i))return null;if(r<=1)return i;for(var u=1;u<r;u+=1){var s=i[u],o=i[u-1];if(s.metadata.K2){if("u6"===this.Ko.s6||e(s,o)){var a=i.splice(0,u);return Jx(n,a)?a:this.e6(t,n,i)}0}}return i},i.o6=function(t,n,i,r){for(var e=this.F5.get(t).V4(),u=r.a6,s=function(t){var r=i[t],s=e.filter(function(t){return t.qZ===r}),o=HO(n,s),a=o.i1(u.Nw(),Yx.Nw());if(a>=0&&tg.Ly(o.end(a)).Hw(u).Ow(Yx))return{v:!0}},o=0;o<i.length;o++){var a=s(o);if("object"==typeof a)return a.v}return!1},i.c6=function(t,n,i,r,e){if(!P.Kt)return!0;if(e.h6||this.o6(t,n,i,e))return!0;var u=tg.Iy(r,e.f6);return e.a6.Hw(u).Ow(tg.Ly(2))},i.v6=function(t,n,i,r,e,u,s,o){var a=n.L4(e.Al,u),c=this.e6(t,u,a);if(!c||0===c.length)return null;var h,f=c[0],v=r.v1(f.info),d=vP(t,r,f);if("uZ"!==t||function(t,n,i){return!!t&&t.cp.qZ===n&&i.Ow(tg.Ly(t.oI))&&i.Pw(tg.Ly(t.oI).Cg(Yx))}(i,e,d))return{iY:c,d6:tg.Ny(v,d)};f.z2.video&&(f=(c=uP(c,function(t,n,i,r){for(var e=0,u=0,s=0;s<t.length;s+=1)for(var o=t[s],a=Qx(o),c=0;c<a.length;c++){var h=a[c];if(n.g1(o.info,h.U5).Dw(i.Hw(r)))return{l6:e,_6:u};e=s,u=h.M5}return{l6:e,_6:u}}(c,r,s,o)))[0]);if(d=vP(t,r,f),function(t){var n=t.z2.video,i=n&&n.vH,r=i&&i[0],e=r&&r.jA.B2;if(!n)return!0;return!!e}(f))return{iY:c,d6:tg.Ny(v,d)};var l=function(t){for(var n=0;n<t.length;n++){var i=lx(t[n].z2);if(!m(i))return{l6:n,_6:i}}return null}(c),_=tg.Iy(s,cP(t,r,e.uY(u)));if(f.info.LQ===u){if(l&&(d=vP(t,r,(h=uP(c,l))[0]),_.Hw(d).Ow(o)))return{iY:h,d6:tg.Ny(v,d)};for(var g=u-1;n.F4(e.Al,g);){var w=n.L4(e.Al,g);if((f=(h=this.e6(t,u,w))&&h[0]&&eP(h[0],_x(h[0])))&&(d=vP(t,r,f),_.Hw(d).Ow(o)))return h[0]=f,{iY:h,d6:tg.Ny(v,d)};g-=1}}return function(t){if(t.sY)return!1;var n=t.qZ;if(n.eY&&n.eY.live)return!1;if(!n.uY(t.LQ-1))return!1;return!0}(c[0].info)?null:l?{iY:c=uP(c,l),d6:v}:null},i.g6=function(t,n,i,r,e,u,s,o,a,c,h){var f=u.w6(o,a,n),v=f&&f.cp;if(!v)return null;var d=v.LQ;do{var l=d,_=o.uY(l),g=cP(n,u,_);if(!hP(n,u,_).Lw(a)||_.J2){if(g.Cg(Yx).Dw(c))break;if(tg.Iy(tg.Yw,a.Hw(g)).Lw(h)&&i.F4(o.Al,l-1)&&i.F4(o.Al,l))i.M4(o.Al,l).metadata.K2||(l-=1);var w=this.y6(t,n,i,r,e,u,s,o,l,a,h);if(w&&(rP(w,a,c)||w.h6))return w}}while(i.F4(o.Al,++d));return null},i.y6=function(t,n,i,r,e,u,s,o,a,c,h){var f=o.uY(a),v=this.v6(n,i,r,u,o,a,c,h),d=v&&v.iY,l=v&&v.d6,_=d&&d[d.length-1],w=_&&_.metadata.J2;if(!(d=function(t,n){if(!n||!n.length)return n;var i="eZ"===t?tP:nP;return n.map(i).filter(iP)}(n,d))||!d.length){if(w){var y=[],m=u.v1(_.info);return y.GM=m,y.m6=m,y.f6=m,y.k6=m,y.a6=m,y.h6=w,y}return null}var k=d="uZ"===n?function(t,n,i){var r=i[0].z2.video;return i[0].info.sY?function(t,n,i,r){var e=fi(r.vH,function(t){return t.jA.B2});if(e<0)return i;var u=r.vH[e].jA,s=n.g1(i[0].info,u.W2),o=dP(t,s);if(o.Vw())return i;var a=s.Hw(o).Dy(rg,Z_.jy);if(a.Pw(tg.Yw))return i;var c=gP(r.vH.slice(e),a);return i[0]=oP(i[0],c),i}(t,n,i,r):function(t,n,i,r){var e=r.i2.yy(zx),u=r.vH[0].jA,s=n.g1(i[0].info,u.q2),o=lP(t,s,e);if(o.Vw())return i;var a=s.Hw(o).Dy(rg,Z_.jy);if(a.Pw(tg.Yw)||a.Dw(e))return i;var c=gP(r.vH,a);return i[0]=oP(i[0],c),i}(t,n,i,r)}(e,u,d):function(t,n,i){var r;if((null===(r=i[0].z2.audio)||void 0===r?void 0:r.Y1)===MO.b1)return i;var e=i[0].z2.audio,u=e.vH[0].jA;return i[0].info.sY?function(t,n,i,r,e){var u=n.g1(i[0].info,e.W2),s=dP(t,u);if(s.Vw())return i;var o=u.Hw(s).Nw(),a=g.floor(o/r.i2.Nw());if(a<=0)return i;var c=_P(r,a);return i[0]=sP(i[0],c),i}(t,n,i,e,u):function(t,n,i,r,e){var u=n.g1(i[0].info,e.q2),s=lP(t,u,r.i2.yy(Gx));if(s.Vw())return i;var o=(a=u.Hw(s).Nw()/r.i2.Nw(),a<0?g.ceil(a):g.floor(a));var a;if(0===o||g.abs(o)>Gx)return i;var c=_P(r,o);return i[0]=sP(i[0],c),i}(t,n,i,e,u)}(e,u,d),p=k[0];if(f.LQ<p.info.LQ&&(l=u.v1(f)),k.GM=l,k.m6=function(t,n,i){return n.g1(i.info,fP(t,i).Q2)}(n,u,p),k.f6=vP(n,u,p),k.k6=function(t,n,i){return n.g1(i.info,fP(t,i).Z2)}(n,u,k[k.length-1]),k.a6=function(t,n,i){return n.g1(i.info,fP(t,i).Y2)}(n,u,k[k.length-1]),k.h6=w,!this.c6(t,u,s,c,k))return null;var A=p.z2.video;return!A||(A.mZ=A.mZ||o.mZ,A.kZ=A.kZ||o.kZ,A.mZ&&A.kZ)?k:null},i.p6=function(t,n,i,r,e,u,s,o,a,c){for(var h=null,f=s.length-1;f>=0;f-=1){var v=s[f],d=this.g6(t,n,i,r,e,u,s,v,o,a,c);d&&(h&&!d.f6.Lw(h.f6)||(h=d))}return h},i.A6=function(t,n,i,r,e,u,s,o,a){for(var c=tg.Ly(s),h=tg.Ly(o),f=tg.Ly(a),v=this.F5.get(t),d=new mO([{uI:c.Nw(),oI:c.Cg(h).Nw()}]),l=e.yI(d),_=function(t){if(0===t.length)return null;var n=t.iY(t.length-1),i=n[n.length-1];if(!i.cp.b6)return null;return i}(e),g=bO(TO(l),d),w=0;w<g.length;w++){var y=tg.Ly(g.start(w)),m=tg.Ly(g.end(w)),k=wP(l,y,m),p=y.Cg(k).Dy(rg,Z_.jy),A=m.Dy(rg,Z_.jy);if(p.Lw(A)){if(_&&p.Ow(tg.Ly(_.oI)))continue;var b=this.p6(t,n,v,u,e,i,r,p,A,f);if(b)return b}}return null},i.V4=function(t){return this.F5.get(t).V4()},i.y4=function(t){return this.G5.y4(t)},T(n,[{key:"C4",get:function(){return this.V5},set:function(t){t>0&&(this.V5=t,this.F5.forEach(function(n){return n.C4=t}))}},{key:"v5",get:function(){return this.z5.v5}},{key:"d5",get:function(){return this.z5.d5}}]),n}(LD);function Jx(t,n){for(var i=0;i<n.length;i++){if(n[i].info.LQ===t)return!0}return!1}function $x(t,n){return t.metadata.audio.Y1!==n.metadata.audio.Y1||(t.metadata.audio.B$!==n.metadata.audio.B$||(!(!t.z2.audio||!n.z2.audio||t.z2.audio.T2===n.z2.audio.T2)||!cg(t.metadata.audio.j2,t.metadata.audio.Q2)._w(cg(n.metadata.audio.Y2,n.metadata.audio.Z2))))}function Kx(t,n){return t.metadata.video.Y1!==n.metadata.video.Y1||(!(!t.metadata.ZB||!n.metadata.ZB||t.metadata.ZB.height===n.metadata.ZB.height&&t.metadata.ZB.width===n.metadata.ZB.width)||(!(!n.z2.video||n.z2.video.F2||t.metadata.video.B$===n.metadata.video.B$)||cg(t.metadata.video.j2,t.metadata.video.Q2)!==cg(n.metadata.video.Y2,n.metadata.video.Z2)))}function tP(t){return t.z2.video&&(t={z2:Bx(t.z2),info:t.info,metadata:yx(t.metadata,"uZ")}),t}function nP(t){return t.z2.audio&&(t={z2:Px(t.z2),info:t.info,metadata:yx(t.metadata,"eZ")}),t}function iP(t){return Boolean(t&&(t.z2.audio||t.z2.video))}function rP(t,n,i){var r=tg.Iy(n,t.f6),e=tg.Ny(i,t.a6),u=Yx;return P.Gt&&(r.Pw(t.f6)?u=u.Cg(t.f6).Hw(t.m6):e.Ow(t.a6)&&(u=u.Cg(t.a6).Hw(t.k6))),e.Hw(r).Ow(u)}function eP(t,n){return m(n)?null:0===n?t:oP(t,t.z2.video.vH.slice(n))}function uP(t,n){return(t=t.slice(n.l6))[0]=eP(t[0],n._6),t}function sP(t,n){var i={info:t.info,z2:{audio:Bx(t.z2).audio,video:null,q1:t.z2.q1},metadata:null},r=i.z2.audio;r.vH=n;var e=n[0].jA;return r.u2=e.G1,r.e2=r.u2.Nw(),aP(r,i.z2.q1,r.i2),wx(i,t.metadata.size),i.metadata=yx(i.metadata,"uZ"),i}function oP(t,n){var i={info:t.info,z2:{audio:null,video:Px(t.z2).video,q1:t.z2.q1},metadata:null},r=i.z2.video;r.vH=n;var e=n[0].jA;r.u2=e.G1,r.e2=r.u2.Nw();var u=n[n.length-1].jA.N2;return aP(r,i.z2.q1,u),wx(i,t.metadata.size),i.metadata=yx(i.metadata,"eZ"),i}function aP(t,n,i){for(var r=tg.Uy,e=tg.Uy,u=tg.Fy,s=tg.Fy,o=0,a=t.vH;o<a.length;o++){var c=a[o].jA;r=tg.Ny(c.q2,r),e=tg.Ny(c.W2,e),u=tg.Iy(c.q2,u),s=tg.Iy(c.W2,s)}t.s2=e,t.o2=r,t.a2=s,t.c2=u,t.K1=tg.Iy(fg(t.u2,n),tg.Yw),t.h2=hg(t.a2,i),t.f2=hg(t.c2,i),t.J1=cg(t.h2,t.s2).Nw(),t.duration=t.J1}function cP(t,n,i){if(sC(i)){var r="eZ"===t?i.e4:i.s4;return og(r)||(r=i.DY),n.g1(i,r)}return i&&n.v1(i)}function hP(t,n,i){if(sC(i)){var r="eZ"===t?i.c4:i.f4;return og(r)||(r=i.DY),n.g1(i,r)}return i&&n.v1(i).Cg("eZ"===t?function(t){return sC(t)?t.CY||tg.Yw:t&&tg.Ly(t.duration)||tg.Yw}(i):function(t){return sC(t)?t.OY||tg.Yw:t&&tg.Ly(t.duration)||tg.Yw}(i))}function fP(t,n){return"eZ"===t?n.metadata.audio:n.metadata.video}function vP(t,n,i){return n.g1(i.info,fP(t,i).j2)}function dP(t,n){var i=t.s1(n.Nw());if(-1!==i){var r=tg.Ly(t.end(i));if(n.Hw(r).Pw(tg.Ly(jx)))return r}return tg.My}function lP(t,n,i){var r=t.i1(n.Nw(),i.Nw());if(-1!==r)for(var e=t.iY(r),u=e.length-1;u>=0;u--){var s=e[u];if(n.Hw(tg.Ly(s.oI)).Mw().Pw(i))return tg.Ly(s.cp.k6);if(n.Hw(tg.Ly(s.uI)).Mw().Pw(i))return tg.Ly(s.cp.T6)}return tg.My}function _P(t,n){var i;if(n<0)i=t.vH.slice(-n);else{0;var r=new YO,e=function(t,n){if(t)switch(n){case 1:return new k([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);case 2:case 3:return new k([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}else switch(n){case 1:return new k([0,200,0,128,35,128]);case 2:return new k([33,0,73,144,2,25,0,35,128]);case 3:return new k([0,200,0,128,32,132,1,38,64,8,100,0,142]);case 4:return new k([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);case 5:return new k([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);case 6:return new k([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}return null}(t._2,t.T2);r.I1(e,0,e.length),i=t.vH.slice();for(var u=0;u<n;u++){var s=i[0].jA,o=r.Js(dn(dn({},r.jA),{G1:cg(s.G1,t.i2),z1:s.z1-t.i2.Nw(),q2:cg(s.q2,t.i2),W2:cg(s.W2,t.i2)}));i.unshift(o)}}return i}function gP(t,n){var i=t[0].jA,r=t.slice();return r[0]=t[0].Js(dn(dn({},i),{G1:cg(i.G1,n),z1:i.z1-n.Nw(),q2:cg(i.q2,n),C2:i.C2-n.Nw(),W2:cg(i.W2,n),D2:i.D2-n.Nw(),N2:tg.Iy(tg.Yw,i.N2.Cg(n)),y_:g.max(0,i.y_+n.Nw())})),r}function wP(t,n,i){for(var r=0;r<t.length-1;r++){var e=t.iY(r),u=t.iY(r+1);if(e.length&&u.length&&tg.Ly(e[0].uI).Pw(n)&&tg.Ly(u[u.length-1].oI).Ow(i)&&u[0].cp.iY[0].Ks.G2.sY)return Yx.yy(5)}return t.Og(n.Nw())?Yx:tg.Yw}function yP(t){return new EP(t.af,t.Jn)}var mP,kP,pP,AP,bP,TP,EP=function(){function t(t,n){this.E6=n,this.af=t}return t.prototype.S6=function(t){eO(t)},T(t,[{key:"Jn",get:function(){return this.E6}},{key:"R6",get:function(){return rO(uO(this.E6,this.af))}}]),t}(),SP=function(){function t(t,n,i){this.IY="data:"+t+";"+n+","+i}return t.prototype.S6=function(t){},T(t,[{key:"R6",get:function(){return this.IY}}]),t}();!function(t){t.b1="I6",t.Jl="N6",t.D6="C6",t.O6="x6",t.P6="B6"}(mP||(mP={})),function(t){t.L6="M6",t.U6="F6"}(kP||(kP={})),function(t){t.H6="audio/mp4",t.V6="audio/mpeg",t.X6="video/mp4"}(pP||(pP={})),function(t){t[t.W6=0]="W6",t[t.q6=1]="q6",t[t.Ol=2]="Ol",t[t.z6=3]="z6"}(AP||(AP={})),function(t){t.G6="j6",t.Q6="Y6"}(bP||(bP={})),function(t){t.Z6="u6",t.Q6="J6"}(TP||(TP={}));var RP=function(){function t(t,n,i,r,e,u,s,o,a,c){this.K6=AP.W6,this.t9=t,this.n9=n,this.tp=i,this.af=r,this.gJ=e,this.i9=u,this.FA=s,this.r9=o,this.e9=a,this.nO=c}return t.u9=function(t,n,i,r,e,u,s,o,a,c){switch(n){case bP.G6:return new IP(t,i,r,e,u,s,o,a,c);case bP.Q6:return new NP(t,i,r,e,u,s,o,a,c)}},t}(),IP=function(t){function n(n,i,r,e,u,s,o,a,c){return t.call(this,bP.G6,n,i,r,e,u,s,o,a,c)||this}return qt(n,t),n.prototype.s9=function(){return{o9:"a9",c9:this.n9,h9:mP.P6,f9:kP.L6,v9:this.af,d9:ZO(this.gJ,[]),l9:this.e9,_9:this.r9.Qy(),g9:this.i9.Qy(),w9:this.FA.Qy()}},n}(RP),NP=function(t){function n(n,i,r,e,u,s,o,a,c){return t.call(this,bP.Q6,n,i,r,e,u,s,o,a,c)||this}return qt(n,t),n.prototype.s9=function(){return{o9:"a9",c9:this.n9,h9:this.af===pP.V6?mP.b1:mP.Jl,f9:_p?kP.U6:kP.L6,v9:this.af,d9:ZO(this.gJ,[])}},n}(RP),DP=function(){function t(){this.y9=_n(),this.m9=1}var n=t.prototype;return n.k9=function(){return(this.m9++).toString()},n.u9=function(t,n,i,r,e,u,s,o,a){var c=this.k9(),h=RP.u9(c,n,t,i,r,e,u,s,o,a);return this.p9(h),h},n.A9=function(t){return this.y9.get(t)},n.p9=function(t){this.y9.set(t.n9,t)},n.b9=function(t){this.y9.delete(t)},n.T9=function(t){this.A9(t).K6=AP.q6,this.b9(t)},n.E9=function(t,n){var i=this.A9(t).nO;this.A9(t).K6=AP.Ol,this.b9(t),i(n)},n.S9=function(t,n){var i=this.A9(t).nO;this.A9(t).K6=AP.z6,this.b9(t),i(null,n)},n.Gs=function(t){var n=[];this.y9.forEach(function(i,r){t&&i.tp!==t||n.push(r)});for(var i=0;i<n.length;i++){var r=n[i];this.T9(r)}},t}();var CP,OP=function(){function t(n){var i=this;this.R9=function(t){var n=t.data.I9,r=t.data.N9,e=t.data.D9,u=t.data.C9,s=i.y9.A9(r);if(s&&s.K6!==AP.q6)switch(n){case"O9":i.x9(s,e);break;case"P9":i.y9.E9(r,new FD(UD.EQ,{code:u}));break;default:0}},this.B9=function(t){0},this.y9=new DP,this.Ko=n,this.L9=t.M9(n.s6),this.U9()}t.M9=function(t){switch(t){case TP.Z6:return bP.G6;case TP.Q6:return bP.Q6}};var n=t.prototype;return n.a9=function(t,n,i,r,e,u,s){var o={metadata:null,eZ:null,uZ:null,Bs:null};i&&i.length||s(new FD(UD.EQ,{code:"SP154"}));var a=i[0],c=i[i.length-1],h=a.info.LQ+1,f=a.info.qZ,v=a.metadata,d=v.audio.Y1?v.audio:void 0,l=v.video.Y1?v.video:void 0,_=c.metadata,g=_.audio.Y1?_.audio:void 0,w=_.video.Y1?_.video:void 0,y=r.Cg(fg(v.Q2,v.j2)),k=r.Cg(fg(v.j2,v.j2)),p=r.Cg(d?fg(d.Q2,v.j2):tg.Yw),A=r.Cg(d?fg(d.j2,v.j2):tg.Yw),b=r.Cg(l?fg(l.Q2,v.j2):tg.Yw),T=r.Cg(l?fg(l.j2,v.j2):tg.Yw),E=r.Cg(fg(_.Z2,v.j2)),S=r.Cg(fg(_.Y2,v.j2)),R=r.Cg(g?fg(g.Z2,v.j2):tg.Yw),I=r.Cg(g?fg(g.Y2,v.j2):tg.Yw),N=r.Cg(w?fg(w.Z2,v.j2):tg.Yw),D=r.Cg(w?fg(w.Y2,v.j2):tg.Yw);p=tg.Iy(tg.Yw,p),b=tg.Iy(tg.Yw,b);var C,O,x,P,B,L=iC.C_(n.sJ)?tg.Ly(100079991719):tg.Ly(n.y_),M=function(t){for(var n=t[0].z2,i=n,r=1;r<t.length;r++){if(!(n=xx(i,t[r-1].z2,t[r].z2,t[r].info.K2)))return i;i=n}return i}(i);if(M.audio){O=(C=Bx(M)).audio.duration;x=this.y9.u9(t,this.L9,"mp3"===C.audio.Y1?pP.V6:pP.H6,C,p,A,L,h,function(t,n){if(o.Bs=o.Bs||t,o.eZ=n,C=!0,P)return s(o.Bs,o)}),this.F9(x),C=null}else C=!0;if(M.video){B=(P=Px(M)).video.duration;x=this.y9.u9(t,this.L9,pP.X6,P,b,T,L,h,function(t,n){if(o.Bs=o.Bs||t,o.uZ=n,P=!0,C)return s(o.Bs,o)}),this.F9(x),P=null}else P=!0;var U,F,H,V=i.map(function(t){return t.metadata}),X=tg.Ly(O),W=tg.Ly(B),q=a.z2.audio&&a.z2.video?tg.Ny(a.z2.audio.K1.Cg(X),a.z2.video.K1.Cg(W)):a.z2.audio?a.z2.audio.K1.Cg(X):a.z2.video?a.z2.video.K1.Cg(W):tg.Yw;if(q.ty()&&rt("Segment with no valid audio or video track detected",a.info.uri),M.video){var z=lx(M);if(m(z))rt("Segment without keyframes detected",a.info.uri),U=tg.My,F=tg.My,H=q.yy(1.5);else{var G=M.video.vH[z].jA;U=r.Cg(fg(G.q2,v.j2)),F=r.Cg(fg(G.W2,v.j2)),H=tg.Ly(G.D2-a.metadata.start)}}else U=p,F=A,H=tg.Yw;var j=tg.Iy(H,tg.Iy(a.z2.audio&&a.z2.audio.K1||tg.Yw,a.z2.video&&a.z2.video.K1||tg.Yw));o.metadata={LQ:h,uI:r.Nw(),T6:y.Nw(),GM:k.Nw(),k6:E.Nw(),a6:S.Nw(),d4:U.Nw(),w1:F.Nw(),d6:tg.Ny(r,e).Nw(),y_:q.Nw(),iY:V,$s:j.Nw(),eZ:d&&{uI:A.Nw(),T6:p.Nw(),oI:I.Nw(),k6:R.Nw(),y_:O,Y1:d.Y1},uZ:l&&{uI:T.Nw(),T6:b.Nw(),oI:D.Nw(),k6:N.Nw(),y_:B,Y1:l.Y1,Ka:v.ZB.width,rp:v.ZB.height},eJ:v.eJ,K2:v.K2,qZ:f,J2:u},i=null,M=null},n.Jf=function(){this.y9.Gs(),this.H9&&(this.H9.terminate(),this.H9=null)},n.hs=function(t){this.y9.Gs(t)},n.x9=function(t,n){switch(t.t9){case bP.G6:var i=n;this.y9.S9(t.n9,{initializer:yP(i.V9),m4s:yP(i.X9)});break;case bP.Q6:var r=n;this.y9.S9(t.n9,(e=r,_p?new SP(e.af,"base64",e.Jn):new EP(e.af,e.Jn)));break;default:0}var e},n.U9=function(){this.H9||(this.H9=_O(this.Ko.libraryLocation,"theoplayer.p.js"),this.H9.addEventListener("message",this.R9),this.H9.addEventListener("error",this.B9))},n.F9=function(t){this.H9||this.U9(),this.H9.postMessage(t.s9())},t}();function xP(t,n){return/^https?:\/\//.exec(t)?t:/^:\/\//.exec(t)?t:0===t.indexOf("/")?n.substr(0,n.indexOf("/",8))+t:n+t}function PP(t,n){return t.length>=n.length&&0===t.lastIndexOf(n,0)}function BP(t){var n=t.indexOf(":");return-1!==n&&t.length>n+1?t.substring(n+1):null}function LP(t){for(var n={},i=/(:|,) ?([A-Z0-9\-]+)=((0(X|x)([0-9a-fA-F]+))|(([0-9]+(\.[0-9]+)?)x([0-9]+(\.[0-9]+)?))|([0-9]+(\.[0-9]+)?)|([A-Za-z\-]+[A-Za-z\-0-9]*)|("(([^"]*\\")*[^"]*)"))/g,r=i.exec(t);null!==r;){var e=r[2],u=void 0;u=void 0!==r[6]?ue(r[6]):void 0!==r[7]?{width:y(r[8]),height:y(r[10])}:void 0!==r[12]?y(r[12]):void 0!==r[14]?r[14]:void 0!==r[16]?r[16]:null,n[e.toLowerCase()]=u,r=i.exec(t)}return n}var MP,UP="x-";function FP(t,n,i,r){var e=t.split("@"),u=xP(n,i),s=w(e[0],10),o=e[1]?w(e[1],10):r;return{IY:u,toString:function(){return u},indexOf:function(t){return u.indexOf(t)},NY:{uI:o,oI:o+s-1}}}function HP(t,n,i){var r,e,u,s,o,a=0,c=0,h=0,f=null,v=0,d=!1,l=[],_=null,m=0,p=t.match(/[^\r\n]+/g);if(!p||"#EXTM3U"!==p[0].trim())throw new FD(UD.TQ,{code:"HMP2670",uri:n});for(var A={live:!0,hasEnd:!1,isEvent:!1,streams:[],fragments:[],media:[],dateRanges:[],isMasterPlaylist:!1,uri:n,metadata:null,duration:NaN,estimateDuration:NaN},b=1;b<p.length;b+=1){var T=p[b].trim();if(l.push(T+""),PP(T,"#EXT")){if(PP(T,"#EXTINF"))h=(h=y(BP(T)))||.5;else if(PP(T,"#EXT-X-BYTERANGE"))f=BP(T);else if(PP(T,"#EXT-X-KEY"))(u=LP(T)).method&&"NONE"===u.method?u=null:u.absoluteURI=xP(u.uri,i);else if(PP(T,"#EXT-X-DISCONTINUITY")&&!PP(T,"#EXT-X-DISCONTINUITY-"))d=!0,v+=1;else if(PP(T,"#EXT-X-STREAM-INF"))(e=LP(T)).LQ=c++,(b+=1)<p.length&&(e.uri=xP(p[b].trim(),i),A.streams.push(e));else if(PP(T,"#EXT-X-MEDIA")&&!PP(T,"#EXT-X-MEDIA-"))(s=LP(T)).uri&&(s.uri=xP(s.uri,i)),A.media.push(s);else if(PP(T,"#EXT-X-PROGRAM-DATE-TIME"))_=new Date(BP(T));else if(PP(T,"#EXT-X-DISCONTINUITY-SEQUENCE"))A.JQ=!0,A.$Q=w(BP(T),10);else if(PP(T,"#EXT-X-MEDIA-SEQUENCE"))a=w(BP(T),10),A.W9=!0,A.q9=a;else if(PP(T,"#EXT-X-TARGETDURATION"))A.targetDuration=w(BP(T),10),A.hasTargetDuration=!0;else if(PP(T,"#EXT-X-PLAYLIST-TYPE:EVENT"))A.isEvent=!0;else if(PP(T,"#EXT-X-ENDLIST"))A.live=!1,A.hasEnd=!0;else if(PP(T,"#EXT-X-MAP")){var E=LP(T),S=E.uri,R=E.byterange;o=R?FP(R,S,i,0):xP(S,i)}else if(PP(T,"#EXT-X-VERSION"))A.version=w(BP(T),10);else if(PP(T,"#EXT-X-DATERANGE")){var I=VP(T);A.dateRanges.push(I)}}else if(PP(T,"#"));else if(0!==T.length){f?m=(r=FP(f,T,i,m)).NY.oI+1:r=xP(T,i);var N,D=u&&dn({},u);u&&void 0===u.iv&&(N=a%4294967295,D.iv=new k([0,0,0,0,0,0,0,0,0,0,0,0,N>>24,N>>16,N>>8,255&N])),A.fragments.push({start:0,duration:h,uri:r,LQ:a,sY:d,rY:v,key:D,tJ:_,KZ:l,J2:!1,z9:o}),a+=1,h=0,f=null,d=!1,_=null,l=[]}}return A.hasEnd&&A.fragments.length&&(A.fragments[A.fragments.length-1].J2=!0),A.isMasterPlaylist=0!==A.streams.length,A.metadata=function(t){var n=t&&t.fragments&&t.fragments.length,i=t.targetDuration,r=0,e=0;if(!n)return null;for(var u=0,s=t.fragments;u<s.length;u++){var o=s[u];e+=o.duration,i=g.min(i,o.duration),r=g.max(r,o.duration)}return{G9:i,j9:r,Q9:n?t.fragments[n-1].duration:0,Y9:e/n,Z9:e}}(A),function(t){if(!t.isMasterPlaylist){t.duration=0;for(var n=0,i=t.fragments;n<i.length;n++){var r=i[n];t.duration+=r.duration}t.estimateDuration=t.duration/t.fragments.length,t.targetDuration||(t.targetDuration=t.estimateDuration),t.live&&(t.fragments.length<10?t.duration=-.001:t.duration=-(t.duration-3*t.targetDuration))}}(A),function(t){for(var n=0,i=0,r=t.fragments;i<r.length;i++){var e=r[i];e.start=n,n+=e.duration}}(A),function(t){t.streams.sort(function(t,n){return t.bandwidth&&n.bandwidth&&t.bandwidth!==n.bandwidth?t.bandwidth-n.bandwidth:t.resolution&&n.resolution&&t.resolution.width!==n.resolution.width&&t.resolution.height!==n.resolution.height?t.resolution.height*t.resolution.width-n.resolution.height*n.resolution.width:t.LQ-n.LQ})}(A),function(t,n){for(var i={},r=0;r<t.media.length;r+=1){var e=t.media[r];e.type===n&&e.uri&&(i[e["group-id"]]=(i[e["group-id"]]||0)+1)}for(var u=t.media.length-1;u>=0;u-=1){var s=t.media[u];s.type!==n||i[s["group-id"]]||di(t.media,u)}}(A,"VIDEO"),function(t){for(var n=0,i=0,r=t.streams;i<r.length;i++)r[i].id=n,n+=1;for(var e=0,u=t.media;e<u.length;e++)u[e].id=n,n+=1}(A),function(t){for(var n=function(n,i){var r=i[n];"video"in r&&(r.media=function(t,n){for(var i,r=t.length>>>0,e=arguments[1],u=0;u<r;u++)if(i=t[u],n.call(e,i,u,t))return i}(t.media,function(t){return t["group-id"]==r.video}))},i=0,r=t.streams;i<r.length;i++)n(i,r)}(A),A}function VP(t){var n=LP(t),i=function(t){for(var n={},i=0,r=_.keys(t);i<r.length;i++){var e=r[i];Qn(e,UP)&&(n[e.substr(UP.length)]=t[e])}return n}(n),r=n["start-date"]?new Date(n["start-date"]):void 0,e=n["end-date"]?new Date(n["end-date"]):void 0,u="YES"===n["end-on-next"]||void 0,s=n["scte35-cmd"]?n["scte35-cmd"].buffer:void 0,o=n["scte35-out"]?n["scte35-out"].buffer:void 0,a=n["scte35-in"]?n["scte35-in"].buffer:void 0;return{Al:n.id,cY:n.class,TR:r,oY:e,y_:n.duration,dY:n["planned-duration"],_Y:u,wY:i,mY:s,pY:o,bY:a}}!function(t){t.NO_EXTM3U="HMP2670",t[t.DATERANGE_INVALID_1=101]="DATERANGE_INVALID_1",t[t.DATERANGE_INVALID_2=102]="DATERANGE_INVALID_2",t[t.DATERANGE_INVALID_3=103]="DATERANGE_INVALID_3",t[t.DATERANGE_INVALID_4=104]="DATERANGE_INVALID_4",t[t.DATERANGE_INVALID_5=105]="DATERANGE_INVALID_5",t[t.DATERANGE_INVALID_6=106]="DATERANGE_INVALID_6"}(MP||(MP={}));(CP={})[MP.NO_EXTM3U]="The manifest does not contain a EXTM3U tag.",CP[MP.DATERANGE_INVALID_1]="An EXT-X-DATERANGE tag with an END-ON-NEXT=YES attribute MUST have a CLASS attribute.",CP[MP.DATERANGE_INVALID_2]="Other EXT-X-DATERANGE tags with the same CLASS attribute MUST NOT specify Date Ranges that overlap.",CP[MP.DATERANGE_INVALID_3]="An EXT-X-DATERANGE tag with an END-ON-NEXT=YES attribute MUST NOT contain DURATION or END-DATE attributes.",CP[MP.DATERANGE_INVALID_4]="If a Playlist contains an EXT-X-DATERANGE tag, it MUST also contain at least one EXT-X-PROGRAM-DATE-TIME tag.",CP[MP.DATERANGE_INVALID_5]="If a Playlist contains two EXT-X-DATERANGE tags with the same ID attribute value, then any AttributeName that appears in both tags MUST have the same AttributeValue.",CP[MP.DATERANGE_INVALID_6]="If a Date Range contains a START-DATE attribute and a DURATION attribute and an END-DATE attribute, the value of the END-DATE attribute MUST be equal to the value of the START-DATE attribute plus the value of the DURATION attribute.";var XP=function(){function t(){}return t.prototype.Ik=function(t,n,i){return HP(t,n,i)},t}(),WP=3,qP=function(){function t(t,n,i){void 0===i&&(i=WP),this.lb=t,this.J9=n,this.K9=i}var n=t.prototype;return n.t8=function(t,n,i){return this.n8(t,n,!0,i)},n.i8=function(t,n,i){return this.n8(t,n,!1,i)},n.n8=function(){var t=vn.coroutine(fn.mark(function t(n,i,r,e){var u,s,o,a,c,h,f,v;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:s=100,o=0;case 2:if(!(o<this.K9)){t.next=31;break}if(!(o>0)){t.next=7;break}return t.next=6,Pi(s,e);case 6:s<1e4&&(s=g.min(2*s,1e4));case 7:a=0;case 8:if(!(a<n.length)){t.next=28;break}return c=n[a],t.prev=10,h=new ff({Rf:c,Af:Ro.pn,pf:i,Qf:this.J9,qf:sf.GET,xu:of.Df,Gf:af.Nf,ds:e}),t.next=14,this.lb.Ef(h);case 14:return f=t.sent,t.next=17,f.rf(e);case 17:return v=t.sent,t.abrupt("return",{r8:v,e8:c,Sf:f.Sf});case 22:t.prev=22,t.t0=t.catch(10),u=t.t0;case 25:a++,t.next=8;break;case 28:o++,t.next=2;break;case 31:throw u;case 32:case"end":return t.stop()}},t,this,[[10,22]])}));return function(n,i,r,e){return t.apply(this,arguments)}}(),t}(),zP=function(){function t(t,n,i,r){this.u8=t,this.s8=n,this.o8=i,this.a8=r}var n=t.prototype;return n.c8=function(){var t=vn.coroutine(fn.mark(function t(n){var i;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.u8.CK(n.map(ZC));case 2:return i=t.sent,t.abrupt("return",i.shift());case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.h8=function(t,n){var i=JC(t,n);return this.s8.Xs(i)},n.f8=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r,e;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=JC(n,i),t.next=3,this.o8.Ws(e);case 3:if(t.t1=r=t.sent,t.t0=null===t.t1,t.t0){t.next=7;break}t.t0=void 0===r;case 7:if(!t.t0){t.next=11;break}t.t2=void 0,t.next=12;break;case 11:t.t2=r.data;case 12:return t.abrupt("return",t.t2);case 13:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.fB=function(t){return this.a8.Ws(t)},t}(),GP=function(){function t(t){this.v8=t}return t.prototype.d8=function(){var t=vn.coroutine(fn.mark(function t(n,i,r,e){var u,s,o,a;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:void 0===e&&(e=!1),s=0,o=this.v8;case 2:if(!(s<o.length)){t.next=17;break}return a=o[s],t.prev=4,t.next=7,a.d8(n,i,r,e);case 7:return t.abrupt("return",t.sent);case 10:t.prev=10,t.t0=t.catch(4),Ti(t.t0),u=t.t0;case 14:s++,t.next=2;break;case 17:throw u;case 18:case"end":return t.stop()}},t,this,[[4,10]])}));return function(n,i,r){return t.apply(this,arguments)}}(),t}(),jP=function(){function t(t){this.l8=t}return t.prototype.d8=function(){var t=vn.coroutine(fn.mark(function t(n,i,r,e){var u;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.l8.c8(n);case 2:if(!(u=t.sent)){t.next=7;break}return t.abrupt("return",{r8:u.data,e8:u.locationURL,Sf:u.responseURL});case 7:throw new d("Manifest fetch from cache unsuccesful");case 8:case"end":return t.stop()}},t,this)}));return function(n,i,r,e){return t.apply(this,arguments)}}(),t}(),QP=function(){function t(t){this._8=t}return t.prototype.d8=function(){var t=vn.coroutine(fn.mark(function t(n,i,r,e){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===e&&(e=!1),!e){t.next=7;break}return t.next=4,this._8.t8(n,i,r);case 4:return t.abrupt("return",t.sent);case 7:return t.next=9,this._8.i8(n,i,r);case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),t}();function YP(t,n){return new GP([new jP(n),new QP(t)])}var ZP=function(){function t(t,n,i){this.g8=t,this.w8=n,this.y8=i}var n=t.prototype;return n.d8=function(){var t=vn.coroutine(fn.mark(function t(n,i,r,e){var u;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===e&&(e=!1),t.next=3,this.g8.d8(n,i,r,e);case 3:return u=t.sent,t.next=6,this.m8(u);case 6:return t.abrupt("return",u);case 7:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),n.m8=function(){var t=vn.coroutine(fn.mark(function t(n){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.w8.NK({key:ZC(n.e8),locationURL:no(n.e8),responseURL:no(n.Sf),data:n.r8,references:[this.y8.Al]});case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),t}();function JP(t){return-1===(t=t.split("#")[0].split("?")[0]).indexOf("/")?t:t.substring(0,t.lastIndexOf("/")+1)}var $P=function(){function t(t,n,i){this.k8=new XP,this.Ko=t,this.lb=i;var r=this.Ko&&this.Ko.crossOrigin===qd.n_,e=new qP(i,r,1);this.g8=YP(e,new zP(YC._n.FK,YC._n.MK,YC._n.UK,YC._n.VK))}var n=t.prototype;return n.po=function(t,n,i){var r=this.Gv(t,n);return i&&r.then(function(t){return i(null,t)},function(t){return i(t)}),r},n.Gv=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r,e;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.g8.d8([n],i);case 3:return r=t.sent,n=r.Sf,e=this.k8.Ik(r.r8,n,JP(n)),t.abrupt("return",{P_:e,p8:r.r8});case 10:if(t.prev=10,t.t0=t.catch(0),!(t.t0 instanceof gf)){t.next=16;break}throw new FD(UD.AQ,{code:"MFL8600",uri:n});case 16:if(!(t.t0 instanceof wf)){t.next=24;break}if(0!==t.t0.vv.kf){t.next=21;break}throw new FD(UD.bQ,{code:"MFL3900",uri:n,status:t.t0.vv.kf});case 21:throw new FD(UD.AQ,{code:"MFL4100",uri:n,status:t.t0.vv.kf});case 22:t.next=25;break;case 24:throw new FD(UD.Ol,{error:t.t0,uri:n});case 25:case"end":return t.stop()}},t,this,[[0,10]])}));return function(n,i){return t.apply(this,arguments)}}(),t}(),KP=function(t){function n(n,i){var r;return(r=t.call(this)||this).A8=new $P(i||{},YC._n.FK,n),r}qt(n,t);var i=n.prototype;return i.Z_=function(){void 0!==this.b8&&(h(this.b8),this.b8=void 0),this.T8&&this.T8.Ef&&(this.T8=void 0)},i.E8=function(t){if(this.AJ)for(var n=0,i=this.AJ.fragments;n<i.length;n++){var r=i[n];if(r.uri===t)return r}},n.S8=function(t,n,i,r){var e,u=t.targetDuration,s=t.metadata;return e=t.fragments.length&&s&&(!u||s.Z9<3*u)?1e3*s.G9:u?1e3*u:1e4,i===n&&(e/=2),e=g.max(e-r,1e3)},i.R8=function(t){if(t.fragments.length>0)for(var n=this.E8(t.fragments[0].uri),i=n&&n.LQ||0,r=0,e=t.fragments;r<e.length;r++){e[r].LQ+=i}},i.I8=function(t,i,r,e,u,s){var o=this;if(this.T8&&r===this.T8.Ef){var a=Ub()-i;if(e){this.T8=void 0,this.PS=e;var h={type:"Bs",Bs:e};return this.dispatchEvent(h),u&&u(e)}this.T8=void 0;var f=s.P_,v=s.p8;f.W9||this.R8(f),t===this.N8&&(this.NJ=f),this.AJ=f;var d=n.S8(f,v,this.D8,a);f.live?f.isMasterPlaylist||(this.b8=c(function(){return o.Gv(t)},d)):this.Z_(),u&&u(e,s);var l={type:"C8",manifest:f,manifestText:v};this.dispatchEvent(l),this.D8=v}},i.Gv=function(t,n){var i=this,r=Ub(),e=t;h(this.b8),this.b8=void 0;var u=this.A8.po(e,{},function(e,s){return i.I8(t,r,u,e,n,s)});this.T8={Ef:u,Rf:t}},i.uI=function(t,n){var i,r,e,u=this,s=!1;(e=t||(this.AJ?this.AJ.uri:this.N8))&&(this.T8&&this.T8.Rf===t?n&&(i=function(t){u.removeEventListener("Bs",r),u.removeEventListener("C8",i);var e=t;n(null,{P_:e.manifest,p8:e.manifestText})},r=function(t){u.removeEventListener("Bs",r),u.removeEventListener("C8",i),n(t.Bs)},this.addEventListener("Bs",r),this.addEventListener("C8",i)):(this.Z_(),this.Gv(e,function(t,i){if(!s)return s=!0,n&&n(t,i)})))},i.O8=function(t){t&&(this.D8=void 0,this.NJ&&this.NJ.isMasterPlaylist?this.uI(t.uri):this.AJ&&!this.x8()&&this.uI(this.AJ.uri))},i.Jf=function(){this.Z_(),this.Ts()},i.x8=function(){return!!this.T8||!!this.b8||!(!this.AJ||this.AJ.live)},T(n,[{key:"P_",get:function(){return this.AJ}},{key:"o$",get:function(){return this.NJ}},{key:"yK",get:function(){return this.N8},set:function(t){this.Z_(),this.D8=void 0,this.NJ=void 0,this.AJ=void 0,this.N8=t}}]),n}(LD),tB=function(t){function n(n,i){var r;return(r=t.call(this)||this).Ko=i,r.ul=_n(),r.N8=null,r.P8=null,r.lb=n,r}qt(n,t);var i=n.prototype;return i.uI=function(){var t=this,n=this.yK;if(n&&!this.P8){var i=new KP(this.lb,this.Ko);i.addEventListener("Bs",function(i){var r=i.Bs;t.dispatchEvent({type:"B8",Bs:r}),t.ul.has(n)&&t.dispatchEvent({type:"Bs",Bs:r,L8:n})}),i.addEventListener("C8",function n(r){i.removeEventListener("C8",n),i===t.P8&&t.dispatchEvent({type:"M8",P_:r.manifest})}),i.addEventListener("C8",function(i){t.ul.has(n)&&t.dispatchEvent({type:n,P_:i.manifest})}),this.P8=i,i.uI(n)}},i.U8=function(t,n){this.F8(t),this.H8(n)},i.H8=function(t){var n,i=this;this.ul.has(t)||(t===this.yK?(this.uI(),(n=this.P8).P_&&this.dispatchEvent({type:t,P_:n.P_},!0)):((n=new KP(this.lb,this.Ko)).addEventListener("Bs",function(n){i.dispatchEvent({type:n.type,Bs:n.Bs,L8:t})}),n.addEventListener("C8",function(n){i.dispatchEvent({type:t,P_:n.manifest})})),this.ul.set(t,n))},i.F8=function(t){if(this.ul.has(t)){var n=this.ul.get(t);n!==this.P8&&n.Jf(),this.ul.delete(t),this.removeEventListener(t)}},i.V8=function(t){if(this.ul.has(t)){var n=this.ul.get(t);n.x8()||n.uI(t)}},i.X8=function(){var t=this;this.ul.forEach(function(n,i){return t.V8(i)})},i.hl=function(){this.ul.forEach(function(t){return t.Jf()}),this.ul.clear(),this.P8&&(this.P8.Jf(),this.P8=null),this.N8=null},T(n,[{key:"yK",get:function(){return this.P8&&this.P8.P_?this.P8.P_.uri:this.N8},set:function(t){this.hl(),this.N8=t}}]),n}(LD),nB=function(t){function n(){var n;return(n=t.call(this)||this).W8=NaN,n}qt(n,t);var i=n.prototype;return i.q8=function(t,n){for(var i=t.length?g.min.apply(g,t):0,r=0;r<t.length;r++)t[r]-=i;for(var e=0;e<n.length;e++){n[e].$s=tg.Ly(t[e]||0)}var u=t.length?g.max.apply(g,t):0;this.W8=u,this.dispatchEvent({type:"z8",G8:u})},i.j8=function(t,n){var i=[];if(n.length<2)return this.q8(i,n),!0;for(var r=n[0],e=0;e<n.length;e++){var u=n[e];if(!u.Q8(t))return!1;i[e]=u.$s.Cg(u.Y8(r,t)).Nw()}return this.q8(i,n),!0},i.Z8=function(t,n){return this.j8(t.rY,n)},i.J8=function(t,n){if(n.length<2)return this.q8([],n),!0;var i=n[0].K8(t);if(m(i))return!1;for(var r=0;r<n.length;r++){if(n[r].K8(t)!==i)return!1}return this.j8(i,n)},i.hl=function(){this.W8=NaN},i.Jf=function(){this.Ts()},T(n,[{key:"G8",get:function(){return this.W8}}]),n}(LD),iB=.001;function rB(t){return t.metadata.qZ.Al+"t7"+t.metadata.LQ+"n7"+t.metadata.uI+"i7"+t.metadata.y_}var eB=function(t){function n(){return t.apply(this,arguments)||this}qt(n,t);var i=n.prototype;return i.kj=function(t,i){return new n(t,i)},i.f1=function(t,n){return!1},n}(UO);function uB(t,n){var i=new eB([n]);return t.Hw(i).TI(i)}function sB(t,n){var i=function(t,n){var i=t.GM,r=t.w1;if(!m(r)&&r===i)return!0;return!t.K2&&!!n&&n.cp.qZ===t.qZ&&i>=n.oI&&i<=n.oI+iB}(t,n);return i||!m(t.w1)?{uI:i?t.GM:t.w1,oI:t.a6,cp:t}:null}var oB=function(t){function n(n,i){var r;return(r=t.call(this)||this).r7=null,r.e7=function(){return r.u7()},r.s7=[],r.gg=[],r.o7=new eB([]),r.a7=null,r.c7=n,r.XA=i,r}qt(n,t);var i=n.prototype;return i.h7=function(t){var n=t.metadata,i=n&&n.iY;if(!i||!i.length)return vn.resolve();for(var r=[],e=n.uI,u=0;u<i.length;u++){var s=i[u],o=e+s.duration;r.push({uI:e,y_:s.duration,oI:o,LQ:s.LQ,Ks:s}),e=o}var a={Al:rB(t),uI:t.metadata.uI,T6:n.T6,GM:n.GM,f7:i[0].G2.tJ?new Date(i[0].G2.tJ.getTime()):null,y_:t.metadata.y_,oI:t.metadata.uI+t.metadata.y_,k6:n.k6,a6:n.a6,d4:n.d4,w1:n.w1,iY:r,qZ:t.metadata.qZ,b6:t.metadata.J2,K2:n.K2};return this.s7.push(a),this.v7(this.c7.h7(t),a)},i.v7=function(t,n){var i=this;return t.then(function(){if(vi(i.s7,n)){i.gg.push(n);var t=i.a7,r=sB(n,t);r&&(i.o7=uB(i.o7,r)),i.a7=r}i.u7(),i.d7(n)}).catch(function(){vi(i.s7,n)})},i.d7=function(t){var n=t.iY[0],i=t.iY[t.iY.length-1],r=t.qZ,e=r.uY(n.LQ-1),u=iC.C_(r.sJ);if(!e||u){var s=r.uY(n.LQ),o=this.XA.v1(s).Nw();o<n.uI&&this.c7.fM(o,n.uI)}for(var a=0,c=this.gg;a<c.length;a++){var h=c[a];if(h.qZ===t.qZ){var f=h.iY[0],v=h.iY[h.iY.length-1];v.LQ+1===n.LQ&&v.oI!==n.uI?this.c7.fM(v.oI,n.uI):f.LQ-1===i.LQ&&i.oI!==f.uI&&this.c7.fM(i.oI,f.uI)}}},i.Gs=function(){this.s7.length=0,this.gg.length=0,this.o7=new eB([]),this.a7=null},i.u7=function(){if(this.l7&&!this.l7.LO){var t=this.l7.gg||kO;t=function(t,n){for(var i=RO(t),r=0;r<i.length;r++){var e=i[r],u=n.s1(e.oI,iB);if(u>=0){var s=n.iY(u),o=s[s.length-1],a=o.cp.k6,c=o.cp.a6;a-iB<e.oI&&e.oI<c&&(e.oI=c)}}return new mO(i)}(t,this.o7),this.gg=this.gg.filter(function(n){return function(t,n,i,r){n-=r=+r||0,i+=r;for(var e=0;e<t.length;e+=1)if(t.start(e)<i&&n<t.end(e))return e;return-1}(t,n.uI,n.oI)>=0}),this.o7=this.o7.yI(t)}},i.Jf=function(){this.Ts(),this.Gs(),this.l7=null},i._7=function(t){var n=this.g7(t);if(n)for(var i=0,r=n.iY;i<r.length;i++){var e=r[i];if(e.uI<=t&&e.oI>t)return e}return null},i.g7=function(t){for(var n=0,i=this.gg;n<i.length;n++){var r=i[n];if(r.uI<=t&&r.oI>t)return r}return null},i.w7=function(t){for(var n=0,i=this.gg;n<i.length;n++){var r=i[n];if(r.qZ.Al===t.qZ.Al)for(var e=0,u=r.iY;e<u.length;e++){if(u[e].LQ===t.LQ)return!0}}return!1},i.y7=function(){return this.m7()[0]},i.m7=function(){for(var t=this.o7,n=this.a7,i=0,r=this.s7;i<r.length;i++){var e=sB(r[i],n);e&&(t=uB(t,e)),n=e}return[t,n]},T(n,[{key:"vl",get:function(){return this.s7.length+this.gg.length}},{key:"l7",get:function(){return this.r7},set:function(t){this.r7&&this.r7.removeEventListener("updateend",this.e7),this.r7=t,this.r7&&(this.r7.addEventListener("updateend",this.e7),this.u7())}}]),n}(LD);function aB(t,n,i){!function(t,n,i){for(var r=i.X1,e=[],u=0;u<r.length;u++)for(var s=r[u],o=n.g1(t,s.jA.j1).Nw(),a=0,c=s.vH;a<c.length;a++){var h=c[a];e.push(new kI(o,h))}i.Ll=e}(t,n,i)}function cB(t,n){return t&&n?g.abs(t.LQ-n.LQ)<=1?tg.Yw:tg.jw(n.Wk-t.Wk,1e3):tg.Yw}var hB=function(){function t(t,n,i,r,e){this.$s=tg.Yw,this.k7=!1,this.p7=null,this.sY=t,this.l6=t.qZ.iY.FQ(n.LQ),this.M5=this.l6,this.A7=i,this.b7=r,this.xu=e||null}var n=t.prototype;return n.T7=function(){if(this.p7)return this.p7;var t=this.E7();return(t.S7||t.Bs)&&(this.p7=t),t},n.R7=function(){return{S7:!1,Bs:!1,k7:this.k7,Zg:tg.My}},n.S7=function(t){return t.Vw()?{S7:!1,Bs:!0,k7:this.k7,Zg:tg.My}:{S7:!0,Bs:!1,k7:this.k7,Zg:t}},t}();function fB(t,n){switch(n){case"eZ":return og(t.e4)?t.e4:t.DY;case"uZ":return og(t.s4)?t.s4:t.DY;default:return t.DY}}var vB=function(t){function n(){return t.apply(this,arguments)||this}return qt(n,t),n.prototype.E7=function(){var t=this.sY,n=t.qZ,i=n.iY,r=i.HQ(this.M5);if(t.Og(r)){if(this.b7&&t.I7&&sC(r)){var e=fB(r,this.xu),u=t.N7(e,r.D7);return this.S7(u.Hw(this.$s))}if(this.A7&&r===t.C7){var s=t.Jg.Hw(oC(r));return this.S7(s.Hw(this.$s))}this.M5+=1;var o=cB(r,i.HQ(this.M5));return this.k7=this.k7||o.Dw(tg.Yw),this.$s=this.$s.Cg(o).Cg(oC(r)),this.R7()}return this.S7(tg.My)},n}(hB),dB=function(t){function n(){return t.apply(this,arguments)||this}return qt(n,t),n.prototype.E7=function(){var t=this.sY,n=t.qZ,i=n.iY,r=i.HQ(this.M5);if(t.Og(r)){if(this.b7&&t.I7&&sC(r)){var e=fB(r,this.xu),u=t.N7(e,r.D7);return this.S7(u.Cg(this.$s))}if(this.A7&&r===t.O7){var s=t.Zg;return this.S7(s.Cg(this.$s))}this.M5-=1;var o=i.HQ(this.M5),a=cB(o,r);return this.k7=this.k7||a.Dw(tg.Yw),this.$s=this.$s.Cg(a).Cg(oC(o)),this.R7()}return this.S7(tg.My)},n}(hB);var lB=function(){function t(t,n,i){this.Zg=tg.Yw,this.Jg=tg.Yw,this.O7=null,this.C7=null,this.x7=!1,this.P7=tg.My,this.B7=tg.My,this.L7=!1,this.LQ=t,this.qZ=n,this.M7=i}var n=t.prototype;return n.Og=function(t){return t&&t.rY===this.LQ},n.N7=function(t,n){var i=t.Hw(this.P7).Cg(this.B7);if(void 0!==n){var r=i.Hw(n);if(r.Mw().Dw(sg)){var e=g.round(r.Nw()/ug.Nw());i=i.Hw(ug.yy(e))}}return i},n.U7=function(t,n){return this.F7(t),this.H7(n),this.V7()||t===this.C7&&this.X7()},n.F7=function(t){if(this.I7&&ng(t.a4,this.P7)>=0)return!1;var n;if(n=this.I7?this.W7(t,!0,!1):this.q7(t,!0,!1),this.P7.Vw())this.P7=t.a4;else{var i=fg(t.a4,this.P7);this.P7=this.P7.Cg(i)}return this.B7=n,!0},n.H7=function(t){if(!t)return!1;if(this.M7)return!1;if(!this.z7())return!1;var n=this.qZ.iY,i=this.O7,r=n.VQ(i.LQ-1);if(sC(i)&&sC(r)){var e=function(t,n,i){var r=t.g1(n,n.Y2);if(!og(i.o4)||!og(i.s4))return r;var e,u=og(i.e4),s=cg(i.s4,i.o4);if(u){var o=ag(cg(i.s4,i.e4),tg.Yw);e=ag(cg(s,o),tg.Yw)}else e=s;return cg(r,e)}(t,r,i);return this.L7=!0,this.G7(e)}return!1},n.G7=function(t){if(t._w(this.Zg))return!1;var n=t.Hw(this.Zg);return this.Zg=t,this.Jg=this.Jg.Cg(n),this.B7=this.B7.Cg(n),!0},n.V7=function(){if(this.M7)return!1;var t=this.C7;if(!t)return!1;var n,i=new dB(this,t,!1,!0);do{n=i.T7()}while(!n.S7&&!n.Bs&&!n.k7);if(n.S7&&!n.k7){var r=n.Zg.Cg(oC(t));if(!r._w(this.Jg))return this.Jg=r,!0}return!1},n.j7=function(t){var n=!1;return n=this.H7(t)||n,n=this.Q7(t)||n},n.Q7=function(t){if(!t)return!1;if(this.L7)return!1;var n=t.Jg.Cg(cB(t.C7,this.O7));return this.G7(n)},n.Y7=function(t){var n=!1;return(!this.O7||this.O7.LQ>t.LQ)&&(this.Zg=this.Zg.Hw(cB(t,this.O7)),this.O7=t,n=!0),(!this.C7||this.C7.LQ<t.LQ)&&(this.Jg=this.Jg.Cg(cB(this.C7,t)).Cg(oC(t)),this.C7=t,n=!0),n},n.Z7=function(t){if(!this.I7||!t.I7)return tg.My;if(this.P7.Pw(t.P7)){var n=this.N7(t.P7,t.B7);return t.B7.Hw(n)}return t.N7(this.P7,this.B7).Hw(this.B7)},n.z7=function(){var t=this.O7;return!!t&&function(t,n){return n.rY===t&&n.sY}(this.LQ,t)},n.X7=function(){var t=this.C7;if(!t)return!1;var n=this.qZ.iY.VQ(t.LQ+1);return function(t,n,i){return n.rY===t&&(!i||i.sY)}(this.LQ,t,n)},n.J7=function(t,n){return this.W7(t,!0,!0,n)},n.q7=function(t,n,i){if(!this.Og(t))return tg.My;var r,e=new dB(this,t,n,i);do{r=e.T7()}while(!r.S7&&!r.Bs);if(!r.S7)return tg.My;var u=r.Zg;return u.Lw(this.Zg)?this.Zg:u},n.W7=function(t,n,i,r){if(!this.Og(t))return tg.My;var e,u,s,o,a,c=new vB(this,t,n,i,r),h=new dB(this,t,n,i,r);do{e=c.T7(),u=h.T7()}while(!(e.S7||u.S7||e.Bs&&u.Bs));if(u.S7)s=u,o=e,a=c;else{if(!e.S7)return tg.My;s=e,o=u,a=h}if(s.Zg.Lw(this.Zg)){for(;!o.S7&&!o.Bs;)o=a.T7();return o.S7?tg.Iy(this.Zg,o.Zg):this.Zg}if(s.k7){for(;!o.k7&&!o.S7&&!o.Bs;)o=a.T7();if(o.S7&&!o.k7&&this.Zg.Pw(o.Zg))return o.Zg}return s.Zg},n.g1=function(t,n){return this.Og(t)&&this.I7?this.N7(n,t.D7):tg.My},n.m7=function(){0},T(t,[{key:"I7",get:function(){return!this.P7.Vw()}}]),t}();function _B(t,n){return n.Lw(t.Zg)?M_.Sw:n.Ow(t.Jg)?M_.Rw:M_.Ew}var gB=function(){function t(){this.K7=new zD}var n=t.prototype;return n.VQ=function(t){return this.K7.VQ(t)},n.HQ=function(t){return this.K7.HQ(t)},n.ttt=function(t){var n=this.K7.FQ(t);return n<0?null:this.K7.HQ(n-1)},n.T7=function(t){var n=this.K7.FQ(t);return n<0?null:this.K7.HQ(n+1)},n.ntt=function(){return this.K7.HQ(0)},n.itt=function(){var t=this.K7.vl;return 0===t?null:this.K7.HQ(t-1)},n.rtt=function(t){var n=this.K7,i=this.itt();if(i&&function(t,n){return t.Zg.Pw(n)&&n.Lw(t.Jg)}(i,t))return i;var r=KS(this.K7.qQ(),t,Q,_B);return n.HQ(r)},n.Cg=function(t){var n=this.K7.Cg(t);if(n&&!this.T7(t.LQ)){t.x7=!0;var i=this.ttt(t.LQ);i&&(i.x7=!1)}return n},n.Ao=function(t){var n=this.K7.Ao(t);if(n&&t.x7){t.x7=!1;var i=this.ttt(t.LQ);i&&(i.x7=!0)}return n},n.jQ=function(t){this.K7.jQ(t)},n.m7=function(){},T(t,[{key:"vl",get:function(){return this.K7.vl}}]),t}();var wB=tg.Ly(10),yB=function(){function t(t,n,i){this.ett=!1,this.utt=!1,this.stt=new gB,this.ott=tg.Yw,this.att=void 0,this.ctt=null,this.htt=null,this.qZ=t,this.att=n.liveOffset,this.M7=i}var n=t.prototype;return n.ftt=function(t){var n=this.qZ,i=t?t.fragments:null,r=n.iY;if(!t||!i||!i.length)return!1;this.ett=!0;var e,u=!1;if(!this.stt.vl){var s=r.VQ(i[0].LQ).rY,o=new lB(s,n,this.M7);o.G7(this.$s),this.stt.Cg(o),u=!0}if(this.htt){var a=r.FQ(this.htt.LQ);e=a<0?0:a+1}else e=0;for(var c=e,h=r.HQ(c),f=null,v=!1;h;){var d=h.rY;if(f&&f.LQ===d||(f&&v&&this.dtt(f),f=this.stt.VQ(d),u=u||v,v=!1),!f){f=new lB(d,n,this.M7),this.stt.Cg(f);var l=this.stt.ttt(d);f.j7(l||void 0)}v=f.Y7(h)||v,h=r.HQ(++c)}return f&&v&&this.dtt(f),(u=u||v)&&this.ltt(),this.stt.itt()&&this.wJ(n.iY),this.ctt=r.VQ(i[0].LQ),this.htt=r.VQ(i[i.length-1].LQ),u},n.U7=function(t){var n=this.stt.VQ(t.rY);if(!n)return!1;this.utt=!0;var i=this.stt.ttt(n.LQ),r=n.U7(t,i);return r&&this.dtt(n),r},n.dtt=function(t){for(var n=t,i=this.stt.T7(t.LQ),r=!0;r&&i;)r=i.j7(n),n=i,i=this.stt.T7(i.LQ)},n.ltt=function(){for(var t=!1,n=this.stt.ntt(),i=n&&this.stt.T7(n.LQ);n&&i;)n.Jg.Dw(i.Zg)&&(i.G7(n.Jg),t=!0),n=i,i=this.stt.T7(n.LQ);return t},n._tt=function(t){var n=this.stt.itt(),i=t.stt.itt();if(!this.M7){if(n&&this.gtt(t,n.LQ))return!0;if(i&&this.gtt(t,i.LQ))return!0}return this.wtt?!(!n||!this.ytt(t,n.LQ))||(!(!i||!this.ytt(t,i.LQ))||(!(!n||!this.mtt(t,n.LQ))||(!(!i||!this.mtt(t,i.LQ))||this.ktt(t)))):this.ptt(t)},n.ptt=function(t){var n=this.stt.ntt(),i=t.stt.ntt();return!(!n||!i)&&(this.Ys(i.Zg.Hw(n.Zg)),!0)},n.gtt=function(t,n){var i=this.stt.VQ(n);if(!i||!i.I7)return!1;var r=t.stt.VQ(n);return!(!r||!r.I7)&&(this.Ys(i.Z7(r)),!0)},n.ytt=function(t,n){var i=this.stt.VQ(n);if(!i||!i.z7())return!1;var r=t.stt.VQ(n);return!(!r||!r.z7())&&(this.Ys(r.Zg.Hw(i.Zg)),!0)},n.mtt=function(t,n){var i=this.stt.VQ(n);if(!i)return!1;var r=this.Att(i.C7.LQ);if(!r)return!1;var e=t.stt.VQ(n);if(!e)return!1;var u=t.Att(e.C7.LQ);if(!u)return!1;var s=i.J7(i.C7),o=e.J7(e.C7),a=tg.Vy(r).Hw(tg.Vy(u)),c=s.Hw(o);return this.Ys(a.Hw(c)),!0},n.ktt=function(t){if(!this.utt&&!t.utt)return!1;var n=this.stt.itt(),i=t.stt.itt();if(n&&n.C7&&i&&i.C7){var r=tg.jw(n.C7.Wk-i.C7.Wk,1e3),e=n.Jg.Hw(i.Jg);return this.Ys(r.Hw(e)),!0}return!1},n.wJ=function(t){var n=this.stt.itt();if(n)for(var i=n.Jg,r=t.vl-1;r>=0;r--){var e=t.HQ(r);if(i=i.Hw(tg.Ly(e.duration)),void 0!==e.D7){0;break}e.D7=i}},n.K8=function(t){var n=this.stt.rtt(t);return n?n.LQ:NaN},n.v1=function(t,n){var i=this.stt.VQ(t.rY);return i?i.J7(t,n):tg.My},n.d1=function(t,n){var i=this.qZ.iY.VQ(t.LQ+1);if(i){var r=this.v1(i);return r}return n.Cg(function(t){if(!t)return tg.Yw;if(!sC(t))return tg.Ly(t.duration);var n=t.CY||tg.Yw,i=t.OY||tg.Yw,r=tg.Ly(t.duration);return n.ty()||i.ty()?n.ty()?i.ty()?r.ty()?r:tg.Yw:i:n:tg.Iy(n,i)}(t))},n.g1=function(t,n){var i=this.stt.VQ(t.rY);return i&&i.I7?i.g1(t,n):tg.My},n.w6=function(t,n){var i=this.qZ.iY;return i.vl?function(t,n,i,r,e){var u,s,o=t.qZ.iY,a={},c=function(n){var i=a[n];return void 0!==i?i:a[n]=t.v1(o.HQ(n),e)},h=i,f=c(h),v=r,d=c(v);if(n.Lw(f))return{cp:u=o.HQ(h),btt:f};if(n.Ow(d)&&(u=o.HQ(v)).J2)return{cp:u,btt:d};for(;f.Pw(n)&&n.Pw(d);){var l=void 0,_=void 0,w=void 0;if(h===v?(l=h,_=f):(l=h+g.round(n.Hw(f).Nw()*(v-h)/d.Hw(f).Nw())||0,_=c(l)),_.Dw(n))d=c(v=l-1);else{if(u=o.HQ(l),!(w=(s=l)===r?c(s).Cg(oC(o.HQ(s))):c(s+1)).Pw(n))return u&&n.Pw(_.Cg(oC(u)))?{cp:u,btt:_}:(u=o.HQ(l+1))&&{cp:u,btt:w};h=l+1,f=w}}if(d.Pw(n)){if((u=o.HQ(v))&&n.Pw(d.Cg(oC(u))))return{cp:u,btt:d};if(v<r&&(u=o.HQ(v+1),d=c(v+1),u&&n.Lw(d)))return{cp:u,btt:d}}return null}(this,t,0,i.vl-1,n):null},n.Att=function(t){var n=this.qZ.iY,i=n.FQ(t),r=n.HQ(i),e=r,u=tg.Yw;if(r.tJ)return r.tJ;for(var s=i-1;s>=0;s--){var o=n.HQ(s);if(u=u.Cg(oC(o)).Cg(cB(o,e)),o.tJ)return new Date(o.tJ.getTime()+1e3*u.Nw());e=o}return null},n.Ttt=function(t){for(var n=this.qZ.iY,i=void 0,r=0;r<n.vl;r++){var e=n.HQ(r);if(e.tJ){if(!(e.tJ.getTime()<=t.getTime())){i=i||e;break}i=e}}if(!i)return tg.My;var u=tg.Vy(t).Hw(tg.Vy(i.tJ));return this.v1(i).Cg(u)},n.Ys=function(t){if(!t._w(tg.Yw))for(var n=this.stt.vl,i=0;i<n;i++){var r=this.stt.HQ(i);r.G7(r.Zg.Cg(t))}},n.Q8=function(t){var n=this.stt.VQ(t);return n&&n.I7},n.Y8=function(t,n){if(this===t)return tg.Yw;var i=this.stt.VQ(n),r=t.stt.VQ(n);return i&&r?i.Z7(r):tg.My},n.m7=function(){0},T(t,[{key:"wtt",get:function(){var t=this.qZ.eY;return!!t&&t.live}},{key:"Ett",get:function(){var t=this.qZ.eY;return!!t&&t.isEvent}},{key:"Stt",get:function(){var t=this.ctt;return t?this.v1(t):tg.Yw}},{key:"Rtt",get:function(){var t=this.stt.itt();return t?t.Jg:tg.Yw}},{key:"Itt",get:function(){if(!this.wtt)return tg.Yw;var t=this.Rtt.Hw(this.Ntt);return tg.Iy(this.Stt,t)}},{key:"Ntt",get:function(){return this.att&&tg.Ly(this.att)||this.Dtt.yy(3)}},{key:"Ctt",get:function(){return this.wtt&&this.htt?tg.jw(Ub()-this.htt.Wk,1e3):tg.Yw}},{key:"Dtt",get:function(){var t=this.qZ.eY;return t&&t.targetDuration?tg.Ly(t.targetDuration):wB}},{key:"$s",get:function(){return this.ott},set:function(t){var n=t.Hw(this.ott);this.ott=t,this.Ys(n)}}]),t}(),mB=function(t){function n(n){var i;return(i=t.call(this)||this).Ott=[],i.xtt={},i.Ptt=null,i.Btt=null,i.ott=tg.Yw,i.M7=void 0,i.Ltt=n,i}qt(n,t);var i=n.prototype;return i.Mtt=function(t){return t&&this.xtt[t.Al]||null},i.Utt=function(t){var n=this.Mtt(t);return n||((n=new yB(t,this.Ltt,!!this.M7)).$s=this.ott,this.Ott.push(n),this.xtt[t.Al]=n),n},i.Ftt=function(t){var n;switch(null===(n=this.Ltt.hls)||void 0===n?void 0:n.discontinuityAlignment){case PA.SD:return!0;case PA.RD:return!1;default:return t.isEvent||t.hasEnd}},i.ftt=function(t,n){void 0===this.M7&&(this.M7=this.Ftt(n));var i=this.Mtt(this.Ptt),r=i?i.Stt:tg.Yw,e=i?i.Rtt:tg.Yw,u=this.Utt(t),s=u.ett,o=u.ftt(n);if(!s&&u.ett&&(u.Ys(this.Htt(t)),o=!0),o=this.Vtt(u)||o,this.Xtt(u,r,e)){var a=new FD(UD.OQ,{code:"MFU0166"});this.dispatchEvent({type:"Bs",Bs:a})}else this.Ptt=t,o&&this.dispatchEvent("mJ")},i.U7=function(t,n){if(sC(n)){0;var i=this.Utt(t),r=i.U7(n);r=this.Vtt(i)||r,this.Btt=t,r&&this.dispatchEvent("mJ")}},i.Vtt=function(t){var n=!1,i=!1,r=this.Mtt(this.Btt);r&&(r===t?n=!0:i=(n=t._tt(r))||i);var e=this.Mtt(this.Ptt);return e&&e!==t&&(i=n?e._tt(t)||i:t._tt(e)||i),i},i.Htt=function(t){var n=this.Mtt(t),i=!n.wtt,r=t.eY&&t.eY.isEvent;return i||r?tg.Yw:n.Dtt.yy(3)},i.Xtt=function(t,n,i){if(!t.wtt)return!1;var r=t.Stt,e=t.Rtt,u=tg.Ny(e,i).Hw(tg.Iy(r,n)),s=tg.Iy(t.Dtt.yy(3),u.Ay(2));return r.Cg(s).Lw(n)},i.wJ=function(t,n){var i=this.Mtt(t)||this.Mtt(this.Ptt);return i&&i.wJ(n)},i.K8=function(t){var n=this.Ptt&&this.Mtt(this.Ptt);return n?n.K8(t):NaN},i.Wtt=function(t,n){var i=t.uY(n);return this.v1(i)},i.v1=function(t){if(!t)return tg.My;var n=this.Mtt(t.qZ)||this.Mtt(this.Ptt);return n?n.v1(t):tg.My},i.d1=function(t,n){if(!t)return tg.My;var i=this.Mtt(t.qZ)||this.Mtt(this.Ptt);return i?i.d1(t,n):tg.My},i.g1=function(t,n){if(!t||!n)return tg.My;var i=this.Mtt(t.qZ)||this.Mtt(this.Ptt);return i?i.g1(t,n):tg.My},i.w6=function(t,n,i){var r=this.Mtt(t);if(!r)return null;var e=r.w6(n,i);return e?{cp:e.cp,btt:e.btt}:null},i.Att=function(t,n){var i=this.Mtt(t)||this.Mtt(this.Ptt);return i?i.Att(n):null},i.Ttt=function(t,n){var i=this.Mtt(t)||this.Mtt(this.Ptt);return i?i.Ttt(n):tg.My},i.Q8=function(t){return void 0!==this.qtt(t)},i.Y8=function(t,n){if(this===t)return tg.Yw;var i=this.qtt(n),r=t.qtt(n);return i&&r?i.Y8(r,n):tg.My},i.qtt=function(t){return hi(this.Ott,function(n){return n.Q8(t)})},i.Jf=function(){this.Ts(),this.Ott.length=0,this.xtt={},this.Ptt=null,this.Btt=null,this.ott=tg.Yw},i.m7=function(){0},T(n,[{key:"ztt",get:function(){return this.Stt.Hw(this.Dtt.yy(3))}},{key:"Ntt",get:function(){var t=this.Ltt.liveOffset;return tg.Ly(t||3*this.Dtt.Nw())}},{key:"wtt",get:function(){var t=this.Mtt(this.Ptt);return!!t&&t.wtt}},{key:"Ng",get:function(){return this.Ptt?new mO([{uI:this.Stt.Nw(),oI:this.Rtt.Nw()}]):kO}},{key:"Stt",get:function(){if(!this.Ptt)return tg.Yw;var t=this.Mtt(this.Ptt);return t.Ett?t.Stt:t.Stt.Cg(t.Ctt)}},{key:"Rtt",get:function(){if(!this.Ptt)return tg.Yw;var t=this.Mtt(this.Ptt);return t.Rtt.Cg(t.Ctt)}},{key:"Itt",get:function(){if(!this.Ptt)return tg.Yw;var t=this.Mtt(this.Ptt);return t.Itt.Cg(t.Ctt)}},{key:"Dtt",get:function(){return this.Ptt?this.Mtt(this.Ptt).Dtt:wB}},{key:"$s",get:function(){return this.ott},set:function(t){if(!this.ott._w(t)){this.ott=t;for(var n=0,i=this.Ott;n<i.length;n++){i[n].$s=t}this.dispatchEvent("mJ")}}}]),n}(LD),kB=function(t){function n(){return t.apply(this,arguments)||this}return qt(n,t),n.prototype.Htt=function(t){return tg.Yw},n}(mB),pB=.25,AB=1/60;function bB(t,n){return V_(t,n,AB)}var TB,EB=function(t,n,i){this.Gtt=NaN,this.jtt=NaN,this.Qtt=0,this.qZ=t.qZ,this.Zg=n,this.Jg=i,this.y_=i-n,this.cp=t},SB=function(t,n,i){this.Gtt=NaN,this.jtt=NaN,this.Qtt=0,this.qZ=t,this.Zg=n,this.Jg=i,this.y_=i-n};function RB(t){return!(!t||!t.cp)}function IB(t,n,i){return r=n,e=i,u=t.Zg,s=t.Jg,bB(r,s)<=0&&bB(u,e)<=0;var r,e,u,s}function NB(t,n){return bB(t.Zg,n)<=0?t.Jg:t.Zg}function DB(t,n,i){return(t-n)/i-pB}function CB(t,n){return n.Hw(t).TI(t)}function OB(t,n){var i=g.min(AB,t.y_/2);return n.II(t.Zg,t.Jg,i)}function xB(t,n){var i=n.i1(t);return-1===i?t:n.end(i)}function PB(t){return t.jtt<=t.Gtt}function BB(t,n){if(!PB(n))return!1;for(var i=0;i<t.length;i++){var r=t[i];if(r.Qtt+n.jtt>r.Gtt)return!1}return!0}function LB(t,n){for(var i=0;i<t.length;i++){t[i].Qtt+=n.jtt}n.Qtt=n.jtt,t.push(n)}!function(t){t[t.Ytt=0]="Ytt",t[t.Ztt=1]="Ztt",t[t.Jtt=2]="Jtt",t[t.z6=3]="z6"}(TB||(TB={}));var MB=function(){function t(t,n,i,r){this.tp=t,this.XA=n,this.$tt=i,this.Ktt=r,this.tnt=YC._n.FK,this.d0=YC._n.UK}var n=t.prototype;return n.nnt=function(){return this.$tt.iZ.reduce(function(t,n){return g.max(t,n.eY&&n.eY.targetDuration||0)},0)},n.int=function(t,n){void 0===n&&(n=this.XA.v1(t).Nw());var i=this.XA.d1(t,tg.Ly(n));return new EB(t,n,i.Nw())},n.rnt=function(t,n){var i=t.iY.HQ(n);return i&&this.int(i)||null},n.ent=function(t){var n=t.qZ,i=n.iY.FQ(t.LQ);return i>=0&&this.rnt(n,i-1)||null},n.unt=function(t){var n=t.qZ,i=n.iY.FQ(t.LQ);return i>=0&&this.rnt(n,i+1)||null},n.snt=function(t,n){var i=this.XA.w6(t,tg.Ly(n));return i&&this.int(i.cp,i.btt.Nw())||null},n.ont=function(t){var n=t.iY.vl-1;return n>=0&&this.rnt(t,n)||null},n.ant=function(t,n,i){var r=t.eY&&t.eY.targetDuration||this.nnt()||10,e=g.max(0,n-r),u=e+r;return i&&IB(i,e,u)&&(u=(e=i.Jg)+r),new SB(t,e,u)},n.cnt=function(t,n,i){var r=this.Ktt.v5,e=.8*this.Ktt.d5,u=(n.bandwidth||0)*t.y_;return i&&i.gK?((u=8*i.C0||u)-8*i.D0)/e:r+u/e},n.hnt=function(){for(var t=this.Ktt.V4(this.tp),n=this.Ktt.y4(this.tp),i=0;i<n.length;i++){var r=n[i];-1===t.indexOf(r)&&t.push(r)}return t},n.fnt=function(t,n){var i=n.filter(function(n){return n.qZ===t});return HO(this.XA,i).c1()},n.vnt=function(t){return"audio"===this.tp&&t?[t]:this.$tt.iZ},n.dnt=function(t){for(var n=new FO([]),i=new FO([]),r=this.hnt(),e={lnt:{},_nt:{},gnt:{},wnt:{}},u=t.length-1;u>=0;u-=1){var s=t[u],o=this.fnt(s,r),a=qO(this.XA,o);e.lnt[s.Al]=o,e._nt[s.Al]=a,e.gnt[s.Al]=n=CB(n,o),e.wnt[s.Al]=i=CB(i,a)}return e},n.ynt=function(t,n,i,r,e){for(var u,s,o,a,c=[],h=0;h<r.length;h++)for(var f=e[r[h].Al],v=0;v<f.length;v+=1){var d=f.start(v),l=f.end(v)-i;d<l&&c.push({uI:d,oI:l})}return 0===(u=bO(u=AO(new mO(c)),new mO([{uI:t,oI:n}]))).length||bB(u.start(0),t)>0?t:1===u.length&&(s=u.start(0),o=u.end(0),a=n,bB(s,t)<=0&&bB(a,o)<=0)?NaN:u.end(0)},n.mnt=function(t,n,i){var r=null,e=i.lnt[t.Al],u=i.gnt[t.Al],s=i.wnt[t.Al],o=u.i1(n);if(-1!==o){for(var a=g.max(n,u.start(o)),c=u.end(o),h=new mO([{uI:a,oI:c}]),f=u.yI(h).Hw(s),v=0;v<f.length;v++){var d=f.start(v),l=f.iY(v)[0];if(l.cp.qZ===t){if(r=this.ent(l.cp))return r}else{for(r=this.snt(t,d);r&&OB(r,e);)r=this.ent(r.cp);if(r)return r}}var _=u.iY(o),w=_[_.length-1];if(w.cp.qZ===t&&(r=this.unt(w.cp)))return r}var y=this.ont(t);if(!y||bB(y.Jg,n)<=0){if(!y||!y.cp.J2)return r=this.ant(t,n,y);r=y}for(r||(r=this.snt(t,n));r&&OB(r,u);)r=this.unt(r.cp);return r},n.knt=function(t,n){var i=this.ont(t);return i&&i.cp.J2&&bB(i.Jg,n)<=0?i:this.snt(t,n)},n.pnt=function(t,n,i,r,e,u,s,o){var a=t.qZ,c=s.gnt[a.Al],h=!OB(t,c),f=h?n:NB(t,r);t.Gtt=DB(f,r,u),t.jtt=this.cnt(t,a);var v=o&&this.int(o);if(v&&!OB(v,c)){var d=NB(v,r);if(v.Gtt=DB(d,r,u),v.jtt=this.cnt(v,a,i&&i.f0),PB(v)&&(!h||function(t,n){var i=[];return!!BB(i,n)&&(LB(i,n),!(!RB(t)||!RB(n)||t.cp!==n.cp)||!!BB(i,t))}(t,v)))return v}if(h&&!PB(t))return null;var l=this.Ant(t,r,e,u,c);return l.length&&l[l.length-1]||null},n.Ant=function(t,n,i,r,e){for(var u=[],s=t.qZ,o=t;o&&n<o.Jg&&i<=o.Zg;){if(!OB(o,e)){if(m(o.Gtt)){var a=NB(o,n);o.Gtt=DB(a,n,r),o.jtt=this.cnt(o,s)}BB(u,o)&&LB(u,o)}o=RB(o)&&this.ent(o.cp)}return u},n.bnt=function(t,n){return t.Zg<n?{Tl:TB.Jtt}:RB(t)?{Tl:TB.Ytt,cp:t.cp,Zg:t.Zg}:{Tl:TB.Ztt,qZ:t.qZ}},n.U4=function(t){if(uC(t.uri)){var n=t.uri,i=JC(n.IY,[n.NY.uI,n.NY.oI]);return this.d0.Xs(i)}var r=JC(t.uri);return this.d0.Xs(r)},n.Tnt=function(t){return this.tnt.Xs(t.uri)},n.Ent=function(){var t=vn.coroutine(fn.mark(function t(n,i,r,e,u,s,o,a,c){var h,f,v,d,l,_,g,w,y,k,p,A,b;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(h=this.vnt(e),f=this.dnt(h),v=this.XA.ztt.Nw(),d=this.ynt(n,i,u,h,f._nt),g=null,y=!1,!m(d)){t.next=3;break}return t.abrupt("return",{Tl:TB.z6});case 3:if(!(d<v)){t.next=5;break}return t.abrupt("return",{Tl:TB.Jtt});case 5:k=a.length-1;case 6:if(!(k>=0)){t.next=27;break}if(l=a[k],_=xB(d,f._nt[l.Al]),!(g=this.mnt(l,_,f))){t.next=24;break}if(p=!1,!RB(g)){t.next=18;break}return t.next=15,this.U4(g.cp);case 15:p=t.sent,t.next=22;break;case 18:if(l.aJ){t.next=22;break}return t.next=21,this.Tnt(l);case 21:p=t.sent;case 22:if(!p){t.next=24;break}return t.abrupt("return",this.bnt(g,v));case 24:k-=1,t.next=6;break;case 27:if(!(d<=n+pB&&c.length)){t.next=33;break}if(l=c[0],_=xB(d,f._nt[l.Al]),!(g=this.mnt(l,_,f))){t.next=33;break}return t.abrupt("return",this.bnt(g,v));case 33:A=c.length-1;case 34:if(!(A>=0)){t.next=48;break}if(l=c[A],_=xB(d,f._nt[l.Al]),(g=this.mnt(l,_,f))?w=g:(y=!0,w=this.knt(l,_)),!w){t.next=45;break}if(!(b=this.pnt(w,_,s,n,v,r,f,o))){t.next=45;break}return t.abrupt("return",this.bnt(b,v));case 45:A-=1,t.next=34;break;case 48:if(!y){t.next=50;break}return t.abrupt("return",{Tl:TB.z6});case 50:if(!g){t.next=52;break}return t.abrupt("return",this.bnt(g,v));case 52:if(a.length){t.next=54;break}return t.abrupt("return",{Tl:TB.z6});case 54:if(l=a[0],_=xB(d,f._nt[l.Al]),!(g=this.mnt(l,_,f))){t.next=61;break}return t.abrupt("return",this.bnt(g,v));case 61:return t.abrupt("return",{Tl:TB.z6});case 62:case"end":return t.stop()}},t,this)}));return function(n,i,r,e,u,s,o,a,c){return t.apply(this,arguments)}}(),t}(),UB=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this,n)||this).Snt=i,o.Rnt=r,o.fA=e,o.tp=u,o.jf=s,o}return qt(n,t),n}(Vi),FB=function(t){function n(n,i,r,e,u){return t.call(this,So.Cc,n,i,r,e,u)||this}return qt(n,t),n}(UB),HB=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this,So.xc,n,i,r,e,u)||this).Int=s,a.Tg=o,a}return qt(n,t),n}(UB),VB=tg.Ly(.1),XB=function(t){function n(n){var i;return(i=t.call(this)||this).Nnt=[],i.fJ=n,i}qt(n,t);var i=n.prototype;return i.Dnt=function(t,n,i){var r=this.Cnt(t),e=this.Ont(r);this.xnt(e,n,i)},i.Cnt=function(t){if(0===t.length)return[];for(var n=t[0].gJ,i=this.Pnt(t[0]),r=[],e=0;e<t.length;e++){var u=t[e];n!==u.gJ&&(n=u.gJ,i=this.Pnt(u)),r.push(dn(dn({},u),{Bnt:u.j1.Cg(i)}))}return r},i.Pnt=function(t){var n=this.fJ.g1(t.gJ,t.j1),i=n.Hw(t.j1);return fg(n,t.j1).Hw(i)},i.Ont=function(t){var n,i,r,e,u,s=t.slice().sort(WB),o=this.Nnt;if(o.length)if(s.length){var a=1/s[0].gJ.hJ,c=s[0].Bnt,h=o[0].Bnt,f=o[o.length-1].Bnt,v=(e=o[0].gJ,u=s[0].gJ,e.qZ===u.qZ);if(f.Hw(c).Lw(tg.Ly(2.5*a))&&v)n=o.concat(s).sort(WB);else if(c.Ow(h)){for(var d=0;d<o.length&&o[d].Bnt.Lw(c);)d++;for(var l=!1,_=!1,g=d,w=0;g<o.length&&w<s.length;g++,w++)i=o[g],r=s[w],i.j1._w(r.j1)&&i.xu===r.xu&&i.Xz===r.Wz?l=!0:_=!0;var y=l&&!_,m=l&&_;!l&&_?n=o.concat(s).sort(WB):y?n=o.slice(0,d).concat(s):(n=s,m&&this.hl())}else n=s,this.hl()}else n=o;else n=s;return n},i.xnt=function(t,n,i){if(0!==t.length){for(var r=t[0],e=n.Hw(r.Bnt),u=fg(n,r.Bnt).Hw(e),s=n.Cg(u),o=VB.Dy(s.Ey),a=0;a<t.length;a+=1){var c=t[a];if(!i&&s.Hw(c.Bnt).Lw(o))return void(this.Nnt=t.slice(a));var h=this.fJ.g1(c.gJ,c.j1);this.Fz(h,c)}this.Nnt=[]}},n}(rD);function WB(t,n){return(t.gJ===n.gJ?ng(t.j1,n.j1):ng(t.Bnt,n.Bnt))||F_(t.fA,n.fA)}var qB=function(t){function n(n,i,r,e,u,s,o,a,c,h){var f;return(f=t.call(this)||this).Lnt=!1,f.Mnt=!1,f.Unt=!1,f.Fnt=!1,f.Hnt=!1,f.Vnt=null,f.bJ=void 0,f.Xnt=void 0,f.Wnt=null,f.Jg=-1,f.qnt=null,f.znt=!1,f.Gnt=!1,f.jnt=1/0,f.Qnt=void 0,f.Ynt=null,f.Znt=0,f.gs=function(t){f.dispatchEvent(t)},f.Jnt=function(){!f.Unt&&!f.Fnt&&f.$nt&&f.Lnt&&(f.Fnt=f.Knt("eZ",f.tit,function(){f.Fnt=!1}))},f.nit=function(){!f.Unt&&!f.Hnt&&f.iit&&f.Mnt&&(f.Hnt=f.Knt("uZ",f.rit,function(){f.Hnt=!1}))},f.eit=function(t){return f.uit()},f.sit=function(t){if(t.tp===f.tp){var n=t.gJ,i=n.z2;i.M1&&f.oit(i.M1,n.info),i.W1&&f.ait(i.W1,n.info),f.uit(f.S4.D4,!0)}},f.v$=function(t){var n=t;f.cit(n.uJ,n.qZ)},f.hit=function(t){if(f.Wnt)for(var n=0;n<f.Wnt.Ip;n++){var i="CC"+(n+1);f.z$.XJ(i,t.cue.Zg,t.cue.Jg)}f.z$.HJ(t.cue)},f.tN=c,f.z$=i,f.fit=r,f.Ktt=e,f.vit=u,f.c7=s,f.Xp=o,f.S4=h,f.XA=new mB(o),f.dit=f.lit(i),e.ol(n,f.XA,f.c7),f.tit=new oB(s,f.XA),f.rit=new oB(s,f.XA),f.Wnt=f._it(f.XA),f.git=new MB(n,f.XA,f.dit,e),e.addEventListener("J5",f.sit),f.XA.addEventListener("Bs",f.gs),i.addEventListener("i$",f.v$),f}qt(n,t);var i=n.prototype;return i.Knt=function(t,n,i){var r=this,e=this.c7.x4,u=5*this.c7.b_,s=this.wit(),o="audio"===this.tp?[this.yit]:this.dit.iZ,a=n.m7(),c=a[0],h=a[1],f=this.Ktt.A6(this.tp,t,this.XA,o,c,h||void 0,e,u,s);return f&&!f.length&&f.h6?(this.c7.mit("eZ"===t,"uZ"===t),!1):!(!f||!f.length)&&(this.vit.a9(this.tp,this.z$,f,f.f6,f.GM,f.h6,function(t,e){if(i(),t)r.dispatchEvent({type:"Bs",Bs:t});else{var u=e;n.h7(u).then(function(){return r.dispatchEvent("nK")}).catch(function(t){0})}}),!0)},i.kit=function(){this.vit.hs(this.tp),this.Fnt=!1,this.Hnt=!1},i.pit=function(){var t=this.c7.x4,n=this.tit._7(t)||this.rit._7(t);!n||this.Vnt&&this.Vnt.LQ===n.LQ||(this.uit(this.S4.D4),this.Vnt=n,this.dispatchEvent({type:"Ait",jA:this.Vnt.Ks.G2}))},i.bit=function(){this.Tit()},i.Eit=function(){this.bit()},i.Sit=function(){this.uit(this.S4.D4)},i.Rit=function(t,n){this.tit._7(t)||this.rit._7(t)||(this.Vnt=null)},i.Iit=function(t){var n=!1;this.tit.y7().Og(t)||(this.Jnt(),n=!0),this.rit.y7().Og(t)||(this.nit(),n=!0),n&&this.uit(this.S4.D4,!0)},i.Nit=function(){this.tit.Gs()},i.Dit=function(){this.rit.Gs()},i.wit=function(){return 0===this.tit.vl+this.rit.vl?0:"u6"===this.Xp.s6?0:1*this.Ktt.C4},i.Tit=function(){this.Jnt(),this.nit()},i.H$=function(t){return-1!==this.dit.iZ.indexOf(t)},i.Cit=function(t){t&&this.H$(t)&&(this.dJ(t),this.t$(t))},i.dJ=function(t){this.XA.ftt(t,t.eY)},i.t$=function(t){var n=this;if(t&&t.eY&&this.Xp.hlsDateRange){this.z$.t$(t.eY.dateRanges,function(i){return n.XA.Ttt(t,i).Nw()})}},i.Oit=function(t){this.H$(t.qZ)&&this.XA.U7(t.qZ,t)},i.xit=function(t){var n,i,r,e=t,u=this.tit._7(e)||this.rit._7(e);if(u)i=u.Ks.quality,r=u.LQ,n=u.uI;else{var s=this.yit;if(!s)return null;var o=this.XA.w6(s,tg.Ly(e));if(!o)return null;i=s,r=o.cp.LQ,n=o.btt.Nw()}var a=this.XA.Att(i,r);if(!a)return null;var c=e-n;return new Date(a.getTime()+1e3*c)},i.Ttt=function(t){var n=this.yit;return this.XA.Ttt(n,t).Nw()},i.uit=function(t,n){var i=this,r=this.Pit(),e=this.c7.x4;t&&(this.Jg=e+t,n&&(this.Ynt=null,this.Znt=0)),this.Pit()||e>=this.Jg?this.Bit(r):this.qnt||this.znt||!this.pl||(this.Lit(),this.Mit(function(t){return i.Uit(e,i.c7.b_,t)}))},i.Fit=function(t){t&&this.fit.removeEventListener(t.uri,this.eit)},i.Hit=function(t){t&&this.fit.addEventListener(t.uri,this.eit)},i.Pit=function(){return-1===this.Jg},n.Vit=function(t){return iC.C_(t.qZ.sJ)&&Ub()-t.Wk>2e3*t.qZ.eY.metadata.Z9},i.Mit=function(){var t=vn.coroutine(fn.mark(function t(n){var i,r;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=!1,this.qnt=new ki,r=this.qnt,t.prev=3,t.next=6,n(r.ds);case 6:i=t.sent,bi(r.ds),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),Ei(t.t0);case 13:return t.prev=13,this.qnt===r&&(this.qnt=null),t.finish(13);case 16:i&&this.uit();case 17:case"end":return t.stop()}},t,this,[[3,10,13,16]])}));return function(n){return t.apply(this,arguments)}}(),i.Lit=function(){this.qnt&&(this.qnt.hs(),this.qnt=null)},i.Xit=function(){var t=vn.coroutine(fn.mark(function t(n,i){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}(),i.Wit=function(){var t=vn.coroutine(fn.mark(function t(n){var i;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!ZB.Vit(n)){t.next=2;break}return t.abrupt("return",this.dispatchEvent("qit"));case 2:if(i=g.min(16e3,1e3*g.pow(2,this.Znt)),this.Znt+=1,this.Lit(),!(this.Znt>2)){t.next=8;break}return n.qZ.ZZ(!1),t.abrupt("return",n.qZ.jZ());case 8:this.Mit(function(t){return Pi(i,t).then(function(){return!0})});case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.oit=function(t,n){var i,r;r=kC((i=t).U1,4),i.FJ="0000.0000.0000."+r,function(t){var n=kC(t.F1,4),i=kC(t.H1,3),r=kC(t.V1,2*t.H1);t.xl=(n+i+r).toUpperCase()}(t),aB(n,this.XA,t),this.z$.UJ(t,this.XA)},i.ait=function(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];i.push(dn(dn({},e),{gJ:n}))}this.Wnt&&this.Wnt.Dnt(i,n.f4,n.J2)},i.zit=function(t){this.Qnt&&this.Qnt.gJ===t&&this.uit()},i.Git=function(t,n){if(n){if(n.aborted)return;if(this.Ynt===t)return this.Wit(t)}else t.qZ.ZZ(!0);return this.uit()},i.jit=function(t){var n=fC(t.qZ.uJ);n&&this.dispatchEvent(new FB(eC(t.uri),t.qZ.bandwidth||0,t.LQ,t.qZ.LQ,n))},i.Qit=function(t,n){var i=this.Qnt&&this.Qnt.Ef.T0||200,r=fC(t.qZ.uJ);r&&this.dispatchEvent(new HB(eC(t.uri),t.qZ.bandwidth||0,t.LQ,t.qZ.LQ,r,i,n&&n.f0.D0||0))},i.Bit=function(t){this.Jg=-1,t||this.dispatchEvent("Yit")},i.Zit=function(t){this.Gnt=!0,this.Bit(t),this.dispatchEvent("wK")},i.Uit=function(){var t=vn.coroutine(fn.mark(function t(n,i,r){var e,u,s,o,a,c,h=this;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(bi(r),e=this.yit,u=this.Pit(),this.Fit(e||void 0),!(n>=this.Jg)){t.next=7;break}return this.Bit(u),t.abrupt("return",!1);case 7:return t.next=9,this.git.Ent(n,this.Jg,i,e||void 0,this.wit(),this.Qnt&&this.Qnt.Ef,this.Qnt&&this.Qnt.gJ,this.Jit,this.$it);case 9:if(s=t.sent,Xd.Ql(this.Ktt.d5/8),bi(r),s.Tl!==TB.Jtt){t.next=18;break}return this.Lit(),this.dispatchEvent("qit"),t.abrupt("return",!1);case 18:if(s.Tl!==TB.Ztt){t.next=29;break}if(s.qZ!==e){t.next=24;break}return this.Hit(e),t.abrupt("return",!1);case 24:return t.next=26,this.Xit(s.qZ,null);case 26:return t.abrupt("return",t.sent);case 27:t.next=33;break;case 29:if(s.Tl!==TB.z6){t.next=33;break}return this.Hit(e||void 0),!iC.C_(e.sJ)&&e.eY&&this.Zit(u),t.abrupt("return",!1);case 33:if(o=s.cp,!this.Qnt||this.Qnt.gJ!==o){t.next=36;break}return t.abrupt("return",!1);case 36:if(o.qZ===e){t.next=40;break}return t.next=39,this.Xit(o.qZ,o);case 39:return t.abrupt("return",t.sent);case 40:if(this.Qnt&&(this.Qnt.Ef.hs(),this.Qnt=void 0),!(s.Zg>this.jnt)){t.next=46;break}return this.Zit(u),t.abrupt("return",!1);case 46:if(!(s.Zg>this.Jg)){t.next=49;break}return this.Bit(u),t.abrupt("return",!1);case 49:if(this.Gnt=!1,this.Qnt=void 0,o!==this.Ynt&&(this.Znt=0),this.Ynt=o,this.dispatchEvent("gK"),this.jit(o),!o.z9){t.next=59;break}return t.next=58,this.Ktt.Q5(this.tp,String(o.qZ.Al),o.z9);case 58:a=t.sent;case 59:return(c=this.Ktt.Z5(this.tp,o,a,function(t,n){h.Lit(),h.Qit(o,n),h.Qnt=void 0,r&&r.Ju||h.Git(o,t)}))&&(this.Qnt={gJ:o,Ef:c},c.addEventListener("nK",function(){r&&r.Ju||h.zit(o)})),t.abrupt("return",!1);case 62:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.Kit=function(t){this.uit(t||this.S4.D4,!0)},i.trt=function(){var t=this.Pit();this.Jg=-1,this.Qnt&&this.Qnt.Ef.hs(),this.Qnt=void 0,this.Fit(),this.Gnt=!1,this.Ynt=null,this.Znt=0,this.Lit(),this.Bit(t),this.Wnt=this._it(this.XA)},i.nrt=function(){this.znt=!0,this.Fit(),this.Lit()},i.irt=function(){this.znt=!1,this.uit()},i.rrt=function(){this.Unt=!0},i.ert=function(){this.Unt=!1,this.Tit()},i.Jf=function(){this.Ts(),this.trt(),this.kit(),this.$nt=null,this.iit=null,this.tit.Jf(),this.rit.Jf(),this.vit.hs(this.tp),this.XA.Jf(),this.z$.removeEventListener("i$",this.v$),this.Ktt.removeEventListener("J5",this.sit),this.dit=null,this.urt()},i.hl=function(){this.Vnt=null,this.bJ=void 0,this.Xnt=void 0,this.urt(),this.Wnt=this._it(this.XA)},i._it=function(t){var n=new XB(t);return n.ps("az",this.hit),n},i.urt=function(){this.Wnt&&(this.Wnt.Es("az",this.hit),this.Wnt.Jf(),this.Wnt=null)},T(n,[{key:"w_",get:function(){return this.c7.x4}},{key:"ort",get:function(){return this.Lnt}},{key:"tp",get:function(){return this.art()}},{key:"aJ",get:function(){return this.crt()}},{key:"Jit",get:function(){return this.hrt()}},{key:"$it",get:function(){return this.frt()}},{key:"$nt",get:function(){return this.tit.l7},set:function(t){var n=this.tit.l7;n&&n.removeEventListener("updateend",this.Jnt),this.tit.l7=t,t&&(t.addEventListener("updateend",this.Jnt),this.Jnt())}},{key:"iit",get:function(){return this.rit.l7},set:function(t){var n=this.rit.l7;n&&n.removeEventListener("updateend",this.nit),this.rit.l7=t,t&&(t.addEventListener("updateend",this.nit),this.nit())}},{key:"Yit",get:function(){return this.Pit()}},{key:"wK",get:function(){return this.Gnt}},{key:"vrt",get:function(){return this.jnt},set:function(t){this.jnt=t}},{key:"yit",get:function(){return this.drt()}},{key:"lrt",get:function(){return this._rt()},set:function(t){this.grt(t)}},{key:"pl",get:function(){return this.gM()}},{key:"Sg",get:function(){return this.wrt()}}]),n}(LD);function zB(t,n){if(t.bandwidth!==n.bandwidth)return!1;if(t.resolution){if(!n.resolution)return!1;if(t.resolution.width!==n.resolution.width||t.resolution.height!==n.resolution.height)return!1}else if(n.resolution)return!1;return!0}function GB(t){for(var n=[],i=0;i<t.length;i++){for(var r=t[i],e=!1,u=0;u<n.length;u++){zB(r,n[u])&&(e=!0)}e||n.push(r)}return n}function jB(t){var n=t&&t.uri||"",i=n.indexOf("?"),r=n.indexOf("#"),e=n.length;-1!==r&&(e=r),-1!==i&&(e=i);var u=n.indexOf(".aac",e-4);return 0<=u&&u<e}var QB=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this)||this).yrt=null,o.mrt=null,o.krt=null,o.prt=null,o.Art=null,o.brt=null,o.Trt=null,o.Ert=!1,o.xg=!0,o._Z=!0,o.Srt=null,o.Rrt=function(){o.Srt&&o.Srt.disabled&&o.Irt(o.Xp.initialRendition||"default"),o.Nrt(!0)},o.Drt=function(){var t=o.z$.c$.rZ.some(function(t){return t.Sg});o.Crt(t)},o.Ort=function(t){"variant"===t.tp&&(o.Ktt.removeEventListener("r6",o.Ort),o.Srt&&(o.Srt=null,o.Nrt(!1)))},o.tN=s,o.z$=n,o.XA=i,o.Ktt=r,o.Xp=e,o.xrt=e.Prt||[],o.Brt=new $P(e,YC._n.FK,u),o.yrt=null,o.Ktt.addEventListener("r6",o.Ort),o.Lrt(),o.Mrt(),o.Irt(e.initialRendition||"default"),o}qt(n,t);var i=n.prototype;return i.Urt=function(t,n){var i=aC(t);if(i&&!i.disabled)return i;var r=this.Frt(t,null);switch(r.length?"first"!==n&&(n="high"):r=t,n){case"first":return r.reduce(function(t,n){return t.LQ<=n.LQ?t:n});case"high":var e=GB(r);return e[e.length-1];case"low":default:return GB(t)[0]}},i.Hrt=function(t,n){var i=this.Vrt||this.Srt&&[this.Srt],r=i&&i.filter(function(n){return li(t,n)});return r&&r.length>0?GB(r):GB(this.Frt(t,n))},i.Frt=function(t,n){var i=this.Xp,r=this.xrt,e=this.Xrt();return t.filter(function(t){for(var u=0;u<r.length;u++){if(!r[u].Wrt(t,n,e,i))return!1}return!0})},i.qrt=function(t,n){var i=this.Hrt(t,n);return i.length?i[i.length-1]:t[0]},i.zrt=function(t,n){var i=this.Vrt;return i&&i.length>0?i.filter(function(n){return li(t,n)}):t},i.Grt=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r,e,u,s;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.prt,e=this.Art,!r||n!==this.brt||i!==this.Trt){t.next=4;break}return t.abrupt("return",r);case 4:return u=new ki,s=this.jrt(n,i,u.ds),r&&e&&e.hs(),this.prt=s,this.Art=u,this.Trt=i,t.prev=10,t.next=13,s;case 13:return t.abrupt("return",t.sent);case 14:return t.prev=14,s===this.prt&&(this.prt=null,this.Art=null,this.Trt=null),t.finish(14);case 17:case"end":return t.stop()}},t,this,[[10,,14,17]])}));return function(n,i){return t.apply(this,arguments)}}(),i.jrt=function(){var t=vn.coroutine(fn.mark(function t(n,i,r){var e,u,s,o,a;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.z$,u=this.XA,s=e.a$,t.next=5,this.Qrt(n,r);case 5:if(t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:if(!i){t.next=14;break}if(o=u.Wtt(s,i.LQ),a=u.w6(n,o),iC.C_(s.sJ)||a){t.next=14;break}return n.disabled="isUnsynced",t.abrupt("return",!1);case 14:return t.abrupt("return",!0);case 15:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.Qrt=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r,e,u,s;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.mrt,e=this.krt,!r||n!==this.brt){t.next=4;break}return t.abrupt("return",r);case 4:return(u=new ki).fs(i),s=this.Yrt(n,u.ds),r&&e&&e.hs(),this.mrt=s,this.krt=u,this.brt=n,t.prev=11,t.next=14,s;case 14:return t.abrupt("return",t.sent);case 15:return t.prev=15,s===this.mrt&&(this.mrt=null,this.krt=null,this.brt=null),t.finish(15);case 18:case"end":return t.stop()}},t,this,[[11,,15,18]])}));return function(n,i){return t.apply(this,arguments)}}(),i.Yrt=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r,e,u,s;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.z$,e=r.a$,!this.pl||e!==n){t.next=4;break}return t.abrupt("return",!1);case 4:if(this.Zrt(n)){t.next=8;break}u=n.eY,t.next=22;break;case 8:return t.prev=8,t.next=11,this.Brt.po(n.uri,{});case 11:s=t.sent,bi(i),u=s.P_,t.next=21;break;case 16:return t.prev=16,t.t0=t.catch(8),n.XZ(!1),n.jZ(),t.abrupt("return",!1);case 21:n.UZ(u,e);case 22:if(!jB(u.fragments[0])){t.next=25;break}return n.disabled="isAAC",t.abrupt("return",!1);case 25:return t.abrupt("return",!0);case 26:case"end":return t.stop()}},t,this,[[8,16]])}));return function(n,i){return t.apply(this,arguments)}}(),i.Zrt=function(t){var n=t.eY;return!n||!!n.live&&(!t.iY.vl||t.iY.HQ(t.iY.vl-1).Wk+1e3*n.targetDuration<Ub())},i.Fg=function(t){t?this.xg||(this.xg=!0,this.dispatchEvent("pl")):this.xg&&(this.xg=!1)},i.Crt=function(t){t&&!this._Z?(this._Z=!0,this.dispatchEvent("Sg")):!t&&this._Z&&(this._Z=!1,this.dispatchEvent("uv"))},i.Nrt=function(t){var n=this,i=this.z$,r=i.a$,e=i.c$.rZ,u=this.zrt(e,r),s=this.qrt(u,r);s?this.Grt(s,null).then(function(r){r&&(i.WJ(s,t),n.Fg(!0))}):this.Fg(!1)},i.Jrt=function(){this.Srt=null,this.Nrt(!0)},i.Mrt=function(){this.z$.c$.addEventListener("KY",this.Drt)},i.$rt=function(){this.z$.c$.removeEventListener("KY",this.Drt)},i.Lrt=function(){this.z$.c$.addEventListener("JY",this.Rrt)},i.Krt=function(){this.z$.c$.removeEventListener("JY",this.Rrt)},i.Irt=function(t){var n=this.z$,i=n.c$.rZ;if(Boolean(n.a$&&!n.a$.disabled))this.Srt=null;else{if(i&&i.length){var r;switch(this.tN.Lx.type){case LT.PERFORMANCE:r="low";break;case LT.QUALITY:r="high";break;case LT.BANDWIDTH:r=t}this.Srt=this.Urt(i,r),this.Ert=!0}var e=this.zrt(i,null),u=this.qrt(e,null);u&&(n.a$=u)}},i.Xrt=function(){return this.Ert?{d5:this.Ktt.d5}:{d5:this.tN.zx}},i.hs=function(){this.prt&&this.Art&&(this.Art.hs(),this.prt=null,this.Art=null,this.Trt=null),this.mrt&&this.krt&&(this.krt.hs(),this.mrt=null,this.krt=null,this.brt=null)},i.Jf=function(){this.Ktt.removeEventListener("r6",this.Ort),this.Krt(),this.$rt(),this.hs(),this.yrt=null,this.Srt=null},i.tet=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r,e;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.z$,n){t.next=3;break}return t.abrupt("return",!1);case 3:return t.next=5,this.Grt(n,i);case 5:return(e=t.sent)&&(r.a$=n),t.abrupt("return",e);case 8:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),T(n,[{key:"pl",get:function(){return this.xg}},{key:"Sg",get:function(){return this._Z}},{key:"$it",get:function(){var t=this.z$,n=t.a$,i=this.zrt(t.c$.rZ,n);return this.Hrt(i,n)}},{key:"Jit",get:function(){return this.zrt(this.z$.c$.rZ,this.z$.a$)}},{key:"Vrt",get:function(){return this.yrt},set:function(t){this.yrt=t,this.Jrt()}}]),n}(LD),YB=function(){function t(t,n){this.net=-1,this.Bd=t,this.XA=n}return t.prototype.bo=function(t){for(var n=t.iY,i=n.FQ(this.net),r=i<0?0:i+1;r<n.vl;r++){var e=n.HQ(r);if(e.LQ>this.net){var u=this.XA.v1(e),s=this.XA.d1(e,u),o=new N_(u.Nw(),s.Nw(),[].concat(e.KZ),!1);o.Al=""+e.LQ,this.Bd.yb(o),this.net=e.LQ}}},t}(),ZB=function(t){function n(n,i,r,e,u,s,o,a,c){var h;return(h=t.call(this,tC.WY,n,i,r,e,u,s,o,a,c)||this).iet=null,h.ret=null,h.eet=new QB(n,h.XA,r,s,o,a),h.eet.addEventListener("pl",h.gs),h.eet.addEventListener("Sg",h.gs),h.eet.addEventListener("uv",h.gs),s.manifestMetadataTrack&&(h.iet=n.MJ("",h.XA,""),h.ret=new YB(h.iet,h.XA)),h.Lnt=!h.z$.JJ||!h.z$.JJ.uri,h.Mnt=Boolean(h.z$.a$),h}qt(n,t);var i=n.prototype;return i.cit=function(t,n){if("eZ"===t){var i=n?n.uri:void 0;this.Lnt=!i}},i.art=function(){return tC.WY},i.crt=function(){return this.yit&&this.yit.aJ||!1},i.drt=function(){return this.z$.a$},i.hrt=function(){return this.eet.Jit},i.frt=function(){return this.eet.$it},i._rt=function(){var t=this.eet.Vrt;return t&&t.map(function(t){return t.Al})},i.grt=function(t){if(t&&t.length>0){var n=this.dit.iZ.filter(function(n){return-1!==t.indexOf(n.Al)});if(!(n.length>0))return void 0;this.eet.Vrt=n}else this.eet.Vrt=null},i.gM=function(){return this.eet.pl},i.wrt=function(){return this.eet.Sg},i.Xit=function(){var n=vn.coroutine(fn.mark(function n(i,r){return fn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.eet.tet(i,r);case 2:return n.abrupt("return",t.prototype.Xit.call(this,i,r));case 3:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),i.trt=function(){t.prototype.trt.call(this),this.eet.hs()},i.dJ=function(n){t.prototype.dJ.call(this,n),this.ret&&this.ret.bo(n)},i.Jf=function(){t.prototype.Jf.call(this),this.eet.Jf(),this.eet.removeEventListener("Sg",this.gs),this.eet.removeEventListener("uv",this.gs)},i.lit=function(t){return t.c$},i.uet=function(){var t=this.w_,n=this.ort?this.tit.g7(t):void 0,i=n?n.qZ:void 0,r=this.rit.g7(t),e=r?r.qZ:void 0,u=this.bJ;this.bJ=i;var s=this.Xnt;return this.Xnt=e,!u&&i?{r$:u,oet:i}:!s&&e?{r$:s,oet:e}:s&&e&&s.Al!==e.Al?{r$:s,oet:e}:void 0},n}(qB),JB=function(t){function n(n,i,r,e,u,s,o,a,c){var h;return(h=t.call(this,tC.Vf,n,i,r,e,u,s,o,a,c)||this).Lnt=!!h.z$.JJ&&!!h.z$.JJ.uri,h.Mnt=!1,h}qt(n,t);var i=n.prototype;return i.cit=function(t,n){if("eZ"===t){var i=n?n.uri:void 0;this.Lnt=!!i}},i.art=function(){return tC.Vf},i.crt=function(){return this.yit&&this.yit.aJ||!1},i.drt=function(){return this.z$.JJ},i.hrt=function(){var t=this.drt();return t?[t]:[]},i.frt=function(){return this.hrt()},i.lit=function(t){return t.MZ},i._rt=function(){return null},i.grt=function(t){},i.gM=function(){return!0},i.wrt=function(){return!0},i.uet=function(){var t=this.ort?this.tit.g7(this.w_):void 0,n=t?t.qZ:void 0,i=this.bJ;return this.bJ=n||void 0,!i&&n?{r$:i,oet:n}:i&&n&&i.Al!==n.Al?{r$:i,oet:n}:void 0},n}(qB),$B=function(){function t(t,n,i,r,e,u){var s=this;this.aet=!1,this.cet=Yp.WI(),this.het=[],this.fet=[],this.vJ=function(){return s.vet()},this.det=function(t){t.P_.live||s.let.removeEventListener(s.YQ.IY,s.det),s.YQ.UZ(t.P_)},this._et=function(){s.YQ.yJ.Pl===Id.Nl?s.aet&&s.wet():s.aet||s.yet()},this.YQ=t,this.let=n,this.R4=i,this.S4=u,this.met=new iO(r,e),this.ket=new ki,t.yJ.ps(Kv.Gd,this._et),t.XA&&t.XA.addEventListener("mJ",this.vJ),this._et()}var n=t.prototype;return n.yet=function(){this.aet||this.YQ.yJ.Pl===Id.Nl||(this.let.removeEventListener(this.YQ.IY,this.det),this.let.addEventListener(this.YQ.IY,this.det),this.let.H8(this.YQ.IY),this.let.V8(this.YQ.IY),this.aet=!0,Ci(this.pet(this.ket.ds)))},n.pet=function(){var t=vn.coroutine(fn.mark(function t(n){var i,r,e,u,s,o,a,c,h,f,v=this;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.R4.x4,r=this.S4.D4,e=new Yp([i,i+r]),(u=e.yI(this.cet.mI())).vl){t.next=16;break}return t.prev=6,t.next=9,Pi(1e3,n);case 9:t.next=15;break;case 11:return t.prev=11,t.t0=t.catch(6),Ei(t.t0),t.abrupt("return");case 15:return t.abrupt("return",this.pet(n));case 16:if(s=u.uI(0),o=this.Aet(s)){t.next=30;break}return a=this.YQ,t.prev=20,t.next=23,Gv(a,"WZ",n);case 23:t.next=29;break;case 25:return t.prev=25,t.t1=t.catch(20),Ei(t.t1),t.abrupt("return");case 29:return t.abrupt("return",this.pet(n));case 30:c=o.cp,h=o.btt.Nw(),f=h+c.duration,this.met.po("yJ",c.uri,Ro.pn,function(){var t=vn.coroutine(fn.mark(function t(i,r){var e,u,s,o,a,d;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!i){t.next=3;break}throw Pi(1e3,n).then(function(){return v.pet(n)}),i;case 3:for(v.cet=v.cet.TI(new Yp([h,f])),v.het.push(c.LQ),e=Rg(r.vv),u=e.sm||{om:tg.Yw,am:tg.Yw},s=v.YQ.iY.VQ(c.LQ),o=0,a=e.Ll;o<a.length;o++)d=a[o],v.fet.push({gJ:s,btt:KB(tg.Ly(d.Zg),u.am,u.om),bet:KB(tg.Ly(d.Jg),u.am,u.om),Yg:d});return v.vet(),t.next=12,v.pet(n);case 12:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}());case 34:case"end":return t.stop()}},t,this,[[6,11],[20,25]])}));return function(n){return t.apply(this,arguments)}}(),n.vet=function(){var t=this.YQ.XA;if(this.fet.length&&t){for(var n=[],i=0,r=this.fet;i<r.length;i++){var e=r[i],u=t.g1(e.gJ,e.btt);if(u.Vw())n.push(e);else{var s=t.g1(e.gJ,e.bet),o=new C_(u.Nw(),s.Nw(),e.Yg.$g,!1,e.Yg.Al);this.YQ.yJ.yb(o)}}this.fet=n,this.YQ.yJ.HF(this.R4.x4,!0)}},n.Aet=function(t){var n=this.YQ.XA,i=this.YQ.iY;if(n.wtt)for(var r=n.Rtt.Nw(),e=i.vl-1;e>=0;e-=1){var u=i.HQ(e),s=r-u.duration;if(new Yp([s,r]).kR(t,.5)){var o={cp:u,btt:tg.Ly(s)};return this.Tet(i,o,e)}r=s}else for(var a=0,c=0;c<i.vl;c+=1){var h=i.HQ(c),f=a+h.duration;if(new Yp([a,f]).kR(t,.5)){var v={cp:h,btt:tg.Ly(a)};return this.Tet(i,v,c)}a=f}},n.Tet=function(t,n,i){var r=n.cp;if(-1===this.het.indexOf(r.LQ))return n;for(var e=n.btt.Nw()+r.duration,u=i+1;u<t.vl;u+=1){var s=t.HQ(u);if(-1===this.het.indexOf(s.LQ))return{cp:s,btt:tg.Ly(e)};e+=s.duration}},n.wet=function(){this.aet=!1,this.let.F8(this.YQ.IY),this.ket.hs(),this.ket=new ki},n.hl=function(){this.wet(),this.cet=Yp.WI(),this.het.length=0,this.YQ.yJ.Es(Kv.Gd,this._et),this.YQ.XA&&this.YQ.XA.removeEventListener("mJ",this.vJ),this.let.removeEventListener(this.YQ.IY,this.det)},t}();function KB(t,n,i){return hg(i,t.Hw(n))}var tL=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).Eet=NaN,u.Ret=!1,u.Iet=1/0,u.Net=1/0,u.Det=null,u.Cet=!0,u.Oet=!0,u.c7=null,u.xet=void 0,u.Pet=void 0,u.Bet=[],u.OJ=function(){var t=u.z$.y_;m(t)||u.Eet===t||(u.Eet=t,u.dispatchEvent("durationchange"))},u.Let=function(){u.Z$&&(u.z$.removeEventListener("renditionUpdated",u.Let),u.dispatchEvent("Z$"))},u.Met=function(){u.Yit&&u.dispatchEvent("Yit")},u.Uet=function(){u.wK&&u.dispatchEvent("wK")},u.gs=function(t){u.dispatchEvent(t)},u.Fet=function(t){var n=u.z$.zJ(t.L8);n?n instanceof lC&&(n.XZ(!1),n.jZ()):u.dispatchEvent(t)},u.Het=function(t){u.z$.P_||(t.Bs.code===UD.AQ?(u.Det||(u.Det=c(u.Vet,pp)),u.Oet=!1,u.YZ()):u.dispatchEvent({type:"Bs",Bs:t.Bs}))},u.Xet=function(t){u.Wet(),u.qet(t.P_),u.zet(),u.z$.removeEventListener("YJ",u.OJ),u.z$.addEventListener("YJ",u.OJ),u.OJ(),u.Ret||(u.Ret=!0,u.dispatchEvent("loadedmetadata")),u.Let(),u.Oet=!0,u.YZ()},u.Vet=function(){u.Wet();var t=u.yK;t&&(u.fit.hl(),u.fit.yK=t,u.fit.uI())},u.Get=function(){u.fit.X8()},u.jet=function(){u.Qet.forEach(function(t){return t.ert()})},u.Yet=function(t){u.Zet.forEach(function(n){return n.Cit(t.qZ)})},u.Jet=function(t){u.Qet.forEach(function(n){return n.Oit(t.t4)}),u.$et.Z8(t.t4,u.Qet.map(function(t){return t.XA}))},u.YZ=function(){var t=u.Cet,n=u.wrt();u.Cet=n,n&&!t?u.dispatchEvent("Sg"):!n&&t&&u.dispatchEvent("uv")},u.tN=e,u.Xp=n,u._K=i,u.lb=r,u.Ktt=new Zx(n,i,r,jt(u)),u.vit=new OP(n),u.z$=new gC(n),u.fit=new tB(r,n),u.$et=new nB,u.fit.addEventListener("Bs",u.Fet),u.fit.addEventListener("B8",u.Het),u.fit.addEventListener("M8",u.Xet),u.Ktt.addEventListener("J5",u.gs),u.Ktt.addEventListener("Bs",u.gs),u.z$.addEventListener("i$",u.gs),u.z$.addEventListener("WZ",u.Yet),u.z$.addEventListener("pJ",u.Jet),u.z$.addEventListener("e$",u.gs),u.$et.addEventListener("z8",u.gs),u.$et.addEventListener("z8",u.jet),u.addEventListener("Sg",u.Get),u}qt(n,t);var i=n.prototype;return i.Ket=function(t){t.vrt=this.vrt,t.addEventListener("Ait",this.gs),t.addEventListener("tut",this.gs),t.addEventListener("Bs",this.gs),t.addEventListener("qit",this.gs),t.addEventListener("gK",this.gs),t.addEventListener("Yit",this.Met),t.addEventListener("wK",this.Uet),t.addEventListener("uv",this.YZ),t.addEventListener("Sg",this.YZ),t.addEventListener("pl",this.gs),t.addEventListener("nK",this.gs),t.addEventListener(So.Cc,this.gs),t.addEventListener(So.xc,this.gs)},i.zet=function(){this.nut();this.z$.c$.iZ;var t=this.z$.MZ.iZ;this.xet=new ZB(this.z$,this.fit,this.Ktt,this.vit,this.c7,this.Xp,this.lb,this.tN,this),this.Ket(this.xet),t.length&&(this.Pet=new JB(this.z$,this.fit,this.Ktt,this.vit,this.c7,this.Xp,this.lb,this.tN,this),this.Ket(this.Pet));for(var n=this.z$.h$,i=this.xet.XA,r=0;r<n.length;r++){var e=n[r];e.XA=i,this.Bet.push(new $B(e,this.fit,this.c7,this.lb,this.Xp,this))}},i.nut=function(){this.xet&&(this.xet.Jf(),this.xet=void 0),this.Pet&&(this.Pet.Jf(),this.Pet=void 0),this.Bet.forEach(function(t){return t.hl()}),this.Bet.length=0,this.$et.hl()},i.iut=function(t){this.Qet.forEach(function(n){return n.Kit(t)})},i.qet=function(t){this.z$.P_=t},i.rut=function(){this.fit.uI()},i.eut=function(t){this.$et.J8(t,this.Qet.map(function(t){return t.XA}))||this.Qet.forEach(function(t){t.kit(),t.rrt()})},i.wet=function(){this.Ktt.j5(),this.Qet.forEach(function(t){return t.trt()})},i.bK=function(){this.Ktt.j5(),this.Qet.forEach(function(t){return t.nrt()})},i.kK=function(){this.Qet.forEach(function(t){return t.irt()})},i.Jf=function(){this.Ts(),this.Wet(),this.nut(),this.Ktt.Jf(),this.vit.Jf(),this.z$.Jf(),this.fit.hl(),this.$et.Jf()},i.uut=function(t,n,i,r){var e=this.xet,u=this.Pet;t&&(e.trt(),this.Ktt.Gs(e.tp),e.Kit(r)),n&&u&&(u.trt(),this.Ktt.Gs(u.tp),i&&u.Kit(r))},i.sut=function(){if(!this.xet)return kO;var t=this.xet;return HO(t.XA,this.Ktt.V4(t.tp))},i.U8=function(t,n,i){var r=this,e=n?n.uri:void 0,u=i?i.uri:void 0,s=function t(n){n.P_.live||r.fit.removeEventListener(u,t),i&&i.UZ(n.P_)};u&&(this.fit.removeEventListener(u,s),this.fit.addEventListener(u,s)),this.fit.U8(e,u),this.fit.V8(u)},i.Wet=function(){null!==this.Det&&h(this.Det),this.Det=null},i.wrt=function(){return!!this.Oet&&(!this.xet||this.xet.Sg)},i.RK=function(t){this.xet&&(this.xet.lrt=t)},i.hl=function(){this.Zet.forEach(function(t){return t.hl()}),this.Bet.forEach(function(t){return t.hl()})},T(n,[{key:"out",get:function(){return this.xet}},{key:"aut",get:function(){return this.Pet}},{key:"Qet",get:function(){var t=[];return this.xet&&t.push(this.xet),this.Pet&&this.Pet.ort&&t.push(this.Pet),t}},{key:"Zet",get:function(){return[this.xet,this.Pet].filter(M)}},{key:"D4",get:function(){return xt(this.tN.Px*this.Ktt.C4,1,this.cut)}},{key:"yK",get:function(){return this.fit.yK},set:function(t){this.Eet=NaN,this.Iet=1/0,this.Ret=!1,this.Cet=!0,this.Oet=!0,this.z$.removeEventListener("renditionUpdated",this.Let),this.z$.removeEventListener("YJ",this.OJ),this.Wet(),this.nut(),this.Ktt.Gs(),this.vit.hs(),this.z$.Jf(),this.z$.addEventListener("renditionUpdated",this.Let),this.fit.yK=t,this.YZ()}},{key:"y_",get:function(){return this.Eet}},{key:"wtt",get:function(){return this.z$&&iC.C_(this.z$.sJ)}},{key:"Sg",get:function(){return this.Cet}},{key:"Z$",get:function(){var t=this.Qet;return t.length>0&&t.every(function(t){return t.aJ})}},{key:"C4",get:function(){return this.Ktt.C4},set:function(t){t>0&&(this.Ktt.C4=t)}},{key:"Yit",get:function(){return this.Qet.every(function(t){return t.Yit})}},{key:"wK",get:function(){return this.Qet.length>0&&this.Qet.every(function(t){return t.wK})}},{key:"cut",get:function(){return this.Net},set:function(t){this.Net=t}},{key:"vrt",get:function(){return this.Iet},set:function(t){var n=this;this.Iet=t,this.Zet.forEach(function(t){return t.vrt=n.Iet})}},{key:"Ng",get:function(){return this.Z$?new mO([{uI:this.Stt,oI:this.Rtt}]):kO}},{key:"Stt",get:function(){if(!this.Z$)return 0;for(var t=-1/0,n=0,i=this.Qet;n<i.length;n++){var r=i[n];t=g.max(t,r.XA.Stt.Nw())}return t}},{key:"Rtt",get:function(){if(!this.Z$)return 0;for(var t=1/0,n=0,i=this.Qet;n<i.length;n++){var r=i[n];t=g.min(t,r.XA.Rtt.Nw())}return t}},{key:"Itt",get:function(){if(!this.Z$)return 0;for(var t=1/0,n=0,i=this.Qet;n<i.length;n++){var r=i[n];t=g.min(t,r.XA.Itt.Nw())}return g.max(t,this.Stt)}},{key:"SK",get:function(){return this.xet&&this.xet.lrt||void 0}}]),n}(LD),nL=function(t){function n(n,i){var r;return(r=t.call(this)||this).Eet=NaN,r.Ret=!1,r.Det=null,r.Cet=!0,r.iet=null,r.ret=null,r.gs=function(t){r.dispatchEvent(t)},r.qet=function(t){if(r.z$.P_||(r.z$.P_=r.hut.o$||null),!r.z$.a$){var n=r.z$.c$.iZ[0];n&&(r.z$.a$=n,r.hut.O8(n),r.dispatchEvent({type:"fut",qZ:n}))}t.manifest.isMasterPlaylist||r.z$.a$.UZ(t.manifest),void 0!==t.manifest.duration&&r.Eet!==t.manifest.duration&&(r.Eet=t.manifest.duration,r.dispatchEvent("durationchange")),r.Ret||(r.Ret=!0,r.dispatchEvent("loadedmetadata")),r.Crt(!0),r.dispatchEvent({type:"C8",manifest:t.manifest})},r.Het=function(t){t.Bs.code===UD.AQ?(r.Det||(r.Det=c(r.Vet,pp)),r.Crt(!1)):r.dispatchEvent({type:"Bs",Bs:t.Bs})},r.Vet=function(){r.Wet();var t=r.yK;t&&r.hut.uI(t)},r.Wet=function(){h(r.Det),r.Det=null},r.Yet=function(t){var n=t.qZ;r.XA.ftt(n,n.eY),r.Xp.manifestMetadataTrack&&(r.ret||(r.iet=r.z$.MJ("",r.XA,""),r.ret=new YB(r.iet,r.XA)),r.ret.bo(n))},r.Xp=n,r.z$=new gC(n,!0),r.XA=new kB(n),r.hut=new KP(i,r.Xp),r.XA.addEventListener("Bs",r.gs),r.hut.addEventListener("C8",r.qet),r.hut.addEventListener("Bs",function(t){r.z$.P_?(r.Det||(r.Det=c(r.Vet,pp)),r.Crt(!1)):r.Het(t)}),r.z$.addEventListener("WZ",r.Yet),r}qt(n,t);var i=n.prototype;return i.rut=function(){this.z$.P_||this.hut.uI()},i.sut=function(){return kO},i.Crt=function(t){var n=this.Cet;this.Cet=t,t&&!n?this.dispatchEvent("Sg"):!t&&n&&this.dispatchEvent("uv")},i.Jf=function(){this.Ts(),this.Wet(),this.z$.Jf(),this.hut.Jf(),this.ret=null,this.XA.Jf()},i.bK=function(){},i.kK=function(){},i.iut=function(t){},i.RK=function(t){},T(n,[{key:"yK",get:function(){return this.hut.yK},set:function(t){this.Eet=NaN,this.Ret=!1,this.Wet(),this.z$.Jf(),this.ret=null,this.hut.yK=t,this.Crt(!0)}},{key:"y_",get:function(){return this.Eet}},{key:"wtt",get:function(){return this.z$&&iC.C_(this.z$.sJ)}},{key:"Sg",get:function(){return this.Cet}},{key:"wK",get:function(){return!1}},{key:"Yit",get:function(){return!1}},{key:"SK",get:function(){return[]}}]),n}(LD),iL=1e3,rL="VEE3",eL=function(t){function n(n){var i;return(i=t.call(this,"vut")||this).ptsOffset=n,i}return qt(n,t),n}(Vi),uL=function(t){function n(n){var i;return(i=t.call(this)||this).dut=null,i.lut=0,i._ut="now",i.gut=1,i.wut=!1,i.yut=!1,i.mut=0,i.kut=null,i.Aut=null,i.but=null,i.Tut=null,i.G8=0,i.Eut=0,i.initializePromiseAbortController=new ki,i.Sut=new se,i.Rut={},i.Iut=!1,i.Nut=null,i.Dut=NaN,i.pit=function(){i.w$.Qet.map(function(t){t.pit()})},i.uet=function(){for(var t,n,r,e=0,u=i.w$.Zet;e<u.length;e++){var s=u[e],o=s.uet();if(o){var a=o.oet;a&&a.uJ!==nC.Vf&&(i.Nut=a)}s.tp===tC.Vf?t=o:s.tp===tC.WY&&(n=o,r=s)}(t||n)&&i.dispatchEvent({type:"i$",Cut:t&&t.r$,I$:t&&t.oet,O$:n&&n.r$,R$:n&&n.oet,E$:!!r&&r.ort})},i.bit=function(){null!==i.kut&&h(i.kut),i.kut=c(i.bit,iL),i.w$.Qet.forEach(function(t){return t.bit()})},i.Sit=function(){null!==i.Aut&&h(i.Aut),i.wut&&(i.Aut=c(i.Sit,iL),i.w$.Qet.forEach(function(t){return t.Sit()}))},i.Eit=function(){i.w$.Qet.forEach(function(t){return t.Eit()})},i.Out=function(){if(i.w$.wtt&&i.b_>1){var t=i.w$.Itt;i.xut>t&&(i.b_=1,i.xut>=t+1&&(i.xut="now"))}},i.Put=function(){i.dut&&(0===i.dut.But()?i.xut="now":i.xut=i.Lut(i.x4))},i.Mut=function(){i.mut=i.x4},i.Uut=function(t){i.Fut(),i.dut.error&&(t.error.info.code===rL&&i.Eut<Ap?(i.Eut+=1,i.Hut()):i.dispatchEvent({type:"Bs",error:t.error}))},i.Vut=function(){i.Eut=0},i.Xut=function(){i.removeEventListener("Wut",i.qut),i.wut?i.qut():i.addEventListener("Wut",i.qut)},i.qut=function(){var t=i.x4;i.w$.removeEventListener("Z$",i.Xut),i.w$.Z$?i.w$.Qet.forEach(function(n){return n.Iit(t)}):(i.w$.addEventListener("Z$",i.Xut),i.w$.rut())},i.zut=function(){var t=i.x4;i.w$.Zet.forEach(function(n){return n.Rit(t,i.w$.wtt)})},i.Gut=function(){null!==i.kut&&h(i.kut),i.kut=null,null!==i.Aut&&h(i.Aut),i.Aut=null},i.jut=function(){i.Qut(),i.w$.Z$?i.mK():(i.w$.addEventListener("Z$",i.jut),i.w$.rut())},i.Qut=function(){i.w$.removeEventListener("Z$",i.jut)},i.d$=function(t){i.w$.U8(t.uJ,t.r$||void 0,t.qZ||void 0),t.e$&&i.Yut(t.uJ,t.r$,t.qZ)},i.Zut=function(t){var n=t.G8-i.G8;g.abs(n)>kp&&(i.G8=t.G8,i.x4=i.x4+n)},i.Jut=function(t){var n=t.gJ.metadata;n.eJ&&(i.Rut[t.tp]=n.eJ,i.$ut())},i.$ut=function(){if(i.w$.Z$){var t=_.keys(i.Rut).length===i.w$.Qet.length;if(i.dut&&!i.dut.Kut&&t){var n=i.Sut;i.tst().then(function(){return n.eo()},function(t){return n.uo(t)})}i.dut&&i.G8&&(i.dut.G8=i.G8)}},i.nst=function(){if(m(i.ist))if(i.w$.wtt)i.ist=0;else{var t=i.Nut,n=t&&t.oJ,r=t&&M(n)&&!m(n)&&t.uY(n)||void 0;i.ist=sC(r)?r.r4.Nw():NaN}i.iK&&(i.removeEventListener("i$",i.nst),i.w$.removeEventListener("J5",i.nst),i.dispatchEvent("iK",!0))},i.w$=n,n.c7=jt(i),i}qt(n,t);var i=n.prototype;return i.Hut=function(){this.w$.wtt?this.xut="now":(this.mut+=.5,this.w$.Qet.map(function(t){t.kit(),t.Nit(),t.Dit()}),this.xut=this.mut),this.$ut(),this.dut.play()},i.rst=function(t){var n=this;this.but&&(this.w$.removeEventListener("Z$",this.but),this.but=null),this.w$.Z$?(this.yut=!0,this.Iut=!0,this.w$.eut(t),this.Iut=!1):(this.but=function(){return n.rst(t)},this.w$.rut())},i.est=function(t){this.ust(),this.w$.wtt&&(t="none"),"auto"===t&&this.jut()},i.sst=function(t){var n=this;this.ust(),"none"!==t&&(this.w$.Z$?this.est(t):(this.Tut=function(){return n.est(t)},this.w$.addEventListener("Z$",this.Tut),this.w$.rut()))},i.ust=function(){this.Qut(),this.Tut&&(this.w$.removeEventListener("Z$",this.Tut),this.Tut=null)},i.mK=function(){this.yut?this.w$.iut():(this.xut=this._ut,this.w$.iut(22)),this.wut||(this.wut=!0,this.dispatchEvent("Wut"))},i.ost=function(){this.dut&&(this.dut.addEventListener("ast",this.zut),this.dut.addEventListener("seeking",this.Xut),this.dut.addEventListener("error",this.Uut),this.dut.addEventListener("playing",this.Vut)),this.w$.addEventListener("i$",this.d$),this.w$.addEventListener("qit",this.Put),this.w$.addEventListener("Z$",this.$ut),this.w$.addEventListener("z8",this.Zut),this.w$.addEventListener("pl",this.Xut),this.TK()},i.cst=function(){this.dut&&(this.dut.removeEventListener("ast",this.zut),this.dut.removeEventListener("seeking",this.Xut),this.dut.removeEventListener("error",this.Uut),this.dut.removeEventListener("playing",this.Vut)),this.w$.removeEventListener("i$",this.d$),this.w$.removeEventListener("qit",this.Put),this.w$.removeEventListener("Z$",this.$ut),this.w$.removeEventListener("z8",this.Zut),this.w$.removeEventListener("pl",this.Xut),this.EK()},i.TK=function(){this.dut&&(this.dut.addEventListener("loadstart",this.jut),this.dut.addEventListener("timeupdate",this.pit),this.dut.addEventListener("playing",this.uet),this.dut.addEventListener("timeupdate",this.uet),this.dut.addEventListener("timeupdate",this.Sit),this.dut.addEventListener("timeupdate",this.bit),this.dut.addEventListener("timeupdate",this.Mut),this.dut.addEventListener("timeupdate",this.Out),this.dut.addEventListener("ended",this.Gut)),this.w$.addEventListener("J5",this.Jut),this.w$.addEventListener("J5",this.Eit)},i.EK=function(){null!==this.kut&&h(this.kut),null!==this.Aut&&h(this.Aut),this.dut&&(this.dut.removeEventListener("loadstart",this.jut),this.dut.removeEventListener("timeupdate",this.pit),this.dut.removeEventListener("playing",this.uet),this.dut.removeEventListener("timeupdate",this.uet),this.dut.removeEventListener("timeupdate",this.Sit),this.dut.removeEventListener("timeupdate",this.bit),this.dut.removeEventListener("timeupdate",this.Mut),this.dut.removeEventListener("timeupdate",this.Out),this.dut.removeEventListener("ended",this.Gut)),this.w$.removeEventListener("J5",this.Jut),this.w$.removeEventListener("J5",this.Eit)},i.h7=function(){var t=vn.coroutine(fn.mark(function t(n){var i;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Si(this.Sut.ro,this.initializePromiseAbortController.ds);case 2:return i=this.dut.h7(n),this.dut.loading&&(this.dut.loaded=!0,this.dut.loading=!1),t.next=6,i;case 6:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.fM=function(t,n){this.hst.fM(t,n)},i.mit=function(){var t=vn.coroutine(fn.mark(function t(n,i){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Si(this.Sut.ro,this.initializePromiseAbortController.ds);case 3:return t.next=5,this.dut.mit(n,i);case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),Ai(t.t0)||this.dispatchEvent({type:"Bs",error:t.t0});case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(n,i){return t.apply(this,arguments)}}(),i.tst=function(){var t=vn.coroutine(fn.mark(function t(){var n,i,r,e;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.dut.tst(this.Rut,this.w$.y_);case 2:if(n=t.sent){t.next=5;break}return t.abrupt("return");case 5:for(i=0,r=this.w$.Zet;i<r.length;i++)e=r[i],n.eZ&&(e.$nt=n.eZ),n.uZ&&(e.iit=n.uZ);case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Fut=function(){this.initializePromiseAbortController.hs(),this.initializePromiseAbortController=new ki,this.Sut=new se},i.Lut=function(t){var n=this.Ng;return n.length?xt(t,n.start(0),n.end(n.length-1)):0},i.xit=function(t){var n=this.w$.out;return n?n.xit(t):null},i.Ttt=function(t){var n=this.w$.out;return n?n.Ttt(t):NaN},i.po=function(t){var n=t||"none";this.cst(),this.ost(),this.sst(n)},i.AK=function(){this.ust()},i.Jf=function(){this.Ts(),this.Rut={},this.hst=null},i.hl=function(){this.Fut(),this.fst(),this.Rut={},this.lut=0,this.mut=0,this._ut="now",this.G8=0,this.gut=1,this.wut=!1,this.yut=!1,this.Nut=null,this.w$.hl()},i.Yut=function(t,n,i){if(n){this.dispatchEvent("rK"),this.EK();var r=!1,e=!1,u=!1;if("uZ"===t){e=!0;var s=this.w$.out;s&&s.ort&&(r=!0)}else r=!0,u=!(!i||!i.uri);r&&this.dut.e$("audio"),e&&this.dut.e$("video"),this.w$.Zet.forEach(function(t){t.kit(),r&&t.Nit(),e&&t.Dit()}),this.w$.uut(e,r,u,22),this.w$.Zet.forEach(function(t){return t.Tit()}),this.TK()}},i.Y_=function(){this.EK(),this.w$.wtt&&this.w$.wet()},i.Q_=function(){this.EK(),this.TK(),this.w$.kK()},i.vst=function(t){var n=this.ist||0;return this.hJ?t-n<0?0:g.round((t-n)*this.hJ-.5)||0:NaN},i.dst=function(t){var n=this.ist||0;return this.hJ?n+(t+.5)/this.hJ:NaN},i.fst=function(){this.ist=NaN,this.removeEventListener("i$",this.nst),this.addEventListener("i$",this.nst),this.w$.removeEventListener("J5",this.nst),this.w$.addEventListener("J5",this.nst)},T(n,[{key:"hst",get:function(){return this.dut},set:function(t){this.cst(),this.Fut(),this.Vut(),this.dut=t,this.$ut()}},{key:"x4",get:function(){return this.dut&&!this.Iut?this.dut.But():this.lut},set:function(t){t=this.Lut(t),this.mut=this.lut=t,this.dut?this.dut.lst(t):(this.zut(),this.Xut())}},{key:"xut",get:function(){return this.dut&&!this.Iut?this.x4:this._ut},set:function(t){"now"===t&&(t=this.w$.wtt?1/0:0),t=this.Lut(t),this._ut=t,this.mut=this.lut=t,this.rst(tg.Ly(this.lut)),this.x4=t}},{key:"Jg",get:function(){return this.w$.vrt},set:function(t){this.w$.vrt=t}},{key:"b_",get:function(){return this.dut?this.dut.b_:this.gut},set:function(t){var n=this.gut;t>0&&(this.gut=t,this.dut&&(this.dut.b_=t),this.w$.C4=t,this.gut!==n&&this.dispatchEvent("_st"))}},{key:"Ng",get:function(){var t=this.w$.Ng;if(!t.length||!this.w$.wtt)return t;var n=t.start(0),i=this.w$.Itt;return i=g.max(this.x4,i),new mO([{uI:n,oI:i}])}},{key:"wg",get:function(){return this.xit(this.x4)}},{key:"hJ",get:function(){var t=this.Nut;return t&&t.hJ||NaN}},{key:"ist",get:function(){return this.Dut},set:function(t){this.Dut!==t&&(this.dispatchEvent(new eL(t)),this.Dut=t)}},{key:"iK",get:function(){return Boolean(this.hJ)&&!m(this.ist)}}]),n}(LD),sL=function(t){function n(n){var i;return(i=t.call(this)||this).gst=null,i.wst=[],i.yst=function(t){return i.mst(t)},i.kst=function(){return i.pst()},i.z$=n,i.wst=[],i}qt(n,t);var i=n.prototype;return i.gb=function(t){var n,i;"metadata"===t.kind&&(t.mode=Id.Dl,n=this.z$.BJ(t.id,t.inBandMetadataTrackDispatchType),i=this.Ast.bind(this,n),this.wst.push({bst:t,Tst:i,yJ:n}),t.addEventListener("cuechange",i))},i.qb=function(){for(var t=this.gst.G_,n=t&&t.length,i=0;i<n;i+=1)this.gb(t[i]);t&&t.addEventListener&&(t.addEventListener("addtrack",this.yst),t.addEventListener("change",this.kst))},i.Ast=function(t,n){for(var i=n.target.activeCues,r=i.length,e=r?i[0].startTime:0,u=0;u<r;u++){var s=fI(i[u].value),o=new kI(e,s);t.yb(o)}},i.pst=function(){for(var t=0,n=this.wst;t<n.length;t++){var i=n[t].bst;i.mode!==Id.Dl&&(i.mode=Id.Dl)}},i.mst=function(t){this.gb(t.track)},i.Est=function(){for(var t=this.gst,n=t&&t.G_,i=0,r=this.wst;i<r.length;i++){var e=r[i];e.bst.removeEventListener("cuechange",e.Tst)}this.wst.length=0,n&&n.removeEventListener&&(n.removeEventListener("addtrack",this.yst),n.removeEventListener("change",this.kst))},i.Jf=function(){this.Est(),this.gst=null,this.z$=null,this.yst=null,this.kst=null},i.hl=function(){this.Est(),this.gst&&this.qb()},n}(LD),oL=function(t){function n(n){var i;return(i=t.call(this)||this).dut=null,i._ut=0,i.gut=1,i.uv=!1,i.Sst=null,i.Rst=null,i.Ist=NaN,i.Nst=NaN,i.Dst=null,i.Cst=function(){i.dut.removeEventListener("loadstart",i.Cst),i.dut.removeEventListener("play",i.Cst),i.w$.rut()},i.pit=function(){var t=i.w$.z$.a$;if(t&&(!i.Sst||i.Sst.uI>i.x4||i.Sst.oI<i.x4)){var n=i.w$.XA.w6(t,tg.Ly(i.x4));if(!n)return void i.dut.addEventListener("timeupdate",i.pit);i.Sst={uI:n.btt.Nw(),oI:n.btt.Cg(tg.Ly(n.cp.duration)).Nw(),LQ:n.cp.LQ,tJ:null},i.dispatchEvent({type:"Ait",jA:n.cp})}},i.uet=function(){var t=i.w$.z$,n=t.c$.iZ.length?t.c$.iZ:t.MZ.iZ,r=i.dut.S_,e=i.dut.E_,u=n&&n.filter(function(t){var n=t.resolution;return n&&n.width===r&&n.height===e}),s=u&&u.length?u[0]:null;s!==i.Rst&&(i.Rst=s,i.dispatchEvent({type:"i$",qZ:s}))},i.Ost=function(t){i.dispatchEvent({type:"i$",qZ:t.qZ})},i.xst=function(){if(i.dut){var t=i.dut.Ng,n=t.length?t.end(t.length-1):NaN;isFinite(n)&&n!==i.Nst&&(i.Nst=n,i.Ist=Ub())}},i.Pst=function(){i.uv=!0},i.Bst=function(){i.uv&&(i.uv=!1,i.Lst())},i.w$=n,i.Mst=new sL(n.z$),n.addEventListener("uv",i.Pst),n.addEventListener("Sg",i.Bst),i}qt(n,t);var i=n.prototype;return i.Lut=function(t){var n=this.dut.Ng;return n.length?xt(t,n.start(0),n.end(n.length-1)):0},i.Lst=function(){if(this.dut){var t=this.dut.currentTime,n=this.dut.paused;this.dut.load(),this.dut.currentTime=t,n||this.dut.play()}},i.Ust=function(){this.dut&&(this.dut.addEventListener("loadstart",this.Cst),this.dut.addEventListener("play",this.Cst),this.dut.addEventListener("timeupdate",this.pit),this.dut.addEventListener("timeupdate",this.uet),v(this.Dst),this.Dst=f(this.xst,250))},i.Fst=function(){v(this.Dst),this.dut&&(this.dut.removeEventListener("loadstart",this.Cst),this.dut.removeEventListener("play",this.Cst),this.dut.removeEventListener("timeupdate",this.pit),this.dut.removeEventListener("timeupdate",this.uet))},i.po=function(t){t=t||"none",this.Fst(),this.Ust(),this.w$.removeEventListener("fut",this.Ost),this.w$.addEventListener("fut",this.Ost),"none"!==t&&this.Cst()},i.Jf=function(){this.Ts(),this.Mst.Jf(),this.hst=null,this.w$.removeEventListener("fut",this.Ost)},i.hl=function(){this._ut=0,this.gut=1,this.uv=!1,this.Sst=null,this.Rst=null,this.Ist=NaN,this.Nst=NaN,v(this.Dst),this.Mst.hl()},i.Q_=function(){},i.Y_=function(){},i.AK=function(){},i.Yut=function(){},i.Ttt=function(t){var n=this.w$.z$.a$;return this.w$.XA.Ttt(n,t).Nw()},i.xit=function(t){var n,i,r=this.w$.z$.a$,e=this.w$.XA,u=t,s=this.Sst;if(s)s.tJ||(s.tJ=e.Att(r,s.LQ)),n=s.uI,i=s.tJ;else{var o=e.w6(r,tg.Ly(u));if(!o)return null;n=o.btt.Nw(),i=e.Att(r,o.cp.LQ)}if(!i)return null;var a=u-n;return new Date(i.getTime()+1e3*a)},i.vst=function(t){return NaN},i.dst=function(t){return NaN},T(n,[{key:"Hst",get:function(){return null}},{key:"wg",get:function(){return this.xit(this.x4)}},{key:"hst",get:function(){return this.dut},set:function(t){this.Fst(),this.dut=t,this.dut&&(this.Mst.gst=this.dut,this.Mst.qb())}},{key:"xut",get:function(){return this.dut?this.dut.But():this._ut},set:function(t){"now"===t&&(t=this.w$.wtt?1/0:0),t=this.Lut(t),this._ut=t,this.dut&&this.dut.lst(t)}},{key:"x4",get:function(){return this.xut},set:function(t){t=this.Lut(t),this.xut=t}},{key:"Jg",get:function(){return 1/0},set:function(t){}},{key:"b_",get:function(){return this.dut?this.dut.b_:this.gut},set:function(t){t>0&&(this.gut=t,this.dut&&(this.dut.b_=t))}},{key:"Ng",get:function(){var t,n,i,r=this.dut?this.dut.Ng:null,e=this.w$.XA.Ng;if(r&&r.length&&e.length)t=r.start(0),n=(i=this.Nst||r.end(r.length-1))+this.w$.XA.Ntt.Nw(),isFinite(this.Ist)&&(i+=(Ub()-this.Ist)/1e3);else{if(r&&r.length)return r;if(!e.length)return e;t=r.start(0),n=e.end(e.length-1),i=this.w$.XA.Itt.Nw()}return i=g.min(n,i),i=g.max(this.x4,i),new mO([{uI:t,oI:i}])}},{key:"hJ",get:function(){return NaN}},{key:"ist",get:function(){return NaN}},{key:"iK",get:function(){return!1}}]),n}(LD),aL=function(t){function i(n,i,r,e,u){var s;return(s=t.call(this,n,i,r)||this).Vst=new ki,s.Xst=void 0,s.Wst=function(){return s.qst()},s.xu=v_.WEBVTT,s.Bl=f_.NONE,s.Ul=no(e),s.ps(Kv.Gd,s.Wst),s.lb=u,s}qt(i,t);var r=i.prototype;return r.po=function(){this.Ul&&!this.Xst&&(this.Xst=this.Gv(this.Vst.ds),this.Xst.catch(Ei))},r.Gv=function(){var t=vn.coroutine(fn.mark(function t(n){var i,r,e,u;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.Ul,t.prev=1,this.Bl=f_.LOADING,r=new ff({Rf:i,qf:sf.GET,Af:Ro.pn,ds:n}),t.next=6,this.lb.Ef(r);case 6:return e=t.sent,t.next=9,e.Jn();case 9:u=t.sent,this.b0(e,u),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(1),Ti(t.t0),this.zst($w(t.t0,this.Ul));case 17:case"end":return t.stop()}},t,this,[[1,13]])}));return function(n){return t.apply(this,arguments)}}(),r.AK=function(){this.Bl!==f_.LOADED&&(this.Bl=f_.NONE,this.Vst.hs(),this.Vst=new ki,this.Xst=void 0)},r.zst=function(t){this.Bl=f_.ERROR,this.ys(new Dl(t))},r.Jf=function(){this.AK(),this.Vst.es(),t.prototype.Jf.call(this)},r.qst=function(){switch(this.Pl){case Id.Cl:case Id.Dl:this.po();break;case Id.Nl:this.AK()}},r.b0=function(t,i){try{for(var r=Rg(i).Ll,e=0;e<r.length;e++){var u=r[e];this.yb(u)}this.Bl=f_.LOADED}catch(i){this.zst(new Xw(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Could not parse the "+Kw(this.xu)+" subtitle file.",this.Ul,t.kf,i))}},i}(lR);function cL(t){return Hw(t.kind)}var hL=function(){function t(t,n,i,r){this.Gst=t,this.G_=i,this.jst=n,this.lb=r,this.hl()}var n=t.prototype;return n.Qst=function(t){if(this.Yst(),t)if(this.jst)for(var n=0;n<t.length;n++){var i=t[n];this.lR(i)}else for(var r=0;r<t.length;r++){var e=t[r];this.Zst(e)}},n.lR=function(t){var n=cL(t);if(Yw(n,t.label||""));else{var i=s.createElement("track");i.kind=n,i.label=t.label,i.src=t.src,i.srclang=t.srclang,i.default=!!t.default,this.Gst.appendChild(i)}},n.Zst=function(t){var n=cL(t),i=new aL(n,t.label,t.srclang,t.src,this.lb);t.default&&(i.Pl=Id.Cl),this.G_.ol(i)},n.Yst=function(){for(var t=this.G_.fl,n=t.length-1;n>=0;n--){var i=t[n];"static"===i.Jst&&this.G_.al(i)}},n.$st=function(){this.Yst()},n.hl=function(){this.Yst()},t}(),fL=function(){function t(t){this.dK=t}var n=t.prototype;return n.ps=function(t,n){this.dK.addEventListener(t,n)},n.Es=function(t,n){this.dK.removeEventListener(t,n)},T(t,[{key:"w_",get:function(){return this.dK.currentMonotonicTime}},{key:"A_",get:function(){return this.dK.paused}},{key:"T_",get:function(){return this.dK.seeking}}]),t}(),vL=function(t){function n(n,i){var r;(r=t.call(this)||this).Kst=!0,r.tot=function(t){return r.iot(t)},r.rot=function(){return r.eot()},r.uot=function(){return r.sot()},r.oot=function(){return r.aot()},r.yst=function(t){return r.mst(t.Bd)},r.cot=function(t){return r.hot(t.Bd)},r.fot=function(){return r.vot()},r.dot=n,r.G_=i,r.dot.addEventListener("seeking",r.fot),r.dot.addEventListener("seeked",r.fot),r.lot=new mI(new fL(n));for(var e=0,u=r.G_.fl;e<u.length;e++){var s=u[e];r.mst(s)}return r.G_.ps(Qv.Id,r.yst),r.G_.ps(Qv.Dd,r.cot),r}qt(n,t);var i=n.prototype;return i.iot=function(t){this.G_.ol(t.Bd)},i.eot=function(){for(var t=this.G_.fl,n=t.length-1;n>=0;n--){var i=t[n];"static"!==i.Jst&&this.G_.al(i)}},i.sot=function(){var t=this.hst,n=[],i=t&&t.G_;if(i)for(var r=0;r<i.length;r++){var e=i[r]||i.item(r);if("metadata"!==e.kind){var u=e.THEOplayerTextTrack;if(!u){var s=this.BV(e);u=new dI(e,s,this.bH),e.THEOplayerTextTrack=u,this.G_.ol(u)}n.push(u)}}for(var o=0,a=this.G_.fl;o<a.length;o++){var c=a[o];lI(c)&&-1===n.indexOf(c)&&this.G_.al(c)}},i.BV=function(t){for(var n=this.hst.yg.getElementsByTagName("track"),i=0;i<n.length;i++){var r=n[i]||n.item(i);if(r.track===t)return r}},i.aot=function(){for(var t=0,n=this.G_.fl;t<n.length;t++){var i=n[t];lI(i)&&i.TH()}},i.vot=function(){this._ot()},i.mst=function(t){t instanceof lR&&this.lot.ol(t)},i.hot=function(t){t instanceof lR&&this.lot.al(t)},i._ot=function(){var t=this.G_.fl;if(t.length)for(var n=this.dot.seekable,i=n.length?n.start(0):0,r=0;r<t.length;r++){var e=t[r];if(e instanceof lR){for(var u=[],s=0,o=e.Ll.fl;s<o.length;s++){var a=o[s];if(!(a.Jg<i))break;u.push(a)}for(var c=0;c<u.length;c++){var h=u[c];e.FF(h)}}}},i.Jf=function(){this.dot.removeEventListener("seeking",this.fot),this.dot.removeEventListener("seeked",this.fot);for(var t=0,n=this.G_.fl;t<n.length;t++){var i=n[t];this.hot(i)}this.G_.Es(Qv.Id,this.yst),this.G_.Es(Qv.Dd,this.cot),this.lot.Jf(),this.z$=null,this.hst=null},T(n,[{key:"z$",get:function(){return this.got},set:function(t){var n=this.got;if(n){for(var i=0,r=n.G_;i<r.length;i++){var e=r[i];this.G_.al(e)}n.removeEventListener("LJ",this.tot),n.removeEventListener("Jf",this.rot)}if(this.got=t,t){for(var u=0,s=t.G_;u<s.length;u++){var o=s[u];this.G_.ol(o)}t.addEventListener("LJ",this.tot),t.addEventListener("Jf",this.rot)}}},{key:"hst",get:function(){return this.dut},set:function(t){var n=this.dut;n&&n.G_&&n.G_.removeEventListener&&(n.G_.removeEventListener("addtrack",this.uot),n.G_.removeEventListener("removetrack",this.uot),n.G_.removeEventListener("change",this.oot)),this.dut=t,t&&t.G_&&t.G_.addEventListener&&(t.G_.addEventListener("addtrack",this.uot),t.G_.addEventListener("removetrack",this.uot),t.G_.addEventListener("change",this.oot)),this.sot(),this.aot()}},{key:"bH",get:function(){return this.Kst},set:function(t){if(this.Kst!==t){this.Kst=t;for(var n=0,i=this.G_.fl;n<i.length;n++){var r=i[n];lI(r)&&(r.bH=t)}}}}]),n}(LD),dL=function(){function t(t,n){this.wot=[],this.yot=new Do,this.mot=_n(),this.kot=new ki,this.Qf=!(!t||t.crossOrigin!==qd.n_&&!t.pot),this.Td=n}var n=t.prototype;return n.Aot=function(){var t=vn.coroutine(fn.mark(function t(n,i){var e,u,s,o,a,c,h,f,v;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=r.Ha(n),u=0,s=this.wot;u<s.length;u++)null===(o=s[u]).xn||void 0===o.xn?e.searchParams.delete(o.bot):e.searchParams.set(o.bot,o.xn);return t.prev=2,a=new ff({Rf:e.href,Af:Ro.Vc,pf:this.yot,Qf:this.Qf,qf:sf.GET,ds:i,xu:of.Of,Gf:af.Hf}),t.next=6,this.Td.Ef(a);case 6:return c=t.sent,t.next=9,c.Jn();case 9:return h=t.sent,f=new k(h),v=new k(16),16!==f.length&&rt("AES-128 decryption key length must be 16 bytes, but was "+f.length+" bytes. URL: ",e.href),f.length>16&&(f=ie(f,0,16)),v.set(f,16-f.length),t.abrupt("return",v);case 19:throw t.prev=19,t.t0=t.catch(2),Ti(t.t0),new d('Playback has been stalled due to failure to retrieve encryption key from "'+e.href);case 23:case"end":return t.stop()}},t,this,[[2,19]])}));return function(n,i){return t.apply(this,arguments)}}(),n.getKey=function(t){var n=t.absoluteURI;if(!n)return vn.reject(new FD(UD.IQ,{code:"CAD1603"}));var i=this.mot.get(n);return i||(i=this.Aot(n,this.kot.ds),this.mot.set(n,i)),i},n.Jf=function(){this.kot.hs(),this.mot.clear()},n.Tot=function(t,n){this.wot.push({bot:t,xn:n})},n.Eot=function(t,n){this.yot.append(t,n)},t}(),lL=function(t){this.dot=t},_L=s.createElement("video");var gL=function(t){function n(){return t.apply(this,arguments)||this}return qt(n,t),n.prototype.Wrt=function(t){return!!function(t){return _L.canPlayType('video/mp4;codecs="'+t.codecs+'"')}(t)||(t.disabled="AvoidUnsupportedCodecsRule",!1)},n}(lL);MD._n.NL("AvoidUnsupportedCodecsRule",gL);var wL=function(t){function n(){return t.apply(this,arguments)||this}return qt(n,t),n.prototype.Wrt=function(t,n,i,r){return!("J6"===r.s6)||t.bandwidth<2e6},n}(lL);MD._n.NL("AvoidHighBitrateStreamsRule",wL);var yL=function(t){function n(){return t.apply(this,arguments)||this}qt(n,t);var i=n.prototype;return i.Sot=function(t){if(!t.resolution)return!0;var n=this.dot.element.getBoundingClientRect(),i=u.innerWidth||s.documentElement.clientWidth,e=u.innerHeight||s.documentElement.clientHeight,o=g.max(0,g.min(n.right,i)-g.max(0,n.left)),a=g.max(0,g.min(n.bottom,e)-g.max(0,n.top)),c=r.ld.Ga;return t.resolution.width<=o*c&&t.resolution.height<=a*c},i.Wrt=function(t){return this.Sot(t)},n}(lL);MD._n.NL("AvoidVideoResolutionGreaterThanDisplaySizeRule",yL);var mL=function(t){function n(){return t.apply(this,arguments)||this}return qt(n,t),n.prototype.Wrt=function(t,n,i){if(i.d5<=0)return!1;var r=i&&.8*i.d5;return!(r&&!m(r)&&t.bandwidth)||r>t.bandwidth*this.dot.playbackRate},n}(lL);MD._n.NL("DownloadMetricRule",mL);var kL=function(t){function n(){return t.apply(this,arguments)||this}return qt(n,t),n.prototype.Wrt=function(t){return!0},n}(lL);MD._n.NL("LimitVideoQualityToDisplaySizeRule",kL);var pL=function(t){function n(){return t.apply(this,arguments)||this}return qt(n,t),n.prototype.Wrt=function(t,n){return!n||(n.uJ===nC.Nf||t.uJ===nC.Nf||(n.uJ===nC.PY||t.uJ===nC.PY||n.uJ===t.uJ))},n}(lL);function AL(t){return!!t&&("object"==typeof t&&"src"in t&&"type"in t)}function bL(t,n){var i=n;for(var r in t)V(t[r])?(i[r]=i[r]||{},bL(t[r],i[r])):B.call(i,r)||(i[r]=t[r]);return i}function TL(t,n){var i=bL(n,t||{});return i.crossOrigin=function(t){var n=t&&t.crossOrigin;switch(n){case qd.t_:case qd.n_:break;default:n=qd.i_}return t&&t.withCredentials&&(n=qd.n_),t&&t.vr&&t.vr[360]&&n===qd.i_&&(n=qd.t_),n}(i),i}function EL(t){q(t)&&t.then(j,j)}MD._n.NL("OnlyAllowSameTrackTypeRenditionsRule",pL);var SL,RL=500,IL=["abort","durationchange","ended","loadstart","pause","play","progress","ratechange","seeked","seeking","suspend","timeupdate","volumechange","webkitpresentationmodechanged"],NL=function(t){function n(n,i){var r;return(r=t.call(this)||this).Rot=void 0,r.PS=void 0,r.loading=!1,r.loaded=!1,r.configuration={useNativeVideoPlayback:!0},r.cT=function(){var t=r.XE.nR.error&&r.XE.nR.error.code;t&&r.zst(new FD(UD.EQ,{code:"VEE"+t}))},r.Iot=function(t){r.dispatchEvent({type:t.type,error:r.XE.nR.error})},r.Not=function(){h(r.Rot),r.Rot=void 0,r.XE.nR.removeEventListener("timeupdate",r.Not),r.XE.Es(vl.g_,r.Not)},r.Dot=function(){void 0!==r.Rot&&r.Not(),r.Rot=c(function(){r.XE.nR.currentTime+=.1,r.Not()},RL),r.XE.nR.addEventListener("timeupdate",r.Not),r.XE.ps(vl.g_,r.Not)},r.Cot=function(){switch(r.XE.nR.readyState){case Qd.a_:case Qd.c_:case Qd.h_:r.Dot();break;case Qd.o_:case Qd.s_:}},r.Oot=n,r.XE=i,r}qt(n,t);var i=n.prototype;return i.setup=function(){this.PJ(),this.XE.nR.parentNode!==this.Oot&&this.Oot.appendChild(this.XE.nR),this.loaded=!1,this.XE.nR.preload="metadata",this.XE.nR.addEventListener("play",this.Cot),this.XE.nR.addEventListener("loadeddata",this.Cot),this.dispatchEvent("xot")},i.PJ=function(){for(var t=0;t<IL.length;t++){var n=IL[t];this.XE.nR.addEventListener(n,this.Iot,!0)}this.XE.nR.addEventListener("error",this.cT,!0),this.XE.ps(vl.Qd,this.Iot),this.XE.ps(vl.g_,this.Iot)},i.Pot=function(){for(var t=0;t<IL.length;t++){var n=IL[t];this.XE.nR.removeEventListener(n,this.Iot,!0)}this.XE.nR.removeEventListener("error",this.cT,!0),this.XE.Es(vl.Qd,this.Iot),this.XE.Es(vl.g_,this.Iot)},i.zst=function(t){this.PS=t,this.dispatchEvent({type:"error",error:t})},i.h7=function(){return vn.resolve()},i.load=function(){this.XE.nR.load(),this.loaded=!0},i.unload=function(){return this.Not(),this.Ts(),this.Pot(),this.XE.nR.removeEventListener("play",this.Cot),this.XE.nR.removeEventListener("loadeddata",this.Cot),Qe(this.XE.nR),this.XE.nR},i.play=function(){var t=this.b_;EL(this.XE.nR.play()),this.b_=t},i.pause=function(){this.XE.nR.pause()},i.Z_=function(){this.pause()},i.reset=function(){this.loading=!1,this.loaded=!1;try{this.lst(0)}catch(t){}this.dispatchEvent("reset")},i.ag=function(){return this.XE.nR},i.But=function(){return this.XE.nR.currentTime},i.lst=function(t){this.XE.nR.currentTime=t},i.canPlayCodecs=function(t){return this.XE.nR.canPlayType('video/mp4; codecs="'+t+'"')},T(n,[{key:"Kut",get:function(){return!0}},{key:"yg",get:function(){return this.XE.nR}},{key:"gg",get:function(){return this.XE.nR.buffered}},{key:"R_",get:function(){return this.XE.nR.volume},set:function(t){this.XE.nR.volume=t}},{key:"duration",get:function(){return this.XE.nR.duration}},{key:"muted",get:function(){return this.XE.nR.muted},set:function(t){this.XE.nR.muted=t}},{key:"paused",get:function(){return this.XE.nR.paused}},{key:"played",get:function(){return this.XE.nR.played}},{key:"poster",get:function(){return this.XE.nR.poster},set:function(t){t?this.XE.nR.poster=t:this.XE.nR.removeAttribute("poster")}},{key:"controls",get:function(){return this.XE.nR.controls},set:function(t){t?this.XE.nR.controls=t:this.XE.nR.removeAttribute("controls")}},{key:"ended",get:function(){return this.XE.nR.ended}},{key:"seeking",get:function(){return this.XE.nR.seeking}},{key:"error",get:function(){return this.XE.nR.error}},{key:"width",get:function(){return this.XE.nR.offsetWidth}},{key:"height",get:function(){return this.XE.nR.offsetHeight}},{key:"src",get:function(){return this.XE.nR.src},set:function(t){this.XE.nR.src=t}},{key:"S_",get:function(){return this.XE.nR.videoWidth}},{key:"E_",get:function(){return this.XE.nR.videoHeight}},{key:"G_",get:function(){return this.XE.nR.textTracks}},{key:"wtt",get:function(){return this.XE.nR.duration===1/0}},{key:"Ng",get:function(){var t=this.XE.nR.seekable,n=t.length&&t.start(0)||0,i=t.length&&t.end(t.length-1)||0;return i===1/0&&(i=this.But()||0),new mO([{uI:n,oI:i}])}},{key:"b_",get:function(){return this.XE.nR.playbackRate},set:function(t){t>0&&(this.XE.nR.playbackRate=t)}},{key:"Bl",get:function(){return this.XE.Bl}},{key:"Bot",get:function(){return void 0!==this.XE.nR.webkitSupportsPresentationMode&&this.XE.nR.webkitSupportsPresentationMode("picture-in-picture")}},{key:"Lot",get:function(){return"picture-in-picture"===this.XE.nR.webkitPresentationMode}},{key:"Mot",get:function(){return this.XE.nR.webkitPresentationMode},set:function(t){["inline","picture-in-picture","fullscreen"].indexOf(t)>-1&&this.XE.nR.webkitSetPresentationMode(t)}}]),n}(LD);!function(t){t[t.Uot=0]="Uot",t[t.Fot=1]="Fot",t[t.YG=2]="YG",t[t.Hot=3]="Hot",t[t.Vot=4]="Vot"}(SL||(SL={}));var DL=function(){function t(){this.Xot=!1,this.Wot=null,this.qot=null,this.zot=null,this.Eb=[],this.Got=null}var n=t.prototype;return n.jot=function(){if(!this.Xot)return!1;for(var t=this.Wot,n=this.qot,i=0;i<t.sourceBuffers.length;i++)if(t.sourceBuffers[i]===n)return!0;return!1},n.Qot=function(t){switch(t.xu){case SL.Uot:return this.Yot(t.Jn,t.btt,t.nO);case SL.Fot:return this.Zot(t.Jot);case SL.YG:return this.$ot(t.Kot,t.tat);case SL.Hot:return this.Sb();case SL.Vot:return this.nat(t.nO)}},n.Yot=function(){var t=vn.coroutine(fn.mark(function t(n,i,r){var e;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=this.qot,m(i)||(e.timestampOffset=i),e.appendBuffer(n),t.next=6,this.iat();case 6:r(),t.next=13;break;case 9:throw t.prev=9,t.t0=t.catch(0),r(t.t0),t.t0;case 13:case"end":return t.stop()}},t,this,[[0,9]])}));return function(n,i,r){return t.apply(this,arguments)}}(),n.Zot=function(){var t=vn.coroutine(fn.mark(function t(n){var i,r,e,u,s;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.qot,r=i.buffered,!(r.length>0)){t.next=11;break}if(e=r.start(0),u=g.min(r.end(0),n),!((s=u-e)>.5||u<=n&&s>0)){t.next=11;break}return i.remove(e,u),t.next=11,this.iat();case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.$ot=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r,e,u,s,o;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Wot,r=this.qot,e=r.buffered,!((u=e.length)>0)){t.next=12;break}if(s=g.max(e.start(0),n),o=g.min(e.end(u-1),i),!(o-s>0)){t.next=12;break}return r.remove(s,o),t.next=12,this.iat();case 12:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.Sb=function(){var t=vn.coroutine(fn.mark(function t(){var n,i,r;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.Wot,i=this.qot,n.open&&"open"===n.readyState){t.next=4;break}return t.abrupt("return");case 4:if(t.prev=4,r=i.updating,i.abort(),!r){t.next=10;break}return t.next=10,Gv(i,"updateend");case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(4);case 15:case"end":return t.stop()}},t,this,[[4,12]])}));return function(){return t.apply(this,arguments)}}(),n.nat=function(t){return vn.resolve(t())},n.rat=function(){var t=vn.coroutine(fn.mark(function t(n){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.zU(n)){t.next=5;break}return t.next=3,Pi(100);case 3:t.next=0;break;case 5:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.zU=function(t){var n=this.Wot;if(!n.open||"open"!==n.readyState||!this.jot())return!0;for(var i=0;i<n.sourceBuffers.length;i++)if(n.sourceBuffers[i].updating)return!1;return t?n.endOfStream(t):n.endOfStream(),!0},n.iat=function(){var t=this;return new vn(function(n,i){var r,e=t.qot,u=!1,s=function(){u=!0},o=function(){u=!1,r="error"},a=function(){u=!1,r="aborted"},c=function(){h(),u&&!r?n():i(new d(r))},h=function(){e.removeEventListener("update",s),e.removeEventListener("error",o),e.removeEventListener("abort",a),e.removeEventListener("updateend",c)};e.addEventListener("update",s),e.addEventListener("error",o),e.addEventListener("abort",a),e.addEventListener("updateend",c)})},n.eat=function(){var t=this;this.zot||(0!==this.Eb.length||this.Got)&&this.jot()&&(this.zot=this.uat().then(function(){t.zot=null}))},n.uat=function(){var t=vn.coroutine(fn.mark(function t(){var n;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0;case 1:if(!(this.Eb.length>0)){t.next=9;break}if(this.jot()){t.next=4;break}return t.abrupt("return");case 4:return n=this.Eb.shift(),t.next=7,this.Qot(n);case 7:t.next=1;break;case 9:t.next=16;break;case 11:return t.prev=11,t.t0=t.catch(0),t.next=16,this.rat("decode").catch(j);case 16:if(!this.Got){t.next=26;break}return t.prev=17,t.next=20,this.rat(this.Got.Bs);case 20:t.next=25;break;case 22:t.prev=22,t.t1=t.catch(17);case 25:this.Got=null;case 26:case"end":return t.stop()}},t,this,[[0,11],[17,22]])}));return function(){return t.apply(this,arguments)}}(),n.qb=function(t,n){this.Xot||(this.Xot=!0,this.Wot=t,this.qot=n,this.eat())},n.Cg=function(t,n,i){this.Eb.push({xu:SL.Uot,Jn:t,btt:n,nO:i}),this.eat()},n.sat=function(t,n){this.Eb.push({xu:SL.YG,Kot:t,tat:n}),this.eat()},n.oat=function(t){this.Eb.push({xu:SL.Fot,Jot:t}),this.eat()},n.hs=function(){this.Eb.push({xu:SL.Hot}),this.eat()},n.aat=function(t){this.Eb.push({xu:SL.Vot,nO:t}),this.eat()},n.mit=function(t){this.Got={Bs:t},this.eat()},n.Gs=function(){this.Eb.length=0,this.Got=null},t}();var CL=function(t){function n(n){var i;return(i=t.call(this)||this).qot=null,i.hat=new DL,i.Jg=NaN,i.fat=null,i.gs=function(t){return i.dispatchEvent(t)},i.vat=function(){return i.j5()},i.Wot=n,i.hl(),i}qt(n,t);var i=n.prototype;return i.dat=function(t){if(t)return this.dispatchEvent({type:"error",error:t})},i.h7=function(t,n,i,r){var e=this;if(!this.qot||!n)return vn.resolve();var u=n.initializer.Jn,s=function(t,n){if(!t)return!0;var i=t.length;if(i!==n.length)return!0;for(var r=0;r<i;r+=1)if(t[r]!==n[r])return!0;return!1}(this.fat,u);if(r&&(P.rn||this.hat.hs()),r)if(P.rn);else{var o=t&&t.uI,a=t&&t.uI+t.y_-.5;this.hat.sat(o,a)}return s&&(this.hat.Cg(u,i,this.dat.bind(this)),this.fat=u),new vn(function(t,r){e.hat.Cg(n.m4s.Jn,i,function(n){n?r(n):t()})})},i.hM=function(){var t=this;return new vn(function(n){t.hat.aat(function(){var i=t.gg;i&&i.length&&(t.Jg=i.end(i.length-1)),n()})})},i.tF=function(t){if(!this.qot){try{this.qot=this.Wot.addSourceBuffer(t),this.qot.addEventListener("updatestart",this.gs),this.qot.addEventListener("updateend",this.gs)}catch(t){return this.dispatchEvent({type:"error",error:t}),!1}this.Wot.addEventListener("sourceclose",this.vat),this.hat.qb(this.Wot,this.qot)}return!0},i.jot=function(){for(var t=0;t<this.Wot.sourceBuffers.length;t++)if(this.Wot.sourceBuffers[t]===this.qot)return!0;return!1},i.Ao=function(t){var n=this,i=this.gg;if(!(this.qot&&i&&i.length))return t&&t();this.qot.remove(0,i.end(i.length-1)),t&&this.qot.addEventListener("updateend",function i(r){n.qot.removeEventListener("updateend",i),t()})},i.hl=function(t){this.fat=null,this.Jg=NaN,this.j5(),this.Ao(t)},i.oat=function(t){this.qot&&this.hat.oat(t)},i.mit=function(t){this.qot&&this.hat.mit(t)},i.j5=function(){this.hat.Gs(),"open"===this.Wot.readyState&&this.qot&&this.qot.updating&&this.qot.abort()},T(n,[{key:"gg",get:function(){return this.qot&&this.jot()?new mO(RO(this.qot.buffered)):null}},{key:"LO",get:function(){return this.qot&&this.qot.updating}},{key:"m_",get:function(){var t=this.gg;return!t||!m(this.Jg)&&EO(t,this.Jg)}}]),n}(LD),OL="mp4a.40.34";var xL=function(t){function n(n){var i;return(i=t.call(this)||this).lat=!1,i.RN=function(){var t=i.lat;i.lat=i.LO,!t&&i.lat?i.dispatchEvent("updatestart"):t&&!i.lat&&i.dispatchEvent("updateend")},i.mediasource=n,i.audioTrackBuffer=new CL(n),i.videoTrackBuffer=new CL(n),i.audioTrackBuffer.addEventListener("updatestart",i.RN),i.videoTrackBuffer.addEventListener("updatestart",i.RN),i.audioTrackBuffer.addEventListener("updateend",i.RN),i.videoTrackBuffer.addEventListener("updateend",i.RN),i.hl(),i}qt(n,t);var i=n.prototype;return i.h7=function(){var t=vn.coroutine(fn.mark(function t(n){var i;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.mediasource.open){t.next=2;break}return t.abrupt("return");case 2:return i=[],n.eZ&&i.push(this.audioTrackBuffer.h7(n.metadata.eZ,n.eZ,n.metadata.eZ&&n.metadata.eZ.Y1===OL?n.metadata.eZ.uI:NaN,n.metadata.K2)),n.uZ&&i.push(this.videoTrackBuffer.h7(n.metadata.uZ,n.uZ,NaN,n.metadata.K2)),t.next=7,vn.all(i);case 7:this.m_&&(this.audioTrackBuffer.mit(),this.videoTrackBuffer.mit());case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.mit=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=[],n&&r.push(this.audioTrackBuffer.hM()),i&&r.push(this.videoTrackBuffer.hM()),t.next=5,vn.all(r);case 5:this.m_&&(this.audioTrackBuffer.mit(),this.videoTrackBuffer.mit());case 6:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.qb=function(t){var n,i={};for(var r in t)if(B.call(t,r)){var e=t[r];if(e.uZ){var u='video/mp4; codecs="'+e.uZ+'"';this.videoTrackBuffer.tF(u),i.uZ=this.videoTrackBuffer}if(e.eZ){var s=(n=e.eZ)!==OL||fp?'audio/mp4; codecs="'+n+'"':"audio/mpeg";this.audioTrackBuffer.tF(s),i.eZ=this.audioTrackBuffer}0}return i},i.hl=function(t){var n=!1,i=!1;this.lat=!1,this.audioTrackBuffer.hl(function(){if(n=!0,i&&t)return t()}),this.videoTrackBuffer.hl(function(){if(i=!0,n&&t)return t()})},i.oat=function(t){this.audioTrackBuffer.oat(t),this.videoTrackBuffer.oat(t)},i.j5=function(t){t&&-1===t.indexOf("audio")||this.audioTrackBuffer.j5(),t&&-1===t.indexOf("video")||this.videoTrackBuffer.j5()},T(n,[{key:"gg",get:function(){var t=this.audioTrackBuffer.gg,n=this.videoTrackBuffer.gg;return t&&n?bO(t,n):t||n||kO}},{key:"GL",get:function(){return this.audioTrackBuffer.gg||kO}},{key:"jL",get:function(){return this.videoTrackBuffer.gg||kO}},{key:"LO",get:function(){return this.audioTrackBuffer.LO||this.videoTrackBuffer.LO}},{key:"m_",get:function(){return this.audioTrackBuffer.m_&&this.videoTrackBuffer.m_}}]),n}(LD),PL=1,BL=.05,LL=.01;function ML(t,n){for(var i=n.length,r=0;r<i;r+=1)if(n.start(r)>t)return r;return-1}function UL(t,n,i,r){var e=SO(n,t),u=t;if(!(!r&&e>=0&&t<n.end(e)-BL)){var s,o;do{if((s=ML(t,n))<0)return;t=(o=n.start(s)+LL)+BL}while(n.end(s)-o<BL);for(var a=o-u,c=bO(new mO([{uI:u,oI:o}]),i),h=0;h<c.length;h++)a-=c.end(h)-c.start(h);return r&&e>=0&&(a-=n.end(e)-u),a<PL?o:void 0}}var FL=100,HL=1e-4,VL=500,XL=gp,WL=P.Gt,qL=5,zL=["resize","volumechange"],GL=function(n){function i(t,i){var r;return(r=n.call(this)||this)._at=!0,r.m_=!1,r.gat=!1,r.wat=!1,r.yat=null,r.Bs=!1,r.Wot=null,r.qot=null,r.mat=null,r.Xot=!1,r.kat=0,r.pat=Yp.WI(),r.gut=1,r.Aat=!1,r.lF=!1,r.T_=!1,r.bat=new ki,r.Tat=!1,r.Eat=!1,r.Sat=void 0,r.Rat=null,r.Iat=null,r.Nat=Qd.s_,r.Dat=!1,r.configuration={},r.loading=!1,r.loaded=!1,r.Cat=function(){r.Dat=!1,r.Oat(),r.xat(),r.Pat()},r.Bat=function(){r.Lat(),r.Pat(),r.Mat()},r.VS=function(){r.Uat(),r.Lat(),r.mF()?r.dispatchEvent("playing"):r.Dat=!0},r.Fat=function(){r.Dat=!1,r.Oat(),r.Z_()},r.qU=function(){r.Hat()},r.HS=function(){r.Vat(),r.Mat()},r.bU=function(){var t=r.Nat,n=r.Bl;t!==n&&(r.Nat=n,r.dispatchEvent(new Nl(r.But(),n))),r.Mat()},r.xat=function(){r.kat&&(v(r.kat),r.kat=0,WL&&(r.XE.nR.removeEventListener("timeupdate",r.VV),r.removeEventListener(vl.Qd,r.GV)))},r.Xat=function(){r.kat||(r.kat=f(r.Wat,VL)),WL&&(r.XE.nR.addEventListener("timeupdate",r.VV),r.addEventListener(vl.Qd,r.GV),r.VV()),r.Wat()},r.qat=function(){var t=r.But(),n=EO(r.zat,t);r.XE.A_||r.T_&&!n||r.Gat()||r.Xat()},r.Wat=function(t){if(!(r.Rat||void 0===t&&r.Eat)){var n,i=r.But(),e=r.gg;if(void 0===t){if(void 0===(n=UL(i,e,r.zat,r.gat)))return}else{if(!EO(e,t))return;n=t}var u=function(){r.XE.nR.currentTime=n,r.jat(n),r.xat(),r.Eat=!0};Bt(n,i)?r.Rat=c(function(){r.Rat=null,i=r.But(),Bt(n,i)&&(n+=1e3*VL,u())},VL):u()}},r.OX=function(){var t=r.mat;if(r.Qat(),r.XE.nR.readyState===Qd.s_)return r.mat=t,void r.XE.nR.addEventListener("loadedmetadata",r.OX);g.abs(r.XE.nR.currentTime-t)<HL?r.HS():(r.XE.nR.currentTime=t,r.Eat=!1,r.qU()),r.mat=null,r.gP(r.gut),r.XE.EX(),r.Yat(t)&&r.Z_()},r.Zat=function(){if(!r.gat){var t=r.XE.nR,n=r.gg,i=t.currentTime;r.Jat(n,i)&&(r.gat=!0,r.Lat(),i=t.currentTime,r.Jat(n,i)?r.gat=!0:r.gat=!1,r.bU()),r.Iat=i}},r.Uat=function(){r.Oat(),r.yat=f(r.Zat,FL)},r.Oat=function(){r.gat=!1,v(r.yat)},r.$at=function(){r.gat&&(r.gat=!1,r.bU())},r.VV=function(){var t=r.qot;if(t)if(t.m_)r.XV();else{var n=t.GL,i=t.jL;if(0!==n.length&&0!==i.length){var e=r.But();if(e<n.start(0)||e<i.start(0))r.XV();else EO(n,e)!==EO(i,e)?r.WV():r.XV()}else r.XV()}},r.GV=function(){if(!(r.T_||r.Eat||r.XE.nR.seeking||r.Bl>=Qd.c_)){var t=r.qot;if(t){var n=r.But(),i=Yp.HI(t.GL),e=Yp.HI(t.jL);if(i.kR(n)&&e.kR(n))i.EI(e).DI(n-qL,n)&&(r.XE.nR.currentTime=n,r.Eat=!0)}}},r.Kat=function(){r.Wot.open=!0,r.Wot.removeEventListener("sourceopen",r.Kat),r.Wot.removeEventListener("webkitsourceopen",r.Kat)},r.cT=function(t){var n=r.XE.nR.error&&r.XE.nR.error.code;n&&r.zst(new FD(UD.EQ,{code:"VEE"+n}))},r.gs=function(t){r.dispatchEvent({type:t.type})},r.tct=function(){r.qot&&r.qot.m_&&r.dispatchEvent("durationchange")},r.nct=function(){r.removeEventListener("ict",r.nct),r.Tat=!1,r.rct(r.gut)},r.ect=t,r.XE=i,r}qt(i,n);var r=i.prototype;return r.rct=function(t){this.lF&&(t=0),this.XE.b_=t,0!==t||XL?this.Aat&&(this.Aat=!1,EL(this.XE.Q_())):(this.Aat=!this.XE.A_||this.Aat,this.XE.Y_()),this.Pat()},r.gP=function(t){this.gut=t,this.Tat||this.rct(t)},r.uct=function(t){var n=SO(this.zat,t);return-1===n?null:this.zat.end(n)},r.Hat=function(){this.Eat||this.T_||(this.T_=!0,this.dispatchEvent("seeking"))},r.Vat=function(){this.Eat=!1,this.sct(),this.T_&&(this.T_=!1,this.dispatchEvent("seeked")),this.qat()},r.Lat=function(){this.Eat||this.qat()},r.sct=function(){this.Sat&&(h(this.Sat),this.Sat=void 0)},r.jat=function(t){var n=this;this.Sat=c(function(){n.Wat(t+2)},750)},r.Mat=function(){this.Dat&&this.mF()&&(this.Dat=!1,this.dispatchEvent("playing"))},r.Pat=function(){var t=this._at,n=this.paused;this._at=n,t&&!n?this.dispatchEvent("play"):!t&&n&&this.dispatchEvent("pause")},r.fM=function(t,n){if(!(t+.001>n)){var i=new Yp([t,n]);this.pat=this.pat.TI(i).SI(Yp.HI(this.gg)),this.pat.kR(this.But())&&this.qat()}},r.Yat=function(t){return t>=this.XE.nR.duration-(this.paused?0:.5)},r.act=function(t){return m(this.XE.nR.duration)||(t=g.min(t,this.XE.nR.duration)),g.max(0,t)},r.Qat=function(){this.mat=null,this.XE.nR.removeEventListener("loadedmetadata",this.OX)},r.pF=function(){return this.Bl<Qd.c_},r.mF=function(){return!(this.paused||this.ended||this.error||this.pF())},r.Jat=function(t,n){var i=function(t,n){for(var i=n.length,r=0;r<i;r+=1){if(n.start(r)>t)return r;if(t<n.end(r)-BL)return r}return-1}(n,t),r=i<0?0:t.end(i),e=i<0?0:t.start(i);if(this.Iat&&this.Iat===n){if(this.Yat(n))return!1;if(e>n||r-n<1/6)return!0}return!1},r.WV=function(){this.lF||(this.lF=!0,this.rct(0),this.bU())},r.XV=function(){this.lF&&(this.lF=!1,this.gP(this.gut),this.XE.nR.currentTime=this.XE.nR.currentTime,this.bU())},r.cct=function(){var t=this.XE.nR;t.addEventListener("timeupdate",this.$at),this.XE.ps(So.Ac,this.Cat),this.XE.ps(So.bc,this.Bat),this.XE.ps(So.lc,this.Fat),t.addEventListener("seeking",this.qU),t.addEventListener("seeked",this.HS);for(var n=0;n<zL.length;n++){var i=zL[n];t.addEventListener(i,this.gs)}t.addEventListener("error",this.cT),t.addEventListener("durationchange",this.tct),this.XE.ps(So.Lc,this.gs),this.XE.ps(vl.Qd,this.bU),this.XE.ps(vl.g_,this.VS)},r.hct=function(){var t=this.XE.nR;t.removeEventListener("timeupdate",this.$at),this.XE.Es(So.Ac,this.Cat),this.XE.Es(So.bc,this.Bat),this.XE.Es(So.lc,this.Fat),t.removeEventListener("seeking",this.qU),t.removeEventListener("seeked",this.HS);for(var n=0;n<zL.length;n++){var i=zL[n];t.removeEventListener(i,this.gs)}t.removeEventListener("error",this.cT),t.removeEventListener("durationchange",this.tct),this.XE.Es(So.Lc,this.gs),this.XE.Es(vl.Qd,this.bU),this.XE.Es(vl.g_,this.VS)},r.fct=function(){var n=this.XE.nR,i=u.MediaSource||u.WebKitMediaSource||null;null!==i?t.URL&&t.URL.createObjectURL||t.webkitURL&&t.webkitURL.createObjectURL||t.createObjectURL?(this.vct(),this.Wot=new i,this.Wot.addEventListener("sourceopen",this.Kat),this.Wot.addEventListener("webkitsourceopen",this.Kat),n.src=rO(this.Wot),n.load()):this.zst(new FD(UD.RQ,{code:"MVE2720"})):this.zst(new FD(UD.RQ,{code:"MVE2650"}))},r.vct=function(){if(this.Xot=!1,this.qot&&(this.qot.hl(),this.qot=null),this.Wot){this.bat.hs();var t=this.XE.nR;t.src&&(eO(t.src),Qe(t)),this.Wot=null}},r.setup=function(){this.fct(),this.cct(),this.XE.nR.parentNode!==this.ect&&this.ect.appendChild(this.XE.nR)},r.zst=function(t){this.Bs=t,this.dispatchEvent({type:"error",error:t})},r.Gat=function(){return this.qot&&this.qot.LO},r.dct=function(t){var n=this.But()-g.max(30,3*t.qZ.eY.targetDuration);this.dispatchEvent("ict"),this.qot&&!t.J2&&this.qot.oat(n),this.qat()},r.h7=function(t){if(!this.Wot.open||"closed"===this.Wot.readyState)return vn.reject("lct");if(!this.qot)return vn.reject("_ct");var n=this.gct(t);return this.wat||(this.wat=!0,this.dispatchEvent({type:"canplay"},!0)),n},r.gct=function(){var t=vn.coroutine(fn.mark(function t(n){var i,r;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.metadata,(r=[]).push(this.qot.h7(n)),i.J2&&r.push(this.mit(!!n.eZ,!!n.uZ)),n=null,t.next=7,vn.all(r);case 7:this.dct(i);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.mit=function(t,n){return this.Wot.open&&"closed"!==this.Wot.readyState?this.qot?this.qot.mit(t,n):vn.reject("_ct"):vn.reject("lct")},r.play=function(){var t=this.XE.b_;this.m_=!1,0!==this.XE.b_||XL?(EL(this.XE.Q_()),this.XE.EX(),this.XE.b_=t):this.Aat=!0,this.Pat()},r.pause=function(){0!==this.XE.b_||XL?this.XE.Y_():this.Aat=!1,this.Pat()},r.Z_=function(){this.m_||(this.m_=!0,this.XE.Y_(),this.dispatchEvent("ended"))},r.load=function(){this.dispatchEvent("loadstart"),this.loaded=!0},r.unload=function(){return v(this.yat),this.yat=null,this.xat(),this.Qat(),this.vct(),this.hct(),this.Ts(),this.XE.nR},r.reset=function(){v(this.yat),this.yat=null,this.xat(),this.Qat(),this._at=!0,this.m_=!1,this.gat=!1,this.wat=!1,this.Bs=!1,this.T_=!1,this.Dat=!1,this.XV(),this.fct(),this.loading=!1,this.loaded=!1,this.dispatchEvent("reset")},r.ag=function(){return this.XE.nR},r.But=function(){return null===this.mat?this.XE.nR.currentTime:this.mat},r.lst=function(t){var n=this.uct(t);t=this.act(t),this.gat=!1,this.XE.nR.error&&(this.wat=!1,this.Bs=!1,this.fct()),this.m_&&(this.m_=this.Yat(t)),this.xat(),null!==n&&(t=n),this.Qat(),this.mat=t,this.T_=!0,this.dispatchEvent("ast"),this.dispatchEvent("seeking"),this.OX()},r.wct=function(t){return this.Wot.open?vn.resolve(null):Gv(this.Wot,"sourceopen",t)},r.yct=function(t,n){n>0&&(this.Wot.duration=n),this.qot=new xL(this.Wot);var i=this.qot.qb(t);return this.dispatchEvent("xot"),this.qot.addEventListener("updatestart",this.xat),this.qot.addEventListener("updateend",this.qat),this.Xot=!0,this.dispatchEvent("Xot"),i},r.tst=function(t,n){var i=this;return this.bat.hs(),this.bat=new ki,this.qot?vn.resolve(null):this.wct(this.bat.ds).then(function(){return i.yct(t,n)})},r.e$=function(t){P.rn&&(this.Tat=!0,this.rct(0),this.removeEventListener("ict",this.nct),this.addEventListener("ict",this.nct),this.qot&&this.qot.j5(t))},r.canPlayCodecs=function(t){return this.XE.nR.canPlayType('video/mp4; codecs="'+t+'"')},T(i,[{key:"zat",get:function(){return this.pat.pR()}},{key:"Bl",get:function(){var t=this.XE.Bl;return t>Qd.a_&&(this.gat||this.lF)?Qd.a_:t}},{key:"yg",get:function(){return this.XE.nR}},{key:"gg",get:function(){return this.qot?this.qot.gg:this.XE.nR.buffered}},{key:"GL",get:function(){return this.qot?this.qot.GL:kO}},{key:"jL",get:function(){return this.qot?this.qot.jL:kO}},{key:"volume",get:function(){return this.XE.nR.volume},set:function(t){this.XE.nR.volume=t}},{key:"duration",get:function(){return this.XE.nR.duration}},{key:"muted",get:function(){return this.XE.nR.muted},set:function(t){this.XE.nR.muted=t}},{key:"paused",get:function(){return this.XE.A_&&!this.Aat}},{key:"played",get:function(){return this.XE.nR.played}},{key:"poster",get:function(){return this.XE.nR.poster},set:function(t){t?this.XE.nR.poster=t:this.XE.nR.removeAttribute("poster")}},{key:"controls",get:function(){return this.XE.nR.controls},set:function(t){t?this.XE.nR.controls=t:this.XE.nR.removeAttribute("controls")}},{key:"ended",get:function(){return this.m_}},{key:"seeking",get:function(){return this.T_}},{key:"error",get:function(){return this.Bs||this.XE.nR.error}},{key:"width",get:function(){return this.XE.nR.offsetWidth||this.XE.nR.parentNode.offsetWidth}},{key:"height",get:function(){return this.XE.nR.offsetHeight||this.XE.nR.parentNode.offsetHeight}},{key:"b_",get:function(){return this.gut},set:function(t){var n=this.gut;t>0&&(this.gP(t),this.gut!==n&&this.dispatchEvent("ratechange"))}},{key:"S_",get:function(){return this.XE.nR.videoWidth||0}},{key:"E_",get:function(){return this.XE.nR.videoHeight||0}},{key:"Kut",get:function(){return this.Xot}}]),i}(LD),jL=["seeked","seeking","playing","pause","play","resize","warning","ended","durationchange","mct","e$",vl.Qd],QL=.04,YL=.25,ZL=4,JL=.75,$L=1.5,KL=.25,tM=function(t){function n(){var n;return(n=t.call(this)||this).kct=null,n.pct=null,n.QI=!1,n.$I=1,n.ZI=1,n.Act=null,n.bct=void 0,n.Iot=function(t){n.dispatchEvent(t)},n.Tct=function(t){n.pct||n.dispatchEvent(t)},n.Ect=function(t){var i=t.error||n.pct.error;n.audioStream=null,n.Act=i.message||i.toString(),n.dispatchEvent({type:"warning",warning:n.Act})},n.Sct=function(){n.pct&&!n.pct.loaded||n.kct&&!n.kct.loaded||(n.pct&&(n.pct.removeEventListener("loaded",n.Sct),n.pct.play()),n.kct&&(n.kct.removeEventListener("loaded",n.Sct),n.kct.play()))},n.Rct=function(){n.Ict(),n.pct&&n.kct&&(n.pct.addEventListener("timeupdate",n.Nct),n.kct.addEventListener("timeupdate",n.Nct))},n.Ict=function(){h(n.bct),n.pct&&n.pct.removeEventListener("timeupdate",n.Nct),n.kct&&(n.kct.b_=n.ZI,n.kct.removeEventListener("timeupdate",n.Nct))},n.Dct=function(){n.Bl<Qd.c_&&n.Ict()},n.Nct=function(){if(h(n.bct),n.pct&&n.kct){var t=n.pct.b_,i=n.pct.But()-n.kct.But(),r=g.max(ZL,$L*t),e=g.min(YL,JL*t);if(g.abs(i)<QL)n.kct.b_!==t&&(n.kct.b_=t);else{var u=KL,s=t*(i/u+1);(s<e||s>r)&&(u=i/((s=i>0?r:e)/t-1)),n.kct.b_=s,n.bct=c(n.Nct,1e3*u)}}else n.Ict()},n.addEventListener("playing",n.Rct),n.addEventListener("ended",n.Ict),n.addEventListener(vl.Qd,n.Dct),n}qt(n,t);var i=n.prototype;return i.KJ=function(t,n){n?(t.addEventListener("timeupdate",this.Iot),t.addEventListener("error",this.Ect)):(t.addEventListener("timeupdate",this.Tct),t.addEventListener("error",this.Iot));for(var i=0;i<jL.length;i++){var r=jL[i];t.addEventListener(r,this.Iot)}},i.Rs=function(t){t.removeEventListener("timeupdate",this.Iot),t.removeEventListener("timeupdate",this.Tct),t.removeEventListener("timeupdate",this.Nct),t.removeEventListener("error",this.Iot),t.removeEventListener("error",this.Ect),t.removeEventListener("loaded",this.Sct);for(var n=0;n<jL.length;n++){var i=jL[n];t.removeEventListener(i,this.Iot)}},i.Cct=function(t){this.pct&&this.pct.Cct(t),this.kct&&this.kct.Cct(t)},i.play=function(){if(this.pct&&!this.pct.loaded||this.kct&&!this.kct.loaded)return this.pct&&this.pct.addEventListener("loaded",this.Sct),void(this.kct&&this.kct.addEventListener("loaded",this.Sct));this.Sct()},i.pause=function(){this.pct&&(this.pct.removeEventListener("loaded",this.Sct),this.pct.pause()),this.kct&&(this.kct.removeEventListener("loaded",this.Sct),this.kct.pause()),this.Ict()},i.load=function(t){t?(-1!==t.indexOf("audio")&&this.pct&&this.pct.load(),-1!==t.indexOf("video")&&this.kct&&this.kct.load()):(this.pct&&this.pct.load(),this.kct&&this.kct.load())},i.Jf=function(t){this.Ts(),this.Act=null,t?(-1!==t.indexOf("audio")&&this.pct&&(this.pct.Jf(),this.pct=null),-1!==t.indexOf("video")&&this.kct&&(this.kct.Jf(),this.kct=null)):(this.pct&&(this.pct.Jf(),this.pct=null),this.kct&&(this.kct.Jf(),this.kct=null))},i.e$=function(t){this.pct&&this.pct.pause(),this.kct&&this.kct.pause(),this.Ict(),t&&-1===t.indexOf("audio")||!this.pct||this.pct.e$(),t&&-1===t.indexOf("video")||!this.kct||this.kct.e$()},i.h7=function(t){this.pct&&t.eZ&&this.pct.h7(t),this.kct&&t.uZ&&this.kct.h7(t)},i.Oct=function(t){return this.kct?this.kct.Oct(t):""},i.xct=function(){return this.kct?this.kct.xct():0},i.Pct=function(){return this.kct?this.kct.Pct():0},i.ag=function(){return this.kct&&this.kct.ag()},i.But=function(){return this.pct?this.pct.But():this.kct?this.kct.But():NaN},i.lst=function(t,n){this.pct&&this.pct.lst(t,n),this.kct&&this.kct.lst(t,n)},T(n,[{key:"gg",get:function(){return this.pct&&this.kct?bO(this.pct.gg,this.kct.gg):this.pct?this.pct.gg:this.kct?this.kct.gg:kO}},{key:"volume",get:function(){return this.$I},set:function(t){this.$I!==t&&(this.$I=t,this.pct&&(this.pct.volume=t),this.dispatchEvent("volumechange"))}},{key:"duration",get:function(){return this.pct&&this.pct.duration||this.kct&&this.kct.duration||NaN}},{key:"muted",get:function(){return this.QI},set:function(t){this.QI!==t&&(this.QI=t,this.pct&&(this.pct.muted=t),this.dispatchEvent("volumechange"))}},{key:"loaded",get:function(){return!(!this.pct&&!this.kct)&&(!(this.pct&&!this.pct.loaded)&&!(this.kct&&!this.kct.loaded))}},{key:"paused",get:function(){return!this.pct&&!this.kct||(this.pct&&this.pct.paused||this.kct&&this.kct.paused||!1)}},{key:"ended",get:function(){return this.pct&&this.pct.ended||this.kct&&this.kct.ended||!1}},{key:"seeking",get:function(){return this.pct&&this.pct.seeking||this.kct&&this.kct.seeking||!1}},{key:"error",get:function(){return this.pct&&this.pct.error||this.kct&&this.kct.error}},{key:"warning",get:function(){return this.Act||this.pct&&this.pct.warning||this.kct&&this.kct.warning}},{key:"audioStream",get:function(){return this.pct},set:function(t){this.pct&&(this.Rs(this.pct),this.pct.Jf()),this.pct=t,this.pct&&(this.pct.volume=this.$I,this.pct.muted=this.QI,this.pct.b_=this.ZI,this.KJ(this.pct,!0))}},{key:"videoStream",get:function(){return this.kct},set:function(t){this.kct&&(this.Rs(this.kct),this.kct.Jf()),this.kct=t,this.kct&&(this.kct.b_=this.ZI,this.KJ(this.kct,!1))}},{key:"b_",get:function(){return this.ZI},set:function(t){this.ZI!==t&&(t<0||(this.ZI=t,this.pct&&(this.pct.b_=t),this.kct&&(this.kct.b_=t),this.dispatchEvent("ratechange")))}},{key:"Bl",get:function(){return this.pct&&this.kct?g.min(this.pct.Bl,this.kct.Bl):this.pct?this.pct.Bl:this.kct?this.kct.Bl:Qd.s_}},{key:"S_",get:function(){return this.kct?this.kct.S_:0}},{key:"E_",get:function(){return this.kct?this.kct.E_:0}}]),n}(LD),nM=function(){function t(t,n,i,r){var e=this;this.Zg=void 0,this.Ef=0,this.zf=0,this.running=!1,this.Bct=function(t){return e.bo(t)},this.Lct=t,this.Mct=n,this.y_=i,this.nO=r,this.Uct=t.Ws(),this.Fct=(n-this.Uct)/(i||1)}var n=t.prototype;return n.Hct=function(){return this.Lct.ic(this.Mct),this.running=!1,this.Vct(),this.nO()},n.uI=function(){var t=this;this.running=!0,this.y_?this.Xct():BD(function(){t.running&&t.Hct()})},n.bo=function(t){if(this.Vct(),this.running){void 0===this.Zg&&(this.Zg=t);var n=this.Uct,i=this.Fct,r=this.Mct,e=this.Lct,u=n+g.max(0,t-this.Zg)*i;if(n>=r&&u<=r||n<r&&u>=r)return this.Hct();if(e.ic(u))return this.Hct();this.Xct()}},n.Xct=function(){this.Ef=sT(this.Bct),this.zf=rT(this.Bct)},n.Vct=function(){oT(this.Ef),uT(this.zf)},t}();var iM=function(t){function n(n,i){var r;return(r=t.call(this)||this).Wct=null,r.qct=null,r.zct=NaN,r.Gct=!1,r.jct=!1,r.Qct=1,r.Yct=void 0,r.Zct=void 0,r.Jct=function(t){r.$ct(t)||r.dispatchEvent(t)},r.Kct=n,r.ba=i,r}qt(n,t);var i=n.prototype;return i.pause=function(){this.Kct.pause()},i.play=function(){EL(this.Kct.play()),this.tht()},i.nht=function(t){if(!(this.Bl<Qd.c_))return this.j5(),this.Gct=!0,this.Jct({type:"canplay"}),t&&t();this.Yct=c(this.Zct,100)},i.po=function(t){this.jct=!0,this.Gct=!1,this.Kct.removeEventListener("canplay",this.Zct),this.Zct=this.nht.bind(this,t),this.Kct.addEventListener("canplay",this.Zct),this.Kct.load(),this.Yct=c(this.Zct,100)},i.j5=function(){this.jct=!1,this.Kct.removeEventListener("canplay",this.Zct),void 0!==this.Yct&&(h(this.Yct),this.Yct=void 0)},i.iht=function(t){if(this.pause(),this.j5(),null===t)return this.Wct=null,void(this.Gct=!1);this.Gct=!1,this.qct&&this.qct.S6(this.Kct.src),this.qct=t[this.ba],this.Kct.src=this.qct.R6,this.Wct=t},i.ag=function(){return this.Kct},i.rht=function(t){this.zct=g.max(t||0,0),this.Kct.currentTime=this.zct},i.eht=function(){return this.Kct.currentTime},i.uht=function(t){var n=this.Wct&&this.Wct.metadata,i=n&&n.uI,r=n&&n[this.ba].uI,e=n&&n[this.ba].y_;return!!this.k0&&(!(t<i)&&t<r+g.min(e,this.Kct.duration))},i.tht=function(){this.Qct!==this.Kct.playbackRate&&(this.Kct.playbackRate=this.Qct,wp&&this.Qct>0&&this.Bl!==Qd.s_&&(this.Kct.currentTime=this.Kct.currentTime))},i.$ct=function(t){return!!(wp&&"seeked"===t.type&&g.abs(this.Kct.currentTime-this.zct)>.04)},i.addEventListener=function(n,i){this.gQ(n)||this.Kct.addEventListener(n,this.Jct),t.prototype.addEventListener.call(this,n,i)},i.removeEventListener=function(n,i){t.prototype.removeEventListener.call(this,n,i),this.gQ(n)||this.Kct.removeEventListener(n,this.Jct)},i.Ts=function(){for(var n=0,i=this.wQ();n<i.length;n++){var r=i[n];this.Kct.removeEventListener(r,this.Jct)}t.prototype.Ts.call(this)},i.unload=function(){this.qct&&this.qct.S6(this.Kct.src),this.Ts()},T(n,[{key:"volume",get:function(){return this.Kct.volume},set:function(t){this.Kct.volume=t}},{key:"muted",get:function(){return this.Kct.muted},set:function(t){this.Kct.muted=t}},{key:"style",get:function(){return this.Kct.style}},{key:"uI",get:function(){return this.Wct?this.Wct.metadata[this.ba].uI:NaN}},{key:"oI",get:function(){return this.Wct?this.uI+this.Wct.metadata[this.ba].y_:NaN}},{key:"sht",get:function(){return this.Wct?this.uI+this.oht:NaN},set:function(t){this.Wct?this.oht=t-this.uI:this.oht=0}},{key:"oht",get:function(){return this.eht()},set:function(t){this.rht(t)}},{key:"aht",get:function(){return this.Wct},set:function(t){this.iht(t)}},{key:"b6",get:function(){return this.Wct&&this.Wct.metadata.J2}},{key:"k0",get:function(){return!(!this.Gct||!this.Wct)}},{key:"cht",get:function(){return!(!this.jct||!this.Wct)}},{key:"b_",get:function(){return this.Qct},set:function(t){t>=0&&this.Qct!==t&&(this.Qct=t,this.tht())}},{key:"A_",get:function(){return this.Kct.paused}},{key:"m_",get:function(){return this.Kct.ended}},{key:"Bs",get:function(){return this.Kct.error}},{key:"S_",get:function(){return this.Kct.videoWidth}},{key:"E_",get:function(){return this.Kct.videoHeight}},{key:"Bl",get:function(){return this.Kct.readyState}}]),n}(LD);function rM(t,n){return i=t.aht.metadata.qZ,r=n.aht.metadata.qZ,i.bandwidth&&r.bandwidth&&H_(i.bandwidth,r.bandwidth)||i.resolution&&r.resolution&&H_(i.resolution.width*i.resolution.height,r.resolution.width*r.resolution.height)||F_(i.LQ,r.LQ)||H_(t.oI,n.oI);var i,r}function eM(t){return{uI:t.uI,oI:t.oI}}function uM(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.uI<=n&&n<r.oI)return i}return-1}function sM(t,n,i){return{uI:n?i.metadata.d6:i.metadata[t].uI,oI:i.metadata[t].uI+i.metadata[t].y_}}function oM(t,n,i){return new mO([sM(t,n,i)])}function aM(t,n,i){for(var r=[],e=0;e<i.length;e++){var u=i[e];r.push(sM(t,n,u))}return AO(new mO(r))}function cM(t,n,i){if(!n)return!1;var r=n.metadata[t].uI,e=r+n.metadata[t].y_;return r<=i&&i<=e}function hM(t,n){var i=SO(t,n);return i<0?n:t.end(i)}var fM=function(){function t(t){this.$0=[],this.hht=kO,this.fht=kO,this.xu=t}var n=t.prototype;return n.h7=function(t){var n,i;this.$0=function(t,n){for(var i=[],r=function(t,n,r){var e=i.length&&i[i.length-1];e&&e.aht===t?e.oI=r:i.push({aht:t,uI:n,oI:r})},e=0;e<t.length;e++){var u=t[e];if(u.oI<=n.uI)r(u.aht,u.uI,u.oI);else if(u.uI>=n.oI)n.uI<n.oI&&(r(n.aht,n.uI,n.oI),n.uI=n.oI),r(u.aht,u.uI,u.oI);else{var s=void 0,o=void 0;rM(n,u)>=0?(s=u,o=n):(s=n,o=u);var a=s.uI,c=o.uI,h=g.min(o.oI,u.oI),f=g.min(s.oI,u.oI);a<c&&r(s.aht,a,c),c<h&&r(o.aht,c,h),h<f&&r(s.aht,h,f),n.uI=g.max(n.uI,u.oI)}}return n.uI<n.oI&&r(n.aht,n.uI,n.oI),i}(this.$0,function(t,n){var i=n.metadata[t].uI;return{aht:n,uI:i,oI:i+n.metadata[t].y_}}(this.xu,t)),this.hht=IO(this.hht,oM(this.xu,!1,t)),this.fht=IO(this.fht,oM(this.xu,!0,t)),this.fht=(n=this.fht,i=this.hht,bO(n,TO(i)))},n.vht=function(t){t=this.dht(t);var n=uM(this.$0,t);return n>=0?this.$0[n].aht:null},n._ht=function(t,n,i,r){t=this.dht(t);var e=this.$0,u=uM(e,t);if(u<0)return null;var s=e[u];if(!i||!cM(this.xu,i,t))return r&&cM(this.xu,r,t)?null:s.aht;if(i!==s.aht){if(r&&r===s.aht)return null;if(s.oI-t>n)return s.aht}for(var o=u+1;o<e.length;o++){var a=e[o];if(r&&r===a.aht)return null;if(a.oI-t>n)return a.aht;for(var c=[i],h=o+1;h<e.length;h++)c.push(e[h].aht);var f=aM(this.xu,!1,c);c.push(a.aht);var v=aM(this.xu,!1,c);if(hM(f,t)<hM(v,t))return a.aht}return null},n.ght=function(t,n){for(var i=this.$0,r=i.length-1;r>=0;r--){var e=i[r];(e.oI<=t||e.uI>=n)&&di(i,r)}},n.hl=function(){this.$0.length=0,this.hht=kO,this.fht=kO},n.dht=function(t){var n=UL(t,this.gg,this.fht,!1);return void 0===n?t:n},T(t,[{key:"gg",get:function(){var t=this.$0.map(eM);return AO(new mO(t))}}]),t}(),vM=5,dM=30,lM=function(t){function n(n,i){var r,e;(r=t.call(this)||this).Ko={eZ:{wht:100,yht:100,mht:100},uZ:{wht:500,yht:100,mht:200}},r.PS=null,r.Act=null,r.kht=null,r.pht=null,r.Aht=0,r.bht=null,r.Tht=!1,r.vj=!1,r.Eht=0,r.Sht=0,r.Rht=Qd.s_,r.oat=function(){var t=r.But();r.Iht.ght(t-vM,t+dM)},r.Nht={Dht:(e=jt(r),{po:function(){e.Cht.addEventListener("ended",this.Oht),e.xht.addEventListener("ended",this.Pht)},Jf:function(){e.Cht.removeEventListener("ended",this.Oht),e.xht.removeEventListener("ended",this.Pht)},Bht:function(){},Oht:function(){e.pause(),e.dispatchEvent({type:"ended",origin:e.Cht})},Pht:function(){e.pause(),e.dispatchEvent({type:"ended",origin:e.xht})}}),kb:{Dn:"kb",po:function(){},Jf:function(){},Bht:function(){}},Lht:function(){var t=jt(r),n=function n(){t.Cht.removeEventListener("play",n),t.Cht.removeEventListener("timeupdate",i),t.Cht.addEventListener("timeupdate",i)},i=function n(){var i,r;t.Cht.A_||(!t.seeking&&t.Cht.aht?(i=t.Cht,(r=t.xht).k0&&_M(i,r)>=0&&t.Mht(t.Nht.Uht)):t.Cht.removeEventListener("timeupdate",n))};return{Dn:"Lht",po:function(){t.Nht.Dht.po.call(this),this.Fht(),this.Bht()},Jf:function(){t.Nht.Dht.Jf.call(this),t.Cht.removeEventListener("play",n),t.Cht.removeEventListener("timeupdate",i)},Bht:function(){t.Cht.aht?t.Bht(t.xht,t.Hht):t.Bht(t.Cht,t.Hht)},Oht:function(){var n=t.xht.aht;if(n&&n.metadata.K2)return t.xht.uht(t.Cht.sht)&&(t.xht.sht=t.Cht.sht),t.Vht(),void t.Cht.play();t.Nht.Dht.Oht.call(this)},Pht:function(){0},Fht:function(){t.Cht.removeEventListener("play",n),t.Cht.A_?t.Cht.addEventListener("play",n):n.call(t.Cht)}}}(),Uht:function(){var t=jt(r),n=function(){r.Mht(r.Nht.Xht)};return{Dn:"Uht",po:function(){t.Nht.Dht.po.call(this),t.xht.addEventListener("seeked",n);var i=_M(t.Cht,t.xht),r=t.Ko[t.ba].wht/1e3,e=g.min(i+r,t.xht.oI);try{t.xht.oht=e}catch(n){t.Mht(t.Nht.Lht),t.Wht(n.message)}},Jf:function(){t.Nht.Dht.Jf.call(this),t.xht.removeEventListener("seeked",n)},Bht:function(){},Oht:function(){t.Nht.Dht.Oht.call(this)},Pht:function(){}}}(),Xht:function(){var t,n=jt(r),i=function(){u()},e=function(){u()},u=function(){oT(t),r.xht.sht-r.Cht.sht-1/60>0?t=sT(i):r.Mht(r.Nht.qht)};return{Dn:"Xht",po:function(){n.Nht.Dht.po.call(this),n.Cht.addEventListener("timeupdate",e),u()},Jf:function(){n.Nht.Dht.Jf.call(this),oT(t),n.Cht.removeEventListener("timeupdate",e)},Bht:function(){},Oht:function(){n.Nht.Dht.Oht.call(this)},Pht:function(){n.Nht.Dht.Pht.call(this)}}}(),qht:function(){var t,n=jt(r),i=function(){var t=r.zht(r.xht),n=r.Ko[r.ba].yht/g.max(1,r.Cht.b_);return function(t,n,i,r){return new nM(t,n,i,r)}(t,t.Ght,n,function(){r.Mht(r.Nht.jht),r.Nht.jht.Qht()})},e=function(){r.kht.uI(),r.Mht(r.Nht.jht)};return{Dn:"qht",po:function(){n.Nht.Dht.po.call(this);var r=n.Ko[n.ba].mht/g.max(1,n.Cht.b_);n.kht=i(),t=c(e,r),n.xht.play()},Jf:function(){n.Nht.Dht.Jf.call(this),h(t),t=0},Bht:function(){},Oht:function(){n.Nht.Dht.Oht.call(this)},Pht:function(){n.Nht.Dht.Pht.call(this)}}}(),jht:function(){var t=jt(r);return{Dn:"jht",po:function(){t.Nht.Dht.po.call(this)},Jf:function(){t.Nht.Dht.Jf.call(this),t.kht&&t.kht.Hct()},Bht:function(){},Oht:function(){t.Nht.Dht.Oht.call(this)},Pht:function(){t.Nht.Dht.Pht.call(this)},Qht:function(){t.kht=null,t.Vht()}}}()},r.Yht={Zht:function(){var t=jt(r);return{po:function(){},Jf:function(){},Bht:function(){t.Jht.Bht()},lst:function(n,i,r,e){t.Aht=n,t.bht=e,t.Mht(t.Nht.kb);var u=t.Cht===t.$ht?i:r,s=t.xht===t.$ht?i:r;u&&t.Cht.uht(n)?t.Kht(t.Yht.tft):s&&t.xht.uht(n)?t.Kht(t.Yht.nft):t.Kht(t.Yht.ift)}}}(),ift:function(){var t=jt(r),n=function(){r.Hht(),r.xht.k0?(r.xht.uht(r.Aht)||(r.rft('Could not seek to exact timestamp "'+r.Aht+'", seeking instead to: "'+r.xht.uI+'"'),r.Aht=r.xht.uI),r.Kht(r.Yht.nft)):r.Kht(r.Yht.Zht)};return{po:function(){t.eft(),t.Cht.aht=null,t.xht.aht=null,t.xht.style.display="none",t.Hht(),this.Bht()},Jf:function(){t.xht.j5(),t.xht.style.display=""},Bht:function(){t.xht.aht||t.Bht(t.xht,n)},lst:function(n,i,r,e){t.uft(),t.sft.lst(n,i,r,e)}}}(),tft:function(){var t=jt(r),n=function(){r.Kht(r.Yht.Zht),r.Mht(r.Nht.Lht),r.vF(),r.bht&&(r.bht.call(t),r.bht=null)};return{po:function(){t.Cht.addEventListener("seeked",n);try{t.Cht.sht=t.Aht,t.vF()}catch(n){t.Wht(n.message)}},Jf:function(){t.Cht.removeEventListener("seeked",n)},Bht:function(){},lst:function(n,i,r,e){t.uft(),t.sft.lst(n,i,r,e)}}}(),nft:function(){var t=jt(r),n=function(){r.Kht(r.Yht.Zht),r.Vht(),r.bht&&(r.bht.call(t),r.bht=null)};return{po:function(){t.xht.style.display="none",t.xht.addEventListener("seeked",n);try{t.xht.sht=t.Aht,t.vF()}catch(n){t.Wht(n.message)}},Jf:function(){t.xht.style.display="",t.xht.removeEventListener("seeked",n)},Bht:function(){},lst:function(n,i,r,e){t.uft(),t.sft.lst(n,i,r,e)}}}()},r.Hht=function(){var t=r.vj;r.vj=r.$ht.cht||r.oft.cht,t&&!r.vj&&r.dispatchEvent("updateend"),r.aft(),r.vF(),r.cft()},r.vF=function(){var t=r.Bl;t!==r.Rht&&(r.Rht=t,r.dispatchEvent(vl.Qd))},r.hft=n,r.ba=i,r.Iht=new fM(i),r.$I="uZ"===i?0:1;var u=function(t){switch(t){case"eZ":return"audio";case"uZ":return"video"}}(i);return r.fft=gM(u),r.vft=gM(u),n.appendChild(r.fft),n.appendChild(r.vft),r.$ht=new iM(r.fft,r.ba),r.oft=new iM(r.vft,r.ba),r.Cht=r.$ht,r.xht=r.oft,r.Jht=r.Nht.Lht,r.sft=r.Yht.Zht,r.Jht.po(),r.sft.po(),r.PJ(),r.gl(),r}qt(n,t);var i=n.prototype;return i.dft=function(t){return t===this.$ht?this.oft:this.$ht},i.rft=function(t){this.Act=t,this.dispatchEvent({type:"warning",warning:this.Act})},i.Wht=function(t){this.PS=t,this.dispatchEvent({type:"error",error:t})},i.zht=function(t){var n,i=this,r=this.dft(t);return n="uZ"===this.ba?{Ws:function(){if(i.pht!==t)return 0;var n=y(t.style.opacity);return m(n)?1:n},ic:function(n){n=xt(n,0,1),r.style.opacity=""+(1-n),1===n&&(i.pht=t,t.style.zIndex="2",r.style.zIndex="1",r.style.opacity="1")},Ght:1,lft:function(){if(n.Ws()!==n.Ght)return n.ic(n.Ght)}}:{Ws:function(){return t.volume},ic:function(i){var e;try{t.volume=i}catch(t){e=t}try{r.volume=n.Ght-i}catch(t){e=t}return e},Ght:this.$I,lft:function(){if(n.Ws()!==n.Ght)return n.ic(n.Ght)}}},i.Bht=function(t,n){var i=this.Iht._ht(this.But(),1,this.Cht.aht,this.xht.aht);return!!i&&(this.eft(),t.aht=i,t.po(n),t.b6&&this.dispatchEvent("durationchange"),!0)},i._ft=function(){this.eft(),this.Iht.hl(),this.$ht.j5(),this.oft.j5(),this.Hht()},i.ag=function(){return this.Cht.ag()},i.But=function(){return this.seeking?this.Aht:this.Cht.sht},i.lst=function(t,n){var i=this,r=!n;this.dispatchEvent("seeking"),this.pause(),this.sft.lst(t,r,r,function(){i.dispatchEvent("seeked"),i.dispatchEvent("timeupdate",!0)})},i.Vht=function(){var t=this.Cht;this.Mht(this.Nht.kb),this.Cht=this.xht,this.xht=t,this.zht(this.Cht).lft(),this.eft(),this.xht.pause(),this.xht.aht=null,this.Hht(),this.Mht(this.Nht.Lht)},i.PJ=function(){for(var t=this,n=["timeupdate","play","playing"],i=function(n,i){if("error"===i.type)return i.error?t.Wht(new FD(UD.EQ,{code:"VEE"+i.error})):t.Wht(new FD(UD.EQ,{code:"VEE"+n.Bs.code}));n===t.Cht&&t.dispatchEvent({type:i.type,origin:n})},r=i.bind(null,this.$ht),e=i.bind(null,this.oft),u=0;u<n.length;u++){var s=n[u];this.$ht.addEventListener(s,r),this.oft.addEventListener(s,e)}this.$ht.addEventListener("error",r),this.oft.addEventListener("error",e);for(var o=0;o<jS.length;o++){var a=jS[o];this.$ht.addEventListener(a,this.vF),this.oft.addEventListener(a,this.vF)}},i.gl=function(){this.addEventListener("seeking",this.oat),this.addEventListener("timeupdate",this.oat)},i.Mht=function(t){var n;if(this.Jht!==t){do{(n=this.Jht).Jf()}while(n!==this.Jht);this.Jht=t,t.po()}},i.Kht=function(t){var n;if(this.sft!==t){do{(n=this.sft).Jf()}while(n!==this.sft);this.sft=t,t.po()}},i.uft=function(){this.bht=null,this.Kht(this.Yht.Zht)},i.load=function(){this.pause(),this.uft(),this.Cht.aht=null,this.xht.aht=null,this.Mht(this.Nht.Lht)},i.Jf=function(){this.uft(),this.Mht(this.Nht.kb),this._ft(),this.$ht.unload(),this.oft.unload(),this.hft.removeChild(this.fft),this.hft.removeChild(this.vft),this.PS=null,this.Act=null},i.e$=function(){var t=this,n=this.But();this._ft(),this.sft.lst(n,!1,!1,function(){t.dispatchEvent("e$",!0)})},i.play=function(){this.zht(this.Cht).lft(),this.Cht.k0&&this.Cht.play()},i.pause=function(){this.$ht.pause(),this.oft.pause()},i.Cct=function(t){var n=this,i=function(){n.dispatchEvent("mct",!0)};this.pause(),this.Cht.m_?this.sft.lst(t,this.xht===this.$ht,this.xht===this.oft,i):this.xht.m_?this.sft.lst(t,!1,!1,i):this.xht.uht(t)?this.sft.lst(t,this.xht===this.$ht,this.xht===this.oft,i):i()},i.h7=function(t){this.eft(),this.Iht.h7(t),this.Hht(),this.sft.Bht()},i.Oct=function(t){return this.fft.canPlayType('video/mp4; codecs="'+t+'"')},i.xct=function(){return g.max(this.fft.offsetWidth,this.vft.offsetWidth)},i.Pct=function(){return g.max(this.fft.offsetHeight,this.vft.offsetHeight)},i.aft=function(){!this.Tht&&this.loaded&&(this.Tht=!0,this.dispatchEvent("loaded"))},i.cft=function(){if("uZ"===this.ba){var t=this.S_,n=this.E_;t>0&&n>0&&(this.Eht!==t||this.Sht!==n)&&(this.Eht=t,this.Sht=n,this.dispatchEvent("resize"))}},i.eft=function(){var t=this.vj;this.vj=!0,t||this.dispatchEvent("updatestart")},T(n,[{key:"gg",get:function(){var t=[];return m(this.$ht.uI)||t.push({uI:this.$ht.uI,oI:this.$ht.oI}),m(this.oft.uI)||t.push({uI:this.oft.uI,oI:this.oft.oI}),IO(AO(new mO(t)),this.Iht.gg)}},{key:"duration",get:function(){return this.Cht.b6?this.Cht.oI:this.xht.b6?this.xht.oI:NaN}},{key:"paused",get:function(){return this.Cht.A_}},{key:"ended",get:function(){return this.Cht.m_}},{key:"muted",get:function(){return this.Cht.muted&&this.xht.muted},set:function(t){this.Cht.muted=t,this.xht.muted=t}},{key:"volume",get:function(){return this.$I},set:function(t){this.$I=t,this.kht&&this.kht.Hct(),this.xht.volume=0,this.Cht.volume=this.$I}},{key:"error",get:function(){return this.PS}},{key:"warning",get:function(){return this.Act}},{key:"seeking",get:function(){return this.sft!==this.Yht.Zht}},{key:"loaded",get:function(){return this.Cht.k0}},{key:"b_",get:function(){return this.Cht.b_},set:function(t){t>=0&&(this.Cht.b_=t,this.xht.b_=t)}},{key:"S_",get:function(){return this.Cht.S_}},{key:"E_",get:function(){return this.Cht.E_}},{key:"LO",get:function(){return this.vj}},{key:"Bl",get:function(){var t;if(this.sft===this.Yht.ift||this.sft===this.Yht.nft)t=Qd.o_;else{var n=this.Cht.Bl;if(n<=Qd.a_)t=n;else{var i=Yp.HI(this.gg).dI(),r=this.duration,e=this.But();m(r)||(e=g.min(e,r));var u=i.UI(e);if(u){var s=u.oI(0);t=s-e>=3*this.b_||!m(r)&&s>=r?Qd.h_:Qd.c_}else t=Qd.a_}}return t===Qd.s_&&this.Tht?Qd.o_:t}}]),n}(LD);function _M(t,n){return t.sht-n.uI}function gM(t){var n=s.createElement(t);return n.preload="metadata","audio"===t&&(n.style.display="none"),"video"===t&&(n.style.display="",n.style.zIndex="1"),ze(n),n.controls=!1,n}var wM,yM=function(){function t(t){var n=this;this.gft=function(){(m(n.wft)||n.yft)&&(n.wft=n.rP()),n.mft=n.wft,n.yft=!1},this.kft=function(){var t=n.rP();n.pft(t),n.wft=t},this.Aft=function(){n.XR.Bl<=Qd.a_&&n.kft()},this.bft=function(){n.pft(n.wft),n.yft=!0},this.Tft=function(){n.wft=n.rP()},this.XR=t,this.Rg=Yp.WI(),this.mft=NaN,this.wft=NaN,this.yft=!1,t.addEventListener("playing",this.gft),t.addEventListener("pause",this.kft),t.addEventListener("seeking",this.bft),t.addEventListener("timeupdate",this.Tft),t.addEventListener(vl.Qd,this.Aft)}var n=t.prototype;return n.BU=function(){var t=this.Rg,n=this.mft;if(!m(n)){var i=this.rP();n<i&&(t=t.TI(new Yp([n,i])))}return t.pR()},n.rP=function(){return this.XR.But()},n.pft=function(t){var n=this.mft;n<t&&(this.Rg=this.Rg.TI(new Yp([n,t]))),this.mft=NaN},n.ast=function(){var t=this.rP();this.pft(t),this.yft=!0},n.hl=function(){this.Rg=Yp.WI(),this.mft=NaN,this.wft=NaN,this.yft=!1},n.es=function(){var t=this.XR;t.removeEventListener("playing",this.gft),t.removeEventListener("pause",this.kft),t.removeEventListener("seeking",this.bft),t.removeEventListener("timeupdate",this.Tft),t.removeEventListener(vl.Qd,this.Aft),this.XR=null},t}(),mM=function(t){function n(n,i){var r;return(r=t.call(this)||this).au=!1,r.cF=NaN,r.PS=void 0,r.configuration={},r.loading=!1,r.loaded=!1,r.Rht=Qd.s_,r.Eft=function(){r.Sft.seeking||(r.Sft.removeEventListener("seeked",r.Eft),r.dispatchEvent("seeked"),r.Rft.paused?r.nh=r.Ift:r.Nft(),r.vF())},r.Dft=function(){r.Sft.paused||(r.Sft.removeEventListener("playing",r.Dft),r.dispatchEvent("playing"))},r.Cft=function(t){r.nh=r.Oft,r.PS=t,r.dispatchEvent({type:"error",error:r.PS})},r.xft={paused:!0,play:function(){r.removeEventListener("Xot",r.xft.Pft),r.au?(r.nh=r.Bft,r.Sft.removeEventListener("playing",r.Dft),r.Sft.addEventListener("playing",r.Dft),r.Sft.play(),r.dispatchEvent("play")):r.addEventListener("Xot",r.xft.Pft)},Pft:function(){r.removeEventListener("Xot",r.xft.Pft),r.nh.play()},stall:function(){},pause:function(){r.xft.Pft&&r.removeEventListener("Xot",r.xft.Pft),r.Sft.pause(),r.dispatchEvent("pause"),r.nh=r.Ift},load:function(t){},But:function(){return r.au?r.Sft.But():0},lst:function(t,n){var i=EO(r.gg,t);n=n||!i,r.Sft.removeEventListener("seeked",r.Eft),r.Sft.addEventListener("seeked",r.Eft),r.Rft.seekTime=t,r.nh=r.Rft,r.dispatchEvent("ast"),r.Sft.lst(t,n),r.dispatchEvent("seeking")},kP:function(){return r.Sft.Bl},e$:function(t){r.Rft.seekTime=r.But(),r.nh=r.Lft,r.Sft.removeEventListener("e$",r.Lft.Mft),r.Sft.addEventListener("e$",r.Lft.Mft),r.Sft.e$(t),r.vF()},forwardEvent:function(t){"pause"===t.type&&r.Sft.ended||r.dispatchEvent(t)}},r.Ift=dn(dn({},r.xft),{pause:function(){r.removeEventListener("Xot",r.xft.Pft)},lst:function(t){r.Rft.paused=!0,r.xft.lst(t)},e$:function(t){r.Rft.paused=!0,r.xft.e$(t)}}),r.Uft=dn({},r.Ift),r.Fft=dn(dn({},r.Ift),{load:function(t,n){r.removeEventListener("Xot",r.Fft.Hft),n||r.dispatchEvent("loadstart"),r.au?r.Sft.load(t):(r.Fft.Vft=t,r.addEventListener("Xot",r.Fft.Hft))},Hft:function(){r.removeEventListener("Xot",r.Fft.Hft),r.nh.load(r.Fft.Vft,!0)},Vft:null,But:function(){return r.au?r.Sft.But():r.Fft.Xft},lst:function(t){r.removeEventListener("Xot",r.Fft.Wft),r.au?(r.nh=r.Ift,r.nh.lst(t)):(r.Fft.Xft=t,r.addEventListener("Xot",r.Fft.Wft),r.dispatchEvent("seeking"))},Wft:function(){r.removeEventListener("Xot",r.Fft.Wft),r.nh.lst(r.Fft.Xft)},Xft:0,e$:function(t){}}),r.Bft=dn(dn({},r.xft),{lst:function(t){r.Rft.paused=!1,r.xft.lst(t)},play:function(){},stall:function(){r.nh=r.qft,r.qft.zft=r.Sft.But(),r.qft.paused=!1,r.Sft.addEventListener("mct",r.qft.Gft),r.Sft.Cct(r.qft.zft),r.vF()},e$:function(t){r.Rft.paused=!1,r.xft.e$(t)}}),r.qft=dn(dn({},r.Bft),{paused:!1,zft:0,lst:function(t){r.Sft.removeEventListener("mct",r.qft.Gft),r.qft.paused?r.nh=r.Ift:r.nh=r.Bft,r.nh.lst(t),r.vF()},But:function(){return r.qft.zft},kP:function(){return g.min(r.Sft.Bl,Qd.a_)},forwardEvent:function(){},play:function(){r.qft.paused=!1,r.dispatchEvent("play")},pause:function(){r.qft.paused=!0,r.dispatchEvent("pause")},stall:function(){},Gft:function(){r.Sft.seeking||(r.Sft.removeEventListener("mct",r.qft.Gft),r.qft.paused?r.nh=r.Ift:r.xft.play(),r.vF())}}),r.Rft=dn(dn({},r.xft),{paused:!1,seekTime:0,But:function(){return r.Rft.seekTime},play:function(){r.Rft.paused=!1},pause:function(){r.Rft.paused=!0,r.Sft.pause(),r.dispatchEvent("pause")}}),r.Lft=dn(dn({},r.Rft),{lst:function(t){r.Sft.removeEventListener("e$",r.Lft.Mft),r.Rft.paused?r.nh=r.Ift:r.nh=r.Bft,r.nh.lst(t)},kP:function(){return g.min(r.Sft.Bl,Qd.a_)},forwardEvent:function(){},stall:function(){},Mft:function(){r.Sft.seeking||(r.Sft.removeEventListener("e$",r.Lft.Mft),r.Rft.paused?r.nh=r.Ift:r.xft.play(),r.vF())}}),r.Oft=dn(dn({},r.xft),{play:function(){},pause:function(){},load:function(){},But:function(){return NaN},kP:function(){return Qd.s_},lst:function(t){r.xft.lst(t,!0)},e$:function(t){}}),r.gs=function(t){r.dispatchEvent(t)},r.jft=function(t){r.nh.forwardEvent(t)},r.Qft=function(t){r.Cft(t.error)},r.Yft=function(t){if(t.origin&&t.origin.b6)return r.Z_();r.nh.stall()},r.tct=function(){var t=r.Sft.duration;t&&r.cF!==t&&(r.cF=t,r.dispatchEvent("durationchange"))},r.Zft=function(){r.Sft.loaded&&(r.loaded=!0)},r.vF=function(){var t=r.Bl;t!==r.Rht&&(r.Rht=t,r.dispatchEvent(vl.Qd))},r.Jft=n,r.XE=i,r.$ft=new yM(jt(r)),r.Sft=new tM,r.nh=r.Fft,r.hft=s.createElement("div"),r.hft.style.position="absolute",r.hft.style.width="100%",r.hft.style.height="100%",r.Kft(),r}qt(n,t);var i=n.prototype;return i.Nft=function(){this.xft.play()},i.Kft=function(){for(var t=["resize","volumechange","ratechange"],n=["timeupdate","pause","warning"],i=0;i<t.length;i++){var r=t[i];this.Sft.addEventListener(r,this.gs)}for(var e=0;e<n.length;e++){var u=n[e];this.Sft.addEventListener(u,this.jft)}this.Sft.addEventListener("ended",this.Yft),this.Sft.addEventListener("error",this.Qft),this.Sft.addEventListener("durationchange",this.tct),this.Sft.addEventListener("loaded",this.Zft),this.Sft.addEventListener(vl.Qd,this.vF)},i.setup=function(){this.XE.nR.parentNode===this.Jft?this.Jft.replaceChild(this.hft,this.XE.nR):(this.XE.nR.parentNode&&this.XE.nR.parentNode.removeChild(this.XE.nR),this.Jft.appendChild(this.hft))},i.play=function(){this.nh.play()},i.pause=function(){this.nh.pause()},i.tvt=function(t){this.Sft&&this.Sft.Jf(t),this.au=!1},i.Z_=function(){this.pause(),this.nh=this.Uft,this.PS=void 0,this.dispatchEvent("ended"),this.dispatchEvent("pause")},i.load=function(t){this.nh.load(t)},i.unload=function(){return this.Sft.Jf(),this.$ft.es(),this.hft.parentNode===this.Jft?this.Jft.replaceChild(this.XE.nR,this.hft):(this.hft.parentNode&&this.hft.parentNode.removeChild(this.hft),this.Jft.appendChild(this.XE.nR)),this.Ts(),this.XE.nR},i.reset=function(t){this.au=!1,this.nh=this.Fft,this.PS=void 0,this.cF=NaN,this.Rht=Qd.s_,this.$ft.hl(),this.tvt(t),this.loading=!1,this.loaded=!1,this.dispatchEvent("reset")},i.e$=function(t){this.nh.e$(t)},i.h7=function(t){return this.Sft.h7(t),vn.resolve()},i.ag=function(){return this.Sft.ag()},i.But=function(){return this.nh.But()},i.lst=function(t){this.$ft.ast(),this.nh.lst(t)},i.mit=function(t,n){return vn.resolve()},i.canPlayCodecs=function(t){return this.Sft.Oct('video/mp4; codecs="'+t+'"')},i.tst=function(t){var n={};for(var i in t)if(B.call(t,i)){var r=t[i];!this.Sft.videoStream&&r.uZ&&(this.Sft.videoStream=new lM(this.hft,"uZ"),n.uZ=this.Sft.videoStream),!this.Sft.audioStream&&r.eZ&&(this.Sft.audioStream=new lM(this.hft,"eZ"),n.eZ=this.Sft.audioStream,this.dispatchEvent("xot"))}return this.au=!0,this.dispatchEvent("Xot"),vn.resolve(n)},T(n,[{key:"Kut",get:function(){return this.au}},{key:"yg",get:function(){return this.hft}},{key:"gg",get:function(){return this.Sft.gg}},{key:"volume",get:function(){return this.Sft.volume},set:function(t){this.Sft.volume=t}},{key:"duration",get:function(){return this.cF}},{key:"muted",get:function(){return this.Sft.muted},set:function(t){this.Sft.muted=t}},{key:"paused",get:function(){return this.nh.paused&&this.Sft.paused}},{key:"played",get:function(){return this.$ft.BU()}},{key:"ended",get:function(){return this.nh===this.Uft}},{key:"seeking",get:function(){return this.nh===this.Rft}},{key:"error",get:function(){return this.PS||this.Sft.error}},{key:"warning",get:function(){return this.Sft.warning}},{key:"width",get:function(){return this.Sft.xct()}},{key:"height",get:function(){return this.Sft.Pct()}},{key:"b_",get:function(){return this.Sft.b_},set:function(t){this.Sft.b_=t}},{key:"Bl",get:function(){return this.nh.kP()}},{key:"S_",get:function(){return this.Sft.S_}},{key:"E_",get:function(){return this.Sft.E_}}]),n}(LD);!function(t){t.PQ="unsupported",t.nvt="native",t.ivt="hls-native",t.rvt="hls-mse",t.evt="hls-switching-video"}(wM||(wM={}));var kM=function(){function t(){this.uvt={},this.svt(wM.nvt,NL),this.svt(wM.ivt,NL),this.svt(wM.rvt,GL),this.svt(wM.evt,mM)}return t.prototype.svt=function(t,n){this.uvt[t]=n},t.svt=function(n,i){t.a0.svt(n,i)},t.ovt=function(n,i,r){var e=t.a0.uvt[n];return e?new e(i,r):void 0},t}();kM.a0=new kM;var pM=function(t){function n(n){var i;return(i=t.call(this)||this).avt=function(t){i.ys(t)},i.cvt=n,i.fvt(),i}qt(n,t);var i=n.prototype;return i.fvt=function(){this.cvt.ps("tO",this.avt)},i.vvt=function(){this.cvt.Es("tO",this.avt)},i.Jf=function(){this.vvt()},T(n,[{key:"sO",get:function(){return this.cvt.sO}},{key:"oO",get:function(){return this.cvt.oO}},{key:"dvt",set:function(t){var n=this.cvt;n.sO===t.sO&&n.oO===t.oO||(this.vvt(),this.cvt=t,this.fvt(),this.ys(new $b(t.oO,t.sO)))}}]),n}(Fi);function AM(t){return void 0!==t&&-1!==t.indexOf("m3u8")}function bM(t){return void 0!==t&&(0===t.toLowerCase().indexOf("application/x-mpegurl")||0===t.toLowerCase().indexOf("application/vnd.apple.mpegurl"))}function TM(t,n){var i=t.type;return i?sp?bM(i)?!dp||n.useSwitchOverMSE||P.rn&&n.vr&&n.vr[360]?!cp||P.Jt||P.nn&&P.Bt?hp?wM.evt:wM.PQ:wM.ivt:wM.rvt:wM.nvt:wM.PQ:wM.nvt}var EM=function(t,n,i,r,e){var u,s,o,a,f,v,l=this,w=null,k=null,p=null,A=!0,b=null,T=null,E=!1,S=null,R=null,I=null,N=$p,D=$p,C=!0,O=null,x={z1:0,Mct:0},B=null,L=null,M=null,U=1,H=!1,V="none",X=!0,W=!0,q=!1,z=null,G=!0,j=!1,Q=Qd.s_,Y=!1,Z=!1,J=NaN,$=null,K=null,tt=P.Xt&&ap,nt=!1,it="",rt=wM.PQ,et=null,ut=function(){var i=vn.coroutine(fn.mark(function i(){return fn.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(l.$u=!0,l.Ts(),B&&Pt(null),v&&(v.Jf(),v=null),f&&(f.hl(),f=null),on(),k&&(k.unload(),k=null),!R.nR){i.next=11;break}return i.next=10,n.mR(R);case 10:R=null;case 11:if(!I.nR){i.next=15;break}return i.next=14,n.mR(I);case 14:I=null;case 15:u.Jf(),t=null;case 17:case"end":return i.stop()}},i)}));return function(){return i.apply(this,arguments)}}(),st=function(){var t=new FD(UD.PQ,{info:"This browser does not allow you to watch this video. Try to update your browser or use a different browser."});l.dispatchEvent({type:"unsupportedPlatform"}),Kt(t)},ot=function(){var t,r;return(t=i.audioOnly?(r=n.KS(Kl.Vf)).nR:(r=n.KS(Kl.Xf)).nR).preload="none",ze(t),r},at=function(t){return t===R?I:R},ct=function(){b.style.zIndex="1",T.style.zIndex="0",b.style.display=A?"":"none",T.style.display=A&&E?"":"none"},ht=function(t){wt(t.w$),gt(t.y$),s&&(s.w$=o),kt()},ft=function(t,n){mt(t.w$,n),yt(t.y$),s&&(s.w$=o)},vt=function(){Gt(),It(),l.dispatchEvent("timeupdate"),l.dispatchEvent("ended")},dt=function(){var t=function(t){if("error"===t.type)return Kt(t.error);l.dispatchEvent(t)},n=function(t,n){var i;for(i=0;i<t.length;i+=1)k.addEventListener(t[i],n,!0)};switch(k.addEventListener("xot",function(){k.volume=U,k.muted=H}),k.addEventListener("loadedmetadata",function(t){rt===wM.nvt&&(j=!0,l.dispatchEvent(t))}),k.addEventListener("durationchange",function(){var t=k.duration;t&&t!==1/0&&J!==t&&(J=t,l.dispatchEvent("durationchange"))}),k.addEventListener("seeking",zt),k.addEventListener("seeked",Gt),k.addEventListener("ended",vt),k.addEventListener(vl.Qd,un),k.setup(),v.hst=k,n(["timeupdate","playing","ratechange","resize"],t),rt){case wM.nvt:case wM.ivt:n(["abort","emptied","error","loadstart","progress","suspend"],t);break;case wM.rvt:n(["play","pause"],Et)}k.addEventListener("warning",function(t){l.warning=t.warning,l.dispatchEvent(t)}),l.dispatchEvent("volumechange")},lt=function(t){w&&w.$st(),k&&(w=new hL(t,tt,f,r))},_t=function(t){var n=Ct(t.sources),r=t.textTracks||[],e=TL(t.configuration,i);return n&&n.contentProtection&&n.contentProtection.aes128&&n.contentProtection.aes128.useCredentials&&(e.pot=!0),{sources:[n],textTracks:r,configuration:e}},gt=function(t){yt(t)},wt=function(t){o&&(o.Jf(),o=null,l.initialized=!1),(o=t)&&(l.dispatchEvent("loadstart",!0),o.addEventListener("loadedmetadata",function(){j=!0,un()}),o.addEventListener("durationchange",function(){J=o.y_,l.dispatchEvent("durationchange")}),o.addEventListener("Bs",function(t){Kt(t.Bs)}),o.addEventListener("uv",pt),o.addEventListener("Sg",pt),o.z$.addEventListener("renditionUpdated",function(){Yt()}),v.z$=o.z$)},yt=function(t){var n;a&&(a.Jf(),a=null),k&&(a=t)&&(n=a.xut,a.addEventListener("i$",function(t){var n=l.videoWidth,i=l.videoHeight;$=t.qZ,l.dispatchEvent(t),yp&&n===l.videoWidth&&i===l.videoHeight||l.dispatchEvent("resize")}),a.addEventListener("Bs",function(t){Kt(t.error)}),a.addEventListener("vut",function(t){l.dispatchEvent(t)}),a.hst=k,m(n)||Vt(n))},mt=function(t,n){o&&(o.Jf(),o=null,l.initialized=!1),(o=t)&&(l.dispatchEvent("loadstart",!0),o.addEventListener("loadedmetadata",function(){j=!0,un()}),o.addEventListener(So.Cc,function(t){l.dispatchEvent(t)}),o.addEventListener(So.xc,function(t){l.dispatchEvent(t)}),o.addEventListener("durationchange",function(){J=o.y_,l.dispatchEvent("durationchange")}),o.addEventListener("Bs",function(t){Kt(t.Bs)}),o.addEventListener("uv",pt),o.addEventListener("Sg",pt),o.addEventListener("nK",function(){l.dispatchEvent("progress")}),o.z$.addEventListener("renditionUpdated",function(){Yt()}),o.z$.addEventListener("renditionUpdated",function(t){var i,r=t.qZ.eJ&&t.qZ.eJ.eZ;r&&-1!==r.indexOf("mp4a.40.3")&&("u6"!==n.s6||vp||(i=B,BD(function(){n.useSwitchOverMSE=!0;var t=W;B=null,sn({sources:i,configuration:n}),t||Rt()})))}),v.z$=o.z$)},kt=function(){k.addEventListener("play",function(){l.play({fromNative:!0})}),k.addEventListener("pause",function(){l.pause({fromNative:!0})}),k.addEventListener("volumechange",function(){l.volume=k.volume,l.muted=k.muted}),k.addEventListener("webkitpresentationmodechanged",Lt)},pt=function(){var t=G,n=!o||o.Sg;G=n,n&&!t?l.dispatchEvent(So.pc):!n&&t&&l.dispatchEvent(So.kc)},At=function(){X=!1,W=!1,Y=!0,k.configuration.useNativeVideoPlayback||k.loaded||St(),Yt()},bt=function t(){l.removeEventListener("initialized",t),l.removeEventListener("initialized",Tt),X&&(At(),l.ended?Xt(0):Zt(),k.play(),a&&a.Q_())},Tt=function t(){l.removeEventListener("initialized",bt),l.removeEventListener("initialized",t),X&&(At(),Zt())},Et=function(t){var n=W;W="pause"===t.type,n&&!W?l.play({fromNative:!0}):!n&&W&&l.pause({fromNative:!0})},St=function(){Y=!0,k.configuration.useNativeVideoPlayback?(k.load(),x.Mct="now"):k.loading||(k.load(),k.loading=!0),Yt()},Rt=function(t){if(t=t||{},W=!1,C&&(C=!1,n.uN()),x.lvt=!1,!l.initialized||!k){if(t.onlyWhenInitialized){var i=new FD(UD.CQ,{code:"MGB6720"});throw Kt(i),i}return l.removeEventListener("initialized",bt),l.removeEventListener("initialized",Tt),l.addEventListener("initialized",t.fromNative?Tt:bt),l.dispatchEvent("play",!0),void l.dispatchEvent("waiting",!0)}if(X){if(q&&l.ended)return It(),void l.dispatchEvent("timeupdate",!0);l.dispatchEvent("play",!0),t.fromNative?Tt():bt()}},It=function(t){W=!0,(t=t||{}).fromNative||l.removeEventListener("initialized",bt),l.removeEventListener("initialized",Tt),!X&&k&&(X=!0,t.fromNative||(k.pause(),a&&a.Y_()),l.dispatchEvent("pause",!0))},Nt=function(t){return{type:AM(t)?"application/vnd.apple.mpegurl":"",src:t}},Dt=function(t){return"string"==typeof t},Ct=function(t){if(AL(t))return t.type?t:Nt(t.src);if(Dt(t))return Nt(t);if(F(t)&&Dt(t[0])){for(var n=0;n<t.length;n++){var i=t[n];if(AM(i))return Nt(i)}return Nt(t[0])}if(F(t)&&AL(t[0])){for(var r=0;r<t.length;r++){var e=t[r];if(bM(e.type)||!e.type&&AM(e.src))return e.type?e:Nt(e.src)}return t[0]}return{type:null,src:null}},Ot=function(t){var n=(t=_t(t)).sources[0],i=t.configuration,u=TM(n,i);!function(t,n){switch(t){case wM.nvt:case wM.ivt:n.s6=!1,n._vt=!1;break;case wM.rvt:n.s6="u6",n._vt=!0;break;case wM.evt:n.s6="J6",n._vt=P.Ot}}(u,i);var o=function(t,n,i){var u,o,a,c=i.configuration;switch(t){case wM.nvt:a=u=o=null;break;case wM.ivt:a=null;var h=new nL(c,r);u=h,o=new oL(h);break;case wM.rvt:case wM.evt:a=new dL(c,r);var f=new tL(c,a,r,e);u=f,o=new uL(f);break;default:return null}return new PC(n,t,i,a,u,o,s)}(u,n,t);return o?(o.y$&&(o.y$.b_=l.playbackRate),o):null},Pt=function(t){sn({sources:t})},Bt=function(n,i){var r=S,e=r.nR,s=!1,o=!l.paused,a=rt,c=l.playbackRate,h=l.gvt;K&&(K.Jf(),K=null),on();var f=n&&n.lK||null;n&&n.vK||null,L=n&&n.HR||null,M=f&&f.configuration||null,rt=n&&n.dK||wM.PQ,tn();var v={type:"wvt",yvt:n,Xp:M,mvt:i};if(l.dispatchEvent(v),rt!==wM.PQ){if(k){l.pause();var d=a===rt||a===wM.ivt&&rt===wM.nvt||a===wM.nvt&&rt===wM.ivt,_=i&&!P.Xt;if(d&&!_)k.reset(),w.hl();else{if(_?(p=k,e=(r=at(r)).nR):e=k.unload(),!(s=kM.ovt(rt,t,r)))return void st();k=s,dt(),lt(e)}Gt(),j=!1,Q=Qd.s_,Y=!1,Z=!1,J=NaN,O=null,l.dispatchEvent("durationchange"),x.Mct=0,x.z1=0,x.lvt=!0,l.dispatchEvent("timeupdate")}else{if(!(s=kM.ovt(rt,t,r)))return void st();k=s,r.nR.removeAttribute("poster"),dt(),lt(r.nR)}switch(S=r,u.dvt=S.ZB,b=k.yg,p?(T=p.yg,E=!0):(T=at(r).nR,E=!1),ct(),M.crossOrigin){case qd.t_:case qd.n_:S.nR.setAttribute("crossorigin",M.crossOrigin);break;default:S.nR.removeAttribute("crossorigin")}if(h!==l.gvt&&l.dispatchEvent(So._c),Lt(),Mt(),!L)return B=null,void(l.initialized=!1);!function(t,n){switch(rt){case wM.nvt:case wM.ivt:ht(t);break;case wM.rvt:case wM.evt:ft(t,n);break;default:return}t.XR=l,t.mK(V)}(K=n,M),k.src=L,w.Qst(f&&f.textTracks),l.playbackRate=c,B=L;var g={type:"kvt",yvt:n,Xp:M,mvt:i};l.dispatchEvent(g),l.initialized=!0,l.dispatchEvent("initialized"),pt(),Xt("now"),k.configuration.useNativeVideoPlayback&&P.Xt&&o&&$t()&&(l.play(),l.pause()),f&&l.dispatchEvent({type:"sourcechange",sourceDescription:f})}else st()},Lt=function(){var t=it;(it=l.Mot)!==t&&l.dispatchEvent("pvt")},Mt=function(){v&&(v.bH=tt&&nt)},Ut=function(){return k&&k.Kut?k.volume:U},Ft=function(){return Z?!k||x.lvt?x.Mct:a?a.xut:k.But():Wt(O||0)},Ht=function(){return Z?qt(Ft()):"now"===O?0:O||0},Vt=function(t){if(Z){if(O=null,"now"!==t||l.live||(t=0),"now"!==t&&(t=y(t)||0,t=rn(t)),k){if(g.abs(x.Mct-t)<.001&&Ub()-x.z1<50)return;zt(),a?a.xut=t:k.lst(t),k.seeking||Gt(),x={Mct:t,z1:Ub()}}}else Xt(qt(t))},Xt=function(t){if(!Z){var n=Ht();return O=t,Zt(),void(n!==Ht()&&zt())}return Vt(Wt(t))},Wt=function(t){if("number"==typeof t&&l.live){var n=nn();if(n.length)return t+n.end(0)}return t},qt=function(t){if("now"===t)return 0;if("number"==typeof t&&l.live){var n=nn();if(n.length)return t-n.end(0)}return t},zt=function(){q=!0,Qt(),et=c(jt,100)},Gt=function(){q&&(q=!1,et&&jt(),l.dispatchEvent("seeked"))},jt=function(){Qt(),l.dispatchEvent("seeking")},Qt=function(){et&&(h(et),et=null)},Yt=function(){Z||(Z=!m(J)&&nn().length>0&&(Y||!l.live))&&l.dispatchEvent("uht")},Zt=function t(){l.removeEventListener("uht",t),null!==O&&(Z?Xt(O):l.addEventListener("uht",t))},Jt=function(){return k&&k.Kut?k.muted:H},$t=function(){return W},Kt=function(t){if(t&&t.code===UD.OQ)return n=!W,Pt(K.HR),void(n&&Rt());var n;$t()||It(),z=t,l.dispatchEvent({type:"error",error:z})},tn=function(){z=null},nn=function(){return wO(a?a.Ng:J>0?new mO([{uI:0,oI:J}]):kO)},rn=function(t){var n=nn();return n.length?xt(t,n.start(0),n.end(n.length-1)):0},en=function(){var t=k?k.Bl:Qd.s_;return j&&(t=g.max(Qd.o_,t)),t},un=function(){var t=en();t!==Q&&(Q=t,l.dispatchEvent(vl.Qd))},sn=function(t){var n=Ot(t);Bt(n,!1)},on=function(){if(p){var t=p.unload();p=null,E=!1,T=t||at(S).nR,ct()}};l.initialized=!1,l.warning=null,l.play=Rt,l.pause=It,l.load=function(){if(!l.initialized||!k){var t=new FD(UD.CQ,{code:"MGB7330"});throw Kt(t),t}St(),Xt("now")},l.Avt=Ot,l.bvt=Bt,l.es=ut,l.K_=sn,l.sg=function(){A=!0,ct()},l.og=function(){A=!1,ct()},l.ag=function(){return k&&k.ag()},l.B_=function(){var t=k?dE(k.hst):{kg:0,pg:0,Ag:0};return dn(dn(dn({},{kg:0,pg:0,Ag:0,bg:0,Tg:0,Eg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}),t),{bg:8*Xd.Zl()})},_.defineProperty(l,"buffered",{get:function(){return wO(k?k.gg:kO)}}),_.defineProperty(l,"played",{get:function(){return k?wO(k.played):kO}}),_.defineProperty(l,"seekable",{get:nn}),_.defineProperty(l,"live",{get:function(){return!(!o||!iC.C_(o.z$.sJ))}}),_.defineProperty(l,"volume",{get:Ut,set:function(t){(t=y(t))!==Ut()&&(k&&(k.volume=t),U=t,l.dispatchEvent("volumechange"))}}),_.defineProperty(l,"currentTime",{get:Ht,set:Xt}),_.defineProperty(l,"dimensions",{get:function(){return u}}),_.defineProperty(l,"currentMonotonicTime",{get:Ft,set:Vt}),_.defineProperty(l,"currentProgramDateTime",{get:function(){return a?a.wg:null},set:function(t){var n,i;(i=t)&&"function"==typeof i.getTime&&!m(i.getTime())&&a&&(n=a.Ttt(t),m(n)||null===n||Vt(n))}}),_.defineProperty(l,"duration",{get:function(){return J}}),_.defineProperty(l,"muted",{get:Jt,set:function(t){t!==Jt()&&(H=t,k&&(k.muted=t),H=t,l.dispatchEvent("volumechange"))}}),_.defineProperty(l,"paused",{get:$t,set:function(t){t?It():Rt()}}),_.defineProperty(l,"preload",{get:function(){return V},set:function(t){V=Wp((t||"none").toLowerCase())}}),_.defineProperty(l,"ended",{get:function(){return k&&k.ended||!1}}),_.defineProperty(l,"seeking",{get:function(){return q}}),_.defineProperty(l,"error",{get:function(){return z||k&&k.error}}),_.defineProperty(l,"element",{get:function(){return t}}),_.defineProperty(l,"gvt",{get:function(){return M&&M.vr&&M.vr[360]?$p:S===R?N:D}}),_.defineProperty(l,"videoWidth",{get:function(){return k?k.S_:$&&$.resolution?$.resolution.width:0}}),_.defineProperty(l,"videoHeight",{get:function(){return k?k.E_:$&&$.resolution?$.resolution.height:0}}),_.defineProperty(l,"frameRate",{get:function(){return a&&a.hJ}}),_.defineProperty(l,"frameAccurateSeekEnabled",{get:function(){return!l.live&&k&&k.paused&&l.frameRate}}),_.defineProperty(l,"currentFrame",{get:function(){return a?a.vst(Ft()):NaN},set:function(t){l.frameAccurateSeekEnabled&&(t=y(t),Vt(a.dst(t)))}}),_.defineProperty(l,"playbackRate",{get:function(){return a&&a.b_||k&&k.b_||1},set:function(t){(t=y(t))>0&&(a?a.b_=t:k&&(k.b_=t))}}),_.defineProperty(l,"videoTracks",{get:function(){return K&&K.z_.xd||null}}),_.defineProperty(l,"audioTracks",{get:function(){return K&&K.q_.xd||null}}),_.defineProperty(l,"G_",{get:function(){return f}}),_.defineProperty(l,"online",{get:function(){return G}}),_.defineProperty(l,"Bot",{get:function(){return k&&k.Bot}}),_.defineProperty(l,"Lot",{get:function(){return k&&k.Lot}}),_.defineProperty(l,"Mot",{get:function(){return k&&k.Mot||"inline"},set:function(t){k&&(k.Mot=t)}}),_.defineProperty(l,"Tvt",{get:function(){return nt},set:function(t){nt=!!t,Mt()}}),_.defineProperty(l,"Bl",{get:en}),function(){if(!t)throw new d("Invalid element.");var n;l.addEventListener(So.pc,function(){l.live&&Xt("now")}),l.addEventListener("playing",on),f=new Mw,v=new vL(l,f),l.addEventListener("fullscreenchange",Mt),Mt(),i.allowManualQualitySwitch&&(s=new BC),n=function(t){if("string"==typeof t)try{return MD._n.kj(t,l)}catch(n){throw new d("Unknown rule: "+t)}return t},i.Prt=function(t){var i,r=[];for(i=0;i<t.length;i+=1)r.push(n(t[i]));return r}(i.abrRules),l.addEventListener("durationchange",Yt),R=ot(),I=ot(),S=R,b=R.nR,T=I.nR,u=new pM(S.ZB),N=R.gR,D=I.gR,ct(),Pt(null)}()};EM.prototype=new LD,EM.prototype.constructor=EM;var SM,RM=((SM={useSwitchOverMSE:!1,ManifestParser:"Evt",allowManualQualitySwitch:"panel",initialRendition:"default",playbackRates:!1,isEmbeddable:!1,withCredentials:!1,enableKeyboardShortcuts:!0,skipImplicitHEAACDetection:!0,abrRules:[]}).abrRules.push("DownloadMetricRule"),SM.abrRules.push("OnlyAllowSameTrackTypeRenditionsRule"),lp&&SM.abrRules.push("AvoidHighBitrateStreamsRule"),P.qt&&SM.abrRules.push("AvoidVideoResolutionGreaterThanDisplaySizeRule"),SM);var IM=function(t){function n(n,i,r){var e;return(e=t.call(this,Kv.Kd)||this).Svt=n,e.Rvt=i,e.Ivt=r,e}return qt(n,t),n.prototype.Pd=function(){return new NM(this.Svt&&this.Svt.xd)},n}($v),NM=function(t){function n(n){var i;return(i=t.call(this,"activequalitychanged")||this).quality=n,i}return qt(n,t),n}(Vi),DM=function(t){function n(n,i){var r;return(r=t.call(this,Kv.nl)||this).Rl=n||[],r.Bd=i,r}return qt(n,t),n.prototype.Pd=function(){return new CM(this.Rl.map(function(t){return t.xd}))},n}($v),CM=function(t){function n(n){var i;return(i=t.call(this,"targetqualitychanged")||this).qualities=n,i.quality=i.qualities.length>0?i.qualities[0]:void 0,i}return qt(n,t),n}(Vi),OM=function(t){function n(n){var i;return(i=t.call(this,"update")||this).quality=n,i}return qt(n,t),n}(Vi);function xM(t){return{get bandwidth(){return t.OS},get codecs(){return t.eJ},get id(){return t.Al},get name(){return t.El},get averageBandwidth(){return t.OS},get label(){return t.El},set label(n){t.El=kd(n)},get height(){return t.rp},get width(){return t.Ka},get frameRate(){return t.B$},get firstFrame(){return t.Nvt},get available(){return t.Kj},addEventListener:function(n,i){t.ps(n,i)},removeEventListener:function(n,i){t.Es(n,i)}}}function PM(t){return{get bandwidth(){return t.OS},get codecs(){return t.eJ},get id(){return t.Al},get name(){return t.El},get averageBandwidth(){return t.OS},get label(){return t.El},set label(n){if(!X(n))throw new d("Unexpected - The provided label is not a string");t.El=n},get audioSamplingRate(){return t.Dvt},get available(){return t.Kj},addEventListener:function(n,i){t.ps(n,i)},removeEventListener:function(n,i){t.Es(n,i)}}}var BM=function(t){function n(n,i){var r;(r=t.call(this)||this).Od=void 0,r.Cvt=void 0,r.M$=void 0,r.Ovt=function(){return r.xvt()},r.Pvt=function(){return r.Bvt()},r.Lvt=function(){return r.ys(new i_(jt(r)))},r.Bg=u_(),r.Mvt=n,r.Uvt=i,r.Dg=new n_;for(var e=r.Mvt.qualities,u=0;u<e.length;u++){var s=e.item(u),o=r.Fvt(s);o.ps("update",r.Lvt),r.Dg.Cg(o)}return r.Mvt.qualities.addEventListener("activequalitychanged",r.Ovt),r.Mvt.qualities.addEventListener("targetqualitychanged",r.Pvt),r.xvt(),r.Bvt(),r}qt(n,t);var i=n.prototype;return i.Hvt=function(t){t!==this.Cvt&&(this.Cvt=t,t&&this.ys(new IM(t)))},i.Vvt=function(t,n){return t===n||!(!t||!n)&&(r=n,(i=t).length===r.length&&_i(i,r));var i,r},i.Xvt=function(t){for(var n=0,i=this.Dg.fl;n<i.length;n++){var r=i[n];if(r.Wvt===t)return r}},i.qvt=function(t){for(var n=[],i=0,r=this.Dg.fl;i<r.length;i++){var e=r[i];li(t,e.Wvt)&&n.push(e)}return n},i.xvt=function(){var t=this.pl?this.Mvt.qualities.activeQuality:void 0,n=t&&this.Xvt(t)||void 0;this.Hvt(n)},i.Bvt=function(){var t=this.Mvt.qualities.targetQuality;t?U(t)?this.Il=this.qvt(t)||void 0:this.Il=this.qvt([t])||void 0:this.Il=void 0},i.Fg=function(t){this.pl=t},i.Jf=function(){this.Mvt.qualities.removeEventListener("activequalitychanged",this.Ovt),this.Mvt.qualities.removeEventListener("targetqualitychanged",this.Pvt);for(var t=0,n=this.Dg.fl;t<n.length;t++){var i=n[t];i.Es("update",this.Lvt),i.Jf()}},T(n,[{key:"kl",get:function(){return this.Cvt}},{key:"pl",get:function(){return this.Mvt.enabled},set:function(t){t?this.Uvt.enable(this.Mvt):this.Uvt.disable(this.Mvt)}},{key:"xd",get:function(){return this.Od||(this.Od=Ed(this)),this.Od}},{key:"Al",get:function(){return this.Mvt.id+""}},{key:"bl",get:function(){return this.Bg}},{key:"Tl",get:function(){return this.Mvt.kind}},{key:"El",get:function(){var t;return null!==(t=this.Mvt.name)&&void 0!==t?t:""},set:function(t){t!==this.El&&(this.Mvt.name=t,this.ys(new i_(this)))}},{key:"Sl",get:function(){return this.Mvt.language}},{key:"Pl",get:function(){return this.pl?"enabled":"disabled"}},{key:"Rl",get:function(){return this.Dg}},{key:"Il",get:function(){return this.M$},set:function(t){var n=this,i=this.M$,e=t?t.filter(function(t){return r.ld.qa(n.kl,t)}):void 0;e&&0===e.length||this.Vvt(e,i)||(this.M$=e,this.Mvt.qualities.targetQuality=e?e.map(function(t){return t.Wvt}):null,this.ys(new DM(e,this)))}}]),n}(Fi),LM=function(t){function n(n){var i,r;return(i=t.call(this)||this).Od=void 0,i.RN=function(){return i.bo()},i.Wvt=n,i.Wvt.addEventListener("qualityupdated",i.RN),i.Al=n.id,i.OS=null!==(r=n.bandwidth)&&void 0!==r?r:NaN,i.eJ=n.codecs,i.IY=n.uri,i}qt(n,t);var i=n.prototype;return i.bo=function(){this.zvt()&&this.ys(new OM(this.xd))},i.zvt=function(){var t,n=this.Wvt,i=n.id,r=null!==(t=n.bandwidth)&&void 0!==t?t:NaN,e=n.codecs,u=n.uri,s=this.Al!==i||!Mt(this.OS,r)||this.eJ!==e||this.IY!==u;return this.Al=i,this.OS=r,this.eJ=e,this.IY=u,s},i.Jf=function(){this.Wvt.removeEventListener("qualityupdated",this.RN)},i.ib=function(){},T(n,[{key:"El",get:function(){return this.Wvt.name||""},set:function(t){this.El!==t&&(this.Wvt.name=t,this.ys(new OM(this.xd)))}},{key:"xd",get:function(){return this.Od||(this.Od=this.Pd()),this.Od}},{key:"Kj",get:function(){return!0}}]),n}(Fi),MM=function(t){function n(n){var i;return(i=t.call(this,n)||this).Dvt=NaN,i}return qt(n,t),n.prototype.Pd=function(){return PM(this)},n}(LM),UM=function(t){function n(n,i){var r;return void 0===i&&(i=0),(r=t.call(this,n)||this).B$=n.frameRate,r.Ka=n.resolution?n.resolution.width:NaN,r.rp=n.resolution?n.resolution.height:NaN,r.Gvt=i,r}qt(n,t);var i=n.prototype;return i.zvt=function(){var n=t.prototype.zvt.call(this),i=this.Wvt,r=i.frameRate,e=i.resolution?i.resolution.width:NaN,u=i.resolution?i.resolution.height:NaN;return n=n||!Mt(this.B$,r)||!Mt(this.Ka,e)||!Mt(this.rp,u),this.B$=r,this.Ka=e,this.rp=u,n},i.Pd=function(){return xM(this)},T(n,[{key:"Nvt",get:function(){return this.Gvt},set:function(t){this.Gvt!==t&&(this.Gvt=t,this.ys(new OM(this.xd)))}}]),n}(LM),FM=function(t){function n(){return t.apply(this,arguments)||this}return qt(n,t),n.prototype.Fvt=function(t){return new MM(t)},n}(BM),HM=function(t){function n(){return t.apply(this,arguments)||this}qt(n,t);var i=n.prototype;return i.Fvt=function(t){return new UM(t,this.jvt)},i.Qvt=function(t){this.jvt=t;for(var n=0,i=this.Rl.fl;n<i.length;n++){var r=i[n];void 0!==r.Nvt&&(r.Nvt=t)}},n}(BM),VM=function(t){function n(){return t.call(this,So.pc)||this}return qt(n,t),n}(Vi),XM=function(t){function n(){return t.call(this,So.kc)||this}return qt(n,t),n}(Vi),WM=function(){function t(t,n){this.H_=new Mw,this.bX=new gI(t,n)}var n=t.prototype;return n.gb=function(t,n,i,r,e){var u=new lR(t,n,i,r,e);return this.H_.ol(u),this.bX.ol(u),u},n.mb=function(t){this.H_.al(t),this.bX.al(t)},n.hl=function(){this.H_.hl(),this.bX.hl()},n.Jf=function(){this.H_.Jf(),this.bX.Jf()},T(t,[{key:"G_",get:function(){return this.H_}}]),t}();function qM(t,n){for(var i=0;i<t.vl;i++){var r=t.sl(i);if(r.Mvt===n)return r}}var zM=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this)||this).Yvt=void 0,o.PS=void 0,o.BS=void 0,o.Zvt=NaN,o.Jvt=0,o.MS=new Cp,o.$vt=function(){o.ys(new _l(o.w_))},o.Kvt=function(){o.ys(new ll(o.w_))},o.tdt=function(){o.ys(new Tl(o.w_))},o.ndt=function(){o.ys(new El(o.w_))},o.idt=function(){o.ys(new kl(o.w_,o.b_))},o.rdt=function(){o.ys(new Sl(o.w_,o.R_))},o.edt=function(){o.ys(new _S(o.w_))},o.udt=function(){o.ys(new Al(o.w_))},o.sdt=function(){o.ys(new gS)},o.odt=function(){o.ys(new VM)},o.adt=function(){o.ys(new XM)},o.cdt=function(){o.hdt(),o.fdt.hl(),o.vdt(),o.yR()},o.aL=function(){o.vdt(),o.yR(),o.uR()},o.hdt=function(){var t=o.Zvt,n=o.y_;o.Zvt=n,t===n||m(t)&&m(n)||o.ys(new ml(n))},o.ddt=function(t){var n=t.error||o.ldt.error;if(n){var i,r=zl.DECODE;n.code===UD.EQ&&Qn(n.info.code,"VEE")&&(r=+n.info.code.substr("VEE".length)),n.info&&(i=n.info.code),o.PS=new Yl(r,n.message,i),o.ys(new Dl(function(t){return new De($l(t.code),t.message,t)}(o.PS)))}},o.FS=function(){o.ys(new pl(o.w_,o.wg))},o._dt=function(){o.S_>0&&o.E_>0&&o.ys(new ay)},o.gdt=function(){o.ys(new Hd)},o.wdt=function(t){o.F_.fl.forEach(function(n){return n.Qvt(t.ptsOffset)})},o.ydt=function(t){o.Jvt+=t.Tg,o.ys(t)},o.mdt=function(t){return o.kdt(t.track)},o.pdt=function(t){return o.Adt(t.track)},o.bdt=function(t){var n=qM(o.U_,t.track);n&&n.ys(new od(n))},o.Tdt=function(t){var n=qM(o.F_,t.track);n&&n.ys(new od(n))},o.RG=n,o.iN=i,e=function(t){var n,i={};return i=bL(t,i),(i=bL(RM,i)).abrRules=i.abrRules.slice(0),i.allowManualQualitySwitch=!P.Mt&&i.allowManualQualitySwitch,i.libraryLocation=no(i.libraryLocation||"./",!0),i.initialRendition=i.initialRendition&&i.initialRendition.toLowerCase(),i.localisation=(n=i.localisation||{},function(t){return B.call(n,t)?n[t]:t}),i}(e),o.ldt=new EM(o.RG,o.iN,e,r,u),o.Edt(),o.Sdt=new GM(o.ldt),o.fdt=new Ep(o.Sdt,!0),o.fdt.ps(wl,o.gs),o.U_=new t_,o.F_=new t_,o.vb=new WM(jt(o),new wI),o.kX=new II(jt(o)),o.kX.yl=o.ldt.G_,o.pX=new NI(o.vb,o.kX),o.H_=new gR([o.ldt.G_,o.pX.Vk]),o.PG=new zI,o.PG.zX(n),o.BG=new aD(o.PG.yg,o.ldt.dimensions,o.G_,s,o.ldt.gvt),o.uR(),o}qt(n,t);var i=n.prototype;return i.og=function(){this.ldt.og(),this.PG.og()},i.sg=function(){this.ldt.sg(),this.PG.sg()},i.K_=function(){var t=vn.coroutine(fn.mark(function t(n,i){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.Yvt=n,this.ldt.K_({sources:{src:n.src,type:zd.Kl,contentProtection:n.contentProtection},textTracks:i.textTracks,configuration:dn(dn({},i),{crossOrigin:n.crossOrigin,withCredentials:n.useCredentials,liveOffset:n.liveOffset,hlsDateRange:n.hlsDateRange,hls:n.hls})});case 2:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Q_=function(){this.ldt.play()},i.Y_=function(){this.ldt.pause()},i.hl=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.Yvt=void 0,this.PS=void 0,this.BS=void 0,this.Jvt=0,this.ldt.K_({sources:null}),this.fdt.hl(),this.vb.hl(),this.vdt();case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.tg=function(){return!1},i.ng=function(){},i.ig=function(){},i.ag=function(){return this.ldt.ag()||void 0},i.cg=function(){return this.ldt.gvt},i._g=function(){},i.Jf=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.hl();case 2:return this.Ts(),this.fdt.Jf(),this.Sdt.Jf(),this.Rdt(),t.next=8,this.ldt.es();case 8:return this.U_.Jf(),this.F_.Jf(),this.kX.Jf(),t.next=13,this.pX.Jf();case 13:this.vb.Jf(),this.H_.Jf(),this.BG.Jf(),this.PG.Jf();case 17:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Edt=function(){this.ldt.addEventListener("wvt",this.cdt),this.ldt.addEventListener("kvt",this.aL),this.ldt.addEventListener("durationchange",this.hdt),this.ldt.addEventListener("error",this.ddt),this.ldt.addEventListener("timeupdate",this.FS),this.ldt.addEventListener("resize",this._dt),this.ldt.addEventListener(So._c,this.gdt),this.ldt.addEventListener("vut",this.wdt),this.ldt.addEventListener(So.xc,this.ydt),this.ldt.addEventListener("play",this.$vt),this.ldt.addEventListener("pause",this.Kvt),this.ldt.addEventListener("seeking",this.tdt),this.ldt.addEventListener("seeked",this.ndt),this.ldt.addEventListener("ratechange",this.idt),this.ldt.addEventListener("volumechange",this.rdt),this.ldt.addEventListener("progress",this.edt),this.ldt.addEventListener("ended",this.udt),this.ldt.addEventListener("loadstart",this.sdt),this.ldt.addEventListener(So.pc,this.odt),this.ldt.addEventListener(So.kc,this.adt),this.ldt.addEventListener(So.Cc,this.gs)},i.Rdt=function(){this.ldt.removeEventListener("wvt",this.cdt),this.ldt.removeEventListener("kvt",this.aL),this.ldt.removeEventListener("durationchange",this.hdt),this.ldt.removeEventListener("error",this.ddt),this.ldt.removeEventListener("timeupdate",this.FS),this.ldt.removeEventListener("resize",this._dt),this.ldt.removeEventListener(So._c,this.gdt),this.ldt.removeEventListener("play",this.$vt),this.ldt.removeEventListener("pause",this.Kvt),this.ldt.removeEventListener("seeking",this.tdt),this.ldt.removeEventListener("seeked",this.ndt),this.ldt.removeEventListener("ratechange",this.idt),this.ldt.removeEventListener("volumechange",this.rdt),this.ldt.removeEventListener("progress",this.edt),this.ldt.removeEventListener("ended",this.udt),this.ldt.removeEventListener("loadstart",this.sdt),this.ldt.removeEventListener(So.pc,this.odt),this.ldt.removeEventListener(So.kc,this.adt),this.ldt.removeEventListener(So.Cc,this.gs),this.ldt.removeEventListener(So.xc,this.ydt)},i.uR=function(){var t=this.ldt.audioTracks,n=this.ldt.videoTracks;if(t){for(var i=0;i<t.length;i++)this.kdt(t.item(i));t.addEventListener("addtrack",this.mdt),t.addEventListener("enabledtrack",this.bdt),t.addEventListener("disabledtrack",this.bdt)}if(n){for(var r=0;r<n.length;r++)this.Adt(n.item(r));n.addEventListener("addtrack",this.pdt),n.addEventListener("enabledtrack",this.Tdt),n.addEventListener("disabledtrack",this.Tdt)}},i.yR=function(){var t=this.ldt.audioTracks,n=this.ldt.videoTracks;t&&(t.removeEventListener("addtrack",this.mdt),t.removeEventListener("enabledtrack",this.bdt),t.removeEventListener("disabledtrack",this.bdt)),n&&(n.removeEventListener("addtrack",this.pdt),n.removeEventListener("enabledtrack",this.Tdt),n.removeEventListener("disabledtrack",this.Tdt))},i.vdt=function(){for(var t=0,n=this.U_.fl;t<n.length;t++){n[t].Jf()}for(var i=0,r=this.F_.fl;i<r.length;i++){r[i].Jf()}this.U_.hl(),this.F_.hl()},i.kdt=function(t){qM(this.U_,t)||this.U_.ol(new FM(t,this.ldt.audioTracks))},i.Adt=function(t){qM(this.F_,t)||this.F_.ol(new HM(t,this.ldt.videoTracks))},T(n,[{key:"q_",get:function(){return this.U_}},{key:"gg",get:function(){return this.ldt.buffered}},{key:"wg",get:function(){var t;return null!==(t=this.ldt.currentProgramDateTime)&&void 0!==t?t:void 0},set:function(t){this.ldt.currentProgramDateTime=null!=t?t:null}},{key:"w_",get:function(){var t=this.ldt.currentMonotonicTime;return"now"===t&&(t=1/0),t===1/0&&m(this.ldt.duration)&&(t=0),t},set:function(t){this.ldt.currentMonotonicTime=t}},{key:"y_",get:function(){var t=this.ldt.duration;return t<0?1/0:t}},{key:"m_",get:function(){return this.ldt.ended}},{key:"Bs",get:function(){return this.PS}},{key:"k_",get:function(){return this.BS}},{key:"j_",get:function(){}},{key:"mg",get:function(){return!1}},{key:"B_",get:function(){return dn(dn({},this.ldt.B_()),{Tg:this.Jvt})}},{key:"p_",get:function(){return this.ldt.muted},set:function(t){this.ldt.muted=t}},{key:"Sg",get:function(){return this.ldt.online}},{key:"A_",get:function(){return this.ldt.paused}},{key:"b_",get:function(){return this.ldt.playbackRate},set:function(t){this.ldt.playbackRate=t}},{key:"Rg",get:function(){return this.ldt.played}},{key:"Ig",get:function(){return this.ldt.preload||Vp.GR},set:function(t){this.ldt.preload=t}},{key:"Bl",get:function(){return this.ldt.Bl}},{key:"Ng",get:function(){return this.ldt.seekable}},{key:"T_",get:function(){return this.ldt.seeking}},{key:"TR",get:function(){}},{key:"G_",get:function(){return this.H_}},{key:"z_",get:function(){return this.F_}},{key:"E_",get:function(){return this.ldt.videoHeight}},{key:"S_",get:function(){return this.ldt.videoWidth}},{key:"R_",get:function(){return this.ldt.volume},set:function(t){this.ldt.volume=t}},{key:"ER",get:function(){return this.MS}}]),n}(Ud),GM=function(t){function n(n){var i;return(i=t.call(this)||this).Idt=function(){i.ys(new Nl(i.w_,i.ldt.Bl))},i.Ndt=function(){i.ys(new Tp(i.w_))},i.$vt=function(){i.ys(new _l(i.w_))},i.Kvt=function(){i.ys(new ll(i.w_))},i.ldt=n,i.ldt.addEventListener(vl.Qd,i.Idt),i.ldt.addEventListener(vl.g_,i.Ndt),i.ldt.addEventListener(So.bc,i.$vt),i.ldt.addEventListener(So.Ac,i.Kvt),i}return qt(n,t),n.prototype.Jf=function(){this.Ts(),this.ldt.removeEventListener(vl.Qd,this.Idt),this.ldt.removeEventListener(vl.g_,this.Ndt),this.ldt.removeEventListener(So.bc,this.$vt),this.ldt.removeEventListener(So.Ac,this.Kvt)},T(n,[{key:"w_",get:function(){var t=this.ldt.currentMonotonicTime;return"now"===t&&(t=1/0),t===1/0&&m(this.ldt.duration)&&(t=0),t}},{key:"m_",get:function(){return this.ldt.ended}},{key:"Bs",get:function(){return this.ldt.error||void 0}},{key:"A_",get:function(){return this.ldt.paused}}]),n}(Fi);function jM(t,n){return QM.apply(this,arguments)}function QM(){return(QM=vn.coroutine(fn.mark(function t(n,i,r,e,u){var s,o;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:void 0===r&&(r=3),void 0===e&&(e=1e3),void 0===u&&(u=1/0),s=0;case 4:return t.prev=5,t.next=8,n(i);case 8:return t.abrupt("return",t.sent);case 11:if(t.prev=11,t.t0=t.catch(5),Ti(t.t0),!(s<r)){t.next=20;break}return o=g.min(e*g.pow(2,s),u),s++,t.next=19,Pi(o,i);case 19:return t.abrupt("continue",4);case 20:throw t.t0;case 21:t.next=4;break;case 23:case"end":return t.stop()}},t,null,[[5,11]])}))).apply(this,arguments)}Fp(new(function(){function t(){this.SR=Rp.Kl}var n=t.prototype;return n.Pb=function(t,n,i,r,e,u){return new zM(t,n,i,r,e,u)},n.RR=function(n,i){if((P.Xt||P.vn)&&!i.manifestMetadataTrack)return!1;if(!tl(n.type))return!1;if(n.useNativePlayback)return!1;var r=n.contentProtection;return!(r&&!Vy(r)&&!t.Ddt(r))&&!!function(t){return TM(t,{})!==wM.PQ}(n)},t.Ddt=function(t){return!!t.aes128},n.IR=function(){return!0},t}()));var YM,ZM=function(t){function n(){return t.call(this,"Cdt")||this}return qt(n,t),n}(Vi),JM=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Odt=function(){e.ys(new ZM)},e.Yvt=n,e.xdt=dn(dn({},i),{crossOrigin:e.Yvt.crossOrigin,withCredentials:e.Yvt.useCredentials,liveOffset:e.Yvt.liveOffset,hlsDateRange:e.Yvt.hlsDateRange}),e.lb=r,e.Pdt=[],e.au=!1,e}qt(n,t);var i=n.prototype;return i.Bdt=function(){if(this.Ldt)return this.Ldt.P_},i.uI=function(t){var n=this;Ci(jM(function(){return n.mK()},t))},i.mK=function(){var t=vn.coroutine(fn.mark(function t(){var n,i,r,e,u,s;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Mdt();case 2:if((n=t.sent).isMasterPlaylist)for(this.Udt=n,i=0,r=n.streams;i<r.length;i++)e=r[i],u=new KP(this.lb,this.xdt),this.Pdt.push({stream:{uri:e.uri,width:e.resolution&&e.resolution.width,height:e.resolution&&e.resolution.height},updater:u});else s=new KP(this.lb,this.xdt),this.Pdt.push({stream:{uri:n.uri},updater:s});this.Fdt&&(this.Hdt(this.Fdt.width,this.Fdt.height),this.Fdt=void 0),this.au=!0;case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Vdt=function(t,n){this.au?this.Hdt(t,n):this.Fdt={width:t,height:n}},i.Hdt=function(t,n){this.Xdt();var i=this.Wdt(t,n);i&&(this.Ldt=i.updater,this.Ldt.addEventListener("C8",this.Odt),i.updater.uI(i.stream.uri))},i.Xdt=function(){this.Ldt&&(this.Ldt.Z_(),this.Ldt.removeEventListener("C8",this.Odt),this.Ldt=void 0)},i.Wdt=function(t,n){return 1===this.Pdt.length?this.Pdt[0]:hi(this.Pdt,function(i){return i.stream.width===t&&i.stream.height===n})},i.Mdt=function(){var t=vn.coroutine(fn.mark(function t(){var n,i;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=new $P(this.xdt,YC._n.FK,this.lb),t.next=3,n.po(this.Yvt.src,{});case 3:return i=t.sent,t.abrupt("return",i.P_);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Jf=function(){this.Xdt();for(var t=0,n=this.Pdt;t<n.length;t++){n[t].updater.Jf()}gi(this.Pdt)},n}(Fi),$M=function(t){function n(n,i,r){var e;return(e=t.call(this,n)||this).qdt=void 0,e.zdt=!1,e.jJ=void 0,e.handleManifestUpdate=function(){var t=e.qdt.Bdt();if(t){var n=e.TR;if(n){var i=n.getTime(),r=e.jJ;r||(r=new rC,e.jJ=r),r.bo(t.dateRanges,function(t){return(t.getTime()-i)/1e3}),!e.zdt&&r.Ll.vl>0&&(e.G_.ol(r),e.bX.ol(r),e.zdt=!0)}}},e._dt=function(){e.qdt&&e.qdt.Vdt(e.S_,e.E_)},e.Gdt=i,e.oB=r,e.bX=new mI(jt(e)),e.ps(So.Rc,e._dt),e}qt(n,t);var i=n.prototype;return i.K_=function(){var n=vn.coroutine(fn.mark(function n(i,r,e){return fn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.K_.call(this,i,r,e);case 2:i.hlsDateRange&&this.jdt(i,r,e);case 3:case"end":return n.stop()}},n,this)}));return function(t,i,r){return n.apply(this,arguments)}}(),i.jdt=function(t,n,i){this.qdt&&(this.qdt.Es("Cdt",this.handleManifestUpdate),this.qdt.Jf()),this.qdt=new JM(t,n,this.Gdt),this.qdt.ps("Cdt",this.handleManifestUpdate),this.qdt.uI(i)},i.hl=function(){return this.jJ&&(this.G_.al(this.jJ),this.bX.al(this.jJ),this.jJ.Jf(),this.jJ=void 0,this.zdt=!1),this.bX.hl(),t.prototype.hl.call(this)},i.Jf=function(){return this.Es(So.Rc,this._dt),this.qdt&&(this.qdt.Es("Cdt",this.handleManifestUpdate),this.qdt.Jf()),this.bX.Jf(),t.prototype.Jf.call(this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).Qdt=n,i.Qdt.bs(i.gs),i}qt(n,t);var i=n.prototype;return i.tg=function(){return this.Qdt.tg()},i.cg=function(){return this.Qdt.cg()},i.ag=function(){return this.Qdt.ag()},i.og=function(){return this.Qdt.og()},i._g=function(){return this.Qdt._g()},i.Y_=function(){return this.Qdt.Y_()},i.Q_=function(){return this.Qdt.Q_()},i.hl=function(){return this.Qdt.hl()},i.K_=function(t,n,i){return this.Qdt.K_(t,n,i)},i.sg=function(){return this.Qdt.sg()},i.ng=function(){return this.Qdt.ng()},i.ig=function(){return this.Qdt.ig()},i.Jf=function(){return this.Ts(),this.Qdt.Jf()},T(n,[{key:"q_",get:function(){return this.Qdt.q_}},{key:"gg",get:function(){return this.Qdt.gg}},{key:"wg",get:function(){return this.Qdt.wg},set:function(t){this.Qdt.wg=t}},{key:"w_",get:function(){return this.Qdt.w_},set:function(t){this.Qdt.w_=t}},{key:"y_",get:function(){return this.Qdt.y_}},{key:"m_",get:function(){return this.Qdt.m_}},{key:"k_",get:function(){return this.Qdt.k_}},{key:"j_",get:function(){return this.Qdt.j_}},{key:"Bs",get:function(){return this.Qdt.Bs}},{key:"mg",get:function(){return this.Qdt.mg}},{key:"B_",get:function(){return this.Qdt.B_}},{key:"p_",get:function(){return this.Qdt.p_},set:function(t){this.Qdt.p_=t}},{key:"Sg",get:function(){return this.Qdt.Sg}},{key:"A_",get:function(){return this.Qdt.A_}},{key:"b_",get:function(){return this.Qdt.b_},set:function(t){this.Qdt.b_=t}},{key:"Rg",get:function(){return this.Qdt.Rg}},{key:"Ig",get:function(){return this.Qdt.Ig},set:function(t){this.Qdt.Ig=t}},{key:"Bl",get:function(){return this.Qdt.Bl}},{key:"Ng",get:function(){return this.Qdt.Ng}},{key:"T_",get:function(){return this.Qdt.T_}},{key:"TR",get:function(){return this.Qdt.TR}},{key:"G_",get:function(){return this.Qdt.G_}},{key:"E_",get:function(){return this.Qdt.E_}},{key:"z_",get:function(){return this.Qdt.z_}},{key:"S_",get:function(){return this.Qdt.S_}},{key:"R_",get:function(){return this.Qdt.R_},set:function(t){this.Qdt.R_=t}},{key:"ER",get:function(){return this.Qdt.ER}}]),n}(Ud));YM=function(t,n,i){return new $M(t,n,i)},Mp.CR().OR(YM);var KM=function(t){function n(n){var i;return(i=t.call(this,"statechange")||this).state=n,i}return qt(n,t),n}(Vi);var tU=function(t){function n(n,i,e,u){var s;return(s=t.call(this)||this).Od=void 0,s.nh=DA.UNAVAILABLE,s.Ydt=new ki,s.handleAirplayChangedEvent=function(){s.$R&&s.$R.mg?s.Zdt():s.Q1===DA.CONNECTED&&s.Jdt()},s.handleAirplayPlayerTimeUpdate=function(t){s.$dt=t.currentTime,s.Kdt=s.Rx.wg},s.tlt=n,s.Rx=i,s.nlt=u,s.nlt.og(),s.Rx.W_(u),s.ilt(),r.ld.ja&&s.rlt(DA.AVAILABLE),s}qt(n,t);var i=n.prototype;return i.ilt=function(){this.$R&&this.$R.Es(So.ec,this.handleAirplayChangedEvent),this.elt?this.$R=this.Rx:this.$R=this.nlt,this.$R.ps(So.ec,this.handleAirplayChangedEvent)},i.Zdt=function(){var t=vn.coroutine(fn.mark(function t(){var n;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.$R){t.next=2;break}return t.abrupt("return");case 2:if(this.elt){t.next=24;break}return this.$dt=this.Rx.w_,this.Kdt=this.Rx.wg,this.nlt.ps("timeupdate",this.handleAirplayPlayerTimeUpdate),this.ult=this.Rx.yl,this.Rx.yl=this.nlt,this.ult.Y_(),this.ult.og(),this.nlt.sg(),this.nlt.p_=this.ult.p_,this.nlt.b_=this.ult.b_,this.nlt.R_=this.ult.R_,n=this.nlt.Ns("seeked"),this.nlt.w_=this.ult.w_,t.next=18,n;case 18:this.nlt.Q_(),this.nlt.p_=this.ult.p_,this.nlt.b_=this.ult.b_,this.nlt.R_=this.ult.R_,t.next=28;break;case 24:if(this.$R.A_){t.next=27;break}return t.next=27,this.$R.Ns(So.Ac,this.Ydt.ds);case 27:this.$R.Q_();case 28:this.rlt(DA.CONNECTED);case 29:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Jdt=function(){this.ult?(this.nlt.Es("timeupdate",this.handleAirplayPlayerTimeUpdate),this.ult.p_=this.nlt.p_,this.ult.b_=this.nlt.b_,this.ult.R_=this.nlt.R_,P.rn&&!P.Xt&&this.Rx.y_===1/0?this.Kdt?this.ult.wg=this.Kdt:this.ult.w_=1/0:this.ult.w_=this.$dt,this.Kdt=void 0,this.$dt=void 0,this.ult.sg(),this.nlt.og(),this.nlt.A_||this.ult.Q_(),this.Rx.yl=this.ult,this.nlt.hl(),this.ult=void 0):this.$R&&(this.$R.w_=this.$R.w_+1e-4);this.rlt(DA.AVAILABLE)},i.preloadPlayer=function(t){if(bi(t),this.$R.Bl<Qd.o_){var n=this.$R.Ns("loadedmetadata",t);return this.$R.Ig=Vp.Zm,n}return vn.resolve()},i.rlt=function(t){t!==this.nh&&(this.nh=t,this.ys(new KM(this.nh)))},i.ng=function(){r.ld.ja&&(this.tlt.rg(),this.Ydt.hs(),this.Ydt=new ki,this.elt?Ci(this.slt(this.Ydt.ds)):Ci(this.olt(this.Ydt.ds)))},i.slt=function(){var t=vn.coroutine(fn.mark(function t(n){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.preloadPlayer(n);case 2:this.Rx.ng();case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.olt=function(){var t=vn.coroutine(fn.mark(function t(n){var i;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.nlt.hl();case 3:return t.next=5,this.nlt.K_(this.Rx.J_(),n);case 5:return i=this.nlt.Ns("playing",n),this.nlt.Q_(),t.next=9,Bi(i,3e3);case 9:this.nlt.Y_(),bi(n),this.nlt.ng(),t.next=19;break;case 14:if(t.prev=14,t.t0=t.catch(0),!Ai(t.t0)){t.next=18;break}return t.abrupt("return");case 18:0;case 19:case"end":return t.stop()}},t,this,[[0,14]])}));return function(n){return t.apply(this,arguments)}}(),i.ig=function(){r.ld.ja&&this.$R.ig()},i.Jf=function(){var t;this.Ts(),this.Rx.vg(this.nlt),this.Ydt.hs(),null===(t=this.nlt)||void 0===t||t.Jf()},T(n,[{key:"KP",get:function(){return this.Q1===DA.CONNECTED}},{key:"elt",get:function(){return this.Rx.tg()}},{key:"Q1",get:function(){return this.nh}},{key:"xd",get:function(){var t;return this.Od||(this.Od=(t=this,{get casting(){return t.KP},get state(){return t.Q1},start:function(){t.ng()},stop:function(){t.ig()},addEventListener:function(n,i){n=pd(n,kd),t.ps(n,i)},removeEventListener:function(n,i){n=pd(n,kd),t.Es(n,i)}})),this.Od}}]),n}(Ud);xE(function(t){return function(t){function n(){return t.apply(this,arguments)||this}return qt(n,t),n.prototype.Pd=function(){var n=this.YB.xd;return vd(t.prototype.Pd.call(this),{get cast(){return n}})},n}(t)},EE.KB);var nU=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this)||this).QR=void 0,o.Yvt=void 0,o.U_=new Dd,o.F_=new Dd,o.H_=new Md,o.qR=n,o.clt=new pn(u,s,1,[Kl.Xf]),o.clt.rN(n),o.hlt=new xp(n,o.clt,i,r,e),o.hlt.bs(o.gs),o.U_.yl=o.hlt.q_,o.F_.yl=o.hlt.z_,o.H_.yl=o.hlt.G_,o}qt(n,t);var i=n.prototype;return i.tg=function(){return this.hlt.tg()},i.ng=function(){this.hlt.ng()},i.ig=function(){this.hlt.ig()},i.Q_=function(){Ci(this.hlt.Q_())},i.Y_=function(){this.hlt.Y_()},i.Z_=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),i.J_=function(){return this.Yvt},i.K_=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r,e,u,s;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(bi(i),this.Yvt=n,!sl(n.sources)){t.next=6;break}r=QA({src:""}),t.next=16;break;case 6:e=n.sources.filter(fl),u=0;case 8:if(!(u<e.length)){t.next=16;break}if(!Pp(s=e[u])){t.next=13;break}return r=s,t.abrupt("break",16);case 13:u++,t.next=8;break;case 16:if(r){t.next=18;break}throw new d("Unsupported source.");case 18:return t.next=20,this.hlt.K_(r,n,i);case 20:this.iI(r);case 21:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.iI=function(t){this.QR!==t&&(this.QR=t,this.ys(new Vd(t)))},i.ag=function(){},i.flt=function(){},i.hg=function(){return[]},i.rg=function(){this.clt.uN()},i.eg=function(t){Pl(this,t)},i.ug=function(){},i.fg=function(t){return!1},i._g=function(){},i.hl=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.QR=void 0,this.Yvt=void 0,t.next=4,this.hlt.hl();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.sg=function(){this.hlt.sg()},i.og=function(){this.hlt.og()},i.cg=function(){return this.hlt.cg()},i.Jf=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Ts(),this.clt.Jf(),t.next=4,this.hlt.Jf();case 4:this.U_.Jf(),this.F_.Jf(),this.H_.Jf();case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),T(n,[{key:"q_",get:function(){return this.hlt.q_}},{key:"gg",get:function(){return this.hlt.gg}},{key:"lg",get:function(){return this.QR}},{key:"w_",get:function(){return this.hlt.w_},set:function(t){this.hlt.w_=t}},{key:"wg",get:function(){return this.hlt.wg}},{key:"y_",get:function(){return this.hlt.y_}},{key:"yg",get:function(){return this.qR}},{key:"m_",get:function(){return this.hlt.m_}},{key:"Bs",get:function(){return this.hlt.Bs}},{key:"mg",get:function(){return this.hlt.mg}},{key:"B_",get:function(){return{kg:0,pg:0,Ag:0,bg:0,Tg:0,Eg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"p_",get:function(){return this.hlt.p_},set:function(t){this.hlt.p_=t}},{key:"Sg",get:function(){return this.hlt.Sg}},{key:"A_",get:function(){return this.hlt.A_}},{key:"b_",get:function(){return this.hlt.b_},set:function(t){this.hlt.b_=t}},{key:"Rg",get:function(){return this.hlt.Rg}},{key:"Ig",get:function(){return this.hlt.Ig},set:function(t){this.hlt.Ig=t}},{key:"Bl",get:function(){return this.hlt.Bl}},{key:"Ng",get:function(){return this.hlt.Ng}},{key:"T_",get:function(){return this.hlt.T_}},{key:"G_",get:function(){return this.hlt.G_}},{key:"E_",get:function(){return this.hlt.E_}},{key:"S_",get:function(){return this.hlt.S_}},{key:"z_",get:function(){return this.hlt.z_}},{key:"R_",get:function(){return this.hlt.R_},set:function(t){this.hlt.R_=t}}]),n}(Ud);xE(function(t){return function(t){function n(n,i){var r;r=t.call(this,n,i)||this;var e=new nU(r.GP.yg,r.Td,r.Xp,r.jB,r.MB,r.$B);return r.vlt=new tU(jt(r),r.GP,r.Td,e),r.YB.$P(r.vlt),r.ps("currentsourcechange",function(){r.vlt.ilt()}),r}qt(n,t);var i=n.prototype;return i.Pd=function(){var n=this,i=t.prototype.Pd.call(this);return vd(i.cast,{get airplay(){return n.vlt.xd}}),i},i.Jf=function(){this.vlt.Jf(),t.prototype.Jf.call(this)},n}(t)},EE.KB);var iU=function(){},rU=function(){function t(){this.internalDict={},this.uidCounter=0}var n=t.prototype;return n.register=function(t){return this.internalDict[this.uidCounter]=t,this.uidCounter++},n.get=function(t){return this.internalDict[t]},n.remove=function(t){delete this.internalDict[t]},t}(),eU=hn(function(t,n){function i(t,n){var i=[],r=[];return null==n&&(n=function(t,n){return i[0]===n?"[Circular ~]":"[Circular ~."+r.slice(0,i.indexOf(n)).join(".")+"]"}),function(e,u){if(i.length>0){var s=i.indexOf(this);~s?i.splice(s+1):i.push(this),~s?r.splice(s,1/0,e):r.push(e),~i.indexOf(u)&&(u=n.call(this,e,u))}else i.push(u);return null==t?u:t.call(this,e,u)}}(t.exports=function(t,n,r,e){return JSON.stringify(t,i(n,e),r)}).getSerialize=i});function uU(t,n){return void 0!==n&&null!=n&&"function"==typeof n.start&&"function"==typeof n.end&&"number"==typeof n.length?function(t){for(var n=[],i=0;i<t.length;i++)n[i]={start:t.start(i),end:t.end(i)};return n}(n):n}function sU(t){return JSON.stringify(t,eU.getSerialize(uU))}var oU,aU=hn(function(t,n){_.defineProperty(n,"__esModule",{value:!0}),n.CHAR="\t\n\r -\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",n.S=" \t\r\n",n.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u");var i=9,r=10,e=13,u=32;function s(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}n.S_LIST=[u,r,e,i],n.isChar=function(t){return t>=u&&t<=55295||t===r||t===e||t===i||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isS=function(t){return t===u||t===r||t===e||t===i},n.isNameStartChar=s,n.isNameChar=function(t){return s(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),cU=hn(function(t,n){_.defineProperty(n,"__esModule",{value:!0}),n.CHAR="\x01-\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",n.RESTRICTED_CHAR="\x01-\b\v\f\x0e-\x1f\x7f-\x84\x86-\x9f",n.S=" \t\r\n",n.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.RESTRICTED_CHAR_RE=new RegExp("^["+n.RESTRICTED_CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u");var i=9,r=10,e=13,u=32;function s(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}n.S_LIST=[u,r,e,i],n.isChar=function(t){return t>=1&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isRestrictedChar=function(t){return t>=1&&t<=8||11===t||12===t||t>=14&&t<=31||t>=127&&t<=132||t>=134&&t<=159},n.isCharAndNotRestricted=function(t){return 9===t||10===t||13===t||t>31&&t<127||133===t||t>159&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isS=function(t){return t===u||t===r||t===e||t===i},n.isNameStartChar=s,n.isNameChar=function(t){return s(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),hU=hn(function(t,n){function i(t){return t>=65&&t<=90||95===t||t>=97&&t<=122||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}_.defineProperty(n,"__esModule",{value:!0}),n.NC_NAME_START_CHAR="A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NC_NAME_CHAR="-"+n.NC_NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.NC_NAME_START_CHAR_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]$","u"),n.NC_NAME_CHAR_RE=new RegExp("^["+n.NC_NAME_CHAR+"]$","u"),n.NC_NAME_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]["+n.NC_NAME_CHAR+"]*$","u"),n.isNCNameStartChar=i,n.isNCNameChar=function(t){return i(t)||45===t||46===t||t>=48&&t<=57||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),fU=hn(function(t,n){_.defineProperty(n,"__esModule",{value:!0});var i=aU.isS,r=aU.isChar,e=aU.isNameStartChar,u=aU.isNameChar,s=aU.S_LIST,o=aU.NAME_RE,a=cU.isChar,c=hU.isNCNameStartChar,h=hU.isNCNameChar,f=hU.NC_NAME_RE;const v="http://www.w3.org/XML/1998/namespace",l="http://www.w3.org/2000/xmlns/",g={__proto__:null,xml:v,xmlns:l},y={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},m=-1,k=-2,p=0,A=1,b=2,T=3,E=4,S=5,R=6,I=7,N=8,D=9,C=10,O=11,x=12,P=13,B=14,L=15,M=16,U=17,F=18,H=19,V=20,X=21,W=22,q=23,z=24,G=25,j=26,Q=27,Y=28,Z=29,J=30,$=31,K=32,tt=33,nt=34,it=35,rt=36,et=37,ut=38,st=39,ot=40,at=41,ct=42,ht=43,ft=44,vt=9,dt=10,lt=13,_t=32,gt=33,wt=38,yt=45,mt=47,kt=59,pt=60,At=61,bt=62,Tt=63,Et=91,St=93,Rt=133,It=8232,Nt=t=>34===t||39===t,Dt=[34,39],Ct=[...Dt,Et,bt],Ot=[...Dt,pt,St],xt=[At,Tt,...s],Pt=[...s,bt,wt,pt];function Bt(t,n,i){switch(n){case"xml":i!==v&&t.fail(`xml prefix must be bound to ${v}.`);break;case"xmlns":i!==l&&t.fail(`xmlns prefix must be bound to ${l}.`)}switch(i){case l:t.fail(""===n?`the default namespace may not be set to ${i}.`:`may not assign a prefix (even "xmlns") to the URI ${l}.`);break;case v:switch(n){case"xml":break;case"":t.fail(`the default namespace may not be set to ${i}.`);break;default:t.fail("may not assign the xml namespace to another prefix.")}}}const Lt=t=>f.test(t),Mt=t=>o.test(t),Ut=0,Ft=1,Ht=2;n.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const Vt={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};n.SaxesParser=class{constructor(t){this.opt=null!=t?t:{},this.fragmentOpt=!!this.opt.fragment;const n=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=!1!==this.opt.position,this.fileName=this.opt.fileName,n){this.nameStartCheck=c,this.nameCheck=h,this.isName=Lt,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=_.assign({__proto__:null},g);const t=this.opt.additionalNamespaces;null!=t&&(function(t,n){for(const i of _.keys(n))Bt(t,i,n[i])}(this,t),_.assign(this.ns,t))}else this.nameStartCheck=e,this.nameCheck=u,this.isName=Mt,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this.oa}_init(){var t;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=Ut,this.attribList=[];const{fragmentOpt:n}=this;this.state=n?P:p,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=n,this.xmlDeclPossible=!n,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:i}=this.opt;if(void 0===i){if(!0===this.opt.forceXMLVersion)throw new d("forceXMLVersion set but defaultXMLVersion is not set");i="1.0"}this.setXMLVersion(i),this.positionAtNewLine=0,this.doctype=!1,this.oa=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=_.create(y),null===(t=this.readyHandler)||void 0===t||t.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(t,n){this[Vt[t]]=n}off(t){this[Vt[t]]=void 0}makeError(t){var n;let i=null!==(n=this.fileName)&&void 0!==n?n:"";return this.trackPosition&&(i.length>0&&(i+=":"),i+=`${this.line}:${this.column}`),i.length>0&&(i+=": "),new d(i+t)}fail(t){const n=this.makeError(t),i=this.errorHandler;if(void 0===i)throw n;return i(n),this}write(t){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let n=!1;null===t?(n=!0,t=""):"object"==typeof t&&(t=t.toString()),void 0!==this.carriedFromPrevious&&(t=`${this.carriedFromPrevious}${t}`,this.carriedFromPrevious=void 0);let i=t.length;const r=t.charCodeAt(i-1);!n&&(r===lt||r>=55296&&r<=56319)&&(this.carriedFromPrevious=t[i-1],i--,t=t.slice(0,i));const{stateTable:e}=this;for(this.chunk=t,this.i=0;this.i<i;)e[this.state].call(this);return this.chunkPosition+=i,n?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return m;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>=_t||i===vt)return i;switch(i){case dt:return this.line++,this.column=0,this.positionAtNewLine=this.position,dt;case lt:return t.charCodeAt(n+1)===dt&&(this.i=n+2),this.line++,this.column=0,this.positionAtNewLine=this.position,k;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const r=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,r>1114111&&this.fail("disallowed character."),r}getCode11(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return m;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>31&&i<127||i>159&&i!==It||i===vt)return i;switch(i){case dt:return this.line++,this.column=0,this.positionAtNewLine=this.position,dt;case lt:{const i=t.charCodeAt(n+1);i!==dt&&i!==Rt||(this.i=n+2)}case Rt:case It:return this.line++,this.column=0,this.positionAtNewLine=this.position,k;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const r=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,r>1114111&&this.fail("disallowed character."),r}getCodeNorm(){const t=this.getCode();return t===k?dt:t}unget(){this.i=this.prevI,this.column--}captureTo(t){let{i:n}=this;const{chunk:i}=this;for(;;){const r=this.getCode(),e=r===k,u=e?dt:r;if(u===m||t.includes(u))return this.text+=i.slice(n,this.prevI),u;e&&(this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i)}}captureToChar(t){let{i:n}=this;const{chunk:i}=this;for(;;){let r=this.getCode();switch(r){case k:this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i,r=dt;break;case m:return this.text+=i.slice(n),!1}if(r===t)return this.text+=i.slice(n,this.prevI),!0}}captureNameChars(){const{chunk:t,i:n}=this;for(;;){const i=this.getCode();if(i===m)return this.name+=t.slice(n),m;if(!u(i))return this.name+=t.slice(n,this.prevI),i===k?dt:i}}skipSpaces(){for(;;){const t=this.getCodeNorm();if(t===m||!i(t))return t}}setXMLVersion(t){this.currentXMLVersion=t,"1.0"===t?(this.isChar=r,this.getCode=this.getCode10):(this.isChar=a,this.getCode=this.getCode11)}sBegin(){65279===this.chunk.charCodeAt(0)&&(this.i++,this.column++),this.state=A}sBeginWhitespace(){const t=this.i,n=this.skipSpaces();switch(this.prevI!==t&&(this.xmlDeclPossible=!1),n){case pt:if(this.state=L,0!==this.text.length)throw new d("no-empty text at start");break;case m:break;default:this.unget(),this.state=P,this.xmlDeclPossible=!1}}sDoctype(){var t;const n=this.captureTo(Ct);switch(n){case bt:null===(t=this.doctypeHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=P,this.doctype=!0;break;case m:break;default:this.text+=String.fromCodePoint(n),n===Et?this.state=E:Nt(n)&&(this.state=T,this.q=n)}}sDoctypeQuote(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.q=null,this.state=b)}sDTD(){const t=this.captureTo(Ot);t!==m&&(this.text+=String.fromCodePoint(t),t===St?this.state=b:t===pt?this.state=R:Nt(t)&&(this.state=S,this.q=t))}sDTDQuoted(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.state=E,this.q=null)}sDTDOpenWaka(){const t=this.getCodeNorm();switch(this.text+=String.fromCodePoint(t),t){case gt:this.state=I,this.openWakaBang="";break;case Tt:this.state=O;break;default:this.state=E}}sDTDOpenWakaBang(){const t=String.fromCodePoint(this.getCodeNorm()),n=this.openWakaBang+=t;this.text+=t,"-"!==n&&(this.state="--"===n?N:E,this.openWakaBang="")}sDTDComment(){this.captureToChar(yt)&&(this.text+="-",this.state=D)}sDTDCommentEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),this.state=t===yt?C:N}sDTDCommentEnded(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===bt?this.state=E:(this.fail("malformed comment."),this.state=N)}sDTDPI(){this.captureToChar(Tt)&&(this.text+="?",this.state=x)}sDTDPIEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===bt&&(this.state=E)}sText(){0!==this.tags.length?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:t}=this;const{chunk:n}=this;t:for(;;)switch(this.getCode()){case k:this.entity+=`${n.slice(t,this.prevI)}\n`,t=this.i;break;case kt:{const{entityReturnState:i}=this,r=this.entity+n.slice(t,this.prevI);let e;this.state=i,""===r?(this.fail("empty entity name."),e="&;"):(e=this.parseEntity(r),this.entity=""),i===P&&void 0===this.textHandler||(this.text+=e);break t}case m:this.entity+=n.slice(t);break t}}sOpenWaka(){const t=this.getCode();if(e(t))this.state=nt,this.unget(),this.xmlDeclPossible=!1;else switch(t){case mt:this.state=ht,this.xmlDeclPossible=!1;break;case gt:this.state=M,this.openWakaBang="",this.xmlDeclPossible=!1;break;case Tt:this.state=q;break;default:this.fail("disallowed character in tag name"),this.state=P,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=V,this.openWakaBang="";break;case"--":this.state=U,this.openWakaBang="";break;case"DOCTYPE":this.state=b,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(yt)&&(this.state=F)}sCommentEnding(){var t;const n=this.getCodeNorm();n===yt?(this.state=H,null===(t=this.commentHandler)||void 0===t||t.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(n)}`,this.state=U)}sCommentEnded(){const t=this.getCodeNorm();t!==bt?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(t)}`,this.state=U):this.state=P}sCData(){this.captureToChar(St)&&(this.state=X)}sCDataEnding(){const t=this.getCodeNorm();t===St?this.state=W:(this.text+=`]${String.fromCodePoint(t)}`,this.state=V)}sCDataEnding2(){var t;const n=this.getCodeNorm();switch(n){case bt:null===(t=this.cdataHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=P;break;case St:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(n)}`,this.state=V}}sPIFirstChar(){const t=this.getCodeNorm();this.nameStartCheck(t)?(this.piTarget+=String.fromCodePoint(t),this.state=z):t===Tt||i(t)?(this.fail("processing instruction without a target."),this.state=t===Tt?j:G):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(t),this.state=z)}sPIRest(){const{chunk:t,i:n}=this;for(;;){const r=this.getCodeNorm();if(r===m)return void(this.piTarget+=t.slice(n));if(!this.nameCheck(r)){this.piTarget+=t.slice(n,this.prevI);const e=r===Tt;e||i(r)?"xml"===this.piTarget?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=e?tt:Q):this.state=e?j:G:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(r));break}}}sPIBody(){if(0===this.text.length){const t=this.getCodeNorm();t===Tt?this.state=j:i(t)||(this.text=String.fromCodePoint(t))}else this.captureToChar(Tt)&&(this.state=j)}sPIEnding(){var t;const n=this.getCodeNorm();if(n===bt){const{piTarget:n}=this;"xml"===n.toLowerCase()&&this.fail("the XML declaration must appear at the start of the document."),null===(t=this.piHandler)||void 0===t||t.call(this,{target:n,body:this.text}),this.piTarget=this.text="",this.state=P}else n===Tt?this.text+="?":(this.text+=`?${String.fromCodePoint(n)}`,this.state=G);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const t=this.skipSpaces();t!==Tt?t!==m&&(this.state=Y,this.name=String.fromCodePoint(t)):this.state=tt}sXMLDeclName(){const t=this.captureTo(xt);if(t===Tt)return this.state=tt,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(i(t)||t===At){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=t===At?J:Z}}sXMLDeclEq(){const t=this.getCodeNorm();if(t===Tt)return this.state=tt,void this.fail("XML declaration is incomplete.");i(t)||(t!==At&&this.fail("value required."),this.state=J)}sXMLDeclValueStart(){const t=this.getCodeNorm();if(t===Tt)return this.state=tt,void this.fail("XML declaration is incomplete.");i(t)||(Nt(t)?this.q=t:(this.fail("value must be quoted."),this.q=_t),this.state=$)}sXMLDeclValue(){const t=this.captureTo([this.q,Tt]);if(t===Tt)return this.state=tt,this.text="",void this.fail("XML declaration is incomplete.");if(t===m)return;const n=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const t=n;this.xmlDecl.version=t,/^1\.[0-9]+$/.test(t)?this.opt.forceXMLVersion||this.setXMLVersion(t):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(n)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=n;break;case"standalone":"yes"!==n&&"no"!==n&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=n}this.name="",this.state=K}sXMLDeclSeparator(){const t=this.getCodeNorm();t!==Tt?(i(t)||(this.fail("whitespace required."),this.unget()),this.state=Q):this.state=tt}sXMLDeclEnding(){var t;this.getCodeNorm()===bt?("xml"!==this.piTarget?this.fail("processing instructions are not allowed before root."):"version"!==this.name&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),null===(t=this.xmldeclHandler)||void 0===t||t.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=P):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var t;const n=this.captureNameChars();if(n===m)return;const r=this.tag={name:this.name,attributes:_.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=r.ns=_.create(null)),null===(t=this.openTagStartHandler)||void 0===t||t.call(this,r),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),n){case bt:this.openTag();break;case mt:this.state=it;break;default:i(n)||this.fail("disallowed character in tag name."),this.state=rt}}sOpenTagSlash(){this.getCode()===bt?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=rt)}sAttrib(){const t=this.skipSpaces();t!==m&&(e(t)?(this.unget(),this.state=et):t===bt?this.openTag():t===mt?this.state=it:this.fail("disallowed character in attribute name."))}sAttribName(){const t=this.captureNameChars();t===At?this.state=st:i(t)?this.state=ut:t===bt?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):t!==m&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const t=this.skipSpaces();switch(t){case m:return;case At:this.state=st;break;default:this.fail("attribute without value."),this.text="",this.name="",t===bt?this.openTag():e(t)?(this.unget(),this.state=et):(this.fail("disallowed character in attribute name."),this.state=rt)}}sAttribValue(){const t=this.getCodeNorm();Nt(t)?(this.q=t,this.state=ot):i(t)||(this.fail("unquoted attribute value."),this.state=ct,this.unget())}sAttribValueQuoted(){const{q:t,chunk:n}=this;let{i:i}=this;for(;;)switch(this.getCode()){case t:return this.pushAttrib(this.name,this.text+n.slice(i,this.prevI)),this.name=this.text="",this.q=null,void(this.state=at);case wt:return this.text+=n.slice(i,this.prevI),this.state=B,void(this.entityReturnState=ot);case dt:case k:case vt:this.text+=`${n.slice(i,this.prevI)} `,i=this.i;break;case pt:return this.text+=n.slice(i,this.prevI),void this.fail("disallowed character.");case m:return void(this.text+=n.slice(i))}}sAttribValueClosed(){const t=this.getCodeNorm();i(t)?this.state=rt:t===bt?this.openTag():t===mt?this.state=it:e(t)?(this.fail("no whitespace between attributes."),this.unget(),this.state=et):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const t=this.captureTo(Pt);switch(t){case wt:this.state=B,this.entityReturnState=ct;break;case pt:this.fail("disallowed character.");break;case m:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",t===bt?this.openTag():this.state=rt}}sCloseTag(){const t=this.captureNameChars();t===bt?this.closeTag():i(t)?this.state=ft:t!==m&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case bt:this.closeTag();break;case m:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:t,forbiddenState:n}=this;const{chunk:i,textHandler:r}=this;t:for(;;)switch(this.getCode()){case pt:if(this.state=L,void 0!==r){const{text:n}=this,e=i.slice(t,this.prevI);0!==n.length?(r(n+e),this.text=""):0!==e.length&&r(e)}n=Ut;break t;case wt:this.state=B,this.entityReturnState=P,void 0!==r&&(this.text+=i.slice(t,this.prevI)),n=Ut;break t;case St:switch(n){case Ut:n=Ft;break;case Ft:n=Ht;break;case Ht:break;default:throw new d("impossible state")}break;case bt:n===Ht&&this.fail('the string "]]>" is disallowed in char data.'),n=Ut;break;case k:void 0!==r&&(this.text+=`${i.slice(t,this.prevI)}\n`),t=this.i,n=Ut;break;case m:void 0!==r&&(this.text+=i.slice(t));break t;default:n=Ut}this.forbiddenState=n}handleTextOutsideRoot(){let{i:t}=this;const{chunk:n,textHandler:r}=this;let e=!1;t:for(;;){const u=this.getCode();switch(u){case pt:if(this.state=L,void 0!==r){const{text:i}=this,e=n.slice(t,this.prevI);0!==i.length?(r(i+e),this.text=""):0!==e.length&&r(e)}break t;case wt:this.state=B,this.entityReturnState=P,void 0!==r&&(this.text+=n.slice(t,this.prevI)),e=!0;break t;case k:void 0!==r&&(this.text+=`${n.slice(t,this.prevI)}\n`),t=this.i;break;case m:void 0!==r&&(this.text+=n.slice(t));break t;default:i(u)||(e=!0)}}e&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(t,n){var i;const{prefix:r,local:e}=this.qname(t),u={name:t,prefix:r,local:e,value:n};if(this.attribList.push(u),null===(i=this.attributeHandler)||void 0===i||i.call(this,u),"xmlns"===r){const t=n.trim();"1.0"===this.currentXMLVersion&&""===t&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[e]=t,Bt(this,e,t)}else if("xmlns"===t){const t=n.trim();this.topNS[""]=t,Bt(this,"",t)}}pushAttribPlain(t,n){var i;const r={name:t,value:n};this.attribList.push(r),null===(i=this.attributeHandler)||void 0===i||i.call(this,r)}end(){var t,n;this.sawRoot||this.fail("document must contain a root element.");const{tags:i}=this;for(;i.length>0;){const t=i.pop();this.fail(`unclosed tag: ${t.name}`)}this.state!==p&&this.state!==P&&this.fail("unexpected end.");const{text:r}=this;return 0!==r.length&&(null===(t=this.textHandler)||void 0===t||t.call(this,r),this.text=""),this.oa=!0,null===(n=this.endHandler)||void 0===n||n.call(this),this._init(),this}resolve(t){var n,i;let r=this.topNS[t];if(void 0!==r)return r;const{tags:e}=this;for(let n=e.length-1;n>=0;n--)if(void 0!==(r=e[n].ns[t]))return r;return void 0!==(r=this.ns[t])?r:null===(i=(n=this.opt).resolvePrefix)||void 0===i?void 0:i.call(n,t)}qname(t){const n=t.indexOf(":");if(-1===n)return{prefix:"",local:t};const i=t.slice(n+1),r=t.slice(0,n);return(""===r||""===i||i.includes(":"))&&this.fail(`malformed name: ${t}.`),{prefix:r,local:i}}processAttribsNS(){var t;const{attribList:n}=this,i=this.tag;{const{prefix:n,local:r}=this.qname(i.name);i.prefix=n,i.local=r;const e=i.uri=null!==(t=this.resolve(n))&&void 0!==t?t:"";""!==n&&("xmlns"===n&&this.fail('tags may not have "xmlns" as prefix.'),""===e&&(this.fail(`unbound namespace prefix: ${JSON.stringify(n)}.`),i.uri=n))}if(0===n.length)return;const{attributes:r}=i,e=new Set;for(const t of n){const{name:n,prefix:i,local:u}=t;let s,o;""===i?(s="xmlns"===n?l:"",o=n):(void 0===(s=this.resolve(i))&&(this.fail(`unbound namespace prefix: ${JSON.stringify(i)}.`),s=i),o=`{${s}}${u}`),e.has(o)&&this.fail(`duplicate attribute: ${o}.`),e.add(o),t.uri=s,r[n]=t}this.attribList=[]}processAttribsPlain(){const{attribList:t}=this,n=this.tag.attributes;for(const{name:i,value:r}of t)void 0!==n[i]&&this.fail(`duplicate attribute: ${i}.`),n[i]=r;this.attribList=[]}openTag(){var t;this.processAttribs();const{tags:n}=this,i=this.tag;i.isSelfClosing=!1,null===(t=this.openTagHandler)||void 0===t||t.call(this,i),n.push(i),this.state=P,this.name=""}openSelfClosingTag(){var t,n,i;this.processAttribs();const{tags:r}=this,e=this.tag;e.isSelfClosing=!0,null===(t=this.openTagHandler)||void 0===t||t.call(this,e),null===(n=this.closeTagHandler)||void 0===n||n.call(this,e),null===(this.tag=null!==(i=r[r.length-1])&&void 0!==i?i:null)&&(this.closedRoot=!0),this.state=P,this.name=""}closeTag(){const{tags:t,name:n}=this;if(this.state=P,this.name="",""===n)return this.fail("weird empty close tag."),void(this.text+="</>");const i=this.closeTagHandler;let r=t.length;for(;r-- >0;){const r=this.tag=t.pop();if(this.topNS=r.ns,null==i||i(r),r.name===n)break;this.fail("unexpected close tag.")}0===r?this.closedRoot=!0:r<0&&(this.fail(`unmatched closing tag: ${n}.`),this.text+=`</${n}>`)}parseEntity(t){if("#"!==t[0]){const n=this.ENTITIES[t];return void 0!==n?n:(this.fail(this.isName(t)?"undefined entity.":"disallowed character in entity name."),`&${t};`)}let n=NaN;return"x"===t[1]&&/^#x[0-9a-f]+$/i.test(t)?n=w(t.slice(2),16):/^#[0-9]+$/.test(t)&&(n=w(t.slice(1),10)),this.isChar(n)?String.fromCodePoint(n):(this.fail("malformed character entity."),`&${t};`)}}}),vU=function(){function t(){}return t.prototype.En=function(t){var n=new fU.SaxesParser({xmlns:!0,defaultXMLVersion:"1.0",forceXMLVersion:!0}),i=new mU,r=[i];function e(t){r[r.length-1].Hn(t)}return n.on("text",function(t){r.length>1&&e(new wU(t))}),n.on("cdata",function(t){e(new yU(t))}),n.on("opentag",function(t){for(var n=t.local,i=t.uri,u=t.prefix,s=new _U({Nn:n,Cn:""===i?void 0:i,dlt:""===u?void 0:u}),o=t.attributes,a=0,c=_.keys(o);a<c.length;a++){var h=o[c[a]],f=h.prefix,v=h.local,d=h.uri,l=h.value,g=new dU({Nn:v,xn:l,Cn:""===d?void 0:d,dlt:""===f?void 0:f});s.llt(g)}e(s),r.push(s)}),n.on("closetag",function(){r.pop()}),n.on("error",function(t){throw new Zt(t)}),n.write(t).close(),i},t}(),dU=function(){function t(t){this._lt=t.Nn,this.Yr=t.xn,this.glt=t.Cn,this.wlt=t.dlt}var n=t.prototype;return n.Rn=function(t){return this===t||!!pU(this,t)&&(this._lt===t._lt&&this.glt===t.glt&&this.wlt===t.wlt&&this.Yr===t.Yr)},n.In=function(){return new t({Nn:this.Nn,xn:this.xn,Cn:this.Cn,dlt:this.On})},T(t,[{key:"mn",get:function(){return Vt.An}},{key:"Nn",get:function(){return this._lt}},{key:"Dn",get:function(){return void 0===this.wlt?this._lt:this.wlt+":"+this._lt}},{key:"Cn",get:function(){return this.glt}},{key:"On",get:function(){return this.wlt}},{key:"xn",get:function(){return this.Yr}}]),t}(),lU=function(){function t(){this.Pn=[]}var n=t.prototype;return n.Ln=function(t){return this.Pn.filter(function(n){return kU(n)&&n.Un===t})},n.Fn=function(t,n){return this.Pn.filter(function(i){return kU(i)&&i.Nn===n&&i.Cn===t})},n.Hn=function(t){this.Pn.push(t)},T(t,[{key:"Mn",get:function(){return this.Pn}},{key:"Xn",get:function(){return this.Pn.filter(kU)}}]),t}(),_U=function(t){function n(n){var i;return(i=t.call(this)||this).ylt=[],i._lt=n.Nn,i.glt=n.Cn,i.wlt=n.dlt,i}qt(n,t);var i=n.prototype;return i.mlt=function(t){for(var n=0,i=this.Mn;n<i.length;n++){var r=i[n];kU(r)?r.mlt(t):t.push(r.Jn)}},i.qn=function(t,n){for(var i=0,r=this.ylt;i<r.length;i++){var e=r[i];if(e.Nn===n&&e.Cn===t)return e.xn}},i.Wn=function(t){for(var n=0,i=this.ylt;n<i.length;n++){var r=i[n];if(r.Dn===t)return r.xn}},i.llt=function(t){this.ylt.push(t)},i.zn=function(t){for(var n=0;n<this.ylt.length;n++)if(this.ylt[n].Dn===t)return void this.ylt.splice(n,1)},i.Gn=function(t,n){for(var i=0;i<this.ylt.length;i++)if(this.ylt[i].Nn===n&&this.ylt[i].Cn===t)return void this.ylt.splice(i,1)},i.jn=function(t,n){this.zn(t),this.llt(new dU({Nn:t,xn:n}))},i.Qn=function(t,n,i){this.zn(n);var r=n.split(":");this.llt(new dU({Nn:r[r.length-1],xn:i,Cn:t,dlt:r.length>1?r[0]:void 0}))},i.In=function(t){var i=new n({Nn:this.Nn,Cn:this.Cn,dlt:this.On});return this.Yn.forEach(function(t){return i.llt(t.In())}),t&&this.Mn.forEach(function(n){return i.Hn(n.In(t))}),i},i.Rn=function(t){return this===t||!!pU(this,t)&&(this._lt===t._lt&&this.wlt===t.wlt&&this.glt===t.glt&&(AU(this.Yn,t.Yn)&&AU(this.Mn,t.Mn)))},T(n,[{key:"mn",get:function(){return Vt.kn}},{key:"Yn",get:function(){return this.ylt}},{key:"Nn",get:function(){return this._lt}},{key:"Cn",get:function(){return this.glt}},{key:"On",get:function(){return this.wlt}},{key:"Un",get:function(){return void 0===this.wlt?this._lt:this.wlt+":"+this._lt}},{key:"Zn",get:function(){var t=[];return this.mlt(t),t.join("")}}]),n}(lU),gU=function(){function t(t){this.ku=t}return T(t,[{key:"Jn",get:function(){return this.ku}}]),t}(),wU=function(t){function n(n){return t.call(this,n)||this}qt(n,t);var i=n.prototype;return i.In=function(){return new n(this.Jn)},i.Rn=function(t){return this===t||!!pU(this,t)&&this.Jn===t.Jn},T(n,[{key:"mn",get:function(){return Vt.pn}}]),n}(gU),yU=function(t){function n(n){return t.call(this,n)||this}qt(n,t);var i=n.prototype;return i.In=function(){return new n(this.Jn)},i.Rn=function(t){return this===t||!!pU(this,t)&&this.Jn===t.Jn},T(n,[{key:"mn",get:function(){return Vt.bn}}]),n}(gU),mU=function(t){function n(){return t.apply(this,arguments)||this}qt(n,t);var i=n.prototype;return i.In=function(t){var i=new n;return t&&this.Mn.forEach(function(n){return i.Hn(n.In(t))}),i},i.Rn=function(t){return this===t||!!pU(this,t)&&AU(this.Mn,t.Mn)},T(n,[{key:"mn",get:function(){return Vt.Tn}},{key:"$n",get:function(){return this.Xn[0]}}]),n}(lU);function kU(t){return zt(t)}function pU(t,n){return t.mn===n.mn}function AU(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++)if(!t[i].Rn(n[i]))return!1;return!0}function bU(t){return void 0===t.adBreak||void 0===t.adBreak.ads?t:dn(dn({},t),{adBreak:dn(dn({},t.adBreak),{ads:t.adBreak.ads.map(function(t){t.adBreak;return vy(t,["adBreak"])})})})}function TU(t){return void 0===t.ads?t:dn(dn({},t),{ads:t.ads.map(function(t){t.adBreak;return vy(t,["adBreak"])})})}function EU(t){return"string"==typeof t.date?new Date(t.date):t.date}function SU(t){var n;return t.cue.track?(n=IU(t.cue,t.cue.track.type)).track={uid:t.cue.track.uid}:n=IU(t.cue,""),n}function RU(t){var n=[];return function t(i){if(Array.isArray(i))return i.map(t);if("object"==typeof i&&null!==i){if(n.includes(i))return"[Circular ~]";n.push(i);var r=_.entries(i);return _.fromEntries(r.map(function(i){var r=i[0],e=i[1],u=t(e);return"object"==typeof e&&null!==e&&"[Circular ~]"!==u&&n.pop(e),[r,u]}))}return i}(t)}function IU(t,n){var i={};return i.content=t.content,i.endTime=t.endTime,i.startTime=t.startTime,i.id=t.id,i.uid=t.uid,function(){switch(n){case"webvtt":i.align=t.align,i.line=t.line,i.lineAlign=t.lineAlign,i.position=t.position,i.positionAlign=t.positionAlign,i.region=t.region,i.size=t.size,i.snapToLines=t.snapToLines,i.text=t.text,i.vertical=t.vertical;break;case"ttml":i.content=function t(n){var i=n.children;if(0!==i.length)for(var r=0;r<i.length;r++){var e=i.item(r);return"image"===e.nodeName||"smpte:image"===e.nodeName?e:t(e)}}(t.content).innerHTML;for(var r=t.content,e={};r.firstChild&&r.firstChild.outerHTML;){(new vU).En(r.firstChild.outerHTML).$n.Yn.forEach(function(t){e[t.Nn]=t.xn}),r=r.firstChild}i.ttmlAttributes=e;break;case"daterange":var u={};for(var s in t.customAttributes){var o=t.customAttributes[s];if("object"==typeof(c=o)&&null!==c){var a=NU(o);u[s]={type:oU.klt,value:a}}else CU(o)?u[s]={type:oU.plt,value:o}:u[s]={type:oU.LW,value:String(o)}}i.attributedClass=String(t.class),i.startDate=t.startDate,i.endDate=t.endDate,i.duration=t.duration,i.plannedDuration=t.plannedDuration,i.endOnNext=t.endOnNext,i.scte35Cmd=NU(t.scte35Cmd),i.scte35Out=NU(t.scte35Out),i.scte35In=NU(t.scte35In),i.customAttributes=u}var c}(),i}function NU(t){if(void 0!==t)return ir(t)}function DU(t){var n={};if(n.kind=t.kind,n.language=t.language,n.label=t.label,n.id=t.id,n.uid=t.uid,n.src=t.src,"cues"in t){n.inBandMetadataTrackDispatchType=t.inBandMetadataTrackDispatchType,n.mode=t.mode,n.type=t.type;var i=[];if(t.cues)for(var r=0;r<t.cues.length;r++){var e=t.cues[r];i.push(IU(e,t.type))}n.cues=i;var u=[];if(t.activeCues)for(var s=0;s<t.activeCues.length;s++){var o=t.activeCues[s];u.push(IU(o,t.type))}n.activeCues=u}else"enabled"in t&&(n.enabled=t.enabled);return n}function CU(t){return"number"==typeof t}!function(t){t.LW="daterange-ca-type_string",t.plt="daterange-ca-type_number",t.klt="daterange-ca-type_arraybuffer"}(oU||(oU={}));var OU={cue:function(t){var n={};switch(n.date=EU(t),n.type=t.type,t.type){case"enter":case"exit":case"update":n.cue=SU(t)}return n},textTrack:function(t){var n={};switch(n.date=EU(t),n.type=t.type,t.type){case"addcue":t.cue.uid||(t.cue.uid=LU().register(t.cue));var i=BU()[MU()].eventListeners;t.cue.addEventListener("enter",function(t){i.InternalCueHelperEvent(t)}),t.cue.addEventListener("exit",function(t){i.InternalCueHelperEvent(t)}),t.cue.addEventListener("update",function(t){i.InternalCueHelperEvent(t)});case"removecue":case"entercue":case"exitcue":n.cue=SU(t);break;case"cuechange":for(var r=[],e=0;e<t.track.activeCues.length;e++){var u=t.track.activeCues[e];r.push(IU(u,t.track.type))}n.track={activeCues:r,uid:t.track.uid}}return n},textTrackList:function(t){var n={};switch(n.date=EU(t),n.type=t.type,t.type){case"addtrack":t.track.cues&&t.track.cues.length&&t.track.cues.length>0&&t.track.cues.map(function(t){t.uid=LU().register(t)}),n.track=DU(t.track);case"removetrack":case"change":n.track=DU(t.track)}return n},default:function(t){var n={};switch(n.date=EU(t),n.type=t.type,t.type){case"play":case"playing":case"pause":case"seeking":case"seeked":case"ended":case"waiting":case"emptied":n.currentTime=t.currentTime;break;case"timeupdate":n.currentTime=t.currentTime,n.currentProgramDateTime=t.currentProgramDateTime;break;case"progress":n.currentTime=t.currentTime;break;case"ratechange":n.currentTime=t.currentTime,n.playbackRate=t.playbackRate;break;case"durationchange":n.duration=t.duration;break;case"sourcechange":n.source=t.source;break;case"readystatechange":case"loadedmetadata":case"loadeddata":case"loadstart":case"canplay":case"canplaythrough":n.currentTime=t.currentTime,n.readyState=t.readyState;break;case"error":n.error=t.error,n.errorObject=dn({name:t.errorObject.name,cause:t.errorObject.cause},t.errorObject);break;case"addtrack":case"removetrack":case"change":n.track=DU(t.track);break;case"adbreakbegin":case"adbreakend":n.ad=TU(t.ad);break;case"adloaded":case"adimpression":n.ad=bU(t.ad);break;case"aderror":t.Alt&&(n.Alt=t.Alt),t.message&&(n.message=t.message);break;case"statechange":n.state=t.state;break;case"presentationmodechange":case"resize":break;case"adfirstquartile":case"admidpoint":case"adthirdquartile":case"adbegin":case"adend":n.currentTime=t.currentTime,n.ad=bU(t.ad)}return RU(n)},minimizeCueHelper:function(t){var n={};return n.date=EU(t),n.type=t.type,n.cue=SU(t),n.track={uid:t.cue.track.uid},n},adReplacer:bU,adBreakReplacer:TU,removeCircularReferences:RU},xU=function(){this.stringify=sU,this.minimize=OU};function PU(){return Tn.self}function BU(){return PU().THEOplayerBridge}function LU(){return PU().THEOCueMirrorMap}function MU(){return PU().THEOplayerGlobalID}function UU(){var t=PU();if(t.THEOplayerBridge){var n=new iU;t.THEOplayerBridge=vd(n,t.THEOplayerBridge)}else t.THEOplayerBridge=new iU;t.THEOplayerUtils||(t.THEOplayerUtils=new xU),t.THEOCueMirrorMap||(t.THEOCueMirrorMap=new rU)}UU();var FU,HU=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).type=n,r.detail=i,r}return qt(n,t),n}(Vi),VU=function(t){function n(){return t.apply(this,arguments)||this}qt(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.ys(new HU(t,n))},i.addEventListener=function(t,n){this.ps(t,n)},i.removeEventListener=function(t,n){this.Es(t,n)},n}(Fd),XU=function(t){function n(n,i){var r;return(r=t.call(this)||this).blt=function(t){r.Tlt.KG("THEOplayerABRSetTargetBuffer",t.Px),r.ys(t)},r.Elt=function(t){r.Tlt.KG("THEOplayerABRSetStrategy",t.Lx),r.ys(t)},r.Tlt=n,r.Slt=i,r.Slt.ps("Bx",r.blt),r.Slt.ps("Mx",r.Elt),r}return qt(n,t),T(n,[{key:"zx",get:function(){var t;switch(this.Lx.type){case LT.PERFORMANCE:return 1;case LT.QUALITY:return 0;case LT.BANDWIDTH:return(null===(t=this.Lx.metadata)||void 0===t?void 0:t.bitrate)&&!m(this.Lx.metadata.bitrate)?this.Lx.metadata.bitrate:0;default:return 0}}},{key:"xd",get:function(){return this.Slt.xd}},{key:"Lx",get:function(){return this.Slt.Lx},set:function(t){this.Slt.Lx=t}},{key:"Px",get:function(){return this.Slt.Px},set:function(t){this.Slt.Px=t}},{key:"Ux",get:function(){return this.Slt.Ux},set:function(t){this.Slt.Ux=t}}]),n}(Fi),WU=function(t){function n(){return t.apply(this,arguments)||this}return qt(n,t),n.prototype.qE=function(t,n,i,r){return!0},n}(Jk),qU=function(){function t(t,n,i){this.No=void 0,this.Ko=t,this.Vu=i,this.ca=n}var n=t.prototype;return n.mb=function(t){throw new d("Not implemented yet.")},n.jE=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r,e;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Vu.Qu(n.Pu,i);case 2:return r=t.sent,t.next=5,r.Bo();case 5:return e=t.sent,t.next=8,this.FL(e);case 8:return t.abrupt("return",e);case 9:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.es=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.FL(void 0);case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.FL=function(){var t=vn.coroutine(fn.mark(function t(n){var i;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.VL(n),t.next=3,i;case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.VL=function(){var t=vn.coroutine(fn.mark(function t(n){var i;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(i=this.No)){t.next=5;break}return t.next=4,i.xo(this.ca);case 4:this.No=void 0;case 5:if(!n){t.next=9;break}return t.next=8,n.Oo(this.ca);case 8:this.No=n;case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.gb=function(t,n,i){throw new d("Not implemented yet.")},T(t,[{key:"Xp",get:function(){return this.Ko}},{key:"Ig",get:function(){throw new d("Not implemented yet.")},set:function(t){throw new d("Not implemented yet.")}},{key:"Ng",get:function(){return new Yp([0,1/0])}},{key:"G_",get:function(){throw new d("Not implemented yet.")}},{key:"Rlt",get:function(){throw new d("Not implemented yet")}},{key:"z_",get:function(){throw new d("Not implemented yet.")}},{key:"Ilt",get:function(){throw new d("Not implemented yet")}},{key:"Nlt",get:function(){throw new d("Not implemented yet")}}]),t}();!function(t){t.Dlt="webkitneedkey",t.Clt="webkitkeymessage",t.Olt="webkitkeyerror"}(FU||(FU={}));var zU=function(t){function n(n,i){var r;return(r=t.call(this,FU.Dlt)||this).initData=n,r.sessionId=i,r}return qt(n,t),n}(Vi),GU=function(t){function n(n,i){var r;return(r=t.call(this,FU.Clt)||this).message=n,r.destinationURL=i,r}return qt(n,t),n}(Vi),jU=function(t){function n(){return t.call(this,FU.Olt)||this}return qt(n,t),n}(Vi),QU=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).Vo=n,s.co=i,s.xlt=r,s.ha=e,s.na=u,s.zo=new se,s.ia=void 0,s.Zo=new Qi,s.ea=new se,s.Plt=function(t){s.ia?(s.ia.uo(void 0),s.ia=void 0):s.Yo("internal-error"),s.ys(new qi)},s.Blt=function(t){s.ia&&(s.ia.eo(void 0),s.ia=void 0),s.ys(new Wi(jt(s),"license-request",re(t.message).buffer,t.destinationURL||void 0))},s}qt(n,t);var i=n.prototype;return i.ko=function(){var t=vn.coroutine(fn.mark(function t(n,i,r){var e;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r&&r.fairplay&&r.fairplay.ua){t.next=3;break}throw new l("Expected FairPlay contentId to be defined but was "+e+".");case 3:return t.next=5,this.Llt(ne(i),e);case 5:this.Yo("usable"),this.ea.eo(),this.ea=new se;case 8:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.po=function(){var t=vn.coroutine(fn.mark(function t(n){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.bo=function(){var t=vn.coroutine(fn.mark(function t(n){var i;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(i=ne(n)).byteLength){t.next=3;break}throw new l("Cannot call update with an empty response.");case 3:return this.ia=new se,this.xlt.bo(this.ha,i),t.next=7,this.ia.ro;case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.mo=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.ea;case 2:return this.xlt.Es(FU.Clt,this.Blt),this.xlt.Es(FU.Olt,this.Plt),this.ea.hs(),this.zo.eo(void 0),t.abrupt("return",this.zo.ro);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Ao=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),i.Llt=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=Ne(n,i,this.na),this.xlt.ps(FU.Clt,this.Blt),this.xlt.ps(FU.Olt,this.Plt),this.xlt.TT(this.ha,r);case 4:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Yo=function(t){this.Zo.Gs(),this.Zo.zs(ji,t),this.ys(new Xi(this))},T(n,[{key:"Io",get:function(){return this.ha}},{key:"So",get:function(){return NaN}},{key:"Eo",get:function(){return this.zo.ro}},{key:"Ro",get:function(){return this.Zo}}]),n}(Fi),YU=function(){function t(t,n,i){this.co=n,this.Vo=i,this.Mlt=void 0,this.ha=void 0,this.na=void 0,this.xlt=t}var i=t.prototype;return i.Do=function(){var t=vn.coroutine(fn.mark(function t(i){var r;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.na){t.next=2;break}throw new De(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return r=new QU(this.Vo,this.co,this.xlt,this.ha,this.na),this.Mlt=r,t.abrupt("return",r);case 5:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Co=function(t){return this.na=ne(t),vn.resolve(!0)},i.Oo=function(){var t=vn.coroutine(fn.mark(function t(n){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.webkitSetMediaKeys(this);case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.xo=function(){var t=vn.coroutine(fn.mark(function t(n){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.webkitSetMediaKeys(null);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.createSession=function(){throw new d("Whoops.")},T(t,[{key:"keySystem",get:function(){return this.co}},{key:"sessionId",set:function(t){this.ha=t}}]),t}(),ZU=function(){function t(t,n,i){this.Ult=t,this.co=n,this.Ko=i;var r=ke(i)||"video/mp4";this.Vo=pe(r)}var n=t.prototype;return n.Lo=function(){return this.Ko},n.Bo=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new YU(this.Ult,this.co,this.Vo));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),T(t,[{key:"Mo",get:function(){return this.co}}]),t}(),JU=function(){function t(t){this.Ult=t}return t.prototype.Qu=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r,e,u;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<i.length)){t.next=9;break}if(e=i[r],!(u=me($U,n,e))){t.next=6;break}return t.abrupt("return",new ZU(this.Ult,n,u));case 6:r++,t.next=1;break;case 9:throw new l("Unsupported key system configuration for "+n);case 10:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),t}();function $U(t,n){return t===Fn}var KU,tF=function(t){function n(n,i,r){var e;return void 0===r&&(r=new JU(i)),(e=t.call(this)||this).ME=void 0,e.gV=new cy,e.Flt=!1,e.ta=null,e.Hlt={kg:0,pg:0,Ag:0,bg:0,Tg:0,Eg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},e.Vlt=function(t){"boolean"==typeof t.detail.casting&&(e.Flt=t.detail.casting,e.ys(new __(e.Flt)))},e.Xlt=function(t){e.ha=t.sessionId,e.ta&&(e.ta.sessionId=e.ha);var n=t.initData;if(n){var i=FI(n);if(!i)return;e.ys(new zi(On,i))}else e.ys(new zi(On,new ArrayBuffer(0)))},e.Wlt=n,e.Ult=i,e.Ult.ps(FU.Dlt,e.Xlt),e.Vu=r,e.qlt(),e}qt(n,t);var i=n.prototype;return i.qL=function(){var t=vn.coroutine(fn.mark(function t(n){var i,r;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0;case 1:if(!(i<n.length)){t.next=8;break}if((r=n[i]).xu!==Zk.JE){t.next=5;break}return t.abrupt("return",r);case 5:i++,t.next=1;break;case 8:return t.abrupt("return",void 0);case 9:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.es=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.hl();case 2:this.Ts(),this.zlt(),this.Ult.Es(FU.Dlt,this.Xlt);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.og=function(){throw new d("Not implemented yet")},i.gb=function(t,n,i,r,e,u){throw new d("Not implemented yet")},i.vR=function(){return!1},i.lR=function(t,n,i,r){throw new d("Not implemented yet")},i.mb=function(t){throw new d("Not implemented yet")},i.po=function(){var t=vn.coroutine(fn.mark(function t(n){var i=this;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.gV.Eb(function(){var t=vn.coroutine(fn.mark(function t(r){var e;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.xu!==Zk.JE){t.next=7;break}return bi(r),e=new qU(n,i,i.Vu),i.ME=e,t.abrupt("return",e);case 7:throw new d("Could not create non-static media source");case 8:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Y_=function(){throw new d("Not implemented yet")},i.Q_=function(){throw new d("Not implemented yet")},i.hl=function(){var t=this;return this.gV.hs(),this.gV.Eb(vn.coroutine(fn.mark(function n(){return fn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0===t.ME){n.next=4;break}return n.next=3,t.ME.es();case 3:t.ME=void 0;case 4:case"end":return n.stop()}},n)})))},i.Zs=function(t,n){throw new d("Not implemented yet")},i.AR=function(t){throw new d("Not implemented yet")},i.sg=function(){throw new d("Not implemented yet")},i.bR=function(){return this.Hlt},i.qlt=function(){this.Wlt.addEventListener("airPlayIsCasting",this.Vlt)},i.zlt=function(){this.Wlt.removeEventListener("airPlayIsCasting",this.Vlt)},i.webkitSetMediaKeys=function(t){this.ta=t||null,this.ta&&(this.ta.sessionId=this.ha)},i.qX=function(){},i.uF=function(){throw new d("Not implemented yet")},i.sF=function(){throw new d("Not implemented yet")},i.zX=function(t){},T(n,[{key:"wg",get:function(){throw new d("Not implemented yet")}},{key:"nR",get:function(){throw new d("The mediaElement_ property is deprecated")}},{key:"gg",get:function(){throw new d("Not implemented yet")}},{key:"w_",get:function(){throw new d("Not implemented yet")}},{key:"ZB",get:function(){throw new d("Not implemented yet")}},{key:"y_",get:function(){throw new d("Not implemented yet")}},{key:"m_",get:function(){throw new d("Not implemented yet")}},{key:"Bs",get:function(){throw new d("Not implemented yet")}},{key:"rp",get:function(){throw new d("Not implemented yet")}},{key:"mg",get:function(){return this.Flt}},{key:"p_",get:function(){throw new d("Not implemented yet")}},{key:"A_",get:function(){throw new d("Not implemented yet")}},{key:"b_",get:function(){throw new d("Not implemented yet")}},{key:"Rg",get:function(){throw new d("Not implemented yet")}},{key:"Bl",get:function(){throw new d("Not implemented yet")}},{key:"Ng",get:function(){throw new d("Not implemented yet")}},{key:"T_",get:function(){throw new d("Not implemented yet")}},{key:"GX",get:function(){throw new d("Not implemented yet")}},{key:"R_",get:function(){throw new d("Not implemented yet")},set:function(t){throw new d("Not implemented yet")}},{key:"Ka",get:function(){throw new d("Not implemented yet")}},{key:"gR",get:function(){throw new d("Not implemented yet")}},{key:"webkitKeys",get:function(){return this.ta}},{key:"QX",get:function(){return cS}},{key:"G_",get:function(){throw new d("Not implemented yet")}},{key:"TR",get:function(){throw new d("Not implemented yet")}},{key:"jX",get:function(){return!0}}]),n}(Ud),nF=function(t){function n(n){var i;return(i=t.call(this,So.Hc)||this).Hlt=n,i}return qt(n,t),n}(Vi);function iF(t){switch(t.type){case KU.LW:return t.value;case KU.plt:return yd(t.value);case KU.klt:return tr(t.value);default:return}}function rF(t){return function(t){return void 0!==t.name&&void 0!==t.message}(t)&&void 0!==t.timestamp&&void 0!==t.code}!function(t){t.LW="daterange-ca-type_string",t.plt="daterange-ca-type_number",t.klt="daterange-ca-type_arraybuffer"}(KU||(KU={}));var eF=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,e,i,r)||this).TE=n,s.Glt=u,s}return qt(n,t),T(n,[{key:"name",get:function(){return this.TE}},{key:"timestamp",get:function(){return this.Glt}}]),n}(De),uF=function(t){function n(n,i,r,e,u,s,o,a){var c;return(c=t.call(this,n,i,r,e,a)||this).url=u,c.status=s,c.errorComment=o,c}return qt(n,t),n}(eF),sF=function(t){function n(n,i,r,e,u){var s;(s=t.call(this)||this).jI=0,s.hF=!1,s.PS=void 0,s.BS=void 0,s.YI=!0,s.ZI=1,s.jlt=Yp.WI(),s.VU=Yp.WI(),s.QI=!1,s.TV=Yp.WI(),s.RF=Qd.s_,s.nS=Qd.s_,s.Hlt={kg:0,pg:0,Ag:0,bg:0,Tg:0,Eg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},s.ME=void 0,s.MS=new Cp,s.setCurrentTime=function(){var t=vn.coroutine(fn.mark(function t(n){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s.Ng.length){t.next=4;break}return s.jI=n,t.next=4,s.Wlt.Ns("seekablechange");case 4:s.jI=s.updateCurrentTime(n),s.Tlt.KG("THEOplayerSetCurrentTime",s.jI),s.JI=!0,s.ys(new Tl(s.jI));case 8:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),s.Qlt=function(t){if(t.detail){for(var n=t.detail.buffered,i=[],r=0;r<n.length;r++){var e=n[r];i.push(e.start,e.end)}s.jlt=new Yp(i),s.ys(new _S(s.w_))}},s.Ylt=function(t){s.RF=t.detail.readyState,s.ys(new Rl(+t.detail.currentTime,s.Bl)),s.Zlt()},s.Jlt=function(t){s.RF=t.detail.readyState,s.ys(new Il(+t.detail.currentTime,s.Bl)),s.Zlt()},s.$lt=function(t){if(t.detail){var n=+t.detail.duration;s.cF=n,s.ys(new ml(s.y_))}},s.udt=function(t){t.detail&&(s.hF=!0,s.ys(new Al(+t.detail.currentTime)))},s.US=function(t){if(t.detail&&t.detail.error&&t.detail.errorObject){var n,i=JSON.parse(t.detail.errorObject);rF(n=i)&&void 0!==n.url&&void 0!==n.status&&void 0!==n.errorComment?(s.BS=new uF(i.name,i.message,void 0,i.code,i.url,i.status,i.errorComment,i.timestamp),s.PS=Jl(s.BS),s.ys(new Dl(s.BS))):rF(i)&&(s.BS=new eF(i.name,i.message,void 0,i.code,i.timestamp),s.PS=Jl(s.BS),s.ys(new Dl(s.BS)))}},s.sdt=function(t){s.ys(new gS)},s.Klt=function(t){s.RF=t.detail.readyState,s.ys(new bl(+t.detail.currentTime,s.Bl)),s.Zlt()},s.t_t=function(){var t=vn.coroutine(fn.mark(function t(n){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s.Ng.length){t.next=3;break}return t.next=3,s.Wlt.Ns("seekablechange");case 3:s.RF=n.detail.readyState,s.ys(new yl(+n.detail.currentTime,s.Bl)),s.Zlt();case 6:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),s.$vt=function(t){t.detail&&s.ys(new _l(+t.detail.currentTime))},s.Kvt=function(t){t.detail&&s.ys(new ll(+t.detail.currentTime))},s.n_t=function(t){if(t.detail){for(var n=t.detail.played,i=[],r=0;r<n.length;r++){var e=n[r];i.push(e.start,e.end)}s.TV=new Yp(i).bI(.05)}},s.Ndt=function(t){t.detail&&s.ys(new Tp(+t.detail.currentTime))},s.idt=function(t){t.detail&&(s.ZI=t.detail.playbackRate,s.ys(new kl(+t.detail.currentTime,s.ZI)))},s.i_t=function(t){if(t.detail){for(var n=t.detail.seekable,i=[],r=0;r<n.length;r++){var e=n[r];i.push(e.start,e.end)}s.VU=new Yp(i)}},s.ndt=function(t){t.detail&&(s.jI=+t.detail.currentTime,s.JI=!1,s.ys(new pl(s.jI,s.r_t)),s.ys(new El(s.jI)))},s.tdt=function(t){if(t.detail){var n=Number(t.detail.currentTime);n<s.cF&&(s.hF=!1),s.JI=!0,s.ys(new Tl(n))}},s.e_t=function(t){t.detail&&(t.detail.currentDate&&(s.r_t=new Date(1e3*t.detail.currentDate)),s.jI=+t.detail.currentTime,s.ys(new pl(s.jI,s.r_t)))},s.u_t=function(t){s.s_t=t.detail.height,s.o_t=t.detail.width},s.a_t=function(t){t.detail&&s.ys(new bp(+t.detail.currentTime))},s.mdt=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,enabled:t.detail.enabled};s.q_.ol(new c_(n))},s.c_t=function(t){for(var n,i,r=t.detail.lang,e=t.detail.label,u=0;u<s.U_.vl;u++){var o=s.q_.sl(u);o.Sl==r&&o.El==e?i=s.U_.sl(u):1==o.pl&&(n=s.U_.sl(u))}i&&n&&(i.pl=!0,n.pl=!1)},s.pdt=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,selected:t.detail.selected};s.z_.ol(new l_(n))},s.kG=function(t){var n,i=t.detail.kind,r=t.detail.type;i===Lw.Zm&&r===v_.ID3?(n=new AI("",t.detail.label)).Pl=Id.Dl:i===Lw.Zm&&r===v_.DATE_RANGE?(n=new rC,s.h_t=n):n=new lR(i,t.detail.label,t.detail.lang,t.detail.isDefault,r),s.UV.ol(n),s.bX.ol(n)},s.f_t=function(t){for(var n=0,i=t.detail;n<i.length;n++){var r=i[n],e=r.Id3FrameId,u={id:e,text:r.Id3FrameText};"TXXX"!==e&&"TXX"!==e||(u.description=r.Id3FrameDescription);var o=new kI(yd(r.startTime),u);o.Al=r.uid;var a=s.v_t();a&&a.yb(o)}},s.d_t=function(t){for(var n,i=0,r=t.detail;i<r.length;i++){var e=r[i],u=new C_(yd(e.startTime),yd(e.endTime),e.content,!1," "),o=null!==(n=s.l_t(Lw.eb))&&void 0!==n?n:s.l_t(Lw.ub);o&&(o.xu=v_.WEBVTT,o.yb(u))}},s.JS=function(t){t.type===So.ac&&(s.PS=Jl(t.errorObject)),s.gs(t)},s.__t=function(t){t.detail&&(s.Hlt.pg=t.detail.corruptedVideoFrames,s.Hlt.kg=t.detail.droppedVideoFrames,s.ys(new nF(s.B_)))},s.g_t=function(t){var n=function(t){var n=t.detail,i=[];return n.forEach(function(t){var n={Al:t.id};if(void 0!==t.startDate&&(n.TR=new Date(t.startDate)),void 0!==t.endDate&&(n.oY=new Date(t.endDate)),void 0!==t.customAttributes){var r={};for(var e in t.customAttributes){var u=iF(t.customAttributes[e]);void 0!==u&&(r[e]=u)}n.wY=r}void 0!==t.scte35Cmd&&(n.mY=tr(t.scte35Cmd)),void 0!==t.scte35In&&(n.bY=tr(t.scte35In)),void 0!==t.scte35Out&&(n.pY=tr(t.scte35Out)),void 0!==t.startTime&&(n.Zg=t.startTime),n.cY=t.class,n.y_=yd(t.duration),n.dY=yd(t.plannedDuration),i.push(n)}),i}(t);n.forEach(function(t){var i=null!=t.Zg?t.Zg:(new Date).getTime(),r=new ZD(t,i);s.h_t.yb(r),s.h_t.bo(n,i)})};var o=e.uid;s.Tlt=s.getSdkBridge(o),s.Wlt=new VU,BU()[o].sdkEventBus=s.Wlt,s.U_=new t_,s.F_=new t_;var a=s.w_t(r);return s.vb=new WM(jt(s),new wI),s.bX=new mI(jt(s)),s.sR=new iy(s.vb,a),s.UV=new Mw,s.kX=new II(jt(s)),s.kX.yl=s.UV,s.pX=new NI(s.vb,s.kX),s.H_=new gR([s.UV,s.sR.Vk,s.pX.Vk]),s.Ult=s.getFairPlayControllerBridge(s.Tlt),s.XE=new tF(s.Wlt,s.Ult),s.rR=new WU(s.XE,a),s.rR.ps(Np,s.JS),s.observeMediaElement(),s.uR(),s.tN=new XU(s.Tlt,u),s.tN.ps("Bx",function(){s.Tlt.KG("THEOplayerSetPreferredForwardBufferDuration",s.tN.Px)}),s}qt(n,t);var i=n.prototype;return i.cg=function(){return $p},i.sg=function(){this.Tlt.KG("THEOplayerShow",{})},i.og=function(){this.Tlt.KG("THEOplayerHide",{})},i.y_t=function(){var t=this;this.Tlt.KG("THEOplayerSetInitialPreferredPeakBitRate",this.tN.zx);this.ps("playing",function n(){t.Tlt.KG("THEOplayerSetInitialPreferredPeakBitRate",0),t.Es("playing",n)})},i.K_=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r,e,u;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Yvt=n,r=dn(dn({},i),{sources:{src:n.src,type:zd.Kl,contentProtection:n.contentProtection,ssai:n.ssai,crossOrigin:n.crossOrigin,hlsDateRange:n.hlsDateRange,isAdvertisement:n.isAdvertisement}}),this.Tlt.KG("THEOplayerSourceChange",r),e={xu:Zk.JE,Ul:n.src,af:n.type,oR:[],aR:n.crossOrigin,cR:i.metadata&&i.metadata.title},t.next=6,this.XE.po(e);case 6:this.ME=t.sent,this.rR.Oo(this.ME),this.rR.qb(this.hR(n)),i.textTracks&&(u=i.textTracks.filter(function(t){return t.format!==v_.WEBVTT})).length>0&&this.fR(u),oy(this.G_),this.y_t();case 12:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.hR=function(t){if(t.contentProtection&&t.contentProtection.fairplay){return{IT:t.contentProtection||{},Yb:[{Mo:Xn,Zb:[],DT:void 0,ua:void 0}],YE:[],ZE:["video/mp4"]}}},i.Q_=function(){this.YI=!1,this.ys(new _l(this.w_)),this.Tlt.KG("THEOplayerPlay",{})},i.Y_=function(){this.YI=!0,this.ys(new ll(this.w_)),this.Tlt.KG("THEOplayerPause",{})},i.ag=function(){},i.hl=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.jI=0,this.hF=!1,this.PS=void 0,this.BS=void 0,this.YI=!0,this.ZI=1,this.cF=void 0,this.VU=Yp.WI(),this.jlt=Yp.WI(),this.s_t=void 0,this.o_t=void 0,this.RF=Qd.s_,this.nS=Qd.s_,this.U_.hl(),this.F_.hl(),this.UV.hl(),this.H_.hl(),t.next=19,this.pX.hl();case 19:return this.kX.hl(),t.next=22,this.sR.hl();case 22:return this.vb.hl(),this.bX.hl(),this.Yvt=void 0,t.next=27,this.XE.hl();case 27:return t.next=29,this.rR.hl();case 29:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.ng=function(){this.Tlt.KG("THEOplayerShowAirPlayPicker",{})},i.ig=function(){this.Tlt.KG("THEOplayerStopAirPlayPicker",{})},i.updateMetrics=function(t){this.B_.pg=t.pg,this.B_.kg=t.kg},i.Jf=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.hl();case 2:return this.Ts(),this.unobserveMediaElement(),this.yR(),t.next=7,this.rR.Jf();case 7:return t.next=9,this.XE.es();case 9:return this.U_.Jf(),this.F_.Jf(),this.UV.Jf(),this.H_.Jf(),this.kX.Jf(),t.next=16,this.pX.Jf();case 16:return t.next=18,this.sR.Jf();case 18:this.vb.Jf(),this.bX.Jf();case 20:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.fR=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.sR._b(i)}},i.Zlt=function(){var t=this.nS,n=this.RF;t!==n&&(this.nS=n,this.ys(new Nl(this.w_,n)))},i.observeMediaElement=function(){this.XE.ps(So.ec,this.gs),this.Wlt.addEventListener("play",this.$vt),this.Wlt.addEventListener("pause",this.Kvt),this.Wlt.addEventListener("seeking",this.tdt),this.Wlt.addEventListener("seeked",this.ndt),this.Wlt.addEventListener("ratechange",this.idt),this.Wlt.addEventListener("durationchange",this.$lt),this.Wlt.addEventListener("timeupdate",this.e_t),this.Wlt.addEventListener("waiting",this.a_t),this.Wlt.addEventListener("playing",this.Ndt),this.Wlt.addEventListener("ended",this.udt),this.Wlt.addEventListener("loadedmetadata",this.t_t),this.Wlt.addEventListener("loadeddata",this.Klt),this.Wlt.addEventListener("loadstart",this.sdt),this.Wlt.addEventListener("canplay",this.Ylt),this.Wlt.addEventListener("canplaythrough",this.Jlt),this.Wlt.addEventListener("error",this.US),this.Wlt.addEventListener("seekablechange",this.i_t),this.Wlt.addEventListener("videosizechange",this.u_t),this.Wlt.addEventListener("bufferedchange",this.Qlt),this.Wlt.addEventListener("playedchange",this.n_t),this.Wlt.addEventListener("metricschange",this.__t),this.Wlt.addEventListener("addDateRangeCues",this.g_t)},i.unobserveMediaElement=function(){this.XE.Es(So.ec,this.gs),this.Wlt.removeEventListener("play",this.$vt),this.Wlt.removeEventListener("pause",this.Kvt),this.Wlt.removeEventListener("seeking",this.tdt),this.Wlt.removeEventListener("seeked",this.ndt),this.Wlt.removeEventListener("ratechange",this.idt),this.Wlt.removeEventListener("durationchange",this.$lt),this.Wlt.removeEventListener("timeupdate",this.e_t),this.Wlt.removeEventListener("waiting",this.a_t),this.Wlt.removeEventListener("playing",this.Ndt),this.Wlt.removeEventListener("ended",this.udt),this.Wlt.removeEventListener("loadedmetadata",this.t_t),this.Wlt.removeEventListener("loadeddata",this.Klt),this.Wlt.removeEventListener("loadstart",this.sdt),this.Wlt.removeEventListener("canplay",this.Ylt),this.Wlt.removeEventListener("canplaythrough",this.Jlt),this.Wlt.removeEventListener("error",this.US),this.Wlt.removeEventListener("seekablechange",this.i_t),this.Wlt.removeEventListener("videosizechange",this.u_t),this.Wlt.removeEventListener("bufferedchange",this.Qlt),this.Wlt.removeEventListener("playedchange",this.n_t),this.Wlt.removeEventListener("metricschange",this.__t),this.Wlt.removeEventListener("addDateRangeCues",this.g_t)},i.updateCurrentTime=function(t){var n=this.Ng.start(0),i=this.Ng.end(0);return g.min(g.max(t,n),i)},i.v_t=function(){for(var t=0,n=this.H_.fl;t<n.length;t++){var i=n[t];if(i.Tl===Lw.Zm&&i.xu===v_.ID3)return i}},i.l_t=function(t){for(var n=0,i=this.H_.fl;n<i.length;n++){var r=i[n],e=r.Pl===Id.Cl,u=r.Tl===t;if(e&&u)return r}},i.uR=function(){this.Wlt.addEventListener("addaudiotrack",this.mdt),this.Wlt.addEventListener("enableaudiotrack",this.c_t),this.Wlt.addEventListener("addvideotrack",this.pdt),this.Wlt.addEventListener("addtexttrack",this.kG),this.Wlt.addEventListener("addtexttrackid3cues",this.f_t),this.Wlt.addEventListener("addtexttrackcues",this.d_t)},i.yR=function(){this.Wlt.removeEventListener("addaudiotrack",this.mdt),this.Wlt.removeEventListener("enableaudiotrack",this.c_t),this.Wlt.removeEventListener("addvideotrack",this.pdt),this.Wlt.removeEventListener("addtexttrack",this.kG),this.Wlt.removeEventListener("addtexttrackid3cues",this.f_t),this.Wlt.removeEventListener("addtexttrackcues",this.m_t)},i._g=function(){},T(n,[{key:"q_",get:function(){return this.U_}},{key:"gg",get:function(){return this.jlt.pR()}},{key:"wg",get:function(){return this.r_t?this.r_t:null},set:function(t){this.Tlt.KG("THEOplayerSetCurrentProgramDateTime",t.getTime()),this.r_t=t}},{key:"w_",get:function(){return this.jI},set:function(t){this.setCurrentTime(t)}},{key:"y_",get:function(){return this.cF}},{key:"m_",get:function(){return this.hF}},{key:"Bs",get:function(){return this.PS}},{key:"k_",get:function(){return this.BS}},{key:"j_",get:function(){}},{key:"mg",get:function(){return this.XE.mg}},{key:"B_",get:function(){return this.Hlt}},{key:"p_",get:function(){return this.QI},set:function(t){this.QI!==t&&(this.Tlt.KG("THEOplayerSetMuted",t),this.QI=t,this.ys(new Sl(this.w_,t?0:1)))}},{key:"A_",get:function(){return this.YI}},{key:"b_",get:function(){return this.ZI},set:function(t){this.Tlt.KG("THEOplayerSetPlaybackRate",t),this.ZI=t}},{key:"Rg",get:function(){return this.TV.pR()}},{key:"Ig",get:function(){return Vp.GR},set:function(t){}},{key:"Bl",get:function(){return this.RF}},{key:"Ng",get:function(){return this.VU.pR()}},{key:"T_",get:function(){return this.JI}},{key:"TR",get:function(){}},{key:"G_",get:function(){return this.H_}},{key:"E_",get:function(){return this.s_t}},{key:"S_",get:function(){return this.o_t}},{key:"R_",get:function(){return 1},set:function(t){}},{key:"z_",get:function(){return this.F_}},{key:"ER",get:function(){return this.MS}},{key:"Sg",get:function(){return!0}}]),n}(Ud),oF=function(){function t(){this.SR=Rp.IS}var n=t.prototype;return n.RR=function(n,i){if(n.isAdvertisement)return!1;if(i.vr&&i.vr[360])return!1;if(Kd(n.type))return!1;var r=n.contentProtection;if(r&&!Vy(r)){if(!qy(r))return!1;if(!t.Ddt(r))return!1}return!0},t.Ddt=function(t){return Boolean(t.fairplay)||Boolean(t.aes128)},n.IR=function(){return!1},t}(),aF=function(){function t(){this.k_t=u.webkit}return t.prototype.KG=function(t,n){this.k_t.messageHandlers[t]&&this.k_t.messageHandlers[t].postMessage(n)},t}(),cF=function(t){function n(n){var i;return(i=t.call(this)||this).p_t=function(t){var n=tr(t.detail.initData),r=t.detail.sessionId;i.ys(new zU(n,r))},i.A_t=function(t){var n=new k(or(t.detail.message)),r=t.detail.destinationURL;i.ys(new GU(n,r))},i.b_t=function(t){i.ys(new jU)},i.Tlt=n,i.Wlt=new VU,BU().fairplayController={sdkEventBus:i.Wlt},i.KJ(),i}qt(n,t);var i=n.prototype;return i.KJ=function(){this.Wlt.addEventListener(FU.Dlt,this.p_t),this.Wlt.addEventListener(FU.Clt,this.A_t),this.Wlt.addEventListener(FU.Olt,this.b_t)},i.TT=function(t,n){var i={data:ar(n.buffer),sessionId:t};this.Tlt.KG("THEOplayerCreateKeySession",i)},i.bo=function(t,n){var i={data:ar(n.buffer),sessionId:t};this.Tlt.KG("THEOplayerUpdateKey",i)},n}(Ud),hF=function(t){function n(n,i,r,e,u,s){var o;o=t.call(this,n,i,r,e,u)||this;var a=i.KS(Kl.Xf);return o.PG=new zI,o.PG.zX(n),o.BG=new aD(o.PG.yg,a.ZB,o.G_,s,a.gR),i.mR(a),Tn.document.querySelector(".vjs-tech")?Tn.document.querySelector(".player-div").classList.add("theo-ios-sdk"):Tn.document.querySelector(".player-div").style.background="transparent",o}qt(n,t);var i=n.prototype;return i.sg=function(){t.prototype.sg.call(this),this.PG.sg()},i.og=function(){t.prototype.og.call(this),this.PG.og()},i.tg=function(){return!0},i.getSdkBridge=function(){return new aF},i.getFairPlayControllerBridge=function(){return vF},i.w_t=function(t){return t},i.Jf=function(){var n=vn.coroutine(fn.mark(function n(){return fn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Tn.document.querySelector(".vjs-tech")?Tn.document.querySelector(".player-div").classList.remove("theo-ios-sdk"):Tn.document.querySelector(".player-div").style.background="#000000",n.next=3,t.prototype.Jf.call(this);case 3:this.BG.Jf(),this.PG.Jf();case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),n}(sF);Fp(new(function(t){function n(){return t.apply(this,arguments)||this}qt(n,t);var i=n.prototype;return i.Pb=function(t,n,i,r,e,u){return new hF(t,n,i,r,e,u)},i.RR=function(n,i){if(n.type){var r=Ze();if(!(r&&r.canPlayType&&r.canPlayType(n.type)))return!1}return t.prototype.RR.call(this,n,i)},n}(oF)));var fF,vF=new cF(new aF),dF=function(t){function n(){return t.call(this,"T_t")||this}return qt(n,t),n.prototype.Pd=function(){return new lF},n}($v),lF=function(t){function n(){return t.call(this,"statechange")||this}return qt(n,t),n}(Vi);!function(t){t.IDLE="idle",t.LOADING="loading",t.DONE="done",t.ERROR="error",t.EVICTED="evicted"}(fF||(fF={}));var _F=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).E_t=new Ud,n.gs=function(t){n.ys(t)},n}qt(n,t);var i=n.prototype;return i.Pd=function(){return n=gF(t=this),i=new iE(t,n),n.addEventListener=function(t,n){i.ps(t,n)},n.removeEventListener=function(t,n){i.Es(t,n)},n;var t,n,i},i.ps=function(t,n){this.E_t.ps(t,n)},i.bs=function(t){this.E_t.bs(t)},i.Ts=function(){this.E_t.Ts()},i.ys=function(t){this.E_t.ys(t)},i.Es=function(t,n){this.E_t.Es(t,n)},i.Rs=function(t){this.E_t.Rs(t)},i.Is=function(t){this.E_t.Is(t)},i.Ns=function(t,n){return this.E_t.Ns(t,n)},n}(function(){function t(){this.Vs=[],this.Od=void 0}var n=t.prototype;return n.Pd=function(){return gF(this)},n.sl=function(t){return this.Vs[t]},n.Cg=function(t){this.Vs.push(t),this.Od&&this.Od.push(t.xd),this.S_t(t)},n.R_t=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.Cg(i)}},n.I_t=function(t,n){n>=0&&n<=this.Vs.length&&(this.Vs.splice(n,0,t),this.Od&&this.Od.splice(n,0,t.xd),this.S_t(t))},n.Og=function(t){return li(this.Vs,t)},n.Ao=function(t){this.N_t(this.Vs.indexOf(t))},n.N_t=function(t){if(t>=0&&t<this.Vs.length){var n=this.Vs[t];di(this.Vs,t),this.Od&&di(this.Od,t),this.D_t(n)}},n.Gs=function(){var t=this.Vs.slice();gi(this.Vs),this.Od&&gi(this.Od);for(var n=0;n<t.length;n++){var i=t[n];this.D_t(i)}},T(t,[{key:"C_t",get:function(){return this.Vs}},{key:"vl",get:function(){return this.Vs.length}},{key:"xd",get:function(){return this.Od||(this.Od=this.Pd()),this.Od}}]),t}());function gF(t){var n=t.C_t.map(function(t){return t.xd});return n.item=function(n){n|=0;var i=t.sl(n);return i&&i.xd||void 0},n}var wF,yF=function(t){function n(n){var i;return(i=t.call(this,"addtask")||this).task=n,i}return qt(n,t),n}(Vi),mF=function(t){function n(n){var i;return(i=t.call(this,"x_t")||this).O_t=n,i}return qt(n,t),n.prototype.Pd=function(){return new yF(this.O_t.xd)},n}($v),kF=function(t){function n(n){var i;return(i=t.call(this,"removetask")||this).task=n,i}return qt(n,t),n}(Vi),pF=function(t){function n(n){var i;return(i=t.call(this,"P_t")||this).task=n,i}return qt(n,t),n.prototype.Pd=function(){return new kF(this.task.xd)},n}($v),AF=function(t){function n(){return t.call(this)||this}qt(n,t);var i=n.prototype;return i.S_t=function(t){this.ys(new mF(t))},i.D_t=function(t){this.ys(new pF(t))},n}(_F);!function(t){t.UNINITIALISED="uninitialised",t.INITIALISED="initialised"}(wF||(wF={}));var bF=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).B_t=wF.UNINITIALISED,e.pb=new AF,e.L_t=i,e.M_t=r,e.w8=n,e.rg(),e}qt(n,t);var i=n.prototype;return i.rg=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.U_t();case 2:this.F_t(wF.INITIALISED);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.U_t=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.H_t();case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0);case 8:case"end":return t.stop()}},t,this,[[0,5]])}));return function(){return t.apply(this,arguments)}}(),i.H_t=function(){var t=vn.coroutine(fn.mark(function t(){var n,i,r,e;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.w8.xK();case 2:for(n=t.sent,i=0;i<n.length;i++)r=n[i],e=this.L_t.V_t(r.id,r.sourceDescription,r.parameters,this.M_t),this.X_t(e),this.pb.Cg(e);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.F_t=function(t){this.B_t=t,this.ys(new dF)},i.V_t=function(t,n,i){void 0===i&&(i="persistent");var r=this.L_t.W_t(t,n,i);return this.q_t(r,i),this.pb.Cg(r),this.X_t(r),r},i.q_t=function(){var t=vn.coroutine(fn.mark(function t(n,i){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.z_t(n,i);case 3:t.next=8;break;case 5:throw t.prev=5,t.t0=t.catch(0),d("Unable to persist task - "+t.t0);case 8:case"end":return t.stop()}},t,this,[[0,5]])}));return function(n,i){return t.apply(this,arguments)}}(),i.z_t=function(){var t=vn.coroutine(fn.mark(function t(n,i){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.w8.NK({key:n.Al,id:n.Al,sourceDescription:n.HR,parameters:n.JA},i);case 2:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.X_t=function(t){var n=this;t.ps("T_t",function(){t.kf===fF.EVICTED&&n.pb.Ao(t)})},T(n,[{key:"kf",get:function(){return this.B_t}},{key:"G_t",get:function(){return this.pb}}]),n}(Fi);function TF(t,n){return function(t,n){var i=t.Ka&&n.Ka,r=t.rp&&n.rp;return i||r?i&&r?t.Ka*t.rp-n.Ka*n.rp:i?t.Ka-n.Ka:r?t.rp-n.rp:(t.Ka||1)*(t.rp||1)-(n.Ka||1)*(n.rp||1):0}(t,n)||function(t,n){return t.OS-n.OS}(t,n)}var EF=function(t){function n(){return t.call(this,"progress")||this}return qt(n,t),n}(Vi),SF=function(t){function n(){return t.call(this,"nK")||this}return qt(n,t),n.prototype.Pd=function(){return new EF},n}($v),RF=function(){function t(t,n,i){if(this.j_t=t,this.Dg=n,this.Q_t=i,0===this.Dg.size)this.Y_t=Yp.WI();else{var r=new Yp([-1/0,1/0]);this.Dg.forEach(function(t){r=r.yI(t.timeRanges)}),this.Y_t=r}}return t.prototype._w=function(t){return!!ld(this.Dg,t.Dg)&&(!!Mt(this.j_t,t.j_t)&&(!!Mt(this.FI,t.FI)&&(!!Mt(this.Z_t,t.Z_t)&&this.J_t.OI(t.J_t))))},t.$_t=function(){return NF},T(t,[{key:"FI",get:function(){return this.Q_t}},{key:"K_t",get:function(){return this.j_t}},{key:"Z_t",get:function(){return this.J_t.FI}},{key:"tgt",get:function(){var t=0,n=0;return this.Dg.forEach(function(i){t+=i.timeRanges.FI,n+=i.totalQualityDurationToCache}),0===n?0:g.min(1,t/n)}},{key:"J_t",get:function(){return this.Y_t}}]),t}(),IF=_n(),NF=new RF(0,IF,NaN);function DF(t,n){if(X(t)){if(jn(t,"%"))return y(t)/100*n;throw new d("Unexpected - Invalid string supplied as amount to cache.")}return n<t?n:t}var CF,OF=function(t){function n(n,i){return t.call(this,n,i)||this}return qt(n,t),T(n,[{key:"name",get:function(){return"ngt"}}]),n}(Yt);function xF(t,n,i,r){var e,u=[],s=hi(i,function(t){return t.igt===Nn});if(s){for(var o=0;o<i.length;o++){var a=i[o];if(a.igt!==Nn)for(var c=0,h=zn(a.igt);c<h.length;c++){var f=h[c];u.push({Mo:f,Zb:a.rgt?[a.rgt]:[],DT:null!==(e=a.DT)&&void 0!==e?e:s.DT,ua:void 0})}}if(u.length)return{IT:t,Yb:u,YE:n===Kl.Vf?r.slice():[],ZE:n===Kl.Xf?r.slice():[],jb:!1}}}function PF(t,n){if(!t)return n;if(!n)return t;var i=[],r=_n();return BF(i,r,t.Yb),BF(i,r,n.Yb),{IT:t.IT,Yb:i,YE:LF(t.YE,n.YE,li),ZE:LF(t.ZE,n.ZE,li),jb:t.jb||n.jb}}function BF(t,n,i){for(var r=0;r<i.length;r++){var e=i[r],u=e.Mo.Mu,s=void 0;n.has(u)?(s=n.get(u)).Zb=LF(s.Zb,e.Zb,MF):(s=dn({},e),t.push(s),n.set(u,s))}}function LF(t,n,i){for(var r=t.slice(),e=0;e<n.length;e++){var u=n[e];i(r,u)||r.push(u)}return r}function MF(t,n){for(var i=0;i<t.length;i++){if(ur(t[i],n))return!0}return!1}function UF(t,n){var i,r=t.egt;if(r){for(var e=t.bC,u=[],s=0,o=t.eJ;s<o.length;s++){var a=o[s];u.push(e+'; codecs="'+a+'"')}i=xF(n||{},t.xu,r,u)}for(var c=0,h=t.ugt;c<h.length;c++){i=PF(i,FF(h[c],n))}return i}function FF(t,n){return xF(n||{},t.xu,t.egt||[],[t.af])}function HF(t,n,i){return VF.apply(this,arguments)}function VF(){return(VF=vn.coroutine(fn.mark(function t(n,i,r){var e,u,s,o,a;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=[],u=0,s=n.sgt;u<s.length;u++)o=s[u],e.push(XF(o,i,r));return t.next=4,vn.all(e);case 4:return a=t.sent,t.abrupt("return",{y_:n.agt.ogt(),cgt:[n.hgt],sgt:a});case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function XF(t,n,i){return WF.apply(this,arguments)}function WF(){return(WF=vn.coroutine(fn.mark(function t(n,i,r){var e,u,s,o,a;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=[],u=0,s=n.fgt;u<s.length;u++)o=s[u],e.push(qF(o,i,r));return t.next=4,vn.all(e);case 4:return a=t.sent,t.abrupt("return",{vgt:a});case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function qF(t,n,i){return zF.apply(this,arguments)}function zF(){return(zF=vn.coroutine(fn.mark(function t(n,i,r){var e,u,s,o,a;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=[],u=0,s=n.dgt;u<s.length;u++)GF(o=s[u])||e.push(ZF(o,i,r));return t.next=4,vn.all(e);case 4:return a=t.sent,t.abrupt("return",{Vk:a,xu:n.xu});case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function GF(t){return t.ugt.every(YF)}!function(t){t[t.$l=0]="$l",t[t.Kl=1]="Kl"}(CF||(CF={}));var jF,QF=1;function YF(t){return t.lgt!==QF&&Boolean(t.lgt)}function ZF(t,n,i){return JF.apply(this,arguments)}function JF(){return(JF=vn.coroutine(fn.mark(function t(n,i,r){var e,u,s,o,a,c,h,f,v;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=[],u=0,s=n.ugt;u<s.length;u++)YF(o=s[u])||e.push(KF(o,r));return t.next=4,vn.all(e);case 4:return a=t.sent,c=n.eJ[0],h=n.egt,f=h?$F(c,h):void 0,v=UF(n,i),t.abrupt("return",{Rl:a,Sl:n._gt,xu:n.xu,oR:f,ggt:v});case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function $F(t,n){for(var i=[],r=function(t){return t?jn(t,"avc")?dw.VIDEO_H264:jn(t,"hev")||jn(t,"hvc")||jn(t,"hvt")||jn(t,"lhv")||jn(t,"lhe")||jn(t,"lht")?dw.VIDEO_H265:jn(t,"mp4")?dw.VIDEO_MP4:jn(t,"mpeg2")?dw.VIDEO_MPEG2:jn(t,"mpeg")?dw.VIDEO_MPEG:dw.VIDEO_UNKNOWN:dw.VIDEO_UNKNOWN}(t),e=0;e<n.length;e++){var u=n[e],s=u.igt.split(":").pop(),o=u.rgt;i.push({mimeType:r,uuid:s,data:o})}return{type:CF.$l,schemeType:Dn,schemeDatas:i}}function KF(t,n){return tH.apply(this,arguments)}function tH(){return(tH=vn.coroutine(fn.mark(function t(n,i){var r,e,u,s;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,nH(n,i);case 2:u=t.sent,s={Al:eH(n),XA:u,V9:n.z9,OS:n.OS,Ja:n.Ja,rp:n.rp,xu:n.xu,Ka:n.Ka},t.t0=n.xu,t.next=t.t0===Kl.pn?7:t.t0===Kl.Xf?8:t.t0===Kl.Vf?10:12;break;case 7:return t.abrupt("break",13);case 8:return s.B$=null!==(e=null===(r=n.B$)||void 0===r?void 0:r.Nw())&&void 0!==e?e:NaN,t.abrupt("break",13);case 10:return s.audioSamplingRate=n.Dvt,t.abrupt("break",13);case 12:0;case 13:return t.abrupt("return",s);case 14:case"end":return t.stop()}},t)}))).apply(this,arguments)}function nH(t,n){return iH.apply(this,arguments)}function iH(){return(iH=vn.coroutine(fn.mark(function t(n,i){var r,e,u,s,o,a,c,h;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],e=n.wgt,u=e.ygt(),s=u;case 4:if(!s){t.next=16;break}if(!e.mgt(s.M5)){t.next=12;break}return t.next=8,n.kgt(s,i,(new ki).ds);case 8:for(o=t.sent,a=0;a<o.vl;a++)r.push(rH(o.pgt(a),n));t.next=13;break;case 12:r.push(rH(s,n));case 13:s=e._ht(s),t.next=4;break;case 16:return c=e.Agt(),h=c.Jg-u.Zg,t.abrupt("return",{y_:h,UK:r});case 19:case"end":return t.stop()}},t)}))).apply(this,arguments)}function rH(t,n){return{Zg:t.Zg,y_:t.y_,bgt:n.Tgt(t)}}function eH(t){return t.Egt.uI+"-"+(""+t.Al)}function uH(t,n){return function(t,n){var i={};for(var r in t){var e=t[r];for(var u in i[r]={},e){var s=[];i[r][u]=[];for(var o=e[u],a=0;a<o.length;a++){var c=o[a],h=sH(c,r,n);s.push(h)}i[r][u]=s}}return i}(function(t){var n=function(t){for(var n={},i=0;i<t.length;i++){var r=t[i];n[r["group-id"]]||(n[r["group-id"]]={xu:r.type,Zk:[]}),n[r["group-id"]].Zk.push(r)}return n}(t),i={};for(var r in n)for(var e=n[r],u=0,s=e.Zk;u<s.length;u++){var o=s[u];i[e.xu]||(i[e.xu]={}),i[e.xu][o.name]||(i[e.xu][o.name]=[]),i[e.xu][o.name].push(o)}return i}(t),n)}function sH(t,n,i){for(var r=t["group-id"],e={qZ:t,c$:[]},u=0;u<i.length;u++){var s=i[u];s[n.toLowerCase()]===r&&e.c$.push(s)}return e}function oH(t,n){return aH.apply(this,arguments)}function aH(){return(aH=vn.coroutine(fn.mark(function t(n,i){var r,e;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.d8([n],{});case 2:return r=t.sent,e=new XP,t.abrupt("return",e.Ik(r.r8,r.Sf,JP(r.Sf)));case 5:case"end":return t.stop()}},t)}))).apply(this,arguments)}function cH(t,n){return hH.apply(this,arguments)}function hH(){return(hH=vn.coroutine(fn.mark(function t(n,i){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.isMasterPlaylist){t.next=4;break}return t.abrupt("return",fH(n,i));case 4:return t.abrupt("return",(e=void 0,e=EH(r=n),{y_:r.duration,cgt:[r.uri],sgt:[{vgt:[{Vk:[{Rl:[{Al:r.uri,XA:e,OS:0,Ja:"",rp:0,xu:null,Ka:0}]}]}]}]}));case 5:case"end":return t.stop()}var r,e},t)}))).apply(this,arguments)}function fH(t,n){return vH.apply(this,arguments)}function vH(){return(vH=vn.coroutine(fn.mark(function t(n,i){var r,e,u;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=uH(n.media,n.streams),t.next=3,gH(r,i);case 3:return e=t.sent,t.next=6,lH(n.streams,i);case 6:return u=t.sent,e.push(u),t.abrupt("return",{y_:dH(e),cgt:[n.uri],sgt:[{vgt:e}]});case 9:case"end":return t.stop()}},t)}))).apply(this,arguments)}function dH(t){for(var n=-1/0,i=0;i<t.length;i++)for(var r=0,e=t[i].Vk;r<e.length;r++){var u=e[r];n=g.max.apply(g,[n].concat(u.Rl.map(function(t){return t.XA.y_})))}return n}function lH(t,n){return _H.apply(this,arguments)}function _H(){return(_H=vn.coroutine(fn.mark(function t(n,i){var r,e,u,s;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],e=0;case 2:if(!(e<n.length)){t.next=15;break}return u=n[e],t.next=6,bH(u.uri,i);case 6:(s=t.sent).OS=u.bandwidth,s.Ja=u.codecs,s.rp=u.resolution&&u.resolution.height,s.Ka=u.resolution&&u.resolution.width,r.push(s);case 12:e++,t.next=2;break;case 15:return t.abrupt("return",{Vk:[{Rl:r}]});case 16:case"end":return t.stop()}},t)}))).apply(this,arguments)}function gH(t,n){return wH.apply(this,arguments)}function wH(){return(wH=vn.coroutine(fn.mark(function t(n,i){var r,e,u,s;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],t.t0=fn.keys(n);case 2:if((t.t1=t.t0()).done){t.next=11;break}return e=t.t1.value,u=n[e],t.next=7,yH(u,i);case 7:s=t.sent,r.push(s),t.next=2;break;case 11:return t.abrupt("return",r);case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function yH(t,n){return mH.apply(this,arguments)}function mH(){return(mH=vn.coroutine(fn.mark(function t(n,i){var r,e,u,s;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],t.t0=fn.keys(n);case 2:if((t.t1=t.t0()).done){t.next=11;break}return e=t.t1.value,u=n[e],t.next=7,kH(u,i);case 7:s=t.sent,r.push(s),t.next=2;break;case 11:return t.abrupt("return",{Vk:r});case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function kH(t,n){return pH.apply(this,arguments)}function pH(){return(pH=vn.coroutine(fn.mark(function t(n,i){var r,e,u,s;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],e=0;case 2:if(!(e<n.length)){t.next=11;break}return u=n[e],t.next=6,AH(u,i);case 6:s=t.sent,r.push(s);case 8:e++,t.next=2;break;case 11:return t.abrupt("return",{Rl:r});case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function AH(t,n){var i,r,e;return bH((r=(i=t).qZ.uri,e=i.c$.map(function(t){return t.uri}),r||(e.length?e[0]:null)),n)}function bH(t,n){return TH.apply(this,arguments)}function TH(){return(TH=vn.coroutine(fn.mark(function t(n,i){var r,e;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,oH(n,i);case 2:return r=t.sent,e=EH(r),t.abrupt("return",{Al:n,Sgt:n,XA:e,OS:0,Ja:"",rp:0,xu:null,Ka:0});case 5:case"end":return t.stop()}},t)}))).apply(this,arguments)}function EH(t){for(var n=[],i=0,r=t.fragments;i<r.length;i++){var e=r[i];n.push(SH(e))}return{y_:t.duration,UK:n}}function SH(t){return{Zg:t.start,y_:t.duration,bgt:RH(t.uri)}}function RH(t){return uC(t)?{Rf:t.IY,NY:[t.NY.uI,t.NY.oI],Qf:!1}:{Rf:t.toString(),Qf:!1}}!function(t){t.JE="static",t.$E="dynamic"}(jF||(jF={}));var IH,NH=31536e3,DH=2592e3,CH=86400,OH=3600,xH=60,PH=/^P(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)D)?(?:T(?:(\d+)H)?(?:(\d+)M)?(?:(\d*\.?\d*)S)?)?$/,BH=function(){function t(t){var n=t.match(PH);if(!n)throw new d("The given value could not be parsed as a valid DateTimeInterval");var i=Number(n[1])||0,r=Number(n[2])||0,e=Number(n[3])||0,u=Number(n[4])||0,s=Number(n[5])||0,o=Number(n[6])||0;this.Rgt=i*NH+r*DH+e*CH+u*OH+s*xH+o}var n=t.prototype;return n.ogt=function(){return this.Rgt},n.Igt=function(){return 1e3*this.Rgt},T(t,[{key:"z1",get:function(){return tg.Ly(this.Rgt,1e3)}}]),t}();!function(t){t.Ngt="progressive",t.Dgt="interlaced",t.Nf="unknown"}(IH||(IH={}));var LH=function(){function t(t,n){this.Cgt=t,this.Ogt=n}return t.prototype.Nw=function(){return this.Cgt/this.Ogt},t}(),MH=/^(?:true|false)$/i,UH=/^(-?)(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(?:Z|([+-])(\d{2}):(\d{2}))?$/;function FH(t){if(void 0!==t)return new BH(t)}function HH(t){if(void 0!==t){var n=t.match(UH);if(!n)throw new d("The given value could not be parsed as a valid Date");var i=n[1],r=n[2],e=n[3],u=n[4],s=n[5],o=n[6],a=n[7],c=n[8],h=n[9],f=n[10],v=n[11],l=("-"===i?-1:1)*Number(r),_=Number(e)-1,w=Number(u),y=Number(s),k=Number(o),p=Number(a),A=Number("0."+(c||"")),b=g.round(1e3*A);if(h)k-=("-"===h?-1:1)*(60*Number(f)+Number(v));var T=new Date(Date.UTC(l,_,w,y,k,p,b));if(m(T.getTime()))throw new d("The given value could not be parsed as a valid Date");return T}}function VH(t){if(t){var n=/(\d+)-(\d+)/.exec(t);if(n)return[WH(n[1]),WH(n[2])]}}function XH(t){if(void 0!==t){if(!m(Number(t)))try{return Ct.fromString(t,!0)}catch(t){}throw new d("The given value could not be parsed as a valid unsigned long")}}function WH(t){if(void 0!==t){var n=Number(t);if(!m(n))return n;throw new d("The given value could not be parsed as a valid Number")}}function qH(t){if(void 0!==t){var n=t.split("/"),i=Number(n[0]),r=Number(n[1]||1);if(!m(i)&&!m(r))return new LH(i,r);throw new d("The given value could not be parsed as a valid frame rate")}}function zH(t){if(void 0!==t){if(MH.test(t))return"true"===t.toLowerCase();if(!m(w(t)))return Boolean(w(t));throw new d("The given value could not be parsed as a valid Boolean.")}}function GH(t){return{Rf:t.Zn,xgt:zH(t.Wn("availabilityTimeComplete")),Pgt:WH(t.Wn("availabilityTimeOffset"))}}function jH(t){return t.map(GH)}function QH(t){var n,i,r,e,u,s,o=uV(t),a=(i="default_KID",r="urn:mpeg:cenc:2013",e="cenc",void 0===(u=(n=t).qn(r,i))&&(u=n.Wn(e+":"+i)),u),c=mw(t,"pssh","urn:mpeg:cenc:2013","cenc")[0];if(void 0!==c&&(s=or(c.Zn)),!s){var h=mw(t,"pro","urn:microsoft:playready","mspr")[0];void 0!==h&&(s=function(t){var n=tr(t.Zn),i=new k([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),r=n.length,e=12+i.length+4+r,u=new ArrayBuffer(e),s=new k(u),o=new DataView(u),a=new ee;Dr(o,a,e),Dr(o,a,1886614376),Dr(o,a,0),Tr(o,a,i),Dr(o,a,r),Tr(o,a,n),0;return s.buffer}(h))}return{DT:a,rgt:s,igt:o.igt,xn:o.xn}}function YH(t){return{Bgt:t.Wn("sourceURL"),NY:VH(t.Wn("range"))}}function ZH(t,n){var i=t.Wn("d"),r=t.Wn("t"),e=WH(t.Wn("r"));n.push({y_:i,Zg:r,Lgt:e})}function JH(t){return{M5:t.Wn("index"),Mgt:VH(t.Wn("indexRange")),Zk:t.Wn("media"),Ugt:VH(t.Wn("mediaRange"))}}function $H(t){var n,i,r=nV(t),e=(n=t.Ln("SegmentURL"),(i=n.map(JH)).length>0?i:void 0),u=t.Wn("xlink:href"),s=t.Wn("xlink:actuate");return dn(dn({},r),{Fgt:e,Hgt:u,Vgt:s})}function KH(t){var n=t.map($H);return n.length>0?n:void 0}function tV(t){var n=zH(t.Wn("availabilityTimeComplete")),i=WH(t.Wn("availabilityTimeOffset")),r=VH(t.Wn("indexRange")),e=zH(t.Wn("indexRangeExact")),u=t.Ln("Initialization");if(u.length>1)throw new d("The provided MPEG-DASH document's "+t.Un+" element can not have more than one Initialization element.");var s=1===u.length?YH(u[0]):void 0,o=XH(t.Wn("presentationTimeOffset")),a=t.Ln("RepresentationIndex");if(a.length>1)throw new d("The provided MPEG-DASH document's "+t.Un+" element can not have more than one RepresentationIndex element.");return{xgt:n,Pgt:i,Mgt:r,Xgt:e,Wgt:s,qgt:o,zgt:1===a.length?YH(a[0]):void 0,Ggt:FH(t.Wn("timeShiftBufferDepth")),Ey:WH(t.Wn("timescale"))}}function nV(t){var n=tV(t),i=t.Ln("BitstreamSwitching"),r=i.length>0?YH(i[0]):void 0,e=WH(t.Wn("duration")),u=t.Ln("SegmentTimeline");if(u.length>1)throw new d("The provided MPEG-DASH document's "+t.Un+" element can not have more than one SegmentTimeline element.");var s=1===u.length?function(t){for(var n=[],i=t.Ln("S"),r=0;r<i.length;r++)ZH(i[r],n);return n}(u[0]):void 0,o=WH(t.Wn("startNumber")),a=WH(t.Wn("endNumber"));return dn(dn({},n),{jgt:r,y_:e,wgt:s,Qgt:o,Ygt:a})}function iV(t){var n=nV(t),i=t.Wn("bitstreamSwitching"),r=t.Wn("index"),e=t.Wn("initialization"),u=t.Wn("media");return dn(dn({},n),{Zgt:i,Jgt:r,$gt:e,Kgt:u})}function rV(t){return{Dvt:function(t){if(t){var n=t.split(/\s/);return n.length>1?(n.length=2,n.map(WH)):1===n.length?n.map(WH)[0]:void 0}}(t.Wn("audioSamplingRate")),eJ:t.Wn("codecs"),twt:zH(t.Wn("codingDependency")),egt:function(t){if(0!==t.length)return t.map(QH)}(t.Ln("ContentProtection")),nwt:t.Ln("EssentialProperty").map(sV),B$:qH(t.Wn("frameRate")),rp:WH(t.Wn("height")),lgt:WH(t.Wn("maxPlayoutRate")),iwt:WH(t.Wn("maximumSAPPeriod")),bC:t.Wn("mimeType"),rwt:t.Wn("profiles"),ewt:t.Wn("sar"),uwt:function(t){switch(t){case IH.Ngt:case IH.Dgt:case IH.Nf:return t;default:return}}(t.Wn("scanType")),swt:t.Wn("segmentProfiles"),owt:WH(t.Wn("startWithSAP")),Ka:WH(t.Wn("width"))}}function eV(t){var n=rV(t),i=WH(t.Wn("bandwidth")),r=jH(t.Ln("BaseURL")),e=t.Wn("dependencyId"),u=t.Wn("id"),s=t.Wn("mediaStreamStructureId"),o=WH(t.Wn("qualityRanking")),a=t.Ln("SegmentBase");if(a.length>1)throw new d("The provided MPEG-DASH document's Representation element can not have more than one SegmentBase element.");var c=1===a.length?tV(a[0]):void 0,h=KH(t.Ln("SegmentList")),f=t.Ln("SegmentTemplate");if(f.length>1)throw new d("The provided MPEG-DASH document's Representation element can not have more than one SegmentTemplate element.");var v=1===f.length?iV(f[0]):void 0;return dn(dn({},n),{OS:i,awt:r,cwt:e,Al:u,hwt:s,fwt:o,vwt:c,dwt:h,lwt:v})}function uV(t){return{igt:t.Wn("schemeIdUri"),xn:t.Wn("value")}}function sV(t){return uV(t)}function oV(t){return uV(t)}function aV(t){return uV(t)}function cV(t){var n=rV(t),i=function(t){return t.map(aV)}(t.Ln("Accessibility")),r=jH(t.Ln("BaseURL")),e=zH(t.Wn("bitstreamSwitching")),u=t.Wn("contentType"),s=WH(t.Wn("group")),o=WH(t.Wn("id")),a=t.Wn("lang"),c=WH(t.Wn("maxBandwidth")),h=qH(t.Wn("maxFrameRate")),f=WH(t.Wn("maxHeight")),v=WH(t.Wn("maxWidth")),l=WH(t.Wn("minBandwidth")),_=qH(t.Wn("minFrameRate")),g=WH(t.Wn("minHeight")),w=WH(t.Wn("minWidth")),y=t.Wn("par"),m=t.Ln("Representation").map(eV);if(0===m.length)throw new d("The provided MPEG-DASH document has an AdaptationSet with no valid Representation's");var k=function(t){return t.map(oV)}(t.Ln("Role")),p=zH(t.Wn("segmentAlignment"))||!1,A=t.Ln("SegmentBase");if(A.length>1)throw new d("The provided MPEG-DASH document's AdaptationSet element can not have more than one SegmentBase element.");var b=1===A.length?tV(A[0]):void 0,T=KH(t.Ln("SegmentList")),E=t.Ln("SegmentTemplate");if(E.length>1)throw new d("The provided MPEG-DASH document's AdaptationSet element can not have more than one SegmentTemplate element.");var S=1===E.length?iV(E[0]):void 0,R=WH(t.Wn("selectionPriority")),I=R||1,N=zH(t.Wn("subsegmentAlignment"))||!1,D=WH(t.Wn("subsegmentStartsWithSAP")),C=t.Wn("xlink:actuate")||"onRequest",O=t.Wn("xlink:href");return dn(dn({},n),{_wt:i,awt:r,jgt:e,af:u,gwt:s,Al:o,Sl:a,wwt:c,ywt:h,mwt:f,kwt:v,pwt:l,Awt:_,bwt:g,Twt:w,Ewt:y,ugt:m,Swt:k,Rwt:p,vwt:b,dwt:T,lwt:S,SR:I,Iwt:N,Nwt:D,Dwt:C,Cwt:O})}function hV(t){var n=XH(t.Wn("presentationTime"))||Ct.ZERO,i=XH(t.Wn("duration")),r=WH(t.Wn("id")),e=function(t){for(var n=t.Yn,i={},r=0;r<n.length;r++)i[n[r].Dn]=n[r].xn;return i}(t),u=t.Zn;return{Owt:n,y_:i,Al:r,Yn:e,Jn:""!==u.trim()?u:t.Wn("messageData")||""}}function fV(t){return{Cwt:t.Wn("xlink:href"),Dwt:t.Wn("xlink:actuate"),igt:t.Wn("schemeIdUri"),xn:t.Wn("value"),Ey:WH(t.Wn("timescale")),qgt:XH(t.Wn("presentationTimeOffset")),TC:t.Ln("Event").map(hV)}}function vV(t,n){var i=t.Ln("AssetIdentifier");if(i.length>1)throw new d("The provided MPEG-DASH document's Period element can not have more than one AssetIdentifier element.");var r=1===i.length?uV(i[0]):void 0,e=t.Ln("AdaptationSet").map(cV),u=jH(t.Ln("BaseURL")),s=zH(t.Wn("bitstreamSwitching")),o=FH(t.Wn("duration")),a=t.Ln("EventStream").map(fV),c=t.Wn("id"),h=n&&FH(n.Wn("start")),f=t.Ln("SegmentBase");if(f.length>1)throw new d("The provided MPEG-DASH document's Period element can not have more than one SegmentBase element.");var v=1===f.length?tV(f[0]):void 0,l=KH(t.Ln("SegmentBase")),_=t.Ln("SegmentTemplate");if(_.length>1)throw new d("The provided MPEG-DASH document's Period element can not have more than one SegmentTemplate element.");var g=1===_.length?iV(_[0]):void 0,w=FH(t.Wn("start")),y=(t.Ln("Subset"),t.Wn("xlink:href"));return{dgt:e,xwt:r,awt:u,jgt:s,y_:o,Pwt:a,Al:c,Bwt:h,vwt:v,dwt:l,lwt:g,uI:w,Dwt:t.Wn("xlink:actuate"),Cwt:y}}function dV(t){var n=t.Wn("schemeIdUri");if(n)return{igt:n,xn:t.Wn("value")}}function lV(t,n){var i=HH(t.Wn("availabilityEndTime")),r=HH(t.Wn("availabilityStartTime")),e=jH(t.Ln("BaseURL")),u=t.Wn("id"),s=t.Ln("Location").map(function(t){return""+t.Zn}),o=FH(t.Wn("maxSegmentDuration")),a=FH(t.Wn("maxSubsegmentDuration")),c=FH(t.Wn("mediaPresentationDuration")),h=(t.Ln("Metrics"),FH(t.Wn("minBufferTime")));if(!h)throw new d("The provided MPEG-DASH document's MPD element does not have the required 'minimumBufferTime' attribute.");var f=FH(t.Wn("minimumUpdatePeriod")),v=function(t){for(var n=[],i=0;i<t.length;i+=1)n.push(vV(t[i],t[i+1]));return n}(t.Ln("Period"));if(!v.length)throw new d("The provided MPEG-DASH document's MPD element does not have the required 'Period' element.");var l=t.Wn("profiles");if(!l)throw new d("The provided MPEG-DASH document's MPD element does not have the required 'profiles' attribute.");return{Lwt:i,Mwt:r,awt:e,Al:u,Uwt:s,Fwt:n,Hwt:o,Vwt:a,agt:c,Xwt:h,Wwt:f,sgt:v,rwt:l,qwt:HH(t.Wn("publishTime")),zwt:FH(t.Wn("suggestedPresentationDelay")),Ggt:FH(t.Wn("timeShiftBufferDepth")),xu:function(t){switch(t){case jF.JE:case jF.$E:return t;default:return}}(t.Wn("type")),Gwt:function(t){for(var n=[],i=0;i<t.length;i++){var r=dV(t[i]);r&&n.push(r)}return n}(t.Ln("UTCTiming"))}}var _V,gV=function(){function t(){}return t.prototype.jdt=function(t,n){return function(t,n){if(!t)throw new d("The provided MPEG-DASH document does not contain a valid MPD root element.");return lV(t,n)}(r.En(t).$n,n)},t}(),wV=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).Al=n,s.OS=i,s.eJ=r,s.IY=u,s.Mg=e||"",s.jwt=!0,s}return qt(n,t),n.prototype.ib=function(){this.jwt=!1,this.ys(new OM(this.xd))},T(n,[{key:"El",get:function(){return this.Mg},set:function(t){this.Mg!==t&&(this.Mg=t,this.ys(new OM(this.xd)))}},{key:"Kj",get:function(){return this.jwt}}]),n}(Fi),yV=function(t){function n(n,i,r,e,u,s,o,a,c){var h;return void 0===c&&(c=0),(h=t.call(this,n,i,r,e,u)||this).B$=s,h.Ka=o,h.rp=a,h.Nvt=c,h.Od=void 0,h}return qt(n,t),T(n,[{key:"xd",get:function(){return this.Od||(this.Od=xM(this)),this.Od}}]),n}(wV),mV=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this,n,i,r,e,u)||this).Dvt=s,o.Od=void 0,o}return qt(n,t),T(n,[{key:"xd",get:function(){return this.Od||(this.Od=PM(this)),this.Od}}]),n}(wV);!function(t){t.Qwt="Ywt",t.Zwt="Jwt"}(_V||(_V={}));var kV=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).$wt=function(t){n.ys(t)},n}return qt(n,t),T(n,[{key:"Kwt",get:function(){var t=this.tyt();return null==t?void 0:t.uI}},{key:"nyt",get:function(){var t=this.tyt();return null==t?void 0:t.oI}}]),n}(Fi);function pV(t){return G(t.iyt)}var AV=function(t){function n(n,i){var r,e,u;if((r=t.call(this)||this).Od=void 0,r.ryt=void 0,r.eyt=n,r.uyt=i,r.uyt.ps(_V.Qwt,r.$wt),r.xu===Kl.Xf){var s=null!==(u=null===(e=r.B$)||void 0===e?void 0:e.Nw())&&void 0!==u?u:NaN;r.syt=new yV(bV++,r.OS,r.Ja,"","",s,r.Ka,r.rp)}else r.xu===Kl.Vf?r.syt=new mV(bV++,r.OS,r.Ja,"","",r.Dvt):r.syt=void 0;return r}qt(n,t);var i=n.prototype;return i.Tgt=function(t){var n=pV(t)?this.uyt.oyt(t):this.uyt.Tgt(t);return{Rf:n.Rf,NY:n.NY,Qf:this.ayt.Qf}},i.cyt=function(){return this.uyt.cyt()},i.tyt=function(){return this.uyt.tyt()},i.hyt=function(){return this.uyt.hyt()},i.kgt=function(t,n,i){return this.uyt.wgt.kgt(t,this.uyt,this.ayt.Qf,n,i)},i.fyt=function(t){return pV(t)?this.wgt.vyt(t):this.wgt.fyt(t)},i.b6=function(t){return pV(t)?this.wgt.dyt(t):this.wgt.b6(t)},i.Jf=function(){this.uyt.Es(_V.Qwt,this.$wt)},T(n,[{key:"lyt",get:function(){return this.eyt}},{key:"Dvt",get:function(){var t;return null!==(t=this.uyt.Jn.Dvt)&&void 0!==t?t:this.lyt.Dvt}},{key:"OS",get:function(){return this.uyt.Jn.OS||0}},{key:"eJ",get:function(){var t=this.uyt.Jn;return t.eJ?[t.eJ]:this.lyt.eJ}},{key:"_yt",get:function(){var t=this.uyt.Jn;return t.eJ?[t.eJ]:[]}},{key:"Ja",get:function(){return this.uyt.Jn.eJ||this.lyt.Ja}},{key:"twt",get:function(){return this.uyt.Jn.twt||this.lyt.twt}},{key:"egt",get:function(){return this.uyt.Jn.egt||this.lyt.egt}},{key:"af",get:function(){return this.bC+'; codecs="'+this.Ja+'"'}},{key:"nwt",get:function(){var t=this.uyt.Jn;return t.nwt.length?t.nwt:this.lyt.nwt}},{key:"xd",get:function(){return this.Od||(this.Od=(t=this,{get id(){return t.Al},get type(){return t.xu},get bandwidth(){return t.OS},get width(){return t.Ka},get height(){return t.rp},get frameRate(){var n,i;return null!==(i=null===(n=t.B$)||void 0===n?void 0:n.Nw())&&void 0!==i?i:NaN},get audioSamplingRate(){return t.Dvt}}));var t}},{key:"B$",get:function(){var t;return null!==(t=this.uyt.Jn.B$)&&void 0!==t?t:this.lyt.B$}},{key:"rp",get:function(){return this.uyt.Jn.rp||this.lyt.rp}},{key:"Al",get:function(){return this.uyt.Jn.Al||""}},{key:"w4",get:function(){return this.ryt},set:function(t){this.ryt=t}},{key:"z9",get:function(){var t=this.uyt.gyt();if(t)return{Rf:t.Rf,NY:t.NY,Qf:this.ayt.Qf}}},{key:"lgt",get:function(){return this.uyt.Jn.lgt||this.lyt.lgt||1}},{key:"iwt",get:function(){return this.uyt.Jn.iwt||this.lyt.iwt}},{key:"ayt",get:function(){return this.Egt.ayt}},{key:"bC",get:function(){return this.uyt.Jn.bC||this.lyt.bC}},{key:"Egt",get:function(){return this.lyt.Egt}},{key:"rwt",get:function(){return this.uyt.Jn.rwt||this.lyt.rwt}},{key:"Svt",get:function(){return this.syt}},{key:"ewt",get:function(){return this.uyt.Jn.ewt||this.lyt.ewt}},{key:"uwt",get:function(){return this.uyt.Jn.uwt||this.lyt.uwt}},{key:"wyt",get:function(){return this.uyt.wyt}},{key:"swt",get:function(){return this.uyt.Jn.swt||this.lyt.swt}},{key:"wgt",get:function(){return this.uyt.wgt}},{key:"owt",get:function(){return this.uyt.Jn.owt||this.lyt.owt}},{key:"xu",get:function(){var t=this.bC.split("/")[0];return"application"===t||"text"===t||jw(this.bC,this.eJ)?Kl.pn:"video"===t?Kl.Xf:"audio"===t?Kl.Vf:"image"===t?Kl.Wf:Kl.Nf}},{key:"Ka",get:function(){return this.uyt.Jn.Ka||this.lyt.Ka}}]),n}(kV),bV=0,TV=function(t){function n(n,i){var r;return(r=t.call(this)||this).yyt=[],r.myt=[],r.kyt=n,r.uyt=i,r.uyt.ps(_V.Qwt,r.$wt),r}qt(n,t);var i=n.prototype;return i.bo=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r,e=this;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==this.myt.length){t.next=6;break}return this.myt=[],r=this.uyt.ugt.map(function(t){return e.pyt(t,n,i)}),t.next=5,vn.all(r);case 5:this.myt=t.sent.filter(M);case 6:this.Ayt();case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.pyt=function(){var t=vn.coroutine(fn.mark(function t(n,i,r){var e,u;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new AV(this,n),t.next=3,i(e);case 3:if(u=t.sent,bi(r),u){t.next=7;break}return t.abrupt("return",void 0);case 7:return t.abrupt("return",e);case 8:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.Ayt=function(){if(!this.myt.length)throw new d("Detected an AdaptationSet without any supported Representations.")},i.tyt=function(){return this.uyt.tyt()},i.hyt=function(){return this.uyt.hyt()},i.Jf=function(){this.uyt.Es(_V.Qwt,this.$wt);for(var t=0,n=this.myt;t<n.length;t++){n[t].Jf()}gi(this.myt)},T(n,[{key:"_wt",get:function(){return this.uyt.Jn._wt}},{key:"Dvt",get:function(){var t;return null!==(t=this.uyt.Jn.Dvt)&&void 0!==t?t:-1}},{key:"eJ",get:function(){if(this.uyt.Jn.eJ)return[this.uyt.Jn.eJ];for(var t=[],n=0,i=this.ugt;n<i.length;n++){var r=i[n];r._yt.length&&-1===t.indexOf(r.Ja)&&t.push(r.Ja)}return t}},{key:"Ja",get:function(){return this.eJ.join()}},{key:"twt",get:function(){return this.uyt.Jn.twt}},{key:"egt",get:function(){return this.uyt.Jn.egt}},{key:"af",get:function(){return this.bC+'; codecs="'+this.Ja+'"'}},{key:"nwt",get:function(){return this.yyt}},{key:"B$",get:function(){return this.uyt.Jn.B$}},{key:"gwt",get:function(){return this.uyt.Jn.gwt}},{key:"rp",get:function(){return this.uyt.Jn.rp||0}},{key:"Al",get:function(){return this.uyt.Jn.Al}},{key:"lgt",get:function(){return this.uyt.Jn.lgt}},{key:"iwt",get:function(){return this.uyt.Jn.iwt}},{key:"ayt",get:function(){return this.Egt.ayt}},{key:"bC",get:function(){return this.uyt.Jn.bC||this.myt[0].bC}},{key:"Egt",get:function(){return this.kyt}},{key:"rwt",get:function(){return this.uyt.Jn.rwt}},{key:"ugt",get:function(){return this.myt}},{key:"Swt",get:function(){return this.uyt.Jn.Swt||[]}},{key:"ewt",get:function(){return this.uyt.Jn.ewt}},{key:"uwt",get:function(){return this.uyt.Jn.uwt}},{key:"swt",get:function(){return this.uyt.Jn.swt}},{key:"SR",get:function(){return this.uyt.Jn.SR}},{key:"owt",get:function(){return this.uyt.Jn.owt}},{key:"xu",get:function(){var t=(this.uyt.Jn.af||this.bC).split("/")[0];return"application"===t||"text"===t||"subtitle"===t||jw(this.bC,this.eJ)?Kl.pn:"video"===t?Kl.Xf:"audio"===t?Kl.Vf:"image"===t?Kl.Wf:Kl.Nf}},{key:"Ka",get:function(){return this.uyt.Jn.Ka||0}},{key:"_gt",get:function(){return this.uyt.Jn.Sl||""}},{key:"byt",get:function(){return this.Kwt}},{key:"Tyt",get:function(){var t=this.byt,n=this.nyt;if(void 0!==t&&void 0!==n){var i=g.min(n,this.ayt.Eyt);return g.max(t,i)}}}]),n}(kV);function EV(t,n){for(var i=[],e=0;e<n.length;e++)for(var u=n[e],s=0;s<t.length;s++){var o=t[s];i.push(r.Ha(o,u))}return i}var SV=function(){function t(t,n){this.kyt=t,this.Syt=n,this._j=n.Ey,this.Ryt=n.Pgt,this.Iyt=n.qgt}var n=t.prototype;return n.Nyt=function(t){var n=t-this.kyt.uI;if(!(n<0||n>=this.kyt.y_)){var i=this.Dyt();return void 0!==i&&Pt(i,n,1e-5)?this.ygt():this.Cyt(n)}},n.Oyt=function(t){var n=t-this.kyt.uI;if(!(n<0))return this.xyt(g.min(n,this.kyt.y_))},n.ygt=function(){return this.Pyt(0)},n.Agt=function(){var t=this.kyt.y_;if(isFinite(t))return this.xyt(t)},n.cyt=function(t){if(this.kyt.Byt.xu===jF.$E){var n=this.Lyt(t);if(!n)return;return{Myt:t,Uyt:this.Fyt(t),Hyt:n}}var i=this.ygt();if(i)return{Myt:t,Uyt:i,Hyt:this.Agt()}},n.hyt=function(t,n){if(n){var i=this.Vyt(n.Uyt),r=this._ht(n.Hyt);if(r){var e=this.Xyt(r);(!i||e.getTime()<i.getTime())&&(i=e)}return i}var u=this.ygt();if(u){var s=this.Xyt(u);if(t.getTime()<s.getTime())return s}var o=this.kyt.Byt.Mwt;return t.getTime()<o.getTime()?o:void 0},n.Lyt=function(t){var n=(t.getTime()-this.kyt.Byt.Mwt.getTime())/1e3-this.kyt.uI+this.Ryt,i=this.xyt(xt(n,0,this.kyt.y_));if(i&&(i=this.Wyt(i,t))){for(var r=this._ht(i);r&&this.qyt(r,t);)i=r,r=this._ht(i);return i}},n.Fyt=function(t){var n,i=this.Syt.Ggt;if(i){var r=(t.getTime()-this.kyt.Byt.Mwt.getTime())/1e3-this.kyt.uI-i.ogt();(n=this.xyt(xt(r,0,this.kyt.y_)))||(n=this.ygt())}else n=this.ygt();if(n&&(n=this.Wyt(n,t))){for(var e=this.zyt(n);e&&this.qyt(e,t);)n=e,e=this.zyt(n);return n}},n.Wyt=function(t,n){for(var i=t;i&&this.Xyt(i).getTime()>n.getTime();)i=this.zyt(i);if(i){var r=this.Vyt(i);if(r&&r.getTime()<=n.getTime()){var e=this.zyt(i);for(e&&this.qyt(e,n)&&(i=e);i;){if(this.Xyt(i).getTime()>n.getTime())return;if(this.qyt(i,n))break;i=this._ht(i)}if(!i)return}return i}},n.qyt=function(t,n){if(this.Xyt(t).getTime()>n.getTime())return!1;var i=this.Vyt(t);return!(i&&n.getTime()>=i.getTime())},n.Gyt=function(t,n){if(this.jyt(t).getTime()>n.getTime())return!1;var i=this.Vyt(t);return!(i&&n.getTime()>=i.getTime())},n.Qyt=function(t,n,i){var r=Wt(n,this._j)+this.kyt.uI;return{M5:t,Yyt:n,Zg:r,y_:i,Jg:r+i}},n.jyt=function(t){return this.kyt.Byt.xu===jF.$E?new Date(this.kyt.Byt.Mwt.getTime()+1e3*(t.Zg+t.y_)):this.kyt.Byt.Mwt},n.Xyt=function(t){var n=this.jyt(t);return this.kyt.Byt.xu===jF.$E?new Date(n.getTime()-1e3*this.Ryt):n},n.Vyt=function(t){var n=1/0;if(this.kyt.Byt.xu===jF.$E){var i=this.Syt.Ggt;i&&(n=this.jyt(t).getTime()+1e3*t.y_+i.Igt())}var r=this.kyt.Byt.Lwt;return r&&(n=g.min(n,r.getTime())),n===1/0?void 0:new Date(n)},n.Zyt=function(t,n){return t.M5+n},n.mgt=function(t){return!1},n.kgt=function(t,n,i,r,e){var u=this.Jyt(t);if(!u)return vn.reject(new d("Invalid segment"));var s=this.$yt(u.M5);return s?vn.resolve(s):this.Kyt(u.M5,n,i,r,e)},n.$yt=function(t){},n.Kyt=function(t,n,i,r,e){return vn.reject(new d("Not supported"))},n.zyt=function(t){var n=this.Jyt(t);if(n)return this.Pyt(n.M5-1)},n._ht=function(t){var n=this.Jyt(t);if(n)return this.Pyt(n.M5+1)},n.Jyt=function(t){var n=this.Pyt(t.M5);if(n&&n.Zg===t.Zg)return n;var i=this.Nyt(t.Zg);return i&&i.Zg===t.Zg?i:void 0},n.tmt=function(t){var n=this.nmt(t);if(n&&this.mgt(n.M5)){var i=this.$yt(n.M5);if(i)return i.tmt(t)}},n.nmt=function(t){return this.Pyt(t.imt)},n.fyt=function(t){var n=this.Jyt(t);return!!n&&0===n.M5},n.vyt=function(t){var n=this.tmt(t);return!!n&&0===n.iyt},n.b6=function(t){var n=this.Jyt(t);if(!n)return!1;var i=this.Agt();return!!i&&n.M5===i.M5},n.dyt=function(t){var n=this.tmt(t);if(!n)return!1;var i=this.Agt();if(!i||n.imt!==i.M5)return!1;var r=this.$yt(n.imt);return n.iyt+1===r.vl},T(t,[{key:"im",get:function(){return Wt(this.Iyt,this._j)-this.kyt.uI}}]),t}(),RV=function(t){function n(n,i){var r;r=t.call(this,i,n)||this;var e=n.rmt,u=n.y_;if(void 0===e||void 0===u)throw new d("MultipleSegmentBase does not have a segment duration specified.");return r.emt=e,r.umt=u,r}qt(n,t);var i=n.prototype;return i.Pyt=function(t){if(!(t<0)){var n=this.emt.multiply(t),i=Wt(n,this._j),r=this.kyt.y_;if(!(i>=r)){var e=this.smt();if(void 0!==e){if(t>e)return;if(t===e)return this.Qyt(t,n,r-i)}return isFinite(r)&&i+this.umt>r?this.Qyt(t,n,r-i):this.Qyt(t,n,this.umt)}}},i.Dyt=function(){return 0},i.Cyt=function(t){var n=g.floor(t/this.umt),i=this.smt();return void 0!==i&&n>=i?this.Pyt(i):this.Pyt(n)},i.xyt=function(t){if(t>=this.kyt.y_){var n=g.ceil(this.kyt.y_/this.umt)-1,i=this.smt();return void 0!==i&&n>=i?this.Pyt(i):this.Pyt(n)}return this.Cyt(t)},i.smt=function(){var t,n=this.Syt.Ygt;if(void 0!==n)return n-(null!==(t=this.Syt.Qgt)&&void 0!==t?t:1);if(isFinite(this.kyt.y_)){var i=this.Syt.omt;if(void 0!==i&&i>0)return i-1}},i.amt=function(){if(isFinite(this.kyt.y_))return this.Agt()},i.cmt=function(t,n){return this.emt.multiply(t.M5+(n-1))},i.bo=function(){},n}(SV);function IV(t,n){var i=t.length;if(0===i)return-1;for(var r=0,e=i-1,u=t[r].Zg,s=t[e].Jg;r<=e&&u.lessThanOrEqual(n)&&n.lessThan(s);){var o=r+g.floor(n.subtract(u).toNumber()/s.subtract(u).toNumber()*(e-r)),a=t[o],c=a.Zg,h=o+1<i?t[o+1].Zg:a.Jg;if(h.lessThanOrEqual(n))r=o+1,u=h;else{if(!n.lessThan(c))return o;e=o-1,s=c}}return-1}var NV=function(t){function n(n,i){var r;return(r=t.call(this,i,n)||this).hmt=[],r.fmt=void 0,r.vmt=Ct.ZERO,r.bo(),r}qt(n,t);var i=n.prototype;return i.Pyt=function(t){if(!(t<0))return t<this.hmt.length?this.hmt[t].aht:this.dmt(t-this.hmt.length)},i.Dyt=function(){if(this.hmt.length>0)return Wt(this.hmt[0].Zg,this._j)},i.Cyt=function(t){if(this.fmt&&Wt(this.fmt.Zg,this._j)<=t){var n=Wt(this.fmt.Zg,this._j),i=Wt(this.fmt.y_,this._j),r=g.floor((t-n)/i);return this.dmt(r)}if(this.hmt.length>0&&Pt(t,Wt(this.hmt[0].Zg,this._j),1e-5))return this.hmt[0].aht;var e=IV(this.hmt,Ct.fromNumber(t*this._j));return e<0?void 0:this.hmt[e].aht},i.xyt=function(t){if(!this.fmt&&this.hmt.length>0){var n=this.hmt[this.hmt.length-1];if(t>=Wt(n.Jg,this._j))return n.aht}var i=this.Dyt();return i&&t<i?this.hmt[0].aht:this.Cyt(t)},i.amt=function(){return isFinite(this.kyt.y_)?this.Agt():this.Pyt(this.hmt.length-1)},i.cmt=function(t){return this.lmt(t)},i.dmt=function(t){if(this.fmt){var n=this.fmt.Zg,i=this.fmt.y_,r=n.add(i.multiply(t)),e=Wt(r,this._j),u=this.kyt.y_;if(!(e>=u)){var s=this.hmt.length+t,o=g.min(Wt(i,this._j),e+u);return this.Qyt(s,r,o)}}},i.lmt=function(t){return t.Yyt.add(this.Iyt)},i.bo=function(){var t=this.Syt.Jn.wgt;if(!t)throw new d("MultipleSegmentBaseTO does not have a SegmentTimeline specified.");this._mt(t)},i._mt=function(t){var n=this.Iyt;this.gmt(t,n);var i=this.wmt(t);this.ymt(t,n,i.mmt,i.imt)},i.gmt=function(t,n){var i=this.hmt;if(0===t.length)gi(i);else{for(var r=t[0],e=r.Zg?Ct.fromString(r.Zg,!1).subtract(n):Ct.ZERO,u=0;u<i.length&&i[u].Zg.lessThan(e);)u++;u>0&&i.splice(0,u)}},i.wmt=function(t){for(var n=this.hmt,i=this.vmt,r=0,e=0;r<t.length&&e<n.length;){var u=t[r].Lgt||0;if(u<0)break;var s=e+u;if(s>=n.length)break;if(n[s].Zg.greaterThanOrEqual(i))break;if(n[e].aht.M5===e)e=s+1;else for(;e<=s;)n[e].aht.M5=e,e++;0,r++}return{mmt:r,imt:e}},i.ymt=function(t,n,i,r){for(var e,u=this.hmt,s=i,o=r;s<t.length;){var a=t[s],c=Ct.fromString(a.y_,!1),h=a.Lgt||0,f=void 0;if(a.Zg){if(f=Ct.fromString(a.Zg,!1).subtract(n),o>0){var v=u[o-1];v.Jg.greaterThan(f)&&(v.y_=f.subtract(v.Zg),v.Jg=v.Zg.add(v.y_))}}else f=o>0?u[o-1].Jg:Ct.ZERO;if(h<0){if(s+1===t.length){e={Zg:f,y_:c};break}for(var d=Ct.fromString(t[s+1].Zg,!1).subtract(n);f.lessThan(d);){var l=f.add(c);this.kmt(u,o,f,c,l),f=l,o++}}else for(var _=o+h;o<=_;){var g=f.add(c);this.kmt(u,o,f,c,g),f=g,o++}s++}o<u.length&&u.splice(o),u.length>0&&(this.vmt=u[u.length-1].Zg),this.fmt=e},i.kmt=function(t,n,i,r,e){if(n<t.length){var u=t[n];0,u.y_.equals(r)?u.aht.M5=n:t[n]={Zg:i,y_:r,Jg:e,aht:this.Qyt(n,i,Wt(r,this._j))}}else t.push({Zg:i,y_:r,Jg:e,aht:this.Qyt(n,i,Wt(r,this._j))})},n}(SV),DV=function(){function t(t,n,i){this.pmt=void 0,this.Amt=void 0,this.Egt=t,this.bmt=n,this.ku=i}var n=t.prototype;return n.Tmt=function(){if(this.Amt=this.Emt(),this.Amt)return this.Amt;if(this.bmt)return this.bmt.wgt;throw new d("Missing media segment information.")},n.gyt=function(t){var n=this.Wgt;if(n)return{Rf:(void 0!==n.Bgt?r.Ha(n.Bgt,t.awt[0]):t.awt[0]).href,NY:n.NY};var i=this.Mgt;return i?{Rf:t.awt[0].href,NY:[0,i[0]-1]}:void 0},n.bo=function(t){this.ku=t,this.Amt&&this.Amt.bo()},T(t,[{key:"Jn",get:function(){return this.ku}},{key:"Pgt",get:function(){return this.ku&&void 0!==this.ku.Pgt?this.ku.Pgt:this.bmt?this.bmt.Pgt:0}},{key:"qgt",get:function(){return this.ku&&void 0!==this.ku.qgt?this.ku.qgt:this.bmt?this.bmt.qgt:Ct.ZERO}},{key:"Ggt",get:function(){return this.ku&&void 0!==this.ku.Ggt?this.ku.Ggt:this.bmt?this.bmt.Ggt:this.Egt.Byt.Ggt}},{key:"Ey",get:function(){return this.ku&&void 0!==this.ku.Ey?this.ku.Ey:this.bmt&&this.bmt.Ey?this.bmt.Ey:1}},{key:"Mgt",get:function(){return this.ku&&void 0!==this.ku.Mgt?this.ku.Mgt:this.bmt?this.bmt.Mgt:void 0}},{key:"Wgt",get:function(){return this.ku&&void 0!==this.ku.Wgt?this.ku.Wgt:this.bmt?this.bmt.Wgt:void 0}},{key:"wgt",get:function(){return this.pmt||(this.pmt=this.Tmt()),this.pmt}}]),t}(),CV=function(t){function n(){return t.apply(this,arguments)||this}return qt(n,t),n.prototype.Emt=function(){return this.ku.wgt?new NV(this,this.Egt):void 0!==this.ku.y_?new RV(this,this.Egt):void 0},T(n,[{key:"y_",get:function(){return void 0!==this.ku.y_?this.ku.y_/this.Ey:this.bmt&&this.bmt instanceof n?this.bmt.y_:void 0}},{key:"rmt",get:function(){return void 0!==this.ku.y_?Ct.fromNumber(this.ku.y_):this.bmt&&this.bmt instanceof n?this.bmt.rmt:void 0}},{key:"Qgt",get:function(){return void 0!==this.ku.Qgt?this.ku.Qgt:this.bmt&&this.bmt instanceof n?this.bmt.Qgt:void 0}},{key:"Ygt",get:function(){return void 0!==this.ku.Ygt?this.ku.Ygt:this.bmt&&this.bmt instanceof n?this.bmt.Ygt:void 0}}]),n}(DV),OV=function(){function t(t){this.Smt=t}return t.prototype.eo=function(t){return this.Smt.replace(/\$\$|\$(RepresentationID|Number|Bandwidth|Time)(?:%0(\d+)([diuxXo]))?\$/g,function(n,i,r,e){if("$$"===n)return"$";var u=t[i];if(void 0===u)return n;if(void 0===r)return u.toString();var s=function(t,n){switch(n){case"d":case"i":case"u":return t.toString(10);case"x":return t.toString(16);case"X":return t.toString(16).toUpperCase();case"o":return t.toString(8);default:return}}(u,e);return void 0===s?n:s=$n(s,Number(r),"0")})},t}();var xV=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).Rmt=r.$gt?new OV(r.$gt):void 0,e.Imt=r.Kgt?new OV(r.Kgt):void 0,e}qt(n,t);var i=n.prototype;return i.gyt=function(n){var i=this.$gt;if(!i)return t.prototype.gyt.call(this,n);var e=i.eo({Bandwidth:n.Jn.OS,RepresentationID:n.Jn.Al});return{Rf:r.Fa(e,n.awt[0])}},i.Tgt=function(t,n){var i,e=null!==(i=n.wyt.Qgt)&&void 0!==i?i:1,u=this.Kgt.eo({Bandwidth:n.Jn.OS,Number:n.wgt.Zyt(t,e),RepresentationID:n.Jn.Al,Time:n.wgt.cmt(t,e)});return{Rf:r.Fa(u,n.awt[0])}},i.oyt=function(t,n){},T(n,[{key:"$gt",get:function(){return this.Rmt?this.Rmt:this.bmt&&this.bmt instanceof n?this.bmt.$gt:void 0}},{key:"Kgt",get:function(){return this.Imt?this.Imt:this.bmt&&this.bmt instanceof n?this.bmt.Kgt:void 0}},{key:"omt",get:function(){}}]),n}(CV),PV=function(t){function n(){return t.apply(this,arguments)||this}qt(n,t);var i=n.prototype;return i.Tgt=function(t,n){var i=this.ku.Fgt[t.M5],e=n.awt[0];return{Rf:(i.Zk?r.Ha(i.Zk,e):e).href,NY:i.Ugt}},i.oyt=function(t,n){},T(n,[{key:"omt",get:function(){return void 0!==this.ku.Fgt?this.ku.Fgt.length:this.bmt&&this.bmt instanceof CV?this.bmt.omt:void 0}}]),n}(CV),BV=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).imt=n,s.Nmt=i,s.Ey=r.Ey,s.Dmt=e,s.qgt=u,s.Cmt=s.Omt(r),s}qt(n,t);var i=n.prototype;return i.pgt=function(t){if(t>=0&&t<this.vl)return this.xmt(this.Cmt[t])},i.Pmt=function(t){var n=this.Bmt(t);if(this.Cmt.length>0){var i=this.Cmt[0];if(n<=Wt(i.Zg,this.Ey))return this.xmt(i)}var r=IV(this.Cmt,Ct.fromNumber(n*this.Ey));if(!(r<0))return this.xmt(this.Cmt[r])},i.Lmt=function(t){var n=this.Bmt(t);if(this.Cmt.length>0){var i=this.Cmt[this.Cmt.length-1];if(n>=Wt(i.Jg,this.Ey))return this.xmt(i)}return this.Pmt(t)},i.xmt=function(t){var n=Wt(t.Zg,this.Ey)-this.qgt,i=n+this.Dmt,r=Wt(t.y_,this.Ey);return{imt:this.imt,iyt:t.M5,Zg:i,Yyt:Ct.fromNumber(n*this.Ey),y_:r,Jg:i+r,Mmt:[this.Nmt+t.Nmt,this.Nmt+t.Umt]}},i.Omt=function(t){for(var n=[],i=t.FA,r=t.HA.toNumber(),e=0,u=0,s=t.XA;u<s.length;u++){var o=s[u],a=o.PA,c=Ct.fromNumber(o.y_),h=i.add(c);0===o.xA&&n.push({M5:e++,Zg:i,y_:c,Jg:h,Nmt:r,Umt:r+a-1}),r+=a,i=h}return n},i.Bmt=function(t){return t-this.Dmt+this.qgt},T(n,[{key:"vl",get:function(){return this.Cmt.length}}]),n}(function(){function t(){}return t.prototype.tmt=function(t){var n=this.pgt(t.iyt);if(n&&n.Zg===t.Zg)return n;var i=this.Pmt(t.Zg);return i&&i.Zg===t.Zg?i:void 0},t}()),LV=function(t){function n(n,i){var r;return(r=t.call(this,i,n)||this).Fmt=void 0,r.Hmt=n.Mgt,r.Wct=r.Qyt(0,Ct.ZERO,r.kyt.y_),r}qt(n,t);var i=n.prototype;return i.Pyt=function(t){if(0===t)return this.Wct},i.Dyt=function(){return 0},i.Cyt=function(t){return this.Wct},i.xyt=function(t){return this.Cyt(t)},i.amt=function(){return this.Wct},i.cmt=function(t,n){return Ct.ZERO},i.cyt=function(t){var n=this.Vmt(t);return n&&{Myt:t,Uyt:n,Hyt:n}},i.Vmt=function(t){var n=this.Wct;return this.qyt(n,t)?n:void 0},i.Lyt=function(t){return this.Vmt(t)},i.Fyt=function(t){return this.Vmt(t)},i.bo=function(){},i.mgt=function(t){return 0===t&&void 0!==this.Hmt},i.$yt=function(t){return this.Fmt},i.Kyt=function(){var t=vn.coroutine(fn.mark(function t(n,i,r,e,u){var s,o,a;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=i.awt[0].href,o=this.Hmt,t.next=4,e.Xmt(s,o,r,u);case 4:return a=t.sent,this.Fmt=this.Wmt(n,a),t.abrupt("return",this.Fmt);case 7:case"end":return t.stop()}},t,this)}));return function(n,i,r,e,u){return t.apply(this,arguments)}}(),i.Wmt=function(t,n){var i=this.Hmt,r=ew.yk(new DataView(n),new ee);if(r.xu!==lg.qm)throw new d("Invalid segment index");var e=cw.Lk(r.Jn),u=i[1]+1;return new BV(t,u,e,this.kyt.uI,Wt(this.Iyt,this._j))},n}(SV),MV=function(t){function n(){return t.apply(this,arguments)||this}qt(n,t);var i=n.prototype;return i.Tgt=function(t,n){return{Rf:n.awt[0].href}},i.oyt=function(t,n){return{Rf:n.awt[0].href,NY:t.Mmt}},i.Emt=function(){return new LV(this,this.Egt)},T(n,[{key:"Qgt",get:function(){}}]),n}(DV),UV=function(t){function n(){return t.call(this,_V.Qwt)||this}return qt(n,t),n}(Vi);var FV=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Syt=void 0,e.qmt=1/0,e.zmt=void 0,e.Er=i,e.Gmt(n,r),e}qt(n,t);var i=n.prototype;return i.jmt=function(){return this.Syt||this.Er&&this.Er.jmt()},i.Qmt=function(t){var n=this.Egt,i=this.Er&&this.Er.jmt();this.ku.lwt?this.Syt=new xV(n,i,this.ku.lwt):this.ku.dwt?this.Syt=new PV(n,i,this.ku.dwt[0]):this.ku.vwt?this.Syt=new MV(n,i,this.ku.vwt):t&&!i&&(this.Syt=new MV(n,i,void 0))},i.Gmt=function(t,n){this.ku=t,this.Ymt=t.awt&&t.awt.length>0?EV(t.awt.map(function(t){return t.Rf}),n):n.slice(),this.Syt&&(t.lwt?this.Syt.bo(t.lwt):t.dwt?this.Syt.bo(t.dwt[0]):t.vwt&&this.Syt.bo(t.vwt))},i.tyt=function(){var t;return null===(t=this.zmt)||void 0===t?void 0:t.Zmt},i.hyt=function(){var t;return null===(t=this.zmt)||void 0===t?void 0:t.Jmt},i.$mt=function(t){var n=this.qmt,i=this.Egt.y_,r=this.zmt,e=this.Kmt(t);r&&Pt(i,n,1e-5)&&WV(r,e)||(this.qmt=i,this.zmt=e,this.ys(new UV))},i.es=function(){this.Ts()},T(n,[{key:"Jn",get:function(){return this.ku}},{key:"awt",get:function(){return this.Ymt}}]),n}(Fi);function HV(t){for(var n,i=0;i<t.length;i++){var r=t[i].tyt();if(r){n=r.uI;break}}if(void 0!==n){for(var e,u=t.length-1;u>=0;u--){var s=t[u].tyt();if(s){e=s.oI;break}}if(void 0!==e)return{uI:n,oI:e}}}function VV(t){if(0!==t.length){for(var n=0,i=1/0,r=0;r<t.length;r++){var e=t[r].tyt();if(!e)return;if((n=g.max(n,e.uI))>=(i=g.min(i,e.oI)))return}return{uI:n,oI:i}}}function XV(t){for(var n,i=0;i<t.length;i++){var r=t[i].hyt();r&&(!n||r.getTime()<n.getTime())&&(n=r)}return n}function WV(t,n){return function(t,n){return t&&n?t.getTime()===n.getTime():t===n}(t.Jmt,n.Jmt)&&function(t,n){return t&&n?Pt(t.uI,n.uI,1e-5)&&Pt(t.oI,n.oI,1e-5):t===n}(t.Zmt,n.Zmt)}var qV=function(t){function n(n,i,r){var e;(e=t.call(this)||this).kyt=n,e.Lg=i,e.tkt=r.slice();for(var u=0;u<r.length;u++){r[u].ps(_V.Qwt,e.$wt)}return e}qt(n,t);var i=n.prototype;return i.tyt=function(){return VV(this.tkt)},i.hyt=function(){for(var t,n=0,i=this.tkt;n<i.length;n++){var r=i[n].hyt();r&&(!t||r.getTime()<t.getTime())&&(t=r)}return t},i.Jf=function(){this.Ts();for(var t=0,n=this.tkt;t<n.length;t++){n[t].Es(_V.Qwt,this.$wt)}},T(n,[{key:"dgt",get:function(){return this.tkt}},{key:"eJ",get:function(){return this.dgt.reduce(function(t,n){for(var i=0,r=n.eJ;i<r.length;i++){var e=r[i];li(t,e)||t.push(e)}return t},[])}},{key:"Ja",get:function(){return this.eJ.length>0?this.eJ[0]:""}},{key:"xu",get:function(){return this.tkt[0].xu}},{key:"Al",get:function(){return this.Lg}},{key:"ayt",get:function(){return this.kyt.ayt}},{key:"bC",get:function(){return this.tkt[0].bC}},{key:"Egt",get:function(){return this.kyt}},{key:"ugt",get:function(){return yi(this.dgt,function(t){return t.ugt})}}]),n}(kV),zV=function(t){function n(){return t.call(this,_V.Zwt)||this}return qt(n,t),n}(Vi);function GV(t){for(var n=[],i=function(i){var r=t[i],e=void 0,u=r.gwt;void 0===u||(e=hi(n,function(t){return t.Al===u})),e||(e={Al:u,dgt:[]},n.push(e)),e.dgt.push(r)},r=0;r<t.length;r++)i(r);return n}var jV,QV=function(t){function n(n,i){var r;return(r=t.call(this)||this).tkt=[],r.nkt=[],r.ikt=!1,r.rkt=n,r.uyt=i,r.uyt.ps(_V.Qwt,r.$wt),r}qt(n,t);var i=n.prototype;return i.ekt=function(t,n){if(0!==this.nkt.length){for(var i=t,r=0,e=this.nkt;r<e.length;r++){var u=e[r],s=u.xu;if(s===Kl.Vf||s===Kl.Xf){var o=u.nyt;if(void 0===o)return;i=n(i,o)}}return i}},i.ukt=function(){this.ikt||(this.ikt=!0,this.ys(new zV),this.Jf())},i.bo=function(){var t=vn.coroutine(fn.mark(function t(n,i){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==this.tkt.length){t.next=7;break}return t.next=3,this.skt(this.uyt.dgt,n,i);case 3:this.okt(this.tkt),bi(i),t.next=9;break;case 7:return t.next=9,this.akt(n,i);case 9:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.skt=function(){var t=vn.coroutine(fn.mark(function t(n,i,r){var e,u,s;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=0;case 1:if(!(e<n.length)){t.next=17;break}return u=n[e],s=new TV(this,u),t.prev=4,t.next=7,s.bo(i,r);case 7:this.tkt.push(s),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(4),Ti(t.t0);case 14:e++,t.next=1;break;case 17:case"end":return t.stop()}},t,this,[[4,10]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.okt=function(t){for(var n=GV(t),i=0;i<n.length;i++){var r=n[i],e=new qV(this,r.Al,r.dgt);this.nkt.push(e)}},i.akt=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r,e,u;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.tkt;case 1:if(!(r<e.length)){t.next=8;break}return u=e[r],t.next=5,u.bo(n,i);case 5:r++,t.next=1;break;case 8:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.tyt=function(){return this.uyt.tyt()},i.hyt=function(){return this.uyt.hyt()},i.Jf=function(){this.Ts(),this.uyt.Es(_V.Qwt,this.$wt);for(var t=0,n=this.nkt;t<n.length;t++){n[t].Jf()}for(var i=0,r=this.tkt;i<r.length;i++){r[i].Jf()}gi(this.tkt),gi(this.nkt)},T(n,[{key:"dgt",get:function(){return this.tkt}},{key:"fgt",get:function(){return this.nkt}},{key:"xwt",get:function(){return this.uyt.Jn.xwt}},{key:"y_",get:function(){return this.uyt.y_}},{key:"oI",get:function(){return this.uI+this.y_}},{key:"Pwt",get:function(){return this.uyt.Jn.Pwt||[]}},{key:"Al",get:function(){return this.uyt.Al}},{key:"Jwt",get:function(){return this.ikt}},{key:"ayt",get:function(){return this.rkt}},{key:"ckt",get:function(){return this.rkt.hkt(this)}},{key:"Egt",get:function(){return this}},{key:"fkt",get:function(){return this.rkt.vkt(this)}},{key:"dkt",get:function(){return this.ekt(1/0,g.min)}},{key:"lkt",get:function(){return this.ekt(0,g.max)}},{key:"uI",get:function(){return this.uyt.uI}},{key:"Qf",get:function(){return this.ayt.Qf}}]),n}(kV),YV=function(t){function n(){return t.call(this,So.yc)||this}return qt(n,t),n}(Vi);!function(t){t._kt="gkt"}(jV||(jV={}));var ZV=function(t){function n(){return t.call(this,jV._kt)||this}return qt(n,t),n}(Vi),JV=function(t){function n(n,i){var r;return(r=t.call(this,n,i,i.awt)||this).wkt=void 0,r.eyt=i,r.Qmt(!0),r}qt(n,t);var i=n.prototype;return i.gyt=function(){return this.wyt.gyt(this)},i.Tgt=function(t){return this.wyt.Tgt(t,this)},i.oyt=function(t){return this.wyt.oyt(t,this)},i.cyt=function(){return this.wkt},i.Kmt=function(t){var n=this.wgt,i=n.cyt(t),r=i&&function(t,n){var i,r=t.Uyt,e=t.Hyt,u=t.Myt,s=r.Zg,o=n.jyt(e);if(o.getTime()<=u.getTime())i=e.Jg;else{var a=(o.getTime()-u.getTime())/1e3,c=g.max(e.y_-a,0);i=e.Zg+c}return{uI:s,oI:i}}(i,n),e=this.wgt.hyt(t,i);return this.wkt=i,{Myt:t,Zmt:r,Jmt:e}},i.bo=function(t){this.Gmt(t,this.eyt.awt)},T(n,[{key:"lyt",get:function(){return this.eyt}},{key:"Egt",get:function(){return this.eyt.Egt}},{key:"Byt",get:function(){return this.eyt.Byt}},{key:"wyt",get:function(){return this.jmt()}},{key:"wgt",get:function(){return this.wyt.wgt}}]),n}(FV),$V=function(t){function n(n,i){var r;return(r=t.call(this,n,i,i.awt)||this).kyt=i,r.Qmt(!1),r.myt=n.ugt.map(function(t){return new JV(t,jt(r))}),r}qt(n,t);var i=n.prototype;return i.bo=function(t){this.Gmt(t,this.kyt.awt);var n=t.ugt||[];if(this.myt.length!==n.length)throw new d("Expected "+this.myt.length+' representations in adaptation set "'+t.Al+'", found '+n.length);for(var i=0;i<n.length;i++)this.myt[i].bo(n[i])},i.$mt=function(n){for(var i=0,r=this.myt;i<r.length;i++){r[i].$mt(n)}t.prototype.$mt.call(this,n)},i.Kmt=function(t){return{Myt:t,Zmt:VV(this.myt),Jmt:XV(this.myt)}},i.es=function(){for(var n=0,i=this.myt;n<i.length;n++){i[n].es()}t.prototype.es.call(this)},T(n,[{key:"ugt",get:function(){return this.myt}},{key:"Egt",get:function(){return this.kyt}},{key:"Byt",get:function(){return this.kyt.Byt}},{key:"gwt",get:function(){return this.ku.gwt}}]),n}(FV),KV=function(t){function n(n,i,r,e){var u;return(u=t.call(this,i,void 0,n.awt)||this).nkt=[],u.ykt=n,u.QA=r,u.cF=e,u.Qmt(!1),u.tkt=(i.dgt||[]).map(function(t){return new $V(t,jt(u))}),u.nkt=GV(u.tkt),u}qt(n,t);var i=n.prototype;return i.bo=function(t,n){this.Gmt(t,this.ykt.awt),this.cF=n;var i=t.dgt||[];if(this.tkt.length!==i.length)throw new d("Expected "+this.tkt.length+' adaptation sets in period "'+t.Al+'", found '+i.length);for(var r=0;r<i.length;r++)this.tkt[r].bo(i[r])},i.$mt=function(n){for(var i=0,r=this.tkt;i<r.length;i++){r[i].$mt(n)}t.prototype.$mt.call(this,n)},i.Kmt=function(t){return{Myt:t,Zmt:VV(this.tkt),Jmt:XV(this.tkt)}},i.es=function(){for(var n=0,i=this.tkt;n<i.length;n++){i[n].es()}t.prototype.es.call(this)},T(n,[{key:"dgt",get:function(){return this.tkt}},{key:"fgt",get:function(){return this.nkt}},{key:"Egt",get:function(){return this}},{key:"Byt",get:function(){return this.ykt}},{key:"Al",get:function(){return this.ku.Al}},{key:"uI",get:function(){return this.QA}},{key:"y_",get:function(){return this.cF}}]),n}(FV),tX=new Date("2000-01-01"),nX=function(t){function n(n,i,r,e){var u;if((u=t.call(this)||this).zmt=void 0,u.mkt=void 0,u.kkt=void 0,u.pkt=[],u.Akt=i,u.bo(n,r,e),n.xu===jF.$E){var s=u.amt();s&&s.Lwt&&s.Lwt.getTime()<tX.getTime()&&(u.kkt=new Date(u.qwt.getTime()-1e3*(s.aht.Zg+s.aht.y_)),u.$mt(e))}return u}qt(n,t);var i=n.prototype;return i.tyt=function(){var t;return null===(t=this.zmt)||void 0===t?void 0:t.Zmt},i.hyt=function(){var t;return null===(t=this.zmt)||void 0===t?void 0:t.Jmt},i.bo=function(t,n,i,e){var u;this.ku=t,this.bkt=n,this.Tkt=null!=e?e:i,this.CH=i;var s,o=[(s=n,r.Ha(".",s))];this.Ymt=t.awt&&t.awt.length>0?EV(t.awt.map(function(t){return t.Rf}),o):o,this.Ekt=t.Uwt&&t.Uwt.length>0?EV(t.Uwt,this.Ymt):[];var a=this.Ekt.map(function(t){return t.href}),c=n.href;li(a,c)||(this.Ekt.push(n),a.push(c));var h=this.Akt.href;li(a,h)||(this.Ekt.push(this.Akt),a.push(h)),this.mkt=null===(u=t.agt)||void 0===u?void 0:u.ogt();var f=t.xu===jF.$E,v=function(t,n,i){for(var r=[],e=0;e<t.length;e++){var u=t[e],s=void 0;if(u.uI)s=u.uI.ogt();else if(e>0&&t[e-1].y_){var o=r[e-1],a=t[e-1].y_.ogt();s=o+a}else{if(0!==e||n)break;s=0}r.push(s)}for(var c=[],h=0;h<r.length-1;h++)c.push({Jn:t[h],uI:r[h],y_:r[h+1]-r[h]});if(r.length>0){var f=r.length-1,v=t[f],d=r[f],l=1/0;n||(l=v.y_?v.y_.ogt():i-d),c.push({Jn:v,uI:d,y_:l})}return c}(t.sgt,f,this.mkt);this.Skt(v),this.$mt(i)},i.Skt=function(t){var n=this.pkt;if(0!==t.length){for(var i=t[0].Jn.Al,r=0;r<n.length&&n[r].Al!==i;)r++;for(var e=n.splice(0,r),u=0;u<e.length;u++){e[u].es()}for(var s=0;s<t.length;s++){var o=t[s];if(s<n.length){var a=n[s];0,a.bo(o.Jn,o.y_)}else n.push(new KV(this,o.Jn,o.uI,o.y_))}}else gi(n)},i.$mt=function(t){for(var n=0,i=this.pkt;n<i.length;n++){i[n].$mt(t)}var r=this.zmt,e=this.Kmt(t);r&&WV(r,e)||(this.zmt=e,this.ys(new UV))},i.Kmt=function(t){return{Myt:t,Zmt:HV(this.pkt),Jmt:XV(this.pkt)}},i.amt=function(){if(0!==this.pkt.length){var t=this.pkt[this.pkt.length-1];if(!isFinite(t.y_)&&0!==t.dgt.length){var n=t.dgt[0];if(0!==n.ugt.length){var i=n.ugt[0].wgt,r=i.amt();if(r)return{aht:r,Lwt:i.Vyt(r)}}}}},i.es=function(){this.Ts();for(var t=0,n=this.pkt;t<n.length;t++){n[t].es()}},T(n,[{key:"Jn",get:function(){return this.ku}},{key:"xu",get:function(){return this.ku.xu||jF.JE}},{key:"Mwt",get:function(){return this.kkt||this.ku.Mwt||this.qwt}},{key:"Lwt",get:function(){return this.ku.Lwt}},{key:"agt",get:function(){return this.mkt}},{key:"awt",get:function(){return this.Ymt}},{key:"Uwt",get:function(){return this.Ekt}},{key:"sgt",get:function(){return this.pkt}},{key:"qwt",get:function(){return this.ku.qwt||this.CH}},{key:"Ggt",get:function(){return this.ku.Ggt}},{key:"Rkt",get:function(){return this.Tkt}},{key:"Ikt",get:function(){return this.CH}}]),n}(Fi);var iX=function(){function t(t,n,i){this.lb=t,this.Nkt=n,this.Dkt=i,this.Ckt=0}var n=t.prototype;return n.qb=function(){var t=vn.coroutine(fn.mark(function t(n){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Okt(n,this.lb,this.Nkt,this.Dkt).catch(Ei);case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.xkt=function(){return new Date(Ft()+this.Ckt)},n.Okt=function(){var t=vn.coroutine(fn.mark(function t(n,i,r,e){var u,s,o;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=4;break}return t.next=3,this.Pkt(i,e,r);case 3:u=t.sent;case 4:if(void 0!==u){t.next=17;break}bi(r),s=0;case 7:if(!(s<n.length)){t.next=17;break}return o=n[s],t.next=11,this.Bkt(i,o,r);case 11:if(void 0===(u=t.sent)){t.next=14;break}return t.abrupt("break",17);case 14:s++,t.next=7;break;case 17:this.Ckt=void 0===u?0:u-Ft();case 18:case"end":return t.stop()}},t,this)}));return function(n,i,r,e){return t.apply(this,arguments)}}(),n.Bkt=function(){var t=vn.coroutine(fn.mark(function t(n,i,r){var e,u,s,o;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=i.igt,t.t0=e,t.next="urn:mpeg:dash:utc:http-xsdate:2012"===t.t0?4:"urn:mpeg:dash:utc:http-xsdate:2014"===t.t0?4:"urn:mpeg:dash:utc:http-iso:2012"===t.t0?4:"urn:mpeg:dash:utc:http-iso:2014"===t.t0?4:"urn:mpeg:dash:utc:direct:2012"===t.t0?10:"urn:mpeg:dash:utc:direct:2014"===t.t0?10:16;break;case 4:if(!(u=i.xn)){t.next=9;break}return t.next=8,this.Pkt(n,u,r);case 8:return t.abrupt("return",t.sent);case 9:return t.abrupt("break",17);case 10:if(!(s=i.xn)){t.next=15;break}if(o=new Date(s).getTime(),m(o)){t.next=15;break}return t.abrupt("return",o);case 15:return t.abrupt("break",17);case 16:return t.abrupt("return");case 17:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),n.Pkt=function(){var t=vn.coroutine(fn.mark(function t(n,i,r){var e,u,s;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.Ef({Rf:i,qf:sf.GET,Af:Ro.pn,ds:r});case 3:return e=t.sent,t.next=6,e.rf();case 6:if(u=t.sent,s=new Date(u).getTime(),m(s)){t.next=10;break}return t.abrupt("return",s);case 10:t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),Ti(t.t0);case 16:case"end":return t.stop()}},t,null,[[0,12]])}));return function(n,i,r){return t.apply(this,arguments)}}(),t}(),rX=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).uyt=void 0,u._Z=!0,u.pkt=[],u.Lkt=void 0,u.Mkt=n,u.Ukt=n.Ul,u.Fkt=i,u.lb=r,u.Hkt=e,u.Vkt=new iX(u.lb,u.Hkt,u.Mkt.Xkt),u}qt(n,t);var i=n.prototype;return i.Crt=function(t){var n=this.Sg;this._Z=t,n!==this.Sg&&this.ys(new ZV)},i.bo=function(){var t=vn.coroutine(fn.mark(function t(n,i,e){var u,s,o,a,c,h,f,v,d,l,_,g,w;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=[],o=[],a=n.Fwt?r.Ha(n.Fwt,this.Ukt):this.Ukt,void 0!==this.uyt){t.next=10;break}return t.next=6,this.Vkt.qb(n.Gwt);case 6:this.uyt=new nX(n,this.Ukt,a,this.xkt()),this.uyt.ps(_V.Qwt,this.gs),t.next=11;break;case 10:this.uyt.bo(n,a,this.xkt(),i);case 11:if(0===(c=this.uyt.sgt).length)h=this.pkt.slice(),gi(this.pkt);else{for(f=c[0].Al,v=0;v<this.pkt.length&&this.pkt[v].Al!==f;)v++;for(h=this.pkt.splice(0,v),d=0;d<c.length;d++)l=c[d],_=void 0,d<this.pkt.length?_=this.pkt[d]:(_=new QV(this,l),s.push(_)),o.push(_.bo(this.Fkt,e))}return t.next=15,vn.all(o);case 15:for((u=this.pkt).push.apply(u,s),g=0,w=h;g<w.length;g++)w[g].ukt();this.ys(new YV);case 18:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.xkt=function(){return this.Vkt.xkt()},i.vkt=function(t){var n=this.pkt.indexOf(t);if(n>0)return this.pkt[n-1]},i.hkt=function(t){var n=this.pkt.indexOf(t);if(n>=0&&n+1<this.pkt.length)return this.pkt[n+1]},i.tyt=function(){return this.uyt?this.uyt.tyt():void 0},i.hyt=function(){return this.uyt&&this.uyt.hyt()},i.$mt=function(t){this.uyt&&this.uyt.$mt(t)},i.Jf=function(){this.Ts(),this.Lkt=void 0,this.Crt(!1);for(var t=0,n=this.pkt;t<n.length;t++){n[t].Jf()}gi(this.pkt),this.uyt&&this.uyt.es()},T(n,[{key:"Lwt",get:function(){return this.uyt&&this.uyt.Lwt}},{key:"Mwt",get:function(){return this.uyt&&this.uyt.Mwt}},{key:"Al",get:function(){return this.uyt&&this.uyt.Jn.Al}},{key:"Rkt",get:function(){var t;return null===(t=this.uyt)||void 0===t?void 0:t.Rkt}},{key:"Wkt",get:function(){var t;return null===(t=this.uyt)||void 0===t?void 0:t.Ikt}},{key:"Uwt",get:function(){return this.uyt?this.uyt.Uwt.map(function(t){return t.href}):[this.hgt]}},{key:"hgt",get:function(){return this.Ukt.href}},{key:"Hwt",get:function(){return this.uyt&&this.uyt.Jn.Hwt}},{key:"Vwt",get:function(){return this.uyt&&this.uyt.Jn.Vwt}},{key:"agt",get:function(){return this.uyt&&this.uyt.Jn.agt}},{key:"Xwt",get:function(){return this.uyt&&this.uyt.Jn.Xwt}},{key:"Wwt",get:function(){var t,n,i=(null===(n=null===(t=this.uyt)||void 0===t?void 0:t.Jn.Wwt)||void 0===n?void 0:n.Igt())||0;return g.max(i,uX)}},{key:"Sg",get:function(){return this._Z}},{key:"sgt",get:function(){return this.pkt}},{key:"qkt",get:function(){return this.xu===jF.$E?this.Eyt:this.zkt}},{key:"Gkt",get:function(){var t=this.qkt;if(void 0!==t)for(var n=0,i=this.sgt;n<i.length;n++){var r=i[n];if(r.uI<=t&&r.oI>t)return r}}},{key:"rwt",get:function(){return this.uyt&&this.uyt.Jn.rwt}},{key:"qwt",get:function(){return this.uyt&&this.uyt.qwt}},{key:"dkt",get:function(){for(var t=this.pkt.length-1;t>=0;t-=1){var n=this.pkt[t].dkt;if(n)return n}}},{key:"Eyt",get:function(){var t=this.dkt;if(void 0!==t){var n=t-this.jkt;return g.max(n,this.zkt)}}},{key:"zkt",get:function(){for(var t=0,n=this.pkt;t<n.length;t++){var i=n[t].Kwt;if(void 0!==i)return i}}},{key:"Qf",get:function(){return Boolean(this.Mkt.Qf)}},{key:"jkt",get:function(){var t=this.uyt&&this.uyt.Jn.zwt;return t?t.ogt():this.xu===jF.$E?this.Ntt:0}},{key:"Ntt",get:function(){return this.Mkt.Ntt?this.Mkt.Ntt:1.5*this.Xwt.ogt()}},{key:"Ggt",get:function(){return this.uyt&&this.uyt.Ggt}},{key:"xu",get:function(){return this.uyt?this.uyt.xu:void 0}}]),n}(Fi),eX=function(){function t(t,n,i,r){this.rkt=new rX(t,n,i,r)}return T(t,[{key:"ayt",get:function(){return this.rkt}}]),t}(),uX=1e3,sX=g.pow(2,31)-1,oX=function(){function t(t,n,i,r){var e=this;this.Qkt=new ki,this.Ykt=function(){var t=vn.coroutine(fn.mark(function t(n){var i,r;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,i=e.uyt.ayt.xkt(),t.next=4,e.Zkt(e.uyt.ayt.Uwt,n);case 4:return r=t.sent,t.next=7,e.uyt.ayt.bo(r,i,n);case 7:t.next=13;break;case 9:throw t.prev=9,t.t0=t.catch(0),Ww(t.t0)&&e.uyt.ayt.Crt(!1),t.t0;case 13:case"end":return t.stop()}},t,null,[[0,9]])}));return function(n){return t.apply(this,arguments)}}(),this.g8=r,this.uyt=new eX(t,n,i,this.Qkt.ds)}var n=t.prototype;return n.Gv=function(){var t=vn.coroutine(fn.mark(function t(n){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.uyt.ayt.ys(new gS),t.prev=1,t.next=4,jM(this.Ykt,n);case 4:this.uyt.ayt.Crt(!0),t.next=13;break;case 7:throw t.prev=7,t.t0=t.catch(1),Ti(t.t0),this.Jkt=void 0,this.uyt.ayt.Crt(!1),new d("The provided MPEG-DASH document could not be loaded - "+t.t0.message);case 13:this.$kt=this.Kkt(this.Qkt.ds);case 14:case"end":return t.stop()}},t,this,[[1,7]])}));return function(n){return t.apply(this,arguments)}}(),n.Kkt=function(){var t=vn.coroutine(fn.mark(function t(n){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0;case 1:if(this.uyt.ayt.xu!==jF.$E){t.next=6;break}return t.next=4,Si(this.tpt,n);case 4:t.next=1;break;case 6:t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}},t,this,[[0,8]])}));return function(n){return t.apply(this,arguments)}}(),n.npt=function(){var t=vn.coroutine(fn.mark(function t(n){var i,r;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(bi(n),!((i=this.ipt())>0)){t.next=6;break}return r=g.min(i,sX),t.next=6,Pi(r,n);case 6:return t.prev=6,t.next=9,jM(this.Ykt,n,1/0,uX,3e4);case 9:this.uyt.ayt.Crt(!0);case 10:return t.prev=10,this.rpt=void 0,t.finish(10);case 13:case"end":return t.stop()}},t,this,[[6,,10,13]])}));return function(n){return t.apply(this,arguments)}}(),n.ipt=function(){var t=this.uyt.ayt.xkt().getTime()-this.uyt.ayt.Rkt.getTime();return this.uyt.ayt.Wwt-t},n.ept=function(t){var n=this.uyt.ayt.hyt();if(n){var i=n.getTime()-t.getTime();if(i>0)return i}this.uyt.ayt.$mt(t);var r=this.uyt.ayt.hyt();return r?r.getTime()-t.getTime():NaN},n.upt=function(){var t=vn.coroutine(fn.mark(function t(n){var i;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.rpt||(this.rpt=this.npt(n)),(i=new ki).fs(n),t.prev=3,t.next=6,vn.race([this.rpt,this.spt(i.ds)].filter(M));case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(3),Ei(t.t0);case 11:return t.prev=11,i.hs(),t.finish(11);case 14:case"end":return t.stop()}},t,this,[[3,8,11,14]])}));return function(n){return t.apply(this,arguments)}}(),n.spt=function(t){var n=this.uyt.ayt.xkt(),i=this.ept(n);if(!m(i))return this.apt(i,t)},n.apt=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Pi(n,i);case 2:r=this.uyt.ayt.xkt(),this.uyt.ayt.$mt(r);case 4:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.Zkt=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r,e;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.g8.d8(n,{},i,!1);case 2:return r=t.sent,e=new gV,t.abrupt("return",e.jdt(r.r8,r.Sf));case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.Jf=function(){return this.Qkt.hs(),this.$kt=void 0,this.Jkt=void 0,this.rpt=void 0,this.uyt.ayt.Jf(),vn.resolve()},T(t,[{key:"cpt",get:function(){return this.uyt}},{key:"k0",get:function(){return this.Jkt||(this.Jkt=this.Gv(this.Qkt.ds),Ci(this.Jkt)),this.Jkt}},{key:"tpt",get:function(){return this.uyt.ayt.Wkt&&this.uyt.ayt.xu===jF.$E?this.upt(this.Qkt.ds):this.k0}}]),t}(),aX=function(){function t(t,n,i){this.g8=t,this.hpt=n,this.fpt=i}var n=t.prototype;return n.vpt=function(){var t=vn.coroutine(fn.mark(function t(n){var i;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.src){t.next=2;break}throw new d("Invalid typed source");case 2:if(!tl(i=n.type)){t.next=9;break}return t.next=6,this.dpt(n);case 6:return t.abrupt("return",t.sent);case 9:if(!Kd(i)){t.next=15;break}return t.next=12,this.lpt(n);case 12:return t.abrupt("return",t.sent);case 15:throw new d("Unexpected source type");case 16:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.dpt=function(){var t=vn.coroutine(fn.mark(function t(n){var i;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,oH(n.src,this.g8);case 3:return i=t.sent,t.next=6,cH(i,this.g8);case 6:return t.abrupt("return",t.sent);case 9:throw t.prev=9,t.t0=t.catch(0),new d("Unable to fetch HLS manifest");case 12:case"end":return t.stop()}},t,this,[[0,9]])}));return function(n){return t.apply(this,arguments)}}(),n.lpt=function(){var t=vn.coroutine(fn.mark(function t(n){var i;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,i=new oX({Ul:r.Ha(n.src),Ntt:n.liveOffset,Xkt:n.timeServer,Qf:n.useCredentials},this.fpt,lf.uv,this.g8),t.next=4,i.k0;case 4:return t.next=6,HF(i.cpt.ayt,n.contentProtection,this.hpt);case 6:return t.abrupt("return",t.sent);case 9:throw t.prev=9,t.t0=t.catch(0),new d("Unable to fetch DASH manifest");case 12:case"end":return t.stop()}},t,this,[[0,9]])}));return function(n){return t.apply(this,arguments)}}(),t}(),cX=function(){var t=vn.coroutine(fn.mark(function t(n){var i,e,u,s,o;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n.af,MediaSource.isTypeSupported(i)||Qw(n.bC,n.eJ)){t.next=3;break}return t.abrupt("return",!1);case 3:if(!n.egt){t.next=17;break}e=n.egt,u=yi(e,function(t){return zn(t.igt)}).filter(M),s=0;case 7:if(!(s<u.length)){t.next=16;break}return o=u[s],t.next=11,r.ju(o,i);case 11:if(!t.sent){t.next=13;break}return t.abrupt("return",!0);case 13:s++,t.next=7;break;case 16:return t.abrupt("return",!1);case 17:return t.abrupt("return",!0);case 18:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),hX=function(){function t(t){this._pt=[],this.gpt=0,this.wpt=t}var n=t.prototype;return n.ypt=function(){var t=new se;return this._pt.push(t),this.mpt(),t.ro},n.kpt=function(){var t=vn.coroutine(fn.mark(function t(n,i){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n;case 2:this.gpt-=1,this.mpt(),0===this._pt.length&&0===this.gpt&&i.eo(!0);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.mpt=function(){this._pt.length>0&&this.gpt<this.wpt&&(this._pt.shift().eo(),this.gpt+=1)},t}();function fX(t,n){for(var i=0,r=0,e=t.XA.UK.map(function(t){return t.y_});r<e.length;r++){if((i+=e[r])>=n)return i}return i}var vX=function(t){function n(n,i,r,e,u,s,o,a){var c;void 0===a&&(a=cX),(c=t.call(this)||this).ppt=new se,c.Apt=RF.$_t(),c.y8=n,c.zK=i,c.g8=r,c.bpt=e,c.Tpt=u,c.hpt=s,c.fpt=a,c.M_t=o,c.Ept=-1;var h=c.y8.HR.sources[0];return c.Spt=h,c.M_=c.rg(),c.Rpt=new hX(c.y8.JA.parallelTasksThreshold),c}qt(n,t);var i=n.prototype;return i.rg=function(){var t=vn.coroutine(fn.mark(function t(){var n,i,r,e,u,s,o,a,c,h,f,v,d,l,_,w,y,m,k,p,A,b,T,E,S,R,I,N,D=this;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=new aX(this.g8,this.hpt,this.fpt),t.next=3,i.vpt(this.Spt);case 3:return this.AJ=t.sent,r=this.y8.JA.amount,e=this.AJ.y_,u=DF(r,e),this.Q_t=u,o=ZC(this.AJ.cgt[0]),t.next=11,this.zK.MK.PK(o,"manifestURL");case 11:for(a=t.sent.filter(function(t){return li(t.references,D.y8.Al)}),c=[],h=this.y8.JA.bandwidth,f=0,v=this.AJ.sgt;f<v.length;f++)for(d=v[f],l=0,_=d.vgt;l<_.length;l++)for(w=_[l],y=0,m=_X(w.Vk);y<m.length;y++)for(k=m[y],p=0,A=gX(k.Rl,h);p<A.length;p++)b=A[p],c.push(b);if(this.Ept=g.ceil(c.map(function(t){return t.OS*fX(t,u)/8}).reduce(function(t,n){return t+n},0)),T=_n(),a&&0!==a.length){for(E=a.reduce(function(t,n){return t+n.byteSize},0),S=function(t){var i=a[t],r=i.qualityId,e=new Yp(i.startsAndEnds);if(T.has(r))T.get(r).timeRanges=T.get(r).timeRanges.TI(e).bI(5e-4);else{var u=hi(c,function(t){return t.Al===r}),s=g.min(D.Q_t,null!==(n=null==u?void 0:u.XA.y_)&&void 0!==n?n:1/0);T.set(r,{timeRanges:e,totalQualityDurationToCache:s})}},R=0;R<a.length;R++)S(R);s=new RF(E,T,this.Q_t)}else{for(I=0;I<c.length;I++)N=c[I],T.set(N.Al,{timeRanges:Yp.WI(),totalQualityDurationToCache:g.min(N.XA.y_,this.Q_t)});s=new RF(0,T,this.Q_t)}this.Ipt=s;case 19:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Npt=function(){var t=vn.coroutine(fn.mark(function t(n){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.M_;case 2:return t.next=4,this.Dpt(this.AJ,n);case 4:return t.next=6,this.ppt.ro;case 6:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Dpt=function(){var t=vn.coroutine(fn.mark(function t(n,i){var r,e,u,s;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.cgt){t.next=2;break}throw new d("Unexpected - manifest is missing locations");case 2:return t.next=4,this.Cpt();case 4:for(r=[],e=0,u=n.sgt;e<u.length;e++)s=u[e],r.push(this.Opt(s,n.cgt[0],i));return t.abrupt("return",vn.all(r));case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Cpt=function(){var t=vn.coroutine(fn.mark(function t(){var n,i,r,e;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.bpt.xK();case 2:n=t.sent,i=0;case 4:if(!(i<n.length)){t.next=25;break}return r=n[i],t.next=8,this.zK.FK.Ws(r.key);case 8:if(!(e=t.sent)){t.next=14;break}return t.next=12,dX(e,this.y8.Al,this.zK.FK,this.M_t);case 12:t.next=22;break;case 14:return t.prev=14,t.next=17,this.zK.FK.NK(r,this.M_t);case 17:t.next=22;break;case 19:throw t.prev=19,t.t0=t.catch(14),new OF("Unable to store manifest with url: "+r.locationURL,t.t0);case 22:i++,t.next=4;break;case 25:return t.next=27,this.bpt.LK();case 27:case"end":return t.stop()}},t,this,[[14,19]])}));return function(){return t.apply(this,arguments)}}(),i.Opt=function(){var t=vn.coroutine(fn.mark(function t(n,i,r){var e,u,s,o,a,c,h;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=[],u=0,s=n.vgt;u<s.length;u++)for(o=s[u],a=_X(o.Vk),c=0;c<a.length;c++)h=a[c],e.push(this.xpt(h,i,r));return t.abrupt("return",vn.all(e));case 3:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.xpt=function(){var t=vn.coroutine(fn.mark(function t(n,i,r){var e,u,s,o,a;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.y8.JA.bandwidth,u=gX(n.Rl,e),n.xu!==Kl.Xf||!n.ggt||!n.ggt.IT.widevine||"persistent"!==n.ggt.IT.widevine.licenseType){t.next=6;break}return t.next=5,this.Ppt(n.ggt);case 5:bi(r);case 6:for(s=[],o=0;o<u.length;o++)a=u[o],s.push(this.Bpt(a,i,r));return t.abrupt("return",vn.all(s));case 9:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.Bpt=function(){var t=vn.coroutine(fn.mark(function t(n,i,r){var e,u,s,o,a,c;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(bi(r),!n.V9){t.next=7;break}return e={Zg:0,y_:0,bgt:n.V9},t.next=5,this.Rpt.ypt();case 5:bi(r),Ci(this.Rpt.kpt(this.Lpt(e,n,i),this.ppt));case 7:u=n.XA.UK[0].Zg,s=u+this.Q_t,o=0,a=n.XA.UK;case 10:if(!(o<a.length)){t.next=22;break}if(!((c=a[o]).Zg>=s)){t.next=14;break}return t.abrupt("break",22);case 14:return t.next=16,this.Rpt.ypt();case 16:return t.next=18,this.Mpt(r);case 18:Ci(this.Rpt.kpt(this.Lpt(c,n,i),this.ppt));case 19:o++,t.next=10;break;case 22:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.Mpt=function(){var t=vn.coroutine(fn.mark(function t(n){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(null==n?void 0:n.Ju)){t.next=4;break}return t.next=3,this.ppt.ro;case 3:throw new pi;case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Upt=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.M_;case 2:return t.abrupt("return",this.AJ);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Ppt=function(t){return vn.resolve()},i.Fpt=function(){var t=vn.coroutine(fn.mark(function t(){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return rt("License renewal unsupported in this SDK."),t.abrupt("return");case 2:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),i.Lpt=function(){var t=vn.coroutine(fn.mark(function t(n,i,r){var e,u,s,o,a,c,h,f=this;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.zK.MK,u=JC(n.bgt.Rf,n.bgt.NY),t.next=4,e.Ws(u);case 4:if(!(s=t.sent)){t.next=11;break}return t.next=8,dX(s,this.y8.Al,e,this.M_t);case 8:this.Hpt(s,!1),t.next=24;break;case 11:return t.prev=11,t.next=14,this.Vpt(n.bgt);case 14:return o=t.sent,a=this.Xpt(n,i,r,o),c=a.segmentMetadataEntry,h=a.segmentEntry,t.next=18,this.zK.XK(function(){var t=vn.coroutine(fn.mark(function t(n){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.MK.NK(c,f.M_t);case 2:return t.next=4,n.UK.NK(h,f.M_t);case 4:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}());case 18:this.Hpt(c,!0),t.next=24;break;case 21:throw t.prev=21,t.t0=t.catch(11),new OF("Unable to store segment with url: "+n.bgt.Rf,t.t0);case 24:case"end":return t.stop()}},t,this,[[11,21]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.Vpt=function(){var t=vn.coroutine(fn.mark(function t(n){var i;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Tpt.Wpt(n,!1);case 2:return i=t.sent,t.next=5,this.qpt(i);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.qpt=function(){var t=vn.coroutine(fn.mark(function t(n){var i;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.uf();case 2:return i=t.sent,t.abrupt("return",{buffer:i});case 4:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.Xpt=function(t,n,i,r){var e=JC(t.bgt.Rf,t.bgt.NY),u=t.Zg,s=t.y_,o=this.zpt(r);return{segmentMetadataEntry:{key:e,segmentURLsegmentByteRange:e,manifestURL:ZC(i),qualityId:n.Al,byteSize:o,startsAndEnds:new Yp([u,u+s]).cI,references:[this.y8.Al]},segmentEntry:{key:e,segmentURLsegmentByteRange:e,manifestURL:ZC(i),data:r}}},i.zpt=function(t){return t.buffer.byteLength},i.Hpt=function(t,n){var i=t.qualityId,r=this.Apt,e=r.Dg;e.get(i).timeRanges=e.get(i).timeRanges.TI(new Yp(t.startsAndEnds)).bI(5e-4),this.Ipt=new RF(n?r.K_t+t.byteSize:r.K_t,e,this.Q_t)},T(n,[{key:"Gpt",get:function(){return this.Ept}},{key:"Ipt",get:function(){return this.Apt},set:function(t){this.Apt._w(t)||(this.Apt=t,t._w(RF.$_t())||this.ys(new SF))}}]),n}(Fi);function dX(t,n,i,r){return lX.apply(this,arguments)}function lX(){return(lX=vn.coroutine(fn.mark(function t(n,i,r,e){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(li(n.references,i)){t.next=4;break}return n.references.push(i),t.next=4,r.NK(n,e);case 4:case"end":return t.stop()}},t)}))).apply(this,arguments)}function _X(t){return t.length?[t[0]]:[]}function gX(t,n){if(!t.length)return[];var i=[].concat(t).sort(TF),r=i.filter(function(t){return t.OS<=n});return r.length>0?[r.pop()]:[i.shift()]}var wX=function(){function t(t){this.UE=new cy,this.lb=t}var n=t.prototype;return n.Ef=function(t){var n=this,i=new se;return this.UE.Eb(function(r){return n.jpt(i,t,r)},t.ds).catch(j),i.ro},n.Zf=function(t){return this.lb.Zf(t)},n.jpt=function(){var t=vn.coroutine(fn.mark(function t(n,i,r){var e,u,s;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return bi(r),e=new ff({Rf:i.Rf,ds:r},i),u=this.lb.Ef(e),n.eo(u),t.next=6,u;case 6:return s=t.sent,t.next=9,s.lf();case 9:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),n.Jf=function(){this.UE.Jf()},t}(),yX=function(){function t(t){this.lb=t,this.Qpt=new wX(this.lb)}var n=t.prototype;return n.Wpt=function(t,n,i){return this.Knt(t,n,!0,!1,void 0,i)},n.Ypt=function(t,n,i,r){return this.Knt(t,n,!1,!1,i,r)},n.Zpt=function(t,n,i,r){return this.Knt(t,n,!1,!0,i,r)},n.Knt=function(){var n=vn.coroutine(fn.mark(function n(i,r,e,u,s,o){var a;return fn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return bi(o),n.next=3,this.Jpt(i,e,u,s,o);case 3:if(a=n.sent,!r){n.next=8;break}return n.abrupt("return",t.$pt(a));case 8:return n.abrupt("return",this.Kpt(a));case 9:case"end":return n.stop()}},n,this)}));return function(t,i,r,e,u,s){return n.apply(this,arguments)}}(),n.Kpt=function(t){return t},t.$pt=function(t){return t},n.Jpt=function(t,n,i,r,e){var u=new ff({Rf:t.Rf,Af:Ro.Vc,pf:t.NY?{Range:"bytes="+t.NY[0]+"-"+t.NY[1]}:void 0,Qf:t.Qf,qf:sf.GET,xu:of.Cf,Gf:i?af.xf:af.Nf,jf:this.tAt,zf:r,ds:e});return n?this.Qpt.Ef(u):this.lb.Ef(u)},T(t,[{key:"tAt",get:function(){return cf.Nf}}]),t}(),mX=function(){function t(t){this.lb=t}return t.prototype.Xmt=function(){var t=vn.coroutine(fn.mark(function t(n,i,r,e){var u;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.lb.Ef({Rf:n,Af:Ro.Vc,pf:{Range:"bytes="+i[0]+"-"+i[1]},Qf:r,qf:sf.GET,xu:of.Nf,ds:e});case 2:return u=t.sent,t.next=5,u.uf();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}},t,this)}));return function(n,i,r,e){return t.apply(this,arguments)}}(),t}(),kX=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).aht=n,e}return qt(n,t),n}(Yt),pX=function(){function t(t){this.l8=t}return t.prototype.Xmt=function(){var t=vn.coroutine(fn.mark(function t(n,i,r,e){var u,s;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.l8.f8(n,i);case 2:if(!(u=t.sent)){t.next=5;break}return t.abrupt("return",u.buffer);case 5:return t.next=7,this.l8.f8(n);case 7:if(!(s=t.sent)){t.next=10;break}return t.abrupt("return",ie(new k(s.buffer),i[0],i[1]));case 10:throw new kX({Rf:n,NY:i,Qf:!1});case 11:case"end":return t.stop()}},t,this)}));return function(n,i,r,e){return t.apply(this,arguments)}}(),t}(),AX={key:"",segmentURLsegmentByteRange:"",manifestURL:"",qualityId:"",byteSize:0,startsAndEnds:new Yp([0,0]).cI,references:[]},bX={key:"",segmentURLsegmentByteRange:"",manifestURL:"",data:""},TX=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n)||this).nAt=new mX(i),s.zK=r,s.iAt=e,s.M_t=u,s}qt(n,t);var i=n.prototype;return i.Xmt=function(){var n=vn.coroutine(fn.mark(function n(i,r,e,u){var s;return fn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.prototype.Xmt.call(this,i,r,e,u);case 3:return n.abrupt("return",n.sent);case 6:n.prev=6,n.t0=n.catch(0),Ti(n.t0);case 9:return n.next=11,this.nAt.Xmt(i,r,e,u);case 11:return s=n.sent,n.next=14,this.rAt(i,r,s);case 14:return n.abrupt("return",s);case 15:case"end":return n.stop()}},n,this,[[0,6]])}));return function(t,i,r,e){return n.apply(this,arguments)}}(),i.rAt=function(){var t=vn.coroutine(fn.mark(function t(i,r,e){var u,s,o,a,c,h,f,v=this;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==this.iAt){t.next=2;break}return t.abrupt("return");case 2:return u=this.zK.MK,s=JC(i,r),t.next=6,u.Ws(s);case 6:if(!(o=t.sent)){t.next=12;break}return t.next=10,dX(o,this.iAt,u);case 10:t.next=22;break;case 12:return t.prev=12,a={buffer:e},c=n.Xpt(s,a,this.iAt),h=c.segmentMetadataEntry,f=c.segmentEntry,t.next=17,this.zK.XK(function(){var t=vn.coroutine(fn.mark(function t(n){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.MK.NK(h,v.M_t);case 2:return t.next=4,n.UK.NK(f,v.M_t);case 4:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}());case 17:t.next=22;break;case 19:throw t.prev=19,t.t0=t.catch(12),new OF("Unable to store segment with url: "+i,t.t0);case 22:case"end":return t.stop()}},t,this,[[12,19]])}));return function(n,i,r){return t.apply(this,arguments)}}(),n.Xpt=function(t,n,i){return{segmentMetadataEntry:dn(dn({},AX),{key:t,segmentURLsegmentByteRange:t,references:[i]}),segmentEntry:dn(dn({},bX),{key:t,segmentURLsegmentByteRange:t,data:n})}},n}(pX);var EX=function(t){function n(){return t.apply(this,arguments)||this}return qt(n,t),n.prototype.eAt=function(t,n,i,r,e,u,s){return new vX(t,n,i,r,e,u,s)},n}(function(){function t(t){this.lb=t}return t.prototype.kj=function(t,n,i){void 0===i&&(i="persistent");var r=Boolean(t.HR.sources[0].useCredentials),e=new yX(this.lb),u=new qP(this.lb,r),s=new zP(n.FK,n.MK,n.UK,n.VK),o=function(t,n,i,r,e){return new TX(n,t,i,r,e)}(this.lb,s,n,t.Al,i),a=new WC,c=new ZP(YP(u,s),a,t);return this.eAt(t,n,c,a,e,o,i)},t}());function SX(t){var n,i={get id(){return t.Al},get status(){return t.kf},get source(){return t.HR},get parameters(){return t.JA},get duration(){return t.y_},get cached(){return t.uAt.pR()},get secondsCached(){return t.sAt},get percentageCached(){return t.oAt},get bytes(){return t.aAt},get bytesCached(){return t.cAt},get license(){return t.XC.xd},start:function(){t.uI()},pause:function(){t.Y_()},remove:function(){t.Ao()},addEventListener:function(t,i){n.ps(t,i)},removeEventListener:function(t,i){n.Es(t,i)}};return n=new iE(t,i),i}var RX=function(){function t(t,n,i){this.y8=t,this.zK=n,this.AJ=i}var n=t.prototype;return n.hAt=function(){var t=vn.coroutine(fn.mark(function t(){var n=this;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.zK.XK(function(){var t=vn.coroutine(fn.mark(function t(i){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.fAt(i);case 2:return t.next=4,n.vAt(i);case 4:return t.next=6,n.dAt(i);case 6:return t.next=8,n.lAt(i);case 8:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.fAt=function(){var t=vn.coroutine(fn.mark(function t(n){var i,r;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.HK,r=this.y8.Al,t.next=4,i.Ao(r);case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.vAt=function(){var t=vn.coroutine(fn.mark(function t(n){var i,r,e,u,s,o,a=this;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.MK,r=n.UK,e=ZC(this.y8.HR.sources[0].src),t.next=5,i.PK(e,"manifestURL");case 5:u=t.sent.filter(function(t){return li(t.references,a.y8.Al)}),s=0;case 7:if(!(s<u.length)){t.next=22;break}if(vi((o=u[s]).references,this.y8.Al),0!==o.references.length){t.next=17;break}return t.next=13,i.Ao(o.key);case 13:return t.next=15,r.Ao(o.key);case 15:t.next=19;break;case 17:return t.next=19,i.NK(o);case 19:s++,t.next=7;break;case 22:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.dAt=function(){var t=vn.coroutine(fn.mark(function t(n){var i,r,e,u,s,o=this;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.FK,r=this._At(),t.next=4,i.CK(r);case 4:e=t.sent.filter(function(t){return li(t.references,o.y8.Al)}),u=0;case 6:if(!(u<e.length)){t.next=19;break}if(vi((s=e[u]).references,this.y8.Al),0!==s.references.length){t.next=14;break}return t.next=12,i.Ao(s.key);case 12:t.next=16;break;case 14:return t.next=16,i.NK(s);case 16:u++,t.next=6;break;case 19:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n._At=function(){if(!this.AJ)return[];var t=ZC(this.y8.HR.sources[0].src),n=function(t){if(!t)return[];for(var n=[],i=0,r=t.sgt;i<r.length;i++)for(var e=0,u=r[i].vgt;e<u.length;e++)for(var s=0,o=u[e].Vk;s<o.length;s++)for(var a=0,c=o[s].Rl;a<c.length;a++){var h=c[a];h.Sgt&&n.push(h.Sgt)}return n.reduce(function(t,n){return t.indexOf(n)<0&&t.push(n),t},[])}(this.AJ).map(function(t){return{src:t}}).map(function(t){return ZC(t.src)});return[t].concat(n)},n.lAt=function(){var t=vn.coroutine(fn.mark(function t(n){var i,r,e,u,s=this;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.VK,t.next=3,i.xK();case 3:r=t.sent.filter(function(t){return li(t.references,s.y8.Al)}),e=0;case 5:if(!(e<r.length)){t.next=19;break}if(vi((u=r[e]).references,this.y8.Al),0!==u.references.length){t.next=14;break}return t.next=11,i.Ao(u.key);case 11:this.gAt(u),t.next=16;break;case 14:return t.next=16,i.NK(u);case 16:e++,t.next=5;break;case 19:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.gAt=function(t){},t}(),IX=new(function(){function t(){}return t.prototype.kj=function(t,n,i){return new RX(t,n,i)},t}());var NX=function(){function t(t,n){this.Er=t,this.wAt=n}var n=t.prototype;return n.N4=function(t){this.yAt(t)},n.yAt=function(){var t=vn.coroutine(fn.mark(function t(n){return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.wAt.Fpt(n);case 3:t.next=9;break;case 5:t.prev=5,t.t0=t.catch(0),this.Er.F_t(fF.ERROR);case 9:case"end":return t.stop()}},t,this,[[0,5]])}));return function(n){return t.apply(this,arguments)}}(),T(t,[{key:"xd",get:function(){var t;return this.Od||(this.Od=(t=this,{renew:function(n){t.N4(n)}})),this.Od}}]),t}(),DX=function(t){function n(n,i,r,e,u,s){var o;(o=t.call(this)||this).mAt=new ki,o.evictOnLoading=function(){o.Es("T_t",o.evictOnLoading),o.kAt()},o.Lg=n,o.Yvt=i,o.pAt=r,o.zK=e,o.wAt=u.kj(jt(o),o.zK,s),o.AAt=new NX(jt(o),o.wAt),o.B_t=1===o.wAt.Ipt.tgt?fF.DONE:fF.IDLE,o.wAt.ps("nK",function(t){o.gs(t),1===o.oAt&&o.F_t(fF.DONE)});var a=new Date,h=o.pAt.expirationDate.getTime()-a.getTime();return h<2147483647&&c(function(){return o.kAt()},h),o}qt(n,t);var i=n.prototype;return i.F_t=function(t){this.B_t!==t&&(this.B_t=t,this.ys(new dF))},i.uI=function(){this.B_t===fF.EVICTED||this.B_t===fF.DONE||this.bAt()},i.bAt=function(){var t=vn.coroutine(fn.mark(function t(){var n;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.F_t(fF.LOADING),n=new ki,this.mAt=n,t.next=6,this.wAt.Npt(n.ds);case 6:this.F_t(fF.DONE),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),Ai(t.t0)?this.F_t(fF.IDLE):this.F_t(fF.ERROR);case 12:return t.prev=12,this.mAt.es(),t.finish(12);case 15:case"end":return t.stop()}},t,this,[[0,9,12,15]])}));return function(){return t.apply(this,arguments)}}(),i.Y_=function(){this.mAt.hs()},i.Ao=function(){this.kf===fF.LOADING?(this.ps("T_t",this.evictOnLoading),this.Y_()):this.kAt()},i.kAt=function(){var t=vn.coroutine(fn.mark(function t(){var n;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.wAt.Upt();case 3:return n=t.sent,t.next=6,IX.kj(this,this.zK,n).hAt();case 6:this.wAt.Ipt=RF.$_t(),this.F_t(fF.EVICTED),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),this.F_t(fF.ERROR);case 14:case"end":return t.stop()}},t,this,[[0,10]])}));return function(){return t.apply(this,arguments)}}(),T(n,[{key:"xd",get:function(){return this.Od||(this.Od=SX(this)),this.Od}},{key:"Al",get:function(){return this.Lg}},{key:"XC",get:function(){return this.AAt}},{key:"kf",get:function(){return this.B_t}},{key:"HR",get:function(){return this.Yvt}},{key:"JA",get:function(){return this.pAt}},{key:"y_",get:function(){return this.wAt.Ipt.FI}},{key:"uAt",get:function(){return this.wAt.Ipt.J_t}},{key:"sAt",get:function(){return this.wAt.Ipt.Z_t}},{key:"oAt",get:function(){return this.wAt.Ipt.tgt}},{key:"aAt",get:function(){return this.wAt.Gpt}},{key:"cAt",get:function(){return this.wAt.Ipt.K_t}}]),n}(Ud);var CX=function(){function t(t,n){this.zK=t,this.TAt=n}var n=t.prototype;return n.W_t=function(t,n,i){var r=Lb();return this.V_t(r,t,n,i)},n.V_t=function(t,n,i,r){return new DX(t,n,i,this.zK,this.TAt,r)},t}(),OX=30,xX=5;function PX(t){if(!t)throw new d("Unexpected - The cache parameters are undefined");var n=function(t){if(X(t)&&!jn(t,"%"))return w(t);return t}(t.amount);!function(t){if(i=t,X(i)&&jn(i,"%")){var n=y(t);if(m(n)||n<0||n>100)throw new d("The amount as percentage must be between 0 and 100 percent.")}var i;if(!X(t)&&m(t))throw new d("The amount must be a number or a string")}(n);var i=function(t){if(!t)return(n=new Date).setMinutes(n.getMinutes()+OX),n;var n;return t}(t.expirationDate);!function(t){if(t&&(n=t,n&&!(z(n)&&n>new Date)))throw new d("Invalid expiration date for the cache parameters");var n}(i);var r=function(t){if(void 0===t)return 1/0;return t}(t.bandwidth);return function(t){if(m(t)||t<0)throw new d("The bandwidth must be between zero and infinity.")}(r),{amount:n,expirationDate:i,bandwidth:r,parallelTasksThreshold:function(t){if(!t)return xX;if(m(t))throw new d("The amount must be a number");return t}(t.numberOfParallelTasks)}}var BX=function(t){function n(n,i){var r;return(r=t.call(this)||this).EAt=n,r.HB=i,r.EAt.ps("T_t",r.gs),r}return qt(n,t),n.prototype.SAt=function(t,n,i){var r,e;if(!t)throw new d("Unexpected - The source description is undefined");if(r=sb(t),e=PX(n),ZA(r))throw new d("Invalid source description");return this.EAt.V_t(r,e).xd},T(n,[{key:"xd",get:function(){var t,n,i;return this.Od||(this.Od=(i={get status(){return t.kf},get tasks(){return t.G_t},get network(){return t.JB.xd},createTask:function(n,i){return t.SAt(n,i)},addEventListener:function(t,i){n.ps(t,i)},removeEventListener:function(t,i){n.Es(t,i)}},n=new iE(t=this,i),i)),this.Od}},{key:"kf",get:function(){return this.EAt.kf}},{key:"G_t",get:function(){return this.EAt.G_t.xd}},{key:"JB",get:function(){return this.HB}}]),n}(Ud);(LX=new MT(r.Td,!1),MX=YC._n,UX=new EX(LX),FX=new CX(MX,UX),HX=new FT(LX),VX=new bF(MX.HK,FX,"persistent"),new BX(VX,HX)).xd;var LX,MX,UX,FX,HX,VX,XX=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).cF=0,u.RAt=Yp.WI(),u.IAt=0,u.NAt=0,u.Lg=n,u.B_t=fF.IDLE,u.Yvt=i,u.pAt=r,u.EAt=e,u}qt(n,t);var i=n.prototype;return i.uI=function(){this.EAt.startCachingTask(this)},i.Ao=function(){this.EAt.removeCachingTask(this)},T(n,[{key:"xd",get:function(){return this.Od||(this.Od=SX(this)),this.Od}},{key:"Al",get:function(){return this.Lg}},{key:"kf",get:function(){return this.B_t},set:function(t){this.B_t!==t&&(this.B_t=t,this.ys(new dF))}},{key:"HR",get:function(){return this.Yvt}},{key:"JA",get:function(){return this.pAt}},{key:"y_",get:function(){return this.cF},set:function(t){this.cF=t}},{key:"uAt",get:function(){return this.RAt},set:function(t){this.RAt=t}},{key:"sAt",get:function(){return this.IAt},set:function(t){this.IAt=t}},{key:"oAt",get:function(){return this.NAt},set:function(t){this.NAt=t,this.ys(new SF)}}]),n}(Fd),WX=30;function qX(t){var n,i;if(!t)throw new d("Unexpected - The cache parameters are undefined");if(t.expirationDate?n=t.expirationDate:(n=new Date).setMinutes(n.getMinutes()+WX),n&&((i=n)&&!(z(i)&&i>new Date)))throw new d("Invalid expiration date for the cache parameters");return{expirationDate:n}}var zX=function(t){function n(){var n;return(n=t.call(this)||this).B_t=wF.UNINITIALISED,n.pb=new AF,n.DAt=function(t){if(t.detail){var i=n.findTaskWithId(t.detail.id);i&&(i.kf=fF.EVICTED,i.oAt=0,i.sAt=0,i.y_=0,i.uAt=Yp.WI(),n.pb.Ao(i))}},n.CAt=function(t){if(t.detail){var i=n.findTaskWithId(t.detail.id);if(i){var r=t.detail.status;r&&(i.kf=r);var e=t.detail.percentage;e&&(i.oAt=e);var u=t.detail.duration;u&&(i.y_=u);var s=t.detail.seconds;s&&(i.sAt=s);var o=t.detail.cached;if(o){for(var a=[],c=0;c<o.length;c++){var h=o[c];a.push(h.start,h.end)}i.uAt=new Yp(a)}}}},n.OAt=function(t){if(t.detail){var i=sb(JSON.parse(t.detail.source));if(!n.xAt(i)){var r={},e=t.detail.expirationDate;e&&(r={expirationDate:new Date(e)});var u=t.detail.uuid;n.V_t(i,qX(r),u)}}},n.PAt=function(t){if(t.detail){var i={},r=t.detail.expirationDate;r&&(i={expirationDate:new Date(r)});var e=JSON.parse(t.detail.source),u=t.detail.uuid,s=n.V_t(sb(e),qX(i),u);s.kf=t.detail.status,s.oAt=t.detail.percentage,s.y_=t.detail.duration,s.sAt=t.detail.seconds;for(var o=t.detail.cached,a=[],c=0;c<o.length;c++){var h=o[c];a.push(h.start,h.end)}s.uAt=new Yp(a)}},n.BAt=function(t){t.detail&&n.F_t(t.detail.status)},n.Tlt=new aF,n.Wlt=new VU,BU().cache={sdkEventBus:n.Wlt},n.KJ(),n}qt(n,t);var i=n.prototype;return i.F_t=function(t){this.B_t!==t&&(this.B_t=t,this.ys(new dF))},i.V_t=function(t,n,i){void 0===i&&(i=void 0);var r=new XX(i||Lb(),t,n,this);return this.pb.Cg(r),i||this.Tlt.KG("THEOplayerCacheCreateCachingTask",{source:t,parameters:n,id:r.Al}),r},i.findTaskWithId=function(t){for(var n=0,i=this.pb.C_t;n<i.length;n++){var r=i[n];if(r.Al===t)return r}},i.xAt=function(t){for(var n=jX(t.sources),i=0,r=this.pb.C_t;i<r.length;i++){if(jX(r[i].HR.sources).src===n.src)return!0}return!1},i.KJ=function(){this.Wlt.addEventListener("deleteTask",this.DAt),this.Wlt.addEventListener("updateValues",this.CAt),this.Wlt.addEventListener("newTask",this.OAt),this.Wlt.addEventListener("restoreTask",this.PAt),this.Wlt.addEventListener("setCacheStatus",this.BAt)},i.startCachingTask=function(t){this.Tlt.KG("THEOplayerCacheStartCachingTask",{id:t.Al})},i.removeCachingTask=function(t){this.Tlt.KG("THEOplayerCacheRemoveCachingTask",{id:t.Al})},T(n,[{key:"kf",get:function(){return this.B_t}},{key:"G_t",get:function(){return this.pb}}]),n}(Fi),GX=function(t){function n(n){var i;return(i=t.call(this,n)||this).LAt=n,i.LAt.ps("T_t",i.gs),i}return qt(n,t),n.prototype.SAt=function(t,n){var i,r;if(!t)throw new d("Unexpected - The source description is undefined");if(i=sb(t),r=qX(n),ZA(i))throw new d("Invalid source description");if(!jX(i.sources))throw new d("The provided sources can't be cached");return this.LAt.V_t(i,r).xd},n}(BX);function jX(t){for(var n=0;n<t.length;n++){var i=t[n];if(tl(i.type))return i}}var QX,YX,ZX=function(){var t=new zX;return new GX(t)}().xd;!function(t){t.MAt="any",t.UAt="natural",t.FAt="landscape",t.HAt="portrait",t.VAt="portrait-primary",t.XAt="portrait-secondary",t.WAt="landscape-primary",t.qAt="landscape-secondary"}(QX||(QX={})),function(t){t.VAt="portrait-primary",t.XAt="portrait-secondary",t.WAt="landscape-primary",t.qAt="landscape-secondary"}(YX||(YX={}));var JX,$X,KX=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Tlt=new aF,n.zAt=QX.UAt,n.GAt=YX.VAt,n.jAt=YX.VAt,n.QAt=YX.VAt,n}qt(n,t);var i=n.prototype;return i.lock=function(t){var n=this;return new u.Promise(function(i,r){n.zAt=t,n.Tlt.KG("THEOplayerOrientationLock",t),n.YAt(),i()})},i.unlock=function(){var t=this;return new u.Promise(function(n,i){t.zAt=QX.UAt,t.Tlt.KG("THEOplayerOrientationUnlock"),t.type=t.jAt,t.YAt(),n()})},i.YAt=function(){var t=this.QAt,n=this.type;t!==n&&(this.QAt=n,this.ys(new Vi("change")))},i.addEventListener=function(t,n){this.ps(t,n)},i.removeEventListener=function(t,n){this.Es(t,n)},n.ZAt=function(t){switch(t){case QX.VAt:return[YX.VAt];case QX.XAt:return[YX.XAt];case QX.HAt:return[YX.VAt,YX.XAt];case QX.WAt:return[YX.WAt];case QX.qAt:return[YX.qAt];case QX.FAt:return[YX.WAt,YX.qAt];case QX.UAt:return[YX.VAt,YX.WAt,YX.qAt];case QX.MAt:return[YX.VAt,YX.XAt,YX.WAt,YX.qAt]}},n.JAt=function(t,i){return n.ZAt(i).indexOf(t)>=0},T(n,[{key:"type",get:function(){return this.GAt},set:function(t){this.jAt=t,n.JAt(t,this.zAt)?(this.GAt=t,this.YAt()):(t===YX.WAt&&this.zAt===QX.qAt&&(this.GAt=YX.qAt,this.YAt()),t===YX.qAt&&this.zAt===QX.WAt&&(this.GAt=YX.WAt,this.YAt()))}},{key:"angle",get:function(){switch(this.type){case YX.WAt:return-90;case YX.qAt:return 90;case YX.VAt:return 0;case YX.XAt:return 180;default:return 0}}}]),n}(Fd);KX._n=new KX,u.screen.orientation=KX._n,a&&-1===a.userAgent.indexOf("OS 9")&&_.defineProperty(u,"orientation",{get:function(){return u.screen.orientation.angle}}),u.screen.orientation.addEventListener("change",function(){u.dispatchEvent(new CustomEvent("orientationchange"))}),function(t){t.$At="unavailable",t.KAt="available",t.tbt="presenting"}(JX||(JX={})),xE(function(t){return function(t){function n(n,i){return t.call(this,n,i)||this}return qt(n,t),n.prototype.K_=function(n){t.prototype.K_.call(this,n);var i=this.xd;this.xd.vr&&n&&n.vr&&i.vr.addEventListener("statechange",function(){i.vr.state===JX.tbt?screen.orientation&&screen.orientation.lock&&screen.orientation.lock(QX.qAt).catch(function(t){console.error("screen.orientation.lock() failed due to",t.message)}):screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock()})},n}(t)},EE.tL),function(t){t.Id="addtrack",t.Dd="removetrack",t.Gd="change",t.$d="update"}($X||($X={}));var tW=function(t,n,i){this.mediaType=t,this.mediaTrack=n,this.mediaTrackList=i,this.type=$X.Gd},nW=function(t,n){this.mediaType=t,this.mediaTrack=n,this.type=$X.Id},iW=function(t,n){this.mediaType=t,this.mediaTrack=n,this.type=$X.Dd},rW=function(t,n){this.mediaType=t,this.mediaTrack=n,this.type=$X.$d},eW=function(){function t(t,n,i){var r=this;this.nbt=function(t){var n=new tW(r.type,t.track,r.mediaTracks);r.messageDispatcher.ibt(n)},this.rbt=function(t){var n=new nW(r.type,t.track);r.messageDispatcher.ibt(n),t.track.addEventListener("update",r.ebt)},this.ubt=function(t){var n=new iW(r.type,t.track);r.messageDispatcher.ibt(n)},this.ebt=function(t){var n=new rW(r.type,t.track);r.messageDispatcher.ibt(n)},this.type=t,this.mediaTracks=n,this.messageDispatcher=i,this.KJ()}return t.prototype.KJ=function(){this.mediaTracks.addEventListener("change",this.nbt),this.mediaTracks.addEventListener("addtrack",this.rbt),this.mediaTracks.addEventListener("removetrack",this.ubt)},t}(),uW=function(){function t(){this.sbt=new aF}return t.prototype.ibt=function(t){this.sbt.KG(t.type,sU(t))},t}();LE(function(t){if(t.xd.audioTracks){var n=new uW;new eW("audio",t.xd.audioTracks,n)}if(t.xd.videoTracks){var i=new uW;new eW("video",t.xd.videoTracks,i)}});var sW,oW,aW=function(t){function n(){return t.apply(this,arguments)||this}return qt(n,t),n.prototype.dispatchEvent=function(t,n){switch(t){case sW.obt:var i={integrationId:n.integrationId,keySystem:n.keySystem};this.ys(new cW(i));break;default:0}},n}(VU),cW=function(t){function n(n){var i;return(i=t.call(this,sW.obt)||this).detail=n,i}return qt(n,t),n}(Vi);!function(t){t.obt="registerContentProtectionIntegration"}(sW||(sW={})),function(t){t.abt="certifiateRequest",t.cbt="certifiateResponse",t.hbt="licenseRequest",t.fbt="licenseResponse",t.vbt="extractFairplayContentId",t.dbt="buildContentProtection",t.lbt="registerContentProtectionCallback"}(oW||(oW={}));var hW,fW,vW=function(t,n){this.value=t,this.integrationId=n,this.type=oW.lbt};!function(t){t.VOD="vod",t.LIVE="live"}(hW||(hW={})),function(t){t.LIVE_OFFSET="liveoffset",t.TRACK_BYTES_DOWNLOADED="trackbytesdownloaded",t.ESTIMATED_TRACK_NETWORK_BANDWIDTH="estimatedtracknetworkbandwidth",t.ESTIMATED_TRACK_MEDIA_DATA_BANDWIDTH="estimatedtrackmediadatabandwidth",t.SEGMENT_RECEIVE_INTERVAL="segmentreceiveinterval"}(fW||(fW={}));var dW,lW=function(t,n){this.value=t,this.integrationId=n,this.type=oW.dbt},_W=function(t,n){this.value=t,this.integrationId=n,this.type=oW.abt},gW=function(t,n){this.value=t,this.integrationId=n,this.type=oW.cbt},wW=function(t,n){this.value=t,this.integrationId=n,this.type=oW.vbt},yW=function(t,n){this.value=t,this.integrationId=n,this.type=oW.hbt},mW=function(t,n){this.value=t,this.integrationId=n,this.type=oW.fbt},kW=function(){function t(t,n){this._bt=t,this.Bb=n}var i=t.prototype;return i.onCertificateRequest=function(){var t=vn.coroutine(fn.mark(function t(i){var r,e,u,s,o,a;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i),e=new _W(r,this.Bb),t.prev=2,t.next=5,this._bt.gbt(e);case 5:if(!(u=t.sent)){t.next=16;break}if(s=JSON.parse(u),!this.wbt(s)){t.next=13;break}return o=dn({},s),t.abrupt("return",o);case 13:if(!this.ybt(s)){t.next=16;break}return a=new k(s),t.abrupt("return",a);case 16:throw new Ql(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Could not parse callback in onCertificateRequest");case 19:throw t.prev=19,t.t0=t.catch(2),new Ql(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,t.t0);case 22:case"end":return t.stop()}},t,this,[[2,19]])}));return function(n){return t.apply(this,arguments)}}(),i.onCertificateResponse=function(){var t=vn.coroutine(fn.mark(function t(i){var r,e,u,s,o;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i.request),e={request:r,url:i.url,status:i.status,statusText:i.statusText,headers:i.headers,body:Array.from(i.body)},u=new gW(e,this.Bb),t.next=5,this._bt.gbt(u);case 5:if(!(s=t.sent)){t.next=11;break}return o=JSON.parse(s),t.abrupt("return",new k(o));case 11:throw new Ql(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"received undefined instead of string in onCertificateResponse");case 12:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.onLicenseRequest=function(){var t=vn.coroutine(fn.mark(function t(i){var r,e,u,s,o,a,c;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i),e={url:r.url,method:r.method,headers:r.headers,body:r.body?Array.from(r.body):null,useCredentials:r.useCredentials,fairplaySkdUrl:i.fairplaySkdUrl},u=new yW(e,this.Bb),t.prev=3,t.next=6,this._bt.gbt(u);case 6:if(!(s=t.sent)){t.next=17;break}if(o=JSON.parse(s),!this.wbt(o)){t.next=14;break}return a={url:o.url,method:o.method,headers:o.headers,body:o.body?new k(o.body):null,useCredentials:o.useCredentials,fairplaySkdUrl:o.fairplaySkdUrl},t.abrupt("return",a);case 14:if(!this.ybt(o)){t.next=17;break}return c=new k(o),t.abrupt("return",c);case 17:throw new Ql(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Could not parse callback in onLicenseRequest");case 20:throw t.prev=20,t.t0=t.catch(3),new Ql(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,t.t0);case 23:case"end":return t.stop()}},t,this,[[3,20]])}));return function(n){return t.apply(this,arguments)}}(),i.onLicenseResponse=function(){var t=vn.coroutine(fn.mark(function t(i){var r,e,u,s,o,a;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i.request),e=dn(dn({},r),{fairplaySkdUrl:i.request.fairplaySkdUrl}),u={request:e,url:i.url,status:i.status,statusText:i.statusText,headers:i.headers,body:Array.from(i.body)},s=new mW(u,this.Bb),t.next=6,this._bt.gbt(s);case 6:if(!(o=t.sent)){t.next=12;break}return a=JSON.parse(o),t.abrupt("return",new k(a));case 12:throw new Ql(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"received undefined instead of string in onLicenseResponse");case 13:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.extractFairplayContentId=function(){var t=vn.coroutine(fn.mark(function t(i){var r,e;return fn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=new wW(i,this.Bb),t.next=3,this._bt.gbt(r);case 3:if(!(e=t.sent)){t.next=6;break}return t.abrupt("return",e);case 6:return t.abrupt("return",vn.reject(new Ql(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"received undefined instead of string in extractFairplayContentId")));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.toCertificateRequestDTO=function(t){return{url:t.url,method:t.method,headers:t.headers,body:t.body?Array.from(t.body):null,useCredentials:t.useCredentials}},i.wbt=function(t){var n=t;return void 0!==n.url&&void 0!==n.method&&void 0!==n.headers},i.ybt=function(t){return!!new k(t)},t}(),pW=function(){function t(t){this._bt=t}return t.prototype.build=function(t){if(!t.integration)throw new d("integrationId is undefined");var n=new kW(this._bt,t.integration),i=new lW({drmConfiguration:t},t.integration);return this._bt.gbt(i),n},t}(),AW=function(){var t=this;this.mbt=function(n){var i=new pW(t.messageDispatcher),r=n.detail,e=r.integrationId,u=r.keySystem,s={state:By.Vb.Mb(e,u,i)};t.messageDispatcher.gbt(new vW(s,e))},this.Wlt=new aW,BU().contentProtectionIntegration={sdkEventBus:this.Wlt},this.Wlt.addEventListener(sW.obt,this.mbt)},bW="nativePromiseCallback",TW=function(t){function n(n){var i;return(i=t.call(this,bW)||this).detail=n,i}return qt(n,t),n}(Vi);!function(t){t.RESOLVE="NATIVE_PROMISE_RESOLVE",t.REJECT="NATIVE_PROMISE_REJECT"}(dW||(dW={}));var EW=function(t){function n(){return t.apply(this,arguments)||this}qt(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.ys(new TW(n))},i.addEventListener=function(t,n){this.ps(t,n)},i.removeEventListener=function(t,n){this.Es(t,n)},n}(VU),SW=function(){function t(){var t=this;this.promisesMap={},this.handleNativePromiseEvent=function(n){var i=t.promisesMap[n.detail.promiseId];if(!i)throw new d("Could not find a promise with id "+n.detail.promiseId);switch(n.detail.type){case dW.RESOLVE:i.eo(n.detail.data);break;case dW.REJECT:i.uo(n.detail.data)}delete t.promisesMap[n.detail.promiseId]};var n=new EW;BU().nativePromise={sdkEventBus:n},n.addEventListener(bW,this.handleNativePromiseEvent)}return t.prototype.gbt=function(n){var i;t.messageIdTracker+=1;var r=t.messageIdTracker.toString(),e=dn(dn({},n),{promiseId:r}),u=new se;return this.promisesMap[r]=u,null===(i=this.sbt)||void 0===i||i.KG(n.type,eU(e)),u.ro},t}();SW.messageIdTracker=-1;var RW,IW=function(t){function n(){var n;return(n=t.call(this)||this).sbt=new aF,n}return qt(n,t),n}(SW),NW=function(t){function n(){var n;return(n=t.call(this)||this)._bt=new IW,n}return qt(n,t),T(n,[{key:"messageDispatcher",get:function(){return this._bt}}]),n}(AW);LE(function(t){new NW}),function(t){t.kbt="airplaystatechange"}(RW||(RW={}));var DW=function(t){this.state=t,this.type=RW.kbt},CW=function(t){function n(n){var i;return(i=t.call(this)||this).pbt=function(t){var n=new DW(t.state);i.ibt(n)},i.Abt=n,i.KJ(n),i}return qt(n,t),n.prototype.KJ=function(t){t.addEventListener("statechange",this.pbt)},n}(uW);LE(function(t){var n;(null===(n=t.xd.cast)||void 0===n?void 0:n.airplay)&&new CW(t.xd.cast.airplay)}),n.ChromelessPlayer=eS,n.Player=eS,n.cache=ZX,n.createGlobals=UU,n.features=["hls","airplay"],n.getCueMirrorMap=LU,n.getGlobalId=MU,n.getSdkEventBridge=BU,n.playerSuiteVersion="2021.2.1",n.players=oS,n.registerContentProtectionIntegration=aS,n.utils=sS,n.version="2.85.3",_.defineProperty(n,"__esModule",{value:!0})})}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:this);
