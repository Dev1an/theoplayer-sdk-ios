/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com

 This product makes use of Open Source Software: long.js
 (Apache 2.0), promise-polyfill (MIT - Copyright (c) 2014
 Taylor Hakes & Forbes Lindesay), shaka-player (Apache 2.0 -
 Copyright 2016 Google LLC)
 The code of these projects has been heavily modified during
 integration.
 More information on the licenses can be found here: Apache 2.0
(http://www.apache.org/licenses/LICENSE-2.0), MIT
(https://opensource.org/licenses/MIT)


 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 2022.2.1 (3.4.0)
 Created: 2022-05-05T14:54:53.627Z
 */
!function(t){!function(n,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i((n="undefined"!=typeof globalThis?globalThis:n||t).THEOplayer={})}(this,function(n){"use strict";var i=t.window,e=t.document,r=t.location,u=t.navigator,s=t.setTimeout,o=t.clearTimeout,c=t.setInterval,a=t.clearInterval,f=t.Error,h=t.TypeError,v=(t.SyntaxError,t.Object),d=t.Math,l=t.parseInt,w=t.parseFloat,g=t.isNaN,y=t.Uint8Array,m=(t.Worker,t.WorkerGlobalScope,t.XMLHttpRequest);var b=s;function p(t){return Boolean(t&&void 0!==t.length)}function _(){}function k(t){if(!(this instanceof k))throw new h("Promises must be constructed via new");if("function"!=typeof t)throw new h("not a function");this.o=0,this.l=!1,this.g=void 0,this.p=[],D(t,this)}function T(t,n){for(;3===t.o;)t=t.g;0!==t.o?(t.l=!0,k.I(function(){var i=1===t.o?n.onFulfilled:n.onRejected;if(null!==i){var e;try{e=i(t.g)}catch(t){return void E(n.promise,t)}S(n.promise,e)}else(1===t.o?S:E)(n.promise,t.g)})):t.p.push(n)}function S(t,n){try{if(n===t)throw new h("A promise cannot be resolved with itself.");if(n&&("object"==typeof n||"function"==typeof n)){var i=n.then;if(n instanceof k)return t.o=3,t.g=n,void I(t);if("function"==typeof i)return void D((e=i,r=n,function(){e.apply(r,arguments)}),t)}t.o=1,t.g=n,I(t)}catch(n){E(t,n)}var e,r}function E(t,n){t.o=2,t.g=n,I(t)}function I(t){2===t.o&&0===t.p.length&&k.I(function(){t.l||k.R(t.g)});for(var n=0,i=t.p.length;n<i;n++)T(t,t.p[n]);t.p=null}function R(t,n,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof n?n:null,this.promise=i}function D(t,n){var i=!1;try{t(function(t){i||(i=!0,S(n,t))},function(t){i||(i=!0,E(n,t))})}catch(t){if(i)return;i=!0,E(n,t)}}k.prototype.catch=function(t){return this.then(null,t)},k.prototype.then=function(t,n){var i=new this.constructor(_);return T(this,new R(t,n,i)),i},k.prototype.finally=function(t){var n=this.constructor;return this.then(function(i){return n.resolve(t()).then(function(){return i})},function(i){return n.resolve(t()).then(function(){return n.reject(i)})})},k.all=function(t){return new k(function(n,i){if(!p(t))return i(new h("Promise.all accepts an array"));var e=Array.prototype.slice.call(t);if(0===e.length)return n([]);var r=e.length;function u(t,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var o=s.then;if("function"==typeof o)return void o.call(s,function(n){u(t,n)},i)}e[t]=s,0==--r&&n(e)}catch(t){i(t)}}for(var s=0;s<e.length;s++)u(s,e[s])})},k.allSettled=function(t){return new this(function(n,i){if(!t||void 0===t.length)return i(new h(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var e=Array.prototype.slice.call(t);if(0===e.length)return n([]);var r=e.length;function u(t,i){if(i&&("object"==typeof i||"function"==typeof i)){var s=i.then;if("function"==typeof s)return void s.call(i,function(n){u(t,n)},function(i){e[t]={status:"rejected",reason:i},0==--r&&n(e)})}e[t]={status:"fulfilled",value:i},0==--r&&n(e)}for(var s=0;s<e.length;s++)u(s,e[s])})},k.resolve=function(t){return t&&"object"==typeof t&&t.constructor===k?t:new k(function(n){n(t)})},k.reject=function(t){return new k(function(n,i){i(t)})},k.race=function(t){return new k(function(n,i){if(!p(t))return i(new h("Promise.race accepts an array"));for(var e=0,r=t.length;e<r;e++)k.resolve(t[e]).then(n,i)})},k.I="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){b(t,0)},k.R=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var N=function(){var n=t.Promise;if(void 0!==n)try{if(-1!==n.toString().indexOf("[native code]"))return n}catch(t){}}(),C=u?u.userAgent:"",A=C.match(/Firefox\/([0-9]+)/i),O=null!=A,P=A?Number(A[1]):0,x=C.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),L=null!=x,B=x?Number(x[3]):0,F=function(){function t(t){this.N=0,this.C=0,this.P=[],this.B=t}return t.prototype.F=function(t){var n=this.length();this.M(n+1);var i=this.C+n&this.B-1;this.P[i]=t,this.N=n+1},t.prototype.push=function(t){var n=this.length()+1;if(this.B<n)this.F(t);else{var i=this.C+n-1,e=this.B-1;this.P[i&e]=t,this.N=n}},t.prototype.shift=function(){var t=this.C,n=this.P[t];return this.P[t]=void 0,this.C=t+1&this.B-1,this.N--,n},t.prototype.length=function(){return this.N},t.prototype.M=function(t){this.B<t&&this.U(this.B<<1)},t.prototype.U=function(t){var n=this.B;this.B=t;var i=this.C+this.N&n-1;!function(t,n,i,e){for(var r=0;r<e;++r)t[r+i]=t[r+n],t[r+n]=void 0}(this.P,0,n,i)},t}();var M="unhandledrejection",U=t.PromiseRejectionEvent,V=t.CustomEvent;function q(t){return new U(M,{reason:t,promise:N.reject(t).catch(function(){}),cancelable:!0})}function z(t){var n=new V(M,{detail:{reason:t},cancelable:!0});return v.defineProperty(n,"reason",{value:t}),n}function H(t){var n=e.createEvent("CustomEvent");return n.initCustomEvent(M,!1,!0,{reason:t}),n}var W,j,$,X,G,Y,K,J,Q,Z,tt,nt,it=function(t){return(it=function(){try{var t=N.resolve(),n=new U(M,{reason:"error",promise:t});return M===n.type&&"error"===n.reason}catch(t){}return!1}()?q:function(){try{var t=new V(M,{detail:{reason:"error"}});return M===t.type&&"error"===t.detail.reason}catch(t){}return!1}()?z:H)(t)};if(N&&!(O&&P<60||L&&B<15))j=N,function(){};else{j=k;var et=null!==(W=function(){var n=t.queueMicrotask;if("function"==typeof n)return function(t){return n(t)};var i=N;if(i&&"function"==typeof i.resolve){var e=i.resolve();return function(t){return e.then(t)}}}())&&void 0!==W?W:k.I,rt=($=et,X=new F(16),G=!1,{V:function(t){X.push(t),G||(G=!0,$(Y))},H:Y=function(){for(;X.length()>0;)X.shift()();G=!1}});rt.H,k.I=rt.V,k.R=function(n){try{var i=it(n);if(!t.dispatchEvent(i)||i.defaultPrevented)return}catch(t){}s(function(){throw new f("Unhandled promise rejection: ".concat(n))},0)}}var ut,st,ot,ct={W:function(){function t(){this.j=[]}var n=t.prototype;return n.X=function(){},n.G=function(t){return{Y:function(){return j.resolve()},K:function(){}}},n.J=function(t){throw new f("Not implemented")},n.Z=function(t){return j.resolve()},n.nt=function(t){return j.resolve()},n.it=function(t){},n.et=function(){},t}(),rt:function(){function t(){}var n=t.prototype;return n.ut=function(){return j.resolve("all")},n.st=function(){},n.et=function(){},t}(),ot:{ct:function(t){getActiveDocument().addEventListener("unload",t)},at:function(t){getActiveDocument().removeEventListener("unload",t)}},ft:{location:{href:"https://theoplayer.doubleclick.net"},get document(){return getActiveDocument()},top:void 0,parent:void 0,self:t,navigator:{userAgent:""},ResizeObserver:function(t){this.observe=function(t){},this.unobserve=function(t){},this.disconnect=function(){}}}};function at(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),v.defineProperty(t,e.key,e)}}function ft(t,n,i){return n&&at(t.prototype,n),i&&at(t,i),v.defineProperty(t,"prototype",{writable:!1}),t}function ht(t,n){return(ht=v.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function vt(t,n){t.prototype=v.create(n.prototype),t.prototype.constructor=t,ht(t,n)}function dt(t){st=t}Element.prototype.style={},K=(ut=ct).W,J=ut.rt,Q=ut.ot,Z=ut.ft,tt=Z&&Z.location,nt=Z&&Z.navigator,function(t){t.ht="web",t.vt="android",t.dt="android-tv",t.wt="ios",t.yt="tvos",t.bt="chromecast"}(ot||(ot={}));var lt=u?u.userAgent:"",wt=lt.match(/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),gt=lt.match(/Edg\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),yt=lt.match(/Android ([0-9\.]+)/i),mt=lt.match(/Windows NT ([0-9\.]+)/i),bt=lt.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),pt=lt.match(/Firefox\/([0-9\.]+)/i),_t=lt.match(/OPR\/(\d+\.\d+)/i),kt=lt.match(/Tizen ([0-9\.]+)/i),Tt=function(){function n(){this.pt=Boolean("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch||u&&u.msMaxTouchPoints),this._t=/(mac\sos\sx)\s?([\w\s\.]+\w)*/i.test(lt)||/(macintosh|mac(?=_powerpc)\s)/i.test(lt),this.kt=/Windows NT/i.test(lt),this.Tt=mt?w(mt[1]):0,this.St=/Android/i.test(lt),this.Et=yt?w(yt[1]):0,this.It=/windows phone (8|8\.1)/i.test(lt),this.Rt=/iPhone/i.test(lt),this.Dt=/iPad/i.test(lt),this.Nt=this._t&&this.pt&&!this.Dt,this.Ct=/iPod/i.test(lt),this.At=/Mobile Safari/i.test(lt),this.Ot=/EOSSTB/i.test(lt),this.Pt=(this.Rt||this.Dt||this.Nt||this.Ct)&&!this.It,this.xt=this.It||this.Pt||this.St||this.At,this.Lt=/CriOS/i.test(lt),this.Bt=Boolean(t.chrome&&/google/i.test(u.vendor))||this.Lt,this.Ft=this.Bt&&/Edg\//i.test(u.userAgent),this.Mt=gt?l(gt[1],10):0,this.Ut=Boolean(t.chrome||/Chrome/i.test(lt)||/CriOS/i.test(lt)),this.Vt=wt?l(wt[1],10):0,this.qt=/SMART-TV.*Tizen/i.test(lt),this.zt=kt?w(kt[1]):0,this.Ht=/webos|web0s/i.test(lt),this.Wt=/Edge\/\d+/i.test(lt),this.jt=/Trident/i.test(lt),this.$t=this.jt&&!t.ActiveXObject&&"ActiveXObject"in t,this.Xt=/Vivaldi/i.test(lt),this.Gt=/Firefox/i.test(lt)&&!/Seamonkey/i.test(lt),this.Yt=pt?w(pt[1]):0,this.Kt=/Safari/i.test(lt)&&!/Chrome/i.test(lt)&&!this.It&&!this.qt,this.Jt=bt?w(bt[2]):0,this.Qt=Boolean(_t),this.Zt=_t?w(_t[1]):0,this.tn=/CrKey/.test(lt),this.nn=/\b(tv|smart-tv|smarttv|appletv|crkey|googletv|hbbtv|pov_tv|roku|viera|nettv|philipstv)\b/i.test(lt),this.in="tvos"===ot.dt,this.en="tvos"===ot.vt,this.rn=this.en||this.in,this.un="tvos"===ot.wt,this.sn="tvos"===ot.yt,this.cn="tvos"===ot.bt}return ft(n,[{key:"an",get:function(){return this.pt}},{key:"fn",get:function(){return this._t}},{key:"hn",get:function(){return this.kt}},{key:"vn",get:function(){return this.Tt}},{key:"dn",get:function(){return this.St}},{key:"ln",get:function(){return this.Et}},{key:"wn",get:function(){return this.It}},{key:"gn",get:function(){return this.Rt}},{key:"yn",get:function(){return this.Dt}},{key:"mn",get:function(){return this.Nt}},{key:"bn",get:function(){return this.Ct}},{key:"pn",get:function(){return this.Pt}},{key:"_n",get:function(){return this.Ot}},{key:"kn",get:function(){return this.At}},{key:"Tn",get:function(){return this.xt}},{key:"Sn",get:function(){return this.Lt}},{key:"En",get:function(){return this.Bt}},{key:"In",get:function(){return this.Vt}},{key:"Rn",get:function(){return this.Ft}},{key:"Dn",get:function(){return this.Mt}},{key:"Nn",get:function(){return this.qt}},{key:"Cn",get:function(){return this.zt}},{key:"An",get:function(){return this.Ht}},{key:"On",get:function(){return this.Wt}},{key:"Pn",get:function(){return this.jt}},{key:"xn",get:function(){return this.$t}},{key:"Ln",get:function(){return this.Xt}},{key:"Bn",get:function(){return this.Gt}},{key:"Fn",get:function(){return this.Yt}},{key:"Mn",get:function(){return this.Kt}},{key:"Un",get:function(){return this.Jt}},{key:"Vn",get:function(){return this.Qt}},{key:"qn",get:function(){return this.Zt}},{key:"zn",get:function(){return this.tn}},{key:"Hn",get:function(){return this.nn}},{key:"Wn",get:function(){if(!(this.An||this.Nn))return!1;var t=this.In;return void 0===t||Number(t)<56}},{key:"jn",get:function(){return this.in}},{key:"$n",get:function(){return this.en}},{key:"Xn",get:function(){return this.rn}},{key:"Gn",get:function(){return this.un}},{key:"Yn",get:function(){return this.sn}},{key:"Kn",get:function(){return this.cn}},{key:"Jn",get:function(){return this.Ut}}]),n}();Tt.Qn=new Tt;var St=Tt.Qn,Et={}.hasOwnProperty,It={}.toString;function Rt(t){return null!=t}var Dt=Array.isArray||function(t){return"[object Array]"===It.call(t)};function Nt(t){return Ct(t)&&Et.call(t,"length")&&Lt(t.length)}function Ct(t){return"object"==typeof t&&null!==t}function At(t){return Ct(t)&&t.constructor&&t.constructor===v}function Ot(t){return"string"==typeof t}function Pt(t){return"boolean"==typeof t}function xt(t){return Boolean(t)&&"function"==typeof t.then}function Lt(t){return"number"==typeof t}var Bt=function(){},Ft=function(t){return t},Mt=!(St.Pn&&!St.xn),Ut=t.console;function Vt(t){if(Ct(t))try{return JSON.stringify(t)}catch(t){}return t}function qt(t){return t.map(Vt).join(" ")}function zt(t){var n=Ut&&Ut[t];return n?n.bind&&Mt?n.bind(Ut):function(){for(var n=arguments.length,i=new Array(n),e=0;e<n;e++)i[e]=arguments[e];Ut[t](qt(i))}:void 0}var Ht,Wt=zt("log")||Bt,jt=zt("warn")||Wt.bind(void 0,"WARNING:"),$t=zt("error")||Wt.bind(void 0,"ERROR:"),Xt=(Ht=Ut&&Ut.assert)?Ht.bind&&Mt?Ht.bind(Ut):function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];Ut.assert(t,qt(i))}:function(t){if(!t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];$t.apply(void 0,["Assertion failed:"].concat(i))}};function Gt(t,n,i){return t(i={path:n,exports:{},require:function(t,n){return function(){throw new f("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==n&&i.path)}},i.exports),i.exports}var Yt=Gt(function(t,n){var i=function(t){v.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=null;try{n=new WebAssembly.Instance(new WebAssembly.Module(new y([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function i(t,n,i){this.low=0|t,this.high=0|n,this.unsigned=!!i}function e(t){return!0===(t&&t.Zn)}function r(t){var n=d.clz32(t&-t);return t?31-n:n}i.prototype.Zn,v.defineProperty(i.prototype,"Zn",{value:!0}),i.isLong=e;var u={},s={};function o(t,n){var i,e,r;return n?(r=0<=(t>>>=0)&&t<256)&&(e=s[t])?e:(i=a(t,0,!0),r&&(s[t]=i),i):(r=-128<=(t|=0)&&t<128)&&(e=u[t])?e:(i=a(t,t<0?-1:0,!1),r&&(u[t]=i),i)}function c(t,n){if(g(t))return n?S:T;if(n){if(t<0)return S;if(t>=p)return N}else{if(t<=-_)return C;if(t+1>=_)return D}return t<0?c(-t,n).neg():a(t%b|0,t/b|0,n)}function a(t,n,e){return new i(t,n,e)}i.fromInt=o,i.fromNumber=c,i.fromBits=a;var h=d.pow;function w(t,n,i){if(0===t.length)throw f("empty string");if("number"==typeof n?(i=n,n=!1):n=!!n,"NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return n?S:T;if((i=i||10)<2||36<i)throw RangeError("radix");var e;if((e=t.indexOf("-"))>0)throw f("interior hyphen");if(0===e)return w(t.substring(1),n,i).neg();for(var r=c(h(i,8)),u=T,s=0;s<t.length;s+=8){var o=d.min(8,t.length-s),a=l(t.substring(s,s+o),i);if(o<8){var v=c(h(i,o));u=u.mul(v).add(c(a))}else u=(u=u.mul(r)).add(c(a))}return u.unsigned=n,u}function m(t,n){return"number"==typeof t?c(t,n):"string"==typeof t?w(t,n):a(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}i.fromString=w,i.fromValue=m;var b=4294967296,p=b*b,_=p/2,k=o(1<<24),T=o(0);i.ZERO=T;var S=o(0,!0);i.UZERO=S;var E=o(1);i.ONE=E;var I=o(1,!0);i.UONE=I;var R=o(-1);i.NEG_ONE=R;var D=a(-1,2147483647,!1);i.MAX_VALUE=D;var N=a(-1,-1,!0);i.MAX_UNSIGNED_VALUE=N;var C=a(0,-2147483648,!1);i.MIN_VALUE=C;var A=i.prototype;A.toInt=function(){return this.unsigned?this.low>>>0:this.low},A.toNumber=function(){return this.unsigned?(this.high>>>0)*b+(this.low>>>0):this.high*b+(this.low>>>0)},A.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(C)){var n=c(t),i=this.div(n),e=i.mul(n).sub(this);return i.toString(t)+e.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var r=c(h(t,6),this.unsigned),u=this,s="";;){var o=u.div(r),a=(u.sub(o.mul(r)).toInt()>>>0).toString(t);if((u=o).isZero())return a+s;for(;a.length<6;)a="0"+a;s=""+a+s}},A.getHighBits=function(){return this.high},A.getHighBitsUnsigned=function(){return this.high>>>0},A.getLowBits=function(){return this.low},A.getLowBitsUnsigned=function(){return this.low>>>0},A.getNumBitsAbs=function(){if(this.isNegative())return this.eq(C)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,n=31;n>0&&0==(t&1<<n);n--);return 0!=this.high?n+33:n+1},A.isZero=function(){return 0===this.high&&0===this.low},A.eqz=A.isZero,A.isNegative=function(){return!this.unsigned&&this.high<0},A.isPositive=function(){return this.unsigned||this.high>=0},A.isOdd=function(){return 1==(1&this.low)},A.isEven=function(){return 0==(1&this.low)},A.equals=function(t){return e(t)||(t=m(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},A.eq=A.equals,A.notEquals=function(t){return!this.eq(t)},A.neq=A.notEquals,A.ne=A.notEquals,A.lessThan=function(t){return this.comp(t)<0},A.lt=A.lessThan,A.lessThanOrEqual=function(t){return this.comp(t)<=0},A.lte=A.lessThanOrEqual,A.le=A.lessThanOrEqual,A.greaterThan=function(t){return this.comp(t)>0},A.gt=A.greaterThan,A.greaterThanOrEqual=function(t){return this.comp(t)>=0},A.gte=A.greaterThanOrEqual,A.ge=A.greaterThanOrEqual,A.compare=function(t){if(e(t)||(t=m(t)),this.eq(t))return 0;var n=this.isNegative(),i=t.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},A.comp=A.compare,A.negate=function(){return!this.unsigned&&this.eq(C)?C:this.not().add(E)},A.neg=A.negate,A.add=function(t){e(t)||(t=m(t));var n=this.high>>>16,i=65535&this.high,r=this.low>>>16,u=65535&this.low,s=t.high>>>16,o=65535&t.high,c=t.low>>>16,f=0,h=0,v=0,d=0;return v+=(d+=u+(65535&t.low))>>>16,h+=(v+=r+c)>>>16,f+=(h+=i+o)>>>16,f+=n+s,a((v&=65535)<<16|(d&=65535),(f&=65535)<<16|(h&=65535),this.unsigned)},A.subtract=function(t){return e(t)||(t=m(t)),this.add(t.neg())},A.sub=A.subtract,A.multiply=function(t){if(this.isZero())return this;if(e(t)||(t=m(t)),n)return a(n.mul(this.low,this.high,t.low,t.high),n.get_high(),this.unsigned);if(t.isZero())return this.unsigned?S:T;if(this.eq(C))return t.isOdd()?C:T;if(t.eq(C))return this.isOdd()?C:T;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(k)&&t.lt(k))return c(this.toNumber()*t.toNumber(),this.unsigned);var i=this.high>>>16,r=65535&this.high,u=this.low>>>16,s=65535&this.low,o=t.high>>>16,f=65535&t.high,h=t.low>>>16,v=65535&t.low,d=0,l=0,w=0,g=0;return w+=(g+=s*v)>>>16,l+=(w+=u*v)>>>16,w&=65535,l+=(w+=s*h)>>>16,d+=(l+=r*v)>>>16,l&=65535,d+=(l+=u*h)>>>16,l&=65535,d+=(l+=s*f)>>>16,d+=i*v+r*h+u*f+s*o,a((w&=65535)<<16|(g&=65535),(d&=65535)<<16|(l&=65535),this.unsigned)},A.mul=A.multiply,A.divide=function(t){if(e(t)||(t=m(t)),t.isZero())throw f("division by zero");var i,r,u;if(n)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?a((this.unsigned?n.div_u:n.div_s)(this.low,this.high,t.low,t.high),n.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?S:T;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return S;if(t.gt(this.shru(1)))return I;u=S}else{if(this.eq(C))return t.eq(E)||t.eq(R)?C:t.eq(C)?E:(i=this.shr(1).div(t).shl(1)).eq(T)?t.isNegative()?E:R:(r=this.sub(t.mul(i)),u=i.add(r.div(t)));if(t.eq(C))return this.unsigned?S:T;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();u=T}for(r=this;r.gte(t);){i=d.max(1,d.floor(r.toNumber()/t.toNumber()));for(var s=d.ceil(d.log(i)/d.LN2),o=s<=48?1:h(2,s-48),v=c(i),l=v.mul(t);l.isNegative()||l.gt(r);)l=(v=c(i-=o,this.unsigned)).mul(t);v.isZero()&&(v=E),u=u.add(v),r=r.sub(l)}return u},A.div=A.divide,A.modulo=function(t){return e(t)||(t=m(t)),n?a((this.unsigned?n.rem_u:n.rem_s)(this.low,this.high,t.low,t.high),n.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},A.mod=A.modulo,A.rem=A.modulo,A.not=function(){return a(~this.low,~this.high,this.unsigned)},A.countLeadingZeros=function(){return this.high?d.clz32(this.high):d.clz32(this.low)+32},A.clz=A.countLeadingZeros,A.countTrailingZeros=function(){return this.low?r(this.low):r(this.high)+32},A.ctz=A.countTrailingZeros,A.and=function(t){return e(t)||(t=m(t)),a(this.low&t.low,this.high&t.high,this.unsigned)},A.or=function(t){return e(t)||(t=m(t)),a(this.low|t.low,this.high|t.high,this.unsigned)},A.xor=function(t){return e(t)||(t=m(t)),a(this.low^t.low,this.high^t.high,this.unsigned)},A.shiftLeft=function(t){return e(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?a(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):a(0,this.low<<t-32,this.unsigned)},A.shl=A.shiftLeft,A.shiftRight=function(t){return e(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?a(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):a(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},A.shr=A.shiftRight,A.shiftRightUnsigned=function(t){return e(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?a(this.low>>>t|this.high<<32-t,this.high>>>t,this.unsigned):a(32===t?this.high:this.high>>>t-32,0,this.unsigned)},A.shru=A.shiftRightUnsigned,A.shr_u=A.shiftRightUnsigned,A.rotateLeft=function(t){var n;return e(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?a(this.high,this.low,this.unsigned):t<32?(n=32-t,a(this.low<<t|this.high>>>n,this.high<<t|this.low>>>n,this.unsigned)):(n=32-(t-=32),a(this.high<<t|this.low>>>n,this.low<<t|this.high>>>n,this.unsigned))},A.rotl=A.rotateLeft,A.rotateRight=function(t){var n;return e(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?a(this.high,this.low,this.unsigned):t<32?(n=32-t,a(this.high<<n|this.low>>>t,this.low<<n|this.high>>>t,this.unsigned)):(n=32-(t-=32),a(this.low<<n|this.high>>>t,this.high<<n|this.low>>>t,this.unsigned))},A.rotr=A.rotateRight,A.toSigned=function(){return this.unsigned?a(this.low,this.high,!1):this},A.toUnsigned=function(){return this.unsigned?this:a(this.low,this.high,!0)},A.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},A.toBytesLE=function(){var t=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},A.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]},i.fromBytes=function(t,n,e){return e?i.fromBytesLE(t,n):i.fromBytesBE(t,n)},i.fromBytesLE=function(t,n){return new i(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},i.fromBytesBE=function(t,n){return new i(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};var O=i;return t.default=O,"default"in t?t.default:t}({});t.exports=i}),Kt=d.pow(2,-52);function Jt(t,n,i){return d.min(d.max(t,n),i)}function Qt(t,n,i){return t===n||d.abs(t-n)<=i}function Zt(t,n){for(var i=t,e=n;0!==e;){var r=i%e;i=e,e=r}return i<0?-i:i}function tn(){return Date.now()||(new Date).getTime()}function nn(t){return t/1e3}var en;Yt.fromNumber(9007199254740991);function rn(t){return t.ti===en.ni}function un(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}!function(t){t[t.ni=1]="ni",t[t.ii=2]="ii",t[t.ei=3]="ei",t[t.ri=4]="ri",t[t.ui=9]="ui"}(en||(en={}));var sn=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];f.apply(this,n)};(sn.prototype=v.create(f.prototype)).constructor=sn;var on=function(t){function n(n,i){var e;return(e=t.call(this)||this).cause=void 0,e.message=n||"Unknown error",e.cause=i,f.captureStackTrace&&f.captureStackTrace(un(e),e.constructor),e}return vt(n,t),ft(n,[{key:"name",get:function(){return"BaseError"}}]),n}(sn),cn=function(t){function n(n){return t.call(this,"Invalid XML",n)||this}return vt(n,t),n}(on),an=function(){function t(){}return t.prototype.si=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new cn(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new cn;return new gn(n)},t}(),fn=function(){function t(t){this.oi=void 0,this.oi=t}var n=t.prototype;return n.ci=function(t){return this.oi.isEqualNode(t.oi)},n.ai=function(n){return new t(this.oi.cloneNode(n))},ft(t,[{key:"ti",get:function(){return en.ii}},{key:"fi",get:function(){var t;return null!=(t=this.oi.localName)?t:bn(this.oi.nodeName)}},{key:"hi",get:function(){return this.oi.nodeName}},{key:"vi",get:function(){var t;return null!=(t=this.oi.namespaceURI)?t:void 0}},{key:"di",get:function(){var t;return null!=(t=this.oi.prefix)?t:void 0}},{key:"li",get:function(){return this.oi.nodeValue}}]),t}(),hn=function(){function t(t){this.wi=void 0,this.gi=void 0,this.wi=t}var n=t.prototype;return n.yi=function(t){return this.mi.filter(function(n){return yn(n)&&n.bi===t})},n.pi=function(t,n){return this.mi.filter(function(i){return yn(i)&&i.fi===n&&i.vi===t})},n._i=function(t){this.wi.appendChild(t.ki),this.gi&&this.gi.push(t)},n.ci=function(t){return this.wi.isEqualNode(t.ki)},ft(t,[{key:"mi",get:function(){return void 0===this.gi&&(this.gi=function(t){for(var n=[],i=0;i<t.length;i++){var e=mn(t.item(i));e&&n.push(e)}return n}(this.wi.childNodes)),this.gi}},{key:"Ti",get:function(){return this.mi.filter(yn)}},{key:"ki",get:function(){return this.wi}}]),t}(),vn=function(t){function n(n){return t.call(this,n)||this}vt(n,t);var i=n.prototype;return i.Si=function(t){if(this.wi.hasAttribute(t))return this.wi.getAttribute(t)},i.Ei=function(t,n){if(this.wi.hasAttributeNS(t,n))return this.wi.getAttributeNS(t,n)},i.Ii=function(t){this.wi.removeAttribute(t)},i.Ri=function(t,n){this.wi.removeAttributeNS(t,n)},i.Di=function(t,n){this.wi.setAttribute(t,n)},i.Ni=function(t,n,i){this.wi.setAttributeNS(t,n,i)},i.ai=function(t){return new n(this.wi.cloneNode(t))},ft(n,[{key:"ti",get:function(){return en.ni}},{key:"fi",get:function(){var t;return null!=(t=this.wi.localName)?t:bn(this.wi.nodeName)}},{key:"vi",get:function(){var t;return null!=(t=this.wi.namespaceURI)?t:void 0}},{key:"di",get:function(){var t;return null!=(t=this.wi.prefix)?t:void 0}},{key:"bi",get:function(){return this.wi.nodeName}},{key:"Ci",get:function(){return function(t){for(var n=[],i=0;i<t.length;i++)n.push(new fn(t.item(i)));return n}(this.wi.attributes)}},{key:"Ai",get:function(){return this.wi.textContent}}]),n}(hn),dn=function(){function t(t){this.wi=void 0,this.wi=t}return t.prototype.ci=function(t){return this.Oi===t.Oi},ft(t,[{key:"Oi",get:function(){return this.wi.nodeValue}},{key:"ki",get:function(){return this.wi}}]),t}(),ln=function(t){function n(n){return t.call(this,n)||this}return vt(n,t),n.prototype.ai=function(t){return new n(this.wi.cloneNode(t))},ft(n,[{key:"ti",get:function(){return en.ei}}]),n}(dn),wn=function(t){function n(n){return t.call(this,n)||this}return vt(n,t),n.prototype.ai=function(t){return new n(this.wi.cloneNode(t))},ft(n,[{key:"ti",get:function(){return en.ri}}]),n}(dn),gn=function(t){function n(n){return t.call(this,n)||this}return vt(n,t),n.prototype.ai=function(t){return new n(this.wi.cloneNode(t))},ft(n,[{key:"ti",get:function(){return en.ui}},{key:"Pi",get:function(){return new vn(this.wi.documentElement)}}]),n}(hn);function yn(t){return rn(t)}function mn(t){switch(t.nodeType){case en.ni:return new vn(t);case en.ei:return new ln(t);case en.ri:return new wn(t)}}function bn(t){var n=t.indexOf(":");return n<0?t:t.substr(n+1)}function pn(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),v.defineProperty(t,e.key,e)}}function _n(t,n){var i=function(t,n){var i=t.length;if(i<=1)return t;for(var e=new Array(i),r=1;r<i;r*=2){kn(t,n,r,e);var u=t;t=e,e=u}return t}(t,n);return i!==t&&kn(i,null,t.length,t),t}function kn(t,n,i,e){var r,u,s,o,c,a=t.length,f=0,h=2*i;for(r=0;r<a;r+=h)for(s=(u=r+i)+i,u>a&&(u=a),s>a&&(s=a),o=r,c=u;;)if(o<u&&c<s)n(t[o],t[c])<=0?e[f++]=t[o++]:e[f++]=t[c++];else if(o<u)e[f++]=t[o++];else{if(!(c<s))break;e[f++]=t[c++]}}var Tn=/[a-zA-Z]/,Sn=/[0-9]/,En=/[0-9a-fA-F]/,In=/^0x/i,Rn=/^[0-9]+$/,Dn=/^[0-9a-fA-F]+$/,Nn=/^[0-7]+$/,Cn=v.prototype.toString,An=Array.isArray||function(t){return"[object Array]"===Cn.call(t)},On="undefined"!=typeof Symbol&&"symbol"==typeof Symbol.iterator;function Pn(t){return An(t)?t:Array.from(t)}function xn(t){return t>=65&&t<=90}function Ln(t){return xn(t)||function(t){return t>=97&&t<=122}(t)}function Bn(t){return t>=48&&t<=57}function Fn(t){return Bn(t)||Ln(t)}function Mn(t){return Bn(t)||t>=65&&t<=70||t>=97&&t<=102}function Un(t){return xn(t)?t+32:t}function Vn(t){return Bn(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function qn(t,n){return void 0===n&&(n=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(n?87:55):-1}var zn=d.min,Hn=String.fromCharCode,Wn=16384;function jn(t){for(var n=t.length,i=[],e=0;e<n;e+=Wn){var r=zn(e+Wn,n);i.push(Hn.apply(null,t.slice(e,r)))}return i.join("")}var $n=/[^\0-\x7E]/,Xn=/[\x2E\u3002\uFF0E\uFF61]/g,Gn={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Yn=d.floor,Kn=String.fromCharCode;function Jn(t){throw new RangeError(Gn[t])}function Qn(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&r)<<10)+(1023&u)+65536):(n.push(r),i--)}else n.push(r)}return n}var Zn,ti,ni,ii=function(t,n){return t+22+75*(t<26)-((0!=n)<<5)},ei=function(t,n,i){var e=0;for(t=i?Yn(t/700):t>>1,t+=Yn(t/n);t>455;e+=36)t=Yn(t/35);return Yn(e+36*t/(t+38))},ri=function(t){return function(t,n){var i=t.split("@"),e="";i.length>1&&(e=i[0]+"@",t=i[1]);var r=function(t,n){for(var i=[],e=t.length;e--;)i[e]=n(t[e]);return i}((t=t.replace(Xn,".")).split("."),n).join(".");return e+r}(t,function(t){return $n.test(t)?"xn--"+function(t){for(var n=[],i=(t=Qn(t)).length,e=128,r=0,u=72,s=0,o=t;s<o.length;s++){var c=o[s];c<128&&n.push(Kn(c))}var a=n.length,f=a;for(a&&n.push("-");f<i;){for(var h=2147483647,v=0,d=t;v<d.length;v++){var l=d[v];l>=e&&l<h&&(h=l)}var w=f+1;h-e>Yn((2147483647-r)/w)&&Jn("overflow"),r+=(h-e)*w,e=h;for(var g=0,y=t;g<y.length;g++){var m=y[g];if(m<e&&++r>2147483647&&Jn("overflow"),m==e){for(var b=r,p=36;;p+=36){var _=p<=u?1:p>=u+26?26:p-u;if(b<_)break;var k=b-_,T=36-_;n.push(Kn(ii(_+k%T,0))),b=Yn(k/T)}n.push(Kn(ii(b,0))),u=ei(r,w,f==a),r=0,++f}}++r,++e}return n.join("")}(t):t})};function ui(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return jn(n)}function si(t){if(t>=55296&&t<=57343)throw new f("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function oi(t,n){return t>>n&63|128}function ci(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(si(t),n.push(t>>12&15|224),n.push(oi(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(oi(t,12)),n.push(oi(t,6))),n.push(63&t|128)):n.push(t)}function ai(t){for(var n=[],i=0;i<t.length;i++){ci(t[i],n)}return n}function fi(){if(ni>=ti)throw new f("Invalid byte index");var t=255&Zn[ni];if(ni++,128==(192&t))return 63&t;throw new f("Invalid continuation byte")}function hi(){var t,n;if(ni>ti)throw new f("Invalid byte index");if(ni===ti)return!1;if(t=255&Zn[ni],ni++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|fi())>=128)return n;throw new f("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|fi()<<6|fi())>=2048)return si(n),n;throw new f("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|fi()<<12|fi()<<6|fi())>=65536&&n<=1114111)return n;throw new f("Invalid UTF-8 detected")}function vi(t){return[37,qn(t>>4),qn(15&t)]}function di(t){return function(t){return t>=0&&t<=31}(t)||t>126}function li(t){return di(t)||32===t||34===t||60===t||62===t||96===t}function wi(t){return li(t)||35===t||63===t||123===t||125===t}function gi(t){return wi(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function yi(t){return t<33||t>126||34===t||35===t||60===t||62===t}function mi(t){return yi(t)||39===t}function bi(t,n){if(!n(t))return[t];for(var i=ai([t]),e=[],r=0;r<i.length;r++){var u=i[r];e.push.apply(e,vi(u))}return e}function pi(t,n){for(var i=[],e=0,r=Qn(t);e<r.length;e++){var u=r[e];i.push.apply(i,bi(u,n))}return ui(i)}function _i(t){return function(t){for(var n=[],i=t.length,e=0;e<i;e++){var r=t[e];if(37===r&&e+2<i&&Mn(t[e+1])&&Mn(t[e+2])){var u=Vn(t[e+1])<<4|Vn(t[e+2]);n.push(u),e+=2}else n.push(r)}return n}(ai(t))}function ki(t){return ui(function(t){Zn=t.slice(),ti=Zn.length,ni=0;for(var n,i=[];!1!==(n=hi());)i.push(n);return i}(_i(Qn(t))))}function Ti(t){var n,i,e,r,u=t.length,s=[0,0,0,0,0,0,0,0],o=0,c=null,a=0;if(a<u&&":"===t[a]){if(!(a+1<u&&":"===t[a+1]))throw new h;a+=2,c=o+=1}for(;a<u;){if(8===o)throw new h("Too many groups");if(":"!==t[a]){for(var f=0,v=0;v<4&&a<u&&En.test(t[a]);)f=f<<4|l(t[a],16),a+=1,v+=1;if("."===t[a]){if(0===v)throw new h;if(a-=v,o>6)throw new h;for(var d=0;a<u;){var w=null;if(d>0){if(!("."===t[a]&&d<4))throw new h;a+=1}if(!Sn.test(t[a]))throw new h;for(;a<u&&Sn.test(t[a]);){var g=l(t[a],10);if(null===w)w=g;else{if(0===w)throw new h;if((w=10*w+g)>255)throw new h}a+=1}s[o]=s[o]<<8|w,2!==(d+=1)&&4!==d||(o+=1)}if(4!==d)throw new h;break}if(":"===t[a]){if((a+=1)===u)throw new h}else if(a<u)throw new h;s[o]=f,o+=1}else{if(null!==c)throw new h("Too many :: groups");a+=1,c=o+=1}}if(null!==c){var y=o-c;for(o=7;0!==o&&y>0;)e=c+y-1,r=void 0,r=(n=s)[i=o],n[i]=n[e],n[e]=r,o-=1,y-=1}else if(8!==o)throw new h;return s}function Si(t){var n=10,i=Rn;return In.test(t)?(t=t.slice(2),n=16,i=Dn):t.length>=2&&"0"===t[0]&&(t=t.slice(1),n=8,i=Nn),""===t?0:i.test(t)?l(t,n):void 0}var Ei={xi:4},Ii=/[\0\t\n\r #%/:?@\[\\\]]/,Ri=/[\0\t\n\r #/:?@\[\\\]]/;function Di(t,n){if("["===t[0]){if("]"!==t[t.length-1])throw new h("Invalid IPv6 address");return{xi:2,Li:Ti(t.slice(1,-1))}}if(!n)return function(t){if(Ri.test(t))throw new h("Invalid code point in opaque host");var n=pi(t,di);return""===n?Ei:{xi:3,P:n}}(t);var i=function(t){return function(t){return ri(t.toLowerCase())}(t)}(ki(t));if(Ii.test(i))throw new h("Invalid code point in host");var e=function(t){var n=t.split(".");if(""===n[n.length-1]&&n.pop(),!(n.length>4)){for(var i=[],e=0;e<n.length;e++){var r=n[e];if(""===r)return;var u=Si(r);if(void 0===u)return;i.push(u)}for(var s=0;s<i.length-1;s++)if(i[s]>255)throw new h;if(i[i.length-1]>=d.pow(256,5-i.length))throw new h;for(var o=i.pop(),c=0;c<i.length;c++)o+=i[c]*d.pow(256,3-c);return o}}(i);return void 0!==e?{xi:1,Li:e}:""===i?Ei:{xi:0,Bi:i}}function Ni(t){switch(t.xi){case 0:return t.Bi;case 1:return function(t){for(var n=[],i=t,e=1;e<=4;e++)n.push(""+(255&i)),4!==e&&n.push("."),i>>>=8;return n.reverse().join("")}(t.Li);case 2:return"["+function(t){for(var n="",i=function(t){for(var n=0,i=0,e=0,r=0,u=0;u<8;u++)0===t[u]?(0===r&&(e=u),r++):(r>i&&(n=e,i=r),r=0);return r>i&&(n=e,i=r),i>1?n:null}(t),e=!1,r=0;r<8;r++){if(e){if(0===t[r])continue;e=!1}i!==r?(n+=t[r].toString(16),7!==r&&(n+=":")):(n+=0===r?"::":":",e=!0)}return n}(t.Li)+"]";case 3:return t.P;case 4:return""}}var Ci=/\+/g;function Ai(t){for(var n=t.split("&"),i=[],e=0;e<n.length;e++){var r=n[e];if(""!==r){var u=r.indexOf("="),s=void 0,o=void 0;-1!==u?(s=r.slice(0,u),o=r.slice(u+1)):(s=r,o=""),s=s.replace(Ci," "),o=o.replace(Ci," ");var c=ki(s),a=ki(o);i.push([c,a])}}return i}function Oi(t){for(var n="",i=0;i<t.length;i++){var e=t[i];i>0&&(n+="&"),n+=Pi(ai(Qn(e[0])))+"="+Pi(ai(Qn(e[1])))}return n}function Pi(t){for(var n,i=[],e=0;e<t.length;e++){var r=t[e];32===r?i.push(43):42===(n=r)||45===n||46===n||95===n||Fn(n)?i.push(r):i.push.apply(i,vi(r))}return jn(i)}var xi=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function Li(t){var n=""+t,i=xi.exec(n);return i?function(t,n){for(var i=t.length,e=[],r=n;r<i;r++){var u=t.charCodeAt(r);if(Fi(u))if(Mi(u)||r===i-1)e.push(Bi);else{var s=t.charCodeAt(r+1);Mi(s)?(e.push(u,s),r++):e.push(Bi)}else e.push(u)}return t.slice(0,n)+jn(e)}(n,i.index):n}var Bi=65533,Fi=function(t){return 55296==(63488&t)},Mi=function(t){return 0!=(1024&t)};function Ui(t,n){var i=t[0],e=n[0];return i===e?0:i<e?-1:1}function Vi(t){t.Fi.length=0}function qi(t,n){!function(t,n){for(var i=0;i<n.length;i++)t[i]=n[i];t.length=n.length}(t.Fi,Ai(n))}function zi(t){if(t.Mi){var n=Oi(t.Fi);""===n&&(n=null),t.Mi.Mi.Ui=n}}var Hi=function(){function t(t){if(void 0===t&&(t=void 0),this.Mi=null,null==t)this.Fi=[];else if("object"==typeof t||"function"==typeof t)if((u=t)instanceof Hi&&An(u.Fi)&&(!On||u[Symbol.iterator]===Wi))this.Fi=t.Fi.slice();else if(function(t){return null!=t&&(!!An(t)||!!On&&"function"==typeof t[Symbol.iterator])}(t)){this.Fi=[];for(var n=0,i=Pn(t);n<i.length;n++){var e=Pn(i[n]);if(2!==e.length)throw new h("Invalid name-value pair");this.Fi.push([Li(e[0]),Li(e[1])])}}else for(var r in this.Fi=[],t)v.prototype.hasOwnProperty.call(t,r)&&this.Fi.push([Li(r),Li(t[r])]);else(t=Li(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this.Fi=Ai(t);var u}var n=t.prototype;return n.append=function(t,n){t=Li(t),n=Li(n),this.Fi.push([t,n]),zi(this)},n.delete=function(t){t=Li(t);for(var n=this.Fi,i=0;i<n.length;){n[i][0]===t?n.splice(i,1):i++}zi(this)},n.get=function(t){t=Li(t);for(var n=this.Fi,i=0;i<n.length;i++){var e=n[i];if(e[0]===t)return e[1]}return null},n.getAll=function(t){t=Li(t);for(var n=this.Fi,i=[],e=0;e<n.length;e++){var r=n[e];r[0]===t&&i.push(r[1])}return i},n.has=function(t){t=Li(t);for(var n=this.Fi,i=0;i<n.length;i++){if(n[i][0]===t)return!0}return!1},n.set=function(t,n){t=Li(t),n=Li(n);for(var i=this.Fi,e=!1,r=0;r<i.length;){var u=i[r];u[0]===t?e?i.splice(r,1):(u[1]=n,e=!0,r++):r++}e||i.push([t,n]),zi(this)},n.sort=function(){_n(this.Fi,Ui),zi(this)},n.toString=function(){return Oi(this.Fi)},n.entries=function(){return new Gi(this.Fi,ji)},n.keys=function(){return new Gi(this.Fi,$i)},n.values=function(){return new Gi(this.Fi,Xi)},n.forEach=function(t){var n=this;this.Fi.forEach(function(i){return t(i[1],i[0],n)})},t}(),Wi=Hi.prototype.entries;On&&(Hi.prototype[Symbol.iterator]=Wi);var ji=function(t){return[t[0],t[1]]},$i=function(t){return t[0]},Xi=function(t){return t[1]},Gi=function(){function t(t,n){this.Vi=0,this.Fi=t,this.qi=n}return t.prototype.next=function(){return this.Vi<this.Fi.length?{done:!1,value:this.qi(this.Fi[this.Vi++])}:{done:!0,value:void 0}},t}(),Yi="null";var Ki=v.create(null);Ki.ftp=21,Ki.file=0,Ki.gopher=70,Ki.http=80,Ki.https=443,Ki.ws=80,Ki.wss=443;var Ji=/^(?:\.|%2e)$/i,Qi=/^(?:\.|%2e){2}$/i;function Zi(t){return Ji.test(t)}function te(t){return Qi.test(t)}function ne(t){return void 0!==Ki[t]}function ie(t){return ne(t.zi)}function ee(t){return""!==t.Hi||""!==t.Wi}function re(t){var n=t.length;if(!(n>=2))return!1;if(!se(t.slice(0,2)))return!1;if(2!==n){var i=t[2];if(47!==i&&92!==i&&63!==i&&35!==i)return!1}return!0}function ue(t){return 2===t.length&&Tn.test(t[0])&&(":"===t[1]||"|"===t[1])}function se(t){return 2===t.length&&ue(jn(t))}function oe(t){return ue(t)&&":"===t[1]}function ce(t){var n=t.ji;0!==n.length&&("file"===t.zi&&1===n.length&&oe(n[0])||n.pop())}function ae(t){return null===t.$i||Ei===t.$i||t.Xi||"file"===t.zi}var fe=-1,he=/\t|\n|\r/g,ve=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function de(t,n,i,e){void 0===i&&(i=null),void 0===e&&(e=null),i||(i=new we,t=t.replace(ve,""));var r=null!==e?e:0;n=n||null;for(var u=[],s=!1,o=!1,c=!1,a=Qn(t=t.replace(he,"")),f=a.length,v=0;v<=f;){var d=v<f?a[v]:fe;switch(r){case 0:if(!Ln(d)){if(null===e){u.length=0,r=2;continue}throw new h("Invalid scheme")}u.push(Un(d)),r=1;break;case 1:if(Fn(d)||43===d||45===d||46===d)u.push(Un(d));else{if(58!==d){if(null===e){u.length=0,r=2,v=0;continue}throw new h("Invalid scheme")}var w=ui(u);if(null!==e){if(ne(i.zi)&&!ne(w))return;if(!ne(i.zi)&&ne(w))return;if((ee(i)||null!==i.Gi)&&"file"===w)return;if("file"===i.zi&&(i.$i===Ei||null===i.$i))return}if(i.zi=w,null!==e)return void(ie(i)&&i.Gi===Ki[i.zi]&&(i.Gi=null));u.length=0,"file"===i.zi?r=13:ie(i)&&n&&n.zi===i.zi?r=3:ie(i)?r=7:47===a[v+1]?(r=4,v+=1):(i.Xi=!0,i.ji.push(""),r=18)}break;case 2:if(!n||n.Xi&&35!==d)throw new h("Invalid scheme");n.Xi&&35===d?(i.zi=n.zi,i.ji=n.ji.slice(),i.Ui=n.Ui,i.Yi="",i.Xi=!0,r=20):"file"!==n.zi?(r=5,v-=1):(r=13,v-=1);break;case 3:47===d&&47===a[v+1]?r=8:(r=5,v-=1);break;case 4:47===d?r=9:(r=17,v-=1);break;case 5:i.zi=n.zi,fe===d?(i.Hi=n.Hi,i.Wi=n.Wi,i.$i=n.$i,i.Gi=n.Gi,i.ji=n.ji.slice(),i.Ui=n.Ui):47===d?r=6:63===d?(i.Hi=n.Hi,i.Wi=n.Wi,i.$i=n.$i,i.Gi=n.Gi,i.ji=n.ji.slice(),i.Ui="",r=19):35===d?(i.Hi=n.Hi,i.Wi=n.Wi,i.$i=n.$i,i.Gi=n.Gi,i.ji=n.ji.slice(),i.Ui=n.Ui,i.Yi="",r=20):92===d&&ie(i)?r=6:(i.Hi=n.Hi,i.Wi=n.Wi,i.$i=n.$i,i.Gi=n.Gi,i.ji=n.ji.slice(),i.ji.pop(),r=17,v-=1);break;case 6:!ie(i)||47!==d&&92!==d?47===d?r=9:(i.Hi=n.Hi,i.Wi=n.Wi,i.$i=n.$i,i.Gi=n.Gi,r=17,v-=1):r=8;break;case 7:if(47!==d||47!==a[v+1]){r=8;continue}r=8,v+=1;break;case 8:47!==d&&92!==d&&(r=9,v-=1);break;case 9:if(64===d){s&&u.unshift(37,52,48),s=!0;for(var g=0;g<u.length;g++){var y=u[g];if(58!==y||c){var m=ui(bi(y,gi));c?i.Wi+=m:i.Hi+=m}else c=!0}u.length=0}else if(fe===d||47===d||63===d||35===d||ie(i)&&92===d){if(s&&0===u.length)throw new h("Invalid host");v-=u.length+1,u.length=0,r=10}else u.push(d);break;case 10:case 11:if(null!==e&&"file"===i.zi)v-=1,r=15;else if(58!==d||o)if(fe===d||47===d||63===d||35===d||ie(i)&&92===d){if(v-=1,ie(i)&&0===u.length)throw new h("Invalid host");if(null!==e&&0===u.length&&(ee(i)||null!==i.Gi))return;var b=Di(ui(u),ie(i));if(i.$i=b,u.length=0,r=16,null!==e)return}else 91===d?o=!0:93===d&&(o=!1),u.push(d);else{if(0===u.length)throw new h("Invalid host");var p=Di(ui(u),ie(i));if(i.$i=p,u.length=0,r=12,11===e)return}break;case 12:if(Bn(d))u.push(d);else{if(!(fe===d||47===d||63===d||35===d||ie(i)&&92===d||null!==e))throw new h("Invalid port");if(0!==u.length){var _=l(ui(u),10);if(_>65535)throw new h("Invalid port");i.Gi=_===Ki[i.zi]?null:_,u.length=0}if(null!==e)return;r=16,v-=1}break;case 13:i.zi="file",47===d||92===d?r=14:n&&"file"===n.zi?fe===d?(i.$i=n.$i,i.ji=n.ji.slice(),i.Ui=n.Ui):63===d?(i.$i=n.$i,i.ji=n.ji.slice(),i.Ui="",r=19):35===d?(i.$i=n.$i,i.ji=n.ji.slice(),i.Ui=n.Ui,i.Yi="",r=20):(re(a.slice(v))||(i.$i=n.$i,i.ji=n.ji.slice(),ce(i)),r=17,v-=1):(r=17,v-=1);break;case 14:47===d||92===d?r=15:(n&&"file"===n.zi&&!re(a.slice(v))&&(oe(n.ji[0])?i.ji.push(n.ji[0]):i.$i=n.$i),r=17,v-=1);break;case 15:if(fe===d||47===d||92===d||63===d||35===d)if(v-=1,null===e&&se(u))r=17;else if(0===u.length){if(i.$i=Ei,null!==e)return;r=16}else{var k=Di(ui(u),ie(i));if(0===k.xi&&"localhost"===k.Bi&&(k=Ei),i.$i=k,null!==e)return;u.length=0,r=16}else u.push(d);break;case 16:ie(i)?(r=17,47!==d&&92!==d&&(v-=1)):null===e&&63===d?(i.Ui="",r=19):null===e&&35===d?(i.Yi="",r=20):fe!==d&&(r=17,47!==d&&(v-=1));break;case 17:if(fe===d||47===d||ie(i)&&92===d||null===e&&(63===d||35===d)){var T=ui(u);if(te(T)?(ce(i),47===d||ie(i)&&92===d||i.ji.push("")):!Zi(T)||47===d||ie(i)&&92===d?Zi(T)||("file"===i.zi&&0===i.ji.length&&se(u)&&(Ei!==i.$i&&null!==i.$i&&(i.$i=Ei),u[1]=58,T=ui(u)),i.ji.push(T)):i.ji.push(""),u.length=0,"file"===i.zi&&(fe===d||63===d||35===d))for(;i.ji.length>1&&""===i.ji[0];)i.ji.shift();63===d?(i.Ui="",r=19):35===d&&(i.Yi="",r=20)}else u.push.apply(u,bi(d,wi));break;case 18:63===d?(i.Ui="",r=19):35===d?(i.Yi="",r=20):fe!==d&&(i.ji[0]+=ui(bi(d,di)));break;case 19:null===e&&35===d?(i.Yi="",r=20):fe!==d&&(i.Ui+=ui(bi(d,ie(i)?mi:yi)));break;case 20:fe===d||0===d||(i.Yi+=ui(bi(d,li)))}v++}return i}function le(t,n,i,e){try{de(t,n,i,e)}catch(t){}}var we=function(){this.zi="",this.Hi="",this.Wi="",this.$i=null,this.Gi=null,this.ji=[],this.Ui=null,this.Yi=null,this.Xi=!1};function ge(t){switch(t.zi){case"blob":var n;try{n=de(t.ji[0],null)}catch(t){return Yi}return ge(n);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return i=t.zi,e=t.$i,r=t.Gi,i+"://"+Ni(e)+(null===r?"":":"+r);case"file":default:return Yi}var i,e,r}var ye,me=function(){function t(t,n){var i,e,r=null;if(null!=n)if(null!=(i=n)&&i instanceof me&&"object"==typeof i.Mi)r=n.Mi;else try{r=de(String(n),null)}catch(t){throw new h("Invalid base URL: "+t.message)}try{e=de(String(t),r)}catch(t){throw new h("Invalid URL: "+t.message)}var u=e.Ui;this.Mi=e,this.Ui=function(t){var n=new Hi;return null!==t&&qi(n,t),n}(u),this.Ui.Mi=this}var n,i,e,r=t.prototype;return r.toString=function(){return this.href},r.toJSON=function(){return this.href},n=t,(i=[{key:"href",get:function(){return function(t,n){void 0===n&&(n=!1);var i=t.zi+":";if(null!==t.$i?(i+="//",ee(t)&&(i+=t.Hi,""!==t.Wi&&(i+=":"+t.Wi),i+="@"),i+=Ni(t.$i),null!==t.Gi&&(i+=":"+t.Gi)):null===t.$i&&"file"===t.zi&&(i+="//"),t.Xi)i+=t.ji[0];else for(var e=0,r=t.ji;e<r.length;e++)i+="/"+r[e];return null!==t.Ui&&(i+="?"+t.Ui),n||null===t.Yi||(i+="#"+t.Yi),i}(this.Mi)},set:function(t){var n;try{n=de(String(t),null)}catch(t){throw new h("Invalid URL: "+t.message)}this.Mi=n,Vi(this.Ui);var i=this.Mi.Ui;null!==i&&qi(this.Ui,i)}},{key:"origin",get:function(){return ge(this.Mi)}},{key:"protocol",get:function(){return this.Mi.zi+":"},set:function(t){le(t+":",null,this.Mi,0)}},{key:"username",get:function(){return this.Mi.Hi},set:function(t){ae(this.Mi)||(this.Mi.Hi=pi(t,gi))}},{key:"password",get:function(){return this.Mi.Wi},set:function(t){ae(this.Mi)||(this.Mi.Wi=pi(t,gi))}},{key:"host",get:function(){var t=this.Mi,n=t.$i;if(null===n)return"";var i=t.Gi,e=Ni(n);return null!==i&&(e+=":"+i),e},set:function(t){this.Mi.Xi||le(t,null,this.Mi,10)}},{key:"hostname",get:function(){var t=this.Mi.$i;return null===t?"":Ni(t)},set:function(t){this.Mi.Xi||le(t,null,this.Mi,11)}},{key:"port",get:function(){var t=this.Mi.Gi;return null===t?"":""+t},set:function(t){ae(this.Mi)||(""===t?this.Mi.Gi=null:le(t,null,this.Mi,12))}},{key:"pathname",get:function(){var t=this.Mi.ji;return this.Mi.Xi?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.Mi.Xi||(this.Mi.ji.length=0,le(t,null,this.Mi,16))}},{key:"search",get:function(){var t=this.Mi.Ui;return null===t||""===t?"":"?"+t},set:function(t){t=Li(t);var n=this.Mi;if(""===t)return n.Ui=null,void Vi(this.Ui);"?"===t[0]&&(t=t.slice(1)),n.Ui="",le(t,null,n,19),qi(this.Ui,t)}},{key:"searchParams",get:function(){return this.Ui}},{key:"hash",get:function(){var t=this.Mi.Yi;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.Mi.Yi="",le(t,null,this.Mi,20)):this.Mi.Yi=null}}])&&pn(n.prototype,i),e&&pn(n,e),t}();function be(t){return t.document&&t.document.baseURI||t.location.href||""}function pe(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function _e(t,n){var i=n.style;if(i)for(var e in t)i[e]=t[e]}function ke(){return void 0!==e?e.createElement("video"):void 0}function Te(){return ye||(ye=ke()),ye}var Se=!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)||!(!u||!u.msMaxTouchPoints),Ee=Te(),Ie=!(!Ee||!Ee.webkitShowPlaybackTargetPicker),Re=function(){function t(){this.Ki=void 0,this.Ji=!1,this.an=Se,this.Tn=!1,this.Qi=!0,this.Zi=!0}var n=t.prototype;return n.te=function(){return 0},n.ie=function(t,n){return!0},n.ee=function(t){return t>=1/6*2},ft(t,[{key:"re",get:function(){return void 0===this.Ki&&(this.Ki=this.te()),this.Ki}},{key:"ue",get:function(){return i.devicePixelRatio||1}},{key:"se",get:function(){return Ie}},{key:"oe",get:function(){return!1}},{key:"ce",get:function(){return!0}},{key:"ae",get:function(){return St.fn||St.pn}},{key:"fe",get:function(){return!0}},{key:"he",get:function(){return!0}},{key:"ve",get:function(){}},{key:"de",get:function(){return!0}},{key:"we",get:function(){return!1}}]),t}(),De=function(){var t=ke();if(!t)return!1;var n=t.muted;return t.muted=!n,t.muted!==n}();!function(){if(St.mn)return!1;var t=ke();if(!t)return!1;var n=t.volume;t.volume=n/2+.1,t.volume}();var Ne=function(t){function n(n){var i;return(i=t.call(this)||this).ye=void 0,i.ye=n,i.ye&&(i.Ji=i.ye.Ji,i.an=i.ye.an,i.Qi=De&&i.ye.Qi),i}vt(n,t);var i=n.prototype;return i.te=function(){return this.ye?this.ye.re:t.prototype.te.call(this)},i.ie=function(n,i){return this.ye?this.ye.ie(n,i):t.prototype.ie.call(this,n,i)},i.ee=function(n){return this.ye?this.ye.ee(n):t.prototype.ee.call(this,n)},ft(n,[{key:"ve",get:function(){var t;return null==(t=this.ye)?void 0:t.ve}},{key:"de",get:function(){var t,n;return null==(t=null==(n=this.ye)?void 0:n.de)||t}}]),n}(Re),Ce=function(t){function n(n){var i;return(i=t.call(this,n)||this).Ji=!0,i.Tn=!0,i}return vt(n,t),n}(Ne),Ae=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.te=function(){return Z.MediaSource?t.prototype.te.call(this):1},n}(Ce),Oe=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.ie=function(n,i){return t.prototype.ie.call(this,n,i)},ft(n,[{key:"oe",get:function(){return St.Cn<3}},{key:"ce",get:function(){return St.Cn>=3}},{key:"we",get:function(){return St.Cn<3}}]),n}(Ne),Pe=function(t){function n(){return t.call(this)||this}return vt(n,t),n}(Re),xe=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.ie=function(t,n){if(t&&t.me&&n&&n.me){var i=Le(t.me,"mp4a.40.2")&&Le(n.me,"mp4a.40.5"),e=Le(t.me,"mp4a.40.5")&&Le(n.me,"mp4a.40.2"),r=Le(t.me,"mp4a.40.2")&&Le(n.me,"mp4a.40.34"),u=Le(t.me,"mp4a.40.34")&&Le(n.me,"mp4a.40.2"),s=Le(t.me,"mp4a.40.5")&&Le(n.me,"mp4a.40.34"),o=Le(t.me,"mp4a.40.34")&&Le(n.me,"mp4a.40.5");return!(i||e||r||u||s||o)}return!0},ft(n,[{key:"ve",get:function(){if(St.fn)return 4096}}]),n}(Pe);function Le(t,n){return t.indexOf(n)>-1}var Be=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.ee=function(t){return t>=2},n}(Pe),Fe=function(t){function n(){var n;return(n=t.call(this)||this).Ji=St.Un>=11,n.Qi=St.Mn&&!(St.pn&&St.Un<10),n}return vt(n,t),n}(Pe),Me=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),ft(n,[{key:"fe",get:function(){return!1}}]),n}(Ne),Ue=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),ft(n,[{key:"de",get:function(){return!St.hn||!!St.Rn&&92!==St.Dn}}]),n}(Pe),Ve=function(){function n(){var n;this.be=void 0,this.pe=new an,this._e=new qe,this.ke=(n=function(){if(St.Bn)return new xe;if(St.On||St.Pn)return new Be;if(St.Mn)return new Fe;if(St.En)return new Ue;return new Pe}(),St.pn?new Ae(n):St.Tn?new Ce(n):St.Nn?new Oe(n):St.An?new Me(n):new Ne(n)),this.Te=function(){if(t.URL)try{var n=new t.URL("b","http://a");return n.pathname="c d","http://a/c%20d"===n.href}catch(t){}return!1}(),t.performance&&t.performance.now?this.be=function(){return t.performance.now()}:this.be=tn}var i=n.prototype;return i.Se=function(){Wt.apply(void 0,arguments)},i.Ee=function(){jt.apply(void 0,arguments)},i.Ie=function(){$t.apply(void 0,arguments)},i.Re=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];Xt.apply(void 0,[t].concat(i))},i.De=function(t,n){return s(t,n)},i.Ne=function(t,n){return c(t,n)},i.Ce=function(t){o(t)},i.Ae=function(t){a(t)},i.si=function(t){return this.pe.si(t)},i.Oe=function(){return this.Pe.Oe()},i.xe=function(){return this.Pe.xe()},i.Le=function(){return this.Pe.Le()},i.Be=function(){return this.Pe.Be()},i.Fe=function(){return this.Pe.Fe()},i.Me=function(t,n){return this.Pe.Me(t,n)},i.Ue=function(t){return this.Pe.Ue(t)},i.Ve=function(t,n){var i;return void 0===n&&(n=be(Z)),i="object"!=typeof n||n instanceof me?n:n.href,new me(t,i)},i.qe=function(n,i){if(void 0===i&&(i=be(Z)),this.Te){var e=Ot(i)?i:i.toString();return new t.URL(n,e).href}return this.Ve(n,i).href},ft(n,[{key:"ze",get:function(){return this._e}},{key:"He",get:function(){return this.ke}},{key:"We",get:function(){return{je:u&&u.userAgent.match(/Android /i)?"Android":"other",$e:Boolean(u&&u.userAgent.match(/Android 8.0.0/i))}}},{key:"Xe",get:function(){return t&&t.location&&"https:"===t.location.protocol}},{key:"Ge",get:function(){return"languages"in u?u.languages.slice():[u.language]}}]),n}(),qe=function(){function t(){}return ft(t,[{key:"Ye",get:function(){return u.oscpu}},{key:"He",get:function(){return u.platform}},{key:"Ke",get:function(){return u.vendor}},{key:"Je",get:function(){return u.vendorSub}}]),t}();var ze=Gt(function(t){!function(t){var n,i=v.prototype,e=i.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},u=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function c(t,n,i,e){var r=n&&n.prototype instanceof b?n:b,u=v.create(r.prototype),s=new A(e||[]);return u.Qe=function(t,n,i){var e=d;return function(r,u){if(e===w)throw new f("Generator is already running");if(e===y){if("throw"===r)throw u;return P()}for(i.method=r,i.arg=u;;){var s=i.delegate;if(s){var o=D(s,i);if(o){if(o===m)continue;return o}}if("next"===i.method)i.sent=i.Ze=i.arg;else if("throw"===i.method){if(e===d)throw e=y,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);e=w;var c=a(t,n,i);if("normal"===c.type){if(e=i.done?y:l,c.arg===m)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(e=y,i.method="throw",i.arg=c.arg)}}}(t,i,s),u}function a(t,n,i){try{return{type:"normal",arg:t.call(n,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var d="suspendedStart",l="suspendedYield",w="executing",y="completed",m={};function b(){}function p(){}function _(){}var k={};k[u]=function(){return this};var T=v.getPrototypeOf,S=T&&T(T(O([])));S&&S!==i&&e.call(S,u)&&(k=S);var E=_.prototype=b.prototype=v.create(k);function I(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this.Qe(n,t)}})}function R(t){var n;this.Qe=function(i,r){function u(){return new j(function(n,u){!function n(i,r,u,s){var o=a(t[i],t,r);if("throw"!==o.type){var c=o.arg,f=c.value;return f&&"object"==typeof f&&e.call(f,"tr")?j.resolve(f.tr).then(function(t){n("next",t,u,s)},function(t){n("throw",t,u,s)}):j.resolve(f).then(function(t){c.value=t,u(c)},function(t){return n("throw",t,u,s)})}s(o.arg)}(i,r,n,u)})}return n=n?n.then(u,u):u()}}function D(t,i){var e=t.iterator[i.method];if(e===n){if(i.delegate=null,"throw"===i.method){if(t.iterator.return&&(i.method="return",i.arg=n,D(t,i),"throw"===i.method))return m;i.method="throw",i.arg=new h("The iterator does not provide a 'throw' method")}return m}var r=a(e,t.iterator,i.arg);if("throw"===r.type)return i.method="throw",i.arg=r.arg,i.delegate=null,m;var u=r.arg;return u?u.done?(i[t.resultName]=u.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=n),i.delegate=null,m):u:(i.method="throw",i.arg=new h("iterator result is not an object"),i.delegate=null,m)}function N(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function C(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(N,this),this.reset(!0)}function O(t){if(t){var i=t[u];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!g(t.length)){var r=-1,s=function i(){for(;++r<t.length;)if(e.call(t,r))return i.value=t[r],i.done=!1,i;return i.value=n,i.done=!0,i};return s.next=s}}return{next:P}}function P(){return{value:n,done:!0}}p.prototype=E.constructor=_,_.constructor=p,_[o]=p.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===p||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return v.setPrototypeOf?v.setPrototypeOf(t,_):(t.__proto__=_,o in t||(t[o]="GeneratorFunction")),t.prototype=v.create(E),t},t.awrap=function(t){return{tr:t}},I(R.prototype),R.prototype[s]=function(){return this},t.AsyncIterator=R,t.async=function(n,i,e,r){var u=new R(c(n,i,e,r));return t.isGeneratorFunction(i)?u:u.next().then(function(t){return t.done?t.value:u.next()})},I(E),E[o]="Generator",E[u]=function(){return this},E.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var i in t)n.push(i);return n.reverse(),function i(){for(;n.length;){var e=n.pop();if(e in t)return i.value=e,i.done=!1,i}return i.done=!0,i}},t.values=O,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this.Ze=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(C),!t)for(var i in this)"t"===i.charAt(0)&&e.call(this,i)&&!g(+i.slice(1))&&(this[i]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function r(e,r){return o.type="throw",o.arg=t,i.next=e,r&&(i.method="next",i.arg=n),!!r}for(var u=this.tryEntries.length-1;u>=0;--u){var s=this.tryEntries[u],o=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var c=e.call(s,"catchLoc"),a=e.call(s,"finallyLoc");if(c&&a){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!a)throw new f("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(t,n){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&e.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var u=r;break}}u&&("break"===t||"continue"===t)&&u.tryLoc<=n&&n<=u.finallyLoc&&(u=null);var s=u?u.completion:{};return s.type=t,s.arg=n,u?(this.method="next",this.next=u.finallyLoc,m):this.complete(s)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),m},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),C(i),m}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc===t){var e=i.completion;if("throw"===e.type){var r=e.arg;C(i)}return r}}throw new f("illegal catch attempt")},delegateYield:function(t,i,e){return this.delegate={iterator:O(t),resultName:i,nextLoc:e},"next"===this.method&&(this.arg=n),m}}}(t.exports)});function He(){return(He=v.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var e in i)v.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])}return t}).apply(this,arguments)}function We(){var t=v.create(null);return t.nr=void 0,delete t.nr,t}function je(){return new Ye}function $e(t){var n=je();for(var i in t)Et.call(t,i)&&n.set(i,t[i]);return n}var Xe,Ge="undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0,Ye=Ge||(Xe=function(){function t(t,n){this.data=void 0,this.keys=void 0,this.index=0,this.selector=void 0,this.data=t,this.selector=n,this.keys=v.keys(t)}var n=t.prototype;return n.next=function(){var t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}},t}(),function(){function t(){this.data=We(),this.size=0}var n=t.prototype;return n.get=function(t){return this.data[t]},n.set=function(t,n){return this.has(t)||this.size++,this.data[t]=n,this},n.has=function(t){return t in this.data},n.delete=function(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)},n.clear=function(){this.data=We(),this.size=0},n.keys=function(){return new Xe(this.data,function(t,n){return n})},n.values=function(){return new Xe(this.data,function(t,n){return t[n]})},n.entries=function(){return new Xe(this.data,function(t,n){return[n,t[n]]})},n.forEach=function(t){for(var n in this.data)t(this.data[n],n)},t}());var Ke,Je=Ge||(Ke=function(){function t(t,n){this.ir=void 0,this.er=void 0,this.ir=t,this.er=n}var n=t.prototype;return n.next=function(){var t=this.ir.next();return t.done?t:{value:this.er(t.value),done:!1}},t}(),function(){function t(){this.rr=je()}var n=t.prototype;return n.get=function(t){return this.rr.get(""+t)},n.set=function(t,n){return this.rr.set(""+t,n),this},n.has=function(t){return this.rr.has(""+t)},n.delete=function(t){return this.rr.delete(""+t)},n.clear=function(){this.rr.clear()},n.keys=function(){return new Ke(this.rr.keys(),function(t){return Number(t)})},n.values=function(){return this.rr.values()},n.entries=function(){return new Ke(this.rr.entries(),function(t){var n=t[0],i=t[1];return[Number(n),i]})},n.forEach=function(t){this.rr.forEach(function(n,i){t(n,Number(i))})},ft(t,[{key:"size",get:function(){return this.rr.size}}]),t}());var Qe,Ze="cenc",tr="sinf",nr="skd",ir="urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95",er="com.microsoft.playready",rr="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",ur="94ce86fb-07ff-4f43-adb8-93d2fa968ca2",sr="urn:uuid:"+ur,or="com.apple.fps.1_0";!function(t){t.ur="playready",t.sr="widevine",t.cr="fairplay",t.ar="clearkey",t.hr="aes128"}(Qe||(Qe={}));var cr={dr:Qe.ur,wr:er,gr:"cenc",yr:"9a04f079-9840-4286-ab92-e65be0885f95",mr:ir,br:"PlayReady"},ar={dr:Qe.sr,wr:"com.widevine.alpha",gr:"cenc",yr:"edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",mr:rr,br:"Widevine"},fr={dr:Qe.cr,wr:or,gr:"skd",yr:ur,mr:sr,br:"FairPlay"},hr=(Qe.cr,{dr:Qe.ar,wr:"org.w3.clearkey",gr:"cenc",yr:"1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",mr:"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",br:"ClearKey"});function vr(t,n,i){return t.split(n).join(i)}function dr(t,n){return null!=t&&-1!==t.indexOf(n)}function lr(t,n){return null!=t&&t.substr(0,n.length)===n}function wr(t,n){return null!=t&&t.substr(t.length-n.length,n.length)===n}function gr(t,n){return t.toUpperCase()===n.toUpperCase()}function yr(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return br(n)}var mr=16384;function br(t){var n=t.length;if(n<=mr)return String.fromCharCode.apply(String,t);for(var i=[],e=0;e<n;e+=mr)i.push(String.fromCharCode.apply(String,t.slice(e,e+mr)));return i.join("")}var pr=St.En&&St.In>=42||St.Bn&&St.Fn>=38||St.On||St.xn||St.Vn&&St.qn>=29;function _r(t,n){return dr(t,"audio")?{initDataTypes:["cenc"],audioCapabilities:[He({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[He({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}}var kr,Tr=function(){function t(t){this.pr=void 0,this._r=je(),this.kr=void 0,this.pr=t}var n=t.prototype;return n.Fe=function(){return this.Ue(ar)},n.xe=function(){return this.Ue(hr)},n.Be=function(){return this.Ue(cr)},n.Le=function(){return this.Ue(fr)},n.Ue=function(t){var n=t.mr,i=this._r.get(n);if(i)return i;var e=this.Me(t,'video/mp4; codecs="avc1.42000a"');return this._r.set(n,e),e},n.Me=function(t,n){return ze.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,ze.awrap(this.pr.Tr(t.wr,[_r(n,!0)]));case 3:return i.abrupt("return",!0);case 6:return i.prev=6,i.t0=i.catch(0),i.prev=8,i.next=11,ze.awrap(this.pr.Tr(t.wr,[_r(n,!1)]));case 11:return i.abrupt("return",!0);case 14:return i.prev=14,i.t1=i.catch(8),i.abrupt("return",!1);case 17:case"end":return i.stop()}},null,this,[[0,6],[8,14]],j)},n.Oe=function(){return this.kr||(this.kr=this.Sr()),this.kr},n.Sr=function(){return ze.async(function(t){for(;;)switch(t.prev=t.next){case 0:if("https:"!==tt.protocol){t.next=2;break}return t.abrupt("return",!1);case 2:if(pr){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,ze.awrap(this.xe());case 6:if(!t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:return t.abrupt("return",!0);case 9:case"end":return t.stop()}},null,this,null,j)},t}();function Sr(t,n){var i=function(t,n){var i=t,e=i.length;if(e<=1)return i;for(var r=new Array(e),u=1;u<e;u*=2){Er(i,n,u,r);var s=i;i=r,r=s}return i}(t,n);return i!==t&&Er(i,void 0,t.length,t),t}function Er(t,n,i,e){var r,u,s,o,c,a=t.length,f=0,h=2*i;for(u=0;u<a;u+=h)for(r=(s=u+i)+i,s>a&&(s=a),r>a&&(r=a),o=u,c=s;;)if(o<s&&c<r)n&&n(t[o],t[c])<=0?e[f++]=t[o++]:e[f++]=t[c++];else if(o<s)e[f++]=t[o++];else{if(!(c<r))break;e[f++]=t[c++]}}!function(t){t[t.Er=0]="Er",t[t.Ir=1]="Ir",t[t.Rr=-1]="Rr"}(kr||(kr={}));var Ir=function(t,n){return(0|t)-(0|n)},Rr=function(t,n){return t===n?kr.Er:t<n?kr.Rr:t>n?kr.Ir:g(t)?g(n)?kr.Er:kr.Ir:kr.Rr};function Dr(t,n,i){return Qt(t,n,i)?kr.Er:Rr(t,n)}var Nr=function(t,n){return function(t,n){if(t===n)return!0;var i=d.abs(t-n);return i<Kt||i<d.max(d.abs(t),d.abs(n))*Kt}(t,n)?kr.Er:Rr(t,n)};function Cr(t,n,i){var e=function(t,n,i){for(var e=0;e<t.length;e+=1){var r=t[e];if(n.call(i,r,e,t))return e}return-1}(t,n,i);return-1===e?void 0:t[e]}function Ar(t,n){var i=t.indexOf(n);return-1!==i&&(Or(t,i),!0)}function Or(t,n){t.splice(n,1)}function Pr(t,n){return-1!==t.indexOf(n)}function xr(t){t.length=0}var Lr=function(){function t(){this.Dr=!1,this.Nr=!1,this.Cr=[],this.Ar=[]}var n=t.prototype;return n.Or=function(){if(!this.Dr&&!this.Nr){this.Dr=!0;for(var t=0,n=this.Cr.slice();t<n.length;t++){(0,n[t])()}this.Pr()}},n.Pr=function(){if(!this.Nr){this.Nr=!0;for(var t=0,n=this.Ar.slice();t<n.length;t++){(0,n[t])()}xr(this.Cr),xr(this.Ar)}},n.xr=function(t){this.Nr||this.Cr.push(t)},n.Lr=function(t){this.Nr||Ar(this.Cr,t)},n.Br=function(t){this.Nr||this.Ar.push(t)},n.Fr=function(t){this.Nr||Ar(this.Ar,t)},t}(),Br=function(){function t(){this.Mr=new Lr}var n=t.prototype;return n.Ur=function(){this.Mr.Or()},n.Pr=function(){this.Mr.Pr()},n.Vr=function(t){var n=this.Mr;if(!n.Dr)if(t.Dr)n.Or();else if(!n.Nr&&!t.Nr){var i=function(){e(),n.Or()},e=function e(){t.Lr(i),t.Fr(e),n.Lr(i),n.Fr(e)};t.xr(i),t.Br(e),n.xr(i),n.Br(e)}},n.qr=function(){var n=new t,i=new t,e=n.zr,r=i.zr,u=this.Mr,s=function(){e.Dr&&r.Nr||r.Dr&&e.Nr?u.Or():e.Nr&&r.Nr&&u.Pr()};e.xr(s),r.xr(s),e.Br(s),r.Br(s),n.Vr(u),i.Vr(u);return u.Br(function(){e.Lr(s),r.Lr(s),e.Fr(s),r.Fr(s)}),[n,i]},ft(t,[{key:"zr",get:function(){return this.Mr}}]),t}(),Fr=function(t){function n(n,i){return t.call(this,n||"Aborted",i)||this}return vt(n,t),ft(n,[{key:"name",get:function(){return"AbortError"}}]),n}(on);function Mr(t){return t instanceof f&&"AbortError"===t.name}function Ur(t){if(t&&t.Dr)throw new Fr}function Vr(t){if(Mr(t))throw t}function qr(t){if(!Mr(t))throw t}function zr(t,n){return n?new j(function(i,e){if(n.Dr)return t.catch(Bt),e(new Fr);var r=function t(){n.Lr(t),e(new Fr)};n.xr(r),t.then(function(t){n.Lr(r),i(t)},function(t){n.Lr(r),e(t)})}):t}function Hr(t,n){return t.then(function(t){return n.Pr(),t},function(t){throw n.Pr(),t})}var Wr=j.resolve();function jr(t){Wr.then(t)}function $r(t){t.then(Bt,Bt)}function Xr(t){return ze.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,ze.awrap(j.all(t));case 3:return n.abrupt("return",n.sent);case 6:return n.prev=6,n.t0=n.catch(0),n.next=10,ze.awrap(j.all(t.map(function(t){return t.catch(Bt)})));case 10:throw n.t0;case 11:case"end":return n.stop()}},null,null,[[0,6]],j)}function Gr(t){return t&&"function"!=typeof t?t.slice():t}function Yr(t,n,i){if(i)if("function"==typeof i)i.call(t,n);else for(var e=0;e<i.length;e++){i[e].call(t,n)}}var Kr,Jr=function(){function t(t){var n=this;this.Hr=We(),this.Wr=void 0,this.jr=void 0,this.$r=function(t){n.Xr(t)},this.jr=t||this}var n=t.prototype;return n.Gr=function(t,n){if("function"==typeof n)if("string"==typeof t)this.Yr(t,n);else for(var i=0;i<t.length;i++){var e=t[i];this.Yr(e,n)}},n.Yr=function(t,n){var i=this.Hr[t];i?"function"==typeof i?this.Hr[t]=[i,n]:i.push(n):this.Hr[t]=n},n.Kr=function(t){if("function"==typeof t){var n=this.Wr;n?"function"==typeof n?this.Wr=[n,t]:n.push(t):this.Wr=t}},n.Jr=function(){this.Hr=We(),this.Wr=void 0},n.Xr=function(t){var n=Gr(this.Hr[t.type]),i=Gr(this.Wr);Yr(this.jr,t,n),Yr(this.jr,t,i)},n.Qr=function(t,n){if("function"==typeof n)if("string"==typeof t)this.Zr(t,n);else for(var i=0;i<t.length;i++){var e=t[i];this.Zr(e,n)}},n.Zr=function(t,n){var i=this.Hr[t];i&&("function"==typeof i?i===n&&(this.Hr[t]=void 0):Ar(i,n))},n.tu=function(t){if("string"==typeof t)this.Hr[t]=void 0;else for(var n=0;n<t.length;n++){var i=t[n];this.Hr[i]=void 0}},n.nu=function(t){var n=this.Wr;n&&("function"==typeof n?n===t&&(this.Wr=void 0):Ar(n,t))},n.iu=function(t,n){var i=this;return new j(function(e,r){if(n&&n.Dr)return r(new Fr);var u=function(t){o(),e(t)},s=function(){o(),r(new Fr)},o=function(){i.Qr(t,u),n&&n.Lr(s)};i.Gr(t,u),n&&n.xr(s)})},t}(),Qr=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.Xr=function(n){var i=this;jr(function(){t.prototype.Xr.call(i,n)})},n}(Jr),Zr=function(t,n){void 0===n&&(n=new Date),this.type=t,this.date=n},tu=["cenc"],nu=["cbcs","cbcs-1-9"],iu=function(t){function n(n){var i;return(i=t.call(this,"ru")||this).eu=n,i}return vt(n,t),n}(Zr),eu=function(t){function n(n,i,e,r){var u;return(u=t.call(this,"uu")||this).eu=n,u.su=i,u.uu=e,u.ou=r,u}return vt(n,t),n}(Zr),ru=function(t){function n(){return t.call(this,"cu")||this}return vt(n,t),n}(Zr);!function(t){t.au="fu",t.hu="vu"}(Kr||(Kr={}));var uu=function(t){function n(n,i){var e;return(e=t.call(this,Kr.au)||this).gr=n,e.du=i,e}return vt(n,t),n}(Zr),su=new y([0]).buffer,ou=function(){function t(){this.lu=void 0,this.lu=[]}var n=t.prototype;return n.wu=function(t){for(var n=0,i=this.lu;n<i.length;n++){if(i[n][0]===t)return!0}return!1},n.gu=function(t){for(var n=0,i=this.lu;n<i.length;n++){var e=i[n];if(e[0]===t)return e[1]}},n.yu=function(t,n){this.lu.forEach(function(n){return t(n[1],n[0])},n)},n.mu=function(t,n){this.lu.push([t,n])},n.bu=function(){xr(this.lu)},ft(t,[{key:"pu",get:function(){return this.lu.length}}]),t}(),cu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),au=16383,fu=/[\t\n\f\r ]/g;function hu(t){return 43===t?62:47===t?63:t>=48&&t<=57?t-48+52:t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:vu()}function vu(){throw new f("Invalid base64 input")}function du(t){var n=t;fu.test(n)&&(n=n.replace(fu,""));var i=n.length;i%4==0&&i>=1&&"="===n[i-1]&&(i>=2&&"="===n[i-2]?i-=2:i-=1,n=n.substr(0,i));var e=i%4;if(1===e)return vu();for(var r,u=0===e?0:4-e,s=new y(function(t,n){return 3*(t+n)/4-n}(i,u)),o=u>0?i-4:i,c=0,a=0;c<o;c+=4)r=hu(n.charCodeAt(c))<<18|hu(n.charCodeAt(c+1))<<12|hu(n.charCodeAt(c+2))<<6|hu(n.charCodeAt(c+3)),s[a++]=r>>16&255,s[a++]=r>>8&255,s[a++]=255&r;return 2===u?(r=hu(n.charCodeAt(c))<<2|hu(n.charCodeAt(c+1))>>4,s[a++]=255&r):1===u&&(r=hu(n.charCodeAt(c))<<10|hu(n.charCodeAt(c+1))<<4|hu(n.charCodeAt(c+2))>>2,s[a++]=r>>8&255,s[a++]=255&r),s}function lu(t,n,i){for(var e,r,u,s=[],o=n;o<i;o+=3)s.push((e=t[o],r=t[o+1],u=t[o+2],cu[e>>2]+cu[(3&e)<<4|r>>4]+cu[(15&r)<<2|u>>6]+cu[63&u]));return s.join("")}function wu(t){for(var n=t.length,i=n%3,e=[],r=n-i,u=0;u<r;u+=au)e.push(lu(t,u,d.min(r,u+au)));if(1===i){var s=t[n-1];e.push(cu[s>>2]+cu[(3&s)<<4]+"==")}else if(2===i){var o=t[n-2],c=t[n-1];e.push(cu[o>>2]+cu[(3&o)<<4|c>>4]+cu[(15&c)<<2]+"=")}return e.join("")}var gu=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],yu=ArrayBuffer.isView||function(t){return t&&Pr(gu,It.call(t))};function mu(t,n){return t===n||t.byteLength===n.byteLength&&function(t,n){if(t===n)return!0;if(t.byteLength!==n.byteLength)return!1;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}(new y(t),new y(n))}function bu(t){var n=t.reduce(function(t,n){return t+n.byteLength},0);return function(t,n){for(var i=new y(n),e=0,r=0;r<t.length;r++){var u=t[r];i.set(u,e),e+=u.byteLength}return i}(t,n)}function pu(t){return du(t).buffer}function _u(t){return wu(new y(t))}function ku(t){return wu(Gu(t))}var Tu=function(){function t(t){void 0===t&&(t=0),this._u=t}var n=t.prototype;return n.ku=function(t){this._u+=t},n.Tu=function(t){this._u=t},n.Su=function(){return new t(this.Eu)},ft(t,[{key:"Eu",get:function(){return this._u}}]),t}();function Su(t){if(t>=55296&&t<=57343)throw new f("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function Eu(t,n){return t>>n&63|128}function Iu(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Su(t),n.push(t>>12&15|224),n.push(Eu(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(Eu(t,12)),n.push(Eu(t,6))),n.push(63&t|128)):n.push(t)}function Ru(t,n){if(n.Eu>=t.length)throw new f("Invalid byte index");var i=255&t[n.Eu];if(n.ku(1),128==(192&i))return 63&i;throw new f("Invalid continuation byte")}function Du(t,n){var i=n.Eu;if(i>t.length)throw new f("Invalid byte index");if(i===t.length)return!1;var e=255&t[i];if(n.ku(1),0==(128&e))return e;if(192==(224&e)){var r=(31&e)<<6|Ru(t,n);if(r>=128)return r;throw new f("Invalid continuation byte")}if(224==(240&e)){var u=(15&e)<<12|Ru(t,n)<<6|Ru(t,n);if(u>=2048)return Su(u),u;throw new f("Invalid continuation byte")}if(240==(248&e)){var s=(7&e)<<18|Ru(t,n)<<12|Ru(t,n)<<6|Ru(t,n);if(s>=65536&&s<=1114111)return s}throw new f("Invalid UTF-8 detected")}var Nu=65279;var Cu=function(){function t(t){this.Iu=t}return t.prototype.Ru=function(t){return function(t,n){return(t&n)===n}(this.Iu,t)},t}();function Au(t,n){var i=t.getUint8(n.Eu);return n.ku(1),i}function Ou(t,n,i){t.setUint8(n.Eu,i),n.ku(1)}function Pu(t,n,i){var e=ts(is(t),n.Eu,n.Eu+i);return n.ku(e.byteLength),e}function xu(t,n,i){return n.Eu+i<=t.byteLength}function Lu(t,n,i){void 0===i&&(i=!1);var e=t.getUint16(n.Eu,i);return n.ku(2),e}function Bu(t,n,i,e){void 0===e&&(e=!1),t.setUint16(n.Eu,i,e),n.ku(2)}function Fu(t,n,i){void 0===i&&(i=!1);var e=t.getUint32(n.Eu,i);return n.ku(4),e}function Mu(t,n,i,e){void 0===e&&(e=!1),t.setUint32(n.Eu,i,e),n.ku(4)}function Uu(t,n,i){void 0===i&&(i=!1);var e=Fu(t,n,i),r=Fu(t,n,i),u=i?r:e,s=i?e:r;return Yt.fromBits(s,u,!0)}function Vu(t,n){var i=Au(t,n);if(i)return String.fromCharCode(i)}function qu(t,n){return function(t,n){return Wu(t,n,!0)}(t,n)}function zu(t,n,i){for(var e="",r=0;r<i;r++)e+=Vu(t,n);return e}function Hu(t,n){var i,e=Au(t,n);return 0==(128&e)?i=e:192==(224&e)?i=64*(31&e)+(63&Au(t,n)):224==(240&e)?i=4096*(15&e)+64*(63&Au(t,n))+(63&Au(t,n)):240==(248&e)&&(i=262144*(7&e)+4096*(63&Au(t,n))+64*(63&Au(t,n))+(63&Au(t,n))),i}function Wu(t,n,i){for(var e=[];n.Eu<t.byteLength;){var r=Au(t,n);if(i&&!r)break;e.push(r)}return br(e)}function ju(t,n,i,e){for(var r=[];n.Eu+2<=t.byteLength;){var u=Lu(t,n,i);if(e&&!u)break;r.push(u)}return br(r)}function $u(t,n,i,e){void 0===e&&(e=!1);for(var r=i.length,u=0;u<r;u+=1){Bu(t,n,i.charCodeAt(u),e)}}function Xu(t){return Wu(ns(t),new os,!1)}function Gu(t){var n=new y(t.length);return function(t,n,i){for(var e=i.length,r=0;r<e;r+=1)Ou(t,n,i.charCodeAt(r))}(ns(n),new os,t),n}function Yu(t,n){return void 0===n&&(n=!1),ju(ns(t),new os,n,!1)}function Ku(t,n){void 0===n&&(n=!1);var i=new y(2*t.length);return $u(ns(i),new os,t,n),i}function Ju(t,n){return function(t,n,i){var e=[];(function(t,n){return n.Eu+3<=t.byteLength&&239===t.getUint8(n.Eu)&&187===t.getUint8(n.Eu+1)&&191===t.getUint8(n.Eu+2)})(t,n)&&n.ku(3);for(;n.Eu<t.byteLength;){var r=Hu(t,n);if(void 0===r)break;if(i&&0===r)break;e.push(r)}return yr(e)}(t,n,!0)}function Qu(t){return yr(function(t,n){var i,e=[],r=new os;if(!n){if(!1===(i=Du(t,r)))return e;i===Nu||e.push(i)}for(;!1!==(i=Du(t,r));)e.push(i);return e}(is(t)))}function Zu(t){return new y(function(t){for(var n=[],i=0;i<t.length;i++)Iu(t[i],n);return n}(function(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&r)<<10)+(1023&u)+65536):(n.push(r),i--)}else n.push(r)}return n}(t)))}function ts(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new y(t.buffer,t.byteOffset+n,i-n)}function ns(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function is(t){return new y(t.buffer,t.byteOffset,t.byteLength)}function es(t){return t instanceof ArrayBuffer||yu(t)}function rs(t){return t instanceof ArrayBuffer?new y(t):is(t)}function us(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),t.slice?t.slice(n,i):ss(ts(t,n,i))}function ss(t){if(t.slice)return t.slice(0);var n=new y(t.byteLength);return n.set(t,0),n}var os=function(){function t(t){void 0===t&&(t=0),this._u=t}var n=t.prototype;return n.ku=function(t){this._u+=t},n.Tu=function(t){this._u=t},n.Su=function(){return new t(this.Eu)},n.Du=function(){return new Tu(this.Eu<<3)},ft(t,[{key:"Eu",get:function(){return this._u}}]),t}(),cs=function(){function t(){var t=this;this.Nu=void 0,this.Cu=void 0,this.Au=void 0,this.Nu=new j(function(n,i){t.Cu=n,t.Au=i})}var n=t.prototype;return n.Ou=function(t){this.Cu&&(this.Cu(t),this.Pr())},n.Pu=function(t){this.Au&&(this.Au(t),this.Pr())},n.Ur=function(){this.Nu.catch(Bt),this.Pu(new Fr)},n.Pr=function(){this.Cu=void 0,this.Au=void 0},t}();function as(){return new y([8,4]).buffer}function fs(t){return mu(t,as())}function hs(t,n){return t===er?function(t){if(t.byteLength<2*vs.length)return t;if(Yu(new DataView(t,0,2*vs.length),!0)===vs)return t;return n=t,Ku('<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">'+_u(n)+'</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>',!0).buffer;var n}(n):n}var vs="<PlayReady";var ds=function(t){function n(n,i,e,r){var u;return(u=t.call(this,n,r)||this).xu=void 0,u.Lu=void 0,u.xu=i,u.Lu=e,u}return vt(n,t),n}(on),ls=function(t,n){return(ls=v.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)v.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])})(t,n)};function ws(t,n){if("function"!=typeof n&&null!==n)throw new h("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}ls(t,n),t.prototype=null===n?v.create(n):(i.prototype=n.prototype,new i)}function gs(t,n,i){return t.indexOf?t.indexOf(n,i):Array.prototype.indexOf.call(t,n,i)}!function(){function t(t,n){this.Bu=t,this.Fu=n}t.prototype.get=function(t){var n=this.Bu.get(t);if(0===this.Fu||void 0===n)return n;var i=this.Bu.get(t+1)||0,e=n&(1<<8-this.Fu)-1,r=i>>8-this.Fu;return(e<<this.Fu)+r},t.prototype.getBit=function(t){if(!(t<0)){var n=this.Bu.get(d.floor((t+this.Fu)/8));if(void 0!==n)return(n&1<<7-this.Fu-t%8)>0?1:0}},v.defineProperty(t.prototype,"bitLength",{get:function(){return this.Bu.bitLength-this.Fu},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"length",{get:function(){return this.Bu.length},enumerable:!1,configurable:!0})}();function ys(t,n,i){return d.min(d.max(t,n),i)}function ms(t,n){return t>>8-n}function bs(t,n){return t&(1<<n)-1}!function(){function t(t){this.Mu=t,this.Uu=0,this.Vu=0}v.defineProperty(t.prototype,"totalBitsRead",{get:function(){return 8*this.Uu+this.Vu},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"done",{get:function(){return this.Uu===this.Mu.length&&0===this.Vu},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"location",{get:function(){return{byte:this.Uu,bit:this.Vu}},enumerable:!1,configurable:!0}),t.prototype.copy=function(){var n=new t(this.Mu);return n.seek(this.Uu,this.Vu),n},t.prototype.canReadBits=function(t){return 8*this.Uu+t+this.Vu<=8*this.Mu.length},t.prototype.canReadBytes=function(t){return 0===this.Vu?this.Uu+t<=this.Mu.length:this.Uu+t<this.Mu.length},t.prototype.incBit=function(){this.Vu++,this.Vu>7&&(this.Uu++,this.Vu=0)},t.prototype.seek=function(t,n){this.Uu=t,this.Vu=n},t.prototype.peekBit=function(){if(!this.canReadBits(1))throw new f("Cannot read past end of buffer.");return this.Mu.get(this.Uu)>>7-this.Vu&1},t.prototype.readBit=function(){var t=this.peekBit();return this.incBit(),t},t.prototype.readByte=function(){if(!this.canReadBytes(1))throw new f("Cannot read past end of buffer.");if(0===this.Vu)return this.Mu.get(this.Uu++);var t=bs(this.Mu.get(this.Uu),8-this.Vu),n=ms(this.Mu.get(this.Uu+1),this.Vu);return this.Uu++,t<<this.Vu|n},t.prototype.readBits=function(t){if(!this.canReadBits(t))throw new f("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readBit());return n},t.prototype.readUInt=function(t){if(t>32)throw new f("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new f("Cannot read past end of buffer.");var n=0;if(0===this.Vu&&t%8==0)for(var i=t-8;i>=0;i-=8)n|=this.readByte()<<i;else for(i=t-1;i>=0;i--)n|=this.readBit()<<i;return n},t.prototype.readInt=function(t){if(t>32)throw new f("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new f("Cannot read past end of buffer.");var n=this.readUInt(t);return 0===(n&1<<t-1)?n:n-d.pow(2,t)},t.prototype.readExponentialGolombCode=function(){for(var t=0;0===this.readBit();)t++;var n=1<<t;return n+=this.readUInt(t)-1},t.prototype.readSignedExponentialGolombCode=function(){var t=this.readExponentialGolombCode();return 1&t?(t+1)/2:-t/2},t.prototype.skipBits=function(t){if(!this.canReadBits(t))throw new f("Skipping over the buffer edge is not allowed.");var n=this.Vu+t;this.Uu+=n>>3,this.Vu=7&n},t.prototype.readBool=function(){return this.readBit()>0},t.prototype.readString=function(t){if(!this.canReadBytes(t))throw new f("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readByte());return String.fromCharCode.apply(String,n)}}();var ps=function(t,n){return t===n?0:t<n?-1:t>n?1:g(t)?g(n)?0:1:-1},_s=function(){function t(){this.qu=[],this.zu=[],this.N=0}return t.from=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var e=new t,r=0,u=n;r<u.length;r++){var s=u[r];e.pushRange(s)}return e},t.prototype.pushRange=function(t,n,i){if(void 0===n&&(n=0),void 0===i&&(i=t.length),i<0)throw new f("The buffer length must be positive.");if(0!==i){if(0===this.zu.length)this.zu.push(0);else{var e=this.zu[this.zu.length-1]+this.qu[this.qu.length-1].length;this.zu.push(e)}this.qu.push(t.subarray(n,n+i)),this.N+=i}},t.prototype.concat=function(n){var i=new t;return i.pushRange(this.join()),i.pushRange(n.join()),i},t.prototype.copy=function(t,n,i,e){if(void 0===n&&(n=0),void 0===i&&(i=0),void 0===e&&(e=this.length),n<0||i<0||e<0)throw new RangeError;return this.slice(i,e).copyInternal(t,n)},t.prototype.copyInternal=function(t,n){for(var i=0,e=n,r=0,u=this.qu;r<u.length;r++){var s=u[r];t.set(s,e),i+=s.length,e+=s.length}return i},t.prototype.clear=function(){this.qu=[],this.zu=[],this.N=0},t.prototype.get=function(t){if(!(t<0||t>=this.length)){var n=this.findContainingBufferIndex(t),i=t-this.zu[n];return this.qu[n][i]}},v.defineProperty(t.prototype,"first",{get:function(){return this.get(0)},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){if(this.qu.length<1)return-1;if(this.qu.length>1){var n=this.join();this.clear(),this.pushRange(n)}var i=this.qu[0];return"number"==typeof t?gs(i,t):"undefined"!=typeof Buffer?Buffer.from(i.buffer,i.byteOffset,i.byteLength).indexOf(t):function(t,n){if(0===n.length)return 0;for(var i=n[0],e=n.length,r=t.length-e,u=0;u<=r&&!((u=gs(t,i,u))<0||u>r);u++){for(var s=u+1,o=u+e,c=1;s<o&&t[s]===n[c];s++,c++);if(s===o)return u}return-1}(i,t)},t.prototype.findContainingBufferIndex=function(t){return function(t,n,i){if(0!==t.length){var e=0,r=t.length-1;if(1!==i(t[e],n)){if(1===i(n,t[r]))return r;for(;e!==r;){var u=d.ceil((e+r)/2);i(t[u],n)<=0?e=u:r=u-1}return e}}}(this.zu,t,ps)},t.prototype.join=function(){if(1===this.qu.length)return this.qu[0];var t=new y(this.length);return this.copyInternal(t,0),t},v.defineProperty(t.prototype,"length",{get:function(){return this.N},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"bitLength",{get:function(){return 8*this.length},enumerable:!1,configurable:!0}),t.prototype.readUIntBE=function(t,n){if(n<=0||n>4)throw new f("Expected byteLength to be between 0 and 4 but was "+n);if(t<0||t>this.length-n)throw new f("Offset must be between 0 and buffer.length - byteLength, but was "+t+" (max allowed "+(this.length-n)+")");if(1===n)return this.get(t);for(var i=0,e=0;e<n;e++)i+=this.get(t+e)*d.pow(2,8*(n-e-1));return i},t.prototype.slice=function(n,i){void 0===i&&(i=this.length);var e=ys(n,0,this.length),r=ys(i,0,this.length);if(e>r)return new t;if(e===r)return new t;for(var u=new t,s=this.findContainingBufferIndex(e),o=this.qu[s],c=e,a=c-this.zu[s];c+o.length-a<r;)u.pushRange(o,a,o.length-a),s+=1,a=(c+=o.length-a)-this.zu[s],o=this.qu[s];var f=r-c;return u.pushRange(o,a,f),u},t.prototype.trim=function(){if(0===this.length)return new t;for(var n=this.length-1,i=this.qu.length-1,e=this.qu[i],r=e.length-1;n>=0&&i>=0;){if(0!==e[r])break;if(0===r){if(0===i)return new t;i-=1,r=(e=this.qu[i]).length-1}else r-=1;n-=1}return this.slice(0,n+1)},t}(),ks=function(){function t(n){this.Hu=n||t.BUFFER_CHUNK_SIZE,this.Wu=!1,this.ju=new _s,this.Mu=new y(this.Hu),this.$u=0,this.Xu=0,this.Vu=7}return t.prototype.closeByte=function(){this.Mu[this.$u++]=this.Xu,this.$u>=this.Hu&&this.closeBuffer(),this.Xu=0,this.Vu=7},t.prototype.closeBuffer=function(t){void 0===t&&(t=!0),0!==this.$u&&(this.ju.pushRange(this.Mu,0,this.$u),t&&(this.Mu=new y(this.Hu)),this.$u=0)},v.defineProperty(t.prototype,"isWritingStartBit",{get:function(){return 7===this.Vu},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(this.Wu)throw new f("Cannot close a closed BitWriter.");return this.isWritingStartBit||this.closeByte(),this.closeBuffer(!1),this.Wu=!0,this.ju},t.prototype.writeBit=function(t){if(this.Wu)throw new f("Cannot write to a closed BitWriter.");this.Xu|=t<<this.Vu,0===this.Vu?this.closeByte():this.Vu--},t.prototype.writeByte=function(t){if(this.Wu)throw new f("Cannot write to a closed BitWriter.");this.isWritingStartBit?(this.Xu=t,this.closeByte()):this.writeByteUnaligned(t)},t.prototype.writeByteUnaligned=function(t){var n=this.Vu;this.Xu|=ms(t,n+1),this.closeByte(),this.Xu=bs(t,8-n)<<n+1,this.Vu=n},t.prototype.writeBits=function(t){for(var n=0,i=t;n<i.length;n++){var e=i[n];this.writeBit(e)}},t.prototype.writeBytes=function(t){if(this.Wu)throw new f("Cannot write to a closed BitWriter.");this.isWritingStartBit?this.writeBytesAligned(t):this.writeBytesUnaligned(t)},t.prototype.writeBytesAligned=function(t){this.$u+t.length<=this.Hu?(this.Mu.set(t,this.$u),this.$u+=t.length,this.$u===this.Hu&&this.closeBuffer()):(this.closeBuffer(),this.ju.pushRange(t))},t.prototype.writeBytesUnaligned=function(t){if(0!==t.length){var n=this.Vu;this.Xu|=ms(t[0],n+1),this.closeByte();for(var i=1;i<t.length;i++){var e=bs(t[i-1],8-n),r=ms(t[i],n+1);this.Xu=e<<n+1|r,this.closeByte()}this.Xu=bs(t[t.length-1],8-n)<<n+1,this.Vu=n}},t.prototype.writeUInt=function(t,n){if(t<0)throw new f("Received a negative number.");if(n>32)throw new f("The max bitlength that can be provided is 32.");if(t>=d.pow(2,n))throw new f("Uint "+t+" cannot be represented in "+n+" bit(s).");if(this.isWritingStartBit&&n%8==0)for(var i=n-8;i>=0;i-=8)this.writeByte(t>>i&255);else for(i=n-1;i>=0;i--)this.writeBool((t&1<<i)>0)},t.prototype.writeInt=function(t,n){if(n>32)throw new f("The max bitlength that can be provided is 32.");if(d.abs(t)>=d.pow(2,n-1))throw new f("Signed integer "+t+" cannot be represented in "+n+" bit(s).");t<0?this.writeUInt(t+d.pow(2,n),n):this.writeUInt(t,n)},t.prototype.writeExponentialGolombCode=function(t){if(t<0)throw new f("Received a negative number.");for(var n=d.floor(d.log2(t+1))+1,i=0;i<n-1;i++)this.writeBit(0);this.writeUInt(t+1,n)},t.prototype.writeSignedExponentialGolombCode=function(t){0===t?this.writeExponentialGolombCode(0):t<0?this.writeExponentialGolombCode(-2*t):this.writeExponentialGolombCode(2*t-1)},t.prototype.padByte=function(t){for(;!this.isWritingStartBit;)this.writeBit(t)},t.prototype.writeBool=function(t){this.writeBit(t?1:0)},t.prototype.writeString=function(t){for(var n=function(t){for(var n=new y(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(t),i=0;i<n.length;i++)this.writeByte(n[i])},t.BUFFER_CHUNK_SIZE=1024,t}(),Ts=function(){function t(t){this.rb=new _s,this.Gu=t}return t.prototype.closeWriter=function(){void 0!==this.Gu&&(this.rb=this.rb.concat(this.Gu.close()),this.Gu=void 0)},v.defineProperty(t.prototype,"writer",{get:function(){return void 0===this.Gu&&(this.Gu=new ks),this.Gu},enumerable:!1,configurable:!0}),t.prototype.concat=function(t){this.closeWriter(),this.rb=this.rb.concat(t)},t.prototype.toRangedBuffer=function(){return this.closeWriter(),this.rb},t}(),Ss=function(){function t(t){if(this.boxType=t,4!==t.length&&16!==t.length)throw new f("The provided box type does not conform to either a 4 character type or a 16 byte uuid.")}return t.prototype.serializeCommonBoxHeader=function(n){var i=this.getSize(),e=i>=t.LARGE_SIZE/8,r=16===this.boxType.length;n.writeUInt(e?1:i,32),n.writeString(r?"uuid":this.boxType),e&&(n.writeUInt(d.floor(i/t.LARGE_SIZE),32),n.writeUInt(i%t.LARGE_SIZE,32)),r&&n.writeString(this.boxType)},t.prototype.getSize=function(){var n=8+(this.boxType.length>4?16:0),i=this.getBoxContentSize()+n;return i>=t.LARGE_SIZE/8&&(i+=8),i},t.prototype.serialize=function(){var t=new Ts;return this.serializeCommonBoxHeader(t.writer),this.serializeBoxContent(t),t.toRangedBuffer()},t.LARGE_SIZE=d.pow(2,32),t}();function Es(t,n){return t instanceof Yt?64===n:t<d.pow(2,n)}function Is(t,n){return d.round(t*d.pow(2,n))}function Rs(t,n){for(var i=0;i<n.length;i++)t.writeByte(n[i])}var Ds=function(t){function n(n,i,e){var r=t.call(this,n)||this;if(r.version=i,!Es(i,8))throw new f("the provided version cannot fit in 8 bits.");return r.flags=e,r}return ws(n,t),v.defineProperty(n.prototype,"flags",{get:function(){return this.Yu},set:function(t){this.Yu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new f("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(Ss),Ns=(function(t){function n(n,i){var e=t.call(this,n)||this;return e.data=i,e}ws(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(_s.from(this.data))}}(Ss),function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t}());function Cs(t){for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return function(t){var n=t.length;if(n<=As)return String.fromCharCode.apply(String,t);for(var i=[],e=0;e<n;e+=As)i.push(String.fromCharCode.apply(String,t.slice(e,e+As)));return i.join("")}(n)}var As=16384;function Os(t,n){var i=t.getUint8(n.offset);return n.shift(1),i}function Ps(t,n,i){var e,r=function(t,n,i){void 0===n&&(n=0);void 0===i&&(i=t.byteLength);return new y(t.buffer,t.byteOffset+n,i-n)}(new y((e=t).buffer,e.byteOffset,e.byteLength),n.offset,n.offset+i);return n.shift(r.byteLength),r}function xs(t,n,i){return n.offset+i<=t.byteLength}function Ls(t,n,i){void 0===i&&(i=!1);var e=t.getUint32(n.offset,i);return n.shift(4),e}function Bs(t,n,i){void 0===i&&(i=!1);var e=Ls(t,n,i),r=Ls(t,n,i),u=i?r:e,s=i?e:r;return Yt.fromBits(s,u,!0)}function Fs(t,n){var i=Os(t,n);if(i)return String.fromCharCode(i)}function Ms(t,n,i){for(var e="",r=0;r<i;r++)e+=Fs(t,n);return e}function Us(t,n){var i,e=Os(t,n);return 0==(128&e)?i=e:192==(224&e)?i=64*(31&e)+(63&Os(t,n)):224==(240&e)?i=4096*(15&e)+64*(63&Os(t,n))+(63&Os(t,n)):240==(248&e)&&(i=262144*(7&e)+4096*(63&Os(t,n))+64*(63&Os(t,n))+(63&Os(t,n))),i}function Vs(t,n){return function(t,n,i){var e=[];(function(t,n){return n.offset+3<=t.byteLength&&239===t.getUint8(n.offset)&&187===t.getUint8(n.offset+1)&&191===t.getUint8(n.offset+2)})(t,n)&&n.shift(3);for(;n.offset<t.byteLength;){var r=Us(t,n);if(void 0===r)break;if(i&&0===r)break;e.push(r)}return Cs(e)}(t,n,!0)}var qs=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t.prototype.toBit=function(){return new Ns(this.offset<<3)},t}(),zs=function(){function t(t,n){this.data=t,this.cursor=n}return t.prototype.nextUint8=function(){return Os(this.data,this.cursor)},t.prototype.nextUint16=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getUint16(n.offset,i);return n.shift(2),e}(this.data,this.cursor)},t.prototype.nextInt16=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt16(n.offset,i);return n.shift(2),e}(this.data,this.cursor)},t.prototype.nextUint32=function(){return Ls(this.data,this.cursor)},t.prototype.nextInt32=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt32(n.offset,i);return n.shift(4),e}(this.data,this.cursor)},t.prototype.nextInt64=function(){return function(t,n,i){void 0===i&&(i=!1);var e=Ls(t,n,i),r=Ls(t,n,i),u=i?r:e,s=i?e:r;return Yt.fromBits(s,u,!1)}(this.data,this.cursor)},t.prototype.nextUint64=function(){return Bs(this.data,this.cursor)},t.prototype.nextUint8Array=function(t){return Ps(this.data,this.cursor,t)},t.prototype.nextUint32Array=function(t){return function(t,n,i){for(var e=[],r=0;r<i;r++)e.push(Ls(t,n));return e}(this.data,this.cursor,t)},t.prototype.nextChars=function(t){return Ms(this.data,this.cursor,t)},t.prototype.nextUTF8String=function(){return Vs(this.data,this.cursor)},t.prototype.skip=function(t){this.cursor.shift(t)},t.prototype.clone=function(){return new t(this.data,this.cursor.clone())},t}();function Hs(t,n){return t.type===n}var Ws=8;function js(t,n){var i=n.offset,e=function(t,n){var i=n.offset;if(!xs(t,n,Ws)){var e=n.offset+Ws;return{complete:!1,neededOffset:e}}var r=Ls(t,n),u=Ms(t,n,4);if(1===r){if(!xs(t,n,8)){var e=n.offset+8;return n.seek(i),{complete:!1,neededOffset:e}}r=Bs(t,n).toNumber()}if("uuid"===u){if(!xs(t,n,16)){var e=n.offset+16;return n.seek(i),{complete:!1,neededOffset:e}}u=Ms(t,n,16)}var s=n.offset;return{complete:!0,header:{type:u,size:r,headerSize:s-i}}}(t,n);if(!e.complete)return e;var r=e.header,u=r.size;0===u&&(u=t.byteLength-i);var s=i+u;if(s>t.byteLength){var o=s;return n.seek(i),{complete:!1,neededOffset:o}}var c,a,f,h={type:r.type,offset:i,data:new zs((c=t,a=i,f=s,void 0===a&&(a=0),void 0===f&&(f=c.byteLength),new DataView(c.buffer,c.byteOffset+a,f-a)),new qs(r.headerSize))};return n.seek(s),{complete:!0,box:h}}!function(t){function n(){return t.call(this,"mdir")||this}ws(n,t),n.prototype.serializeReserved=function(t){t.writer.writeString("appl"),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)}}(function(t){function n(n,i,e,r){void 0===e&&(e=0),void 0===r&&(r=0);var u=t.call(this,"hdlr",e,r)||this;return u.name=i,u.handlerType=n,u}return ws(n,t),v.defineProperty(n.prototype,"handlerType",{get:function(){return this.Ku},set:function(t){this.Ku=t},enumerable:!1,configurable:!0}),n.prototype.serializeReserved=function(t){t.writer.writeUInt(0,32),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)},n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+4+4+12+(null!==(i=null===(n=this.name)||void 0===n?void 0:n.length)&&void 0!==i?i:0)+1},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeString(this.handlerType),this.serializeReserved(n),this.name&&n.writer.writeString(this.name),n.writer.writeByte(0)},n}(Ds));var $s=function(){function t(t,n){void 0===n&&(n=!1),this.fixed28BitMode=n,this.tag=t}return t.prototype.encodeSize=function(t){for(var n=[];t>0;)n.length>0&&(n[n.length-1]+=128),n.push(t%128),t>>=7;if(this.fixed28BitMode)for(;n.length<4;)n.push(128);return n.reverse()},v.defineProperty(t.prototype,"tag",{get:function(){return this.Ju},set:function(t){if(!Es(t,8))throw new f("Provided tag does not fit in 8 bits.");this.Ju=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return this.getDescriptorSize()+1+this.encodeSize(this.getDescriptorSize()).length},t.prototype.serialize=function(t){t.writer.writeByte(this.tag);for(var n=0,i=this.encodeSize(this.getDescriptorSize());n<i.length;n++){var e=i[n];t.writer.writeByte(e)}this.serializeDescriptorContent(t)},t}(),Xs=(function(t){function n(n,i,e,r,u,s,o){void 0===o&&(o={});var c=t.call(this,4,o.fixed28BitMode)||this;return c.upStream=e,c.decoderSpecificInfo=s,c.objectTypeIndication=n,c.streamType=i,c.bufferSizeDb=r,c.maxBitrate=u.max,c.avgBitrate=u.avg,c}ws(n,t),v.defineProperty(n.prototype,"objectTypeIndication",{get:function(){return this.Qu},set:function(t){if(!Es(t,8))throw new f("Provided objectTypeIndication does not fit in 8 bits.");this.Qu=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"streamType",{get:function(){return this.Zu},set:function(t){if(!Es(t,6))throw new f("Provided streamType does not fit in 6 bits.");this.Zu=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.ts},set:function(t){if(!Es(t,24))throw new f("Provided bufferSizeDb does not fit in 24 bits.");this.ts=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"maxBitrate",{get:function(){return this.es},set:function(t){if(!Es(t,32))throw new f("Provided maxBitrate does not fit in 32 bits.");this.es=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"avgBitrate",{get:function(){return this.rs},set:function(t){if(!Es(t,32))throw new f("Provided avgBitrate does not fit in 32 bits.");this.rs=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 13+this.decoderSpecificInfo.reduce(function(t,n){return t+n.getSize()},0)},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.objectTypeIndication),t.writer.writeUInt(this.streamType,6),t.writer.writeBool(this.upStream),t.writer.writeBit(1),t.writer.writeUInt(this.bufferSizeDb,24),t.writer.writeUInt(this.maxBitrate,32),t.writer.writeUInt(this.avgBitrate,32);for(var n=0,i=this.decoderSpecificInfo;n<i.length;n++){i[n].serialize(t)}}}($s),function(t){function n(n,i){void 0===i&&(i={});var e=t.call(this,5,i.fixed28BitMode)||this;return e.data=n,e}ws(n,t),n.prototype.getDescriptorSize=function(){return this.data.length},n.prototype.serializeDescriptorContent=function(t){t.concat(_s.from(this.data))}}($s),function(t){function n(n){void 0===n&&(n=!1);var i=t.call(this,6,n)||this;return i.predefined=2,i}return ws(n,t),n.prototype.getDescriptorSize=function(){return 1},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.predefined)},n}($s)),Gs=(function(t){function n(n,i,e,r){void 0===r&&(r={});var u=t.call(this,3,r.fixed28BitMode)||this;return u.decoderConfigDescriptor=e,u.esId=n,u.streamPriority=i,u.dependsOnEsId=null==r?void 0:r.dependsOnEsId,u.urlString=null==r?void 0:r.url,u.ocrEsId=null==r?void 0:r.ocrEsId,u.slConfigDescriptor=new Xs(r.fixed28BitMode),u}ws(n,t),v.defineProperty(n.prototype,"streamDependenceFlag",{get:function(){return void 0!==this.dependsOnEsId},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"urlFlag",{get:function(){return void 0!==this.urlString},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"ocrStreamFlag",{get:function(){return void 0!==this.ocrEsId},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"esId",{get:function(){return this.us},set:function(t){if(!Es(t,16))throw new f("Provided esId does not fit in 16 bits.");this.us=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"streamPriority",{get:function(){return this.ss},set:function(t){if(!Es(t,5))throw new f("Provided streamPriority does not fit in 5 bits.");this.ss=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"dependsOnEsId",{get:function(){return this.os},set:function(t){if(t&&!Es(t,16))throw new f("Provided dependsOnEsId does not fit in 16 bits.");this.os=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"ocrEsId",{get:function(){return this.cs},set:function(t){if(t&&!Es(t,16))throw new f("Provided ocrEsId does not fit in 16 bits.");this.cs=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 3+(this.streamDependenceFlag?2:0)+(this.urlFlag?1+this.urlString.length:0)+(this.ocrStreamFlag?2:0)+this.decoderConfigDescriptor.getSize()+this.slConfigDescriptor.getSize()},n.prototype.serializeDescriptorContent=function(t){t.writer.writeUInt(this.esId,16),t.writer.writeBool(this.streamDependenceFlag),t.writer.writeBool(this.urlFlag),t.writer.writeBool(this.ocrStreamFlag),t.writer.writeUInt(this.streamPriority,5),this.streamDependenceFlag&&t.writer.writeUInt(this.dependsOnEsId,16),this.urlFlag&&(t.writer.writeByte(this.urlString.length),t.writer.writeString(this.urlString)),this.ocrStreamFlag&&t.writer.writeUInt(this.ocrEsId,16),this.decoderConfigDescriptor.serialize(t),this.slConfigDescriptor.serialize(t)}}($s),function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.boxes=[],n}return ws(n,t),n.prototype.getSize=function(){return t.prototype.getSize.call(this)+this.boxes.reduce(function(t,n){return t+n.getSize()},0)},n.prototype.serialize=function(){for(var n=t.prototype.serialize.call(this),i=0,e=this.boxes;i<e.length;i++){var r=e[i];n=n.concat(r.serialize())}return n},n}(Ss)),Ys=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return ws(n,t),n.prototype.serializeBoxContent=function(t){},n.prototype.getBoxContentSize=function(){return 0},n}(Gs),Ks=function(t){function n(n,i){var e=t.call(this,n)||this;return e.dataReferenceIndex=i,e}return ws(n,t),v.defineProperty(n.prototype,"dataReferenceIndex",{get:function(){return this.as},set:function(t){if(!Es(t,16))throw new f("Provided dataReferenceIndex does not fit in 16 bits.");this.as=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){for(var n=0;n<6;n++)t.writer.writeByte(0);t.writer.writeUInt(this.dataReferenceIndex,16)},n}(Ys),Js=function(t){function n(n,i,e,r){var u,s,o=this;return(o=t.call(this,n,i)||this).extra=r,o.channelCount=null!==(u=e.channelCount)&&void 0!==u?u:2,o.sampleSize=null!==(s=e.sampleSize)&&void 0!==s?s:16,o.sampleRate=e.sampleRate,o}return ws(n,t),v.defineProperty(n.prototype,"channelCount",{get:function(){return this.fs},set:function(t){if(!Es(t,16))throw new f("Provided channelCount does not fit in 16 bits.");this.fs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"sampleSize",{get:function(){return this.hs},set:function(t){if(!Es(t,16))throw new f("Provided sampleSize does not fit in 16 bits.");this.hs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"sampleRate",{get:function(){return this.vs},set:function(t){if(!Es(Is(t,16),32))throw new f("Provided rate does not fit in 32 bits (fixed 16.16).");this.vs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+8+2+2+2+2+(void 0!==this.sampleRate?4:0)+(null!==(i=null===(n=this.extra)||void 0===n?void 0:n.length)&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.channelCount,16),n.writer.writeUInt(this.sampleSize,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(Is(this.sampleRate,16),32),this.extra&&Rs(n.writer,this.extra)},n}(Ks),Qs=(function(t){function n(n){var i=t.call(this,"stco",0,0)||this;return i.entries=n,i}ws(n,t),v.defineProperty(n.prototype,"entries",{get:function(){return this.ds},set:function(t){if(!Es(t.length,32))throw new f("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!Es(t,32)}))throw new f("Not all entries can be represented in 32 bits.");this.ds=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(Ds),function(t){function n(n){var i=t.call(this,"clap")||this;return i.cleanApertureWidthN=n.cleanApertureWidthN,i.cleanApertureWidthD=n.cleanApertureWidthD,i.cleanApertureHeightN=n.cleanApertureHeightN,i.cleanApertureHeightD=n.cleanApertureHeightD,i.horizOffN=n.horizOffN,i.horizOffD=n.horizOffD,i.vertOffN=n.vertOffN,i.vertOffD=n.vertOffD,i}ws(n,t),v.defineProperty(n.prototype,"cleanApertureWidthN",{get:function(){return this.ls},set:function(t){if(!Es(t,32))throw new f("Provided cleanApertureWidthN does not fit in 32 bits.");this.ls=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"cleanApertureWidthD",{get:function(){return this.gs},set:function(t){if(!Es(t,32))throw new f("Provided cleanApertureWidthD does not fit in 32 bits.");this.gs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"cleanApertureHeightN",{get:function(){return this.ys},set:function(t){if(!Es(t,32))throw new f("Provided cleanApertureHeightN does not fit in 32 bits.");this.ys=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"cleanApertureHeightD",{get:function(){return this.bs},set:function(t){if(!Es(t,32))throw new f("Provided cleanApertureHeightD does not fit in 32 bits.");this.bs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"horizOffN",{get:function(){return this.ps},set:function(t){if(!Es(t,32))throw new f("Provided horizOffN does not fit in 32 bits.");this.ps=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"horizOffD",{get:function(){return this._s},set:function(t){if(!Es(t,32))throw new f("Provided horizOffD does not fit in 32 bits.");this._s=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"vertOffN",{get:function(){return this.ks},set:function(t){if(!Es(t,32))throw new f("Provided vertOffN does not fit in 32 bits.");this.ks=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"vertOffD",{get:function(){return this.Ts},set:function(t){if(!Es(t,32))throw new f("Provided vertOffD does not fit in 32 bits.");this.Ts=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 32},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.cleanApertureWidthN,32),t.writer.writeUInt(this.cleanApertureWidthD,32),t.writer.writeUInt(this.cleanApertureHeightN,32),t.writer.writeUInt(this.cleanApertureHeightD,32),t.writer.writeUInt(this.horizOffN,32),t.writer.writeUInt(this.horizOffD,32),t.writer.writeUInt(this.vertOffN,32),t.writer.writeUInt(this.vertOffD,32)}}(Ss),function(t){function n(n,i){var e=t.call(this,"ctts",n,0)||this;return e.entries=i,e}ws(n,t),v.defineProperty(n.prototype,"entries",{get:function(){return this.ds},set:function(t){if(!Es(t.length,32))throw new f("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!Es(t.sampleCount,32)||!Es(t.sampleOffset,32)}))throw new f("Not all entries can be represented in 64 bits.");this.ds=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.sampleCount,32),0===this.version?n.writer.writeUInt(r.sampleOffset,32):1===this.version&&n.writer.writeInt(r.sampleOffset,32)}}}(Ds),function(t){function n(n){var i=t.call(this,"url ",0,void 0===n?1:0)||this;return i.location=n,i}ws(n,t),v.defineProperty(n.prototype,"location",{get:function(){return this.Ss},set:function(t){this.flags=void 0===t?1:0,this.Ss=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this);return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(Ds),function(t){function n(n,i,e){var r=t.call(this,"urn ",0,e)||this;return r.name=n,r.location=i,r}ws(n,t),v.defineProperty(n.prototype,"location",{get:function(){return this.Ss},set:function(t){if(1&this.flags)throw new f("The moov containment flag is set, a DataEntryUrlBox should be used instead.");this.Ss=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+this.name.length+1;return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.name),n.writer.writeByte(0),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(Ds),function(t){function n(){return t.call(this,"dinf")||this}ws(n,t)}(Ys),function(t){function n(n,i,e){var r=t.call(this,n)||this;if(r.version=i,!Es(i,8))throw new f("the provided version cannot fit in 8 bits.");return r.flags=e,r}return ws(n,t),v.defineProperty(n.prototype,"flags",{get:function(){return this.Yu},set:function(t){this.Yu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new f("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(Gs)),Zs=(function(t){function n(){return t.call(this,"dref",0,0)||this}ws(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(Qs),function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"elst",i,e)||this;return r.entries=n,r}return ws(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"entries",{get:function(){return this.ds},set:function(t){for(var n=0,i=t;n<i.length;n++){var e=i[n];if(!Es(e.segmentDuration,this.bitSize))throw new f("SegmentDuration of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!Es(e.mediaTime,this.bitSize))throw new f("MediaTime of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!Es(e.mediaRateInteger,16))throw new f("Provided mediaRateInteger does not fit in 16 bits.");if(e.mediaRateFraction&&!Es(e.mediaRateFraction,16))throw new f("Provided mediaRateFraction does not fit in 16 bits.")}this.ds=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(2*this.bitSize/8+2+2)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32),this.serializeElstBoxContent(n)},n}(Ds)),to=(function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}ws(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,e=this.entries;i<e.length;i++){var r=e[i];t.writer.writeUInt(r.segmentDuration,32),t.writer.writeInt(r.mediaTime,32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}}}(Zs),function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}ws(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,e=this.entries;i<e.length;i++){var r=e[i];t.writer.writeUInt(r.segmentDuration.getHighBitsUnsigned(),32),t.writer.writeUInt(r.segmentDuration.getLowBitsUnsigned(),32),t.writer.writeInt(r.mediaTime.getHighBits(),32),t.writer.writeInt(r.mediaTime.getLowBits(),32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}}}(Zs),function(t){function n(){return t.call(this,"edts")||this}ws(n,t)}(Ys),function(t){function n(n,i,e,r){var u=t.call(this,n)||this;return u.majorBrand=i,u.minorVersion=e,u.compatibleBrands=r,u}return ws(n,t),v.defineProperty(n.prototype,"majorBrand",{get:function(){return this.Es},set:function(t){if(4!==t.length)throw new f("the provided major brand does not conform to the 4 character requirement");this.Es=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"minorVersion",{get:function(){return this.Is},set:function(t){if(!Es(t,32))throw new f("the provided minor version does not fit in 32 bits.");this.Is=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"compatibleBrands",{get:function(){return this.Rs},set:function(t){if(t.some(function(t){return 4!==t.length}))throw new f("Some of the compatible brands do not conform to the 4 character requirement");this.Rs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4*(2+this.compatibleBrands.length)},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.majorBrand),t.writer.writeUInt(this.minorVersion,32);for(var n=0,i=this.compatibleBrands;n<i.length;n++){var e=i[n];t.writer.writeString(e)}},n}(Ss)),no=(function(t){function n(n,i,e){return t.call(this,"ftyp",n,i,e)||this}ws(n,t)}(to),function(t){function n(n,i){void 0===i&&(i="free");var e=t.call(this,i)||this;return e.data=n,e}ws(n,t),n.prototype.getBoxContentSize=function(){var t,n;return null!==(n=null===(t=this.data)||void 0===t?void 0:t.length)&&void 0!==n?n:0},n.prototype.serializeBoxContent=function(t){this.data&&t.concat(_s.from(this.data))}}(Ss),function(t){function n(n,i,e,r){void 0===r&&(r=0);var u=t.call(this,"mdhd",e,r)||this;return u.creationTime=n.creation,u.modificationTime=n.modification,u.timescale=n.scale,u.duration=n.duration,u.language=i,u}return ws(n,t),v.defineProperty(n.prototype,"creationTime",{get:function(){return this.Ds},set:function(t){if(!Es(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Ds=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"modificationTime",{get:function(){return this.Ns},set:function(t){if(!Es(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Ns=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"timescale",{get:function(){return this.Cs},set:function(t){if(!Es(t,32))throw new f("Provided sequence number does not fit in 32 bits.");this.Cs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"duration",{get:function(){return this.As},set:function(t){if(!Es(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.As=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"language",{get:function(){return this.Os},set:function(t){if(!function(t){return/^[a-z]{3}$/.test(t)}(t))throw new f("Expected an ISO-639-2/T language code");this.Os=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMdiaContent(n),n.writer.writeBit(0);for(var i=0,e=this.language;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.charCodeAt(0)-96,5)}n.writer.writeUInt(0,16)},n}(Ds));(function(t){function n(n,i,e){return void 0===e&&(e=0),t.call(this,n,i,0,e)||this}ws(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)}})(no),function(t){function n(n,i,e){return void 0===e&&(e=0),t.call(this,n,i,1,e)||this}ws(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)}}(no);var io;(function(t){function n(){return t.call(this,"mdia")||this}ws(n,t)})(Ys),function(t){function n(){var n=t.call(this,"mdat")||this;return n.data=new _s,n}ws(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(this.data)}}(Ss),function(t){function n(){return t.call(this,"minf")||this}ws(n,t)}(Ys),function(t){function n(n){var i=t.call(this,"meta",0,0)||this;return i.handler=n,i}ws(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.handler.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.handler.serialize())}}(Qs);!function(t){t.VIDEO="vide",t.AUXILIARY_VIDEO="auxv",t.AUDIO="soun",t.METADATA="meta",t.HINT="hint",t.TEXT="text",t.SUBTITLE="subt",t.FONT="fdsm"}(io||(io={}));var eo,ro,uo={a:1,b:0,u:0,c:0,d:1,v:0,x:0,y:0,w:1};function so(t,n){n.writer.writeUInt(Is(t.a,16),32),n.writer.writeUInt(Is(t.b,16),32),n.writer.writeUInt(Is(0,30),32),n.writer.writeUInt(Is(t.c,16),32),n.writer.writeUInt(Is(t.d,16),32),n.writer.writeUInt(Is(0,30),32),n.writer.writeUInt(Is(t.x,16),32),n.writer.writeUInt(Is(t.y,16),32),n.writer.writeUInt(Is(1,30),32)}function oo(t,n){var i,e,r,u;n.writer.writeUInt(null!==(i=t.isLeading)&&void 0!==i?i:eo.UNKNOWN,2),n.writer.writeUInt(null!==(e=t.sampleDependsOn)&&void 0!==e?e:ro.UNKNOWN,2),n.writer.writeUInt(null!==(r=t.sampleIsDependedOn)&&void 0!==r?r:ro.UNKNOWN,2),n.writer.writeUInt(null!==(u=t.sampleHasRedundancy)&&void 0!==u?u:ro.UNKNOWN,2)}function co(t,n){var i,e,r;n.writer.writeUInt(0,4),oo(t,n),n.writer.writeUInt(null!==(i=t.samplePaddingValue)&&void 0!==i?i:0,3),n.writer.writeBool(null!==(e=t.sampleIsNonSyncSample)&&void 0!==e&&e),n.writer.writeUInt(null!==(r=t.sampleDegradationPriority)&&void 0!==r?r:0,16)}!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WITH_DEPENDENCY=1]="WITH_DEPENDENCY",t[t.NO=2]="NO",t[t.WITHOUT_DEPENDENCY=3]="WITHOUT_DEPENDENCY"}(eo||(eo={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.YES=1]="YES",t[t.NO=2]="NO",t[t.RESERVED=3]="RESERVED"}(ro||(ro={}));var ao=function(){return function(){}}(),fo=function(t){function n(n,i,e){var r=t.call(this,"pssh",n,0)||this;return r.systemId=i,r.data=e,r}return ws(n,t),v.defineProperty(n.prototype,"systemId",{get:function(){return this.Ps},set:function(t){if(16!==t.length)throw new f("Provided systemId length is not 16.");this.Ps=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"data",{get:function(){return this.P},set:function(t){if(!Es(t.length,32))throw new f("Provided data length does not fit in 32 bits.");this.P=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+16+4+this.data.length},n.prototype.serializeVersionBoxContent=function(t){},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(_s.from(this.systemId)),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.data.length,32),n.concat(_s.from(this.data))},n}(Ds),ho=function(t){function n(n,i){return t.call(this,0,n,i)||this}return ws(n,t),n}(fo),vo=function(t){function n(n,i,e){var r=t.call(this,1,n,i)||this;return r.kIds=e,r}return ws(n,t),v.defineProperty(n.prototype,"kIds",{get:function(){return this.xs},set:function(t){if(!Es(t.length,32))throw new f("Provided kIds length cannot fit in 32 bits.");if(t.some(function(t){return 16!==t.length}))throw new f("Not all provided key ids are 16 bytes long.");this.xs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+16*this.kIds.length},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.kIds.length,32);for(var n=0,i=this.kIds;n<i.length;n++){var e=i[n];t.concat(_s.from(e))}},n}(fo);var lo=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"mehd",i,e)||this;return r.fragmentDuration=n,r}return ws(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"fragmentDuration",{get:function(){return this.Ls},set:function(t){if(!Es(t,this.bitSize))throw new f("The provided fragmentDuration does not fit in ".concat(this.bitSize," bits."));this.Ls=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(Ds),wo=(function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}ws(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration,32)}}(lo),function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}ws(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration.getHighBitsUnsigned(),32),n.writer.writeUInt(this.fragmentDuration.getLowBitsUnsigned(),32)}}(lo),function(t){function n(n,i,e,r){void 0===i&&(i={}),void 0===e&&(e=0),void 0===r&&(r=0);var u,s,o,c=this;return(c=t.call(this,"trex",e,r)||this).trackId=n,c.defaultSampleDescriptionIndex=null!==(u=null==i?void 0:i.sampleDescriptionIndex)&&void 0!==u?u:0,c.defaultSampleDuration=null!==(s=i.sampleDuration)&&void 0!==s?s:0,c.defaultSampleSize=null!==(o=i.sampleSize)&&void 0!==o?o:0,c.defaultSampleFlags=i.sampleFlags,c}ws(n,t),v.defineProperty(n.prototype,"trackId",{get:function(){return this.Bs},set:function(t){if(!Es(t,32))throw new f("Provided track id does not fit in 32 bits.");this.Bs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.Fs},set:function(t){if(!Es(t,32))throw new f("Provided default sample description index does not fit in 32 bits.");this.Fs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.Ms},set:function(t){if(!Es(t,32))throw new f("Provided default sample duration does not fit in 32 bits.");this.Ms=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Us},set:function(t){if(!Es(t,32))throw new f("Provided default sample size does not fit in 32 bits.");this.Us=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.Vs},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!Es(t.samplePaddingValue,3))throw new f("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!Es(t.sampleDegradationPriority,16))throw new f("Provided sample degradation priority does not fit in 16 bits.");this.Vs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+20},n.prototype.serializeBoxContent=function(n){var i;t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),n.writer.writeUInt(this.defaultSampleDescriptionIndex,32),n.writer.writeUInt(this.defaultSampleDuration,32),n.writer.writeUInt(this.defaultSampleSize,32),co(null!==(i=this.defaultSampleFlags)&&void 0!==i?i:{},n)}}(Ds),function(t){function n(){return t.call(this,"mvex")||this}ws(n,t)}(Ys),function(t){function n(i,e,r,u,s){void 0===s&&(s=0);var o,c,a,f=this;return(f=t.call(this,"mvhd",u,s)||this).creationTime=i.creation,f.modificationTime=i.modification,f.timescale=i.scale,f.duration=i.duration,f.rate=null!==(o=r.rate)&&void 0!==o?o:n.DEFAULT_RATE,f.volume=null!==(c=r.volume)&&void 0!==c?c:n.DEFAULT_VOLUME,f.matrix=null!==(a=r.matrix)&&void 0!==a?a:uo,f.qs=e,f}return ws(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"creationTime",{get:function(){return this.Ds},set:function(t){if(!Es(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Ds=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"modificationTime",{get:function(){return this.Ns},set:function(t){if(!Es(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Ns=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"timescale",{get:function(){return this.Cs},set:function(t){if(!Es(t,32))throw new f("Provided sequence number does not fit in 32 bits.");this.Cs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"duration",{get:function(){return this.As},set:function(t){if(!Es(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.As=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"rate",{get:function(){return this.zs},set:function(t){if(!Es(Is(t,16),32))throw new f("Provided rate does not fit in 32 bits (fixed 16.16).");this.zs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"volume",{get:function(){return this.Hs},set:function(t){if(!Es(Is(t,8),16))throw new f("Provided volume does not fit in 16 bits (fixed 8.8).");this.Hs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"matrix",{get:function(){return this.Ws},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new f("(u, v, w) does not match the required (0, 0, 1)");this.Ws=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"nextTrackId",{get:function(){return this.qs},set:function(t){if(0===t)throw new f("NextTrackId cannot be 0.");if(!Es(t,32))throw new f("NextTrackId cannot exceed 32 bits.");this.qs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+2+2+8+36+24+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMvhdContent(n),n.writer.writeUInt(Is(this.rate,16),32),n.writer.writeUInt(Is(this.volume,8),16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),so(this.matrix,n);for(var i=0;i<6;i++)n.writer.writeUInt(0,32);n.writer.writeUInt(this.nextTrackId,32)},n.DEFAULT_RATE=1,n.DEFAULT_VOLUME=1,n}(Ds));(function(t){function n(n,i,e,r){return void 0===e&&(e={}),void 0===r&&(r=0),t.call(this,n,i,e,0,r)||this}ws(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)}})(wo),function(t){function n(n,i,e,r){return void 0===e&&(e={}),void 0===r&&(r=0),t.call(this,n,i,e,1,r)||this}ws(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)}}(wo);var go=function(t){function n(n,i,e,r,u,s,o){void 0===o&&(o={});var c,a,f,h=this;return(h=t.call(this,"tkhd",n,function(t){var n,i,e,r;return{trackEnabled:null===(n=null==t?void 0:t.trackEnabled)||void 0===n||n,trackInMovie:null===(i=null==t?void 0:t.trackInMovie)||void 0===i||i,trackInPreview:null===(e=null==t?void 0:t.trackInPreview)||void 0===e||e,trackSizeIsAspectRatio:null!==(r=null==t?void 0:t.trackSizeIsAspectRatio)&&void 0!==r&&r}}(o))||this).creationTime=i.creation,h.modificationTime=i.modification,h.trackId=e,h.duration=i.duration,h.volume=r,h.width=u,h.height=s,h.layer=null!==(c=o.layer)&&void 0!==c?c:0,h.alternateGroup=null!==(a=o.alternateGroup)&&void 0!==a?a:0,h.matrix=null!==(f=o.matrix)&&void 0!==f?f:uo,h}return ws(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"creationTime",{get:function(){return this.Ds},set:function(t){if(!Es(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Ds=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"modificationTime",{get:function(){return this.Ns},set:function(t){if(!Es(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Ns=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"trackId",{get:function(){return this.Bs},set:function(t){if(0===t)throw new f("trackId cannot be 0.");if(!Es(t,32))throw new f("trackId cannot exceed 32 bits.");this.Bs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"duration",{get:function(){return this.As},set:function(t){if(!Es(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.As=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"volume",{get:function(){return this.Hs},set:function(t){if(!Es(Is(t,8),16))throw new f("Provided volume does not fit in 16 bits (fixed 8.8).");this.Hs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"width",{get:function(){return this.js},set:function(t){if(!Es(Is(t,16),32))throw new f("Provided width does not fit in 32 bits (fixed 16.16).");this.js=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"height",{get:function(){return this.$s},set:function(t){if(!Es(Is(t,16),32))throw new f("Provided height does not fit in 32 bits (fixed 16.16).");this.$s=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"layer",{get:function(){return this.Xs},set:function(t){if(!Es(t,16))throw new f("Provided layer does not fit in 16 bits.");this.Xs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"alternateGroup",{get:function(){return this.Gs},set:function(t){if(!Es(t,16))throw new f("Provided alternateGroup does not fit in 16 bits.");this.Gs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"matrix",{get:function(){return this.Ws},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new f("(u, v, w) does not match the required (0, 0, 1)");this.Ws=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+8+2+2+2+2+36+4+4},n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,20),t.writer.writeBool(this.flags.trackSizeIsAspectRatio),t.writer.writeBool(this.flags.trackInPreview),t.writer.writeBool(this.flags.trackInMovie),t.writer.writeBool(this.flags.trackEnabled)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeTkhdContent(n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.layer,16),n.writer.writeUInt(this.alternateGroup,16),n.writer.writeUInt(Is(this.volume,8),16),n.writer.writeUInt(0,16),so(this.matrix,n),n.writer.writeUInt(Is(this.width,16),32),n.writer.writeUInt(Is(this.height,16),32)},n}(Ds),yo=(function(t){function n(n,i,e,r,u,s){return t.call(this,0,n,i,e,r,u,s)||this}ws(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration,32)}}(go),function(t){function n(n,i,e,r,u,s){return t.call(this,1,n,i,e,r,u,s)||this}ws(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)}}(go),function(t){function n(){return t.call(this,"trak")||this}ws(n,t)}(Ys),function(t){function n(){return t.call(this,"moov")||this}ws(n,t)}(Ys),function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"tfdt",i,e)||this;return r.baseMediaDecodeTime=n,r}return ws(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"baseMediaDecodeTime",{get:function(){return this.Ys},set:function(t){if(!Es(t,this.bitSize))throw new f("Provided baseMediaDecodeTime does not fit in ".concat(this.bitSize," bits."));this.Ys=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(Ds));(function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}ws(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime,32)}})(yo),function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}ws(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseMediaDecodeTime.getLowBitsUnsigned(),32)}}(yo);!function(t){function n(n,i){void 0===i&&(i=0);var e=t.call(this,"tfhd",i,function(t){return{baseDataOffsetPresent:void 0!==t.baseDataOffset,sampleDescriptionIndexPresent:void 0!==t.sampleDescriptionIndex,defaultSampleDurationPresent:void 0!==t.defaultSampleDuration,defaultSampleSizePresent:void 0!==t.defaultSampleSize,defaultSampleFlagsPresent:void 0!==t.defaultSampleFlags,durationIsEmpty:t.durationIsEmpty,defaultBaseIsMoof:t.defaultBaseIsMoof}}(n))||this;return e.trackId=n.trackId,e.baseDataOffset=n.baseDataOffset,e.sampleDescriptionIndex=n.sampleDescriptionIndex,e.defaultSampleDuration=n.defaultSampleDuration,e.defaultSampleSize=n.defaultSampleSize,e.defaultSampleFlags=n.defaultSampleFlags,e}ws(n,t),v.defineProperty(n.prototype,"trackId",{get:function(){return this.Bs},set:function(t){if(!Es(t,32))throw new f("Provided track id does not fit in 32 bits.");this.Bs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"baseDataOffset",{get:function(){return this.Ks},set:function(t){if(void 0===t&&this.flags.baseDataOffsetPresent)throw new f("The base data offset present flag is set.");if(void 0!==t&&!this.flags.baseDataOffsetPresent)throw new f("The base data offset present flag is not set.");if(t&&!Es(t,64))throw new f("Provided baseDataOffset does not fit in 32 bits.");this.Ks=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"sampleDescriptionIndex",{get:function(){return this.Js},set:function(t){if(void 0===t&&this.flags.sampleDescriptionIndexPresent)throw new f("The sample description index flag is set.");if(void 0!==t&&!this.flags.sampleDescriptionIndexPresent)throw new f("The sample description index flag is not set.");if(t&&!Es(t,32))throw new f("Provided sampleDescriptionIndex does not fit in 32 bits.");this.Js=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.Ms},set:function(t){if(void 0===t&&this.flags.defaultSampleDurationPresent)throw new f("The default sample duration present flag is set.");if(void 0!==t&&!this.flags.defaultSampleDurationPresent)throw new f("The default sample duration present flag is not set.");if(t&&!Es(t,32))throw new f("Provided defaultSampleDuration does not fit in 32 bits.");this.Ms=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Us},set:function(t){if(void 0===t&&this.flags.defaultSampleSizePresent)throw new f("The default sample size present flag is set.");if(void 0!==t&&!this.flags.defaultSampleSizePresent)throw new f("The default sample size present flag is not set.");if(t&&!Es(t,32))throw new f("Provided defaultSampleSize does not fit in 32 bits.");this.Us=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.Vs},set:function(t){if(void 0===t&&this.flags.defaultSampleFlagsPresent)throw new f("The default sample flags present flag is set.");if(void 0!==t&&!this.flags.defaultSampleFlagsPresent)throw new f("The default sample flags present flag is not set.");if((null==t?void 0:t.samplePaddingValue)&&!Es(t.samplePaddingValue,3))throw new f("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!Es(t.sampleDegradationPriority,16))throw new f("Provided sample degradation priority does not fit in 16 bits.");this.Vs=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,6),t.writer.writeBool(this.flags.defaultBaseIsMoof),t.writer.writeBool(this.flags.durationIsEmpty),t.writer.writeByte(0),t.writer.writeUInt(0,2),t.writer.writeBool(this.flags.defaultSampleFlagsPresent),t.writer.writeBool(this.flags.defaultSampleSizePresent),t.writer.writeBool(this.flags.defaultSampleDurationPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.sampleDescriptionIndexPresent),t.writer.writeBool(this.flags.baseDataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.baseDataOffsetPresent&&(n+=8),this.flags.sampleDescriptionIndexPresent&&(n+=4),this.flags.defaultSampleDurationPresent&&(n+=4),this.flags.defaultSampleSizePresent&&(n+=4),this.flags.defaultSampleFlagsPresent&&(n+=4),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),this.flags.baseDataOffsetPresent&&(n.writer.writeUInt(this.baseDataOffset.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseDataOffset.getLowBitsUnsigned(),32)),this.flags.sampleDescriptionIndexPresent&&n.writer.writeUInt(this.sampleDescriptionIndex,32),this.flags.defaultSampleDurationPresent&&n.writer.writeUInt(this.defaultSampleDuration,32),this.flags.defaultSampleSizePresent&&n.writer.writeUInt(this.defaultSampleSize,32),this.flags.defaultSampleFlagsPresent&&co(this.defaultSampleFlags,n)}}(Ds);(function(t){function n(n,i,e){var r=t.call(this,"trun",n,function(t){var n,i,e,r;return{dataOffsetPresent:void 0!==t.dataOffset,firstSampleFlagsPresent:void 0!==t.firstSampleFlags,sampleDurationPresent:null!==(n=t.sampleDurationPresent)&&void 0!==n&&n,sampleSizePresent:null!==(i=t.sampleSizePresent)&&void 0!==i&&i,sampleFlagsPresent:null!==(e=t.sampleFlagsPresent)&&void 0!==e&&e,sampleCompositionTimeOffsetsPresent:null!==(r=t.sampleCompositionTimeOffsetsPresent)&&void 0!==r&&r}}(i))||this;return r.dataOffset=i.dataOffset,r.samples=e,r.firstSampleFlags=i.firstSampleFlags,r}ws(n,t),v.defineProperty(n.prototype,"dataOffset",{get:function(){return this.Qs},set:function(t){if(t&&!Es(t,32))throw new f("Provided data offset does not fit in 32 bits.");this.Qs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"firstSampleFlags",{get:function(){return this.Zs},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!Es(t.samplePaddingValue,3))throw new f("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!Es(t.sampleDegradationPriority,16))throw new f("Provided sample degradation priority does not fit in 16 bits.");this.Zs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"samples",{get:function(){return this.to},set:function(t){var n,i;if(!Es(t.length,32))throw new f("The sample count cannot be represented in 32 bits.");for(var e=0,r=t;e<r.length;e++){var u=r[e];if(void 0===u.duration&&this.flags.sampleDurationPresent)throw new f("The sample duration present flag is set.");if(void 0!==u.duration&&!this.flags.sampleDurationPresent)throw new f("The sample duration present flag is not set.");if(u.duration&&!Es(u.duration,32))throw new f("Provided sample duration does not fit in 32 bits.");if(void 0===u.size&&this.flags.sampleSizePresent)throw new f("The sample size present flag is set.");if(void 0!==u.size&&!this.flags.sampleSizePresent)throw new f("The sample size present flag is not set.");if(u.size&&!Es(u.size,32))throw new f("Provided sample size does not fit in 32 bits.");if(void 0===u.flags&&this.flags.sampleFlagsPresent)throw new f("The sample flags present flag is set.");if(void 0!==u.flags&&!this.flags.sampleFlagsPresent)throw new f("The sample flags present flag is not set.");if((null===(n=u.flags)||void 0===n?void 0:n.samplePaddingValue)&&!Es(u.flags.samplePaddingValue,3))throw new f("Provided sample padding value does not fit in 3 bits.");if((null===(i=u.flags)||void 0===i?void 0:i.sampleDegradationPriority)&&!Es(u.flags.sampleDegradationPriority,16))throw new f("Provided sample degradation priority does not fit in 16 bits.");if(void 0===u.compositionTimeOffset&&this.flags.sampleCompositionTimeOffsetsPresent)throw new f("The sample compositionTimeOffset present flag is set.");if(void 0!==u.compositionTimeOffset&&!this.flags.sampleCompositionTimeOffsetsPresent)throw new f("The sample compositionTimeOffset present flag is not set.");if(u.compositionTimeOffset&&!Es(u.compositionTimeOffset,32))throw new f("Provided sample compositionTimeOffset does not fit in 32 bits.")}this.to=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeByte(0),t.writer.writeUInt(0,4),t.writer.writeBool(this.flags.sampleCompositionTimeOffsetsPresent),t.writer.writeBool(this.flags.sampleFlagsPresent),t.writer.writeBool(this.flags.sampleSizePresent),t.writer.writeBool(this.flags.sampleDurationPresent),t.writer.writeUInt(0,5),t.writer.writeBool(this.flags.firstSampleFlagsPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.dataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.dataOffsetPresent&&(n+=4),this.flags.firstSampleFlagsPresent&&(n+=4),this.flags.sampleDurationPresent&&(n+=4*this.samples.length),this.flags.sampleSizePresent&&(n+=4*this.samples.length),this.flags.sampleFlagsPresent&&(n+=4*this.samples.length),this.flags.sampleCompositionTimeOffsetsPresent&&(n+=4*this.samples.length),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32),this.flags.dataOffsetPresent&&n.writer.writeUInt(this.dataOffset,32),this.flags.firstSampleFlagsPresent&&co(this.firstSampleFlags,n);for(var i=0,e=this.samples;i<e.length;i++){var r=e[i];this.flags.sampleDurationPresent&&n.writer.writeUInt(r.duration,32),this.flags.sampleSizePresent&&n.writer.writeUInt(r.size,32),this.flags.sampleFlagsPresent&&co(r.flags,n),this.flags.sampleCompositionTimeOffsetsPresent&&(0===this.version?n.writer.writeUInt(r.compositionTimeOffset,32):n.writer.writeInt(r.compositionTimeOffset,32))}}})(Ds),function(t){function n(){return t.call(this,"traf")||this}ws(n,t)}(Ys),function(t){function n(){return t.call(this,"moof")||this}ws(n,t)}(Ys),function(t){function n(n){var i=t.call(this,"mfhd",0,0)||this;return i.sequenceNumber=n,i}ws(n,t),v.defineProperty(n.prototype,"sequenceNumber",{get:function(){return this.io},set:function(t){if(!Es(t,32))throw new f("Provided sequence number does not fit in 32 bits.");this.io=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.sequenceNumber,32)}}(Ds);var mo=function(t){function n(n){var i=t.call(this,"frma")||this;return i.codingName=n,i}return ws(n,t),v.defineProperty(n.prototype,"codingName",{get:function(){return this.eo},set:function(t){if(4!==t.length)throw new f("Provided coding name was not 4 characters long.");this.eo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.codingName)},n}(Ss),bo=(function(t){function n(n,i){var e=t.call(this,"pasp")||this;return e.hSpacing=n,e.vSpacing=i,e}ws(n,t),v.defineProperty(n.prototype,"hSpacing",{get:function(){return this.ro},set:function(t){if(!Es(t,32))throw new f("Provided hSpacing does not fit in 32 bits.");this.ro=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"vSpacing",{get:function(){return this.uo},set:function(t){if(!Es(t,32))throw new f("Provided vSpacing does not fit in 32 bits.");this.uo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.hSpacing,32),t.writer.writeUInt(this.vSpacing,32)}}(Ss),function(t){function n(n,i,e){var r=t.call(this,n)||this;return r.sample=i,r.sinf=e,r}ws(n,t),n.prototype.getBoxContentSize=function(){return this.sample.getBoxContentSize()+this.sinf.getSize()},n.prototype.serializeBoxContent=function(t){this.sample.serializeBoxContent(t),t.concat(this.sinf.serialize())}}(Ys),function(t){function n(n,i,e){var r=t.call(this,"sinf")||this;return r.schm=i,r.schi=e,r.frma=new mo(n),r}ws(n,t),n.prototype.getBoxContentSize=function(){var t,n,i,e;return this.frma.getSize()+(null!==(n=null===(t=this.schm)||void 0===t?void 0:t.getSize())&&void 0!==n?n:0)+(null!==(e=null===(i=this.schi)||void 0===i?void 0:i.getSize())&&void 0!==e?e:0)},n.prototype.serializeBoxContent=function(t){t.concat(this.frma.serialize()),this.schm&&t.concat(this.schm.serialize()),this.schi&&t.concat(this.schi.serialize())}}(Ss),function(t){function n(n,i,e){var r=t.call(this,"saio",n,void 0===e?0:1)||this;return r.entries=i,r.explicitAuxInfoType=e,r}return ws(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"entries",{get:function(){return this.ds},set:function(t){var n=this;if(!Es(t.length,32))throw new f("Number of entries provided does not fit in 32 bits.");if(t.some(function(t){return!Es(t,n.bitSize)}))throw new f("Not all provided entries fit in ".concat(this.bitSize," bits."));this.ds=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.so},set:function(t){if(void 0===t)this.flags=0;else{if(!Es(t.auxInfoType,32))throw new f("Provided auxInfoType does not fit in 32 bits.");if(!Es(t.auxInfoTypeParameter,32))throw new f("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.so=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+4+this.entries.length*this.bitSize/8},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeUInt(this.entries.length,32),this.serializeSaioContent(n)},n}(Ds)),po=(function(t){function n(){return null!==t&&t.apply(this,arguments)||this}ws(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var e=i[n];t.writer.writeUInt(e,32)}}}(bo),function(t){function n(){return null!==t&&t.apply(this,arguments)||this}ws(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var e=i[n];t.writer.writeUInt(e.getHighBitsUnsigned(),32),t.writer.writeUInt(e.getLowBitsUnsigned(),32)}}}(bo),function(t){function n(n,i,e){var r=t.call(this,"saiz",0,void 0===e?0:1)||this;return r.defaultSampleInfoSize=n,r.sampleInfoSizes=i,r.explicitAuxInfoType=e,r}ws(n,t),v.defineProperty(n.prototype,"defaultSampleInfoSize",{get:function(){return this.oo},set:function(t){if(!Es(t,8))throw new f("Provided defaultSampleInfoSize does not fit in a single byte.");this.oo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"sampleInfoSizes",{get:function(){return this.co},set:function(t){if(!Es(t.length,32))throw new f("Number of sampleInfoSizes provided does not fit in 32 bits.");if(t.some(function(t){return!Es(t,8)}))throw new f("Not all provided sampleInfoSizes fit in a byte.");this.co=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.so},set:function(t){if(void 0===t)this.flags=0;else{if(!Es(t.auxInfoType,32))throw new f("Provided auxInfoType does not fit in 32 bits.");if(!Es(t.auxInfoTypeParameter,32))throw new f("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.so=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+1+4+(0===this.defaultSampleInfoSize?0:this.sampleInfoSizes.length)},n.prototype.serializeBoxContent=function(n){if(0===this.defaultSampleInfoSize&&this.sampleInfoSizes.length>0)throw new f("Both a default size and specific sizes are provided.  This is prohibited.");t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeByte(this.defaultSampleInfoSize),n.writer.writeUInt(this.sampleInfoSizes.length,32);for(var i=0,e=this.sampleInfoSizes;i<e.length;i++){var r=e[i];n.writer.writeByte(r)}}}(Ds),function(t){function n(n){var i=t.call(this,"sdtp",0,0)||this;return i.samples=n,i}ws(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.samples.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n);for(var i=0,e=this.samples;i<e.length;i++){oo(e[i],n)}}}(Ds),function(t){function n(n){return t.call(this,"stsd",n,0)||this}ws(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(Qs),function(t){function n(n,i,e){var r=t.call(this,"sgpd",n,0)||this;return r.entries=e,r.groupingType=i,r}return ws(n,t),v.defineProperty(n.prototype,"groupingType",{get:function(){return this.ao},set:function(t){if(4!==t.length)throw new f("The provided groupingType does not equal 4 characters.");this.ao=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.groupingType),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];this.serializeEntryBoxContent(n,r)}},n.prototype.serializeEntryBoxContent=function(t,n){n.serializeBoxContent(t)},n}(Ds)),_o=(function(t){function n(n,i){return t.call(this,0,n,i)||this}ws(n,t),n.prototype.serializeVersionBoxContent=function(t){}}(po),function(t){function n(n,i,e){var r=t.call(this,1,n,e)||this;return r.defaultLength=i,r}ws(n,t),v.defineProperty(n.prototype,"defaultLength",{get:function(){return this.fo},set:function(t){if(!Es(t,32))throw new f("The provided defaultLength does not fit in 32 bits.");this.fo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(this.defaultLength||4)},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultLength,32)},n.prototype.serializeEntryBoxContent=function(t,n){0===this.defaultLength&&t.writer.writeUInt(n.getBoxContentSize(),32),n.serializeBoxContent(t)}}(po),function(t){function n(n,i,e,r){void 0===r&&(r=0);var u=this;if(n<2)throw new f("This constructor is only meant for versions 2 and up.");return(u=t.call(this,n,i,e)||this).defaultSampleDescriptionIndex=r,u}ws(n,t),v.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.Fs},set:function(t){if(!Es(t,32))throw new f("The provided defaultSampleDescriptionIndex does not fit in 32 bits.");this.Fs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultSampleDescriptionIndex,32)}}(po),function(t){function n(n){void 0===n&&(n=[]);var i=t.call(this,"stsz",0,0)||this;return i.sampleSizes=n,i}ws(n,t),v.defineProperty(n.prototype,"sampleSizes",{get:function(){return this.ho},set:function(t){if(!Es(t.length,32))throw new f("Number of allowed samples cannot fit in 32 bits.");if(t.some(function(t){return!Es(t,32)}))throw new f("Not all sampleSizes can be represented in 32 bits.");this.ho=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+4*this.sampleSizes.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(this.sampleSizes.length,32);for(var i=0,e=this.sampleSizes;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(Ds),function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=0);var e=t.call(this,"stsz",0,0)||this;return e.defaultSampleSize=n,e.samples=i,e}ws(n,t),v.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Us},set:function(t){if(!Es(t,32))throw new f("Provided defaultSampleSize does not fit in 32 bits.");this.Us=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"samples",{get:function(){return this.to},set:function(t){if(!Es(t,32))throw new f("Number of allowed samples cannot fit in 32 bits.");this.to=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.defaultSampleSize,32),n.writer.writeUInt(this.samples,32)}}(Ds),function(t){function n(){return t.call(this,"stbl")||this}ws(n,t)}(Ys),function(t){function n(n){var i=t.call(this,"stsc",0,0)||this;return i.entries=n,i}ws(n,t),v.defineProperty(n.prototype,"entries",{get:function(){return this.ds},set:function(t){if(!Es(t.length,32))throw new f("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!Es(t.firstChunk,32)||!Es(t.sampleDescriptionIndex,32)||!Es(t.samplesPerChunk,32)}))throw new f("Not all entries can be represented in 96 bits.");this.ds=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+12*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.firstChunk,32),n.writer.writeUInt(r.samplesPerChunk,32),n.writer.writeUInt(r.sampleDescriptionIndex,32)}}}(Ds),function(t){function n(){return t.call(this,"schi")||this}ws(n,t)}(Ys),function(t){function n(n,i,e){var r=t.call(this,"schm",0,void 0===e?0:1)||this;return r.schemeType=n,r.schemeVersion=i,r.schemeUri=e,r}ws(n,t),v.defineProperty(n.prototype,"schemeType",{get:function(){return this.vo},set:function(t){if(4!==t.length)throw new f("The provided schemeType does not have a length of 4.");this.vo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"schemeVersion",{get:function(){return this.do},set:function(t){if(!Es(t,32))throw new f("The provided schemeVersion does not fit in 23 bits.");this.do=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"schemeUri",{get:function(){return this.lo},set:function(t){if(t&&4!==t.length)throw new f("The provided schemeUri does not have a length of 4.");this.flags=void 0===t?0:1,this.lo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+(void 0===this.schemeUri?0:this.schemeUri.length+1)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeType),n.writer.writeUInt(this.schemeVersion,32),this.schemeUri&&(n.writer.writeString(this.schemeUri),n.writer.writeByte(0))}}(Ds),function(t){function n(n,i,e,r,u,s,o){void 0===o&&(o=0);var c=t.call(this,"sidx",n,o)||this;return c.referenceId=i,c.timescale=e,c.earliestPresentationTime=r,c.firstOffset=u,c.references=s,c}return ws(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"referenceId",{get:function(){return this.wo},set:function(t){if(!Es(t,32))throw new f("Provided referenceId does not fit in 32 bits.");this.wo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"timescale",{get:function(){return this.Cs},set:function(t){if(!Es(t,32))throw new f("Provided timescale does not fit in 32 bits.");this.Cs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"earliestPresentationTime",{get:function(){return this.yo},set:function(t){if(!Es(t,this.bitSize))throw new f("Provided earliestPresentationTime does not fit in ".concat(this.bitSize," bits."));this.yo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"firstOffset",{get:function(){return this.mo},set:function(t){if(!Es(t,this.bitSize))throw new f("Provided timescale does not fit in ".concat(this.bitSize," bits."));this.mo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"references",{get:function(){return this.bo},set:function(t){if(!Es(t.length,16))throw new f("The number of provided reference items does not fit in 16 bits.");for(var n=0,i=t;n<i.length;n++){var e=i[n];if(!Es(e.referencedSize,31))throw new f("Provided referenced size does not fit in 31 bits.");if(!Es(e.subsegmentDuration,32))throw new f("Provided subsegment duration does not fit in 31 bits.");if(!Es(e.sapType,3))throw new f("Provided SAP type does not fit in 3 bits.");if(!Es(e.sapDeltaTime,28))throw new f("Provided SAP delta time does not fit in 28 bits.")}this.bo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+this.bitSize/8*2+2+2+12*this.references.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.referenceId,32),n.writer.writeUInt(this.timescale,32),this.serializeSidxBoxContent(n),n.writer.writeUInt(0,16),n.writer.writeUInt(this.references.length,16);for(var i=0,e=this.references;i<e.length;i++){var r=e[i];n.writer.writeBit(r.referenceType),n.writer.writeUInt(r.referencedSize,31),n.writer.writeUInt(r.subsegmentDuration,32),n.writer.writeBool(r.startsWithSap),n.writer.writeUInt(r.sapType,3),n.writer.writeUInt(r.sapDeltaTime,28)}},n}(Ds)),ko=(function(t){function n(n,i,e,r,u,s){return void 0===s&&(s=0),t.call(this,0,n,i,e,r,u,s)||this}ws(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime,32),t.writer.writeUInt(this.firstOffset,32)}}(_o),function(t){function n(n,i,e,r,u,s){return void 0===s&&(s=0),t.call(this,1,n,i,e,r,u,s)||this}ws(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.earliestPresentationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getHighBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getLowBitsUnsigned(),32)}}(_o),function(t){function n(n,i,e){return t.call(this,"styp",n,i,e)||this}ws(n,t)}(to),function(t){function n(n){void 0===n&&(n=0);var i=t.call(this,"smhd",0,0)||this;return i.balance=n,i}ws(n,t),v.defineProperty(n.prototype,"balance",{get:function(){return this.po},set:function(t){if(t<-1||t>1)throw new f("Provided balance does not fit in the allowed range [-1, 1].");if(!Es(Is(t,8),16))throw new f("Provided balance does not fit in 16 bits (fixed 8.8).");this.po=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(Is(this.balance,8),16),n.writer.writeUInt(0,16)}}(Ds),function(t){function n(n){var i=t.call(this,"stss",0,0)||this;return i.entries=n,i}ws(n,t),v.defineProperty(n.prototype,"entries",{get:function(){return this.ds},set:function(t){if(!Es(t.length,32))throw new f("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!Es(t,32)}))throw new f("Not all entries can be represented in 32 bits.");this.ds=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(Ds),function(t){function n(n){var i=t.call(this,"stts",0,0)||this;return i.entries=n,i}ws(n,t),v.defineProperty(n.prototype,"entries",{get:function(){return this.ds},set:function(t){if(!Es(t.length,32))throw new f("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!Es(t.sampleCount,32)||!Es(t.sampleDelta,32)}))throw new f("Not all entries can be represented in 64 bits.");this.ds=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.sampleCount,32),n.writer.writeUInt(r.sampleDelta,32)}}}(Ds),function(t){function n(n){var i=t.call(this,"trep",0,0)||this;return i.trackId=n,i}ws(n,t),v.defineProperty(n.prototype,"trackId",{get:function(){return this.Bs},set:function(t){if(!Es(t,32))throw new f("The provided trackId does not fit in 32 bits.");this.Bs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32)}}(Qs),function(t){function n(){return t.call(this,"udta")||this}ws(n,t)}(Ys),{red:0,green:0,blue:0}),To=(function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=ko);var e=t.call(this,"vmhd",0,1)||this;return e.graphicsMode=n,e.opColor=i,e}ws(n,t),v.defineProperty(n.prototype,"opColor",{get:function(){return this._o},set:function(t){if(!Es(t.red,16)||!Es(t.green,16)||!Es(t.blue,16))throw new f("Not all colors could be represented in 16 bits.");this._o=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+6},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.graphicsMode,16),n.writer.writeUInt(this.opColor.red,16),n.writer.writeUInt(this.opColor.green,16),n.writer.writeUInt(this.opColor.blue,16)}}(Ds),function(t){function n(n,i,e,r,u){void 0===r&&(r={}),void 0===u&&(u=void 0);var s,o,c,a,f,h=this;return(h=t.call(this,n,i)||this).width=e.width,h.height=e.height,h.horizontalResolution=null!==(s=e.horizontal)&&void 0!==s?s:72,h.verticalResolution=null!==(o=e.vertical)&&void 0!==o?o:72,h.compressorName=null!==(c=r.compressorName)&&void 0!==c?c:"",h.frameCount=null!==(a=r.frameCount)&&void 0!==a?a:1,h.depth=null!==(f=r.depth)&&void 0!==f?f:24,h.clap=r.clap,h.pasp=r.pasp,h.extra=u,h}return ws(n,t),v.defineProperty(n.prototype,"width",{get:function(){return this.js},set:function(t){if(!Es(t,16))throw new f("Provided width does not fit in 16 bits.");this.js=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"height",{get:function(){return this.$s},set:function(t){if(!Es(t,16))throw new f("Provided height does not fit in 16 bits.");this.$s=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"horizontalResolution",{get:function(){return this.ko},set:function(t){if(!Es(Is(t,16),32))throw new f("Provided horizontalResolution does not fit in 32 bits (fixed 16.16).");this.ko=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"verticalResolution",{get:function(){return this.To},set:function(t){if(!Es(Is(t,16),32))throw new f("Provided verticalResolution does not fit in 32 bits (fixed 16.16).");this.To=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"compressorName",{get:function(){return this.So},set:function(t){if(t.length>31)throw new f("The provided compressorName should at most be 31 characters long.");this.So=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"frameCount",{get:function(){return this.Eo},set:function(t){if(!Es(t,16))throw new f("Provided frameCount does not fit in 16 bits.");this.Eo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"depth",{get:function(){return this.Io},set:function(t){if(!Es(t,16))throw new f("Provided depth does not fit in 16 bits.");this.Io=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i,e,r,u,s;return t.prototype.getBoxContentSize.call(this)+2+2+12+2+2+4+4+4+2+32+2+2+(null!==(i=null===(n=this.clap)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)+(null!==(r=null===(e=this.pasp)||void 0===e?void 0:e.getSize())&&void 0!==r?r:0)+(null!==(s=null===(u=this.extra)||void 0===u?void 0:u.length)&&void 0!==s?s:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.width,16),n.writer.writeUInt(this.height,16),n.writer.writeUInt(Is(this.horizontalResolution,16),32),n.writer.writeUInt(Is(this.verticalResolution,16),32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.frameCount,16),n.writer.writeByte(this.compressorName.length),n.writer.writeString(this.compressorName);for(var i=0;i<31-this.compressorName.length;i++)n.writer.writeByte(0);n.writer.writeUInt(this.depth,16),n.writer.writeInt(-1,16),this.clap&&n.concat(this.clap.serialize()),this.pasp&&n.concat(this.pasp.serialize()),this.extra&&Rs(n.writer,this.extra)},n}(Ks)),So=(function(t){function n(n){var i=t.call(this,"esds",0,0)||this;return i.esDescriptor=n,i}ws(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(this.esDescriptor instanceof y?this.esDescriptor.length:this.esDescriptor.getSize())},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor instanceof y?n.concat(_s.from(this.esDescriptor)):this.esDescriptor.serialize(n)}}(Ds),function(t){function n(n,i,e){var r=t.call(this,"mp4a",n,e)||this;return r.esd=i,r}ws(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esd.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.esd.serialize())}}(Js),function(t){function n(n,i,e,r){void 0===r&&(r={});var u=t.call(this,"mp4v",n,i,r)||this;return u.esDescriptor=e,u}ws(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(To),function(t){function n(n,i){var e=t.call(this,"mp4s",n)||this;return e.esDescriptor=i,e}ws(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(Ks),function(t){function n(n){var i=t.call(this,"avcC")||this;return i.decoderConfig=n,i}ws(n,t),n.prototype.getBoxContentSize=function(){return this.decoderConfig.getSize()},n.prototype.serializeBoxContent=function(t){this.decoderConfig.serialize(t)}}(Ss),function(){function t(t,n,i,e,r,u){void 0===u&&(u=1),this.lengthSizeMinusOne=i,this.version=u,this.profileIndication=t.indication,this.profileCompatibility=t.compatibility,this.levelIndication=n,this.spsSets=e,this.ppsSets=r}v.defineProperty(t.prototype,"version",{get:function(){return this.Ro},set:function(t){if(!Es(t,8))throw new f("Provided version does not fit in 8 bits.");this.Ro=t},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"profileIndication",{get:function(){return this.Do},set:function(t){if(!Es(t,8))throw new f("Provided profileIndication does not fit in 8 bits.");this.Do=t},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"profileCompatibility",{get:function(){return this.No},set:function(t){if(!Es(t,8))throw new f("Provided profileCompatibility does not fit in 8 bits.");this.No=t},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"levelIndication",{get:function(){return this.Co},set:function(t){if(!Es(t,8))throw new f("Provided levelIndication does not fit in 8 bits.");this.Co=t},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"spsSets",{get:function(){return this.Ao},set:function(t){if(!Es(t.length,5))throw new f("Provided number of spsSets exceeds the max (32)");this.Ao=t},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"ppsSets",{get:function(){return this.Oo},set:function(t){if(!Es(t.length,8))throw new f("Provided number of ppsSets exceeds the max (256)");this.Oo=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return 7+2*this.spsSets.length+this.spsSets.reduce(function(t,n){return t+n.length},0)+2*this.ppsSets.length+this.ppsSets.reduce(function(t,n){return t+n.length},0)},t.prototype.serialize=function(t){t.writer.writeByte(this.version),t.writer.writeByte(this.profileIndication),t.writer.writeByte(this.profileCompatibility),t.writer.writeByte(this.levelIndication),t.writer.writeBits([1,1,1,1,1,1]),t.writer.writeUInt(this.lengthSizeMinusOne,2),t.writer.writeBits([1,1,1]),t.writer.writeUInt(this.spsSets.length,5);for(var n=0,i=this.spsSets;n<i.length;n++){var e=i[n];t.writer.writeUInt(e.length,16),t.concat(_s.from(e))}t.writer.writeByte(this.ppsSets.length);for(var r=0,u=this.ppsSets;r<u.length;r++){var s=u[r];t.writer.writeUInt(s.length,16),t.concat(_s.from(s))}}}(),function(t){function n(n,i,e,r,u){void 0===r&&(r={}),void 0===u&&(u=void 0);var s=t.call(this,"avc1",n,i,r)||this;return s.configurationBox=e,s.bitrateBox=u,s}ws(n,t),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+this.configurationBox.getSize()+(null!==(i=null===(n=this.bitrateBox)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.configurationBox.serialize()),this.bitrateBox&&n.concat(this.bitrateBox.serialize())}}(To),function(t){function n(n,i,e){var r=t.call(this,"btrt")||this;return r.bufferSizeDb=n,r.max=i,r.avg=e,r}ws(n,t),v.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.ts},set:function(t){if(!Es(t,32))throw new f("Provided bufferSizeDb does not fit in 32 bits.");this.ts=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"max",{get:function(){return this.Po},set:function(t){if(!Es(t,32))throw new f("Provided max does not fit in 32 bits.");this.Po=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"avg",{get:function(){return this.xo},set:function(t){if(!Es(t,32))throw new f("Provided avg does not fit in 32 bits.");this.xo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 12},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.bufferSizeDb,32),t.writer.writeUInt(this.max,32),t.writer.writeUInt(this.avg,32)}}(Ss),function(t){function n(n,i){var e,r,u,s,o=this;if(o=t.call(this,"tenc",n,0)||this,i.perSampleIvSize>0&&(null!==(r=null===(e=i.constantIv)||void 0===e?void 0:e.length)&&void 0!==r?r:0)>0)throw new f("Either perSampleSize should be > 0 or constantIv should be defined. Not both.");return o.kId=i.kId,o.isProtected=null!==(u=i.isProtected)&&void 0!==u?u:1,i.perSampleIvSize>0?o.perSampleIvSize=i.perSampleIvSize:o.constantIv=null!==(s=i.constantIv)&&void 0!==s?s:new y(0),o}return ws(n,t),v.defineProperty(n.prototype,"isProtected",{get:function(){return this.Lo},set:function(t){if(!Es(t,8))throw new f("Provided isProtected does not fit in 1 byte.");this.Lo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"perSampleIvSize",{get:function(){return this.Bo},set:function(t){if(![8,16].includes(t))throw new f("Provided perSampleIvSize does not match any allowed value [8, 16].");this.Bo=t,this.Fo=new y(0)},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"kId",{get:function(){return this.Mo},set:function(t){if(16!==t.length)throw new f("Provided kId length is not 16.");this.Mo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"constantIv",{get:function(){return this.Fo},set:function(t){if(![8,16].includes(t.length))throw new f("Provided constant IV length does not match any allowed value [8, 16].");this.Fo=t,this.Bo=0},enumerable:!1,configurable:!0}),n.prototype.getTencHeaderSize=function(){return 20+(this.constantIv.length>0?1+this.constantIv.length:0)},n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.getTencHeaderSize()},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeByte(0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeOwnContent(n)},n.prototype.serializeOwnContent=function(t){t.writer.writeByte(0),this.serializeVersionBoxContent(t),t.writer.writeByte(this.isProtected),t.writer.writeByte(this.perSampleIvSize),Rs(t.writer,this.kId),0===this.perSampleIvSize&&(t.writer.writeByte(this.constantIv.length),Rs(t.writer,this.constantIv))},n}(Ds)),Eo=(function(t){function n(n){return t.call(this,0,n)||this}ws(n,t)}(So),function(t){function n(n){var i=t.call(this,1,n)||this;return i.cryptByteBlocks=n.cryptByteBlock,i.skipByteBlocks=n.skipByteBlock,i}return ws(n,t),v.defineProperty(n.prototype,"cryptByteBlocks",{get:function(){return this.Uo},set:function(t){if(!Es(t,4))throw new f("Provided cryptByteBlocks does not fit in 4 bits.");this.Uo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"skipByteBlocks",{get:function(){return this.Vo},set:function(t){if(!Es(t,4))throw new f("Provided skipByteBlocks does not fit in 4 bits.");this.Vo=t},enumerable:!1,configurable:!0}),n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.cryptByteBlocks,4),t.writer.writeUInt(this.skipByteBlocks,4)},n}(So));!function(t){function n(n){var i=t.call(this)||this;return i.tencBox=new Eo(n),i}ws(n,t),n.prototype.serializeBoxContent=function(t){this.tencBox.serializeOwnContent(t)},n.prototype.getBoxContentSize=function(){return this.tencBox.getTencHeaderSize()}}(ao);function Io(t){return void 0!==t.iv}function Ro(t){return void 0!==t.subsamples}(function(t){function n(n){var i=t.call(this,"senc",0,{useSubsampleEncryption:!1})||this;return i.samples=n,i}ws(n,t),v.defineProperty(n.prototype,"samples",{get:function(){return this.to},set:function(t){var n;if(!Es(t.length,32))throw new f("The number of samples provided does not fit in 32 bits.");for(var i=0,e=t;i<e.length;i++){var r=e[i];if(Io(r)&&![8,16].includes(r.iv.length))throw new f("IV of one of the provided samples did not satisfy the required length constraints. [8, 16]");if(void 0===n&&(n=Ro(r)),!0===n&&!Ro(r)||!1===n&&Ro(r))throw new f("Mix of samples with and without subsamples detected.");if(Ro(r)){if(!Es(r.subsamples.length,16))throw new f("Subsample length of one of the provided samples does not fit in 16 bits.");for(var u=0,s=r.subsamples;u<s.length;u++){var o=s[u];if(!Es(o.clearData,16))throw new f("Subsample clearData of one of the provided samples does not fit in 16 bits.");if(!Es(o.protectedData,23))throw new f("Subsample protectedData of one of the provided samples does not fit in 23 bits.")}}}this.flags.useSubsampleEncryption=null!=n&&n,this.to=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){for(var n=0,i=0,e=this.samples;i<e.length;i++){var r=e[i];Io(r)&&(n+=r.iv.length),Ro(r)&&(n+=2+6*r.subsamples.length)}return t.prototype.getBoxContentSize.call(this)+4+n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32);for(var i=0,e=this.samples;i<e.length;i++){var r=e[i];if(Io(r)&&Rs(n.writer,r.iv),Ro(r)){n.writer.writeUInt(r.subsamples.length,16);for(var u=0,s=r.subsamples;u<s.length;u++){var o=s[u];n.writer.writeUInt(o.clearData,16),n.writer.writeUInt(o.protectedData,32)}}}},n.prototype.serializeFlags=function(t){t.writer.writeUInt(this.flags.useSubsampleEncryption?2:0,24)}})(Ds),function(t){function n(n,i,e,r,u){var s=t.call(this,"emsg",0,0)||this;return s.schemeIdUri=n,s.value=i,s.data=u,s.id=e,s.timescale=r.timescale,s.presentationTimeDelta=r.presentationTimeDelta,s.eventDuration=r.eventDuration,s}ws(n,t),v.defineProperty(n.prototype,"timescale",{get:function(){return this.Cs},set:function(t){if(!Es(t,32))throw new f("The provided timescale does not fit in 32 bits.");this.Cs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"presentationTimeDelta",{get:function(){return this.qo},set:function(t){if(!Es(t,32))throw new f("The provided presentationTimeDelta does not fit in 32 bits.");this.qo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"eventDuration",{get:function(){return this.zo},set:function(t){if(!Es(t,32))throw new f("The provided eventDuration does not fit in 32 bits.");this.zo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"id",{get:function(){return this.Ho},set:function(t){if(!Es(t,32))throw new f("The provided id does not fit in 32 bits.");this.Ho=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.schemeIdUri.length+1+this.value.length+1+16+this.data.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeIdUri),n.writer.writeByte(0),n.writer.writeString(this.value),n.writer.writeByte(0),n.writer.writeUInt(this.timescale,32),n.writer.writeUInt(this.presentationTimeDelta,32),n.writer.writeUInt(this.eventDuration,32),n.writer.writeUInt(this.id,32),n.concat(_s.from(this.data))}}(Ds);var Do,No,Co=(Do="pssh",No=function(t){var n=t.data.nextUint8();t.data.skip(3);var i=t.data.nextUint8Array(16),e=[];if(1===n)for(var r=t.data.nextUint32(),u=0;u<r;u++)e.push(t.data.nextUint8Array(16));var s=t.data.nextUint32(),o=t.data.nextUint8Array(s);return 1===n?new vo(i,o,e):new ho(i,o)},function(t){var n,i=function(t,n){for(var i=t.data,e=t.cursor;e.offset<i.byteLength;){var r=js(i,e);if(!r.complete)return;if(Hs(r.box,n))return r.box}}(new zs((n=t,new DataView(n.buffer,n.byteOffset,n.byteLength)),new qs),Do);if(!i)throw new f("".concat(Do," box not found"));return No(i)}),Ao=function(t){function n(n,i){var e;(e=t.call(this)||this).Wo=void 0,e.jo=!1,e.$o=void 0,e.Xo=void 0,e.Go=function(){e.Yo()},e.Ko=function(t){e.Xr(new eu(un(e),t.messageType,hs(e.Jo,t.message)))},e.Qo=function(){e.jo=!0,e.Wo.pu>0&&(e.Wo.bu(),e.Xr(new iu(un(e)))),e.Zo.removeEventListener("keystatuseschange",e.Go),e.Zo.removeEventListener("message",e.Ko)},e.Zo=n,e.Jo=i,e.Zo.addEventListener("keystatuseschange",e.Go),e.Zo.addEventListener("message",e.Ko),e.Wo=new ou;var r=[];return e.Zo.closed&&r.push(j.resolve(e.Zo.closed)),e.Xo=new cs,r.push(e.Xo.Nu),e.$o=j.race(r).then(e.Qo,e.Qo),e.Yo(),e}vt(n,t);var i=n.prototype;return i.tc=function(){if(this.jo)return this.$o;var t,n,i=[];return i.push(j.resolve(this.Zo.close())),i.push((t=1e3,new j(function(i,e){if(void 0!==n&&n.Dr)e(new Fr);else{var r=st.De(function(){void 0!==n&&n.Lr(u),i()},t),u=function(){st.Ce(r),e(new Fr)};void 0!==n&&n.xr(u)}}))),this.Xo.Ou(j.race(i).catch(Oo)),this.jo=!0,this.$o},i.nc=function(t,n,i){if(St._n){var e=Co(rs(n));if(1===e.version)n=new ho(e.systemId,e.data).serialize().join()}return j.resolve(this.Zo.generateRequest(t,n)).catch(Oo)},i.ic=function(t){return j.resolve(this.Zo.load(t)).catch(Oo)},i.ec=function(){return j.resolve(this.Zo.remove()).catch(Oo)},i.rc=function(t){return j.resolve(this.Zo.update(t)).catch(Oo)},i.Yo=function(){var t=this;this.Wo.bu(),this.Zo.keyStatuses.forEach(function(n,i){t.uc(i,n)}),this.Xr(new iu(this))},i.uc=function(t,n){if("string"==typeof t){var i=t;t=n,n=i}var e=rs(t);if(this.Jo===er&&16===e.byteLength){var r=ns(e),u=r.getUint32(0,!0),s=r.getUint16(4,!0),o=r.getUint16(6,!0);r.setUint32(0,u,!1),r.setUint16(4,s,!1),r.setUint16(6,o,!1)}this.Jo===er&&"status-pending"===n&&(n="usable"),this.Wo.mu(e,n)},ft(n,[{key:"sc",get:function(){return this.$o}},{key:"oc",get:function(){return this.Zo.expiration}},{key:"cc",get:function(){return this.Wo}},{key:"ac",get:function(){return this.Zo.sessionId}}]),n}(Jr);function Oo(t){var n;if(t.message){var i=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);i&&(n=0|l(i[1],16))}throw new ds(t.message,void 0,n,t)}var Po=function(){function t(t,n,i){this.fc=t,this.hc=n,this.vc=i}var n=t.prototype;return n.dc=function(t){return ze.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Ao(this.fc.createSession(t),this.hc));case 1:case"end":return n.stop()}},null,this,null,j)},n.lc=function(t){return j.resolve(this.fc.setServerCertificate(t))},n.wc=function(t){return j.resolve(t.setMediaKeys(this.fc))},n.gc=function(t){return j.resolve(t.setMediaKeys(null))},t}(),xo=function(){function t(t,n,i){this.yc=t,this.Jo=n,this.mc=i}var n=t.prototype;return n.bc=function(){var t;return ze.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ze.awrap(this.yc.createMediaKeys());case 2:return t=n.sent,n.abrupt("return",new Po(t,this.Jo,this.mc));case 4:case"end":return n.stop()}},null,this,null,j)},n.pc=function(){return this.mc},ft(t,[{key:"hc",get:function(){return this.yc.keySystem}}]),t}();function Lo(t){var n=t.trim(),i=n.indexOf(";");return i<0?n:n.substr(0,i).trim()}function Bo(t,n,i,e){var r=!1;if(!(e.persistentState&&"optional"!==e.persistentState||e.distinctiveIdentifier&&"optional"!==e.distinctiveIdentifier)){var u={audioCapabilities:[],videoCapabilities:[],persistentState:e.persistentState||"optional",distinctiveIdentifier:e.distinctiveIdentifier||"optional",initDataTypes:e.initDataTypes,sessionTypes:["temporary"],label:e.label,_c:e._c},s=!1;if(e.audioCapabilities){var o=e.audioCapabilities.filter(function(t){return Boolean(t.contentType)});o.length&&(u.audioCapabilities=o.filter(function(e){return Fo(t,n,i,e)}),s=!0,u.audioCapabilities.length&&(r=!0))}if(e.videoCapabilities){var c=e.videoCapabilities.filter(function(t){return Boolean(t.contentType)});c.length&&(u.videoCapabilities=c.filter(function(e){return Fo(t,n,i,e)}),s=!0,u.videoCapabilities.length&&(r=!0))}return s||(r=t(i,"video/mp4")),r?u:void 0}}function Fo(t,n,i,e){return!!e.contentType&&(!(e.encryptionScheme&&!Pr(n,e.encryptionScheme))&&(!e.robustness&&t(i,Lo(e.contentType))))}function Mo(t){if(t.videoCapabilities)for(var n=0,i=t.videoCapabilities;n<i.length;n++){var e=i[n];if(e.contentType)return e.contentType}if(t.audioCapabilities)for(var r=0,u=t.audioCapabilities;r<u.length;r++){var s=u[r];if(s.contentType)return s.contentType}}function Uo(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e.encryptionScheme&&n.push({contentType:e.contentType,robustness:e.robustness})}return t.concat(n)}function Vo(t){return!(!t.audioCapabilities||!t.audioCapabilities.some(qo))||!(!t.videoCapabilities||!t.videoCapabilities.some(qo))}function qo(t){return!t.robustness}function zo(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];r.robustness?i.push(r):i.push(He({},r,{robustness:n}))}return i}var Ho=function(){function t(){}return t.prototype.Tr=function(t,n){var i,e,r,s,o,c,a,f;return ze.async(function(h){for(;;)switch(h.prev=h.next){case 0:for(n=n.filter(function(t){return!t._c}),i=0,e=n;i<e.length;i++)(r=e[i]).audioCapabilities&&(r.audioCapabilities=Uo(r.audioCapabilities)),r.videoCapabilities&&(r.videoCapabilities=Uo(r.videoCapabilities));if("com.widevine.alpha"!==t||!n.some(Vo)){h.next=14;break}return s=n.map(function(t){return i="SW_SECURE_CRYPTO",He({},n=t,{videoCapabilities:n.videoCapabilities?zo(n.videoCapabilities,i):void 0,audioCapabilities:n.audioCapabilities?zo(n.audioCapabilities,i):void 0});var n,i}),h.prev=4,h.next=7,ze.awrap(u.requestMediaKeySystemAccess(t,s));case 7:return o=h.sent,c=o.getConfiguration(),h.abrupt("return",new xo(o,t,c));case 12:h.prev=12,h.t0=h.catch(4);case 14:return h.next=16,ze.awrap(u.requestMediaKeySystemAccess(t,n));case 16:return a=h.sent,f=a.getConfiguration(),h.abrupt("return",new xo(a,t,f));case 19:case"end":return h.stop()}},null,null,[[4,12]],j)},t.kc=function(){return void 0!==u&&"function"==typeof u.requestMediaKeySystemAccess},t}(),Wo=function(t){function n(n,i){var e;return(e=t.call(this)||this).jo=!1,e.Tc=void 0,e.Sc=void 0,e.Ec=void 0,e.Ic=void 0,e.Rc=void 0,e.Qo=function(){e.jo=!0,e.Tc.Ou(void 0),e.Rc&&(e.Rc.removeEventListener("mskeyclose",e.Qo),e.Rc.removeEventListener("mskeymessage",e.Dc),e.Rc.removeEventListener("mskeyerror",e.Nc),e.Rc.removeEventListener("mskeyadded",e.Cc))},e.Dc=function(t){e.Ec&&(e.Ec.Ou(void 0),e.Ec=void 0),e.Xr(new eu(un(e),"license-request",ss(t.message).buffer,t.destinationURL||void 0))},e.Nc=function(){var t=e.Rc&&e.Rc.error;if(t){var n=new ds("Unknown CDM error",t.code,t.systemCode);if(e.Ec)e.Ec.Pu(n),e.Ec=void 0;else if(e.Sc)e.Sc.Pu(n),e.Sc=void 0;else switch(n.xu){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:e.Ac("output-not-allowed");break;default:e.Ac("internal-error")}}},e.Cc=function(){e.Ec&&(e.Ac("usable"),e.Ec.Ou(void 0),e.Ec=void 0),e.Sc&&(e.Ac("usable"),e.Sc.Ou(void 0),e.Sc=void 0)},e.Oc=n,e.Pc=i,e.Tc=new cs,e.Ic=new ou,e}vt(n,t);var i=n.prototype;return i.nc=function(t,n,i){return ze.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.xc(),this.Ec=new cs,this.dc(rs(n),i),t.next=5,ze.awrap(this.Ec.Nu);case 5:case"end":return t.stop()}},null,this,null,j)},i.dc=function(t,n){if(!t)throw new h("Expected initData to be defined but was "+t+".");var i,e=n&&n.playready&&n.playready.Lc;return(i=n?this.Oc.createSession(this.Pc,t,e):this.Oc.createSession(this.Pc,t)).addEventListener("mskeyclose",this.Qo),i.addEventListener("mskeymessage",this.Dc),i.addEventListener("mskeyerror",this.Nc),i.addEventListener("mskeyadded",this.Cc),this.Rc=i,this.Ac("status-pending"),i},i.ic=function(t){return ze.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.xc(),t.abrupt("return",!0);case 2:case"end":return t.stop()}},null,this,null,j)},i.rc=function(t){var n;return ze.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.Sc=new cs,this.xc(),this.Rc){i.next=4;break}return i.abrupt("return",j.resolve());case 4:if(0!==(n=rs(t)).byteLength){i.next=7;break}throw new h("Cannot call update with an empty response.");case 7:return this.Rc.update(n),i.next=10,ze.awrap(this.Sc.Nu);case 10:case"end":return i.stop()}},null,this,null,j)},i.tc=function(){return!this.jo&&this.Rc&&(this.jo=!0,this.Rc.close()),this.Tc.Nu},i.ec=function(){return ze.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.xc(),t.abrupt("return");case 2:case"end":return t.stop()}},null,this,null,j)},i.xc=function(){if(this.jo)throw new h("Already closing or closed.")},i.Ac=function(t){this.Ic.bu(),this.Ic.mu(su,t),this.Xr(new iu(this))},ft(n,[{key:"ac",get:function(){return this.Rc&&this.Rc.sessionId||""}},{key:"oc",get:function(){return NaN}},{key:"sc",get:function(){return this.Tc.Nu}},{key:"cc",get:function(){return this.Ic}}]),n}(Jr),jo=function(){function t(t,n,i){this.Pc=void 0,this.Oc=t,this.hc=n,this.vc=i;var e=Mo(i)||"video/mp4";this.Pc=Lo(e)}var n=t.prototype;return n.dc=function(t){return ze.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Wo(this.Oc,this.Pc));case 1:case"end":return t.stop()}},null,this,null,j)},n.lc=function(t){return j.resolve(!1)},n.wc=function(t){var n=this;return t.readyState>=1?t.msSetMediaKeys(this.Oc):t.addEventListener("loadedmetadata",function i(){t.msSetMediaKeys(n.Oc),t.removeEventListener("loadedmetadata",i)}),j.resolve()},n.gc=function(t){return j.resolve()},t}(),$o=function(){function t(t,n){this.Jo=t,this.Bc=n}var n=t.prototype;return n.pc=function(){return this.Bc},n.bc=function(){var t=new Z.MSMediaKeys(this.Jo);return j.resolve(new jo(t,this.Jo,this.Bc))},ft(t,[{key:"hc",get:function(){return this.Jo}}]),t}(),Xo=function(){function t(){}return t.prototype.Tr=function(t,n){try{return j.resolve(function(t,n){if(!Go())throw new h("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=Bo(Yo,tu,t,e);if(r)return new $o(t,r)}throw new h("Unsupported key system configuration for "+t)}(t,n))}catch(t){return j.reject(t)}},t.kc=function(){return Go()},t}();function Go(){return void 0!==Z.MSMediaKeys&&"function"==typeof Z.MSMediaKeys.isTypeSupported}function Yo(t,n){return Z.MSMediaKeys.isTypeSupported(t,n)}var Ko,Jo,Qo=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Tc=new cs,r.Fc=void 0,r.Ic=new ou,r.Mc=void 0,r.Uc=new cs,r.Nc=function(){var t=r.Mc&&r.Mc.error;if(t){var n=new ds("Unknown CDM error",t.code,t.systemCode);r.Fc?(r.Fc.Pu(n),r.Fc=void 0):n.xu===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?r.Ac("output-not-allowed"):r.Ac("internal-error"),r.Xr(new ru)}},r.Dc=function(t){r.Fc&&(r.Fc.Ou(void 0),r.Fc=void 0),r.Xr(new eu(un(r),"license-request",ss(t.message).buffer,"this is a test string"===t.destinationURL?void 0:t.destinationURL))},r.Vc=n,r.Pc=i,r.qc=e,r}vt(n,t);var i=n.prototype;return i.nc=function(t,n,i){var e=i&&i.fairplay&&i.fairplay.zc;if(!e)throw new h("Expected FairPlay contentId to be defined but was "+e+".");var r=Zo(rs(n),e,this.qc);return this.Mc=this.Vc.createSession(this.Pc,r),this.Mc.addEventListener("webkitkeymessage",this.Dc,!1),this.Mc.addEventListener("webkitkeyerror",this.Nc,!1),this.Ac("usable"),this.Uc.Ou(this.Mc),this.Uc=new cs,j.resolve()},i.ic=function(t){return j.resolve(!0)},i.rc=function(t){var n;return ze.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==(n=rs(t)).byteLength){i.next=3;break}throw new h("Cannot call update with an empty response.");case 3:if(this.Fc=new cs,i.t0=this.Mc,i.t0){i.next=9;break}return i.next=8,ze.awrap(this.Uc.Nu);case 8:i.t0=i.sent;case 9:return i.t0.update(n),i.next=13,ze.awrap(this.Fc.Nu);case 13:case"end":return i.stop()}},null,this,null,j)},i.tc=function(){var t=this.Mc;return t&&(t.removeEventListener("webkitkeymessage",this.Dc,!1),t.removeEventListener("webkitkeyerror",this.Nc,!1),t.close()),this.Uc.Ur(),this.Tc.Ou(void 0),this.Tc.Nu},i.ec=function(){return j.resolve(void 0)},i.Ac=function(t){this.Ic.bu(),this.Ic.mu(su,t),this.Xr(new iu(this))},ft(n,[{key:"ac",get:function(){return this.Mc?this.Mc.sessionId:""}},{key:"oc",get:function(){return NaN}},{key:"sc",get:function(){return this.Tc.Nu}},{key:"cc",get:function(){return this.Ic}}]),n}(Jr);function Zo(t,n,i){var e=Qu(t),r=2*e.length,u=2*n.length,s=new ArrayBuffer(4+r+4+u+4+i.byteLength),o=new DataView(s),c=new os;return Mu(o,c,r,!0),$u(o,c,e,!0),Mu(o,c,u,!0),$u(o,c,n,!0),Mu(o,c,i.byteLength,!0),function(t,n,i){is(t).set(is(i),n.Eu),n.ku(i.byteLength)}(o,c,i),new y(s)}(Ko=n.ErrorCode||(n.ErrorCode={}))[Ko.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",Ko[Ko.LICENSE_ERROR=2e3]="LICENSE_ERROR",Ko[Ko.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",Ko[Ko.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",Ko[Ko.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",Ko[Ko.SOURCE_INVALID=3e3]="SOURCE_INVALID",Ko[Ko.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",Ko[Ko.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",Ko[Ko.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",Ko[Ko.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",Ko[Ko.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",Ko[Ko.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",Ko[Ko.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",Ko[Ko.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",Ko[Ko.MEDIA_ABORTED=5004]="MEDIA_ABORTED",Ko[Ko.NETWORK_ERROR=6e3]="NETWORK_ERROR",Ko[Ko.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",Ko[Ko.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",Ko[Ko.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",Ko[Ko.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",Ko[Ko.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",Ko[Ko.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",Ko[Ko.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",Ko[Ko.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",Ko[Ko.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",Ko[Ko.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",Ko[Ko.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",Ko[Ko.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",Ko[Ko.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",Ko[Ko.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",Ko[Ko.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",Ko[Ko.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",Ko[Ko.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",Ko[Ko.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",Ko[Ko.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",Ko[Ko.AD_ERROR=1e4]="AD_ERROR",Ko[Ko.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",Ko[Ko.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR",(Jo=n.ErrorCategory||(n.ErrorCategory={}))[Jo.CONFIGURATION=1]="CONFIGURATION",Jo[Jo.LICENSE=2]="LICENSE",Jo[Jo.SOURCE=3]="SOURCE",Jo[Jo.MANIFEST=4]="MANIFEST",Jo[Jo.MEDIA=5]="MEDIA",Jo[Jo.NETWORK=6]="NETWORK",Jo[Jo.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",Jo[Jo.SUBTITLE=8]="SUBTITLE",Jo[Jo.VR=9]="VR",Jo[Jo.AD=10]="AD",Jo[Jo.FULLSCREEN=11]="FULLSCREEN",function(t){(n.ErrorCategory||(n.ErrorCategory={})).fromCode=function(t){var i=d.floor(t/1e3);if(i in n.ErrorCategory)return i;throw new h("Invalid error code: "+t)}}();var tc=function(t){function i(n,i,e){var r;return(r=t.call(this,i,e)||this).code=void 0,r.code=n,r}return vt(i,t),ft(i,[{key:"name",get:function(){return"THEOplayerError"}},{key:"category",get:function(){return n.ErrorCategory.fromCode(this.code)}}]),i}(on),nc=function(){function t(t,n,i){this.Pc=void 0,this.qc=void 0,this.Vc=t,this.hc=n,this.vc=i;var e=Mo(i)||"video/mp4";this.Pc=Lo(e)}var i=t.prototype;return i.getInternalMediaKeys=function(){return this.Vc},i.dc=function(t){return ze.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.qc){t.next=2;break}throw new tc(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return t.abrupt("return",new Qo(this.Vc,this.Pc,this.qc));case 3:case"end":return t.stop()}},null,this,null,j)},i.lc=function(t){return this.qc=rs(t),j.resolve(!0)},i.wc=function(t){return t.webkitSetMediaKeys(this.Vc),j.resolve()},i.gc=function(t){return t.webkitSetMediaKeys(null),j.resolve()},t}(),ic=function(){function t(t,n){this.Jo=t,this.Bc=n}var n=t.prototype;return n.pc=function(){return this.Bc},n.bc=function(){var t=new Z.WebKitMediaKeys(this.Jo);return j.resolve(new nc(t,this.Jo,this.Bc))},ft(t,[{key:"hc",get:function(){return this.Jo}}]),t}(),ec=function(){function t(){}return t.prototype.Tr=function(t,n){try{return j.resolve(function(t,n){if(t!==or)throw new h(t+" is not supported with webkit-prefixed Encrypted Media Extensions.");if(!rc())throw new h("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=Bo(uc,nu,t,e);if(r)return new ic(t,r)}throw new h("Unsupported key system configuration for "+t)}(t,n))}catch(t){return j.reject(t)}},t.kc=function(){return rc()},t}();function rc(){return void 0!==Z.WebKitMediaKeys&&"function"==typeof Z.WebKitMediaKeys.isTypeSupported}function uc(t,n){return Z.WebKitMediaKeys.isTypeSupported(t,n)}var sc,oc=function(){function t(t){this.Hc=t}return t.prototype.Tr=function(t,n){var i,e,r;return ze.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=0,e=this.Hc;case 1:if(!(i<e.length)){u.next=14;break}return r=e[i],u.prev=3,u.next=6,ze.awrap(r.Tr(t,n));case 6:return u.abrupt("return",u.sent);case 9:u.prev=9,u.t0=u.catch(3);case 11:i++,u.next=1;break;case 14:throw new h("Unsupported key system configuration for "+t);case 15:case"end":return u.stop()}},null,this,[[3,9]],j)},t}(),cc=function(t){function n(n){var i;return(i=t.call(this)||this).Ec=void 0,i.Fc=void 0,i.Tc=void 0,i.Wu=!1,i.Wc=void 0,i.jc=void 0,i.$c=void 0,i.Xc=void 0,i.Gc=void 0,i.Jo=n,i.Tc=new cs,i.jc="",i.Gc=new cs,i.$c=new ou,i}vt(n,t);var i=n.prototype;return i.Yc=function(){this.Fc&&(this.Ac("usable"),this.Fc.Ou(void 0),this.Fc=void 0)},i.Kc=function(t){var n=new ds("Unknown CDM error",t.errorCode,t.systemCode);this.Fc?(this.Fc.Pu(n),this.Fc=void 0):this.Ec?(this.Ec.Pu(n),this.Ec=void 0):n.xu===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.Ac("output-restricted"):1===n.Lu?this.Ac("expired"):this.Ac("internal-error")},i.Jc=function(t){0!==t.message.byteLength&&(this.Ec&&(this.Ec.Ou(void 0),this.Ec=void 0),this.Xr(new eu(this,"license-request",hs(this.Jo,ss(t.message).buffer),t.defaultURL||void 0)))},i.Qc=function(t){this.Xc||(this.Xc=t,this.Gc.Ou(t))},i.tc=function(){return ze.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed(),this.Wu=!0,this.Tc.Ou(void 0);case 3:case"end":return t.stop()}},null,this,null,j)},i.nc=function(t,n){return ze.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.Ec=new cs,this.Wc=rs(n),t.t0=this.Xc,t.t0){t.next=8;break}return t.next=7,ze.awrap(this.Gc.Nu);case 7:t.t0=t.sent;case 8:return t.t0.webkitGenerateKeyRequest(this.Jo,this.Wc),t.next=12,ze.awrap(this.Ec.Nu);case 12:case"end":return t.stop()}},null,this,null,j)},i.ic=function(t){return ze.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.throwIfClosed(),t.abrupt("return",!1);case 2:case"end":return t.stop()}},null,this,null,j)},i.ec=function(){return ze.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed();case 1:case"end":return t.stop()}},null,this,null,j)},i.rc=function(t){return ze.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.throwIfClosed(),this.Fc=new cs,n.t0=this.Xc,n.t0){n.next=7;break}return n.next=6,ze.awrap(this.Gc.Nu);case 6:n.t0=n.sent;case 7:return n.t0.webkitAddKey(this.Jo,rs(t),this.Wc,this.ac),n.next=11,ze.awrap(this.Fc.Nu);case 11:case"end":return n.stop()}},null,this,null,j)},i.throwIfClosed=function(){if(this.Wu)throw new h("Already closing or closed.")},i.Ac=function(t){this.$c.bu(),this.$c.mu(su,t),this.Xr(new iu(this))},ft(n,[{key:"cc",get:function(){return this.$c}},{key:"ac",get:function(){return this.jc},set:function(t){this.jc=t}},{key:"sc",get:function(){return this.Tc.Nu}},{key:"oc",get:function(){return NaN}}]),n}(Jr),ac=function(){function t(t,n){var i=this;this.Xc=void 0,this.Zc=je(),this.ta=[],this.Cc=function(t){var n=i.na(t.sessionId);n&&n.Yc()},this.ia=function(t){var n=i.na(t.sessionId);n&&n.Kc(t)},this.ea=function(t){var n=i.na(t.sessionId);n&&n.Jc(t)},this.hc=t,this.vc=n}var n=t.prototype;return n.wc=function(t){return this.Xc=t,this.Xc.addEventListener("webkitkeyadded",this.Cc),this.Xc.addEventListener("webkitkeyerror",this.ia),this.Xc.addEventListener("webkitkeymessage",this.ea),this.Zc.forEach(function(n,i){return n.Qc(t)}),this.ta.forEach(function(n){return n.Qc(t)}),j.resolve()},n.gc=function(t){return t.removeEventListener("webkitkeyadded",this.Cc),t.removeEventListener("webkitkeyerror",this.ia),t.removeEventListener("webkitkeymessage",this.ea),this.Xc=void 0,j.resolve()},n.dc=function(t,n,i){var e;return ze.async(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new cc(this.hc),this.Xc&&e.Qc(this.Xc),this.ta.push(e),t.abrupt("return",e);case 4:case"end":return t.stop()}},null,this,null,j)},n.lc=function(t){return j.resolve(!1)},n.na=function(t){if(t){var n=this.Zc.get(t);return n||((n=this.ta.shift())?(n.ac=t,this.Zc.set(t,n),n):void 0)}},t}(),fc=function(){function t(t,n){this.hc=t,this.ra=n}var n=t.prototype;return n.bc=function(){return j.resolve(new ac(this.hc,this.ra))},n.pc=function(){return this.ra},t}(),hc=function(){function t(){}return t.prototype.Tr=function(t,n){try{return j.resolve(vc(t,n))}catch(t){return j.reject(t)}},t.kc=function(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest},t}();function vc(t,n){if(!hc.kc())throw new h("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=Bo(dc,tu,t,e);if(r)return new fc(t,r)}throw new h("Unsupported key system configuration for "+t)}function dc(t,n){var i=Te();return!(!i||!i.canPlayType||""===i.canPlayType(n,t))}function lc(){return sc||(sc=function(){var t=[];ec.kc()&&t.push(new ec);Ho.kc()&&t.push(new Ho);Xo.kc()&&t.push(new Xo);hc.kc()&&t.push(new hc);return new oc(t)}()),sc}var wc=function(){function t(){this.ua=je()}var n=t.prototype;return n.bu=function(t){this.ua.delete(t)},n.sa=function(){this.ua.clear()},n.gu=function(t){return this.ua.get(t)},n.oa=function(t,n){this.ua.set(t,n)},t}(),gc=function(){function t(){}return t.ca=function(){return t.Qn||(t.Qn=yc.kc()?new yc:new wc),t.Qn},t.bu=function(n){t.ca().bu(n)},t.sa=function(){t.ca().sa()},t.gu=function(n){return t.ca().gu(n)},t.oa=function(n,i){t.ca().oa(n,i)},t}();gc.Qn=void 0;var yc=function(n){function i(){return n.apply(this,arguments)||this}vt(i,n),i.kc=function(){try{return t.sessionStorage.setItem("foobar","foobar"),t.sessionStorage.removeItem("foobar"),!0}catch(t){return!1}};var e=i.prototype;return e.bu=function(n){t.sessionStorage.removeItem(n)},e.sa=function(){t.sessionStorage.clear()},e.gu=function(n){return t.sessionStorage[n]},e.oa=function(n,i){t.sessionStorage[n]=i},i}(gc);var mc=function(){var n,i=t.Blob;if(i)try{return new i,n=i,function(t,i){return new n(t,i)}}catch(t){}var e,r=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder;if(r)return e=r,function(t,n){var i=new e;if(t)for(var r=0;r<t.length;r++){var u=t[r];i.append(u)}return i.getBlob(n&&n.type||"")}}();function bc(t,n,i){var r=mc([n],{type:"application/octet-stream"}),u=URL.createObjectURL(r),s=function(t,n){var i=t,e=i.indexOf("?");if(e>=0&&(i=i.substr(0,e)),i=i.substr(i.lastIndexOf("/")+1),n){var r=i.indexOf(".");r<0&&(r=i.length),i=i.substr(0,r)+n+i.substr(r)}return i}(t,i),o=e.createElement("a");o.href=u,o.download=s,e.body.appendChild(o),o.click(),e.body.removeChild(o),URL.revokeObjectURL(u)}var pc,_c;!function(t){t.aa="fa",t.ha="va",t.da="contentprotectionerror",t.la="contentprotectionsuccess",t.wa="currentsourcechange",t.ga="destroy",t.ya="durationchange",t.ma="emptied",t.au="encrypted",t.ba="ended",t.pa="_a",t.ka="loadstart",t.Ta="manifestupdate",t.Sa="nosupportedrepresentationfound",t.Ea="offline",t.Ia="online",t.Ra="pause",t.Da="play",t.Na="progress",t.Ca="ratechange",t.Aa="representationchange",t.Oa="resize",t.Pa="seeked",t.xa="seeking",t.La="segmentnotfound",t.Ba="Fa",t.Ma="Ua",t.Va="sourcechange",t.qa="timeupdate",t.za="volumechange",t.Ha="Wa",t.ja="metricschange"}(pc||(pc={})),function(t){t.$a="arraybuffer",t.Xa="json",t.Ga="stream",t.ei="text"}(_c||(_c={}));var kc=function(){function t(n){var i=this;this.rr=void 0,this.rr={},n instanceof t?n.asList().forEach(function(t){var n=t[0],e=t[1];i.append(n,e)}):Array.isArray(n)?n.forEach(function(t){i.append(t[0],t[1])}):n&&v.getOwnPropertyNames(n).forEach(function(t){i.append(t,n[t])})}var n=t.prototype;return n.append=function(t,n){var i=t,e=n;i=Tc(i),e=Sc(e);var r=i.toLowerCase();if(this.rr.hasOwnProperty(r)){var u=this.rr[r],s=u[1];u[1]=s?s+", "+e:e}else this.rr[r]=[i,e]},n.delete=function(t){var n=Tc(t).toLowerCase();delete this.rr[n]},n.get=function(t){var n=Tc(t).toLowerCase();return this.rr.hasOwnProperty(n)?this.rr[n][1]:null},n.has=function(t){var n=Tc(t).toLowerCase();return this.rr.hasOwnProperty(n)},n.set=function(t,n){var i=t,e=(i=Tc(i)).toLowerCase();this.rr[e]=[i,Sc(n)]},n.forEach=function(t,n){for(var i in this.rr)this.rr.hasOwnProperty(i)&&t.call(n,this.rr[i][1],i,this)},n.asList=function(){var t=[];for(var n in this.rr)if(this.rr.hasOwnProperty(n)){var i=this.rr[n],e=i[0],r=i[1];t.push([e,r])}return t},n.Ya=function(){var t={};return this.forEach(function(n,i){t[i]=n}),t},n.Ka=function(t){var n=this;t.forEach(function(t,i){n.append(i,t)})},n.Ja=function(t){var n=this;t.forEach(function(t,i){n.set(i,t)})},t}();function Tc(t){var n=t;if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(n))throw new h("Invalid character in header field name");return n}function Sc(t){var n=t;return"string"!=typeof n&&(n=String(n)),n}var Ec="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(t){return"Symbol("+t+")"};function Ic(){}var Rc=void 0!==t?t:void 0!==i?i:"undefined"!=typeof global?global:void 0;function Dc(t){return"object"==typeof t&&null!==t||"function"==typeof t}var Nc=Ic,Cc=j,Ac=j.prototype.then,Oc=j.resolve.bind(Cc),Pc=j.reject.bind(Cc);function xc(t){return new Cc(t)}function Lc(t){return Oc(t)}function Bc(t){return Pc(t)}function Fc(t,n,i){return Ac.call(t,n,i)}function Mc(t,n,i){Fc(Fc(t,n,i),void 0,Nc)}function Uc(t,n){Mc(t,n)}function Vc(t,n){Mc(t,void 0,n)}function qc(t,n,i){return Fc(t,n,i)}function zc(t){Fc(t,void 0,Nc)}var Hc=function(){var t=Rc&&Rc.queueMicrotask;if("function"==typeof t)return t;var n=Lc(void 0);return function(t){return Fc(n,t)}}();function Wc(t,n,i){if("function"!=typeof t)throw new h("Argument is not a function");return Function.prototype.apply.call(t,n,i)}function jc(t,n,i){try{return Lc(Wc(t,n,i))}catch(t){return Bc(t)}}var $c=function(){function t(){this.Qa=0,this.Za=0,this.C={tf:[],nf:void 0},this.if=this.C,this.Qa=0,this.Za=0}return v.defineProperty(t.prototype,"length",{get:function(){return this.Za},enumerable:!1,configurable:!0}),t.prototype.push=function(t){var n=this.if,i=n;16383===n.tf.length&&(i={tf:[],nf:void 0}),n.tf.push(t),i!==n&&(this.if=i,n.nf=i),++this.Za},t.prototype.shift=function(){var t=this.C,n=t,i=this.Qa,e=i+1,r=t.tf,u=r[i];return 16384===e&&(n=t.nf,e=0),--this.Za,this.Qa=e,t!==n&&(this.C=n),r[i]=void 0,u},t.prototype.forEach=function(t){for(var n=this.Qa,i=this.C,e=i.tf;!(n===e.length&&void 0===i.nf||n===e.length&&(n=0,0===(e=(i=i.nf).tf).length));)t(e[n]),++n},t.prototype.peek=function(){var t=this.C,n=this.Qa;return t.tf[n]},t}();function Xc(t,n){t.ef=n,n.rf=t,"readable"===n.o?Jc(t):"closed"===n.o?function(t){Jc(t),ta(t)}(t):Qc(t,n.uf)}function Gc(t,n){return Kh(t.ef,n)}function Yc(t){"readable"===t.ef.o?Zc(t,new h("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,n){Qc(t,n)}(t,new h("Reader was released and can no longer be used to monitor the stream's closedness")),t.ef.rf=void 0,t.ef=void 0}function Kc(t){return new h("Cannot "+t+" a stream using a released reader")}function Jc(t){t.$o=xc(function(n,i){t.sf=n,t.cf=i})}function Qc(t,n){Jc(t),Zc(t,n)}function Zc(t,n){void 0!==t.cf&&(zc(t.$o),t.cf(n),t.sf=void 0,t.cf=void 0)}function ta(t){void 0!==t.sf&&(t.sf(void 0),t.sf=void 0,t.cf=void 0)}var na=Ec("[[AbortSteps]]"),ia=Ec("[[ErrorSteps]]"),ea=Ec("[[CancelSteps]]"),ra=Ec("[[PullSteps]]"),ua=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},sa=d.trunc||function(t){return t<0?d.ceil(t):d.floor(t)};function oa(t,n){if(void 0!==t&&("object"!=typeof(i=t)&&"function"!=typeof i))throw new h(n+" is not an object.");var i}function ca(t,n){if("function"!=typeof t)throw new h(n+" is not a function.")}function aa(t,n){if(!function(t){return"object"==typeof t&&null!==t||"function"==typeof t}(t))throw new h(n+" is not an object.")}function fa(t,n,i){if(void 0===t)throw new h("Parameter "+n+" is required in '"+i+"'.")}function ha(t,n,i){if(void 0===t)throw new h(n+" is required in '"+i+"'.")}function va(t){return Number(t)}function da(t){return 0===t?0:t}function la(t,n){var i=Number.MAX_SAFE_INTEGER,e=Number(t);if(e=da(e),!ua(e))throw new h(n+" is not a finite number");if((e=function(t){return da(sa(t))}(e))<0||e>i)throw new h(n+" is outside the accepted range of 0 to "+i+", inclusive");return ua(e)&&0!==e?e:0}function wa(t,n){if(!Gh(t))throw new h(n+" is not a ReadableStream.")}function ga(t){return new Ta(t)}function ya(t,n){t.rf.af.push(n)}function ma(t,n,i){var e=t.rf.af.shift();i?e.ff():e.hf(n)}function ba(t){return t.rf.af.length}function pa(t){var n=t.rf;return void 0!==n&&!!Sa(n)}var _a,ka,Ta=function(){function t(t){if(fa(t,1,"ReadableStreamDefaultReader"),wa(t,"First parameter"),Yh(t))throw new h("This stream has already been locked for exclusive reading by another reader");Xc(this,t),this.af=new $c}return v.defineProperty(t.prototype,"closed",{get:function(){return Sa(this)?this.$o:Bc(Ia("closed"))},enumerable:!1,configurable:!0}),t.prototype.cancel=function(t){return void 0===t&&(t=void 0),Sa(this)?void 0===this.ef?Bc(Kc("cancel")):Gc(this,t):Bc(Ia("cancel"))},t.prototype.read=function(){if(!Sa(this))return Bc(Ia("read"));if(void 0===this.ef)return Bc(Kc("read from"));var t,n,i=xc(function(i,e){t=i,n=e});return Ea(this,{hf:function(n){return t({value:n,done:!1})},ff:function(){return t({value:void 0,done:!0})},vf:function(t){return n(t)}}),i},t.prototype.releaseLock=function(){if(!Sa(this))throw Ia("releaseLock");if(void 0!==this.ef){if(this.af.length>0)throw new h("Tried to release a reader lock when that reader has pending read() calls un-settled");Yc(this)}},t}();function Sa(t){return!!Dc(t)&&(!!v.prototype.hasOwnProperty.call(t,"af")&&t instanceof Ta)}function Ea(t,n){var i=t.ef;i.df=!0,"closed"===i.o?n.ff():"errored"===i.o?n.vf(i.uf):i.lf[ra](n)}function Ia(t){return new h("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}v.defineProperties(Ta.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof Ec.toStringTag&&v.defineProperty(Ta.prototype,Ec.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0}),"symbol"==typeof Ec.asyncIterator&&((_a={})[Ec.asyncIterator]=function(){return this},ka=_a,v.defineProperty(ka,Ec.asyncIterator,{enumerable:!1}));var Ra=function(){function t(t,n){this.wf=void 0,this.gf=!1,this.rf=t,this.yf=n}return t.prototype.next=function(){var t=this,n=function(){return t.mf()};return this.wf=this.wf?qc(this.wf,n,n):n(),this.wf},t.prototype.return=function(t){var n=this,i=function(){return n.bf(t)};return this.wf?qc(this.wf,i,i):i()},t.prototype.mf=function(){var t=this;if(this.gf)return j.resolve({value:void 0,done:!0});var n,i,e=this.rf;if(void 0===e.ef)return Bc(Kc("iterate"));var r=xc(function(t,e){n=t,i=e});return Ea(e,{hf:function(i){t.wf=void 0,Hc(function(){return n({value:i,done:!1})})},ff:function(){t.wf=void 0,t.gf=!0,Yc(e),n({value:void 0,done:!0})},vf:function(n){t.wf=void 0,t.gf=!0,Yc(e),i(n)}}),r},t.prototype.bf=function(t){if(this.gf)return j.resolve({value:t,done:!0});this.gf=!0;var n=this.rf;if(void 0===n.ef)return Bc(Kc("finish iterating"));if(!this.yf){var i=Gc(n,t);return Yc(n),qc(i,function(){return{value:t,done:!0}})}return Yc(n),Lc({value:t,done:!0})},t}(),Da={next:function(){return Na(this)?this.pf.next():Bc(Ca("next"))},return:function(t){return Na(this)?this.pf.return(t):Bc(Ca("return"))}};function Na(t){if(!Dc(t))return!1;if(!v.prototype.hasOwnProperty.call(t,"pf"))return!1;try{return t.pf instanceof Ra}catch(t){return!1}}function Ca(t){return new h("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}void 0!==ka&&v.setPrototypeOf(Da,ka);var Aa=Number.isNaN||function(t){return t!=t};function Oa(t){return t.slice()}function Pa(t,n,i,e,r){new y(t).set(new y(i,e,r),n)}function xa(t){return t}function La(t,n,i){if(t.slice)return t.slice(n,i);var e=i-n,r=new ArrayBuffer(e);return Pa(r,0,t,n,e),r}function Ba(t){var n=La(t.buffer,t.byteOffset,t.byteOffset+t.byteLength);return new y(n)}function Fa(t){var n=t._f.shift();return t.kf-=n.size,t.kf<0&&(t.kf=0),n.value}function Ma(t,n,i){if("number"!=typeof(e=i)||Aa(e)||e<0||i===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");var e;t._f.push({value:n,size:i}),t.kf+=i}function Ua(t){t._f=new $c,t.kf=0}var Va=function(){function t(){throw new h("Illegal constructor")}return v.defineProperty(t.prototype,"view",{get:function(){if(!Ha(this))throw vf("view");return this.Tf},enumerable:!1,configurable:!0}),t.prototype.respond=function(t){if(!Ha(this))throw vf("respond");if(fa(t,1,"respond"),t=la(t,"First parameter"),void 0===this.Sf)throw new h("This BYOB request has been invalidated");this.Tf.buffer,af(this.Sf,t)},t.prototype.respondWithNewView=function(t){if(!Ha(this))throw vf("respondWithNewView");if(fa(t,1,"respondWithNewView"),!ArrayBuffer.isView(t))throw new h("You can only respond with array buffer views");if(void 0===this.Sf)throw new h("This BYOB request has been invalidated");t.buffer,ff(this.Sf,t)},t}();v.defineProperties(Va.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),"symbol"==typeof Ec.toStringTag&&v.defineProperty(Va.prototype,Ec.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});var qa=function(){function t(){throw new h("Illegal constructor")}return v.defineProperty(t.prototype,"byobRequest",{get:function(){if(!za(this))throw df("byobRequest");return of(this)},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"desiredSize",{get:function(){if(!za(this))throw df("desiredSize");return cf(this)},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(!za(this))throw df("close");if(this.Ef)throw new h("The stream has already been closed; do not close it again!");var t=this.If.o;if("readable"!==t)throw new h("The stream (in "+t+" state) is not in the readable state and cannot be closed");rf(this)},t.prototype.enqueue=function(t){if(!za(this))throw df("enqueue");if(fa(t,1,"enqueue"),!ArrayBuffer.isView(t))throw new h("chunk must be an array buffer view");if(0===t.byteLength)throw new h("chunk must have non-zero byteLength");if(0===t.buffer.byteLength)throw new h("chunk's buffer must have non-zero byteLength");if(this.Ef)throw new h("stream is closed or draining");var n=this.If.o;if("readable"!==n)throw new h("The stream (in "+n+" state) is not in the readable state and cannot be enqueued to");uf(this,t)},t.prototype.error=function(t){if(void 0===t&&(t=void 0),!za(this))throw df("error");sf(this,t)},t.prototype[ea]=function(t){ja(this),Ua(this);var n=this.Rf(t);return ef(this),n},t.prototype[ra]=function(t){var n=this.If;if(this.kf>0){var i=this._f.shift();this.kf-=i.byteLength,Ja(this);var e=new y(i.buffer,i.byteOffset,i.byteLength);t.hf(e)}else{var r=this.Df;if(void 0!==r){var u=void 0;try{u=new ArrayBuffer(r)}catch(n){return void t.vf(n)}var s={buffer:u,bufferByteLength:r,byteOffset:0,byteLength:r,bytesFilled:0,elementSize:1,viewConstructor:y,readerType:"default"};this.Nf.push(s)}ya(n,t),Wa(this)}},t}();function za(t){return!!Dc(t)&&(!!v.prototype.hasOwnProperty.call(t,"If")&&t instanceof qa)}function Ha(t){return!!Dc(t)&&(!!v.prototype.hasOwnProperty.call(t,"Sf")&&t instanceof Va)}function Wa(t){(function(t){var n=t.If;if("readable"!==n.o)return!1;if(t.Ef)return!1;if(!t.Cf)return!1;if(pa(n)&&ba(n)>0)return!0;if(yf(n)&&gf(n)>0)return!0;if(cf(t)>0)return!0;return!1})(t)&&(t.Af?t.Of=!0:(t.Af=!0,Mc(t.Pf(),function(){t.Af=!1,t.Of&&(t.Of=!1,Wa(t))},function(n){sf(t,n)})))}function ja(t){Qa(t),t.Nf=new $c}function $a(t,n){var i=!1;"closed"===t.o&&(i=!0);var e=Xa(n);"default"===n.readerType?ma(t,e,i):function(t,n,i){var e=t.rf.xf.shift();i?e.ff(n):e.hf(n)}(t,e,i)}function Xa(t){var n=t.bytesFilled,i=t.elementSize;return new t.viewConstructor(t.buffer,t.byteOffset,n/i)}function Ga(t,n,i,e){t._f.push({buffer:n,byteOffset:i,byteLength:e}),t.kf+=e}function Ya(t,n){var i=n.elementSize,e=n.bytesFilled-n.bytesFilled%i,r=d.min(t.kf,n.byteLength-n.bytesFilled),u=n.bytesFilled+r,s=u-u%i,o=r,c=!1;s>e&&(o=s-n.bytesFilled,c=!0);for(var a=t._f;o>0;){var f=a.peek(),h=d.min(o,f.byteLength),v=n.byteOffset+n.bytesFilled;Pa(n.buffer,v,f.buffer,f.byteOffset,h),f.byteLength===h?a.shift():(f.byteOffset+=h,f.byteLength-=h),t.kf-=h,Ka(t,h,n),o-=h}return c}function Ka(t,n,i){i.bytesFilled+=n}function Ja(t){0===t.kf&&t.Ef?(ef(t),Jh(t.If)):Wa(t)}function Qa(t){null!==t.Lf&&(t.Lf.Sf=void 0,t.Lf.Tf=null,t.Lf=null)}function Za(t){for(;t.Nf.length>0;){if(0===t.kf)return;var n=t.Nf.peek();Ya(t,n)&&(nf(t),$a(t.If,n))}}function tf(t,n){var i=t.Nf.peek();Qa(t),"closed"===t.If.o?function(t,n){var i=t.If;if(yf(i))for(;gf(i)>0;)$a(i,nf(t))}(t):function(t,n,i){if(Ka(0,n,i),!(i.bytesFilled<i.elementSize)){nf(t);var e=i.bytesFilled%i.elementSize;if(e>0){var r=i.byteOffset+i.bytesFilled,u=La(i.buffer,r-e,r);Ga(t,u,0,u.byteLength)}i.bytesFilled-=e,$a(t.If,i),Za(t)}}(t,n,i),Wa(t)}function nf(t){return t.Nf.shift()}function ef(t){t.Pf=void 0,t.Rf=void 0}function rf(t){var n=t.If;if(!t.Ef&&"readable"===n.o)if(t.kf>0)t.Ef=!0;else{if(t.Nf.length>0)if(t.Nf.peek().bytesFilled>0){var i=new h("Insufficient bytes to fill elements in the given buffer");throw sf(t,i),i}ef(t),Jh(n)}}function uf(t,n){var i=t.If;if(!t.Ef&&"readable"===i.o){var e=n.buffer,r=n.byteOffset,u=n.byteLength,s=xa(e);if(t.Nf.length>0){var o=t.Nf.peek();o.buffer,0,o.buffer=xa(o.buffer)}if(Qa(t),pa(i))if(0===ba(i))Ga(t,s,r,u);else t.Nf.length>0&&nf(t),ma(i,new y(s,r,u),!1);else yf(i)?(Ga(t,s,r,u),Za(t)):Ga(t,s,r,u);Wa(t)}}function sf(t,n){var i=t.If;"readable"===i.o&&(ja(t),Ua(t),ef(t),Qh(i,n))}function of(t){if(null===t.Lf&&t.Nf.length>0){var n=t.Nf.peek(),i=new y(n.buffer,n.byteOffset+n.bytesFilled,n.byteLength-n.bytesFilled),e=v.create(Va.prototype);!function(t,n,i){t.Sf=n,t.Tf=i}(e,t,i),t.Lf=e}return t.Lf}function cf(t){var n=t.If.o;return"errored"===n?null:"closed"===n?0:t.Bf-t.kf}function af(t,n){var i=t.Nf.peek();if("closed"===t.If.o){if(0!==n)throw new h("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(0===n)throw new h("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(i.bytesFilled+n>i.byteLength)throw new RangeError("bytesWritten out of range")}i.buffer=xa(i.buffer),tf(t,n)}function ff(t,n){var i=t.Nf.peek();if("closed"===t.If.o){if(0!==n.byteLength)throw new h("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(0===n.byteLength)throw new h("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(i.byteOffset+i.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.bufferByteLength!==n.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(i.bytesFilled+n.byteLength>i.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");var e=n.byteLength;i.buffer=xa(n.buffer),tf(t,e)}function hf(t,n,i,e,r,u,s){n.If=t,n.Of=!1,n.Af=!1,n.Lf=null,n._f=n.kf=void 0,Ua(n),n.Ef=!1,n.Cf=!1,n.Bf=u,n.Pf=e,n.Rf=r,n.Df=s,n.Nf=new $c,t.lf=n,Mc(Lc(i()),function(){n.Cf=!0,Wa(n)},function(t){sf(n,t)})}function vf(t){return new h("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function df(t){return new h("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function lf(t){return new mf(t)}function wf(t,n){t.rf.xf.push(n)}function gf(t){return t.rf.xf.length}function yf(t){var n=t.rf;return void 0!==n&&!!bf(n)}v.defineProperties(qa.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof Ec.toStringTag&&v.defineProperty(qa.prototype,Ec.toStringTag,{value:"ReadableByteStreamController",configurable:!0});var mf=function(){function t(t){if(fa(t,1,"ReadableStreamBYOBReader"),wa(t,"First parameter"),Yh(t))throw new h("This stream has already been locked for exclusive reading by another reader");if(!za(t.lf))throw new h("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");Xc(this,t),this.xf=new $c}return v.defineProperty(t.prototype,"closed",{get:function(){return bf(this)?this.$o:Bc(_f("closed"))},enumerable:!1,configurable:!0}),t.prototype.cancel=function(t){return void 0===t&&(t=void 0),bf(this)?void 0===this.ef?Bc(Kc("cancel")):Gc(this,t):Bc(_f("cancel"))},t.prototype.read=function(t){if(!bf(this))return Bc(_f("read"));if(!ArrayBuffer.isView(t))return Bc(new h("view must be an array buffer view"));if(0===t.byteLength)return Bc(new h("view must have non-zero byteLength"));if(0===t.buffer.byteLength)return Bc(new h("view's buffer must have non-zero byteLength"));if(t.buffer,void 0===this.ef)return Bc(Kc("read from"));var n,i,e=xc(function(t,e){n=t,i=e});return pf(this,t,{hf:function(t){return n({value:t,done:!1})},ff:function(t){return n({value:t,done:!0})},vf:function(t){return i(t)}}),e},t.prototype.releaseLock=function(){if(!bf(this))throw _f("releaseLock");if(void 0!==this.ef){if(this.xf.length>0)throw new h("Tried to release a reader lock when that reader has pending read() calls un-settled");Yc(this)}},t}();function bf(t){return!!Dc(t)&&(!!v.prototype.hasOwnProperty.call(t,"xf")&&t instanceof mf)}function pf(t,n,i){var e=t.ef;e.df=!0,"errored"===e.o?i.vf(e.uf):function(t,n,i){var e=t.If,r=1;n.constructor!==DataView&&(r=n.constructor.BYTES_PER_ELEMENT);var u=n.constructor,s=xa(n.buffer),o={buffer:s,bufferByteLength:s.byteLength,byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:r,viewConstructor:u,readerType:"byob"};if(t.Nf.length>0)return t.Nf.push(o),void wf(e,i);if("closed"!==e.o){if(t.kf>0){if(Ya(t,o)){var c=Xa(o);return Ja(t),void i.hf(c)}if(t.Ef){var a=new h("Insufficient bytes to fill elements in the given buffer");return sf(t,a),void i.vf(a)}}t.Nf.push(o),wf(e,i),Wa(t)}else{var f=new u(o.buffer,o.byteOffset,0);i.ff(f)}}(e.lf,n,i)}function _f(t){return new h("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}function kf(t,n){var i=t.highWaterMark;if(void 0===i)return n;if(Aa(i)||i<0)throw new RangeError("Invalid highWaterMark");return i}function Tf(t){var n=t.size;return n||function(){return 1}}function Sf(t,n){oa(t,n);var i=null==t?void 0:t.highWaterMark,e=null==t?void 0:t.size;return{highWaterMark:void 0===i?void 0:va(i),size:void 0===e?void 0:Ef(e,n+" has member 'size' that")}}function Ef(t,n){return ca(t,n),function(n){return va(t(n))}}function If(t,n,i){return ca(t,i),function(i){return jc(t,n,[i])}}function Rf(t,n,i){return ca(t,i),function(){return jc(t,n,[])}}function Df(t,n,i){return ca(t,i),function(i){return Wc(t,n,[i])}}function Nf(t,n,i){return ca(t,i),function(i,e){return jc(t,n,[i,e])}}function Cf(t,n){if(!Lf(t))throw new h(n+" is not a WritableStream.")}v.defineProperties(mf.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof Ec.toStringTag&&v.defineProperty(mf.prototype,Ec.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});var Af="function"==typeof AbortController;var Of=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),void 0===t?t=null:aa(t,"First parameter");var i=Sf(n,"Second parameter"),e=function(t,n){oa(t,n);var i=null==t?void 0:t.abort,e=null==t?void 0:t.close,r=null==t?void 0:t.start,u=null==t?void 0:t.type,s=null==t?void 0:t.write;return{abort:void 0===i?void 0:If(i,t,n+" has member 'abort' that"),close:void 0===e?void 0:Rf(e,t,n+" has member 'close' that"),start:void 0===r?void 0:Df(r,t,n+" has member 'start' that"),write:void 0===s?void 0:Nf(s,t,n+" has member 'write' that"),type:u}}(t,"First parameter");if(xf(this),void 0!==e.type)throw new RangeError("Invalid type is specified");var r=Tf(i);!function(t,n,i,e){var r=v.create(Zf.prototype),u=function(){},s=function(){return Lc(void 0)},o=function(){return Lc(void 0)},c=function(){return Lc(void 0)};void 0!==n.start&&(u=function(){return n.start(r)});void 0!==n.write&&(s=function(t){return n.write(t,r)});void 0!==n.close&&(o=function(){return n.close()});void 0!==n.abort&&(c=function(t){return n.abort(t)});nh(t,r,u,s,o,c,i,e)}(this,e,kf(i,1),r)}return v.defineProperty(t.prototype,"locked",{get:function(){if(!Lf(this))throw ch("locked");return Bf(this)},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){return void 0===t&&(t=void 0),Lf(this)?Bf(this)?Bc(new h("Cannot abort a stream that already has a writer")):Ff(this,t):Bc(ch("abort"))},t.prototype.close=function(){return Lf(this)?Bf(this)?Bc(new h("Cannot close a stream that already has a writer")):zf(this)?Bc(new h("Cannot close an already-closing stream")):Mf(this):Bc(ch("close"))},t.prototype.getWriter=function(){if(!Lf(this))throw ch("getWriter");return Pf(this)},t}();function Pf(t){return new jf(t)}function xf(t){t.o="writable",t.uf=void 0,t.Gu=void 0,t.Ff=void 0,t.Mf=new $c,t.Uf=void 0,t.Vf=void 0,t.qf=void 0,t.zf=void 0,t.Hf=!1}function Lf(t){return!!Dc(t)&&(!!v.prototype.hasOwnProperty.call(t,"Ff")&&t instanceof Of)}function Bf(t){return void 0!==t.Gu}function Ff(t,n){var i;if("closed"===t.o||"errored"===t.o)return Lc(void 0);t.Ff.Wf=n,null===(i=t.Ff.jf)||void 0===i||i.abort();var e=t.o;if("closed"===e||"errored"===e)return Lc(void 0);if(void 0!==t.zf)return t.zf.$f;var r=!1;"erroring"===e&&(r=!0,n=void 0);var u=xc(function(i,e){t.zf={$f:void 0,Cu:i,Au:e,Xf:n,Gf:r}});return t.zf.$f=u,r||Vf(t,n),u}function Mf(t){var n=t.o;if("closed"===n||"errored"===n)return Bc(new h("The stream (in "+n+" state) is not in the writable state and cannot be closed"));var i,e=xc(function(n,i){var e={Cu:n,Au:i};t.Vf=e}),r=t.Gu;return void 0!==r&&t.Hf&&"writable"===n&&ph(r),Ma(i=t.Ff,Qf,0),rh(i),e}function Uf(t,n){"writable"!==t.o?qf(t):Vf(t,n)}function Vf(t,n){var i=t.Ff;t.o="erroring",t.uf=n;var e=t.Gu;void 0!==e&&Yf(e,n),!function(t){if(void 0===t.Uf&&void 0===t.qf)return!1;return!0}(t)&&i.Cf&&qf(t)}function qf(t){t.o="errored",t.Ff[ia]();var n=t.uf;if(t.Mf.forEach(function(t){t.Au(n)}),t.Mf=new $c,void 0!==t.zf){var i=t.zf;if(t.zf=void 0,i.Gf)return i.Au(n),void Hf(t);Mc(t.Ff[na](i.Xf),function(){i.Cu(),Hf(t)},function(n){i.Au(n),Hf(t)})}else Hf(t)}function zf(t){return void 0!==t.Vf||void 0!==t.qf}function Hf(t){void 0!==t.Vf&&(t.Vf.Au(t.uf),t.Vf=void 0);var n=t.Gu;void 0!==n&&lh(n,t.uf)}function Wf(t,n){var i=t.Gu;void 0!==i&&n!==t.Hf&&(n?function(t){gh(t)}(i):ph(i)),t.Hf=n}v.defineProperties(Of.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof Ec.toStringTag&&v.defineProperty(Of.prototype,Ec.toStringTag,{value:"WritableStream",configurable:!0});var jf=function(){function t(t){if(fa(t,1,"WritableStreamDefaultWriter"),Cf(t,"First parameter"),Bf(t))throw new h("This stream has already been locked for exclusive writing by another writer");this.Yf=t,t.Gu=this;var n,i=t.o;if("writable"===i)!zf(t)&&t.Hf?gh(this):mh(this),vh(this);else if("erroring"===i)yh(this,t.uf),vh(this);else if("closed"===i)mh(this),vh(n=this),wh(n);else{var e=t.uf;yh(this,e),dh(this,e)}}return v.defineProperty(t.prototype,"closed",{get:function(){return $f(this)?this.$o:Bc(fh("closed"))},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"desiredSize",{get:function(){if(!$f(this))throw fh("desiredSize");if(void 0===this.Yf)throw hh("desiredSize");return function(t){var n=t.Yf,i=n.o;if("errored"===i||"erroring"===i)return null;if("closed"===i)return 0;return eh(n.Ff)}(this)},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"ready",{get:function(){return $f(this)?this.Kf:Bc(fh("ready"))},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){return void 0===t&&(t=void 0),$f(this)?void 0===this.Yf?Bc(hh("abort")):function(t,n){return Ff(t.Yf,n)}(this,t):Bc(fh("abort"))},t.prototype.close=function(){if(!$f(this))return Bc(fh("close"));var t=this.Yf;return void 0===t?Bc(hh("close")):zf(t)?Bc(new h("Cannot close an already-closing stream")):Xf(this)},t.prototype.releaseLock=function(){if(!$f(this))throw fh("releaseLock");void 0!==this.Yf&&Kf(this)},t.prototype.write=function(t){return void 0===t&&(t=void 0),$f(this)?void 0===this.Yf?Bc(hh("write to")):Jf(this,t):Bc(fh("write"))},t}();function $f(t){return!!Dc(t)&&(!!v.prototype.hasOwnProperty.call(t,"Yf")&&t instanceof jf)}function Xf(t){return Mf(t.Yf)}function Gf(t,n){"pending"===t.Jf?lh(t,n):function(t,n){dh(t,n)}(t,n)}function Yf(t,n){"pending"===t.Qf?bh(t,n):function(t,n){yh(t,n)}(t,n)}function Kf(t){var n=t.Yf,i=new h("Writer was released and can no longer be used to monitor the stream's closedness");Yf(t,i),Gf(t,i),n.Gu=void 0,t.Yf=void 0}function Jf(t,n){var i=t.Yf,e=i.Ff,r=function(t,n){try{return t.Zf(n)}catch(n){return uh(t,n),1}}(e,n);if(i!==t.Yf)return Bc(hh("write to"));var u=i.o;if("errored"===u)return Bc(i.uf);if(zf(i)||"closed"===u)return Bc(new h("The stream is closing or closed and cannot be written to"));if("erroring"===u)return Bc(i.uf);var s=function(t){return xc(function(n,i){var e={Cu:n,Au:i};t.Mf.push(e)})}(i);return function(t,n,i){try{Ma(t,n,i)}catch(n){return void uh(t,n)}var e=t.th;if(!zf(e)&&"writable"===e.o){var r=sh(t);Wf(e,r)}rh(t)}(e,n,r),s}v.defineProperties(jf.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),"symbol"==typeof Ec.toStringTag&&v.defineProperty(jf.prototype,Ec.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});var Qf={},Zf=function(){function t(){throw new h("Illegal constructor")}return v.defineProperty(t.prototype,"abortReason",{get:function(){if(!th(this))throw ah("abortReason");return this.Wf},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"signal",{get:function(){if(!th(this))throw ah("signal");if(void 0===this.jf)throw new h("WritableStreamDefaultController.prototype.signal is not supported");return this.jf.signal},enumerable:!1,configurable:!0}),t.prototype.error=function(t){if(void 0===t&&(t=void 0),!th(this))throw ah("error");"writable"===this.th.o&&oh(this,t)},t.prototype[na]=function(t){var n=this.nh(t);return ih(this),n},t.prototype[ia]=function(){Ua(this)},t}();function th(t){return!!Dc(t)&&(!!v.prototype.hasOwnProperty.call(t,"th")&&t instanceof Zf)}function nh(t,n,i,e,r,u,s,o){n.th=t,t.Ff=n,n._f=void 0,n.kf=void 0,Ua(n),n.Wf=void 0,n.jf=function(){if(Af)return new AbortController}(),n.Cf=!1,n.Zf=o,n.Bf=s,n.ih=e,n.eh=r,n.nh=u;var c=sh(n);Wf(t,c),Mc(Lc(i()),function(){n.Cf=!0,rh(n)},function(i){n.Cf=!0,Uf(t,i)})}function ih(t){t.ih=void 0,t.eh=void 0,t.nh=void 0,t.Zf=void 0}function eh(t){return t.Bf-t.kf}function rh(t){var n=t.th;if(t.Cf&&void 0===n.Uf)if("erroring"!==n.o){if(0!==t._f.length){var i=t._f.peek().value;i===Qf?function(t){var n=t.th;(function(t){t.qf=t.Vf,t.Vf=void 0})(n),Fa(t);var i=t.eh();ih(t),Mc(i,function(){!function(t){t.qf.Cu(void 0),t.qf=void 0,"erroring"===t.o&&(t.uf=void 0,void 0!==t.zf&&(t.zf.Cu(),t.zf=void 0)),t.o="closed";var n=t.Gu;void 0!==n&&wh(n)}(n)},function(t){!function(t,n){t.qf.Au(n),t.qf=void 0,void 0!==t.zf&&(t.zf.Au(n),t.zf=void 0),Uf(t,n)}(n,t)})}(t):function(t,n){var i=t.th;(function(t){t.Uf=t.Mf.shift()})(i),Mc(t.ih(n),function(){!function(t){t.Uf.Cu(void 0),t.Uf=void 0}(i);var n=i.o;if(Fa(t),!zf(i)&&"writable"===n){var e=sh(t);Wf(i,e)}rh(t)},function(n){"writable"===i.o&&ih(t),function(t,n){t.Uf.Au(n),t.Uf=void 0,Uf(t,n)}(i,n)})}(t,i)}}else qf(n)}function uh(t,n){"writable"===t.th.o&&oh(t,n)}function sh(t){return eh(t)<=0}function oh(t,n){var i=t.th;ih(t),Vf(i,n)}function ch(t){return new h("WritableStream.prototype."+t+" can only be used on a WritableStream")}function ah(t){return new h("WritableStreamDefaultController.prototype."+t+" can only be used on a WritableStreamDefaultController")}function fh(t){return new h("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function hh(t){return new h("Cannot "+t+" a stream using a released writer")}function vh(t){t.$o=xc(function(n,i){t.sf=n,t.cf=i,t.Jf="pending"})}function dh(t,n){vh(t),lh(t,n)}function lh(t,n){void 0!==t.cf&&(zc(t.$o),t.cf(n),t.sf=void 0,t.cf=void 0,t.Jf="rejected")}function wh(t){void 0!==t.sf&&(t.sf(void 0),t.sf=void 0,t.cf=void 0,t.Jf="resolved")}function gh(t){t.Kf=xc(function(n,i){t.rh=n,t.uh=i}),t.Qf="pending"}function yh(t,n){gh(t),bh(t,n)}function mh(t){gh(t),ph(t)}function bh(t,n){void 0!==t.uh&&(zc(t.Kf),t.uh(n),t.rh=void 0,t.uh=void 0,t.Qf="rejected")}function ph(t){void 0!==t.rh&&(t.rh(void 0),t.rh=void 0,t.uh=void 0,t.Qf="fulfilled")}v.defineProperties(Zf.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),"symbol"==typeof Ec.toStringTag&&v.defineProperty(Zf.prototype,Ec.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});var _h="undefined"!=typeof DOMException?DOMException:void 0;var kh,Th=function(t){if("function"!=typeof t&&"object"!=typeof t)return!1;try{return new t,!0}catch(t){return!1}}(_h)?_h:((kh=function(t,n){this.message=t||"",this.name=n||"Error",f.captureStackTrace&&f.captureStackTrace(this,this.constructor)}).prototype=v.create(f.prototype),v.defineProperty(kh.prototype,"constructor",{value:kh,writable:!0,configurable:!0}),kh);function Sh(t,n,i,e,r,u){var s=ga(t),o=Pf(n);t.df=!0;var c=!1,a=Lc(void 0);return xc(function(f,v){var d,l,w,g;if(void 0!==u){if(d=function(){var i=new Th("Aborted","AbortError"),u=[];e||u.push(function(){return"writable"===n.o?Ff(n,i):Lc(void 0)}),r||u.push(function(){return"readable"===t.o?Kh(t,i):Lc(void 0)}),p(function(){return j.all(u.map(function(t){return t()}))},!0,i)},u.aborted)return void d();u.addEventListener("abort",d)}if(b(t,s.$o,function(t){e?_(!0,t):p(function(){return Ff(n,t)},!0,t)}),b(n,o.$o,function(n){r?_(!0,n):p(function(){return Kh(t,n)},!0,n)}),l=t,w=s.$o,g=function(){i?_():p(function(){return function(t){var n=t.Yf,i=n.o;return zf(n)||"closed"===i?Lc(void 0):"errored"===i?Bc(n.uf):Xf(t)}(o)})},"closed"===l.o?g():Uc(w,g),zf(n)||"closed"===n.o){var y=new h("the destination writable stream closed before all data could be piped to it");r?_(!0,y):p(function(){return Kh(t,y)},!0,y)}function m(){var t=a;return Fc(a,function(){return t!==a?m():void 0})}function b(t,n,i){"errored"===t.o?i(t.uf):Vc(n,i)}function p(t,i,e){function r(){Mc(t(),function(){return k(i,e)},function(t){return k(!0,t)})}c||(c=!0,"writable"!==n.o||zf(n)?r():Uc(m(),r))}function _(t,i){c||(c=!0,"writable"!==n.o||zf(n)?k(t,i):Uc(m(),function(){return k(t,i)}))}function k(t,n){Kf(o),Yc(s),void 0!==u&&u.removeEventListener("abort",d),t?v(n):f(void 0)}zc(xc(function(t,n){!function i(e){e?t():Fc(c?Lc(!0):Fc(o.Kf,function(){return xc(function(t,n){Ea(s,{hf:function(n){a=Fc(Jf(o,n),void 0,Ic),t(!1)},ff:function(){return t(!0)},vf:n})})}),i,n)}(!1)}))})}var Eh=function(){function t(){throw new h("Illegal constructor")}return v.defineProperty(t.prototype,"desiredSize",{get:function(){if(!Ih(this))throw Bh("desiredSize");return Ph(this)},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(!Ih(this))throw Bh("close");if(!xh(this))throw new h("The stream is not in a state that permits close");Ch(this)},t.prototype.enqueue=function(t){if(void 0===t&&(t=void 0),!Ih(this))throw Bh("enqueue");if(!xh(this))throw new h("The stream is not in a state that permits enqueue");return Ah(this,t)},t.prototype.error=function(t){if(void 0===t&&(t=void 0),!Ih(this))throw Bh("error");Oh(this,t)},t.prototype[ea]=function(t){Ua(this);var n=this.Rf(t);return Nh(this),n},t.prototype[ra]=function(t){var n=this.sh;if(this._f.length>0){var i=Fa(this);this.Ef&&0===this._f.length?(Nh(this),Jh(n)):Rh(this),t.hf(i)}else ya(n,t),Rh(this)},t}();function Ih(t){return!!Dc(t)&&(!!v.prototype.hasOwnProperty.call(t,"sh")&&t instanceof Eh)}function Rh(t){Dh(t)&&(t.Af?t.Of=!0:(t.Af=!0,Mc(t.Pf(),function(){t.Af=!1,t.Of&&(t.Of=!1,Rh(t))},function(n){Oh(t,n)})))}function Dh(t){var n=t.sh;return!!xh(t)&&(!!t.Cf&&(!!(Yh(n)&&ba(n)>0)||Ph(t)>0))}function Nh(t){t.Pf=void 0,t.Rf=void 0,t.Zf=void 0}function Ch(t){if(xh(t)){var n=t.sh;t.Ef=!0,0===t._f.length&&(Nh(t),Jh(n))}}function Ah(t,n){if(xh(t)){var i=t.sh;if(Yh(i)&&ba(i)>0)ma(i,n,!1);else{var e=void 0;try{e=t.Zf(n)}catch(n){throw Oh(t,n),n}try{Ma(t,n,e)}catch(n){throw Oh(t,n),n}}Rh(t)}}function Oh(t,n){var i=t.sh;"readable"===i.o&&(Ua(t),Nh(t),Qh(i,n))}function Ph(t){var n=t.sh.o;return"errored"===n?null:"closed"===n?0:t.Bf-t.kf}function xh(t){var n=t.sh.o;return!t.Ef&&"readable"===n}function Lh(t,n,i,e,r,u,s){n.sh=t,n._f=void 0,n.kf=void 0,Ua(n),n.Cf=!1,n.Ef=!1,n.Of=!1,n.Af=!1,n.Zf=s,n.Bf=u,n.Pf=e,n.Rf=r,t.lf=n,Mc(Lc(i()),function(){n.Cf=!0,Rh(n)},function(t){Oh(n,t)})}function Bh(t){return new h("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}function Fh(t,n){return za(t.lf)?function(t){var n,i,e,r,u,s=ga(t),o=!1,c=!1,a=!1,f=!1,h=!1,v=xc(function(t){u=t});function d(t){Vc(t.$o,function(n){t===s&&(sf(e.lf,n),sf(r.lf,n),f&&h||u(void 0))})}function l(){bf(s)&&(Yc(s),d(s=ga(t)));var n={hf:function(n){Hc(function(){c=!1,a=!1;var i=n,s=n;if(!f&&!h)try{s=Ba(n)}catch(n){return sf(e.lf,n),sf(r.lf,n),void u(Kh(t,n))}f||uf(e.lf,i),h||uf(r.lf,s),o=!1,c?g():a&&y()})},ff:function(){o=!1,f||rf(e.lf),h||rf(r.lf),e.lf.Nf.length>0&&af(e.lf,0),r.lf.Nf.length>0&&af(r.lf,0),f&&h||u(void 0)},vf:function(){o=!1}};Ea(s,n)}function w(n,i){Sa(s)&&(Yc(s),d(s=lf(t)));var v=i?r:e,l=i?e:r,w={hf:function(n){Hc(function(){c=!1,a=!1;var e=i?h:f,r=i?f:h;if(r)e||ff(v.lf,n);else{var s=void 0;try{s=Ba(n)}catch(n){return sf(v.lf,n),sf(l.lf,n),void u(Kh(t,n))}e||ff(v.lf,n),uf(l.lf,s)}o=!1,c?g():a&&y()})},ff:function(t){o=!1;var n=i?h:f,e=i?f:h;n||rf(v.lf),e||rf(l.lf),void 0!==t&&(n||ff(v.lf,t),!e&&l.lf.Nf.length>0&&af(l.lf,0)),n&&e||u(void 0)},vf:function(){o=!1}};pf(s,n,w)}function g(){if(o)return c=!0,Lc(void 0);o=!0;var t=of(e.lf);return null===t?l():w(t.Tf,!1),Lc(void 0)}function y(){if(o)return a=!0,Lc(void 0);o=!0;var t=of(r.lf);return null===t?l():w(t.Tf,!0),Lc(void 0)}function m(){}return e=$h(m,g,function(e){if(f=!0,n=e,h){var r=Oa([n,i]),s=Kh(t,r);u(s)}return v}),r=$h(m,y,function(e){if(h=!0,i=e,f){var r=Oa([n,i]),s=Kh(t,r);u(s)}return v}),d(s),[e,r]}(t):function(t,n){var i,e,r,u,s,o=ga(t),c=!1,a=!1,f=!1,h=!1,v=xc(function(t){s=t});function d(){if(c)return a=!0,Lc(void 0);c=!0;var t={hf:function(t){Hc(function(){a=!1;var n=t,i=t;f||Ah(r.lf,n),h||Ah(u.lf,i),c=!1,a&&d()})},ff:function(){c=!1,f||Ch(r.lf),h||Ch(u.lf),f&&h||s(void 0)},vf:function(){c=!1}};return Ea(o,t),Lc(void 0)}function l(){}return r=jh(l,d,function(n){if(f=!0,i=n,h){var r=Oa([i,e]),u=Kh(t,r);s(u)}return v}),u=jh(l,d,function(n){if(h=!0,e=n,f){var r=Oa([i,e]),u=Kh(t,r);s(u)}return v}),Vc(o.$o,function(t){Oh(r.lf,t),Oh(u.lf,t),f&&h||s(void 0)}),[r,u]}(t)}function Mh(t,n,i){return ca(t,i),function(i){return jc(t,n,[i])}}function Uh(t,n,i){return ca(t,i),function(i){return jc(t,n,[i])}}function Vh(t,n,i){return ca(t,i),function(i){return Wc(t,n,[i])}}function qh(t,n){if("bytes"!==(t=""+t))throw new h(n+" '"+t+"' is not a valid enumeration value for ReadableStreamType");return t}function zh(t,n){if("byob"!==(t=""+t))throw new h(n+" '"+t+"' is not a valid enumeration value for ReadableStreamReaderMode");return t}function Hh(t,n){oa(t,n);var i=null==t?void 0:t.preventAbort,e=null==t?void 0:t.preventCancel,r=null==t?void 0:t.preventClose,u=null==t?void 0:t.signal;return void 0!==u&&function(t,n){if(!function(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}(t))throw new h(n+" is not an AbortSignal.")}(u,n+" has member 'signal' that"),{preventAbort:Boolean(i),preventCancel:Boolean(e),preventClose:Boolean(r),signal:u}}v.defineProperties(Eh.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof Ec.toStringTag&&v.defineProperty(Eh.prototype,Ec.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});var Wh=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),void 0===t?t=null:aa(t,"First parameter");var i=Sf(n,"Second parameter"),e=function(t,n){oa(t,n);var i=t,e=null==i?void 0:i.autoAllocateChunkSize,r=null==i?void 0:i.cancel,u=null==i?void 0:i.pull,s=null==i?void 0:i.start,o=null==i?void 0:i.type;return{autoAllocateChunkSize:void 0===e?void 0:la(e,n+" has member 'autoAllocateChunkSize' that"),cancel:void 0===r?void 0:Mh(r,i,n+" has member 'cancel' that"),pull:void 0===u?void 0:Uh(u,i,n+" has member 'pull' that"),start:void 0===s?void 0:Vh(s,i,n+" has member 'start' that"),type:void 0===o?void 0:qh(o,n+" has member 'type' that")}}(t,"First parameter");if(Xh(this),"bytes"===e.type){if(void 0!==i.size)throw new RangeError("The strategy for a byte stream cannot have a size function");!function(t,n,i){var e=v.create(qa.prototype),r=function(){},u=function(){return Lc(void 0)},s=function(){return Lc(void 0)};void 0!==n.start&&(r=function(){return n.start(e)}),void 0!==n.pull&&(u=function(){return n.pull(e)}),void 0!==n.cancel&&(s=function(t){return n.cancel(t)});var o=n.autoAllocateChunkSize;if(0===o)throw new h("autoAllocateChunkSize must be greater than 0");hf(t,e,r,u,s,i,o)}(this,e,kf(i,0))}else{var r=Tf(i);!function(t,n,i,e){var r=v.create(Eh.prototype),u=function(){},s=function(){return Lc(void 0)},o=function(){return Lc(void 0)};void 0!==n.start&&(u=function(){return n.start(r)}),void 0!==n.pull&&(s=function(){return n.pull(r)}),void 0!==n.cancel&&(o=function(t){return n.cancel(t)}),Lh(t,r,u,s,o,i,e)}(this,e,kf(i,1),r)}}return v.defineProperty(t.prototype,"locked",{get:function(){if(!Gh(this))throw Zh("locked");return Yh(this)},enumerable:!1,configurable:!0}),t.prototype.cancel=function(t){return void 0===t&&(t=void 0),Gh(this)?Yh(this)?Bc(new h("Cannot cancel a stream that already has a reader")):Kh(this,t):Bc(Zh("cancel"))},t.prototype.getReader=function(t){if(void 0===t&&(t=void 0),!Gh(this))throw Zh("getReader");return void 0===function(t,n){oa(t,n);var i=null==t?void 0:t.mode;return{mode:void 0===i?void 0:zh(i,n+" has member 'mode' that")}}(t,"First parameter").mode?ga(this):lf(this)},t.prototype.pipeThrough=function(t,n){if(void 0===n&&(n={}),!Gh(this))throw Zh("pipeThrough");fa(t,1,"pipeThrough");var i=function(t,n){oa(t,n);var i=null==t?void 0:t.readable;ha(i,"readable","ReadableWritablePair"),wa(i,n+" has member 'readable' that");var e=null==t?void 0:t.writable;return ha(e,"writable","ReadableWritablePair"),Cf(e,n+" has member 'writable' that"),{readable:i,writable:e}}(t,"First parameter"),e=Hh(n,"Second parameter");if(Yh(this))throw new h("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(Bf(i.writable))throw new h("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return zc(Sh(this,i.writable,e.preventClose,e.preventAbort,e.preventCancel,e.signal)),i.readable},t.prototype.pipeTo=function(t,n){if(void 0===n&&(n={}),!Gh(this))return Bc(Zh("pipeTo"));if(void 0===t)return Bc("Parameter 1 is required in 'pipeTo'.");if(!Lf(t))return Bc(new h("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));var i;try{i=Hh(n,"Second parameter")}catch(t){return Bc(t)}return Yh(this)?Bc(new h("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):Bf(t)?Bc(new h("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Sh(this,t,i.preventClose,i.preventAbort,i.preventCancel,i.signal)},t.prototype.tee=function(){if(!Gh(this))throw Zh("tee");return Oa(Fh(this))},t.prototype.values=function(t){if(void 0===t&&(t=void 0),!Gh(this))throw Zh("values");var n,i,e,r,u,s=function(t,n){oa(t,n);var i=null==t?void 0:t.preventCancel;return{preventCancel:Boolean(i)}}(t,"First parameter");return n=this,i=s.preventCancel,e=ga(n),r=new Ra(e,i),(u=v.create(Da)).pf=r,u},t}();function jh(t,n,i,e,r){void 0===e&&(e=1),void 0===r&&(r=function(){return 1});var u=v.create(Wh.prototype);return Xh(u),Lh(u,v.create(Eh.prototype),t,n,i,e,r),u}function $h(t,n,i){var e=v.create(Wh.prototype);return Xh(e),hf(e,v.create(qa.prototype),t,n,i,0,void 0),e}function Xh(t){t.o="readable",t.rf=void 0,t.uf=void 0,t.df=!1}function Gh(t){return!!Dc(t)&&(!!v.prototype.hasOwnProperty.call(t,"lf")&&t instanceof Wh)}function Yh(t){return void 0!==t.rf}function Kh(t,n){if(t.df=!0,"closed"===t.o)return Lc(void 0);if("errored"===t.o)return Bc(t.uf);Jh(t);var i=t.rf;return void 0!==i&&bf(i)&&(i.xf.forEach(function(t){t.ff(void 0)}),i.xf=new $c),qc(t.lf[ea](n),Ic)}function Jh(t){t.o="closed";var n=t.rf;void 0!==n&&(ta(n),Sa(n)&&(n.af.forEach(function(t){t.ff()}),n.af=new $c))}function Qh(t,n){t.o="errored",t.uf=n;var i=t.rf;void 0!==i&&(Zc(i,n),Sa(i)?(i.af.forEach(function(t){t.vf(n)}),i.af=new $c):(i.xf.forEach(function(t){t.vf(n)}),i.xf=new $c))}function Zh(t){return new h("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}function tv(t,n){oa(t,n);var i=null==t?void 0:t.highWaterMark;return ha(i,"highWaterMark","QueuingStrategyInit"),{highWaterMark:va(i)}}v.defineProperties(Wh.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof Ec.toStringTag&&v.defineProperty(Wh.prototype,Ec.toStringTag,{value:"ReadableStream",configurable:!0}),"symbol"==typeof Ec.asyncIterator&&v.defineProperty(Wh.prototype,Ec.asyncIterator,{value:Wh.prototype.values,writable:!0,configurable:!0});var nv=function(t){return t.byteLength};try{v.defineProperty(nv,"name",{value:"size",configurable:!0})}catch(W){}var iv=function(){function t(t){fa(t,1,"ByteLengthQueuingStrategy"),t=tv(t,"First parameter"),this.oh=t.highWaterMark}return v.defineProperty(t.prototype,"highWaterMark",{get:function(){if(!rv(this))throw ev("highWaterMark");return this.oh},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"size",{get:function(){if(!rv(this))throw ev("size");return nv},enumerable:!1,configurable:!0}),t}();function ev(t){return new h("ByteLengthQueuingStrategy.prototype."+t+" can only be used on a ByteLengthQueuingStrategy")}function rv(t){return!!Dc(t)&&(!!v.prototype.hasOwnProperty.call(t,"oh")&&t instanceof iv)}v.defineProperties(iv.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof Ec.toStringTag&&v.defineProperty(iv.prototype,Ec.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});var uv=function(){return 1};try{v.defineProperty(uv,"name",{value:"size",configurable:!0})}catch(W){}var sv=function(){function t(t){fa(t,1,"CountQueuingStrategy"),t=tv(t,"First parameter"),this.ah=t.highWaterMark}return v.defineProperty(t.prototype,"highWaterMark",{get:function(){if(!cv(this))throw ov("highWaterMark");return this.ah},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"size",{get:function(){if(!cv(this))throw ov("size");return uv},enumerable:!1,configurable:!0}),t}();function ov(t){return new h("CountQueuingStrategy.prototype."+t+" can only be used on a CountQueuingStrategy")}function cv(t){return!!Dc(t)&&(!!v.prototype.hasOwnProperty.call(t,"ah")&&t instanceof sv)}function av(t,n,i){return ca(t,i),function(i){return jc(t,n,[i])}}function fv(t,n,i){return ca(t,i),function(i){return Wc(t,n,[i])}}function hv(t,n,i){return ca(t,i),function(i,e){return jc(t,n,[i,e])}}v.defineProperties(sv.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof Ec.toStringTag&&v.defineProperty(sv.prototype,Ec.toStringTag,{value:"CountQueuingStrategy",configurable:!0});var vv=function(){function t(t,n,i){void 0===t&&(t={}),void 0===n&&(n={}),void 0===i&&(i={}),void 0===t&&(t=null);var e=Sf(n,"Second parameter"),r=Sf(i,"Third parameter"),u=function(t,n){oa(t,n);var i=null==t?void 0:t.flush,e=null==t?void 0:t.readableType,r=null==t?void 0:t.start,u=null==t?void 0:t.transform,s=null==t?void 0:t.writableType;return{flush:void 0===i?void 0:av(i,t,n+" has member 'flush' that"),readableType:e,start:void 0===r?void 0:fv(r,t,n+" has member 'start' that"),transform:void 0===u?void 0:hv(u,t,n+" has member 'transform' that"),writableType:s}}(t,"First parameter");if(void 0!==u.readableType)throw new RangeError("Invalid readableType specified");if(void 0!==u.writableType)throw new RangeError("Invalid writableType specified");var s,o=kf(r,0),c=Tf(r),a=kf(e,1),f=Tf(e);!function(t,n,i,e,r,u){function s(){return n}t.fh=function(t,n,i,e,r,u){void 0===r&&(r=1),void 0===u&&(u=function(){return 1});var s=v.create(Of.prototype);return xf(s),nh(s,v.create(Zf.prototype),t,n,i,e,r,u),s}(s,function(n){return function(t,n){var i=t.hh;if(t.Hf){var e=t.vh;return qc(e,function(){var e=t.fh,r=e.o;if("erroring"===r)throw e.uf;return _v(i,n)})}return _v(i,n)}(t,n)},function(){return function(t){var n=t.dh,i=t.hh,e=i.lh();return bv(i),qc(e,function(){if("errored"===n.o)throw n.uf;Ch(n.lf)},function(i){throw lv(t,i),n.uf})}(t)},function(n){return function(t,n){return lv(t,n),Lc(void 0)}(t,n)},i,e),t.dh=jh(s,function(){return function(t){return gv(t,!1),t.vh}(t)},function(n){return wv(t,n),Lc(void 0)},r,u),t.Hf=void 0,t.vh=void 0,t.wh=void 0,gv(t,!0),t.hh=void 0}(this,xc(function(t){s=t}),a,f,o,c),function(t,n){var i=v.create(yv.prototype),e=function(t){try{return pv(i,t),Lc(void 0)}catch(t){return Bc(t)}},r=function(){return Lc(void 0)};void 0!==n.transform&&(e=function(t){return n.transform(t,i)});void 0!==n.flush&&(r=function(){return n.flush(i)});!function(t,n,i,e){n.gh=t,t.hh=n,n.yh=i,n.lh=e}(t,i,e,r)}(this,u),void 0!==u.start?s(u.start(this.hh)):s(void 0)}return v.defineProperty(t.prototype,"readable",{get:function(){if(!dv(this))throw Tv("readable");return this.dh},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"writable",{get:function(){if(!dv(this))throw Tv("writable");return this.fh},enumerable:!1,configurable:!0}),t}();function dv(t){return!!Dc(t)&&(!!v.prototype.hasOwnProperty.call(t,"hh")&&t instanceof vv)}function lv(t,n){Oh(t.dh.lf,n),wv(t,n)}function wv(t,n){bv(t.hh),uh(t.fh.Ff,n),t.Hf&&gv(t,!1)}function gv(t,n){void 0!==t.vh&&t.wh(),t.vh=xc(function(n){t.wh=n}),t.Hf=n}v.defineProperties(vv.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),"symbol"==typeof Ec.toStringTag&&v.defineProperty(vv.prototype,Ec.toStringTag,{value:"TransformStream",configurable:!0});var yv=function(){function t(){throw new h("Illegal constructor")}return v.defineProperty(t.prototype,"desiredSize",{get:function(){if(!mv(this))throw kv("desiredSize");return Ph(this.gh.dh.lf)},enumerable:!1,configurable:!0}),t.prototype.enqueue=function(t){if(void 0===t&&(t=void 0),!mv(this))throw kv("enqueue");pv(this,t)},t.prototype.error=function(t){if(void 0===t&&(t=void 0),!mv(this))throw kv("error");var n;n=t,lv(this.gh,n)},t.prototype.terminate=function(){if(!mv(this))throw kv("terminate");!function(t){var n=t.gh;Ch(n.dh.lf);var i=new h("TransformStream terminated");wv(n,i)}(this)},t}();function mv(t){return!!Dc(t)&&(!!v.prototype.hasOwnProperty.call(t,"gh")&&t instanceof yv)}function bv(t){t.yh=void 0,t.lh=void 0}function pv(t,n){var i=t.gh,e=i.dh.lf;if(!xh(e))throw new h("Readable side is not in a state that permits enqueue");try{Ah(e,n)}catch(t){throw wv(i,t),i.dh.uf}(function(t){return!Dh(t)})(e)!==i.Hf&&gv(i,!0)}function _v(t,n){return qc(t.yh(n),void 0,function(n){throw lv(t.gh,n),n})}function kv(t){return new h("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function Tv(t){return new h("TransformStream.prototype."+t+" can only be used on a TransformStream")}v.defineProperties(yv.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof Ec.toStringTag&&v.defineProperty(yv.prototype,Ec.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});var Sv,Ev=function(t){function n(n){var i;return(i=t.call(this,""+n.join("\n"),n[0])||this).causes=n,i}return vt(n,t),ft(n,[{key:"name",get:function(){return"AggregateError"}}]),n}(on);function Iv(t){return n=[t],new Wh({start:function(t){for(var i=0;i<n.length;i++){var e=n[i];t.enqueue(e)}t.close()}});var n}function Rv(t){return Iv(new y(t))}function Dv(t,n){return function(t,n){var i=n,e=t.getReader(),r=new cs,u=function(){s();var t=new Fr;e.cancel(t).catch(Bt),r.Pu(t)},s=function(){i&&(i.Lr(u),i=void 0)};i&&(i.Dr?u():i.xr(u));var o=[];return j.resolve(e.read()).then(function t(n){return n.done?(s(),j.resolve(o)):(o.push(n.value),j.resolve(e.read()).then(t))}).then(function(t){s(),r.Ou(t)},function(t){s(),r.Pu(t)}),r.Nu}(t,n).then(function(t){return bu(t).buffer})}function Nv(t,n){var i=n,e=new vv,r=e.readable,u=e.writable,s=u.getWriter(),o=function(){i&&i.Ur()};return s.closed.then(o,o),t.then(function(t){return i=void 0,s.releaseLock(),t.pipeTo(u).catch(Bt)},function(t){return i=void 0,s.releaseLock(),u.abort(t).catch(Bt)}),r}function Cv(t){return Qu(new y(t))}function Av(t){return Zu(t).buffer}!function(t){t[t.Ga=0]="Ga",t[t.mh=1]="mh"}(Sv||(Sv={}));var Ov="content-type",Pv="text/plain;charset=UTF-8",xv=function(){function t(){}var n=t.prototype;return n.bh=function(t){return this.ph(t).then(JSON.parse)},n._h=function(t,n){switch(t){case _c.$a:return this.kh(n);case _c.Xa:return this.bh(n);case _c.Ga:return this.Th();case _c.ei:return this.ph(n);default:throw new h}},t}();function Lv(t,n,i){if(t instanceof xv)return t;if(t instanceof Wh)return function(t,n){return new Fv({dr:Sv.Ga,Th:t,Sh:Bv(n)})}(t,i);var e=Bv(i),r=j.resolve(t).then(function(t){return function(t,n){if(t){if("string"==typeof t)return{dr:_c.ei,Eh:t,Sh:n||Pv};if(t instanceof ArrayBuffer||yu(t))return{dr:_c.$a,Eh:Wv(t),Sh:n};if(At(t)||Dt(t))return{dr:_c.Xa,Eh:t,Sh:n};throw new h("Unsupported BodyInit type")}return{dr:_c.ei,Eh:null,Sh:n}}(t,e)});return new Fv({dr:Sv.mh,Nu:r,Ih:n})}function Bv(t){return(t.get(Ov)||"").toLowerCase()}var Fv=function(t){function n(n){var i;return(i=t.call(this)||this).Rh=!1,i.Dh=void 0,i.Nh=new cs,i.Nh.Nu.catch(Bt),i.Ch(n),i}vt(n,t);var i=n.prototype;return i.Ah=function(){return this.Nh.Nu},i.ph=function(t){return this.Oh(Mv,t)},i.bh=function(t){return this.Oh(Vv,t)},i.kh=function(t){return this.Oh(zv,t)},i.Th=function(){return this.Ph((t=this.Dh).dr===Sv.Ga?t.Th:Nv(t.Nu.then(Hv).then(Rv),t.Ih));var t},i.Oh=function(t,n){if(this.Rh)return j.reject(new h("Already used"));this.Rh=!0;var i=t(this.Dh,n);return this.Nh.Ou(i.then(Bt)),i},i.Ph=function(t){if(this.Rh)throw new h("Already used");if(t.locked)throw new h("Body stream is locked");this.Rh=!0;var n=new vv,i=j.resolve(t.pipeTo(n.writable));return this.Nh.Ou(i),n.readable},i.Ch=function(t){this.Dh=t,t.dr===Sv.mh&&t.Nu.catch(Bt)},i.xh=function(){if(this.Rh)throw new h("Already used");var t=function(t){if(t.dr===Sv.Ga){var n=t.Th.tee(),i=n[0],e=n[1];return[{dr:t.dr,Th:i,Sh:t.Sh},{dr:t.dr,Th:e,Sh:t.Sh}]}var r=t.Ih.qr(),u=r[0],s=r[1];return[{dr:t.dr,Nu:t.Nu,Ih:u},{dr:t.dr,Nu:t.Nu,Ih:s}]}(this.Dh),i=t[0],e=t[1];return this.Ch(i),new n(e)},ft(n,[{key:"Lh",get:function(){return this.Rh}}]),n}(xv);function Mv(t,n){return t.dr===Sv.Ga?Dv(t.Th,n).then(Cv):(n&&t.Ih.Vr(n),Hr(t.Nu.then(Uv),t.Ih))}function Uv(t){switch(t.dr){case _c.ei:return j.resolve(t.Eh||"");case _c.$a:return j.resolve(t.Eh).then(Cv);case _c.Xa:return j.resolve(t.Eh).then(JSON.stringify)}}function Vv(t,n){return t.dr===Sv.Ga?Mv(t,n).then(JSON.parse):(n&&t.Ih.Vr(n),Hr(t.Nu.then(qv),t.Ih))}function qv(t){return t.dr===_c.Xa?j.resolve(t.Eh):Uv(t).then(JSON.parse)}function zv(t,n){return t.dr===Sv.Ga?Dv(t.Th,n):(n&&t.Ih.Vr(n),Hr(t.Nu.then(Hv),t.Ih))}function Hv(t){switch(t.dr){case _c.$a:return j.resolve(t.Eh);case _c.ei:case _c.Xa:return Uv(t).then(Av)}}function Wv(t){return t instanceof ArrayBuffer?t:ss(is(t)).buffer}function jv(t){return t.Bh>=200&&t.Bh<=299||304===t.Bh}var $v,Xv,Gv,Yv,Kv=function(t){function n(n,i){var e,r,u,s,o,c;i?(r=i.Fh,u=i.Mh,s=i.Bh,o=i.Uh,c=i.Vh):(r=[],u=_c.ei,s=200,o="OK",c=!1);var a=n.qh,f=new kc(n.Fh||r),h=n.Mh||u,v=n.zh||(i&&i.qh===a?i.zh:a.Hh),d=i?i.Wh:null,l=Lv(void 0!==n.Oi?n.Oi:d,n.Ih||new Br,f);return(e=t.call(this,l)||this).Fh=void 0,e.qh=void 0,e.zh=void 0,e.Mh=void 0,e.Bh=void 0,e.Uh=void 0,e.Vh=void 0,e.Fh=f,e.qh=a,e.zh=v,e.Mh=h,e.Bh=void 0!==n.Bh?n.Bh:s,e.Uh=void 0!==n.Uh?String(n.Uh):o,e.Vh=n.Vh||c,e}vt(n,t);var i=n.prototype;return i.Oi=function(t){return this._h(this.Mh,t)},i.Su=function(){return new n({Oi:this.xh(),qh:this.qh},this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).Wh=void 0,i.Wh=n,i}vt(n,t);var i=n.prototype;return i.Ah=function(){return this.Wh.Ah()},i.ph=function(t){return this.Wh.ph(t)},i.bh=function(t){return this.Wh.bh(t)},i.kh=function(t){return this.Wh.kh(t)},i.Th=function(){return this.Wh.Th()},i.xh=function(){return this.Wh.xh()},ft(n,[{key:"Lh",get:function(){return this.Wh.Lh}}]),n}(xv));!function(t){t.DELETE="DELETE",t.GET="GET",t.HEAD="HEAD",t.OPTIONS="OPTIONS",t.POST="POST",t.PUT="PUT"}($v||($v={})),function(t){t.jh="",t.$h="manifest",t.Xh="segment",t.Gh="content-protection"}(Xv||(Xv={})),function(t){t.jh="",t.Yh="initialization-segment",t.Kh="fairplay-license",t.Jh="fairplay-certificate",t.Qh="widevine-license",t.Zh="widevine-certificate",t.tv="playready-license",t.nv="clearkey-license",t.ev="aes128-key"}(Gv||(Gv={})),function(t){t.jh="",t.rv="audio",t.uv="video",t.ei="text",t.sv="image"}(Yv||(Yv={}));var Jv=function(t,n){this.Eh=void 0,this.Fh=void 0,this.ov=void 0,this.Mh=void 0,this.cv=void 0,this.zr=void 0,this.dr=void 0,this.av=void 0,this.fv=void 0,this.Hh=void 0,this.hv=void 0,this.vv=void 0;var i,e,r,u,s,o,c,a,f,h,v,d=t.Hh;n?(i=n.Eh,e=n.Fh,r=n.ov,u=n.Mh,s=n.cv,o=n.zr,c=n.dr,a=n.av,f=n.fv,h=n.hv,v=n.vv):(i=null,e={},r=$v.GET,u=_c.ei,s=0,c=Xv.jh,a=Gv.jh,f=Yv.jh,h=!1),this.Hh=d,this.Eh=t.Eh||i,this.Fh=new kc(t.Fh||e),this.ov=t.ov||r,this.Mh=t.Mh||u,this.cv=void 0!==t.cv?Number(t.cv)||0:s,this.zr=t.zr||o||(new Br).zr,this.dr=t.dr||c,this.av=t.av||a,this.fv=t.fv||f,this.hv=void 0!==t.hv?Boolean(t.hv):h,this.vv=t.vv||v},Qv=function(){function t(){}var n=t.prototype;return n.qh=function(t){var n=function(t){return new Kv({Oi:null,Fh:{},qh:t,zh:t.Hh,Mh:t.Mh,Bh:0,Uh:pc.Ea})}(new Jv(t));return j.resolve(n)},n.dv=function(t){},n.et=function(){},t}();var Zv=function(){function t(t,n){void 0===n&&(n=!0),this.lv=void 0,this.wv=void 0,this.lv=t,this.wv=n}var n=t.prototype;return n.qh=function(t){var n=this.gv(t);return this.lv.qh(n)},n.dv=function(t){return this.lv.dv(this.yv(t))},n.gv=function(n){var i=new Jv(n);if(!this.wv){var e=t.mv(i.Hh);i=new Jv({Hh:e},i)}return i},n.yv=function(n){var i=n.Hh;return this.wv||(i=t.mv(i)),{Hh:i,Eh:n.Eh}},t.mv=function(t){return st.Xe&&lr(t,"http://")?t.replace(":","s:"):t},n.et=function(){this.lv.et()},ft(t,null,[{key:"bv",get:function(){return t.pv||(t.pv=new t(new Qv)),t.pv}}]),t}();function td(t,n){for(var i=0,e=v.keys(n);i<e.length;i++){var r=e[i];t.searchParams.set(r,n[r])}}function nd(t,n){var i=st.qe(t);return n&&!wr(i,"/")&&(i+="/"),i}Zv.pv=void 0;var id,ed=/cache:(.+)?(?=&|$)/,rd="http://webcache.googleusercontent.com/search?q=cache:";function ud(t){if(!lr(t,rd))return"";var n=st.Ve(t).search.match(ed);return n&&n.length>1?n[1]:""}!function(t){t._v="HttpOpenError",t.kv="HttpResponseError",t.Tv="HttpTimeoutError"}(id||(id={}));var sd=function(t){function n(n,i,e){var r;return(r=t.call(this,i,e)||this).Sv=void 0,r.Sv=n,r}return vt(n,t),ft(n,[{key:"qh",get:function(){return this.Sv}}]),n}(on);var od=function(t){function n(n,i){return t.call(this,n,"Error while opening "+n.Hh+". Invalid URL.",i)||this}return vt(n,t),ft(n,[{key:"name",get:function(){return id._v}}]),n}(sd);var cd=function(t){function n(n,i,e){var r;return(r=t.call(this,n.qh,null!=e?e:function(t){return"Error while loading "+t.qh.Hh+", status code "+t.Bh}(n),i)||this).Ev=void 0,r.Ev=n,r}return vt(n,t),ft(n,[{key:"name",get:function(){return id.kv}},{key:"Iv",get:function(){return this.Ev}}]),n}(sd);var ad=function(t){function n(n,i){return t.call(this,n,function(t){return"Request for "+t.Hh+" timed out after "+t.cv+" seconds."}(n),i)||this}return vt(n,t),ft(n,[{key:"name",get:function(){return id.Tv}}]),n}(sd),fd=function(t,n){return(fd=v.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])})(t,n)};function hd(t,n){function i(){this.constructor=t}fd(t,n),t.prototype=null===n?v.create(n):(i.prototype=n.prototype,new i)}var vd="object"==typeof i?i:"object"==typeof t?t:"object"==typeof global?global:null;var dd=function(){var t=vd.Blob;if(t)try{return new t,function(t,n){return new vd.Blob(t,n)}}catch(t){}var n,i=vd.BlobBuilder||vd.WebKitBlobBuilder||vd.MozBlobBuilder||vd.MSBlobBuilder;return i?(n=i,function(t,i){var e=new n;if(t)for(var r=0,u=t;r<u.length;r++){var s=u[r];e.append(s)}return e.getBlob(i&&i.type||"")}):null}(),ld="function"==typeof Wh?Wh:void 0;function wd(t){return t&&"function"==typeof t.getReader}function gd(t){if("function"!=typeof t)return!1;try{var n=!1,i=new t({start:function(){n=!0}});return!!n&&wd(i)}catch(t){return!1}}var yd=function(){function t(t,n){this.rf=t,this.Rv=n}return t.prototype.pull=function(t){var n=this;return this.rf.read().then(function(i){n.Rv&&n.Rv(i),i.done?t.close():t.enqueue(i.value)})},t.prototype.cancel=function(t){return this.rf.cancel(t)},t}();function md(t,n){return n.constructor===t?n:new t(new yd(n.getReader()),{highWaterMark:0})}var bd=function(){function t(t,n){this.Dv=t,this.Nv=n}return t.prototype.pull=function(t){return this.Dv().then(function(n){t.enqueue(new y(n)),t.close()})},t.prototype.cancel=function(t){this.Nv&&this.Nv(t)},t}();function pd(t,n,i){return new t(new bd(n,i),{highWaterMark:0})}var _d={searchParams:"URLSearchParams"in vd,iterable:"Symbol"in vd&&"iterator"in Symbol,blob:"FileReader"in vd&&!!dd,formData:"FormData"in vd,arrayBuffer:"ArrayBuffer"in vd,stream:gd(ld),streamRequest:"Request"in vd&&"body"in vd.Request.prototype,streamResponse:"Response"in vd&&"body"in vd.Response.prototype,abort:"AbortController"in vd&&"Request"in vd&&"signal"in vd.Request.prototype,encoding:"TextEncoder"in vd&&"TextDecoder"in vd,url:"URL"in vd&&function(t){try{return new vd.URL(t).toString()===t}catch(t){return!1}}("http://example.com/"),firefox:"navigator"in vd&&/Firefox\//.test(vd.navigator.userAgent)};function kd(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new h("Invalid character in header field name");return t}function Td(t){return"string"!=typeof t&&(t=String(t)),t}function Sd(t){var n={next:function(){var n=t.shift();return{done:void 0===n,value:n}}};return _d.iterable&&(n[Symbol.iterator]=function(){return n}),n}var Ed=function(){function t(t){var n=this;this.rr={};var i,e=function(t,i){Array.isArray(t)&&2===t.length?n.append(t[0],t[1]):n.append(i,t)};(i=t)&&"function"==typeof i.forEach?t.forEach(e):!function(t){return _d.iterable&&t&&t[Symbol.iterator]}(t)?t&&v.getOwnPropertyNames(t).forEach(function(i){n.append(i,t[i])}):Array.from(t).forEach(e)}return t.prototype.append=function(t,n){t=kd(t),n=Td(n);var i=t.toLowerCase();if(this.rr.hasOwnProperty(i)){var e=this.rr[i],r=e[1];e[1]=r?r+", "+n:n}else this.rr[i]=[t,n]},t.prototype.delete=function(t){var n=kd(t).toLowerCase();delete this.rr[n]},t.prototype.get=function(t){var n=kd(t).toLowerCase();return this.rr.hasOwnProperty(n)?this.rr[n][1]:null},t.prototype.has=function(t){var n=kd(t).toLowerCase();return this.rr.hasOwnProperty(n)},t.prototype.set=function(t,n){var i=(t=kd(t)).toLowerCase();this.rr[i]=[t,Td(n)]},t.prototype.forEach=function(t,n){for(var i in this.rr)this.rr.hasOwnProperty(i)&&t.call(n,this.rr[i][1],i,this)},t.prototype.keys=function(){var t=[];return this.forEach(function(n,i){t.push(i)}),Sd(t)},t.prototype.values=function(){var t=[];return this.forEach(function(n){t.push(n)}),Sd(t)},t.prototype.entries=function(){var t=[];return this.forEach(function(n,i){t.push([i,n])}),Sd(t)},t.prototype.asList=function(){var t=[];for(var n in this.rr)if(this.rr.hasOwnProperty(n)){var i=this.rr[n],e=i[0],r=i[1];t.push([e,r])}return t},t}();function Id(){}_d.iterable&&(Ed.prototype[Symbol.iterator]=Ed.prototype.entries);var Rd,Dd,Nd,Cd=d.min,Ad=String.fromCharCode,Od=16384;function Pd(t){for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return function(t){for(var n=t.length,i=[],e=0;e<n;e+=Od){var r=Cd(e+Od,n);i.push(Ad.apply(null,t.slice(e,r)))}return i.join("")}(n)}function xd(t){if(t>=55296&&t<=57343)throw new f("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function Ld(t,n){return t>>n&63|128}function Bd(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(xd(t),n.push(t>>12&15|224),n.push(Ld(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(Ld(t,12)),n.push(Ld(t,6))),n.push(63&t|128)):n.push(t)}function Fd(){if(Nd>=Dd)throw new f("Invalid byte index");var t=255&Rd[Nd];if(Nd++,128==(192&t))return 63&t;throw new f("Invalid continuation byte")}function Md(){var t,n;if(Nd>Dd)throw new f("Invalid byte index");if(Nd===Dd)return!1;if(t=255&Rd[Nd],Nd++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|Fd())>=128)return n;throw new f("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|Fd()<<6|Fd())>=2048)return xd(n),n;throw new f("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|Fd()<<12|Fd()<<6|Fd())>=65536&&n<=1114111)return n;throw new f("Invalid UTF-8 detected")}var Ud=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];function Vd(t){return t&&URLSearchParams.prototype.isPrototypeOf(t)}function qd(t){return t&&ArrayBuffer.prototype.isPrototypeOf(t)}function zd(t){return t&&DataView.prototype.isPrototypeOf(t)}var Hd,Wd=ArrayBuffer.isView||function(t){return t&&(Ud.indexOf(v.prototype.toString.call(t))>-1||zd(t))};function jd(t){if(t.bodyUsed)return j.reject(new h("Already used"));t.bodyUsed=!0}function $d(t){return new j(function(n,i){t.onload=function(){n(t.result)},t.onerror=function(){i(t.error)}})}function Xd(t){return _d.encoding?new vd.TextDecoder("utf-8").decode(new y(t)):Pd(function(t){Dd=(Rd=t).length,Nd=0;for(var n,i=[];!1!==(n=Md());)i.push(n);return i}(new y(t)))}function Gd(t){return _d.encoding?(new vd.TextEncoder).encode(t).buffer:new y(function(t){for(var n=[],i=0,e=t;i<e.length;i++)Bd(e[i],n);return n}(function(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&r)<<10)+(1023&u)+65536):(n.push(r),i--)}else n.push(r)}return n}(t))).buffer}function Yd(t){var n=t.getReader(),i=[],e=function(t){var r=t.done,u=t.value;return r?j.resolve(i):(i.push(u),n.read().then(e))};return n.read().then(e)}function Kd(t){return Yd(t).then(function(t){return function(t){for(var n=0,i=0,e=t;i<e.length;i++)n+=(c=e[i]).byteLength;for(var r=new y(n),u=0,s=0,o=t;s<o.length;s++){var c=o[s];r.set(c,u),u+=c.byteLength}return r}(t).buffer})}function Jd(t){return t.slice?t.slice(0):Qd(new y(t))}function Qd(t){if(t.slice)return t.slice(0).buffer;var n=new y(t.byteLength);return n.set(new y(t.buffer,t.byteOffset,t.byteLength)),n.buffer}function Zd(t){var n=new FormData;return t.trim().split("&").forEach(function(t){if(t){var i=t.split("="),e=i.shift().replace(/\+/g," "),r=i.join("=").replace(/\+/g," ");n.append(decodeURIComponent(e),decodeURIComponent(r))}}),n}function tl(t){var n=t;if(n.bodyUsed)throw new h("Already used");if(n.Cv===Hd.Av){if(!n.Ov.tee)throw new f("could not clone ReadableStream body");var i=n.Ov.tee(),e=i[0],r=i[1];return n.body=e,n.Ov=e,n.Pv=e,r}return n.Cv===Hd.$a?Jd(n.Ov):n.Cv===Hd.mh?n.Ov.then(tl):n.Pv}!function(t){t[t.ei=0]="ei",t[t.xv=1]="xv",t[t.Lv=2]="Lv",t[t.$a=3]="$a",t[t.Av=4]="Av",t[t.mh=5]="mh"}(Hd||(Hd={}));var nl=function(){function t(n,i){this.bodyUsed=!1;var e,r,u,s=this;if(this.Pv=n||null,n)if("string"==typeof n)this.Cv=Hd.ei,this.Ov=n;else if((u=n)&&"function"==typeof u.then)this.Cv=Hd.mh,this.Ov=j.resolve(n).then(function(n){return new t(n,i)}),this.Ov.catch(Id);else if(_d.blob&&function(t){return t&&Blob.prototype.isPrototypeOf(t)}(n))this.Cv=Hd.xv,this.Ov=n;else if(_d.formData&&function(t){return t&&FormData.prototype.isPrototypeOf(t)}(n))this.Cv=Hd.Lv,this.Ov=n;else if(_d.searchParams&&Vd(n))this.Cv=Hd.ei,this.Ov=n.toString();else if(_d.arrayBuffer&&(qd(n)||Wd(n)))zd(n)&&(this.Pv=new y((r=n).buffer,r.byteOffset,r.byteLength)),this.Cv=Hd.$a,this.Ov=qd(e=n)?Jd(e):Qd(e);else{if(!_d.stream||!wd(n))throw new f("unsupported BodyInit type");n=md(ld,n),this.Cv=Hd.Av,this.Ov=n,this.Pv=n}else this.Cv=Hd.ei,this.Ov="";this.Bv="",i.has("content-type")?this.Bv=(i.get("content-type")||"").toLowerCase():("string"==typeof n?this.Bv="text/plain;charset=UTF-8":s.Cv===Hd.xv&&s.Ov.type?this.Bv=s.Ov.type:_d.searchParams&&Vd(n)&&(this.Bv="application/x-www-form-urlencoded;charset=UTF-8"),this.Bv&&i.set("content-type",this.Bv)),_d.stream&&(null==n?this.body=null:s.Cv===Hd.Av?this.body=s.Ov:this.body=pd(ld,function(){return s.arrayBuffer()},function(){s.bodyUsed=!0}))}return t.prototype.text=function(){var t,n,i,e=jd(this);return e||(this.Cv===Hd.xv?(t=this.Ov,n=new FileReader,i=$d(n),n.readAsText(t),i):this.Cv===Hd.$a?j.resolve(this.Ov).then(Xd):this.Cv===Hd.Av?Kd(this.Ov).then(Xd):this.Cv===Hd.mh?this.Ov.then(function(t){return t.text()}):this.Cv===Hd.Lv?j.reject(new f("could not read FormData body as text")):j.resolve(this.Ov))},t.prototype.json=function(){return this.text().then(JSON.parse)},t}();_d.blob&&(nl.prototype.blob=function(){var t,n,i=jd(this);return i||(this.Cv===Hd.xv?j.resolve(this.Ov):this.Cv===Hd.$a?j.resolve(dd([this.Ov],{type:this.Bv})):this.Cv===Hd.Av?(t=this.Ov,n=this.Bv,Yd(t).then(function(t){return dd(t,{type:n||""})})):this.Cv===Hd.mh?this.Ov.then(function(t){return t.blob()}):this.Cv===Hd.Lv?j.reject(new f("could not read FormData body as Blob")):j.resolve(dd([this.Ov],{type:this.Bv})))}),_d.arrayBuffer&&(nl.prototype.arrayBuffer=function(){var t,n,i;return this.Cv===Hd.$a?jd(this)||j.resolve(this.Ov):this.Cv===Hd.xv?jd(this)||(t=this.Ov,n=new FileReader,i=$d(n),n.readAsArrayBuffer(t),i):this.Cv===Hd.Av?Kd(this.Ov):this.Cv===Hd.mh?jd(this)||this.Ov.then(function(t){return t.arrayBuffer()}):this.Cv===Hd.Lv?j.reject(new f("could not read FormData body as ArrayBuffer")):j.resolve(this.Ov).then(Gd)}),_d.formData&&(nl.prototype.formData=function(){return this.Cv===Hd.Lv?jd(this)||j.resolve(this.Ov):this.text().then(Zd)});var il=[301,302,303,307,308],el=function(t){function n(n,i){var e=this,r=new Ed((i=i||{}).headers);return(e=t.call(this,n||null,r)||this).type="default",e.status=void 0===i.status?200:i.status,e.ok=e.status>=200&&e.status<300,e.statusText=void 0!==i.statusText?String(i.statusText):"",e.headers=r,e.url=i.url||"",e}return hd(n,t),n.prototype.clone=function(){return new n(tl(this),{status:this.status,statusText:this.statusText,headers:new Ed(this.headers),url:this.url})},n.error=function(){var t=new n(null,{status:0,statusText:""});return t.type="error",t},n.redirect=function(t,i){if(-1===il.indexOf(i))throw new RangeError("Invalid status code");return new n(null,{status:i,headers:{location:t}})},n}(nl);var rl,ul=function(t,n){return t(n={exports:{}},n.exports),n.exports}(function(t,n){function i(t,n){if(!(t instanceof n))throw new h("Cannot call a class as a function")}function r(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),v.defineProperty(t,e.key,e)}}function u(t,n,i){return n&&r(t.prototype,n),i&&r(t,i),t}function o(t){return(o=v.setPrototypeOf?v.getPrototypeOf:function(t){return t.__proto__||v.getPrototypeOf(t)})(t)}function c(t,n){return(c=v.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t,n,i){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,i){var e=function(t,n){for(;!v.prototype.hasOwnProperty.call(t,n)&&null!==(t=o(t)););return t}(t,n);if(e){var r=v.getOwnPropertyDescriptor(e,n);return r.get?r.get.call(i):r.value}})(t,n,i||t)}v.defineProperty(n,"__esModule",{value:!0});var d=function(){function t(){i(this,t),v.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return u(t,[{key:"addEventListener",value:function(t,n){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(n)}},{key:"removeEventListener",value:function(t,n){if(t in this.listeners)for(var i=this.listeners[t],e=0,r=i.length;e<r;e++)if(i[e]===n)return void i.splice(e,1)}},{key:"dispatchEvent",value:function(t){var n=this;if(t.type in this.listeners){for(var i=function(i){s(function(){return i.call(n,t)})},e=this.listeners[t.type],r=0,u=e.length;r<u;r++)i(e[r]);return!t.defaultPrevented}}}]),t}(),l=function(t){function n(){var t,e,r;return i(this,n),e=this,(t=!(r=o(n).call(this))||"object"!=typeof r&&"function"!=typeof r?a(e):r).listeners||d.call(a(t)),v.defineProperty(a(t),"aborted",{value:!1,writable:!0,configurable:!0}),v.defineProperty(a(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new h("Super expression must either be null or a function");t.prototype=v.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&c(t,n)}(n,d),u(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),f(o(n.prototype),"dispatchEvent",this).call(this,t)}}]),n}(),w=function(){function t(){i(this,t),v.defineProperty(this,"signal",{value:new l,writable:!0,configurable:!0})}return u(t,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(n){void 0!==e?e.createEvent?(t=e.createEvent("Event")).initEvent("abort",!1,!1):(t=e.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(w.prototype[Symbol.toStringTag]="AbortController",l.prototype[Symbol.toStringTag]="AbortSignal"),n.AbortSignal=l,n.AbortController=w,n.default=w});(rl=ul)&&rl.__esModule&&v.prototype.hasOwnProperty.call(rl,"default")&&rl.default;ul.AbortSignal;var sl=ul.AbortController,ol=vd.DOMException;try{new ol}catch(t){(ol=function(t,n){f.call(this,t),this.name=n||"Error",f.captureStackTrace&&f.captureStackTrace(this,this.constructor)}).prototype=v.create(f.prototype),ol.prototype.constructor=ol}var cl=sl;function al(t,n){if(!t.signal.aborted)if(n.aborted)t.abort();else{var i=function(){n.removeEventListener("abort",i),t.signal.removeEventListener("abort",i),t.abort()};n.addEventListener("abort",i),t.signal.addEventListener("abort",i)}}function fl(t,n,i){return new j(function(e,r){if(n.signal.aborted)return t.catch(Id),r(hl());var u=function(){n.signal.removeEventListener("abort",u),r(hl())};n.signal.addEventListener("abort",u),t.then(function(t){n.signal.removeEventListener("abort",u),e(t),i&&n.abort()},function(t){n.signal.removeEventListener("abort",u),r(t),i&&n.abort()})})}function hl(){return new ol("Aborted","AbortError")}var vl,dl="moz-chunked-arraybuffer";function ll(t){try{var n=new m;return n.open("GET","https://test"),n.responseType=t,n.responseType===t}catch(t){}return!1}!function(t){t[t.UNSENT=0]="UNSENT",t[t.OPENED=1]="OPENED",t[t.HEADERS_RECEIVED=2]="HEADERS_RECEIVED",t[t.LOADING=3]="LOADING",t[t.DONE=4]="DONE"}(vl||(vl={}));var wl=function(){function t(t,n){var i=this;this.Fv=!1,this.Sv=t,this.Mv=n,this.Uv=new m,this.Vv=new j(function(t,n){i.qv=t,i.zv=n})}return t.prototype.send=function(){var t=this;return this.Hv().then(function(n){return t.Wv(n,t.Mv),t.Vv})},t.prototype.Hv=function(){var t=this.Sv;return t.Cv===Hd.Av?t.arrayBuffer():j.resolve(t.Pv)},t.prototype.jv=function(t){this.Sv.onprogress&&this.Sv.onprogress(t.loaded,t.lengthComputable?t.total:void 0)},t.prototype.$v=function(t){this.zv(t)},t.prototype.Xv=function(){this.$v(new h("Network request failed"))},t.prototype.Gv=function(){this.$v(new h("Network request failed"))},t.prototype.Yv=function(){this.$v(hl())},t.prototype.Wv=function(t,n){var i=this,e=this.Sv,r=this.Uv,u=function(){return i.Kv()};if(e.signal.aborted)return this.Yv();r.onreadystatechange=function(){if(r.readyState>=vl.HEADERS_RECEIVED&&!i.Fv){var t=function(t){var n=new Ed;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var i=t.split(":"),e=i.shift().trim();if(e){var r=i.join(":").trim();n.append(e,r)}}),n}(r.getAllResponseHeaders()||""),n={status:r.status,statusText:r.statusText,headers:t,url:r.responseURL||t.get("X-Request-URL")};i.Fv=!0,i.Jv(n)}},r.onprogress=function(t){return i.jv(t)},r.onload=function(){return i.Qv()},r.onerror=function(){return i.Xv()},r.ontimeout=function(){return i.Gv()},r.onabort=function(){return i.Yv()},r.open(e.method,e.url,!0),r.withCredentials="include"===e.credentials,"responseType"in r&&n&&(r.responseType=n),e.headers.forEach(function(t,n){r.setRequestHeader(n,t)}),e.signal.addEventListener("abort",u),r.onloadend=function(){e.signal.removeEventListener("abort",u)},t?r.send(t):r.send()},t.prototype.Kv=function(){this.Yv(),this.Uv.abort()},t}(),gl=function(t){function n(n,i){var e=t.call(this,n,i)||this;return e.Zv=void 0,e.td=void 0,e}return hd(n,t),n.prototype.Jv=function(t){var n=this;this.Zv=new j(function(t,i){n.td=t,n.nd=i}),this.qv(new el(this.Zv,t))},n.prototype.Qv=function(){var t=this.Uv.response;if(null==t){var n=this.Mv;""===n||"text"===n?t=this.Uv.responseText:"document"===n?t=this.Uv.responseXML:"arraybuffer"===n?t=new ArrayBuffer(0):"blob"===n&&(t=dd([]))}this.td(t)},n.prototype.$v=function(n){t.prototype.$v.call(this,n),this.nd&&this.nd(n)},n}(wl),yl=function(t){function n(n){var i=t.call(this,n,dl)||this;return i.ed=void 0,i.rd=void 0,i.ud=!1,i}return hd(n,t),n.prototype.Jv=function(t){var n=this;this.ed=new ld({start:function(t){n.rd=t},cancel:function(){n.ud=!0,n.Kv()}}),this.qv(new el(this.ed,t))},n.prototype.jv=function(n){this.ud||this.rd.enqueue(new y(this.Uv.response)),t.prototype.jv.call(this,n)},n.prototype.Qv=function(){this.rd.close()},n.prototype.$v=function(n){t.prototype.$v.call(this,n),this.rd&&!this.ud&&(this.ud=!0,this.rd.error(n))},n}(wl),ml=function(){var t=_d.firefox&&ll(dl);return ml=function(){return t},t},bl=function(){var t;return t=_d.arrayBuffer&&ll("arraybuffer")?"arraybuffer":_d.blob&&ll("blob")?"blob":"",bl=function(){return t},t};function pl(t){return(_d.stream&&ml()?new yl(t):new gl(t,bl())).send()}var _l=vd.fetch,kl=vd.Request,Tl=(vd.Response,vd.AbortController);var Sl=["http:","https:"];var El=function(){try{if(_d.streamRequest){var t=new kl("about:blank",{body:"",method:"POST"}).body;if(t&&gd(t.constructor))return t.constructor}}catch(t){}}();function Il(t,n,i){var e;if(_d.stream){var r=void 0;if(_d.streamResponse){var u=t.body;r=u&&md(ld,u)}else r=pd(ld,function(){return fl(t.arrayBuffer(),n,!0)},function(){n.abort()});r&&i&&(r=function(t,n,i){var e=0;return function(t,n,i){return new t(new yd(n.getReader(),i),{highWaterMark:0})}(ld,t,function(t){var r=t.done,u=t.value;r?i=void 0===i?e:i:e+=u.byteLength,n(e,i)})}(r,i,Rl(t.headers))),e=r}else{var s=fl(t.arrayBuffer(),n,!0);i&&(s=function(t,n,i){return j.resolve().then(function(){return n(0,i),t}).then(function(t){var e=t.byteLength;return n(e,i=void 0===i?e:i),t})}(s,i,Rl(t.headers))),e=s}return new el(e,t)}function Rl(t){return t.has("content-length")?Number(t.get("content-length")):void 0}function Dl(t){var n=new cl;return t.signal&&al(n,t.signal),function(t,n){var i,e,r=t;if(i=r.Cv===Hd.Av?_d.streamRequest&&El?j.resolve(md(El,r.Ov)):fl(t.arrayBuffer(),n,!1):fl(j.resolve(t.Pv),n,!1),_d.abort){var u=new Tl;al(u,n.signal),e=u.signal}return i.then(function(n){return new kl(t.url,{body:n||void 0,credentials:t.credentials,headers:(i=t.headers,(i instanceof Ed?i:new Ed(i)).asList()),method:t.method,mode:t.mode,referrer:t.referrer,referrerPolicy:t.referrerPolicy,signal:e});var i})}(t,n).then(function(i){return _l(i).then(function(i){return Il(i,n,t.onprogress)})})}var Nl=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];var Cl=function(t){function n(i,e){var r,u,s,o,c,a,f,v,d,l=this,w=(e=e||{}).body||null;if(i instanceof n){if(i.bodyUsed)throw new h("Already used");r=i.url,u=i.credentials,e.headers||(s=new Ed(i.headers)),o=i.method,c=i.mode,a=i.referrer,f=i.referrerPolicy,v=i.signal,d=i.onprogress,w||null==i.Pv||(w=i.Pv,i.bodyUsed=!0)}else r=String(i),u="same-origin",o="GET",c="cors",a="about:client",f="",v=null,d=null;if(!e.headers&&s||(s=new Ed(e.headers)),e&&(a="about:client",f=""),(l=t.call(this,w,s)||this).url=r,l.headers=s,l.credentials=e.credentials||u,l.method=function(t){var n=t.toUpperCase();return Nl.indexOf(n)>-1?n:t}(e.method||o),l.mode=e.mode||c,l.signal=e.signal||v||(new cl).signal,l.referrer=void 0!==e.referrer?e.referrer:a,l.referrerPolicy=void 0!==e.referrerPolicy?e.referrerPolicy:f,l.onprogress=e.onprogress||d,("GET"===l.method||"HEAD"===l.method)&&w)throw new h("Body not allowed for GET or HEAD requests");return l}return hd(n,t),n.prototype.clone=function(){return new n(this,{body:tl(this)})},n}(nl),Al="function"==typeof _l&&_d.stream&&_d.streamResponse&&_d.url;function Ol(t,n){return new j(function(i){var e=new Cl(t,n);i((Al&&function(t){try{return Sl.indexOf(new vd.URL(t,vd.location.href).protocol)>=0}catch(t){return!1}}(e.url)?Dl:pl)(e))})}Ol.polyfill=!0;var Pl=function(){function t(t){this.Iv=void 0,this.Sv=void 0,this.jf=new Br,this.Ev=void 0,this.sd=!1,this.Sv=t,this.jf.Vr(t.zr),this.Iv=this.od()}var n=t.prototype;return n.od=function(){var t,n,i,e,r,u,o,c,a=this;return ze.async(function(f){for(;;)switch(f.prev=f.next){case 0:(t=this.Sv).cv&&s(function(){a.sd=!0,a.jf.Ur()},t.cv),f.prev=2,n=Ol(t.Hh,{method:t.ov,headers:t.Fh.Ya(),body:t.Eh,credentials:t.hv?"include":"same-origin",signal:Bl(this.jf.zr),onprogress:t.vv}),f.next=9;break;case 6:throw f.prev=6,f.t0=f.catch(2),new od(t,f.t0);case 9:return f.prev=9,f.next=12,ze.awrap(n);case 12:i=f.sent,f.next=20;break;case 15:throw f.prev=15,f.t1=f.catch(9),Mr(e=this.fd(f.t1))&&this.jf.Ur(),e;case 20:if(r=i.url||t.Hh,u=0===i.status&&"file:"===(h=r,st.Ve(h).protocol)?200:i.status,o=new xl(this,i,this.jf),c=new Kv({Oi:o,qh:t,Mh:t.Mh,Fh:new kc(i.headers.asList()),Bh:u,Uh:i.statusText,zh:r}),this.Ev=c,!jv(c)){f.next=29;break}return f.abrupt("return",c);case 29:throw new cd(c);case 30:case"end":return f.stop()}var h},null,this,[[2,6],[9,15]],j)},n.fd=function(t){return Mr(t)?this.sd?new ad(this.Sv):new Fr(t.message,t):this.Ev?new cd(this.Ev,t):new od(this.Sv,t)},t}(),xl=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).hd=void 0,r.vd=void 0,r.jf=void 0,r.Nh=new cs,r.hd=n,r.vd=i,r.jf=e,r.Nh.Nu.catch(Bt),r}vt(n,t);var i=n.prototype;return i.Ah=function(){return this.Nh.Nu},i.ph=function(t){return this.Oh(this.vd.text(),t)},i.kh=function(t){return this.Oh(this.vd.arrayBuffer(),t)},i.Th=function(){var t=this.vd.body;return t?this.Ph(t):Nv(this.kh().then(Rv),this.jf)},i.xh=function(){var t=this.vd.clone(),i=this.jf.qr(),e=i[0],r=i[1];return this.jf=e,new n(this.hd,t,r)},i.Oh=function(t,n){var i=this;n&&this.jf.Vr(n);var e=j.resolve(t).catch(function(t){throw i.hd.fd(t)});return e=Hr(e,this.jf),this.Nh.Ou(e.then(Bt)),e},i.Ph=function(t){var n=this,i=new vv,e=j.resolve(t.pipeTo(i.writable,{preventAbort:!0})).catch(function(t){var e=n.hd.fd(t);throw i.writable.abort(e).catch(Bt),e});return e=Hr(e,this.jf),this.Nh.Ou(e.then(Bt)),i.readable},ft(n,[{key:"Lh",get:function(){return this.vd.bodyUsed}}]),n}(xv),Ll="abort";function Bl(t){var n=new cl;if(t.Dr)n.abort();else if(!t.Nr){var i=function(){e(),n.abort()},e=function e(){n.signal.removeEventListener(Ll,i),t.Lr(i),t.Fr(e)};n.signal.addEventListener(Ll,i),t.xr(i),t.Br(e)}return n.signal}var Fl,Ml=function(){function t(){}var n=t.prototype;return n.qh=function(t){return new Pl(t).Iv},n.dv=function(t){if(nt&&nt.sendBeacon)nt.sendBeacon(t.Hh,mc([t.Eh],{type:t.Sh}));else{var n=t.Sh?{"Content-type":t.Sh}:void 0;$r(this.qh(new Jv({ov:$v.POST,Hh:t.Hh,Eh:t.Eh,Fh:n})))}},n.et=function(){},t}(),Ul=function(n){function i(){for(var i,e=arguments.length,r=new Array(e),u=0;u<e;u++)r[u]=arguments[u];return(i=n.call.apply(n,[this].concat(r))||this).dd=void 0,i.ld=function(){if(St._n)return!1;try{return"body"in t.Response.prototype}catch(t){return!1}}(),i.wd=St.Wn,i.gd=void 0,i}return vt(i,n),ft(i,[{key:"Pe",get:function(){return this.dd||(this.dd=new Tr(lc())),this.dd}},{key:"yd",get:function(){return this.ld}},{key:"md",get:function(){return this.wd}},{key:"bd",get:function(){return!1}},{key:"pd",get:function(){return gc.ca()}},{key:"_d",get:function(){return{kd:bc}}},{key:"Td",get:function(){return u.connection&&u.connection.effectiveType||"default"}},{key:"Sd",get:function(){return u.connection&&u.connection.type||"unknown"}},{key:"Ed",get:function(){return this.gd||(this.gd=new Zv(new Ml)),this.gd}}]),i}(Ve);dt(new Ul),function(t){t.Id="Rd",t.Dd="Nd"}(Fl||(Fl={}));Fl.Id,Fl.Dd;var Vl=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).Cd=void 0,e}return vt(n,t),ft(n,[{key:"Ad",get:function(){return this.Cd||(this.Cd=this.Od()),this.Cd}}]),n}(Zr);var ql,zl=function(t){function n(n){return t.call(this,n)||this}return vt(n,t),n}(Vl),Hl=function(t){function n(n){return t.call(this,n)||this}return vt(n,t),n}(Zr),Wl=function(t){function n(n){var i;return(i=t.call(this,Fl.Id)||this).Pd=n,i}return vt(n,t),n.prototype.Od=function(){return new jl(this.Pd.Ad)},n}(zl),jl=function(t){function n(n){var i;return(i=t.call(this,"addtrack")||this).track=n,i}return vt(n,t),n}(Hl),$l=function(t){function n(n){var i;return(i=t.call(this,Fl.Dd)||this).Pd=n,i}return vt(n,t),n.prototype.Od=function(){return new Xl(this.Pd.Ad)},n}(zl),Xl=function(t){function n(n){var i;return(i=t.call(this,"removetrack")||this).track=n,i}return vt(n,t),n}(Hl);!function(t){t.xd="Ld",t.Bd="Fd",t.Md="Ud",t.Vd="qd",t.zd="Hd",t.Wd="jd",t.$d="Xd",t.Gd="Yd",t.Kd="rc",t.Jd="Qd",t.Zd="tl",t.QUALITY_UNAVAILABLE="qualityunavailable",t.NO_QUALITY="noquality"}(ql||(ql={}));var Gl=function(t){function n(){var n;return(n=t.call(this)||this).nl=[],n.Cd=void 0,n}vt(n,t);var i=n.prototype;return i.il=function(t){return this.nl[t]},i.ul=function(t){return!(!t||Pr(this.nl,t))&&(this.nl.push(t),this.Cd&&this.Cd.push(t.Ad),t.Gr(ql.Wd,this.$r),this.Xr(new Wl(t)),!0)},i.sl=function(t){if(!t)return!1;var n=this.nl.indexOf(t);return!(n<0)&&(Or(this.nl,n),this.Cd&&Or(this.Cd,n),t.Qr(ql.Wd,this.$r),this.Xr(new $l(t)),!0)},i.ol=function(t){return Pr(this.nl,t)},i.cl=function(){for(var t=this.nl,n=t.length-1;n>=0;n-=1)this.sl(t[n])},i.et=function(){this.cl(),this.Jr()},ft(n,[{key:"al",get:function(){return this.nl}},{key:"Ad",get:function(){return this.Cd||(this.Cd=this.Od()),this.Cd}},{key:"fl",get:function(){return this.nl.length}}]),n}(Jr),Yl=function(t){function n(n){var i;return(i=t.call(this,ql.Wd)||this).Pd=n,i}return vt(n,t),n.prototype.Od=function(){return new Kl(this.Pd.Ad)},n}(zl),Kl=function(t){function n(n){var i;return(i=t.call(this,"change")||this).track=n,i}return vt(n,t),n}(Hl),Jl=function(t){function n(){var n;return(n=t.call(this)||this).hl=void 0,n.vl=function(t){var i=t.Pd;n.ul(i)},n.dl=function(t){var i=t.Pd;n.sl(i)},n}vt(n,t);var i=n.prototype;return i.ll=function(t){t.Gr(Fl.Id,this.vl),t.Gr(Fl.Dd,this.dl)},i.wl=function(t){t.Qr(Fl.Id,this.vl),t.Qr(Fl.Dd,this.dl)},i.et=function(){this.hl&&this.hl.et(),t.prototype.et.call(this)},ft(n,[{key:"gl",get:function(){return this.hl},set:function(t){var n=this.hl;if(t!==n){if(n){this.wl(n);for(var i=0,e=n.al;i<e.length;i++){var r=e[i];t&&t.ol(r)||this.sl(r)}}if(this.hl=t,t){for(var u=[],s=0,o=t.al;s<o.length;s++){var c=o[s];this.ul(c),this.yl(c)&&u.push(c)}this.ll(t);for(var a=0;a<u.length;a++){var f=u[a];f.Xr(new Yl(f))}}}}}]),n}(Gl),Ql=v.freeze||Ft;function Zl(t,n,i){v.defineProperty(t,n,{writable:!1,enumerable:!0,value:i})}function tw(t,n){for(var i=0,e=v.getOwnPropertyNames(n);i<e.length;i++){var r=e[i];v.defineProperty(t,r,v.getOwnPropertyDescriptor(n,r))}return t}function nw(t){if(At(t)){var n={};for(var i in t)Et.call(t,i)&&(n[i]=nw(t[i]));return n}if(Dt(t)){for(var e=new Array(t.length),r=0;r<e.length;r++)r in t&&(e[r]=nw(t[r]));return e}return t}function iw(t,n){return t===n||!(!t||!n)&&(!(!Ct(t)||!Ct(n))&&(Nt(t)?!!Nt(n)&&function(t,n){var i=t.length,e=n.length;if(i!==e)return!1;for(var r=0;r<i;r+=1)if(!iw(t[r],n[r]))return!1;return!0}(t,n):!Nt(n)&&function(t,n){var i=v.keys(t),e=v.keys(n);if(!i||!e||i.length!==e.length)return!1;for(var r=0;r<i.length;r++){var u=i[r];if(!Et.call(n,u)||!iw(t[u],n[u]))return!1}return!0}(t,n)))}function ew(t,n){return t.constructor===n.constructor}function rw(t){for(var n={},i=0,e=v.keys(t);i<e.length;i++){var r=e[i],u=t[r];null!=u&&(n[r]=u)}return n}function uw(t){var n=t;if("string"==typeof n){if("true"===(n=n.toLowerCase()))return!0;if("false"===n)return!1}return Boolean(n)}function sw(t){return"string"==typeof t?""===t?NaN:Number(t):"boolean"==typeof t||null==t||t instanceof Date||"number"!=typeof Number(t)&&!t?NaN:Number(t)}function ow(t){var n=sw(t);if(g(n))throw new f("Expected a valid number.");return n}function cw(t){return"string"==typeof t?t:""}function aw(t,n){if(!Nt(t))return[];for(var i=0|t.length,e=new Array(i),r=0;r<i;r++)e[r]=n(t[r]);return e}function fw(t,n){return Nt(t)?aw(t,n):n(t)}var hw=[Fl.Id,Fl.Dd,ql.Wd];function vw(t){var n,i=t.al.map(function(t){return t.Ad});return i.item=function(n){var i=0|n,e=t.il(i);return e&&e.Ad||void 0},i.addEventListener=function(t,i){n.Gr(t,i)},i.removeEventListener=function(t,i){n.Qr(t,i)},n=new Qr(i),t.Gr(hw,function(t){return n.Xr(t.Ad)}),i}function dw(){}function lw(t){var n,i=[ql.Kd,ql.Wd,ql.Jd,ql.Zd,ql.QUALITY_UNAVAILABLE],e={get activeQuality(){return t.ml&&t.ml.Ad},get enabled(){return t.bl},set enabled(n){t.bl=uw(n)},get id(){return t.pl},get uid(){return t._l},get kind(){return t.kl},get label(){return t.Tl},set label(n){t.Tl=cw(n)},get language(){return t.Sl},get qualities(){return t.El.Ad},set targetQuality(n){var i;(i=n?function(t,n){for(var i=[],e=0,r=t.El.al;e<r.length;e++)for(var u=r[e],s=0;s<n.length;s++){var o=n[s];u.Ad===o&&i.push(u)}return i}(t,Dt(n)?n:[n]):[]).length>0?t.Il=i:t.Il=void 0},get targetQuality(){if(t.Il)return 1===t.Il.length?t.Il[0].Ad:t.Il.map(function(t){return t.Ad})},addEventListener:function(t,i){var e=fw(t,cw);n.Gr(e,i)},removeEventListener:function(t,i){var e=fw(t,cw);n.Qr(e,i)}};return n=new Qr(e),t.Gr(i,function(t){return n.Xr(t.Ad)}),v.defineProperty(e,"constructor",{value:dw}),e}function ww(){}function gw(t){var n=vw(t);return v.defineProperty(n,"constructor",{value:ww}),n}var yw,mw,bw=function(t){function n(){return t.apply(this,arguments)||this}vt(n,t);var i=n.prototype;return i.Od=function(){return gw(this)},i.yl=function(t){return t.bl},n}(Jl);function pw(){}function _w(t){var n,i=[ql.Wd,ql.Kd,ql.xd,ql.Bd,ql.Md,ql.Vd,ql.zd,ql.$d,ql.Gd],e=[mw.Rl],r={get kind(){return t.kl},get label(){return t.Tl},set label(n){t.Tl=cw(n)},get language(){return t.Sl},get id(){return t.pl},get uid(){return t._l},get inBandMetadataTrackDispatchType(){return t.Dl},get mode(){return t.Nl},set mode(n){n!==yw.Cl&&n!==yw.Al&&n!==yw.Ol||t.Pl(n)},get forced(){return Boolean(t.xl)},get type(){return t.dr},get readyState(){return Sw(t.Ll)},get cues(){return t.Nl===yw.Ol?null:t.Bl.Ad},get activeCues(){return t.Nl===yw.Ol?null:t.Fl.Ad},get src(){return t.Ml||""},addEventListener:function(t,i){var e=fw(t,cw);n.Gr(e,i)},removeEventListener:function(t,i){var e=fw(t,cw);n.Qr(e,i)}};return n=new Qr(t),t.Gr(i,function(t){return n.Xr(t.Ad)}),t.Gr(e,function(t){return n.Xr(t)}),v.defineProperty(r,"constructor",{value:pw}),r}function kw(){}function Tw(t){var n=vw(t);return v.defineProperty(n,"constructor",{value:kw}),n}function Sw(t){return t}!function(t){t.Ol="disabled",t.Al="hidden",t.Cl="showing"}(yw||(yw={})),function(t){t.Rl="error"}(mw||(mw={}));var Ew=function(t){function n(){return t.apply(this,arguments)||this}vt(n,t);var i=n.prototype;return i.Od=function(){return Tw(this)},i.yl=function(t){return t.Nl===yw.Cl},n}(Jl),Iw=function(t){function n(){return t.apply(this,arguments)||this}vt(n,t);var i=n.prototype;return i.Kr=function(n){t.prototype.Kr.call(this,n)},i.nu=function(n){t.prototype.nu.call(this,n)},n}(Jr),Rw=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n}(Iw),Dw=function(t){function n(){return t.call(this,pc.pa)||this}return vt(n,t),n}(Zr),Nw=function(t){function n(n){var i;return(i=t.call(this,pc.wa)||this).currentSource=n,i}return vt(n,t),n}(Zr),Cw=function(){function t(){}return t.Ul=function(n,i){var e=t.Vl(n,i);return e?t.ql(e):0},t.zl=function(){return st.Td||"default"},t.Hl=function(){return st.Sd||"unknown"},t.Vl=function(n,i){var e,r=null==(e=st.pd)?void 0:e.gu(i),u=r&&JSON.parse(r);if(u&&u[n])return t.Wl(u,n,i)},t.ql=function(t){var n=t.availableBandwidth;return n||0},t.Wl=function(n,i,e){if(!t.jl(n,i))return n[i];t.$l(n,i,e)},t.$l=function(t,n,i){var e;delete t[n],null==(e=st.pd)||e.oa(i,JSON.stringify(t))},t.jl=function(t,n){var i=t[n].storedTimestamp;if(!i)return!1;var e=new Date(i),r=(new Date).getTime();return e.setMonth(e.getMonth()+1)<=r},t.Xl=function(t,n,i,e){var r;return He({},t,((r={})[n]={availableBandwidth:i,storedTimestamp:e},r))},t.Gl=function(n){var i=t.zl();t.Yl(i,"theoplayer-stored-network-info",n,tn())},t.Yl=function(n,i,e,r){var u,s,o=null==(u=st.pd)?void 0:u.gu(i),c=o?JSON.parse(o):void 0,a=t.Xl(c,n,e,r);null==(s=st.pd)||s.oa(i,JSON.stringify(a))},t.Kl=function(){var n=t.zl();return t.Ul(n,"theoplayer-stored-network-info")},t}();var Aw,Ow,Pw,xw,Lw,Bw,Fw="1ADD53F3";function Mw(t){return{chromecast:function(t){return{appID:t&&t.appID?cw(t.appID):Fw}}(t?t.chromecast:void 0),strategy:function(t){switch(t){case"auto":return Aw.AUTO;case"manual":return Aw.MANUAL;case"disabled":return Aw.DISABLED;default:return Aw.MANUAL}}(t?t.strategy:void 0)}}function Uw(t){var n,i=Pw.Jl;return(n=t)&&dr(n,"mpd")&&(i=Pw.Ql),function(t){return!!t&&dr(t,"m3u8")}(t)&&(i=Pw.Zl),i}function Vw(t){return Ct(t)&&Ct(t.ssai)&&"google-dai"===t.ssai.integration}function qw(t){return Ct(t)&&Ot(t.integration)&&"verizon-media"===t.integration}function zw(t){if(Ot(t))return!t;if(qw(t))return!t.id;if(Vw(t)){var n=t.ssai,i="live"===n.availabilityType&&n.assetKey,e="vod"===n.availabilityType&&n.contentSourceID&&n.videoID;return Boolean(i&&e)}return!t.src}function Hw(t){return Boolean(Ct(t)&&Ot(t.src))}function Ww(t){return Ot(t)||Hw(t)||Vw(t)||qw(t)}function jw(t){if(t){if(Ww(t))return zw(t);for(var n=0;n<t.length;n++){if(!zw(t[n]))return!1}return!0}return!0}function $w(){return{crossOrigin:Ow.tw,useCredentials:!1,liveOffset:void 0,timeServer:void 0,hlsDateRange:void 0,experimentalRendering:!1,nativeUiRendering:!1,lowLatency:!1,useNativePlayback:!1,dash:void 0,hls:void 0,abr:void 0}}function Xw(){return He({},$w(),{src:void 0,type:Pw.Jl,contentProtection:void 0,ssai:void 0,integrationData:void 0,isAdvertisement:void 0})}function Gw(t){var n={allowedMimeTypes:void 0,preload:"midroll-and-postroll",showCountdown:!0,vpaidMode:xw.ENABLED,googleImaConfiguration:{useNativeIma:!1}};return void 0===t?n:(void 0!==t.preload&&(n.preload=function(t){switch(t){case"none":return Lw.NONE;case"midroll-and-postroll":default:return Lw.MIDROLL_AND_POSTROLL}}(t.preload)),void 0!==t.showCountdown&&(n.showCountdown=uw(t.showCountdown)),void 0!==t.vpaidMode&&(n.vpaidMode=function(t){switch(t){case"insecure":return xw.INSECURE;case"disabled":return xw.DISABLED;case"enabled":default:return xw.ENABLED}}(t.vpaidMode)),Dt(t.allowedMimeTypes)&&(n.allowedMimeTypes=t.allowedMimeTypes.filter(Ot)),void 0!==t.googleImaConfiguration&&(n.googleImaConfiguration=function(t){return void 0===t?{useNativeIma:!1}:{useNativeIma:uw(t.useNativeIma)}}(t.googleImaConfiguration)),n)}function Yw(t){if(!Nt(t))return[];for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];At(r)&&n.push(r)}return n}function Kw(t){return Ot(t.src)}!function(t){t.AUTO="auto",t.MANUAL="manual",t.DISABLED="disabled"}(Aw||(Aw={})),function(t){t.tw="",t.nw="anonymous",t.iw="use-credentials"}(Ow||(Ow={})),function(t){t.Ql="application/dash+xml",t.Zl="application/vnd.apple.mpegurl",t.ew="application/x-mpegurl",t.Jl="video/mp4",t.rw="application/vnd.theoplayer.hesp+json",t.uw="application/vnd.theo.hesp+json"}(Pw||(Pw={})),function(t){t.ENABLED="enabled",t.INSECURE="insecure",t.DISABLED="disabled"}(xw||(xw={})),function(t){t.NONE="none",t.MIDROLL_AND_POSTROLL="midroll-and-postroll"}(Lw||(Lw={})),function(t){t[t.sw=0]="sw",t[t.ow=1]="ow",t[t.cw=2]="cw",t[t.aw=3]="aw",t[t.fw=4]="fw"}(Bw||(Bw={}));var Jw,Qw=function(t){function n(n,i){var e;return void 0===i&&(i=Bw.sw),(e=t.call(this,pc.ma)||this).currentTime=n,e.readyState=i,e}return vt(n,t),n}(Zr),Zw=function(t){function n(n){var i;return(i=t.call(this,pc.Ra)||this).currentTime=n,i}return vt(n,t),n}(Zr),tg=function(t){function n(n){var i;return(i=t.call(this,pc.Da)||this).currentTime=n,i}return vt(n,t),n}(Zr);!function(t){t.hw="canplay",t.vw="canplaythrough",t.dw="loadeddata",t.lw="loadedmetadata",t.$d="readystatechange",t.ww="waiting",t.gw="playing"}(Jw||(Jw={}));var ng,ig,eg=[Jw.hw,Jw.vw,Jw.dw,Jw.lw,Jw.$d,Jw.ww,Jw.gw],rg=function(t){function n(n,i){var e;return void 0===i&&(i=Bw.ow),(e=t.call(this,Jw.lw)||this).currentTime=n,e.readyState=i,e}return vt(n,t),n}(Zr),ug=function(t){function n(n){var i;return(i=t.call(this,pc.ya)||this).duration=n,i}return vt(n,t),n}(Zr),sg=function(t){function n(n,i){var e;return(e=t.call(this,pc.Ca)||this).currentTime=n,e.playbackRate=i,e}return vt(n,t),n}(Zr),og=function(t){function n(n,i){var e;return(e=t.call(this,pc.qa)||this).currentTime=n,e.currentProgramDateTime=i,e}return vt(n,t),n}(Zr),cg=function(t){function n(n){var i;return(i=t.call(this,pc.ba)||this).currentTime=n,i}return vt(n,t),n}(Zr),ag=function(t){function n(n,i){var e;return void 0===i&&(i=Bw.cw),(e=t.call(this,Jw.dw)||this).currentTime=n,e.readyState=i,e}return vt(n,t),n}(Zr),fg=function(t){function n(n){var i;return(i=t.call(this,pc.xa)||this).currentTime=n,i}return vt(n,t),n}(Zr),hg=function(t){function n(n){var i;return(i=t.call(this,pc.Pa)||this).currentTime=n,i}return vt(n,t),n}(Zr),vg=function(t){function n(n,i){var e;return(e=t.call(this,pc.za)||this).currentTime=n,e.volume=i,e}return vt(n,t),n}(Zr),dg=function(t){function n(n,i){var e;return void 0===i&&(i=Bw.aw),(e=t.call(this,Jw.hw)||this).currentTime=n,e.readyState=i,e}return vt(n,t),n}(Zr),lg=function(t){function n(n,i){var e;return void 0===i&&(i=Bw.fw),(e=t.call(this,Jw.vw)||this).currentTime=n,e.readyState=i,e}return vt(n,t),n}(Zr),wg=function(t){function n(n,i){var e;return(e=t.call(this,Jw.$d)||this).currentTime=n,e.readyState=i,e}return vt(n,t),n}(Zr),gg=function(t){function n(n){var i;return(i=t.call(this,mw.Rl)||this).errorObject=n,i}return vt(n,t),n.prototype.Od=function(){return this},ft(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(Vl);function yg(t){switch(t){case ng.ALL:case ng.CONTENT:return t;default:return ng.NONE}}function mg(t){var n,i,e,r=nw(t||{});return r.libraryLocation&&(r.libraryLocation=nd(r.libraryLocation,!0)),r.isEmbeddable=Boolean(r.isEmbeddable),r.cast=Mw(r.cast),r.ads=Gw(r.ads),r.analytics=Yw(r.analytics),r.mutedAutoplay=yg(r.mutedAutoplay),r.allowNativeFullscreen=Boolean(r.allowNativeFullscreen),r.allowMixedContent=Boolean(r.allowMixedContent),r.persistVolume=Boolean(r.persistVolume),r.liveOffset=(n=r.liveOffset,Number(n)||void 0),r.hlsDateRange=(i=r.hlsDateRange,Boolean(i)),r.retainPlaybackRateOnSourceChange=Boolean(r.retainPlaybackRateOnSourceChange),r.license=Ot(e=r.license)?e:void 0,r.licenseUrl=function(t){if(!t)return;try{return nd(t)}catch(t){return void st.Ee("Invalid 'licenseUrl', falling back to default URL")}}(r.licenseUrl),r}function bg(t){return{yw:t.yw,mw:t.mw,bw:t.bw,cu:t.cu,pw:t.pw,_w:t._w,kw:t.kw,Tw:t.Tw,Ll:t.Ll,Sw:t.Sw,Ew:t.Ew,Iw:t.Iw,Rw:t.Rw}}function pg(t,n,i){if(n!==i){var e=n.yw,r=n.mw,u=n._w,s=n.kw,o=n.Tw,c=n.Ll,a=n.Sw,f=(n.Iw,n.Ew,n.Rw),h=i.yw,v=i.mw,d=i.bw,l=i.pw,w=i._w,y=i.kw,m=i.Tw,b=i.Ll,p=i.Sw,_=(i.Iw,i.Ew,i.Rw);c!==Bw.sw&&t.Xr(new Qw(h,b)),y&&!s?t.Xr(new Zw(h)):!y&&s&&t.Xr(new tg(h)),b>=Bw.ow&&t.Xr(new rg(h,b)),v===r||g(v)&&g(r)||t.Xr(new ug(v)),m!==o&&t.Xr(new sg(h,m)),h!==e&&t.Xr(new og(h,void 0)),d&&t.Xr(new cg(h)),b>=Bw.cw&&t.Xr(new ag(h,b)),p&&!a?t.Xr(new fg(h)):!p&&a&&t.Xr(new hg(h)),_===f&&w===u||t.Xr(new vg(h,_)),b>=Bw.aw&&t.Xr(new dg(h,b)),b>=Bw.fw&&t.Xr(new lg(h,b)),b!==c&&t.Xr(new wg(h,b)),l&&t.Xr(new gg(l))}}!function(t){t.NONE="none",t.ALL="all",t.CONTENT="content"}(ng||(ng={})),function(t){t.LIVE_OFFSET="liveoffset",t.TRACK_BYTES_DOWNLOADED="trackbytesdownloaded",t.ESTIMATED_TRACK_NETWORK_BANDWIDTH="estimatedtracknetworkbandwidth",t.ESTIMATED_TRACK_MEDIA_DATA_BANDWIDTH="estimatedtrackmediadatabandwidth",t.SEGMENT_RECEIVE_INTERVAL="segmentreceiveinterval"}(ig||(ig={}));var _g,kg=400,Tg=.25,Sg={windowStart:.2,target:.45,windowEnd:.7,maxOffset:3},Eg={windowStart:.4,target:.7,windowEnd:.9,maxOffset:3},Ig={windowStart:.4,target:.65,windowEnd:1,maxOffset:3},Rg={windowStart:.5,target:1.125,windowEnd:1.75,maxOffset:2.55};function Dg(){var t;return t=st.He.ae?Ig:st.He.he?"Android"===st.We.je?Eg:Sg:Rg,st.We.$e?function(t){if(st.We.$e){var n=(kg+250)/1e3,i=d.max(n,t.windowStart),e=d.max(i+Tg,t.target),r=d.max(e+Tg,t.windowEnd);return{windowStart:i,target:e,windowEnd:r,maxOffset:d.max(r+Tg,t.maxOffset)}}return t}(t):t}function Ng(t){return{goLive:function(){return t.Dw()},get isLive(){return t.Nw},get currentServerLiveTime(){return t.Cw},get currentLatency(){return t.Aw},get latency(){return t.Ow},set latency(n){if(!function(t){if(!Ct(t))return!1;var n=t,i=Rt(n.target)&&"number"==typeof n.target&&Rt(n.windowEnd)&&"number"==typeof n.windowEnd&&Rt(n.windowStart)&&"number"==typeof n.windowStart&&Rt(n.maxOffset)&&"number"==typeof n.maxOffset,e=n.windowStart>=0&&n.windowStart<=n.target&&n.target<=n.windowEnd&&n.maxOffset>=n.windowEnd;return i&&e}(n))throw new f("Invalid latency configuration");t.Ow=n},get manifest(){return t.Pw},get metrics(){return t.xw},addEventListener:function(n,i){t.Gr(Ag(n),i)},removeEventListener:function(n,i){t.Qr(Ag(n),i)}}}!function(t){t[t.Ol=0]="Ol",t[t.Lw=1]="Lw",t[t.Bw=2]="Bw"}(_g||(_g={}));var Cg=["analytic","golive","nogolive","bufferedchange"];function Ag(t){var n=fw(t,cw);return(Ot(n)?[n]:n).filter(function(t){return Pr(Cg,t)})}var Og,Pg=function(t){function n(){var n;return(n=t.call(this)||this).hl=void 0,n.Cd=void 0,n.Fw=Dg(),n.hl=void 0,n}vt(n,t);var i=n.prototype;return i.ll=function(t){t.Gr(Cg,this.$r)},i.wl=function(t){t.Qr(Cg,this.$r)},i.Dw=function(){var t;null==(t=this.hl)||t.Dw()},i.et=function(){this.Jr(),this.hl&&this.wl(this.hl),this.hl=void 0},ft(n,[{key:"gl",get:function(){return this.hl},set:function(t){var n=this.hl;t!==n&&(n&&this.wl(n),t&&this.ll(t),this.hl=t,this.hl&&(this.hl.Ow=this.Fw))}},{key:"Ad",get:function(){return this.Cd||(this.Cd=Ng(this)),this.Cd}},{key:"Cw",get:function(){var t;return null==(t=this.hl)?void 0:t.Cw}},{key:"Aw",get:function(){var t;return null==(t=this.hl)?void 0:t.Aw}},{key:"Nw",get:function(){return!!this.hl&&this.hl.Nw}},{key:"Ow",get:function(){return this.Fw},set:function(t){this.hl&&(this.hl.Ow=t),this.Fw=t}},{key:"Pw",get:function(){var t;return null==(t=this.hl)?void 0:t.Pw}},{key:"xw",get:function(){var t;return null==(t=this.hl)?void 0:t.xw}}]),n}(Jr),xg=function(t){function n(n){var i;return(i=t.call(this)||this).hl=void 0,i.Mw=[],i.Uw=!1,i.Vw=new bw,i.qw=new bw,i.zw=new Ew,i.Hw=new Pg,i.Ww=!1,i.jw(n),n.Kr(i.$r),i.hl=n,i.Vw.gl=n.$w,i.qw.gl=n.Xw,i.zw.gl=n.Gw,i.Hw.gl=n.Yw,i}vt(n,t);var i=n.prototype;return i.Y=function(){this.hl.Y()},i.K=function(){this.hl.K()},i.Kw=function(){return ze.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Xr(this.Mw.map(function(t){return t.Kw()})).then(Bt));case 1:case"end":return t.stop()}},null,this,null,j)},i.Jw=function(){return this.hl.Jw()},i.Qw=function(t,n){return ze.async(function(i){for(;;)switch(i.prev=i.next){case 0:return Ur(n),i.next=3,ze.awrap(this.hl.Qw(t,n));case 3:case"end":return i.stop()}},null,this,null,j)},i.Zw=function(){return this.gl.Zw()},i.tg=function(){this.gl.tg()},i.ng=function(){this.gl.ng()},i.st=function(){if(!this.Uw){for(var t=0,n=this.Mw;t<n.length;t++){n[t].st()}this.Uw=!0}},i.ig=function(t){this.hl.ig(t)},i.eg=function(){this.hl.eg()},i.rg=function(){this.hl.rg()},i.ug=function(){this.hl.ug()},i.sg=function(){return this.hl.sg()},i.og=function(){return this.hl.og()},i.cg=function(){for(var t=[],n=0,i=this.Mw;n<i.length;n++){var e=i[n];t.push.apply(t,e.cg())}return t},i.ag=function(t){for(var n=!1,i=0,e=this.Mw;i<e.length;i++){n=e[i].ag(t)||n}return n},i.Xr=function(n){this.ag(n)||t.prototype.Xr.call(this,n)},i.jw=function(t){this.Mw.push(t)},i.fg=function(t){Ar(this.Mw,t)},i.hg=function(t){if(t!==this.hl){var n=this.hl;n.eg(),n.nu(this.$r);var i=bg(this),e=this.vg,r=this.og();this.hl=t,this.Vw.gl=t.$w,this.qw.gl=t.Xw,this.zw.gl=t.Gw,this.Hw.gl=t.Yw,pg(this,i,this);var u=this.vg;u!==e&&this.Xr(new Nw(u)),this.og()!==r&&this.Xr(new Dw),t.Kr(this.$r),t.ig(n)}},i.dg=function(){},i.et=function(){var t,n,i;return ze.async(function(e){for(;;)switch(e.prev=e.next){case 0:this.Jr(),this.hl.eg(),t=0,n=this.Mw;case 3:if(!(t<n.length)){e.next=10;break}return i=n[t],e.next=7,ze.awrap(i.et());case 7:t++,e.next=3;break;case 10:this.Vw.et(),this.qw.et(),this.zw.et(),this.Hw.et();case 14:case"end":return e.stop()}},null,this,null,j)},i.cl=function(){return ze.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Xr(this.Mw.map(function(t){return t.cl()})).then(Bt));case 1:case"end":return t.stop()}},null,this,null,j)},ft(n,[{key:"$w",get:function(){return this.Vw}},{key:"Gw",get:function(){return this.zw}},{key:"Xw",get:function(){return this.qw}},{key:"lg",get:function(){return this.hl.lg}},{key:"wg",get:function(){return this.hl.wg},set:function(t){this.hl.wg=t}},{key:"vg",get:function(){return this.hl.vg}},{key:"yw",get:function(){return this.hl.yw},set:function(t){this.hl.yw=t}},{key:"mw",get:function(){return this.hl.mw}},{key:"gg",get:function(){return this.hl.gg}},{key:"bw",get:function(){return this.hl.bw}},{key:"cu",get:function(){return this.hl.cu}},{key:"pw",get:function(){return this.hl.pw}},{key:"Yw",get:function(){return this.Hw}},{key:"yg",get:function(){return this.hl.yg}},{key:"xw",get:function(){return function(t){for(var n=0,i=0,e=0,r=0,u=0,s={amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0},o=0;o<t.length;o++){var c=t[o];n+=c.mg,i+=c.bg,e+=c.pg,r+=c._g,u+=c.kg,s.amountOfBufferedAudioSegments+=c.Tg.amountOfBufferedAudioSegments,s.amountOfBufferedVideoSegments+=c.Tg.amountOfBufferedVideoSegments}return{mg:n,bg:i,pg:e,_g:r,kg:u,Tg:s}}(this.Mw.map(function(t){return t.xw}))}},{key:"_w",get:function(){return this.hl._w},set:function(t){this.hl._w=t}},{key:"Sg",get:function(){return this.hl.Sg}},{key:"kw",get:function(){return this.hl.kw}},{key:"Tw",get:function(){return this.hl.Tw},set:function(t){this.hl.Tw=t}},{key:"Eg",get:function(){return this.hl.Eg}},{key:"Ig",get:function(){return this.hl.Ig},set:function(t){this.hl.Ig=t}},{key:"Ll",get:function(){return this.hl.Ll}},{key:"Rg",get:function(){return this.hl.Rg}},{key:"Sw",get:function(){return this.hl.Sw}},{key:"Ew",get:function(){return this.hl.Ew}},{key:"Iw",get:function(){return this.hl.Iw}},{key:"Rw",get:function(){return this.hl.Rw},set:function(t){this.hl.Rw=t}},{key:"Dg",get:function(){return!1},set:function(t){}},{key:"gl",get:function(){return this.hl},set:function(t){this.hg(t)}}]),n}(Rw),Lg=function(t){function n(n,i,e,r,u,s,o,c){var a;return(a=t.call(this,n,i,e)||this).url=void 0,a.status=void 0,a.statusText=void 0,a.response=void 0,a.systemCode=void 0,a.url=r,a.status=u,a.statusText=s,a.response=o,a.systemCode=c,a}return vt(n,t),ft(n,[{key:"name",get:function(){return"ContentProtectionError"}}]),n}(tc);!function(t){t[t.ABORTED=1]="ABORTED",t[t.NETWORK=2]="NETWORK",t[t.DECODE=3]="DECODE",t[t.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",t[t.ENCRYPTED=5]="ENCRYPTED",t[t.LICENSE_INVALID=6]="LICENSE_INVALID",t[t.ADVERTISEMENT_ERROR=7]="ADVERTISEMENT_ERROR"}(Og||(Og={}));var Bg=function(t){function n(n,i,e,r){var u;return(u=t.call(this,i)||this).code=void 0,u.message=void 0,u.cause=void 0,u.systemCode=void 0,u.code=n,u.message=null!=i?i:"Unknown error",u.cause=e,u.systemCode=r,f.captureStackTrace&&f.captureStackTrace(un(u),u.constructor),u}return vt(n,t),ft(n,[{key:"name",get:function(){return"MediaError"}}]),n}(sn);function Fg(t){Zl(t,"MEDIA_ERR_ABORTED",Og.ABORTED),Zl(t,"MEDIA_ERR_NETWORK",Og.NETWORK),Zl(t,"MEDIA_ERR_DECODE",Og.DECODE),Zl(t,"MEDIA_ERR_SRC_NOT_SUPPORTED",Og.SRC_NOT_SUPPORTED),Zl(t,"MEDIA_ERR_ENCRYPTED",Og.ENCRYPTED)}function Mg(t){var i,e;return function(t){return t.category===n.ErrorCategory.CONTENT_PROTECTION}(t)?new Bg(Og.ENCRYPTED,t.message,null==(i=t.cause)?void 0:i.message,t.systemCode):new Bg(function(t){if(t===n.ErrorCode.MEDIA_ABORTED)return Og.ABORTED;if(t===n.ErrorCode.MANIFEST_LOAD_ERROR||t===n.ErrorCode.MEDIA_LOAD_ERROR||t===n.ErrorCode.SUBTITLE_LOAD_ERROR)return Og.NETWORK;if(t===n.ErrorCode.MEDIA_DECODE_ERROR)return Og.DECODE;if(t===n.ErrorCode.MEDIA_NOT_SUPPORTED)return Og.SRC_NOT_SUPPORTED;var i=n.ErrorCategory.fromCode(t);if(i===n.ErrorCategory.NETWORK)return Og.NETWORK;if(i===n.ErrorCategory.SOURCE)return Og.SRC_NOT_SUPPORTED;if(i===n.ErrorCategory.LICENSE)return Og.LICENSE_INVALID;if(i===n.ErrorCategory.CONTENT_PROTECTION)return Og.ENCRYPTED;if(i===n.ErrorCategory.AD)return Og.ADVERTISEMENT_ERROR;return Og.DECODE}(t.code),t.message,null==(e=t.cause)?void 0:e.message)}Fg(Bg),Fg(Bg.prototype);var Ug,Vg=function(t){function n(){return t.apply(this,arguments)||this}vt(n,t);var i=n.prototype;return i.ul=function(n){return t.prototype.ul.call(this,n)},i.Od=function(){return gw(this)},n}(Gl);!function(t){t.rv="audio",t.uv="video",t.ei="text",t.sv="image",t.jh="unknown"}(Ug||(Ug={}));var qg=function(){function t(){this.Ng=[],this.Cd=void 0}var n=t.prototype;return n.Cg=function(t){this.Ng.push(t),this.Cd&&this.Cd.push(t.Ad)},n.il=function(t){return this.Ng[t]},n.Ag=function(t){return Dt(t)?function(t,n){for(var i=0;i<n.length;i++)if(!Pr(t,n[i]))return!1;return!0}(this.Ng,t):Pr(this.Ng,t)},ft(t,[{key:"al",get:function(){return this.Ng}},{key:"fl",get:function(){return this.Ng.length}},{key:"Ad",get:function(){var t,n;return this.Cd||(this.Cd=((n=(t=this).al.map(function(t){return t.Ad})).item=function(n){var i=0|n,e=t.il(i);return e&&e.Ad||void 0},n)),this.Cd}}]),t}(),zg=function(t){function n(n){var i;return(i=t.call(this,ql.Kd)||this).Pd=n,i}return vt(n,t),n.prototype.Od=function(){return new Hg(this.Pd.Ad)},n}(zl),Hg=function(t){function n(n){var i;return(i=t.call(this,"update")||this).track=n,i}return vt(n,t),n}(Hl),Wg=0;function jg(){return Wg++}var $g=0;var Xg=0;var Gg=0;var Yg=function(t){function n(n){var i;return(i=t.call(this)||this).dr=Ug.rv,i.Og=void 0,i.Ho=void 0,i.Pg=void 0,i.xg=void 0,i.Lg=!1,i.Ng=void 0,i.Cd=void 0,i.Og=n,i.xg=jg(),i.Ho=Gg+++"",i.Pg=n.label,i.Ng=new qg,i.Bg(),i}vt(n,t);var i=n.prototype;return i.Fg=function(t){this.bl=t},i.Bg=function(){this.bl=this.Mg},ft(n,[{key:"ml",get:function(){}},{key:"bl",get:function(){return this.Lg},set:function(t){this.Lg!==t&&(this.Lg=t,this.Mg=t,this.Xr(new Yl(this)))}},{key:"Mg",get:function(){return!!this.Og.enabled},set:function(t){this.Og.enabled=t}},{key:"Ad",get:function(){return this.Cd||(this.Cd=lw(this)),this.Cd}},{key:"pl",get:function(){return this.Ho}},{key:"_l",get:function(){return this.xg}},{key:"kl",get:function(){return this.Og.kind}},{key:"Tl",get:function(){return this.Pg},set:function(t){t!==this.Pg&&(this.Pg=t,this.Xr(new zg(this)))}},{key:"Sl",get:function(){return this.Og.language}},{key:"Nl",get:function(){return this.bl?"enabled":"disabled"}},{key:"Ug",get:function(){return this.Og}},{key:"El",get:function(){return this.Ng}},{key:"Il",get:function(){},set:function(t){}}]),n}(Jr),Kg=0;var Jg,Qg,Zg,ty,ny,iy=function(t){function n(n){var i;return(i=t.call(this)||this).dr=Ug.uv,i.Og=void 0,i.Ho=void 0,i.xg=void 0,i.Lg=!1,i.Ng=void 0,i.Pg=void 0,i.Cd=void 0,i.Og=n,i.xg=jg(),i.Ho=Kg+++"",i.Ng=new qg,i.Pg=n.label,i.Bg(),i}vt(n,t);var i=n.prototype;return i.Bg=function(){this.bl=this.Mg},i.Fg=function(t){this.bl=t},ft(n,[{key:"ml",get:function(){}},{key:"bl",get:function(){return this.Lg},set:function(t){this.Lg!==t&&(this.Lg=t,this.Mg=t,this.Xr(new Yl(this)))}},{key:"Mg",get:function(){return!!this.Og.selected},set:function(t){this.Og.selected=t}},{key:"Ad",get:function(){return this.Cd||(this.Cd=lw(this)),this.Cd}},{key:"pl",get:function(){return this.Ho}},{key:"_l",get:function(){return this.xg}},{key:"kl",get:function(){return"main"}},{key:"Tl",get:function(){return this.Pg},set:function(t){t!==this.Pg&&(this.Pg=t,this.Xr(new zg(this)))}},{key:"Sl",get:function(){return this.Og.language}},{key:"Nl",get:function(){return this.bl?"enabled":"disabled"}},{key:"Ug",get:function(){return this.Og}},{key:"El",get:function(){return this.Ng}},{key:"Il",get:function(){},set:function(t){}}]),n}(Jr),ey=function(t){function n(n){var i;return(i=t.call(this,pc.aa)||this).yg=n,i}return vt(n,t),n}(Zr);!function(t){t[t.NONE=0]="NONE",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t[t.ERROR=3]="ERROR"}(Jg||(Jg={})),function(t){t.DEFAULT="",t.SRT="srt",t.TTML="ttml",t.WEBVTT="webvtt",t.EMSG="emsg",t.EVENT_STREAM="eventstream",t.ID3="id3",t.CEA608="cea608",t.DATE_RANGE="daterange"}(Qg||(Qg={})),function(t){t.Vg="cue",t.qg="region",t.zg="stylesheet"}(Zg||(Zg={})),function(t){t.Hg="Wg",t.jg="$g",t.Kd="rc"}(ty||(ty={})),function(t){t.Hg="enter",t.jg="exit",t.Kd="update"}(ny||(ny={}));var ry=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).Xg=i,e}return vt(n,t),n}(zl),uy=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).cue=i,e}return vt(n,t),n}(Hl);function sy(t){var n,i=[ty.Hg,ty.jg,ty.Kd],e={get track(){return t.Pd.Ad},get id(){return t.pl},get uid(){return t._l},get startTime(){return t.Gg},get endTime(){return t.Yg},get content(){return t.Kg},addEventListener:function(t,i){var e=fw(t,cw);n.Gr(e,i)},removeEventListener:function(t,i){var e=fw(t,cw);n.Qr(e,i)}};return n=new Qr(e),t.Gr(i,function(t){return n.Xr(t.Ad)}),e}function oy(){}var cy=function(t){function n(n){return t.call(this,ty.Kd,n)||this}return vt(n,t),n.prototype.Od=function(){return new ay(this.Xg.Ad)},n}(ry),ay=function(t){function n(n){return t.call(this,ny.Kd,n)||this}return vt(n,t),n}(uy),fy=.02;var hy=function(t){function n(n,i,e,r,u){var s;return(s=t.call(this)||this).xg=void 0,s.Ho=void 0,s.Jg=void 0,s.Qg=void 0,s.Cd=void 0,s.Zg=void 0,s.ty=!1,s.ny=void 0,s.iy=void 0,s.ey=-1,s.xg=Xg++,s.Jg=n,s.Qg=i,s.ny=e,s.iy=Boolean(r),s.Ho=null!=u?u:"",s}vt(n,t);var i=n.prototype;return i.Od=function(){return sy(this)},i.uy=function(t){return this===t||ew(this,t)&&(i=t,Qt((n=this).Gg,i.Gg,fy)&&Qt(n.Yg,i.Yg,fy)&&n.pl===i.pl);var n,i},i.et=function(){this.Jr()},ft(n,[{key:"Gg",get:function(){return this.Jg},set:function(t){this.Jg!==t&&(this.Jg=t,this.Xr(new cy(this)))}},{key:"Yg",get:function(){return this.Qg},set:function(t){this.Qg!==t&&(this.Qg=t,this.Xr(new cy(this)))}},{key:"pl",get:function(){return this.Ho}},{key:"_l",get:function(){return this.xg}},{key:"Ad",get:function(){return this.Cd||(this.Cd=this.Od()),this.Cd}},{key:"sy",get:function(){return this.ty},set:function(t){this.ty=t}},{key:"Pd",get:function(){return this.Zg},set:function(t){this.Zg=t}},{key:"Kg",get:function(){return this.ny},set:function(t){this.ny!==t&&(this.ny=t,this.Xr(new cy(this)))}},{key:"oy",get:function(){return this.iy},set:function(t){this.iy=t}}]),n}(Jr);var vy=function(t){function n(n,i,e,r,u){var s;return(s=t.call(this,n,i,e,r,u)||this).ay="auto",s.hy="start",s.vy="auto",s.ly="auto",s.wy=void 0,s.gy=!0,s.pu=100,s.yy="center",s.my="",s}return vt(n,t),n.prototype.uy=function(n){return this===n||ew(this,n)&&t.prototype.uy.call(this,n)&&(e=n,(i=this).Kg===e.Kg&&i.ay===e.ay&&i.hy===e.hy&&i.vy===e.vy&&i.ly===e.ly&&i.wy===e.wy&&i.gy===e.gy&&i.pu===e.pu&&i.yy===e.yy&&i.my===e.my);var i,e},ft(n,[{key:"Ad",get:function(){var t;return this.Cd||(this.Cd=tw(sy(t=this),{get align(){return t.yy},get line(){return t.ay},get lineAlign(){return t.hy},get position(){return t.vy},get positionAlign(){return t.ly},get region(){return t.wy?t.wy.Ad:null},get size(){return t.pu},get snapToLines(){return t.gy},get text(){return t.Kg},get vertical(){return t.my}})),this.Cd}},{key:"dr",get:function(){return Zg.Vg}}]),n}(hy);var dy=function(){function t(t,n,i,e,r,u,s,o){this.Cd=void 0,this.pl=t,this.by=n,this.py=i,this._y=e,this.ky=r,this.Ty=u,this.Sy=s,this.Ey=o}return ft(t,[{key:"Ad",get:function(){var t;return this.Cd||(this.Cd=(t=this,{get id(){return t.pl},get identifier(){return t.pl},get lines(){return t.py},get regionAnchorX(){return t._y},get regionAnchorY(){return t.ky},get scrollValue(){return t.Ey},get viewportAnchorX(){return t.Ty},get viewportAnchorY(){return t.Sy},get width(){return t.by}})),this.Cd}},{key:"dr",get:function(){return Zg.qg}}]),t}(),ly=function(){function t(){}var n=t.prototype;return n.Iy=function(t){return this.Ry()*t},n.Dy=function(t){return this.Ny(t)>0},n.Cy=function(t){return this.Ny(t)>=0},n.Ay=function(t,n){return this.Py(t).Oy(n)},n.uy=function(t){return 0===this.Ny(t)},n.xy=function(t){return this.Ny(t)<0},n.Oy=function(t){return this.Ny(t)<=0},n.Ly=function(){return this.By()?this.Fy():this},n.My=function(t){return this.Cg(t.Fy())},n.Py=function(t){return this.My(t).Ly()},t}();function wy(t,n){return t.Uy()?n.Uy()?kr.Er:kr.Ir:n.Uy()?kr.Rr:t.Vy()?n.Vy()&&t.By()===n.By()?kr.Er:t.By()?kr.Rr:kr.Ir:n.By()?kr.Ir:kr.Rr}var gy=function(){function t(t,n){this.qy=void 0,this.zy=void 0,this.qy=t,this.zy=n}t.Hy=function(n,i,e){return e?new t(n.toUnsigned(),i.toUnsigned()):new t(n.toSigned(),i.toSigned())},t.Wy=function(n){return n.unsigned?new t(n,Yt.UZERO):new t(n,n.isNegative()?Yt.NEG_ONE:Yt.ZERO)},t.jy=function(n,i){if(g(n))return i?t.$y:t.Xy;if(i){if(n<0)return t.$y;if(n>=3.402823669209385e38)return t.Gy}else{if(n<=-1.7014118346046923e38)return t.Yy;if(n+1>=1.7014118346046923e38)return t.Ky}return n<0?t.jy(-n,i).Fy():t.Hy(Yt.fromNumber(n%0x10000000000000000),Yt.fromNumber(n/0x10000000000000000),i)};var n=t.prototype;return n.Jy=function(){return this.zy.unsigned},n.Qy=function(){return this.qy.isZero()&&this.zy.isZero()},n.By=function(){return this.zy.isNegative()},n.Zy=function(){return this.Jy()?t.Hy(this.qy,this.zy,!1):this},n.tm=function(){return this.Jy()?this:t.Hy(this.qy,this.zy,!0)},n.nm=function(){return this.qy},n.Ry=function(){return this.By()?-this.Fy().Ry():0x10000000000000000*this.zy.toNumber()+this.qy.toUnsigned().toNumber()},n.im=function(){return this.qy.toInt()},n.uy=function(t){return(this.Jy()===t.Jy()||this.zy.getHighBits()>>>31!=1||t.zy.getHighBits()>>>31!=1)&&(this.zy.toUnsigned().eq(t.zy.toUnsigned())&&this.qy.toUnsigned().eq(t.qy.toUnsigned()))},n.Ny=function(t){if(this.uy(t))return kr.Er;var n=this.By(),i=t.By();if(n&&!i)return kr.Rr;if(!n&&i)return kr.Ir;if(!this.Jy())return this.My(t).By()?kr.Rr:kr.Ir;var e=this.tm(),r=t.tm(),u=r.zy.comp(e.zy);return u>0||0===u&&r.qy.gt(e.qy)?kr.Rr:kr.Ir},n.xy=function(t){return this.Ny(t)<0},n.Oy=function(t){return this.Ny(t)<=0},n.rm=function(t){return this.Ny(t)>0},n.um=function(t){return this.Ny(t)>=0},n.sm=function(){return new t(this.qy.not(),this.zy.not())},n.om=function(n){return new t(this.qy.and(n.qy),this.zy.and(n.zy))},n.cm=function(n){return new t(this.qy.or(n.qy),this.zy.or(n.zy))},n.am=function(n){var i=127&n;return 0===i?this:i<64?t.Hy(this.qy.shl(i),this.zy.shl(i).or(this.qy.shru(64-i)),this.Jy()):t.Hy(Yt.ZERO,this.qy.shl(i-64),this.Jy())},n.fm=function(n){var i=127&n;return 0===i?this:i<64?t.Hy(this.qy.shru(i).or(this.zy.shl(64-i)),this.zy.shr(i),this.Jy()):t.Hy(this.zy.shr(i-64),this.zy.isNegative()?Yt.NEG_ONE:Yt.ZERO,this.Jy())},n.hm=function(n){var i=127&n;return 0===i?this:i<64?t.Hy(this.qy.shru(i).or(this.zy.shl(64-i)),this.zy.shru(i),this.Jy()):64===i?t.Hy(this.zy,Yt.ZERO,this.Jy()):t.Hy(this.zy.shru(i-64),Yt.ZERO,this.Jy())},n.Cg=function(n){var i=this.zy.high>>>16,e=65535&this.zy.high,r=this.zy.low>>>16,u=65535&this.zy.low,s=this.qy.high>>>16,o=65535&this.qy.high,c=this.qy.low>>>16,a=65535&this.qy.low,f=n.zy.high>>>16,h=65535&n.zy.high,v=n.zy.low>>>16,d=65535&n.zy.low,l=n.qy.high>>>16,w=65535&n.qy.high,g=n.qy.low>>>16,y=0,m=0,b=0,p=0,_=0,k=0,T=0,S=0;T+=(S+=a+(65535&n.qy.low))>>>16,S&=65535,k+=(T+=c+g)>>>16,T&=65535,_+=(k+=o+w)>>>16,k&=65535,p+=(_+=s+l)>>>16,_&=65535,b+=(p+=u+d)>>>16,p&=65535,m+=(b+=r+v)>>>16,b&=65535,y+=(m+=e+h)>>>16,m&=65535,y+=i+f,y&=65535;var E=this.Jy(),I=Yt.fromBits(b<<16|p,y<<16|m,E),R=Yt.fromBits(T<<16|S,_<<16|k,E);return t.Hy(R,I,E)},n.My=function(t){return this.Cg(t.Fy())},n.Fy=function(){return this.sm().Cg(t.vm)},n.dm=function(n){if(this.Qy()||n.Qy())return this.Jy()?t.$y:t.Xy;if(this.By())return n.By()?this.Fy().dm(n.Fy()):this.Fy().dm(n).Fy();if(n.By())return this.dm(n.Fy()).Fy();if(this.zy.isZero()&&0===this.qy.high&&n.zy.isZero()&&0===n.qy.high)return t.Wy(this.qy.multiply(n.qy));var i=Yt.fromBits(4294967295,0,!0),e=this.qy.and(i),r=this.qy.shru(32),u=this.zy.and(i),s=this.zy.shru(32),o=n.qy.and(i),c=n.qy.shru(32),a=n.zy.and(i),f=n.zy.shru(32),h=Yt.UZERO,v=Yt.UZERO,d=Yt.UZERO,l=Yt.UZERO;h=h.add(e.mul(o)),v=v.add(h.shru(32)),h=h.and(i),v=v.add(r.mul(o)),d=d.add(v.shru(32)),v=(v=v.and(i)).add(e.mul(c)),d=d.add(v.shru(32)),v=v.and(i),d=d.add(u.mul(o)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(r.mul(c)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(e.mul(a)),l=l.add(d.shru(32)),d=d.and(i),l=l.add(s.mul(o)).add(u.mul(c)).add(r.mul(a)).add(e.mul(f)).and(i);var w=Yt.fromBits(h.getLowBitsUnsigned(),v.getLowBitsUnsigned(),!0),g=Yt.fromBits(d.getLowBitsUnsigned(),l.getLowBitsUnsigned(),!0);return t.Hy(w,g,this.Jy())},n.lm=function(n){var i,e,r=n;if(r.Qy())throw new RangeError("division by zero");if(this.Qy())return this.Jy()?[t.$y,t.$y]:[t.Xy,t.Xy];if(this.Jy()){if(r.Jy()||(r=r.tm()),r.rm(this))return[t.$y,this];if(r.rm(this.hm(1)))return[e=t.wm,i=this.My(r)];e=t.$y}else{if(this.uy(t.Yy)){if(r.uy(t.vm)||r.uy(t.gm))return[t.Yy,t.Xy];if(r.uy(t.Yy))return[t.vm,t.Xy];var u=this.fm(1).ym(r).am(1);return u.uy(t.Xy)?e=r.By()?t.vm:t.gm:(i=this.My(r.dm(u)),e=u.Cg(i.ym(r))),[e,i=this.My(r.dm(e))]}if(r.uy(t.Yy))return this.Jy()?[t.$y,this]:[t.Xy,this];if(this.By()){if(r.By())return this.Fy().lm(r.Fy());var s=this.Fy().lm(r);return e=s[0],i=s[1],[e.Fy(),i.Fy()]}if(r.By()){var o=this.lm(r.Fy());return e=o[0],i=o[1],[e.Fy(),i.Fy()]}e=t.Xy}for(i=this;i.um(r);){for(var c=d.max(1,d.floor(i.Ry()/r.Ry())),a=d.ceil(d.log(c)/d.LN2),f=a<=48?1:d.pow(2,a-48),h=t.jy(c),v=h.dm(r);v.By()||v.rm(i);)c-=f,v=(h=t.jy(c,this.Jy())).dm(r);h.Qy()&&(h=t.vm),e=e.Cg(h),i=i.My(v)}return[e,i]},n.ym=function(t){return this.lm(t)[0]},n.mm=function(t){return this.lm(t)[1]},n.toString=function(n){var i=n||10;if(i<2||i>36)throw new RangeError("radix");if(this.Qy())return"0";if(this.By()){if(this.uy(t.Yy)){var e=t.jy(i),r=this.ym(e),u=r.dm(e).My(this);return r.toString(i)+u.im().toString(i)}return"-"+this.Fy().toString(i)}for(var s=t.jy(d.pow(i,6),this.Jy()),o=this,c="";;){var a=o.ym(s),f=(o.My(a.dm(s)).im()>>>0).toString(i);if((o=a).Qy())return f+c;for(;f.length<6;)f="0"+f;c=String(f)+c}},t}();gy.Xy=gy.Wy(Yt.ZERO),gy.$y=gy.Wy(Yt.UZERO),gy.vm=gy.Wy(Yt.ONE),gy.wm=gy.Wy(Yt.UONE),gy.gm=gy.Wy(Yt.NEG_ONE),gy.Ky=gy.Hy(Yt.NEG_ONE,Yt.MAX_VALUE,!1),gy.Gy=gy.Hy(Yt.MAX_UNSIGNED_VALUE,Yt.MAX_UNSIGNED_VALUE,!0),gy.Yy=gy.Hy(Yt.ZERO,Yt.MIN_VALUE,!1);var yy=function(){function t(t,n){void 0===n&&(n=1),this.bm=void 0,this.pm=void 0,this.bm=t,this.pm=n}t._m=function(n){return new t(d.ceil(n.bm),n.pm)},t.km=function(n){return new t(d.floor(n.bm),n.pm)},t.Tm=function(t,n){return t.Cy(n)?t:n},t.Sm=function(t,n){return t.Oy(n)?t:n};var n=t.prototype;return n.Cg=function(n){return this.pm>=n.pm?new t(this.bm+n.Em(this.pm).bm,this.pm):new t(this.Em(n.pm).bm+n.bm,n.pm)},n.Dy=function(t){return t.xy(this)},n.Cy=function(t){return t.Oy(this)},n.Py=function(n){return this.pm>=n.pm?new t(d.abs(this.bm-n.Em(this.pm).bm),this.pm):n.Py(this)},n.Ay=function(t,n){return this.Py(t).Oy(n)},n.Ny=function(t){return i=t,(n=this).pm>=i.pm?Nr(n.bm,i.Em(n.pm).bm):Nr(n.Em(i.pm).bm,i.bm);var n,i},n.uy=function(t){return 0===this.Ny(t)},n.xy=function(t){return this.Ny(t)<0},n.Oy=function(t){return this.Ny(t)<=0},n.Em=function(n){return new t(this.bm*(n/this.pm),n)},n.My=function(n){return this.pm>=n.pm?new t(this.bm-n.Em(this.pm).bm,this.pm):new t(this.Em(n.pm).bm-n.bm,n.pm)},n.Im=function(n){return new t(this.bm*n,this.pm)},ft(t,[{key:"Vy",get:function(){return!isFinite(this.bm)}},{key:"Rm",get:function(){return this.bm/this.pm}}]),t}();yy.Dm=new yy(1/6,1),yy.Xy=new yy(0),yy.Nm=new yy(1/0),yy.Cm=1e6;var my=function(t){function n(n,i){var e;return(e=t.call(this)||this).li=void 0,e.pm=void 0,e.li=n.toSigned(),e.pm=i>>>0,e}vt(n,t),n.Am=function(t,i){return void 0===i&&(i=1e6),n.jy(t*i,i)},n.jy=function(t,i){return g(t)?n.Om:t===1/0?n.Pm:t===-1/0?n.xm:new n(Yt.fromNumber(t),i)},n.Wy=function(t,i){return new n(t,i)},n.Lm=function(t){return n.Am(t.Rm,1e6)},n.Bm=function(t){return new n(Yt.fromNumber(t.getTime()),1e3)},n.Tm=function(t,n){return t.Cy(n)?t:n},n.Sm=function(t,n){return t.Oy(n)?t:n},n.Fm=function(t,i,e){return n.Tm(i,n.Sm(e,t))};var i=n.prototype;return i.By=function(){return this.li.isNegative()},i.Qy=function(){return 0!==this.pm&&this.li.isZero()},i.Vy=function(){return 0===this.pm&&!this.li.isZero()},i.Uy=function(){return 0===this.pm&&this.li.isZero()},i.Ry=function(){if(0===this.pm)return this.li.isZero()?NaN:this.li.isNegative()?-1/0:1/0;var t=this.li.divide(this.pm),n=this.li.subtract(t.multiply(this.pm));return t.toNumber()+n.toNumber()/this.pm},i.nm=function(){if(0===this.pm)throw new f("Failed to convert timestamp");return this.li},i.Mm=function(){return new Date(0===this.pm?NaN:this.Em(1e3).li.toNumber())},i.Um=function(){return new yy(0===this.pm?this.Ry():this.li.toNumber(),this.pm)},i.Em=function(t,i){void 0===i&&(i=_y.Vm);var e=this.pm;if(e===t)return this;if(0===e)return this;var r=Zt(e,t);return new n(function(t,n,i){var e=t.lm(n),r=e[0],u=e[1];if(u.Qy())return r;if(i===_y.Vm)return u.By()?r.My(gy.vm):r;if(i===_y.qm)return u.By()?r:r.Cg(gy.vm);var s=u.dm(gy.jy(2));return s.By()?s.Fy().xy(n)?r:r.My(gy.vm):s.xy(n)?r:r.Cg(gy.vm)}(gy.Wy(this.li).dm(gy.jy(t/r)),gy.jy(e/r),i).nm(),t)},i.Ny=function(t){if(this===t)return kr.Er;if(0===this.pm||0===t.pm)return wy(this,t);if(this.Qy())return t.Qy()?kr.Er:t.By()?kr.Ir:kr.Rr;if(t.Qy())return this.By()?kr.Rr:kr.Ir;var n=d.min(this.pm,t.pm),i=this.Em(n,_y.zm).li,e=t.Em(n,_y.zm).li;return i.compare(e)},i.Fy=function(){return 0===this.pm?by(this):new n(this.li.negate(),this.pm)},i.Cg=function(t){if(0===this.pm||0===t.pm)return py(this,t);if(this.Qy())return t;if(t.Qy())return this;var i=d.max(this.pm,t.pm),e=this.Em(i,_y.zm),r=t.Em(i,_y.zm);return new n(e.li.add(r.li),i)},i.dm=function(t){if(this.Uy()||g(t))return n.Om;if(this.Vy()||!isFinite(t)){if(this.Qy()||0===t)return n.Om;var i=this.By()?n.xm:n.Pm;return t<0?i.Fy():i}return this.Qy()?this:new n(0===t?Yt.ZERO:this.li.multiply(t),this.pm)},i.ym=function(t){if(this.Uy()||g(t))return n.Om;if(this.Vy())return isFinite(t)?0===t?1/t<0?this.Fy():this:t<0?this.Fy():this:n.Om;if(!isFinite(t))return new n(Yt.ZERO,this.pm);if(this.Qy())return 0===t?n.Om:new n(Yt.ZERO,this.pm);if(0===t){var i=this.By()?n.xm:n.Pm;return 1/t<0?i.Fy():i}return new n(this.li.divide(t),this.pm)},i.Hm=function(){return[this.li.low,this.li.high,this.pm]},n}(ly);function by(t){return t.Uy()?t:t.By()?my.Pm:my.xm}function py(t,n){return t.Uy()||n.Uy()?my.Om:t.Vy()&&n.Vy()?t.By()===n.By()?t:my.Om:t.Vy()?t:n}my.Xy=new my(Yt.ZERO,1e6),my.Om=new my(Yt.ZERO,0),my.Pm=new my(Yt.ONE,0),my.xm=new my(Yt.NEG_ONE,0);var _y,ky=function(t){function n(n,i){var e;return(e=t.call(this)||this).li=void 0,e.pm=void 0,e.li=BigInt.asIntN(64,n),e.pm=i>>>0,e}vt(n,t),n.Am=function(t,i){return void 0===i&&(i=1e6),n.jy(t*i,i)},n.jy=function(t,i){return g(t)?n.Om:t===1/0?n.Pm:t===-1/0?n.xm:new n(BigInt(d.floor(t)),i)},n.Wy=function(t,i){return new n(BigInt(t.high)<<BigInt(32)|BigInt(t.low>>>0),i)},n.Lm=function(t){return n.Am(t.Rm,1e6)},n.Bm=function(t){return n.jy(t.getTime(),1e3)},n.Tm=function(t,n){return t.Cy(n)?t:n},n.Sm=function(t,n){return t.Oy(n)?t:n},n.Fm=function(t,i,e){return n.Tm(i,n.Sm(e,t))};var i=n.prototype;return i.By=function(){return this.li<BigInt(0)},i.Qy=function(){return 0!==this.pm&&this.li===BigInt(0)},i.Vy=function(){return 0===this.pm&&this.li!==BigInt(0)},i.Uy=function(){return 0===this.pm&&this.li===BigInt(0)},i.Ry=function(){if(0===this.pm)return this.li===BigInt(0)?NaN:this.li<BigInt(0)?-1/0:1/0;var t=this.li/BigInt(this.pm),n=this.li-t*BigInt(this.pm);return Number(t)+Number(n)/this.pm},i.nm=function(){if(0===this.pm)throw new f("Failed to convert timestamp");return this.Wm()},i.Wm=function(){var t=this.li&BigInt(4294967295),n=this.li>>BigInt(32)&BigInt(4294967295);return Yt.fromBits(Number(t),Number(n))},i.Mm=function(){return new Date(0===this.pm?NaN:Number(this.Em(1e3).li))},i.Um=function(){return new yy(0===this.pm?this.Ry():Number(this.li),this.pm)},i.Em=function(t,i){void 0===i&&(i=_y.Vm);var e=this.pm;if(e===t)return this;if(0===e)return this;var r=Zt(e,t);return new n(function(t,n,i){var e=t/n,r=t-e*n;if(r===BigInt(0))return e;if(i===_y.Vm)return r<BigInt(0)?e-BigInt(1):e;if(i===_y.qm)return r<BigInt(0)?e:e+BigInt(1);var u=r*BigInt(2);return u<BigInt(0)?-u<n?e:e-BigInt(1):u<n?e:e+BigInt(1)}(this.li*BigInt(t/r),BigInt(e/r),i),t)},i.Ny=function(t){if(this===t)return kr.Er;if(0===this.pm||0===t.pm)return wy(this,t);if(this.Qy())return t.Qy()?kr.Er:t.By()?kr.Ir:kr.Rr;if(t.Qy())return this.By()?kr.Rr:kr.Ir;var n=d.min(this.pm,t.pm),i=this.Em(n,_y.zm).li,e=t.Em(n,_y.zm).li;return i>e?kr.Ir:i<e?kr.Rr:kr.Er},i.Fy=function(){return 0===this.pm?Ty(this):new n(-this.li,this.pm)},i.Cg=function(t){if(0===this.pm||0===t.pm)return Sy(this,t);if(this.Qy())return t;if(t.Qy())return this;var i=d.max(this.pm,t.pm),e=this.Em(i,_y.zm),r=t.Em(i,_y.zm);return new n(e.li+r.li,i)},i.dm=function(t){if(this.Uy()||g(t))return n.Om;if(this.Vy()||!isFinite(t)){if(this.Qy()||0===t)return n.Om;var i=this.By()?n.xm:n.Pm;return t<0?i.Fy():i}return this.Qy()?this:new n(0===t?BigInt(0):this.li*BigInt(t),this.pm)},i.ym=function(t){if(this.Uy()||g(t))return n.Om;if(this.Vy())return isFinite(t)?0===t?1/t<0?this.Fy():this:t<0?this.Fy():this:n.Om;if(!isFinite(t))return new n(BigInt(0),this.pm);if(this.Qy())return 0===t?n.Om:new n(BigInt(0),this.pm);if(0===t){var i=this.By()?n.xm:n.Pm;return 1/t<0?i.Fy():i}return new n(this.li/BigInt(t),this.pm)},i.Hm=function(){var t=this.Wm();return[t.low,t.high,this.pm]},ft(n,null,[{key:"Xy",get:function(){return n.jm||(n.jm=new n(BigInt(0),1e6)),n.jm}},{key:"Om",get:function(){return n.$m||(n.$m=new n(BigInt(0),0)),n.$m}},{key:"Pm",get:function(){return n.Xm||(n.Xm=new n(BigInt(1),0)),n.Xm}},{key:"xm",get:function(){return n.Gm||(n.Gm=new n(BigInt(-1),0)),n.Gm}}]),n}(ly);function Ty(t){return t.Uy()?t:t.By()?ky.Pm:ky.xm}function Sy(t,n){return t.Uy()||n.Uy()?ky.Om:t.Vy()&&n.Vy()?t.By()===n.By()?t:ky.Om:t.Vy()?t:n}ky.jm=void 0,ky.$m=void 0,ky.Xm=void 0,ky.Gm=void 0,function(t){t[t.Vm=0]="Vm",t[t.qm=1]="qm",t[t.zm=2]="zm"}(_y||(_y={}));var Ey,Iy,Ry,Dy,Ny=function(){try{return"function"==typeof BigInt&&"bigint"==typeof BigInt(0)}catch(t){return!1}}()?ky:my,Cy=9e4,Ay=d.pow(2,33),Oy=(Ny.jy(Ay,Cy).ym(2),{Ym:0,Km:1/0,Jm:0}),Py=6,xy=["WEBVTT ","WEBVTT\t","WEBVTT\n"],Ly=[" ","\t","\n","\f","\r"],By=/^\d*$/,Fy=/.*[0-9]+.*/,My=/^[\d.-]+$/,Uy=/(^\.|\.$)/,Vy=/(\D\.|\.\D)/;function qy(t,n){void 0===n&&(n=Oy);var i={Bl:[],Qm:[],Zm:[]},e=zy(t),r=new os;if(Qy(e),Hy(e,function(t){return"\n"!==t},r),r.Eu>=e.length)return i;(r.ku(1),"\n"!==e.charAt(r.Eu))?Xy(Wy(e,r,!1,!0,i,n),i):r.ku(1);for(Hy(e,function(t){return"\n"===t},r);r.Eu<e.length;){Xy(Wy(e,r,!1,!1,i,n),i),Hy(e,function(t){return"\n"===t},r)}return i}function zy(t){var n=vr(t,"\0"," "),i=vr(n,"\r\n","\n");return vr(i,"\r","\n")}function Hy(t,n,i){for(var e=i.Eu;i.Eu<t.length&&n(t.charAt(i.Eu));)i.ku(1);return t.substring(e,i.Eu)}function Wy(t,n,i,e,r,u){for(var s,o=0,c=n.Eu,a="",f=!1,h=!1,v=null,d=null,l=null;!f;)if(s=Hy(t,function(t){return"\n"!==t},n),o++,n.Eu>=t.length?f=!0:n.ku(1),dr(s,"--\x3e")){if(e||1!==o&&(2!==o||h)){n.Tu(c);break}h=!0,c=n.Eu,v=new vy(0,0,"",!1,a);try{Gy(s,r.Qm,v,u),a=""}catch(t){st.Ee(t),v=null}}else{if(""===s)break;e&&lr(s,"X-TIMESTAMP-MAP")&&(r.nb=jy(s)),e||2!==o||i||(gr("STYLE",a.replace(/ /g,""))?(d={dr:Zg.zg},a=""):gr("REGION",a.replace(/ /g,""))&&(l=new dy("",100,3,0,100,0,100,""),a="")),a&&(a+="\n"),a+=s,c=n.Eu}if(v)return v.Kg=a,v;if(d);else if(l)return function(t,n){for(var i=t.split(/\s/),e=0;e<i.length;e++){var r=i[e];if(0!==r.length&&dr(r,":")&&":"!==r.charAt(0)&&":"!==r.charAt(r.length-1)){var u=r.indexOf(":"),s=r.substring(0,u),o=r.substring(u+1,r.length);switch(s.toUpperCase()){case"ID":am(o,n);break;case"WIDTH":vm(o,n);break;case"LINES":hm(o,n);break;case"REGIONANCHOR":var c=cm(o);c&&(n._y=c[0],n.ky=c[1]);break;case"VIEWPORTANCHOR":var a=cm(o);a&&(n.Ty=a[0],n.Sy=a[1]);break;case"SCROLL":fm(o,n)}}}}(a,l),l;return null}function jy(t){var n,i,e=t.split("=")[1].trim().split(","),r=$y(e[0].trim(),"MPEGTS")?e[0]:e[1],u=$y(e[0].trim(),"LOCAL")?e[0]:e[1];return{ib:(i=Number(r.split(/:(.*)/)[1].trim())||0,Ny.jy(i,Cy)),eb:Ny.Am(null!=(n=Jy(u.split(/:(.*)/)[1].trim(),new os))?n:0)}}function $y(t,n){return lr(t,n)}function Xy(t,n){t&&function(t){return t.dr===Zg.Vg}(t)?n.Bl.push(t):t&&function(t){return t.dr===Zg.qg}(t)?n.Qm.push(t):t&&function(t){return t.dr===Zg.zg}(t)&&n.Zm.push(t)}function Gy(t,n,i,e){var r=new os;if(Zy(t,r),i.Gg=Yy(Jy(t,r),e),Zy(t,r),"--\x3e"!==t.substring(r.Eu,r.Eu+3))throw f("Something went wrong with parsing a WebVTT Cue");r.ku(3),Zy(t,r),i.Yg=Yy(Jy(t,r),e),function(t,n,i){for(var e=t.split(/\s/),r=0;r<e.length;r++){var u=e[r];if(0!==u.length&&dr(u,":")&&":"!==u.charAt(0)&&":"!==u.charAt(u.length-1)){var s=u.indexOf(":"),o=u.substring(0,s),c=u.substring(s+1,u.length);switch(o.toUpperCase()){case"REGION":rm(c,n,i);break;case"VERTICAL":sm(c,n);break;case"D":om(c,n);break;case"LINE":case"L":im(c,n);break;case"POSITION":case"T":em(c,n);break;case"SIZE":case"S":um(c,n);break;case"ALIGN":case"A":nm(c,n)}}}}(t.substring(r.Eu,t.length),i,n)}function Yy(t,n){return t+n.Ym}function Ky(t){return/^[0-9]$/.test(t)}function Jy(t,n){var i,e,r,u=vr(t,",","."),s=!1;if(n.Eu>=u.length||!Ky(u.charAt(n.Eu)))throw new f("Something went wrong with parsing a WebVTT Cue timestamp");var o=Hy(u,Ky,n),c=l(o,10);if((o.length>2||c>59)&&(s=!0),n.Eu>=u.length||":"!==u.charAt(n.Eu))throw new f("Something went wrong with parsing a WebVTT Cue timestamp");n.ku(1);var a=Hy(u,Ky,n);if(2!==a.length)throw new f("Something went wrong with parsing a WebVTT Cue timestamp");var h=l(a,10);if(s||n.Eu<u.length&&":"===u.charAt(n.Eu)){if(n.Eu>=u.length||":"!==u.charAt(n.Eu))throw new f("Something went wrong with parsing a WebVTT Cue timestamp");n.ku(1);var v=Hy(u,Ky,n);if(2!==a.length)throw new f("Something went wrong with parsing a WebVTT Cue timestamp");i=c,e=h,r=l(v,10)}else i=0,e=c,r=h;if(n.Eu>=u.length||"."!==u.charAt(n.Eu))throw new f("Something went wrong with parsing a WebVTT Cue timestamp");n.ku(1);var d=Hy(u,Ky,n),w=l(d,10);if(h>59||r>59)throw new f("Something went wrong with parsing a WebVTT Cue timestamp");return 60*i*60+60*e+r+w/1e3}function Qy(t){if(t.length<Py)return!1;for(var n=0;n<xy.length;n++){if(lr(t,xy[n]))return!0}return!1}function Zy(t,n){for(;n.Eu<t.length&&(i=t.charAt(n.Eu),Pr(Ly,i));)n.ku(1);var i}function tm(t){var n=t.lastIndexOf("%");if(n>-1){var i=w(t.substring(0,n));if(!g(i)&&i>=0&&i<=100)return i}return null}function nm(t,n){var i=t.toLowerCase();switch(i){case"start":case"center":case"end":case"left":case"right":n.yy=i;break;case"middle":n.yy="center"}}function im(t,n){var i,e,r=t.indexOf(",");if(r>=0?(i=t.substring(0,r),e=t.substring(r+1,t.length)):(i=t,e=""),Fy.test(i)){var u,s;if(wr(i,"%")){var o=tm(i);if(null===o)return;u=o,s=!1}else{if(!My.test(i)||i.lastIndexOf("-")>0)return;var c=i.indexOf(".");if(c>=0&&(c!==i.lastIndexOf(".")||!Vy.test(i)||Uy.test(i)))return;if(u=w(i),g(u))return;s=!0}switch(n.ay=u,n.gy=s,e=e.toLowerCase()){case"start":case"center":case"end":n.hy=e;break;case"middle":n.hy="center"}}}function em(t,n){var i,e,r=t.indexOf(",");r>=0?(i=t.substring(0,r),e=t.substring(r+1,t.length)):(i=t,e="");var u=tm(i);if(null!==u)switch(n.vy=u,e=e.toLowerCase()){case"line-left":case"center":case"line-right":case"auto":n.ly=e;break;case"start":n.ly="line-left";break;case"middle":n.ly="center";break;case"end":n.ly="line-right"}}function rm(t,n,i){var e,r,u,s=-1===(u=function(t,n,i){for(var e=t.length-1;e>=0;e-=1){var r=t[e];if(n.call(i,r,e,t))return e}return-1}(e=i,function(n){return n.pl===t},r))?void 0:e[u];void 0!==s&&(n.wy=s)}function um(t,n){var i=tm(t);null!==i&&(n.pu=i)}function sm(t,n){switch(t.toLowerCase()){case"rl":case"vertical:rl":case"vertical-rl":n.my="rl";break;case"lr":case"vertical:lr":case"vertical-lr":n.my="lr";break;default:n.my=""}}function om(t,n){"VERTICAL"===t.toUpperCase()?n.my="rl":"VERTICAL-LR"===t.toUpperCase()&&(n.my="lr")}function cm(t){if(t.indexOf(",")>=0){var n=tm(t.substring(0,t.indexOf(","))),i=tm(t.substring(t.indexOf(",")+1,t.length));return[Jt(n||0,0,100),Jt(i||100,0,100)]}return null}function am(t,n){n.pl=t}function fm(t,n){"up"===t.toLowerCase()&&(n.Ey="up")}function hm(t,n){By.test(t)&&(n.py=l(t))}function vm(t,n){var i=tm(t);null!==i&&(n.by=i)}!function(t){t.ub="moov",t.sb="mvhd",t.ob="trak",t.cb="tkhd",t.ab="mdia",t.fb="mdhd",t.hb="hdlr",t.vb="minf",t.lb="stbl",t.wb="stsd",t.gb="stsc",t.yb="mvex",t.mb="trex",t.bb="avc1",t.pb="avcC",t._b="hev1",t.kb="hvc1",t.Tb="hvcC",t.Sb="pasp",t.Eb="mp4a",t.Ib="esds",t.Rb="wvtt",t.Db="vttC",t.Nb="vlab",t.Cb="enca",t.Ab="encv",t.Ob="moof",t.Pb="mfhd",t.xb="traf",t.Lb="tfhd",t.Bb="trun",t.Fb="tfdt",t.Mb="mdat",t.Ub="pssh",t.Vb="emsg",t.qb="sidx",t.zb="styp",t.Hb="ftyp",t.Wb="sinf",t.jb="frma"}(Ey||(Ey={})),function(t){t.uv="vide",t.rv="soun",t.$b="subt",t.Xb="hint",t.Gb="meta",t.Yb="auxv"}(Iy||(Iy={})),function(t){t[t.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",t[t.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",t[t.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",t[t.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",t[t.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT",t[t.DURATION_IS_EMPTY=32]="DURATION_IS_EMPTY",t[t.DEFAULT_BASE_IS_MOOF=131072]="DEFAULT_BASE_IS_MOOF"}(Ry||(Ry={})),function(t){t[t.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",t[t.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",t[t.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",t[t.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT=2048]="SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT"}(Dy||(Dy={}));var dm=function(){function t(t,n){this.Oi=void 0,this.Kb=void 0,this.Oi=t,this.Kb=n}var n=t.prototype;return n.Jb=function(){return Au(this.Oi,this.Kb)},n.Qb=function(){return Lu(this.Oi,this.Kb)},n.Zb=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt16(n.Eu,i);return n.ku(2),e}(this.Oi,this.Kb)},n.tp=function(){return Fu(this.Oi,this.Kb)},n.np=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt32(n.Eu,i);return n.ku(4),e}(this.Oi,this.Kb)},n.ip=function(){return Uu(this.Oi,this.Kb)},n.ep=function(t){return Pu(this.Oi,this.Kb,t)},n.rp=function(t){return function(t,n,i){for(var e=[],r=0;r<i;r++)e.push(Fu(t,n));return e}(this.Oi,this.Kb,t)},n.sp=function(t){return zu(this.Oi,this.Kb,t)},n.op=function(){return Ju(this.Oi,this.Kb)},n.cp=function(t){this.Kb.ku(t)},n.Su=function(){return new t(this.Oi,this.Kb.Su())},t}(),lm=function(t){function n(n,i){var e;return(e=t.call(this)||this).ap=n,e.fp=i,e}return vt(n,t),ft(n,[{key:"name",get:function(){return"DataIncompleteError"}}]),n}(on),wm=function(){function t(){}return t.hp=function(n){var i=n.Oi,e=n.Kb,r=t.vp(i,e,!1);if(!r.dp)throw new lm(e.Eu,r.Ti);return r.Ti},t.vp=function(n,i,e){for(var r=[];i.Eu<n.byteLength;){var u=t.lp(n,i,e);if(!u.dp)return{dp:!1,Ti:r};r.push(u.wp)}return{dp:!0,Ti:r}},t.gp=function(n,i){var e=t.lp(n,i,!1);if(!e.dp)throw new lm(i.Eu);return e.wp},t.yp=function(n,i){for(var e=n.Oi,r=n.Kb;r.Eu<e.byteLength;){var u=t.lp(e,r,!1);if(!u.dp)return;if(u.wp.dr===i)return u.wp}},t.lp=function(n,i,e){var r=i.Eu,u=t.mp(n,i);if(!u.dp)return u;var s=u.bp,o=s.pu;if(0===o){if(e)return i.Tu(r),{dp:!1,pp:1/0};o=n.byteLength-r}var c=r+o;if(c>n.byteLength){var a=c;return i.Tu(r),{dp:!1,pp:a}}var f,h,v,d={dr:s.dr,Eu:r,Oi:new dm((f=n,h=r,v=c,void 0===h&&(h=0),void 0===v&&(v=f.byteLength),new DataView(f.buffer,f.byteOffset+h,v-h)),new os(s._p))};return i.Tu(c),{dp:!0,wp:d}},t.mp=function(t,n){var i=n.Eu;if(!xu(t,n,8))return{dp:!1,pp:n.Eu+8};var e=Fu(t,n),r=zu(t,n,4);if(1===e){if(!xu(t,n,8)){var u=n.Eu+8;return n.Tu(i),{dp:!1,pp:u}}e=Uu(t,n).toNumber()}if("uuid"===r){if(!xu(t,n,16)){var s=n.Eu+16;return n.Tu(i),{dp:!1,pp:s}}r=zu(t,n,16)}return{dp:!0,bp:{dr:r,pu:e,_p:n.Eu-i}}},t.kp=function(t,n,i){var e=t.Oi,r=t.Kb,u=ts(is(e),r.Eu,e.byteLength);return i&&(u=ss(u)),r.ku(u.byteLength),{dr:n,Oi:u}},t.Tp=function(n,i,e){var r=bm(n.tp());return{dr:i,Sp:r.version,Ep:r.flags,Oi:t.kp(n,i,e).Oi}},t}();function gm(t,n){var i=ym(t,n);if(!i)throw new f("Missing "+n+" atom");return i}function ym(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.dr===n)return e.Oi}}function mm(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];r.dr===n&&i.push(r.Oi)}return i}function bm(t){return{version:t>>24,flags:new Cu(16777215&t)}}var pm=function(){function t(){}return t.Ip=function(n){for(var i=[],e=wm.hp(new dm(n,new os)),r=0;r<e.length;r++){var u=e[r],s=t.Rp(u);s&&i.push(s)}return i},t.Dp=function(t){return wm.vp(t,new os,!1).Ti.some(function(t){return t.dr===Ey.Ob||t.dr===Ey.zb})},t.Np=function(n){return mm(wm.hp(new dm(n,new os)),Ey.Ub).map(t.Cp)},t.Ap=function(n){return mm(wm.hp(n.Oi),Ey.Ub).map(t.Cp)},t.Rp=function(n){switch(n.dr){case Ey.ub:return t.Op(n.Oi);case Ey.Ob:return t.Pp(n.Oi,n.Eu);case Ey.Mb:return t.xp(n.Oi);case Ey.qb:return t.Lp(n.Oi);case Ey.Vb:return t.Bp(n.Oi)}},t.Op=function(n){var i=wm.hp(n),e=gm(i,Ey.sb),r=mm(i,Ey.ob),u=ym(i,Ey.yb),s=t.Fp(e),o=r.map(t.Mp),c=u?t.Up(u):void 0;return{dr:Ey.ub,bp:s,Vp:o,qp:c}},t.Fp=function(t){var n=bm(t.tp()),i=n.version,e=n.flags,r=1===i?t.ip():t.tp(),u=1===i?t.ip():t.tp(),s=t.tp(),o=1===i?t.ip():t.tp(),c=t.tp(),a=t.Qb()>>8;t.cp(2),t.cp(8);var f=t.rp(9);t.cp(24);var h=t.tp();return{dr:Ey.sb,Sp:i,Ep:e,zp:r,Hp:u,pm:s,mw:o,Wp:c,Rw:a,jp:f,$p:h}},t.Mp=function(n){var i=wm.hp(n),e=gm(i,Ey.cb),r=gm(i,Ey.ab),u=t.Xp(e),s=t.Gp(r);return{dr:Ey.ob,bp:u,Yp:s}},t.Xp=function(t){var n=bm(t.tp()),i=n.version,e=n.flags,r=1===i?t.ip():t.tp(),u=1===i?t.ip():t.tp(),s=t.tp();t.cp(4);var o=1===i?t.ip():t.tp();t.cp(8);var c=t.Zb(),a=t.Zb(),f=t.Zb()/d.pow(2,8);t.cp(2);var h=t.rp(9),v=t.tp()/d.pow(2,16),l=t.tp()/d.pow(2,16);return{dr:Ey.cb,Kp:e.Ru(1),Jp:e.Ru(2),Qp:e.Ru(4),zp:r,Hp:u,Zp:s,mw:o,t_:c,n_:a,Rw:f,jp:h,by:v,i_:l}},t.Gp=function(n){var i=wm.hp(n),e=gm(i,Ey.fb),r=gm(i,Ey.hb),u=gm(i,Ey.vb),s=t.e_(e),o=t.r_(r),c=t.u_(u);return{dr:Ey.ab,bp:s,s_:o,o_:c}},t.e_=function(t){var n=bm(t.tp()),i=n.version,e=n.flags,r=1===i?t.ip():t.tp(),u=1===i?t.ip():t.tp(),s=t.tp(),o=1===i?t.ip():t.tp();t.Qb();return t.cp(2),{dr:Ey.fb,Sp:i,Ep:e,zp:r,Hp:u,pm:s,mw:o}},t.r_=function(t){var n=bm(t.tp()),i=n.version,e=n.flags;t.cp(4);var r=t.sp(4);t.cp(12);var u=t.op();return{dr:Ey.hb,Sp:i,Ep:e,c_:r,hi:u}},t.u_=function(n){var i=gm(wm.hp(n),Ey.lb),e=t.a_(i);return{dr:Ey.vb,f_:e}},t.a_=function(n){var i=gm(wm.hp(n),Ey.wb),e=t.h_(i);return{dr:Ey.lb,v_:e}},t.h_=function(n){for(var i=bm(n.tp()),e=i.version,r=i.flags,u=(n.tp(),[]),s=wm.hp(n),o=0;o<s.length;o++){var c=s[o],a=t.d_(c.Oi,c.dr);a&&u.push(a)}return{dr:Ey.wb,Sp:e,Ep:r,l_:u}},t.d_=function(n,i){var e=t.w_(n,i);return e||((e=t.g_(n,i))||(i===Ey.Rb?t.y_(n):void 0))},t.w_=function(n,i){return i===Ey.Eb?t.m_(n):i===Ey.Cb?t.b_(n):void 0},t.g_=function(n,i){return i===Ey.bb?t.p_(n):i===Ey._b||i===Ey.kb?t.__(n,i):i===Ey.Ab?t.k_(n):void 0},t.T_=function(t,n){return t.cp(6),{dr:n,S_:t.Qb()}},t.E_=function(n,i){var e=t.T_(n,i);n.cp(8);var r=n.Qb(),u=n.Qb();return n.cp(2),n.cp(2),He({},e,{I_:r,R_:u,D_:n.tp()>>>16})},t.N_=function(n,i){var e=t.T_(n,i);n.cp(2),n.cp(2),n.cp(12);var r=n.Qb(),u=n.Qb(),s=n.tp(),o=n.tp();n.cp(4);var c=n.Qb();n.cp(32);var a=n.Qb();return n.cp(2),He({},e,{by:r,i_:u,C_:s,A_:o,O_:c,P_:a})},t.m_=function(n){var i=t.E_(n,Ey.Eb),e=gm(wm.hp(n),Ey.Ib);return He({},i,{x_:t.L_(e)})},t.y_=function(n){var i=t.T_(n,Ey.Rb),e=wm.hp(n),r=gm(e,Ey.Db),u=t.B_(r),s=ym(e,Ey.Nb);return He({},i,{F_:u,M_:s?t.U_(s):s})},t.B_=function(t){return{dr:Ey.Db,vc:t.op()}},t.U_=function(t){return{dr:Ey.Nb,Tl:t.op()}},t.L_=function(t){return wm.Tp(t,Ey.Ib,!0)},t.p_=function(n){var i=t.N_(n,Ey.bb),e=wm.hp(n),r=gm(e,Ey.pb),u=ym(e,Ey.Sb);return He({},i,{V_:t.q_(r),z_:u?t.H_(u):void 0})},t.__=function(n,i){var e=t.N_(n,i),r=gm(wm.hp(n),Ey.Tb);return He({},e,{W_:t.j_(r)})},t.k_=function(n){var i=n.Su(),e=t.N_(n,Ey.Ab),r=gm(wm.hp(n),Ey.Wb),u=t.X_(r);return He({},e,{G_:t.g_(i,u.K_.Y_),J_:u})},t.b_=function(n){var i=n.Su(),e=t.E_(n,Ey.Cb),r=gm(wm.hp(n),Ey.Wb),u=t.X_(r);return He({},e,{G_:t.w_(i,u.K_.Y_),J_:u})},t.X_=function(n){var i=gm(wm.hp(n),Ey.jb),e=t.Q_(i);return{dr:Ey.Wb,K_:e}},t.Q_=function(t){var n=t.sp(4);return{dr:Ey.jb,Y_:n}},t.q_=function(t){return wm.kp(t,Ey.pb,!0)},t.j_=function(t){return wm.kp(t,Ey.Tb,!0)},t.H_=function(t){var n=t.tp(),i=t.tp();return{dr:Ey.Sb,Z_:n,tk:i}},t.Up=function(n){var i=mm(wm.hp(n),Ey.mb).map(t.nk);return{dr:Ey.yb,Vp:i}},t.nk=function(t){var n=bm(t.tp()),i=n.version,e=n.flags,r=t.tp(),u=t.tp(),s=t.tp(),o=t.tp(),c=t.tp();return{dr:Ey.mb,Sp:i,Ep:e,Zp:r,ik:u,ek:s,rk:o,uk:c}},t.Pp=function(n,i){var e=wm.hp(n),r=gm(e,Ey.Pb),u=mm(e,Ey.xb),s=t.sk(r),o=u.map(t.ck);return{dr:Ey.Ob,ak:i,bp:s,Vp:o}},t.sk=function(t){var n=bm(t.tp()),i=n.version,e=n.flags,r=t.tp();return{dr:Ey.Pb,Sp:i,Ep:e,fk:r}},t.ck=function(n){var i=wm.hp(n),e=gm(i,Ey.Lb),r=mm(i,Ey.Bb),u=ym(i,Ey.Fb),s=t.hk(e),o=r.map(function(n){return t.vk(n,s)}),c=u?t.dk(u):void 0;return{dr:Ey.xb,bp:s,lk:o,wk:c}},t.hk=function(t){var n=bm(t.tp()),i=n.version,e=n.flags,r=t.tp(),u=e.Ru(Ry.BASE_DATA_OFFSET_PRESENT)?t.ip():void 0,s=e.Ru(Ry.SAMPLE_DESCRIPTION_INDEX_PRESENT)?t.tp():void 0,o=e.Ru(Ry.DEFAULT_SAMPLE_DURATION_PRESENT)?t.tp():void 0,c=e.Ru(Ry.DEFAULT_SAMPLE_SIZE_PRESENT)?t.tp():void 0,a=e.Ru(Ry.DEFAULT_SAMPLE_FLAGS_PRESENT)?t.tp():void 0;return{dr:Ey.Lb,Sp:i,Ep:e,Zp:r,gk:u,yk:s,ek:o,rk:c,uk:a}},t.vk=function(n,i){for(var e=bm(n.tp()),r=e.version,u=e.flags,s=n.tp(),o=u.Ru(Dy.DATA_OFFSET_PRESENT)?n.np():void 0,c=u.Ru(Dy.FIRST_SAMPLE_FLAGS_PRESENT)?n.tp():void 0,a=[],f=0;f<s;f++){var h=t.mk(n,u,r,i);0===f&&void 0!==c&&(h.Ep=c),a.push(h)}return{dr:Ey.Bb,Sp:r,Ep:u,bk:s,ak:o,pk:c,_k:a}},t.mk=function(t,n,i,e){return{mw:n.Ru(Dy.SAMPLE_DURATION_PRESENT)?t.tp():e.ek,pu:n.Ru(Dy.SAMPLE_SIZE_PRESENT)?t.tp():e.rk,Ep:n.Ru(Dy.SAMPLE_FLAGS_PRESENT)?t.tp():e.uk,kk:n.Ru(Dy.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT)?0===i?t.tp():t.np():void 0}},t.Bp=function(t){var n=t.Oi,i=t.Kb,e=bm(Fu(n,i)),r=e.version,u=e.flags;if(1===r){var s=Fu(n,i),o=Uu(n,i),c=Fu(n,i),a=Fu(n,i),f=qu(n,i),h=qu(n,i),v=us(is(n),i.Eu,n.byteLength);return i.ku(v.byteLength),{dr:Ey.Vb,Sp:r,Ep:u,Tk:f,li:h,pm:s,Sk:o,Ek:c,pl:a,Ik:v}}var d=qu(n,i),l=qu(n,i),w=Fu(n,i),g=Fu(n,i),y=Fu(n,i),m=Fu(n,i),b=us(is(n),i.Eu,n.byteLength);return i.ku(b.byteLength),{dr:Ey.Vb,Ep:u,Sp:r,Tk:d,li:l,pm:w,Rk:g,Ek:y,pl:m,Ik:b}},t.xp=function(t){return wm.kp(t,Ey.Mb,!1)},t.Cp=function(n){var i=n.Oi,e=n.Kb,r=ss(is(i)).buffer,u=bm(Fu(i,e)),s=u.version,o=u.flags,c=t.Dk(i,e),a=[];if(s>0)for(var f=Fu(i,e),h=0;h<f;h++){var v=Pu(i,e,16);a.push(v)}var d=Fu(i,e),l=new y(r,e.Eu,d);return e.ku(i.byteLength),{dr:Ey.Ub,Sp:s,Ep:o,Nk:c,Ck:a,Ak:d,Oi:l,Ok:r}},t.Dk=function(t,n){for(var i="",e=0;e<4;e++){var r=Au(t,n).toString(16);i+=1===r.length?"0"+r:r}i+="-";for(var u=0;u<2;u++){var s=Au(t,n).toString(16);i+=1===s.length?"0"+s:s}i+="-";for(var o=0;o<2;o++){var c=Au(t,n).toString(16);i+=1===c.length?"0"+c:c}i+="-";for(var a=0;a<2;a++){var f=Au(t,n).toString(16);i+=1===f.length?"0"+f:f}i+="-";for(var h=0;h<6;h++){var v=Au(t,n).toString(16);i+=1===v.length?"0"+v:v}return i.toLowerCase()},t.Lp=function(t){var n,i,e=t.Oi,r=t.Kb,u=bm(Fu(e,r)),s=u.version,o=u.flags,c=Fu(e,r),a=Fu(e,r);0===s?(n=Yt.fromBits(Fu(e,r),0,!0),i=Yt.fromBits(Fu(e,r),0,!0)):(n=Uu(e,r),i=Uu(e,r)),r.ku(2);for(var f=Lu(e,r),h=[],v=0;v<f;v+=1){var d=Fu(e,r),l=d>>31&1,w=2147483647&d,g=Fu(e,r),y=Fu(e,r),m=y>>31&1,b=y>>28&7,p=268435455&y;h.push({Pk:l,xk:w,mw:g,Lk:m,Bk:b,Fk:p})}return{dr:Ey.qb,Sp:s,Ep:o,Mk:c,pm:a,Uk:n,Vk:i,qk:f,zk:h}},t.dk=function(t){var n,i=t.Oi,e=t.Kb,r=bm(Fu(i,e)),u=r.version,s=r.flags;return n=0===u?Yt.fromBits(Fu(i,e),0,!0):Uu(i,e),{dr:Ey.Fb,Sp:u,Ep:s,wk:n}},t}();function _m(t){return t&&"ki"in t?t.ki:t}var km=function(t){function n(n,i,e,r,u,s,o){var c;return(c=t.call(this,n,i,e,r)||this).Hk=void 0,c.Wk=void 0,c.jk=void 0,c.Hk=u,c.Wk=s,c.jk=o||void 0,c}return vt(n,t),n.prototype.uy=function(n){return this===n||!!ew(this,n)&&(!!t.prototype.uy.call(this,n)&&(!!iw(this.$k,n.$k)&&(!!iw(this.Qm,n.Qm)&&(this.Xk&&n.Xk?!!this.Xk.ci(n.Xk)&&(this.Kg&&n.Kg?this.Kg.ci(n.Kg):this.Kg===n.Kg):this.Xk===n.Xk))))},ft(n,[{key:"$k",get:function(){return this.Hk}},{key:"Qm",get:function(){return this.Wk}},{key:"Xk",get:function(){return this.jk}},{key:"Ad",get:function(){var t;return this.Cd||(this.Cd=tw(sy(t=this),{get styles(){return t.$k},get regions(){return t.Qm},get metadata(){return _m(t.Xk)},get content(){return _m(t.Kg)}})),this.Cd}}]),n}(hy),Tm=function(){function t(t,n,i){this.Tf=void 0,this.Gk=void 0,this.Yk=void 0,this.Gk=t,this.Yk=n,rn(i)?this.Tf=function(t,n,i){for(var e=0,r=["begin","end","dur"];e<r.length;e++){var u=r[e];i.Ii(u)}return i}(0,0,i):this.Tf=i}return ft(t,[{key:"Kk",get:function(){return this.Tf.ai(!0)}},{key:"Gg",get:function(){return this.Gk}},{key:"Yg",get:function(){return this.Yk}}]),t}();var Sm="http://www.w3.org/XML/1998/namespace";function Em(t,n){return function(t,n){var i=t.Ti.slice(),e=[];for(;i.length>0;){var r=i.shift();n(r)?e.push(r):i.push.apply(i,r.Ti)}return e}(t,function(t){return t.bi===n})}function Im(t,n){for(var i=t,e=0;e<n.length;e++){var r=n[e];i=i.replace(r+":","")}return i}function Rm(t,n){for(var i=t.Ci,e={},r=0;r<i.length;r++)e[Im(i[r].hi,n)]=i[r].li;return e}var Dm=/^(\d\d+):(\d\d):(\d+)((\.(\d+))?|(:(\d\d+)(\.(\d+))?))$/,Nm=/^(\d+)(\.(\d+))?(h|m|s|ms|f|t)$/,Cm="http://www.w3.org/ns/ttml";function Am(t,n,i){return void 0===i&&(i=Oy),function(t,n,i){var e,r=[];try{e=st.si(t)}catch(t){return r}var u=e.Pi;if("tt"!==u.fi)return r;var s=u&&u.pi(Cm,"head")[0],o=u&&u.pi(Cm,"body")[0],c=["ebutts","tts","xml"];if(!o||!s)return r;for(var a=function(t,n){for(var i={},e=t.pi(Cm,"styling")[0],r=e&&e.pi(Cm,"style")||[],u=0;u<r.length;u++){var s=r[u],o=s.Ei(Sm,"id");i[o]=Rm(s,n)}return i}(s,c),f=function(t,n){var i=nw(t),e=Lm(n.Si("tts:extent"));if(!e)return i;for(var r=0,u=v.keys(i);r<u.length;r++){var s=u[r],o=Lm(i[s].extent);if(o){var c=Pm(o[0],e[0]),a=Pm(o[1],e[1]);i[s].extent=c+" "+a}var f=Lm(i[s].origin);if(f){var h=Pm(f[0],e[0]),d=Pm(f[1],e[1]);i[s].origin=h+" "+d}}return i}(function(t,n){for(var i={},e=t.pi(Cm,"layout")[0],r=e&&e.pi(Cm,"region")||[],u=0;u<r.length;u++){var s=r[u],o=s.Ei(Sm,"id");if(o){i[o]=Rm(s,n);var c=Mm(s,n);for(var a in c)Et.call(c,a)&&(i[o][a]=c[a])}}return i}(s,c),u),h=s.pi(Cm,"metadata")[0],d=function t(n,i,e,r){var u=i;var s;var o=e;var c=[];var a=[];if(rn(n)){var f,h;u=null!=(f=Fm(n.Si("begin"),r))?f:u,s=Fm(n.Si("dur"),0),o=null!=(h=Fm(n.Si("end"),r))?h:void 0!==s?u+s:o;for(var v=n.mi,d=0;d<v.length;d++)("body"===n.fi||"div"===n.fi)&&v[d].ti>1||(c=c.concat(t(v[d],u,o,r)))}var l=function(t,n,i){var e=[];e.push(t,n);for(var r=0;r<i.length;r++){var u=i[r];e.push(u.Gg,u.Yg)}e.sort(Rr);for(var s=e.length,o=0;o<s-1;o++)e[o+1]===e[o]&&(Or(e,o+1),o--,s=e.length);return e}(u,o,c);for(var w=0;w<l.length-1;w++){var g=Bm(l[w],l[w+1],c);if(g.length<=0&&Um(n)){var y=n.ai(!1);a.push(new Tm(l[w],l[w+1],y))}else g.length>0&&function(){var t=n.ai(!1);g.forEach(function(n){return t._i(n.Kk)}),a.push(new Tm(l[w],l[w+1],t))}()}return a}(o,i.Ym,i.Km,i.Jm),l=0;l<d.length;l++){var w=d[l],g=Om(f,w);r.push(new km(w.Gg,w.Yg,w.Kk,!1,a,g,h))}return r}(t,0,i)}function Om(t,n){for(var i=function t(n){var i=[];var e;if(rn(n)){(e=n.Si("region"))&&i.push(e);for(var r=n.mi,u=0;u<r.length;u++)i=i.concat(t(r[u]))}return i}(n.Kk),e={},r=0;r<i.length;r++){var u=i[r];e[u]=t[u]}return e}function Pm(t,n){var i=xm(t),e=xm(n);if(i&&e&&i===e){var r=Number(t.slice(0,-i.length)),u=Number(n.slice(0,-e.length));return g(r)||g(u)?t:r/u*100+"%"}return t}function xm(t){return wr(t,"px")?"px":wr(t,"em")?"em":wr(t,"c")?"c":wr(t,"%")?"%":void 0}function Lm(t){if(t){var n=t.split(" ");if(2===n.length)return[n[0],n[1]]}}function Bm(t,n,i){for(var e=[],r=0;r<i.length;r++){var u=i[r].Gg,s=i[r].Yg;(u>=t&&s<=n||u<n&&s>=n||u<t&&s>t)&&e.push(i[r])}return e}function Fm(t,n){if(t){if(Dm.test(t)){var i=Dm.exec(t);if(!i)return;var e=Number(i[1])||0,r=Number(i[2])||0,u=Number(i[3])||0,s=i[6];return 3600*e+60*r+u+(s?Number(s)*d.pow(.1,s.length):0)-n}if(Nm.test(t)){var o=Nm.exec(t);if(!o)return;var c,a=Number(o[1]);switch(o[4]){case"h":c=3600*a;break;case"m":c=60*a;break;case"s":c=a;break;case"ms":c=.001*a;break;case"f":case"t":default:c=NaN}return c-n}}}function Mm(t,n){for(var i={},e=t.yi("style")||[],r=0;r<e.length;r++){var u=Rm(e[r],n);for(var s in u)Et.call(u,s)&&(i[s]=u[s])}return i}function Um(t){if(rn(t)){var n=t.fi.toUpperCase(),i=Boolean(t.Si("smpte:backgroundImage"));return"BR"===n||i}return t.ti===en.ei}function Vm(t){var n=function(t){try{return st.si(t).Pi}catch(t){}}(t);return"tt"===(null==n?void 0:n.fi)}var qm,zm=function(t){function n(){return t.apply(this,arguments)||this}vt(n,t);var i=n.prototype;return i.ul=function(n){return t.prototype.ul.call(this,n)},i.sl=function(n){var i=t.prototype.sl.call(this,n);return i&&(n.Nl=yw.Ol),i},i.Od=function(){return Tw(this)},n}(Gl),Hm=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Vp=new zm,n.Jk=function(t){var i=t.Pd;n.Qk(i)},n}vt(n,t);var i=n.prototype;return i.ul=function(t){t.Gr(ql.Wd,this.Jk),this.Vp.ul(t),this.Qk(t)},i.sl=function(t){t.Qr(ql.Wd,this.Jk),t.Nl=yw.Ol,this.Vp.sl(t)},i.Zk=function(t){},i.tT=function(t){},i.Qk=function(t){t.Nl!==yw.Ol?this.Zk(t):this.tT(t)},i.nT=function(){for(var t=0,n=this.Vp.al;t<n.length;t++){var i=n[t];i.Qr(ql.Wd,this.Jk),i.et()}},i.cl=function(){return this.nT(),this.Vp.cl(),j.resolve()},i.et=function(){return ze.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Jr(),t.next=3,ze.awrap(this.cl());case 3:this.Vp.et();case 4:case"end":return t.stop()}},null,this,null,j)},n}(Jr);!function(t){t.$b="subtitles",t.iT="captions",t.eT="descriptions",t.rT="chapters",t.Gb="metadata",t.uT="thumbnails"}(qm||(qm={}));var Wm=[qm.$b,qm.iT,qm.eT,qm.rT,qm.Gb,qm.uT];function jm(t){var n=String(t||"").toLowerCase();return function(t){return"string"==typeof t&&Pr(Wm,t)}(n)?n:n?qm.Gb:qm.$b}var $m,Xm=function(t){function n(n,i,e,r,u){var s;return(s=t.call(this,n,i,u)||this).url=void 0,s.status=void 0,s.url=e,s.status=r,s}return vt(n,t),n}(tc);function Gm(t,n){return t===qm.uT||t===qm.Gb&&n===qm.uT}function Ym(t,n,i,e){for(var r=0,u=t.Bl.al;r<u.length;r++){var s=u[r];if(s.Gg>i)break;n<=s.Yg&&e.push(s)}}function Km(t,n){return Ir(t._l,n._l)}function Jm(t,i){var e=i,r=0;if(t instanceof sd&&t.name===id._v)e=t.qh.Hh;else if(function(t){return t instanceof cd}(t)){var u=t.Iv;if(e=u.zh,0===(r=u.Bh))return new Xm(n.ErrorCode.SUBTITLE_CORS_ERROR,"Could not load the subtitle file. Make sure the source is set correctly and that CORS support is enabled.",e,r,t)}return new Xm(n.ErrorCode.SUBTITLE_LOAD_ERROR,"Could not load the subtitle file.",e,r,t)}function Qm(t,i,e,r){var u=function(t){switch(t){case Qg.WEBVTT:return"WebVTT";case Qg.SRT:return"SRT";case Qg.TTML:return"TTML";default:return""}}(t);return new Xm(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Could not parse the "+(u?u+" ":"")+"subtitle file.",i,e,r)}function Zm(t){return Qy(zy(t))?Qg.WEBVTT:Vm(t)?Qg.TTML:Qg.SRT}!function(t){t.sT="vtt",t.Rb="wvtt",t.oT="stpp"}($m||($m={}));var tb=function(t){function n(n){var i;return(i=t.call(this,mw.Rl)||this).errorObject=n,i}return vt(n,t),n.prototype.Od=function(){return this},ft(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(Vl),nb=function(t){function n(n,i){var e;return(e=t.call(this)||this).cT=void 0,e.aT=void 0,e.fT=new Br,e.cT=n,e.aT=i,e}vt(n,t);var i=n.prototype;return i.hT=function(t){if(t.src){var n=t.kind||qm.$b,i=this.cT.vT(n,t.id,t.label,t.srclang,t.default);return i.Ml=nd(t.src),this.ul(i),i}},i.dT=function(t,n){var i,e,r,u,s,o,c,a,f,h;return ze.async(function(v){for(;;)switch(v.prev=v.next){case 0:return t.Ll=Jg.LOADING,i=new Jv({Hh:t.Ml,Mh:_c.ei,ov:$v.GET,zr:n}),v.prev=2,v.next=5,ze.awrap(this.aT.qh(i));case 5:return u=v.sent,r=u.Bh,v.next=9,ze.awrap(u.ph());case 9:e=v.sent,v.next=18;break;case 12:return v.prev=12,v.t0=v.catch(2),Vr(v.t0),t.Ll=Jg.ERROR,t.Xr(new tb(Jm(v.t0,t.Ml))),v.abrupt("return");case 18:for(v.prev=18,s=Zm(e),t.dr=s,o=[],s===Qg.WEBVTT||s===Qg.SRT?(c=qy(e),o=c.Bl):s===Qg.TTML&&(o=Am(e)),a=0,f=o;a<f.length;a++)h=f[a],t.lT(h);v.next=32;break;case 26:return v.prev=26,v.t1=v.catch(18),Vr(v.t1),t.Ll=Jg.ERROR,t.Xr(new tb(Qm(t.dr,t.Ml,r,v.t1))),v.abrupt("return");case 32:t.Ll=Jg.LOADED;case 33:case"end":return v.stop()}},null,this,[[2,12],[18,26]],j)},i.Zk=function(t){Pr(this.Vp.al,t)&&t.Ll===Jg.NONE&&this.dT(t,this.fT.zr).catch(qr)},i.ic=function(){},i.cl=function(){var n,i,e;return ze.async(function(r){for(;;)switch(r.prev=r.next){case 0:for(this.fT.Ur(),this.fT=new Br,n=0,i=this.Vp.al;n<i.length;n++)e=i[n],this.cT.wT(e);return r.next=5,ze.awrap(t.prototype.cl.call(this));case 5:case"end":return r.stop()}},null,this,null,j)},n}(Hm);function ib(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.kl===n&&e.gT)return e}}function eb(t,n){rb(ib(t.al,n))}function rb(t){void 0!==t&&(t.Nl=yw.Cl)}function ub(t,n){rb(ib(t.al,n)||function(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.kl===n)return e}}(t.al,n))}function sb(t){for(var n=0;n<Wm.length;n++){var i=Wm[n];i===qm.rT?ub(t,i):eb(t,i)}}var ob,cb=function(t){function n(){return t.call(this,pc.Oa)||this}return vt(n,t),n}(Zr);!function(t){t[t.yT=0]="yT",t[t.mT=1]="mT"}(ob||(ob={}));var ab=t,fb=ab.MediaSource,hb=ab.WebKitMediaSource,vb=ab.TextTrack,db=e&&e.createElement("video"),lb=(e&&e.documentElement.style,St.fn&&St.Vn&&St.qn<=26),wb=(St.Tn,!(!fb&&!hb)),gb=!!vb,yb=(e&&(e.fullscreenEnabled||e.webkitFullscreenEnabled||e.mozFullScreenEnabled||e.msFullscreenEnabled)||St.pn,St.Bn&&St.Fn,db&&db.canPlayType&&(""!==db.canPlayType("application/vnd.apple.mpegURL")||St.dn&&!St.Bn&&St.ln),db&&db.canPlayType&&""!==db.canPlayType("video/mp4")&&!lb),mb=wb&&!St.Mn&&!St.Pn&&!St.On&&((fb||hb).isTypeSupported?(fb||hb).isTypeSupported('audio/mp4; codecs="mp4a.40.34"'):db&&db.canPlayType&&""!==db.canPlayType('audio/mp4; codecs="mp4a.40.34"'));wb&&!St.Mn&&(mb||((fb||hb).isTypeSupported?(fb||hb).isTypeSupported("audio/mpeg"):db&&db.canPlayType&&db.canPlayType("audio/mpeg"))),wb&&!(St.Ln&&St.fn)&&(fb||hb).isTypeSupported&&(fb||hb).isTypeSupported('video/mp4; codecs="avc1.4d401e"'),St.Mn||St.Pn||St.On,St.xn,St.Mn,St.Pn&&St.hn&&St.vn;try{i&&i.top!==i.self}catch(t){!0}var bb=function(t){function n(n){var i;return(i=t.call(this,Jw.ww)||this).currentTime=n,i}return vt(n,t),n}(Zr),pb=function(t){function n(n){var i;return(i=t.call(this,Jw.gw)||this).currentTime=n,i}return vt(n,t),n}(Zr),_b=function(t){function n(n,i){var e;return void 0===i&&(i=!1),(e=t.call(this)||this).bT=Bw.sw,e.pT=!0,e._T=!1,e.kT=!1,e.TT=function(t){var n=t.readyState;n!==e.bT&&e.Xr(t),n===Bw.sw&&(e._T=!1,e.kT=!1),e.ST(n),e.ET(n),e.IT(n),e.maybeDispatchCanPlayThroughEvent(n),e.RT(n),e.DT(n),e.bT=n},e.NT=function(){e.DT(e.bT),e.RT(e.bT),e.pT=e.CT.kw},e.AT=function(){e.pT=e.CT.kw},e.CT=n,e.OT=i,e.CT.Gr(Jw.$d,e.TT),e.CT.Gr(pc.Da,e.NT),e.CT.Gr(pc.Ra,e.AT),e.OT&&e.CT.Gr(Jw.gw,e.$r),e}vt(n,t);var i=n.prototype;return i.ST=function(t){!this.kT&&t>=Bw.ow&&(this.kT=!0,this.Xr(new rg(this.CT.yw,t)))},i.ET=function(t){!this._T&&t>=Bw.cw&&(this._T=!0,this.Xr(new ag(this.CT.yw,t)))},i.RT=function(t){this.OT||(t>=Bw.aw&&this.bT<Bw.aw&&!this.CT.kw||this.PT&&t>=Bw.aw)&&this.Xr(new pb(this.CT.yw))},i.DT=function(t){!this.xT(t)||this.CT.bw||this.CT.cu||this.Xr(new bb(this.CT.yw))},i.IT=function(t){this.bT<=Bw.cw&&t>=Bw.aw&&this.Xr(new dg(this.CT.yw,t))},i.maybeDispatchCanPlayThroughEvent=function(t){t===Bw.fw&&this.Xr(new lg(this.CT.yw,t))},i.xT=function(t){var n=!this.CT.kw&&t<=Bw.cw,i=!this.pT&&this.bT<=Bw.cw;return n&&!i},i.cl=function(){this.bT=Bw.sw,this.pT=!0,this._T=!1,this.kT=!1},i.et=function(){this.Jr(),this.OT&&this.CT.Qr(Jw.gw,this.$r),this.CT.Qr(pc.Da,this.NT),this.CT.Qr(pc.Ra,this.AT),this.CT.Qr(Jw.$d,this.TT)},ft(n,[{key:"PT",get:function(){return!this.CT.kw&&this.pT}}]),n}(Jr),kb="titanium",Tb="conax",Sb="ezdrm",Eb="irdeto",Ib="vudrm",Rb="verimatrix",Db="keyos",Nb="drmtoday",Cb="expressplay",Ab="azure",Ob="xstream",Pb="vimond",xb="axinom",Lb="uplynk",Bb="comcast",Fb="custom",Mb=function(){function t(t,n,i,e,r){this.hc=void 0,this.LT=void 0,this.BT=void 0,this.FT=void 0,this.aT=void 0,this.MT=void 0,this.UT=void 0,this.hc=t,this.LT=n,this.BT=i,this.aT=e,this.UT=r,this.FT=this.VT(n)}var i=t.prototype;return i.qT=function(){return this.MT},i.zT=function(t){this.MT=t},i.HT=function(){return this.FT.licenseAcquisitionURL||this.qT()},i.WT=function(t){return j.resolve()},i.jT=function(t,n){return j.resolve(void 0)},i.$T=function(t,i,e,r){var u,s;return ze.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(""!==(u=this.XT(t,i,e,r)).Hh){o.next=3;break}throw new Lg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 3:return o.prev=3,o.next=6,ze.awrap(this.Ed.qh(u));case 6:return s=o.sent,o.next=9,ze.awrap(s._h(i));case 9:return o.abrupt("return",o.sent);case 12:return o.prev=12,o.t0=o.catch(3),Vr(o.t0),o.next=17,ze.awrap(this.GT(o.t0,u.Hh,r));case 17:return o.abrupt("return");case 18:case"end":return o.stop()}},null,this,[[3,12]],j)},i.XT=function(t,n,i,e){var r=this.YT().Ya(),u=this.hv,s={Hh:this.KT(),Mh:n,Fh:r,Eh:t,hv:u,ov:$v.POST,cv:0,zr:e,dr:Xv.Gh,av:i};return new Jv(s)},i.JT=function(t,n){return j.resolve(t)},i.QT=function(t,n,i,e){return j.resolve(t)},i.YT=function(){return new kc(this.FT.headers||{})},i.GT=function(t,i,e){return ze.async(function(i){for(;;)switch(i.prev=i.next){case 0:throw new Lg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during license server request",t);case 1:case"end":return i.stop()}},null,null,null,j)},i.KT=function(t,n){var i=n,e=this.FT.queryParameters;if(!i){var r=this.HT();if(!r)return"";i=r}if(e||t){var u=st.Ve(i);t&&td(u,t),e&&td(u,e),i=u.href}return i},i.ZT=function(t){return function(t,n){var i=n.licenseResponseProcessor;return j.resolve(new y(Ub(t,i)))}(t,this.FT)},i.tS=function(t,n,i){var e,r,u;return ze.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,ze.awrap(this.nS(t,i));case 2:return e=s.sent,s.next=5,ze.awrap(this.$T(e,this.UT,n,i));case 5:return r=s.sent,s.next=8,ze.awrap(this.ZT(r));case 8:return u=s.sent,s.abrupt("return",u);case 10:case"end":return s.stop()}},null,this,null,j)},i.et=function(){},ft(t,[{key:"Ed",get:function(){return this.aT}},{key:"iS",get:function(){return!1}},{key:"eS",get:function(){var t=this.FT.certificate;if(t)return Ot(t)?du(t):rs(t)}},{key:"rS",get:function(){return!1}},{key:"hv",get:function(){return Boolean(this.FT.useCredentials)}}]),t}();function Ub(t,i){if(!t||!i||"function"!=typeof i)return t;try{return i(t)}catch(t){throw new Lg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error while preprocessing DRM data",t)}}function Vb(t,n){var i=ss(t).buffer,e=n.licenseRequestProcessor;return j.resolve(Ub(i,e))}var qb,zb,Hb=function(t){function n(n,i,e,r){return t.call(this,ar,n,i,e,r)||this}vt(n,t);var i=n.prototype;return i.VT=function(t){return t.widevine||{}},i.uS=function(t,n){return ze.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!this.eS){i.next=2;break}return i.abrupt("return",this.eS);case 2:return i.abrupt("return",this.sS(new y(t),n));case 3:case"end":return i.stop()}},null,this,null,j)},i.sS=function(n,i){return t.prototype.tS.call(this,n,Gv.Qh,i)},n}(Mb);function Wb(t,n){if(null==t)return{};var i,e,r={},u=v.keys(t);for(e=0;e<u.length;e++)i=u[e],n.indexOf(i)>=0||(r[i]=t[i]);return r}function jb(t){return Rt(t.token&&t.deviceId)}function $b(t){var n,i=null==(n=t.fairplay)?void 0:n.headers;return void 0!==i&&Rt(i.PreAuthorization)}function Xb(t){var n=t;return jb(n)&&""!==n.token&&""!==n.deviceId&&!$b(n)}(zb=qb||(qb={})).oS=!1,zb.cS=!1,zb.aS=!1,zb.fS=!1,zb.LOG_ADS_DETAILS=!1,zb.LOG_CHROMECAST_DETAILS=!1,zb.LOG_CUSTOM_DRM=!1,zb.LOG_BUFFERING_VIDEO_MAIN=!1,zb.LOG_BUFFERING_VIDEO_SELECTION=!1,zb.LOG_BUFFERING_AUDIO_MAIN=!1,zb.LOG_BUFFERING_AUDIO_SELECTION=!1,zb.hS=!1,zb.vS=!1;var Gb,Yb=function(){function t(t,n,i){this.dS=t,this.Jo=n,this.lS=i}return t.prototype.wS=function(t){return function(t){var n=t.onCertificateRequest;if(void 0!==n&&"function"!=typeof n)throw new h("ContentProtectionIntegration.onCertificateRequest is not a function.");var i=t.onCertificateResponse;if(void 0!==i&&"function"!=typeof i)throw new h("ContentProtectionIntegration.onCertificateResponse is not a function.");var e=t.onLicenseRequest;if(void 0!==e&&"function"!=typeof e)throw new h("ContentProtectionIntegration.onLicenseRequest is not a function.");var r=t.onLicenseResponse;if(void 0!==r&&"function"!=typeof r)throw new h("ContentProtectionIntegration.onLicenseResponse is not a function.");var u=t.extractFairplayContentId;if(void 0!==u&&"function"!=typeof u)throw new h("ContentProtectionIntegration.extractFairplayContentId is not a function.");return t}(this.lS.build(t))},ft(t,[{key:"gS",get:function(){return this.dS}},{key:"hc",get:function(){return this.Jo}}]),t}();!function(t){t.FAILED="FAILED",t.OVERRIDDEN="OVERRIDDEN",t.SUCCEEDED="SUCCEEDED"}(Gb||(Gb={}));var Kb=function(){function t(){this.yS=[]}var i=t.prototype;return i.registerContentProtectionIntegration=function(t,i,e){switch(this.mS(t,i,e)){case Gb.FAILED:throw new Lg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The keySystem should be 'widevine', 'playready' or 'fairplay', but was "+i+".");case Gb.OVERRIDDEN:var r=wp(i);st.Ee("Warning: Overwriting an earlier registered integration for "+t+" and "+r+".");break;case Gb.SUCCEEDED:wp(i);0}},i.mS=function(t,n,i){var e=wp(n);if(!e)return Gb.FAILED;for(var r=Gb.SUCCEEDED,u=0,s=this.yS.slice();u<s.length;u++){var o=s[u];o.gS===t&&o.hc===e&&(r=Gb.OVERRIDDEN,Ar(this.yS,o))}return this.yS.push(new Yb(t,e,i)),r},i.bS=function(t,n){return void 0!==this.pS(t,n)},i._S=function(t,n,i){var e=this.pS(t,n);if(!e)throw f("No ContentProtectionIntegrationInit was found for integration id "+t+" and key system "+n);return e.wS(i)},i.pS=function(t,n){for(var i=0,e=this.yS;i<e.length;i++){var r=e[i];if(r.gS===t&&(!n||r.hc===n))return r}},t}();Kb.kS=new Kb;var Jb=["customdata"],Qb={playready:"https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx",widevine:"https://wv-keyos.licensekeyserver.com/",fairplay:"https://fp-keyos.licensekeyserver.com/getkey"};function Zb(t){if(!t)return!0;var n=t.licenseAcquisitionURL,i=t.certificateURL,e=t.keys,r=t.headers,u=t.useCredentials,s=t.queryParameters,o=t.certificateRequestProcessor,c=t.certificateResponseProcessor,a=t.licenseRequestProcessor,f=t.licenseResponseProcessor;return!(n||i||e||r||u||s||o||c||a||f)}function tp(t){return t&&void 0!==t.licenseAcquisitionURL}var np,ip=tp,ep=tp;function rp(t){if(!t)return!0;if(cp(t))return!1;var n=t.fairplay,i=t.playready,e=t.widevine,r=t.clearkey,u=t.aes128;return Zb(n)&&Zb(i)&&Zb(e)&&Zb(r)&&Zb(u)}function up(t){var n=Xb(t),i=function(t){var n,i=t;return $b(i)&&""!==(null==(n=i.fairplay)?void 0:n.headers.PreAuthorization)&&!jb(i)}(t);return(!n||!i)&&(n||i)}function sp(t){return t.integration===Eb}function op(t){var n=t;if(!n)return!1;if(rp(n))return!1;var i=n.fairplay,e=n.playready,r=n.widevine,u=n.clearkey;if(cp(t))return!0;if(i&&!function(t){var n=t;return n&&(void 0!==n.certificateURL||void 0!==n.certificate)}(i))return!1;if(e&&!ip(e))return!1;if(r&&!ep(r))return!1;if(u&&!function(t){var n=t;return n&&(void 0!==n.licenseAcquisitionURL||void 0!==n.keys)}(u))return!1;if(n.integration){if(Kb.kS.bS(n.integration))return!0;switch(n.integration){case kb:if(!function(t){return t.integration===kb&&(ap(t)||fp(t))}(t))return!1;break;case Ib:if(!hp(t))return!1;break;case Rb:if(!function(t){return t.integration===Rb}(t))return!1;break;case Eb:if(!sp(t))return!1;break;case Tb:if(!up(t))return!1;break;case Sb:if(!function(t){return t.integration===Sb}(t))return!1;break;case Db:if(!cp(t))return!1;break;case Nb:if(!function(t){var n=t;return n.integration===Nb&&(void 0!==n.token||function(t){return void 0!==t.merchant&&void 0!==t.sessionId&&void 0!==t.userId}(n))}(t))return!1;break;case Cb:if(!function(t){return t.integration===Cb}(t))return!1;break;case Ob:if(!vp(t))return!1;break;case Pb:if(!function(t){return t.integration===Pb}(t))return!1;break;case xb:if(!dp(t))return!1;break;case Ab:if(!function(t){var n=t;return n.integration===Ab&&void 0!==n.token}(t))return!1;break;case Lb:if(!function(t){return t.integration===Lb}(t))return!1;break;case Bb:if(!function(t){var n=t;return n&&Rt(n.releasePid)&&Rt(n.accountId)&&Rt(n.token)}(t))return!1;break;case Fb:return!0;default:return!1}}return!0}function cp(t){return t.integration===Db}function ap(t){return void 0!==t.authToken}function fp(t){var n=t;return void 0!==n.accountName&&void 0!==n.customerName&&void 0!==n.portalId}function hp(t){var n=t;return n.integration===Ib&&void 0!==n.token}function vp(t){var n=t;return n&&n.integration===Ob&&Ot(n.ticketAcquisitionURL)&&Ot(n.streamId)}function dp(t){var n=t;return n.integration===xb&&void 0!==n.token}function lp(t,n){var i,e,r,u=n[t],s=null!=(i=null==u?void 0:u.licenseAcquisitionURL)?i:Qb[t],o=null!=(e=null==u?void 0:u.customdata)?e:n.customdata,c=o?{customData:o}:{},a=He({},null!=(r=null==u?void 0:u.headers)?r:{},c),f=null!=u?u:{};f.customdata;return He({},Wb(f,Jb),{licenseAcquisitionURL:s,headers:a})}function wp(t){switch(t.toLowerCase()){case"widevine":case rr:return rr;case"playready":case ir:return ir;case"fairplay":case sr:return sr}}function gp(t,i){switch(t){case Ze:return function(t){for(var n={},i=pm.Np(new DataView(t)),e=0;e<i.length;e++){var r=i[e];n[r.Nk]=r.Ok}return n}(i);case tr:case nr:return function(t){var n;return(n={})[ur]=t,n}(i);default:throw new tc(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Unsupported initDataType "+t)}}!function(t){t.sr="Widevine",t.ur="PlayreadyV2",t.TS="PlayreadyV2",t.SS="PlayreadyV3",t.cr="Fairplay"}(np||(np={}));var yp={Widevine:{DRMProvider:"Google",DRMVersion:"1.4.8.86",DRMType:"Widevine"},PlayreadyV2:{DRMProvider:"Microsoft",DRMVersion:"2.9",DRMType:"Playready"},PlayreadyV3:{DRMProvider:"Microsoft",DRMVersion:"3",DRMType:"Playready"},Fairplay:{DRMProvider:"Apple",DRMType:"FairPlay",DRMVersion:"1.0"}};function mp(t,n){var i,e,r,u,s=yp[n],o=t.accountName;return{CustomerName:t.customerName,AccountName:o,PortalId:t.portalId,FriendlyName:t.friendlyName,DeviceInfo:{FormatVersion:"1",DeviceType:"PC",OSType:null==(i=st.ze)?void 0:i.He,OSVersion:null==(e=st.ze)?void 0:e.Ye,DRMProvider:s.DRMProvider,DRMVersion:s.DRMVersion,DRMType:s.DRMType,DeviceVendor:null==(r=st.ze)?void 0:r.Ke,DeviceModel:null==(u=st.ze)?void 0:u.Je}}}function bp(t,i){if(!t.accountName)throw new Lg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, accountName is not set.");if(!t.customerName)throw new Lg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, customerName is not set.");if(!t.portalId)throw new Lg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, portalId is not set.");throw new Lg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration.")}function pp(t,n,i){var e;if(ap(t))e={AuthToken:t.authToken,Payload:n};else{if(!fp(t))throw bp(t,i);e={LatensRegistration:mp(t,i),Payload:n}}return ku(JSON.stringify(e))}function _p(t,i,e){var r,u,s,o;return ze.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(r=t.Iv){c.next=3;break}throw new Lg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,i);case 3:return u=r,c.prev=4,c.next=7,ze.awrap(u.bh(e));case 7:s=c.sent,o=kp(s),c.next=14;break;case 11:c.prev=11,c.t0=c.catch(4),o="";case 14:throw new Lg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,u.qh.Hh,u.Bh,u.Uh,o);case 15:case"end":return c.stop()}},null,null,[[4,11]],j)}function kp(t){if(t){if(t.WvProxyErr)return t.WvProxyErr.desc;if(t.DrmErr)return t.DrmErr.desc}}var Tp=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e,_c.Xa)||this).ES=void 0,r}vt(i,t),i.IS=function(){return st.He.fe?"required":"optional"};var e=i.prototype;return e.GT=function(t,n,i){return _p(t,n,i)},e.WT=function(t){return this.ES?zr(this.ES.Nu,t):(this.ES=new cs,j.resolve())},e.nS=function(t,i){var e,r;return ze.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(e=this.LT){i.next=3;break}throw new Lg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Widevine DRM configuration.");case 3:return r=wu(t),i.abrupt("return",pp(e,r,np.sr));case 5:case"end":return i.stop()}},null,this,null,j)},e.ZT=function(t){var i;if(!t.license)throw new Lg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Widevine license server");return i=du(t.license),j.resolve(i)},e.RS=function(t){return j.resolve(new y(t))},e.uS=function(t,n){var i,e;return ze.async(function(r){for(;;)switch(r.prev=r.next){case 0:return this.DS(),r.next=3,ze.awrap(this.nS(t,n));case 3:return i=r.sent,r.next=6,ze.awrap(this.$T(i,_c.$a,Gv.Zh,n));case 6:return e=r.sent,r.next=9,ze.awrap(this.RS(e));case 9:return r.abrupt("return",r.sent);case 10:case"end":return r.stop()}},null,this,null,j)},e.sS=function(n,i){var e;return ze.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,ze.awrap(t.prototype.sS.call(this,n,i));case 2:return e=r.sent,this.DS(),r.abrupt("return",e);case 5:case"end":return r.stop()}},null,this,null,j)},e.DS=function(){this.ES||(this.ES=new cs),this.ES.Ou()},e.et=function(){this.ES&&this.ES.Ur(),t.prototype.et.call(this)},i}(Hb),Sp=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e,_c.$a)||this).zT("https://widevine-proxy.drm.technology/proxy"),r}return vt(i,t),i.prototype.nS=function(t,i){var e,r,u,s;return ze.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,ze.awrap(Vb(t,this.FT));case 2:if(e=i.sent,r=this.BT,o=new y(e),u=[].slice.call(o),s=this.NS){i.next=8;break}throw new Lg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The Widevine vuDRM token has not been correctly configured.");case 8:return i.abrupt("return",JSON.stringify({token:s,drm_info:u,kid:r}));case 9:case"end":return i.stop()}var o},null,this,null,j)},ft(i,[{key:"NS",get:function(){if(hp(this.LT))return this.LT.token}}]),i}(Hb);function Ep(t,n){var i=n||{};return t.ticket&&t.sessionId&&(i=He({},i,{SessionId:t.sessionId,Ticket:t.ticket})),He({},i,{CrmId:t.crmId,AccountId:t.accountId,ContentId:t.contentId})}var Ip=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,_c.$a)||this).zT("https://emeademo.dev.ott.irdeto.com/Widevine/getlicense"),r}vt(n,t);var i=n.prototype;return i.nS=function(t,n){return Vb(t,this.FT)},i.KT=function(n,i){var e=n;return sp(this.LT)&&(e=Ep(this.LT,e)),t.prototype.KT.call(this,e,i)},n}(Hb),Rp="Conax-Custom-Data";function Dp(t,n,i){var e=t&&up(t)&&t;if(e&&!i.has(Rp)){var r=Xb(e)?e.token:void 0,u=Xb(e)?e.deviceId:void 0,s=JSON.stringify({Version:"1.0.0",CxAuthenticationDataToken:r,CxClientInfo:{DeviceType:"Browser",DrmClientType:n+"-HTML5",DrmClientVersion:"1.0.0",CxDeviceId:u}});i.set(Rp,s)}return i}var Np=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,_c.$a)||this).zT("https://connect.conax.com:8094/license"),r}vt(n,t);var i=n.prototype;return i.nS=function(t,n){return Vb(t,this.FT)},i.YT=function(){var n=t.prototype.YT.call(this);return Dp(this.LT,"Widevine",n)},n}(Hb);function Cp(t){var n=Xu(new y(t));return du(JSON.parse(n).license)}function Ap(t){return"string"==typeof t.token?t.token:ku(JSON.stringify({userId:t.userId,sessionId:t.sessionId,merchant:t.merchant}))}function Op(t,n,i){var e;return e=i.token?"x-dt-auth-token":"dt-custom-data",t.set(e,n),t}var Pp=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,_c.$a)||this).zT("https://lic.drmtoday.com/license-proxy-widevine/cenc/"),r}vt(n,t);var i=n.prototype;return i.nS=function(t,n){return Vb(t,this.FT)},i.ZT=function(t){return j.resolve(Cp(t))},i.YT=function(){return Op(t.prototype.YT.call(this),this.NS,this.LT)},ft(n,[{key:"NS",get:function(){return Ap(this.LT)}}]),n}(Hb),xp=function(t){function n(n,i,e){return t.call(this,n,i,e,_c.$a)||this}vt(n,t);var i=n.prototype;return i.nS=function(t,n){return Vb(t,this.FT)},i.YT=function(){var n=t.prototype.YT.call(this),i=this.LT.token;return n.set("Authorization","Bearer "+i),n},n}(Hb);function Lp(t,i,e,r){var u,s,o,c,a,f,h;return ze.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(vp(t)){v.next=2;break}throw new Lg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Xstream DRM Configuration");case 2:return(u=new kc).append("Cache-Control","no-cache"),u.append("Content-Type","application/json"),(s=t.sessionId)&&u.append("XSSESSION",s),o=t.streamId,c=t.fairplay?"persistent"===t.fairplay.licenseType?"persistent":"non-persistent":t.widevine&&"persistent"===t.widevine.licenseType?"persistent":"non-persistent",a={drmType:i,licenseType:c,streamId:o},f={Hh:t.ticketAcquisitionURL,Mh:_c.Xa,Fh:u,ov:$v.POST,Eh:JSON.stringify(a),zr:r},v.next=13,ze.awrap(e.qh(f));case 13:return h=v.sent,v.next=16,ze.awrap(h.bh());case 16:return v.abrupt("return",v.sent);case 17:case"end":return v.stop()}},null,null,null,j)}var Bp=function(t){function n(n,i,e){return t.call(this,n,i,e,_c.Xa)||this}vt(n,t);var i=n.prototype;return i.YT=function(){var n=t.prototype.YT.call(this);return n.set("Content-Type","application/json"),n},i.nS=function(t,n){var i,e,r,u;return ze.async(function(s){for(;;)switch(s.prev=s.next){case 0:return i=_u(t.buffer),e=this.LT,s.next=4,ze.awrap(Lp(e,"widevine_modular",this.Ed,n));case 4:return r=s.sent,this.zT(r.licenseServerUrl),u=Gu(JSON.stringify({payload:i,ticket:r.ticket})),s.abrupt("return",Vb(u,this.FT));case 8:case"end":return s.stop()}},null,this,null,j)},i.ZT=function(t){var n=t;return j.resolve(du(n.license))},n}(Hb),Fp=function(t){function i(n,i,e){return t.call(this,n,i,e,_c.$a)||this}vt(i,t);var e=i.prototype;return e.nS=function(t,n){return Vb(t,this.FT)},e.YT=function(){if(!dp(this.LT))throw new Lg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.YT.call(this);return i.set("X-AxDRM-Message",this.LT.token),i},i}(Hb);function Mp(t){for(var n=new y(2*t.length),i=0;i<t.length;i+=1)n[2*i]=t.charCodeAt(i),n[2*i+1]=0;return n}var Up=function(t){function n(n,i,e){var r;return(r=t.call(this,cr,n,i,e,_c.$a)||this).CS=void 0,r}vt(n,t);var i=n.prototype;return i.VT=function(t){return t.playready||{}},i.YT=function(){var n=new kc(this.CS);return n.Ja(t.prototype.YT.call(this)),n},i.AS=function(t){return t.length>=1&&t[0].mi.length>0},i.jT=function(n){var i=this.LT.playready.customData;if(i){var e=Mp(i),r=Mp('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">'+wu(e)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>");return j.resolve({playready:{Lc:r}})}return t.prototype.jT.call(this,n)},i.nS=function(t,n){var i;return ze.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ze.awrap(Vb(t,this.FT));case 2:return i=n.sent,n.abrupt("return",this.OS(i));case 4:case"end":return n.stop()}},null,this,null,j)},i.OS=function(t){var n,i,e,r,u,s,o,c,a,f,h,v,d,l,w,g;return ze.async(function(y){for(;;)switch(y.prev=y.next){case 0:u=null,s=new DataView(t),m=s,b=new os,void 0===(p=!0)&&(p=!1),o=ju(m,b,p,!0),y.prev=3,c=st.si(o),y.next=10;break;case 7:return y.prev=7,y.t0=y.catch(3),y.abrupt("return",u);case 10:for(a=null==(n=c.yi("PlayReadyKeyMessage")[0])?void 0:n.yi("LicenseAcquisition")[0],f=null!=(i=null==a?void 0:a.yi("Challenge"))?i:[],this.AS(f)&&(u=pu(f[0].Ai)),h=new kc,v=null!=(e=null==a?void 0:null==(r=a.yi("HttpHeaders")[0])?void 0:r.yi("HttpHeader"))?e:[],d=0;d<v.length;d++)l=v[d],w=l.yi("name")[0].Ai,g=l.yi("value")[0].Ai,h.append(w,g);return this.CS=h,y.abrupt("return",u);case 18:case"end":return y.stop()}var m,b,p},null,this,[[3,7]],j)},i.uS=function(t,n){return j.resolve(t)},i.sS=function(n,i){return t.prototype.tS.call(this,n,Gv.tv,i)},n}(Mb),Vp=function(){function t(n){this.Ro=void 0,this.PS=n,this.Ro=t.xS(n)}return t.xS=function(t){return"3"===t.version?np.SS:np.TS},t.prototype.LS=function(){var t={};if(this.Ro===np.SS){var n={LatensRegistration:mp(this.PS,np.SS)};t["X-TITANIUM-DRM-CDATA"]=ku(JSON.stringify(n))}return t},ft(t,[{key:"BS",get:function(){return this.Ro}},{key:"_c",get:function(){return this.Ro===np.TS}}]),t}();var qp=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e)||this).FS=void 0,r.FS=new Vp(r.LT),r}vt(i,t);var e=i.prototype;return e.jT=function(t){var i=this.LT;if(!this.LT)throw new Lg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium PlayReady DRM configuration.");if(fp(i)){var e={};return e.playready={Lc:zp(i,this.FS.BS)},j.resolve(e)}return j.reject(bp(i,np.ur))},e.YT=function(){var n=new kc(this.FS.LS());return n.Ja(t.prototype.YT.call(this)),n},e.GT=function(t,i,e){var r,u,s,o,c,a,f,h;return ze.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(r=t.Iv){v.next=3;break}throw new Lg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,i);case 3:return v.prev=3,v.next=6,ze.awrap(r.kh(e));case 6:o=v.sent,c=Xu(new y(o)),(a=st.si(c))&&(f=Em(a,"CustomData")).length>0&&(u=JSON.parse(f[0].Ai),s=null==(h=u.DrmErr)?void 0:h.desc),v.next=14;break;case 12:v.prev=12,v.t0=v.catch(3);case 14:throw new Lg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,i,r.Bh,r.Uh,s);case 15:case"end":return v.stop()}},null,null,[[3,12]],j)},e.AS=function(t){if(1!==t.length)throw new Lg(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"PlayReady license message incorrectly formatted, Challenge not found.");return!0},i}(Up);function zp(t,n){var i=mp(t,n),e=i.DeviceInfo.FormatVersion,r=ku('<LatensRegistration formatversion="'+e+'"><AccountName>'+i.AccountName+"</AccountName><CustomerName>"+i.CustomerName+"</CustomerName><PortalID>"+i.PortalId+'</PortalID><DeviceInfo formatversion="'+e+'"><DeviceType>'+i.DeviceInfo.DeviceType+"</DeviceType><OSType>"+i.DeviceInfo.OSType+"</OSType><OSVersion>"+i.DeviceInfo.OSVersion+"</OSVersion><DRMProvider>"+i.DeviceInfo.DRMProvider+"</DRMProvider><DRMVersion>"+i.DeviceInfo.DRMVersion+"</DRMVersion><DRMType>"+i.DeviceInfo.DRMType+"</DRMType><DeviceVendor>"+i.DeviceInfo.DeviceVendor+"</DeviceVendor><DeviceModel>"+i.DeviceInfo.DeviceModel+"</DeviceModel></DeviceInfo></LatensRegistration>"),u=Ku(("<TitaniumCustomData>"+r+"</TitaniumCustomData>").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/&lt;/g,"<").replace(/&gt;/g,">"),!0);return Ku('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0"><CustomData encoding="base64encoded">'+wu(u)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>",!0)}var Hp,Wp=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e)||this).zT("https://playready-license.drm.technology/rightsmanager.asmx"),r}vt(i,t);var e=i.prototype;return e.AS=function(t){if(1!==t.length)throw new Lg(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Vudrm PlayReady license message incorrectly formatted, Challenge not found.");return!0},e.KT=function(n,i){var e=He({},n||{},{token:this.NS});return t.prototype.KT.call(this,e,i)},ft(i,[{key:"NS",get:function(){if(hp(this.LT))return this.LT.token}}]),i}(Up),jp=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).zT("https://emeademo.dev.ott.irdeto.com/playready/rightsmanager.asmx"),r}return vt(n,t),n.prototype.KT=function(n,i){var e=n;return sp(this.LT)&&(e=Ep(this.LT,e)),t.prototype.KT.call(this,e,i)},n}(Up),$p=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).zT("https://connect.conax.com:8010/cxplayready/rightsmanager.asmx"),r}return vt(n,t),n.prototype.YT=function(){var n=t.prototype.YT.call(this);return Dp(this.LT,"PlayReady",n)},n}(Up),Xp=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).zT("https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx"),r}vt(n,t);var i=n.prototype;return i.ZT=function(n){return(lr(Xu(new y(n)),"<?xml")?Hp.MS:Hp.bh)===Hp.bh?j.resolve(Cp(n)):j.resolve(t.prototype.ZT.call(this,new y(n)))},i.YT=function(){return Op(t.prototype.YT.call(this),this.NS,this.LT)},ft(n,[{key:"NS",get:function(){return Ap(this.LT)}}]),n}(Up);!function(t){t[t.MS=0]="MS",t[t.bh=1]="bh"}(Hp||(Hp={}));var Gp,Yp=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).US=void 0,r}vt(n,t);var i=n.prototype;return i.YT=function(){var n=t.prototype.YT.call(this);return this.US&&n.set("Ticket",this.US),n.set("Content-Type","text/xml"),n},i.nS=function(n,i){var e,r;return ze.async(function(u){for(;;)switch(u.prev=u.next){case 0:return e=this.LT,u.next=3,ze.awrap(Lp(e,"playready",this.Ed,i));case 3:return r=u.sent,this.zT(r.licenseServerUrl),this.US=r.ticket,u.abrupt("return",t.prototype.nS.call(this,n,i));case 7:case"end":return u.stop()}},null,this,null,j)},n}(Up),Kp=function(t){function i(){return t.apply(this,arguments)||this}return vt(i,t),i.prototype.YT=function(){if(!dp(this.LT))throw new Lg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.YT.call(this);return i.set("X-AxDRM-Message",this.LT.token),i},i}(Up);!function(t){t.Xa="application/json",t.VS="application/x-www-form-urlencoded",t.qS="application/octet-stream",t.ei="text/plain;charset=UTF-8"}(Gp||(Gp={}));var Jp=function(t){function n(n,i,e,r,u){var s;return(s=t.call(this,n.hc,i,e,r,u)||this).zS="",s.HS=void 0,s.WS=void 0,s.WS=n.jS,s}vt(n,t);var i=n.prototype;return i.$S=function(){return this.FT.certificateURL||this.HS},i.XS=function(t){this.HS=t},i.nS=function(t){return j.resolve(this.GS(t,this.zS))},i.GS=function(t,n){return"spc="+encodeURIComponent(wu(t))+"&assetId="+encodeURIComponent(n)},i.VT=function(t){return t.fairplay||{}},i.YS=function(t){var n=t.indexOf("?");if(n>=0)return j.resolve(t.substr(n+1));var i=t.split("/");return j.resolve(i[i.length-1])},i.jT=function(t){var n,i,e,r;return ze.async(function(u){for(;;)switch(u.prev=u.next){case 0:return i=null!=(n=this.WS)?n:Qu(new y(t)),u.next=3,ze.awrap(this.YS(i));case 3:return e=u.sent,this.zS=e,(r={}).fairplay={zc:e},u.abrupt("return",r);case 8:case"end":return u.stop()}},null,this,null,j)},i.YT=function(){var n=t.prototype.YT.call(this);return n.set("Content-Type",this.KS),n},i.uS=function(t,n){return ze.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.eS){t.next=2;break}return t.abrupt("return",this.eS);case 2:return t.next=4,ze.awrap(this.JS(n));case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},null,this,null,j)},i.sS=function(n,i){return t.prototype.tS.call(this,n,Gv.Kh,i)},i.QS=function(t){var n=this.$S(),i=this.YT(),e={Hh:n,Mh:_c.$a,Fh:i,ov:$v.GET,hv:!1,Eh:null,cv:0,zr:t,dr:Xv.Gh,av:Gv.Jh};return new Jv(e)},i.JS=function(t){var n,i,e;return ze.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=this.QS(t),r.next=3,ze.awrap(this.Ed.qh(n));case 3:return i=r.sent,r.next=6,ze.awrap(i.kh());case 6:return e=r.sent,r.abrupt("return",new y(e));case 8:case"end":return r.stop()}},null,this,null,j)},i.ZT=function(t){var n;if("string"==typeof t){var i=t.trim();"<ckc>"===i.substr(0,5)&&"</ckc>"===i.substr(-6)&&(i=i.slice(5,-6)),n=du(i)}else n=new y(t);return j.resolve(n)},i.KT=function(n,i){var e=t.prototype.KT.call(this,n,i);return lr(e,"skd:")&&(e=e.substr("skd:".length)),e},ft(n,[{key:"rS",get:function(){return!0}},{key:"KS",get:function(){return Gp.VS}}]),n}(Mb),Qp=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,_c.$a)||this}vt(n,t);var i=n.prototype;return i.YS=function(t){var n=t.split("://",1);if("skd"!==n[0].slice(-3).toLowerCase())return j.resolve("");var i=(n=t.split(";",2)).length>1?n[1]:"";return j.resolve(i)},i.nS=function(t){return ze.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,j)},i.ZT=function(t){return j.resolve(new y(t))},i.KT=function(n,i){var e=n||{};return e.p1=tn(),t.prototype.KT.call(this,e,i)},ft(n,[{key:"KS",get:function(){return Gp.qS}}]),n}(Jp),Zp=function(t){function i(n,i,e,r){var u;return(u=t.call(this,n,i,e,r,_c.$a)||this).zT("https://fairplay-license.drm.technology/license"),u.XS("https://fairplay-license.drm.technology/certificate"),u}vt(i,t);var e=i.prototype;return e.GS=function(t,n){var i={token:this.NS,contentId:n,payload:wu(t)};return JSON.stringify(i)},e.ZT=function(t){return j.resolve(new y(t))},e.YT=function(){var n=t.prototype.YT.call(this);return n.set("x-vudrm-token",this.NS),n},ft(i,[{key:"KS",get:function(){return Gp.Xa}},{key:"NS",get:function(){if(!hp(this.LT))throw new Lg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Token is required for FairPlay VuDrm.");return this.LT.token}}]),i}(Jp),t_="Verimatrix Fairplay license response incorrectly formatted. Invalid json.",n_="Verimatrix Fairplay license response incorrectly formatted. Ckc not found.",i_=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,_c.$a)||this}return vt(i,t),i.prototype.ZT=function(i){var e=function(t){var i;try{i=JSON.parse(t).ckc}catch(t){throw new Lg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,t_)}if(!i)throw new Lg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,n_);return i}(Xu(new DataView(i)));return t.prototype.ZT.call(this,e)},i}(Jp);var e_=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,_c.Xa)||this}vt(i,t);var e=i.prototype;return e.nS=function(t){var i,e;return ze.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(i=this.LT){r.next=3;break}throw new Lg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Fairplay DRM configuration.");case 3:return e=wu(t),r.abrupt("return",pp(i,e,np.cr));case 5:case"end":return r.stop()}},null,this,null,j)},e.ZT=function(t){try{var i;if(Ot(t)){var e=t.trim();i=JSON.parse(e)}else i=t;if(i.license){var r=pu(i.license);return j.resolve(new y(r))}return j.reject(new Lg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Titanium Fairplay license server"))}catch(t){return j.reject(new Lg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Fairplay license server"))}},e.GT=function(t,n,i){return _p(t,n,i)},ft(i,[{key:"KS",get:function(){return Gp.Xa}}]),i}(Jp),r_=function(t){function n(n,i,e,r){var u;return(u=t.call(this,n,i,e,r,_c.$a)||this).zT("https://emeademo.dev.ott.irdeto.com/streaming/getckc"),u.XS("https://emeademo.dev.ott.irdeto.com/streaming/getcertificate"),u}vt(n,t);var i=n.prototype;return i.$S=function(){var n=t.prototype.$S.call(this);if(!n)return n;var i=st.Ve(n),e=this.LT;return sp(e)&&td(i,{accountId:e.accountId,applicationId:e.applicationId||""}),i.href},i.YS=function(n){return sp(this.LT)?j.resolve(this.LT.contentId):t.prototype.YS.call(this,n)},i.nS=function(t){return ze.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,j)},i.ZT=function(t){return j.resolve(new y(t))},i.KT=function(n,i){var e=n;return sp(this.LT)&&(e=function(t,n){return He({},Ep(t,n),{KeyId:t.keyId})}(this.LT,e)),t.prototype.KT.call(this,e,i)},ft(n,[{key:"KS",get:function(){return Gp.qS}}]),n}(Jp),u_=function(t){function i(i,e,r,u){var s;if(s=t.call(this,i,e,r,u,_c.ei)||this,!up(e))throw new Lg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Conax configuration");return s.zT("https://connect.conax.com:8097/license"),s}vt(i,t);var e=i.prototype;return e.YT=function(){var n=t.prototype.YT.call(this);return Dp(this.LT,"FairPlay",n)},e.JS=function(t){var n,i,e,r;return ze.async(function(u){for(;;)switch(u.prev=u.next){case 0:return n=this.$S(),i={Hh:n,Mh:_c.$a,Fh:{},ov:$v.GET,hv:!1,Eh:null,cv:0,zr:t,dr:Xv.Gh,av:Gv.Jh},u.next=4,ze.awrap(this.Ed.qh(i));case 4:return e=u.sent,u.next=7,ze.awrap(e.kh());case 7:return r=u.sent,u.abrupt("return",new y(r));case 9:case"end":return u.stop()}},null,this,null,j)},e.nS=function(t){return ze.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,j)},e.YS=function(t){var n,i=t.indexOf("?");return 0===t.indexOf("skd://")?(n=i>=0?t.substring("skd://".length,i):t.substring("skd://".length),j.resolve(Xu(du(n)))):j.resolve("unknown")},e.ZT=function(t){try{var n=JSON.parse(t);return j.resolve(new y(pu(n.CkcMessage)))}catch(t){return j.reject("CFLRW-66")}},i}(Jp),s_=function(t){function i(n,i,e,r){var u;return(u=t.call(this,n,i,e,r,_c.ei)||this).zT(Qb[Qe.cr]),u}vt(i,t);var e=i.prototype;return e.YS=function(t){return lr(t,"skd://")?j.resolve(t.substring("skd://".length,40)):j.reject(new Lg(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error while determining the KeyOS Content ID."))},e.GS=function(t,n){return"spc="+wu(t)+"&assetId="+n},i}(Jp),o_=function(t){function n(n,i,e,r){var u;return(u=t.call(this,n,i,e,r,_c.ei)||this).zT("https://lic.drmtoday.com/license-server-fairplay/"),u}vt(n,t);var i=n.prototype;return i.GS=function(t,n){var i="spc="+encodeURIComponent(wu(t))+"&"+encodeURI(n);return"persistent"===this.FT.licenseType?i+"&offline=true":i},i.YT=function(){return Op(t.prototype.YT.call(this),this.NS,this.LT)},ft(n,[{key:"NS",get:function(){return Ap(this.LT)}}]),n}(Jp),c_=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,_c.$a)||this}vt(n,t);var i=n.prototype;return i.YS=function(t){var n=t;return lr(n,"skd:")&&(n="http:"+n.substring(4)),lr(n,"http:")||lr(n,"https:")?j.resolve(st.Ve(n).hostname):j.reject(new f("Could not parse ExpressPlay FairPlay content ID."))},i.nS=function(t){return ze.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,j)},i.ZT=function(t){return j.resolve(new y(t))},ft(n,[{key:"KS",get:function(){return Gp.qS}}]),n}(Jp),a_=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,_c.ei)||this}return vt(n,t),n.prototype.YT=function(){var n=t.prototype.YT.call(this),i=this.LT.token;return n.set("Authorization","Bearer "+i),n},n}(Jp),f_=function(t){function n(n,i,e,r){var u;if(u=t.call(this,n,i,e,r,_c.Xa)||this,!vp(i))throw new f("Invalid Xstream DRM configuration");return u}vt(n,t);var i=n.prototype;return i.JS=function(t){var n,i,e,r,u;return ze.async(function(s){for(;;)switch(s.prev=s.next){case 0:return n=this.$S(),i=this.YT(),e={Hh:n,Mh:_c.Xa,Fh:i,ov:$v.POST,zr:t,dr:Xv.Gh,av:Gv.Jh},s.next=5,ze.awrap(this.Ed.qh(e));case 5:return r=s.sent,s.next=8,ze.awrap(r.bh());case 8:return u=s.sent,s.abrupt("return",new y(du(u.certificate)));case 10:case"end":return s.stop()}},null,this,null,j)},i.sS=function(t,n,i){var e,r,u,s,o,c,a;return ze.async(function(f){for(;;)switch(f.prev=f.next){case 0:return void 0===i&&(i=_c.ei),e=wu(t),r=this.LT,f.next=5,ze.awrap(Lp(r,"fairplay",this.Ed,n));case 5:return u=f.sent,s=Gu(JSON.stringify({spc:e,ticket:u.ticket})),o={Hh:this.HT(),Mh:_c.Xa,Fh:this.YT(),ov:$v.POST,Eh:s,cv:0,zr:n,dr:Xv.Gh,av:Gv.Kh},f.next=10,ze.awrap(this.Ed.qh(o));case 10:return c=f.sent,f.next=13,ze.awrap(c.bh());case 13:return a=f.sent,f.abrupt("return",du(a.licence));case 15:case"end":return f.stop()}},null,this,null,j)},ft(n,[{key:"KS",get:function(){return Gp.Xa}}]),n}(Jp),h_=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,_c.ei)||this}vt(i,t);var e=i.prototype;return e.GS=function(t,n){return wu(t)},e.ZT=function(i){if(0===i.length)throw new Lg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Vimond license request error.");return t.prototype.ZT.call(this,i)},e.YT=function(){var n=t.prototype.YT.call(this);return n.set("Content-Type","text/plain"),n},i}(Jp),v_=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,_c.$a)||this}vt(i,t);var e=i.prototype;return e.GS=function(t,n){return t},e.ZT=function(t){return j.resolve(new y(t))},e.YT=function(){if(!dp(this.LT))throw new Lg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.YT.call(this);return i.set("X-AxDRM-Message",this.LT.token),i},ft(i,[{key:"KS",get:function(){return Gp.Xa}}]),i}(Jp),d_=function(t){function i(n,i,e,r){var u;return(u=t.call(this,n,i,e,r,_c.Xa)||this).ZS=void 0,u}vt(i,t);var e=i.prototype;return e.GS=function(t,n){var i={spc:wu(t)};return JSON.stringify(i)},e.YS=function(t){var i=st.Ve(t);return this.ZS=t,i.searchParams.has("b")?j.resolve(i.searchParams.get("b")):j.reject(new Lg(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error during license server request: Could not extract content id"))},e.KT=function(n,i){var e=this.HT();return!e&&this.ZS&&(e=this.ZS),e&&(e=e.replace("skd://","https://")),t.prototype.KT.call(this,n,i||e)},e.ZT=function(t){var i;return ze.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(i=Ot(t)?JSON.parse(t.trim()):t).ckc){e.next=4;break}return e.abrupt("return",du(i.ckc));case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),new Lg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Uplynk Fairplay license server");case 9:throw new Lg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Uplynk Fairplay license server");case 10:case"end":return e.stop()}},null,null,[[0,6]],j)},ft(i,[{key:"KS",get:function(){return Gp.ei}}]),i}(Jp),l_=function(){function t(t,n){this.tE=t,this.nE=n}var n=t.prototype;return n.iE=function(t){return this.tE(t)},n.eE=function(t,n){throw new h(n+" must be "+this.nE+". (Received: "+t+")")},t}(),w_=new l_(Lt,"a number"),g_=new l_(Ot,"a string"),y_=new l_(Pt,"a boolean");var m_,b_=(m_={responseCode:w_,isException:y_,description:g_,title:g_,correlationId:g_},{iE:function(t){if(!Ct(t))return!1;for(var n=0,i=v.keys(m_);n<i.length;n++){var e=i[n];if(!m_[e].iE(t[e]))return!1}return!0},eE:function(t,n){if(!Ct(t))throw new h(n+" must be an object.");for(var i=0,e=v.keys(m_);i<e.length;i++){var r=e[i],u=m_[r];if(!u.iE(t[r]))return u.eE(t[r],n+"."+r)}throw new h}});function p_(t,n,i,e,r){var u;return ze.async(function(s){for(;;)switch(s.prev=s.next){case 0:return u=__(t,n,i,r),s.next=3,ze.awrap(k_(u,e));case 3:return s.abrupt("return",s.sent);case 4:case"end":return s.stop()}},null,null,null,j)}function __(t,n,i,e){var r={token:n.token,account:n.accountId,form:"json"},u=decodeURIComponent(function(t,n){var i=st.Ve(t);return td(i,n),i.toString()}(i,r)),s=new kc({});s.append("Content-Type","application/json");var o=wu(t),c={getFairplayLicense:{releasePid:n.releasePid,spcMessage:o}};return{Hh:u,Mh:_c.ei,Fh:s,ov:$v.POST,Eh:JSON.stringify(c),zr:e,dr:Xv.Gh,av:Gv.Kh}}function k_(t,i){var e,r;return ze.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,ze.awrap(i.qh(t));case 2:return e=u.sent,u.next=5,ze.awrap(e.bh());case 5:if(r=u.sent,!b_.iE(r)){u.next=8;break}throw new Lg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,r.description,void 0,t.Hh,r.responseCode);case 8:return u.abrupt("return",du(r.getFairplayLicenseResponse.ckcResponse));case 9:case"end":return u.stop()}},null,null,null,j)}var T_=function(t){function n(n,i,e,r){var u;return(u=t.call(this,n,i,e,r,_c.$a)||this).rE=void 0,u.rE=i,u}vt(n,t);var i=n.prototype;return i.YS=function(n){var i=n.replace("FairPlay",this.rE.releasePid);return t.prototype.YS.call(this,i)},i.sS=function(t,n){return ze.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,ze.awrap(p_(t,this.rE,this.HT(),this.Ed,n));case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},null,this,null,j)},n}(Jp),S_=function(t){function i(n,i,e){return t.call(this,hr,n,i,e,_c.$a)||this}vt(i,t);var e=i.prototype;return e.VT=function(t){return t.clearkey||{}},e.nS=function(t,n){return ze.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Vb(t,this.FT));case 1:case"end":return n.stop()}},null,this,null,j)},e.$T=function(i,e,r,u){var s,o;return ze.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=this.FT,!this.HT()){e.next=5;break}return e.abrupt("return",t.prototype.$T.call(this,i,this.UT,r,u));case 5:if(!s.keys||!s.keys.length){e.next=10;break}return o={keys:s.keys.map(function(t){var n=t;return n||(n={}),{kty:"oct",kid:n.id,k:n.value}})},e.abrupt("return",Gu(JSON.stringify(o)).buffer);case 10:throw new Lg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The clearkey license has not been configured correctly.");case 11:case"end":return e.stop()}},null,this,null,j)},e.uS=function(t,n){return j.resolve(new y(0))},e.sS=function(n,i){return t.prototype.tS.call(this,n,Gv.nv,i)},i}(Mb),E_=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.nS=function(t,n){return ze.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Vb(t,this.FT));case 1:case"end":return n.stop()}},null,this,null,j)},n}(Hb),I_={url:"",method:"GET",headers:{},body:null,useCredentials:!1};function R_(t,n,i){var e,r,u;return ze.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(e=B_(n),(r=t.onCertificateRequest)&&"function"==typeof r){s.next=5;break}return s.abrupt("return",j.resolve(n));case 5:return s.next=8,ze.awrap(zr(j.resolve(r.call(t,e)),i));case 8:if(!es(u=s.sent)){s.next=11;break}return s.abrupt("return",rs(u));case 11:return s.abrupt("return",L_(He({},I_,u)));case 12:case"end":return s.stop()}},null,null,null,j)}function D_(t,n,i,e,r){var u,s,o;return ze.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(u=t.onCertificateResponse,s=x_(n,i,e),u&&"function"==typeof u){c.next=5;break}return c.abrupt("return",j.resolve(n));case 5:return c.next=8,ze.awrap(zr(j.resolve(u.call(t,s)),r));case 8:return o=c.sent,c.abrupt("return",rs(o));case 10:case"end":return c.stop()}},null,null,null,j)}function N_(t,n,i,e){var r;return ze.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,ze.awrap(A_(t,n,i,e));case 2:if(!((r=u.sent)instanceof ArrayBuffer)){u.next=5;break}return u.abrupt("return",r);case 5:return u.abrupt("return",L_(r));case 6:case"end":return u.stop()}},null,null,null,j)}function C_(t,n,i,e,r,u){var s,o;return ze.async(function(c){for(;;)switch(c.prev=c.next){case 0:return s=P_(i,r),c.next=3,ze.awrap(O_(t,new y(n),s,e,u));case 3:return o=c.sent,c.abrupt("return",rs(o).buffer);case 5:case"end":return c.stop()}},null,null,null,j)}function A_(t,n,i,e){var r,u,s;return ze.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(r=null==t?void 0:t.onLicenseRequest,u=P_(n,i),r&&"function"==typeof r){o.next=5;break}return o.abrupt("return",j.resolve(u));case 5:return o.next=8,ze.awrap(zr(j.resolve(r.call(t,u)),e));case 8:if(!es(s=o.sent)){o.next=11;break}return o.abrupt("return",rs(s).buffer);case 11:return o.abrupt("return",He({fairplaySkdUrl:void 0},I_,s));case 12:case"end":return o.stop()}},null,null,null,j)}function O_(t,n,i,e,r){var u,s,o;return ze.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(u=null==t?void 0:t.onLicenseResponse,s=x_(n,i,e),u&&"function"==typeof u){c.next=5;break}return c.abrupt("return",j.resolve(n));case 5:return c.next=8,ze.awrap(zr(j.resolve(u.call(t,s)),r));case 8:return o=c.sent,c.abrupt("return",rs(o));case 10:case"end":return c.stop()}},null,null,null,j)}function P_(t,n){return He({},B_(t),{fairplaySkdUrl:n})}function x_(t,n,i){return{url:i.zh,status:i.Bh,statusText:i.Uh,headers:i.Fh.Ya(),body:t,request:n}}function L_(t){return new Jv({Hh:t.url,ov:t.method,Fh:t.headers,Eh:t.body,hv:t.useCredentials})}function B_(t){var n;return{url:t.Hh,body:null!=(n=F_(t.Eh))?n:null,headers:t.Fh.Ya(),method:t.ov,useCredentials:t.hv}}function F_(t){if(t)return"string"==typeof t?Gu(t):t instanceof ArrayBuffer?new y(t):yu(t)?is(t):void 0}var M_,U_=function(t){function i(n,i,e,r){var u;return(u=t.call(this,n,i,e)||this).uE=void 0,u.uE=r,u}vt(i,t);var e=i.prototype;return e.uS=function(t,n){return j.resolve(t)},e.sS=function(t,i){var e,r,u,s,o;return ze.async(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,ze.awrap(this.OS(ss(t).buffer));case 2:return e=c.sent,r=this.XT(e,_c.$a,Gv.tv,i),c.next=6,ze.awrap(N_(this.uE,r,void 0,i));case 6:if(!((u=c.sent)instanceof ArrayBuffer)){c.next=10;break}return c.abrupt("return",new y(u));case 10:if(""!==u.Hh){c.next=12;break}throw new Lg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 12:return c.prev=12,c.next=15,ze.awrap(this.Ed.qh(u));case 15:return s=c.sent,c.next=18,ze.awrap(s.kh(i));case 18:return o=c.sent,c.t0=y,c.next=22,ze.awrap(C_(this.uE,o,r,s,void 0,i));case 22:return c.t1=c.sent,c.abrupt("return",new c.t0(c.t1));case 26:throw c.prev=26,c.t2=c.catch(12),Vr(c.t2),new Lg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during PlayReady license request",c.t2);case 30:case"end":return c.stop()}},null,this,[[12,26]],j)},i}(Up),V_=function(t){function i(n,i,e,r){var u;return(u=t.call(this,n,i,e,_c.$a)||this).uE=void 0,u.uE=r,u}vt(i,t);var e=i.prototype;return e.uS=function(t,i){var e,r,u,s,o;return ze.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(!this.eS){c.next=2;break}return c.abrupt("return",this.eS);case 2:return e=this.XT(t,_c.$a,Gv.Zh,i),c.next=5,ze.awrap(R_(this.uE,e,i));case 5:if(!((r=c.sent)instanceof y)){c.next=9;break}return c.abrupt("return",r);case 9:if(""!==r.Hh){c.next=11;break}throw new Lg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The certificate request URL has not been correctly configured.");case 11:return c.prev=11,c.next=14,ze.awrap(this.Ed.qh(r));case 14:return u=c.sent,c.next=17,ze.awrap(u.kh(i));case 17:s=c.sent,c.next=24;break;case 20:throw c.prev=20,c.t0=c.catch(11),Vr(c.t0),new Lg(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during Widevine certificate request",c.t0);case 24:return o=P_(e,void 0),c.next=27,ze.awrap(D_(this.uE,new y(s),o,u,i));case 27:return c.abrupt("return",c.sent);case 28:case"end":return c.stop()}},null,this,[[11,20]],j)},e.sS=function(t,i){var e,r,u,s;return ze.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=this.XT(t,_c.$a,Gv.Qh,i),o.next=3,ze.awrap(N_(this.uE,e,void 0,i));case 3:if(!((r=o.sent)instanceof ArrayBuffer)){o.next=7;break}return o.abrupt("return",new y(r));case 7:if(""!==r.Hh){o.next=9;break}throw new Lg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return o.prev=9,o.next=12,ze.awrap(this.Ed.qh(r));case 12:return u=o.sent,o.next=15,ze.awrap(u.kh(i));case 15:s=o.sent,o.next=22;break;case 18:throw o.prev=18,o.t0=o.catch(9),Vr(o.t0),new Lg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Widevine license request",o.t0);case 22:return o.t1=y,o.next=25,ze.awrap(C_(this.uE,s,e,u,void 0,i));case 25:return o.t2=o.sent,o.abrupt("return",new o.t1(o.t2));case 27:case"end":return o.stop()}},null,this,[[9,18]],j)},i}(E_),q_=function(t){function i(n,i,e,r,u){var s;return(s=t.call(this,n,i,e,r,_c.$a)||this).uE=void 0,s.sE=void 0,s.uE=u,s}vt(i,t);var e=i.prototype;return e.uS=function(t,i){var e,r,u,s,o;return ze.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.eS){t.next=2;break}return t.abrupt("return",this.eS);case 2:return e=this.QS(i),t.next=5,ze.awrap(R_(this.uE,e,i));case 5:if(r=t.sent,!yu(r)){t.next=8;break}return t.abrupt("return",r);case 8:return t.prev=8,t.next=11,ze.awrap(this.Ed.qh(r));case 11:return u=t.sent,t.next=14,ze.awrap(u.kh());case 14:return s=t.sent,o=P_(e,void 0),t.next=18,ze.awrap(D_(this.uE,new y(s),o,u,i));case 18:return t.abrupt("return",t.sent);case 21:throw t.prev=21,t.t0=t.catch(8),Vr(t.t0),new Lg(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during FairPlay certificate request",t.t0);case 25:case"end":return t.stop()}},null,this,[[8,21]],j)},e.sS=function(t,i){var e,r,u,s;return ze.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=this.XT(t,_c.$a,Gv.Kh,i),o.next=3,ze.awrap(N_(this.uE,e,this.sE,i));case 3:if(!((r=o.sent)instanceof ArrayBuffer)){o.next=7;break}return o.abrupt("return",new y(r));case 7:if(""!==r.Hh){o.next=9;break}throw new Lg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return o.prev=9,o.next=12,ze.awrap(this.Ed.qh(r));case 12:return u=o.sent,o.next=15,ze.awrap(u.kh(i));case 15:return s=o.sent,o.t0=y,o.next=19,ze.awrap(C_(this.uE,s,e,u,this.sE,i));case 19:return o.t1=o.sent,o.abrupt("return",new o.t0(o.t1));case 23:throw o.prev=23,o.t2=o.catch(9),Vr(o.t2),new Lg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during FairPlay license request",o.t2);case 27:case"end":return o.stop()}},null,this,[[9,23]],j)},e.YS=function(n){var i;return this.sE=n,null!=(i=this.uE)&&i.extractFairplayContentId?j.resolve(this.uE.extractFairplayContentId(n)):t.prototype.YS.call(this,n)},i}(Jp),z_=function(){function t(){}var n=t.prototype;return n.oE=function(t,n,i,e){switch(t.hc.dr){case Qe.sr:return this.cE(n,i,e);case Qe.ur:return this.aE(n,i,e);case Qe.cr:return this.fE(t,n,i,e);case Qe.ar:default:return this.hE(n,i,e)}},n.cE=function(t,n,i){var e,r=(e=t).integration===Fb&&Ot(e.customIntegrationId)?t.customIntegrationId:t.integration;if(r&&Kb.kS.bS(r,rr)){var u=Kb.kS._S(r,rr,t);return new V_(t,n,i,u)}switch(r){case kb:return new Tp(t,n,i);case Ib:return new Sp(t,n,i);case Eb:return new Ip(t,n,i);case Tb:return new Np(t,n,i);case Nb:return new Pp(t,n,i);case Ab:return new xp(t,n,i);case Ob:return new Bp(t,n,i);case xb:return new Fp(t,n,i);case Db:default:return new E_(t,n,i,_c.$a)}},n.aE=function(t,n,i){var e=t.integration;if(e&&Kb.kS.bS(e,ir)){var r=Kb.kS._S(e,ir,t);return new U_(t,n,i,r)}switch(e){case kb:return new qp(t,n,i);case Ib:return new Wp(t,n,i);case Eb:return new jp(t,n,i);case Tb:return new $p(t,n,i);case Nb:return new Xp(t,n,i);case Ob:return new Yp(t,n,i);case xb:return new Kp(t,n,i);case Db:default:return new Up(t,n,i)}},n.fE=function(t,n,i,e){var r=n.integration;if(r&&Kb.kS.bS(r,sr)){var u=Kb.kS._S(r,sr,n);return new q_(t,n,i,e,u)}switch(r){case Sb:return new Qp(t,n,i,e);case Ib:return new Zp(t,n,i,e);case Rb:return new i_(t,n,i,e);case kb:return new e_(t,n,i,e);case Eb:return new r_(t,n,i,e);case Tb:return new u_(t,n,i,e);case Db:return new s_(t,n,i,e);case Nb:return new o_(t,n,i,e);case Cb:return new c_(t,n,i,e);case Ab:return new a_(t,n,i,e);case Ob:return new f_(t,n,i,e);case Pb:return new h_(t,n,i,e);case xb:return new v_(t,n,i,e);case Lb:return new d_(t,n,i,e);case Bb:return new T_(t,n,i,e);default:return new Jp(t,n,i,e,_c.ei)}},n.hE=function(t,n,i){return new S_(t,n,i)},n.vE=function(t){return t.dr===Qe.ur||t.dr===Qe.sr||t.dr===Qe.cr||t.dr===Qe.ar},n._c=function(t,n){var i;if(t.dr!==Qe.ur)return!1;if(Rt(null==(i=n.playready)?void 0:i.customData))return!0;var e=n.integration;return(!e||!Kb.kS.bS(e,sr))&&(e===kb&&new Vp(n)._c)},n.IS=function(t,n){if(t.dr===Qe.sr){var i=n.integration;if(!i||!Kb.kS.bS(i,sr))return i===kb?Tp.IS():void 0}},t}();!function(t){t[t.dE=0]="dE",t[t.lE=1]="lE",t[t.wE=2]="wE",t[t.gE=3]="gE",t[t.Zl=4]="Zl",t[t.yE=5]="yE",t[t.uw=6]="uw",t[t.mE=7]="mE",t[t.bE=8]="bE"}(M_||(M_={}));var H_,W_=function(){function t(){}return t.prototype.pE=function(t){},ft(t,[{key:"_E",get:function(){return 0}},{key:"kE",get:function(){return 0}}]),t}(),j_=function(){function t(t,n){void 0===n&&(n=new z_),this.aT=void 0,this.TE=void 0,this.PS=void 0,this.aT=t,this.TE=n}var n=t.prototype;return n.SE=function(t){this.PS=t},n.IS=function(t){var n=this.PS;if(void 0!==n)return this.TE.IS(t,n)},n._c=function(t){var n=this.PS;return void 0!==n&&this.TE._c(t,n)},n.EE=function(t){var n={hc:t.hc,IE:t.IE||[],jS:t.jS},i=this.TE.oE(n,this.PS||{},t.BT,this.aT);return new $_(i)},t}(),$_=function(){function t(t){this.RE=void 0,this.RE=t}var n=t.prototype;return n.WT=function(t){return this.RE.WT(t)},n.jT=function(t,n,i){return this.RE.jT(n,i)},n.rS=function(){return this.RE.rS||void 0!==this.RE.eS},n.uS=function(t,n){return this.RE.uS(t,n)},n.sS=function(t,n,i){return n&&this.RE.zT(n),this.RE.sS(t,i)},n.Pr=function(){this.RE.et()},t}(),X_=function(t){function n(n){var i;(i=t.call(this)||this).DE=[],i.NE=function(t){i.ul(t.Pd)},i.CE=function(t){var n=t.Pd;i.AE(n)||i.sl(n)};for(var e=0;e<n.length;e++){var r=n[e];i.OE(r)}return i}vt(n,t);var i=n.prototype;return i.OE=function(t){this.DE.push(t);for(var n=0,i=t.al;n<i.length;n++){var e=i[n];this.ul(e)}this.PE(t)},i.xE=function(t){Ar(this.DE,t),this.LE(t);for(var n=0,i=t.al;n<i.length;n++){var e=i[n];this.AE(e)||this.sl(e)}},i.AE=function(t){for(var n=0,i=this.DE;n<i.length;n++){if(i[n].ol(t))return!0}return!1},i.PE=function(t){t.Gr(Fl.Id,this.NE),t.Gr(Fl.Dd,this.CE)},i.LE=function(t){t.Qr(Fl.Id,this.NE),t.Qr(Fl.Dd,this.CE)},i.et=function(){for(;this.DE.length>0;)this.xE(this.DE[0]);t.prototype.et.call(this)},i.Od=function(){return Tw(this)},n}(Gl);function G_(){return H_||(H_=Z&&Z.document&&Z.document.createElement("video")),H_}var Y_=function(t){function i(i,e,r,u,s,o,c){var a;return void 0===o&&(o=new z_),void 0===c&&(c=lc()),(a=t.call(this)||this).BE=void 0,a.FE=void 0,a.ME=void 0,a.Vw=void 0,a.qw=void 0,a.zw=void 0,a.UE=void 0,a.VE=void 0,a.qE=void 0,a.zE=void 0,a.HE=void 0,a.aT=void 0,a.pr=void 0,a.WE=void 0,a.jE=void 0,a.$E=new W_,a.XE=function(t){var i=t.cu,e=i.code,r=new tc(function(t){switch(t){case Og.ABORTED:return n.ErrorCode.MEDIA_ABORTED;case Og.NETWORK:return n.ErrorCode.NETWORK_ERROR;case Og.DECODE:return n.ErrorCode.MEDIA_DECODE_ERROR;case Og.SRC_NOT_SUPPORTED:return n.ErrorCode.SOURCE_NOT_SUPPORTED;case Og.ENCRYPTED:return n.ErrorCode.CONTENT_PROTECTION_ERROR;case Og.LICENSE_INVALID:return n.ErrorCode.LICENSE_ERROR;case Og.ADVERTISEMENT_ERROR:return n.ErrorCode.AD_ERROR}}(e),"Something went wrong during native playback.",i),u=new Bg(e,r.message,i.message);a.GE(r,u)},a.YE=function(){a.Xr(new og(a.yw,a.wg))},a.KE=function(t){a.kw||(a.jE=void 0),a.Xr(t)},a.JE=function(t){a.jE=void 0,a.Xr(t)},a.QE=function(){a.Xr(new ey(a.yg))},a.ZE=function(){a.Iw>0&&a.Ew>0&&a.Xr(new cb)},a.tI=function(t){a.Vw.ul(new Yg(t.track))},a.nI=function(t){var n=J_(a.Vw,t.track);n&&a.Vw.sl(n)},a.iI=function(){a.eI(a.Vw)},a.rI=function(t){a.qw.ul(new iy(t.track))},a.uI=function(t){var n=J_(a.qw,t.track);n&&a.qw.sl(n)},a.sI=function(){a.eI(a.qw)},a.oI=function(t){a.Xr(t),a.GE(t.errorObject,Mg(t.errorObject))},a.BE=e,a.aT=r,a.pr=c,a.FE=a.BE.G(Ug.uv),a.qE=a.FE.cI.preload,a.zE=new _b(a.FE,!0),a.zE.Gr(eg,a.$r),a.WE=new j_(r,o),a.FE.aI=a.WE,a.fI(),a.Vw=new Vg,a.qw=new Vg,a.hI(),a.HE=new nb(a.FE,a.aT),a.zw=new X_([a.FE.Gw]),a.rg(),a}vt(i,t);var e=i.prototype;return e.ug=function(){this.FE.ug()},e.rg=function(){this.FE.rg()},e.Qw=function(t,n,i){var e;return ze.async(function(r){for(;;)switch(r.prev=r.next){case 0:return Ur(i),e={dr:ob.yT,Ml:t.src,Sh:t.type,vI:this.dI(t),Ig:this.qE,lI:t.crossOrigin,wI:n.metadata&&n.metadata.title},this.WE.SE(t.contentProtection),r.next=5,ze.awrap(this.FE.ic(e));case 5:this.ME=r.sent,Ur(i),n.textTracks&&this.gI(n.textTracks),sb(this.Gw);case 9:case"end":return r.stop()}},null,this,null,j)},e.gI=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(this.FE.yI()&&St.pn&&gb&&!Gm(i.kind,i.label)&&this.mI(i)){var e,r=null!=(e=i.kind)?e:qm.$b;this.FE.bI(i.src,r,i.label,i.srclang)}else{if(void 0===i.src)continue;this.HE.hT(i)}}},e.mI=function(t){return!t.format||"webvtt"===t.format},e.Y=function(){return ze.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ze.awrap(this.FE.Y());case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:if(this.pI){t.next=12;break}return t.next=10,ze.awrap(this.FE.iu(pc.Na));case 10:t.next=7;break;case 12:case"end":return t.stop()}},null,this,[[0,5]],j)},e.K=function(){this.FE.K()},e.Zw=function(){return void 0!==this.FE.cI.webkitShowPlaybackTargetPicker},e.tg=function(){this.FE.cI.webkitShowPlaybackTargetPicker&&this.FE.cI.webkitShowPlaybackTargetPicker()},e.ng=function(){this.FE.cI.webkitShowPlaybackTargetPicker&&this.FE.cI.webkitShowPlaybackTargetPicker()},e.sg=function(){return this.FE.cI},e.og=function(){return this.FE._I},e.cl=function(){return ze.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.UE=void 0,this.VE=void 0,this.ME=void 0,t.next=5,ze.awrap(this.HE.cl());case 5:return this.FE.kI(),t.next=8,ze.awrap(this.FE.cl());case 8:this.zE.cl(),this.Ig=this.qE,this.$w.cl(),this.Xw.cl(),this.jE=void 0;case 13:case"end":return t.stop()}},null,this,null,j)},e.et=function(){return ze.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ze.awrap(this.cl());case 2:return this.Jr(),this.TI(),this.SI(),this.zE.et(),this.FE.aI=void 0,t.next=9,ze.awrap(this.BE.nt(this.FE));case 9:return this.Vw.et(),this.qw.et(),this.zw.et(),t.next=14,ze.awrap(this.HE.et());case 14:case"end":return t.stop()}},null,this,null,j)},e.fI=function(){this.FE.Gr(pc.Da,this.$r),this.FE.Gr(pc.Ra,this.$r),this.FE.Gr(pc.qa,this.YE),this.FE.Gr(pc.Na,this.$r),this.FE.Gr(pc.ka,this.$r),this.FE.Gr(pc.xa,this.$r),this.FE.Gr(pc.Pa,this.KE),this.FE.Gr(pc.ba,this.$r),this.FE.Gr(pc.Ca,this.$r),this.FE.Gr(pc.za,this.$r),this.FE.Gr(pc.ya,this.$r),this.FE.Gr(pc.Oa,this.ZE),this.FE.Gr(Jw.gw,this.JE),this.FE.Gr(mw.Rl,this.XE),this.FE.Gr(pc.la,this.$r),this.FE.Gr(pc.da,this.oI),this.FE.cI.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.QE)},e.TI=function(){this.FE.Qr(pc.Da,this.$r),this.FE.Qr(pc.Ra,this.$r),this.FE.Qr(pc.qa,this.YE),this.FE.Qr(pc.Na,this.$r),this.FE.Qr(pc.ka,this.$r),this.FE.Qr(pc.xa,this.$r),this.FE.Qr(pc.Pa,this.KE),this.FE.Qr(pc.ba,this.$r),this.FE.Qr(pc.Ca,this.$r),this.FE.Qr(pc.za,this.$r),this.FE.Qr(pc.ya,this.$r),this.FE.Qr(pc.Oa,this.ZE),this.FE.Qr(Jw.gw,this.JE),this.FE.Qr(mw.Rl,this.XE),this.FE.Qr(pc.la,this.$r),this.FE.Qr(pc.da,this.oI),this.FE.cI.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.QE)},e.dI=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{hc:fr,EI:[{initDataTypes:[fr.gr],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},e.hI=function(){var t=this.FE.cI.audioTracks,n=this.FE.cI.videoTracks;t&&(t.addEventListener("addtrack",this.tI),t.addEventListener("removetrack",this.nI),t.addEventListener("change",this.iI)),n&&(n.addEventListener("addtrack",this.rI),n.addEventListener("removetrack",this.uI),n.addEventListener("change",this.sI))},e.SI=function(){var t=this.FE.cI.audioTracks,n=this.FE.cI.videoTracks;t&&(t.removeEventListener("addtrack",this.tI),t.removeEventListener("removetrack",this.nI),t.removeEventListener("change",this.iI)),n&&(n.removeEventListener("addtrack",this.rI),n.removeEventListener("removetrack",this.uI),n.removeEventListener("change",this.sI))},e.eI=function(t){for(var n=0;n<t.fl;n++){t.il(n).Bg()}},e.dg=function(){this.FE.dg()},e.GE=function(t,n){this.UE||(this.UE=n,this.VE=t,this.Xr(new gg(t)))},ft(i,[{key:"pI",get:function(){var t=this.FE.lg,n=this.yw;return t.II(n,.01)}},{key:"$w",get:function(){return this.Vw}},{key:"lg",get:function(){return this.FE.lg.RI()}},{key:"wg",get:function(){return this.FE.wg},set:function(t){t&&this.FE.DI(t)}},{key:"yw",get:function(){return void 0!==this.jE?this.jE:this.FE.yw},set:function(t){this.yg&&(this.jE=t),this.FE.Tu(t)}},{key:"mw",get:function(){return this.FE.mw}},{key:"bw",get:function(){return this.FE.bw}},{key:"cu",get:function(){return this.UE}},{key:"pw",get:function(){return this.VE}},{key:"Yw",get:function(){}},{key:"yg",get:function(){return this.FE.yg}},{key:"xw",get:function(){return He({},{mg:0,bg:0,pg:0,_g:0,kg:0,Tg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.FE.NI())}},{key:"_w",get:function(){return this.FE._w},set:function(t){this.FE._w=t}},{key:"Sg",get:function(){return!0}},{key:"kw",get:function(){return this.FE.kw}},{key:"Tw",get:function(){return this.FE.Tw},set:function(t){this.FE.Tw=t}},{key:"Eg",get:function(){return this.FE.cI.played}},{key:"Ig",get:function(){return this.qE},set:function(t){this.qE=t,this.ME&&(this.ME.Ig=t)}},{key:"Ll",get:function(){return this.FE.Ll}},{key:"Rg",get:function(){return this.FE.Rg.RI()}},{key:"Sw",get:function(){return this.FE.Sw}},{key:"CI",get:function(){return this.FE.CI}},{key:"Gw",get:function(){return this.zw}},{key:"Xw",get:function(){return this.qw}},{key:"Ew",get:function(){return this.FE.Ew}},{key:"Iw",get:function(){return this.FE.Iw}},{key:"Rw",get:function(){return this.FE.Rw},set:function(t){this.FE.Rw=t}},{key:"Dg",get:function(){return this.FE.Dg},set:function(t){this.FE.Dg=t}},{key:"AI",get:function(){return this.$E}}]),i}(Iw);var K_=function(){function t(){this.OI=M_.bE}var n=t.prototype;return n.wS=function(t,n,i,e,r,u){return new Y_(t,n,i,e,r)},n.xI=function(t,n){return function(t){return!t.type||!(!G_().canPlayType||!G_().canPlayType(t.type))}(t)},n.LI=function(){return!1},t}();function J_(t,n){for(var i=0,e=t.al;i<e.length;i++){var r=e[i];if(r.Ug===n)return r}}var Q_=function(){function t(){this.BI=new K_,this.FI=[]}t.MI=function(){return this.Qn};var n=t.prototype;return n.UI=function(t){this.FI.push(t)},n.wS=function(t,n,i,e,r,u){for(var s=this.BI.wS(t,n,i,e,r,u),o=0,c=this.FI;o<c.length;o++){s=(0,c[o])(s,i,e)}return s},n.xI=function(t,n){return this.BI.xI(t,n)},n.LI=function(){return!1},ft(t,[{key:"OI",get:function(){return this.BI.OI}}]),t}();function Z_(t,n){return Ir(t.OI,n.OI)}Q_.Qn=new Q_;var tk=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).VI=Q_.MI(),n}vt(n,t);var i=n.prototype;return i.qI=function(t){this.VI=t},i.zI=function(){return this.VI},i.HI=function(t,n){var i,e,r,u,s,o;return ze.async(function(c){for(;;)switch(c.prev=c.next){case 0:i=0;case 1:if(!(i<t.length)){c.next=11;break}return e=t[i],c.next=5,ze.awrap(this.WI(e,n));case 5:if(!(r=c.sent)){c.next=8;break}return c.abrupt("return",{jI:e,$I:r});case 8:i++,c.next=1;break;case 11:u=this.VI,s=0;case 13:if(!(s<t.length)){c.next=20;break}if(o=t[s],!u.xI(o,n)){c.next=17;break}return c.abrupt("return",{jI:o,$I:u});case 17:s++,c.next=13;break;case 20:return c.abrupt("return",{jI:t[0],$I:u});case 21:case"end":return c.stop()}},null,this,null,j)},n}(function(){function t(){this.XI=[]}var n=t.prototype;return n.GI=function(t){this.XI.push(t),this.XI.sort(Z_)},n.WI=function(t,n){var i,e,r,u;return ze.async(function(s){for(;;)switch(s.prev=s.next){case 0:i=0,e=this.XI;case 1:if(!(i<e.length)){s.next=17;break}if(r=e[i],!xt(u=r.xI(t,n))){s.next=10;break}return s.next=7,ze.awrap(u);case 7:s.t0=s.sent,s.next=11;break;case 10:s.t0=Boolean(u);case 11:if(!s.t0){s.next=14;break}return s.abrupt("return",r);case 14:i++,s.next=1;break;case 17:return s.abrupt("return",void 0);case 18:case"end":return s.stop()}},null,this,null,j)},t}());tk.Qn=new tk;var nk,ik=function(){function t(t){var n,i;this.YI=void 0,this.YI=Z&&Z.document&&Z.document.createElement("div"),n=this.YI,(i=n.style).position="absolute",i.left="0",i.right="0",i.top="0",i.bottom="0",i.width="100%",i.height="100%",t.appendChild(this.YI)}return t.prototype.et=function(){pe(this.YI)},t}();function ek(t){switch(t){case nk.KI:case"":return nk.KI;case nk.Gb:return nk.Gb;case nk.JI:default:return nk.JI}}!function(t){t.bE="",t.JI="none",t.Gb="metadata",t.KI="auto"}(nk||(nk={}));var rk=[mw.Rl,pc.ma,pc.au,pc.ja,pc.aa,pc.pa,pc.Ea,pc.Ia,pc.Ba,pc.Ma,Jw.hw,Jw.vw,Jw.dw,Jw.lw,Jw.$d,Jw.ww,Jw.gw,pc.da,pc.la,pc.ya,pc.ba,pc.ka,pc.Ta,pc.Da,pc.Na,pc.Ra,pc.Ca,pc.Oa,pc.xa,pc.Pa,pc.qa,pc.za,pc.Aa,pc.Sa,pc.La],uk=function(t){function n(n,i){var e;return(e=t.call(this)||this).QI=void 0,e.ZI=void 0,e.tR=void 0,e.nR=void 0,e.qE=nk.JI,e.iR=void 0,e.eR=!0,e.Vw=new bw,e.qw=new bw,e.zw=new Ew,e.Hw=new Pg,e.QI=n,e.tR=i,e.tR.Ig=e.Ig,e.rR(),e}vt(n,t);var i=n.prototype;return i.K=function(){this.tR.K()},i.Y=function(){var t=this.tR.Y();xt(t)&&$r(t)},i.Kw=function(){return this.Qw(void 0)},i.st=function(){},i.ag=function(t){return!1},i.rR=function(){this.Vw.gl=this.tR.$w,this.qw.gl=this.tR.Xw,this.zw.gl=this.tR.Gw,this.Hw.gl=this.tR.Yw,this.tR.Gr(rk,this.$r)},i.uR=function(){this.tR.Qr(rk,this.$r),this.Vw.gl=void 0,this.qw.gl=void 0,this.zw.gl=void 0,this.Hw.gl=void 0},i.Jw=function(){return this.iR},i.Qw=function(t,n){var i,e,r,u,s,o;return ze.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(Ur(n),this.iR=t,t){c.next=4;break}return c.abrupt("return");case 4:if(!jw(i=t.sources.filter(Kw))){c.next=7;break}return c.abrupt("return");case 7:return c.next=9,ze.awrap(this.QI.HI(i,t));case 9:if(e=c.sent,Ur(n),r=e.jI,u=e.$I,s=this.og(),o=bg(this),this.ZI===u&&!this.cu){c.next=25;break}return this.uR(),c.next=19,ze.awrap(this.tR.et());case 19:Ur(n),this.ZI=u,this.tR=this.sR(u),sk(this.tR,o),pg(this,o,this),this.rR();case 25:return this.tR.Ig=this.Ig,this.eR?this.tR.rg():this.tR.ug(),c.next=29,ze.awrap(this.tR.Qw(r,t,n));case 29:Ur(n),this.oR(r),this.og()!==s&&this.Xr(new Dw);case 32:case"end":return c.stop()}},null,this,null,j)},i.oR=function(t){this.nR!==t&&(this.nR=t,this.Xr(new Nw(t)))},i.Zw=function(){return this.tR.Zw()},i.tg=function(){this.tR.tg()},i.ng=function(){this.tR.ng()},i.og=function(){return this.tR.og()},i.dg=function(){this.tR.dg()},i.cl=function(){return ze.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.iR=void 0,this.oR(void 0),t.next=4,ze.awrap(this.tR.cl());case 4:case"end":return t.stop()}},null,this,null,j)},i.et=function(){return ze.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Jr(),t.next=3,ze.awrap(this.cl());case 3:return t.next=5,ze.awrap(this.tR.et());case 5:this.Vw.et(),this.qw.et(),this.zw.et(),this.Hw.et();case 9:case"end":return t.stop()}},null,this,null,j)},i.rg=function(){this.eR=!0,this.tR.rg()},i.ug=function(){this.eR=!1,this.tR.ug()},ft(n,[{key:"$w",get:function(){return this.Vw}},{key:"lg",get:function(){return this.tR.lg}},{key:"cu",get:function(){return this.tR.cu}},{key:"pw",get:function(){return this.tR.pw}},{key:"wg",get:function(){return this.tR.wg},set:function(t){this.tR.wg=t}},{key:"vg",get:function(){return this.nR}},{key:"yw",get:function(){return this.tR.yw},set:function(t){this.tR.yw=t}},{key:"mw",get:function(){return this.tR.mw}},{key:"bw",get:function(){return this.tR.bw}},{key:"Yw",get:function(){return this.Hw}},{key:"yg",get:function(){return this.tR.yg}},{key:"xw",get:function(){return this.tR.xw}},{key:"_w",get:function(){return this.tR._w},set:function(t){this.tR._w=t}},{key:"Sg",get:function(){return this.tR.Sg}},{key:"kw",get:function(){return this.tR.kw}},{key:"Tw",get:function(){return this.tR.Tw},set:function(t){this.tR.Tw=t}},{key:"Eg",get:function(){return this.tR.Eg}},{key:"Ig",get:function(){return this.qE},set:function(t){this.qE=t,this.tR&&(this.tR.Ig=this.qE)}},{key:"Ll",get:function(){return this.tR.Ll}},{key:"Rg",get:function(){return this.tR.Rg}},{key:"Sw",get:function(){return this.tR.Sw}},{key:"Gw",get:function(){return this.zw}},{key:"Ew",get:function(){return this.tR.Ew}},{key:"Xw",get:function(){return this.qw}},{key:"Iw",get:function(){return this.tR.Iw}},{key:"Rw",get:function(){return this.tR.Rw},set:function(t){this.tR.Rw=t}},{key:"AI",get:function(){return this.tR.AI}}]),n}(Jr);function sk(t,n){t._w!==n._w&&(t._w=n._w),t.Rw!==n.Rw&&(t.Rw=n.Rw),t.Tw!==n.Tw&&(t.Tw=n.Tw)}var ok,ck=function(t){function n(n,i){var e;return(e=t.call(this)||this).fl=void 0,e.cR=void 0,e.aR=void 0,e.fl=n.length>>1,e.cR=n,e.aR=i||function(t){for(var n=new Array(2*t),i=0,e=0;i<t;i+=1,e+=2)n[e]=!0,n[e+1]=!1;return n}(e.fl),e}vt(n,t);var i=n.prototype;return i.fR=function(t){return this.cR[2*t]},i.hR=function(t){return this.aR[2*t]},i.vR=function(t){return this.cR[2*t+1]},i.dR=function(t){return this.aR[2*t+1]},ft(n,[{key:"lR",get:function(){return this.cR.slice()}}]),n}(function(){function t(){}var n=t.prototype;return n.uy=function(t,n){return 0===this.Ny(t,n)},n.rm=function(t,n){return this.Ny(t,n)>0},n.um=function(t,n){return this.Ny(t,n)>=0},n.xy=function(t,n){return this.Ny(t,n)<0},n.Oy=function(t,n){return this.Ny(t,n)<=0},n.Sm=function(t,n){return this.xy(t,n)?t:n},n.Tm=function(t,n){return this.rm(t,n)?t:n},n.wR=function(t,n,i){return i?this.Oy(t,n):this.xy(t,n)},n.RI=function(){var t=this;return{get length(){return t.fl},start:function(n){var i=0|n;return t.gR(i),t.yR(t.fR(i))},end:function(n){var i=0|n;return t.gR(i),t.yR(t.vR(i))}}},n.mR=function(){for(var t=new Array(2*this.fl),n=new Array(2*this.fl),i=0;i<this.fl;i++)t[2*i]=this.fR(i),t[2*i+1]=this.vR(i),n[2*i]=!0,n[2*i+1]=!0;return this.bR(t,n)},n.gR=function(t){if(t<0)throw new f("The index provided ("+t+") must be non-negative");if(t>=this.fl)throw new f("The index provided ("+t+") is greater than the maximum bound ("+this.fl+")")},n.pR=function(t){if(0===this.fl)return this._R();if(this.II(t))return t;if(this.Oy(t,this.fR(0)))return this.fR(0);if(this.um(t,this.vR(this.fl-1)))return this.vR(this.fl-1);for(var n,i=this.kR(),e=0;e<this.fl;e++){var r=this.fR(e),u=this.Py(r,t);this.xy(u,i)&&(n=r,i=u);var s=this.vR(e),o=this.Py(this.vR(e),t);this.xy(o,i)&&(n=s,i=o)}return n},n.TR=function(t){for(var n=0,i=0,e=[],r=[];n<this.fl&&i<t.fl;){var u=this.fR(n),s=this.vR(n),o=this.hR(n),c=this.dR(n),a=t.fR(i),f=t.vR(i),h=t.hR(i),v=t.dR(i),d=this.Tm(u,a),l=this.Sm(s,f),w=void 0;w=this.uy(u,a)?o&&h:this.uy(d,u)?o:h;var g=void 0;g=this.uy(s,f)?c&&v:this.uy(l,s)?c:v,(this.xy(d,l)||w&&g&&this.uy(d,l))&&(e.push(d,l),r.push(w,g));var y=this.Ny(this.vR(n),t.vR(i));0===y?(n+=1,i+=1):y<0?n+=1:i+=1}return this.bR(e,r)},n.SR=function(){var t=this.ER(),n=t.fl;if(0===n)return this.bR([t.IR(),t.kR()],[!1,!1]);var i=[],e=[],r=t.fR(0);t.uy(r,t.IR())||(i.push(t.IR(),r),e.push(!1,!t.hR(0)));for(var u=0;u<n-1;u++)i.push(t.vR(u),t.fR(u+1)),e.push(!t.dR(u),!t.hR(u+1));var s=t.vR(n-1);return t.uy(s,t.kR())||(i.push(s,t.kR()),e.push(!t.dR(n-1),!1)),t.bR(i,e)},n.RR=function(t){for(var n=0,i=0,e=this.fl,r=t.fl,u=new Array(2*(e+r)),s=new Array(2*(e+r)),o=0;n<e&&i<r;){var c=this.fR(n),a=this.vR(n),f=t.fR(i),h=t.vR(i);this.xy(c,f)||this.uy(c,f)&&this.xy(a,h)?(u[o]=c,u[o+1]=a,s[o]=this.hR(n),s[o+1]=this.dR(n),n++):(u[o]=f,u[o+1]=h,s[o]=t.hR(i),s[o+1]=t.dR(i),i++),o+=2}for(;n<e;)u[o]=this.fR(n),u[o+1]=this.vR(n),s[o]=this.hR(n),s[o+1]=this.dR(n),n++,o+=2;for(;i<r;)u[o]=t.fR(i),u[o+1]=t.vR(i),s[o]=t.hR(i),s[o+1]=t.dR(i),i++,o+=2;return this.bR(u,s)},n.DR=function(t){void 0===t&&(t=this._R());var n=this.fl;if(n<2)return this;for(var i=[],e=[],r=this.fR(0),u=this.vR(0),s=this.hR(0),o=this.dR(0),c=1;c<n;c++){var a=this.fR(c),f=this.vR(c),h=this.hR(c),v=this.dR(c);this.xy(r,a)&&this.rm(u,f)||(this.uy(r,a)&&(s=h=s||h),this.uy(u,f)&&(o=v=o||v),this.wR(a,this.Cg(u,t),o||h)?(u=f,o=v):(i.push(r,u),e.push(s,o),r=a,u=f,s=h,o=v))}return i.push(r,u),e.push(s,o),this.bR(i,e).ER()},n.ER=function(){for(var t=[],n=[],i=0;i<this.fl;i++){var e=this.fR(i),r=this.vR(i),u=this.hR(i),s=this.dR(i);this.uy(e,r)?(u||s)&&(t.push(e,r),n.push(!0,!0)):(t.push(e,r),n.push(u,s))}return this.bR(t,n)},n.NR=function(t){return this.fl?t.fl?this.RR(t).DR():this:t},n.CR=function(t){var n=this.ER(),i=t.ER(),e=n.SR(),r=i.SR(),u=e.TR(i),s=r.TR(n);return u.NR(s)},n.ku=function(t){if(this.uy(t,this._R()))return this;for(var n=[],i=[],e=0;e<this.fl;e++){var r=this.Cg(this.fR(e),t),u=this.Cg(this.vR(e),t);n.push(r,u),i.push(this.hR(e),this.dR(e))}return this.bR(n,i)},n.AR=function(t){return 0===this.fl||0===t.fl?this:this.ER().TR(t.ER().SR())},n.II=function(t,n){return this.OR(t,n)>=0},n.PR=function(t,n,i,e,r){return this.xR(t,n,i,e,r)>=0},n.LR=function(t,n,i,e,r){return this.FR(t,n,i,e,r)>=0},n.MR=function(t){if(t.fl!==this.fl)return!1;for(var n=0;n<this.fl;n++)if(!this.uy(this.fR(n),t.fR(n))||!this.uy(this.vR(n),t.vR(n))||this.hR(n)!==t.hR(n)||this.dR(n)!==t.dR(n))return!1;return!0},n.UR=function(t){for(var n=[],i=[],e=0;e<this.fl;e++){var r=this.fR(e),u=this.vR(e),s=this.hR(e),o=this.dR(e);t(r,u,s,o)&&(n.push(r,u),i.push(s,o))}return this.bR(n,i)},n.FR=function(t,n,i,e,r){void 0===i&&(i=!0),void 0===e&&(e=!0),void 0===r&&(r=this._R());for(var u=this.My(t,r),s=this.Cg(n,r),o=0;o<this.fl;o+=1)if(this.wR(this.fR(o),s,!e||this.hR(o))&&this.wR(u,this.vR(o),!i||this.dR(o)))return o;return-1},n.xR=function(t,n,i,e,r){void 0===i&&(i=!0),void 0===e&&(e=!1),void 0===r&&(r=this._R());for(var u=this.Cg(t,r),s=this.My(n,r),o=0;o<this.fl;o+=1)if(this.wR(this.fR(o),u,!i||this.hR(o))&&this.wR(s,this.vR(o),!e||this.dR(o)))return o;return-1},n.OR=function(t,n){return this.xR(t,t,!0,!0,n)},n.qR=function(t,n){void 0===n&&(n=this._R());for(var i=this.Cg(t,n),e=this.fl-1;e>=0;e-=1)if(this.wR(this.fR(e),i,this.hR(e)))return e;return-1},n.zR=function(t,n){void 0===n&&(n=this._R());for(var i=this.My(t,n),e=0;e<this.fl;e+=1)if(this.wR(i,this.vR(e),this.dR(e)))return e;return-1},n.HR=function(t){return this.gR(t),this.bR([this.fR(t),this.vR(t)],[this.hR(t),this.dR(t)])},n.WR=function(t,n){var i=this.OR(t,n);return i<0?void 0:this.HR(i)},ft(t,[{key:"jR",get:function(){for(var t=this._R(),n=0;n<this.fl;n++){var i=this.My(this.vR(n),this.fR(n));t=this.Cg(t,i)}return t}}]),t}()),ak=function(t){function n(n,i){return t.call(this,n,i)||this}vt(n,t);var i=n.prototype;return i.Ny=function(t,n){return t<n?kr.Rr:t===n?kr.Er:kr.Ir},i.Cg=function(t,n){return t+n},i.My=function(t,n){return t-n},i.Py=function(t,n){return d.abs(t-n)},i._R=function(){return 0},i.kR=function(){return 1/0},i.IR=function(){return-1/0},n.$R=function(t){for(var i=[],e=0;e<t.length;e++)i.push(t.start(e),t.end(e));return new n(i)},n.XR=function(t){for(var i=[],e=[],r=0;r<t.fl;r++)i.push(t.fR(r).Rm),i.push(t.vR(r).Rm),e.push(t.hR(r)),e.push(t.dR(r));return new n(i,e)},n.GR=function(t){return new n([t,t],[!0,!0])},i.bR=function(t,i){return new n(t,i)},i.yR=function(t){return t},n.YR=function(){return fk},n}(ck),fk=new ak([]);!function(t){t.Wd="fullscreenchange",t.KR="fullscreensupportchange",t.Rl="fullscreenerror"}(ok||(ok={}));var hk=function(t){function n(){return t.call(this,ok.Rl)||this}return vt(n,t),n}(Zr),vk=new(function(t){function n(){return t.apply(this,arguments)||this}vt(n,t);var i=n.prototype;return i.Wg=function(){this.Xr(new hk)},i.$g=function(){},i.et=function(){this.Jr()},ft(n,[{key:"JR",get:function(){return!1}},{key:"QR",get:function(){return!1}}]),n}(Jr)),dk=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).BE=void 0,n.FE=void 0,n}vt(n,t);var i=n.prototype;return i.sg=function(){var t;return null==(t=this.FE)?void 0:t.cI},i.et=function(){return ze.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ze.awrap(t.prototype.et.call(this));case 2:if(!this.FE){n.next=6;break}return n.next=5,ze.awrap(this.BE.nt(this.FE));case 5:this.FE=void 0;case 6:case"end":return n.stop()}},null,this,null,j)},ft(n,[{key:"ZR",set:function(t){this.BE=t,this.FE=t.G(Ug.uv)}}]),n}(function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).tD=0,n.nD=!1,n.iD=!0,n.eD=1,n.rD=!1,n.Hs=1,n.$w=new Vg,n.lg=ak.YR().RI(),n.mw=NaN,n.bw=!1,n.cu=void 0,n.pw=void 0,n.Yw=void 0,n.yg=!1,n.Sg=!0,n.Eg=ak.YR().RI(),n.Ig=nk.JI,n.Ll=Bw.sw,n.Rg=ak.YR().RI(),n.CI=void 0,n.Gw=new zm,n.Ew=0,n.Xw=new Vg,n.Iw=0,n.$E=new W_,n}vt(n,t);var i=n.prototype;return i.rg=function(){},i.ug=function(){},i.Y=function(){this.iD&&(this.iD=!1,this.Xr(new tg(this.yw)),this.Xr(new bb(this.yw)))},i.K=function(){this.iD||(this.iD=!0,this.Xr(new og(this.yw,this.wg)),this.Xr(new Zw(this.yw)))},i.Qw=function(t,n){return j.resolve()},i.Zw=function(){return!1},i.tg=function(){},i.ng=function(){},i.og=function(){return vk},i.dg=function(){},i.cl=function(){return ze.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.tD=0,this.rD=!1,this.K(),this.Xr(new Qw(this.tD));case 4:case"end":return t.stop()}},null,this,null,j)},i.et=function(){return ze.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.Jr(),this.$w.et(),this.Gw.et(),this.Xw.et();case 4:case"end":return t.stop()}},null,this,null,j)},ft(n,[{key:"wg",get:function(){},set:function(t){}},{key:"yw",get:function(){return this.tD},set:function(t){this.tD!==t&&(this.tD=t,this.rD=!0,this.Xr(new fg(this.yw)))}},{key:"xw",get:function(){return{mg:0,bg:0,pg:0,_g:0,kg:0,Tg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"_w",get:function(){return this.nD},set:function(t){this.nD!==t&&(this.nD=t,this.Xr(new vg(this.yw,this.Rw)))}},{key:"kw",get:function(){return this.iD}},{key:"Tw",get:function(){return this.eD},set:function(t){this.eD!==t&&(this.eD=t,this.Xr(new sg(this.yw,this.Tw)))}},{key:"Sw",get:function(){return this.rD}},{key:"Rw",get:function(){return this.Hs},set:function(t){this.Hs!==t&&(this.Hs=t,this.Xr(new vg(this.yw,this.Rw)))}},{key:"Dg",get:function(){return!1},set:function(t){}},{key:"AI",get:function(){return this.$E}}]),n}(Jr)),lk=function(t){function n(n,i,e,r,u,s){var o,c=new dk;return(o=t.call(this,tk.Qn,c)||this).Bc=void 0,o.uD=void 0,o.sD=void 0,o.oD=void 0,o.aT=void 0,o.cD=void 0,o.aD=void 0,o.sD=n,o.Bc=i,o.aT=e,o.cD=r,o.oD=s,o.uD=new K(u,o.oD),o.uD.it(o.sD),c.ZR=o.uD,o.aD=new ik(o.sD),o}vt(n,t);var i=n.prototype;return i.st=function(){t.prototype.st.call(this),this.uD.X()},i.ig=function(t){var n,i,e,r;n=this,e=(i=t).Rw,r=i._w,n.Rw=e,n._w=r},i.eg=function(){},i.sR=function(t){return t.wS(this.sD,this.uD,this.aT,this.Bc,this.cD,this.oD)},i.sg=function(){return this.tR.sg()},i.cg=function(){return this.uD.j.map(function(t){return t.cI})},i.Kr=function(n){t.prototype.Kr.call(this,n)},i.nu=function(n){t.prototype.nu.call(this,n)},i.et=function(){return ze.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ze.awrap(t.prototype.et.call(this));case 2:this.uD.et(),this.aD.et();case 4:case"end":return n.stop()}},null,this,null,j)},ft(n,[{key:"gg",get:function(){return this.sD}},{key:"Dg",get:function(){return this.tR.Dg},set:function(t){this.tR.Dg=t}}]),n}(uk),wk=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).sD=void 0,r.fD=void 0,r.hD=void 0,r.vD=void 0,r.dD=void 0,r.sD=n,r.fD=i,r.vD=new Vg,r.dD=new zm,r.hD=e,r}vt(n,t);var i=n.prototype;return i.ag=function(t){return!0},i.ug=function(){},i.Y=function(){throw this.Xr(new gg(this.hD)),this.fD},i.K=function(){},i.Jw=function(){},i.Qw=function(t,n){return ze.async(function(t){for(;;)switch(t.prev=t.next){case 0:throw Ur(n),this.Xr(new gg(this.hD)),this.fD;case 3:case"end":return t.stop()}},null,this,null,j)},i.rg=function(){},i.Kw=function(){return j.resolve()},i.sg=function(){},i.og=function(){return vk},i.cg=function(){return[]},i.st=function(){},i.ig=function(t){},i.eg=function(){},i.Zw=function(){return!1},i.tg=function(){},i.ng=function(){},i.dg=function(){},i.cl=function(){return j.resolve()},i.et=function(){return this.Jr(),this.vD.et(),this.dD.et(),j.resolve()},ft(n,[{key:"$w",get:function(){return this.vD}},{key:"lg",get:function(){return ak.YR().RI()}},{key:"wg",get:function(){return new Date(NaN)},set:function(t){}},{key:"vg",get:function(){}},{key:"yw",get:function(){return 0},set:function(t){}},{key:"mw",get:function(){return 0}},{key:"gg",get:function(){return this.sD}},{key:"bw",get:function(){return!0}},{key:"cu",get:function(){return this.fD}},{key:"pw",get:function(){return this.hD}},{key:"Yw",get:function(){}},{key:"xw",get:function(){return{mg:0,bg:0,pg:0,_g:0,kg:0,Tg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"_w",get:function(){return!1},set:function(t){}},{key:"Sg",get:function(){return!0}},{key:"kw",get:function(){return!0}},{key:"Tw",get:function(){return 0},set:function(t){}},{key:"Eg",get:function(){return ak.YR().RI()}},{key:"Ig",get:function(){return nk.JI},set:function(t){}},{key:"Ll",get:function(){return Bw.sw}},{key:"Rg",get:function(){return ak.YR().RI()}},{key:"Sw",get:function(){return!1}},{key:"Gw",get:function(){return this.dD}},{key:"Ew",get:function(){return 0}},{key:"Xw",get:function(){return this.vD}},{key:"Iw",get:function(){return 0}},{key:"Rw",get:function(){return 1},set:function(t){}},{key:"Dg",get:function(){return!1},set:function(t){}},{key:"yg",get:function(){return!1}}]),n}(Rw);function gk(t){if(t&&Ct(t))return He({},t,{integration:yk(t.integration),fairplay:Sk(t.fairplay),widevine:mk(t.widevine),playready:bk(t.playready),clearkey:Ek(t.clearkey),aes128:Ik(t.aes128),integrationParameters:Rk(t.integrationParameters),preferredKeySystems:Dk(t.preferredKeySystems)})}function yk(t){if(Ot(t))return t}function mk(t){if(t&&Ct(t))return{persistentState:pk(t.persistentState),distinctiveIdentifier:pk(t.distinctiveIdentifier),audioRobustness:_k(t.audioRobustness),videoRobustness:_k(t.videoRobustness),licenseAcquisitionURL:Ot(t.licenseAcquisitionURL)?t.licenseAcquisitionURL:void 0,licenseType:kk(t.licenseType),headers:t.headers,useCredentials:!!Pt(t.useCredentials)&&t.useCredentials,queryParameters:t.queryParameters,certificate:Ot(t.certificate)||es(t.certificate)?t.certificate:void 0,certificateRequestProcessor:Tk(t.certificateRequestProcessor),certificateResponseProcessor:Tk(t.certificateResponseProcessor),licenseRequestProcessor:Tk(t.licenseRequestProcessor),licenseResponseProcessor:Tk(t.licenseResponseProcessor)}}function bk(t){if(t){var n=mk(t);if(n)return He({},n,{customData:Ot(t.customData)?t.customData:void 0})}}function pk(t){switch(null==t?void 0:t.toLowerCase()){case"required":return"required";case"optional":return"optional";case"not-allowed":return"not-allowed"}}function _k(t){switch(t){case"HW_SECURE_ALL":return"HW_SECURE_ALL";case"HW_SECURE_DECODE":return"HW_SECURE_DECODE";case"HW_SECURE_CRYPTO":return"HW_SECURE_CRYPTO";case"SW_SECURE_DECODE":return"SW_SECURE_DECODE";case"SW_SECURE_CRYPTO":return"SW_SECURE_CRYPTO";case"":return""}}function kk(t){switch(null==t?void 0:t.toLowerCase()){case"temporary":return"temporary";case"persistent":return"persistent"}}function Tk(t){if("function"==typeof t)return t}function Sk(t){if(t){var n=mk(t);if(n)return He({},n,{certificateURL:Ot(t.certificateURL)?t.certificateURL:void 0})}}function Ek(t){if(t){var n=mk(t);if(n)return He({},n,{keys:Dt(t.keys)?t.keys.map(function(t){return function(t){if(!t||!Ct(t))return;var n=t.id,i=t.value;if(!Ot(n)||!Ot(i))return;return{id:n,value:i}}(t)}).filter(Rt):void 0})}}function Ik(t){if(Ct(t))return{useCredentials:Pt(t.useCredentials)?t.useCredentials:void 0}}function Rk(t){if(Ct(t))return t}function Dk(t){return t&&Dt(t)?t.map(function(t){return wp(t)}).filter(Rt):[rr,ir,sr]}var Nk,Ck=function(t){function n(n){var i;return(i=t.call(this,"presentationmodechange")||this).presentationMode=n,i}return vt(n,t),n}(Zr),Ak=function(t){function n(n,i){var e;return void 0===i&&(i=!1),(e=t.call(this,n)||this).lD=[],e.wD=void 0,e.gD=function(t){jr(function(){e.$r(t)})},e.wD=i?e.gD:e.$r,e}vt(n,t);var i=n.prototype;return i.yD=function(t){t.Kr(this.wD),this.lD.push(t)},i.mD=function(t){t.nu(this.wD),Ar(this.lD,t)},i.et=function(){this.Jr();for(var t=0,n=this.lD;t<n.length;t++){n[t].nu(this.wD)}xr(this.lD)},n}(Iw),Ok=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n}(Ak);!function(t){t.INLINE="inline",t.FULLSCREEN="fullscreen",t.PICTURE_IN_PICTURE="picture-in-picture"}(Nk||(Nk={}));var Pk,xk=function(t){function i(n){var i;return(i=t.call(this)||this).bD=void 0,i.pD=void 0,i._D=!1,i.kD=!1,i.TD=void 0,i.SD=void 0,i.ED=void 0,i.Cd=void 0,i.RD=function(){return i.DD()},i.ND=function(){return i.CD()},i.ED=n,i.bD=i.pD=i.TD=i.SD=Nk.INLINE,i.ED.Gr(ok.Wd,i.RD),i.ED.Gr(ok.Rl,i.ND),i.OD(),i}vt(i,t);var e=i.prototype;return e.Od=function(){return t=this,i={get currentMode(){return t.PD()},requestMode:function(n){var i=Bk(n);i&&t.xD(i)},supportsMode:function(n){var i=Bk(n);return!!i&&t.LD(i)},addEventListener:function(t,i){n.Gr(t,i)},removeEventListener:function(t,i){n.Qr(t,i)}},(n=new Ak(i,!0)).yD(t),i;var t,n,i},e.xD=function(t){this.BD(t,t)},e.BD=function(t,n){this.pD!==n&&(this._D=!0,this.bD=t,this.FD(n,this.pD),t!==Nk.FULLSCREEN&&(this.TD=t),this._D=!1,this.OD())},e.PD=function(){return this.kD?Nk.FULLSCREEN:Nk.INLINE},e.LD=function(t){switch(t){case Nk.FULLSCREEN:return this.ED.QR;case Nk.INLINE:return!0}return!1},e.OD=function(){if(!this._D){var t=this.pD,n=this.PD();this.pD=n,n!==Nk.FULLSCREEN&&(this.SD=n),t!==n&&this.Xr(new Ck(n))}},e.FD=function(t,n){var i=t===Nk.FULLSCREEN;this.kD=i,i!==this.ED.JR&&(i?this.ED.Wg():this.ED.$g())},e.DD=function(){if(!this._D){var t=this.ED.JR;this.kD=t,t?this.BD(Nk.FULLSCREEN,Nk.FULLSCREEN):t||this.bD!==Nk.FULLSCREEN?this.OD():this.BD(this.TD,this.SD)}},e.CD=function(){this.DD(),this.Xr(new gg(new tc(n.ErrorCode.FULLSCREEN_ERROR,"Failed to enter fullscreen.")))},e.et=function(){this.ED.et(),this.Jr()},ft(i,[{key:"Ad",get:function(){return this.Cd||(this.Cd=this.Od()),this.Cd}}]),i}(Iw),Lk={yw:0,mw:NaN,bw:!1,cu:void 0,pw:void 0,_w:!1,kw:!0,Tw:1,Ll:Bw.sw,Sw:!1,Ew:0,Iw:0,Rw:1};function Bk(t){switch(t){case Nk.INLINE:case Nk.FULLSCREEN:case Nk.PICTURE_IN_PICTURE:return t;default:return}}!function(t){t.DEFAULT="",t.THEO="theo",t.GOOGLE_IMA="google-ima",t.SPOTX="spotx",t.FREEWHEEL="freewheel"}(Pk||(Pk={}));var Fk,Mk,Uk,Vk,qk,zk,Hk,Wk,jk=function(){function t(){this.MD=[]}var n=t.prototype;return n.UD=function(t){var n=this.VD.filter(function(n){return n.qD(t)});if(n.length>1)0;else if(0===n.length)throw f("Unknown ad integration: "+t.integration);return n[0]||null},n.zD=function(t){this.MD.push(t)},ft(t,[{key:"VD",get:function(){return this.MD}}]),t}();jk.Qn=new jk,function(t){t.gw="PLAYING",t.Bw="PAUSED",t.HD="SEEK",t.WD="STALLED",t.jD="FAILED",t.$D="INITIAL_BUFFERING",t.XD="NO_ACCESS"}(Fk||(Fk={})),function(t){t.GD="HTTP_REQUEST_STATUS_CODE_1XX",t.YD="HTTP_REQUEST_STATUS_CODE_2XX",t.KD="HTTP_REQUEST_STATUS_CODE_3XX",t.JD="HTTP_REQUEST_STATUS_CODE_4XX",t.QD="HTTP_REQUEST_STATUS_CODE_5XX",t.ZD="BUFFER_LENGTH",t.tN="BYTES_RECEIVED",t.nN="SEGMENT_READ_BITRATE",t.iN="SEGMENT_PROFILE_BITRATE",t.eN="NUMBER_OF_FRAMES_DROPPED",t.rN="PLAYBACK_POSITION",t.uN="NUMBER_OF_FRAMES_DECODED",t.sN="PLAYBACK_DELTA_TO_ORIGIN",t.oN="STREAM_DELTA_TO_ORIGIN",t.cN="ORIGIN_TIMESTAMP"}(Mk||(Mk={})),function(t){t.aN="MANIFEST_URI",t.fN="ASSET_DURATION",t.hN="NUMBER_OF_CONTENT_PROFILES",t.vN="CDN",t.dN="CONTENT_TITLE",t.lN="SERVICE_NAME",t.wN="CONTENT_TYPE",t.gN="CONTENT_DESCRIPTION"}(Uk||(Uk={})),function(t){t.yN="shutdown_normal_shutdown"}(Vk||(Vk={})),function(t){t.mN="session/",t.bN="internalError/",t.pN="drmError/",t._N="caError/",t.kN="networkError/"}(qk||(qk={})),function(t){t.TN="userAction",t.SN="endOfStreamReached"}(zk||(zk={})),function(t){t.PAUSE="EN",t.RESUME="IN"}(Hk||(Hk={})),function(t){t.UNAVAILABLE="unavailable",t.AVAILABLE="available",t.CONNECTING="connecting",t.CONNECTED="connected"}(Wk||(Wk={}));var $k,Xk,Gk,Yk,Kk,Jk="agama";function Qk(t){return function(t){switch(t){case $k.NONE:case $k.HORIZONTAL:case $k.VERTICAL:return!0;default:return!1}}(t)?t:$k.NONE}function Zk(t){switch(t){case"":return $k.NONE;case"horizontal":return $k.HORIZONTAL;case"vertical":return $k.VERTICAL;default:throw new h}}function tT(t){if(!t||!Ot(t))return Xk.KI;switch(t){case"always":return Xk.RN;case"never":return Xk.DN;default:return Xk.KI}}function nT(t){if(!t||!Ot(t))return Gk.KI;switch(t){case"playlist":return Gk.NN;case"media":return Gk.CN;default:return Gk.KI}}function iT(t,n){return t.length>0?t:n.length>0?n:void 0}function eT(t){if(null!==t)return t}function rT(t){var n,i={apiKey:t.apiKey,integration:t.integration,streamActivityMonitorID:eT(t.streamActivityMonitorID),adTagParameters:Ct(t.adTagParameters)?t.adTagParameters:{},authToken:eT(t.authToken)};if("vod"===(null==t?void 0:t.availabilityType)||(n=t,Boolean(n.videoID&&n.contentSourceID))){var e=t.videoID,r=t.contentSourceID;return e?r?He({},i,{availabilityType:"vod",videoID:e,contentSourceID:r}):void st.Ee("A VOD DAI configuration was provided without valid contentSourceID which is required."):void st.Ee("A VOD DAI configuration was provided without valid videoID which is required.")}if("live"===(null==t?void 0:t.availabilityType)||function(t){return Boolean(t.assetKey)}(t)){var u=t.assetKey;return u?He({},i,{availabilityType:"live",assetKey:u}):void st.Ee("A Live DAI configuration was provided without valid assetKey which is required.")}st.Ee("A DAI configuration was provided without a valid availabilityType which is required.")}function uT(t){if(!op(t)||!t.integration)return t;switch(t.integration){case Db:return n=t,i=lp(Qe.sr,n),e=lp(Qe.ur,n),r=n[Qe.cr]&&lp(Qe.cr,n),He({integration:"keyos",widevine:i,playready:e},r?{fairplay:r}:{});default:return t}var n,i,e,r}!function(t){t.NONE="",t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}($k||($k={})),function(t){t.KI="auto",t.RN="always",t.DN="never"}(Xk||(Xk={})),function(t){t.KI="auto",t.NN="playlist",t.CN="media"}(Gk||(Gk={})),function(t){t.VERIZON_MEDIA="verizon-media",t.MEDIATAILOR="mediatailor"}(Yk||(Yk={})),function(t){t.ASSET="asset",t.CHANNEL="channel",t.EVENT="event"}(Kk||(Kk={}));var sT="https://content.uplynk.com";function oT(t){if(!t)return!0;var n,i,e=!(Ww(n=t.sources)||Nt(n)&&Ww(n[0]))||jw(t.sources),r=!t.ads||(!(i=t.ads)||Dt(i)&&0===i.length),u=""!==t.poster&&!t.poster;return e&&r&&u}function cT(t){if(t&&t.sources)return function t(n){if(Ot(n))return n;if(Hw(n))return n.src;if(Nt(n)&&n.length>0)return t(n[0]);return}(t.sources)}function aT(t,n,i){return qw(t)?function(t,n,i){var e=He({},$w(),{ping:{adImpressions:!1,freeWheelVideoViews:!1,linearAdData:!1},integration:Yk.VERIZON_MEDIA,id:"",prefix:sT,preplayParameters:{},playbackUrlParameters:{},assetType:Kk.ASSET,contentProtected:!1,assetInfo:!0});e.id=(r=t.id,Ot(r)?r:Nt(r)&&Ot(r[0])?r:Ct(u=r)&&Ot(u.userId)&&(Nt(u.externalId)||Ot(u.externalId))?r:""),t.preplayParameters&&(e.preplayParameters=t.preplayParameters);var r,u;t.playbackUrlParameters&&(e.playbackUrlParameters=t.playbackUrlParameters);t.assetType&&(e.assetType=function(t){switch(t){case"channel":return Kk.CHANNEL;case"event":return Kk.EVENT;case"asset":default:return Kk.ASSET}}(t.assetType));t.contentProtected&&(e.contentProtected=uw(t.contentProtected));t.assetInfo?e.assetInfo=uw(t.assetInfo):e.assetInfo="asset"===e.assetType;t.prefix&&(e.prefix=cw(t.prefix)||sT);return e.ping=(s=e.assetType,o=t.ping,c=!1,a=!1,f=!1,o?(c=!!Pt(o.adImpressions)&&o.adImpressions,a=!!Pt(o.freeWheelVideoViews)&&o.freeWheelVideoViews,f=Pt(o.linearAdData)?o.linearAdData:s!==Kk.ASSET):s!==Kk.ASSET&&(f=!0),{adImpressions:c,freeWheelVideoViews:a,linearAdData:f}),e=hT(e=vT(e=fT(e,t),n,i),t,i);var s,o,c,a,f}(t,n,i):function(t,n,i){var e=Xw(),r=n&&(n.contentProtection||n.drm);if(Ot(t)){if(e.src=t,e.type=Uw(t),r){var u=gk(r);e.contentProtection=uT(u)}}else if(Hw(t)||Vw(t)){e.src=t.src,e.type=t.type||Uw(t.src),e.isAdvertisement=t.isAdvertisement;var s=function(t){return t.type===Pw.rw||t.type===Pw.uw}(t)?t.hesp:void 0;void 0!==s&&(e.hesp=s);var o=Ct(f=t)&&Ot(f.integration)&&"mediatailor"===f.integration;o&&(e.integration=t.integration);var c=t.contentProtection||t.drm||r,a=gk(c);e.contentProtection=uT(a),t.ssai&&(e.ssai=function(t){switch(t.integration){case"google-dai":return rT(t);case"imagine":return{integration:t.integration};case"yospace":return function(t){var n;return{integration:t.integration,streamType:null!=(n=t.streamType)?n:void 0}}(t);default:return{integration:t.integration}}}(t.ssai)),e=fT(e,t)}var f;return e=hT(e=vT(e,n,i),t,i)}(t,n,i)}function fT(t,n){var i;n.useCredentials?t.crossOrigin=Ow.iw:n.crossOrigin&&(t.crossOrigin=function(t){switch(t){case Ow.nw:case Ow.iw:return t;default:return Ow.tw}}(n.crossOrigin)),Ot(n.timeServer)&&(t.timeServer=n.timeServer),n.liveOffset&&(t.liveOffset=n.liveOffset),n.hlsDateRange&&(t.hlsDateRange=n.hlsDateRange),n.lowLatency&&(t.lowLatency=uw(n.lowLatency)),n.useNativePlayback&&(t.useNativePlayback=uw(n.useNativePlayback)),n.dash&&(t.dash={useSeamlessPeriodSwitch:tT(null==(i=n.dash)?void 0:i.useSeamlessPeriodSwitch)}),n.hls&&(t.hls=function(t){return{discontinuityAlignment:nT(null==t?void 0:t.discontinuityAlignment)}}(n.hls));var e=void 0!==n.experimentalRendering?uw(n.experimentalRendering):void 0;void 0!==e&&(t.experimentalRendering=e);var r=void 0!==n.nativeUiRendering?uw(n.nativeUiRendering):void 0;return void 0!==r&&(t.nativeUiRendering=r),t}function hT(t,n,i){return t.abr=function(t,n){var i=aw(null==t?void 0:t.preferredAudioCodecs,cw),e=aw(null==t?void 0:t.preferredVideoCodecs,cw),r=aw(null==n?void 0:n.preferredAudioCodecs,cw),u=aw(null==n?void 0:n.preferredVideoCodecs,cw),s=iT(i,r),o=iT(e,u);if(s||o)return{preferredAudioCodecs:s,preferredVideoCodecs:o}}(Ot(n)?void 0:n.abr,null==i?void 0:i.abr),t}function vT(t,n,i){var e,r=n&&n.timeServer;return i&&i.liveOffset&&!Rt(t.liveOffset)&&(t.liveOffset=i.liveOffset),i&&i.hlsDateRange&&!Rt(t.hlsDateRange)&&(t.hlsDateRange=i.hlsDateRange),t.crossOrigin===Ow.tw&&null!=n&&null!=(e=n.vr)&&e[360]&&(t.crossOrigin=Ow.nw),t.useCredentials=t.crossOrigin===Ow.iw,Ot(r)&&!t.timeServer&&(t.timeServer=r),t}function dT(t){var n={src:""};if(t&&t.src){if(n.src=cw(t.src),"default"in t&&(n.default=uw(t.default)),n.kind=jm(t.kind),function(t){switch(t){case Qg.DEFAULT:case Qg.SRT:case Qg.TTML:case Qg.WEBVTT:case Qg.EMSG:case Qg.EVENT_STREAM:case Qg.ID3:case Qg.CEA608:case Qg.DATE_RANGE:return!0;default:return!1}}(t.format)&&(n.format=t.format),"srclang"in t){var i=t.srclang;"string"==typeof i&&""!==i&&(n.srclang=i)}if("label"in t){var e=t.label;"string"==typeof e&&""!==e&&(n.label=e)}}return n}function lT(t,n){if(At(t))try{return n.UD(t).AN(t)}catch(t){return}}function wT(t){return Ot(t.sources)&&""!==t.sources||Ct(t.sources)&&Ot(t.sources.src)}function gT(t){return t.integration===Pk.SPOTX&&!g(t.id)}function yT(t){return"freewheel"===t.integration}function mT(t,n,i){if(void 0===i&&(i=jk.Qn),oT(t))return{sources:[Xw()]};var e=nw(t);if(e.sources=function(t,n,i){if(Ww(t))return[aT(t,n,i)];if(Nt(t)&&Ww(t[0])){for(var e=[],r=0;r<t.length;r++){var u=t[r];e.push(aT(u,n,i))}return e}return[Xw()]}(e.sources,e,n),"contentProtection"in e&&delete e.contentProtection,"drm"in e&&delete e.drm,"ads"in e){var r=function(t,n){if(!Nt(t))return[];for(var i=[],e=0,r=t;e<r.length;e++){var u=r[e];(u=lT(u,n))&&(wT(u)||gT(u)||yT(u))&&i.push(u)}return i}(e.ads,i);0===r.length?delete e.ads:e.ads=r}var u,s,o,c=!jw(e.sources),a=e.ads&&e.ads.length>0;if(c&&!a?delete e.ads:a&&!c&&(e.sources=[]),"textTracks"in e){var f=function(t){if(!Nt(t))return[];for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];""!==(r=dT(r)).src&&n.push(r)}return n}(e.textTracks);0===f.length?delete e.textTracks:e.textTracks=f}if("poster"in e&&(e.poster=cw(e.poster)),"vr"in e&&(e.vr=(u=e.vr,(s=u||{}).stereoMode=Qk(s.stereoMode),{360:Boolean(s[360]),stereoMode:s.stereoMode?Zk(s.stereoMode):$k.NONE,nativeVR:Boolean(s.nativeVR)})),"analytics"in e||(null==n?void 0:n.analytics)){var h=Yw(e.analytics),v=n&&n.analytics||[];e.analytics=function(t,n){for(var i=nw(t),e=function(e){var r=n[e],u=!t.some(function(t){return t.integration===r.integration});u&&r.integration!==Jk&&i.push(r)},r=0;r<n.length;r++)e(r);return i}(h,v)}return"mutedAutoplay"in e&&(e.mutedAutoplay=yg(e.mutedAutoplay)),"timeServer"in e&&delete e.timeServer,"playAdsAfterTime"in e&&(e.playAdsAfterTime=sw(e.playAdsAfterTime)),e.blockContentIfAdError=void 0!==(o=e.blockContentIfAdError)&&"boolean"==typeof o&&Boolean(o),e}var bT=function(){function t(t){this.ON=t}return t.prototype.PN=function(t){var n,i,e,r,u,s,o,c=[];if(!t)return"";var a=t.length%4;if(a>0)for(;a++<4;)t+=this.ON.charAt(64);for(n=0;n<t.length;n+=4)i=(o=this.ON.indexOf(t.charAt(n))<<18|this.ON.indexOf(t.charAt(n+1))<<12|(u=this.ON.indexOf(t.charAt(n+2)))<<6|(s=this.ON.indexOf(t.charAt(n+3))))>>>16&255,e=o>>>8&255,r=255&o,c[n/4]=String.fromCharCode(i,e,r),64===s&&(c[n/4]=String.fromCharCode(i,e)),64===u&&(c[n/4]=String.fromCharCode(i));return c.join("")},t.prototype.xN=function(t,n){var i,e,r,u,s,o,c,a=[],f="";if((o=t.length%3)>0)for(;o++<3;)f+=this.ON.charAt(64),t+="\0";for(o=0;o<t.length;o+=3)e=(i=t.charCodeAt(o)<<16|t.charCodeAt(o+1)<<8|t.charCodeAt(o+2))>>18&63,r=i>>12&63,u=i>>6&63,s=63&i,a[o/3]=this.ON.charAt(e)+this.ON.charAt(r)+this.ON.charAt(u)+this.ON.charAt(s);return c=(c=a.join("")).slice(0,c.length-f.length),n||(c+=f),c},t.eb=new t(function(){var t,n,i,e,r=[],u=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<u.length;t+=1)for(n=u[t],i=0;i<n.length;i+=1)e=n.charAt(i),-1===r.indexOf(e)&&r.push(e);return r.join("")}()),t.LN=new t(t.eb.PN("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")),t}();function pT(t){return"string"==typeof t}function _T(t){return"number"==typeof t}var kT={}.toString;var TT,ST=Array.isArray||function(t){return"[object Array]"===kT.call(t)};function ET(t,n){return ST(t)&&t.every(n)}!function(t){t.HTML5="html5",t.ANDROID="android",t.IOS="ios",t.TVOS="tvos",t.ANDROIDTV="androidtv",t.TIZEN="tizen",t.WEBOS="webos",t.CHROMECAST="chromecast",t.ROKU="roku",t.FIRETV="firetv",t.CHROMECASTCAF="chromecastcaf"}(TT||(TT={}));var IT,RT=v.keys(TT).map(function(t){return TT[t]});function DT(t){return-1!==RT.indexOf(t)}function NT(t){try{var n=bT.LN.PN(t),i=JSON.parse(n);if(!function(t){var n=(h=t,"object"==typeof h&&null!==h),i=pT(t.key),e=pT(t.customer_id),r=_T(t.generation_date),u=_T(t.expiration_date),s=ET(t.domains_page,pT),o=ET(t.domains_source,pT),c=ET(t.sdks,DT),a=(f=t.send_impression,"boolean"==typeof f);var f;var h;if(!(n&&i&&e&&r&&u&&s&&o&&c&&a))return!1;return!0}(i))throw new f("The provided license could not be decoded correctly.");return i}catch(t){throw new f("The provided license could not be decoded correctly.")}}function CT(){return IT||(IT={Hh:tt.href,BN:Z.parent&&Z.parent!==i,FN:PT()}),IT}var AT,OT=["http:","https:","ftp:","ws:","wss:"];function PT(){try{return Z.top.location.href}catch(t){return Z&&Z.document&&Z.document.referrer}}!function(t){t[t.MN=0]="MN",t[t.UN=1]="UN",t[t.VN=2]="VN"}(AT||(AT={}));var xT,LT=function(t,n,i,e,r,u,s,o){void 0===r&&(r=""),void 0===u&&(u=Date.now()),void 0===s&&(s=[]),void 0===o&&(o=!0),this.qN=t,this.zN=n,this.HN=i,this.WN=e,this.jN=r,this.$N=u,this.XN=s,this.GN=o};!function(t){t.UN="expired",t.YN="invaliddomain",t.KN="invalidsource",t.Rl="error"}(xT||(xT={}));var BT=function(){function t(t,n,i){this.JN=void 0,this.QN=t,this.ZN=n,this.Ss=i,this.JN=zT(this.Ss)}var n=t.prototype;return n.tC=function(t,n){var i=this;if(!oT(t)&&0!==n.HN.length&&!UT(n.HN)){var e=[];if(Ww(t.sources)?e=[t.sources]:Nt(t.sources)&&(e=t.sources),!e.every(function(t){return i.nC(t,n)})){var r=xT.KN,u=WT.iC(r);throw new tc(FT(r),u)}}},n.eC=function(n){return this.rC(n.XN)&&this.uC(n)?t.sC(n.WN)?AT.MN:AT.UN:AT.VN},n.rC=function(t){var n=this;return 0===t.length||t.some(function(t){return n.oC(t)})},n.oC=function(t){return"tvos"===function(t){switch(t){case TT.ANDROID:return ot.vt;case TT.ANDROIDTV:case TT.FIRETV:return ot.dt;case TT.IOS:return ot.wt;case TT.TVOS:return ot.yt;case TT.CHROMECAST:case TT.CHROMECASTCAF:return ot.bt;default:return ot.ht}}(t)},t.sC=function(t){var n=Number(new Date);return!!t&&n<=t},n.uC=function(t){return!(this.JN&&0!==t.zN.length&&!UT(t.zN))||!!(this.JN&&this.cC(t.zN)&&this.aC(t.zN))},n.cC=function(t){return VT(this.Ss.Hh,t)},n.aC=function(t){if(!this.Ss.BN)return!0;if(this.QN)return!0;var n=this.fC();return!!n&&VT(n,t)},n.fC=function(){if(this.Ss.BN){var t=r.ancestorOrigins;return t&&t.length>0?t[t.length-1]:this.Ss.FN?this.Ss.FN:void 0}},n.nC=function(n,i){return!!t.hC(n,i.HN)},t.hC=function(t,n){return VT(this.vC(t),n)},t.vC=function(t){return Ot(t)?t:Hw(t)&&t.src||""},t}();function FT(t){switch(t){case xT.YN:return n.ErrorCode.LICENSE_INVALID_DOMAIN;case xT.KN:return n.ErrorCode.LICENSE_INVALID_SOURCE;case xT.UN:return n.ErrorCode.LICENSE_EXPIRED;case xT.Rl:return n.ErrorCode.LICENSE_ERROR}}function MT(t,n){var i=t,e=n;if(!i)return!1;if("*"===(e=e.trim()))return!0;if(e===(i=i.replace(/\.+$/,"")))return!0;var r="\\.",u="25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?",s="(\\*|"+u+")",o=new RegExp("ip-range\\("+s+r+s+r+s+r+s+"\\)"),c=e.match(o),a=function(t){return"*"===t?"("+u+")":t};if(null!==c&&5===c.length){var f=new RegExp("^"+c[1]+r+a(c[2])+r+a(c[3])+r+a(c[4])+"$");return null!==i.match(f)}return e="."+e,-1!==i.indexOf(e,i.length-e.length)}function UT(t){return t.some(function(t){return"*"===t})}function VT(t,n){var i=st.Ve(t);if(!qT(i))return!0;for(var e=0;e<n.length;e++){var r=n[e];if(MT(i.hostname,r))return!0;if(MT(ud(t),r))return!0}return!1}function qT(t){return-1!==OT.indexOf(t.protocol)}function zT(t){var n=st.Ve(t.Hh);return qT(n)&&!MT(n.hostname,"localhost")&&!function(t){return MT(t.hostname,"theoplayer.doubleclick.net")}(n)}var HT,WT=function(){function t(){}return t.iC=function(t){return t===xT.YN?this.dC:t===xT.KN?this.lC:t===xT.UN?this.wC:this.gC},t}();function jT(t){var n=[t.fk,t.yC,t.mC];switch(t.yC){case HT.bC:n.push(t.Ml);break;case HT.pC:n.push(t.yw),n.push(t.cu);break;case HT._C:n.push(t.cu)}return n}WT.gC="The license for this player is invalid.",WT.wC="The usage license for this video player has expired.",WT.dC="The current domain is incompatible with the license for this player.",WT.lC="The provided video source is incompatible with the license for this player.",function(t){t[t.bC=1]="bC",t[t.pC=4]="pC",t[t._C=5]="_C"}(HT||(HT={}));for(var $T=new Array(256),XT=0;XT<256;XT+=1)$T[XT]=(XT<16?"0":"")+XT.toString(16);function GT(){var t=tn(),n=(4294967296*d.random()|0)+t&3029421624,i=(4294967296*d.random()|0)+t&3595553209,e=(4294967296*d.random()|0)+t&1130486254,r=(4294967296*d.random()|0)+t&1284287105;return $T[255&n]+$T[n>>>8&255]+$T[n>>>16&255]+$T[n>>>24&255]+"-"+$T[255&i]+$T[i>>>8&255]+"-"+$T[i>>>16&15|64]+$T[i>>>24&255]+"-"+$T[63&e|128]+$T[e>>>8&255]+"-"+$T[e>>>16&255]+$T[e>>>24&255]+$T[255&r]+$T[r>>>8&255]+$T[r>>>16&255]+$T[r>>>24&255]}var YT=function(){function t(t){this.ON=void 0,this.ON=t}var n=t.prototype;return n.PN=function(t){var n,i,e,r,u,s,o,c=[];if(!t)return"";for(n=0;n<t.length;n+=4)i=(o=this.ON.indexOf(t.charAt(n))<<18|this.ON.indexOf(t.charAt(n+1))<<12|(u=this.ON.indexOf(t.charAt(n+2)))<<6|(s=this.ON.indexOf(t.charAt(n+3))))>>>16&255,e=o>>>8&255,r=255&o,c[n/4]=String.fromCharCode(i,e,r),64===s&&(c[n/4]=String.fromCharCode(i,e)),64===u&&(c[n/4]=String.fromCharCode(i));return c.join("")},n.xN=function(t){var n,i,e,r,u,s,o,c=[],a="";if((s=t.length%3)>0)for(;s++<3;)a+=this.ON.charAt(64),t+="\0";for(s=0;s<t.length;s+=3)i=(n=t.charCodeAt(s)<<16|t.charCodeAt(s+1)<<8|t.charCodeAt(s+2))>>18&63,e=n>>12&63,r=n>>6&63,u=63&n,c[s/3]=this.ON.charAt(i)+this.ON.charAt(e)+this.ON.charAt(r)+this.ON.charAt(u);return(o=c.join("")).slice(0,o.length-a.length)+a},t}();function KT(){return st.be()}YT.eb=new YT(function(){var t,n,i,e,r=[],u=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<u.length;t+=1)for(n=u[t],i=0;i<n.length;i+=1)e=n.charAt(i),-1===r.indexOf(e)&&r.push(e);return r.join("")}()),YT.LN=new YT(YT.eb.PN("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop"));var JT,QT="theoplayer-session-id";function ZT(){if(!JT){var t=gc.gu(QT);t?JT=t:(JT=GT(),gc.oa(QT,JT))}return JT}var tS=/[^\x00-\x7E]/g;function nS(t){return"\\u"+function(t,n,i){void 0===i&&(i=" ");var e=i,r=(0|n)-t.length;return r<=0?t:(r>e.length&&(e+=function(t,n){var i=0|n;if(0===t.length||0===i)return"";for(var e=t,r="";1==(1&i)&&(r+=e),0!=(i>>>=1);)e+=e;return r}(e,r/e.length)),e.slice(0,r)+t)}(t.charCodeAt(0).toString(16),4,"0")}var iS=0,eS=1,rS=6e4;function uS(t){var n,i,e,r,u,s=(n=function(t){return[t.kC,t.ac,t.qN,t.Sp,t.TC,t.SC,t.EC.map(jT)]}(t),i=[],e=n,r=function(t,n){if(Ct(n)){if(-1!==i.indexOf(n))return null;i.push(n)}return n},JSON.stringify(e,r,u).replace(tS,nS));return YT.LN.xN(s)}var sS=function(){function t(t,n,i,e,r,u){var s=this;void 0===e&&(e=YT.eb),void 0===r&&(r=iS),void 0===u&&(u=eS),this.IC=[],this.RC=null,this.DC=0,this.NC="unknown",this.io=0,this.CC=function(){KT()-s.DC>rS&&s.H()},this.AC=function(){s.H(!0)},this.Ro=t,this.aT=n,this.OC=i,this.xC=e,this.LC=r,this.BC=u,Q.ct(this.AC),c(this.CC,rS)}var n=t.prototype;return n.FC=function(){return Boolean(this.TC)},n.MC=function(t){var n;return ze.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,ze.awrap(this.OC.UC());case 2:if(i.sent.GN){i.next=5;break}return i.abrupt("return");case 5:return n={yC:HT.bC,mC:tn(),Ml:t},i.next=8,ze.awrap(this.VC(n));case 8:case"end":return i.stop()}},null,this,null,j)},n.qC=function(t,n){var i;return ze.async(function(e){for(;;)switch(e.prev=e.next){case 0:return i={yC:HT.pC,mC:tn(),yw:n,cu:t},e.next=3,ze.awrap(this.VC(i));case 3:case"end":return e.stop()}},null,this,null,j)},n.zC=function(t){var n;return ze.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n={yC:HT._C,mC:tn(),cu:t},i.next=3,ze.awrap(this.VC(n));case 3:case"end":return i.stop()}},null,this,null,j)},n.VC=function(t){var n;return ze.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,ze.awrap(this.OC.UC());case 2:if(n=i.sent,"a:n[_O*[C4C-N$_@_MYY $D]iOp]N$_-_]th_:c|aen?C:pH"!==this.xC.xN(n.qN)){i.next=6;break}if(t.yC===HT._C){i.next=6;break}return i.abrupt("return");case 6:if(t.yC===HT.bC?this.HC():this.FC()||this.HC(),t.fk=this.io++,this.IC.push(t),(e=t.yC)!==HT.bC&&e!==HT._C){i.next=14;break}return i.next=12,ze.awrap(this.H());case 12:i.next=19;break;case 14:if(!(this.IC.length>this.LC)){i.next=19;break}return i.next=17,ze.awrap(this.WC());case 17:i.next=19;break;case 19:case"end":return i.stop()}var e},null,this,null,j)},n.H=function(t){return ze.async(function(n){for(;;)switch(n.prev=n.next){case 0:void 0===t&&(t=!1);case 1:if(!(this.IC.length>0)){n.next=6;break}return n.next=4,ze.awrap(this.WC(t));case 4:n.next=1;break;case 6:case"end":return n.stop()}},null,this,null,j)},n.jC=function(t){var n;return ze.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,ze.awrap(this.OC.UC());case 2:return n=i.sent,i.abrupt("return",{kC:tn(),ac:ZT(),qN:this.xC.xN(n.qN)||"dev",Sp:this.Ro,TC:this.RC,SC:this.NC,EC:t});case 4:case"end":return i.stop()}},null,this,null,j)},n.WC=function(t){var n,i;return ze.async(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t=!1),n=this.IC.splice(0,this.BC),e.next=4,ze.awrap(this.jC(n));case 4:i=e.sent,t?this.dv(i):this.$C(i),this.DC=KT();case 7:case"end":return e.stop()}},null,this,null,j)},n.$C=function(t){var n,i,e;return ze.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=uS(t),i=new Jv({Hh:"https://license.theoplayer.com",Eh:n,hv:!1,Mh:_c.ei,Fh:{"Content-Type":Gp.VS},cv:4e3,ov:$v.POST}),r.prev=2,r.next=5,ze.awrap(this.aT.qh(i));case 5:return e=r.sent,r.next=8,ze.awrap(e.kh());case 8:r.next=13;break;case 10:r.prev=10,r.t0=r.catch(2),(new Image).src="https://licensing.theoplayer.com/t?"+n;case 13:case"end":return r.stop()}},null,this,[[2,10]],j)},n.dv=function(t){var n=uS(t);this.aT.dv({Hh:"https://license.theoplayer.com",Eh:n,Sh:Gp.VS})},n.HC=function(){this.FC()&&this.H(),this.RC=GT(),this.io=0},n.et=function(){Q.at(this.AC),this.H()},ft(t,[{key:"EC",get:function(){return this.IC}},{key:"TC",get:function(){return this.RC}}]),t}();var oS=St.Pn||St.pn&&St.Un<13;function cS(t,n,i){var e=t.getImageData(n,i,1,1).data;return 0===e[0]&&0===e[1]&&0===e[2]&&0===e[3]}var aS=function(){function t(t){this.$I=void 0,this.Cd=void 0,this.XC=void 0,this.$I=t}var n=t.prototype;return n.GC=function(t){if(!t||!t.drawImage)return!1;var n=this.$I.sg();if(!n)return!1;for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return t.drawImage.apply(t,[n].concat(e)),!0},n.YC=function(t,n,i,r,u,s){if(!t||!t.texImage2D)return!1;var o=this.$I,c=o.sg();if(!c)return!1;if(oS){this.XC||(this.XC=e.createElement("canvas"));var a=this.XC,h=a.getContext("2d"),v=o.Iw,d=o.Ew,l=a.width,w=a.height;h.clearRect(0,0,a.width,a.height),l===v&&w===d||(a.width=v,a.height=d),h.drawImage(c,0,0,v,d);var g=!1;v>0&&cS(h,v-1,0)&&(a.width=l,g=!0),d>0&&cS(h,0,d-1)&&(a.height=w,g=!0),g&&h.drawImage(c,0,0,v,d),c=a}try{t.texImage2D(n,i,r,u,s,c)}catch(t){throw new f("Error trying to render video content to the WebGLRenderingContext. This is most likely due to CORS restrictions. https://support.theoplayer.com/hc/en-us/articles/115003094385#Considerations")}return!0},ft(t,[{key:"Ad",get:function(){return this.Cd||(this.Cd=(t=this,{drawImage:function(n){for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return t.GC.apply(t,[n].concat(e))},texImage2D:function(n,i,e,r,u,s){return t.YC(n,i,e,r,u,s)}}));var t}}]),t}(),fS=function(t){function n(n,i){var e;return(e=t.call(this,"KC")||this).by=n,e.i_=i,e}return vt(n,t),n.prototype.Od=function(){return new hS(this.by,this.i_)},n}(Vl),hS=function(t){function n(n,i){var e;return(e=t.call(this,"dimensionchange")||this).width=n,e.height=i,e}return vt(n,t),n}(Zr),vS=function(t,n){this.gg=void 0,this.JC=void 0,this.gg=t,this.JC=n},dS=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).QC=void 0,e.ZC=0,e.tA=0,e.nA=function(t){if(t.length>0){var n=t[t.length-1].contentRect;e.tA=n.width,e.ZC=n.height,e.JC(e.tA,e.ZC)}},e.QC=new Z.ResizeObserver(e.nA),e.QC.observe(e.gg),e}return vt(n,t),n.prototype.et=function(){this.QC.disconnect()},ft(n,[{key:"iA",get:function(){return this.ZC}},{key:"eA",get:function(){return this.tA}}]),n}(vS),lS=0;var wS,gS=o,yS=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,mS=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelRequestAnimationFrame;function bS(){return wS||(wS=Z&&Z.document&&Z.document.createElement("span")),wS}yS&&mS||(yS=function(t){var n=KT(),i=d.max(0,16-(n-lS)),e=s(function(){return t(n+i)},i);return lS=n+i,e},mS=gS),yS=yS.bind(t),mS=mS.bind(t);var pS=["Webkit","Moz","O","ms"],_S=(function(){var t=!1;try{if(void 0!==Z&&"function"==typeof Z.addEventListener){var n=v.defineProperty({},"passive",{get:function(){t=!0}});Z.addEventListener("testPassiveEventSupport",Bt,n),Z.removeEventListener("testPassiveEventSupport",Bt,n)}}catch(t){}}(),je());function kS(t){return _S.has(t)||_S.set(t,function(t){var n=bS();if(!n||!n.style)return t;if(void 0!==n.style[t])return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),e=0;e<pS.length;e++){var r=pS[e],u=r+i;if(void 0!==n.style[u])return u}return t}(t)),_S.get(t)}function TS(t){var n=t.style;n.position="absolute",n.left=n.right=n.bottom=n.top="0",n.overflow="scroll",n.zIndex="-1",n.visibility="hidden"}function SS(t){var n=t.style;n.position="absolute",n.left=n.top="0",n[kS("transition")]="0s"}var ES=function(t){function n(n,r,u){var o;(o=t.call(this,n,r)||this).rA=void 0,o.uA=0,o.tA=NaN,o.ZC=NaN,o.sA=void 0,o.oA=void 0,o.cA=void 0,o.aA=void 0,o.fA=void 0,o.cl=function(){o.oA.style.width=1e5+"px",o.oA.style.height=1e5+"px",o.sA.scrollLeft=1e5,o.sA.scrollTop=1e5,o.cA.scrollLeft=1e5,o.cA.scrollTop=1e5,0===o.cA.scrollTop&&yS(o.cl)},o.hA=function(){var t=o.eA,n=o.iA;o.JC(t,n),o.tA=t,o.ZC=n,o.cl(),o.uA=0},o.vA=function(){if(!o.uA){var t=o.eA,n=o.iA;t===o.tA&&n===o.ZC||(o.uA=yS(o.hA))}},o.dA=function(){o.fA||(o.fA=s(o.lA,66))},o.lA=function(){o.fA=void 0,o.wA()},o.wA=function(){o.vA()};var c=function(t,n){return i.getComputedStyle(t,void 0).getPropertyValue(n)||t.style[n]}(n,"position");u||"static"!==c||(n.style.position="relative");var a,f=e.createElement("div");return o.rA=f,o.sA=e.createElement("div"),o.oA=e.createElement("div"),o.cA=e.createElement("div"),o.aA=e.createElement("div"),TS(o.sA),TS(o.cA),SS(o.oA),SS(a=o.aA),a.style.width="200%",a.style.height="200%",f.appendChild(o.sA),f.appendChild(o.cA),o.sA.appendChild(o.oA),o.cA.appendChild(o.aA),n.appendChild(f),o.sA.addEventListener("scroll",o.vA),o.cA.addEventListener("scroll",o.vA),i&&i.addEventListener("resize",o.dA),o.vA(),o}return vt(n,t),n.prototype.et=function(){mS(this.uA),this.uA=0,this.sA.removeEventListener("scroll",this.vA),this.cA.removeEventListener("scroll",this.vA),pe(this.rA),i&&i.removeEventListener("resize",this.dA)},ft(n,[{key:"iA",get:function(){return this.gg.getBoundingClientRect().height||this.ZC||0}},{key:"eA",get:function(){return this.gg.getBoundingClientRect().width||this.tA||0}}]),n}(vS),IS=function(t){function n(n){var i;return(i=t.call(this)||this).gg=void 0,i.QC=void 0,i.nA=function(t,n){i.Xr(new fS(t,n))},i.gg=n,i}vt(n,t);var i=n.prototype;return i.wc=function(t){this.QC||("function"==typeof Z.ResizeObserver?this.QC=new dS(this.gg,this.nA):this.QC=new ES(this.gg,this.nA,t))},i.et=function(){this.Jr(),this.QC&&(this.QC.et(),this.QC=void 0)},ft(n,[{key:"iA",get:function(){return this.QC?this.QC.iA:0}},{key:"eA",get:function(){return this.QC?this.QC.eA:0}}]),n}(Jr),RS=function(t){function n(){return t.call(this,ok.Wd)||this}return vt(n,t),n}(Zr);!function(){if(e)for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0;n<t.length;n++){var i=t[n];if(i[1]in e)return{gA:i[0],yA:i[1],mA:i[2],bA:i[3],pA:i[4],_A:i[5]}}}();var DS=function(t){function n(){return t.call(this,ok.KR)||this}return vt(n,t),n}(Zr),NS=function(t){function n(n,i){var e;return(e=t.call(this)||this).$I=void 0,e.kA=void 0,e.TA=void 0,e.SA=!1,e.EA=function(){return e.rc()},e.RD=function(t){e.SA||e.Xr(t)},e.$I=n,e.kA=i,e.TA=vk,e.IA(),e.$I.Gr(pc.pa,e.EA),e.rc(),e}vt(n,t);var i=n.prototype;return i.Wg=function(){this.kA&&this.TA.Wg()},i.$g=function(){this.TA.$g()},i.IA=function(){this.TA.Gr(ok.Wd,this.RD),this.TA.Gr(ok.Rl,this.$r)},i.RA=function(){this.TA.Qr(ok.Wd,this.RD),this.TA.Qr(ok.Rl,this.$r)},i.rc=function(){var t=this.TA,n=this.$I.og();if(t!==n){this.SA=!0;var i=this.JR,e=this.QR;i&&this.$g(),this.RA(),this.TA=n,this.IA(),i&&!this.JR&&this.QR?this.Wg():this.$g(),this.SA=!1,e!==this.QR&&this.Xr(new DS),i!==this.JR&&this.Xr(new RS)}},i.et=function(){this.Jr(),this.RA(),this.$I.Qr(pc.pa,this.EA)},ft(n,[{key:"QR",get:function(){return!!this.kA&&this.TA.QR}},{key:"JR",get:function(){return this.TA.JR}}]),n}(Jr);function CS(t){var n;return{get url(){return t.Hh},get method(){return t.ov},get headers(){return n||(n=t.Fh.Ya()),n},get body(){return t.Eh},get useCredentials(){return t.hv},get type(){return LS(t.dr)},get subType(){return FS(t.av)},get mediaType(){return US(t.fv)},get responseType(){return OS(t.Mh)}}}function AS(t){switch(t.toLowerCase()){case"arraybuffer":return _c.$a;case"json":return _c.Xa;case"stream":return _c.Ga;case"text":default:return _c.ei}}function OS(t){return t}function PS(t){switch(t.toUpperCase()){case"POST":return $v.POST;case"PUT":return $v.PUT;case"DELETE":return $v.DELETE;case"HEAD":return $v.HEAD;case"OPTIONS":return $v.OPTIONS;case"GET":default:return $v.GET}}function xS(t){switch(t.toLowerCase()){case"manifest":return Xv.$h;case"segment":return Xv.Xh;case"content-protection":return Xv.Gh;default:return Xv.jh}}function LS(t){return t}function BS(t){switch(t.toLowerCase()){case"initialization-segment":return Gv.Yh;case"fairplay-license":return Gv.Kh;case"fairplay-certificate":return Gv.Jh;case"widevine-license":return Gv.Qh;case"widevine-certificate":return Gv.Zh;case"playready-license":return Gv.tv;case"clearkey-license":return Gv.nv;case"aes128-key":return Gv.ev;default:return Gv.jh}}function FS(t){return t}function MS(t){switch(t.toLowerCase()){case"audio":return Yv.rv;case"video":return Yv.uv;case"text":return Yv.ei;case"image":return Yv.sv;case"":default:return Yv.jh}}function US(t){return t}var VS=function(){function t(t,n){this.DA=new cs,this.NA=[],this.Cd=void 0,this.CA=!1,this.Ev=void 0,this.AA=0,this.OA=t,this.PA=n}var n=t.prototype;return n.dp=function(){this.CA=!0,this.DA.Ou(null)},n.xA=function(){this.DA.Pu(new Ev(this.NA))},n.LA=function(t){if(!this.BA)throw new h("Cannot respond more than once");if(!Ct(t))throw new h("Expected valid response");this.Ev=this.FA(t),this.dp()},n.MA=function(){try{var t=this.PA(this.Ad);t?this.UA(t):this.VA||this.qA||this.dp()}catch(t){this.NA.push(t),this.xA()}},n.UA=function(t){if(this.qA)throw new f("Request has been redirected or a response already exists");if(xt(t))this.zA(t);else{if("function"!=typeof t)throw new h("Expected promise or function");var n=new cs;try{var i=t(function(t){t?n.Pu(t):n.Ou(void 0)});xt(i)&&n.Ou(i)}catch(t){n.Pu(t)}this.zA(n.Nu)}},n.zA=function(t){return ze.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,this.AA++,n.next=4,ze.awrap(t);case 4:this.AA--,this.VA||this.qA||(this.NA.length?this.xA():this.dp()),n.next=13;break;case 8:n.prev=8,n.t0=n.catch(0),this.AA--,this.NA.push(n.t0),this.VA||this.qA||this.xA();case 13:case"end":return n.stop()}},null,this,[[0,8]],j)},ft(t,[{key:"HA",get:function(){return this.DA.Nu}},{key:"Ad",get:function(){return this.Cd||(this.Cd=this.WA()),this.Cd}},{key:"qA",get:function(){return this.CA}},{key:"BA",get:function(){return!this.CA}},{key:"VA",get:function(){return this.AA>0}},{key:"Iv",get:function(){return this.Ev}}]),t}(),qS=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).jA=void 0,r.jA=e,r.MA(),r}vt(n,t),n.$A=function(t,n,i){var e=void 0===t.body?i:t.body;return new Kv({Oi:e,qh:n.qh,Mh:n.qh.Mh,Fh:t.headers,Bh:t.status,Uh:t.statusText,zh:t.url,Vh:!0},n)};var i=n.prototype;return i.WA=function(){return i=CS((t=this).qh),{get closed(){return!t.BA},get request(){return i},get url(){return t.Hh},get status(){return t.Bh},get statusText(){return t.Uh},get headers(){return n||(n=t.Fh.Ya()),n},get body(){return t.Eh},respondWith:function(n){return t.LA(n)},waitUntil:function(n){return t.UA(n)}};var t,n,i},i.FA=function(t){return n.$A(t,this.OA,this.jA)},ft(n,[{key:"Eh",get:function(){return this.jA}},{key:"Fh",get:function(){return this.OA.Fh}},{key:"qh",get:function(){return this.OA.qh}},{key:"Iv",get:function(){return this.Ev}},{key:"Bh",get:function(){return this.OA.Bh}},{key:"Uh",get:function(){return this.OA.Uh}},{key:"Hh",get:function(){return this.OA.zh}}]),n}(VS),zS=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).XA=void 0,r.GA=void 0,r.GA=e,r.MA(),r}vt(n,t);var i=n.prototype;return i.WA=function(){return t=this,{get url(){return t.Hh},get method(){return t.ov},get headers(){return n||(n=t.Fh.Ya()),n},get body(){return t.Eh},get closed(){return!t.BA},get useCredentials(){return t.hv},get type(){return LS(t.dr)},get subType(){return FS(t.av)},get mediaType(){return US(t.fv)},get responseType(){return OS(t.Mh)},redirect:function(n){return t.YA(n)},respondWith:function(n){return t.LA(n)},waitUntil:function(n){return t.UA(n)}};var t,n},i.FA=function(t){var n=this.OA.Eh,i=new Kv({Oi:n,Fh:{},qh:this.OA,zh:this.OA.Hh,Mh:this.OA.Mh,Bh:200,Uh:"OK"});return qS.$A(t,i,n)},i.YA=function(t){if(!this.BA)throw new h("Cannot redirect, already redirected or has a response");var n;n=Ot(t)?{url:t}:t,this.XA=function(t,n){return new Jv({Hh:void 0===t.url?n.Hh:t.url,ov:void 0!==t.method?PS(t.method):void 0,Fh:t.headers,Eh:t.body,hv:t.useCredentials,dr:void 0!==t.type?xS(t.type):void 0,av:void 0!==t.subType?BS(t.subType):void 0,fv:void 0!==t.mediaType?MS(t.mediaType):void 0,Mh:void 0!==t.responseType?AS(t.responseType):void 0},n)}(n,this.OA),this.dp()},ft(n,[{key:"Eh",get:function(){return this.OA.Eh}},{key:"BA",get:function(){return this.GA&&!this.CA}},{key:"Fh",get:function(){return this.OA.Fh}},{key:"ov",get:function(){return this.OA.ov}},{key:"KA",get:function(){return this.XA}},{key:"Iv",get:function(){return this.Ev}},{key:"Mh",get:function(){return this.OA.Mh}},{key:"cv",get:function(){return this.OA.cv}},{key:"zr",get:function(){return this.OA.zr}},{key:"dr",get:function(){return this.OA.dr}},{key:"av",get:function(){return this.OA.av}},{key:"fv",get:function(){return this.OA.fv}},{key:"Hh",get:function(){return this.OA.Hh}},{key:"hv",get:function(){return this.OA.hv}},{key:"vv",get:function(){return this.OA.vv}}]),n}(VS);var HS,WS=function(t){function n(n,i){var e;void 0===i&&(i=!0);var r=new jS(n);return(e=t.call(this,r,i)||this).JA=void 0,e.JA=r,e}vt(n,t);var i=n.prototype;return i.QA=function(t){this.JA.QA(t)},i.ZA=function(t){this.JA.ZA(t)},i.tO=function(t){this.JA.tO(t)},i.nO=function(t){this.JA.nO(t)},i.iO=function(t){this.JA.iO(t)},n}(Zv),jS=function(){function t(t){this.lv=void 0,this.eO=[],this.rO=[],this.lv=t}var n=t.prototype;return n.qh=function(t){var n;return ze.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,ze.awrap(this.uO(t,t.zr));case 3:n=i.sent,i.next=13;break;case 6:if(i.prev=6,i.t0=i.catch(0),!(i.t0 instanceof sd)){i.next=12;break}return i.next=11,ze.awrap(this.sO(i.t0,t.zr));case 11:return i.abrupt("return",i.sent);case 12:throw i.t0;case 13:return i.next=15,ze.awrap(this.oO(n,t.zr));case 15:if(!jv(n=i.sent)){i.next=20;break}return i.abrupt("return",n);case 20:throw new cd(n);case 21:case"end":return i.stop()}},null,this,[[0,6]],j)},n.dv=function(t){return this.lv.dv(t)},n.uO=function(t,n){var i,e,r,u,s,o;return ze.async(function(c){for(;;)switch(c.prev=c.next){case 0:Ur(n),i=t,r=0,u=this.eO.slice();case 3:if(!(r<u.length)){c.next=21;break}if(s=u[r],Ur(n),(o=new zS(i,s,!e)).qA){c.next=17;break}return c.prev=8,c.next=11,ze.awrap(o.HA);case 11:c.next=17;break;case 13:return c.prev=13,c.t0=c.catch(8),c.abrupt("continue",18);case 17:o.KA&&!e?i=o.KA:o.Iv&&!e&&(e=o.Iv);case 18:r++,c.next=3;break;case 21:if(!e){c.next=23;break}return c.abrupt("return",e);case 23:return c.abrupt("return",this.lv.qh(i));case 24:case"end":return c.stop()}},null,this,[[8,13]],j)},n.sO=function(t,n){var i,e;return ze.async(function(r){for(;;)switch(r.prev=r.next){case 0:return i=t instanceof cd?t.Iv:new Kv({Oi:null,qh:t.qh,Bh:0,Uh:""}),r.next=3,ze.awrap(this.oO(i,n));case 3:if((e=r.sent)!==i){r.next=8;break}throw t;case 8:if(!jv(e)){r.next=12;break}return r.abrupt("return",e);case 12:throw new cd(e);case 13:case"end":return r.stop()}},null,this,null,j)},n.oO=function(t,n){var i,e,r,u,s,o;return ze.async(function(c){for(;;)switch(c.prev=c.next){case 0:i=t,e=0,r=this.rO.slice();case 2:if(!(e<r.length)){c.next=23;break}return u=r[e],Ur(n),c.next=7,ze.awrap(j.resolve(i.Su().Oi(n)));case 7:if(s=c.sent,(o=new qS(i,u,s)).qA){c.next=19;break}return c.prev=10,c.next=13,ze.awrap(o.HA);case 13:c.next=19;break;case 15:return c.prev=15,c.t0=c.catch(10),c.abrupt("continue",20);case 19:i=o.Iv||i;case 20:e++,c.next=2;break;case 23:return c.abrupt("return",i);case 24:case"end":return c.stop()}},null,this,[[10,15]],j)},n.QA=function(t){this.eO.unshift(t)},n.ZA=function(t){this.eO.push(t)},n.tO=function(t){Ar(this.eO,t)},n.nO=function(t){this.rO.unshift(t)},n.iO=function(t){Ar(this.rO,t)},n.et=function(){this.lv.et(),xr(this.eO),xr(this.rO)},t}(),$S=function(t){function n(n,i,e){var r;return(r=t.call(this,i)||this).Cd=void 0,r.cO=function(t){r.Xr(t)},r.aO=function(t){r.Xr(t)},r.fO=n,r.aT=i,r.cD=e,r.fO.Gr(pc.Ia,r.cO),r.fO.Gr(pc.Ea,r.aO),r}vt(n,t);var i=n.prototype;return i.hO=function(t){this.cD.hO(t)},i.QA=function(t){this.aT.QA(t)},i.tO=function(t){this.aT.tO(t)},i.nO=function(t){this.aT.nO(t)},i.iO=function(t){this.aT.iO(t)},i.et=function(){this.Jr(),this.fO.Qr(pc.Ia,this.cO),this.fO.Qr(pc.Ea,this.aO)},ft(n,[{key:"Ad",get:function(){var t;return this.Cd||(this.Cd=(t=this,{get online(){return t.Sg},get estimator(){return n=t.vO,{get bandwidth(){return n._E},get roundTripTime(){return n.kE}};var n},setEstimator:function(n){t.hO(function(t){if(t)return{get _E(){return ow(t.bandwidth)},get kE(){return ow(t.roundTripTime)},pE:function(n){return function(t){if(t)return{dO:function(n){t.markRequestStart(n)},lO:function(n){t.markResponseStart(n)},wO:function(n,i){t.markResponseData(n,i)},gO:function(n){t.markResponseEnd(n)}}}(t.createMeasurer(CS(n)))}}}(n))},addRequestInterceptor:function(n){t.QA(n)},removeRequestInterceptor:function(n){t.tO(n)},addResponseInterceptor:function(n){t.nO(n)},removeResponseInterceptor:function(n){t.iO(n)},addEventListener:function(n,i){t.Gr(n,i)},removeEventListener:function(n,i){t.Qr(n,i)}})),this.Cd}},{key:"Sg",get:function(){return this.fO.Sg}},{key:"vO",get:function(){return this.cD.vO}}]),n}(Jr);!function(t){t.PERFORMANCE="performance",t.QUALITY="quality",t.BANDWIDTH="bandwidth"}(HS||(HS={}));var XS=30,GS={type:HS.BANDWIDTH},YS=20,KS=60;function JS(t){var n,i,e,r=nw(GS);return Ot(t)?r.type=QS(t):Ct(t)&&function(t){switch(t){case HS.PERFORMANCE:case HS.QUALITY:case HS.BANDWIDTH:return!0;default:return!1}}(t.type)&&(r.type=QS(t.type)),Ct(t)&&Ct(t.metadata)&&(r.metadata=(n=t.metadata,i={},e=sw(n.bitrate),g(e)||(i.bitrate=e),i)),r}function QS(t){switch(t){case"bandwidth":return HS.BANDWIDTH;case"performance":return HS.PERFORMANCE;case"quality":return HS.QUALITY}}var ZS=function(t){function n(n){var i;return(i=t.call(this,"mO")||this).yO=n,i}return vt(n,t),n}(Zr),tE=function(t){function n(n){var i;return(i=t.call(this,"pO")||this).bO=n,i}return vt(n,t),n}(Zr),nE=function(t){function n(n){var i;return(i=t.call(this,"kO")||this)._O=n,i}return vt(n,t),n}(Zr),iE=function(t){function n(){for(var n,i,e=arguments.length,r=new Array(e),u=0;u<e;u++)r[u]=arguments[u];return(n=t.call.apply(t,[this].concat(r))||this).Cd=(i=un(n),{get strategy(){return{metadata:(t=i.bO).metadata,type:(n=t.type,n)};var t,n},set strategy(t){i.bO=JS(t)},get targetBuffer(){return i.yO},set targetBuffer(t){var n=sw(t);g(n)||(i.yO=n>KS?KS:n)},get bufferLookbackWindow(){return i._O},set bufferLookbackWindow(t){var n=sw(t);g(n)||(i._O=n<=0?XS:n)}}),n.TO=GS,n.SO=YS,n.EO=XS,n.IO=void 0,n.RO=void 0,n}vt(n,t);var i=n.prototype;return i.DO=function(t){this.RO=t},i.hO=function(t){this.IO=t},ft(n,[{key:"CO",get:function(){switch(this.TO.type){case HS.PERFORMANCE:return 0;case HS.QUALITY:return 1/0;case HS.BANDWIDTH:return this.TO.metadata&&void 0!==this.TO.metadata.bitrate?this.TO.metadata.bitrate:8*Cw.Kl();default:return 8*Cw.Kl()}}},{key:"Ad",get:function(){return this.Cd}},{key:"bO",get:function(){return this.TO},set:function(t){this.TO=t,this.Xr(new tE(t))}},{key:"yO",get:function(){return this.SO},set:function(t){this.SO=t,this.Xr(new ZS(t))}},{key:"_O",get:function(){return this.EO},set:function(t){this.EO=t,this.Xr(new nE(t))}},{key:"vO",get:function(){var t;return null!=(t=this.IO)?t:this.RO.AI}}]),n}(Jr),eE=function(t){function n(){return t.call(this,"jd")||this}return vt(n,t),n.prototype.Od=function(){return new rE},n}(Vl),rE=function(t){function n(){return t.call(this,"change")||this}return vt(n,t),n}(Zr),uE=function(t){function n(n,i){var e;return(e=t.call(this,i)||this).AO=void 0,e.OO=function(t){var n;n=t,Boolean(n&&n.Ad)&&jr(function(){e.Xr(t.Ad)})},e.AO=n,e.AO.Kr(e.OO),e}return vt(n,t),n.prototype.et=function(){this.Jr(),this.AO.nu(this.OO)},n}(Iw),sE=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n}(uE);var oE=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Jg=0,n.Qg=1/0,n.Cd=void 0,n}vt(n,t);var i=n.prototype;return i.cl=function(){0===this.Jg&&this.Qg===1/0||(this.Jg=0,this.Qg=1/0,this.Xr(new eE))},i.PO=function(){return new ak([this.Gg,this.Yg],[!0,!0])},ft(n,[{key:"Gg",get:function(){return this.Jg},set:function(t){if(this.Yg<=t)throw new f("Start time of a clip should be smaller than the end time.");this.Jg!==t&&(this.Jg=t,this.Xr(new eE))}},{key:"Yg",get:function(){return this.Qg},set:function(t){if(t<=this.Gg)throw new f("End time of a clip should be larger than the start time.");this.Qg!==t&&(this.Qg=t,this.Xr(new eE))}},{key:"Ad",get:function(){var t,n,i;return this.Cd||(this.Cd=(i={get startTime(){return t.Gg},set startTime(n){t.Gg=n},get endTime(){return t.Yg},set endTime(n){t.Yg=n},addEventListener:function(t,i){n.Gr(t,i)},removeEventListener:function(t,i){n.Qr(t,i)}},n=new uE(t=this,i),i)),this.Cd}}]),n}(Iw),cE=function(t){function n(n){var i;return(i=t.call(this)||this).xO=function(t){i.LO(t)||i.Xr(t)},i.BO=n,i.BO.Kr(i.xO),i}vt(n,t);var i=n.prototype;return i.FO=function(){return this.BO.$w},i.cg=function(){return this.BO.cg()},i.MO=function(){return this.BO.lg},i.UO=function(){return this.BO.vg},i.VO=function(){return this.BO.wg},i.qO=function(t){this.BO.wg=t},i.zO=function(){return this.BO.yw},i.HO=function(t){this.BO.yw=t},i.WO=function(){return this.BO.mw},i.jO=function(){return this.BO.gg},i.$O=function(){return this.BO.bw},i.XO=function(){return this.BO.cu},i.GO=function(){return this.BO.pw},i.YO=function(){return this.BO.yg},i.KO=function(){return this.BO._w},i.JO=function(t){this.BO._w=t},i.QO=function(){return this.BO.Sg},i.ZO=function(){return this.BO.kw},i.tP=function(){return this.BO.Tw},i.nP=function(t){this.BO.Tw=t},i.iP=function(){return this.BO.Eg},i.eP=function(){return this.BO.Ig},i.rP=function(t){this.BO.Ig=t},i.uP=function(){return this.BO.Ll},i.sP=function(){return this.BO.Rg},i.oP=function(){return this.BO.Sw},i.Jw=function(){return this.BO.Jw()},i.Qw=function(t,n){return ze.async(function(i){for(;;)switch(i.prev=i.next){case 0:return Ur(n),i.next=3,ze.awrap(this.BO.Qw(t,n));case 3:case"end":return i.stop()}},null,this,null,j)},i.cP=function(){return this.BO.Gw},i.aP=function(){return this.BO.Ew},i.fP=function(){return this.BO.Xw},i.hP=function(){return this.BO.Iw},i.vP=function(){return this.BO.Rw},i.dP=function(t){this.BO.Rw=t},i.og=function(){return this.BO.og()},i.sg=function(){return this.BO.sg()},i.ig=function(t){this.BO.ig(t)},i.eg=function(){this.BO.eg()},i.ug=function(){this.BO.ug()},i.st=function(){this.BO.st()},i.K=function(){this.BO.K()},i.Y=function(){this.BO.Y()},i.rg=function(){this.BO.rg()},i.Kw=function(){return this.BO.Kw()},i.Zw=function(){return this.BO.Zw()},i.tg=function(){this.BO.tg()},i.ng=function(){this.BO.ng()},i.cl=function(){return this.BO.cl()},i.et=function(){return this.BO.et()},i.dg=function(){this.BO.dg()},i.ag=function(t){return this.BO.ag(t)},i.LO=function(t){return!1},ft(n,[{key:"$w",get:function(){return this.FO()}},{key:"lg",get:function(){return this.MO()}},{key:"wg",get:function(){return this.VO()},set:function(t){this.qO(t)}},{key:"vg",get:function(){return this.UO()}},{key:"yw",get:function(){return this.zO()},set:function(t){this.HO(t)}},{key:"mw",get:function(){return this.WO()}},{key:"gg",get:function(){return this.jO()}},{key:"bw",get:function(){return this.$O()}},{key:"cu",get:function(){return this.XO()}},{key:"pw",get:function(){return this.GO()}},{key:"Yw",get:function(){return this.BO.Yw}},{key:"yg",get:function(){return this.YO()}},{key:"xw",get:function(){return this.BO.xw}},{key:"_w",get:function(){return this.KO()},set:function(t){this.JO(t)}},{key:"Sg",get:function(){return this.QO()}},{key:"kw",get:function(){return this.ZO()}},{key:"Tw",get:function(){return this.tP()},set:function(t){this.nP(t)}},{key:"Eg",get:function(){return this.iP()}},{key:"Ig",get:function(){return this.eP()},set:function(t){this.rP(t)}},{key:"Ll",get:function(){return this.uP()}},{key:"Rg",get:function(){return this.sP()}},{key:"Sw",get:function(){return this.oP()}},{key:"Gw",get:function(){return this.cP()}},{key:"Ew",get:function(){return this.aP()}},{key:"Xw",get:function(){return this.fP()}},{key:"Iw",get:function(){return this.hP()}},{key:"Rw",get:function(){return this.vP()},set:function(t){this.dP(t)}},{key:"Dg",get:function(){return this.BO.Dg},set:function(t){this.BO.Dg=t}}]),n}(Rw),aE=function(t){function n(i,e){var r;return(r=t.call(this,i)||this).lP=void 0,r.wP=!1,r.gP=void 0,r.yP=!1,r.mP=function(){r.bP(),r.pP()},r.YE=function(){r._P(),r.pP(),r.kP&&r.yw>=r.lP.Yg-n.TP&&!r.bw&&(r.gP=yS(r.YE))},r.SP=function(){r.yP=!0},r.EP=function(){r.yP&&(r.yP=!1,r.pP())},r.lP=e,r.lP.Gr("jd",r.mP),r.BO.Gr("timeupdate",r.YE),r}vt(n,t);var i=n.prototype;return i.HO=function(n){var i=this.lP.PO().pR(n);t.prototype.HO.call(this,i),this.pP()},i.$O=function(){return t.prototype.$O.call(this)||this.wP},i.sP=function(){return ak.$R(t.prototype.sP.call(this)).TR(this.lP.PO()).RI()},i.Y=function(){this.$O()?this.HO(this.IP.start(0)):this.bP(),t.prototype.Y.call(this),this.pP()},i.Qw=function(n,i){return ze.async(function(e){for(;;)switch(e.prev=e.next){case 0:return Ur(i),this.wP=!1,this.lP.cl(),e.next=5,ze.awrap(t.prototype.Qw.call(this,n,i));case 5:case"end":return e.stop()}},null,this,null,j)},i.et=function(){return this.lP.Qr("jd",this.mP),this.BO.Qr("timeupdate",this.YE),this._P(),t.prototype.et.call(this)},i.LO=function(n){switch(n.type){case"seeking":return this.Xr(n),this.SP(),!0;case"seeked":case"emptied":return this.Xr(n),this.EP(),!0;case"ended":if(this.kP)return!0}return t.prototype.LO.call(this,n)},i._P=function(){this.gP&&(mS(this.gP),this.gP=void 0)},i.pP=function(){var t=this.yw,i=this.kP&&t>=this.lP.Yg-n.Dm;this.wP&&!i?(this.wP=!1,this.kw&&this.Y()):this.wP||!i||this.Sw||this.yP||(this.wP=!0,this.Xr(new cg(t)),this.K())},i.bP=function(){if(this.mw!==1/0){var t=this.IP,i=ak.$R(t).pR(this.yw);Qt(this.yw,i,n.Dm)||this.HO(i)}},ft(n,[{key:"IP",get:function(){return this.sP().length?this.sP():this.lP.PO().RI()}},{key:"kP",get:function(){return this.lP.Yg<this.mw}}]),n}(cE);aE.TP=1,aE.Dm=.001;var fE=function(){function t(){this.RP=void 0,this.RP=!1}return ft(t,[{key:"DP",get:function(){return this.RP},set:function(t){this.RP=t}}]),t}(),hE=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).RP=void 0,e.NP=!1,e.CP=!1,e.RP=i,e}vt(n,t);var i=n.prototype;return i.$O=function(){return!this.RP.DP&&t.prototype.$O.call(this)},i.K=function(){this.CP=!0,t.prototype.K.call(this)},i.Y=function(){this.CP=!1,t.prototype.Y.call(this)},i.LO=function(n){if(this.RP.DP)switch(n.type){case"ended":return this.yw=0,this.CP||(this.Sw?this.NP=!0:this.Y()),!0;case"seeked":this.NP&&(this.NP=!1,this.Y());break;case"pause":if(this.NP||t.prototype.$O.call(this))return!0}return t.prototype.LO.call(this,n)},n}(cE);var vE=function(){function t(t){var n;this.Cd=(n=this,{get currentBandwidthEstimate(){return n._g},get corruptedVideoFrames(){return n.bg},get droppedVideoFrames(){return n.mg},get totalBytesLoaded(){return n.kg},get bufferedSegments(){return n.Tg}}),this.tR=t}return ft(t,[{key:"Ad",get:function(){return this.Cd}},{key:"bg",get:function(){return this.tR.AP.xw.bg}},{key:"_g",get:function(){return this.tR.AP.xw._g}},{key:"mg",get:function(){return this.tR.AP.xw.mg}},{key:"OP",get:function(){throw new f("Not implemented")}},{key:"PP",get:function(){throw new f("Not implemented")}},{key:"kg",get:function(){return this.tR.AP.xw.kg}},{key:"pg",get:function(){return this.tR.AP.xw.pg}},{key:"Tg",get:function(){return this.tR.AP.xw.Tg}}]),t}(),dE=function(t){function n(){return t.call(this,"xP")||this}return vt(n,t),n.prototype.Od=function(){return new lE},n}(Vl),lE=function(t){function n(){return t.call(this,"castingchange")||this}return vt(n,t),n}(Zr);var wE=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).LP=[],n.Cd=void 0,n.BP=function(){return n.Xr(new dE)},n}vt(n,t);var i=n.prototype;return i.FP=function(t){this.LP.push(t),t.Gr("statechange",this.BP)},i.et=function(){var t=this;this.LP.forEach(function(n){n.Qr("statechange",t.BP)}),xr(this.LP)},ft(n,[{key:"MP",get:function(){return this.LP.some(function(t){return t.MP})}},{key:"Ad",get:function(){var t,n,i;return this.Cd||(this.Cd=(i={get casting(){return t.MP},addEventListener:function(t,i){n.Gr(t,i)},removeEventListener:function(t,i){n.Qr(t,i)}},n=new sE(t=this,i),i)),this.Cd}}]),n}(Rw),gE=function(){function t(){}return t.UP=function(t,n){var i,e;return ze.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,i=new Jv({Hh:t,Mh:_c.ei,ov:$v.GET}),r.next=4,ze.awrap(n.qh(i));case 4:return e=r.sent,r.next=7,ze.awrap(e.Oi());case 7:return r.abrupt("return",r.sent);case 10:return r.prev=10,r.t0=r.catch(0),Mr(r.t0),r.abrupt("return",void 0);case 14:case"end":return r.stop()}},null,null,[[0,10]],j)},t.VP=function(t){try{var i=NT(t);return new LT(i.key,i.domains_page,i.domains_source,i.expiration_date,i.customer_id,i.generation_date,i.sdks,i.send_impression)}catch(t){throw new tc(n.ErrorCode.LICENSE_ERROR,"Invalid license. No valid license was configured.")}},t.qP=function(t){void 0===t&&(t=YT.eb),st.Ee("The baked-in license is used. Please update the configuration with your license.");var n=t.PN(".$hsF|b9_Ess*r[Y.4(HiEagT@Y@Cen3Cec3Cl\"\""),i=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.PN(n)}),e=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.PN(n)}),r=Number(new Date(Number(t.PN("COD|aHpHa:p3Ceo3Co\"\""))));return new LT(n,i,e,r)},t.convertLicenseToDummyLicense=function(t){return new LT(t.qN,t.zN,t.HN,864e13,t.jN,Date.now(),t.XN,t.GN)},t}(),yE=function(){function t(){}return t.ca=function(){return t.Qn||(t.Qn=mE.kc()?new mE:new wc),t.Qn},t.bu=function(n){t.ca().bu(n)},t.sa=function(){t.ca().sa()},t.gu=function(n){return t.ca().gu(n)},t.oa=function(n,i){t.ca().oa(n,i)},t.zP=function(n){var i=t.gu(n);if(void 0!==i)return w(i)},t.HP=function(n){return"true"===t.gu(n)},t}();yE.Qn=void 0;var mE=function(n){function i(){return n.apply(this,arguments)||this}vt(i,n),i.kc=function(){try{return t.localStorage.setItem("foobar","foobar"),t.localStorage.removeItem("foobar"),!0}catch(t){}return!1};var e=i.prototype;return e.bu=function(n){t.localStorage.removeItem(n)},e.sa=function(){t.localStorage.clear()},e.gu=function(n){return t.localStorage[n]},e.oa=function(n,i){t.localStorage[n]=i},i}(yE),bE=d.floor(14399999*d.random()-72e5),pE=function(){function t(t,n,i,e,r,u){this.JN=void 0,this.aT=t,this.WP=n,this.jP=i,this.OC=e,this.$P=r,this.Ss=u,this.JN=zT(u)}var i=t.prototype;return i.XP=function(){var t;return ze.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ze.awrap(this.GP(this.$P.license,this.$P.licenseUrl));case 2:t=n.sent,this.OC.YP(t);case 4:case"end":return n.stop()}},null,this,null,j)},i.GP=function(t,i){var e,r,u,s,o,c,a,f,h;return ze.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(e=i,t?r=gE.VP(t):e||(r=gE.qP()),e||(e="https://validate.theoplayer.com/1/"+r.qN),u=this.KP(),!r){v.next=14;break}if((s=this.WP.eC(r))!==AT.MN){v.next=14;break}if(!this.JP(r.WN)||!this.JP(null==u?void 0:u.WN)){v.next=13;break}return v.next=10,ze.awrap(this.QP(e));case 10:if(!(o=v.sent)){v.next=13;break}return v.abrupt("return",o);case 13:return v.abrupt("return",r);case 14:if(!u){v.next=25;break}if(this.WP.eC(u)!==AT.MN){v.next=24;break}if(!this.JP(null==u?void 0:u.WN)){v.next=23;break}return v.next=20,ze.awrap(this.QP(e));case 20:if(!(c=v.sent)){v.next=23;break}return v.abrupt("return",c);case 23:return v.abrupt("return",u);case 24:yE.bu("THEOplayer.license");case 25:return v.next=27,ze.awrap(gE.UP(e,this.aT));case 27:if(!(a=v.sent)){v.next=37;break}if(f=gE.VP(a),this.WP.eC(f)!==AT.MN){v.next=34;break}return yE.oa("THEOplayer.license",a),v.abrupt("return",f);case 34:yE.bu("THEOplayer.license"),v.next=39;break;case 37:if(this.JN||!r||s!==AT.UN||e!=="https://validate.theoplayer.com/1/"+r.qN){v.next=39;break}return v.abrupt("return",gE.convertLicenseToDummyLicense(r));case 39:if(!r&&!f){v.next=43;break}this.ZP(null!=(h=r)?h:f,new tc(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!")),v.next=44;break;case 43:throw new tc(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!");case 44:case"end":return v.stop()}},null,this,null,j)},i.tC=function(t){var n,i,e,r,u,s,o;return ze.async(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,ze.awrap(this.OC.UC());case 2:if(n=c.sent,!this.JP(n.WN)){c.next=9;break}return e=null!=(i=this.$P.licenseUrl)?i:"https://validate.theoplayer.com/1/"+n.qN,c.next=7,ze.awrap(this.QP(e));case 7:(r=c.sent)&&(this.OC.YP(r),n=r);case 9:if(c.prev=9,(u=this.WP.eC(n))!==AT.VN){c.next=16;break}throw s=xT.YN,new tc(FT(s),WT.iC(s));case 16:if(u!==AT.UN){c.next=19;break}throw o=xT.UN,new tc(FT(o),WT.iC(o));case 19:this.WP.tC(t,n),c.next=25;break;case 22:c.prev=22,c.t0=c.catch(9),this.tx(c.t0);case 25:case"end":return c.stop()}},null,this,[[9,22]],j)},i.QP=function(t){var n,i;return ze.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ze.awrap(gE.UP(t,this.aT));case 3:if(void 0!==(n=e.sent)){e.next=6;break}return e.abrupt("return",void 0);case 6:if(i=gE.VP(n),this.WP.eC(i)!==AT.MN){e.next=11;break}return yE.oa("THEOplayer.license",n),e.abrupt("return",i);case 11:return e.abrupt("return",void 0);case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",void 0);case 17:case"end":return e.stop()}},null,this,[[0,14]],j)},i.JP=function(t){return!t||Number(new Date)+2592e5+bE>=t},i.KP=function(){var t=yE.gu("THEOplayer.license");if(t)return gE.VP(t)},i.ZP=function(t,n){this.OC.YP(t),this.tx(n)},i.tx=function(t){throw $t(t.message),this.jP.zC(t.message),t},t}(),_E=function(){function t(){this.nx=void 0,this.ix=new cs}var n=t.prototype;return n.YP=function(t){this.nx=t,this.ix.Ou()},n.UC=function(){return ze.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.nx){t.next=2;break}return t.abrupt("return",j.resolve(this.nx));case 2:return t.next=4,ze.awrap(this.ix.Nu);case 4:return t.abrupt("return",this.nx);case 5:case"end":return t.stop()}},null,this,null,j)},ft(t,[{key:"ex",get:function(){return this.nx}}]),t}(),kE=function(t){function n(){return t.call(this,"jd")||this}return vt(n,t),n.prototype.Od=function(){return new TE},n}(Vl),TE=function(t){function n(){return t.call(this,"change")||this}return vt(n,t),n}(Zr);function SE(t){var n,i={get fontFamily(){return t.ux},set fontFamily(n){t.ux=n},get fontColor(){return t.sx},set fontColor(n){t.sx=n},get fontSize(){return t.ox},set fontSize(n){t.ox=n},get backgroundColor(){return t.ax},set backgroundColor(n){t.ax=n},get windowColor(){return t.hx},set windowColor(n){t.hx=n},get edgeStyle(){return t.vx},set edgeStyle(n){t.vx=n},addEventListener:function(t,i){var e=fw(t,cw);n.Gr(e,i)},removeEventListener:function(t,i){var e=fw(t,cw);n.Qr(e,i)}};return n=new Qr(i),t.Gr(["jd"],function(t){return n.Xr(t.Ad)}),i}var EE,IE,RE={ux:void 0,sx:void 0,ox:void 0,ax:void 0,hx:void 0,vx:void 0,lx:void 0},DE="THEOplayer.textTrackStyle.",NE=function(t){function n(){var i;return(i=t.call(this)||this).wx=void 0,i.Cd=void 0,i.wx=n.gx(),i}return vt(n,t),n.prototype.rc=function(t){this.wx=He({},this.wx,t),n.yx(this.wx),this.Xr(new kE)},n.gx=function(){var t=He({},RE);return t.ux=yE.gu(DE+"fontFamily")||t.ux,t.sx=yE.gu(DE+"fontColor")||t.sx,t.ox=yE.gu(DE+"fontSize")||t.ox,t.ax=yE.gu(DE+"backgroundColor")||t.ax,t.hx=yE.gu(DE+"windowColor")||t.hx,t.vx=yE.gu(DE+"edgeStyle")||t.vx,t},n.yx=function(t){yE.oa(DE+"fontFamily",t.ux||""),yE.oa(DE+"fontColor",t.sx||""),yE.oa(DE+"fontSize",t.ox||""),yE.oa(DE+"backgroundColor",t.ax||""),yE.oa(DE+"windowColor",t.hx||""),yE.oa(DE+"edgeStyle",t.vx||"")},ft(n,[{key:"mx",get:function(){return this.wx}},{key:"ux",get:function(){return this.wx.ux},set:function(t){this.rc({ux:t})}},{key:"sx",get:function(){return this.wx.sx},set:function(t){this.rc({sx:t})}},{key:"ox",get:function(){return this.wx.ox},set:function(t){this.rc({ox:t})}},{key:"ax",get:function(){return this.wx.ax},set:function(t){this.rc({ax:t})}},{key:"hx",get:function(){return this.wx.hx},set:function(t){this.rc({hx:t})}},{key:"vx",get:function(){return this.wx.vx},set:function(t){this.rc({vx:t})}},{key:"lx",get:function(){return this.wx.lx}},{key:"Ad",get:function(){return this.Cd||(this.Cd=SE(this)),this.Cd}}]),n}(Jr),CE=function(t){function n(n,i){var e;(e=t.call(this)||this).bx=void 0,e.vc=void 0,e.AP=void 0,e._x=void 0,e.Ed=void 0,e.lP=void 0,e.RP=void 0,e.kx=void 0,e.Tx=void 0,e.cD=void 0,e.WP=void 0,e.Sx=void 0,e.Ex=void 0,e.oD=void 0,e.Ix=!1,e.Uw=!1,e.xg=void 0,e.Rx=!1,e.Dx=void 0,e.Nx=void 0,e.Cx=void 0,e.Ax=void 0,e.Ox=void 0,e.Px=function(t){if(!e.Rx){e.Rx=!0;var n=e.bx,i=Mg(t);e.AP.gl=new wk(e.gg,i,t),$r(n.et())}},e.xx=function(t){e.Xr(t.Ad)},e.Lx=function(t){t.type!==pc.Ia&&t.type!==pc.Ea&&e.Xr(t)};var r=sw(i.uid);g(r)?e.xg=$g++:e.xg=r,e.vc=i;var u=st.Ed,s=new _E;e._x=new sS("3.4.0",u,s),e.Ed=new WS(u,i.allowMixedContent),e.cD=new iE,e.WP=new BT(i.isEmbeddable,"3.4.0",CT()),e.Ox=new pE(u,e.WP,e._x,s,i,CT()),e.Ox.XP().catch(e.Px),e.Sx=new IS(n),e.Sx.Gr("KC",e.xx),e.oD=new NE,e.lP=new oE,e.RP=new fE;var o=new lk(n,i,e.Ed,e.cD,e.Sx,e.oD);e.cD.DO(o);var c=o;c=new aE(c,e.Bx),c=new hE(c,e.DP),e.bx=c,e.AP=new xg(e.bx),e.AP.Kr(e.Lx),e.Ax=new vE(un(e)),e.Nx=new $S(e.AP,e.Ed,e.cD),e.kx=new aS(un(e)),e.Ex=new NS(e.AP,i.allowNativeFullscreen),e.Tx=new xk(e.Ex),e.Sx.wc();var a=new K(e.Sx,e.oD,1,[Ug.uv]);return e.Dx=new J(a),e.Cx=new wE,e}vt(n,t);var i=n.prototype;return i.JO=function(t){this.AP._w=t,t||this.kw||this.st()},i.dP=function(t){this.AP.Rw=t},i.Fx=function(){pg(this,Lk,this)},i.Y=function(){this.AP.Y()},i.K=function(){this.AP.K()},i.Qw=function(t,n){var i;return ze.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return this.Ox.tC(t).catch(this.Px),i=AE(t),e.next=5,ze.awrap(this.AP.Qw(i,n));case 5:case"end":return e.stop()}},null,this,null,j)},i.st=function(){this.Uw||(this.AP.st(),this.Dx.st(),this.Uw=!0)},i.JR=function(){return this.Tx.PD()===Nk.FULLSCREEN},i.rg=function(){this.AP.rg()},i.ug=function(){this.AP.ug()},i.sg=function(){return this.AP.sg()},i.cl=function(){return ze.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ze.awrap(this.AP.Kw());case 2:return t.next=4,ze.awrap(this.AP.cl());case 4:case"end":return t.stop()}},null,this,null,j)},i.et=function(){return ze.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Jr(),this.Cx.et(),this.Ed.et(),this.Nx.et(),this.Ex.et(),this.Tx.et(),this.Sx.et(),this._x.et(),this.Dx.et(),t.next=11,ze.awrap(this.AP.et());case 11:case"end":return t.stop()}},null,this,null,j)},ft(n,[{key:"Mx",get:function(){return this.cD}},{key:"Ww",get:function(){return this.Ix},set:function(t){this.Ix=t,this.AP.Ww=t}},{key:"Ux",get:function(){return this.Dx}},{key:"$w",get:function(){return this.AP.$w}},{key:"Vx",get:function(){return this.Cx}},{key:"qx",get:function(){return this.Sx}},{key:"Yw",get:function(){return this.AP.Yw}},{key:"xw",get:function(){return this.Ax}},{key:"zx",get:function(){return this.Nx}},{key:"Gw",get:function(){return this.AP.Gw}},{key:"Hx",get:function(){return this.oD}},{key:"Xw",get:function(){return this.AP.Xw}},{key:"lg",get:function(){return this.AP.lg}},{key:"Bx",get:function(){return this.lP}},{key:"DP",get:function(){return this.RP}},{key:"yw",get:function(){return this.AP.yw},set:function(t){this.AP.yw=t}},{key:"wg",get:function(){return this.AP.wg},set:function(t){this.AP.wg=t}},{key:"vg",get:function(){return this.AP.vg}},{key:"mw",get:function(){return this.AP.mw}},{key:"gg",get:function(){return this.AP.gg}},{key:"bw",get:function(){return this.AP.bw}},{key:"cu",get:function(){return this.AP.cu}},{key:"pw",get:function(){return this.AP.pw}},{key:"_w",get:function(){return this.AP._w},set:function(t){var n=Boolean(t);this.JO(n)}},{key:"kw",get:function(){return this.AP.kw}},{key:"Tw",get:function(){return this.AP.Tw},set:function(t){this.AP.Tw=t}},{key:"Eg",get:function(){return this.AP.Eg}},{key:"Ig",get:function(){return this.AP.Ig},set:function(t){this.AP.Ig=ek(t)}},{key:"Ll",get:function(){return this.AP.Ll}},{key:"Rg",get:function(){return this.AP.Rg}},{key:"Sw",get:function(){return this.AP.Sw}},{key:"_l",get:function(){return this.xg}},{key:"Ew",get:function(){return this.AP.Ew}},{key:"Iw",get:function(){return this.AP.Iw}},{key:"Rw",get:function(){return this.AP.Rw},set:function(t){var n=Jt(Number(t),0,1)||0;this.dP(n)}}]),n}(Rw);function AE(t){t.sources;var n=t.sources.filter(function(t){return void 0===t.integration});return t.sources=n,t}!function(t){t[t.Wx=0]="Wx",t[t.jx=1]="jx"}(EE||(EE={})),function(t){t[t.$x=0]="$x"}(IE||(IE={}));var OE={};function PE(t,n){var i=t;if(OE[n])for(var e=0,r=OE[n];e<r.length;e++){i=(0,r[e])(i)}return i}var xE=[];function LE(t){xE.push(t)}var BE=t.CustomEvent;var FE=function(){try{var t=new BE("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?function(t,n){return new CustomEvent(t,n)}:function(t,n){var i=e.createEvent("CustomEvent");return i.initCustomEvent(t,(null==n?void 0:n.bubbles)||!1,(null==n?void 0:n.cancelable)||!1,null==n?void 0:n.detail),i},ME=function(){function t(t,n){var i=this;this.tR=void 0,this.Xx=void 0,this.Gx=!1,this.Yx=function(t){i.Xx.qC(t.error,i.yw)},this.Kx=function(){i.Xx.MC(i.Jx),i.tR.removeEventListener("playing",i.Kx),i.Gx=!1},this.Qx=function(){i.Gx||(i.tR.addEventListener("playing",i.Kx),i.Gx=!0)},this.Xx=n,this.tR=t,this.tR.addEventListener("error",this.Yx),this.tR.addEventListener("sourcechange",this.Qx),this.Qx()}return t.prototype.cl=function(){},ft(t,[{key:"yw",get:function(){var t=this.tR.currentTime;return"number"==typeof t&&isFinite(t)?t:"now"}},{key:"Jx",get:function(){return this.tR.src||""}}]),t}();LE(function(t){new ME(t.Ad,t._x)});var UE,VE,qE="theoplayer-stored-volume",zE="theoplayer-stored-mutedstate";UE=function(t){return function(t){function n(n,i){var e;if(e=t.call(this,n,i)||this,i.persistVolume){var r=yE.zP(qE);(void 0===r||g(r))&&(r=1);var u=yE.HP(zE)||!1;e.Rw=r,e._w=u}return e}vt(n,t);var i=n.prototype;return i.JO=function(n){this.vc.persistVolume&&yE.oa(zE,""+Boolean(n)),t.prototype.JO.call(this,n)},i.dP=function(n){this.vc.persistVolume&&yE.oa(qE,""+Number(n)),t.prototype.dP.call(this,n)},n}(t)},VE=EE.jx,(OE[VE]||(OE[VE]=[])).push(UE);var HE=new(function(){function t(){this.Zx=[],this.Cd=void 0}var n=t.prototype;return n.il=function(t){return this.Zx[t]},n.tL=function(t){this.Zx.push(t),this.Ad.push(t.Ad)},n.ec=function(t){var n=this.Zx.indexOf(t);n<0||(Or(this.Zx,n),this.Cd&&Or(this.Cd,n))},n.nL=function(t){for(var n=0,i=this.Zx;n<i.length;n++){var e=i[n];if(e._l===t)return e}},ft(t,[{key:"fl",get:function(){return this.Zx.length}},{key:"Ad",get:function(){return this.Cd||(this.Cd=function(t){for(var n=[],i=0;i<t.fl;i++)n[i]=t.il(i).Ad;return n.getPlayerByUID=function(n){var i=t.nL(n);return i&&i.Ad},n}(this)),this.Cd}}]),t}()),WE=function(){function t(t){var n=this;this.iL=[],this.eL=void 0,this.jf=new Br,this.rL=void 0,this.uL=function(){return 0===n.iL.length?n.rL?jE(n.rL,n.jf.zr).then(n.sL,n.sL):n.sL():n.iL.shift()().then(n.uL)},this.sL=function(){if(0!==n.iL.length)return n.uL();n.eL=void 0},this.rL=t}var n=t.prototype;return n.oL=function(t,n){var i=this;return new j(function(e){var r=new Br;r.Vr(i.jf.zr),n&&r.Vr(n);var u=function(){r.Pr()};i.iL.push(function(){var n=jE(t,r.zr);return e(n),n.then(u,u)}),i.eL||(i.eL=i.uL())})},n.Ur=function(){return this.cL(!0)},n.et=function(){return this.rL=void 0,this.cL(!1)},n.cL=function(t){var n=this.eL;return this.jf.Ur(),t&&(this.jf=new Br),j.resolve(n)},t}();function jE(t,n){return new j(function(i){return i(t(n))})}var $E,XE=function(t){function n(n){var i;return(i=t.call(this,pc.Va)||this).source=n,i}return vt(n,t),n}(Zr),GE=function(t){function n(){var n;return(n=t.call(this)||this).tD=void 0,n.iD=void 0,n.rD=void 0,n.eD=void 0,n.tD=0,n.iD=!0,n.rD=!1,n.eD=1,n}vt(n,t);var i=n.prototype;return i.Y=function(){this.iD&&(this.iD=!1,this.Xr(new tg(this.yw)),this.Xr(new bb(this.yw)))},i.K=function(){this.iD||(this.iD=!0,this.Xr(new og(this.yw,this.wg)),this.Xr(new Zw(this.yw)))},i.cl=function(){this.tD=0,this.rD=!1,this.eD=1,this.K(),this.Xr(new Qw(this.tD))},i.et=function(){this.Jr()},i.ug=function(){},i.rg=function(){},ft(n,[{key:"wg",get:function(){},set:function(t){}},{key:"yw",get:function(){return this.tD},set:function(t){this.rD&&this.tD===t||(this.tD=t,this.rD=!0,this.Xr(new fg(this.yw)))}},{key:"kw",get:function(){return this.iD}},{key:"Tw",get:function(){return this.eD},set:function(t){this.eD!==t&&(this.eD=t,this.Xr(new sg(this.yw,this.Tw)))}},{key:"Ll",get:function(){return Bw.sw}},{key:"Sw",get:function(){return this.rD}}]),n}(Iw),YE=function(t){function n(){return t.call(this,pc.ga)||this}return vt(n,t),n}(Zr),KE={zIndex:"1",display:"inline-block",verticalAlign:"middle",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"contain",cursor:"pointer",margin:"0",padding:"0",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",height:"100%"},JE={visibility:"hidden"},QE={visibility:"visible"},ZE=function(){function t(t){var n,i=this;this.YI=void 0,this.tR=void 0,this.aL=!1,this.fL=void 0,this.hL=void 0,this.vL=function(t){var n;i.aL=!1,i.fL=null==(n=t.source)?void 0:n.poster,i.rc()},this.NT=function(){i.aL=!0,i.ug()},this.tR=t,this.rR(),this.YI=((n=Z&&Z.document&&Z.document.createElement("div")).className="theoplayer-poster",_e(KE,n),n),t.gg.appendChild(this.YI)}var n=t.prototype;return n.rc=function(){var t=this.tR.kw,n=this.aL;this.Hh?this.YI.style.backgroundImage='url("'+this.Hh.replace(/[\\"]/g,function(t){return"\\"+t})+'")':this.YI.style.backgroundImage="",t&&this.Hh&&!n?this.rg():this.ug()},n.rg=function(){_e(JE,this.tR.gg),_e(QE,this.YI)},n.ug=function(){_e(JE,this.YI),_e(QE,this.tR.gg)},n.rR=function(){this.tR.Gr("sourcechange",this.vL),this.tR.Gr("play",this.NT)},n.et=function(){this.tR.Qr("sourcechange",this.vL),this.tR.Qr("play",this.NT),pe(this.YI)},ft(t,[{key:"Hh",get:function(){return void 0!==this.fL?this.fL:void 0!==this.hL?this.hL:void 0}},{key:"dL",set:function(t){this.hL=t,this.rc()}}]),t}();function tI(t){return function(n){function i(i,e){var r;return(r=n.call(this,i)||this).tR=void 0,r.lL=void 0,r.wL=void 0,r.gL=void 0,r.yL=void 0,r.mL=void 0,r.bL=void 0,r.pL=void 0,r.eR=void 0,r.iR=void 0,r.Cd=void 0,r._L=function(t){t.type!==pc.Ca&&r.pL.push(t)},r.lL=new t(i,e),r.wL=new GE,r.tR=r.lL,r.gL=new ZE(un(r)),r.mL=new WE,r.bL=!1,r.pL=[],r.eR=!0,r.iR=void 0,r.rR(),r}vt(i,n);var e=i.prototype;return e.oL=function(t,n){return ze.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",this.mL.oL(t,n).catch(qr));case 1:case"end":return i.stop()}},null,this,null,j)},e.kL=function(t,n){return ze.async(function(i){for(;;)switch(i.prev=i.next){case 0:return Ur(n),this.lL.Kr(this._L),i.next=4,ze.awrap(this.lL.Qw(t,n));case 4:this.lL.nu(this._L);case 5:case"end":return i.stop()}},null,this,null,j)},e.TL=function(){var t,n,i;return ze.async(function(e){for(;;)switch(e.prev=e.next){case 0:if((t=this.Jw())&&!oT(t)&&this.Ww&&this.kw){e.next=3;break}return e.abrupt("return");case 3:return n=t.mutedAutoplay||this.vc.mutedAutoplay,e.next=6,ze.awrap(this.Ux.ut());case 6:i=e.sent,e.t0=i,e.next="all"===e.t0?10:"muted"===e.t0?12:14;break;case 10:return this.SL(),e.abrupt("break",14);case 12:return(this._w||n===ng.ALL)&&(this._w=!0,this.Y()),e.abrupt("break",14);case 14:case"end":return e.stop()}},null,this,null,j)},e.Qw=function(t){var n=this,i=this.iR;i&&!oT(i)&&this.Xr(new Qw(0,0)),this.cl(),this.iR=t,$r(this.oL(function(i){return ze.async(function(e){for(;;)switch(e.prev=e.next){case 0:return Ur(i),e.prev=1,e.next=4,ze.awrap(n.kL(t,i));case 4:e.next=10;break;case 6:throw e.prev=6,e.t0=e.catch(1),n.iR=void 0,e.t0;case 10:return e.next=12,ze.awrap(n.EL());case 12:case"end":return e.stop()}},null,null,[[1,6]],j)}))},e.EL=function(){return ze.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.IL(this.lL),this.Xr(new XE(this.Jw())),t.next=4,ze.awrap(this.TL());case 4:case"end":return t.stop()}},null,this,null,j)},e.HO=function(t){this.tR.yw=t},e.XO=function(){return this.lL.cu},e.GO=function(){return this.lL.pw},e.Y=function(){this.tR.Y()},e.SL=function(){this._w||this.st(),this.Y()},e.st=function(){this.lL.st()},e.K=function(){this.tR.K()},e.Kw=function(){this.Qw(void 0)},e.rg=function(){this.eR=!0,this.tR.rg()},e.ug=function(){this.eR=!1,this.tR.ug()},e.Fx=function(){this.lL.Fx()},e.dP=function(t){this.lL.dP(t)},e.JO=function(t){this.lL.JO(t)},e.RL=function(t){this.yL=t,t.tL(this)},e.JR=function(){return this.lL.JR()},e.Jw=function(){return this.iR},e.sg=function(){return this.lL.sg()},e.zO=function(){return this.lL.yw},e.WO=function(){return this.lL.mw},e.MO=function(){return this.lL.lg},e.iP=function(){return this.lL.Eg},e.sP=function(){return this.lL.Rg},e.cl=function(){var t=this;this.iR=void 0,xr(this.pL),this.wL.cl(),this.IL(this.wL),this.mL.Ur(),$r(this.mL.oL(function(n){return ze.async(function(i){for(;;)switch(i.prev=i.next){case 0:return Ur(n),i.next=3,ze.awrap(t.lL.cl());case 3:case"end":return i.stop()}},null,null,null,j)}))},e.et=function(){var t=this;this.Xr(new YE),this.gL.et(),this.uR(),this.cl(),$r(this.oL(function(){return ze.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ze.awrap(t.lL.et());case 2:t.yL&&(t.yL.ec(t),t.yL=void 0),t.mL.et();case 4:case"end":return n.stop()}},null,null,null,j)})),this.Jr()},e.IL=function(t){if(this.tR!==t){var n=this.tR.kw,i=this.tR.yw,e=this.tR.Tw,r=this.tR.Sw;this.uR(),t===this.lL?((r||t.yw!==i)&&(t.yw=i),t.Tw!==e&&(t.Tw=e),n?t.K():t.Y()):this.vc.retainPlaybackRateOnSourceChange?t.Tw=e:1!==e&&this.Xr(new sg(this.zO(),1)),this.tR=t,this.rR();for(var u=0,s=this.pL;u<s.length;u++){var o=s[u];this.Xr(o)}xr(this.pL),this.eR?t.rg():t.ug()}},e.rR=function(){this.tR.Kr(this.$r)},e.uR=function(){this.tR.nu(this.$r)},e.Od=function(){return t=this,e=function(n){i=n;var e=mT(n,t.vc);t.Qw(e)},r={get abr(){return t.Mx.Ad},get audioTracks(){return t.$w.Ad},get autoplay(){return t.Ww},set autoplay(n){t.Ww=Boolean(n)},get buffered(){return t.MO()},get canvas(){return t.kx.Ad},get clip(){return t.Bx.Ad},get currentProgramDateTime(){var n;return null!=(n=t.wg)?n:null},set currentProgramDateTime(n){t.wg=null!=n?n:void 0},get currentTime(){return t.zO()},set currentTime(n){t.HO(Number(n))},get duration(){return t.WO()},get element(){return t.gg},get ended(){return t.bw},get error(){return t.XO()},get errorObject(){return t.GO()},get loop(){return t.DP.DP},set loop(n){t.DP.DP=Boolean(n)},get metrics(){return t.xw.Ad},get muted(){return t._w},set muted(n){t.JO(n)},get network(){return t.zx.Ad},get paused(){return t.kw},get playbackRate(){return t.Tw},set playbackRate(n){var i=Number(n);if(i<0)throw new RangeError("playbackRate must be a positive number");t.Tw=i},get played(){return t.iP()},get poster(){return t.DL},set poster(n){t.DL=cw(n)},get preload(){return t.Ig},set preload(n){t.Ig=n},get presentation(){return t.Tx.Ad},get readyState(){return t.Ll},get seekable(){return t.sP()},get seeking(){return t.Sw},get source(){return i},set source(t){e(t)},get src(){return cT(t.Jw())},set src(t){e({sources:t})},get textTracks(){return t.Gw.Ad},get textTrackStyle(){return t.Hx.Ad},get uid(){return t._l},get videoHeight(){return t.Ew},get videoTracks(){return t.Xw.Ad},get videoWidth(){return t.Iw},get volume(){return t.Rw},set volume(n){t.dP(Number(n))},destroy:function(){t.et(),t=null,i=void 0},play:function(){t.SL()},pause:function(){t.K()},stop:function(){i=void 0,t.Kw()},prepareWithUserAction:function(){t.st()},addEventListener:function(t,i){n.Gr(t,i)},removeEventListener:function(t,i){n.Qr(t,i)},setSource:function(t){e(t)}},(n=new Ok(r,!0)).yD(t),r;var t,n,i,e,r},ft(i,[{key:"_x",get:function(){return this.lL._x}},{key:"kx",get:function(){return this.lL.kx}},{key:"vc",get:function(){return this.lL.vc}},{key:"bx",get:function(){return this.lL.bx}},{key:"Ed",get:function(){return this.lL.Ed}},{key:"_I",get:function(){return this.lL.Ex}},{key:"Tx",get:function(){return this.lL.Tx}},{key:"Sx",get:function(){return this.lL.Sx}},{key:"AP",get:function(){return this.lL.AP}},{key:"Mx",get:function(){return this.lL.Mx}},{key:"Ww",get:function(){return this.lL.Ww},set:function(t){this.lL.Ww=t,this.TL()}},{key:"Ux",get:function(){return this.lL.Ux}},{key:"$w",get:function(){return this.lL.$w}},{key:"Vx",get:function(){return this.lL.Vx}},{key:"qx",get:function(){return this.lL.Sx}},{key:"Ad",get:function(){return this.Cd||(this.Cd=this.Od()),this.Cd}},{key:"Yw",get:function(){return this.lL.Yw}},{key:"xw",get:function(){return this.lL.xw}},{key:"zx",get:function(){return this.lL.zx}},{key:"Gw",get:function(){return this.lL.Gw}},{key:"Hx",get:function(){return this.lL.Hx}},{key:"Xw",get:function(){return this.lL.Xw}},{key:"Bx",get:function(){return this.lL.Bx}},{key:"DP",get:function(){return this.lL.DP}},{key:"wg",get:function(){return this.tR.wg},set:function(t){this.tR.wg=t}},{key:"vg",get:function(){return this.lL.vg}},{key:"gg",get:function(){return this.lL.gg}},{key:"bw",get:function(){return this.lL.bw}},{key:"_w",get:function(){return this.lL._w},set:function(t){this.lL._w=t}},{key:"kw",get:function(){return this.tR.kw}},{key:"DL",get:function(){return this.gL.Hh||""},set:function(t){this.gL.dL=t}},{key:"Tw",get:function(){return this.lL.Tw},set:function(t){this.tR.Tw=t}},{key:"Ig",get:function(){return this.lL.Ig},set:function(t){this.lL.Ig=ek(t)}},{key:"Ll",get:function(){return this.tR.Ll}},{key:"Sw",get:function(){return this.tR.Sw}},{key:"_l",get:function(){return this.lL._l}},{key:"Ew",get:function(){return this.lL.Ew}},{key:"Iw",get:function(){return this.lL.Iw}},{key:"Rw",get:function(){return this.lL.Rw},set:function(t){this.lL.Rw=t}}]),i}(Rw)}function nI(t,n){var i=mg(n),e=new($E||($E=PE($E=tI(CE),EE.Wx),$E=PE($E,EE.jx)),$E)(t,i),r=e.Ad;return e.Fx(),e.RL(HE),v.defineProperty(r,"constructor",{value:nI}),r=Ql(r),function(t){for(var n=0;n<xE.length;n++)(0,xE[n])(t)}(e),r}jr(function(){t.dispatchEvent&&t.dispatchEvent(FE("theoplayerready"))});var iI={base64:new(function(){function t(){}var n=t.prototype;return n.encode=function(t){return wu(t)},n.decode=function(t){return du(t)},t}())},eI=HE.Ad,rI=Kb.kS.registerContentProtectionIntegration.bind(Kb.kS),uI=function(){this.fairplayController=void 0,this.cache=void 0,this.dai=void 0},sI=function(){function t(){this.internalDict={},this.uidCounter=0}var n=t.prototype;return n.register=function(t){return this.internalDict[this.uidCounter]=t,this.uidCounter++},n.get=function(t){return this.internalDict[t]},n.remove=function(t){delete this.internalDict[t]},t}(),oI=Gt(function(t,n){function i(t,n){var i=[],e=[];return null==n&&(n=function(t,n){return i[0]===n?"[Circular ~]":"[Circular ~."+e.slice(0,i.indexOf(n)).join(".")+"]"}),function(r,u){if(i.length>0){var s=i.indexOf(this);~s?i.splice(s+1):i.push(this),~s?e.splice(s,1/0,r):e.push(r),~i.indexOf(u)&&(u=n.call(this,r,u))}else i.push(u);return null==t?u:t.call(this,r,u)}}(t.exports=function(t,n,e,r){return JSON.stringify(t,i(n,r),e)}).getSerialize=i});function cI(t,n){return void 0!==n&&null!=n&&"function"==typeof n.start&&"function"==typeof n.end&&"number"==typeof n.length?function(t){for(var n=[],i=0;i<t.length;i++)n[i]={start:t.start(i),end:t.end(i)};return n}(n):n}function aI(t){return JSON.stringify(t,oI.getSerialize(cI))}var fI=Gt(function(t,n){v.defineProperty(n,"__esModule",{value:!0}),n.CHAR="\t\n\r -\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",n.S=" \t\r\n",n.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u");var i=9,e=10,r=13,u=32;function s(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}n.S_LIST=[u,e,r,i],n.isChar=function(t){return t>=u&&t<=55295||t===e||t===r||t===i||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isS=function(t){return t===u||t===e||t===r||t===i},n.isNameStartChar=s,n.isNameChar=function(t){return s(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),hI=Gt(function(t,n){v.defineProperty(n,"__esModule",{value:!0}),n.CHAR="\x01-\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",n.RESTRICTED_CHAR="\x01-\b\v\f\x0e-\x1f\x7f-\x84\x86-\x9f",n.S=" \t\r\n",n.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.RESTRICTED_CHAR_RE=new RegExp("^["+n.RESTRICTED_CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u");var i=9,e=10,r=13,u=32;function s(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}n.S_LIST=[u,e,r,i],n.isChar=function(t){return t>=1&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isRestrictedChar=function(t){return t>=1&&t<=8||11===t||12===t||t>=14&&t<=31||t>=127&&t<=132||t>=134&&t<=159},n.isCharAndNotRestricted=function(t){return 9===t||10===t||13===t||t>31&&t<127||133===t||t>159&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isS=function(t){return t===u||t===e||t===r||t===i},n.isNameStartChar=s,n.isNameChar=function(t){return s(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),vI=Gt(function(t,n){function i(t){return t>=65&&t<=90||95===t||t>=97&&t<=122||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}v.defineProperty(n,"__esModule",{value:!0}),n.NC_NAME_START_CHAR="A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NC_NAME_CHAR="-"+n.NC_NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.NC_NAME_START_CHAR_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]$","u"),n.NC_NAME_CHAR_RE=new RegExp("^["+n.NC_NAME_CHAR+"]$","u"),n.NC_NAME_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]["+n.NC_NAME_CHAR+"]*$","u"),n.isNCNameStartChar=i,n.isNCNameChar=function(t){return i(t)||45===t||46===t||t>=48&&t<=57||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),dI=Gt(function(t,n){v.defineProperty(n,"__esModule",{value:!0});var i=fI.isS,e=fI.isChar,r=fI.isNameStartChar,u=fI.isNameChar,s=fI.S_LIST,o=fI.NAME_RE,c=hI.isChar,a=vI.isNCNameStartChar,h=vI.isNCNameChar,d=vI.NC_NAME_RE;const w="http://www.w3.org/XML/1998/namespace",g="http://www.w3.org/2000/xmlns/",y={__proto__:null,xml:w,xmlns:g},m={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},b=-1,p=-2,_=0,k=1,T=2,S=3,E=4,I=5,R=6,D=7,N=8,C=9,A=10,O=11,P=12,x=13,L=14,B=15,F=16,M=17,U=18,V=19,q=20,z=21,H=22,W=23,j=24,$=25,X=26,G=27,Y=28,K=29,J=30,Q=31,Z=32,tt=33,nt=34,it=35,et=36,rt=37,ut=38,st=39,ot=40,ct=41,at=42,ft=43,ht=44,vt=9,dt=10,lt=13,wt=32,gt=33,yt=38,mt=45,bt=47,pt=59,_t=60,kt=61,Tt=62,St=63,Et=91,It=93,Rt=133,Dt=8232,Nt=t=>34===t||39===t,Ct=[34,39],At=[...Ct,Et,Tt],Ot=[...Ct,_t,It],Pt=[kt,St,...s],xt=[...s,Tt,yt,_t];function Lt(t,n,i){switch(n){case"xml":i!==w&&t.fail(`xml prefix must be bound to ${w}.`);break;case"xmlns":i!==g&&t.fail(`xmlns prefix must be bound to ${g}.`)}switch(i){case g:t.fail(""===n?`the default namespace may not be set to ${i}.`:`may not assign a prefix (even "xmlns") to the URI ${g}.`);break;case w:switch(n){case"xml":break;case"":t.fail(`the default namespace may not be set to ${i}.`);break;default:t.fail("may not assign the xml namespace to another prefix.")}}}const Bt=t=>d.test(t),Ft=t=>o.test(t),Mt=0,Ut=1,Vt=2;n.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const qt={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};n.SaxesParser=class{constructor(t){this.opt=null!=t?t:{},this.fragmentOpt=!!this.opt.fragment;const n=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=!1!==this.opt.position,this.fileName=this.opt.fileName,n){this.nameStartCheck=a,this.nameCheck=h,this.isName=Bt,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=v.assign({__proto__:null},y);const t=this.opt.additionalNamespaces;null!=t&&(function(t,n){for(const i of v.keys(n))Lt(t,i,n[i])}(this,t),v.assign(this.ns,t))}else this.nameStartCheck=r,this.nameCheck=u,this.isName=Ft,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this.Wu}_init(){var t;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=Mt,this.attribList=[];const{fragmentOpt:n}=this;this.state=n?x:_,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=n,this.xmlDeclPossible=!n,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:i}=this.opt;if(void 0===i){if(!0===this.opt.forceXMLVersion)throw new f("forceXMLVersion set but defaultXMLVersion is not set");i="1.0"}this.setXMLVersion(i),this.positionAtNewLine=0,this.doctype=!1,this.Wu=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=v.create(m),null===(t=this.readyHandler)||void 0===t||t.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(t,n){this[qt[t]]=n}off(t){this[qt[t]]=void 0}makeError(t){var n;let i=null!==(n=this.fileName)&&void 0!==n?n:"";return this.trackPosition&&(i.length>0&&(i+=":"),i+=`${this.line}:${this.column}`),i.length>0&&(i+=": "),new f(i+t)}fail(t){const n=this.makeError(t),i=this.errorHandler;if(void 0===i)throw n;return i(n),this}write(t){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let n=!1;null===t?(n=!0,t=""):"object"==typeof t&&(t=t.toString()),void 0!==this.carriedFromPrevious&&(t=`${this.carriedFromPrevious}${t}`,this.carriedFromPrevious=void 0);let i=t.length;const e=t.charCodeAt(i-1);!n&&(e===lt||e>=55296&&e<=56319)&&(this.carriedFromPrevious=t[i-1],i--,t=t.slice(0,i));const{stateTable:r}=this;for(this.chunk=t,this.i=0;this.i<i;)r[this.state].call(this);return this.chunkPosition+=i,n?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return b;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>=wt||i===vt)return i;switch(i){case dt:return this.line++,this.column=0,this.positionAtNewLine=this.position,dt;case lt:return t.charCodeAt(n+1)===dt&&(this.i=n+2),this.line++,this.column=0,this.positionAtNewLine=this.position,p;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const e=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,e>1114111&&this.fail("disallowed character."),e}getCode11(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return b;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>31&&i<127||i>159&&i!==Dt||i===vt)return i;switch(i){case dt:return this.line++,this.column=0,this.positionAtNewLine=this.position,dt;case lt:{const i=t.charCodeAt(n+1);i!==dt&&i!==Rt||(this.i=n+2)}case Rt:case Dt:return this.line++,this.column=0,this.positionAtNewLine=this.position,p;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const e=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,e>1114111&&this.fail("disallowed character."),e}getCodeNorm(){const t=this.getCode();return t===p?dt:t}unget(){this.i=this.prevI,this.column--}captureTo(t){let{i:n}=this;const{chunk:i}=this;for(;;){const e=this.getCode(),r=e===p,u=r?dt:e;if(u===b||t.includes(u))return this.text+=i.slice(n,this.prevI),u;r&&(this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i)}}captureToChar(t){let{i:n}=this;const{chunk:i}=this;for(;;){let e=this.getCode();switch(e){case p:this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i,e=dt;break;case b:return this.text+=i.slice(n),!1}if(e===t)return this.text+=i.slice(n,this.prevI),!0}}captureNameChars(){const{chunk:t,i:n}=this;for(;;){const i=this.getCode();if(i===b)return this.name+=t.slice(n),b;if(!u(i))return this.name+=t.slice(n,this.prevI),i===p?dt:i}}skipSpaces(){for(;;){const t=this.getCodeNorm();if(t===b||!i(t))return t}}setXMLVersion(t){this.currentXMLVersion=t,"1.0"===t?(this.isChar=e,this.getCode=this.getCode10):(this.isChar=c,this.getCode=this.getCode11)}sBegin(){65279===this.chunk.charCodeAt(0)&&(this.i++,this.column++),this.state=k}sBeginWhitespace(){const t=this.i,n=this.skipSpaces();switch(this.prevI!==t&&(this.xmlDeclPossible=!1),n){case _t:if(this.state=B,0!==this.text.length)throw new f("no-empty text at start");break;case b:break;default:this.unget(),this.state=x,this.xmlDeclPossible=!1}}sDoctype(){var t;const n=this.captureTo(At);switch(n){case Tt:null===(t=this.doctypeHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=x,this.doctype=!0;break;case b:break;default:this.text+=String.fromCodePoint(n),n===Et?this.state=E:Nt(n)&&(this.state=S,this.q=n)}}sDoctypeQuote(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.q=null,this.state=T)}sDTD(){const t=this.captureTo(Ot);t!==b&&(this.text+=String.fromCodePoint(t),t===It?this.state=T:t===_t?this.state=R:Nt(t)&&(this.state=I,this.q=t))}sDTDQuoted(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.state=E,this.q=null)}sDTDOpenWaka(){const t=this.getCodeNorm();switch(this.text+=String.fromCodePoint(t),t){case gt:this.state=D,this.openWakaBang="";break;case St:this.state=O;break;default:this.state=E}}sDTDOpenWakaBang(){const t=String.fromCodePoint(this.getCodeNorm()),n=this.openWakaBang+=t;this.text+=t,"-"!==n&&(this.state="--"===n?N:E,this.openWakaBang="")}sDTDComment(){this.captureToChar(mt)&&(this.text+="-",this.state=C)}sDTDCommentEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),this.state=t===mt?A:N}sDTDCommentEnded(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===Tt?this.state=E:(this.fail("malformed comment."),this.state=N)}sDTDPI(){this.captureToChar(St)&&(this.text+="?",this.state=P)}sDTDPIEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===Tt&&(this.state=E)}sText(){0!==this.tags.length?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:t}=this;const{chunk:n}=this;t:for(;;)switch(this.getCode()){case p:this.entity+=`${n.slice(t,this.prevI)}\n`,t=this.i;break;case pt:{const{entityReturnState:i}=this,e=this.entity+n.slice(t,this.prevI);let r;this.state=i,""===e?(this.fail("empty entity name."),r="&;"):(r=this.parseEntity(e),this.entity=""),i===x&&void 0===this.textHandler||(this.text+=r);break t}case b:this.entity+=n.slice(t);break t}}sOpenWaka(){const t=this.getCode();if(r(t))this.state=nt,this.unget(),this.xmlDeclPossible=!1;else switch(t){case bt:this.state=ft,this.xmlDeclPossible=!1;break;case gt:this.state=F,this.openWakaBang="",this.xmlDeclPossible=!1;break;case St:this.state=W;break;default:this.fail("disallowed character in tag name"),this.state=x,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=q,this.openWakaBang="";break;case"--":this.state=M,this.openWakaBang="";break;case"DOCTYPE":this.state=T,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(mt)&&(this.state=U)}sCommentEnding(){var t;const n=this.getCodeNorm();n===mt?(this.state=V,null===(t=this.commentHandler)||void 0===t||t.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(n)}`,this.state=M)}sCommentEnded(){const t=this.getCodeNorm();t!==Tt?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(t)}`,this.state=M):this.state=x}sCData(){this.captureToChar(It)&&(this.state=z)}sCDataEnding(){const t=this.getCodeNorm();t===It?this.state=H:(this.text+=`]${String.fromCodePoint(t)}`,this.state=q)}sCDataEnding2(){var t;const n=this.getCodeNorm();switch(n){case Tt:null===(t=this.cdataHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=x;break;case It:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(n)}`,this.state=q}}sPIFirstChar(){const t=this.getCodeNorm();this.nameStartCheck(t)?(this.piTarget+=String.fromCodePoint(t),this.state=j):t===St||i(t)?(this.fail("processing instruction without a target."),this.state=t===St?X:$):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(t),this.state=j)}sPIRest(){const{chunk:t,i:n}=this;for(;;){const e=this.getCodeNorm();if(e===b)return void(this.piTarget+=t.slice(n));if(!this.nameCheck(e)){this.piTarget+=t.slice(n,this.prevI);const r=e===St;r||i(e)?"xml"===this.piTarget?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=r?tt:G):this.state=r?X:$:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(e));break}}}sPIBody(){if(0===this.text.length){const t=this.getCodeNorm();t===St?this.state=X:i(t)||(this.text=String.fromCodePoint(t))}else this.captureToChar(St)&&(this.state=X)}sPIEnding(){var t;const n=this.getCodeNorm();if(n===Tt){const{piTarget:n}=this;"xml"===n.toLowerCase()&&this.fail("the XML declaration must appear at the start of the document."),null===(t=this.piHandler)||void 0===t||t.call(this,{target:n,body:this.text}),this.piTarget=this.text="",this.state=x}else n===St?this.text+="?":(this.text+=`?${String.fromCodePoint(n)}`,this.state=$);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const t=this.skipSpaces();t!==St?t!==b&&(this.state=Y,this.name=String.fromCodePoint(t)):this.state=tt}sXMLDeclName(){const t=this.captureTo(Pt);if(t===St)return this.state=tt,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(i(t)||t===kt){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=t===kt?J:K}}sXMLDeclEq(){const t=this.getCodeNorm();if(t===St)return this.state=tt,void this.fail("XML declaration is incomplete.");i(t)||(t!==kt&&this.fail("value required."),this.state=J)}sXMLDeclValueStart(){const t=this.getCodeNorm();if(t===St)return this.state=tt,void this.fail("XML declaration is incomplete.");i(t)||(Nt(t)?this.q=t:(this.fail("value must be quoted."),this.q=wt),this.state=Q)}sXMLDeclValue(){const t=this.captureTo([this.q,St]);if(t===St)return this.state=tt,this.text="",void this.fail("XML declaration is incomplete.");if(t===b)return;const n=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const t=n;this.xmlDecl.version=t,/^1\.[0-9]+$/.test(t)?this.opt.forceXMLVersion||this.setXMLVersion(t):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(n)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=n;break;case"standalone":"yes"!==n&&"no"!==n&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=n}this.name="",this.state=Z}sXMLDeclSeparator(){const t=this.getCodeNorm();t!==St?(i(t)||(this.fail("whitespace required."),this.unget()),this.state=G):this.state=tt}sXMLDeclEnding(){var t;this.getCodeNorm()===Tt?("xml"!==this.piTarget?this.fail("processing instructions are not allowed before root."):"version"!==this.name&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),null===(t=this.xmldeclHandler)||void 0===t||t.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=x):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var t;const n=this.captureNameChars();if(n===b)return;const e=this.tag={name:this.name,attributes:v.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=e.ns=v.create(null)),null===(t=this.openTagStartHandler)||void 0===t||t.call(this,e),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),n){case Tt:this.openTag();break;case bt:this.state=it;break;default:i(n)||this.fail("disallowed character in tag name."),this.state=et}}sOpenTagSlash(){this.getCode()===Tt?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=et)}sAttrib(){const t=this.skipSpaces();t!==b&&(r(t)?(this.unget(),this.state=rt):t===Tt?this.openTag():t===bt?this.state=it:this.fail("disallowed character in attribute name."))}sAttribName(){const t=this.captureNameChars();t===kt?this.state=st:i(t)?this.state=ut:t===Tt?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):t!==b&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const t=this.skipSpaces();switch(t){case b:return;case kt:this.state=st;break;default:this.fail("attribute without value."),this.text="",this.name="",t===Tt?this.openTag():r(t)?(this.unget(),this.state=rt):(this.fail("disallowed character in attribute name."),this.state=et)}}sAttribValue(){const t=this.getCodeNorm();Nt(t)?(this.q=t,this.state=ot):i(t)||(this.fail("unquoted attribute value."),this.state=at,this.unget())}sAttribValueQuoted(){const{q:t,chunk:n}=this;let{i:i}=this;for(;;)switch(this.getCode()){case t:return this.pushAttrib(this.name,this.text+n.slice(i,this.prevI)),this.name=this.text="",this.q=null,void(this.state=ct);case yt:return this.text+=n.slice(i,this.prevI),this.state=L,void(this.entityReturnState=ot);case dt:case p:case vt:this.text+=`${n.slice(i,this.prevI)} `,i=this.i;break;case _t:return this.text+=n.slice(i,this.prevI),void this.fail("disallowed character.");case b:return void(this.text+=n.slice(i))}}sAttribValueClosed(){const t=this.getCodeNorm();i(t)?this.state=et:t===Tt?this.openTag():t===bt?this.state=it:r(t)?(this.fail("no whitespace between attributes."),this.unget(),this.state=rt):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const t=this.captureTo(xt);switch(t){case yt:this.state=L,this.entityReturnState=at;break;case _t:this.fail("disallowed character.");break;case b:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",t===Tt?this.openTag():this.state=et}}sCloseTag(){const t=this.captureNameChars();t===Tt?this.closeTag():i(t)?this.state=ht:t!==b&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case Tt:this.closeTag();break;case b:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:t,forbiddenState:n}=this;const{chunk:i,textHandler:e}=this;t:for(;;)switch(this.getCode()){case _t:if(this.state=B,void 0!==e){const{text:n}=this,r=i.slice(t,this.prevI);0!==n.length?(e(n+r),this.text=""):0!==r.length&&e(r)}n=Mt;break t;case yt:this.state=L,this.entityReturnState=x,void 0!==e&&(this.text+=i.slice(t,this.prevI)),n=Mt;break t;case It:switch(n){case Mt:n=Ut;break;case Ut:n=Vt;break;case Vt:break;default:throw new f("impossible state")}break;case Tt:n===Vt&&this.fail('the string "]]>" is disallowed in char data.'),n=Mt;break;case p:void 0!==e&&(this.text+=`${i.slice(t,this.prevI)}\n`),t=this.i,n=Mt;break;case b:void 0!==e&&(this.text+=i.slice(t));break t;default:n=Mt}this.forbiddenState=n}handleTextOutsideRoot(){let{i:t}=this;const{chunk:n,textHandler:e}=this;let r=!1;t:for(;;){const u=this.getCode();switch(u){case _t:if(this.state=B,void 0!==e){const{text:i}=this,r=n.slice(t,this.prevI);0!==i.length?(e(i+r),this.text=""):0!==r.length&&e(r)}break t;case yt:this.state=L,this.entityReturnState=x,void 0!==e&&(this.text+=n.slice(t,this.prevI)),r=!0;break t;case p:void 0!==e&&(this.text+=`${n.slice(t,this.prevI)}\n`),t=this.i;break;case b:void 0!==e&&(this.text+=n.slice(t));break t;default:i(u)||(r=!0)}}r&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(t,n){var i;const{prefix:e,local:r}=this.qname(t),u={name:t,prefix:e,local:r,value:n};if(this.attribList.push(u),null===(i=this.attributeHandler)||void 0===i||i.call(this,u),"xmlns"===e){const t=n.trim();"1.0"===this.currentXMLVersion&&""===t&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[r]=t,Lt(this,r,t)}else if("xmlns"===t){const t=n.trim();this.topNS[""]=t,Lt(this,"",t)}}pushAttribPlain(t,n){var i;const e={name:t,value:n};this.attribList.push(e),null===(i=this.attributeHandler)||void 0===i||i.call(this,e)}end(){var t,n;this.sawRoot||this.fail("document must contain a root element.");const{tags:i}=this;for(;i.length>0;){const t=i.pop();this.fail(`unclosed tag: ${t.name}`)}this.state!==_&&this.state!==x&&this.fail("unexpected end.");const{text:e}=this;return 0!==e.length&&(null===(t=this.textHandler)||void 0===t||t.call(this,e),this.text=""),this.Wu=!0,null===(n=this.endHandler)||void 0===n||n.call(this),this._init(),this}resolve(t){var n,i;let e=this.topNS[t];if(void 0!==e)return e;const{tags:r}=this;for(let n=r.length-1;n>=0;n--)if(void 0!==(e=r[n].ns[t]))return e;return void 0!==(e=this.ns[t])?e:null===(i=(n=this.opt).resolvePrefix)||void 0===i?void 0:i.call(n,t)}qname(t){const n=t.indexOf(":");if(-1===n)return{prefix:"",local:t};const i=t.slice(n+1),e=t.slice(0,n);return(""===e||""===i||i.includes(":"))&&this.fail(`malformed name: ${t}.`),{prefix:e,local:i}}processAttribsNS(){var t;const{attribList:n}=this,i=this.tag;{const{prefix:n,local:e}=this.qname(i.name);i.prefix=n,i.local=e;const r=i.uri=null!==(t=this.resolve(n))&&void 0!==t?t:"";""!==n&&("xmlns"===n&&this.fail('tags may not have "xmlns" as prefix.'),""===r&&(this.fail(`unbound namespace prefix: ${JSON.stringify(n)}.`),i.uri=n))}if(0===n.length)return;const{attributes:e}=i,r=new Set;for(const t of n){const{name:n,prefix:i,local:u}=t;let s,o;""===i?(s="xmlns"===n?g:"",o=n):(void 0===(s=this.resolve(i))&&(this.fail(`unbound namespace prefix: ${JSON.stringify(i)}.`),s=i),o=`{${s}}${u}`),r.has(o)&&this.fail(`duplicate attribute: ${o}.`),r.add(o),t.uri=s,e[n]=t}this.attribList=[]}processAttribsPlain(){const{attribList:t}=this,n=this.tag.attributes;for(const{name:i,value:e}of t)void 0!==n[i]&&this.fail(`duplicate attribute: ${i}.`),n[i]=e;this.attribList=[]}openTag(){var t;this.processAttribs();const{tags:n}=this,i=this.tag;i.isSelfClosing=!1,null===(t=this.openTagHandler)||void 0===t||t.call(this,i),n.push(i),this.state=x,this.name=""}openSelfClosingTag(){var t,n,i;this.processAttribs();const{tags:e}=this,r=this.tag;r.isSelfClosing=!0,null===(t=this.openTagHandler)||void 0===t||t.call(this,r),null===(n=this.closeTagHandler)||void 0===n||n.call(this,r),null===(this.tag=null!==(i=e[e.length-1])&&void 0!==i?i:null)&&(this.closedRoot=!0),this.state=x,this.name=""}closeTag(){const{tags:t,name:n}=this;if(this.state=x,this.name="",""===n)return this.fail("weird empty close tag."),void(this.text+="</>");const i=this.closeTagHandler;let e=t.length;for(;e-- >0;){const e=this.tag=t.pop();if(this.topNS=e.ns,null==i||i(e),e.name===n)break;this.fail("unexpected close tag.")}0===e?this.closedRoot=!0:e<0&&(this.fail(`unmatched closing tag: ${n}.`),this.text+=`</${n}>`)}parseEntity(t){if("#"!==t[0]){const n=this.ENTITIES[t];return void 0!==n?n:(this.fail(this.isName(t)?"undefined entity.":"disallowed character in entity name."),`&${t};`)}let n=NaN;return"x"===t[1]&&/^#x[0-9a-f]+$/i.test(t)?n=l(t.slice(2),16):/^#[0-9]+$/.test(t)&&(n=l(t.slice(1),10)),this.isChar(n)?String.fromCodePoint(n):(this.fail("malformed character entity."),`&${t};`)}}}),lI=function(){function t(){}return t.prototype.si=function(t){var n=new dI.SaxesParser({xmlns:!0,defaultXMLVersion:"1.0",forceXMLVersion:!0}),i=new _I,e=[i];function r(t){e[e.length-1]._i(t)}return n.on("text",function(t){e.length>1&&r(new bI(t))}),n.on("cdata",function(t){r(new pI(t))}),n.on("opentag",function(t){for(var n=t.local,i=t.uri,u=t.prefix,s=new yI({fi:n,vi:""===i?void 0:i,NL:""===u?void 0:u}),o=t.attributes,c=0,a=v.keys(o);c<a.length;c++){var f=o[a[c]],h=f.prefix,d=f.local,l=f.uri,w=f.value,g=new wI({fi:d,li:w,vi:""===l?void 0:l,NL:""===h?void 0:h});s.CL(g)}r(s),e.push(s)}),n.on("closetag",function(){e.pop()}),n.on("error",function(t){throw new cn(t)}),n.write(t).close(),i},t}(),wI=function(){function t(t){this.AL=void 0,this.OL=void 0,this.PL=void 0,this.g=void 0,this.AL=t.fi,this.g=t.li,this.OL=t.vi,this.PL=t.NL}var n=t.prototype;return n.ci=function(t){return this===t||!!TI(this,t)&&(this.AL===t.AL&&this.OL===t.OL&&this.PL===t.PL&&this.g===t.g)},n.ai=function(){return new t({fi:this.fi,li:this.li,vi:this.vi,NL:this.di})},ft(t,[{key:"ti",get:function(){return en.ii}},{key:"fi",get:function(){return this.AL}},{key:"hi",get:function(){return void 0===this.PL?this.AL:this.PL+":"+this.AL}},{key:"vi",get:function(){return this.OL}},{key:"di",get:function(){return this.PL}},{key:"li",get:function(){return this.g}}]),t}(),gI=function(){function t(){this.gi=[]}var n=t.prototype;return n.yi=function(t){return this.gi.filter(function(n){return kI(n)&&n.bi===t})},n.pi=function(t,n){return this.gi.filter(function(i){return kI(i)&&i.fi===n&&i.vi===t})},n._i=function(t){this.gi.push(t)},ft(t,[{key:"mi",get:function(){return this.gi}},{key:"Ti",get:function(){return this.gi.filter(kI)}}]),t}(),yI=function(t){function n(n){var i;return(i=t.call(this)||this).AL=void 0,i.OL=void 0,i.PL=void 0,i.xL=[],i.AL=n.fi,i.OL=n.vi,i.PL=n.NL,i}vt(n,t);var i=n.prototype;return i.LL=function(t){for(var n=0,i=this.mi;n<i.length;n++){var e=i[n];kI(e)?e.LL(t):t.push(e.Oi)}},i.Ei=function(t,n){for(var i=0,e=this.xL;i<e.length;i++){var r=e[i];if(r.fi===n&&r.vi===t)return r.li}},i.Si=function(t){for(var n=0,i=this.xL;n<i.length;n++){var e=i[n];if(e.hi===t)return e.li}},i.CL=function(t){this.xL.push(t)},i.Ii=function(t){for(var n=0;n<this.xL.length;n++)if(this.xL[n].hi===t)return void this.xL.splice(n,1)},i.Ri=function(t,n){for(var i=0;i<this.xL.length;i++)if(this.xL[i].fi===n&&this.xL[i].vi===t)return void this.xL.splice(i,1)},i.Di=function(t,n){this.Ii(t),this.CL(new wI({fi:t,li:n}))},i.Ni=function(t,n,i){this.Ii(n);var e=n.split(":");this.CL(new wI({fi:e[e.length-1],li:i,vi:t,NL:e.length>1?e[0]:void 0}))},i.ai=function(t){var i=new n({fi:this.fi,vi:this.vi,NL:this.di});return this.Ci.forEach(function(t){return i.CL(t.ai())}),t&&this.mi.forEach(function(n){return i._i(n.ai(t))}),i},i.ci=function(t){return this===t||!!TI(this,t)&&(this.AL===t.AL&&this.PL===t.PL&&this.OL===t.OL&&(SI(this.Ci,t.Ci)&&SI(this.mi,t.mi)))},ft(n,[{key:"ti",get:function(){return en.ni}},{key:"Ci",get:function(){return this.xL}},{key:"fi",get:function(){return this.AL}},{key:"vi",get:function(){return this.OL}},{key:"di",get:function(){return this.PL}},{key:"bi",get:function(){return void 0===this.PL?this.AL:this.PL+":"+this.AL}},{key:"Ai",get:function(){var t=[];return this.LL(t),t.join("")}}]),n}(gI),mI=function(){function t(t){this.P=void 0,this.P=t}return ft(t,[{key:"Oi",get:function(){return this.P}}]),t}(),bI=function(t){function n(n){return t.call(this,n)||this}vt(n,t);var i=n.prototype;return i.ai=function(){return new n(this.Oi)},i.ci=function(t){return this===t||!!TI(this,t)&&this.Oi===t.Oi},ft(n,[{key:"ti",get:function(){return en.ei}}]),n}(mI),pI=function(t){function n(n){return t.call(this,n)||this}vt(n,t);var i=n.prototype;return i.ai=function(){return new n(this.Oi)},i.ci=function(t){return this===t||!!TI(this,t)&&this.Oi===t.Oi},ft(n,[{key:"ti",get:function(){return en.ri}}]),n}(mI),_I=function(t){function n(){return t.apply(this,arguments)||this}vt(n,t);var i=n.prototype;return i.ai=function(t){var i=new n;return t&&this.mi.forEach(function(n){return i._i(n.ai(t))}),i},i.ci=function(t){return this===t||!!TI(this,t)&&SI(this.mi,t.mi)},ft(n,[{key:"ti",get:function(){return en.ui}},{key:"Pi",get:function(){return this.Ti[0]}}]),n}(gI);function kI(t){return rn(t)}function TI(t,n){return t.ti===n.ti}function SI(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++)if(!t[i].ci(n[i]))return!1;return!0}var EI,II=["adBreak"],RI=["adBreak"];function DI(t){return void 0===t.adBreak||void 0===t.adBreak.ads?t:He({},t,{adBreak:He({},t.adBreak,{ads:t.adBreak.ads.map(function(t){t.adBreak;return Wb(t,II)})})})}function NI(t){return void 0===t.ads?t:He({},t,{ads:t.ads.map(function(t){t.adBreak;return Wb(t,RI)})})}function CI(t){return"string"==typeof t.date?new Date(t.date):t.date}function AI(t){var n;return t.cue.track?(n=PI(t.cue,t.cue.track.type)).track={uid:t.cue.track.uid}:n=PI(t.cue,""),n}function OI(t){var n=[];return function t(i){if(Array.isArray(i))return i.map(t);if("object"==typeof i&&null!==i&&v.keys(i).length){if(n.includes(i))return"[Circular ~]";n.push(i);var e=v.entries(i);return v.fromEntries(e.map(function(i){var e=i[0],r=i[1],u=t(r);return"object"==typeof r&&null!==r&&"[Circular ~]"!==u&&n.pop(r),[e,u]}))}return i}(t)}function PI(t,n){var i={};return i.content=t.content,i.endTime=t.endTime,i.startTime=t.startTime,i.id=t.id,i.uid=t.uid,function(){switch(n){case"webvtt":i.align=t.align,i.line=t.line,i.lineAlign=t.lineAlign,i.position=t.position,i.positionAlign=t.positionAlign,i.region=t.region,i.size=t.size,i.snapToLines=t.snapToLines,i.text=t.text,i.vertical=t.vertical;break;case"ttml":i.content=function t(n){var i=n.children;if(0!==i.length)for(var e=0;e<i.length;e++){var r=i.item(e);return"image"===r.nodeName||"smpte:image"===r.nodeName?r:t(r)}}(t.content).innerHTML;for(var e=t.content,r={};e.firstChild&&e.firstChild.outerHTML;){(new lI).si(e.firstChild.outerHTML).Pi.Ci.forEach(function(t){r[t.fi]=t.li}),e=e.firstChild}i.ttmlAttributes=r;break;case"daterange":var u={};for(var s in t.customAttributes){var o=t.customAttributes[s];if("object"==typeof(a=o)&&null!==a){var c=xI(o);u[s]={type:EI.BL,value:c}}else BI(o)?u[s]={type:EI.FL,value:o}:u[s]={type:EI.ML,value:String(o)}}i.attributedClass=String(t.class),i.startDate=t.startDate,i.endDate=t.endDate,i.duration=t.duration,i.plannedDuration=t.plannedDuration,i.endOnNext=t.endOnNext,i.scte35Cmd=xI(t.scte35Cmd),i.scte35Out=xI(t.scte35Out),i.scte35In=xI(t.scte35In),i.customAttributes=u}var a}(),i}function xI(t){if(void 0!==t)return wu(t)}function LI(t){var n={};if(n.kind=t.kind,n.language=t.language,n.label=t.label,n.id=t.id,n.uid=t.uid,n.src=t.src,"cues"in t){n.inBandMetadataTrackDispatchType=t.inBandMetadataTrackDispatchType,n.mode=t.mode,n.type=t.type;var i=[];if(t.cues)for(var e=0;e<t.cues.length;e++){var r=t.cues[e];i.push(PI(r,t.type))}n.cues=i;var u=[];if(t.activeCues)for(var s=0;s<t.activeCues.length;s++){var o=t.activeCues[s];u.push(PI(o,t.type))}n.activeCues=u}else"enabled"in t&&(n.enabled=t.enabled);return n}function BI(t){return"number"==typeof t}!function(t){t.ML="daterange-ca-type_string",t.FL="daterange-ca-type_number",t.BL="daterange-ca-type_arraybuffer"}(EI||(EI={}));var FI={cue:function(t){var n={};switch(n.date=CI(t),n.type=t.type,t.type){case"enter":case"exit":case"update":n.cue=AI(t)}return n},textTrack:function(t){var n={};switch(n.date=CI(t),n.type=t.type,t.type){case"addcue":t.cue.uid||(t.cue.uid=qI().register(t.cue));var i=VI()[zI()].eventListeners;t.cue.addEventListener("enter",function(t){i.InternalCueHelperEvent(t)}),t.cue.addEventListener("exit",function(t){i.InternalCueHelperEvent(t)}),t.cue.addEventListener("update",function(t){i.InternalCueHelperEvent(t)});case"removecue":case"entercue":case"exitcue":n.cue=AI(t);break;case"cuechange":for(var e=[],r=0;r<t.track.activeCues.length;r++){var u=t.track.activeCues[r];e.push(PI(u,t.track.type))}n.track={activeCues:e,uid:t.track.uid}}return n},textTrackList:function(t){var n={};switch(n.date=CI(t),n.type=t.type,t.type){case"addtrack":t.track.cues&&t.track.cues.length&&t.track.cues.length>0&&t.track.cues.map(function(t){t.uid=qI().register(t)}),n.track=LI(t.track);case"removetrack":case"change":n.track=LI(t.track)}return n},default:function(t){var n={};switch(n.date=CI(t),n.type=t.type,t.type){case"play":case"playing":case"pause":case"seeking":case"seeked":case"ended":case"waiting":case pc.za:n.currentTime=t.currentTime,n.volume=t.volume;break;case"emptied":n.currentTime=t.currentTime;break;case"timeupdate":n.currentTime=t.currentTime,n.currentProgramDateTime=t.currentProgramDateTime;break;case"progress":n.currentTime=t.currentTime;break;case"ratechange":n.currentTime=t.currentTime,n.playbackRate=t.playbackRate;break;case"durationchange":n.duration=t.duration;break;case"sourcechange":n.source=t.source;break;case"readystatechange":case"loadedmetadata":case"loadeddata":case"loadstart":case"canplay":case"canplaythrough":n.currentTime=t.currentTime,n.readyState=t.readyState;break;case"error":n.error=t.error,n.errorObject=He({name:t.errorObject.name,cause:t.errorObject.cause},t.errorObject);break;case"addtrack":case"removetrack":case"change":n.track=LI(t.track);break;case"adbreakbegin":case"adbreakend":n.ad=NI(t.ad);break;case"adloaded":case"adimpression":n.ad=DI(t.ad);break;case"aderror":t.UL&&(n.UL=t.UL),t.message&&(n.message=t.message);break;case"statechange":n.state=t.state;break;case"presentationmodechange":case"resize":break;case"adfirstquartile":case"admidpoint":case"adthirdquartile":case"adbegin":case"adend":n.currentTime=t.currentTime,n.ad=DI(t.ad)}return OI(n)},minimizeCueHelper:function(t){var n={};return n.date=CI(t),n.type=t.type,n.cue=AI(t),n.track={uid:t.cue.track.uid},n},adReplacer:DI,adBreakReplacer:NI,removeCircularReferences:OI},MI=function(){this.stringify=aI,this.minimize=FI};function UI(){return Z.self}function VI(){return UI().THEOplayerBridge}function qI(){return UI().THEOCueMirrorMap}function zI(){return UI().THEOplayerGlobalID}function HI(){var t=UI();if(t.THEOplayerBridge){var n=new uI;t.THEOplayerBridge=tw(n,t.THEOplayerBridge)}else t.THEOplayerBridge=new uI;t.THEOplayerUtils||(t.THEOplayerUtils=new MI),t.THEOCueMirrorMap||(t.THEOCueMirrorMap=new sI)}HI();var WI=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.si=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new cn(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new cn;return new jI(n)},n}(an),jI=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.ai=function(t){return new n(this.wi.cloneNode(t))},ft(n,[{key:"mi",get:function(){return void 0===this.gi&&(this.gi=GI(this.wi.childNodes)),this.gi}},{key:"Pi",get:function(){return new $I(this.wi.documentElement)}}]),n}(gn),$I=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.ai=function(t){var i=new n(this.wi.cloneNode(t));return i.Ci.length<1&&this.Ci.length>0&&this.Ci.forEach(function(t){i.Di(t.hi,t.li)}),i},ft(n,[{key:"mi",get:function(){return void 0===this.gi&&(this.gi=GI(this.wi.childNodes)),this.gi}}]),n}(vn);function XI(t){switch(t.nodeType){case en.ni:return new $I(t)}return mn(t)}function GI(t){for(var n=[],i=0;i<t.length;i++){var e=XI(t.item(i));e&&n.push(e)}return n}dt(new(function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).VL=new WI,n}return vt(n,t),n.prototype.si=function(t){return this.VL.si(t)},n}(Ul)));var YI=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).type=n,e.detail=i,e}return vt(n,t),n}(Zr),KI=function(t){function n(){return t.apply(this,arguments)||this}vt(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.Xr(new YI(t,n))},i.addEventListener=function(t,n){this.Gr(t,n)},i.removeEventListener=function(t,n){this.Qr(t,n)},n}(Rw);function JI(t,n){return t.Gg<=n&&t.Yg>n}function QI(t,n){return function(t,n){return Dr(t.Gg,n.Gg,fy)}(t,n)||function(t,n){return Dr(t.Yg,n.Yg,fy)}(t,n)}function ZI(t,n){var i=function(t,n,i,e,r,u,s){void 0===r&&(r=!1),void 0===u&&(u=0),void 0===s&&(s=t.length);for(var o=u,c=s-1;o<=c;){var a=o+(c-o>>1),f=e(i(t[a]),n);if(f<0)o=a+1;else if(f>0)c=a-1;else{if(!(r&&a>u&&0===e(i(t[a-1]),n)))return a;c=a-1}}return~o}(t,n,Ft,QI,!0);if(i<0)return i;for(;i<t.length&&QI(n,t[i])===kr.Er;i++)if(t[i].uy(n))return i;return-(i+1)}function tR(t){var n=t.Pd;if(!n)return-1;if(t instanceof hy)return n.qL(t);var i=n.Bl;if(!i)return-1;var e=ZI(i.al,t);return e>=0?e:-1}var nR=function(t){function n(n,i){var e;return(e=t.call(this,ty.Hg,n)||this).bm=i,e}return vt(n,t),n.prototype.Od=function(){return new iR(this.Xg.Ad)},n}(ry),iR=function(t){function n(n){return t.call(this,ny.Hg,n)||this}return vt(n,t),n}(uy),eR=function(t){function n(n,i){var e;return(e=t.call(this,ty.jg,n)||this).bm=i,e}return vt(n,t),n.prototype.Od=function(){return new rR(this.Xg.Ad)},n}(ry),rR=function(t){function n(n){return t.call(this,ny.jg,n)||this}return vt(n,t),n}(uy),uR=function(t){function n(n){var i;return(i=t.call(this,ql.Md)||this).Xg=n,i}return vt(n,t),n.prototype.Od=function(){return new sR(this.Xg.Ad)},n}(zl),sR=function(t){function n(n){var i;return(i=t.call(this,"entercue")||this).cue=n,i}return vt(n,t),n}(Hl),oR=function(t){function n(n){var i;return(i=t.call(this,ql.Vd)||this).Xg=n,i}return vt(n,t),n.prototype.Od=function(){return new cR(this.Xg.Ad)},n}(zl),cR=function(t){function n(n){var i;return(i=t.call(this,"exitcue")||this).cue=n,i}return vt(n,t),n}(Hl),aR=function(t){function n(n){var i;return(i=t.call(this,ql.zd)||this).Pd=n,i}return vt(n,t),n.prototype.Od=function(){return new fR(this.Pd.Ad)},n}(zl),fR=function(t){function n(n){var i;return(i=t.call(this,"cuechange")||this).track=n,i}return vt(n,t),n}(Hl);function hR(t,n){return Rr(t.bm,n.bm)||function(t,n){return t.Pd===n.Pd?Ir(tR(t),tR(n)):Km(t.Pd,n.Pd)}(t.Xg,n.Xg)||function(t,n){return t===n?kr.Er:t===ty.Hg?kr.Rr:kr.Ir}(t.type,n.type)}var vR=function(){function t(t,n){var i=this;this.tR=void 0,this.zL=void 0,this.zw=[],this.HL=0,this.WL=0,this.jL=[],this.$L=!1,this.XL=!1,this.GL=void 0,this.YL=function(){i.HL=0,i.KL(),i.JL()},this.QL=function(){i.KL(),i.JL()},this.ZL=function(){i.XL=!0,i.GL=i.tR.yw,i.tB()},this.nB=function(){i.KL(),i.JL()},this.iB=function(){i.eB(),i.KL(),i.JL()},this.rB=function(){i.uB()},this.sB=function(t){Ar(i.jL,t.Xg),i.uB()},this.zL=n,this.tR=t,t.Gr(pc.qa,this.QL),t.Gr(pc.Da,this.QL),t.Gr(Jw.gw,this.QL),t.Gr(pc.Ra,this.QL),t.Gr(pc.xa,this.ZL),t.Gr(pc.Pa,this.nB),this.uB()}var n=t.prototype;return n.cl=function(){xr(this.jL);for(var t=0,n=this.zw.slice();t<n.length;t++){var i=n[t];this.sl(i)}this.tB(),this.HL=0,this.WL=0,this.$L=!1,this.XL=!1,this.GL=void 0},n.ul=function(t){Pr(this.zw,t)||(this.zw.push(t),t.Gr(ql.xd,this.rB),t.Gr(ql.Bd,this.sB),t.Gr(ql.Wd,this.iB),t.Bl.fl&&this.uB(),this.eB())},n.sl=function(t){if(Ar(this.zw,t)){if(t.Qr(ql.xd,this.rB),t.Qr(ql.Bd,this.sB),t.Qr(ql.Wd,this.iB),t.Bl.fl){for(var n=0,i=t.Bl.al;n<i.length;n++){var e=i[n];Ar(this.jL,e)}this.uB()}this.eB()}},n.eB=function(){this.$L=this.zw.some(function(t){return t.Nl!==yw.Ol})},n.JL=function(){this.tR.Sw||this.tR.kw?this.tB():this.uB()},n.uB=function(){this.$L&&(this.HL||(this.HL=this.zL.V(this.YL)))},n.tB=function(){this.HL&&(this.zL.oB(this.HL),this.HL=0)},n.KL=function(){var t;if(this.$L&&!this.tR.Sw){var n=this.zw,i=this.WL,e=null!=(t=this.GL)?t:this.tR.yw,r=e-i<-.1,u=this.XL||r;u&&e>i&&e-i<.1&&(u=!1),this.XL=!1,this.GL=void 0;for(var s,o=[],c=0;c<n.length;c++){var a=n[c];if(a.Nl!==yw.Ol){a.cB(e,u);for(var f=0,h=a.Fl.al;f<h.length;f++){var v=h[f];o.push(v)}}}if(u)s=this.jL;else{s=[];for(var l=0;l<n.length;l++){var w=n[l];w.Nl!==yw.Ol&&Ym(w,i-1/6,e,s)}}for(var g=s.length-1;g>=0;g--)Pr(o,s[g])&&Or(s,g);var y=[];if(!u)for(var m=s.length-1;m>=0;m--){var b=s[m];b.Gg>=i&&b.Yg<=e&&(y.push(b),Or(s,m))}for(var p=[],_=[],k=0;k<y.length;k++){var T=y[k];T.sy||p.push(new nR(T,T.Gg)),p.push(new eR(T,d.max(T.Gg,T.Yg)))}for(var S=0,E=s;S<E.length;S++){var I=E[S];I.sy&&(p.push(new eR(I,d.max(I.Gg,I.Yg))),I.sy=!1)}for(var R=0;R<o.length;R++){var D=o[R];D.sy||(p.push(new nR(D,D.Gg)),D.sy=!0)}p.sort(hR);for(var N=0;N<p.length;N++){var C=p[N],A=C.Xg;A.Xr(C);var O=A.Pd;O&&(C.type===ty.Hg?O.Xr(new uR(A)):O.Xr(new oR(A)),Pr(_,O)||_.push(O))}_.sort(Km);for(var P=0;P<_.length;P++){var x=_[P];x.Xr(new aR(x))}this.WL=e,this.jL=o}},n.et=function(){this.cl(),this.tR.Qr(pc.qa,this.QL),this.tR.Qr(pc.Da,this.QL),this.tR.Qr(Jw.gw,this.QL),this.tR.Qr(pc.Ra,this.QL),this.tR.Qr(pc.xa,this.ZL),this.tR.Qr(pc.Pa,this.nB)},t}(),dR=function(){function t(){}var n=t.prototype;return n.V=function(t){return yS(t)},n.oB=function(t){mS(t)},t}(),lR=new dR,wR=function(t){function n(n,i){return void 0===i&&(i=lR),t.call(this,n,i)||this}return vt(n,t),n}(vR),gR=function(t){function n(){return t.call(this,pc.ka)||this}return vt(n,t),n}(Zr),yR=function(t){function n(n){var i;return(i=t.call(this,pc.Na)||this).currentTime=n,i}return vt(n,t),n}(Zr),mR=function(t){function n(n,i){var e;return(e=t.call(this)||this).aB=void 0,e.fB=void 0,e.hB=function(t){e.aB.vB("THEOplayerABRSetTargetBuffer",t.yO),e.Xr(t)},e.dB=function(t){e.aB.vB("THEOplayerABRSetStrategy",t.bO),e.Xr(t)},e.aB=n,e.fB=i,e.fB.Gr("mO",e.hB),e.fB.Gr("pO",e.dB),e}return vt(n,t),ft(n,[{key:"CO",get:function(){var t;switch(this.bO.type){case HS.PERFORMANCE:return 1;case HS.QUALITY:return 0;case HS.BANDWIDTH:return null!=(t=this.bO.metadata)&&t.bitrate&&!g(this.bO.metadata.bitrate)?this.bO.metadata.bitrate:0;default:return 0}}},{key:"Ad",get:function(){return this.fB.Ad}},{key:"bO",get:function(){return this.fB.bO},set:function(t){this.fB.bO=t}},{key:"yO",get:function(){return this.fB.yO},set:function(t){this.fB.yO=t}},{key:"_O",get:function(){return this.fB._O},set:function(t){this.fB._O=t}}]),n}(Jr),bR=function(){function t(t){this.lB=void 0,this.Cd=void 0,this.lB=t}var n=t.prototype;return n.Od=function(){return function(t){for(var n=[],i=0;i<t.fl;i++)n[i]=t.gu(i).Ad;return n.item=function(n){var i=0|n,e=t.gu(i);return e&&e.Ad||void 0},v.defineProperty(n,"constructor",{value:oy}),n}(this)},n.Ag=function(t){for(var n=this.lB,i=n.length-1;i>=0;i-=1){var e=n[i];if(t.uy(e))return!0}return!1},n.gu=function(t){return this.lB[t]},ft(t,[{key:"al",get:function(){return this.lB}},{key:"fl",get:function(){return this.lB.length}},{key:"Ad",get:function(){if(this.Cd){var t=this.lB;this.Cd.length=t.length;for(var n=0;n<t.length;n++)this.Cd[n]=t[n].Ad}else this.Cd=this.Od();return this.Cd}}]),t}(),pR=function(t){function n(n,i){var e;return(e=t.call(this,ql.$d)||this).Pd=n,e.Ll=i,e}return vt(n,t),n.prototype.Od=function(){return new _R(this.Pd.Ad,Sw(this.Ll))},n}(zl),_R=function(t){function n(n,i){var e;return(e=t.call(this,"readystatechange")||this).track=n,e.readyState=i,e}return vt(n,t),n}(Hl),kR=function(t){function n(n){var i;return(i=t.call(this,ql.Gd)||this).Pd=n,i}return vt(n,t),n.prototype.Od=function(){return new TR(this.Pd.Ad)},n}(zl),TR=function(t){function n(n){var i;return(i=t.call(this,"typechange")||this).track=n,i}return vt(n,t),n}(Hl),SR=function(t){function n(n){var i;return(i=t.call(this,ql.xd)||this).Xg=n,i}return vt(n,t),n.prototype.Od=function(){return new ER(this.Xg.Ad)},n}(zl),ER=function(t){function n(n){var i;return(i=t.call(this,"addcue")||this).cue=n,i}return vt(n,t),n}(Hl),IR=function(t){function n(n){var i;return(i=t.call(this,ql.Bd)||this).Xg=n,i}return vt(n,t),n.prototype.Od=function(){return new RR(this.Xg.Ad)},n}(zl),RR=function(t){function n(n){var i;return(i=t.call(this,"removecue")||this).cue=n,i}return vt(n,t),n}(Hl),DR=function(t){function n(n,i,e,r,u,s,o,c){var a;return(a=t.call(this)||this).Cd=void 0,a.Ho=void 0,a.xg=jg(),a.wB=!1,a.gB=void 0,a.yB=void 0,a.Pg=void 0,a.Os=void 0,a.bD=yw.Ol,a.mB=Jg.NONE,a.bB=void 0,a.xi=void 0,a.pB=void 0,a.lB=[],a._B=[],a.kB=void 0,a.TB=void 0,a.SB=0,a.EB=0,a.Ho=i||"",a.gB=c||"",a.yB=n,a.Os=r||"",a.wB=Boolean(u),a.pB=Boolean(o),a.xi=s||Qg.DEFAULT,a.Pg=e||"",a.kB=new bR(a.lB),a.TB=new bR(a._B),a}vt(n,t);var i=n.prototype;return i.IB=function(t){return Cr(this.kB.al,function(n){return n.pl===t})},i.Od=function(){return _w(this)},i.BD=function(t){var n=function(t){if("string"==typeof t){var n=t.toLowerCase();switch(n){case yw.Ol:case yw.Al:case yw.Cl:return n}}else if("number"==typeof t)switch(t){case 0:return yw.Ol;case 1:return yw.Al;case 2:return yw.Cl}return yw.Ol}(t);n!==this.Nl&&(this.bD=n,n===yw.Ol&&(this._B.forEach(function(t){t.sy=!1}),xr(this._B),this.EB=0),this.Xr(new Yl(this)))},i.lT=function(t){if(t&&!t.Pd){var n=ZI(this.Bl.al,t);if(!(n>=0)){t.Pd=this;var i=-(n+1);this.lB.splice(i,0,t),this.RB(i),t.ey=i,i<this.EB&&(this.EB=i),this.Xr(new SR(t))}}},i.DB=function(t){if(t&&t.Pd===this){var n=this.qL(t);if(!(n<0)){t.sy=!1;var i=this._B,e=ZI(i,t);e>=0&&Or(i,e),Or(this.lB,n),this.RB(n),t.ey=-1,this.EB>n&&--this.EB,this.Xr(new IR(t))}}},i.cB=function(t,n){var i=this._B,e=this.lB,r=this.EB,u=!1;n&&(r=0);for(var s=i.length-1;s>=0;s--){JI(i[s],t)||(u=!0,Or(i,s))}for(;r<e.length&&e[r].Gg<=t;){var o=e[r];if(0===t)break;JI(o,t)&&!Pr(i,o)&&(u=!0,i.push(o)),r++}u&&Sr(i,QI),this.EB=r},i.qL=function(t){return(-1===t.ey||t.ey>=this.SB)&&this.NB(),t.ey},i.NB=function(){for(var t=this.lB,n=this.SB;n<t.length;n++)t[n].ey=n;this.SB=t.length},i.RB=function(t){t<this.SB&&(this.SB=t)},i.Pl=function(t){this.xl||(this.Nl=t)},i.et=function(){this.Jr();for(var t=this.lB.slice(),n=0;n<t.length;n++){t[n].et()}xr(this.lB),xr(this._B)},ft(n,[{key:"Fl",get:function(){return this.TB}},{key:"Bl",get:function(){return this.kB}},{key:"gT",get:function(){return this.wB},set:function(t){this.wB=t}},{key:"xl",get:function(){return this.pB}},{key:"Ad",get:function(){return this.Cd||(this.Cd=this.Od()),this.Cd}},{key:"pl",get:function(){return this.Ho}},{key:"_l",get:function(){return this.xg}},{key:"Dl",get:function(){return this.gB},set:function(t){this.gB=t}},{key:"kl",get:function(){return this.yB}},{key:"Tl",get:function(){return this.Pg},set:function(t){t!==this.Pg&&(this.Pg=t,this.Xr(new zg(this)))}},{key:"Sl",get:function(){return this.Os}},{key:"Nl",get:function(){return this.bD},set:function(t){this.BD(t)}},{key:"Ll",get:function(){return this.mB},set:function(t){this.mB!==t&&(this.mB=t,this.Xr(new pR(this,this.mB)))}},{key:"Ml",get:function(){return this.bB},set:function(t){this.bB=t}},{key:"dr",get:function(){return this.xi},set:function(t){this.xi!==t&&(this.xi=t,this.Xr(new kR(this)))}}]),n}(Jr);function NR(t,n,i){for(var e=t[n].Gg,r=n;r>=0&&t[r].Gg===e;r--)t[r].Yg=i}var CR,AR=function(t){function n(n,i,e){var r;return(r=t.call(this,n,1/0,i,!1,e)||this).CB=void 0,r}return vt(n,t),n.prototype.uy=function(n){return this===n||ew(this,n)&&t.prototype.uy.call(this,n)&&(i=n,this.Kg===i.Kg);var i},ft(n,[{key:"Ad",get:function(){return this.Cd||(this.Cd=sy(this)),this.Cd}}]),n}(hy),OR=function(t){function n(n,i,e){return void 0===e&&(e=Qg.DEFAULT),t.call(this,qm.Gb,"",i||"","",!1,e,!1,n)||this}return vt(n,t),n}(DR),PR=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).dr=Qg.ID3,e.CB=void 0,e}vt(n,t);var i=n.prototype;return i.lT=function(n){!function(t,n){if(0!==n.length){var i=n.length-1;if(n[i].Gg<t.Gg)NR(n,i,t.Gg);else{var e=n[0];if(e.Gg>t.Gg)t.Yg=e.Gg;else{var r=ZI(n,t);if(!(r>=0)){var u=-(r+1),s=u-1;if(s>=0&&n[s].Gg<t.Gg&&NR(n,s,t.Gg),u<n.length){var o=n[u];t.Yg=o.Gg}}}}}}(n,this.lB),t.prototype.lT.call(this,n)},i.Od=function(){return _w(this)},n}(OR),xR=(pc.Da,pc.Ra,Jw.gw,pc.qa,pc.Na,pc.ka,pc.xa,pc.Pa,pc.ba,pc.Ca,pc.za,pc.ya,Jw.$d,pc.Oa,mw.Rl,Kr.au,Kr.hu,pc.la,pc.da,pc.Ha,{AB:!1,OB:50}),LR=function(){function t(t,n,i){this.Bc=void 0,this.pr=void 0,this.Xc=void 0,this.fc=void 0,this.Bc=t,this.pr=i,this.Xc=n}var n=t.prototype;return n.wT=function(t){throw new f("Not implemented yet.")},n.PB=function(t,n){var i,e;return ze.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,ze.awrap(this.pr.Tr(t.wr,n));case 2:return i=r.sent,r.next=5,ze.awrap(i.bc());case 5:return e=r.sent,r.next=8,ze.awrap(this.xB(e));case 8:return r.abrupt("return",e);case 9:case"end":return r.stop()}},null,this,null,j)},n.LB=function(t){return!1},n.BB=function(t){return j.resolve(void 0)},n.Pr=function(){return ze.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ze.awrap(this.xB(void 0));case 2:case"end":return t.stop()}},null,this,null,j)},n.xB=function(t){var n;return ze.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n=this.FB(t),i.next=3,ze.awrap(n);case 3:case"end":return i.stop()}},null,this,null,j)},n.FB=function(t){var n;return ze.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!(n=this.fc)){i.next=5;break}return i.next=4,ze.awrap(n.gc(this.Xc));case 4:this.fc=void 0;case 5:if(!t){i.next=9;break}return i.next=8,ze.awrap(t.wc(this.Xc));case 8:this.fc=t;case 9:case"end":return i.stop()}},null,this,null,j)},n.vT=function(t,n,i){throw new f("Not implemented yet.")},ft(t,[{key:"vc",get:function(){return this.Bc}},{key:"Ig",get:function(){throw new f("Not implemented yet.")},set:function(t){throw new f("Not implemented yet.")}},{key:"Rg",get:function(){return new ak([0,1/0])}},{key:"Gw",get:function(){throw new f("Not implemented yet.")}},{key:"MB",get:function(){throw new f("Not implemented yet")}},{key:"Xw",get:function(){throw new f("Not implemented yet.")}},{key:"UB",get:function(){throw new f("Not implemented yet")}},{key:"VB",get:function(){throw new f("Not implemented yet")}}]),t}();!function(t){t.qB="webkitneedkey",t.zB="webkitkeymessage",t.HB="webkitkeyerror"}(CR||(CR={}));var BR,FR,MR=function(t){function n(n,i){var e;return(e=t.call(this,CR.qB)||this).initData=n,e.sessionId=i,e}return vt(n,t),n}(Zr),UR=function(t){function n(n,i){var e;return(e=t.call(this,CR.zB)||this).message=n,e.destinationURL=i,e}return vt(n,t),n}(Zr),VR=function(t){function n(){return t.call(this,CR.HB)||this}return vt(n,t),n}(Zr),qR=function(t){function n(n,i,e,r,u){var s;return(s=t.call(this)||this).Tc=new cs,s.Fc=void 0,s.Ic=new ou,s.Uc=new cs,s.WB=function(t){s.Fc?(s.Fc.Pu(void 0),s.Fc=void 0):s.Ac("internal-error"),s.Xr(new ru)},s.jB=function(t){s.Fc&&(s.Fc.Ou(void 0),s.Fc=void 0),s.Xr(new eu(un(s),"license-request",ss(t.message).buffer,t.destinationURL||void 0))},s.Pc=n,s.Jo=i,s.$B=e,s.jc=r,s.qc=u,s}vt(n,t);var i=n.prototype;return i.nc=function(t,n,i){var e;return ze.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=i&&i.fairplay&&i.fairplay.zc){t.next=3;break}throw new h("Expected FairPlay contentId to be defined but was "+e+".");case 3:return t.next=5,ze.awrap(this.XB(rs(n),e));case 5:this.Ac("usable"),this.Uc.Ou(),this.Uc=new cs;case 8:case"end":return t.stop()}},null,this,null,j)},i.ic=function(t){return ze.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},null,null,null,j)},i.rc=function(t){var n;return ze.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==(n=rs(t)).byteLength){i.next=3;break}throw new h("Cannot call update with an empty response.");case 3:return this.Fc=new cs,this.$B.rc(this.jc,n),i.next=7,ze.awrap(this.Fc.Nu);case 7:case"end":return i.stop()}},null,this,null,j)},i.tc=function(){return ze.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ze.awrap(this.Uc);case 2:return this.$B.Qr(CR.zB,this.jB),this.$B.Qr(CR.HB,this.WB),this.Uc.Ur(),this.Tc.Ou(void 0),t.abrupt("return",this.Tc.Nu);case 7:case"end":return t.stop()}},null,this,null,j)},i.ec=function(){return ze.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}},null,null,null,j)},i.XB=function(t,n){var i;return ze.async(function(e){for(;;)switch(e.prev=e.next){case 0:i=Zo(t,n,this.qc),this.$B.Gr(CR.zB,this.jB),this.$B.Gr(CR.HB,this.WB),this.$B.GB(this.jc,i);case 4:case"end":return e.stop()}},null,this,null,j)},i.Ac=function(t){this.Ic.bu(),this.Ic.mu(su,t),this.Xr(new iu(this))},ft(n,[{key:"ac",get:function(){return this.jc}},{key:"oc",get:function(){return NaN}},{key:"sc",get:function(){return this.Tc.Nu}},{key:"cc",get:function(){return this.Ic}}]),n}(Jr),zR=function(){function t(t,n,i){this.YB=void 0,this.jc=void 0,this.qc=void 0,this.$B=void 0,this.Jo=void 0,this.Bc=void 0,this.Pc=void 0,this.$B=t,this.Jo=n,this.Bc=i;var e=Mo(i)||"video/mp4";this.Pc=Lo(e)}var i=t.prototype;return i.dc=function(t){var i;return ze.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.qc){t.next=2;break}throw new tc(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return i=new qR(this.Pc,this.Jo,this.$B,this.jc,this.qc),this.YB=i,t.abrupt("return",i);case 5:case"end":return t.stop()}},null,this,null,j)},i.lc=function(t){return this.qc=rs(t),j.resolve(!0)},i.wc=function(t){return ze.async(function(n){for(;;)switch(n.prev=n.next){case 0:t.webkitSetMediaKeys(this);case 1:case"end":return n.stop()}},null,this,null,j)},i.gc=function(t){return ze.async(function(n){for(;;)switch(n.prev=n.next){case 0:t.webkitSetMediaKeys(null);case 1:case"end":return n.stop()}},null,null,null,j)},i.createSession=function(){throw new f("Whoops.")},ft(t,[{key:"hc",get:function(){return this.Jo}},{key:"vc",get:function(){return this.Bc}},{key:"sessionId",set:function(t){this.jc=t}}]),t}(),HR=function(){function t(t,n,i){this.KB=t,this.Jo=n,this.Bc=i}var n=t.prototype;return n.pc=function(){return this.Bc},n.bc=function(){return ze.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new zR(this.KB,this.Jo,this.Bc));case 1:case"end":return t.stop()}},null,this,null,j)},ft(t,[{key:"hc",get:function(){return this.Jo}}]),t}(),WR=function(){function t(t){this.KB=void 0,this.KB=t}return t.prototype.Tr=function(t,n){var i,e,r;return ze.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=0;case 1:if(!(i<n.length)){u.next=9;break}if(e=n[i],!(r=Bo(jR,nu,t,e))){u.next=6;break}return u.abrupt("return",new HR(this.KB,t,r));case 6:i++,u.next=1;break;case 9:throw new h("Unsupported key system configuration for "+t);case 10:case"end":return u.stop()}},null,this,null,j)},t}();function jR(t,n){return t===or}!function(t){t.SN="JB"}(BR||(BR={})),function(t){t.QB="ZB"}(FR||(FR={}));var $R,XR,GR;FR.QB;!function(t){t[t.tF=0]="tF",t[t.Ga=1]="Ga",t[t.nF=2]="nF"}($R||($R={})),function(t){t.iF="eF"}(XR||(XR={})),function(t){t[t.rF=0]="rF",t[t.uF=1]="uF",t[t.sF=2]="sF"}(GR||(GR={}));var YR;St.Mn,pc.Da,pc.Ra,pc.xa,pc.Pa,pc.ba,pc.Ca,Jw.$d,mw.Rl,St.On||St.Pn;!function(t){t.oF="closed",t._v="open",t.ba="ended"}(YR||(YR={}));var KR,JR;pc.za,pc.Ca,pc.xa,pc.Da,pc.Ra,Jw.$d,pc.Da,pc.Ra,pc.xa,pc.Pa,pc.ba,mw.Rl;!function(t){t[t.ISO_8859_1=0]="ISO_8859_1",t[t.UTF16_BOM=1]="UTF16_BOM",t[t.UTF16=2]="UTF16",t[t.UTF8=3]="UTF8"}(KR||(KR={})),function(t){t[t.V22=2]="V22",t[t.V23=3]="V23",t[t.V24=4]="V24"}(JR||(JR={}));var QR=function(t){function n(n){var i;return(i=t.call(this,0,n.Kg)||this).cF=void 0,i.cF=n,i.Yg=i.cF.Gg,i}return vt(n,t),ft(n,[{key:"pl",get:function(){return this.cF.pl}},{key:"oy",get:function(){return this.cF.oy},set:function(t){this.cF.oy=t}}]),n}(AR);function ZR(t){return void 0===t.CB&&(t.CB=new QR(t)),t.CB}var tD=function(t){function n(n,i){var e;(e=t.call(this,n.Dl,n.Tl)||this).aF=void 0,e.fF=void 0,e.hF=void 0,e.dr=Qg.ID3,e.vF=function(t){e.dF(t.Xg)},e.lF=function(t){var n=t.Xg;if(void 0!==n.CB){var i=n.CB;n.CB=void 0,e.DB(i),i.et()}},e.wF=function(t){var n=ZR(t.Xg);n.sy||e.gF(n),e.yF(n)},e.mF=function(t){var n=t.Xg,i=ZR(n);e.fF.yw<n.Gg&&e.gF(i)},e.bF=function(){var t=e.hF,n=e.Nl;if(e.hF=n,n===yw.Ol)e._B.forEach(function(t){return t.sy=!1}),xr(e._B);else if(t===yw.Ol)for(var i=e.fF.yw,r=0,u=e.lB;r<u.length;r++){var s=u[r];i<s.Yg&&e.gF(s)}},e.fF=i,e.aF=n,e.hF=n.Nl,n.Gr(ql.xd,e.vF),n.Gr(ql.Bd,e.lF),n.Gr(ql.Md,e.wF),n.Gr(ql.Vd,e.mF),n.Gr(ql.Wd,e.bF);for(var r=0,u=e.aF.Bl.al;r<u.length;r++){var s=u[r];e.dF(s)}return e}vt(n,t);var i=n.prototype;return i.gF=function(t){var n=ZI(this._B,t);if(!(n>=0)){var i=-(n+1);this._B.splice(i,0,t),t.sy=!0,t.Xr(new nR(t,this.fF.yw)),this.Xr(new uR(t)),this.Xr(new aR(this))}},i.yF=function(t){var n=ZI(this._B,t);n>=0&&Or(this._B,n),t.sy=!1,t.Xr(new eR(t,this.fF.yw)),this.Xr(new oR(t)),this.Xr(new aR(this))},i.et=function(){this.aF.Qr(ql.xd,this.vF),this.aF.Qr(ql.Bd,this.lF),this.aF.Qr(ql.Md,this.wF),this.aF.Qr(ql.Vd,this.mF),this.aF.Qr(ql.Wd,this.bF),t.prototype.et.call(this)},i.dF=function(t){var n=ZR(t);(this.lT(n),this.Nl!==yw.Ol)&&(this.fF.yw<n.Yg&&this.gF(n))},ft(n,[{key:"kl",get:function(){return this.aF.kl}},{key:"Tl",get:function(){return this.aF.Tl},set:function(t){this.aF.Tl=t}},{key:"Sl",get:function(){return this.aF.Sl}},{key:"pl",get:function(){return this.aF.pl}},{key:"_l",get:function(){return this.aF._l}},{key:"Dl",get:function(){return this.aF.Dl}},{key:"Nl",get:function(){return this.aF.Nl},set:function(t){this.aF.Nl=t}},{key:"Ll",get:function(){return this.aF.Ll}},{key:"Ml",get:function(){return this.aF.Ml}}]),n}(OR),nD=function(t){function n(n){var i;return(i=t.call(this)||this).fF=void 0,i.fF=n,i}vt(n,t);var i=n.prototype;return i.ul=function(n){if(n.dr===Qg.ID3){var i=n;return i.CB||(i.CB=new tD(i,this.fF)),t.prototype.ul.call(this,i.CB)}return t.prototype.ul.call(this,n)},i.sl=function(n){if(n.dr===Qg.ID3){var i=n;return!!i.CB&&t.prototype.sl.call(this,i.CB)}return t.prototype.sl.call(this,n)},n}(Ew),iD=function(t){function n(n,i){var e;return(e=t.call(this)||this).pF=new Je,e.NE=function(t){var n;return ze.async(function(i){for(;;)switch(i.prev=i.next){case 0:if((n=t.Pd).dr){i.next=4;break}return i.next=4,ze.awrap(n.iu(ql.Gd));case 4:if(n.dr===Qg.ID3){i.next=6;break}return i.abrupt("return");case 6:if(0!==n.Bl.fl){i.next=11;break}return i.next=9,ze.awrap(n.iu(ql.xd));case 9:i.next=6;break;case 11:e._F(n);case 12:case"end":return i.stop()}},null,null,null,j)},e.CE=function(t){var n=t.Pd;if(n.dr===Qg.ID3&&e.pF.has(n._l)){var i=e.pF.get(n._l);e.sl(i),e.cT.wT(i),n.Qr(ql.xd,e.dF)}},e.dF=function(t){eD(t.Xg)&&e.kF(t.Xg)},e.cT=n,e.TF=i,e.SF(),e}vt(n,t);var i=n.prototype;return i.SF=function(){this.TF.Gr(Fl.Id,this.NE),this.TF.Gr(Fl.Dd,this.CE)},i.EF=function(){this.TF.Qr(Fl.Id,this.NE),this.TF.Qr(Fl.Dd,this.CE)},i._F=function(t){var n=t.Bl.al[0];if(eD(n)){var i=function(t){var n=t.match(rD);if(!n)return;return{Pd:n[1],Sl:n[2]}}(n.Kg.description),e=i.Pd,r=i.Sl;if(!this.IF(e,r)){var u=this.cT.vT(qm.$b,t.pl,e,r,!1,Qg.TTML);this.ul(u),this.pF.set(t._l,u);for(var s=0,o=t.Bl.al;s<o.length;s++){var c=o[s];eD(c)&&this.kF(c)}t.Gr(ql.xd,this.dF)}}},i.IF=function(t,n){return!!Cr(this.Vp.al,function(i){return i.Tl===t&&i.Sl===n})},i.kF=function(t){if(t.Pd)for(var n=this.pF.get(t.Pd._l),i=Am(t.Kg.text,0,{Ym:0,Km:1/0,Jm:-t.Yg}),e=0;e<i.length;e++){var r=i[e];n.lT(r)}},i.cl=function(){var n,i,e,r,u;return ze.async(function(s){for(;;)switch(s.prev=s.next){case 0:for(n=0,i=this.TF.al;n<i.length;n++)i[n].Qr(ql.xd,this.dF);for(e=0,r=this.Vp.al;e<r.length;e++)u=r[e],this.cT.wT(u);return this.pF.clear(),s.next=5,ze.awrap(t.prototype.cl.call(this));case 5:case"end":return s.stop()}},null,this,null,j)},i.et=function(){return ze.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.EF(),n.next=3,ze.awrap(t.prototype.et.call(this));case 3:case"end":return n.stop()}},null,this,null,j)},n}(Hm);function eD(t){return function(t){return"TXXX"===t.id||"TXX"===t.id}(n=t.Kg)&&rD.test(n.description);var n}var rD=/^Track:(.+),Lang:(.+)$/;var uD,sD;new(function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Cd=void 0,n}return vt(n,t),ft(n,[{key:"Ad",get:function(){return this.Cd||(this.Cd=SE(this)),this.Cd}},{key:"ux",get:function(){}},{key:"sx",get:function(){}},{key:"ox",get:function(){}},{key:"ax",get:function(){}},{key:"hx",get:function(){}},{key:"vx",get:function(){}},{key:"lx",get:function(){}}]),n}(Jr));!function(t){t.RF='"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',t.DF='"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',t.NF='"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',t.CF='Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif'}(uD||(uD={})),function(t){t.BLACK="#000000",t.WHITE="#FFFFFF",t.GREEN="#00ff00",t.BLUE="#0000ff",t.CYAN="#00ffff",t.RED="#ff0000",t.YELLOW="#ffff00",t.MAGENTA="#ff00ff",t.TRANSPARENT="transparent"}(sD||(sD={}));var oD,cD;$e({monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:"monospace, sans-serif",monospaceSerif:"monospace, serif",proportionalSansSerif:"Arial",proportionalSerif:"Times New Roman",default:"monospace, sans-serif;"}),$e({lrtb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rltb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;unicode-bidi: bidi-override;",tbrl:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;",tblr:"-webkit-writing-mode: vertical-lr;writing-mode: vertical-lr;-webkit-text-orientation: upright;text-orientation: upright;",lr:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rl:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;",tb:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;"}),sD.WHITE,sD.TRANSPARENT,sD.TRANSPARENT;!function(t){t.AF="Data",t.OF="Tag",t.PF="StartTag",t.xF="StartTagClass",t.LF="StartTagAnnotation",t.BF="CharRefInAnnotation",t.FF="EndTag",t.MF="TimestampTag"}(oD||(oD={})),function(t){t.ML="string",t.UF="starttag",t.VF="endtag",t.qF="timestamp"}(cD||(cD={}));var aD,fD;sD.WHITE,sD.TRANSPARENT;!function(t){t[t.zF=0]="zF",t[t.HF=1]="HF",t[t.WF=2]="WF",t[t.jF=3]="jF",t[t.XF=4]="XF",t[t.GF=5]="GF"}(aD||(aD={})),function(t){t[t.YF=0]="YF",t[t.KF=1]="KF",t[t.JF=2]="JF",t[t.QF=3]="QF"}(fD||(fD={}));var hD,vD;[[42,225],[92,233],[94,237],[95,243],[96,250],[123,231],[124,247],[125,209],[126,241],[127,9608],[128,174],[129,176],[130,189],[131,191],[132,8482],[133,162],[134,163],[135,9834],[136,224],[137,32],[138,232],[139,226],[140,234],[141,238],[142,244],[143,251],[144,193],[145,201],[146,211],[147,218],[148,220],[149,252],[150,8216],[151,161],[152,42],[153,8217],[154,9473],[155,169],[156,8480],[157,8226],[158,8220],[159,8221],[160,192],[161,194],[162,199],[163,200],[164,202],[165,203],[166,235],[167,206],[168,207],[169,239],[170,212],[171,217],[172,249],[173,219],[174,171],[175,187],[176,195],[177,227],[178,205],[179,204],[180,236],[181,210],[182,242],[183,213],[184,245],[185,123],[186,125],[187,92],[188,94],[189,95],[190,124],[191,8764],[192,196],[193,228],[194,214],[195,246],[196,223],[197,165],[198,164],[199,9475],[200,197],[201,229],[202,216],[203,248],[204,9487],[205,9491],[206,9495],[207,9499]].reduce(function(t,n){return t[n[0]]=n[1],t},{});!function(t){t[t.JI=0]="JI",t[t.ZF=1]="ZF",t[t.tM=2]="tM",t[t.nM=3]="nM",t[t.ei=4]="ei"}(hD||(hD={})),function(t){t.FONT_REGULAR="regular",t.FONT_UNDERLINE="underline",t.FONT_ITALICS="italics",t.FONT_UNDERLINE_ITALICS="underline-italics"}(vD||(vD={}));var dD;sD.WHITE,uD.NF,sD.BLACK,vD.FONT_REGULAR,sD.WHITE,vD.FONT_REGULAR,sD.WHITE,vD.FONT_UNDERLINE,sD.GREEN,vD.FONT_REGULAR,sD.GREEN,vD.FONT_UNDERLINE,sD.BLUE,vD.FONT_REGULAR,sD.BLUE,vD.FONT_UNDERLINE,sD.CYAN,vD.FONT_REGULAR,sD.CYAN,vD.FONT_UNDERLINE,sD.RED,vD.FONT_REGULAR,sD.RED,vD.FONT_UNDERLINE,sD.YELLOW,vD.FONT_REGULAR,sD.YELLOW,vD.FONT_UNDERLINE,sD.MAGENTA,vD.FONT_REGULAR,sD.MAGENTA,vD.FONT_UNDERLINE,sD.WHITE,vD.FONT_ITALICS,sD.WHITE,vD.FONT_UNDERLINE_ITALICS,sD.WHITE,vD.FONT_REGULAR,sD.WHITE,vD.FONT_UNDERLINE,sD.WHITE,vD.FONT_REGULAR,sD.WHITE,vD.FONT_UNDERLINE,sD.WHITE,vD.FONT_REGULAR,sD.WHITE,vD.FONT_UNDERLINE,sD.WHITE,vD.FONT_REGULAR,sD.WHITE,vD.FONT_UNDERLINE,sD.WHITE,vD.FONT_REGULAR,sD.WHITE,vD.FONT_UNDERLINE,sD.WHITE,vD.FONT_REGULAR,sD.WHITE,vD.FONT_UNDERLINE,sD.WHITE,vD.FONT_REGULAR,sD.WHITE,vD.FONT_UNDERLINE,sD.WHITE,vD.FONT_REGULAR,sD.WHITE,vD.FONT_UNDERLINE;!function(t){t.iM="HELLO",t.eM="HI_THERE",t.rM="INITIALIZE",t.uM="APPEND_INIT",t.sM="APPEND_DATA",t.oM="ACK",t.cM="REMOVE",t.aM="DESTROY_SESSION"}(dD||(dD={}));var lD=yy.Xy,wD=new yy(-1/0),gD=yy.Nm,yD=new(function(t){function n(n,i){return t.call(this,n,i)||this}vt(n,t);var i=n.prototype;return i.Ny=function(t,n){return t.xy(n)?kr.Rr:t.uy(n)?kr.Er:kr.Ir},i.Cg=function(t,n){return t.Cg(n)},i.My=function(t,n){return t.My(n)},i.Py=function(t,n){return t.Py(n)},i._R=function(){return lD},i.kR=function(){return gD},i.IR=function(){return wD},n.$R=function(t){for(var i=[],e=0;e<t.length;e++)i.push(new yy(t.start(e)),new yy(t.end(e)));return new n(i)},n.fM=function(t){for(var i=[],e=[],r=0;r<t.fl;r++)i.push(new yy(t.fR(r))),i.push(new yy(t.vR(r))),e.push(t.hR(r)),e.push(t.dR(r));return new n(i,e)},n.GR=function(t){return new n([t,t],[!0,!0])},i.bR=function(t,i){return new n(t,i)},i.yR=function(t){return t.Rm},n.YR=function(){return yD},n}(ck))([]),mD=(Ug.rv,Ug.uv,function(t){function n(n){var i;return(i=t.call(this,pc.da)||this).errorObject=void 0,i.errorObject=n,i}return vt(n,t),ft(n,[{key:"error",get:function(){return this.errorObject.message}},{key:"licenseAcquisitionURL",get:function(){return this.errorObject.url}},{key:"status",get:function(){return this.errorObject.status}},{key:"statusText",get:function(){return this.errorObject.statusText}},{key:"licenseAcquisitionMessage",get:function(){return this.errorObject.response}},{key:"systemCode",get:function(){return this.errorObject.systemCode}}]),n}(Zr)),bD=function(t){function n(){return t.call(this,pc.la)||this}return vt(n,t),n}(Zr),pD=function(t){function n(n){var i;return(i=t.call(this,"Wa")||this).hM=n,i}return vt(n,t),n}(Zr),_D=new WE,kD=function(t){function i(i,e,r){var u;return(u=t.call(this)||this).sc=void 0,u.vM=!1,u.dM=!1,u.jf=new Br,u.Ko=function(t){switch(t.su){case"license-request":u.JT(t.uu,t.ou).catch(function(t){return u.Nc(t)});break;default:u.Nc(new Lg(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Unsupported CDM message type: "+t.su))}},u.lM=function(t){u.wM.cc.yu(function(t,n){switch(t){case"usable":st.De(function(){u.dM=!0,u.Xr(new bD)},100);break;case"expired":case"status-pending":break;case"output-restricted":case"internal-error":u.Xr(new pD(n))}})},u.gM=function(t){u.Nc(new Lg(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Unknown CDM error"))},u.wM=i,u.yM=e,u.mM=r,i.Gr("uu",u.Ko),i.Gr("ru",u.lM),i.Gr("cu",u.gM),u.sc=i.sc.then(function(){return u.bM()}),u}vt(i,t);var e=i.prototype;return e.nc=function(){var t=this;return this.vM=!0,_D.oL(function(n){return t.pM(n)},this.jf.zr)},e.pM=function(t){var i,e,r;return ze.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,Ur(t),u.next=4,ze.awrap(this.yM.WT(t));case 4:return u.next=6,ze.awrap(this.yM.jT(this.mM.gr,this.mM.du,t));case 6:return i=u.sent,u.next=9,ze.awrap(this.wM.nc(this.mM.gr,this.mM.du,i));case 9:u.next=18;break;case 11:throw u.prev=11,u.t0=u.catch(0),Vr(u.t0),e=u.t0 instanceof ds?u.t0.Lu:void 0,r=new Lg(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while performing the CDM request",u.t0,void 0,void 0,void 0,void 0,e),this.Nc(r),r;case 18:case"end":return u.stop()}},null,this,[[0,11]],j)},e.JT=function(t,i){var e,r;return ze.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(u.prev=0,!fs(t)){u.next=7;break}return u.next=4,ze.awrap(this.yM.uS(new y(t),this.jf.zr));case 4:e=u.sent,u.next=10;break;case 7:return u.next=9,ze.awrap(this.yM.sS(new y(t),i,this.jf.zr));case 9:e=u.sent;case 10:u.next=17;break;case 12:if(u.prev=12,u.t0=u.catch(0),!Mr(u.t0)){u.next=16;break}return u.abrupt("return");case 16:throw u.t0;case 17:return u.prev=17,u.next=20,ze.awrap(this.wM.rc(e));case 20:u.next=26;break;case 22:throw u.prev=22,u.t1=u.catch(17),r=u.t1 instanceof ds?u.t1.Lu:void 0,new Lg(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while applying license response",u.t1,void 0,void 0,void 0,void 0,r);case 26:case"end":return u.stop()}},null,this,[[0,12],[17,22]],j)},e.Nc=function(t){var i=t instanceof Lg?t:new Lg(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.Xr(new mD(i)),this.tc()},e.bM=function(){this.wM.Qr("uu",this.Ko),this.wM.Qr("ru",this.lM),this.wM.Qr("cu",this.gM),this.dM=!1,this.jf.Ur()},e.tc=function(){return ze.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Jr(),this.bM(),t.next=4,ze.awrap(this.wM.tc().catch(Bt));case 4:case"end":return t.stop()}},null,this,null,j)},i}(Jr),TD=[pc.la,pc.da,pc.Ha],SD=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Jo=void 0,r.fc=void 0,r._M=void 0,r.kM=[],r.TM=void 0,r.SM=[],r.Jo=n,r.fc=i,r._M=e,r}vt(n,t);var i=n.prototype;return i.rS=function(){return this._M.rS()},i.EM=function(t){return this.TM||(this.TM=this.IM(t)),this.TM},i.IM=function(t){var n;return ze.async(function(i){for(;;)switch(i.prev=i.next){case 0:return Ur(t),i.next=3,ze.awrap(this._M.uS(new y(as()),t));case 3:return n=i.sent,Ur(t),i.next=7,ze.awrap(this.fc.lc(n.buffer));case 7:case"end":return i.stop()}},null,this,null,j)},i.GB=function(t){var n,i,e=this;return ze.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,this.SM.push(t),r.next=4,ze.awrap(this.fc.dc("temporary"));case 4:return n=r.sent,i=new kD(n,this._M,t),this.kM.push(i),i.Gr(TD,this.$r),i.sc.then(function(){return e.RM(i)}),r.abrupt("return",i);case 10:return r.prev=10,Ar(this.SM,t),r.finish(10);case 13:case"end":return r.stop()}},null,this,[[0,,10,13]],j)},i.DM=function(t){if(t.NM)return!1;for(var n=0,i=this.kM;n<i.length;n++){if(ED(i[n].mM,t))return!0}for(var e=0,r=this.SM;e<r.length;e++){if(ED(r[e],t))return!0}return!1},i.RM=function(t){t.Qr(TD,this.$r),Ar(this.kM,t)},i.et=function(){var t;return ze.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.Jr(),t=this.kM.slice(),xr(this.kM),n.next=5,ze.awrap(j.all(t.map(function(t){return t.tc()})));case 5:this._M.Pr();case 6:case"end":return n.stop()}},null,this,null,j)},ft(n,[{key:"hc",get:function(){return this.Jo}}]),n}(Jr);function ED(t,n){return!t.NM&&t.gr===n.gr&&mu(t.du,n.du)}var ID=function(t){function i(n){var i;return(i=t.call(this)||this).FE=void 0,i.jf=new Br,i.mL=new WE,i.Bc=void 0,i._M=void 0,i.ME=void 0,i.Jo=void 0,i.CM=function(t){return ze.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,ze.awrap(i.AM(t.gr,t.du,i.jf.zr));case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),Mr(n.t0)||i.Nc(n.t0);case 8:case"end":return n.stop()}},null,null,[[0,5]],j)},i.FE=n,i.FE.Gr(Kr.au,i.CM),i}vt(i,t);var e=i.prototype;return e.ic=function(t,n){this.ME=t,this.BB(n)},e.BB=function(t){this.Bc=t,this.OM(this.jf.zr).catch(qr)},e.OM=function(t){return ze.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!st.He.ce){n.next=5;break}return n.next=3,ze.awrap(this.PM(t));case 3:if(!n.sent){n.next=5;break}return n.abrupt("return");case 5:if(!this.Bc||!this.Bc.xM){n.next=9;break}return n.next=8,ze.awrap(this.LM(t));case 8:return n.abrupt("return",n.sent);case 9:case"end":return n.stop()}},null,this,null,j)},e.PM=function(t){var n,i,e,r,u,s,o,c,a,f,h;return ze.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(null==(n=this.Bc)?void 0:n.vI){v.next=3;break}return v.abrupt("return",!1);case 3:i=!1,e=0,r=null!=(u=null==(s=this.Bc)?void 0:s.vI)?u:[];case 5:if(!(e<r.length)){v.next=27;break}o=r[e],c=0,a=null!=(f=o.IE)?f:[];case 8:if(!(c<a.length)){v.next=22;break}return h=a[c],v.prev=10,v.next=13,ze.awrap(this.AM(o.hc.gr,h,t));case 13:i=!0,v.next=19;break;case 16:v.prev=16,v.t0=v.catch(10),Vr(v.t0);case 19:c++,v.next=8;break;case 22:if(!i){v.next=24;break}return v.abrupt("return",!0);case 24:e++,v.next=5;break;case 27:return v.abrupt("return",!1);case 28:case"end":return v.stop()}},null,this,[[10,16]],j)},e.AM=function(t,i,e){var r,u,s,o,c,a,f,h,v,d;return ze.async(function(l){for(;;)switch(l.prev=l.next){case 0:if(Ur(e),i.byteLength){l.next=3;break}return l.abrupt("return");case 3:if(this.Bc&&this.Bc.vI.length){l.next=5;break}throw new Lg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_MISSING,"Missing configuration for encrypted content");case 5:if(t===Ze||t===nr||t===tr){l.next=8;break}return l.abrupt("return");case 8:r=gp(t,i),u=this.Bc.vI,o=0;case 11:if(!(o<u.length)){l.next=42;break}if(c=u[o],Ur(e),(a=r[c.hc.yr])&&c.hc.gr===t){l.next=17;break}return l.abrupt("continue",39);case 17:return l.prev=17,l.next=20,ze.awrap(this.BM(c,e));case 20:if(!(f=l.sent).rS()){l.next=24;break}return l.next=24,ze.awrap(f.EM());case 24:if(h=this.FE.yg,v={gr:c.hc.gr,du:a,NM:h},!this.FM(f,v)){l.next=32;break}return l.next=29,ze.awrap(f.GB(v));case 29:return d=l.sent,l.next=32,ze.awrap(d.nc());case 32:return l.abrupt("return");case 35:l.prev=35,l.t0=l.catch(17),Vr(l.t0),s=l.t0;case 39:o++,l.next=11;break;case 42:return l.next=44,ze.awrap(st.Oe());case 44:if(!l.sent){l.next=48;break}throw new Lg(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported",s);case 48:throw new Lg(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Cannot create content decryption session",s);case 49:case"end":return l.stop()}},null,this,[[17,35]],j)},e.LM=function(t){var n,i,e,r,u;return ze.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(i=null==(n=this.Bc)?void 0:n.vI){s.next=3;break}return s.abrupt("return");case 3:e=0;case 4:if(!(e<i.length)){s.next=23;break}return r=i[e],Ur(t),s.prev=7,s.next=10,ze.awrap(this.BM(r,t));case 10:if(!(u=s.sent).rS()){s.next=14;break}return s.next=14,ze.awrap(u.EM());case 14:return s.abrupt("return");case 17:s.prev=17,s.t0=s.catch(7),Vr(s.t0);case 20:e++,s.next=4;break;case 23:case"end":return s.stop()}},null,this,[[7,17]],j)},e.FM=function(t,n){return st.He.oe||!t.DM(n)},e.BM=function(t,n){var i=this;return this.mL.oL(function(n){return i.MM(t,n)},n)},e.MM=function(t,n){var i,e,r,u,s;return ze.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(Ur(n),this.Bc&&this._M&&this.ME){o.next=3;break}throw new f("Not initialized");case 3:if(!this.Jo){o.next=7;break}if(this.Jo.hc===t.hc){o.next=6;break}throw new f("Internal key system error");case 6:return o.abrupt("return",this.Jo);case 7:return i=this._M,e=He({},t,{EI:t.EI.map(function(n){var e;return He({},n,{persistentState:null!=(e=n.persistentState)?e:i.IS(t.hc),_c:n._c||i._c(t.hc)})})}),o.next=11,ze.awrap(this.ME.PB(e.hc,e.EI));case 11:return r=o.sent,u=i.EE(e),(s=new SD(e.hc,r,u)).Gr([pc.la,pc.da,pc.Ha],this.$r),this.Jo=s,o.abrupt("return",s);case 17:case"end":return o.stop()}},null,this,null,j)},e.Nc=function(t){var i=t instanceof Lg?t:new Lg(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.Xr(new mD(i))},e.cl=function(){return ze.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.ME=void 0,this.Bc=void 0,this.jf.Ur(),this.jf=new Br,t.next=6,ze.awrap(this.UM());case 6:case"end":return t.stop()}},null,this,null,j)},e.UM=function(){var t;return ze.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ze.awrap(this.mL.Ur());case 2:if(!(t=this.Jo)){n.next=8;break}return t.Qr(pc.Ha,this.$r),this.Jo=void 0,n.next=8,ze.awrap(t.et());case 8:case"end":return n.stop()}},null,this,null,j)},e.Pr=function(){return ze.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Jr(),this.FE.Qr(Kr.au,this.CM),t.next=4,ze.awrap(this.cl());case 4:return t.next=6,ze.awrap(this.mL.et());case 6:case"end":return t.stop()}},null,this,null,j)},ft(i,[{key:"VM",get:function(){var t;return null==(t=this.Jo)?void 0:t.hc}},{key:"aI",get:function(){return this._M},set:function(t){this._M=t}}]),i}(Jr);St.On||St.Pn,St.Jn,St.Mn;var RD=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.FM=function(t,n){return!0},n}(ID),DD=function(t){function n(n,i,e){var r;return void 0===e&&(e=new WR(i)),(r=t.call(this)||this).ME=void 0,r.pr=void 0,r.qM=void 0,r.zM=new WE,r.HM=void 0,r.KB=void 0,r.WM=!1,r.jc=void 0,r.Vc=null,r.jM={mg:0,bg:0,pg:0,_g:0,kg:0,Tg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},r.$M=function(t){"boolean"==typeof t.detail.casting&&(r.WM=t.detail.casting,r.Xr(new ey(r.WM)))},r.XM=function(t){r.jc=t.sessionId,r.Vc&&(r.Vc.sessionId=r.jc);var n=t.initData;if(n){var i=function(t){try{var n=ns(t),i=new os;return Gu(Yu(Pu(n,i,Fu(n,i,!0)),!0))}catch(t){return}}(n);if(!i)return;r.Xr(new uu(nr,i))}else r.Xr(new uu(nr,new ArrayBuffer(0)))},r.HM=n,r.KB=i,r.KB.Gr(CR.qB,r.XM),r.pr=e,r.qM=new RD(un(r)),r.GM(),r}vt(n,t);var i=n.prototype;return i.YM=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.dr===ob.yT)return i}},i.Pr=function(){return ze.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ze.awrap(this.cl());case 2:return this.Jr(),this.KM(),this.KB.Qr(CR.qB,this.XM),t.next=7,ze.awrap(this.qM.Pr());case 7:case"end":return t.stop()}},null,this,null,j)},i.ug=function(){throw new f("Not implemented yet")},i.vT=function(t,n,i,e,r,u,s,o){throw new f("Not implemented yet")},i.yI=function(){return!1},i.bI=function(t,n,i,e){throw new f("Not implemented yet")},i.wT=function(t){throw new f("Not implemented yet")},i.kI=function(){throw new f("Not implemented yet")},i.ic=function(t){var n=this;return ze.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",this.zM.oL(function(i){var e;return ze.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(t.dr!==ob.yT){r.next=8;break}return Ur(i),e=new LR(t,n,n.pr),n.ME=e,n.qM.ic(e,t),r.abrupt("return",e);case 8:throw new f("Could not create non-static media source");case 9:case"end":return r.stop()}},null,null,null,j)}));case 1:case"end":return i.stop()}},null,this,null,j)},i.K=function(){throw new f("Not implemented yet")},i.Y=function(){throw new f("Not implemented yet")},i.cl=function(){var t=this;return this.zM.Ur(),this.zM.oL(function(){return ze.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0===t.ME){n.next=4;break}return n.next=3,ze.awrap(t.ME.Pr());case 3:t.ME=void 0;case 4:return n.next=6,ze.awrap(t.qM.cl());case 6:case"end":return n.stop()}},null,null,null,j)})},i.Tu=function(t,n){throw new f("Not implemented yet")},i.DI=function(t){throw new f("Not implemented yet")},i.rg=function(){throw new f("Not implemented yet")},i.NI=function(){return this.jM},i.GM=function(){this.HM.addEventListener("airPlayIsCasting",this.$M)},i.KM=function(){this.HM.removeEventListener("airPlayIsCasting",this.$M)},i.webkitSetMediaKeys=function(t){this.Vc=t||null,this.Vc&&(this.Vc.sessionId=this.jc)},i.JM=function(){},i.QM=function(){throw new f("Not implemented yet")},i.ZM=function(){throw new f("Not implemented yet")},ft(n,[{key:"wg",get:function(){throw new f("Not implemented yet")}},{key:"lg",get:function(){throw new f("Not implemented yet")}},{key:"yw",get:function(){throw new f("Not implemented yet")}},{key:"qx",get:function(){throw new f("Not implemented yet")}},{key:"mw",get:function(){throw new f("Not implemented yet")}},{key:"bw",get:function(){throw new f("Not implemented yet")}},{key:"cu",get:function(){throw new f("Not implemented yet")}},{key:"i_",get:function(){throw new f("Not implemented yet")}},{key:"yg",get:function(){return this.WM}},{key:"_w",get:function(){throw new f("Not implemented yet")}},{key:"kw",get:function(){throw new f("Not implemented yet")}},{key:"Tw",get:function(){throw new f("Not implemented yet")}},{key:"Eg",get:function(){throw new f("Not implemented yet")}},{key:"Ll",get:function(){throw new f("Not implemented yet")}},{key:"Rg",get:function(){throw new f("Not implemented yet")}},{key:"Sw",get:function(){throw new f("Not implemented yet")}},{key:"tU",get:function(){throw new f("Not implemented yet")}},{key:"Rw",get:function(){throw new f("Not implemented yet")},set:function(t){throw new f("Not implemented yet")}},{key:"by",get:function(){throw new f("Not implemented yet")}},{key:"_I",get:function(){throw new f("Not implemented yet")}},{key:"webkitKeys",get:function(){return this.Vc}},{key:"nU",get:function(){return xR}},{key:"Gw",get:function(){throw new f("Not implemented yet")}},{key:"Hx",get:function(){throw new f("Not implemented yet")}},{key:"CI",get:function(){throw new f("Not implemented yet")}},{key:"iU",get:function(){return!0}},{key:"aI",get:function(){return this.qM.aI},set:function(t){this.qM.aI=t}},{key:"VM",get:function(){return this.qM.VM}}]),n}(Iw),ND=function(t){function n(n){var i;return(i=t.call(this,pc.ja)||this).jM=n,i}return vt(n,t),n}(Zr);var CD=function(t){function n(n,i){var e,r=AD(i,n.mw,n.CI,n.eU);return(e=t.call(this,i,r,void 0,!1,n.pl)||this).rU=void 0,e.uU=void 0,e.sU=void 0,e.As=void 0,e.oU=void 0,e.cU=void 0,e.aU=void 0,e.fU=void 0,e.hU=void 0,e.vU=void 0,e.rU=n.dU,e.uU=n.CI,e.sU=n.eU,e.As=n.mw,e.oU=n.lU,e.cU=Boolean(n.wU),e.aU=n.gU||{},e.fU=n.yU,e.hU=n.mU,e.vU=n.bU,e.pU(),e._U(),e}vt(n,t);var i=n.prototype;return i.rc=function(t){var n=!1;void 0===this.rU&&void 0!==t.dU&&(n=!0,this.rU=t.dU),void 0===this.sU&&void 0!==t.eU&&(n=!0,this.sU=t.eU),void 0===this.As&&void 0!==t.mw&&(n=!0,this.As=t.mw),void 0===this.oU&&void 0!==t.lU&&(n=!0,this.oU=t.lU),!this.cU&&t.wU&&(n=!0,this.cU=t.wU),n=this.updateCustomAttributes(t,n),void 0===this.fU&&void 0!==t.yU&&(n=!0,this.fU=t.yU),void 0===this.hU&&void 0!==t.mU&&(n=!0,this.hU=t.mU),void 0===this.vU&&void 0!==t.bU&&(n=!0,this.vU=t.bU),this.pU(),this._U(),this.kU(),n&&this.Xr(new cy(this))},i.updateCustomAttributes=function(t,n){var i=n;if(t.gU)for(var e=0,r=v.keys(t.gU);e<r.length;e++){var u=r[e];void 0===this.aU[u]&&(i=!0,this.aU[u]=t.gU[u])}return i},i.pU=function(){this.As&&!this.sU&&(this.sU=new Date(this.uU.getTime()+1e3*this.As))},i._U=function(){this.sU&&!this.As&&(this.As=nn(this.sU.getTime()-this.uU.getTime()))},i.kU=function(){this.Qg===1/0&&(this.sU||this.As)&&(this.Qg=AD(this.Jg,this.As,this.uU,this.sU))},ft(n,[{key:"Ad",get:function(){var t;return this.Cd||(this.Cd=tw(sy(t=this),{get content(){return t.Kg},get class(){return t.dU},get startDate(){return t.CI},get endDate(){return t.eU},get duration(){return t.mw},get plannedDuration(){return t.lU},get endOnNext(){return t.wU},get scte35Cmd(){return t.yU},get scte35Out(){return t.mU},get scte35In(){return t.bU},get customAttributes(){return t.gU}})),this.Cd}},{key:"dU",get:function(){return this.rU}},{key:"CI",get:function(){return this.uU}},{key:"eU",get:function(){return this.sU}},{key:"mw",get:function(){return this.As}},{key:"lU",get:function(){return this.oU}},{key:"wU",get:function(){return this.cU}},{key:"yU",get:function(){return this.fU}},{key:"mU",get:function(){return this.hU}},{key:"bU",get:function(){return this.vU}},{key:"gU",get:function(){return this.aU}}]),n}(hy);function AD(t,n,i,e){return Rt(n)?t+n:e?t+(nn(e.getTime())-nn(i.getTime())):1/0}var OD,PD=function(t){function n(){return t.call(this,void 0,void 0,Qg.DATE_RANGE)||this}vt(n,t);var i=n.prototype;return i.rc=function(t,n){for(var i=this,e=function(t){for(var n=je(),i=[],e=0;e<t.length;e++){var r=t[e];if(n.has(r.pl)){var u=n.get(r.pl),s=He({},u,rw(r),{gU:He({},u.gU,r.gU)});n.set(r.pl,s)}else n.set(r.pl,r),i.push(r.pl)}return i.map(function(t){return n.get(t)})}(t),r=this.Bl.al,u=function(t){var n=r[t],u=Cr(e,function(t){return t.pl===n.pl});u?n.rc(u):i.DB(n)},s=r.length-1;s>=0;s--)u(s);for(var o=0;o<e.length;o++){var c=e[o],a=c.CI;if(void 0!==a&&!this.IB(c.pl)){var f=n(a);this.lT(new CD(c,f))}}},i.lT=function(n){this.TU(n),t.prototype.lT.call(this,n)},i.TU=function(t){var n=this.lB.filter(function(n){return n.dU===t.dU}).pop();n&&n.wU&&n.rc({pl:n.pl,eU:t.CI})},n}(OR);function xD(t){switch(t.type){case OD.ML:return t.value;case OD.FL:return sw(t.value);case OD.BL:return du(t.value);default:return}}function LD(t){return function(t){return void 0!==t.name&&void 0!==t.message}(t)&&void 0!==t.timestamp&&void 0!==t.code}!function(t){t.ML="daterange-ca-type_string",t.FL="daterange-ca-type_number",t.BL="daterange-ca-type_arraybuffer"}(OD||(OD={}));var BD,FD,MD,UD=function(t){function n(n,i,e,r,u){var s;return(s=t.call(this,r,i,e)||this).nE=void 0,s.SU=void 0,s.nE=n,s.SU=u,s}return vt(n,t),ft(n,[{key:"name",get:function(){return this.nE}},{key:"timestamp",get:function(){return this.SU}}]),n}(tc),VD=function(t){function n(n,i,e,r,u,s,o,c){var a;return(a=t.call(this,n,i,e,r,c)||this).url=void 0,a.status=void 0,a.errorComment=void 0,a.url=u,a.status=s,a.errorComment=o,a}return vt(n,t),n}(UD),qD=function(){function t(t,n){this.zw=void 0,this.EU=void 0,this.zw=new zm,this.EU=new vR(t,n)}var n=t.prototype;return n.vT=function(t,n,i,e,r,u,s){var o=new DR(t,n,i,e,r,u,s);return this.zw.ul(o),this.EU.ul(o),o},n.wT=function(t){this.zw.sl(t),this.EU.sl(t),t.et()},n.cl=function(){for(var t=0,n=this.zw.al.slice();t<n.length;t++){n[t].et()}this.zw.cl(),this.EU.cl()},n.et=function(){this.cl(),this.zw.et(),this.EU.et()},ft(t,[{key:"Gw",get:function(){return this.zw}}]),t}(),zD=function(t){function n(n,i,e,r,u){var s;(s=t.call(this)||this).tD=0,s.IU=!1,s.UE=void 0,s.VE=void 0,s.RU=void 0,s.iD=!0,s.eD=1,s.Vw=void 0,s.qw=void 0,s.DU=void 0,s.NU=void 0,s.CU=void 0,s.zw=void 0,s.cT=void 0,s.As=void 0,s.AU=ak.YR(),s.OU=ak.YR(),s.nD=!1,s.PU=ak.YR(),s.rD=void 0,s.xU=void 0,s.LU=void 0,s.mB=Bw.sw,s.bT=Bw.sw,s.HM=void 0,s.EU=void 0,s.HE=void 0,s.aB=void 0,s.BU=void 0,s.cD=void 0,s.FE=void 0,s.WE=void 0,s.KB=void 0,s.jM={mg:0,bg:0,pg:0,_g:0,kg:0,Tg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},s.ME=void 0,s.FU=void 0,s.$E=new W_,s.setCurrentTime=function(t){return ze.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(s.Rg.length){n.next=4;break}return s.tD=t,n.next=4,ze.awrap(s.HM.iu("seekablechange"));case 4:s.tD=s.updateCurrentTime(t),s.aB.vB("THEOplayerSetCurrentTime",s.tD),s.rD=!0,s.Xr(new fg(s.tD));case 8:case"end":return n.stop()}},null,null,null,j)},s.MU=function(t){if(t.detail){for(var n=t.detail.buffered,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}s.AU=new ak(i),s.Xr(new yR(s.yw))}},s.UU=function(t){s.mB=t.detail.readyState,s.Xr(new dg(+t.detail.currentTime,s.Ll)),s.VU()},s.qU=function(t){s.mB=t.detail.readyState,s.Xr(new lg(+t.detail.currentTime,s.Ll)),s.VU()},s.zU=function(t){if(t.detail){var n=+t.detail.duration;s.As=n,s.Xr(new ug(s.mw))}},s.HU=function(t){t.detail&&(s.IU=!0,s.Xr(new cg(+t.detail.currentTime)))},s.XE=function(t){if(t.detail&&t.detail.error&&t.detail.errorObject){var n,i=JSON.parse(t.detail.errorObject);LD(n=i)&&void 0!==n.url&&void 0!==n.status&&void 0!==n.errorComment?(s.VE=new VD(i.name,i.message,void 0,i.code,i.url,i.status,i.errorComment,i.timestamp),s.UE=Mg(s.VE),s.Xr(new gg(s.VE))):LD(i)&&(s.VE=new UD(i.name,i.message,void 0,i.code,i.timestamp),s.UE=Mg(s.VE),s.Xr(new gg(s.VE)))}},s.WU=function(t){s.Xr(new gR)},s.jU=function(t){s.mB=t.detail.readyState,s.Xr(new ag(+t.detail.currentTime,s.Ll)),s.VU()},s.$U=function(t){return ze.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(s.Rg.length){n.next=3;break}return n.next=3,ze.awrap(s.HM.iu("seekablechange"));case 3:s.mB=t.detail.readyState,s.Xr(new rg(+t.detail.currentTime,s.Ll)),s.VU();case 6:case"end":return n.stop()}},null,null,null,j)},s.XU=function(t){t.detail&&s.iD&&(s.iD=!1,s.Xr(new tg(+t.detail.currentTime)))},s.GU=function(t){t.detail&&(s.iD||(s.iD=!0,s.Xr(new Zw(+t.detail.currentTime))))},s.YU=function(t){if(t.detail){for(var n=t.detail.played,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}s.PU=new ak(i)}},s.KU=function(t){t.detail&&s.Xr(new pb(+t.detail.currentTime))},s.JU=function(t){t.detail&&(s.eD=t.detail.playbackRate,s.Xr(new sg(+t.detail.currentTime,s.eD)))},s.QU=function(t){if(t.detail){for(var n=t.detail.seekable,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}s.OU=new ak(i)}},s.ZU=function(t){t.detail&&(s.tD=+t.detail.currentTime,s.rD=!1,s.Xr(new og(s.tD,s.RU)),s.Xr(new hg(s.tD)))},s.tV=function(t){if(t.detail){var n=Number(t.detail.currentTime);n<s.As&&(s.IU=!1),s.rD=!0,s.Xr(new fg(n))}},s.nV=function(t){t.detail&&(t.detail.currentDate&&(s.RU=new Date(1e3*t.detail.currentDate)),s.tD=+t.detail.currentTime,s.Xr(new og(s.tD,s.RU)))},s.iV=function(t){s.xU=t.detail.height,s.LU=t.detail.width},s.eV=function(t){t.detail&&s.Xr(new bb(+t.detail.currentTime))},s.rV=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,enabled:t.detail.enabled};s.$w.ul(new Yg(n))},s.uV=function(t){for(var n,i,e=t.detail.lang,r=t.detail.label,u=0;u<s.Vw.fl;u++){var o=s.$w.il(u);o.Sl==e&&o.Tl==r?i=s.Vw.il(u):1==o.bl&&(n=s.Vw.il(u))}i&&n&&(i.bl=!0,n.bl=!1)},s.sV=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,selected:t.detail.selected};s.Xw.ul(new iy(n))},s.oV=function(t){var n,i=t.detail.kind,e=t.detail.type;i===qm.Gb&&e===Qg.ID3?(n=new PR("",t.detail.label)).Nl=yw.Al:i===qm.Gb&&e===Qg.DATE_RANGE?(n=new PD,s.FU=n):n=new DR(i,void 0,t.detail.label,t.detail.lang,t.detail.isDefault,e),s.DU.ul(n),s.EU.ul(n)},s.cV=function(t){for(var n=0,i=t.detail;n<i.length;n++){var e=i[n],r=e.Id3FrameId,u={id:r,text:e.Id3FrameText};"TXXX"!==r&&"TXX"!==r||(u.description=e.Id3FrameDescription);var o=new AR(sw(e.startTime),u,e.uid),c=s.aV();c&&c.lT(o)}},s.fV=function(t){for(var n=0,i=t.detail;n<i.length;n++){var e,r=i[n],u=new vy(sw(r.startTime),sw(r.endTime),r.content,!1),o=null!=(e=s.hV(qm.$b))?e:s.hV(qm.iT);o&&(o.dr=Qg.WEBVTT,o.lT(u))}},s.vV=function(t){t.type===pc.da&&(s.UE=Mg(t.errorObject)),s.$r(t)},s.dV=function(t){t.detail&&(s.jM.bg=t.detail.corruptedVideoFrames,s.jM.mg=t.detail.droppedVideoFrames,s.Xr(new ND(s.xw)))},s.lV=function(t){var n=function(t){var n=t.detail,i=[];return n.forEach(function(t){var n={pl:t.id};if(void 0!==t.startDate&&(n.CI=new Date(t.startDate)),void 0!==t.endDate&&(n.eU=new Date(t.endDate)),void 0!==t.customAttributes){var e={};for(var r in t.customAttributes){var u=xD(t.customAttributes[r]);void 0!==u&&(e[r]=u)}n.gU=e}void 0!==t.scte35Cmd&&(n.yU=du(t.scte35Cmd)),void 0!==t.scte35In&&(n.bU=du(t.scte35In)),void 0!==t.scte35Out&&(n.mU=du(t.scte35Out)),void 0!==t.startTime&&(n.Gg=t.startTime),n.dU=t.class,n.mw=sw(t.duration),n.lU=sw(t.plannedDuration),i.push(n)}),i}(t);n.forEach(function(t){var i=null!=t.Gg?t.Gg:(new Date).getTime(),e=new CD(t,i);s.FU.lT(e),s.FU.rc(n,i)})};var o=r.uid;s.aB=s.getSdkBridge(o),s.HM=new KI,VI()[o].sdkEventBus=s.HM,s.Vw=new Vg,s.qw=new Vg;var c=s.wV(e);return s.cT=new qD(un(s),new dR),s.EU=new wR(un(s)),s.HE=new nb(s.cT,c),s.DU=new zm,s.NU=new nD(un(s)),s.NU.gl=s.DU,s.CU=new iD(s.cT,s.NU),s.zw=new X_([s.DU,s.HE.Vp,s.CU.Vp]),s.KB=s.getFairPlayControllerBridge(s.aB),s.FE=new DD(s.HM,s.KB),s.WE=new j_(c),s.FE.aI=s.WE,s.observeMediaElement(),s.hI(),s.cD=new mR(s.aB,u),s.cD.Gr("mO",function(){s.aB.vB("THEOplayerSetPreferredForwardBufferDuration",s.cD.yO)}),s}vt(n,t);var i=n.prototype;return i.og=function(){return vk},i.rg=function(){this.aB.vB("THEOplayerShow",{})},i.ug=function(){this.aB.vB("THEOplayerHide",{})},i.gV=function(){var t=this;this.aB.vB("THEOplayerSetInitialPreferredPeakBitRate",this.cD.CO);this.Gr("playing",function n(){t.aB.vB("THEOplayerSetInitialPreferredPeakBitRate",0),t.Qr("playing",n)})},i.Qw=function(t,n){var i,e,r;return ze.async(function(u){for(;;)switch(u.prev=u.next){case 0:return this.BU=t,i=He({},n,{sources:{src:t.src,type:Pw.Zl,contentProtection:t.contentProtection,ssai:t.ssai,crossOrigin:t.crossOrigin,hlsDateRange:t.hlsDateRange,isAdvertisement:t.isAdvertisement}}),this.aB.vB("THEOplayerSourceChange",i),e={dr:ob.yT,Ml:t.src,Sh:t.type,vI:this.dI(t),lI:t.crossOrigin,wI:n.metadata&&n.metadata.title},this.WE.SE(t.contentProtection),u.next=7,ze.awrap(this.FE.ic(e));case 7:this.ME=u.sent,n.textTracks&&(r=n.textTracks.filter(function(t){return t.format!==Qg.WEBVTT})).length>0&&this.gI(r),sb(this.Gw),this.gV();case 11:case"end":return u.stop()}},null,this,null,j)},i.dI=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{hc:fr,EI:[{initDataTypes:[fr.gr],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},i.Y=function(){this.iD=!1,this.Xr(new tg(this.yw)),this.aB.vB("THEOplayerPlay",{})},i.K=function(){this.iD=!0,this.Xr(new Zw(this.yw)),this.aB.vB("THEOplayerPause",{})},i.sg=function(){},i.cl=function(){return ze.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.tD=0,this.IU=!1,this.UE=void 0,this.VE=void 0,this.iD=!0,this.eD=1,this.As=void 0,this.OU=ak.YR(),this.AU=ak.YR(),this.xU=void 0,this.LU=void 0,this.mB=Bw.sw,this.bT=Bw.sw,this.Vw.cl(),this.qw.cl(),this.DU.cl(),this.zw.cl(),t.next=19,ze.awrap(this.CU.cl());case 19:return this.NU.cl(),t.next=22,ze.awrap(this.HE.cl());case 22:return this.cT.cl(),this.EU.cl(),this.BU=void 0,t.next=27,ze.awrap(this.FE.cl());case 27:case"end":return t.stop()}},null,this,null,j)},i.tg=function(){this.aB.vB("THEOplayerShowAirPlayPicker",{})},i.ng=function(){this.aB.vB("THEOplayerStopAirPlayPicker",{})},i.updateMetrics=function(t){this.xw.bg=t.bg,this.xw.mg=t.mg},i.et=function(){return ze.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ze.awrap(this.cl());case 2:return this.Jr(),this.unobserveMediaElement(),this.SI(),this.FE.aI=void 0,t.next=8,ze.awrap(this.FE.Pr());case 8:return this.Vw.et(),this.qw.et(),this.DU.et(),this.zw.et(),this.NU.et(),t.next=15,ze.awrap(this.CU.et());case 15:return t.next=17,ze.awrap(this.HE.et());case 17:this.cT.et(),this.EU.et();case 19:case"end":return t.stop()}},null,this,null,j)},i.gI=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.HE.hT(i)}},i.VU=function(){var t=this.bT,n=this.mB;t!==n&&(this.bT=n,this.Xr(new wg(this.yw,n)))},i.observeMediaElement=function(){this.FE.Gr(pc.aa,this.$r),this.FE.Gr([pc.la,pc.da],this.vV),this.HM.addEventListener("play",this.XU),this.HM.addEventListener("pause",this.GU),this.HM.addEventListener("seeking",this.tV),this.HM.addEventListener("seeked",this.ZU),this.HM.addEventListener("ratechange",this.JU),this.HM.addEventListener("durationchange",this.zU),this.HM.addEventListener("timeupdate",this.nV),this.HM.addEventListener("waiting",this.eV),this.HM.addEventListener("playing",this.KU),this.HM.addEventListener("ended",this.HU),this.HM.addEventListener("loadedmetadata",this.$U),this.HM.addEventListener("loadeddata",this.jU),this.HM.addEventListener("loadstart",this.WU),this.HM.addEventListener("canplay",this.UU),this.HM.addEventListener("canplaythrough",this.qU),this.HM.addEventListener("error",this.XE),this.HM.addEventListener("seekablechange",this.QU),this.HM.addEventListener("videosizechange",this.iV),this.HM.addEventListener("bufferedchange",this.MU),this.HM.addEventListener("playedchange",this.YU),this.HM.addEventListener("metricschange",this.dV),this.HM.addEventListener("addDateRangeCues",this.lV)},i.unobserveMediaElement=function(){this.FE.Qr(pc.aa,this.$r),this.FE.Qr([pc.la,pc.da],this.vV),this.HM.removeEventListener("play",this.XU),this.HM.removeEventListener("pause",this.GU),this.HM.removeEventListener("seeking",this.tV),this.HM.removeEventListener("seeked",this.ZU),this.HM.removeEventListener("ratechange",this.JU),this.HM.removeEventListener("durationchange",this.zU),this.HM.removeEventListener("timeupdate",this.nV),this.HM.removeEventListener("waiting",this.eV),this.HM.removeEventListener("playing",this.KU),this.HM.removeEventListener("ended",this.HU),this.HM.removeEventListener("loadedmetadata",this.$U),this.HM.removeEventListener("loadeddata",this.jU),this.HM.removeEventListener("loadstart",this.WU),this.HM.removeEventListener("canplay",this.UU),this.HM.removeEventListener("canplaythrough",this.qU),this.HM.removeEventListener("error",this.XE),this.HM.removeEventListener("seekablechange",this.QU),this.HM.removeEventListener("videosizechange",this.iV),this.HM.removeEventListener("bufferedchange",this.MU),this.HM.removeEventListener("playedchange",this.YU),this.HM.removeEventListener("metricschange",this.dV),this.HM.removeEventListener("addDateRangeCues",this.lV)},i.updateCurrentTime=function(t){var n=this.Rg.start(0),i=this.Rg.end(0);return d.min(d.max(t,n),i)},i.aV=function(){for(var t=0,n=this.zw.al;t<n.length;t++){var i=n[t];if(i.kl===qm.Gb&&i.dr===Qg.ID3)return i}},i.hV=function(t){for(var n=0,i=this.zw.al;n<i.length;n++){var e=i[n],r=e.Nl===yw.Cl,u=e.kl===t;if(r&&u)return e}},i.hI=function(){this.HM.addEventListener("addaudiotrack",this.rV),this.HM.addEventListener("enableaudiotrack",this.uV),this.HM.addEventListener("addvideotrack",this.sV),this.HM.addEventListener("addtexttrack",this.oV),this.HM.addEventListener("addtexttrackid3cues",this.cV),this.HM.addEventListener("addtexttrackcues",this.fV)},i.SI=function(){this.HM.removeEventListener("addaudiotrack",this.rV),this.HM.removeEventListener("enableaudiotrack",this.uV),this.HM.removeEventListener("addvideotrack",this.sV),this.HM.removeEventListener("addtexttrack",this.oV),this.HM.removeEventListener("addtexttrackid3cues",this.cV),this.HM.removeEventListener("addtexttrackcues",this.fV)},i.dg=function(){},ft(n,[{key:"$w",get:function(){return this.Vw}},{key:"lg",get:function(){return this.AU.RI()}},{key:"wg",get:function(){return this.RU?this.RU:null},set:function(t){this.aB.vB("THEOplayerSetCurrentProgramDateTime",t.getTime()),this.RU=t}},{key:"yw",get:function(){return this.tD},set:function(t){this.setCurrentTime(t)}},{key:"mw",get:function(){return this.As}},{key:"bw",get:function(){return this.IU}},{key:"cu",get:function(){return this.UE}},{key:"pw",get:function(){return this.VE}},{key:"Yw",get:function(){}},{key:"yg",get:function(){return this.FE.yg}},{key:"xw",get:function(){return this.jM}},{key:"_w",get:function(){return this.nD},set:function(t){this.nD!==t&&(this.aB.vB("THEOplayerSetMuted",t),this.nD=t,this.Xr(new vg(this.yw,t?0:1)))}},{key:"kw",get:function(){return this.iD}},{key:"Tw",get:function(){return this.eD},set:function(t){this.aB.vB("THEOplayerSetPlaybackRate",t),this.eD=t}},{key:"Eg",get:function(){return this.PU.RI()}},{key:"Ig",get:function(){return nk.JI},set:function(t){}},{key:"Ll",get:function(){return this.mB}},{key:"Rg",get:function(){return this.OU.RI()}},{key:"Sw",get:function(){return this.rD}},{key:"CI",get:function(){}},{key:"Gw",get:function(){return this.zw}},{key:"Ew",get:function(){return this.xU}},{key:"Iw",get:function(){return this.LU}},{key:"Rw",get:function(){return 1},set:function(t){}},{key:"Xw",get:function(){return this.qw}},{key:"AI",get:function(){return this.$E}},{key:"Dg",get:function(){return!1},set:function(t){}},{key:"Sg",get:function(){return!0}}]),n}(Iw),HD=function(){function t(){this.OI=M_.yE}var n=t.prototype;return n.xI=function(n,i){if(n.isAdvertisement)return!1;if(i.vr&&i.vr[360]&&!i.vr.nativeVR)return!1;if((e=n.type)&&lr(e.toLowerCase(),Pw.Ql))return!1;var e,r=n.contentProtection;if(r&&!rp(r)){if(!op(r))return!1;if(!t.yV(r))return!1}return!0},t.yV=function(t){return Boolean(t.fairplay)||Boolean(t.aes128)},n.LI=function(){return!1},t}(),WD=function(){function n(t){this.playerID=t}return n.prototype.vB=function(n,i){if(t.THEOplayerBridge[this.playerID].postMessageToSwift&&"function"==typeof t.THEOplayerBridge[this.playerID].postMessageToSwift){var e={body:i,name:n};t.THEOplayerBridge[this.playerID].postMessageToSwift(e)}},n}(),jD=function(t){function n(n){var i;return(i=t.call(this)||this).aB=void 0,i.HM=void 0,i.mV=function(t){var n=du(t.detail.initData),e=t.detail.sessionId;i.Xr(new MR(n,e))},i.bV=function(t){var n=new y(pu(t.detail.message)),e=t.detail.destinationURL;i.Xr(new UR(n,e))},i.pV=function(t){i.Xr(new VR)},i.aB=n,i.HM=new KI,VI().fairplayController={sdkEventBus:i.HM},i._V(),i}vt(n,t);var i=n.prototype;return i._V=function(){this.HM.addEventListener(CR.qB,this.mV),this.HM.addEventListener(CR.zB,this.bV),this.HM.addEventListener(CR.HB,this.pV)},i.GB=function(t,n){var i={playerId:zI(),data:_u(n.buffer),sessionId:t};this.aB.vB("THEOplayerCreateKeySession",i)},i.rc=function(t,n){var i={playerId:zI(),data:_u(n.buffer),sessionId:t};this.aB.vB("THEOplayerUpdateKey",i)},n}(Iw),$D=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.qh=function(n){if(es(n.Eh)){var i=rs(n.Eh);n.Eh=Xu(i)}return t.prototype.qh.call(this,n)},n}(function(){function t(t){this.aT=void 0,this.aT=t}var n=t.prototype;return n.qh=function(t){return this.aT.qh(t)},n.dv=function(t){this.aT.dv(t)},n.et=function(){this.aT.et()},t}()),XD=function(t){function n(n,i,e,r,u){return t.call(this,n,i,e,r,u)||this}vt(n,t);var i=n.prototype;return i.Zw=function(){return!1},i.getSdkBridge=function(t){return new WD(t)},i.getFairPlayControllerBridge=function(t){return FD||(FD=new jD(t)),FD},i.wV=function(t){return new $D(t)},n}(zD);BD=new(function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.wS=function(t,n,i,e,r,u){return new XD(t,n,i,e,r)},n}(HD)),tk.Qn.qI(BD),function(t){t.Id="addtrack",t.Dd="removetrack",t.Wd="change",t.Kd="update"}(MD||(MD={}));var GD=function(t,n,i){this.type=MD.Wd,this.mediaType=t,this.mediaTrack=n,this.mediaTrackList=i},YD=function(t,n){this.type=MD.Id,this.mediaType=t,this.mediaTrack=n},KD=function(t,n){this.type=MD.Dd,this.mediaType=t,this.mediaTrack=n},JD=function(t,n){this.type=MD.Kd,this.mediaType=t,this.mediaTrack=n},QD=function(){function t(t,n,i){var e=this;this.type=void 0,this.mediaTracks=void 0,this.messageDispatcher=void 0,this.kV=function(t){var n=new GD(e.type,t.track,e.mediaTracks);e.messageDispatcher.TV(n)},this.SV=function(t){var n=new YD(e.type,t.track);e.messageDispatcher.TV(n),t.track.addEventListener("update",e.EV)},this.IV=function(t){var n=new KD(e.type,t.track);e.messageDispatcher.TV(n)},this.EV=function(t){var n=new JD(e.type,t.track);e.messageDispatcher.TV(n)},this.type=t,this.mediaTracks=n,this.messageDispatcher=i,this._V()}return t.prototype._V=function(){this.mediaTracks.addEventListener("change",this.kV),this.mediaTracks.addEventListener("addtrack",this.SV),this.mediaTracks.addEventListener("removetrack",this.IV)},t}(),ZD=function(){function t(t){this.RV=void 0,this.RV=new WD(t)}return t.prototype.TV=function(t){this.RV.vB(t.type,aI(t))},t}();LE(function(t){if(t.Ad.audioTracks){var n=new ZD(t._l);new QD("audio",t.Ad.audioTracks,n)}if(t.Ad.videoTracks){var i=new ZD(t._l);new QD("video",t.Ad.videoTracks,i)}});var tN,nN,iN=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.dispatchEvent=function(t,n){switch(t){case tN.DV:var i={integrationId:n.integrationId,keySystem:n.keySystem};this.Xr(new eN(i));break;default:0}},n}(KI),eN=function(t){function n(n){var i;return(i=t.call(this,tN.DV)||this).detail=n,i}return vt(n,t),n}(Zr);!function(t){t.DV="registerContentProtectionIntegration"}(tN||(tN={})),function(t){t.NV="certifiateRequest",t.CV="certifiateResponse",t.AV="licenseRequest",t.OV="licenseResponse",t.PV="extractFairplayContentId",t.xV="buildContentProtection",t.LV="registerContentProtectionCallback"}(nN||(nN={}));var rN,uN=function(t,n){this.type=nN.LV,this.value=t,this.integrationId=n};!function(t){t.VOD="vod",t.LIVE="live"}(rN||(rN={}));var sN,oN=function(t,n){this.type=nN.xV,this.value=t,this.integrationId=n},cN=function(t,n){this.type=nN.NV,this.value=t,this.integrationId=n},aN=function(t,n){this.type=nN.CV,this.value=t,this.integrationId=n},fN=function(t,n){this.type=nN.PV,this.value=t,this.integrationId=n},hN=function(t,n){this.type=nN.AV,this.value=t,this.integrationId=n},vN=function(t,n){this.type=nN.OV,this.value=t,this.integrationId=n},dN=function(){function t(t,n){this.BV=void 0,this.gS=void 0,this.BV=t,this.gS=n}var i=t.prototype;return i.onCertificateRequest=function(t){var i,e,r,u,s,o;return ze.async(function(c){for(;;)switch(c.prev=c.next){case 0:return i=this.toCertificateRequestDTO(t),e=new cN(i,this.gS),c.prev=2,c.next=5,ze.awrap(this.BV.FV(e));case 5:if(!(r=c.sent)){c.next=16;break}if(u=JSON.parse(r),!this.MV(u)){c.next=13;break}return s=He({},u),c.abrupt("return",s);case 13:if(!this.UV(u)){c.next=16;break}return o=new y(u),c.abrupt("return",o);case 16:throw new Lg(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Could not parse callback in onCertificateRequest");case 19:throw c.prev=19,c.t0=c.catch(2),new Lg(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,c.t0);case 22:case"end":return c.stop()}},null,this,[[2,19]],j)},i.onCertificateResponse=function(t){var i,e,r,u,s;return ze.async(function(o){for(;;)switch(o.prev=o.next){case 0:return i=this.toCertificateRequestDTO(t.request),e={request:i,url:t.url,status:t.status,statusText:t.statusText,headers:t.headers,body:Array.from(t.body)},r=new aN(e,this.gS),o.next=5,ze.awrap(this.BV.FV(r));case 5:if(!(u=o.sent)){o.next=11;break}return s=JSON.parse(u),o.abrupt("return",new y(s));case 11:throw new Lg(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"received undefined instead of string in onCertificateResponse");case 12:case"end":return o.stop()}},null,this,null,j)},i.onLicenseRequest=function(t){var i,e,r,u,s,o,c;return ze.async(function(a){for(;;)switch(a.prev=a.next){case 0:return i=this.toCertificateRequestDTO(t),e={url:i.url,method:i.method,headers:i.headers,body:i.body?Array.from(i.body):null,useCredentials:i.useCredentials,fairplaySkdUrl:t.fairplaySkdUrl},r=new hN(e,this.gS),a.prev=3,a.next=6,ze.awrap(this.BV.FV(r));case 6:if(!(u=a.sent)){a.next=17;break}if(s=JSON.parse(u),!this.MV(s)){a.next=14;break}return o={url:s.url,method:s.method,headers:s.headers,body:s.body?new y(s.body):null,useCredentials:s.useCredentials,fairplaySkdUrl:s.fairplaySkdUrl},a.abrupt("return",o);case 14:if(!this.UV(s)){a.next=17;break}return c=new y(s),a.abrupt("return",c);case 17:throw new Lg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Could not parse callback in onLicenseRequest");case 20:throw a.prev=20,a.t0=a.catch(3),new Lg(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,a.t0);case 23:case"end":return a.stop()}},null,this,[[3,20]],j)},i.onLicenseResponse=function(t){var i,e,r,u,s,o;return ze.async(function(c){for(;;)switch(c.prev=c.next){case 0:return i=this.toCertificateRequestDTO(t.request),e=He({},i,{fairplaySkdUrl:t.request.fairplaySkdUrl}),r={request:e,url:t.url,status:t.status,statusText:t.statusText,headers:t.headers,body:Array.from(t.body)},u=new vN(r,this.gS),c.next=6,ze.awrap(this.BV.FV(u));case 6:if(!(s=c.sent)){c.next=12;break}return o=JSON.parse(s),c.abrupt("return",new y(o));case 12:throw new Lg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"received undefined instead of string in onLicenseResponse");case 13:case"end":return c.stop()}},null,this,null,j)},i.extractFairplayContentId=function(t){var i,e;return ze.async(function(r){for(;;)switch(r.prev=r.next){case 0:return i=new fN(t,this.gS),r.next=3,ze.awrap(this.BV.FV(i));case 3:if(!(e=r.sent)){r.next=6;break}return r.abrupt("return",e);case 6:return r.abrupt("return",j.reject(new Lg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"received undefined instead of string in extractFairplayContentId")));case 7:case"end":return r.stop()}},null,this,null,j)},i.toCertificateRequestDTO=function(t){return{url:t.url,method:t.method,headers:t.headers,body:t.body?Array.from(t.body):null,useCredentials:t.useCredentials}},i.MV=function(t){var n=t;return void 0!==n.url&&void 0!==n.method&&void 0!==n.headers},i.UV=function(t){return!!new y(t)},t}(),lN=function(){function t(t){this.BV=void 0,this.BV=t}return t.prototype.build=function(t){if(!t.integration)throw new f("integrationId is undefined");var n=new dN(this.BV,t.integration),i=new oN({drmConfiguration:t},t.integration);return this.BV.FV(i),n},t}(),wN=function(){var t=this;this.HM=void 0,this.VV=function(n){var i=new lN(t.messageDispatcher),e=n.detail,r=e.integrationId,u=e.keySystem,s={state:Kb.kS.mS(r,u,i)};t.messageDispatcher.FV(new uN(s,r))},this.HM=new iN,VI().contentProtectionIntegration={sdkEventBus:this.HM},this.HM.addEventListener(tN.DV,this.VV)},gN="nativePromiseCallback",yN=function(t){function n(n){var i;return(i=t.call(this,gN)||this).detail=n,i}return vt(n,t),n}(Zr);!function(t){t.RESOLVE="NATIVE_PROMISE_RESOLVE",t.REJECT="NATIVE_PROMISE_REJECT"}(sN||(sN={}));var mN=function(t){function n(){return t.apply(this,arguments)||this}vt(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.Xr(new yN(n))},i.addEventListener=function(t,n){this.Gr(t,n)},i.removeEventListener=function(t,n){this.Qr(t,n)},n}(KI),bN=function(){function t(){var t=this;this.RV=void 0,this.promisesMap={},this.handleNativePromiseEvent=function(n){var i=t.promisesMap[n.detail.promiseId];if(!i)throw new f("Could not find a promise with id "+n.detail.promiseId);switch(n.detail.type){case sN.RESOLVE:i.Ou(n.detail.data);break;case sN.REJECT:i.Pu(n.detail.data)}delete t.promisesMap[n.detail.promiseId]};var n=new mN;VI().nativePromise={sdkEventBus:n},n.addEventListener(gN,this.handleNativePromiseEvent)}return t.prototype.FV=function(n){var i;t.messageIdTracker+=1;var e=t.messageIdTracker.toString(),r=He({},n,{promiseId:e}),u=new cs;return this.promisesMap[e]=u,null==(i=this.RV)||i.vB(n.type,oI(r)),u.Nu},t}();bN.messageIdTracker=-1;var pN=function(t){function n(n){var i;return(i=t.call(this)||this).RV=new WD(n),i}return vt(n,t),n}(bN),_N=function(t){function n(n){var i;return(i=t.call(this)||this).BV=void 0,i.BV=new pN(n),i}return vt(n,t),ft(n,[{key:"messageDispatcher",get:function(){return this.BV}}]),n}(wN);LE(function(t){new _N(t.Ad.uid)}),n.ChromelessPlayer=nI,n.Player=nI,n.createGlobals=HI,n.features=[],n.getCueMirrorMap=qI,n.getGlobalId=zI,n.getSdkEventBridge=VI,n.playerSuiteVersion="2022.2.1",n.players=eI,n.registerContentProtectionIntegration=rI,n.utils=iI,n.version="3.4.0",v.defineProperty(n,"__esModule",{value:!0})})}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:this);
