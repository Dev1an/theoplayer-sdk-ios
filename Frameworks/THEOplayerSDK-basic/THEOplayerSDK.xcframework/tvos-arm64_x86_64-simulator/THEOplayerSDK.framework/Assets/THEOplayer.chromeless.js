/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com

 This product makes use of Open Source Software: long.js
 (Apache 2.0), promise-polyfill (MIT - Copyright (c) 2014
 Taylor Hakes & Forbes Lindesay), shaka-player (Apache 2.0 -
 Copyright 2016 Google LLC)
 The code of these projects has been heavily modified during
 integration.
 More information on the licenses can be found here: Apache 2.0
(http://www.apache.org/licenses/LICENSE-2.0), MIT
(https://opensource.org/licenses/MIT)


 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 2022.3.2 (4.0.0)
 Created: 2022-09-01T15:20:09.592Z
 */
!function(t){!function(n,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i((n="undefined"!=typeof globalThis?globalThis:n||t).THEOplayer={})}(this,function(n){"use strict";var i=t.window,e=t.document,r=t.location,u=t.navigator,s=t.setTimeout,o=t.clearTimeout,c=t.setInterval,a=t.clearInterval,f=t.Error,h=t.TypeError,v=(t.SyntaxError,t.Object),d=t.Math,l=t.parseInt,w=t.parseFloat,g=t.isNaN,y=t.Uint8Array,m=(t.Worker,t.WorkerGlobalScope,t.XMLHttpRequest);var b=s;function p(t){return Boolean(t&&void 0!==t.length)}function _(){}function k(t){if(!(this instanceof k))throw new h("Promises must be constructed via new");if("function"!=typeof t)throw new h("not a function");this.o=0,this.l=!1,this.g=void 0,this.p=[],D(t,this)}function T(t,n){for(;3===t.o;)t=t.g;0!==t.o?(t.l=!0,k.R(function(){var i=1===t.o?n.onFulfilled:n.onRejected;if(null!==i){var e;try{e=i(t.g)}catch(t){return void E(n.promise,t)}S(n.promise,e)}else(1===t.o?S:E)(n.promise,t.g)})):t.p.push(n)}function S(t,n){try{if(n===t)throw new h("A promise cannot be resolved with itself.");if(n&&("object"==typeof n||"function"==typeof n)){var i=n.then;if(n instanceof k)return t.o=3,t.g=n,void R(t);if("function"==typeof i)return void D((e=i,r=n,function(){e.apply(r,arguments)}),t)}t.o=1,t.g=n,R(t)}catch(n){E(t,n)}var e,r}function E(t,n){t.o=2,t.g=n,R(t)}function R(t){2===t.o&&0===t.p.length&&k.R(function(){t.l||k.I(t.g)});for(var n=0,i=t.p.length;n<i;n++)T(t,t.p[n]);t.p=null}function I(t,n,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof n?n:null,this.promise=i}function D(t,n){var i=!1;try{t(function(t){i||(i=!0,S(n,t))},function(t){i||(i=!0,E(n,t))})}catch(t){if(i)return;i=!0,E(n,t)}}k.prototype.catch=function(t){return this.then(null,t)},k.prototype.then=function(t,n){var i=new this.constructor(_);return T(this,new I(t,n,i)),i},k.prototype.finally=function(t){var n=this.constructor;return this.then(function(i){return n.resolve(t()).then(function(){return i})},function(i){return n.resolve(t()).then(function(){return n.reject(i)})})},k.all=function(t){return new k(function(n,i){if(!p(t))return i(new h("Promise.all accepts an array"));var e=Array.prototype.slice.call(t);if(0===e.length)return n([]);var r=e.length;function u(t,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var o=s.then;if("function"==typeof o)return void o.call(s,function(n){u(t,n)},i)}e[t]=s,0==--r&&n(e)}catch(t){i(t)}}for(var s=0;s<e.length;s++)u(s,e[s])})},k.allSettled=function(t){return new this(function(n,i){if(!t||void 0===t.length)return i(new h(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var e=Array.prototype.slice.call(t);if(0===e.length)return n([]);var r=e.length;function u(t,i){if(i&&("object"==typeof i||"function"==typeof i)){var s=i.then;if("function"==typeof s)return void s.call(i,function(n){u(t,n)},function(i){e[t]={status:"rejected",reason:i},0==--r&&n(e)})}e[t]={status:"fulfilled",value:i},0==--r&&n(e)}for(var s=0;s<e.length;s++)u(s,e[s])})},k.resolve=function(t){return t&&"object"==typeof t&&t.constructor===k?t:new k(function(n){n(t)})},k.reject=function(t){return new k(function(n,i){i(t)})},k.race=function(t){return new k(function(n,i){if(!p(t))return i(new h("Promise.race accepts an array"));for(var e=0,r=t.length;e<r;e++)k.resolve(t[e]).then(n,i)})},k.R="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){b(t,0)},k.I=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var C=function(){var n=t.Promise;if(void 0!==n)try{if(-1!==n.toString().indexOf("[native code]"))return n}catch(t){}}(),N=u?u.userAgent:"",O=N.match(/Firefox\/([0-9]+)/i),A=null!=O,P=O?Number(O[1]):0,x=N.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),L=null!=x,B=x?Number(x[3]):0,M=function(){function t(t){this.C=0,this.N=0,this.P=[],this.B=t}return t.prototype.M=function(t){var n=this.length();this.F(n+1);var i=this.N+n&this.B-1;this.P[i]=t,this.C=n+1},t.prototype.push=function(t){var n=this.length()+1;if(this.B<n)this.M(t);else{var i=this.N+n-1,e=this.B-1;this.P[i&e]=t,this.C=n}},t.prototype.shift=function(){var t=this.N,n=this.P[t];return this.P[t]=void 0,this.N=t+1&this.B-1,this.C--,n},t.prototype.length=function(){return this.C},t.prototype.F=function(t){this.B<t&&this.U(this.B<<1)},t.prototype.U=function(t){var n=this.B;this.B=t;var i=this.N+this.C&n-1;!function(t,n,i,e){for(var r=0;r<e;++r)t[r+i]=t[r+n],t[r+n]=void 0}(this.P,0,n,i)},t}();var F="unhandledrejection",U=t.PromiseRejectionEvent,V=t.CustomEvent;function W(t){return new U(F,{reason:t,promise:C.reject(t).catch(function(){}),cancelable:!0})}function H(t){var n=new V(F,{detail:{reason:t},cancelable:!0});return v.defineProperty(n,"reason",{value:t}),n}function q(t){var n=e.createEvent("CustomEvent");return n.initCustomEvent(F,!1,!0,{reason:t}),n}var z,j,$,X,G,Y,K,J,Q,Z,tt,nt,it=function(t){return(it=function(){try{var t=C.resolve(),n=new U(F,{reason:"error",promise:t});return F===n.type&&"error"===n.reason}catch(t){}return!1}()?W:function(){try{var t=new V(F,{detail:{reason:"error"}});return F===t.type&&"error"===t.detail.reason}catch(t){}return!1}()?H:q)(t)};if(C&&!(A&&P<60||L&&B<15))j=C;else{j=k;var et=null!==(z=function(){var n=t.queueMicrotask;if("function"==typeof n)return function(t){return n(t)};var i=C;if(i&&"function"==typeof i.resolve){var e=i.resolve();return function(t){return e.then(t)}}}())&&void 0!==z?z:k.R,rt=($=et,X=new M(16),G=!1,{V:function(t){X.push(t),G||(G=!0,$(Y))},W:Y=function(){for(;X.length()>0;)X.shift()();G=!1}});k.R=rt.V,k.I=function(n){try{var i=it(n);if(!t.dispatchEvent(i)||i.defaultPrevented)return}catch(t){}s(function(){throw new f("Unhandled promise rejection: ".concat(n))},0)}}var ut,st,ot,ct={H:function(){function t(){this.j=[]}var n=t.prototype;return n.X=function(){},n.G=function(t){return{Y:function(){return j.resolve()},K:function(){}}},n.J=function(t){throw new f("Not implemented")},n.Z=function(t){return j.resolve()},n.nt=function(t){return j.resolve()},n.it=function(t){},n.et=function(){},t}(),rt:function(){function t(){}var n=t.prototype;return n.ut=function(){return j.resolve("all")},n.st=function(){},n.et=function(){},t}(),ot:{ct:function(t){getActiveDocument().addEventListener("unload",t)},ft:function(t){getActiveDocument().removeEventListener("unload",t)}},ht:{location:{href:"https://theoplayer.doubleclick.net"},get document(){return getActiveDocument()},top:void 0,parent:void 0,self:t,navigator:{userAgent:""},ResizeObserver:function(t){this.observe=function(t){},this.unobserve=function(t){},this.disconnect=function(){}}}};function at(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),v.defineProperty(t,e.key,e)}}function ft(t,n,i){return n&&at(t.prototype,n),i&&at(t,i),v.defineProperty(t,"prototype",{writable:!1}),t}function ht(t,n){return(ht=v.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function vt(t,n){t.prototype=v.create(n.prototype),t.prototype.constructor=t,ht(t,n)}function dt(t){st=t}Element.prototype.style={},K=(ut=ct).H,J=ut.rt,Q=ut.ot,Z=ut.ht,tt=Z&&Z.location,nt=Z&&Z.navigator,function(t){t.vt="web",t.dt="android",t.wt="android-tv",t.yt="ios",t.bt="tvos",t.pt="chromecast"}(ot||(ot={}));var lt=u?u.userAgent:"",wt=lt.match(/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),gt=lt.match(/Edg\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),yt=lt.match(/Android ([0-9\.]+)/i),mt=lt.match(/Windows NT ([0-9\.]+)/i),bt=lt.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),pt=lt.match(/Firefox\/([0-9\.]+)/i),_t=lt.match(/OPR\/(\d+\.\d+)/i),kt=lt.match(/Tizen ([0-9\.]+)/i),Tt=function(){function n(){this._t=Boolean("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch||u&&u.msMaxTouchPoints),this.kt=/(mac\sos\sx)\s?([\w\s\.]+\w)*/i.test(lt)||/(macintosh|mac(?=_powerpc)\s)/i.test(lt),this.Tt=/Windows NT/i.test(lt),this.St=mt?w(mt[1]):0,this.Et=/Android/i.test(lt),this.Rt=yt?w(yt[1]):0,this.It=/windows phone (8|8\.1)/i.test(lt),this.Dt=/iPhone/i.test(lt),this.Ct=/iPad/i.test(lt),this.Nt=this.kt&&this._t&&!this.Ct,this.Ot=/iPod/i.test(lt),this.At=/Mobile Safari/i.test(lt),this.Pt=/EOSSTB/i.test(lt),this.xt=(this.Dt||this.Ct||this.Nt||this.Ot)&&!this.It,this.Lt=this.It||this.xt||this.Et||this.At,this.Bt=/CriOS/i.test(lt),this.Mt=Boolean(t.chrome&&/google/i.test(u.vendor))||this.Bt,this.Ft=this.Mt&&/Edg\//i.test(u.userAgent),this.Ut=gt?l(gt[1],10):0,this.Vt=Boolean(t.chrome||/Chrome/i.test(lt)||/CriOS/i.test(lt)),this.Wt=wt?l(wt[1],10):0,this.Ht=/SMART-TV.*Tizen/i.test(lt),this.qt=kt?w(kt[1]):0,this.zt=/webos|web0s/i.test(lt),this.jt=/Edge\/\d+/i.test(lt),this.$t=/Trident/i.test(lt),this.Xt=this.$t&&!t.ActiveXObject&&"ActiveXObject"in t,this.Gt=/Vivaldi/i.test(lt),this.Yt=/Firefox/i.test(lt)&&!/Seamonkey/i.test(lt),this.Kt=pt?w(pt[1]):0,this.Jt=/Safari/i.test(lt)&&!/Chrome/i.test(lt)&&!this.It&&!this.Ht,this.Qt=bt?w(bt[2]):0,this.Zt=Boolean(_t),this.tn=_t?w(_t[1]):0,this.nn=/CrKey/.test(lt),this.in=/\b(tv|smart-tv|smarttv|appletv|crkey|googletv|hbbtv|pov_tv|roku|viera|nettv|philipstv)\b/i.test(lt),this.en="tvos"===ot.wt,this.rn="tvos"===ot.dt,this.un=this.rn||this.en,this.sn="tvos"===ot.yt,this.cn="tvos"===ot.bt,this.an="tvos"===ot.pt}return ft(n,[{key:"fn",get:function(){return this._t}},{key:"hn",get:function(){return this.kt}},{key:"vn",get:function(){return this.Tt}},{key:"dn",get:function(){return this.St}},{key:"ln",get:function(){return this.Et}},{key:"wn",get:function(){return this.Rt}},{key:"gn",get:function(){return this.It}},{key:"yn",get:function(){return this.Dt}},{key:"mn",get:function(){return this.Ct}},{key:"bn",get:function(){return this.Nt}},{key:"pn",get:function(){return this.Ot}},{key:"_n",get:function(){return this.xt}},{key:"kn",get:function(){return this.Pt}},{key:"Tn",get:function(){return this.At}},{key:"Sn",get:function(){return this.Lt}},{key:"En",get:function(){return this.Bt}},{key:"Rn",get:function(){return this.Mt}},{key:"In",get:function(){return this.Wt}},{key:"Dn",get:function(){return this.Ft}},{key:"Cn",get:function(){return this.Ut}},{key:"Nn",get:function(){return this.Ht}},{key:"On",get:function(){return this.qt}},{key:"An",get:function(){return this.zt}},{key:"Pn",get:function(){return this.jt}},{key:"xn",get:function(){return this.$t}},{key:"Ln",get:function(){return this.Xt}},{key:"Bn",get:function(){return this.Gt}},{key:"Mn",get:function(){return this.Yt}},{key:"Fn",get:function(){return this.Kt}},{key:"Un",get:function(){return this.Jt}},{key:"Vn",get:function(){return this.Qt}},{key:"Wn",get:function(){return this.Zt}},{key:"Hn",get:function(){return this.tn}},{key:"qn",get:function(){return this.nn}},{key:"zn",get:function(){return this.in}},{key:"jn",get:function(){if(!(this.An||this.Nn))return!1;var t=this.In;return void 0===t||Number(t)<56}},{key:"$n",get:function(){return this.en}},{key:"Xn",get:function(){return this.rn}},{key:"Gn",get:function(){return this.un}},{key:"Yn",get:function(){return this.sn}},{key:"Kn",get:function(){return this.cn}},{key:"Jn",get:function(){return this.an}},{key:"Qn",get:function(){return this.Vt}}]),n}();Tt.Zn=new Tt;var St=Tt.Zn,Et={}.hasOwnProperty,Rt={}.toString;function It(t){return null!=t}function Dt(t){return void 0===t}var Ct=Array.isArray||function(t){return"[object Array]"===Rt.call(t)};function Nt(t){return Ot(t)&&Et.call(t,"length")&&Bt(t.length)}function Ot(t){return"object"==typeof t&&null!==t}function At(t){return Ot(t)&&t.constructor&&t.constructor===v}function Pt(t){return"string"==typeof t}function xt(t){return"boolean"==typeof t}function Lt(t){return Boolean(t)&&"function"==typeof t.then}function Bt(t){return"number"==typeof t}var Mt=function(){},Ft=function(t){return t},Ut=!(St.xn&&!St.Ln),Vt=t.console;function Wt(t){if(Ot(t))try{return JSON.stringify(t)}catch(t){}return t}function Ht(t){return t.map(Wt).join(" ")}function qt(t){var n=Vt&&Vt[t];return n?n.bind&&Ut?n.bind(Vt):function(){for(var n=arguments.length,i=new Array(n),e=0;e<n;e++)i[e]=arguments[e];Vt[t](Ht(i))}:void 0}var zt,jt=qt("log")||Mt,$t=qt("warn")||jt.bind(void 0,"WARNING:"),Xt=qt("error")||jt.bind(void 0,"ERROR:"),Gt=(zt=Vt&&Vt.assert)?zt.bind&&Ut?zt.bind(Vt):function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];Vt.assert(t,Ht(i))}:function(t){if(!t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];Xt.apply(void 0,["Assertion failed:"].concat(i))}},Yt=null;try{Yt=new WebAssembly.Instance(new WebAssembly.Module(new y([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function Kt(t,n,i){this.low=0|t,this.high=0|n,this.unsigned=!!i}function Jt(t){return!0===(t&&t.ti)}function Qt(t){var n=d.clz32(t&-t);return t?31-n:n}Kt.prototype.ti,v.defineProperty(Kt.prototype,"ti",{value:!0}),Kt.isLong=Jt;var Zt={},tn={};function nn(t,n){var i,e,r;return n?(r=0<=(t>>>=0)&&t<256)&&(e=tn[t])?e:(i=rn(t,0,!0),r&&(tn[t]=i),i):(r=-128<=(t|=0)&&t<128)&&(e=Zt[t])?e:(i=rn(t,t<0?-1:0,!1),r&&(Zt[t]=i),i)}function en(t,n){if(g(t))return n?dn:vn;if(n){if(t<0)return dn;if(t>=an)return mn}else{if(t<=-fn)return bn;if(t+1>=fn)return yn}return t<0?en(-t,n).neg():rn(t%cn|0,t/cn|0,n)}function rn(t,n,i){return new Kt(t,n,i)}Kt.fromInt=nn,Kt.fromNumber=en,Kt.fromBits=rn;var un=d.pow;function sn(t,n,i){if(0===t.length)throw f("empty string");if("number"==typeof n?(i=n,n=!1):n=!!n,"NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return n?dn:vn;if((i=i||10)<2||36<i)throw RangeError("radix");var e;if((e=t.indexOf("-"))>0)throw f("interior hyphen");if(0===e)return sn(t.substring(1),n,i).neg();for(var r=en(un(i,8)),u=vn,s=0;s<t.length;s+=8){var o=d.min(8,t.length-s),c=l(t.substring(s,s+o),i);if(o<8){var a=en(un(i,o));u=u.mul(a).add(en(c))}else u=(u=u.mul(r)).add(en(c))}return u.unsigned=n,u}function on(t,n){return"number"==typeof t?en(t,n):"string"==typeof t?sn(t,n):rn(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}Kt.fromString=sn,Kt.fromValue=on;var cn=4294967296,an=cn*cn,fn=an/2,hn=nn(1<<24),vn=nn(0);Kt.ZERO=vn;var dn=nn(0,!0);Kt.UZERO=dn;var ln=nn(1);Kt.ONE=ln;var wn=nn(1,!0);Kt.UONE=wn;var gn=nn(-1);Kt.NEG_ONE=gn;var yn=rn(-1,2147483647,!1);Kt.MAX_VALUE=yn;var mn=rn(-1,-1,!0);Kt.MAX_UNSIGNED_VALUE=mn;var bn=rn(0,-2147483648,!1);Kt.MIN_VALUE=bn;var pn=Kt.prototype;pn.toInt=function(){return this.unsigned?this.low>>>0:this.low},pn.toNumber=function(){return this.unsigned?(this.high>>>0)*cn+(this.low>>>0):this.high*cn+(this.low>>>0)},pn.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(bn)){var n=en(t),i=this.div(n),e=i.mul(n).sub(this);return i.toString(t)+e.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var r=en(un(t,6),this.unsigned),u=this,s="";;){var o=u.div(r),c=(u.sub(o.mul(r)).toInt()>>>0).toString(t);if((u=o).isZero())return c+s;for(;c.length<6;)c="0"+c;s=""+c+s}},pn.getHighBits=function(){return this.high},pn.getHighBitsUnsigned=function(){return this.high>>>0},pn.getLowBits=function(){return this.low},pn.getLowBitsUnsigned=function(){return this.low>>>0},pn.getNumBitsAbs=function(){if(this.isNegative())return this.eq(bn)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,n=31;n>0&&0==(t&1<<n);n--);return 0!=this.high?n+33:n+1},pn.isZero=function(){return 0===this.high&&0===this.low},pn.eqz=pn.isZero,pn.isNegative=function(){return!this.unsigned&&this.high<0},pn.isPositive=function(){return this.unsigned||this.high>=0},pn.isOdd=function(){return 1==(1&this.low)},pn.isEven=function(){return 0==(1&this.low)},pn.equals=function(t){return Jt(t)||(t=on(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},pn.eq=pn.equals,pn.notEquals=function(t){return!this.eq(t)},pn.neq=pn.notEquals,pn.ne=pn.notEquals,pn.lessThan=function(t){return this.comp(t)<0},pn.lt=pn.lessThan,pn.lessThanOrEqual=function(t){return this.comp(t)<=0},pn.lte=pn.lessThanOrEqual,pn.le=pn.lessThanOrEqual,pn.greaterThan=function(t){return this.comp(t)>0},pn.gt=pn.greaterThan,pn.greaterThanOrEqual=function(t){return this.comp(t)>=0},pn.gte=pn.greaterThanOrEqual,pn.ge=pn.greaterThanOrEqual,pn.compare=function(t){if(Jt(t)||(t=on(t)),this.eq(t))return 0;var n=this.isNegative(),i=t.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},pn.comp=pn.compare,pn.negate=function(){return!this.unsigned&&this.eq(bn)?bn:this.not().add(ln)},pn.neg=pn.negate,pn.add=function(t){Jt(t)||(t=on(t));var n=this.high>>>16,i=65535&this.high,e=this.low>>>16,r=65535&this.low,u=t.high>>>16,s=65535&t.high,o=t.low>>>16,c=0,a=0,f=0,h=0;return f+=(h+=r+(65535&t.low))>>>16,a+=(f+=e+o)>>>16,c+=(a+=i+s)>>>16,c+=n+u,rn((f&=65535)<<16|(h&=65535),(c&=65535)<<16|(a&=65535),this.unsigned)},pn.subtract=function(t){return Jt(t)||(t=on(t)),this.add(t.neg())},pn.sub=pn.subtract,pn.multiply=function(t){if(this.isZero())return this;if(Jt(t)||(t=on(t)),Yt)return rn(Yt.mul(this.low,this.high,t.low,t.high),Yt.get_high(),this.unsigned);if(t.isZero())return this.unsigned?dn:vn;if(this.eq(bn))return t.isOdd()?bn:vn;if(t.eq(bn))return this.isOdd()?bn:vn;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(hn)&&t.lt(hn))return en(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,e=this.low>>>16,r=65535&this.low,u=t.high>>>16,s=65535&t.high,o=t.low>>>16,c=65535&t.low,a=0,f=0,h=0,v=0;return h+=(v+=r*c)>>>16,f+=(h+=e*c)>>>16,h&=65535,f+=(h+=r*o)>>>16,a+=(f+=i*c)>>>16,f&=65535,a+=(f+=e*o)>>>16,f&=65535,a+=(f+=r*s)>>>16,a+=n*c+i*o+e*s+r*u,rn((h&=65535)<<16|(v&=65535),(a&=65535)<<16|(f&=65535),this.unsigned)},pn.mul=pn.multiply,pn.divide=function(t){if(Jt(t)||(t=on(t)),t.isZero())throw f("division by zero");var n,i,e;if(Yt)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?rn((this.unsigned?Yt.div_u:Yt.div_s)(this.low,this.high,t.low,t.high),Yt.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?dn:vn;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return dn;if(t.gt(this.shru(1)))return wn;e=dn}else{if(this.eq(bn))return t.eq(ln)||t.eq(gn)?bn:t.eq(bn)?ln:(n=this.shr(1).div(t).shl(1)).eq(vn)?t.isNegative()?ln:gn:(i=this.sub(t.mul(n)),e=n.add(i.div(t)));if(t.eq(bn))return this.unsigned?dn:vn;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();e=vn}for(i=this;i.gte(t);){n=d.max(1,d.floor(i.toNumber()/t.toNumber()));for(var r=d.ceil(d.log(n)/d.LN2),u=r<=48?1:un(2,r-48),s=en(n),o=s.mul(t);o.isNegative()||o.gt(i);)o=(s=en(n-=u,this.unsigned)).mul(t);s.isZero()&&(s=ln),e=e.add(s),i=i.sub(o)}return e},pn.div=pn.divide,pn.modulo=function(t){return Jt(t)||(t=on(t)),Yt?rn((this.unsigned?Yt.rem_u:Yt.rem_s)(this.low,this.high,t.low,t.high),Yt.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},pn.mod=pn.modulo,pn.rem=pn.modulo,pn.not=function(){return rn(~this.low,~this.high,this.unsigned)},pn.countLeadingZeros=function(){return this.high?d.clz32(this.high):d.clz32(this.low)+32},pn.clz=pn.countLeadingZeros,pn.countTrailingZeros=function(){return this.low?Qt(this.low):Qt(this.high)+32},pn.ctz=pn.countTrailingZeros,pn.and=function(t){return Jt(t)||(t=on(t)),rn(this.low&t.low,this.high&t.high,this.unsigned)},pn.or=function(t){return Jt(t)||(t=on(t)),rn(this.low|t.low,this.high|t.high,this.unsigned)},pn.xor=function(t){return Jt(t)||(t=on(t)),rn(this.low^t.low,this.high^t.high,this.unsigned)},pn.shiftLeft=function(t){return Jt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?rn(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):rn(0,this.low<<t-32,this.unsigned)},pn.shl=pn.shiftLeft,pn.shiftRight=function(t){return Jt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?rn(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):rn(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},pn.shr=pn.shiftRight,pn.shiftRightUnsigned=function(t){return Jt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?rn(this.low>>>t|this.high<<32-t,this.high>>>t,this.unsigned):rn(32===t?this.high:this.high>>>t-32,0,this.unsigned)},pn.shru=pn.shiftRightUnsigned,pn.shr_u=pn.shiftRightUnsigned,pn.rotateLeft=function(t){var n;return Jt(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?rn(this.high,this.low,this.unsigned):t<32?(n=32-t,rn(this.low<<t|this.high>>>n,this.high<<t|this.low>>>n,this.unsigned)):(n=32-(t-=32),rn(this.high<<t|this.low>>>n,this.low<<t|this.high>>>n,this.unsigned))},pn.rotl=pn.rotateLeft,pn.rotateRight=function(t){var n;return Jt(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?rn(this.high,this.low,this.unsigned):t<32?(n=32-t,rn(this.high<<n|this.low>>>t,this.low<<n|this.high>>>t,this.unsigned)):(n=32-(t-=32),rn(this.low<<n|this.high>>>t,this.high<<n|this.low>>>t,this.unsigned))},pn.rotr=pn.rotateRight,pn.toSigned=function(){return this.unsigned?rn(this.low,this.high,!1):this},pn.toUnsigned=function(){return this.unsigned?this:rn(this.low,this.high,!0)},pn.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},pn.toBytesLE=function(){var t=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},pn.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]},Kt.fromBytes=function(t,n,i){return i?Kt.fromBytesLE(t,n):Kt.fromBytesBE(t,n)},Kt.fromBytesLE=function(t,n){return new Kt(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},Kt.fromBytesBE=function(t,n){return new Kt(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};var _n=d.pow(2,-52);function kn(t,n,i){return d.min(d.max(t,n),i)}function Tn(t,n,i){return t===n||d.abs(t-n)<=i}function Sn(t,n){for(var i=t,e=n;0!==e;){var r=i%e;i=e,e=r}return i<0?-i:i}function En(){return Date.now()||(new Date).getTime()}function Rn(t){return t/1e3}var In;function Dn(t){return t.ni===In.ii}function Cn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}Kt.fromNumber(9007199254740991),function(t){t[t.ii=1]="ii",t[t.ei=2]="ei",t[t.ri=3]="ri",t[t.ui=4]="ui",t[t.si=9]="si"}(In||(In={}));var Nn=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];f.apply(this,n)};(Nn.prototype=v.create(f.prototype)).constructor=Nn;var On=function(t){function n(n,i){var e;return(e=t.call(this)||this).cause=void 0,e.message=n||"Unknown error",e.cause=i,f.captureStackTrace&&f.captureStackTrace(Cn(e),e.constructor),e}return vt(n,t),ft(n,[{key:"name",get:function(){return"BaseError"}}]),n}(Nn),An=function(t){function n(n){return t.call(this,"Invalid XML",n)||this}return vt(n,t),n}(On),Pn=function(){function t(){}return t.prototype.oi=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new An(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new An;return new Vn(n)},t}(),xn=function(){function t(t){this.ci=void 0,this.ci=t}var n=t.prototype;return n.ai=function(t){return this.ci.isEqualNode(t.ci)},n.fi=function(n){return new t(this.ci.cloneNode(n))},ft(t,[{key:"ni",get:function(){return In.ei}},{key:"hi",get:function(){var t;return null!=(t=this.ci.localName)?t:qn(this.ci.nodeName)}},{key:"vi",get:function(){return this.ci.nodeName}},{key:"di",get:function(){var t;return null!=(t=this.ci.namespaceURI)?t:void 0}},{key:"li",get:function(){var t;return null!=(t=this.ci.prefix)?t:void 0}},{key:"wi",get:function(){return this.ci.nodeValue}}]),t}(),Ln=function(){function t(t){this.gi=void 0,this.yi=void 0,this.gi=t}var n=t.prototype;return n.mi=function(t){return this.bi.filter(function(n){return Wn(n)&&n.pi===t})},n._i=function(t,n){return this.bi.filter(function(i){return Wn(i)&&i.hi===n&&i.di===t})},n.ki=function(t){this.gi.appendChild(t.Ti),this.yi&&this.yi.push(t)},n.ai=function(t){return this.gi.isEqualNode(t.Ti)},ft(t,[{key:"bi",get:function(){return void 0===this.yi&&(this.yi=function(t){for(var n=[],i=0;i<t.length;i++){var e=Hn(t.item(i));e&&n.push(e)}return n}(this.gi.childNodes)),this.yi}},{key:"Si",get:function(){return this.bi.filter(Wn)}},{key:"Ti",get:function(){return this.gi}}]),t}(),Bn=function(t){function n(n){return t.call(this,n)||this}vt(n,t);var i=n.prototype;return i.Ei=function(t){if(this.gi.hasAttribute(t))return this.gi.getAttribute(t)},i.Ri=function(t,n){if(this.gi.hasAttributeNS(t,n))return this.gi.getAttributeNS(t,n)},i.Ii=function(t){this.gi.removeAttribute(t)},i.Di=function(t,n){this.gi.removeAttributeNS(t,n)},i.Ci=function(t,n){this.gi.setAttribute(t,n)},i.Ni=function(t,n,i){this.gi.setAttributeNS(t,n,i)},i.fi=function(t){return new n(this.gi.cloneNode(t))},ft(n,[{key:"ni",get:function(){return In.ii}},{key:"hi",get:function(){var t;return null!=(t=this.gi.localName)?t:qn(this.gi.nodeName)}},{key:"di",get:function(){var t;return null!=(t=this.gi.namespaceURI)?t:void 0}},{key:"li",get:function(){var t;return null!=(t=this.gi.prefix)?t:void 0}},{key:"pi",get:function(){return this.gi.nodeName}},{key:"Oi",get:function(){return function(t){for(var n=[],i=0;i<t.length;i++)n.push(new xn(t.item(i)));return n}(this.gi.attributes)}},{key:"Ai",get:function(){return this.gi.textContent}}]),n}(Ln),Mn=function(){function t(t){this.gi=void 0,this.gi=t}return t.prototype.ai=function(t){return this.Pi===t.Pi},ft(t,[{key:"Pi",get:function(){return this.gi.nodeValue}},{key:"Ti",get:function(){return this.gi}}]),t}(),Fn=function(t){function n(n){return t.call(this,n)||this}return vt(n,t),n.prototype.fi=function(t){return new n(this.gi.cloneNode(t))},ft(n,[{key:"ni",get:function(){return In.ri}}]),n}(Mn),Un=function(t){function n(n){return t.call(this,n)||this}return vt(n,t),n.prototype.fi=function(t){return new n(this.gi.cloneNode(t))},ft(n,[{key:"ni",get:function(){return In.ui}}]),n}(Mn),Vn=function(t){function n(n){return t.call(this,n)||this}return vt(n,t),n.prototype.fi=function(t){return new n(this.gi.cloneNode(t))},ft(n,[{key:"ni",get:function(){return In.si}},{key:"xi",get:function(){return new Bn(this.gi.documentElement)}}]),n}(Ln);function Wn(t){return Dn(t)}function Hn(t){switch(t.nodeType){case In.ii:return new Bn(t);case In.ri:return new Fn(t);case In.ui:return new Un(t)}}function qn(t){var n=t.indexOf(":");return n<0?t:t.substr(n+1)}function zn(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),v.defineProperty(t,e.key,e)}}function jn(t,n){var i=function(t,n){var i=t.length;if(i<=1)return t;for(var e=new Array(i),r=1;r<i;r*=2){$n(t,n,r,e);var u=t;t=e,e=u}return t}(t,n);return i!==t&&$n(i,null,t.length,t),t}function $n(t,n,i,e){var r,u,s,o,c,a=t.length,f=0,h=2*i;for(r=0;r<a;r+=h)for(s=(u=r+i)+i,u>a&&(u=a),s>a&&(s=a),o=r,c=u;;)if(o<u&&c<s)n(t[o],t[c])<=0?e[f++]=t[o++]:e[f++]=t[c++];else if(o<u)e[f++]=t[o++];else{if(!(c<s))break;e[f++]=t[c++]}}var Xn=/[a-zA-Z]/,Gn=/[0-9]/,Yn=/[0-9a-fA-F]/,Kn=/^0x/i,Jn=/^[0-9]+$/,Qn=/^[0-9a-fA-F]+$/,Zn=/^[0-7]+$/,ti=v.prototype.toString,ni=Array.isArray||function(t){return"[object Array]"===ti.call(t)},ii="undefined"!=typeof Symbol&&"symbol"==typeof Symbol.iterator;function ei(t){return ni(t)?t:Array.from(t)}function ri(t){return t>=65&&t<=90}function ui(t){return ri(t)||function(t){return t>=97&&t<=122}(t)}function si(t){return t>=48&&t<=57}function oi(t){return si(t)||ui(t)}function ci(t){return si(t)||t>=65&&t<=70||t>=97&&t<=102}function ai(t){return ri(t)?t+32:t}function fi(t){return si(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function hi(t,n){return void 0===n&&(n=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(n?87:55):-1}var vi=d.min,di=String.fromCharCode,li=16384;function wi(t){for(var n=t.length,i=[],e=0;e<n;e+=li){var r=vi(e+li,n);i.push(di.apply(null,t.slice(e,r)))}return i.join("")}var gi=/[^\0-\x7E]/,yi=/[\x2E\u3002\uFF0E\uFF61]/g,mi={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},bi=d.floor,pi=String.fromCharCode;function _i(t){throw new RangeError(mi[t])}function ki(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&r)<<10)+(1023&u)+65536):(n.push(r),i--)}else n.push(r)}return n}var Ti,Si,Ei,Ri=function(t,n){return t+22+75*(t<26)-((0!=n)<<5)},Ii=function(t,n,i){var e=0;for(t=i?bi(t/700):t>>1,t+=bi(t/n);t>455;e+=36)t=bi(t/35);return bi(e+36*t/(t+38))},Di=function(t){return function(t,n){var i=t.split("@"),e="";i.length>1&&(e=i[0]+"@",t=i[1]);var r=function(t,n){for(var i=[],e=t.length;e--;)i[e]=n(t[e]);return i}((t=t.replace(yi,".")).split("."),n).join(".");return e+r}(t,function(t){return gi.test(t)?"xn--"+function(t){for(var n=[],i=(t=ki(t)).length,e=128,r=0,u=72,s=0,o=t;s<o.length;s++){var c=o[s];c<128&&n.push(pi(c))}var a=n.length,f=a;for(a&&n.push("-");f<i;){for(var h=2147483647,v=0,d=t;v<d.length;v++){var l=d[v];l>=e&&l<h&&(h=l)}var w=f+1;h-e>bi((2147483647-r)/w)&&_i("overflow"),r+=(h-e)*w,e=h;for(var g=0,y=t;g<y.length;g++){var m=y[g];if(m<e&&++r>2147483647&&_i("overflow"),m==e){for(var b=r,p=36;;p+=36){var _=p<=u?1:p>=u+26?26:p-u;if(b<_)break;var k=b-_,T=36-_;n.push(pi(Ri(_+k%T,0))),b=bi(k/T)}n.push(pi(Ri(b,0))),u=Ii(r,w,f==a),r=0,++f}}++r,++e}return n.join("")}(t):t})};function Ci(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return wi(n)}function Ni(t){if(t>=55296&&t<=57343)throw new f("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function Oi(t,n){return t>>n&63|128}function Ai(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Ni(t),n.push(t>>12&15|224),n.push(Oi(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(Oi(t,12)),n.push(Oi(t,6))),n.push(63&t|128)):n.push(t)}function Pi(t){for(var n=[],i=0;i<t.length;i++){Ai(t[i],n)}return n}function xi(){if(Ei>=Si)throw new f("Invalid byte index");var t=255&Ti[Ei];if(Ei++,128==(192&t))return 63&t;throw new f("Invalid continuation byte")}function Li(){var t,n;if(Ei>Si)throw new f("Invalid byte index");if(Ei===Si)return!1;if(t=255&Ti[Ei],Ei++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|xi())>=128)return n;throw new f("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|xi()<<6|xi())>=2048)return Ni(n),n;throw new f("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|xi()<<12|xi()<<6|xi())>=65536&&n<=1114111)return n;throw new f("Invalid UTF-8 detected")}function Bi(t){return[37,hi(t>>4),hi(15&t)]}function Mi(t){return function(t){return t>=0&&t<=31}(t)||t>126}function Fi(t){return Mi(t)||32===t||34===t||60===t||62===t||96===t}function Ui(t){return Fi(t)||35===t||63===t||123===t||125===t}function Vi(t){return Ui(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function Wi(t){return t<33||t>126||34===t||35===t||60===t||62===t}function Hi(t){return Wi(t)||39===t}function qi(t,n){if(!n(t))return[t];for(var i=Pi([t]),e=[],r=0;r<i.length;r++){var u=i[r];e.push.apply(e,Bi(u))}return e}function zi(t,n){for(var i=[],e=0,r=ki(t);e<r.length;e++){var u=r[e];i.push.apply(i,qi(u,n))}return Ci(i)}function ji(t){return function(t){for(var n=[],i=t.length,e=0;e<i;e++){var r=t[e];if(37===r&&e+2<i&&ci(t[e+1])&&ci(t[e+2])){var u=fi(t[e+1])<<4|fi(t[e+2]);n.push(u),e+=2}else n.push(r)}return n}(Pi(t))}function $i(t){return Ci(function(t){Ti=t.slice(),Si=Ti.length,Ei=0;for(var n,i=[];!1!==(n=Li());)i.push(n);return i}(ji(ki(t))))}function Xi(t){var n,i,e,r,u=t.length,s=[0,0,0,0,0,0,0,0],o=0,c=null,a=0;if(a<u&&":"===t[a]){if(!(a+1<u&&":"===t[a+1]))throw new h;a+=2,c=o+=1}for(;a<u;){if(8===o)throw new h("Too many groups");if(":"!==t[a]){for(var f=0,v=0;v<4&&a<u&&Yn.test(t[a]);)f=f<<4|l(t[a],16),a+=1,v+=1;if("."===t[a]){if(0===v)throw new h;if(a-=v,o>6)throw new h;for(var d=0;a<u;){var w=null;if(d>0){if(!("."===t[a]&&d<4))throw new h;a+=1}if(!Gn.test(t[a]))throw new h;for(;a<u&&Gn.test(t[a]);){var g=l(t[a],10);if(null===w)w=g;else{if(0===w)throw new h;if((w=10*w+g)>255)throw new h}a+=1}s[o]=s[o]<<8|w,2!==(d+=1)&&4!==d||(o+=1)}if(4!==d)throw new h;break}if(":"===t[a]){if((a+=1)===u)throw new h}else if(a<u)throw new h;s[o]=f,o+=1}else{if(null!==c)throw new h("Too many :: groups");a+=1,c=o+=1}}if(null!==c){var y=o-c;for(o=7;0!==o&&y>0;)e=c+y-1,r=void 0,r=(n=s)[i=o],n[i]=n[e],n[e]=r,o-=1,y-=1}else if(8!==o)throw new h;return s}function Gi(t){var n=10,i=Jn;return Kn.test(t)?(t=t.slice(2),n=16,i=Qn):t.length>=2&&"0"===t[0]&&(t=t.slice(1),n=8,i=Zn),""===t?0:i.test(t)?l(t,n):void 0}var Yi={Li:4},Ki=/[\0\t\n\r #%/:?@\[\\\]]/,Ji=/[\0\t\n\r #/:?@\[\\\]]/;function Qi(t,n){if("["===t[0]){if("]"!==t[t.length-1])throw new h("Invalid IPv6 address");return{Li:2,Bi:Xi(t.slice(1,-1))}}if(!n)return function(t){if(Ji.test(t))throw new h("Invalid code point in opaque host");var n=zi(t,Mi);return""===n?Yi:{Li:3,P:n}}(t);var i=function(t){return function(t){return Di(t.toLowerCase())}(t)}($i(t));if(Ki.test(i))throw new h("Invalid code point in host");var e=function(t){var n=t.split(".");if(""===n[n.length-1]&&n.pop(),!(n.length>4)){for(var i=[],e=0;e<n.length;e++){var r=n[e];if(""===r)return;var u=Gi(r);if(void 0===u)return;i.push(u)}for(var s=0;s<i.length-1;s++)if(i[s]>255)throw new h;if(i[i.length-1]>=d.pow(256,5-i.length))throw new h;for(var o=i.pop(),c=0;c<i.length;c++)o+=i[c]*d.pow(256,3-c);return o}}(i);return void 0!==e?{Li:1,Bi:e}:""===i?Yi:{Li:0,Mi:i}}function Zi(t){switch(t.Li){case 0:return t.Mi;case 1:return function(t){for(var n=[],i=t,e=1;e<=4;e++)n.push(""+(255&i)),4!==e&&n.push("."),i>>>=8;return n.reverse().join("")}(t.Bi);case 2:return"["+function(t){for(var n="",i=function(t){for(var n=0,i=0,e=0,r=0,u=0;u<8;u++)0===t[u]?(0===r&&(e=u),r++):(r>i&&(n=e,i=r),r=0);return r>i&&(n=e,i=r),i>1?n:null}(t),e=!1,r=0;r<8;r++){if(e){if(0===t[r])continue;e=!1}i!==r?(n+=t[r].toString(16),7!==r&&(n+=":")):(n+=0===r?"::":":",e=!0)}return n}(t.Bi)+"]";case 3:return t.P;case 4:return""}}var te=/\+/g;function ne(t){for(var n=t.split("&"),i=[],e=0;e<n.length;e++){var r=n[e];if(""!==r){var u=r.indexOf("="),s=void 0,o=void 0;-1!==u?(s=r.slice(0,u),o=r.slice(u+1)):(s=r,o=""),s=s.replace(te," "),o=o.replace(te," ");var c=$i(s),a=$i(o);i.push([c,a])}}return i}function ie(t){for(var n="",i=0;i<t.length;i++){var e=t[i];i>0&&(n+="&"),n+=ee(Pi(ki(e[0])))+"="+ee(Pi(ki(e[1])))}return n}function ee(t){for(var n,i=[],e=0;e<t.length;e++){var r=t[e];32===r?i.push(43):42===(n=r)||45===n||46===n||95===n||oi(n)?i.push(r):i.push.apply(i,Bi(r))}return wi(i)}var re=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function ue(t){var n=""+t,i=re.exec(n);return i?function(t,n){for(var i=t.length,e=[],r=n;r<i;r++){var u=t.charCodeAt(r);if(oe(u))if(ce(u)||r===i-1)e.push(se);else{var s=t.charCodeAt(r+1);ce(s)?(e.push(u,s),r++):e.push(se)}else e.push(u)}return t.slice(0,n)+wi(e)}(n,i.index):n}var se=65533,oe=function(t){return 55296==(63488&t)},ce=function(t){return 0!=(1024&t)};function ae(t,n){var i=t[0],e=n[0];return i===e?0:i<e?-1:1}function fe(t){t.Fi.length=0}function he(t,n){!function(t,n){for(var i=0;i<n.length;i++)t[i]=n[i];t.length=n.length}(t.Fi,ne(n))}function ve(t){if(t.Ui){var n=ie(t.Fi);""===n&&(n=null),t.Ui.Ui.Vi=n}}var de=function(){function t(t){if(void 0===t&&(t=void 0),this.Ui=null,null==t)this.Fi=[];else if("object"==typeof t||"function"==typeof t)if((u=t)instanceof de&&ni(u.Fi)&&(!ii||u[Symbol.iterator]===le))this.Fi=t.Fi.slice();else if(function(t){return null!=t&&(!!ni(t)||!!ii&&"function"==typeof t[Symbol.iterator])}(t)){this.Fi=[];for(var n=0,i=ei(t);n<i.length;n++){var e=ei(i[n]);if(2!==e.length)throw new h("Invalid name-value pair");this.Fi.push([ue(e[0]),ue(e[1])])}}else for(var r in this.Fi=[],t)v.prototype.hasOwnProperty.call(t,r)&&this.Fi.push([ue(r),ue(t[r])]);else(t=ue(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this.Fi=ne(t);var u}var n=t.prototype;return n.append=function(t,n){t=ue(t),n=ue(n),this.Fi.push([t,n]),ve(this)},n.delete=function(t){t=ue(t);for(var n=this.Fi,i=0;i<n.length;){n[i][0]===t?n.splice(i,1):i++}ve(this)},n.get=function(t){t=ue(t);for(var n=this.Fi,i=0;i<n.length;i++){var e=n[i];if(e[0]===t)return e[1]}return null},n.getAll=function(t){t=ue(t);for(var n=this.Fi,i=[],e=0;e<n.length;e++){var r=n[e];r[0]===t&&i.push(r[1])}return i},n.has=function(t){t=ue(t);for(var n=this.Fi,i=0;i<n.length;i++){if(n[i][0]===t)return!0}return!1},n.set=function(t,n){t=ue(t),n=ue(n);for(var i=this.Fi,e=!1,r=0;r<i.length;){var u=i[r];u[0]===t?e?i.splice(r,1):(u[1]=n,e=!0,r++):r++}e||i.push([t,n]),ve(this)},n.sort=function(){jn(this.Fi,ae),ve(this)},n.toString=function(){return ie(this.Fi)},n.entries=function(){return new me(this.Fi,we)},n.keys=function(){return new me(this.Fi,ge)},n.values=function(){return new me(this.Fi,ye)},n.forEach=function(t){var n=this;this.Fi.forEach(function(i){return t(i[1],i[0],n)})},t}(),le=de.prototype.entries;ii&&(de.prototype[Symbol.iterator]=le);var we=function(t){return[t[0],t[1]]},ge=function(t){return t[0]},ye=function(t){return t[1]},me=function(){function t(t,n){this.Wi=0,this.Fi=t,this.Hi=n}return t.prototype.next=function(){return this.Wi<this.Fi.length?{done:!1,value:this.Hi(this.Fi[this.Wi++])}:{done:!0,value:void 0}},t}(),be="null";var pe=v.create(null);pe.ftp=21,pe.file=0,pe.gopher=70,pe.http=80,pe.https=443,pe.ws=80,pe.wss=443;var _e=/^(?:\.|%2e)$/i,ke=/^(?:\.|%2e){2}$/i;function Te(t){return _e.test(t)}function Se(t){return ke.test(t)}function Ee(t){return void 0!==pe[t]}function Re(t){return Ee(t.qi)}function Ie(t){return""!==t.zi||""!==t.ji}function De(t){var n=t.length;if(!(n>=2))return!1;if(!Ne(t.slice(0,2)))return!1;if(2!==n){var i=t[2];if(47!==i&&92!==i&&63!==i&&35!==i)return!1}return!0}function Ce(t){return 2===t.length&&Xn.test(t[0])&&(":"===t[1]||"|"===t[1])}function Ne(t){return 2===t.length&&Ce(wi(t))}function Oe(t){return Ce(t)&&":"===t[1]}function Ae(t){var n=t.$i;0!==n.length&&("file"===t.qi&&1===n.length&&Oe(n[0])||n.pop())}function Pe(t){return null===t.Xi||Yi===t.Xi||t.Gi||"file"===t.qi}var xe=-1,Le=/\t|\n|\r/g,Be=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function Me(t,n,i,e){void 0===i&&(i=null),void 0===e&&(e=null),i||(i=new Ue,t=t.replace(Be,""));var r=null!==e?e:0;n=n||null;for(var u=[],s=!1,o=!1,c=!1,a=ki(t=t.replace(Le,"")),f=a.length,v=0;v<=f;){var d=v<f?a[v]:xe;switch(r){case 0:if(!ui(d)){if(null===e){u.length=0,r=2;continue}throw new h("Invalid scheme")}u.push(ai(d)),r=1;break;case 1:if(oi(d)||43===d||45===d||46===d)u.push(ai(d));else{if(58!==d){if(null===e){u.length=0,r=2,v=0;continue}throw new h("Invalid scheme")}var w=Ci(u);if(null!==e){if(Ee(i.qi)&&!Ee(w))return;if(!Ee(i.qi)&&Ee(w))return;if((Ie(i)||null!==i.Yi)&&"file"===w)return;if("file"===i.qi&&(i.Xi===Yi||null===i.Xi))return}if(i.qi=w,null!==e)return void(Re(i)&&i.Yi===pe[i.qi]&&(i.Yi=null));u.length=0,"file"===i.qi?r=13:Re(i)&&n&&n.qi===i.qi?r=3:Re(i)?r=7:47===a[v+1]?(r=4,v+=1):(i.Gi=!0,i.$i.push(""),r=18)}break;case 2:if(!n||n.Gi&&35!==d)throw new h("Invalid scheme");n.Gi&&35===d?(i.qi=n.qi,i.$i=n.$i.slice(),i.Vi=n.Vi,i.Ki="",i.Gi=!0,r=20):"file"!==n.qi?(r=5,v-=1):(r=13,v-=1);break;case 3:47===d&&47===a[v+1]?r=8:(r=5,v-=1);break;case 4:47===d?r=9:(r=17,v-=1);break;case 5:i.qi=n.qi,xe===d?(i.zi=n.zi,i.ji=n.ji,i.Xi=n.Xi,i.Yi=n.Yi,i.$i=n.$i.slice(),i.Vi=n.Vi):47===d?r=6:63===d?(i.zi=n.zi,i.ji=n.ji,i.Xi=n.Xi,i.Yi=n.Yi,i.$i=n.$i.slice(),i.Vi="",r=19):35===d?(i.zi=n.zi,i.ji=n.ji,i.Xi=n.Xi,i.Yi=n.Yi,i.$i=n.$i.slice(),i.Vi=n.Vi,i.Ki="",r=20):92===d&&Re(i)?r=6:(i.zi=n.zi,i.ji=n.ji,i.Xi=n.Xi,i.Yi=n.Yi,i.$i=n.$i.slice(),i.$i.pop(),r=17,v-=1);break;case 6:!Re(i)||47!==d&&92!==d?47===d?r=9:(i.zi=n.zi,i.ji=n.ji,i.Xi=n.Xi,i.Yi=n.Yi,r=17,v-=1):r=8;break;case 7:if(47!==d||47!==a[v+1]){r=8;continue}r=8,v+=1;break;case 8:47!==d&&92!==d&&(r=9,v-=1);break;case 9:if(64===d){s&&u.unshift(37,52,48),s=!0;for(var g=0;g<u.length;g++){var y=u[g];if(58!==y||c){var m=Ci(qi(y,Vi));c?i.ji+=m:i.zi+=m}else c=!0}u.length=0}else if(xe===d||47===d||63===d||35===d||Re(i)&&92===d){if(s&&0===u.length)throw new h("Invalid host");v-=u.length+1,u.length=0,r=10}else u.push(d);break;case 10:case 11:if(null!==e&&"file"===i.qi)v-=1,r=15;else if(58!==d||o)if(xe===d||47===d||63===d||35===d||Re(i)&&92===d){if(v-=1,Re(i)&&0===u.length)throw new h("Invalid host");if(null!==e&&0===u.length&&(Ie(i)||null!==i.Yi))return;var b=Qi(Ci(u),Re(i));if(i.Xi=b,u.length=0,r=16,null!==e)return}else 91===d?o=!0:93===d&&(o=!1),u.push(d);else{if(0===u.length)throw new h("Invalid host");var p=Qi(Ci(u),Re(i));if(i.Xi=p,u.length=0,r=12,11===e)return}break;case 12:if(si(d))u.push(d);else{if(!(xe===d||47===d||63===d||35===d||Re(i)&&92===d||null!==e))throw new h("Invalid port");if(0!==u.length){var _=l(Ci(u),10);if(_>65535)throw new h("Invalid port");i.Yi=_===pe[i.qi]?null:_,u.length=0}if(null!==e)return;r=16,v-=1}break;case 13:i.qi="file",47===d||92===d?r=14:n&&"file"===n.qi?xe===d?(i.Xi=n.Xi,i.$i=n.$i.slice(),i.Vi=n.Vi):63===d?(i.Xi=n.Xi,i.$i=n.$i.slice(),i.Vi="",r=19):35===d?(i.Xi=n.Xi,i.$i=n.$i.slice(),i.Vi=n.Vi,i.Ki="",r=20):(De(a.slice(v))||(i.Xi=n.Xi,i.$i=n.$i.slice(),Ae(i)),r=17,v-=1):(r=17,v-=1);break;case 14:47===d||92===d?r=15:(n&&"file"===n.qi&&!De(a.slice(v))&&(Oe(n.$i[0])?i.$i.push(n.$i[0]):i.Xi=n.Xi),r=17,v-=1);break;case 15:if(xe===d||47===d||92===d||63===d||35===d)if(v-=1,null===e&&Ne(u))r=17;else if(0===u.length){if(i.Xi=Yi,null!==e)return;r=16}else{var k=Qi(Ci(u),Re(i));if(0===k.Li&&"localhost"===k.Mi&&(k=Yi),i.Xi=k,null!==e)return;u.length=0,r=16}else u.push(d);break;case 16:Re(i)?(r=17,47!==d&&92!==d&&(v-=1)):null===e&&63===d?(i.Vi="",r=19):null===e&&35===d?(i.Ki="",r=20):xe!==d&&(r=17,47!==d&&(v-=1));break;case 17:if(xe===d||47===d||Re(i)&&92===d||null===e&&(63===d||35===d)){var T=Ci(u);if(Se(T)?(Ae(i),47===d||Re(i)&&92===d||i.$i.push("")):!Te(T)||47===d||Re(i)&&92===d?Te(T)||("file"===i.qi&&0===i.$i.length&&Ne(u)&&(Yi!==i.Xi&&null!==i.Xi&&(i.Xi=Yi),u[1]=58,T=Ci(u)),i.$i.push(T)):i.$i.push(""),u.length=0,"file"===i.qi&&(xe===d||63===d||35===d))for(;i.$i.length>1&&""===i.$i[0];)i.$i.shift();63===d?(i.Vi="",r=19):35===d&&(i.Ki="",r=20)}else u.push.apply(u,qi(d,Ui));break;case 18:63===d?(i.Vi="",r=19):35===d?(i.Ki="",r=20):xe!==d&&(i.$i[0]+=Ci(qi(d,Mi)));break;case 19:null===e&&35===d?(i.Ki="",r=20):xe!==d&&(i.Vi+=Ci(qi(d,Re(i)?Hi:Wi)));break;case 20:xe===d||0===d||(i.Ki+=Ci(qi(d,Fi)))}v++}return i}function Fe(t,n,i,e){try{Me(t,n,i,e)}catch(t){}}var Ue=function(){this.qi="",this.zi="",this.ji="",this.Xi=null,this.Yi=null,this.$i=[],this.Vi=null,this.Ki=null,this.Gi=!1};function Ve(t){switch(t.qi){case"blob":var n;try{n=Me(t.$i[0],null)}catch(t){return be}return Ve(n);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return i=t.qi,e=t.Xi,r=t.Yi,i+"://"+Zi(e)+(null===r?"":":"+r);case"file":default:return be}var i,e,r}var We,He=function(){function t(t,n){var i,e,r=null;if(null!=n)if(null!=(i=n)&&i instanceof He&&"object"==typeof i.Ui)r=n.Ui;else try{r=Me(String(n),null)}catch(t){throw new h("Invalid base URL: "+t.message)}try{e=Me(String(t),r)}catch(t){throw new h("Invalid URL: "+t.message)}var u=e.Vi;this.Ui=e,this.Vi=function(t){var n=new de;return null!==t&&he(n,t),n}(u),this.Vi.Ui=this}var n,i,e,r=t.prototype;return r.toString=function(){return this.href},r.toJSON=function(){return this.href},n=t,(i=[{key:"href",get:function(){return function(t,n){void 0===n&&(n=!1);var i=t.qi+":";if(null!==t.Xi?(i+="//",Ie(t)&&(i+=t.zi,""!==t.ji&&(i+=":"+t.ji),i+="@"),i+=Zi(t.Xi),null!==t.Yi&&(i+=":"+t.Yi)):null===t.Xi&&"file"===t.qi&&(i+="//"),t.Gi)i+=t.$i[0];else for(var e=0,r=t.$i;e<r.length;e++)i+="/"+r[e];return null!==t.Vi&&(i+="?"+t.Vi),n||null===t.Ki||(i+="#"+t.Ki),i}(this.Ui)},set:function(t){var n;try{n=Me(String(t),null)}catch(t){throw new h("Invalid URL: "+t.message)}this.Ui=n,fe(this.Vi);var i=this.Ui.Vi;null!==i&&he(this.Vi,i)}},{key:"origin",get:function(){return Ve(this.Ui)}},{key:"protocol",get:function(){return this.Ui.qi+":"},set:function(t){Fe(t+":",null,this.Ui,0)}},{key:"username",get:function(){return this.Ui.zi},set:function(t){Pe(this.Ui)||(this.Ui.zi=zi(t,Vi))}},{key:"password",get:function(){return this.Ui.ji},set:function(t){Pe(this.Ui)||(this.Ui.ji=zi(t,Vi))}},{key:"host",get:function(){var t=this.Ui,n=t.Xi;if(null===n)return"";var i=t.Yi,e=Zi(n);return null!==i&&(e+=":"+i),e},set:function(t){this.Ui.Gi||Fe(t,null,this.Ui,10)}},{key:"hostname",get:function(){var t=this.Ui.Xi;return null===t?"":Zi(t)},set:function(t){this.Ui.Gi||Fe(t,null,this.Ui,11)}},{key:"port",get:function(){var t=this.Ui.Yi;return null===t?"":""+t},set:function(t){Pe(this.Ui)||(""===t?this.Ui.Yi=null:Fe(t,null,this.Ui,12))}},{key:"pathname",get:function(){var t=this.Ui.$i;return this.Ui.Gi?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.Ui.Gi||(this.Ui.$i.length=0,Fe(t,null,this.Ui,16))}},{key:"search",get:function(){var t=this.Ui.Vi;return null===t||""===t?"":"?"+t},set:function(t){t=ue(t);var n=this.Ui;if(""===t)return n.Vi=null,void fe(this.Vi);"?"===t[0]&&(t=t.slice(1)),n.Vi="",Fe(t,null,n,19),he(this.Vi,t)}},{key:"searchParams",get:function(){return this.Vi}},{key:"hash",get:function(){var t=this.Ui.Ki;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.Ui.Ki="",Fe(t,null,this.Ui,20)):this.Ui.Ki=null}}])&&zn(n.prototype,i),e&&zn(n,e),t}();function qe(t){return t.document&&t.document.baseURI||t.location.href||""}function ze(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function je(t,n){var i=n.style;if(i)for(var e in t)i[e]=t[e]}function $e(){return void 0!==e?e.createElement("video"):void 0}function Xe(){return We||(We=$e()),We}var Ge=!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)||!(!u||!u.msMaxTouchPoints),Ye=Xe(),Ke=!(!Ye||!Ye.webkitShowPlaybackTargetPicker),Je=function(){function t(){this.Ji=void 0,this.Qi=!1,this.fn=Ge,this.Sn=!1,this.Zi=!0,this.te=!0}var n=t.prototype;return n.ie=function(){return 0},n.ee=function(t,n){return!0},n.re=function(t){return t>=1/6*2},ft(t,[{key:"ue",get:function(){return void 0===this.Ji&&(this.Ji=this.ie()),this.Ji}},{key:"se",get:function(){return i.devicePixelRatio||1}},{key:"oe",get:function(){return Ke}},{key:"ce",get:function(){return!1}},{key:"ae",get:function(){return!0}},{key:"fe",get:function(){return St.Un||St._n}},{key:"he",get:function(){return!0}},{key:"ve",get:function(){return!0}},{key:"de",get:function(){return!1}},{key:"we",get:function(){}},{key:"ye",get:function(){return!0}},{key:"me",get:function(){return!1}}]),t}(),Qe=function(){var t=$e();if(!t)return!1;var n=t.muted;return t.muted=!n,t.muted!==n}();!function(){if(St.bn)return!1;var t=$e();if(!t)return!1;var n=t.volume;t.volume=n/2+.1,t.volume}();var Ze=function(t){function n(n){var i;return(i=t.call(this)||this).be=void 0,i.be=n,i.be&&(i.Qi=i.be.Qi,i.fn=i.be.fn,i.Zi=Qe&&i.be.Zi),i}vt(n,t);var i=n.prototype;return i.ie=function(){return this.be?this.be.ue:t.prototype.ie.call(this)},i.ee=function(n,i){return this.be?this.be.ee(n,i):t.prototype.ee.call(this,n,i)},i.re=function(n){return this.be?this.be.re(n):t.prototype.re.call(this,n)},ft(n,[{key:"we",get:function(){var t;return null==(t=this.be)?void 0:t.we}},{key:"ye",get:function(){var t,n;return null==(t=null==(n=this.be)?void 0:n.ye)||t}}]),n}(Je),tr=function(t){function n(n){var i;return(i=t.call(this,n)||this).Qi=!0,i.Sn=!0,i}return vt(n,t),ft(n,[{key:"de",get:function(){return St._n}}]),n}(Ze),nr=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.ie=function(){return Z.MediaSource?t.prototype.ie.call(this):1},ft(n,[{key:"de",get:function(){return!0}}]),n}(tr),ir=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.ee=function(n,i){return t.prototype.ee.call(this,n,i)},ft(n,[{key:"ce",get:function(){return St.On<3}},{key:"ae",get:function(){return St.On>=3}},{key:"me",get:function(){return St.On<3}}]),n}(Ze),er=function(t){function n(){return t.call(this)||this}return vt(n,t),n}(Je),rr=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.ee=function(t,n){if(t&&t.pe&&n&&n.pe){var i=ur(t.pe,"mp4a.40.2")&&ur(n.pe,"mp4a.40.5"),e=ur(t.pe,"mp4a.40.5")&&ur(n.pe,"mp4a.40.2"),r=ur(t.pe,"mp4a.40.2")&&ur(n.pe,"mp4a.40.34"),u=ur(t.pe,"mp4a.40.34")&&ur(n.pe,"mp4a.40.2"),s=ur(t.pe,"mp4a.40.5")&&ur(n.pe,"mp4a.40.34"),o=ur(t.pe,"mp4a.40.34")&&ur(n.pe,"mp4a.40.5");return!(i||e||r||u||s||o)}return!0},ft(n,[{key:"we",get:function(){if(St.hn)return 4096}}]),n}(er);function ur(t,n){return t.indexOf(n)>-1}var sr=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.re=function(t){return t>=2},n}(er),or=function(t){function n(){var n;return(n=t.call(this)||this).Qi=St.Vn>=11,n.Zi=St.Un&&!(St._n&&St.Vn<10),n}return vt(n,t),n}(er),cr=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),ft(n,[{key:"he",get:function(){return!1}}]),n}(Ze),ar=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),ft(n,[{key:"ye",get:function(){return!St.vn||(St.Dn?92!==St.Cn:St.In>=100)}}]),n}(er),fr=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),ft(n,[{key:"de",get:function(){return!0}}]),n}(Ze),hr=function(){function n(){var n;this._e=void 0,this.ke=new Pn,this.Te=new vr,this.Se=(n=function(){if(St.Mn)return new rr;if(St.Pn||St.xn)return new sr;if(St.Un)return new or;if(St.Rn)return new ar;return new er}(),St._n?new nr(n):St.Sn?new tr(n):St.Nn?new ir(n):St.An?new cr(n):St.hn?new fr(n):new Ze(n)),this.Ee=function(){if(t.URL)try{var n=new t.URL("b","http://a");return n.pathname="c d","http://a/c%20d"===n.href}catch(t){}return!1}(),t.performance&&t.performance.now?this._e=function(){return t.performance.now()}:this._e=En}var i=n.prototype;return i.Re=function(){jt.apply(void 0,arguments)},i.Ie=function(){$t.apply(void 0,arguments)},i.De=function(){Xt.apply(void 0,arguments)},i.Ce=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];Gt.apply(void 0,[t].concat(i))},i.Ne=function(t,n){return s(t,n)},i.Oe=function(t,n){return c(t,n)},i.Ae=function(t){o(t)},i.Pe=function(t){a(t)},i.oi=function(t){return this.ke.oi(t)},i.xe=function(){return this.Le.xe()},i.Be=function(){return this.Le.Be()},i.Me=function(){return this.Le.Me()},i.Fe=function(){return this.Le.Fe()},i.Ue=function(){return this.Le.Ue()},i.Ve=function(t,n){return this.Le.Ve(t,n)},i.We=function(t){return this.Le.We(t)},i.He=function(t,n){var i;return void 0===n&&(n=qe(Z)),i="object"!=typeof n||n instanceof He?n:n.href,new He(t,i)},i.qe=function(n,i){if(void 0===i&&(i=qe(Z)),this.Ee){var e=Pt(i)?i:i.toString();return new t.URL(n,e).href}return this.He(n,i).href},ft(n,[{key:"ze",get:function(){return this.Te}},{key:"je",get:function(){return this.Se}},{key:"$e",get:function(){return{Xe:u&&u.userAgent.match(/Android /i)?"Android":"other",Ge:Boolean(u&&u.userAgent.match(/Android 8.0.0/i))}}},{key:"Ye",get:function(){return t&&t.location&&"https:"===t.location.protocol}},{key:"Ke",get:function(){return"languages"in u?u.languages.slice():[u.language]}}]),n}(),vr=function(){function t(){}return ft(t,[{key:"Je",get:function(){return u.oscpu}},{key:"je",get:function(){return u.platform}},{key:"Qe",get:function(){return u.vendor}},{key:"Ze",get:function(){return u.vendorSub}}]),t}();var dr={exports:{}};!function(t){var n,i=v.prototype,e=i.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},u=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function c(t,n,i,e){var r=n&&n.prototype instanceof b?n:b,u=v.create(r.prototype),s=new O(e||[]);return u.tr=function(t,n,i){var e=d;return function(r,u){if(e===w)throw new f("Generator is already running");if(e===y){if("throw"===r)throw u;return P()}for(i.method=r,i.arg=u;;){var s=i.delegate;if(s){var o=D(s,i);if(o){if(o===m)continue;return o}}if("next"===i.method)i.sent=i.nr=i.arg;else if("throw"===i.method){if(e===d)throw e=y,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);e=w;var c=a(t,n,i);if("normal"===c.type){if(e=i.done?y:l,c.arg===m)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(e=y,i.method="throw",i.arg=c.arg)}}}(t,i,s),u}function a(t,n,i){try{return{type:"normal",arg:t.call(n,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var d="suspendedStart",l="suspendedYield",w="executing",y="completed",m={};function b(){}function p(){}function _(){}var k={};k[u]=function(){return this};var T=v.getPrototypeOf,S=T&&T(T(A([])));S&&S!==i&&e.call(S,u)&&(k=S);var E=_.prototype=b.prototype=v.create(k);function R(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this.tr(n,t)}})}function I(t){var n;this.tr=function(i,r){function u(){return new j(function(n,u){!function n(i,r,u,s){var o=a(t[i],t,r);if("throw"!==o.type){var c=o.arg,f=c.value;return f&&"object"==typeof f&&e.call(f,"ir")?j.resolve(f.ir).then(function(t){n("next",t,u,s)},function(t){n("throw",t,u,s)}):j.resolve(f).then(function(t){c.value=t,u(c)},function(t){return n("throw",t,u,s)})}s(o.arg)}(i,r,n,u)})}return n=n?n.then(u,u):u()}}function D(t,i){var e=t.iterator[i.method];if(e===n){if(i.delegate=null,"throw"===i.method){if(t.iterator.return&&(i.method="return",i.arg=n,D(t,i),"throw"===i.method))return m;i.method="throw",i.arg=new h("The iterator does not provide a 'throw' method")}return m}var r=a(e,t.iterator,i.arg);if("throw"===r.type)return i.method="throw",i.arg=r.arg,i.delegate=null,m;var u=r.arg;return u?u.done?(i[t.resultName]=u.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=n),i.delegate=null,m):u:(i.method="throw",i.arg=new h("iterator result is not an object"),i.delegate=null,m)}function C(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function N(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function A(t){if(t){var i=t[u];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!g(t.length)){var r=-1,s=function i(){for(;++r<t.length;)if(e.call(t,r))return i.value=t[r],i.done=!1,i;return i.value=n,i.done=!0,i};return s.next=s}}return{next:P}}function P(){return{value:n,done:!0}}p.prototype=E.constructor=_,_.constructor=p,_[o]=p.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===p||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return v.setPrototypeOf?v.setPrototypeOf(t,_):(t.__proto__=_,o in t||(t[o]="GeneratorFunction")),t.prototype=v.create(E),t},t.awrap=function(t){return{ir:t}},R(I.prototype),I.prototype[s]=function(){return this},t.AsyncIterator=I,t.async=function(n,i,e,r){var u=new I(c(n,i,e,r));return t.isGeneratorFunction(i)?u:u.next().then(function(t){return t.done?t.value:u.next()})},R(E),E[o]="Generator",E[u]=function(){return this},E.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var i in t)n.push(i);return n.reverse(),function i(){for(;n.length;){var e=n.pop();if(e in t)return i.value=e,i.done=!1,i}return i.done=!0,i}},t.values=A,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this.nr=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(N),!t)for(var i in this)"t"===i.charAt(0)&&e.call(this,i)&&!g(+i.slice(1))&&(this[i]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function r(e,r){return o.type="throw",o.arg=t,i.next=e,r&&(i.method="next",i.arg=n),!!r}for(var u=this.tryEntries.length-1;u>=0;--u){var s=this.tryEntries[u],o=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var c=e.call(s,"catchLoc"),a=e.call(s,"finallyLoc");if(c&&a){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!a)throw new f("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(t,n){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&e.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var u=r;break}}u&&("break"===t||"continue"===t)&&u.tryLoc<=n&&n<=u.finallyLoc&&(u=null);var s=u?u.completion:{};return s.type=t,s.arg=n,u?(this.method="next",this.next=u.finallyLoc,m):this.complete(s)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),m},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),N(i),m}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc===t){var e=i.completion;if("throw"===e.type){var r=e.arg;N(i)}return r}}throw new f("illegal catch attempt")},delegateYield:function(t,i,e){return this.delegate={iterator:A(t),resultName:i,nextLoc:e},"next"===this.method&&(this.arg=n),m}}}(dr.exports);var lr=dr.exports;function wr(){return(wr=v.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var e in i)v.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])}return t}).apply(this,arguments)}function gr(){var t=v.create(null);return t.er=void 0,delete t.er,t}function yr(){return new pr}var mr,br="undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0,pr=br||(mr=function(){function t(t,n){this.data=void 0,this.keys=void 0,this.index=0,this.selector=void 0,this.data=t,this.selector=n,this.keys=v.keys(t)}var n=t.prototype;return n.next=function(){var t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}},t}(),function(){function t(){this.data=gr(),this.size=0}var n=t.prototype;return n.get=function(t){return this.data[t]},n.set=function(t,n){return this.has(t)||this.size++,this.data[t]=n,this},n.has=function(t){return t in this.data},n.delete=function(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)},n.clear=function(){this.data=gr(),this.size=0},n.keys=function(){return new mr(this.data,function(t,n){return n})},n.values=function(){return new mr(this.data,function(t,n){return t[n]})},n.entries=function(){return new mr(this.data,function(t,n){return[n,t[n]]})},n.forEach=function(t){for(var n in this.data)t(this.data[n],n)},t}());var _r,kr,Tr=br||(_r=function(){function t(t,n){this.rr=void 0,this.ur=void 0,this.rr=t,this.ur=n}var n=t.prototype;return n.next=function(){var t=this.rr.next();return t.done?t:{value:this.ur(t.value),done:!1}},t}(),function(){function t(){this.sr=yr()}var n=t.prototype;return n.get=function(t){return this.sr.get(""+t)},n.set=function(t,n){return this.sr.set(""+t,n),this},n.has=function(t){return this.sr.has(""+t)},n.delete=function(t){return this.sr.delete(""+t)},n.clear=function(){this.sr.clear()},n.keys=function(){return new _r(this.sr.keys(),function(t){return Number(t)})},n.values=function(){return this.sr.values()},n.entries=function(){return new _r(this.sr.entries(),function(t){var n=t[0],i=t[1];return[Number(n),i]})},n.forEach=function(t){this.sr.forEach(function(n,i){t(n,Number(i))})},ft(t,[{key:"size",get:function(){return this.sr.size}}]),t}());!function(t){t.cr="9a04f079-9840-4286-ab92-e65be0885f95",t.ar="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",t.hr="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",t.dr="94ce86fb-07ff-4f43-adb8-93d2fa968ca2"}(kr||(kr={}));var Sr,Er="cenc",Rr="sinf",Ir="skd",Dr=kr.cr,Cr="urn:uuid:"+Dr,Nr="com.microsoft.playready",Or=kr.ar,Ar="urn:uuid:"+Or,Pr=kr.hr,xr="urn:uuid:"+Pr,Lr=kr.dr,Br="urn:uuid:"+Lr,Mr="com.apple.fps.1_0";!function(t){t.cr="playready",t.ar="widevine",t.dr="fairplay",t.hr="clearkey",t.wr="aes128"}(Sr||(Sr={}));var Fr={gr:Sr.cr,yr:Nr,mr:"cenc",br:Dr,pr:Cr,_r:"PlayReady"},Ur={gr:Sr.ar,yr:"com.widevine.alpha",mr:"cenc",br:Or,pr:Ar,_r:"Widevine"},Vr={gr:Sr.dr,yr:Mr,mr:"skd",br:Lr,pr:Br,_r:"FairPlay"};Sr.dr;var Wr={gr:Sr.hr,yr:"org.w3.clearkey",mr:"cenc",br:Pr,pr:xr,_r:"ClearKey"};function Hr(t,n,i){return t.split(n).join(i)}function qr(t,n){return null!=t&&-1!==t.indexOf(n)}function zr(t,n){return null!=t&&t.substr(0,n.length)===n}function jr(t,n){return null!=t&&t.substr(t.length-n.length,n.length)===n}function $r(t,n){return t.toUpperCase()===n.toUpperCase()}function Xr(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return Yr(n)}var Gr=16384;function Yr(t){var n=t.length;if(n<=Gr)return String.fromCharCode.apply(String,t);for(var i=[],e=0;e<n;e+=Gr)i.push(String.fromCharCode.apply(String,t.slice(e,e+Gr)));return i.join("")}var Kr=St.Rn&&St.In>=42||St.Mn&&St.Fn>=38||St.Pn||St.Ln||St.Wn&&St.Hn>=29;function Jr(t,n){return qr(t,"audio")?{initDataTypes:["cenc"],audioCapabilities:[wr({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[wr({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}}var Qr,Zr=function(){function t(t){this.kr=void 0,this.Tr=yr(),this.Sr=void 0,this.kr=t}var n=t.prototype;return n.Ue=function(){return this.We(Ur)},n.Be=function(){return this.We(Wr)},n.Fe=function(){return this.We(Fr)},n.Me=function(){return this.We(Vr)},n.We=function(t){var n=t.pr,i=this.Tr.get(n);if(i)return i;var e=this.Ve(t,'video/mp4; codecs="avc1.42000a"');return this.Tr.set(n,e),e},n.Ve=function(t,n){return lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,lr.awrap(this.kr.Er(t.yr,[Jr(n,!0)]));case 3:return i.abrupt("return",!0);case 6:return i.prev=6,i.t0=i.catch(0),i.prev=8,i.next=11,lr.awrap(this.kr.Er(t.yr,[Jr(n,!1)]));case 11:return i.abrupt("return",!0);case 14:return i.prev=14,i.t1=i.catch(8),i.abrupt("return",!1);case 17:case"end":return i.stop()}},null,this,[[0,6],[8,14]],j)},n.xe=function(){return this.Sr||(this.Sr=this.Rr()),this.Sr},n.Rr=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if("https:"!==tt.protocol){t.next=2;break}return t.abrupt("return",!1);case 2:if(Kr){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,lr.awrap(this.Be());case 6:if(!t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:return t.abrupt("return",!0);case 9:case"end":return t.stop()}},null,this,null,j)},t}();function tu(t,n){var i=function(t,n){var i=t,e=i.length;if(e<=1)return i;for(var r=new Array(e),u=1;u<e;u*=2){nu(i,n,u,r);var s=i;i=r,r=s}return i}(t,n);return i!==t&&nu(i,void 0,t.length,t),t}function nu(t,n,i,e){var r,u,s,o,c,a=t.length,f=0,h=2*i;for(u=0;u<a;u+=h)for(r=(s=u+i)+i,s>a&&(s=a),r>a&&(r=a),o=u,c=s;;)if(o<s&&c<r)n&&n(t[o],t[c])<=0?e[f++]=t[o++]:e[f++]=t[c++];else if(o<s)e[f++]=t[o++];else{if(!(c<r))break;e[f++]=t[c++]}}!function(t){t[t.Ir=0]="Ir",t[t.Dr=1]="Dr",t[t.Cr=-1]="Cr"}(Qr||(Qr={}));var iu=function(t,n){return(0|t)-(0|n)},eu=function(t,n){return t===n?Qr.Ir:t<n?Qr.Cr:t>n?Qr.Dr:g(t)?g(n)?Qr.Ir:Qr.Dr:Qr.Cr};function ru(t,n,i){return Tn(t,n,i)?Qr.Ir:eu(t,n)}var uu=function(t,n){return function(t,n){if(t===n)return!0;var i=d.abs(t-n);return i<_n||i<d.max(d.abs(t),d.abs(n))*_n}(t,n)?Qr.Ir:eu(t,n)};function su(t,n,i){var e=function(t,n,i){for(var e=0;e<t.length;e+=1){var r=t[e];if(n.call(i,r,e,t))return e}return-1}(t,n,i);return-1===e?void 0:t[e]}function ou(t,n){var i=t.indexOf(n);return-1!==i&&(cu(t,i),!0)}function cu(t,n){t.splice(n,1)}function au(t,n){return-1!==t.indexOf(n)}function fu(t){t.length=0}var hu=function(){function t(){this.Nr=!1,this.Or=!1,this.Ar=[],this.Pr=[]}var n=t.prototype;return n.xr=function(){if(!this.Nr&&!this.Or){this.Nr=!0;for(var t=0,n=this.Ar.slice();t<n.length;t++){(0,n[t])()}this.Lr()}},n.Lr=function(){if(!this.Or){this.Or=!0;for(var t=0,n=this.Pr.slice();t<n.length;t++){(0,n[t])()}fu(this.Ar),fu(this.Pr)}},n.Br=function(t){this.Or||this.Ar.push(t)},n.Mr=function(t){this.Or||ou(this.Ar,t)},n.Fr=function(t){this.Or||this.Pr.push(t)},n.Ur=function(t){this.Or||ou(this.Pr,t)},t}(),vu=function(){function t(){this.Vr=new hu}var n=t.prototype;return n.Wr=function(){this.Vr.xr()},n.Lr=function(){this.Vr.Lr()},n.Hr=function(t){var n=this.Vr;if(!n.Nr)if(t.Nr)n.xr();else if(!n.Or&&!t.Or){var i=function(){e(),n.xr()},e=function e(){t.Mr(i),t.Ur(e),n.Mr(i),n.Ur(e)};t.Br(i),t.Fr(e),n.Br(i),n.Fr(e)}},n.qr=function(){var n=new t,i=new t,e=n.zr,r=i.zr,u=this.Vr,s=function(){e.Nr&&r.Or||r.Nr&&e.Or?u.xr():e.Or&&r.Or&&u.Lr()};e.Br(s),r.Br(s),e.Fr(s),r.Fr(s),n.Hr(u),i.Hr(u);return u.Fr(function(){e.Mr(s),r.Mr(s),e.Ur(s),r.Ur(s)}),[n,i]},ft(t,[{key:"zr",get:function(){return this.Vr}}]),t}(),du=function(t){function n(n,i){return t.call(this,n||"Aborted",i)||this}return vt(n,t),ft(n,[{key:"name",get:function(){return"AbortError"}}]),n}(On);function lu(t){return t instanceof f&&"AbortError"===t.name}function wu(t){if(t&&t.Nr)throw new du}function gu(t){if(lu(t))throw t}function yu(t){if(!lu(t))throw t}function mu(t,n){return n?new j(function(i,e){if(n.Nr)return t.catch(Mt),e(new du);var r=function t(){n.Mr(t),e(new du)};n.Br(r),t.then(function(t){n.Mr(r),i(t)},function(t){n.Mr(r),e(t)})}):t}function bu(t,n){return t.then(function(t){return n.Lr(),t},function(t){throw n.Lr(),t})}var pu=j.resolve();function _u(t){pu.then(t)}function ku(t){t.then(Mt,Mt)}function Tu(t){return lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,lr.awrap(j.all(t));case 3:return n.abrupt("return",n.sent);case 6:return n.prev=6,n.t0=n.catch(0),n.next=10,lr.awrap(j.all(t.map(function(t){return t.catch(Mt)})));case 10:throw n.t0;case 11:case"end":return n.stop()}},null,null,[[0,6]],j)}function Su(t){return t&&"function"!=typeof t?t.slice():t}function Eu(t,n,i){if(i)if("function"==typeof i)i.call(t,n);else for(var e=0;e<i.length;e++){i[e].call(t,n)}}var Ru,Iu=function(){function t(t){var n=this;this.jr=gr(),this.$r=void 0,this.Xr=void 0,this.Gr=function(t){n.Yr(t)},this.Xr=t||this}var n=t.prototype;return n.Kr=function(t,n){if("function"==typeof n)if("string"==typeof t)this.Jr(t,n);else for(var i=0;i<t.length;i++){var e=t[i];this.Jr(e,n)}},n.Jr=function(t,n){var i=this.jr[t];i?"function"==typeof i?this.jr[t]=[i,n]:i.push(n):this.jr[t]=n},n.Qr=function(t){if("function"==typeof t){var n=this.$r;n?"function"==typeof n?this.$r=[n,t]:n.push(t):this.$r=t}},n.Zr=function(){this.jr=gr(),this.$r=void 0},n.Yr=function(t){var n=Su(this.jr[t.type]),i=Su(this.$r);Eu(this.Xr,t,n),Eu(this.Xr,t,i)},n.tu=function(t,n){if("function"==typeof n)if("string"==typeof t)this.nu(t,n);else for(var i=0;i<t.length;i++){var e=t[i];this.nu(e,n)}},n.nu=function(t,n){var i=this.jr[t];i&&("function"==typeof i?i===n&&(this.jr[t]=void 0):ou(i,n))},n.iu=function(t){if("string"==typeof t)this.jr[t]=void 0;else for(var n=0;n<t.length;n++){var i=t[n];this.jr[i]=void 0}},n.eu=function(t){var n=this.$r;n&&("function"==typeof n?n===t&&(this.$r=void 0):ou(n,t))},n.ru=function(t,n){var i=this;return new j(function(e,r){if(n&&n.Nr)return r(new du);var u=function(t){o(),e(t)},s=function(){o(),r(new du)},o=function(){i.tu(t,u),n&&n.Mr(s)};i.Kr(t,u),n&&n.Br(s)})},t}(),Du=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.Yr=function(n){var i=this;_u(function(){t.prototype.Yr.call(i,n)})},n}(Iu),Cu=function(t,n){void 0===n&&(n=new Date),this.type=t,this.date=n},Nu=["cenc"],Ou=["cbcs","cbcs-1-9"],Au=function(t){function n(n){var i;return(i=t.call(this,"su")||this).uu=n,i}return vt(n,t),n}(Cu),Pu=function(t){function n(n,i,e,r){var u;return(u=t.call(this,"ou")||this).uu=n,u.cu=i,u.ou=e,u.au=r,u}return vt(n,t),n}(Cu),xu=function(t){function n(){return t.call(this,"fu")||this}return vt(n,t),n}(Cu);!function(t){t.hu="vu",t.du="lu"}(Ru||(Ru={}));var Lu=function(t){function n(n,i){var e;return(e=t.call(this,Ru.hu)||this).mr=n,e.wu=i,e}return vt(n,t),n}(Cu),Bu=new y([0]).buffer,Mu=function(){function t(){this.gu=void 0,this.gu=[]}var n=t.prototype;return n.yu=function(t){for(var n=0,i=this.gu;n<i.length;n++){if(i[n][0]===t)return!0}return!1},n.mu=function(t){for(var n=0,i=this.gu;n<i.length;n++){var e=i[n];if(e[0]===t)return e[1]}},n.bu=function(t,n){this.gu.forEach(function(n){return t(n[1],n[0])},n)},n.pu=function(t,n){this.gu.push([t,n])},n._u=function(){fu(this.gu)},ft(t,[{key:"ku",get:function(){return this.gu.length}}]),t}(),Fu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),Uu=16383,Vu=/[\t\n\f\r ]/g;function Wu(t){return 43===t?62:47===t?63:t>=48&&t<=57?t-48+52:t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:Hu()}function Hu(){throw new f("Invalid base64 input")}function qu(t){var n=t;Vu.test(n)&&(n=n.replace(Vu,""));var i=n.length;i%4==0&&i>=1&&"="===n[i-1]&&(i>=2&&"="===n[i-2]?i-=2:i-=1,n=n.substr(0,i));var e=i%4;if(1===e)return Hu();for(var r,u=0===e?0:4-e,s=new y(function(t,n){return 3*(t+n)/4-n}(i,u)),o=u>0?i-4:i,c=0,a=0;c<o;c+=4)r=Wu(n.charCodeAt(c))<<18|Wu(n.charCodeAt(c+1))<<12|Wu(n.charCodeAt(c+2))<<6|Wu(n.charCodeAt(c+3)),s[a++]=r>>16&255,s[a++]=r>>8&255,s[a++]=255&r;return 2===u?(r=Wu(n.charCodeAt(c))<<2|Wu(n.charCodeAt(c+1))>>4,s[a++]=255&r):1===u&&(r=Wu(n.charCodeAt(c))<<10|Wu(n.charCodeAt(c+1))<<4|Wu(n.charCodeAt(c+2))>>2,s[a++]=r>>8&255,s[a++]=255&r),s}function zu(t,n,i){for(var e,r,u,s=[],o=n;o<i;o+=3)s.push((e=t[o],r=t[o+1],u=t[o+2],Fu[e>>2]+Fu[(3&e)<<4|r>>4]+Fu[(15&r)<<2|u>>6]+Fu[63&u]));return s.join("")}function ju(t){for(var n=t.length,i=n%3,e=[],r=n-i,u=0;u<r;u+=Uu)e.push(zu(t,u,d.min(r,u+Uu)));if(1===i){var s=t[n-1];e.push(Fu[s>>2]+Fu[(3&s)<<4]+"==")}else if(2===i){var o=t[n-2],c=t[n-1];e.push(Fu[o>>2]+Fu[(3&o)<<4|c>>4]+Fu[(15&c)<<2]+"=")}return e.join("")}var $u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],Xu=ArrayBuffer.isView||function(t){return t&&au($u,Rt.call(t))};function Gu(t,n){return t===n||t.byteLength===n.byteLength&&function(t,n){if(t===n)return!0;if(t.byteLength!==n.byteLength)return!1;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}(new y(t),new y(n))}function Yu(t){var n=t.reduce(function(t,n){return t+n.byteLength},0);return function(t,n){for(var i=new y(n),e=0,r=0;r<t.length;r++){var u=t[r];i.set(u,e),e+=u.byteLength}return i}(t,n)}function Ku(t){return qu(t).buffer}function Ju(t){return ju(new y(t))}function Qu(t){return ju(Ss(t))}var Zu=function(){function t(t){void 0===t&&(t=0),this.Tu=t}var n=t.prototype;return n.Su=function(t){this.Tu+=t},n.Eu=function(t){this.Tu=t},n.Ru=function(){return new t(this.Iu)},ft(t,[{key:"Iu",get:function(){return this.Tu}}]),t}();function ts(t){if(t>=55296&&t<=57343)throw new f("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function ns(t,n){return t>>n&63|128}function is(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(ts(t),n.push(t>>12&15|224),n.push(ns(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(ns(t,12)),n.push(ns(t,6))),n.push(63&t|128)):n.push(t)}function es(t,n){if(n.Iu>=t.length)throw new f("Invalid byte index");var i=255&t[n.Iu];if(n.Su(1),128==(192&i))return 63&i;throw new f("Invalid continuation byte")}function rs(t,n){var i=n.Iu;if(i>t.length)throw new f("Invalid byte index");if(i===t.length)return!1;var e=255&t[i];if(n.Su(1),0==(128&e))return e;if(192==(224&e)){var r=(31&e)<<6|es(t,n);if(r>=128)return r;throw new f("Invalid continuation byte")}if(224==(240&e)){var u=(15&e)<<12|es(t,n)<<6|es(t,n);if(u>=2048)return ts(u),u;throw new f("Invalid continuation byte")}if(240==(248&e)){var s=(7&e)<<18|es(t,n)<<12|es(t,n)<<6|es(t,n);if(s>=65536&&s<=1114111)return s}throw new f("Invalid UTF-8 detected")}var us=65279;var ss=function(){function t(t){this.Du=t}return t.prototype.Cu=function(t){return function(t,n){return(t&n)===n}(this.Du,t)},t}();function os(t,n){var i=t.getUint8(n.Iu);return n.Su(1),i}function cs(t,n,i){t.setUint8(n.Iu,i),n.Su(1)}function as(t,n,i){var e=Ns(As(t),n.Iu,n.Iu+i);return n.Su(e.byteLength),e}function fs(t,n,i){return n.Iu+i<=t.byteLength}function hs(t,n,i){void 0===i&&(i=!1);var e=t.getUint16(n.Iu,i);return n.Su(2),e}function vs(t,n,i,e){void 0===e&&(e=!1),t.setUint16(n.Iu,i,e),n.Su(2)}function ds(t,n,i){void 0===i&&(i=!1);var e=t.getUint32(n.Iu,i);return n.Su(4),e}function ls(t,n,i,e){void 0===e&&(e=!1),t.setUint32(n.Iu,i,e),n.Su(4)}function ws(t,n,i){void 0===i&&(i=!1);var e=ds(t,n,i),r=ds(t,n,i),u=i?r:e,s=i?e:r;return Kt.fromBits(s,u,!0)}function gs(t,n){var i=os(t,n);if(i)return String.fromCharCode(i)}function ys(t,n){return function(t,n){return ps(t,n,!0)}(t,n)}function ms(t,n,i){for(var e="",r=0;r<i;r++)e+=gs(t,n);return e}function bs(t,n){var i,e=os(t,n);return 0==(128&e)?i=e:192==(224&e)?i=64*(31&e)+(63&os(t,n)):224==(240&e)?i=4096*(15&e)+64*(63&os(t,n))+(63&os(t,n)):240==(248&e)&&(i=262144*(7&e)+4096*(63&os(t,n))+64*(63&os(t,n))+(63&os(t,n))),i}function ps(t,n,i){for(var e=[];n.Iu<t.byteLength;){var r=os(t,n);if(i&&!r)break;e.push(r)}return Yr(e)}function _s(t,n,i,e){for(var r=[];n.Iu+2<=t.byteLength;){var u=hs(t,n,i);if(e&&!u)break;r.push(u)}return Yr(r)}function ks(t,n,i,e){void 0===e&&(e=!1);for(var r=i.length,u=0;u<r;u+=1){vs(t,n,i.charCodeAt(u),e)}}function Ts(t){return ps(Os(t),new Ms,!1)}function Ss(t){var n=new y(t.length);return function(t,n,i){for(var e=i.length,r=0;r<e;r+=1)cs(t,n,i.charCodeAt(r))}(Os(n),new Ms,t),n}function Es(t,n){return void 0===n&&(n=!1),_s(Os(t),new Ms,n,!1)}function Rs(t,n){void 0===n&&(n=!1);var i=new y(2*t.length);return ks(Os(i),new Ms,t,n),i}function Is(t,n){return function(t,n,i){var e=[];(function(t,n){return n.Iu+3<=t.byteLength&&239===t.getUint8(n.Iu)&&187===t.getUint8(n.Iu+1)&&191===t.getUint8(n.Iu+2)})(t,n)&&n.Su(3);for(;n.Iu<t.byteLength;){var r=bs(t,n);if(void 0===r)break;if(i&&0===r)break;e.push(r)}return Xr(e)}(t,n,!0)}function Ds(t){return Xr(function(t,n){var i,e=[],r=new Ms;if(!n){if(!1===(i=rs(t,r)))return e;i===us||e.push(i)}for(;!1!==(i=rs(t,r));)e.push(i);return e}(As(t)))}function Cs(t){return new y(function(t){for(var n=[],i=0;i<t.length;i++)is(t[i],n);return n}(function(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&r)<<10)+(1023&u)+65536):(n.push(r),i--)}else n.push(r)}return n}(t)))}function Ns(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new y(t.buffer,t.byteOffset+n,i-n)}function Os(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function As(t){return new y(t.buffer,t.byteOffset,t.byteLength)}function Ps(t){return t instanceof ArrayBuffer||Xu(t)}function xs(t){return t instanceof ArrayBuffer?new y(t):As(t)}function Ls(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),t.slice?t.slice(n,i):Bs(Ns(t,n,i))}function Bs(t){if(t.slice)return t.slice(0);var n=new y(t.byteLength);return n.set(t,0),n}var Ms=function(){function t(t){void 0===t&&(t=0),this.Tu=t}var n=t.prototype;return n.Su=function(t){this.Tu+=t},n.Eu=function(t){this.Tu=t},n.Ru=function(){return new t(this.Iu)},n.Nu=function(){return new Zu(this.Iu<<3)},ft(t,[{key:"Iu",get:function(){return this.Tu}}]),t}(),Fs=function(){function t(){var t=this;this.Ou=void 0,this.Au=void 0,this.Pu=void 0,this.Ou=new j(function(n,i){t.Au=n,t.Pu=i})}var n=t.prototype;return n.xu=function(t){this.Au&&(this.Au(t),this.Lr())},n.Lu=function(t){this.Pu&&(this.Pu(t),this.Lr())},n.Wr=function(){this.Ou.catch(Mt),this.Lu(new du)},n.Lr=function(){this.Au=void 0,this.Pu=void 0},t}();function Us(){return new y([8,4]).buffer}function Vs(t){return Gu(t,Us())}function Ws(t,n){return t===Nr?function(t){if(t.byteLength<2*Hs.length)return t;if(Es(new DataView(t,0,2*Hs.length),!0)===Hs)return t;return n=t,Rs('<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">'+Ju(n)+'</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>',!0).buffer;var n}(n):n}var Hs="<PlayReady";var qs=function(t){function n(n,i,e,r){var u;return(u=t.call(this,n,r)||this).Bu=void 0,u.Mu=void 0,u.Bu=i,u.Mu=e,u}return vt(n,t),n}(On),zs=function(t,n){return(zs=v.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)v.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])})(t,n)};function js(t,n){if("function"!=typeof n&&null!==n)throw new h("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}zs(t,n),t.prototype=null===n?v.create(n):(i.prototype=n.prototype,new i)}function $s(t,n,i){return t.indexOf?t.indexOf(n,i):Array.prototype.indexOf.call(t,n,i)}function Xs(t,n,i){return d.min(d.max(t,n),i)}function Gs(t,n){return t>>8-n}function Ys(t,n){return t&(1<<n)-1}!function(){function t(t,n){this.Fu=t,this.Uu=n}t.prototype.get=function(t){var n=this.Fu.get(t);if(0===this.Uu||void 0===n)return n;var i=this.Fu.get(t+1)||0,e=n&(1<<8-this.Uu)-1,r=i>>8-this.Uu;return(e<<this.Uu)+r},t.prototype.getBit=function(t){if(!(t<0)){var n=this.Fu.get(d.floor((t+this.Uu)/8));if(void 0!==n)return(n&1<<7-this.Uu-t%8)>0?1:0}},v.defineProperty(t.prototype,"bitLength",{get:function(){return this.Fu.bitLength-this.Uu},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"length",{get:function(){return this.Fu.length},enumerable:!1,configurable:!0})}(),function(){function t(t){this.Vu=t,this.Wu=0,this.Hu=0}v.defineProperty(t.prototype,"totalBitsRead",{get:function(){return 8*this.Wu+this.Hu},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"done",{get:function(){return this.Wu===this.Vu.length&&0===this.Hu},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"location",{get:function(){return{byte:this.Wu,bit:this.Hu}},enumerable:!1,configurable:!0}),t.prototype.copy=function(){var n=new t(this.Vu);return n.seek(this.Wu,this.Hu),n},t.prototype.canReadBits=function(t){return 8*this.Wu+t+this.Hu<=8*this.Vu.length},t.prototype.canReadBytes=function(t){return 0===this.Hu?this.Wu+t<=this.Vu.length:this.Wu+t<this.Vu.length},t.prototype.incBit=function(){this.Hu++,this.Hu>7&&(this.Wu++,this.Hu=0)},t.prototype.seek=function(t,n){this.Wu=t,this.Hu=n},t.prototype.peekBit=function(){if(!this.canReadBits(1))throw new f("Cannot read past end of buffer.");return this.Vu.get(this.Wu)>>7-this.Hu&1},t.prototype.readBit=function(){var t=this.peekBit();return this.incBit(),t},t.prototype.readByte=function(){if(!this.canReadBytes(1))throw new f("Cannot read past end of buffer.");if(0===this.Hu)return this.Vu.get(this.Wu++);var t=Ys(this.Vu.get(this.Wu),8-this.Hu),n=Gs(this.Vu.get(this.Wu+1),this.Hu);return this.Wu++,t<<this.Hu|n},t.prototype.readBits=function(t){if(!this.canReadBits(t))throw new f("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readBit());return n},t.prototype.readUInt=function(t){if(t>32)throw new f("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new f("Cannot read past end of buffer.");var n=0;if(0===this.Hu&&t%8==0)for(var i=t-8;i>=0;i-=8)n|=this.readByte()<<i;else for(i=t-1;i>=0;i--)n|=this.readBit()<<i;return n},t.prototype.readInt=function(t){if(t>32)throw new f("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new f("Cannot read past end of buffer.");var n=this.readUInt(t);return 0===(n&1<<t-1)?n:n-d.pow(2,t)},t.prototype.readExponentialGolombCode=function(){for(var t=0;0===this.readBit();)t++;var n=1<<t;return n+=this.readUInt(t)-1},t.prototype.readSignedExponentialGolombCode=function(){var t=this.readExponentialGolombCode();return 1&t?(t+1)/2:-t/2},t.prototype.skipBits=function(t){if(!this.canReadBits(t))throw new f("Skipping over the buffer edge is not allowed.");var n=this.Hu+t;this.Wu+=n>>3,this.Hu=7&n},t.prototype.readBool=function(){return this.readBit()>0},t.prototype.readString=function(t){if(!this.canReadBytes(t))throw new f("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readByte());return String.fromCharCode.apply(String,n)}}();var Ks=function(t,n){return t===n?0:t<n?-1:t>n?1:g(t)?g(n)?0:1:-1},Js=function(){function t(){this.qu=[],this.zu=[],this.C=0}return t.from=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var e=new t,r=0,u=n;r<u.length;r++){var s=u[r];e.pushRange(s)}return e},t.prototype.pushRange=function(t,n,i){if(void 0===n&&(n=0),void 0===i&&(i=t.length),i<0)throw new f("The buffer length must be positive.");if(0!==i){if(0===this.zu.length)this.zu.push(0);else{var e=this.zu[this.zu.length-1]+this.qu[this.qu.length-1].length;this.zu.push(e)}this.qu.push(t.subarray(n,n+i)),this.C+=i}},t.prototype.concat=function(n){var i=new t;return i.pushRange(this.join()),i.pushRange(n.join()),i},t.prototype.copy=function(t,n,i,e){if(void 0===n&&(n=0),void 0===i&&(i=0),void 0===e&&(e=this.length),n<0||i<0||e<0)throw new RangeError;return this.slice(i,e).copyInternal(t,n)},t.prototype.copyInternal=function(t,n){for(var i=0,e=n,r=0,u=this.qu;r<u.length;r++){var s=u[r];t.set(s,e),i+=s.length,e+=s.length}return i},t.prototype.clear=function(){this.qu=[],this.zu=[],this.C=0},t.prototype.get=function(t){if(!(t<0||t>=this.length)){var n=this.findContainingBufferIndex(t),i=t-this.zu[n];return this.qu[n][i]}},v.defineProperty(t.prototype,"first",{get:function(){return this.get(0)},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){if(this.qu.length<1)return-1;if(this.qu.length>1){var n=this.join();this.clear(),this.pushRange(n)}var i=this.qu[0];return"number"==typeof t?$s(i,t):"undefined"!=typeof Buffer?Buffer.from(i.buffer,i.byteOffset,i.byteLength).indexOf(t):function(t,n){if(0===n.length)return 0;for(var i=n[0],e=n.length,r=t.length-e,u=0;u<=r&&!((u=$s(t,i,u))<0||u>r);u++){for(var s=u+1,o=u+e,c=1;s<o&&t[s]===n[c];s++,c++);if(s===o)return u}return-1}(i,t)},t.prototype.findContainingBufferIndex=function(t){return function(t,n,i){if(0!==t.length){var e=0,r=t.length-1;if(1!==i(t[e],n)){if(1===i(n,t[r]))return r;for(;e!==r;){var u=d.ceil((e+r)/2);i(t[u],n)<=0?e=u:r=u-1}return e}}}(this.zu,t,Ks)},t.prototype.join=function(){if(1===this.qu.length)return this.qu[0];var t=new y(this.length);return this.copyInternal(t,0),t},v.defineProperty(t.prototype,"length",{get:function(){return this.C},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"bitLength",{get:function(){return 8*this.length},enumerable:!1,configurable:!0}),t.prototype.readUIntBE=function(t,n){if(n<=0||n>4)throw new f("Expected byteLength to be between 0 and 4 but was "+n);if(t<0||t>this.length-n)throw new f("Offset must be between 0 and buffer.length - byteLength, but was "+t+" (max allowed "+(this.length-n)+")");if(1===n)return this.get(t);for(var i=0,e=0;e<n;e++)i+=this.get(t+e)*d.pow(2,8*(n-e-1));return i},t.prototype.slice=function(n,i){void 0===i&&(i=this.length);var e=Xs(n,0,this.length),r=Xs(i,0,this.length);if(e>r)return new t;if(e===r)return new t;for(var u=new t,s=this.findContainingBufferIndex(e),o=this.qu[s],c=e,a=c-this.zu[s];c+o.length-a<r;)u.pushRange(o,a,o.length-a),s+=1,a=(c+=o.length-a)-this.zu[s],o=this.qu[s];var f=r-c;return u.pushRange(o,a,f),u},t.prototype.trim=function(){if(0===this.length)return new t;for(var n=this.length-1,i=this.qu.length-1,e=this.qu[i],r=e.length-1;n>=0&&i>=0;){if(0!==e[r])break;if(0===r){if(0===i)return new t;i-=1,r=(e=this.qu[i]).length-1}else r-=1;n-=1}return this.slice(0,n+1)},t}(),Qs=function(){function t(n){this.ju=n||t.BUFFER_CHUNK_SIZE,this.$u=!1,this.Xu=new Js,this.Vu=new y(this.ju),this.Gu=0,this.Yu=0,this.Hu=7}return t.prototype.closeByte=function(){this.Vu[this.Gu++]=this.Yu,this.Gu>=this.ju&&this.closeBuffer(),this.Yu=0,this.Hu=7},t.prototype.closeBuffer=function(t){void 0===t&&(t=!0),0!==this.Gu&&(this.Xu.pushRange(this.Vu,0,this.Gu),t&&(this.Vu=new y(this.ju)),this.Gu=0)},v.defineProperty(t.prototype,"isWritingStartBit",{get:function(){return 7===this.Hu},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(this.$u)throw new f("Cannot close a closed BitWriter.");return this.isWritingStartBit||this.closeByte(),this.closeBuffer(!1),this.$u=!0,this.Xu},t.prototype.writeBit=function(t){if(this.$u)throw new f("Cannot write to a closed BitWriter.");this.Yu|=t<<this.Hu,0===this.Hu?this.closeByte():this.Hu--},t.prototype.writeByte=function(t){if(this.$u)throw new f("Cannot write to a closed BitWriter.");this.isWritingStartBit?(this.Yu=t,this.closeByte()):this.writeByteUnaligned(t)},t.prototype.writeByteUnaligned=function(t){var n=this.Hu;this.Yu|=Gs(t,n+1),this.closeByte(),this.Yu=Ys(t,8-n)<<n+1,this.Hu=n},t.prototype.writeBits=function(t){for(var n=0,i=t;n<i.length;n++){var e=i[n];this.writeBit(e)}},t.prototype.writeBytes=function(t){if(this.$u)throw new f("Cannot write to a closed BitWriter.");this.isWritingStartBit?this.writeBytesAligned(t):this.writeBytesUnaligned(t)},t.prototype.writeBytesAligned=function(t){this.Gu+t.length<=this.ju?(this.Vu.set(t,this.Gu),this.Gu+=t.length,this.Gu===this.ju&&this.closeBuffer()):(this.closeBuffer(),this.Xu.pushRange(t))},t.prototype.writeBytesUnaligned=function(t){if(0!==t.length){var n=this.Hu;this.Yu|=Gs(t[0],n+1),this.closeByte();for(var i=1;i<t.length;i++){var e=Ys(t[i-1],8-n),r=Gs(t[i],n+1);this.Yu=e<<n+1|r,this.closeByte()}this.Yu=Ys(t[t.length-1],8-n)<<n+1,this.Hu=n}},t.prototype.writeUInt=function(t,n){if(t<0)throw new f("Received a negative number.");if(n>32)throw new f("The max bitlength that can be provided is 32.");if(t>=d.pow(2,n))throw new f("Uint "+t+" cannot be represented in "+n+" bit(s).");if(this.isWritingStartBit&&n%8==0)for(var i=n-8;i>=0;i-=8)this.writeByte(t>>i&255);else for(i=n-1;i>=0;i--)this.writeBool((t&1<<i)>0)},t.prototype.writeInt=function(t,n){if(n>32)throw new f("The max bitlength that can be provided is 32.");if(d.abs(t)>=d.pow(2,n-1))throw new f("Signed integer "+t+" cannot be represented in "+n+" bit(s).");t<0?this.writeUInt(t+d.pow(2,n),n):this.writeUInt(t,n)},t.prototype.writeExponentialGolombCode=function(t){if(t<0)throw new f("Received a negative number.");for(var n=d.floor(d.log2(t+1))+1,i=0;i<n-1;i++)this.writeBit(0);this.writeUInt(t+1,n)},t.prototype.writeSignedExponentialGolombCode=function(t){0===t?this.writeExponentialGolombCode(0):t<0?this.writeExponentialGolombCode(-2*t):this.writeExponentialGolombCode(2*t-1)},t.prototype.padByte=function(t){for(;!this.isWritingStartBit;)this.writeBit(t)},t.prototype.writeBool=function(t){this.writeBit(t?1:0)},t.prototype.writeString=function(t){for(var n=function(t){for(var n=new y(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(t),i=0;i<n.length;i++)this.writeByte(n[i])},t.BUFFER_CHUNK_SIZE=1024,t}(),Zs=function(){function t(t){this.rb=new Js,this.Ku=t}return t.prototype.closeWriter=function(){void 0!==this.Ku&&(this.rb=this.rb.concat(this.Ku.close()),this.Ku=void 0)},v.defineProperty(t.prototype,"writer",{get:function(){return void 0===this.Ku&&(this.Ku=new Qs),this.Ku},enumerable:!1,configurable:!0}),t.prototype.concat=function(t){this.closeWriter(),this.rb=this.rb.concat(t)},t.prototype.toRangedBuffer=function(){return this.closeWriter(),this.rb},t}(),to=function(){function t(t){if(this.boxType=t,4!==t.length&&16!==t.length)throw new f("The provided box type does not conform to either a 4 character type or a 16 byte uuid.")}return t.prototype.serializeCommonBoxHeader=function(n){var i=this.getSize(),e=i>=t.LARGE_SIZE/8,r=16===this.boxType.length;n.writeUInt(e?1:i,32),n.writeString(r?"uuid":this.boxType),e&&(n.writeUInt(d.floor(i/t.LARGE_SIZE),32),n.writeUInt(i%t.LARGE_SIZE,32)),r&&n.writeString(this.boxType)},t.prototype.getSize=function(){var n=8+(this.boxType.length>4?16:0),i=this.getBoxContentSize()+n;return i>=t.LARGE_SIZE/8&&(i+=8),i},t.prototype.serialize=function(){var t=new Zs;return this.serializeCommonBoxHeader(t.writer),this.serializeBoxContent(t),t.toRangedBuffer()},t.LARGE_SIZE=d.pow(2,32),t}();function no(t,n){return t instanceof Kt?64===n:t<d.pow(2,n)}function io(t,n){return d.round(t*d.pow(2,n))}function eo(t,n){for(var i=0;i<n.length;i++)t.writeByte(n[i])}var ro=function(t){function n(n,i,e){var r=t.call(this,n)||this;if(r.version=i,!no(i,8))throw new f("the provided version cannot fit in 8 bits.");return r.flags=e,r}return js(n,t),v.defineProperty(n.prototype,"flags",{get:function(){return this.Ju},set:function(t){this.Ju=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new f("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(to);!function(t){function n(n,i){var e=t.call(this,n)||this;return e.data=i,e}js(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(Js.from(this.data))}}(to);var uo=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t}();function so(t){for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return function(t){var n=t.length;if(n<=oo)return String.fromCharCode.apply(String,t);for(var i=[],e=0;e<n;e+=oo)i.push(String.fromCharCode.apply(String,t.slice(e,e+oo)));return i.join("")}(n)}var oo=16384;function co(t,n){var i=t.getUint8(n.offset);return n.shift(1),i}function ao(t,n,i){var e,r=function(t,n,i){void 0===n&&(n=0);void 0===i&&(i=t.byteLength);return new y(t.buffer,t.byteOffset+n,i-n)}(new y((e=t).buffer,e.byteOffset,e.byteLength),n.offset,n.offset+i);return n.shift(r.byteLength),r}function fo(t,n,i){return n.offset+i<=t.byteLength}function ho(t,n,i){void 0===i&&(i=!1);var e=t.getUint32(n.offset,i);return n.shift(4),e}function vo(t,n,i){void 0===i&&(i=!1);var e=ho(t,n,i),r=ho(t,n,i),u=i?r:e,s=i?e:r;return Kt.fromBits(s,u,!0)}function lo(t,n){var i=co(t,n);if(i)return String.fromCharCode(i)}function wo(t,n,i){for(var e="",r=0;r<i;r++)e+=lo(t,n);return e}function go(t,n){var i,e=co(t,n);return 0==(128&e)?i=e:192==(224&e)?i=64*(31&e)+(63&co(t,n)):224==(240&e)?i=4096*(15&e)+64*(63&co(t,n))+(63&co(t,n)):240==(248&e)&&(i=262144*(7&e)+4096*(63&co(t,n))+64*(63&co(t,n))+(63&co(t,n))),i}function yo(t,n){return function(t,n,i){var e=[];(function(t,n){return n.offset+3<=t.byteLength&&239===t.getUint8(n.offset)&&187===t.getUint8(n.offset+1)&&191===t.getUint8(n.offset+2)})(t,n)&&n.shift(3);for(;n.offset<t.byteLength;){var r=go(t,n);if(void 0===r)break;if(i&&0===r)break;e.push(r)}return so(e)}(t,n,!0)}var mo=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t.prototype.toBit=function(){return new uo(this.offset<<3)},t}(),bo=function(){function t(t,n){this.data=t,this.cursor=n}return t.prototype.nextUint8=function(){return co(this.data,this.cursor)},t.prototype.nextUint16=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getUint16(n.offset,i);return n.shift(2),e}(this.data,this.cursor)},t.prototype.nextInt16=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt16(n.offset,i);return n.shift(2),e}(this.data,this.cursor)},t.prototype.nextUint32=function(){return ho(this.data,this.cursor)},t.prototype.nextInt32=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt32(n.offset,i);return n.shift(4),e}(this.data,this.cursor)},t.prototype.nextInt64=function(){return function(t,n,i){void 0===i&&(i=!1);var e=ho(t,n,i),r=ho(t,n,i),u=i?r:e,s=i?e:r;return Kt.fromBits(s,u,!1)}(this.data,this.cursor)},t.prototype.nextUint64=function(){return vo(this.data,this.cursor)},t.prototype.nextUint8Array=function(t){return ao(this.data,this.cursor,t)},t.prototype.nextUint32Array=function(t){return function(t,n,i){for(var e=[],r=0;r<i;r++)e.push(ho(t,n));return e}(this.data,this.cursor,t)},t.prototype.nextChars=function(t){return wo(this.data,this.cursor,t)},t.prototype.nextUTF8String=function(){return yo(this.data,this.cursor)},t.prototype.skip=function(t){this.cursor.shift(t)},t.prototype.clone=function(){return new t(this.data,this.cursor.clone())},t}();function po(t,n){return t.type===n}var _o=8;function ko(t,n){var i=n.offset,e=function(t,n){var i=n.offset;if(!fo(t,n,_o)){var e=n.offset+_o;return{complete:!1,neededOffset:e}}var r=ho(t,n),u=wo(t,n,4);if(1===r){if(!fo(t,n,8)){var e=n.offset+8;return n.seek(i),{complete:!1,neededOffset:e}}r=vo(t,n).toNumber()}if("uuid"===u){if(!fo(t,n,16)){var e=n.offset+16;return n.seek(i),{complete:!1,neededOffset:e}}u=wo(t,n,16)}var s=n.offset;return{complete:!0,header:{type:u,size:r,headerSize:s-i}}}(t,n);if(!e.complete)return e;var r=e.header,u=r.size;0===u&&(u=t.byteLength-i);var s=i+u;if(s>t.byteLength){var o=s;return n.seek(i),{complete:!1,neededOffset:o}}var c,a,f,h={type:r.type,offset:i,data:new bo((c=t,a=i,f=s,void 0===a&&(a=0),void 0===f&&(f=c.byteLength),new DataView(c.buffer,c.byteOffset+a,f-a)),new mo(r.headerSize))};return n.seek(s),{complete:!0,box:h}}!function(t){function n(){return t.call(this,"mdir")||this}js(n,t),n.prototype.serializeReserved=function(t){t.writer.writeString("appl"),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)}}(function(t){function n(n,i,e,r){void 0===e&&(e=0),void 0===r&&(r=0);var u=t.call(this,"hdlr",e,r)||this;return u.name=i,u.handlerType=n,u}return js(n,t),v.defineProperty(n.prototype,"handlerType",{get:function(){return this.Qu},set:function(t){this.Qu=t},enumerable:!1,configurable:!0}),n.prototype.serializeReserved=function(t){t.writer.writeUInt(0,32),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)},n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+4+4+12+(null!==(i=null===(n=this.name)||void 0===n?void 0:n.length)&&void 0!==i?i:0)+1},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeString(this.handlerType),this.serializeReserved(n),this.name&&n.writer.writeString(this.name),n.writer.writeByte(0)},n}(ro));var To=function(){function t(t,n){void 0===n&&(n=!1),this.fixed28BitMode=n,this.tag=t}return t.prototype.encodeSize=function(t){for(var n=[];t>0;)n.length>0&&(n[n.length-1]+=128),n.push(t%128),t>>=7;if(this.fixed28BitMode)for(;n.length<4;)n.push(128);return n.reverse()},v.defineProperty(t.prototype,"tag",{get:function(){return this.Zu},set:function(t){if(!no(t,8))throw new f("Provided tag does not fit in 8 bits.");this.Zu=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return this.getDescriptorSize()+1+this.encodeSize(this.getDescriptorSize()).length},t.prototype.serialize=function(t){t.writer.writeByte(this.tag);for(var n=0,i=this.encodeSize(this.getDescriptorSize());n<i.length;n++){var e=i[n];t.writer.writeByte(e)}this.serializeDescriptorContent(t)},t}();!function(t){function n(n,i,e,r,u,s,o){void 0===o&&(o={});var c=t.call(this,4,o.fixed28BitMode)||this;return c.upStream=e,c.decoderSpecificInfo=s,c.objectTypeIndication=n,c.streamType=i,c.bufferSizeDb=r,c.maxBitrate=u.max,c.avgBitrate=u.avg,c}js(n,t),v.defineProperty(n.prototype,"objectTypeIndication",{get:function(){return this.ts},set:function(t){if(!no(t,8))throw new f("Provided objectTypeIndication does not fit in 8 bits.");this.ts=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"streamType",{get:function(){return this.es},set:function(t){if(!no(t,6))throw new f("Provided streamType does not fit in 6 bits.");this.es=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.rs},set:function(t){if(!no(t,24))throw new f("Provided bufferSizeDb does not fit in 24 bits.");this.rs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"maxBitrate",{get:function(){return this.us},set:function(t){if(!no(t,32))throw new f("Provided maxBitrate does not fit in 32 bits.");this.us=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"avgBitrate",{get:function(){return this.ss},set:function(t){if(!no(t,32))throw new f("Provided avgBitrate does not fit in 32 bits.");this.ss=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 13+this.decoderSpecificInfo.reduce(function(t,n){return t+n.getSize()},0)},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.objectTypeIndication),t.writer.writeUInt(this.streamType,6),t.writer.writeBool(this.upStream),t.writer.writeBit(1),t.writer.writeUInt(this.bufferSizeDb,24),t.writer.writeUInt(this.maxBitrate,32),t.writer.writeUInt(this.avgBitrate,32);for(var n=0,i=this.decoderSpecificInfo;n<i.length;n++){i[n].serialize(t)}}}(To),function(t){function n(n,i){void 0===i&&(i={});var e=t.call(this,5,i.fixed28BitMode)||this;return e.data=n,e}js(n,t),n.prototype.getDescriptorSize=function(){return this.data.length},n.prototype.serializeDescriptorContent=function(t){t.concat(Js.from(this.data))}}(To);var So=function(t){function n(n){void 0===n&&(n=!1);var i=t.call(this,6,n)||this;return i.predefined=2,i}return js(n,t),n.prototype.getDescriptorSize=function(){return 1},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.predefined)},n}(To);!function(t){function n(n,i,e,r){void 0===r&&(r={});var u=t.call(this,3,r.fixed28BitMode)||this;return u.decoderConfigDescriptor=e,u.esId=n,u.streamPriority=i,u.dependsOnEsId=null==r?void 0:r.dependsOnEsId,u.urlString=null==r?void 0:r.url,u.ocrEsId=null==r?void 0:r.ocrEsId,u.slConfigDescriptor=new So(r.fixed28BitMode),u}js(n,t),v.defineProperty(n.prototype,"streamDependenceFlag",{get:function(){return void 0!==this.dependsOnEsId},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"urlFlag",{get:function(){return void 0!==this.urlString},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"ocrStreamFlag",{get:function(){return void 0!==this.ocrEsId},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"esId",{get:function(){return this.os},set:function(t){if(!no(t,16))throw new f("Provided esId does not fit in 16 bits.");this.os=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"streamPriority",{get:function(){return this.cs},set:function(t){if(!no(t,5))throw new f("Provided streamPriority does not fit in 5 bits.");this.cs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"dependsOnEsId",{get:function(){return this.as},set:function(t){if(t&&!no(t,16))throw new f("Provided dependsOnEsId does not fit in 16 bits.");this.as=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"ocrEsId",{get:function(){return this.fs},set:function(t){if(t&&!no(t,16))throw new f("Provided ocrEsId does not fit in 16 bits.");this.fs=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 3+(this.streamDependenceFlag?2:0)+(this.urlFlag?1+this.urlString.length:0)+(this.ocrStreamFlag?2:0)+this.decoderConfigDescriptor.getSize()+this.slConfigDescriptor.getSize()},n.prototype.serializeDescriptorContent=function(t){t.writer.writeUInt(this.esId,16),t.writer.writeBool(this.streamDependenceFlag),t.writer.writeBool(this.urlFlag),t.writer.writeBool(this.ocrStreamFlag),t.writer.writeUInt(this.streamPriority,5),this.streamDependenceFlag&&t.writer.writeUInt(this.dependsOnEsId,16),this.urlFlag&&(t.writer.writeByte(this.urlString.length),t.writer.writeString(this.urlString)),this.ocrStreamFlag&&t.writer.writeUInt(this.ocrEsId,16),this.decoderConfigDescriptor.serialize(t),this.slConfigDescriptor.serialize(t)}}(To);var Eo=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.boxes=[],n}return js(n,t),n.prototype.getSize=function(){return t.prototype.getSize.call(this)+this.boxes.reduce(function(t,n){return t+n.getSize()},0)},n.prototype.serialize=function(){for(var n=t.prototype.serialize.call(this),i=0,e=this.boxes;i<e.length;i++){var r=e[i];n=n.concat(r.serialize())}return n},n}(to),Ro=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return js(n,t),n.prototype.serializeBoxContent=function(t){},n.prototype.getBoxContentSize=function(){return 0},n}(Eo),Io=function(t){function n(n,i){var e=t.call(this,n)||this;return e.dataReferenceIndex=i,e}return js(n,t),v.defineProperty(n.prototype,"dataReferenceIndex",{get:function(){return this.hs},set:function(t){if(!no(t,16))throw new f("Provided dataReferenceIndex does not fit in 16 bits.");this.hs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){for(var n=0;n<6;n++)t.writer.writeByte(0);t.writer.writeUInt(this.dataReferenceIndex,16)},n}(Ro),Do=function(t){function n(n,i,e,r){var u,s,o=this;return(o=t.call(this,n,i)||this).extra=r,o.channelCount=null!==(u=e.channelCount)&&void 0!==u?u:2,o.sampleSize=null!==(s=e.sampleSize)&&void 0!==s?s:16,o.sampleRate=e.sampleRate,o}return js(n,t),v.defineProperty(n.prototype,"channelCount",{get:function(){return this.vs},set:function(t){if(!no(t,16))throw new f("Provided channelCount does not fit in 16 bits.");this.vs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"sampleSize",{get:function(){return this.ds},set:function(t){if(!no(t,16))throw new f("Provided sampleSize does not fit in 16 bits.");this.ds=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"sampleRate",{get:function(){return this.ls},set:function(t){if(!no(io(t,16),32))throw new f("Provided rate does not fit in 32 bits (fixed 16.16).");this.ls=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+8+2+2+2+2+(void 0!==this.sampleRate?4:0)+(null!==(i=null===(n=this.extra)||void 0===n?void 0:n.length)&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.channelCount,16),n.writer.writeUInt(this.sampleSize,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(io(this.sampleRate,16),32),this.extra&&eo(n.writer,this.extra)},n}(Io);!function(t){function n(n){var i=t.call(this,"stco",0,0)||this;return i.entries=n,i}js(n,t),v.defineProperty(n.prototype,"entries",{get:function(){return this.gs},set:function(t){if(!no(t.length,32))throw new f("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!no(t,32)}))throw new f("Not all entries can be represented in 32 bits.");this.gs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(ro),function(t){function n(n){var i=t.call(this,"clap")||this;return i.cleanApertureWidthN=n.cleanApertureWidthN,i.cleanApertureWidthD=n.cleanApertureWidthD,i.cleanApertureHeightN=n.cleanApertureHeightN,i.cleanApertureHeightD=n.cleanApertureHeightD,i.horizOffN=n.horizOffN,i.horizOffD=n.horizOffD,i.vertOffN=n.vertOffN,i.vertOffD=n.vertOffD,i}js(n,t),v.defineProperty(n.prototype,"cleanApertureWidthN",{get:function(){return this.ys},set:function(t){if(!no(t,32))throw new f("Provided cleanApertureWidthN does not fit in 32 bits.");this.ys=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"cleanApertureWidthD",{get:function(){return this.bs},set:function(t){if(!no(t,32))throw new f("Provided cleanApertureWidthD does not fit in 32 bits.");this.bs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"cleanApertureHeightN",{get:function(){return this.ps},set:function(t){if(!no(t,32))throw new f("Provided cleanApertureHeightN does not fit in 32 bits.");this.ps=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"cleanApertureHeightD",{get:function(){return this._s},set:function(t){if(!no(t,32))throw new f("Provided cleanApertureHeightD does not fit in 32 bits.");this._s=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"horizOffN",{get:function(){return this.ks},set:function(t){if(!no(t,32))throw new f("Provided horizOffN does not fit in 32 bits.");this.ks=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"horizOffD",{get:function(){return this.Ts},set:function(t){if(!no(t,32))throw new f("Provided horizOffD does not fit in 32 bits.");this.Ts=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"vertOffN",{get:function(){return this.Ss},set:function(t){if(!no(t,32))throw new f("Provided vertOffN does not fit in 32 bits.");this.Ss=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"vertOffD",{get:function(){return this.Es},set:function(t){if(!no(t,32))throw new f("Provided vertOffD does not fit in 32 bits.");this.Es=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 32},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.cleanApertureWidthN,32),t.writer.writeUInt(this.cleanApertureWidthD,32),t.writer.writeUInt(this.cleanApertureHeightN,32),t.writer.writeUInt(this.cleanApertureHeightD,32),t.writer.writeUInt(this.horizOffN,32),t.writer.writeUInt(this.horizOffD,32),t.writer.writeUInt(this.vertOffN,32),t.writer.writeUInt(this.vertOffD,32)}}(to),function(t){function n(n,i){var e=t.call(this,"ctts",n,0)||this;return e.entries=i,e}js(n,t),v.defineProperty(n.prototype,"entries",{get:function(){return this.gs},set:function(t){if(!no(t.length,32))throw new f("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!no(t.sampleCount,32)||!no(t.sampleOffset,32)}))throw new f("Not all entries can be represented in 64 bits.");this.gs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.sampleCount,32),0===this.version?n.writer.writeUInt(r.sampleOffset,32):1===this.version&&n.writer.writeInt(r.sampleOffset,32)}}}(ro),function(t){function n(n){var i=t.call(this,"url ",0,void 0===n?1:0)||this;return i.location=n,i}js(n,t),v.defineProperty(n.prototype,"location",{get:function(){return this.Rs},set:function(t){this.flags=void 0===t?1:0,this.Rs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this);return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(ro),function(t){function n(n,i,e){var r=t.call(this,"urn ",0,e)||this;return r.name=n,r.location=i,r}js(n,t),v.defineProperty(n.prototype,"location",{get:function(){return this.Rs},set:function(t){if(1&this.flags)throw new f("The moov containment flag is set, a DataEntryUrlBox should be used instead.");this.Rs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+this.name.length+1;return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.name),n.writer.writeByte(0),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(ro),function(t){function n(){return t.call(this,"dinf")||this}js(n,t)}(Ro);var Co=function(t){function n(n,i,e){var r=t.call(this,n)||this;if(r.version=i,!no(i,8))throw new f("the provided version cannot fit in 8 bits.");return r.flags=e,r}return js(n,t),v.defineProperty(n.prototype,"flags",{get:function(){return this.Ju},set:function(t){this.Ju=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new f("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(Eo);!function(t){function n(){return t.call(this,"dref",0,0)||this}js(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(Co);var No=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"elst",i,e)||this;return r.entries=n,r}return js(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"entries",{get:function(){return this.gs},set:function(t){for(var n=0,i=t;n<i.length;n++){var e=i[n];if(!no(e.segmentDuration,this.bitSize))throw new f("SegmentDuration of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!no(e.mediaTime,this.bitSize))throw new f("MediaTime of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!no(e.mediaRateInteger,16))throw new f("Provided mediaRateInteger does not fit in 16 bits.");if(e.mediaRateFraction&&!no(e.mediaRateFraction,16))throw new f("Provided mediaRateFraction does not fit in 16 bits.")}this.gs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(2*this.bitSize/8+2+2)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32),this.serializeElstBoxContent(n)},n}(ro);!function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}js(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,e=this.entries;i<e.length;i++){var r=e[i];t.writer.writeUInt(r.segmentDuration,32),t.writer.writeInt(r.mediaTime,32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}}}(No),function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}js(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,e=this.entries;i<e.length;i++){var r=e[i];t.writer.writeUInt(r.segmentDuration.getHighBitsUnsigned(),32),t.writer.writeUInt(r.segmentDuration.getLowBitsUnsigned(),32),t.writer.writeInt(r.mediaTime.getHighBits(),32),t.writer.writeInt(r.mediaTime.getLowBits(),32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}}}(No),function(t){function n(){return t.call(this,"edts")||this}js(n,t)}(Ro);var Oo=function(t){function n(n,i,e,r){var u=t.call(this,n)||this;return u.majorBrand=i,u.minorVersion=e,u.compatibleBrands=r,u}return js(n,t),v.defineProperty(n.prototype,"majorBrand",{get:function(){return this.Is},set:function(t){if(4!==t.length)throw new f("the provided major brand does not conform to the 4 character requirement");this.Is=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"minorVersion",{get:function(){return this.Ds},set:function(t){if(!no(t,32))throw new f("the provided minor version does not fit in 32 bits.");this.Ds=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"compatibleBrands",{get:function(){return this.Cs},set:function(t){if(t.some(function(t){return 4!==t.length}))throw new f("Some of the compatible brands do not conform to the 4 character requirement");this.Cs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4*(2+this.compatibleBrands.length)},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.majorBrand),t.writer.writeUInt(this.minorVersion,32);for(var n=0,i=this.compatibleBrands;n<i.length;n++){var e=i[n];t.writer.writeString(e)}},n}(to);!function(t){function n(n,i,e){return t.call(this,"ftyp",n,i,e)||this}js(n,t)}(Oo),function(t){function n(n,i){void 0===i&&(i="free");var e=t.call(this,i)||this;return e.data=n,e}js(n,t),n.prototype.getBoxContentSize=function(){var t,n;return null!==(n=null===(t=this.data)||void 0===t?void 0:t.length)&&void 0!==n?n:0},n.prototype.serializeBoxContent=function(t){this.data&&t.concat(Js.from(this.data))}}(to);var Ao,Po=function(t){function n(n,i,e,r){void 0===r&&(r=0);var u=t.call(this,"mdhd",e,r)||this;return u.creationTime=n.creation,u.modificationTime=n.modification,u.timescale=n.scale,u.duration=n.duration,u.language=i,u}return js(n,t),v.defineProperty(n.prototype,"creationTime",{get:function(){return this.Ns},set:function(t){if(!no(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Ns=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"modificationTime",{get:function(){return this.Os},set:function(t){if(!no(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Os=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"timescale",{get:function(){return this.As},set:function(t){if(!no(t,32))throw new f("Provided sequence number does not fit in 32 bits.");this.As=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"duration",{get:function(){return this.Ps},set:function(t){if(!no(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Ps=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"language",{get:function(){return this.xs},set:function(t){if(!function(t){return/^[a-z]{3}$/.test(t)}(t))throw new f("Expected an ISO-639-2/T language code");this.xs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMdiaContent(n),n.writer.writeBit(0);for(var i=0,e=this.language;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.charCodeAt(0)-96,5)}n.writer.writeUInt(0,16)},n}(ro);!function(t){function n(n,i,e){return void 0===e&&(e=0),t.call(this,n,i,0,e)||this}js(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)}}(Po),function(t){function n(n,i,e){return void 0===e&&(e=0),t.call(this,n,i,1,e)||this}js(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)}}(Po),function(t){function n(){return t.call(this,"mdia")||this}js(n,t)}(Ro),function(t){function n(){var n=t.call(this,"mdat")||this;return n.data=new Js,n}js(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(this.data)}}(to),function(t){function n(){return t.call(this,"minf")||this}js(n,t)}(Ro),function(t){function n(n){var i=t.call(this,"meta",0,0)||this;return i.handler=n,i}js(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.handler.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.handler.serialize())}}(Co),function(t){t.VIDEO="vide",t.AUXILIARY_VIDEO="auxv",t.AUDIO="soun",t.METADATA="meta",t.HINT="hint",t.TEXT="text",t.SUBTITLE="subt",t.FONT="fdsm"}(Ao||(Ao={}));var xo,Lo,Bo={a:1,b:0,u:0,c:0,d:1,v:0,x:0,y:0,w:1};function Mo(t,n){n.writer.writeUInt(io(t.a,16),32),n.writer.writeUInt(io(t.b,16),32),n.writer.writeUInt(io(0,30),32),n.writer.writeUInt(io(t.c,16),32),n.writer.writeUInt(io(t.d,16),32),n.writer.writeUInt(io(0,30),32),n.writer.writeUInt(io(t.x,16),32),n.writer.writeUInt(io(t.y,16),32),n.writer.writeUInt(io(1,30),32)}function Fo(t,n){var i,e,r,u;n.writer.writeUInt(null!==(i=t.isLeading)&&void 0!==i?i:xo.UNKNOWN,2),n.writer.writeUInt(null!==(e=t.sampleDependsOn)&&void 0!==e?e:Lo.UNKNOWN,2),n.writer.writeUInt(null!==(r=t.sampleIsDependedOn)&&void 0!==r?r:Lo.UNKNOWN,2),n.writer.writeUInt(null!==(u=t.sampleHasRedundancy)&&void 0!==u?u:Lo.UNKNOWN,2)}function Uo(t,n){var i,e,r;n.writer.writeUInt(0,4),Fo(t,n),n.writer.writeUInt(null!==(i=t.samplePaddingValue)&&void 0!==i?i:0,3),n.writer.writeBool(null!==(e=t.sampleIsNonSyncSample)&&void 0!==e&&e),n.writer.writeUInt(null!==(r=t.sampleDegradationPriority)&&void 0!==r?r:0,16)}!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WITH_DEPENDENCY=1]="WITH_DEPENDENCY",t[t.NO=2]="NO",t[t.WITHOUT_DEPENDENCY=3]="WITHOUT_DEPENDENCY"}(xo||(xo={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.YES=1]="YES",t[t.NO=2]="NO",t[t.RESERVED=3]="RESERVED"}(Lo||(Lo={}));var Vo=function(){return function(){}}(),Wo=function(t){function n(n,i,e){var r=t.call(this,"pssh",n,0)||this;return r.systemId=i,r.data=e,r}return js(n,t),v.defineProperty(n.prototype,"systemId",{get:function(){return this.Ls},set:function(t){if(16!==t.length)throw new f("Provided systemId length is not 16.");this.Ls=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"data",{get:function(){return this.P},set:function(t){if(!no(t.length,32))throw new f("Provided data length does not fit in 32 bits.");this.P=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+16+4+this.data.length},n.prototype.serializeVersionBoxContent=function(t){},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(Js.from(this.systemId)),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.data.length,32),n.concat(Js.from(this.data))},n}(ro),Ho=function(t){function n(n,i){return t.call(this,0,n,i)||this}return js(n,t),n}(Wo),qo=function(t){function n(n,i,e){var r=t.call(this,1,n,i)||this;return r.kIds=e,r}return js(n,t),v.defineProperty(n.prototype,"kIds",{get:function(){return this.Bs},set:function(t){if(!no(t.length,32))throw new f("Provided kIds length cannot fit in 32 bits.");if(t.some(function(t){return 16!==t.length}))throw new f("Not all provided key ids are 16 bytes long.");this.Bs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+16*this.kIds.length},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.kIds.length,32);for(var n=0,i=this.kIds;n<i.length;n++){var e=i[n];t.concat(Js.from(e))}},n}(Wo);var zo=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"mehd",i,e)||this;return r.fragmentDuration=n,r}return js(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"fragmentDuration",{get:function(){return this.Ms},set:function(t){if(!no(t,this.bitSize))throw new f("The provided fragmentDuration does not fit in ".concat(this.bitSize," bits."));this.Ms=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(ro);!function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}js(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration,32)}}(zo),function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}js(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration.getHighBitsUnsigned(),32),n.writer.writeUInt(this.fragmentDuration.getLowBitsUnsigned(),32)}}(zo),function(t){function n(n,i,e,r){void 0===i&&(i={}),void 0===e&&(e=0),void 0===r&&(r=0);var u,s,o,c=this;return(c=t.call(this,"trex",e,r)||this).trackId=n,c.defaultSampleDescriptionIndex=null!==(u=null==i?void 0:i.sampleDescriptionIndex)&&void 0!==u?u:0,c.defaultSampleDuration=null!==(s=i.sampleDuration)&&void 0!==s?s:0,c.defaultSampleSize=null!==(o=i.sampleSize)&&void 0!==o?o:0,c.defaultSampleFlags=i.sampleFlags,c}js(n,t),v.defineProperty(n.prototype,"trackId",{get:function(){return this.Fs},set:function(t){if(!no(t,32))throw new f("Provided track id does not fit in 32 bits.");this.Fs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.Us},set:function(t){if(!no(t,32))throw new f("Provided default sample description index does not fit in 32 bits.");this.Us=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.Vs},set:function(t){if(!no(t,32))throw new f("Provided default sample duration does not fit in 32 bits.");this.Vs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Ws},set:function(t){if(!no(t,32))throw new f("Provided default sample size does not fit in 32 bits.");this.Ws=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.Hs},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!no(t.samplePaddingValue,3))throw new f("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!no(t.sampleDegradationPriority,16))throw new f("Provided sample degradation priority does not fit in 16 bits.");this.Hs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+20},n.prototype.serializeBoxContent=function(n){var i;t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),n.writer.writeUInt(this.defaultSampleDescriptionIndex,32),n.writer.writeUInt(this.defaultSampleDuration,32),n.writer.writeUInt(this.defaultSampleSize,32),Uo(null!==(i=this.defaultSampleFlags)&&void 0!==i?i:{},n)}}(ro),function(t){function n(){return t.call(this,"mvex")||this}js(n,t)}(Ro);var jo=function(t){function n(i,e,r,u,s){void 0===s&&(s=0);var o,c,a,f=this;return(f=t.call(this,"mvhd",u,s)||this).creationTime=i.creation,f.modificationTime=i.modification,f.timescale=i.scale,f.duration=i.duration,f.rate=null!==(o=r.rate)&&void 0!==o?o:n.DEFAULT_RATE,f.volume=null!==(c=r.volume)&&void 0!==c?c:n.DEFAULT_VOLUME,f.matrix=null!==(a=r.matrix)&&void 0!==a?a:Bo,f.qs=e,f}return js(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"creationTime",{get:function(){return this.Ns},set:function(t){if(!no(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Ns=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"modificationTime",{get:function(){return this.Os},set:function(t){if(!no(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Os=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"timescale",{get:function(){return this.As},set:function(t){if(!no(t,32))throw new f("Provided sequence number does not fit in 32 bits.");this.As=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"duration",{get:function(){return this.Ps},set:function(t){if(!no(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Ps=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"rate",{get:function(){return this.zs},set:function(t){if(!no(io(t,16),32))throw new f("Provided rate does not fit in 32 bits (fixed 16.16).");this.zs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"volume",{get:function(){return this.js},set:function(t){if(!no(io(t,8),16))throw new f("Provided volume does not fit in 16 bits (fixed 8.8).");this.js=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"matrix",{get:function(){return this.$s},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new f("(u, v, w) does not match the required (0, 0, 1)");this.$s=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"nextTrackId",{get:function(){return this.qs},set:function(t){if(0===t)throw new f("NextTrackId cannot be 0.");if(!no(t,32))throw new f("NextTrackId cannot exceed 32 bits.");this.qs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+2+2+8+36+24+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMvhdContent(n),n.writer.writeUInt(io(this.rate,16),32),n.writer.writeUInt(io(this.volume,8),16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),Mo(this.matrix,n);for(var i=0;i<6;i++)n.writer.writeUInt(0,32);n.writer.writeUInt(this.nextTrackId,32)},n.DEFAULT_RATE=1,n.DEFAULT_VOLUME=1,n}(ro);!function(t){function n(n,i,e,r){return void 0===e&&(e={}),void 0===r&&(r=0),t.call(this,n,i,e,0,r)||this}js(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)}}(jo),function(t){function n(n,i,e,r){return void 0===e&&(e={}),void 0===r&&(r=0),t.call(this,n,i,e,1,r)||this}js(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)}}(jo);var $o=function(t){function n(n,i,e,r,u,s,o){void 0===o&&(o={});var c,a,f,h=this;return(h=t.call(this,"tkhd",n,function(t){var n,i,e,r;return{trackEnabled:null===(n=null==t?void 0:t.trackEnabled)||void 0===n||n,trackInMovie:null===(i=null==t?void 0:t.trackInMovie)||void 0===i||i,trackInPreview:null===(e=null==t?void 0:t.trackInPreview)||void 0===e||e,trackSizeIsAspectRatio:null!==(r=null==t?void 0:t.trackSizeIsAspectRatio)&&void 0!==r&&r}}(o))||this).creationTime=i.creation,h.modificationTime=i.modification,h.trackId=e,h.duration=i.duration,h.volume=r,h.width=u,h.height=s,h.layer=null!==(c=o.layer)&&void 0!==c?c:0,h.alternateGroup=null!==(a=o.alternateGroup)&&void 0!==a?a:0,h.matrix=null!==(f=o.matrix)&&void 0!==f?f:Bo,h}return js(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"creationTime",{get:function(){return this.Ns},set:function(t){if(!no(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Ns=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"modificationTime",{get:function(){return this.Os},set:function(t){if(!no(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Os=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"trackId",{get:function(){return this.Fs},set:function(t){if(0===t)throw new f("trackId cannot be 0.");if(!no(t,32))throw new f("trackId cannot exceed 32 bits.");this.Fs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"duration",{get:function(){return this.Ps},set:function(t){if(!no(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Ps=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"volume",{get:function(){return this.js},set:function(t){if(!no(io(t,8),16))throw new f("Provided volume does not fit in 16 bits (fixed 8.8).");this.js=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"width",{get:function(){return this.Xs},set:function(t){if(!no(io(t,16),32))throw new f("Provided width does not fit in 32 bits (fixed 16.16).");this.Xs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"height",{get:function(){return this.Gs},set:function(t){if(!no(io(t,16),32))throw new f("Provided height does not fit in 32 bits (fixed 16.16).");this.Gs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"layer",{get:function(){return this.Ys},set:function(t){if(!no(t,16))throw new f("Provided layer does not fit in 16 bits.");this.Ys=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"alternateGroup",{get:function(){return this.Ks},set:function(t){if(!no(t,16))throw new f("Provided alternateGroup does not fit in 16 bits.");this.Ks=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"matrix",{get:function(){return this.$s},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new f("(u, v, w) does not match the required (0, 0, 1)");this.$s=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+8+2+2+2+2+36+4+4},n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,20),t.writer.writeBool(this.flags.trackSizeIsAspectRatio),t.writer.writeBool(this.flags.trackInPreview),t.writer.writeBool(this.flags.trackInMovie),t.writer.writeBool(this.flags.trackEnabled)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeTkhdContent(n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.layer,16),n.writer.writeUInt(this.alternateGroup,16),n.writer.writeUInt(io(this.volume,8),16),n.writer.writeUInt(0,16),Mo(this.matrix,n),n.writer.writeUInt(io(this.width,16),32),n.writer.writeUInt(io(this.height,16),32)},n}(ro);!function(t){function n(n,i,e,r,u,s){return t.call(this,0,n,i,e,r,u,s)||this}js(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration,32)}}($o),function(t){function n(n,i,e,r,u,s){return t.call(this,1,n,i,e,r,u,s)||this}js(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)}}($o),function(t){function n(){return t.call(this,"trak")||this}js(n,t)}(Ro),function(t){function n(){return t.call(this,"moov")||this}js(n,t)}(Ro);var Xo=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"tfdt",i,e)||this;return r.baseMediaDecodeTime=n,r}return js(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"baseMediaDecodeTime",{get:function(){return this.Js},set:function(t){if(!no(t,this.bitSize))throw new f("Provided baseMediaDecodeTime does not fit in ".concat(this.bitSize," bits."));this.Js=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(ro);!function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}js(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime,32)}}(Xo),function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}js(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseMediaDecodeTime.getLowBitsUnsigned(),32)}}(Xo),function(t){function n(n,i){void 0===i&&(i=0);var e=t.call(this,"tfhd",i,function(t){return{baseDataOffsetPresent:void 0!==t.baseDataOffset,sampleDescriptionIndexPresent:void 0!==t.sampleDescriptionIndex,defaultSampleDurationPresent:void 0!==t.defaultSampleDuration,defaultSampleSizePresent:void 0!==t.defaultSampleSize,defaultSampleFlagsPresent:void 0!==t.defaultSampleFlags,durationIsEmpty:t.durationIsEmpty,defaultBaseIsMoof:t.defaultBaseIsMoof}}(n))||this;return e.trackId=n.trackId,e.baseDataOffset=n.baseDataOffset,e.sampleDescriptionIndex=n.sampleDescriptionIndex,e.defaultSampleDuration=n.defaultSampleDuration,e.defaultSampleSize=n.defaultSampleSize,e.defaultSampleFlags=n.defaultSampleFlags,e}js(n,t),v.defineProperty(n.prototype,"trackId",{get:function(){return this.Fs},set:function(t){if(!no(t,32))throw new f("Provided track id does not fit in 32 bits.");this.Fs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"baseDataOffset",{get:function(){return this.Qs},set:function(t){if(void 0===t&&this.flags.baseDataOffsetPresent)throw new f("The base data offset present flag is set.");if(void 0!==t&&!this.flags.baseDataOffsetPresent)throw new f("The base data offset present flag is not set.");if(t&&!no(t,64))throw new f("Provided baseDataOffset does not fit in 32 bits.");this.Qs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"sampleDescriptionIndex",{get:function(){return this.Zs},set:function(t){if(void 0===t&&this.flags.sampleDescriptionIndexPresent)throw new f("The sample description index flag is set.");if(void 0!==t&&!this.flags.sampleDescriptionIndexPresent)throw new f("The sample description index flag is not set.");if(t&&!no(t,32))throw new f("Provided sampleDescriptionIndex does not fit in 32 bits.");this.Zs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.Vs},set:function(t){if(void 0===t&&this.flags.defaultSampleDurationPresent)throw new f("The default sample duration present flag is set.");if(void 0!==t&&!this.flags.defaultSampleDurationPresent)throw new f("The default sample duration present flag is not set.");if(t&&!no(t,32))throw new f("Provided defaultSampleDuration does not fit in 32 bits.");this.Vs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Ws},set:function(t){if(void 0===t&&this.flags.defaultSampleSizePresent)throw new f("The default sample size present flag is set.");if(void 0!==t&&!this.flags.defaultSampleSizePresent)throw new f("The default sample size present flag is not set.");if(t&&!no(t,32))throw new f("Provided defaultSampleSize does not fit in 32 bits.");this.Ws=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.Hs},set:function(t){if(void 0===t&&this.flags.defaultSampleFlagsPresent)throw new f("The default sample flags present flag is set.");if(void 0!==t&&!this.flags.defaultSampleFlagsPresent)throw new f("The default sample flags present flag is not set.");if((null==t?void 0:t.samplePaddingValue)&&!no(t.samplePaddingValue,3))throw new f("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!no(t.sampleDegradationPriority,16))throw new f("Provided sample degradation priority does not fit in 16 bits.");this.Hs=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,6),t.writer.writeBool(this.flags.defaultBaseIsMoof),t.writer.writeBool(this.flags.durationIsEmpty),t.writer.writeByte(0),t.writer.writeUInt(0,2),t.writer.writeBool(this.flags.defaultSampleFlagsPresent),t.writer.writeBool(this.flags.defaultSampleSizePresent),t.writer.writeBool(this.flags.defaultSampleDurationPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.sampleDescriptionIndexPresent),t.writer.writeBool(this.flags.baseDataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.baseDataOffsetPresent&&(n+=8),this.flags.sampleDescriptionIndexPresent&&(n+=4),this.flags.defaultSampleDurationPresent&&(n+=4),this.flags.defaultSampleSizePresent&&(n+=4),this.flags.defaultSampleFlagsPresent&&(n+=4),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),this.flags.baseDataOffsetPresent&&(n.writer.writeUInt(this.baseDataOffset.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseDataOffset.getLowBitsUnsigned(),32)),this.flags.sampleDescriptionIndexPresent&&n.writer.writeUInt(this.sampleDescriptionIndex,32),this.flags.defaultSampleDurationPresent&&n.writer.writeUInt(this.defaultSampleDuration,32),this.flags.defaultSampleSizePresent&&n.writer.writeUInt(this.defaultSampleSize,32),this.flags.defaultSampleFlagsPresent&&Uo(this.defaultSampleFlags,n)}}(ro),function(t){function n(n,i,e){var r=t.call(this,"trun",n,function(t){var n,i,e,r;return{dataOffsetPresent:void 0!==t.dataOffset,firstSampleFlagsPresent:void 0!==t.firstSampleFlags,sampleDurationPresent:null!==(n=t.sampleDurationPresent)&&void 0!==n&&n,sampleSizePresent:null!==(i=t.sampleSizePresent)&&void 0!==i&&i,sampleFlagsPresent:null!==(e=t.sampleFlagsPresent)&&void 0!==e&&e,sampleCompositionTimeOffsetsPresent:null!==(r=t.sampleCompositionTimeOffsetsPresent)&&void 0!==r&&r}}(i))||this;return r.dataOffset=i.dataOffset,r.samples=e,r.firstSampleFlags=i.firstSampleFlags,r}js(n,t),v.defineProperty(n.prototype,"dataOffset",{get:function(){return this.to},set:function(t){if(t&&!no(t,32))throw new f("Provided data offset does not fit in 32 bits.");this.to=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"firstSampleFlags",{get:function(){return this.io},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!no(t.samplePaddingValue,3))throw new f("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!no(t.sampleDegradationPriority,16))throw new f("Provided sample degradation priority does not fit in 16 bits.");this.io=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"samples",{get:function(){return this.eo},set:function(t){var n,i;if(!no(t.length,32))throw new f("The sample count cannot be represented in 32 bits.");for(var e=0,r=t;e<r.length;e++){var u=r[e];if(void 0===u.duration&&this.flags.sampleDurationPresent)throw new f("The sample duration present flag is set.");if(void 0!==u.duration&&!this.flags.sampleDurationPresent)throw new f("The sample duration present flag is not set.");if(u.duration&&!no(u.duration,32))throw new f("Provided sample duration does not fit in 32 bits.");if(void 0===u.size&&this.flags.sampleSizePresent)throw new f("The sample size present flag is set.");if(void 0!==u.size&&!this.flags.sampleSizePresent)throw new f("The sample size present flag is not set.");if(u.size&&!no(u.size,32))throw new f("Provided sample size does not fit in 32 bits.");if(void 0===u.flags&&this.flags.sampleFlagsPresent)throw new f("The sample flags present flag is set.");if(void 0!==u.flags&&!this.flags.sampleFlagsPresent)throw new f("The sample flags present flag is not set.");if((null===(n=u.flags)||void 0===n?void 0:n.samplePaddingValue)&&!no(u.flags.samplePaddingValue,3))throw new f("Provided sample padding value does not fit in 3 bits.");if((null===(i=u.flags)||void 0===i?void 0:i.sampleDegradationPriority)&&!no(u.flags.sampleDegradationPriority,16))throw new f("Provided sample degradation priority does not fit in 16 bits.");if(void 0===u.compositionTimeOffset&&this.flags.sampleCompositionTimeOffsetsPresent)throw new f("The sample compositionTimeOffset present flag is set.");if(void 0!==u.compositionTimeOffset&&!this.flags.sampleCompositionTimeOffsetsPresent)throw new f("The sample compositionTimeOffset present flag is not set.");if(u.compositionTimeOffset&&!no(u.compositionTimeOffset,32))throw new f("Provided sample compositionTimeOffset does not fit in 32 bits.")}this.eo=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeByte(0),t.writer.writeUInt(0,4),t.writer.writeBool(this.flags.sampleCompositionTimeOffsetsPresent),t.writer.writeBool(this.flags.sampleFlagsPresent),t.writer.writeBool(this.flags.sampleSizePresent),t.writer.writeBool(this.flags.sampleDurationPresent),t.writer.writeUInt(0,5),t.writer.writeBool(this.flags.firstSampleFlagsPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.dataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.dataOffsetPresent&&(n+=4),this.flags.firstSampleFlagsPresent&&(n+=4),this.flags.sampleDurationPresent&&(n+=4*this.samples.length),this.flags.sampleSizePresent&&(n+=4*this.samples.length),this.flags.sampleFlagsPresent&&(n+=4*this.samples.length),this.flags.sampleCompositionTimeOffsetsPresent&&(n+=4*this.samples.length),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32),this.flags.dataOffsetPresent&&n.writer.writeUInt(this.dataOffset,32),this.flags.firstSampleFlagsPresent&&Uo(this.firstSampleFlags,n);for(var i=0,e=this.samples;i<e.length;i++){var r=e[i];this.flags.sampleDurationPresent&&n.writer.writeUInt(r.duration,32),this.flags.sampleSizePresent&&n.writer.writeUInt(r.size,32),this.flags.sampleFlagsPresent&&Uo(r.flags,n),this.flags.sampleCompositionTimeOffsetsPresent&&(0===this.version?n.writer.writeUInt(r.compositionTimeOffset,32):n.writer.writeInt(r.compositionTimeOffset,32))}}}(ro),function(t){function n(){return t.call(this,"traf")||this}js(n,t)}(Ro),function(t){function n(){return t.call(this,"moof")||this}js(n,t)}(Ro),function(t){function n(n){var i=t.call(this,"mfhd",0,0)||this;return i.sequenceNumber=n,i}js(n,t),v.defineProperty(n.prototype,"sequenceNumber",{get:function(){return this.ro},set:function(t){if(!no(t,32))throw new f("Provided sequence number does not fit in 32 bits.");this.ro=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.sequenceNumber,32)}}(ro);var Go=function(t){function n(n){var i=t.call(this,"frma")||this;return i.codingName=n,i}return js(n,t),v.defineProperty(n.prototype,"codingName",{get:function(){return this.uo},set:function(t){if(4!==t.length)throw new f("Provided coding name was not 4 characters long.");this.uo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.codingName)},n}(to);!function(t){function n(n,i){var e=t.call(this,"pasp")||this;return e.hSpacing=n,e.vSpacing=i,e}js(n,t),v.defineProperty(n.prototype,"hSpacing",{get:function(){return this.so},set:function(t){if(!no(t,32))throw new f("Provided hSpacing does not fit in 32 bits.");this.so=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"vSpacing",{get:function(){return this.oo},set:function(t){if(!no(t,32))throw new f("Provided vSpacing does not fit in 32 bits.");this.oo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.hSpacing,32),t.writer.writeUInt(this.vSpacing,32)}}(to),function(t){function n(n,i,e){var r=t.call(this,n)||this;return r.sample=i,r.sinf=e,r}js(n,t),n.prototype.getBoxContentSize=function(){return this.sample.getBoxContentSize()+this.sinf.getSize()},n.prototype.serializeBoxContent=function(t){this.sample.serializeBoxContent(t),t.concat(this.sinf.serialize())}}(Ro),function(t){function n(n,i,e){var r=t.call(this,"sinf")||this;return r.schm=i,r.schi=e,r.frma=new Go(n),r}js(n,t),n.prototype.getBoxContentSize=function(){var t,n,i,e;return this.frma.getSize()+(null!==(n=null===(t=this.schm)||void 0===t?void 0:t.getSize())&&void 0!==n?n:0)+(null!==(e=null===(i=this.schi)||void 0===i?void 0:i.getSize())&&void 0!==e?e:0)},n.prototype.serializeBoxContent=function(t){t.concat(this.frma.serialize()),this.schm&&t.concat(this.schm.serialize()),this.schi&&t.concat(this.schi.serialize())}}(to);var Yo=function(t){function n(n,i,e){var r=t.call(this,"saio",n,void 0===e?0:1)||this;return r.entries=i,r.explicitAuxInfoType=e,r}return js(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"entries",{get:function(){return this.gs},set:function(t){var n=this;if(!no(t.length,32))throw new f("Number of entries provided does not fit in 32 bits.");if(t.some(function(t){return!no(t,n.bitSize)}))throw new f("Not all provided entries fit in ".concat(this.bitSize," bits."));this.gs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.co},set:function(t){if(void 0===t)this.flags=0;else{if(!no(t.auxInfoType,32))throw new f("Provided auxInfoType does not fit in 32 bits.");if(!no(t.auxInfoTypeParameter,32))throw new f("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.co=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+4+this.entries.length*this.bitSize/8},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeUInt(this.entries.length,32),this.serializeSaioContent(n)},n}(ro);!function(t){function n(){return null!==t&&t.apply(this,arguments)||this}js(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var e=i[n];t.writer.writeUInt(e,32)}}}(Yo),function(t){function n(){return null!==t&&t.apply(this,arguments)||this}js(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var e=i[n];t.writer.writeUInt(e.getHighBitsUnsigned(),32),t.writer.writeUInt(e.getLowBitsUnsigned(),32)}}}(Yo),function(t){function n(n,i,e){var r=t.call(this,"saiz",0,void 0===e?0:1)||this;return r.defaultSampleInfoSize=n,r.sampleInfoSizes=i,r.explicitAuxInfoType=e,r}js(n,t),v.defineProperty(n.prototype,"defaultSampleInfoSize",{get:function(){return this.ao},set:function(t){if(!no(t,8))throw new f("Provided defaultSampleInfoSize does not fit in a single byte.");this.ao=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"sampleInfoSizes",{get:function(){return this.fo},set:function(t){if(!no(t.length,32))throw new f("Number of sampleInfoSizes provided does not fit in 32 bits.");if(t.some(function(t){return!no(t,8)}))throw new f("Not all provided sampleInfoSizes fit in a byte.");this.fo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.co},set:function(t){if(void 0===t)this.flags=0;else{if(!no(t.auxInfoType,32))throw new f("Provided auxInfoType does not fit in 32 bits.");if(!no(t.auxInfoTypeParameter,32))throw new f("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.co=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+1+4+(0===this.defaultSampleInfoSize?0:this.sampleInfoSizes.length)},n.prototype.serializeBoxContent=function(n){if(0===this.defaultSampleInfoSize&&this.sampleInfoSizes.length>0)throw new f("Both a default size and specific sizes are provided.  This is prohibited.");t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeByte(this.defaultSampleInfoSize),n.writer.writeUInt(this.sampleInfoSizes.length,32);for(var i=0,e=this.sampleInfoSizes;i<e.length;i++){var r=e[i];n.writer.writeByte(r)}}}(ro),function(t){function n(n){var i=t.call(this,"sdtp",0,0)||this;return i.samples=n,i}js(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.samples.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n);for(var i=0,e=this.samples;i<e.length;i++){Fo(e[i],n)}}}(ro),function(t){function n(n){return t.call(this,"stsd",n,0)||this}js(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(Co);var Ko=function(t){function n(n,i,e){var r=t.call(this,"sgpd",n,0)||this;return r.entries=e,r.groupingType=i,r}return js(n,t),v.defineProperty(n.prototype,"groupingType",{get:function(){return this.ho},set:function(t){if(4!==t.length)throw new f("The provided groupingType does not equal 4 characters.");this.ho=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.groupingType),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];this.serializeEntryBoxContent(n,r)}},n.prototype.serializeEntryBoxContent=function(t,n){n.serializeBoxContent(t)},n}(ro);!function(t){function n(n,i){return t.call(this,0,n,i)||this}js(n,t),n.prototype.serializeVersionBoxContent=function(t){}}(Ko),function(t){function n(n,i,e){var r=t.call(this,1,n,e)||this;return r.defaultLength=i,r}js(n,t),v.defineProperty(n.prototype,"defaultLength",{get:function(){return this.vo},set:function(t){if(!no(t,32))throw new f("The provided defaultLength does not fit in 32 bits.");this.vo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(this.defaultLength||4)},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultLength,32)},n.prototype.serializeEntryBoxContent=function(t,n){0===this.defaultLength&&t.writer.writeUInt(n.getBoxContentSize(),32),n.serializeBoxContent(t)}}(Ko),function(t){function n(n,i,e,r){void 0===r&&(r=0);var u=this;if(n<2)throw new f("This constructor is only meant for versions 2 and up.");return(u=t.call(this,n,i,e)||this).defaultSampleDescriptionIndex=r,u}js(n,t),v.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.Us},set:function(t){if(!no(t,32))throw new f("The provided defaultSampleDescriptionIndex does not fit in 32 bits.");this.Us=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultSampleDescriptionIndex,32)}}(Ko),function(t){function n(n){void 0===n&&(n=[]);var i=t.call(this,"stsz",0,0)||this;return i.sampleSizes=n,i}js(n,t),v.defineProperty(n.prototype,"sampleSizes",{get:function(){return this.do},set:function(t){if(!no(t.length,32))throw new f("Number of allowed samples cannot fit in 32 bits.");if(t.some(function(t){return!no(t,32)}))throw new f("Not all sampleSizes can be represented in 32 bits.");this.do=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+4*this.sampleSizes.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(this.sampleSizes.length,32);for(var i=0,e=this.sampleSizes;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(ro),function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=0);var e=t.call(this,"stsz",0,0)||this;return e.defaultSampleSize=n,e.samples=i,e}js(n,t),v.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Ws},set:function(t){if(!no(t,32))throw new f("Provided defaultSampleSize does not fit in 32 bits.");this.Ws=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"samples",{get:function(){return this.eo},set:function(t){if(!no(t,32))throw new f("Number of allowed samples cannot fit in 32 bits.");this.eo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.defaultSampleSize,32),n.writer.writeUInt(this.samples,32)}}(ro),function(t){function n(){return t.call(this,"stbl")||this}js(n,t)}(Ro),function(t){function n(n){var i=t.call(this,"stsc",0,0)||this;return i.entries=n,i}js(n,t),v.defineProperty(n.prototype,"entries",{get:function(){return this.gs},set:function(t){if(!no(t.length,32))throw new f("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!no(t.firstChunk,32)||!no(t.sampleDescriptionIndex,32)||!no(t.samplesPerChunk,32)}))throw new f("Not all entries can be represented in 96 bits.");this.gs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+12*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.firstChunk,32),n.writer.writeUInt(r.samplesPerChunk,32),n.writer.writeUInt(r.sampleDescriptionIndex,32)}}}(ro),function(t){function n(){return t.call(this,"schi")||this}js(n,t)}(Ro),function(t){function n(n,i,e){var r=t.call(this,"schm",0,void 0===e?0:1)||this;return r.schemeType=n,r.schemeVersion=i,r.schemeUri=e,r}js(n,t),v.defineProperty(n.prototype,"schemeType",{get:function(){return this.lo},set:function(t){if(4!==t.length)throw new f("The provided schemeType does not have a length of 4.");this.lo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"schemeVersion",{get:function(){return this.wo},set:function(t){if(!no(t,32))throw new f("The provided schemeVersion does not fit in 23 bits.");this.wo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"schemeUri",{get:function(){return this.yo},set:function(t){if(t&&4!==t.length)throw new f("The provided schemeUri does not have a length of 4.");this.flags=void 0===t?0:1,this.yo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+(void 0===this.schemeUri?0:this.schemeUri.length+1)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeType),n.writer.writeUInt(this.schemeVersion,32),this.schemeUri&&(n.writer.writeString(this.schemeUri),n.writer.writeByte(0))}}(ro);var Jo=function(t){function n(n,i,e,r,u,s,o){void 0===o&&(o=0);var c=t.call(this,"sidx",n,o)||this;return c.referenceId=i,c.timescale=e,c.earliestPresentationTime=r,c.firstOffset=u,c.references=s,c}return js(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"referenceId",{get:function(){return this.mo},set:function(t){if(!no(t,32))throw new f("Provided referenceId does not fit in 32 bits.");this.mo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"timescale",{get:function(){return this.As},set:function(t){if(!no(t,32))throw new f("Provided timescale does not fit in 32 bits.");this.As=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"earliestPresentationTime",{get:function(){return this.bo},set:function(t){if(!no(t,this.bitSize))throw new f("Provided earliestPresentationTime does not fit in ".concat(this.bitSize," bits."));this.bo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"firstOffset",{get:function(){return this.po},set:function(t){if(!no(t,this.bitSize))throw new f("Provided timescale does not fit in ".concat(this.bitSize," bits."));this.po=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"references",{get:function(){return this._o},set:function(t){if(!no(t.length,16))throw new f("The number of provided reference items does not fit in 16 bits.");for(var n=0,i=t;n<i.length;n++){var e=i[n];if(!no(e.referencedSize,31))throw new f("Provided referenced size does not fit in 31 bits.");if(!no(e.subsegmentDuration,32))throw new f("Provided subsegment duration does not fit in 31 bits.");if(!no(e.sapType,3))throw new f("Provided SAP type does not fit in 3 bits.");if(!no(e.sapDeltaTime,28))throw new f("Provided SAP delta time does not fit in 28 bits.")}this._o=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+this.bitSize/8*2+2+2+12*this.references.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.referenceId,32),n.writer.writeUInt(this.timescale,32),this.serializeSidxBoxContent(n),n.writer.writeUInt(0,16),n.writer.writeUInt(this.references.length,16);for(var i=0,e=this.references;i<e.length;i++){var r=e[i];n.writer.writeBit(r.referenceType),n.writer.writeUInt(r.referencedSize,31),n.writer.writeUInt(r.subsegmentDuration,32),n.writer.writeBool(r.startsWithSap),n.writer.writeUInt(r.sapType,3),n.writer.writeUInt(r.sapDeltaTime,28)}},n}(ro);!function(t){function n(n,i,e,r,u,s){return void 0===s&&(s=0),t.call(this,0,n,i,e,r,u,s)||this}js(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime,32),t.writer.writeUInt(this.firstOffset,32)}}(Jo),function(t){function n(n,i,e,r,u,s){return void 0===s&&(s=0),t.call(this,1,n,i,e,r,u,s)||this}js(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.earliestPresentationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getHighBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getLowBitsUnsigned(),32)}}(Jo),function(t){function n(n,i,e){return t.call(this,"styp",n,i,e)||this}js(n,t)}(Oo),function(t){function n(n){void 0===n&&(n=0);var i=t.call(this,"smhd",0,0)||this;return i.balance=n,i}js(n,t),v.defineProperty(n.prototype,"balance",{get:function(){return this.ko},set:function(t){if(t<-1||t>1)throw new f("Provided balance does not fit in the allowed range [-1, 1].");if(!no(io(t,8),16))throw new f("Provided balance does not fit in 16 bits (fixed 8.8).");this.ko=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(io(this.balance,8),16),n.writer.writeUInt(0,16)}}(ro),function(t){function n(n){var i=t.call(this,"stss",0,0)||this;return i.entries=n,i}js(n,t),v.defineProperty(n.prototype,"entries",{get:function(){return this.gs},set:function(t){if(!no(t.length,32))throw new f("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!no(t,32)}))throw new f("Not all entries can be represented in 32 bits.");this.gs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(ro),function(t){function n(n){var i=t.call(this,"stts",0,0)||this;return i.entries=n,i}js(n,t),v.defineProperty(n.prototype,"entries",{get:function(){return this.gs},set:function(t){if(!no(t.length,32))throw new f("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!no(t.sampleCount,32)||!no(t.sampleDelta,32)}))throw new f("Not all entries can be represented in 64 bits.");this.gs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.sampleCount,32),n.writer.writeUInt(r.sampleDelta,32)}}}(ro),function(t){function n(n){var i=t.call(this,"trep",0,0)||this;return i.trackId=n,i}js(n,t),v.defineProperty(n.prototype,"trackId",{get:function(){return this.Fs},set:function(t){if(!no(t,32))throw new f("The provided trackId does not fit in 32 bits.");this.Fs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32)}}(Co),function(t){function n(){return t.call(this,"udta")||this}js(n,t)}(Ro);var Qo={red:0,green:0,blue:0};!function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=Qo);var e=t.call(this,"vmhd",0,1)||this;return e.graphicsMode=n,e.opColor=i,e}js(n,t),v.defineProperty(n.prototype,"opColor",{get:function(){return this.To},set:function(t){if(!no(t.red,16)||!no(t.green,16)||!no(t.blue,16))throw new f("Not all colors could be represented in 16 bits.");this.To=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+6},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.graphicsMode,16),n.writer.writeUInt(this.opColor.red,16),n.writer.writeUInt(this.opColor.green,16),n.writer.writeUInt(this.opColor.blue,16)}}(ro);var Zo=function(t){function n(n,i,e,r,u){void 0===r&&(r={}),void 0===u&&(u=void 0);var s,o,c,a,f,h=this;return(h=t.call(this,n,i)||this).width=e.width,h.height=e.height,h.horizontalResolution=null!==(s=e.horizontal)&&void 0!==s?s:72,h.verticalResolution=null!==(o=e.vertical)&&void 0!==o?o:72,h.compressorName=null!==(c=r.compressorName)&&void 0!==c?c:"",h.frameCount=null!==(a=r.frameCount)&&void 0!==a?a:1,h.depth=null!==(f=r.depth)&&void 0!==f?f:24,h.clap=r.clap,h.pasp=r.pasp,h.extra=u,h}return js(n,t),v.defineProperty(n.prototype,"width",{get:function(){return this.Xs},set:function(t){if(!no(t,16))throw new f("Provided width does not fit in 16 bits.");this.Xs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"height",{get:function(){return this.Gs},set:function(t){if(!no(t,16))throw new f("Provided height does not fit in 16 bits.");this.Gs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"horizontalResolution",{get:function(){return this.So},set:function(t){if(!no(io(t,16),32))throw new f("Provided horizontalResolution does not fit in 32 bits (fixed 16.16).");this.So=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"verticalResolution",{get:function(){return this.Eo},set:function(t){if(!no(io(t,16),32))throw new f("Provided verticalResolution does not fit in 32 bits (fixed 16.16).");this.Eo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"compressorName",{get:function(){return this.Ro},set:function(t){if(t.length>31)throw new f("The provided compressorName should at most be 31 characters long.");this.Ro=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"frameCount",{get:function(){return this.Io},set:function(t){if(!no(t,16))throw new f("Provided frameCount does not fit in 16 bits.");this.Io=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"depth",{get:function(){return this.Do},set:function(t){if(!no(t,16))throw new f("Provided depth does not fit in 16 bits.");this.Do=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i,e,r,u,s;return t.prototype.getBoxContentSize.call(this)+2+2+12+2+2+4+4+4+2+32+2+2+(null!==(i=null===(n=this.clap)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)+(null!==(r=null===(e=this.pasp)||void 0===e?void 0:e.getSize())&&void 0!==r?r:0)+(null!==(s=null===(u=this.extra)||void 0===u?void 0:u.length)&&void 0!==s?s:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.width,16),n.writer.writeUInt(this.height,16),n.writer.writeUInt(io(this.horizontalResolution,16),32),n.writer.writeUInt(io(this.verticalResolution,16),32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.frameCount,16),n.writer.writeByte(this.compressorName.length),n.writer.writeString(this.compressorName);for(var i=0;i<31-this.compressorName.length;i++)n.writer.writeByte(0);n.writer.writeUInt(this.depth,16),n.writer.writeInt(-1,16),this.clap&&n.concat(this.clap.serialize()),this.pasp&&n.concat(this.pasp.serialize()),this.extra&&eo(n.writer,this.extra)},n}(Io);!function(t){function n(n){var i=t.call(this,"esds",0,0)||this;return i.esDescriptor=n,i}js(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(this.esDescriptor instanceof y?this.esDescriptor.length:this.esDescriptor.getSize())},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor instanceof y?n.concat(Js.from(this.esDescriptor)):this.esDescriptor.serialize(n)}}(ro),function(t){function n(n,i,e){var r=t.call(this,"mp4a",n,e)||this;return r.esd=i,r}js(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esd.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.esd.serialize())}}(Do),function(t){function n(n,i,e,r){void 0===r&&(r={});var u=t.call(this,"mp4v",n,i,r)||this;return u.esDescriptor=e,u}js(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(Zo),function(t){function n(n,i){var e=t.call(this,"mp4s",n)||this;return e.esDescriptor=i,e}js(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(Io),function(t){function n(n){var i=t.call(this,"avcC")||this;return i.decoderConfig=n,i}js(n,t),n.prototype.getBoxContentSize=function(){return this.decoderConfig.getSize()},n.prototype.serializeBoxContent=function(t){this.decoderConfig.serialize(t)}}(to),function(){function t(t,n,i,e,r,u){void 0===u&&(u=1),this.lengthSizeMinusOne=i,this.version=u,this.profileIndication=t.indication,this.profileCompatibility=t.compatibility,this.levelIndication=n,this.spsSets=e,this.ppsSets=r}v.defineProperty(t.prototype,"version",{get:function(){return this.Co},set:function(t){if(!no(t,8))throw new f("Provided version does not fit in 8 bits.");this.Co=t},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"profileIndication",{get:function(){return this.No},set:function(t){if(!no(t,8))throw new f("Provided profileIndication does not fit in 8 bits.");this.No=t},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"profileCompatibility",{get:function(){return this.Oo},set:function(t){if(!no(t,8))throw new f("Provided profileCompatibility does not fit in 8 bits.");this.Oo=t},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"levelIndication",{get:function(){return this.Ao},set:function(t){if(!no(t,8))throw new f("Provided levelIndication does not fit in 8 bits.");this.Ao=t},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"spsSets",{get:function(){return this.Po},set:function(t){if(!no(t.length,5))throw new f("Provided number of spsSets exceeds the max (32)");this.Po=t},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"ppsSets",{get:function(){return this.xo},set:function(t){if(!no(t.length,8))throw new f("Provided number of ppsSets exceeds the max (256)");this.xo=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return 7+2*this.spsSets.length+this.spsSets.reduce(function(t,n){return t+n.length},0)+2*this.ppsSets.length+this.ppsSets.reduce(function(t,n){return t+n.length},0)},t.prototype.serialize=function(t){t.writer.writeByte(this.version),t.writer.writeByte(this.profileIndication),t.writer.writeByte(this.profileCompatibility),t.writer.writeByte(this.levelIndication),t.writer.writeBits([1,1,1,1,1,1]),t.writer.writeUInt(this.lengthSizeMinusOne,2),t.writer.writeBits([1,1,1]),t.writer.writeUInt(this.spsSets.length,5);for(var n=0,i=this.spsSets;n<i.length;n++){var e=i[n];t.writer.writeUInt(e.length,16),t.concat(Js.from(e))}t.writer.writeByte(this.ppsSets.length);for(var r=0,u=this.ppsSets;r<u.length;r++){var s=u[r];t.writer.writeUInt(s.length,16),t.concat(Js.from(s))}}}(),function(t){function n(n,i,e,r,u){void 0===r&&(r={}),void 0===u&&(u=void 0);var s=t.call(this,"avc1",n,i,r)||this;return s.configurationBox=e,s.bitrateBox=u,s}js(n,t),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+this.configurationBox.getSize()+(null!==(i=null===(n=this.bitrateBox)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.configurationBox.serialize()),this.bitrateBox&&n.concat(this.bitrateBox.serialize())}}(Zo),function(t){function n(n,i,e){var r=t.call(this,"btrt")||this;return r.bufferSizeDb=n,r.max=i,r.avg=e,r}js(n,t),v.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.rs},set:function(t){if(!no(t,32))throw new f("Provided bufferSizeDb does not fit in 32 bits.");this.rs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"max",{get:function(){return this.Lo},set:function(t){if(!no(t,32))throw new f("Provided max does not fit in 32 bits.");this.Lo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"avg",{get:function(){return this.Bo},set:function(t){if(!no(t,32))throw new f("Provided avg does not fit in 32 bits.");this.Bo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 12},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.bufferSizeDb,32),t.writer.writeUInt(this.max,32),t.writer.writeUInt(this.avg,32)}}(to);var tc=function(t){function n(n,i){var e,r,u,s,o=this;if(o=t.call(this,"tenc",n,0)||this,i.perSampleIvSize>0&&(null!==(r=null===(e=i.constantIv)||void 0===e?void 0:e.length)&&void 0!==r?r:0)>0)throw new f("Either perSampleSize should be > 0 or constantIv should be defined. Not both.");return o.kId=i.kId,o.isProtected=null!==(u=i.isProtected)&&void 0!==u?u:1,i.perSampleIvSize>0?o.perSampleIvSize=i.perSampleIvSize:o.constantIv=null!==(s=i.constantIv)&&void 0!==s?s:new y(0),o}return js(n,t),v.defineProperty(n.prototype,"isProtected",{get:function(){return this.Mo},set:function(t){if(!no(t,8))throw new f("Provided isProtected does not fit in 1 byte.");this.Mo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"perSampleIvSize",{get:function(){return this.Fo},set:function(t){if(![8,16].includes(t))throw new f("Provided perSampleIvSize does not match any allowed value [8, 16].");this.Fo=t,this.Uo=new y(0)},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"kId",{get:function(){return this.Vo},set:function(t){if(16!==t.length)throw new f("Provided kId length is not 16.");this.Vo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"constantIv",{get:function(){return this.Uo},set:function(t){if(![8,16].includes(t.length))throw new f("Provided constant IV length does not match any allowed value [8, 16].");this.Uo=t,this.Fo=0},enumerable:!1,configurable:!0}),n.prototype.getTencHeaderSize=function(){return 20+(this.constantIv.length>0?1+this.constantIv.length:0)},n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.getTencHeaderSize()},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeByte(0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeOwnContent(n)},n.prototype.serializeOwnContent=function(t){t.writer.writeByte(0),this.serializeVersionBoxContent(t),t.writer.writeByte(this.isProtected),t.writer.writeByte(this.perSampleIvSize),eo(t.writer,this.kId),0===this.perSampleIvSize&&(t.writer.writeByte(this.constantIv.length),eo(t.writer,this.constantIv))},n}(ro);!function(t){function n(n){return t.call(this,0,n)||this}js(n,t)}(tc);var nc=function(t){function n(n){var i=t.call(this,1,n)||this;return i.cryptByteBlocks=n.cryptByteBlock,i.skipByteBlocks=n.skipByteBlock,i}return js(n,t),v.defineProperty(n.prototype,"cryptByteBlocks",{get:function(){return this.Wo},set:function(t){if(!no(t,4))throw new f("Provided cryptByteBlocks does not fit in 4 bits.");this.Wo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"skipByteBlocks",{get:function(){return this.Ho},set:function(t){if(!no(t,4))throw new f("Provided skipByteBlocks does not fit in 4 bits.");this.Ho=t},enumerable:!1,configurable:!0}),n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.cryptByteBlocks,4),t.writer.writeUInt(this.skipByteBlocks,4)},n}(tc);function ic(t){return void 0!==t.iv}function ec(t){return void 0!==t.subsamples}!function(t){function n(n){var i=t.call(this)||this;return i.tencBox=new nc(n),i}js(n,t),n.prototype.serializeBoxContent=function(t){this.tencBox.serializeOwnContent(t)},n.prototype.getBoxContentSize=function(){return this.tencBox.getTencHeaderSize()}}(Vo),function(t){function n(n){var i=t.call(this,"senc",0,{useSubsampleEncryption:!1})||this;return i.samples=n,i}js(n,t),v.defineProperty(n.prototype,"samples",{get:function(){return this.eo},set:function(t){var n;if(!no(t.length,32))throw new f("The number of samples provided does not fit in 32 bits.");for(var i=0,e=t;i<e.length;i++){var r=e[i];if(ic(r)&&![8,16].includes(r.iv.length))throw new f("IV of one of the provided samples did not satisfy the required length constraints. [8, 16]");if(void 0===n&&(n=ec(r)),!0===n&&!ec(r)||!1===n&&ec(r))throw new f("Mix of samples with and without subsamples detected.");if(ec(r)){if(!no(r.subsamples.length,16))throw new f("Subsample length of one of the provided samples does not fit in 16 bits.");for(var u=0,s=r.subsamples;u<s.length;u++){var o=s[u];if(!no(o.clearData,16))throw new f("Subsample clearData of one of the provided samples does not fit in 16 bits.");if(!no(o.protectedData,23))throw new f("Subsample protectedData of one of the provided samples does not fit in 23 bits.")}}}this.flags.useSubsampleEncryption=null!=n&&n,this.eo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){for(var n=0,i=0,e=this.samples;i<e.length;i++){var r=e[i];ic(r)&&(n+=r.iv.length),ec(r)&&(n+=2+6*r.subsamples.length)}return t.prototype.getBoxContentSize.call(this)+4+n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32);for(var i=0,e=this.samples;i<e.length;i++){var r=e[i];if(ic(r)&&eo(n.writer,r.iv),ec(r)){n.writer.writeUInt(r.subsamples.length,16);for(var u=0,s=r.subsamples;u<s.length;u++){var o=s[u];n.writer.writeUInt(o.clearData,16),n.writer.writeUInt(o.protectedData,32)}}}},n.prototype.serializeFlags=function(t){t.writer.writeUInt(this.flags.useSubsampleEncryption?2:0,24)}}(ro),function(t){function n(n,i,e,r,u){var s=t.call(this,"emsg",0,0)||this;return s.schemeIdUri=n,s.value=i,s.data=u,s.id=e,s.timescale=r.timescale,s.presentationTimeDelta=r.presentationTimeDelta,s.eventDuration=r.eventDuration,s}js(n,t),v.defineProperty(n.prototype,"timescale",{get:function(){return this.As},set:function(t){if(!no(t,32))throw new f("The provided timescale does not fit in 32 bits.");this.As=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"presentationTimeDelta",{get:function(){return this.qo},set:function(t){if(!no(t,32))throw new f("The provided presentationTimeDelta does not fit in 32 bits.");this.qo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"eventDuration",{get:function(){return this.zo},set:function(t){if(!no(t,32))throw new f("The provided eventDuration does not fit in 32 bits.");this.zo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"id",{get:function(){return this.jo},set:function(t){if(!no(t,32))throw new f("The provided id does not fit in 32 bits.");this.jo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.schemeIdUri.length+1+this.value.length+1+16+this.data.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeIdUri),n.writer.writeByte(0),n.writer.writeString(this.value),n.writer.writeByte(0),n.writer.writeUInt(this.timescale,32),n.writer.writeUInt(this.presentationTimeDelta,32),n.writer.writeUInt(this.eventDuration,32),n.writer.writeUInt(this.id,32),n.concat(Js.from(this.data))}}(ro);var rc,uc,sc=(rc="pssh",uc=function(t){var n=t.data.nextUint8();t.data.skip(3);var i=t.data.nextUint8Array(16),e=[];if(1===n)for(var r=t.data.nextUint32(),u=0;u<r;u++)e.push(t.data.nextUint8Array(16));var s=t.data.nextUint32(),o=t.data.nextUint8Array(s);return 1===n?new qo(i,o,e):new Ho(i,o)},function(t){var n,i=function(t,n){for(var i=t.data,e=t.cursor;e.offset<i.byteLength;){var r=ko(i,e);if(!r.complete)return;if(po(r.box,n))return r.box}}(new bo((n=t,new DataView(n.buffer,n.byteOffset,n.byteLength)),new mo),rc);if(!i)throw new f("".concat(rc," box not found"));return uc(i)}),oc=function(t){function n(n,i){var e;(e=t.call(this)||this).$o=void 0,e.Xo=!1,e.Go=void 0,e.Yo=void 0,e.Ko=function(){e.Jo()},e.Qo=function(t){e.Yr(new Pu(Cn(e),t.messageType,Ws(e.Zo,t.message)))},e.tc=function(){e.Xo=!0,e.$o.ku>0&&(e.$o._u(),e.Yr(new Au(Cn(e)))),e.nc.removeEventListener("keystatuseschange",e.Ko),e.nc.removeEventListener("message",e.Qo)},e.nc=n,e.Zo=i,e.nc.addEventListener("keystatuseschange",e.Ko),e.nc.addEventListener("message",e.Qo),e.$o=new Mu;var r=[];return e.nc.closed&&r.push(j.resolve(e.nc.closed)),e.Yo=new Fs,r.push(e.Yo.Ou),e.Go=j.race(r).then(e.tc,e.tc),e.Jo(),e}vt(n,t);var i=n.prototype;return i.ic=function(){if(this.Xo)return this.Go;var t,n,i=[];return i.push(j.resolve(this.nc.close())),i.push((t=1e3,new j(function(i,e){if(void 0!==n&&n.Nr)e(new du);else{var r=st.Ne(function(){void 0!==n&&n.Mr(u),i()},t),u=function(){st.Ae(r),e(new du)};void 0!==n&&n.Br(u)}}))),this.Yo.xu(j.race(i).catch(cc)),this.Xo=!0,this.Go},i.ec=function(t,n,i){if(St.kn){var e=sc(xs(n));if(1===e.version)n=new Ho(e.systemId,e.data).serialize().join()}return j.resolve(this.nc.generateRequest(t,n)).catch(cc)},i.rc=function(t){return j.resolve(this.nc.load(t)).catch(cc)},i.uc=function(){return j.resolve(this.nc.remove()).catch(cc)},i.sc=function(t){return j.resolve(this.nc.update(t)).catch(cc)},i.Jo=function(){var t=this;this.$o._u(),this.nc.keyStatuses.forEach(function(n,i){t.oc(i,n)}),this.Yr(new Au(this))},i.oc=function(t,n){if("string"==typeof t){var i=t;t=n,n=i}var e=xs(t);if(this.Zo===Nr&&16===e.byteLength){var r=Os(e),u=r.getUint32(0,!0),s=r.getUint16(4,!0),o=r.getUint16(6,!0);r.setUint32(0,u,!1),r.setUint16(4,s,!1),r.setUint16(6,o,!1)}this.Zo===Nr&&"status-pending"===n&&(n="usable"),this.$o.pu(e,n)},ft(n,[{key:"cc",get:function(){return this.Go}},{key:"ac",get:function(){return this.nc.expiration}},{key:"fc",get:function(){return this.$o}},{key:"hc",get:function(){return this.nc.sessionId}}]),n}(Iu);function cc(t){var n;if(t.message){var i=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);i&&(n=0|l(i[1],16))}throw new qs(t.message,void 0,n,t)}var ac=function(){function t(t,n,i){this.vc=t,this.dc=n,this.lc=i}var n=t.prototype;return n.wc=function(t){return lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new oc(this.vc.createSession(t),this.dc));case 1:case"end":return n.stop()}},null,this,null,j)},n.gc=function(t){return j.resolve(this.vc.setServerCertificate(t))},n.yc=function(t){return j.resolve(t.setMediaKeys(this.vc))},n.mc=function(t){return j.resolve(t.setMediaKeys(null))},t}(),fc=function(){function t(t,n,i){this.bc=t,this.Zo=n,this.pc=i}var n=t.prototype;return n._c=function(){var t;return lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,lr.awrap(this.bc.createMediaKeys());case 2:return t=n.sent,n.abrupt("return",new ac(t,this.Zo,this.pc));case 4:case"end":return n.stop()}},null,this,null,j)},n.kc=function(){return this.pc},ft(t,[{key:"dc",get:function(){return this.bc.keySystem}}]),t}();function hc(t){var n=t.trim(),i=n.indexOf(";");return i<0?n:n.substr(0,i).trim()}function vc(t,n,i,e){var r=!1;if(!(e.persistentState&&"optional"!==e.persistentState||e.distinctiveIdentifier&&"optional"!==e.distinctiveIdentifier)){var u={audioCapabilities:[],videoCapabilities:[],persistentState:e.persistentState||"optional",distinctiveIdentifier:e.distinctiveIdentifier||"optional",initDataTypes:e.initDataTypes,sessionTypes:["temporary"],label:e.label,Tc:e.Tc},s=!1;if(e.audioCapabilities){var o=e.audioCapabilities.filter(function(t){return Boolean(t.contentType)});o.length&&(u.audioCapabilities=o.filter(function(e){return dc(t,n,i,e)}),s=!0,u.audioCapabilities.length&&(r=!0))}if(e.videoCapabilities){var c=e.videoCapabilities.filter(function(t){return Boolean(t.contentType)});c.length&&(u.videoCapabilities=c.filter(function(e){return dc(t,n,i,e)}),s=!0,u.videoCapabilities.length&&(r=!0))}return s||(r=t(i,"video/mp4")),r?u:void 0}}function dc(t,n,i,e){return!!e.contentType&&(!(e.encryptionScheme&&!au(n,e.encryptionScheme))&&(!e.robustness&&t(i,hc(e.contentType))))}function lc(t){if(t.videoCapabilities)for(var n=0,i=t.videoCapabilities;n<i.length;n++){var e=i[n];if(e.contentType)return e.contentType}if(t.audioCapabilities)for(var r=0,u=t.audioCapabilities;r<u.length;r++){var s=u[r];if(s.contentType)return s.contentType}}function wc(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e.encryptionScheme&&n.push({contentType:e.contentType,robustness:e.robustness})}return t.concat(n)}function gc(t){return!(!t.audioCapabilities||!t.audioCapabilities.some(yc))||!(!t.videoCapabilities||!t.videoCapabilities.some(yc))}function yc(t){return!t.robustness}function mc(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];r.robustness?i.push(r):i.push(wr({},r,{robustness:n}))}return i}var bc=function(){function t(){}return t.prototype.Er=function(t,n){var i,e,r,s,o,c,a,f;return lr.async(function(h){for(;;)switch(h.prev=h.next){case 0:for(n=n.filter(function(t){return!t.Tc}),i=0,e=n;i<e.length;i++)(r=e[i]).audioCapabilities&&(r.audioCapabilities=wc(r.audioCapabilities)),r.videoCapabilities&&(r.videoCapabilities=wc(r.videoCapabilities));if("com.widevine.alpha"!==t||!n.some(gc)){h.next=14;break}return s=n.map(function(t){return i="SW_SECURE_CRYPTO",wr({},n=t,{videoCapabilities:n.videoCapabilities?mc(n.videoCapabilities,i):void 0,audioCapabilities:n.audioCapabilities?mc(n.audioCapabilities,i):void 0});var n,i}),h.prev=4,h.next=7,lr.awrap(u.requestMediaKeySystemAccess(t,s));case 7:return o=h.sent,c=o.getConfiguration(),h.abrupt("return",new fc(o,t,c));case 12:h.prev=12,h.t0=h.catch(4);case 14:return h.next=16,lr.awrap(u.requestMediaKeySystemAccess(t,n));case 16:return a=h.sent,f=a.getConfiguration(),h.abrupt("return",new fc(a,t,f));case 19:case"end":return h.stop()}},null,null,[[4,12]],j)},t.Sc=function(){return void 0!==u&&"function"==typeof u.requestMediaKeySystemAccess},t}(),pc=function(t){function n(n,i){var e;return(e=t.call(this)||this).Xo=!1,e.Ec=void 0,e.Rc=void 0,e.Ic=void 0,e.Dc=void 0,e.Cc=void 0,e.tc=function(){e.Xo=!0,e.Ec.xu(void 0),e.Cc&&(e.Cc.removeEventListener("mskeyclose",e.tc),e.Cc.removeEventListener("mskeymessage",e.Nc),e.Cc.removeEventListener("mskeyerror",e.Oc),e.Cc.removeEventListener("mskeyadded",e.Ac))},e.Nc=function(t){e.Ic&&(e.Ic.xu(void 0),e.Ic=void 0),e.Yr(new Pu(Cn(e),"license-request",Bs(t.message).buffer,t.destinationURL||void 0))},e.Oc=function(){var t=e.Cc&&e.Cc.error;if(t){var n=new qs("Unknown CDM error",t.code,t.systemCode);if(e.Ic)e.Ic.Lu(n),e.Ic=void 0;else if(e.Rc)e.Rc.Lu(n),e.Rc=void 0;else switch(n.Bu){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:e.Pc("output-not-allowed");break;default:e.Pc("internal-error")}}},e.Ac=function(){e.Ic&&(e.Pc("usable"),e.Ic.xu(void 0),e.Ic=void 0),e.Rc&&(e.Pc("usable"),e.Rc.xu(void 0),e.Rc=void 0)},e.xc=n,e.Lc=i,e.Ec=new Fs,e.Dc=new Mu,e}vt(n,t);var i=n.prototype;return i.ec=function(t,n,i){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Bc(),this.Ic=new Fs,this.wc(xs(n),i),t.next=5,lr.awrap(this.Ic.Ou);case 5:case"end":return t.stop()}},null,this,null,j)},i.wc=function(t,n){if(!t)throw new h("Expected initData to be defined but was "+t+".");var i,e=n&&n.playready&&n.playready.Mc;return(i=n?this.xc.createSession(this.Lc,t,e):this.xc.createSession(this.Lc,t)).addEventListener("mskeyclose",this.tc),i.addEventListener("mskeymessage",this.Nc),i.addEventListener("mskeyerror",this.Oc),i.addEventListener("mskeyadded",this.Ac),this.Cc=i,this.Pc("status-pending"),i},i.rc=function(t){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Bc(),t.abrupt("return",!0);case 2:case"end":return t.stop()}},null,this,null,j)},i.sc=function(t){var n;return lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.Rc=new Fs,this.Bc(),this.Cc){i.next=4;break}return i.abrupt("return",j.resolve());case 4:if(0!==(n=xs(t)).byteLength){i.next=7;break}throw new h("Cannot call update with an empty response.");case 7:return this.Cc.update(n),i.next=10,lr.awrap(this.Rc.Ou);case 10:case"end":return i.stop()}},null,this,null,j)},i.ic=function(){return!this.Xo&&this.Cc&&(this.Xo=!0,this.Cc.close()),this.Ec.Ou},i.uc=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Bc(),t.abrupt("return");case 2:case"end":return t.stop()}},null,this,null,j)},i.Bc=function(){if(this.Xo)throw new h("Already closing or closed.")},i.Pc=function(t){this.Dc._u(),this.Dc.pu(Bu,t),this.Yr(new Au(this))},ft(n,[{key:"hc",get:function(){return this.Cc&&this.Cc.sessionId||""}},{key:"ac",get:function(){return NaN}},{key:"cc",get:function(){return this.Ec.Ou}},{key:"fc",get:function(){return this.Dc}}]),n}(Iu),_c=function(){function t(t,n,i){this.Lc=void 0,this.xc=t,this.dc=n,this.lc=i;var e=lc(i)||"video/mp4";this.Lc=hc(e)}var n=t.prototype;return n.wc=function(t){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new pc(this.xc,this.Lc));case 1:case"end":return t.stop()}},null,this,null,j)},n.gc=function(t){return j.resolve(!1)},n.yc=function(t){var n=this;return t.readyState>=1?t.msSetMediaKeys(this.xc):t.addEventListener("loadedmetadata",function i(){t.msSetMediaKeys(n.xc),t.removeEventListener("loadedmetadata",i)}),j.resolve()},n.mc=function(t){return j.resolve()},t}(),kc=function(){function t(t,n){this.Zo=t,this.Fc=n}var n=t.prototype;return n.kc=function(){return this.Fc},n._c=function(){var t=new Z.MSMediaKeys(this.Zo);return j.resolve(new _c(t,this.Zo,this.Fc))},ft(t,[{key:"dc",get:function(){return this.Zo}}]),t}(),Tc=function(){function t(){}return t.prototype.Er=function(t,n){try{return j.resolve(function(t,n){if(!Sc())throw new h("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=vc(Ec,Nu,t,e);if(r)return new kc(t,r)}throw new h("Unsupported key system configuration for "+t)}(t,n))}catch(t){return j.reject(t)}},t.Sc=function(){return Sc()},t}();function Sc(){return void 0!==Z.MSMediaKeys&&"function"==typeof Z.MSMediaKeys.isTypeSupported}function Ec(t,n){return Z.MSMediaKeys.isTypeSupported(t,n)}var Rc,Ic,Dc=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Ec=new Fs,r.Uc=void 0,r.Dc=new Mu,r.Vc=void 0,r.Wc=new Fs,r.Oc=function(){var t=r.Vc&&r.Vc.error;if(t){var n=new qs("Unknown CDM error",t.code,t.systemCode);r.Uc?(r.Uc.Lu(n),r.Uc=void 0):n.Bu===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?r.Pc("output-not-allowed"):r.Pc("internal-error"),r.Yr(new xu)}},r.Nc=function(t){r.Uc&&(r.Uc.xu(void 0),r.Uc=void 0),r.Yr(new Pu(Cn(r),"license-request",Bs(t.message).buffer,"this is a test string"===t.destinationURL?void 0:t.destinationURL))},r.Hc=n,r.Lc=i,r.qc=e,r}vt(n,t);var i=n.prototype;return i.ec=function(t,n,i){var e=i&&i.fairplay&&i.fairplay.zc;if(!e)throw new h("Expected FairPlay contentId to be defined but was "+e+".");var r=Cc(xs(n),e,this.qc);return this.Vc=this.Hc.createSession(this.Lc,r),this.Vc.addEventListener("webkitkeymessage",this.Nc,!1),this.Vc.addEventListener("webkitkeyerror",this.Oc,!1),this.Pc("usable"),this.Wc.xu(this.Vc),this.Wc=new Fs,j.resolve()},i.rc=function(t){return j.resolve(!0)},i.sc=function(t){var n;return lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==(n=xs(t)).byteLength){i.next=3;break}throw new h("Cannot call update with an empty response.");case 3:if(this.Uc=new Fs,i.t0=this.Vc,i.t0){i.next=9;break}return i.next=8,lr.awrap(this.Wc.Ou);case 8:i.t0=i.sent;case 9:return i.t0.update(n),i.next=13,lr.awrap(this.Uc.Ou);case 13:case"end":return i.stop()}},null,this,null,j)},i.ic=function(){var t=this.Vc;return t&&(t.removeEventListener("webkitkeymessage",this.Nc,!1),t.removeEventListener("webkitkeyerror",this.Oc,!1),t.close()),this.Wc.Wr(),this.Ec.xu(void 0),this.Ec.Ou},i.uc=function(){return j.resolve(void 0)},i.Pc=function(t){this.Dc._u(),this.Dc.pu(Bu,t),this.Yr(new Au(this))},ft(n,[{key:"hc",get:function(){return this.Vc?this.Vc.sessionId:""}},{key:"ac",get:function(){return NaN}},{key:"cc",get:function(){return this.Ec.Ou}},{key:"fc",get:function(){return this.Dc}}]),n}(Iu);function Cc(t,n,i){var e=Ds(t),r=2*e.length,u=2*n.length,s=new ArrayBuffer(4+r+4+u+4+i.byteLength),o=new DataView(s),c=new Ms;return ls(o,c,r,!0),ks(o,c,e,!0),ls(o,c,u,!0),ks(o,c,n,!0),ls(o,c,i.byteLength,!0),function(t,n,i){As(t).set(As(i),n.Iu),n.Su(i.byteLength)}(o,c,i),new y(s)}n.ErrorCode=void 0,(Rc=n.ErrorCode||(n.ErrorCode={}))[Rc.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",Rc[Rc.LICENSE_ERROR=2e3]="LICENSE_ERROR",Rc[Rc.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",Rc[Rc.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",Rc[Rc.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",Rc[Rc.SOURCE_INVALID=3e3]="SOURCE_INVALID",Rc[Rc.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",Rc[Rc.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",Rc[Rc.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",Rc[Rc.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",Rc[Rc.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",Rc[Rc.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",Rc[Rc.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",Rc[Rc.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",Rc[Rc.MEDIA_ABORTED=5004]="MEDIA_ABORTED",Rc[Rc.NETWORK_ERROR=6e3]="NETWORK_ERROR",Rc[Rc.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",Rc[Rc.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",Rc[Rc.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",Rc[Rc.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",Rc[Rc.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",Rc[Rc.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",Rc[Rc.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",Rc[Rc.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",Rc[Rc.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",Rc[Rc.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",Rc[Rc.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",Rc[Rc.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",Rc[Rc.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",Rc[Rc.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",Rc[Rc.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",Rc[Rc.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",Rc[Rc.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",Rc[Rc.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",Rc[Rc.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",Rc[Rc.AD_ERROR=1e4]="AD_ERROR",Rc[Rc.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",Rc[Rc.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR",n.ErrorCategory=void 0,(Ic=n.ErrorCategory||(n.ErrorCategory={}))[Ic.CONFIGURATION=1]="CONFIGURATION",Ic[Ic.LICENSE=2]="LICENSE",Ic[Ic.SOURCE=3]="SOURCE",Ic[Ic.MANIFEST=4]="MANIFEST",Ic[Ic.MEDIA=5]="MEDIA",Ic[Ic.NETWORK=6]="NETWORK",Ic[Ic.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",Ic[Ic.SUBTITLE=8]="SUBTITLE",Ic[Ic.VR=9]="VR",Ic[Ic.AD=10]="AD",Ic[Ic.FULLSCREEN=11]="FULLSCREEN",function(t){(n.ErrorCategory||(n.ErrorCategory={})).fromCode=function(t){var i=d.floor(t/1e3);if(i in n.ErrorCategory)return i;throw new h("Invalid error code: "+t)}}();var Nc=function(t){function i(n,i,e){var r;return(r=t.call(this,i,e)||this).code=void 0,r.code=n,r}return vt(i,t),ft(i,[{key:"name",get:function(){return"THEOplayerError"}},{key:"category",get:function(){return n.ErrorCategory.fromCode(this.code)}}]),i}(On);var Oc=function(){function t(t,n,i){this.Lc=void 0,this.qc=void 0,this.Hc=t,this.dc=n,this.lc=i;var e=lc(i)||"video/mp4";this.Lc=hc(e)}var i=t.prototype;return i.getInternalMediaKeys=function(){return this.Hc},i.wc=function(t){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.qc){t.next=2;break}throw new Nc(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return t.abrupt("return",new Dc(this.Hc,this.Lc,this.qc));case 3:case"end":return t.stop()}},null,this,null,j)},i.gc=function(t){return this.qc=xs(t),j.resolve(!0)},i.yc=function(t){return t.webkitSetMediaKeys(this.Hc),j.resolve()},i.mc=function(t){return t.webkitSetMediaKeys(null),j.resolve()},t}(),Ac=function(){function t(t,n){this.Zo=t,this.Fc=n}var n=t.prototype;return n.kc=function(){return this.Fc},n._c=function(){var t=new Z.WebKitMediaKeys(this.Zo);return j.resolve(new Oc(t,this.Zo,this.Fc))},ft(t,[{key:"dc",get:function(){return this.Zo}}]),t}(),Pc=function(){function t(){}return t.prototype.Er=function(t,n){try{return j.resolve(function(t,n){if(t!==Mr)throw new h(t+" is not supported with webkit-prefixed Encrypted Media Extensions.");if(!xc())throw new h("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=vc(Lc,Ou,t,e);if(r)return new Ac(t,r)}throw new h("Unsupported key system configuration for "+t)}(t,n))}catch(t){return j.reject(t)}},t.Sc=function(){return xc()},t}();function xc(){return void 0!==Z.WebKitMediaKeys&&"function"==typeof Z.WebKitMediaKeys.isTypeSupported}function Lc(t,n){return Z.WebKitMediaKeys.isTypeSupported(t,n)}var Bc,Mc=function(){function t(t){this.jc=t}return t.prototype.Er=function(t,n){var i,e,r;return lr.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=0,e=this.jc;case 1:if(!(i<e.length)){u.next=14;break}return r=e[i],u.prev=3,u.next=6,lr.awrap(r.Er(t,n));case 6:return u.abrupt("return",u.sent);case 9:u.prev=9,u.t0=u.catch(3);case 11:i++,u.next=1;break;case 14:throw new h("Unsupported key system configuration for "+t);case 15:case"end":return u.stop()}},null,this,[[3,9]],j)},t}(),Fc=function(t){function n(n){var i;return(i=t.call(this)||this).Ic=void 0,i.Uc=void 0,i.Ec=void 0,i.$u=!1,i.$c=void 0,i.Xc=void 0,i.Gc=void 0,i.Yc=void 0,i.Kc=void 0,i.Zo=n,i.Ec=new Fs,i.Xc="",i.Kc=new Fs,i.Gc=new Mu,i}vt(n,t);var i=n.prototype;return i.Jc=function(){this.Uc&&(this.Pc("usable"),this.Uc.xu(void 0),this.Uc=void 0)},i.Qc=function(t){var n=new qs("Unknown CDM error",t.errorCode,t.systemCode);this.Uc?(this.Uc.Lu(n),this.Uc=void 0):this.Ic?(this.Ic.Lu(n),this.Ic=void 0):n.Bu===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.Pc("output-restricted"):1===n.Mu?this.Pc("expired"):this.Pc("internal-error")},i.Zc=function(t){0!==t.message.byteLength&&(this.Ic&&(this.Ic.xu(void 0),this.Ic=void 0),this.Yr(new Pu(this,"license-request",Ws(this.Zo,Bs(t.message).buffer),t.defaultURL||void 0)))},i.ta=function(t){this.Yc||(this.Yc=t,this.Kc.xu(t))},i.ic=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed(),this.$u=!0,this.Ec.xu(void 0);case 3:case"end":return t.stop()}},null,this,null,j)},i.ec=function(t,n){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.Ic=new Fs,this.$c=xs(n),t.t0=this.Yc,t.t0){t.next=8;break}return t.next=7,lr.awrap(this.Kc.Ou);case 7:t.t0=t.sent;case 8:return t.t0.webkitGenerateKeyRequest(this.Zo,this.$c),t.next=12,lr.awrap(this.Ic.Ou);case 12:case"end":return t.stop()}},null,this,null,j)},i.rc=function(t){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.throwIfClosed(),t.abrupt("return",!1);case 2:case"end":return t.stop()}},null,this,null,j)},i.uc=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed();case 1:case"end":return t.stop()}},null,this,null,j)},i.sc=function(t){return lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.throwIfClosed(),this.Uc=new Fs,n.t0=this.Yc,n.t0){n.next=7;break}return n.next=6,lr.awrap(this.Kc.Ou);case 6:n.t0=n.sent;case 7:return n.t0.webkitAddKey(this.Zo,xs(t),this.$c,this.hc),n.next=11,lr.awrap(this.Uc.Ou);case 11:case"end":return n.stop()}},null,this,null,j)},i.throwIfClosed=function(){if(this.$u)throw new h("Already closing or closed.")},i.Pc=function(t){this.Gc._u(),this.Gc.pu(Bu,t),this.Yr(new Au(this))},ft(n,[{key:"fc",get:function(){return this.Gc}},{key:"hc",get:function(){return this.Xc},set:function(t){this.Xc=t}},{key:"cc",get:function(){return this.Ec.Ou}},{key:"ac",get:function(){return NaN}}]),n}(Iu),Uc=function(){function t(t,n){var i=this;this.Yc=void 0,this.na=yr(),this.ia=[],this.Ac=function(t){var n=i.ea(t.sessionId);n&&n.Jc()},this.ra=function(t){var n=i.ea(t.sessionId);n&&n.Qc(t)},this.ua=function(t){var n=i.ea(t.sessionId);n&&n.Zc(t)},this.dc=t,this.lc=n}var n=t.prototype;return n.yc=function(t){return this.Yc=t,this.Yc.addEventListener("webkitkeyadded",this.Ac),this.Yc.addEventListener("webkitkeyerror",this.ra),this.Yc.addEventListener("webkitkeymessage",this.ua),this.na.forEach(function(n,i){return n.ta(t)}),this.ia.forEach(function(n){return n.ta(t)}),j.resolve()},n.mc=function(t){return t.removeEventListener("webkitkeyadded",this.Ac),t.removeEventListener("webkitkeyerror",this.ra),t.removeEventListener("webkitkeymessage",this.ua),this.Yc=void 0,j.resolve()},n.wc=function(t,n,i){var e;return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new Fc(this.dc),this.Yc&&e.ta(this.Yc),this.ia.push(e),t.abrupt("return",e);case 4:case"end":return t.stop()}},null,this,null,j)},n.gc=function(t){return j.resolve(!1)},n.ea=function(t){if(t){var n=this.na.get(t);return n||((n=this.ia.shift())?(n.hc=t,this.na.set(t,n),n):void 0)}},t}(),Vc=function(){function t(t,n){this.dc=t,this.sa=n}var n=t.prototype;return n._c=function(){return j.resolve(new Uc(this.dc,this.sa))},n.kc=function(){return this.sa},t}(),Wc=function(){function t(){}return t.prototype.Er=function(t,n){try{return j.resolve(Hc(t,n))}catch(t){return j.reject(t)}},t.Sc=function(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest},t}();function Hc(t,n){if(!Wc.Sc())throw new h("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=vc(qc,Nu,t,e);if(r)return new Vc(t,r)}throw new h("Unsupported key system configuration for "+t)}function qc(t,n){var i=Xe();return!(!i||!i.canPlayType||""===i.canPlayType(n,t))}function zc(){return Bc||(Bc=function(){var t=[];Pc.Sc()&&t.push(new Pc);bc.Sc()&&t.push(new bc);Tc.Sc()&&t.push(new Tc);Wc.Sc()&&t.push(new Wc);return new Mc(t)}()),Bc}var jc=function(){function t(){this.oa=yr()}var n=t.prototype;return n._u=function(t){this.oa.delete(t)},n.ca=function(){this.oa.clear()},n.mu=function(t){return this.oa.get(t)},n.aa=function(t,n){this.oa.set(t,n)},t}(),$c=function(){function t(){}return t.fa=function(){return t.Zn||(t.Zn=Xc.Sc()?new Xc:new jc),t.Zn},t._u=function(n){t.fa()._u(n)},t.ca=function(){t.fa().ca()},t.mu=function(n){return t.fa().mu(n)},t.aa=function(n,i){t.fa().aa(n,i)},t}();$c.Zn=void 0;var Xc=function(n){function i(){return n.apply(this,arguments)||this}vt(i,n),i.Sc=function(){try{return t.sessionStorage.setItem("foobar","foobar"),t.sessionStorage.removeItem("foobar"),!0}catch(t){return!1}};var e=i.prototype;return e._u=function(n){t.sessionStorage.removeItem(n)},e.ca=function(){t.sessionStorage.clear()},e.mu=function(n){return t.sessionStorage[n]},e.aa=function(n,i){t.sessionStorage[n]=i},i}($c);var Gc=function(){var n,i=t.Blob;if(i)try{return new i,n=i,function(t,i){return new n(t,i)}}catch(t){}var e,r=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder;if(r)return e=r,function(t,n){var i=new e;if(t)for(var r=0;r<t.length;r++){var u=t[r];i.append(u)}return i.getBlob(n&&n.type||"")}}();function Yc(t,n,i){var r=Gc([n],{type:"application/octet-stream"}),u=URL.createObjectURL(r),s=function(t,n){var i=t,e=i.indexOf("?");if(e>=0&&(i=i.substr(0,e)),i=i.substr(i.lastIndexOf("/")+1),n){var r=i.indexOf(".");r<0&&(r=i.length),i=i.substr(0,r)+n+i.substr(r)}return i}(t,i),o=e.createElement("a");o.href=u,o.download=s,e.body.appendChild(o),o.click(),e.body.removeChild(o),URL.revokeObjectURL(u)}var Kc,Jc;!function(t){t.ha="va",t.da="la",t.wa="contentprotectionerror",t.ga="contentprotectionsuccess",t.ya="currentsourcechange",t.ma="destroy",t.ba="durationchange",t.pa="emptied",t.hu="encrypted",t._a="ended",t.ka="Ta",t.Sa="loadstart",t.Ea="manifestupdate",t.Ra="nosupportedrepresentationfound",t.Ia="offline",t.Da="online",t.Ca="pause",t.Na="play",t.Oa="progress",t.Aa="ratechange",t.Pa="representationchange",t.xa="resize",t.La="seeked",t.Ba="seeking",t.Ma="segmentnotfound",t.Fa="Ua",t.Va="Wa",t.Ha="sourcechange",t.qa="timeupdate",t.za="volumechange",t.ja="$a",t.Xa="metricschange"}(Kc||(Kc={})),function(t){t.Ga="arraybuffer",t.Ya="json",t.Ka="stream",t.ri="text"}(Jc||(Jc={}));var Qc=function(){function t(n){var i=this;this.sr=void 0,this.sr={},n instanceof t?n.asList().forEach(function(t){var n=t[0],e=t[1];i.append(n,e)}):Array.isArray(n)?n.forEach(function(t){i.append(t[0],t[1])}):n&&v.getOwnPropertyNames(n).forEach(function(t){i.append(t,n[t])})}var n=t.prototype;return n.append=function(t,n){var i=t,e=n;i=Zc(i),e=ta(e);var r=i.toLowerCase();if(this.sr.hasOwnProperty(r)){var u=this.sr[r],s=u[1];u[1]=s?s+", "+e:e}else this.sr[r]=[i,e]},n.delete=function(t){var n=Zc(t).toLowerCase();delete this.sr[n]},n.get=function(t){var n=Zc(t).toLowerCase();return this.sr.hasOwnProperty(n)?this.sr[n][1]:null},n.has=function(t){var n=Zc(t).toLowerCase();return this.sr.hasOwnProperty(n)},n.set=function(t,n){var i=t,e=(i=Zc(i)).toLowerCase();this.sr[e]=[i,ta(n)]},n.forEach=function(t,n){for(var i in this.sr)this.sr.hasOwnProperty(i)&&t.call(n,this.sr[i][1],i,this)},n.asList=function(){var t=[];for(var n in this.sr)if(this.sr.hasOwnProperty(n)){var i=this.sr[n],e=i[0],r=i[1];t.push([e,r])}return t},n.Ja=function(){var t={};return this.forEach(function(n,i){t[i]=n}),t},n.Qa=function(t){var n=this;t.forEach(function(t,i){n.append(i,t)})},n.Za=function(t){var n=this;t.forEach(function(t,i){n.set(i,t)})},t}();function Zc(t){var n=t;if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(n))throw new h("Invalid character in header field name");return n}function ta(t){var n=t;return"string"!=typeof n&&(n=String(n)),n}var na="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(t){return"Symbol("+t+")"};function ia(){}var ea=void 0!==t?t:void 0!==i?i:"undefined"!=typeof global?global:void 0;function ra(t){return"object"==typeof t&&null!==t||"function"==typeof t}var ua=ia,sa=j,oa=j.prototype.then,ca=j.resolve.bind(sa),aa=j.reject.bind(sa);function fa(t){return new sa(t)}function ha(t){return ca(t)}function va(t){return aa(t)}function da(t,n,i){return oa.call(t,n,i)}function la(t,n,i){da(da(t,n,i),void 0,ua)}function wa(t,n){la(t,n)}function ga(t,n){la(t,void 0,n)}function ya(t,n,i){return da(t,n,i)}function ma(t){da(t,void 0,ua)}var ba=function(){var t=ea&&ea.queueMicrotask;if("function"==typeof t)return t;var n=ha(void 0);return function(t){return da(n,t)}}();function pa(t,n,i){if("function"!=typeof t)throw new h("Argument is not a function");return Function.prototype.apply.call(t,n,i)}function _a(t,n,i){try{return ha(pa(t,n,i))}catch(t){return va(t)}}var ka=function(){function t(){this.tf=0,this.nf=0,this.N={if:[],ef:void 0},this.rf=this.N,this.tf=0,this.nf=0}return v.defineProperty(t.prototype,"length",{get:function(){return this.nf},enumerable:!1,configurable:!0}),t.prototype.push=function(t){var n=this.rf,i=n;16383===n.if.length&&(i={if:[],ef:void 0}),n.if.push(t),i!==n&&(this.rf=i,n.ef=i),++this.nf},t.prototype.shift=function(){var t=this.N,n=t,i=this.tf,e=i+1,r=t.if,u=r[i];return 16384===e&&(n=t.ef,e=0),--this.nf,this.tf=e,t!==n&&(this.N=n),r[i]=void 0,u},t.prototype.forEach=function(t){for(var n=this.tf,i=this.N,e=i.if;!(n===e.length&&void 0===i.ef||n===e.length&&(n=0,0===(e=(i=i.ef).if).length));)t(e[n]),++n},t.prototype.peek=function(){var t=this.N,n=this.tf;return t.if[n]},t}();function Ta(t,n){t.uf=n,n.sf=t,"readable"===n.o?Ia(t):"closed"===n.o?function(t){Ia(t),Na(t)}(t):Da(t,n.cf)}function Sa(t,n){return Rv(t.uf,n)}function Ea(t){"readable"===t.uf.o?Ca(t,new h("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,n){Da(t,n)}(t,new h("Reader was released and can no longer be used to monitor the stream's closedness")),t.uf.sf=void 0,t.uf=void 0}function Ra(t){return new h("Cannot "+t+" a stream using a released reader")}function Ia(t){t.Go=fa(function(n,i){t.af=n,t.ff=i})}function Da(t,n){Ia(t),Ca(t,n)}function Ca(t,n){void 0!==t.ff&&(ma(t.Go),t.ff(n),t.af=void 0,t.ff=void 0)}function Na(t){void 0!==t.af&&(t.af(void 0),t.af=void 0,t.ff=void 0)}var Oa=na("[[AbortSteps]]"),Aa=na("[[ErrorSteps]]"),Pa=na("[[CancelSteps]]"),xa=na("[[PullSteps]]"),La=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},Ba=d.trunc||function(t){return t<0?d.ceil(t):d.floor(t)};function Ma(t,n){if(void 0!==t&&("object"!=typeof(i=t)&&"function"!=typeof i))throw new h(n+" is not an object.");var i}function Fa(t,n){if("function"!=typeof t)throw new h(n+" is not a function.")}function Ua(t,n){if(!function(t){return"object"==typeof t&&null!==t||"function"==typeof t}(t))throw new h(n+" is not an object.")}function Va(t,n,i){if(void 0===t)throw new h("Parameter "+n+" is required in '"+i+"'.")}function Wa(t,n,i){if(void 0===t)throw new h(n+" is required in '"+i+"'.")}function Ha(t){return Number(t)}function qa(t){return 0===t?0:t}function za(t,n){var i=Number.MAX_SAFE_INTEGER,e=Number(t);if(e=qa(e),!La(e))throw new h(n+" is not a finite number");if((e=function(t){return qa(Ba(t))}(e))<0||e>i)throw new h(n+" is outside the accepted range of 0 to "+i+", inclusive");return La(e)&&0!==e?e:0}function ja(t,n){if(!Sv(t))throw new h(n+" is not a ReadableStream.")}function $a(t){return new Za(t)}function Xa(t,n){t.sf.hf.push(n)}function Ga(t,n,i){var e=t.sf.hf.shift();i?e.vf():e.df(n)}function Ya(t){return t.sf.hf.length}function Ka(t){var n=t.sf;return void 0!==n&&!!tf(n)}var Ja,Qa,Za=function(){function t(t){if(Va(t,1,"ReadableStreamDefaultReader"),ja(t,"First parameter"),Ev(t))throw new h("This stream has already been locked for exclusive reading by another reader");Ta(this,t),this.hf=new ka}return v.defineProperty(t.prototype,"closed",{get:function(){return tf(this)?this.Go:va(ef("closed"))},enumerable:!1,configurable:!0}),t.prototype.cancel=function(t){return void 0===t&&(t=void 0),tf(this)?void 0===this.uf?va(Ra("cancel")):Sa(this,t):va(ef("cancel"))},t.prototype.read=function(){if(!tf(this))return va(ef("read"));if(void 0===this.uf)return va(Ra("read from"));var t,n,i=fa(function(i,e){t=i,n=e});return nf(this,{df:function(n){return t({value:n,done:!1})},vf:function(){return t({value:void 0,done:!0})},lf:function(t){return n(t)}}),i},t.prototype.releaseLock=function(){if(!tf(this))throw ef("releaseLock");if(void 0!==this.uf){if(this.hf.length>0)throw new h("Tried to release a reader lock when that reader has pending read() calls un-settled");Ea(this)}},t}();function tf(t){return!!ra(t)&&(!!v.prototype.hasOwnProperty.call(t,"hf")&&t instanceof Za)}function nf(t,n){var i=t.uf;i.wf=!0,"closed"===i.o?n.vf():"errored"===i.o?n.lf(i.cf):i.gf[xa](n)}function ef(t){return new h("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}v.defineProperties(Za.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof na.toStringTag&&v.defineProperty(Za.prototype,na.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0}),"symbol"==typeof na.asyncIterator&&((Ja={})[na.asyncIterator]=function(){return this},Qa=Ja,v.defineProperty(Qa,na.asyncIterator,{enumerable:!1}));var rf=function(){function t(t,n){this.yf=void 0,this.mf=!1,this.sf=t,this.bf=n}return t.prototype.next=function(){var t=this,n=function(){return t.pf()};return this.yf=this.yf?ya(this.yf,n,n):n(),this.yf},t.prototype.return=function(t){var n=this,i=function(){return n._f(t)};return this.yf?ya(this.yf,i,i):i()},t.prototype.pf=function(){var t=this;if(this.mf)return j.resolve({value:void 0,done:!0});var n,i,e=this.sf;if(void 0===e.uf)return va(Ra("iterate"));var r=fa(function(t,e){n=t,i=e});return nf(e,{df:function(i){t.yf=void 0,ba(function(){return n({value:i,done:!1})})},vf:function(){t.yf=void 0,t.mf=!0,Ea(e),n({value:void 0,done:!0})},lf:function(n){t.yf=void 0,t.mf=!0,Ea(e),i(n)}}),r},t.prototype._f=function(t){if(this.mf)return j.resolve({value:t,done:!0});this.mf=!0;var n=this.sf;if(void 0===n.uf)return va(Ra("finish iterating"));if(!this.bf){var i=Sa(n,t);return Ea(n),ya(i,function(){return{value:t,done:!0}})}return Ea(n),ha({value:t,done:!0})},t}(),uf={next:function(){return sf(this)?this.kf.next():va(of("next"))},return:function(t){return sf(this)?this.kf.return(t):va(of("return"))}};function sf(t){if(!ra(t))return!1;if(!v.prototype.hasOwnProperty.call(t,"kf"))return!1;try{return t.kf instanceof rf}catch(t){return!1}}function of(t){return new h("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}void 0!==Qa&&v.setPrototypeOf(uf,Qa);var cf=Number.isNaN||function(t){return t!=t};function af(t){return t.slice()}function ff(t,n,i,e,r){new y(t).set(new y(i,e,r),n)}function hf(t){return t}function vf(t,n,i){if(t.slice)return t.slice(n,i);var e=i-n,r=new ArrayBuffer(e);return ff(r,0,t,n,e),r}function df(t){var n=vf(t.buffer,t.byteOffset,t.byteOffset+t.byteLength);return new y(n)}function lf(t){var n=t.Tf.shift();return t.Sf-=n.size,t.Sf<0&&(t.Sf=0),n.value}function wf(t,n,i){if("number"!=typeof(e=i)||cf(e)||e<0||i===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");var e;t.Tf.push({value:n,size:i}),t.Sf+=i}function gf(t){t.Tf=new ka,t.Sf=0}var yf=function(){function t(){throw new h("Illegal constructor")}return v.defineProperty(t.prototype,"view",{get:function(){if(!pf(this))throw Hf("view");return this.Ef},enumerable:!1,configurable:!0}),t.prototype.respond=function(t){if(!pf(this))throw Hf("respond");if(Va(t,1,"respond"),t=za(t,"First parameter"),void 0===this.Rf)throw new h("This BYOB request has been invalidated");this.Ef.buffer,Uf(this.Rf,t)},t.prototype.respondWithNewView=function(t){if(!pf(this))throw Hf("respondWithNewView");if(Va(t,1,"respondWithNewView"),!ArrayBuffer.isView(t))throw new h("You can only respond with array buffer views");if(void 0===this.Rf)throw new h("This BYOB request has been invalidated");t.buffer,Vf(this.Rf,t)},t}();v.defineProperties(yf.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),"symbol"==typeof na.toStringTag&&v.defineProperty(yf.prototype,na.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});var mf=function(){function t(){throw new h("Illegal constructor")}return v.defineProperty(t.prototype,"byobRequest",{get:function(){if(!bf(this))throw qf("byobRequest");return Mf(this)},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"desiredSize",{get:function(){if(!bf(this))throw qf("desiredSize");return Ff(this)},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(!bf(this))throw qf("close");if(this.If)throw new h("The stream has already been closed; do not close it again!");var t=this.Df.o;if("readable"!==t)throw new h("The stream (in "+t+" state) is not in the readable state and cannot be closed");xf(this)},t.prototype.enqueue=function(t){if(!bf(this))throw qf("enqueue");if(Va(t,1,"enqueue"),!ArrayBuffer.isView(t))throw new h("chunk must be an array buffer view");if(0===t.byteLength)throw new h("chunk must have non-zero byteLength");if(0===t.buffer.byteLength)throw new h("chunk's buffer must have non-zero byteLength");if(this.If)throw new h("stream is closed or draining");var n=this.Df.o;if("readable"!==n)throw new h("The stream (in "+n+" state) is not in the readable state and cannot be enqueued to");Lf(this,t)},t.prototype.error=function(t){if(void 0===t&&(t=void 0),!bf(this))throw qf("error");Bf(this,t)},t.prototype[Pa]=function(t){kf(this),gf(this);var n=this.Cf(t);return Pf(this),n},t.prototype[xa]=function(t){var n=this.Df;if(this.Sf>0){var i=this.Tf.shift();this.Sf-=i.byteLength,Df(this);var e=new y(i.buffer,i.byteOffset,i.byteLength);t.df(e)}else{var r=this.Nf;if(void 0!==r){var u=void 0;try{u=new ArrayBuffer(r)}catch(n){return void t.lf(n)}var s={buffer:u,bufferByteLength:r,byteOffset:0,byteLength:r,bytesFilled:0,elementSize:1,viewConstructor:y,readerType:"default"};this.Of.push(s)}Xa(n,t),_f(this)}},t}();function bf(t){return!!ra(t)&&(!!v.prototype.hasOwnProperty.call(t,"Df")&&t instanceof mf)}function pf(t){return!!ra(t)&&(!!v.prototype.hasOwnProperty.call(t,"Rf")&&t instanceof yf)}function _f(t){(function(t){var n=t.Df;if("readable"!==n.o)return!1;if(t.If)return!1;if(!t.Af)return!1;if(Ka(n)&&Ya(n)>0)return!0;if(Xf(n)&&$f(n)>0)return!0;if(Ff(t)>0)return!0;return!1})(t)&&(t.Pf?t.xf=!0:(t.Pf=!0,la(t.Lf(),function(){t.Pf=!1,t.xf&&(t.xf=!1,_f(t))},function(n){Bf(t,n)})))}function kf(t){Cf(t),t.Of=new ka}function Tf(t,n){var i=!1;"closed"===t.o&&(i=!0);var e=Sf(n);"default"===n.readerType?Ga(t,e,i):function(t,n,i){var e=t.sf.Bf.shift();i?e.vf(n):e.df(n)}(t,e,i)}function Sf(t){var n=t.bytesFilled,i=t.elementSize;return new t.viewConstructor(t.buffer,t.byteOffset,n/i)}function Ef(t,n,i,e){t.Tf.push({buffer:n,byteOffset:i,byteLength:e}),t.Sf+=e}function Rf(t,n){var i=n.elementSize,e=n.bytesFilled-n.bytesFilled%i,r=d.min(t.Sf,n.byteLength-n.bytesFilled),u=n.bytesFilled+r,s=u-u%i,o=r,c=!1;s>e&&(o=s-n.bytesFilled,c=!0);for(var a=t.Tf;o>0;){var f=a.peek(),h=d.min(o,f.byteLength),v=n.byteOffset+n.bytesFilled;ff(n.buffer,v,f.buffer,f.byteOffset,h),f.byteLength===h?a.shift():(f.byteOffset+=h,f.byteLength-=h),t.Sf-=h,If(t,h,n),o-=h}return c}function If(t,n,i){i.bytesFilled+=n}function Df(t){0===t.Sf&&t.If?(Pf(t),Iv(t.Df)):_f(t)}function Cf(t){null!==t.Mf&&(t.Mf.Rf=void 0,t.Mf.Ef=null,t.Mf=null)}function Nf(t){for(;t.Of.length>0;){if(0===t.Sf)return;var n=t.Of.peek();Rf(t,n)&&(Af(t),Tf(t.Df,n))}}function Of(t,n){var i=t.Of.peek();Cf(t),"closed"===t.Df.o?function(t,n){var i=t.Df;if(Xf(i))for(;$f(i)>0;)Tf(i,Af(t))}(t):function(t,n,i){if(If(0,n,i),!(i.bytesFilled<i.elementSize)){Af(t);var e=i.bytesFilled%i.elementSize;if(e>0){var r=i.byteOffset+i.bytesFilled,u=vf(i.buffer,r-e,r);Ef(t,u,0,u.byteLength)}i.bytesFilled-=e,Tf(t.Df,i),Nf(t)}}(t,n,i),_f(t)}function Af(t){return t.Of.shift()}function Pf(t){t.Lf=void 0,t.Cf=void 0}function xf(t){var n=t.Df;if(!t.If&&"readable"===n.o)if(t.Sf>0)t.If=!0;else{if(t.Of.length>0)if(t.Of.peek().bytesFilled>0){var i=new h("Insufficient bytes to fill elements in the given buffer");throw Bf(t,i),i}Pf(t),Iv(n)}}function Lf(t,n){var i=t.Df;if(!t.If&&"readable"===i.o){var e=n.buffer,r=n.byteOffset,u=n.byteLength,s=hf(e);if(t.Of.length>0){var o=t.Of.peek();o.buffer,0,o.buffer=hf(o.buffer)}if(Cf(t),Ka(i))if(0===Ya(i))Ef(t,s,r,u);else t.Of.length>0&&Af(t),Ga(i,new y(s,r,u),!1);else Xf(i)?(Ef(t,s,r,u),Nf(t)):Ef(t,s,r,u);_f(t)}}function Bf(t,n){var i=t.Df;"readable"===i.o&&(kf(t),gf(t),Pf(t),Dv(i,n))}function Mf(t){if(null===t.Mf&&t.Of.length>0){var n=t.Of.peek(),i=new y(n.buffer,n.byteOffset+n.bytesFilled,n.byteLength-n.bytesFilled),e=v.create(yf.prototype);!function(t,n,i){t.Rf=n,t.Ef=i}(e,t,i),t.Mf=e}return t.Mf}function Ff(t){var n=t.Df.o;return"errored"===n?null:"closed"===n?0:t.Ff-t.Sf}function Uf(t,n){var i=t.Of.peek();if("closed"===t.Df.o){if(0!==n)throw new h("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(0===n)throw new h("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(i.bytesFilled+n>i.byteLength)throw new RangeError("bytesWritten out of range")}i.buffer=hf(i.buffer),Of(t,n)}function Vf(t,n){var i=t.Of.peek();if("closed"===t.Df.o){if(0!==n.byteLength)throw new h("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(0===n.byteLength)throw new h("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(i.byteOffset+i.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.bufferByteLength!==n.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(i.bytesFilled+n.byteLength>i.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");var e=n.byteLength;i.buffer=hf(n.buffer),Of(t,e)}function Wf(t,n,i,e,r,u,s){n.Df=t,n.xf=!1,n.Pf=!1,n.Mf=null,n.Tf=n.Sf=void 0,gf(n),n.If=!1,n.Af=!1,n.Ff=u,n.Lf=e,n.Cf=r,n.Nf=s,n.Of=new ka,t.gf=n,la(ha(i()),function(){n.Af=!0,_f(n)},function(t){Bf(n,t)})}function Hf(t){return new h("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function qf(t){return new h("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function zf(t){return new Gf(t)}function jf(t,n){t.sf.Bf.push(n)}function $f(t){return t.sf.Bf.length}function Xf(t){var n=t.sf;return void 0!==n&&!!Yf(n)}v.defineProperties(mf.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof na.toStringTag&&v.defineProperty(mf.prototype,na.toStringTag,{value:"ReadableByteStreamController",configurable:!0});var Gf=function(){function t(t){if(Va(t,1,"ReadableStreamBYOBReader"),ja(t,"First parameter"),Ev(t))throw new h("This stream has already been locked for exclusive reading by another reader");if(!bf(t.gf))throw new h("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");Ta(this,t),this.Bf=new ka}return v.defineProperty(t.prototype,"closed",{get:function(){return Yf(this)?this.Go:va(Jf("closed"))},enumerable:!1,configurable:!0}),t.prototype.cancel=function(t){return void 0===t&&(t=void 0),Yf(this)?void 0===this.uf?va(Ra("cancel")):Sa(this,t):va(Jf("cancel"))},t.prototype.read=function(t){if(!Yf(this))return va(Jf("read"));if(!ArrayBuffer.isView(t))return va(new h("view must be an array buffer view"));if(0===t.byteLength)return va(new h("view must have non-zero byteLength"));if(0===t.buffer.byteLength)return va(new h("view's buffer must have non-zero byteLength"));if(t.buffer,void 0===this.uf)return va(Ra("read from"));var n,i,e=fa(function(t,e){n=t,i=e});return Kf(this,t,{df:function(t){return n({value:t,done:!1})},vf:function(t){return n({value:t,done:!0})},lf:function(t){return i(t)}}),e},t.prototype.releaseLock=function(){if(!Yf(this))throw Jf("releaseLock");if(void 0!==this.uf){if(this.Bf.length>0)throw new h("Tried to release a reader lock when that reader has pending read() calls un-settled");Ea(this)}},t}();function Yf(t){return!!ra(t)&&(!!v.prototype.hasOwnProperty.call(t,"Bf")&&t instanceof Gf)}function Kf(t,n,i){var e=t.uf;e.wf=!0,"errored"===e.o?i.lf(e.cf):function(t,n,i){var e=t.Df,r=1;n.constructor!==DataView&&(r=n.constructor.BYTES_PER_ELEMENT);var u=n.constructor,s=hf(n.buffer),o={buffer:s,bufferByteLength:s.byteLength,byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:r,viewConstructor:u,readerType:"byob"};if(t.Of.length>0)return t.Of.push(o),void jf(e,i);if("closed"!==e.o){if(t.Sf>0){if(Rf(t,o)){var c=Sf(o);return Df(t),void i.df(c)}if(t.If){var a=new h("Insufficient bytes to fill elements in the given buffer");return Bf(t,a),void i.lf(a)}}t.Of.push(o),jf(e,i),_f(t)}else{var f=new u(o.buffer,o.byteOffset,0);i.vf(f)}}(e.gf,n,i)}function Jf(t){return new h("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}function Qf(t,n){var i=t.highWaterMark;if(void 0===i)return n;if(cf(i)||i<0)throw new RangeError("Invalid highWaterMark");return i}function Zf(t){var n=t.size;return n||function(){return 1}}function th(t,n){Ma(t,n);var i=null==t?void 0:t.highWaterMark,e=null==t?void 0:t.size;return{highWaterMark:void 0===i?void 0:Ha(i),size:void 0===e?void 0:nh(e,n+" has member 'size' that")}}function nh(t,n){return Fa(t,n),function(n){return Ha(t(n))}}function ih(t,n,i){return Fa(t,i),function(i){return _a(t,n,[i])}}function eh(t,n,i){return Fa(t,i),function(){return _a(t,n,[])}}function rh(t,n,i){return Fa(t,i),function(i){return pa(t,n,[i])}}function uh(t,n,i){return Fa(t,i),function(i,e){return _a(t,n,[i,e])}}function sh(t,n){if(!hh(t))throw new h(n+" is not a WritableStream.")}v.defineProperties(Gf.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof na.toStringTag&&v.defineProperty(Gf.prototype,na.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});var oh="function"==typeof AbortController;var ch=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),void 0===t?t=null:Ua(t,"First parameter");var i=th(n,"Second parameter"),e=function(t,n){Ma(t,n);var i=null==t?void 0:t.abort,e=null==t?void 0:t.close,r=null==t?void 0:t.start,u=null==t?void 0:t.type,s=null==t?void 0:t.write;return{abort:void 0===i?void 0:ih(i,t,n+" has member 'abort' that"),close:void 0===e?void 0:eh(e,t,n+" has member 'close' that"),start:void 0===r?void 0:rh(r,t,n+" has member 'start' that"),write:void 0===s?void 0:uh(s,t,n+" has member 'write' that"),type:u}}(t,"First parameter");if(fh(this),void 0!==e.type)throw new RangeError("Invalid type is specified");var r=Zf(i);!function(t,n,i,e){var r=v.create(Ch.prototype),u=function(){},s=function(){return ha(void 0)},o=function(){return ha(void 0)},c=function(){return ha(void 0)};void 0!==n.start&&(u=function(){return n.start(r)});void 0!==n.write&&(s=function(t){return n.write(t,r)});void 0!==n.close&&(o=function(){return n.close()});void 0!==n.abort&&(c=function(t){return n.abort(t)});Oh(t,r,u,s,o,c,i,e)}(this,e,Qf(i,1),r)}return v.defineProperty(t.prototype,"locked",{get:function(){if(!hh(this))throw Fh("locked");return vh(this)},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){return void 0===t&&(t=void 0),hh(this)?vh(this)?va(new h("Cannot abort a stream that already has a writer")):dh(this,t):va(Fh("abort"))},t.prototype.close=function(){return hh(this)?vh(this)?va(new h("Cannot close a stream that already has a writer")):mh(this)?va(new h("Cannot close an already-closing stream")):lh(this):va(Fh("close"))},t.prototype.getWriter=function(){if(!hh(this))throw Fh("getWriter");return ah(this)},t}();function ah(t){return new _h(t)}function fh(t){t.o="writable",t.cf=void 0,t.Ku=void 0,t.Uf=void 0,t.Vf=new ka,t.Wf=void 0,t.Hf=void 0,t.qf=void 0,t.zf=void 0,t.jf=!1}function hh(t){return!!ra(t)&&(!!v.prototype.hasOwnProperty.call(t,"Uf")&&t instanceof ch)}function vh(t){return void 0!==t.Ku}function dh(t,n){var i;if("closed"===t.o||"errored"===t.o)return ha(void 0);t.Uf.$f=n,null===(i=t.Uf.Xf)||void 0===i||i.abort();var e=t.o;if("closed"===e||"errored"===e)return ha(void 0);if(void 0!==t.zf)return t.zf.Gf;var r=!1;"erroring"===e&&(r=!0,n=void 0);var u=fa(function(i,e){t.zf={Gf:void 0,Au:i,Pu:e,Yf:n,Kf:r}});return t.zf.Gf=u,r||gh(t,n),u}function lh(t){var n=t.o;if("closed"===n||"errored"===n)return va(new h("The stream (in "+n+" state) is not in the writable state and cannot be closed"));var i,e=fa(function(n,i){var e={Au:n,Pu:i};t.Hf=e}),r=t.Ku;return void 0!==r&&t.jf&&"writable"===n&&Kh(r),wf(i=t.Uf,Dh,0),xh(i),e}function wh(t,n){"writable"!==t.o?yh(t):gh(t,n)}function gh(t,n){var i=t.Uf;t.o="erroring",t.cf=n;var e=t.Ku;void 0!==e&&Eh(e,n),!function(t){if(void 0===t.Wf&&void 0===t.qf)return!1;return!0}(t)&&i.Af&&yh(t)}function yh(t){t.o="errored",t.Uf[Aa]();var n=t.cf;if(t.Vf.forEach(function(t){t.Pu(n)}),t.Vf=new ka,void 0!==t.zf){var i=t.zf;if(t.zf=void 0,i.Kf)return i.Pu(n),void bh(t);la(t.Uf[Oa](i.Yf),function(){i.Au(),bh(t)},function(n){i.Pu(n),bh(t)})}else bh(t)}function mh(t){return void 0!==t.Hf||void 0!==t.qf}function bh(t){void 0!==t.Hf&&(t.Hf.Pu(t.cf),t.Hf=void 0);var n=t.Ku;void 0!==n&&zh(n,t.cf)}function ph(t,n){var i=t.Ku;void 0!==i&&n!==t.jf&&(n?function(t){$h(t)}(i):Kh(i)),t.jf=n}v.defineProperties(ch.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof na.toStringTag&&v.defineProperty(ch.prototype,na.toStringTag,{value:"WritableStream",configurable:!0});var _h=function(){function t(t){if(Va(t,1,"WritableStreamDefaultWriter"),sh(t,"First parameter"),vh(t))throw new h("This stream has already been locked for exclusive writing by another writer");this.Jf=t,t.Ku=this;var n,i=t.o;if("writable"===i)!mh(t)&&t.jf?$h(this):Gh(this),Hh(this);else if("erroring"===i)Xh(this,t.cf),Hh(this);else if("closed"===i)Gh(this),Hh(n=this),jh(n);else{var e=t.cf;Xh(this,e),qh(this,e)}}return v.defineProperty(t.prototype,"closed",{get:function(){return kh(this)?this.Go:va(Vh("closed"))},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"desiredSize",{get:function(){if(!kh(this))throw Vh("desiredSize");if(void 0===this.Jf)throw Wh("desiredSize");return function(t){var n=t.Jf,i=n.o;if("errored"===i||"erroring"===i)return null;if("closed"===i)return 0;return Ph(n.Uf)}(this)},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"ready",{get:function(){return kh(this)?this.Qf:va(Vh("ready"))},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){return void 0===t&&(t=void 0),kh(this)?void 0===this.Jf?va(Wh("abort")):function(t,n){return dh(t.Jf,n)}(this,t):va(Vh("abort"))},t.prototype.close=function(){if(!kh(this))return va(Vh("close"));var t=this.Jf;return void 0===t?va(Wh("close")):mh(t)?va(new h("Cannot close an already-closing stream")):Th(this)},t.prototype.releaseLock=function(){if(!kh(this))throw Vh("releaseLock");void 0!==this.Jf&&Rh(this)},t.prototype.write=function(t){return void 0===t&&(t=void 0),kh(this)?void 0===this.Jf?va(Wh("write to")):Ih(this,t):va(Vh("write"))},t}();function kh(t){return!!ra(t)&&(!!v.prototype.hasOwnProperty.call(t,"Jf")&&t instanceof _h)}function Th(t){return lh(t.Jf)}function Sh(t,n){"pending"===t.Zf?zh(t,n):function(t,n){qh(t,n)}(t,n)}function Eh(t,n){"pending"===t.th?Yh(t,n):function(t,n){Xh(t,n)}(t,n)}function Rh(t){var n=t.Jf,i=new h("Writer was released and can no longer be used to monitor the stream's closedness");Eh(t,i),Sh(t,i),n.Ku=void 0,t.Jf=void 0}function Ih(t,n){var i=t.Jf,e=i.Uf,r=function(t,n){try{return t.nh(n)}catch(n){return Lh(t,n),1}}(e,n);if(i!==t.Jf)return va(Wh("write to"));var u=i.o;if("errored"===u)return va(i.cf);if(mh(i)||"closed"===u)return va(new h("The stream is closing or closed and cannot be written to"));if("erroring"===u)return va(i.cf);var s=function(t){return fa(function(n,i){var e={Au:n,Pu:i};t.Vf.push(e)})}(i);return function(t,n,i){try{wf(t,n,i)}catch(n){return void Lh(t,n)}var e=t.ih;if(!mh(e)&&"writable"===e.o){var r=Bh(t);ph(e,r)}xh(t)}(e,n,r),s}v.defineProperties(_h.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),"symbol"==typeof na.toStringTag&&v.defineProperty(_h.prototype,na.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});var Dh={},Ch=function(){function t(){throw new h("Illegal constructor")}return v.defineProperty(t.prototype,"abortReason",{get:function(){if(!Nh(this))throw Uh("abortReason");return this.$f},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"signal",{get:function(){if(!Nh(this))throw Uh("signal");if(void 0===this.Xf)throw new h("WritableStreamDefaultController.prototype.signal is not supported");return this.Xf.signal},enumerable:!1,configurable:!0}),t.prototype.error=function(t){if(void 0===t&&(t=void 0),!Nh(this))throw Uh("error");"writable"===this.ih.o&&Mh(this,t)},t.prototype[Oa]=function(t){var n=this.eh(t);return Ah(this),n},t.prototype[Aa]=function(){gf(this)},t}();function Nh(t){return!!ra(t)&&(!!v.prototype.hasOwnProperty.call(t,"ih")&&t instanceof Ch)}function Oh(t,n,i,e,r,u,s,o){n.ih=t,t.Uf=n,n.Tf=void 0,n.Sf=void 0,gf(n),n.$f=void 0,n.Xf=function(){if(oh)return new AbortController}(),n.Af=!1,n.nh=o,n.Ff=s,n.rh=e,n.uh=r,n.eh=u;var c=Bh(n);ph(t,c),la(ha(i()),function(){n.Af=!0,xh(n)},function(i){n.Af=!0,wh(t,i)})}function Ah(t){t.rh=void 0,t.uh=void 0,t.eh=void 0,t.nh=void 0}function Ph(t){return t.Ff-t.Sf}function xh(t){var n=t.ih;if(t.Af&&void 0===n.Wf)if("erroring"!==n.o){if(0!==t.Tf.length){var i=t.Tf.peek().value;i===Dh?function(t){var n=t.ih;(function(t){t.qf=t.Hf,t.Hf=void 0})(n),lf(t);var i=t.uh();Ah(t),la(i,function(){!function(t){t.qf.Au(void 0),t.qf=void 0,"erroring"===t.o&&(t.cf=void 0,void 0!==t.zf&&(t.zf.Au(),t.zf=void 0)),t.o="closed";var n=t.Ku;void 0!==n&&jh(n)}(n)},function(t){!function(t,n){t.qf.Pu(n),t.qf=void 0,void 0!==t.zf&&(t.zf.Pu(n),t.zf=void 0),wh(t,n)}(n,t)})}(t):function(t,n){var i=t.ih;(function(t){t.Wf=t.Vf.shift()})(i),la(t.rh(n),function(){!function(t){t.Wf.Au(void 0),t.Wf=void 0}(i);var n=i.o;if(lf(t),!mh(i)&&"writable"===n){var e=Bh(t);ph(i,e)}xh(t)},function(n){"writable"===i.o&&Ah(t),function(t,n){t.Wf.Pu(n),t.Wf=void 0,wh(t,n)}(i,n)})}(t,i)}}else yh(n)}function Lh(t,n){"writable"===t.ih.o&&Mh(t,n)}function Bh(t){return Ph(t)<=0}function Mh(t,n){var i=t.ih;Ah(t),gh(i,n)}function Fh(t){return new h("WritableStream.prototype."+t+" can only be used on a WritableStream")}function Uh(t){return new h("WritableStreamDefaultController.prototype."+t+" can only be used on a WritableStreamDefaultController")}function Vh(t){return new h("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function Wh(t){return new h("Cannot "+t+" a stream using a released writer")}function Hh(t){t.Go=fa(function(n,i){t.af=n,t.ff=i,t.Zf="pending"})}function qh(t,n){Hh(t),zh(t,n)}function zh(t,n){void 0!==t.ff&&(ma(t.Go),t.ff(n),t.af=void 0,t.ff=void 0,t.Zf="rejected")}function jh(t){void 0!==t.af&&(t.af(void 0),t.af=void 0,t.ff=void 0,t.Zf="resolved")}function $h(t){t.Qf=fa(function(n,i){t.sh=n,t.oh=i}),t.th="pending"}function Xh(t,n){$h(t),Yh(t,n)}function Gh(t){$h(t),Kh(t)}function Yh(t,n){void 0!==t.oh&&(ma(t.Qf),t.oh(n),t.sh=void 0,t.oh=void 0,t.th="rejected")}function Kh(t){void 0!==t.sh&&(t.sh(void 0),t.sh=void 0,t.oh=void 0,t.th="fulfilled")}v.defineProperties(Ch.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),"symbol"==typeof na.toStringTag&&v.defineProperty(Ch.prototype,na.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});var Jh="undefined"!=typeof DOMException?DOMException:void 0;var Qh,Zh=function(t){if("function"!=typeof t&&"object"!=typeof t)return!1;try{return new t,!0}catch(t){return!1}}(Jh)?Jh:((Qh=function(t,n){this.message=t||"",this.name=n||"Error",f.captureStackTrace&&f.captureStackTrace(this,this.constructor)}).prototype=v.create(f.prototype),v.defineProperty(Qh.prototype,"constructor",{value:Qh,writable:!0,configurable:!0}),Qh);function tv(t,n,i,e,r,u){var s=$a(t),o=ah(n);t.wf=!0;var c=!1,a=ha(void 0);return fa(function(f,v){var d,l,w,g;if(void 0!==u){if(d=function(){var i=new Zh("Aborted","AbortError"),u=[];e||u.push(function(){return"writable"===n.o?dh(n,i):ha(void 0)}),r||u.push(function(){return"readable"===t.o?Rv(t,i):ha(void 0)}),p(function(){return j.all(u.map(function(t){return t()}))},!0,i)},u.aborted)return void d();u.addEventListener("abort",d)}if(b(t,s.Go,function(t){e?_(!0,t):p(function(){return dh(n,t)},!0,t)}),b(n,o.Go,function(n){r?_(!0,n):p(function(){return Rv(t,n)},!0,n)}),l=t,w=s.Go,g=function(){i?_():p(function(){return function(t){var n=t.Jf,i=n.o;return mh(n)||"closed"===i?ha(void 0):"errored"===i?va(n.cf):Th(t)}(o)})},"closed"===l.o?g():wa(w,g),mh(n)||"closed"===n.o){var y=new h("the destination writable stream closed before all data could be piped to it");r?_(!0,y):p(function(){return Rv(t,y)},!0,y)}function m(){var t=a;return da(a,function(){return t!==a?m():void 0})}function b(t,n,i){"errored"===t.o?i(t.cf):ga(n,i)}function p(t,i,e){function r(){la(t(),function(){return k(i,e)},function(t){return k(!0,t)})}c||(c=!0,"writable"!==n.o||mh(n)?r():wa(m(),r))}function _(t,i){c||(c=!0,"writable"!==n.o||mh(n)?k(t,i):wa(m(),function(){return k(t,i)}))}function k(t,n){Rh(o),Ea(s),void 0!==u&&u.removeEventListener("abort",d),t?v(n):f(void 0)}ma(fa(function(t,n){!function i(e){e?t():da(c?ha(!0):da(o.Qf,function(){return fa(function(t,n){nf(s,{df:function(n){a=da(Ih(o,n),void 0,ia),t(!1)},vf:function(){return t(!0)},lf:n})})}),i,n)}(!1)}))})}var nv=function(){function t(){throw new h("Illegal constructor")}return v.defineProperty(t.prototype,"desiredSize",{get:function(){if(!iv(this))throw vv("desiredSize");return av(this)},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(!iv(this))throw vv("close");if(!fv(this))throw new h("The stream is not in a state that permits close");sv(this)},t.prototype.enqueue=function(t){if(void 0===t&&(t=void 0),!iv(this))throw vv("enqueue");if(!fv(this))throw new h("The stream is not in a state that permits enqueue");return ov(this,t)},t.prototype.error=function(t){if(void 0===t&&(t=void 0),!iv(this))throw vv("error");cv(this,t)},t.prototype[Pa]=function(t){gf(this);var n=this.Cf(t);return uv(this),n},t.prototype[xa]=function(t){var n=this.ah;if(this.Tf.length>0){var i=lf(this);this.If&&0===this.Tf.length?(uv(this),Iv(n)):ev(this),t.df(i)}else Xa(n,t),ev(this)},t}();function iv(t){return!!ra(t)&&(!!v.prototype.hasOwnProperty.call(t,"ah")&&t instanceof nv)}function ev(t){rv(t)&&(t.Pf?t.xf=!0:(t.Pf=!0,la(t.Lf(),function(){t.Pf=!1,t.xf&&(t.xf=!1,ev(t))},function(n){cv(t,n)})))}function rv(t){var n=t.ah;return!!fv(t)&&(!!t.Af&&(!!(Ev(n)&&Ya(n)>0)||av(t)>0))}function uv(t){t.Lf=void 0,t.Cf=void 0,t.nh=void 0}function sv(t){if(fv(t)){var n=t.ah;t.If=!0,0===t.Tf.length&&(uv(t),Iv(n))}}function ov(t,n){if(fv(t)){var i=t.ah;if(Ev(i)&&Ya(i)>0)Ga(i,n,!1);else{var e=void 0;try{e=t.nh(n)}catch(n){throw cv(t,n),n}try{wf(t,n,e)}catch(n){throw cv(t,n),n}}ev(t)}}function cv(t,n){var i=t.ah;"readable"===i.o&&(gf(t),uv(t),Dv(i,n))}function av(t){var n=t.ah.o;return"errored"===n?null:"closed"===n?0:t.Ff-t.Sf}function fv(t){var n=t.ah.o;return!t.If&&"readable"===n}function hv(t,n,i,e,r,u,s){n.ah=t,n.Tf=void 0,n.Sf=void 0,gf(n),n.Af=!1,n.If=!1,n.xf=!1,n.Pf=!1,n.nh=s,n.Ff=u,n.Lf=e,n.Cf=r,t.gf=n,la(ha(i()),function(){n.Af=!0,ev(n)},function(t){cv(n,t)})}function vv(t){return new h("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}function dv(t,n){return bf(t.gf)?function(t){var n,i,e,r,u,s=$a(t),o=!1,c=!1,a=!1,f=!1,h=!1,v=fa(function(t){u=t});function d(t){ga(t.Go,function(n){t===s&&(Bf(e.gf,n),Bf(r.gf,n),f&&h||u(void 0))})}function l(){Yf(s)&&(Ea(s),d(s=$a(t)));var n={df:function(n){ba(function(){c=!1,a=!1;var i=n,s=n;if(!f&&!h)try{s=df(n)}catch(n){return Bf(e.gf,n),Bf(r.gf,n),void u(Rv(t,n))}f||Lf(e.gf,i),h||Lf(r.gf,s),o=!1,c?g():a&&y()})},vf:function(){o=!1,f||xf(e.gf),h||xf(r.gf),e.gf.Of.length>0&&Uf(e.gf,0),r.gf.Of.length>0&&Uf(r.gf,0),f&&h||u(void 0)},lf:function(){o=!1}};nf(s,n)}function w(n,i){tf(s)&&(Ea(s),d(s=zf(t)));var v=i?r:e,l=i?e:r,w={df:function(n){ba(function(){c=!1,a=!1;var e=i?h:f,r=i?f:h;if(r)e||Vf(v.gf,n);else{var s=void 0;try{s=df(n)}catch(n){return Bf(v.gf,n),Bf(l.gf,n),void u(Rv(t,n))}e||Vf(v.gf,n),Lf(l.gf,s)}o=!1,c?g():a&&y()})},vf:function(t){o=!1;var n=i?h:f,e=i?f:h;n||xf(v.gf),e||xf(l.gf),void 0!==t&&(n||Vf(v.gf,t),!e&&l.gf.Of.length>0&&Uf(l.gf,0)),n&&e||u(void 0)},lf:function(){o=!1}};Kf(s,n,w)}function g(){if(o)return c=!0,ha(void 0);o=!0;var t=Mf(e.gf);return null===t?l():w(t.Ef,!1),ha(void 0)}function y(){if(o)return a=!0,ha(void 0);o=!0;var t=Mf(r.gf);return null===t?l():w(t.Ef,!0),ha(void 0)}function m(){}return e=kv(m,g,function(e){if(f=!0,n=e,h){var r=af([n,i]),s=Rv(t,r);u(s)}return v}),r=kv(m,y,function(e){if(h=!0,i=e,f){var r=af([n,i]),s=Rv(t,r);u(s)}return v}),d(s),[e,r]}(t):function(t,n){var i,e,r,u,s,o=$a(t),c=!1,a=!1,f=!1,h=!1,v=fa(function(t){s=t});function d(){if(c)return a=!0,ha(void 0);c=!0;var t={df:function(t){ba(function(){a=!1;var n=t,i=t;f||ov(r.gf,n),h||ov(u.gf,i),c=!1,a&&d()})},vf:function(){c=!1,f||sv(r.gf),h||sv(u.gf),f&&h||s(void 0)},lf:function(){c=!1}};return nf(o,t),ha(void 0)}function l(){}return r=_v(l,d,function(n){if(f=!0,i=n,h){var r=af([i,e]),u=Rv(t,r);s(u)}return v}),u=_v(l,d,function(n){if(h=!0,e=n,f){var r=af([i,e]),u=Rv(t,r);s(u)}return v}),ga(o.Go,function(t){cv(r.gf,t),cv(u.gf,t),f&&h||s(void 0)}),[r,u]}(t)}function lv(t,n,i){return Fa(t,i),function(i){return _a(t,n,[i])}}function wv(t,n,i){return Fa(t,i),function(i){return _a(t,n,[i])}}function gv(t,n,i){return Fa(t,i),function(i){return pa(t,n,[i])}}function yv(t,n){if("bytes"!==(t=""+t))throw new h(n+" '"+t+"' is not a valid enumeration value for ReadableStreamType");return t}function mv(t,n){if("byob"!==(t=""+t))throw new h(n+" '"+t+"' is not a valid enumeration value for ReadableStreamReaderMode");return t}function bv(t,n){Ma(t,n);var i=null==t?void 0:t.preventAbort,e=null==t?void 0:t.preventCancel,r=null==t?void 0:t.preventClose,u=null==t?void 0:t.signal;return void 0!==u&&function(t,n){if(!function(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}(t))throw new h(n+" is not an AbortSignal.")}(u,n+" has member 'signal' that"),{preventAbort:Boolean(i),preventCancel:Boolean(e),preventClose:Boolean(r),signal:u}}v.defineProperties(nv.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof na.toStringTag&&v.defineProperty(nv.prototype,na.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});var pv=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),void 0===t?t=null:Ua(t,"First parameter");var i=th(n,"Second parameter"),e=function(t,n){Ma(t,n);var i=t,e=null==i?void 0:i.autoAllocateChunkSize,r=null==i?void 0:i.cancel,u=null==i?void 0:i.pull,s=null==i?void 0:i.start,o=null==i?void 0:i.type;return{autoAllocateChunkSize:void 0===e?void 0:za(e,n+" has member 'autoAllocateChunkSize' that"),cancel:void 0===r?void 0:lv(r,i,n+" has member 'cancel' that"),pull:void 0===u?void 0:wv(u,i,n+" has member 'pull' that"),start:void 0===s?void 0:gv(s,i,n+" has member 'start' that"),type:void 0===o?void 0:yv(o,n+" has member 'type' that")}}(t,"First parameter");if(Tv(this),"bytes"===e.type){if(void 0!==i.size)throw new RangeError("The strategy for a byte stream cannot have a size function");!function(t,n,i){var e=v.create(mf.prototype),r=function(){},u=function(){return ha(void 0)},s=function(){return ha(void 0)};void 0!==n.start&&(r=function(){return n.start(e)}),void 0!==n.pull&&(u=function(){return n.pull(e)}),void 0!==n.cancel&&(s=function(t){return n.cancel(t)});var o=n.autoAllocateChunkSize;if(0===o)throw new h("autoAllocateChunkSize must be greater than 0");Wf(t,e,r,u,s,i,o)}(this,e,Qf(i,0))}else{var r=Zf(i);!function(t,n,i,e){var r=v.create(nv.prototype),u=function(){},s=function(){return ha(void 0)},o=function(){return ha(void 0)};void 0!==n.start&&(u=function(){return n.start(r)}),void 0!==n.pull&&(s=function(){return n.pull(r)}),void 0!==n.cancel&&(o=function(t){return n.cancel(t)}),hv(t,r,u,s,o,i,e)}(this,e,Qf(i,1),r)}}return v.defineProperty(t.prototype,"locked",{get:function(){if(!Sv(this))throw Cv("locked");return Ev(this)},enumerable:!1,configurable:!0}),t.prototype.cancel=function(t){return void 0===t&&(t=void 0),Sv(this)?Ev(this)?va(new h("Cannot cancel a stream that already has a reader")):Rv(this,t):va(Cv("cancel"))},t.prototype.getReader=function(t){if(void 0===t&&(t=void 0),!Sv(this))throw Cv("getReader");return void 0===function(t,n){Ma(t,n);var i=null==t?void 0:t.mode;return{mode:void 0===i?void 0:mv(i,n+" has member 'mode' that")}}(t,"First parameter").mode?$a(this):zf(this)},t.prototype.pipeThrough=function(t,n){if(void 0===n&&(n={}),!Sv(this))throw Cv("pipeThrough");Va(t,1,"pipeThrough");var i=function(t,n){Ma(t,n);var i=null==t?void 0:t.readable;Wa(i,"readable","ReadableWritablePair"),ja(i,n+" has member 'readable' that");var e=null==t?void 0:t.writable;return Wa(e,"writable","ReadableWritablePair"),sh(e,n+" has member 'writable' that"),{readable:i,writable:e}}(t,"First parameter"),e=bv(n,"Second parameter");if(Ev(this))throw new h("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(vh(i.writable))throw new h("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return ma(tv(this,i.writable,e.preventClose,e.preventAbort,e.preventCancel,e.signal)),i.readable},t.prototype.pipeTo=function(t,n){if(void 0===n&&(n={}),!Sv(this))return va(Cv("pipeTo"));if(void 0===t)return va("Parameter 1 is required in 'pipeTo'.");if(!hh(t))return va(new h("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));var i;try{i=bv(n,"Second parameter")}catch(t){return va(t)}return Ev(this)?va(new h("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):vh(t)?va(new h("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):tv(this,t,i.preventClose,i.preventAbort,i.preventCancel,i.signal)},t.prototype.tee=function(){if(!Sv(this))throw Cv("tee");return af(dv(this))},t.prototype.values=function(t){if(void 0===t&&(t=void 0),!Sv(this))throw Cv("values");var n,i,e,r,u,s=function(t,n){Ma(t,n);var i=null==t?void 0:t.preventCancel;return{preventCancel:Boolean(i)}}(t,"First parameter");return n=this,i=s.preventCancel,e=$a(n),r=new rf(e,i),(u=v.create(uf)).kf=r,u},t}();function _v(t,n,i,e,r){void 0===e&&(e=1),void 0===r&&(r=function(){return 1});var u=v.create(pv.prototype);return Tv(u),hv(u,v.create(nv.prototype),t,n,i,e,r),u}function kv(t,n,i){var e=v.create(pv.prototype);return Tv(e),Wf(e,v.create(mf.prototype),t,n,i,0,void 0),e}function Tv(t){t.o="readable",t.sf=void 0,t.cf=void 0,t.wf=!1}function Sv(t){return!!ra(t)&&(!!v.prototype.hasOwnProperty.call(t,"gf")&&t instanceof pv)}function Ev(t){return void 0!==t.sf}function Rv(t,n){if(t.wf=!0,"closed"===t.o)return ha(void 0);if("errored"===t.o)return va(t.cf);Iv(t);var i=t.sf;return void 0!==i&&Yf(i)&&(i.Bf.forEach(function(t){t.vf(void 0)}),i.Bf=new ka),ya(t.gf[Pa](n),ia)}function Iv(t){t.o="closed";var n=t.sf;void 0!==n&&(Na(n),tf(n)&&(n.hf.forEach(function(t){t.vf()}),n.hf=new ka))}function Dv(t,n){t.o="errored",t.cf=n;var i=t.sf;void 0!==i&&(Ca(i,n),tf(i)?(i.hf.forEach(function(t){t.lf(n)}),i.hf=new ka):(i.Bf.forEach(function(t){t.lf(n)}),i.Bf=new ka))}function Cv(t){return new h("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}function Nv(t,n){Ma(t,n);var i=null==t?void 0:t.highWaterMark;return Wa(i,"highWaterMark","QueuingStrategyInit"),{highWaterMark:Ha(i)}}v.defineProperties(pv.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof na.toStringTag&&v.defineProperty(pv.prototype,na.toStringTag,{value:"ReadableStream",configurable:!0}),"symbol"==typeof na.asyncIterator&&v.defineProperty(pv.prototype,na.asyncIterator,{value:pv.prototype.values,writable:!0,configurable:!0});var Ov=function(t){return t.byteLength};try{v.defineProperty(Ov,"name",{value:"size",configurable:!0})}catch(Ja){}var Av=function(){function t(t){Va(t,1,"ByteLengthQueuingStrategy"),t=Nv(t,"First parameter"),this.fh=t.highWaterMark}return v.defineProperty(t.prototype,"highWaterMark",{get:function(){if(!xv(this))throw Pv("highWaterMark");return this.fh},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"size",{get:function(){if(!xv(this))throw Pv("size");return Ov},enumerable:!1,configurable:!0}),t}();function Pv(t){return new h("ByteLengthQueuingStrategy.prototype."+t+" can only be used on a ByteLengthQueuingStrategy")}function xv(t){return!!ra(t)&&(!!v.prototype.hasOwnProperty.call(t,"fh")&&t instanceof Av)}v.defineProperties(Av.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof na.toStringTag&&v.defineProperty(Av.prototype,na.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});var Lv=function(){return 1};try{v.defineProperty(Lv,"name",{value:"size",configurable:!0})}catch(Ja){}var Bv=function(){function t(t){Va(t,1,"CountQueuingStrategy"),t=Nv(t,"First parameter"),this.hh=t.highWaterMark}return v.defineProperty(t.prototype,"highWaterMark",{get:function(){if(!Fv(this))throw Mv("highWaterMark");return this.hh},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"size",{get:function(){if(!Fv(this))throw Mv("size");return Lv},enumerable:!1,configurable:!0}),t}();function Mv(t){return new h("CountQueuingStrategy.prototype."+t+" can only be used on a CountQueuingStrategy")}function Fv(t){return!!ra(t)&&(!!v.prototype.hasOwnProperty.call(t,"hh")&&t instanceof Bv)}function Uv(t,n,i){return Fa(t,i),function(i){return _a(t,n,[i])}}function Vv(t,n,i){return Fa(t,i),function(i){return pa(t,n,[i])}}function Wv(t,n,i){return Fa(t,i),function(i,e){return _a(t,n,[i,e])}}v.defineProperties(Bv.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof na.toStringTag&&v.defineProperty(Bv.prototype,na.toStringTag,{value:"CountQueuingStrategy",configurable:!0});var Hv=function(){function t(t,n,i){void 0===t&&(t={}),void 0===n&&(n={}),void 0===i&&(i={}),void 0===t&&(t=null);var e=th(n,"Second parameter"),r=th(i,"Third parameter"),u=function(t,n){Ma(t,n);var i=null==t?void 0:t.flush,e=null==t?void 0:t.readableType,r=null==t?void 0:t.start,u=null==t?void 0:t.transform,s=null==t?void 0:t.writableType;return{flush:void 0===i?void 0:Uv(i,t,n+" has member 'flush' that"),readableType:e,start:void 0===r?void 0:Vv(r,t,n+" has member 'start' that"),transform:void 0===u?void 0:Wv(u,t,n+" has member 'transform' that"),writableType:s}}(t,"First parameter");if(void 0!==u.readableType)throw new RangeError("Invalid readableType specified");if(void 0!==u.writableType)throw new RangeError("Invalid writableType specified");var s,o=Qf(r,0),c=Zf(r),a=Qf(e,1),f=Zf(e);!function(t,n,i,e,r,u){function s(){return n}t.vh=function(t,n,i,e,r,u){void 0===r&&(r=1),void 0===u&&(u=function(){return 1});var s=v.create(ch.prototype);return fh(s),Oh(s,v.create(Ch.prototype),t,n,i,e,r,u),s}(s,function(n){return function(t,n){var i=t.dh;if(t.jf){var e=t.lh;return ya(e,function(){var e=t.vh,r=e.o;if("erroring"===r)throw e.cf;return Jv(i,n)})}return Jv(i,n)}(t,n)},function(){return function(t){var n=t.wh,i=t.dh,e=i.gh();return Yv(i),ya(e,function(){if("errored"===n.o)throw n.cf;sv(n.gf)},function(i){throw zv(t,i),n.cf})}(t)},function(n){return function(t,n){return zv(t,n),ha(void 0)}(t,n)},i,e),t.wh=_v(s,function(){return function(t){return $v(t,!1),t.lh}(t)},function(n){return jv(t,n),ha(void 0)},r,u),t.jf=void 0,t.lh=void 0,t.yh=void 0,$v(t,!0),t.dh=void 0}(this,fa(function(t){s=t}),a,f,o,c),function(t,n){var i=v.create(Xv.prototype),e=function(t){try{return Kv(i,t),ha(void 0)}catch(t){return va(t)}},r=function(){return ha(void 0)};void 0!==n.transform&&(e=function(t){return n.transform(t,i)});void 0!==n.flush&&(r=function(){return n.flush(i)});!function(t,n,i,e){n.mh=t,t.dh=n,n.bh=i,n.gh=e}(t,i,e,r)}(this,u),void 0!==u.start?s(u.start(this.dh)):s(void 0)}return v.defineProperty(t.prototype,"readable",{get:function(){if(!qv(this))throw Zv("readable");return this.wh},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"writable",{get:function(){if(!qv(this))throw Zv("writable");return this.vh},enumerable:!1,configurable:!0}),t}();function qv(t){return!!ra(t)&&(!!v.prototype.hasOwnProperty.call(t,"dh")&&t instanceof Hv)}function zv(t,n){cv(t.wh.gf,n),jv(t,n)}function jv(t,n){Yv(t.dh),Lh(t.vh.Uf,n),t.jf&&$v(t,!1)}function $v(t,n){void 0!==t.lh&&t.yh(),t.lh=fa(function(n){t.yh=n}),t.jf=n}v.defineProperties(Hv.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),"symbol"==typeof na.toStringTag&&v.defineProperty(Hv.prototype,na.toStringTag,{value:"TransformStream",configurable:!0});var Xv=function(){function t(){throw new h("Illegal constructor")}return v.defineProperty(t.prototype,"desiredSize",{get:function(){if(!Gv(this))throw Qv("desiredSize");return av(this.mh.wh.gf)},enumerable:!1,configurable:!0}),t.prototype.enqueue=function(t){if(void 0===t&&(t=void 0),!Gv(this))throw Qv("enqueue");Kv(this,t)},t.prototype.error=function(t){if(void 0===t&&(t=void 0),!Gv(this))throw Qv("error");var n;n=t,zv(this.mh,n)},t.prototype.terminate=function(){if(!Gv(this))throw Qv("terminate");!function(t){var n=t.mh;sv(n.wh.gf);var i=new h("TransformStream terminated");jv(n,i)}(this)},t}();function Gv(t){return!!ra(t)&&(!!v.prototype.hasOwnProperty.call(t,"mh")&&t instanceof Xv)}function Yv(t){t.bh=void 0,t.gh=void 0}function Kv(t,n){var i=t.mh,e=i.wh.gf;if(!fv(e))throw new h("Readable side is not in a state that permits enqueue");try{ov(e,n)}catch(t){throw jv(i,t),i.wh.cf}(function(t){return!rv(t)})(e)!==i.jf&&$v(i,!0)}function Jv(t,n){return ya(t.bh(n),void 0,function(n){throw zv(t.mh,n),n})}function Qv(t){return new h("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function Zv(t){return new h("TransformStream.prototype."+t+" can only be used on a TransformStream")}v.defineProperties(Xv.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof na.toStringTag&&v.defineProperty(Xv.prototype,na.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});var td,nd=function(t){function n(n){var i;return(i=t.call(this,""+n.join("\n"),n[0])||this).causes=n,i}return vt(n,t),ft(n,[{key:"name",get:function(){return"AggregateError"}}]),n}(On);function id(t){return n=[t],new pv({start:function(t){for(var i=0;i<n.length;i++){var e=n[i];t.enqueue(e)}t.close()}});var n}function ed(t){return id(new y(t))}function rd(t,n){return function(t,n){var i=n,e=t.getReader(),r=new Fs,u=function(){s();var t=new du;e.cancel(t).catch(Mt),r.Lu(t)},s=function(){i&&(i.Mr(u),i=void 0)};i&&(i.Nr?u():i.Br(u));var o=[];return j.resolve(e.read()).then(function t(n){return n.done?(s(),j.resolve(o)):(o.push(n.value),j.resolve(e.read()).then(t))}).then(function(t){s(),r.xu(t)},function(t){s(),r.Lu(t)}),r.Ou}(t,n).then(function(t){return Yu(t).buffer})}function ud(t,n){var i=n,e=new Hv,r=e.readable,u=e.writable,s=u.getWriter(),o=function(){i&&i.Wr()};return s.closed.then(o,o),t.then(function(t){return i=void 0,s.releaseLock(),t.pipeTo(u).catch(Mt)},function(t){return i=void 0,s.releaseLock(),u.abort(t).catch(Mt)}),r}function sd(t){return Ds(new y(t))}function od(t){return Cs(t).buffer}!function(t){t[t.Ka=0]="Ka",t[t.ph=1]="ph"}(td||(td={}));var cd="content-type",ad="text/plain;charset=UTF-8",fd=function(){function t(){}var n=t.prototype;return n._h=function(t){return this.kh(t).then(JSON.parse)},n.Th=function(t,n){switch(t){case Jc.Ga:return this.Sh(n);case Jc.Ya:return this._h(n);case Jc.Ka:return this.Eh();case Jc.ri:return this.kh(n);default:throw new h}},t}();function hd(t,n,i){if(t instanceof fd)return t;if(t instanceof pv)return function(t,n){return new dd({gr:td.Ka,Eh:t,Rh:vd(n)})}(t,i);var e=vd(i),r=j.resolve(t).then(function(t){return function(t,n){if(t){if("string"==typeof t)return{gr:Jc.ri,Ih:t,Rh:n||ad};if(t instanceof ArrayBuffer||Xu(t))return{gr:Jc.Ga,Ih:pd(t),Rh:n};if(At(t)||Ct(t))return{gr:Jc.Ya,Ih:t,Rh:n};throw new h("Unsupported BodyInit type")}return{gr:Jc.ri,Ih:null,Rh:n}}(t,e)});return new dd({gr:td.ph,Ou:r,Dh:n})}function vd(t){return(t.get(cd)||"").toLowerCase()}var dd=function(t){function n(n){var i;return(i=t.call(this)||this).Ch=!1,i.Nh=void 0,i.Oh=new Fs,i.Oh.Ou.catch(Mt),i.Ah(n),i}vt(n,t);var i=n.prototype;return i.Ph=function(){return this.Oh.Ou},i.kh=function(t){return this.xh(ld,t)},i._h=function(t){return this.xh(gd,t)},i.Sh=function(t){return this.xh(md,t)},i.Eh=function(){return this.Lh((t=this.Nh).gr===td.Ka?t.Eh:ud(t.Ou.then(bd).then(ed),t.Dh));var t},i.xh=function(t,n){if(this.Ch)return j.reject(new h("Already used"));this.Ch=!0;var i=t(this.Nh,n);return this.Oh.xu(i.then(Mt)),i},i.Lh=function(t){if(this.Ch)throw new h("Already used");if(t.locked)throw new h("Body stream is locked");this.Ch=!0;var n=new Hv,i=j.resolve(t.pipeTo(n.writable));return this.Oh.xu(i),n.readable},i.Ah=function(t){this.Nh=t,t.gr===td.ph&&t.Ou.catch(Mt)},i.Bh=function(){if(this.Ch)throw new h("Already used");var t=function(t){if(t.gr===td.Ka){var n=t.Eh.tee(),i=n[0],e=n[1];return[{gr:t.gr,Eh:i,Rh:t.Rh},{gr:t.gr,Eh:e,Rh:t.Rh}]}var r=t.Dh.qr(),u=r[0],s=r[1];return[{gr:t.gr,Ou:t.Ou,Dh:u},{gr:t.gr,Ou:t.Ou,Dh:s}]}(this.Nh),i=t[0],e=t[1];return this.Ah(i),new n(e)},ft(n,[{key:"Mh",get:function(){return this.Ch}}]),n}(fd);function ld(t,n){return t.gr===td.Ka?rd(t.Eh,n).then(sd):(n&&t.Dh.Hr(n),bu(t.Ou.then(wd),t.Dh))}function wd(t){switch(t.gr){case Jc.ri:return j.resolve(t.Ih||"");case Jc.Ga:return j.resolve(t.Ih).then(sd);case Jc.Ya:return j.resolve(t.Ih).then(JSON.stringify)}}function gd(t,n){return t.gr===td.Ka?ld(t,n).then(JSON.parse):(n&&t.Dh.Hr(n),bu(t.Ou.then(yd),t.Dh))}function yd(t){return t.gr===Jc.Ya?j.resolve(t.Ih):wd(t).then(JSON.parse)}function md(t,n){return t.gr===td.Ka?rd(t.Eh,n):(n&&t.Dh.Hr(n),bu(t.Ou.then(bd),t.Dh))}function bd(t){switch(t.gr){case Jc.Ga:return j.resolve(t.Ih);case Jc.ri:case Jc.Ya:return wd(t).then(od)}}function pd(t){return t instanceof ArrayBuffer?t:Bs(As(t)).buffer}function _d(t){return t.Fh>=200&&t.Fh<=299||304===t.Fh}var kd,Td,Sd,Ed,Rd=function(t){function n(n,i){var e,r,u,s,o,c;i?(r=i.Uh,u=i.Vh,s=i.Fh,o=i.Wh,c=i.Hh):(r=[],u=Jc.ri,s=200,o="OK",c=!1);var a=n.qh,f=new Qc(n.Uh||r),h=n.Vh||u,v=n.zh||(i&&i.qh===a?i.zh:a.jh),d=i?i.$h:null,l=hd(void 0!==n.Pi?n.Pi:d,n.Dh||new vu,f);return(e=t.call(this,l)||this).Uh=void 0,e.qh=void 0,e.zh=void 0,e.Vh=void 0,e.Fh=void 0,e.Wh=void 0,e.Hh=void 0,e.Uh=f,e.qh=a,e.zh=v,e.Vh=h,e.Fh=void 0!==n.Fh?n.Fh:s,e.Wh=void 0!==n.Wh?String(n.Wh):o,e.Hh=n.Hh||c,e}vt(n,t);var i=n.prototype;return i.Pi=function(t){return this.Th(this.Vh,t)},i.Ru=function(){return new n({Pi:this.Bh(),qh:this.qh},this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).$h=void 0,i.$h=n,i}vt(n,t);var i=n.prototype;return i.Ph=function(){return this.$h.Ph()},i.kh=function(t){return this.$h.kh(t)},i._h=function(t){return this.$h._h(t)},i.Sh=function(t){return this.$h.Sh(t)},i.Eh=function(){return this.$h.Eh()},i.Bh=function(){return this.$h.Bh()},ft(n,[{key:"Mh",get:function(){return this.$h.Mh}}]),n}(fd));!function(t){t.DELETE="DELETE",t.GET="GET",t.HEAD="HEAD",t.OPTIONS="OPTIONS",t.POST="POST",t.PUT="PUT"}(kd||(kd={})),function(t){t.Xh="",t.Gh="manifest",t.Yh="segment",t.Kh="content-protection"}(Td||(Td={})),function(t){t.Xh="",t.Jh="initialization-segment",t.Qh="fairplay-license",t.Zh="fairplay-certificate",t.tv="widevine-license",t.nv="widevine-certificate",t.ev="playready-license",t.rv="clearkey-license",t.uv="aes128-key"}(Sd||(Sd={})),function(t){t.Xh="",t.sv="audio",t.ov="video",t.ri="text",t.cv="image"}(Ed||(Ed={}));var Id=function(t,n){this.Ih=void 0,this.Uh=void 0,this.av=void 0,this.Vh=void 0,this.fv=void 0,this.zr=void 0,this.gr=void 0,this.hv=void 0,this.vv=void 0,this.jh=void 0,this.dv=void 0,this.lv=void 0;var i,e,r,u,s,o,c,a,f,h,v,d=t.jh;n?(i=n.Ih,e=n.Uh,r=n.av,u=n.Vh,s=n.fv,o=n.zr,c=n.gr,a=n.hv,f=n.vv,h=n.dv,v=n.lv):(i=null,e={},r=kd.GET,u=Jc.ri,s=0,c=Td.Xh,a=Sd.Xh,f=Ed.Xh,h=!1),this.jh=d,this.Ih=t.Ih||i,this.Uh=new Qc(t.Uh||e),this.av=t.av||r,this.Vh=t.Vh||u,this.fv=void 0!==t.fv?Number(t.fv)||0:s,this.zr=t.zr||o||(new vu).zr,this.gr=t.gr||c,this.hv=t.hv||a,this.vv=t.vv||f,this.dv=void 0!==t.dv?Boolean(t.dv):h,this.lv=t.lv||v},Dd=function(){function t(){}var n=t.prototype;return n.qh=function(t){var n=function(t){return new Rd({Pi:null,Uh:{},qh:t,zh:t.jh,Vh:t.Vh,Fh:0,Wh:Kc.Ia})}(new Id(t));return j.resolve(n)},n.wv=function(t){},n.et=function(){},t}();var Cd=function(){function t(t,n){void 0===n&&(n=!0),this.gv=void 0,this.yv=void 0,this.gv=t,this.yv=n}var n=t.prototype;return n.qh=function(t){var n=this.mv(t);return this.gv.qh(n)},n.wv=function(t){return this.gv.wv(this.bv(t))},n.mv=function(n){var i=new Id(n);if(!this.yv){var e=t.pv(i.jh);i=new Id({jh:e},i)}return i},n.bv=function(n){var i=n.jh;return this.yv||(i=t.pv(i)),{jh:i,Ih:n.Ih}},t.pv=function(t){return st.Ye&&zr(t,"http://")?t.replace(":","s:"):t},n.et=function(){this.gv.et()},ft(t,null,[{key:"_v",get:function(){return t.kv||(t.kv=new t(new Dd)),t.kv}}]),t}();function Nd(t,n){for(var i=0,e=v.keys(n);i<e.length;i++){var r=e[i];t.searchParams.set(r,n[r])}}function Od(t,n){var i=st.qe(t);return n&&!jr(i,"/")&&(i+="/"),i}Cd.kv=void 0;var Ad,Pd=/cache:(.+)?(?=&|$)/,xd="http://webcache.googleusercontent.com/search?q=cache:";function Ld(t){if(!zr(t,xd))return"";var n=st.He(t).search.match(Pd);return n&&n.length>1?n[1]:""}!function(t){t.Tv="HttpOpenError",t.Sv="HttpResponseError",t.Ev="HttpTimeoutError"}(Ad||(Ad={}));var Bd=function(t){function n(n,i,e){var r;return(r=t.call(this,i,e)||this).Rv=void 0,r.Rv=n,r}return vt(n,t),ft(n,[{key:"qh",get:function(){return this.Rv}}]),n}(On);var Md=function(t){function n(n,i){return t.call(this,n,"Error while opening "+n.jh+". Invalid URL.",i)||this}return vt(n,t),ft(n,[{key:"name",get:function(){return Ad.Tv}}]),n}(Bd);var Fd=function(t){function n(n,i,e){var r;return(r=t.call(this,n.qh,null!=e?e:function(t){return"Error while loading "+t.qh.jh+", status code "+t.Fh}(n),i)||this).Iv=void 0,r.Iv=n,r}return vt(n,t),ft(n,[{key:"name",get:function(){return Ad.Sv}},{key:"Dv",get:function(){return this.Iv}}]),n}(Bd);var Ud=function(t){function n(n,i){return t.call(this,n,function(t){return"Request for "+t.jh+" timed out after "+t.fv+" seconds."}(n),i)||this}return vt(n,t),ft(n,[{key:"name",get:function(){return Ad.Ev}}]),n}(Bd),Vd=function(t,n){return(Vd=v.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])})(t,n)};function Wd(t,n){function i(){this.constructor=t}Vd(t,n),t.prototype=null===n?v.create(n):(i.prototype=n.prototype,new i)}var Hd="object"==typeof i?i:"object"==typeof t?t:"object"==typeof global?global:null;var qd=function(){var t=Hd.Blob;if(t)try{return new t,function(t,n){return new Hd.Blob(t,n)}}catch(t){}var n,i=Hd.BlobBuilder||Hd.WebKitBlobBuilder||Hd.MozBlobBuilder||Hd.MSBlobBuilder;return i?(n=i,function(t,i){var e=new n;if(t)for(var r=0,u=t;r<u.length;r++){var s=u[r];e.append(s)}return e.getBlob(i&&i.type||"")}):null}(),zd="function"==typeof pv?pv:void 0;function jd(t){return t&&"function"==typeof t.getReader}function $d(t){if("function"!=typeof t)return!1;try{var n=!1,i=new t({start:function(){n=!0}});return!!n&&jd(i)}catch(t){return!1}}var Xd=function(){function t(t,n){this.sf=t,this.Cv=n}return t.prototype.pull=function(t){var n=this;return this.sf.read().then(function(i){n.Cv&&n.Cv(i),i.done?t.close():t.enqueue(i.value)})},t.prototype.cancel=function(t){return this.sf.cancel(t)},t}();function Gd(t,n){return n.constructor===t?n:new t(new Xd(n.getReader()),{highWaterMark:0})}var Yd=function(){function t(t,n){this.Nv=t,this.Ov=n}return t.prototype.pull=function(t){return this.Nv().then(function(n){t.enqueue(new y(n)),t.close()})},t.prototype.cancel=function(t){this.Ov&&this.Ov(t)},t}();function Kd(t,n,i){return new t(new Yd(n,i),{highWaterMark:0})}var Jd={searchParams:"URLSearchParams"in Hd,iterable:"Symbol"in Hd&&"iterator"in Symbol,blob:"FileReader"in Hd&&!!qd,formData:"FormData"in Hd,arrayBuffer:"ArrayBuffer"in Hd,stream:$d(zd),streamRequest:"Request"in Hd&&"body"in Hd.Request.prototype,streamResponse:"Response"in Hd&&"body"in Hd.Response.prototype,abort:"AbortController"in Hd&&"Request"in Hd&&"signal"in Hd.Request.prototype,encoding:"TextEncoder"in Hd&&"TextDecoder"in Hd,url:"URL"in Hd&&function(t){try{return new Hd.URL(t).toString()===t}catch(t){return!1}}("http://example.com/"),firefox:"navigator"in Hd&&/Firefox\//.test(Hd.navigator.userAgent)};function Qd(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new h("Invalid character in header field name");return t}function Zd(t){return"string"!=typeof t&&(t=String(t)),t}function tl(t){var n={next:function(){var n=t.shift();return{done:void 0===n,value:n}}};return Jd.iterable&&(n[Symbol.iterator]=function(){return n}),n}var nl=function(){function t(t){var n=this;this.sr={};var i,e=function(t,i){Array.isArray(t)&&2===t.length?n.append(t[0],t[1]):n.append(i,t)};(i=t)&&"function"==typeof i.forEach?t.forEach(e):!function(t){return Jd.iterable&&t&&t[Symbol.iterator]}(t)?t&&v.getOwnPropertyNames(t).forEach(function(i){n.append(i,t[i])}):Array.from(t).forEach(e)}return t.prototype.append=function(t,n){t=Qd(t),n=Zd(n);var i=t.toLowerCase();if(this.sr.hasOwnProperty(i)){var e=this.sr[i],r=e[1];e[1]=r?r+", "+n:n}else this.sr[i]=[t,n]},t.prototype.delete=function(t){var n=Qd(t).toLowerCase();delete this.sr[n]},t.prototype.get=function(t){var n=Qd(t).toLowerCase();return this.sr.hasOwnProperty(n)?this.sr[n][1]:null},t.prototype.has=function(t){var n=Qd(t).toLowerCase();return this.sr.hasOwnProperty(n)},t.prototype.set=function(t,n){var i=(t=Qd(t)).toLowerCase();this.sr[i]=[t,Zd(n)]},t.prototype.forEach=function(t,n){for(var i in this.sr)this.sr.hasOwnProperty(i)&&t.call(n,this.sr[i][1],i,this)},t.prototype.keys=function(){var t=[];return this.forEach(function(n,i){t.push(i)}),tl(t)},t.prototype.values=function(){var t=[];return this.forEach(function(n){t.push(n)}),tl(t)},t.prototype.entries=function(){var t=[];return this.forEach(function(n,i){t.push([i,n])}),tl(t)},t.prototype.asList=function(){var t=[];for(var n in this.sr)if(this.sr.hasOwnProperty(n)){var i=this.sr[n],e=i[0],r=i[1];t.push([e,r])}return t},t}();function il(){}Jd.iterable&&(nl.prototype[Symbol.iterator]=nl.prototype.entries);var el,rl,ul,sl=d.min,ol=String.fromCharCode,cl=16384;function al(t){for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return function(t){for(var n=t.length,i=[],e=0;e<n;e+=cl){var r=sl(e+cl,n);i.push(ol.apply(null,t.slice(e,r)))}return i.join("")}(n)}function fl(t){if(t>=55296&&t<=57343)throw new f("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function hl(t,n){return t>>n&63|128}function vl(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(fl(t),n.push(t>>12&15|224),n.push(hl(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(hl(t,12)),n.push(hl(t,6))),n.push(63&t|128)):n.push(t)}function dl(){if(ul>=rl)throw new f("Invalid byte index");var t=255&el[ul];if(ul++,128==(192&t))return 63&t;throw new f("Invalid continuation byte")}function ll(){var t,n;if(ul>rl)throw new f("Invalid byte index");if(ul===rl)return!1;if(t=255&el[ul],ul++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|dl())>=128)return n;throw new f("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|dl()<<6|dl())>=2048)return fl(n),n;throw new f("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|dl()<<12|dl()<<6|dl())>=65536&&n<=1114111)return n;throw new f("Invalid UTF-8 detected")}var wl=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];function gl(t){return t&&URLSearchParams.prototype.isPrototypeOf(t)}function yl(t){return t&&ArrayBuffer.prototype.isPrototypeOf(t)}function ml(t){return t&&DataView.prototype.isPrototypeOf(t)}var bl,pl=ArrayBuffer.isView||function(t){return t&&(wl.indexOf(v.prototype.toString.call(t))>-1||ml(t))};function _l(t){if(t.bodyUsed)return j.reject(new h("Already used"));t.bodyUsed=!0}function kl(t){return new j(function(n,i){t.onload=function(){n(t.result)},t.onerror=function(){i(t.error)}})}function Tl(t){return Jd.encoding?new Hd.TextDecoder("utf-8").decode(new y(t)):al(function(t){rl=(el=t).length,ul=0;for(var n,i=[];!1!==(n=ll());)i.push(n);return i}(new y(t)))}function Sl(t){return Jd.encoding?(new Hd.TextEncoder).encode(t).buffer:new y(function(t){for(var n=[],i=0,e=t;i<e.length;i++)vl(e[i],n);return n}(function(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&r)<<10)+(1023&u)+65536):(n.push(r),i--)}else n.push(r)}return n}(t))).buffer}function El(t){var n=t.getReader(),i=[],e=function(t){var r=t.done,u=t.value;return r?j.resolve(i):(i.push(u),n.read().then(e))};return n.read().then(e)}function Rl(t){return El(t).then(function(t){return function(t){for(var n=0,i=0,e=t;i<e.length;i++)n+=(c=e[i]).byteLength;for(var r=new y(n),u=0,s=0,o=t;s<o.length;s++){var c=o[s];r.set(c,u),u+=c.byteLength}return r}(t).buffer})}function Il(t){return t.slice?t.slice(0):Dl(new y(t))}function Dl(t){if(t.slice)return t.slice(0).buffer;var n=new y(t.byteLength);return n.set(new y(t.buffer,t.byteOffset,t.byteLength)),n.buffer}function Cl(t){var n=new FormData;return t.trim().split("&").forEach(function(t){if(t){var i=t.split("="),e=i.shift().replace(/\+/g," "),r=i.join("=").replace(/\+/g," ");n.append(decodeURIComponent(e),decodeURIComponent(r))}}),n}function Nl(t){var n=t;if(n.bodyUsed)throw new h("Already used");if(n.Av===bl.Pv){if(!n.xv.tee)throw new f("could not clone ReadableStream body");var i=n.xv.tee(),e=i[0],r=i[1];return n.body=e,n.xv=e,n.Lv=e,r}return n.Av===bl.Ga?Il(n.xv):n.Av===bl.ph?n.xv.then(Nl):n.Lv}!function(t){t[t.ri=0]="ri",t[t.Bv=1]="Bv",t[t.Mv=2]="Mv",t[t.Ga=3]="Ga",t[t.Pv=4]="Pv",t[t.ph=5]="ph"}(bl||(bl={}));var Ol=function(){function t(n,i){this.bodyUsed=!1;var e,r,u,s=this;if(this.Lv=n||null,n)if("string"==typeof n)this.Av=bl.ri,this.xv=n;else if((u=n)&&"function"==typeof u.then)this.Av=bl.ph,this.xv=j.resolve(n).then(function(n){return new t(n,i)}),this.xv.catch(il);else if(Jd.blob&&function(t){return t&&Blob.prototype.isPrototypeOf(t)}(n))this.Av=bl.Bv,this.xv=n;else if(Jd.formData&&function(t){return t&&FormData.prototype.isPrototypeOf(t)}(n))this.Av=bl.Mv,this.xv=n;else if(Jd.searchParams&&gl(n))this.Av=bl.ri,this.xv=n.toString();else if(Jd.arrayBuffer&&(yl(n)||pl(n)))ml(n)&&(this.Lv=new y((r=n).buffer,r.byteOffset,r.byteLength)),this.Av=bl.Ga,this.xv=yl(e=n)?Il(e):Dl(e);else{if(!Jd.stream||!jd(n))throw new f("unsupported BodyInit type");n=Gd(zd,n),this.Av=bl.Pv,this.xv=n,this.Lv=n}else this.Av=bl.ri,this.xv="";this.Fv="",i.has("content-type")?this.Fv=(i.get("content-type")||"").toLowerCase():("string"==typeof n?this.Fv="text/plain;charset=UTF-8":s.Av===bl.Bv&&s.xv.type?this.Fv=s.xv.type:Jd.searchParams&&gl(n)&&(this.Fv="application/x-www-form-urlencoded;charset=UTF-8"),this.Fv&&i.set("content-type",this.Fv)),Jd.stream&&(null==n?this.body=null:s.Av===bl.Pv?this.body=s.xv:this.body=Kd(zd,function(){return s.arrayBuffer()},function(){s.bodyUsed=!0}))}return t.prototype.text=function(){var t,n,i,e=_l(this);return e||(this.Av===bl.Bv?(t=this.xv,n=new FileReader,i=kl(n),n.readAsText(t),i):this.Av===bl.Ga?j.resolve(this.xv).then(Tl):this.Av===bl.Pv?Rl(this.xv).then(Tl):this.Av===bl.ph?this.xv.then(function(t){return t.text()}):this.Av===bl.Mv?j.reject(new f("could not read FormData body as text")):j.resolve(this.xv))},t.prototype.json=function(){return this.text().then(JSON.parse)},t}();Jd.blob&&(Ol.prototype.blob=function(){var t,n,i=_l(this);return i||(this.Av===bl.Bv?j.resolve(this.xv):this.Av===bl.Ga?j.resolve(qd([this.xv],{type:this.Fv})):this.Av===bl.Pv?(t=this.xv,n=this.Fv,El(t).then(function(t){return qd(t,{type:n||""})})):this.Av===bl.ph?this.xv.then(function(t){return t.blob()}):this.Av===bl.Mv?j.reject(new f("could not read FormData body as Blob")):j.resolve(qd([this.xv],{type:this.Fv})))}),Jd.arrayBuffer&&(Ol.prototype.arrayBuffer=function(){var t,n,i;return this.Av===bl.Ga?_l(this)||j.resolve(this.xv):this.Av===bl.Bv?_l(this)||(t=this.xv,n=new FileReader,i=kl(n),n.readAsArrayBuffer(t),i):this.Av===bl.Pv?Rl(this.xv):this.Av===bl.ph?_l(this)||this.xv.then(function(t){return t.arrayBuffer()}):this.Av===bl.Mv?j.reject(new f("could not read FormData body as ArrayBuffer")):j.resolve(this.xv).then(Sl)}),Jd.formData&&(Ol.prototype.formData=function(){return this.Av===bl.Mv?_l(this)||j.resolve(this.xv):this.text().then(Cl)});var Al=[301,302,303,307,308],Pl=function(t){function n(n,i){var e=this,r=new nl((i=i||{}).headers);return(e=t.call(this,n||null,r)||this).type="default",e.status=void 0===i.status?200:i.status,e.ok=e.status>=200&&e.status<300,e.statusText=void 0!==i.statusText?String(i.statusText):"",e.headers=r,e.url=i.url||"",e}return Wd(n,t),n.prototype.clone=function(){return new n(Nl(this),{status:this.status,statusText:this.statusText,headers:new nl(this.headers),url:this.url})},n.error=function(){var t=new n(null,{status:0,statusText:""});return t.type="error",t},n.redirect=function(t,i){if(-1===Al.indexOf(i))throw new RangeError("Invalid status code");return new n(null,{status:i,headers:{location:t}})},n}(Ol);var xl,Ll=function(t,n){return t(n={exports:{}},n.exports),n.exports}(function(t,n){function i(t,n){if(!(t instanceof n))throw new h("Cannot call a class as a function")}function r(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),v.defineProperty(t,e.key,e)}}function u(t,n,i){return n&&r(t.prototype,n),i&&r(t,i),t}function o(t){return(o=v.setPrototypeOf?v.getPrototypeOf:function(t){return t.__proto__||v.getPrototypeOf(t)})(t)}function c(t,n){return(c=v.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t,n,i){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,i){var e=function(t,n){for(;!v.prototype.hasOwnProperty.call(t,n)&&null!==(t=o(t)););return t}(t,n);if(e){var r=v.getOwnPropertyDescriptor(e,n);return r.get?r.get.call(i):r.value}})(t,n,i||t)}v.defineProperty(n,"__esModule",{value:!0});var d=function(){function t(){i(this,t),v.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return u(t,[{key:"addEventListener",value:function(t,n){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(n)}},{key:"removeEventListener",value:function(t,n){if(t in this.listeners)for(var i=this.listeners[t],e=0,r=i.length;e<r;e++)if(i[e]===n)return void i.splice(e,1)}},{key:"dispatchEvent",value:function(t){var n=this;if(t.type in this.listeners){for(var i=function(i){s(function(){return i.call(n,t)})},e=this.listeners[t.type],r=0,u=e.length;r<u;r++)i(e[r]);return!t.defaultPrevented}}}]),t}(),l=function(t){function n(){var t,e,r;return i(this,n),e=this,(t=!(r=o(n).call(this))||"object"!=typeof r&&"function"!=typeof r?a(e):r).listeners||d.call(a(t)),v.defineProperty(a(t),"aborted",{value:!1,writable:!0,configurable:!0}),v.defineProperty(a(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new h("Super expression must either be null or a function");t.prototype=v.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&c(t,n)}(n,d),u(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),f(o(n.prototype),"dispatchEvent",this).call(this,t)}}]),n}(),w=function(){function t(){i(this,t),v.defineProperty(this,"signal",{value:new l,writable:!0,configurable:!0})}return u(t,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(n){void 0!==e?e.createEvent?(t=e.createEvent("Event")).initEvent("abort",!1,!1):(t=e.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(w.prototype[Symbol.toStringTag]="AbortController",l.prototype[Symbol.toStringTag]="AbortSignal"),n.AbortSignal=l,n.AbortController=w,n.default=w});(xl=Ll)&&xl.__esModule&&v.prototype.hasOwnProperty.call(xl,"default")&&xl.default,Ll.AbortSignal;var Bl=Ll.AbortController,Ml=Hd.DOMException;try{new Ml}catch(t){(Ml=function(t,n){f.call(this,t),this.name=n||"Error",f.captureStackTrace&&f.captureStackTrace(this,this.constructor)}).prototype=v.create(f.prototype),Ml.prototype.constructor=Ml}var Fl=Bl;function Ul(t,n){if(!t.signal.aborted)if(n.aborted)t.abort();else{var i=function(){n.removeEventListener("abort",i),t.signal.removeEventListener("abort",i),t.abort()};n.addEventListener("abort",i),t.signal.addEventListener("abort",i)}}function Vl(t,n,i){return new j(function(e,r){if(n.signal.aborted)return t.catch(il),r(Wl());var u=function(){n.signal.removeEventListener("abort",u),r(Wl())};n.signal.addEventListener("abort",u),t.then(function(t){n.signal.removeEventListener("abort",u),e(t),i&&n.abort()},function(t){n.signal.removeEventListener("abort",u),r(t),i&&n.abort()})})}function Wl(){return new Ml("Aborted","AbortError")}var Hl,ql="moz-chunked-arraybuffer";function zl(t){try{var n=new m;return n.open("GET","https://test"),n.responseType=t,n.responseType===t}catch(t){}return!1}!function(t){t[t.UNSENT=0]="UNSENT",t[t.OPENED=1]="OPENED",t[t.HEADERS_RECEIVED=2]="HEADERS_RECEIVED",t[t.LOADING=3]="LOADING",t[t.DONE=4]="DONE"}(Hl||(Hl={}));var jl=function(){function t(t,n){var i=this;this.Uv=!1,this.Rv=t,this.Vv=n,this.Wv=new m,this.Hv=new j(function(t,n){i.qv=t,i.zv=n})}return t.prototype.send=function(){var t=this;return this.jv().then(function(n){return t.$v(n,t.Vv),t.Hv})},t.prototype.jv=function(){var t=this.Rv;return t.Av===bl.Pv?t.arrayBuffer():j.resolve(t.Lv)},t.prototype.Xv=function(t){this.Rv.onprogress&&this.Rv.onprogress(t.loaded,t.lengthComputable?t.total:void 0)},t.prototype.Gv=function(t){this.zv(t)},t.prototype.Yv=function(){this.Gv(new h("Network request failed"))},t.prototype.Kv=function(){this.Gv(new h("Network request failed"))},t.prototype.Jv=function(){this.Gv(Wl())},t.prototype.$v=function(t,n){var i=this,e=this.Rv,r=this.Wv,u=function(){return i.Qv()};if(e.signal.aborted)return this.Jv();r.onreadystatechange=function(){if(r.readyState>=Hl.HEADERS_RECEIVED&&!i.Uv){var t=function(t){var n=new nl;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var i=t.split(":"),e=i.shift().trim();if(e){var r=i.join(":").trim();n.append(e,r)}}),n}(r.getAllResponseHeaders()||""),n={status:r.status,statusText:r.statusText,headers:t,url:r.responseURL||t.get("X-Request-URL")};i.Uv=!0,i.Zv(n)}},r.onprogress=function(t){return i.Xv(t)},r.onload=function(){return i.td()},r.onerror=function(){return i.Yv()},r.ontimeout=function(){return i.Kv()},r.onabort=function(){return i.Jv()},r.open(e.method,e.url,!0),r.withCredentials="include"===e.credentials,"responseType"in r&&n&&(r.responseType=n),e.headers.forEach(function(t,n){r.setRequestHeader(n,t)}),e.signal.addEventListener("abort",u),r.onloadend=function(){e.signal.removeEventListener("abort",u)},t?r.send(t):r.send()},t.prototype.Qv=function(){this.Jv(),this.Wv.abort()},t}(),$l=function(t){function n(n,i){var e=t.call(this,n,i)||this;return e.nd=void 0,e.ed=void 0,e}return Wd(n,t),n.prototype.Zv=function(t){var n=this;this.nd=new j(function(t,i){n.ed=t,n.rd=i}),this.qv(new Pl(this.nd,t))},n.prototype.td=function(){var t=this.Wv.response;if(null==t){var n=this.Vv;""===n||"text"===n?t=this.Wv.responseText:"document"===n?t=this.Wv.responseXML:"arraybuffer"===n?t=new ArrayBuffer(0):"blob"===n&&(t=qd([]))}this.ed(t)},n.prototype.Gv=function(n){t.prototype.Gv.call(this,n),this.rd&&this.rd(n)},n}(jl),Xl=function(t){function n(n){var i=t.call(this,n,ql)||this;return i.ud=void 0,i.sd=void 0,i.od=!1,i}return Wd(n,t),n.prototype.Zv=function(t){var n=this;this.ud=new zd({start:function(t){n.sd=t},cancel:function(){n.od=!0,n.Qv()}}),this.qv(new Pl(this.ud,t))},n.prototype.Xv=function(n){this.od||this.sd.enqueue(new y(this.Wv.response)),t.prototype.Xv.call(this,n)},n.prototype.td=function(){this.sd.close()},n.prototype.Gv=function(n){t.prototype.Gv.call(this,n),this.sd&&!this.od&&(this.od=!0,this.sd.error(n))},n}(jl),Gl=function(){var t=Jd.firefox&&zl(ql);return Gl=function(){return t},t},Yl=function(){var t;return t=Jd.arrayBuffer&&zl("arraybuffer")?"arraybuffer":Jd.blob&&zl("blob")?"blob":"",Yl=function(){return t},t};function Kl(t){return(Jd.stream&&Gl()?new Xl(t):new $l(t,Yl())).send()}var Jl=Hd.fetch,Ql=Hd.Request;Hd.Response;var Zl=Hd.AbortController;var tw=["http:","https:"];var nw=function(){try{if(Jd.streamRequest){var t=new Ql("about:blank",{body:"",method:"POST"}).body;if(t&&$d(t.constructor))return t.constructor}}catch(t){}}();function iw(t,n,i){var e;if(Jd.stream){var r=void 0;if(Jd.streamResponse){var u=t.body;r=u&&Gd(zd,u)}else r=Kd(zd,function(){return Vl(t.arrayBuffer(),n,!0)},function(){n.abort()});r&&i&&(r=function(t,n,i){var e=0;return function(t,n,i){return new t(new Xd(n.getReader(),i),{highWaterMark:0})}(zd,t,function(t){var r=t.done,u=t.value;r?i=void 0===i?e:i:e+=u.byteLength,n(e,i)})}(r,i,ew(t.headers))),e=r}else{var s=Vl(t.arrayBuffer(),n,!0);i&&(s=function(t,n,i){return j.resolve().then(function(){return n(0,i),t}).then(function(t){var e=t.byteLength;return n(e,i=void 0===i?e:i),t})}(s,i,ew(t.headers))),e=s}return new Pl(e,t)}function ew(t){return t.has("content-length")?Number(t.get("content-length")):void 0}function rw(t){var n=new Fl;return t.signal&&Ul(n,t.signal),function(t,n){var i,e,r=t;if(i=r.Av===bl.Pv?Jd.streamRequest&&nw?j.resolve(Gd(nw,r.xv)):Vl(t.arrayBuffer(),n,!1):Vl(j.resolve(t.Lv),n,!1),Jd.abort){var u=new Zl;Ul(u,n.signal),e=u.signal}return i.then(function(n){return new Ql(t.url,{body:n||void 0,credentials:t.credentials,headers:(i=t.headers,(i instanceof nl?i:new nl(i)).asList()),method:t.method,mode:t.mode,referrer:t.referrer,referrerPolicy:t.referrerPolicy,signal:e});var i})}(t,n).then(function(i){return Jl(i).then(function(i){return iw(i,n,t.onprogress)})})}var uw=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];var sw=function(t){function n(i,e){var r,u,s,o,c,a,f,v,d,l=this,w=(e=e||{}).body||null;if(i instanceof n){if(i.bodyUsed)throw new h("Already used");r=i.url,u=i.credentials,e.headers||(s=new nl(i.headers)),o=i.method,c=i.mode,a=i.referrer,f=i.referrerPolicy,v=i.signal,d=i.onprogress,w||null==i.Lv||(w=i.Lv,i.bodyUsed=!0)}else r=String(i),u="same-origin",o="GET",c="cors",a="about:client",f="",v=null,d=null;if(!e.headers&&s||(s=new nl(e.headers)),e&&(a="about:client",f=""),(l=t.call(this,w,s)||this).url=r,l.headers=s,l.credentials=e.credentials||u,l.method=function(t){var n=t.toUpperCase();return uw.indexOf(n)>-1?n:t}(e.method||o),l.mode=e.mode||c,l.signal=e.signal||v||(new Fl).signal,l.referrer=void 0!==e.referrer?e.referrer:a,l.referrerPolicy=void 0!==e.referrerPolicy?e.referrerPolicy:f,l.onprogress=e.onprogress||d,("GET"===l.method||"HEAD"===l.method)&&w)throw new h("Body not allowed for GET or HEAD requests");return l}return Wd(n,t),n.prototype.clone=function(){return new n(this,{body:Nl(this)})},n}(Ol),ow="function"==typeof Jl&&Jd.stream&&Jd.streamResponse&&Jd.url;function cw(t,n){return new j(function(i){var e=new sw(t,n);i((ow&&function(t){try{return tw.indexOf(new Hd.URL(t,Hd.location.href).protocol)>=0}catch(t){return!1}}(e.url)?rw:Kl)(e))})}cw.polyfill=!0;var aw=function(){function t(t){this.Dv=void 0,this.Rv=void 0,this.Xf=new vu,this.Iv=void 0,this.fd=!1,this.Rv=t,this.Xf.Hr(t.zr),this.Dv=this.hd()}var n=t.prototype;return n.hd=function(){var t,n,i,e,r,u,o,c,a=this;return lr.async(function(f){for(;;)switch(f.prev=f.next){case 0:(t=this.Rv).fv&&s(function(){a.fd=!0,a.Xf.Wr()},t.fv),f.prev=2,n=cw(t.jh,{method:t.av,headers:t.Uh.Ja(),body:t.Ih,credentials:t.dv?"include":"same-origin",signal:vw(this.Xf.zr),onprogress:t.lv}),f.next=9;break;case 6:throw f.prev=6,f.t0=f.catch(2),new Md(t,f.t0);case 9:return f.prev=9,f.next=12,lr.awrap(n);case 12:i=f.sent,f.next=20;break;case 15:throw f.prev=15,f.t1=f.catch(9),lu(e=this.vd(f.t1))&&this.Xf.Wr(),e;case 20:if(r=i.url||t.jh,u=0===i.status&&"file:"===(h=r,st.He(h).protocol)?200:i.status,o=new fw(this,i,this.Xf),c=new Rd({Pi:o,qh:t,Vh:t.Vh,Uh:new Qc(i.headers.asList()),Fh:u,Wh:i.statusText,zh:r}),this.Iv=c,!_d(c)){f.next=29;break}return f.abrupt("return",c);case 29:throw new Fd(c);case 30:case"end":return f.stop()}var h},null,this,[[2,6],[9,15]],j)},n.vd=function(t){return lu(t)?this.fd?new Ud(this.Rv):new du(t.message,t):this.Iv?new Fd(this.Iv,t):new Md(this.Rv,t)},t}(),fw=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).dd=void 0,r.ld=void 0,r.Xf=void 0,r.Oh=new Fs,r.dd=n,r.ld=i,r.Xf=e,r.Oh.Ou.catch(Mt),r}vt(n,t);var i=n.prototype;return i.Ph=function(){return this.Oh.Ou},i.kh=function(t){return this.xh(this.ld.text(),t)},i.Sh=function(t){return this.xh(this.ld.arrayBuffer(),t)},i.Eh=function(){var t=this.ld.body;return t?this.Lh(t):ud(this.Sh().then(ed),this.Xf)},i.Bh=function(){var t=this.ld.clone(),i=this.Xf.qr(),e=i[0],r=i[1];return this.Xf=e,new n(this.dd,t,r)},i.xh=function(t,n){var i=this;n&&this.Xf.Hr(n);var e=j.resolve(t).catch(function(t){throw i.dd.vd(t)});return e=bu(e,this.Xf),this.Oh.xu(e.then(Mt)),e},i.Lh=function(t){var n=this,i=new Hv,e=j.resolve(t.pipeTo(i.writable,{preventAbort:!0})).catch(function(t){var e=n.dd.vd(t);throw i.writable.abort(e).catch(Mt),e});return e=bu(e,this.Xf),this.Oh.xu(e.then(Mt)),i.readable},ft(n,[{key:"Mh",get:function(){return this.ld.bodyUsed}}]),n}(fd),hw="abort";function vw(t){var n=new Fl;if(t.Nr)n.abort();else if(!t.Or){var i=function(){e(),n.abort()},e=function e(){n.signal.removeEventListener(hw,i),t.Mr(i),t.Ur(e)};n.signal.addEventListener(hw,i),t.Br(i),t.Fr(e)}return n.signal}var dw,lw=function(){function t(){}var n=t.prototype;return n.qh=function(t){return new aw(t).Dv},n.wv=function(t){if(nt&&nt.sendBeacon)nt.sendBeacon(t.jh,Gc([t.Ih],{type:t.Rh}));else{var n=t.Rh?{"Content-type":t.Rh}:void 0;ku(this.qh(new Id({av:kd.POST,jh:t.jh,Ih:t.Ih,Uh:n})))}},n.et=function(){},t}(),ww=function(n){function i(){for(var i,e=arguments.length,r=new Array(e),u=0;u<e;u++)r[u]=arguments[u];return(i=n.call.apply(n,[this].concat(r))||this).wd=void 0,i.gd=function(){if(St.kn)return!1;try{return"body"in t.Response.prototype}catch(t){return!1}}(),i.yd=St.jn,i.md=void 0,i}return vt(i,n),ft(i,[{key:"Le",get:function(){return this.wd||(this.wd=new Zr(zc())),this.wd}},{key:"bd",get:function(){return this.gd}},{key:"pd",get:function(){return this.yd}},{key:"_d",get:function(){return!1}},{key:"kd",get:function(){return $c.fa()}},{key:"Td",get:function(){return{Sd:Yc}}},{key:"Ed",get:function(){return u.connection&&u.connection.effectiveType||"default"}},{key:"Rd",get:function(){return u.connection&&u.connection.type||"unknown"}},{key:"Id",get:function(){return this.md||(this.md=new Cd(new lw)),this.md}}]),i}(hr);dt(new ww),function(t){t.Dd="Cd",t.Nd="Od"}(dw||(dw={})),dw.Dd,dw.Nd;var gw=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).Ad=void 0,e}return vt(n,t),ft(n,[{key:"Pd",get:function(){return this.Ad||(this.Ad=this.xd()),this.Ad}}]),n}(Cu);var yw,mw=function(t){function n(n){return t.call(this,n)||this}return vt(n,t),n}(gw),bw=function(t){function n(n){return t.call(this,n)||this}return vt(n,t),n}(Cu),pw=function(t){function n(n){var i;return(i=t.call(this,dw.Dd)||this).Ld=n,i}return vt(n,t),n.prototype.xd=function(){return new _w(this.Ld.Pd)},n}(mw),_w=function(t){function n(n){var i;return(i=t.call(this,"addtrack")||this).track=n,i}return vt(n,t),n}(bw),kw=function(t){function n(n){var i;return(i=t.call(this,dw.Nd)||this).Ld=n,i}return vt(n,t),n.prototype.xd=function(){return new Tw(this.Ld.Pd)},n}(mw),Tw=function(t){function n(n){var i;return(i=t.call(this,"removetrack")||this).track=n,i}return vt(n,t),n}(bw);!function(t){t.Bd="Md",t.Fd="Ud",t.Vd="Wd",t.Hd="qd",t.zd="jd",t.$d="Xd",t.Gd="Yd",t.Kd="Jd",t.Qd="sc",t.Zd="tl",t.nl="il",t.QUALITY_UNAVAILABLE="qualityunavailable",t.NO_QUALITY="noquality"}(yw||(yw={}));var Sw=function(t){function n(){var n;return(n=t.call(this)||this).ul=[],n.Ad=void 0,n}vt(n,t);var i=n.prototype;return i.sl=function(t){return this.ul[t]},i.ol=function(t){return!(!t||au(this.ul,t))&&(this.ul.push(t),this.Ad&&this.Ad.push(t.Pd),t.Kr(yw.$d,this.Gr),this.Yr(new pw(t)),!0)},i.cl=function(t){if(!t)return!1;var n=this.ul.indexOf(t);return!(n<0)&&(cu(this.ul,n),this.Ad&&cu(this.Ad,n),t.tu(yw.$d,this.Gr),this.Yr(new kw(t)),!0)},i.al=function(t){return au(this.ul,t)},i.fl=function(){for(var t=this.ul,n=t.length-1;n>=0;n-=1)this.cl(t[n])},i.et=function(){this.fl(),this.Zr()},ft(n,[{key:"hl",get:function(){return this.ul}},{key:"Pd",get:function(){return this.Ad||(this.Ad=this.xd()),this.Ad}},{key:"vl",get:function(){return this.ul.length}}]),n}(Iu),Ew=function(t){function n(n){var i;return(i=t.call(this,yw.$d)||this).Ld=n,i}return vt(n,t),n.prototype.xd=function(){return new Rw(this.Ld.Pd)},n}(mw),Rw=function(t){function n(n){var i;return(i=t.call(this,"change")||this).track=n,i}return vt(n,t),n}(bw),Iw=function(t){function n(){var n;return(n=t.call(this)||this).dl=void 0,n.ll=function(t){var i=t.Ld;n.ol(i)},n.wl=function(t){var i=t.Ld;n.cl(i)},n}vt(n,t);var i=n.prototype;return i.gl=function(t){t.Kr(dw.Dd,this.ll),t.Kr(dw.Nd,this.wl)},i.yl=function(t){t.tu(dw.Dd,this.ll),t.tu(dw.Nd,this.wl)},i.et=function(){this.dl&&this.dl.et(),t.prototype.et.call(this)},ft(n,[{key:"ml",get:function(){return this.dl},set:function(t){var n=this.dl;if(t!==n){if(n){this.yl(n);for(var i=0,e=n.hl;i<e.length;i++){var r=e[i];t&&t.al(r)||this.cl(r)}}if(this.dl=t,t){for(var u=[],s=0,o=t.hl;s<o.length;s++){var c=o[s];this.ol(c),this.bl(c)&&u.push(c)}this.gl(t);for(var a=0;a<u.length;a++){var f=u[a];f.Yr(new Ew(f))}}}}}]),n}(Sw),Dw=v.freeze||Ft;function Cw(t,n,i){v.defineProperty(t,n,{writable:!1,enumerable:!0,value:i})}function Nw(t,n){for(var i=0,e=v.getOwnPropertyNames(n);i<e.length;i++){var r=e[i];v.defineProperty(t,r,v.getOwnPropertyDescriptor(n,r))}return t}function Ow(t){if(At(t)){var n={};for(var i in t)Et.call(t,i)&&(n[i]=Ow(t[i]));return n}if(Ct(t)){for(var e=new Array(t.length),r=0;r<e.length;r++)r in t&&(e[r]=Ow(t[r]));return e}return t}function Aw(t,n){return t===n||!(!t||!n)&&(!(!Ot(t)||!Ot(n))&&(Nt(t)?!!Nt(n)&&function(t,n){var i=t.length,e=n.length;if(i!==e)return!1;for(var r=0;r<i;r+=1)if(!Aw(t[r],n[r]))return!1;return!0}(t,n):!Nt(n)&&function(t,n){var i=v.keys(t),e=v.keys(n);if(!i||!e||i.length!==e.length)return!1;for(var r=0;r<i.length;r++){var u=i[r];if(!Et.call(n,u)||!Aw(t[u],n[u]))return!1}return!0}(t,n)))}function Pw(t,n){return t.constructor===n.constructor}function xw(t){for(var n={},i=0,e=v.keys(t);i<e.length;i++){var r=e[i],u=t[r];null!=u&&(n[r]=u)}return n}function Lw(t){var n=t;if("string"==typeof n){if("true"===(n=n.toLowerCase()))return!0;if("false"===n)return!1}return Boolean(n)}function Bw(t){return"string"==typeof t?""===t?NaN:Number(t):"boolean"==typeof t||null==t||t instanceof Date||"number"!=typeof Number(t)&&!t?NaN:Number(t)}function Mw(t){var n=Bw(t);if(g(n))throw new f("Expected a valid number.");return n}function Fw(t){return"string"==typeof t?t:""}function Uw(t,n){if(!Nt(t))return[];for(var i=0|t.length,e=new Array(i),r=0;r<i;r++)e[r]=n(t[r]);return e}function Vw(t,n){return Nt(t)?Uw(t,n):n(t)}var Ww=[dw.Dd,dw.Nd,yw.$d];function Hw(t){var n,i=t.hl.map(function(t){return t.Pd});return i.item=function(n){var i=0|n,e=t.sl(i);return e&&e.Pd||void 0},i.addEventListener=function(t,i){n.Kr(t,i)},i.removeEventListener=function(t,i){n.tu(t,i)},n=new Du(i),t.Kr(Ww,function(t){return n.Yr(t.Pd)}),i}function qw(){}function zw(t){var n,i=[yw.Qd,yw.$d,yw.Zd,yw.nl,yw.QUALITY_UNAVAILABLE],e={get activeQuality(){return t.pl&&t.pl.Pd},get enabled(){return t._l},set enabled(n){t._l=Lw(n)},get id(){return t.kl},get uid(){return t.Tl},get kind(){return t.Sl},get label(){return t.El},set label(n){t.El=Fw(n)},get language(){return t.Rl},get qualities(){return t.Il.Pd},set targetQuality(n){var i;(i=n?function(t,n){for(var i=[],e=0,r=t.Il.hl;e<r.length;e++)for(var u=r[e],s=0;s<n.length;s++){var o=n[s];u.Pd===o&&i.push(u)}return i}(t,Ct(n)?n:[n]):[]).length>0?t.Dl=i:t.Dl=void 0},get targetQuality(){if(t.Dl)return 1===t.Dl.length?t.Dl[0].Pd:t.Dl.map(function(t){return t.Pd})},addEventListener:function(t,i){var e=Vw(t,Fw);n.Kr(e,i)},removeEventListener:function(t,i){var e=Vw(t,Fw);n.tu(e,i)}};return n=new Du(e),t.Kr(i,function(t){return n.Yr(t.Pd)}),v.defineProperty(e,"constructor",{value:qw}),e}function jw(){}function $w(t){var n=Hw(t);return v.defineProperty(n,"constructor",{value:jw}),n}var Xw,Gw,Yw=function(t){function n(){return t.apply(this,arguments)||this}vt(n,t);var i=n.prototype;return i.xd=function(){return $w(this)},i.bl=function(t){return t._l},n}(Iw);function Kw(){}function Jw(t){var n,i=[yw.$d,yw.Qd,yw.Bd,yw.Fd,yw.Vd,yw.Hd,yw.zd,yw.Gd,yw.Kd],e=[Gw.Cl],r={get kind(){return t.Sl},get label(){return t.El},set label(n){t.El=Fw(n)},get language(){return t.Rl},get id(){return t.kl},get uid(){return t.Tl},get inBandMetadataTrackDispatchType(){return t.Nl},get mode(){return t.Ol},set mode(n){n!==Xw.Al&&n!==Xw.Pl&&n!==Xw.xl||t.Ll(n)},get forced(){return Boolean(t.Bl)},get type(){return t.gr},get readyState(){return tg(t.Ml)},get cues(){return t.Ol===Xw.xl?null:t.Fl.Pd},get activeCues(){return t.Ol===Xw.xl?null:t.Ul.Pd},get src(){return t.Vl||""},addEventListener:function(t,i){var e=Vw(t,Fw);n.Kr(e,i)},removeEventListener:function(t,i){var e=Vw(t,Fw);n.tu(e,i)}};return n=new Du(t),t.Kr(i,function(t){return n.Yr(t.Pd)}),t.Kr(e,function(t){return n.Yr(t)}),v.defineProperty(r,"constructor",{value:Kw}),r}function Qw(){}function Zw(t){var n=Hw(t);return v.defineProperty(n,"constructor",{value:Qw}),n}function tg(t){return t}!function(t){t.xl="disabled",t.Pl="hidden",t.Al="showing"}(Xw||(Xw={})),function(t){t.Cl="error"}(Gw||(Gw={}));var ng=function(t){function n(){return t.apply(this,arguments)||this}vt(n,t);var i=n.prototype;return i.xd=function(){return Zw(this)},i.bl=function(t){return t.Ol===Xw.Al},n}(Iw),ig=function(t){function n(){return t.apply(this,arguments)||this}vt(n,t);var i=n.prototype;return i.Qr=function(n){t.prototype.Qr.call(this,n)},i.eu=function(n){t.prototype.eu.call(this,n)},n}(Iu),eg=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n}(ig),rg=function(t){function n(){return t.call(this,Kc.ka)||this}return vt(n,t),n}(Cu),ug=function(t){function n(n){var i;return(i=t.call(this,Kc.ya)||this).currentSource=n,i}return vt(n,t),n}(Cu),sg=function(){function t(){}return t.Wl=function(n,i){var e=t.Hl(n,i);return e?t.ql(e):0},t.zl=function(){return st.Ed||"default"},t.jl=function(){return st.Rd||"unknown"},t.Hl=function(n,i){var e,r=null==(e=st.kd)?void 0:e.mu(i),u=r&&JSON.parse(r);if(u&&u[n])return t.$l(u,n,i)},t.ql=function(t){var n=t.availableBandwidth;return n||0},t.$l=function(n,i,e){if(!t.Xl(n,i))return n[i];t.Gl(n,i,e)},t.Gl=function(t,n,i){var e;delete t[n],null==(e=st.kd)||e.aa(i,JSON.stringify(t))},t.Xl=function(t,n){var i=t[n].storedTimestamp;if(!i)return!1;var e=new Date(i),r=(new Date).getTime();return e.setMonth(e.getMonth()+1)<=r},t.Yl=function(t,n,i,e){var r;return wr({},t,((r={})[n]={availableBandwidth:i,storedTimestamp:e},r))},t.Kl=function(n){var i=t.zl();t.Jl(i,"theoplayer-stored-network-info",n,En())},t.Jl=function(n,i,e,r){var u,s,o=null==(u=st.kd)?void 0:u.mu(i),c=o?JSON.parse(o):void 0,a=t.Yl(c,n,e,r);null==(s=st.kd)||s.aa(i,JSON.stringify(a))},t.Ql=function(){var n=t.zl();return t.Wl(n,"theoplayer-stored-network-info")},t}();var og,cg,ag,fg,hg,vg,dg="1ADD53F3";function lg(t){return{chromecast:function(t){return{appID:t&&t.appID?Fw(t.appID):dg}}(t?t.chromecast:void 0),strategy:function(t){switch(t){case"auto":return og.AUTO;case"manual":return og.MANUAL;case"disabled":return og.DISABLED;default:return og.MANUAL}}(t?t.strategy:void 0)}}function wg(t){var n,i=ag.Zl;return(n=t)&&qr(n,"mpd")&&(i=ag.tw),function(t){return!!t&&qr(t,"m3u8")}(t)&&(i=ag.nw),i}function gg(t){return Ot(t)&&Ot(t.ssai)&&"google-dai"===t.ssai.integration}function yg(t){return Ot(t)&&Pt(t.integration)&&"verizon-media"===t.integration}function mg(t){if(Pt(t))return!t;if(yg(t))return!t.id;if(gg(t)){var n=t.ssai,i="live"===n.availabilityType&&n.assetKey,e="vod"===n.availabilityType&&n.contentSourceID&&n.videoID;return Boolean(i&&e)}return!t.src}function bg(t){return Boolean(Ot(t)&&Pt(t.src))}function pg(t){return Pt(t)||bg(t)||gg(t)||yg(t)}function _g(t){if(t){if(pg(t))return mg(t);for(var n=0;n<t.length;n++){if(!mg(t[n]))return!1}return!0}return!0}function kg(){return{crossOrigin:cg.iw,useCredentials:!1,liveOffset:void 0,timeServer:void 0,hlsDateRange:void 0,experimentalRendering:!1,nativeUiRendering:!1,lowLatency:!1,useNativePlayback:!1,dash:void 0,hls:void 0,abr:void 0,lcevc:void 0}}function Tg(){return wr({},kg(),{src:void 0,type:ag.Zl,contentProtection:void 0,ssai:void 0,integrationData:void 0,isAdvertisement:void 0})}function Sg(t){var n={allowedMimeTypes:void 0,preload:"midroll-and-postroll",showCountdown:!0,vpaidMode:fg.ENABLED,googleImaConfiguration:{useNativeIma:!1}};return void 0===t?n:(void 0!==t.preload&&(n.preload=function(t){switch(t){case"none":return hg.NONE;case"midroll-and-postroll":default:return hg.MIDROLL_AND_POSTROLL}}(t.preload)),void 0!==t.showCountdown&&(n.showCountdown=Lw(t.showCountdown)),void 0!==t.vpaidMode&&(n.vpaidMode=function(t){switch(t){case"insecure":return fg.INSECURE;case"disabled":return fg.DISABLED;case"enabled":default:return fg.ENABLED}}(t.vpaidMode)),Ct(t.allowedMimeTypes)&&(n.allowedMimeTypes=t.allowedMimeTypes.filter(Pt)),void 0!==t.googleImaConfiguration&&(n.googleImaConfiguration=function(t){return void 0===t?{useNativeIma:!1}:{useNativeIma:Lw(t.useNativeIma)}}(t.googleImaConfiguration)),n)}function Eg(t){if(!Nt(t))return[];for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];At(r)&&n.push(r)}return n}function Rg(t){return Pt(t.src)}!function(t){t.AUTO="auto",t.MANUAL="manual",t.DISABLED="disabled"}(og||(og={})),function(t){t.iw="",t.ew="anonymous",t.rw="use-credentials"}(cg||(cg={})),function(t){t.tw="application/dash+xml",t.nw="application/vnd.apple.mpegurl",t.uw="application/x-mpegurl",t.Zl="video/mp4",t.sw="application/vnd.theoplayer.hesp+json",t.ow="application/vnd.theo.hesp+json"}(ag||(ag={})),function(t){t.ENABLED="enabled",t.INSECURE="insecure",t.DISABLED="disabled"}(fg||(fg={})),function(t){t.NONE="none",t.MIDROLL_AND_POSTROLL="midroll-and-postroll"}(hg||(hg={})),function(t){t[t.cw=0]="cw",t[t.aw=1]="aw",t[t.fw=2]="fw",t[t.hw=3]="hw",t[t.vw=4]="vw"}(vg||(vg={}));var Ig,Dg=function(t){function n(n,i){var e;return void 0===i&&(i=vg.cw),(e=t.call(this,Kc.pa)||this).currentTime=n,e.readyState=i,e}return vt(n,t),n}(Cu),Cg=function(t){function n(n){var i;return(i=t.call(this,Kc.Ca)||this).currentTime=n,i}return vt(n,t),n}(Cu),Ng=function(t){function n(n){var i;return(i=t.call(this,Kc.Na)||this).currentTime=n,i}return vt(n,t),n}(Cu);!function(t){t.dw="canplay",t.lw="canplaythrough",t.ww="loadeddata",t.gw="loadedmetadata",t.Gd="readystatechange",t.yw="waiting",t.mw="playing"}(Ig||(Ig={}));var Og,Ag,Pg=[Ig.dw,Ig.lw,Ig.ww,Ig.gw,Ig.Gd,Ig.yw,Ig.mw],xg=function(t){function n(n,i){var e;return void 0===i&&(i=vg.aw),(e=t.call(this,Ig.gw)||this).currentTime=n,e.readyState=i,e}return vt(n,t),n}(Cu),Lg=function(t){function n(n){var i;return(i=t.call(this,Kc.ba)||this).duration=n,i}return vt(n,t),n}(Cu),Bg=function(t){function n(n,i){var e;return(e=t.call(this,Kc.Aa)||this).currentTime=n,e.playbackRate=i,e}return vt(n,t),n}(Cu),Mg=function(t){function n(n,i){var e;return(e=t.call(this,Kc.qa)||this).currentTime=n,e.currentProgramDateTime=i,e}return vt(n,t),n}(Cu),Fg=function(t){function n(n){var i;return(i=t.call(this,Kc._a)||this).currentTime=n,i}return vt(n,t),n}(Cu),Ug=function(t){function n(n,i){var e;return void 0===i&&(i=vg.fw),(e=t.call(this,Ig.ww)||this).currentTime=n,e.readyState=i,e}return vt(n,t),n}(Cu),Vg=function(t){function n(n){var i;return(i=t.call(this,Kc.Ba)||this).currentTime=n,i}return vt(n,t),n}(Cu),Wg=function(t){function n(n){var i;return(i=t.call(this,Kc.La)||this).currentTime=n,i}return vt(n,t),n}(Cu),Hg=function(t){function n(n,i){var e;return(e=t.call(this,Kc.za)||this).currentTime=n,e.volume=i,e}return vt(n,t),n}(Cu),qg=function(t){function n(n,i){var e;return void 0===i&&(i=vg.hw),(e=t.call(this,Ig.dw)||this).currentTime=n,e.readyState=i,e}return vt(n,t),n}(Cu),zg=function(t){function n(n,i){var e;return void 0===i&&(i=vg.vw),(e=t.call(this,Ig.lw)||this).currentTime=n,e.readyState=i,e}return vt(n,t),n}(Cu),jg=function(t){function n(n,i){var e;return(e=t.call(this,Ig.Gd)||this).currentTime=n,e.readyState=i,e}return vt(n,t),n}(Cu),$g=function(t){function n(n){var i;return(i=t.call(this,Gw.Cl)||this).errorObject=n,i}return vt(n,t),n.prototype.xd=function(){return this},ft(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(gw);function Xg(t){switch(t){case Og.ALL:case Og.CONTENT:return t;default:return Og.NONE}}function Gg(t){var n,i,e,r=Ow(t||{});return r.libraryLocation&&(r.libraryLocation=Od(r.libraryLocation,!0)),r.isEmbeddable=Boolean(r.isEmbeddable),r.cast=lg(r.cast),r.ads=Sg(r.ads),r.analytics=Eg(r.analytics),r.mutedAutoplay=Xg(r.mutedAutoplay),r.allowNativeFullscreen=Boolean(r.allowNativeFullscreen),r.allowMixedContent=Boolean(r.allowMixedContent),r.persistVolume=Boolean(r.persistVolume),r.liveOffset=(n=r.liveOffset,Number(n)||void 0),r.hlsDateRange=(i=r.hlsDateRange,Boolean(i)),r.retainPlaybackRateOnSourceChange=Boolean(r.retainPlaybackRateOnSourceChange),r.license=Pt(e=r.license)?e:void 0,r.licenseUrl=function(t){if(!t)return;try{return Od(t)}catch(t){return void st.Ie("Invalid 'licenseUrl', falling back to default URL")}}(r.licenseUrl),r}function Yg(t){return{bw:t.bw,pw:t.pw,_w:t._w,fu:t.fu,kw:t.kw,Tw:t.Tw,Sw:t.Sw,Ew:t.Ew,Ml:t.Ml,Rw:t.Rw,Iw:t.Iw,Dw:t.Dw,Cw:t.Cw}}function Kg(t,n,i){if(n!==i){var e=n.bw,r=n.pw,u=n.Tw,s=n.Sw,o=n.Ew,c=n.Ml,a=n.Rw;n.Dw,n.Iw;var f=n.Cw,h=i.bw,v=i.pw,d=i._w,l=i.kw,w=i.Tw,y=i.Sw,m=i.Ew,b=i.Ml,p=i.Rw;i.Dw,i.Iw;var _=i.Cw;c!==vg.cw&&t.Yr(new Dg(h,b)),y&&!s?t.Yr(new Cg(h)):!y&&s&&t.Yr(new Ng(h)),b>=vg.aw&&t.Yr(new xg(h,b)),v===r||g(v)&&g(r)||t.Yr(new Lg(v)),m!==o&&t.Yr(new Bg(h,m)),h!==e&&t.Yr(new Mg(h,void 0)),d&&t.Yr(new Fg(h)),b>=vg.fw&&t.Yr(new Ug(h,b)),p&&!a?t.Yr(new Vg(h)):!p&&a&&t.Yr(new Wg(h)),_===f&&w===u||t.Yr(new Hg(h,_)),b>=vg.hw&&t.Yr(new qg(h,b)),b>=vg.vw&&t.Yr(new zg(h,b)),b!==c&&t.Yr(new jg(h,b)),l&&t.Yr(new $g(l))}}!function(t){t.NONE="none",t.ALL="all",t.CONTENT="content"}(Og||(Og={})),function(t){t.LIVE_OFFSET="liveoffset",t.TRACK_BYTES_DOWNLOADED="trackbytesdownloaded",t.ESTIMATED_TRACK_NETWORK_BANDWIDTH="estimatedtracknetworkbandwidth",t.ESTIMATED_TRACK_MEDIA_DATA_BANDWIDTH="estimatedtrackmediadatabandwidth",t.SEGMENT_RECEIVE_INTERVAL="segmentreceiveinterval"}(Ag||(Ag={}));var Jg=400,Qg=.25,Zg={Nw:.2,Ow:.45,Aw:.7,Pw:3,xw:sy,Lw:oy},ty={Nw:.4,Ow:.65,Aw:1,Pw:3,xw:sy,Lw:oy},ny={Nw:.4,Ow:.7,Aw:.9,Pw:3,xw:sy,Lw:oy},iy={Nw:.4,Ow:.65,Aw:1,Pw:3,xw:sy,Lw:oy},ey={Nw:.5,Ow:1.125,Aw:1.75,Pw:2.55,xw:sy,Lw:oy};function ry(){var t;return t=st.je.fe?iy:st.je.de?ty:st.je.ve?"Android"===st.$e.Xe?ny:Zg:ey,st.$e.Ge?function(t){if(st.$e.Ge){var n=(Jg+250)/1e3,i=d.max(n,t.Nw),e=d.max(i+Qg,t.Ow),r=d.max(e+Qg,t.Aw);return{Nw:i,Ow:e,Aw:r,Pw:d.max(r+Qg,t.Pw),xw:sy,Lw:oy}}return t}(t):t}var uy,sy=.92,oy=1.08;function cy(t){return{goLive:function(){return t.Bw()},get isLive(){return t.Mw},get currentServerLiveTime(){return t.Fw},get currentLatency(){return t.Uw},get latency(){return t.Vw},set latency(n){if(!function(t){if(!Ot(t))return!1;var n=t,i=It(n.target)&&"number"==typeof n.target&&It(n.windowEnd)&&"number"==typeof n.windowEnd&&It(n.windowStart)&&"number"==typeof n.windowStart&&It(n.maxOffset)&&"number"==typeof n.maxOffset,e=n.windowStart>=0&&n.windowStart<=n.target&&n.target<=n.windowEnd&&n.maxOffset>=n.windowEnd;return i&&e}(n))throw new f("Invalid latency configuration");t.Vw=n},get manifest(){return t.Ww},get metrics(){return t.Hw},addEventListener:function(n,i){t.Kr(fy(n),i)},removeEventListener:function(n,i){t.tu(fy(n),i)}}}!function(t){t[t.xl=0]="xl",t[t.qw=1]="qw",t[t.zw=2]="zw"}(uy||(uy={}));var ay=["analytic","golive","nogolive","bufferedchange"];function fy(t){var n=Vw(t,Fw);return(Pt(n)?[n]:n).filter(function(t){return au(ay,t)})}var hy,vy=function(t){function n(){var n,i;return(n=t.call(this)||this).dl=void 0,n.Ad=void 0,n.jw={windowStart:(i=ry()).Nw,windowEnd:i.Aw,target:i.Ow,maxOffset:i.Pw},n.dl=void 0,n}vt(n,t);var i=n.prototype;return i.gl=function(t){t.Kr(ay,this.Gr)},i.yl=function(t){t.tu(ay,this.Gr)},i.Bw=function(){var t;null==(t=this.dl)||t.Bw()},i.et=function(){this.Zr(),this.dl&&this.yl(this.dl),this.dl=void 0},ft(n,[{key:"ml",get:function(){return this.dl},set:function(t){var n=this.dl;t!==n&&(n&&this.yl(n),t&&this.gl(t),this.dl=t,this.dl&&(this.dl.Vw=this.jw))}},{key:"Pd",get:function(){return this.Ad||(this.Ad=cy(this)),this.Ad}},{key:"Fw",get:function(){var t;return null==(t=this.dl)?void 0:t.Fw}},{key:"Uw",get:function(){var t;return null==(t=this.dl)?void 0:t.Uw}},{key:"Mw",get:function(){return!!this.dl&&this.dl.Mw}},{key:"Vw",get:function(){return this.dl?this.dl.Vw:this.jw},set:function(t){this.dl&&(this.dl.Vw=t),this.jw=t}},{key:"Ww",get:function(){var t;return null==(t=this.dl)?void 0:t.Ww}},{key:"Hw",get:function(){var t;return null==(t=this.dl)?void 0:t.Hw}}]),n}(Iu),dy=function(t){function n(n){var i;return(i=t.call(this)||this).dl=void 0,i.$w=[],i.Xw=!1,i.Gw=new Yw,i.Yw=new Yw,i.Kw=new ng,i.Jw=new vy,i.Qw=!1,i.Zw(n),n.Qr(i.Gr),i.dl=n,i.Gw.ml=n.tg,i.Yw.ml=n.ng,i.Kw.ml=n.ig,i.Jw.ml=n.eg,i}vt(n,t);var i=n.prototype;return i.Y=function(){this.dl.Y()},i.K=function(){this.dl.K()},i.rg=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Tu(this.$w.map(function(t){return t.rg()})).then(Mt));case 1:case"end":return t.stop()}},null,this,null,j)},i.ug=function(){return this.dl.ug()},i.sg=function(t,n){return lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return wu(n),i.next=3,lr.awrap(this.dl.sg(t,n));case 3:case"end":return i.stop()}},null,this,null,j)},i.og=function(){return this.ml.og()},i.cg=function(){this.ml.cg()},i.ag=function(){this.ml.ag()},i.st=function(){if(!this.Xw){for(var t=0,n=this.$w;t<n.length;t++){n[t].st()}this.Xw=!0}},i.fg=function(t){this.dl.fg(t)},i.hg=function(){this.dl.hg()},i.vg=function(){this.dl.vg()},i.dg=function(){this.dl.dg()},i.lg=function(){return this.dl.lg()},i.wg=function(){return this.dl.wg()},i.gg=function(){for(var t=[],n=0,i=this.$w;n<i.length;n++){var e=i[n];t.push.apply(t,e.gg())}return t},i.yg=function(t){for(var n=!1,i=0,e=this.$w;i<e.length;i++){n=e[i].yg(t)||n}return n},i.Yr=function(n){this.yg(n)||t.prototype.Yr.call(this,n)},i.Zw=function(t){this.$w.push(t)},i.mg=function(t){ou(this.$w,t)},i.bg=function(t){if(t!==this.dl){var n=this.dl;n.hg(),n.eu(this.Gr);var i=Yg(this),e=this.pg,r=this.wg();this.dl=t,this.Gw.ml=t.tg,this.Yw.ml=t.ng,this.Kw.ml=t.ig,this.Jw.ml=t.eg,Kg(this,i,this);var u=this.pg;u!==e&&this.Yr(new ug(u)),this.wg()!==r&&this.Yr(new rg),t.Qr(this.Gr),t.fg(n)}},i._g=function(){},i.et=function(){var t,n,i;return lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:this.Zr(),this.dl.hg(),t=0,n=this.$w;case 3:if(!(t<n.length)){e.next=10;break}return i=n[t],e.next=7,lr.awrap(i.et());case 7:t++,e.next=3;break;case 10:this.Gw.et(),this.Yw.et(),this.Kw.et(),this.Jw.et();case 14:case"end":return e.stop()}},null,this,null,j)},i.fl=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Tu(this.$w.map(function(t){return t.fl()})).then(Mt));case 1:case"end":return t.stop()}},null,this,null,j)},ft(n,[{key:"tg",get:function(){return this.Gw}},{key:"ig",get:function(){return this.Kw}},{key:"ng",get:function(){return this.Yw}},{key:"kg",get:function(){return this.dl.kg}},{key:"Tg",get:function(){return this.dl.Tg},set:function(t){this.dl.Tg=t}},{key:"pg",get:function(){return this.dl.pg}},{key:"bw",get:function(){return this.dl.bw},set:function(t){this.dl.bw=t}},{key:"pw",get:function(){return this.dl.pw}},{key:"Sg",get:function(){return this.dl.Sg}},{key:"_w",get:function(){return this.dl._w}},{key:"fu",get:function(){return this.dl.fu}},{key:"kw",get:function(){return this.dl.kw}},{key:"eg",get:function(){return this.Jw}},{key:"Eg",get:function(){return this.dl.Eg}},{key:"Hw",get:function(){return function(t){for(var n=0,i=0,e=0,r=0,u=0,s={amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0},o=0;o<t.length;o++){var c=t[o];n+=c.Rg,i+=c.Ig,e+=c.Dg,r+=c.Cg,u+=c.Ng,s.amountOfBufferedAudioSegments+=c.Og.amountOfBufferedAudioSegments,s.amountOfBufferedVideoSegments+=c.Og.amountOfBufferedVideoSegments}return{Rg:n,Ig:i,Dg:e,Cg:r,Ng:u,Og:s}}(this.$w.map(function(t){return t.Hw}))}},{key:"Tw",get:function(){return this.dl.Tw},set:function(t){this.dl.Tw=t}},{key:"Ag",get:function(){return this.dl.Ag}},{key:"Sw",get:function(){return this.dl.Sw}},{key:"Ew",get:function(){return this.dl.Ew},set:function(t){this.dl.Ew=t}},{key:"Pg",get:function(){return this.dl.Pg}},{key:"xg",get:function(){return this.dl.xg},set:function(t){this.dl.xg=t}},{key:"Ml",get:function(){return this.dl.Ml}},{key:"Lg",get:function(){return this.dl.Lg}},{key:"Rw",get:function(){return this.dl.Rw}},{key:"Iw",get:function(){return this.dl.Iw}},{key:"Dw",get:function(){return this.dl.Dw}},{key:"Cw",get:function(){return this.dl.Cw},set:function(t){this.dl.Cw=t}},{key:"Bg",get:function(){return this.dl.Bg}},{key:"Mg",get:function(){return!1},set:function(t){}},{key:"ml",get:function(){return this.dl},set:function(t){this.bg(t)}}]),n}(eg),ly=function(t){function n(n,i,e,r,u,s,o,c){var a;return(a=t.call(this,n,i,e)||this).url=void 0,a.status=void 0,a.statusText=void 0,a.response=void 0,a.systemCode=void 0,a.url=r,a.status=u,a.statusText=s,a.response=o,a.systemCode=c,a}return vt(n,t),ft(n,[{key:"name",get:function(){return"ContentProtectionError"}}]),n}(Nc);!function(t){t[t.ABORTED=1]="ABORTED",t[t.NETWORK=2]="NETWORK",t[t.DECODE=3]="DECODE",t[t.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",t[t.ENCRYPTED=5]="ENCRYPTED",t[t.LICENSE_INVALID=6]="LICENSE_INVALID",t[t.ADVERTISEMENT_ERROR=7]="ADVERTISEMENT_ERROR"}(hy||(hy={}));var wy=function(t){function n(n,i,e,r){var u;return(u=t.call(this,i)||this).code=void 0,u.message=void 0,u.cause=void 0,u.systemCode=void 0,u.code=n,u.message=null!=i?i:"Unknown error",u.cause=e,u.systemCode=r,f.captureStackTrace&&f.captureStackTrace(Cn(u),u.constructor),u}return vt(n,t),ft(n,[{key:"name",get:function(){return"MediaError"}}]),n}(Nn);function gy(t){Cw(t,"MEDIA_ERR_ABORTED",hy.ABORTED),Cw(t,"MEDIA_ERR_NETWORK",hy.NETWORK),Cw(t,"MEDIA_ERR_DECODE",hy.DECODE),Cw(t,"MEDIA_ERR_SRC_NOT_SUPPORTED",hy.SRC_NOT_SUPPORTED),Cw(t,"MEDIA_ERR_ENCRYPTED",hy.ENCRYPTED)}function yy(t){var i,e;return function(t){return t.category===n.ErrorCategory.CONTENT_PROTECTION}(t)?new wy(hy.ENCRYPTED,t.message,null==(i=t.cause)?void 0:i.message,t.systemCode):new wy(function(t){if(t===n.ErrorCode.MEDIA_ABORTED)return hy.ABORTED;if(t===n.ErrorCode.MANIFEST_LOAD_ERROR||t===n.ErrorCode.MEDIA_LOAD_ERROR||t===n.ErrorCode.SUBTITLE_LOAD_ERROR)return hy.NETWORK;if(t===n.ErrorCode.MEDIA_DECODE_ERROR)return hy.DECODE;if(t===n.ErrorCode.MEDIA_NOT_SUPPORTED)return hy.SRC_NOT_SUPPORTED;var i=n.ErrorCategory.fromCode(t);if(i===n.ErrorCategory.NETWORK)return hy.NETWORK;if(i===n.ErrorCategory.SOURCE)return hy.SRC_NOT_SUPPORTED;if(i===n.ErrorCategory.LICENSE)return hy.LICENSE_INVALID;if(i===n.ErrorCategory.CONTENT_PROTECTION)return hy.ENCRYPTED;if(i===n.ErrorCategory.AD)return hy.ADVERTISEMENT_ERROR;return hy.DECODE}(t.code),t.message,null==(e=t.cause)?void 0:e.message)}gy(wy),gy(wy.prototype);var my,by=function(t){function n(){return t.apply(this,arguments)||this}vt(n,t);var i=n.prototype;return i.ol=function(n){return t.prototype.ol.call(this,n)},i.xd=function(){return $w(this)},n}(Sw);!function(t){t.sv="audio",t.ov="video",t.ri="text",t.cv="image",t.Xh="unknown"}(my||(my={}));var py=function(){function t(){this.Fg=[],this.Ad=void 0}var n=t.prototype;return n.Ug=function(t){this.Fg.push(t),this.Ad&&this.Ad.push(t.Pd)},n.sl=function(t){return this.Fg[t]},n.Vg=function(t){return Ct(t)?function(t,n){for(var i=0;i<n.length;i++)if(!au(t,n[i]))return!1;return!0}(this.Fg,t):au(this.Fg,t)},ft(t,[{key:"hl",get:function(){return this.Fg}},{key:"vl",get:function(){return this.Fg.length}},{key:"Pd",get:function(){var t,n;return this.Ad||(this.Ad=((n=(t=this).hl.map(function(t){return t.Pd})).item=function(n){var i=0|n,e=t.sl(i);return e&&e.Pd||void 0},n)),this.Ad}}]),t}(),_y=function(t){function n(n){var i;return(i=t.call(this,yw.Qd)||this).Ld=n,i}return vt(n,t),n.prototype.xd=function(){return new ky(this.Ld.Pd)},n}(mw),ky=function(t){function n(n){var i;return(i=t.call(this,"update")||this).track=n,i}return vt(n,t),n}(bw),Ty=0;function Sy(){return Ty++}var Ey=0;var Ry=0;var Iy=0;var Dy=function(t){function n(n){var i;return(i=t.call(this)||this).gr=my.sv,i.Wg=void 0,i.jo=void 0,i.Hg=void 0,i.qg=void 0,i.zg=!1,i.Fg=void 0,i.Ad=void 0,i.Wg=n,i.qg=Sy(),i.jo=Iy+++"",i.Hg=n.label,i.Fg=new py,i.jg(),i}vt(n,t);var i=n.prototype;return i.$g=function(t){this._l=t},i.jg=function(){this._l=this.Xg},ft(n,[{key:"pl",get:function(){}},{key:"_l",get:function(){return this.zg},set:function(t){this.zg!==t&&(this.zg=t,this.Xg=t,this.Yr(new Ew(this)))}},{key:"Xg",get:function(){return this.Wg.enabled},set:function(t){this.Wg.enabled=t}},{key:"Pd",get:function(){return this.Ad||(this.Ad=zw(this)),this.Ad}},{key:"kl",get:function(){return this.jo}},{key:"Tl",get:function(){return this.qg}},{key:"Sl",get:function(){return this.Wg.kind}},{key:"El",get:function(){return this.Hg},set:function(t){t!==this.Hg&&(this.Hg=t,this.Yr(new _y(this)))}},{key:"Rl",get:function(){return this.Wg.language}},{key:"Ol",get:function(){return this._l?"enabled":"disabled"}},{key:"Gg",get:function(){return this.Wg}},{key:"Il",get:function(){return this.Fg}},{key:"Dl",get:function(){},set:function(t){}}]),n}(Iu),Cy=0;var Ny,Oy,Ay,Py,xy=function(t){function n(n){var i;return(i=t.call(this)||this).gr=my.ov,i.Wg=void 0,i.jo=void 0,i.qg=void 0,i.zg=!1,i.Fg=void 0,i.Hg=void 0,i.Ad=void 0,i.Wg=n,i.qg=Sy(),i.jo=Cy+++"",i.Fg=new py,i.Hg=n.label,i.jg(),i}vt(n,t);var i=n.prototype;return i.jg=function(){this._l=this.Xg},i.$g=function(t){this._l=t},ft(n,[{key:"pl",get:function(){}},{key:"_l",get:function(){return this.zg},set:function(t){this.zg!==t&&(this.zg=t,this.Xg=t,this.Yr(new Ew(this)))}},{key:"Xg",get:function(){return!!this.Wg.selected},set:function(t){this.Wg.selected=t}},{key:"Pd",get:function(){return this.Ad||(this.Ad=zw(this)),this.Ad}},{key:"kl",get:function(){return this.jo}},{key:"Tl",get:function(){return this.qg}},{key:"Sl",get:function(){return"main"}},{key:"El",get:function(){return this.Hg},set:function(t){t!==this.Hg&&(this.Hg=t,this.Yr(new _y(this)))}},{key:"Rl",get:function(){return this.Wg.language}},{key:"Ol",get:function(){return this._l?"enabled":"disabled"}},{key:"Gg",get:function(){return this.Wg}},{key:"Il",get:function(){return this.Fg}},{key:"Dl",get:function(){},set:function(t){}}]),n}(Iu),Ly=function(t){function n(n){var i;return(i=t.call(this,Kc.ha)||this).Eg=n,i}return vt(n,t),n}(Cu);!function(t){t[t.NONE=0]="NONE",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t[t.ERROR=3]="ERROR"}(Ny||(Ny={})),function(t){t.DEFAULT="",t.SRT="srt",t.TTML="ttml",t.WEBVTT="webvtt",t.EMSG="emsg",t.EVENT_STREAM="eventstream",t.ID3="id3",t.CEA608="cea608",t.DATE_RANGE="daterange"}(Oy||(Oy={})),function(t){t.Yg="cue",t.Kg="region",t.Jg="stylesheet"}(Ay||(Ay={})),function(t){t.Qg="Zg",t.ty="ny",t.Qd="sc"}(Py||(Py={}));var By=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).iy=i,e}return vt(n,t),n}(mw),My=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).cue=i,e}return vt(n,t),n}(bw);function Fy(t){var n,i=[Py.Qg,Py.ty,Py.Qd],e={get track(){return t.Ld.Pd},get id(){return t.kl},get uid(){return t.Tl},get startTime(){return t.ey},get endTime(){return t.uy},get content(){return t.sy},addEventListener:function(t,i){var e=Vw(t,Fw);n.Kr(e,i)},removeEventListener:function(t,i){var e=Vw(t,Fw);n.tu(e,i)}};return n=new Du(e),t.Kr(i,function(t){return n.Yr(t.Pd)}),e}function Uy(){}var Vy=function(t){function n(n){return t.call(this,Py.Qd,n)||this}return vt(n,t),n.prototype.xd=function(){return new Wy(this.iy.Pd)},n}(By),Wy=function(t){function n(n){return t.call(this,"update",n)||this}return vt(n,t),n}(My),Hy=.02;var qy=function(t){function n(n,i,e,r,u){var s;return(s=t.call(this)||this).qg=void 0,s.jo=void 0,s.oy=void 0,s.ay=void 0,s.Ad=void 0,s.hy=void 0,s.vy=!1,s.ly=void 0,s.wy=void 0,s.gy=-1,s.qg=Ry++,s.oy=n,s.ay=i,s.ly=e,s.wy=Boolean(r),s.jo=null!=u?u:"",s}vt(n,t);var i=n.prototype;return i.xd=function(){return Fy(this)},i.yy=function(t){return this===t||Pw(this,t)&&(i=t,Tn((n=this).ey,i.ey,Hy)&&Tn(n.uy,i.uy,Hy)&&n.kl===i.kl);var n,i},i.et=function(){this.Zr()},ft(n,[{key:"ey",get:function(){return this.oy},set:function(t){this.oy!==t&&(this.oy=t,this.Yr(new Vy(this)))}},{key:"uy",get:function(){return this.ay},set:function(t){this.ay!==t&&(this.ay=t,this.Yr(new Vy(this)))}},{key:"kl",get:function(){return this.jo}},{key:"Tl",get:function(){return this.qg}},{key:"Pd",get:function(){return this.Ad||(this.Ad=this.xd()),this.Ad}},{key:"my",get:function(){return this.vy},set:function(t){this.vy=t}},{key:"Ld",get:function(){return this.hy},set:function(t){this.hy=t}},{key:"sy",get:function(){return this.ly},set:function(t){this.ly!==t&&(this.ly=t,this.Yr(new Vy(this)))}},{key:"by",get:function(){return this.wy},set:function(t){this.wy=t}}]),n}(Iu);var zy=function(t){function n(n,i,e,r,u){var s;return(s=t.call(this,n,i,e,r,u)||this).py="auto",s._y="start",s.ky="auto",s.Ty="auto",s.Sy=void 0,s.Ey=!0,s.ku=100,s.Ry="center",s.Iy="",s}return vt(n,t),n.prototype.yy=function(n){return this===n||Pw(this,n)&&t.prototype.yy.call(this,n)&&(e=n,(i=this).sy===e.sy&&i.py===e.py&&i._y===e._y&&i.ky===e.ky&&i.Ty===e.Ty&&i.Sy===e.Sy&&i.Ey===e.Ey&&i.ku===e.ku&&i.Ry===e.Ry&&i.Iy===e.Iy);var i,e},ft(n,[{key:"Pd",get:function(){var t;return this.Ad||(this.Ad=Nw(Fy(t=this),{get align(){return t.Ry},get line(){return t.py},get lineAlign(){return t._y},get position(){return t.ky},get positionAlign(){return t.Ty},get region(){return t.Sy?t.Sy.Pd:null},get size(){return t.ku},get snapToLines(){return t.Ey},get text(){return t.sy},get vertical(){return t.Iy}})),this.Ad}},{key:"gr",get:function(){return Ay.Yg}}]),n}(qy);var jy=function(){function t(t,n,i,e,r,u,s,o){this.Ad=void 0,this.kl=t,this.Dy=n,this.Cy=i,this.Ny=e,this.Oy=r,this.Ay=u,this.Py=s,this.xy=o}return ft(t,[{key:"Pd",get:function(){var t;return this.Ad||(this.Ad=(t=this,{get id(){return t.kl},get identifier(){return t.kl},get lines(){return t.Cy},get regionAnchorX(){return t.Ny},get regionAnchorY(){return t.Oy},get scrollValue(){return t.xy},get viewportAnchorX(){return t.Ay},get viewportAnchorY(){return t.Py},get width(){return t.Dy}})),this.Ad}},{key:"gr",get:function(){return Ay.Kg}}]),t}(),$y=function(){function t(){}var n=t.prototype;return n.Ly=function(t){return this.By()*t},n.My=function(t){return this.Fy(t)>0},n.Uy=function(t){return this.Fy(t)>=0},n.Vy=function(t,n){return this.Hy(t).Wy(n)},n.yy=function(t){return 0===this.Fy(t)},n.qy=function(t){return this.Fy(t)<0},n.Wy=function(t){return this.Fy(t)<=0},n.zy=function(){return this.jy()?this.$y():this},n.Xy=function(t){return this.Ug(t.$y())},n.Hy=function(t){return this.Xy(t).zy()},t}();function Xy(t,n){return t.Gy()?n.Gy()?Qr.Ir:Qr.Dr:n.Gy()?Qr.Cr:t.Yy()?n.Yy()&&t.jy()===n.jy()?Qr.Ir:t.jy()?Qr.Cr:Qr.Dr:n.jy()?Qr.Dr:Qr.Cr}var Gy=function(){function t(t,n){this.Ky=void 0,this.Jy=void 0,this.Ky=t,this.Jy=n}t.Qy=function(n,i,e){return e?new t(n.toUnsigned(),i.toUnsigned()):new t(n.toSigned(),i.toSigned())},t.Zy=function(n){return n.unsigned?new t(n,Kt.UZERO):new t(n,n.isNegative()?Kt.NEG_ONE:Kt.ZERO)},t.tm=function(n,i){if(g(n))return i?t.nm:t.im;if(i){if(n<0)return t.nm;if(n>=3.402823669209385e38)return t.rm}else{if(n<=-1.7014118346046923e38)return t.um;if(n+1>=1.7014118346046923e38)return t.sm}return n<0?t.tm(-n,i).$y():t.Qy(Kt.fromNumber(n%0x10000000000000000),Kt.fromNumber(n/0x10000000000000000),i)};var n=t.prototype;return n.om=function(){return this.Jy.unsigned},n.cm=function(){return this.Ky.isZero()&&this.Jy.isZero()},n.jy=function(){return this.Jy.isNegative()},n.am=function(){return this.om()?t.Qy(this.Ky,this.Jy,!1):this},n.fm=function(){return this.om()?this:t.Qy(this.Ky,this.Jy,!0)},n.hm=function(){return this.Ky},n.By=function(){return this.jy()?-this.$y().By():0x10000000000000000*this.Jy.toNumber()+this.Ky.toUnsigned().toNumber()},n.vm=function(){return this.Ky.toInt()},n.yy=function(t){return(this.om()===t.om()||this.Jy.getHighBits()>>>31!=1||t.Jy.getHighBits()>>>31!=1)&&(this.Jy.toUnsigned().eq(t.Jy.toUnsigned())&&this.Ky.toUnsigned().eq(t.Ky.toUnsigned()))},n.Fy=function(t){if(this.yy(t))return Qr.Ir;var n=this.jy(),i=t.jy();if(n&&!i)return Qr.Cr;if(!n&&i)return Qr.Dr;if(!this.om())return this.Xy(t).jy()?Qr.Cr:Qr.Dr;var e=this.fm(),r=t.fm(),u=r.Jy.comp(e.Jy);return u>0||0===u&&r.Ky.gt(e.Ky)?Qr.Cr:Qr.Dr},n.qy=function(t){return this.Fy(t)<0},n.Wy=function(t){return this.Fy(t)<=0},n.dm=function(t){return this.Fy(t)>0},n.lm=function(t){return this.Fy(t)>=0},n.wm=function(){return new t(this.Ky.not(),this.Jy.not())},n.gm=function(n){return new t(this.Ky.and(n.Ky),this.Jy.and(n.Jy))},n.ym=function(n){return new t(this.Ky.or(n.Ky),this.Jy.or(n.Jy))},n.mm=function(n){var i=127&n;return 0===i?this:i<64?t.Qy(this.Ky.shl(i),this.Jy.shl(i).or(this.Ky.shru(64-i)),this.om()):t.Qy(Kt.ZERO,this.Ky.shl(i-64),this.om())},n.bm=function(n){var i=127&n;return 0===i?this:i<64?t.Qy(this.Ky.shru(i).or(this.Jy.shl(64-i)),this.Jy.shr(i),this.om()):t.Qy(this.Jy.shr(i-64),this.Jy.isNegative()?Kt.NEG_ONE:Kt.ZERO,this.om())},n.pm=function(n){var i=127&n;return 0===i?this:i<64?t.Qy(this.Ky.shru(i).or(this.Jy.shl(64-i)),this.Jy.shru(i),this.om()):64===i?t.Qy(this.Jy,Kt.ZERO,this.om()):t.Qy(this.Jy.shru(i-64),Kt.ZERO,this.om())},n.Ug=function(n){var i=this.Jy.high>>>16,e=65535&this.Jy.high,r=this.Jy.low>>>16,u=65535&this.Jy.low,s=this.Ky.high>>>16,o=65535&this.Ky.high,c=this.Ky.low>>>16,a=65535&this.Ky.low,f=n.Jy.high>>>16,h=65535&n.Jy.high,v=n.Jy.low>>>16,d=65535&n.Jy.low,l=n.Ky.high>>>16,w=65535&n.Ky.high,g=n.Ky.low>>>16,y=0,m=0,b=0,p=0,_=0,k=0,T=0,S=0;T+=(S+=a+(65535&n.Ky.low))>>>16,S&=65535,k+=(T+=c+g)>>>16,T&=65535,_+=(k+=o+w)>>>16,k&=65535,p+=(_+=s+l)>>>16,_&=65535,b+=(p+=u+d)>>>16,p&=65535,m+=(b+=r+v)>>>16,b&=65535,y+=(m+=e+h)>>>16,m&=65535,y+=i+f,y&=65535;var E=this.om(),R=Kt.fromBits(b<<16|p,y<<16|m,E),I=Kt.fromBits(T<<16|S,_<<16|k,E);return t.Qy(I,R,E)},n.Xy=function(t){return this.Ug(t.$y())},n.$y=function(){return this.wm().Ug(t._m)},n.km=function(n){if(this.cm()||n.cm())return this.om()?t.nm:t.im;if(this.jy())return n.jy()?this.$y().km(n.$y()):this.$y().km(n).$y();if(n.jy())return this.km(n.$y()).$y();if(this.Jy.isZero()&&0===this.Ky.high&&n.Jy.isZero()&&0===n.Ky.high)return t.Zy(this.Ky.multiply(n.Ky));var i=Kt.fromBits(4294967295,0,!0),e=this.Ky.and(i),r=this.Ky.shru(32),u=this.Jy.and(i),s=this.Jy.shru(32),o=n.Ky.and(i),c=n.Ky.shru(32),a=n.Jy.and(i),f=n.Jy.shru(32),h=Kt.UZERO,v=Kt.UZERO,d=Kt.UZERO,l=Kt.UZERO;h=h.add(e.mul(o)),v=v.add(h.shru(32)),h=h.and(i),v=v.add(r.mul(o)),d=d.add(v.shru(32)),v=(v=v.and(i)).add(e.mul(c)),d=d.add(v.shru(32)),v=v.and(i),d=d.add(u.mul(o)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(r.mul(c)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(e.mul(a)),l=l.add(d.shru(32)),d=d.and(i),l=l.add(s.mul(o)).add(u.mul(c)).add(r.mul(a)).add(e.mul(f)).and(i);var w=Kt.fromBits(h.getLowBitsUnsigned(),v.getLowBitsUnsigned(),!0),g=Kt.fromBits(d.getLowBitsUnsigned(),l.getLowBitsUnsigned(),!0);return t.Qy(w,g,this.om())},n.Tm=function(n){var i,e,r=n;if(r.cm())throw new RangeError("division by zero");if(this.cm())return this.om()?[t.nm,t.nm]:[t.im,t.im];if(this.om()){if(r.om()||(r=r.fm()),r.dm(this))return[t.nm,this];if(r.dm(this.pm(1)))return[e=t.Sm,i=this.Xy(r)];e=t.nm}else{if(this.yy(t.um)){if(r.yy(t._m)||r.yy(t.Em))return[t.um,t.im];if(r.yy(t.um))return[t._m,t.im];var u=this.bm(1).Rm(r).mm(1);return u.yy(t.im)?e=r.jy()?t._m:t.Em:(i=this.Xy(r.km(u)),e=u.Ug(i.Rm(r))),[e,i=this.Xy(r.km(e))]}if(r.yy(t.um))return this.om()?[t.nm,this]:[t.im,this];if(this.jy()){if(r.jy())return this.$y().Tm(r.$y());var s=this.$y().Tm(r);return e=s[0],i=s[1],[e.$y(),i.$y()]}if(r.jy()){var o=this.Tm(r.$y());return e=o[0],i=o[1],[e.$y(),i.$y()]}e=t.im}for(i=this;i.lm(r);){for(var c=d.max(1,d.floor(i.By()/r.By())),a=d.ceil(d.log(c)/d.LN2),f=a<=48?1:d.pow(2,a-48),h=t.tm(c),v=h.km(r);v.jy()||v.dm(i);)c-=f,v=(h=t.tm(c,this.om())).km(r);h.cm()&&(h=t._m),e=e.Ug(h),i=i.Xy(v)}return[e,i]},n.Rm=function(t){return this.Tm(t)[0]},n.Im=function(t){return this.Tm(t)[1]},n.toString=function(n){var i=n||10;if(i<2||i>36)throw new RangeError("radix");if(this.cm())return"0";if(this.jy()){if(this.yy(t.um)){var e=t.tm(i),r=this.Rm(e),u=r.km(e).Xy(this);return r.toString(i)+u.vm().toString(i)}return"-"+this.$y().toString(i)}for(var s=t.tm(d.pow(i,6),this.om()),o=this,c="";;){var a=o.Rm(s),f=(o.Xy(a.km(s)).vm()>>>0).toString(i);if((o=a).cm())return f+c;for(;f.length<6;)f="0"+f;c=String(f)+c}},t}();Gy.im=Gy.Zy(Kt.ZERO),Gy.nm=Gy.Zy(Kt.UZERO),Gy._m=Gy.Zy(Kt.ONE),Gy.Sm=Gy.Zy(Kt.UONE),Gy.Em=Gy.Zy(Kt.NEG_ONE),Gy.sm=Gy.Qy(Kt.NEG_ONE,Kt.MAX_VALUE,!1),Gy.rm=Gy.Qy(Kt.MAX_UNSIGNED_VALUE,Kt.MAX_UNSIGNED_VALUE,!0),Gy.um=Gy.Qy(Kt.ZERO,Kt.MIN_VALUE,!1);var Yy=function(){function t(t,n){void 0===n&&(n=1),this.Dm=void 0,this.Cm=void 0,this.Dm=t,this.Cm=n}t.Nm=function(n){return new t(d.ceil(n.Dm),n.Cm)},t.Om=function(n){return new t(d.floor(n.Dm),n.Cm)},t.Am=function(t,n){return t.Uy(n)?t:n},t.Pm=function(t,n){return t.Wy(n)?t:n};var n=t.prototype;return n.Ug=function(n){return this.Cm>=n.Cm?new t(this.Dm+n.xm(this.Cm).Dm,this.Cm):new t(this.xm(n.Cm).Dm+n.Dm,n.Cm)},n.My=function(t){return t.qy(this)},n.Uy=function(t){return t.Wy(this)},n.Hy=function(n){return this.Cm>=n.Cm?new t(d.abs(this.Dm-n.xm(this.Cm).Dm),this.Cm):n.Hy(this)},n.Vy=function(t,n){return this.Hy(t).Wy(n)},n.Fy=function(t){return i=t,(n=this).Cm>=i.Cm?uu(n.Dm,i.xm(n.Cm).Dm):uu(n.xm(i.Cm).Dm,i.Dm);var n,i},n.yy=function(t){return 0===this.Fy(t)},n.qy=function(t){return this.Fy(t)<0},n.Wy=function(t){return this.Fy(t)<=0},n.xm=function(n){return new t(this.Dm*(n/this.Cm),n)},n.Xy=function(n){return this.Cm>=n.Cm?new t(this.Dm-n.xm(this.Cm).Dm,this.Cm):new t(this.xm(n.Cm).Dm-n.Dm,n.Cm)},n.Lm=function(n){return new t(this.Dm*n,this.Cm)},ft(t,[{key:"Yy",get:function(){return!isFinite(this.Dm)}},{key:"Bm",get:function(){return this.Dm/this.Cm}}]),t}();Yy.Mm=new Yy(1/6,1),Yy.im=new Yy(0),Yy.Fm=new Yy(1/0),Yy.Um=1e6;var Ky=function(t){function n(n,i){var e;return(e=t.call(this)||this).wi=void 0,e.Cm=void 0,e.wi=n.toSigned(),e.Cm=i>>>0,e}vt(n,t),n.Vm=function(t,i){return void 0===i&&(i=1e6),n.tm(t*i,i)},n.tm=function(t,i){return g(t)?n.Wm:t===1/0?n.Hm:t===-1/0?n.qm:new n(Kt.fromNumber(t),i)},n.Zy=function(t,i){return new n(t,i)},n.zm=function(t){return n.Vm(t.Bm,1e6)},n.jm=function(t){return new n(Kt.fromNumber(t.getTime()),1e3)},n.Am=function(t,n){return t.Uy(n)?t:n},n.Pm=function(t,n){return t.Wy(n)?t:n},n.$m=function(t,i,e){return n.Am(i,n.Pm(e,t))};var i=n.prototype;return i.jy=function(){return this.wi.isNegative()},i.cm=function(){return 0!==this.Cm&&this.wi.isZero()},i.Yy=function(){return 0===this.Cm&&!this.wi.isZero()},i.Gy=function(){return 0===this.Cm&&this.wi.isZero()},i.By=function(){if(0===this.Cm)return this.wi.isZero()?NaN:this.wi.isNegative()?-1/0:1/0;var t=this.wi.divide(this.Cm),n=this.wi.subtract(t.multiply(this.Cm));return t.toNumber()+n.toNumber()/this.Cm},i.hm=function(){if(0===this.Cm)throw new f("Failed to convert timestamp");return this.wi},i.Xm=function(){return new Date(0===this.Cm?NaN:this.xm(1e3).wi.toNumber())},i.Gm=function(){return new Yy(0===this.Cm?this.By():this.wi.toNumber(),this.Cm)},i.xm=function(t,i){void 0===i&&(i=Zy.Ym);var e=this.Cm;if(e===t)return this;if(0===e)return this;var r=Sn(e,t);return new n(function(t,n,i){var e=t.Tm(n),r=e[0],u=e[1];if(u.cm())return r;if(i===Zy.Ym)return u.jy()?r.Xy(Gy._m):r;if(i===Zy.Km)return u.jy()?r:r.Ug(Gy._m);var s=u.km(Gy.tm(2));return s.jy()?s.$y().qy(n)?r:r.Xy(Gy._m):s.qy(n)?r:r.Ug(Gy._m)}(Gy.Zy(this.wi).km(Gy.tm(t/r)),Gy.tm(e/r),i).hm(),t)},i.Fy=function(t){if(this===t)return Qr.Ir;if(0===this.Cm||0===t.Cm)return Xy(this,t);if(this.cm())return t.cm()?Qr.Ir:t.jy()?Qr.Dr:Qr.Cr;if(t.cm())return this.jy()?Qr.Cr:Qr.Dr;var n=d.min(this.Cm,t.Cm),i=this.xm(n,Zy.Jm).wi,e=t.xm(n,Zy.Jm).wi;return i.compare(e)},i.$y=function(){return 0===this.Cm?Jy(this):new n(this.wi.negate(),this.Cm)},i.Ug=function(t){if(0===this.Cm||0===t.Cm)return Qy(this,t);if(this.cm())return t;if(t.cm())return this;var i=d.max(this.Cm,t.Cm),e=this.xm(i,Zy.Jm),r=t.xm(i,Zy.Jm);return new n(e.wi.add(r.wi),i)},i.km=function(t){if(this.Gy()||g(t))return n.Wm;if(this.Yy()||!isFinite(t)){if(this.cm()||0===t)return n.Wm;var i=this.jy()?n.qm:n.Hm;return t<0?i.$y():i}return this.cm()?this:new n(0===t?Kt.ZERO:this.wi.multiply(t),this.Cm)},i.Rm=function(t){if(this.Gy()||g(t))return n.Wm;if(this.Yy())return isFinite(t)?0===t?1/t<0?this.$y():this:t<0?this.$y():this:n.Wm;if(!isFinite(t))return new n(Kt.ZERO,this.Cm);if(this.cm())return 0===t?n.Wm:new n(Kt.ZERO,this.Cm);if(0===t){var i=this.jy()?n.qm:n.Hm;return 1/t<0?i.$y():i}return new n(this.wi.divide(t),this.Cm)},i.Qm=function(){return[this.wi.low,this.wi.high,this.Cm]},n}($y);function Jy(t){return t.Gy()?t:t.jy()?Ky.Hm:Ky.qm}function Qy(t,n){return t.Gy()||n.Gy()?Ky.Wm:t.Yy()&&n.Yy()?t.jy()===n.jy()?t:Ky.Wm:t.Yy()?t:n}Ky.im=new Ky(Kt.ZERO,1e6),Ky.Wm=new Ky(Kt.ZERO,0),Ky.Hm=new Ky(Kt.ONE,0),Ky.qm=new Ky(Kt.NEG_ONE,0);var Zy,tm=function(t){function n(n,i){var e;return(e=t.call(this)||this).wi=void 0,e.Cm=void 0,e.wi=BigInt.asIntN(64,n),e.Cm=i>>>0,e}vt(n,t),n.Vm=function(t,i){return void 0===i&&(i=1e6),n.tm(t*i,i)},n.tm=function(t,i){return g(t)?n.Wm:t===1/0?n.Hm:t===-1/0?n.qm:new n(BigInt(d.floor(t)),i)},n.Zy=function(t,i){return new n(BigInt(t.high)<<BigInt(32)|BigInt(t.low>>>0),i)},n.zm=function(t){return n.Vm(t.Bm,1e6)},n.jm=function(t){return n.tm(t.getTime(),1e3)},n.Am=function(t,n){return t.Uy(n)?t:n},n.Pm=function(t,n){return t.Wy(n)?t:n},n.$m=function(t,i,e){return n.Am(i,n.Pm(e,t))};var i=n.prototype;return i.jy=function(){return this.wi<BigInt(0)},i.cm=function(){return 0!==this.Cm&&this.wi===BigInt(0)},i.Yy=function(){return 0===this.Cm&&this.wi!==BigInt(0)},i.Gy=function(){return 0===this.Cm&&this.wi===BigInt(0)},i.By=function(){if(0===this.Cm)return this.wi===BigInt(0)?NaN:this.wi<BigInt(0)?-1/0:1/0;var t=this.wi/BigInt(this.Cm),n=this.wi-t*BigInt(this.Cm);return Number(t)+Number(n)/this.Cm},i.hm=function(){if(0===this.Cm)throw new f("Failed to convert timestamp");return this.Zm()},i.Zm=function(){var t=this.wi&BigInt(4294967295),n=this.wi>>BigInt(32)&BigInt(4294967295);return Kt.fromBits(Number(t),Number(n))},i.Xm=function(){return new Date(0===this.Cm?NaN:Number(this.xm(1e3).wi))},i.Gm=function(){return new Yy(0===this.Cm?this.By():Number(this.wi),this.Cm)},i.xm=function(t,i){void 0===i&&(i=Zy.Ym);var e=this.Cm;if(e===t)return this;if(0===e)return this;var r=Sn(e,t);return new n(function(t,n,i){var e=t/n,r=t-e*n;if(r===BigInt(0))return e;if(i===Zy.Ym)return r<BigInt(0)?e-BigInt(1):e;if(i===Zy.Km)return r<BigInt(0)?e:e+BigInt(1);var u=r*BigInt(2);return u<BigInt(0)?-u<n?e:e-BigInt(1):u<n?e:e+BigInt(1)}(this.wi*BigInt(t/r),BigInt(e/r),i),t)},i.Fy=function(t){if(this===t)return Qr.Ir;if(0===this.Cm||0===t.Cm)return Xy(this,t);if(this.cm())return t.cm()?Qr.Ir:t.jy()?Qr.Dr:Qr.Cr;if(t.cm())return this.jy()?Qr.Cr:Qr.Dr;var n=d.min(this.Cm,t.Cm),i=this.xm(n,Zy.Jm).wi,e=t.xm(n,Zy.Jm).wi;return i>e?Qr.Dr:i<e?Qr.Cr:Qr.Ir},i.$y=function(){return 0===this.Cm?nm(this):new n(-this.wi,this.Cm)},i.Ug=function(t){if(0===this.Cm||0===t.Cm)return im(this,t);if(this.cm())return t;if(t.cm())return this;var i=d.max(this.Cm,t.Cm),e=this.xm(i,Zy.Jm),r=t.xm(i,Zy.Jm);return new n(e.wi+r.wi,i)},i.km=function(t){if(this.Gy()||g(t))return n.Wm;if(this.Yy()||!isFinite(t)){if(this.cm()||0===t)return n.Wm;var i=this.jy()?n.qm:n.Hm;return t<0?i.$y():i}return this.cm()?this:new n(0===t?BigInt(0):this.wi*BigInt(t),this.Cm)},i.Rm=function(t){if(this.Gy()||g(t))return n.Wm;if(this.Yy())return isFinite(t)?0===t?1/t<0?this.$y():this:t<0?this.$y():this:n.Wm;if(!isFinite(t))return new n(BigInt(0),this.Cm);if(this.cm())return 0===t?n.Wm:new n(BigInt(0),this.Cm);if(0===t){var i=this.jy()?n.qm:n.Hm;return 1/t<0?i.$y():i}return new n(this.wi/BigInt(t),this.Cm)},i.Qm=function(){var t=this.Zm();return[t.low,t.high,this.Cm]},ft(n,null,[{key:"im",get:function(){return n.tb||(n.tb=new n(BigInt(0),1e6)),n.tb}},{key:"Wm",get:function(){return n.nb||(n.nb=new n(BigInt(0),0)),n.nb}},{key:"Hm",get:function(){return n.ib||(n.ib=new n(BigInt(1),0)),n.ib}},{key:"qm",get:function(){return n.eb||(n.eb=new n(BigInt(-1),0)),n.eb}}]),n}($y);function nm(t){return t.Gy()?t:t.jy()?tm.Hm:tm.qm}function im(t,n){return t.Gy()||n.Gy()?tm.Wm:t.Yy()&&n.Yy()?t.jy()===n.jy()?t:tm.Wm:t.Yy()?t:n}tm.tb=void 0,tm.nb=void 0,tm.ib=void 0,tm.eb=void 0,function(t){t[t.Ym=0]="Ym",t[t.Km=1]="Km",t[t.Jm=2]="Jm"}(Zy||(Zy={}));var em=function(){try{return"function"==typeof BigInt&&"bigint"==typeof BigInt(0)}catch(t){return!1}}()?tm:Ky,rm=9e4,um=d.pow(2,33);em.tm(um,rm).Rm(2);var sm,om,cm,am,fm={ub:0,sb:1/0,ob:0},hm=6,vm=["WEBVTT","WEBVTT ","WEBVTT\t","WEBVTT\n"],dm=[" ","\t","\n","\f","\r"],lm=/^\d*$/,wm=/.*[0-9]+.*/,gm=/^[\d.-]+$/,ym=/(^\.|\.$)/,mm=/(\D\.|\.\D)/;function bm(t,n){void 0===n&&(n=fm);var i={Fl:[],cb:[],ab:[]},e=pm(t),r=new Ms;if(Nm(e),_m(e,function(t){return"\n"!==t},r),r.Iu>=e.length)return i;(r.Su(1),"\n"!==e.charAt(r.Iu))?Em(km(e,r,!1,!0,i,n),i):r.Su(1);for(_m(e,function(t){return"\n"===t},r);r.Iu<e.length;){Em(km(e,r,!1,!1,i,n),i),_m(e,function(t){return"\n"===t},r)}return i}function pm(t){var n=Hr(t,"\0"," "),i=Hr(n,"\r\n","\n");return Hr(i,"\r","\n")}function _m(t,n,i){for(var e=i.Iu;i.Iu<t.length&&n(t.charAt(i.Iu));)i.Su(1);return t.substring(e,i.Iu)}function km(t,n,i,e,r,u){for(var s,o=0,c=n.Iu,a="",f=!1,h=!1,v=null,d=null,l=null;!f;)if(s=_m(t,function(t){return"\n"!==t},n),o++,n.Iu>=t.length?f=!0:n.Su(1),qr(s,"--\x3e")){if(e||1!==o&&(2!==o||h)){n.Eu(c);break}h=!0,c=n.Iu,v=new zy(0,0,"",!1,a);try{Rm(s,r.cb,v,u),a=""}catch(t){st.Ie(t),v=null}}else{if(""===s)break;e&&zr(s,"X-TIMESTAMP-MAP")&&(r.fb=Tm(s)),e||2!==o||i||($r("STYLE",a.replace(/ /g,""))?(d={gr:Ay.Jg},a=""):$r("REGION",a.replace(/ /g,""))&&(l=new jy("",100,3,0,100,0,100,""),a="")),a&&(a+="\n"),a+=s,c=n.Iu}if(v)return v.sy=a,v;if(d);else if(l)return function(t,n){for(var i=t.split(/\s/),e=0;e<i.length;e++){var r=i[e];if(0!==r.length&&qr(r,":")&&":"!==r.charAt(0)&&":"!==r.charAt(r.length-1)){var u=r.indexOf(":"),s=r.substring(0,u),o=r.substring(u+1,r.length);switch(s.toUpperCase()){case"ID":Wm(o,n);break;case"WIDTH":zm(o,n);break;case"LINES":qm(o,n);break;case"REGIONANCHOR":var c=Vm(o);c&&(n.Ny=c[0],n.Oy=c[1]);break;case"VIEWPORTANCHOR":var a=Vm(o);a&&(n.Ay=a[0],n.Py=a[1]);break;case"SCROLL":Hm(o,n)}}}}(a,l),l;return null}function Tm(t){var n,i,e=t.split("=")[1].trim().split(","),r=Sm(e[0].trim(),"MPEGTS")?e[0]:e[1],u=Sm(e[0].trim(),"LOCAL")?e[0]:e[1];return{hb:(i=Number(r.split(/:(.*)/)[1].trim())||0,em.tm(i,rm)),vb:em.Vm(null!=(n=Cm(u.split(/:(.*)/)[1].trim(),new Ms))?n:0)}}function Sm(t,n){return zr(t,n)}function Em(t,n){t&&function(t){return t.gr===Ay.Yg}(t)?n.Fl.push(t):t&&function(t){return t.gr===Ay.Kg}(t)?n.cb.push(t):t&&function(t){return t.gr===Ay.Jg}(t)&&n.ab.push(t)}function Rm(t,n,i,e){var r=new Ms;if(Om(t,r),i.ey=Im(Cm(t,r),e),Om(t,r),"--\x3e"!==t.substring(r.Iu,r.Iu+3))throw f("Something went wrong with parsing a WebVTT Cue");r.Su(3),Om(t,r),i.uy=Im(Cm(t,r),e),function(t,n,i){for(var e=t.split(/\s/),r=0;r<e.length;r++){var u=e[r];if(0!==u.length&&qr(u,":")&&":"!==u.charAt(0)&&":"!==u.charAt(u.length-1)){var s=u.indexOf(":"),o=u.substring(0,s),c=u.substring(s+1,u.length);switch(o.toUpperCase()){case"REGION":Bm(c,n,i);break;case"VERTICAL":Fm(c,n);break;case"D":Um(c,n);break;case"LINE":case"L":xm(c,n);break;case"POSITION":case"T":Lm(c,n);break;case"SIZE":case"S":Mm(c,n);break;case"ALIGN":case"A":Pm(c,n)}}}}(t.substring(r.Iu,t.length),i,n)}function Im(t,n){return t+n.ub}function Dm(t){return/^[0-9]$/.test(t)}function Cm(t,n){var i,e,r,u=Hr(t,",","."),s=!1;if(n.Iu>=u.length||!Dm(u.charAt(n.Iu)))throw new f("Something went wrong with parsing a WebVTT Cue timestamp");var o=_m(u,Dm,n),c=l(o,10);if((o.length>2||c>59)&&(s=!0),n.Iu>=u.length||":"!==u.charAt(n.Iu))throw new f("Something went wrong with parsing a WebVTT Cue timestamp");n.Su(1);var a=_m(u,Dm,n);if(2!==a.length)throw new f("Something went wrong with parsing a WebVTT Cue timestamp");var h=l(a,10);if(s||n.Iu<u.length&&":"===u.charAt(n.Iu)){if(n.Iu>=u.length||":"!==u.charAt(n.Iu))throw new f("Something went wrong with parsing a WebVTT Cue timestamp");n.Su(1);var v=_m(u,Dm,n);if(2!==a.length)throw new f("Something went wrong with parsing a WebVTT Cue timestamp");i=c,e=h,r=l(v,10)}else i=0,e=c,r=h;if(n.Iu>=u.length||"."!==u.charAt(n.Iu))throw new f("Something went wrong with parsing a WebVTT Cue timestamp");n.Su(1);var d=_m(u,Dm,n),w=l(d,10);if(h>59||r>59)throw new f("Something went wrong with parsing a WebVTT Cue timestamp");return 60*i*60+60*e+r+w/1e3}function Nm(t){if(t.length<hm)return!1;for(var n=0;n<vm.length;n++){if(zr(t,vm[n]))return!0}return!1}function Om(t,n){for(;n.Iu<t.length&&(i=t.charAt(n.Iu),au(dm,i));)n.Su(1);var i}function Am(t){var n=t.lastIndexOf("%");if(n>-1){var i=w(t.substring(0,n));if(!g(i)&&i>=0&&i<=100)return i}return null}function Pm(t,n){var i=t.toLowerCase();switch(i){case"start":case"center":case"end":case"left":case"right":n.Ry=i;break;case"middle":n.Ry="center"}}function xm(t,n){var i,e,r=t.indexOf(",");if(r>=0?(i=t.substring(0,r),e=t.substring(r+1,t.length)):(i=t,e=""),wm.test(i)){var u,s;if(jr(i,"%")){var o=Am(i);if(null===o)return;u=o,s=!1}else{if(!gm.test(i)||i.lastIndexOf("-")>0)return;var c=i.indexOf(".");if(c>=0&&(c!==i.lastIndexOf(".")||!mm.test(i)||ym.test(i)))return;if(u=w(i),g(u))return;s=!0}switch(n.py=u,n.Ey=s,e=e.toLowerCase()){case"start":case"center":case"end":n._y=e;break;case"middle":n._y="center"}}}function Lm(t,n){var i,e,r=t.indexOf(",");r>=0?(i=t.substring(0,r),e=t.substring(r+1,t.length)):(i=t,e="");var u=Am(i);if(null!==u)switch(n.ky=u,e=e.toLowerCase()){case"line-left":case"center":case"line-right":case"auto":n.Ty=e;break;case"start":n.Ty="line-left";break;case"middle":n.Ty="center";break;case"end":n.Ty="line-right"}}function Bm(t,n,i){var e,r,u,s=-1===(u=function(t,n,i){for(var e=t.length-1;e>=0;e-=1){var r=t[e];if(n.call(i,r,e,t))return e}return-1}(e=i,function(n){return n.kl===t},r))?void 0:e[u];void 0!==s&&(n.Sy=s)}function Mm(t,n){var i=Am(t);null!==i&&(n.ku=i)}function Fm(t,n){switch(t.toLowerCase()){case"rl":case"vertical:rl":case"vertical-rl":n.Iy="rl";break;case"lr":case"vertical:lr":case"vertical-lr":n.Iy="lr";break;default:n.Iy=""}}function Um(t,n){"VERTICAL"===t.toUpperCase()?n.Iy="rl":"VERTICAL-LR"===t.toUpperCase()&&(n.Iy="lr")}function Vm(t){if(t.indexOf(",")>=0){var n=Am(t.substring(0,t.indexOf(","))),i=Am(t.substring(t.indexOf(",")+1,t.length));return[kn(n||0,0,100),kn(i||100,0,100)]}return null}function Wm(t,n){n.kl=t}function Hm(t,n){"up"===t.toLowerCase()&&(n.xy="up")}function qm(t,n){lm.test(t)&&(n.Cy=l(t))}function zm(t,n){var i=Am(t);null!==i&&(n.Dy=i)}!function(t){t.lb="moov",t.wb="mvhd",t.gb="trak",t.yb="tkhd",t.mb="mdia",t.bb="mdhd",t.pb="hdlr",t._b="minf",t.kb="stbl",t.Tb="stsd",t.Sb="stsc",t.Eb="mvex",t.Rb="trex",t.Ib="avc1",t.Db="avcC",t.Cb="hev1",t.Nb="hvc1",t.Ob="hvcC",t.Ab="pasp",t.Pb="mp4a",t.xb="esds",t.Lb="wvtt",t.Bb="vttC",t.Mb="vlab",t.Fb="enca",t.Ub="encv",t.Vb="moof",t.Wb="mfhd",t.Hb="traf",t.qb="tfhd",t.zb="trun",t.jb="tfdt",t.$b="senc",t.Xb="mdat",t.Gb="pssh",t.Yb="emsg",t.Kb="sidx",t.Jb="styp",t.Qb="ftyp",t.Zb="sinf",t.tp="frma"}(sm||(sm={})),function(t){t.ov="vide",t.sv="soun",t.np="subt",t.ip="hint",t.ep="meta",t.rp="auxv"}(om||(om={})),function(t){t[t.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",t[t.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",t[t.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",t[t.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",t[t.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT",t[t.DURATION_IS_EMPTY=32]="DURATION_IS_EMPTY",t[t.DEFAULT_BASE_IS_MOOF=131072]="DEFAULT_BASE_IS_MOOF"}(cm||(cm={})),function(t){t[t.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",t[t.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",t[t.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",t[t.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT=2048]="SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT"}(am||(am={}));var jm=function(){function t(t,n){this.Pi=void 0,this.sp=void 0,this.Pi=t,this.sp=n}var n=t.prototype;return n.op=function(){return os(this.Pi,this.sp)},n.cp=function(){return hs(this.Pi,this.sp)},n.ap=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt16(n.Iu,i);return n.Su(2),e}(this.Pi,this.sp)},n.fp=function(){return ds(this.Pi,this.sp)},n.hp=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt32(n.Iu,i);return n.Su(4),e}(this.Pi,this.sp)},n.vp=function(){return ws(this.Pi,this.sp)},n.dp=function(t){return as(this.Pi,this.sp,t)},n.lp=function(t){return function(t,n,i){for(var e=[],r=0;r<i;r++)e.push(ds(t,n));return e}(this.Pi,this.sp,t)},n.wp=function(t){return ms(this.Pi,this.sp,t)},n.gp=function(){return Is(this.Pi,this.sp)},n.yp=function(t){this.sp.Su(t)},n.Ru=function(){return new t(this.Pi,this.sp.Ru())},t}(),$m=function(t){function n(n,i){var e;return(e=t.call(this)||this).mp=n,e.bp=i,e}return vt(n,t),ft(n,[{key:"name",get:function(){return"DataIncompleteError"}}]),n}(On),Xm=function(){function t(){}return t.pp=function(n){var i=n.Pi,e=n.sp,r=t._p(i,e,!1);if(!r.kp)throw new $m(e.Iu,r.Si);return r.Si},t._p=function(n,i,e){for(var r=[];i.Iu<n.byteLength;){var u=t.Tp(n,i,e);if(!u.kp)return{kp:!1,Si:r};r.push(u.Sp)}return{kp:!0,Si:r}},t.Ep=function(n,i){var e=t.Tp(n,i,!1);if(!e.kp)throw new $m(i.Iu);return e.Sp},t.Rp=function(n,i){for(var e=n.Pi,r=n.sp;r.Iu<e.byteLength;){var u=t.Tp(e,r,!1);if(!u.kp)return;if(u.Sp.gr===i)return u.Sp}},t.Tp=function(n,i,e){var r=i.Iu,u=t.Ip(n,i);if(!u.kp)return u;var s=u.Dp,o=s.ku;if(0===o){if(e)return i.Eu(r),{kp:!1,Cp:1/0};o=n.byteLength-r}var c=r+o;if(c>n.byteLength){var a=c;return i.Eu(r),{kp:!1,Cp:a}}var f,h,v,d={gr:s.gr,Iu:r,Pi:new jm((f=n,h=r,v=c,void 0===h&&(h=0),void 0===v&&(v=f.byteLength),new DataView(f.buffer,f.byteOffset+h,v-h)),new Ms(s.Np))};return i.Eu(c),{kp:!0,Sp:d}},t.Ip=function(t,n){var i=n.Iu;if(!fs(t,n,8))return{kp:!1,Cp:n.Iu+8};var e=ds(t,n),r=ms(t,n,4);if(1===e){if(!fs(t,n,8)){var u=n.Iu+8;return n.Eu(i),{kp:!1,Cp:u}}e=ws(t,n).toNumber()}if("uuid"===r){if(!fs(t,n,16)){var s=n.Iu+16;return n.Eu(i),{kp:!1,Cp:s}}r=ms(t,n,16)}return{kp:!0,Dp:{gr:r,ku:e,Np:n.Iu-i}}},t.Op=function(t,n,i){var e=t.Pi,r=t.sp,u=Ns(As(e),r.Iu,e.byteLength);return i&&(u=Bs(u)),r.Su(u.byteLength),{gr:n,Pi:u}},t.Ap=function(n,i,e){var r=Jm(n.fp());return{gr:i,Pp:r.version,xp:r.flags,Pi:t.Op(n,i,e).Pi}},t}();function Gm(t,n){var i=Ym(t,n);if(!i)throw new f("Missing "+n+" atom");return i}function Ym(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.gr===n)return e.Pi}}function Km(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];r.gr===n&&i.push(r.Pi)}return i}function Jm(t){return{version:t>>24,flags:new ss(16777215&t)}}var Qm=function(){function t(){}return t.Lp=function(n){for(var i=[],e=Xm.pp(new jm(n,new Ms)),r=0;r<e.length;r++){var u=e[r],s=t.Bp(u);s&&i.push(s)}return i},t.Mp=function(t){return Xm._p(t,new Ms,!1).Si.some(this.Fp)},t.Up=function(n){return Km(Xm.pp(new jm(n,new Ms)),sm.Gb).map(t.Vp)},t.Wp=function(n){return Km(Xm.pp(n.Pi),sm.Gb).map(t.Vp)},t.Fp=function(t){return t.gr===sm.Qb||t.gr===sm.Jb||t.gr===sm.lb||t.gr===sm.Vb||t.gr===sm.Xb||t.gr===sm.Kb||t.gr===sm.Yb},t.Bp=function(n){switch(n.gr){case sm.lb:return t.Hp(n.Pi);case sm.Vb:return t.qp(n.Pi,n.Iu);case sm.Xb:return t.zp(n.Pi);case sm.Kb:return t.jp(n.Pi);case sm.Yb:return t.$p(n.Pi)}},t.Hp=function(n){var i=Xm.pp(n),e=Gm(i,sm.wb),r=Km(i,sm.gb),u=Ym(i,sm.Eb),s=t.Xp(e),o=r.map(t.Gp),c=u?t.Yp(u):void 0;return{gr:sm.lb,Dp:s,Kp:o,Jp:c}},t.Xp=function(t){var n=Jm(t.fp()),i=n.version,e=n.flags,r=1===i?t.vp():t.fp(),u=1===i?t.vp():t.fp(),s=t.fp(),o=1===i?t.vp():t.fp(),c=t.fp(),a=t.cp()>>8;t.yp(2),t.yp(8);var f=t.lp(9);t.yp(24);var h=t.fp();return{gr:sm.wb,Pp:i,xp:e,Qp:r,Zp:u,Cm:s,pw:o,t_:c,Cw:a,n_:f,i_:h}},t.Gp=function(n){var i=Xm.pp(n),e=Gm(i,sm.yb),r=Gm(i,sm.mb),u=t.e_(e),s=t.r_(r);return{gr:sm.gb,Dp:u,u_:s}},t.e_=function(t){var n=Jm(t.fp()),i=n.version,e=n.flags,r=1===i?t.vp():t.fp(),u=1===i?t.vp():t.fp(),s=t.fp();t.yp(4);var o=1===i?t.vp():t.fp();t.yp(8);var c=t.ap(),a=t.ap(),f=t.ap()/d.pow(2,8);t.yp(2);var h=t.lp(9),v=t.fp()/d.pow(2,16),l=t.fp()/d.pow(2,16);return{gr:sm.yb,s_:e.Cu(1),o_:e.Cu(2),c_:e.Cu(4),Qp:r,Zp:u,a_:s,pw:o,f_:c,h_:a,Cw:f,n_:h,Dy:v,v_:l}},t.r_=function(n){var i=Xm.pp(n),e=Gm(i,sm.bb),r=Gm(i,sm.pb),u=Gm(i,sm._b),s=t.d_(e),o=t.l_(r),c=t.w_(u);return{gr:sm.mb,Dp:s,g_:o,y_:c}},t.d_=function(t){var n=Jm(t.fp()),i=n.version,e=n.flags,r=1===i?t.vp():t.fp(),u=1===i?t.vp():t.fp(),s=t.fp(),o=1===i?t.vp():t.fp();return t.cp(),t.yp(2),{gr:sm.bb,Pp:i,xp:e,Qp:r,Zp:u,Cm:s,pw:o}},t.l_=function(t){var n=Jm(t.fp()),i=n.version,e=n.flags;t.yp(4);var r=t.wp(4);t.yp(12);var u=t.gp();return{gr:sm.pb,Pp:i,xp:e,m_:r,vi:u}},t.w_=function(n){var i=Gm(Xm.pp(n),sm.kb),e=t.b_(i);return{gr:sm._b,p_:e}},t.b_=function(n){var i=Gm(Xm.pp(n),sm.Tb),e=t.__(i);return{gr:sm.kb,k_:e}},t.__=function(n){var i=Jm(n.fp()),e=i.version,r=i.flags;n.fp();for(var u=[],s=Xm.pp(n),o=0;o<s.length;o++){var c=s[o],a=t.T_(c.Pi,c.gr);a&&u.push(a)}return{gr:sm.Tb,Pp:e,xp:r,S_:u}},t.T_=function(n,i){var e=t.E_(n,i);return e||((e=t.R_(n,i))||(i===sm.Lb?t.I_(n):void 0))},t.E_=function(n,i){return i===sm.Pb?t.D_(n):i===sm.Fb?t.C_(n):void 0},t.R_=function(n,i){return i===sm.Ib?t.N_(n):i===sm.Cb||i===sm.Nb?t.O_(n,i):i===sm.Ub?t.A_(n):void 0},t.P_=function(t,n){return t.yp(6),{gr:n,x_:t.cp()}},t.L_=function(n,i){var e=t.P_(n,i);n.yp(8);var r=n.cp(),u=n.cp();return n.yp(2),n.yp(2),wr({},e,{B_:r,M_:u,F_:n.fp()>>>16})},t.U_=function(n,i){var e=t.P_(n,i);n.yp(2),n.yp(2),n.yp(12);var r=n.cp(),u=n.cp(),s=n.fp(),o=n.fp();n.yp(4);var c=n.cp();n.yp(32);var a=n.cp();return n.yp(2),wr({},e,{Dy:r,v_:u,V_:s,W_:o,H_:c,q_:a})},t.D_=function(n){var i=t.L_(n,sm.Pb),e=Gm(Xm.pp(n),sm.xb);return wr({},i,{z_:t.j_(e)})},t.I_=function(n){var i=t.P_(n,sm.Lb),e=Xm.pp(n),r=Gm(e,sm.Bb),u=t.X_(r),s=Ym(e,sm.Mb);return wr({},i,{G_:u,Y_:s?t.K_(s):s})},t.X_=function(t){return{gr:sm.Bb,lc:t.gp()}},t.K_=function(t){return{gr:sm.Mb,El:t.gp()}},t.j_=function(t){return Xm.Ap(t,sm.xb,!0)},t.N_=function(n){var i=t.U_(n,sm.Ib),e=Xm.pp(n),r=Gm(e,sm.Db),u=Ym(e,sm.Ab);return wr({},i,{J_:t.Q_(r),Z_:u?t.tk(u):void 0})},t.O_=function(n,i){var e=t.U_(n,i),r=Gm(Xm.pp(n),sm.Ob);return wr({},e,{nk:t.ik(r)})},t.A_=function(n){var i=n.Ru(),e=t.U_(n,sm.Ub),r=Gm(Xm.pp(n),sm.Zb),u=t.ek(r);return wr({},e,{rk:t.R_(i,u.sk.uk),ck:u})},t.C_=function(n){var i=n.Ru(),e=t.L_(n,sm.Fb),r=Gm(Xm.pp(n),sm.Zb),u=t.ek(r);return wr({},e,{rk:t.E_(i,u.sk.uk),ck:u})},t.ek=function(n){var i=Gm(Xm.pp(n),sm.tp),e=t.ak(i);return{gr:sm.Zb,sk:e}},t.ak=function(t){var n=t.wp(4);return{gr:sm.tp,uk:n}},t.Q_=function(t){return Xm.Op(t,sm.Db,!0)},t.ik=function(t){return Xm.Op(t,sm.Ob,!0)},t.tk=function(t){var n=t.fp(),i=t.fp();return{gr:sm.Ab,fk:n,hk:i}},t.Yp=function(n){var i=Km(Xm.pp(n),sm.Rb).map(t.vk);return{gr:sm.Eb,Kp:i}},t.vk=function(t){var n=Jm(t.fp()),i=n.version,e=n.flags,r=t.fp(),u=t.fp(),s=t.fp(),o=t.fp(),c=t.fp();return{gr:sm.Rb,Pp:i,xp:e,a_:r,dk:u,lk:s,wk:o,gk:c}},t.qp=function(n,i){var e=Xm.pp(n),r=Gm(e,sm.Wb),u=Km(e,sm.Hb),s=t.yk(r),o=u.map(t.mk);return{gr:sm.Vb,bk:i,Dp:s,Kp:o}},t.yk=function(t){var n=Jm(t.fp()),i=n.version,e=n.flags,r=t.fp();return{gr:sm.Wb,Pp:i,xp:e,pk:r}},t.mk=function(n){var i=Xm.pp(n),e=Gm(i,sm.qb),r=Km(i,sm.zb),u=Ym(i,sm.jb),s=t._k(e),o=r.map(function(n){return t.kk(n,s)}),c=u?t.Tk(u):void 0;return{gr:sm.Hb,Dp:s,Sk:o,Ek:c}},t._k=function(t){var n=Jm(t.fp()),i=n.version,e=n.flags,r=t.fp(),u=e.Cu(cm.BASE_DATA_OFFSET_PRESENT)?t.vp():void 0,s=e.Cu(cm.SAMPLE_DESCRIPTION_INDEX_PRESENT)?t.fp():void 0,o=e.Cu(cm.DEFAULT_SAMPLE_DURATION_PRESENT)?t.fp():void 0,c=e.Cu(cm.DEFAULT_SAMPLE_SIZE_PRESENT)?t.fp():void 0,a=e.Cu(cm.DEFAULT_SAMPLE_FLAGS_PRESENT)?t.fp():void 0;return{gr:sm.qb,Pp:i,xp:e,a_:r,Rk:u,Ik:s,lk:o,wk:c,gk:a}},t.kk=function(n,i){for(var e=Jm(n.fp()),r=e.version,u=e.flags,s=n.fp(),o=u.Cu(am.DATA_OFFSET_PRESENT)?n.hp():void 0,c=u.Cu(am.FIRST_SAMPLE_FLAGS_PRESENT)?n.fp():void 0,a=[],f=0;f<s;f++){var h=t.Dk(n,u,r,i);0===f&&void 0!==c&&(h.xp=c),a.push(h)}return{gr:sm.zb,Pp:r,xp:u,Ck:s,bk:o,Nk:c,Ok:a}},t.Dk=function(t,n,i,e){return{pw:n.Cu(am.SAMPLE_DURATION_PRESENT)?t.fp():e.lk,ku:n.Cu(am.SAMPLE_SIZE_PRESENT)?t.fp():e.wk,xp:n.Cu(am.SAMPLE_FLAGS_PRESENT)?t.fp():e.gk,Ak:n.Cu(am.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT)?0===i?t.fp():t.hp():void 0}},t.$p=function(t){var n=t.Pi,i=t.sp,e=Jm(ds(n,i)),r=e.version,u=e.flags;if(1===r){var s=ds(n,i),o=ws(n,i),c=ds(n,i),a=ds(n,i),f=ys(n,i),h=ys(n,i),v=Ls(As(n),i.Iu,n.byteLength);return i.Su(v.byteLength),{gr:sm.Yb,Pp:r,xp:u,Pk:f,wi:h,Cm:s,xk:o,Lk:c,kl:a,Bk:v}}var d=ys(n,i),l=ys(n,i),w=ds(n,i),g=ds(n,i),y=ds(n,i),m=ds(n,i),b=Ls(As(n),i.Iu,n.byteLength);return i.Su(b.byteLength),{gr:sm.Yb,xp:u,Pp:r,Pk:d,wi:l,Cm:w,Mk:g,Lk:y,kl:m,Bk:b}},t.zp=function(t){return Xm.Op(t,sm.Xb,!1)},t.Vp=function(n){var i=n.Pi,e=n.sp,r=Bs(As(i)).buffer,u=Jm(ds(i,e)),s=u.version,o=u.flags,c=t.Fk(i,e),a=[];if(s>0)for(var f=ds(i,e),h=0;h<f;h++){var v=as(i,e,16);a.push(v)}var d=ds(i,e),l=new y(r,e.Iu,d);return e.Su(i.byteLength),{gr:sm.Gb,Pp:s,xp:o,Uk:c,Vk:a,Wk:d,Pi:l,Hk:r}},t.Fk=function(t,n){for(var i="",e=0;e<4;e++){var r=os(t,n).toString(16);i+=1===r.length?"0"+r:r}i+="-";for(var u=0;u<2;u++){var s=os(t,n).toString(16);i+=1===s.length?"0"+s:s}i+="-";for(var o=0;o<2;o++){var c=os(t,n).toString(16);i+=1===c.length?"0"+c:c}i+="-";for(var a=0;a<2;a++){var f=os(t,n).toString(16);i+=1===f.length?"0"+f:f}i+="-";for(var h=0;h<6;h++){var v=os(t,n).toString(16);i+=1===v.length?"0"+v:v}return i.toLowerCase()},t.jp=function(t){var n,i,e=t.Pi,r=t.sp,u=Jm(ds(e,r)),s=u.version,o=u.flags,c=ds(e,r),a=ds(e,r);0===s?(n=Kt.fromBits(ds(e,r),0,!0),i=Kt.fromBits(ds(e,r),0,!0)):(n=ws(e,r),i=ws(e,r)),r.Su(2);for(var f=hs(e,r),h=[],v=0;v<f;v+=1){var d=ds(e,r),l=d>>31&1,w=2147483647&d,g=ds(e,r),y=ds(e,r),m=y>>31&1,b=y>>28&7,p=268435455&y;h.push({qk:l,zk:w,pw:g,jk:m,$k:b,Xk:p})}return{gr:sm.Kb,Pp:s,xp:o,Gk:c,Cm:a,Yk:n,Kk:i,Jk:f,Qk:h}},t.Tk=function(t){var n,i=t.Pi,e=t.sp,r=Jm(ds(i,e)),u=r.version,s=r.flags;return n=0===u?Kt.fromBits(ds(i,e),0,!0):ws(i,e),{gr:sm.jb,Pp:u,xp:s,Ek:n}},t}();function Zm(t){return t&&"Ti"in t?t.Ti:t}var tb=function(t){function n(n,i,e,r,u,s,o){var c;return(c=t.call(this,n,i,e,r)||this).Zk=void 0,c.tT=void 0,c.nT=void 0,c.Zk=u,c.tT=s,c.nT=o||void 0,c}return vt(n,t),n.prototype.yy=function(n){return this===n||!!Pw(this,n)&&(!!t.prototype.yy.call(this,n)&&(!!Aw(this.iT,n.iT)&&(!!Aw(this.cb,n.cb)&&(this.eT&&n.eT?!!this.eT.ai(n.eT)&&(this.sy&&n.sy?this.sy.ai(n.sy):this.sy===n.sy):this.eT===n.eT))))},ft(n,[{key:"iT",get:function(){return this.Zk}},{key:"cb",get:function(){return this.tT}},{key:"eT",get:function(){return this.nT}},{key:"Pd",get:function(){var t;return this.Ad||(this.Ad=Nw(Fy(t=this),{get styles(){return t.iT},get regions(){return t.cb},get metadata(){return Zm(t.eT)},get content(){return Zm(t.sy)}})),this.Ad}}]),n}(qy),nb=function(){function t(t,n,i){this.Ef=void 0,this.rT=void 0,this.uT=void 0,this.rT=t,this.uT=n,Dn(i)?this.Ef=function(t,n,i){for(var e=0,r=["begin","end","dur"];e<r.length;e++){var u=r[e];i.Ii(u)}return i}(0,0,i):this.Ef=i}return ft(t,[{key:"sT",get:function(){return this.Ef.fi(!0)}},{key:"ey",get:function(){return this.rT}},{key:"uy",get:function(){return this.uT}}]),t}();var ib="http://www.w3.org/XML/1998/namespace";function eb(t,n){return function(t,n){var i=t.Si.slice(),e=[];for(;i.length>0;){var r=i.shift();n(r)?e.push(r):i.push.apply(i,r.Si)}return e}(t,function(t){return t.pi===n})}function rb(t,n){for(var i=t,e=0;e<n.length;e++){var r=n[e];i=i.replace(r+":","")}return i}function ub(t,n){for(var i=t.Oi,e={},r=0;r<i.length;r++)e[rb(i[r].vi,n)]=i[r].wi;return e}var sb=/^(\d\d+):(\d\d):(\d+)((\.(\d+))?|(:(\d\d+)(\.(\d+))?))$/,ob=/^(\d+)(\.(\d+))?(h|m|s|ms|f|t)$/,cb="http://www.w3.org/ns/ttml";function ab(t,n,i){return void 0===i&&(i=fm),function(t,n,i){var e,r=[];try{e=st.oi(t)}catch(t){return r}var u=e.xi;if("tt"!==u.hi)return r;var s=u&&u._i(cb,"head")[0],o=u&&u._i(cb,"body")[0],c=["ebutts","tts","xml"];if(!o||!s)return r;for(var a=function(t,n){for(var i={},e=t._i(cb,"styling")[0],r=e&&e._i(cb,"style")||[],u=0;u<r.length;u++){var s=r[u],o=s.Ri(ib,"id");i[o]=ub(s,n)}return i}(s,c),f=function(t,n){var i=Ow(t),e=db(n.Ei("tts:extent"));if(!e)return i;for(var r=0,u=v.keys(i);r<u.length;r++){var s=u[r],o=db(i[s].extent);if(o){var c=hb(o[0],e[0]),a=hb(o[1],e[1]);i[s].extent=c+" "+a}var f=db(i[s].origin);if(f){var h=hb(f[0],e[0]),d=hb(f[1],e[1]);i[s].origin=h+" "+d}}return i}(function(t,n){for(var i={},e=t._i(cb,"layout")[0],r=e&&e._i(cb,"region")||[],u=0;u<r.length;u++){var s=r[u],o=s.Ri(ib,"id");if(o){i[o]=ub(s,n);var c=gb(s,n);for(var a in c)Et.call(c,a)&&(i[o][a]=c[a])}}return i}(s,c),u),h=s._i(cb,"metadata")[0],d=function t(n,i,e,r){var u=i;var s;var o=e;var c=[];var a=[];if(Dn(n)){var f,h;u=null!=(f=wb(n.Ei("begin"),r))?f:u,s=wb(n.Ei("dur"),0),o=null!=(h=wb(n.Ei("end"),r))?h:void 0!==s?u+s:o;for(var v=n.bi,d=0;d<v.length;d++)("body"===n.hi||"div"===n.hi)&&v[d].ni>1||(c=c.concat(t(v[d],u,o,r)))}var l=function(t,n,i){var e=[];e.push(t,n);for(var r=0;r<i.length;r++){var u=i[r];e.push(u.ey,u.uy)}e.sort(eu);for(var s=e.length,o=0;o<s-1;o++)e[o+1]===e[o]&&(cu(e,o+1),o--,s=e.length);return e}(u,o,c);for(var w=0;w<l.length-1;w++){var g=lb(l[w],l[w+1],c);if(g.length<=0&&yb(n)){var y=n.fi(!1);a.push(new nb(l[w],l[w+1],y))}else g.length>0&&function(){var t=n.fi(!1);g.forEach(function(n){return t.ki(n.sT)}),a.push(new nb(l[w],l[w+1],t))}()}return a}(o,i.ub,i.sb,i.ob),l=0;l<d.length;l++){var w=d[l],g=fb(f,w);r.push(new tb(w.ey,w.uy,w.sT,!1,a,g,h))}return r}(t,0,i)}function fb(t,n){for(var i=function t(n){var i=[];var e;if(Dn(n)){(e=n.Ei("region"))&&i.push(e);for(var r=n.bi,u=0;u<r.length;u++)i=i.concat(t(r[u]))}return i}(n.sT),e={},r=0;r<i.length;r++){var u=i[r];e[u]=t[u]}return e}function hb(t,n){var i=vb(t),e=vb(n);if(i&&e&&i===e){var r=Number(t.slice(0,-i.length)),u=Number(n.slice(0,-e.length));return g(r)||g(u)?t:r/u*100+"%"}return t}function vb(t){return jr(t,"px")?"px":jr(t,"em")?"em":jr(t,"c")?"c":jr(t,"%")?"%":void 0}function db(t){if(t){var n=t.split(" ");if(2===n.length)return[n[0],n[1]]}}function lb(t,n,i){for(var e=[],r=0;r<i.length;r++){var u=i[r].ey,s=i[r].uy;(u>=t&&s<=n||u<n&&s>=n||u<t&&s>t)&&e.push(i[r])}return e}function wb(t,n){if(t){if(sb.test(t)){var i=sb.exec(t);if(!i)return;var e=Number(i[1])||0,r=Number(i[2])||0,u=Number(i[3])||0,s=i[6];return 3600*e+60*r+u+(s?Number(s)*d.pow(.1,s.length):0)+n}if(ob.test(t)){var o=ob.exec(t);if(!o)return;var c,a=Number(o[1]);switch(o[4]){case"h":c=3600*a;break;case"m":c=60*a;break;case"s":c=a;break;case"ms":c=.001*a;break;case"f":case"t":default:c=NaN}return c+n}}}function gb(t,n){for(var i={},e=t.mi("style")||[],r=0;r<e.length;r++){var u=ub(e[r],n);for(var s in u)Et.call(u,s)&&(i[s]=u[s])}return i}function yb(t){if(Dn(t)){var n=t.hi.toUpperCase(),i=Boolean(t.Ei("smpte:backgroundImage"));return"BR"===n||i}return t.ni===In.ri}function mb(t){var n=function(t){try{return st.oi(t).xi}catch(t){}}(t);return"tt"===(null==n?void 0:n.hi)}var bb,pb=function(t){function n(){return t.apply(this,arguments)||this}vt(n,t);var i=n.prototype;return i.ol=function(n){return t.prototype.ol.call(this,n)},i.cl=function(n){var i=t.prototype.cl.call(this,n);return i&&(n.Ol=Xw.xl),i},i.xd=function(){return Zw(this)},n}(Sw);!function(t){t.np="subtitles",t.oT="captions",t.cT="descriptions",t.aT="chapters",t.ep="metadata",t.fT="thumbnails"}(bb||(bb={}));var _b=[bb.np,bb.oT,bb.cT,bb.aT,bb.ep,bb.fT];function kb(t){var n=String(t||"").toLowerCase();return function(t){return"string"==typeof t&&au(_b,t)}(n)?n:n?bb.ep:bb.np}var Tb,Sb=function(t){function n(n,i,e,r,u){var s;return(s=t.call(this,n,i,u)||this).url=void 0,s.status=void 0,s.url=e,s.status=r,s}return vt(n,t),n}(Nc);function Eb(t,n){return t===bb.fT||t===bb.ep&&n===bb.fT}function Rb(t,n,i,e){for(var r=0,u=t.Fl.hl;r<u.length;r++){var s=u[r];if(s.ey>i)break;n<=s.uy&&e.push(s)}}function Ib(t,n){return iu(t.Tl,n.Tl)}function Db(t,i){var e=i,r=0;if(t instanceof Bd&&t.name===Ad.Tv)e=t.qh.jh;else if(function(t){return t instanceof Fd}(t)){var u=t.Dv;if(e=u.zh,0===(r=u.Fh))return new Sb(n.ErrorCode.SUBTITLE_CORS_ERROR,"Could not load the subtitle file. Make sure the source is set correctly and that CORS support is enabled.",e,r,t)}return new Sb(n.ErrorCode.SUBTITLE_LOAD_ERROR,"Could not load the subtitle file.",e,r,t)}function Cb(t,i,e,r){var u=function(t){switch(t){case Oy.WEBVTT:return"WebVTT";case Oy.SRT:return"SRT";case Oy.TTML:return"TTML";default:return""}}(t);return new Sb(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Could not parse the "+(u?u+" ":"")+"subtitle file.",i,e,r)}function Nb(t){return Nm(pm(t))?Oy.WEBVTT:mb(t)?Oy.TTML:Oy.SRT}function Ob(t,n){for(var i=[],e=0,r=t.Fl.hl;e<r.length;e++){var u=r[e];if(u.uy<=n)i.push(u);else if(u.ey>=n)break}for(var s=0;s<i.length;s++){var o=i[s];t.hT(o)}}!function(t){t.vT="vtt",t.Lb="wvtt",t.dT="stpp"}(Tb||(Tb={}));var Ab=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Kp=new pb,n.lT=function(t){var i=t.Ld;n.wT(i)},n}vt(n,t);var i=n.prototype;return i.ol=function(t){t.Kr(yw.$d,this.lT),this.Kp.ol(t),this.wT(t)},i.cl=function(t){t.tu(yw.$d,this.lT),t.Ol=Xw.xl,this.Kp.cl(t)},i.gT=function(t){},i.yT=function(t){},i.wT=function(t){t.Ol!==Xw.xl?this.gT(t):this.yT(t)},i.mT=function(){for(var t=0,n=this.Kp.hl;t<n.length;t++){var i=n[t];i.tu(yw.$d,this.lT),i.et()}},i.bT=function(t){if(t>0)for(var n=0,i=this.Kp.hl;n<i.length;n++){Ob(i[n],t)}},i.fl=function(){return this.mT(),this.Kp.fl(),j.resolve()},i.et=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Zr(),t.next=3,lr.awrap(this.fl());case 3:this.Kp.et();case 4:case"end":return t.stop()}},null,this,null,j)},n}(Iu),Pb=function(t){function n(n){var i;return(i=t.call(this,Gw.Cl)||this).errorObject=n,i}return vt(n,t),n.prototype.xd=function(){return this},ft(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(gw),xb=function(t){function n(n,i){var e;return(e=t.call(this)||this).pT=void 0,e._T=void 0,e.kT=new vu,e.pT=n,e._T=i,e}vt(n,t);var i=n.prototype;return i.TT=function(t){if(t.src){var n=t.kind||bb.np,i=this.pT.ST(n,t.id,t.label,t.srclang,t.default);return i.Vl=Od(t.src),this.ol(i),i}},i.ET=function(t,n){var i,e,r,u,s,o,c,a,f,h;return lr.async(function(v){for(;;)switch(v.prev=v.next){case 0:return t.Ml=Ny.LOADING,i=new Id({jh:t.Vl,Vh:Jc.ri,av:kd.GET,zr:n}),v.prev=2,v.next=5,lr.awrap(this._T.qh(i));case 5:return u=v.sent,r=u.Fh,v.next=9,lr.awrap(u.kh());case 9:e=v.sent,v.next=18;break;case 12:return v.prev=12,v.t0=v.catch(2),gu(v.t0),t.Ml=Ny.ERROR,t.Yr(new Pb(Db(v.t0,t.Vl))),v.abrupt("return");case 18:for(v.prev=18,s=Nb(e),t.gr=s,o=[],s===Oy.WEBVTT||s===Oy.SRT?(c=bm(e),o=c.Fl):s===Oy.TTML&&(o=ab(e)),a=0,f=o;a<f.length;a++)h=f[a],t.RT(h);v.next=32;break;case 26:return v.prev=26,v.t1=v.catch(18),gu(v.t1),t.Ml=Ny.ERROR,t.Yr(new Pb(Cb(t.gr,t.Vl,r,v.t1))),v.abrupt("return");case 32:t.Ml=Ny.LOADED;case 33:case"end":return v.stop()}},null,this,[[2,12],[18,26]],j)},i.gT=function(t){au(this.Kp.hl,t)&&t.Ml===Ny.NONE&&this.ET(t,this.kT.zr).catch(yu)},i.rc=function(){},i.fl=function(){var n,i,e;return lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:for(this.kT.Wr(),this.kT=new vu,n=0,i=this.Kp.hl;n<i.length;n++)e=i[n],this.pT.IT(e);return r.next=5,lr.awrap(t.prototype.fl.call(this));case 5:case"end":return r.stop()}},null,this,null,j)},n}(Ab);function Lb(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.Sl===n&&e.DT)return e}}function Bb(t,n){Mb(Lb(t.hl,n))}function Mb(t){void 0!==t&&(t.Ol=Xw.Al)}function Fb(t,n){Mb(Lb(t.hl,n)||function(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.Sl===n)return e}}(t.hl,n))}function Ub(t){for(var n=0;n<_b.length;n++){var i=_b[n];i===bb.aT?Fb(t,i):Bb(t,i)}}var Vb,Wb=function(t){function n(){return t.call(this,Kc.xa)||this}return vt(n,t),n}(Cu);!function(t){t[t.CT=0]="CT",t[t.NT=1]="NT"}(Vb||(Vb={}));var Hb=t,qb=Hb.MediaSource,zb=Hb.WebKitMediaSource,jb=Hb.TextTrack,$b=e&&e.createElement("video");e&&e.documentElement.style;var Xb=St.hn&&St.Wn&&St.Hn<=26;St.Sn;var Gb=!(!qb&&!zb),Yb=!!jb;e&&(e.fullscreenEnabled||e.webkitFullscreenEnabled||e.mozFullScreenEnabled||e.msFullscreenEnabled)||St._n,St.Mn&&St.Fn,$b&&$b.canPlayType&&(""!==$b.canPlayType("application/vnd.apple.mpegURL")||St.ln&&!St.Mn&&St.wn);$b&&$b.canPlayType&&$b.canPlayType("video/mp4");var Kb=Gb&&!St.Un&&!St.xn&&!St.Pn&&((qb||zb).isTypeSupported?(qb||zb).isTypeSupported('audio/mp4; codecs="mp4a.40.34"'):$b&&$b.canPlayType&&""!==$b.canPlayType('audio/mp4; codecs="mp4a.40.34"'));Gb&&!St.Un&&(Kb||((qb||zb).isTypeSupported?(qb||zb).isTypeSupported("audio/mpeg"):$b&&$b.canPlayType&&$b.canPlayType("audio/mpeg"))),Gb&&(!St.Bn||!St.hn)&&(qb||zb).isTypeSupported&&(qb||zb).isTypeSupported('video/mp4; codecs="avc1.4d401e"'),St.Un||St.xn||St.Pn,St.Ln,St.Un,St.xn&&St.vn&&St.dn;try{i&&i.top!==i.self}catch(t){!0}var Jb=function(t){function n(n){var i;return(i=t.call(this,Ig.yw)||this).currentTime=n,i}return vt(n,t),n}(Cu),Qb=function(t){function n(n){var i;return(i=t.call(this,Ig.mw)||this).currentTime=n,i}return vt(n,t),n}(Cu);Ig.Gd,Ig.mw,Kc.Na,Kc.Ca;var Zb=function(t){function n(n,i){var e;return void 0===i&&(i=!1),(e=t.call(this)||this).OT=vg.cw,e.AT=!0,e.PT=!1,e.xT=!1,e.LT=function(t){var n=e.BT.Ml;n!==e.OT&&e.Yr(new jg(t.currentTime,n)),n===vg.cw&&(e.PT=!1,e.xT=!1),e.MT(n),e.FT(n),e.UT(n),e.maybeDispatchCanPlayThroughEvent(n),e.VT(n),e.WT(n),e.OT=n},e.HT=function(){e.WT(e.OT),e.VT(e.OT),e.AT=e.BT.Sw},e.qT=function(){e.AT=e.BT.Sw},e.BT=n,e.zT=i,e.BT.Kr(Ig.Gd,e.LT),e.BT.Kr(Kc.Na,e.HT),e.BT.Kr(Kc.Ca,e.qT),e.zT&&e.BT.Kr(Ig.mw,e.Gr),e}vt(n,t);var i=n.prototype;return i.MT=function(t){!this.xT&&t>=vg.aw&&(this.xT=!0,this.Yr(new xg(this.BT.bw,t)))},i.FT=function(t){!this.PT&&t>=vg.fw&&(this.PT=!0,this.Yr(new Ug(this.BT.bw,t)))},i.VT=function(t){this.zT||(t>=vg.hw&&this.OT<vg.hw&&!this.BT.Sw||this.jT&&t>=vg.hw)&&this.Yr(new Qb(this.BT.bw))},i.WT=function(t){!this.$T(t)||this.BT._w||this.BT.fu||this.Yr(new Jb(this.BT.bw))},i.UT=function(t){this.OT<=vg.fw&&t>=vg.hw&&this.Yr(new qg(this.BT.bw,t))},i.maybeDispatchCanPlayThroughEvent=function(t){t===vg.vw&&this.Yr(new zg(this.BT.bw,t))},i.$T=function(t){var n=!this.BT.Sw&&t<=vg.fw,i=!this.AT&&this.OT<=vg.fw;return n&&!i},i.fl=function(){this.OT=vg.cw,this.AT=!0,this.PT=!1,this.xT=!1},i.et=function(){this.Zr(),this.zT&&this.BT.tu(Ig.mw,this.Gr),this.BT.tu(Kc.Na,this.HT),this.BT.tu(Kc.Ca,this.qT),this.BT.tu(Ig.Gd,this.LT)},ft(n,[{key:"jT",get:function(){return!this.BT.Sw&&this.AT}}]),n}(Iu),tp="titanium",np="conax",ip="ezdrm",ep="irdeto",rp="vudrm",up="verimatrix",sp="keyos",op="drmtoday",cp="expressplay",ap="azure",fp="xstream",hp="vimond",vp="axinom",dp="uplynk",lp="comcast",wp="custom",gp=function(){function t(t,n,i,e,r){this.dc=void 0,this.XT=void 0,this.GT=void 0,this.YT=void 0,this._T=void 0,this.KT=void 0,this.JT=void 0,this.dc=t,this.XT=n,this.GT=i,this._T=e,this.JT=r,this.YT=this.QT(n)}var i=t.prototype;return i.ZT=function(){return this.KT},i.tS=function(t){this.KT=t},i.nS=function(){return this.YT.licenseAcquisitionURL||this.ZT()},i.iS=function(t){return j.resolve()},i.eS=function(t,n){return j.resolve(void 0)},i.rS=function(t,i,e,r){var u,s;return lr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(""!==(u=this.uS(t,i,e,r)).jh){o.next=3;break}throw new ly(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 3:return o.prev=3,o.next=6,lr.awrap(this.Id.qh(u));case 6:return s=o.sent,o.next=9,lr.awrap(s.Th(i));case 9:return o.abrupt("return",o.sent);case 12:return o.prev=12,o.t0=o.catch(3),gu(o.t0),o.next=17,lr.awrap(this.sS(o.t0,u.jh,r));case 17:return o.abrupt("return");case 18:case"end":return o.stop()}},null,this,[[3,12]],j)},i.uS=function(t,n,i,e){var r=this.oS().Ja(),u=this.dv,s={jh:this.cS(),Vh:n,Uh:r,Ih:t,dv:u,av:kd.POST,fv:0,zr:e,gr:Td.Kh,hv:i};return new Id(s)},i.aS=function(t,n){return j.resolve(t)},i.fS=function(t,n,i,e){return j.resolve(t)},i.oS=function(){return new Qc(this.YT.headers||{})},i.sS=function(t,i,e){return lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:throw new ly(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during license server request",t);case 1:case"end":return i.stop()}},null,null,null,j)},i.cS=function(t,n){var i=n,e=this.YT.queryParameters;if(!i){var r=this.nS();if(!r)return"";i=r}if(e||t){var u=st.He(i);t&&Nd(u,t),e&&Nd(u,e),i=u.href}return i},i.hS=function(t,n){return yp(t)},i.vS=function(t){return new y(t)},i.dS=function(t,n,i){var e,r,u;return lr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,lr.awrap(this.hS(t,i));case 2:return e=s.sent,s.next=5,lr.awrap(this.rS(e,this.JT,n,i));case 5:return r=s.sent,u=this.vS(r),s.abrupt("return",u);case 8:case"end":return s.stop()}},null,this,null,j)},i.et=function(){},ft(t,[{key:"Id",get:function(){return this._T}},{key:"lS",get:function(){return!1}},{key:"wS",get:function(){var t=this.YT.certificate;if(t)return Pt(t)?qu(t):xs(t)}},{key:"gS",get:function(){return!1}},{key:"dv",get:function(){return Boolean(this.YT.useCredentials)}}]),t}();function yp(t){return j.resolve(Bs(t).buffer)}var mp,bp,pp=function(t){function n(n,i,e,r){return t.call(this,Ur,n,i,e,r)||this}vt(n,t);var i=n.prototype;return i.QT=function(t){return t.widevine||{}},i.yS=function(t,n){return lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!this.wS){i.next=2;break}return i.abrupt("return",this.wS);case 2:return i.abrupt("return",this.mS(new y(t),n));case 3:case"end":return i.stop()}},null,this,null,j)},i.mS=function(n,i){return t.prototype.dS.call(this,n,Sd.tv,i)},n}(gp);function _p(t,n){if(null==t)return{};var i,e,r={},u=v.keys(t);for(e=0;e<u.length;e++)i=u[e],n.indexOf(i)>=0||(r[i]=t[i]);return r}function kp(t){return It(t.token&&t.deviceId)}function Tp(t){var n,i=null==(n=t.fairplay)?void 0:n.headers;return void 0!==i&&It(i.PreAuthorization)}function Sp(t){var n=t;return kp(n)&&""!==n.token&&""!==n.deviceId&&!Tp(n)}(bp=mp||(mp={})).bS=!1,bp.pS=!1,bp._S=!1,bp.kS=!1,bp.LOG_ADS_DETAILS=!1,bp.LOG_CHROMECAST_DETAILS=!1,bp.LOG_CUSTOM_DRM=!1,bp.LOG_BUFFERING_VIDEO_MAIN=!1,bp.LOG_BUFFERING_VIDEO_SELECTION=!1,bp.LOG_BUFFERING_AUDIO_MAIN=!1,bp.LOG_BUFFERING_AUDIO_SELECTION=!1,bp.TS=!1,bp.SS=!1,bp.LOG_LCEVC_DETAILS=!1;var Ep,Rp=function(){function t(t,n,i){this.ES=t,this.Zo=n,this.RS=i}return t.prototype.IS=function(t){return function(t){var n=t.onCertificateRequest;if(void 0!==n&&"function"!=typeof n)throw new h("ContentProtectionIntegration.onCertificateRequest is not a function.");var i=t.onCertificateResponse;if(void 0!==i&&"function"!=typeof i)throw new h("ContentProtectionIntegration.onCertificateResponse is not a function.");var e=t.onLicenseRequest;if(void 0!==e&&"function"!=typeof e)throw new h("ContentProtectionIntegration.onLicenseRequest is not a function.");var r=t.onLicenseResponse;if(void 0!==r&&"function"!=typeof r)throw new h("ContentProtectionIntegration.onLicenseResponse is not a function.");var u=t.extractFairplayContentId;if(void 0!==u&&"function"!=typeof u)throw new h("ContentProtectionIntegration.extractFairplayContentId is not a function.");return t}(this.RS.build(t))},ft(t,[{key:"DS",get:function(){return this.ES}},{key:"dc",get:function(){return this.Zo}}]),t}();!function(t){t.FAILED="FAILED",t.OVERRIDDEN="OVERRIDDEN",t.SUCCEEDED="SUCCEEDED"}(Ep||(Ep={}));var Ip=function(){function t(){this.CS=[]}var i=t.prototype;return i.registerContentProtectionIntegration=function(t,i,e){switch(this.NS(t,i,e)){case Ep.FAILED:throw new ly(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The keySystem should be 'widevine', 'playready' or 'fairplay', but was "+i+".");case Ep.OVERRIDDEN:var r=$p(i);st.Ie("Warning: Overwriting an earlier registered integration for "+t+" and "+r+".");break;case Ep.SUCCEEDED:$p(i);0}},i.NS=function(t,n,i){var e=$p(n);if(!e)return Ep.FAILED;for(var r=Ep.SUCCEEDED,u=0,s=this.CS.slice();u<s.length;u++){var o=s[u];o.DS===t&&o.dc===e&&(r=Ep.OVERRIDDEN,ou(this.CS,o))}return this.CS.push(new Rp(t,e,i)),r},i.OS=function(t,n){return void 0!==this.AS(t,n)},i.PS=function(t,n,i){var e=this.AS(t,n);if(!e)throw f("No ContentProtectionIntegrationInit was found for integration id "+t+" and key system "+n);return e.IS(i)},i.AS=function(t,n){for(var i=0,e=this.CS;i<e.length;i++){var r=e[i];if(r.DS===t&&(!n||r.dc===n))return r}},t}();Ip.xS=new Ip;var Dp=["customdata"],Cp={playready:"https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx",widevine:"https://wv-keyos.licensekeyserver.com/",fairplay:"https://fp-keyos.licensekeyserver.com/getkey"};function Np(t){if(!t)return!0;var n=t.licenseAcquisitionURL,i=t.certificateURL,e=t.keys,r=t.headers,u=t.useCredentials,s=t.queryParameters;return!(n||i||e||r||u||s)}function Op(t){return t&&void 0!==t.licenseAcquisitionURL}var Ap,Pp=Op,xp=Op;function Lp(t){if(!t)return!0;if(Up(t))return!1;var n=t.fairplay,i=t.playready,e=t.widevine,r=t.clearkey,u=t.aes128;return Np(n)&&Np(i)&&Np(e)&&Np(r)&&Np(u)}function Bp(t){var n=Sp(t),i=function(t){var n,i=t;return Tp(i)&&""!==(null==(n=i.fairplay)?void 0:n.headers.PreAuthorization)&&!kp(i)}(t);return(!n||!i)&&(n||i)}function Mp(t){return t.integration===ep}function Fp(t){var n=t;if(!n)return!1;if(Lp(n))return!1;var i=n.fairplay,e=n.playready,r=n.widevine,u=n.clearkey;if(Up(t))return!0;if(i&&!function(t){var n=t;return n&&(void 0!==n.certificateURL||void 0!==n.certificate)}(i))return!1;if(e&&!Pp(e))return!1;if(r&&!xp(r))return!1;if(u&&!function(t){var n=t;return n&&(void 0!==n.licenseAcquisitionURL||void 0!==n.keys)}(u))return!1;if(n.integration){if(Ip.xS.OS(n.integration))return!0;switch(n.integration){case tp:if(!function(t){return t.integration===tp&&(Vp(t)||Wp(t))}(t))return!1;break;case rp:if(!Hp(t))return!1;break;case up:if(!function(t){return t.integration===up}(t))return!1;break;case ep:if(!Mp(t))return!1;break;case np:if(!Bp(t))return!1;break;case ip:if(!function(t){return t.integration===ip}(t))return!1;break;case sp:if(!Up(t))return!1;break;case op:if(!function(t){var n=t;return n.integration===op&&(void 0!==n.token||function(t){return void 0!==t.merchant&&void 0!==t.sessionId&&void 0!==t.userId}(n))}(t))return!1;break;case cp:if(!function(t){return t.integration===cp}(t))return!1;break;case fp:if(!qp(t))return!1;break;case hp:if(!function(t){return t.integration===hp}(t))return!1;break;case vp:if(!zp(t))return!1;break;case ap:if(!function(t){var n=t;return n.integration===ap&&void 0!==n.token}(t))return!1;break;case dp:if(!function(t){return t.integration===dp}(t))return!1;break;case lp:if(!function(t){var n=t;return n&&It(n.releasePid)&&It(n.accountId)&&It(n.token)}(t))return!1;break;case wp:return!0;default:return!1}}return!0}function Up(t){return t.integration===sp}function Vp(t){return void 0!==t.authToken}function Wp(t){var n=t;return void 0!==n.accountName&&void 0!==n.customerName&&void 0!==n.portalId}function Hp(t){var n=t;return n.integration===rp&&void 0!==n.token}function qp(t){var n=t;return n&&n.integration===fp&&Pt(n.ticketAcquisitionURL)&&Pt(n.streamId)}function zp(t){var n=t;return n.integration===vp&&void 0!==n.token}function jp(t,n){var i,e,r,u=n[t],s=null!=(i=null==u?void 0:u.licenseAcquisitionURL)?i:Cp[t],o=null!=(e=null==u?void 0:u.customdata)?e:n.customdata,c=o?{customData:o}:{},a=wr({},null!=(r=null==u?void 0:u.headers)?r:{},c),f=null!=u?u:{};return f.customdata,wr({},_p(f,Dp),{licenseAcquisitionURL:s,headers:a})}function $p(t){switch(t.toLowerCase()){case"widevine":case Ar:return Ar;case"playready":case Cr:return Cr;case"fairplay":case Br:return Br}}function Xp(t,i){switch(t){case Er:return function(t){for(var n={},i=Qm.Up(new DataView(t)),e=0;e<i.length;e++){var r=i[e];n[r.Uk]=r.Hk}return n}(i);case Rr:case Ir:return function(t){var n;return(n={})[Lr]=t,n}(i);default:throw new Nc(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Unsupported initDataType "+t)}}!function(t){t.ar="Widevine",t.cr="PlayreadyV2",t.LS="PlayreadyV2",t.BS="PlayreadyV3",t.dr="Fairplay"}(Ap||(Ap={}));var Gp={Widevine:{DRMProvider:"Google",DRMVersion:"1.4.8.86",DRMType:"Widevine"},PlayreadyV2:{DRMProvider:"Microsoft",DRMVersion:"2.9",DRMType:"Playready"},PlayreadyV3:{DRMProvider:"Microsoft",DRMVersion:"3",DRMType:"Playready"},Fairplay:{DRMProvider:"Apple",DRMType:"FairPlay",DRMVersion:"1.0"}};function Yp(t,n){var i,e,r,u,s=Gp[n],o=t.accountName;return{CustomerName:t.customerName,AccountName:o,PortalId:t.portalId,FriendlyName:t.friendlyName,DeviceInfo:{FormatVersion:"1",DeviceType:"PC",OSType:null==(i=st.ze)?void 0:i.je,OSVersion:null==(e=st.ze)?void 0:e.Je,DRMProvider:s.DRMProvider,DRMVersion:s.DRMVersion,DRMType:s.DRMType,DeviceVendor:null==(r=st.ze)?void 0:r.Qe,DeviceModel:null==(u=st.ze)?void 0:u.Ze}}}function Kp(t,i){if(!t.accountName)throw new ly(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, accountName is not set.");if(!t.customerName)throw new ly(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, customerName is not set.");if(!t.portalId)throw new ly(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, portalId is not set.");throw new ly(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration.")}function Jp(t,n,i){var e;if(Vp(t))e={AuthToken:t.authToken,Payload:n};else{if(!Wp(t))throw Kp(t,i);e={LatensRegistration:Yp(t,i),Payload:n}}return Qu(JSON.stringify(e))}function Qp(t,i,e){var r,u,s,o;return lr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(r=t.Dv){c.next=3;break}throw new ly(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,i);case 3:return u=r,c.prev=4,c.next=7,lr.awrap(u._h(e));case 7:s=c.sent,o=Zp(s),c.next=14;break;case 11:c.prev=11,c.t0=c.catch(4),o="";case 14:throw new ly(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,u.qh.jh,u.Fh,u.Wh,o);case 15:case"end":return c.stop()}},null,null,[[4,11]],j)}function Zp(t){if(t){if(t.WvProxyErr)return t.WvProxyErr.desc;if(t.DrmErr)return t.DrmErr.desc}}var t_=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e,Jc.Ya)||this).MS=void 0,r}vt(i,t),i.FS=function(){return st.je.he?"required":"optional"};var e=i.prototype;return e.sS=function(t,n,i){return Qp(t,n,i)},e.iS=function(t){return this.MS?mu(this.MS.Ou,t):(this.MS=new Fs,j.resolve())},e.hS=function(t,i){var e,r;return lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(e=this.XT){i.next=3;break}throw new ly(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Widevine DRM configuration.");case 3:return r=ju(t),i.abrupt("return",Jp(e,r,Ap.ar));case 5:case"end":return i.stop()}},null,this,null,j)},e.vS=function(t){if(!t.license)throw new ly(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Widevine license server");return qu(t.license)},e.US=function(t){return j.resolve(new y(t))},e.yS=function(t,n){var i,e;return lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return this.VS(),r.next=3,lr.awrap(this.hS(t,n));case 3:return i=r.sent,r.next=6,lr.awrap(this.rS(i,Jc.Ga,Sd.nv,n));case 6:return e=r.sent,r.next=9,lr.awrap(this.US(e));case 9:return r.abrupt("return",r.sent);case 10:case"end":return r.stop()}},null,this,null,j)},e.mS=function(n,i){var e;return lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,lr.awrap(t.prototype.mS.call(this,n,i));case 2:return e=r.sent,this.VS(),r.abrupt("return",e);case 5:case"end":return r.stop()}},null,this,null,j)},e.VS=function(){this.MS||(this.MS=new Fs),this.MS.xu()},e.et=function(){this.MS&&this.MS.Wr(),t.prototype.et.call(this)},i}(pp),n_=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e,Jc.Ga)||this).tS("https://widevine-proxy.drm.technology/proxy"),r}return vt(i,t),i.prototype.hS=function(t,i){var e,r,u,s;return lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,lr.awrap(yp(t));case 2:if(e=i.sent,r=this.GT,o=new y(e),u=[].slice.call(o),s=this.WS){i.next=8;break}throw new ly(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The Widevine vuDRM token has not been correctly configured.");case 8:return i.abrupt("return",JSON.stringify({token:s,drm_info:u,kid:r}));case 9:case"end":return i.stop()}var o},null,this,null,j)},ft(i,[{key:"WS",get:function(){if(Hp(this.XT))return this.XT.token}}]),i}(pp);function i_(t,n){var i=n||{};return t.ticket&&t.sessionId&&(i=wr({},i,{SessionId:t.sessionId,Ticket:t.ticket})),wr({},i,{CrmId:t.crmId,AccountId:t.accountId,ContentId:t.contentId})}var e_=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,Jc.Ga)||this).tS("https://emeademo.dev.ott.irdeto.com/Widevine/getlicense"),r}return vt(n,t),n.prototype.cS=function(n,i){var e=n;return Mp(this.XT)&&(e=i_(this.XT,e)),t.prototype.cS.call(this,e,i)},n}(pp),r_="Conax-Custom-Data";function u_(t,n,i){var e=t&&Bp(t)&&t;if(e&&!i.has(r_)){var r=Sp(e)?e.token:void 0,u=Sp(e)?e.deviceId:void 0,s=JSON.stringify({Version:"1.0.0",CxAuthenticationDataToken:r,CxClientInfo:{DeviceType:"Browser",DrmClientType:n+"-HTML5",DrmClientVersion:"1.0.0",CxDeviceId:u}});i.set(r_,s)}return i}var s_=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,Jc.Ga)||this).tS("https://connect.conax.com:8094/license"),r}return vt(n,t),n.prototype.oS=function(){var n=t.prototype.oS.call(this);return u_(this.XT,"Widevine",n)},n}(pp);function o_(t){var n=Ts(new y(t));return qu(JSON.parse(n).license)}function c_(t){return"string"==typeof t.token?t.token:Qu(JSON.stringify({userId:t.userId,sessionId:t.sessionId,merchant:t.merchant}))}function a_(t,n,i){var e;return e=i.token?"x-dt-auth-token":"dt-custom-data",t.set(e,n),t}var f_=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,Jc.Ga)||this).tS("https://lic.drmtoday.com/license-proxy-widevine/cenc/"),r}vt(n,t);var i=n.prototype;return i.vS=function(t){return o_(t)},i.oS=function(){return a_(t.prototype.oS.call(this),this.WS,this.XT)},ft(n,[{key:"WS",get:function(){return c_(this.XT)}}]),n}(pp),h_=function(t){function n(n,i,e){return t.call(this,n,i,e,Jc.Ga)||this}return vt(n,t),n.prototype.oS=function(){var n=t.prototype.oS.call(this),i=this.XT.token;return n.set("Authorization","Bearer "+i),n},n}(pp);function v_(t,i,e,r){var u,s,o,c,a,f,h;return lr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(qp(t)){v.next=2;break}throw new ly(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Xstream DRM Configuration");case 2:return(u=new Qc).append("Cache-Control","no-cache"),u.append("Content-Type","application/json"),(s=t.sessionId)&&u.append("XSSESSION",s),o=t.streamId,c=t.fairplay?"persistent"===t.fairplay.licenseType?"persistent":"non-persistent":t.widevine&&"persistent"===t.widevine.licenseType?"persistent":"non-persistent",a={drmType:i,licenseType:c,streamId:o},f={jh:t.ticketAcquisitionURL,Vh:Jc.Ya,Uh:u,av:kd.POST,Ih:JSON.stringify(a),zr:r},v.next=13,lr.awrap(e.qh(f));case 13:return h=v.sent,v.next=16,lr.awrap(h._h());case 16:return v.abrupt("return",v.sent);case 17:case"end":return v.stop()}},null,null,null,j)}var d_=function(t){function n(n,i,e){return t.call(this,n,i,e,Jc.Ya)||this}vt(n,t);var i=n.prototype;return i.oS=function(){var n=t.prototype.oS.call(this);return n.set("Content-Type","application/json"),n},i.hS=function(n,i){var e,r,u,s;return lr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=Ju(n.buffer),r=this.XT,o.next=4,lr.awrap(v_(r,"widevine_modular",this.Id,i));case 4:return u=o.sent,this.tS(u.licenseServerUrl),s=Ss(JSON.stringify({payload:e,ticket:u.ticket})),o.abrupt("return",t.prototype.hS.call(this,s,i));case 8:case"end":return o.stop()}},null,this,null,j)},i.vS=function(t){return qu(t.license)},n}(pp),l_=function(t){function i(n,i,e){return t.call(this,n,i,e,Jc.Ga)||this}return vt(i,t),i.prototype.oS=function(){if(!zp(this.XT))throw new ly(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.oS.call(this);return i.set("X-AxDRM-Message",this.XT.token),i},i}(pp);function w_(t){for(var n=new y(2*t.length),i=0;i<t.length;i+=1)n[2*i]=t.charCodeAt(i),n[2*i+1]=0;return n}var g_=function(t){function n(n,i,e){var r;return(r=t.call(this,Fr,n,i,e,Jc.Ga)||this).HS=void 0,r}vt(n,t);var i=n.prototype;return i.QT=function(t){return t.playready||{}},i.oS=function(){var n=new Qc(this.HS);return n.Za(t.prototype.oS.call(this)),n},i.qS=function(t){return t.length>=1&&t[0].bi.length>0},i.eS=function(n){var i=this.XT.playready.customData;if(i){var e=w_(i),r=w_('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">'+ju(e)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>");return j.resolve({playready:{Mc:r}})}return t.prototype.eS.call(this,n)},i.hS=function(t,n){var i;return lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,lr.awrap(yp(t));case 2:return i=n.sent,n.abrupt("return",this.zS(i));case 4:case"end":return n.stop()}},null,this,null,j)},i.zS=function(t){var n,i,e,r,u,s,o,c,a,f,h,v,d,l,w,g;return lr.async(function(y){for(;;)switch(y.prev=y.next){case 0:u=null,s=new DataView(t),m=s,b=new Ms,void 0===(p=!0)&&(p=!1),o=_s(m,b,p,!0),y.prev=3,c=st.oi(o),y.next=10;break;case 7:return y.prev=7,y.t0=y.catch(3),y.abrupt("return",u);case 10:for(a=null==(n=c.mi("PlayReadyKeyMessage")[0])?void 0:n.mi("LicenseAcquisition")[0],f=null!=(i=null==a?void 0:a.mi("Challenge"))?i:[],this.qS(f)&&(u=Ku(f[0].Ai)),h=new Qc,v=null!=(e=null==a?void 0:null==(r=a.mi("HttpHeaders")[0])?void 0:r.mi("HttpHeader"))?e:[],d=0;d<v.length;d++)l=v[d],w=l.mi("name")[0].Ai,g=l.mi("value")[0].Ai,h.append(w,g);return this.HS=h,y.abrupt("return",u);case 18:case"end":return y.stop()}var m,b,p},null,this,[[3,7]],j)},i.yS=function(t,n){return j.resolve(t)},i.mS=function(n,i){return t.prototype.dS.call(this,n,Sd.ev,i)},n}(gp),y_=function(){function t(n){this.Co=void 0,this.jS=n,this.Co=t.$S(n)}return t.$S=function(t){return"3"===t.version?Ap.BS:Ap.LS},t.prototype.XS=function(){var t={};if(this.Co===Ap.BS){var n={LatensRegistration:Yp(this.jS,Ap.BS)};t["X-TITANIUM-DRM-CDATA"]=Qu(JSON.stringify(n))}return t},ft(t,[{key:"GS",get:function(){return this.Co}},{key:"Tc",get:function(){return this.Co===Ap.LS}}]),t}();var m_=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e)||this).YS=void 0,r.YS=new y_(r.XT),r}vt(i,t);var e=i.prototype;return e.eS=function(t){var i=this.XT;if(!this.XT)throw new ly(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium PlayReady DRM configuration.");if(Wp(i)){var e={};return e.playready={Mc:b_(i,this.YS.GS)},j.resolve(e)}return j.reject(Kp(i,Ap.cr))},e.oS=function(){var n=new Qc(this.YS.XS());return n.Za(t.prototype.oS.call(this)),n},e.sS=function(t,i,e){var r,u,s,o,c,a,f,h;return lr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(r=t.Dv){v.next=3;break}throw new ly(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,i);case 3:return v.prev=3,v.next=6,lr.awrap(r.Sh(e));case 6:o=v.sent,c=Ts(new y(o)),(a=st.oi(c))&&(f=eb(a,"CustomData")).length>0&&(u=JSON.parse(f[0].Ai),s=null==(h=u.DrmErr)?void 0:h.desc),v.next=14;break;case 12:v.prev=12,v.t0=v.catch(3);case 14:throw new ly(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,i,r.Fh,r.Wh,s);case 15:case"end":return v.stop()}},null,null,[[3,12]],j)},e.qS=function(t){if(1!==t.length)throw new ly(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"PlayReady license message incorrectly formatted, Challenge not found.");return!0},i}(g_);function b_(t,n){var i=Yp(t,n),e=i.DeviceInfo.FormatVersion,r=Qu('<LatensRegistration formatversion="'+e+'"><AccountName>'+i.AccountName+"</AccountName><CustomerName>"+i.CustomerName+"</CustomerName><PortalID>"+i.PortalId+'</PortalID><DeviceInfo formatversion="'+e+'"><DeviceType>'+i.DeviceInfo.DeviceType+"</DeviceType><OSType>"+i.DeviceInfo.OSType+"</OSType><OSVersion>"+i.DeviceInfo.OSVersion+"</OSVersion><DRMProvider>"+i.DeviceInfo.DRMProvider+"</DRMProvider><DRMVersion>"+i.DeviceInfo.DRMVersion+"</DRMVersion><DRMType>"+i.DeviceInfo.DRMType+"</DRMType><DeviceVendor>"+i.DeviceInfo.DeviceVendor+"</DeviceVendor><DeviceModel>"+i.DeviceInfo.DeviceModel+"</DeviceModel></DeviceInfo></LatensRegistration>"),u=Rs(("<TitaniumCustomData>"+r+"</TitaniumCustomData>").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/&lt;/g,"<").replace(/&gt;/g,">"),!0);return Rs('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0"><CustomData encoding="base64encoded">'+ju(u)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>",!0)}var p_,__=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e)||this).tS("https://playready-license.drm.technology/rightsmanager.asmx"),r}vt(i,t);var e=i.prototype;return e.qS=function(t){if(1!==t.length)throw new ly(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Vudrm PlayReady license message incorrectly formatted, Challenge not found.");return!0},e.cS=function(n,i){var e=wr({},n||{},{token:this.WS});return t.prototype.cS.call(this,e,i)},ft(i,[{key:"WS",get:function(){if(Hp(this.XT))return this.XT.token}}]),i}(g_),k_=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).tS("https://emeademo.dev.ott.irdeto.com/playready/rightsmanager.asmx"),r}return vt(n,t),n.prototype.cS=function(n,i){var e=n;return Mp(this.XT)&&(e=i_(this.XT,e)),t.prototype.cS.call(this,e,i)},n}(g_),T_=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).tS("https://connect.conax.com:8010/cxplayready/rightsmanager.asmx"),r}return vt(n,t),n.prototype.oS=function(){var n=t.prototype.oS.call(this);return u_(this.XT,"PlayReady",n)},n}(g_),S_=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).tS("https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx"),r}vt(n,t);var i=n.prototype;return i.vS=function(n){return(zr(Ts(new y(n)),"<?xml")?p_.KS:p_._h)===p_._h?o_(n):t.prototype.vS.call(this,new y(n))},i.oS=function(){return a_(t.prototype.oS.call(this),this.WS,this.XT)},ft(n,[{key:"WS",get:function(){return c_(this.XT)}}]),n}(g_);!function(t){t[t.KS=0]="KS",t[t._h=1]="_h"}(p_||(p_={}));var E_,R_=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).JS=void 0,r}vt(n,t);var i=n.prototype;return i.oS=function(){var n=t.prototype.oS.call(this);return this.JS&&n.set("Ticket",this.JS),n.set("Content-Type","text/xml"),n},i.hS=function(n,i){var e,r;return lr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return e=this.XT,u.next=3,lr.awrap(v_(e,"playready",this.Id,i));case 3:return r=u.sent,this.tS(r.licenseServerUrl),this.JS=r.ticket,u.abrupt("return",t.prototype.hS.call(this,n,i));case 7:case"end":return u.stop()}},null,this,null,j)},n}(g_),I_=function(t){function i(){return t.apply(this,arguments)||this}return vt(i,t),i.prototype.oS=function(){if(!zp(this.XT))throw new ly(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.oS.call(this);return i.set("X-AxDRM-Message",this.XT.token),i},i}(g_);!function(t){t.Ya="application/json",t.QS="application/x-www-form-urlencoded",t.ZS="application/octet-stream",t.ri="text/plain;charset=UTF-8"}(E_||(E_={}));var D_=function(t){function n(n,i,e,r,u){var s;return(s=t.call(this,n.dc,i,e,r,u)||this).tE="",s.nE=void 0,s.iE=void 0,s.iE=n.eE,s}vt(n,t);var i=n.prototype;return i.rE=function(){return this.YT.certificateURL||this.nE},i.uE=function(t){this.nE=t},i.hS=function(t){return j.resolve(this.sE(t,this.tE))},i.sE=function(t,n){return"spc="+encodeURIComponent(ju(t))+"&assetId="+encodeURIComponent(n)},i.QT=function(t){return t.fairplay||{}},i.oE=function(t){var n=t.indexOf("?");if(n>=0)return j.resolve(t.substr(n+1));var i=t.split("/");return j.resolve(i[i.length-1])},i.eS=function(t){var n,i,e,r;return lr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return i=null!=(n=this.iE)?n:Ds(new y(t)),u.next=3,lr.awrap(this.oE(i));case 3:return e=u.sent,this.tE=e,(r={}).fairplay={zc:e},u.abrupt("return",r);case 8:case"end":return u.stop()}},null,this,null,j)},i.oS=function(){var n=t.prototype.oS.call(this);return n.set("Content-Type",this.cE),n},i.yS=function(t,n){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.wS){t.next=2;break}return t.abrupt("return",this.wS);case 2:return t.next=4,lr.awrap(this.aE(n));case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},null,this,null,j)},i.mS=function(n,i){return t.prototype.dS.call(this,n,Sd.Qh,i)},i.fE=function(t){var n=this.rE(),i=this.oS(),e={jh:n,Vh:Jc.Ga,Uh:i,av:kd.GET,dv:!1,Ih:null,fv:0,zr:t,gr:Td.Kh,hv:Sd.Zh};return new Id(e)},i.aE=function(t){var n,i,e;return lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=this.fE(t),r.next=3,lr.awrap(this.Id.qh(n));case 3:return i=r.sent,r.next=6,lr.awrap(i.Sh());case 6:return e=r.sent,r.abrupt("return",new y(e));case 8:case"end":return r.stop()}},null,this,null,j)},i.vS=function(t){var n;if("string"==typeof t){var i=t.trim();"<ckc>"===i.substr(0,5)&&"</ckc>"===i.substr(-6)&&(i=i.slice(5,-6)),n=qu(i)}else n=new y(t);return n},i.cS=function(n,i){var e=t.prototype.cS.call(this,n,i);return zr(e,"skd:")&&(e=e.substr("skd:".length)),e},ft(n,[{key:"gS",get:function(){return!0}},{key:"cE",get:function(){return E_.QS}}]),n}(gp),C_=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,Jc.Ga)||this}vt(n,t);var i=n.prototype;return i.oE=function(t){var n=t.split("://",1);if("skd"!==n[0].slice(-3).toLowerCase())return j.resolve("");var i=(n=t.split(";",2)).length>1?n[1]:"";return j.resolve(i)},i.hS=function(t){return lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,j)},i.vS=function(t){return new y(t)},i.cS=function(n,i){var e=n||{};return e.p1=En(),t.prototype.cS.call(this,e,i)},ft(n,[{key:"cE",get:function(){return E_.ZS}}]),n}(D_),N_=function(t){function i(n,i,e,r){var u;return(u=t.call(this,n,i,e,r,Jc.Ga)||this).tS("https://fairplay-license.drm.technology/license"),u.uE("https://fairplay-license.drm.technology/certificate"),u}vt(i,t);var e=i.prototype;return e.sE=function(t,n){var i={token:this.WS,contentId:n,payload:ju(t)};return JSON.stringify(i)},e.vS=function(t){return new y(t)},e.oS=function(){var n=t.prototype.oS.call(this);return n.set("x-vudrm-token",this.WS),n},ft(i,[{key:"cE",get:function(){return E_.Ya}},{key:"WS",get:function(){if(!Hp(this.XT))throw new ly(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Token is required for FairPlay VuDrm.");return this.XT.token}}]),i}(D_),O_="Verimatrix Fairplay license response incorrectly formatted. Invalid json.",A_="Verimatrix Fairplay license response incorrectly formatted. Ckc not found.",P_=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,Jc.Ga)||this}return vt(i,t),i.prototype.vS=function(i){var e=function(t){var i;try{i=JSON.parse(t).ckc}catch(t){throw new ly(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,O_)}if(!i)throw new ly(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,A_);return i}(Ts(new DataView(i)));return t.prototype.vS.call(this,e)},i}(D_);var x_=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,Jc.Ya)||this}vt(i,t);var e=i.prototype;return e.hS=function(t){var i,e;return lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(i=this.XT){r.next=3;break}throw new ly(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Fairplay DRM configuration.");case 3:return e=ju(t),r.abrupt("return",Jp(i,e,Ap.dr));case 5:case"end":return r.stop()}},null,this,null,j)},e.vS=function(t){try{var i;if(Pt(t)){var e=t.trim();i=JSON.parse(e)}else i=t;if(i.license){var r=Ku(i.license);return new y(r)}throw new ly(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Titanium Fairplay license server")}catch(t){throw new ly(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Fairplay license server")}},e.sS=function(t,n,i){return Qp(t,n,i)},ft(i,[{key:"cE",get:function(){return E_.Ya}}]),i}(D_),L_=function(t){function n(n,i,e,r){var u;return(u=t.call(this,n,i,e,r,Jc.Ga)||this).tS("https://emeademo.dev.ott.irdeto.com/streaming/getckc"),u.uE("https://emeademo.dev.ott.irdeto.com/streaming/getcertificate"),u}vt(n,t);var i=n.prototype;return i.rE=function(){var n=t.prototype.rE.call(this);if(!n)return n;var i=st.He(n),e=this.XT;return Mp(e)&&Nd(i,{accountId:e.accountId,applicationId:e.applicationId||""}),i.href},i.oE=function(n){return Mp(this.XT)?j.resolve(this.XT.contentId):t.prototype.oE.call(this,n)},i.hS=function(t){return lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,j)},i.vS=function(t){return new y(t)},i.cS=function(n,i){var e=n;return Mp(this.XT)&&(e=function(t,n){return wr({},i_(t,n),{KeyId:t.keyId})}(this.XT,e)),t.prototype.cS.call(this,e,i)},ft(n,[{key:"cE",get:function(){return E_.ZS}}]),n}(D_),B_=function(t){function i(i,e,r,u){var s;if(s=t.call(this,i,e,r,u,Jc.ri)||this,!Bp(e))throw new ly(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Conax configuration");return s.tS("https://connect.conax.com:8097/license"),s}vt(i,t);var e=i.prototype;return e.oS=function(){var n=t.prototype.oS.call(this);return u_(this.XT,"FairPlay",n)},e.aE=function(t){var n,i,e,r;return lr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return n=this.rE(),i={jh:n,Vh:Jc.Ga,Uh:{},av:kd.GET,dv:!1,Ih:null,fv:0,zr:t,gr:Td.Kh,hv:Sd.Zh},u.next=4,lr.awrap(this.Id.qh(i));case 4:return e=u.sent,u.next=7,lr.awrap(e.Sh());case 7:return r=u.sent,u.abrupt("return",new y(r));case 9:case"end":return u.stop()}},null,this,null,j)},e.hS=function(t){return lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,j)},e.oE=function(t){var n,i=t.indexOf("?");return 0===t.indexOf("skd://")?(n=i>=0?t.substring("skd://".length,i):t.substring("skd://".length),j.resolve(Ts(qu(n)))):j.resolve("unknown")},e.vS=function(t){try{var n=JSON.parse(t);return new y(Ku(n.CkcMessage))}catch(t){throw new f("CFLRW-66")}},i}(D_),M_=function(t){function i(n,i,e,r){var u;return(u=t.call(this,n,i,e,r,Jc.ri)||this).tS(Cp[Sr.dr]),u}vt(i,t);var e=i.prototype;return e.oE=function(t){return zr(t,"skd://")?j.resolve(t.substring("skd://".length,40)):j.reject(new ly(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error while determining the KeyOS Content ID."))},e.sE=function(t,n){return"spc="+ju(t)+"&assetId="+n},i}(D_),F_=function(t){function n(n,i,e,r){var u;return(u=t.call(this,n,i,e,r,Jc.ri)||this).tS("https://lic.drmtoday.com/license-server-fairplay/"),u}vt(n,t);var i=n.prototype;return i.sE=function(t,n){var i="spc="+encodeURIComponent(ju(t))+"&"+encodeURI(n);return"persistent"===this.YT.licenseType?i+"&offline=true":i},i.oS=function(){return a_(t.prototype.oS.call(this),this.WS,this.XT)},ft(n,[{key:"WS",get:function(){return c_(this.XT)}}]),n}(D_),U_=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,Jc.Ga)||this}vt(n,t);var i=n.prototype;return i.oE=function(t){var n=t;return zr(n,"skd:")&&(n="http:"+n.substring(4)),zr(n,"http:")||zr(n,"https:")?j.resolve(st.He(n).hostname):j.reject(new f("Could not parse ExpressPlay FairPlay content ID."))},i.hS=function(t){return lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,j)},i.vS=function(t){return new y(t)},ft(n,[{key:"cE",get:function(){return E_.ZS}}]),n}(D_),V_=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,Jc.ri)||this}return vt(n,t),n.prototype.oS=function(){var n=t.prototype.oS.call(this),i=this.XT.token;return n.set("Authorization","Bearer "+i),n},n}(D_),W_=function(t){function n(n,i,e,r){var u;if(u=t.call(this,n,i,e,r,Jc.Ya)||this,!qp(i))throw new f("Invalid Xstream DRM configuration");return u}vt(n,t);var i=n.prototype;return i.aE=function(t){var n,i,e,r,u;return lr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return n=this.rE(),i=this.oS(),e={jh:n,Vh:Jc.Ya,Uh:i,av:kd.POST,zr:t,gr:Td.Kh,hv:Sd.Zh},s.next=5,lr.awrap(this.Id.qh(e));case 5:return r=s.sent,s.next=8,lr.awrap(r._h());case 8:return u=s.sent,s.abrupt("return",new y(qu(u.certificate)));case 10:case"end":return s.stop()}},null,this,null,j)},i.mS=function(t,n,i){var e,r,u,s,o,c,a;return lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return e=ju(t),r=this.XT,i.next=5,lr.awrap(v_(r,"fairplay",this.Id,n));case 5:return u=i.sent,s=Ss(JSON.stringify({spc:e,ticket:u.ticket})),o={jh:this.nS(),Vh:Jc.Ya,Uh:this.oS(),av:kd.POST,Ih:s,fv:0,zr:n,gr:Td.Kh,hv:Sd.Qh},i.next=10,lr.awrap(this.Id.qh(o));case 10:return c=i.sent,i.next=13,lr.awrap(c._h());case 13:return a=i.sent,i.abrupt("return",qu(a.licence));case 15:case"end":return i.stop()}},null,this,null,j)},ft(n,[{key:"cE",get:function(){return E_.Ya}}]),n}(D_),H_=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,Jc.ri)||this}vt(i,t);var e=i.prototype;return e.sE=function(t,n){return ju(t)},e.vS=function(i){if(0===i.length)throw new ly(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Vimond license request error.");return t.prototype.vS.call(this,i)},e.oS=function(){var n=t.prototype.oS.call(this);return n.set("Content-Type","text/plain"),n},i}(D_),q_=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,Jc.Ga)||this}vt(i,t);var e=i.prototype;return e.sE=function(t,n){return t},e.vS=function(t){return new y(t)},e.oS=function(){if(!zp(this.XT))throw new ly(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.oS.call(this);return i.set("X-AxDRM-Message",this.XT.token),i},ft(i,[{key:"cE",get:function(){return E_.Ya}}]),i}(D_),z_=function(t){function i(n,i,e,r){var u;return(u=t.call(this,n,i,e,r,Jc.Ya)||this).hE=void 0,u}vt(i,t);var e=i.prototype;return e.sE=function(t,n){var i={spc:ju(t)};return JSON.stringify(i)},e.oE=function(t){var i=st.He(t);return this.hE=t,i.searchParams.has("b")?j.resolve(i.searchParams.get("b")):j.reject(new ly(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error during license server request: Could not extract content id"))},e.cS=function(n,i){var e=this.nS();return!e&&this.hE&&(e=this.hE),e&&(e=e.replace("skd://","https://")),t.prototype.cS.call(this,n,i||e)},e.vS=function(t){try{var i;if((i=Pt(t)?JSON.parse(t.trim()):t).ckc)return qu(i.ckc)}catch(t){throw new ly(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Uplynk Fairplay license server")}throw new ly(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Uplynk Fairplay license server")},ft(i,[{key:"cE",get:function(){return E_.ri}}]),i}(D_),j_=function(){function t(t,n){this.vE=t,this.dE=n}var n=t.prototype;return n.lE=function(t){return this.vE(t)},n.wE=function(t,n){throw new h(n+" must be "+this.dE+". (Received: "+t+")")},t}();new j_(function(t){return!0},"any");var $_=new j_(Bt,"a number"),X_=new j_(Pt,"a string"),G_=new j_(xt,"a boolean");new j_(function(t){return"[object Date]"===Rt.call(t)},"a date"),new j_(Dt,"undefined"),new j_(Ot,"an object"),new j_(function(t){return null===t},"null"),new j_(function(t){return null==t},"null or undefined");var Y_,K_=(Y_={responseCode:$_,isException:G_,description:X_,title:X_,correlationId:X_},{lE:function(t){if(!Ot(t))return!1;for(var n=0,i=v.keys(Y_);n<i.length;n++){var e=i[n];if(!Y_[e].lE(t[e]))return!1}return!0},wE:function(t,n){if(!Ot(t))throw new h(n+" must be an object.");for(var i=0,e=v.keys(Y_);i<e.length;i++){var r=e[i],u=Y_[r];if(!u.lE(t[r]))return u.wE(t[r],n+"."+String(r))}throw new h}});function J_(t,n,i,e,r){var u;return lr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return u=Q_(t,n,i,r),s.next=3,lr.awrap(Z_(u,e));case 3:return s.abrupt("return",s.sent);case 4:case"end":return s.stop()}},null,null,null,j)}function Q_(t,n,i,e){var r={token:n.token,account:n.accountId,form:"json"},u=decodeURIComponent(function(t,n){var i=st.He(t);return Nd(i,n),i.toString()}(i,r)),s=new Qc({});s.append("Content-Type","application/json");var o=ju(t),c={getFairplayLicense:{releasePid:n.releasePid,spcMessage:o}};return{jh:u,Vh:Jc.ri,Uh:s,av:kd.POST,Ih:JSON.stringify(c),zr:e,gr:Td.Kh,hv:Sd.Qh}}function Z_(t,i){var e,r;return lr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,lr.awrap(i.qh(t));case 2:return e=u.sent,u.next=5,lr.awrap(e._h());case 5:if(r=u.sent,!K_.lE(r)){u.next=8;break}throw new ly(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,r.description,void 0,t.jh,r.responseCode);case 8:return u.abrupt("return",qu(r.getFairplayLicenseResponse.ckcResponse));case 9:case"end":return u.stop()}},null,null,null,j)}var tk=function(t){function n(n,i,e,r){var u;return(u=t.call(this,n,i,e,r,Jc.Ga)||this).gE=void 0,u.gE=i,u}vt(n,t);var i=n.prototype;return i.oE=function(n){var i=n.replace("FairPlay",this.gE.releasePid);return t.prototype.oE.call(this,i)},i.mS=function(t,n){return lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,lr.awrap(J_(t,this.gE,this.nS(),this.Id,n));case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},null,this,null,j)},n}(D_),nk=function(t){function i(n,i,e){return t.call(this,Wr,n,i,e,Jc.Ga)||this}vt(i,t);var e=i.prototype;return e.QT=function(t){return t.clearkey||{}},e.rS=function(i,e,r,u){var s,o;return lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=this.YT,!this.nS()){e.next=5;break}return e.abrupt("return",t.prototype.rS.call(this,i,this.JT,r,u));case 5:if(!s.keys||!s.keys.length){e.next=10;break}return o={keys:s.keys.map(function(t){var n=t;return n||(n={}),{kty:"oct",kid:n.id,k:n.value}})},e.abrupt("return",Ss(JSON.stringify(o)).buffer);case 10:throw new ly(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The clearkey license has not been configured correctly.");case 11:case"end":return e.stop()}},null,this,null,j)},e.yS=function(t,n){return j.resolve(new y(0))},e.mS=function(n,i){return t.prototype.dS.call(this,n,Sd.rv,i)},i}(gp),ik=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n}(pp),ek={url:"",method:"GET",headers:{},body:null,useCredentials:!1};function rk(t,n,i){var e,r,u;return lr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(e=dk(n),(r=t.onCertificateRequest)&&"function"==typeof r){s.next=5;break}return s.abrupt("return",j.resolve(n));case 5:return s.next=8,lr.awrap(mu(j.resolve(r.call(t,e)),i));case 8:if(!Ps(u=s.sent)){s.next=11;break}return s.abrupt("return",xs(u));case 11:return s.abrupt("return",vk(wr({},ek,u)));case 12:case"end":return s.stop()}},null,null,null,j)}function uk(t,n,i,e,r){var u,s,o;return lr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(u=t.onCertificateResponse,s=hk(n,i,e),u&&"function"==typeof u){c.next=5;break}return c.abrupt("return",j.resolve(n));case 5:return c.next=8,lr.awrap(mu(j.resolve(u.call(t,s)),r));case 8:return o=c.sent,c.abrupt("return",xs(o));case 10:case"end":return c.stop()}},null,null,null,j)}function sk(t,n,i,e){var r;return lr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,lr.awrap(ck(t,n,i,e));case 2:if(!((r=u.sent)instanceof ArrayBuffer)){u.next=5;break}return u.abrupt("return",r);case 5:return u.abrupt("return",vk(r));case 6:case"end":return u.stop()}},null,null,null,j)}function ok(t,n,i,e,r,u){var s,o;return lr.async(function(c){for(;;)switch(c.prev=c.next){case 0:return s=fk(i,r),c.next=3,lr.awrap(ak(t,new y(n),s,e,u));case 3:return o=c.sent,c.abrupt("return",xs(o).buffer);case 5:case"end":return c.stop()}},null,null,null,j)}function ck(t,n,i,e){var r,u,s;return lr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(r=null==t?void 0:t.onLicenseRequest,u=fk(n,i),r&&"function"==typeof r){o.next=5;break}return o.abrupt("return",j.resolve(u));case 5:return o.next=8,lr.awrap(mu(j.resolve(r.call(t,u)),e));case 8:if(!Ps(s=o.sent)){o.next=11;break}return o.abrupt("return",xs(s).buffer);case 11:return o.abrupt("return",wr({fairplaySkdUrl:void 0},ek,s));case 12:case"end":return o.stop()}},null,null,null,j)}function ak(t,n,i,e,r){var u,s,o;return lr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(u=null==t?void 0:t.onLicenseResponse,s=hk(n,i,e),u&&"function"==typeof u){c.next=5;break}return c.abrupt("return",j.resolve(n));case 5:return c.next=8,lr.awrap(mu(j.resolve(u.call(t,s)),r));case 8:return o=c.sent,c.abrupt("return",xs(o));case 10:case"end":return c.stop()}},null,null,null,j)}function fk(t,n){return wr({},dk(t),{fairplaySkdUrl:n})}function hk(t,n,i){return{url:i.zh,status:i.Fh,statusText:i.Wh,headers:i.Uh.Ja(),body:t,request:n}}function vk(t){return new Id({jh:t.url,av:t.method,Uh:t.headers,Ih:t.body,dv:t.useCredentials})}function dk(t){var n;return{url:t.jh,body:null!=(n=lk(t.Ih))?n:null,headers:t.Uh.Ja(),method:t.av,useCredentials:t.dv}}function lk(t){if(t)return"string"==typeof t?Cs(t):t instanceof ArrayBuffer?new y(t):Xu(t)?As(t):void 0}var wk,gk=function(t){function i(n,i,e,r){var u;return(u=t.call(this,n,i,e)||this).yE=void 0,u.yE=r,u}vt(i,t);var e=i.prototype;return e.yS=function(t,n){return j.resolve(t)},e.mS=function(t,i){var e,r,u,s,o;return lr.async(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,lr.awrap(this.zS(Bs(t).buffer));case 2:return e=c.sent,r=this.uS(e,Jc.Ga,Sd.ev,i),c.next=6,lr.awrap(sk(this.yE,r,void 0,i));case 6:if(!((u=c.sent)instanceof ArrayBuffer)){c.next=10;break}return c.abrupt("return",new y(u));case 10:if(""!==u.jh){c.next=12;break}throw new ly(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 12:return c.prev=12,c.next=15,lr.awrap(this.Id.qh(u));case 15:return s=c.sent,c.next=18,lr.awrap(s.Sh(i));case 18:return o=c.sent,c.t0=y,c.next=22,lr.awrap(ok(this.yE,o,r,s,void 0,i));case 22:return c.t1=c.sent,c.abrupt("return",new c.t0(c.t1));case 26:throw c.prev=26,c.t2=c.catch(12),gu(c.t2),new ly(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during PlayReady license request",c.t2);case 30:case"end":return c.stop()}},null,this,[[12,26]],j)},i}(g_),yk=function(t){function i(n,i,e,r){var u;return(u=t.call(this,n,i,e,Jc.Ga)||this).yE=void 0,u.yE=r,u}vt(i,t);var e=i.prototype;return e.yS=function(t,i){var e,r,u,s,o;return lr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(!this.wS){c.next=2;break}return c.abrupt("return",this.wS);case 2:return e=this.uS(t,Jc.Ga,Sd.nv,i),c.next=5,lr.awrap(rk(this.yE,e,i));case 5:if(!((r=c.sent)instanceof y)){c.next=9;break}return c.abrupt("return",r);case 9:if(""!==r.jh){c.next=11;break}throw new ly(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The certificate request URL has not been correctly configured.");case 11:return c.prev=11,c.next=14,lr.awrap(this.Id.qh(r));case 14:return u=c.sent,c.next=17,lr.awrap(u.Sh(i));case 17:s=c.sent,c.next=24;break;case 20:throw c.prev=20,c.t0=c.catch(11),gu(c.t0),new ly(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during Widevine certificate request",c.t0);case 24:return o=fk(e,void 0),c.next=27,lr.awrap(uk(this.yE,new y(s),o,u,i));case 27:return c.abrupt("return",c.sent);case 28:case"end":return c.stop()}},null,this,[[11,20]],j)},e.mS=function(t,i){var e,r,u,s;return lr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=this.uS(t,Jc.Ga,Sd.tv,i),o.next=3,lr.awrap(sk(this.yE,e,void 0,i));case 3:if(!((r=o.sent)instanceof ArrayBuffer)){o.next=7;break}return o.abrupt("return",new y(r));case 7:if(""!==r.jh){o.next=9;break}throw new ly(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return o.prev=9,o.next=12,lr.awrap(this.Id.qh(r));case 12:return u=o.sent,o.next=15,lr.awrap(u.Sh(i));case 15:s=o.sent,o.next=22;break;case 18:throw o.prev=18,o.t0=o.catch(9),gu(o.t0),new ly(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Widevine license request",o.t0);case 22:return o.t1=y,o.next=25,lr.awrap(ok(this.yE,s,e,u,void 0,i));case 25:return o.t2=o.sent,o.abrupt("return",new o.t1(o.t2));case 27:case"end":return o.stop()}},null,this,[[9,18]],j)},i}(ik),mk=function(t){function i(n,i,e,r,u){var s;return(s=t.call(this,n,i,e,r,Jc.Ga)||this).yE=void 0,s.mE=void 0,s.yE=u,s}vt(i,t);var e=i.prototype;return e.yS=function(t,i){var e,r,u,s,o;return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.wS){t.next=2;break}return t.abrupt("return",this.wS);case 2:return e=this.fE(i),t.next=5,lr.awrap(rk(this.yE,e,i));case 5:if(r=t.sent,!Xu(r)){t.next=8;break}return t.abrupt("return",r);case 8:return t.prev=8,t.next=11,lr.awrap(this.Id.qh(r));case 11:return u=t.sent,t.next=14,lr.awrap(u.Sh());case 14:return s=t.sent,o=fk(e,void 0),t.next=18,lr.awrap(uk(this.yE,new y(s),o,u,i));case 18:return t.abrupt("return",t.sent);case 21:throw t.prev=21,t.t0=t.catch(8),gu(t.t0),new ly(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during FairPlay certificate request",t.t0);case 25:case"end":return t.stop()}},null,this,[[8,21]],j)},e.mS=function(t,i){var e,r,u,s;return lr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=this.uS(t,Jc.Ga,Sd.Qh,i),o.next=3,lr.awrap(sk(this.yE,e,this.mE,i));case 3:if(!((r=o.sent)instanceof ArrayBuffer)){o.next=7;break}return o.abrupt("return",new y(r));case 7:if(""!==r.jh){o.next=9;break}throw new ly(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return o.prev=9,o.next=12,lr.awrap(this.Id.qh(r));case 12:return u=o.sent,o.next=15,lr.awrap(u.Sh(i));case 15:return s=o.sent,o.t0=y,o.next=19,lr.awrap(ok(this.yE,s,e,u,this.mE,i));case 19:return o.t1=o.sent,o.abrupt("return",new o.t0(o.t1));case 23:throw o.prev=23,o.t2=o.catch(9),gu(o.t2),new ly(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during FairPlay license request",o.t2);case 27:case"end":return o.stop()}},null,this,[[9,23]],j)},e.oE=function(n){var i;return this.mE=n,null!=(i=this.yE)&&i.extractFairplayContentId?j.resolve(this.yE.extractFairplayContentId(n)):t.prototype.oE.call(this,n)},i}(D_),bk=function(){function t(){}var n=t.prototype;return n.bE=function(t,n,i,e){switch(t.dc.gr){case Sr.ar:return this.pE(n,i,e);case Sr.cr:return this._E(n,i,e);case Sr.dr:return this.kE(t,n,i,e);case Sr.hr:default:return this.TE(n,i,e)}},n.pE=function(t,n,i){var e,r=(e=t).integration===wp&&Pt(e.customIntegrationId)?t.customIntegrationId:t.integration;if(r&&Ip.xS.OS(r,Ar)){var u=Ip.xS.PS(r,Ar,t);return new yk(t,n,i,u)}switch(r){case tp:return new t_(t,n,i);case rp:return new n_(t,n,i);case ep:return new e_(t,n,i);case np:return new s_(t,n,i);case op:return new f_(t,n,i);case ap:return new h_(t,n,i);case fp:return new d_(t,n,i);case vp:return new l_(t,n,i);case sp:default:return new ik(t,n,i,Jc.Ga)}},n._E=function(t,n,i){var e=t.integration;if(e&&Ip.xS.OS(e,Cr)){var r=Ip.xS.PS(e,Cr,t);return new gk(t,n,i,r)}switch(e){case tp:return new m_(t,n,i);case rp:return new __(t,n,i);case ep:return new k_(t,n,i);case np:return new T_(t,n,i);case op:return new S_(t,n,i);case fp:return new R_(t,n,i);case vp:return new I_(t,n,i);case sp:default:return new g_(t,n,i)}},n.kE=function(t,n,i,e){var r=n.integration;if(r&&Ip.xS.OS(r,Br)){var u=Ip.xS.PS(r,Br,n);return new mk(t,n,i,e,u)}switch(r){case ip:return new C_(t,n,i,e);case rp:return new N_(t,n,i,e);case up:return new P_(t,n,i,e);case tp:return new x_(t,n,i,e);case ep:return new L_(t,n,i,e);case np:return new B_(t,n,i,e);case sp:return new M_(t,n,i,e);case op:return new F_(t,n,i,e);case cp:return new U_(t,n,i,e);case ap:return new V_(t,n,i,e);case fp:return new W_(t,n,i,e);case hp:return new H_(t,n,i,e);case vp:return new q_(t,n,i,e);case dp:return new z_(t,n,i,e);case lp:return new tk(t,n,i,e);default:return new D_(t,n,i,e,Jc.ri)}},n.TE=function(t,n,i){return new nk(t,n,i)},n.SE=function(t){return t.gr===Sr.cr||t.gr===Sr.ar||t.gr===Sr.dr||t.gr===Sr.hr},n.Tc=function(t,n){var i;if(t.gr!==Sr.cr)return!1;if(It(null==(i=n.playready)?void 0:i.customData))return!0;var e=n.integration;return(!e||!Ip.xS.OS(e,Br))&&(e===tp&&new y_(n).Tc)},n.FS=function(t,n){if(t.gr===Sr.ar){var i=n.integration;if(!i||!Ip.xS.OS(i,Br))return i===tp?t_.FS():void 0}},t}();!function(t){t[t.EE=0]="EE",t[t.RE=1]="RE",t[t.IE=2]="IE",t[t.DE=3]="DE",t[t.CE=4]="CE",t[t.nw=5]="nw",t[t.NE=6]="NE",t[t.OE=7]="OE",t[t.ow=8]="ow",t[t.AE=9]="AE",t[t.PE=10]="PE"}(wk||(wk={}));var pk=function(){function t(){}return t.prototype.xE=function(t){},ft(t,[{key:"LE",get:function(){return 0}},{key:"BE",get:function(){return 0}}]),t}(),_k=function(){function t(t,n){void 0===n&&(n=new bk),this._T=void 0,this.ME=void 0,this.jS=void 0,this._T=t,this.ME=n}var n=t.prototype;return n.FE=function(t){this.jS=t},n.FS=function(t){var n=this.jS;if(void 0!==n)return this.ME.FS(t,n)},n.Tc=function(t){var n=this.jS;return void 0!==n&&this.ME.Tc(t,n)},n.UE=function(t){var n={dc:t.dc,VE:t.VE||[],eE:t.eE},i=this.ME.bE(n,this.jS||{},t.GT,this._T);return new kk(i)},t}(),kk=function(){function t(t){this.WE=void 0,this.WE=t}var n=t.prototype;return n.iS=function(t){return this.WE.iS(t)},n.eS=function(t,n,i){return this.WE.eS(n,i)},n.gS=function(){return this.WE.gS||void 0!==this.WE.wS},n.yS=function(t,n){return this.WE.yS(t,n)},n.mS=function(t,n,i){return n&&this.WE.tS(n),this.WE.mS(t,i)},n.Lr=function(){this.WE.et()},t}(),Tk=function(t){function n(n){var i;(i=t.call(this)||this).HE=[],i.qE=function(t){i.ol(t.Ld)},i.zE=function(t){var n=t.Ld;i.jE(n)||i.cl(n)};for(var e=0;e<n.length;e++){var r=n[e];i.$E(r)}return i}vt(n,t);var i=n.prototype;return i.$E=function(t){this.HE.push(t);for(var n=0,i=t.hl;n<i.length;n++){var e=i[n];this.ol(e)}this.XE(t)},i.GE=function(t){ou(this.HE,t),this.YE(t);for(var n=0,i=t.hl;n<i.length;n++){var e=i[n];this.jE(e)||this.cl(e)}},i.jE=function(t){for(var n=0,i=this.HE;n<i.length;n++){if(i[n].al(t))return!0}return!1},i.XE=function(t){t.Kr(dw.Dd,this.qE),t.Kr(dw.Nd,this.zE)},i.YE=function(t){t.tu(dw.Dd,this.qE),t.tu(dw.Nd,this.zE)},i.et=function(){for(;this.HE.length>0;)this.GE(this.HE[0]);t.prototype.et.call(this)},i.xd=function(){return Zw(this)},n}(Sw);function Sk(t){return{get enabled(){return t._l},set enabled(n){t._l=Lw(n)},get currentLatency(){return t.Uw},get streamConfiguration(){if(void 0!==t.KE)return function(t){return{get minimumOffset(){return t.Nw},get maximumOffset(){return t.Aw},get targetOffset(){return t.Ow},get forceSeekOffset(){return t.Pw},get minimumPlaybackRate(){return t.xw},get maximumPlaybackRate(){return t.Lw}}}(t.KE)},get configuration(){return function(t){return{get minimumOffset(){return t.Nw},set minimumOffset(n){t.Nw=Bw(n)},get maximumOffset(){return t.Aw},set maximumOffset(n){t.Aw=Bw(n)},get targetOffset(){return t.Ow},set targetOffset(n){t.Ow=Bw(n)},get forceSeekOffset(){return t.Pw},set forceSeekOffset(n){t.Pw=Bw(n)},get minimumPlaybackRate(){return t.xw},set minimumPlaybackRate(n){t.xw=Bw(n)},get maximumPlaybackRate(){return t.Lw},set maximumPlaybackRate(n){t.Lw=Bw(n)},update:function(n){t.sc(function(t){var n={};void 0!==t.minimumOffset&&(n.Nw=Bw(t.minimumOffset));void 0!==t.maximumOffset&&(n.Aw=Bw(t.maximumOffset));void 0!==t.targetOffset&&(n.Ow=Bw(t.targetOffset));void 0!==t.forceSeekOffset&&(n.Pw=Bw(t.forceSeekOffset));void 0!==t.minimumPlaybackRate&&(n.xw=Bw(t.minimumPlaybackRate));void 0!==t.maximumPlaybackRate&&(n.Lw=Bw(t.maximumPlaybackRate));return n}(n))}}}(t.lc)}}}var Ek,Rk=function(){function t(){this.Ad=void 0,this.JE=void 0,this.JE={Pw:0,Aw:0,Lw:0,Nw:0,xw:0,Ow:0,sc:Mt}}return ft(t,[{key:"Pd",get:function(){return null!=this.Ad||(this.Ad=Sk(this)),this.Ad}},{key:"_l",get:function(){return!1},set:function(t){}},{key:"Uw",get:function(){}},{key:"KE",get:function(){}},{key:"lc",get:function(){return this.JE}}]),t}();function Ik(){return Ek||(Ek=Z&&Z.document&&Z.document.createElement("video")),Ek}var Dk=function(t){function i(i,e,r,u,s,o,c){var a;return void 0===o&&(o=new bk),void 0===c&&(c=zc()),(a=t.call(this)||this).QE=void 0,a.ZE=void 0,a.tR=void 0,a.Gw=void 0,a.Yw=void 0,a.Kw=void 0,a.nR=void 0,a.iR=void 0,a.eR=void 0,a.rR=void 0,a.uR=void 0,a._T=void 0,a.kr=void 0,a.sR=void 0,a.oR=void 0,a.cR=new pk,a.aR=new Rk,a.fR=function(t){var i=t.fu,e=i.code,r=new Nc(function(t){switch(t){case hy.ABORTED:return n.ErrorCode.MEDIA_ABORTED;case hy.NETWORK:return n.ErrorCode.NETWORK_ERROR;case hy.DECODE:return n.ErrorCode.MEDIA_DECODE_ERROR;case hy.SRC_NOT_SUPPORTED:return n.ErrorCode.SOURCE_NOT_SUPPORTED;case hy.ENCRYPTED:return n.ErrorCode.CONTENT_PROTECTION_ERROR;case hy.LICENSE_INVALID:return n.ErrorCode.LICENSE_ERROR;case hy.ADVERTISEMENT_ERROR:return n.ErrorCode.AD_ERROR}}(e),"Something went wrong during native playback.",i),u=new wy(e,r.message,i.message);a.hR(r,u)},a.vR=function(){a.Yr(new Mg(a.bw,a.Tg))},a.dR=function(t){a.Sw||(a.oR=void 0),a.Yr(t)},a.lR=function(t){a.oR=void 0,a.Yr(t)},a.wR=function(){a.Yr(new Ly(a.Eg))},a.gR=function(){a.Dw>0&&a.Iw>0&&a.Yr(new Wb)},a.yR=function(t){a.Gw.ol(new Dy(t.track))},a.mR=function(t){var n=Nk(a.Gw,t.track);n&&a.Gw.cl(n)},a.bR=function(){a.pR(a.Gw)},a._R=function(t){a.Yw.ol(new xy(t.track))},a.kR=function(t){var n=Nk(a.Yw,t.track);n&&a.Yw.cl(n)},a.TR=function(){a.pR(a.Yw)},a.SR=function(t){a.Yr(t),a.hR(t.errorObject,yy(t.errorObject))},a.QE=e,a._T=r,a.kr=c,a.ZE=a.QE.G(my.ov),a.eR=a.ZE.ER.preload,a.rR=new Zb(a.ZE,!0),a.rR.Kr(Pg,a.Gr),a.sR=new _k(r,o),a.ZE.RR=a.sR,a.IR(),a.Gw=new by,a.Yw=new by,a.DR(),a.uR=new xb(a.ZE,a._T),a.Kw=new Tk([a.ZE.ig]),a.vg(),a}vt(i,t);var e=i.prototype;return e.dg=function(){this.ZE.dg()},e.vg=function(){this.ZE.vg()},e.sg=function(t,n,i){var e;return lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return wu(i),e={gr:Vb.CT,Vl:t.src,Rh:t.type,CR:this.NR(t),xg:this.eR,OR:t.crossOrigin,AR:n.metadata&&n.metadata.title},this.sR.FE(t.contentProtection),r.next=5,lr.awrap(this.ZE.rc(e));case 5:this.tR=r.sent,wu(i),n.textTracks&&this.PR(n.textTracks),Ub(this.ig);case 9:case"end":return r.stop()}},null,this,null,j)},e.PR=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(this.ZE.xR()&&St._n&&Yb&&!Eb(i.kind,i.label)&&this.LR(i)){var e,r=null!=(e=i.kind)?e:bb.np;this.ZE.MR(i.src,r,i.label,i.srclang)}else{if(void 0===i.src)continue;this.uR.TT(i)}}},e.LR=function(t){return!t.format||"webvtt"===t.format},e.Y=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,lr.awrap(this.ZE.Y());case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:if(this.FR){t.next=12;break}return t.next=10,lr.awrap(this.ZE.ru(Kc.Oa));case 10:t.next=7;break;case 12:case"end":return t.stop()}},null,this,[[0,5]],j)},e.K=function(){this.ZE.K()},e.og=function(){return void 0!==this.ZE.ER.webkitShowPlaybackTargetPicker},e.cg=function(){this.ZE.ER.webkitShowPlaybackTargetPicker&&this.ZE.ER.webkitShowPlaybackTargetPicker()},e.ag=function(){this.ZE.ER.webkitShowPlaybackTargetPicker&&this.ZE.ER.webkitShowPlaybackTargetPicker()},e.lg=function(){return this.ZE.ER},e.wg=function(){return this.ZE.UR},e.fl=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.nR=void 0,this.iR=void 0,this.tR=void 0,t.next=5,lr.awrap(this.uR.fl());case 5:return this.ZE.WR(),t.next=8,lr.awrap(this.ZE.fl());case 8:this.rR.fl(),this.xg=this.eR,this.tg.fl(),this.ng.fl(),this.oR=void 0;case 13:case"end":return t.stop()}},null,this,null,j)},e.et=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,lr.awrap(this.fl());case 2:return this.Zr(),this.HR(),this.qR(),this.rR.et(),this.ZE.RR=void 0,t.next=9,lr.awrap(this.QE.nt(this.ZE));case 9:return this.Gw.et(),this.Yw.et(),this.Kw.et(),t.next=14,lr.awrap(this.uR.et());case 14:case"end":return t.stop()}},null,this,null,j)},e.IR=function(){this.ZE.Kr(Kc.Na,this.Gr),this.ZE.Kr(Kc.Ca,this.Gr),this.ZE.Kr(Kc.qa,this.vR),this.ZE.Kr(Kc.Oa,this.Gr),this.ZE.Kr(Kc.Sa,this.Gr),this.ZE.Kr(Kc.Ba,this.Gr),this.ZE.Kr(Kc.La,this.dR),this.ZE.Kr(Kc._a,this.Gr),this.ZE.Kr(Kc.Aa,this.Gr),this.ZE.Kr(Kc.za,this.Gr),this.ZE.Kr(Kc.ba,this.Gr),this.ZE.Kr(Kc.xa,this.gR),this.ZE.Kr(Ig.mw,this.lR),this.ZE.Kr(Gw.Cl,this.fR),this.ZE.Kr(Kc.ga,this.Gr),this.ZE.Kr(Kc.wa,this.SR),this.ZE.ER.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.wR)},e.HR=function(){this.ZE.tu(Kc.Na,this.Gr),this.ZE.tu(Kc.Ca,this.Gr),this.ZE.tu(Kc.qa,this.vR),this.ZE.tu(Kc.Oa,this.Gr),this.ZE.tu(Kc.Sa,this.Gr),this.ZE.tu(Kc.Ba,this.Gr),this.ZE.tu(Kc.La,this.dR),this.ZE.tu(Kc._a,this.Gr),this.ZE.tu(Kc.Aa,this.Gr),this.ZE.tu(Kc.za,this.Gr),this.ZE.tu(Kc.ba,this.Gr),this.ZE.tu(Kc.xa,this.gR),this.ZE.tu(Ig.mw,this.lR),this.ZE.tu(Gw.Cl,this.fR),this.ZE.tu(Kc.ga,this.Gr),this.ZE.tu(Kc.wa,this.SR),this.ZE.ER.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.wR)},e.NR=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{dc:Vr,zR:[{initDataTypes:[Vr.mr],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},e.DR=function(){var t=this.ZE.ER.audioTracks,n=this.ZE.ER.videoTracks;t&&(t.addEventListener("addtrack",this.yR),t.addEventListener("removetrack",this.mR),t.addEventListener("change",this.bR)),n&&(n.addEventListener("addtrack",this._R),n.addEventListener("removetrack",this.kR),n.addEventListener("change",this.TR))},e.qR=function(){var t=this.ZE.ER.audioTracks,n=this.ZE.ER.videoTracks;t&&(t.removeEventListener("addtrack",this.yR),t.removeEventListener("removetrack",this.mR),t.removeEventListener("change",this.bR)),n&&(n.removeEventListener("addtrack",this._R),n.removeEventListener("removetrack",this.kR),n.removeEventListener("change",this.TR))},e.pR=function(t){for(var n=0;n<t.vl;n++){t.sl(n).jg()}},e._g=function(){this.ZE._g()},e.hR=function(t,n){this.nR||(this.nR=n,this.iR=t,this.Yr(new $g(t)))},ft(i,[{key:"FR",get:function(){var t=this.ZE.kg,n=this.bw;return t.jR(n,.01)}},{key:"tg",get:function(){return this.Gw}},{key:"kg",get:function(){return this.ZE.kg.$R()}},{key:"Tg",get:function(){return this.ZE.Tg},set:function(t){t&&this.ZE.XR(t)}},{key:"bw",get:function(){return void 0!==this.oR?this.oR:this.ZE.bw},set:function(t){this.Eg&&(this.oR=t),this.ZE.Eu(t)}},{key:"pw",get:function(){return this.ZE.pw}},{key:"_w",get:function(){return this.ZE._w}},{key:"fu",get:function(){return this.nR}},{key:"kw",get:function(){return this.iR}},{key:"eg",get:function(){}},{key:"Eg",get:function(){return this.ZE.Eg}},{key:"Hw",get:function(){return wr({},{Rg:0,Ig:0,Dg:0,Cg:0,Ng:0,Og:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.ZE.GR())}},{key:"Tw",get:function(){return this.ZE.Tw},set:function(t){this.ZE.Tw=t}},{key:"Ag",get:function(){return!0}},{key:"Sw",get:function(){return this.ZE.Sw}},{key:"Ew",get:function(){return this.ZE.Ew},set:function(t){this.ZE.Ew=t}},{key:"Pg",get:function(){return this.ZE.ER.played}},{key:"xg",get:function(){return this.eR},set:function(t){this.eR=t,this.tR&&(this.tR.xg=t)}},{key:"Ml",get:function(){return this.ZE.Ml}},{key:"Lg",get:function(){return this.ZE.Lg.$R()}},{key:"Rw",get:function(){return this.ZE.Rw}},{key:"YR",get:function(){return this.ZE.YR}},{key:"ig",get:function(){return this.Kw}},{key:"ng",get:function(){return this.Yw}},{key:"Iw",get:function(){return this.ZE.Iw}},{key:"Dw",get:function(){return this.ZE.Dw}},{key:"Cw",get:function(){return this.ZE.Cw},set:function(t){this.ZE.Cw=t}},{key:"Bg",get:function(){return this.aR}},{key:"Mg",get:function(){return this.ZE.Mg},set:function(t){this.ZE.Mg=t}},{key:"KR",get:function(){return this.cR}}]),i}(ig);var Ck=function(){function t(){this.JR=wk.PE}var n=t.prototype;return n.IS=function(t,n,i,e,r,u){return new Dk(t,n,i,e,r)},n.QR=function(t,n){return function(t){return!t.type||!(!Ik().canPlayType||!Ik().canPlayType(t.type))}(t)},n.ZR=function(){return!1},t}();function Nk(t,n){for(var i=0,e=t.hl;i<e.length;i++){var r=e[i];if(r.Gg===n)return r}}var Ok=function(){function t(){this.tI=new Ck,this.nI=[]}t.iI=function(){return this.Zn};var n=t.prototype;return n.eI=function(t){this.nI.push(t)},n.IS=function(t,n,i,e,r,u){for(var s=this.tI.IS(t,n,i,e,r,u),o=0,c=this.nI;o<c.length;o++){s=(0,c[o])(s,i,e)}return s},n.QR=function(t,n){return this.tI.QR(t,n)},n.ZR=function(){return!1},ft(t,[{key:"JR",get:function(){return this.tI.JR}}]),t}();function Ak(t,n){return iu(t.JR,n.JR)}Ok.Zn=new Ok;var Pk=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).rI=Ok.iI(),n}vt(n,t);var i=n.prototype;return i.uI=function(t){this.rI=t},i.sI=function(){return this.rI},i.oI=function(t,n){var i,e,r,u,s,o;return lr.async(function(c){for(;;)switch(c.prev=c.next){case 0:i=0;case 1:if(!(i<t.length)){c.next=11;break}return e=t[i],c.next=5,lr.awrap(this.cI(e,n));case 5:if(!(r=c.sent)){c.next=8;break}return c.abrupt("return",{aI:e,fI:r});case 8:i++,c.next=1;break;case 11:u=this.rI,s=0;case 13:if(!(s<t.length)){c.next=20;break}if(o=t[s],!u.QR(o,n)){c.next=17;break}return c.abrupt("return",{aI:o,fI:u});case 17:s++,c.next=13;break;case 20:return c.abrupt("return",{aI:t[0],fI:u});case 21:case"end":return c.stop()}},null,this,null,j)},n}(function(){function t(){this.hI=[]}var n=t.prototype;return n.vI=function(t){this.hI.push(t),this.hI.sort(Ak)},n.cI=function(t,n){var i,e,r,u;return lr.async(function(s){for(;;)switch(s.prev=s.next){case 0:i=0,e=this.hI;case 1:if(!(i<e.length)){s.next=17;break}if(r=e[i],!Lt(u=r.QR(t,n))){s.next=10;break}return s.next=7,lr.awrap(u);case 7:s.t0=s.sent,s.next=11;break;case 10:s.t0=Boolean(u);case 11:if(!s.t0){s.next=14;break}return s.abrupt("return",r);case 14:i++,s.next=1;break;case 17:return s.abrupt("return",void 0);case 18:case"end":return s.stop()}},null,this,null,j)},t}());Pk.Zn=new Pk;var xk,Lk=function(){function t(t){var n,i;this.dI=void 0,this.dI=Z&&Z.document&&Z.document.createElement("div"),n=this.dI,(i=n.style).position="absolute",i.left="0",i.right="0",i.top="0",i.bottom="0",i.width="100%",i.height="100%",t.appendChild(this.dI)}return t.prototype.et=function(){ze(this.dI)},t}();function Bk(t){switch(t){case xk.lI:case"":return xk.lI;case xk.ep:return xk.ep;case xk.wI:default:return xk.wI}}!function(t){t.PE="",t.wI="none",t.ep="metadata",t.lI="auto"}(xk||(xk={}));var Mk=[Gw.Cl,Kc.pa,Kc.hu,Kc.Xa,Kc.ha,Kc.ka,Kc.Ia,Kc.Da,Kc.Fa,Kc.Va,Ig.dw,Ig.lw,Ig.ww,Ig.gw,Ig.Gd,Ig.yw,Ig.mw,Kc.wa,Kc.ga,Kc.ba,Kc._a,Kc.Sa,Kc.Ea,Kc.Na,Kc.Oa,Kc.Ca,Kc.Aa,Kc.xa,Kc.Ba,Kc.La,Kc.qa,Kc.za,Kc.Pa,Kc.Ra,Kc.Ma],Fk=function(t){function n(n,i){var e;return(e=t.call(this)||this).gI=void 0,e.yI=void 0,e.mI=void 0,e.bI=void 0,e.eR=xk.wI,e.pI=void 0,e._I=!0,e.Gw=new Yw,e.Yw=new Yw,e.Kw=new ng,e.Jw=new vy,e.gI=n,e.mI=i,e.mI.xg=e.xg,e.kI(),e}vt(n,t);var i=n.prototype;return i.K=function(){this.mI.K()},i.Y=function(){var t=this.mI.Y();Lt(t)&&ku(t)},i.rg=function(){return this.sg(void 0)},i.st=function(){},i.yg=function(t){return!1},i.kI=function(){this.Gw.ml=this.mI.tg,this.Yw.ml=this.mI.ng,this.Kw.ml=this.mI.ig,this.Jw.ml=this.mI.eg,this.mI.Kr(Mk,this.Gr)},i.TI=function(){this.mI.tu(Mk,this.Gr),this.Gw.ml=void 0,this.Yw.ml=void 0,this.Kw.ml=void 0,this.Jw.ml=void 0},i.ug=function(){return this.pI},i.sg=function(t,n){var i,e,r,u,s,o;return lr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(wu(n),this.pI=t,t){c.next=4;break}return c.abrupt("return");case 4:if(!_g(i=t.sources.filter(Rg))){c.next=7;break}return c.abrupt("return");case 7:return c.next=9,lr.awrap(this.gI.oI(i,t));case 9:if(e=c.sent,wu(n),r=e.aI,u=e.fI,s=this.wg(),o=Yg(this),this.yI===u&&!this.fu){c.next=25;break}return this.TI(),c.next=19,lr.awrap(this.mI.et());case 19:wu(n),this.yI=u,this.mI=this.SI(u),Uk(this.mI,o),Kg(this,o,this),this.kI();case 25:return this.mI.xg=this.xg,this._I?this.mI.vg():this.mI.dg(),c.next=29,lr.awrap(this.mI.sg(r,t,n));case 29:wu(n),this.EI(r),this.wg()!==s&&this.Yr(new rg);case 32:case"end":return c.stop()}},null,this,null,j)},i.EI=function(t){this.bI!==t&&(this.bI=t,this.Yr(new ug(t)))},i.og=function(){return this.mI.og()},i.cg=function(){this.mI.cg()},i.ag=function(){this.mI.ag()},i.wg=function(){return this.mI.wg()},i._g=function(){this.mI._g()},i.fl=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.pI=void 0,this.EI(void 0),t.next=4,lr.awrap(this.mI.fl());case 4:case"end":return t.stop()}},null,this,null,j)},i.et=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Zr(),t.next=3,lr.awrap(this.fl());case 3:return t.next=5,lr.awrap(this.mI.et());case 5:this.Gw.et(),this.Yw.et(),this.Kw.et(),this.Jw.et();case 9:case"end":return t.stop()}},null,this,null,j)},i.vg=function(){this._I=!0,this.mI.vg()},i.dg=function(){this._I=!1,this.mI.dg()},ft(n,[{key:"tg",get:function(){return this.Gw}},{key:"kg",get:function(){return this.mI.kg}},{key:"fu",get:function(){return this.mI.fu}},{key:"kw",get:function(){return this.mI.kw}},{key:"Tg",get:function(){return this.mI.Tg},set:function(t){this.mI.Tg=t}},{key:"pg",get:function(){return this.bI}},{key:"bw",get:function(){return this.mI.bw},set:function(t){this.mI.bw=t}},{key:"pw",get:function(){return this.mI.pw}},{key:"_w",get:function(){return this.mI._w}},{key:"eg",get:function(){return this.Jw}},{key:"Eg",get:function(){return this.mI.Eg}},{key:"Hw",get:function(){return this.mI.Hw}},{key:"Tw",get:function(){return this.mI.Tw},set:function(t){this.mI.Tw=t}},{key:"Ag",get:function(){return this.mI.Ag}},{key:"Sw",get:function(){return this.mI.Sw}},{key:"Ew",get:function(){return this.mI.Ew},set:function(t){this.mI.Ew=t}},{key:"Pg",get:function(){return this.mI.Pg}},{key:"xg",get:function(){return this.eR},set:function(t){this.eR=t,this.mI&&(this.mI.xg=this.eR)}},{key:"Ml",get:function(){return this.mI.Ml}},{key:"Lg",get:function(){return this.mI.Lg}},{key:"Rw",get:function(){return this.mI.Rw}},{key:"ig",get:function(){return this.Kw}},{key:"Iw",get:function(){return this.mI.Iw}},{key:"ng",get:function(){return this.Yw}},{key:"Dw",get:function(){return this.mI.Dw}},{key:"Cw",get:function(){return this.mI.Cw},set:function(t){this.mI.Cw=t}},{key:"Bg",get:function(){return this.mI.Bg}},{key:"KR",get:function(){return this.mI.KR}}]),n}(Iu);function Uk(t,n){t.Tw!==n.Tw&&(t.Tw=n.Tw),t.Cw!==n.Cw&&(t.Cw=n.Cw),t.Ew!==n.Ew&&(t.Ew=n.Ew)}var Vk,Wk=function(t){function n(n,i){var e;return(e=t.call(this)||this).vl=void 0,e.RI=void 0,e.II=void 0,e.vl=n.length>>1,e.RI=n,e.II=i||function(t){for(var n=new Array(2*t),i=0,e=0;i<t;i+=1,e+=2)n[e]=!0,n[e+1]=!1;return n}(e.vl),e}vt(n,t);var i=n.prototype;return i.DI=function(t){return this.RI[2*t]},i.CI=function(t){return this.II[2*t]},i.NI=function(t){return this.RI[2*t+1]},i.OI=function(t){return this.II[2*t+1]},ft(n,[{key:"AI",get:function(){return this.RI.slice()}}]),n}(function(){function t(){}var n=t.prototype;return n.yy=function(t,n){return 0===this.Fy(t,n)},n.dm=function(t,n){return this.Fy(t,n)>0},n.lm=function(t,n){return this.Fy(t,n)>=0},n.qy=function(t,n){return this.Fy(t,n)<0},n.Wy=function(t,n){return this.Fy(t,n)<=0},n.Pm=function(t,n){return this.qy(t,n)?t:n},n.Am=function(t,n){return this.dm(t,n)?t:n},n.xI=function(t,n,i){return i?this.Wy(t,n):this.qy(t,n)},n.$R=function(){var t=this;return{get length(){return t.vl},start:function(n){var i=0|n;return t.LI(i),t.BI(t.DI(i))},end:function(n){var i=0|n;return t.LI(i),t.BI(t.NI(i))}}},n.MI=function(){for(var t=new Array(2*this.vl),n=new Array(2*this.vl),i=0;i<this.vl;i++)t[2*i]=this.DI(i),t[2*i+1]=this.NI(i),n[2*i]=!0,n[2*i+1]=!0;return this.FI(t,n)},n.LI=function(t){if(t<0)throw new f("The index provided ("+t+") must be non-negative");if(t>=this.vl)throw new f("The index provided ("+t+") is greater than the maximum bound ("+this.vl+")")},n.UI=function(t){if(0===this.vl)return this.VI();if(this.jR(t))return t;if(this.Wy(t,this.DI(0)))return this.DI(0);if(this.lm(t,this.NI(this.vl-1)))return this.NI(this.vl-1);for(var n,i=this.WI(),e=0;e<this.vl;e++){var r=this.DI(e),u=this.Hy(r,t);this.qy(u,i)&&(n=r,i=u);var s=this.NI(e),o=this.Hy(this.NI(e),t);this.qy(o,i)&&(n=s,i=o)}return n},n.HI=function(t){for(var n=0,i=0,e=[],r=[];n<this.vl&&i<t.vl;){var u=this.DI(n),s=this.NI(n),o=this.CI(n),c=this.OI(n),a=t.DI(i),f=t.NI(i),h=t.CI(i),v=t.OI(i),d=this.Am(u,a),l=this.Pm(s,f),w=void 0;w=this.yy(u,a)?o&&h:this.yy(d,u)?o:h;var g=void 0;g=this.yy(s,f)?c&&v:this.yy(l,s)?c:v,(this.qy(d,l)||w&&g&&this.yy(d,l))&&(e.push(d,l),r.push(w,g));var y=this.Fy(this.NI(n),t.NI(i));0===y?(n+=1,i+=1):y<0?n+=1:i+=1}return this.FI(e,r)},n.qI=function(){var t=this.zI(),n=t.vl;if(0===n)return this.FI([t.jI(),t.WI()],[!1,!1]);var i=[],e=[],r=t.DI(0);t.yy(r,t.jI())||(i.push(t.jI(),r),e.push(!1,!t.CI(0)));for(var u=0;u<n-1;u++)i.push(t.NI(u),t.DI(u+1)),e.push(!t.OI(u),!t.CI(u+1));var s=t.NI(n-1);return t.yy(s,t.WI())||(i.push(s,t.WI()),e.push(!t.OI(n-1),!1)),t.FI(i,e)},n.$I=function(t){for(var n=0,i=0,e=this.vl,r=t.vl,u=new Array(2*(e+r)),s=new Array(2*(e+r)),o=0;n<e&&i<r;){var c=this.DI(n),a=this.NI(n),f=t.DI(i),h=t.NI(i);this.qy(c,f)||this.yy(c,f)&&this.qy(a,h)?(u[o]=c,u[o+1]=a,s[o]=this.CI(n),s[o+1]=this.OI(n),n++):(u[o]=f,u[o+1]=h,s[o]=t.CI(i),s[o+1]=t.OI(i),i++),o+=2}for(;n<e;)u[o]=this.DI(n),u[o+1]=this.NI(n),s[o]=this.CI(n),s[o+1]=this.OI(n),n++,o+=2;for(;i<r;)u[o]=t.DI(i),u[o+1]=t.NI(i),s[o]=t.CI(i),s[o+1]=t.OI(i),i++,o+=2;return this.FI(u,s)},n.XI=function(t){void 0===t&&(t=this.VI());var n=this.vl;if(n<2)return this;for(var i=[],e=[],r=this.DI(0),u=this.NI(0),s=this.CI(0),o=this.OI(0),c=1;c<n;c++){var a=this.DI(c),f=this.NI(c),h=this.CI(c),v=this.OI(c);this.qy(r,a)&&this.dm(u,f)||(this.yy(r,a)&&(s=h=s||h),this.yy(u,f)&&(o=v=o||v),this.xI(a,this.Ug(u,t),o||h)?(u=f,o=v):(i.push(r,u),e.push(s,o),r=a,u=f,s=h,o=v))}return i.push(r,u),e.push(s,o),this.FI(i,e).zI()},n.zI=function(){for(var t=[],n=[],i=0;i<this.vl;i++){var e=this.DI(i),r=this.NI(i),u=this.CI(i),s=this.OI(i);this.yy(e,r)?(u||s)&&(t.push(e,r),n.push(!0,!0)):(t.push(e,r),n.push(u,s))}return this.FI(t,n)},n.GI=function(t){return this.vl?t.vl?this.$I(t).XI():this:t},n.YI=function(t){var n=this.zI(),i=t.zI(),e=n.qI(),r=i.qI(),u=e.HI(i),s=r.HI(n);return u.GI(s)},n.Su=function(t){if(this.yy(t,this.VI()))return this;for(var n=[],i=[],e=0;e<this.vl;e++){var r=this.Ug(this.DI(e),t),u=this.Ug(this.NI(e),t);n.push(r,u),i.push(this.CI(e),this.OI(e))}return this.FI(n,i)},n.KI=function(t){return 0===this.vl||0===t.vl?this:this.zI().HI(t.zI().qI())},n.jR=function(t,n){return this.JI(t,n)>=0},n.QI=function(t,n,i,e,r){return this.ZI(t,n,i,e,r)>=0},n.tD=function(t,n,i,e,r){return this.nD(t,n,i,e,r)>=0},n.iD=function(t){if(t.vl!==this.vl)return!1;for(var n=0;n<this.vl;n++)if(!this.yy(this.DI(n),t.DI(n))||!this.yy(this.NI(n),t.NI(n))||this.CI(n)!==t.CI(n)||this.OI(n)!==t.OI(n))return!1;return!0},n.eD=function(t){for(var n=[],i=[],e=0;e<this.vl;e++){var r=this.DI(e),u=this.NI(e),s=this.CI(e),o=this.OI(e);t(r,u,s,o)&&(n.push(r,u),i.push(s,o))}return this.FI(n,i)},n.nD=function(t,n,i,e,r){void 0===i&&(i=!0),void 0===e&&(e=!0),void 0===r&&(r=this.VI());for(var u=this.Xy(t,r),s=this.Ug(n,r),o=0;o<this.vl;o+=1)if(this.xI(this.DI(o),s,!e||this.CI(o))&&this.xI(u,this.NI(o),!i||this.OI(o)))return o;return-1},n.ZI=function(t,n,i,e,r){void 0===i&&(i=!0),void 0===e&&(e=!1),void 0===r&&(r=this.VI());for(var u=this.Ug(t,r),s=this.Xy(n,r),o=0;o<this.vl;o+=1)if(this.xI(this.DI(o),u,!i||this.CI(o))&&this.xI(s,this.NI(o),!e||this.OI(o)))return o;return-1},n.JI=function(t,n){return this.ZI(t,t,!0,!0,n)},n.rD=function(t,n){void 0===n&&(n=this.VI());for(var i=this.Ug(t,n),e=this.vl-1;e>=0;e-=1)if(this.xI(this.DI(e),i,this.CI(e)))return e;return-1},n.uD=function(t,n){void 0===n&&(n=this.VI());for(var i=this.Xy(t,n),e=0;e<this.vl;e+=1)if(this.xI(i,this.NI(e),this.OI(e)))return e;return-1},n.sD=function(t){return this.LI(t),this.FI([this.DI(t),this.NI(t)],[this.CI(t),this.OI(t)])},n.oD=function(t,n){var i=this.JI(t,n);return i<0?void 0:this.sD(i)},ft(t,[{key:"cD",get:function(){for(var t=this.VI(),n=0;n<this.vl;n++){var i=this.Xy(this.NI(n),this.DI(n));t=this.Ug(t,i)}return t}}]),t}()),Hk=function(t){function n(n,i){return t.call(this,n,i)||this}vt(n,t);var i=n.prototype;return i.Fy=function(t,n){return t<n?Qr.Cr:t===n?Qr.Ir:Qr.Dr},i.Ug=function(t,n){return t+n},i.Xy=function(t,n){return t-n},i.Hy=function(t,n){return d.abs(t-n)},i.VI=function(){return 0},i.WI=function(){return 1/0},i.jI=function(){return-1/0},n.aD=function(t){for(var i=[],e=0;e<t.length;e++)i.push(t.start(e),t.end(e));return new n(i)},n.fD=function(t){for(var i=[],e=[],r=0;r<t.vl;r++)i.push(t.DI(r).Bm),i.push(t.NI(r).Bm),e.push(t.CI(r)),e.push(t.OI(r));return new n(i,e)},n.hD=function(t){return new n([t,t],[!0,!0])},i.FI=function(t,i){return new n(t,i)},i.BI=function(t){return t},n.vD=function(){return qk},n}(Wk),qk=new Hk([]);!function(t){t.$d="fullscreenchange",t.dD="fullscreensupportchange",t.Cl="fullscreenerror"}(Vk||(Vk={}));var zk=function(t){function n(){return t.call(this,Vk.Cl)||this}return vt(n,t),n}(Cu),jk=new(function(t){function n(){return t.apply(this,arguments)||this}vt(n,t);var i=n.prototype;return i.Zg=function(){this.Yr(new zk)},i.ny=function(){},i.et=function(){this.Zr()},ft(n,[{key:"lD",get:function(){return!1}},{key:"wD",get:function(){return!1}}]),n}(Iu)),$k=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).QE=void 0,n.ZE=void 0,n}vt(n,t);var i=n.prototype;return i.lg=function(){var t;return null==(t=this.ZE)?void 0:t.ER},i.et=function(){return lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,lr.awrap(t.prototype.et.call(this));case 2:if(!this.ZE){n.next=6;break}return n.next=5,lr.awrap(this.QE.nt(this.ZE));case 5:this.ZE=void 0;case 6:case"end":return n.stop()}},null,this,null,j)},ft(n,[{key:"gD",set:function(t){this.QE=t,this.ZE=t.G(my.ov)}}]),n}(function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).yD=0,n.mD=!1,n.bD=!0,n.pD=1,n._D=!1,n.js=1,n.tg=new by,n.kg=Hk.vD().$R(),n.pw=NaN,n._w=!1,n.fu=void 0,n.kw=void 0,n.eg=void 0,n.Eg=!1,n.Ag=!0,n.Pg=Hk.vD().$R(),n.xg=xk.wI,n.Ml=vg.cw,n.Lg=Hk.vD().$R(),n.YR=void 0,n.ig=new pb,n.Iw=0,n.ng=new by,n.Dw=0,n.Bg=new Rk,n.cR=new pk,n}vt(n,t);var i=n.prototype;return i.vg=function(){},i.dg=function(){},i.Y=function(){this.bD&&(this.bD=!1,this.Yr(new Ng(this.bw)),this.Yr(new Jb(this.bw)))},i.K=function(){this.bD||(this.bD=!0,this.Yr(new Mg(this.bw,this.Tg)),this.Yr(new Cg(this.bw)))},i.sg=function(t,n){return j.resolve()},i.og=function(){return!1},i.cg=function(){},i.ag=function(){},i.wg=function(){return jk},i._g=function(){},i.fl=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.yD=0,this._D=!1,this.K(),this.Yr(new Dg(this.yD));case 4:case"end":return t.stop()}},null,this,null,j)},i.et=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.Zr(),this.tg.et(),this.ig.et(),this.ng.et();case 4:case"end":return t.stop()}},null,this,null,j)},ft(n,[{key:"Tg",get:function(){},set:function(t){}},{key:"bw",get:function(){return this.yD},set:function(t){this.yD!==t&&(this.yD=t,this._D=!0,this.Yr(new Vg(this.bw)))}},{key:"Hw",get:function(){return{Rg:0,Ig:0,Dg:0,Cg:0,Ng:0,Og:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"Tw",get:function(){return this.mD},set:function(t){this.mD!==t&&(this.mD=t,this.Yr(new Hg(this.bw,this.Cw)))}},{key:"Sw",get:function(){return this.bD}},{key:"Ew",get:function(){return this.pD},set:function(t){this.pD!==t&&(this.pD=t,this.Yr(new Bg(this.bw,this.Ew)))}},{key:"Rw",get:function(){return this._D}},{key:"Cw",get:function(){return this.js},set:function(t){this.js!==t&&(this.js=t,this.Yr(new Hg(this.bw,this.Cw)))}},{key:"Mg",get:function(){return!1},set:function(t){}},{key:"KR",get:function(){return this.cR}}]),n}(Iu)),Xk=function(t){function n(n,i,e,r,u,s){var o,c=new $k;return(o=t.call(this,Pk.Zn,c)||this).Fc=void 0,o.kD=void 0,o.TD=void 0,o.SD=void 0,o._T=void 0,o.ED=void 0,o.RD=void 0,o.TD=n,o.Fc=i,o._T=e,o.ED=r,o.SD=s,o.kD=new K(u,o.SD),o.kD.it(o.TD),c.gD=o.kD,o.RD=new Lk(o.TD),o}vt(n,t);var i=n.prototype;return i.st=function(){t.prototype.st.call(this),this.kD.X()},i.fg=function(t){var n,i,e,r;n=this,e=(i=t).Cw,r=i.Tw,n.Cw=e,n.Tw=r},i.hg=function(){},i.SI=function(t){return t.IS(this.TD,this.kD,this._T,this.Fc,this.ED,this.SD)},i.lg=function(){return this.mI.lg()},i.gg=function(){return this.kD.j.map(function(t){return t.ER})},i.Qr=function(n){t.prototype.Qr.call(this,n)},i.eu=function(n){t.prototype.eu.call(this,n)},i.et=function(){return lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,lr.awrap(t.prototype.et.call(this));case 2:this.kD.et(),this.RD.et();case 4:case"end":return n.stop()}},null,this,null,j)},ft(n,[{key:"Sg",get:function(){return this.TD}},{key:"Mg",get:function(){return this.mI.Mg},set:function(t){this.mI.Mg=t}}]),n}(Fk),Gk=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).TD=void 0,r.DD=void 0,r.CD=void 0,r.ND=void 0,r.OD=void 0,r.aR=new Rk,r.TD=n,r.DD=i,r.ND=new by,r.OD=new pb,r.CD=e,r}vt(n,t);var i=n.prototype;return i.yg=function(t){return!0},i.dg=function(){},i.Y=function(){throw this.Yr(new $g(this.CD)),this.DD},i.K=function(){},i.ug=function(){},i.sg=function(t,n){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:throw wu(n),this.Yr(new $g(this.CD)),this.DD;case 3:case"end":return t.stop()}},null,this,null,j)},i.vg=function(){},i.rg=function(){return j.resolve()},i.lg=function(){},i.wg=function(){return jk},i.gg=function(){return[]},i.st=function(){},i.fg=function(t){},i.hg=function(){},i.og=function(){return!1},i.cg=function(){},i.ag=function(){},i._g=function(){},i.fl=function(){return j.resolve()},i.et=function(){return this.Zr(),this.ND.et(),this.OD.et(),j.resolve()},ft(n,[{key:"tg",get:function(){return this.ND}},{key:"kg",get:function(){return Hk.vD().$R()}},{key:"Tg",get:function(){return new Date(NaN)},set:function(t){}},{key:"pg",get:function(){}},{key:"bw",get:function(){return 0},set:function(t){}},{key:"pw",get:function(){return 0}},{key:"Sg",get:function(){return this.TD}},{key:"_w",get:function(){return!0}},{key:"fu",get:function(){return this.DD}},{key:"kw",get:function(){return this.CD}},{key:"eg",get:function(){}},{key:"Hw",get:function(){return{Rg:0,Ig:0,Dg:0,Cg:0,Ng:0,Og:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"Tw",get:function(){return!1},set:function(t){}},{key:"Ag",get:function(){return!0}},{key:"Sw",get:function(){return!0}},{key:"Ew",get:function(){return 0},set:function(t){}},{key:"Pg",get:function(){return Hk.vD().$R()}},{key:"xg",get:function(){return xk.wI},set:function(t){}},{key:"Ml",get:function(){return vg.cw}},{key:"Lg",get:function(){return Hk.vD().$R()}},{key:"Rw",get:function(){return!1}},{key:"ig",get:function(){return this.OD}},{key:"Iw",get:function(){return 0}},{key:"ng",get:function(){return this.ND}},{key:"Dw",get:function(){return 0}},{key:"Cw",get:function(){return 1},set:function(t){}},{key:"Bg",get:function(){return this.aR}},{key:"Mg",get:function(){return!1},set:function(t){}},{key:"Eg",get:function(){return!1}}]),n}(eg);function Yk(t){if(t&&Ot(t))return wr({},t,{integration:Kk(t.integration),fairplay:iT(t.fairplay),widevine:Jk(t.widevine),playready:Qk(t.playready),clearkey:eT(t.clearkey),aes128:rT(t.aes128),integrationParameters:uT(t.integrationParameters),preferredKeySystems:sT(t.preferredKeySystems)})}function Kk(t){if(Pt(t))return t}function Jk(t){if(t&&Ot(t))return{persistentState:Zk(t.persistentState),distinctiveIdentifier:Zk(t.distinctiveIdentifier),audioRobustness:tT(t.audioRobustness),videoRobustness:tT(t.videoRobustness),licenseAcquisitionURL:Pt(t.licenseAcquisitionURL)?t.licenseAcquisitionURL:void 0,licenseType:nT(t.licenseType),headers:t.headers,useCredentials:!!xt(t.useCredentials)&&t.useCredentials,queryParameters:t.queryParameters,certificate:Pt(t.certificate)||Ps(t.certificate)?t.certificate:void 0}}function Qk(t){if(t){var n=Jk(t);if(n)return wr({},n,{customData:Pt(t.customData)?t.customData:void 0})}}function Zk(t){switch(null==t?void 0:t.toLowerCase()){case"required":return"required";case"optional":return"optional";case"not-allowed":return"not-allowed"}}function tT(t){switch(t){case"HW_SECURE_ALL":return"HW_SECURE_ALL";case"HW_SECURE_DECODE":return"HW_SECURE_DECODE";case"HW_SECURE_CRYPTO":return"HW_SECURE_CRYPTO";case"SW_SECURE_DECODE":return"SW_SECURE_DECODE";case"SW_SECURE_CRYPTO":return"SW_SECURE_CRYPTO";case"":return""}}function nT(t){switch(null==t?void 0:t.toLowerCase()){case"temporary":return"temporary";case"persistent":return"persistent"}}function iT(t){if(t){var n=Jk(t);if(n)return wr({},n,{certificateURL:Pt(t.certificateURL)?t.certificateURL:void 0})}}function eT(t){if(t){var n=Jk(t);if(n)return wr({},n,{keys:Ct(t.keys)?t.keys.map(function(t){return function(t){if(!t||!Ot(t))return;var n=t.id,i=t.value;if(!Pt(n)||!Pt(i))return;return{id:n,value:i}}(t)}).filter(It):void 0})}}function rT(t){if(Ot(t))return{useCredentials:xt(t.useCredentials)?t.useCredentials:void 0}}function uT(t){if(Ot(t))return t}function sT(t){return t&&Ct(t)?t.map(function(t){return $p(t)}).filter(It):[Ar,Cr,Br]}var oT,cT=function(t){function n(n){var i;return(i=t.call(this,"presentationmodechange")||this).presentationMode=n,i}return vt(n,t),n}(Cu),aT=function(t){function n(n,i){var e;return void 0===i&&(i=!1),(e=t.call(this,n)||this).PD=[],e.xD=void 0,e.LD=function(t){_u(function(){e.Gr(t)})},e.xD=i?e.LD:e.Gr,e}vt(n,t);var i=n.prototype;return i.BD=function(t){t.Qr(this.xD),this.PD.push(t)},i.MD=function(t){t.eu(this.xD),ou(this.PD,t)},i.et=function(){this.Zr();for(var t=0,n=this.PD;t<n.length;t++){n[t].eu(this.xD)}fu(this.PD)},n}(ig),fT=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n}(aT);!function(t){t.INLINE="inline",t.FULLSCREEN="fullscreen",t.PICTURE_IN_PICTURE="picture-in-picture"}(oT||(oT={}));var hT,vT=function(t){function i(n){var i;return(i=t.call(this)||this).FD=void 0,i.UD=void 0,i.VD=!1,i.WD=!1,i.HD=void 0,i.qD=void 0,i.zD=void 0,i.Ad=void 0,i.jD=function(){return i.$D()},i.XD=function(){return i.GD()},i.zD=n,i.FD=i.UD=i.HD=i.qD=oT.INLINE,i.zD.Kr(Vk.$d,i.jD),i.zD.Kr(Vk.Cl,i.XD),i.YD(),i}vt(i,t);var e=i.prototype;return e.xd=function(){return t=this,i={get currentMode(){return t.KD()},requestMode:function(n){var i=lT(n);i&&t.JD(i)},supportsMode:function(n){var i=lT(n);return!!i&&t.QD(i)},addEventListener:function(t,i){n.Kr(t,i)},removeEventListener:function(t,i){n.tu(t,i)}},(n=new aT(i,!0)).BD(t),i;var t,n,i},e.JD=function(t){this.ZD(t,t)},e.ZD=function(t,n){this.UD!==n&&(this.VD=!0,this.FD=t,this.tC(n,this.UD),t!==oT.FULLSCREEN&&(this.HD=t),this.VD=!1,this.YD())},e.KD=function(){return this.WD?oT.FULLSCREEN:oT.INLINE},e.QD=function(t){switch(t){case oT.FULLSCREEN:return this.zD.wD;case oT.INLINE:return!0}return!1},e.YD=function(){if(!this.VD){var t=this.UD,n=this.KD();this.UD=n,n!==oT.FULLSCREEN&&(this.qD=n),t!==n&&this.Yr(new cT(n))}},e.tC=function(t,n){var i=t===oT.FULLSCREEN;this.WD=i,i!==this.zD.lD&&(i?this.zD.Zg():this.zD.ny())},e.$D=function(){if(!this.VD){var t=this.zD.lD;this.WD=t,t?this.ZD(oT.FULLSCREEN,oT.FULLSCREEN):t||this.FD!==oT.FULLSCREEN?this.YD():this.ZD(this.HD,this.qD)}},e.GD=function(){this.$D(),this.Yr(new $g(new Nc(n.ErrorCode.FULLSCREEN_ERROR,"Failed to enter fullscreen.")))},e.et=function(){this.zD.et(),this.Zr()},ft(i,[{key:"Pd",get:function(){return this.Ad||(this.Ad=this.xd()),this.Ad}}]),i}(ig),dT={bw:0,pw:NaN,_w:!1,fu:void 0,kw:void 0,Tw:!1,Sw:!0,Ew:1,Ml:vg.cw,Rw:!1,Iw:0,Dw:0,Cw:1};function lT(t){switch(t){case oT.INLINE:case oT.FULLSCREEN:case oT.PICTURE_IN_PICTURE:return t;default:return}}!function(t){t.DEFAULT="",t.THEO="theo",t.GOOGLE_IMA="google-ima",t.SPOTX="spotx",t.FREEWHEEL="freewheel"}(hT||(hT={}));var wT,gT,yT,mT,bT,pT,_T,kT,TT=function(){function t(){this.nC=[]}var n=t.prototype;return n.iC=function(t){var n=this.eC.filter(function(n){return n.rC(t)});if(n.length>1)0;else if(0===n.length)throw f("Unknown ad integration: "+t.integration);return n[0]||null},n.uC=function(t){this.nC.push(t)},ft(t,[{key:"eC",get:function(){return this.nC}}]),t}();TT.Zn=new TT,function(t){t.mw="PLAYING",t.zw="PAUSED",t.sC="SEEK",t.oC="STALLED",t.cC="FAILED",t.aC="INITIAL_BUFFERING",t.fC="NO_ACCESS"}(wT||(wT={})),function(t){t.hC="HTTP_REQUEST_STATUS_CODE_1XX",t.vC="HTTP_REQUEST_STATUS_CODE_2XX",t.dC="HTTP_REQUEST_STATUS_CODE_3XX",t.lC="HTTP_REQUEST_STATUS_CODE_4XX",t.wC="HTTP_REQUEST_STATUS_CODE_5XX",t.gC="BUFFER_LENGTH",t.yC="BYTES_RECEIVED",t.mC="SEGMENT_READ_BITRATE",t.bC="SEGMENT_PROFILE_BITRATE",t.pC="NUMBER_OF_FRAMES_DROPPED",t._C="PLAYBACK_POSITION",t.kC="NUMBER_OF_FRAMES_DECODED",t.TC="PLAYBACK_DELTA_TO_ORIGIN",t.SC="STREAM_DELTA_TO_ORIGIN",t.EC="ORIGIN_TIMESTAMP"}(gT||(gT={})),function(t){t.RC="MANIFEST_URI",t.IC="ASSET_DURATION",t.DC="NUMBER_OF_CONTENT_PROFILES",t.CC="CDN",t.NC="CONTENT_TITLE",t.OC="SERVICE_NAME",t.AC="CONTENT_TYPE",t.xC="CONTENT_DESCRIPTION"}(yT||(yT={})),function(t){t.LC="shutdown_normal_shutdown"}(mT||(mT={})),function(t){t.BC="session/",t.MC="internalError/",t.FC="drmError/",t.UC="caError/",t.VC="networkError/"}(bT||(bT={})),function(t){t.WC="userAction",t.HC="endOfStreamReached"}(pT||(pT={})),function(t){t.PAUSE="qC",t.RESUME="zC"}(_T||(_T={})),function(t){t.UNAVAILABLE="unavailable",t.AVAILABLE="available",t.CONNECTING="connecting",t.CONNECTED="connected"}(kT||(kT={}));var ST,ET,RT,IT,DT,CT="agama";function NT(t){return function(t){switch(t){case ST.NONE:case ST.HORIZONTAL:case ST.VERTICAL:return!0;default:return!1}}(t)?t:ST.NONE}function OT(t){switch(t){case"":return ST.NONE;case"horizontal":return ST.HORIZONTAL;case"vertical":return ST.VERTICAL;default:throw new h}}function AT(t){if(!t||!Pt(t))return ET.lI;switch(t){case"always":return ET.jC;case"never":return ET.$C;default:return ET.lI}}function PT(t){if(!t||!Pt(t))return RT.lI;switch(t){case"playlist":return RT.XC;case"media":return RT.GC;default:return RT.lI}}function xT(t,n){return t.length>0?t:n.length>0?n:void 0}function LT(t){if(null!==t)return t}function BT(t){var n,i={apiKey:t.apiKey,integration:t.integration,streamActivityMonitorID:LT(t.streamActivityMonitorID),adTagParameters:Ot(t.adTagParameters)?t.adTagParameters:{},authToken:LT(t.authToken)};if("vod"===(null==t?void 0:t.availabilityType)||(n=t,Boolean(n.videoID&&n.contentSourceID))){var e=t.videoID,r=t.contentSourceID;return e?r?wr({},i,{availabilityType:"vod",videoID:e,contentSourceID:r}):void st.Ie("A VOD DAI configuration was provided without valid contentSourceID which is required."):void st.Ie("A VOD DAI configuration was provided without valid videoID which is required.")}if("live"===(null==t?void 0:t.availabilityType)||function(t){return Boolean(t.assetKey)}(t)){var u=t.assetKey;return u?wr({},i,{availabilityType:"live",assetKey:u}):void st.Ie("A Live DAI configuration was provided without valid assetKey which is required.")}st.Ie("A DAI configuration was provided without a valid availabilityType which is required.")}function MT(t){if(!Fp(t)||!t.integration)return t;switch(t.integration){case sp:return n=t,i=jp(Sr.ar,n),e=jp(Sr.cr,n),r=n[Sr.dr]&&jp(Sr.dr,n),wr({integration:"keyos",widevine:i,playready:e},r?{fairplay:r}:{});default:return t}var n,i,e,r}!function(t){t.NONE="",t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(ST||(ST={})),function(t){t.lI="auto",t.jC="always",t.$C="never"}(ET||(ET={})),function(t){t.lI="auto",t.XC="playlist",t.GC="media"}(RT||(RT={})),function(t){t.VERIZON_MEDIA="verizon-media",t.MEDIATAILOR="mediatailor"}(IT||(IT={})),function(t){t.ASSET="asset",t.CHANNEL="channel",t.EVENT="event"}(DT||(DT={}));var FT="https://content.uplynk.com";function UT(t){if(!t)return!0;var n,i,e=!(pg(n=t.sources)||Nt(n)&&pg(n[0]))||_g(t.sources),r=!t.ads||(!(i=t.ads)||Ct(i)&&0===i.length),u=""!==t.poster&&!t.poster;return e&&r&&u}function VT(t){if(t&&t.sources)return function t(n){if(Pt(n))return n;if(bg(n))return n.src;if(Nt(n)&&n.length>0)return t(n[0]);return}(t.sources)}function WT(t,n,i){return yg(t)?function(t,n,i){var e=wr({},kg(),{ping:{adImpressions:!1,freeWheelVideoViews:!1,linearAdData:!1},integration:IT.VERIZON_MEDIA,id:"",prefix:FT,preplayParameters:{},playbackUrlParameters:{},assetType:DT.ASSET,contentProtected:!1,assetInfo:!0});e.id=(r=t.id,Pt(r)?r:Nt(r)&&Pt(r[0])?r:Ot(u=r)&&Pt(u.userId)&&(Nt(u.externalId)||Pt(u.externalId))?r:""),t.preplayParameters&&(e.preplayParameters=t.preplayParameters);var r,u;t.playbackUrlParameters&&(e.playbackUrlParameters=t.playbackUrlParameters);t.assetType&&(e.assetType=function(t){switch(t){case"channel":return DT.CHANNEL;case"event":return DT.EVENT;case"asset":default:return DT.ASSET}}(t.assetType));t.contentProtected&&(e.contentProtected=Lw(t.contentProtected));t.assetInfo?e.assetInfo=Lw(t.assetInfo):e.assetInfo="asset"===e.assetType;t.prefix&&(e.prefix=Fw(t.prefix)||FT);return e.ping=(s=e.assetType,o=t.ping,c=!1,a=!1,f=!1,o?(c=!!xt(o.adImpressions)&&o.adImpressions,a=!!xt(o.freeWheelVideoViews)&&o.freeWheelVideoViews,f=xt(o.linearAdData)?o.linearAdData:s!==DT.ASSET):s!==DT.ASSET&&(f=!0),{adImpressions:c,freeWheelVideoViews:a,linearAdData:f}),e=qT(e=zT(e=HT(e,t),n,i),t,i);var s,o,c,a,f}(t,n,i):function(t,n,i){var e=Tg(),r=n&&(n.contentProtection||n.drm);if(Pt(t)){if(e.src=t,e.type=wg(t),r){var u=Yk(r);e.contentProtection=MT(u)}}else if(bg(t)||gg(t)){e.src=t.src,e.type=t.type||wg(t.src),e.isAdvertisement=t.isAdvertisement;var s=function(t){return t.type===ag.sw||t.type===ag.ow}(t)?t.hesp:void 0;void 0!==s&&(e.hesp=s);var o=Ot(f=t)&&Pt(f.integration)&&"mediatailor"===f.integration;o&&(e.integration=t.integration);var c=t.contentProtection||t.drm||r,a=Yk(c);e.contentProtection=MT(a),t.ssai&&(e.ssai=function(t){switch(t.integration){case"google-dai":return BT(t);case"imagine":return{integration:t.integration};case"yospace":return function(t){var n;return{integration:t.integration,streamType:null!=(n=t.streamType)?n:void 0}}(t);default:return{integration:t.integration}}}(t.ssai)),e=HT(e,t)}var f;return e=qT(e=zT(e,n,i),t,i)}(t,n,i)}function HT(t,n){var i;n.useCredentials?t.crossOrigin=cg.rw:n.crossOrigin&&(t.crossOrigin=function(t){switch(t){case cg.ew:case cg.rw:return t;default:return cg.iw}}(n.crossOrigin)),Pt(n.timeServer)&&(t.timeServer=n.timeServer),n.liveOffset&&(t.liveOffset=n.liveOffset),n.hlsDateRange&&(t.hlsDateRange=n.hlsDateRange),n.lowLatency&&(t.lowLatency=Lw(n.lowLatency)),n.useNativePlayback&&(t.useNativePlayback=Lw(n.useNativePlayback)),n.dash&&(t.dash={useSeamlessPeriodSwitch:AT(null==(i=n.dash)?void 0:i.useSeamlessPeriodSwitch)}),n.hls&&(t.hls=function(t){return{discontinuityAlignment:PT(null==t?void 0:t.discontinuityAlignment),useLegacy:(n=null==t?void 0:t.useLegacy,It(n)?Boolean(n):void 0)};var n}(n.hls)),n.lcevc&&(t.lcevc=Lw(n.lcevc));var e=void 0!==n.experimentalRendering?Lw(n.experimentalRendering):void 0;void 0!==e&&(t.experimentalRendering=e);var r=void 0!==n.nativeUiRendering?Lw(n.nativeUiRendering):void 0;return void 0!==r&&(t.nativeUiRendering=r),t}function qT(t,n,i){return t.abr=function(t,n){var i=Uw(null==t?void 0:t.preferredAudioCodecs,Fw),e=Uw(null==t?void 0:t.preferredVideoCodecs,Fw),r=Uw(null==n?void 0:n.preferredAudioCodecs,Fw),u=Uw(null==n?void 0:n.preferredVideoCodecs,Fw),s=xT(i,r),o=xT(e,u);if(s||o)return{preferredAudioCodecs:s,preferredVideoCodecs:o}}(Pt(n)?void 0:n.abr,null==i?void 0:i.abr),t}function zT(t,n,i){var e,r=n&&n.timeServer;return i&&i.liveOffset&&!It(t.liveOffset)&&(t.liveOffset=i.liveOffset),i&&i.hlsDateRange&&!It(t.hlsDateRange)&&(t.hlsDateRange=i.hlsDateRange),t.crossOrigin===cg.iw&&null!=n&&null!=(e=n.vr)&&e[360]&&(t.crossOrigin=cg.ew),t.useCredentials=t.crossOrigin===cg.rw,Pt(r)&&!t.timeServer&&(t.timeServer=r),t}function jT(t){var n={src:""};if(t&&t.src){if(n.src=Fw(t.src),"default"in t&&(n.default=Lw(t.default)),n.kind=kb(t.kind),function(t){switch(t){case Oy.DEFAULT:case Oy.SRT:case Oy.TTML:case Oy.WEBVTT:case Oy.EMSG:case Oy.EVENT_STREAM:case Oy.ID3:case Oy.CEA608:case Oy.DATE_RANGE:return!0;default:return!1}}(t.format)&&(n.format=t.format),"srclang"in t){var i=t.srclang;"string"==typeof i&&""!==i&&(n.srclang=i)}if("label"in t){var e=t.label;"string"==typeof e&&""!==e&&(n.label=e)}}return n}function $T(t,n){if(At(t))try{return n.iC(t).YC(t)}catch(t){return}}function XT(t){return Pt(t.sources)&&""!==t.sources||Ot(t.sources)&&Pt(t.sources.src)}function GT(t){return t.integration===hT.SPOTX&&!g(t.id)}function YT(t){return"freewheel"===t.integration}function KT(t,n,i){if(void 0===i&&(i=TT.Zn),UT(t))return{sources:[Tg()]};var e=Ow(t);if(e.sources=function(t,n,i){if(pg(t))return[WT(t,n,i)];if(Nt(t)&&pg(t[0])){for(var e=[],r=0;r<t.length;r++){var u=t[r];e.push(WT(u,n,i))}return e}return[Tg()]}(e.sources,e,n),"contentProtection"in e&&delete e.contentProtection,"drm"in e&&delete e.drm,"ads"in e){var r=function(t,n){if(!Nt(t))return[];for(var i=[],e=0,r=t;e<r.length;e++){var u=r[e];(u=$T(u,n))&&(XT(u)||GT(u)||YT(u))&&i.push(u)}return i}(e.ads,i);0===r.length?delete e.ads:e.ads=r}var u,s,o,c=!_g(e.sources),a=e.ads&&e.ads.length>0;if(c&&!a?delete e.ads:a&&!c&&(e.sources=[]),"textTracks"in e){var f=function(t){if(!Nt(t))return[];for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];""!==(r=jT(r)).src&&n.push(r)}return n}(e.textTracks);0===f.length?delete e.textTracks:e.textTracks=f}if("poster"in e&&(e.poster=Fw(e.poster)),"vr"in e&&(e.vr=(u=e.vr,(s=u||{}).stereoMode=NT(s.stereoMode),{360:Boolean(s[360]),stereoMode:s.stereoMode?OT(s.stereoMode):ST.NONE,nativeVR:Boolean(s.nativeVR)})),"analytics"in e||(null==n?void 0:n.analytics)){var h=Eg(e.analytics),v=n&&n.analytics||[];e.analytics=function(t,n){for(var i=Ow(t),e=function(e){var r=n[e],u=!t.some(function(t){return t.integration===r.integration});u&&r.integration!==CT&&i.push(r)},r=0;r<n.length;r++)e(r);return i}(h,v)}return"mutedAutoplay"in e&&(e.mutedAutoplay=Xg(e.mutedAutoplay)),"timeServer"in e&&delete e.timeServer,"playAdsAfterTime"in e&&(e.playAdsAfterTime=Bw(e.playAdsAfterTime)),e.blockContentIfAdError=void 0!==(o=e.blockContentIfAdError)&&"boolean"==typeof o&&Boolean(o),e}var JT=function(){function t(t){this.KC=t}return t.prototype.JC=function(t){var n,i,e,r,u,s,o,c=[];if(!t)return"";var a=t.length%4;if(a>0)for(;a++<4;)t+=this.KC.charAt(64);for(n=0;n<t.length;n+=4)i=(o=this.KC.indexOf(t.charAt(n))<<18|this.KC.indexOf(t.charAt(n+1))<<12|(u=this.KC.indexOf(t.charAt(n+2)))<<6|(s=this.KC.indexOf(t.charAt(n+3))))>>>16&255,e=o>>>8&255,r=255&o,c[n/4]=String.fromCharCode(i,e,r),64===s&&(c[n/4]=String.fromCharCode(i,e)),64===u&&(c[n/4]=String.fromCharCode(i));return c.join("")},t.prototype.QC=function(t,n){var i,e,r,u,s,o,c,a=[],f="";if((o=t.length%3)>0)for(;o++<3;)f+=this.KC.charAt(64),t+="\0";for(o=0;o<t.length;o+=3)e=(i=t.charCodeAt(o)<<16|t.charCodeAt(o+1)<<8|t.charCodeAt(o+2))>>18&63,r=i>>12&63,u=i>>6&63,s=63&i,a[o/3]=this.KC.charAt(e)+this.KC.charAt(r)+this.KC.charAt(u)+this.KC.charAt(s);return c=(c=a.join("")).slice(0,c.length-f.length),n||(c+=f),c},t.vb=new t(function(){var t,n,i,e,r=[],u=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<u.length;t+=1)for(n=u[t],i=0;i<n.length;i+=1)e=n.charAt(i),-1===r.indexOf(e)&&r.push(e);return r.join("")}()),t.ZC=new t(t.vb.JC("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")),t}();function QT(t){return"string"==typeof t}function ZT(t){return"number"==typeof t}var tS={}.toString;var nS,iS=Array.isArray||function(t){return"[object Array]"===tS.call(t)};function eS(t,n){return iS(t)&&t.every(n)}!function(t){t.HTML5="html5",t.ANDROID="android",t.IOS="ios",t.TVOS="tvos",t.ANDROIDTV="androidtv",t.TIZEN="tizen",t.WEBOS="webos",t.CHROMECAST="chromecast",t.ROKU="roku",t.FIRETV="firetv",t.CHROMECASTCAF="chromecastcaf"}(nS||(nS={}));var rS,uS=v.keys(nS).map(function(t){return nS[t]});function sS(t){return-1!==uS.indexOf(t)}function oS(t){try{var n=JT.ZC.JC(t),i=JSON.parse(n);if(!function(t){var n=(h=t,"object"==typeof h&&null!==h),i=QT(t.key),e=QT(t.customer_id),r=ZT(t.generation_date),u=ZT(t.expiration_date),s=eS(t.domains_page,QT),o=eS(t.domains_source,QT),c=eS(t.sdks,sS),a=(f=t.send_impression,"boolean"==typeof f);var f;var h;if(!(n&&i&&e&&r&&u&&s&&o&&c&&a))return!1;return!0}(i))throw new f("The provided license could not be decoded correctly.");return i}catch(t){throw new f("The provided license could not be decoded correctly.")}}function cS(){return rS||(rS={jh:tt.href,tN:Z.parent&&Z.parent!==i,nN:hS()}),rS}var aS,fS=["http:","https:","ftp:","ws:","wss:"];function hS(){try{return Z.top.location.href}catch(t){return Z&&Z.document&&Z.document.referrer}}!function(t){t[t.iN=0]="iN",t[t.eN=1]="eN",t[t.rN=2]="rN"}(aS||(aS={}));var vS,dS=function(t,n,i,e,r,u,s,o){void 0===r&&(r=""),void 0===u&&(u=Date.now()),void 0===s&&(s=[]),void 0===o&&(o=!0),this.uN=t,this.sN=n,this.oN=i,this.cN=e,this.aN=r,this.fN=u,this.hN=s,this.vN=o};!function(t){t.eN="expired",t.dN="invaliddomain",t.lN="invalidsource",t.Cl="error"}(vS||(vS={}));var lS=function(){function t(t,n,i){this.wN=void 0,this.gN=t,this.yN=n,this.Rs=i,this.wN=pS(this.Rs)}var n=t.prototype;return n.mN=function(t,n){var i=this;if(!UT(t)&&0!==n.oN.length&&!yS(n.oN)){var e=[];if(pg(t.sources)?e=[t.sources]:Nt(t.sources)&&(e=t.sources),!e.every(function(t){return i.bN(t,n)})){var r=vS.lN,u=kS.pN(r);throw new Nc(wS(r),u)}}},n._N=function(n){return this.kN(n.hN)&&this.TN(n)?t.SN(n.cN)?aS.iN:aS.eN:aS.rN},n.kN=function(t){var n=this;return 0===t.length||t.some(function(t){return n.EN(t)})},n.EN=function(t){return"tvos"===function(t){switch(t){case nS.ANDROID:return ot.dt;case nS.ANDROIDTV:case nS.FIRETV:return ot.wt;case nS.IOS:return ot.yt;case nS.TVOS:return ot.bt;case nS.CHROMECAST:case nS.CHROMECASTCAF:return ot.pt;default:return ot.vt}}(t)},t.SN=function(t){var n=Number(new Date);return!!t&&n<=t},n.TN=function(t){return!(this.wN&&0!==t.sN.length&&!yS(t.sN))||!!(this.wN&&this.RN(t.sN)&&this.IN(t.sN))},n.RN=function(t){return mS(this.Rs.jh,t)},n.IN=function(t){if(!this.Rs.tN)return!0;if(this.gN)return!0;var n=this.DN();return!!n&&mS(n,t)},n.DN=function(){if(this.Rs.tN){var t=r.ancestorOrigins;return t&&t.length>0?t[t.length-1]:this.Rs.nN?this.Rs.nN:void 0}},n.bN=function(n,i){return!!t.CN(n,i.oN)},t.CN=function(t,n){return mS(this.NN(t),n)},t.NN=function(t){return Pt(t)?t:bg(t)&&t.src||""},t}();function wS(t){switch(t){case vS.dN:return n.ErrorCode.LICENSE_INVALID_DOMAIN;case vS.lN:return n.ErrorCode.LICENSE_INVALID_SOURCE;case vS.eN:return n.ErrorCode.LICENSE_EXPIRED;case vS.Cl:return n.ErrorCode.LICENSE_ERROR}}function gS(t,n){var i=t,e=n;if(!i)return!1;if("*"===(e=e.trim()))return!0;if(e===(i=i.replace(/\.+$/,"")))return!0;var r="\\.",u="25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?",s="(\\*|"+u+")",o=new RegExp("ip-range\\("+s+r+s+r+s+r+s+"\\)"),c=e.match(o),a=function(t){return"*"===t?"("+u+")":t};if(null!==c&&5===c.length){var f=new RegExp("^"+c[1]+r+a(c[2])+r+a(c[3])+r+a(c[4])+"$");return null!==i.match(f)}return e="."+e,-1!==i.indexOf(e,i.length-e.length)}function yS(t){return t.some(function(t){return"*"===t})}function mS(t,n){var i=st.He(t);if(!bS(i))return!0;for(var e=0;e<n.length;e++){var r=n[e];if(gS(i.hostname,r))return!0;if(gS(Ld(t),r))return!0}return!1}function bS(t){return-1!==fS.indexOf(t.protocol)}function pS(t){var n=st.He(t.jh);return bS(n)&&!gS(n.hostname,"localhost")&&!function(t){return gS(t.hostname,"theoplayer.doubleclick.net")}(n)}var _S,kS=function(){function t(){}return t.pN=function(t){return t===vS.dN?this.ON:t===vS.lN?this.AN:t===vS.eN?this.PN:this.xN},t}();function TS(t){var n=[t.pk,t.LN,t.BN];switch(t.LN){case _S.MN:n.push(t.Vl);break;case _S.FN:n.push(t.bw),n.push(t.fu);break;case _S.UN:n.push(t.fu)}return n}kS.xN="The license for this player is invalid.",kS.PN="The usage license for this video player has expired.",kS.ON="The current domain is incompatible with the license for this player.",kS.AN="The provided video source is incompatible with the license for this player.",function(t){t[t.MN=1]="MN",t[t.FN=4]="FN",t[t.UN=5]="UN"}(_S||(_S={}));for(var SS=new Array(256),ES=0;ES<256;ES+=1)SS[ES]=(ES<16?"0":"")+ES.toString(16);function RS(){var t=En(),n=(4294967296*d.random()|0)+t&3029421624,i=(4294967296*d.random()|0)+t&3595553209,e=(4294967296*d.random()|0)+t&1130486254,r=(4294967296*d.random()|0)+t&1284287105;return SS[255&n]+SS[n>>>8&255]+SS[n>>>16&255]+SS[n>>>24&255]+"-"+SS[255&i]+SS[i>>>8&255]+"-"+SS[i>>>16&15|64]+SS[i>>>24&255]+"-"+SS[63&e|128]+SS[e>>>8&255]+"-"+SS[e>>>16&255]+SS[e>>>24&255]+SS[255&r]+SS[r>>>8&255]+SS[r>>>16&255]+SS[r>>>24&255]}var IS=function(){function t(t){this.KC=void 0,this.KC=t}var n=t.prototype;return n.JC=function(t){var n,i,e,r,u,s,o,c=[];if(!t)return"";for(n=0;n<t.length;n+=4)i=(o=this.KC.indexOf(t.charAt(n))<<18|this.KC.indexOf(t.charAt(n+1))<<12|(u=this.KC.indexOf(t.charAt(n+2)))<<6|(s=this.KC.indexOf(t.charAt(n+3))))>>>16&255,e=o>>>8&255,r=255&o,c[n/4]=String.fromCharCode(i,e,r),64===s&&(c[n/4]=String.fromCharCode(i,e)),64===u&&(c[n/4]=String.fromCharCode(i));return c.join("")},n.QC=function(t){var n,i,e,r,u,s,o,c=[],a="";if((s=t.length%3)>0)for(;s++<3;)a+=this.KC.charAt(64),t+="\0";for(s=0;s<t.length;s+=3)i=(n=t.charCodeAt(s)<<16|t.charCodeAt(s+1)<<8|t.charCodeAt(s+2))>>18&63,e=n>>12&63,r=n>>6&63,u=63&n,c[s/3]=this.KC.charAt(i)+this.KC.charAt(e)+this.KC.charAt(r)+this.KC.charAt(u);return(o=c.join("")).slice(0,o.length-a.length)+a},t}();function DS(){return st._e()}IS.vb=new IS(function(){var t,n,i,e,r=[],u=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<u.length;t+=1)for(n=u[t],i=0;i<n.length;i+=1)e=n.charAt(i),-1===r.indexOf(e)&&r.push(e);return r.join("")}()),IS.ZC=new IS(IS.vb.JC("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop"));var CS,NS="theoplayer-session-id";function OS(){if(!CS){var t=$c.mu(NS);t?CS=t:(CS=RS(),$c.aa(NS,CS))}return CS}var AS=/[^\x00-\x7E]/g;function PS(t){return"\\u"+function(t,n,i){void 0===i&&(i=" ");var e=i,r=(0|n)-t.length;return r<=0?t:(r>e.length&&(e+=function(t,n){var i=0|n;if(0===t.length||0===i)return"";for(var e=t,r="";1==(1&i)&&(r+=e),0!=(i>>>=1);)e+=e;return r}(e,r/e.length)),e.slice(0,r)+t)}(t.charCodeAt(0).toString(16),4,"0")}var xS=0,LS=1,BS=6e4;function MS(t){var n,i,e,r,u,s=(n=function(t){return[t.VN,t.hc,t.uN,t.Pp,t.WN,t.HN,t.qN.map(TS)]}(t),i=[],e=n,r=function(t,n){if(Ot(n)){if(-1!==i.indexOf(n))return null;i.push(n)}return n},JSON.stringify(e,r,u).replace(AS,PS));return IS.ZC.QC(s)}var FS=function(){function t(t,n,i,e,r,u){var s=this;void 0===e&&(e=IS.vb),void 0===r&&(r=xS),void 0===u&&(u=LS),this.zN=[],this.jN=null,this.$N=0,this.XN="unknown",this.ro=0,this.GN=void 0,this.YN=function(){DS()-s.$N>BS&&s.W()},this.KN=function(){s.W(!0)},this.Co=t,this._T=n,this.JN=i,this.QN=e,this.ZN=r,this.tO=u,Q.ct(this.KN),this.GN=c(this.YN,BS)}var n=t.prototype;return n.nO=function(){return Boolean(this.WN)},n.iO=function(t){var n;return lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,lr.awrap(this.JN.eO());case 2:if(i.sent.vN){i.next=5;break}return i.abrupt("return");case 5:return n={LN:_S.MN,BN:En(),Vl:t},i.next=8,lr.awrap(this.rO(n));case 8:case"end":return i.stop()}},null,this,null,j)},n.uO=function(t,n){var i;return lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return i={LN:_S.FN,BN:En(),bw:n,fu:t},e.next=3,lr.awrap(this.rO(i));case 3:case"end":return e.stop()}},null,this,null,j)},n.sO=function(t){var n;return lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n={LN:_S.UN,BN:En(),fu:t},i.next=3,lr.awrap(this.rO(n));case 3:case"end":return i.stop()}},null,this,null,j)},n.rO=function(t){var n;return lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,lr.awrap(this.JN.eO());case 2:if(n=i.sent,"a:n[_O*[C4C-N$_@_MYY $D]iOp]N$_-_]th_:c|aen?C:pH"!==this.QN.QC(n.uN)){i.next=6;break}if(t.LN===_S.UN){i.next=6;break}return i.abrupt("return");case 6:if(t.LN===_S.MN?this.oO():this.nO()||this.oO(),t.pk=this.ro++,this.zN.push(t),(e=t.LN)!==_S.MN&&e!==_S.UN){i.next=14;break}return i.next=12,lr.awrap(this.W());case 12:i.next=19;break;case 14:if(!(this.zN.length>this.ZN)){i.next=19;break}return i.next=17,lr.awrap(this.cO());case 17:i.next=19;break;case 19:case"end":return i.stop()}var e},null,this,null,j)},n.W=function(t){return lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:void 0===t&&(t=!1);case 1:if(!(this.zN.length>0)){n.next=6;break}return n.next=4,lr.awrap(this.cO(t));case 4:n.next=1;break;case 6:case"end":return n.stop()}},null,this,null,j)},n.aO=function(t){var n;return lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,lr.awrap(this.JN.eO());case 2:return n=i.sent,i.abrupt("return",{VN:En(),hc:OS(),uN:this.QN.QC(n.uN)||"dev",Pp:this.Co,WN:this.jN,HN:this.XN,qN:t});case 4:case"end":return i.stop()}},null,this,null,j)},n.cO=function(t){var n,i;return lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t=!1),n=this.zN.splice(0,this.tO),e.next=4,lr.awrap(this.aO(n));case 4:i=e.sent,t?this.wv(i):this.fO(i),this.$N=DS();case 7:case"end":return e.stop()}},null,this,null,j)},n.fO=function(t){var n,i,e;return lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=MS(t),i=new Id({jh:"https://license.theoplayer.com",Ih:n,dv:!1,Vh:Jc.ri,Uh:{"Content-Type":E_.QS},fv:4e3,av:kd.POST}),r.prev=2,r.next=5,lr.awrap(this._T.qh(i));case 5:return e=r.sent,r.next=8,lr.awrap(e.Sh());case 8:r.next=13;break;case 10:r.prev=10,r.t0=r.catch(2),(new Image).src="https://licensing.theoplayer.com/t?"+n;case 13:case"end":return r.stop()}},null,this,[[2,10]],j)},n.wv=function(t){var n=MS(t);this._T.wv({jh:"https://license.theoplayer.com",Ih:n,Rh:E_.QS})},n.oO=function(){this.nO()&&this.W(),this.jN=RS(),this.ro=0},n.et=function(){Q.ft(this.KN),a(this.GN),this.W()},ft(t,[{key:"qN",get:function(){return this.zN}},{key:"WN",get:function(){return this.jN}}]),t}();var US=St.xn||St._n&&St.Vn<13;function VS(t,n,i){var e=t.getImageData(n,i,1,1).data;return 0===e[0]&&0===e[1]&&0===e[2]&&0===e[3]}var WS=function(){function t(t){this.fI=void 0,this.Ad=void 0,this.hO=void 0,this.fI=t}var n=t.prototype;return n.vO=function(t){if(!t||!t.drawImage)return!1;var n=this.fI.lg();if(!n)return!1;for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return t.drawImage.apply(t,[n].concat(e)),!0},n.dO=function(t,n,i,r,u,s){if(!t||!t.texImage2D)return!1;var o=this.fI,c=o.lg();if(!c)return!1;if(US){this.hO||(this.hO=e.createElement("canvas"));var a=this.hO,h=a.getContext("2d"),v=o.Dw,d=o.Iw,l=a.width,w=a.height;h.clearRect(0,0,a.width,a.height),l===v&&w===d||(a.width=v,a.height=d),h.drawImage(c,0,0,v,d);var g=!1;v>0&&VS(h,v-1,0)&&(a.width=l,g=!0),d>0&&VS(h,0,d-1)&&(a.height=w,g=!0),g&&h.drawImage(c,0,0,v,d),c=a}try{t.texImage2D(n,i,r,u,s,c)}catch(t){throw new f("Error trying to render video content to the WebGLRenderingContext. This is most likely due to CORS restrictions. https://support.theoplayer.com/hc/en-us/articles/115003094385#Considerations")}return!0},ft(t,[{key:"Pd",get:function(){return this.Ad||(this.Ad=(t=this,{drawImage:function(n){for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return t.vO.apply(t,[n].concat(e))},texImage2D:function(n,i,e,r,u,s){return t.dO(n,i,e,r,u,s)}}));var t}}]),t}(),HS=function(t){function n(n,i){var e;return(e=t.call(this,"lO")||this).Dy=n,e.v_=i,e}return vt(n,t),n.prototype.xd=function(){return new qS(this.Dy,this.v_)},n}(gw),qS=function(t){function n(n,i){var e;return(e=t.call(this,"dimensionchange")||this).width=n,e.height=i,e}return vt(n,t),n}(Cu),zS=function(t,n){this.Sg=void 0,this.wO=void 0,this.Sg=t,this.wO=n},jS=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).gO=void 0,e.yO=0,e.mO=0,e.bO=function(t){if(t.length>0){var n=t[t.length-1].contentRect;e.mO=n.width,e.yO=n.height,e.wO(e.mO,e.yO)}},e.gO=new Z.ResizeObserver(e.bO),e.gO.observe(e.Sg),e}return vt(n,t),n.prototype.et=function(){this.gO.disconnect()},ft(n,[{key:"pO",get:function(){return this.yO}},{key:"_O",get:function(){return this.mO}}]),n}(zS),$S=0;var XS,GS=o,YS=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,KS=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelRequestAnimationFrame;function JS(){return XS||(XS=Z&&Z.document&&Z.document.createElement("span")),XS}YS&&KS||(YS=function(t){var n=DS(),i=d.max(0,16-(n-$S)),e=s(function(){return t(n+i)},i);return $S=n+i,e},KS=GS),YS=YS.bind(t),KS=KS.bind(t);var QS=["Webkit","Moz","O","ms"];!function(){var t=!1;try{if(void 0!==Z&&"function"==typeof Z.addEventListener){var n=v.defineProperty({},"passive",{get:function(){t=!0}});Z.addEventListener("testPassiveEventSupport",Mt,n),Z.removeEventListener("testPassiveEventSupport",Mt,n)}}catch(t){}}();var ZS=yr();function tE(t){return ZS.has(t)||ZS.set(t,function(t){var n=JS();if(!n||!n.style)return t;if(void 0!==n.style[t])return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),e=0;e<QS.length;e++){var r=QS[e],u=r+i;if(void 0!==n.style[u])return u}return t}(t)),ZS.get(t)}function nE(t){var n=t.style;n.position="absolute",n.left=n.right=n.bottom=n.top="0",n.overflow="scroll",n.zIndex="-1",n.visibility="hidden"}function iE(t){var n=t.style;n.position="absolute",n.left=n.top="0",n[tE("transition")]="0s"}var eE=function(t){function n(n,r,u){var o;(o=t.call(this,n,r)||this).kO=void 0,o.TO=0,o.mO=NaN,o.yO=NaN,o.SO=void 0,o.EO=void 0,o.RO=void 0,o.IO=void 0,o.DO=void 0,o.fl=function(){o.EO.style.width=1e5+"px",o.EO.style.height=1e5+"px",o.SO.scrollLeft=1e5,o.SO.scrollTop=1e5,o.RO.scrollLeft=1e5,o.RO.scrollTop=1e5,0===o.RO.scrollTop&&YS(o.fl)},o.CO=function(){var t=o._O,n=o.pO;o.wO(t,n),o.mO=t,o.yO=n,o.fl(),o.TO=0},o.OO=function(){if(!o.TO){var t=o._O,n=o.pO;t===o.mO&&n===o.yO||(o.TO=YS(o.CO))}},o.AO=function(){o.DO||(o.DO=s(o.PO,66))},o.PO=function(){o.DO=void 0,o.xO()},o.xO=function(){o.OO()};var c=function(t,n){return i.getComputedStyle(t,void 0).getPropertyValue(n)||t.style[n]}(n,"position");u||"static"!==c||(n.style.position="relative");var a,f=e.createElement("div");return o.kO=f,o.SO=e.createElement("div"),o.EO=e.createElement("div"),o.RO=e.createElement("div"),o.IO=e.createElement("div"),nE(o.SO),nE(o.RO),iE(o.EO),iE(a=o.IO),a.style.width="200%",a.style.height="200%",f.appendChild(o.SO),f.appendChild(o.RO),o.SO.appendChild(o.EO),o.RO.appendChild(o.IO),n.appendChild(f),o.SO.addEventListener("scroll",o.OO),o.RO.addEventListener("scroll",o.OO),i&&i.addEventListener("resize",o.AO),o.OO(),o}return vt(n,t),n.prototype.et=function(){KS(this.TO),this.TO=0,this.SO.removeEventListener("scroll",this.OO),this.RO.removeEventListener("scroll",this.OO),ze(this.kO),i&&i.removeEventListener("resize",this.AO)},ft(n,[{key:"pO",get:function(){return this.Sg.getBoundingClientRect().height||this.yO||0}},{key:"_O",get:function(){return this.Sg.getBoundingClientRect().width||this.mO||0}}]),n}(zS),rE=function(t){function n(n){var i;return(i=t.call(this)||this).Sg=void 0,i.gO=void 0,i.bO=function(t,n){i.Yr(new HS(t,n))},i.Sg=n,i}vt(n,t);var i=n.prototype;return i.yc=function(t){this.gO||("function"==typeof Z.ResizeObserver?this.gO=new jS(this.Sg,this.bO):this.gO=new eE(this.Sg,this.bO,t))},i.et=function(){this.Zr(),this.gO&&(this.gO.et(),this.gO=void 0)},ft(n,[{key:"pO",get:function(){return this.gO?this.gO.pO:0}},{key:"_O",get:function(){return this.gO?this.gO._O:0}}]),n}(Iu),uE=function(t){function n(){return t.call(this,Vk.$d)||this}return vt(n,t),n}(Cu);!function(){if(e)for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0;n<t.length;n++){var i=t[n];if(i[1]in e)return{LO:i[0],BO:i[1],MO:i[2],FO:i[3],UO:i[4],VO:i[5]}}}();var sE=function(t){function n(){return t.call(this,Vk.dD)||this}return vt(n,t),n}(Cu),oE=function(t){function n(n,i){var e;return(e=t.call(this)||this).fI=void 0,e.WO=void 0,e.HO=void 0,e.qO=!1,e.zO=function(){return e.sc()},e.jD=function(t){e.qO||e.Yr(t)},e.fI=n,e.WO=i,e.HO=jk,e.jO(),e.fI.Kr(Kc.ka,e.zO),e.sc(),e}vt(n,t);var i=n.prototype;return i.Zg=function(){this.WO&&this.HO.Zg()},i.ny=function(){this.HO.ny()},i.jO=function(){this.HO.Kr(Vk.$d,this.jD),this.HO.Kr(Vk.Cl,this.Gr)},i.$O=function(){this.HO.tu(Vk.$d,this.jD),this.HO.tu(Vk.Cl,this.Gr)},i.sc=function(){var t=this.HO,n=this.fI.wg();if(t!==n){this.qO=!0;var i=this.lD,e=this.wD;i&&this.ny(),this.$O(),this.HO=n,this.jO(),i&&!this.lD&&this.wD?this.Zg():this.ny(),this.qO=!1,e!==this.wD&&this.Yr(new sE),i!==this.lD&&this.Yr(new uE)}},i.et=function(){this.Zr(),this.$O(),this.fI.tu(Kc.ka,this.zO)},ft(n,[{key:"wD",get:function(){return!!this.WO&&this.HO.wD}},{key:"lD",get:function(){return this.HO.lD}}]),n}(Iu);function cE(t){var n;return{get url(){return t.jh},get method(){return t.av},get headers(){return n||(n=t.Uh.Ja()),n},get body(){return t.Ih},get useCredentials(){return t.dv},get type(){return dE(t.gr)},get subType(){return wE(t.hv)},get mediaType(){return yE(t.vv)},get responseType(){return fE(t.Vh)}}}function aE(t){switch(t.toLowerCase()){case"arraybuffer":return Jc.Ga;case"json":return Jc.Ya;case"stream":return Jc.Ka;case"text":default:return Jc.ri}}function fE(t){return t}function hE(t){switch(t.toUpperCase()){case"POST":return kd.POST;case"PUT":return kd.PUT;case"DELETE":return kd.DELETE;case"HEAD":return kd.HEAD;case"OPTIONS":return kd.OPTIONS;case"GET":default:return kd.GET}}function vE(t){switch(t.toLowerCase()){case"manifest":return Td.Gh;case"segment":return Td.Yh;case"content-protection":return Td.Kh;default:return Td.Xh}}function dE(t){return t}function lE(t){switch(t.toLowerCase()){case"initialization-segment":return Sd.Jh;case"fairplay-license":return Sd.Qh;case"fairplay-certificate":return Sd.Zh;case"widevine-license":return Sd.tv;case"widevine-certificate":return Sd.nv;case"playready-license":return Sd.ev;case"clearkey-license":return Sd.rv;case"aes128-key":return Sd.uv;default:return Sd.Xh}}function wE(t){return t}function gE(t){switch(t.toLowerCase()){case"audio":return Ed.sv;case"video":return Ed.ov;case"text":return Ed.ri;case"image":return Ed.cv;case"":default:return Ed.Xh}}function yE(t){return t}var mE=function(){function t(t,n){this.XO=new Fs,this.GO=[],this.Ad=void 0,this.YO=!1,this.Iv=void 0,this.KO=0,this.JO=t,this.QO=n}var n=t.prototype;return n.kp=function(){this.YO=!0,this.XO.xu(null)},n.ZO=function(){this.XO.Lu(new nd(this.GO))},n.tA=function(t){if(!this.nA)throw new h("Cannot respond more than once");if(!Ot(t))throw new h("Expected valid response");this.Iv=this.iA(t),this.kp()},n.eA=function(){try{var t=this.QO(this.Pd);t?this.rA(t):this.uA||this.sA||this.kp()}catch(t){this.GO.push(t),this.ZO()}},n.rA=function(t){if(this.sA)throw new f("Request has been redirected or a response already exists");if(Lt(t))this.oA(t);else{if("function"!=typeof t)throw new h("Expected promise or function");var n=new Fs;try{var i=t(function(t){t?n.Lu(t):n.xu(void 0)});Lt(i)&&n.xu(i)}catch(t){n.Lu(t)}this.oA(n.Ou)}},n.oA=function(t){return lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,this.KO++,n.next=4,lr.awrap(t);case 4:this.KO--,this.uA||this.sA||(this.GO.length?this.ZO():this.kp()),n.next=13;break;case 8:n.prev=8,n.t0=n.catch(0),this.KO--,this.GO.push(n.t0),this.uA||this.sA||this.ZO();case 13:case"end":return n.stop()}},null,this,[[0,8]],j)},ft(t,[{key:"cA",get:function(){return this.XO.Ou}},{key:"Pd",get:function(){return this.Ad||(this.Ad=this.aA()),this.Ad}},{key:"sA",get:function(){return this.YO}},{key:"nA",get:function(){return!this.YO}},{key:"uA",get:function(){return this.KO>0}},{key:"Dv",get:function(){return this.Iv}}]),t}(),bE=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).fA=void 0,r.fA=e,r.eA(),r}vt(n,t),n.hA=function(t,n,i){var e=void 0===t.body?i:t.body;return new Rd({Pi:e,qh:n.qh,Vh:n.qh.Vh,Uh:t.headers,Fh:t.status,Wh:t.statusText,zh:t.url,Hh:!0},n)};var i=n.prototype;return i.aA=function(){return i=cE((t=this).qh),{get closed(){return!t.nA},get request(){return i},get url(){return t.jh},get status(){return t.Fh},get statusText(){return t.Wh},get headers(){return n||(n=t.Uh.Ja()),n},get body(){return t.Ih},respondWith:function(n){return t.tA(n)},waitUntil:function(n){return t.rA(n)}};var t,n,i},i.iA=function(t){return n.hA(t,this.JO,this.fA)},ft(n,[{key:"Ih",get:function(){return this.fA}},{key:"Uh",get:function(){return this.JO.Uh}},{key:"qh",get:function(){return this.JO.qh}},{key:"Dv",get:function(){return this.Iv}},{key:"Fh",get:function(){return this.JO.Fh}},{key:"Wh",get:function(){return this.JO.Wh}},{key:"jh",get:function(){return this.JO.zh}}]),n}(mE),pE=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).vA=void 0,r.dA=void 0,r.dA=e,r.eA(),r}vt(n,t);var i=n.prototype;return i.aA=function(){return t=this,{get url(){return t.jh},get method(){return t.av},get headers(){return n||(n=t.Uh.Ja()),n},get body(){return t.Ih},get closed(){return!t.nA},get useCredentials(){return t.dv},get type(){return dE(t.gr)},get subType(){return wE(t.hv)},get mediaType(){return yE(t.vv)},get responseType(){return fE(t.Vh)},redirect:function(n){return t.lA(n)},respondWith:function(n){return t.tA(n)},waitUntil:function(n){return t.rA(n)}};var t,n},i.iA=function(t){var n=this.JO.Ih,i=new Rd({Pi:n,Uh:{},qh:this.JO,zh:this.JO.jh,Vh:this.JO.Vh,Fh:200,Wh:"OK"});return bE.hA(t,i,n)},i.lA=function(t){if(!this.nA)throw new h("Cannot redirect, already redirected or has a response");var n;n=Pt(t)?{url:t}:t,this.vA=function(t,n){return new Id({jh:void 0===t.url?n.jh:t.url,av:void 0!==t.method?hE(t.method):void 0,Uh:t.headers,Ih:t.body,dv:t.useCredentials,gr:void 0!==t.type?vE(t.type):void 0,hv:void 0!==t.subType?lE(t.subType):void 0,vv:void 0!==t.mediaType?gE(t.mediaType):void 0,Vh:void 0!==t.responseType?aE(t.responseType):void 0},n)}(n,this.JO),this.kp()},ft(n,[{key:"Ih",get:function(){return this.JO.Ih}},{key:"nA",get:function(){return this.dA&&!this.YO}},{key:"Uh",get:function(){return this.JO.Uh}},{key:"av",get:function(){return this.JO.av}},{key:"wA",get:function(){return this.vA}},{key:"Dv",get:function(){return this.Iv}},{key:"Vh",get:function(){return this.JO.Vh}},{key:"fv",get:function(){return this.JO.fv}},{key:"zr",get:function(){return this.JO.zr}},{key:"gr",get:function(){return this.JO.gr}},{key:"hv",get:function(){return this.JO.hv}},{key:"vv",get:function(){return this.JO.vv}},{key:"jh",get:function(){return this.JO.jh}},{key:"dv",get:function(){return this.JO.dv}},{key:"lv",get:function(){return this.JO.lv}}]),n}(mE);var _E,kE=function(t){function n(n,i){var e;void 0===i&&(i=!0);var r=new TE(n);return(e=t.call(this,r,i)||this).gA=void 0,e.gA=r,e}vt(n,t);var i=n.prototype;return i.yA=function(t){this.gA.yA(t)},i.mA=function(t){this.gA.mA(t)},i.bA=function(t){this.gA.bA(t)},i.pA=function(t){this.gA.pA(t)},i._A=function(t){this.gA._A(t)},n}(Cd),TE=function(){function t(t){this.gv=void 0,this.kA=[],this.TA=[],this.gv=t}var n=t.prototype;return n.qh=function(t){var n;return lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,lr.awrap(this.SA(t,t.zr));case 3:n=i.sent,i.next=13;break;case 6:if(i.prev=6,i.t0=i.catch(0),!(i.t0 instanceof Bd)){i.next=12;break}return i.next=11,lr.awrap(this.EA(i.t0,t.zr));case 11:return i.abrupt("return",i.sent);case 12:throw i.t0;case 13:return i.next=15,lr.awrap(this.RA(n,t.zr));case 15:if(!_d(n=i.sent)){i.next=20;break}return i.abrupt("return",n);case 20:throw new Fd(n);case 21:case"end":return i.stop()}},null,this,[[0,6]],j)},n.wv=function(t){return this.gv.wv(t)},n.SA=function(t,n){var i,e,r,u,s,o;return lr.async(function(c){for(;;)switch(c.prev=c.next){case 0:wu(n),i=t,r=0,u=this.kA.slice();case 3:if(!(r<u.length)){c.next=21;break}if(s=u[r],wu(n),(o=new pE(i,s,!e)).sA){c.next=17;break}return c.prev=8,c.next=11,lr.awrap(o.cA);case 11:c.next=17;break;case 13:return c.prev=13,c.t0=c.catch(8),c.abrupt("continue",18);case 17:o.wA&&!e?i=o.wA:o.Dv&&!e&&(e=o.Dv);case 18:r++,c.next=3;break;case 21:if(!e){c.next=23;break}return c.abrupt("return",e);case 23:return c.abrupt("return",this.gv.qh(i));case 24:case"end":return c.stop()}},null,this,[[8,13]],j)},n.EA=function(t,n){var i,e;return lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return i=t instanceof Fd?t.Dv:new Rd({Pi:null,qh:t.qh,Fh:0,Wh:""}),r.next=3,lr.awrap(this.RA(i,n));case 3:if((e=r.sent)!==i){r.next=8;break}throw t;case 8:if(!_d(e)){r.next=12;break}return r.abrupt("return",e);case 12:throw new Fd(e);case 13:case"end":return r.stop()}},null,this,null,j)},n.RA=function(t,n){var i,e,r,u,s,o;return lr.async(function(c){for(;;)switch(c.prev=c.next){case 0:i=t,e=0,r=this.TA.slice();case 2:if(!(e<r.length)){c.next=23;break}return u=r[e],wu(n),c.next=7,lr.awrap(j.resolve(i.Ru().Pi(n)));case 7:if(s=c.sent,(o=new bE(i,u,s)).sA){c.next=19;break}return c.prev=10,c.next=13,lr.awrap(o.cA);case 13:c.next=19;break;case 15:return c.prev=15,c.t0=c.catch(10),c.abrupt("continue",20);case 19:i=o.Dv||i;case 20:e++,c.next=2;break;case 23:return c.abrupt("return",i);case 24:case"end":return c.stop()}},null,this,[[10,15]],j)},n.yA=function(t){this.kA.unshift(t)},n.mA=function(t){this.kA.push(t)},n.bA=function(t){ou(this.kA,t)},n.pA=function(t){this.TA.unshift(t)},n._A=function(t){ou(this.TA,t)},n.et=function(){this.gv.et(),fu(this.kA),fu(this.TA)},t}(),SE=function(t){function n(n,i,e){var r;return(r=t.call(this,i)||this).Ad=void 0,r.IA=function(t){r.Yr(t)},r.DA=function(t){r.Yr(t)},r.CA=n,r._T=i,r.ED=e,r.CA.Kr(Kc.Da,r.IA),r.CA.Kr(Kc.Ia,r.DA),r}vt(n,t);var i=n.prototype;return i.NA=function(t){this.ED.NA(t)},i.yA=function(t){this._T.yA(t)},i.bA=function(t){this._T.bA(t)},i.pA=function(t){this._T.pA(t)},i._A=function(t){this._T._A(t)},i.et=function(){this.Zr(),this.CA.tu(Kc.Da,this.IA),this.CA.tu(Kc.Ia,this.DA)},ft(n,[{key:"Pd",get:function(){var t;return this.Ad||(this.Ad=(t=this,{get online(){return t.Ag},get estimator(){return n=t.OA,{get bandwidth(){return n.LE},get roundTripTime(){return n.BE}};var n},setEstimator:function(n){t.NA(function(t){if(t)return{get LE(){return Mw(t.bandwidth)},get BE(){return Mw(t.roundTripTime)},xE:function(n){return function(t){if(t)return{AA:function(n){t.markRequestStart(n)},PA:function(n){t.markResponseStart(n)},xA:function(n,i){t.markResponseData(n,i)},LA:function(n){t.markResponseEnd(n)}}}(t.createMeasurer(cE(n)))}}}(n))},addRequestInterceptor:function(n){t.yA(n)},removeRequestInterceptor:function(n){t.bA(n)},addResponseInterceptor:function(n){t.pA(n)},removeResponseInterceptor:function(n){t._A(n)},addEventListener:function(n,i){t.Kr(n,i)},removeEventListener:function(n,i){t.tu(n,i)}})),this.Ad}},{key:"Ag",get:function(){return this.CA.Ag}},{key:"OA",get:function(){return this.ED.OA}}]),n}(Iu);!function(t){t.PERFORMANCE="performance",t.QUALITY="quality",t.BANDWIDTH="bandwidth"}(_E||(_E={}));var EE=30,RE={type:_E.BANDWIDTH},IE=20,DE=60;function CE(t){var n,i,e,r=Ow(RE);return Pt(t)?r.type=NE(t):Ot(t)&&function(t){switch(t){case _E.PERFORMANCE:case _E.QUALITY:case _E.BANDWIDTH:return!0;default:return!1}}(t.type)&&(r.type=NE(t.type)),Ot(t)&&Ot(t.metadata)&&(r.metadata=(n=t.metadata,i={},e=Bw(n.bitrate),g(e)||(i.bitrate=e),i)),r}function NE(t){switch(t){case"bandwidth":return _E.BANDWIDTH;case"performance":return _E.PERFORMANCE;case"quality":return _E.QUALITY}}var OE=function(t){function n(n){var i;return(i=t.call(this,"MA")||this).BA=n,i}return vt(n,t),n}(Cu),AE=function(t){function n(n){var i;return(i=t.call(this,"UA")||this).FA=n,i}return vt(n,t),n}(Cu),PE=function(t){function n(n){var i;return(i=t.call(this,"WA")||this).VA=n,i}return vt(n,t),n}(Cu),xE=function(t){function n(){for(var n,i,e=arguments.length,r=new Array(e),u=0;u<e;u++)r[u]=arguments[u];return(n=t.call.apply(t,[this].concat(r))||this).Ad=(i=Cn(n),{get strategy(){return{metadata:(t=i.FA).metadata,type:(n=t.type,n)};var t,n},set strategy(t){i.FA=CE(t)},get targetBuffer(){return i.BA},set targetBuffer(t){var n=Bw(t);g(n)||(i.BA=n>DE?DE:n)},get bufferLookbackWindow(){return i.VA},set bufferLookbackWindow(t){var n=Bw(t);g(n)||(i.VA=n<=0?EE:n)},get maxBufferLength(){return i.HA}}),n.qA=RE,n.zA=IE,n.jA=EE,n.$A=1/0,n.XA=void 0,n.GA=void 0,n}vt(n,t);var i=n.prototype;return i.YA=function(t){this.GA=t},i.NA=function(t){this.XA=t},i.KA=function(t){var n=d.min(t,.8*this.$A);if(n=d.max(10,n),this.$A===n)return!1;var i=this.JA;this.$A=n;var e=this.JA;return e!==i&&this.Yr(new OE(e)),!0},ft(n,[{key:"QA",get:function(){switch(this.qA.type){case _E.PERFORMANCE:return 0;case _E.QUALITY:return 1/0;case _E.BANDWIDTH:return this.qA.metadata&&void 0!==this.qA.metadata.bitrate?this.qA.metadata.bitrate:8*sg.Ql();default:return 8*sg.Ql()}}},{key:"Pd",get:function(){return this.Ad}},{key:"FA",get:function(){return this.qA},set:function(t){this.qA=t,this.Yr(new AE(t))}},{key:"BA",get:function(){return this.zA},set:function(t){this.zA=t,this.Yr(new OE(t))}},{key:"JA",get:function(){return d.min(this.zA,this.$A)}},{key:"VA",get:function(){return this.jA},set:function(t){this.jA=t,this.Yr(new PE(t))}},{key:"HA",get:function(){return this.$A}},{key:"OA",get:function(){var t;return null!=(t=this.XA)?t:this.GA.KR}}]),n}(Iu),LE=function(t){function n(){return t.call(this,"Xd")||this}return vt(n,t),n.prototype.xd=function(){return new BE},n}(gw),BE=function(t){function n(){return t.call(this,"change")||this}return vt(n,t),n}(Cu),ME=function(t){function n(n,i){var e;return(e=t.call(this,i)||this).ZA=void 0,e.tP=function(t){var n;n=t,Boolean(n&&n.Pd)&&_u(function(){e.Yr(t.Pd)})},e.ZA=n,e.ZA.Qr(e.tP),e}return vt(n,t),n.prototype.et=function(){this.Zr(),this.ZA.eu(this.tP)},n}(ig),FE=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n}(ME);var UE=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).oy=0,n.ay=1/0,n.Ad=void 0,n}vt(n,t);var i=n.prototype;return i.fl=function(){0===this.oy&&this.ay===1/0||(this.oy=0,this.ay=1/0,this.Yr(new LE))},i.nP=function(){return new Hk([this.ey,this.uy],[!0,!0])},ft(n,[{key:"ey",get:function(){return this.oy},set:function(t){if(this.uy<=t)throw new f("Start time of a clip should be smaller than the end time.");this.oy!==t&&(this.oy=t,this.Yr(new LE))}},{key:"uy",get:function(){return this.ay},set:function(t){if(t<=this.ey)throw new f("End time of a clip should be larger than the start time.");this.ay!==t&&(this.ay=t,this.Yr(new LE))}},{key:"Pd",get:function(){var t,n,i;return this.Ad||(this.Ad=(i={get startTime(){return t.ey},set startTime(n){t.ey=n},get endTime(){return t.uy},set endTime(n){t.uy=n},addEventListener:function(t,i){n.Kr(t,i)},removeEventListener:function(t,i){n.tu(t,i)}},n=new ME(t=this,i),i)),this.Ad}}]),n}(ig),VE=function(t){function n(n){var i;return(i=t.call(this)||this).iP=function(t){i.eP(t)||i.Yr(t)},i.rP=n,i.rP.Qr(i.iP),i}vt(n,t);var i=n.prototype;return i.uP=function(){return this.rP.tg},i.gg=function(){return this.rP.gg()},i.sP=function(){return this.rP.kg},i.oP=function(){return this.rP.pg},i.cP=function(){return this.rP.Tg},i.aP=function(t){this.rP.Tg=t},i.fP=function(){return this.rP.bw},i.hP=function(t){this.rP.bw=t},i.vP=function(){return this.rP.pw},i.dP=function(){return this.rP.Sg},i.lP=function(){return this.rP._w},i.wP=function(){return this.rP.fu},i.gP=function(){return this.rP.kw},i.yP=function(){return this.rP.Eg},i.mP=function(){return this.rP.Tw},i.bP=function(t){this.rP.Tw=t},i.pP=function(){return this.rP.Ag},i._P=function(){return this.rP.Sw},i.kP=function(){return this.rP.Ew},i.TP=function(t){this.rP.Ew=t},i.SP=function(){return this.rP.Pg},i.EP=function(){return this.rP.xg},i.RP=function(t){this.rP.xg=t},i.IP=function(){return this.rP.Ml},i.DP=function(){return this.rP.Lg},i.CP=function(){return this.rP.Rw},i.ug=function(){return this.rP.ug()},i.sg=function(t,n){return lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return wu(n),i.next=3,lr.awrap(this.rP.sg(t,n));case 3:case"end":return i.stop()}},null,this,null,j)},i.NP=function(){return this.rP.ig},i.OP=function(){return this.rP.Iw},i.AP=function(){return this.rP.ng},i.PP=function(){return this.rP.Dw},i.xP=function(){return this.rP.Cw},i.LP=function(t){this.rP.Cw=t},i.wg=function(){return this.rP.wg()},i.lg=function(){return this.rP.lg()},i.fg=function(t){this.rP.fg(t)},i.hg=function(){this.rP.hg()},i.dg=function(){this.rP.dg()},i.st=function(){this.rP.st()},i.K=function(){this.rP.K()},i.Y=function(){this.rP.Y()},i.vg=function(){this.rP.vg()},i.rg=function(){return this.rP.rg()},i.og=function(){return this.rP.og()},i.cg=function(){this.rP.cg()},i.ag=function(){this.rP.ag()},i.fl=function(){return this.rP.fl()},i.et=function(){return this.rP.et()},i._g=function(){this.rP._g()},i.yg=function(t){return this.rP.yg(t)},i.eP=function(t){return!1},ft(n,[{key:"tg",get:function(){return this.uP()}},{key:"kg",get:function(){return this.sP()}},{key:"Tg",get:function(){return this.cP()},set:function(t){this.aP(t)}},{key:"pg",get:function(){return this.oP()}},{key:"bw",get:function(){return this.fP()},set:function(t){this.hP(t)}},{key:"pw",get:function(){return this.vP()}},{key:"Sg",get:function(){return this.dP()}},{key:"_w",get:function(){return this.lP()}},{key:"fu",get:function(){return this.wP()}},{key:"kw",get:function(){return this.gP()}},{key:"eg",get:function(){return this.rP.eg}},{key:"Eg",get:function(){return this.yP()}},{key:"Hw",get:function(){return this.rP.Hw}},{key:"Tw",get:function(){return this.mP()},set:function(t){this.bP(t)}},{key:"Ag",get:function(){return this.pP()}},{key:"Sw",get:function(){return this._P()}},{key:"Ew",get:function(){return this.kP()},set:function(t){this.TP(t)}},{key:"Pg",get:function(){return this.SP()}},{key:"xg",get:function(){return this.EP()},set:function(t){this.RP(t)}},{key:"Ml",get:function(){return this.IP()}},{key:"Lg",get:function(){return this.DP()}},{key:"Rw",get:function(){return this.CP()}},{key:"ig",get:function(){return this.NP()}},{key:"Iw",get:function(){return this.OP()}},{key:"ng",get:function(){return this.AP()}},{key:"Dw",get:function(){return this.PP()}},{key:"Cw",get:function(){return this.xP()},set:function(t){this.LP(t)}},{key:"Bg",get:function(){return this.rP.Bg}},{key:"Mg",get:function(){return this.rP.Mg},set:function(t){this.rP.Mg=t}}]),n}(eg),WE=function(t){function n(i,e){var r;return(r=t.call(this,i)||this).BP=void 0,r.MP=!1,r.FP=void 0,r.UP=!1,r.VP=function(){r.WP(),r.HP()},r.vR=function(){r.qP(),r.HP(),r.zP&&r.bw>=r.BP.uy-n.jP&&!r._w&&(r.FP=YS(r.vR))},r.$P=function(){r.UP=!0},r.XP=function(){r.UP&&(r.UP=!1,r.HP())},r.BP=e,r.BP.Kr("Xd",r.VP),r.rP.Kr("timeupdate",r.vR),r}vt(n,t);var i=n.prototype;return i.hP=function(n){var i=this.BP.nP().UI(n);t.prototype.hP.call(this,i),this.HP()},i.lP=function(){return t.prototype.lP.call(this)||this.MP},i.DP=function(){return Hk.aD(t.prototype.DP.call(this)).HI(this.BP.nP()).$R()},i.Y=function(){this.lP()?this.hP(this.GP.start(0)):this.WP(),t.prototype.Y.call(this),this.HP()},i.sg=function(n,i){return lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return wu(i),this.MP=!1,this.BP.fl(),e.next=5,lr.awrap(t.prototype.sg.call(this,n,i));case 5:case"end":return e.stop()}},null,this,null,j)},i.et=function(){return this.BP.tu("Xd",this.VP),this.rP.tu("timeupdate",this.vR),this.qP(),t.prototype.et.call(this)},i.eP=function(n){switch(n.type){case"seeking":return this.Yr(n),this.$P(),!0;case"seeked":case"emptied":return this.Yr(n),this.XP(),!0;case"ended":if(this.zP)return!0}return t.prototype.eP.call(this,n)},i.qP=function(){this.FP&&(KS(this.FP),this.FP=void 0)},i.HP=function(){var t=this.bw,i=this.zP&&t>=this.BP.uy-n.Mm;this.MP&&!i?(this.MP=!1,this.Sw&&this.Y()):this.MP||!i||this.Rw||this.UP||(this.MP=!0,this.Yr(new Fg(t)),this.K())},i.WP=function(){if(this.pw!==1/0){var t=this.GP,i=Hk.aD(t).UI(this.bw);Tn(this.bw,i,n.Mm)||this.hP(i)}},ft(n,[{key:"GP",get:function(){return this.DP().length?this.DP():this.BP.nP().$R()}},{key:"zP",get:function(){return this.BP.uy<this.pw}}]),n}(VE);WE.jP=1,WE.Mm=.001;var HE=function(){function t(){this.YP=void 0,this.YP=!1}return ft(t,[{key:"KP",get:function(){return this.YP},set:function(t){this.YP=t}}]),t}(),qE=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).YP=void 0,e.JP=!1,e.QP=!1,e.YP=i,e}vt(n,t);var i=n.prototype;return i.lP=function(){return!this.YP.KP&&t.prototype.lP.call(this)},i.K=function(){this.QP=!0,t.prototype.K.call(this)},i.Y=function(){this.QP=!1,t.prototype.Y.call(this)},i.eP=function(n){if(this.YP.KP)switch(n.type){case"ended":return this.bw=0,this.QP||(this.Rw?this.JP=!0:this.Y()),!0;case"seeked":this.JP&&(this.JP=!1,this.Y());break;case"pause":if(this.JP||t.prototype.lP.call(this))return!0}return t.prototype.eP.call(this,n)},n}(VE);var zE=function(){function t(t){var n;this.Ad=(n=this,{get currentBandwidthEstimate(){return n.Cg},get corruptedVideoFrames(){return n.Ig},get droppedVideoFrames(){return n.Rg},get totalBytesLoaded(){return n.Ng},get bufferedSegments(){return n.Og}}),this.mI=t}return ft(t,[{key:"Pd",get:function(){return this.Ad}},{key:"Ig",get:function(){return this.mI.ZP.Hw.Ig}},{key:"Cg",get:function(){return this.mI.ZP.Hw.Cg}},{key:"Rg",get:function(){return this.mI.ZP.Hw.Rg}},{key:"tx",get:function(){throw new f("Not implemented")}},{key:"nx",get:function(){throw new f("Not implemented")}},{key:"Ng",get:function(){return this.mI.ZP.Hw.Ng}},{key:"Dg",get:function(){return this.mI.ZP.Hw.Dg}},{key:"Og",get:function(){return this.mI.ZP.Hw.Og}}]),t}(),jE=function(t){function n(){return t.call(this,"ix")||this}return vt(n,t),n.prototype.xd=function(){return new $E},n}(gw),$E=function(t){function n(){return t.call(this,"castingchange")||this}return vt(n,t),n}(Cu);var XE=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).ex=[],n.Ad=void 0,n.ux=function(){return n.Yr(new jE)},n}vt(n,t);var i=n.prototype;return i.sx=function(t){this.ex.push(t),t.Kr("statechange",this.ux)},i.et=function(){var t=this;this.ex.forEach(function(n){n.tu("statechange",t.ux)}),fu(this.ex)},ft(n,[{key:"ox",get:function(){return this.ex.some(function(t){return t.ox})}},{key:"Pd",get:function(){var t,n,i;return this.Ad||(this.Ad=(i={get casting(){return t.ox},addEventListener:function(t,i){n.Kr(t,i)},removeEventListener:function(t,i){n.tu(t,i)}},n=new FE(t=this,i),i)),this.Ad}}]),n}(eg),GE=function(){function t(){}return t.ax=function(t,n){var i,e,r;return lr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,i=new Id({jh:t,Vh:Jc.ri,av:kd.GET}),u.next=4,lr.awrap(n.qh(i));case 4:return e=u.sent,u.next=7,lr.awrap(e.Pi());case 7:return r=u.sent,u.abrupt("return",r.trim());case 11:return u.prev=11,u.t0=u.catch(0),lu(u.t0),u.abrupt("return",void 0);case 15:case"end":return u.stop()}},null,null,[[0,11]],j)},t.hx=function(t){try{var i=oS(t);return new dS(i.key,i.domains_page,i.domains_source,i.expiration_date,i.customer_id,i.generation_date,i.sdks,i.send_impression)}catch(t){throw new Nc(n.ErrorCode.LICENSE_ERROR,"Invalid license. No valid license was configured.")}},t.vx=function(t){void 0===t&&(t=IS.vb),st.Ie("The baked-in license is used. Please update the configuration with your license.");var n=t.JC(".$hsF|b9_Ess*r[Y.4(HiEagT@Y@Cen3Cec3Cl\"\""),i=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.JC(n)}),e=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.JC(n)}),r=Number(new Date(Number(t.JC("COD|aHpHa:p3Ceo3Co\"\""))));return new dS(n,i,e,r)},t.convertLicenseToDummyLicense=function(t){return new dS(t.uN,t.sN,t.oN,864e13,t.aN,Date.now(),t.hN,t.vN)},t}(),YE=function(){function t(){}return t.fa=function(){return t.Zn||(t.Zn=KE.Sc()?new KE:new jc),t.Zn},t._u=function(n){t.fa()._u(n)},t.ca=function(){t.fa().ca()},t.mu=function(n){return t.fa().mu(n)},t.aa=function(n,i){t.fa().aa(n,i)},t.lx=function(n){var i=t.mu(n);if(void 0!==i)return w(i)},t.wx=function(n){return"true"===t.mu(n)},t}();YE.Zn=void 0;var KE=function(n){function i(){return n.apply(this,arguments)||this}vt(i,n),i.Sc=function(){try{return t.localStorage.setItem("foobar","foobar"),t.localStorage.removeItem("foobar"),!0}catch(t){}return!1};var e=i.prototype;return e._u=function(n){t.localStorage.removeItem(n)},e.ca=function(){t.localStorage.clear()},e.mu=function(n){return t.localStorage[n]},e.aa=function(n,i){t.localStorage[n]=i},i}(YE),JE=d.floor(14399999*d.random()-72e5),QE=function(){function t(t,n,i,e,r,u){this.wN=void 0,this._T=t,this.gx=n,this.yx=i,this.JN=e,this.mx=r,this.Rs=u,this.wN=pS(u)}var i=t.prototype;return i.bx=function(){var t;return lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,lr.awrap(this._x(this.mx.license,this.mx.licenseUrl));case 2:t=n.sent,this.JN.kx(t);case 4:case"end":return n.stop()}},null,this,null,j)},i._x=function(t,i){var e,r,u,s,o,c,a,f,h;return lr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(e=i,t?r=GE.hx(t):e||(r=GE.vx()),e||(e="https://validate.theoplayer.com/1/"+r.uN),u=this.Tx(),!r){v.next=14;break}if((s=this.gx._N(r))!==aS.iN){v.next=14;break}if(!this.Sx(r.cN)||!this.Sx(null==u?void 0:u.cN)){v.next=13;break}return v.next=10,lr.awrap(this.Ex(e));case 10:if(!(o=v.sent)){v.next=13;break}return v.abrupt("return",o);case 13:return v.abrupt("return",r);case 14:if(!u){v.next=25;break}if(this.gx._N(u)!==aS.iN){v.next=24;break}if(!this.Sx(null==u?void 0:u.cN)){v.next=23;break}return v.next=20,lr.awrap(this.Ex(e));case 20:if(!(c=v.sent)){v.next=23;break}return v.abrupt("return",c);case 23:return v.abrupt("return",u);case 24:YE._u("THEOplayer.license");case 25:return v.next=27,lr.awrap(GE.ax(e,this._T));case 27:if(!(a=v.sent)){v.next=37;break}if(f=GE.hx(a),this.gx._N(f)!==aS.iN){v.next=34;break}return YE.aa("THEOplayer.license",a),v.abrupt("return",f);case 34:YE._u("THEOplayer.license"),v.next=39;break;case 37:if(this.wN||!r||s!==aS.eN||e!=="https://validate.theoplayer.com/1/"+r.uN){v.next=39;break}return v.abrupt("return",GE.convertLicenseToDummyLicense(r));case 39:if(!r&&!f){v.next=43;break}this.Rx(null!=(h=r)?h:f,new Nc(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!")),v.next=44;break;case 43:throw new Nc(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!");case 44:case"end":return v.stop()}},null,this,null,j)},i.mN=function(t){var n,i,e,r,u,s,o;return lr.async(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,lr.awrap(this.JN.eO());case 2:if(n=c.sent,!this.Sx(n.cN)){c.next=9;break}return e=null!=(i=this.mx.licenseUrl)?i:"https://validate.theoplayer.com/1/"+n.uN,c.next=7,lr.awrap(this.Ex(e));case 7:(r=c.sent)&&(this.JN.kx(r),n=r);case 9:if(c.prev=9,(u=this.gx._N(n))!==aS.rN){c.next=16;break}throw s=vS.dN,new Nc(wS(s),kS.pN(s));case 16:if(u!==aS.eN){c.next=19;break}throw o=vS.eN,new Nc(wS(o),kS.pN(o));case 19:this.gx.mN(t,n),c.next=25;break;case 22:c.prev=22,c.t0=c.catch(9),this.Ix(c.t0);case 25:case"end":return c.stop()}},null,this,[[9,22]],j)},i.Ex=function(t){var n,i;return lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,lr.awrap(GE.ax(t,this._T));case 3:if(void 0!==(n=e.sent)){e.next=6;break}return e.abrupt("return",void 0);case 6:if(i=GE.hx(n),this.gx._N(i)!==aS.iN){e.next=11;break}return YE.aa("THEOplayer.license",n),e.abrupt("return",i);case 11:return e.abrupt("return",void 0);case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",void 0);case 17:case"end":return e.stop()}},null,this,[[0,14]],j)},i.Sx=function(t){return!t||Number(new Date)+2592e5+JE>=t},i.Tx=function(){var t=YE.mu("THEOplayer.license");if(t)return GE.hx(t)},i.Rx=function(t,n){this.JN.kx(t),this.Ix(n)},i.Ix=function(t){throw Xt(t.message),this.yx.sO(t.message),t},t}(),ZE=function(){function t(){this.Dx=void 0,this.Cx=new Fs}var n=t.prototype;return n.kx=function(t){this.Dx=t,this.Cx.xu()},n.eO=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.Dx){t.next=2;break}return t.abrupt("return",j.resolve(this.Dx));case 2:return t.next=4,lr.awrap(this.Cx.Ou);case 4:return t.abrupt("return",this.Dx);case 5:case"end":return t.stop()}},null,this,null,j)},ft(t,[{key:"Nx",get:function(){return this.Dx}}]),t}(),tR=function(t){function n(){return t.call(this,"Xd")||this}return vt(n,t),n.prototype.xd=function(){return new nR},n}(gw),nR=function(t){function n(){return t.call(this,"change")||this}return vt(n,t),n}(Cu);function iR(t){var n,i={get fontFamily(){return t.Ox},set fontFamily(n){t.Ox=n},get fontColor(){return t.Ax},set fontColor(n){t.Ax=n},get fontSize(){return t.Px},set fontSize(n){t.Px=n},get backgroundColor(){return t.xx},set backgroundColor(n){t.xx=n},get windowColor(){return t.Lx},set windowColor(n){t.Lx=n},get edgeStyle(){return t.Bx},set edgeStyle(n){t.Bx=n},addEventListener:function(t,i){var e=Vw(t,Fw);n.Kr(e,i)},removeEventListener:function(t,i){var e=Vw(t,Fw);n.tu(e,i)}};return n=new Du(i),t.Kr(["Xd"],function(t){return n.Yr(t.Pd)}),i}var eR,rR,uR={Ox:void 0,Ax:void 0,Px:void 0,xx:void 0,Lx:void 0,Bx:void 0,Mx:void 0},sR="THEOplayer.textTrackStyle.",oR=function(t){function n(){var i;return(i=t.call(this)||this).Fx=void 0,i.Ad=void 0,i.Fx=n.Ux(),i}return vt(n,t),n.prototype.sc=function(t){this.Fx=wr({},this.Fx,t),n.Vx(this.Fx),this.Yr(new tR)},n.Ux=function(){var t=wr({},uR);return t.Ox=YE.mu(sR+"fontFamily")||t.Ox,t.Ax=YE.mu(sR+"fontColor")||t.Ax,t.Px=YE.mu(sR+"fontSize")||t.Px,t.xx=YE.mu(sR+"backgroundColor")||t.xx,t.Lx=YE.mu(sR+"windowColor")||t.Lx,t.Bx=YE.mu(sR+"edgeStyle")||t.Bx,t},n.Vx=function(t){YE.aa(sR+"fontFamily",t.Ox||""),YE.aa(sR+"fontColor",t.Ax||""),YE.aa(sR+"fontSize",t.Px||""),YE.aa(sR+"backgroundColor",t.xx||""),YE.aa(sR+"windowColor",t.Lx||""),YE.aa(sR+"edgeStyle",t.Bx||"")},ft(n,[{key:"Wx",get:function(){return this.Fx}},{key:"Ox",get:function(){return this.Fx.Ox},set:function(t){this.sc({Ox:t})}},{key:"Ax",get:function(){return this.Fx.Ax},set:function(t){this.sc({Ax:t})}},{key:"Px",get:function(){return this.Fx.Px},set:function(t){this.sc({Px:t})}},{key:"xx",get:function(){return this.Fx.xx},set:function(t){this.sc({xx:t})}},{key:"Lx",get:function(){return this.Fx.Lx},set:function(t){this.sc({Lx:t})}},{key:"Bx",get:function(){return this.Fx.Bx},set:function(t){this.sc({Bx:t})}},{key:"Mx",get:function(){return this.Fx.Mx}},{key:"Pd",get:function(){return this.Ad||(this.Ad=iR(this)),this.Ad}}]),n}(Iu),cR=function(t){function n(n,i){var e;(e=t.call(this)||this).Hx=void 0,e.lc=void 0,e.ZP=void 0,e.qx=void 0,e.Id=void 0,e.BP=void 0,e.YP=void 0,e.zx=void 0,e.jx=void 0,e.ED=void 0,e.gx=void 0,e.$x=void 0,e.Xx=void 0,e.SD=void 0,e.Gx=!1,e.Xw=!1,e.qg=void 0,e.Yx=!1,e.Kx=void 0,e.Jx=void 0,e.Qx=void 0,e.Zx=void 0,e.tL=void 0,e.nL=function(t){if(!e.Yx){e.Yx=!0;var n=e.Hx,i=yy(t);e.ZP.ml=new Gk(e.Sg,i,t),ku(n.et())}},e.iL=function(t){e.Yr(t.Pd)},e.eL=function(t){t.type!==Kc.Da&&t.type!==Kc.Ia&&e.Yr(t)};var r=Bw(i.uid);g(r)?e.qg=Ey++:e.qg=r,e.lc=i;var u=st.Id,s=new ZE;e.qx=new FS("4.0.0",u,s),e.Id=new kE(u,i.allowMixedContent),e.ED=new xE,e.gx=new lS(i.isEmbeddable,"4.0.0",cS()),e.tL=new QE(u,e.gx,e.qx,s,i,cS()),e.tL.bx().catch(e.nL),e.$x=new rE(n),e.$x.Kr("lO",e.iL),e.SD=new oR,e.BP=new UE,e.YP=new HE;var o=new Xk(n,i,e.Id,e.ED,e.$x,e.SD);e.ED.YA(o);var c=o;c=new WE(c,e.rL),c=new qE(c,e.KP),e.Hx=c,e.ZP=new dy(e.Hx),e.ZP.Qr(e.eL),e.Zx=new zE(Cn(e)),e.Jx=new SE(e.ZP,e.Id,e.ED),e.zx=new WS(Cn(e)),e.Xx=new oE(e.ZP,i.allowNativeFullscreen),e.jx=new vT(e.Xx),e.$x.yc();var a=new K(e.$x,e.SD,1,[my.ov]);return e.Kx=new J(a),e.Qx=new XE,e}vt(n,t);var i=n.prototype;return i.bP=function(t){this.ZP.Tw=t,t||this.Sw||this.st()},i.LP=function(t){this.ZP.Cw=t},i.uL=function(){Kg(this,dT,this)},i.Y=function(){this.ZP.Y()},i.K=function(){this.ZP.K()},i.sg=function(t,n){var i;return lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return this.tL.mN(t).catch(this.nL),i=aR(t),e.next=5,lr.awrap(this.ZP.sg(i,n));case 5:case"end":return e.stop()}},null,this,null,j)},i.st=function(){this.Xw||(this.ZP.st(),this.Kx.st(),this.Xw=!0)},i.lD=function(){return this.jx.KD()===oT.FULLSCREEN},i.vg=function(){this.ZP.vg()},i.dg=function(){this.ZP.dg()},i.lg=function(){return this.ZP.lg()},i.fl=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,lr.awrap(this.ZP.rg());case 2:return t.next=4,lr.awrap(this.ZP.fl());case 4:case"end":return t.stop()}},null,this,null,j)},i.et=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Zr(),this.Qx.et(),this.Id.et(),this.Jx.et(),this.Xx.et(),this.jx.et(),this.$x.et(),this.qx.et(),this.Kx.et(),t.next=11,lr.awrap(this.ZP.et());case 11:case"end":return t.stop()}},null,this,null,j)},ft(n,[{key:"sL",get:function(){return this.ED}},{key:"Qw",get:function(){return this.Gx},set:function(t){this.Gx=t,this.ZP.Qw=t}},{key:"oL",get:function(){return this.Kx}},{key:"tg",get:function(){return this.ZP.tg}},{key:"cL",get:function(){return this.Qx}},{key:"aL",get:function(){return this.$x}},{key:"eg",get:function(){return this.ZP.eg}},{key:"Hw",get:function(){return this.Zx}},{key:"fL",get:function(){return this.Jx}},{key:"ig",get:function(){return this.ZP.ig}},{key:"hL",get:function(){return this.SD}},{key:"ng",get:function(){return this.ZP.ng}},{key:"kg",get:function(){return this.ZP.kg}},{key:"rL",get:function(){return this.BP}},{key:"KP",get:function(){return this.YP}},{key:"bw",get:function(){return this.ZP.bw},set:function(t){this.ZP.bw=t}},{key:"Tg",get:function(){return this.ZP.Tg},set:function(t){this.ZP.Tg=t}},{key:"pg",get:function(){return this.ZP.pg}},{key:"pw",get:function(){return this.ZP.pw}},{key:"Sg",get:function(){return this.ZP.Sg}},{key:"_w",get:function(){return this.ZP._w}},{key:"fu",get:function(){return this.ZP.fu}},{key:"kw",get:function(){return this.ZP.kw}},{key:"Tw",get:function(){return this.ZP.Tw},set:function(t){var n=Boolean(t);this.bP(n)}},{key:"Sw",get:function(){return this.ZP.Sw}},{key:"Ew",get:function(){return this.ZP.Ew},set:function(t){this.ZP.Ew=t}},{key:"Pg",get:function(){return this.ZP.Pg}},{key:"xg",get:function(){return this.ZP.xg},set:function(t){this.ZP.xg=Bk(t)}},{key:"Ml",get:function(){return this.ZP.Ml}},{key:"Lg",get:function(){return this.ZP.Lg}},{key:"Rw",get:function(){return this.ZP.Rw}},{key:"Tl",get:function(){return this.qg}},{key:"Iw",get:function(){return this.ZP.Iw}},{key:"Dw",get:function(){return this.ZP.Dw}},{key:"Cw",get:function(){return this.ZP.Cw},set:function(t){var n=kn(Number(t),0,1)||0;this.LP(n)}},{key:"Bg",get:function(){return this.ZP.Bg}}]),n}(eg);function aR(t){t.sources;var n=t.sources.filter(function(t){return Dt(t.integration)});return t.sources=n,t}!function(t){t[t.vL=0]="vL",t[t.dL=1]="dL"}(eR||(eR={})),function(t){t[t.lL=0]="lL"}(rR||(rR={}));var fR={};function hR(t,n){var i=t;if(fR[n])for(var e=0,r=fR[n];e<r.length;e++){i=(0,r[e])(i)}return i}var vR=[];function dR(t){vR.push(t)}var lR=t.CustomEvent;var wR=function(){try{var t=new lR("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?function(t,n){return new CustomEvent(t,n)}:function(t,n){var i=e.createEvent("CustomEvent");return i.initCustomEvent(t,(null==n?void 0:n.bubbles)||!1,(null==n?void 0:n.cancelable)||!1,null==n?void 0:n.detail),i},gR=function(){function t(t,n){var i=this;this.mI=void 0,this.wL=void 0,this.gL=!1,this.yL=function(t){i.wL.uO(t.error,i.bw)},this.mL=function(){i.wL.iO(i.bL),i.mI.removeEventListener("playing",i.mL),i.gL=!1},this.pL=function(){i.gL||(i.mI.addEventListener("playing",i.mL),i.gL=!0)},this.wL=n,this.mI=t,this.mI.addEventListener("error",this.yL),this.mI.addEventListener("sourcechange",this.pL),this.pL()}return t.prototype.fl=function(){},ft(t,[{key:"bw",get:function(){var t=this.mI.currentTime;return"number"==typeof t&&isFinite(t)?t:"now"}},{key:"bL",get:function(){return this.mI.src||""}}]),t}();dR(function(t){new gR(t.Pd,t.qx)});var yR,mR,bR="theoplayer-stored-volume",pR="theoplayer-stored-mutedstate";yR=function(t){return function(t){function n(n,i){var e;if(e=t.call(this,n,i)||this,i.persistVolume){var r=YE.lx(bR);(void 0===r||g(r))&&(r=1);var u=YE.wx(pR)||!1;e.Cw=r,e.Tw=u}return e}vt(n,t);var i=n.prototype;return i.bP=function(n){this.lc.persistVolume&&YE.aa(pR,""+Boolean(n)),t.prototype.bP.call(this,n)},i.LP=function(n){this.lc.persistVolume&&YE.aa(bR,""+Number(n)),t.prototype.LP.call(this,n)},n}(t)},mR=eR.dL,(fR[mR]||(fR[mR]=[])).push(yR);var _R=new(function(){function t(){this._L=[],this.Ad=void 0}var n=t.prototype;return n.sl=function(t){return this._L[t]},n.kL=function(t){this._L.push(t),this.Pd.push(t.Pd)},n.uc=function(t){var n=this._L.indexOf(t);n<0||(cu(this._L,n),this.Ad&&cu(this.Ad,n))},n.TL=function(t){for(var n=0,i=this._L;n<i.length;n++){var e=i[n];if(e.Tl===t)return e}},ft(t,[{key:"vl",get:function(){return this._L.length}},{key:"Pd",get:function(){return this.Ad||(this.Ad=function(t){for(var n=[],i=0;i<t.vl;i++)n[i]=t.sl(i).Pd;return n.getPlayerByUID=function(n){var i=t.TL(n);return i&&i.Pd},n}(this)),this.Ad}}]),t}()),kR=function(){function t(t){var n=this;this.SL=[],this.EL=void 0,this.Xf=new vu,this.RL=void 0,this.IL=function(){return 0===n.SL.length?n.RL?TR(n.RL,n.Xf.zr).then(n.DL,n.DL):n.DL():n.SL.shift()().then(n.IL)},this.DL=function(){if(0!==n.SL.length)return n.IL();n.EL=void 0},this.RL=t}var n=t.prototype;return n.CL=function(t,n){var i=this;return new j(function(e){var r=new vu;r.Hr(i.Xf.zr),n&&r.Hr(n);var u=function(){r.Lr()};i.SL.push(function(){var n=TR(t,r.zr);return e(n),n.then(u,u)}),i.EL||(i.EL=i.IL())})},n.Wr=function(){return this.NL(!0)},n.et=function(){return this.RL=void 0,this.NL(!1)},n.NL=function(t){var n=this.EL;return this.Xf.Wr(),t&&(this.Xf=new vu),j.resolve(n)},t}();function TR(t,n){return new j(function(i){return i(t(n))})}var SR,ER=function(t){function n(n){var i;return(i=t.call(this,Kc.Ha)||this).source=n,i}return vt(n,t),n}(Cu),RR=function(t){function n(){var n;return(n=t.call(this)||this).yD=void 0,n.bD=void 0,n._D=void 0,n.pD=void 0,n.yD=0,n.bD=!0,n._D=!1,n.pD=1,n}vt(n,t);var i=n.prototype;return i.Y=function(){this.bD&&(this.bD=!1,this.Yr(new Ng(this.bw)),this.Yr(new Jb(this.bw)))},i.K=function(){this.bD||(this.bD=!0,this.Yr(new Mg(this.bw,this.Tg)),this.Yr(new Cg(this.bw)))},i.fl=function(){this.yD=0,this._D=!1,this.pD=1,this.K(),this.Yr(new Dg(this.yD))},i.et=function(){this.Zr()},i.dg=function(){},i.vg=function(){},ft(n,[{key:"Tg",get:function(){},set:function(t){}},{key:"bw",get:function(){return this.yD},set:function(t){this._D&&this.yD===t||(this.yD=t,this._D=!0,this.Yr(new Vg(this.bw)))}},{key:"Sw",get:function(){return this.bD}},{key:"Ew",get:function(){return this.pD},set:function(t){this.pD!==t&&(this.pD=t,this.Yr(new Bg(this.bw,this.Ew)))}},{key:"Ml",get:function(){return vg.cw}},{key:"Rw",get:function(){return this._D}}]),n}(ig),IR=function(t){function n(){return t.call(this,Kc.ma)||this}return vt(n,t),n}(Cu),DR={zIndex:"1",display:"inline-block",verticalAlign:"middle",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"contain",cursor:"pointer",margin:"0",padding:"0",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",height:"100%"},CR={visibility:"hidden"},NR={visibility:"visible"},OR=function(){function t(t){var n,i=this;this.dI=void 0,this.mI=void 0,this.OL=!1,this.AL=void 0,this.PL=void 0,this.xL=function(t){var n;i.OL=!1,i.AL=null==(n=t.source)?void 0:n.poster,i.sc()},this.HT=function(){i.OL=!0,i.dg()},this.mI=t,this.kI(),this.dI=((n=Z&&Z.document&&Z.document.createElement("div")).className="theoplayer-poster",je(DR,n),n),t.Sg.appendChild(this.dI)}var n=t.prototype;return n.sc=function(){var t=this.mI.Sw,n=this.OL;this.jh?this.dI.style.backgroundImage='url("'+this.jh.replace(/[\\"]/g,function(t){return"\\"+t})+'")':this.dI.style.backgroundImage="",t&&this.jh&&!n?this.vg():this.dg()},n.vg=function(){je(CR,this.mI.Sg),je(NR,this.dI)},n.dg=function(){je(CR,this.dI),je(NR,this.mI.Sg)},n.kI=function(){this.mI.Kr("sourcechange",this.xL),this.mI.Kr("play",this.HT)},n.et=function(){this.mI.tu("sourcechange",this.xL),this.mI.tu("play",this.HT),ze(this.dI)},ft(t,[{key:"jh",get:function(){return void 0!==this.AL?this.AL:void 0!==this.PL?this.PL:void 0}},{key:"LL",set:function(t){this.PL=t,this.sc()}}]),t}();function AR(t){return function(i){function e(n,e){var r;return(r=i.call(this,n)||this).mI=void 0,r.BL=void 0,r.ML=void 0,r.FL=void 0,r.UL=void 0,r.VL=void 0,r.WL=void 0,r.HL=void 0,r._I=void 0,r.pI=void 0,r.nR=void 0,r.DD=void 0,r.Ad=void 0,r.qL=function(t){t.type!==Kc.Aa&&r.HL.push(t)},r.BL=new t(n,e),r.ML=new RR,r.mI=r.BL,r.FL=new OR(Cn(r)),r.VL=new kR,r.WL=!1,r.HL=[],r._I=!0,r.kI(),r}vt(e,i);var r=e.prototype;return r.CL=function(t,n){return lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",this.VL.CL(t,n).catch(yu));case 1:case"end":return i.stop()}},null,this,null,j)},r.zL=function(t,n){return lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return wu(n),this.BL.Qr(this.qL),i.next=4,lr.awrap(this.BL.sg(t,n));case 4:this.BL.eu(this.qL);case 5:case"end":return i.stop()}},null,this,null,j)},r.jL=function(){var t,n,i;return lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if((t=this.ug())&&!UT(t)&&this.Qw&&this.Sw){e.next=3;break}return e.abrupt("return");case 3:return n=t.mutedAutoplay||this.lc.mutedAutoplay,e.next=6,lr.awrap(this.oL.ut());case 6:i=e.sent,e.t0=i,e.next="all"===e.t0?10:"muted"===e.t0?12:14;break;case 10:return this.$L(),e.abrupt("break",14);case 12:return(this.Tw||n===Og.ALL)&&(this.Tw=!0,this.Y()),e.abrupt("break",14);case 14:case"end":return e.stop()}},null,this,null,j)},r.sg=function(t){var i=this,e=this.pI;e&&!UT(e)&&this.Yr(new Dg(0,0)),this.fl(),this.pI=t,ku(this.CL(function(e){return lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return wu(e),r.prev=1,r.next=4,lr.awrap(i.zL(t,e));case 4:r.next=11;break;case 6:return r.prev=6,r.t0=r.catch(1),i.pI=void 0,i.hR((u=r.t0,s=n.ErrorCode.SOURCE_NOT_SUPPORTED,u instanceof Nc?u:u instanceof f?new Nc(s,u.message,u):new Nc(s,String(u)))),r.abrupt("return");case 11:return r.next=13,lr.awrap(i.XL());case 13:case"end":return r.stop()}var u,s},null,null,[[1,6]],j)}))},r.XL=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.GL(this.BL),this.Yr(new ER(this.ug())),t.next=4,lr.awrap(this.jL());case 4:case"end":return t.stop()}},null,this,null,j)},r.hP=function(t){this.mI.bw=t},r.wP=function(){var t;return null!=(t=this.DD)?t:this.BL.fu},r.gP=function(){var t;return null!=(t=this.nR)?t:this.BL.kw},r.hR=function(t){void 0===this.gP()&&(this.nR=t,this.DD=yy(t),this.Yr(new $g(t)))},r.Y=function(){this.mI.Y()},r.$L=function(){this.Tw||this.st(),this.Y()},r.st=function(){this.BL.st()},r.K=function(){this.mI.K()},r.rg=function(){this.sg(void 0)},r.vg=function(){this._I=!0,this.mI.vg()},r.dg=function(){this._I=!1,this.mI.dg()},r.uL=function(){this.BL.uL()},r.LP=function(t){this.BL.LP(t)},r.bP=function(t){this.BL.bP(t)},r.YL=function(t){this.UL=t,t.kL(this)},r.lD=function(){return this.BL.lD()},r.ug=function(){return this.pI},r.lg=function(){return this.BL.lg()},r.fP=function(){return this.BL.bw},r.vP=function(){return this.BL.pw},r.sP=function(){return this.BL.kg},r.SP=function(){return this.BL.Pg},r.DP=function(){return this.BL.Lg},r.fl=function(){var t=this;this.pI=void 0,this.nR=void 0,this.DD=void 0,fu(this.HL),this.ML.fl(),this.GL(this.ML),this.VL.Wr(),ku(this.VL.CL(function(n){return lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return wu(n),i.next=3,lr.awrap(t.BL.fl());case 3:case"end":return i.stop()}},null,null,null,j)}))},r.et=function(){var t=this;this.Yr(new IR),this.FL.et(),this.TI(),this.fl(),ku(this.CL(function(){return lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,lr.awrap(t.BL.et());case 2:t.UL&&(t.UL.uc(t),t.UL=void 0),t.VL.et();case 4:case"end":return n.stop()}},null,null,null,j)})),this.Zr()},r.GL=function(t){if(this.mI!==t){var n=this.mI.Sw,i=this.mI.bw,e=this.mI.Ew,r=this.mI.Rw;this.TI(),t===this.BL?((r||t.bw!==i)&&(t.bw=i),t.Ew!==e&&(t.Ew=e),n?t.K():t.Y()):this.lc.retainPlaybackRateOnSourceChange?t.Ew=e:1!==e&&this.Yr(new Bg(this.fP(),1)),this.mI=t,this.kI();for(var u=0,s=this.HL;u<s.length;u++){var o=s[u];this.Yr(o)}fu(this.HL),this._I?t.vg():t.dg()}},r.kI=function(){this.mI.Qr(this.Gr)},r.TI=function(){this.mI.eu(this.Gr)},r.xd=function(){return t=this,e=function(n){i=n;var e=KT(n,t.lc);t.sg(e)},r={get abr(){return t.sL.Pd},get audioTracks(){return t.tg.Pd},get autoplay(){return t.Qw},set autoplay(n){t.Qw=Boolean(n)},get buffered(){return t.sP()},get canvas(){return t.zx.Pd},get clip(){return t.rL.Pd},get currentProgramDateTime(){var n;return null!=(n=t.Tg)?n:null},set currentProgramDateTime(n){t.Tg=null!=n?n:void 0},get currentTime(){return t.fP()},set currentTime(n){t.hP(Number(n))},get duration(){return t.vP()},get element(){return t.Sg},get ended(){return t._w},get error(){return t.wP()},get errorObject(){return t.gP()},get loop(){return t.KP.KP},set loop(n){t.KP.KP=Boolean(n)},get metrics(){return t.Hw.Pd},get muted(){return t.Tw},set muted(n){t.bP(n)},get network(){return t.fL.Pd},get paused(){return t.Sw},get playbackRate(){return t.Ew},set playbackRate(n){var i=Number(n);if(i<0)throw new RangeError("playbackRate must be a positive number");t.Ew=i},get played(){return t.SP()},get poster(){return t.KL},set poster(n){t.KL=Fw(n)},get preload(){return t.xg},set preload(n){t.xg=n},get presentation(){return t.jx.Pd},get readyState(){return t.Ml},get seekable(){return t.DP()},get seeking(){return t.Rw},get source(){return i},set source(t){e(t)},get src(){return VT(t.ug())},set src(t){e({sources:t})},get textTracks(){return t.ig.Pd},get textTrackStyle(){return t.hL.Pd},get uid(){return t.Tl},get videoHeight(){return t.Iw},get videoTracks(){return t.ng.Pd},get videoWidth(){return t.Dw},get volume(){return t.Cw},set volume(n){t.LP(Number(n))},get latency(){return t.Bg.Pd},destroy:function(){t.et(),t=null,i=void 0},play:function(){t.$L()},pause:function(){t.K()},stop:function(){i=void 0,t.rg()},prepareWithUserAction:function(){t.st()},addEventListener:function(t,i){n.Kr(t,i)},removeEventListener:function(t,i){n.tu(t,i)},setSource:function(t){e(t)}},(n=new fT(r,!0)).BD(t),r;var t,n,i,e,r},ft(e,[{key:"qx",get:function(){return this.BL.qx}},{key:"zx",get:function(){return this.BL.zx}},{key:"lc",get:function(){return this.BL.lc}},{key:"Hx",get:function(){return this.BL.Hx}},{key:"Id",get:function(){return this.BL.Id}},{key:"UR",get:function(){return this.BL.Xx}},{key:"jx",get:function(){return this.BL.jx}},{key:"$x",get:function(){return this.BL.$x}},{key:"ZP",get:function(){return this.BL.ZP}},{key:"sL",get:function(){return this.BL.sL}},{key:"Qw",get:function(){return this.BL.Qw},set:function(t){this.BL.Qw=t,this.jL()}},{key:"oL",get:function(){return this.BL.oL}},{key:"tg",get:function(){return this.BL.tg}},{key:"cL",get:function(){return this.BL.cL}},{key:"aL",get:function(){return this.BL.$x}},{key:"Pd",get:function(){return this.Ad||(this.Ad=this.xd()),this.Ad}},{key:"eg",get:function(){return this.BL.eg}},{key:"Hw",get:function(){return this.BL.Hw}},{key:"fL",get:function(){return this.BL.fL}},{key:"ig",get:function(){return this.BL.ig}},{key:"hL",get:function(){return this.BL.hL}},{key:"ng",get:function(){return this.BL.ng}},{key:"rL",get:function(){return this.BL.rL}},{key:"KP",get:function(){return this.BL.KP}},{key:"Tg",get:function(){return this.mI.Tg},set:function(t){this.mI.Tg=t}},{key:"pg",get:function(){return this.BL.pg}},{key:"Sg",get:function(){return this.BL.Sg}},{key:"_w",get:function(){return this.BL._w}},{key:"Tw",get:function(){return this.BL.Tw},set:function(t){this.BL.Tw=t}},{key:"Sw",get:function(){return this.mI.Sw}},{key:"KL",get:function(){return this.FL.jh||""},set:function(t){this.FL.LL=t}},{key:"Ew",get:function(){return this.BL.Ew},set:function(t){this.mI.Ew=t}},{key:"xg",get:function(){return this.BL.xg},set:function(t){this.BL.xg=Bk(t)}},{key:"Ml",get:function(){return this.mI.Ml}},{key:"Rw",get:function(){return this.mI.Rw}},{key:"Tl",get:function(){return this.BL.Tl}},{key:"Iw",get:function(){return this.BL.Iw}},{key:"Dw",get:function(){return this.BL.Dw}},{key:"Cw",get:function(){return this.BL.Cw},set:function(t){this.BL.Cw=t}},{key:"Bg",get:function(){return this.BL.Bg}}]),e}(eg)}function PR(t,n){var i=Gg(n),e=new(SR||(SR=hR(SR=AR(cR),eR.vL),SR=hR(SR,eR.dL)),SR)(t,i),r=e.Pd;return e.uL(),e.YL(_R),v.defineProperty(r,"constructor",{value:PR}),r=Dw(r),function(t){for(var n=0;n<vR.length;n++)(0,vR[n])(t)}(e),r}_u(function(){t.dispatchEvent&&t.dispatchEvent(wR("theoplayerready"))});var xR={base64:new(function(){function t(){}var n=t.prototype;return n.encode=function(t){return ju(t)},n.decode=function(t){return qu(t)},t}())},LR=_R.Pd,BR=Ip.xS.registerContentProtectionIntegration.bind(Ip.xS),MR=function(){this.fairplayController=void 0,this.cache=void 0,this.dai=void 0},FR=function(){function t(){this.internalDict={}}var n=t.prototype;return n.register=function(t){this.internalDict[t.uid]=t},n.get=function(t){return this.internalDict[t]},n.remove=function(t){delete this.internalDict[t]},t}(),UR={exports:{}};!function(t,n){function i(t,n){var i=[],e=[];return null==n&&(n=function(t,n){return i[0]===n?"[Circular ~]":"[Circular ~."+e.slice(0,i.indexOf(n)).join(".")+"]"}),function(r,u){if(i.length>0){var s=i.indexOf(this);~s?i.splice(s+1):i.push(this),~s?e.splice(s,1/0,r):e.push(r),~i.indexOf(u)&&(u=n.call(this,r,u))}else i.push(u);return null==t?u:t.call(this,r,u)}}(t.exports=function(t,n,e,r){return JSON.stringify(t,i(n,r),e)}).getSerialize=i}(UR,UR.exports);var VR=UR.exports;function WR(t,n){return void 0!==n&&null!=n&&"function"==typeof n.start&&"function"==typeof n.end&&"number"==typeof n.length?function(t){for(var n=[],i=0;i<t.length;i++)n[i]={start:t.start(i),end:t.end(i)};return n}(n):n}function HR(t){return JSON.stringify(t,UR.exports.getSerialize(WR))}var qR={},zR={};!function(t){v.defineProperty(t,"__esModule",{value:!0}),t.CHAR="\t\n\r -\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",t.S=" \t\r\n",t.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NAME_CHAR="-"+t.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.CHAR_RE=new RegExp("^["+t.CHAR+"]$","u"),t.S_RE=new RegExp("^["+t.S+"]+$","u"),t.NAME_START_CHAR_RE=new RegExp("^["+t.NAME_START_CHAR+"]$","u"),t.NAME_CHAR_RE=new RegExp("^["+t.NAME_CHAR+"]$","u"),t.NAME_RE=new RegExp("^["+t.NAME_START_CHAR+"]["+t.NAME_CHAR+"]*$","u"),t.NMTOKEN_RE=new RegExp("^["+t.NAME_CHAR+"]+$","u");var n=9,i=10,e=13,r=32;function u(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}t.S_LIST=[r,i,e,n],t.isChar=function(t){return t>=r&&t<=55295||t===i||t===e||t===n||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isS=function(t){return t===r||t===i||t===e||t===n},t.isNameStartChar=u,t.isNameChar=function(t){return u(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}(zR);var jR={};!function(t){v.defineProperty(t,"__esModule",{value:!0}),t.CHAR="\x01-\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",t.RESTRICTED_CHAR="\x01-\b\v\f\x0e-\x1f\x7f-\x84\x86-\x9f",t.S=" \t\r\n",t.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NAME_CHAR="-"+t.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.CHAR_RE=new RegExp("^["+t.CHAR+"]$","u"),t.RESTRICTED_CHAR_RE=new RegExp("^["+t.RESTRICTED_CHAR+"]$","u"),t.S_RE=new RegExp("^["+t.S+"]+$","u"),t.NAME_START_CHAR_RE=new RegExp("^["+t.NAME_START_CHAR+"]$","u"),t.NAME_CHAR_RE=new RegExp("^["+t.NAME_CHAR+"]$","u"),t.NAME_RE=new RegExp("^["+t.NAME_START_CHAR+"]["+t.NAME_CHAR+"]*$","u"),t.NMTOKEN_RE=new RegExp("^["+t.NAME_CHAR+"]+$","u");var n=9,i=10,e=13,r=32;function u(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}t.S_LIST=[r,i,e,n],t.isChar=function(t){return t>=1&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isRestrictedChar=function(t){return t>=1&&t<=8||11===t||12===t||t>=14&&t<=31||t>=127&&t<=132||t>=134&&t<=159},t.isCharAndNotRestricted=function(t){return 9===t||10===t||13===t||t>31&&t<127||133===t||t>159&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isS=function(t){return t===r||t===i||t===e||t===n},t.isNameStartChar=u,t.isNameChar=function(t){return u(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}(jR);var $R={};!function(t){function n(t){return t>=65&&t<=90||95===t||t>=97&&t<=122||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}v.defineProperty(t,"__esModule",{value:!0}),t.NC_NAME_START_CHAR="A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NC_NAME_CHAR="-"+t.NC_NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.NC_NAME_START_CHAR_RE=new RegExp("^["+t.NC_NAME_START_CHAR+"]$","u"),t.NC_NAME_CHAR_RE=new RegExp("^["+t.NC_NAME_CHAR+"]$","u"),t.NC_NAME_RE=new RegExp("^["+t.NC_NAME_START_CHAR+"]["+t.NC_NAME_CHAR+"]*$","u"),t.isNCNameStartChar=n,t.isNCNameChar=function(t){return n(t)||45===t||46===t||t>=48&&t<=57||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}($R),v.defineProperty(qR,"__esModule",{value:!0});var XR=zR.isS,GR=zR.isChar,YR=zR.isNameStartChar,KR=zR.isNameChar,JR=zR.S_LIST,QR=zR.NAME_RE,ZR=jR.isChar,tI=$R.isNCNameStartChar,nI=$R.isNCNameChar,iI=$R.NC_NAME_RE;const eI="http://www.w3.org/XML/1998/namespace",rI="http://www.w3.org/2000/xmlns/",uI={__proto__:null,xml:eI,xmlns:rI},sI={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},oI=-1,cI=-2,aI=0,fI=1,hI=2,vI=3,dI=4,lI=5,wI=6,gI=7,yI=8,mI=9,bI=10,pI=11,_I=12,kI=13,TI=14,SI=15,EI=16,RI=17,II=18,DI=19,CI=20,NI=21,OI=22,AI=23,PI=24,xI=25,LI=26,BI=27,MI=28,FI=29,UI=30,VI=31,WI=32,HI=33,qI=34,zI=35,jI=36,$I=37,XI=38,GI=39,YI=40,KI=41,JI=42,QI=43,ZI=44,tD=9,nD=10,iD=13,eD=32,rD=33,uD=38,sD=45,oD=47,cD=59,aD=60,fD=61,hD=62,vD=63,dD=91,lD=93,wD=133,gD=8232,yD=t=>34===t||39===t,mD=[34,39],bD=[...mD,dD,hD],pD=[...mD,aD,lD],_D=[fD,vD,...JR],kD=[...JR,hD,uD,aD];function TD(t,n,i){switch(n){case"xml":i!==eI&&t.fail(`xml prefix must be bound to ${eI}.`);break;case"xmlns":i!==rI&&t.fail(`xmlns prefix must be bound to ${rI}.`)}switch(i){case rI:t.fail(""===n?`the default namespace may not be set to ${i}.`:`may not assign a prefix (even "xmlns") to the URI ${rI}.`);break;case eI:switch(n){case"xml":break;case"":t.fail(`the default namespace may not be set to ${i}.`);break;default:t.fail("may not assign the xml namespace to another prefix.")}}}const SD=t=>iI.test(t),ED=t=>QR.test(t),RD=0,ID=1,DD=2;qR.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const CD={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};var ND=qR.SaxesParser=class{constructor(t){this.opt=null!=t?t:{},this.fragmentOpt=!!this.opt.fragment;const n=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=!1!==this.opt.position,this.fileName=this.opt.fileName,n){this.nameStartCheck=tI,this.nameCheck=nI,this.isName=SD,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=v.assign({__proto__:null},uI);const t=this.opt.additionalNamespaces;null!=t&&(function(t,n){for(const i of v.keys(n))TD(t,i,n[i])}(this,t),v.assign(this.ns,t))}else this.nameStartCheck=YR,this.nameCheck=KR,this.isName=ED,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this.$u}_init(){var t;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=RD,this.attribList=[];const{fragmentOpt:n}=this;this.state=n?kI:aI,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=n,this.xmlDeclPossible=!n,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:i}=this.opt;if(void 0===i){if(!0===this.opt.forceXMLVersion)throw new f("forceXMLVersion set but defaultXMLVersion is not set");i="1.0"}this.setXMLVersion(i),this.positionAtNewLine=0,this.doctype=!1,this.$u=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=v.create(sI),null===(t=this.readyHandler)||void 0===t||t.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(t,n){this[CD[t]]=n}off(t){this[CD[t]]=void 0}makeError(t){var n;let i=null!==(n=this.fileName)&&void 0!==n?n:"";return this.trackPosition&&(i.length>0&&(i+=":"),i+=`${this.line}:${this.column}`),i.length>0&&(i+=": "),new f(i+t)}fail(t){const n=this.makeError(t),i=this.errorHandler;if(void 0===i)throw n;return i(n),this}write(t){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let n=!1;null===t?(n=!0,t=""):"object"==typeof t&&(t=t.toString()),void 0!==this.carriedFromPrevious&&(t=`${this.carriedFromPrevious}${t}`,this.carriedFromPrevious=void 0);let i=t.length;const e=t.charCodeAt(i-1);!n&&(e===iD||e>=55296&&e<=56319)&&(this.carriedFromPrevious=t[i-1],i--,t=t.slice(0,i));const{stateTable:r}=this;for(this.chunk=t,this.i=0;this.i<i;)r[this.state].call(this);return this.chunkPosition+=i,n?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return oI;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>=eD||i===tD)return i;switch(i){case nD:return this.line++,this.column=0,this.positionAtNewLine=this.position,nD;case iD:return t.charCodeAt(n+1)===nD&&(this.i=n+2),this.line++,this.column=0,this.positionAtNewLine=this.position,cI;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const e=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,e>1114111&&this.fail("disallowed character."),e}getCode11(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return oI;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>31&&i<127||i>159&&i!==gD||i===tD)return i;switch(i){case nD:return this.line++,this.column=0,this.positionAtNewLine=this.position,nD;case iD:{const i=t.charCodeAt(n+1);i!==nD&&i!==wD||(this.i=n+2)}case wD:case gD:return this.line++,this.column=0,this.positionAtNewLine=this.position,cI;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const e=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,e>1114111&&this.fail("disallowed character."),e}getCodeNorm(){const t=this.getCode();return t===cI?nD:t}unget(){this.i=this.prevI,this.column--}captureTo(t){let{i:n}=this;const{chunk:i}=this;for(;;){const e=this.getCode(),r=e===cI,u=r?nD:e;if(u===oI||t.includes(u))return this.text+=i.slice(n,this.prevI),u;r&&(this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i)}}captureToChar(t){let{i:n}=this;const{chunk:i}=this;for(;;){let e=this.getCode();switch(e){case cI:this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i,e=nD;break;case oI:return this.text+=i.slice(n),!1}if(e===t)return this.text+=i.slice(n,this.prevI),!0}}captureNameChars(){const{chunk:t,i:n}=this;for(;;){const i=this.getCode();if(i===oI)return this.name+=t.slice(n),oI;if(!KR(i))return this.name+=t.slice(n,this.prevI),i===cI?nD:i}}skipSpaces(){for(;;){const t=this.getCodeNorm();if(t===oI||!XR(t))return t}}setXMLVersion(t){this.currentXMLVersion=t,"1.0"===t?(this.isChar=GR,this.getCode=this.getCode10):(this.isChar=ZR,this.getCode=this.getCode11)}sBegin(){65279===this.chunk.charCodeAt(0)&&(this.i++,this.column++),this.state=fI}sBeginWhitespace(){const t=this.i,n=this.skipSpaces();switch(this.prevI!==t&&(this.xmlDeclPossible=!1),n){case aD:if(this.state=SI,0!==this.text.length)throw new f("no-empty text at start");break;case oI:break;default:this.unget(),this.state=kI,this.xmlDeclPossible=!1}}sDoctype(){var t;const n=this.captureTo(bD);switch(n){case hD:null===(t=this.doctypeHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=kI,this.doctype=!0;break;case oI:break;default:this.text+=String.fromCodePoint(n),n===dD?this.state=dI:yD(n)&&(this.state=vI,this.q=n)}}sDoctypeQuote(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.q=null,this.state=hI)}sDTD(){const t=this.captureTo(pD);t!==oI&&(this.text+=String.fromCodePoint(t),t===lD?this.state=hI:t===aD?this.state=wI:yD(t)&&(this.state=lI,this.q=t))}sDTDQuoted(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.state=dI,this.q=null)}sDTDOpenWaka(){const t=this.getCodeNorm();switch(this.text+=String.fromCodePoint(t),t){case rD:this.state=gI,this.openWakaBang="";break;case vD:this.state=pI;break;default:this.state=dI}}sDTDOpenWakaBang(){const t=String.fromCodePoint(this.getCodeNorm()),n=this.openWakaBang+=t;this.text+=t,"-"!==n&&(this.state="--"===n?yI:dI,this.openWakaBang="")}sDTDComment(){this.captureToChar(sD)&&(this.text+="-",this.state=mI)}sDTDCommentEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),this.state=t===sD?bI:yI}sDTDCommentEnded(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===hD?this.state=dI:(this.fail("malformed comment."),this.state=yI)}sDTDPI(){this.captureToChar(vD)&&(this.text+="?",this.state=_I)}sDTDPIEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===hD&&(this.state=dI)}sText(){0!==this.tags.length?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:t}=this;const{chunk:n}=this;t:for(;;)switch(this.getCode()){case cI:this.entity+=`${n.slice(t,this.prevI)}\n`,t=this.i;break;case cD:{const{entityReturnState:i}=this,e=this.entity+n.slice(t,this.prevI);let r;this.state=i,""===e?(this.fail("empty entity name."),r="&;"):(r=this.parseEntity(e),this.entity=""),i===kI&&void 0===this.textHandler||(this.text+=r);break t}case oI:this.entity+=n.slice(t);break t}}sOpenWaka(){const t=this.getCode();if(YR(t))this.state=qI,this.unget(),this.xmlDeclPossible=!1;else switch(t){case oD:this.state=QI,this.xmlDeclPossible=!1;break;case rD:this.state=EI,this.openWakaBang="",this.xmlDeclPossible=!1;break;case vD:this.state=AI;break;default:this.fail("disallowed character in tag name"),this.state=kI,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=CI,this.openWakaBang="";break;case"--":this.state=RI,this.openWakaBang="";break;case"DOCTYPE":this.state=hI,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(sD)&&(this.state=II)}sCommentEnding(){var t;const n=this.getCodeNorm();n===sD?(this.state=DI,null===(t=this.commentHandler)||void 0===t||t.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(n)}`,this.state=RI)}sCommentEnded(){const t=this.getCodeNorm();t!==hD?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(t)}`,this.state=RI):this.state=kI}sCData(){this.captureToChar(lD)&&(this.state=NI)}sCDataEnding(){const t=this.getCodeNorm();t===lD?this.state=OI:(this.text+=`]${String.fromCodePoint(t)}`,this.state=CI)}sCDataEnding2(){var t;const n=this.getCodeNorm();switch(n){case hD:null===(t=this.cdataHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=kI;break;case lD:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(n)}`,this.state=CI}}sPIFirstChar(){const t=this.getCodeNorm();this.nameStartCheck(t)?(this.piTarget+=String.fromCodePoint(t),this.state=PI):t===vD||XR(t)?(this.fail("processing instruction without a target."),this.state=t===vD?LI:xI):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(t),this.state=PI)}sPIRest(){const{chunk:t,i:n}=this;for(;;){const i=this.getCodeNorm();if(i===oI)return void(this.piTarget+=t.slice(n));if(!this.nameCheck(i)){this.piTarget+=t.slice(n,this.prevI);const e=i===vD;e||XR(i)?"xml"===this.piTarget?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=e?HI:BI):this.state=e?LI:xI:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(i));break}}}sPIBody(){if(0===this.text.length){const t=this.getCodeNorm();t===vD?this.state=LI:XR(t)||(this.text=String.fromCodePoint(t))}else this.captureToChar(vD)&&(this.state=LI)}sPIEnding(){var t;const n=this.getCodeNorm();if(n===hD){const{piTarget:n}=this;"xml"===n.toLowerCase()&&this.fail("the XML declaration must appear at the start of the document."),null===(t=this.piHandler)||void 0===t||t.call(this,{target:n,body:this.text}),this.piTarget=this.text="",this.state=kI}else n===vD?this.text+="?":(this.text+=`?${String.fromCodePoint(n)}`,this.state=xI);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const t=this.skipSpaces();t!==vD?t!==oI&&(this.state=MI,this.name=String.fromCodePoint(t)):this.state=HI}sXMLDeclName(){const t=this.captureTo(_D);if(t===vD)return this.state=HI,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(XR(t)||t===fD){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=t===fD?UI:FI}}sXMLDeclEq(){const t=this.getCodeNorm();if(t===vD)return this.state=HI,void this.fail("XML declaration is incomplete.");XR(t)||(t!==fD&&this.fail("value required."),this.state=UI)}sXMLDeclValueStart(){const t=this.getCodeNorm();if(t===vD)return this.state=HI,void this.fail("XML declaration is incomplete.");XR(t)||(yD(t)?this.q=t:(this.fail("value must be quoted."),this.q=eD),this.state=VI)}sXMLDeclValue(){const t=this.captureTo([this.q,vD]);if(t===vD)return this.state=HI,this.text="",void this.fail("XML declaration is incomplete.");if(t===oI)return;const n=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const t=n;this.xmlDecl.version=t,/^1\.[0-9]+$/.test(t)?this.opt.forceXMLVersion||this.setXMLVersion(t):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(n)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=n;break;case"standalone":"yes"!==n&&"no"!==n&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=n}this.name="",this.state=WI}sXMLDeclSeparator(){const t=this.getCodeNorm();t!==vD?(XR(t)||(this.fail("whitespace required."),this.unget()),this.state=BI):this.state=HI}sXMLDeclEnding(){var t;this.getCodeNorm()===hD?("xml"!==this.piTarget?this.fail("processing instructions are not allowed before root."):"version"!==this.name&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),null===(t=this.xmldeclHandler)||void 0===t||t.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=kI):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var t;const n=this.captureNameChars();if(n===oI)return;const i=this.tag={name:this.name,attributes:v.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=i.ns=v.create(null)),null===(t=this.openTagStartHandler)||void 0===t||t.call(this,i),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),n){case hD:this.openTag();break;case oD:this.state=zI;break;default:XR(n)||this.fail("disallowed character in tag name."),this.state=jI}}sOpenTagSlash(){this.getCode()===hD?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=jI)}sAttrib(){const t=this.skipSpaces();t!==oI&&(YR(t)?(this.unget(),this.state=$I):t===hD?this.openTag():t===oD?this.state=zI:this.fail("disallowed character in attribute name."))}sAttribName(){const t=this.captureNameChars();t===fD?this.state=GI:XR(t)?this.state=XI:t===hD?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):t!==oI&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const t=this.skipSpaces();switch(t){case oI:return;case fD:this.state=GI;break;default:this.fail("attribute without value."),this.text="",this.name="",t===hD?this.openTag():YR(t)?(this.unget(),this.state=$I):(this.fail("disallowed character in attribute name."),this.state=jI)}}sAttribValue(){const t=this.getCodeNorm();yD(t)?(this.q=t,this.state=YI):XR(t)||(this.fail("unquoted attribute value."),this.state=JI,this.unget())}sAttribValueQuoted(){const{q:t,chunk:n}=this;let{i:i}=this;for(;;)switch(this.getCode()){case t:return this.pushAttrib(this.name,this.text+n.slice(i,this.prevI)),this.name=this.text="",this.q=null,void(this.state=KI);case uD:return this.text+=n.slice(i,this.prevI),this.state=TI,void(this.entityReturnState=YI);case nD:case cI:case tD:this.text+=`${n.slice(i,this.prevI)} `,i=this.i;break;case aD:return this.text+=n.slice(i,this.prevI),void this.fail("disallowed character.");case oI:return void(this.text+=n.slice(i))}}sAttribValueClosed(){const t=this.getCodeNorm();XR(t)?this.state=jI:t===hD?this.openTag():t===oD?this.state=zI:YR(t)?(this.fail("no whitespace between attributes."),this.unget(),this.state=$I):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const t=this.captureTo(kD);switch(t){case uD:this.state=TI,this.entityReturnState=JI;break;case aD:this.fail("disallowed character.");break;case oI:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",t===hD?this.openTag():this.state=jI}}sCloseTag(){const t=this.captureNameChars();t===hD?this.closeTag():XR(t)?this.state=ZI:t!==oI&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case hD:this.closeTag();break;case oI:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:t,forbiddenState:n}=this;const{chunk:i,textHandler:e}=this;t:for(;;)switch(this.getCode()){case aD:if(this.state=SI,void 0!==e){const{text:n}=this,r=i.slice(t,this.prevI);0!==n.length?(e(n+r),this.text=""):0!==r.length&&e(r)}n=RD;break t;case uD:this.state=TI,this.entityReturnState=kI,void 0!==e&&(this.text+=i.slice(t,this.prevI)),n=RD;break t;case lD:switch(n){case RD:n=ID;break;case ID:n=DD;break;case DD:break;default:throw new f("impossible state")}break;case hD:n===DD&&this.fail('the string "]]>" is disallowed in char data.'),n=RD;break;case cI:void 0!==e&&(this.text+=`${i.slice(t,this.prevI)}\n`),t=this.i,n=RD;break;case oI:void 0!==e&&(this.text+=i.slice(t));break t;default:n=RD}this.forbiddenState=n}handleTextOutsideRoot(){let{i:t}=this;const{chunk:n,textHandler:i}=this;let e=!1;t:for(;;){const r=this.getCode();switch(r){case aD:if(this.state=SI,void 0!==i){const{text:e}=this,r=n.slice(t,this.prevI);0!==e.length?(i(e+r),this.text=""):0!==r.length&&i(r)}break t;case uD:this.state=TI,this.entityReturnState=kI,void 0!==i&&(this.text+=n.slice(t,this.prevI)),e=!0;break t;case cI:void 0!==i&&(this.text+=`${n.slice(t,this.prevI)}\n`),t=this.i;break;case oI:void 0!==i&&(this.text+=n.slice(t));break t;default:XR(r)||(e=!0)}}e&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(t,n){var i;const{prefix:e,local:r}=this.qname(t),u={name:t,prefix:e,local:r,value:n};if(this.attribList.push(u),null===(i=this.attributeHandler)||void 0===i||i.call(this,u),"xmlns"===e){const t=n.trim();"1.0"===this.currentXMLVersion&&""===t&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[r]=t,TD(this,r,t)}else if("xmlns"===t){const t=n.trim();this.topNS[""]=t,TD(this,"",t)}}pushAttribPlain(t,n){var i;const e={name:t,value:n};this.attribList.push(e),null===(i=this.attributeHandler)||void 0===i||i.call(this,e)}end(){var t,n;this.sawRoot||this.fail("document must contain a root element.");const{tags:i}=this;for(;i.length>0;){const t=i.pop();this.fail(`unclosed tag: ${t.name}`)}this.state!==aI&&this.state!==kI&&this.fail("unexpected end.");const{text:e}=this;return 0!==e.length&&(null===(t=this.textHandler)||void 0===t||t.call(this,e),this.text=""),this.$u=!0,null===(n=this.endHandler)||void 0===n||n.call(this),this._init(),this}resolve(t){var n,i;let e=this.topNS[t];if(void 0!==e)return e;const{tags:r}=this;for(let n=r.length-1;n>=0;n--)if(void 0!==(e=r[n].ns[t]))return e;return void 0!==(e=this.ns[t])?e:null===(i=(n=this.opt).resolvePrefix)||void 0===i?void 0:i.call(n,t)}qname(t){const n=t.indexOf(":");if(-1===n)return{prefix:"",local:t};const i=t.slice(n+1),e=t.slice(0,n);return(""===e||""===i||i.includes(":"))&&this.fail(`malformed name: ${t}.`),{prefix:e,local:i}}processAttribsNS(){var t;const{attribList:n}=this,i=this.tag;{const{prefix:n,local:e}=this.qname(i.name);i.prefix=n,i.local=e;const r=i.uri=null!==(t=this.resolve(n))&&void 0!==t?t:"";""!==n&&("xmlns"===n&&this.fail('tags may not have "xmlns" as prefix.'),""===r&&(this.fail(`unbound namespace prefix: ${JSON.stringify(n)}.`),i.uri=n))}if(0===n.length)return;const{attributes:e}=i,r=new Set;for(const t of n){const{name:n,prefix:i,local:u}=t;let s,o;""===i?(s="xmlns"===n?rI:"",o=n):(void 0===(s=this.resolve(i))&&(this.fail(`unbound namespace prefix: ${JSON.stringify(i)}.`),s=i),o=`{${s}}${u}`),r.has(o)&&this.fail(`duplicate attribute: ${o}.`),r.add(o),t.uri=s,e[n]=t}this.attribList=[]}processAttribsPlain(){const{attribList:t}=this,n=this.tag.attributes;for(const{name:i,value:e}of t)void 0!==n[i]&&this.fail(`duplicate attribute: ${i}.`),n[i]=e;this.attribList=[]}openTag(){var t;this.processAttribs();const{tags:n}=this,i=this.tag;i.isSelfClosing=!1,null===(t=this.openTagHandler)||void 0===t||t.call(this,i),n.push(i),this.state=kI,this.name=""}openSelfClosingTag(){var t,n,i;this.processAttribs();const{tags:e}=this,r=this.tag;r.isSelfClosing=!0,null===(t=this.openTagHandler)||void 0===t||t.call(this,r),null===(n=this.closeTagHandler)||void 0===n||n.call(this,r),null===(this.tag=null!==(i=e[e.length-1])&&void 0!==i?i:null)&&(this.closedRoot=!0),this.state=kI,this.name=""}closeTag(){const{tags:t,name:n}=this;if(this.state=kI,this.name="",""===n)return this.fail("weird empty close tag."),void(this.text+="</>");const i=this.closeTagHandler;let e=t.length;for(;e-- >0;){const e=this.tag=t.pop();if(this.topNS=e.ns,null==i||i(e),e.name===n)break;this.fail("unexpected close tag.")}0===e?this.closedRoot=!0:e<0&&(this.fail(`unmatched closing tag: ${n}.`),this.text+=`</${n}>`)}parseEntity(t){if("#"!==t[0]){const n=this.ENTITIES[t];return void 0!==n?n:(this.fail(this.isName(t)?"undefined entity.":"disallowed character in entity name."),`&${t};`)}let n=NaN;return"x"===t[1]&&/^#x[0-9a-f]+$/i.test(t)?n=l(t.slice(2),16):/^#[0-9]+$/.test(t)&&(n=l(t.slice(1),10)),this.isChar(n)?String.fromCodePoint(n):(this.fail("malformed character entity."),`&${t};`)}},OD=function(){function t(){}return t.prototype.oi=function(t){var n=new ND({xmlns:!0,defaultXMLVersion:"1.0",forceXMLVersion:!0}),i=new FD,e=[i];function r(t){e[e.length-1].ki(t)}return n.on("text",function(t){e.length>1&&r(new BD(t))}),n.on("cdata",function(t){r(new MD(t))}),n.on("opentag",function(t){for(var n=t.local,i=t.uri,u=t.prefix,s=new xD({hi:n,di:""===i?void 0:i,JL:""===u?void 0:u}),o=t.attributes,c=0,a=v.keys(o);c<a.length;c++){var f=o[a[c]],h=f.prefix,d=f.local,l=f.uri,w=f.value,g=new AD({hi:d,wi:w,di:""===l?void 0:l,JL:""===h?void 0:h});s.QL(g)}r(s),e.push(s)}),n.on("closetag",function(){e.pop()}),n.on("error",function(t){throw new An(t)}),n.write(t).close(),i},t}(),AD=function(){function t(t){this.ZL=void 0,this.tB=void 0,this.nB=void 0,this.g=void 0,this.ZL=t.hi,this.g=t.wi,this.tB=t.di,this.nB=t.JL}var n=t.prototype;return n.ai=function(t){return this===t||!!VD(this,t)&&(this.ZL===t.ZL&&this.tB===t.tB&&this.nB===t.nB&&this.g===t.g)},n.fi=function(){return new t({hi:this.hi,wi:this.wi,di:this.di,JL:this.li})},ft(t,[{key:"ni",get:function(){return In.ei}},{key:"hi",get:function(){return this.ZL}},{key:"vi",get:function(){return void 0===this.nB?this.ZL:this.nB+":"+this.ZL}},{key:"di",get:function(){return this.tB}},{key:"li",get:function(){return this.nB}},{key:"wi",get:function(){return this.g}}]),t}(),PD=function(){function t(){this.yi=[]}var n=t.prototype;return n.mi=function(t){return this.yi.filter(function(n){return UD(n)&&n.pi===t})},n._i=function(t,n){return this.yi.filter(function(i){return UD(i)&&i.hi===n&&i.di===t})},n.ki=function(t){this.yi.push(t)},ft(t,[{key:"bi",get:function(){return this.yi}},{key:"Si",get:function(){return this.yi.filter(UD)}}]),t}(),xD=function(t){function n(n){var i;return(i=t.call(this)||this).ZL=void 0,i.tB=void 0,i.nB=void 0,i.iB=[],i.ZL=n.hi,i.tB=n.di,i.nB=n.JL,i}vt(n,t);var i=n.prototype;return i.eB=function(t){for(var n=0,i=this.bi;n<i.length;n++){var e=i[n];UD(e)?e.eB(t):t.push(e.Pi)}},i.Ri=function(t,n){for(var i=0,e=this.iB;i<e.length;i++){var r=e[i];if(r.hi===n&&r.di===t)return r.wi}},i.Ei=function(t){for(var n=0,i=this.iB;n<i.length;n++){var e=i[n];if(e.vi===t)return e.wi}},i.QL=function(t){this.iB.push(t)},i.Ii=function(t){for(var n=0;n<this.iB.length;n++)if(this.iB[n].vi===t)return void this.iB.splice(n,1)},i.Di=function(t,n){for(var i=0;i<this.iB.length;i++)if(this.iB[i].hi===n&&this.iB[i].di===t)return void this.iB.splice(i,1)},i.Ci=function(t,n){this.Ii(t),this.QL(new AD({hi:t,wi:n}))},i.Ni=function(t,n,i){this.Ii(n);var e=n.split(":");this.QL(new AD({hi:e[e.length-1],wi:i,di:t,JL:e.length>1?e[0]:void 0}))},i.fi=function(t){var i=new n({hi:this.hi,di:this.di,JL:this.li});return this.Oi.forEach(function(t){return i.QL(t.fi())}),t&&this.bi.forEach(function(n){return i.ki(n.fi(t))}),i},i.ai=function(t){return this===t||!!VD(this,t)&&(this.ZL===t.ZL&&this.nB===t.nB&&this.tB===t.tB&&(WD(this.Oi,t.Oi)&&WD(this.bi,t.bi)))},ft(n,[{key:"ni",get:function(){return In.ii}},{key:"Oi",get:function(){return this.iB}},{key:"hi",get:function(){return this.ZL}},{key:"di",get:function(){return this.tB}},{key:"li",get:function(){return this.nB}},{key:"pi",get:function(){return void 0===this.nB?this.ZL:this.nB+":"+this.ZL}},{key:"Ai",get:function(){var t=[];return this.eB(t),t.join("")}}]),n}(PD),LD=function(){function t(t){this.P=void 0,this.P=t}return ft(t,[{key:"Pi",get:function(){return this.P}}]),t}(),BD=function(t){function n(n){return t.call(this,n)||this}vt(n,t);var i=n.prototype;return i.fi=function(){return new n(this.Pi)},i.ai=function(t){return this===t||!!VD(this,t)&&this.Pi===t.Pi},ft(n,[{key:"ni",get:function(){return In.ri}}]),n}(LD),MD=function(t){function n(n){return t.call(this,n)||this}vt(n,t);var i=n.prototype;return i.fi=function(){return new n(this.Pi)},i.ai=function(t){return this===t||!!VD(this,t)&&this.Pi===t.Pi},ft(n,[{key:"ni",get:function(){return In.ui}}]),n}(LD),FD=function(t){function n(){return t.apply(this,arguments)||this}vt(n,t);var i=n.prototype;return i.fi=function(t){var i=new n;return t&&this.bi.forEach(function(n){return i.ki(n.fi(t))}),i},i.ai=function(t){return this===t||!!VD(this,t)&&WD(this.bi,t.bi)},ft(n,[{key:"ni",get:function(){return In.si}},{key:"xi",get:function(){return this.Si[0]}}]),n}(PD);function UD(t){return Dn(t)}function VD(t,n){return t.ni===n.ni}function WD(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++)if(!t[i].ai(n[i]))return!1;return!0}var HD,qD=["adBreak"],zD=["adBreak"];function jD(t){return void 0===t.adBreak||void 0===t.adBreak.ads?t:wr({},t,{adBreak:wr({},t.adBreak,{ads:t.adBreak.ads.map(function(t){return t.adBreak,_p(t,qD)})})})}function $D(t){return void 0===t.ads?t:wr({},t,{ads:t.ads.map(function(t){return t.adBreak,_p(t,zD)})})}function XD(t){return"string"==typeof t.date?new Date(t.date):t.date}function GD(t){var n;return t.cue.track?(n=KD(t.cue,t.cue.track.type)).track={uid:t.cue.track.uid}:n=KD(t.cue,""),n}function YD(t){var n=[];return function t(i){if(Array.isArray(i))return i.map(t);if("object"==typeof i&&null!==i&&v.keys(i).length){if(n.includes(i))return"[Circular ~]";n.push(i);var e=v.entries(i);return v.fromEntries(e.map(function(i){var e=i[0],r=i[1],u=t(r);return"object"==typeof r&&null!==r&&"[Circular ~]"!==u&&n.pop(r),[e,u]}))}return i}(t)}function KD(t,n){var i={};return i.content=t.content,i.endTime=t.endTime,i.startTime=t.startTime,i.id=t.id,i.uid=t.uid,function(){switch(n){case"webvtt":i.align=t.align,i.line=t.line,i.lineAlign=t.lineAlign,i.position=t.position,i.positionAlign=t.positionAlign,i.region=t.region,i.size=t.size,i.snapToLines=t.snapToLines,i.text=t.text,i.vertical=t.vertical;break;case"ttml":i.content=function t(n){var i=n.children;if(0!==i.length)for(var e=0;e<i.length;e++){var r=i.item(e);return"image"===r.nodeName||"smpte:image"===r.nodeName?r:t(r)}}(t.content).innerHTML;for(var e=t.content,r={};e.firstChild&&e.firstChild.outerHTML;){(new OD).oi(e.firstChild.outerHTML).xi.Oi.forEach(function(t){r[t.hi]=t.wi}),e=e.firstChild}i.ttmlAttributes=r;break;case"daterange":var u={};for(var s in t.customAttributes){var o=t.customAttributes[s];if("object"==typeof(a=o)&&null!==a){var c=JD(o);u[s]={type:HD.rB,value:c}}else ZD(o)?u[s]={type:HD.uB,value:o}:u[s]={type:HD.sB,value:String(o)}}i.attributedClass=String(t.class),i.startDate=t.startDate,i.endDate=t.endDate,i.duration=t.duration,i.plannedDuration=t.plannedDuration,i.endOnNext=t.endOnNext,i.scte35Cmd=JD(t.scte35Cmd),i.scte35Out=JD(t.scte35Out),i.scte35In=JD(t.scte35In),i.customAttributes=u}var a}(),i}function JD(t){if(void 0!==t)return ju(t)}function QD(t){var n={};if(n.kind=t.kind,n.language=t.language,n.label=t.label,n.id=t.id,n.uid=t.uid,n.src=t.src,"cues"in t){n.inBandMetadataTrackDispatchType=t.inBandMetadataTrackDispatchType,n.mode=t.mode,n.type=t.type;var i=[];if(t.cues)for(var e=0;e<t.cues.length;e++){var r=t.cues[e];i.push(KD(r,t.type))}n.cues=i;var u=[];if(t.activeCues)for(var s=0;s<t.activeCues.length;s++){var o=t.activeCues[s];u.push(KD(o,t.type))}n.activeCues=u}else"enabled"in t&&(n.enabled=t.enabled);return n}function ZD(t){return"number"==typeof t}!function(t){t.sB="daterange-ca-type_string",t.uB="daterange-ca-type_number",t.rB="daterange-ca-type_arraybuffer"}(HD||(HD={}));var tC={cue:function(t){var n={};switch(n.date=XD(t),n.type=t.type,t.type){case"enter":case"exit":case"update":n.cue=GD(t)}return n},textTrack:function(t){var n={};switch(n.date=XD(t),n.type=t.type,t.type){case"addcue":var i=t.cue;rC().register(i);var e=eC()[uC()].eventListeners;t.cue.addEventListener("enter",function(t){e.InternalCueHelperEvent(t)}),t.cue.addEventListener("exit",function(t){e.InternalCueHelperEvent(t)}),t.cue.addEventListener("update",function(t){e.InternalCueHelperEvent(t)});case"removecue":case"entercue":case"exitcue":n.cue=GD(t);break;case"cuechange":for(var r=[],u=0;u<t.track.activeCues.length;u++){var s=t.track.activeCues[u];r.push(KD(s,t.track.type))}n.track={activeCues:r,uid:t.track.uid}}return n},textTrackList:function(t){var n,i={track:QD(t.track),date:XD(t),type:t.type},e=null==(n=t.track)?void 0:n.cues,r=rC();if(e)switch(t.type){case"addtrack":e.forEach(r.register);break;case"removetrack":e.forEach(function(t){return r.remove(t.uid)})}return i},default:function(t){var n={};switch(n.date=XD(t),n.type=t.type,t.type){case"play":case"playing":case"pause":case"seeking":case"seeked":case"ended":case"waiting":case Kc.za:n.currentTime=t.currentTime,n.volume=t.volume;break;case"emptied":n.currentTime=t.currentTime;break;case"timeupdate":n.currentTime=t.currentTime,n.currentProgramDateTime=t.currentProgramDateTime;break;case"progress":n.currentTime=t.currentTime;break;case"ratechange":n.currentTime=t.currentTime,n.playbackRate=t.playbackRate;break;case"durationchange":n.duration=t.duration;break;case"sourcechange":n.source=t.source;break;case"readystatechange":case"loadedmetadata":case"loadeddata":case"loadstart":case"canplay":case"canplaythrough":n.currentTime=t.currentTime,n.readyState=t.readyState;break;case"error":n.error=t.error,n.errorObject=wr({name:t.errorObject.name,cause:t.errorObject.cause},t.errorObject);break;case"addtrack":case"removetrack":case"change":n.track=QD(t.track);break;case"adbreakbegin":case"adbreakend":n.ad=$D(t.ad);break;case"adloaded":case"adimpression":n.ad=jD(t.ad);break;case"aderror":t.oB&&(n.oB=t.oB),t.message&&(n.message=t.message);break;case"statechange":n.state=t.state;break;case"presentationmodechange":case"resize":break;case"adfirstquartile":case"admidpoint":case"adthirdquartile":case"adbegin":case"adend":n.currentTime=t.currentTime,n.ad=jD(t.ad)}return YD(n)},minimizeCueHelper:function(t){var n={};return n.date=XD(t),n.type=t.type,n.cue=GD(t),n.track={uid:t.cue.track.uid},n},adReplacer:jD,adBreakReplacer:$D,removeCircularReferences:YD},nC=function(){this.stringify=HR,this.minimize=tC};function iC(){return Z.self}function eC(){return iC().THEOplayerBridge}function rC(){return iC().THEOCueMirrorMap}function uC(){return iC().THEOplayerGlobalID}function sC(){var t=iC();if(t.THEOplayerBridge){var n=new MR;t.THEOplayerBridge=Nw(n,t.THEOplayerBridge)}else t.THEOplayerBridge=new MR;t.THEOplayerUtils||(t.THEOplayerUtils=new nC),t.THEOCueMirrorMap||(t.THEOCueMirrorMap=new FR)}sC();var oC=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.oi=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new An(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new An;return new cC(n)},n}(Pn),cC=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.fi=function(t){return new n(this.gi.cloneNode(t))},ft(n,[{key:"bi",get:function(){return void 0===this.yi&&(this.yi=hC(this.gi.childNodes)),this.yi}},{key:"xi",get:function(){return new aC(this.gi.documentElement)}}]),n}(Vn),aC=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.fi=function(t){var i=new n(this.gi.cloneNode(t));return i.Oi.length<1&&this.Oi.length>0&&this.Oi.forEach(function(t){i.Ci(t.vi,t.wi)}),i},ft(n,[{key:"bi",get:function(){return void 0===this.yi&&(this.yi=hC(this.gi.childNodes)),this.yi}}]),n}(Bn);function fC(t){switch(t.nodeType){case In.ii:return new aC(t)}return Hn(t)}function hC(t){for(var n=[],i=0;i<t.length;i++){var e=fC(t.item(i));e&&n.push(e)}return n}dt(new(function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).cB=new oC,n}return vt(n,t),n.prototype.oi=function(t){return this.cB.oi(t)},n}(ww)));var vC=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).type=n,e.detail=i,e}return vt(n,t),n}(Cu),dC=function(t){function n(){return t.apply(this,arguments)||this}vt(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.Yr(new vC(t,n))},i.addEventListener=function(t,n){this.Kr(t,n)},i.removeEventListener=function(t,n){this.tu(t,n)},n}(eg);function lC(t,n){return t.ey<=n&&t.uy>n}function wC(t,n){return function(t,n){return ru(t.ey,n.ey,Hy)}(t,n)||function(t,n){return ru(t.uy,n.uy,Hy)}(t,n)}function gC(t,n){var i=function(t,n,i,e,r,u,s){void 0===r&&(r=!1),void 0===u&&(u=0),void 0===s&&(s=t.length);for(var o=u,c=s-1;o<=c;){var a=o+(c-o>>1),f=e(i(t[a]),n);if(f<0)o=a+1;else if(f>0)c=a-1;else{if(!(r&&a>u&&0===e(i(t[a-1]),n)))return a;c=a-1}}return~o}(t,n,Ft,wC,!0);if(i<0)return i;for(;i<t.length&&wC(n,t[i])===Qr.Ir;i++)if(t[i].yy(n))return i;return-(i+1)}function yC(t){var n=t.Ld;if(!n)return-1;if(t instanceof qy)return n.aB(t);var i=n.Fl;if(!i)return-1;var e=gC(i.hl,t);return e>=0?e:-1}var mC=function(t){function n(n,i){var e;return(e=t.call(this,Py.Qg,n)||this).Dm=i,e}return vt(n,t),n.prototype.xd=function(){return new bC(this.iy.Pd)},n}(By),bC=function(t){function n(n){return t.call(this,"enter",n)||this}return vt(n,t),n}(My),pC=function(t){function n(n,i){var e;return(e=t.call(this,Py.ty,n)||this).Dm=i,e}return vt(n,t),n.prototype.xd=function(){return new _C(this.iy.Pd)},n}(By),_C=function(t){function n(n){return t.call(this,"exit",n)||this}return vt(n,t),n}(My),kC=function(t){function n(n){var i;return(i=t.call(this,yw.Vd)||this).iy=n,i}return vt(n,t),n.prototype.xd=function(){return new TC(this.iy.Pd)},n}(mw),TC=function(t){function n(n){var i;return(i=t.call(this,"entercue")||this).cue=n,i}return vt(n,t),n}(bw),SC=function(t){function n(n){var i;return(i=t.call(this,yw.Hd)||this).iy=n,i}return vt(n,t),n.prototype.xd=function(){return new EC(this.iy.Pd)},n}(mw),EC=function(t){function n(n){var i;return(i=t.call(this,"exitcue")||this).cue=n,i}return vt(n,t),n}(bw),RC=function(t){function n(n){var i;return(i=t.call(this,yw.zd)||this).Ld=n,i}return vt(n,t),n.prototype.xd=function(){return new IC(this.Ld.Pd)},n}(mw),IC=function(t){function n(n){var i;return(i=t.call(this,"cuechange")||this).track=n,i}return vt(n,t),n}(bw);function DC(t,n){return eu(t.Dm,n.Dm)||function(t,n){return t.Ld===n.Ld?iu(yC(t),yC(n)):Ib(t.Ld,n.Ld)}(t.iy,n.iy)||function(t,n){return t===n?Qr.Ir:t===Py.Qg?Qr.Cr:Qr.Dr}(t.type,n.type)}var CC=function(){function t(t,n){var i=this;this.mI=void 0,this.fB=void 0,this.Kw=[],this.hB=0,this.vB=0,this.dB=[],this.lB=!1,this.wB=!1,this.gB=void 0,this.yB=function(){i.hB=0,i.mB(),i.bB()},this.pB=function(){i.mB(),i.bB()},this._B=function(){i.wB=!0,i.gB=i.mI.bw,i.kB()},this.TB=function(){i.mB(),i.bB()},this.SB=function(){i.EB(),i.mB(),i.bB()},this.RB=function(){i.IB()},this.DB=function(t){ou(i.dB,t.iy),i.IB()},this.fB=n,this.mI=t,t.Kr(Kc.qa,this.pB),t.Kr(Kc.Na,this.pB),t.Kr(Ig.mw,this.pB),t.Kr(Kc.Ca,this.pB),t.Kr(Kc.Ba,this._B),t.Kr(Kc.La,this.TB),this.IB()}var n=t.prototype;return n.fl=function(){fu(this.dB);for(var t=0,n=this.Kw.slice();t<n.length;t++){var i=n[t];this.cl(i)}this.kB(),this.hB=0,this.vB=0,this.lB=!1,this.wB=!1,this.gB=void 0},n.ol=function(t){au(this.Kw,t)||(this.Kw.push(t),t.Kr(yw.Bd,this.RB),t.Kr(yw.Fd,this.DB),t.Kr(yw.$d,this.SB),t.Fl.vl&&this.IB(),this.EB())},n.cl=function(t){if(ou(this.Kw,t)){if(t.tu(yw.Bd,this.RB),t.tu(yw.Fd,this.DB),t.tu(yw.$d,this.SB),t.Fl.vl){for(var n=0,i=t.Fl.hl;n<i.length;n++){var e=i[n];ou(this.dB,e)}this.IB()}this.EB()}},n.EB=function(){this.lB=this.Kw.some(function(t){return t.Ol!==Xw.xl})},n.bB=function(){this.mI.Rw||this.mI.Sw?this.kB():this.IB()},n.IB=function(){this.lB&&(this.hB||(this.hB=this.fB.V(this.yB)))},n.kB=function(){this.hB&&(this.fB.CB(this.hB),this.hB=0)},n.mB=function(){var t;if(this.lB&&!this.mI.Rw){var n=this.Kw,i=this.vB,e=null!=(t=this.gB)?t:this.mI.bw,r=e-i<-.1,u=this.wB||r;u&&e>i&&e-i<.1&&(u=!1),this.wB=!1,this.gB=void 0;for(var s,o=[],c=0;c<n.length;c++){var a=n[c];if(a.Ol!==Xw.xl){a.NB(e,u);for(var f=0,h=a.Ul.hl;f<h.length;f++){var v=h[f];o.push(v)}}}if(u)s=this.dB;else{s=[];for(var l=0;l<n.length;l++){var w=n[l];w.Ol!==Xw.xl&&Rb(w,i-1/6,e,s)}}for(var g=s.length-1;g>=0;g--)au(o,s[g])&&cu(s,g);var y=[];if(!u)for(var m=s.length-1;m>=0;m--){var b=s[m];b.ey>=i&&b.uy<=e&&(y.push(b),cu(s,m))}for(var p=[],_=[],k=0;k<y.length;k++){var T=y[k];T.my||p.push(new mC(T,T.ey)),p.push(new pC(T,d.max(T.ey,T.uy)))}for(var S=0,E=s;S<E.length;S++){var R=E[S];R.my&&(p.push(new pC(R,d.max(R.ey,R.uy))),R.my=!1)}for(var I=0;I<o.length;I++){var D=o[I];D.my||(p.push(new mC(D,D.ey)),D.my=!0)}p.sort(DC);for(var C=0;C<p.length;C++){var N=p[C],O=N.iy;O.Yr(N);var A=O.Ld;A&&(N.type===Py.Qg?A.Yr(new kC(O)):A.Yr(new SC(O)),au(_,A)||_.push(A))}_.sort(Ib);for(var P=0;P<_.length;P++){var x=_[P];x.Yr(new RC(x))}this.vB=e,this.dB=o}},n.et=function(){this.fl(),this.mI.tu(Kc.qa,this.pB),this.mI.tu(Kc.Na,this.pB),this.mI.tu(Ig.mw,this.pB),this.mI.tu(Kc.Ca,this.pB),this.mI.tu(Kc.Ba,this._B),this.mI.tu(Kc.La,this.TB)},t}(),NC=function(){function t(){}var n=t.prototype;return n.V=function(t){return YS(t)},n.CB=function(t){KS(t)},t}(),OC=new NC,AC=function(t){function n(n,i){return void 0===i&&(i=OC),t.call(this,n,i)||this}return vt(n,t),n}(CC),PC=function(t){function n(){return t.call(this,Kc.Sa)||this}return vt(n,t),n}(Cu),xC=function(t){function n(n){var i;return(i=t.call(this,Kc.Oa)||this).currentTime=n,i}return vt(n,t),n}(Cu),LC=function(t){function n(n,i){var e;return(e=t.call(this)||this).OB=void 0,e.AB=void 0,e.PB=function(t){e.OB.xB("THEOplayerABRSetTargetBuffer",t.BA),e.Yr(t)},e.LB=function(t){e.OB.xB("THEOplayerABRSetStrategy",t.FA),e.Yr(t)},e.OB=n,e.AB=i,e.AB.Kr("MA",e.PB),e.AB.Kr("UA",e.LB),e}return vt(n,t),n.prototype.KA=function(t){return this.AB.KA(t)},ft(n,[{key:"QA",get:function(){var t;switch(this.FA.type){case _E.PERFORMANCE:return 1;case _E.QUALITY:return 0;case _E.BANDWIDTH:return null!=(t=this.FA.metadata)&&t.bitrate&&!g(this.FA.metadata.bitrate)?this.FA.metadata.bitrate:0;default:return 0}}},{key:"Pd",get:function(){return this.AB.Pd}},{key:"FA",get:function(){return this.AB.FA},set:function(t){this.AB.FA=t}},{key:"BA",get:function(){return this.AB.BA},set:function(t){this.AB.BA=t}},{key:"JA",get:function(){return this.AB.JA}},{key:"VA",get:function(){return this.AB.VA},set:function(t){this.AB.VA=t}},{key:"HA",get:function(){return this.AB.HA}},{key:"OA",get:function(){return this.AB.OA}}]),n}(Iu),BC=function(){function t(t){this.BB=void 0,this.Ad=void 0,this.BB=t}var n=t.prototype;return n.xd=function(){return function(t){for(var n=[],i=0;i<t.vl;i++)n[i]=t.mu(i).Pd;return n.item=function(n){var i=0|n,e=t.mu(i);return e&&e.Pd||void 0},v.defineProperty(n,"constructor",{value:Uy}),n}(this)},n.Vg=function(t){for(var n=this.BB,i=n.length-1;i>=0;i-=1){var e=n[i];if(t.yy(e))return!0}return!1},n.mu=function(t){return this.BB[t]},ft(t,[{key:"hl",get:function(){return this.BB}},{key:"vl",get:function(){return this.BB.length}},{key:"Pd",get:function(){if(this.Ad){var t=this.BB;this.Ad.length=t.length;for(var n=0;n<t.length;n++)this.Ad[n]=t[n].Pd}else this.Ad=this.xd();return this.Ad}}]),t}(),MC=function(t){function n(n,i){var e;return(e=t.call(this,yw.Gd)||this).Ld=n,e.Ml=i,e}return vt(n,t),n.prototype.xd=function(){return new FC(this.Ld.Pd,tg(this.Ml))},n}(mw),FC=function(t){function n(n,i){var e;return(e=t.call(this,"readystatechange")||this).track=n,e.readyState=i,e}return vt(n,t),n}(bw),UC=function(t){function n(n){var i;return(i=t.call(this,yw.Kd)||this).Ld=n,i}return vt(n,t),n.prototype.xd=function(){return new VC(this.Ld.Pd)},n}(mw),VC=function(t){function n(n){var i;return(i=t.call(this,"typechange")||this).track=n,i}return vt(n,t),n}(bw),WC=function(t){function n(n){var i;return(i=t.call(this,yw.Bd)||this).iy=n,i}return vt(n,t),n.prototype.xd=function(){return new HC(this.iy.Pd)},n}(mw),HC=function(t){function n(n){var i;return(i=t.call(this,"addcue")||this).cue=n,i}return vt(n,t),n}(bw),qC=function(t){function n(n){var i;return(i=t.call(this,yw.Fd)||this).iy=n,i}return vt(n,t),n.prototype.xd=function(){return new zC(this.iy.Pd)},n}(mw),zC=function(t){function n(n){var i;return(i=t.call(this,"removecue")||this).cue=n,i}return vt(n,t),n}(bw),jC=function(t){function n(n,i,e,r,u,s,o,c){var a;return(a=t.call(this)||this).Ad=void 0,a.jo=void 0,a.qg=Sy(),a.MB=!1,a.FB=void 0,a.UB=void 0,a.Hg=void 0,a.xs=void 0,a.FD=Xw.xl,a.VB=Ny.NONE,a.WB=void 0,a.Li=void 0,a.HB=void 0,a.BB=[],a.qB=[],a.zB=void 0,a.jB=void 0,a.$B=0,a.XB=0,a.jo=i||"",a.FB=c||"",a.UB=n,a.xs=r||"",a.MB=Boolean(u),a.HB=Boolean(o),a.Li=s||Oy.DEFAULT,a.Hg=e||"",a.zB=new BC(a.BB),a.jB=new BC(a.qB),a}vt(n,t);var i=n.prototype;return i.GB=function(t){return su(this.zB.hl,function(n){return n.kl===t})},i.xd=function(){return Jw(this)},i.ZD=function(t){var n=function(t){if("string"==typeof t){var n=t.toLowerCase();switch(n){case Xw.xl:case Xw.Pl:case Xw.Al:return n}}else if("number"==typeof t)switch(t){case 0:return Xw.xl;case 1:return Xw.Pl;case 2:return Xw.Al}return Xw.xl}(t);n!==this.Ol&&(this.FD=n,n===Xw.xl&&(this.qB.forEach(function(t){t.my=!1}),fu(this.qB),this.XB=0),this.Yr(new Ew(this)))},i.RT=function(t){if(t&&!t.Ld){var n=gC(this.Fl.hl,t);if(!(n>=0)){t.Ld=this;var i=-(n+1);this.BB.splice(i,0,t),this.YB(i),t.gy=i,i<this.XB&&(this.XB=i),this.Yr(new WC(t))}}},i.hT=function(t){if(t&&t.Ld===this){var n=this.aB(t);if(!(n<0)){t.my=!1;var i=this.qB,e=gC(i,t);e>=0&&cu(i,e),cu(this.BB,n),this.YB(n),t.gy=-1,this.XB>n&&--this.XB,this.Yr(new qC(t))}}},i.NB=function(t,n){var i=this.qB,e=this.BB,r=this.XB,u=!1;n&&(r=0);for(var s=i.length-1;s>=0;s--){lC(i[s],t)||(u=!0,cu(i,s))}for(;r<e.length&&e[r].ey<=t;){var o=e[r];if(0===t)break;lC(o,t)&&!au(i,o)&&(u=!0,i.push(o)),r++}u&&tu(i,wC),this.XB=r},i.aB=function(t){return(-1===t.gy||t.gy>=this.$B)&&this.KB(),t.gy},i.KB=function(){for(var t=this.BB,n=this.$B;n<t.length;n++)t[n].gy=n;this.$B=t.length},i.YB=function(t){t<this.$B&&(this.$B=t)},i.Ll=function(t){this.Bl||(this.Ol=t)},i.et=function(){this.Zr();for(var t=this.BB.slice(),n=0;n<t.length;n++){t[n].et()}fu(this.BB),fu(this.qB)},ft(n,[{key:"Ul",get:function(){return this.jB}},{key:"Fl",get:function(){return this.zB}},{key:"DT",get:function(){return this.MB},set:function(t){this.MB=t}},{key:"Bl",get:function(){return this.HB}},{key:"Pd",get:function(){return this.Ad||(this.Ad=this.xd()),this.Ad}},{key:"kl",get:function(){return this.jo}},{key:"Tl",get:function(){return this.qg}},{key:"Nl",get:function(){return this.FB},set:function(t){this.FB=t}},{key:"Sl",get:function(){return this.UB}},{key:"El",get:function(){return this.Hg},set:function(t){t!==this.Hg&&(this.Hg=t,this.Yr(new _y(this)))}},{key:"Rl",get:function(){return this.xs}},{key:"Ol",get:function(){return this.FD},set:function(t){this.ZD(t)}},{key:"Ml",get:function(){return this.VB},set:function(t){this.VB!==t&&(this.VB=t,this.Yr(new MC(this,this.VB)))}},{key:"Vl",get:function(){return this.WB},set:function(t){this.WB=t}},{key:"gr",get:function(){return this.Li},set:function(t){this.Li!==t&&(this.Li=t,this.Yr(new UC(this)))}}]),n}(Iu);function $C(t,n,i){for(var e=t[n].ey,r=n;r>=0&&t[r].ey===e;r--)t[r].uy=i}var XC=function(t){function n(n,i,e){return t.call(this,n,1/0,i,!1,e)||this}return vt(n,t),n.prototype.yy=function(n){return this===n||Pw(this,n)&&t.prototype.yy.call(this,n)&&(i=n,this.sy===i.sy);var i},ft(n,[{key:"Pd",get:function(){return this.Ad||(this.Ad=Fy(this)),this.Ad}}]),n}(qy),GC=function(t){function n(n,i,e){return void 0===e&&(e=Oy.DEFAULT),t.call(this,bb.ep,"",i||"","",!1,e,!1,n)||this}return vt(n,t),n}(jC),YC=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).gr=Oy.ID3,e}vt(n,t);var i=n.prototype;return i.RT=function(n){!function(t,n){if(0!==n.length){var i=n.length-1;if(n[i].ey<t.ey)$C(n,i,t.ey);else{var e=n[0];if(e.ey>t.ey)t.uy=e.ey;else{var r=gC(n,t);if(!(r>=0)){var u=-(r+1),s=u-1;if(s>=0&&n[s].ey<t.ey&&$C(n,s,t.ey),u<n.length){var o=n[u];t.uy=o.ey}}}}}}(n,this.BB),t.prototype.RT.call(this,n)},i.xd=function(){return Jw(this)},n}(GC);Kc.Na,Kc.Ca,Ig.mw,Kc.qa,Kc.Oa,Kc.Sa,Kc.Ba,Kc.La,Kc._a,Kc.Aa,Kc.za,Kc.ba,Ig.Gd,Kc.xa,Gw.Cl,Ru.hu,Ru.du,Kc.ga,Kc.wa,Kc.ja;var KC,JC={JB:!1,QB:50},QC=function(){function t(t,n,i){this.Fc=void 0,this.kr=void 0,this.Yc=void 0,this.vc=void 0,this.Fc=t,this.kr=i,this.Yc=n}var n=t.prototype;return n.IT=function(t){throw new f("Not implemented yet.")},n.ZB=function(t,n){var i,e;return lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,lr.awrap(this.kr.Er(t.yr,n));case 2:return i=r.sent,r.next=5,lr.awrap(i._c());case 5:return e=r.sent,r.next=8,lr.awrap(this.tM(e));case 8:return r.abrupt("return",e);case 9:case"end":return r.stop()}},null,this,null,j)},n.nM=function(t){return!1},n.iM=function(t){return j.resolve(void 0)},n.Lr=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,lr.awrap(this.tM(void 0));case 2:case"end":return t.stop()}},null,this,null,j)},n.tM=function(t){var n;return lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n=this.eM(t),i.next=3,lr.awrap(n);case 3:case"end":return i.stop()}},null,this,null,j)},n.eM=function(t){var n;return lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!(n=this.vc)){i.next=5;break}return i.next=4,lr.awrap(n.mc(this.Yc));case 4:this.vc=void 0;case 5:if(!t){i.next=9;break}return i.next=8,lr.awrap(t.yc(this.Yc));case 8:this.vc=t;case 9:case"end":return i.stop()}},null,this,null,j)},n.ST=function(t,n,i){throw new f("Not implemented yet.")},ft(t,[{key:"lc",get:function(){return this.Fc}},{key:"xg",get:function(){throw new f("Not implemented yet.")},set:function(t){throw new f("Not implemented yet.")}},{key:"Lg",get:function(){return new Hk([0,1/0])}},{key:"ig",get:function(){throw new f("Not implemented yet.")}},{key:"rM",get:function(){throw new f("Not implemented yet")}},{key:"ng",get:function(){throw new f("Not implemented yet.")}},{key:"uM",get:function(){throw new f("Not implemented yet")}},{key:"sM",get:function(){throw new f("Not implemented yet")}}]),t}();!function(t){t.oM="webkitneedkey",t.cM="webkitkeymessage",t.aM="webkitkeyerror"}(KC||(KC={}));var ZC,tN,nN,iN,eN,rN,uN,sN,oN,cN,aN,fN=function(t){function n(n,i){var e;return(e=t.call(this,KC.oM)||this).initData=n,e.sessionId=i,e}return vt(n,t),n}(Cu),hN=function(t){function n(n,i){var e;return(e=t.call(this,KC.cM)||this).message=n,e.destinationURL=i,e}return vt(n,t),n}(Cu),vN=function(t){function n(){return t.call(this,KC.aM)||this}return vt(n,t),n}(Cu),dN=function(t){function n(n,i,e,r,u){var s;return(s=t.call(this)||this).Ec=new Fs,s.Uc=void 0,s.Dc=new Mu,s.Wc=new Fs,s.fM=function(t){s.Uc?(s.Uc.Lu(void 0),s.Uc=void 0):s.Pc("internal-error"),s.Yr(new xu)},s.hM=function(t){s.Uc&&(s.Uc.xu(void 0),s.Uc=void 0),s.Yr(new Pu(Cn(s),"license-request",Bs(t.message).buffer,t.destinationURL||void 0))},s.Lc=n,s.Zo=i,s.vM=e,s.Xc=r,s.qc=u,s}vt(n,t);var i=n.prototype;return i.ec=function(t,n,i){var e;return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=i&&i.fairplay&&i.fairplay.zc){t.next=3;break}throw new h("Expected FairPlay contentId to be defined but was "+e+".");case 3:return t.next=5,lr.awrap(this.dM(xs(n),e));case 5:this.Pc("usable"),this.Wc.xu(),this.Wc=new Fs;case 8:case"end":return t.stop()}},null,this,null,j)},i.rc=function(t){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},null,null,null,j)},i.sc=function(t){var n;return lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==(n=xs(t)).byteLength){i.next=3;break}throw new h("Cannot call update with an empty response.");case 3:return this.Uc=new Fs,this.vM.sc(this.Xc,n),i.next=7,lr.awrap(this.Uc.Ou);case 7:case"end":return i.stop()}},null,this,null,j)},i.ic=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,lr.awrap(this.Wc);case 2:return this.vM.tu(KC.cM,this.hM),this.vM.tu(KC.aM,this.fM),this.Wc.Wr(),this.Ec.xu(void 0),t.abrupt("return",this.Ec.Ou);case 7:case"end":return t.stop()}},null,this,null,j)},i.uc=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}},null,null,null,j)},i.dM=function(t,n){var i;return lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:i=Cc(t,n,this.qc),this.vM.Kr(KC.cM,this.hM),this.vM.Kr(KC.aM,this.fM),this.vM.lM(this.Xc,i);case 4:case"end":return e.stop()}},null,this,null,j)},i.Pc=function(t){this.Dc._u(),this.Dc.pu(Bu,t),this.Yr(new Au(this))},ft(n,[{key:"hc",get:function(){return this.Xc}},{key:"ac",get:function(){return NaN}},{key:"cc",get:function(){return this.Ec.Ou}},{key:"fc",get:function(){return this.Dc}}]),n}(Iu),lN=function(){function t(t,n,i){this.wM=void 0,this.Xc=void 0,this.qc=void 0,this.vM=void 0,this.Zo=void 0,this.Fc=void 0,this.Lc=void 0,this.vM=t,this.Zo=n,this.Fc=i;var e=lc(i)||"video/mp4";this.Lc=hc(e)}var i=t.prototype;return i.wc=function(t){var i;return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.qc){t.next=2;break}throw new Nc(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return i=new dN(this.Lc,this.Zo,this.vM,this.Xc,this.qc),this.wM=i,t.abrupt("return",i);case 5:case"end":return t.stop()}},null,this,null,j)},i.gc=function(t){return this.qc=xs(t),j.resolve(!0)},i.yc=function(t){return lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:t.webkitSetMediaKeys(this);case 1:case"end":return n.stop()}},null,this,null,j)},i.mc=function(t){return lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:t.webkitSetMediaKeys(null);case 1:case"end":return n.stop()}},null,null,null,j)},i.createSession=function(){throw new f("Whoops.")},ft(t,[{key:"dc",get:function(){return this.Zo}},{key:"lc",get:function(){return this.Fc}},{key:"sessionId",set:function(t){this.Xc=t}}]),t}(),wN=function(){function t(t,n,i){this.gM=t,this.Zo=n,this.Fc=i}var n=t.prototype;return n.kc=function(){return this.Fc},n._c=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new lN(this.gM,this.Zo,this.Fc));case 1:case"end":return t.stop()}},null,this,null,j)},ft(t,[{key:"dc",get:function(){return this.Zo}}]),t}(),gN=function(){function t(t){this.gM=void 0,this.gM=t}return t.prototype.Er=function(t,n){var i,e,r;return lr.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=0;case 1:if(!(i<n.length)){u.next=9;break}if(e=n[i],!(r=vc(yN,Ou,t,e))){u.next=6;break}return u.abrupt("return",new wN(this.gM,t,r));case 6:i++,u.next=1;break;case 9:throw new h("Unsupported key system configuration for "+t);case 10:case"end":return u.stop()}},null,this,null,j)},t}();function yN(t,n){return t===Mr}!function(t){t.HC="yM"}(ZC||(ZC={})),function(t){t.mM="bM"}(tN||(tN={})),tN.mM,function(t){t[t.pM=0]="pM",t[t.Ka=1]="Ka",t[t._M=2]="_M"}(nN||(nN={})),function(t){t.kM="TM"}(iN||(iN={})),function(t){t[t.SM=0]="SM",t[t.EM=1]="EM",t[t.RM=2]="RM"}(eN||(eN={})),function(t){t[t.IM=3]="IM",t[t.DM=4]="DM",t[t.CM=5]="CM"}(rN||(rN={})),function(t){t[t.NM=64]="NM",t[t.OM=103]="OM",t[t.AM=107]="AM"}(uN||(uN={})),function(t){t[t.PM=0]="PM",t[t.xM=1]="xM",t[t.OM=2]="OM",t[t.LM=5]="LM",t[t.BM=34]="BM"}(sN||(sN={})),St.Un,Kc.Na,Kc.Ca,Kc.Ba,Kc.La,Kc._a,Kc.Aa,Ig.Gd,Gw.Cl,St.Pn||St.xn,function(t){t.MM="closed",t.Tv="open",t._a="ended"}(oN||(oN={})),Kc.za,Kc.Aa,Kc.Ba,Kc.Na,Kc.Ca,Ig.Gd,Kc.Na,Kc.Ca,Kc.Ba,Kc.La,Kc._a,Gw.Cl,function(t){t[t.ISO_8859_1=0]="ISO_8859_1",t[t.UTF16_BOM=1]="UTF16_BOM",t[t.UTF16=2]="UTF16",t[t.UTF8=3]="UTF8"}(cN||(cN={})),function(t){t[t.V22=2]="V22",t[t.V23=3]="V23",t[t.V24=4]="V24"}(aN||(aN={}));var mN=function(t){function n(n,i){var e;return(e=t.call(this)||this).FM=new Tr,e.qE=function(t){var n;return lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if((n=t.Ld).gr){i.next=4;break}return i.next=4,lr.awrap(n.ru(yw.Kd));case 4:if(n.gr===Oy.ID3){i.next=6;break}return i.abrupt("return");case 6:if(0!==n.Fl.vl){i.next=11;break}return i.next=9,lr.awrap(n.ru(yw.Bd));case 9:i.next=6;break;case 11:e.UM(n);case 12:case"end":return i.stop()}},null,null,null,j)},e.zE=function(t){var n=t.Ld;if(n.gr===Oy.ID3&&e.FM.has(n.Tl)){var i=e.FM.get(n.Tl);e.cl(i),e.pT.IT(i),n.tu(yw.Bd,e.VM)}},e.VM=function(t){bN(t.iy)&&e.WM(t.iy)},e.pT=n,e.HM=i,e.qM(),e}vt(n,t);var i=n.prototype;return i.qM=function(){this.HM.Kr(dw.Dd,this.qE),this.HM.Kr(dw.Nd,this.zE)},i.zM=function(){this.HM.tu(dw.Dd,this.qE),this.HM.tu(dw.Nd,this.zE)},i.UM=function(t){var n=t.Fl.hl[0];if(bN(n)){var i=function(t){var n=t.match(RN);if(!n)return;return{Ld:n[1],Rl:n[2]}}(n.sy.description),e=i.Ld,r=i.Rl;if(!this.jM(e,r)){var u=this.pT.ST(bb.np,t.kl,e,r,!1,Oy.TTML);this.ol(u),this.FM.set(t.Tl,u);for(var s=0,o=t.Fl.hl;s<o.length;s++){var c=o[s];bN(c)&&this.WM(c)}t.Kr(yw.Bd,this.VM)}}},i.jM=function(t,n){return this.Kp.hl.some(function(i){return i.El===t&&i.Rl===n})},i.WM=function(t){if(t.Ld)for(var n=this.FM.get(t.Ld.Tl),i=ab(t.sy.text,0,{ub:0,sb:1/0,ob:t.ey}),e=0;e<i.length;e++){var r=i[e];n.RT(r)}},i.fl=function(){var n,i,e,r,u;return lr.async(function(s){for(;;)switch(s.prev=s.next){case 0:for(n=0,i=this.HM.hl;n<i.length;n++)i[n].tu(yw.Bd,this.VM);for(e=0,r=this.Kp.hl;e<r.length;e++)u=r[e],this.pT.IT(u);return this.FM.clear(),s.next=5,lr.awrap(t.prototype.fl.call(this));case 5:case"end":return s.stop()}},null,this,null,j)},i.et=function(){return lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.zM(),n.next=3,lr.awrap(t.prototype.et.call(this));case 3:case"end":return n.stop()}},null,this,null,j)},n}(Ab);function bN(t){return function(t){return"TXXX"===t.id||"TXX"===t.id}(n=t.sy)&&RN.test(n.description);var n}var pN,_N,kN,TN,SN,EN,RN=/^Track:(.+),Lang:(.+)$/;new(function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Ad=void 0,n}return vt(n,t),ft(n,[{key:"Pd",get:function(){return this.Ad||(this.Ad=iR(this)),this.Ad}},{key:"Ox",get:function(){}},{key:"Ax",get:function(){}},{key:"Px",get:function(){}},{key:"xx",get:function(){}},{key:"Lx",get:function(){}},{key:"Bx",get:function(){}},{key:"Mx",get:function(){}}]),n}(Iu)),function(t){t.$M='"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',t.XM='"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',t.GM='"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',t.YM='Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif'}(pN||(pN={})),function(t){t.BLACK="#000000",t.WHITE="#FFFFFF",t.GREEN="#00ff00",t.BLUE="#0000ff",t.CYAN="#00ffff",t.RED="#ff0000",t.YELLOW="#ffff00",t.MAGENTA="#ff00ff",t.TRANSPARENT="transparent"}(_N||(_N={})),function(t){var n=yr();for(var i in t)Et.call(t,i)&&n.set(i,t[i])}({monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:"monospace, sans-serif",monospaceSerif:"monospace, serif",proportionalSansSerif:"Arial",proportionalSerif:"Times New Roman",default:"monospace, sans-serif;"}),_N.WHITE,_N.TRANSPARENT,_N.TRANSPARENT,function(t){t.KM="Data",t.JM="Tag",t.QM="StartTag",t.ZM="StartTagClass",t.tF="StartTagAnnotation",t.nF="CharRefInAnnotation",t.iF="EndTag",t.eF="TimestampTag"}(kN||(kN={})),function(t){t.sB="string",t.rF="starttag",t.uF="endtag",t.sF="timestamp"}(TN||(TN={})),_N.WHITE,_N.TRANSPARENT,function(t){t.FONT_REGULAR="regular",t.FONT_UNDERLINE="underline",t.FONT_ITALICS="italics",t.FONT_UNDERLINE_ITALICS="underline-italics"}(SN||(SN={})),_N.WHITE,pN.GM,_N.BLACK,SN.FONT_REGULAR,_N.WHITE,SN.FONT_REGULAR,_N.WHITE,SN.FONT_UNDERLINE,_N.GREEN,SN.FONT_REGULAR,_N.GREEN,SN.FONT_UNDERLINE,_N.BLUE,SN.FONT_REGULAR,_N.BLUE,SN.FONT_UNDERLINE,_N.CYAN,SN.FONT_REGULAR,_N.CYAN,SN.FONT_UNDERLINE,_N.RED,SN.FONT_REGULAR,_N.RED,SN.FONT_UNDERLINE,_N.YELLOW,SN.FONT_REGULAR,_N.YELLOW,SN.FONT_UNDERLINE,_N.MAGENTA,SN.FONT_REGULAR,_N.MAGENTA,SN.FONT_UNDERLINE,_N.WHITE,SN.FONT_ITALICS,_N.WHITE,SN.FONT_UNDERLINE_ITALICS,_N.WHITE,SN.FONT_REGULAR,_N.WHITE,SN.FONT_UNDERLINE,_N.WHITE,SN.FONT_REGULAR,_N.WHITE,SN.FONT_UNDERLINE,_N.WHITE,SN.FONT_REGULAR,_N.WHITE,SN.FONT_UNDERLINE,_N.WHITE,SN.FONT_REGULAR,_N.WHITE,SN.FONT_UNDERLINE,_N.WHITE,SN.FONT_REGULAR,_N.WHITE,SN.FONT_UNDERLINE,_N.WHITE,SN.FONT_REGULAR,_N.WHITE,SN.FONT_UNDERLINE,_N.WHITE,SN.FONT_REGULAR,_N.WHITE,SN.FONT_UNDERLINE,_N.WHITE,SN.FONT_REGULAR,_N.WHITE,SN.FONT_UNDERLINE,function(t){t.oF="HELLO",t.cF="HI_THERE",t.aF="INITIALIZE",t.fF="APPEND_INIT",t.hF="APPEND_DATA",t.vF="ACK",t.dF="REMOVE",t.lF="DESTROY_SESSION"}(EN||(EN={}));var IN=Yy.im,DN=new Yy(-1/0),CN=Yy.Fm,NN=new(function(t){function n(n,i){return t.call(this,n,i)||this}vt(n,t);var i=n.prototype;return i.Fy=function(t,n){return t.qy(n)?Qr.Cr:t.yy(n)?Qr.Ir:Qr.Dr},i.Ug=function(t,n){return t.Ug(n)},i.Xy=function(t,n){return t.Xy(n)},i.Hy=function(t,n){return t.Hy(n)},i.VI=function(){return IN},i.WI=function(){return CN},i.jI=function(){return DN},n.aD=function(t){for(var i=[],e=0;e<t.length;e++)i.push(new Yy(t.start(e)),new Yy(t.end(e)));return new n(i)},n.wF=function(t){for(var i=[],e=[],r=0;r<t.vl;r++)i.push(new Yy(t.DI(r))),i.push(new Yy(t.NI(r))),e.push(t.CI(r)),e.push(t.OI(r));return new n(i,e)},n.hD=function(t){return new n([t,t],[!0,!0])},i.FI=function(t,i){return new n(t,i)},i.BI=function(t){return t.Bm},n.vD=function(){return NN},n}(Wk))([]);my.sv,my.ov;var ON=function(t){function n(n){var i;return(i=t.call(this,Kc.wa)||this).errorObject=void 0,i.errorObject=n,i}return vt(n,t),ft(n,[{key:"error",get:function(){return this.errorObject.message}},{key:"licenseAcquisitionURL",get:function(){return this.errorObject.url}},{key:"status",get:function(){return this.errorObject.status}},{key:"statusText",get:function(){return this.errorObject.statusText}},{key:"licenseAcquisitionMessage",get:function(){return this.errorObject.response}},{key:"systemCode",get:function(){return this.errorObject.systemCode}}]),n}(Cu),AN=function(t){function n(){return t.call(this,Kc.ga)||this}return vt(n,t),n}(Cu),PN=function(t){function n(n){var i;return(i=t.call(this,"$a")||this).gF=n,i}return vt(n,t),n}(Cu),xN=new kR,LN=function(t){function n(n){var i;return(i=t.call(this,"ic")||this).session=n,i}return vt(n,t),n}(Cu),BN=function(t){function i(i,e,r){var u;return(u=t.call(this)||this).yF=!1,u.mF=!1,u.Xf=new vu,u.Qo=function(t){switch(t.cu){case"license-request":u.aS(t.ou,t.au).catch(function(t){return u.Oc(t)});break;default:u.Oc(new ly(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Unsupported CDM message type: "+t.cu))}},u.bF=function(t){u.pF.fc.bu(function(t,n){switch(t){case"usable":st.Ne(function(){u.mF=!0,u.Yr(new AN)},100);break;case"expired":case"status-pending":break;case"output-restricted":case"internal-error":u.Yr(new PN(n))}})},u._F=function(t){u.Oc(new ly(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Unknown CDM error"))},u.pF=i,u.kF=e,u.TF=r,i.Kr("ou",u.Qo),i.Kr("su",u.bF),i.Kr("fu",u._F),i.cc.then(function(){return u.SF()}),u}vt(i,t);var e=i.prototype;return e.ec=function(){var t=this;return this.yF=!0,xN.CL(function(n){return t.EF(n)},this.Xf.zr)},e.EF=function(t){var i,e,r;return lr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,wu(t),u.next=4,lr.awrap(this.kF.iS(t));case 4:return u.next=6,lr.awrap(this.kF.eS(this.TF.mr,this.TF.wu,t));case 6:return i=u.sent,u.next=9,lr.awrap(this.pF.ec(this.TF.mr,this.TF.wu,i));case 9:u.next=18;break;case 11:throw u.prev=11,u.t0=u.catch(0),gu(u.t0),e=u.t0 instanceof qs?u.t0.Mu:void 0,r=new ly(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while performing the CDM request",u.t0,void 0,void 0,void 0,void 0,e),this.Oc(r),r;case 18:case"end":return u.stop()}},null,this,[[0,11]],j)},e.aS=function(t,i){var e,r;return lr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(u.prev=0,!Vs(t)){u.next=7;break}return u.next=4,lr.awrap(this.kF.yS(new y(t),this.Xf.zr));case 4:e=u.sent,u.next=10;break;case 7:return u.next=9,lr.awrap(this.kF.mS(new y(t),i,this.Xf.zr));case 9:e=u.sent;case 10:u.next=17;break;case 12:if(u.prev=12,u.t0=u.catch(0),!lu(u.t0)){u.next=16;break}return u.abrupt("return");case 16:throw u.t0;case 17:return u.prev=17,u.next=20,lr.awrap(this.pF.sc(e));case 20:u.next=26;break;case 22:throw u.prev=22,u.t1=u.catch(17),r=u.t1 instanceof qs?u.t1.Mu:void 0,new ly(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while applying license response",u.t1,void 0,void 0,void 0,void 0,r);case 26:case"end":return u.stop()}},null,this,[[0,12],[17,22]],j)},e.Oc=function(t){var i=t instanceof ly?t:new ly(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.Yr(new ON(i)),this.ic()},e.SF=function(){this.pF.tu("ou",this.Qo),this.pF.tu("su",this.bF),this.pF.tu("fu",this._F),this.mF=!1,this.Xf.Wr(),this.Yr(new LN(this))},e.ic=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Zr(),this.SF(),t.next=4,lr.awrap(this.pF.ic().catch(Mt));case 4:case"end":return t.stop()}},null,this,null,j)},i}(Iu),MN=[Kc.ga,Kc.wa,Kc.ja],FN=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Zo=void 0,r.vc=void 0,r.RF=void 0,r.IF=[],r.DF=void 0,r.CF=[],r.NF=function(t){t.session.tu(MN,r.Gr),t.session.tu("ic",r.NF),ou(r.IF,t.session)},r.Zo=n,r.vc=i,r.RF=e,r}vt(n,t);var i=n.prototype;return i.gS=function(){return this.RF.gS()},i.OF=function(t){return this.DF||(this.DF=this.AF(t)),this.DF},i.AF=function(t){var n;return lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return wu(t),i.next=3,lr.awrap(this.RF.yS(new y(Us()),t));case 3:if(n=i.sent,wu(t),this.vc){i.next=7;break}throw new f("Invalid MediaKeys when setting ServerCertificate");case 7:return i.next=9,lr.awrap(this.vc.gc(n.buffer));case 9:case"end":return i.stop()}},null,this,null,j)},i.lM=function(t){var n,i;return lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.vc){e.next=2;break}throw new f("Invalid MediaKeys when creating KeySession");case 2:return e.prev=2,this.CF.push(t),e.next=6,lr.awrap(this.vc.wc("temporary"));case 6:return n=e.sent,i=new BN(n,this.RF,t),this.IF.push(i),i.Kr(MN,this.Gr),i.Kr("ic",this.NF),e.abrupt("return",i);case 12:return e.prev=12,ou(this.CF,t),e.finish(12);case 15:case"end":return e.stop()}},null,this,[[2,,12,15]],j)},i.PF=function(t){if(t.xF)return!1;for(var n=0,i=this.IF;n<i.length;n++){if(UN(i[n].TF,t))return!0}for(var e=0,r=this.CF;e<r.length;e++){if(UN(r[e],t))return!0}return!1},i.et=function(){var t;return lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.vc=void 0,this.Zr(),t=this.IF.slice(),fu(this.IF),n.next=6,lr.awrap(j.all(t.map(function(t){return t.ic()})));case 6:this.RF.Lr();case 7:case"end":return n.stop()}},null,this,null,j)},ft(n,[{key:"dc",get:function(){return this.Zo}}]),n}(Iu);function UN(t,n){return!t.xF&&t.mr===n.mr&&Gu(t.wu,n.wu)}var VN=function(t){function i(n){var i;return(i=t.call(this)||this).ZE=void 0,i.Xf=new vu,i.VL=new kR,i.Fc=void 0,i.RF=void 0,i.tR=void 0,i.Zo=void 0,i.LF=function(t){return lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,lr.awrap(i.BF(t.mr,t.wu,i.Xf.zr));case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),lu(n.t0)||i.Oc(n.t0);case 8:case"end":return n.stop()}},null,null,[[0,5]],j)},i.ZE=n,i.ZE.Kr(Ru.hu,i.LF),i}vt(i,t);var e=i.prototype;return e.rc=function(t,n){this.tR=t,this.iM(n)},e.iM=function(t){this.Fc=t,this.MF(this.Xf.zr).catch(yu)},e.MF=function(t){return lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!st.je.ae){n.next=5;break}return n.next=3,lr.awrap(this.FF(t));case 3:if(!n.sent){n.next=5;break}return n.abrupt("return");case 5:if(!this.Fc||!this.Fc.UF){n.next=9;break}return n.next=8,lr.awrap(this.VF(t));case 8:return n.abrupt("return",n.sent);case 9:case"end":return n.stop()}},null,this,null,j)},e.FF=function(t){var n,i,e,r,u,s,o,c,a,f,h;return lr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(null==(n=this.Fc)?void 0:n.CR){v.next=3;break}return v.abrupt("return",!1);case 3:i=!1,e=0,r=null!=(u=null==(s=this.Fc)?void 0:s.CR)?u:[];case 5:if(!(e<r.length)){v.next=27;break}o=r[e],c=0,a=null!=(f=o.VE)?f:[];case 8:if(!(c<a.length)){v.next=22;break}return h=a[c],v.prev=10,v.next=13,lr.awrap(this.BF(o.dc.mr,h,t));case 13:i=!0,v.next=19;break;case 16:v.prev=16,v.t0=v.catch(10),gu(v.t0);case 19:c++,v.next=8;break;case 22:if(!i){v.next=24;break}return v.abrupt("return",!0);case 24:e++,v.next=5;break;case 27:return v.abrupt("return",!1);case 28:case"end":return v.stop()}},null,this,[[10,16]],j)},e.BF=function(t,i,e){var r,u,s,o,c,a,f,h,v,d;return lr.async(function(l){for(;;)switch(l.prev=l.next){case 0:if(wu(e),i.byteLength){l.next=3;break}return l.abrupt("return");case 3:if(this.Fc&&this.Fc.CR.length){l.next=5;break}throw new ly(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_MISSING,"Missing configuration for encrypted content");case 5:if(t===Er||t===Ir||t===Rr){l.next=8;break}return l.abrupt("return");case 8:r=Xp(t,i),u=this.Fc.CR,o=0;case 11:if(!(o<u.length)){l.next=42;break}if(c=u[o],wu(e),(a=r[c.dc.br])&&c.dc.mr===t){l.next=17;break}return l.abrupt("continue",39);case 17:return l.prev=17,l.next=20,lr.awrap(this.WF(c,e));case 20:if(!(f=l.sent).gS()){l.next=24;break}return l.next=24,lr.awrap(f.OF());case 24:if(h=this.ZE.Eg,v={mr:c.dc.mr,wu:a,xF:h},!this.HF(f,v)){l.next=32;break}return l.next=29,lr.awrap(f.lM(v));case 29:return d=l.sent,l.next=32,lr.awrap(d.ec());case 32:return l.abrupt("return");case 35:l.prev=35,l.t0=l.catch(17),gu(l.t0),s=l.t0;case 39:o++,l.next=11;break;case 42:return l.next=44,lr.awrap(st.xe());case 44:if(!l.sent){l.next=48;break}throw new ly(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported",s);case 48:throw new ly(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Cannot create content decryption session",s);case 49:case"end":return l.stop()}},null,this,[[17,35]],j)},e.VF=function(t){var n,i,e,r,u;return lr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(i=null==(n=this.Fc)?void 0:n.CR){s.next=3;break}return s.abrupt("return");case 3:e=0;case 4:if(!(e<i.length)){s.next=23;break}return r=i[e],wu(t),s.prev=7,s.next=10,lr.awrap(this.WF(r,t));case 10:if(!(u=s.sent).gS()){s.next=14;break}return s.next=14,lr.awrap(u.OF());case 14:return s.abrupt("return");case 17:s.prev=17,s.t0=s.catch(7),gu(s.t0);case 20:e++,s.next=4;break;case 23:case"end":return s.stop()}},null,this,[[7,17]],j)},e.HF=function(t,n){return st.je.ce||!t.PF(n)},e.WF=function(t,n){var i=this;return this.VL.CL(function(n){return i.qF(t,n)},n)},e.qF=function(t,n){var i,e,r,u,s;return lr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(wu(n),this.Fc&&this.RF&&this.tR){o.next=3;break}throw new f("Not initialized");case 3:if(!this.Zo){o.next=7;break}if(this.Zo.dc===t.dc){o.next=6;break}throw new f("Internal key system error");case 6:return o.abrupt("return",this.Zo);case 7:return i=this.RF,e=wr({},t,{zR:t.zR.map(function(n){var e;return wr({},n,{persistentState:null!=(e=n.persistentState)?e:i.FS(t.dc),Tc:n.Tc||i.Tc(t.dc)})})}),o.next=11,lr.awrap(this.tR.ZB(e.dc,e.zR));case 11:return r=o.sent,u=i.UE(e),(s=new FN(e.dc,r,u)).Kr([Kc.ga,Kc.wa,Kc.ja],this.Gr),this.Zo=s,o.abrupt("return",s);case 17:case"end":return o.stop()}},null,this,null,j)},e.Oc=function(t){var i=t instanceof ly?t:new ly(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.Yr(new ON(i))},e.fl=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.tR=void 0,this.Fc=void 0,this.Xf.Wr(),this.Xf=new vu,t.next=6,lr.awrap(this.zF());case 6:case"end":return t.stop()}},null,this,null,j)},e.zF=function(){var t;return lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,lr.awrap(this.VL.Wr());case 2:if(!(t=this.Zo)){n.next=8;break}return t.tu(Kc.ja,this.Gr),this.Zo=void 0,n.next=8,lr.awrap(t.et());case 8:case"end":return n.stop()}},null,this,null,j)},e.Lr=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Zr(),this.ZE.tu(Ru.hu,this.LF),t.next=4,lr.awrap(this.fl());case 4:return t.next=6,lr.awrap(this.VL.et());case 6:case"end":return t.stop()}},null,this,null,j)},ft(i,[{key:"jF",get:function(){var t;return null==(t=this.Zo)?void 0:t.dc}},{key:"RR",get:function(){return this.RF},set:function(t){this.RF=t}}]),i}(Iu);St.Pn||St.xn,St.Qn,St.Un;var WN=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.HF=function(t,n){return!0},n}(VN),HN=function(t){function n(n,i,e){var r;return void 0===e&&(e=new gN(i)),(r=t.call(this)||this).tR=void 0,r.kr=void 0,r.XF=void 0,r.GF=new kR,r.YF=void 0,r.gM=void 0,r.KF=!1,r.Xc=void 0,r.Hc=null,r.JF={Rg:0,Ig:0,Dg:0,Cg:0,Ng:0,Og:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},r.QF=function(t){"boolean"==typeof t.detail.casting&&(r.KF=t.detail.casting,r.Yr(new Ly(r.KF)))},r.ZF=function(t){r.Xc=t.sessionId,r.Hc&&(r.Hc.sessionId=r.Xc);var n=t.initData;if(n){var i=function(t){try{var n=Os(t),i=new Ms;return Ss(Es(as(n,i,ds(n,i,!0)),!0))}catch(t){return}}(n);if(!i)return;r.Yr(new Lu(Ir,i))}else r.Yr(new Lu(Ir,new ArrayBuffer(0)))},r.YF=n,r.gM=i,r.gM.Kr(KC.oM,r.ZF),r.kr=e,r.XF=new WN(Cn(r)),r.tU(),r}vt(n,t);var i=n.prototype;return i.nU=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.gr===Vb.CT)return i}},i.Lr=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,lr.awrap(this.fl());case 2:return this.Zr(),this.iU(),this.gM.tu(KC.oM,this.ZF),t.next=7,lr.awrap(this.XF.Lr());case 7:case"end":return t.stop()}},null,this,null,j)},i.dg=function(){throw new f("Not implemented yet")},i.ST=function(t,n,i,e,r,u,s,o){throw new f("Not implemented yet")},i.xR=function(){return!1},i.MR=function(t,n,i,e){throw new f("Not implemented yet")},i.IT=function(t){throw new f("Not implemented yet")},i.WR=function(){throw new f("Not implemented yet")},i.rc=function(t){var n=this;return lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",this.GF.CL(function(i){var e;return lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(t.gr!==Vb.CT){r.next=8;break}return wu(i),e=new QC(t,n,n.kr),n.tR=e,n.XF.rc(e,t),r.abrupt("return",e);case 8:throw new f("Could not create non-static media source");case 9:case"end":return r.stop()}},null,null,null,j)}));case 1:case"end":return i.stop()}},null,this,null,j)},i.K=function(){throw new f("Not implemented yet")},i.Y=function(){throw new f("Not implemented yet")},i.fl=function(){var t=this;return this.GF.Wr(),this.GF.CL(function(){return lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0===t.tR){n.next=4;break}return n.next=3,lr.awrap(t.tR.Lr());case 3:t.tR=void 0;case 4:return n.next=6,lr.awrap(t.XF.fl());case 6:case"end":return n.stop()}},null,null,null,j)})},i.Eu=function(t,n){throw new f("Not implemented yet")},i.XR=function(t){throw new f("Not implemented yet")},i.vg=function(){throw new f("Not implemented yet")},i.GR=function(){return this.JF},i.tU=function(){this.YF.addEventListener("airPlayIsCasting",this.QF)},i.iU=function(){this.YF.removeEventListener("airPlayIsCasting",this.QF)},i.webkitSetMediaKeys=function(t){this.Hc=t||null,this.Hc&&(this.Hc.sessionId=this.Xc)},i.eU=function(){},i.rU=function(){throw new f("Not implemented yet")},i.uU=function(){throw new f("Not implemented yet")},ft(n,[{key:"Tg",get:function(){throw new f("Not implemented yet")}},{key:"kg",get:function(){throw new f("Not implemented yet")}},{key:"bw",get:function(){throw new f("Not implemented yet")}},{key:"aL",get:function(){throw new f("Not implemented yet")}},{key:"pw",get:function(){throw new f("Not implemented yet")}},{key:"_w",get:function(){throw new f("Not implemented yet")}},{key:"fu",get:function(){throw new f("Not implemented yet")}},{key:"v_",get:function(){throw new f("Not implemented yet")}},{key:"Eg",get:function(){return this.KF}},{key:"Tw",get:function(){throw new f("Not implemented yet")}},{key:"Sw",get:function(){throw new f("Not implemented yet")}},{key:"Ew",get:function(){throw new f("Not implemented yet")}},{key:"Pg",get:function(){throw new f("Not implemented yet")}},{key:"Ml",get:function(){throw new f("Not implemented yet")}},{key:"Lg",get:function(){throw new f("Not implemented yet")}},{key:"Rw",get:function(){throw new f("Not implemented yet")}},{key:"sU",get:function(){throw new f("Not implemented yet")}},{key:"Cw",get:function(){throw new f("Not implemented yet")},set:function(t){throw new f("Not implemented yet")}},{key:"Dy",get:function(){throw new f("Not implemented yet")}},{key:"UR",get:function(){throw new f("Not implemented yet")}},{key:"webkitKeys",get:function(){return this.Hc}},{key:"oU",get:function(){return JC}},{key:"ig",get:function(){throw new f("Not implemented yet")}},{key:"hL",get:function(){throw new f("Not implemented yet")}},{key:"YR",get:function(){throw new f("Not implemented yet")}},{key:"cU",get:function(){return!0}},{key:"RR",get:function(){return this.XF.RR},set:function(t){this.XF.RR=t}},{key:"jF",get:function(){return this.XF.jF}}]),n}(ig),qN=function(t){function n(n){var i;return(i=t.call(this,Kc.Xa)||this).JF=n,i}return vt(n,t),n}(Cu);var zN=function(t){function n(n,i){var e,r=jN(i,n.pw,n.YR,n.aU);return(e=t.call(this,i,r,void 0,!1,n.kl)||this).fU=void 0,e.hU=void 0,e.vU=void 0,e.Ps=void 0,e.dU=void 0,e.lU=void 0,e.wU=void 0,e.gU=void 0,e.yU=void 0,e.mU=void 0,e.fU=n.bU,e.hU=n.YR,e.vU=n.aU,e.Ps=n.pw,e.dU=n.pU,e.lU=Boolean(n._U),e.wU=n.kU||{},e.gU=n.TU,e.yU=n.SU,e.mU=n.EU,e.RU(),e.IU(),e}vt(n,t);var i=n.prototype;return i.sc=function(t){var n=!1;void 0===this.fU&&void 0!==t.bU&&(n=!0,this.fU=t.bU),void 0===this.vU&&void 0!==t.aU&&(n=!0,this.vU=t.aU),void 0===this.Ps&&void 0!==t.pw&&(n=!0,this.Ps=t.pw),void 0===this.dU&&void 0!==t.pU&&(n=!0,this.dU=t.pU),!this.lU&&t._U&&(n=!0,this.lU=t._U),n=this.updateCustomAttributes(t,n),void 0===this.gU&&void 0!==t.TU&&(n=!0,this.gU=t.TU),void 0===this.yU&&void 0!==t.SU&&(n=!0,this.yU=t.SU),void 0===this.mU&&void 0!==t.EU&&(n=!0,this.mU=t.EU),this.RU(),this.IU(),this.DU(),n&&this.Yr(new Vy(this))},i.updateCustomAttributes=function(t,n){var i=n;if(t.kU)for(var e=0,r=v.keys(t.kU);e<r.length;e++){var u=r[e];void 0===this.wU[u]&&(i=!0,this.wU[u]=t.kU[u])}return i},i.RU=function(){this.Ps&&!this.vU&&(this.vU=new Date(this.hU.getTime()+1e3*this.Ps))},i.IU=function(){this.vU&&!this.Ps&&(this.Ps=Rn(this.vU.getTime()-this.hU.getTime()))},i.DU=function(){this.ay===1/0&&(this.vU||this.Ps)&&(this.ay=jN(this.oy,this.Ps,this.hU,this.vU))},ft(n,[{key:"Pd",get:function(){var t;return this.Ad||(this.Ad=Nw(Fy(t=this),{get content(){return t.sy},get class(){return t.bU},get startDate(){return t.YR},get endDate(){return t.aU},get duration(){return t.pw},get plannedDuration(){return t.pU},get endOnNext(){return t._U},get scte35Cmd(){return t.TU},get scte35Out(){return t.SU},get scte35In(){return t.EU},get customAttributes(){return t.kU}})),this.Ad}},{key:"bU",get:function(){return this.fU}},{key:"YR",get:function(){return this.hU}},{key:"aU",get:function(){return this.vU}},{key:"pw",get:function(){return this.Ps}},{key:"pU",get:function(){return this.dU}},{key:"_U",get:function(){return this.lU}},{key:"TU",get:function(){return this.gU}},{key:"SU",get:function(){return this.yU}},{key:"EU",get:function(){return this.mU}},{key:"kU",get:function(){return this.wU}}]),n}(qy);function jN(t,n,i,e){return It(n)?t+n:e?t+(Rn(e.getTime())-Rn(i.getTime())):1/0}var $N,XN=function(t){function n(){return t.call(this,void 0,void 0,Oy.DATE_RANGE)||this}vt(n,t);var i=n.prototype;return i.sc=function(t,n){for(var i=this,e=function(t){for(var n=yr(),i=[],e=0;e<t.length;e++){var r=t[e];if(n.has(r.kl)){var u=n.get(r.kl),s=wr({},u,xw(r),{kU:wr({},u.kU,r.kU)});n.set(r.kl,s)}else n.set(r.kl,r),i.push(r.kl)}return i.map(function(t){return n.get(t)})}(t),r=this.Fl.hl,u=function(t){var n=r[t],u=su(e,function(t){return t.kl===n.kl});u?n.sc(u):i.hT(n)},s=r.length-1;s>=0;s--)u(s);for(var o=0;o<e.length;o++){var c=e[o],a=c.YR;if(void 0!==a&&!this.GB(c.kl)){var f=n(a);this.RT(new zN(c,f))}}},i.RT=function(n){this.CU(n),t.prototype.RT.call(this,n)},i.CU=function(t){var n=this.BB.filter(function(n){return n.bU===t.bU}).pop();n&&n._U&&n.sc({kl:n.kl,aU:t.YR})},n}(GC);function GN(t){switch(t.type){case $N.sB:return t.value;case $N.uB:return Bw(t.value);case $N.rB:return qu(t.value);default:return}}function YN(t){return function(t){return void 0!==t.name&&void 0!==t.message}(t)&&void 0!==t.timestamp&&void 0!==t.code}!function(t){t.sB="daterange-ca-type_string",t.uB="daterange-ca-type_number",t.rB="daterange-ca-type_arraybuffer"}($N||($N={}));var KN,JN,QN,ZN=function(t){function n(n,i,e,r,u){var s;return(s=t.call(this,r,i,e)||this).dE=void 0,s.NU=void 0,s.dE=n,s.NU=u,s}return vt(n,t),ft(n,[{key:"name",get:function(){return this.dE}},{key:"timestamp",get:function(){return this.NU}}]),n}(Nc),tO=function(t){function n(n,i,e,r,u,s,o,c){var a;return(a=t.call(this,n,i,e,r,c)||this).url=void 0,a.status=void 0,a.errorComment=void 0,a.url=u,a.status=s,a.errorComment=o,a}return vt(n,t),n}(ZN),nO=function(){function t(t,n){this.Kw=void 0,this.OU=void 0,this.Kw=new pb,this.OU=new CC(t,n)}var n=t.prototype;return n.ST=function(t,n,i,e,r,u,s){var o=new jC(t,n,i,e,r,u,s);return this.Kw.ol(o),this.OU.ol(o),o},n.IT=function(t){this.Kw.cl(t),this.OU.cl(t),t.et()},n.fl=function(){for(var t=0,n=this.Kw.hl.slice();t<n.length;t++){n[t].et()}this.Kw.fl(),this.OU.fl()},n.et=function(){this.fl(),this.Kw.et(),this.OU.et()},ft(t,[{key:"ig",get:function(){return this.Kw}}]),t}(),iO=function(t){function n(n,i,e,r,u){var s;(s=t.call(this)||this).yD=0,s.AU=!1,s.nR=void 0,s.iR=void 0,s.PU=void 0,s.bD=!0,s.pD=1,s.Gw=void 0,s.Yw=void 0,s.xU=void 0,s.LU=void 0,s.Kw=void 0,s.pT=void 0,s.Ps=void 0,s.BU=Hk.vD(),s.MU=Hk.vD(),s.mD=!1,s.FU=Hk.vD(),s._D=void 0,s.UU=void 0,s.VU=void 0,s.VB=vg.cw,s.OT=vg.cw,s.YF=void 0,s.OU=void 0,s.uR=void 0,s.OB=void 0,s.WU=void 0,s.ED=void 0,s.ZE=void 0,s.sR=void 0,s.gM=void 0,s.JF={Rg:0,Ig:0,Dg:0,Cg:0,Ng:0,Og:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},s.tR=void 0,s.HU=void 0,s.cR=new pk,s.aR=new Rk,s.setCurrentTime=function(t){return lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(s.Lg.length){n.next=4;break}return s.yD=t,n.next=4,lr.awrap(s.YF.ru("seekablechange"));case 4:s.yD=s.updateCurrentTime(t),s.OB.xB("THEOplayerSetCurrentTime",s.yD),s._D=!0,s.Yr(new Vg(s.yD));case 8:case"end":return n.stop()}},null,null,null,j)},s.qU=function(t){if(t.detail){for(var n=t.detail.buffered,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}s.BU=new Hk(i),s.Yr(new xC(s.bw))}},s.zU=function(t){s.VB=t.detail.readyState,s.Yr(new qg(+t.detail.currentTime,s.Ml)),s.jU()},s.$U=function(t){s.VB=t.detail.readyState,s.Yr(new zg(+t.detail.currentTime,s.Ml)),s.jU()},s.XU=function(t){if(t.detail){var n=+t.detail.duration;s.Ps=n,s.Yr(new Lg(s.pw))}},s.GU=function(t){t.detail&&(s.AU=!0,s.Yr(new Fg(+t.detail.currentTime)))},s.fR=function(t){if(t.detail&&t.detail.error&&t.detail.errorObject){var n,i=JSON.parse(t.detail.errorObject);YN(n=i)&&void 0!==n.url&&void 0!==n.status&&void 0!==n.errorComment?(s.iR=new tO(i.name,i.message,void 0,i.code,i.url,i.status,i.errorComment,i.timestamp),s.nR=yy(s.iR),s.Yr(new $g(s.iR))):YN(i)&&(s.iR=new ZN(i.name,i.message,void 0,i.code,i.timestamp),s.nR=yy(s.iR),s.Yr(new $g(s.iR)))}},s.YU=function(t){s.Yr(new PC)},s.KU=function(t){s.VB=t.detail.readyState,s.Yr(new Ug(+t.detail.currentTime,s.Ml)),s.jU()},s.JU=function(t){return lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(s.Lg.length){n.next=3;break}return n.next=3,lr.awrap(s.YF.ru("seekablechange"));case 3:s.VB=t.detail.readyState,s.Yr(new xg(+t.detail.currentTime,s.Ml)),s.jU();case 6:case"end":return n.stop()}},null,null,null,j)},s.QU=function(t){t.detail&&s.bD&&(s.bD=!1,s.Yr(new Ng(+t.detail.currentTime)))},s.ZU=function(t){t.detail&&(s.bD||(s.bD=!0,s.Yr(new Cg(+t.detail.currentTime))))},s.tV=function(t){if(t.detail){for(var n=t.detail.played,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}s.FU=new Hk(i)}},s.nV=function(t){t.detail&&s.Yr(new Qb(+t.detail.currentTime))},s.iV=function(t){t.detail&&(s.pD=t.detail.playbackRate,s.Yr(new Bg(+t.detail.currentTime,s.pD)))},s.eV=function(t){if(t.detail){for(var n=t.detail.seekable,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}s.MU=new Hk(i)}},s.rV=function(t){t.detail&&(s.yD=+t.detail.currentTime,s._D=!1,s.Yr(new Mg(s.yD,s.PU)),s.Yr(new Wg(s.yD)))},s.uV=function(t){if(t.detail){var n=Number(t.detail.currentTime);n<s.Ps&&(s.AU=!1),s._D=!0,s.Yr(new Vg(n))}},s.sV=function(t){t.detail&&(t.detail.currentDate&&(s.PU=new Date(1e3*t.detail.currentDate)),s.yD=+t.detail.currentTime,s.Yr(new Mg(s.yD,s.PU)))},s.oV=function(t){s.UU=t.detail.height,s.VU=t.detail.width},s.cV=function(t){t.detail&&s.Yr(new Jb(+t.detail.currentTime))},s.aV=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,enabled:t.detail.enabled};s.tg.ol(new Dy(n))},s.fV=function(t){for(var n,i,e=t.detail.lang,r=t.detail.label,u=0;u<s.Gw.vl;u++){var o=s.tg.sl(u);o.Rl==e&&o.El==r?i=s.Gw.sl(u):1==o._l&&(n=s.Gw.sl(u))}i&&n&&(i._l=!0,n._l=!1)},s.hV=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,selected:t.detail.selected};s.ng.ol(new xy(n))},s.vV=function(t){var n,i=t.detail.kind,e=t.detail.type;i===bb.ep&&e===Oy.ID3?(n=new YC("",t.detail.label)).Ol=Xw.Pl:i===bb.ep&&e===Oy.DATE_RANGE?(n=new XN,s.HU=n):n=new jC(i,void 0,t.detail.label,t.detail.lang,t.detail.isDefault,e),s.xU.ol(n),s.OU.ol(n)},s.dV=function(t){for(var n=0,i=t.detail;n<i.length;n++){var e=i[n],r=e.Id3FrameId,u={id:r,text:e.Id3FrameText};"TXXX"!==r&&"TXX"!==r||(u.description=e.Id3FrameDescription);var o=new XC(Bw(e.startTime),u,e.uid),c=s.lV();c&&c.RT(o)}},s.wV=function(t){for(var n=0,i=t.detail;n<i.length;n++){var e,r=i[n],u=new zy(Bw(r.startTime),Bw(r.endTime),r.content,!1),o=null!=(e=s.gV(bb.np))?e:s.gV(bb.oT);o&&(o.gr=Oy.WEBVTT,o.RT(u))}},s.yV=function(t){t.type===Kc.wa&&(s.nR=yy(t.errorObject)),s.Gr(t)},s.mV=function(t){t.detail&&(s.JF.Ig=t.detail.corruptedVideoFrames,s.JF.Rg=t.detail.droppedVideoFrames,s.Yr(new qN(s.Hw)))},s.bV=function(t){var n=function(t){var n=t.detail,i=[];return n.forEach(function(t){var n={kl:t.id};if(void 0!==t.startDate&&(n.YR=new Date(t.startDate)),void 0!==t.endDate&&(n.aU=new Date(t.endDate)),void 0!==t.customAttributes){var e={};for(var r in t.customAttributes){var u=GN(t.customAttributes[r]);void 0!==u&&(e[r]=u)}n.kU=e}void 0!==t.scte35Cmd&&(n.TU=qu(t.scte35Cmd)),void 0!==t.scte35In&&(n.EU=qu(t.scte35In)),void 0!==t.scte35Out&&(n.SU=qu(t.scte35Out)),void 0!==t.startTime&&(n.ey=t.startTime),n.bU=t.class,n.pw=Bw(t.duration),n.pU=Bw(t.plannedDuration),i.push(n)}),i}(t);n.forEach(function(t){var i=null!=t.ey?t.ey:(new Date).getTime(),e=new zN(t,i);s.HU.RT(e),s.HU.sc(n,i)})};var o=r.uid;s.OB=s.getSdkBridge(o),s.YF=new dC,eC()[o].sdkEventBus=s.YF,s.Gw=new by,s.Yw=new by;var c=s.pV(e);return s.pT=new nO(Cn(s),new NC),s.OU=new AC(Cn(s)),s.uR=new xb(s.pT,c),s.xU=new pb,s.LU=new mN(s.pT,s.xU),s.Kw=new Tk([s.xU,s.uR.Kp,s.LU.Kp]),s.gM=s.getFairPlayControllerBridge(s.OB),s.ZE=new HN(s.YF,s.gM),s.sR=new _k(c),s.ZE.RR=s.sR,s.observeMediaElement(),s.DR(),s.ED=new LC(s.OB,u),s.ED.Kr("MA",function(){s.OB.xB("THEOplayerSetPreferredForwardBufferDuration",s.ED.BA)}),s}vt(n,t);var i=n.prototype;return i.wg=function(){return jk},i.vg=function(){this.OB.xB("THEOplayerShow",{})},i.dg=function(){this.OB.xB("THEOplayerHide",{})},i._V=function(){var t=this;this.OB.xB("THEOplayerSetInitialPreferredPeakBitRate",this.ED.QA);this.Kr("playing",function n(){t.OB.xB("THEOplayerSetInitialPreferredPeakBitRate",0),t.tu("playing",n)})},i.sg=function(t,n){var i,e,r;return lr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return this.WU=t,i=wr({},n,{sources:{src:t.src,type:ag.nw,contentProtection:t.contentProtection,ssai:t.ssai,crossOrigin:t.crossOrigin,hlsDateRange:t.hlsDateRange,isAdvertisement:t.isAdvertisement}}),this.OB.xB("THEOplayerSourceChange",i),e={gr:Vb.CT,Vl:t.src,Rh:t.type,CR:this.NR(t),OR:t.crossOrigin,AR:n.metadata&&n.metadata.title},this.sR.FE(t.contentProtection),u.next=7,lr.awrap(this.ZE.rc(e));case 7:this.tR=u.sent,n.textTracks&&(r=n.textTracks.filter(function(t){return t.format!==Oy.WEBVTT})).length>0&&this.PR(r),Ub(this.ig),this._V();case 11:case"end":return u.stop()}},null,this,null,j)},i.NR=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{dc:Vr,zR:[{initDataTypes:[Vr.mr],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},i.Y=function(){this.bD=!1,this.Yr(new Ng(this.bw)),this.OB.xB("THEOplayerPlay",{})},i.K=function(){this.bD=!0,this.Yr(new Cg(this.bw)),this.OB.xB("THEOplayerPause",{})},i.lg=function(){},i.fl=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.yD=0,this.AU=!1,this.nR=void 0,this.iR=void 0,this.bD=!0,this.pD=1,this.Ps=void 0,this.MU=Hk.vD(),this.BU=Hk.vD(),this.UU=void 0,this.VU=void 0,this.VB=vg.cw,this.OT=vg.cw,this.Gw.fl(),this.Yw.fl(),this.xU.fl(),this.Kw.fl(),t.next=19,lr.awrap(this.LU.fl());case 19:return t.next=21,lr.awrap(this.uR.fl());case 21:return this.pT.fl(),this.OU.fl(),this.WU=void 0,t.next=26,lr.awrap(this.ZE.fl());case 26:case"end":return t.stop()}},null,this,null,j)},i.cg=function(){this.OB.xB("THEOplayerShowAirPlayPicker",{})},i.ag=function(){this.OB.xB("THEOplayerStopAirPlayPicker",{})},i.updateMetrics=function(t){this.Hw.Ig=t.Ig,this.Hw.Rg=t.Rg},i.et=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,lr.awrap(this.fl());case 2:return this.Zr(),this.unobserveMediaElement(),this.qR(),this.ZE.RR=void 0,t.next=8,lr.awrap(this.ZE.Lr());case 8:return this.Gw.et(),this.Yw.et(),this.xU.et(),this.Kw.et(),t.next=14,lr.awrap(this.LU.et());case 14:return t.next=16,lr.awrap(this.uR.et());case 16:this.pT.et(),this.OU.et();case 18:case"end":return t.stop()}},null,this,null,j)},i.PR=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.uR.TT(i)}},i.jU=function(){var t=this.OT,n=this.VB;t!==n&&(this.OT=n,this.Yr(new jg(this.bw,n)))},i.observeMediaElement=function(){this.ZE.Kr(Kc.ha,this.Gr),this.ZE.Kr([Kc.ga,Kc.wa],this.yV),this.YF.addEventListener("play",this.QU),this.YF.addEventListener("pause",this.ZU),this.YF.addEventListener("seeking",this.uV),this.YF.addEventListener("seeked",this.rV),this.YF.addEventListener("ratechange",this.iV),this.YF.addEventListener("durationchange",this.XU),this.YF.addEventListener("timeupdate",this.sV),this.YF.addEventListener("waiting",this.cV),this.YF.addEventListener("playing",this.nV),this.YF.addEventListener("ended",this.GU),this.YF.addEventListener("loadedmetadata",this.JU),this.YF.addEventListener("loadeddata",this.KU),this.YF.addEventListener("loadstart",this.YU),this.YF.addEventListener("canplay",this.zU),this.YF.addEventListener("canplaythrough",this.$U),this.YF.addEventListener("error",this.fR),this.YF.addEventListener("seekablechange",this.eV),this.YF.addEventListener("videosizechange",this.oV),this.YF.addEventListener("bufferedchange",this.qU),this.YF.addEventListener("playedchange",this.tV),this.YF.addEventListener("metricschange",this.mV),this.YF.addEventListener("addDateRangeCues",this.bV)},i.unobserveMediaElement=function(){this.ZE.tu(Kc.ha,this.Gr),this.ZE.tu([Kc.ga,Kc.wa],this.yV),this.YF.removeEventListener("play",this.QU),this.YF.removeEventListener("pause",this.ZU),this.YF.removeEventListener("seeking",this.uV),this.YF.removeEventListener("seeked",this.rV),this.YF.removeEventListener("ratechange",this.iV),this.YF.removeEventListener("durationchange",this.XU),this.YF.removeEventListener("timeupdate",this.sV),this.YF.removeEventListener("waiting",this.cV),this.YF.removeEventListener("playing",this.nV),this.YF.removeEventListener("ended",this.GU),this.YF.removeEventListener("loadedmetadata",this.JU),this.YF.removeEventListener("loadeddata",this.KU),this.YF.removeEventListener("loadstart",this.YU),this.YF.removeEventListener("canplay",this.zU),this.YF.removeEventListener("canplaythrough",this.$U),this.YF.removeEventListener("error",this.fR),this.YF.removeEventListener("seekablechange",this.eV),this.YF.removeEventListener("videosizechange",this.oV),this.YF.removeEventListener("bufferedchange",this.qU),this.YF.removeEventListener("playedchange",this.tV),this.YF.removeEventListener("metricschange",this.mV),this.YF.removeEventListener("addDateRangeCues",this.bV)},i.updateCurrentTime=function(t){var n=this.Lg.start(0),i=this.Lg.end(0);return d.min(d.max(t,n),i)},i.lV=function(){for(var t=0,n=this.Kw.hl;t<n.length;t++){var i=n[t];if(i.Sl===bb.ep&&i.gr===Oy.ID3)return i}},i.gV=function(t){for(var n=0,i=this.Kw.hl;n<i.length;n++){var e=i[n],r=e.Ol===Xw.Al,u=e.Sl===t;if(r&&u)return e}},i.DR=function(){this.YF.addEventListener("addaudiotrack",this.aV),this.YF.addEventListener("enableaudiotrack",this.fV),this.YF.addEventListener("addvideotrack",this.hV),this.YF.addEventListener("addtexttrack",this.vV),this.YF.addEventListener("addtexttrackid3cues",this.dV),this.YF.addEventListener("addtexttrackcues",this.wV)},i.qR=function(){this.YF.removeEventListener("addaudiotrack",this.aV),this.YF.removeEventListener("enableaudiotrack",this.fV),this.YF.removeEventListener("addvideotrack",this.hV),this.YF.removeEventListener("addtexttrack",this.vV),this.YF.removeEventListener("addtexttrackid3cues",this.dV),this.YF.removeEventListener("addtexttrackcues",this.wV)},i._g=function(){},ft(n,[{key:"tg",get:function(){return this.Gw}},{key:"kg",get:function(){return this.BU.$R()}},{key:"Tg",get:function(){return this.PU?this.PU:null},set:function(t){this.OB.xB("THEOplayerSetCurrentProgramDateTime",t.getTime()),this.PU=t}},{key:"bw",get:function(){return this.yD},set:function(t){this.setCurrentTime(t)}},{key:"pw",get:function(){return this.Ps}},{key:"_w",get:function(){return this.AU}},{key:"fu",get:function(){return this.nR}},{key:"kw",get:function(){return this.iR}},{key:"eg",get:function(){}},{key:"Eg",get:function(){return this.ZE.Eg}},{key:"Hw",get:function(){return this.JF}},{key:"Tw",get:function(){return this.mD},set:function(t){this.mD!==t&&(this.OB.xB("THEOplayerSetMuted",t),this.mD=t,this.Yr(new Hg(this.bw,t?0:1)))}},{key:"Sw",get:function(){return this.bD}},{key:"Ew",get:function(){return this.pD},set:function(t){this.OB.xB("THEOplayerSetPlaybackRate",t),this.pD=t}},{key:"Pg",get:function(){return this.FU.$R()}},{key:"xg",get:function(){return xk.wI},set:function(t){}},{key:"Ml",get:function(){return this.VB}},{key:"Lg",get:function(){return this.MU.$R()}},{key:"Rw",get:function(){return this._D}},{key:"YR",get:function(){}},{key:"ig",get:function(){return this.Kw}},{key:"Iw",get:function(){return this.UU}},{key:"Dw",get:function(){return this.VU}},{key:"Cw",get:function(){return 1},set:function(t){}},{key:"Bg",get:function(){return this.aR}},{key:"ng",get:function(){return this.Yw}},{key:"KR",get:function(){return this.cR}},{key:"Mg",get:function(){return!1},set:function(t){}},{key:"Ag",get:function(){return!0}}]),n}(ig),eO=function(){function t(){this.JR=wk.OE}var n=t.prototype;return n.QR=function(n,i){if(n.isAdvertisement)return!1;if(i.vr&&i.vr[360]&&!i.vr.nativeVR)return!1;if((e=n.type)&&zr(e.toLowerCase(),ag.tw))return!1;var e,r=n.contentProtection;if(r&&!Lp(r)){if(!Fp(r))return!1;if(!t.kV(r))return!1}return!0},t.kV=function(t){return Boolean(t.fairplay)||Boolean(t.aes128)},n.ZR=function(){return!1},t}(),rO=function(){function n(t){this.playerID=t}return n.prototype.xB=function(n,i){if(t.THEOplayerBridge[this.playerID].postMessageToSwift&&"function"==typeof t.THEOplayerBridge[this.playerID].postMessageToSwift){var e={body:i,name:n};t.THEOplayerBridge[this.playerID].postMessageToSwift(e)}},n}(),uO=function(t){function n(n){var i;return(i=t.call(this)||this).OB=void 0,i.YF=void 0,i.TV=function(t){var n=qu(t.detail.initData),e=t.detail.sessionId;i.Yr(new fN(n,e))},i.SV=function(t){var n=new y(Ku(t.detail.message)),e=t.detail.destinationURL;i.Yr(new hN(n,e))},i.EV=function(t){i.Yr(new vN)},i.OB=n,i.YF=new dC,eC().fairplayController={sdkEventBus:i.YF},i.RV(),i}vt(n,t);var i=n.prototype;return i.RV=function(){this.YF.addEventListener(KC.oM,this.TV),this.YF.addEventListener(KC.cM,this.SV),this.YF.addEventListener(KC.aM,this.EV)},i.lM=function(t,n){var i={playerId:uC(),data:Ju(n.buffer),sessionId:t};this.OB.xB("THEOplayerCreateKeySession",i)},i.sc=function(t,n){var i={playerId:uC(),data:Ju(n.buffer),sessionId:t};this.OB.xB("THEOplayerUpdateKey",i)},n}(ig),sO=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.qh=function(n){if(Ps(n.Ih)){var i=xs(n.Ih);n.Ih=Ts(i)}return t.prototype.qh.call(this,n)},n}(function(){function t(t){this._T=void 0,this._T=t}var n=t.prototype;return n.qh=function(t){return this._T.qh(t)},n.wv=function(t){this._T.wv(t)},n.et=function(){this._T.et()},t}()),oO=function(t){function n(n,i,e,r,u){return t.call(this,n,i,e,r,u)||this}vt(n,t);var i=n.prototype;return i.og=function(){return!1},i.getSdkBridge=function(t){return new rO(t)},i.getFairPlayControllerBridge=function(t){return JN||(JN=new uO(t)),JN},i.pV=function(t){return new sO(t)},n}(iO);KN=new(function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.IS=function(t,n,i,e,r,u){return new oO(t,n,i,e,r)},n}(eO)),Pk.Zn.uI(KN),function(t){t.Dd="addtrack",t.Nd="removetrack",t.$d="change",t.Qd="update"}(QN||(QN={}));var cO=function(t,n,i){this.type=QN.$d,this.mediaType=t,this.mediaTrack=n,this.mediaTrackList=i},aO=function(t,n){this.type=QN.Dd,this.mediaType=t,this.mediaTrack=n},fO=function(t,n){this.type=QN.Nd,this.mediaType=t,this.mediaTrack=n},hO=function(t,n){this.type=QN.Qd,this.mediaType=t,this.mediaTrack=n},vO=function(){function t(t,n,i){var e=this;this.type=void 0,this.mediaTracks=void 0,this.messageDispatcher=void 0,this.IV=function(t){var n=new cO(e.type,t.track,e.mediaTracks);e.messageDispatcher.DV(n)},this.CV=function(t){var n=new aO(e.type,t.track);e.messageDispatcher.DV(n),t.track.addEventListener("update",e.NV)},this.OV=function(t){var n=new fO(e.type,t.track);e.messageDispatcher.DV(n)},this.NV=function(t){var n=new hO(e.type,t.track);e.messageDispatcher.DV(n)},this.type=t,this.mediaTracks=n,this.messageDispatcher=i,this.RV()}return t.prototype.RV=function(){this.mediaTracks.addEventListener("change",this.IV),this.mediaTracks.addEventListener("addtrack",this.CV),this.mediaTracks.addEventListener("removetrack",this.OV)},t}(),dO=function(){function t(t){this.AV=void 0,this.AV=new rO(t)}return t.prototype.DV=function(t){this.AV.xB(t.type,HR(t))},t}();dR(function(t){if(t.Pd.audioTracks){var n=new dO(t.Tl);new vO("audio",t.Pd.audioTracks,n)}if(t.Pd.videoTracks){var i=new dO(t.Tl);new vO("video",t.Pd.videoTracks,i)}});var lO,wO=function(){function t(){this.PV=i.webkit}return t.prototype.xB=function(t,n){this.PV.messageHandlers[t]&&this.PV.messageHandlers[t].postMessage(n)},t}(),gO="nativePromiseCallback",yO=function(t){function n(n){var i;return(i=t.call(this,gO)||this).detail=n,i}return vt(n,t),n}(Cu);!function(t){t.RESOLVE="NATIVE_PROMISE_RESOLVE",t.REJECT="NATIVE_PROMISE_REJECT"}(lO||(lO={}));var mO=function(t){function n(){return t.apply(this,arguments)||this}vt(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.Yr(new yO(n))},i.addEventListener=function(t,n){this.Kr(t,n)},i.removeEventListener=function(t,n){this.tu(t,n)},n}(dC),bO=function(){function t(){var t=this;this.AV=void 0,this.promisesMap={},this.handleNativePromiseEvent=function(n){var i=t.promisesMap[n.detail.promiseId];if(!i)throw new f("Could not find a promise with id "+n.detail.promiseId);switch(n.detail.type){case lO.RESOLVE:i.xu(n.detail.data);break;case lO.REJECT:i.Lu(n.detail.data)}delete t.promisesMap[n.detail.promiseId]};var n=new mO;eC().nativePromise={sdkEventBus:n},n.addEventListener(gO,this.handleNativePromiseEvent)}return t.prototype.xV=function(n){var i;t.messageIdTracker+=1;var e=t.messageIdTracker.toString(),r=wr({},n,{promiseId:e}),u=new Fs;return this.promisesMap[e]=u,null==(i=this.AV)||i.xB(n.type,VR(r)),u.Ou},t}();bO.messageIdTracker=-1;var pO,_O=function(t){function n(){var n;return(n=t.call(this)||this).AV=new wO,n}return vt(n,t),n}(bO),kO=function(t){function n(n){var i;return(i=t.call(this)||this).AV=new rO(n),i}return vt(n,t),n}(bO);!function(t){t.Dd="TextTrackListAddTrack",t.Nd="TextTrackListRemoveTrack",t.$d="TextTrackListChange"}(pO||(pO={}));var TO,SO=function(t){this.type=pO.Dd,this.textTrack=t},EO=function(t){this.type=pO.Nd,this.textTrack=t},RO=function(t){this.type=pO.$d,this.textTrack=t};!function(t){t.Bd="TextTrackAddCue",t.Fd="TextTrackRemoveCue",t.Vd="TextTrackEnterCue",t.Hd="TextTrackExitCue",t.zd="TextTrackCueChange"}(TO||(TO={}));var IO,DO=function(t,n){this.type=TO.Bd,this.textTrackCue=t,this.textTrackUid=n},CO=function(t,n){this.type=TO.Fd,this.textTrackCue=t,this.textTrackUid=n},NO=function(t,n){this.type=TO.Vd,this.textTrackCue=t,this.textTrackUid=n},OO=function(t,n){this.type=TO.Hd,this.textTrackCue=t,this.textTrackUid=n},AO=function(t){this.type=TO.zd,this.textTrackUid=t};!function(t){t.Qg="TextTrackCueEnter",t.ty="TextTrackCueExit",t.Qd="TextTrackCueUpdate"}(IO||(IO={}));var PO=function(t){this.type=IO.Qg,this.textTrackCue=t},xO=function(t){this.type=IO.ty,this.textTrackCue=t},LO=function(t){this.type=IO.Qd,this.textTrackCue=t},BO=function(){function t(t){var n=this;this.messageDispatcher=void 0,this.LV=function(t){var i=MO(t.cue),e=new PO(i);n.messageDispatcher.xV(e).then()},this.BV=function(t){var i=MO(t.cue),e=new xO(i);n.messageDispatcher.xV(e).then()},this.MV=function(t){var i=MO(t.cue),e=new LO(i);n.messageDispatcher.xV(e).then()},this.messageDispatcher=t}var n=t.prototype;return n.RV=function(t){t.addEventListener("enter",this.LV),t.addEventListener("exit",this.BV),t.addEventListener("update",this.MV)},n.iu=function(t){t.removeEventListener("enter",this.LV),t.removeEventListener("exit",this.BV),t.removeEventListener("update",this.MV)},t}();function MO(t){var n=KD(t,t.track.type);return n.track=t.track,n}var FO=function(){function t(t,n){var i=this;this.messageDispatcher=void 0,this.textTrackCueBridge=void 0,this.FV=function(t){var n,e=MO(t.cue),r=new DO(e,t.cue.track.uid);i.messageDispatcher.xV(r).then(),null==(n=i.textTrackCueBridge)||n.RV(t.cue)},this.UV=function(t){var n,e=MO(t.cue),r=new CO(e,t.cue.track.uid);i.messageDispatcher.xV(r).then(),null==(n=i.textTrackCueBridge)||n.iu(t.cue)},this.LV=function(t){var n=MO(t.cue),e=new NO(n,t.cue.track.uid);i.messageDispatcher.xV(e).then()},this.BV=function(t){var n=MO(t.cue),e=new OO(n,t.cue.track.uid);i.messageDispatcher.xV(e).then()},this.VV=function(t){var n=new AO(t.track.uid);i.messageDispatcher.xV(n).then()},this.messageDispatcher=t;var e=this.initMessageDispatcher(n);e&&(this.textTrackCueBridge=new BO(e))}var n=t.prototype;return n.RV=function(t){t.addEventListener("addcue",this.FV),t.addEventListener("removecue",this.UV),t.addEventListener("entercue",this.LV),t.addEventListener("exitcue",this.BV),t.addEventListener("cuechange",this.VV)},n.iu=function(t){t.removeEventListener("addcue",this.FV),t.removeEventListener("removecue",this.UV),t.removeEventListener("entercue",this.LV),t.removeEventListener("exitcue",this.BV),t.removeEventListener("cuechange",this.VV)},n.initMessageDispatcher=function(t){return St.Yn?new _O:St.Kn&&void 0!==t?new kO(t):void 0},t}(),UO=function(){function t(t,n,i){var e=this;this.textTracks=void 0,this.messageDispatcher=void 0,this.textTrackBridge=void 0,this.sdkEventBus=void 0,this.CV=function(t){var n,i=new SO(t.track);e.messageDispatcher.xV(i).then(),null==(n=e.textTrackBridge)||n.RV(t.track)},this.OV=function(t){var n,i=new EO(t.track);e.messageDispatcher.xV(i).then(),null==(n=e.textTrackBridge)||n.iu(t.track)},this.WV=function(t){var n=new RO(t.track);e.messageDispatcher.xV(n).then()},this.HV=function(t){var n=t.detail.uid,i=t.detail.mode;e.textTracks.filter(function(t){return t.uid===n})[0].mode=i},this.textTracks=t,this.messageDispatcher=n;var r=this.qV(i);r&&(this.textTrackBridge=new FO(r,i)),this.RV(),this.sdkEventBus=new dC,eC().textTrackList={sdkEventBus:this.sdkEventBus},this.sdkEventBus.addEventListener("changetrackmode",this.HV)}var n=t.prototype;return n.RV=function(){this.textTracks.addEventListener("addtrack",this.CV),this.textTracks.addEventListener("removetrack",this.OV),this.textTracks.addEventListener("change",this.WV)},n.qV=function(t){return St.Yn?new _O:St.Kn&&void 0!==t?new kO(t):void 0},t}();dR(function(t){if(t.Pd.textTracks){var n=new kO(t.Tl);new UO(t.Pd.textTracks,n,t.Tl)}});var VO,WO,HO=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.dispatchEvent=function(t,n){switch(t){case VO.zV:var i={integrationId:n.integrationId,keySystem:n.keySystem};this.Yr(new qO(i));break;default:0}},n}(dC),qO=function(t){function n(n){var i;return(i=t.call(this,VO.zV)||this).detail=n,i}return vt(n,t),n}(Cu);!function(t){t.zV="registerContentProtectionIntegration"}(VO||(VO={})),function(t){t.jV="certifiateRequest",t.$V="certifiateResponse",t.XV="licenseRequest",t.GV="licenseResponse",t.YV="extractFairplayContentId",t.KV="buildContentProtection",t.JV="registerContentProtectionCallback"}(WO||(WO={}));var zO,jO=function(t,n){this.type=WO.JV,this.value=t,this.integrationId=n};!function(t){t.VOD="vod",t.LIVE="live"}(zO||(zO={}));var $O=function(t,n){this.type=WO.KV,this.value=t,this.integrationId=n},XO=function(t,n){this.type=WO.jV,this.value=t,this.integrationId=n},GO=function(t,n){this.type=WO.$V,this.value=t,this.integrationId=n},YO=function(t,n){this.type=WO.YV,this.value=t,this.integrationId=n},KO=function(t,n){this.type=WO.XV,this.value=t,this.integrationId=n},JO=function(t,n){this.type=WO.GV,this.value=t,this.integrationId=n},QO=function(){function t(t,n){this.QV=void 0,this.DS=void 0,this.QV=t,this.DS=n}var i=t.prototype;return i.onCertificateRequest=function(t){var i,e,r,u,s,o;return lr.async(function(c){for(;;)switch(c.prev=c.next){case 0:return i=this.toCertificateRequestDTO(t),e=new XO(i,this.DS),c.prev=2,c.next=5,lr.awrap(this.QV.xV(e));case 5:if(!(r=c.sent)){c.next=16;break}if(u=JSON.parse(r),!this.ZV(u)){c.next=13;break}return s=wr({},u),c.abrupt("return",s);case 13:if(!this.tW(u)){c.next=16;break}return o=new y(u),c.abrupt("return",o);case 16:throw new ly(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Could not parse callback in onCertificateRequest");case 19:throw c.prev=19,c.t0=c.catch(2),new ly(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,c.t0);case 22:case"end":return c.stop()}},null,this,[[2,19]],j)},i.onCertificateResponse=function(t){var i,e,r,u,s;return lr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return i=this.toCertificateRequestDTO(t.request),e={request:i,url:t.url,status:t.status,statusText:t.statusText,headers:t.headers,body:Array.from(t.body)},r=new GO(e,this.DS),o.next=5,lr.awrap(this.QV.xV(r));case 5:if(!(u=o.sent)){o.next=11;break}return s=JSON.parse(u),o.abrupt("return",new y(s));case 11:throw new ly(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"received undefined instead of string in onCertificateResponse");case 12:case"end":return o.stop()}},null,this,null,j)},i.onLicenseRequest=function(t){var i,e,r,u,s,o,c;return lr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return i=this.toCertificateRequestDTO(t),e={url:i.url,method:i.method,headers:i.headers,body:i.body?Array.from(i.body):null,useCredentials:i.useCredentials,fairplaySkdUrl:t.fairplaySkdUrl},r=new KO(e,this.DS),a.prev=3,a.next=6,lr.awrap(this.QV.xV(r));case 6:if(!(u=a.sent)){a.next=17;break}if(s=JSON.parse(u),!this.ZV(s)){a.next=14;break}return o={url:s.url,method:s.method,headers:s.headers,body:s.body?new y(s.body):null,useCredentials:s.useCredentials,fairplaySkdUrl:s.fairplaySkdUrl},a.abrupt("return",o);case 14:if(!this.tW(s)){a.next=17;break}return c=new y(s),a.abrupt("return",c);case 17:throw new ly(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Could not parse callback in onLicenseRequest");case 20:throw a.prev=20,a.t0=a.catch(3),new ly(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,a.t0);case 23:case"end":return a.stop()}},null,this,[[3,20]],j)},i.onLicenseResponse=function(t){var i,e,r,u,s,o;return lr.async(function(c){for(;;)switch(c.prev=c.next){case 0:return i=this.toCertificateRequestDTO(t.request),e=wr({},i,{fairplaySkdUrl:t.request.fairplaySkdUrl}),r={request:e,url:t.url,status:t.status,statusText:t.statusText,headers:t.headers,body:Array.from(t.body)},u=new JO(r,this.DS),c.next=6,lr.awrap(this.QV.xV(u));case 6:if(!(s=c.sent)){c.next=12;break}return o=JSON.parse(s),c.abrupt("return",new y(o));case 12:throw new ly(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"received undefined instead of string in onLicenseResponse");case 13:case"end":return c.stop()}},null,this,null,j)},i.extractFairplayContentId=function(t){var i,e;return lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return i=new YO(t,this.DS),r.next=3,lr.awrap(this.QV.xV(i));case 3:if(!(e=r.sent)){r.next=6;break}return r.abrupt("return",e);case 6:return r.abrupt("return",j.reject(new ly(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"received undefined instead of string in extractFairplayContentId")));case 7:case"end":return r.stop()}},null,this,null,j)},i.toCertificateRequestDTO=function(t){return{url:t.url,method:t.method,headers:t.headers,body:t.body?Array.from(t.body):null,useCredentials:t.useCredentials}},i.ZV=function(t){var n=t;return void 0!==n.url&&void 0!==n.method&&void 0!==n.headers},i.tW=function(t){return!!new y(t)},t}(),ZO=function(){function t(t){this.QV=void 0,this.QV=t}return t.prototype.build=function(t){if(!t.integration)throw new f("integrationId is undefined");var n=new QO(this.QV,t.integration),i=new $O({drmConfiguration:t},t.integration);return this.QV.xV(i),n},t}(),tA=function(t){function n(n){var i;return(i=t.call(this)||this).QV=void 0,i.QV=new kO(n),i}return vt(n,t),ft(n,[{key:"messageDispatcher",get:function(){return this.QV}}]),n}(function(){var t=this;this.YF=void 0,this.nW=function(n){var i=new ZO(t.messageDispatcher),e=n.detail,r=e.integrationId,u=e.keySystem,s={state:Ip.xS.NS(r,u,i)};t.messageDispatcher.xV(new jO(s,r))},this.YF=new HO,eC().contentProtectionIntegration={sdkEventBus:this.YF},this.YF.addEventListener(VO.zV,this.nW)});dR(function(t){new tA(t.Pd.uid)}),n.ChromelessPlayer=PR,n.Player=PR,n.createGlobals=sC,n.features=[],n.getCueMirrorMap=rC,n.getGlobalId=uC,n.getSdkEventBridge=eC,n.playerSuiteVersion="2022.3.2",n.players=LR,n.registerContentProtectionIntegration=BR,n.utils=xR,n.version="4.0.0",v.defineProperty(n,"__esModule",{value:!0})})}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:this);
