/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com

 This product makes use of Open Source Software: long.js
 (Apache 2.0), promise-polyfill (MIT - Copyright (c) 2014
 Taylor Hakes & Forbes Lindesay), shaka-player (Apache 2.0 -
 Copyright 2016 Google LLC)
 The code of these projects has been heavily modified during
 integration.
 More information on the licenses can be found here: Apache 2.0
(http://www.apache.org/licenses/LICENSE-2.0), MIT
(https://opensource.org/licenses/MIT)


 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 2022.2.2 (3.5.0)
 Created: 2022-06-02T15:11:03.502Z
 */
!function(t){!function(n,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i((n="undefined"!=typeof globalThis?globalThis:n||t).THEOplayer={})}(this,function(n){"use strict";var i=t.window,e=t.document,r=t.location,u=t.navigator,s=t.setTimeout,o=t.clearTimeout,c=t.setInterval,a=t.clearInterval,f=t.Error,h=t.TypeError,v=(t.SyntaxError,t.Object),d=t.Math,l=t.parseInt,w=t.parseFloat,g=t.isNaN,y=t.Uint8Array,m=(t.Worker,t.WorkerGlobalScope,t.XMLHttpRequest);var b=s;function p(t){return Boolean(t&&void 0!==t.length)}function _(){}function k(t){if(!(this instanceof k))throw new h("Promises must be constructed via new");if("function"!=typeof t)throw new h("not a function");this.o=0,this.l=!1,this.g=void 0,this.p=[],D(t,this)}function T(t,n){for(;3===t.o;)t=t.g;0!==t.o?(t.l=!0,k.R(function(){var i=1===t.o?n.onFulfilled:n.onRejected;if(null!==i){var e;try{e=i(t.g)}catch(t){return void E(n.promise,t)}S(n.promise,e)}else(1===t.o?S:E)(n.promise,t.g)})):t.p.push(n)}function S(t,n){try{if(n===t)throw new h("A promise cannot be resolved with itself.");if(n&&("object"==typeof n||"function"==typeof n)){var i=n.then;if(n instanceof k)return t.o=3,t.g=n,void R(t);if("function"==typeof i)return void D((e=i,r=n,function(){e.apply(r,arguments)}),t)}t.o=1,t.g=n,R(t)}catch(n){E(t,n)}var e,r}function E(t,n){t.o=2,t.g=n,R(t)}function R(t){2===t.o&&0===t.p.length&&k.R(function(){t.l||k.I(t.g)});for(var n=0,i=t.p.length;n<i;n++)T(t,t.p[n]);t.p=null}function I(t,n,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof n?n:null,this.promise=i}function D(t,n){var i=!1;try{t(function(t){i||(i=!0,S(n,t))},function(t){i||(i=!0,E(n,t))})}catch(t){if(i)return;i=!0,E(n,t)}}k.prototype.catch=function(t){return this.then(null,t)},k.prototype.then=function(t,n){var i=new this.constructor(_);return T(this,new I(t,n,i)),i},k.prototype.finally=function(t){var n=this.constructor;return this.then(function(i){return n.resolve(t()).then(function(){return i})},function(i){return n.resolve(t()).then(function(){return n.reject(i)})})},k.all=function(t){return new k(function(n,i){if(!p(t))return i(new h("Promise.all accepts an array"));var e=Array.prototype.slice.call(t);if(0===e.length)return n([]);var r=e.length;function u(t,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var o=s.then;if("function"==typeof o)return void o.call(s,function(n){u(t,n)},i)}e[t]=s,0==--r&&n(e)}catch(t){i(t)}}for(var s=0;s<e.length;s++)u(s,e[s])})},k.allSettled=function(t){return new this(function(n,i){if(!t||void 0===t.length)return i(new h(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var e=Array.prototype.slice.call(t);if(0===e.length)return n([]);var r=e.length;function u(t,i){if(i&&("object"==typeof i||"function"==typeof i)){var s=i.then;if("function"==typeof s)return void s.call(i,function(n){u(t,n)},function(i){e[t]={status:"rejected",reason:i},0==--r&&n(e)})}e[t]={status:"fulfilled",value:i},0==--r&&n(e)}for(var s=0;s<e.length;s++)u(s,e[s])})},k.resolve=function(t){return t&&"object"==typeof t&&t.constructor===k?t:new k(function(n){n(t)})},k.reject=function(t){return new k(function(n,i){i(t)})},k.race=function(t){return new k(function(n,i){if(!p(t))return i(new h("Promise.race accepts an array"));for(var e=0,r=t.length;e<r;e++)k.resolve(t[e]).then(n,i)})},k.R="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){b(t,0)},k.I=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var N=function(){var n=t.Promise;if(void 0!==n)try{if(-1!==n.toString().indexOf("[native code]"))return n}catch(t){}}(),O=u?u.userAgent:"",C=O.match(/Firefox\/([0-9]+)/i),A=null!=C,P=C?Number(C[1]):0,x=O.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),L=null!=x,B=x?Number(x[3]):0,M=function(){function t(t){this.N=0,this.C=0,this.P=[],this.B=t}return t.prototype.M=function(t){var n=this.length();this.F(n+1);var i=this.C+n&this.B-1;this.P[i]=t,this.N=n+1},t.prototype.push=function(t){var n=this.length()+1;if(this.B<n)this.M(t);else{var i=this.C+n-1,e=this.B-1;this.P[i&e]=t,this.N=n}},t.prototype.shift=function(){var t=this.C,n=this.P[t];return this.P[t]=void 0,this.C=t+1&this.B-1,this.N--,n},t.prototype.length=function(){return this.N},t.prototype.F=function(t){this.B<t&&this.U(this.B<<1)},t.prototype.U=function(t){var n=this.B;this.B=t;var i=this.C+this.N&n-1;!function(t,n,i,e){for(var r=0;r<e;++r)t[r+i]=t[r+n],t[r+n]=void 0}(this.P,0,n,i)},t}();var F="unhandledrejection",U=t.PromiseRejectionEvent,V=t.CustomEvent;function q(t){return new U(F,{reason:t,promise:N.reject(t).catch(function(){}),cancelable:!0})}function z(t){var n=new V(F,{detail:{reason:t},cancelable:!0});return v.defineProperty(n,"reason",{value:t}),n}function W(t){var n=e.createEvent("CustomEvent");return n.initCustomEvent(F,!1,!0,{reason:t}),n}var H,j,$,X,G,Y,K,J,Q,Z,tt,nt,it=function(t){return(it=function(){try{var t=N.resolve(),n=new U(F,{reason:"error",promise:t});return F===n.type&&"error"===n.reason}catch(t){}return!1}()?q:function(){try{var t=new V(F,{detail:{reason:"error"}});return F===t.type&&"error"===t.detail.reason}catch(t){}return!1}()?z:W)(t)};if(N&&!(A&&P<60||L&&B<15))j=N,function(){};else{j=k;var et=null!==(H=function(){var n=t.queueMicrotask;if("function"==typeof n)return function(t){return n(t)};var i=N;if(i&&"function"==typeof i.resolve){var e=i.resolve();return function(t){return e.then(t)}}}())&&void 0!==H?H:k.R,rt=($=et,X=new M(16),G=!1,{V:function(t){X.push(t),G||(G=!0,$(Y))},W:Y=function(){for(;X.length()>0;)X.shift()();G=!1}});rt.W,k.R=rt.V,k.I=function(n){try{var i=it(n);if(!t.dispatchEvent(i)||i.defaultPrevented)return}catch(t){}s(function(){throw new f("Unhandled promise rejection: ".concat(n))},0)}}var ut,st,ot,ct={H:function(){function t(){this.j=[]}var n=t.prototype;return n.X=function(){},n.G=function(t){return{Y:function(){return j.resolve()},K:function(){}}},n.J=function(t){throw new f("Not implemented")},n.Z=function(t){return j.resolve()},n.nt=function(t){return j.resolve()},n.it=function(t){},n.et=function(){},t}(),rt:function(){function t(){}var n=t.prototype;return n.ut=function(){return j.resolve("all")},n.st=function(){},n.et=function(){},t}(),ot:{ct:function(t){getActiveDocument().addEventListener("unload",t)},ft:function(t){getActiveDocument().removeEventListener("unload",t)}},ht:{location:{href:"https://theoplayer.doubleclick.net"},get document(){return getActiveDocument()},top:void 0,parent:void 0,self:t,navigator:{userAgent:""},ResizeObserver:function(t){this.observe=function(t){},this.unobserve=function(t){},this.disconnect=function(){}}}};function at(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),v.defineProperty(t,e.key,e)}}function ft(t,n,i){return n&&at(t.prototype,n),i&&at(t,i),v.defineProperty(t,"prototype",{writable:!1}),t}function ht(t,n){return(ht=v.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function vt(t,n){t.prototype=v.create(n.prototype),t.prototype.constructor=t,ht(t,n)}function dt(t){st=t}Element.prototype.style={},K=(ut=ct).H,J=ut.rt,Q=ut.ot,Z=ut.ht,tt=Z&&Z.location,nt=Z&&Z.navigator,function(t){t.vt="web",t.dt="android",t.wt="android-tv",t.yt="ios",t.bt="tvos",t.pt="chromecast"}(ot||(ot={}));var lt=u?u.userAgent:"",wt=lt.match(/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),gt=lt.match(/Edg\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),yt=lt.match(/Android ([0-9\.]+)/i),mt=lt.match(/Windows NT ([0-9\.]+)/i),bt=lt.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),pt=lt.match(/Firefox\/([0-9\.]+)/i),_t=lt.match(/OPR\/(\d+\.\d+)/i),kt=lt.match(/Tizen ([0-9\.]+)/i),Tt=function(){function n(){this._t=Boolean("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch||u&&u.msMaxTouchPoints),this.kt=/(mac\sos\sx)\s?([\w\s\.]+\w)*/i.test(lt)||/(macintosh|mac(?=_powerpc)\s)/i.test(lt),this.Tt=/Windows NT/i.test(lt),this.St=mt?w(mt[1]):0,this.Et=/Android/i.test(lt),this.Rt=yt?w(yt[1]):0,this.It=/windows phone (8|8\.1)/i.test(lt),this.Dt=/iPhone/i.test(lt),this.Nt=/iPad/i.test(lt),this.Ot=this.kt&&this._t&&!this.Nt,this.Ct=/iPod/i.test(lt),this.At=/Mobile Safari/i.test(lt),this.Pt=/EOSSTB/i.test(lt),this.xt=(this.Dt||this.Nt||this.Ot||this.Ct)&&!this.It,this.Lt=this.It||this.xt||this.Et||this.At,this.Bt=/CriOS/i.test(lt),this.Mt=Boolean(t.chrome&&/google/i.test(u.vendor))||this.Bt,this.Ft=this.Mt&&/Edg\//i.test(u.userAgent),this.Ut=gt?l(gt[1],10):0,this.Vt=Boolean(t.chrome||/Chrome/i.test(lt)||/CriOS/i.test(lt)),this.qt=wt?l(wt[1],10):0,this.zt=/SMART-TV.*Tizen/i.test(lt),this.Wt=kt?w(kt[1]):0,this.Ht=/webos|web0s/i.test(lt),this.jt=/Edge\/\d+/i.test(lt),this.$t=/Trident/i.test(lt),this.Xt=this.$t&&!t.ActiveXObject&&"ActiveXObject"in t,this.Gt=/Vivaldi/i.test(lt),this.Yt=/Firefox/i.test(lt)&&!/Seamonkey/i.test(lt),this.Kt=pt?w(pt[1]):0,this.Jt=/Safari/i.test(lt)&&!/Chrome/i.test(lt)&&!this.It&&!this.zt,this.Qt=bt?w(bt[2]):0,this.Zt=Boolean(_t),this.tn=_t?w(_t[1]):0,this.nn=/CrKey/.test(lt),this.in=/\b(tv|smart-tv|smarttv|appletv|crkey|googletv|hbbtv|pov_tv|roku|viera|nettv|philipstv)\b/i.test(lt),this.en="tvos"===ot.wt,this.rn="tvos"===ot.dt,this.un=this.rn||this.en,this.sn="tvos"===ot.yt,this.cn="tvos"===ot.bt,this.an="tvos"===ot.pt}return ft(n,[{key:"fn",get:function(){return this._t}},{key:"hn",get:function(){return this.kt}},{key:"vn",get:function(){return this.Tt}},{key:"dn",get:function(){return this.St}},{key:"ln",get:function(){return this.Et}},{key:"wn",get:function(){return this.Rt}},{key:"gn",get:function(){return this.It}},{key:"yn",get:function(){return this.Dt}},{key:"mn",get:function(){return this.Nt}},{key:"bn",get:function(){return this.Ot}},{key:"pn",get:function(){return this.Ct}},{key:"_n",get:function(){return this.xt}},{key:"kn",get:function(){return this.Pt}},{key:"Tn",get:function(){return this.At}},{key:"Sn",get:function(){return this.Lt}},{key:"En",get:function(){return this.Bt}},{key:"Rn",get:function(){return this.Mt}},{key:"In",get:function(){return this.qt}},{key:"Dn",get:function(){return this.Ft}},{key:"Nn",get:function(){return this.Ut}},{key:"On",get:function(){return this.zt}},{key:"Cn",get:function(){return this.Wt}},{key:"An",get:function(){return this.Ht}},{key:"Pn",get:function(){return this.jt}},{key:"xn",get:function(){return this.$t}},{key:"Ln",get:function(){return this.Xt}},{key:"Bn",get:function(){return this.Gt}},{key:"Mn",get:function(){return this.Yt}},{key:"Fn",get:function(){return this.Kt}},{key:"Un",get:function(){return this.Jt}},{key:"Vn",get:function(){return this.Qt}},{key:"qn",get:function(){return this.Zt}},{key:"zn",get:function(){return this.tn}},{key:"Wn",get:function(){return this.nn}},{key:"Hn",get:function(){return this.in}},{key:"jn",get:function(){if(!(this.An||this.On))return!1;var t=this.In;return void 0===t||Number(t)<56}},{key:"$n",get:function(){return this.en}},{key:"Xn",get:function(){return this.rn}},{key:"Gn",get:function(){return this.un}},{key:"Yn",get:function(){return this.sn}},{key:"Kn",get:function(){return this.cn}},{key:"Jn",get:function(){return this.an}},{key:"Qn",get:function(){return this.Vt}}]),n}();Tt.Zn=new Tt;var St=Tt.Zn,Et={}.hasOwnProperty,Rt={}.toString;function It(t){return null!=t}var Dt=Array.isArray||function(t){return"[object Array]"===Rt.call(t)};function Nt(t){return Ot(t)&&Et.call(t,"length")&&Lt(t.length)}function Ot(t){return"object"==typeof t&&null!==t}function Ct(t){return Ot(t)&&t.constructor&&t.constructor===v}function At(t){return"string"==typeof t}function Pt(t){return"boolean"==typeof t}function xt(t){return Boolean(t)&&"function"==typeof t.then}function Lt(t){return"number"==typeof t}var Bt=function(){},Mt=function(t){return t},Ft=!(St.xn&&!St.Ln),Ut=t.console;function Vt(t){if(Ot(t))try{return JSON.stringify(t)}catch(t){}return t}function qt(t){return t.map(Vt).join(" ")}function zt(t){var n=Ut&&Ut[t];return n?n.bind&&Ft?n.bind(Ut):function(){for(var n=arguments.length,i=new Array(n),e=0;e<n;e++)i[e]=arguments[e];Ut[t](qt(i))}:void 0}var Wt,Ht=zt("log")||Bt,jt=zt("warn")||Ht.bind(void 0,"WARNING:"),$t=zt("error")||Ht.bind(void 0,"ERROR:"),Xt=(Wt=Ut&&Ut.assert)?Wt.bind&&Ft?Wt.bind(Ut):function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];Ut.assert(t,qt(i))}:function(t){if(!t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];$t.apply(void 0,["Assertion failed:"].concat(i))}};function Gt(t,n,i){return t(i={path:n,exports:{},require:function(t,n){return function(){throw new f("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==n&&i.path)}},i.exports),i.exports}var Yt=Gt(function(t,n){var i=function(t){v.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=null;try{n=new WebAssembly.Instance(new WebAssembly.Module(new y([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function i(t,n,i){this.low=0|t,this.high=0|n,this.unsigned=!!i}function e(t){return!0===(t&&t.ti)}function r(t){var n=d.clz32(t&-t);return t?31-n:n}i.prototype.ti,v.defineProperty(i.prototype,"ti",{value:!0}),i.isLong=e;var u={},s={};function o(t,n){var i,e,r;return n?(r=0<=(t>>>=0)&&t<256)&&(e=s[t])?e:(i=a(t,0,!0),r&&(s[t]=i),i):(r=-128<=(t|=0)&&t<128)&&(e=u[t])?e:(i=a(t,t<0?-1:0,!1),r&&(u[t]=i),i)}function c(t,n){if(g(t))return n?S:T;if(n){if(t<0)return S;if(t>=p)return N}else{if(t<=-_)return O;if(t+1>=_)return D}return t<0?c(-t,n).neg():a(t%b|0,t/b|0,n)}function a(t,n,e){return new i(t,n,e)}i.fromInt=o,i.fromNumber=c,i.fromBits=a;var h=d.pow;function w(t,n,i){if(0===t.length)throw f("empty string");if("number"==typeof n?(i=n,n=!1):n=!!n,"NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return n?S:T;if((i=i||10)<2||36<i)throw RangeError("radix");var e;if((e=t.indexOf("-"))>0)throw f("interior hyphen");if(0===e)return w(t.substring(1),n,i).neg();for(var r=c(h(i,8)),u=T,s=0;s<t.length;s+=8){var o=d.min(8,t.length-s),a=l(t.substring(s,s+o),i);if(o<8){var v=c(h(i,o));u=u.mul(v).add(c(a))}else u=(u=u.mul(r)).add(c(a))}return u.unsigned=n,u}function m(t,n){return"number"==typeof t?c(t,n):"string"==typeof t?w(t,n):a(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}i.fromString=w,i.fromValue=m;var b=4294967296,p=b*b,_=p/2,k=o(1<<24),T=o(0);i.ZERO=T;var S=o(0,!0);i.UZERO=S;var E=o(1);i.ONE=E;var R=o(1,!0);i.UONE=R;var I=o(-1);i.NEG_ONE=I;var D=a(-1,2147483647,!1);i.MAX_VALUE=D;var N=a(-1,-1,!0);i.MAX_UNSIGNED_VALUE=N;var O=a(0,-2147483648,!1);i.MIN_VALUE=O;var C=i.prototype;C.toInt=function(){return this.unsigned?this.low>>>0:this.low},C.toNumber=function(){return this.unsigned?(this.high>>>0)*b+(this.low>>>0):this.high*b+(this.low>>>0)},C.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(O)){var n=c(t),i=this.div(n),e=i.mul(n).sub(this);return i.toString(t)+e.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var r=c(h(t,6),this.unsigned),u=this,s="";;){var o=u.div(r),a=(u.sub(o.mul(r)).toInt()>>>0).toString(t);if((u=o).isZero())return a+s;for(;a.length<6;)a="0"+a;s=""+a+s}},C.getHighBits=function(){return this.high},C.getHighBitsUnsigned=function(){return this.high>>>0},C.getLowBits=function(){return this.low},C.getLowBitsUnsigned=function(){return this.low>>>0},C.getNumBitsAbs=function(){if(this.isNegative())return this.eq(O)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,n=31;n>0&&0==(t&1<<n);n--);return 0!=this.high?n+33:n+1},C.isZero=function(){return 0===this.high&&0===this.low},C.eqz=C.isZero,C.isNegative=function(){return!this.unsigned&&this.high<0},C.isPositive=function(){return this.unsigned||this.high>=0},C.isOdd=function(){return 1==(1&this.low)},C.isEven=function(){return 0==(1&this.low)},C.equals=function(t){return e(t)||(t=m(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},C.eq=C.equals,C.notEquals=function(t){return!this.eq(t)},C.neq=C.notEquals,C.ne=C.notEquals,C.lessThan=function(t){return this.comp(t)<0},C.lt=C.lessThan,C.lessThanOrEqual=function(t){return this.comp(t)<=0},C.lte=C.lessThanOrEqual,C.le=C.lessThanOrEqual,C.greaterThan=function(t){return this.comp(t)>0},C.gt=C.greaterThan,C.greaterThanOrEqual=function(t){return this.comp(t)>=0},C.gte=C.greaterThanOrEqual,C.ge=C.greaterThanOrEqual,C.compare=function(t){if(e(t)||(t=m(t)),this.eq(t))return 0;var n=this.isNegative(),i=t.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},C.comp=C.compare,C.negate=function(){return!this.unsigned&&this.eq(O)?O:this.not().add(E)},C.neg=C.negate,C.add=function(t){e(t)||(t=m(t));var n=this.high>>>16,i=65535&this.high,r=this.low>>>16,u=65535&this.low,s=t.high>>>16,o=65535&t.high,c=t.low>>>16,f=0,h=0,v=0,d=0;return v+=(d+=u+(65535&t.low))>>>16,h+=(v+=r+c)>>>16,f+=(h+=i+o)>>>16,f+=n+s,a((v&=65535)<<16|(d&=65535),(f&=65535)<<16|(h&=65535),this.unsigned)},C.subtract=function(t){return e(t)||(t=m(t)),this.add(t.neg())},C.sub=C.subtract,C.multiply=function(t){if(this.isZero())return this;if(e(t)||(t=m(t)),n)return a(n.mul(this.low,this.high,t.low,t.high),n.get_high(),this.unsigned);if(t.isZero())return this.unsigned?S:T;if(this.eq(O))return t.isOdd()?O:T;if(t.eq(O))return this.isOdd()?O:T;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(k)&&t.lt(k))return c(this.toNumber()*t.toNumber(),this.unsigned);var i=this.high>>>16,r=65535&this.high,u=this.low>>>16,s=65535&this.low,o=t.high>>>16,f=65535&t.high,h=t.low>>>16,v=65535&t.low,d=0,l=0,w=0,g=0;return w+=(g+=s*v)>>>16,l+=(w+=u*v)>>>16,w&=65535,l+=(w+=s*h)>>>16,d+=(l+=r*v)>>>16,l&=65535,d+=(l+=u*h)>>>16,l&=65535,d+=(l+=s*f)>>>16,d+=i*v+r*h+u*f+s*o,a((w&=65535)<<16|(g&=65535),(d&=65535)<<16|(l&=65535),this.unsigned)},C.mul=C.multiply,C.divide=function(t){if(e(t)||(t=m(t)),t.isZero())throw f("division by zero");var i,r,u;if(n)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?a((this.unsigned?n.div_u:n.div_s)(this.low,this.high,t.low,t.high),n.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?S:T;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return S;if(t.gt(this.shru(1)))return R;u=S}else{if(this.eq(O))return t.eq(E)||t.eq(I)?O:t.eq(O)?E:(i=this.shr(1).div(t).shl(1)).eq(T)?t.isNegative()?E:I:(r=this.sub(t.mul(i)),u=i.add(r.div(t)));if(t.eq(O))return this.unsigned?S:T;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();u=T}for(r=this;r.gte(t);){i=d.max(1,d.floor(r.toNumber()/t.toNumber()));for(var s=d.ceil(d.log(i)/d.LN2),o=s<=48?1:h(2,s-48),v=c(i),l=v.mul(t);l.isNegative()||l.gt(r);)l=(v=c(i-=o,this.unsigned)).mul(t);v.isZero()&&(v=E),u=u.add(v),r=r.sub(l)}return u},C.div=C.divide,C.modulo=function(t){return e(t)||(t=m(t)),n?a((this.unsigned?n.rem_u:n.rem_s)(this.low,this.high,t.low,t.high),n.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},C.mod=C.modulo,C.rem=C.modulo,C.not=function(){return a(~this.low,~this.high,this.unsigned)},C.countLeadingZeros=function(){return this.high?d.clz32(this.high):d.clz32(this.low)+32},C.clz=C.countLeadingZeros,C.countTrailingZeros=function(){return this.low?r(this.low):r(this.high)+32},C.ctz=C.countTrailingZeros,C.and=function(t){return e(t)||(t=m(t)),a(this.low&t.low,this.high&t.high,this.unsigned)},C.or=function(t){return e(t)||(t=m(t)),a(this.low|t.low,this.high|t.high,this.unsigned)},C.xor=function(t){return e(t)||(t=m(t)),a(this.low^t.low,this.high^t.high,this.unsigned)},C.shiftLeft=function(t){return e(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?a(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):a(0,this.low<<t-32,this.unsigned)},C.shl=C.shiftLeft,C.shiftRight=function(t){return e(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?a(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):a(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},C.shr=C.shiftRight,C.shiftRightUnsigned=function(t){return e(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?a(this.low>>>t|this.high<<32-t,this.high>>>t,this.unsigned):a(32===t?this.high:this.high>>>t-32,0,this.unsigned)},C.shru=C.shiftRightUnsigned,C.shr_u=C.shiftRightUnsigned,C.rotateLeft=function(t){var n;return e(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?a(this.high,this.low,this.unsigned):t<32?(n=32-t,a(this.low<<t|this.high>>>n,this.high<<t|this.low>>>n,this.unsigned)):(n=32-(t-=32),a(this.high<<t|this.low>>>n,this.low<<t|this.high>>>n,this.unsigned))},C.rotl=C.rotateLeft,C.rotateRight=function(t){var n;return e(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?a(this.high,this.low,this.unsigned):t<32?(n=32-t,a(this.high<<n|this.low>>>t,this.low<<n|this.high>>>t,this.unsigned)):(n=32-(t-=32),a(this.low<<n|this.high>>>t,this.high<<n|this.low>>>t,this.unsigned))},C.rotr=C.rotateRight,C.toSigned=function(){return this.unsigned?a(this.low,this.high,!1):this},C.toUnsigned=function(){return this.unsigned?this:a(this.low,this.high,!0)},C.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},C.toBytesLE=function(){var t=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},C.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]},i.fromBytes=function(t,n,e){return e?i.fromBytesLE(t,n):i.fromBytesBE(t,n)},i.fromBytesLE=function(t,n){return new i(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},i.fromBytesBE=function(t,n){return new i(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};var A=i;return t.default=A,"default"in t?t.default:t}({});t.exports=i}),Kt=d.pow(2,-52);function Jt(t,n,i){return d.min(d.max(t,n),i)}function Qt(t,n,i){return t===n||d.abs(t-n)<=i}function Zt(t,n){for(var i=t,e=n;0!==e;){var r=i%e;i=e,e=r}return i<0?-i:i}function tn(){return Date.now()||(new Date).getTime()}function nn(t){return t/1e3}var en;Yt.fromNumber(9007199254740991);function rn(t){return t.ni===en.ii}function un(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}!function(t){t[t.ii=1]="ii",t[t.ei=2]="ei",t[t.ri=3]="ri",t[t.ui=4]="ui",t[t.si=9]="si"}(en||(en={}));var sn=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];f.apply(this,n)};(sn.prototype=v.create(f.prototype)).constructor=sn;var on=function(t){function n(n,i){var e;return(e=t.call(this)||this).cause=void 0,e.message=n||"Unknown error",e.cause=i,f.captureStackTrace&&f.captureStackTrace(un(e),e.constructor),e}return vt(n,t),ft(n,[{key:"name",get:function(){return"BaseError"}}]),n}(sn),cn=function(t){function n(n){return t.call(this,"Invalid XML",n)||this}return vt(n,t),n}(on),an=function(){function t(){}return t.prototype.oi=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new cn(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new cn;return new gn(n)},t}(),fn=function(){function t(t){this.ci=void 0,this.ci=t}var n=t.prototype;return n.ai=function(t){return this.ci.isEqualNode(t.ci)},n.fi=function(n){return new t(this.ci.cloneNode(n))},ft(t,[{key:"ni",get:function(){return en.ei}},{key:"hi",get:function(){var t;return null!=(t=this.ci.localName)?t:bn(this.ci.nodeName)}},{key:"vi",get:function(){return this.ci.nodeName}},{key:"di",get:function(){var t;return null!=(t=this.ci.namespaceURI)?t:void 0}},{key:"li",get:function(){var t;return null!=(t=this.ci.prefix)?t:void 0}},{key:"wi",get:function(){return this.ci.nodeValue}}]),t}(),hn=function(){function t(t){this.gi=void 0,this.yi=void 0,this.gi=t}var n=t.prototype;return n.mi=function(t){return this.bi.filter(function(n){return yn(n)&&n.pi===t})},n._i=function(t,n){return this.bi.filter(function(i){return yn(i)&&i.hi===n&&i.di===t})},n.ki=function(t){this.gi.appendChild(t.Ti),this.yi&&this.yi.push(t)},n.ai=function(t){return this.gi.isEqualNode(t.Ti)},ft(t,[{key:"bi",get:function(){return void 0===this.yi&&(this.yi=function(t){for(var n=[],i=0;i<t.length;i++){var e=mn(t.item(i));e&&n.push(e)}return n}(this.gi.childNodes)),this.yi}},{key:"Si",get:function(){return this.bi.filter(yn)}},{key:"Ti",get:function(){return this.gi}}]),t}(),vn=function(t){function n(n){return t.call(this,n)||this}vt(n,t);var i=n.prototype;return i.Ei=function(t){if(this.gi.hasAttribute(t))return this.gi.getAttribute(t)},i.Ri=function(t,n){if(this.gi.hasAttributeNS(t,n))return this.gi.getAttributeNS(t,n)},i.Ii=function(t){this.gi.removeAttribute(t)},i.Di=function(t,n){this.gi.removeAttributeNS(t,n)},i.Ni=function(t,n){this.gi.setAttribute(t,n)},i.Oi=function(t,n,i){this.gi.setAttributeNS(t,n,i)},i.fi=function(t){return new n(this.gi.cloneNode(t))},ft(n,[{key:"ni",get:function(){return en.ii}},{key:"hi",get:function(){var t;return null!=(t=this.gi.localName)?t:bn(this.gi.nodeName)}},{key:"di",get:function(){var t;return null!=(t=this.gi.namespaceURI)?t:void 0}},{key:"li",get:function(){var t;return null!=(t=this.gi.prefix)?t:void 0}},{key:"pi",get:function(){return this.gi.nodeName}},{key:"Ci",get:function(){return function(t){for(var n=[],i=0;i<t.length;i++)n.push(new fn(t.item(i)));return n}(this.gi.attributes)}},{key:"Ai",get:function(){return this.gi.textContent}}]),n}(hn),dn=function(){function t(t){this.gi=void 0,this.gi=t}return t.prototype.ai=function(t){return this.Pi===t.Pi},ft(t,[{key:"Pi",get:function(){return this.gi.nodeValue}},{key:"Ti",get:function(){return this.gi}}]),t}(),ln=function(t){function n(n){return t.call(this,n)||this}return vt(n,t),n.prototype.fi=function(t){return new n(this.gi.cloneNode(t))},ft(n,[{key:"ni",get:function(){return en.ri}}]),n}(dn),wn=function(t){function n(n){return t.call(this,n)||this}return vt(n,t),n.prototype.fi=function(t){return new n(this.gi.cloneNode(t))},ft(n,[{key:"ni",get:function(){return en.ui}}]),n}(dn),gn=function(t){function n(n){return t.call(this,n)||this}return vt(n,t),n.prototype.fi=function(t){return new n(this.gi.cloneNode(t))},ft(n,[{key:"ni",get:function(){return en.si}},{key:"xi",get:function(){return new vn(this.gi.documentElement)}}]),n}(hn);function yn(t){return rn(t)}function mn(t){switch(t.nodeType){case en.ii:return new vn(t);case en.ri:return new ln(t);case en.ui:return new wn(t)}}function bn(t){var n=t.indexOf(":");return n<0?t:t.substr(n+1)}function pn(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),v.defineProperty(t,e.key,e)}}function _n(t,n){var i=function(t,n){var i=t.length;if(i<=1)return t;for(var e=new Array(i),r=1;r<i;r*=2){kn(t,n,r,e);var u=t;t=e,e=u}return t}(t,n);return i!==t&&kn(i,null,t.length,t),t}function kn(t,n,i,e){var r,u,s,o,c,a=t.length,f=0,h=2*i;for(r=0;r<a;r+=h)for(s=(u=r+i)+i,u>a&&(u=a),s>a&&(s=a),o=r,c=u;;)if(o<u&&c<s)n(t[o],t[c])<=0?e[f++]=t[o++]:e[f++]=t[c++];else if(o<u)e[f++]=t[o++];else{if(!(c<s))break;e[f++]=t[c++]}}var Tn=/[a-zA-Z]/,Sn=/[0-9]/,En=/[0-9a-fA-F]/,Rn=/^0x/i,In=/^[0-9]+$/,Dn=/^[0-9a-fA-F]+$/,Nn=/^[0-7]+$/,On=v.prototype.toString,Cn=Array.isArray||function(t){return"[object Array]"===On.call(t)},An="undefined"!=typeof Symbol&&"symbol"==typeof Symbol.iterator;function Pn(t){return Cn(t)?t:Array.from(t)}function xn(t){return t>=65&&t<=90}function Ln(t){return xn(t)||function(t){return t>=97&&t<=122}(t)}function Bn(t){return t>=48&&t<=57}function Mn(t){return Bn(t)||Ln(t)}function Fn(t){return Bn(t)||t>=65&&t<=70||t>=97&&t<=102}function Un(t){return xn(t)?t+32:t}function Vn(t){return Bn(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function qn(t,n){return void 0===n&&(n=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(n?87:55):-1}var zn=d.min,Wn=String.fromCharCode,Hn=16384;function jn(t){for(var n=t.length,i=[],e=0;e<n;e+=Hn){var r=zn(e+Hn,n);i.push(Wn.apply(null,t.slice(e,r)))}return i.join("")}var $n=/[^\0-\x7E]/,Xn=/[\x2E\u3002\uFF0E\uFF61]/g,Gn={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Yn=d.floor,Kn=String.fromCharCode;function Jn(t){throw new RangeError(Gn[t])}function Qn(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&r)<<10)+(1023&u)+65536):(n.push(r),i--)}else n.push(r)}return n}var Zn,ti,ni,ii=function(t,n){return t+22+75*(t<26)-((0!=n)<<5)},ei=function(t,n,i){var e=0;for(t=i?Yn(t/700):t>>1,t+=Yn(t/n);t>455;e+=36)t=Yn(t/35);return Yn(e+36*t/(t+38))},ri=function(t){return function(t,n){var i=t.split("@"),e="";i.length>1&&(e=i[0]+"@",t=i[1]);var r=function(t,n){for(var i=[],e=t.length;e--;)i[e]=n(t[e]);return i}((t=t.replace(Xn,".")).split("."),n).join(".");return e+r}(t,function(t){return $n.test(t)?"xn--"+function(t){for(var n=[],i=(t=Qn(t)).length,e=128,r=0,u=72,s=0,o=t;s<o.length;s++){var c=o[s];c<128&&n.push(Kn(c))}var a=n.length,f=a;for(a&&n.push("-");f<i;){for(var h=2147483647,v=0,d=t;v<d.length;v++){var l=d[v];l>=e&&l<h&&(h=l)}var w=f+1;h-e>Yn((2147483647-r)/w)&&Jn("overflow"),r+=(h-e)*w,e=h;for(var g=0,y=t;g<y.length;g++){var m=y[g];if(m<e&&++r>2147483647&&Jn("overflow"),m==e){for(var b=r,p=36;;p+=36){var _=p<=u?1:p>=u+26?26:p-u;if(b<_)break;var k=b-_,T=36-_;n.push(Kn(ii(_+k%T,0))),b=Yn(k/T)}n.push(Kn(ii(b,0))),u=ei(r,w,f==a),r=0,++f}}++r,++e}return n.join("")}(t):t})};function ui(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return jn(n)}function si(t){if(t>=55296&&t<=57343)throw new f("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function oi(t,n){return t>>n&63|128}function ci(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(si(t),n.push(t>>12&15|224),n.push(oi(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(oi(t,12)),n.push(oi(t,6))),n.push(63&t|128)):n.push(t)}function ai(t){for(var n=[],i=0;i<t.length;i++){ci(t[i],n)}return n}function fi(){if(ni>=ti)throw new f("Invalid byte index");var t=255&Zn[ni];if(ni++,128==(192&t))return 63&t;throw new f("Invalid continuation byte")}function hi(){var t,n;if(ni>ti)throw new f("Invalid byte index");if(ni===ti)return!1;if(t=255&Zn[ni],ni++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|fi())>=128)return n;throw new f("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|fi()<<6|fi())>=2048)return si(n),n;throw new f("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|fi()<<12|fi()<<6|fi())>=65536&&n<=1114111)return n;throw new f("Invalid UTF-8 detected")}function vi(t){return[37,qn(t>>4),qn(15&t)]}function di(t){return function(t){return t>=0&&t<=31}(t)||t>126}function li(t){return di(t)||32===t||34===t||60===t||62===t||96===t}function wi(t){return li(t)||35===t||63===t||123===t||125===t}function gi(t){return wi(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function yi(t){return t<33||t>126||34===t||35===t||60===t||62===t}function mi(t){return yi(t)||39===t}function bi(t,n){if(!n(t))return[t];for(var i=ai([t]),e=[],r=0;r<i.length;r++){var u=i[r];e.push.apply(e,vi(u))}return e}function pi(t,n){for(var i=[],e=0,r=Qn(t);e<r.length;e++){var u=r[e];i.push.apply(i,bi(u,n))}return ui(i)}function _i(t){return function(t){for(var n=[],i=t.length,e=0;e<i;e++){var r=t[e];if(37===r&&e+2<i&&Fn(t[e+1])&&Fn(t[e+2])){var u=Vn(t[e+1])<<4|Vn(t[e+2]);n.push(u),e+=2}else n.push(r)}return n}(ai(t))}function ki(t){return ui(function(t){Zn=t.slice(),ti=Zn.length,ni=0;for(var n,i=[];!1!==(n=hi());)i.push(n);return i}(_i(Qn(t))))}function Ti(t){var n,i,e,r,u=t.length,s=[0,0,0,0,0,0,0,0],o=0,c=null,a=0;if(a<u&&":"===t[a]){if(!(a+1<u&&":"===t[a+1]))throw new h;a+=2,c=o+=1}for(;a<u;){if(8===o)throw new h("Too many groups");if(":"!==t[a]){for(var f=0,v=0;v<4&&a<u&&En.test(t[a]);)f=f<<4|l(t[a],16),a+=1,v+=1;if("."===t[a]){if(0===v)throw new h;if(a-=v,o>6)throw new h;for(var d=0;a<u;){var w=null;if(d>0){if(!("."===t[a]&&d<4))throw new h;a+=1}if(!Sn.test(t[a]))throw new h;for(;a<u&&Sn.test(t[a]);){var g=l(t[a],10);if(null===w)w=g;else{if(0===w)throw new h;if((w=10*w+g)>255)throw new h}a+=1}s[o]=s[o]<<8|w,2!==(d+=1)&&4!==d||(o+=1)}if(4!==d)throw new h;break}if(":"===t[a]){if((a+=1)===u)throw new h}else if(a<u)throw new h;s[o]=f,o+=1}else{if(null!==c)throw new h("Too many :: groups");a+=1,c=o+=1}}if(null!==c){var y=o-c;for(o=7;0!==o&&y>0;)e=c+y-1,r=void 0,r=(n=s)[i=o],n[i]=n[e],n[e]=r,o-=1,y-=1}else if(8!==o)throw new h;return s}function Si(t){var n=10,i=In;return Rn.test(t)?(t=t.slice(2),n=16,i=Dn):t.length>=2&&"0"===t[0]&&(t=t.slice(1),n=8,i=Nn),""===t?0:i.test(t)?l(t,n):void 0}var Ei={Li:4},Ri=/[\0\t\n\r #%/:?@\[\\\]]/,Ii=/[\0\t\n\r #/:?@\[\\\]]/;function Di(t,n){if("["===t[0]){if("]"!==t[t.length-1])throw new h("Invalid IPv6 address");return{Li:2,Bi:Ti(t.slice(1,-1))}}if(!n)return function(t){if(Ii.test(t))throw new h("Invalid code point in opaque host");var n=pi(t,di);return""===n?Ei:{Li:3,P:n}}(t);var i=function(t){return function(t){return ri(t.toLowerCase())}(t)}(ki(t));if(Ri.test(i))throw new h("Invalid code point in host");var e=function(t){var n=t.split(".");if(""===n[n.length-1]&&n.pop(),!(n.length>4)){for(var i=[],e=0;e<n.length;e++){var r=n[e];if(""===r)return;var u=Si(r);if(void 0===u)return;i.push(u)}for(var s=0;s<i.length-1;s++)if(i[s]>255)throw new h;if(i[i.length-1]>=d.pow(256,5-i.length))throw new h;for(var o=i.pop(),c=0;c<i.length;c++)o+=i[c]*d.pow(256,3-c);return o}}(i);return void 0!==e?{Li:1,Bi:e}:""===i?Ei:{Li:0,Mi:i}}function Ni(t){switch(t.Li){case 0:return t.Mi;case 1:return function(t){for(var n=[],i=t,e=1;e<=4;e++)n.push(""+(255&i)),4!==e&&n.push("."),i>>>=8;return n.reverse().join("")}(t.Bi);case 2:return"["+function(t){for(var n="",i=function(t){for(var n=0,i=0,e=0,r=0,u=0;u<8;u++)0===t[u]?(0===r&&(e=u),r++):(r>i&&(n=e,i=r),r=0);return r>i&&(n=e,i=r),i>1?n:null}(t),e=!1,r=0;r<8;r++){if(e){if(0===t[r])continue;e=!1}i!==r?(n+=t[r].toString(16),7!==r&&(n+=":")):(n+=0===r?"::":":",e=!0)}return n}(t.Bi)+"]";case 3:return t.P;case 4:return""}}var Oi=/\+/g;function Ci(t){for(var n=t.split("&"),i=[],e=0;e<n.length;e++){var r=n[e];if(""!==r){var u=r.indexOf("="),s=void 0,o=void 0;-1!==u?(s=r.slice(0,u),o=r.slice(u+1)):(s=r,o=""),s=s.replace(Oi," "),o=o.replace(Oi," ");var c=ki(s),a=ki(o);i.push([c,a])}}return i}function Ai(t){for(var n="",i=0;i<t.length;i++){var e=t[i];i>0&&(n+="&"),n+=Pi(ai(Qn(e[0])))+"="+Pi(ai(Qn(e[1])))}return n}function Pi(t){for(var n,i=[],e=0;e<t.length;e++){var r=t[e];32===r?i.push(43):42===(n=r)||45===n||46===n||95===n||Mn(n)?i.push(r):i.push.apply(i,vi(r))}return jn(i)}var xi=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function Li(t){var n=""+t,i=xi.exec(n);return i?function(t,n){for(var i=t.length,e=[],r=n;r<i;r++){var u=t.charCodeAt(r);if(Mi(u))if(Fi(u)||r===i-1)e.push(Bi);else{var s=t.charCodeAt(r+1);Fi(s)?(e.push(u,s),r++):e.push(Bi)}else e.push(u)}return t.slice(0,n)+jn(e)}(n,i.index):n}var Bi=65533,Mi=function(t){return 55296==(63488&t)},Fi=function(t){return 0!=(1024&t)};function Ui(t,n){var i=t[0],e=n[0];return i===e?0:i<e?-1:1}function Vi(t){t.Fi.length=0}function qi(t,n){!function(t,n){for(var i=0;i<n.length;i++)t[i]=n[i];t.length=n.length}(t.Fi,Ci(n))}function zi(t){if(t.Ui){var n=Ai(t.Fi);""===n&&(n=null),t.Ui.Ui.Vi=n}}var Wi=function(){function t(t){if(void 0===t&&(t=void 0),this.Ui=null,null==t)this.Fi=[];else if("object"==typeof t||"function"==typeof t)if((u=t)instanceof Wi&&Cn(u.Fi)&&(!An||u[Symbol.iterator]===Hi))this.Fi=t.Fi.slice();else if(function(t){return null!=t&&(!!Cn(t)||!!An&&"function"==typeof t[Symbol.iterator])}(t)){this.Fi=[];for(var n=0,i=Pn(t);n<i.length;n++){var e=Pn(i[n]);if(2!==e.length)throw new h("Invalid name-value pair");this.Fi.push([Li(e[0]),Li(e[1])])}}else for(var r in this.Fi=[],t)v.prototype.hasOwnProperty.call(t,r)&&this.Fi.push([Li(r),Li(t[r])]);else(t=Li(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this.Fi=Ci(t);var u}var n=t.prototype;return n.append=function(t,n){t=Li(t),n=Li(n),this.Fi.push([t,n]),zi(this)},n.delete=function(t){t=Li(t);for(var n=this.Fi,i=0;i<n.length;){n[i][0]===t?n.splice(i,1):i++}zi(this)},n.get=function(t){t=Li(t);for(var n=this.Fi,i=0;i<n.length;i++){var e=n[i];if(e[0]===t)return e[1]}return null},n.getAll=function(t){t=Li(t);for(var n=this.Fi,i=[],e=0;e<n.length;e++){var r=n[e];r[0]===t&&i.push(r[1])}return i},n.has=function(t){t=Li(t);for(var n=this.Fi,i=0;i<n.length;i++){if(n[i][0]===t)return!0}return!1},n.set=function(t,n){t=Li(t),n=Li(n);for(var i=this.Fi,e=!1,r=0;r<i.length;){var u=i[r];u[0]===t?e?i.splice(r,1):(u[1]=n,e=!0,r++):r++}e||i.push([t,n]),zi(this)},n.sort=function(){_n(this.Fi,Ui),zi(this)},n.toString=function(){return Ai(this.Fi)},n.entries=function(){return new Gi(this.Fi,ji)},n.keys=function(){return new Gi(this.Fi,$i)},n.values=function(){return new Gi(this.Fi,Xi)},n.forEach=function(t){var n=this;this.Fi.forEach(function(i){return t(i[1],i[0],n)})},t}(),Hi=Wi.prototype.entries;An&&(Wi.prototype[Symbol.iterator]=Hi);var ji=function(t){return[t[0],t[1]]},$i=function(t){return t[0]},Xi=function(t){return t[1]},Gi=function(){function t(t,n){this.qi=0,this.Fi=t,this.zi=n}return t.prototype.next=function(){return this.qi<this.Fi.length?{done:!1,value:this.zi(this.Fi[this.qi++])}:{done:!0,value:void 0}},t}(),Yi="null";var Ki=v.create(null);Ki.ftp=21,Ki.file=0,Ki.gopher=70,Ki.http=80,Ki.https=443,Ki.ws=80,Ki.wss=443;var Ji=/^(?:\.|%2e)$/i,Qi=/^(?:\.|%2e){2}$/i;function Zi(t){return Ji.test(t)}function te(t){return Qi.test(t)}function ne(t){return void 0!==Ki[t]}function ie(t){return ne(t.Wi)}function ee(t){return""!==t.Hi||""!==t.ji}function re(t){var n=t.length;if(!(n>=2))return!1;if(!se(t.slice(0,2)))return!1;if(2!==n){var i=t[2];if(47!==i&&92!==i&&63!==i&&35!==i)return!1}return!0}function ue(t){return 2===t.length&&Tn.test(t[0])&&(":"===t[1]||"|"===t[1])}function se(t){return 2===t.length&&ue(jn(t))}function oe(t){return ue(t)&&":"===t[1]}function ce(t){var n=t.$i;0!==n.length&&("file"===t.Wi&&1===n.length&&oe(n[0])||n.pop())}function ae(t){return null===t.Xi||Ei===t.Xi||t.Gi||"file"===t.Wi}var fe=-1,he=/\t|\n|\r/g,ve=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function de(t,n,i,e){void 0===i&&(i=null),void 0===e&&(e=null),i||(i=new we,t=t.replace(ve,""));var r=null!==e?e:0;n=n||null;for(var u=[],s=!1,o=!1,c=!1,a=Qn(t=t.replace(he,"")),f=a.length,v=0;v<=f;){var d=v<f?a[v]:fe;switch(r){case 0:if(!Ln(d)){if(null===e){u.length=0,r=2;continue}throw new h("Invalid scheme")}u.push(Un(d)),r=1;break;case 1:if(Mn(d)||43===d||45===d||46===d)u.push(Un(d));else{if(58!==d){if(null===e){u.length=0,r=2,v=0;continue}throw new h("Invalid scheme")}var w=ui(u);if(null!==e){if(ne(i.Wi)&&!ne(w))return;if(!ne(i.Wi)&&ne(w))return;if((ee(i)||null!==i.Yi)&&"file"===w)return;if("file"===i.Wi&&(i.Xi===Ei||null===i.Xi))return}if(i.Wi=w,null!==e)return void(ie(i)&&i.Yi===Ki[i.Wi]&&(i.Yi=null));u.length=0,"file"===i.Wi?r=13:ie(i)&&n&&n.Wi===i.Wi?r=3:ie(i)?r=7:47===a[v+1]?(r=4,v+=1):(i.Gi=!0,i.$i.push(""),r=18)}break;case 2:if(!n||n.Gi&&35!==d)throw new h("Invalid scheme");n.Gi&&35===d?(i.Wi=n.Wi,i.$i=n.$i.slice(),i.Vi=n.Vi,i.Ki="",i.Gi=!0,r=20):"file"!==n.Wi?(r=5,v-=1):(r=13,v-=1);break;case 3:47===d&&47===a[v+1]?r=8:(r=5,v-=1);break;case 4:47===d?r=9:(r=17,v-=1);break;case 5:i.Wi=n.Wi,fe===d?(i.Hi=n.Hi,i.ji=n.ji,i.Xi=n.Xi,i.Yi=n.Yi,i.$i=n.$i.slice(),i.Vi=n.Vi):47===d?r=6:63===d?(i.Hi=n.Hi,i.ji=n.ji,i.Xi=n.Xi,i.Yi=n.Yi,i.$i=n.$i.slice(),i.Vi="",r=19):35===d?(i.Hi=n.Hi,i.ji=n.ji,i.Xi=n.Xi,i.Yi=n.Yi,i.$i=n.$i.slice(),i.Vi=n.Vi,i.Ki="",r=20):92===d&&ie(i)?r=6:(i.Hi=n.Hi,i.ji=n.ji,i.Xi=n.Xi,i.Yi=n.Yi,i.$i=n.$i.slice(),i.$i.pop(),r=17,v-=1);break;case 6:!ie(i)||47!==d&&92!==d?47===d?r=9:(i.Hi=n.Hi,i.ji=n.ji,i.Xi=n.Xi,i.Yi=n.Yi,r=17,v-=1):r=8;break;case 7:if(47!==d||47!==a[v+1]){r=8;continue}r=8,v+=1;break;case 8:47!==d&&92!==d&&(r=9,v-=1);break;case 9:if(64===d){s&&u.unshift(37,52,48),s=!0;for(var g=0;g<u.length;g++){var y=u[g];if(58!==y||c){var m=ui(bi(y,gi));c?i.ji+=m:i.Hi+=m}else c=!0}u.length=0}else if(fe===d||47===d||63===d||35===d||ie(i)&&92===d){if(s&&0===u.length)throw new h("Invalid host");v-=u.length+1,u.length=0,r=10}else u.push(d);break;case 10:case 11:if(null!==e&&"file"===i.Wi)v-=1,r=15;else if(58!==d||o)if(fe===d||47===d||63===d||35===d||ie(i)&&92===d){if(v-=1,ie(i)&&0===u.length)throw new h("Invalid host");if(null!==e&&0===u.length&&(ee(i)||null!==i.Yi))return;var b=Di(ui(u),ie(i));if(i.Xi=b,u.length=0,r=16,null!==e)return}else 91===d?o=!0:93===d&&(o=!1),u.push(d);else{if(0===u.length)throw new h("Invalid host");var p=Di(ui(u),ie(i));if(i.Xi=p,u.length=0,r=12,11===e)return}break;case 12:if(Bn(d))u.push(d);else{if(!(fe===d||47===d||63===d||35===d||ie(i)&&92===d||null!==e))throw new h("Invalid port");if(0!==u.length){var _=l(ui(u),10);if(_>65535)throw new h("Invalid port");i.Yi=_===Ki[i.Wi]?null:_,u.length=0}if(null!==e)return;r=16,v-=1}break;case 13:i.Wi="file",47===d||92===d?r=14:n&&"file"===n.Wi?fe===d?(i.Xi=n.Xi,i.$i=n.$i.slice(),i.Vi=n.Vi):63===d?(i.Xi=n.Xi,i.$i=n.$i.slice(),i.Vi="",r=19):35===d?(i.Xi=n.Xi,i.$i=n.$i.slice(),i.Vi=n.Vi,i.Ki="",r=20):(re(a.slice(v))||(i.Xi=n.Xi,i.$i=n.$i.slice(),ce(i)),r=17,v-=1):(r=17,v-=1);break;case 14:47===d||92===d?r=15:(n&&"file"===n.Wi&&!re(a.slice(v))&&(oe(n.$i[0])?i.$i.push(n.$i[0]):i.Xi=n.Xi),r=17,v-=1);break;case 15:if(fe===d||47===d||92===d||63===d||35===d)if(v-=1,null===e&&se(u))r=17;else if(0===u.length){if(i.Xi=Ei,null!==e)return;r=16}else{var k=Di(ui(u),ie(i));if(0===k.Li&&"localhost"===k.Mi&&(k=Ei),i.Xi=k,null!==e)return;u.length=0,r=16}else u.push(d);break;case 16:ie(i)?(r=17,47!==d&&92!==d&&(v-=1)):null===e&&63===d?(i.Vi="",r=19):null===e&&35===d?(i.Ki="",r=20):fe!==d&&(r=17,47!==d&&(v-=1));break;case 17:if(fe===d||47===d||ie(i)&&92===d||null===e&&(63===d||35===d)){var T=ui(u);if(te(T)?(ce(i),47===d||ie(i)&&92===d||i.$i.push("")):!Zi(T)||47===d||ie(i)&&92===d?Zi(T)||("file"===i.Wi&&0===i.$i.length&&se(u)&&(Ei!==i.Xi&&null!==i.Xi&&(i.Xi=Ei),u[1]=58,T=ui(u)),i.$i.push(T)):i.$i.push(""),u.length=0,"file"===i.Wi&&(fe===d||63===d||35===d))for(;i.$i.length>1&&""===i.$i[0];)i.$i.shift();63===d?(i.Vi="",r=19):35===d&&(i.Ki="",r=20)}else u.push.apply(u,bi(d,wi));break;case 18:63===d?(i.Vi="",r=19):35===d?(i.Ki="",r=20):fe!==d&&(i.$i[0]+=ui(bi(d,di)));break;case 19:null===e&&35===d?(i.Ki="",r=20):fe!==d&&(i.Vi+=ui(bi(d,ie(i)?mi:yi)));break;case 20:fe===d||0===d||(i.Ki+=ui(bi(d,li)))}v++}return i}function le(t,n,i,e){try{de(t,n,i,e)}catch(t){}}var we=function(){this.Wi="",this.Hi="",this.ji="",this.Xi=null,this.Yi=null,this.$i=[],this.Vi=null,this.Ki=null,this.Gi=!1};function ge(t){switch(t.Wi){case"blob":var n;try{n=de(t.$i[0],null)}catch(t){return Yi}return ge(n);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return i=t.Wi,e=t.Xi,r=t.Yi,i+"://"+Ni(e)+(null===r?"":":"+r);case"file":default:return Yi}var i,e,r}var ye,me=function(){function t(t,n){var i,e,r=null;if(null!=n)if(null!=(i=n)&&i instanceof me&&"object"==typeof i.Ui)r=n.Ui;else try{r=de(String(n),null)}catch(t){throw new h("Invalid base URL: "+t.message)}try{e=de(String(t),r)}catch(t){throw new h("Invalid URL: "+t.message)}var u=e.Vi;this.Ui=e,this.Vi=function(t){var n=new Wi;return null!==t&&qi(n,t),n}(u),this.Vi.Ui=this}var n,i,e,r=t.prototype;return r.toString=function(){return this.href},r.toJSON=function(){return this.href},n=t,(i=[{key:"href",get:function(){return function(t,n){void 0===n&&(n=!1);var i=t.Wi+":";if(null!==t.Xi?(i+="//",ee(t)&&(i+=t.Hi,""!==t.ji&&(i+=":"+t.ji),i+="@"),i+=Ni(t.Xi),null!==t.Yi&&(i+=":"+t.Yi)):null===t.Xi&&"file"===t.Wi&&(i+="//"),t.Gi)i+=t.$i[0];else for(var e=0,r=t.$i;e<r.length;e++)i+="/"+r[e];return null!==t.Vi&&(i+="?"+t.Vi),n||null===t.Ki||(i+="#"+t.Ki),i}(this.Ui)},set:function(t){var n;try{n=de(String(t),null)}catch(t){throw new h("Invalid URL: "+t.message)}this.Ui=n,Vi(this.Vi);var i=this.Ui.Vi;null!==i&&qi(this.Vi,i)}},{key:"origin",get:function(){return ge(this.Ui)}},{key:"protocol",get:function(){return this.Ui.Wi+":"},set:function(t){le(t+":",null,this.Ui,0)}},{key:"username",get:function(){return this.Ui.Hi},set:function(t){ae(this.Ui)||(this.Ui.Hi=pi(t,gi))}},{key:"password",get:function(){return this.Ui.ji},set:function(t){ae(this.Ui)||(this.Ui.ji=pi(t,gi))}},{key:"host",get:function(){var t=this.Ui,n=t.Xi;if(null===n)return"";var i=t.Yi,e=Ni(n);return null!==i&&(e+=":"+i),e},set:function(t){this.Ui.Gi||le(t,null,this.Ui,10)}},{key:"hostname",get:function(){var t=this.Ui.Xi;return null===t?"":Ni(t)},set:function(t){this.Ui.Gi||le(t,null,this.Ui,11)}},{key:"port",get:function(){var t=this.Ui.Yi;return null===t?"":""+t},set:function(t){ae(this.Ui)||(""===t?this.Ui.Yi=null:le(t,null,this.Ui,12))}},{key:"pathname",get:function(){var t=this.Ui.$i;return this.Ui.Gi?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.Ui.Gi||(this.Ui.$i.length=0,le(t,null,this.Ui,16))}},{key:"search",get:function(){var t=this.Ui.Vi;return null===t||""===t?"":"?"+t},set:function(t){t=Li(t);var n=this.Ui;if(""===t)return n.Vi=null,void Vi(this.Vi);"?"===t[0]&&(t=t.slice(1)),n.Vi="",le(t,null,n,19),qi(this.Vi,t)}},{key:"searchParams",get:function(){return this.Vi}},{key:"hash",get:function(){var t=this.Ui.Ki;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.Ui.Ki="",le(t,null,this.Ui,20)):this.Ui.Ki=null}}])&&pn(n.prototype,i),e&&pn(n,e),t}();function be(t){return t.document&&t.document.baseURI||t.location.href||""}function pe(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function _e(t,n){var i=n.style;if(i)for(var e in t)i[e]=t[e]}function ke(){return void 0!==e?e.createElement("video"):void 0}function Te(){return ye||(ye=ke()),ye}var Se=!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)||!(!u||!u.msMaxTouchPoints),Ee=Te(),Re=!(!Ee||!Ee.webkitShowPlaybackTargetPicker),Ie=function(){function t(){this.Ji=void 0,this.Qi=!1,this.fn=Se,this.Sn=!1,this.Zi=!0,this.te=!0}var n=t.prototype;return n.ie=function(){return 0},n.ee=function(t,n){return!0},n.re=function(t){return t>=1/6*2},ft(t,[{key:"ue",get:function(){return void 0===this.Ji&&(this.Ji=this.ie()),this.Ji}},{key:"se",get:function(){return i.devicePixelRatio||1}},{key:"oe",get:function(){return Re}},{key:"ce",get:function(){return!1}},{key:"ae",get:function(){return!0}},{key:"fe",get:function(){return St.Un||St._n}},{key:"he",get:function(){return!0}},{key:"ve",get:function(){return!0}},{key:"de",get:function(){return!1}},{key:"we",get:function(){}},{key:"ye",get:function(){return!0}},{key:"me",get:function(){return!1}}]),t}(),De=function(){var t=ke();if(!t)return!1;var n=t.muted;return t.muted=!n,t.muted!==n}();!function(){if(St.bn)return!1;var t=ke();if(!t)return!1;var n=t.volume;t.volume=n/2+.1,t.volume}();var Ne=function(t){function n(n){var i;return(i=t.call(this)||this).be=void 0,i.be=n,i.be&&(i.Qi=i.be.Qi,i.fn=i.be.fn,i.Zi=De&&i.be.Zi),i}vt(n,t);var i=n.prototype;return i.ie=function(){return this.be?this.be.ue:t.prototype.ie.call(this)},i.ee=function(n,i){return this.be?this.be.ee(n,i):t.prototype.ee.call(this,n,i)},i.re=function(n){return this.be?this.be.re(n):t.prototype.re.call(this,n)},ft(n,[{key:"we",get:function(){var t;return null==(t=this.be)?void 0:t.we}},{key:"ye",get:function(){var t,n;return null==(t=null==(n=this.be)?void 0:n.ye)||t}}]),n}(Ie),Oe=function(t){function n(n){var i;return(i=t.call(this,n)||this).Qi=!0,i.Sn=!0,i}return vt(n,t),ft(n,[{key:"de",get:function(){return St._n}}]),n}(Ne),Ce=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.ie=function(){return Z.MediaSource?t.prototype.ie.call(this):1},ft(n,[{key:"de",get:function(){return!0}}]),n}(Oe),Ae=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.ee=function(n,i){return t.prototype.ee.call(this,n,i)},ft(n,[{key:"ce",get:function(){return St.Cn<3}},{key:"ae",get:function(){return St.Cn>=3}},{key:"me",get:function(){return St.Cn<3}}]),n}(Ne),Pe=function(t){function n(){return t.call(this)||this}return vt(n,t),n}(Ie),xe=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.ee=function(t,n){if(t&&t.pe&&n&&n.pe){var i=Le(t.pe,"mp4a.40.2")&&Le(n.pe,"mp4a.40.5"),e=Le(t.pe,"mp4a.40.5")&&Le(n.pe,"mp4a.40.2"),r=Le(t.pe,"mp4a.40.2")&&Le(n.pe,"mp4a.40.34"),u=Le(t.pe,"mp4a.40.34")&&Le(n.pe,"mp4a.40.2"),s=Le(t.pe,"mp4a.40.5")&&Le(n.pe,"mp4a.40.34"),o=Le(t.pe,"mp4a.40.34")&&Le(n.pe,"mp4a.40.5");return!(i||e||r||u||s||o)}return!0},ft(n,[{key:"we",get:function(){if(St.hn)return 4096}}]),n}(Pe);function Le(t,n){return t.indexOf(n)>-1}var Be=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.re=function(t){return t>=2},n}(Pe),Me=function(t){function n(){var n;return(n=t.call(this)||this).Qi=St.Vn>=11,n.Zi=St.Un&&!(St._n&&St.Vn<10),n}return vt(n,t),n}(Pe),Fe=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),ft(n,[{key:"he",get:function(){return!1}}]),n}(Ne),Ue=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),ft(n,[{key:"ye",get:function(){return!St.vn||(St.Dn?92!==St.Nn:St.In>=100)}}]),n}(Pe),Ve=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),ft(n,[{key:"de",get:function(){return!0}}]),n}(Ne),qe=function(){function n(){var n;this._e=void 0,this.ke=new an,this.Te=new ze,this.Se=(n=function(){if(St.Mn)return new xe;if(St.Pn||St.xn)return new Be;if(St.Un)return new Me;if(St.Rn)return new Ue;return new Pe}(),St._n?new Ce(n):St.Sn?new Oe(n):St.On?new Ae(n):St.An?new Fe(n):St.hn?new Ve(n):new Ne(n)),this.Ee=function(){if(t.URL)try{var n=new t.URL("b","http://a");return n.pathname="c d","http://a/c%20d"===n.href}catch(t){}return!1}(),t.performance&&t.performance.now?this._e=function(){return t.performance.now()}:this._e=tn}var i=n.prototype;return i.Re=function(){Ht.apply(void 0,arguments)},i.Ie=function(){jt.apply(void 0,arguments)},i.De=function(){$t.apply(void 0,arguments)},i.Ne=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];Xt.apply(void 0,[t].concat(i))},i.Oe=function(t,n){return s(t,n)},i.Ce=function(t,n){return c(t,n)},i.Ae=function(t){o(t)},i.Pe=function(t){a(t)},i.oi=function(t){return this.ke.oi(t)},i.xe=function(){return this.Le.xe()},i.Be=function(){return this.Le.Be()},i.Me=function(){return this.Le.Me()},i.Fe=function(){return this.Le.Fe()},i.Ue=function(){return this.Le.Ue()},i.Ve=function(t,n){return this.Le.Ve(t,n)},i.qe=function(t){return this.Le.qe(t)},i.ze=function(t,n){var i;return void 0===n&&(n=be(Z)),i="object"!=typeof n||n instanceof me?n:n.href,new me(t,i)},i.We=function(n,i){if(void 0===i&&(i=be(Z)),this.Ee){var e=At(i)?i:i.toString();return new t.URL(n,e).href}return this.ze(n,i).href},ft(n,[{key:"He",get:function(){return this.Te}},{key:"je",get:function(){return this.Se}},{key:"$e",get:function(){return{Xe:u&&u.userAgent.match(/Android /i)?"Android":"other",Ge:Boolean(u&&u.userAgent.match(/Android 8.0.0/i))}}},{key:"Ye",get:function(){return t&&t.location&&"https:"===t.location.protocol}},{key:"Ke",get:function(){return"languages"in u?u.languages.slice():[u.language]}}]),n}(),ze=function(){function t(){}return ft(t,[{key:"Je",get:function(){return u.oscpu}},{key:"je",get:function(){return u.platform}},{key:"Qe",get:function(){return u.vendor}},{key:"Ze",get:function(){return u.vendorSub}}]),t}();var We=Gt(function(t){!function(t){var n,i=v.prototype,e=i.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},u=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function c(t,n,i,e){var r=n&&n.prototype instanceof b?n:b,u=v.create(r.prototype),s=new C(e||[]);return u.tr=function(t,n,i){var e=d;return function(r,u){if(e===w)throw new f("Generator is already running");if(e===y){if("throw"===r)throw u;return P()}for(i.method=r,i.arg=u;;){var s=i.delegate;if(s){var o=D(s,i);if(o){if(o===m)continue;return o}}if("next"===i.method)i.sent=i.nr=i.arg;else if("throw"===i.method){if(e===d)throw e=y,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);e=w;var c=a(t,n,i);if("normal"===c.type){if(e=i.done?y:l,c.arg===m)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(e=y,i.method="throw",i.arg=c.arg)}}}(t,i,s),u}function a(t,n,i){try{return{type:"normal",arg:t.call(n,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var d="suspendedStart",l="suspendedYield",w="executing",y="completed",m={};function b(){}function p(){}function _(){}var k={};k[u]=function(){return this};var T=v.getPrototypeOf,S=T&&T(T(A([])));S&&S!==i&&e.call(S,u)&&(k=S);var E=_.prototype=b.prototype=v.create(k);function R(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this.tr(n,t)}})}function I(t){var n;this.tr=function(i,r){function u(){return new j(function(n,u){!function n(i,r,u,s){var o=a(t[i],t,r);if("throw"!==o.type){var c=o.arg,f=c.value;return f&&"object"==typeof f&&e.call(f,"ir")?j.resolve(f.ir).then(function(t){n("next",t,u,s)},function(t){n("throw",t,u,s)}):j.resolve(f).then(function(t){c.value=t,u(c)},function(t){return n("throw",t,u,s)})}s(o.arg)}(i,r,n,u)})}return n=n?n.then(u,u):u()}}function D(t,i){var e=t.iterator[i.method];if(e===n){if(i.delegate=null,"throw"===i.method){if(t.iterator.return&&(i.method="return",i.arg=n,D(t,i),"throw"===i.method))return m;i.method="throw",i.arg=new h("The iterator does not provide a 'throw' method")}return m}var r=a(e,t.iterator,i.arg);if("throw"===r.type)return i.method="throw",i.arg=r.arg,i.delegate=null,m;var u=r.arg;return u?u.done?(i[t.resultName]=u.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=n),i.delegate=null,m):u:(i.method="throw",i.arg=new h("iterator result is not an object"),i.delegate=null,m)}function N(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function O(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(N,this),this.reset(!0)}function A(t){if(t){var i=t[u];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!g(t.length)){var r=-1,s=function i(){for(;++r<t.length;)if(e.call(t,r))return i.value=t[r],i.done=!1,i;return i.value=n,i.done=!0,i};return s.next=s}}return{next:P}}function P(){return{value:n,done:!0}}p.prototype=E.constructor=_,_.constructor=p,_[o]=p.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===p||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return v.setPrototypeOf?v.setPrototypeOf(t,_):(t.__proto__=_,o in t||(t[o]="GeneratorFunction")),t.prototype=v.create(E),t},t.awrap=function(t){return{ir:t}},R(I.prototype),I.prototype[s]=function(){return this},t.AsyncIterator=I,t.async=function(n,i,e,r){var u=new I(c(n,i,e,r));return t.isGeneratorFunction(i)?u:u.next().then(function(t){return t.done?t.value:u.next()})},R(E),E[o]="Generator",E[u]=function(){return this},E.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var i in t)n.push(i);return n.reverse(),function i(){for(;n.length;){var e=n.pop();if(e in t)return i.value=e,i.done=!1,i}return i.done=!0,i}},t.values=A,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this.nr=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(O),!t)for(var i in this)"t"===i.charAt(0)&&e.call(this,i)&&!g(+i.slice(1))&&(this[i]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function r(e,r){return o.type="throw",o.arg=t,i.next=e,r&&(i.method="next",i.arg=n),!!r}for(var u=this.tryEntries.length-1;u>=0;--u){var s=this.tryEntries[u],o=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var c=e.call(s,"catchLoc"),a=e.call(s,"finallyLoc");if(c&&a){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!a)throw new f("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(t,n){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&e.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var u=r;break}}u&&("break"===t||"continue"===t)&&u.tryLoc<=n&&n<=u.finallyLoc&&(u=null);var s=u?u.completion:{};return s.type=t,s.arg=n,u?(this.method="next",this.next=u.finallyLoc,m):this.complete(s)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),m},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),O(i),m}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc===t){var e=i.completion;if("throw"===e.type){var r=e.arg;O(i)}return r}}throw new f("illegal catch attempt")},delegateYield:function(t,i,e){return this.delegate={iterator:A(t),resultName:i,nextLoc:e},"next"===this.method&&(this.arg=n),m}}}(t.exports)});function He(){return(He=v.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var e in i)v.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])}return t}).apply(this,arguments)}function je(){var t=v.create(null);return t.er=void 0,delete t.er,t}function $e(){return new Ke}function Xe(t){var n=$e();for(var i in t)Et.call(t,i)&&n.set(i,t[i]);return n}var Ge,Ye="undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0,Ke=Ye||(Ge=function(){function t(t,n){this.data=void 0,this.keys=void 0,this.index=0,this.selector=void 0,this.data=t,this.selector=n,this.keys=v.keys(t)}var n=t.prototype;return n.next=function(){var t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}},t}(),function(){function t(){this.data=je(),this.size=0}var n=t.prototype;return n.get=function(t){return this.data[t]},n.set=function(t,n){return this.has(t)||this.size++,this.data[t]=n,this},n.has=function(t){return t in this.data},n.delete=function(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)},n.clear=function(){this.data=je(),this.size=0},n.keys=function(){return new Ge(this.data,function(t,n){return n})},n.values=function(){return new Ge(this.data,function(t,n){return t[n]})},n.entries=function(){return new Ge(this.data,function(t,n){return[n,t[n]]})},n.forEach=function(t){for(var n in this.data)t(this.data[n],n)},t}());var Je,Qe,Ze=Ye||(Je=function(){function t(t,n){this.rr=void 0,this.ur=void 0,this.rr=t,this.ur=n}var n=t.prototype;return n.next=function(){var t=this.rr.next();return t.done?t:{value:this.ur(t.value),done:!1}},t}(),function(){function t(){this.sr=$e()}var n=t.prototype;return n.get=function(t){return this.sr.get(""+t)},n.set=function(t,n){return this.sr.set(""+t,n),this},n.has=function(t){return this.sr.has(""+t)},n.delete=function(t){return this.sr.delete(""+t)},n.clear=function(){this.sr.clear()},n.keys=function(){return new Je(this.sr.keys(),function(t){return Number(t)})},n.values=function(){return this.sr.values()},n.entries=function(){return new Je(this.sr.entries(),function(t){var n=t[0],i=t[1];return[Number(n),i]})},n.forEach=function(t){this.sr.forEach(function(n,i){t(n,Number(i))})},ft(t,[{key:"size",get:function(){return this.sr.size}}]),t}());!function(t){t.cr="9a04f079-9840-4286-ab92-e65be0885f95",t.ar="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",t.hr="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",t.dr="94ce86fb-07ff-4f43-adb8-93d2fa968ca2"}(Qe||(Qe={}));var tr,nr="cenc",ir="sinf",er="skd",rr=Qe.cr,ur="urn:uuid:"+rr,sr="com.microsoft.playready",or=Qe.ar,cr="urn:uuid:"+or,ar=Qe.hr,fr="urn:uuid:"+ar,hr=Qe.dr,vr="urn:uuid:"+hr,dr="com.apple.fps.1_0";!function(t){t.cr="playready",t.ar="widevine",t.dr="fairplay",t.hr="clearkey",t.wr="aes128"}(tr||(tr={}));var lr={gr:tr.cr,yr:sr,mr:"cenc",br:rr,pr:ur,_r:"PlayReady"},wr={gr:tr.ar,yr:"com.widevine.alpha",mr:"cenc",br:or,pr:cr,_r:"Widevine"},gr={gr:tr.dr,yr:dr,mr:"skd",br:hr,pr:vr,_r:"FairPlay"},yr=(tr.dr,{gr:tr.hr,yr:"org.w3.clearkey",mr:"cenc",br:ar,pr:fr,_r:"ClearKey"});function mr(t,n,i){return t.split(n).join(i)}function br(t,n){return null!=t&&-1!==t.indexOf(n)}function pr(t,n){return null!=t&&t.substr(0,n.length)===n}function _r(t,n){return null!=t&&t.substr(t.length-n.length,n.length)===n}function kr(t,n){return t.toUpperCase()===n.toUpperCase()}function Tr(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return Er(n)}var Sr=16384;function Er(t){var n=t.length;if(n<=Sr)return String.fromCharCode.apply(String,t);for(var i=[],e=0;e<n;e+=Sr)i.push(String.fromCharCode.apply(String,t.slice(e,e+Sr)));return i.join("")}var Rr=St.Rn&&St.In>=42||St.Mn&&St.Fn>=38||St.Pn||St.Ln||St.qn&&St.zn>=29;function Ir(t,n){return br(t,"audio")?{initDataTypes:["cenc"],audioCapabilities:[He({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[He({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}}var Dr,Nr=function(){function t(t){this.kr=void 0,this.Tr=$e(),this.Sr=void 0,this.kr=t}var n=t.prototype;return n.Ue=function(){return this.qe(wr)},n.Be=function(){return this.qe(yr)},n.Fe=function(){return this.qe(lr)},n.Me=function(){return this.qe(gr)},n.qe=function(t){var n=t.pr,i=this.Tr.get(n);if(i)return i;var e=this.Ve(t,'video/mp4; codecs="avc1.42000a"');return this.Tr.set(n,e),e},n.Ve=function(t,n){return We.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,We.awrap(this.kr.Er(t.yr,[Ir(n,!0)]));case 3:return i.abrupt("return",!0);case 6:return i.prev=6,i.t0=i.catch(0),i.prev=8,i.next=11,We.awrap(this.kr.Er(t.yr,[Ir(n,!1)]));case 11:return i.abrupt("return",!0);case 14:return i.prev=14,i.t1=i.catch(8),i.abrupt("return",!1);case 17:case"end":return i.stop()}},null,this,[[0,6],[8,14]],j)},n.xe=function(){return this.Sr||(this.Sr=this.Rr()),this.Sr},n.Rr=function(){return We.async(function(t){for(;;)switch(t.prev=t.next){case 0:if("https:"!==tt.protocol){t.next=2;break}return t.abrupt("return",!1);case 2:if(Rr){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,We.awrap(this.Be());case 6:if(!t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:return t.abrupt("return",!0);case 9:case"end":return t.stop()}},null,this,null,j)},t}();function Or(t,n){var i=function(t,n){var i=t,e=i.length;if(e<=1)return i;for(var r=new Array(e),u=1;u<e;u*=2){Cr(i,n,u,r);var s=i;i=r,r=s}return i}(t,n);return i!==t&&Cr(i,void 0,t.length,t),t}function Cr(t,n,i,e){var r,u,s,o,c,a=t.length,f=0,h=2*i;for(u=0;u<a;u+=h)for(r=(s=u+i)+i,s>a&&(s=a),r>a&&(r=a),o=u,c=s;;)if(o<s&&c<r)n&&n(t[o],t[c])<=0?e[f++]=t[o++]:e[f++]=t[c++];else if(o<s)e[f++]=t[o++];else{if(!(c<r))break;e[f++]=t[c++]}}!function(t){t[t.Ir=0]="Ir",t[t.Dr=1]="Dr",t[t.Nr=-1]="Nr"}(Dr||(Dr={}));var Ar=function(t,n){return(0|t)-(0|n)},Pr=function(t,n){return t===n?Dr.Ir:t<n?Dr.Nr:t>n?Dr.Dr:g(t)?g(n)?Dr.Ir:Dr.Dr:Dr.Nr};function xr(t,n,i){return Qt(t,n,i)?Dr.Ir:Pr(t,n)}var Lr=function(t,n){return function(t,n){if(t===n)return!0;var i=d.abs(t-n);return i<Kt||i<d.max(d.abs(t),d.abs(n))*Kt}(t,n)?Dr.Ir:Pr(t,n)};function Br(t,n,i){var e=function(t,n,i){for(var e=0;e<t.length;e+=1){var r=t[e];if(n.call(i,r,e,t))return e}return-1}(t,n,i);return-1===e?void 0:t[e]}function Mr(t,n){var i=t.indexOf(n);return-1!==i&&(Fr(t,i),!0)}function Fr(t,n){t.splice(n,1)}function Ur(t,n){return-1!==t.indexOf(n)}function Vr(t){t.length=0}var qr=function(){function t(){this.Or=!1,this.Cr=!1,this.Ar=[],this.Pr=[]}var n=t.prototype;return n.xr=function(){if(!this.Or&&!this.Cr){this.Or=!0;for(var t=0,n=this.Ar.slice();t<n.length;t++){(0,n[t])()}this.Lr()}},n.Lr=function(){if(!this.Cr){this.Cr=!0;for(var t=0,n=this.Pr.slice();t<n.length;t++){(0,n[t])()}Vr(this.Ar),Vr(this.Pr)}},n.Br=function(t){this.Cr||this.Ar.push(t)},n.Mr=function(t){this.Cr||Mr(this.Ar,t)},n.Fr=function(t){this.Cr||this.Pr.push(t)},n.Ur=function(t){this.Cr||Mr(this.Pr,t)},t}(),zr=function(){function t(){this.Vr=new qr}var n=t.prototype;return n.qr=function(){this.Vr.xr()},n.Lr=function(){this.Vr.Lr()},n.zr=function(t){var n=this.Vr;if(!n.Or)if(t.Or)n.xr();else if(!n.Cr&&!t.Cr){var i=function(){e(),n.xr()},e=function e(){t.Mr(i),t.Ur(e),n.Mr(i),n.Ur(e)};t.Br(i),t.Fr(e),n.Br(i),n.Fr(e)}},n.Wr=function(){var n=new t,i=new t,e=n.Hr,r=i.Hr,u=this.Vr,s=function(){e.Or&&r.Cr||r.Or&&e.Cr?u.xr():e.Cr&&r.Cr&&u.Lr()};e.Br(s),r.Br(s),e.Fr(s),r.Fr(s),n.zr(u),i.zr(u);return u.Fr(function(){e.Mr(s),r.Mr(s),e.Ur(s),r.Ur(s)}),[n,i]},ft(t,[{key:"Hr",get:function(){return this.Vr}}]),t}(),Wr=function(t){function n(n,i){return t.call(this,n||"Aborted",i)||this}return vt(n,t),ft(n,[{key:"name",get:function(){return"AbortError"}}]),n}(on);function Hr(t){return t instanceof f&&"AbortError"===t.name}function jr(t){if(t&&t.Or)throw new Wr}function $r(t){if(Hr(t))throw t}function Xr(t){if(!Hr(t))throw t}function Gr(t,n){return n?new j(function(i,e){if(n.Or)return t.catch(Bt),e(new Wr);var r=function t(){n.Mr(t),e(new Wr)};n.Br(r),t.then(function(t){n.Mr(r),i(t)},function(t){n.Mr(r),e(t)})}):t}function Yr(t,n){return t.then(function(t){return n.Lr(),t},function(t){throw n.Lr(),t})}var Kr=j.resolve();function Jr(t){Kr.then(t)}function Qr(t){t.then(Bt,Bt)}function Zr(t){return We.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,We.awrap(j.all(t));case 3:return n.abrupt("return",n.sent);case 6:return n.prev=6,n.t0=n.catch(0),n.next=10,We.awrap(j.all(t.map(function(t){return t.catch(Bt)})));case 10:throw n.t0;case 11:case"end":return n.stop()}},null,null,[[0,6]],j)}function tu(t){return t&&"function"!=typeof t?t.slice():t}function nu(t,n,i){if(i)if("function"==typeof i)i.call(t,n);else for(var e=0;e<i.length;e++){i[e].call(t,n)}}var iu,eu=function(){function t(t){var n=this;this.jr=je(),this.$r=void 0,this.Xr=void 0,this.Gr=function(t){n.Yr(t)},this.Xr=t||this}var n=t.prototype;return n.Kr=function(t,n){if("function"==typeof n)if("string"==typeof t)this.Jr(t,n);else for(var i=0;i<t.length;i++){var e=t[i];this.Jr(e,n)}},n.Jr=function(t,n){var i=this.jr[t];i?"function"==typeof i?this.jr[t]=[i,n]:i.push(n):this.jr[t]=n},n.Qr=function(t){if("function"==typeof t){var n=this.$r;n?"function"==typeof n?this.$r=[n,t]:n.push(t):this.$r=t}},n.Zr=function(){this.jr=je(),this.$r=void 0},n.Yr=function(t){var n=tu(this.jr[t.type]),i=tu(this.$r);nu(this.Xr,t,n),nu(this.Xr,t,i)},n.tu=function(t,n){if("function"==typeof n)if("string"==typeof t)this.nu(t,n);else for(var i=0;i<t.length;i++){var e=t[i];this.nu(e,n)}},n.nu=function(t,n){var i=this.jr[t];i&&("function"==typeof i?i===n&&(this.jr[t]=void 0):Mr(i,n))},n.iu=function(t){if("string"==typeof t)this.jr[t]=void 0;else for(var n=0;n<t.length;n++){var i=t[n];this.jr[i]=void 0}},n.eu=function(t){var n=this.$r;n&&("function"==typeof n?n===t&&(this.$r=void 0):Mr(n,t))},n.ru=function(t,n){var i=this;return new j(function(e,r){if(n&&n.Or)return r(new Wr);var u=function(t){o(),e(t)},s=function(){o(),r(new Wr)},o=function(){i.tu(t,u),n&&n.Mr(s)};i.Kr(t,u),n&&n.Br(s)})},t}(),ru=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.Yr=function(n){var i=this;Jr(function(){t.prototype.Yr.call(i,n)})},n}(eu),uu=function(t,n){void 0===n&&(n=new Date),this.type=t,this.date=n},su=["cenc"],ou=["cbcs","cbcs-1-9"],cu=function(t){function n(n){var i;return(i=t.call(this,"su")||this).uu=n,i}return vt(n,t),n}(uu),au=function(t){function n(n,i,e,r){var u;return(u=t.call(this,"ou")||this).uu=n,u.cu=i,u.ou=e,u.au=r,u}return vt(n,t),n}(uu),fu=function(t){function n(){return t.call(this,"fu")||this}return vt(n,t),n}(uu);!function(t){t.hu="vu",t.du="lu"}(iu||(iu={}));var hu=function(t){function n(n,i){var e;return(e=t.call(this,iu.hu)||this).mr=n,e.wu=i,e}return vt(n,t),n}(uu),vu=new y([0]).buffer,du=function(){function t(){this.gu=void 0,this.gu=[]}var n=t.prototype;return n.yu=function(t){for(var n=0,i=this.gu;n<i.length;n++){if(i[n][0]===t)return!0}return!1},n.mu=function(t){for(var n=0,i=this.gu;n<i.length;n++){var e=i[n];if(e[0]===t)return e[1]}},n.bu=function(t,n){this.gu.forEach(function(n){return t(n[1],n[0])},n)},n.pu=function(t,n){this.gu.push([t,n])},n._u=function(){Vr(this.gu)},ft(t,[{key:"ku",get:function(){return this.gu.length}}]),t}(),lu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),wu=16383,gu=/[\t\n\f\r ]/g;function yu(t){return 43===t?62:47===t?63:t>=48&&t<=57?t-48+52:t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:mu()}function mu(){throw new f("Invalid base64 input")}function bu(t){var n=t;gu.test(n)&&(n=n.replace(gu,""));var i=n.length;i%4==0&&i>=1&&"="===n[i-1]&&(i>=2&&"="===n[i-2]?i-=2:i-=1,n=n.substr(0,i));var e=i%4;if(1===e)return mu();for(var r,u=0===e?0:4-e,s=new y(function(t,n){return 3*(t+n)/4-n}(i,u)),o=u>0?i-4:i,c=0,a=0;c<o;c+=4)r=yu(n.charCodeAt(c))<<18|yu(n.charCodeAt(c+1))<<12|yu(n.charCodeAt(c+2))<<6|yu(n.charCodeAt(c+3)),s[a++]=r>>16&255,s[a++]=r>>8&255,s[a++]=255&r;return 2===u?(r=yu(n.charCodeAt(c))<<2|yu(n.charCodeAt(c+1))>>4,s[a++]=255&r):1===u&&(r=yu(n.charCodeAt(c))<<10|yu(n.charCodeAt(c+1))<<4|yu(n.charCodeAt(c+2))>>2,s[a++]=r>>8&255,s[a++]=255&r),s}function pu(t,n,i){for(var e,r,u,s=[],o=n;o<i;o+=3)s.push((e=t[o],r=t[o+1],u=t[o+2],lu[e>>2]+lu[(3&e)<<4|r>>4]+lu[(15&r)<<2|u>>6]+lu[63&u]));return s.join("")}function _u(t){for(var n=t.length,i=n%3,e=[],r=n-i,u=0;u<r;u+=wu)e.push(pu(t,u,d.min(r,u+wu)));if(1===i){var s=t[n-1];e.push(lu[s>>2]+lu[(3&s)<<4]+"==")}else if(2===i){var o=t[n-2],c=t[n-1];e.push(lu[o>>2]+lu[(3&o)<<4|c>>4]+lu[(15&c)<<2]+"=")}return e.join("")}var ku=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],Tu=ArrayBuffer.isView||function(t){return t&&Ur(ku,Rt.call(t))};function Su(t,n){return t===n||t.byteLength===n.byteLength&&function(t,n){if(t===n)return!0;if(t.byteLength!==n.byteLength)return!1;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}(new y(t),new y(n))}function Eu(t){var n=t.reduce(function(t,n){return t+n.byteLength},0);return function(t,n){for(var i=new y(n),e=0,r=0;r<t.length;r++){var u=t[r];i.set(u,e),e+=u.byteLength}return i}(t,n)}function Ru(t){return bu(t).buffer}function Iu(t){return _u(new y(t))}function Du(t){return _u(ts(t))}var Nu=function(){function t(t){void 0===t&&(t=0),this.Tu=t}var n=t.prototype;return n.Su=function(t){this.Tu+=t},n.Eu=function(t){this.Tu=t},n.Ru=function(){return new t(this.Iu)},ft(t,[{key:"Iu",get:function(){return this.Tu}}]),t}();function Ou(t){if(t>=55296&&t<=57343)throw new f("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function Cu(t,n){return t>>n&63|128}function Au(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Ou(t),n.push(t>>12&15|224),n.push(Cu(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(Cu(t,12)),n.push(Cu(t,6))),n.push(63&t|128)):n.push(t)}function Pu(t,n){if(n.Iu>=t.length)throw new f("Invalid byte index");var i=255&t[n.Iu];if(n.Su(1),128==(192&i))return 63&i;throw new f("Invalid continuation byte")}function xu(t,n){var i=n.Iu;if(i>t.length)throw new f("Invalid byte index");if(i===t.length)return!1;var e=255&t[i];if(n.Su(1),0==(128&e))return e;if(192==(224&e)){var r=(31&e)<<6|Pu(t,n);if(r>=128)return r;throw new f("Invalid continuation byte")}if(224==(240&e)){var u=(15&e)<<12|Pu(t,n)<<6|Pu(t,n);if(u>=2048)return Ou(u),u;throw new f("Invalid continuation byte")}if(240==(248&e)){var s=(7&e)<<18|Pu(t,n)<<12|Pu(t,n)<<6|Pu(t,n);if(s>=65536&&s<=1114111)return s}throw new f("Invalid UTF-8 detected")}var Lu=65279;var Bu=function(){function t(t){this.Du=t}return t.prototype.Nu=function(t){return function(t,n){return(t&n)===n}(this.Du,t)},t}();function Mu(t,n){var i=t.getUint8(n.Iu);return n.Su(1),i}function Fu(t,n,i){t.setUint8(n.Iu,i),n.Su(1)}function Uu(t,n,i){var e=ss(cs(t),n.Iu,n.Iu+i);return n.Su(e.byteLength),e}function Vu(t,n,i){return n.Iu+i<=t.byteLength}function qu(t,n,i){void 0===i&&(i=!1);var e=t.getUint16(n.Iu,i);return n.Su(2),e}function zu(t,n,i,e){void 0===e&&(e=!1),t.setUint16(n.Iu,i,e),n.Su(2)}function Wu(t,n,i){void 0===i&&(i=!1);var e=t.getUint32(n.Iu,i);return n.Su(4),e}function Hu(t,n,i,e){void 0===e&&(e=!1),t.setUint32(n.Iu,i,e),n.Su(4)}function ju(t,n,i){void 0===i&&(i=!1);var e=Wu(t,n,i),r=Wu(t,n,i),u=i?r:e,s=i?e:r;return Yt.fromBits(s,u,!0)}function $u(t,n){var i=Mu(t,n);if(i)return String.fromCharCode(i)}function Xu(t,n){return function(t,n){return Ku(t,n,!0)}(t,n)}function Gu(t,n,i){for(var e="",r=0;r<i;r++)e+=$u(t,n);return e}function Yu(t,n){var i,e=Mu(t,n);return 0==(128&e)?i=e:192==(224&e)?i=64*(31&e)+(63&Mu(t,n)):224==(240&e)?i=4096*(15&e)+64*(63&Mu(t,n))+(63&Mu(t,n)):240==(248&e)&&(i=262144*(7&e)+4096*(63&Mu(t,n))+64*(63&Mu(t,n))+(63&Mu(t,n))),i}function Ku(t,n,i){for(var e=[];n.Iu<t.byteLength;){var r=Mu(t,n);if(i&&!r)break;e.push(r)}return Er(e)}function Ju(t,n,i,e){for(var r=[];n.Iu+2<=t.byteLength;){var u=qu(t,n,i);if(e&&!u)break;r.push(u)}return Er(r)}function Qu(t,n,i,e){void 0===e&&(e=!1);for(var r=i.length,u=0;u<r;u+=1){zu(t,n,i.charCodeAt(u),e)}}function Zu(t){return Ku(os(t),new ds,!1)}function ts(t){var n=new y(t.length);return function(t,n,i){for(var e=i.length,r=0;r<e;r+=1)Fu(t,n,i.charCodeAt(r))}(os(n),new ds,t),n}function ns(t,n){return void 0===n&&(n=!1),Ju(os(t),new ds,n,!1)}function is(t,n){void 0===n&&(n=!1);var i=new y(2*t.length);return Qu(os(i),new ds,t,n),i}function es(t,n){return function(t,n,i){var e=[];(function(t,n){return n.Iu+3<=t.byteLength&&239===t.getUint8(n.Iu)&&187===t.getUint8(n.Iu+1)&&191===t.getUint8(n.Iu+2)})(t,n)&&n.Su(3);for(;n.Iu<t.byteLength;){var r=Yu(t,n);if(void 0===r)break;if(i&&0===r)break;e.push(r)}return Tr(e)}(t,n,!0)}function rs(t){return Tr(function(t,n){var i,e=[],r=new ds;if(!n){if(!1===(i=xu(t,r)))return e;i===Lu||e.push(i)}for(;!1!==(i=xu(t,r));)e.push(i);return e}(cs(t)))}function us(t){return new y(function(t){for(var n=[],i=0;i<t.length;i++)Au(t[i],n);return n}(function(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&r)<<10)+(1023&u)+65536):(n.push(r),i--)}else n.push(r)}return n}(t)))}function ss(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new y(t.buffer,t.byteOffset+n,i-n)}function os(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function cs(t){return new y(t.buffer,t.byteOffset,t.byteLength)}function as(t){return t instanceof ArrayBuffer||Tu(t)}function fs(t){return t instanceof ArrayBuffer?new y(t):cs(t)}function hs(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),t.slice?t.slice(n,i):vs(ss(t,n,i))}function vs(t){if(t.slice)return t.slice(0);var n=new y(t.byteLength);return n.set(t,0),n}var ds=function(){function t(t){void 0===t&&(t=0),this.Tu=t}var n=t.prototype;return n.Su=function(t){this.Tu+=t},n.Eu=function(t){this.Tu=t},n.Ru=function(){return new t(this.Iu)},n.Ou=function(){return new Nu(this.Iu<<3)},ft(t,[{key:"Iu",get:function(){return this.Tu}}]),t}(),ls=function(){function t(){var t=this;this.Cu=void 0,this.Au=void 0,this.Pu=void 0,this.Cu=new j(function(n,i){t.Au=n,t.Pu=i})}var n=t.prototype;return n.xu=function(t){this.Au&&(this.Au(t),this.Lr())},n.Lu=function(t){this.Pu&&(this.Pu(t),this.Lr())},n.qr=function(){this.Cu.catch(Bt),this.Lu(new Wr)},n.Lr=function(){this.Au=void 0,this.Pu=void 0},t}();function ws(){return new y([8,4]).buffer}function gs(t){return Su(t,ws())}function ys(t,n){return t===sr?function(t){if(t.byteLength<2*ms.length)return t;if(ns(new DataView(t,0,2*ms.length),!0)===ms)return t;return n=t,is('<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">'+Iu(n)+'</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>',!0).buffer;var n}(n):n}var ms="<PlayReady";var bs=function(t){function n(n,i,e,r){var u;return(u=t.call(this,n,r)||this).Bu=void 0,u.Mu=void 0,u.Bu=i,u.Mu=e,u}return vt(n,t),n}(on),ps=function(t,n){return(ps=v.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)v.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])})(t,n)};function _s(t,n){if("function"!=typeof n&&null!==n)throw new h("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}ps(t,n),t.prototype=null===n?v.create(n):(i.prototype=n.prototype,new i)}function ks(t,n,i){return t.indexOf?t.indexOf(n,i):Array.prototype.indexOf.call(t,n,i)}!function(){function t(t,n){this.Fu=t,this.Uu=n}t.prototype.get=function(t){var n=this.Fu.get(t);if(0===this.Uu||void 0===n)return n;var i=this.Fu.get(t+1)||0,e=n&(1<<8-this.Uu)-1,r=i>>8-this.Uu;return(e<<this.Uu)+r},t.prototype.getBit=function(t){if(!(t<0)){var n=this.Fu.get(d.floor((t+this.Uu)/8));if(void 0!==n)return(n&1<<7-this.Uu-t%8)>0?1:0}},v.defineProperty(t.prototype,"bitLength",{get:function(){return this.Fu.bitLength-this.Uu},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"length",{get:function(){return this.Fu.length},enumerable:!1,configurable:!0})}();function Ts(t,n,i){return d.min(d.max(t,n),i)}function Ss(t,n){return t>>8-n}function Es(t,n){return t&(1<<n)-1}!function(){function t(t){this.Vu=t,this.qu=0,this.zu=0}v.defineProperty(t.prototype,"totalBitsRead",{get:function(){return 8*this.qu+this.zu},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"done",{get:function(){return this.qu===this.Vu.length&&0===this.zu},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"location",{get:function(){return{byte:this.qu,bit:this.zu}},enumerable:!1,configurable:!0}),t.prototype.copy=function(){var n=new t(this.Vu);return n.seek(this.qu,this.zu),n},t.prototype.canReadBits=function(t){return 8*this.qu+t+this.zu<=8*this.Vu.length},t.prototype.canReadBytes=function(t){return 0===this.zu?this.qu+t<=this.Vu.length:this.qu+t<this.Vu.length},t.prototype.incBit=function(){this.zu++,this.zu>7&&(this.qu++,this.zu=0)},t.prototype.seek=function(t,n){this.qu=t,this.zu=n},t.prototype.peekBit=function(){if(!this.canReadBits(1))throw new f("Cannot read past end of buffer.");return this.Vu.get(this.qu)>>7-this.zu&1},t.prototype.readBit=function(){var t=this.peekBit();return this.incBit(),t},t.prototype.readByte=function(){if(!this.canReadBytes(1))throw new f("Cannot read past end of buffer.");if(0===this.zu)return this.Vu.get(this.qu++);var t=Es(this.Vu.get(this.qu),8-this.zu),n=Ss(this.Vu.get(this.qu+1),this.zu);return this.qu++,t<<this.zu|n},t.prototype.readBits=function(t){if(!this.canReadBits(t))throw new f("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readBit());return n},t.prototype.readUInt=function(t){if(t>32)throw new f("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new f("Cannot read past end of buffer.");var n=0;if(0===this.zu&&t%8==0)for(var i=t-8;i>=0;i-=8)n|=this.readByte()<<i;else for(i=t-1;i>=0;i--)n|=this.readBit()<<i;return n},t.prototype.readInt=function(t){if(t>32)throw new f("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new f("Cannot read past end of buffer.");var n=this.readUInt(t);return 0===(n&1<<t-1)?n:n-d.pow(2,t)},t.prototype.readExponentialGolombCode=function(){for(var t=0;0===this.readBit();)t++;var n=1<<t;return n+=this.readUInt(t)-1},t.prototype.readSignedExponentialGolombCode=function(){var t=this.readExponentialGolombCode();return 1&t?(t+1)/2:-t/2},t.prototype.skipBits=function(t){if(!this.canReadBits(t))throw new f("Skipping over the buffer edge is not allowed.");var n=this.zu+t;this.qu+=n>>3,this.zu=7&n},t.prototype.readBool=function(){return this.readBit()>0},t.prototype.readString=function(t){if(!this.canReadBytes(t))throw new f("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readByte());return String.fromCharCode.apply(String,n)}}();var Rs=function(t,n){return t===n?0:t<n?-1:t>n?1:g(t)?g(n)?0:1:-1},Is=function(){function t(){this.Wu=[],this.Hu=[],this.N=0}return t.from=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var e=new t,r=0,u=n;r<u.length;r++){var s=u[r];e.pushRange(s)}return e},t.prototype.pushRange=function(t,n,i){if(void 0===n&&(n=0),void 0===i&&(i=t.length),i<0)throw new f("The buffer length must be positive.");if(0!==i){if(0===this.Hu.length)this.Hu.push(0);else{var e=this.Hu[this.Hu.length-1]+this.Wu[this.Wu.length-1].length;this.Hu.push(e)}this.Wu.push(t.subarray(n,n+i)),this.N+=i}},t.prototype.concat=function(n){var i=new t;return i.pushRange(this.join()),i.pushRange(n.join()),i},t.prototype.copy=function(t,n,i,e){if(void 0===n&&(n=0),void 0===i&&(i=0),void 0===e&&(e=this.length),n<0||i<0||e<0)throw new RangeError;return this.slice(i,e).copyInternal(t,n)},t.prototype.copyInternal=function(t,n){for(var i=0,e=n,r=0,u=this.Wu;r<u.length;r++){var s=u[r];t.set(s,e),i+=s.length,e+=s.length}return i},t.prototype.clear=function(){this.Wu=[],this.Hu=[],this.N=0},t.prototype.get=function(t){if(!(t<0||t>=this.length)){var n=this.findContainingBufferIndex(t),i=t-this.Hu[n];return this.Wu[n][i]}},v.defineProperty(t.prototype,"first",{get:function(){return this.get(0)},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){if(this.Wu.length<1)return-1;if(this.Wu.length>1){var n=this.join();this.clear(),this.pushRange(n)}var i=this.Wu[0];return"number"==typeof t?ks(i,t):"undefined"!=typeof Buffer?Buffer.from(i.buffer,i.byteOffset,i.byteLength).indexOf(t):function(t,n){if(0===n.length)return 0;for(var i=n[0],e=n.length,r=t.length-e,u=0;u<=r&&!((u=ks(t,i,u))<0||u>r);u++){for(var s=u+1,o=u+e,c=1;s<o&&t[s]===n[c];s++,c++);if(s===o)return u}return-1}(i,t)},t.prototype.findContainingBufferIndex=function(t){return function(t,n,i){if(0!==t.length){var e=0,r=t.length-1;if(1!==i(t[e],n)){if(1===i(n,t[r]))return r;for(;e!==r;){var u=d.ceil((e+r)/2);i(t[u],n)<=0?e=u:r=u-1}return e}}}(this.Hu,t,Rs)},t.prototype.join=function(){if(1===this.Wu.length)return this.Wu[0];var t=new y(this.length);return this.copyInternal(t,0),t},v.defineProperty(t.prototype,"length",{get:function(){return this.N},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"bitLength",{get:function(){return 8*this.length},enumerable:!1,configurable:!0}),t.prototype.readUIntBE=function(t,n){if(n<=0||n>4)throw new f("Expected byteLength to be between 0 and 4 but was "+n);if(t<0||t>this.length-n)throw new f("Offset must be between 0 and buffer.length - byteLength, but was "+t+" (max allowed "+(this.length-n)+")");if(1===n)return this.get(t);for(var i=0,e=0;e<n;e++)i+=this.get(t+e)*d.pow(2,8*(n-e-1));return i},t.prototype.slice=function(n,i){void 0===i&&(i=this.length);var e=Ts(n,0,this.length),r=Ts(i,0,this.length);if(e>r)return new t;if(e===r)return new t;for(var u=new t,s=this.findContainingBufferIndex(e),o=this.Wu[s],c=e,a=c-this.Hu[s];c+o.length-a<r;)u.pushRange(o,a,o.length-a),s+=1,a=(c+=o.length-a)-this.Hu[s],o=this.Wu[s];var f=r-c;return u.pushRange(o,a,f),u},t.prototype.trim=function(){if(0===this.length)return new t;for(var n=this.length-1,i=this.Wu.length-1,e=this.Wu[i],r=e.length-1;n>=0&&i>=0;){if(0!==e[r])break;if(0===r){if(0===i)return new t;i-=1,r=(e=this.Wu[i]).length-1}else r-=1;n-=1}return this.slice(0,n+1)},t}(),Ds=function(){function t(n){this.ju=n||t.BUFFER_CHUNK_SIZE,this.$u=!1,this.Xu=new Is,this.Vu=new y(this.ju),this.Gu=0,this.Yu=0,this.zu=7}return t.prototype.closeByte=function(){this.Vu[this.Gu++]=this.Yu,this.Gu>=this.ju&&this.closeBuffer(),this.Yu=0,this.zu=7},t.prototype.closeBuffer=function(t){void 0===t&&(t=!0),0!==this.Gu&&(this.Xu.pushRange(this.Vu,0,this.Gu),t&&(this.Vu=new y(this.ju)),this.Gu=0)},v.defineProperty(t.prototype,"isWritingStartBit",{get:function(){return 7===this.zu},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(this.$u)throw new f("Cannot close a closed BitWriter.");return this.isWritingStartBit||this.closeByte(),this.closeBuffer(!1),this.$u=!0,this.Xu},t.prototype.writeBit=function(t){if(this.$u)throw new f("Cannot write to a closed BitWriter.");this.Yu|=t<<this.zu,0===this.zu?this.closeByte():this.zu--},t.prototype.writeByte=function(t){if(this.$u)throw new f("Cannot write to a closed BitWriter.");this.isWritingStartBit?(this.Yu=t,this.closeByte()):this.writeByteUnaligned(t)},t.prototype.writeByteUnaligned=function(t){var n=this.zu;this.Yu|=Ss(t,n+1),this.closeByte(),this.Yu=Es(t,8-n)<<n+1,this.zu=n},t.prototype.writeBits=function(t){for(var n=0,i=t;n<i.length;n++){var e=i[n];this.writeBit(e)}},t.prototype.writeBytes=function(t){if(this.$u)throw new f("Cannot write to a closed BitWriter.");this.isWritingStartBit?this.writeBytesAligned(t):this.writeBytesUnaligned(t)},t.prototype.writeBytesAligned=function(t){this.Gu+t.length<=this.ju?(this.Vu.set(t,this.Gu),this.Gu+=t.length,this.Gu===this.ju&&this.closeBuffer()):(this.closeBuffer(),this.Xu.pushRange(t))},t.prototype.writeBytesUnaligned=function(t){if(0!==t.length){var n=this.zu;this.Yu|=Ss(t[0],n+1),this.closeByte();for(var i=1;i<t.length;i++){var e=Es(t[i-1],8-n),r=Ss(t[i],n+1);this.Yu=e<<n+1|r,this.closeByte()}this.Yu=Es(t[t.length-1],8-n)<<n+1,this.zu=n}},t.prototype.writeUInt=function(t,n){if(t<0)throw new f("Received a negative number.");if(n>32)throw new f("The max bitlength that can be provided is 32.");if(t>=d.pow(2,n))throw new f("Uint "+t+" cannot be represented in "+n+" bit(s).");if(this.isWritingStartBit&&n%8==0)for(var i=n-8;i>=0;i-=8)this.writeByte(t>>i&255);else for(i=n-1;i>=0;i--)this.writeBool((t&1<<i)>0)},t.prototype.writeInt=function(t,n){if(n>32)throw new f("The max bitlength that can be provided is 32.");if(d.abs(t)>=d.pow(2,n-1))throw new f("Signed integer "+t+" cannot be represented in "+n+" bit(s).");t<0?this.writeUInt(t+d.pow(2,n),n):this.writeUInt(t,n)},t.prototype.writeExponentialGolombCode=function(t){if(t<0)throw new f("Received a negative number.");for(var n=d.floor(d.log2(t+1))+1,i=0;i<n-1;i++)this.writeBit(0);this.writeUInt(t+1,n)},t.prototype.writeSignedExponentialGolombCode=function(t){0===t?this.writeExponentialGolombCode(0):t<0?this.writeExponentialGolombCode(-2*t):this.writeExponentialGolombCode(2*t-1)},t.prototype.padByte=function(t){for(;!this.isWritingStartBit;)this.writeBit(t)},t.prototype.writeBool=function(t){this.writeBit(t?1:0)},t.prototype.writeString=function(t){for(var n=function(t){for(var n=new y(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(t),i=0;i<n.length;i++)this.writeByte(n[i])},t.BUFFER_CHUNK_SIZE=1024,t}(),Ns=function(){function t(t){this.rb=new Is,this.Ku=t}return t.prototype.closeWriter=function(){void 0!==this.Ku&&(this.rb=this.rb.concat(this.Ku.close()),this.Ku=void 0)},v.defineProperty(t.prototype,"writer",{get:function(){return void 0===this.Ku&&(this.Ku=new Ds),this.Ku},enumerable:!1,configurable:!0}),t.prototype.concat=function(t){this.closeWriter(),this.rb=this.rb.concat(t)},t.prototype.toRangedBuffer=function(){return this.closeWriter(),this.rb},t}(),Os=function(){function t(t){if(this.boxType=t,4!==t.length&&16!==t.length)throw new f("The provided box type does not conform to either a 4 character type or a 16 byte uuid.")}return t.prototype.serializeCommonBoxHeader=function(n){var i=this.getSize(),e=i>=t.LARGE_SIZE/8,r=16===this.boxType.length;n.writeUInt(e?1:i,32),n.writeString(r?"uuid":this.boxType),e&&(n.writeUInt(d.floor(i/t.LARGE_SIZE),32),n.writeUInt(i%t.LARGE_SIZE,32)),r&&n.writeString(this.boxType)},t.prototype.getSize=function(){var n=8+(this.boxType.length>4?16:0),i=this.getBoxContentSize()+n;return i>=t.LARGE_SIZE/8&&(i+=8),i},t.prototype.serialize=function(){var t=new Ns;return this.serializeCommonBoxHeader(t.writer),this.serializeBoxContent(t),t.toRangedBuffer()},t.LARGE_SIZE=d.pow(2,32),t}();function Cs(t,n){return t instanceof Yt?64===n:t<d.pow(2,n)}function As(t,n){return d.round(t*d.pow(2,n))}function Ps(t,n){for(var i=0;i<n.length;i++)t.writeByte(n[i])}var xs=function(t){function n(n,i,e){var r=t.call(this,n)||this;if(r.version=i,!Cs(i,8))throw new f("the provided version cannot fit in 8 bits.");return r.flags=e,r}return _s(n,t),v.defineProperty(n.prototype,"flags",{get:function(){return this.Ju},set:function(t){this.Ju=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new f("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(Os),Ls=(function(t){function n(n,i){var e=t.call(this,n)||this;return e.data=i,e}_s(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(Is.from(this.data))}}(Os),function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t}());function Bs(t){for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return function(t){var n=t.length;if(n<=Ms)return String.fromCharCode.apply(String,t);for(var i=[],e=0;e<n;e+=Ms)i.push(String.fromCharCode.apply(String,t.slice(e,e+Ms)));return i.join("")}(n)}var Ms=16384;function Fs(t,n){var i=t.getUint8(n.offset);return n.shift(1),i}function Us(t,n,i){var e,r=function(t,n,i){void 0===n&&(n=0);void 0===i&&(i=t.byteLength);return new y(t.buffer,t.byteOffset+n,i-n)}(new y((e=t).buffer,e.byteOffset,e.byteLength),n.offset,n.offset+i);return n.shift(r.byteLength),r}function Vs(t,n,i){return n.offset+i<=t.byteLength}function qs(t,n,i){void 0===i&&(i=!1);var e=t.getUint32(n.offset,i);return n.shift(4),e}function zs(t,n,i){void 0===i&&(i=!1);var e=qs(t,n,i),r=qs(t,n,i),u=i?r:e,s=i?e:r;return Yt.fromBits(s,u,!0)}function Ws(t,n){var i=Fs(t,n);if(i)return String.fromCharCode(i)}function Hs(t,n,i){for(var e="",r=0;r<i;r++)e+=Ws(t,n);return e}function js(t,n){var i,e=Fs(t,n);return 0==(128&e)?i=e:192==(224&e)?i=64*(31&e)+(63&Fs(t,n)):224==(240&e)?i=4096*(15&e)+64*(63&Fs(t,n))+(63&Fs(t,n)):240==(248&e)&&(i=262144*(7&e)+4096*(63&Fs(t,n))+64*(63&Fs(t,n))+(63&Fs(t,n))),i}function $s(t,n){return function(t,n,i){var e=[];(function(t,n){return n.offset+3<=t.byteLength&&239===t.getUint8(n.offset)&&187===t.getUint8(n.offset+1)&&191===t.getUint8(n.offset+2)})(t,n)&&n.shift(3);for(;n.offset<t.byteLength;){var r=js(t,n);if(void 0===r)break;if(i&&0===r)break;e.push(r)}return Bs(e)}(t,n,!0)}var Xs=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t.prototype.toBit=function(){return new Ls(this.offset<<3)},t}(),Gs=function(){function t(t,n){this.data=t,this.cursor=n}return t.prototype.nextUint8=function(){return Fs(this.data,this.cursor)},t.prototype.nextUint16=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getUint16(n.offset,i);return n.shift(2),e}(this.data,this.cursor)},t.prototype.nextInt16=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt16(n.offset,i);return n.shift(2),e}(this.data,this.cursor)},t.prototype.nextUint32=function(){return qs(this.data,this.cursor)},t.prototype.nextInt32=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt32(n.offset,i);return n.shift(4),e}(this.data,this.cursor)},t.prototype.nextInt64=function(){return function(t,n,i){void 0===i&&(i=!1);var e=qs(t,n,i),r=qs(t,n,i),u=i?r:e,s=i?e:r;return Yt.fromBits(s,u,!1)}(this.data,this.cursor)},t.prototype.nextUint64=function(){return zs(this.data,this.cursor)},t.prototype.nextUint8Array=function(t){return Us(this.data,this.cursor,t)},t.prototype.nextUint32Array=function(t){return function(t,n,i){for(var e=[],r=0;r<i;r++)e.push(qs(t,n));return e}(this.data,this.cursor,t)},t.prototype.nextChars=function(t){return Hs(this.data,this.cursor,t)},t.prototype.nextUTF8String=function(){return $s(this.data,this.cursor)},t.prototype.skip=function(t){this.cursor.shift(t)},t.prototype.clone=function(){return new t(this.data,this.cursor.clone())},t}();function Ys(t,n){return t.type===n}var Ks=8;function Js(t,n){var i=n.offset,e=function(t,n){var i=n.offset;if(!Vs(t,n,Ks)){var e=n.offset+Ks;return{complete:!1,neededOffset:e}}var r=qs(t,n),u=Hs(t,n,4);if(1===r){if(!Vs(t,n,8)){var e=n.offset+8;return n.seek(i),{complete:!1,neededOffset:e}}r=zs(t,n).toNumber()}if("uuid"===u){if(!Vs(t,n,16)){var e=n.offset+16;return n.seek(i),{complete:!1,neededOffset:e}}u=Hs(t,n,16)}var s=n.offset;return{complete:!0,header:{type:u,size:r,headerSize:s-i}}}(t,n);if(!e.complete)return e;var r=e.header,u=r.size;0===u&&(u=t.byteLength-i);var s=i+u;if(s>t.byteLength){var o=s;return n.seek(i),{complete:!1,neededOffset:o}}var c,a,f,h={type:r.type,offset:i,data:new Gs((c=t,a=i,f=s,void 0===a&&(a=0),void 0===f&&(f=c.byteLength),new DataView(c.buffer,c.byteOffset+a,f-a)),new Xs(r.headerSize))};return n.seek(s),{complete:!0,box:h}}!function(t){function n(){return t.call(this,"mdir")||this}_s(n,t),n.prototype.serializeReserved=function(t){t.writer.writeString("appl"),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)}}(function(t){function n(n,i,e,r){void 0===e&&(e=0),void 0===r&&(r=0);var u=t.call(this,"hdlr",e,r)||this;return u.name=i,u.handlerType=n,u}return _s(n,t),v.defineProperty(n.prototype,"handlerType",{get:function(){return this.Qu},set:function(t){this.Qu=t},enumerable:!1,configurable:!0}),n.prototype.serializeReserved=function(t){t.writer.writeUInt(0,32),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)},n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+4+4+12+(null!==(i=null===(n=this.name)||void 0===n?void 0:n.length)&&void 0!==i?i:0)+1},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeString(this.handlerType),this.serializeReserved(n),this.name&&n.writer.writeString(this.name),n.writer.writeByte(0)},n}(xs));var Qs=function(){function t(t,n){void 0===n&&(n=!1),this.fixed28BitMode=n,this.tag=t}return t.prototype.encodeSize=function(t){for(var n=[];t>0;)n.length>0&&(n[n.length-1]+=128),n.push(t%128),t>>=7;if(this.fixed28BitMode)for(;n.length<4;)n.push(128);return n.reverse()},v.defineProperty(t.prototype,"tag",{get:function(){return this.Zu},set:function(t){if(!Cs(t,8))throw new f("Provided tag does not fit in 8 bits.");this.Zu=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return this.getDescriptorSize()+1+this.encodeSize(this.getDescriptorSize()).length},t.prototype.serialize=function(t){t.writer.writeByte(this.tag);for(var n=0,i=this.encodeSize(this.getDescriptorSize());n<i.length;n++){var e=i[n];t.writer.writeByte(e)}this.serializeDescriptorContent(t)},t}(),Zs=(function(t){function n(n,i,e,r,u,s,o){void 0===o&&(o={});var c=t.call(this,4,o.fixed28BitMode)||this;return c.upStream=e,c.decoderSpecificInfo=s,c.objectTypeIndication=n,c.streamType=i,c.bufferSizeDb=r,c.maxBitrate=u.max,c.avgBitrate=u.avg,c}_s(n,t),v.defineProperty(n.prototype,"objectTypeIndication",{get:function(){return this.ts},set:function(t){if(!Cs(t,8))throw new f("Provided objectTypeIndication does not fit in 8 bits.");this.ts=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"streamType",{get:function(){return this.es},set:function(t){if(!Cs(t,6))throw new f("Provided streamType does not fit in 6 bits.");this.es=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.rs},set:function(t){if(!Cs(t,24))throw new f("Provided bufferSizeDb does not fit in 24 bits.");this.rs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"maxBitrate",{get:function(){return this.us},set:function(t){if(!Cs(t,32))throw new f("Provided maxBitrate does not fit in 32 bits.");this.us=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"avgBitrate",{get:function(){return this.ss},set:function(t){if(!Cs(t,32))throw new f("Provided avgBitrate does not fit in 32 bits.");this.ss=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 13+this.decoderSpecificInfo.reduce(function(t,n){return t+n.getSize()},0)},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.objectTypeIndication),t.writer.writeUInt(this.streamType,6),t.writer.writeBool(this.upStream),t.writer.writeBit(1),t.writer.writeUInt(this.bufferSizeDb,24),t.writer.writeUInt(this.maxBitrate,32),t.writer.writeUInt(this.avgBitrate,32);for(var n=0,i=this.decoderSpecificInfo;n<i.length;n++){i[n].serialize(t)}}}(Qs),function(t){function n(n,i){void 0===i&&(i={});var e=t.call(this,5,i.fixed28BitMode)||this;return e.data=n,e}_s(n,t),n.prototype.getDescriptorSize=function(){return this.data.length},n.prototype.serializeDescriptorContent=function(t){t.concat(Is.from(this.data))}}(Qs),function(t){function n(n){void 0===n&&(n=!1);var i=t.call(this,6,n)||this;return i.predefined=2,i}return _s(n,t),n.prototype.getDescriptorSize=function(){return 1},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.predefined)},n}(Qs)),to=(function(t){function n(n,i,e,r){void 0===r&&(r={});var u=t.call(this,3,r.fixed28BitMode)||this;return u.decoderConfigDescriptor=e,u.esId=n,u.streamPriority=i,u.dependsOnEsId=null==r?void 0:r.dependsOnEsId,u.urlString=null==r?void 0:r.url,u.ocrEsId=null==r?void 0:r.ocrEsId,u.slConfigDescriptor=new Zs(r.fixed28BitMode),u}_s(n,t),v.defineProperty(n.prototype,"streamDependenceFlag",{get:function(){return void 0!==this.dependsOnEsId},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"urlFlag",{get:function(){return void 0!==this.urlString},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"ocrStreamFlag",{get:function(){return void 0!==this.ocrEsId},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"esId",{get:function(){return this.os},set:function(t){if(!Cs(t,16))throw new f("Provided esId does not fit in 16 bits.");this.os=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"streamPriority",{get:function(){return this.cs},set:function(t){if(!Cs(t,5))throw new f("Provided streamPriority does not fit in 5 bits.");this.cs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"dependsOnEsId",{get:function(){return this.as},set:function(t){if(t&&!Cs(t,16))throw new f("Provided dependsOnEsId does not fit in 16 bits.");this.as=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"ocrEsId",{get:function(){return this.fs},set:function(t){if(t&&!Cs(t,16))throw new f("Provided ocrEsId does not fit in 16 bits.");this.fs=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 3+(this.streamDependenceFlag?2:0)+(this.urlFlag?1+this.urlString.length:0)+(this.ocrStreamFlag?2:0)+this.decoderConfigDescriptor.getSize()+this.slConfigDescriptor.getSize()},n.prototype.serializeDescriptorContent=function(t){t.writer.writeUInt(this.esId,16),t.writer.writeBool(this.streamDependenceFlag),t.writer.writeBool(this.urlFlag),t.writer.writeBool(this.ocrStreamFlag),t.writer.writeUInt(this.streamPriority,5),this.streamDependenceFlag&&t.writer.writeUInt(this.dependsOnEsId,16),this.urlFlag&&(t.writer.writeByte(this.urlString.length),t.writer.writeString(this.urlString)),this.ocrStreamFlag&&t.writer.writeUInt(this.ocrEsId,16),this.decoderConfigDescriptor.serialize(t),this.slConfigDescriptor.serialize(t)}}(Qs),function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.boxes=[],n}return _s(n,t),n.prototype.getSize=function(){return t.prototype.getSize.call(this)+this.boxes.reduce(function(t,n){return t+n.getSize()},0)},n.prototype.serialize=function(){for(var n=t.prototype.serialize.call(this),i=0,e=this.boxes;i<e.length;i++){var r=e[i];n=n.concat(r.serialize())}return n},n}(Os)),no=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return _s(n,t),n.prototype.serializeBoxContent=function(t){},n.prototype.getBoxContentSize=function(){return 0},n}(to),io=function(t){function n(n,i){var e=t.call(this,n)||this;return e.dataReferenceIndex=i,e}return _s(n,t),v.defineProperty(n.prototype,"dataReferenceIndex",{get:function(){return this.hs},set:function(t){if(!Cs(t,16))throw new f("Provided dataReferenceIndex does not fit in 16 bits.");this.hs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){for(var n=0;n<6;n++)t.writer.writeByte(0);t.writer.writeUInt(this.dataReferenceIndex,16)},n}(no),eo=function(t){function n(n,i,e,r){var u,s,o=this;return(o=t.call(this,n,i)||this).extra=r,o.channelCount=null!==(u=e.channelCount)&&void 0!==u?u:2,o.sampleSize=null!==(s=e.sampleSize)&&void 0!==s?s:16,o.sampleRate=e.sampleRate,o}return _s(n,t),v.defineProperty(n.prototype,"channelCount",{get:function(){return this.vs},set:function(t){if(!Cs(t,16))throw new f("Provided channelCount does not fit in 16 bits.");this.vs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"sampleSize",{get:function(){return this.ds},set:function(t){if(!Cs(t,16))throw new f("Provided sampleSize does not fit in 16 bits.");this.ds=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"sampleRate",{get:function(){return this.ls},set:function(t){if(!Cs(As(t,16),32))throw new f("Provided rate does not fit in 32 bits (fixed 16.16).");this.ls=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+8+2+2+2+2+(void 0!==this.sampleRate?4:0)+(null!==(i=null===(n=this.extra)||void 0===n?void 0:n.length)&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.channelCount,16),n.writer.writeUInt(this.sampleSize,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(As(this.sampleRate,16),32),this.extra&&Ps(n.writer,this.extra)},n}(io),ro=(function(t){function n(n){var i=t.call(this,"stco",0,0)||this;return i.entries=n,i}_s(n,t),v.defineProperty(n.prototype,"entries",{get:function(){return this.gs},set:function(t){if(!Cs(t.length,32))throw new f("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!Cs(t,32)}))throw new f("Not all entries can be represented in 32 bits.");this.gs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(xs),function(t){function n(n){var i=t.call(this,"clap")||this;return i.cleanApertureWidthN=n.cleanApertureWidthN,i.cleanApertureWidthD=n.cleanApertureWidthD,i.cleanApertureHeightN=n.cleanApertureHeightN,i.cleanApertureHeightD=n.cleanApertureHeightD,i.horizOffN=n.horizOffN,i.horizOffD=n.horizOffD,i.vertOffN=n.vertOffN,i.vertOffD=n.vertOffD,i}_s(n,t),v.defineProperty(n.prototype,"cleanApertureWidthN",{get:function(){return this.ys},set:function(t){if(!Cs(t,32))throw new f("Provided cleanApertureWidthN does not fit in 32 bits.");this.ys=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"cleanApertureWidthD",{get:function(){return this.bs},set:function(t){if(!Cs(t,32))throw new f("Provided cleanApertureWidthD does not fit in 32 bits.");this.bs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"cleanApertureHeightN",{get:function(){return this.ps},set:function(t){if(!Cs(t,32))throw new f("Provided cleanApertureHeightN does not fit in 32 bits.");this.ps=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"cleanApertureHeightD",{get:function(){return this._s},set:function(t){if(!Cs(t,32))throw new f("Provided cleanApertureHeightD does not fit in 32 bits.");this._s=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"horizOffN",{get:function(){return this.ks},set:function(t){if(!Cs(t,32))throw new f("Provided horizOffN does not fit in 32 bits.");this.ks=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"horizOffD",{get:function(){return this.Ts},set:function(t){if(!Cs(t,32))throw new f("Provided horizOffD does not fit in 32 bits.");this.Ts=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"vertOffN",{get:function(){return this.Ss},set:function(t){if(!Cs(t,32))throw new f("Provided vertOffN does not fit in 32 bits.");this.Ss=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"vertOffD",{get:function(){return this.Es},set:function(t){if(!Cs(t,32))throw new f("Provided vertOffD does not fit in 32 bits.");this.Es=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 32},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.cleanApertureWidthN,32),t.writer.writeUInt(this.cleanApertureWidthD,32),t.writer.writeUInt(this.cleanApertureHeightN,32),t.writer.writeUInt(this.cleanApertureHeightD,32),t.writer.writeUInt(this.horizOffN,32),t.writer.writeUInt(this.horizOffD,32),t.writer.writeUInt(this.vertOffN,32),t.writer.writeUInt(this.vertOffD,32)}}(Os),function(t){function n(n,i){var e=t.call(this,"ctts",n,0)||this;return e.entries=i,e}_s(n,t),v.defineProperty(n.prototype,"entries",{get:function(){return this.gs},set:function(t){if(!Cs(t.length,32))throw new f("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!Cs(t.sampleCount,32)||!Cs(t.sampleOffset,32)}))throw new f("Not all entries can be represented in 64 bits.");this.gs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.sampleCount,32),0===this.version?n.writer.writeUInt(r.sampleOffset,32):1===this.version&&n.writer.writeInt(r.sampleOffset,32)}}}(xs),function(t){function n(n){var i=t.call(this,"url ",0,void 0===n?1:0)||this;return i.location=n,i}_s(n,t),v.defineProperty(n.prototype,"location",{get:function(){return this.Rs},set:function(t){this.flags=void 0===t?1:0,this.Rs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this);return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(xs),function(t){function n(n,i,e){var r=t.call(this,"urn ",0,e)||this;return r.name=n,r.location=i,r}_s(n,t),v.defineProperty(n.prototype,"location",{get:function(){return this.Rs},set:function(t){if(1&this.flags)throw new f("The moov containment flag is set, a DataEntryUrlBox should be used instead.");this.Rs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+this.name.length+1;return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.name),n.writer.writeByte(0),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(xs),function(t){function n(){return t.call(this,"dinf")||this}_s(n,t)}(no),function(t){function n(n,i,e){var r=t.call(this,n)||this;if(r.version=i,!Cs(i,8))throw new f("the provided version cannot fit in 8 bits.");return r.flags=e,r}return _s(n,t),v.defineProperty(n.prototype,"flags",{get:function(){return this.Ju},set:function(t){this.Ju=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new f("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(to)),uo=(function(t){function n(){return t.call(this,"dref",0,0)||this}_s(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(ro),function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"elst",i,e)||this;return r.entries=n,r}return _s(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"entries",{get:function(){return this.gs},set:function(t){for(var n=0,i=t;n<i.length;n++){var e=i[n];if(!Cs(e.segmentDuration,this.bitSize))throw new f("SegmentDuration of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!Cs(e.mediaTime,this.bitSize))throw new f("MediaTime of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!Cs(e.mediaRateInteger,16))throw new f("Provided mediaRateInteger does not fit in 16 bits.");if(e.mediaRateFraction&&!Cs(e.mediaRateFraction,16))throw new f("Provided mediaRateFraction does not fit in 16 bits.")}this.gs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(2*this.bitSize/8+2+2)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32),this.serializeElstBoxContent(n)},n}(xs)),so=(function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}_s(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,e=this.entries;i<e.length;i++){var r=e[i];t.writer.writeUInt(r.segmentDuration,32),t.writer.writeInt(r.mediaTime,32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}}}(uo),function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}_s(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,e=this.entries;i<e.length;i++){var r=e[i];t.writer.writeUInt(r.segmentDuration.getHighBitsUnsigned(),32),t.writer.writeUInt(r.segmentDuration.getLowBitsUnsigned(),32),t.writer.writeInt(r.mediaTime.getHighBits(),32),t.writer.writeInt(r.mediaTime.getLowBits(),32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}}}(uo),function(t){function n(){return t.call(this,"edts")||this}_s(n,t)}(no),function(t){function n(n,i,e,r){var u=t.call(this,n)||this;return u.majorBrand=i,u.minorVersion=e,u.compatibleBrands=r,u}return _s(n,t),v.defineProperty(n.prototype,"majorBrand",{get:function(){return this.Is},set:function(t){if(4!==t.length)throw new f("the provided major brand does not conform to the 4 character requirement");this.Is=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"minorVersion",{get:function(){return this.Ds},set:function(t){if(!Cs(t,32))throw new f("the provided minor version does not fit in 32 bits.");this.Ds=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"compatibleBrands",{get:function(){return this.Ns},set:function(t){if(t.some(function(t){return 4!==t.length}))throw new f("Some of the compatible brands do not conform to the 4 character requirement");this.Ns=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4*(2+this.compatibleBrands.length)},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.majorBrand),t.writer.writeUInt(this.minorVersion,32);for(var n=0,i=this.compatibleBrands;n<i.length;n++){var e=i[n];t.writer.writeString(e)}},n}(Os)),oo=(function(t){function n(n,i,e){return t.call(this,"ftyp",n,i,e)||this}_s(n,t)}(so),function(t){function n(n,i){void 0===i&&(i="free");var e=t.call(this,i)||this;return e.data=n,e}_s(n,t),n.prototype.getBoxContentSize=function(){var t,n;return null!==(n=null===(t=this.data)||void 0===t?void 0:t.length)&&void 0!==n?n:0},n.prototype.serializeBoxContent=function(t){this.data&&t.concat(Is.from(this.data))}}(Os),function(t){function n(n,i,e,r){void 0===r&&(r=0);var u=t.call(this,"mdhd",e,r)||this;return u.creationTime=n.creation,u.modificationTime=n.modification,u.timescale=n.scale,u.duration=n.duration,u.language=i,u}return _s(n,t),v.defineProperty(n.prototype,"creationTime",{get:function(){return this.Os},set:function(t){if(!Cs(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Os=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"modificationTime",{get:function(){return this.Cs},set:function(t){if(!Cs(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Cs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"timescale",{get:function(){return this.As},set:function(t){if(!Cs(t,32))throw new f("Provided sequence number does not fit in 32 bits.");this.As=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"duration",{get:function(){return this.Ps},set:function(t){if(!Cs(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Ps=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"language",{get:function(){return this.xs},set:function(t){if(!function(t){return/^[a-z]{3}$/.test(t)}(t))throw new f("Expected an ISO-639-2/T language code");this.xs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMdiaContent(n),n.writer.writeBit(0);for(var i=0,e=this.language;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.charCodeAt(0)-96,5)}n.writer.writeUInt(0,16)},n}(xs));(function(t){function n(n,i,e){return void 0===e&&(e=0),t.call(this,n,i,0,e)||this}_s(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)}})(oo),function(t){function n(n,i,e){return void 0===e&&(e=0),t.call(this,n,i,1,e)||this}_s(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)}}(oo);var co;(function(t){function n(){return t.call(this,"mdia")||this}_s(n,t)})(no),function(t){function n(){var n=t.call(this,"mdat")||this;return n.data=new Is,n}_s(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(this.data)}}(Os),function(t){function n(){return t.call(this,"minf")||this}_s(n,t)}(no),function(t){function n(n){var i=t.call(this,"meta",0,0)||this;return i.handler=n,i}_s(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.handler.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.handler.serialize())}}(ro);!function(t){t.VIDEO="vide",t.AUXILIARY_VIDEO="auxv",t.AUDIO="soun",t.METADATA="meta",t.HINT="hint",t.TEXT="text",t.SUBTITLE="subt",t.FONT="fdsm"}(co||(co={}));var ao,fo,ho={a:1,b:0,u:0,c:0,d:1,v:0,x:0,y:0,w:1};function vo(t,n){n.writer.writeUInt(As(t.a,16),32),n.writer.writeUInt(As(t.b,16),32),n.writer.writeUInt(As(0,30),32),n.writer.writeUInt(As(t.c,16),32),n.writer.writeUInt(As(t.d,16),32),n.writer.writeUInt(As(0,30),32),n.writer.writeUInt(As(t.x,16),32),n.writer.writeUInt(As(t.y,16),32),n.writer.writeUInt(As(1,30),32)}function lo(t,n){var i,e,r,u;n.writer.writeUInt(null!==(i=t.isLeading)&&void 0!==i?i:ao.UNKNOWN,2),n.writer.writeUInt(null!==(e=t.sampleDependsOn)&&void 0!==e?e:fo.UNKNOWN,2),n.writer.writeUInt(null!==(r=t.sampleIsDependedOn)&&void 0!==r?r:fo.UNKNOWN,2),n.writer.writeUInt(null!==(u=t.sampleHasRedundancy)&&void 0!==u?u:fo.UNKNOWN,2)}function wo(t,n){var i,e,r;n.writer.writeUInt(0,4),lo(t,n),n.writer.writeUInt(null!==(i=t.samplePaddingValue)&&void 0!==i?i:0,3),n.writer.writeBool(null!==(e=t.sampleIsNonSyncSample)&&void 0!==e&&e),n.writer.writeUInt(null!==(r=t.sampleDegradationPriority)&&void 0!==r?r:0,16)}!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WITH_DEPENDENCY=1]="WITH_DEPENDENCY",t[t.NO=2]="NO",t[t.WITHOUT_DEPENDENCY=3]="WITHOUT_DEPENDENCY"}(ao||(ao={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.YES=1]="YES",t[t.NO=2]="NO",t[t.RESERVED=3]="RESERVED"}(fo||(fo={}));var go=function(){return function(){}}(),yo=function(t){function n(n,i,e){var r=t.call(this,"pssh",n,0)||this;return r.systemId=i,r.data=e,r}return _s(n,t),v.defineProperty(n.prototype,"systemId",{get:function(){return this.Ls},set:function(t){if(16!==t.length)throw new f("Provided systemId length is not 16.");this.Ls=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"data",{get:function(){return this.P},set:function(t){if(!Cs(t.length,32))throw new f("Provided data length does not fit in 32 bits.");this.P=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+16+4+this.data.length},n.prototype.serializeVersionBoxContent=function(t){},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(Is.from(this.systemId)),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.data.length,32),n.concat(Is.from(this.data))},n}(xs),mo=function(t){function n(n,i){return t.call(this,0,n,i)||this}return _s(n,t),n}(yo),bo=function(t){function n(n,i,e){var r=t.call(this,1,n,i)||this;return r.kIds=e,r}return _s(n,t),v.defineProperty(n.prototype,"kIds",{get:function(){return this.Bs},set:function(t){if(!Cs(t.length,32))throw new f("Provided kIds length cannot fit in 32 bits.");if(t.some(function(t){return 16!==t.length}))throw new f("Not all provided key ids are 16 bytes long.");this.Bs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+16*this.kIds.length},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.kIds.length,32);for(var n=0,i=this.kIds;n<i.length;n++){var e=i[n];t.concat(Is.from(e))}},n}(yo);var po=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"mehd",i,e)||this;return r.fragmentDuration=n,r}return _s(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"fragmentDuration",{get:function(){return this.Ms},set:function(t){if(!Cs(t,this.bitSize))throw new f("The provided fragmentDuration does not fit in ".concat(this.bitSize," bits."));this.Ms=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(xs),_o=(function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}_s(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration,32)}}(po),function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}_s(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration.getHighBitsUnsigned(),32),n.writer.writeUInt(this.fragmentDuration.getLowBitsUnsigned(),32)}}(po),function(t){function n(n,i,e,r){void 0===i&&(i={}),void 0===e&&(e=0),void 0===r&&(r=0);var u,s,o,c=this;return(c=t.call(this,"trex",e,r)||this).trackId=n,c.defaultSampleDescriptionIndex=null!==(u=null==i?void 0:i.sampleDescriptionIndex)&&void 0!==u?u:0,c.defaultSampleDuration=null!==(s=i.sampleDuration)&&void 0!==s?s:0,c.defaultSampleSize=null!==(o=i.sampleSize)&&void 0!==o?o:0,c.defaultSampleFlags=i.sampleFlags,c}_s(n,t),v.defineProperty(n.prototype,"trackId",{get:function(){return this.Fs},set:function(t){if(!Cs(t,32))throw new f("Provided track id does not fit in 32 bits.");this.Fs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.Us},set:function(t){if(!Cs(t,32))throw new f("Provided default sample description index does not fit in 32 bits.");this.Us=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.Vs},set:function(t){if(!Cs(t,32))throw new f("Provided default sample duration does not fit in 32 bits.");this.Vs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.qs},set:function(t){if(!Cs(t,32))throw new f("Provided default sample size does not fit in 32 bits.");this.qs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.zs},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!Cs(t.samplePaddingValue,3))throw new f("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!Cs(t.sampleDegradationPriority,16))throw new f("Provided sample degradation priority does not fit in 16 bits.");this.zs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+20},n.prototype.serializeBoxContent=function(n){var i;t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),n.writer.writeUInt(this.defaultSampleDescriptionIndex,32),n.writer.writeUInt(this.defaultSampleDuration,32),n.writer.writeUInt(this.defaultSampleSize,32),wo(null!==(i=this.defaultSampleFlags)&&void 0!==i?i:{},n)}}(xs),function(t){function n(){return t.call(this,"mvex")||this}_s(n,t)}(no),function(t){function n(i,e,r,u,s){void 0===s&&(s=0);var o,c,a,f=this;return(f=t.call(this,"mvhd",u,s)||this).creationTime=i.creation,f.modificationTime=i.modification,f.timescale=i.scale,f.duration=i.duration,f.rate=null!==(o=r.rate)&&void 0!==o?o:n.DEFAULT_RATE,f.volume=null!==(c=r.volume)&&void 0!==c?c:n.DEFAULT_VOLUME,f.matrix=null!==(a=r.matrix)&&void 0!==a?a:ho,f.Ws=e,f}return _s(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"creationTime",{get:function(){return this.Os},set:function(t){if(!Cs(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Os=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"modificationTime",{get:function(){return this.Cs},set:function(t){if(!Cs(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Cs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"timescale",{get:function(){return this.As},set:function(t){if(!Cs(t,32))throw new f("Provided sequence number does not fit in 32 bits.");this.As=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"duration",{get:function(){return this.Ps},set:function(t){if(!Cs(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Ps=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"rate",{get:function(){return this.Hs},set:function(t){if(!Cs(As(t,16),32))throw new f("Provided rate does not fit in 32 bits (fixed 16.16).");this.Hs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"volume",{get:function(){return this.js},set:function(t){if(!Cs(As(t,8),16))throw new f("Provided volume does not fit in 16 bits (fixed 8.8).");this.js=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"matrix",{get:function(){return this.$s},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new f("(u, v, w) does not match the required (0, 0, 1)");this.$s=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"nextTrackId",{get:function(){return this.Ws},set:function(t){if(0===t)throw new f("NextTrackId cannot be 0.");if(!Cs(t,32))throw new f("NextTrackId cannot exceed 32 bits.");this.Ws=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+2+2+8+36+24+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMvhdContent(n),n.writer.writeUInt(As(this.rate,16),32),n.writer.writeUInt(As(this.volume,8),16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),vo(this.matrix,n);for(var i=0;i<6;i++)n.writer.writeUInt(0,32);n.writer.writeUInt(this.nextTrackId,32)},n.DEFAULT_RATE=1,n.DEFAULT_VOLUME=1,n}(xs));(function(t){function n(n,i,e,r){return void 0===e&&(e={}),void 0===r&&(r=0),t.call(this,n,i,e,0,r)||this}_s(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)}})(_o),function(t){function n(n,i,e,r){return void 0===e&&(e={}),void 0===r&&(r=0),t.call(this,n,i,e,1,r)||this}_s(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)}}(_o);var ko=function(t){function n(n,i,e,r,u,s,o){void 0===o&&(o={});var c,a,f,h=this;return(h=t.call(this,"tkhd",n,function(t){var n,i,e,r;return{trackEnabled:null===(n=null==t?void 0:t.trackEnabled)||void 0===n||n,trackInMovie:null===(i=null==t?void 0:t.trackInMovie)||void 0===i||i,trackInPreview:null===(e=null==t?void 0:t.trackInPreview)||void 0===e||e,trackSizeIsAspectRatio:null!==(r=null==t?void 0:t.trackSizeIsAspectRatio)&&void 0!==r&&r}}(o))||this).creationTime=i.creation,h.modificationTime=i.modification,h.trackId=e,h.duration=i.duration,h.volume=r,h.width=u,h.height=s,h.layer=null!==(c=o.layer)&&void 0!==c?c:0,h.alternateGroup=null!==(a=o.alternateGroup)&&void 0!==a?a:0,h.matrix=null!==(f=o.matrix)&&void 0!==f?f:ho,h}return _s(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"creationTime",{get:function(){return this.Os},set:function(t){if(!Cs(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Os=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"modificationTime",{get:function(){return this.Cs},set:function(t){if(!Cs(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Cs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"trackId",{get:function(){return this.Fs},set:function(t){if(0===t)throw new f("trackId cannot be 0.");if(!Cs(t,32))throw new f("trackId cannot exceed 32 bits.");this.Fs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"duration",{get:function(){return this.Ps},set:function(t){if(!Cs(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Ps=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"volume",{get:function(){return this.js},set:function(t){if(!Cs(As(t,8),16))throw new f("Provided volume does not fit in 16 bits (fixed 8.8).");this.js=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"width",{get:function(){return this.Xs},set:function(t){if(!Cs(As(t,16),32))throw new f("Provided width does not fit in 32 bits (fixed 16.16).");this.Xs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"height",{get:function(){return this.Gs},set:function(t){if(!Cs(As(t,16),32))throw new f("Provided height does not fit in 32 bits (fixed 16.16).");this.Gs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"layer",{get:function(){return this.Ys},set:function(t){if(!Cs(t,16))throw new f("Provided layer does not fit in 16 bits.");this.Ys=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"alternateGroup",{get:function(){return this.Ks},set:function(t){if(!Cs(t,16))throw new f("Provided alternateGroup does not fit in 16 bits.");this.Ks=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"matrix",{get:function(){return this.$s},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new f("(u, v, w) does not match the required (0, 0, 1)");this.$s=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+8+2+2+2+2+36+4+4},n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,20),t.writer.writeBool(this.flags.trackSizeIsAspectRatio),t.writer.writeBool(this.flags.trackInPreview),t.writer.writeBool(this.flags.trackInMovie),t.writer.writeBool(this.flags.trackEnabled)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeTkhdContent(n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.layer,16),n.writer.writeUInt(this.alternateGroup,16),n.writer.writeUInt(As(this.volume,8),16),n.writer.writeUInt(0,16),vo(this.matrix,n),n.writer.writeUInt(As(this.width,16),32),n.writer.writeUInt(As(this.height,16),32)},n}(xs),To=(function(t){function n(n,i,e,r,u,s){return t.call(this,0,n,i,e,r,u,s)||this}_s(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration,32)}}(ko),function(t){function n(n,i,e,r,u,s){return t.call(this,1,n,i,e,r,u,s)||this}_s(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)}}(ko),function(t){function n(){return t.call(this,"trak")||this}_s(n,t)}(no),function(t){function n(){return t.call(this,"moov")||this}_s(n,t)}(no),function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"tfdt",i,e)||this;return r.baseMediaDecodeTime=n,r}return _s(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"baseMediaDecodeTime",{get:function(){return this.Js},set:function(t){if(!Cs(t,this.bitSize))throw new f("Provided baseMediaDecodeTime does not fit in ".concat(this.bitSize," bits."));this.Js=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(xs));(function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}_s(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime,32)}})(To),function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}_s(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseMediaDecodeTime.getLowBitsUnsigned(),32)}}(To);!function(t){function n(n,i){void 0===i&&(i=0);var e=t.call(this,"tfhd",i,function(t){return{baseDataOffsetPresent:void 0!==t.baseDataOffset,sampleDescriptionIndexPresent:void 0!==t.sampleDescriptionIndex,defaultSampleDurationPresent:void 0!==t.defaultSampleDuration,defaultSampleSizePresent:void 0!==t.defaultSampleSize,defaultSampleFlagsPresent:void 0!==t.defaultSampleFlags,durationIsEmpty:t.durationIsEmpty,defaultBaseIsMoof:t.defaultBaseIsMoof}}(n))||this;return e.trackId=n.trackId,e.baseDataOffset=n.baseDataOffset,e.sampleDescriptionIndex=n.sampleDescriptionIndex,e.defaultSampleDuration=n.defaultSampleDuration,e.defaultSampleSize=n.defaultSampleSize,e.defaultSampleFlags=n.defaultSampleFlags,e}_s(n,t),v.defineProperty(n.prototype,"trackId",{get:function(){return this.Fs},set:function(t){if(!Cs(t,32))throw new f("Provided track id does not fit in 32 bits.");this.Fs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"baseDataOffset",{get:function(){return this.Qs},set:function(t){if(void 0===t&&this.flags.baseDataOffsetPresent)throw new f("The base data offset present flag is set.");if(void 0!==t&&!this.flags.baseDataOffsetPresent)throw new f("The base data offset present flag is not set.");if(t&&!Cs(t,64))throw new f("Provided baseDataOffset does not fit in 32 bits.");this.Qs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"sampleDescriptionIndex",{get:function(){return this.Zs},set:function(t){if(void 0===t&&this.flags.sampleDescriptionIndexPresent)throw new f("The sample description index flag is set.");if(void 0!==t&&!this.flags.sampleDescriptionIndexPresent)throw new f("The sample description index flag is not set.");if(t&&!Cs(t,32))throw new f("Provided sampleDescriptionIndex does not fit in 32 bits.");this.Zs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.Vs},set:function(t){if(void 0===t&&this.flags.defaultSampleDurationPresent)throw new f("The default sample duration present flag is set.");if(void 0!==t&&!this.flags.defaultSampleDurationPresent)throw new f("The default sample duration present flag is not set.");if(t&&!Cs(t,32))throw new f("Provided defaultSampleDuration does not fit in 32 bits.");this.Vs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.qs},set:function(t){if(void 0===t&&this.flags.defaultSampleSizePresent)throw new f("The default sample size present flag is set.");if(void 0!==t&&!this.flags.defaultSampleSizePresent)throw new f("The default sample size present flag is not set.");if(t&&!Cs(t,32))throw new f("Provided defaultSampleSize does not fit in 32 bits.");this.qs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.zs},set:function(t){if(void 0===t&&this.flags.defaultSampleFlagsPresent)throw new f("The default sample flags present flag is set.");if(void 0!==t&&!this.flags.defaultSampleFlagsPresent)throw new f("The default sample flags present flag is not set.");if((null==t?void 0:t.samplePaddingValue)&&!Cs(t.samplePaddingValue,3))throw new f("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!Cs(t.sampleDegradationPriority,16))throw new f("Provided sample degradation priority does not fit in 16 bits.");this.zs=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,6),t.writer.writeBool(this.flags.defaultBaseIsMoof),t.writer.writeBool(this.flags.durationIsEmpty),t.writer.writeByte(0),t.writer.writeUInt(0,2),t.writer.writeBool(this.flags.defaultSampleFlagsPresent),t.writer.writeBool(this.flags.defaultSampleSizePresent),t.writer.writeBool(this.flags.defaultSampleDurationPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.sampleDescriptionIndexPresent),t.writer.writeBool(this.flags.baseDataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.baseDataOffsetPresent&&(n+=8),this.flags.sampleDescriptionIndexPresent&&(n+=4),this.flags.defaultSampleDurationPresent&&(n+=4),this.flags.defaultSampleSizePresent&&(n+=4),this.flags.defaultSampleFlagsPresent&&(n+=4),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),this.flags.baseDataOffsetPresent&&(n.writer.writeUInt(this.baseDataOffset.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseDataOffset.getLowBitsUnsigned(),32)),this.flags.sampleDescriptionIndexPresent&&n.writer.writeUInt(this.sampleDescriptionIndex,32),this.flags.defaultSampleDurationPresent&&n.writer.writeUInt(this.defaultSampleDuration,32),this.flags.defaultSampleSizePresent&&n.writer.writeUInt(this.defaultSampleSize,32),this.flags.defaultSampleFlagsPresent&&wo(this.defaultSampleFlags,n)}}(xs);(function(t){function n(n,i,e){var r=t.call(this,"trun",n,function(t){var n,i,e,r;return{dataOffsetPresent:void 0!==t.dataOffset,firstSampleFlagsPresent:void 0!==t.firstSampleFlags,sampleDurationPresent:null!==(n=t.sampleDurationPresent)&&void 0!==n&&n,sampleSizePresent:null!==(i=t.sampleSizePresent)&&void 0!==i&&i,sampleFlagsPresent:null!==(e=t.sampleFlagsPresent)&&void 0!==e&&e,sampleCompositionTimeOffsetsPresent:null!==(r=t.sampleCompositionTimeOffsetsPresent)&&void 0!==r&&r}}(i))||this;return r.dataOffset=i.dataOffset,r.samples=e,r.firstSampleFlags=i.firstSampleFlags,r}_s(n,t),v.defineProperty(n.prototype,"dataOffset",{get:function(){return this.to},set:function(t){if(t&&!Cs(t,32))throw new f("Provided data offset does not fit in 32 bits.");this.to=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"firstSampleFlags",{get:function(){return this.io},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!Cs(t.samplePaddingValue,3))throw new f("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!Cs(t.sampleDegradationPriority,16))throw new f("Provided sample degradation priority does not fit in 16 bits.");this.io=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"samples",{get:function(){return this.eo},set:function(t){var n,i;if(!Cs(t.length,32))throw new f("The sample count cannot be represented in 32 bits.");for(var e=0,r=t;e<r.length;e++){var u=r[e];if(void 0===u.duration&&this.flags.sampleDurationPresent)throw new f("The sample duration present flag is set.");if(void 0!==u.duration&&!this.flags.sampleDurationPresent)throw new f("The sample duration present flag is not set.");if(u.duration&&!Cs(u.duration,32))throw new f("Provided sample duration does not fit in 32 bits.");if(void 0===u.size&&this.flags.sampleSizePresent)throw new f("The sample size present flag is set.");if(void 0!==u.size&&!this.flags.sampleSizePresent)throw new f("The sample size present flag is not set.");if(u.size&&!Cs(u.size,32))throw new f("Provided sample size does not fit in 32 bits.");if(void 0===u.flags&&this.flags.sampleFlagsPresent)throw new f("The sample flags present flag is set.");if(void 0!==u.flags&&!this.flags.sampleFlagsPresent)throw new f("The sample flags present flag is not set.");if((null===(n=u.flags)||void 0===n?void 0:n.samplePaddingValue)&&!Cs(u.flags.samplePaddingValue,3))throw new f("Provided sample padding value does not fit in 3 bits.");if((null===(i=u.flags)||void 0===i?void 0:i.sampleDegradationPriority)&&!Cs(u.flags.sampleDegradationPriority,16))throw new f("Provided sample degradation priority does not fit in 16 bits.");if(void 0===u.compositionTimeOffset&&this.flags.sampleCompositionTimeOffsetsPresent)throw new f("The sample compositionTimeOffset present flag is set.");if(void 0!==u.compositionTimeOffset&&!this.flags.sampleCompositionTimeOffsetsPresent)throw new f("The sample compositionTimeOffset present flag is not set.");if(u.compositionTimeOffset&&!Cs(u.compositionTimeOffset,32))throw new f("Provided sample compositionTimeOffset does not fit in 32 bits.")}this.eo=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeByte(0),t.writer.writeUInt(0,4),t.writer.writeBool(this.flags.sampleCompositionTimeOffsetsPresent),t.writer.writeBool(this.flags.sampleFlagsPresent),t.writer.writeBool(this.flags.sampleSizePresent),t.writer.writeBool(this.flags.sampleDurationPresent),t.writer.writeUInt(0,5),t.writer.writeBool(this.flags.firstSampleFlagsPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.dataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.dataOffsetPresent&&(n+=4),this.flags.firstSampleFlagsPresent&&(n+=4),this.flags.sampleDurationPresent&&(n+=4*this.samples.length),this.flags.sampleSizePresent&&(n+=4*this.samples.length),this.flags.sampleFlagsPresent&&(n+=4*this.samples.length),this.flags.sampleCompositionTimeOffsetsPresent&&(n+=4*this.samples.length),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32),this.flags.dataOffsetPresent&&n.writer.writeUInt(this.dataOffset,32),this.flags.firstSampleFlagsPresent&&wo(this.firstSampleFlags,n);for(var i=0,e=this.samples;i<e.length;i++){var r=e[i];this.flags.sampleDurationPresent&&n.writer.writeUInt(r.duration,32),this.flags.sampleSizePresent&&n.writer.writeUInt(r.size,32),this.flags.sampleFlagsPresent&&wo(r.flags,n),this.flags.sampleCompositionTimeOffsetsPresent&&(0===this.version?n.writer.writeUInt(r.compositionTimeOffset,32):n.writer.writeInt(r.compositionTimeOffset,32))}}})(xs),function(t){function n(){return t.call(this,"traf")||this}_s(n,t)}(no),function(t){function n(){return t.call(this,"moof")||this}_s(n,t)}(no),function(t){function n(n){var i=t.call(this,"mfhd",0,0)||this;return i.sequenceNumber=n,i}_s(n,t),v.defineProperty(n.prototype,"sequenceNumber",{get:function(){return this.ro},set:function(t){if(!Cs(t,32))throw new f("Provided sequence number does not fit in 32 bits.");this.ro=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.sequenceNumber,32)}}(xs);var So=function(t){function n(n){var i=t.call(this,"frma")||this;return i.codingName=n,i}return _s(n,t),v.defineProperty(n.prototype,"codingName",{get:function(){return this.uo},set:function(t){if(4!==t.length)throw new f("Provided coding name was not 4 characters long.");this.uo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.codingName)},n}(Os),Eo=(function(t){function n(n,i){var e=t.call(this,"pasp")||this;return e.hSpacing=n,e.vSpacing=i,e}_s(n,t),v.defineProperty(n.prototype,"hSpacing",{get:function(){return this.so},set:function(t){if(!Cs(t,32))throw new f("Provided hSpacing does not fit in 32 bits.");this.so=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"vSpacing",{get:function(){return this.oo},set:function(t){if(!Cs(t,32))throw new f("Provided vSpacing does not fit in 32 bits.");this.oo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.hSpacing,32),t.writer.writeUInt(this.vSpacing,32)}}(Os),function(t){function n(n,i,e){var r=t.call(this,n)||this;return r.sample=i,r.sinf=e,r}_s(n,t),n.prototype.getBoxContentSize=function(){return this.sample.getBoxContentSize()+this.sinf.getSize()},n.prototype.serializeBoxContent=function(t){this.sample.serializeBoxContent(t),t.concat(this.sinf.serialize())}}(no),function(t){function n(n,i,e){var r=t.call(this,"sinf")||this;return r.schm=i,r.schi=e,r.frma=new So(n),r}_s(n,t),n.prototype.getBoxContentSize=function(){var t,n,i,e;return this.frma.getSize()+(null!==(n=null===(t=this.schm)||void 0===t?void 0:t.getSize())&&void 0!==n?n:0)+(null!==(e=null===(i=this.schi)||void 0===i?void 0:i.getSize())&&void 0!==e?e:0)},n.prototype.serializeBoxContent=function(t){t.concat(this.frma.serialize()),this.schm&&t.concat(this.schm.serialize()),this.schi&&t.concat(this.schi.serialize())}}(Os),function(t){function n(n,i,e){var r=t.call(this,"saio",n,void 0===e?0:1)||this;return r.entries=i,r.explicitAuxInfoType=e,r}return _s(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"entries",{get:function(){return this.gs},set:function(t){var n=this;if(!Cs(t.length,32))throw new f("Number of entries provided does not fit in 32 bits.");if(t.some(function(t){return!Cs(t,n.bitSize)}))throw new f("Not all provided entries fit in ".concat(this.bitSize," bits."));this.gs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.co},set:function(t){if(void 0===t)this.flags=0;else{if(!Cs(t.auxInfoType,32))throw new f("Provided auxInfoType does not fit in 32 bits.");if(!Cs(t.auxInfoTypeParameter,32))throw new f("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.co=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+4+this.entries.length*this.bitSize/8},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeUInt(this.entries.length,32),this.serializeSaioContent(n)},n}(xs)),Ro=(function(t){function n(){return null!==t&&t.apply(this,arguments)||this}_s(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var e=i[n];t.writer.writeUInt(e,32)}}}(Eo),function(t){function n(){return null!==t&&t.apply(this,arguments)||this}_s(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var e=i[n];t.writer.writeUInt(e.getHighBitsUnsigned(),32),t.writer.writeUInt(e.getLowBitsUnsigned(),32)}}}(Eo),function(t){function n(n,i,e){var r=t.call(this,"saiz",0,void 0===e?0:1)||this;return r.defaultSampleInfoSize=n,r.sampleInfoSizes=i,r.explicitAuxInfoType=e,r}_s(n,t),v.defineProperty(n.prototype,"defaultSampleInfoSize",{get:function(){return this.ao},set:function(t){if(!Cs(t,8))throw new f("Provided defaultSampleInfoSize does not fit in a single byte.");this.ao=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"sampleInfoSizes",{get:function(){return this.fo},set:function(t){if(!Cs(t.length,32))throw new f("Number of sampleInfoSizes provided does not fit in 32 bits.");if(t.some(function(t){return!Cs(t,8)}))throw new f("Not all provided sampleInfoSizes fit in a byte.");this.fo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.co},set:function(t){if(void 0===t)this.flags=0;else{if(!Cs(t.auxInfoType,32))throw new f("Provided auxInfoType does not fit in 32 bits.");if(!Cs(t.auxInfoTypeParameter,32))throw new f("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.co=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+1+4+(0===this.defaultSampleInfoSize?0:this.sampleInfoSizes.length)},n.prototype.serializeBoxContent=function(n){if(0===this.defaultSampleInfoSize&&this.sampleInfoSizes.length>0)throw new f("Both a default size and specific sizes are provided.  This is prohibited.");t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeByte(this.defaultSampleInfoSize),n.writer.writeUInt(this.sampleInfoSizes.length,32);for(var i=0,e=this.sampleInfoSizes;i<e.length;i++){var r=e[i];n.writer.writeByte(r)}}}(xs),function(t){function n(n){var i=t.call(this,"sdtp",0,0)||this;return i.samples=n,i}_s(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.samples.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n);for(var i=0,e=this.samples;i<e.length;i++){lo(e[i],n)}}}(xs),function(t){function n(n){return t.call(this,"stsd",n,0)||this}_s(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(ro),function(t){function n(n,i,e){var r=t.call(this,"sgpd",n,0)||this;return r.entries=e,r.groupingType=i,r}return _s(n,t),v.defineProperty(n.prototype,"groupingType",{get:function(){return this.ho},set:function(t){if(4!==t.length)throw new f("The provided groupingType does not equal 4 characters.");this.ho=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.groupingType),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];this.serializeEntryBoxContent(n,r)}},n.prototype.serializeEntryBoxContent=function(t,n){n.serializeBoxContent(t)},n}(xs)),Io=(function(t){function n(n,i){return t.call(this,0,n,i)||this}_s(n,t),n.prototype.serializeVersionBoxContent=function(t){}}(Ro),function(t){function n(n,i,e){var r=t.call(this,1,n,e)||this;return r.defaultLength=i,r}_s(n,t),v.defineProperty(n.prototype,"defaultLength",{get:function(){return this.vo},set:function(t){if(!Cs(t,32))throw new f("The provided defaultLength does not fit in 32 bits.");this.vo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(this.defaultLength||4)},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultLength,32)},n.prototype.serializeEntryBoxContent=function(t,n){0===this.defaultLength&&t.writer.writeUInt(n.getBoxContentSize(),32),n.serializeBoxContent(t)}}(Ro),function(t){function n(n,i,e,r){void 0===r&&(r=0);var u=this;if(n<2)throw new f("This constructor is only meant for versions 2 and up.");return(u=t.call(this,n,i,e)||this).defaultSampleDescriptionIndex=r,u}_s(n,t),v.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.Us},set:function(t){if(!Cs(t,32))throw new f("The provided defaultSampleDescriptionIndex does not fit in 32 bits.");this.Us=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultSampleDescriptionIndex,32)}}(Ro),function(t){function n(n){void 0===n&&(n=[]);var i=t.call(this,"stsz",0,0)||this;return i.sampleSizes=n,i}_s(n,t),v.defineProperty(n.prototype,"sampleSizes",{get:function(){return this.do},set:function(t){if(!Cs(t.length,32))throw new f("Number of allowed samples cannot fit in 32 bits.");if(t.some(function(t){return!Cs(t,32)}))throw new f("Not all sampleSizes can be represented in 32 bits.");this.do=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+4*this.sampleSizes.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(this.sampleSizes.length,32);for(var i=0,e=this.sampleSizes;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(xs),function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=0);var e=t.call(this,"stsz",0,0)||this;return e.defaultSampleSize=n,e.samples=i,e}_s(n,t),v.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.qs},set:function(t){if(!Cs(t,32))throw new f("Provided defaultSampleSize does not fit in 32 bits.");this.qs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"samples",{get:function(){return this.eo},set:function(t){if(!Cs(t,32))throw new f("Number of allowed samples cannot fit in 32 bits.");this.eo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.defaultSampleSize,32),n.writer.writeUInt(this.samples,32)}}(xs),function(t){function n(){return t.call(this,"stbl")||this}_s(n,t)}(no),function(t){function n(n){var i=t.call(this,"stsc",0,0)||this;return i.entries=n,i}_s(n,t),v.defineProperty(n.prototype,"entries",{get:function(){return this.gs},set:function(t){if(!Cs(t.length,32))throw new f("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!Cs(t.firstChunk,32)||!Cs(t.sampleDescriptionIndex,32)||!Cs(t.samplesPerChunk,32)}))throw new f("Not all entries can be represented in 96 bits.");this.gs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+12*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.firstChunk,32),n.writer.writeUInt(r.samplesPerChunk,32),n.writer.writeUInt(r.sampleDescriptionIndex,32)}}}(xs),function(t){function n(){return t.call(this,"schi")||this}_s(n,t)}(no),function(t){function n(n,i,e){var r=t.call(this,"schm",0,void 0===e?0:1)||this;return r.schemeType=n,r.schemeVersion=i,r.schemeUri=e,r}_s(n,t),v.defineProperty(n.prototype,"schemeType",{get:function(){return this.lo},set:function(t){if(4!==t.length)throw new f("The provided schemeType does not have a length of 4.");this.lo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"schemeVersion",{get:function(){return this.wo},set:function(t){if(!Cs(t,32))throw new f("The provided schemeVersion does not fit in 23 bits.");this.wo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"schemeUri",{get:function(){return this.yo},set:function(t){if(t&&4!==t.length)throw new f("The provided schemeUri does not have a length of 4.");this.flags=void 0===t?0:1,this.yo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+(void 0===this.schemeUri?0:this.schemeUri.length+1)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeType),n.writer.writeUInt(this.schemeVersion,32),this.schemeUri&&(n.writer.writeString(this.schemeUri),n.writer.writeByte(0))}}(xs),function(t){function n(n,i,e,r,u,s,o){void 0===o&&(o=0);var c=t.call(this,"sidx",n,o)||this;return c.referenceId=i,c.timescale=e,c.earliestPresentationTime=r,c.firstOffset=u,c.references=s,c}return _s(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"referenceId",{get:function(){return this.mo},set:function(t){if(!Cs(t,32))throw new f("Provided referenceId does not fit in 32 bits.");this.mo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"timescale",{get:function(){return this.As},set:function(t){if(!Cs(t,32))throw new f("Provided timescale does not fit in 32 bits.");this.As=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"earliestPresentationTime",{get:function(){return this.bo},set:function(t){if(!Cs(t,this.bitSize))throw new f("Provided earliestPresentationTime does not fit in ".concat(this.bitSize," bits."));this.bo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"firstOffset",{get:function(){return this.po},set:function(t){if(!Cs(t,this.bitSize))throw new f("Provided timescale does not fit in ".concat(this.bitSize," bits."));this.po=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"references",{get:function(){return this._o},set:function(t){if(!Cs(t.length,16))throw new f("The number of provided reference items does not fit in 16 bits.");for(var n=0,i=t;n<i.length;n++){var e=i[n];if(!Cs(e.referencedSize,31))throw new f("Provided referenced size does not fit in 31 bits.");if(!Cs(e.subsegmentDuration,32))throw new f("Provided subsegment duration does not fit in 31 bits.");if(!Cs(e.sapType,3))throw new f("Provided SAP type does not fit in 3 bits.");if(!Cs(e.sapDeltaTime,28))throw new f("Provided SAP delta time does not fit in 28 bits.")}this._o=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+this.bitSize/8*2+2+2+12*this.references.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.referenceId,32),n.writer.writeUInt(this.timescale,32),this.serializeSidxBoxContent(n),n.writer.writeUInt(0,16),n.writer.writeUInt(this.references.length,16);for(var i=0,e=this.references;i<e.length;i++){var r=e[i];n.writer.writeBit(r.referenceType),n.writer.writeUInt(r.referencedSize,31),n.writer.writeUInt(r.subsegmentDuration,32),n.writer.writeBool(r.startsWithSap),n.writer.writeUInt(r.sapType,3),n.writer.writeUInt(r.sapDeltaTime,28)}},n}(xs)),Do=(function(t){function n(n,i,e,r,u,s){return void 0===s&&(s=0),t.call(this,0,n,i,e,r,u,s)||this}_s(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime,32),t.writer.writeUInt(this.firstOffset,32)}}(Io),function(t){function n(n,i,e,r,u,s){return void 0===s&&(s=0),t.call(this,1,n,i,e,r,u,s)||this}_s(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.earliestPresentationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getHighBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getLowBitsUnsigned(),32)}}(Io),function(t){function n(n,i,e){return t.call(this,"styp",n,i,e)||this}_s(n,t)}(so),function(t){function n(n){void 0===n&&(n=0);var i=t.call(this,"smhd",0,0)||this;return i.balance=n,i}_s(n,t),v.defineProperty(n.prototype,"balance",{get:function(){return this.ko},set:function(t){if(t<-1||t>1)throw new f("Provided balance does not fit in the allowed range [-1, 1].");if(!Cs(As(t,8),16))throw new f("Provided balance does not fit in 16 bits (fixed 8.8).");this.ko=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(As(this.balance,8),16),n.writer.writeUInt(0,16)}}(xs),function(t){function n(n){var i=t.call(this,"stss",0,0)||this;return i.entries=n,i}_s(n,t),v.defineProperty(n.prototype,"entries",{get:function(){return this.gs},set:function(t){if(!Cs(t.length,32))throw new f("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!Cs(t,32)}))throw new f("Not all entries can be represented in 32 bits.");this.gs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(xs),function(t){function n(n){var i=t.call(this,"stts",0,0)||this;return i.entries=n,i}_s(n,t),v.defineProperty(n.prototype,"entries",{get:function(){return this.gs},set:function(t){if(!Cs(t.length,32))throw new f("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!Cs(t.sampleCount,32)||!Cs(t.sampleDelta,32)}))throw new f("Not all entries can be represented in 64 bits.");this.gs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.sampleCount,32),n.writer.writeUInt(r.sampleDelta,32)}}}(xs),function(t){function n(n){var i=t.call(this,"trep",0,0)||this;return i.trackId=n,i}_s(n,t),v.defineProperty(n.prototype,"trackId",{get:function(){return this.Fs},set:function(t){if(!Cs(t,32))throw new f("The provided trackId does not fit in 32 bits.");this.Fs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32)}}(ro),function(t){function n(){return t.call(this,"udta")||this}_s(n,t)}(no),{red:0,green:0,blue:0}),No=(function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=Do);var e=t.call(this,"vmhd",0,1)||this;return e.graphicsMode=n,e.opColor=i,e}_s(n,t),v.defineProperty(n.prototype,"opColor",{get:function(){return this.To},set:function(t){if(!Cs(t.red,16)||!Cs(t.green,16)||!Cs(t.blue,16))throw new f("Not all colors could be represented in 16 bits.");this.To=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+6},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.graphicsMode,16),n.writer.writeUInt(this.opColor.red,16),n.writer.writeUInt(this.opColor.green,16),n.writer.writeUInt(this.opColor.blue,16)}}(xs),function(t){function n(n,i,e,r,u){void 0===r&&(r={}),void 0===u&&(u=void 0);var s,o,c,a,f,h=this;return(h=t.call(this,n,i)||this).width=e.width,h.height=e.height,h.horizontalResolution=null!==(s=e.horizontal)&&void 0!==s?s:72,h.verticalResolution=null!==(o=e.vertical)&&void 0!==o?o:72,h.compressorName=null!==(c=r.compressorName)&&void 0!==c?c:"",h.frameCount=null!==(a=r.frameCount)&&void 0!==a?a:1,h.depth=null!==(f=r.depth)&&void 0!==f?f:24,h.clap=r.clap,h.pasp=r.pasp,h.extra=u,h}return _s(n,t),v.defineProperty(n.prototype,"width",{get:function(){return this.Xs},set:function(t){if(!Cs(t,16))throw new f("Provided width does not fit in 16 bits.");this.Xs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"height",{get:function(){return this.Gs},set:function(t){if(!Cs(t,16))throw new f("Provided height does not fit in 16 bits.");this.Gs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"horizontalResolution",{get:function(){return this.So},set:function(t){if(!Cs(As(t,16),32))throw new f("Provided horizontalResolution does not fit in 32 bits (fixed 16.16).");this.So=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"verticalResolution",{get:function(){return this.Eo},set:function(t){if(!Cs(As(t,16),32))throw new f("Provided verticalResolution does not fit in 32 bits (fixed 16.16).");this.Eo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"compressorName",{get:function(){return this.Ro},set:function(t){if(t.length>31)throw new f("The provided compressorName should at most be 31 characters long.");this.Ro=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"frameCount",{get:function(){return this.Io},set:function(t){if(!Cs(t,16))throw new f("Provided frameCount does not fit in 16 bits.");this.Io=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"depth",{get:function(){return this.Do},set:function(t){if(!Cs(t,16))throw new f("Provided depth does not fit in 16 bits.");this.Do=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i,e,r,u,s;return t.prototype.getBoxContentSize.call(this)+2+2+12+2+2+4+4+4+2+32+2+2+(null!==(i=null===(n=this.clap)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)+(null!==(r=null===(e=this.pasp)||void 0===e?void 0:e.getSize())&&void 0!==r?r:0)+(null!==(s=null===(u=this.extra)||void 0===u?void 0:u.length)&&void 0!==s?s:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.width,16),n.writer.writeUInt(this.height,16),n.writer.writeUInt(As(this.horizontalResolution,16),32),n.writer.writeUInt(As(this.verticalResolution,16),32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.frameCount,16),n.writer.writeByte(this.compressorName.length),n.writer.writeString(this.compressorName);for(var i=0;i<31-this.compressorName.length;i++)n.writer.writeByte(0);n.writer.writeUInt(this.depth,16),n.writer.writeInt(-1,16),this.clap&&n.concat(this.clap.serialize()),this.pasp&&n.concat(this.pasp.serialize()),this.extra&&Ps(n.writer,this.extra)},n}(io)),Oo=(function(t){function n(n){var i=t.call(this,"esds",0,0)||this;return i.esDescriptor=n,i}_s(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(this.esDescriptor instanceof y?this.esDescriptor.length:this.esDescriptor.getSize())},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor instanceof y?n.concat(Is.from(this.esDescriptor)):this.esDescriptor.serialize(n)}}(xs),function(t){function n(n,i,e){var r=t.call(this,"mp4a",n,e)||this;return r.esd=i,r}_s(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esd.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.esd.serialize())}}(eo),function(t){function n(n,i,e,r){void 0===r&&(r={});var u=t.call(this,"mp4v",n,i,r)||this;return u.esDescriptor=e,u}_s(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(No),function(t){function n(n,i){var e=t.call(this,"mp4s",n)||this;return e.esDescriptor=i,e}_s(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(io),function(t){function n(n){var i=t.call(this,"avcC")||this;return i.decoderConfig=n,i}_s(n,t),n.prototype.getBoxContentSize=function(){return this.decoderConfig.getSize()},n.prototype.serializeBoxContent=function(t){this.decoderConfig.serialize(t)}}(Os),function(){function t(t,n,i,e,r,u){void 0===u&&(u=1),this.lengthSizeMinusOne=i,this.version=u,this.profileIndication=t.indication,this.profileCompatibility=t.compatibility,this.levelIndication=n,this.spsSets=e,this.ppsSets=r}v.defineProperty(t.prototype,"version",{get:function(){return this.No},set:function(t){if(!Cs(t,8))throw new f("Provided version does not fit in 8 bits.");this.No=t},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"profileIndication",{get:function(){return this.Oo},set:function(t){if(!Cs(t,8))throw new f("Provided profileIndication does not fit in 8 bits.");this.Oo=t},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"profileCompatibility",{get:function(){return this.Co},set:function(t){if(!Cs(t,8))throw new f("Provided profileCompatibility does not fit in 8 bits.");this.Co=t},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"levelIndication",{get:function(){return this.Ao},set:function(t){if(!Cs(t,8))throw new f("Provided levelIndication does not fit in 8 bits.");this.Ao=t},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"spsSets",{get:function(){return this.Po},set:function(t){if(!Cs(t.length,5))throw new f("Provided number of spsSets exceeds the max (32)");this.Po=t},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"ppsSets",{get:function(){return this.xo},set:function(t){if(!Cs(t.length,8))throw new f("Provided number of ppsSets exceeds the max (256)");this.xo=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return 7+2*this.spsSets.length+this.spsSets.reduce(function(t,n){return t+n.length},0)+2*this.ppsSets.length+this.ppsSets.reduce(function(t,n){return t+n.length},0)},t.prototype.serialize=function(t){t.writer.writeByte(this.version),t.writer.writeByte(this.profileIndication),t.writer.writeByte(this.profileCompatibility),t.writer.writeByte(this.levelIndication),t.writer.writeBits([1,1,1,1,1,1]),t.writer.writeUInt(this.lengthSizeMinusOne,2),t.writer.writeBits([1,1,1]),t.writer.writeUInt(this.spsSets.length,5);for(var n=0,i=this.spsSets;n<i.length;n++){var e=i[n];t.writer.writeUInt(e.length,16),t.concat(Is.from(e))}t.writer.writeByte(this.ppsSets.length);for(var r=0,u=this.ppsSets;r<u.length;r++){var s=u[r];t.writer.writeUInt(s.length,16),t.concat(Is.from(s))}}}(),function(t){function n(n,i,e,r,u){void 0===r&&(r={}),void 0===u&&(u=void 0);var s=t.call(this,"avc1",n,i,r)||this;return s.configurationBox=e,s.bitrateBox=u,s}_s(n,t),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+this.configurationBox.getSize()+(null!==(i=null===(n=this.bitrateBox)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.configurationBox.serialize()),this.bitrateBox&&n.concat(this.bitrateBox.serialize())}}(No),function(t){function n(n,i,e){var r=t.call(this,"btrt")||this;return r.bufferSizeDb=n,r.max=i,r.avg=e,r}_s(n,t),v.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.rs},set:function(t){if(!Cs(t,32))throw new f("Provided bufferSizeDb does not fit in 32 bits.");this.rs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"max",{get:function(){return this.Lo},set:function(t){if(!Cs(t,32))throw new f("Provided max does not fit in 32 bits.");this.Lo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"avg",{get:function(){return this.Bo},set:function(t){if(!Cs(t,32))throw new f("Provided avg does not fit in 32 bits.");this.Bo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 12},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.bufferSizeDb,32),t.writer.writeUInt(this.max,32),t.writer.writeUInt(this.avg,32)}}(Os),function(t){function n(n,i){var e,r,u,s,o=this;if(o=t.call(this,"tenc",n,0)||this,i.perSampleIvSize>0&&(null!==(r=null===(e=i.constantIv)||void 0===e?void 0:e.length)&&void 0!==r?r:0)>0)throw new f("Either perSampleSize should be > 0 or constantIv should be defined. Not both.");return o.kId=i.kId,o.isProtected=null!==(u=i.isProtected)&&void 0!==u?u:1,i.perSampleIvSize>0?o.perSampleIvSize=i.perSampleIvSize:o.constantIv=null!==(s=i.constantIv)&&void 0!==s?s:new y(0),o}return _s(n,t),v.defineProperty(n.prototype,"isProtected",{get:function(){return this.Mo},set:function(t){if(!Cs(t,8))throw new f("Provided isProtected does not fit in 1 byte.");this.Mo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"perSampleIvSize",{get:function(){return this.Fo},set:function(t){if(![8,16].includes(t))throw new f("Provided perSampleIvSize does not match any allowed value [8, 16].");this.Fo=t,this.Uo=new y(0)},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"kId",{get:function(){return this.Vo},set:function(t){if(16!==t.length)throw new f("Provided kId length is not 16.");this.Vo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"constantIv",{get:function(){return this.Uo},set:function(t){if(![8,16].includes(t.length))throw new f("Provided constant IV length does not match any allowed value [8, 16].");this.Uo=t,this.Fo=0},enumerable:!1,configurable:!0}),n.prototype.getTencHeaderSize=function(){return 20+(this.constantIv.length>0?1+this.constantIv.length:0)},n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.getTencHeaderSize()},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeByte(0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeOwnContent(n)},n.prototype.serializeOwnContent=function(t){t.writer.writeByte(0),this.serializeVersionBoxContent(t),t.writer.writeByte(this.isProtected),t.writer.writeByte(this.perSampleIvSize),Ps(t.writer,this.kId),0===this.perSampleIvSize&&(t.writer.writeByte(this.constantIv.length),Ps(t.writer,this.constantIv))},n}(xs)),Co=(function(t){function n(n){return t.call(this,0,n)||this}_s(n,t)}(Oo),function(t){function n(n){var i=t.call(this,1,n)||this;return i.cryptByteBlocks=n.cryptByteBlock,i.skipByteBlocks=n.skipByteBlock,i}return _s(n,t),v.defineProperty(n.prototype,"cryptByteBlocks",{get:function(){return this.qo},set:function(t){if(!Cs(t,4))throw new f("Provided cryptByteBlocks does not fit in 4 bits.");this.qo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"skipByteBlocks",{get:function(){return this.zo},set:function(t){if(!Cs(t,4))throw new f("Provided skipByteBlocks does not fit in 4 bits.");this.zo=t},enumerable:!1,configurable:!0}),n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.cryptByteBlocks,4),t.writer.writeUInt(this.skipByteBlocks,4)},n}(Oo));!function(t){function n(n){var i=t.call(this)||this;return i.tencBox=new Co(n),i}_s(n,t),n.prototype.serializeBoxContent=function(t){this.tencBox.serializeOwnContent(t)},n.prototype.getBoxContentSize=function(){return this.tencBox.getTencHeaderSize()}}(go);function Ao(t){return void 0!==t.iv}function Po(t){return void 0!==t.subsamples}(function(t){function n(n){var i=t.call(this,"senc",0,{useSubsampleEncryption:!1})||this;return i.samples=n,i}_s(n,t),v.defineProperty(n.prototype,"samples",{get:function(){return this.eo},set:function(t){var n;if(!Cs(t.length,32))throw new f("The number of samples provided does not fit in 32 bits.");for(var i=0,e=t;i<e.length;i++){var r=e[i];if(Ao(r)&&![8,16].includes(r.iv.length))throw new f("IV of one of the provided samples did not satisfy the required length constraints. [8, 16]");if(void 0===n&&(n=Po(r)),!0===n&&!Po(r)||!1===n&&Po(r))throw new f("Mix of samples with and without subsamples detected.");if(Po(r)){if(!Cs(r.subsamples.length,16))throw new f("Subsample length of one of the provided samples does not fit in 16 bits.");for(var u=0,s=r.subsamples;u<s.length;u++){var o=s[u];if(!Cs(o.clearData,16))throw new f("Subsample clearData of one of the provided samples does not fit in 16 bits.");if(!Cs(o.protectedData,23))throw new f("Subsample protectedData of one of the provided samples does not fit in 23 bits.")}}}this.flags.useSubsampleEncryption=null!=n&&n,this.eo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){for(var n=0,i=0,e=this.samples;i<e.length;i++){var r=e[i];Ao(r)&&(n+=r.iv.length),Po(r)&&(n+=2+6*r.subsamples.length)}return t.prototype.getBoxContentSize.call(this)+4+n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32);for(var i=0,e=this.samples;i<e.length;i++){var r=e[i];if(Ao(r)&&Ps(n.writer,r.iv),Po(r)){n.writer.writeUInt(r.subsamples.length,16);for(var u=0,s=r.subsamples;u<s.length;u++){var o=s[u];n.writer.writeUInt(o.clearData,16),n.writer.writeUInt(o.protectedData,32)}}}},n.prototype.serializeFlags=function(t){t.writer.writeUInt(this.flags.useSubsampleEncryption?2:0,24)}})(xs),function(t){function n(n,i,e,r,u){var s=t.call(this,"emsg",0,0)||this;return s.schemeIdUri=n,s.value=i,s.data=u,s.id=e,s.timescale=r.timescale,s.presentationTimeDelta=r.presentationTimeDelta,s.eventDuration=r.eventDuration,s}_s(n,t),v.defineProperty(n.prototype,"timescale",{get:function(){return this.As},set:function(t){if(!Cs(t,32))throw new f("The provided timescale does not fit in 32 bits.");this.As=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"presentationTimeDelta",{get:function(){return this.Wo},set:function(t){if(!Cs(t,32))throw new f("The provided presentationTimeDelta does not fit in 32 bits.");this.Wo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"eventDuration",{get:function(){return this.Ho},set:function(t){if(!Cs(t,32))throw new f("The provided eventDuration does not fit in 32 bits.");this.Ho=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"id",{get:function(){return this.jo},set:function(t){if(!Cs(t,32))throw new f("The provided id does not fit in 32 bits.");this.jo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.schemeIdUri.length+1+this.value.length+1+16+this.data.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeIdUri),n.writer.writeByte(0),n.writer.writeString(this.value),n.writer.writeByte(0),n.writer.writeUInt(this.timescale,32),n.writer.writeUInt(this.presentationTimeDelta,32),n.writer.writeUInt(this.eventDuration,32),n.writer.writeUInt(this.id,32),n.concat(Is.from(this.data))}}(xs);var xo,Lo,Bo=(xo="pssh",Lo=function(t){var n=t.data.nextUint8();t.data.skip(3);var i=t.data.nextUint8Array(16),e=[];if(1===n)for(var r=t.data.nextUint32(),u=0;u<r;u++)e.push(t.data.nextUint8Array(16));var s=t.data.nextUint32(),o=t.data.nextUint8Array(s);return 1===n?new bo(i,o,e):new mo(i,o)},function(t){var n,i=function(t,n){for(var i=t.data,e=t.cursor;e.offset<i.byteLength;){var r=Js(i,e);if(!r.complete)return;if(Ys(r.box,n))return r.box}}(new Gs((n=t,new DataView(n.buffer,n.byteOffset,n.byteLength)),new Xs),xo);if(!i)throw new f("".concat(xo," box not found"));return Lo(i)}),Mo=function(t){function n(n,i){var e;(e=t.call(this)||this).$o=void 0,e.Xo=!1,e.Go=void 0,e.Yo=void 0,e.Ko=function(){e.Jo()},e.Qo=function(t){e.Yr(new au(un(e),t.messageType,ys(e.Zo,t.message)))},e.tc=function(){e.Xo=!0,e.$o.ku>0&&(e.$o._u(),e.Yr(new cu(un(e)))),e.nc.removeEventListener("keystatuseschange",e.Ko),e.nc.removeEventListener("message",e.Qo)},e.nc=n,e.Zo=i,e.nc.addEventListener("keystatuseschange",e.Ko),e.nc.addEventListener("message",e.Qo),e.$o=new du;var r=[];return e.nc.closed&&r.push(j.resolve(e.nc.closed)),e.Yo=new ls,r.push(e.Yo.Cu),e.Go=j.race(r).then(e.tc,e.tc),e.Jo(),e}vt(n,t);var i=n.prototype;return i.ic=function(){if(this.Xo)return this.Go;var t,n,i=[];return i.push(j.resolve(this.nc.close())),i.push((t=1e3,new j(function(i,e){if(void 0!==n&&n.Or)e(new Wr);else{var r=st.Oe(function(){void 0!==n&&n.Mr(u),i()},t),u=function(){st.Ae(r),e(new Wr)};void 0!==n&&n.Br(u)}}))),this.Yo.xu(j.race(i).catch(Fo)),this.Xo=!0,this.Go},i.ec=function(t,n,i){if(St.kn){var e=Bo(fs(n));if(1===e.version)n=new mo(e.systemId,e.data).serialize().join()}return j.resolve(this.nc.generateRequest(t,n)).catch(Fo)},i.rc=function(t){return j.resolve(this.nc.load(t)).catch(Fo)},i.uc=function(){return j.resolve(this.nc.remove()).catch(Fo)},i.sc=function(t){return j.resolve(this.nc.update(t)).catch(Fo)},i.Jo=function(){var t=this;this.$o._u(),this.nc.keyStatuses.forEach(function(n,i){t.oc(i,n)}),this.Yr(new cu(this))},i.oc=function(t,n){if("string"==typeof t){var i=t;t=n,n=i}var e=fs(t);if(this.Zo===sr&&16===e.byteLength){var r=os(e),u=r.getUint32(0,!0),s=r.getUint16(4,!0),o=r.getUint16(6,!0);r.setUint32(0,u,!1),r.setUint16(4,s,!1),r.setUint16(6,o,!1)}this.Zo===sr&&"status-pending"===n&&(n="usable"),this.$o.pu(e,n)},ft(n,[{key:"cc",get:function(){return this.Go}},{key:"ac",get:function(){return this.nc.expiration}},{key:"fc",get:function(){return this.$o}},{key:"hc",get:function(){return this.nc.sessionId}}]),n}(eu);function Fo(t){var n;if(t.message){var i=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);i&&(n=0|l(i[1],16))}throw new bs(t.message,void 0,n,t)}var Uo=function(){function t(t,n,i){this.vc=t,this.dc=n,this.lc=i}var n=t.prototype;return n.wc=function(t){return We.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Mo(this.vc.createSession(t),this.dc));case 1:case"end":return n.stop()}},null,this,null,j)},n.gc=function(t){return j.resolve(this.vc.setServerCertificate(t))},n.yc=function(t){return j.resolve(t.setMediaKeys(this.vc))},n.mc=function(t){return j.resolve(t.setMediaKeys(null))},t}(),Vo=function(){function t(t,n,i){this.bc=t,this.Zo=n,this.pc=i}var n=t.prototype;return n._c=function(){var t;return We.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,We.awrap(this.bc.createMediaKeys());case 2:return t=n.sent,n.abrupt("return",new Uo(t,this.Zo,this.pc));case 4:case"end":return n.stop()}},null,this,null,j)},n.kc=function(){return this.pc},ft(t,[{key:"dc",get:function(){return this.bc.keySystem}}]),t}();function qo(t){var n=t.trim(),i=n.indexOf(";");return i<0?n:n.substr(0,i).trim()}function zo(t,n,i,e){var r=!1;if(!(e.persistentState&&"optional"!==e.persistentState||e.distinctiveIdentifier&&"optional"!==e.distinctiveIdentifier)){var u={audioCapabilities:[],videoCapabilities:[],persistentState:e.persistentState||"optional",distinctiveIdentifier:e.distinctiveIdentifier||"optional",initDataTypes:e.initDataTypes,sessionTypes:["temporary"],label:e.label,Tc:e.Tc},s=!1;if(e.audioCapabilities){var o=e.audioCapabilities.filter(function(t){return Boolean(t.contentType)});o.length&&(u.audioCapabilities=o.filter(function(e){return Wo(t,n,i,e)}),s=!0,u.audioCapabilities.length&&(r=!0))}if(e.videoCapabilities){var c=e.videoCapabilities.filter(function(t){return Boolean(t.contentType)});c.length&&(u.videoCapabilities=c.filter(function(e){return Wo(t,n,i,e)}),s=!0,u.videoCapabilities.length&&(r=!0))}return s||(r=t(i,"video/mp4")),r?u:void 0}}function Wo(t,n,i,e){return!!e.contentType&&(!(e.encryptionScheme&&!Ur(n,e.encryptionScheme))&&(!e.robustness&&t(i,qo(e.contentType))))}function Ho(t){if(t.videoCapabilities)for(var n=0,i=t.videoCapabilities;n<i.length;n++){var e=i[n];if(e.contentType)return e.contentType}if(t.audioCapabilities)for(var r=0,u=t.audioCapabilities;r<u.length;r++){var s=u[r];if(s.contentType)return s.contentType}}function jo(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e.encryptionScheme&&n.push({contentType:e.contentType,robustness:e.robustness})}return t.concat(n)}function $o(t){return!(!t.audioCapabilities||!t.audioCapabilities.some(Xo))||!(!t.videoCapabilities||!t.videoCapabilities.some(Xo))}function Xo(t){return!t.robustness}function Go(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];r.robustness?i.push(r):i.push(He({},r,{robustness:n}))}return i}var Yo=function(){function t(){}return t.prototype.Er=function(t,n){var i,e,r,s,o,c,a,f;return We.async(function(h){for(;;)switch(h.prev=h.next){case 0:for(n=n.filter(function(t){return!t.Tc}),i=0,e=n;i<e.length;i++)(r=e[i]).audioCapabilities&&(r.audioCapabilities=jo(r.audioCapabilities)),r.videoCapabilities&&(r.videoCapabilities=jo(r.videoCapabilities));if("com.widevine.alpha"!==t||!n.some($o)){h.next=14;break}return s=n.map(function(t){return i="SW_SECURE_CRYPTO",He({},n=t,{videoCapabilities:n.videoCapabilities?Go(n.videoCapabilities,i):void 0,audioCapabilities:n.audioCapabilities?Go(n.audioCapabilities,i):void 0});var n,i}),h.prev=4,h.next=7,We.awrap(u.requestMediaKeySystemAccess(t,s));case 7:return o=h.sent,c=o.getConfiguration(),h.abrupt("return",new Vo(o,t,c));case 12:h.prev=12,h.t0=h.catch(4);case 14:return h.next=16,We.awrap(u.requestMediaKeySystemAccess(t,n));case 16:return a=h.sent,f=a.getConfiguration(),h.abrupt("return",new Vo(a,t,f));case 19:case"end":return h.stop()}},null,null,[[4,12]],j)},t.Sc=function(){return void 0!==u&&"function"==typeof u.requestMediaKeySystemAccess},t}(),Ko=function(t){function n(n,i){var e;return(e=t.call(this)||this).Xo=!1,e.Ec=void 0,e.Rc=void 0,e.Ic=void 0,e.Dc=void 0,e.Nc=void 0,e.tc=function(){e.Xo=!0,e.Ec.xu(void 0),e.Nc&&(e.Nc.removeEventListener("mskeyclose",e.tc),e.Nc.removeEventListener("mskeymessage",e.Oc),e.Nc.removeEventListener("mskeyerror",e.Cc),e.Nc.removeEventListener("mskeyadded",e.Ac))},e.Oc=function(t){e.Ic&&(e.Ic.xu(void 0),e.Ic=void 0),e.Yr(new au(un(e),"license-request",vs(t.message).buffer,t.destinationURL||void 0))},e.Cc=function(){var t=e.Nc&&e.Nc.error;if(t){var n=new bs("Unknown CDM error",t.code,t.systemCode);if(e.Ic)e.Ic.Lu(n),e.Ic=void 0;else if(e.Rc)e.Rc.Lu(n),e.Rc=void 0;else switch(n.Bu){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:e.Pc("output-not-allowed");break;default:e.Pc("internal-error")}}},e.Ac=function(){e.Ic&&(e.Pc("usable"),e.Ic.xu(void 0),e.Ic=void 0),e.Rc&&(e.Pc("usable"),e.Rc.xu(void 0),e.Rc=void 0)},e.xc=n,e.Lc=i,e.Ec=new ls,e.Dc=new du,e}vt(n,t);var i=n.prototype;return i.ec=function(t,n,i){return We.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Bc(),this.Ic=new ls,this.wc(fs(n),i),t.next=5,We.awrap(this.Ic.Cu);case 5:case"end":return t.stop()}},null,this,null,j)},i.wc=function(t,n){if(!t)throw new h("Expected initData to be defined but was "+t+".");var i,e=n&&n.playready&&n.playready.Mc;return(i=n?this.xc.createSession(this.Lc,t,e):this.xc.createSession(this.Lc,t)).addEventListener("mskeyclose",this.tc),i.addEventListener("mskeymessage",this.Oc),i.addEventListener("mskeyerror",this.Cc),i.addEventListener("mskeyadded",this.Ac),this.Nc=i,this.Pc("status-pending"),i},i.rc=function(t){return We.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Bc(),t.abrupt("return",!0);case 2:case"end":return t.stop()}},null,this,null,j)},i.sc=function(t){var n;return We.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.Rc=new ls,this.Bc(),this.Nc){i.next=4;break}return i.abrupt("return",j.resolve());case 4:if(0!==(n=fs(t)).byteLength){i.next=7;break}throw new h("Cannot call update with an empty response.");case 7:return this.Nc.update(n),i.next=10,We.awrap(this.Rc.Cu);case 10:case"end":return i.stop()}},null,this,null,j)},i.ic=function(){return!this.Xo&&this.Nc&&(this.Xo=!0,this.Nc.close()),this.Ec.Cu},i.uc=function(){return We.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Bc(),t.abrupt("return");case 2:case"end":return t.stop()}},null,this,null,j)},i.Bc=function(){if(this.Xo)throw new h("Already closing or closed.")},i.Pc=function(t){this.Dc._u(),this.Dc.pu(vu,t),this.Yr(new cu(this))},ft(n,[{key:"hc",get:function(){return this.Nc&&this.Nc.sessionId||""}},{key:"ac",get:function(){return NaN}},{key:"cc",get:function(){return this.Ec.Cu}},{key:"fc",get:function(){return this.Dc}}]),n}(eu),Jo=function(){function t(t,n,i){this.Lc=void 0,this.xc=t,this.dc=n,this.lc=i;var e=Ho(i)||"video/mp4";this.Lc=qo(e)}var n=t.prototype;return n.wc=function(t){return We.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Ko(this.xc,this.Lc));case 1:case"end":return t.stop()}},null,this,null,j)},n.gc=function(t){return j.resolve(!1)},n.yc=function(t){var n=this;return t.readyState>=1?t.msSetMediaKeys(this.xc):t.addEventListener("loadedmetadata",function i(){t.msSetMediaKeys(n.xc),t.removeEventListener("loadedmetadata",i)}),j.resolve()},n.mc=function(t){return j.resolve()},t}(),Qo=function(){function t(t,n){this.Zo=t,this.Fc=n}var n=t.prototype;return n.kc=function(){return this.Fc},n._c=function(){var t=new Z.MSMediaKeys(this.Zo);return j.resolve(new Jo(t,this.Zo,this.Fc))},ft(t,[{key:"dc",get:function(){return this.Zo}}]),t}(),Zo=function(){function t(){}return t.prototype.Er=function(t,n){try{return j.resolve(function(t,n){if(!tc())throw new h("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=zo(nc,su,t,e);if(r)return new Qo(t,r)}throw new h("Unsupported key system configuration for "+t)}(t,n))}catch(t){return j.reject(t)}},t.Sc=function(){return tc()},t}();function tc(){return void 0!==Z.MSMediaKeys&&"function"==typeof Z.MSMediaKeys.isTypeSupported}function nc(t,n){return Z.MSMediaKeys.isTypeSupported(t,n)}var ic,ec,rc=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Ec=new ls,r.Uc=void 0,r.Dc=new du,r.Vc=void 0,r.qc=new ls,r.Cc=function(){var t=r.Vc&&r.Vc.error;if(t){var n=new bs("Unknown CDM error",t.code,t.systemCode);r.Uc?(r.Uc.Lu(n),r.Uc=void 0):n.Bu===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?r.Pc("output-not-allowed"):r.Pc("internal-error"),r.Yr(new fu)}},r.Oc=function(t){r.Uc&&(r.Uc.xu(void 0),r.Uc=void 0),r.Yr(new au(un(r),"license-request",vs(t.message).buffer,"this is a test string"===t.destinationURL?void 0:t.destinationURL))},r.zc=n,r.Lc=i,r.Wc=e,r}vt(n,t);var i=n.prototype;return i.ec=function(t,n,i){var e=i&&i.fairplay&&i.fairplay.Hc;if(!e)throw new h("Expected FairPlay contentId to be defined but was "+e+".");var r=uc(fs(n),e,this.Wc);return this.Vc=this.zc.createSession(this.Lc,r),this.Vc.addEventListener("webkitkeymessage",this.Oc,!1),this.Vc.addEventListener("webkitkeyerror",this.Cc,!1),this.Pc("usable"),this.qc.xu(this.Vc),this.qc=new ls,j.resolve()},i.rc=function(t){return j.resolve(!0)},i.sc=function(t){var n;return We.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==(n=fs(t)).byteLength){i.next=3;break}throw new h("Cannot call update with an empty response.");case 3:if(this.Uc=new ls,i.t0=this.Vc,i.t0){i.next=9;break}return i.next=8,We.awrap(this.qc.Cu);case 8:i.t0=i.sent;case 9:return i.t0.update(n),i.next=13,We.awrap(this.Uc.Cu);case 13:case"end":return i.stop()}},null,this,null,j)},i.ic=function(){var t=this.Vc;return t&&(t.removeEventListener("webkitkeymessage",this.Oc,!1),t.removeEventListener("webkitkeyerror",this.Cc,!1),t.close()),this.qc.qr(),this.Ec.xu(void 0),this.Ec.Cu},i.uc=function(){return j.resolve(void 0)},i.Pc=function(t){this.Dc._u(),this.Dc.pu(vu,t),this.Yr(new cu(this))},ft(n,[{key:"hc",get:function(){return this.Vc?this.Vc.sessionId:""}},{key:"ac",get:function(){return NaN}},{key:"cc",get:function(){return this.Ec.Cu}},{key:"fc",get:function(){return this.Dc}}]),n}(eu);function uc(t,n,i){var e=rs(t),r=2*e.length,u=2*n.length,s=new ArrayBuffer(4+r+4+u+4+i.byteLength),o=new DataView(s),c=new ds;return Hu(o,c,r,!0),Qu(o,c,e,!0),Hu(o,c,u,!0),Qu(o,c,n,!0),Hu(o,c,i.byteLength,!0),function(t,n,i){cs(t).set(cs(i),n.Iu),n.Su(i.byteLength)}(o,c,i),new y(s)}(ic=n.ErrorCode||(n.ErrorCode={}))[ic.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",ic[ic.LICENSE_ERROR=2e3]="LICENSE_ERROR",ic[ic.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",ic[ic.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",ic[ic.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",ic[ic.SOURCE_INVALID=3e3]="SOURCE_INVALID",ic[ic.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",ic[ic.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",ic[ic.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",ic[ic.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",ic[ic.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",ic[ic.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",ic[ic.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",ic[ic.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",ic[ic.MEDIA_ABORTED=5004]="MEDIA_ABORTED",ic[ic.NETWORK_ERROR=6e3]="NETWORK_ERROR",ic[ic.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",ic[ic.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",ic[ic.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",ic[ic.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",ic[ic.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",ic[ic.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",ic[ic.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",ic[ic.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",ic[ic.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",ic[ic.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",ic[ic.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",ic[ic.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",ic[ic.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",ic[ic.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",ic[ic.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",ic[ic.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",ic[ic.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",ic[ic.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",ic[ic.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",ic[ic.AD_ERROR=1e4]="AD_ERROR",ic[ic.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",ic[ic.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR",(ec=n.ErrorCategory||(n.ErrorCategory={}))[ec.CONFIGURATION=1]="CONFIGURATION",ec[ec.LICENSE=2]="LICENSE",ec[ec.SOURCE=3]="SOURCE",ec[ec.MANIFEST=4]="MANIFEST",ec[ec.MEDIA=5]="MEDIA",ec[ec.NETWORK=6]="NETWORK",ec[ec.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",ec[ec.SUBTITLE=8]="SUBTITLE",ec[ec.VR=9]="VR",ec[ec.AD=10]="AD",ec[ec.FULLSCREEN=11]="FULLSCREEN",function(t){(n.ErrorCategory||(n.ErrorCategory={})).fromCode=function(t){var i=d.floor(t/1e3);if(i in n.ErrorCategory)return i;throw new h("Invalid error code: "+t)}}();var sc=function(t){function i(n,i,e){var r;return(r=t.call(this,i,e)||this).code=void 0,r.code=n,r}return vt(i,t),ft(i,[{key:"name",get:function(){return"THEOplayerError"}},{key:"category",get:function(){return n.ErrorCategory.fromCode(this.code)}}]),i}(on),oc=function(){function t(t,n,i){this.Lc=void 0,this.Wc=void 0,this.zc=t,this.dc=n,this.lc=i;var e=Ho(i)||"video/mp4";this.Lc=qo(e)}var i=t.prototype;return i.getInternalMediaKeys=function(){return this.zc},i.wc=function(t){return We.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Wc){t.next=2;break}throw new sc(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return t.abrupt("return",new rc(this.zc,this.Lc,this.Wc));case 3:case"end":return t.stop()}},null,this,null,j)},i.gc=function(t){return this.Wc=fs(t),j.resolve(!0)},i.yc=function(t){return t.webkitSetMediaKeys(this.zc),j.resolve()},i.mc=function(t){return t.webkitSetMediaKeys(null),j.resolve()},t}(),cc=function(){function t(t,n){this.Zo=t,this.Fc=n}var n=t.prototype;return n.kc=function(){return this.Fc},n._c=function(){var t=new Z.WebKitMediaKeys(this.Zo);return j.resolve(new oc(t,this.Zo,this.Fc))},ft(t,[{key:"dc",get:function(){return this.Zo}}]),t}(),ac=function(){function t(){}return t.prototype.Er=function(t,n){try{return j.resolve(function(t,n){if(t!==dr)throw new h(t+" is not supported with webkit-prefixed Encrypted Media Extensions.");if(!fc())throw new h("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=zo(hc,ou,t,e);if(r)return new cc(t,r)}throw new h("Unsupported key system configuration for "+t)}(t,n))}catch(t){return j.reject(t)}},t.Sc=function(){return fc()},t}();function fc(){return void 0!==Z.WebKitMediaKeys&&"function"==typeof Z.WebKitMediaKeys.isTypeSupported}function hc(t,n){return Z.WebKitMediaKeys.isTypeSupported(t,n)}var vc,dc=function(){function t(t){this.jc=t}return t.prototype.Er=function(t,n){var i,e,r;return We.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=0,e=this.jc;case 1:if(!(i<e.length)){u.next=14;break}return r=e[i],u.prev=3,u.next=6,We.awrap(r.Er(t,n));case 6:return u.abrupt("return",u.sent);case 9:u.prev=9,u.t0=u.catch(3);case 11:i++,u.next=1;break;case 14:throw new h("Unsupported key system configuration for "+t);case 15:case"end":return u.stop()}},null,this,[[3,9]],j)},t}(),lc=function(t){function n(n){var i;return(i=t.call(this)||this).Ic=void 0,i.Uc=void 0,i.Ec=void 0,i.$u=!1,i.$c=void 0,i.Xc=void 0,i.Gc=void 0,i.Yc=void 0,i.Kc=void 0,i.Zo=n,i.Ec=new ls,i.Xc="",i.Kc=new ls,i.Gc=new du,i}vt(n,t);var i=n.prototype;return i.Jc=function(){this.Uc&&(this.Pc("usable"),this.Uc.xu(void 0),this.Uc=void 0)},i.Qc=function(t){var n=new bs("Unknown CDM error",t.errorCode,t.systemCode);this.Uc?(this.Uc.Lu(n),this.Uc=void 0):this.Ic?(this.Ic.Lu(n),this.Ic=void 0):n.Bu===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.Pc("output-restricted"):1===n.Mu?this.Pc("expired"):this.Pc("internal-error")},i.Zc=function(t){0!==t.message.byteLength&&(this.Ic&&(this.Ic.xu(void 0),this.Ic=void 0),this.Yr(new au(this,"license-request",ys(this.Zo,vs(t.message).buffer),t.defaultURL||void 0)))},i.ta=function(t){this.Yc||(this.Yc=t,this.Kc.xu(t))},i.ic=function(){return We.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed(),this.$u=!0,this.Ec.xu(void 0);case 3:case"end":return t.stop()}},null,this,null,j)},i.ec=function(t,n){return We.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.Ic=new ls,this.$c=fs(n),t.t0=this.Yc,t.t0){t.next=8;break}return t.next=7,We.awrap(this.Kc.Cu);case 7:t.t0=t.sent;case 8:return t.t0.webkitGenerateKeyRequest(this.Zo,this.$c),t.next=12,We.awrap(this.Ic.Cu);case 12:case"end":return t.stop()}},null,this,null,j)},i.rc=function(t){return We.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.throwIfClosed(),t.abrupt("return",!1);case 2:case"end":return t.stop()}},null,this,null,j)},i.uc=function(){return We.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed();case 1:case"end":return t.stop()}},null,this,null,j)},i.sc=function(t){return We.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.throwIfClosed(),this.Uc=new ls,n.t0=this.Yc,n.t0){n.next=7;break}return n.next=6,We.awrap(this.Kc.Cu);case 6:n.t0=n.sent;case 7:return n.t0.webkitAddKey(this.Zo,fs(t),this.$c,this.hc),n.next=11,We.awrap(this.Uc.Cu);case 11:case"end":return n.stop()}},null,this,null,j)},i.throwIfClosed=function(){if(this.$u)throw new h("Already closing or closed.")},i.Pc=function(t){this.Gc._u(),this.Gc.pu(vu,t),this.Yr(new cu(this))},ft(n,[{key:"fc",get:function(){return this.Gc}},{key:"hc",get:function(){return this.Xc},set:function(t){this.Xc=t}},{key:"cc",get:function(){return this.Ec.Cu}},{key:"ac",get:function(){return NaN}}]),n}(eu),wc=function(){function t(t,n){var i=this;this.Yc=void 0,this.na=$e(),this.ia=[],this.Ac=function(t){var n=i.ea(t.sessionId);n&&n.Jc()},this.ra=function(t){var n=i.ea(t.sessionId);n&&n.Qc(t)},this.ua=function(t){var n=i.ea(t.sessionId);n&&n.Zc(t)},this.dc=t,this.lc=n}var n=t.prototype;return n.yc=function(t){return this.Yc=t,this.Yc.addEventListener("webkitkeyadded",this.Ac),this.Yc.addEventListener("webkitkeyerror",this.ra),this.Yc.addEventListener("webkitkeymessage",this.ua),this.na.forEach(function(n,i){return n.ta(t)}),this.ia.forEach(function(n){return n.ta(t)}),j.resolve()},n.mc=function(t){return t.removeEventListener("webkitkeyadded",this.Ac),t.removeEventListener("webkitkeyerror",this.ra),t.removeEventListener("webkitkeymessage",this.ua),this.Yc=void 0,j.resolve()},n.wc=function(t,n,i){var e;return We.async(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new lc(this.dc),this.Yc&&e.ta(this.Yc),this.ia.push(e),t.abrupt("return",e);case 4:case"end":return t.stop()}},null,this,null,j)},n.gc=function(t){return j.resolve(!1)},n.ea=function(t){if(t){var n=this.na.get(t);return n||((n=this.ia.shift())?(n.hc=t,this.na.set(t,n),n):void 0)}},t}(),gc=function(){function t(t,n){this.dc=t,this.sa=n}var n=t.prototype;return n._c=function(){return j.resolve(new wc(this.dc,this.sa))},n.kc=function(){return this.sa},t}(),yc=function(){function t(){}return t.prototype.Er=function(t,n){try{return j.resolve(mc(t,n))}catch(t){return j.reject(t)}},t.Sc=function(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest},t}();function mc(t,n){if(!yc.Sc())throw new h("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=zo(bc,su,t,e);if(r)return new gc(t,r)}throw new h("Unsupported key system configuration for "+t)}function bc(t,n){var i=Te();return!(!i||!i.canPlayType||""===i.canPlayType(n,t))}function pc(){return vc||(vc=function(){var t=[];ac.Sc()&&t.push(new ac);Yo.Sc()&&t.push(new Yo);Zo.Sc()&&t.push(new Zo);yc.Sc()&&t.push(new yc);return new dc(t)}()),vc}var _c=function(){function t(){this.oa=$e()}var n=t.prototype;return n._u=function(t){this.oa.delete(t)},n.ca=function(){this.oa.clear()},n.mu=function(t){return this.oa.get(t)},n.aa=function(t,n){this.oa.set(t,n)},t}(),kc=function(){function t(){}return t.fa=function(){return t.Zn||(t.Zn=Tc.Sc()?new Tc:new _c),t.Zn},t._u=function(n){t.fa()._u(n)},t.ca=function(){t.fa().ca()},t.mu=function(n){return t.fa().mu(n)},t.aa=function(n,i){t.fa().aa(n,i)},t}();kc.Zn=void 0;var Tc=function(n){function i(){return n.apply(this,arguments)||this}vt(i,n),i.Sc=function(){try{return t.sessionStorage.setItem("foobar","foobar"),t.sessionStorage.removeItem("foobar"),!0}catch(t){return!1}};var e=i.prototype;return e._u=function(n){t.sessionStorage.removeItem(n)},e.ca=function(){t.sessionStorage.clear()},e.mu=function(n){return t.sessionStorage[n]},e.aa=function(n,i){t.sessionStorage[n]=i},i}(kc);var Sc=function(){var n,i=t.Blob;if(i)try{return new i,n=i,function(t,i){return new n(t,i)}}catch(t){}var e,r=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder;if(r)return e=r,function(t,n){var i=new e;if(t)for(var r=0;r<t.length;r++){var u=t[r];i.append(u)}return i.getBlob(n&&n.type||"")}}();function Ec(t,n,i){var r=Sc([n],{type:"application/octet-stream"}),u=URL.createObjectURL(r),s=function(t,n){var i=t,e=i.indexOf("?");if(e>=0&&(i=i.substr(0,e)),i=i.substr(i.lastIndexOf("/")+1),n){var r=i.indexOf(".");r<0&&(r=i.length),i=i.substr(0,r)+n+i.substr(r)}return i}(t,i),o=e.createElement("a");o.href=u,o.download=s,e.body.appendChild(o),o.click(),e.body.removeChild(o),URL.revokeObjectURL(u)}var Rc,Ic;!function(t){t.ha="va",t.da="la",t.wa="contentprotectionerror",t.ga="contentprotectionsuccess",t.ya="currentsourcechange",t.ma="destroy",t.ba="durationchange",t.pa="emptied",t.hu="encrypted",t._a="ended",t.ka="Ta",t.Sa="loadstart",t.Ea="manifestupdate",t.Ra="nosupportedrepresentationfound",t.Ia="offline",t.Da="online",t.Na="pause",t.Oa="play",t.Ca="progress",t.Aa="ratechange",t.Pa="representationchange",t.xa="resize",t.La="seeked",t.Ba="seeking",t.Ma="segmentnotfound",t.Fa="Ua",t.Va="qa",t.za="sourcechange",t.Wa="timeupdate",t.Ha="volumechange",t.ja="$a",t.Xa="metricschange"}(Rc||(Rc={})),function(t){t.Ga="arraybuffer",t.Ya="json",t.Ka="stream",t.ri="text"}(Ic||(Ic={}));var Dc=function(){function t(n){var i=this;this.sr=void 0,this.sr={},n instanceof t?n.asList().forEach(function(t){var n=t[0],e=t[1];i.append(n,e)}):Array.isArray(n)?n.forEach(function(t){i.append(t[0],t[1])}):n&&v.getOwnPropertyNames(n).forEach(function(t){i.append(t,n[t])})}var n=t.prototype;return n.append=function(t,n){var i=t,e=n;i=Nc(i),e=Oc(e);var r=i.toLowerCase();if(this.sr.hasOwnProperty(r)){var u=this.sr[r],s=u[1];u[1]=s?s+", "+e:e}else this.sr[r]=[i,e]},n.delete=function(t){var n=Nc(t).toLowerCase();delete this.sr[n]},n.get=function(t){var n=Nc(t).toLowerCase();return this.sr.hasOwnProperty(n)?this.sr[n][1]:null},n.has=function(t){var n=Nc(t).toLowerCase();return this.sr.hasOwnProperty(n)},n.set=function(t,n){var i=t,e=(i=Nc(i)).toLowerCase();this.sr[e]=[i,Oc(n)]},n.forEach=function(t,n){for(var i in this.sr)this.sr.hasOwnProperty(i)&&t.call(n,this.sr[i][1],i,this)},n.asList=function(){var t=[];for(var n in this.sr)if(this.sr.hasOwnProperty(n)){var i=this.sr[n],e=i[0],r=i[1];t.push([e,r])}return t},n.Ja=function(){var t={};return this.forEach(function(n,i){t[i]=n}),t},n.Qa=function(t){var n=this;t.forEach(function(t,i){n.append(i,t)})},n.Za=function(t){var n=this;t.forEach(function(t,i){n.set(i,t)})},t}();function Nc(t){var n=t;if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(n))throw new h("Invalid character in header field name");return n}function Oc(t){var n=t;return"string"!=typeof n&&(n=String(n)),n}var Cc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(t){return"Symbol("+t+")"};function Ac(){}var Pc=void 0!==t?t:void 0!==i?i:"undefined"!=typeof global?global:void 0;function xc(t){return"object"==typeof t&&null!==t||"function"==typeof t}var Lc=Ac,Bc=j,Mc=j.prototype.then,Fc=j.resolve.bind(Bc),Uc=j.reject.bind(Bc);function Vc(t){return new Bc(t)}function qc(t){return Fc(t)}function zc(t){return Uc(t)}function Wc(t,n,i){return Mc.call(t,n,i)}function Hc(t,n,i){Wc(Wc(t,n,i),void 0,Lc)}function jc(t,n){Hc(t,n)}function $c(t,n){Hc(t,void 0,n)}function Xc(t,n,i){return Wc(t,n,i)}function Gc(t){Wc(t,void 0,Lc)}var Yc=function(){var t=Pc&&Pc.queueMicrotask;if("function"==typeof t)return t;var n=qc(void 0);return function(t){return Wc(n,t)}}();function Kc(t,n,i){if("function"!=typeof t)throw new h("Argument is not a function");return Function.prototype.apply.call(t,n,i)}function Jc(t,n,i){try{return qc(Kc(t,n,i))}catch(t){return zc(t)}}var Qc=function(){function t(){this.tf=0,this.nf=0,this.C={if:[],ef:void 0},this.rf=this.C,this.tf=0,this.nf=0}return v.defineProperty(t.prototype,"length",{get:function(){return this.nf},enumerable:!1,configurable:!0}),t.prototype.push=function(t){var n=this.rf,i=n;16383===n.if.length&&(i={if:[],ef:void 0}),n.if.push(t),i!==n&&(this.rf=i,n.ef=i),++this.nf},t.prototype.shift=function(){var t=this.C,n=t,i=this.tf,e=i+1,r=t.if,u=r[i];return 16384===e&&(n=t.ef,e=0),--this.nf,this.tf=e,t!==n&&(this.C=n),r[i]=void 0,u},t.prototype.forEach=function(t){for(var n=this.tf,i=this.C,e=i.if;!(n===e.length&&void 0===i.ef||n===e.length&&(n=0,0===(e=(i=i.ef).if).length));)t(e[n]),++n},t.prototype.peek=function(){var t=this.C,n=this.tf;return t.if[n]},t}();function Zc(t,n){t.uf=n,n.sf=t,"readable"===n.o?ea(t):"closed"===n.o?function(t){ea(t),sa(t)}(t):ra(t,n.cf)}function ta(t,n){return iv(t.uf,n)}function na(t){"readable"===t.uf.o?ua(t,new h("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,n){ra(t,n)}(t,new h("Reader was released and can no longer be used to monitor the stream's closedness")),t.uf.sf=void 0,t.uf=void 0}function ia(t){return new h("Cannot "+t+" a stream using a released reader")}function ea(t){t.Go=Vc(function(n,i){t.af=n,t.ff=i})}function ra(t,n){ea(t),ua(t,n)}function ua(t,n){void 0!==t.ff&&(Gc(t.Go),t.ff(n),t.af=void 0,t.ff=void 0)}function sa(t){void 0!==t.af&&(t.af(void 0),t.af=void 0,t.ff=void 0)}var oa=Cc("[[AbortSteps]]"),ca=Cc("[[ErrorSteps]]"),aa=Cc("[[CancelSteps]]"),fa=Cc("[[PullSteps]]"),ha=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},va=d.trunc||function(t){return t<0?d.ceil(t):d.floor(t)};function da(t,n){if(void 0!==t&&("object"!=typeof(i=t)&&"function"!=typeof i))throw new h(n+" is not an object.");var i}function la(t,n){if("function"!=typeof t)throw new h(n+" is not a function.")}function wa(t,n){if(!function(t){return"object"==typeof t&&null!==t||"function"==typeof t}(t))throw new h(n+" is not an object.")}function ga(t,n,i){if(void 0===t)throw new h("Parameter "+n+" is required in '"+i+"'.")}function ya(t,n,i){if(void 0===t)throw new h(n+" is required in '"+i+"'.")}function ma(t){return Number(t)}function ba(t){return 0===t?0:t}function pa(t,n){var i=Number.MAX_SAFE_INTEGER,e=Number(t);if(e=ba(e),!ha(e))throw new h(n+" is not a finite number");if((e=function(t){return ba(va(t))}(e))<0||e>i)throw new h(n+" is outside the accepted range of 0 to "+i+", inclusive");return ha(e)&&0!==e?e:0}function _a(t,n){if(!tv(t))throw new h(n+" is not a ReadableStream.")}function ka(t){return new Na(t)}function Ta(t,n){t.sf.hf.push(n)}function Sa(t,n,i){var e=t.sf.hf.shift();i?e.vf():e.df(n)}function Ea(t){return t.sf.hf.length}function Ra(t){var n=t.sf;return void 0!==n&&!!Oa(n)}var Ia,Da,Na=function(){function t(t){if(ga(t,1,"ReadableStreamDefaultReader"),_a(t,"First parameter"),nv(t))throw new h("This stream has already been locked for exclusive reading by another reader");Zc(this,t),this.hf=new Qc}return v.defineProperty(t.prototype,"closed",{get:function(){return Oa(this)?this.Go:zc(Aa("closed"))},enumerable:!1,configurable:!0}),t.prototype.cancel=function(t){return void 0===t&&(t=void 0),Oa(this)?void 0===this.uf?zc(ia("cancel")):ta(this,t):zc(Aa("cancel"))},t.prototype.read=function(){if(!Oa(this))return zc(Aa("read"));if(void 0===this.uf)return zc(ia("read from"));var t,n,i=Vc(function(i,e){t=i,n=e});return Ca(this,{df:function(n){return t({value:n,done:!1})},vf:function(){return t({value:void 0,done:!0})},lf:function(t){return n(t)}}),i},t.prototype.releaseLock=function(){if(!Oa(this))throw Aa("releaseLock");if(void 0!==this.uf){if(this.hf.length>0)throw new h("Tried to release a reader lock when that reader has pending read() calls un-settled");na(this)}},t}();function Oa(t){return!!xc(t)&&(!!v.prototype.hasOwnProperty.call(t,"hf")&&t instanceof Na)}function Ca(t,n){var i=t.uf;i.wf=!0,"closed"===i.o?n.vf():"errored"===i.o?n.lf(i.cf):i.gf[fa](n)}function Aa(t){return new h("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}v.defineProperties(Na.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof Cc.toStringTag&&v.defineProperty(Na.prototype,Cc.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0}),"symbol"==typeof Cc.asyncIterator&&((Ia={})[Cc.asyncIterator]=function(){return this},Da=Ia,v.defineProperty(Da,Cc.asyncIterator,{enumerable:!1}));var Pa=function(){function t(t,n){this.yf=void 0,this.mf=!1,this.sf=t,this.bf=n}return t.prototype.next=function(){var t=this,n=function(){return t.pf()};return this.yf=this.yf?Xc(this.yf,n,n):n(),this.yf},t.prototype.return=function(t){var n=this,i=function(){return n._f(t)};return this.yf?Xc(this.yf,i,i):i()},t.prototype.pf=function(){var t=this;if(this.mf)return j.resolve({value:void 0,done:!0});var n,i,e=this.sf;if(void 0===e.uf)return zc(ia("iterate"));var r=Vc(function(t,e){n=t,i=e});return Ca(e,{df:function(i){t.yf=void 0,Yc(function(){return n({value:i,done:!1})})},vf:function(){t.yf=void 0,t.mf=!0,na(e),n({value:void 0,done:!0})},lf:function(n){t.yf=void 0,t.mf=!0,na(e),i(n)}}),r},t.prototype._f=function(t){if(this.mf)return j.resolve({value:t,done:!0});this.mf=!0;var n=this.sf;if(void 0===n.uf)return zc(ia("finish iterating"));if(!this.bf){var i=ta(n,t);return na(n),Xc(i,function(){return{value:t,done:!0}})}return na(n),qc({value:t,done:!0})},t}(),xa={next:function(){return La(this)?this.kf.next():zc(Ba("next"))},return:function(t){return La(this)?this.kf.return(t):zc(Ba("return"))}};function La(t){if(!xc(t))return!1;if(!v.prototype.hasOwnProperty.call(t,"kf"))return!1;try{return t.kf instanceof Pa}catch(t){return!1}}function Ba(t){return new h("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}void 0!==Da&&v.setPrototypeOf(xa,Da);var Ma=Number.isNaN||function(t){return t!=t};function Fa(t){return t.slice()}function Ua(t,n,i,e,r){new y(t).set(new y(i,e,r),n)}function Va(t){return t}function qa(t,n,i){if(t.slice)return t.slice(n,i);var e=i-n,r=new ArrayBuffer(e);return Ua(r,0,t,n,e),r}function za(t){var n=qa(t.buffer,t.byteOffset,t.byteOffset+t.byteLength);return new y(n)}function Wa(t){var n=t.Tf.shift();return t.Sf-=n.size,t.Sf<0&&(t.Sf=0),n.value}function Ha(t,n,i){if("number"!=typeof(e=i)||Ma(e)||e<0||i===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");var e;t.Tf.push({value:n,size:i}),t.Sf+=i}function ja(t){t.Tf=new Qc,t.Sf=0}var $a=function(){function t(){throw new h("Illegal constructor")}return v.defineProperty(t.prototype,"view",{get:function(){if(!Ya(this))throw mf("view");return this.Ef},enumerable:!1,configurable:!0}),t.prototype.respond=function(t){if(!Ya(this))throw mf("respond");if(ga(t,1,"respond"),t=pa(t,"First parameter"),void 0===this.Rf)throw new h("This BYOB request has been invalidated");this.Ef.buffer,wf(this.Rf,t)},t.prototype.respondWithNewView=function(t){if(!Ya(this))throw mf("respondWithNewView");if(ga(t,1,"respondWithNewView"),!ArrayBuffer.isView(t))throw new h("You can only respond with array buffer views");if(void 0===this.Rf)throw new h("This BYOB request has been invalidated");t.buffer,gf(this.Rf,t)},t}();v.defineProperties($a.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),"symbol"==typeof Cc.toStringTag&&v.defineProperty($a.prototype,Cc.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});var Xa=function(){function t(){throw new h("Illegal constructor")}return v.defineProperty(t.prototype,"byobRequest",{get:function(){if(!Ga(this))throw bf("byobRequest");return df(this)},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"desiredSize",{get:function(){if(!Ga(this))throw bf("desiredSize");return lf(this)},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(!Ga(this))throw bf("close");if(this.If)throw new h("The stream has already been closed; do not close it again!");var t=this.Df.o;if("readable"!==t)throw new h("The stream (in "+t+" state) is not in the readable state and cannot be closed");ff(this)},t.prototype.enqueue=function(t){if(!Ga(this))throw bf("enqueue");if(ga(t,1,"enqueue"),!ArrayBuffer.isView(t))throw new h("chunk must be an array buffer view");if(0===t.byteLength)throw new h("chunk must have non-zero byteLength");if(0===t.buffer.byteLength)throw new h("chunk's buffer must have non-zero byteLength");if(this.If)throw new h("stream is closed or draining");var n=this.Df.o;if("readable"!==n)throw new h("The stream (in "+n+" state) is not in the readable state and cannot be enqueued to");hf(this,t)},t.prototype.error=function(t){if(void 0===t&&(t=void 0),!Ga(this))throw bf("error");vf(this,t)},t.prototype[aa]=function(t){Ja(this),ja(this);var n=this.Nf(t);return af(this),n},t.prototype[fa]=function(t){var n=this.Df;if(this.Sf>0){var i=this.Tf.shift();this.Sf-=i.byteLength,rf(this);var e=new y(i.buffer,i.byteOffset,i.byteLength);t.df(e)}else{var r=this.Of;if(void 0!==r){var u=void 0;try{u=new ArrayBuffer(r)}catch(n){return void t.lf(n)}var s={buffer:u,bufferByteLength:r,byteOffset:0,byteLength:r,bytesFilled:0,elementSize:1,viewConstructor:y,readerType:"default"};this.Cf.push(s)}Ta(n,t),Ka(this)}},t}();function Ga(t){return!!xc(t)&&(!!v.prototype.hasOwnProperty.call(t,"Df")&&t instanceof Xa)}function Ya(t){return!!xc(t)&&(!!v.prototype.hasOwnProperty.call(t,"Rf")&&t instanceof $a)}function Ka(t){(function(t){var n=t.Df;if("readable"!==n.o)return!1;if(t.If)return!1;if(!t.Af)return!1;if(Ra(n)&&Ea(n)>0)return!0;if(Tf(n)&&kf(n)>0)return!0;if(lf(t)>0)return!0;return!1})(t)&&(t.Pf?t.xf=!0:(t.Pf=!0,Hc(t.Lf(),function(){t.Pf=!1,t.xf&&(t.xf=!1,Ka(t))},function(n){vf(t,n)})))}function Ja(t){uf(t),t.Cf=new Qc}function Qa(t,n){var i=!1;"closed"===t.o&&(i=!0);var e=Za(n);"default"===n.readerType?Sa(t,e,i):function(t,n,i){var e=t.sf.Bf.shift();i?e.vf(n):e.df(n)}(t,e,i)}function Za(t){var n=t.bytesFilled,i=t.elementSize;return new t.viewConstructor(t.buffer,t.byteOffset,n/i)}function tf(t,n,i,e){t.Tf.push({buffer:n,byteOffset:i,byteLength:e}),t.Sf+=e}function nf(t,n){var i=n.elementSize,e=n.bytesFilled-n.bytesFilled%i,r=d.min(t.Sf,n.byteLength-n.bytesFilled),u=n.bytesFilled+r,s=u-u%i,o=r,c=!1;s>e&&(o=s-n.bytesFilled,c=!0);for(var a=t.Tf;o>0;){var f=a.peek(),h=d.min(o,f.byteLength),v=n.byteOffset+n.bytesFilled;Ua(n.buffer,v,f.buffer,f.byteOffset,h),f.byteLength===h?a.shift():(f.byteOffset+=h,f.byteLength-=h),t.Sf-=h,ef(t,h,n),o-=h}return c}function ef(t,n,i){i.bytesFilled+=n}function rf(t){0===t.Sf&&t.If?(af(t),ev(t.Df)):Ka(t)}function uf(t){null!==t.Mf&&(t.Mf.Rf=void 0,t.Mf.Ef=null,t.Mf=null)}function sf(t){for(;t.Cf.length>0;){if(0===t.Sf)return;var n=t.Cf.peek();nf(t,n)&&(cf(t),Qa(t.Df,n))}}function of(t,n){var i=t.Cf.peek();uf(t),"closed"===t.Df.o?function(t,n){var i=t.Df;if(Tf(i))for(;kf(i)>0;)Qa(i,cf(t))}(t):function(t,n,i){if(ef(0,n,i),!(i.bytesFilled<i.elementSize)){cf(t);var e=i.bytesFilled%i.elementSize;if(e>0){var r=i.byteOffset+i.bytesFilled,u=qa(i.buffer,r-e,r);tf(t,u,0,u.byteLength)}i.bytesFilled-=e,Qa(t.Df,i),sf(t)}}(t,n,i),Ka(t)}function cf(t){return t.Cf.shift()}function af(t){t.Lf=void 0,t.Nf=void 0}function ff(t){var n=t.Df;if(!t.If&&"readable"===n.o)if(t.Sf>0)t.If=!0;else{if(t.Cf.length>0)if(t.Cf.peek().bytesFilled>0){var i=new h("Insufficient bytes to fill elements in the given buffer");throw vf(t,i),i}af(t),ev(n)}}function hf(t,n){var i=t.Df;if(!t.If&&"readable"===i.o){var e=n.buffer,r=n.byteOffset,u=n.byteLength,s=Va(e);if(t.Cf.length>0){var o=t.Cf.peek();o.buffer,0,o.buffer=Va(o.buffer)}if(uf(t),Ra(i))if(0===Ea(i))tf(t,s,r,u);else t.Cf.length>0&&cf(t),Sa(i,new y(s,r,u),!1);else Tf(i)?(tf(t,s,r,u),sf(t)):tf(t,s,r,u);Ka(t)}}function vf(t,n){var i=t.Df;"readable"===i.o&&(Ja(t),ja(t),af(t),rv(i,n))}function df(t){if(null===t.Mf&&t.Cf.length>0){var n=t.Cf.peek(),i=new y(n.buffer,n.byteOffset+n.bytesFilled,n.byteLength-n.bytesFilled),e=v.create($a.prototype);!function(t,n,i){t.Rf=n,t.Ef=i}(e,t,i),t.Mf=e}return t.Mf}function lf(t){var n=t.Df.o;return"errored"===n?null:"closed"===n?0:t.Ff-t.Sf}function wf(t,n){var i=t.Cf.peek();if("closed"===t.Df.o){if(0!==n)throw new h("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(0===n)throw new h("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(i.bytesFilled+n>i.byteLength)throw new RangeError("bytesWritten out of range")}i.buffer=Va(i.buffer),of(t,n)}function gf(t,n){var i=t.Cf.peek();if("closed"===t.Df.o){if(0!==n.byteLength)throw new h("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(0===n.byteLength)throw new h("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(i.byteOffset+i.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.bufferByteLength!==n.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(i.bytesFilled+n.byteLength>i.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");var e=n.byteLength;i.buffer=Va(n.buffer),of(t,e)}function yf(t,n,i,e,r,u,s){n.Df=t,n.xf=!1,n.Pf=!1,n.Mf=null,n.Tf=n.Sf=void 0,ja(n),n.If=!1,n.Af=!1,n.Ff=u,n.Lf=e,n.Nf=r,n.Of=s,n.Cf=new Qc,t.gf=n,Hc(qc(i()),function(){n.Af=!0,Ka(n)},function(t){vf(n,t)})}function mf(t){return new h("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function bf(t){return new h("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function pf(t){return new Sf(t)}function _f(t,n){t.sf.Bf.push(n)}function kf(t){return t.sf.Bf.length}function Tf(t){var n=t.sf;return void 0!==n&&!!Ef(n)}v.defineProperties(Xa.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof Cc.toStringTag&&v.defineProperty(Xa.prototype,Cc.toStringTag,{value:"ReadableByteStreamController",configurable:!0});var Sf=function(){function t(t){if(ga(t,1,"ReadableStreamBYOBReader"),_a(t,"First parameter"),nv(t))throw new h("This stream has already been locked for exclusive reading by another reader");if(!Ga(t.gf))throw new h("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");Zc(this,t),this.Bf=new Qc}return v.defineProperty(t.prototype,"closed",{get:function(){return Ef(this)?this.Go:zc(If("closed"))},enumerable:!1,configurable:!0}),t.prototype.cancel=function(t){return void 0===t&&(t=void 0),Ef(this)?void 0===this.uf?zc(ia("cancel")):ta(this,t):zc(If("cancel"))},t.prototype.read=function(t){if(!Ef(this))return zc(If("read"));if(!ArrayBuffer.isView(t))return zc(new h("view must be an array buffer view"));if(0===t.byteLength)return zc(new h("view must have non-zero byteLength"));if(0===t.buffer.byteLength)return zc(new h("view's buffer must have non-zero byteLength"));if(t.buffer,void 0===this.uf)return zc(ia("read from"));var n,i,e=Vc(function(t,e){n=t,i=e});return Rf(this,t,{df:function(t){return n({value:t,done:!1})},vf:function(t){return n({value:t,done:!0})},lf:function(t){return i(t)}}),e},t.prototype.releaseLock=function(){if(!Ef(this))throw If("releaseLock");if(void 0!==this.uf){if(this.Bf.length>0)throw new h("Tried to release a reader lock when that reader has pending read() calls un-settled");na(this)}},t}();function Ef(t){return!!xc(t)&&(!!v.prototype.hasOwnProperty.call(t,"Bf")&&t instanceof Sf)}function Rf(t,n,i){var e=t.uf;e.wf=!0,"errored"===e.o?i.lf(e.cf):function(t,n,i){var e=t.Df,r=1;n.constructor!==DataView&&(r=n.constructor.BYTES_PER_ELEMENT);var u=n.constructor,s=Va(n.buffer),o={buffer:s,bufferByteLength:s.byteLength,byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:r,viewConstructor:u,readerType:"byob"};if(t.Cf.length>0)return t.Cf.push(o),void _f(e,i);if("closed"!==e.o){if(t.Sf>0){if(nf(t,o)){var c=Za(o);return rf(t),void i.df(c)}if(t.If){var a=new h("Insufficient bytes to fill elements in the given buffer");return vf(t,a),void i.lf(a)}}t.Cf.push(o),_f(e,i),Ka(t)}else{var f=new u(o.buffer,o.byteOffset,0);i.vf(f)}}(e.gf,n,i)}function If(t){return new h("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}function Df(t,n){var i=t.highWaterMark;if(void 0===i)return n;if(Ma(i)||i<0)throw new RangeError("Invalid highWaterMark");return i}function Nf(t){var n=t.size;return n||function(){return 1}}function Of(t,n){da(t,n);var i=null==t?void 0:t.highWaterMark,e=null==t?void 0:t.size;return{highWaterMark:void 0===i?void 0:ma(i),size:void 0===e?void 0:Cf(e,n+" has member 'size' that")}}function Cf(t,n){return la(t,n),function(n){return ma(t(n))}}function Af(t,n,i){return la(t,i),function(i){return Jc(t,n,[i])}}function Pf(t,n,i){return la(t,i),function(){return Jc(t,n,[])}}function xf(t,n,i){return la(t,i),function(i){return Kc(t,n,[i])}}function Lf(t,n,i){return la(t,i),function(i,e){return Jc(t,n,[i,e])}}function Bf(t,n){if(!qf(t))throw new h(n+" is not a WritableStream.")}v.defineProperties(Sf.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof Cc.toStringTag&&v.defineProperty(Sf.prototype,Cc.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});var Mf="function"==typeof AbortController;var Ff=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),void 0===t?t=null:wa(t,"First parameter");var i=Of(n,"Second parameter"),e=function(t,n){da(t,n);var i=null==t?void 0:t.abort,e=null==t?void 0:t.close,r=null==t?void 0:t.start,u=null==t?void 0:t.type,s=null==t?void 0:t.write;return{abort:void 0===i?void 0:Af(i,t,n+" has member 'abort' that"),close:void 0===e?void 0:Pf(e,t,n+" has member 'close' that"),start:void 0===r?void 0:xf(r,t,n+" has member 'start' that"),write:void 0===s?void 0:Lf(s,t,n+" has member 'write' that"),type:u}}(t,"First parameter");if(Vf(this),void 0!==e.type)throw new RangeError("Invalid type is specified");var r=Nf(i);!function(t,n,i,e){var r=v.create(uh.prototype),u=function(){},s=function(){return qc(void 0)},o=function(){return qc(void 0)},c=function(){return qc(void 0)};void 0!==n.start&&(u=function(){return n.start(r)});void 0!==n.write&&(s=function(t){return n.write(t,r)});void 0!==n.close&&(o=function(){return n.close()});void 0!==n.abort&&(c=function(t){return n.abort(t)});oh(t,r,u,s,o,c,i,e)}(this,e,Df(i,1),r)}return v.defineProperty(t.prototype,"locked",{get:function(){if(!qf(this))throw lh("locked");return zf(this)},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){return void 0===t&&(t=void 0),qf(this)?zf(this)?zc(new h("Cannot abort a stream that already has a writer")):Wf(this,t):zc(lh("abort"))},t.prototype.close=function(){return qf(this)?zf(this)?zc(new h("Cannot close a stream that already has a writer")):Gf(this)?zc(new h("Cannot close an already-closing stream")):Hf(this):zc(lh("close"))},t.prototype.getWriter=function(){if(!qf(this))throw lh("getWriter");return Uf(this)},t}();function Uf(t){return new Jf(t)}function Vf(t){t.o="writable",t.cf=void 0,t.Ku=void 0,t.Uf=void 0,t.Vf=new Qc,t.qf=void 0,t.zf=void 0,t.Wf=void 0,t.Hf=void 0,t.jf=!1}function qf(t){return!!xc(t)&&(!!v.prototype.hasOwnProperty.call(t,"Uf")&&t instanceof Ff)}function zf(t){return void 0!==t.Ku}function Wf(t,n){var i;if("closed"===t.o||"errored"===t.o)return qc(void 0);t.Uf.$f=n,null===(i=t.Uf.Xf)||void 0===i||i.abort();var e=t.o;if("closed"===e||"errored"===e)return qc(void 0);if(void 0!==t.Hf)return t.Hf.Gf;var r=!1;"erroring"===e&&(r=!0,n=void 0);var u=Vc(function(i,e){t.Hf={Gf:void 0,Au:i,Pu:e,Yf:n,Kf:r}});return t.Hf.Gf=u,r||$f(t,n),u}function Hf(t){var n=t.o;if("closed"===n||"errored"===n)return zc(new h("The stream (in "+n+" state) is not in the writable state and cannot be closed"));var i,e=Vc(function(n,i){var e={Au:n,Pu:i};t.zf=e}),r=t.Ku;return void 0!==r&&t.jf&&"writable"===n&&Rh(r),Ha(i=t.Uf,rh,0),fh(i),e}function jf(t,n){"writable"!==t.o?Xf(t):$f(t,n)}function $f(t,n){var i=t.Uf;t.o="erroring",t.cf=n;var e=t.Ku;void 0!==e&&nh(e,n),!function(t){if(void 0===t.qf&&void 0===t.Wf)return!1;return!0}(t)&&i.Af&&Xf(t)}function Xf(t){t.o="errored",t.Uf[ca]();var n=t.cf;if(t.Vf.forEach(function(t){t.Pu(n)}),t.Vf=new Qc,void 0!==t.Hf){var i=t.Hf;if(t.Hf=void 0,i.Kf)return i.Pu(n),void Yf(t);Hc(t.Uf[oa](i.Yf),function(){i.Au(),Yf(t)},function(n){i.Pu(n),Yf(t)})}else Yf(t)}function Gf(t){return void 0!==t.zf||void 0!==t.Wf}function Yf(t){void 0!==t.zf&&(t.zf.Pu(t.cf),t.zf=void 0);var n=t.Ku;void 0!==n&&ph(n,t.cf)}function Kf(t,n){var i=t.Ku;void 0!==i&&n!==t.jf&&(n?function(t){kh(t)}(i):Rh(i)),t.jf=n}v.defineProperties(Ff.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof Cc.toStringTag&&v.defineProperty(Ff.prototype,Cc.toStringTag,{value:"WritableStream",configurable:!0});var Jf=function(){function t(t){if(ga(t,1,"WritableStreamDefaultWriter"),Bf(t,"First parameter"),zf(t))throw new h("This stream has already been locked for exclusive writing by another writer");this.Jf=t,t.Ku=this;var n,i=t.o;if("writable"===i)!Gf(t)&&t.jf?kh(this):Sh(this),mh(this);else if("erroring"===i)Th(this,t.cf),mh(this);else if("closed"===i)Sh(this),mh(n=this),_h(n);else{var e=t.cf;Th(this,e),bh(this,e)}}return v.defineProperty(t.prototype,"closed",{get:function(){return Qf(this)?this.Go:zc(gh("closed"))},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"desiredSize",{get:function(){if(!Qf(this))throw gh("desiredSize");if(void 0===this.Jf)throw yh("desiredSize");return function(t){var n=t.Jf,i=n.o;if("errored"===i||"erroring"===i)return null;if("closed"===i)return 0;return ah(n.Uf)}(this)},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"ready",{get:function(){return Qf(this)?this.Qf:zc(gh("ready"))},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){return void 0===t&&(t=void 0),Qf(this)?void 0===this.Jf?zc(yh("abort")):function(t,n){return Wf(t.Jf,n)}(this,t):zc(gh("abort"))},t.prototype.close=function(){if(!Qf(this))return zc(gh("close"));var t=this.Jf;return void 0===t?zc(yh("close")):Gf(t)?zc(new h("Cannot close an already-closing stream")):Zf(this)},t.prototype.releaseLock=function(){if(!Qf(this))throw gh("releaseLock");void 0!==this.Jf&&ih(this)},t.prototype.write=function(t){return void 0===t&&(t=void 0),Qf(this)?void 0===this.Jf?zc(yh("write to")):eh(this,t):zc(gh("write"))},t}();function Qf(t){return!!xc(t)&&(!!v.prototype.hasOwnProperty.call(t,"Jf")&&t instanceof Jf)}function Zf(t){return Hf(t.Jf)}function th(t,n){"pending"===t.Zf?ph(t,n):function(t,n){bh(t,n)}(t,n)}function nh(t,n){"pending"===t.th?Eh(t,n):function(t,n){Th(t,n)}(t,n)}function ih(t){var n=t.Jf,i=new h("Writer was released and can no longer be used to monitor the stream's closedness");nh(t,i),th(t,i),n.Ku=void 0,t.Jf=void 0}function eh(t,n){var i=t.Jf,e=i.Uf,r=function(t,n){try{return t.nh(n)}catch(n){return hh(t,n),1}}(e,n);if(i!==t.Jf)return zc(yh("write to"));var u=i.o;if("errored"===u)return zc(i.cf);if(Gf(i)||"closed"===u)return zc(new h("The stream is closing or closed and cannot be written to"));if("erroring"===u)return zc(i.cf);var s=function(t){return Vc(function(n,i){var e={Au:n,Pu:i};t.Vf.push(e)})}(i);return function(t,n,i){try{Ha(t,n,i)}catch(n){return void hh(t,n)}var e=t.ih;if(!Gf(e)&&"writable"===e.o){var r=vh(t);Kf(e,r)}fh(t)}(e,n,r),s}v.defineProperties(Jf.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),"symbol"==typeof Cc.toStringTag&&v.defineProperty(Jf.prototype,Cc.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});var rh={},uh=function(){function t(){throw new h("Illegal constructor")}return v.defineProperty(t.prototype,"abortReason",{get:function(){if(!sh(this))throw wh("abortReason");return this.$f},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"signal",{get:function(){if(!sh(this))throw wh("signal");if(void 0===this.Xf)throw new h("WritableStreamDefaultController.prototype.signal is not supported");return this.Xf.signal},enumerable:!1,configurable:!0}),t.prototype.error=function(t){if(void 0===t&&(t=void 0),!sh(this))throw wh("error");"writable"===this.ih.o&&dh(this,t)},t.prototype[oa]=function(t){var n=this.eh(t);return ch(this),n},t.prototype[ca]=function(){ja(this)},t}();function sh(t){return!!xc(t)&&(!!v.prototype.hasOwnProperty.call(t,"ih")&&t instanceof uh)}function oh(t,n,i,e,r,u,s,o){n.ih=t,t.Uf=n,n.Tf=void 0,n.Sf=void 0,ja(n),n.$f=void 0,n.Xf=function(){if(Mf)return new AbortController}(),n.Af=!1,n.nh=o,n.Ff=s,n.rh=e,n.uh=r,n.eh=u;var c=vh(n);Kf(t,c),Hc(qc(i()),function(){n.Af=!0,fh(n)},function(i){n.Af=!0,jf(t,i)})}function ch(t){t.rh=void 0,t.uh=void 0,t.eh=void 0,t.nh=void 0}function ah(t){return t.Ff-t.Sf}function fh(t){var n=t.ih;if(t.Af&&void 0===n.qf)if("erroring"!==n.o){if(0!==t.Tf.length){var i=t.Tf.peek().value;i===rh?function(t){var n=t.ih;(function(t){t.Wf=t.zf,t.zf=void 0})(n),Wa(t);var i=t.uh();ch(t),Hc(i,function(){!function(t){t.Wf.Au(void 0),t.Wf=void 0,"erroring"===t.o&&(t.cf=void 0,void 0!==t.Hf&&(t.Hf.Au(),t.Hf=void 0)),t.o="closed";var n=t.Ku;void 0!==n&&_h(n)}(n)},function(t){!function(t,n){t.Wf.Pu(n),t.Wf=void 0,void 0!==t.Hf&&(t.Hf.Pu(n),t.Hf=void 0),jf(t,n)}(n,t)})}(t):function(t,n){var i=t.ih;(function(t){t.qf=t.Vf.shift()})(i),Hc(t.rh(n),function(){!function(t){t.qf.Au(void 0),t.qf=void 0}(i);var n=i.o;if(Wa(t),!Gf(i)&&"writable"===n){var e=vh(t);Kf(i,e)}fh(t)},function(n){"writable"===i.o&&ch(t),function(t,n){t.qf.Pu(n),t.qf=void 0,jf(t,n)}(i,n)})}(t,i)}}else Xf(n)}function hh(t,n){"writable"===t.ih.o&&dh(t,n)}function vh(t){return ah(t)<=0}function dh(t,n){var i=t.ih;ch(t),$f(i,n)}function lh(t){return new h("WritableStream.prototype."+t+" can only be used on a WritableStream")}function wh(t){return new h("WritableStreamDefaultController.prototype."+t+" can only be used on a WritableStreamDefaultController")}function gh(t){return new h("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function yh(t){return new h("Cannot "+t+" a stream using a released writer")}function mh(t){t.Go=Vc(function(n,i){t.af=n,t.ff=i,t.Zf="pending"})}function bh(t,n){mh(t),ph(t,n)}function ph(t,n){void 0!==t.ff&&(Gc(t.Go),t.ff(n),t.af=void 0,t.ff=void 0,t.Zf="rejected")}function _h(t){void 0!==t.af&&(t.af(void 0),t.af=void 0,t.ff=void 0,t.Zf="resolved")}function kh(t){t.Qf=Vc(function(n,i){t.sh=n,t.oh=i}),t.th="pending"}function Th(t,n){kh(t),Eh(t,n)}function Sh(t){kh(t),Rh(t)}function Eh(t,n){void 0!==t.oh&&(Gc(t.Qf),t.oh(n),t.sh=void 0,t.oh=void 0,t.th="rejected")}function Rh(t){void 0!==t.sh&&(t.sh(void 0),t.sh=void 0,t.oh=void 0,t.th="fulfilled")}v.defineProperties(uh.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),"symbol"==typeof Cc.toStringTag&&v.defineProperty(uh.prototype,Cc.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});var Ih="undefined"!=typeof DOMException?DOMException:void 0;var Dh,Nh=function(t){if("function"!=typeof t&&"object"!=typeof t)return!1;try{return new t,!0}catch(t){return!1}}(Ih)?Ih:((Dh=function(t,n){this.message=t||"",this.name=n||"Error",f.captureStackTrace&&f.captureStackTrace(this,this.constructor)}).prototype=v.create(f.prototype),v.defineProperty(Dh.prototype,"constructor",{value:Dh,writable:!0,configurable:!0}),Dh);function Oh(t,n,i,e,r,u){var s=ka(t),o=Uf(n);t.wf=!0;var c=!1,a=qc(void 0);return Vc(function(f,v){var d,l,w,g;if(void 0!==u){if(d=function(){var i=new Nh("Aborted","AbortError"),u=[];e||u.push(function(){return"writable"===n.o?Wf(n,i):qc(void 0)}),r||u.push(function(){return"readable"===t.o?iv(t,i):qc(void 0)}),p(function(){return j.all(u.map(function(t){return t()}))},!0,i)},u.aborted)return void d();u.addEventListener("abort",d)}if(b(t,s.Go,function(t){e?_(!0,t):p(function(){return Wf(n,t)},!0,t)}),b(n,o.Go,function(n){r?_(!0,n):p(function(){return iv(t,n)},!0,n)}),l=t,w=s.Go,g=function(){i?_():p(function(){return function(t){var n=t.Jf,i=n.o;return Gf(n)||"closed"===i?qc(void 0):"errored"===i?zc(n.cf):Zf(t)}(o)})},"closed"===l.o?g():jc(w,g),Gf(n)||"closed"===n.o){var y=new h("the destination writable stream closed before all data could be piped to it");r?_(!0,y):p(function(){return iv(t,y)},!0,y)}function m(){var t=a;return Wc(a,function(){return t!==a?m():void 0})}function b(t,n,i){"errored"===t.o?i(t.cf):$c(n,i)}function p(t,i,e){function r(){Hc(t(),function(){return k(i,e)},function(t){return k(!0,t)})}c||(c=!0,"writable"!==n.o||Gf(n)?r():jc(m(),r))}function _(t,i){c||(c=!0,"writable"!==n.o||Gf(n)?k(t,i):jc(m(),function(){return k(t,i)}))}function k(t,n){ih(o),na(s),void 0!==u&&u.removeEventListener("abort",d),t?v(n):f(void 0)}Gc(Vc(function(t,n){!function i(e){e?t():Wc(c?qc(!0):Wc(o.Qf,function(){return Vc(function(t,n){Ca(s,{df:function(n){a=Wc(eh(o,n),void 0,Ac),t(!1)},vf:function(){return t(!0)},lf:n})})}),i,n)}(!1)}))})}var Ch=function(){function t(){throw new h("Illegal constructor")}return v.defineProperty(t.prototype,"desiredSize",{get:function(){if(!Ah(this))throw zh("desiredSize");return Uh(this)},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(!Ah(this))throw zh("close");if(!Vh(this))throw new h("The stream is not in a state that permits close");Bh(this)},t.prototype.enqueue=function(t){if(void 0===t&&(t=void 0),!Ah(this))throw zh("enqueue");if(!Vh(this))throw new h("The stream is not in a state that permits enqueue");return Mh(this,t)},t.prototype.error=function(t){if(void 0===t&&(t=void 0),!Ah(this))throw zh("error");Fh(this,t)},t.prototype[aa]=function(t){ja(this);var n=this.Nf(t);return Lh(this),n},t.prototype[fa]=function(t){var n=this.ah;if(this.Tf.length>0){var i=Wa(this);this.If&&0===this.Tf.length?(Lh(this),ev(n)):Ph(this),t.df(i)}else Ta(n,t),Ph(this)},t}();function Ah(t){return!!xc(t)&&(!!v.prototype.hasOwnProperty.call(t,"ah")&&t instanceof Ch)}function Ph(t){xh(t)&&(t.Pf?t.xf=!0:(t.Pf=!0,Hc(t.Lf(),function(){t.Pf=!1,t.xf&&(t.xf=!1,Ph(t))},function(n){Fh(t,n)})))}function xh(t){var n=t.ah;return!!Vh(t)&&(!!t.Af&&(!!(nv(n)&&Ea(n)>0)||Uh(t)>0))}function Lh(t){t.Lf=void 0,t.Nf=void 0,t.nh=void 0}function Bh(t){if(Vh(t)){var n=t.ah;t.If=!0,0===t.Tf.length&&(Lh(t),ev(n))}}function Mh(t,n){if(Vh(t)){var i=t.ah;if(nv(i)&&Ea(i)>0)Sa(i,n,!1);else{var e=void 0;try{e=t.nh(n)}catch(n){throw Fh(t,n),n}try{Ha(t,n,e)}catch(n){throw Fh(t,n),n}}Ph(t)}}function Fh(t,n){var i=t.ah;"readable"===i.o&&(ja(t),Lh(t),rv(i,n))}function Uh(t){var n=t.ah.o;return"errored"===n?null:"closed"===n?0:t.Ff-t.Sf}function Vh(t){var n=t.ah.o;return!t.If&&"readable"===n}function qh(t,n,i,e,r,u,s){n.ah=t,n.Tf=void 0,n.Sf=void 0,ja(n),n.Af=!1,n.If=!1,n.xf=!1,n.Pf=!1,n.nh=s,n.Ff=u,n.Lf=e,n.Nf=r,t.gf=n,Hc(qc(i()),function(){n.Af=!0,Ph(n)},function(t){Fh(n,t)})}function zh(t){return new h("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}function Wh(t,n){return Ga(t.gf)?function(t){var n,i,e,r,u,s=ka(t),o=!1,c=!1,a=!1,f=!1,h=!1,v=Vc(function(t){u=t});function d(t){$c(t.Go,function(n){t===s&&(vf(e.gf,n),vf(r.gf,n),f&&h||u(void 0))})}function l(){Ef(s)&&(na(s),d(s=ka(t)));var n={df:function(n){Yc(function(){c=!1,a=!1;var i=n,s=n;if(!f&&!h)try{s=za(n)}catch(n){return vf(e.gf,n),vf(r.gf,n),void u(iv(t,n))}f||hf(e.gf,i),h||hf(r.gf,s),o=!1,c?g():a&&y()})},vf:function(){o=!1,f||ff(e.gf),h||ff(r.gf),e.gf.Cf.length>0&&wf(e.gf,0),r.gf.Cf.length>0&&wf(r.gf,0),f&&h||u(void 0)},lf:function(){o=!1}};Ca(s,n)}function w(n,i){Oa(s)&&(na(s),d(s=pf(t)));var v=i?r:e,l=i?e:r,w={df:function(n){Yc(function(){c=!1,a=!1;var e=i?h:f,r=i?f:h;if(r)e||gf(v.gf,n);else{var s=void 0;try{s=za(n)}catch(n){return vf(v.gf,n),vf(l.gf,n),void u(iv(t,n))}e||gf(v.gf,n),hf(l.gf,s)}o=!1,c?g():a&&y()})},vf:function(t){o=!1;var n=i?h:f,e=i?f:h;n||ff(v.gf),e||ff(l.gf),void 0!==t&&(n||gf(v.gf,t),!e&&l.gf.Cf.length>0&&wf(l.gf,0)),n&&e||u(void 0)},lf:function(){o=!1}};Rf(s,n,w)}function g(){if(o)return c=!0,qc(void 0);o=!0;var t=df(e.gf);return null===t?l():w(t.Ef,!1),qc(void 0)}function y(){if(o)return a=!0,qc(void 0);o=!0;var t=df(r.gf);return null===t?l():w(t.Ef,!0),qc(void 0)}function m(){}return e=Qh(m,g,function(e){if(f=!0,n=e,h){var r=Fa([n,i]),s=iv(t,r);u(s)}return v}),r=Qh(m,y,function(e){if(h=!0,i=e,f){var r=Fa([n,i]),s=iv(t,r);u(s)}return v}),d(s),[e,r]}(t):function(t,n){var i,e,r,u,s,o=ka(t),c=!1,a=!1,f=!1,h=!1,v=Vc(function(t){s=t});function d(){if(c)return a=!0,qc(void 0);c=!0;var t={df:function(t){Yc(function(){a=!1;var n=t,i=t;f||Mh(r.gf,n),h||Mh(u.gf,i),c=!1,a&&d()})},vf:function(){c=!1,f||Bh(r.gf),h||Bh(u.gf),f&&h||s(void 0)},lf:function(){c=!1}};return Ca(o,t),qc(void 0)}function l(){}return r=Jh(l,d,function(n){if(f=!0,i=n,h){var r=Fa([i,e]),u=iv(t,r);s(u)}return v}),u=Jh(l,d,function(n){if(h=!0,e=n,f){var r=Fa([i,e]),u=iv(t,r);s(u)}return v}),$c(o.Go,function(t){Fh(r.gf,t),Fh(u.gf,t),f&&h||s(void 0)}),[r,u]}(t)}function Hh(t,n,i){return la(t,i),function(i){return Jc(t,n,[i])}}function jh(t,n,i){return la(t,i),function(i){return Jc(t,n,[i])}}function $h(t,n,i){return la(t,i),function(i){return Kc(t,n,[i])}}function Xh(t,n){if("bytes"!==(t=""+t))throw new h(n+" '"+t+"' is not a valid enumeration value for ReadableStreamType");return t}function Gh(t,n){if("byob"!==(t=""+t))throw new h(n+" '"+t+"' is not a valid enumeration value for ReadableStreamReaderMode");return t}function Yh(t,n){da(t,n);var i=null==t?void 0:t.preventAbort,e=null==t?void 0:t.preventCancel,r=null==t?void 0:t.preventClose,u=null==t?void 0:t.signal;return void 0!==u&&function(t,n){if(!function(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}(t))throw new h(n+" is not an AbortSignal.")}(u,n+" has member 'signal' that"),{preventAbort:Boolean(i),preventCancel:Boolean(e),preventClose:Boolean(r),signal:u}}v.defineProperties(Ch.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof Cc.toStringTag&&v.defineProperty(Ch.prototype,Cc.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});var Kh=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),void 0===t?t=null:wa(t,"First parameter");var i=Of(n,"Second parameter"),e=function(t,n){da(t,n);var i=t,e=null==i?void 0:i.autoAllocateChunkSize,r=null==i?void 0:i.cancel,u=null==i?void 0:i.pull,s=null==i?void 0:i.start,o=null==i?void 0:i.type;return{autoAllocateChunkSize:void 0===e?void 0:pa(e,n+" has member 'autoAllocateChunkSize' that"),cancel:void 0===r?void 0:Hh(r,i,n+" has member 'cancel' that"),pull:void 0===u?void 0:jh(u,i,n+" has member 'pull' that"),start:void 0===s?void 0:$h(s,i,n+" has member 'start' that"),type:void 0===o?void 0:Xh(o,n+" has member 'type' that")}}(t,"First parameter");if(Zh(this),"bytes"===e.type){if(void 0!==i.size)throw new RangeError("The strategy for a byte stream cannot have a size function");!function(t,n,i){var e=v.create(Xa.prototype),r=function(){},u=function(){return qc(void 0)},s=function(){return qc(void 0)};void 0!==n.start&&(r=function(){return n.start(e)}),void 0!==n.pull&&(u=function(){return n.pull(e)}),void 0!==n.cancel&&(s=function(t){return n.cancel(t)});var o=n.autoAllocateChunkSize;if(0===o)throw new h("autoAllocateChunkSize must be greater than 0");yf(t,e,r,u,s,i,o)}(this,e,Df(i,0))}else{var r=Nf(i);!function(t,n,i,e){var r=v.create(Ch.prototype),u=function(){},s=function(){return qc(void 0)},o=function(){return qc(void 0)};void 0!==n.start&&(u=function(){return n.start(r)}),void 0!==n.pull&&(s=function(){return n.pull(r)}),void 0!==n.cancel&&(o=function(t){return n.cancel(t)}),qh(t,r,u,s,o,i,e)}(this,e,Df(i,1),r)}}return v.defineProperty(t.prototype,"locked",{get:function(){if(!tv(this))throw uv("locked");return nv(this)},enumerable:!1,configurable:!0}),t.prototype.cancel=function(t){return void 0===t&&(t=void 0),tv(this)?nv(this)?zc(new h("Cannot cancel a stream that already has a reader")):iv(this,t):zc(uv("cancel"))},t.prototype.getReader=function(t){if(void 0===t&&(t=void 0),!tv(this))throw uv("getReader");return void 0===function(t,n){da(t,n);var i=null==t?void 0:t.mode;return{mode:void 0===i?void 0:Gh(i,n+" has member 'mode' that")}}(t,"First parameter").mode?ka(this):pf(this)},t.prototype.pipeThrough=function(t,n){if(void 0===n&&(n={}),!tv(this))throw uv("pipeThrough");ga(t,1,"pipeThrough");var i=function(t,n){da(t,n);var i=null==t?void 0:t.readable;ya(i,"readable","ReadableWritablePair"),_a(i,n+" has member 'readable' that");var e=null==t?void 0:t.writable;return ya(e,"writable","ReadableWritablePair"),Bf(e,n+" has member 'writable' that"),{readable:i,writable:e}}(t,"First parameter"),e=Yh(n,"Second parameter");if(nv(this))throw new h("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(zf(i.writable))throw new h("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return Gc(Oh(this,i.writable,e.preventClose,e.preventAbort,e.preventCancel,e.signal)),i.readable},t.prototype.pipeTo=function(t,n){if(void 0===n&&(n={}),!tv(this))return zc(uv("pipeTo"));if(void 0===t)return zc("Parameter 1 is required in 'pipeTo'.");if(!qf(t))return zc(new h("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));var i;try{i=Yh(n,"Second parameter")}catch(t){return zc(t)}return nv(this)?zc(new h("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):zf(t)?zc(new h("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Oh(this,t,i.preventClose,i.preventAbort,i.preventCancel,i.signal)},t.prototype.tee=function(){if(!tv(this))throw uv("tee");return Fa(Wh(this))},t.prototype.values=function(t){if(void 0===t&&(t=void 0),!tv(this))throw uv("values");var n,i,e,r,u,s=function(t,n){da(t,n);var i=null==t?void 0:t.preventCancel;return{preventCancel:Boolean(i)}}(t,"First parameter");return n=this,i=s.preventCancel,e=ka(n),r=new Pa(e,i),(u=v.create(xa)).kf=r,u},t}();function Jh(t,n,i,e,r){void 0===e&&(e=1),void 0===r&&(r=function(){return 1});var u=v.create(Kh.prototype);return Zh(u),qh(u,v.create(Ch.prototype),t,n,i,e,r),u}function Qh(t,n,i){var e=v.create(Kh.prototype);return Zh(e),yf(e,v.create(Xa.prototype),t,n,i,0,void 0),e}function Zh(t){t.o="readable",t.sf=void 0,t.cf=void 0,t.wf=!1}function tv(t){return!!xc(t)&&(!!v.prototype.hasOwnProperty.call(t,"gf")&&t instanceof Kh)}function nv(t){return void 0!==t.sf}function iv(t,n){if(t.wf=!0,"closed"===t.o)return qc(void 0);if("errored"===t.o)return zc(t.cf);ev(t);var i=t.sf;return void 0!==i&&Ef(i)&&(i.Bf.forEach(function(t){t.vf(void 0)}),i.Bf=new Qc),Xc(t.gf[aa](n),Ac)}function ev(t){t.o="closed";var n=t.sf;void 0!==n&&(sa(n),Oa(n)&&(n.hf.forEach(function(t){t.vf()}),n.hf=new Qc))}function rv(t,n){t.o="errored",t.cf=n;var i=t.sf;void 0!==i&&(ua(i,n),Oa(i)?(i.hf.forEach(function(t){t.lf(n)}),i.hf=new Qc):(i.Bf.forEach(function(t){t.lf(n)}),i.Bf=new Qc))}function uv(t){return new h("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}function sv(t,n){da(t,n);var i=null==t?void 0:t.highWaterMark;return ya(i,"highWaterMark","QueuingStrategyInit"),{highWaterMark:ma(i)}}v.defineProperties(Kh.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof Cc.toStringTag&&v.defineProperty(Kh.prototype,Cc.toStringTag,{value:"ReadableStream",configurable:!0}),"symbol"==typeof Cc.asyncIterator&&v.defineProperty(Kh.prototype,Cc.asyncIterator,{value:Kh.prototype.values,writable:!0,configurable:!0});var ov=function(t){return t.byteLength};try{v.defineProperty(ov,"name",{value:"size",configurable:!0})}catch(H){}var cv=function(){function t(t){ga(t,1,"ByteLengthQueuingStrategy"),t=sv(t,"First parameter"),this.fh=t.highWaterMark}return v.defineProperty(t.prototype,"highWaterMark",{get:function(){if(!fv(this))throw av("highWaterMark");return this.fh},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"size",{get:function(){if(!fv(this))throw av("size");return ov},enumerable:!1,configurable:!0}),t}();function av(t){return new h("ByteLengthQueuingStrategy.prototype."+t+" can only be used on a ByteLengthQueuingStrategy")}function fv(t){return!!xc(t)&&(!!v.prototype.hasOwnProperty.call(t,"fh")&&t instanceof cv)}v.defineProperties(cv.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof Cc.toStringTag&&v.defineProperty(cv.prototype,Cc.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});var hv=function(){return 1};try{v.defineProperty(hv,"name",{value:"size",configurable:!0})}catch(H){}var vv=function(){function t(t){ga(t,1,"CountQueuingStrategy"),t=sv(t,"First parameter"),this.hh=t.highWaterMark}return v.defineProperty(t.prototype,"highWaterMark",{get:function(){if(!lv(this))throw dv("highWaterMark");return this.hh},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"size",{get:function(){if(!lv(this))throw dv("size");return hv},enumerable:!1,configurable:!0}),t}();function dv(t){return new h("CountQueuingStrategy.prototype."+t+" can only be used on a CountQueuingStrategy")}function lv(t){return!!xc(t)&&(!!v.prototype.hasOwnProperty.call(t,"hh")&&t instanceof vv)}function wv(t,n,i){return la(t,i),function(i){return Jc(t,n,[i])}}function gv(t,n,i){return la(t,i),function(i){return Kc(t,n,[i])}}function yv(t,n,i){return la(t,i),function(i,e){return Jc(t,n,[i,e])}}v.defineProperties(vv.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof Cc.toStringTag&&v.defineProperty(vv.prototype,Cc.toStringTag,{value:"CountQueuingStrategy",configurable:!0});var mv=function(){function t(t,n,i){void 0===t&&(t={}),void 0===n&&(n={}),void 0===i&&(i={}),void 0===t&&(t=null);var e=Of(n,"Second parameter"),r=Of(i,"Third parameter"),u=function(t,n){da(t,n);var i=null==t?void 0:t.flush,e=null==t?void 0:t.readableType,r=null==t?void 0:t.start,u=null==t?void 0:t.transform,s=null==t?void 0:t.writableType;return{flush:void 0===i?void 0:wv(i,t,n+" has member 'flush' that"),readableType:e,start:void 0===r?void 0:gv(r,t,n+" has member 'start' that"),transform:void 0===u?void 0:yv(u,t,n+" has member 'transform' that"),writableType:s}}(t,"First parameter");if(void 0!==u.readableType)throw new RangeError("Invalid readableType specified");if(void 0!==u.writableType)throw new RangeError("Invalid writableType specified");var s,o=Df(r,0),c=Nf(r),a=Df(e,1),f=Nf(e);!function(t,n,i,e,r,u){function s(){return n}t.vh=function(t,n,i,e,r,u){void 0===r&&(r=1),void 0===u&&(u=function(){return 1});var s=v.create(Ff.prototype);return Vf(s),oh(s,v.create(uh.prototype),t,n,i,e,r,u),s}(s,function(n){return function(t,n){var i=t.dh;if(t.jf){var e=t.lh;return Xc(e,function(){var e=t.vh,r=e.o;if("erroring"===r)throw e.cf;return Iv(i,n)})}return Iv(i,n)}(t,n)},function(){return function(t){var n=t.wh,i=t.dh,e=i.gh();return Ev(i),Xc(e,function(){if("errored"===n.o)throw n.cf;Bh(n.gf)},function(i){throw pv(t,i),n.cf})}(t)},function(n){return function(t,n){return pv(t,n),qc(void 0)}(t,n)},i,e),t.wh=Jh(s,function(){return function(t){return kv(t,!1),t.lh}(t)},function(n){return _v(t,n),qc(void 0)},r,u),t.jf=void 0,t.lh=void 0,t.yh=void 0,kv(t,!0),t.dh=void 0}(this,Vc(function(t){s=t}),a,f,o,c),function(t,n){var i=v.create(Tv.prototype),e=function(t){try{return Rv(i,t),qc(void 0)}catch(t){return zc(t)}},r=function(){return qc(void 0)};void 0!==n.transform&&(e=function(t){return n.transform(t,i)});void 0!==n.flush&&(r=function(){return n.flush(i)});!function(t,n,i,e){n.mh=t,t.dh=n,n.bh=i,n.gh=e}(t,i,e,r)}(this,u),void 0!==u.start?s(u.start(this.dh)):s(void 0)}return v.defineProperty(t.prototype,"readable",{get:function(){if(!bv(this))throw Nv("readable");return this.wh},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"writable",{get:function(){if(!bv(this))throw Nv("writable");return this.vh},enumerable:!1,configurable:!0}),t}();function bv(t){return!!xc(t)&&(!!v.prototype.hasOwnProperty.call(t,"dh")&&t instanceof mv)}function pv(t,n){Fh(t.wh.gf,n),_v(t,n)}function _v(t,n){Ev(t.dh),hh(t.vh.Uf,n),t.jf&&kv(t,!1)}function kv(t,n){void 0!==t.lh&&t.yh(),t.lh=Vc(function(n){t.yh=n}),t.jf=n}v.defineProperties(mv.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),"symbol"==typeof Cc.toStringTag&&v.defineProperty(mv.prototype,Cc.toStringTag,{value:"TransformStream",configurable:!0});var Tv=function(){function t(){throw new h("Illegal constructor")}return v.defineProperty(t.prototype,"desiredSize",{get:function(){if(!Sv(this))throw Dv("desiredSize");return Uh(this.mh.wh.gf)},enumerable:!1,configurable:!0}),t.prototype.enqueue=function(t){if(void 0===t&&(t=void 0),!Sv(this))throw Dv("enqueue");Rv(this,t)},t.prototype.error=function(t){if(void 0===t&&(t=void 0),!Sv(this))throw Dv("error");var n;n=t,pv(this.mh,n)},t.prototype.terminate=function(){if(!Sv(this))throw Dv("terminate");!function(t){var n=t.mh;Bh(n.wh.gf);var i=new h("TransformStream terminated");_v(n,i)}(this)},t}();function Sv(t){return!!xc(t)&&(!!v.prototype.hasOwnProperty.call(t,"mh")&&t instanceof Tv)}function Ev(t){t.bh=void 0,t.gh=void 0}function Rv(t,n){var i=t.mh,e=i.wh.gf;if(!Vh(e))throw new h("Readable side is not in a state that permits enqueue");try{Mh(e,n)}catch(t){throw _v(i,t),i.wh.cf}(function(t){return!xh(t)})(e)!==i.jf&&kv(i,!0)}function Iv(t,n){return Xc(t.bh(n),void 0,function(n){throw pv(t.mh,n),n})}function Dv(t){return new h("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function Nv(t){return new h("TransformStream.prototype."+t+" can only be used on a TransformStream")}v.defineProperties(Tv.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof Cc.toStringTag&&v.defineProperty(Tv.prototype,Cc.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});var Ov,Cv=function(t){function n(n){var i;return(i=t.call(this,""+n.join("\n"),n[0])||this).causes=n,i}return vt(n,t),ft(n,[{key:"name",get:function(){return"AggregateError"}}]),n}(on);function Av(t){return n=[t],new Kh({start:function(t){for(var i=0;i<n.length;i++){var e=n[i];t.enqueue(e)}t.close()}});var n}function Pv(t){return Av(new y(t))}function xv(t,n){return function(t,n){var i=n,e=t.getReader(),r=new ls,u=function(){s();var t=new Wr;e.cancel(t).catch(Bt),r.Lu(t)},s=function(){i&&(i.Mr(u),i=void 0)};i&&(i.Or?u():i.Br(u));var o=[];return j.resolve(e.read()).then(function t(n){return n.done?(s(),j.resolve(o)):(o.push(n.value),j.resolve(e.read()).then(t))}).then(function(t){s(),r.xu(t)},function(t){s(),r.Lu(t)}),r.Cu}(t,n).then(function(t){return Eu(t).buffer})}function Lv(t,n){var i=n,e=new mv,r=e.readable,u=e.writable,s=u.getWriter(),o=function(){i&&i.qr()};return s.closed.then(o,o),t.then(function(t){return i=void 0,s.releaseLock(),t.pipeTo(u).catch(Bt)},function(t){return i=void 0,s.releaseLock(),u.abort(t).catch(Bt)}),r}function Bv(t){return rs(new y(t))}function Mv(t){return us(t).buffer}!function(t){t[t.Ka=0]="Ka",t[t.ph=1]="ph"}(Ov||(Ov={}));var Fv="content-type",Uv="text/plain;charset=UTF-8",Vv=function(){function t(){}var n=t.prototype;return n._h=function(t){return this.kh(t).then(JSON.parse)},n.Th=function(t,n){switch(t){case Ic.Ga:return this.Sh(n);case Ic.Ya:return this._h(n);case Ic.Ka:return this.Eh();case Ic.ri:return this.kh(n);default:throw new h}},t}();function qv(t,n,i){if(t instanceof Vv)return t;if(t instanceof Kh)return function(t,n){return new Wv({gr:Ov.Ka,Eh:t,Rh:zv(n)})}(t,i);var e=zv(i),r=j.resolve(t).then(function(t){return function(t,n){if(t){if("string"==typeof t)return{gr:Ic.ri,Ih:t,Rh:n||Uv};if(t instanceof ArrayBuffer||Tu(t))return{gr:Ic.Ga,Ih:Kv(t),Rh:n};if(Ct(t)||Dt(t))return{gr:Ic.Ya,Ih:t,Rh:n};throw new h("Unsupported BodyInit type")}return{gr:Ic.ri,Ih:null,Rh:n}}(t,e)});return new Wv({gr:Ov.ph,Cu:r,Dh:n})}function zv(t){return(t.get(Fv)||"").toLowerCase()}var Wv=function(t){function n(n){var i;return(i=t.call(this)||this).Nh=!1,i.Oh=void 0,i.Ch=new ls,i.Ch.Cu.catch(Bt),i.Ah(n),i}vt(n,t);var i=n.prototype;return i.Ph=function(){return this.Ch.Cu},i.kh=function(t){return this.xh(Hv,t)},i._h=function(t){return this.xh($v,t)},i.Sh=function(t){return this.xh(Gv,t)},i.Eh=function(){return this.Lh((t=this.Oh).gr===Ov.Ka?t.Eh:Lv(t.Cu.then(Yv).then(Pv),t.Dh));var t},i.xh=function(t,n){if(this.Nh)return j.reject(new h("Already used"));this.Nh=!0;var i=t(this.Oh,n);return this.Ch.xu(i.then(Bt)),i},i.Lh=function(t){if(this.Nh)throw new h("Already used");if(t.locked)throw new h("Body stream is locked");this.Nh=!0;var n=new mv,i=j.resolve(t.pipeTo(n.writable));return this.Ch.xu(i),n.readable},i.Ah=function(t){this.Oh=t,t.gr===Ov.ph&&t.Cu.catch(Bt)},i.Bh=function(){if(this.Nh)throw new h("Already used");var t=function(t){if(t.gr===Ov.Ka){var n=t.Eh.tee(),i=n[0],e=n[1];return[{gr:t.gr,Eh:i,Rh:t.Rh},{gr:t.gr,Eh:e,Rh:t.Rh}]}var r=t.Dh.Wr(),u=r[0],s=r[1];return[{gr:t.gr,Cu:t.Cu,Dh:u},{gr:t.gr,Cu:t.Cu,Dh:s}]}(this.Oh),i=t[0],e=t[1];return this.Ah(i),new n(e)},ft(n,[{key:"Mh",get:function(){return this.Nh}}]),n}(Vv);function Hv(t,n){return t.gr===Ov.Ka?xv(t.Eh,n).then(Bv):(n&&t.Dh.zr(n),Yr(t.Cu.then(jv),t.Dh))}function jv(t){switch(t.gr){case Ic.ri:return j.resolve(t.Ih||"");case Ic.Ga:return j.resolve(t.Ih).then(Bv);case Ic.Ya:return j.resolve(t.Ih).then(JSON.stringify)}}function $v(t,n){return t.gr===Ov.Ka?Hv(t,n).then(JSON.parse):(n&&t.Dh.zr(n),Yr(t.Cu.then(Xv),t.Dh))}function Xv(t){return t.gr===Ic.Ya?j.resolve(t.Ih):jv(t).then(JSON.parse)}function Gv(t,n){return t.gr===Ov.Ka?xv(t.Eh,n):(n&&t.Dh.zr(n),Yr(t.Cu.then(Yv),t.Dh))}function Yv(t){switch(t.gr){case Ic.Ga:return j.resolve(t.Ih);case Ic.ri:case Ic.Ya:return jv(t).then(Mv)}}function Kv(t){return t instanceof ArrayBuffer?t:vs(cs(t)).buffer}function Jv(t){return t.Fh>=200&&t.Fh<=299||304===t.Fh}var Qv,Zv,td,nd,id=function(t){function n(n,i){var e,r,u,s,o,c;i?(r=i.Uh,u=i.Vh,s=i.Fh,o=i.qh,c=i.zh):(r=[],u=Ic.ri,s=200,o="OK",c=!1);var a=n.Wh,f=new Dc(n.Uh||r),h=n.Vh||u,v=n.Hh||(i&&i.Wh===a?i.Hh:a.jh),d=i?i.$h:null,l=qv(void 0!==n.Pi?n.Pi:d,n.Dh||new zr,f);return(e=t.call(this,l)||this).Uh=void 0,e.Wh=void 0,e.Hh=void 0,e.Vh=void 0,e.Fh=void 0,e.qh=void 0,e.zh=void 0,e.Uh=f,e.Wh=a,e.Hh=v,e.Vh=h,e.Fh=void 0!==n.Fh?n.Fh:s,e.qh=void 0!==n.qh?String(n.qh):o,e.zh=n.zh||c,e}vt(n,t);var i=n.prototype;return i.Pi=function(t){return this.Th(this.Vh,t)},i.Ru=function(){return new n({Pi:this.Bh(),Wh:this.Wh},this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).$h=void 0,i.$h=n,i}vt(n,t);var i=n.prototype;return i.Ph=function(){return this.$h.Ph()},i.kh=function(t){return this.$h.kh(t)},i._h=function(t){return this.$h._h(t)},i.Sh=function(t){return this.$h.Sh(t)},i.Eh=function(){return this.$h.Eh()},i.Bh=function(){return this.$h.Bh()},ft(n,[{key:"Mh",get:function(){return this.$h.Mh}}]),n}(Vv));!function(t){t.DELETE="DELETE",t.GET="GET",t.HEAD="HEAD",t.OPTIONS="OPTIONS",t.POST="POST",t.PUT="PUT"}(Qv||(Qv={})),function(t){t.Xh="",t.Gh="manifest",t.Yh="segment",t.Kh="content-protection"}(Zv||(Zv={})),function(t){t.Xh="",t.Jh="initialization-segment",t.Qh="fairplay-license",t.Zh="fairplay-certificate",t.tv="widevine-license",t.nv="widevine-certificate",t.ev="playready-license",t.rv="clearkey-license",t.uv="aes128-key"}(td||(td={})),function(t){t.Xh="",t.sv="audio",t.ov="video",t.ri="text",t.cv="image"}(nd||(nd={}));var ed=function(t,n){this.Ih=void 0,this.Uh=void 0,this.av=void 0,this.Vh=void 0,this.fv=void 0,this.Hr=void 0,this.gr=void 0,this.hv=void 0,this.vv=void 0,this.jh=void 0,this.dv=void 0,this.lv=void 0;var i,e,r,u,s,o,c,a,f,h,v,d=t.jh;n?(i=n.Ih,e=n.Uh,r=n.av,u=n.Vh,s=n.fv,o=n.Hr,c=n.gr,a=n.hv,f=n.vv,h=n.dv,v=n.lv):(i=null,e={},r=Qv.GET,u=Ic.ri,s=0,c=Zv.Xh,a=td.Xh,f=nd.Xh,h=!1),this.jh=d,this.Ih=t.Ih||i,this.Uh=new Dc(t.Uh||e),this.av=t.av||r,this.Vh=t.Vh||u,this.fv=void 0!==t.fv?Number(t.fv)||0:s,this.Hr=t.Hr||o||(new zr).Hr,this.gr=t.gr||c,this.hv=t.hv||a,this.vv=t.vv||f,this.dv=void 0!==t.dv?Boolean(t.dv):h,this.lv=t.lv||v},rd=function(){function t(){}var n=t.prototype;return n.Wh=function(t){var n=function(t){return new id({Pi:null,Uh:{},Wh:t,Hh:t.jh,Vh:t.Vh,Fh:0,qh:Rc.Ia})}(new ed(t));return j.resolve(n)},n.wv=function(t){},n.et=function(){},t}();var ud=function(){function t(t,n){void 0===n&&(n=!0),this.gv=void 0,this.yv=void 0,this.gv=t,this.yv=n}var n=t.prototype;return n.Wh=function(t){var n=this.mv(t);return this.gv.Wh(n)},n.wv=function(t){return this.gv.wv(this.bv(t))},n.mv=function(n){var i=new ed(n);if(!this.yv){var e=t.pv(i.jh);i=new ed({jh:e},i)}return i},n.bv=function(n){var i=n.jh;return this.yv||(i=t.pv(i)),{jh:i,Ih:n.Ih}},t.pv=function(t){return st.Ye&&pr(t,"http://")?t.replace(":","s:"):t},n.et=function(){this.gv.et()},ft(t,null,[{key:"_v",get:function(){return t.kv||(t.kv=new t(new rd)),t.kv}}]),t}();function sd(t,n){for(var i=0,e=v.keys(n);i<e.length;i++){var r=e[i];t.searchParams.set(r,n[r])}}function od(t,n){var i=st.We(t);return n&&!_r(i,"/")&&(i+="/"),i}ud.kv=void 0;var cd,ad=/cache:(.+)?(?=&|$)/,fd="http://webcache.googleusercontent.com/search?q=cache:";function hd(t){if(!pr(t,fd))return"";var n=st.ze(t).search.match(ad);return n&&n.length>1?n[1]:""}!function(t){t.Tv="HttpOpenError",t.Sv="HttpResponseError",t.Ev="HttpTimeoutError"}(cd||(cd={}));var vd=function(t){function n(n,i,e){var r;return(r=t.call(this,i,e)||this).Rv=void 0,r.Rv=n,r}return vt(n,t),ft(n,[{key:"Wh",get:function(){return this.Rv}}]),n}(on);var dd=function(t){function n(n,i){return t.call(this,n,"Error while opening "+n.jh+". Invalid URL.",i)||this}return vt(n,t),ft(n,[{key:"name",get:function(){return cd.Tv}}]),n}(vd);var ld=function(t){function n(n,i,e){var r;return(r=t.call(this,n.Wh,null!=e?e:function(t){return"Error while loading "+t.Wh.jh+", status code "+t.Fh}(n),i)||this).Iv=void 0,r.Iv=n,r}return vt(n,t),ft(n,[{key:"name",get:function(){return cd.Sv}},{key:"Dv",get:function(){return this.Iv}}]),n}(vd);var wd=function(t){function n(n,i){return t.call(this,n,function(t){return"Request for "+t.jh+" timed out after "+t.fv+" seconds."}(n),i)||this}return vt(n,t),ft(n,[{key:"name",get:function(){return cd.Ev}}]),n}(vd),gd=function(t,n){return(gd=v.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])})(t,n)};function yd(t,n){function i(){this.constructor=t}gd(t,n),t.prototype=null===n?v.create(n):(i.prototype=n.prototype,new i)}var md="object"==typeof i?i:"object"==typeof t?t:"object"==typeof global?global:null;var bd=function(){var t=md.Blob;if(t)try{return new t,function(t,n){return new md.Blob(t,n)}}catch(t){}var n,i=md.BlobBuilder||md.WebKitBlobBuilder||md.MozBlobBuilder||md.MSBlobBuilder;return i?(n=i,function(t,i){var e=new n;if(t)for(var r=0,u=t;r<u.length;r++){var s=u[r];e.append(s)}return e.getBlob(i&&i.type||"")}):null}(),pd="function"==typeof Kh?Kh:void 0;function _d(t){return t&&"function"==typeof t.getReader}function kd(t){if("function"!=typeof t)return!1;try{var n=!1,i=new t({start:function(){n=!0}});return!!n&&_d(i)}catch(t){return!1}}var Td=function(){function t(t,n){this.sf=t,this.Nv=n}return t.prototype.pull=function(t){var n=this;return this.sf.read().then(function(i){n.Nv&&n.Nv(i),i.done?t.close():t.enqueue(i.value)})},t.prototype.cancel=function(t){return this.sf.cancel(t)},t}();function Sd(t,n){return n.constructor===t?n:new t(new Td(n.getReader()),{highWaterMark:0})}var Ed=function(){function t(t,n){this.Ov=t,this.Cv=n}return t.prototype.pull=function(t){return this.Ov().then(function(n){t.enqueue(new y(n)),t.close()})},t.prototype.cancel=function(t){this.Cv&&this.Cv(t)},t}();function Rd(t,n,i){return new t(new Ed(n,i),{highWaterMark:0})}var Id={searchParams:"URLSearchParams"in md,iterable:"Symbol"in md&&"iterator"in Symbol,blob:"FileReader"in md&&!!bd,formData:"FormData"in md,arrayBuffer:"ArrayBuffer"in md,stream:kd(pd),streamRequest:"Request"in md&&"body"in md.Request.prototype,streamResponse:"Response"in md&&"body"in md.Response.prototype,abort:"AbortController"in md&&"Request"in md&&"signal"in md.Request.prototype,encoding:"TextEncoder"in md&&"TextDecoder"in md,url:"URL"in md&&function(t){try{return new md.URL(t).toString()===t}catch(t){return!1}}("http://example.com/"),firefox:"navigator"in md&&/Firefox\//.test(md.navigator.userAgent)};function Dd(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new h("Invalid character in header field name");return t}function Nd(t){return"string"!=typeof t&&(t=String(t)),t}function Od(t){var n={next:function(){var n=t.shift();return{done:void 0===n,value:n}}};return Id.iterable&&(n[Symbol.iterator]=function(){return n}),n}var Cd=function(){function t(t){var n=this;this.sr={};var i,e=function(t,i){Array.isArray(t)&&2===t.length?n.append(t[0],t[1]):n.append(i,t)};(i=t)&&"function"==typeof i.forEach?t.forEach(e):!function(t){return Id.iterable&&t&&t[Symbol.iterator]}(t)?t&&v.getOwnPropertyNames(t).forEach(function(i){n.append(i,t[i])}):Array.from(t).forEach(e)}return t.prototype.append=function(t,n){t=Dd(t),n=Nd(n);var i=t.toLowerCase();if(this.sr.hasOwnProperty(i)){var e=this.sr[i],r=e[1];e[1]=r?r+", "+n:n}else this.sr[i]=[t,n]},t.prototype.delete=function(t){var n=Dd(t).toLowerCase();delete this.sr[n]},t.prototype.get=function(t){var n=Dd(t).toLowerCase();return this.sr.hasOwnProperty(n)?this.sr[n][1]:null},t.prototype.has=function(t){var n=Dd(t).toLowerCase();return this.sr.hasOwnProperty(n)},t.prototype.set=function(t,n){var i=(t=Dd(t)).toLowerCase();this.sr[i]=[t,Nd(n)]},t.prototype.forEach=function(t,n){for(var i in this.sr)this.sr.hasOwnProperty(i)&&t.call(n,this.sr[i][1],i,this)},t.prototype.keys=function(){var t=[];return this.forEach(function(n,i){t.push(i)}),Od(t)},t.prototype.values=function(){var t=[];return this.forEach(function(n){t.push(n)}),Od(t)},t.prototype.entries=function(){var t=[];return this.forEach(function(n,i){t.push([i,n])}),Od(t)},t.prototype.asList=function(){var t=[];for(var n in this.sr)if(this.sr.hasOwnProperty(n)){var i=this.sr[n],e=i[0],r=i[1];t.push([e,r])}return t},t}();function Ad(){}Id.iterable&&(Cd.prototype[Symbol.iterator]=Cd.prototype.entries);var Pd,xd,Ld,Bd=d.min,Md=String.fromCharCode,Fd=16384;function Ud(t){for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return function(t){for(var n=t.length,i=[],e=0;e<n;e+=Fd){var r=Bd(e+Fd,n);i.push(Md.apply(null,t.slice(e,r)))}return i.join("")}(n)}function Vd(t){if(t>=55296&&t<=57343)throw new f("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function qd(t,n){return t>>n&63|128}function zd(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Vd(t),n.push(t>>12&15|224),n.push(qd(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(qd(t,12)),n.push(qd(t,6))),n.push(63&t|128)):n.push(t)}function Wd(){if(Ld>=xd)throw new f("Invalid byte index");var t=255&Pd[Ld];if(Ld++,128==(192&t))return 63&t;throw new f("Invalid continuation byte")}function Hd(){var t,n;if(Ld>xd)throw new f("Invalid byte index");if(Ld===xd)return!1;if(t=255&Pd[Ld],Ld++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|Wd())>=128)return n;throw new f("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|Wd()<<6|Wd())>=2048)return Vd(n),n;throw new f("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|Wd()<<12|Wd()<<6|Wd())>=65536&&n<=1114111)return n;throw new f("Invalid UTF-8 detected")}var jd=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];function $d(t){return t&&URLSearchParams.prototype.isPrototypeOf(t)}function Xd(t){return t&&ArrayBuffer.prototype.isPrototypeOf(t)}function Gd(t){return t&&DataView.prototype.isPrototypeOf(t)}var Yd,Kd=ArrayBuffer.isView||function(t){return t&&(jd.indexOf(v.prototype.toString.call(t))>-1||Gd(t))};function Jd(t){if(t.bodyUsed)return j.reject(new h("Already used"));t.bodyUsed=!0}function Qd(t){return new j(function(n,i){t.onload=function(){n(t.result)},t.onerror=function(){i(t.error)}})}function Zd(t){return Id.encoding?new md.TextDecoder("utf-8").decode(new y(t)):Ud(function(t){xd=(Pd=t).length,Ld=0;for(var n,i=[];!1!==(n=Hd());)i.push(n);return i}(new y(t)))}function tl(t){return Id.encoding?(new md.TextEncoder).encode(t).buffer:new y(function(t){for(var n=[],i=0,e=t;i<e.length;i++)zd(e[i],n);return n}(function(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&r)<<10)+(1023&u)+65536):(n.push(r),i--)}else n.push(r)}return n}(t))).buffer}function nl(t){var n=t.getReader(),i=[],e=function(t){var r=t.done,u=t.value;return r?j.resolve(i):(i.push(u),n.read().then(e))};return n.read().then(e)}function il(t){return nl(t).then(function(t){return function(t){for(var n=0,i=0,e=t;i<e.length;i++)n+=(c=e[i]).byteLength;for(var r=new y(n),u=0,s=0,o=t;s<o.length;s++){var c=o[s];r.set(c,u),u+=c.byteLength}return r}(t).buffer})}function el(t){return t.slice?t.slice(0):rl(new y(t))}function rl(t){if(t.slice)return t.slice(0).buffer;var n=new y(t.byteLength);return n.set(new y(t.buffer,t.byteOffset,t.byteLength)),n.buffer}function ul(t){var n=new FormData;return t.trim().split("&").forEach(function(t){if(t){var i=t.split("="),e=i.shift().replace(/\+/g," "),r=i.join("=").replace(/\+/g," ");n.append(decodeURIComponent(e),decodeURIComponent(r))}}),n}function sl(t){var n=t;if(n.bodyUsed)throw new h("Already used");if(n.Av===Yd.Pv){if(!n.xv.tee)throw new f("could not clone ReadableStream body");var i=n.xv.tee(),e=i[0],r=i[1];return n.body=e,n.xv=e,n.Lv=e,r}return n.Av===Yd.Ga?el(n.xv):n.Av===Yd.ph?n.xv.then(sl):n.Lv}!function(t){t[t.ri=0]="ri",t[t.Bv=1]="Bv",t[t.Mv=2]="Mv",t[t.Ga=3]="Ga",t[t.Pv=4]="Pv",t[t.ph=5]="ph"}(Yd||(Yd={}));var ol=function(){function t(n,i){this.bodyUsed=!1;var e,r,u,s=this;if(this.Lv=n||null,n)if("string"==typeof n)this.Av=Yd.ri,this.xv=n;else if((u=n)&&"function"==typeof u.then)this.Av=Yd.ph,this.xv=j.resolve(n).then(function(n){return new t(n,i)}),this.xv.catch(Ad);else if(Id.blob&&function(t){return t&&Blob.prototype.isPrototypeOf(t)}(n))this.Av=Yd.Bv,this.xv=n;else if(Id.formData&&function(t){return t&&FormData.prototype.isPrototypeOf(t)}(n))this.Av=Yd.Mv,this.xv=n;else if(Id.searchParams&&$d(n))this.Av=Yd.ri,this.xv=n.toString();else if(Id.arrayBuffer&&(Xd(n)||Kd(n)))Gd(n)&&(this.Lv=new y((r=n).buffer,r.byteOffset,r.byteLength)),this.Av=Yd.Ga,this.xv=Xd(e=n)?el(e):rl(e);else{if(!Id.stream||!_d(n))throw new f("unsupported BodyInit type");n=Sd(pd,n),this.Av=Yd.Pv,this.xv=n,this.Lv=n}else this.Av=Yd.ri,this.xv="";this.Fv="",i.has("content-type")?this.Fv=(i.get("content-type")||"").toLowerCase():("string"==typeof n?this.Fv="text/plain;charset=UTF-8":s.Av===Yd.Bv&&s.xv.type?this.Fv=s.xv.type:Id.searchParams&&$d(n)&&(this.Fv="application/x-www-form-urlencoded;charset=UTF-8"),this.Fv&&i.set("content-type",this.Fv)),Id.stream&&(null==n?this.body=null:s.Av===Yd.Pv?this.body=s.xv:this.body=Rd(pd,function(){return s.arrayBuffer()},function(){s.bodyUsed=!0}))}return t.prototype.text=function(){var t,n,i,e=Jd(this);return e||(this.Av===Yd.Bv?(t=this.xv,n=new FileReader,i=Qd(n),n.readAsText(t),i):this.Av===Yd.Ga?j.resolve(this.xv).then(Zd):this.Av===Yd.Pv?il(this.xv).then(Zd):this.Av===Yd.ph?this.xv.then(function(t){return t.text()}):this.Av===Yd.Mv?j.reject(new f("could not read FormData body as text")):j.resolve(this.xv))},t.prototype.json=function(){return this.text().then(JSON.parse)},t}();Id.blob&&(ol.prototype.blob=function(){var t,n,i=Jd(this);return i||(this.Av===Yd.Bv?j.resolve(this.xv):this.Av===Yd.Ga?j.resolve(bd([this.xv],{type:this.Fv})):this.Av===Yd.Pv?(t=this.xv,n=this.Fv,nl(t).then(function(t){return bd(t,{type:n||""})})):this.Av===Yd.ph?this.xv.then(function(t){return t.blob()}):this.Av===Yd.Mv?j.reject(new f("could not read FormData body as Blob")):j.resolve(bd([this.xv],{type:this.Fv})))}),Id.arrayBuffer&&(ol.prototype.arrayBuffer=function(){var t,n,i;return this.Av===Yd.Ga?Jd(this)||j.resolve(this.xv):this.Av===Yd.Bv?Jd(this)||(t=this.xv,n=new FileReader,i=Qd(n),n.readAsArrayBuffer(t),i):this.Av===Yd.Pv?il(this.xv):this.Av===Yd.ph?Jd(this)||this.xv.then(function(t){return t.arrayBuffer()}):this.Av===Yd.Mv?j.reject(new f("could not read FormData body as ArrayBuffer")):j.resolve(this.xv).then(tl)}),Id.formData&&(ol.prototype.formData=function(){return this.Av===Yd.Mv?Jd(this)||j.resolve(this.xv):this.text().then(ul)});var cl=[301,302,303,307,308],al=function(t){function n(n,i){var e=this,r=new Cd((i=i||{}).headers);return(e=t.call(this,n||null,r)||this).type="default",e.status=void 0===i.status?200:i.status,e.ok=e.status>=200&&e.status<300,e.statusText=void 0!==i.statusText?String(i.statusText):"",e.headers=r,e.url=i.url||"",e}return yd(n,t),n.prototype.clone=function(){return new n(sl(this),{status:this.status,statusText:this.statusText,headers:new Cd(this.headers),url:this.url})},n.error=function(){var t=new n(null,{status:0,statusText:""});return t.type="error",t},n.redirect=function(t,i){if(-1===cl.indexOf(i))throw new RangeError("Invalid status code");return new n(null,{status:i,headers:{location:t}})},n}(ol);var fl,hl=function(t,n){return t(n={exports:{}},n.exports),n.exports}(function(t,n){function i(t,n){if(!(t instanceof n))throw new h("Cannot call a class as a function")}function r(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),v.defineProperty(t,e.key,e)}}function u(t,n,i){return n&&r(t.prototype,n),i&&r(t,i),t}function o(t){return(o=v.setPrototypeOf?v.getPrototypeOf:function(t){return t.__proto__||v.getPrototypeOf(t)})(t)}function c(t,n){return(c=v.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t,n,i){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,i){var e=function(t,n){for(;!v.prototype.hasOwnProperty.call(t,n)&&null!==(t=o(t)););return t}(t,n);if(e){var r=v.getOwnPropertyDescriptor(e,n);return r.get?r.get.call(i):r.value}})(t,n,i||t)}v.defineProperty(n,"__esModule",{value:!0});var d=function(){function t(){i(this,t),v.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return u(t,[{key:"addEventListener",value:function(t,n){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(n)}},{key:"removeEventListener",value:function(t,n){if(t in this.listeners)for(var i=this.listeners[t],e=0,r=i.length;e<r;e++)if(i[e]===n)return void i.splice(e,1)}},{key:"dispatchEvent",value:function(t){var n=this;if(t.type in this.listeners){for(var i=function(i){s(function(){return i.call(n,t)})},e=this.listeners[t.type],r=0,u=e.length;r<u;r++)i(e[r]);return!t.defaultPrevented}}}]),t}(),l=function(t){function n(){var t,e,r;return i(this,n),e=this,(t=!(r=o(n).call(this))||"object"!=typeof r&&"function"!=typeof r?a(e):r).listeners||d.call(a(t)),v.defineProperty(a(t),"aborted",{value:!1,writable:!0,configurable:!0}),v.defineProperty(a(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new h("Super expression must either be null or a function");t.prototype=v.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&c(t,n)}(n,d),u(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),f(o(n.prototype),"dispatchEvent",this).call(this,t)}}]),n}(),w=function(){function t(){i(this,t),v.defineProperty(this,"signal",{value:new l,writable:!0,configurable:!0})}return u(t,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(n){void 0!==e?e.createEvent?(t=e.createEvent("Event")).initEvent("abort",!1,!1):(t=e.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(w.prototype[Symbol.toStringTag]="AbortController",l.prototype[Symbol.toStringTag]="AbortSignal"),n.AbortSignal=l,n.AbortController=w,n.default=w});(fl=hl)&&fl.__esModule&&v.prototype.hasOwnProperty.call(fl,"default")&&fl.default;hl.AbortSignal;var vl=hl.AbortController,dl=md.DOMException;try{new dl}catch(t){(dl=function(t,n){f.call(this,t),this.name=n||"Error",f.captureStackTrace&&f.captureStackTrace(this,this.constructor)}).prototype=v.create(f.prototype),dl.prototype.constructor=dl}var ll=vl;function wl(t,n){if(!t.signal.aborted)if(n.aborted)t.abort();else{var i=function(){n.removeEventListener("abort",i),t.signal.removeEventListener("abort",i),t.abort()};n.addEventListener("abort",i),t.signal.addEventListener("abort",i)}}function gl(t,n,i){return new j(function(e,r){if(n.signal.aborted)return t.catch(Ad),r(yl());var u=function(){n.signal.removeEventListener("abort",u),r(yl())};n.signal.addEventListener("abort",u),t.then(function(t){n.signal.removeEventListener("abort",u),e(t),i&&n.abort()},function(t){n.signal.removeEventListener("abort",u),r(t),i&&n.abort()})})}function yl(){return new dl("Aborted","AbortError")}var ml,bl="moz-chunked-arraybuffer";function pl(t){try{var n=new m;return n.open("GET","https://test"),n.responseType=t,n.responseType===t}catch(t){}return!1}!function(t){t[t.UNSENT=0]="UNSENT",t[t.OPENED=1]="OPENED",t[t.HEADERS_RECEIVED=2]="HEADERS_RECEIVED",t[t.LOADING=3]="LOADING",t[t.DONE=4]="DONE"}(ml||(ml={}));var _l=function(){function t(t,n){var i=this;this.Uv=!1,this.Rv=t,this.Vv=n,this.qv=new m,this.zv=new j(function(t,n){i.Wv=t,i.Hv=n})}return t.prototype.send=function(){var t=this;return this.jv().then(function(n){return t.$v(n,t.Vv),t.zv})},t.prototype.jv=function(){var t=this.Rv;return t.Av===Yd.Pv?t.arrayBuffer():j.resolve(t.Lv)},t.prototype.Xv=function(t){this.Rv.onprogress&&this.Rv.onprogress(t.loaded,t.lengthComputable?t.total:void 0)},t.prototype.Gv=function(t){this.Hv(t)},t.prototype.Yv=function(){this.Gv(new h("Network request failed"))},t.prototype.Kv=function(){this.Gv(new h("Network request failed"))},t.prototype.Jv=function(){this.Gv(yl())},t.prototype.$v=function(t,n){var i=this,e=this.Rv,r=this.qv,u=function(){return i.Qv()};if(e.signal.aborted)return this.Jv();r.onreadystatechange=function(){if(r.readyState>=ml.HEADERS_RECEIVED&&!i.Uv){var t=function(t){var n=new Cd;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var i=t.split(":"),e=i.shift().trim();if(e){var r=i.join(":").trim();n.append(e,r)}}),n}(r.getAllResponseHeaders()||""),n={status:r.status,statusText:r.statusText,headers:t,url:r.responseURL||t.get("X-Request-URL")};i.Uv=!0,i.Zv(n)}},r.onprogress=function(t){return i.Xv(t)},r.onload=function(){return i.td()},r.onerror=function(){return i.Yv()},r.ontimeout=function(){return i.Kv()},r.onabort=function(){return i.Jv()},r.open(e.method,e.url,!0),r.withCredentials="include"===e.credentials,"responseType"in r&&n&&(r.responseType=n),e.headers.forEach(function(t,n){r.setRequestHeader(n,t)}),e.signal.addEventListener("abort",u),r.onloadend=function(){e.signal.removeEventListener("abort",u)},t?r.send(t):r.send()},t.prototype.Qv=function(){this.Jv(),this.qv.abort()},t}(),kl=function(t){function n(n,i){var e=t.call(this,n,i)||this;return e.nd=void 0,e.ed=void 0,e}return yd(n,t),n.prototype.Zv=function(t){var n=this;this.nd=new j(function(t,i){n.ed=t,n.rd=i}),this.Wv(new al(this.nd,t))},n.prototype.td=function(){var t=this.qv.response;if(null==t){var n=this.Vv;""===n||"text"===n?t=this.qv.responseText:"document"===n?t=this.qv.responseXML:"arraybuffer"===n?t=new ArrayBuffer(0):"blob"===n&&(t=bd([]))}this.ed(t)},n.prototype.Gv=function(n){t.prototype.Gv.call(this,n),this.rd&&this.rd(n)},n}(_l),Tl=function(t){function n(n){var i=t.call(this,n,bl)||this;return i.ud=void 0,i.sd=void 0,i.od=!1,i}return yd(n,t),n.prototype.Zv=function(t){var n=this;this.ud=new pd({start:function(t){n.sd=t},cancel:function(){n.od=!0,n.Qv()}}),this.Wv(new al(this.ud,t))},n.prototype.Xv=function(n){this.od||this.sd.enqueue(new y(this.qv.response)),t.prototype.Xv.call(this,n)},n.prototype.td=function(){this.sd.close()},n.prototype.Gv=function(n){t.prototype.Gv.call(this,n),this.sd&&!this.od&&(this.od=!0,this.sd.error(n))},n}(_l),Sl=function(){var t=Id.firefox&&pl(bl);return Sl=function(){return t},t},El=function(){var t;return t=Id.arrayBuffer&&pl("arraybuffer")?"arraybuffer":Id.blob&&pl("blob")?"blob":"",El=function(){return t},t};function Rl(t){return(Id.stream&&Sl()?new Tl(t):new kl(t,El())).send()}var Il=md.fetch,Dl=md.Request,Nl=(md.Response,md.AbortController);var Ol=["http:","https:"];var Cl=function(){try{if(Id.streamRequest){var t=new Dl("about:blank",{body:"",method:"POST"}).body;if(t&&kd(t.constructor))return t.constructor}}catch(t){}}();function Al(t,n,i){var e;if(Id.stream){var r=void 0;if(Id.streamResponse){var u=t.body;r=u&&Sd(pd,u)}else r=Rd(pd,function(){return gl(t.arrayBuffer(),n,!0)},function(){n.abort()});r&&i&&(r=function(t,n,i){var e=0;return function(t,n,i){return new t(new Td(n.getReader(),i),{highWaterMark:0})}(pd,t,function(t){var r=t.done,u=t.value;r?i=void 0===i?e:i:e+=u.byteLength,n(e,i)})}(r,i,Pl(t.headers))),e=r}else{var s=gl(t.arrayBuffer(),n,!0);i&&(s=function(t,n,i){return j.resolve().then(function(){return n(0,i),t}).then(function(t){var e=t.byteLength;return n(e,i=void 0===i?e:i),t})}(s,i,Pl(t.headers))),e=s}return new al(e,t)}function Pl(t){return t.has("content-length")?Number(t.get("content-length")):void 0}function xl(t){var n=new ll;return t.signal&&wl(n,t.signal),function(t,n){var i,e,r=t;if(i=r.Av===Yd.Pv?Id.streamRequest&&Cl?j.resolve(Sd(Cl,r.xv)):gl(t.arrayBuffer(),n,!1):gl(j.resolve(t.Lv),n,!1),Id.abort){var u=new Nl;wl(u,n.signal),e=u.signal}return i.then(function(n){return new Dl(t.url,{body:n||void 0,credentials:t.credentials,headers:(i=t.headers,(i instanceof Cd?i:new Cd(i)).asList()),method:t.method,mode:t.mode,referrer:t.referrer,referrerPolicy:t.referrerPolicy,signal:e});var i})}(t,n).then(function(i){return Il(i).then(function(i){return Al(i,n,t.onprogress)})})}var Ll=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];var Bl=function(t){function n(i,e){var r,u,s,o,c,a,f,v,d,l=this,w=(e=e||{}).body||null;if(i instanceof n){if(i.bodyUsed)throw new h("Already used");r=i.url,u=i.credentials,e.headers||(s=new Cd(i.headers)),o=i.method,c=i.mode,a=i.referrer,f=i.referrerPolicy,v=i.signal,d=i.onprogress,w||null==i.Lv||(w=i.Lv,i.bodyUsed=!0)}else r=String(i),u="same-origin",o="GET",c="cors",a="about:client",f="",v=null,d=null;if(!e.headers&&s||(s=new Cd(e.headers)),e&&(a="about:client",f=""),(l=t.call(this,w,s)||this).url=r,l.headers=s,l.credentials=e.credentials||u,l.method=function(t){var n=t.toUpperCase();return Ll.indexOf(n)>-1?n:t}(e.method||o),l.mode=e.mode||c,l.signal=e.signal||v||(new ll).signal,l.referrer=void 0!==e.referrer?e.referrer:a,l.referrerPolicy=void 0!==e.referrerPolicy?e.referrerPolicy:f,l.onprogress=e.onprogress||d,("GET"===l.method||"HEAD"===l.method)&&w)throw new h("Body not allowed for GET or HEAD requests");return l}return yd(n,t),n.prototype.clone=function(){return new n(this,{body:sl(this)})},n}(ol),Ml="function"==typeof Il&&Id.stream&&Id.streamResponse&&Id.url;function Fl(t,n){return new j(function(i){var e=new Bl(t,n);i((Ml&&function(t){try{return Ol.indexOf(new md.URL(t,md.location.href).protocol)>=0}catch(t){return!1}}(e.url)?xl:Rl)(e))})}Fl.polyfill=!0;var Ul=function(){function t(t){this.Dv=void 0,this.Rv=void 0,this.Xf=new zr,this.Iv=void 0,this.fd=!1,this.Rv=t,this.Xf.zr(t.Hr),this.Dv=this.hd()}var n=t.prototype;return n.hd=function(){var t,n,i,e,r,u,o,c,a=this;return We.async(function(f){for(;;)switch(f.prev=f.next){case 0:(t=this.Rv).fv&&s(function(){a.fd=!0,a.Xf.qr()},t.fv),f.prev=2,n=Fl(t.jh,{method:t.av,headers:t.Uh.Ja(),body:t.Ih,credentials:t.dv?"include":"same-origin",signal:zl(this.Xf.Hr),onprogress:t.lv}),f.next=9;break;case 6:throw f.prev=6,f.t0=f.catch(2),new dd(t,f.t0);case 9:return f.prev=9,f.next=12,We.awrap(n);case 12:i=f.sent,f.next=20;break;case 15:throw f.prev=15,f.t1=f.catch(9),Hr(e=this.vd(f.t1))&&this.Xf.qr(),e;case 20:if(r=i.url||t.jh,u=0===i.status&&"file:"===(h=r,st.ze(h).protocol)?200:i.status,o=new Vl(this,i,this.Xf),c=new id({Pi:o,Wh:t,Vh:t.Vh,Uh:new Dc(i.headers.asList()),Fh:u,qh:i.statusText,Hh:r}),this.Iv=c,!Jv(c)){f.next=29;break}return f.abrupt("return",c);case 29:throw new ld(c);case 30:case"end":return f.stop()}var h},null,this,[[2,6],[9,15]],j)},n.vd=function(t){return Hr(t)?this.fd?new wd(this.Rv):new Wr(t.message,t):this.Iv?new ld(this.Iv,t):new dd(this.Rv,t)},t}(),Vl=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).dd=void 0,r.ld=void 0,r.Xf=void 0,r.Ch=new ls,r.dd=n,r.ld=i,r.Xf=e,r.Ch.Cu.catch(Bt),r}vt(n,t);var i=n.prototype;return i.Ph=function(){return this.Ch.Cu},i.kh=function(t){return this.xh(this.ld.text(),t)},i.Sh=function(t){return this.xh(this.ld.arrayBuffer(),t)},i.Eh=function(){var t=this.ld.body;return t?this.Lh(t):Lv(this.Sh().then(Pv),this.Xf)},i.Bh=function(){var t=this.ld.clone(),i=this.Xf.Wr(),e=i[0],r=i[1];return this.Xf=e,new n(this.dd,t,r)},i.xh=function(t,n){var i=this;n&&this.Xf.zr(n);var e=j.resolve(t).catch(function(t){throw i.dd.vd(t)});return e=Yr(e,this.Xf),this.Ch.xu(e.then(Bt)),e},i.Lh=function(t){var n=this,i=new mv,e=j.resolve(t.pipeTo(i.writable,{preventAbort:!0})).catch(function(t){var e=n.dd.vd(t);throw i.writable.abort(e).catch(Bt),e});return e=Yr(e,this.Xf),this.Ch.xu(e.then(Bt)),i.readable},ft(n,[{key:"Mh",get:function(){return this.ld.bodyUsed}}]),n}(Vv),ql="abort";function zl(t){var n=new ll;if(t.Or)n.abort();else if(!t.Cr){var i=function(){e(),n.abort()},e=function e(){n.signal.removeEventListener(ql,i),t.Mr(i),t.Ur(e)};n.signal.addEventListener(ql,i),t.Br(i),t.Fr(e)}return n.signal}var Wl,Hl=function(){function t(){}var n=t.prototype;return n.Wh=function(t){return new Ul(t).Dv},n.wv=function(t){if(nt&&nt.sendBeacon)nt.sendBeacon(t.jh,Sc([t.Ih],{type:t.Rh}));else{var n=t.Rh?{"Content-type":t.Rh}:void 0;Qr(this.Wh(new ed({av:Qv.POST,jh:t.jh,Ih:t.Ih,Uh:n})))}},n.et=function(){},t}(),jl=function(n){function i(){for(var i,e=arguments.length,r=new Array(e),u=0;u<e;u++)r[u]=arguments[u];return(i=n.call.apply(n,[this].concat(r))||this).wd=void 0,i.gd=function(){if(St.kn)return!1;try{return"body"in t.Response.prototype}catch(t){return!1}}(),i.yd=St.jn,i.md=void 0,i}return vt(i,n),ft(i,[{key:"Le",get:function(){return this.wd||(this.wd=new Nr(pc())),this.wd}},{key:"bd",get:function(){return this.gd}},{key:"pd",get:function(){return this.yd}},{key:"_d",get:function(){return!1}},{key:"kd",get:function(){return kc.fa()}},{key:"Td",get:function(){return{Sd:Ec}}},{key:"Ed",get:function(){return u.connection&&u.connection.effectiveType||"default"}},{key:"Rd",get:function(){return u.connection&&u.connection.type||"unknown"}},{key:"Id",get:function(){return this.md||(this.md=new ud(new Hl)),this.md}}]),i}(qe);dt(new jl),function(t){t.Dd="Nd",t.Od="Cd"}(Wl||(Wl={}));Wl.Dd,Wl.Od;var $l=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).Ad=void 0,e}return vt(n,t),ft(n,[{key:"Pd",get:function(){return this.Ad||(this.Ad=this.xd()),this.Ad}}]),n}(uu);var Xl,Gl=function(t){function n(n){return t.call(this,n)||this}return vt(n,t),n}($l),Yl=function(t){function n(n){return t.call(this,n)||this}return vt(n,t),n}(uu),Kl=function(t){function n(n){var i;return(i=t.call(this,Wl.Dd)||this).Ld=n,i}return vt(n,t),n.prototype.xd=function(){return new Jl(this.Ld.Pd)},n}(Gl),Jl=function(t){function n(n){var i;return(i=t.call(this,"addtrack")||this).track=n,i}return vt(n,t),n}(Yl),Ql=function(t){function n(n){var i;return(i=t.call(this,Wl.Od)||this).Ld=n,i}return vt(n,t),n.prototype.xd=function(){return new Zl(this.Ld.Pd)},n}(Gl),Zl=function(t){function n(n){var i;return(i=t.call(this,"removetrack")||this).track=n,i}return vt(n,t),n}(Yl);!function(t){t.Bd="Md",t.Fd="Ud",t.Vd="qd",t.zd="Wd",t.Hd="jd",t.$d="Xd",t.Gd="Yd",t.Kd="Jd",t.Qd="sc",t.Zd="tl",t.nl="il",t.QUALITY_UNAVAILABLE="qualityunavailable",t.NO_QUALITY="noquality"}(Xl||(Xl={}));var tw=function(t){function n(){var n;return(n=t.call(this)||this).ul=[],n.Ad=void 0,n}vt(n,t);var i=n.prototype;return i.sl=function(t){return this.ul[t]},i.ol=function(t){return!(!t||Ur(this.ul,t))&&(this.ul.push(t),this.Ad&&this.Ad.push(t.Pd),t.Kr(Xl.$d,this.Gr),this.Yr(new Kl(t)),!0)},i.cl=function(t){if(!t)return!1;var n=this.ul.indexOf(t);return!(n<0)&&(Fr(this.ul,n),this.Ad&&Fr(this.Ad,n),t.tu(Xl.$d,this.Gr),this.Yr(new Ql(t)),!0)},i.al=function(t){return Ur(this.ul,t)},i.fl=function(){for(var t=this.ul,n=t.length-1;n>=0;n-=1)this.cl(t[n])},i.et=function(){this.fl(),this.Zr()},ft(n,[{key:"hl",get:function(){return this.ul}},{key:"Pd",get:function(){return this.Ad||(this.Ad=this.xd()),this.Ad}},{key:"vl",get:function(){return this.ul.length}}]),n}(eu),nw=function(t){function n(n){var i;return(i=t.call(this,Xl.$d)||this).Ld=n,i}return vt(n,t),n.prototype.xd=function(){return new iw(this.Ld.Pd)},n}(Gl),iw=function(t){function n(n){var i;return(i=t.call(this,"change")||this).track=n,i}return vt(n,t),n}(Yl),ew=function(t){function n(){var n;return(n=t.call(this)||this).dl=void 0,n.ll=function(t){var i=t.Ld;n.ol(i)},n.wl=function(t){var i=t.Ld;n.cl(i)},n}vt(n,t);var i=n.prototype;return i.gl=function(t){t.Kr(Wl.Dd,this.ll),t.Kr(Wl.Od,this.wl)},i.yl=function(t){t.tu(Wl.Dd,this.ll),t.tu(Wl.Od,this.wl)},i.et=function(){this.dl&&this.dl.et(),t.prototype.et.call(this)},ft(n,[{key:"ml",get:function(){return this.dl},set:function(t){var n=this.dl;if(t!==n){if(n){this.yl(n);for(var i=0,e=n.hl;i<e.length;i++){var r=e[i];t&&t.al(r)||this.cl(r)}}if(this.dl=t,t){for(var u=[],s=0,o=t.hl;s<o.length;s++){var c=o[s];this.ol(c),this.bl(c)&&u.push(c)}this.gl(t);for(var a=0;a<u.length;a++){var f=u[a];f.Yr(new nw(f))}}}}}]),n}(tw),rw=v.freeze||Mt;function uw(t,n,i){v.defineProperty(t,n,{writable:!1,enumerable:!0,value:i})}function sw(t,n){for(var i=0,e=v.getOwnPropertyNames(n);i<e.length;i++){var r=e[i];v.defineProperty(t,r,v.getOwnPropertyDescriptor(n,r))}return t}function ow(t){if(Ct(t)){var n={};for(var i in t)Et.call(t,i)&&(n[i]=ow(t[i]));return n}if(Dt(t)){for(var e=new Array(t.length),r=0;r<e.length;r++)r in t&&(e[r]=ow(t[r]));return e}return t}function cw(t,n){return t===n||!(!t||!n)&&(!(!Ot(t)||!Ot(n))&&(Nt(t)?!!Nt(n)&&function(t,n){var i=t.length,e=n.length;if(i!==e)return!1;for(var r=0;r<i;r+=1)if(!cw(t[r],n[r]))return!1;return!0}(t,n):!Nt(n)&&function(t,n){var i=v.keys(t),e=v.keys(n);if(!i||!e||i.length!==e.length)return!1;for(var r=0;r<i.length;r++){var u=i[r];if(!Et.call(n,u)||!cw(t[u],n[u]))return!1}return!0}(t,n)))}function aw(t,n){return t.constructor===n.constructor}function fw(t){for(var n={},i=0,e=v.keys(t);i<e.length;i++){var r=e[i],u=t[r];null!=u&&(n[r]=u)}return n}function hw(t){var n=t;if("string"==typeof n){if("true"===(n=n.toLowerCase()))return!0;if("false"===n)return!1}return Boolean(n)}function vw(t){return"string"==typeof t?""===t?NaN:Number(t):"boolean"==typeof t||null==t||t instanceof Date||"number"!=typeof Number(t)&&!t?NaN:Number(t)}function dw(t){var n=vw(t);if(g(n))throw new f("Expected a valid number.");return n}function lw(t){return"string"==typeof t?t:""}function ww(t,n){if(!Nt(t))return[];for(var i=0|t.length,e=new Array(i),r=0;r<i;r++)e[r]=n(t[r]);return e}function gw(t,n){return Nt(t)?ww(t,n):n(t)}var yw=[Wl.Dd,Wl.Od,Xl.$d];function mw(t){var n,i=t.hl.map(function(t){return t.Pd});return i.item=function(n){var i=0|n,e=t.sl(i);return e&&e.Pd||void 0},i.addEventListener=function(t,i){n.Kr(t,i)},i.removeEventListener=function(t,i){n.tu(t,i)},n=new ru(i),t.Kr(yw,function(t){return n.Yr(t.Pd)}),i}function bw(){}function pw(t){var n,i=[Xl.Qd,Xl.$d,Xl.Zd,Xl.nl,Xl.QUALITY_UNAVAILABLE],e={get activeQuality(){return t.pl&&t.pl.Pd},get enabled(){return t._l},set enabled(n){t._l=hw(n)},get id(){return t.kl},get uid(){return t.Tl},get kind(){return t.Sl},get label(){return t.El},set label(n){t.El=lw(n)},get language(){return t.Rl},get qualities(){return t.Il.Pd},set targetQuality(n){var i;(i=n?function(t,n){for(var i=[],e=0,r=t.Il.hl;e<r.length;e++)for(var u=r[e],s=0;s<n.length;s++){var o=n[s];u.Pd===o&&i.push(u)}return i}(t,Dt(n)?n:[n]):[]).length>0?t.Dl=i:t.Dl=void 0},get targetQuality(){if(t.Dl)return 1===t.Dl.length?t.Dl[0].Pd:t.Dl.map(function(t){return t.Pd})},addEventListener:function(t,i){var e=gw(t,lw);n.Kr(e,i)},removeEventListener:function(t,i){var e=gw(t,lw);n.tu(e,i)}};return n=new ru(e),t.Kr(i,function(t){return n.Yr(t.Pd)}),v.defineProperty(e,"constructor",{value:bw}),e}function _w(){}function kw(t){var n=mw(t);return v.defineProperty(n,"constructor",{value:_w}),n}var Tw,Sw,Ew=function(t){function n(){return t.apply(this,arguments)||this}vt(n,t);var i=n.prototype;return i.xd=function(){return kw(this)},i.bl=function(t){return t._l},n}(ew);function Rw(){}function Iw(t){var n,i=[Xl.$d,Xl.Qd,Xl.Bd,Xl.Fd,Xl.Vd,Xl.zd,Xl.Hd,Xl.Gd,Xl.Kd],e=[Sw.Nl],r={get kind(){return t.Sl},get label(){return t.El},set label(n){t.El=lw(n)},get language(){return t.Rl},get id(){return t.kl},get uid(){return t.Tl},get inBandMetadataTrackDispatchType(){return t.Ol},get mode(){return t.Cl},set mode(n){n!==Tw.Al&&n!==Tw.Pl&&n!==Tw.xl||t.Ll(n)},get forced(){return Boolean(t.Bl)},get type(){return t.gr},get readyState(){return Ow(t.Ml)},get cues(){return t.Cl===Tw.xl?null:t.Fl.Pd},get activeCues(){return t.Cl===Tw.xl?null:t.Ul.Pd},get src(){return t.Vl||""},addEventListener:function(t,i){var e=gw(t,lw);n.Kr(e,i)},removeEventListener:function(t,i){var e=gw(t,lw);n.tu(e,i)}};return n=new ru(t),t.Kr(i,function(t){return n.Yr(t.Pd)}),t.Kr(e,function(t){return n.Yr(t)}),v.defineProperty(r,"constructor",{value:Rw}),r}function Dw(){}function Nw(t){var n=mw(t);return v.defineProperty(n,"constructor",{value:Dw}),n}function Ow(t){return t}!function(t){t.xl="disabled",t.Pl="hidden",t.Al="showing"}(Tw||(Tw={})),function(t){t.Nl="error"}(Sw||(Sw={}));var Cw=function(t){function n(){return t.apply(this,arguments)||this}vt(n,t);var i=n.prototype;return i.xd=function(){return Nw(this)},i.bl=function(t){return t.Cl===Tw.Al},n}(ew),Aw=function(t){function n(){return t.apply(this,arguments)||this}vt(n,t);var i=n.prototype;return i.Qr=function(n){t.prototype.Qr.call(this,n)},i.eu=function(n){t.prototype.eu.call(this,n)},n}(eu),Pw=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n}(Aw),xw=function(t){function n(){return t.call(this,Rc.ka)||this}return vt(n,t),n}(uu),Lw=function(t){function n(n){var i;return(i=t.call(this,Rc.ya)||this).currentSource=n,i}return vt(n,t),n}(uu),Bw=function(){function t(){}return t.ql=function(n,i){var e=t.zl(n,i);return e?t.Wl(e):0},t.Hl=function(){return st.Ed||"default"},t.jl=function(){return st.Rd||"unknown"},t.zl=function(n,i){var e,r=null==(e=st.kd)?void 0:e.mu(i),u=r&&JSON.parse(r);if(u&&u[n])return t.$l(u,n,i)},t.Wl=function(t){var n=t.availableBandwidth;return n||0},t.$l=function(n,i,e){if(!t.Xl(n,i))return n[i];t.Gl(n,i,e)},t.Gl=function(t,n,i){var e;delete t[n],null==(e=st.kd)||e.aa(i,JSON.stringify(t))},t.Xl=function(t,n){var i=t[n].storedTimestamp;if(!i)return!1;var e=new Date(i),r=(new Date).getTime();return e.setMonth(e.getMonth()+1)<=r},t.Yl=function(t,n,i,e){var r;return He({},t,((r={})[n]={availableBandwidth:i,storedTimestamp:e},r))},t.Kl=function(n){var i=t.Hl();t.Jl(i,"theoplayer-stored-network-info",n,tn())},t.Jl=function(n,i,e,r){var u,s,o=null==(u=st.kd)?void 0:u.mu(i),c=o?JSON.parse(o):void 0,a=t.Yl(c,n,e,r);null==(s=st.kd)||s.aa(i,JSON.stringify(a))},t.Ql=function(){var n=t.Hl();return t.ql(n,"theoplayer-stored-network-info")},t}();var Mw,Fw,Uw,Vw,qw,zw,Ww="1ADD53F3";function Hw(t){return{chromecast:function(t){return{appID:t&&t.appID?lw(t.appID):Ww}}(t?t.chromecast:void 0),strategy:function(t){switch(t){case"auto":return Mw.AUTO;case"manual":return Mw.MANUAL;case"disabled":return Mw.DISABLED;default:return Mw.MANUAL}}(t?t.strategy:void 0)}}function jw(t){var n,i=Uw.Zl;return(n=t)&&br(n,"mpd")&&(i=Uw.tw),function(t){return!!t&&br(t,"m3u8")}(t)&&(i=Uw.nw),i}function $w(t){return Ot(t)&&Ot(t.ssai)&&"google-dai"===t.ssai.integration}function Xw(t){return Ot(t)&&At(t.integration)&&"verizon-media"===t.integration}function Gw(t){if(At(t))return!t;if(Xw(t))return!t.id;if($w(t)){var n=t.ssai,i="live"===n.availabilityType&&n.assetKey,e="vod"===n.availabilityType&&n.contentSourceID&&n.videoID;return Boolean(i&&e)}return!t.src}function Yw(t){return Boolean(Ot(t)&&At(t.src))}function Kw(t){return At(t)||Yw(t)||$w(t)||Xw(t)}function Jw(t){if(t){if(Kw(t))return Gw(t);for(var n=0;n<t.length;n++){if(!Gw(t[n]))return!1}return!0}return!0}function Qw(){return{crossOrigin:Fw.iw,useCredentials:!1,liveOffset:void 0,timeServer:void 0,hlsDateRange:void 0,experimentalRendering:!1,nativeUiRendering:!1,lowLatency:!1,useNativePlayback:!1,dash:void 0,hls:void 0,abr:void 0}}function Zw(){return He({},Qw(),{src:void 0,type:Uw.Zl,contentProtection:void 0,ssai:void 0,integrationData:void 0,isAdvertisement:void 0})}function tg(t){var n={allowedMimeTypes:void 0,preload:"midroll-and-postroll",showCountdown:!0,vpaidMode:Vw.ENABLED,googleImaConfiguration:{useNativeIma:!1}};return void 0===t?n:(void 0!==t.preload&&(n.preload=function(t){switch(t){case"none":return qw.NONE;case"midroll-and-postroll":default:return qw.MIDROLL_AND_POSTROLL}}(t.preload)),void 0!==t.showCountdown&&(n.showCountdown=hw(t.showCountdown)),void 0!==t.vpaidMode&&(n.vpaidMode=function(t){switch(t){case"insecure":return Vw.INSECURE;case"disabled":return Vw.DISABLED;case"enabled":default:return Vw.ENABLED}}(t.vpaidMode)),Dt(t.allowedMimeTypes)&&(n.allowedMimeTypes=t.allowedMimeTypes.filter(At)),void 0!==t.googleImaConfiguration&&(n.googleImaConfiguration=function(t){return void 0===t?{useNativeIma:!1}:{useNativeIma:hw(t.useNativeIma)}}(t.googleImaConfiguration)),n)}function ng(t){if(!Nt(t))return[];for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];Ct(r)&&n.push(r)}return n}function ig(t){return At(t.src)}!function(t){t.AUTO="auto",t.MANUAL="manual",t.DISABLED="disabled"}(Mw||(Mw={})),function(t){t.iw="",t.ew="anonymous",t.rw="use-credentials"}(Fw||(Fw={})),function(t){t.tw="application/dash+xml",t.nw="application/vnd.apple.mpegurl",t.uw="application/x-mpegurl",t.Zl="video/mp4",t.sw="application/vnd.theoplayer.hesp+json",t.ow="application/vnd.theo.hesp+json"}(Uw||(Uw={})),function(t){t.ENABLED="enabled",t.INSECURE="insecure",t.DISABLED="disabled"}(Vw||(Vw={})),function(t){t.NONE="none",t.MIDROLL_AND_POSTROLL="midroll-and-postroll"}(qw||(qw={})),function(t){t[t.cw=0]="cw",t[t.aw=1]="aw",t[t.fw=2]="fw",t[t.hw=3]="hw",t[t.vw=4]="vw"}(zw||(zw={}));var eg,rg=function(t){function n(n,i){var e;return void 0===i&&(i=zw.cw),(e=t.call(this,Rc.pa)||this).currentTime=n,e.readyState=i,e}return vt(n,t),n}(uu),ug=function(t){function n(n){var i;return(i=t.call(this,Rc.Na)||this).currentTime=n,i}return vt(n,t),n}(uu),sg=function(t){function n(n){var i;return(i=t.call(this,Rc.Oa)||this).currentTime=n,i}return vt(n,t),n}(uu);!function(t){t.dw="canplay",t.lw="canplaythrough",t.ww="loadeddata",t.gw="loadedmetadata",t.Gd="readystatechange",t.yw="waiting",t.mw="playing"}(eg||(eg={}));var og,cg,ag=[eg.dw,eg.lw,eg.ww,eg.gw,eg.Gd,eg.yw,eg.mw],fg=function(t){function n(n,i){var e;return void 0===i&&(i=zw.aw),(e=t.call(this,eg.gw)||this).currentTime=n,e.readyState=i,e}return vt(n,t),n}(uu),hg=function(t){function n(n){var i;return(i=t.call(this,Rc.ba)||this).duration=n,i}return vt(n,t),n}(uu),vg=function(t){function n(n,i){var e;return(e=t.call(this,Rc.Aa)||this).currentTime=n,e.playbackRate=i,e}return vt(n,t),n}(uu),dg=function(t){function n(n,i){var e;return(e=t.call(this,Rc.Wa)||this).currentTime=n,e.currentProgramDateTime=i,e}return vt(n,t),n}(uu),lg=function(t){function n(n){var i;return(i=t.call(this,Rc._a)||this).currentTime=n,i}return vt(n,t),n}(uu),wg=function(t){function n(n,i){var e;return void 0===i&&(i=zw.fw),(e=t.call(this,eg.ww)||this).currentTime=n,e.readyState=i,e}return vt(n,t),n}(uu),gg=function(t){function n(n){var i;return(i=t.call(this,Rc.Ba)||this).currentTime=n,i}return vt(n,t),n}(uu),yg=function(t){function n(n){var i;return(i=t.call(this,Rc.La)||this).currentTime=n,i}return vt(n,t),n}(uu),mg=function(t){function n(n,i){var e;return(e=t.call(this,Rc.Ha)||this).currentTime=n,e.volume=i,e}return vt(n,t),n}(uu),bg=function(t){function n(n,i){var e;return void 0===i&&(i=zw.hw),(e=t.call(this,eg.dw)||this).currentTime=n,e.readyState=i,e}return vt(n,t),n}(uu),pg=function(t){function n(n,i){var e;return void 0===i&&(i=zw.vw),(e=t.call(this,eg.lw)||this).currentTime=n,e.readyState=i,e}return vt(n,t),n}(uu),_g=function(t){function n(n,i){var e;return(e=t.call(this,eg.Gd)||this).currentTime=n,e.readyState=i,e}return vt(n,t),n}(uu),kg=function(t){function n(n){var i;return(i=t.call(this,Sw.Nl)||this).errorObject=n,i}return vt(n,t),n.prototype.xd=function(){return this},ft(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}($l);function Tg(t){switch(t){case og.ALL:case og.CONTENT:return t;default:return og.NONE}}function Sg(t){var n,i,e,r=ow(t||{});return r.libraryLocation&&(r.libraryLocation=od(r.libraryLocation,!0)),r.isEmbeddable=Boolean(r.isEmbeddable),r.cast=Hw(r.cast),r.ads=tg(r.ads),r.analytics=ng(r.analytics),r.mutedAutoplay=Tg(r.mutedAutoplay),r.allowNativeFullscreen=Boolean(r.allowNativeFullscreen),r.allowMixedContent=Boolean(r.allowMixedContent),r.persistVolume=Boolean(r.persistVolume),r.liveOffset=(n=r.liveOffset,Number(n)||void 0),r.hlsDateRange=(i=r.hlsDateRange,Boolean(i)),r.retainPlaybackRateOnSourceChange=Boolean(r.retainPlaybackRateOnSourceChange),r.license=At(e=r.license)?e:void 0,r.licenseUrl=function(t){if(!t)return;try{return od(t)}catch(t){return void st.Ie("Invalid 'licenseUrl', falling back to default URL")}}(r.licenseUrl),r}function Eg(t){return{bw:t.bw,pw:t.pw,_w:t._w,fu:t.fu,kw:t.kw,Tw:t.Tw,Sw:t.Sw,Ew:t.Ew,Ml:t.Ml,Rw:t.Rw,Iw:t.Iw,Dw:t.Dw,Nw:t.Nw}}function Rg(t,n,i){if(n!==i){var e=n.bw,r=n.pw,u=n.Tw,s=n.Sw,o=n.Ew,c=n.Ml,a=n.Rw,f=(n.Dw,n.Iw,n.Nw),h=i.bw,v=i.pw,d=i._w,l=i.kw,w=i.Tw,y=i.Sw,m=i.Ew,b=i.Ml,p=i.Rw,_=(i.Dw,i.Iw,i.Nw);c!==zw.cw&&t.Yr(new rg(h,b)),y&&!s?t.Yr(new ug(h)):!y&&s&&t.Yr(new sg(h)),b>=zw.aw&&t.Yr(new fg(h,b)),v===r||g(v)&&g(r)||t.Yr(new hg(v)),m!==o&&t.Yr(new vg(h,m)),h!==e&&t.Yr(new dg(h,void 0)),d&&t.Yr(new lg(h)),b>=zw.fw&&t.Yr(new wg(h,b)),p&&!a?t.Yr(new gg(h)):!p&&a&&t.Yr(new yg(h)),_===f&&w===u||t.Yr(new mg(h,_)),b>=zw.hw&&t.Yr(new bg(h,b)),b>=zw.vw&&t.Yr(new pg(h,b)),b!==c&&t.Yr(new _g(h,b)),l&&t.Yr(new kg(l))}}!function(t){t.NONE="none",t.ALL="all",t.CONTENT="content"}(og||(og={})),function(t){t.LIVE_OFFSET="liveoffset",t.TRACK_BYTES_DOWNLOADED="trackbytesdownloaded",t.ESTIMATED_TRACK_NETWORK_BANDWIDTH="estimatedtracknetworkbandwidth",t.ESTIMATED_TRACK_MEDIA_DATA_BANDWIDTH="estimatedtrackmediadatabandwidth",t.SEGMENT_RECEIVE_INTERVAL="segmentreceiveinterval"}(cg||(cg={}));var Ig=400,Dg=.25,Ng={Ow:.2,Cw:.45,Aw:.7,Pw:3,xw:Bg,Lw:Mg},Og={Ow:.4,Cw:.65,Aw:1,Pw:3,xw:Bg,Lw:Mg},Cg={Ow:.4,Cw:.7,Aw:.9,Pw:3,xw:Bg,Lw:Mg},Ag={Ow:.4,Cw:.65,Aw:1,Pw:3,xw:Bg,Lw:Mg},Pg={Ow:.5,Cw:1.125,Aw:1.75,Pw:2.55,xw:Bg,Lw:Mg};function xg(){var t;return t=st.je.fe?Ag:st.je.de?Og:st.je.ve?"Android"===st.$e.Xe?Cg:Ng:Pg,st.$e.Ge?function(t){if(st.$e.Ge){var n=(Ig+250)/1e3,i=d.max(n,t.Ow),e=d.max(i+Dg,t.Cw),r=d.max(e+Dg,t.Aw);return{Ow:i,Cw:e,Aw:r,Pw:d.max(r+Dg,t.Pw),xw:Bg,Lw:Mg}}return t}(t):t}var Lg,Bg=.92,Mg=1.08;function Fg(t){return{goLive:function(){return t.Bw()},get isLive(){return t.Mw},get currentServerLiveTime(){return t.Fw},get currentLatency(){return t.Uw},get latency(){return t.Vw},set latency(n){if(!function(t){if(!Ot(t))return!1;var n=t,i=It(n.target)&&"number"==typeof n.target&&It(n.windowEnd)&&"number"==typeof n.windowEnd&&It(n.windowStart)&&"number"==typeof n.windowStart&&It(n.maxOffset)&&"number"==typeof n.maxOffset,e=n.windowStart>=0&&n.windowStart<=n.target&&n.target<=n.windowEnd&&n.maxOffset>=n.windowEnd;return i&&e}(n))throw new f("Invalid latency configuration");t.Vw=n},get manifest(){return t.qw},get metrics(){return t.zw},addEventListener:function(n,i){t.Kr(Vg(n),i)},removeEventListener:function(n,i){t.tu(Vg(n),i)}}}!function(t){t[t.xl=0]="xl",t[t.Ww=1]="Ww",t[t.Hw=2]="Hw"}(Lg||(Lg={}));var Ug=["analytic","golive","nogolive","bufferedchange"];function Vg(t){var n=gw(t,lw);return(At(n)?[n]:n).filter(function(t){return Ur(Ug,t)})}var qg,zg=function(t){function n(){var n,i;return(n=t.call(this)||this).dl=void 0,n.Ad=void 0,n.jw={windowStart:(i=xg()).Ow,windowEnd:i.Aw,target:i.Cw,maxOffset:i.Pw},n.dl=void 0,n}vt(n,t);var i=n.prototype;return i.gl=function(t){t.Kr(Ug,this.Gr)},i.yl=function(t){t.tu(Ug,this.Gr)},i.Bw=function(){var t;null==(t=this.dl)||t.Bw()},i.et=function(){this.Zr(),this.dl&&this.yl(this.dl),this.dl=void 0},ft(n,[{key:"ml",get:function(){return this.dl},set:function(t){var n=this.dl;t!==n&&(n&&this.yl(n),t&&this.gl(t),this.dl=t,this.dl&&(this.dl.Vw=this.jw))}},{key:"Pd",get:function(){return this.Ad||(this.Ad=Fg(this)),this.Ad}},{key:"Fw",get:function(){var t;return null==(t=this.dl)?void 0:t.Fw}},{key:"Uw",get:function(){var t;return null==(t=this.dl)?void 0:t.Uw}},{key:"Mw",get:function(){return!!this.dl&&this.dl.Mw}},{key:"Vw",get:function(){return this.dl?this.dl.Vw:this.jw},set:function(t){this.dl&&(this.dl.Vw=t),this.jw=t}},{key:"qw",get:function(){var t;return null==(t=this.dl)?void 0:t.qw}},{key:"zw",get:function(){var t;return null==(t=this.dl)?void 0:t.zw}}]),n}(eu),Wg=function(t){function n(n){var i;return(i=t.call(this)||this).dl=void 0,i.$w=[],i.Xw=!1,i.Gw=new Ew,i.Yw=new Ew,i.Kw=new Cw,i.Jw=new zg,i.Qw=!1,i.Zw(n),n.Qr(i.Gr),i.dl=n,i.Gw.ml=n.tg,i.Yw.ml=n.ng,i.Kw.ml=n.ig,i.Jw.ml=n.eg,i}vt(n,t);var i=n.prototype;return i.Y=function(){this.dl.Y()},i.K=function(){this.dl.K()},i.rg=function(){return We.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Zr(this.$w.map(function(t){return t.rg()})).then(Bt));case 1:case"end":return t.stop()}},null,this,null,j)},i.ug=function(){return this.dl.ug()},i.sg=function(t,n){return We.async(function(i){for(;;)switch(i.prev=i.next){case 0:return jr(n),i.next=3,We.awrap(this.dl.sg(t,n));case 3:case"end":return i.stop()}},null,this,null,j)},i.og=function(){return this.ml.og()},i.cg=function(){this.ml.cg()},i.ag=function(){this.ml.ag()},i.st=function(){if(!this.Xw){for(var t=0,n=this.$w;t<n.length;t++){n[t].st()}this.Xw=!0}},i.fg=function(t){this.dl.fg(t)},i.hg=function(){this.dl.hg()},i.vg=function(){this.dl.vg()},i.dg=function(){this.dl.dg()},i.lg=function(){return this.dl.lg()},i.wg=function(){return this.dl.wg()},i.gg=function(){for(var t=[],n=0,i=this.$w;n<i.length;n++){var e=i[n];t.push.apply(t,e.gg())}return t},i.yg=function(t){for(var n=!1,i=0,e=this.$w;i<e.length;i++){n=e[i].yg(t)||n}return n},i.Yr=function(n){this.yg(n)||t.prototype.Yr.call(this,n)},i.Zw=function(t){this.$w.push(t)},i.mg=function(t){Mr(this.$w,t)},i.bg=function(t){if(t!==this.dl){var n=this.dl;n.hg(),n.eu(this.Gr);var i=Eg(this),e=this.pg,r=this.wg();this.dl=t,this.Gw.ml=t.tg,this.Yw.ml=t.ng,this.Kw.ml=t.ig,this.Jw.ml=t.eg,Rg(this,i,this);var u=this.pg;u!==e&&this.Yr(new Lw(u)),this.wg()!==r&&this.Yr(new xw),t.Qr(this.Gr),t.fg(n)}},i._g=function(){},i.et=function(){var t,n,i;return We.async(function(e){for(;;)switch(e.prev=e.next){case 0:this.Zr(),this.dl.hg(),t=0,n=this.$w;case 3:if(!(t<n.length)){e.next=10;break}return i=n[t],e.next=7,We.awrap(i.et());case 7:t++,e.next=3;break;case 10:this.Gw.et(),this.Yw.et(),this.Kw.et(),this.Jw.et();case 14:case"end":return e.stop()}},null,this,null,j)},i.fl=function(){return We.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Zr(this.$w.map(function(t){return t.fl()})).then(Bt));case 1:case"end":return t.stop()}},null,this,null,j)},ft(n,[{key:"tg",get:function(){return this.Gw}},{key:"ig",get:function(){return this.Kw}},{key:"ng",get:function(){return this.Yw}},{key:"kg",get:function(){return this.dl.kg}},{key:"Tg",get:function(){return this.dl.Tg},set:function(t){this.dl.Tg=t}},{key:"pg",get:function(){return this.dl.pg}},{key:"bw",get:function(){return this.dl.bw},set:function(t){this.dl.bw=t}},{key:"pw",get:function(){return this.dl.pw}},{key:"Sg",get:function(){return this.dl.Sg}},{key:"_w",get:function(){return this.dl._w}},{key:"fu",get:function(){return this.dl.fu}},{key:"kw",get:function(){return this.dl.kw}},{key:"eg",get:function(){return this.Jw}},{key:"Eg",get:function(){return this.dl.Eg}},{key:"zw",get:function(){return function(t){for(var n=0,i=0,e=0,r=0,u=0,s={amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0},o=0;o<t.length;o++){var c=t[o];n+=c.Rg,i+=c.Ig,e+=c.Dg,r+=c.Ng,u+=c.Og,s.amountOfBufferedAudioSegments+=c.Cg.amountOfBufferedAudioSegments,s.amountOfBufferedVideoSegments+=c.Cg.amountOfBufferedVideoSegments}return{Rg:n,Ig:i,Dg:e,Ng:r,Og:u,Cg:s}}(this.$w.map(function(t){return t.zw}))}},{key:"Tw",get:function(){return this.dl.Tw},set:function(t){this.dl.Tw=t}},{key:"Ag",get:function(){return this.dl.Ag}},{key:"Sw",get:function(){return this.dl.Sw}},{key:"Ew",get:function(){return this.dl.Ew},set:function(t){this.dl.Ew=t}},{key:"Pg",get:function(){return this.dl.Pg}},{key:"xg",get:function(){return this.dl.xg},set:function(t){this.dl.xg=t}},{key:"Ml",get:function(){return this.dl.Ml}},{key:"Lg",get:function(){return this.dl.Lg}},{key:"Rw",get:function(){return this.dl.Rw}},{key:"Iw",get:function(){return this.dl.Iw}},{key:"Dw",get:function(){return this.dl.Dw}},{key:"Nw",get:function(){return this.dl.Nw},set:function(t){this.dl.Nw=t}},{key:"Bg",get:function(){return this.dl.Bg}},{key:"Mg",get:function(){return!1},set:function(t){}},{key:"ml",get:function(){return this.dl},set:function(t){this.bg(t)}}]),n}(Pw),Hg=function(t){function n(n,i,e,r,u,s,o,c){var a;return(a=t.call(this,n,i,e)||this).url=void 0,a.status=void 0,a.statusText=void 0,a.response=void 0,a.systemCode=void 0,a.url=r,a.status=u,a.statusText=s,a.response=o,a.systemCode=c,a}return vt(n,t),ft(n,[{key:"name",get:function(){return"ContentProtectionError"}}]),n}(sc);!function(t){t[t.ABORTED=1]="ABORTED",t[t.NETWORK=2]="NETWORK",t[t.DECODE=3]="DECODE",t[t.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",t[t.ENCRYPTED=5]="ENCRYPTED",t[t.LICENSE_INVALID=6]="LICENSE_INVALID",t[t.ADVERTISEMENT_ERROR=7]="ADVERTISEMENT_ERROR"}(qg||(qg={}));var jg=function(t){function n(n,i,e,r){var u;return(u=t.call(this,i)||this).code=void 0,u.message=void 0,u.cause=void 0,u.systemCode=void 0,u.code=n,u.message=null!=i?i:"Unknown error",u.cause=e,u.systemCode=r,f.captureStackTrace&&f.captureStackTrace(un(u),u.constructor),u}return vt(n,t),ft(n,[{key:"name",get:function(){return"MediaError"}}]),n}(sn);function $g(t){uw(t,"MEDIA_ERR_ABORTED",qg.ABORTED),uw(t,"MEDIA_ERR_NETWORK",qg.NETWORK),uw(t,"MEDIA_ERR_DECODE",qg.DECODE),uw(t,"MEDIA_ERR_SRC_NOT_SUPPORTED",qg.SRC_NOT_SUPPORTED),uw(t,"MEDIA_ERR_ENCRYPTED",qg.ENCRYPTED)}function Xg(t){var i,e;return function(t){return t.category===n.ErrorCategory.CONTENT_PROTECTION}(t)?new jg(qg.ENCRYPTED,t.message,null==(i=t.cause)?void 0:i.message,t.systemCode):new jg(function(t){if(t===n.ErrorCode.MEDIA_ABORTED)return qg.ABORTED;if(t===n.ErrorCode.MANIFEST_LOAD_ERROR||t===n.ErrorCode.MEDIA_LOAD_ERROR||t===n.ErrorCode.SUBTITLE_LOAD_ERROR)return qg.NETWORK;if(t===n.ErrorCode.MEDIA_DECODE_ERROR)return qg.DECODE;if(t===n.ErrorCode.MEDIA_NOT_SUPPORTED)return qg.SRC_NOT_SUPPORTED;var i=n.ErrorCategory.fromCode(t);if(i===n.ErrorCategory.NETWORK)return qg.NETWORK;if(i===n.ErrorCategory.SOURCE)return qg.SRC_NOT_SUPPORTED;if(i===n.ErrorCategory.LICENSE)return qg.LICENSE_INVALID;if(i===n.ErrorCategory.CONTENT_PROTECTION)return qg.ENCRYPTED;if(i===n.ErrorCategory.AD)return qg.ADVERTISEMENT_ERROR;return qg.DECODE}(t.code),t.message,null==(e=t.cause)?void 0:e.message)}$g(jg),$g(jg.prototype);var Gg,Yg=function(t){function n(){return t.apply(this,arguments)||this}vt(n,t);var i=n.prototype;return i.ol=function(n){return t.prototype.ol.call(this,n)},i.xd=function(){return kw(this)},n}(tw);!function(t){t.sv="audio",t.ov="video",t.ri="text",t.cv="image",t.Xh="unknown"}(Gg||(Gg={}));var Kg=function(){function t(){this.Fg=[],this.Ad=void 0}var n=t.prototype;return n.Ug=function(t){this.Fg.push(t),this.Ad&&this.Ad.push(t.Pd)},n.sl=function(t){return this.Fg[t]},n.Vg=function(t){return Dt(t)?function(t,n){for(var i=0;i<n.length;i++)if(!Ur(t,n[i]))return!1;return!0}(this.Fg,t):Ur(this.Fg,t)},ft(t,[{key:"hl",get:function(){return this.Fg}},{key:"vl",get:function(){return this.Fg.length}},{key:"Pd",get:function(){var t,n;return this.Ad||(this.Ad=((n=(t=this).hl.map(function(t){return t.Pd})).item=function(n){var i=0|n,e=t.sl(i);return e&&e.Pd||void 0},n)),this.Ad}}]),t}(),Jg=function(t){function n(n){var i;return(i=t.call(this,Xl.Qd)||this).Ld=n,i}return vt(n,t),n.prototype.xd=function(){return new Qg(this.Ld.Pd)},n}(Gl),Qg=function(t){function n(n){var i;return(i=t.call(this,"update")||this).track=n,i}return vt(n,t),n}(Yl),Zg=0;function ty(){return Zg++}var ny=0;var iy=0;var ey=0;var ry=function(t){function n(n){var i;return(i=t.call(this)||this).gr=Gg.sv,i.qg=void 0,i.jo=void 0,i.zg=void 0,i.Wg=void 0,i.Hg=!1,i.Fg=void 0,i.Ad=void 0,i.qg=n,i.Wg=ty(),i.jo=ey+++"",i.zg=n.label,i.Fg=new Kg,i.jg(),i}vt(n,t);var i=n.prototype;return i.$g=function(t){this._l=t},i.jg=function(){this._l=this.Xg},ft(n,[{key:"pl",get:function(){}},{key:"_l",get:function(){return this.Hg},set:function(t){this.Hg!==t&&(this.Hg=t,this.Xg=t,this.Yr(new nw(this)))}},{key:"Xg",get:function(){return this.qg.enabled},set:function(t){this.qg.enabled=t}},{key:"Pd",get:function(){return this.Ad||(this.Ad=pw(this)),this.Ad}},{key:"kl",get:function(){return this.jo}},{key:"Tl",get:function(){return this.Wg}},{key:"Sl",get:function(){return this.qg.kind}},{key:"El",get:function(){return this.zg},set:function(t){t!==this.zg&&(this.zg=t,this.Yr(new Jg(this)))}},{key:"Rl",get:function(){return this.qg.language}},{key:"Cl",get:function(){return this._l?"enabled":"disabled"}},{key:"Gg",get:function(){return this.qg}},{key:"Il",get:function(){return this.Fg}},{key:"Dl",get:function(){},set:function(t){}}]),n}(eu),uy=0;var sy,oy,cy,ay,fy=function(t){function n(n){var i;return(i=t.call(this)||this).gr=Gg.ov,i.qg=void 0,i.jo=void 0,i.Wg=void 0,i.Hg=!1,i.Fg=void 0,i.zg=void 0,i.Ad=void 0,i.qg=n,i.Wg=ty(),i.jo=uy+++"",i.Fg=new Kg,i.zg=n.label,i.jg(),i}vt(n,t);var i=n.prototype;return i.jg=function(){this._l=this.Xg},i.$g=function(t){this._l=t},ft(n,[{key:"pl",get:function(){}},{key:"_l",get:function(){return this.Hg},set:function(t){this.Hg!==t&&(this.Hg=t,this.Xg=t,this.Yr(new nw(this)))}},{key:"Xg",get:function(){return!!this.qg.selected},set:function(t){this.qg.selected=t}},{key:"Pd",get:function(){return this.Ad||(this.Ad=pw(this)),this.Ad}},{key:"kl",get:function(){return this.jo}},{key:"Tl",get:function(){return this.Wg}},{key:"Sl",get:function(){return"main"}},{key:"El",get:function(){return this.zg},set:function(t){t!==this.zg&&(this.zg=t,this.Yr(new Jg(this)))}},{key:"Rl",get:function(){return this.qg.language}},{key:"Cl",get:function(){return this._l?"enabled":"disabled"}},{key:"Gg",get:function(){return this.qg}},{key:"Il",get:function(){return this.Fg}},{key:"Dl",get:function(){},set:function(t){}}]),n}(eu),hy=function(t){function n(n){var i;return(i=t.call(this,Rc.ha)||this).Eg=n,i}return vt(n,t),n}(uu);!function(t){t[t.NONE=0]="NONE",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t[t.ERROR=3]="ERROR"}(sy||(sy={})),function(t){t.DEFAULT="",t.SRT="srt",t.TTML="ttml",t.WEBVTT="webvtt",t.EMSG="emsg",t.EVENT_STREAM="eventstream",t.ID3="id3",t.CEA608="cea608",t.DATE_RANGE="daterange"}(oy||(oy={})),function(t){t.Yg="cue",t.Kg="region",t.Jg="stylesheet"}(cy||(cy={})),function(t){t.Qg="Zg",t.ty="ny",t.Qd="sc"}(ay||(ay={}));var vy=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).iy=i,e}return vt(n,t),n}(Gl),dy=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).cue=i,e}return vt(n,t),n}(Yl);function ly(t){var n,i=[ay.Qg,ay.ty,ay.Qd],e={get track(){return t.Ld.Pd},get id(){return t.kl},get uid(){return t.Tl},get startTime(){return t.ey},get endTime(){return t.uy},get content(){return t.sy},addEventListener:function(t,i){var e=gw(t,lw);n.Kr(e,i)},removeEventListener:function(t,i){var e=gw(t,lw);n.tu(e,i)}};return n=new ru(e),t.Kr(i,function(t){return n.Yr(t.Pd)}),e}function wy(){}var gy=function(t){function n(n){return t.call(this,ay.Qd,n)||this}return vt(n,t),n.prototype.xd=function(){return new yy(this.iy.Pd)},n}(vy),yy=function(t){function n(n){return t.call(this,"update",n)||this}return vt(n,t),n}(dy),my=.02;var by=function(t){function n(n,i,e,r,u){var s;return(s=t.call(this)||this).Wg=void 0,s.jo=void 0,s.oy=void 0,s.ay=void 0,s.Ad=void 0,s.hy=void 0,s.vy=!1,s.ly=void 0,s.wy=void 0,s.gy=-1,s.Wg=iy++,s.oy=n,s.ay=i,s.ly=e,s.wy=Boolean(r),s.jo=null!=u?u:"",s}vt(n,t);var i=n.prototype;return i.xd=function(){return ly(this)},i.yy=function(t){return this===t||aw(this,t)&&(i=t,Qt((n=this).ey,i.ey,my)&&Qt(n.uy,i.uy,my)&&n.kl===i.kl);var n,i},i.et=function(){this.Zr()},ft(n,[{key:"ey",get:function(){return this.oy},set:function(t){this.oy!==t&&(this.oy=t,this.Yr(new gy(this)))}},{key:"uy",get:function(){return this.ay},set:function(t){this.ay!==t&&(this.ay=t,this.Yr(new gy(this)))}},{key:"kl",get:function(){return this.jo}},{key:"Tl",get:function(){return this.Wg}},{key:"Pd",get:function(){return this.Ad||(this.Ad=this.xd()),this.Ad}},{key:"my",get:function(){return this.vy},set:function(t){this.vy=t}},{key:"Ld",get:function(){return this.hy},set:function(t){this.hy=t}},{key:"sy",get:function(){return this.ly},set:function(t){this.ly!==t&&(this.ly=t,this.Yr(new gy(this)))}},{key:"by",get:function(){return this.wy},set:function(t){this.wy=t}}]),n}(eu);var py=function(t){function n(n,i,e,r,u){var s;return(s=t.call(this,n,i,e,r,u)||this).py="auto",s._y="start",s.ky="auto",s.Ty="auto",s.Sy=void 0,s.Ey=!0,s.ku=100,s.Ry="center",s.Iy="",s}return vt(n,t),n.prototype.yy=function(n){return this===n||aw(this,n)&&t.prototype.yy.call(this,n)&&(e=n,(i=this).sy===e.sy&&i.py===e.py&&i._y===e._y&&i.ky===e.ky&&i.Ty===e.Ty&&i.Sy===e.Sy&&i.Ey===e.Ey&&i.ku===e.ku&&i.Ry===e.Ry&&i.Iy===e.Iy);var i,e},ft(n,[{key:"Pd",get:function(){var t;return this.Ad||(this.Ad=sw(ly(t=this),{get align(){return t.Ry},get line(){return t.py},get lineAlign(){return t._y},get position(){return t.ky},get positionAlign(){return t.Ty},get region(){return t.Sy?t.Sy.Pd:null},get size(){return t.ku},get snapToLines(){return t.Ey},get text(){return t.sy},get vertical(){return t.Iy}})),this.Ad}},{key:"gr",get:function(){return cy.Yg}}]),n}(by);var _y=function(){function t(t,n,i,e,r,u,s,o){this.Ad=void 0,this.kl=t,this.Dy=n,this.Ny=i,this.Oy=e,this.Cy=r,this.Ay=u,this.Py=s,this.xy=o}return ft(t,[{key:"Pd",get:function(){var t;return this.Ad||(this.Ad=(t=this,{get id(){return t.kl},get identifier(){return t.kl},get lines(){return t.Ny},get regionAnchorX(){return t.Oy},get regionAnchorY(){return t.Cy},get scrollValue(){return t.xy},get viewportAnchorX(){return t.Ay},get viewportAnchorY(){return t.Py},get width(){return t.Dy}})),this.Ad}},{key:"gr",get:function(){return cy.Kg}}]),t}(),ky=function(){function t(){}var n=t.prototype;return n.Ly=function(t){return this.By()*t},n.My=function(t){return this.Fy(t)>0},n.Uy=function(t){return this.Fy(t)>=0},n.Vy=function(t,n){return this.zy(t).qy(n)},n.yy=function(t){return 0===this.Fy(t)},n.Wy=function(t){return this.Fy(t)<0},n.qy=function(t){return this.Fy(t)<=0},n.Hy=function(){return this.jy()?this.$y():this},n.Xy=function(t){return this.Ug(t.$y())},n.zy=function(t){return this.Xy(t).Hy()},t}();function Ty(t,n){return t.Gy()?n.Gy()?Dr.Ir:Dr.Dr:n.Gy()?Dr.Nr:t.Yy()?n.Yy()&&t.jy()===n.jy()?Dr.Ir:t.jy()?Dr.Nr:Dr.Dr:n.jy()?Dr.Dr:Dr.Nr}var Sy=function(){function t(t,n){this.Ky=void 0,this.Jy=void 0,this.Ky=t,this.Jy=n}t.Qy=function(n,i,e){return e?new t(n.toUnsigned(),i.toUnsigned()):new t(n.toSigned(),i.toSigned())},t.Zy=function(n){return n.unsigned?new t(n,Yt.UZERO):new t(n,n.isNegative()?Yt.NEG_ONE:Yt.ZERO)},t.tm=function(n,i){if(g(n))return i?t.nm:t.im;if(i){if(n<0)return t.nm;if(n>=3.402823669209385e38)return t.rm}else{if(n<=-1.7014118346046923e38)return t.um;if(n+1>=1.7014118346046923e38)return t.sm}return n<0?t.tm(-n,i).$y():t.Qy(Yt.fromNumber(n%0x10000000000000000),Yt.fromNumber(n/0x10000000000000000),i)};var n=t.prototype;return n.om=function(){return this.Jy.unsigned},n.cm=function(){return this.Ky.isZero()&&this.Jy.isZero()},n.jy=function(){return this.Jy.isNegative()},n.am=function(){return this.om()?t.Qy(this.Ky,this.Jy,!1):this},n.fm=function(){return this.om()?this:t.Qy(this.Ky,this.Jy,!0)},n.hm=function(){return this.Ky},n.By=function(){return this.jy()?-this.$y().By():0x10000000000000000*this.Jy.toNumber()+this.Ky.toUnsigned().toNumber()},n.vm=function(){return this.Ky.toInt()},n.yy=function(t){return(this.om()===t.om()||this.Jy.getHighBits()>>>31!=1||t.Jy.getHighBits()>>>31!=1)&&(this.Jy.toUnsigned().eq(t.Jy.toUnsigned())&&this.Ky.toUnsigned().eq(t.Ky.toUnsigned()))},n.Fy=function(t){if(this.yy(t))return Dr.Ir;var n=this.jy(),i=t.jy();if(n&&!i)return Dr.Nr;if(!n&&i)return Dr.Dr;if(!this.om())return this.Xy(t).jy()?Dr.Nr:Dr.Dr;var e=this.fm(),r=t.fm(),u=r.Jy.comp(e.Jy);return u>0||0===u&&r.Ky.gt(e.Ky)?Dr.Nr:Dr.Dr},n.Wy=function(t){return this.Fy(t)<0},n.qy=function(t){return this.Fy(t)<=0},n.dm=function(t){return this.Fy(t)>0},n.lm=function(t){return this.Fy(t)>=0},n.wm=function(){return new t(this.Ky.not(),this.Jy.not())},n.gm=function(n){return new t(this.Ky.and(n.Ky),this.Jy.and(n.Jy))},n.ym=function(n){return new t(this.Ky.or(n.Ky),this.Jy.or(n.Jy))},n.mm=function(n){var i=127&n;return 0===i?this:i<64?t.Qy(this.Ky.shl(i),this.Jy.shl(i).or(this.Ky.shru(64-i)),this.om()):t.Qy(Yt.ZERO,this.Ky.shl(i-64),this.om())},n.bm=function(n){var i=127&n;return 0===i?this:i<64?t.Qy(this.Ky.shru(i).or(this.Jy.shl(64-i)),this.Jy.shr(i),this.om()):t.Qy(this.Jy.shr(i-64),this.Jy.isNegative()?Yt.NEG_ONE:Yt.ZERO,this.om())},n.pm=function(n){var i=127&n;return 0===i?this:i<64?t.Qy(this.Ky.shru(i).or(this.Jy.shl(64-i)),this.Jy.shru(i),this.om()):64===i?t.Qy(this.Jy,Yt.ZERO,this.om()):t.Qy(this.Jy.shru(i-64),Yt.ZERO,this.om())},n.Ug=function(n){var i=this.Jy.high>>>16,e=65535&this.Jy.high,r=this.Jy.low>>>16,u=65535&this.Jy.low,s=this.Ky.high>>>16,o=65535&this.Ky.high,c=this.Ky.low>>>16,a=65535&this.Ky.low,f=n.Jy.high>>>16,h=65535&n.Jy.high,v=n.Jy.low>>>16,d=65535&n.Jy.low,l=n.Ky.high>>>16,w=65535&n.Ky.high,g=n.Ky.low>>>16,y=0,m=0,b=0,p=0,_=0,k=0,T=0,S=0;T+=(S+=a+(65535&n.Ky.low))>>>16,S&=65535,k+=(T+=c+g)>>>16,T&=65535,_+=(k+=o+w)>>>16,k&=65535,p+=(_+=s+l)>>>16,_&=65535,b+=(p+=u+d)>>>16,p&=65535,m+=(b+=r+v)>>>16,b&=65535,y+=(m+=e+h)>>>16,m&=65535,y+=i+f,y&=65535;var E=this.om(),R=Yt.fromBits(b<<16|p,y<<16|m,E),I=Yt.fromBits(T<<16|S,_<<16|k,E);return t.Qy(I,R,E)},n.Xy=function(t){return this.Ug(t.$y())},n.$y=function(){return this.wm().Ug(t._m)},n.km=function(n){if(this.cm()||n.cm())return this.om()?t.nm:t.im;if(this.jy())return n.jy()?this.$y().km(n.$y()):this.$y().km(n).$y();if(n.jy())return this.km(n.$y()).$y();if(this.Jy.isZero()&&0===this.Ky.high&&n.Jy.isZero()&&0===n.Ky.high)return t.Zy(this.Ky.multiply(n.Ky));var i=Yt.fromBits(4294967295,0,!0),e=this.Ky.and(i),r=this.Ky.shru(32),u=this.Jy.and(i),s=this.Jy.shru(32),o=n.Ky.and(i),c=n.Ky.shru(32),a=n.Jy.and(i),f=n.Jy.shru(32),h=Yt.UZERO,v=Yt.UZERO,d=Yt.UZERO,l=Yt.UZERO;h=h.add(e.mul(o)),v=v.add(h.shru(32)),h=h.and(i),v=v.add(r.mul(o)),d=d.add(v.shru(32)),v=(v=v.and(i)).add(e.mul(c)),d=d.add(v.shru(32)),v=v.and(i),d=d.add(u.mul(o)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(r.mul(c)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(e.mul(a)),l=l.add(d.shru(32)),d=d.and(i),l=l.add(s.mul(o)).add(u.mul(c)).add(r.mul(a)).add(e.mul(f)).and(i);var w=Yt.fromBits(h.getLowBitsUnsigned(),v.getLowBitsUnsigned(),!0),g=Yt.fromBits(d.getLowBitsUnsigned(),l.getLowBitsUnsigned(),!0);return t.Qy(w,g,this.om())},n.Tm=function(n){var i,e,r=n;if(r.cm())throw new RangeError("division by zero");if(this.cm())return this.om()?[t.nm,t.nm]:[t.im,t.im];if(this.om()){if(r.om()||(r=r.fm()),r.dm(this))return[t.nm,this];if(r.dm(this.pm(1)))return[e=t.Sm,i=this.Xy(r)];e=t.nm}else{if(this.yy(t.um)){if(r.yy(t._m)||r.yy(t.Em))return[t.um,t.im];if(r.yy(t.um))return[t._m,t.im];var u=this.bm(1).Rm(r).mm(1);return u.yy(t.im)?e=r.jy()?t._m:t.Em:(i=this.Xy(r.km(u)),e=u.Ug(i.Rm(r))),[e,i=this.Xy(r.km(e))]}if(r.yy(t.um))return this.om()?[t.nm,this]:[t.im,this];if(this.jy()){if(r.jy())return this.$y().Tm(r.$y());var s=this.$y().Tm(r);return e=s[0],i=s[1],[e.$y(),i.$y()]}if(r.jy()){var o=this.Tm(r.$y());return e=o[0],i=o[1],[e.$y(),i.$y()]}e=t.im}for(i=this;i.lm(r);){for(var c=d.max(1,d.floor(i.By()/r.By())),a=d.ceil(d.log(c)/d.LN2),f=a<=48?1:d.pow(2,a-48),h=t.tm(c),v=h.km(r);v.jy()||v.dm(i);)c-=f,v=(h=t.tm(c,this.om())).km(r);h.cm()&&(h=t._m),e=e.Ug(h),i=i.Xy(v)}return[e,i]},n.Rm=function(t){return this.Tm(t)[0]},n.Im=function(t){return this.Tm(t)[1]},n.toString=function(n){var i=n||10;if(i<2||i>36)throw new RangeError("radix");if(this.cm())return"0";if(this.jy()){if(this.yy(t.um)){var e=t.tm(i),r=this.Rm(e),u=r.km(e).Xy(this);return r.toString(i)+u.vm().toString(i)}return"-"+this.$y().toString(i)}for(var s=t.tm(d.pow(i,6),this.om()),o=this,c="";;){var a=o.Rm(s),f=(o.Xy(a.km(s)).vm()>>>0).toString(i);if((o=a).cm())return f+c;for(;f.length<6;)f="0"+f;c=String(f)+c}},t}();Sy.im=Sy.Zy(Yt.ZERO),Sy.nm=Sy.Zy(Yt.UZERO),Sy._m=Sy.Zy(Yt.ONE),Sy.Sm=Sy.Zy(Yt.UONE),Sy.Em=Sy.Zy(Yt.NEG_ONE),Sy.sm=Sy.Qy(Yt.NEG_ONE,Yt.MAX_VALUE,!1),Sy.rm=Sy.Qy(Yt.MAX_UNSIGNED_VALUE,Yt.MAX_UNSIGNED_VALUE,!0),Sy.um=Sy.Qy(Yt.ZERO,Yt.MIN_VALUE,!1);var Ey=function(){function t(t,n){void 0===n&&(n=1),this.Dm=void 0,this.Nm=void 0,this.Dm=t,this.Nm=n}t.Om=function(n){return new t(d.ceil(n.Dm),n.Nm)},t.Cm=function(n){return new t(d.floor(n.Dm),n.Nm)},t.Am=function(t,n){return t.Uy(n)?t:n},t.Pm=function(t,n){return t.qy(n)?t:n};var n=t.prototype;return n.Ug=function(n){return this.Nm>=n.Nm?new t(this.Dm+n.xm(this.Nm).Dm,this.Nm):new t(this.xm(n.Nm).Dm+n.Dm,n.Nm)},n.My=function(t){return t.Wy(this)},n.Uy=function(t){return t.qy(this)},n.zy=function(n){return this.Nm>=n.Nm?new t(d.abs(this.Dm-n.xm(this.Nm).Dm),this.Nm):n.zy(this)},n.Vy=function(t,n){return this.zy(t).qy(n)},n.Fy=function(t){return i=t,(n=this).Nm>=i.Nm?Lr(n.Dm,i.xm(n.Nm).Dm):Lr(n.xm(i.Nm).Dm,i.Dm);var n,i},n.yy=function(t){return 0===this.Fy(t)},n.Wy=function(t){return this.Fy(t)<0},n.qy=function(t){return this.Fy(t)<=0},n.xm=function(n){return new t(this.Dm*(n/this.Nm),n)},n.Xy=function(n){return this.Nm>=n.Nm?new t(this.Dm-n.xm(this.Nm).Dm,this.Nm):new t(this.xm(n.Nm).Dm-n.Dm,n.Nm)},n.Lm=function(n){return new t(this.Dm*n,this.Nm)},ft(t,[{key:"Yy",get:function(){return!isFinite(this.Dm)}},{key:"Bm",get:function(){return this.Dm/this.Nm}}]),t}();Ey.Mm=new Ey(1/6,1),Ey.im=new Ey(0),Ey.Fm=new Ey(1/0),Ey.Um=1e6;var Ry=function(t){function n(n,i){var e;return(e=t.call(this)||this).wi=void 0,e.Nm=void 0,e.wi=n.toSigned(),e.Nm=i>>>0,e}vt(n,t),n.Vm=function(t,i){return void 0===i&&(i=1e6),n.tm(t*i,i)},n.tm=function(t,i){return g(t)?n.qm:t===1/0?n.zm:t===-1/0?n.Wm:new n(Yt.fromNumber(t),i)},n.Zy=function(t,i){return new n(t,i)},n.Hm=function(t){return n.Vm(t.Bm,1e6)},n.jm=function(t){return new n(Yt.fromNumber(t.getTime()),1e3)},n.Am=function(t,n){return t.Uy(n)?t:n},n.Pm=function(t,n){return t.qy(n)?t:n},n.$m=function(t,i,e){return n.Am(i,n.Pm(e,t))};var i=n.prototype;return i.jy=function(){return this.wi.isNegative()},i.cm=function(){return 0!==this.Nm&&this.wi.isZero()},i.Yy=function(){return 0===this.Nm&&!this.wi.isZero()},i.Gy=function(){return 0===this.Nm&&this.wi.isZero()},i.By=function(){if(0===this.Nm)return this.wi.isZero()?NaN:this.wi.isNegative()?-1/0:1/0;var t=this.wi.divide(this.Nm),n=this.wi.subtract(t.multiply(this.Nm));return t.toNumber()+n.toNumber()/this.Nm},i.hm=function(){if(0===this.Nm)throw new f("Failed to convert timestamp");return this.wi},i.Xm=function(){return new Date(0===this.Nm?NaN:this.xm(1e3).wi.toNumber())},i.Gm=function(){return new Ey(0===this.Nm?this.By():this.wi.toNumber(),this.Nm)},i.xm=function(t,i){void 0===i&&(i=Ny.Ym);var e=this.Nm;if(e===t)return this;if(0===e)return this;var r=Zt(e,t);return new n(function(t,n,i){var e=t.Tm(n),r=e[0],u=e[1];if(u.cm())return r;if(i===Ny.Ym)return u.jy()?r.Xy(Sy._m):r;if(i===Ny.Km)return u.jy()?r:r.Ug(Sy._m);var s=u.km(Sy.tm(2));return s.jy()?s.$y().Wy(n)?r:r.Xy(Sy._m):s.Wy(n)?r:r.Ug(Sy._m)}(Sy.Zy(this.wi).km(Sy.tm(t/r)),Sy.tm(e/r),i).hm(),t)},i.Fy=function(t){if(this===t)return Dr.Ir;if(0===this.Nm||0===t.Nm)return Ty(this,t);if(this.cm())return t.cm()?Dr.Ir:t.jy()?Dr.Dr:Dr.Nr;if(t.cm())return this.jy()?Dr.Nr:Dr.Dr;var n=d.min(this.Nm,t.Nm),i=this.xm(n,Ny.Jm).wi,e=t.xm(n,Ny.Jm).wi;return i.compare(e)},i.$y=function(){return 0===this.Nm?Iy(this):new n(this.wi.negate(),this.Nm)},i.Ug=function(t){if(0===this.Nm||0===t.Nm)return Dy(this,t);if(this.cm())return t;if(t.cm())return this;var i=d.max(this.Nm,t.Nm),e=this.xm(i,Ny.Jm),r=t.xm(i,Ny.Jm);return new n(e.wi.add(r.wi),i)},i.km=function(t){if(this.Gy()||g(t))return n.qm;if(this.Yy()||!isFinite(t)){if(this.cm()||0===t)return n.qm;var i=this.jy()?n.Wm:n.zm;return t<0?i.$y():i}return this.cm()?this:new n(0===t?Yt.ZERO:this.wi.multiply(t),this.Nm)},i.Rm=function(t){if(this.Gy()||g(t))return n.qm;if(this.Yy())return isFinite(t)?0===t?1/t<0?this.$y():this:t<0?this.$y():this:n.qm;if(!isFinite(t))return new n(Yt.ZERO,this.Nm);if(this.cm())return 0===t?n.qm:new n(Yt.ZERO,this.Nm);if(0===t){var i=this.jy()?n.Wm:n.zm;return 1/t<0?i.$y():i}return new n(this.wi.divide(t),this.Nm)},i.Qm=function(){return[this.wi.low,this.wi.high,this.Nm]},n}(ky);function Iy(t){return t.Gy()?t:t.jy()?Ry.zm:Ry.Wm}function Dy(t,n){return t.Gy()||n.Gy()?Ry.qm:t.Yy()&&n.Yy()?t.jy()===n.jy()?t:Ry.qm:t.Yy()?t:n}Ry.im=new Ry(Yt.ZERO,1e6),Ry.qm=new Ry(Yt.ZERO,0),Ry.zm=new Ry(Yt.ONE,0),Ry.Wm=new Ry(Yt.NEG_ONE,0);var Ny,Oy=function(t){function n(n,i){var e;return(e=t.call(this)||this).wi=void 0,e.Nm=void 0,e.wi=BigInt.asIntN(64,n),e.Nm=i>>>0,e}vt(n,t),n.Vm=function(t,i){return void 0===i&&(i=1e6),n.tm(t*i,i)},n.tm=function(t,i){return g(t)?n.qm:t===1/0?n.zm:t===-1/0?n.Wm:new n(BigInt(d.floor(t)),i)},n.Zy=function(t,i){return new n(BigInt(t.high)<<BigInt(32)|BigInt(t.low>>>0),i)},n.Hm=function(t){return n.Vm(t.Bm,1e6)},n.jm=function(t){return n.tm(t.getTime(),1e3)},n.Am=function(t,n){return t.Uy(n)?t:n},n.Pm=function(t,n){return t.qy(n)?t:n},n.$m=function(t,i,e){return n.Am(i,n.Pm(e,t))};var i=n.prototype;return i.jy=function(){return this.wi<BigInt(0)},i.cm=function(){return 0!==this.Nm&&this.wi===BigInt(0)},i.Yy=function(){return 0===this.Nm&&this.wi!==BigInt(0)},i.Gy=function(){return 0===this.Nm&&this.wi===BigInt(0)},i.By=function(){if(0===this.Nm)return this.wi===BigInt(0)?NaN:this.wi<BigInt(0)?-1/0:1/0;var t=this.wi/BigInt(this.Nm),n=this.wi-t*BigInt(this.Nm);return Number(t)+Number(n)/this.Nm},i.hm=function(){if(0===this.Nm)throw new f("Failed to convert timestamp");return this.Zm()},i.Zm=function(){var t=this.wi&BigInt(4294967295),n=this.wi>>BigInt(32)&BigInt(4294967295);return Yt.fromBits(Number(t),Number(n))},i.Xm=function(){return new Date(0===this.Nm?NaN:Number(this.xm(1e3).wi))},i.Gm=function(){return new Ey(0===this.Nm?this.By():Number(this.wi),this.Nm)},i.xm=function(t,i){void 0===i&&(i=Ny.Ym);var e=this.Nm;if(e===t)return this;if(0===e)return this;var r=Zt(e,t);return new n(function(t,n,i){var e=t/n,r=t-e*n;if(r===BigInt(0))return e;if(i===Ny.Ym)return r<BigInt(0)?e-BigInt(1):e;if(i===Ny.Km)return r<BigInt(0)?e:e+BigInt(1);var u=r*BigInt(2);return u<BigInt(0)?-u<n?e:e-BigInt(1):u<n?e:e+BigInt(1)}(this.wi*BigInt(t/r),BigInt(e/r),i),t)},i.Fy=function(t){if(this===t)return Dr.Ir;if(0===this.Nm||0===t.Nm)return Ty(this,t);if(this.cm())return t.cm()?Dr.Ir:t.jy()?Dr.Dr:Dr.Nr;if(t.cm())return this.jy()?Dr.Nr:Dr.Dr;var n=d.min(this.Nm,t.Nm),i=this.xm(n,Ny.Jm).wi,e=t.xm(n,Ny.Jm).wi;return i>e?Dr.Dr:i<e?Dr.Nr:Dr.Ir},i.$y=function(){return 0===this.Nm?Cy(this):new n(-this.wi,this.Nm)},i.Ug=function(t){if(0===this.Nm||0===t.Nm)return Ay(this,t);if(this.cm())return t;if(t.cm())return this;var i=d.max(this.Nm,t.Nm),e=this.xm(i,Ny.Jm),r=t.xm(i,Ny.Jm);return new n(e.wi+r.wi,i)},i.km=function(t){if(this.Gy()||g(t))return n.qm;if(this.Yy()||!isFinite(t)){if(this.cm()||0===t)return n.qm;var i=this.jy()?n.Wm:n.zm;return t<0?i.$y():i}return this.cm()?this:new n(0===t?BigInt(0):this.wi*BigInt(t),this.Nm)},i.Rm=function(t){if(this.Gy()||g(t))return n.qm;if(this.Yy())return isFinite(t)?0===t?1/t<0?this.$y():this:t<0?this.$y():this:n.qm;if(!isFinite(t))return new n(BigInt(0),this.Nm);if(this.cm())return 0===t?n.qm:new n(BigInt(0),this.Nm);if(0===t){var i=this.jy()?n.Wm:n.zm;return 1/t<0?i.$y():i}return new n(this.wi/BigInt(t),this.Nm)},i.Qm=function(){var t=this.Zm();return[t.low,t.high,this.Nm]},ft(n,null,[{key:"im",get:function(){return n.nb||(n.nb=new n(BigInt(0),1e6)),n.nb}},{key:"qm",get:function(){return n.ib||(n.ib=new n(BigInt(0),0)),n.ib}},{key:"zm",get:function(){return n.eb||(n.eb=new n(BigInt(1),0)),n.eb}},{key:"Wm",get:function(){return n.ub||(n.ub=new n(BigInt(-1),0)),n.ub}}]),n}(ky);function Cy(t){return t.Gy()?t:t.jy()?Oy.zm:Oy.Wm}function Ay(t,n){return t.Gy()||n.Gy()?Oy.qm:t.Yy()&&n.Yy()?t.jy()===n.jy()?t:Oy.qm:t.Yy()?t:n}Oy.nb=void 0,Oy.ib=void 0,Oy.eb=void 0,Oy.ub=void 0,function(t){t[t.Ym=0]="Ym",t[t.Km=1]="Km",t[t.Jm=2]="Jm"}(Ny||(Ny={}));var Py,xy,Ly,By,My=function(){try{return"function"==typeof BigInt&&"bigint"==typeof BigInt(0)}catch(t){return!1}}()?Oy:Ry,Fy=9e4,Uy=d.pow(2,33),Vy=(My.tm(Uy,Fy).Rm(2),{sb:0,ob:1/0,cb:0}),qy=6,zy=["WEBVTT ","WEBVTT\t","WEBVTT\n"],Wy=[" ","\t","\n","\f","\r"],Hy=/^\d*$/,jy=/.*[0-9]+.*/,$y=/^[\d.-]+$/,Xy=/(^\.|\.$)/,Gy=/(\D\.|\.\D)/;function Yy(t,n){void 0===n&&(n=Vy);var i={Fl:[],ab:[],fb:[]},e=Ky(t),r=new ds;if(sm(e),Jy(e,function(t){return"\n"!==t},r),r.Iu>=e.length)return i;(r.Su(1),"\n"!==e.charAt(r.Iu))?nm(Qy(e,r,!1,!0,i,n),i):r.Su(1);for(Jy(e,function(t){return"\n"===t},r);r.Iu<e.length;){nm(Qy(e,r,!1,!1,i,n),i),Jy(e,function(t){return"\n"===t},r)}return i}function Ky(t){var n=mr(t,"\0"," "),i=mr(n,"\r\n","\n");return mr(i,"\r","\n")}function Jy(t,n,i){for(var e=i.Iu;i.Iu<t.length&&n(t.charAt(i.Iu));)i.Su(1);return t.substring(e,i.Iu)}function Qy(t,n,i,e,r,u){for(var s,o=0,c=n.Iu,a="",f=!1,h=!1,v=null,d=null,l=null;!f;)if(s=Jy(t,function(t){return"\n"!==t},n),o++,n.Iu>=t.length?f=!0:n.Su(1),br(s,"--\x3e")){if(e||1!==o&&(2!==o||h)){n.Eu(c);break}h=!0,c=n.Iu,v=new py(0,0,"",!1,a);try{im(s,r.ab,v,u),a=""}catch(t){st.Ie(t),v=null}}else{if(""===s)break;e&&pr(s,"X-TIMESTAMP-MAP")&&(r.hb=Zy(s)),e||2!==o||i||(kr("STYLE",a.replace(/ /g,""))?(d={gr:cy.Jg},a=""):kr("REGION",a.replace(/ /g,""))&&(l=new _y("",100,3,0,100,0,100,""),a="")),a&&(a+="\n"),a+=s,c=n.Iu}if(v)return v.sy=a,v;if(d);else if(l)return function(t,n){for(var i=t.split(/\s/),e=0;e<i.length;e++){var r=i[e];if(0!==r.length&&br(r,":")&&":"!==r.charAt(0)&&":"!==r.charAt(r.length-1)){var u=r.indexOf(":"),s=r.substring(0,u),o=r.substring(u+1,r.length);switch(s.toUpperCase()){case"ID":ym(o,n);break;case"WIDTH":pm(o,n);break;case"LINES":bm(o,n);break;case"REGIONANCHOR":var c=gm(o);c&&(n.Oy=c[0],n.Cy=c[1]);break;case"VIEWPORTANCHOR":var a=gm(o);a&&(n.Ay=a[0],n.Py=a[1]);break;case"SCROLL":mm(o,n)}}}}(a,l),l;return null}function Zy(t){var n,i,e=t.split("=")[1].trim().split(","),r=tm(e[0].trim(),"MPEGTS")?e[0]:e[1],u=tm(e[0].trim(),"LOCAL")?e[0]:e[1];return{vb:(i=Number(r.split(/:(.*)/)[1].trim())||0,My.tm(i,Fy)),lb:My.Vm(null!=(n=um(u.split(/:(.*)/)[1].trim(),new ds))?n:0)}}function tm(t,n){return pr(t,n)}function nm(t,n){t&&function(t){return t.gr===cy.Yg}(t)?n.Fl.push(t):t&&function(t){return t.gr===cy.Kg}(t)?n.ab.push(t):t&&function(t){return t.gr===cy.Jg}(t)&&n.fb.push(t)}function im(t,n,i,e){var r=new ds;if(om(t,r),i.ey=em(um(t,r),e),om(t,r),"--\x3e"!==t.substring(r.Iu,r.Iu+3))throw f("Something went wrong with parsing a WebVTT Cue");r.Su(3),om(t,r),i.uy=em(um(t,r),e),function(t,n,i){for(var e=t.split(/\s/),r=0;r<e.length;r++){var u=e[r];if(0!==u.length&&br(u,":")&&":"!==u.charAt(0)&&":"!==u.charAt(u.length-1)){var s=u.indexOf(":"),o=u.substring(0,s),c=u.substring(s+1,u.length);switch(o.toUpperCase()){case"REGION":vm(c,n,i);break;case"VERTICAL":lm(c,n);break;case"D":wm(c,n);break;case"LINE":case"L":fm(c,n);break;case"POSITION":case"T":hm(c,n);break;case"SIZE":case"S":dm(c,n);break;case"ALIGN":case"A":am(c,n)}}}}(t.substring(r.Iu,t.length),i,n)}function em(t,n){return t+n.sb}function rm(t){return/^[0-9]$/.test(t)}function um(t,n){var i,e,r,u=mr(t,",","."),s=!1;if(n.Iu>=u.length||!rm(u.charAt(n.Iu)))throw new f("Something went wrong with parsing a WebVTT Cue timestamp");var o=Jy(u,rm,n),c=l(o,10);if((o.length>2||c>59)&&(s=!0),n.Iu>=u.length||":"!==u.charAt(n.Iu))throw new f("Something went wrong with parsing a WebVTT Cue timestamp");n.Su(1);var a=Jy(u,rm,n);if(2!==a.length)throw new f("Something went wrong with parsing a WebVTT Cue timestamp");var h=l(a,10);if(s||n.Iu<u.length&&":"===u.charAt(n.Iu)){if(n.Iu>=u.length||":"!==u.charAt(n.Iu))throw new f("Something went wrong with parsing a WebVTT Cue timestamp");n.Su(1);var v=Jy(u,rm,n);if(2!==a.length)throw new f("Something went wrong with parsing a WebVTT Cue timestamp");i=c,e=h,r=l(v,10)}else i=0,e=c,r=h;if(n.Iu>=u.length||"."!==u.charAt(n.Iu))throw new f("Something went wrong with parsing a WebVTT Cue timestamp");n.Su(1);var d=Jy(u,rm,n),w=l(d,10);if(h>59||r>59)throw new f("Something went wrong with parsing a WebVTT Cue timestamp");return 60*i*60+60*e+r+w/1e3}function sm(t){if(t.length<qy)return!1;for(var n=0;n<zy.length;n++){if(pr(t,zy[n]))return!0}return!1}function om(t,n){for(;n.Iu<t.length&&(i=t.charAt(n.Iu),Ur(Wy,i));)n.Su(1);var i}function cm(t){var n=t.lastIndexOf("%");if(n>-1){var i=w(t.substring(0,n));if(!g(i)&&i>=0&&i<=100)return i}return null}function am(t,n){var i=t.toLowerCase();switch(i){case"start":case"center":case"end":case"left":case"right":n.Ry=i;break;case"middle":n.Ry="center"}}function fm(t,n){var i,e,r=t.indexOf(",");if(r>=0?(i=t.substring(0,r),e=t.substring(r+1,t.length)):(i=t,e=""),jy.test(i)){var u,s;if(_r(i,"%")){var o=cm(i);if(null===o)return;u=o,s=!1}else{if(!$y.test(i)||i.lastIndexOf("-")>0)return;var c=i.indexOf(".");if(c>=0&&(c!==i.lastIndexOf(".")||!Gy.test(i)||Xy.test(i)))return;if(u=w(i),g(u))return;s=!0}switch(n.py=u,n.Ey=s,e=e.toLowerCase()){case"start":case"center":case"end":n._y=e;break;case"middle":n._y="center"}}}function hm(t,n){var i,e,r=t.indexOf(",");r>=0?(i=t.substring(0,r),e=t.substring(r+1,t.length)):(i=t,e="");var u=cm(i);if(null!==u)switch(n.ky=u,e=e.toLowerCase()){case"line-left":case"center":case"line-right":case"auto":n.Ty=e;break;case"start":n.Ty="line-left";break;case"middle":n.Ty="center";break;case"end":n.Ty="line-right"}}function vm(t,n,i){var e,r,u,s=-1===(u=function(t,n,i){for(var e=t.length-1;e>=0;e-=1){var r=t[e];if(n.call(i,r,e,t))return e}return-1}(e=i,function(n){return n.kl===t},r))?void 0:e[u];void 0!==s&&(n.Sy=s)}function dm(t,n){var i=cm(t);null!==i&&(n.ku=i)}function lm(t,n){switch(t.toLowerCase()){case"rl":case"vertical:rl":case"vertical-rl":n.Iy="rl";break;case"lr":case"vertical:lr":case"vertical-lr":n.Iy="lr";break;default:n.Iy=""}}function wm(t,n){"VERTICAL"===t.toUpperCase()?n.Iy="rl":"VERTICAL-LR"===t.toUpperCase()&&(n.Iy="lr")}function gm(t){if(t.indexOf(",")>=0){var n=cm(t.substring(0,t.indexOf(","))),i=cm(t.substring(t.indexOf(",")+1,t.length));return[Jt(n||0,0,100),Jt(i||100,0,100)]}return null}function ym(t,n){n.kl=t}function mm(t,n){"up"===t.toLowerCase()&&(n.xy="up")}function bm(t,n){Hy.test(t)&&(n.Ny=l(t))}function pm(t,n){var i=cm(t);null!==i&&(n.Dy=i)}!function(t){t.wb="moov",t.gb="mvhd",t.yb="trak",t.mb="tkhd",t.bb="mdia",t.pb="mdhd",t._b="hdlr",t.kb="minf",t.Tb="stbl",t.Sb="stsd",t.Eb="stsc",t.Rb="mvex",t.Ib="trex",t.Db="avc1",t.Nb="avcC",t.Ob="hev1",t.Cb="hvc1",t.Ab="hvcC",t.Pb="pasp",t.xb="mp4a",t.Lb="esds",t.Bb="wvtt",t.Mb="vttC",t.Fb="vlab",t.Ub="enca",t.Vb="encv",t.qb="moof",t.zb="mfhd",t.Wb="traf",t.Hb="tfhd",t.jb="trun",t.$b="tfdt",t.Xb="senc",t.Gb="mdat",t.Yb="pssh",t.Kb="emsg",t.Jb="sidx",t.Qb="styp",t.Zb="ftyp",t.tp="sinf",t.np="frma"}(Py||(Py={})),function(t){t.ov="vide",t.sv="soun",t.ip="subt",t.ep="hint",t.rp="meta",t.sp="auxv"}(xy||(xy={})),function(t){t[t.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",t[t.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",t[t.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",t[t.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",t[t.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT",t[t.DURATION_IS_EMPTY=32]="DURATION_IS_EMPTY",t[t.DEFAULT_BASE_IS_MOOF=131072]="DEFAULT_BASE_IS_MOOF"}(Ly||(Ly={})),function(t){t[t.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",t[t.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",t[t.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",t[t.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT=2048]="SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT"}(By||(By={}));var _m=function(){function t(t,n){this.Pi=void 0,this.op=void 0,this.Pi=t,this.op=n}var n=t.prototype;return n.cp=function(){return Mu(this.Pi,this.op)},n.ap=function(){return qu(this.Pi,this.op)},n.fp=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt16(n.Iu,i);return n.Su(2),e}(this.Pi,this.op)},n.hp=function(){return Wu(this.Pi,this.op)},n.vp=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt32(n.Iu,i);return n.Su(4),e}(this.Pi,this.op)},n.dp=function(){return ju(this.Pi,this.op)},n.lp=function(t){return Uu(this.Pi,this.op,t)},n.wp=function(t){return function(t,n,i){for(var e=[],r=0;r<i;r++)e.push(Wu(t,n));return e}(this.Pi,this.op,t)},n.gp=function(t){return Gu(this.Pi,this.op,t)},n.yp=function(){return es(this.Pi,this.op)},n.mp=function(t){this.op.Su(t)},n.Ru=function(){return new t(this.Pi,this.op.Ru())},t}(),km=function(t){function n(n,i){var e;return(e=t.call(this)||this).bp=n,e.pp=i,e}return vt(n,t),ft(n,[{key:"name",get:function(){return"DataIncompleteError"}}]),n}(on),Tm=function(){function t(){}return t._p=function(n){var i=n.Pi,e=n.op,r=t.kp(i,e,!1);if(!r.Tp)throw new km(e.Iu,r.Si);return r.Si},t.kp=function(n,i,e){for(var r=[];i.Iu<n.byteLength;){var u=t.Sp(n,i,e);if(!u.Tp)return{Tp:!1,Si:r};r.push(u.Ep)}return{Tp:!0,Si:r}},t.Rp=function(n,i){var e=t.Sp(n,i,!1);if(!e.Tp)throw new km(i.Iu);return e.Ep},t.Ip=function(n,i){for(var e=n.Pi,r=n.op;r.Iu<e.byteLength;){var u=t.Sp(e,r,!1);if(!u.Tp)return;if(u.Ep.gr===i)return u.Ep}},t.Sp=function(n,i,e){var r=i.Iu,u=t.Dp(n,i);if(!u.Tp)return u;var s=u.Np,o=s.ku;if(0===o){if(e)return i.Eu(r),{Tp:!1,Op:1/0};o=n.byteLength-r}var c=r+o;if(c>n.byteLength){var a=c;return i.Eu(r),{Tp:!1,Op:a}}var f,h,v,d={gr:s.gr,Iu:r,Pi:new _m((f=n,h=r,v=c,void 0===h&&(h=0),void 0===v&&(v=f.byteLength),new DataView(f.buffer,f.byteOffset+h,v-h)),new ds(s.Cp))};return i.Eu(c),{Tp:!0,Ep:d}},t.Dp=function(t,n){var i=n.Iu;if(!Vu(t,n,8))return{Tp:!1,Op:n.Iu+8};var e=Wu(t,n),r=Gu(t,n,4);if(1===e){if(!Vu(t,n,8)){var u=n.Iu+8;return n.Eu(i),{Tp:!1,Op:u}}e=ju(t,n).toNumber()}if("uuid"===r){if(!Vu(t,n,16)){var s=n.Iu+16;return n.Eu(i),{Tp:!1,Op:s}}r=Gu(t,n,16)}return{Tp:!0,Np:{gr:r,ku:e,Cp:n.Iu-i}}},t.Ap=function(t,n,i){var e=t.Pi,r=t.op,u=ss(cs(e),r.Iu,e.byteLength);return i&&(u=vs(u)),r.Su(u.byteLength),{gr:n,Pi:u}},t.Pp=function(n,i,e){var r=Im(n.hp());return{gr:i,xp:r.version,Lp:r.flags,Pi:t.Ap(n,i,e).Pi}},t}();function Sm(t,n){var i=Em(t,n);if(!i)throw new f("Missing "+n+" atom");return i}function Em(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.gr===n)return e.Pi}}function Rm(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];r.gr===n&&i.push(r.Pi)}return i}function Im(t){return{version:t>>24,flags:new Bu(16777215&t)}}var Dm=function(){function t(){}return t.Bp=function(n){for(var i=[],e=Tm._p(new _m(n,new ds)),r=0;r<e.length;r++){var u=e[r],s=t.Mp(u);s&&i.push(s)}return i},t.Fp=function(t){return Tm.kp(t,new ds,!1).Si.some(this.Up)},t.Vp=function(n){return Rm(Tm._p(new _m(n,new ds)),Py.Yb).map(t.qp)},t.zp=function(n){return Rm(Tm._p(n.Pi),Py.Yb).map(t.qp)},t.Up=function(t){return t.gr===Py.Zb||t.gr===Py.Qb||t.gr===Py.wb||t.gr===Py.qb||t.gr===Py.Gb||t.gr===Py.Jb||t.gr===Py.Kb},t.Mp=function(n){switch(n.gr){case Py.wb:return t.Wp(n.Pi);case Py.qb:return t.Hp(n.Pi,n.Iu);case Py.Gb:return t.jp(n.Pi);case Py.Jb:return t.$p(n.Pi);case Py.Kb:return t.Xp(n.Pi)}},t.Wp=function(n){var i=Tm._p(n),e=Sm(i,Py.gb),r=Rm(i,Py.yb),u=Em(i,Py.Rb),s=t.Gp(e),o=r.map(t.Yp),c=u?t.Kp(u):void 0;return{gr:Py.wb,Np:s,Jp:o,Qp:c}},t.Gp=function(t){var n=Im(t.hp()),i=n.version,e=n.flags,r=1===i?t.dp():t.hp(),u=1===i?t.dp():t.hp(),s=t.hp(),o=1===i?t.dp():t.hp(),c=t.hp(),a=t.ap()>>8;t.mp(2),t.mp(8);var f=t.wp(9);t.mp(24);var h=t.hp();return{gr:Py.gb,xp:i,Lp:e,Zp:r,t_:u,Nm:s,pw:o,n_:c,Nw:a,i_:f,e_:h}},t.Yp=function(n){var i=Tm._p(n),e=Sm(i,Py.mb),r=Sm(i,Py.bb),u=t.r_(e),s=t.u_(r);return{gr:Py.yb,Np:u,s_:s}},t.r_=function(t){var n=Im(t.hp()),i=n.version,e=n.flags,r=1===i?t.dp():t.hp(),u=1===i?t.dp():t.hp(),s=t.hp();t.mp(4);var o=1===i?t.dp():t.hp();t.mp(8);var c=t.fp(),a=t.fp(),f=t.fp()/d.pow(2,8);t.mp(2);var h=t.wp(9),v=t.hp()/d.pow(2,16),l=t.hp()/d.pow(2,16);return{gr:Py.mb,o_:e.Nu(1),c_:e.Nu(2),a_:e.Nu(4),Zp:r,t_:u,f_:s,pw:o,h_:c,v_:a,Nw:f,i_:h,Dy:v,d_:l}},t.u_=function(n){var i=Tm._p(n),e=Sm(i,Py.pb),r=Sm(i,Py._b),u=Sm(i,Py.kb),s=t.l_(e),o=t.w_(r),c=t.g_(u);return{gr:Py.bb,Np:s,y_:o,m_:c}},t.l_=function(t){var n=Im(t.hp()),i=n.version,e=n.flags,r=1===i?t.dp():t.hp(),u=1===i?t.dp():t.hp(),s=t.hp(),o=1===i?t.dp():t.hp();t.ap();return t.mp(2),{gr:Py.pb,xp:i,Lp:e,Zp:r,t_:u,Nm:s,pw:o}},t.w_=function(t){var n=Im(t.hp()),i=n.version,e=n.flags;t.mp(4);var r=t.gp(4);t.mp(12);var u=t.yp();return{gr:Py._b,xp:i,Lp:e,b_:r,vi:u}},t.g_=function(n){var i=Sm(Tm._p(n),Py.Tb),e=t.p_(i);return{gr:Py.kb,__:e}},t.p_=function(n){var i=Sm(Tm._p(n),Py.Sb),e=t.k_(i);return{gr:Py.Tb,T_:e}},t.k_=function(n){for(var i=Im(n.hp()),e=i.version,r=i.flags,u=(n.hp(),[]),s=Tm._p(n),o=0;o<s.length;o++){var c=s[o],a=t.S_(c.Pi,c.gr);a&&u.push(a)}return{gr:Py.Sb,xp:e,Lp:r,E_:u}},t.S_=function(n,i){var e=t.R_(n,i);return e||((e=t.I_(n,i))||(i===Py.Bb?t.D_(n):void 0))},t.R_=function(n,i){return i===Py.xb?t.N_(n):i===Py.Ub?t.O_(n):void 0},t.I_=function(n,i){return i===Py.Db?t.C_(n):i===Py.Ob||i===Py.Cb?t.A_(n,i):i===Py.Vb?t.P_(n):void 0},t.x_=function(t,n){return t.mp(6),{gr:n,L_:t.ap()}},t.B_=function(n,i){var e=t.x_(n,i);n.mp(8);var r=n.ap(),u=n.ap();return n.mp(2),n.mp(2),He({},e,{M_:r,F_:u,U_:n.hp()>>>16})},t.V_=function(n,i){var e=t.x_(n,i);n.mp(2),n.mp(2),n.mp(12);var r=n.ap(),u=n.ap(),s=n.hp(),o=n.hp();n.mp(4);var c=n.ap();n.mp(32);var a=n.ap();return n.mp(2),He({},e,{Dy:r,d_:u,q_:s,z_:o,W_:c,H_:a})},t.N_=function(n){var i=t.B_(n,Py.xb),e=Sm(Tm._p(n),Py.Lb);return He({},i,{j_:t.X_(e)})},t.D_=function(n){var i=t.x_(n,Py.Bb),e=Tm._p(n),r=Sm(e,Py.Mb),u=t.G_(r),s=Em(e,Py.Fb);return He({},i,{Y_:u,K_:s?t.J_(s):s})},t.G_=function(t){return{gr:Py.Mb,lc:t.yp()}},t.J_=function(t){return{gr:Py.Fb,El:t.yp()}},t.X_=function(t){return Tm.Pp(t,Py.Lb,!0)},t.C_=function(n){var i=t.V_(n,Py.Db),e=Tm._p(n),r=Sm(e,Py.Nb),u=Em(e,Py.Pb);return He({},i,{Q_:t.Z_(r),tk:u?t.nk(u):void 0})},t.A_=function(n,i){var e=t.V_(n,i),r=Sm(Tm._p(n),Py.Ab);return He({},e,{ik:t.ek(r)})},t.P_=function(n){var i=n.Ru(),e=t.V_(n,Py.Vb),r=Sm(Tm._p(n),Py.tp),u=t.rk(r);return He({},e,{uk:t.I_(i,u.ck.sk),ak:u})},t.O_=function(n){var i=n.Ru(),e=t.B_(n,Py.Ub),r=Sm(Tm._p(n),Py.tp),u=t.rk(r);return He({},e,{uk:t.R_(i,u.ck.sk),ak:u})},t.rk=function(n){var i=Sm(Tm._p(n),Py.np),e=t.fk(i);return{gr:Py.tp,ck:e}},t.fk=function(t){var n=t.gp(4);return{gr:Py.np,sk:n}},t.Z_=function(t){return Tm.Ap(t,Py.Nb,!0)},t.ek=function(t){return Tm.Ap(t,Py.Ab,!0)},t.nk=function(t){var n=t.hp(),i=t.hp();return{gr:Py.Pb,hk:n,vk:i}},t.Kp=function(n){var i=Rm(Tm._p(n),Py.Ib).map(t.dk);return{gr:Py.Rb,Jp:i}},t.dk=function(t){var n=Im(t.hp()),i=n.version,e=n.flags,r=t.hp(),u=t.hp(),s=t.hp(),o=t.hp(),c=t.hp();return{gr:Py.Ib,xp:i,Lp:e,f_:r,lk:u,wk:s,gk:o,yk:c}},t.Hp=function(n,i){var e=Tm._p(n),r=Sm(e,Py.zb),u=Rm(e,Py.Wb),s=t.mk(r),o=u.map(t.bk);return{gr:Py.qb,pk:i,Np:s,Jp:o}},t.mk=function(t){var n=Im(t.hp()),i=n.version,e=n.flags,r=t.hp();return{gr:Py.zb,xp:i,Lp:e,_k:r}},t.bk=function(n){var i=Tm._p(n),e=Sm(i,Py.Hb),r=Rm(i,Py.jb),u=Em(i,Py.$b),s=t.kk(e),o=r.map(function(n){return t.Tk(n,s)}),c=u?t.Sk(u):void 0;return{gr:Py.Wb,Np:s,Ek:o,Rk:c}},t.kk=function(t){var n=Im(t.hp()),i=n.version,e=n.flags,r=t.hp(),u=e.Nu(Ly.BASE_DATA_OFFSET_PRESENT)?t.dp():void 0,s=e.Nu(Ly.SAMPLE_DESCRIPTION_INDEX_PRESENT)?t.hp():void 0,o=e.Nu(Ly.DEFAULT_SAMPLE_DURATION_PRESENT)?t.hp():void 0,c=e.Nu(Ly.DEFAULT_SAMPLE_SIZE_PRESENT)?t.hp():void 0,a=e.Nu(Ly.DEFAULT_SAMPLE_FLAGS_PRESENT)?t.hp():void 0;return{gr:Py.Hb,xp:i,Lp:e,f_:r,Ik:u,Dk:s,wk:o,gk:c,yk:a}},t.Tk=function(n,i){for(var e=Im(n.hp()),r=e.version,u=e.flags,s=n.hp(),o=u.Nu(By.DATA_OFFSET_PRESENT)?n.vp():void 0,c=u.Nu(By.FIRST_SAMPLE_FLAGS_PRESENT)?n.hp():void 0,a=[],f=0;f<s;f++){var h=t.Nk(n,u,r,i);0===f&&void 0!==c&&(h.Lp=c),a.push(h)}return{gr:Py.jb,xp:r,Lp:u,Ok:s,pk:o,Ck:c,Ak:a}},t.Nk=function(t,n,i,e){return{pw:n.Nu(By.SAMPLE_DURATION_PRESENT)?t.hp():e.wk,ku:n.Nu(By.SAMPLE_SIZE_PRESENT)?t.hp():e.gk,Lp:n.Nu(By.SAMPLE_FLAGS_PRESENT)?t.hp():e.yk,Pk:n.Nu(By.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT)?0===i?t.hp():t.vp():void 0}},t.Xp=function(t){var n=t.Pi,i=t.op,e=Im(Wu(n,i)),r=e.version,u=e.flags;if(1===r){var s=Wu(n,i),o=ju(n,i),c=Wu(n,i),a=Wu(n,i),f=Xu(n,i),h=Xu(n,i),v=hs(cs(n),i.Iu,n.byteLength);return i.Su(v.byteLength),{gr:Py.Kb,xp:r,Lp:u,xk:f,wi:h,Nm:s,Lk:o,Bk:c,kl:a,Mk:v}}var d=Xu(n,i),l=Xu(n,i),w=Wu(n,i),g=Wu(n,i),y=Wu(n,i),m=Wu(n,i),b=hs(cs(n),i.Iu,n.byteLength);return i.Su(b.byteLength),{gr:Py.Kb,Lp:u,xp:r,xk:d,wi:l,Nm:w,Fk:g,Bk:y,kl:m,Mk:b}},t.jp=function(t){return Tm.Ap(t,Py.Gb,!1)},t.qp=function(n){var i=n.Pi,e=n.op,r=vs(cs(i)).buffer,u=Im(Wu(i,e)),s=u.version,o=u.flags,c=t.Uk(i,e),a=[];if(s>0)for(var f=Wu(i,e),h=0;h<f;h++){var v=Uu(i,e,16);a.push(v)}var d=Wu(i,e),l=new y(r,e.Iu,d);return e.Su(i.byteLength),{gr:Py.Yb,xp:s,Lp:o,Vk:c,qk:a,zk:d,Pi:l,Wk:r}},t.Uk=function(t,n){for(var i="",e=0;e<4;e++){var r=Mu(t,n).toString(16);i+=1===r.length?"0"+r:r}i+="-";for(var u=0;u<2;u++){var s=Mu(t,n).toString(16);i+=1===s.length?"0"+s:s}i+="-";for(var o=0;o<2;o++){var c=Mu(t,n).toString(16);i+=1===c.length?"0"+c:c}i+="-";for(var a=0;a<2;a++){var f=Mu(t,n).toString(16);i+=1===f.length?"0"+f:f}i+="-";for(var h=0;h<6;h++){var v=Mu(t,n).toString(16);i+=1===v.length?"0"+v:v}return i.toLowerCase()},t.$p=function(t){var n,i,e=t.Pi,r=t.op,u=Im(Wu(e,r)),s=u.version,o=u.flags,c=Wu(e,r),a=Wu(e,r);0===s?(n=Yt.fromBits(Wu(e,r),0,!0),i=Yt.fromBits(Wu(e,r),0,!0)):(n=ju(e,r),i=ju(e,r)),r.Su(2);for(var f=qu(e,r),h=[],v=0;v<f;v+=1){var d=Wu(e,r),l=d>>31&1,w=2147483647&d,g=Wu(e,r),y=Wu(e,r),m=y>>31&1,b=y>>28&7,p=268435455&y;h.push({Hk:l,jk:w,pw:g,$k:m,Xk:b,Gk:p})}return{gr:Py.Jb,xp:s,Lp:o,Yk:c,Nm:a,Kk:n,Jk:i,Qk:f,Zk:h}},t.Sk=function(t){var n,i=t.Pi,e=t.op,r=Im(Wu(i,e)),u=r.version,s=r.flags;return n=0===u?Yt.fromBits(Wu(i,e),0,!0):ju(i,e),{gr:Py.$b,xp:u,Lp:s,Rk:n}},t}();function Nm(t){return t&&"Ti"in t?t.Ti:t}var Om=function(t){function n(n,i,e,r,u,s,o){var c;return(c=t.call(this,n,i,e,r)||this).tT=void 0,c.nT=void 0,c.iT=void 0,c.tT=u,c.nT=s,c.iT=o||void 0,c}return vt(n,t),n.prototype.yy=function(n){return this===n||!!aw(this,n)&&(!!t.prototype.yy.call(this,n)&&(!!cw(this.eT,n.eT)&&(!!cw(this.ab,n.ab)&&(this.rT&&n.rT?!!this.rT.ai(n.rT)&&(this.sy&&n.sy?this.sy.ai(n.sy):this.sy===n.sy):this.rT===n.rT))))},ft(n,[{key:"eT",get:function(){return this.tT}},{key:"ab",get:function(){return this.nT}},{key:"rT",get:function(){return this.iT}},{key:"Pd",get:function(){var t;return this.Ad||(this.Ad=sw(ly(t=this),{get styles(){return t.eT},get regions(){return t.ab},get metadata(){return Nm(t.rT)},get content(){return Nm(t.sy)}})),this.Ad}}]),n}(by),Cm=function(){function t(t,n,i){this.Ef=void 0,this.uT=void 0,this.sT=void 0,this.uT=t,this.sT=n,rn(i)?this.Ef=function(t,n,i){for(var e=0,r=["begin","end","dur"];e<r.length;e++){var u=r[e];i.Ii(u)}return i}(0,0,i):this.Ef=i}return ft(t,[{key:"oT",get:function(){return this.Ef.fi(!0)}},{key:"ey",get:function(){return this.uT}},{key:"uy",get:function(){return this.sT}}]),t}();var Am="http://www.w3.org/XML/1998/namespace";function Pm(t,n){return function(t,n){var i=t.Si.slice(),e=[];for(;i.length>0;){var r=i.shift();n(r)?e.push(r):i.push.apply(i,r.Si)}return e}(t,function(t){return t.pi===n})}function xm(t,n){for(var i=t,e=0;e<n.length;e++){var r=n[e];i=i.replace(r+":","")}return i}function Lm(t,n){for(var i=t.Ci,e={},r=0;r<i.length;r++)e[xm(i[r].vi,n)]=i[r].wi;return e}var Bm=/^(\d\d+):(\d\d):(\d+)((\.(\d+))?|(:(\d\d+)(\.(\d+))?))$/,Mm=/^(\d+)(\.(\d+))?(h|m|s|ms|f|t)$/,Fm="http://www.w3.org/ns/ttml";function Um(t,n,i){return void 0===i&&(i=Vy),function(t,n,i){var e,r=[];try{e=st.oi(t)}catch(t){return r}var u=e.xi;if("tt"!==u.hi)return r;var s=u&&u._i(Fm,"head")[0],o=u&&u._i(Fm,"body")[0],c=["ebutts","tts","xml"];if(!o||!s)return r;for(var a=function(t,n){for(var i={},e=t._i(Fm,"styling")[0],r=e&&e._i(Fm,"style")||[],u=0;u<r.length;u++){var s=r[u],o=s.Ri(Am,"id");i[o]=Lm(s,n)}return i}(s,c),f=function(t,n){var i=ow(t),e=Wm(n.Ei("tts:extent"));if(!e)return i;for(var r=0,u=v.keys(i);r<u.length;r++){var s=u[r],o=Wm(i[s].extent);if(o){var c=qm(o[0],e[0]),a=qm(o[1],e[1]);i[s].extent=c+" "+a}var f=Wm(i[s].origin);if(f){var h=qm(f[0],e[0]),d=qm(f[1],e[1]);i[s].origin=h+" "+d}}return i}(function(t,n){for(var i={},e=t._i(Fm,"layout")[0],r=e&&e._i(Fm,"region")||[],u=0;u<r.length;u++){var s=r[u],o=s.Ri(Am,"id");if(o){i[o]=Lm(s,n);var c=$m(s,n);for(var a in c)Et.call(c,a)&&(i[o][a]=c[a])}}return i}(s,c),u),h=s._i(Fm,"metadata")[0],d=function t(n,i,e,r){var u=i;var s;var o=e;var c=[];var a=[];if(rn(n)){var f,h;u=null!=(f=jm(n.Ei("begin"),r))?f:u,s=jm(n.Ei("dur"),0),o=null!=(h=jm(n.Ei("end"),r))?h:void 0!==s?u+s:o;for(var v=n.bi,d=0;d<v.length;d++)("body"===n.hi||"div"===n.hi)&&v[d].ni>1||(c=c.concat(t(v[d],u,o,r)))}var l=function(t,n,i){var e=[];e.push(t,n);for(var r=0;r<i.length;r++){var u=i[r];e.push(u.ey,u.uy)}e.sort(Pr);for(var s=e.length,o=0;o<s-1;o++)e[o+1]===e[o]&&(Fr(e,o+1),o--,s=e.length);return e}(u,o,c);for(var w=0;w<l.length-1;w++){var g=Hm(l[w],l[w+1],c);if(g.length<=0&&Xm(n)){var y=n.fi(!1);a.push(new Cm(l[w],l[w+1],y))}else g.length>0&&function(){var t=n.fi(!1);g.forEach(function(n){return t.ki(n.oT)}),a.push(new Cm(l[w],l[w+1],t))}()}return a}(o,i.sb,i.ob,i.cb),l=0;l<d.length;l++){var w=d[l],g=Vm(f,w);r.push(new Om(w.ey,w.uy,w.oT,!1,a,g,h))}return r}(t,0,i)}function Vm(t,n){for(var i=function t(n){var i=[];var e;if(rn(n)){(e=n.Ei("region"))&&i.push(e);for(var r=n.bi,u=0;u<r.length;u++)i=i.concat(t(r[u]))}return i}(n.oT),e={},r=0;r<i.length;r++){var u=i[r];e[u]=t[u]}return e}function qm(t,n){var i=zm(t),e=zm(n);if(i&&e&&i===e){var r=Number(t.slice(0,-i.length)),u=Number(n.slice(0,-e.length));return g(r)||g(u)?t:r/u*100+"%"}return t}function zm(t){return _r(t,"px")?"px":_r(t,"em")?"em":_r(t,"c")?"c":_r(t,"%")?"%":void 0}function Wm(t){if(t){var n=t.split(" ");if(2===n.length)return[n[0],n[1]]}}function Hm(t,n,i){for(var e=[],r=0;r<i.length;r++){var u=i[r].ey,s=i[r].uy;(u>=t&&s<=n||u<n&&s>=n||u<t&&s>t)&&e.push(i[r])}return e}function jm(t,n){if(t){if(Bm.test(t)){var i=Bm.exec(t);if(!i)return;var e=Number(i[1])||0,r=Number(i[2])||0,u=Number(i[3])||0,s=i[6];return 3600*e+60*r+u+(s?Number(s)*d.pow(.1,s.length):0)+n}if(Mm.test(t)){var o=Mm.exec(t);if(!o)return;var c,a=Number(o[1]);switch(o[4]){case"h":c=3600*a;break;case"m":c=60*a;break;case"s":c=a;break;case"ms":c=.001*a;break;case"f":case"t":default:c=NaN}return c+n}}}function $m(t,n){for(var i={},e=t.mi("style")||[],r=0;r<e.length;r++){var u=Lm(e[r],n);for(var s in u)Et.call(u,s)&&(i[s]=u[s])}return i}function Xm(t){if(rn(t)){var n=t.hi.toUpperCase(),i=Boolean(t.Ei("smpte:backgroundImage"));return"BR"===n||i}return t.ni===en.ri}function Gm(t){var n=function(t){try{return st.oi(t).xi}catch(t){}}(t);return"tt"===(null==n?void 0:n.hi)}var Ym,Km=function(t){function n(){return t.apply(this,arguments)||this}vt(n,t);var i=n.prototype;return i.ol=function(n){return t.prototype.ol.call(this,n)},i.cl=function(n){var i=t.prototype.cl.call(this,n);return i&&(n.Cl=Tw.xl),i},i.xd=function(){return Nw(this)},n}(tw);!function(t){t.ip="subtitles",t.cT="captions",t.aT="descriptions",t.fT="chapters",t.rp="metadata",t.hT="thumbnails"}(Ym||(Ym={}));var Jm=[Ym.ip,Ym.cT,Ym.aT,Ym.fT,Ym.rp,Ym.hT];function Qm(t){var n=String(t||"").toLowerCase();return function(t){return"string"==typeof t&&Ur(Jm,t)}(n)?n:n?Ym.rp:Ym.ip}var Zm,tb=function(t){function n(n,i,e,r,u){var s;return(s=t.call(this,n,i,u)||this).url=void 0,s.status=void 0,s.url=e,s.status=r,s}return vt(n,t),n}(sc);function nb(t,n){return t===Ym.hT||t===Ym.rp&&n===Ym.hT}function ib(t,n,i,e){for(var r=0,u=t.Fl.hl;r<u.length;r++){var s=u[r];if(s.ey>i)break;n<=s.uy&&e.push(s)}}function eb(t,n){return Ar(t.Tl,n.Tl)}function rb(t,i){var e=i,r=0;if(t instanceof vd&&t.name===cd.Tv)e=t.Wh.jh;else if(function(t){return t instanceof ld}(t)){var u=t.Dv;if(e=u.Hh,0===(r=u.Fh))return new tb(n.ErrorCode.SUBTITLE_CORS_ERROR,"Could not load the subtitle file. Make sure the source is set correctly and that CORS support is enabled.",e,r,t)}return new tb(n.ErrorCode.SUBTITLE_LOAD_ERROR,"Could not load the subtitle file.",e,r,t)}function ub(t,i,e,r){var u=function(t){switch(t){case oy.WEBVTT:return"WebVTT";case oy.SRT:return"SRT";case oy.TTML:return"TTML";default:return""}}(t);return new tb(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Could not parse the "+(u?u+" ":"")+"subtitle file.",i,e,r)}function sb(t){return sm(Ky(t))?oy.WEBVTT:Gm(t)?oy.TTML:oy.SRT}function ob(t,n){for(var i=[],e=0,r=t.Fl.hl;e<r.length;e++){var u=r[e];if(u.uy<=n)i.push(u);else if(u.ey>=n)break}for(var s=0;s<i.length;s++){var o=i[s];t.vT(o)}}!function(t){t.dT="vtt",t.Bb="wvtt",t.lT="stpp"}(Zm||(Zm={}));var cb=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Jp=new Km,n.wT=function(t){var i=t.Ld;n.gT(i)},n}vt(n,t);var i=n.prototype;return i.ol=function(t){t.Kr(Xl.$d,this.wT),this.Jp.ol(t),this.gT(t)},i.cl=function(t){t.tu(Xl.$d,this.wT),t.Cl=Tw.xl,this.Jp.cl(t)},i.yT=function(t){},i.mT=function(t){},i.gT=function(t){t.Cl!==Tw.xl?this.yT(t):this.mT(t)},i.bT=function(){for(var t=0,n=this.Jp.hl;t<n.length;t++){var i=n[t];i.tu(Xl.$d,this.wT),i.et()}},i.pT=function(t){if(t>0)for(var n=0,i=this.Jp.hl;n<i.length;n++){ob(i[n],t)}},i.fl=function(){return this.bT(),this.Jp.fl(),j.resolve()},i.et=function(){return We.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Zr(),t.next=3,We.awrap(this.fl());case 3:this.Jp.et();case 4:case"end":return t.stop()}},null,this,null,j)},n}(eu),ab=function(t){function n(n){var i;return(i=t.call(this,Sw.Nl)||this).errorObject=n,i}return vt(n,t),n.prototype.xd=function(){return this},ft(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}($l),fb=function(t){function n(n,i){var e;return(e=t.call(this)||this)._T=void 0,e.kT=void 0,e.TT=new zr,e._T=n,e.kT=i,e}vt(n,t);var i=n.prototype;return i.ST=function(t){if(t.src){var n=t.kind||Ym.ip,i=this._T.ET(n,t.id,t.label,t.srclang,t.default);return i.Vl=od(t.src),this.ol(i),i}},i.RT=function(t,n){var i,e,r,u,s,o,c,a,f,h;return We.async(function(v){for(;;)switch(v.prev=v.next){case 0:return t.Ml=sy.LOADING,i=new ed({jh:t.Vl,Vh:Ic.ri,av:Qv.GET,Hr:n}),v.prev=2,v.next=5,We.awrap(this.kT.Wh(i));case 5:return u=v.sent,r=u.Fh,v.next=9,We.awrap(u.kh());case 9:e=v.sent,v.next=18;break;case 12:return v.prev=12,v.t0=v.catch(2),$r(v.t0),t.Ml=sy.ERROR,t.Yr(new ab(rb(v.t0,t.Vl))),v.abrupt("return");case 18:for(v.prev=18,s=sb(e),t.gr=s,o=[],s===oy.WEBVTT||s===oy.SRT?(c=Yy(e),o=c.Fl):s===oy.TTML&&(o=Um(e)),a=0,f=o;a<f.length;a++)h=f[a],t.IT(h);v.next=32;break;case 26:return v.prev=26,v.t1=v.catch(18),$r(v.t1),t.Ml=sy.ERROR,t.Yr(new ab(ub(t.gr,t.Vl,r,v.t1))),v.abrupt("return");case 32:t.Ml=sy.LOADED;case 33:case"end":return v.stop()}},null,this,[[2,12],[18,26]],j)},i.yT=function(t){Ur(this.Jp.hl,t)&&t.Ml===sy.NONE&&this.RT(t,this.TT.Hr).catch(Xr)},i.rc=function(){},i.fl=function(){var n,i,e;return We.async(function(r){for(;;)switch(r.prev=r.next){case 0:for(this.TT.qr(),this.TT=new zr,n=0,i=this.Jp.hl;n<i.length;n++)e=i[n],this._T.DT(e);return r.next=5,We.awrap(t.prototype.fl.call(this));case 5:case"end":return r.stop()}},null,this,null,j)},n}(cb);function hb(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.Sl===n&&e.NT)return e}}function vb(t,n){db(hb(t.hl,n))}function db(t){void 0!==t&&(t.Cl=Tw.Al)}function lb(t,n){db(hb(t.hl,n)||function(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.Sl===n)return e}}(t.hl,n))}function wb(t){for(var n=0;n<Jm.length;n++){var i=Jm[n];i===Ym.fT?lb(t,i):vb(t,i)}}var gb,yb=function(t){function n(){return t.call(this,Rc.xa)||this}return vt(n,t),n}(uu);!function(t){t[t.OT=0]="OT",t[t.CT=1]="CT"}(gb||(gb={}));var mb=t,bb=mb.MediaSource,pb=mb.WebKitMediaSource,_b=mb.TextTrack,kb=e&&e.createElement("video"),Tb=(e&&e.documentElement.style,St.hn&&St.qn&&St.zn<=26),Sb=(St.Sn,!(!bb&&!pb)),Eb=!!_b,Rb=(e&&(e.fullscreenEnabled||e.webkitFullscreenEnabled||e.mozFullScreenEnabled||e.msFullscreenEnabled)||St._n,St.Mn&&St.Fn,kb&&kb.canPlayType&&(""!==kb.canPlayType("application/vnd.apple.mpegURL")||St.ln&&!St.Mn&&St.wn),kb&&kb.canPlayType&&""!==kb.canPlayType("video/mp4")&&!Tb),Ib=Sb&&!St.Un&&!St.xn&&!St.Pn&&((bb||pb).isTypeSupported?(bb||pb).isTypeSupported('audio/mp4; codecs="mp4a.40.34"'):kb&&kb.canPlayType&&""!==kb.canPlayType('audio/mp4; codecs="mp4a.40.34"'));Sb&&!St.Un&&(Ib||((bb||pb).isTypeSupported?(bb||pb).isTypeSupported("audio/mpeg"):kb&&kb.canPlayType&&kb.canPlayType("audio/mpeg"))),Sb&&!(St.Bn&&St.hn)&&(bb||pb).isTypeSupported&&(bb||pb).isTypeSupported('video/mp4; codecs="avc1.4d401e"'),St.Un||St.xn||St.Pn,St.Ln,St.Un,St.xn&&St.vn&&St.dn;try{i&&i.top!==i.self}catch(t){!0}var Db=function(t){function n(n){var i;return(i=t.call(this,eg.yw)||this).currentTime=n,i}return vt(n,t),n}(uu),Nb=function(t){function n(n){var i;return(i=t.call(this,eg.mw)||this).currentTime=n,i}return vt(n,t),n}(uu),Ob=function(t){function n(n,i){var e;return void 0===i&&(i=!1),(e=t.call(this)||this).AT=zw.cw,e.PT=!0,e.xT=!1,e.LT=!1,e.BT=function(t){var n=t.readyState;n!==e.AT&&e.Yr(t),n===zw.cw&&(e.xT=!1,e.LT=!1),e.MT(n),e.FT(n),e.UT(n),e.maybeDispatchCanPlayThroughEvent(n),e.VT(n),e.qT(n),e.AT=n},e.zT=function(){e.qT(e.AT),e.VT(e.AT),e.PT=e.WT.Sw},e.HT=function(){e.PT=e.WT.Sw},e.WT=n,e.jT=i,e.WT.Kr(eg.Gd,e.BT),e.WT.Kr(Rc.Oa,e.zT),e.WT.Kr(Rc.Na,e.HT),e.jT&&e.WT.Kr(eg.mw,e.Gr),e}vt(n,t);var i=n.prototype;return i.MT=function(t){!this.LT&&t>=zw.aw&&(this.LT=!0,this.Yr(new fg(this.WT.bw,t)))},i.FT=function(t){!this.xT&&t>=zw.fw&&(this.xT=!0,this.Yr(new wg(this.WT.bw,t)))},i.VT=function(t){this.jT||(t>=zw.hw&&this.AT<zw.hw&&!this.WT.Sw||this.$T&&t>=zw.hw)&&this.Yr(new Nb(this.WT.bw))},i.qT=function(t){!this.XT(t)||this.WT._w||this.WT.fu||this.Yr(new Db(this.WT.bw))},i.UT=function(t){this.AT<=zw.fw&&t>=zw.hw&&this.Yr(new bg(this.WT.bw,t))},i.maybeDispatchCanPlayThroughEvent=function(t){t===zw.vw&&this.Yr(new pg(this.WT.bw,t))},i.XT=function(t){var n=!this.WT.Sw&&t<=zw.fw,i=!this.PT&&this.AT<=zw.fw;return n&&!i},i.fl=function(){this.AT=zw.cw,this.PT=!0,this.xT=!1,this.LT=!1},i.et=function(){this.Zr(),this.jT&&this.WT.tu(eg.mw,this.Gr),this.WT.tu(Rc.Oa,this.zT),this.WT.tu(Rc.Na,this.HT),this.WT.tu(eg.Gd,this.BT)},ft(n,[{key:"$T",get:function(){return!this.WT.Sw&&this.PT}}]),n}(eu),Cb="titanium",Ab="conax",Pb="ezdrm",xb="irdeto",Lb="vudrm",Bb="verimatrix",Mb="keyos",Fb="drmtoday",Ub="expressplay",Vb="azure",qb="xstream",zb="vimond",Wb="axinom",Hb="uplynk",jb="comcast",$b="custom",Xb=function(){function t(t,n,i,e,r){this.dc=void 0,this.GT=void 0,this.YT=void 0,this.KT=void 0,this.kT=void 0,this.JT=void 0,this.QT=void 0,this.dc=t,this.GT=n,this.YT=i,this.kT=e,this.QT=r,this.KT=this.ZT(n)}var i=t.prototype;return i.tS=function(){return this.JT},i.nS=function(t){this.JT=t},i.iS=function(){return this.KT.licenseAcquisitionURL||this.tS()},i.eS=function(t){return j.resolve()},i.rS=function(t,n){return j.resolve(void 0)},i.uS=function(t,i,e,r){var u,s;return We.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(""!==(u=this.sS(t,i,e,r)).jh){o.next=3;break}throw new Hg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 3:return o.prev=3,o.next=6,We.awrap(this.Id.Wh(u));case 6:return s=o.sent,o.next=9,We.awrap(s.Th(i));case 9:return o.abrupt("return",o.sent);case 12:return o.prev=12,o.t0=o.catch(3),$r(o.t0),o.next=17,We.awrap(this.oS(o.t0,u.jh,r));case 17:return o.abrupt("return");case 18:case"end":return o.stop()}},null,this,[[3,12]],j)},i.sS=function(t,n,i,e){var r=this.cS().Ja(),u=this.dv,s={jh:this.aS(),Vh:n,Uh:r,Ih:t,dv:u,av:Qv.POST,fv:0,Hr:e,gr:Zv.Kh,hv:i};return new ed(s)},i.fS=function(t,n){return j.resolve(t)},i.hS=function(t,n,i,e){return j.resolve(t)},i.cS=function(){return new Dc(this.KT.headers||{})},i.oS=function(t,i,e){return We.async(function(i){for(;;)switch(i.prev=i.next){case 0:throw new Hg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during license server request",t);case 1:case"end":return i.stop()}},null,null,null,j)},i.aS=function(t,n){var i=n,e=this.KT.queryParameters;if(!i){var r=this.iS();if(!r)return"";i=r}if(e||t){var u=st.ze(i);t&&sd(u,t),e&&sd(u,e),i=u.href}return i},i.vS=function(t){return function(t,n){var i=n.licenseResponseProcessor;return j.resolve(new y(Gb(t,i)))}(t,this.KT)},i.dS=function(t,n,i){var e,r,u;return We.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,We.awrap(this.lS(t,i));case 2:return e=s.sent,s.next=5,We.awrap(this.uS(e,this.QT,n,i));case 5:return r=s.sent,s.next=8,We.awrap(this.vS(r));case 8:return u=s.sent,s.abrupt("return",u);case 10:case"end":return s.stop()}},null,this,null,j)},i.et=function(){},ft(t,[{key:"Id",get:function(){return this.kT}},{key:"wS",get:function(){return!1}},{key:"gS",get:function(){var t=this.KT.certificate;if(t)return At(t)?bu(t):fs(t)}},{key:"yS",get:function(){return!1}},{key:"dv",get:function(){return Boolean(this.KT.useCredentials)}}]),t}();function Gb(t,i){if(!t||!i||"function"!=typeof i)return t;try{return i(t)}catch(t){throw new Hg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error while preprocessing DRM data",t)}}function Yb(t,n){var i=vs(t).buffer,e=n.licenseRequestProcessor;return j.resolve(Gb(i,e))}var Kb,Jb,Qb=function(t){function n(n,i,e,r){return t.call(this,wr,n,i,e,r)||this}vt(n,t);var i=n.prototype;return i.ZT=function(t){return t.widevine||{}},i.mS=function(t,n){return We.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!this.gS){i.next=2;break}return i.abrupt("return",this.gS);case 2:return i.abrupt("return",this.bS(new y(t),n));case 3:case"end":return i.stop()}},null,this,null,j)},i.bS=function(n,i){return t.prototype.dS.call(this,n,td.tv,i)},n}(Xb);function Zb(t,n){if(null==t)return{};var i,e,r={},u=v.keys(t);for(e=0;e<u.length;e++)i=u[e],n.indexOf(i)>=0||(r[i]=t[i]);return r}function tp(t){return It(t.token&&t.deviceId)}function np(t){var n,i=null==(n=t.fairplay)?void 0:n.headers;return void 0!==i&&It(i.PreAuthorization)}function ip(t){var n=t;return tp(n)&&""!==n.token&&""!==n.deviceId&&!np(n)}(Jb=Kb||(Kb={})).pS=!1,Jb._S=!1,Jb.kS=!1,Jb.TS=!1,Jb.LOG_ADS_DETAILS=!1,Jb.LOG_CHROMECAST_DETAILS=!1,Jb.LOG_CUSTOM_DRM=!1,Jb.LOG_BUFFERING_VIDEO_MAIN=!1,Jb.LOG_BUFFERING_VIDEO_SELECTION=!1,Jb.LOG_BUFFERING_AUDIO_MAIN=!1,Jb.LOG_BUFFERING_AUDIO_SELECTION=!1,Jb.SS=!1,Jb.ES=!1;var ep,rp=function(){function t(t,n,i){this.RS=t,this.Zo=n,this.IS=i}return t.prototype.DS=function(t){return function(t){var n=t.onCertificateRequest;if(void 0!==n&&"function"!=typeof n)throw new h("ContentProtectionIntegration.onCertificateRequest is not a function.");var i=t.onCertificateResponse;if(void 0!==i&&"function"!=typeof i)throw new h("ContentProtectionIntegration.onCertificateResponse is not a function.");var e=t.onLicenseRequest;if(void 0!==e&&"function"!=typeof e)throw new h("ContentProtectionIntegration.onLicenseRequest is not a function.");var r=t.onLicenseResponse;if(void 0!==r&&"function"!=typeof r)throw new h("ContentProtectionIntegration.onLicenseResponse is not a function.");var u=t.extractFairplayContentId;if(void 0!==u&&"function"!=typeof u)throw new h("ContentProtectionIntegration.extractFairplayContentId is not a function.");return t}(this.IS.build(t))},ft(t,[{key:"NS",get:function(){return this.RS}},{key:"dc",get:function(){return this.Zo}}]),t}();!function(t){t.FAILED="FAILED",t.OVERRIDDEN="OVERRIDDEN",t.SUCCEEDED="SUCCEEDED"}(ep||(ep={}));var up=function(){function t(){this.OS=[]}var i=t.prototype;return i.registerContentProtectionIntegration=function(t,i,e){switch(this.CS(t,i,e)){case ep.FAILED:throw new Hg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The keySystem should be 'widevine', 'playready' or 'fairplay', but was "+i+".");case ep.OVERRIDDEN:var r=Sp(i);st.Ie("Warning: Overwriting an earlier registered integration for "+t+" and "+r+".");break;case ep.SUCCEEDED:Sp(i);0}},i.CS=function(t,n,i){var e=Sp(n);if(!e)return ep.FAILED;for(var r=ep.SUCCEEDED,u=0,s=this.OS.slice();u<s.length;u++){var o=s[u];o.NS===t&&o.dc===e&&(r=ep.OVERRIDDEN,Mr(this.OS,o))}return this.OS.push(new rp(t,e,i)),r},i.AS=function(t,n){return void 0!==this.PS(t,n)},i.xS=function(t,n,i){var e=this.PS(t,n);if(!e)throw f("No ContentProtectionIntegrationInit was found for integration id "+t+" and key system "+n);return e.DS(i)},i.PS=function(t,n){for(var i=0,e=this.OS;i<e.length;i++){var r=e[i];if(r.NS===t&&(!n||r.dc===n))return r}},t}();up.LS=new up;var sp=["customdata"],op={playready:"https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx",widevine:"https://wv-keyos.licensekeyserver.com/",fairplay:"https://fp-keyos.licensekeyserver.com/getkey"};function cp(t){if(!t)return!0;var n=t.licenseAcquisitionURL,i=t.certificateURL,e=t.keys,r=t.headers,u=t.useCredentials,s=t.queryParameters,o=t.certificateRequestProcessor,c=t.certificateResponseProcessor,a=t.licenseRequestProcessor,f=t.licenseResponseProcessor;return!(n||i||e||r||u||s||o||c||a||f)}function ap(t){return t&&void 0!==t.licenseAcquisitionURL}var fp,hp=ap,vp=ap;function dp(t){if(!t)return!0;if(yp(t))return!1;var n=t.fairplay,i=t.playready,e=t.widevine,r=t.clearkey,u=t.aes128;return cp(n)&&cp(i)&&cp(e)&&cp(r)&&cp(u)}function lp(t){var n=ip(t),i=function(t){var n,i=t;return np(i)&&""!==(null==(n=i.fairplay)?void 0:n.headers.PreAuthorization)&&!tp(i)}(t);return(!n||!i)&&(n||i)}function wp(t){return t.integration===xb}function gp(t){var n=t;if(!n)return!1;if(dp(n))return!1;var i=n.fairplay,e=n.playready,r=n.widevine,u=n.clearkey;if(yp(t))return!0;if(i&&!function(t){var n=t;return n&&(void 0!==n.certificateURL||void 0!==n.certificate)}(i))return!1;if(e&&!hp(e))return!1;if(r&&!vp(r))return!1;if(u&&!function(t){var n=t;return n&&(void 0!==n.licenseAcquisitionURL||void 0!==n.keys)}(u))return!1;if(n.integration){if(up.LS.AS(n.integration))return!0;switch(n.integration){case Cb:if(!function(t){return t.integration===Cb&&(mp(t)||bp(t))}(t))return!1;break;case Lb:if(!pp(t))return!1;break;case Bb:if(!function(t){return t.integration===Bb}(t))return!1;break;case xb:if(!wp(t))return!1;break;case Ab:if(!lp(t))return!1;break;case Pb:if(!function(t){return t.integration===Pb}(t))return!1;break;case Mb:if(!yp(t))return!1;break;case Fb:if(!function(t){var n=t;return n.integration===Fb&&(void 0!==n.token||function(t){return void 0!==t.merchant&&void 0!==t.sessionId&&void 0!==t.userId}(n))}(t))return!1;break;case Ub:if(!function(t){return t.integration===Ub}(t))return!1;break;case qb:if(!_p(t))return!1;break;case zb:if(!function(t){return t.integration===zb}(t))return!1;break;case Wb:if(!kp(t))return!1;break;case Vb:if(!function(t){var n=t;return n.integration===Vb&&void 0!==n.token}(t))return!1;break;case Hb:if(!function(t){return t.integration===Hb}(t))return!1;break;case jb:if(!function(t){var n=t;return n&&It(n.releasePid)&&It(n.accountId)&&It(n.token)}(t))return!1;break;case $b:return!0;default:return!1}}return!0}function yp(t){return t.integration===Mb}function mp(t){return void 0!==t.authToken}function bp(t){var n=t;return void 0!==n.accountName&&void 0!==n.customerName&&void 0!==n.portalId}function pp(t){var n=t;return n.integration===Lb&&void 0!==n.token}function _p(t){var n=t;return n&&n.integration===qb&&At(n.ticketAcquisitionURL)&&At(n.streamId)}function kp(t){var n=t;return n.integration===Wb&&void 0!==n.token}function Tp(t,n){var i,e,r,u=n[t],s=null!=(i=null==u?void 0:u.licenseAcquisitionURL)?i:op[t],o=null!=(e=null==u?void 0:u.customdata)?e:n.customdata,c=o?{customData:o}:{},a=He({},null!=(r=null==u?void 0:u.headers)?r:{},c),f=null!=u?u:{};f.customdata;return He({},Zb(f,sp),{licenseAcquisitionURL:s,headers:a})}function Sp(t){switch(t.toLowerCase()){case"widevine":case cr:return cr;case"playready":case ur:return ur;case"fairplay":case vr:return vr}}function Ep(t,i){switch(t){case nr:return function(t){for(var n={},i=Dm.Vp(new DataView(t)),e=0;e<i.length;e++){var r=i[e];n[r.Vk]=r.Wk}return n}(i);case ir:case er:return function(t){var n;return(n={})[hr]=t,n}(i);default:throw new sc(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Unsupported initDataType "+t)}}!function(t){t.ar="Widevine",t.cr="PlayreadyV2",t.BS="PlayreadyV2",t.MS="PlayreadyV3",t.dr="Fairplay"}(fp||(fp={}));var Rp={Widevine:{DRMProvider:"Google",DRMVersion:"1.4.8.86",DRMType:"Widevine"},PlayreadyV2:{DRMProvider:"Microsoft",DRMVersion:"2.9",DRMType:"Playready"},PlayreadyV3:{DRMProvider:"Microsoft",DRMVersion:"3",DRMType:"Playready"},Fairplay:{DRMProvider:"Apple",DRMType:"FairPlay",DRMVersion:"1.0"}};function Ip(t,n){var i,e,r,u,s=Rp[n],o=t.accountName;return{CustomerName:t.customerName,AccountName:o,PortalId:t.portalId,FriendlyName:t.friendlyName,DeviceInfo:{FormatVersion:"1",DeviceType:"PC",OSType:null==(i=st.He)?void 0:i.je,OSVersion:null==(e=st.He)?void 0:e.Je,DRMProvider:s.DRMProvider,DRMVersion:s.DRMVersion,DRMType:s.DRMType,DeviceVendor:null==(r=st.He)?void 0:r.Qe,DeviceModel:null==(u=st.He)?void 0:u.Ze}}}function Dp(t,i){if(!t.accountName)throw new Hg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, accountName is not set.");if(!t.customerName)throw new Hg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, customerName is not set.");if(!t.portalId)throw new Hg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, portalId is not set.");throw new Hg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration.")}function Np(t,n,i){var e;if(mp(t))e={AuthToken:t.authToken,Payload:n};else{if(!bp(t))throw Dp(t,i);e={LatensRegistration:Ip(t,i),Payload:n}}return Du(JSON.stringify(e))}function Op(t,i,e){var r,u,s,o;return We.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(r=t.Dv){c.next=3;break}throw new Hg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,i);case 3:return u=r,c.prev=4,c.next=7,We.awrap(u._h(e));case 7:s=c.sent,o=Cp(s),c.next=14;break;case 11:c.prev=11,c.t0=c.catch(4),o="";case 14:throw new Hg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,u.Wh.jh,u.Fh,u.qh,o);case 15:case"end":return c.stop()}},null,null,[[4,11]],j)}function Cp(t){if(t){if(t.WvProxyErr)return t.WvProxyErr.desc;if(t.DrmErr)return t.DrmErr.desc}}var Ap=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e,Ic.Ya)||this).FS=void 0,r}vt(i,t),i.US=function(){return st.je.he?"required":"optional"};var e=i.prototype;return e.oS=function(t,n,i){return Op(t,n,i)},e.eS=function(t){return this.FS?Gr(this.FS.Cu,t):(this.FS=new ls,j.resolve())},e.lS=function(t,i){var e,r;return We.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(e=this.GT){i.next=3;break}throw new Hg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Widevine DRM configuration.");case 3:return r=_u(t),i.abrupt("return",Np(e,r,fp.ar));case 5:case"end":return i.stop()}},null,this,null,j)},e.vS=function(t){var i;if(!t.license)throw new Hg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Widevine license server");return i=bu(t.license),j.resolve(i)},e.VS=function(t){return j.resolve(new y(t))},e.mS=function(t,n){var i,e;return We.async(function(r){for(;;)switch(r.prev=r.next){case 0:return this.qS(),r.next=3,We.awrap(this.lS(t,n));case 3:return i=r.sent,r.next=6,We.awrap(this.uS(i,Ic.Ga,td.nv,n));case 6:return e=r.sent,r.next=9,We.awrap(this.VS(e));case 9:return r.abrupt("return",r.sent);case 10:case"end":return r.stop()}},null,this,null,j)},e.bS=function(n,i){var e;return We.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,We.awrap(t.prototype.bS.call(this,n,i));case 2:return e=r.sent,this.qS(),r.abrupt("return",e);case 5:case"end":return r.stop()}},null,this,null,j)},e.qS=function(){this.FS||(this.FS=new ls),this.FS.xu()},e.et=function(){this.FS&&this.FS.qr(),t.prototype.et.call(this)},i}(Qb),Pp=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e,Ic.Ga)||this).nS("https://widevine-proxy.drm.technology/proxy"),r}return vt(i,t),i.prototype.lS=function(t,i){var e,r,u,s;return We.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,We.awrap(Yb(t,this.KT));case 2:if(e=i.sent,r=this.YT,o=new y(e),u=[].slice.call(o),s=this.zS){i.next=8;break}throw new Hg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The Widevine vuDRM token has not been correctly configured.");case 8:return i.abrupt("return",JSON.stringify({token:s,drm_info:u,kid:r}));case 9:case"end":return i.stop()}var o},null,this,null,j)},ft(i,[{key:"zS",get:function(){if(pp(this.GT))return this.GT.token}}]),i}(Qb);function xp(t,n){var i=n||{};return t.ticket&&t.sessionId&&(i=He({},i,{SessionId:t.sessionId,Ticket:t.ticket})),He({},i,{CrmId:t.crmId,AccountId:t.accountId,ContentId:t.contentId})}var Lp=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,Ic.Ga)||this).nS("https://emeademo.dev.ott.irdeto.com/Widevine/getlicense"),r}vt(n,t);var i=n.prototype;return i.lS=function(t,n){return Yb(t,this.KT)},i.aS=function(n,i){var e=n;return wp(this.GT)&&(e=xp(this.GT,e)),t.prototype.aS.call(this,e,i)},n}(Qb),Bp="Conax-Custom-Data";function Mp(t,n,i){var e=t&&lp(t)&&t;if(e&&!i.has(Bp)){var r=ip(e)?e.token:void 0,u=ip(e)?e.deviceId:void 0,s=JSON.stringify({Version:"1.0.0",CxAuthenticationDataToken:r,CxClientInfo:{DeviceType:"Browser",DrmClientType:n+"-HTML5",DrmClientVersion:"1.0.0",CxDeviceId:u}});i.set(Bp,s)}return i}var Fp=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,Ic.Ga)||this).nS("https://connect.conax.com:8094/license"),r}vt(n,t);var i=n.prototype;return i.lS=function(t,n){return Yb(t,this.KT)},i.cS=function(){var n=t.prototype.cS.call(this);return Mp(this.GT,"Widevine",n)},n}(Qb);function Up(t){var n=Zu(new y(t));return bu(JSON.parse(n).license)}function Vp(t){return"string"==typeof t.token?t.token:Du(JSON.stringify({userId:t.userId,sessionId:t.sessionId,merchant:t.merchant}))}function qp(t,n,i){var e;return e=i.token?"x-dt-auth-token":"dt-custom-data",t.set(e,n),t}var zp=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,Ic.Ga)||this).nS("https://lic.drmtoday.com/license-proxy-widevine/cenc/"),r}vt(n,t);var i=n.prototype;return i.lS=function(t,n){return Yb(t,this.KT)},i.vS=function(t){return j.resolve(Up(t))},i.cS=function(){return qp(t.prototype.cS.call(this),this.zS,this.GT)},ft(n,[{key:"zS",get:function(){return Vp(this.GT)}}]),n}(Qb),Wp=function(t){function n(n,i,e){return t.call(this,n,i,e,Ic.Ga)||this}vt(n,t);var i=n.prototype;return i.lS=function(t,n){return Yb(t,this.KT)},i.cS=function(){var n=t.prototype.cS.call(this),i=this.GT.token;return n.set("Authorization","Bearer "+i),n},n}(Qb);function Hp(t,i,e,r){var u,s,o,c,a,f,h;return We.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(_p(t)){v.next=2;break}throw new Hg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Xstream DRM Configuration");case 2:return(u=new Dc).append("Cache-Control","no-cache"),u.append("Content-Type","application/json"),(s=t.sessionId)&&u.append("XSSESSION",s),o=t.streamId,c=t.fairplay?"persistent"===t.fairplay.licenseType?"persistent":"non-persistent":t.widevine&&"persistent"===t.widevine.licenseType?"persistent":"non-persistent",a={drmType:i,licenseType:c,streamId:o},f={jh:t.ticketAcquisitionURL,Vh:Ic.Ya,Uh:u,av:Qv.POST,Ih:JSON.stringify(a),Hr:r},v.next=13,We.awrap(e.Wh(f));case 13:return h=v.sent,v.next=16,We.awrap(h._h());case 16:return v.abrupt("return",v.sent);case 17:case"end":return v.stop()}},null,null,null,j)}var jp=function(t){function n(n,i,e){return t.call(this,n,i,e,Ic.Ya)||this}vt(n,t);var i=n.prototype;return i.cS=function(){var n=t.prototype.cS.call(this);return n.set("Content-Type","application/json"),n},i.lS=function(t,n){var i,e,r,u;return We.async(function(s){for(;;)switch(s.prev=s.next){case 0:return i=Iu(t.buffer),e=this.GT,s.next=4,We.awrap(Hp(e,"widevine_modular",this.Id,n));case 4:return r=s.sent,this.nS(r.licenseServerUrl),u=ts(JSON.stringify({payload:i,ticket:r.ticket})),s.abrupt("return",Yb(u,this.KT));case 8:case"end":return s.stop()}},null,this,null,j)},i.vS=function(t){var n=t;return j.resolve(bu(n.license))},n}(Qb),$p=function(t){function i(n,i,e){return t.call(this,n,i,e,Ic.Ga)||this}vt(i,t);var e=i.prototype;return e.lS=function(t,n){return Yb(t,this.KT)},e.cS=function(){if(!kp(this.GT))throw new Hg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.cS.call(this);return i.set("X-AxDRM-Message",this.GT.token),i},i}(Qb);function Xp(t){for(var n=new y(2*t.length),i=0;i<t.length;i+=1)n[2*i]=t.charCodeAt(i),n[2*i+1]=0;return n}var Gp=function(t){function n(n,i,e){var r;return(r=t.call(this,lr,n,i,e,Ic.Ga)||this).WS=void 0,r}vt(n,t);var i=n.prototype;return i.ZT=function(t){return t.playready||{}},i.cS=function(){var n=new Dc(this.WS);return n.Za(t.prototype.cS.call(this)),n},i.HS=function(t){return t.length>=1&&t[0].bi.length>0},i.rS=function(n){var i=this.GT.playready.customData;if(i){var e=Xp(i),r=Xp('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">'+_u(e)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>");return j.resolve({playready:{Mc:r}})}return t.prototype.rS.call(this,n)},i.lS=function(t,n){var i;return We.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,We.awrap(Yb(t,this.KT));case 2:return i=n.sent,n.abrupt("return",this.jS(i));case 4:case"end":return n.stop()}},null,this,null,j)},i.jS=function(t){var n,i,e,r,u,s,o,c,a,f,h,v,d,l,w,g;return We.async(function(y){for(;;)switch(y.prev=y.next){case 0:u=null,s=new DataView(t),m=s,b=new ds,void 0===(p=!0)&&(p=!1),o=Ju(m,b,p,!0),y.prev=3,c=st.oi(o),y.next=10;break;case 7:return y.prev=7,y.t0=y.catch(3),y.abrupt("return",u);case 10:for(a=null==(n=c.mi("PlayReadyKeyMessage")[0])?void 0:n.mi("LicenseAcquisition")[0],f=null!=(i=null==a?void 0:a.mi("Challenge"))?i:[],this.HS(f)&&(u=Ru(f[0].Ai)),h=new Dc,v=null!=(e=null==a?void 0:null==(r=a.mi("HttpHeaders")[0])?void 0:r.mi("HttpHeader"))?e:[],d=0;d<v.length;d++)l=v[d],w=l.mi("name")[0].Ai,g=l.mi("value")[0].Ai,h.append(w,g);return this.WS=h,y.abrupt("return",u);case 18:case"end":return y.stop()}var m,b,p},null,this,[[3,7]],j)},i.mS=function(t,n){return j.resolve(t)},i.bS=function(n,i){return t.prototype.dS.call(this,n,td.ev,i)},n}(Xb),Yp=function(){function t(n){this.No=void 0,this.$S=n,this.No=t.XS(n)}return t.XS=function(t){return"3"===t.version?fp.MS:fp.BS},t.prototype.GS=function(){var t={};if(this.No===fp.MS){var n={LatensRegistration:Ip(this.$S,fp.MS)};t["X-TITANIUM-DRM-CDATA"]=Du(JSON.stringify(n))}return t},ft(t,[{key:"YS",get:function(){return this.No}},{key:"Tc",get:function(){return this.No===fp.BS}}]),t}();var Kp=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e)||this).KS=void 0,r.KS=new Yp(r.GT),r}vt(i,t);var e=i.prototype;return e.rS=function(t){var i=this.GT;if(!this.GT)throw new Hg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium PlayReady DRM configuration.");if(bp(i)){var e={};return e.playready={Mc:Jp(i,this.KS.YS)},j.resolve(e)}return j.reject(Dp(i,fp.cr))},e.cS=function(){var n=new Dc(this.KS.GS());return n.Za(t.prototype.cS.call(this)),n},e.oS=function(t,i,e){var r,u,s,o,c,a,f,h;return We.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(r=t.Dv){v.next=3;break}throw new Hg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,i);case 3:return v.prev=3,v.next=6,We.awrap(r.Sh(e));case 6:o=v.sent,c=Zu(new y(o)),(a=st.oi(c))&&(f=Pm(a,"CustomData")).length>0&&(u=JSON.parse(f[0].Ai),s=null==(h=u.DrmErr)?void 0:h.desc),v.next=14;break;case 12:v.prev=12,v.t0=v.catch(3);case 14:throw new Hg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,i,r.Fh,r.qh,s);case 15:case"end":return v.stop()}},null,null,[[3,12]],j)},e.HS=function(t){if(1!==t.length)throw new Hg(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"PlayReady license message incorrectly formatted, Challenge not found.");return!0},i}(Gp);function Jp(t,n){var i=Ip(t,n),e=i.DeviceInfo.FormatVersion,r=Du('<LatensRegistration formatversion="'+e+'"><AccountName>'+i.AccountName+"</AccountName><CustomerName>"+i.CustomerName+"</CustomerName><PortalID>"+i.PortalId+'</PortalID><DeviceInfo formatversion="'+e+'"><DeviceType>'+i.DeviceInfo.DeviceType+"</DeviceType><OSType>"+i.DeviceInfo.OSType+"</OSType><OSVersion>"+i.DeviceInfo.OSVersion+"</OSVersion><DRMProvider>"+i.DeviceInfo.DRMProvider+"</DRMProvider><DRMVersion>"+i.DeviceInfo.DRMVersion+"</DRMVersion><DRMType>"+i.DeviceInfo.DRMType+"</DRMType><DeviceVendor>"+i.DeviceInfo.DeviceVendor+"</DeviceVendor><DeviceModel>"+i.DeviceInfo.DeviceModel+"</DeviceModel></DeviceInfo></LatensRegistration>"),u=is(("<TitaniumCustomData>"+r+"</TitaniumCustomData>").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/&lt;/g,"<").replace(/&gt;/g,">"),!0);return is('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0"><CustomData encoding="base64encoded">'+_u(u)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>",!0)}var Qp,Zp=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e)||this).nS("https://playready-license.drm.technology/rightsmanager.asmx"),r}vt(i,t);var e=i.prototype;return e.HS=function(t){if(1!==t.length)throw new Hg(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Vudrm PlayReady license message incorrectly formatted, Challenge not found.");return!0},e.aS=function(n,i){var e=He({},n||{},{token:this.zS});return t.prototype.aS.call(this,e,i)},ft(i,[{key:"zS",get:function(){if(pp(this.GT))return this.GT.token}}]),i}(Gp),t_=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).nS("https://emeademo.dev.ott.irdeto.com/playready/rightsmanager.asmx"),r}return vt(n,t),n.prototype.aS=function(n,i){var e=n;return wp(this.GT)&&(e=xp(this.GT,e)),t.prototype.aS.call(this,e,i)},n}(Gp),n_=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).nS("https://connect.conax.com:8010/cxplayready/rightsmanager.asmx"),r}return vt(n,t),n.prototype.cS=function(){var n=t.prototype.cS.call(this);return Mp(this.GT,"PlayReady",n)},n}(Gp),i_=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).nS("https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx"),r}vt(n,t);var i=n.prototype;return i.vS=function(n){return(pr(Zu(new y(n)),"<?xml")?Qp.JS:Qp._h)===Qp._h?j.resolve(Up(n)):j.resolve(t.prototype.vS.call(this,new y(n)))},i.cS=function(){return qp(t.prototype.cS.call(this),this.zS,this.GT)},ft(n,[{key:"zS",get:function(){return Vp(this.GT)}}]),n}(Gp);!function(t){t[t.JS=0]="JS",t[t._h=1]="_h"}(Qp||(Qp={}));var e_,r_=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).QS=void 0,r}vt(n,t);var i=n.prototype;return i.cS=function(){var n=t.prototype.cS.call(this);return this.QS&&n.set("Ticket",this.QS),n.set("Content-Type","text/xml"),n},i.lS=function(n,i){var e,r;return We.async(function(u){for(;;)switch(u.prev=u.next){case 0:return e=this.GT,u.next=3,We.awrap(Hp(e,"playready",this.Id,i));case 3:return r=u.sent,this.nS(r.licenseServerUrl),this.QS=r.ticket,u.abrupt("return",t.prototype.lS.call(this,n,i));case 7:case"end":return u.stop()}},null,this,null,j)},n}(Gp),u_=function(t){function i(){return t.apply(this,arguments)||this}return vt(i,t),i.prototype.cS=function(){if(!kp(this.GT))throw new Hg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.cS.call(this);return i.set("X-AxDRM-Message",this.GT.token),i},i}(Gp);!function(t){t.Ya="application/json",t.ZS="application/x-www-form-urlencoded",t.tE="application/octet-stream",t.ri="text/plain;charset=UTF-8"}(e_||(e_={}));var s_=function(t){function n(n,i,e,r,u){var s;return(s=t.call(this,n.dc,i,e,r,u)||this).nE="",s.iE=void 0,s.eE=void 0,s.eE=n.rE,s}vt(n,t);var i=n.prototype;return i.uE=function(){return this.KT.certificateURL||this.iE},i.sE=function(t){this.iE=t},i.lS=function(t){return j.resolve(this.oE(t,this.nE))},i.oE=function(t,n){return"spc="+encodeURIComponent(_u(t))+"&assetId="+encodeURIComponent(n)},i.ZT=function(t){return t.fairplay||{}},i.cE=function(t){var n=t.indexOf("?");if(n>=0)return j.resolve(t.substr(n+1));var i=t.split("/");return j.resolve(i[i.length-1])},i.rS=function(t){var n,i,e,r;return We.async(function(u){for(;;)switch(u.prev=u.next){case 0:return i=null!=(n=this.eE)?n:rs(new y(t)),u.next=3,We.awrap(this.cE(i));case 3:return e=u.sent,this.nE=e,(r={}).fairplay={Hc:e},u.abrupt("return",r);case 8:case"end":return u.stop()}},null,this,null,j)},i.cS=function(){var n=t.prototype.cS.call(this);return n.set("Content-Type",this.aE),n},i.mS=function(t,n){return We.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.gS){t.next=2;break}return t.abrupt("return",this.gS);case 2:return t.next=4,We.awrap(this.fE(n));case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},null,this,null,j)},i.bS=function(n,i){return t.prototype.dS.call(this,n,td.Qh,i)},i.hE=function(t){var n=this.uE(),i=this.cS(),e={jh:n,Vh:Ic.Ga,Uh:i,av:Qv.GET,dv:!1,Ih:null,fv:0,Hr:t,gr:Zv.Kh,hv:td.Zh};return new ed(e)},i.fE=function(t){var n,i,e;return We.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=this.hE(t),r.next=3,We.awrap(this.Id.Wh(n));case 3:return i=r.sent,r.next=6,We.awrap(i.Sh());case 6:return e=r.sent,r.abrupt("return",new y(e));case 8:case"end":return r.stop()}},null,this,null,j)},i.vS=function(t){var n;if("string"==typeof t){var i=t.trim();"<ckc>"===i.substr(0,5)&&"</ckc>"===i.substr(-6)&&(i=i.slice(5,-6)),n=bu(i)}else n=new y(t);return j.resolve(n)},i.aS=function(n,i){var e=t.prototype.aS.call(this,n,i);return pr(e,"skd:")&&(e=e.substr("skd:".length)),e},ft(n,[{key:"yS",get:function(){return!0}},{key:"aE",get:function(){return e_.ZS}}]),n}(Xb),o_=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,Ic.Ga)||this}vt(n,t);var i=n.prototype;return i.cE=function(t){var n=t.split("://",1);if("skd"!==n[0].slice(-3).toLowerCase())return j.resolve("");var i=(n=t.split(";",2)).length>1?n[1]:"";return j.resolve(i)},i.lS=function(t){return We.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,j)},i.vS=function(t){return j.resolve(new y(t))},i.aS=function(n,i){var e=n||{};return e.p1=tn(),t.prototype.aS.call(this,e,i)},ft(n,[{key:"aE",get:function(){return e_.tE}}]),n}(s_),c_=function(t){function i(n,i,e,r){var u;return(u=t.call(this,n,i,e,r,Ic.Ga)||this).nS("https://fairplay-license.drm.technology/license"),u.sE("https://fairplay-license.drm.technology/certificate"),u}vt(i,t);var e=i.prototype;return e.oE=function(t,n){var i={token:this.zS,contentId:n,payload:_u(t)};return JSON.stringify(i)},e.vS=function(t){return j.resolve(new y(t))},e.cS=function(){var n=t.prototype.cS.call(this);return n.set("x-vudrm-token",this.zS),n},ft(i,[{key:"aE",get:function(){return e_.Ya}},{key:"zS",get:function(){if(!pp(this.GT))throw new Hg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Token is required for FairPlay VuDrm.");return this.GT.token}}]),i}(s_),a_="Verimatrix Fairplay license response incorrectly formatted. Invalid json.",f_="Verimatrix Fairplay license response incorrectly formatted. Ckc not found.",h_=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,Ic.Ga)||this}return vt(i,t),i.prototype.vS=function(i){var e=function(t){var i;try{i=JSON.parse(t).ckc}catch(t){throw new Hg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,a_)}if(!i)throw new Hg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,f_);return i}(Zu(new DataView(i)));return t.prototype.vS.call(this,e)},i}(s_);var v_=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,Ic.Ya)||this}vt(i,t);var e=i.prototype;return e.lS=function(t){var i,e;return We.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(i=this.GT){r.next=3;break}throw new Hg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Fairplay DRM configuration.");case 3:return e=_u(t),r.abrupt("return",Np(i,e,fp.dr));case 5:case"end":return r.stop()}},null,this,null,j)},e.vS=function(t){try{var i;if(At(t)){var e=t.trim();i=JSON.parse(e)}else i=t;if(i.license){var r=Ru(i.license);return j.resolve(new y(r))}return j.reject(new Hg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Titanium Fairplay license server"))}catch(t){return j.reject(new Hg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Fairplay license server"))}},e.oS=function(t,n,i){return Op(t,n,i)},ft(i,[{key:"aE",get:function(){return e_.Ya}}]),i}(s_),d_=function(t){function n(n,i,e,r){var u;return(u=t.call(this,n,i,e,r,Ic.Ga)||this).nS("https://emeademo.dev.ott.irdeto.com/streaming/getckc"),u.sE("https://emeademo.dev.ott.irdeto.com/streaming/getcertificate"),u}vt(n,t);var i=n.prototype;return i.uE=function(){var n=t.prototype.uE.call(this);if(!n)return n;var i=st.ze(n),e=this.GT;return wp(e)&&sd(i,{accountId:e.accountId,applicationId:e.applicationId||""}),i.href},i.cE=function(n){return wp(this.GT)?j.resolve(this.GT.contentId):t.prototype.cE.call(this,n)},i.lS=function(t){return We.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,j)},i.vS=function(t){return j.resolve(new y(t))},i.aS=function(n,i){var e=n;return wp(this.GT)&&(e=function(t,n){return He({},xp(t,n),{KeyId:t.keyId})}(this.GT,e)),t.prototype.aS.call(this,e,i)},ft(n,[{key:"aE",get:function(){return e_.tE}}]),n}(s_),l_=function(t){function i(i,e,r,u){var s;if(s=t.call(this,i,e,r,u,Ic.ri)||this,!lp(e))throw new Hg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Conax configuration");return s.nS("https://connect.conax.com:8097/license"),s}vt(i,t);var e=i.prototype;return e.cS=function(){var n=t.prototype.cS.call(this);return Mp(this.GT,"FairPlay",n)},e.fE=function(t){var n,i,e,r;return We.async(function(u){for(;;)switch(u.prev=u.next){case 0:return n=this.uE(),i={jh:n,Vh:Ic.Ga,Uh:{},av:Qv.GET,dv:!1,Ih:null,fv:0,Hr:t,gr:Zv.Kh,hv:td.Zh},u.next=4,We.awrap(this.Id.Wh(i));case 4:return e=u.sent,u.next=7,We.awrap(e.Sh());case 7:return r=u.sent,u.abrupt("return",new y(r));case 9:case"end":return u.stop()}},null,this,null,j)},e.lS=function(t){return We.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,j)},e.cE=function(t){var n,i=t.indexOf("?");return 0===t.indexOf("skd://")?(n=i>=0?t.substring("skd://".length,i):t.substring("skd://".length),j.resolve(Zu(bu(n)))):j.resolve("unknown")},e.vS=function(t){try{var n=JSON.parse(t);return j.resolve(new y(Ru(n.CkcMessage)))}catch(t){return j.reject("CFLRW-66")}},i}(s_),w_=function(t){function i(n,i,e,r){var u;return(u=t.call(this,n,i,e,r,Ic.ri)||this).nS(op[tr.dr]),u}vt(i,t);var e=i.prototype;return e.cE=function(t){return pr(t,"skd://")?j.resolve(t.substring("skd://".length,40)):j.reject(new Hg(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error while determining the KeyOS Content ID."))},e.oE=function(t,n){return"spc="+_u(t)+"&assetId="+n},i}(s_),g_=function(t){function n(n,i,e,r){var u;return(u=t.call(this,n,i,e,r,Ic.ri)||this).nS("https://lic.drmtoday.com/license-server-fairplay/"),u}vt(n,t);var i=n.prototype;return i.oE=function(t,n){var i="spc="+encodeURIComponent(_u(t))+"&"+encodeURI(n);return"persistent"===this.KT.licenseType?i+"&offline=true":i},i.cS=function(){return qp(t.prototype.cS.call(this),this.zS,this.GT)},ft(n,[{key:"zS",get:function(){return Vp(this.GT)}}]),n}(s_),y_=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,Ic.Ga)||this}vt(n,t);var i=n.prototype;return i.cE=function(t){var n=t;return pr(n,"skd:")&&(n="http:"+n.substring(4)),pr(n,"http:")||pr(n,"https:")?j.resolve(st.ze(n).hostname):j.reject(new f("Could not parse ExpressPlay FairPlay content ID."))},i.lS=function(t){return We.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,j)},i.vS=function(t){return j.resolve(new y(t))},ft(n,[{key:"aE",get:function(){return e_.tE}}]),n}(s_),m_=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,Ic.ri)||this}return vt(n,t),n.prototype.cS=function(){var n=t.prototype.cS.call(this),i=this.GT.token;return n.set("Authorization","Bearer "+i),n},n}(s_),b_=function(t){function n(n,i,e,r){var u;if(u=t.call(this,n,i,e,r,Ic.Ya)||this,!_p(i))throw new f("Invalid Xstream DRM configuration");return u}vt(n,t);var i=n.prototype;return i.fE=function(t){var n,i,e,r,u;return We.async(function(s){for(;;)switch(s.prev=s.next){case 0:return n=this.uE(),i=this.cS(),e={jh:n,Vh:Ic.Ya,Uh:i,av:Qv.POST,Hr:t,gr:Zv.Kh,hv:td.Zh},s.next=5,We.awrap(this.Id.Wh(e));case 5:return r=s.sent,s.next=8,We.awrap(r._h());case 8:return u=s.sent,s.abrupt("return",new y(bu(u.certificate)));case 10:case"end":return s.stop()}},null,this,null,j)},i.bS=function(t,n,i){var e,r,u,s,o,c,a;return We.async(function(f){for(;;)switch(f.prev=f.next){case 0:return void 0===i&&(i=Ic.ri),e=_u(t),r=this.GT,f.next=5,We.awrap(Hp(r,"fairplay",this.Id,n));case 5:return u=f.sent,s=ts(JSON.stringify({spc:e,ticket:u.ticket})),o={jh:this.iS(),Vh:Ic.Ya,Uh:this.cS(),av:Qv.POST,Ih:s,fv:0,Hr:n,gr:Zv.Kh,hv:td.Qh},f.next=10,We.awrap(this.Id.Wh(o));case 10:return c=f.sent,f.next=13,We.awrap(c._h());case 13:return a=f.sent,f.abrupt("return",bu(a.licence));case 15:case"end":return f.stop()}},null,this,null,j)},ft(n,[{key:"aE",get:function(){return e_.Ya}}]),n}(s_),p_=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,Ic.ri)||this}vt(i,t);var e=i.prototype;return e.oE=function(t,n){return _u(t)},e.vS=function(i){if(0===i.length)throw new Hg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Vimond license request error.");return t.prototype.vS.call(this,i)},e.cS=function(){var n=t.prototype.cS.call(this);return n.set("Content-Type","text/plain"),n},i}(s_),__=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,Ic.Ga)||this}vt(i,t);var e=i.prototype;return e.oE=function(t,n){return t},e.vS=function(t){return j.resolve(new y(t))},e.cS=function(){if(!kp(this.GT))throw new Hg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.cS.call(this);return i.set("X-AxDRM-Message",this.GT.token),i},ft(i,[{key:"aE",get:function(){return e_.Ya}}]),i}(s_),k_=function(t){function i(n,i,e,r){var u;return(u=t.call(this,n,i,e,r,Ic.Ya)||this).vE=void 0,u}vt(i,t);var e=i.prototype;return e.oE=function(t,n){var i={spc:_u(t)};return JSON.stringify(i)},e.cE=function(t){var i=st.ze(t);return this.vE=t,i.searchParams.has("b")?j.resolve(i.searchParams.get("b")):j.reject(new Hg(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error during license server request: Could not extract content id"))},e.aS=function(n,i){var e=this.iS();return!e&&this.vE&&(e=this.vE),e&&(e=e.replace("skd://","https://")),t.prototype.aS.call(this,n,i||e)},e.vS=function(t){var i;return We.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(i=At(t)?JSON.parse(t.trim()):t).ckc){e.next=4;break}return e.abrupt("return",bu(i.ckc));case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),new Hg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Uplynk Fairplay license server");case 9:throw new Hg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Uplynk Fairplay license server");case 10:case"end":return e.stop()}},null,null,[[0,6]],j)},ft(i,[{key:"aE",get:function(){return e_.ri}}]),i}(s_),T_=function(){function t(t,n){this.dE=t,this.lE=n}var n=t.prototype;return n.wE=function(t){return this.dE(t)},n.gE=function(t,n){throw new h(n+" must be "+this.lE+". (Received: "+t+")")},t}(),S_=new T_(Lt,"a number"),E_=new T_(At,"a string"),R_=new T_(Pt,"a boolean");var I_,D_=(I_={responseCode:S_,isException:R_,description:E_,title:E_,correlationId:E_},{wE:function(t){if(!Ot(t))return!1;for(var n=0,i=v.keys(I_);n<i.length;n++){var e=i[n];if(!I_[e].wE(t[e]))return!1}return!0},gE:function(t,n){if(!Ot(t))throw new h(n+" must be an object.");for(var i=0,e=v.keys(I_);i<e.length;i++){var r=e[i],u=I_[r];if(!u.wE(t[r]))return u.gE(t[r],n+"."+r)}throw new h}});function N_(t,n,i,e,r){var u;return We.async(function(s){for(;;)switch(s.prev=s.next){case 0:return u=O_(t,n,i,r),s.next=3,We.awrap(C_(u,e));case 3:return s.abrupt("return",s.sent);case 4:case"end":return s.stop()}},null,null,null,j)}function O_(t,n,i,e){var r={token:n.token,account:n.accountId,form:"json"},u=decodeURIComponent(function(t,n){var i=st.ze(t);return sd(i,n),i.toString()}(i,r)),s=new Dc({});s.append("Content-Type","application/json");var o=_u(t),c={getFairplayLicense:{releasePid:n.releasePid,spcMessage:o}};return{jh:u,Vh:Ic.ri,Uh:s,av:Qv.POST,Ih:JSON.stringify(c),Hr:e,gr:Zv.Kh,hv:td.Qh}}function C_(t,i){var e,r;return We.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,We.awrap(i.Wh(t));case 2:return e=u.sent,u.next=5,We.awrap(e._h());case 5:if(r=u.sent,!D_.wE(r)){u.next=8;break}throw new Hg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,r.description,void 0,t.jh,r.responseCode);case 8:return u.abrupt("return",bu(r.getFairplayLicenseResponse.ckcResponse));case 9:case"end":return u.stop()}},null,null,null,j)}var A_=function(t){function n(n,i,e,r){var u;return(u=t.call(this,n,i,e,r,Ic.Ga)||this).yE=void 0,u.yE=i,u}vt(n,t);var i=n.prototype;return i.cE=function(n){var i=n.replace("FairPlay",this.yE.releasePid);return t.prototype.cE.call(this,i)},i.bS=function(t,n){return We.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,We.awrap(N_(t,this.yE,this.iS(),this.Id,n));case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},null,this,null,j)},n}(s_),P_=function(t){function i(n,i,e){return t.call(this,yr,n,i,e,Ic.Ga)||this}vt(i,t);var e=i.prototype;return e.ZT=function(t){return t.clearkey||{}},e.lS=function(t,n){return We.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Yb(t,this.KT));case 1:case"end":return n.stop()}},null,this,null,j)},e.uS=function(i,e,r,u){var s,o;return We.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=this.KT,!this.iS()){e.next=5;break}return e.abrupt("return",t.prototype.uS.call(this,i,this.QT,r,u));case 5:if(!s.keys||!s.keys.length){e.next=10;break}return o={keys:s.keys.map(function(t){var n=t;return n||(n={}),{kty:"oct",kid:n.id,k:n.value}})},e.abrupt("return",ts(JSON.stringify(o)).buffer);case 10:throw new Hg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The clearkey license has not been configured correctly.");case 11:case"end":return e.stop()}},null,this,null,j)},e.mS=function(t,n){return j.resolve(new y(0))},e.bS=function(n,i){return t.prototype.dS.call(this,n,td.rv,i)},i}(Xb),x_=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.lS=function(t,n){return We.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Yb(t,this.KT));case 1:case"end":return n.stop()}},null,this,null,j)},n}(Qb),L_={url:"",method:"GET",headers:{},body:null,useCredentials:!1};function B_(t,n,i){var e,r,u;return We.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(e=j_(n),(r=t.onCertificateRequest)&&"function"==typeof r){s.next=5;break}return s.abrupt("return",j.resolve(n));case 5:return s.next=8,We.awrap(Gr(j.resolve(r.call(t,e)),i));case 8:if(!as(u=s.sent)){s.next=11;break}return s.abrupt("return",fs(u));case 11:return s.abrupt("return",H_(He({},L_,u)));case 12:case"end":return s.stop()}},null,null,null,j)}function M_(t,n,i,e,r){var u,s,o;return We.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(u=t.onCertificateResponse,s=W_(n,i,e),u&&"function"==typeof u){c.next=5;break}return c.abrupt("return",j.resolve(n));case 5:return c.next=8,We.awrap(Gr(j.resolve(u.call(t,s)),r));case 8:return o=c.sent,c.abrupt("return",fs(o));case 10:case"end":return c.stop()}},null,null,null,j)}function F_(t,n,i,e){var r;return We.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,We.awrap(V_(t,n,i,e));case 2:if(!((r=u.sent)instanceof ArrayBuffer)){u.next=5;break}return u.abrupt("return",r);case 5:return u.abrupt("return",H_(r));case 6:case"end":return u.stop()}},null,null,null,j)}function U_(t,n,i,e,r,u){var s,o;return We.async(function(c){for(;;)switch(c.prev=c.next){case 0:return s=z_(i,r),c.next=3,We.awrap(q_(t,new y(n),s,e,u));case 3:return o=c.sent,c.abrupt("return",fs(o).buffer);case 5:case"end":return c.stop()}},null,null,null,j)}function V_(t,n,i,e){var r,u,s;return We.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(r=null==t?void 0:t.onLicenseRequest,u=z_(n,i),r&&"function"==typeof r){o.next=5;break}return o.abrupt("return",j.resolve(u));case 5:return o.next=8,We.awrap(Gr(j.resolve(r.call(t,u)),e));case 8:if(!as(s=o.sent)){o.next=11;break}return o.abrupt("return",fs(s).buffer);case 11:return o.abrupt("return",He({fairplaySkdUrl:void 0},L_,s));case 12:case"end":return o.stop()}},null,null,null,j)}function q_(t,n,i,e,r){var u,s,o;return We.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(u=null==t?void 0:t.onLicenseResponse,s=W_(n,i,e),u&&"function"==typeof u){c.next=5;break}return c.abrupt("return",j.resolve(n));case 5:return c.next=8,We.awrap(Gr(j.resolve(u.call(t,s)),r));case 8:return o=c.sent,c.abrupt("return",fs(o));case 10:case"end":return c.stop()}},null,null,null,j)}function z_(t,n){return He({},j_(t),{fairplaySkdUrl:n})}function W_(t,n,i){return{url:i.Hh,status:i.Fh,statusText:i.qh,headers:i.Uh.Ja(),body:t,request:n}}function H_(t){return new ed({jh:t.url,av:t.method,Uh:t.headers,Ih:t.body,dv:t.useCredentials})}function j_(t){var n;return{url:t.jh,body:null!=(n=$_(t.Ih))?n:null,headers:t.Uh.Ja(),method:t.av,useCredentials:t.dv}}function $_(t){if(t)return"string"==typeof t?us(t):t instanceof ArrayBuffer?new y(t):Tu(t)?cs(t):void 0}var X_,G_=function(t){function i(n,i,e,r){var u;return(u=t.call(this,n,i,e)||this).mE=void 0,u.mE=r,u}vt(i,t);var e=i.prototype;return e.mS=function(t,n){return j.resolve(t)},e.bS=function(t,i){var e,r,u,s,o;return We.async(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,We.awrap(this.jS(vs(t).buffer));case 2:return e=c.sent,r=this.sS(e,Ic.Ga,td.ev,i),c.next=6,We.awrap(F_(this.mE,r,void 0,i));case 6:if(!((u=c.sent)instanceof ArrayBuffer)){c.next=10;break}return c.abrupt("return",new y(u));case 10:if(""!==u.jh){c.next=12;break}throw new Hg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 12:return c.prev=12,c.next=15,We.awrap(this.Id.Wh(u));case 15:return s=c.sent,c.next=18,We.awrap(s.Sh(i));case 18:return o=c.sent,c.t0=y,c.next=22,We.awrap(U_(this.mE,o,r,s,void 0,i));case 22:return c.t1=c.sent,c.abrupt("return",new c.t0(c.t1));case 26:throw c.prev=26,c.t2=c.catch(12),$r(c.t2),new Hg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during PlayReady license request",c.t2);case 30:case"end":return c.stop()}},null,this,[[12,26]],j)},i}(Gp),Y_=function(t){function i(n,i,e,r){var u;return(u=t.call(this,n,i,e,Ic.Ga)||this).mE=void 0,u.mE=r,u}vt(i,t);var e=i.prototype;return e.mS=function(t,i){var e,r,u,s,o;return We.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(!this.gS){c.next=2;break}return c.abrupt("return",this.gS);case 2:return e=this.sS(t,Ic.Ga,td.nv,i),c.next=5,We.awrap(B_(this.mE,e,i));case 5:if(!((r=c.sent)instanceof y)){c.next=9;break}return c.abrupt("return",r);case 9:if(""!==r.jh){c.next=11;break}throw new Hg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The certificate request URL has not been correctly configured.");case 11:return c.prev=11,c.next=14,We.awrap(this.Id.Wh(r));case 14:return u=c.sent,c.next=17,We.awrap(u.Sh(i));case 17:s=c.sent,c.next=24;break;case 20:throw c.prev=20,c.t0=c.catch(11),$r(c.t0),new Hg(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during Widevine certificate request",c.t0);case 24:return o=z_(e,void 0),c.next=27,We.awrap(M_(this.mE,new y(s),o,u,i));case 27:return c.abrupt("return",c.sent);case 28:case"end":return c.stop()}},null,this,[[11,20]],j)},e.bS=function(t,i){var e,r,u,s;return We.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=this.sS(t,Ic.Ga,td.tv,i),o.next=3,We.awrap(F_(this.mE,e,void 0,i));case 3:if(!((r=o.sent)instanceof ArrayBuffer)){o.next=7;break}return o.abrupt("return",new y(r));case 7:if(""!==r.jh){o.next=9;break}throw new Hg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return o.prev=9,o.next=12,We.awrap(this.Id.Wh(r));case 12:return u=o.sent,o.next=15,We.awrap(u.Sh(i));case 15:s=o.sent,o.next=22;break;case 18:throw o.prev=18,o.t0=o.catch(9),$r(o.t0),new Hg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Widevine license request",o.t0);case 22:return o.t1=y,o.next=25,We.awrap(U_(this.mE,s,e,u,void 0,i));case 25:return o.t2=o.sent,o.abrupt("return",new o.t1(o.t2));case 27:case"end":return o.stop()}},null,this,[[9,18]],j)},i}(x_),K_=function(t){function i(n,i,e,r,u){var s;return(s=t.call(this,n,i,e,r,Ic.Ga)||this).mE=void 0,s.bE=void 0,s.mE=u,s}vt(i,t);var e=i.prototype;return e.mS=function(t,i){var e,r,u,s,o;return We.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.gS){t.next=2;break}return t.abrupt("return",this.gS);case 2:return e=this.hE(i),t.next=5,We.awrap(B_(this.mE,e,i));case 5:if(r=t.sent,!Tu(r)){t.next=8;break}return t.abrupt("return",r);case 8:return t.prev=8,t.next=11,We.awrap(this.Id.Wh(r));case 11:return u=t.sent,t.next=14,We.awrap(u.Sh());case 14:return s=t.sent,o=z_(e,void 0),t.next=18,We.awrap(M_(this.mE,new y(s),o,u,i));case 18:return t.abrupt("return",t.sent);case 21:throw t.prev=21,t.t0=t.catch(8),$r(t.t0),new Hg(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during FairPlay certificate request",t.t0);case 25:case"end":return t.stop()}},null,this,[[8,21]],j)},e.bS=function(t,i){var e,r,u,s;return We.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=this.sS(t,Ic.Ga,td.Qh,i),o.next=3,We.awrap(F_(this.mE,e,this.bE,i));case 3:if(!((r=o.sent)instanceof ArrayBuffer)){o.next=7;break}return o.abrupt("return",new y(r));case 7:if(""!==r.jh){o.next=9;break}throw new Hg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return o.prev=9,o.next=12,We.awrap(this.Id.Wh(r));case 12:return u=o.sent,o.next=15,We.awrap(u.Sh(i));case 15:return s=o.sent,o.t0=y,o.next=19,We.awrap(U_(this.mE,s,e,u,this.bE,i));case 19:return o.t1=o.sent,o.abrupt("return",new o.t0(o.t1));case 23:throw o.prev=23,o.t2=o.catch(9),$r(o.t2),new Hg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during FairPlay license request",o.t2);case 27:case"end":return o.stop()}},null,this,[[9,23]],j)},e.cE=function(n){var i;return this.bE=n,null!=(i=this.mE)&&i.extractFairplayContentId?j.resolve(this.mE.extractFairplayContentId(n)):t.prototype.cE.call(this,n)},i}(s_),J_=function(){function t(){}var n=t.prototype;return n.pE=function(t,n,i,e){switch(t.dc.gr){case tr.ar:return this._E(n,i,e);case tr.cr:return this.kE(n,i,e);case tr.dr:return this.TE(t,n,i,e);case tr.hr:default:return this.SE(n,i,e)}},n._E=function(t,n,i){var e,r=(e=t).integration===$b&&At(e.customIntegrationId)?t.customIntegrationId:t.integration;if(r&&up.LS.AS(r,cr)){var u=up.LS.xS(r,cr,t);return new Y_(t,n,i,u)}switch(r){case Cb:return new Ap(t,n,i);case Lb:return new Pp(t,n,i);case xb:return new Lp(t,n,i);case Ab:return new Fp(t,n,i);case Fb:return new zp(t,n,i);case Vb:return new Wp(t,n,i);case qb:return new jp(t,n,i);case Wb:return new $p(t,n,i);case Mb:default:return new x_(t,n,i,Ic.Ga)}},n.kE=function(t,n,i){var e=t.integration;if(e&&up.LS.AS(e,ur)){var r=up.LS.xS(e,ur,t);return new G_(t,n,i,r)}switch(e){case Cb:return new Kp(t,n,i);case Lb:return new Zp(t,n,i);case xb:return new t_(t,n,i);case Ab:return new n_(t,n,i);case Fb:return new i_(t,n,i);case qb:return new r_(t,n,i);case Wb:return new u_(t,n,i);case Mb:default:return new Gp(t,n,i)}},n.TE=function(t,n,i,e){var r=n.integration;if(r&&up.LS.AS(r,vr)){var u=up.LS.xS(r,vr,n);return new K_(t,n,i,e,u)}switch(r){case Pb:return new o_(t,n,i,e);case Lb:return new c_(t,n,i,e);case Bb:return new h_(t,n,i,e);case Cb:return new v_(t,n,i,e);case xb:return new d_(t,n,i,e);case Ab:return new l_(t,n,i,e);case Mb:return new w_(t,n,i,e);case Fb:return new g_(t,n,i,e);case Ub:return new y_(t,n,i,e);case Vb:return new m_(t,n,i,e);case qb:return new b_(t,n,i,e);case zb:return new p_(t,n,i,e);case Wb:return new __(t,n,i,e);case Hb:return new k_(t,n,i,e);case jb:return new A_(t,n,i,e);default:return new s_(t,n,i,e,Ic.ri)}},n.SE=function(t,n,i){return new P_(t,n,i)},n.EE=function(t){return t.gr===tr.cr||t.gr===tr.ar||t.gr===tr.dr||t.gr===tr.hr},n.Tc=function(t,n){var i;if(t.gr!==tr.cr)return!1;if(It(null==(i=n.playready)?void 0:i.customData))return!0;var e=n.integration;return(!e||!up.LS.AS(e,vr))&&(e===Cb&&new Yp(n).Tc)},n.US=function(t,n){if(t.gr===tr.ar){var i=n.integration;if(!i||!up.LS.AS(i,vr))return i===Cb?Ap.US():void 0}},t}();!function(t){t[t.RE=0]="RE",t[t.IE=1]="IE",t[t.DE=2]="DE",t[t.NE=3]="NE",t[t.nw=4]="nw",t[t.OE=5]="OE",t[t.ow=6]="ow",t[t.CE=7]="CE",t[t.AE=8]="AE"}(X_||(X_={}));var Q_=function(){function t(){}return t.prototype.PE=function(t){},ft(t,[{key:"xE",get:function(){return 0}},{key:"LE",get:function(){return 0}}]),t}(),Z_=function(){function t(t,n){void 0===n&&(n=new J_),this.kT=void 0,this.BE=void 0,this.$S=void 0,this.kT=t,this.BE=n}var n=t.prototype;return n.ME=function(t){this.$S=t},n.US=function(t){var n=this.$S;if(void 0!==n)return this.BE.US(t,n)},n.Tc=function(t){var n=this.$S;return void 0!==n&&this.BE.Tc(t,n)},n.FE=function(t){var n={dc:t.dc,UE:t.UE||[],rE:t.rE},i=this.BE.pE(n,this.$S||{},t.YT,this.kT);return new tk(i)},t}(),tk=function(){function t(t){this.VE=void 0,this.VE=t}var n=t.prototype;return n.eS=function(t){return this.VE.eS(t)},n.rS=function(t,n,i){return this.VE.rS(n,i)},n.yS=function(){return this.VE.yS||void 0!==this.VE.gS},n.mS=function(t,n){return this.VE.mS(t,n)},n.bS=function(t,n,i){return n&&this.VE.nS(n),this.VE.bS(t,i)},n.Lr=function(){this.VE.et()},t}(),nk=function(t){function n(n){var i;(i=t.call(this)||this).qE=[],i.zE=function(t){i.ol(t.Ld)},i.WE=function(t){var n=t.Ld;i.HE(n)||i.cl(n)};for(var e=0;e<n.length;e++){var r=n[e];i.jE(r)}return i}vt(n,t);var i=n.prototype;return i.jE=function(t){this.qE.push(t);for(var n=0,i=t.hl;n<i.length;n++){var e=i[n];this.ol(e)}this.$E(t)},i.XE=function(t){Mr(this.qE,t),this.GE(t);for(var n=0,i=t.hl;n<i.length;n++){var e=i[n];this.HE(e)||this.cl(e)}},i.HE=function(t){for(var n=0,i=this.qE;n<i.length;n++){if(i[n].al(t))return!0}return!1},i.$E=function(t){t.Kr(Wl.Dd,this.zE),t.Kr(Wl.Od,this.WE)},i.GE=function(t){t.tu(Wl.Dd,this.zE),t.tu(Wl.Od,this.WE)},i.et=function(){for(;this.qE.length>0;)this.XE(this.qE[0]);t.prototype.et.call(this)},i.xd=function(){return Nw(this)},n}(tw);function ik(t){return{get enabled(){return t._l},set enabled(n){t._l=hw(n)},get currentLatency(){return t.Uw},get streamConfiguration(){if(void 0!==t.YE)return function(t){return{get minimumOffset(){return t.Ow},get maximumOffset(){return t.Aw},get targetOffset(){return t.Cw},get forceSeekOffset(){return t.Pw},get minimumPlaybackRate(){return t.xw},get maximumPlaybackRate(){return t.Lw}}}(t.YE)},get configuration(){return function(t){return{get minimumOffset(){return t.Ow},set minimumOffset(n){t.Ow=vw(n)},get maximumOffset(){return t.Aw},set maximumOffset(n){t.Aw=vw(n)},get targetOffset(){return t.Cw},set targetOffset(n){t.Cw=vw(n)},get forceSeekOffset(){return t.Pw},set forceSeekOffset(n){t.Pw=vw(n)},get minimumPlaybackRate(){return t.xw},set minimumPlaybackRate(n){t.xw=vw(n)},get maximumPlaybackRate(){return t.Lw},set maximumPlaybackRate(n){t.Lw=vw(n)},update:function(n){t.sc(function(t){var n={};void 0!==t.minimumOffset&&(n.Ow=vw(t.minimumOffset));void 0!==t.maximumOffset&&(n.Aw=vw(t.maximumOffset));void 0!==t.targetOffset&&(n.Cw=vw(t.targetOffset));void 0!==t.forceSeekOffset&&(n.Pw=vw(t.forceSeekOffset));void 0!==t.minimumPlaybackRate&&(n.xw=vw(t.minimumPlaybackRate));void 0!==t.maximumPlaybackRate&&(n.Lw=vw(t.maximumPlaybackRate));return n}(n))}}}(t.lc)}}}var ek,rk=function(){function t(){this.Ad=void 0,this.KE=void 0,this.KE={Pw:0,Aw:0,Lw:0,Ow:0,xw:0,Cw:0,sc:Bt}}return ft(t,[{key:"Pd",get:function(){return null!=this.Ad||(this.Ad=ik(this)),this.Ad}},{key:"_l",get:function(){return!1},set:function(t){}},{key:"Uw",get:function(){}},{key:"YE",get:function(){}},{key:"lc",get:function(){return this.KE}}]),t}();function uk(){return ek||(ek=Z&&Z.document&&Z.document.createElement("video")),ek}var sk=function(t){function i(i,e,r,u,s,o,c){var a;return void 0===o&&(o=new J_),void 0===c&&(c=pc()),(a=t.call(this)||this).JE=void 0,a.QE=void 0,a.ZE=void 0,a.Gw=void 0,a.Yw=void 0,a.Kw=void 0,a.tR=void 0,a.nR=void 0,a.iR=void 0,a.eR=void 0,a.rR=void 0,a.kT=void 0,a.kr=void 0,a.uR=void 0,a.sR=void 0,a.oR=new Q_,a.cR=new rk,a.aR=function(t){var i=t.fu,e=i.code,r=new sc(function(t){switch(t){case qg.ABORTED:return n.ErrorCode.MEDIA_ABORTED;case qg.NETWORK:return n.ErrorCode.NETWORK_ERROR;case qg.DECODE:return n.ErrorCode.MEDIA_DECODE_ERROR;case qg.SRC_NOT_SUPPORTED:return n.ErrorCode.SOURCE_NOT_SUPPORTED;case qg.ENCRYPTED:return n.ErrorCode.CONTENT_PROTECTION_ERROR;case qg.LICENSE_INVALID:return n.ErrorCode.LICENSE_ERROR;case qg.ADVERTISEMENT_ERROR:return n.ErrorCode.AD_ERROR}}(e),"Something went wrong during native playback.",i),u=new jg(e,r.message,i.message);a.fR(r,u)},a.hR=function(){a.Yr(new dg(a.bw,a.Tg))},a.vR=function(t){a.Sw||(a.sR=void 0),a.Yr(t)},a.dR=function(t){a.sR=void 0,a.Yr(t)},a.lR=function(){a.Yr(new hy(a.Eg))},a.wR=function(){a.Dw>0&&a.Iw>0&&a.Yr(new yb)},a.gR=function(t){a.Gw.ol(new ry(t.track))},a.yR=function(t){var n=ck(a.Gw,t.track);n&&a.Gw.cl(n)},a.mR=function(){a.bR(a.Gw)},a.pR=function(t){a.Yw.ol(new fy(t.track))},a._R=function(t){var n=ck(a.Yw,t.track);n&&a.Yw.cl(n)},a.kR=function(){a.bR(a.Yw)},a.TR=function(t){a.Yr(t),a.fR(t.errorObject,Xg(t.errorObject))},a.JE=e,a.kT=r,a.kr=c,a.QE=a.JE.G(Gg.ov),a.iR=a.QE.SR.preload,a.eR=new Ob(a.QE,!0),a.eR.Kr(ag,a.Gr),a.uR=new Z_(r,o),a.QE.ER=a.uR,a.RR(),a.Gw=new Yg,a.Yw=new Yg,a.IR(),a.rR=new fb(a.QE,a.kT),a.Kw=new nk([a.QE.ig]),a.vg(),a}vt(i,t);var e=i.prototype;return e.dg=function(){this.QE.dg()},e.vg=function(){this.QE.vg()},e.sg=function(t,n,i){var e;return We.async(function(r){for(;;)switch(r.prev=r.next){case 0:return jr(i),e={gr:gb.OT,Vl:t.src,Rh:t.type,DR:this.NR(t),xg:this.iR,OR:t.crossOrigin,CR:n.metadata&&n.metadata.title},this.uR.ME(t.contentProtection),r.next=5,We.awrap(this.QE.rc(e));case 5:this.ZE=r.sent,jr(i),n.textTracks&&this.AR(n.textTracks),wb(this.ig);case 9:case"end":return r.stop()}},null,this,null,j)},e.AR=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(this.QE.PR()&&St._n&&Eb&&!nb(i.kind,i.label)&&this.xR(i)){var e,r=null!=(e=i.kind)?e:Ym.ip;this.QE.LR(i.src,r,i.label,i.srclang)}else{if(void 0===i.src)continue;this.rR.ST(i)}}},e.xR=function(t){return!t.format||"webvtt"===t.format},e.Y=function(){return We.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,We.awrap(this.QE.Y());case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:if(this.MR){t.next=12;break}return t.next=10,We.awrap(this.QE.ru(Rc.Ca));case 10:t.next=7;break;case 12:case"end":return t.stop()}},null,this,[[0,5]],j)},e.K=function(){this.QE.K()},e.og=function(){return void 0!==this.QE.SR.webkitShowPlaybackTargetPicker},e.cg=function(){this.QE.SR.webkitShowPlaybackTargetPicker&&this.QE.SR.webkitShowPlaybackTargetPicker()},e.ag=function(){this.QE.SR.webkitShowPlaybackTargetPicker&&this.QE.SR.webkitShowPlaybackTargetPicker()},e.lg=function(){return this.QE.SR},e.wg=function(){return this.QE.FR},e.fl=function(){return We.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.tR=void 0,this.nR=void 0,this.ZE=void 0,t.next=5,We.awrap(this.rR.fl());case 5:return this.QE.UR(),t.next=8,We.awrap(this.QE.fl());case 8:this.eR.fl(),this.xg=this.iR,this.tg.fl(),this.ng.fl(),this.sR=void 0;case 13:case"end":return t.stop()}},null,this,null,j)},e.et=function(){return We.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,We.awrap(this.fl());case 2:return this.Zr(),this.qR(),this.zR(),this.eR.et(),this.QE.ER=void 0,t.next=9,We.awrap(this.JE.nt(this.QE));case 9:return this.Gw.et(),this.Yw.et(),this.Kw.et(),t.next=14,We.awrap(this.rR.et());case 14:case"end":return t.stop()}},null,this,null,j)},e.RR=function(){this.QE.Kr(Rc.Oa,this.Gr),this.QE.Kr(Rc.Na,this.Gr),this.QE.Kr(Rc.Wa,this.hR),this.QE.Kr(Rc.Ca,this.Gr),this.QE.Kr(Rc.Sa,this.Gr),this.QE.Kr(Rc.Ba,this.Gr),this.QE.Kr(Rc.La,this.vR),this.QE.Kr(Rc._a,this.Gr),this.QE.Kr(Rc.Aa,this.Gr),this.QE.Kr(Rc.Ha,this.Gr),this.QE.Kr(Rc.ba,this.Gr),this.QE.Kr(Rc.xa,this.wR),this.QE.Kr(eg.mw,this.dR),this.QE.Kr(Sw.Nl,this.aR),this.QE.Kr(Rc.ga,this.Gr),this.QE.Kr(Rc.wa,this.TR),this.QE.SR.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.lR)},e.qR=function(){this.QE.tu(Rc.Oa,this.Gr),this.QE.tu(Rc.Na,this.Gr),this.QE.tu(Rc.Wa,this.hR),this.QE.tu(Rc.Ca,this.Gr),this.QE.tu(Rc.Sa,this.Gr),this.QE.tu(Rc.Ba,this.Gr),this.QE.tu(Rc.La,this.vR),this.QE.tu(Rc._a,this.Gr),this.QE.tu(Rc.Aa,this.Gr),this.QE.tu(Rc.Ha,this.Gr),this.QE.tu(Rc.ba,this.Gr),this.QE.tu(Rc.xa,this.wR),this.QE.tu(eg.mw,this.dR),this.QE.tu(Sw.Nl,this.aR),this.QE.tu(Rc.ga,this.Gr),this.QE.tu(Rc.wa,this.TR),this.QE.SR.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.lR)},e.NR=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{dc:gr,WR:[{initDataTypes:[gr.mr],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},e.IR=function(){var t=this.QE.SR.audioTracks,n=this.QE.SR.videoTracks;t&&(t.addEventListener("addtrack",this.gR),t.addEventListener("removetrack",this.yR),t.addEventListener("change",this.mR)),n&&(n.addEventListener("addtrack",this.pR),n.addEventListener("removetrack",this._R),n.addEventListener("change",this.kR))},e.zR=function(){var t=this.QE.SR.audioTracks,n=this.QE.SR.videoTracks;t&&(t.removeEventListener("addtrack",this.gR),t.removeEventListener("removetrack",this.yR),t.removeEventListener("change",this.mR)),n&&(n.removeEventListener("addtrack",this.pR),n.removeEventListener("removetrack",this._R),n.removeEventListener("change",this.kR))},e.bR=function(t){for(var n=0;n<t.vl;n++){t.sl(n).jg()}},e._g=function(){this.QE._g()},e.fR=function(t,n){this.tR||(this.tR=n,this.nR=t,this.Yr(new kg(t)))},ft(i,[{key:"MR",get:function(){var t=this.QE.kg,n=this.bw;return t.HR(n,.01)}},{key:"tg",get:function(){return this.Gw}},{key:"kg",get:function(){return this.QE.kg.jR()}},{key:"Tg",get:function(){return this.QE.Tg},set:function(t){t&&this.QE.$R(t)}},{key:"bw",get:function(){return void 0!==this.sR?this.sR:this.QE.bw},set:function(t){this.Eg&&(this.sR=t),this.QE.Eu(t)}},{key:"pw",get:function(){return this.QE.pw}},{key:"_w",get:function(){return this.QE._w}},{key:"fu",get:function(){return this.tR}},{key:"kw",get:function(){return this.nR}},{key:"eg",get:function(){}},{key:"Eg",get:function(){return this.QE.Eg}},{key:"zw",get:function(){return He({},{Rg:0,Ig:0,Dg:0,Ng:0,Og:0,Cg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.QE.XR())}},{key:"Tw",get:function(){return this.QE.Tw},set:function(t){this.QE.Tw=t}},{key:"Ag",get:function(){return!0}},{key:"Sw",get:function(){return this.QE.Sw}},{key:"Ew",get:function(){return this.QE.Ew},set:function(t){this.QE.Ew=t}},{key:"Pg",get:function(){return this.QE.SR.played}},{key:"xg",get:function(){return this.iR},set:function(t){this.iR=t,this.ZE&&(this.ZE.xg=t)}},{key:"Ml",get:function(){return this.QE.Ml}},{key:"Lg",get:function(){return this.QE.Lg.jR()}},{key:"Rw",get:function(){return this.QE.Rw}},{key:"GR",get:function(){return this.QE.GR}},{key:"ig",get:function(){return this.Kw}},{key:"ng",get:function(){return this.Yw}},{key:"Iw",get:function(){return this.QE.Iw}},{key:"Dw",get:function(){return this.QE.Dw}},{key:"Nw",get:function(){return this.QE.Nw},set:function(t){this.QE.Nw=t}},{key:"Bg",get:function(){return this.cR}},{key:"Mg",get:function(){return this.QE.Mg},set:function(t){this.QE.Mg=t}},{key:"YR",get:function(){return this.oR}}]),i}(Aw);var ok=function(){function t(){this.KR=X_.AE}var n=t.prototype;return n.DS=function(t,n,i,e,r,u){return new sk(t,n,i,e,r)},n.JR=function(t,n){return function(t){return!t.type||!(!uk().canPlayType||!uk().canPlayType(t.type))}(t)},n.QR=function(){return!1},t}();function ck(t,n){for(var i=0,e=t.hl;i<e.length;i++){var r=e[i];if(r.Gg===n)return r}}var ak=function(){function t(){this.ZR=new ok,this.tI=[]}t.nI=function(){return this.Zn};var n=t.prototype;return n.iI=function(t){this.tI.push(t)},n.DS=function(t,n,i,e,r,u){for(var s=this.ZR.DS(t,n,i,e,r,u),o=0,c=this.tI;o<c.length;o++){s=(0,c[o])(s,i,e)}return s},n.JR=function(t,n){return this.ZR.JR(t,n)},n.QR=function(){return!1},ft(t,[{key:"KR",get:function(){return this.ZR.KR}}]),t}();function fk(t,n){return Ar(t.KR,n.KR)}ak.Zn=new ak;var hk=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).eI=ak.nI(),n}vt(n,t);var i=n.prototype;return i.rI=function(t){this.eI=t},i.uI=function(){return this.eI},i.sI=function(t,n){var i,e,r,u,s,o;return We.async(function(c){for(;;)switch(c.prev=c.next){case 0:i=0;case 1:if(!(i<t.length)){c.next=11;break}return e=t[i],c.next=5,We.awrap(this.oI(e,n));case 5:if(!(r=c.sent)){c.next=8;break}return c.abrupt("return",{cI:e,aI:r});case 8:i++,c.next=1;break;case 11:u=this.eI,s=0;case 13:if(!(s<t.length)){c.next=20;break}if(o=t[s],!u.JR(o,n)){c.next=17;break}return c.abrupt("return",{cI:o,aI:u});case 17:s++,c.next=13;break;case 20:return c.abrupt("return",{cI:t[0],aI:u});case 21:case"end":return c.stop()}},null,this,null,j)},n}(function(){function t(){this.fI=[]}var n=t.prototype;return n.hI=function(t){this.fI.push(t),this.fI.sort(fk)},n.oI=function(t,n){var i,e,r,u;return We.async(function(s){for(;;)switch(s.prev=s.next){case 0:i=0,e=this.fI;case 1:if(!(i<e.length)){s.next=17;break}if(r=e[i],!xt(u=r.JR(t,n))){s.next=10;break}return s.next=7,We.awrap(u);case 7:s.t0=s.sent,s.next=11;break;case 10:s.t0=Boolean(u);case 11:if(!s.t0){s.next=14;break}return s.abrupt("return",r);case 14:i++,s.next=1;break;case 17:return s.abrupt("return",void 0);case 18:case"end":return s.stop()}},null,this,null,j)},t}());hk.Zn=new hk;var vk,dk=function(){function t(t){var n,i;this.vI=void 0,this.vI=Z&&Z.document&&Z.document.createElement("div"),n=this.vI,(i=n.style).position="absolute",i.left="0",i.right="0",i.top="0",i.bottom="0",i.width="100%",i.height="100%",t.appendChild(this.vI)}return t.prototype.et=function(){pe(this.vI)},t}();function lk(t){switch(t){case vk.dI:case"":return vk.dI;case vk.rp:return vk.rp;case vk.lI:default:return vk.lI}}!function(t){t.AE="",t.lI="none",t.rp="metadata",t.dI="auto"}(vk||(vk={}));var wk=[Sw.Nl,Rc.pa,Rc.hu,Rc.Xa,Rc.ha,Rc.ka,Rc.Ia,Rc.Da,Rc.Fa,Rc.Va,eg.dw,eg.lw,eg.ww,eg.gw,eg.Gd,eg.yw,eg.mw,Rc.wa,Rc.ga,Rc.ba,Rc._a,Rc.Sa,Rc.Ea,Rc.Oa,Rc.Ca,Rc.Na,Rc.Aa,Rc.xa,Rc.Ba,Rc.La,Rc.Wa,Rc.Ha,Rc.Pa,Rc.Ra,Rc.Ma],gk=function(t){function n(n,i){var e;return(e=t.call(this)||this).wI=void 0,e.gI=void 0,e.yI=void 0,e.mI=void 0,e.iR=vk.lI,e.bI=void 0,e.pI=!0,e.Gw=new Ew,e.Yw=new Ew,e.Kw=new Cw,e.Jw=new zg,e.wI=n,e.yI=i,e.yI.xg=e.xg,e._I(),e}vt(n,t);var i=n.prototype;return i.K=function(){this.yI.K()},i.Y=function(){var t=this.yI.Y();xt(t)&&Qr(t)},i.rg=function(){return this.sg(void 0)},i.st=function(){},i.yg=function(t){return!1},i._I=function(){this.Gw.ml=this.yI.tg,this.Yw.ml=this.yI.ng,this.Kw.ml=this.yI.ig,this.Jw.ml=this.yI.eg,this.yI.Kr(wk,this.Gr)},i.kI=function(){this.yI.tu(wk,this.Gr),this.Gw.ml=void 0,this.Yw.ml=void 0,this.Kw.ml=void 0,this.Jw.ml=void 0},i.ug=function(){return this.bI},i.sg=function(t,n){var i,e,r,u,s,o;return We.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(jr(n),this.bI=t,t){c.next=4;break}return c.abrupt("return");case 4:if(!Jw(i=t.sources.filter(ig))){c.next=7;break}return c.abrupt("return");case 7:return c.next=9,We.awrap(this.wI.sI(i,t));case 9:if(e=c.sent,jr(n),r=e.cI,u=e.aI,s=this.wg(),o=Eg(this),this.gI===u&&!this.fu){c.next=25;break}return this.kI(),c.next=19,We.awrap(this.yI.et());case 19:jr(n),this.gI=u,this.yI=this.TI(u),yk(this.yI,o),Rg(this,o,this),this._I();case 25:return this.yI.xg=this.xg,this.pI?this.yI.vg():this.yI.dg(),c.next=29,We.awrap(this.yI.sg(r,t,n));case 29:jr(n),this.SI(r),this.wg()!==s&&this.Yr(new xw);case 32:case"end":return c.stop()}},null,this,null,j)},i.SI=function(t){this.mI!==t&&(this.mI=t,this.Yr(new Lw(t)))},i.og=function(){return this.yI.og()},i.cg=function(){this.yI.cg()},i.ag=function(){this.yI.ag()},i.wg=function(){return this.yI.wg()},i._g=function(){this.yI._g()},i.fl=function(){return We.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.bI=void 0,this.SI(void 0),t.next=4,We.awrap(this.yI.fl());case 4:case"end":return t.stop()}},null,this,null,j)},i.et=function(){return We.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Zr(),t.next=3,We.awrap(this.fl());case 3:return t.next=5,We.awrap(this.yI.et());case 5:this.Gw.et(),this.Yw.et(),this.Kw.et(),this.Jw.et();case 9:case"end":return t.stop()}},null,this,null,j)},i.vg=function(){this.pI=!0,this.yI.vg()},i.dg=function(){this.pI=!1,this.yI.dg()},ft(n,[{key:"tg",get:function(){return this.Gw}},{key:"kg",get:function(){return this.yI.kg}},{key:"fu",get:function(){return this.yI.fu}},{key:"kw",get:function(){return this.yI.kw}},{key:"Tg",get:function(){return this.yI.Tg},set:function(t){this.yI.Tg=t}},{key:"pg",get:function(){return this.mI}},{key:"bw",get:function(){return this.yI.bw},set:function(t){this.yI.bw=t}},{key:"pw",get:function(){return this.yI.pw}},{key:"_w",get:function(){return this.yI._w}},{key:"eg",get:function(){return this.Jw}},{key:"Eg",get:function(){return this.yI.Eg}},{key:"zw",get:function(){return this.yI.zw}},{key:"Tw",get:function(){return this.yI.Tw},set:function(t){this.yI.Tw=t}},{key:"Ag",get:function(){return this.yI.Ag}},{key:"Sw",get:function(){return this.yI.Sw}},{key:"Ew",get:function(){return this.yI.Ew},set:function(t){this.yI.Ew=t}},{key:"Pg",get:function(){return this.yI.Pg}},{key:"xg",get:function(){return this.iR},set:function(t){this.iR=t,this.yI&&(this.yI.xg=this.iR)}},{key:"Ml",get:function(){return this.yI.Ml}},{key:"Lg",get:function(){return this.yI.Lg}},{key:"Rw",get:function(){return this.yI.Rw}},{key:"ig",get:function(){return this.Kw}},{key:"Iw",get:function(){return this.yI.Iw}},{key:"ng",get:function(){return this.Yw}},{key:"Dw",get:function(){return this.yI.Dw}},{key:"Nw",get:function(){return this.yI.Nw},set:function(t){this.yI.Nw=t}},{key:"Bg",get:function(){return this.yI.Bg}},{key:"YR",get:function(){return this.yI.YR}}]),n}(eu);function yk(t,n){t.Tw!==n.Tw&&(t.Tw=n.Tw),t.Nw!==n.Nw&&(t.Nw=n.Nw),t.Ew!==n.Ew&&(t.Ew=n.Ew)}var mk,bk=function(t){function n(n,i){var e;return(e=t.call(this)||this).vl=void 0,e.EI=void 0,e.RI=void 0,e.vl=n.length>>1,e.EI=n,e.RI=i||function(t){for(var n=new Array(2*t),i=0,e=0;i<t;i+=1,e+=2)n[e]=!0,n[e+1]=!1;return n}(e.vl),e}vt(n,t);var i=n.prototype;return i.II=function(t){return this.EI[2*t]},i.DI=function(t){return this.RI[2*t]},i.NI=function(t){return this.EI[2*t+1]},i.OI=function(t){return this.RI[2*t+1]},ft(n,[{key:"CI",get:function(){return this.EI.slice()}}]),n}(function(){function t(){}var n=t.prototype;return n.yy=function(t,n){return 0===this.Fy(t,n)},n.dm=function(t,n){return this.Fy(t,n)>0},n.lm=function(t,n){return this.Fy(t,n)>=0},n.Wy=function(t,n){return this.Fy(t,n)<0},n.qy=function(t,n){return this.Fy(t,n)<=0},n.Pm=function(t,n){return this.Wy(t,n)?t:n},n.Am=function(t,n){return this.dm(t,n)?t:n},n.AI=function(t,n,i){return i?this.qy(t,n):this.Wy(t,n)},n.jR=function(){var t=this;return{get length(){return t.vl},start:function(n){var i=0|n;return t.xI(i),t.LI(t.II(i))},end:function(n){var i=0|n;return t.xI(i),t.LI(t.NI(i))}}},n.BI=function(){for(var t=new Array(2*this.vl),n=new Array(2*this.vl),i=0;i<this.vl;i++)t[2*i]=this.II(i),t[2*i+1]=this.NI(i),n[2*i]=!0,n[2*i+1]=!0;return this.MI(t,n)},n.xI=function(t){if(t<0)throw new f("The index provided ("+t+") must be non-negative");if(t>=this.vl)throw new f("The index provided ("+t+") is greater than the maximum bound ("+this.vl+")")},n.FI=function(t){if(0===this.vl)return this.UI();if(this.HR(t))return t;if(this.qy(t,this.II(0)))return this.II(0);if(this.lm(t,this.NI(this.vl-1)))return this.NI(this.vl-1);for(var n,i=this.VI(),e=0;e<this.vl;e++){var r=this.II(e),u=this.zy(r,t);this.Wy(u,i)&&(n=r,i=u);var s=this.NI(e),o=this.zy(this.NI(e),t);this.Wy(o,i)&&(n=s,i=o)}return n},n.qI=function(t){for(var n=0,i=0,e=[],r=[];n<this.vl&&i<t.vl;){var u=this.II(n),s=this.NI(n),o=this.DI(n),c=this.OI(n),a=t.II(i),f=t.NI(i),h=t.DI(i),v=t.OI(i),d=this.Am(u,a),l=this.Pm(s,f),w=void 0;w=this.yy(u,a)?o&&h:this.yy(d,u)?o:h;var g=void 0;g=this.yy(s,f)?c&&v:this.yy(l,s)?c:v,(this.Wy(d,l)||w&&g&&this.yy(d,l))&&(e.push(d,l),r.push(w,g));var y=this.Fy(this.NI(n),t.NI(i));0===y?(n+=1,i+=1):y<0?n+=1:i+=1}return this.MI(e,r)},n.zI=function(){var t=this.WI(),n=t.vl;if(0===n)return this.MI([t.HI(),t.VI()],[!1,!1]);var i=[],e=[],r=t.II(0);t.yy(r,t.HI())||(i.push(t.HI(),r),e.push(!1,!t.DI(0)));for(var u=0;u<n-1;u++)i.push(t.NI(u),t.II(u+1)),e.push(!t.OI(u),!t.DI(u+1));var s=t.NI(n-1);return t.yy(s,t.VI())||(i.push(s,t.VI()),e.push(!t.OI(n-1),!1)),t.MI(i,e)},n.jI=function(t){for(var n=0,i=0,e=this.vl,r=t.vl,u=new Array(2*(e+r)),s=new Array(2*(e+r)),o=0;n<e&&i<r;){var c=this.II(n),a=this.NI(n),f=t.II(i),h=t.NI(i);this.Wy(c,f)||this.yy(c,f)&&this.Wy(a,h)?(u[o]=c,u[o+1]=a,s[o]=this.DI(n),s[o+1]=this.OI(n),n++):(u[o]=f,u[o+1]=h,s[o]=t.DI(i),s[o+1]=t.OI(i),i++),o+=2}for(;n<e;)u[o]=this.II(n),u[o+1]=this.NI(n),s[o]=this.DI(n),s[o+1]=this.OI(n),n++,o+=2;for(;i<r;)u[o]=t.II(i),u[o+1]=t.NI(i),s[o]=t.DI(i),s[o+1]=t.OI(i),i++,o+=2;return this.MI(u,s)},n.$I=function(t){void 0===t&&(t=this.UI());var n=this.vl;if(n<2)return this;for(var i=[],e=[],r=this.II(0),u=this.NI(0),s=this.DI(0),o=this.OI(0),c=1;c<n;c++){var a=this.II(c),f=this.NI(c),h=this.DI(c),v=this.OI(c);this.Wy(r,a)&&this.dm(u,f)||(this.yy(r,a)&&(s=h=s||h),this.yy(u,f)&&(o=v=o||v),this.AI(a,this.Ug(u,t),o||h)?(u=f,o=v):(i.push(r,u),e.push(s,o),r=a,u=f,s=h,o=v))}return i.push(r,u),e.push(s,o),this.MI(i,e).WI()},n.WI=function(){for(var t=[],n=[],i=0;i<this.vl;i++){var e=this.II(i),r=this.NI(i),u=this.DI(i),s=this.OI(i);this.yy(e,r)?(u||s)&&(t.push(e,r),n.push(!0,!0)):(t.push(e,r),n.push(u,s))}return this.MI(t,n)},n.XI=function(t){return this.vl?t.vl?this.jI(t).$I():this:t},n.GI=function(t){var n=this.WI(),i=t.WI(),e=n.zI(),r=i.zI(),u=e.qI(i),s=r.qI(n);return u.XI(s)},n.Su=function(t){if(this.yy(t,this.UI()))return this;for(var n=[],i=[],e=0;e<this.vl;e++){var r=this.Ug(this.II(e),t),u=this.Ug(this.NI(e),t);n.push(r,u),i.push(this.DI(e),this.OI(e))}return this.MI(n,i)},n.YI=function(t){return 0===this.vl||0===t.vl?this:this.WI().qI(t.WI().zI())},n.HR=function(t,n){return this.KI(t,n)>=0},n.JI=function(t,n,i,e,r){return this.QI(t,n,i,e,r)>=0},n.ZI=function(t,n,i,e,r){return this.tD(t,n,i,e,r)>=0},n.nD=function(t){if(t.vl!==this.vl)return!1;for(var n=0;n<this.vl;n++)if(!this.yy(this.II(n),t.II(n))||!this.yy(this.NI(n),t.NI(n))||this.DI(n)!==t.DI(n)||this.OI(n)!==t.OI(n))return!1;return!0},n.iD=function(t){for(var n=[],i=[],e=0;e<this.vl;e++){var r=this.II(e),u=this.NI(e),s=this.DI(e),o=this.OI(e);t(r,u,s,o)&&(n.push(r,u),i.push(s,o))}return this.MI(n,i)},n.tD=function(t,n,i,e,r){void 0===i&&(i=!0),void 0===e&&(e=!0),void 0===r&&(r=this.UI());for(var u=this.Xy(t,r),s=this.Ug(n,r),o=0;o<this.vl;o+=1)if(this.AI(this.II(o),s,!e||this.DI(o))&&this.AI(u,this.NI(o),!i||this.OI(o)))return o;return-1},n.QI=function(t,n,i,e,r){void 0===i&&(i=!0),void 0===e&&(e=!1),void 0===r&&(r=this.UI());for(var u=this.Ug(t,r),s=this.Xy(n,r),o=0;o<this.vl;o+=1)if(this.AI(this.II(o),u,!i||this.DI(o))&&this.AI(s,this.NI(o),!e||this.OI(o)))return o;return-1},n.KI=function(t,n){return this.QI(t,t,!0,!0,n)},n.eD=function(t,n){void 0===n&&(n=this.UI());for(var i=this.Ug(t,n),e=this.vl-1;e>=0;e-=1)if(this.AI(this.II(e),i,this.DI(e)))return e;return-1},n.rD=function(t,n){void 0===n&&(n=this.UI());for(var i=this.Xy(t,n),e=0;e<this.vl;e+=1)if(this.AI(i,this.NI(e),this.OI(e)))return e;return-1},n.uD=function(t){return this.xI(t),this.MI([this.II(t),this.NI(t)],[this.DI(t),this.OI(t)])},n.sD=function(t,n){var i=this.KI(t,n);return i<0?void 0:this.uD(i)},ft(t,[{key:"oD",get:function(){for(var t=this.UI(),n=0;n<this.vl;n++){var i=this.Xy(this.NI(n),this.II(n));t=this.Ug(t,i)}return t}}]),t}()),pk=function(t){function n(n,i){return t.call(this,n,i)||this}vt(n,t);var i=n.prototype;return i.Fy=function(t,n){return t<n?Dr.Nr:t===n?Dr.Ir:Dr.Dr},i.Ug=function(t,n){return t+n},i.Xy=function(t,n){return t-n},i.zy=function(t,n){return d.abs(t-n)},i.UI=function(){return 0},i.VI=function(){return 1/0},i.HI=function(){return-1/0},n.cD=function(t){for(var i=[],e=0;e<t.length;e++)i.push(t.start(e),t.end(e));return new n(i)},n.aD=function(t){for(var i=[],e=[],r=0;r<t.vl;r++)i.push(t.II(r).Bm),i.push(t.NI(r).Bm),e.push(t.DI(r)),e.push(t.OI(r));return new n(i,e)},n.fD=function(t){return new n([t,t],[!0,!0])},i.MI=function(t,i){return new n(t,i)},i.LI=function(t){return t},n.hD=function(){return _k},n}(bk),_k=new pk([]);!function(t){t.$d="fullscreenchange",t.vD="fullscreensupportchange",t.Nl="fullscreenerror"}(mk||(mk={}));var kk=function(t){function n(){return t.call(this,mk.Nl)||this}return vt(n,t),n}(uu),Tk=new(function(t){function n(){return t.apply(this,arguments)||this}vt(n,t);var i=n.prototype;return i.Zg=function(){this.Yr(new kk)},i.ny=function(){},i.et=function(){this.Zr()},ft(n,[{key:"dD",get:function(){return!1}},{key:"lD",get:function(){return!1}}]),n}(eu)),Sk=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).JE=void 0,n.QE=void 0,n}vt(n,t);var i=n.prototype;return i.lg=function(){var t;return null==(t=this.QE)?void 0:t.SR},i.et=function(){return We.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,We.awrap(t.prototype.et.call(this));case 2:if(!this.QE){n.next=6;break}return n.next=5,We.awrap(this.JE.nt(this.QE));case 5:this.QE=void 0;case 6:case"end":return n.stop()}},null,this,null,j)},ft(n,[{key:"wD",set:function(t){this.JE=t,this.QE=t.G(Gg.ov)}}]),n}(function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).gD=0,n.yD=!1,n.mD=!0,n.bD=1,n.pD=!1,n.js=1,n.tg=new Yg,n.kg=pk.hD().jR(),n.pw=NaN,n._w=!1,n.fu=void 0,n.kw=void 0,n.eg=void 0,n.Eg=!1,n.Ag=!0,n.Pg=pk.hD().jR(),n.xg=vk.lI,n.Ml=zw.cw,n.Lg=pk.hD().jR(),n.GR=void 0,n.ig=new Km,n.Iw=0,n.ng=new Yg,n.Dw=0,n.Bg=new rk,n.oR=new Q_,n}vt(n,t);var i=n.prototype;return i.vg=function(){},i.dg=function(){},i.Y=function(){this.mD&&(this.mD=!1,this.Yr(new sg(this.bw)),this.Yr(new Db(this.bw)))},i.K=function(){this.mD||(this.mD=!0,this.Yr(new dg(this.bw,this.Tg)),this.Yr(new ug(this.bw)))},i.sg=function(t,n){return j.resolve()},i.og=function(){return!1},i.cg=function(){},i.ag=function(){},i.wg=function(){return Tk},i._g=function(){},i.fl=function(){return We.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.gD=0,this.pD=!1,this.K(),this.Yr(new rg(this.gD));case 4:case"end":return t.stop()}},null,this,null,j)},i.et=function(){return We.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.Zr(),this.tg.et(),this.ig.et(),this.ng.et();case 4:case"end":return t.stop()}},null,this,null,j)},ft(n,[{key:"Tg",get:function(){},set:function(t){}},{key:"bw",get:function(){return this.gD},set:function(t){this.gD!==t&&(this.gD=t,this.pD=!0,this.Yr(new gg(this.bw)))}},{key:"zw",get:function(){return{Rg:0,Ig:0,Dg:0,Ng:0,Og:0,Cg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"Tw",get:function(){return this.yD},set:function(t){this.yD!==t&&(this.yD=t,this.Yr(new mg(this.bw,this.Nw)))}},{key:"Sw",get:function(){return this.mD}},{key:"Ew",get:function(){return this.bD},set:function(t){this.bD!==t&&(this.bD=t,this.Yr(new vg(this.bw,this.Ew)))}},{key:"Rw",get:function(){return this.pD}},{key:"Nw",get:function(){return this.js},set:function(t){this.js!==t&&(this.js=t,this.Yr(new mg(this.bw,this.Nw)))}},{key:"Mg",get:function(){return!1},set:function(t){}},{key:"YR",get:function(){return this.oR}}]),n}(eu)),Ek=function(t){function n(n,i,e,r,u,s){var o,c=new Sk;return(o=t.call(this,hk.Zn,c)||this).Fc=void 0,o._D=void 0,o.kD=void 0,o.TD=void 0,o.kT=void 0,o.SD=void 0,o.ED=void 0,o.kD=n,o.Fc=i,o.kT=e,o.SD=r,o.TD=s,o._D=new K(u,o.TD),o._D.it(o.kD),c.wD=o._D,o.ED=new dk(o.kD),o}vt(n,t);var i=n.prototype;return i.st=function(){t.prototype.st.call(this),this._D.X()},i.fg=function(t){var n,i,e,r;n=this,e=(i=t).Nw,r=i.Tw,n.Nw=e,n.Tw=r},i.hg=function(){},i.TI=function(t){return t.DS(this.kD,this._D,this.kT,this.Fc,this.SD,this.TD)},i.lg=function(){return this.yI.lg()},i.gg=function(){return this._D.j.map(function(t){return t.SR})},i.Qr=function(n){t.prototype.Qr.call(this,n)},i.eu=function(n){t.prototype.eu.call(this,n)},i.et=function(){return We.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,We.awrap(t.prototype.et.call(this));case 2:this._D.et(),this.ED.et();case 4:case"end":return n.stop()}},null,this,null,j)},ft(n,[{key:"Sg",get:function(){return this.kD}},{key:"Mg",get:function(){return this.yI.Mg},set:function(t){this.yI.Mg=t}}]),n}(gk),Rk=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).kD=void 0,r.RD=void 0,r.DD=void 0,r.ND=void 0,r.OD=void 0,r.cR=new rk,r.kD=n,r.RD=i,r.ND=new Yg,r.OD=new Km,r.DD=e,r}vt(n,t);var i=n.prototype;return i.yg=function(t){return!0},i.dg=function(){},i.Y=function(){throw this.Yr(new kg(this.DD)),this.RD},i.K=function(){},i.ug=function(){},i.sg=function(t,n){return We.async(function(t){for(;;)switch(t.prev=t.next){case 0:throw jr(n),this.Yr(new kg(this.DD)),this.RD;case 3:case"end":return t.stop()}},null,this,null,j)},i.vg=function(){},i.rg=function(){return j.resolve()},i.lg=function(){},i.wg=function(){return Tk},i.gg=function(){return[]},i.st=function(){},i.fg=function(t){},i.hg=function(){},i.og=function(){return!1},i.cg=function(){},i.ag=function(){},i._g=function(){},i.fl=function(){return j.resolve()},i.et=function(){return this.Zr(),this.ND.et(),this.OD.et(),j.resolve()},ft(n,[{key:"tg",get:function(){return this.ND}},{key:"kg",get:function(){return pk.hD().jR()}},{key:"Tg",get:function(){return new Date(NaN)},set:function(t){}},{key:"pg",get:function(){}},{key:"bw",get:function(){return 0},set:function(t){}},{key:"pw",get:function(){return 0}},{key:"Sg",get:function(){return this.kD}},{key:"_w",get:function(){return!0}},{key:"fu",get:function(){return this.RD}},{key:"kw",get:function(){return this.DD}},{key:"eg",get:function(){}},{key:"zw",get:function(){return{Rg:0,Ig:0,Dg:0,Ng:0,Og:0,Cg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"Tw",get:function(){return!1},set:function(t){}},{key:"Ag",get:function(){return!0}},{key:"Sw",get:function(){return!0}},{key:"Ew",get:function(){return 0},set:function(t){}},{key:"Pg",get:function(){return pk.hD().jR()}},{key:"xg",get:function(){return vk.lI},set:function(t){}},{key:"Ml",get:function(){return zw.cw}},{key:"Lg",get:function(){return pk.hD().jR()}},{key:"Rw",get:function(){return!1}},{key:"ig",get:function(){return this.OD}},{key:"Iw",get:function(){return 0}},{key:"ng",get:function(){return this.ND}},{key:"Dw",get:function(){return 0}},{key:"Nw",get:function(){return 1},set:function(t){}},{key:"Bg",get:function(){return this.cR}},{key:"Mg",get:function(){return!1},set:function(t){}},{key:"Eg",get:function(){return!1}}]),n}(Pw);function Ik(t){if(t&&Ot(t))return He({},t,{integration:Dk(t.integration),fairplay:Lk(t.fairplay),widevine:Nk(t.widevine),playready:Ok(t.playready),clearkey:Bk(t.clearkey),aes128:Mk(t.aes128),integrationParameters:Fk(t.integrationParameters),preferredKeySystems:Uk(t.preferredKeySystems)})}function Dk(t){if(At(t))return t}function Nk(t){if(t&&Ot(t))return{persistentState:Ck(t.persistentState),distinctiveIdentifier:Ck(t.distinctiveIdentifier),audioRobustness:Ak(t.audioRobustness),videoRobustness:Ak(t.videoRobustness),licenseAcquisitionURL:At(t.licenseAcquisitionURL)?t.licenseAcquisitionURL:void 0,licenseType:Pk(t.licenseType),headers:t.headers,useCredentials:!!Pt(t.useCredentials)&&t.useCredentials,queryParameters:t.queryParameters,certificate:At(t.certificate)||as(t.certificate)?t.certificate:void 0,certificateRequestProcessor:xk(t.certificateRequestProcessor),certificateResponseProcessor:xk(t.certificateResponseProcessor),licenseRequestProcessor:xk(t.licenseRequestProcessor),licenseResponseProcessor:xk(t.licenseResponseProcessor)}}function Ok(t){if(t){var n=Nk(t);if(n)return He({},n,{customData:At(t.customData)?t.customData:void 0})}}function Ck(t){switch(null==t?void 0:t.toLowerCase()){case"required":return"required";case"optional":return"optional";case"not-allowed":return"not-allowed"}}function Ak(t){switch(t){case"HW_SECURE_ALL":return"HW_SECURE_ALL";case"HW_SECURE_DECODE":return"HW_SECURE_DECODE";case"HW_SECURE_CRYPTO":return"HW_SECURE_CRYPTO";case"SW_SECURE_DECODE":return"SW_SECURE_DECODE";case"SW_SECURE_CRYPTO":return"SW_SECURE_CRYPTO";case"":return""}}function Pk(t){switch(null==t?void 0:t.toLowerCase()){case"temporary":return"temporary";case"persistent":return"persistent"}}function xk(t){if("function"==typeof t)return t}function Lk(t){if(t){var n=Nk(t);if(n)return He({},n,{certificateURL:At(t.certificateURL)?t.certificateURL:void 0})}}function Bk(t){if(t){var n=Nk(t);if(n)return He({},n,{keys:Dt(t.keys)?t.keys.map(function(t){return function(t){if(!t||!Ot(t))return;var n=t.id,i=t.value;if(!At(n)||!At(i))return;return{id:n,value:i}}(t)}).filter(It):void 0})}}function Mk(t){if(Ot(t))return{useCredentials:Pt(t.useCredentials)?t.useCredentials:void 0}}function Fk(t){if(Ot(t))return t}function Uk(t){return t&&Dt(t)?t.map(function(t){return Sp(t)}).filter(It):[cr,ur,vr]}var Vk,qk=function(t){function n(n){var i;return(i=t.call(this,"presentationmodechange")||this).presentationMode=n,i}return vt(n,t),n}(uu),zk=function(t){function n(n,i){var e;return void 0===i&&(i=!1),(e=t.call(this,n)||this).CD=[],e.PD=void 0,e.xD=function(t){Jr(function(){e.Gr(t)})},e.PD=i?e.xD:e.Gr,e}vt(n,t);var i=n.prototype;return i.LD=function(t){t.Qr(this.PD),this.CD.push(t)},i.BD=function(t){t.eu(this.PD),Mr(this.CD,t)},i.et=function(){this.Zr();for(var t=0,n=this.CD;t<n.length;t++){n[t].eu(this.PD)}Vr(this.CD)},n}(Aw),Wk=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n}(zk);!function(t){t.INLINE="inline",t.FULLSCREEN="fullscreen",t.PICTURE_IN_PICTURE="picture-in-picture"}(Vk||(Vk={}));var Hk,jk=function(t){function i(n){var i;return(i=t.call(this)||this).MD=void 0,i.FD=void 0,i.UD=!1,i.VD=!1,i.qD=void 0,i.zD=void 0,i.WD=void 0,i.Ad=void 0,i.HD=function(){return i.jD()},i.$D=function(){return i.XD()},i.WD=n,i.MD=i.FD=i.qD=i.zD=Vk.INLINE,i.WD.Kr(mk.$d,i.HD),i.WD.Kr(mk.Nl,i.$D),i.GD(),i}vt(i,t);var e=i.prototype;return e.xd=function(){return t=this,i={get currentMode(){return t.YD()},requestMode:function(n){var i=Xk(n);i&&t.KD(i)},supportsMode:function(n){var i=Xk(n);return!!i&&t.JD(i)},addEventListener:function(t,i){n.Kr(t,i)},removeEventListener:function(t,i){n.tu(t,i)}},(n=new zk(i,!0)).LD(t),i;var t,n,i},e.KD=function(t){this.QD(t,t)},e.QD=function(t,n){this.FD!==n&&(this.UD=!0,this.MD=t,this.ZD(n,this.FD),t!==Vk.FULLSCREEN&&(this.qD=t),this.UD=!1,this.GD())},e.YD=function(){return this.VD?Vk.FULLSCREEN:Vk.INLINE},e.JD=function(t){switch(t){case Vk.FULLSCREEN:return this.WD.lD;case Vk.INLINE:return!0}return!1},e.GD=function(){if(!this.UD){var t=this.FD,n=this.YD();this.FD=n,n!==Vk.FULLSCREEN&&(this.zD=n),t!==n&&this.Yr(new qk(n))}},e.ZD=function(t,n){var i=t===Vk.FULLSCREEN;this.VD=i,i!==this.WD.dD&&(i?this.WD.Zg():this.WD.ny())},e.jD=function(){if(!this.UD){var t=this.WD.dD;this.VD=t,t?this.QD(Vk.FULLSCREEN,Vk.FULLSCREEN):t||this.MD!==Vk.FULLSCREEN?this.GD():this.QD(this.qD,this.zD)}},e.XD=function(){this.jD(),this.Yr(new kg(new sc(n.ErrorCode.FULLSCREEN_ERROR,"Failed to enter fullscreen.")))},e.et=function(){this.WD.et(),this.Zr()},ft(i,[{key:"Pd",get:function(){return this.Ad||(this.Ad=this.xd()),this.Ad}}]),i}(Aw),$k={bw:0,pw:NaN,_w:!1,fu:void 0,kw:void 0,Tw:!1,Sw:!0,Ew:1,Ml:zw.cw,Rw:!1,Iw:0,Dw:0,Nw:1};function Xk(t){switch(t){case Vk.INLINE:case Vk.FULLSCREEN:case Vk.PICTURE_IN_PICTURE:return t;default:return}}!function(t){t.DEFAULT="",t.THEO="theo",t.GOOGLE_IMA="google-ima",t.SPOTX="spotx",t.FREEWHEEL="freewheel"}(Hk||(Hk={}));var Gk,Yk,Kk,Jk,Qk,Zk,tT,nT,iT=function(){function t(){this.tN=[]}var n=t.prototype;return n.nN=function(t){var n=this.iN.filter(function(n){return n.eN(t)});if(n.length>1)0;else if(0===n.length)throw f("Unknown ad integration: "+t.integration);return n[0]||null},n.rN=function(t){this.tN.push(t)},ft(t,[{key:"iN",get:function(){return this.tN}}]),t}();iT.Zn=new iT,function(t){t.mw="PLAYING",t.Hw="PAUSED",t.uN="SEEK",t.sN="STALLED",t.oN="FAILED",t.cN="INITIAL_BUFFERING",t.aN="NO_ACCESS"}(Gk||(Gk={})),function(t){t.fN="HTTP_REQUEST_STATUS_CODE_1XX",t.hN="HTTP_REQUEST_STATUS_CODE_2XX",t.vN="HTTP_REQUEST_STATUS_CODE_3XX",t.dN="HTTP_REQUEST_STATUS_CODE_4XX",t.lN="HTTP_REQUEST_STATUS_CODE_5XX",t.wN="BUFFER_LENGTH",t.gN="BYTES_RECEIVED",t.yN="SEGMENT_READ_BITRATE",t.mN="SEGMENT_PROFILE_BITRATE",t.bN="NUMBER_OF_FRAMES_DROPPED",t.pN="PLAYBACK_POSITION",t._N="NUMBER_OF_FRAMES_DECODED",t.kN="PLAYBACK_DELTA_TO_ORIGIN",t.TN="STREAM_DELTA_TO_ORIGIN",t.SN="ORIGIN_TIMESTAMP"}(Yk||(Yk={})),function(t){t.EN="MANIFEST_URI",t.RN="ASSET_DURATION",t.IN="NUMBER_OF_CONTENT_PROFILES",t.DN="CDN",t.NN="CONTENT_TITLE",t.ON="SERVICE_NAME",t.CN="CONTENT_TYPE",t.AN="CONTENT_DESCRIPTION"}(Kk||(Kk={})),function(t){t.PN="shutdown_normal_shutdown"}(Jk||(Jk={})),function(t){t.xN="session/",t.LN="internalError/",t.BN="drmError/",t.MN="caError/",t.FN="networkError/"}(Qk||(Qk={})),function(t){t.UN="userAction",t.VN="endOfStreamReached"}(Zk||(Zk={})),function(t){t.PAUSE="qN",t.RESUME="zN"}(tT||(tT={})),function(t){t.UNAVAILABLE="unavailable",t.AVAILABLE="available",t.CONNECTING="connecting",t.CONNECTED="connected"}(nT||(nT={}));var eT,rT,uT,sT,oT,cT="agama";function aT(t){return function(t){switch(t){case eT.NONE:case eT.HORIZONTAL:case eT.VERTICAL:return!0;default:return!1}}(t)?t:eT.NONE}function fT(t){switch(t){case"":return eT.NONE;case"horizontal":return eT.HORIZONTAL;case"vertical":return eT.VERTICAL;default:throw new h}}function hT(t){if(!t||!At(t))return rT.dI;switch(t){case"always":return rT.WN;case"never":return rT.HN;default:return rT.dI}}function vT(t){if(!t||!At(t))return uT.dI;switch(t){case"playlist":return uT.jN;case"media":return uT.$N;default:return uT.dI}}function dT(t,n){return t.length>0?t:n.length>0?n:void 0}function lT(t){if(null!==t)return t}function wT(t){var n,i={apiKey:t.apiKey,integration:t.integration,streamActivityMonitorID:lT(t.streamActivityMonitorID),adTagParameters:Ot(t.adTagParameters)?t.adTagParameters:{},authToken:lT(t.authToken)};if("vod"===(null==t?void 0:t.availabilityType)||(n=t,Boolean(n.videoID&&n.contentSourceID))){var e=t.videoID,r=t.contentSourceID;return e?r?He({},i,{availabilityType:"vod",videoID:e,contentSourceID:r}):void st.Ie("A VOD DAI configuration was provided without valid contentSourceID which is required."):void st.Ie("A VOD DAI configuration was provided without valid videoID which is required.")}if("live"===(null==t?void 0:t.availabilityType)||function(t){return Boolean(t.assetKey)}(t)){var u=t.assetKey;return u?He({},i,{availabilityType:"live",assetKey:u}):void st.Ie("A Live DAI configuration was provided without valid assetKey which is required.")}st.Ie("A DAI configuration was provided without a valid availabilityType which is required.")}function gT(t){if(!gp(t)||!t.integration)return t;switch(t.integration){case Mb:return n=t,i=Tp(tr.ar,n),e=Tp(tr.cr,n),r=n[tr.dr]&&Tp(tr.dr,n),He({integration:"keyos",widevine:i,playready:e},r?{fairplay:r}:{});default:return t}var n,i,e,r}!function(t){t.NONE="",t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(eT||(eT={})),function(t){t.dI="auto",t.WN="always",t.HN="never"}(rT||(rT={})),function(t){t.dI="auto",t.jN="playlist",t.$N="media"}(uT||(uT={})),function(t){t.VERIZON_MEDIA="verizon-media",t.MEDIATAILOR="mediatailor"}(sT||(sT={})),function(t){t.ASSET="asset",t.CHANNEL="channel",t.EVENT="event"}(oT||(oT={}));var yT="https://content.uplynk.com";function mT(t){if(!t)return!0;var n,i,e=!(Kw(n=t.sources)||Nt(n)&&Kw(n[0]))||Jw(t.sources),r=!t.ads||(!(i=t.ads)||Dt(i)&&0===i.length),u=""!==t.poster&&!t.poster;return e&&r&&u}function bT(t){if(t&&t.sources)return function t(n){if(At(n))return n;if(Yw(n))return n.src;if(Nt(n)&&n.length>0)return t(n[0]);return}(t.sources)}function pT(t,n,i){return Xw(t)?function(t,n,i){var e=He({},Qw(),{ping:{adImpressions:!1,freeWheelVideoViews:!1,linearAdData:!1},integration:sT.VERIZON_MEDIA,id:"",prefix:yT,preplayParameters:{},playbackUrlParameters:{},assetType:oT.ASSET,contentProtected:!1,assetInfo:!0});e.id=(r=t.id,At(r)?r:Nt(r)&&At(r[0])?r:Ot(u=r)&&At(u.userId)&&(Nt(u.externalId)||At(u.externalId))?r:""),t.preplayParameters&&(e.preplayParameters=t.preplayParameters);var r,u;t.playbackUrlParameters&&(e.playbackUrlParameters=t.playbackUrlParameters);t.assetType&&(e.assetType=function(t){switch(t){case"channel":return oT.CHANNEL;case"event":return oT.EVENT;case"asset":default:return oT.ASSET}}(t.assetType));t.contentProtected&&(e.contentProtected=hw(t.contentProtected));t.assetInfo?e.assetInfo=hw(t.assetInfo):e.assetInfo="asset"===e.assetType;t.prefix&&(e.prefix=lw(t.prefix)||yT);return e.ping=(s=e.assetType,o=t.ping,c=!1,a=!1,f=!1,o?(c=!!Pt(o.adImpressions)&&o.adImpressions,a=!!Pt(o.freeWheelVideoViews)&&o.freeWheelVideoViews,f=Pt(o.linearAdData)?o.linearAdData:s!==oT.ASSET):s!==oT.ASSET&&(f=!0),{adImpressions:c,freeWheelVideoViews:a,linearAdData:f}),e=kT(e=TT(e=_T(e,t),n,i),t,i);var s,o,c,a,f}(t,n,i):function(t,n,i){var e=Zw(),r=n&&(n.contentProtection||n.drm);if(At(t)){if(e.src=t,e.type=jw(t),r){var u=Ik(r);e.contentProtection=gT(u)}}else if(Yw(t)||$w(t)){e.src=t.src,e.type=t.type||jw(t.src),e.isAdvertisement=t.isAdvertisement;var s=function(t){return t.type===Uw.sw||t.type===Uw.ow}(t)?t.hesp:void 0;void 0!==s&&(e.hesp=s);var o=Ot(f=t)&&At(f.integration)&&"mediatailor"===f.integration;o&&(e.integration=t.integration);var c=t.contentProtection||t.drm||r,a=Ik(c);e.contentProtection=gT(a),t.ssai&&(e.ssai=function(t){switch(t.integration){case"google-dai":return wT(t);case"imagine":return{integration:t.integration};case"yospace":return function(t){var n;return{integration:t.integration,streamType:null!=(n=t.streamType)?n:void 0}}(t);default:return{integration:t.integration}}}(t.ssai)),e=_T(e,t)}var f;return e=kT(e=TT(e,n,i),t,i)}(t,n,i)}function _T(t,n){var i;n.useCredentials?t.crossOrigin=Fw.rw:n.crossOrigin&&(t.crossOrigin=function(t){switch(t){case Fw.ew:case Fw.rw:return t;default:return Fw.iw}}(n.crossOrigin)),At(n.timeServer)&&(t.timeServer=n.timeServer),n.liveOffset&&(t.liveOffset=n.liveOffset),n.hlsDateRange&&(t.hlsDateRange=n.hlsDateRange),n.lowLatency&&(t.lowLatency=hw(n.lowLatency)),n.useNativePlayback&&(t.useNativePlayback=hw(n.useNativePlayback)),n.dash&&(t.dash={useSeamlessPeriodSwitch:hT(null==(i=n.dash)?void 0:i.useSeamlessPeriodSwitch)}),n.hls&&(t.hls=function(t){return{discontinuityAlignment:vT(null==t?void 0:t.discontinuityAlignment)}}(n.hls));var e=void 0!==n.experimentalRendering?hw(n.experimentalRendering):void 0;void 0!==e&&(t.experimentalRendering=e);var r=void 0!==n.nativeUiRendering?hw(n.nativeUiRendering):void 0;return void 0!==r&&(t.nativeUiRendering=r),t}function kT(t,n,i){return t.abr=function(t,n){var i=ww(null==t?void 0:t.preferredAudioCodecs,lw),e=ww(null==t?void 0:t.preferredVideoCodecs,lw),r=ww(null==n?void 0:n.preferredAudioCodecs,lw),u=ww(null==n?void 0:n.preferredVideoCodecs,lw),s=dT(i,r),o=dT(e,u);if(s||o)return{preferredAudioCodecs:s,preferredVideoCodecs:o}}(At(n)?void 0:n.abr,null==i?void 0:i.abr),t}function TT(t,n,i){var e,r=n&&n.timeServer;return i&&i.liveOffset&&!It(t.liveOffset)&&(t.liveOffset=i.liveOffset),i&&i.hlsDateRange&&!It(t.hlsDateRange)&&(t.hlsDateRange=i.hlsDateRange),t.crossOrigin===Fw.iw&&null!=n&&null!=(e=n.vr)&&e[360]&&(t.crossOrigin=Fw.ew),t.useCredentials=t.crossOrigin===Fw.rw,At(r)&&!t.timeServer&&(t.timeServer=r),t}function ST(t){var n={src:""};if(t&&t.src){if(n.src=lw(t.src),"default"in t&&(n.default=hw(t.default)),n.kind=Qm(t.kind),function(t){switch(t){case oy.DEFAULT:case oy.SRT:case oy.TTML:case oy.WEBVTT:case oy.EMSG:case oy.EVENT_STREAM:case oy.ID3:case oy.CEA608:case oy.DATE_RANGE:return!0;default:return!1}}(t.format)&&(n.format=t.format),"srclang"in t){var i=t.srclang;"string"==typeof i&&""!==i&&(n.srclang=i)}if("label"in t){var e=t.label;"string"==typeof e&&""!==e&&(n.label=e)}}return n}function ET(t,n){if(Ct(t))try{return n.nN(t).XN(t)}catch(t){return}}function RT(t){return At(t.sources)&&""!==t.sources||Ot(t.sources)&&At(t.sources.src)}function IT(t){return t.integration===Hk.SPOTX&&!g(t.id)}function DT(t){return"freewheel"===t.integration}function NT(t,n,i){if(void 0===i&&(i=iT.Zn),mT(t))return{sources:[Zw()]};var e=ow(t);if(e.sources=function(t,n,i){if(Kw(t))return[pT(t,n,i)];if(Nt(t)&&Kw(t[0])){for(var e=[],r=0;r<t.length;r++){var u=t[r];e.push(pT(u,n,i))}return e}return[Zw()]}(e.sources,e,n),"contentProtection"in e&&delete e.contentProtection,"drm"in e&&delete e.drm,"ads"in e){var r=function(t,n){if(!Nt(t))return[];for(var i=[],e=0,r=t;e<r.length;e++){var u=r[e];(u=ET(u,n))&&(RT(u)||IT(u)||DT(u))&&i.push(u)}return i}(e.ads,i);0===r.length?delete e.ads:e.ads=r}var u,s,o,c=!Jw(e.sources),a=e.ads&&e.ads.length>0;if(c&&!a?delete e.ads:a&&!c&&(e.sources=[]),"textTracks"in e){var f=function(t){if(!Nt(t))return[];for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];""!==(r=ST(r)).src&&n.push(r)}return n}(e.textTracks);0===f.length?delete e.textTracks:e.textTracks=f}if("poster"in e&&(e.poster=lw(e.poster)),"vr"in e&&(e.vr=(u=e.vr,(s=u||{}).stereoMode=aT(s.stereoMode),{360:Boolean(s[360]),stereoMode:s.stereoMode?fT(s.stereoMode):eT.NONE,nativeVR:Boolean(s.nativeVR)})),"analytics"in e||(null==n?void 0:n.analytics)){var h=ng(e.analytics),v=n&&n.analytics||[];e.analytics=function(t,n){for(var i=ow(t),e=function(e){var r=n[e],u=!t.some(function(t){return t.integration===r.integration});u&&r.integration!==cT&&i.push(r)},r=0;r<n.length;r++)e(r);return i}(h,v)}return"mutedAutoplay"in e&&(e.mutedAutoplay=Tg(e.mutedAutoplay)),"timeServer"in e&&delete e.timeServer,"playAdsAfterTime"in e&&(e.playAdsAfterTime=vw(e.playAdsAfterTime)),e.blockContentIfAdError=void 0!==(o=e.blockContentIfAdError)&&"boolean"==typeof o&&Boolean(o),e}var OT=function(){function t(t){this.GN=t}return t.prototype.YN=function(t){var n,i,e,r,u,s,o,c=[];if(!t)return"";var a=t.length%4;if(a>0)for(;a++<4;)t+=this.GN.charAt(64);for(n=0;n<t.length;n+=4)i=(o=this.GN.indexOf(t.charAt(n))<<18|this.GN.indexOf(t.charAt(n+1))<<12|(u=this.GN.indexOf(t.charAt(n+2)))<<6|(s=this.GN.indexOf(t.charAt(n+3))))>>>16&255,e=o>>>8&255,r=255&o,c[n/4]=String.fromCharCode(i,e,r),64===s&&(c[n/4]=String.fromCharCode(i,e)),64===u&&(c[n/4]=String.fromCharCode(i));return c.join("")},t.prototype.KN=function(t,n){var i,e,r,u,s,o,c,a=[],f="";if((o=t.length%3)>0)for(;o++<3;)f+=this.GN.charAt(64),t+="\0";for(o=0;o<t.length;o+=3)e=(i=t.charCodeAt(o)<<16|t.charCodeAt(o+1)<<8|t.charCodeAt(o+2))>>18&63,r=i>>12&63,u=i>>6&63,s=63&i,a[o/3]=this.GN.charAt(e)+this.GN.charAt(r)+this.GN.charAt(u)+this.GN.charAt(s);return c=(c=a.join("")).slice(0,c.length-f.length),n||(c+=f),c},t.lb=new t(function(){var t,n,i,e,r=[],u=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<u.length;t+=1)for(n=u[t],i=0;i<n.length;i+=1)e=n.charAt(i),-1===r.indexOf(e)&&r.push(e);return r.join("")}()),t.JN=new t(t.lb.YN("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")),t}();function CT(t){return"string"==typeof t}function AT(t){return"number"==typeof t}var PT={}.toString;var xT,LT=Array.isArray||function(t){return"[object Array]"===PT.call(t)};function BT(t,n){return LT(t)&&t.every(n)}!function(t){t.HTML5="html5",t.ANDROID="android",t.IOS="ios",t.TVOS="tvos",t.ANDROIDTV="androidtv",t.TIZEN="tizen",t.WEBOS="webos",t.CHROMECAST="chromecast",t.ROKU="roku",t.FIRETV="firetv",t.CHROMECASTCAF="chromecastcaf"}(xT||(xT={}));var MT,FT=v.keys(xT).map(function(t){return xT[t]});function UT(t){return-1!==FT.indexOf(t)}function VT(t){try{var n=OT.JN.YN(t),i=JSON.parse(n);if(!function(t){var n=(h=t,"object"==typeof h&&null!==h),i=CT(t.key),e=CT(t.customer_id),r=AT(t.generation_date),u=AT(t.expiration_date),s=BT(t.domains_page,CT),o=BT(t.domains_source,CT),c=BT(t.sdks,UT),a=(f=t.send_impression,"boolean"==typeof f);var f;var h;if(!(n&&i&&e&&r&&u&&s&&o&&c&&a))return!1;return!0}(i))throw new f("The provided license could not be decoded correctly.");return i}catch(t){throw new f("The provided license could not be decoded correctly.")}}function qT(){return MT||(MT={jh:tt.href,QN:Z.parent&&Z.parent!==i,ZN:HT()}),MT}var zT,WT=["http:","https:","ftp:","ws:","wss:"];function HT(){try{return Z.top.location.href}catch(t){return Z&&Z.document&&Z.document.referrer}}!function(t){t[t.tO=0]="tO",t[t.nO=1]="nO",t[t.iO=2]="iO"}(zT||(zT={}));var jT,$T=function(t,n,i,e,r,u,s,o){void 0===r&&(r=""),void 0===u&&(u=Date.now()),void 0===s&&(s=[]),void 0===o&&(o=!0),this.eO=t,this.rO=n,this.uO=i,this.sO=e,this.oO=r,this.cO=u,this.aO=s,this.fO=o};!function(t){t.nO="expired",t.hO="invaliddomain",t.vO="invalidsource",t.Nl="error"}(jT||(jT={}));var XT=function(){function t(t,n,i){this.dO=void 0,this.lO=t,this.wO=n,this.Rs=i,this.dO=ZT(this.Rs)}var n=t.prototype;return n.gO=function(t,n){var i=this;if(!mT(t)&&0!==n.uO.length&&!KT(n.uO)){var e=[];if(Kw(t.sources)?e=[t.sources]:Nt(t.sources)&&(e=t.sources),!e.every(function(t){return i.yO(t,n)})){var r=jT.vO,u=nS.mO(r);throw new sc(GT(r),u)}}},n.bO=function(n){return this.pO(n.aO)&&this._O(n)?t.kO(n.sO)?zT.tO:zT.nO:zT.iO},n.pO=function(t){var n=this;return 0===t.length||t.some(function(t){return n.TO(t)})},n.TO=function(t){return"tvos"===function(t){switch(t){case xT.ANDROID:return ot.dt;case xT.ANDROIDTV:case xT.FIRETV:return ot.wt;case xT.IOS:return ot.yt;case xT.TVOS:return ot.bt;case xT.CHROMECAST:case xT.CHROMECASTCAF:return ot.pt;default:return ot.vt}}(t)},t.kO=function(t){var n=Number(new Date);return!!t&&n<=t},n._O=function(t){return!(this.dO&&0!==t.rO.length&&!KT(t.rO))||!!(this.dO&&this.SO(t.rO)&&this.EO(t.rO))},n.SO=function(t){return JT(this.Rs.jh,t)},n.EO=function(t){if(!this.Rs.QN)return!0;if(this.lO)return!0;var n=this.RO();return!!n&&JT(n,t)},n.RO=function(){if(this.Rs.QN){var t=r.ancestorOrigins;return t&&t.length>0?t[t.length-1]:this.Rs.ZN?this.Rs.ZN:void 0}},n.yO=function(n,i){return!!t.IO(n,i.uO)},t.IO=function(t,n){return JT(this.DO(t),n)},t.DO=function(t){return At(t)?t:Yw(t)&&t.src||""},t}();function GT(t){switch(t){case jT.hO:return n.ErrorCode.LICENSE_INVALID_DOMAIN;case jT.vO:return n.ErrorCode.LICENSE_INVALID_SOURCE;case jT.nO:return n.ErrorCode.LICENSE_EXPIRED;case jT.Nl:return n.ErrorCode.LICENSE_ERROR}}function YT(t,n){var i=t,e=n;if(!i)return!1;if("*"===(e=e.trim()))return!0;if(e===(i=i.replace(/\.+$/,"")))return!0;var r="\\.",u="25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?",s="(\\*|"+u+")",o=new RegExp("ip-range\\("+s+r+s+r+s+r+s+"\\)"),c=e.match(o),a=function(t){return"*"===t?"("+u+")":t};if(null!==c&&5===c.length){var f=new RegExp("^"+c[1]+r+a(c[2])+r+a(c[3])+r+a(c[4])+"$");return null!==i.match(f)}return e="."+e,-1!==i.indexOf(e,i.length-e.length)}function KT(t){return t.some(function(t){return"*"===t})}function JT(t,n){var i=st.ze(t);if(!QT(i))return!0;for(var e=0;e<n.length;e++){var r=n[e];if(YT(i.hostname,r))return!0;if(YT(hd(t),r))return!0}return!1}function QT(t){return-1!==WT.indexOf(t.protocol)}function ZT(t){var n=st.ze(t.jh);return QT(n)&&!YT(n.hostname,"localhost")&&!function(t){return YT(t.hostname,"theoplayer.doubleclick.net")}(n)}var tS,nS=function(){function t(){}return t.mO=function(t){return t===jT.hO?this.OO:t===jT.vO?this.CO:t===jT.nO?this.AO:this.PO},t}();function iS(t){var n=[t._k,t.xO,t.LO];switch(t.xO){case tS.BO:n.push(t.Vl);break;case tS.MO:n.push(t.bw),n.push(t.fu);break;case tS.FO:n.push(t.fu)}return n}nS.PO="The license for this player is invalid.",nS.AO="The usage license for this video player has expired.",nS.OO="The current domain is incompatible with the license for this player.",nS.CO="The provided video source is incompatible with the license for this player.",function(t){t[t.BO=1]="BO",t[t.MO=4]="MO",t[t.FO=5]="FO"}(tS||(tS={}));for(var eS=new Array(256),rS=0;rS<256;rS+=1)eS[rS]=(rS<16?"0":"")+rS.toString(16);function uS(){var t=tn(),n=(4294967296*d.random()|0)+t&3029421624,i=(4294967296*d.random()|0)+t&3595553209,e=(4294967296*d.random()|0)+t&1130486254,r=(4294967296*d.random()|0)+t&1284287105;return eS[255&n]+eS[n>>>8&255]+eS[n>>>16&255]+eS[n>>>24&255]+"-"+eS[255&i]+eS[i>>>8&255]+"-"+eS[i>>>16&15|64]+eS[i>>>24&255]+"-"+eS[63&e|128]+eS[e>>>8&255]+"-"+eS[e>>>16&255]+eS[e>>>24&255]+eS[255&r]+eS[r>>>8&255]+eS[r>>>16&255]+eS[r>>>24&255]}var sS=function(){function t(t){this.GN=void 0,this.GN=t}var n=t.prototype;return n.YN=function(t){var n,i,e,r,u,s,o,c=[];if(!t)return"";for(n=0;n<t.length;n+=4)i=(o=this.GN.indexOf(t.charAt(n))<<18|this.GN.indexOf(t.charAt(n+1))<<12|(u=this.GN.indexOf(t.charAt(n+2)))<<6|(s=this.GN.indexOf(t.charAt(n+3))))>>>16&255,e=o>>>8&255,r=255&o,c[n/4]=String.fromCharCode(i,e,r),64===s&&(c[n/4]=String.fromCharCode(i,e)),64===u&&(c[n/4]=String.fromCharCode(i));return c.join("")},n.KN=function(t){var n,i,e,r,u,s,o,c=[],a="";if((s=t.length%3)>0)for(;s++<3;)a+=this.GN.charAt(64),t+="\0";for(s=0;s<t.length;s+=3)i=(n=t.charCodeAt(s)<<16|t.charCodeAt(s+1)<<8|t.charCodeAt(s+2))>>18&63,e=n>>12&63,r=n>>6&63,u=63&n,c[s/3]=this.GN.charAt(i)+this.GN.charAt(e)+this.GN.charAt(r)+this.GN.charAt(u);return(o=c.join("")).slice(0,o.length-a.length)+a},t}();function oS(){return st._e()}sS.lb=new sS(function(){var t,n,i,e,r=[],u=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<u.length;t+=1)for(n=u[t],i=0;i<n.length;i+=1)e=n.charAt(i),-1===r.indexOf(e)&&r.push(e);return r.join("")}()),sS.JN=new sS(sS.lb.YN("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop"));var cS,aS="theoplayer-session-id";function fS(){if(!cS){var t=kc.mu(aS);t?cS=t:(cS=uS(),kc.aa(aS,cS))}return cS}var hS=/[^\x00-\x7E]/g;function vS(t){return"\\u"+function(t,n,i){void 0===i&&(i=" ");var e=i,r=(0|n)-t.length;return r<=0?t:(r>e.length&&(e+=function(t,n){var i=0|n;if(0===t.length||0===i)return"";for(var e=t,r="";1==(1&i)&&(r+=e),0!=(i>>>=1);)e+=e;return r}(e,r/e.length)),e.slice(0,r)+t)}(t.charCodeAt(0).toString(16),4,"0")}var dS=0,lS=1,wS=6e4;function gS(t){var n,i,e,r,u,s=(n=function(t){return[t.UO,t.hc,t.eO,t.xp,t.VO,t.qO,t.zO.map(iS)]}(t),i=[],e=n,r=function(t,n){if(Ot(n)){if(-1!==i.indexOf(n))return null;i.push(n)}return n},JSON.stringify(e,r,u).replace(hS,vS));return sS.JN.KN(s)}var yS=function(){function t(t,n,i,e,r,u){var s=this;void 0===e&&(e=sS.lb),void 0===r&&(r=dS),void 0===u&&(u=lS),this.WO=[],this.HO=null,this.jO=0,this.$O="unknown",this.ro=0,this.XO=function(){oS()-s.jO>wS&&s.W()},this.GO=function(){s.W(!0)},this.No=t,this.kT=n,this.YO=i,this.KO=e,this.JO=r,this.QO=u,Q.ct(this.GO),c(this.XO,wS)}var n=t.prototype;return n.ZO=function(){return Boolean(this.VO)},n.tC=function(t){var n;return We.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,We.awrap(this.YO.nC());case 2:if(i.sent.fO){i.next=5;break}return i.abrupt("return");case 5:return n={xO:tS.BO,LO:tn(),Vl:t},i.next=8,We.awrap(this.iC(n));case 8:case"end":return i.stop()}},null,this,null,j)},n.eC=function(t,n){var i;return We.async(function(e){for(;;)switch(e.prev=e.next){case 0:return i={xO:tS.MO,LO:tn(),bw:n,fu:t},e.next=3,We.awrap(this.iC(i));case 3:case"end":return e.stop()}},null,this,null,j)},n.rC=function(t){var n;return We.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n={xO:tS.FO,LO:tn(),fu:t},i.next=3,We.awrap(this.iC(n));case 3:case"end":return i.stop()}},null,this,null,j)},n.iC=function(t){var n;return We.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,We.awrap(this.YO.nC());case 2:if(n=i.sent,"a:n[_O*[C4C-N$_@_MYY $D]iOp]N$_-_]th_:c|aen?C:pH"!==this.KO.KN(n.eO)){i.next=6;break}if(t.xO===tS.FO){i.next=6;break}return i.abrupt("return");case 6:if(t.xO===tS.BO?this.uC():this.ZO()||this.uC(),t._k=this.ro++,this.WO.push(t),(e=t.xO)!==tS.BO&&e!==tS.FO){i.next=14;break}return i.next=12,We.awrap(this.W());case 12:i.next=19;break;case 14:if(!(this.WO.length>this.JO)){i.next=19;break}return i.next=17,We.awrap(this.sC());case 17:i.next=19;break;case 19:case"end":return i.stop()}var e},null,this,null,j)},n.W=function(t){return We.async(function(n){for(;;)switch(n.prev=n.next){case 0:void 0===t&&(t=!1);case 1:if(!(this.WO.length>0)){n.next=6;break}return n.next=4,We.awrap(this.sC(t));case 4:n.next=1;break;case 6:case"end":return n.stop()}},null,this,null,j)},n.oC=function(t){var n;return We.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,We.awrap(this.YO.nC());case 2:return n=i.sent,i.abrupt("return",{UO:tn(),hc:fS(),eO:this.KO.KN(n.eO)||"dev",xp:this.No,VO:this.HO,qO:this.$O,zO:t});case 4:case"end":return i.stop()}},null,this,null,j)},n.sC=function(t){var n,i;return We.async(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t=!1),n=this.WO.splice(0,this.QO),e.next=4,We.awrap(this.oC(n));case 4:i=e.sent,t?this.wv(i):this.cC(i),this.jO=oS();case 7:case"end":return e.stop()}},null,this,null,j)},n.cC=function(t){var n,i,e;return We.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=gS(t),i=new ed({jh:"https://license.theoplayer.com",Ih:n,dv:!1,Vh:Ic.ri,Uh:{"Content-Type":e_.ZS},fv:4e3,av:Qv.POST}),r.prev=2,r.next=5,We.awrap(this.kT.Wh(i));case 5:return e=r.sent,r.next=8,We.awrap(e.Sh());case 8:r.next=13;break;case 10:r.prev=10,r.t0=r.catch(2),(new Image).src="https://licensing.theoplayer.com/t?"+n;case 13:case"end":return r.stop()}},null,this,[[2,10]],j)},n.wv=function(t){var n=gS(t);this.kT.wv({jh:"https://license.theoplayer.com",Ih:n,Rh:e_.ZS})},n.uC=function(){this.ZO()&&this.W(),this.HO=uS(),this.ro=0},n.et=function(){Q.ft(this.GO),this.W()},ft(t,[{key:"zO",get:function(){return this.WO}},{key:"VO",get:function(){return this.HO}}]),t}();var mS=St.xn||St._n&&St.Vn<13;function bS(t,n,i){var e=t.getImageData(n,i,1,1).data;return 0===e[0]&&0===e[1]&&0===e[2]&&0===e[3]}var pS=function(){function t(t){this.aI=void 0,this.Ad=void 0,this.aC=void 0,this.aI=t}var n=t.prototype;return n.fC=function(t){if(!t||!t.drawImage)return!1;var n=this.aI.lg();if(!n)return!1;for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return t.drawImage.apply(t,[n].concat(e)),!0},n.hC=function(t,n,i,r,u,s){if(!t||!t.texImage2D)return!1;var o=this.aI,c=o.lg();if(!c)return!1;if(mS){this.aC||(this.aC=e.createElement("canvas"));var a=this.aC,h=a.getContext("2d"),v=o.Dw,d=o.Iw,l=a.width,w=a.height;h.clearRect(0,0,a.width,a.height),l===v&&w===d||(a.width=v,a.height=d),h.drawImage(c,0,0,v,d);var g=!1;v>0&&bS(h,v-1,0)&&(a.width=l,g=!0),d>0&&bS(h,0,d-1)&&(a.height=w,g=!0),g&&h.drawImage(c,0,0,v,d),c=a}try{t.texImage2D(n,i,r,u,s,c)}catch(t){throw new f("Error trying to render video content to the WebGLRenderingContext. This is most likely due to CORS restrictions. https://support.theoplayer.com/hc/en-us/articles/115003094385#Considerations")}return!0},ft(t,[{key:"Pd",get:function(){return this.Ad||(this.Ad=(t=this,{drawImage:function(n){for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return t.fC.apply(t,[n].concat(e))},texImage2D:function(n,i,e,r,u,s){return t.hC(n,i,e,r,u,s)}}));var t}}]),t}(),_S=function(t){function n(n,i){var e;return(e=t.call(this,"vC")||this).Dy=n,e.d_=i,e}return vt(n,t),n.prototype.xd=function(){return new kS(this.Dy,this.d_)},n}($l),kS=function(t){function n(n,i){var e;return(e=t.call(this,"dimensionchange")||this).width=n,e.height=i,e}return vt(n,t),n}(uu),TS=function(t,n){this.Sg=void 0,this.dC=void 0,this.Sg=t,this.dC=n},SS=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).lC=void 0,e.wC=0,e.gC=0,e.yC=function(t){if(t.length>0){var n=t[t.length-1].contentRect;e.gC=n.width,e.wC=n.height,e.dC(e.gC,e.wC)}},e.lC=new Z.ResizeObserver(e.yC),e.lC.observe(e.Sg),e}return vt(n,t),n.prototype.et=function(){this.lC.disconnect()},ft(n,[{key:"mC",get:function(){return this.wC}},{key:"bC",get:function(){return this.gC}}]),n}(TS),ES=0;var RS,IS=o,DS=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,NS=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelRequestAnimationFrame;function OS(){return RS||(RS=Z&&Z.document&&Z.document.createElement("span")),RS}DS&&NS||(DS=function(t){var n=oS(),i=d.max(0,16-(n-ES)),e=s(function(){return t(n+i)},i);return ES=n+i,e},NS=IS),DS=DS.bind(t),NS=NS.bind(t);var CS=["Webkit","Moz","O","ms"],AS=(function(){var t=!1;try{if(void 0!==Z&&"function"==typeof Z.addEventListener){var n=v.defineProperty({},"passive",{get:function(){t=!0}});Z.addEventListener("testPassiveEventSupport",Bt,n),Z.removeEventListener("testPassiveEventSupport",Bt,n)}}catch(t){}}(),$e());function PS(t){return AS.has(t)||AS.set(t,function(t){var n=OS();if(!n||!n.style)return t;if(void 0!==n.style[t])return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),e=0;e<CS.length;e++){var r=CS[e],u=r+i;if(void 0!==n.style[u])return u}return t}(t)),AS.get(t)}function xS(t){var n=t.style;n.position="absolute",n.left=n.right=n.bottom=n.top="0",n.overflow="scroll",n.zIndex="-1",n.visibility="hidden"}function LS(t){var n=t.style;n.position="absolute",n.left=n.top="0",n[PS("transition")]="0s"}var BS=function(t){function n(n,r,u){var o;(o=t.call(this,n,r)||this).pC=void 0,o._C=0,o.gC=NaN,o.wC=NaN,o.kC=void 0,o.TC=void 0,o.SC=void 0,o.EC=void 0,o.RC=void 0,o.fl=function(){o.TC.style.width=1e5+"px",o.TC.style.height=1e5+"px",o.kC.scrollLeft=1e5,o.kC.scrollTop=1e5,o.SC.scrollLeft=1e5,o.SC.scrollTop=1e5,0===o.SC.scrollTop&&DS(o.fl)},o.IC=function(){var t=o.bC,n=o.mC;o.dC(t,n),o.gC=t,o.wC=n,o.fl(),o._C=0},o.DC=function(){if(!o._C){var t=o.bC,n=o.mC;t===o.gC&&n===o.wC||(o._C=DS(o.IC))}},o.NC=function(){o.RC||(o.RC=s(o.OC,66))},o.OC=function(){o.RC=void 0,o.CC()},o.CC=function(){o.DC()};var c=function(t,n){return i.getComputedStyle(t,void 0).getPropertyValue(n)||t.style[n]}(n,"position");u||"static"!==c||(n.style.position="relative");var a,f=e.createElement("div");return o.pC=f,o.kC=e.createElement("div"),o.TC=e.createElement("div"),o.SC=e.createElement("div"),o.EC=e.createElement("div"),xS(o.kC),xS(o.SC),LS(o.TC),LS(a=o.EC),a.style.width="200%",a.style.height="200%",f.appendChild(o.kC),f.appendChild(o.SC),o.kC.appendChild(o.TC),o.SC.appendChild(o.EC),n.appendChild(f),o.kC.addEventListener("scroll",o.DC),o.SC.addEventListener("scroll",o.DC),i&&i.addEventListener("resize",o.NC),o.DC(),o}return vt(n,t),n.prototype.et=function(){NS(this._C),this._C=0,this.kC.removeEventListener("scroll",this.DC),this.SC.removeEventListener("scroll",this.DC),pe(this.pC),i&&i.removeEventListener("resize",this.NC)},ft(n,[{key:"mC",get:function(){return this.Sg.getBoundingClientRect().height||this.wC||0}},{key:"bC",get:function(){return this.Sg.getBoundingClientRect().width||this.gC||0}}]),n}(TS),MS=function(t){function n(n){var i;return(i=t.call(this)||this).Sg=void 0,i.lC=void 0,i.yC=function(t,n){i.Yr(new _S(t,n))},i.Sg=n,i}vt(n,t);var i=n.prototype;return i.yc=function(t){this.lC||("function"==typeof Z.ResizeObserver?this.lC=new SS(this.Sg,this.yC):this.lC=new BS(this.Sg,this.yC,t))},i.et=function(){this.Zr(),this.lC&&(this.lC.et(),this.lC=void 0)},ft(n,[{key:"mC",get:function(){return this.lC?this.lC.mC:0}},{key:"bC",get:function(){return this.lC?this.lC.bC:0}}]),n}(eu),FS=function(t){function n(){return t.call(this,mk.$d)||this}return vt(n,t),n}(uu);!function(){if(e)for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0;n<t.length;n++){var i=t[n];if(i[1]in e)return{AC:i[0],xC:i[1],LC:i[2],BC:i[3],MC:i[4],FC:i[5]}}}();var US=function(t){function n(){return t.call(this,mk.vD)||this}return vt(n,t),n}(uu),VS=function(t){function n(n,i){var e;return(e=t.call(this)||this).aI=void 0,e.UC=void 0,e.VC=void 0,e.qC=!1,e.zC=function(){return e.sc()},e.HD=function(t){e.qC||e.Yr(t)},e.aI=n,e.UC=i,e.VC=Tk,e.WC(),e.aI.Kr(Rc.ka,e.zC),e.sc(),e}vt(n,t);var i=n.prototype;return i.Zg=function(){this.UC&&this.VC.Zg()},i.ny=function(){this.VC.ny()},i.WC=function(){this.VC.Kr(mk.$d,this.HD),this.VC.Kr(mk.Nl,this.Gr)},i.HC=function(){this.VC.tu(mk.$d,this.HD),this.VC.tu(mk.Nl,this.Gr)},i.sc=function(){var t=this.VC,n=this.aI.wg();if(t!==n){this.qC=!0;var i=this.dD,e=this.lD;i&&this.ny(),this.HC(),this.VC=n,this.WC(),i&&!this.dD&&this.lD?this.Zg():this.ny(),this.qC=!1,e!==this.lD&&this.Yr(new US),i!==this.dD&&this.Yr(new FS)}},i.et=function(){this.Zr(),this.HC(),this.aI.tu(Rc.ka,this.zC)},ft(n,[{key:"lD",get:function(){return!!this.UC&&this.VC.lD}},{key:"dD",get:function(){return this.VC.dD}}]),n}(eu);function qS(t){var n;return{get url(){return t.jh},get method(){return t.av},get headers(){return n||(n=t.Uh.Ja()),n},get body(){return t.Ih},get useCredentials(){return t.dv},get type(){return $S(t.gr)},get subType(){return GS(t.hv)},get mediaType(){return KS(t.vv)},get responseType(){return WS(t.Vh)}}}function zS(t){switch(t.toLowerCase()){case"arraybuffer":return Ic.Ga;case"json":return Ic.Ya;case"stream":return Ic.Ka;case"text":default:return Ic.ri}}function WS(t){return t}function HS(t){switch(t.toUpperCase()){case"POST":return Qv.POST;case"PUT":return Qv.PUT;case"DELETE":return Qv.DELETE;case"HEAD":return Qv.HEAD;case"OPTIONS":return Qv.OPTIONS;case"GET":default:return Qv.GET}}function jS(t){switch(t.toLowerCase()){case"manifest":return Zv.Gh;case"segment":return Zv.Yh;case"content-protection":return Zv.Kh;default:return Zv.Xh}}function $S(t){return t}function XS(t){switch(t.toLowerCase()){case"initialization-segment":return td.Jh;case"fairplay-license":return td.Qh;case"fairplay-certificate":return td.Zh;case"widevine-license":return td.tv;case"widevine-certificate":return td.nv;case"playready-license":return td.ev;case"clearkey-license":return td.rv;case"aes128-key":return td.uv;default:return td.Xh}}function GS(t){return t}function YS(t){switch(t.toLowerCase()){case"audio":return nd.sv;case"video":return nd.ov;case"text":return nd.ri;case"image":return nd.cv;case"":default:return nd.Xh}}function KS(t){return t}var JS=function(){function t(t,n){this.jC=new ls,this.$C=[],this.Ad=void 0,this.XC=!1,this.Iv=void 0,this.GC=0,this.YC=t,this.KC=n}var n=t.prototype;return n.Tp=function(){this.XC=!0,this.jC.xu(null)},n.JC=function(){this.jC.Lu(new Cv(this.$C))},n.QC=function(t){if(!this.ZC)throw new h("Cannot respond more than once");if(!Ot(t))throw new h("Expected valid response");this.Iv=this.tA(t),this.Tp()},n.nA=function(){try{var t=this.KC(this.Pd);t?this.iA(t):this.eA||this.rA||this.Tp()}catch(t){this.$C.push(t),this.JC()}},n.iA=function(t){if(this.rA)throw new f("Request has been redirected or a response already exists");if(xt(t))this.uA(t);else{if("function"!=typeof t)throw new h("Expected promise or function");var n=new ls;try{var i=t(function(t){t?n.Lu(t):n.xu(void 0)});xt(i)&&n.xu(i)}catch(t){n.Lu(t)}this.uA(n.Cu)}},n.uA=function(t){return We.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,this.GC++,n.next=4,We.awrap(t);case 4:this.GC--,this.eA||this.rA||(this.$C.length?this.JC():this.Tp()),n.next=13;break;case 8:n.prev=8,n.t0=n.catch(0),this.GC--,this.$C.push(n.t0),this.eA||this.rA||this.JC();case 13:case"end":return n.stop()}},null,this,[[0,8]],j)},ft(t,[{key:"sA",get:function(){return this.jC.Cu}},{key:"Pd",get:function(){return this.Ad||(this.Ad=this.oA()),this.Ad}},{key:"rA",get:function(){return this.XC}},{key:"ZC",get:function(){return!this.XC}},{key:"eA",get:function(){return this.GC>0}},{key:"Dv",get:function(){return this.Iv}}]),t}(),QS=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).cA=void 0,r.cA=e,r.nA(),r}vt(n,t),n.aA=function(t,n,i){var e=void 0===t.body?i:t.body;return new id({Pi:e,Wh:n.Wh,Vh:n.Wh.Vh,Uh:t.headers,Fh:t.status,qh:t.statusText,Hh:t.url,zh:!0},n)};var i=n.prototype;return i.oA=function(){return i=qS((t=this).Wh),{get closed(){return!t.ZC},get request(){return i},get url(){return t.jh},get status(){return t.Fh},get statusText(){return t.qh},get headers(){return n||(n=t.Uh.Ja()),n},get body(){return t.Ih},respondWith:function(n){return t.QC(n)},waitUntil:function(n){return t.iA(n)}};var t,n,i},i.tA=function(t){return n.aA(t,this.YC,this.cA)},ft(n,[{key:"Ih",get:function(){return this.cA}},{key:"Uh",get:function(){return this.YC.Uh}},{key:"Wh",get:function(){return this.YC.Wh}},{key:"Dv",get:function(){return this.Iv}},{key:"Fh",get:function(){return this.YC.Fh}},{key:"qh",get:function(){return this.YC.qh}},{key:"jh",get:function(){return this.YC.Hh}}]),n}(JS),ZS=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).fA=void 0,r.hA=void 0,r.hA=e,r.nA(),r}vt(n,t);var i=n.prototype;return i.oA=function(){return t=this,{get url(){return t.jh},get method(){return t.av},get headers(){return n||(n=t.Uh.Ja()),n},get body(){return t.Ih},get closed(){return!t.ZC},get useCredentials(){return t.dv},get type(){return $S(t.gr)},get subType(){return GS(t.hv)},get mediaType(){return KS(t.vv)},get responseType(){return WS(t.Vh)},redirect:function(n){return t.vA(n)},respondWith:function(n){return t.QC(n)},waitUntil:function(n){return t.iA(n)}};var t,n},i.tA=function(t){var n=this.YC.Ih,i=new id({Pi:n,Uh:{},Wh:this.YC,Hh:this.YC.jh,Vh:this.YC.Vh,Fh:200,qh:"OK"});return QS.aA(t,i,n)},i.vA=function(t){if(!this.ZC)throw new h("Cannot redirect, already redirected or has a response");var n;n=At(t)?{url:t}:t,this.fA=function(t,n){return new ed({jh:void 0===t.url?n.jh:t.url,av:void 0!==t.method?HS(t.method):void 0,Uh:t.headers,Ih:t.body,dv:t.useCredentials,gr:void 0!==t.type?jS(t.type):void 0,hv:void 0!==t.subType?XS(t.subType):void 0,vv:void 0!==t.mediaType?YS(t.mediaType):void 0,Vh:void 0!==t.responseType?zS(t.responseType):void 0},n)}(n,this.YC),this.Tp()},ft(n,[{key:"Ih",get:function(){return this.YC.Ih}},{key:"ZC",get:function(){return this.hA&&!this.XC}},{key:"Uh",get:function(){return this.YC.Uh}},{key:"av",get:function(){return this.YC.av}},{key:"dA",get:function(){return this.fA}},{key:"Dv",get:function(){return this.Iv}},{key:"Vh",get:function(){return this.YC.Vh}},{key:"fv",get:function(){return this.YC.fv}},{key:"Hr",get:function(){return this.YC.Hr}},{key:"gr",get:function(){return this.YC.gr}},{key:"hv",get:function(){return this.YC.hv}},{key:"vv",get:function(){return this.YC.vv}},{key:"jh",get:function(){return this.YC.jh}},{key:"dv",get:function(){return this.YC.dv}},{key:"lv",get:function(){return this.YC.lv}}]),n}(JS);var tE,nE=function(t){function n(n,i){var e;void 0===i&&(i=!0);var r=new iE(n);return(e=t.call(this,r,i)||this).lA=void 0,e.lA=r,e}vt(n,t);var i=n.prototype;return i.wA=function(t){this.lA.wA(t)},i.gA=function(t){this.lA.gA(t)},i.yA=function(t){this.lA.yA(t)},i.mA=function(t){this.lA.mA(t)},i.bA=function(t){this.lA.bA(t)},n}(ud),iE=function(){function t(t){this.gv=void 0,this.pA=[],this._A=[],this.gv=t}var n=t.prototype;return n.Wh=function(t){var n;return We.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,We.awrap(this.kA(t,t.Hr));case 3:n=i.sent,i.next=13;break;case 6:if(i.prev=6,i.t0=i.catch(0),!(i.t0 instanceof vd)){i.next=12;break}return i.next=11,We.awrap(this.TA(i.t0,t.Hr));case 11:return i.abrupt("return",i.sent);case 12:throw i.t0;case 13:return i.next=15,We.awrap(this.SA(n,t.Hr));case 15:if(!Jv(n=i.sent)){i.next=20;break}return i.abrupt("return",n);case 20:throw new ld(n);case 21:case"end":return i.stop()}},null,this,[[0,6]],j)},n.wv=function(t){return this.gv.wv(t)},n.kA=function(t,n){var i,e,r,u,s,o;return We.async(function(c){for(;;)switch(c.prev=c.next){case 0:jr(n),i=t,r=0,u=this.pA.slice();case 3:if(!(r<u.length)){c.next=21;break}if(s=u[r],jr(n),(o=new ZS(i,s,!e)).rA){c.next=17;break}return c.prev=8,c.next=11,We.awrap(o.sA);case 11:c.next=17;break;case 13:return c.prev=13,c.t0=c.catch(8),c.abrupt("continue",18);case 17:o.dA&&!e?i=o.dA:o.Dv&&!e&&(e=o.Dv);case 18:r++,c.next=3;break;case 21:if(!e){c.next=23;break}return c.abrupt("return",e);case 23:return c.abrupt("return",this.gv.Wh(i));case 24:case"end":return c.stop()}},null,this,[[8,13]],j)},n.TA=function(t,n){var i,e;return We.async(function(r){for(;;)switch(r.prev=r.next){case 0:return i=t instanceof ld?t.Dv:new id({Pi:null,Wh:t.Wh,Fh:0,qh:""}),r.next=3,We.awrap(this.SA(i,n));case 3:if((e=r.sent)!==i){r.next=8;break}throw t;case 8:if(!Jv(e)){r.next=12;break}return r.abrupt("return",e);case 12:throw new ld(e);case 13:case"end":return r.stop()}},null,this,null,j)},n.SA=function(t,n){var i,e,r,u,s,o;return We.async(function(c){for(;;)switch(c.prev=c.next){case 0:i=t,e=0,r=this._A.slice();case 2:if(!(e<r.length)){c.next=23;break}return u=r[e],jr(n),c.next=7,We.awrap(j.resolve(i.Ru().Pi(n)));case 7:if(s=c.sent,(o=new QS(i,u,s)).rA){c.next=19;break}return c.prev=10,c.next=13,We.awrap(o.sA);case 13:c.next=19;break;case 15:return c.prev=15,c.t0=c.catch(10),c.abrupt("continue",20);case 19:i=o.Dv||i;case 20:e++,c.next=2;break;case 23:return c.abrupt("return",i);case 24:case"end":return c.stop()}},null,this,[[10,15]],j)},n.wA=function(t){this.pA.unshift(t)},n.gA=function(t){this.pA.push(t)},n.yA=function(t){Mr(this.pA,t)},n.mA=function(t){this._A.unshift(t)},n.bA=function(t){Mr(this._A,t)},n.et=function(){this.gv.et(),Vr(this.pA),Vr(this._A)},t}(),eE=function(t){function n(n,i,e){var r;return(r=t.call(this,i)||this).Ad=void 0,r.EA=function(t){r.Yr(t)},r.RA=function(t){r.Yr(t)},r.IA=n,r.kT=i,r.SD=e,r.IA.Kr(Rc.Da,r.EA),r.IA.Kr(Rc.Ia,r.RA),r}vt(n,t);var i=n.prototype;return i.DA=function(t){this.SD.DA(t)},i.wA=function(t){this.kT.wA(t)},i.yA=function(t){this.kT.yA(t)},i.mA=function(t){this.kT.mA(t)},i.bA=function(t){this.kT.bA(t)},i.et=function(){this.Zr(),this.IA.tu(Rc.Da,this.EA),this.IA.tu(Rc.Ia,this.RA)},ft(n,[{key:"Pd",get:function(){var t;return this.Ad||(this.Ad=(t=this,{get online(){return t.Ag},get estimator(){return n=t.NA,{get bandwidth(){return n.xE},get roundTripTime(){return n.LE}};var n},setEstimator:function(n){t.DA(function(t){if(t)return{get xE(){return dw(t.bandwidth)},get LE(){return dw(t.roundTripTime)},PE:function(n){return function(t){if(t)return{OA:function(n){t.markRequestStart(n)},CA:function(n){t.markResponseStart(n)},AA:function(n,i){t.markResponseData(n,i)},PA:function(n){t.markResponseEnd(n)}}}(t.createMeasurer(qS(n)))}}}(n))},addRequestInterceptor:function(n){t.wA(n)},removeRequestInterceptor:function(n){t.yA(n)},addResponseInterceptor:function(n){t.mA(n)},removeResponseInterceptor:function(n){t.bA(n)},addEventListener:function(n,i){t.Kr(n,i)},removeEventListener:function(n,i){t.tu(n,i)}})),this.Ad}},{key:"Ag",get:function(){return this.IA.Ag}},{key:"NA",get:function(){return this.SD.NA}}]),n}(eu);!function(t){t.PERFORMANCE="performance",t.QUALITY="quality",t.BANDWIDTH="bandwidth"}(tE||(tE={}));var rE=30,uE={type:tE.BANDWIDTH},sE=20,oE=60;function cE(t){var n,i,e,r=ow(uE);return At(t)?r.type=aE(t):Ot(t)&&function(t){switch(t){case tE.PERFORMANCE:case tE.QUALITY:case tE.BANDWIDTH:return!0;default:return!1}}(t.type)&&(r.type=aE(t.type)),Ot(t)&&Ot(t.metadata)&&(r.metadata=(n=t.metadata,i={},e=vw(n.bitrate),g(e)||(i.bitrate=e),i)),r}function aE(t){switch(t){case"bandwidth":return tE.BANDWIDTH;case"performance":return tE.PERFORMANCE;case"quality":return tE.QUALITY}}var fE=function(t){function n(n){var i;return(i=t.call(this,"LA")||this).xA=n,i}return vt(n,t),n}(uu),hE=function(t){function n(n){var i;return(i=t.call(this,"MA")||this).BA=n,i}return vt(n,t),n}(uu),vE=function(t){function n(n){var i;return(i=t.call(this,"UA")||this).FA=n,i}return vt(n,t),n}(uu),dE=function(t){function n(){for(var n,i,e=arguments.length,r=new Array(e),u=0;u<e;u++)r[u]=arguments[u];return(n=t.call.apply(t,[this].concat(r))||this).Ad=(i=un(n),{get strategy(){return{metadata:(t=i.BA).metadata,type:(n=t.type,n)};var t,n},set strategy(t){i.BA=cE(t)},get targetBuffer(){return i.xA},set targetBuffer(t){var n=vw(t);g(n)||(i.xA=n>oE?oE:n)},get bufferLookbackWindow(){return i.FA},set bufferLookbackWindow(t){var n=vw(t);g(n)||(i.FA=n<=0?rE:n)}}),n.VA=uE,n.qA=sE,n.zA=rE,n.WA=void 0,n.HA=void 0,n}vt(n,t);var i=n.prototype;return i.jA=function(t){this.HA=t},i.DA=function(t){this.WA=t},ft(n,[{key:"$A",get:function(){switch(this.VA.type){case tE.PERFORMANCE:return 0;case tE.QUALITY:return 1/0;case tE.BANDWIDTH:return this.VA.metadata&&void 0!==this.VA.metadata.bitrate?this.VA.metadata.bitrate:8*Bw.Ql();default:return 8*Bw.Ql()}}},{key:"Pd",get:function(){return this.Ad}},{key:"BA",get:function(){return this.VA},set:function(t){this.VA=t,this.Yr(new hE(t))}},{key:"xA",get:function(){return this.qA},set:function(t){this.qA=t,this.Yr(new fE(t))}},{key:"FA",get:function(){return this.zA},set:function(t){this.zA=t,this.Yr(new vE(t))}},{key:"NA",get:function(){var t;return null!=(t=this.WA)?t:this.HA.YR}}]),n}(eu),lE=function(t){function n(){return t.call(this,"Xd")||this}return vt(n,t),n.prototype.xd=function(){return new wE},n}($l),wE=function(t){function n(){return t.call(this,"change")||this}return vt(n,t),n}(uu),gE=function(t){function n(n,i){var e;return(e=t.call(this,i)||this).XA=void 0,e.GA=function(t){var n;n=t,Boolean(n&&n.Pd)&&Jr(function(){e.Yr(t.Pd)})},e.XA=n,e.XA.Qr(e.GA),e}return vt(n,t),n.prototype.et=function(){this.Zr(),this.XA.eu(this.GA)},n}(Aw),yE=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n}(gE);var mE=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).oy=0,n.ay=1/0,n.Ad=void 0,n}vt(n,t);var i=n.prototype;return i.fl=function(){0===this.oy&&this.ay===1/0||(this.oy=0,this.ay=1/0,this.Yr(new lE))},i.YA=function(){return new pk([this.ey,this.uy],[!0,!0])},ft(n,[{key:"ey",get:function(){return this.oy},set:function(t){if(this.uy<=t)throw new f("Start time of a clip should be smaller than the end time.");this.oy!==t&&(this.oy=t,this.Yr(new lE))}},{key:"uy",get:function(){return this.ay},set:function(t){if(t<=this.ey)throw new f("End time of a clip should be larger than the start time.");this.ay!==t&&(this.ay=t,this.Yr(new lE))}},{key:"Pd",get:function(){var t,n,i;return this.Ad||(this.Ad=(i={get startTime(){return t.ey},set startTime(n){t.ey=n},get endTime(){return t.uy},set endTime(n){t.uy=n},addEventListener:function(t,i){n.Kr(t,i)},removeEventListener:function(t,i){n.tu(t,i)}},n=new gE(t=this,i),i)),this.Ad}}]),n}(Aw),bE=function(t){function n(n){var i;return(i=t.call(this)||this).KA=function(t){i.JA(t)||i.Yr(t)},i.QA=n,i.QA.Qr(i.KA),i}vt(n,t);var i=n.prototype;return i.ZA=function(){return this.QA.tg},i.gg=function(){return this.QA.gg()},i.tP=function(){return this.QA.kg},i.nP=function(){return this.QA.pg},i.iP=function(){return this.QA.Tg},i.eP=function(t){this.QA.Tg=t},i.rP=function(){return this.QA.bw},i.uP=function(t){this.QA.bw=t},i.sP=function(){return this.QA.pw},i.oP=function(){return this.QA.Sg},i.cP=function(){return this.QA._w},i.aP=function(){return this.QA.fu},i.fP=function(){return this.QA.kw},i.hP=function(){return this.QA.Eg},i.vP=function(){return this.QA.Tw},i.dP=function(t){this.QA.Tw=t},i.lP=function(){return this.QA.Ag},i.wP=function(){return this.QA.Sw},i.gP=function(){return this.QA.Ew},i.yP=function(t){this.QA.Ew=t},i.mP=function(){return this.QA.Pg},i.bP=function(){return this.QA.xg},i.pP=function(t){this.QA.xg=t},i._P=function(){return this.QA.Ml},i.kP=function(){return this.QA.Lg},i.TP=function(){return this.QA.Rw},i.ug=function(){return this.QA.ug()},i.sg=function(t,n){return We.async(function(i){for(;;)switch(i.prev=i.next){case 0:return jr(n),i.next=3,We.awrap(this.QA.sg(t,n));case 3:case"end":return i.stop()}},null,this,null,j)},i.SP=function(){return this.QA.ig},i.EP=function(){return this.QA.Iw},i.RP=function(){return this.QA.ng},i.IP=function(){return this.QA.Dw},i.DP=function(){return this.QA.Nw},i.NP=function(t){this.QA.Nw=t},i.wg=function(){return this.QA.wg()},i.lg=function(){return this.QA.lg()},i.fg=function(t){this.QA.fg(t)},i.hg=function(){this.QA.hg()},i.dg=function(){this.QA.dg()},i.st=function(){this.QA.st()},i.K=function(){this.QA.K()},i.Y=function(){this.QA.Y()},i.vg=function(){this.QA.vg()},i.rg=function(){return this.QA.rg()},i.og=function(){return this.QA.og()},i.cg=function(){this.QA.cg()},i.ag=function(){this.QA.ag()},i.fl=function(){return this.QA.fl()},i.et=function(){return this.QA.et()},i._g=function(){this.QA._g()},i.yg=function(t){return this.QA.yg(t)},i.JA=function(t){return!1},ft(n,[{key:"tg",get:function(){return this.ZA()}},{key:"kg",get:function(){return this.tP()}},{key:"Tg",get:function(){return this.iP()},set:function(t){this.eP(t)}},{key:"pg",get:function(){return this.nP()}},{key:"bw",get:function(){return this.rP()},set:function(t){this.uP(t)}},{key:"pw",get:function(){return this.sP()}},{key:"Sg",get:function(){return this.oP()}},{key:"_w",get:function(){return this.cP()}},{key:"fu",get:function(){return this.aP()}},{key:"kw",get:function(){return this.fP()}},{key:"eg",get:function(){return this.QA.eg}},{key:"Eg",get:function(){return this.hP()}},{key:"zw",get:function(){return this.QA.zw}},{key:"Tw",get:function(){return this.vP()},set:function(t){this.dP(t)}},{key:"Ag",get:function(){return this.lP()}},{key:"Sw",get:function(){return this.wP()}},{key:"Ew",get:function(){return this.gP()},set:function(t){this.yP(t)}},{key:"Pg",get:function(){return this.mP()}},{key:"xg",get:function(){return this.bP()},set:function(t){this.pP(t)}},{key:"Ml",get:function(){return this._P()}},{key:"Lg",get:function(){return this.kP()}},{key:"Rw",get:function(){return this.TP()}},{key:"ig",get:function(){return this.SP()}},{key:"Iw",get:function(){return this.EP()}},{key:"ng",get:function(){return this.RP()}},{key:"Dw",get:function(){return this.IP()}},{key:"Nw",get:function(){return this.DP()},set:function(t){this.NP(t)}},{key:"Bg",get:function(){return this.QA.Bg}},{key:"Mg",get:function(){return this.QA.Mg},set:function(t){this.QA.Mg=t}}]),n}(Pw),pE=function(t){function n(i,e){var r;return(r=t.call(this,i)||this).OP=void 0,r.CP=!1,r.AP=void 0,r.PP=!1,r.xP=function(){r.LP(),r.BP()},r.hR=function(){r.MP(),r.BP(),r.FP&&r.bw>=r.OP.uy-n.UP&&!r._w&&(r.AP=DS(r.hR))},r.VP=function(){r.PP=!0},r.qP=function(){r.PP&&(r.PP=!1,r.BP())},r.OP=e,r.OP.Kr("Xd",r.xP),r.QA.Kr("timeupdate",r.hR),r}vt(n,t);var i=n.prototype;return i.uP=function(n){var i=this.OP.YA().FI(n);t.prototype.uP.call(this,i),this.BP()},i.cP=function(){return t.prototype.cP.call(this)||this.CP},i.kP=function(){return pk.cD(t.prototype.kP.call(this)).qI(this.OP.YA()).jR()},i.Y=function(){this.cP()?this.uP(this.zP.start(0)):this.LP(),t.prototype.Y.call(this),this.BP()},i.sg=function(n,i){return We.async(function(e){for(;;)switch(e.prev=e.next){case 0:return jr(i),this.CP=!1,this.OP.fl(),e.next=5,We.awrap(t.prototype.sg.call(this,n,i));case 5:case"end":return e.stop()}},null,this,null,j)},i.et=function(){return this.OP.tu("Xd",this.xP),this.QA.tu("timeupdate",this.hR),this.MP(),t.prototype.et.call(this)},i.JA=function(n){switch(n.type){case"seeking":return this.Yr(n),this.VP(),!0;case"seeked":case"emptied":return this.Yr(n),this.qP(),!0;case"ended":if(this.FP)return!0}return t.prototype.JA.call(this,n)},i.MP=function(){this.AP&&(NS(this.AP),this.AP=void 0)},i.BP=function(){var t=this.bw,i=this.FP&&t>=this.OP.uy-n.Mm;this.CP&&!i?(this.CP=!1,this.Sw&&this.Y()):this.CP||!i||this.Rw||this.PP||(this.CP=!0,this.Yr(new lg(t)),this.K())},i.LP=function(){if(this.pw!==1/0){var t=this.zP,i=pk.cD(t).FI(this.bw);Qt(this.bw,i,n.Mm)||this.uP(i)}},ft(n,[{key:"zP",get:function(){return this.kP().length?this.kP():this.OP.YA().jR()}},{key:"FP",get:function(){return this.OP.uy<this.pw}}]),n}(bE);pE.UP=1,pE.Mm=.001;var _E=function(){function t(){this.WP=void 0,this.WP=!1}return ft(t,[{key:"HP",get:function(){return this.WP},set:function(t){this.WP=t}}]),t}(),kE=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).WP=void 0,e.jP=!1,e.$P=!1,e.WP=i,e}vt(n,t);var i=n.prototype;return i.cP=function(){return!this.WP.HP&&t.prototype.cP.call(this)},i.K=function(){this.$P=!0,t.prototype.K.call(this)},i.Y=function(){this.$P=!1,t.prototype.Y.call(this)},i.JA=function(n){if(this.WP.HP)switch(n.type){case"ended":return this.bw=0,this.$P||(this.Rw?this.jP=!0:this.Y()),!0;case"seeked":this.jP&&(this.jP=!1,this.Y());break;case"pause":if(this.jP||t.prototype.cP.call(this))return!0}return t.prototype.JA.call(this,n)},n}(bE);var TE=function(){function t(t){var n;this.Ad=(n=this,{get currentBandwidthEstimate(){return n.Ng},get corruptedVideoFrames(){return n.Ig},get droppedVideoFrames(){return n.Rg},get totalBytesLoaded(){return n.Og},get bufferedSegments(){return n.Cg}}),this.yI=t}return ft(t,[{key:"Pd",get:function(){return this.Ad}},{key:"Ig",get:function(){return this.yI.XP.zw.Ig}},{key:"Ng",get:function(){return this.yI.XP.zw.Ng}},{key:"Rg",get:function(){return this.yI.XP.zw.Rg}},{key:"GP",get:function(){throw new f("Not implemented")}},{key:"YP",get:function(){throw new f("Not implemented")}},{key:"Og",get:function(){return this.yI.XP.zw.Og}},{key:"Dg",get:function(){return this.yI.XP.zw.Dg}},{key:"Cg",get:function(){return this.yI.XP.zw.Cg}}]),t}(),SE=function(t){function n(){return t.call(this,"KP")||this}return vt(n,t),n.prototype.xd=function(){return new EE},n}($l),EE=function(t){function n(){return t.call(this,"castingchange")||this}return vt(n,t),n}(uu);var RE=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).JP=[],n.Ad=void 0,n.QP=function(){return n.Yr(new SE)},n}vt(n,t);var i=n.prototype;return i.ZP=function(t){this.JP.push(t),t.Kr("statechange",this.QP)},i.et=function(){var t=this;this.JP.forEach(function(n){n.tu("statechange",t.QP)}),Vr(this.JP)},ft(n,[{key:"tx",get:function(){return this.JP.some(function(t){return t.tx})}},{key:"Pd",get:function(){var t,n,i;return this.Ad||(this.Ad=(i={get casting(){return t.tx},addEventListener:function(t,i){n.Kr(t,i)},removeEventListener:function(t,i){n.tu(t,i)}},n=new yE(t=this,i),i)),this.Ad}}]),n}(Pw),IE=function(){function t(){}return t.nx=function(t,n){var i,e;return We.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,i=new ed({jh:t,Vh:Ic.ri,av:Qv.GET}),r.next=4,We.awrap(n.Wh(i));case 4:return e=r.sent,r.next=7,We.awrap(e.Pi());case 7:return r.abrupt("return",r.sent);case 10:return r.prev=10,r.t0=r.catch(0),Hr(r.t0),r.abrupt("return",void 0);case 14:case"end":return r.stop()}},null,null,[[0,10]],j)},t.ix=function(t){try{var i=VT(t);return new $T(i.key,i.domains_page,i.domains_source,i.expiration_date,i.customer_id,i.generation_date,i.sdks,i.send_impression)}catch(t){throw new sc(n.ErrorCode.LICENSE_ERROR,"Invalid license. No valid license was configured.")}},t.ex=function(t){void 0===t&&(t=sS.lb),st.Ie("The baked-in license is used. Please update the configuration with your license.");var n=t.YN(".$hsF|b9_Ess*r[Y.4(HiEagT@Y@Cen3Cec3Cl\"\""),i=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.YN(n)}),e=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.YN(n)}),r=Number(new Date(Number(t.YN("COD|aHpHa:p3Ceo3Co\"\""))));return new $T(n,i,e,r)},t.convertLicenseToDummyLicense=function(t){return new $T(t.eO,t.rO,t.uO,864e13,t.oO,Date.now(),t.aO,t.fO)},t}(),DE=function(){function t(){}return t.fa=function(){return t.Zn||(t.Zn=NE.Sc()?new NE:new _c),t.Zn},t._u=function(n){t.fa()._u(n)},t.ca=function(){t.fa().ca()},t.mu=function(n){return t.fa().mu(n)},t.aa=function(n,i){t.fa().aa(n,i)},t.ux=function(n){var i=t.mu(n);if(void 0!==i)return w(i)},t.sx=function(n){return"true"===t.mu(n)},t}();DE.Zn=void 0;var NE=function(n){function i(){return n.apply(this,arguments)||this}vt(i,n),i.Sc=function(){try{return t.localStorage.setItem("foobar","foobar"),t.localStorage.removeItem("foobar"),!0}catch(t){}return!1};var e=i.prototype;return e._u=function(n){t.localStorage.removeItem(n)},e.ca=function(){t.localStorage.clear()},e.mu=function(n){return t.localStorage[n]},e.aa=function(n,i){t.localStorage[n]=i},i}(DE),OE=d.floor(14399999*d.random()-72e5),CE=function(){function t(t,n,i,e,r,u){this.dO=void 0,this.kT=t,this.ox=n,this.ax=i,this.YO=e,this.hx=r,this.Rs=u,this.dO=ZT(u)}var i=t.prototype;return i.vx=function(){var t;return We.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,We.awrap(this.lx(this.hx.license,this.hx.licenseUrl));case 2:t=n.sent,this.YO.wx(t);case 4:case"end":return n.stop()}},null,this,null,j)},i.lx=function(t,i){var e,r,u,s,o,c,a,f,h;return We.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(e=i,t?r=IE.ix(t):e||(r=IE.ex()),e||(e="https://validate.theoplayer.com/1/"+r.eO),u=this.gx(),!r){v.next=14;break}if((s=this.ox.bO(r))!==zT.tO){v.next=14;break}if(!this.yx(r.sO)||!this.yx(null==u?void 0:u.sO)){v.next=13;break}return v.next=10,We.awrap(this.mx(e));case 10:if(!(o=v.sent)){v.next=13;break}return v.abrupt("return",o);case 13:return v.abrupt("return",r);case 14:if(!u){v.next=25;break}if(this.ox.bO(u)!==zT.tO){v.next=24;break}if(!this.yx(null==u?void 0:u.sO)){v.next=23;break}return v.next=20,We.awrap(this.mx(e));case 20:if(!(c=v.sent)){v.next=23;break}return v.abrupt("return",c);case 23:return v.abrupt("return",u);case 24:DE._u("THEOplayer.license");case 25:return v.next=27,We.awrap(IE.nx(e,this.kT));case 27:if(!(a=v.sent)){v.next=37;break}if(f=IE.ix(a),this.ox.bO(f)!==zT.tO){v.next=34;break}return DE.aa("THEOplayer.license",a),v.abrupt("return",f);case 34:DE._u("THEOplayer.license"),v.next=39;break;case 37:if(this.dO||!r||s!==zT.nO||e!=="https://validate.theoplayer.com/1/"+r.eO){v.next=39;break}return v.abrupt("return",IE.convertLicenseToDummyLicense(r));case 39:if(!r&&!f){v.next=43;break}this.bx(null!=(h=r)?h:f,new sc(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!")),v.next=44;break;case 43:throw new sc(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!");case 44:case"end":return v.stop()}},null,this,null,j)},i.gO=function(t){var n,i,e,r,u,s,o;return We.async(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,We.awrap(this.YO.nC());case 2:if(n=c.sent,!this.yx(n.sO)){c.next=9;break}return e=null!=(i=this.hx.licenseUrl)?i:"https://validate.theoplayer.com/1/"+n.eO,c.next=7,We.awrap(this.mx(e));case 7:(r=c.sent)&&(this.YO.wx(r),n=r);case 9:if(c.prev=9,(u=this.ox.bO(n))!==zT.iO){c.next=16;break}throw s=jT.hO,new sc(GT(s),nS.mO(s));case 16:if(u!==zT.nO){c.next=19;break}throw o=jT.nO,new sc(GT(o),nS.mO(o));case 19:this.ox.gO(t,n),c.next=25;break;case 22:c.prev=22,c.t0=c.catch(9),this._x(c.t0);case 25:case"end":return c.stop()}},null,this,[[9,22]],j)},i.mx=function(t){var n,i;return We.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,We.awrap(IE.nx(t,this.kT));case 3:if(void 0!==(n=e.sent)){e.next=6;break}return e.abrupt("return",void 0);case 6:if(i=IE.ix(n),this.ox.bO(i)!==zT.tO){e.next=11;break}return DE.aa("THEOplayer.license",n),e.abrupt("return",i);case 11:return e.abrupt("return",void 0);case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",void 0);case 17:case"end":return e.stop()}},null,this,[[0,14]],j)},i.yx=function(t){return!t||Number(new Date)+2592e5+OE>=t},i.gx=function(){var t=DE.mu("THEOplayer.license");if(t)return IE.ix(t)},i.bx=function(t,n){this.YO.wx(t),this._x(n)},i._x=function(t){throw $t(t.message),this.ax.rC(t.message),t},t}(),AE=function(){function t(){this.kx=void 0,this.Tx=new ls}var n=t.prototype;return n.wx=function(t){this.kx=t,this.Tx.xu()},n.nC=function(){return We.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.kx){t.next=2;break}return t.abrupt("return",j.resolve(this.kx));case 2:return t.next=4,We.awrap(this.Tx.Cu);case 4:return t.abrupt("return",this.kx);case 5:case"end":return t.stop()}},null,this,null,j)},ft(t,[{key:"Sx",get:function(){return this.kx}}]),t}(),PE=function(t){function n(){return t.call(this,"Xd")||this}return vt(n,t),n.prototype.xd=function(){return new xE},n}($l),xE=function(t){function n(){return t.call(this,"change")||this}return vt(n,t),n}(uu);function LE(t){var n,i={get fontFamily(){return t.Ex},set fontFamily(n){t.Ex=n},get fontColor(){return t.Rx},set fontColor(n){t.Rx=n},get fontSize(){return t.Ix},set fontSize(n){t.Ix=n},get backgroundColor(){return t.Dx},set backgroundColor(n){t.Dx=n},get windowColor(){return t.Nx},set windowColor(n){t.Nx=n},get edgeStyle(){return t.Ox},set edgeStyle(n){t.Ox=n},addEventListener:function(t,i){var e=gw(t,lw);n.Kr(e,i)},removeEventListener:function(t,i){var e=gw(t,lw);n.tu(e,i)}};return n=new ru(i),t.Kr(["Xd"],function(t){return n.Yr(t.Pd)}),i}var BE,ME,FE={Ex:void 0,Rx:void 0,Ix:void 0,Dx:void 0,Nx:void 0,Ox:void 0,Cx:void 0},UE="THEOplayer.textTrackStyle.",VE=function(t){function n(){var i;return(i=t.call(this)||this).Ax=void 0,i.Ad=void 0,i.Ax=n.Px(),i}return vt(n,t),n.prototype.sc=function(t){this.Ax=He({},this.Ax,t),n.xx(this.Ax),this.Yr(new PE)},n.Px=function(){var t=He({},FE);return t.Ex=DE.mu(UE+"fontFamily")||t.Ex,t.Rx=DE.mu(UE+"fontColor")||t.Rx,t.Ix=DE.mu(UE+"fontSize")||t.Ix,t.Dx=DE.mu(UE+"backgroundColor")||t.Dx,t.Nx=DE.mu(UE+"windowColor")||t.Nx,t.Ox=DE.mu(UE+"edgeStyle")||t.Ox,t},n.xx=function(t){DE.aa(UE+"fontFamily",t.Ex||""),DE.aa(UE+"fontColor",t.Rx||""),DE.aa(UE+"fontSize",t.Ix||""),DE.aa(UE+"backgroundColor",t.Dx||""),DE.aa(UE+"windowColor",t.Nx||""),DE.aa(UE+"edgeStyle",t.Ox||"")},ft(n,[{key:"Lx",get:function(){return this.Ax}},{key:"Ex",get:function(){return this.Ax.Ex},set:function(t){this.sc({Ex:t})}},{key:"Rx",get:function(){return this.Ax.Rx},set:function(t){this.sc({Rx:t})}},{key:"Ix",get:function(){return this.Ax.Ix},set:function(t){this.sc({Ix:t})}},{key:"Dx",get:function(){return this.Ax.Dx},set:function(t){this.sc({Dx:t})}},{key:"Nx",get:function(){return this.Ax.Nx},set:function(t){this.sc({Nx:t})}},{key:"Ox",get:function(){return this.Ax.Ox},set:function(t){this.sc({Ox:t})}},{key:"Cx",get:function(){return this.Ax.Cx}},{key:"Pd",get:function(){return this.Ad||(this.Ad=LE(this)),this.Ad}}]),n}(eu),qE=function(t){function n(n,i){var e;(e=t.call(this)||this).Bx=void 0,e.lc=void 0,e.XP=void 0,e.Mx=void 0,e.Id=void 0,e.OP=void 0,e.WP=void 0,e.Fx=void 0,e.Ux=void 0,e.SD=void 0,e.ox=void 0,e.Vx=void 0,e.qx=void 0,e.TD=void 0,e.zx=!1,e.Xw=!1,e.Wg=void 0,e.Wx=!1,e.Hx=void 0,e.jx=void 0,e.$x=void 0,e.Xx=void 0,e.Gx=void 0,e.Yx=function(t){if(!e.Wx){e.Wx=!0;var n=e.Bx,i=Xg(t);e.XP.ml=new Rk(e.Sg,i,t),Qr(n.et())}},e.Kx=function(t){e.Yr(t.Pd)},e.Jx=function(t){t.type!==Rc.Da&&t.type!==Rc.Ia&&e.Yr(t)};var r=vw(i.uid);g(r)?e.Wg=ny++:e.Wg=r,e.lc=i;var u=st.Id,s=new AE;e.Mx=new yS("3.5.0",u,s),e.Id=new nE(u,i.allowMixedContent),e.SD=new dE,e.ox=new XT(i.isEmbeddable,"3.5.0",qT()),e.Gx=new CE(u,e.ox,e.Mx,s,i,qT()),e.Gx.vx().catch(e.Yx),e.Vx=new MS(n),e.Vx.Kr("vC",e.Kx),e.TD=new VE,e.OP=new mE,e.WP=new _E;var o=new Ek(n,i,e.Id,e.SD,e.Vx,e.TD);e.SD.jA(o);var c=o;c=new pE(c,e.Qx),c=new kE(c,e.HP),e.Bx=c,e.XP=new Wg(e.Bx),e.XP.Qr(e.Jx),e.Xx=new TE(un(e)),e.jx=new eE(e.XP,e.Id,e.SD),e.Fx=new pS(un(e)),e.qx=new VS(e.XP,i.allowNativeFullscreen),e.Ux=new jk(e.qx),e.Vx.yc();var a=new K(e.Vx,e.TD,1,[Gg.ov]);return e.Hx=new J(a),e.$x=new RE,e}vt(n,t);var i=n.prototype;return i.dP=function(t){this.XP.Tw=t,t||this.Sw||this.st()},i.NP=function(t){this.XP.Nw=t},i.Zx=function(){Rg(this,$k,this)},i.Y=function(){this.XP.Y()},i.K=function(){this.XP.K()},i.sg=function(t,n){var i;return We.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return this.Gx.gO(t).catch(this.Yx),i=zE(t),e.next=5,We.awrap(this.XP.sg(i,n));case 5:case"end":return e.stop()}},null,this,null,j)},i.st=function(){this.Xw||(this.XP.st(),this.Hx.st(),this.Xw=!0)},i.dD=function(){return this.Ux.YD()===Vk.FULLSCREEN},i.vg=function(){this.XP.vg()},i.dg=function(){this.XP.dg()},i.lg=function(){return this.XP.lg()},i.fl=function(){return We.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,We.awrap(this.XP.rg());case 2:return t.next=4,We.awrap(this.XP.fl());case 4:case"end":return t.stop()}},null,this,null,j)},i.et=function(){return We.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Zr(),this.$x.et(),this.Id.et(),this.jx.et(),this.qx.et(),this.Ux.et(),this.Vx.et(),this.Mx.et(),this.Hx.et(),t.next=11,We.awrap(this.XP.et());case 11:case"end":return t.stop()}},null,this,null,j)},ft(n,[{key:"tL",get:function(){return this.SD}},{key:"Qw",get:function(){return this.zx},set:function(t){this.zx=t,this.XP.Qw=t}},{key:"nL",get:function(){return this.Hx}},{key:"tg",get:function(){return this.XP.tg}},{key:"iL",get:function(){return this.$x}},{key:"eL",get:function(){return this.Vx}},{key:"eg",get:function(){return this.XP.eg}},{key:"zw",get:function(){return this.Xx}},{key:"rL",get:function(){return this.jx}},{key:"ig",get:function(){return this.XP.ig}},{key:"uL",get:function(){return this.TD}},{key:"ng",get:function(){return this.XP.ng}},{key:"kg",get:function(){return this.XP.kg}},{key:"Qx",get:function(){return this.OP}},{key:"HP",get:function(){return this.WP}},{key:"bw",get:function(){return this.XP.bw},set:function(t){this.XP.bw=t}},{key:"Tg",get:function(){return this.XP.Tg},set:function(t){this.XP.Tg=t}},{key:"pg",get:function(){return this.XP.pg}},{key:"pw",get:function(){return this.XP.pw}},{key:"Sg",get:function(){return this.XP.Sg}},{key:"_w",get:function(){return this.XP._w}},{key:"fu",get:function(){return this.XP.fu}},{key:"kw",get:function(){return this.XP.kw}},{key:"Tw",get:function(){return this.XP.Tw},set:function(t){var n=Boolean(t);this.dP(n)}},{key:"Sw",get:function(){return this.XP.Sw}},{key:"Ew",get:function(){return this.XP.Ew},set:function(t){this.XP.Ew=t}},{key:"Pg",get:function(){return this.XP.Pg}},{key:"xg",get:function(){return this.XP.xg},set:function(t){this.XP.xg=lk(t)}},{key:"Ml",get:function(){return this.XP.Ml}},{key:"Lg",get:function(){return this.XP.Lg}},{key:"Rw",get:function(){return this.XP.Rw}},{key:"Tl",get:function(){return this.Wg}},{key:"Iw",get:function(){return this.XP.Iw}},{key:"Dw",get:function(){return this.XP.Dw}},{key:"Nw",get:function(){return this.XP.Nw},set:function(t){var n=Jt(Number(t),0,1)||0;this.NP(n)}},{key:"Bg",get:function(){return this.XP.Bg}}]),n}(Pw);function zE(t){t.sources;var n=t.sources.filter(function(t){return void 0===t.integration});return t.sources=n,t}!function(t){t[t.sL=0]="sL",t[t.oL=1]="oL"}(BE||(BE={})),function(t){t[t.cL=0]="cL"}(ME||(ME={}));var WE={};function HE(t,n){var i=t;if(WE[n])for(var e=0,r=WE[n];e<r.length;e++){i=(0,r[e])(i)}return i}var jE=[];function $E(t){jE.push(t)}var XE=t.CustomEvent;var GE=function(){try{var t=new XE("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?function(t,n){return new CustomEvent(t,n)}:function(t,n){var i=e.createEvent("CustomEvent");return i.initCustomEvent(t,(null==n?void 0:n.bubbles)||!1,(null==n?void 0:n.cancelable)||!1,null==n?void 0:n.detail),i},YE=function(){function t(t,n){var i=this;this.yI=void 0,this.aL=void 0,this.fL=!1,this.hL=function(t){i.aL.eC(t.error,i.bw)},this.vL=function(){i.aL.tC(i.dL),i.yI.removeEventListener("playing",i.vL),i.fL=!1},this.lL=function(){i.fL||(i.yI.addEventListener("playing",i.vL),i.fL=!0)},this.aL=n,this.yI=t,this.yI.addEventListener("error",this.hL),this.yI.addEventListener("sourcechange",this.lL),this.lL()}return t.prototype.fl=function(){},ft(t,[{key:"bw",get:function(){var t=this.yI.currentTime;return"number"==typeof t&&isFinite(t)?t:"now"}},{key:"dL",get:function(){return this.yI.src||""}}]),t}();$E(function(t){new YE(t.Pd,t.Mx)});var KE,JE,QE="theoplayer-stored-volume",ZE="theoplayer-stored-mutedstate";KE=function(t){return function(t){function n(n,i){var e;if(e=t.call(this,n,i)||this,i.persistVolume){var r=DE.ux(QE);(void 0===r||g(r))&&(r=1);var u=DE.sx(ZE)||!1;e.Nw=r,e.Tw=u}return e}vt(n,t);var i=n.prototype;return i.dP=function(n){this.lc.persistVolume&&DE.aa(ZE,""+Boolean(n)),t.prototype.dP.call(this,n)},i.NP=function(n){this.lc.persistVolume&&DE.aa(QE,""+Number(n)),t.prototype.NP.call(this,n)},n}(t)},JE=BE.oL,(WE[JE]||(WE[JE]=[])).push(KE);var tR=new(function(){function t(){this.wL=[],this.Ad=void 0}var n=t.prototype;return n.sl=function(t){return this.wL[t]},n.gL=function(t){this.wL.push(t),this.Pd.push(t.Pd)},n.uc=function(t){var n=this.wL.indexOf(t);n<0||(Fr(this.wL,n),this.Ad&&Fr(this.Ad,n))},n.yL=function(t){for(var n=0,i=this.wL;n<i.length;n++){var e=i[n];if(e.Tl===t)return e}},ft(t,[{key:"vl",get:function(){return this.wL.length}},{key:"Pd",get:function(){return this.Ad||(this.Ad=function(t){for(var n=[],i=0;i<t.vl;i++)n[i]=t.sl(i).Pd;return n.getPlayerByUID=function(n){var i=t.yL(n);return i&&i.Pd},n}(this)),this.Ad}}]),t}()),nR=function(){function t(t){var n=this;this.mL=[],this.bL=void 0,this.Xf=new zr,this.pL=void 0,this._L=function(){return 0===n.mL.length?n.pL?iR(n.pL,n.Xf.Hr).then(n.kL,n.kL):n.kL():n.mL.shift()().then(n._L)},this.kL=function(){if(0!==n.mL.length)return n._L();n.bL=void 0},this.pL=t}var n=t.prototype;return n.TL=function(t,n){var i=this;return new j(function(e){var r=new zr;r.zr(i.Xf.Hr),n&&r.zr(n);var u=function(){r.Lr()};i.mL.push(function(){var n=iR(t,r.Hr);return e(n),n.then(u,u)}),i.bL||(i.bL=i._L())})},n.qr=function(){return this.SL(!0)},n.et=function(){return this.pL=void 0,this.SL(!1)},n.SL=function(t){var n=this.bL;return this.Xf.qr(),t&&(this.Xf=new zr),j.resolve(n)},t}();function iR(t,n){return new j(function(i){return i(t(n))})}var eR,rR=function(t){function n(n){var i;return(i=t.call(this,Rc.za)||this).source=n,i}return vt(n,t),n}(uu),uR=function(t){function n(){var n;return(n=t.call(this)||this).gD=void 0,n.mD=void 0,n.pD=void 0,n.bD=void 0,n.gD=0,n.mD=!0,n.pD=!1,n.bD=1,n}vt(n,t);var i=n.prototype;return i.Y=function(){this.mD&&(this.mD=!1,this.Yr(new sg(this.bw)),this.Yr(new Db(this.bw)))},i.K=function(){this.mD||(this.mD=!0,this.Yr(new dg(this.bw,this.Tg)),this.Yr(new ug(this.bw)))},i.fl=function(){this.gD=0,this.pD=!1,this.bD=1,this.K(),this.Yr(new rg(this.gD))},i.et=function(){this.Zr()},i.dg=function(){},i.vg=function(){},ft(n,[{key:"Tg",get:function(){},set:function(t){}},{key:"bw",get:function(){return this.gD},set:function(t){this.pD&&this.gD===t||(this.gD=t,this.pD=!0,this.Yr(new gg(this.bw)))}},{key:"Sw",get:function(){return this.mD}},{key:"Ew",get:function(){return this.bD},set:function(t){this.bD!==t&&(this.bD=t,this.Yr(new vg(this.bw,this.Ew)))}},{key:"Ml",get:function(){return zw.cw}},{key:"Rw",get:function(){return this.pD}}]),n}(Aw),sR=function(t){function n(){return t.call(this,Rc.ma)||this}return vt(n,t),n}(uu),oR={zIndex:"1",display:"inline-block",verticalAlign:"middle",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"contain",cursor:"pointer",margin:"0",padding:"0",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",height:"100%"},cR={visibility:"hidden"},aR={visibility:"visible"},fR=function(){function t(t){var n,i=this;this.vI=void 0,this.yI=void 0,this.EL=!1,this.RL=void 0,this.IL=void 0,this.DL=function(t){var n;i.EL=!1,i.RL=null==(n=t.source)?void 0:n.poster,i.sc()},this.zT=function(){i.EL=!0,i.dg()},this.yI=t,this._I(),this.vI=((n=Z&&Z.document&&Z.document.createElement("div")).className="theoplayer-poster",_e(oR,n),n),t.Sg.appendChild(this.vI)}var n=t.prototype;return n.sc=function(){var t=this.yI.Sw,n=this.EL;this.jh?this.vI.style.backgroundImage='url("'+this.jh.replace(/[\\"]/g,function(t){return"\\"+t})+'")':this.vI.style.backgroundImage="",t&&this.jh&&!n?this.vg():this.dg()},n.vg=function(){_e(cR,this.yI.Sg),_e(aR,this.vI)},n.dg=function(){_e(cR,this.vI),_e(aR,this.yI.Sg)},n._I=function(){this.yI.Kr("sourcechange",this.DL),this.yI.Kr("play",this.zT)},n.et=function(){this.yI.tu("sourcechange",this.DL),this.yI.tu("play",this.zT),pe(this.vI)},ft(t,[{key:"jh",get:function(){return void 0!==this.RL?this.RL:void 0!==this.IL?this.IL:void 0}},{key:"NL",set:function(t){this.IL=t,this.sc()}}]),t}();function hR(t){return function(n){function i(i,e){var r;return(r=n.call(this,i)||this).yI=void 0,r.OL=void 0,r.CL=void 0,r.AL=void 0,r.PL=void 0,r.xL=void 0,r.LL=void 0,r.BL=void 0,r.pI=void 0,r.bI=void 0,r.Ad=void 0,r.ML=function(t){t.type!==Rc.Aa&&r.BL.push(t)},r.OL=new t(i,e),r.CL=new uR,r.yI=r.OL,r.AL=new fR(un(r)),r.xL=new nR,r.LL=!1,r.BL=[],r.pI=!0,r.bI=void 0,r._I(),r}vt(i,n);var e=i.prototype;return e.TL=function(t,n){return We.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",this.xL.TL(t,n).catch(Xr));case 1:case"end":return i.stop()}},null,this,null,j)},e.FL=function(t,n){return We.async(function(i){for(;;)switch(i.prev=i.next){case 0:return jr(n),this.OL.Qr(this.ML),i.next=4,We.awrap(this.OL.sg(t,n));case 4:this.OL.eu(this.ML);case 5:case"end":return i.stop()}},null,this,null,j)},e.UL=function(){var t,n,i;return We.async(function(e){for(;;)switch(e.prev=e.next){case 0:if((t=this.ug())&&!mT(t)&&this.Qw&&this.Sw){e.next=3;break}return e.abrupt("return");case 3:return n=t.mutedAutoplay||this.lc.mutedAutoplay,e.next=6,We.awrap(this.nL.ut());case 6:i=e.sent,e.t0=i,e.next="all"===e.t0?10:"muted"===e.t0?12:14;break;case 10:return this.VL(),e.abrupt("break",14);case 12:return(this.Tw||n===og.ALL)&&(this.Tw=!0,this.Y()),e.abrupt("break",14);case 14:case"end":return e.stop()}},null,this,null,j)},e.sg=function(t){var n=this,i=this.bI;i&&!mT(i)&&this.Yr(new rg(0,0)),this.fl(),this.bI=t,Qr(this.TL(function(i){return We.async(function(e){for(;;)switch(e.prev=e.next){case 0:return jr(i),e.prev=1,e.next=4,We.awrap(n.FL(t,i));case 4:e.next=10;break;case 6:throw e.prev=6,e.t0=e.catch(1),n.bI=void 0,e.t0;case 10:return e.next=12,We.awrap(n.qL());case 12:case"end":return e.stop()}},null,null,[[1,6]],j)}))},e.qL=function(){return We.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.zL(this.OL),this.Yr(new rR(this.ug())),t.next=4,We.awrap(this.UL());case 4:case"end":return t.stop()}},null,this,null,j)},e.uP=function(t){this.yI.bw=t},e.aP=function(){return this.OL.fu},e.fP=function(){return this.OL.kw},e.Y=function(){this.yI.Y()},e.VL=function(){this.Tw||this.st(),this.Y()},e.st=function(){this.OL.st()},e.K=function(){this.yI.K()},e.rg=function(){this.sg(void 0)},e.vg=function(){this.pI=!0,this.yI.vg()},e.dg=function(){this.pI=!1,this.yI.dg()},e.Zx=function(){this.OL.Zx()},e.NP=function(t){this.OL.NP(t)},e.dP=function(t){this.OL.dP(t)},e.WL=function(t){this.PL=t,t.gL(this)},e.dD=function(){return this.OL.dD()},e.ug=function(){return this.bI},e.lg=function(){return this.OL.lg()},e.rP=function(){return this.OL.bw},e.sP=function(){return this.OL.pw},e.tP=function(){return this.OL.kg},e.mP=function(){return this.OL.Pg},e.kP=function(){return this.OL.Lg},e.fl=function(){var t=this;this.bI=void 0,Vr(this.BL),this.CL.fl(),this.zL(this.CL),this.xL.qr(),Qr(this.xL.TL(function(n){return We.async(function(i){for(;;)switch(i.prev=i.next){case 0:return jr(n),i.next=3,We.awrap(t.OL.fl());case 3:case"end":return i.stop()}},null,null,null,j)}))},e.et=function(){var t=this;this.Yr(new sR),this.AL.et(),this.kI(),this.fl(),Qr(this.TL(function(){return We.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,We.awrap(t.OL.et());case 2:t.PL&&(t.PL.uc(t),t.PL=void 0),t.xL.et();case 4:case"end":return n.stop()}},null,null,null,j)})),this.Zr()},e.zL=function(t){if(this.yI!==t){var n=this.yI.Sw,i=this.yI.bw,e=this.yI.Ew,r=this.yI.Rw;this.kI(),t===this.OL?((r||t.bw!==i)&&(t.bw=i),t.Ew!==e&&(t.Ew=e),n?t.K():t.Y()):this.lc.retainPlaybackRateOnSourceChange?t.Ew=e:1!==e&&this.Yr(new vg(this.rP(),1)),this.yI=t,this._I();for(var u=0,s=this.BL;u<s.length;u++){var o=s[u];this.Yr(o)}Vr(this.BL),this.pI?t.vg():t.dg()}},e._I=function(){this.yI.Qr(this.Gr)},e.kI=function(){this.yI.eu(this.Gr)},e.xd=function(){return t=this,e=function(n){i=n;var e=NT(n,t.lc);t.sg(e)},r={get abr(){return t.tL.Pd},get audioTracks(){return t.tg.Pd},get autoplay(){return t.Qw},set autoplay(n){t.Qw=Boolean(n)},get buffered(){return t.tP()},get canvas(){return t.Fx.Pd},get clip(){return t.Qx.Pd},get currentProgramDateTime(){var n;return null!=(n=t.Tg)?n:null},set currentProgramDateTime(n){t.Tg=null!=n?n:void 0},get currentTime(){return t.rP()},set currentTime(n){t.uP(Number(n))},get duration(){return t.sP()},get element(){return t.Sg},get ended(){return t._w},get error(){return t.aP()},get errorObject(){return t.fP()},get loop(){return t.HP.HP},set loop(n){t.HP.HP=Boolean(n)},get metrics(){return t.zw.Pd},get muted(){return t.Tw},set muted(n){t.dP(n)},get network(){return t.rL.Pd},get paused(){return t.Sw},get playbackRate(){return t.Ew},set playbackRate(n){var i=Number(n);if(i<0)throw new RangeError("playbackRate must be a positive number");t.Ew=i},get played(){return t.mP()},get poster(){return t.HL},set poster(n){t.HL=lw(n)},get preload(){return t.xg},set preload(n){t.xg=n},get presentation(){return t.Ux.Pd},get readyState(){return t.Ml},get seekable(){return t.kP()},get seeking(){return t.Rw},get source(){return i},set source(t){e(t)},get src(){return bT(t.ug())},set src(t){e({sources:t})},get textTracks(){return t.ig.Pd},get textTrackStyle(){return t.uL.Pd},get uid(){return t.Tl},get videoHeight(){return t.Iw},get videoTracks(){return t.ng.Pd},get videoWidth(){return t.Dw},get volume(){return t.Nw},set volume(n){t.NP(Number(n))},get latency(){return t.Bg.Pd},destroy:function(){t.et(),t=null,i=void 0},play:function(){t.VL()},pause:function(){t.K()},stop:function(){i=void 0,t.rg()},prepareWithUserAction:function(){t.st()},addEventListener:function(t,i){n.Kr(t,i)},removeEventListener:function(t,i){n.tu(t,i)},setSource:function(t){e(t)}},(n=new Wk(r,!0)).LD(t),r;var t,n,i,e,r},ft(i,[{key:"Mx",get:function(){return this.OL.Mx}},{key:"Fx",get:function(){return this.OL.Fx}},{key:"lc",get:function(){return this.OL.lc}},{key:"Bx",get:function(){return this.OL.Bx}},{key:"Id",get:function(){return this.OL.Id}},{key:"FR",get:function(){return this.OL.qx}},{key:"Ux",get:function(){return this.OL.Ux}},{key:"Vx",get:function(){return this.OL.Vx}},{key:"XP",get:function(){return this.OL.XP}},{key:"tL",get:function(){return this.OL.tL}},{key:"Qw",get:function(){return this.OL.Qw},set:function(t){this.OL.Qw=t,this.UL()}},{key:"nL",get:function(){return this.OL.nL}},{key:"tg",get:function(){return this.OL.tg}},{key:"iL",get:function(){return this.OL.iL}},{key:"eL",get:function(){return this.OL.Vx}},{key:"Pd",get:function(){return this.Ad||(this.Ad=this.xd()),this.Ad}},{key:"eg",get:function(){return this.OL.eg}},{key:"zw",get:function(){return this.OL.zw}},{key:"rL",get:function(){return this.OL.rL}},{key:"ig",get:function(){return this.OL.ig}},{key:"uL",get:function(){return this.OL.uL}},{key:"ng",get:function(){return this.OL.ng}},{key:"Qx",get:function(){return this.OL.Qx}},{key:"HP",get:function(){return this.OL.HP}},{key:"Tg",get:function(){return this.yI.Tg},set:function(t){this.yI.Tg=t}},{key:"pg",get:function(){return this.OL.pg}},{key:"Sg",get:function(){return this.OL.Sg}},{key:"_w",get:function(){return this.OL._w}},{key:"Tw",get:function(){return this.OL.Tw},set:function(t){this.OL.Tw=t}},{key:"Sw",get:function(){return this.yI.Sw}},{key:"HL",get:function(){return this.AL.jh||""},set:function(t){this.AL.NL=t}},{key:"Ew",get:function(){return this.OL.Ew},set:function(t){this.yI.Ew=t}},{key:"xg",get:function(){return this.OL.xg},set:function(t){this.OL.xg=lk(t)}},{key:"Ml",get:function(){return this.yI.Ml}},{key:"Rw",get:function(){return this.yI.Rw}},{key:"Tl",get:function(){return this.OL.Tl}},{key:"Iw",get:function(){return this.OL.Iw}},{key:"Dw",get:function(){return this.OL.Dw}},{key:"Nw",get:function(){return this.OL.Nw},set:function(t){this.OL.Nw=t}},{key:"Bg",get:function(){return this.OL.Bg}}]),i}(Pw)}function vR(t,n){var i=Sg(n),e=new(eR||(eR=HE(eR=hR(qE),BE.sL),eR=HE(eR,BE.oL)),eR)(t,i),r=e.Pd;return e.Zx(),e.WL(tR),v.defineProperty(r,"constructor",{value:vR}),r=rw(r),function(t){for(var n=0;n<jE.length;n++)(0,jE[n])(t)}(e),r}Jr(function(){t.dispatchEvent&&t.dispatchEvent(GE("theoplayerready"))});var dR={base64:new(function(){function t(){}var n=t.prototype;return n.encode=function(t){return _u(t)},n.decode=function(t){return bu(t)},t}())},lR=tR.Pd,wR=up.LS.registerContentProtectionIntegration.bind(up.LS),gR=function(){this.fairplayController=void 0,this.cache=void 0,this.dai=void 0},yR=function(){function t(){this.internalDict={}}var n=t.prototype;return n.register=function(t){this.internalDict[t.uid]=t},n.get=function(t){return this.internalDict[t]},n.remove=function(t){delete this.internalDict[t]},t}(),mR=Gt(function(t,n){function i(t,n){var i=[],e=[];return null==n&&(n=function(t,n){return i[0]===n?"[Circular ~]":"[Circular ~."+e.slice(0,i.indexOf(n)).join(".")+"]"}),function(r,u){if(i.length>0){var s=i.indexOf(this);~s?i.splice(s+1):i.push(this),~s?e.splice(s,1/0,r):e.push(r),~i.indexOf(u)&&(u=n.call(this,r,u))}else i.push(u);return null==t?u:t.call(this,r,u)}}(t.exports=function(t,n,e,r){return JSON.stringify(t,i(n,r),e)}).getSerialize=i});function bR(t,n){return void 0!==n&&null!=n&&"function"==typeof n.start&&"function"==typeof n.end&&"number"==typeof n.length?function(t){for(var n=[],i=0;i<t.length;i++)n[i]={start:t.start(i),end:t.end(i)};return n}(n):n}function pR(t){return JSON.stringify(t,mR.getSerialize(bR))}var _R=Gt(function(t,n){v.defineProperty(n,"__esModule",{value:!0}),n.CHAR="\t\n\r -\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",n.S=" \t\r\n",n.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u");var i=9,e=10,r=13,u=32;function s(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}n.S_LIST=[u,e,r,i],n.isChar=function(t){return t>=u&&t<=55295||t===e||t===r||t===i||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isS=function(t){return t===u||t===e||t===r||t===i},n.isNameStartChar=s,n.isNameChar=function(t){return s(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),kR=Gt(function(t,n){v.defineProperty(n,"__esModule",{value:!0}),n.CHAR="\x01-\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",n.RESTRICTED_CHAR="\x01-\b\v\f\x0e-\x1f\x7f-\x84\x86-\x9f",n.S=" \t\r\n",n.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.RESTRICTED_CHAR_RE=new RegExp("^["+n.RESTRICTED_CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u");var i=9,e=10,r=13,u=32;function s(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}n.S_LIST=[u,e,r,i],n.isChar=function(t){return t>=1&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isRestrictedChar=function(t){return t>=1&&t<=8||11===t||12===t||t>=14&&t<=31||t>=127&&t<=132||t>=134&&t<=159},n.isCharAndNotRestricted=function(t){return 9===t||10===t||13===t||t>31&&t<127||133===t||t>159&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isS=function(t){return t===u||t===e||t===r||t===i},n.isNameStartChar=s,n.isNameChar=function(t){return s(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),TR=Gt(function(t,n){function i(t){return t>=65&&t<=90||95===t||t>=97&&t<=122||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}v.defineProperty(n,"__esModule",{value:!0}),n.NC_NAME_START_CHAR="A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NC_NAME_CHAR="-"+n.NC_NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.NC_NAME_START_CHAR_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]$","u"),n.NC_NAME_CHAR_RE=new RegExp("^["+n.NC_NAME_CHAR+"]$","u"),n.NC_NAME_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]["+n.NC_NAME_CHAR+"]*$","u"),n.isNCNameStartChar=i,n.isNCNameChar=function(t){return i(t)||45===t||46===t||t>=48&&t<=57||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),SR=Gt(function(t,n){v.defineProperty(n,"__esModule",{value:!0});var i=_R.isS,e=_R.isChar,r=_R.isNameStartChar,u=_R.isNameChar,s=_R.S_LIST,o=_R.NAME_RE,c=kR.isChar,a=TR.isNCNameStartChar,h=TR.isNCNameChar,d=TR.NC_NAME_RE;const w="http://www.w3.org/XML/1998/namespace",g="http://www.w3.org/2000/xmlns/",y={__proto__:null,xml:w,xmlns:g},m={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},b=-1,p=-2,_=0,k=1,T=2,S=3,E=4,R=5,I=6,D=7,N=8,O=9,C=10,A=11,P=12,x=13,L=14,B=15,M=16,F=17,U=18,V=19,q=20,z=21,W=22,H=23,j=24,$=25,X=26,G=27,Y=28,K=29,J=30,Q=31,Z=32,tt=33,nt=34,it=35,et=36,rt=37,ut=38,st=39,ot=40,ct=41,at=42,ft=43,ht=44,vt=9,dt=10,lt=13,wt=32,gt=33,yt=38,mt=45,bt=47,pt=59,_t=60,kt=61,Tt=62,St=63,Et=91,Rt=93,It=133,Dt=8232,Nt=t=>34===t||39===t,Ot=[34,39],Ct=[...Ot,Et,Tt],At=[...Ot,_t,Rt],Pt=[kt,St,...s],xt=[...s,Tt,yt,_t];function Lt(t,n,i){switch(n){case"xml":i!==w&&t.fail(`xml prefix must be bound to ${w}.`);break;case"xmlns":i!==g&&t.fail(`xmlns prefix must be bound to ${g}.`)}switch(i){case g:t.fail(""===n?`the default namespace may not be set to ${i}.`:`may not assign a prefix (even "xmlns") to the URI ${g}.`);break;case w:switch(n){case"xml":break;case"":t.fail(`the default namespace may not be set to ${i}.`);break;default:t.fail("may not assign the xml namespace to another prefix.")}}}const Bt=t=>d.test(t),Mt=t=>o.test(t),Ft=0,Ut=1,Vt=2;n.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const qt={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};n.SaxesParser=class{constructor(t){this.opt=null!=t?t:{},this.fragmentOpt=!!this.opt.fragment;const n=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=!1!==this.opt.position,this.fileName=this.opt.fileName,n){this.nameStartCheck=a,this.nameCheck=h,this.isName=Bt,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=v.assign({__proto__:null},y);const t=this.opt.additionalNamespaces;null!=t&&(function(t,n){for(const i of v.keys(n))Lt(t,i,n[i])}(this,t),v.assign(this.ns,t))}else this.nameStartCheck=r,this.nameCheck=u,this.isName=Mt,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this.$u}_init(){var t;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=Ft,this.attribList=[];const{fragmentOpt:n}=this;this.state=n?x:_,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=n,this.xmlDeclPossible=!n,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:i}=this.opt;if(void 0===i){if(!0===this.opt.forceXMLVersion)throw new f("forceXMLVersion set but defaultXMLVersion is not set");i="1.0"}this.setXMLVersion(i),this.positionAtNewLine=0,this.doctype=!1,this.$u=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=v.create(m),null===(t=this.readyHandler)||void 0===t||t.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(t,n){this[qt[t]]=n}off(t){this[qt[t]]=void 0}makeError(t){var n;let i=null!==(n=this.fileName)&&void 0!==n?n:"";return this.trackPosition&&(i.length>0&&(i+=":"),i+=`${this.line}:${this.column}`),i.length>0&&(i+=": "),new f(i+t)}fail(t){const n=this.makeError(t),i=this.errorHandler;if(void 0===i)throw n;return i(n),this}write(t){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let n=!1;null===t?(n=!0,t=""):"object"==typeof t&&(t=t.toString()),void 0!==this.carriedFromPrevious&&(t=`${this.carriedFromPrevious}${t}`,this.carriedFromPrevious=void 0);let i=t.length;const e=t.charCodeAt(i-1);!n&&(e===lt||e>=55296&&e<=56319)&&(this.carriedFromPrevious=t[i-1],i--,t=t.slice(0,i));const{stateTable:r}=this;for(this.chunk=t,this.i=0;this.i<i;)r[this.state].call(this);return this.chunkPosition+=i,n?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return b;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>=wt||i===vt)return i;switch(i){case dt:return this.line++,this.column=0,this.positionAtNewLine=this.position,dt;case lt:return t.charCodeAt(n+1)===dt&&(this.i=n+2),this.line++,this.column=0,this.positionAtNewLine=this.position,p;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const e=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,e>1114111&&this.fail("disallowed character."),e}getCode11(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return b;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>31&&i<127||i>159&&i!==Dt||i===vt)return i;switch(i){case dt:return this.line++,this.column=0,this.positionAtNewLine=this.position,dt;case lt:{const i=t.charCodeAt(n+1);i!==dt&&i!==It||(this.i=n+2)}case It:case Dt:return this.line++,this.column=0,this.positionAtNewLine=this.position,p;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const e=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,e>1114111&&this.fail("disallowed character."),e}getCodeNorm(){const t=this.getCode();return t===p?dt:t}unget(){this.i=this.prevI,this.column--}captureTo(t){let{i:n}=this;const{chunk:i}=this;for(;;){const e=this.getCode(),r=e===p,u=r?dt:e;if(u===b||t.includes(u))return this.text+=i.slice(n,this.prevI),u;r&&(this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i)}}captureToChar(t){let{i:n}=this;const{chunk:i}=this;for(;;){let e=this.getCode();switch(e){case p:this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i,e=dt;break;case b:return this.text+=i.slice(n),!1}if(e===t)return this.text+=i.slice(n,this.prevI),!0}}captureNameChars(){const{chunk:t,i:n}=this;for(;;){const i=this.getCode();if(i===b)return this.name+=t.slice(n),b;if(!u(i))return this.name+=t.slice(n,this.prevI),i===p?dt:i}}skipSpaces(){for(;;){const t=this.getCodeNorm();if(t===b||!i(t))return t}}setXMLVersion(t){this.currentXMLVersion=t,"1.0"===t?(this.isChar=e,this.getCode=this.getCode10):(this.isChar=c,this.getCode=this.getCode11)}sBegin(){65279===this.chunk.charCodeAt(0)&&(this.i++,this.column++),this.state=k}sBeginWhitespace(){const t=this.i,n=this.skipSpaces();switch(this.prevI!==t&&(this.xmlDeclPossible=!1),n){case _t:if(this.state=B,0!==this.text.length)throw new f("no-empty text at start");break;case b:break;default:this.unget(),this.state=x,this.xmlDeclPossible=!1}}sDoctype(){var t;const n=this.captureTo(Ct);switch(n){case Tt:null===(t=this.doctypeHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=x,this.doctype=!0;break;case b:break;default:this.text+=String.fromCodePoint(n),n===Et?this.state=E:Nt(n)&&(this.state=S,this.q=n)}}sDoctypeQuote(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.q=null,this.state=T)}sDTD(){const t=this.captureTo(At);t!==b&&(this.text+=String.fromCodePoint(t),t===Rt?this.state=T:t===_t?this.state=I:Nt(t)&&(this.state=R,this.q=t))}sDTDQuoted(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.state=E,this.q=null)}sDTDOpenWaka(){const t=this.getCodeNorm();switch(this.text+=String.fromCodePoint(t),t){case gt:this.state=D,this.openWakaBang="";break;case St:this.state=A;break;default:this.state=E}}sDTDOpenWakaBang(){const t=String.fromCodePoint(this.getCodeNorm()),n=this.openWakaBang+=t;this.text+=t,"-"!==n&&(this.state="--"===n?N:E,this.openWakaBang="")}sDTDComment(){this.captureToChar(mt)&&(this.text+="-",this.state=O)}sDTDCommentEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),this.state=t===mt?C:N}sDTDCommentEnded(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===Tt?this.state=E:(this.fail("malformed comment."),this.state=N)}sDTDPI(){this.captureToChar(St)&&(this.text+="?",this.state=P)}sDTDPIEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===Tt&&(this.state=E)}sText(){0!==this.tags.length?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:t}=this;const{chunk:n}=this;t:for(;;)switch(this.getCode()){case p:this.entity+=`${n.slice(t,this.prevI)}\n`,t=this.i;break;case pt:{const{entityReturnState:i}=this,e=this.entity+n.slice(t,this.prevI);let r;this.state=i,""===e?(this.fail("empty entity name."),r="&;"):(r=this.parseEntity(e),this.entity=""),i===x&&void 0===this.textHandler||(this.text+=r);break t}case b:this.entity+=n.slice(t);break t}}sOpenWaka(){const t=this.getCode();if(r(t))this.state=nt,this.unget(),this.xmlDeclPossible=!1;else switch(t){case bt:this.state=ft,this.xmlDeclPossible=!1;break;case gt:this.state=M,this.openWakaBang="",this.xmlDeclPossible=!1;break;case St:this.state=H;break;default:this.fail("disallowed character in tag name"),this.state=x,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=q,this.openWakaBang="";break;case"--":this.state=F,this.openWakaBang="";break;case"DOCTYPE":this.state=T,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(mt)&&(this.state=U)}sCommentEnding(){var t;const n=this.getCodeNorm();n===mt?(this.state=V,null===(t=this.commentHandler)||void 0===t||t.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(n)}`,this.state=F)}sCommentEnded(){const t=this.getCodeNorm();t!==Tt?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(t)}`,this.state=F):this.state=x}sCData(){this.captureToChar(Rt)&&(this.state=z)}sCDataEnding(){const t=this.getCodeNorm();t===Rt?this.state=W:(this.text+=`]${String.fromCodePoint(t)}`,this.state=q)}sCDataEnding2(){var t;const n=this.getCodeNorm();switch(n){case Tt:null===(t=this.cdataHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=x;break;case Rt:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(n)}`,this.state=q}}sPIFirstChar(){const t=this.getCodeNorm();this.nameStartCheck(t)?(this.piTarget+=String.fromCodePoint(t),this.state=j):t===St||i(t)?(this.fail("processing instruction without a target."),this.state=t===St?X:$):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(t),this.state=j)}sPIRest(){const{chunk:t,i:n}=this;for(;;){const e=this.getCodeNorm();if(e===b)return void(this.piTarget+=t.slice(n));if(!this.nameCheck(e)){this.piTarget+=t.slice(n,this.prevI);const r=e===St;r||i(e)?"xml"===this.piTarget?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=r?tt:G):this.state=r?X:$:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(e));break}}}sPIBody(){if(0===this.text.length){const t=this.getCodeNorm();t===St?this.state=X:i(t)||(this.text=String.fromCodePoint(t))}else this.captureToChar(St)&&(this.state=X)}sPIEnding(){var t;const n=this.getCodeNorm();if(n===Tt){const{piTarget:n}=this;"xml"===n.toLowerCase()&&this.fail("the XML declaration must appear at the start of the document."),null===(t=this.piHandler)||void 0===t||t.call(this,{target:n,body:this.text}),this.piTarget=this.text="",this.state=x}else n===St?this.text+="?":(this.text+=`?${String.fromCodePoint(n)}`,this.state=$);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const t=this.skipSpaces();t!==St?t!==b&&(this.state=Y,this.name=String.fromCodePoint(t)):this.state=tt}sXMLDeclName(){const t=this.captureTo(Pt);if(t===St)return this.state=tt,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(i(t)||t===kt){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=t===kt?J:K}}sXMLDeclEq(){const t=this.getCodeNorm();if(t===St)return this.state=tt,void this.fail("XML declaration is incomplete.");i(t)||(t!==kt&&this.fail("value required."),this.state=J)}sXMLDeclValueStart(){const t=this.getCodeNorm();if(t===St)return this.state=tt,void this.fail("XML declaration is incomplete.");i(t)||(Nt(t)?this.q=t:(this.fail("value must be quoted."),this.q=wt),this.state=Q)}sXMLDeclValue(){const t=this.captureTo([this.q,St]);if(t===St)return this.state=tt,this.text="",void this.fail("XML declaration is incomplete.");if(t===b)return;const n=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const t=n;this.xmlDecl.version=t,/^1\.[0-9]+$/.test(t)?this.opt.forceXMLVersion||this.setXMLVersion(t):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(n)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=n;break;case"standalone":"yes"!==n&&"no"!==n&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=n}this.name="",this.state=Z}sXMLDeclSeparator(){const t=this.getCodeNorm();t!==St?(i(t)||(this.fail("whitespace required."),this.unget()),this.state=G):this.state=tt}sXMLDeclEnding(){var t;this.getCodeNorm()===Tt?("xml"!==this.piTarget?this.fail("processing instructions are not allowed before root."):"version"!==this.name&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),null===(t=this.xmldeclHandler)||void 0===t||t.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=x):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var t;const n=this.captureNameChars();if(n===b)return;const e=this.tag={name:this.name,attributes:v.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=e.ns=v.create(null)),null===(t=this.openTagStartHandler)||void 0===t||t.call(this,e),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),n){case Tt:this.openTag();break;case bt:this.state=it;break;default:i(n)||this.fail("disallowed character in tag name."),this.state=et}}sOpenTagSlash(){this.getCode()===Tt?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=et)}sAttrib(){const t=this.skipSpaces();t!==b&&(r(t)?(this.unget(),this.state=rt):t===Tt?this.openTag():t===bt?this.state=it:this.fail("disallowed character in attribute name."))}sAttribName(){const t=this.captureNameChars();t===kt?this.state=st:i(t)?this.state=ut:t===Tt?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):t!==b&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const t=this.skipSpaces();switch(t){case b:return;case kt:this.state=st;break;default:this.fail("attribute without value."),this.text="",this.name="",t===Tt?this.openTag():r(t)?(this.unget(),this.state=rt):(this.fail("disallowed character in attribute name."),this.state=et)}}sAttribValue(){const t=this.getCodeNorm();Nt(t)?(this.q=t,this.state=ot):i(t)||(this.fail("unquoted attribute value."),this.state=at,this.unget())}sAttribValueQuoted(){const{q:t,chunk:n}=this;let{i:i}=this;for(;;)switch(this.getCode()){case t:return this.pushAttrib(this.name,this.text+n.slice(i,this.prevI)),this.name=this.text="",this.q=null,void(this.state=ct);case yt:return this.text+=n.slice(i,this.prevI),this.state=L,void(this.entityReturnState=ot);case dt:case p:case vt:this.text+=`${n.slice(i,this.prevI)} `,i=this.i;break;case _t:return this.text+=n.slice(i,this.prevI),void this.fail("disallowed character.");case b:return void(this.text+=n.slice(i))}}sAttribValueClosed(){const t=this.getCodeNorm();i(t)?this.state=et:t===Tt?this.openTag():t===bt?this.state=it:r(t)?(this.fail("no whitespace between attributes."),this.unget(),this.state=rt):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const t=this.captureTo(xt);switch(t){case yt:this.state=L,this.entityReturnState=at;break;case _t:this.fail("disallowed character.");break;case b:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",t===Tt?this.openTag():this.state=et}}sCloseTag(){const t=this.captureNameChars();t===Tt?this.closeTag():i(t)?this.state=ht:t!==b&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case Tt:this.closeTag();break;case b:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:t,forbiddenState:n}=this;const{chunk:i,textHandler:e}=this;t:for(;;)switch(this.getCode()){case _t:if(this.state=B,void 0!==e){const{text:n}=this,r=i.slice(t,this.prevI);0!==n.length?(e(n+r),this.text=""):0!==r.length&&e(r)}n=Ft;break t;case yt:this.state=L,this.entityReturnState=x,void 0!==e&&(this.text+=i.slice(t,this.prevI)),n=Ft;break t;case Rt:switch(n){case Ft:n=Ut;break;case Ut:n=Vt;break;case Vt:break;default:throw new f("impossible state")}break;case Tt:n===Vt&&this.fail('the string "]]>" is disallowed in char data.'),n=Ft;break;case p:void 0!==e&&(this.text+=`${i.slice(t,this.prevI)}\n`),t=this.i,n=Ft;break;case b:void 0!==e&&(this.text+=i.slice(t));break t;default:n=Ft}this.forbiddenState=n}handleTextOutsideRoot(){let{i:t}=this;const{chunk:n,textHandler:e}=this;let r=!1;t:for(;;){const u=this.getCode();switch(u){case _t:if(this.state=B,void 0!==e){const{text:i}=this,r=n.slice(t,this.prevI);0!==i.length?(e(i+r),this.text=""):0!==r.length&&e(r)}break t;case yt:this.state=L,this.entityReturnState=x,void 0!==e&&(this.text+=n.slice(t,this.prevI)),r=!0;break t;case p:void 0!==e&&(this.text+=`${n.slice(t,this.prevI)}\n`),t=this.i;break;case b:void 0!==e&&(this.text+=n.slice(t));break t;default:i(u)||(r=!0)}}r&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(t,n){var i;const{prefix:e,local:r}=this.qname(t),u={name:t,prefix:e,local:r,value:n};if(this.attribList.push(u),null===(i=this.attributeHandler)||void 0===i||i.call(this,u),"xmlns"===e){const t=n.trim();"1.0"===this.currentXMLVersion&&""===t&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[r]=t,Lt(this,r,t)}else if("xmlns"===t){const t=n.trim();this.topNS[""]=t,Lt(this,"",t)}}pushAttribPlain(t,n){var i;const e={name:t,value:n};this.attribList.push(e),null===(i=this.attributeHandler)||void 0===i||i.call(this,e)}end(){var t,n;this.sawRoot||this.fail("document must contain a root element.");const{tags:i}=this;for(;i.length>0;){const t=i.pop();this.fail(`unclosed tag: ${t.name}`)}this.state!==_&&this.state!==x&&this.fail("unexpected end.");const{text:e}=this;return 0!==e.length&&(null===(t=this.textHandler)||void 0===t||t.call(this,e),this.text=""),this.$u=!0,null===(n=this.endHandler)||void 0===n||n.call(this),this._init(),this}resolve(t){var n,i;let e=this.topNS[t];if(void 0!==e)return e;const{tags:r}=this;for(let n=r.length-1;n>=0;n--)if(void 0!==(e=r[n].ns[t]))return e;return void 0!==(e=this.ns[t])?e:null===(i=(n=this.opt).resolvePrefix)||void 0===i?void 0:i.call(n,t)}qname(t){const n=t.indexOf(":");if(-1===n)return{prefix:"",local:t};const i=t.slice(n+1),e=t.slice(0,n);return(""===e||""===i||i.includes(":"))&&this.fail(`malformed name: ${t}.`),{prefix:e,local:i}}processAttribsNS(){var t;const{attribList:n}=this,i=this.tag;{const{prefix:n,local:e}=this.qname(i.name);i.prefix=n,i.local=e;const r=i.uri=null!==(t=this.resolve(n))&&void 0!==t?t:"";""!==n&&("xmlns"===n&&this.fail('tags may not have "xmlns" as prefix.'),""===r&&(this.fail(`unbound namespace prefix: ${JSON.stringify(n)}.`),i.uri=n))}if(0===n.length)return;const{attributes:e}=i,r=new Set;for(const t of n){const{name:n,prefix:i,local:u}=t;let s,o;""===i?(s="xmlns"===n?g:"",o=n):(void 0===(s=this.resolve(i))&&(this.fail(`unbound namespace prefix: ${JSON.stringify(i)}.`),s=i),o=`{${s}}${u}`),r.has(o)&&this.fail(`duplicate attribute: ${o}.`),r.add(o),t.uri=s,e[n]=t}this.attribList=[]}processAttribsPlain(){const{attribList:t}=this,n=this.tag.attributes;for(const{name:i,value:e}of t)void 0!==n[i]&&this.fail(`duplicate attribute: ${i}.`),n[i]=e;this.attribList=[]}openTag(){var t;this.processAttribs();const{tags:n}=this,i=this.tag;i.isSelfClosing=!1,null===(t=this.openTagHandler)||void 0===t||t.call(this,i),n.push(i),this.state=x,this.name=""}openSelfClosingTag(){var t,n,i;this.processAttribs();const{tags:e}=this,r=this.tag;r.isSelfClosing=!0,null===(t=this.openTagHandler)||void 0===t||t.call(this,r),null===(n=this.closeTagHandler)||void 0===n||n.call(this,r),null===(this.tag=null!==(i=e[e.length-1])&&void 0!==i?i:null)&&(this.closedRoot=!0),this.state=x,this.name=""}closeTag(){const{tags:t,name:n}=this;if(this.state=x,this.name="",""===n)return this.fail("weird empty close tag."),void(this.text+="</>");const i=this.closeTagHandler;let e=t.length;for(;e-- >0;){const e=this.tag=t.pop();if(this.topNS=e.ns,null==i||i(e),e.name===n)break;this.fail("unexpected close tag.")}0===e?this.closedRoot=!0:e<0&&(this.fail(`unmatched closing tag: ${n}.`),this.text+=`</${n}>`)}parseEntity(t){if("#"!==t[0]){const n=this.ENTITIES[t];return void 0!==n?n:(this.fail(this.isName(t)?"undefined entity.":"disallowed character in entity name."),`&${t};`)}let n=NaN;return"x"===t[1]&&/^#x[0-9a-f]+$/i.test(t)?n=l(t.slice(2),16):/^#[0-9]+$/.test(t)&&(n=l(t.slice(1),10)),this.isChar(n)?String.fromCodePoint(n):(this.fail("malformed character entity."),`&${t};`)}}}),ER=function(){function t(){}return t.prototype.oi=function(t){var n=new SR.SaxesParser({xmlns:!0,defaultXMLVersion:"1.0",forceXMLVersion:!0}),i=new AR,e=[i];function r(t){e[e.length-1].ki(t)}return n.on("text",function(t){e.length>1&&r(new OR(t))}),n.on("cdata",function(t){r(new CR(t))}),n.on("opentag",function(t){for(var n=t.local,i=t.uri,u=t.prefix,s=new DR({hi:n,di:""===i?void 0:i,jL:""===u?void 0:u}),o=t.attributes,c=0,a=v.keys(o);c<a.length;c++){var f=o[a[c]],h=f.prefix,d=f.local,l=f.uri,w=f.value,g=new RR({hi:d,wi:w,di:""===l?void 0:l,jL:""===h?void 0:h});s.$L(g)}r(s),e.push(s)}),n.on("closetag",function(){e.pop()}),n.on("error",function(t){throw new cn(t)}),n.write(t).close(),i},t}(),RR=function(){function t(t){this.XL=void 0,this.GL=void 0,this.YL=void 0,this.g=void 0,this.XL=t.hi,this.g=t.wi,this.GL=t.di,this.YL=t.jL}var n=t.prototype;return n.ai=function(t){return this===t||!!xR(this,t)&&(this.XL===t.XL&&this.GL===t.GL&&this.YL===t.YL&&this.g===t.g)},n.fi=function(){return new t({hi:this.hi,wi:this.wi,di:this.di,jL:this.li})},ft(t,[{key:"ni",get:function(){return en.ei}},{key:"hi",get:function(){return this.XL}},{key:"vi",get:function(){return void 0===this.YL?this.XL:this.YL+":"+this.XL}},{key:"di",get:function(){return this.GL}},{key:"li",get:function(){return this.YL}},{key:"wi",get:function(){return this.g}}]),t}(),IR=function(){function t(){this.yi=[]}var n=t.prototype;return n.mi=function(t){return this.yi.filter(function(n){return PR(n)&&n.pi===t})},n._i=function(t,n){return this.yi.filter(function(i){return PR(i)&&i.hi===n&&i.di===t})},n.ki=function(t){this.yi.push(t)},ft(t,[{key:"bi",get:function(){return this.yi}},{key:"Si",get:function(){return this.yi.filter(PR)}}]),t}(),DR=function(t){function n(n){var i;return(i=t.call(this)||this).XL=void 0,i.GL=void 0,i.YL=void 0,i.KL=[],i.XL=n.hi,i.GL=n.di,i.YL=n.jL,i}vt(n,t);var i=n.prototype;return i.JL=function(t){for(var n=0,i=this.bi;n<i.length;n++){var e=i[n];PR(e)?e.JL(t):t.push(e.Pi)}},i.Ri=function(t,n){for(var i=0,e=this.KL;i<e.length;i++){var r=e[i];if(r.hi===n&&r.di===t)return r.wi}},i.Ei=function(t){for(var n=0,i=this.KL;n<i.length;n++){var e=i[n];if(e.vi===t)return e.wi}},i.$L=function(t){this.KL.push(t)},i.Ii=function(t){for(var n=0;n<this.KL.length;n++)if(this.KL[n].vi===t)return void this.KL.splice(n,1)},i.Di=function(t,n){for(var i=0;i<this.KL.length;i++)if(this.KL[i].hi===n&&this.KL[i].di===t)return void this.KL.splice(i,1)},i.Ni=function(t,n){this.Ii(t),this.$L(new RR({hi:t,wi:n}))},i.Oi=function(t,n,i){this.Ii(n);var e=n.split(":");this.$L(new RR({hi:e[e.length-1],wi:i,di:t,jL:e.length>1?e[0]:void 0}))},i.fi=function(t){var i=new n({hi:this.hi,di:this.di,jL:this.li});return this.Ci.forEach(function(t){return i.$L(t.fi())}),t&&this.bi.forEach(function(n){return i.ki(n.fi(t))}),i},i.ai=function(t){return this===t||!!xR(this,t)&&(this.XL===t.XL&&this.YL===t.YL&&this.GL===t.GL&&(LR(this.Ci,t.Ci)&&LR(this.bi,t.bi)))},ft(n,[{key:"ni",get:function(){return en.ii}},{key:"Ci",get:function(){return this.KL}},{key:"hi",get:function(){return this.XL}},{key:"di",get:function(){return this.GL}},{key:"li",get:function(){return this.YL}},{key:"pi",get:function(){return void 0===this.YL?this.XL:this.YL+":"+this.XL}},{key:"Ai",get:function(){var t=[];return this.JL(t),t.join("")}}]),n}(IR),NR=function(){function t(t){this.P=void 0,this.P=t}return ft(t,[{key:"Pi",get:function(){return this.P}}]),t}(),OR=function(t){function n(n){return t.call(this,n)||this}vt(n,t);var i=n.prototype;return i.fi=function(){return new n(this.Pi)},i.ai=function(t){return this===t||!!xR(this,t)&&this.Pi===t.Pi},ft(n,[{key:"ni",get:function(){return en.ri}}]),n}(NR),CR=function(t){function n(n){return t.call(this,n)||this}vt(n,t);var i=n.prototype;return i.fi=function(){return new n(this.Pi)},i.ai=function(t){return this===t||!!xR(this,t)&&this.Pi===t.Pi},ft(n,[{key:"ni",get:function(){return en.ui}}]),n}(NR),AR=function(t){function n(){return t.apply(this,arguments)||this}vt(n,t);var i=n.prototype;return i.fi=function(t){var i=new n;return t&&this.bi.forEach(function(n){return i.ki(n.fi(t))}),i},i.ai=function(t){return this===t||!!xR(this,t)&&LR(this.bi,t.bi)},ft(n,[{key:"ni",get:function(){return en.si}},{key:"xi",get:function(){return this.Si[0]}}]),n}(IR);function PR(t){return rn(t)}function xR(t,n){return t.ni===n.ni}function LR(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++)if(!t[i].ai(n[i]))return!1;return!0}var BR,MR=["adBreak"],FR=["adBreak"];function UR(t){return void 0===t.adBreak||void 0===t.adBreak.ads?t:He({},t,{adBreak:He({},t.adBreak,{ads:t.adBreak.ads.map(function(t){t.adBreak;return Zb(t,MR)})})})}function VR(t){return void 0===t.ads?t:He({},t,{ads:t.ads.map(function(t){t.adBreak;return Zb(t,FR)})})}function qR(t){return"string"==typeof t.date?new Date(t.date):t.date}function zR(t){var n;return t.cue.track?(n=HR(t.cue,t.cue.track.type)).track={uid:t.cue.track.uid}:n=HR(t.cue,""),n}function WR(t){var n=[];return function t(i){if(Array.isArray(i))return i.map(t);if("object"==typeof i&&null!==i&&v.keys(i).length){if(n.includes(i))return"[Circular ~]";n.push(i);var e=v.entries(i);return v.fromEntries(e.map(function(i){var e=i[0],r=i[1],u=t(r);return"object"==typeof r&&null!==r&&"[Circular ~]"!==u&&n.pop(r),[e,u]}))}return i}(t)}function HR(t,n){var i={};return i.content=t.content,i.endTime=t.endTime,i.startTime=t.startTime,i.id=t.id,i.uid=t.uid,function(){switch(n){case"webvtt":i.align=t.align,i.line=t.line,i.lineAlign=t.lineAlign,i.position=t.position,i.positionAlign=t.positionAlign,i.region=t.region,i.size=t.size,i.snapToLines=t.snapToLines,i.text=t.text,i.vertical=t.vertical;break;case"ttml":i.content=function t(n){var i=n.children;if(0!==i.length)for(var e=0;e<i.length;e++){var r=i.item(e);return"image"===r.nodeName||"smpte:image"===r.nodeName?r:t(r)}}(t.content).innerHTML;for(var e=t.content,r={};e.firstChild&&e.firstChild.outerHTML;){(new ER).oi(e.firstChild.outerHTML).xi.Ci.forEach(function(t){r[t.hi]=t.wi}),e=e.firstChild}i.ttmlAttributes=r;break;case"daterange":var u={};for(var s in t.customAttributes){var o=t.customAttributes[s];if("object"==typeof(a=o)&&null!==a){var c=jR(o);u[s]={type:BR.QL,value:c}}else XR(o)?u[s]={type:BR.ZL,value:o}:u[s]={type:BR.tB,value:String(o)}}i.attributedClass=String(t.class),i.startDate=t.startDate,i.endDate=t.endDate,i.duration=t.duration,i.plannedDuration=t.plannedDuration,i.endOnNext=t.endOnNext,i.scte35Cmd=jR(t.scte35Cmd),i.scte35Out=jR(t.scte35Out),i.scte35In=jR(t.scte35In),i.customAttributes=u}var a}(),i}function jR(t){if(void 0!==t)return _u(t)}function $R(t){var n={};if(n.kind=t.kind,n.language=t.language,n.label=t.label,n.id=t.id,n.uid=t.uid,n.src=t.src,"cues"in t){n.inBandMetadataTrackDispatchType=t.inBandMetadataTrackDispatchType,n.mode=t.mode,n.type=t.type;var i=[];if(t.cues)for(var e=0;e<t.cues.length;e++){var r=t.cues[e];i.push(HR(r,t.type))}n.cues=i;var u=[];if(t.activeCues)for(var s=0;s<t.activeCues.length;s++){var o=t.activeCues[s];u.push(HR(o,t.type))}n.activeCues=u}else"enabled"in t&&(n.enabled=t.enabled);return n}function XR(t){return"number"==typeof t}!function(t){t.tB="daterange-ca-type_string",t.ZL="daterange-ca-type_number",t.QL="daterange-ca-type_arraybuffer"}(BR||(BR={}));var GR={cue:function(t){var n={};switch(n.date=qR(t),n.type=t.type,t.type){case"enter":case"exit":case"update":n.cue=zR(t)}return n},textTrack:function(t){var n={};switch(n.date=qR(t),n.type=t.type,t.type){case"addcue":var i=t.cue;QR().register(i);var e=JR()[ZR()].eventListeners;t.cue.addEventListener("enter",function(t){e.InternalCueHelperEvent(t)}),t.cue.addEventListener("exit",function(t){e.InternalCueHelperEvent(t)}),t.cue.addEventListener("update",function(t){e.InternalCueHelperEvent(t)});case"removecue":case"entercue":case"exitcue":n.cue=zR(t);break;case"cuechange":for(var r=[],u=0;u<t.track.activeCues.length;u++){var s=t.track.activeCues[u];r.push(HR(s,t.track.type))}n.track={activeCues:r,uid:t.track.uid}}return n},textTrackList:function(t){var n,i={track:$R(t.track),date:qR(t),type:t.type},e=null==(n=t.track)?void 0:n.cues,r=QR();if(e)switch(t.type){case"addtrack":e.forEach(r.register);break;case"removetrack":e.forEach(function(t){return r.remove(t.uid)})}return i},default:function(t){var n={};switch(n.date=qR(t),n.type=t.type,t.type){case"play":case"playing":case"pause":case"seeking":case"seeked":case"ended":case"waiting":case Rc.Ha:n.currentTime=t.currentTime,n.volume=t.volume;break;case"emptied":n.currentTime=t.currentTime;break;case"timeupdate":n.currentTime=t.currentTime,n.currentProgramDateTime=t.currentProgramDateTime;break;case"progress":n.currentTime=t.currentTime;break;case"ratechange":n.currentTime=t.currentTime,n.playbackRate=t.playbackRate;break;case"durationchange":n.duration=t.duration;break;case"sourcechange":n.source=t.source;break;case"readystatechange":case"loadedmetadata":case"loadeddata":case"loadstart":case"canplay":case"canplaythrough":n.currentTime=t.currentTime,n.readyState=t.readyState;break;case"error":n.error=t.error,n.errorObject=He({name:t.errorObject.name,cause:t.errorObject.cause},t.errorObject);break;case"addtrack":case"removetrack":case"change":n.track=$R(t.track);break;case"adbreakbegin":case"adbreakend":n.ad=VR(t.ad);break;case"adloaded":case"adimpression":n.ad=UR(t.ad);break;case"aderror":t.nB&&(n.nB=t.nB),t.message&&(n.message=t.message);break;case"statechange":n.state=t.state;break;case"presentationmodechange":case"resize":break;case"adfirstquartile":case"admidpoint":case"adthirdquartile":case"adbegin":case"adend":n.currentTime=t.currentTime,n.ad=UR(t.ad)}return WR(n)},minimizeCueHelper:function(t){var n={};return n.date=qR(t),n.type=t.type,n.cue=zR(t),n.track={uid:t.cue.track.uid},n},adReplacer:UR,adBreakReplacer:VR,removeCircularReferences:WR},YR=function(){this.stringify=pR,this.minimize=GR};function KR(){return Z.self}function JR(){return KR().THEOplayerBridge}function QR(){return KR().THEOCueMirrorMap}function ZR(){return KR().THEOplayerGlobalID}function tI(){var t=KR();if(t.THEOplayerBridge){var n=new gR;t.THEOplayerBridge=sw(n,t.THEOplayerBridge)}else t.THEOplayerBridge=new gR;t.THEOplayerUtils||(t.THEOplayerUtils=new YR),t.THEOCueMirrorMap||(t.THEOCueMirrorMap=new yR)}tI();var nI=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.oi=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new cn(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new cn;return new iI(n)},n}(an),iI=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.fi=function(t){return new n(this.gi.cloneNode(t))},ft(n,[{key:"bi",get:function(){return void 0===this.yi&&(this.yi=uI(this.gi.childNodes)),this.yi}},{key:"xi",get:function(){return new eI(this.gi.documentElement)}}]),n}(gn),eI=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.fi=function(t){var i=new n(this.gi.cloneNode(t));return i.Ci.length<1&&this.Ci.length>0&&this.Ci.forEach(function(t){i.Ni(t.vi,t.wi)}),i},ft(n,[{key:"bi",get:function(){return void 0===this.yi&&(this.yi=uI(this.gi.childNodes)),this.yi}}]),n}(vn);function rI(t){switch(t.nodeType){case en.ii:return new eI(t)}return mn(t)}function uI(t){for(var n=[],i=0;i<t.length;i++){var e=rI(t.item(i));e&&n.push(e)}return n}dt(new(function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).iB=new nI,n}return vt(n,t),n.prototype.oi=function(t){return this.iB.oi(t)},n}(jl)));var sI=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).type=n,e.detail=i,e}return vt(n,t),n}(uu),oI=function(t){function n(){return t.apply(this,arguments)||this}vt(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.Yr(new sI(t,n))},i.addEventListener=function(t,n){this.Kr(t,n)},i.removeEventListener=function(t,n){this.tu(t,n)},n}(Pw);function cI(t,n){return t.ey<=n&&t.uy>n}function aI(t,n){return function(t,n){return xr(t.ey,n.ey,my)}(t,n)||function(t,n){return xr(t.uy,n.uy,my)}(t,n)}function fI(t,n){var i=function(t,n,i,e,r,u,s){void 0===r&&(r=!1),void 0===u&&(u=0),void 0===s&&(s=t.length);for(var o=u,c=s-1;o<=c;){var a=o+(c-o>>1),f=e(i(t[a]),n);if(f<0)o=a+1;else if(f>0)c=a-1;else{if(!(r&&a>u&&0===e(i(t[a-1]),n)))return a;c=a-1}}return~o}(t,n,Mt,aI,!0);if(i<0)return i;for(;i<t.length&&aI(n,t[i])===Dr.Ir;i++)if(t[i].yy(n))return i;return-(i+1)}function hI(t){var n=t.Ld;if(!n)return-1;if(t instanceof by)return n.eB(t);var i=n.Fl;if(!i)return-1;var e=fI(i.hl,t);return e>=0?e:-1}var vI=function(t){function n(n,i){var e;return(e=t.call(this,ay.Qg,n)||this).Dm=i,e}return vt(n,t),n.prototype.xd=function(){return new dI(this.iy.Pd)},n}(vy),dI=function(t){function n(n){return t.call(this,"enter",n)||this}return vt(n,t),n}(dy),lI=function(t){function n(n,i){var e;return(e=t.call(this,ay.ty,n)||this).Dm=i,e}return vt(n,t),n.prototype.xd=function(){return new wI(this.iy.Pd)},n}(vy),wI=function(t){function n(n){return t.call(this,"exit",n)||this}return vt(n,t),n}(dy),gI=function(t){function n(n){var i;return(i=t.call(this,Xl.Vd)||this).iy=n,i}return vt(n,t),n.prototype.xd=function(){return new yI(this.iy.Pd)},n}(Gl),yI=function(t){function n(n){var i;return(i=t.call(this,"entercue")||this).cue=n,i}return vt(n,t),n}(Yl),mI=function(t){function n(n){var i;return(i=t.call(this,Xl.zd)||this).iy=n,i}return vt(n,t),n.prototype.xd=function(){return new bI(this.iy.Pd)},n}(Gl),bI=function(t){function n(n){var i;return(i=t.call(this,"exitcue")||this).cue=n,i}return vt(n,t),n}(Yl),pI=function(t){function n(n){var i;return(i=t.call(this,Xl.Hd)||this).Ld=n,i}return vt(n,t),n.prototype.xd=function(){return new _I(this.Ld.Pd)},n}(Gl),_I=function(t){function n(n){var i;return(i=t.call(this,"cuechange")||this).track=n,i}return vt(n,t),n}(Yl);function kI(t,n){return Pr(t.Dm,n.Dm)||function(t,n){return t.Ld===n.Ld?Ar(hI(t),hI(n)):eb(t.Ld,n.Ld)}(t.iy,n.iy)||function(t,n){return t===n?Dr.Ir:t===ay.Qg?Dr.Nr:Dr.Dr}(t.type,n.type)}var TI=function(){function t(t,n){var i=this;this.yI=void 0,this.rB=void 0,this.Kw=[],this.uB=0,this.sB=0,this.oB=[],this.cB=!1,this.aB=!1,this.fB=void 0,this.hB=function(){i.uB=0,i.vB(),i.dB()},this.lB=function(){i.vB(),i.dB()},this.wB=function(){i.aB=!0,i.fB=i.yI.bw,i.gB()},this.yB=function(){i.vB(),i.dB()},this.mB=function(){i.bB(),i.vB(),i.dB()},this.pB=function(){i._B()},this.kB=function(t){Mr(i.oB,t.iy),i._B()},this.rB=n,this.yI=t,t.Kr(Rc.Wa,this.lB),t.Kr(Rc.Oa,this.lB),t.Kr(eg.mw,this.lB),t.Kr(Rc.Na,this.lB),t.Kr(Rc.Ba,this.wB),t.Kr(Rc.La,this.yB),this._B()}var n=t.prototype;return n.fl=function(){Vr(this.oB);for(var t=0,n=this.Kw.slice();t<n.length;t++){var i=n[t];this.cl(i)}this.gB(),this.uB=0,this.sB=0,this.cB=!1,this.aB=!1,this.fB=void 0},n.ol=function(t){Ur(this.Kw,t)||(this.Kw.push(t),t.Kr(Xl.Bd,this.pB),t.Kr(Xl.Fd,this.kB),t.Kr(Xl.$d,this.mB),t.Fl.vl&&this._B(),this.bB())},n.cl=function(t){if(Mr(this.Kw,t)){if(t.tu(Xl.Bd,this.pB),t.tu(Xl.Fd,this.kB),t.tu(Xl.$d,this.mB),t.Fl.vl){for(var n=0,i=t.Fl.hl;n<i.length;n++){var e=i[n];Mr(this.oB,e)}this._B()}this.bB()}},n.bB=function(){this.cB=this.Kw.some(function(t){return t.Cl!==Tw.xl})},n.dB=function(){this.yI.Rw||this.yI.Sw?this.gB():this._B()},n._B=function(){this.cB&&(this.uB||(this.uB=this.rB.V(this.hB)))},n.gB=function(){this.uB&&(this.rB.TB(this.uB),this.uB=0)},n.vB=function(){var t;if(this.cB&&!this.yI.Rw){var n=this.Kw,i=this.sB,e=null!=(t=this.fB)?t:this.yI.bw,r=e-i<-.1,u=this.aB||r;u&&e>i&&e-i<.1&&(u=!1),this.aB=!1,this.fB=void 0;for(var s,o=[],c=0;c<n.length;c++){var a=n[c];if(a.Cl!==Tw.xl){a.SB(e,u);for(var f=0,h=a.Ul.hl;f<h.length;f++){var v=h[f];o.push(v)}}}if(u)s=this.oB;else{s=[];for(var l=0;l<n.length;l++){var w=n[l];w.Cl!==Tw.xl&&ib(w,i-1/6,e,s)}}for(var g=s.length-1;g>=0;g--)Ur(o,s[g])&&Fr(s,g);var y=[];if(!u)for(var m=s.length-1;m>=0;m--){var b=s[m];b.ey>=i&&b.uy<=e&&(y.push(b),Fr(s,m))}for(var p=[],_=[],k=0;k<y.length;k++){var T=y[k];T.my||p.push(new vI(T,T.ey)),p.push(new lI(T,d.max(T.ey,T.uy)))}for(var S=0,E=s;S<E.length;S++){var R=E[S];R.my&&(p.push(new lI(R,d.max(R.ey,R.uy))),R.my=!1)}for(var I=0;I<o.length;I++){var D=o[I];D.my||(p.push(new vI(D,D.ey)),D.my=!0)}p.sort(kI);for(var N=0;N<p.length;N++){var O=p[N],C=O.iy;C.Yr(O);var A=C.Ld;A&&(O.type===ay.Qg?A.Yr(new gI(C)):A.Yr(new mI(C)),Ur(_,A)||_.push(A))}_.sort(eb);for(var P=0;P<_.length;P++){var x=_[P];x.Yr(new pI(x))}this.sB=e,this.oB=o}},n.et=function(){this.fl(),this.yI.tu(Rc.Wa,this.lB),this.yI.tu(Rc.Oa,this.lB),this.yI.tu(eg.mw,this.lB),this.yI.tu(Rc.Na,this.lB),this.yI.tu(Rc.Ba,this.wB),this.yI.tu(Rc.La,this.yB)},t}(),SI=function(){function t(){}var n=t.prototype;return n.V=function(t){return DS(t)},n.TB=function(t){NS(t)},t}(),EI=new SI,RI=function(t){function n(n,i){return void 0===i&&(i=EI),t.call(this,n,i)||this}return vt(n,t),n}(TI),II=function(t){function n(){return t.call(this,Rc.Sa)||this}return vt(n,t),n}(uu),DI=function(t){function n(n){var i;return(i=t.call(this,Rc.Ca)||this).currentTime=n,i}return vt(n,t),n}(uu),NI=function(t){function n(n,i){var e;return(e=t.call(this)||this).EB=void 0,e.RB=void 0,e.IB=function(t){e.EB.DB("THEOplayerABRSetTargetBuffer",t.xA),e.Yr(t)},e.NB=function(t){e.EB.DB("THEOplayerABRSetStrategy",t.BA),e.Yr(t)},e.EB=n,e.RB=i,e.RB.Kr("LA",e.IB),e.RB.Kr("MA",e.NB),e}return vt(n,t),ft(n,[{key:"$A",get:function(){var t;switch(this.BA.type){case tE.PERFORMANCE:return 1;case tE.QUALITY:return 0;case tE.BANDWIDTH:return null!=(t=this.BA.metadata)&&t.bitrate&&!g(this.BA.metadata.bitrate)?this.BA.metadata.bitrate:0;default:return 0}}},{key:"Pd",get:function(){return this.RB.Pd}},{key:"BA",get:function(){return this.RB.BA},set:function(t){this.RB.BA=t}},{key:"xA",get:function(){return this.RB.xA},set:function(t){this.RB.xA=t}},{key:"FA",get:function(){return this.RB.FA},set:function(t){this.RB.FA=t}}]),n}(eu),OI=function(){function t(t){this.OB=void 0,this.Ad=void 0,this.OB=t}var n=t.prototype;return n.xd=function(){return function(t){for(var n=[],i=0;i<t.vl;i++)n[i]=t.mu(i).Pd;return n.item=function(n){var i=0|n,e=t.mu(i);return e&&e.Pd||void 0},v.defineProperty(n,"constructor",{value:wy}),n}(this)},n.Vg=function(t){for(var n=this.OB,i=n.length-1;i>=0;i-=1){var e=n[i];if(t.yy(e))return!0}return!1},n.mu=function(t){return this.OB[t]},ft(t,[{key:"hl",get:function(){return this.OB}},{key:"vl",get:function(){return this.OB.length}},{key:"Pd",get:function(){if(this.Ad){var t=this.OB;this.Ad.length=t.length;for(var n=0;n<t.length;n++)this.Ad[n]=t[n].Pd}else this.Ad=this.xd();return this.Ad}}]),t}(),CI=function(t){function n(n,i){var e;return(e=t.call(this,Xl.Gd)||this).Ld=n,e.Ml=i,e}return vt(n,t),n.prototype.xd=function(){return new AI(this.Ld.Pd,Ow(this.Ml))},n}(Gl),AI=function(t){function n(n,i){var e;return(e=t.call(this,"readystatechange")||this).track=n,e.readyState=i,e}return vt(n,t),n}(Yl),PI=function(t){function n(n){var i;return(i=t.call(this,Xl.Kd)||this).Ld=n,i}return vt(n,t),n.prototype.xd=function(){return new xI(this.Ld.Pd)},n}(Gl),xI=function(t){function n(n){var i;return(i=t.call(this,"typechange")||this).track=n,i}return vt(n,t),n}(Yl),LI=function(t){function n(n){var i;return(i=t.call(this,Xl.Bd)||this).iy=n,i}return vt(n,t),n.prototype.xd=function(){return new BI(this.iy.Pd)},n}(Gl),BI=function(t){function n(n){var i;return(i=t.call(this,"addcue")||this).cue=n,i}return vt(n,t),n}(Yl),MI=function(t){function n(n){var i;return(i=t.call(this,Xl.Fd)||this).iy=n,i}return vt(n,t),n.prototype.xd=function(){return new FI(this.iy.Pd)},n}(Gl),FI=function(t){function n(n){var i;return(i=t.call(this,"removecue")||this).cue=n,i}return vt(n,t),n}(Yl),UI=function(t){function n(n,i,e,r,u,s,o,c){var a;return(a=t.call(this)||this).Ad=void 0,a.jo=void 0,a.Wg=ty(),a.CB=!1,a.AB=void 0,a.PB=void 0,a.zg=void 0,a.xs=void 0,a.MD=Tw.xl,a.xB=sy.NONE,a.LB=void 0,a.Li=void 0,a.BB=void 0,a.OB=[],a.MB=[],a.FB=void 0,a.UB=void 0,a.VB=0,a.qB=0,a.jo=i||"",a.AB=c||"",a.PB=n,a.xs=r||"",a.CB=Boolean(u),a.BB=Boolean(o),a.Li=s||oy.DEFAULT,a.zg=e||"",a.FB=new OI(a.OB),a.UB=new OI(a.MB),a}vt(n,t);var i=n.prototype;return i.zB=function(t){return Br(this.FB.hl,function(n){return n.kl===t})},i.xd=function(){return Iw(this)},i.QD=function(t){var n=function(t){if("string"==typeof t){var n=t.toLowerCase();switch(n){case Tw.xl:case Tw.Pl:case Tw.Al:return n}}else if("number"==typeof t)switch(t){case 0:return Tw.xl;case 1:return Tw.Pl;case 2:return Tw.Al}return Tw.xl}(t);n!==this.Cl&&(this.MD=n,n===Tw.xl&&(this.MB.forEach(function(t){t.my=!1}),Vr(this.MB),this.qB=0),this.Yr(new nw(this)))},i.IT=function(t){if(t&&!t.Ld){var n=fI(this.Fl.hl,t);if(!(n>=0)){t.Ld=this;var i=-(n+1);this.OB.splice(i,0,t),this.WB(i),t.gy=i,i<this.qB&&(this.qB=i),this.Yr(new LI(t))}}},i.vT=function(t){if(t&&t.Ld===this){var n=this.eB(t);if(!(n<0)){t.my=!1;var i=this.MB,e=fI(i,t);e>=0&&Fr(i,e),Fr(this.OB,n),this.WB(n),t.gy=-1,this.qB>n&&--this.qB,this.Yr(new MI(t))}}},i.SB=function(t,n){var i=this.MB,e=this.OB,r=this.qB,u=!1;n&&(r=0);for(var s=i.length-1;s>=0;s--){cI(i[s],t)||(u=!0,Fr(i,s))}for(;r<e.length&&e[r].ey<=t;){var o=e[r];if(0===t)break;cI(o,t)&&!Ur(i,o)&&(u=!0,i.push(o)),r++}u&&Or(i,aI),this.qB=r},i.eB=function(t){return(-1===t.gy||t.gy>=this.VB)&&this.HB(),t.gy},i.HB=function(){for(var t=this.OB,n=this.VB;n<t.length;n++)t[n].gy=n;this.VB=t.length},i.WB=function(t){t<this.VB&&(this.VB=t)},i.Ll=function(t){this.Bl||(this.Cl=t)},i.et=function(){this.Zr();for(var t=this.OB.slice(),n=0;n<t.length;n++){t[n].et()}Vr(this.OB),Vr(this.MB)},ft(n,[{key:"Ul",get:function(){return this.UB}},{key:"Fl",get:function(){return this.FB}},{key:"NT",get:function(){return this.CB},set:function(t){this.CB=t}},{key:"Bl",get:function(){return this.BB}},{key:"Pd",get:function(){return this.Ad||(this.Ad=this.xd()),this.Ad}},{key:"kl",get:function(){return this.jo}},{key:"Tl",get:function(){return this.Wg}},{key:"Ol",get:function(){return this.AB},set:function(t){this.AB=t}},{key:"Sl",get:function(){return this.PB}},{key:"El",get:function(){return this.zg},set:function(t){t!==this.zg&&(this.zg=t,this.Yr(new Jg(this)))}},{key:"Rl",get:function(){return this.xs}},{key:"Cl",get:function(){return this.MD},set:function(t){this.QD(t)}},{key:"Ml",get:function(){return this.xB},set:function(t){this.xB!==t&&(this.xB=t,this.Yr(new CI(this,this.xB)))}},{key:"Vl",get:function(){return this.LB},set:function(t){this.LB=t}},{key:"gr",get:function(){return this.Li},set:function(t){this.Li!==t&&(this.Li=t,this.Yr(new PI(this)))}}]),n}(eu);function VI(t,n,i){for(var e=t[n].ey,r=n;r>=0&&t[r].ey===e;r--)t[r].uy=i}var qI,zI=function(t){function n(n,i,e){var r;return(r=t.call(this,n,1/0,i,!1,e)||this).jB=void 0,r}return vt(n,t),n.prototype.yy=function(n){return this===n||aw(this,n)&&t.prototype.yy.call(this,n)&&(i=n,this.sy===i.sy);var i},ft(n,[{key:"Pd",get:function(){return this.Ad||(this.Ad=ly(this)),this.Ad}}]),n}(by),WI=function(t){function n(n,i,e){return void 0===e&&(e=oy.DEFAULT),t.call(this,Ym.rp,"",i||"","",!1,e,!1,n)||this}return vt(n,t),n}(UI),HI=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).jB=void 0,e.gr=oy.ID3,e}vt(n,t);var i=n.prototype;return i.IT=function(n){!function(t,n){if(0!==n.length){var i=n.length-1;if(n[i].ey<t.ey)VI(n,i,t.ey);else{var e=n[0];if(e.ey>t.ey)t.uy=e.ey;else{var r=fI(n,t);if(!(r>=0)){var u=-(r+1),s=u-1;if(s>=0&&n[s].ey<t.ey&&VI(n,s,t.ey),u<n.length){var o=n[u];t.uy=o.ey}}}}}}(n,this.OB),t.prototype.IT.call(this,n)},i.xd=function(){return Iw(this)},n}(WI),jI=(Rc.Oa,Rc.Na,eg.mw,Rc.Wa,Rc.Ca,Rc.Sa,Rc.Ba,Rc.La,Rc._a,Rc.Aa,Rc.Ha,Rc.ba,eg.Gd,Rc.xa,Sw.Nl,iu.hu,iu.du,Rc.ga,Rc.wa,Rc.ja,{$B:!1,XB:50}),$I=function(){function t(t,n,i){this.Fc=void 0,this.kr=void 0,this.Yc=void 0,this.vc=void 0,this.Fc=t,this.kr=i,this.Yc=n}var n=t.prototype;return n.DT=function(t){throw new f("Not implemented yet.")},n.GB=function(t,n){var i,e;return We.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,We.awrap(this.kr.Er(t.yr,n));case 2:return i=r.sent,r.next=5,We.awrap(i._c());case 5:return e=r.sent,r.next=8,We.awrap(this.YB(e));case 8:return r.abrupt("return",e);case 9:case"end":return r.stop()}},null,this,null,j)},n.KB=function(t){return!1},n.JB=function(t){return j.resolve(void 0)},n.Lr=function(){return We.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,We.awrap(this.YB(void 0));case 2:case"end":return t.stop()}},null,this,null,j)},n.YB=function(t){var n;return We.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n=this.QB(t),i.next=3,We.awrap(n);case 3:case"end":return i.stop()}},null,this,null,j)},n.QB=function(t){var n;return We.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!(n=this.vc)){i.next=5;break}return i.next=4,We.awrap(n.mc(this.Yc));case 4:this.vc=void 0;case 5:if(!t){i.next=9;break}return i.next=8,We.awrap(t.yc(this.Yc));case 8:this.vc=t;case 9:case"end":return i.stop()}},null,this,null,j)},n.ET=function(t,n,i){throw new f("Not implemented yet.")},ft(t,[{key:"lc",get:function(){return this.Fc}},{key:"xg",get:function(){throw new f("Not implemented yet.")},set:function(t){throw new f("Not implemented yet.")}},{key:"Lg",get:function(){return new pk([0,1/0])}},{key:"ig",get:function(){throw new f("Not implemented yet.")}},{key:"ZB",get:function(){throw new f("Not implemented yet")}},{key:"ng",get:function(){throw new f("Not implemented yet.")}},{key:"tM",get:function(){throw new f("Not implemented yet")}},{key:"nM",get:function(){throw new f("Not implemented yet")}}]),t}();!function(t){t.iM="webkitneedkey",t.eM="webkitkeymessage",t.rM="webkitkeyerror"}(qI||(qI={}));var XI,GI,YI=function(t){function n(n,i){var e;return(e=t.call(this,qI.iM)||this).initData=n,e.sessionId=i,e}return vt(n,t),n}(uu),KI=function(t){function n(n,i){var e;return(e=t.call(this,qI.eM)||this).message=n,e.destinationURL=i,e}return vt(n,t),n}(uu),JI=function(t){function n(){return t.call(this,qI.rM)||this}return vt(n,t),n}(uu),QI=function(t){function n(n,i,e,r,u){var s;return(s=t.call(this)||this).Ec=new ls,s.Uc=void 0,s.Dc=new du,s.qc=new ls,s.uM=function(t){s.Uc?(s.Uc.Lu(void 0),s.Uc=void 0):s.Pc("internal-error"),s.Yr(new fu)},s.sM=function(t){s.Uc&&(s.Uc.xu(void 0),s.Uc=void 0),s.Yr(new au(un(s),"license-request",vs(t.message).buffer,t.destinationURL||void 0))},s.Lc=n,s.Zo=i,s.oM=e,s.Xc=r,s.Wc=u,s}vt(n,t);var i=n.prototype;return i.ec=function(t,n,i){var e;return We.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=i&&i.fairplay&&i.fairplay.Hc){t.next=3;break}throw new h("Expected FairPlay contentId to be defined but was "+e+".");case 3:return t.next=5,We.awrap(this.cM(fs(n),e));case 5:this.Pc("usable"),this.qc.xu(),this.qc=new ls;case 8:case"end":return t.stop()}},null,this,null,j)},i.rc=function(t){return We.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},null,null,null,j)},i.sc=function(t){var n;return We.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==(n=fs(t)).byteLength){i.next=3;break}throw new h("Cannot call update with an empty response.");case 3:return this.Uc=new ls,this.oM.sc(this.Xc,n),i.next=7,We.awrap(this.Uc.Cu);case 7:case"end":return i.stop()}},null,this,null,j)},i.ic=function(){return We.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,We.awrap(this.qc);case 2:return this.oM.tu(qI.eM,this.sM),this.oM.tu(qI.rM,this.uM),this.qc.qr(),this.Ec.xu(void 0),t.abrupt("return",this.Ec.Cu);case 7:case"end":return t.stop()}},null,this,null,j)},i.uc=function(){return We.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}},null,null,null,j)},i.cM=function(t,n){var i;return We.async(function(e){for(;;)switch(e.prev=e.next){case 0:i=uc(t,n,this.Wc),this.oM.Kr(qI.eM,this.sM),this.oM.Kr(qI.rM,this.uM),this.oM.aM(this.Xc,i);case 4:case"end":return e.stop()}},null,this,null,j)},i.Pc=function(t){this.Dc._u(),this.Dc.pu(vu,t),this.Yr(new cu(this))},ft(n,[{key:"hc",get:function(){return this.Xc}},{key:"ac",get:function(){return NaN}},{key:"cc",get:function(){return this.Ec.Cu}},{key:"fc",get:function(){return this.Dc}}]),n}(eu),ZI=function(){function t(t,n,i){this.fM=void 0,this.Xc=void 0,this.Wc=void 0,this.oM=void 0,this.Zo=void 0,this.Fc=void 0,this.Lc=void 0,this.oM=t,this.Zo=n,this.Fc=i;var e=Ho(i)||"video/mp4";this.Lc=qo(e)}var i=t.prototype;return i.wc=function(t){var i;return We.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Wc){t.next=2;break}throw new sc(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return i=new QI(this.Lc,this.Zo,this.oM,this.Xc,this.Wc),this.fM=i,t.abrupt("return",i);case 5:case"end":return t.stop()}},null,this,null,j)},i.gc=function(t){return this.Wc=fs(t),j.resolve(!0)},i.yc=function(t){return We.async(function(n){for(;;)switch(n.prev=n.next){case 0:t.webkitSetMediaKeys(this);case 1:case"end":return n.stop()}},null,this,null,j)},i.mc=function(t){return We.async(function(n){for(;;)switch(n.prev=n.next){case 0:t.webkitSetMediaKeys(null);case 1:case"end":return n.stop()}},null,null,null,j)},i.createSession=function(){throw new f("Whoops.")},ft(t,[{key:"dc",get:function(){return this.Zo}},{key:"lc",get:function(){return this.Fc}},{key:"sessionId",set:function(t){this.Xc=t}}]),t}(),tD=function(){function t(t,n,i){this.hM=t,this.Zo=n,this.Fc=i}var n=t.prototype;return n.kc=function(){return this.Fc},n._c=function(){return We.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new ZI(this.hM,this.Zo,this.Fc));case 1:case"end":return t.stop()}},null,this,null,j)},ft(t,[{key:"dc",get:function(){return this.Zo}}]),t}(),nD=function(){function t(t){this.hM=void 0,this.hM=t}return t.prototype.Er=function(t,n){var i,e,r;return We.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=0;case 1:if(!(i<n.length)){u.next=9;break}if(e=n[i],!(r=zo(iD,ou,t,e))){u.next=6;break}return u.abrupt("return",new tD(this.hM,t,r));case 6:i++,u.next=1;break;case 9:throw new h("Unsupported key system configuration for "+t);case 10:case"end":return u.stop()}},null,this,null,j)},t}();function iD(t,n){return t===dr}!function(t){t.VN="vM"}(XI||(XI={})),function(t){t.dM="lM"}(GI||(GI={}));var eD,rD,uD;GI.dM;!function(t){t[t.wM=0]="wM",t[t.Ka=1]="Ka",t[t.gM=2]="gM"}(eD||(eD={})),function(t){t.yM="mM"}(rD||(rD={})),function(t){t[t.bM=0]="bM",t[t.pM=1]="pM",t[t._M=2]="_M"}(uD||(uD={}));var sD;St.Un,Rc.Oa,Rc.Na,Rc.Ba,Rc.La,Rc._a,Rc.Aa,eg.Gd,Sw.Nl,St.Pn||St.xn;!function(t){t.kM="closed",t.Tv="open",t._a="ended"}(sD||(sD={}));var oD,cD;Rc.Ha,Rc.Aa,Rc.Ba,Rc.Oa,Rc.Na,eg.Gd,Rc.Oa,Rc.Na,Rc.Ba,Rc.La,Rc._a,Sw.Nl;!function(t){t[t.ISO_8859_1=0]="ISO_8859_1",t[t.UTF16_BOM=1]="UTF16_BOM",t[t.UTF16=2]="UTF16",t[t.UTF8=3]="UTF8"}(oD||(oD={})),function(t){t[t.V22=2]="V22",t[t.V23=3]="V23",t[t.V24=4]="V24"}(cD||(cD={}));var aD=function(t){function n(n){var i;return(i=t.call(this,0,n.sy)||this).TM=void 0,i.TM=n,i.uy=i.TM.ey,i}return vt(n,t),ft(n,[{key:"kl",get:function(){return this.TM.kl}},{key:"by",get:function(){return this.TM.by},set:function(t){this.TM.by=t}}]),n}(zI);function fD(t){return void 0===t.jB&&(t.jB=new aD(t)),t.jB}var hD=function(t){function n(n,i){var e;(e=t.call(this,n.Ol,n.El)||this).SM=void 0,e.EM=void 0,e.RM=void 0,e.IM=function(t){e.DM(t.iy)},e.NM=function(t){var n=t.iy;if(void 0!==n.jB){var i=n.jB;n.jB=void 0,e.vT(i),i.et()}},e.OM=function(t){var n=fD(t.iy);n.my||e.CM(n),e.AM(n)},e.PM=function(t){var n=t.iy,i=fD(n);e.EM.bw<n.ey&&e.CM(i)},e.xM=function(){var t=e.RM,n=e.Cl;if(e.RM=n,n===Tw.xl){for(var i=0,r=e.MB;i<r.length;i++){r[i].my=!1}Vr(e.MB)}else if(t===Tw.xl)for(var u=e.EM.bw,s=0,o=e.OB;s<o.length;s++){var c=o[s];u<c.uy&&e.CM(c)}},e.gr=oy.ID3,e.EM=i,e.SM=n,e.RM=n.Cl,n.Kr(Xl.Bd,e.IM),n.Kr(Xl.Fd,e.NM),n.Kr(Xl.Vd,e.OM),n.Kr(Xl.zd,e.PM),n.Kr(Xl.$d,e.xM);for(var r=0,u=e.SM.Fl.hl;r<u.length;r++){var s=u[r];e.DM(s)}return e}vt(n,t);var i=n.prototype;return i.CM=function(t){var n=fI(this.MB,t);if(!(n>=0)){var i=-(n+1);this.MB.splice(i,0,t),t.my=!0,t.Yr(new vI(t,this.EM.bw)),this.Yr(new gI(t)),this.Yr(new pI(this))}},i.AM=function(t){var n=fI(this.MB,t);n>=0&&Fr(this.MB,n),t.my=!1,t.Yr(new lI(t,this.EM.bw)),this.Yr(new mI(t)),this.Yr(new pI(this))},i.et=function(){this.SM.tu(Xl.Bd,this.IM),this.SM.tu(Xl.Fd,this.NM),this.SM.tu(Xl.Vd,this.OM),this.SM.tu(Xl.zd,this.PM),this.SM.tu(Xl.$d,this.xM),t.prototype.et.call(this)},i.DM=function(t){var n=fD(t);(this.IT(n),this.Cl!==Tw.xl)&&(this.EM.bw<n.uy&&this.CM(n))},ft(n,[{key:"Sl",get:function(){return this.SM.Sl}},{key:"El",get:function(){return this.SM.El},set:function(t){this.SM.El=t}},{key:"Rl",get:function(){return this.SM.Rl}},{key:"kl",get:function(){return this.SM.kl}},{key:"Tl",get:function(){return this.SM.Tl}},{key:"Ol",get:function(){return this.SM.Ol}},{key:"Cl",get:function(){return this.SM.Cl},set:function(t){this.SM.Cl=t}},{key:"Ml",get:function(){return this.SM.Ml}},{key:"Vl",get:function(){return this.SM.Vl}}]),n}(WI),vD=function(t){function n(n){var i;return(i=t.call(this)||this).EM=void 0,i.EM=n,i}vt(n,t);var i=n.prototype;return i.ol=function(n){if(n.gr===oy.ID3){var i=n;return i.jB||(i.jB=new hD(i,this.EM)),t.prototype.ol.call(this,i.jB)}return t.prototype.ol.call(this,n)},i.cl=function(n){if(n.gr===oy.ID3){var i=n;return!!i.jB&&t.prototype.cl.call(this,i.jB)}return t.prototype.cl.call(this,n)},n}(Cw),dD=function(t){function n(n,i){var e;return(e=t.call(this)||this).LM=new Ze,e.zE=function(t){var n;return We.async(function(i){for(;;)switch(i.prev=i.next){case 0:if((n=t.Ld).gr){i.next=4;break}return i.next=4,We.awrap(n.ru(Xl.Kd));case 4:if(n.gr===oy.ID3){i.next=6;break}return i.abrupt("return");case 6:if(0!==n.Fl.vl){i.next=11;break}return i.next=9,We.awrap(n.ru(Xl.Bd));case 9:i.next=6;break;case 11:e.BM(n);case 12:case"end":return i.stop()}},null,null,null,j)},e.WE=function(t){var n=t.Ld;if(n.gr===oy.ID3&&e.LM.has(n.Tl)){var i=e.LM.get(n.Tl);e.cl(i),e._T.DT(i),n.tu(Xl.Bd,e.DM)}},e.DM=function(t){lD(t.iy)&&e.MM(t.iy)},e._T=n,e.FM=i,e.UM(),e}vt(n,t);var i=n.prototype;return i.UM=function(){this.FM.Kr(Wl.Dd,this.zE),this.FM.Kr(Wl.Od,this.WE)},i.VM=function(){this.FM.tu(Wl.Dd,this.zE),this.FM.tu(Wl.Od,this.WE)},i.BM=function(t){var n=t.Fl.hl[0];if(lD(n)){var i=function(t){var n=t.match(wD);if(!n)return;return{Ld:n[1],Rl:n[2]}}(n.sy.description),e=i.Ld,r=i.Rl;if(!this.qM(e,r)){var u=this._T.ET(Ym.ip,t.kl,e,r,!1,oy.TTML);this.ol(u),this.LM.set(t.Tl,u);for(var s=0,o=t.Fl.hl;s<o.length;s++){var c=o[s];lD(c)&&this.MM(c)}t.Kr(Xl.Bd,this.DM)}}},i.qM=function(t,n){return!!Br(this.Jp.hl,function(i){return i.El===t&&i.Rl===n})},i.MM=function(t){if(t.Ld)for(var n=this.LM.get(t.Ld.Tl),i=Um(t.sy.text,0,{sb:0,ob:1/0,cb:t.uy}),e=0;e<i.length;e++){var r=i[e];n.IT(r)}},i.fl=function(){var n,i,e,r,u;return We.async(function(s){for(;;)switch(s.prev=s.next){case 0:for(n=0,i=this.FM.hl;n<i.length;n++)i[n].tu(Xl.Bd,this.DM);for(e=0,r=this.Jp.hl;e<r.length;e++)u=r[e],this._T.DT(u);return this.LM.clear(),s.next=5,We.awrap(t.prototype.fl.call(this));case 5:case"end":return s.stop()}},null,this,null,j)},i.et=function(){return We.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.VM(),n.next=3,We.awrap(t.prototype.et.call(this));case 3:case"end":return n.stop()}},null,this,null,j)},n}(cb);function lD(t){return function(t){return"TXXX"===t.id||"TXX"===t.id}(n=t.sy)&&wD.test(n.description);var n}var wD=/^Track:(.+),Lang:(.+)$/;var gD,yD;new(function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Ad=void 0,n}return vt(n,t),ft(n,[{key:"Pd",get:function(){return this.Ad||(this.Ad=LE(this)),this.Ad}},{key:"Ex",get:function(){}},{key:"Rx",get:function(){}},{key:"Ix",get:function(){}},{key:"Dx",get:function(){}},{key:"Nx",get:function(){}},{key:"Ox",get:function(){}},{key:"Cx",get:function(){}}]),n}(eu));!function(t){t.zM='"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',t.WM='"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',t.HM='"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',t.jM='Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif'}(gD||(gD={})),function(t){t.BLACK="#000000",t.WHITE="#FFFFFF",t.GREEN="#00ff00",t.BLUE="#0000ff",t.CYAN="#00ffff",t.RED="#ff0000",t.YELLOW="#ffff00",t.MAGENTA="#ff00ff",t.TRANSPARENT="transparent"}(yD||(yD={}));var mD,bD;Xe({monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:"monospace, sans-serif",monospaceSerif:"monospace, serif",proportionalSansSerif:"Arial",proportionalSerif:"Times New Roman",default:"monospace, sans-serif;"}),Xe({lrtb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rltb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;unicode-bidi: bidi-override;",tbrl:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;",tblr:"-webkit-writing-mode: vertical-lr;writing-mode: vertical-lr;-webkit-text-orientation: upright;text-orientation: upright;",lr:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rl:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;",tb:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;"}),yD.WHITE,yD.TRANSPARENT,yD.TRANSPARENT;!function(t){t.$M="Data",t.XM="Tag",t.GM="StartTag",t.YM="StartTagClass",t.KM="StartTagAnnotation",t.JM="CharRefInAnnotation",t.QM="EndTag",t.ZM="TimestampTag"}(mD||(mD={})),function(t){t.tB="string",t.tF="starttag",t.nF="endtag",t.iF="timestamp"}(bD||(bD={}));var pD;yD.WHITE,yD.TRANSPARENT;!function(t){t.FONT_REGULAR="regular",t.FONT_UNDERLINE="underline",t.FONT_ITALICS="italics",t.FONT_UNDERLINE_ITALICS="underline-italics"}(pD||(pD={}));var _D;yD.WHITE,gD.HM,yD.BLACK,pD.FONT_REGULAR,yD.WHITE,pD.FONT_REGULAR,yD.WHITE,pD.FONT_UNDERLINE,yD.GREEN,pD.FONT_REGULAR,yD.GREEN,pD.FONT_UNDERLINE,yD.BLUE,pD.FONT_REGULAR,yD.BLUE,pD.FONT_UNDERLINE,yD.CYAN,pD.FONT_REGULAR,yD.CYAN,pD.FONT_UNDERLINE,yD.RED,pD.FONT_REGULAR,yD.RED,pD.FONT_UNDERLINE,yD.YELLOW,pD.FONT_REGULAR,yD.YELLOW,pD.FONT_UNDERLINE,yD.MAGENTA,pD.FONT_REGULAR,yD.MAGENTA,pD.FONT_UNDERLINE,yD.WHITE,pD.FONT_ITALICS,yD.WHITE,pD.FONT_UNDERLINE_ITALICS,yD.WHITE,pD.FONT_REGULAR,yD.WHITE,pD.FONT_UNDERLINE,yD.WHITE,pD.FONT_REGULAR,yD.WHITE,pD.FONT_UNDERLINE,yD.WHITE,pD.FONT_REGULAR,yD.WHITE,pD.FONT_UNDERLINE,yD.WHITE,pD.FONT_REGULAR,yD.WHITE,pD.FONT_UNDERLINE,yD.WHITE,pD.FONT_REGULAR,yD.WHITE,pD.FONT_UNDERLINE,yD.WHITE,pD.FONT_REGULAR,yD.WHITE,pD.FONT_UNDERLINE,yD.WHITE,pD.FONT_REGULAR,yD.WHITE,pD.FONT_UNDERLINE,yD.WHITE,pD.FONT_REGULAR,yD.WHITE,pD.FONT_UNDERLINE;!function(t){t.eF="HELLO",t.rF="HI_THERE",t.uF="INITIALIZE",t.sF="APPEND_INIT",t.oF="APPEND_DATA",t.cF="ACK",t.aF="REMOVE",t.fF="DESTROY_SESSION"}(_D||(_D={}));var kD=Ey.im,TD=new Ey(-1/0),SD=Ey.Fm,ED=new(function(t){function n(n,i){return t.call(this,n,i)||this}vt(n,t);var i=n.prototype;return i.Fy=function(t,n){return t.Wy(n)?Dr.Nr:t.yy(n)?Dr.Ir:Dr.Dr},i.Ug=function(t,n){return t.Ug(n)},i.Xy=function(t,n){return t.Xy(n)},i.zy=function(t,n){return t.zy(n)},i.UI=function(){return kD},i.VI=function(){return SD},i.HI=function(){return TD},n.cD=function(t){for(var i=[],e=0;e<t.length;e++)i.push(new Ey(t.start(e)),new Ey(t.end(e)));return new n(i)},n.hF=function(t){for(var i=[],e=[],r=0;r<t.vl;r++)i.push(new Ey(t.II(r))),i.push(new Ey(t.NI(r))),e.push(t.DI(r)),e.push(t.OI(r));return new n(i,e)},n.fD=function(t){return new n([t,t],[!0,!0])},i.MI=function(t,i){return new n(t,i)},i.LI=function(t){return t.Bm},n.hD=function(){return ED},n}(bk))([]),RD=(Gg.sv,Gg.ov,function(t){function n(n){var i;return(i=t.call(this,Rc.wa)||this).errorObject=void 0,i.errorObject=n,i}return vt(n,t),ft(n,[{key:"error",get:function(){return this.errorObject.message}},{key:"licenseAcquisitionURL",get:function(){return this.errorObject.url}},{key:"status",get:function(){return this.errorObject.status}},{key:"statusText",get:function(){return this.errorObject.statusText}},{key:"licenseAcquisitionMessage",get:function(){return this.errorObject.response}},{key:"systemCode",get:function(){return this.errorObject.systemCode}}]),n}(uu)),ID=function(t){function n(){return t.call(this,Rc.ga)||this}return vt(n,t),n}(uu),DD=function(t){function n(n){var i;return(i=t.call(this,"$a")||this).vF=n,i}return vt(n,t),n}(uu),ND=new nR,OD=function(t){function n(n){var i;return(i=t.call(this,"ic")||this).session=n,i}return vt(n,t),n}(uu),CD=function(t){function i(i,e,r){var u;return(u=t.call(this)||this).dF=!1,u.lF=!1,u.Xf=new zr,u.Qo=function(t){switch(t.cu){case"license-request":u.fS(t.ou,t.au).catch(function(t){return u.Cc(t)});break;default:u.Cc(new Hg(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Unsupported CDM message type: "+t.cu))}},u.wF=function(t){u.gF.fc.bu(function(t,n){switch(t){case"usable":st.Oe(function(){u.lF=!0,u.Yr(new ID)},100);break;case"expired":case"status-pending":break;case"output-restricted":case"internal-error":u.Yr(new DD(n))}})},u.yF=function(t){u.Cc(new Hg(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Unknown CDM error"))},u.gF=i,u.mF=e,u.bF=r,i.Kr("ou",u.Qo),i.Kr("su",u.wF),i.Kr("fu",u.yF),i.cc.then(function(){return u.pF()}),u}vt(i,t);var e=i.prototype;return e.ec=function(){var t=this;return this.dF=!0,ND.TL(function(n){return t._F(n)},this.Xf.Hr)},e._F=function(t){var i,e,r;return We.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,jr(t),u.next=4,We.awrap(this.mF.eS(t));case 4:return u.next=6,We.awrap(this.mF.rS(this.bF.mr,this.bF.wu,t));case 6:return i=u.sent,u.next=9,We.awrap(this.gF.ec(this.bF.mr,this.bF.wu,i));case 9:u.next=18;break;case 11:throw u.prev=11,u.t0=u.catch(0),$r(u.t0),e=u.t0 instanceof bs?u.t0.Mu:void 0,r=new Hg(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while performing the CDM request",u.t0,void 0,void 0,void 0,void 0,e),this.Cc(r),r;case 18:case"end":return u.stop()}},null,this,[[0,11]],j)},e.fS=function(t,i){var e,r;return We.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(u.prev=0,!gs(t)){u.next=7;break}return u.next=4,We.awrap(this.mF.mS(new y(t),this.Xf.Hr));case 4:e=u.sent,u.next=10;break;case 7:return u.next=9,We.awrap(this.mF.bS(new y(t),i,this.Xf.Hr));case 9:e=u.sent;case 10:u.next=17;break;case 12:if(u.prev=12,u.t0=u.catch(0),!Hr(u.t0)){u.next=16;break}return u.abrupt("return");case 16:throw u.t0;case 17:return u.prev=17,u.next=20,We.awrap(this.gF.sc(e));case 20:u.next=26;break;case 22:throw u.prev=22,u.t1=u.catch(17),r=u.t1 instanceof bs?u.t1.Mu:void 0,new Hg(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while applying license response",u.t1,void 0,void 0,void 0,void 0,r);case 26:case"end":return u.stop()}},null,this,[[0,12],[17,22]],j)},e.Cc=function(t){var i=t instanceof Hg?t:new Hg(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.Yr(new RD(i)),this.ic()},e.pF=function(){this.gF.tu("ou",this.Qo),this.gF.tu("su",this.wF),this.gF.tu("fu",this.yF),this.lF=!1,this.Xf.qr(),this.Yr(new OD(this))},e.ic=function(){return We.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Zr(),this.pF(),t.next=4,We.awrap(this.gF.ic().catch(Bt));case 4:case"end":return t.stop()}},null,this,null,j)},i}(eu),AD=[Rc.ga,Rc.wa,Rc.ja],PD=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Zo=void 0,r.vc=void 0,r.kF=void 0,r.TF=[],r.SF=void 0,r.EF=[],r.RF=function(t){t.session.tu(AD,r.Gr),t.session.tu("ic",r.RF),Mr(r.TF,t.session)},r.Zo=n,r.vc=i,r.kF=e,r}vt(n,t);var i=n.prototype;return i.yS=function(){return this.kF.yS()},i.IF=function(t){return this.SF||(this.SF=this.DF(t)),this.SF},i.DF=function(t){var n;return We.async(function(i){for(;;)switch(i.prev=i.next){case 0:return jr(t),i.next=3,We.awrap(this.kF.mS(new y(ws()),t));case 3:if(n=i.sent,jr(t),this.vc){i.next=7;break}throw new f("Invalid MediaKeys when setting ServerCertificate");case 7:return i.next=9,We.awrap(this.vc.gc(n.buffer));case 9:case"end":return i.stop()}},null,this,null,j)},i.aM=function(t){var n,i;return We.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.vc){e.next=2;break}throw new f("Invalid MediaKeys when creating KeySession");case 2:return e.prev=2,this.EF.push(t),e.next=6,We.awrap(this.vc.wc("temporary"));case 6:return n=e.sent,i=new CD(n,this.kF,t),this.TF.push(i),i.Kr(AD,this.Gr),i.Kr("ic",this.RF),e.abrupt("return",i);case 12:return e.prev=12,Mr(this.EF,t),e.finish(12);case 15:case"end":return e.stop()}},null,this,[[2,,12,15]],j)},i.NF=function(t){if(t.OF)return!1;for(var n=0,i=this.TF;n<i.length;n++){if(xD(i[n].bF,t))return!0}for(var e=0,r=this.EF;e<r.length;e++){if(xD(r[e],t))return!0}return!1},i.et=function(){var t;return We.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.vc=void 0,this.Zr(),t=this.TF.slice(),Vr(this.TF),n.next=6,We.awrap(j.all(t.map(function(t){return t.ic()})));case 6:this.kF.Lr();case 7:case"end":return n.stop()}},null,this,null,j)},ft(n,[{key:"dc",get:function(){return this.Zo}}]),n}(eu);function xD(t,n){return!t.OF&&t.mr===n.mr&&Su(t.wu,n.wu)}var LD=function(t){function i(n){var i;return(i=t.call(this)||this).QE=void 0,i.Xf=new zr,i.xL=new nR,i.Fc=void 0,i.kF=void 0,i.ZE=void 0,i.Zo=void 0,i.CF=function(t){return We.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,We.awrap(i.AF(t.mr,t.wu,i.Xf.Hr));case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),Hr(n.t0)||i.Cc(n.t0);case 8:case"end":return n.stop()}},null,null,[[0,5]],j)},i.QE=n,i.QE.Kr(iu.hu,i.CF),i}vt(i,t);var e=i.prototype;return e.rc=function(t,n){this.ZE=t,this.JB(n)},e.JB=function(t){this.Fc=t,this.PF(this.Xf.Hr).catch(Xr)},e.PF=function(t){return We.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!st.je.ae){n.next=5;break}return n.next=3,We.awrap(this.xF(t));case 3:if(!n.sent){n.next=5;break}return n.abrupt("return");case 5:if(!this.Fc||!this.Fc.LF){n.next=9;break}return n.next=8,We.awrap(this.BF(t));case 8:return n.abrupt("return",n.sent);case 9:case"end":return n.stop()}},null,this,null,j)},e.xF=function(t){var n,i,e,r,u,s,o,c,a,f,h;return We.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(null==(n=this.Fc)?void 0:n.DR){v.next=3;break}return v.abrupt("return",!1);case 3:i=!1,e=0,r=null!=(u=null==(s=this.Fc)?void 0:s.DR)?u:[];case 5:if(!(e<r.length)){v.next=27;break}o=r[e],c=0,a=null!=(f=o.UE)?f:[];case 8:if(!(c<a.length)){v.next=22;break}return h=a[c],v.prev=10,v.next=13,We.awrap(this.AF(o.dc.mr,h,t));case 13:i=!0,v.next=19;break;case 16:v.prev=16,v.t0=v.catch(10),$r(v.t0);case 19:c++,v.next=8;break;case 22:if(!i){v.next=24;break}return v.abrupt("return",!0);case 24:e++,v.next=5;break;case 27:return v.abrupt("return",!1);case 28:case"end":return v.stop()}},null,this,[[10,16]],j)},e.AF=function(t,i,e){var r,u,s,o,c,a,f,h,v,d;return We.async(function(l){for(;;)switch(l.prev=l.next){case 0:if(jr(e),i.byteLength){l.next=3;break}return l.abrupt("return");case 3:if(this.Fc&&this.Fc.DR.length){l.next=5;break}throw new Hg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_MISSING,"Missing configuration for encrypted content");case 5:if(t===nr||t===er||t===ir){l.next=8;break}return l.abrupt("return");case 8:r=Ep(t,i),u=this.Fc.DR,o=0;case 11:if(!(o<u.length)){l.next=42;break}if(c=u[o],jr(e),(a=r[c.dc.br])&&c.dc.mr===t){l.next=17;break}return l.abrupt("continue",39);case 17:return l.prev=17,l.next=20,We.awrap(this.MF(c,e));case 20:if(!(f=l.sent).yS()){l.next=24;break}return l.next=24,We.awrap(f.IF());case 24:if(h=this.QE.Eg,v={mr:c.dc.mr,wu:a,OF:h},!this.FF(f,v)){l.next=32;break}return l.next=29,We.awrap(f.aM(v));case 29:return d=l.sent,l.next=32,We.awrap(d.ec());case 32:return l.abrupt("return");case 35:l.prev=35,l.t0=l.catch(17),$r(l.t0),s=l.t0;case 39:o++,l.next=11;break;case 42:return l.next=44,We.awrap(st.xe());case 44:if(!l.sent){l.next=48;break}throw new Hg(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported",s);case 48:throw new Hg(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Cannot create content decryption session",s);case 49:case"end":return l.stop()}},null,this,[[17,35]],j)},e.BF=function(t){var n,i,e,r,u;return We.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(i=null==(n=this.Fc)?void 0:n.DR){s.next=3;break}return s.abrupt("return");case 3:e=0;case 4:if(!(e<i.length)){s.next=23;break}return r=i[e],jr(t),s.prev=7,s.next=10,We.awrap(this.MF(r,t));case 10:if(!(u=s.sent).yS()){s.next=14;break}return s.next=14,We.awrap(u.IF());case 14:return s.abrupt("return");case 17:s.prev=17,s.t0=s.catch(7),$r(s.t0);case 20:e++,s.next=4;break;case 23:case"end":return s.stop()}},null,this,[[7,17]],j)},e.FF=function(t,n){return st.je.ce||!t.NF(n)},e.MF=function(t,n){var i=this;return this.xL.TL(function(n){return i.UF(t,n)},n)},e.UF=function(t,n){var i,e,r,u,s;return We.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(jr(n),this.Fc&&this.kF&&this.ZE){o.next=3;break}throw new f("Not initialized");case 3:if(!this.Zo){o.next=7;break}if(this.Zo.dc===t.dc){o.next=6;break}throw new f("Internal key system error");case 6:return o.abrupt("return",this.Zo);case 7:return i=this.kF,e=He({},t,{WR:t.WR.map(function(n){var e;return He({},n,{persistentState:null!=(e=n.persistentState)?e:i.US(t.dc),Tc:n.Tc||i.Tc(t.dc)})})}),o.next=11,We.awrap(this.ZE.GB(e.dc,e.WR));case 11:return r=o.sent,u=i.FE(e),(s=new PD(e.dc,r,u)).Kr([Rc.ga,Rc.wa,Rc.ja],this.Gr),this.Zo=s,o.abrupt("return",s);case 17:case"end":return o.stop()}},null,this,null,j)},e.Cc=function(t){var i=t instanceof Hg?t:new Hg(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.Yr(new RD(i))},e.fl=function(){return We.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.ZE=void 0,this.Fc=void 0,this.Xf.qr(),this.Xf=new zr,t.next=6,We.awrap(this.VF());case 6:case"end":return t.stop()}},null,this,null,j)},e.VF=function(){var t;return We.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,We.awrap(this.xL.qr());case 2:if(!(t=this.Zo)){n.next=8;break}return t.tu(Rc.ja,this.Gr),this.Zo=void 0,n.next=8,We.awrap(t.et());case 8:case"end":return n.stop()}},null,this,null,j)},e.Lr=function(){return We.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Zr(),this.QE.tu(iu.hu,this.CF),t.next=4,We.awrap(this.fl());case 4:return t.next=6,We.awrap(this.xL.et());case 6:case"end":return t.stop()}},null,this,null,j)},ft(i,[{key:"qF",get:function(){var t;return null==(t=this.Zo)?void 0:t.dc}},{key:"ER",get:function(){return this.kF},set:function(t){this.kF=t}}]),i}(eu);St.Pn||St.xn,St.Qn,St.Un;var BD=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.FF=function(t,n){return!0},n}(LD),MD=function(t){function n(n,i,e){var r;return void 0===e&&(e=new nD(i)),(r=t.call(this)||this).ZE=void 0,r.kr=void 0,r.zF=void 0,r.WF=new nR,r.HF=void 0,r.hM=void 0,r.jF=!1,r.Xc=void 0,r.zc=null,r.XF={Rg:0,Ig:0,Dg:0,Ng:0,Og:0,Cg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},r.GF=function(t){"boolean"==typeof t.detail.casting&&(r.jF=t.detail.casting,r.Yr(new hy(r.jF)))},r.YF=function(t){r.Xc=t.sessionId,r.zc&&(r.zc.sessionId=r.Xc);var n=t.initData;if(n){var i=function(t){try{var n=os(t),i=new ds;return ts(ns(Uu(n,i,Wu(n,i,!0)),!0))}catch(t){return}}(n);if(!i)return;r.Yr(new hu(er,i))}else r.Yr(new hu(er,new ArrayBuffer(0)))},r.HF=n,r.hM=i,r.hM.Kr(qI.iM,r.YF),r.kr=e,r.zF=new BD(un(r)),r.KF(),r}vt(n,t);var i=n.prototype;return i.JF=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.gr===gb.OT)return i}},i.Lr=function(){return We.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,We.awrap(this.fl());case 2:return this.Zr(),this.QF(),this.hM.tu(qI.iM,this.YF),t.next=7,We.awrap(this.zF.Lr());case 7:case"end":return t.stop()}},null,this,null,j)},i.dg=function(){throw new f("Not implemented yet")},i.ET=function(t,n,i,e,r,u,s,o){throw new f("Not implemented yet")},i.PR=function(){return!1},i.LR=function(t,n,i,e){throw new f("Not implemented yet")},i.DT=function(t){throw new f("Not implemented yet")},i.UR=function(){throw new f("Not implemented yet")},i.rc=function(t){var n=this;return We.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",this.WF.TL(function(i){var e;return We.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(t.gr!==gb.OT){r.next=8;break}return jr(i),e=new $I(t,n,n.kr),n.ZE=e,n.zF.rc(e,t),r.abrupt("return",e);case 8:throw new f("Could not create non-static media source");case 9:case"end":return r.stop()}},null,null,null,j)}));case 1:case"end":return i.stop()}},null,this,null,j)},i.K=function(){throw new f("Not implemented yet")},i.Y=function(){throw new f("Not implemented yet")},i.fl=function(){var t=this;return this.WF.qr(),this.WF.TL(function(){return We.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0===t.ZE){n.next=4;break}return n.next=3,We.awrap(t.ZE.Lr());case 3:t.ZE=void 0;case 4:return n.next=6,We.awrap(t.zF.fl());case 6:case"end":return n.stop()}},null,null,null,j)})},i.Eu=function(t,n){throw new f("Not implemented yet")},i.$R=function(t){throw new f("Not implemented yet")},i.vg=function(){throw new f("Not implemented yet")},i.XR=function(){return this.XF},i.KF=function(){this.HF.addEventListener("airPlayIsCasting",this.GF)},i.QF=function(){this.HF.removeEventListener("airPlayIsCasting",this.GF)},i.webkitSetMediaKeys=function(t){this.zc=t||null,this.zc&&(this.zc.sessionId=this.Xc)},i.ZF=function(){},i.tU=function(){throw new f("Not implemented yet")},i.nU=function(){throw new f("Not implemented yet")},ft(n,[{key:"Tg",get:function(){throw new f("Not implemented yet")}},{key:"kg",get:function(){throw new f("Not implemented yet")}},{key:"bw",get:function(){throw new f("Not implemented yet")}},{key:"eL",get:function(){throw new f("Not implemented yet")}},{key:"pw",get:function(){throw new f("Not implemented yet")}},{key:"_w",get:function(){throw new f("Not implemented yet")}},{key:"fu",get:function(){throw new f("Not implemented yet")}},{key:"d_",get:function(){throw new f("Not implemented yet")}},{key:"Eg",get:function(){return this.jF}},{key:"Tw",get:function(){throw new f("Not implemented yet")}},{key:"Sw",get:function(){throw new f("Not implemented yet")}},{key:"Ew",get:function(){throw new f("Not implemented yet")}},{key:"Pg",get:function(){throw new f("Not implemented yet")}},{key:"Ml",get:function(){throw new f("Not implemented yet")}},{key:"Lg",get:function(){throw new f("Not implemented yet")}},{key:"Rw",get:function(){throw new f("Not implemented yet")}},{key:"iU",get:function(){throw new f("Not implemented yet")}},{key:"Nw",get:function(){throw new f("Not implemented yet")},set:function(t){throw new f("Not implemented yet")}},{key:"Dy",get:function(){throw new f("Not implemented yet")}},{key:"FR",get:function(){throw new f("Not implemented yet")}},{key:"webkitKeys",get:function(){return this.zc}},{key:"eU",get:function(){return jI}},{key:"ig",get:function(){throw new f("Not implemented yet")}},{key:"uL",get:function(){throw new f("Not implemented yet")}},{key:"GR",get:function(){throw new f("Not implemented yet")}},{key:"rU",get:function(){return!0}},{key:"ER",get:function(){return this.zF.ER},set:function(t){this.zF.ER=t}},{key:"qF",get:function(){return this.zF.qF}}]),n}(Aw),FD=function(t){function n(n){var i;return(i=t.call(this,Rc.Xa)||this).XF=n,i}return vt(n,t),n}(uu);var UD=function(t){function n(n,i){var e,r=VD(i,n.pw,n.GR,n.uU);return(e=t.call(this,i,r,void 0,!1,n.kl)||this).sU=void 0,e.oU=void 0,e.cU=void 0,e.Ps=void 0,e.aU=void 0,e.fU=void 0,e.hU=void 0,e.vU=void 0,e.dU=void 0,e.lU=void 0,e.sU=n.wU,e.oU=n.GR,e.cU=n.uU,e.Ps=n.pw,e.aU=n.gU,e.fU=Boolean(n.yU),e.hU=n.mU||{},e.vU=n.bU,e.dU=n.pU,e.lU=n._U,e.kU(),e.TU(),e}vt(n,t);var i=n.prototype;return i.sc=function(t){var n=!1;void 0===this.sU&&void 0!==t.wU&&(n=!0,this.sU=t.wU),void 0===this.cU&&void 0!==t.uU&&(n=!0,this.cU=t.uU),void 0===this.Ps&&void 0!==t.pw&&(n=!0,this.Ps=t.pw),void 0===this.aU&&void 0!==t.gU&&(n=!0,this.aU=t.gU),!this.fU&&t.yU&&(n=!0,this.fU=t.yU),n=this.updateCustomAttributes(t,n),void 0===this.vU&&void 0!==t.bU&&(n=!0,this.vU=t.bU),void 0===this.dU&&void 0!==t.pU&&(n=!0,this.dU=t.pU),void 0===this.lU&&void 0!==t._U&&(n=!0,this.lU=t._U),this.kU(),this.TU(),this.SU(),n&&this.Yr(new gy(this))},i.updateCustomAttributes=function(t,n){var i=n;if(t.mU)for(var e=0,r=v.keys(t.mU);e<r.length;e++){var u=r[e];void 0===this.hU[u]&&(i=!0,this.hU[u]=t.mU[u])}return i},i.kU=function(){this.Ps&&!this.cU&&(this.cU=new Date(this.oU.getTime()+1e3*this.Ps))},i.TU=function(){this.cU&&!this.Ps&&(this.Ps=nn(this.cU.getTime()-this.oU.getTime()))},i.SU=function(){this.ay===1/0&&(this.cU||this.Ps)&&(this.ay=VD(this.oy,this.Ps,this.oU,this.cU))},ft(n,[{key:"Pd",get:function(){var t;return this.Ad||(this.Ad=sw(ly(t=this),{get content(){return t.sy},get class(){return t.wU},get startDate(){return t.GR},get endDate(){return t.uU},get duration(){return t.pw},get plannedDuration(){return t.gU},get endOnNext(){return t.yU},get scte35Cmd(){return t.bU},get scte35Out(){return t.pU},get scte35In(){return t._U},get customAttributes(){return t.mU}})),this.Ad}},{key:"wU",get:function(){return this.sU}},{key:"GR",get:function(){return this.oU}},{key:"uU",get:function(){return this.cU}},{key:"pw",get:function(){return this.Ps}},{key:"gU",get:function(){return this.aU}},{key:"yU",get:function(){return this.fU}},{key:"bU",get:function(){return this.vU}},{key:"pU",get:function(){return this.dU}},{key:"_U",get:function(){return this.lU}},{key:"mU",get:function(){return this.hU}}]),n}(by);function VD(t,n,i,e){return It(n)?t+n:e?t+(nn(e.getTime())-nn(i.getTime())):1/0}var qD,zD=function(t){function n(){return t.call(this,void 0,void 0,oy.DATE_RANGE)||this}vt(n,t);var i=n.prototype;return i.sc=function(t,n){for(var i=this,e=function(t){for(var n=$e(),i=[],e=0;e<t.length;e++){var r=t[e];if(n.has(r.kl)){var u=n.get(r.kl),s=He({},u,fw(r),{mU:He({},u.mU,r.mU)});n.set(r.kl,s)}else n.set(r.kl,r),i.push(r.kl)}return i.map(function(t){return n.get(t)})}(t),r=this.Fl.hl,u=function(t){var n=r[t],u=Br(e,function(t){return t.kl===n.kl});u?n.sc(u):i.vT(n)},s=r.length-1;s>=0;s--)u(s);for(var o=0;o<e.length;o++){var c=e[o],a=c.GR;if(void 0!==a&&!this.zB(c.kl)){var f=n(a);this.IT(new UD(c,f))}}},i.IT=function(n){this.EU(n),t.prototype.IT.call(this,n)},i.EU=function(t){var n=this.OB.filter(function(n){return n.wU===t.wU}).pop();n&&n.yU&&n.sc({kl:n.kl,uU:t.GR})},n}(WI);function WD(t){switch(t.type){case qD.tB:return t.value;case qD.ZL:return vw(t.value);case qD.QL:return bu(t.value);default:return}}function HD(t){return function(t){return void 0!==t.name&&void 0!==t.message}(t)&&void 0!==t.timestamp&&void 0!==t.code}!function(t){t.tB="daterange-ca-type_string",t.ZL="daterange-ca-type_number",t.QL="daterange-ca-type_arraybuffer"}(qD||(qD={}));var jD,$D,XD,GD=function(t){function n(n,i,e,r,u){var s;return(s=t.call(this,r,i,e)||this).lE=void 0,s.RU=void 0,s.lE=n,s.RU=u,s}return vt(n,t),ft(n,[{key:"name",get:function(){return this.lE}},{key:"timestamp",get:function(){return this.RU}}]),n}(sc),YD=function(t){function n(n,i,e,r,u,s,o,c){var a;return(a=t.call(this,n,i,e,r,c)||this).url=void 0,a.status=void 0,a.errorComment=void 0,a.url=u,a.status=s,a.errorComment=o,a}return vt(n,t),n}(GD),KD=function(){function t(t,n){this.Kw=void 0,this.IU=void 0,this.Kw=new Km,this.IU=new TI(t,n)}var n=t.prototype;return n.ET=function(t,n,i,e,r,u,s){var o=new UI(t,n,i,e,r,u,s);return this.Kw.ol(o),this.IU.ol(o),o},n.DT=function(t){this.Kw.cl(t),this.IU.cl(t),t.et()},n.fl=function(){for(var t=0,n=this.Kw.hl.slice();t<n.length;t++){n[t].et()}this.Kw.fl(),this.IU.fl()},n.et=function(){this.fl(),this.Kw.et(),this.IU.et()},ft(t,[{key:"ig",get:function(){return this.Kw}}]),t}(),JD=function(t){function n(n,i,e,r,u){var s;(s=t.call(this)||this).gD=0,s.DU=!1,s.tR=void 0,s.nR=void 0,s.NU=void 0,s.mD=!0,s.bD=1,s.Gw=void 0,s.Yw=void 0,s.OU=void 0,s.CU=void 0,s.AU=void 0,s.Kw=void 0,s._T=void 0,s.Ps=void 0,s.PU=pk.hD(),s.xU=pk.hD(),s.yD=!1,s.LU=pk.hD(),s.pD=void 0,s.BU=void 0,s.MU=void 0,s.xB=zw.cw,s.AT=zw.cw,s.HF=void 0,s.IU=void 0,s.rR=void 0,s.EB=void 0,s.FU=void 0,s.SD=void 0,s.QE=void 0,s.uR=void 0,s.hM=void 0,s.XF={Rg:0,Ig:0,Dg:0,Ng:0,Og:0,Cg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},s.ZE=void 0,s.UU=void 0,s.oR=new Q_,s.cR=new rk,s.setCurrentTime=function(t){return We.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(s.Lg.length){n.next=4;break}return s.gD=t,n.next=4,We.awrap(s.HF.ru("seekablechange"));case 4:s.gD=s.updateCurrentTime(t),s.EB.DB("THEOplayerSetCurrentTime",s.gD),s.pD=!0,s.Yr(new gg(s.gD));case 8:case"end":return n.stop()}},null,null,null,j)},s.VU=function(t){if(t.detail){for(var n=t.detail.buffered,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}s.PU=new pk(i),s.Yr(new DI(s.bw))}},s.qU=function(t){s.xB=t.detail.readyState,s.Yr(new bg(+t.detail.currentTime,s.Ml)),s.zU()},s.WU=function(t){s.xB=t.detail.readyState,s.Yr(new pg(+t.detail.currentTime,s.Ml)),s.zU()},s.HU=function(t){if(t.detail){var n=+t.detail.duration;s.Ps=n,s.Yr(new hg(s.pw))}},s.jU=function(t){t.detail&&(s.DU=!0,s.Yr(new lg(+t.detail.currentTime)))},s.aR=function(t){if(t.detail&&t.detail.error&&t.detail.errorObject){var n,i=JSON.parse(t.detail.errorObject);HD(n=i)&&void 0!==n.url&&void 0!==n.status&&void 0!==n.errorComment?(s.nR=new YD(i.name,i.message,void 0,i.code,i.url,i.status,i.errorComment,i.timestamp),s.tR=Xg(s.nR),s.Yr(new kg(s.nR))):HD(i)&&(s.nR=new GD(i.name,i.message,void 0,i.code,i.timestamp),s.tR=Xg(s.nR),s.Yr(new kg(s.nR)))}},s.$U=function(t){s.Yr(new II)},s.XU=function(t){s.xB=t.detail.readyState,s.Yr(new wg(+t.detail.currentTime,s.Ml)),s.zU()},s.GU=function(t){return We.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(s.Lg.length){n.next=3;break}return n.next=3,We.awrap(s.HF.ru("seekablechange"));case 3:s.xB=t.detail.readyState,s.Yr(new fg(+t.detail.currentTime,s.Ml)),s.zU();case 6:case"end":return n.stop()}},null,null,null,j)},s.YU=function(t){t.detail&&s.mD&&(s.mD=!1,s.Yr(new sg(+t.detail.currentTime)))},s.KU=function(t){t.detail&&(s.mD||(s.mD=!0,s.Yr(new ug(+t.detail.currentTime))))},s.JU=function(t){if(t.detail){for(var n=t.detail.played,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}s.LU=new pk(i)}},s.QU=function(t){t.detail&&s.Yr(new Nb(+t.detail.currentTime))},s.ZU=function(t){t.detail&&(s.bD=t.detail.playbackRate,s.Yr(new vg(+t.detail.currentTime,s.bD)))},s.tV=function(t){if(t.detail){for(var n=t.detail.seekable,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}s.xU=new pk(i)}},s.nV=function(t){t.detail&&(s.gD=+t.detail.currentTime,s.pD=!1,s.Yr(new dg(s.gD,s.NU)),s.Yr(new yg(s.gD)))},s.iV=function(t){if(t.detail){var n=Number(t.detail.currentTime);n<s.Ps&&(s.DU=!1),s.pD=!0,s.Yr(new gg(n))}},s.eV=function(t){t.detail&&(t.detail.currentDate&&(s.NU=new Date(1e3*t.detail.currentDate)),s.gD=+t.detail.currentTime,s.Yr(new dg(s.gD,s.NU)))},s.rV=function(t){s.BU=t.detail.height,s.MU=t.detail.width},s.uV=function(t){t.detail&&s.Yr(new Db(+t.detail.currentTime))},s.sV=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,enabled:t.detail.enabled};s.tg.ol(new ry(n))},s.oV=function(t){for(var n,i,e=t.detail.lang,r=t.detail.label,u=0;u<s.Gw.vl;u++){var o=s.tg.sl(u);o.Rl==e&&o.El==r?i=s.Gw.sl(u):1==o._l&&(n=s.Gw.sl(u))}i&&n&&(i._l=!0,n._l=!1)},s.cV=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,selected:t.detail.selected};s.ng.ol(new fy(n))},s.aV=function(t){var n,i=t.detail.kind,e=t.detail.type;i===Ym.rp&&e===oy.ID3?(n=new HI("",t.detail.label)).Cl=Tw.Pl:i===Ym.rp&&e===oy.DATE_RANGE?(n=new zD,s.UU=n):n=new UI(i,void 0,t.detail.label,t.detail.lang,t.detail.isDefault,e),s.OU.ol(n),s.IU.ol(n)},s.fV=function(t){for(var n=0,i=t.detail;n<i.length;n++){var e=i[n],r=e.Id3FrameId,u={id:r,text:e.Id3FrameText};"TXXX"!==r&&"TXX"!==r||(u.description=e.Id3FrameDescription);var o=new zI(vw(e.startTime),u,e.uid),c=s.hV();c&&c.IT(o)}},s.vV=function(t){for(var n=0,i=t.detail;n<i.length;n++){var e,r=i[n],u=new py(vw(r.startTime),vw(r.endTime),r.content,!1),o=null!=(e=s.dV(Ym.ip))?e:s.dV(Ym.cT);o&&(o.gr=oy.WEBVTT,o.IT(u))}},s.lV=function(t){t.type===Rc.wa&&(s.tR=Xg(t.errorObject)),s.Gr(t)},s.wV=function(t){t.detail&&(s.XF.Ig=t.detail.corruptedVideoFrames,s.XF.Rg=t.detail.droppedVideoFrames,s.Yr(new FD(s.zw)))},s.gV=function(t){var n=function(t){var n=t.detail,i=[];return n.forEach(function(t){var n={kl:t.id};if(void 0!==t.startDate&&(n.GR=new Date(t.startDate)),void 0!==t.endDate&&(n.uU=new Date(t.endDate)),void 0!==t.customAttributes){var e={};for(var r in t.customAttributes){var u=WD(t.customAttributes[r]);void 0!==u&&(e[r]=u)}n.mU=e}void 0!==t.scte35Cmd&&(n.bU=bu(t.scte35Cmd)),void 0!==t.scte35In&&(n._U=bu(t.scte35In)),void 0!==t.scte35Out&&(n.pU=bu(t.scte35Out)),void 0!==t.startTime&&(n.ey=t.startTime),n.wU=t.class,n.pw=vw(t.duration),n.gU=vw(t.plannedDuration),i.push(n)}),i}(t);n.forEach(function(t){var i=null!=t.ey?t.ey:(new Date).getTime(),e=new UD(t,i);s.UU.IT(e),s.UU.sc(n,i)})};var o=r.uid;s.EB=s.getSdkBridge(o),s.HF=new oI,JR()[o].sdkEventBus=s.HF,s.Gw=new Yg,s.Yw=new Yg;var c=s.yV(e);return s._T=new KD(un(s),new SI),s.IU=new RI(un(s)),s.rR=new fb(s._T,c),s.OU=new Km,s.CU=new vD(un(s)),s.CU.ml=s.OU,s.AU=new dD(s._T,s.CU),s.Kw=new nk([s.OU,s.rR.Jp,s.AU.Jp]),s.hM=s.getFairPlayControllerBridge(s.EB),s.QE=new MD(s.HF,s.hM),s.uR=new Z_(c),s.QE.ER=s.uR,s.observeMediaElement(),s.IR(),s.SD=new NI(s.EB,u),s.SD.Kr("LA",function(){s.EB.DB("THEOplayerSetPreferredForwardBufferDuration",s.SD.xA)}),s}vt(n,t);var i=n.prototype;return i.wg=function(){return Tk},i.vg=function(){this.EB.DB("THEOplayerShow",{})},i.dg=function(){this.EB.DB("THEOplayerHide",{})},i.mV=function(){var t=this;this.EB.DB("THEOplayerSetInitialPreferredPeakBitRate",this.SD.$A);this.Kr("playing",function n(){t.EB.DB("THEOplayerSetInitialPreferredPeakBitRate",0),t.tu("playing",n)})},i.sg=function(t,n){var i,e,r;return We.async(function(u){for(;;)switch(u.prev=u.next){case 0:return this.FU=t,i=He({},n,{sources:{src:t.src,type:Uw.nw,contentProtection:t.contentProtection,ssai:t.ssai,crossOrigin:t.crossOrigin,hlsDateRange:t.hlsDateRange,isAdvertisement:t.isAdvertisement}}),this.EB.DB("THEOplayerSourceChange",i),e={gr:gb.OT,Vl:t.src,Rh:t.type,DR:this.NR(t),OR:t.crossOrigin,CR:n.metadata&&n.metadata.title},this.uR.ME(t.contentProtection),u.next=7,We.awrap(this.QE.rc(e));case 7:this.ZE=u.sent,n.textTracks&&(r=n.textTracks.filter(function(t){return t.format!==oy.WEBVTT})).length>0&&this.AR(r),wb(this.ig),this.mV();case 11:case"end":return u.stop()}},null,this,null,j)},i.NR=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{dc:gr,WR:[{initDataTypes:[gr.mr],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},i.Y=function(){this.mD=!1,this.Yr(new sg(this.bw)),this.EB.DB("THEOplayerPlay",{})},i.K=function(){this.mD=!0,this.Yr(new ug(this.bw)),this.EB.DB("THEOplayerPause",{})},i.lg=function(){},i.fl=function(){return We.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.gD=0,this.DU=!1,this.tR=void 0,this.nR=void 0,this.mD=!0,this.bD=1,this.Ps=void 0,this.xU=pk.hD(),this.PU=pk.hD(),this.BU=void 0,this.MU=void 0,this.xB=zw.cw,this.AT=zw.cw,this.Gw.fl(),this.Yw.fl(),this.OU.fl(),this.Kw.fl(),t.next=19,We.awrap(this.AU.fl());case 19:return this.CU.fl(),t.next=22,We.awrap(this.rR.fl());case 22:return this._T.fl(),this.IU.fl(),this.FU=void 0,t.next=27,We.awrap(this.QE.fl());case 27:case"end":return t.stop()}},null,this,null,j)},i.cg=function(){this.EB.DB("THEOplayerShowAirPlayPicker",{})},i.ag=function(){this.EB.DB("THEOplayerStopAirPlayPicker",{})},i.updateMetrics=function(t){this.zw.Ig=t.Ig,this.zw.Rg=t.Rg},i.et=function(){return We.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,We.awrap(this.fl());case 2:return this.Zr(),this.unobserveMediaElement(),this.zR(),this.QE.ER=void 0,t.next=8,We.awrap(this.QE.Lr());case 8:return this.Gw.et(),this.Yw.et(),this.OU.et(),this.Kw.et(),this.CU.et(),t.next=15,We.awrap(this.AU.et());case 15:return t.next=17,We.awrap(this.rR.et());case 17:this._T.et(),this.IU.et();case 19:case"end":return t.stop()}},null,this,null,j)},i.AR=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.rR.ST(i)}},i.zU=function(){var t=this.AT,n=this.xB;t!==n&&(this.AT=n,this.Yr(new _g(this.bw,n)))},i.observeMediaElement=function(){this.QE.Kr(Rc.ha,this.Gr),this.QE.Kr([Rc.ga,Rc.wa],this.lV),this.HF.addEventListener("play",this.YU),this.HF.addEventListener("pause",this.KU),this.HF.addEventListener("seeking",this.iV),this.HF.addEventListener("seeked",this.nV),this.HF.addEventListener("ratechange",this.ZU),this.HF.addEventListener("durationchange",this.HU),this.HF.addEventListener("timeupdate",this.eV),this.HF.addEventListener("waiting",this.uV),this.HF.addEventListener("playing",this.QU),this.HF.addEventListener("ended",this.jU),this.HF.addEventListener("loadedmetadata",this.GU),this.HF.addEventListener("loadeddata",this.XU),this.HF.addEventListener("loadstart",this.$U),this.HF.addEventListener("canplay",this.qU),this.HF.addEventListener("canplaythrough",this.WU),this.HF.addEventListener("error",this.aR),this.HF.addEventListener("seekablechange",this.tV),this.HF.addEventListener("videosizechange",this.rV),this.HF.addEventListener("bufferedchange",this.VU),this.HF.addEventListener("playedchange",this.JU),this.HF.addEventListener("metricschange",this.wV),this.HF.addEventListener("addDateRangeCues",this.gV)},i.unobserveMediaElement=function(){this.QE.tu(Rc.ha,this.Gr),this.QE.tu([Rc.ga,Rc.wa],this.lV),this.HF.removeEventListener("play",this.YU),this.HF.removeEventListener("pause",this.KU),this.HF.removeEventListener("seeking",this.iV),this.HF.removeEventListener("seeked",this.nV),this.HF.removeEventListener("ratechange",this.ZU),this.HF.removeEventListener("durationchange",this.HU),this.HF.removeEventListener("timeupdate",this.eV),this.HF.removeEventListener("waiting",this.uV),this.HF.removeEventListener("playing",this.QU),this.HF.removeEventListener("ended",this.jU),this.HF.removeEventListener("loadedmetadata",this.GU),this.HF.removeEventListener("loadeddata",this.XU),this.HF.removeEventListener("loadstart",this.$U),this.HF.removeEventListener("canplay",this.qU),this.HF.removeEventListener("canplaythrough",this.WU),this.HF.removeEventListener("error",this.aR),this.HF.removeEventListener("seekablechange",this.tV),this.HF.removeEventListener("videosizechange",this.rV),this.HF.removeEventListener("bufferedchange",this.VU),this.HF.removeEventListener("playedchange",this.JU),this.HF.removeEventListener("metricschange",this.wV),this.HF.removeEventListener("addDateRangeCues",this.gV)},i.updateCurrentTime=function(t){var n=this.Lg.start(0),i=this.Lg.end(0);return d.min(d.max(t,n),i)},i.hV=function(){for(var t=0,n=this.Kw.hl;t<n.length;t++){var i=n[t];if(i.Sl===Ym.rp&&i.gr===oy.ID3)return i}},i.dV=function(t){for(var n=0,i=this.Kw.hl;n<i.length;n++){var e=i[n],r=e.Cl===Tw.Al,u=e.Sl===t;if(r&&u)return e}},i.IR=function(){this.HF.addEventListener("addaudiotrack",this.sV),this.HF.addEventListener("enableaudiotrack",this.oV),this.HF.addEventListener("addvideotrack",this.cV),this.HF.addEventListener("addtexttrack",this.aV),this.HF.addEventListener("addtexttrackid3cues",this.fV),this.HF.addEventListener("addtexttrackcues",this.vV)},i.zR=function(){this.HF.removeEventListener("addaudiotrack",this.sV),this.HF.removeEventListener("enableaudiotrack",this.oV),this.HF.removeEventListener("addvideotrack",this.cV),this.HF.removeEventListener("addtexttrack",this.aV),this.HF.removeEventListener("addtexttrackid3cues",this.fV),this.HF.removeEventListener("addtexttrackcues",this.vV)},i._g=function(){},ft(n,[{key:"tg",get:function(){return this.Gw}},{key:"kg",get:function(){return this.PU.jR()}},{key:"Tg",get:function(){return this.NU?this.NU:null},set:function(t){this.EB.DB("THEOplayerSetCurrentProgramDateTime",t.getTime()),this.NU=t}},{key:"bw",get:function(){return this.gD},set:function(t){this.setCurrentTime(t)}},{key:"pw",get:function(){return this.Ps}},{key:"_w",get:function(){return this.DU}},{key:"fu",get:function(){return this.tR}},{key:"kw",get:function(){return this.nR}},{key:"eg",get:function(){}},{key:"Eg",get:function(){return this.QE.Eg}},{key:"zw",get:function(){return this.XF}},{key:"Tw",get:function(){return this.yD},set:function(t){this.yD!==t&&(this.EB.DB("THEOplayerSetMuted",t),this.yD=t,this.Yr(new mg(this.bw,t?0:1)))}},{key:"Sw",get:function(){return this.mD}},{key:"Ew",get:function(){return this.bD},set:function(t){this.EB.DB("THEOplayerSetPlaybackRate",t),this.bD=t}},{key:"Pg",get:function(){return this.LU.jR()}},{key:"xg",get:function(){return vk.lI},set:function(t){}},{key:"Ml",get:function(){return this.xB}},{key:"Lg",get:function(){return this.xU.jR()}},{key:"Rw",get:function(){return this.pD}},{key:"GR",get:function(){}},{key:"ig",get:function(){return this.Kw}},{key:"Iw",get:function(){return this.BU}},{key:"Dw",get:function(){return this.MU}},{key:"Nw",get:function(){return 1},set:function(t){}},{key:"Bg",get:function(){return this.cR}},{key:"ng",get:function(){return this.Yw}},{key:"YR",get:function(){return this.oR}},{key:"Mg",get:function(){return!1},set:function(t){}},{key:"Ag",get:function(){return!0}}]),n}(Aw),QD=function(){function t(){this.KR=X_.OE}var n=t.prototype;return n.JR=function(n,i){if(n.isAdvertisement)return!1;if(i.vr&&i.vr[360]&&!i.vr.nativeVR)return!1;if((e=n.type)&&pr(e.toLowerCase(),Uw.tw))return!1;var e,r=n.contentProtection;if(r&&!dp(r)){if(!gp(r))return!1;if(!t.bV(r))return!1}return!0},t.bV=function(t){return Boolean(t.fairplay)||Boolean(t.aes128)},n.QR=function(){return!1},t}(),ZD=function(){function n(t){this.playerID=t}return n.prototype.DB=function(n,i){if(t.THEOplayerBridge[this.playerID].postMessageToSwift&&"function"==typeof t.THEOplayerBridge[this.playerID].postMessageToSwift){var e={body:i,name:n};t.THEOplayerBridge[this.playerID].postMessageToSwift(e)}},n}(),tN=function(t){function n(n){var i;return(i=t.call(this)||this).EB=void 0,i.HF=void 0,i.pV=function(t){var n=bu(t.detail.initData),e=t.detail.sessionId;i.Yr(new YI(n,e))},i._V=function(t){var n=new y(Ru(t.detail.message)),e=t.detail.destinationURL;i.Yr(new KI(n,e))},i.kV=function(t){i.Yr(new JI)},i.EB=n,i.HF=new oI,JR().fairplayController={sdkEventBus:i.HF},i.TV(),i}vt(n,t);var i=n.prototype;return i.TV=function(){this.HF.addEventListener(qI.iM,this.pV),this.HF.addEventListener(qI.eM,this._V),this.HF.addEventListener(qI.rM,this.kV)},i.aM=function(t,n){var i={playerId:ZR(),data:Iu(n.buffer),sessionId:t};this.EB.DB("THEOplayerCreateKeySession",i)},i.sc=function(t,n){var i={playerId:ZR(),data:Iu(n.buffer),sessionId:t};this.EB.DB("THEOplayerUpdateKey",i)},n}(Aw),nN=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.Wh=function(n){if(as(n.Ih)){var i=fs(n.Ih);n.Ih=Zu(i)}return t.prototype.Wh.call(this,n)},n}(function(){function t(t){this.kT=void 0,this.kT=t}var n=t.prototype;return n.Wh=function(t){return this.kT.Wh(t)},n.wv=function(t){this.kT.wv(t)},n.et=function(){this.kT.et()},t}()),iN=function(t){function n(n,i,e,r,u){return t.call(this,n,i,e,r,u)||this}vt(n,t);var i=n.prototype;return i.og=function(){return!1},i.getSdkBridge=function(t){return new ZD(t)},i.getFairPlayControllerBridge=function(t){return $D||($D=new tN(t)),$D},i.yV=function(t){return new nN(t)},n}(JD);jD=new(function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.DS=function(t,n,i,e,r,u){return new iN(t,n,i,e,r)},n}(QD)),hk.Zn.rI(jD),function(t){t.Dd="addtrack",t.Od="removetrack",t.$d="change",t.Qd="update"}(XD||(XD={}));var eN=function(t,n,i){this.type=XD.$d,this.mediaType=t,this.mediaTrack=n,this.mediaTrackList=i},rN=function(t,n){this.type=XD.Dd,this.mediaType=t,this.mediaTrack=n},uN=function(t,n){this.type=XD.Od,this.mediaType=t,this.mediaTrack=n},sN=function(t,n){this.type=XD.Qd,this.mediaType=t,this.mediaTrack=n},oN=function(){function t(t,n,i){var e=this;this.type=void 0,this.mediaTracks=void 0,this.messageDispatcher=void 0,this.SV=function(t){var n=new eN(e.type,t.track,e.mediaTracks);e.messageDispatcher.EV(n)},this.RV=function(t){var n=new rN(e.type,t.track);e.messageDispatcher.EV(n),t.track.addEventListener("update",e.IV)},this.DV=function(t){var n=new uN(e.type,t.track);e.messageDispatcher.EV(n)},this.IV=function(t){var n=new sN(e.type,t.track);e.messageDispatcher.EV(n)},this.type=t,this.mediaTracks=n,this.messageDispatcher=i,this.TV()}return t.prototype.TV=function(){this.mediaTracks.addEventListener("change",this.SV),this.mediaTracks.addEventListener("addtrack",this.RV),this.mediaTracks.addEventListener("removetrack",this.DV)},t}(),cN=function(){function t(t){this.NV=void 0,this.NV=new ZD(t)}return t.prototype.EV=function(t){this.NV.DB(t.type,pR(t))},t}();$E(function(t){if(t.Pd.audioTracks){var n=new cN(t.Tl);new oN("audio",t.Pd.audioTracks,n)}if(t.Pd.videoTracks){var i=new cN(t.Tl);new oN("video",t.Pd.videoTracks,i)}});var aN,fN,hN=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.dispatchEvent=function(t,n){switch(t){case aN.OV:var i={integrationId:n.integrationId,keySystem:n.keySystem};this.Yr(new vN(i));break;default:0}},n}(oI),vN=function(t){function n(n){var i;return(i=t.call(this,aN.OV)||this).detail=n,i}return vt(n,t),n}(uu);!function(t){t.OV="registerContentProtectionIntegration"}(aN||(aN={})),function(t){t.CV="certifiateRequest",t.AV="certifiateResponse",t.PV="licenseRequest",t.xV="licenseResponse",t.LV="extractFairplayContentId",t.BV="buildContentProtection",t.MV="registerContentProtectionCallback"}(fN||(fN={}));var dN,lN=function(t,n){this.type=fN.MV,this.value=t,this.integrationId=n};!function(t){t.VOD="vod",t.LIVE="live"}(dN||(dN={}));var wN,gN=function(t,n){this.type=fN.BV,this.value=t,this.integrationId=n},yN=function(t,n){this.type=fN.CV,this.value=t,this.integrationId=n},mN=function(t,n){this.type=fN.AV,this.value=t,this.integrationId=n},bN=function(t,n){this.type=fN.LV,this.value=t,this.integrationId=n},pN=function(t,n){this.type=fN.PV,this.value=t,this.integrationId=n},_N=function(t,n){this.type=fN.xV,this.value=t,this.integrationId=n},kN=function(){function t(t,n){this.FV=void 0,this.NS=void 0,this.FV=t,this.NS=n}var i=t.prototype;return i.onCertificateRequest=function(t){var i,e,r,u,s,o;return We.async(function(c){for(;;)switch(c.prev=c.next){case 0:return i=this.toCertificateRequestDTO(t),e=new yN(i,this.NS),c.prev=2,c.next=5,We.awrap(this.FV.UV(e));case 5:if(!(r=c.sent)){c.next=16;break}if(u=JSON.parse(r),!this.VV(u)){c.next=13;break}return s=He({},u),c.abrupt("return",s);case 13:if(!this.qV(u)){c.next=16;break}return o=new y(u),c.abrupt("return",o);case 16:throw new Hg(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Could not parse callback in onCertificateRequest");case 19:throw c.prev=19,c.t0=c.catch(2),new Hg(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,c.t0);case 22:case"end":return c.stop()}},null,this,[[2,19]],j)},i.onCertificateResponse=function(t){var i,e,r,u,s;return We.async(function(o){for(;;)switch(o.prev=o.next){case 0:return i=this.toCertificateRequestDTO(t.request),e={request:i,url:t.url,status:t.status,statusText:t.statusText,headers:t.headers,body:Array.from(t.body)},r=new mN(e,this.NS),o.next=5,We.awrap(this.FV.UV(r));case 5:if(!(u=o.sent)){o.next=11;break}return s=JSON.parse(u),o.abrupt("return",new y(s));case 11:throw new Hg(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"received undefined instead of string in onCertificateResponse");case 12:case"end":return o.stop()}},null,this,null,j)},i.onLicenseRequest=function(t){var i,e,r,u,s,o,c;return We.async(function(a){for(;;)switch(a.prev=a.next){case 0:return i=this.toCertificateRequestDTO(t),e={url:i.url,method:i.method,headers:i.headers,body:i.body?Array.from(i.body):null,useCredentials:i.useCredentials,fairplaySkdUrl:t.fairplaySkdUrl},r=new pN(e,this.NS),a.prev=3,a.next=6,We.awrap(this.FV.UV(r));case 6:if(!(u=a.sent)){a.next=17;break}if(s=JSON.parse(u),!this.VV(s)){a.next=14;break}return o={url:s.url,method:s.method,headers:s.headers,body:s.body?new y(s.body):null,useCredentials:s.useCredentials,fairplaySkdUrl:s.fairplaySkdUrl},a.abrupt("return",o);case 14:if(!this.qV(s)){a.next=17;break}return c=new y(s),a.abrupt("return",c);case 17:throw new Hg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Could not parse callback in onLicenseRequest");case 20:throw a.prev=20,a.t0=a.catch(3),new Hg(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,a.t0);case 23:case"end":return a.stop()}},null,this,[[3,20]],j)},i.onLicenseResponse=function(t){var i,e,r,u,s,o;return We.async(function(c){for(;;)switch(c.prev=c.next){case 0:return i=this.toCertificateRequestDTO(t.request),e=He({},i,{fairplaySkdUrl:t.request.fairplaySkdUrl}),r={request:e,url:t.url,status:t.status,statusText:t.statusText,headers:t.headers,body:Array.from(t.body)},u=new _N(r,this.NS),c.next=6,We.awrap(this.FV.UV(u));case 6:if(!(s=c.sent)){c.next=12;break}return o=JSON.parse(s),c.abrupt("return",new y(o));case 12:throw new Hg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"received undefined instead of string in onLicenseResponse");case 13:case"end":return c.stop()}},null,this,null,j)},i.extractFairplayContentId=function(t){var i,e;return We.async(function(r){for(;;)switch(r.prev=r.next){case 0:return i=new bN(t,this.NS),r.next=3,We.awrap(this.FV.UV(i));case 3:if(!(e=r.sent)){r.next=6;break}return r.abrupt("return",e);case 6:return r.abrupt("return",j.reject(new Hg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"received undefined instead of string in extractFairplayContentId")));case 7:case"end":return r.stop()}},null,this,null,j)},i.toCertificateRequestDTO=function(t){return{url:t.url,method:t.method,headers:t.headers,body:t.body?Array.from(t.body):null,useCredentials:t.useCredentials}},i.VV=function(t){var n=t;return void 0!==n.url&&void 0!==n.method&&void 0!==n.headers},i.qV=function(t){return!!new y(t)},t}(),TN=function(){function t(t){this.FV=void 0,this.FV=t}return t.prototype.build=function(t){if(!t.integration)throw new f("integrationId is undefined");var n=new kN(this.FV,t.integration),i=new gN({drmConfiguration:t},t.integration);return this.FV.UV(i),n},t}(),SN=function(){var t=this;this.HF=void 0,this.zV=function(n){var i=new TN(t.messageDispatcher),e=n.detail,r=e.integrationId,u=e.keySystem,s={state:up.LS.CS(r,u,i)};t.messageDispatcher.UV(new lN(s,r))},this.HF=new hN,JR().contentProtectionIntegration={sdkEventBus:this.HF},this.HF.addEventListener(aN.OV,this.zV)},EN="nativePromiseCallback",RN=function(t){function n(n){var i;return(i=t.call(this,EN)||this).detail=n,i}return vt(n,t),n}(uu);!function(t){t.RESOLVE="NATIVE_PROMISE_RESOLVE",t.REJECT="NATIVE_PROMISE_REJECT"}(wN||(wN={}));var IN=function(t){function n(){return t.apply(this,arguments)||this}vt(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.Yr(new RN(n))},i.addEventListener=function(t,n){this.Kr(t,n)},i.removeEventListener=function(t,n){this.tu(t,n)},n}(oI),DN=function(){function t(){var t=this;this.NV=void 0,this.promisesMap={},this.handleNativePromiseEvent=function(n){var i=t.promisesMap[n.detail.promiseId];if(!i)throw new f("Could not find a promise with id "+n.detail.promiseId);switch(n.detail.type){case wN.RESOLVE:i.xu(n.detail.data);break;case wN.REJECT:i.Lu(n.detail.data)}delete t.promisesMap[n.detail.promiseId]};var n=new IN;JR().nativePromise={sdkEventBus:n},n.addEventListener(EN,this.handleNativePromiseEvent)}return t.prototype.UV=function(n){var i;t.messageIdTracker+=1;var e=t.messageIdTracker.toString(),r=He({},n,{promiseId:e}),u=new ls;return this.promisesMap[e]=u,null==(i=this.NV)||i.DB(n.type,mR(r)),u.Cu},t}();DN.messageIdTracker=-1;var NN=function(t){function n(n){var i;return(i=t.call(this)||this).NV=new ZD(n),i}return vt(n,t),n}(DN),ON=function(t){function n(n){var i;return(i=t.call(this)||this).FV=void 0,i.FV=new NN(n),i}return vt(n,t),ft(n,[{key:"messageDispatcher",get:function(){return this.FV}}]),n}(SN);$E(function(t){new ON(t.Pd.uid)}),n.ChromelessPlayer=vR,n.Player=vR,n.createGlobals=tI,n.features=[],n.getCueMirrorMap=QR,n.getGlobalId=ZR,n.getSdkEventBridge=JR,n.playerSuiteVersion="2022.2.2",n.players=lR,n.registerContentProtectionIntegration=wR,n.utils=dR,n.version="3.5.0",v.defineProperty(n,"__esModule",{value:!0})})}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:this);
