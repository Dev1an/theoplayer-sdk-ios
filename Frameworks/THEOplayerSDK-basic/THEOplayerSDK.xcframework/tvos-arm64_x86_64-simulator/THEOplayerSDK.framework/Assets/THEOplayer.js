/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com

 This product makes use of Open Source Software: video.js
 (Apache 2.0 - Copyright Brightcove, Inc.), long.js (Apache 2.0),
 nodejs-langs (MIT - Copyright Andrew Lawson), promise-polyfill
 (MIT - Copyright (c) 2014 Taylor Hakes & Forbes Lindesay),
 shaka-player (Apache 2.0 - Copyright 2016 Google LLC)
 The code of these projects has been heavily modified during
 integration.
 More information on the licenses can be found here: Apache 2.0
 (http://www.apache.org/licenses/LICENSE-2.0), MIT
 (https://opensource.org/licenses/MIT)


 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 2022.3.1 (3.7.0)
 Created: 2022-08-01T13:46:13.127Z
 */
!function(t){!function(n,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i((n="undefined"!=typeof globalThis?globalThis:n||t).THEOplayer={})}(this,function(n){"use strict";var i=t.window,e=t.document,r=t.location,u=t.navigator,s=t.setTimeout,o=t.clearTimeout,c=t.setInterval,a=t.clearInterval,f=t.Error,h=t.TypeError,v=(t.SyntaxError,t.Object),d=t.Math,l=t.parseInt,w=t.parseFloat,g=t.isNaN,y=t.Uint8Array,m=(t.Worker,t.WorkerGlobalScope,t.XMLHttpRequest);var b=s;function p(t){return Boolean(t&&void 0!==t.length)}function _(){}function k(t){if(!(this instanceof k))throw new h("Promises must be constructed via new");if("function"!=typeof t)throw new h("not a function");this.o=0,this.l=!1,this.g=void 0,this.p=[],D(t,this)}function T(t,n){for(;3===t.o;)t=t.g;0!==t.o?(t.l=!0,k.R(function(){var i=1===t.o?n.onFulfilled:n.onRejected;if(null!==i){var e;try{e=i(t.g)}catch(t){return void E(n.promise,t)}S(n.promise,e)}else(1===t.o?S:E)(n.promise,t.g)})):t.p.push(n)}function S(t,n){try{if(n===t)throw new h("A promise cannot be resolved with itself.");if(n&&("object"==typeof n||"function"==typeof n)){var i=n.then;if(n instanceof k)return t.o=3,t.g=n,void R(t);if("function"==typeof i)return void D((e=i,r=n,function(){e.apply(r,arguments)}),t)}t.o=1,t.g=n,R(t)}catch(n){E(t,n)}var e,r}function E(t,n){t.o=2,t.g=n,R(t)}function R(t){2===t.o&&0===t.p.length&&k.R(function(){t.l||k.I(t.g)});for(var n=0,i=t.p.length;n<i;n++)T(t,t.p[n]);t.p=null}function I(t,n,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof n?n:null,this.promise=i}function D(t,n){var i=!1;try{t(function(t){i||(i=!0,S(n,t))},function(t){i||(i=!0,E(n,t))})}catch(t){if(i)return;i=!0,E(n,t)}}k.prototype.catch=function(t){return this.then(null,t)},k.prototype.then=function(t,n){var i=new this.constructor(_);return T(this,new I(t,n,i)),i},k.prototype.finally=function(t){var n=this.constructor;return this.then(function(i){return n.resolve(t()).then(function(){return i})},function(i){return n.resolve(t()).then(function(){return n.reject(i)})})},k.all=function(t){return new k(function(n,i){if(!p(t))return i(new h("Promise.all accepts an array"));var e=Array.prototype.slice.call(t);if(0===e.length)return n([]);var r=e.length;function u(t,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var o=s.then;if("function"==typeof o)return void o.call(s,function(n){u(t,n)},i)}e[t]=s,0==--r&&n(e)}catch(t){i(t)}}for(var s=0;s<e.length;s++)u(s,e[s])})},k.allSettled=function(t){return new this(function(n,i){if(!t||void 0===t.length)return i(new h(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var e=Array.prototype.slice.call(t);if(0===e.length)return n([]);var r=e.length;function u(t,i){if(i&&("object"==typeof i||"function"==typeof i)){var s=i.then;if("function"==typeof s)return void s.call(i,function(n){u(t,n)},function(i){e[t]={status:"rejected",reason:i},0==--r&&n(e)})}e[t]={status:"fulfilled",value:i},0==--r&&n(e)}for(var s=0;s<e.length;s++)u(s,e[s])})},k.resolve=function(t){return t&&"object"==typeof t&&t.constructor===k?t:new k(function(n){n(t)})},k.reject=function(t){return new k(function(n,i){i(t)})},k.race=function(t){return new k(function(n,i){if(!p(t))return i(new h("Promise.race accepts an array"));for(var e=0,r=t.length;e<r;e++)k.resolve(t[e]).then(n,i)})},k.R="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){b(t,0)},k.I=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var N=function(){var n=t.Promise;if(void 0!==n)try{if(-1!==n.toString().indexOf("[native code]"))return n}catch(t){}}(),O=u?u.userAgent:"",C=O.match(/Firefox\/([0-9]+)/i),A=null!=C,P=C?Number(C[1]):0,x=O.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),L=null!=x,B=x?Number(x[3]):0,M=function(){function t(t){this.N=0,this.C=0,this.P=[],this.B=t}return t.prototype.M=function(t){var n=this.length();this.F(n+1);var i=this.C+n&this.B-1;this.P[i]=t,this.N=n+1},t.prototype.push=function(t){var n=this.length()+1;if(this.B<n)this.M(t);else{var i=this.C+n-1,e=this.B-1;this.P[i&e]=t,this.N=n}},t.prototype.shift=function(){var t=this.C,n=this.P[t];return this.P[t]=void 0,this.C=t+1&this.B-1,this.N--,n},t.prototype.length=function(){return this.N},t.prototype.F=function(t){this.B<t&&this.U(this.B<<1)},t.prototype.U=function(t){var n=this.B;this.B=t;var i=this.C+this.N&n-1;!function(t,n,i,e){for(var r=0;r<e;++r)t[r+i]=t[r+n],t[r+n]=void 0}(this.P,0,n,i)},t}();var F="unhandledrejection",U=t.PromiseRejectionEvent,V=t.CustomEvent;function W(t){return new U(F,{reason:t,promise:N.reject(t).catch(function(){}),cancelable:!0})}function z(t){var n=new V(F,{detail:{reason:t},cancelable:!0});return v.defineProperty(n,"reason",{value:t}),n}function q(t){var n=e.createEvent("CustomEvent");return n.initCustomEvent(F,!1,!0,{reason:t}),n}var H,j,$,X,G,Y,K,J,Q,Z,tt,nt,it=function(t){return(it=function(){try{var t=N.resolve(),n=new U(F,{reason:"error",promise:t});return F===n.type&&"error"===n.reason}catch(t){}return!1}()?W:function(){try{var t=new V(F,{detail:{reason:"error"}});return F===t.type&&"error"===t.detail.reason}catch(t){}return!1}()?z:q)(t)};if(N&&!(A&&P<60||L&&B<15))j=N;else{j=k;var et=null!==(H=function(){var n=t.queueMicrotask;if("function"==typeof n)return function(t){return n(t)};var i=N;if(i&&"function"==typeof i.resolve){var e=i.resolve();return function(t){return e.then(t)}}}())&&void 0!==H?H:k.R,rt=($=et,X=new M(16),G=!1,{V:function(t){X.push(t),G||(G=!0,$(Y))},W:Y=function(){for(;X.length()>0;)X.shift()();G=!1}});k.R=rt.V,k.I=function(n){try{var i=it(n);if(!t.dispatchEvent(i)||i.defaultPrevented)return}catch(t){}s(function(){throw new f("Unhandled promise rejection: ".concat(n))},0)}}var ut,st,ot,ct={H:function(){function t(){this.j=[]}var n=t.prototype;return n.X=function(){},n.G=function(t){return{Y:function(){return j.resolve()},K:function(){}}},n.J=function(t){throw new f("Not implemented")},n.Z=function(t){return j.resolve()},n.nt=function(t){return j.resolve()},n.it=function(t){},n.et=function(){},t}(),rt:function(){function t(){}var n=t.prototype;return n.ut=function(){return j.resolve("all")},n.st=function(){},n.et=function(){},t}(),ot:{ct:function(t){getActiveDocument().addEventListener("unload",t)},ft:function(t){getActiveDocument().removeEventListener("unload",t)}},ht:{location:{href:"https://theoplayer.doubleclick.net"},get document(){return getActiveDocument()},top:void 0,parent:void 0,self:t,navigator:{userAgent:""},ResizeObserver:function(t){this.observe=function(t){},this.unobserve=function(t){},this.disconnect=function(){}}}};function at(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),v.defineProperty(t,e.key,e)}}function ft(t,n,i){return n&&at(t.prototype,n),i&&at(t,i),v.defineProperty(t,"prototype",{writable:!1}),t}function ht(t,n){return(ht=v.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function vt(t,n){t.prototype=v.create(n.prototype),t.prototype.constructor=t,ht(t,n)}function dt(t){st=t}Element.prototype.style={},K=(ut=ct).H,J=ut.rt,Q=ut.ot,Z=ut.ht,tt=Z&&Z.location,nt=Z&&Z.navigator,function(t){t.vt="web",t.dt="android",t.wt="android-tv",t.yt="ios",t.bt="tvos",t.pt="chromecast"}(ot||(ot={}));var lt=u?u.userAgent:"",wt=lt.match(/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),gt=lt.match(/Edg\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),yt=lt.match(/Android ([0-9\.]+)/i),mt=lt.match(/Windows NT ([0-9\.]+)/i),bt=lt.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),pt=lt.match(/Firefox\/([0-9\.]+)/i),_t=lt.match(/OPR\/(\d+\.\d+)/i),kt=lt.match(/Tizen ([0-9\.]+)/i),Tt=function(){function n(){this._t=Boolean("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch||u&&u.msMaxTouchPoints),this.kt=/(mac\sos\sx)\s?([\w\s\.]+\w)*/i.test(lt)||/(macintosh|mac(?=_powerpc)\s)/i.test(lt),this.Tt=/Windows NT/i.test(lt),this.St=mt?w(mt[1]):0,this.Et=/Android/i.test(lt),this.Rt=yt?w(yt[1]):0,this.It=/windows phone (8|8\.1)/i.test(lt),this.Dt=/iPhone/i.test(lt),this.Nt=/iPad/i.test(lt),this.Ot=this.kt&&this._t&&!this.Nt,this.Ct=/iPod/i.test(lt),this.At=/Mobile Safari/i.test(lt),this.Pt=/EOSSTB/i.test(lt),this.xt=(this.Dt||this.Nt||this.Ot||this.Ct)&&!this.It,this.Lt=this.It||this.xt||this.Et||this.At,this.Bt=/CriOS/i.test(lt),this.Mt=Boolean(t.chrome&&/google/i.test(u.vendor))||this.Bt,this.Ft=this.Mt&&/Edg\//i.test(u.userAgent),this.Ut=gt?l(gt[1],10):0,this.Vt=Boolean(t.chrome||/Chrome/i.test(lt)||/CriOS/i.test(lt)),this.Wt=wt?l(wt[1],10):0,this.zt=/SMART-TV.*Tizen/i.test(lt),this.qt=kt?w(kt[1]):0,this.Ht=/webos|web0s/i.test(lt),this.jt=/Edge\/\d+/i.test(lt),this.$t=/Trident/i.test(lt),this.Xt=this.$t&&!t.ActiveXObject&&"ActiveXObject"in t,this.Gt=/Vivaldi/i.test(lt),this.Yt=/Firefox/i.test(lt)&&!/Seamonkey/i.test(lt),this.Kt=pt?w(pt[1]):0,this.Jt=/Safari/i.test(lt)&&!/Chrome/i.test(lt)&&!this.It&&!this.zt,this.Qt=bt?w(bt[2]):0,this.Zt=Boolean(_t),this.tn=_t?w(_t[1]):0,this.nn=/CrKey/.test(lt),this.in=/\b(tv|smart-tv|smarttv|appletv|crkey|googletv|hbbtv|pov_tv|roku|viera|nettv|philipstv)\b/i.test(lt),this.en="tvos"===ot.wt,this.rn="tvos"===ot.dt,this.un=this.rn||this.en,this.sn="tvos"===ot.yt,this.cn="tvos"===ot.bt,this.an="tvos"===ot.pt}return ft(n,[{key:"fn",get:function(){return this._t}},{key:"hn",get:function(){return this.kt}},{key:"vn",get:function(){return this.Tt}},{key:"dn",get:function(){return this.St}},{key:"ln",get:function(){return this.Et}},{key:"wn",get:function(){return this.Rt}},{key:"gn",get:function(){return this.It}},{key:"yn",get:function(){return this.Dt}},{key:"mn",get:function(){return this.Nt}},{key:"bn",get:function(){return this.Ot}},{key:"pn",get:function(){return this.Ct}},{key:"_n",get:function(){return this.xt}},{key:"kn",get:function(){return this.Pt}},{key:"Tn",get:function(){return this.At}},{key:"Sn",get:function(){return this.Lt}},{key:"En",get:function(){return this.Bt}},{key:"Rn",get:function(){return this.Mt}},{key:"In",get:function(){return this.Wt}},{key:"Dn",get:function(){return this.Ft}},{key:"Nn",get:function(){return this.Ut}},{key:"On",get:function(){return this.zt}},{key:"Cn",get:function(){return this.qt}},{key:"An",get:function(){return this.Ht}},{key:"Pn",get:function(){return this.jt}},{key:"xn",get:function(){return this.$t}},{key:"Ln",get:function(){return this.Xt}},{key:"Bn",get:function(){return this.Gt}},{key:"Mn",get:function(){return this.Yt}},{key:"Fn",get:function(){return this.Kt}},{key:"Un",get:function(){return this.Jt}},{key:"Vn",get:function(){return this.Qt}},{key:"Wn",get:function(){return this.Zt}},{key:"zn",get:function(){return this.tn}},{key:"qn",get:function(){return this.nn}},{key:"Hn",get:function(){return this.in}},{key:"jn",get:function(){if(!(this.An||this.On))return!1;var t=this.In;return void 0===t||Number(t)<56}},{key:"$n",get:function(){return this.en}},{key:"Xn",get:function(){return this.rn}},{key:"Gn",get:function(){return this.un}},{key:"Yn",get:function(){return this.sn}},{key:"Kn",get:function(){return this.cn}},{key:"Jn",get:function(){return this.an}},{key:"Qn",get:function(){return this.Vt}}]),n}();Tt.Zn=new Tt;var St=Tt.Zn,Et={}.hasOwnProperty,Rt={}.toString;function It(t){return null!=t}function Dt(t){return void 0===t}var Nt=Array.isArray||function(t){return"[object Array]"===Rt.call(t)};function Ot(t){return Ct(t)&&Et.call(t,"length")&&Bt(t.length)}function Ct(t){return"object"==typeof t&&null!==t}function At(t){return Ct(t)&&t.constructor&&t.constructor===v}function Pt(t){return"string"==typeof t}function xt(t){return"boolean"==typeof t}function Lt(t){return Boolean(t)&&"function"==typeof t.then}function Bt(t){return"number"==typeof t}var Mt=function(){},Ft=function(t){return t},Ut=!(St.xn&&!St.Ln),Vt=t.console;function Wt(t){if(Ct(t))try{return JSON.stringify(t)}catch(t){}return t}function zt(t){return t.map(Wt).join(" ")}function qt(t){var n=Vt&&Vt[t];return n?n.bind&&Ut?n.bind(Vt):function(){for(var n=arguments.length,i=new Array(n),e=0;e<n;e++)i[e]=arguments[e];Vt[t](zt(i))}:void 0}var Ht,jt=qt("log")||Mt,$t=qt("warn")||jt.bind(void 0,"WARNING:"),Xt=qt("error")||jt.bind(void 0,"ERROR:"),Gt=(Ht=Vt&&Vt.assert)?Ht.bind&&Ut?Ht.bind(Vt):function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];Vt.assert(t,zt(i))}:function(t){if(!t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];Xt.apply(void 0,["Assertion failed:"].concat(i))}},Yt=null;try{Yt=new WebAssembly.Instance(new WebAssembly.Module(new y([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function Kt(t,n,i){this.low=0|t,this.high=0|n,this.unsigned=!!i}function Jt(t){return!0===(t&&t.ti)}function Qt(t){var n=d.clz32(t&-t);return t?31-n:n}Kt.prototype.ti,v.defineProperty(Kt.prototype,"ti",{value:!0}),Kt.isLong=Jt;var Zt={},tn={};function nn(t,n){var i,e,r;return n?(r=0<=(t>>>=0)&&t<256)&&(e=tn[t])?e:(i=rn(t,0,!0),r&&(tn[t]=i),i):(r=-128<=(t|=0)&&t<128)&&(e=Zt[t])?e:(i=rn(t,t<0?-1:0,!1),r&&(Zt[t]=i),i)}function en(t,n){if(g(t))return n?dn:vn;if(n){if(t<0)return dn;if(t>=an)return mn}else{if(t<=-fn)return bn;if(t+1>=fn)return yn}return t<0?en(-t,n).neg():rn(t%cn|0,t/cn|0,n)}function rn(t,n,i){return new Kt(t,n,i)}Kt.fromInt=nn,Kt.fromNumber=en,Kt.fromBits=rn;var un=d.pow;function sn(t,n,i){if(0===t.length)throw f("empty string");if("number"==typeof n?(i=n,n=!1):n=!!n,"NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return n?dn:vn;if((i=i||10)<2||36<i)throw RangeError("radix");var e;if((e=t.indexOf("-"))>0)throw f("interior hyphen");if(0===e)return sn(t.substring(1),n,i).neg();for(var r=en(un(i,8)),u=vn,s=0;s<t.length;s+=8){var o=d.min(8,t.length-s),c=l(t.substring(s,s+o),i);if(o<8){var a=en(un(i,o));u=u.mul(a).add(en(c))}else u=(u=u.mul(r)).add(en(c))}return u.unsigned=n,u}function on(t,n){return"number"==typeof t?en(t,n):"string"==typeof t?sn(t,n):rn(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}Kt.fromString=sn,Kt.fromValue=on;var cn=4294967296,an=cn*cn,fn=an/2,hn=nn(1<<24),vn=nn(0);Kt.ZERO=vn;var dn=nn(0,!0);Kt.UZERO=dn;var ln=nn(1);Kt.ONE=ln;var wn=nn(1,!0);Kt.UONE=wn;var gn=nn(-1);Kt.NEG_ONE=gn;var yn=rn(-1,2147483647,!1);Kt.MAX_VALUE=yn;var mn=rn(-1,-1,!0);Kt.MAX_UNSIGNED_VALUE=mn;var bn=rn(0,-2147483648,!1);Kt.MIN_VALUE=bn;var pn=Kt.prototype;pn.toInt=function(){return this.unsigned?this.low>>>0:this.low},pn.toNumber=function(){return this.unsigned?(this.high>>>0)*cn+(this.low>>>0):this.high*cn+(this.low>>>0)},pn.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(bn)){var n=en(t),i=this.div(n),e=i.mul(n).sub(this);return i.toString(t)+e.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var r=en(un(t,6),this.unsigned),u=this,s="";;){var o=u.div(r),c=(u.sub(o.mul(r)).toInt()>>>0).toString(t);if((u=o).isZero())return c+s;for(;c.length<6;)c="0"+c;s=""+c+s}},pn.getHighBits=function(){return this.high},pn.getHighBitsUnsigned=function(){return this.high>>>0},pn.getLowBits=function(){return this.low},pn.getLowBitsUnsigned=function(){return this.low>>>0},pn.getNumBitsAbs=function(){if(this.isNegative())return this.eq(bn)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,n=31;n>0&&0==(t&1<<n);n--);return 0!=this.high?n+33:n+1},pn.isZero=function(){return 0===this.high&&0===this.low},pn.eqz=pn.isZero,pn.isNegative=function(){return!this.unsigned&&this.high<0},pn.isPositive=function(){return this.unsigned||this.high>=0},pn.isOdd=function(){return 1==(1&this.low)},pn.isEven=function(){return 0==(1&this.low)},pn.equals=function(t){return Jt(t)||(t=on(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},pn.eq=pn.equals,pn.notEquals=function(t){return!this.eq(t)},pn.neq=pn.notEquals,pn.ne=pn.notEquals,pn.lessThan=function(t){return this.comp(t)<0},pn.lt=pn.lessThan,pn.lessThanOrEqual=function(t){return this.comp(t)<=0},pn.lte=pn.lessThanOrEqual,pn.le=pn.lessThanOrEqual,pn.greaterThan=function(t){return this.comp(t)>0},pn.gt=pn.greaterThan,pn.greaterThanOrEqual=function(t){return this.comp(t)>=0},pn.gte=pn.greaterThanOrEqual,pn.ge=pn.greaterThanOrEqual,pn.compare=function(t){if(Jt(t)||(t=on(t)),this.eq(t))return 0;var n=this.isNegative(),i=t.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},pn.comp=pn.compare,pn.negate=function(){return!this.unsigned&&this.eq(bn)?bn:this.not().add(ln)},pn.neg=pn.negate,pn.add=function(t){Jt(t)||(t=on(t));var n=this.high>>>16,i=65535&this.high,e=this.low>>>16,r=65535&this.low,u=t.high>>>16,s=65535&t.high,o=t.low>>>16,c=0,a=0,f=0,h=0;return f+=(h+=r+(65535&t.low))>>>16,a+=(f+=e+o)>>>16,c+=(a+=i+s)>>>16,c+=n+u,rn((f&=65535)<<16|(h&=65535),(c&=65535)<<16|(a&=65535),this.unsigned)},pn.subtract=function(t){return Jt(t)||(t=on(t)),this.add(t.neg())},pn.sub=pn.subtract,pn.multiply=function(t){if(this.isZero())return this;if(Jt(t)||(t=on(t)),Yt)return rn(Yt.mul(this.low,this.high,t.low,t.high),Yt.get_high(),this.unsigned);if(t.isZero())return this.unsigned?dn:vn;if(this.eq(bn))return t.isOdd()?bn:vn;if(t.eq(bn))return this.isOdd()?bn:vn;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(hn)&&t.lt(hn))return en(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,e=this.low>>>16,r=65535&this.low,u=t.high>>>16,s=65535&t.high,o=t.low>>>16,c=65535&t.low,a=0,f=0,h=0,v=0;return h+=(v+=r*c)>>>16,f+=(h+=e*c)>>>16,h&=65535,f+=(h+=r*o)>>>16,a+=(f+=i*c)>>>16,f&=65535,a+=(f+=e*o)>>>16,f&=65535,a+=(f+=r*s)>>>16,a+=n*c+i*o+e*s+r*u,rn((h&=65535)<<16|(v&=65535),(a&=65535)<<16|(f&=65535),this.unsigned)},pn.mul=pn.multiply,pn.divide=function(t){if(Jt(t)||(t=on(t)),t.isZero())throw f("division by zero");var n,i,e;if(Yt)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?rn((this.unsigned?Yt.div_u:Yt.div_s)(this.low,this.high,t.low,t.high),Yt.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?dn:vn;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return dn;if(t.gt(this.shru(1)))return wn;e=dn}else{if(this.eq(bn))return t.eq(ln)||t.eq(gn)?bn:t.eq(bn)?ln:(n=this.shr(1).div(t).shl(1)).eq(vn)?t.isNegative()?ln:gn:(i=this.sub(t.mul(n)),e=n.add(i.div(t)));if(t.eq(bn))return this.unsigned?dn:vn;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();e=vn}for(i=this;i.gte(t);){n=d.max(1,d.floor(i.toNumber()/t.toNumber()));for(var r=d.ceil(d.log(n)/d.LN2),u=r<=48?1:un(2,r-48),s=en(n),o=s.mul(t);o.isNegative()||o.gt(i);)o=(s=en(n-=u,this.unsigned)).mul(t);s.isZero()&&(s=ln),e=e.add(s),i=i.sub(o)}return e},pn.div=pn.divide,pn.modulo=function(t){return Jt(t)||(t=on(t)),Yt?rn((this.unsigned?Yt.rem_u:Yt.rem_s)(this.low,this.high,t.low,t.high),Yt.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},pn.mod=pn.modulo,pn.rem=pn.modulo,pn.not=function(){return rn(~this.low,~this.high,this.unsigned)},pn.countLeadingZeros=function(){return this.high?d.clz32(this.high):d.clz32(this.low)+32},pn.clz=pn.countLeadingZeros,pn.countTrailingZeros=function(){return this.low?Qt(this.low):Qt(this.high)+32},pn.ctz=pn.countTrailingZeros,pn.and=function(t){return Jt(t)||(t=on(t)),rn(this.low&t.low,this.high&t.high,this.unsigned)},pn.or=function(t){return Jt(t)||(t=on(t)),rn(this.low|t.low,this.high|t.high,this.unsigned)},pn.xor=function(t){return Jt(t)||(t=on(t)),rn(this.low^t.low,this.high^t.high,this.unsigned)},pn.shiftLeft=function(t){return Jt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?rn(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):rn(0,this.low<<t-32,this.unsigned)},pn.shl=pn.shiftLeft,pn.shiftRight=function(t){return Jt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?rn(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):rn(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},pn.shr=pn.shiftRight,pn.shiftRightUnsigned=function(t){return Jt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?rn(this.low>>>t|this.high<<32-t,this.high>>>t,this.unsigned):rn(32===t?this.high:this.high>>>t-32,0,this.unsigned)},pn.shru=pn.shiftRightUnsigned,pn.shr_u=pn.shiftRightUnsigned,pn.rotateLeft=function(t){var n;return Jt(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?rn(this.high,this.low,this.unsigned):t<32?(n=32-t,rn(this.low<<t|this.high>>>n,this.high<<t|this.low>>>n,this.unsigned)):(n=32-(t-=32),rn(this.high<<t|this.low>>>n,this.low<<t|this.high>>>n,this.unsigned))},pn.rotl=pn.rotateLeft,pn.rotateRight=function(t){var n;return Jt(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?rn(this.high,this.low,this.unsigned):t<32?(n=32-t,rn(this.high<<n|this.low>>>t,this.low<<n|this.high>>>t,this.unsigned)):(n=32-(t-=32),rn(this.low<<n|this.high>>>t,this.high<<n|this.low>>>t,this.unsigned))},pn.rotr=pn.rotateRight,pn.toSigned=function(){return this.unsigned?rn(this.low,this.high,!1):this},pn.toUnsigned=function(){return this.unsigned?this:rn(this.low,this.high,!0)},pn.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},pn.toBytesLE=function(){var t=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},pn.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]},Kt.fromBytes=function(t,n,i){return i?Kt.fromBytesLE(t,n):Kt.fromBytesBE(t,n)},Kt.fromBytesLE=function(t,n){return new Kt(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},Kt.fromBytesBE=function(t,n){return new Kt(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};var _n=d.pow(2,-52);function kn(t,n,i){return d.min(d.max(t,n),i)}function Tn(t,n,i){return t===n||d.abs(t-n)<=i}function Sn(t,n){for(var i=t,e=n;0!==e;){var r=i%e;i=e,e=r}return i<0?-i:i}function En(){return Date.now()||(new Date).getTime()}function Rn(t){return t/1e3}var In;function Dn(t){return t.ni===In.ii}function Nn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}Kt.fromNumber(9007199254740991),function(t){t[t.ii=1]="ii",t[t.ei=2]="ei",t[t.ri=3]="ri",t[t.ui=4]="ui",t[t.si=9]="si"}(In||(In={}));var On=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];f.apply(this,n)};(On.prototype=v.create(f.prototype)).constructor=On;var Cn=function(t){function n(n,i){var e;return(e=t.call(this)||this).cause=void 0,e.message=n||"Unknown error",e.cause=i,f.captureStackTrace&&f.captureStackTrace(Nn(e),e.constructor),e}return vt(n,t),ft(n,[{key:"name",get:function(){return"BaseError"}}]),n}(On),An=function(t){function n(n){return t.call(this,"Invalid XML",n)||this}return vt(n,t),n}(Cn),Pn=function(){function t(){}return t.prototype.oi=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new An(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new An;return new Vn(n)},t}(),xn=function(){function t(t){this.ci=void 0,this.ci=t}var n=t.prototype;return n.ai=function(t){return this.ci.isEqualNode(t.ci)},n.fi=function(n){return new t(this.ci.cloneNode(n))},ft(t,[{key:"ni",get:function(){return In.ei}},{key:"hi",get:function(){var t;return null!=(t=this.ci.localName)?t:qn(this.ci.nodeName)}},{key:"vi",get:function(){return this.ci.nodeName}},{key:"di",get:function(){var t;return null!=(t=this.ci.namespaceURI)?t:void 0}},{key:"li",get:function(){var t;return null!=(t=this.ci.prefix)?t:void 0}},{key:"wi",get:function(){return this.ci.nodeValue}}]),t}(),Ln=function(){function t(t){this.gi=void 0,this.yi=void 0,this.gi=t}var n=t.prototype;return n.mi=function(t){return this.bi.filter(function(n){return Wn(n)&&n.pi===t})},n._i=function(t,n){return this.bi.filter(function(i){return Wn(i)&&i.hi===n&&i.di===t})},n.ki=function(t){this.gi.appendChild(t.Ti),this.yi&&this.yi.push(t)},n.ai=function(t){return this.gi.isEqualNode(t.Ti)},ft(t,[{key:"bi",get:function(){return void 0===this.yi&&(this.yi=function(t){for(var n=[],i=0;i<t.length;i++){var e=zn(t.item(i));e&&n.push(e)}return n}(this.gi.childNodes)),this.yi}},{key:"Si",get:function(){return this.bi.filter(Wn)}},{key:"Ti",get:function(){return this.gi}}]),t}(),Bn=function(t){function n(n){return t.call(this,n)||this}vt(n,t);var i=n.prototype;return i.Ei=function(t){if(this.gi.hasAttribute(t))return this.gi.getAttribute(t)},i.Ri=function(t,n){if(this.gi.hasAttributeNS(t,n))return this.gi.getAttributeNS(t,n)},i.Ii=function(t){this.gi.removeAttribute(t)},i.Di=function(t,n){this.gi.removeAttributeNS(t,n)},i.Ni=function(t,n){this.gi.setAttribute(t,n)},i.Oi=function(t,n,i){this.gi.setAttributeNS(t,n,i)},i.fi=function(t){return new n(this.gi.cloneNode(t))},ft(n,[{key:"ni",get:function(){return In.ii}},{key:"hi",get:function(){var t;return null!=(t=this.gi.localName)?t:qn(this.gi.nodeName)}},{key:"di",get:function(){var t;return null!=(t=this.gi.namespaceURI)?t:void 0}},{key:"li",get:function(){var t;return null!=(t=this.gi.prefix)?t:void 0}},{key:"pi",get:function(){return this.gi.nodeName}},{key:"Ci",get:function(){return function(t){for(var n=[],i=0;i<t.length;i++)n.push(new xn(t.item(i)));return n}(this.gi.attributes)}},{key:"Ai",get:function(){return this.gi.textContent}}]),n}(Ln),Mn=function(){function t(t){this.gi=void 0,this.gi=t}return t.prototype.ai=function(t){return this.Pi===t.Pi},ft(t,[{key:"Pi",get:function(){return this.gi.nodeValue}},{key:"Ti",get:function(){return this.gi}}]),t}(),Fn=function(t){function n(n){return t.call(this,n)||this}return vt(n,t),n.prototype.fi=function(t){return new n(this.gi.cloneNode(t))},ft(n,[{key:"ni",get:function(){return In.ri}}]),n}(Mn),Un=function(t){function n(n){return t.call(this,n)||this}return vt(n,t),n.prototype.fi=function(t){return new n(this.gi.cloneNode(t))},ft(n,[{key:"ni",get:function(){return In.ui}}]),n}(Mn),Vn=function(t){function n(n){return t.call(this,n)||this}return vt(n,t),n.prototype.fi=function(t){return new n(this.gi.cloneNode(t))},ft(n,[{key:"ni",get:function(){return In.si}},{key:"xi",get:function(){return new Bn(this.gi.documentElement)}}]),n}(Ln);function Wn(t){return Dn(t)}function zn(t){switch(t.nodeType){case In.ii:return new Bn(t);case In.ri:return new Fn(t);case In.ui:return new Un(t)}}function qn(t){var n=t.indexOf(":");return n<0?t:t.substr(n+1)}function Hn(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),v.defineProperty(t,e.key,e)}}function jn(t,n){var i=function(t,n){var i=t.length;if(i<=1)return t;for(var e=new Array(i),r=1;r<i;r*=2){$n(t,n,r,e);var u=t;t=e,e=u}return t}(t,n);return i!==t&&$n(i,null,t.length,t),t}function $n(t,n,i,e){var r,u,s,o,c,a=t.length,f=0,h=2*i;for(r=0;r<a;r+=h)for(s=(u=r+i)+i,u>a&&(u=a),s>a&&(s=a),o=r,c=u;;)if(o<u&&c<s)n(t[o],t[c])<=0?e[f++]=t[o++]:e[f++]=t[c++];else if(o<u)e[f++]=t[o++];else{if(!(c<s))break;e[f++]=t[c++]}}var Xn=/[a-zA-Z]/,Gn=/[0-9]/,Yn=/[0-9a-fA-F]/,Kn=/^0x/i,Jn=/^[0-9]+$/,Qn=/^[0-9a-fA-F]+$/,Zn=/^[0-7]+$/,ti=v.prototype.toString,ni=Array.isArray||function(t){return"[object Array]"===ti.call(t)},ii="undefined"!=typeof Symbol&&"symbol"==typeof Symbol.iterator;function ei(t){return ni(t)?t:Array.from(t)}function ri(t){return t>=65&&t<=90}function ui(t){return ri(t)||function(t){return t>=97&&t<=122}(t)}function si(t){return t>=48&&t<=57}function oi(t){return si(t)||ui(t)}function ci(t){return si(t)||t>=65&&t<=70||t>=97&&t<=102}function ai(t){return ri(t)?t+32:t}function fi(t){return si(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function hi(t,n){return void 0===n&&(n=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(n?87:55):-1}var vi=d.min,di=String.fromCharCode,li=16384;function wi(t){for(var n=t.length,i=[],e=0;e<n;e+=li){var r=vi(e+li,n);i.push(di.apply(null,t.slice(e,r)))}return i.join("")}var gi=/[^\0-\x7E]/,yi=/[\x2E\u3002\uFF0E\uFF61]/g,mi={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},bi=d.floor,pi=String.fromCharCode;function _i(t){throw new RangeError(mi[t])}function ki(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&r)<<10)+(1023&u)+65536):(n.push(r),i--)}else n.push(r)}return n}var Ti,Si,Ei,Ri=function(t,n){return t+22+75*(t<26)-((0!=n)<<5)},Ii=function(t,n,i){var e=0;for(t=i?bi(t/700):t>>1,t+=bi(t/n);t>455;e+=36)t=bi(t/35);return bi(e+36*t/(t+38))},Di=function(t){return function(t,n){var i=t.split("@"),e="";i.length>1&&(e=i[0]+"@",t=i[1]);var r=function(t,n){for(var i=[],e=t.length;e--;)i[e]=n(t[e]);return i}((t=t.replace(yi,".")).split("."),n).join(".");return e+r}(t,function(t){return gi.test(t)?"xn--"+function(t){for(var n=[],i=(t=ki(t)).length,e=128,r=0,u=72,s=0,o=t;s<o.length;s++){var c=o[s];c<128&&n.push(pi(c))}var a=n.length,f=a;for(a&&n.push("-");f<i;){for(var h=2147483647,v=0,d=t;v<d.length;v++){var l=d[v];l>=e&&l<h&&(h=l)}var w=f+1;h-e>bi((2147483647-r)/w)&&_i("overflow"),r+=(h-e)*w,e=h;for(var g=0,y=t;g<y.length;g++){var m=y[g];if(m<e&&++r>2147483647&&_i("overflow"),m==e){for(var b=r,p=36;;p+=36){var _=p<=u?1:p>=u+26?26:p-u;if(b<_)break;var k=b-_,T=36-_;n.push(pi(Ri(_+k%T,0))),b=bi(k/T)}n.push(pi(Ri(b,0))),u=Ii(r,w,f==a),r=0,++f}}++r,++e}return n.join("")}(t):t})};function Ni(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return wi(n)}function Oi(t){if(t>=55296&&t<=57343)throw new f("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function Ci(t,n){return t>>n&63|128}function Ai(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Oi(t),n.push(t>>12&15|224),n.push(Ci(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(Ci(t,12)),n.push(Ci(t,6))),n.push(63&t|128)):n.push(t)}function Pi(t){for(var n=[],i=0;i<t.length;i++){Ai(t[i],n)}return n}function xi(){if(Ei>=Si)throw new f("Invalid byte index");var t=255&Ti[Ei];if(Ei++,128==(192&t))return 63&t;throw new f("Invalid continuation byte")}function Li(){var t,n;if(Ei>Si)throw new f("Invalid byte index");if(Ei===Si)return!1;if(t=255&Ti[Ei],Ei++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|xi())>=128)return n;throw new f("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|xi()<<6|xi())>=2048)return Oi(n),n;throw new f("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|xi()<<12|xi()<<6|xi())>=65536&&n<=1114111)return n;throw new f("Invalid UTF-8 detected")}function Bi(t){return[37,hi(t>>4),hi(15&t)]}function Mi(t){return function(t){return t>=0&&t<=31}(t)||t>126}function Fi(t){return Mi(t)||32===t||34===t||60===t||62===t||96===t}function Ui(t){return Fi(t)||35===t||63===t||123===t||125===t}function Vi(t){return Ui(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function Wi(t){return t<33||t>126||34===t||35===t||60===t||62===t}function zi(t){return Wi(t)||39===t}function qi(t,n){if(!n(t))return[t];for(var i=Pi([t]),e=[],r=0;r<i.length;r++){var u=i[r];e.push.apply(e,Bi(u))}return e}function Hi(t,n){for(var i=[],e=0,r=ki(t);e<r.length;e++){var u=r[e];i.push.apply(i,qi(u,n))}return Ni(i)}function ji(t){return function(t){for(var n=[],i=t.length,e=0;e<i;e++){var r=t[e];if(37===r&&e+2<i&&ci(t[e+1])&&ci(t[e+2])){var u=fi(t[e+1])<<4|fi(t[e+2]);n.push(u),e+=2}else n.push(r)}return n}(Pi(t))}function $i(t){return Ni(function(t){Ti=t.slice(),Si=Ti.length,Ei=0;for(var n,i=[];!1!==(n=Li());)i.push(n);return i}(ji(ki(t))))}function Xi(t){var n,i,e,r,u=t.length,s=[0,0,0,0,0,0,0,0],o=0,c=null,a=0;if(a<u&&":"===t[a]){if(!(a+1<u&&":"===t[a+1]))throw new h;a+=2,c=o+=1}for(;a<u;){if(8===o)throw new h("Too many groups");if(":"!==t[a]){for(var f=0,v=0;v<4&&a<u&&Yn.test(t[a]);)f=f<<4|l(t[a],16),a+=1,v+=1;if("."===t[a]){if(0===v)throw new h;if(a-=v,o>6)throw new h;for(var d=0;a<u;){var w=null;if(d>0){if(!("."===t[a]&&d<4))throw new h;a+=1}if(!Gn.test(t[a]))throw new h;for(;a<u&&Gn.test(t[a]);){var g=l(t[a],10);if(null===w)w=g;else{if(0===w)throw new h;if((w=10*w+g)>255)throw new h}a+=1}s[o]=s[o]<<8|w,2!==(d+=1)&&4!==d||(o+=1)}if(4!==d)throw new h;break}if(":"===t[a]){if((a+=1)===u)throw new h}else if(a<u)throw new h;s[o]=f,o+=1}else{if(null!==c)throw new h("Too many :: groups");a+=1,c=o+=1}}if(null!==c){var y=o-c;for(o=7;0!==o&&y>0;)e=c+y-1,r=void 0,r=(n=s)[i=o],n[i]=n[e],n[e]=r,o-=1,y-=1}else if(8!==o)throw new h;return s}function Gi(t){var n=10,i=Jn;return Kn.test(t)?(t=t.slice(2),n=16,i=Qn):t.length>=2&&"0"===t[0]&&(t=t.slice(1),n=8,i=Zn),""===t?0:i.test(t)?l(t,n):void 0}var Yi={Li:4},Ki=/[\0\t\n\r #%/:?@\[\\\]]/,Ji=/[\0\t\n\r #/:?@\[\\\]]/;function Qi(t,n){if("["===t[0]){if("]"!==t[t.length-1])throw new h("Invalid IPv6 address");return{Li:2,Bi:Xi(t.slice(1,-1))}}if(!n)return function(t){if(Ji.test(t))throw new h("Invalid code point in opaque host");var n=Hi(t,Mi);return""===n?Yi:{Li:3,P:n}}(t);var i=function(t){return function(t){return Di(t.toLowerCase())}(t)}($i(t));if(Ki.test(i))throw new h("Invalid code point in host");var e=function(t){var n=t.split(".");if(""===n[n.length-1]&&n.pop(),!(n.length>4)){for(var i=[],e=0;e<n.length;e++){var r=n[e];if(""===r)return;var u=Gi(r);if(void 0===u)return;i.push(u)}for(var s=0;s<i.length-1;s++)if(i[s]>255)throw new h;if(i[i.length-1]>=d.pow(256,5-i.length))throw new h;for(var o=i.pop(),c=0;c<i.length;c++)o+=i[c]*d.pow(256,3-c);return o}}(i);return void 0!==e?{Li:1,Bi:e}:""===i?Yi:{Li:0,Mi:i}}function Zi(t){switch(t.Li){case 0:return t.Mi;case 1:return function(t){for(var n=[],i=t,e=1;e<=4;e++)n.push(""+(255&i)),4!==e&&n.push("."),i>>>=8;return n.reverse().join("")}(t.Bi);case 2:return"["+function(t){for(var n="",i=function(t){for(var n=0,i=0,e=0,r=0,u=0;u<8;u++)0===t[u]?(0===r&&(e=u),r++):(r>i&&(n=e,i=r),r=0);return r>i&&(n=e,i=r),i>1?n:null}(t),e=!1,r=0;r<8;r++){if(e){if(0===t[r])continue;e=!1}i!==r?(n+=t[r].toString(16),7!==r&&(n+=":")):(n+=0===r?"::":":",e=!0)}return n}(t.Bi)+"]";case 3:return t.P;case 4:return""}}var te=/\+/g;function ne(t){for(var n=t.split("&"),i=[],e=0;e<n.length;e++){var r=n[e];if(""!==r){var u=r.indexOf("="),s=void 0,o=void 0;-1!==u?(s=r.slice(0,u),o=r.slice(u+1)):(s=r,o=""),s=s.replace(te," "),o=o.replace(te," ");var c=$i(s),a=$i(o);i.push([c,a])}}return i}function ie(t){for(var n="",i=0;i<t.length;i++){var e=t[i];i>0&&(n+="&"),n+=ee(Pi(ki(e[0])))+"="+ee(Pi(ki(e[1])))}return n}function ee(t){for(var n,i=[],e=0;e<t.length;e++){var r=t[e];32===r?i.push(43):42===(n=r)||45===n||46===n||95===n||oi(n)?i.push(r):i.push.apply(i,Bi(r))}return wi(i)}var re=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function ue(t){var n=""+t,i=re.exec(n);return i?function(t,n){for(var i=t.length,e=[],r=n;r<i;r++){var u=t.charCodeAt(r);if(oe(u))if(ce(u)||r===i-1)e.push(se);else{var s=t.charCodeAt(r+1);ce(s)?(e.push(u,s),r++):e.push(se)}else e.push(u)}return t.slice(0,n)+wi(e)}(n,i.index):n}var se=65533,oe=function(t){return 55296==(63488&t)},ce=function(t){return 0!=(1024&t)};function ae(t,n){var i=t[0],e=n[0];return i===e?0:i<e?-1:1}function fe(t){t.Fi.length=0}function he(t,n){!function(t,n){for(var i=0;i<n.length;i++)t[i]=n[i];t.length=n.length}(t.Fi,ne(n))}function ve(t){if(t.Ui){var n=ie(t.Fi);""===n&&(n=null),t.Ui.Ui.Vi=n}}var de=function(){function t(t){if(void 0===t&&(t=void 0),this.Ui=null,null==t)this.Fi=[];else if("object"==typeof t||"function"==typeof t)if((u=t)instanceof de&&ni(u.Fi)&&(!ii||u[Symbol.iterator]===le))this.Fi=t.Fi.slice();else if(function(t){return null!=t&&(!!ni(t)||!!ii&&"function"==typeof t[Symbol.iterator])}(t)){this.Fi=[];for(var n=0,i=ei(t);n<i.length;n++){var e=ei(i[n]);if(2!==e.length)throw new h("Invalid name-value pair");this.Fi.push([ue(e[0]),ue(e[1])])}}else for(var r in this.Fi=[],t)v.prototype.hasOwnProperty.call(t,r)&&this.Fi.push([ue(r),ue(t[r])]);else(t=ue(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this.Fi=ne(t);var u}var n=t.prototype;return n.append=function(t,n){t=ue(t),n=ue(n),this.Fi.push([t,n]),ve(this)},n.delete=function(t){t=ue(t);for(var n=this.Fi,i=0;i<n.length;){n[i][0]===t?n.splice(i,1):i++}ve(this)},n.get=function(t){t=ue(t);for(var n=this.Fi,i=0;i<n.length;i++){var e=n[i];if(e[0]===t)return e[1]}return null},n.getAll=function(t){t=ue(t);for(var n=this.Fi,i=[],e=0;e<n.length;e++){var r=n[e];r[0]===t&&i.push(r[1])}return i},n.has=function(t){t=ue(t);for(var n=this.Fi,i=0;i<n.length;i++){if(n[i][0]===t)return!0}return!1},n.set=function(t,n){t=ue(t),n=ue(n);for(var i=this.Fi,e=!1,r=0;r<i.length;){var u=i[r];u[0]===t?e?i.splice(r,1):(u[1]=n,e=!0,r++):r++}e||i.push([t,n]),ve(this)},n.sort=function(){jn(this.Fi,ae),ve(this)},n.toString=function(){return ie(this.Fi)},n.entries=function(){return new me(this.Fi,we)},n.keys=function(){return new me(this.Fi,ge)},n.values=function(){return new me(this.Fi,ye)},n.forEach=function(t){var n=this;this.Fi.forEach(function(i){return t(i[1],i[0],n)})},t}(),le=de.prototype.entries;ii&&(de.prototype[Symbol.iterator]=le);var we=function(t){return[t[0],t[1]]},ge=function(t){return t[0]},ye=function(t){return t[1]},me=function(){function t(t,n){this.Wi=0,this.Fi=t,this.zi=n}return t.prototype.next=function(){return this.Wi<this.Fi.length?{done:!1,value:this.zi(this.Fi[this.Wi++])}:{done:!0,value:void 0}},t}(),be="null";var pe=v.create(null);pe.ftp=21,pe.file=0,pe.gopher=70,pe.http=80,pe.https=443,pe.ws=80,pe.wss=443;var _e=/^(?:\.|%2e)$/i,ke=/^(?:\.|%2e){2}$/i;function Te(t){return _e.test(t)}function Se(t){return ke.test(t)}function Ee(t){return void 0!==pe[t]}function Re(t){return Ee(t.qi)}function Ie(t){return""!==t.Hi||""!==t.ji}function De(t){var n=t.length;if(!(n>=2))return!1;if(!Oe(t.slice(0,2)))return!1;if(2!==n){var i=t[2];if(47!==i&&92!==i&&63!==i&&35!==i)return!1}return!0}function Ne(t){return 2===t.length&&Xn.test(t[0])&&(":"===t[1]||"|"===t[1])}function Oe(t){return 2===t.length&&Ne(wi(t))}function Ce(t){return Ne(t)&&":"===t[1]}function Ae(t){var n=t.$i;0!==n.length&&("file"===t.qi&&1===n.length&&Ce(n[0])||n.pop())}function Pe(t){return null===t.Xi||Yi===t.Xi||t.Gi||"file"===t.qi}var xe=-1,Le=/\t|\n|\r/g,Be=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function Me(t,n,i,e){void 0===i&&(i=null),void 0===e&&(e=null),i||(i=new Ue,t=t.replace(Be,""));var r=null!==e?e:0;n=n||null;for(var u=[],s=!1,o=!1,c=!1,a=ki(t=t.replace(Le,"")),f=a.length,v=0;v<=f;){var d=v<f?a[v]:xe;switch(r){case 0:if(!ui(d)){if(null===e){u.length=0,r=2;continue}throw new h("Invalid scheme")}u.push(ai(d)),r=1;break;case 1:if(oi(d)||43===d||45===d||46===d)u.push(ai(d));else{if(58!==d){if(null===e){u.length=0,r=2,v=0;continue}throw new h("Invalid scheme")}var w=Ni(u);if(null!==e){if(Ee(i.qi)&&!Ee(w))return;if(!Ee(i.qi)&&Ee(w))return;if((Ie(i)||null!==i.Yi)&&"file"===w)return;if("file"===i.qi&&(i.Xi===Yi||null===i.Xi))return}if(i.qi=w,null!==e)return void(Re(i)&&i.Yi===pe[i.qi]&&(i.Yi=null));u.length=0,"file"===i.qi?r=13:Re(i)&&n&&n.qi===i.qi?r=3:Re(i)?r=7:47===a[v+1]?(r=4,v+=1):(i.Gi=!0,i.$i.push(""),r=18)}break;case 2:if(!n||n.Gi&&35!==d)throw new h("Invalid scheme");n.Gi&&35===d?(i.qi=n.qi,i.$i=n.$i.slice(),i.Vi=n.Vi,i.Ki="",i.Gi=!0,r=20):"file"!==n.qi?(r=5,v-=1):(r=13,v-=1);break;case 3:47===d&&47===a[v+1]?r=8:(r=5,v-=1);break;case 4:47===d?r=9:(r=17,v-=1);break;case 5:i.qi=n.qi,xe===d?(i.Hi=n.Hi,i.ji=n.ji,i.Xi=n.Xi,i.Yi=n.Yi,i.$i=n.$i.slice(),i.Vi=n.Vi):47===d?r=6:63===d?(i.Hi=n.Hi,i.ji=n.ji,i.Xi=n.Xi,i.Yi=n.Yi,i.$i=n.$i.slice(),i.Vi="",r=19):35===d?(i.Hi=n.Hi,i.ji=n.ji,i.Xi=n.Xi,i.Yi=n.Yi,i.$i=n.$i.slice(),i.Vi=n.Vi,i.Ki="",r=20):92===d&&Re(i)?r=6:(i.Hi=n.Hi,i.ji=n.ji,i.Xi=n.Xi,i.Yi=n.Yi,i.$i=n.$i.slice(),i.$i.pop(),r=17,v-=1);break;case 6:!Re(i)||47!==d&&92!==d?47===d?r=9:(i.Hi=n.Hi,i.ji=n.ji,i.Xi=n.Xi,i.Yi=n.Yi,r=17,v-=1):r=8;break;case 7:if(47!==d||47!==a[v+1]){r=8;continue}r=8,v+=1;break;case 8:47!==d&&92!==d&&(r=9,v-=1);break;case 9:if(64===d){s&&u.unshift(37,52,48),s=!0;for(var g=0;g<u.length;g++){var y=u[g];if(58!==y||c){var m=Ni(qi(y,Vi));c?i.ji+=m:i.Hi+=m}else c=!0}u.length=0}else if(xe===d||47===d||63===d||35===d||Re(i)&&92===d){if(s&&0===u.length)throw new h("Invalid host");v-=u.length+1,u.length=0,r=10}else u.push(d);break;case 10:case 11:if(null!==e&&"file"===i.qi)v-=1,r=15;else if(58!==d||o)if(xe===d||47===d||63===d||35===d||Re(i)&&92===d){if(v-=1,Re(i)&&0===u.length)throw new h("Invalid host");if(null!==e&&0===u.length&&(Ie(i)||null!==i.Yi))return;var b=Qi(Ni(u),Re(i));if(i.Xi=b,u.length=0,r=16,null!==e)return}else 91===d?o=!0:93===d&&(o=!1),u.push(d);else{if(0===u.length)throw new h("Invalid host");var p=Qi(Ni(u),Re(i));if(i.Xi=p,u.length=0,r=12,11===e)return}break;case 12:if(si(d))u.push(d);else{if(!(xe===d||47===d||63===d||35===d||Re(i)&&92===d||null!==e))throw new h("Invalid port");if(0!==u.length){var _=l(Ni(u),10);if(_>65535)throw new h("Invalid port");i.Yi=_===pe[i.qi]?null:_,u.length=0}if(null!==e)return;r=16,v-=1}break;case 13:i.qi="file",47===d||92===d?r=14:n&&"file"===n.qi?xe===d?(i.Xi=n.Xi,i.$i=n.$i.slice(),i.Vi=n.Vi):63===d?(i.Xi=n.Xi,i.$i=n.$i.slice(),i.Vi="",r=19):35===d?(i.Xi=n.Xi,i.$i=n.$i.slice(),i.Vi=n.Vi,i.Ki="",r=20):(De(a.slice(v))||(i.Xi=n.Xi,i.$i=n.$i.slice(),Ae(i)),r=17,v-=1):(r=17,v-=1);break;case 14:47===d||92===d?r=15:(n&&"file"===n.qi&&!De(a.slice(v))&&(Ce(n.$i[0])?i.$i.push(n.$i[0]):i.Xi=n.Xi),r=17,v-=1);break;case 15:if(xe===d||47===d||92===d||63===d||35===d)if(v-=1,null===e&&Oe(u))r=17;else if(0===u.length){if(i.Xi=Yi,null!==e)return;r=16}else{var k=Qi(Ni(u),Re(i));if(0===k.Li&&"localhost"===k.Mi&&(k=Yi),i.Xi=k,null!==e)return;u.length=0,r=16}else u.push(d);break;case 16:Re(i)?(r=17,47!==d&&92!==d&&(v-=1)):null===e&&63===d?(i.Vi="",r=19):null===e&&35===d?(i.Ki="",r=20):xe!==d&&(r=17,47!==d&&(v-=1));break;case 17:if(xe===d||47===d||Re(i)&&92===d||null===e&&(63===d||35===d)){var T=Ni(u);if(Se(T)?(Ae(i),47===d||Re(i)&&92===d||i.$i.push("")):!Te(T)||47===d||Re(i)&&92===d?Te(T)||("file"===i.qi&&0===i.$i.length&&Oe(u)&&(Yi!==i.Xi&&null!==i.Xi&&(i.Xi=Yi),u[1]=58,T=Ni(u)),i.$i.push(T)):i.$i.push(""),u.length=0,"file"===i.qi&&(xe===d||63===d||35===d))for(;i.$i.length>1&&""===i.$i[0];)i.$i.shift();63===d?(i.Vi="",r=19):35===d&&(i.Ki="",r=20)}else u.push.apply(u,qi(d,Ui));break;case 18:63===d?(i.Vi="",r=19):35===d?(i.Ki="",r=20):xe!==d&&(i.$i[0]+=Ni(qi(d,Mi)));break;case 19:null===e&&35===d?(i.Ki="",r=20):xe!==d&&(i.Vi+=Ni(qi(d,Re(i)?zi:Wi)));break;case 20:xe===d||0===d||(i.Ki+=Ni(qi(d,Fi)))}v++}return i}function Fe(t,n,i,e){try{Me(t,n,i,e)}catch(t){}}var Ue=function(){this.qi="",this.Hi="",this.ji="",this.Xi=null,this.Yi=null,this.$i=[],this.Vi=null,this.Ki=null,this.Gi=!1};function Ve(t){switch(t.qi){case"blob":var n;try{n=Me(t.$i[0],null)}catch(t){return be}return Ve(n);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return i=t.qi,e=t.Xi,r=t.Yi,i+"://"+Zi(e)+(null===r?"":":"+r);case"file":default:return be}var i,e,r}var We,ze=function(){function t(t,n){var i,e,r=null;if(null!=n)if(null!=(i=n)&&i instanceof ze&&"object"==typeof i.Ui)r=n.Ui;else try{r=Me(String(n),null)}catch(t){throw new h("Invalid base URL: "+t.message)}try{e=Me(String(t),r)}catch(t){throw new h("Invalid URL: "+t.message)}var u=e.Vi;this.Ui=e,this.Vi=function(t){var n=new de;return null!==t&&he(n,t),n}(u),this.Vi.Ui=this}var n,i,e,r=t.prototype;return r.toString=function(){return this.href},r.toJSON=function(){return this.href},n=t,(i=[{key:"href",get:function(){return function(t,n){void 0===n&&(n=!1);var i=t.qi+":";if(null!==t.Xi?(i+="//",Ie(t)&&(i+=t.Hi,""!==t.ji&&(i+=":"+t.ji),i+="@"),i+=Zi(t.Xi),null!==t.Yi&&(i+=":"+t.Yi)):null===t.Xi&&"file"===t.qi&&(i+="//"),t.Gi)i+=t.$i[0];else for(var e=0,r=t.$i;e<r.length;e++)i+="/"+r[e];return null!==t.Vi&&(i+="?"+t.Vi),n||null===t.Ki||(i+="#"+t.Ki),i}(this.Ui)},set:function(t){var n;try{n=Me(String(t),null)}catch(t){throw new h("Invalid URL: "+t.message)}this.Ui=n,fe(this.Vi);var i=this.Ui.Vi;null!==i&&he(this.Vi,i)}},{key:"origin",get:function(){return Ve(this.Ui)}},{key:"protocol",get:function(){return this.Ui.qi+":"},set:function(t){Fe(t+":",null,this.Ui,0)}},{key:"username",get:function(){return this.Ui.Hi},set:function(t){Pe(this.Ui)||(this.Ui.Hi=Hi(t,Vi))}},{key:"password",get:function(){return this.Ui.ji},set:function(t){Pe(this.Ui)||(this.Ui.ji=Hi(t,Vi))}},{key:"host",get:function(){var t=this.Ui,n=t.Xi;if(null===n)return"";var i=t.Yi,e=Zi(n);return null!==i&&(e+=":"+i),e},set:function(t){this.Ui.Gi||Fe(t,null,this.Ui,10)}},{key:"hostname",get:function(){var t=this.Ui.Xi;return null===t?"":Zi(t)},set:function(t){this.Ui.Gi||Fe(t,null,this.Ui,11)}},{key:"port",get:function(){var t=this.Ui.Yi;return null===t?"":""+t},set:function(t){Pe(this.Ui)||(""===t?this.Ui.Yi=null:Fe(t,null,this.Ui,12))}},{key:"pathname",get:function(){var t=this.Ui.$i;return this.Ui.Gi?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.Ui.Gi||(this.Ui.$i.length=0,Fe(t,null,this.Ui,16))}},{key:"search",get:function(){var t=this.Ui.Vi;return null===t||""===t?"":"?"+t},set:function(t){t=ue(t);var n=this.Ui;if(""===t)return n.Vi=null,void fe(this.Vi);"?"===t[0]&&(t=t.slice(1)),n.Vi="",Fe(t,null,n,19),he(this.Vi,t)}},{key:"searchParams",get:function(){return this.Vi}},{key:"hash",get:function(){var t=this.Ui.Ki;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.Ui.Ki="",Fe(t,null,this.Ui,20)):this.Ui.Ki=null}}])&&Hn(n.prototype,i),e&&Hn(n,e),t}();function qe(t){return t.document&&t.document.baseURI||t.location.href||""}function He(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function je(t,n){var i=n.style;if(i)for(var e in t)i[e]=t[e]}function $e(){return void 0!==e?e.createElement("video"):void 0}function Xe(){return We||(We=$e()),We}var Ge=!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)||!(!u||!u.msMaxTouchPoints),Ye=Xe(),Ke=!(!Ye||!Ye.webkitShowPlaybackTargetPicker),Je=function(){function t(){this.Ji=void 0,this.Qi=!1,this.fn=Ge,this.Sn=!1,this.Zi=!0,this.te=!0}var n=t.prototype;return n.ie=function(){return 0},n.ee=function(t,n){return!0},n.re=function(t){return t>=1/6*2},ft(t,[{key:"ue",get:function(){return void 0===this.Ji&&(this.Ji=this.ie()),this.Ji}},{key:"se",get:function(){return i.devicePixelRatio||1}},{key:"oe",get:function(){return Ke}},{key:"ce",get:function(){return!1}},{key:"ae",get:function(){return!0}},{key:"fe",get:function(){return St.Un||St._n}},{key:"he",get:function(){return!0}},{key:"ve",get:function(){return!0}},{key:"de",get:function(){return!1}},{key:"we",get:function(){}},{key:"ye",get:function(){return!0}},{key:"me",get:function(){return!1}}]),t}(),Qe=function(){var t=$e();if(!t)return!1;var n=t.muted;return t.muted=!n,t.muted!==n}();!function(){if(St.bn)return!1;var t=$e();if(!t)return!1;var n=t.volume;t.volume=n/2+.1,t.volume}();var Ze=function(t){function n(n){var i;return(i=t.call(this)||this).be=void 0,i.be=n,i.be&&(i.Qi=i.be.Qi,i.fn=i.be.fn,i.Zi=Qe&&i.be.Zi),i}vt(n,t);var i=n.prototype;return i.ie=function(){return this.be?this.be.ue:t.prototype.ie.call(this)},i.ee=function(n,i){return this.be?this.be.ee(n,i):t.prototype.ee.call(this,n,i)},i.re=function(n){return this.be?this.be.re(n):t.prototype.re.call(this,n)},ft(n,[{key:"we",get:function(){var t;return null==(t=this.be)?void 0:t.we}},{key:"ye",get:function(){var t,n;return null==(t=null==(n=this.be)?void 0:n.ye)||t}}]),n}(Je),tr=function(t){function n(n){var i;return(i=t.call(this,n)||this).Qi=!0,i.Sn=!0,i}return vt(n,t),ft(n,[{key:"de",get:function(){return St._n}}]),n}(Ze),nr=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.ie=function(){return Z.MediaSource?t.prototype.ie.call(this):1},ft(n,[{key:"de",get:function(){return!0}}]),n}(tr),ir=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.ee=function(n,i){return t.prototype.ee.call(this,n,i)},ft(n,[{key:"ce",get:function(){return St.Cn<3}},{key:"ae",get:function(){return St.Cn>=3}},{key:"me",get:function(){return St.Cn<3}}]),n}(Ze),er=function(t){function n(){return t.call(this)||this}return vt(n,t),n}(Je),rr=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.ee=function(t,n){if(t&&t.pe&&n&&n.pe){var i=ur(t.pe,"mp4a.40.2")&&ur(n.pe,"mp4a.40.5"),e=ur(t.pe,"mp4a.40.5")&&ur(n.pe,"mp4a.40.2"),r=ur(t.pe,"mp4a.40.2")&&ur(n.pe,"mp4a.40.34"),u=ur(t.pe,"mp4a.40.34")&&ur(n.pe,"mp4a.40.2"),s=ur(t.pe,"mp4a.40.5")&&ur(n.pe,"mp4a.40.34"),o=ur(t.pe,"mp4a.40.34")&&ur(n.pe,"mp4a.40.5");return!(i||e||r||u||s||o)}return!0},ft(n,[{key:"we",get:function(){if(St.hn)return 4096}}]),n}(er);function ur(t,n){return t.indexOf(n)>-1}var sr=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.re=function(t){return t>=2},n}(er),or=function(t){function n(){var n;return(n=t.call(this)||this).Qi=St.Vn>=11,n.Zi=St.Un&&!(St._n&&St.Vn<10),n}return vt(n,t),n}(er),cr=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),ft(n,[{key:"he",get:function(){return!1}}]),n}(Ze),ar=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),ft(n,[{key:"ye",get:function(){return!St.vn||(St.Dn?92!==St.Nn:St.In>=100)}}]),n}(er),fr=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),ft(n,[{key:"de",get:function(){return!0}}]),n}(Ze),hr=function(){function n(){var n;this._e=void 0,this.ke=new Pn,this.Te=new vr,this.Se=(n=function(){if(St.Mn)return new rr;if(St.Pn||St.xn)return new sr;if(St.Un)return new or;if(St.Rn)return new ar;return new er}(),St._n?new nr(n):St.Sn?new tr(n):St.On?new ir(n):St.An?new cr(n):St.hn?new fr(n):new Ze(n)),this.Ee=function(){if(t.URL)try{var n=new t.URL("b","http://a");return n.pathname="c d","http://a/c%20d"===n.href}catch(t){}return!1}(),t.performance&&t.performance.now?this._e=function(){return t.performance.now()}:this._e=En}var i=n.prototype;return i.Re=function(){jt.apply(void 0,arguments)},i.Ie=function(){$t.apply(void 0,arguments)},i.De=function(){Xt.apply(void 0,arguments)},i.Ne=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];Gt.apply(void 0,[t].concat(i))},i.Oe=function(t,n){return s(t,n)},i.Ce=function(t,n){return c(t,n)},i.Ae=function(t){o(t)},i.Pe=function(t){a(t)},i.oi=function(t){return this.ke.oi(t)},i.xe=function(){return this.Le.xe()},i.Be=function(){return this.Le.Be()},i.Me=function(){return this.Le.Me()},i.Fe=function(){return this.Le.Fe()},i.Ue=function(){return this.Le.Ue()},i.Ve=function(t,n){return this.Le.Ve(t,n)},i.We=function(t){return this.Le.We(t)},i.ze=function(t,n){var i;return void 0===n&&(n=qe(Z)),i="object"!=typeof n||n instanceof ze?n:n.href,new ze(t,i)},i.qe=function(n,i){if(void 0===i&&(i=qe(Z)),this.Ee){var e=Pt(i)?i:i.toString();return new t.URL(n,e).href}return this.ze(n,i).href},ft(n,[{key:"He",get:function(){return this.Te}},{key:"je",get:function(){return this.Se}},{key:"$e",get:function(){return{Xe:u&&u.userAgent.match(/Android /i)?"Android":"other",Ge:Boolean(u&&u.userAgent.match(/Android 8.0.0/i))}}},{key:"Ye",get:function(){return t&&t.location&&"https:"===t.location.protocol}},{key:"Ke",get:function(){return"languages"in u?u.languages.slice():[u.language]}}]),n}(),vr=function(){function t(){}return ft(t,[{key:"Je",get:function(){return u.oscpu}},{key:"je",get:function(){return u.platform}},{key:"Qe",get:function(){return u.vendor}},{key:"Ze",get:function(){return u.vendorSub}}]),t}();var dr={exports:{}};!function(t){var n,i=v.prototype,e=i.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},u=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function c(t,n,i,e){var r=n&&n.prototype instanceof b?n:b,u=v.create(r.prototype),s=new C(e||[]);return u.tr=function(t,n,i){var e=d;return function(r,u){if(e===w)throw new f("Generator is already running");if(e===y){if("throw"===r)throw u;return P()}for(i.method=r,i.arg=u;;){var s=i.delegate;if(s){var o=D(s,i);if(o){if(o===m)continue;return o}}if("next"===i.method)i.sent=i.nr=i.arg;else if("throw"===i.method){if(e===d)throw e=y,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);e=w;var c=a(t,n,i);if("normal"===c.type){if(e=i.done?y:l,c.arg===m)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(e=y,i.method="throw",i.arg=c.arg)}}}(t,i,s),u}function a(t,n,i){try{return{type:"normal",arg:t.call(n,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var d="suspendedStart",l="suspendedYield",w="executing",y="completed",m={};function b(){}function p(){}function _(){}var k={};k[u]=function(){return this};var T=v.getPrototypeOf,S=T&&T(T(A([])));S&&S!==i&&e.call(S,u)&&(k=S);var E=_.prototype=b.prototype=v.create(k);function R(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this.tr(n,t)}})}function I(t){var n;this.tr=function(i,r){function u(){return new j(function(n,u){!function n(i,r,u,s){var o=a(t[i],t,r);if("throw"!==o.type){var c=o.arg,f=c.value;return f&&"object"==typeof f&&e.call(f,"ir")?j.resolve(f.ir).then(function(t){n("next",t,u,s)},function(t){n("throw",t,u,s)}):j.resolve(f).then(function(t){c.value=t,u(c)},function(t){return n("throw",t,u,s)})}s(o.arg)}(i,r,n,u)})}return n=n?n.then(u,u):u()}}function D(t,i){var e=t.iterator[i.method];if(e===n){if(i.delegate=null,"throw"===i.method){if(t.iterator.return&&(i.method="return",i.arg=n,D(t,i),"throw"===i.method))return m;i.method="throw",i.arg=new h("The iterator does not provide a 'throw' method")}return m}var r=a(e,t.iterator,i.arg);if("throw"===r.type)return i.method="throw",i.arg=r.arg,i.delegate=null,m;var u=r.arg;return u?u.done?(i[t.resultName]=u.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=n),i.delegate=null,m):u:(i.method="throw",i.arg=new h("iterator result is not an object"),i.delegate=null,m)}function N(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function O(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(N,this),this.reset(!0)}function A(t){if(t){var i=t[u];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!g(t.length)){var r=-1,s=function i(){for(;++r<t.length;)if(e.call(t,r))return i.value=t[r],i.done=!1,i;return i.value=n,i.done=!0,i};return s.next=s}}return{next:P}}function P(){return{value:n,done:!0}}p.prototype=E.constructor=_,_.constructor=p,_[o]=p.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===p||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return v.setPrototypeOf?v.setPrototypeOf(t,_):(t.__proto__=_,o in t||(t[o]="GeneratorFunction")),t.prototype=v.create(E),t},t.awrap=function(t){return{ir:t}},R(I.prototype),I.prototype[s]=function(){return this},t.AsyncIterator=I,t.async=function(n,i,e,r){var u=new I(c(n,i,e,r));return t.isGeneratorFunction(i)?u:u.next().then(function(t){return t.done?t.value:u.next()})},R(E),E[o]="Generator",E[u]=function(){return this},E.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var i in t)n.push(i);return n.reverse(),function i(){for(;n.length;){var e=n.pop();if(e in t)return i.value=e,i.done=!1,i}return i.done=!0,i}},t.values=A,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this.nr=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(O),!t)for(var i in this)"t"===i.charAt(0)&&e.call(this,i)&&!g(+i.slice(1))&&(this[i]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function r(e,r){return o.type="throw",o.arg=t,i.next=e,r&&(i.method="next",i.arg=n),!!r}for(var u=this.tryEntries.length-1;u>=0;--u){var s=this.tryEntries[u],o=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var c=e.call(s,"catchLoc"),a=e.call(s,"finallyLoc");if(c&&a){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!a)throw new f("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(t,n){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&e.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var u=r;break}}u&&("break"===t||"continue"===t)&&u.tryLoc<=n&&n<=u.finallyLoc&&(u=null);var s=u?u.completion:{};return s.type=t,s.arg=n,u?(this.method="next",this.next=u.finallyLoc,m):this.complete(s)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),m},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),O(i),m}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc===t){var e=i.completion;if("throw"===e.type){var r=e.arg;O(i)}return r}}throw new f("illegal catch attempt")},delegateYield:function(t,i,e){return this.delegate={iterator:A(t),resultName:i,nextLoc:e},"next"===this.method&&(this.arg=n),m}}}(dr.exports);var lr=dr.exports;function wr(){return(wr=v.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var e in i)v.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])}return t}).apply(this,arguments)}function gr(){var t=v.create(null);return t.__=void 0,delete t.__,t}function yr(){return new _r}function mr(t){var n=yr();for(var i in t)Et.call(t,i)&&n.set(i,t[i]);return n}var br,pr="undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0,_r=pr||(br=function(){function t(t,n){this.data=void 0,this.keys=void 0,this.index=0,this.selector=void 0,this.data=t,this.selector=n,this.keys=v.keys(t)}var n=t.prototype;return n.next=function(){var t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}},t}(),function(){function t(){this.data=gr(),this.size=0}var n=t.prototype;return n.get=function(t){return this.data[t]},n.set=function(t,n){return this.has(t)||this.size++,this.data[t]=n,this},n.has=function(t){return t in this.data},n.delete=function(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)},n.clear=function(){this.data=gr(),this.size=0},n.keys=function(){return new br(this.data,function(t,n){return n})},n.values=function(){return new br(this.data,function(t,n){return t[n]})},n.entries=function(){return new br(this.data,function(t,n){return[n,t[n]]})},n.forEach=function(t){for(var n in this.data)t(this.data[n],n)},t}());var kr,Tr,Sr=pr||(kr=function(){function t(t,n){this.rr=void 0,this.ur=void 0,this.rr=t,this.ur=n}var n=t.prototype;return n.next=function(){var t=this.rr.next();return t.done?t:{value:this.ur(t.value),done:!1}},t}(),function(){function t(){this.sr=yr()}var n=t.prototype;return n.get=function(t){return this.sr.get(""+t)},n.set=function(t,n){return this.sr.set(""+t,n),this},n.has=function(t){return this.sr.has(""+t)},n.delete=function(t){return this.sr.delete(""+t)},n.clear=function(){this.sr.clear()},n.keys=function(){return new kr(this.sr.keys(),function(t){return Number(t)})},n.values=function(){return this.sr.values()},n.entries=function(){return new kr(this.sr.entries(),function(t){var n=t[0],i=t[1];return[Number(n),i]})},n.forEach=function(t){this.sr.forEach(function(n,i){t(n,Number(i))})},ft(t,[{key:"size",get:function(){return this.sr.size}}]),t}());!function(t){t.cr="9a04f079-9840-4286-ab92-e65be0885f95",t.ar="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",t.hr="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",t.dr="94ce86fb-07ff-4f43-adb8-93d2fa968ca2"}(Tr||(Tr={}));var Er,Rr="cenc",Ir="sinf",Dr="skd",Nr=Tr.cr,Or="urn:uuid:"+Nr,Cr="com.microsoft.playready",Ar=Tr.ar,Pr="urn:uuid:"+Ar,xr=Tr.hr,Lr="urn:uuid:"+xr,Br=Tr.dr,Mr="urn:uuid:"+Br,Fr="com.apple.fps.1_0";!function(t){t.cr="playready",t.ar="widevine",t.dr="fairplay",t.hr="clearkey",t.wr="aes128"}(Er||(Er={}));var Ur={gr:Er.cr,yr:Cr,mr:"cenc",br:Nr,pr:Or,_r:"PlayReady"},Vr={gr:Er.ar,yr:"com.widevine.alpha",mr:"cenc",br:Ar,pr:Pr,_r:"Widevine"},Wr={gr:Er.dr,yr:Fr,mr:"skd",br:Br,pr:Mr,_r:"FairPlay"};Er.dr;var zr={gr:Er.hr,yr:"org.w3.clearkey",mr:"cenc",br:xr,pr:Lr,_r:"ClearKey"};function qr(t,n,i){return t.split(n).join(i)}function Hr(t,n){return null!=t&&-1!==t.indexOf(n)}function jr(t,n){return null!=t&&t.substr(0,n.length)===n}function $r(t,n){return null!=t&&t.substr(t.length-n.length,n.length)===n}function Xr(t,n){return t.toUpperCase()===n.toUpperCase()}function Gr(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return Kr(n)}var Yr=16384;function Kr(t){var n=t.length;if(n<=Yr)return String.fromCharCode.apply(String,t);for(var i=[],e=0;e<n;e+=Yr)i.push(String.fromCharCode.apply(String,t.slice(e,e+Yr)));return i.join("")}var Jr=St.Rn&&St.In>=42||St.Mn&&St.Fn>=38||St.Pn||St.Ln||St.Wn&&St.zn>=29;function Qr(t,n){return Hr(t,"audio")?{initDataTypes:["cenc"],audioCapabilities:[wr({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[wr({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}}var Zr,tu=function(){function t(t){this.kr=void 0,this.Tr=yr(),this.Sr=void 0,this.kr=t}var n=t.prototype;return n.Ue=function(){return this.We(Vr)},n.Be=function(){return this.We(zr)},n.Fe=function(){return this.We(Ur)},n.Me=function(){return this.We(Wr)},n.We=function(t){var n=t.pr,i=this.Tr.get(n);if(i)return i;var e=this.Ve(t,'video/mp4; codecs="avc1.42000a"');return this.Tr.set(n,e),e},n.Ve=function(t,n){return lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,lr.awrap(this.kr.Er(t.yr,[Qr(n,!0)]));case 3:return i.abrupt("return",!0);case 6:return i.prev=6,i.t0=i.catch(0),i.prev=8,i.next=11,lr.awrap(this.kr.Er(t.yr,[Qr(n,!1)]));case 11:return i.abrupt("return",!0);case 14:return i.prev=14,i.t1=i.catch(8),i.abrupt("return",!1);case 17:case"end":return i.stop()}},null,this,[[0,6],[8,14]],j)},n.xe=function(){return this.Sr||(this.Sr=this.Rr()),this.Sr},n.Rr=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if("https:"!==tt.protocol){t.next=2;break}return t.abrupt("return",!1);case 2:if(Jr){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,lr.awrap(this.Be());case 6:if(!t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:return t.abrupt("return",!0);case 9:case"end":return t.stop()}},null,this,null,j)},t}();function nu(t,n){var i=function(t,n){var i=t,e=i.length;if(e<=1)return i;for(var r=new Array(e),u=1;u<e;u*=2){iu(i,n,u,r);var s=i;i=r,r=s}return i}(t,n);return i!==t&&iu(i,void 0,t.length,t),t}function iu(t,n,i,e){var r,u,s,o,c,a=t.length,f=0,h=2*i;for(u=0;u<a;u+=h)for(r=(s=u+i)+i,s>a&&(s=a),r>a&&(r=a),o=u,c=s;;)if(o<s&&c<r)n&&n(t[o],t[c])<=0?e[f++]=t[o++]:e[f++]=t[c++];else if(o<s)e[f++]=t[o++];else{if(!(c<r))break;e[f++]=t[c++]}}!function(t){t[t.Ir=0]="Ir",t[t.Dr=1]="Dr",t[t.Nr=-1]="Nr"}(Zr||(Zr={}));var eu=function(t,n){return(0|t)-(0|n)},ru=function(t,n){return t===n?Zr.Ir:t<n?Zr.Nr:t>n?Zr.Dr:g(t)?g(n)?Zr.Ir:Zr.Dr:Zr.Nr};function uu(t,n,i){return Tn(t,n,i)?Zr.Ir:ru(t,n)}var su=function(t,n){return function(t,n){if(t===n)return!0;var i=d.abs(t-n);return i<_n||i<d.max(d.abs(t),d.abs(n))*_n}(t,n)?Zr.Ir:ru(t,n)};function ou(t,n,i){var e=function(t,n,i){for(var e=0;e<t.length;e+=1){var r=t[e];if(n.call(i,r,e,t))return e}return-1}(t,n,i);return-1===e?void 0:t[e]}function cu(t,n){var i=t.indexOf(n);return-1!==i&&(au(t,i),!0)}function au(t,n){t.splice(n,1)}function fu(t,n){return-1!==t.indexOf(n)}function hu(t){t.length=0}var vu=function(){function t(){this.Or=!1,this.Cr=!1,this.Ar=[],this.Pr=[]}var n=t.prototype;return n.xr=function(){if(!this.Or&&!this.Cr){this.Or=!0;for(var t=0,n=this.Ar.slice();t<n.length;t++){(0,n[t])()}this.Lr()}},n.Lr=function(){if(!this.Cr){this.Cr=!0;for(var t=0,n=this.Pr.slice();t<n.length;t++){(0,n[t])()}hu(this.Ar),hu(this.Pr)}},n.Br=function(t){this.Cr||this.Ar.push(t)},n.Mr=function(t){this.Cr||cu(this.Ar,t)},n.Fr=function(t){this.Cr||this.Pr.push(t)},n.Ur=function(t){this.Cr||cu(this.Pr,t)},t}(),du=function(){function t(){this.Vr=new vu}var n=t.prototype;return n.Wr=function(){this.Vr.xr()},n.Lr=function(){this.Vr.Lr()},n.zr=function(t){var n=this.Vr;if(!n.Or)if(t.Or)n.xr();else if(!n.Cr&&!t.Cr){var i=function(){e(),n.xr()},e=function e(){t.Mr(i),t.Ur(e),n.Mr(i),n.Ur(e)};t.Br(i),t.Fr(e),n.Br(i),n.Fr(e)}},n.qr=function(){var n=new t,i=new t,e=n.Hr,r=i.Hr,u=this.Vr,s=function(){e.Or&&r.Cr||r.Or&&e.Cr?u.xr():e.Cr&&r.Cr&&u.Lr()};e.Br(s),r.Br(s),e.Fr(s),r.Fr(s),n.zr(u),i.zr(u);return u.Fr(function(){e.Mr(s),r.Mr(s),e.Ur(s),r.Ur(s)}),[n,i]},ft(t,[{key:"Hr",get:function(){return this.Vr}}]),t}(),lu=function(t){function n(n,i){return t.call(this,n||"Aborted",i)||this}return vt(n,t),ft(n,[{key:"name",get:function(){return"AbortError"}}]),n}(Cn);function wu(t){return t instanceof f&&"AbortError"===t.name}function gu(t){if(t&&t.Or)throw new lu}function yu(t){if(wu(t))throw t}function mu(t){if(!wu(t))throw t}function bu(t,n){return n?new j(function(i,e){if(n.Or)return t.catch(Mt),e(new lu);var r=function t(){n.Mr(t),e(new lu)};n.Br(r),t.then(function(t){n.Mr(r),i(t)},function(t){n.Mr(r),e(t)})}):t}function pu(t,n){return t.then(function(t){return n.Lr(),t},function(t){throw n.Lr(),t})}var _u=j.resolve();function ku(t){_u.then(t)}function Tu(t){t.then(Mt,Mt)}function Su(t){return lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,lr.awrap(j.all(t));case 3:return n.abrupt("return",n.sent);case 6:return n.prev=6,n.t0=n.catch(0),n.next=10,lr.awrap(j.all(t.map(function(t){return t.catch(Mt)})));case 10:throw n.t0;case 11:case"end":return n.stop()}},null,null,[[0,6]],j)}function Eu(t){return t&&"function"!=typeof t?t.slice():t}function Ru(t,n,i){if(i)if("function"==typeof i)i.call(t,n);else for(var e=0;e<i.length;e++){i[e].call(t,n)}}var Iu,Du=function(){function t(t){var n=this;this.jr=gr(),this.$r=void 0,this.Xr=void 0,this.Gr=function(t){n.Yr(t)},this.Xr=t||this}var n=t.prototype;return n.Kr=function(t,n){if("function"==typeof n)if("string"==typeof t)this.Jr(t,n);else for(var i=0;i<t.length;i++){var e=t[i];this.Jr(e,n)}},n.Jr=function(t,n){var i=this.jr[t];i?"function"==typeof i?this.jr[t]=[i,n]:i.push(n):this.jr[t]=n},n.Qr=function(t){if("function"==typeof t){var n=this.$r;n?"function"==typeof n?this.$r=[n,t]:n.push(t):this.$r=t}},n.Zr=function(){this.jr=gr(),this.$r=void 0},n.Yr=function(t){var n=Eu(this.jr[t.type]),i=Eu(this.$r);Ru(this.Xr,t,n),Ru(this.Xr,t,i)},n.tu=function(t,n){if("function"==typeof n)if("string"==typeof t)this.nu(t,n);else for(var i=0;i<t.length;i++){var e=t[i];this.nu(e,n)}},n.nu=function(t,n){var i=this.jr[t];i&&("function"==typeof i?i===n&&(this.jr[t]=void 0):cu(i,n))},n.iu=function(t){if("string"==typeof t)this.jr[t]=void 0;else for(var n=0;n<t.length;n++){var i=t[n];this.jr[i]=void 0}},n.eu=function(t){var n=this.$r;n&&("function"==typeof n?n===t&&(this.$r=void 0):cu(n,t))},n.ru=function(t,n){var i=this;return new j(function(e,r){if(n&&n.Or)return r(new lu);var u=function(t){o(),e(t)},s=function(){o(),r(new lu)},o=function(){i.tu(t,u),n&&n.Mr(s)};i.Kr(t,u),n&&n.Br(s)})},t}(),Nu=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.Yr=function(n){var i=this;ku(function(){t.prototype.Yr.call(i,n)})},n}(Du),Ou=function(t,n){void 0===n&&(n=new Date),this.type=t,this.date=n},Cu=["cenc"],Au=["cbcs","cbcs-1-9"],Pu=function(t){function n(n){var i;return(i=t.call(this,"su")||this).uu=n,i}return vt(n,t),n}(Ou),xu=function(t){function n(n,i,e,r){var u;return(u=t.call(this,"ou")||this).uu=n,u.cu=i,u.ou=e,u.au=r,u}return vt(n,t),n}(Ou),Lu=function(t){function n(){return t.call(this,"fu")||this}return vt(n,t),n}(Ou);!function(t){t.hu="vu",t.du="lu"}(Iu||(Iu={}));var Bu=function(t){function n(n,i){var e;return(e=t.call(this,Iu.hu)||this).mr=n,e.wu=i,e}return vt(n,t),n}(Ou),Mu=new y([0]).buffer,Fu=function(){function t(){this.gu=void 0,this.gu=[]}var n=t.prototype;return n.yu=function(t){for(var n=0,i=this.gu;n<i.length;n++){if(i[n][0]===t)return!0}return!1},n.mu=function(t){for(var n=0,i=this.gu;n<i.length;n++){var e=i[n];if(e[0]===t)return e[1]}},n.bu=function(t,n){this.gu.forEach(function(n){return t(n[1],n[0])},n)},n.pu=function(t,n){this.gu.push([t,n])},n._u=function(){hu(this.gu)},ft(t,[{key:"ku",get:function(){return this.gu.length}}]),t}(),Uu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),Vu=16383,Wu=/[\t\n\f\r ]/g;function zu(t){return 43===t?62:47===t?63:t>=48&&t<=57?t-48+52:t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:qu()}function qu(){throw new f("Invalid base64 input")}function Hu(t){var n=t;Wu.test(n)&&(n=n.replace(Wu,""));var i=n.length;i%4==0&&i>=1&&"="===n[i-1]&&(i>=2&&"="===n[i-2]?i-=2:i-=1,n=n.substr(0,i));var e=i%4;if(1===e)return qu();for(var r,u=0===e?0:4-e,s=new y(function(t,n){return 3*(t+n)/4-n}(i,u)),o=u>0?i-4:i,c=0,a=0;c<o;c+=4)r=zu(n.charCodeAt(c))<<18|zu(n.charCodeAt(c+1))<<12|zu(n.charCodeAt(c+2))<<6|zu(n.charCodeAt(c+3)),s[a++]=r>>16&255,s[a++]=r>>8&255,s[a++]=255&r;return 2===u?(r=zu(n.charCodeAt(c))<<2|zu(n.charCodeAt(c+1))>>4,s[a++]=255&r):1===u&&(r=zu(n.charCodeAt(c))<<10|zu(n.charCodeAt(c+1))<<4|zu(n.charCodeAt(c+2))>>2,s[a++]=r>>8&255,s[a++]=255&r),s}function ju(t,n,i){for(var e,r,u,s=[],o=n;o<i;o+=3)s.push((e=t[o],r=t[o+1],u=t[o+2],Uu[e>>2]+Uu[(3&e)<<4|r>>4]+Uu[(15&r)<<2|u>>6]+Uu[63&u]));return s.join("")}function $u(t){for(var n=t.length,i=n%3,e=[],r=n-i,u=0;u<r;u+=Vu)e.push(ju(t,u,d.min(r,u+Vu)));if(1===i){var s=t[n-1];e.push(Uu[s>>2]+Uu[(3&s)<<4]+"==")}else if(2===i){var o=t[n-2],c=t[n-1];e.push(Uu[o>>2]+Uu[(3&o)<<4|c>>4]+Uu[(15&c)<<2]+"=")}return e.join("")}var Xu=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],Gu=ArrayBuffer.isView||function(t){return t&&fu(Xu,Rt.call(t))};function Yu(t,n){return t===n||t.byteLength===n.byteLength&&function(t,n){if(t===n)return!0;if(t.byteLength!==n.byteLength)return!1;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}(new y(t),new y(n))}function Ku(t){var n=t.reduce(function(t,n){return t+n.byteLength},0);return function(t,n){for(var i=new y(n),e=0,r=0;r<t.length;r++){var u=t[r];i.set(u,e),e+=u.byteLength}return i}(t,n)}function Ju(t){return Hu(t).buffer}function Qu(t){return $u(new y(t))}function Zu(t){return $u(Es(t))}var ts=function(){function t(t){void 0===t&&(t=0),this.Tu=t}var n=t.prototype;return n.Su=function(t){this.Tu+=t},n.Eu=function(t){this.Tu=t},n.Ru=function(){return new t(this.Iu)},ft(t,[{key:"Iu",get:function(){return this.Tu}}]),t}();function ns(t){if(t>=55296&&t<=57343)throw new f("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function is(t,n){return t>>n&63|128}function es(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(ns(t),n.push(t>>12&15|224),n.push(is(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(is(t,12)),n.push(is(t,6))),n.push(63&t|128)):n.push(t)}function rs(t,n){if(n.Iu>=t.length)throw new f("Invalid byte index");var i=255&t[n.Iu];if(n.Su(1),128==(192&i))return 63&i;throw new f("Invalid continuation byte")}function us(t,n){var i=n.Iu;if(i>t.length)throw new f("Invalid byte index");if(i===t.length)return!1;var e=255&t[i];if(n.Su(1),0==(128&e))return e;if(192==(224&e)){var r=(31&e)<<6|rs(t,n);if(r>=128)return r;throw new f("Invalid continuation byte")}if(224==(240&e)){var u=(15&e)<<12|rs(t,n)<<6|rs(t,n);if(u>=2048)return ns(u),u;throw new f("Invalid continuation byte")}if(240==(248&e)){var s=(7&e)<<18|rs(t,n)<<12|rs(t,n)<<6|rs(t,n);if(s>=65536&&s<=1114111)return s}throw new f("Invalid UTF-8 detected")}var ss=65279;var os=function(){function t(t){this.Du=t}return t.prototype.Nu=function(t){return function(t,n){return(t&n)===n}(this.Du,t)},t}();function cs(t,n){var i=t.getUint8(n.Iu);return n.Su(1),i}function as(t,n,i){t.setUint8(n.Iu,i),n.Su(1)}function fs(t,n,i){var e=Cs(Ps(t),n.Iu,n.Iu+i);return n.Su(e.byteLength),e}function hs(t,n,i){return n.Iu+i<=t.byteLength}function vs(t,n,i){void 0===i&&(i=!1);var e=t.getUint16(n.Iu,i);return n.Su(2),e}function ds(t,n,i,e){void 0===e&&(e=!1),t.setUint16(n.Iu,i,e),n.Su(2)}function ls(t,n,i){void 0===i&&(i=!1);var e=t.getUint32(n.Iu,i);return n.Su(4),e}function ws(t,n,i,e){void 0===e&&(e=!1),t.setUint32(n.Iu,i,e),n.Su(4)}function gs(t,n,i){void 0===i&&(i=!1);var e=ls(t,n,i),r=ls(t,n,i),u=i?r:e,s=i?e:r;return Kt.fromBits(s,u,!0)}function ys(t,n){var i=cs(t,n);if(i)return String.fromCharCode(i)}function ms(t,n){return function(t,n){return _s(t,n,!0)}(t,n)}function bs(t,n,i){for(var e="",r=0;r<i;r++)e+=ys(t,n);return e}function ps(t,n){var i,e=cs(t,n);return 0==(128&e)?i=e:192==(224&e)?i=64*(31&e)+(63&cs(t,n)):224==(240&e)?i=4096*(15&e)+64*(63&cs(t,n))+(63&cs(t,n)):240==(248&e)&&(i=262144*(7&e)+4096*(63&cs(t,n))+64*(63&cs(t,n))+(63&cs(t,n))),i}function _s(t,n,i){for(var e=[];n.Iu<t.byteLength;){var r=cs(t,n);if(i&&!r)break;e.push(r)}return Kr(e)}function ks(t,n,i,e){for(var r=[];n.Iu+2<=t.byteLength;){var u=vs(t,n,i);if(e&&!u)break;r.push(u)}return Kr(r)}function Ts(t,n,i,e){void 0===e&&(e=!1);for(var r=i.length,u=0;u<r;u+=1){ds(t,n,i.charCodeAt(u),e)}}function Ss(t){return _s(As(t),new Fs,!1)}function Es(t){var n=new y(t.length);return function(t,n,i){for(var e=i.length,r=0;r<e;r+=1)as(t,n,i.charCodeAt(r))}(As(n),new Fs,t),n}function Rs(t,n){return void 0===n&&(n=!1),ks(As(t),new Fs,n,!1)}function Is(t,n){void 0===n&&(n=!1);var i=new y(2*t.length);return Ts(As(i),new Fs,t,n),i}function Ds(t,n){return function(t,n,i){var e=[];(function(t,n){return n.Iu+3<=t.byteLength&&239===t.getUint8(n.Iu)&&187===t.getUint8(n.Iu+1)&&191===t.getUint8(n.Iu+2)})(t,n)&&n.Su(3);for(;n.Iu<t.byteLength;){var r=ps(t,n);if(void 0===r)break;if(i&&0===r)break;e.push(r)}return Gr(e)}(t,n,!0)}function Ns(t){return Gr(function(t,n){var i,e=[],r=new Fs;if(!n){if(!1===(i=us(t,r)))return e;i===ss||e.push(i)}for(;!1!==(i=us(t,r));)e.push(i);return e}(Ps(t)))}function Os(t){return new y(function(t){for(var n=[],i=0;i<t.length;i++)es(t[i],n);return n}(function(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&r)<<10)+(1023&u)+65536):(n.push(r),i--)}else n.push(r)}return n}(t)))}function Cs(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new y(t.buffer,t.byteOffset+n,i-n)}function As(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Ps(t){return new y(t.buffer,t.byteOffset,t.byteLength)}function xs(t){return t instanceof ArrayBuffer||Gu(t)}function Ls(t){return t instanceof ArrayBuffer?new y(t):Ps(t)}function Bs(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),t.slice?t.slice(n,i):Ms(Cs(t,n,i))}function Ms(t){if(t.slice)return t.slice(0);var n=new y(t.byteLength);return n.set(t,0),n}var Fs=function(){function t(t){void 0===t&&(t=0),this.Tu=t}var n=t.prototype;return n.Su=function(t){this.Tu+=t},n.Eu=function(t){this.Tu=t},n.Ru=function(){return new t(this.Iu)},n.Ou=function(){return new ts(this.Iu<<3)},ft(t,[{key:"Iu",get:function(){return this.Tu}}]),t}(),Us=function(){function t(){var t=this;this.Cu=void 0,this.Au=void 0,this.Pu=void 0,this.Cu=new j(function(n,i){t.Au=n,t.Pu=i})}var n=t.prototype;return n.xu=function(t){this.Au&&(this.Au(t),this.Lr())},n.Lu=function(t){this.Pu&&(this.Pu(t),this.Lr())},n.Wr=function(){this.Cu.catch(Mt),this.Lu(new lu)},n.Lr=function(){this.Au=void 0,this.Pu=void 0},t}();function Vs(){return new y([8,4]).buffer}function Ws(t){return Yu(t,Vs())}function zs(t,n){return t===Cr?function(t){if(t.byteLength<2*qs.length)return t;if(Rs(new DataView(t,0,2*qs.length),!0)===qs)return t;return n=t,Is('<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">'+Qu(n)+'</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>',!0).buffer;var n}(n):n}var qs="<PlayReady";var Hs=function(t){function n(n,i,e,r){var u;return(u=t.call(this,n,r)||this).Bu=void 0,u.Mu=void 0,u.Bu=i,u.Mu=e,u}return vt(n,t),n}(Cn),js=function(t,n){return(js=v.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)v.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])})(t,n)};function $s(t,n){if("function"!=typeof n&&null!==n)throw new h("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}js(t,n),t.prototype=null===n?v.create(n):(i.prototype=n.prototype,new i)}function Xs(t,n,i){return t.indexOf?t.indexOf(n,i):Array.prototype.indexOf.call(t,n,i)}function Gs(t,n,i){return d.min(d.max(t,n),i)}function Ys(t,n){return t>>8-n}function Ks(t,n){return t&(1<<n)-1}!function(){function t(t,n){this.Fu=t,this.Uu=n}t.prototype.get=function(t){var n=this.Fu.get(t);if(0===this.Uu||void 0===n)return n;var i=this.Fu.get(t+1)||0,e=n&(1<<8-this.Uu)-1,r=i>>8-this.Uu;return(e<<this.Uu)+r},t.prototype.getBit=function(t){if(!(t<0)){var n=this.Fu.get(d.floor((t+this.Uu)/8));if(void 0!==n)return(n&1<<7-this.Uu-t%8)>0?1:0}},v.defineProperty(t.prototype,"bitLength",{get:function(){return this.Fu.bitLength-this.Uu},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"length",{get:function(){return this.Fu.length},enumerable:!1,configurable:!0})}(),function(){function t(t){this.Vu=t,this.Wu=0,this.zu=0}v.defineProperty(t.prototype,"totalBitsRead",{get:function(){return 8*this.Wu+this.zu},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"done",{get:function(){return this.Wu===this.Vu.length&&0===this.zu},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"location",{get:function(){return{byte:this.Wu,bit:this.zu}},enumerable:!1,configurable:!0}),t.prototype.copy=function(){var n=new t(this.Vu);return n.seek(this.Wu,this.zu),n},t.prototype.canReadBits=function(t){return 8*this.Wu+t+this.zu<=8*this.Vu.length},t.prototype.canReadBytes=function(t){return 0===this.zu?this.Wu+t<=this.Vu.length:this.Wu+t<this.Vu.length},t.prototype.incBit=function(){this.zu++,this.zu>7&&(this.Wu++,this.zu=0)},t.prototype.seek=function(t,n){this.Wu=t,this.zu=n},t.prototype.peekBit=function(){if(!this.canReadBits(1))throw new f("Cannot read past end of buffer.");return this.Vu.get(this.Wu)>>7-this.zu&1},t.prototype.readBit=function(){var t=this.peekBit();return this.incBit(),t},t.prototype.readByte=function(){if(!this.canReadBytes(1))throw new f("Cannot read past end of buffer.");if(0===this.zu)return this.Vu.get(this.Wu++);var t=Ks(this.Vu.get(this.Wu),8-this.zu),n=Ys(this.Vu.get(this.Wu+1),this.zu);return this.Wu++,t<<this.zu|n},t.prototype.readBits=function(t){if(!this.canReadBits(t))throw new f("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readBit());return n},t.prototype.readUInt=function(t){if(t>32)throw new f("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new f("Cannot read past end of buffer.");var n=0;if(0===this.zu&&t%8==0)for(var i=t-8;i>=0;i-=8)n|=this.readByte()<<i;else for(i=t-1;i>=0;i--)n|=this.readBit()<<i;return n},t.prototype.readInt=function(t){if(t>32)throw new f("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new f("Cannot read past end of buffer.");var n=this.readUInt(t);return 0===(n&1<<t-1)?n:n-d.pow(2,t)},t.prototype.readExponentialGolombCode=function(){for(var t=0;0===this.readBit();)t++;var n=1<<t;return n+=this.readUInt(t)-1},t.prototype.readSignedExponentialGolombCode=function(){var t=this.readExponentialGolombCode();return 1&t?(t+1)/2:-t/2},t.prototype.skipBits=function(t){if(!this.canReadBits(t))throw new f("Skipping over the buffer edge is not allowed.");var n=this.zu+t;this.Wu+=n>>3,this.zu=7&n},t.prototype.readBool=function(){return this.readBit()>0},t.prototype.readString=function(t){if(!this.canReadBytes(t))throw new f("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readByte());return String.fromCharCode.apply(String,n)}}();var Js=function(t,n){return t===n?0:t<n?-1:t>n?1:g(t)?g(n)?0:1:-1},Qs=function(){function t(){this.qu=[],this.Hu=[],this.N=0}return t.from=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var e=new t,r=0,u=n;r<u.length;r++){var s=u[r];e.pushRange(s)}return e},t.prototype.pushRange=function(t,n,i){if(void 0===n&&(n=0),void 0===i&&(i=t.length),i<0)throw new f("The buffer length must be positive.");if(0!==i){if(0===this.Hu.length)this.Hu.push(0);else{var e=this.Hu[this.Hu.length-1]+this.qu[this.qu.length-1].length;this.Hu.push(e)}this.qu.push(t.subarray(n,n+i)),this.N+=i}},t.prototype.concat=function(n){var i=new t;return i.pushRange(this.join()),i.pushRange(n.join()),i},t.prototype.copy=function(t,n,i,e){if(void 0===n&&(n=0),void 0===i&&(i=0),void 0===e&&(e=this.length),n<0||i<0||e<0)throw new RangeError;return this.slice(i,e).copyInternal(t,n)},t.prototype.copyInternal=function(t,n){for(var i=0,e=n,r=0,u=this.qu;r<u.length;r++){var s=u[r];t.set(s,e),i+=s.length,e+=s.length}return i},t.prototype.clear=function(){this.qu=[],this.Hu=[],this.N=0},t.prototype.get=function(t){if(!(t<0||t>=this.length)){var n=this.findContainingBufferIndex(t),i=t-this.Hu[n];return this.qu[n][i]}},v.defineProperty(t.prototype,"first",{get:function(){return this.get(0)},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){if(this.qu.length<1)return-1;if(this.qu.length>1){var n=this.join();this.clear(),this.pushRange(n)}var i=this.qu[0];return"number"==typeof t?Xs(i,t):"undefined"!=typeof Buffer?Buffer.from(i.buffer,i.byteOffset,i.byteLength).indexOf(t):function(t,n){if(0===n.length)return 0;for(var i=n[0],e=n.length,r=t.length-e,u=0;u<=r&&!((u=Xs(t,i,u))<0||u>r);u++){for(var s=u+1,o=u+e,c=1;s<o&&t[s]===n[c];s++,c++);if(s===o)return u}return-1}(i,t)},t.prototype.findContainingBufferIndex=function(t){return function(t,n,i){if(0!==t.length){var e=0,r=t.length-1;if(1!==i(t[e],n)){if(1===i(n,t[r]))return r;for(;e!==r;){var u=d.ceil((e+r)/2);i(t[u],n)<=0?e=u:r=u-1}return e}}}(this.Hu,t,Js)},t.prototype.join=function(){if(1===this.qu.length)return this.qu[0];var t=new y(this.length);return this.copyInternal(t,0),t},v.defineProperty(t.prototype,"length",{get:function(){return this.N},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"bitLength",{get:function(){return 8*this.length},enumerable:!1,configurable:!0}),t.prototype.readUIntBE=function(t,n){if(n<=0||n>4)throw new f("Expected byteLength to be between 0 and 4 but was "+n);if(t<0||t>this.length-n)throw new f("Offset must be between 0 and buffer.length - byteLength, but was "+t+" (max allowed "+(this.length-n)+")");if(1===n)return this.get(t);for(var i=0,e=0;e<n;e++)i+=this.get(t+e)*d.pow(2,8*(n-e-1));return i},t.prototype.slice=function(n,i){void 0===i&&(i=this.length);var e=Gs(n,0,this.length),r=Gs(i,0,this.length);if(e>r)return new t;if(e===r)return new t;for(var u=new t,s=this.findContainingBufferIndex(e),o=this.qu[s],c=e,a=c-this.Hu[s];c+o.length-a<r;)u.pushRange(o,a,o.length-a),s+=1,a=(c+=o.length-a)-this.Hu[s],o=this.qu[s];var f=r-c;return u.pushRange(o,a,f),u},t.prototype.trim=function(){if(0===this.length)return new t;for(var n=this.length-1,i=this.qu.length-1,e=this.qu[i],r=e.length-1;n>=0&&i>=0;){if(0!==e[r])break;if(0===r){if(0===i)return new t;i-=1,r=(e=this.qu[i]).length-1}else r-=1;n-=1}return this.slice(0,n+1)},t}(),Zs=function(){function t(n){this.ju=n||t.BUFFER_CHUNK_SIZE,this.$u=!1,this.Xu=new Qs,this.Vu=new y(this.ju),this.Gu=0,this.Yu=0,this.zu=7}return t.prototype.closeByte=function(){this.Vu[this.Gu++]=this.Yu,this.Gu>=this.ju&&this.closeBuffer(),this.Yu=0,this.zu=7},t.prototype.closeBuffer=function(t){void 0===t&&(t=!0),0!==this.Gu&&(this.Xu.pushRange(this.Vu,0,this.Gu),t&&(this.Vu=new y(this.ju)),this.Gu=0)},v.defineProperty(t.prototype,"isWritingStartBit",{get:function(){return 7===this.zu},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(this.$u)throw new f("Cannot close a closed BitWriter.");return this.isWritingStartBit||this.closeByte(),this.closeBuffer(!1),this.$u=!0,this.Xu},t.prototype.writeBit=function(t){if(this.$u)throw new f("Cannot write to a closed BitWriter.");this.Yu|=t<<this.zu,0===this.zu?this.closeByte():this.zu--},t.prototype.writeByte=function(t){if(this.$u)throw new f("Cannot write to a closed BitWriter.");this.isWritingStartBit?(this.Yu=t,this.closeByte()):this.writeByteUnaligned(t)},t.prototype.writeByteUnaligned=function(t){var n=this.zu;this.Yu|=Ys(t,n+1),this.closeByte(),this.Yu=Ks(t,8-n)<<n+1,this.zu=n},t.prototype.writeBits=function(t){for(var n=0,i=t;n<i.length;n++){var e=i[n];this.writeBit(e)}},t.prototype.writeBytes=function(t){if(this.$u)throw new f("Cannot write to a closed BitWriter.");this.isWritingStartBit?this.writeBytesAligned(t):this.writeBytesUnaligned(t)},t.prototype.writeBytesAligned=function(t){this.Gu+t.length<=this.ju?(this.Vu.set(t,this.Gu),this.Gu+=t.length,this.Gu===this.ju&&this.closeBuffer()):(this.closeBuffer(),this.Xu.pushRange(t))},t.prototype.writeBytesUnaligned=function(t){if(0!==t.length){var n=this.zu;this.Yu|=Ys(t[0],n+1),this.closeByte();for(var i=1;i<t.length;i++){var e=Ks(t[i-1],8-n),r=Ys(t[i],n+1);this.Yu=e<<n+1|r,this.closeByte()}this.Yu=Ks(t[t.length-1],8-n)<<n+1,this.zu=n}},t.prototype.writeUInt=function(t,n){if(t<0)throw new f("Received a negative number.");if(n>32)throw new f("The max bitlength that can be provided is 32.");if(t>=d.pow(2,n))throw new f("Uint "+t+" cannot be represented in "+n+" bit(s).");if(this.isWritingStartBit&&n%8==0)for(var i=n-8;i>=0;i-=8)this.writeByte(t>>i&255);else for(i=n-1;i>=0;i--)this.writeBool((t&1<<i)>0)},t.prototype.writeInt=function(t,n){if(n>32)throw new f("The max bitlength that can be provided is 32.");if(d.abs(t)>=d.pow(2,n-1))throw new f("Signed integer "+t+" cannot be represented in "+n+" bit(s).");t<0?this.writeUInt(t+d.pow(2,n),n):this.writeUInt(t,n)},t.prototype.writeExponentialGolombCode=function(t){if(t<0)throw new f("Received a negative number.");for(var n=d.floor(d.log2(t+1))+1,i=0;i<n-1;i++)this.writeBit(0);this.writeUInt(t+1,n)},t.prototype.writeSignedExponentialGolombCode=function(t){0===t?this.writeExponentialGolombCode(0):t<0?this.writeExponentialGolombCode(-2*t):this.writeExponentialGolombCode(2*t-1)},t.prototype.padByte=function(t){for(;!this.isWritingStartBit;)this.writeBit(t)},t.prototype.writeBool=function(t){this.writeBit(t?1:0)},t.prototype.writeString=function(t){for(var n=function(t){for(var n=new y(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(t),i=0;i<n.length;i++)this.writeByte(n[i])},t.BUFFER_CHUNK_SIZE=1024,t}(),to=function(){function t(t){this.rb=new Qs,this.Ku=t}return t.prototype.closeWriter=function(){void 0!==this.Ku&&(this.rb=this.rb.concat(this.Ku.close()),this.Ku=void 0)},v.defineProperty(t.prototype,"writer",{get:function(){return void 0===this.Ku&&(this.Ku=new Zs),this.Ku},enumerable:!1,configurable:!0}),t.prototype.concat=function(t){this.closeWriter(),this.rb=this.rb.concat(t)},t.prototype.toRangedBuffer=function(){return this.closeWriter(),this.rb},t}(),no=function(){function t(t){if(this.boxType=t,4!==t.length&&16!==t.length)throw new f("The provided box type does not conform to either a 4 character type or a 16 byte uuid.")}return t.prototype.serializeCommonBoxHeader=function(n){var i=this.getSize(),e=i>=t.LARGE_SIZE/8,r=16===this.boxType.length;n.writeUInt(e?1:i,32),n.writeString(r?"uuid":this.boxType),e&&(n.writeUInt(d.floor(i/t.LARGE_SIZE),32),n.writeUInt(i%t.LARGE_SIZE,32)),r&&n.writeString(this.boxType)},t.prototype.getSize=function(){var n=8+(this.boxType.length>4?16:0),i=this.getBoxContentSize()+n;return i>=t.LARGE_SIZE/8&&(i+=8),i},t.prototype.serialize=function(){var t=new to;return this.serializeCommonBoxHeader(t.writer),this.serializeBoxContent(t),t.toRangedBuffer()},t.LARGE_SIZE=d.pow(2,32),t}();function io(t,n){return t instanceof Kt?64===n:t<d.pow(2,n)}function eo(t,n){return d.round(t*d.pow(2,n))}function ro(t,n){for(var i=0;i<n.length;i++)t.writeByte(n[i])}var uo=function(t){function n(n,i,e){var r=t.call(this,n)||this;if(r.version=i,!io(i,8))throw new f("the provided version cannot fit in 8 bits.");return r.flags=e,r}return $s(n,t),v.defineProperty(n.prototype,"flags",{get:function(){return this.Ju},set:function(t){this.Ju=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new f("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(no);!function(t){function n(n,i){var e=t.call(this,n)||this;return e.data=i,e}$s(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(Qs.from(this.data))}}(no);var so=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t}();function oo(t){for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return function(t){var n=t.length;if(n<=co)return String.fromCharCode.apply(String,t);for(var i=[],e=0;e<n;e+=co)i.push(String.fromCharCode.apply(String,t.slice(e,e+co)));return i.join("")}(n)}var co=16384;function ao(t,n){var i=t.getUint8(n.offset);return n.shift(1),i}function fo(t,n,i){var e,r=function(t,n,i){void 0===n&&(n=0);void 0===i&&(i=t.byteLength);return new y(t.buffer,t.byteOffset+n,i-n)}(new y((e=t).buffer,e.byteOffset,e.byteLength),n.offset,n.offset+i);return n.shift(r.byteLength),r}function ho(t,n,i){return n.offset+i<=t.byteLength}function vo(t,n,i){void 0===i&&(i=!1);var e=t.getUint32(n.offset,i);return n.shift(4),e}function lo(t,n,i){void 0===i&&(i=!1);var e=vo(t,n,i),r=vo(t,n,i),u=i?r:e,s=i?e:r;return Kt.fromBits(s,u,!0)}function wo(t,n){var i=ao(t,n);if(i)return String.fromCharCode(i)}function go(t,n,i){for(var e="",r=0;r<i;r++)e+=wo(t,n);return e}function yo(t,n){var i,e=ao(t,n);return 0==(128&e)?i=e:192==(224&e)?i=64*(31&e)+(63&ao(t,n)):224==(240&e)?i=4096*(15&e)+64*(63&ao(t,n))+(63&ao(t,n)):240==(248&e)&&(i=262144*(7&e)+4096*(63&ao(t,n))+64*(63&ao(t,n))+(63&ao(t,n))),i}function mo(t,n){return function(t,n,i){var e=[];(function(t,n){return n.offset+3<=t.byteLength&&239===t.getUint8(n.offset)&&187===t.getUint8(n.offset+1)&&191===t.getUint8(n.offset+2)})(t,n)&&n.shift(3);for(;n.offset<t.byteLength;){var r=yo(t,n);if(void 0===r)break;if(i&&0===r)break;e.push(r)}return oo(e)}(t,n,!0)}var bo=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t.prototype.toBit=function(){return new so(this.offset<<3)},t}(),po=function(){function t(t,n){this.data=t,this.cursor=n}return t.prototype.nextUint8=function(){return ao(this.data,this.cursor)},t.prototype.nextUint16=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getUint16(n.offset,i);return n.shift(2),e}(this.data,this.cursor)},t.prototype.nextInt16=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt16(n.offset,i);return n.shift(2),e}(this.data,this.cursor)},t.prototype.nextUint32=function(){return vo(this.data,this.cursor)},t.prototype.nextInt32=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt32(n.offset,i);return n.shift(4),e}(this.data,this.cursor)},t.prototype.nextInt64=function(){return function(t,n,i){void 0===i&&(i=!1);var e=vo(t,n,i),r=vo(t,n,i),u=i?r:e,s=i?e:r;return Kt.fromBits(s,u,!1)}(this.data,this.cursor)},t.prototype.nextUint64=function(){return lo(this.data,this.cursor)},t.prototype.nextUint8Array=function(t){return fo(this.data,this.cursor,t)},t.prototype.nextUint32Array=function(t){return function(t,n,i){for(var e=[],r=0;r<i;r++)e.push(vo(t,n));return e}(this.data,this.cursor,t)},t.prototype.nextChars=function(t){return go(this.data,this.cursor,t)},t.prototype.nextUTF8String=function(){return mo(this.data,this.cursor)},t.prototype.skip=function(t){this.cursor.shift(t)},t.prototype.clone=function(){return new t(this.data,this.cursor.clone())},t}();function _o(t,n){return t.type===n}var ko=8;function To(t,n){var i=n.offset,e=function(t,n){var i=n.offset;if(!ho(t,n,ko)){var e=n.offset+ko;return{complete:!1,neededOffset:e}}var r=vo(t,n),u=go(t,n,4);if(1===r){if(!ho(t,n,8)){var e=n.offset+8;return n.seek(i),{complete:!1,neededOffset:e}}r=lo(t,n).toNumber()}if("uuid"===u){if(!ho(t,n,16)){var e=n.offset+16;return n.seek(i),{complete:!1,neededOffset:e}}u=go(t,n,16)}var s=n.offset;return{complete:!0,header:{type:u,size:r,headerSize:s-i}}}(t,n);if(!e.complete)return e;var r=e.header,u=r.size;0===u&&(u=t.byteLength-i);var s=i+u;if(s>t.byteLength){var o=s;return n.seek(i),{complete:!1,neededOffset:o}}var c,a,f,h={type:r.type,offset:i,data:new po((c=t,a=i,f=s,void 0===a&&(a=0),void 0===f&&(f=c.byteLength),new DataView(c.buffer,c.byteOffset+a,f-a)),new bo(r.headerSize))};return n.seek(s),{complete:!0,box:h}}!function(t){function n(){return t.call(this,"mdir")||this}$s(n,t),n.prototype.serializeReserved=function(t){t.writer.writeString("appl"),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)}}(function(t){function n(n,i,e,r){void 0===e&&(e=0),void 0===r&&(r=0);var u=t.call(this,"hdlr",e,r)||this;return u.name=i,u.handlerType=n,u}return $s(n,t),v.defineProperty(n.prototype,"handlerType",{get:function(){return this.Qu},set:function(t){this.Qu=t},enumerable:!1,configurable:!0}),n.prototype.serializeReserved=function(t){t.writer.writeUInt(0,32),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)},n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+4+4+12+(null!==(i=null===(n=this.name)||void 0===n?void 0:n.length)&&void 0!==i?i:0)+1},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeString(this.handlerType),this.serializeReserved(n),this.name&&n.writer.writeString(this.name),n.writer.writeByte(0)},n}(uo));var So=function(){function t(t,n){void 0===n&&(n=!1),this.fixed28BitMode=n,this.tag=t}return t.prototype.encodeSize=function(t){for(var n=[];t>0;)n.length>0&&(n[n.length-1]+=128),n.push(t%128),t>>=7;if(this.fixed28BitMode)for(;n.length<4;)n.push(128);return n.reverse()},v.defineProperty(t.prototype,"tag",{get:function(){return this.Zu},set:function(t){if(!io(t,8))throw new f("Provided tag does not fit in 8 bits.");this.Zu=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return this.getDescriptorSize()+1+this.encodeSize(this.getDescriptorSize()).length},t.prototype.serialize=function(t){t.writer.writeByte(this.tag);for(var n=0,i=this.encodeSize(this.getDescriptorSize());n<i.length;n++){var e=i[n];t.writer.writeByte(e)}this.serializeDescriptorContent(t)},t}();!function(t){function n(n,i,e,r,u,s,o){void 0===o&&(o={});var c=t.call(this,4,o.fixed28BitMode)||this;return c.upStream=e,c.decoderSpecificInfo=s,c.objectTypeIndication=n,c.streamType=i,c.bufferSizeDb=r,c.maxBitrate=u.max,c.avgBitrate=u.avg,c}$s(n,t),v.defineProperty(n.prototype,"objectTypeIndication",{get:function(){return this.ts},set:function(t){if(!io(t,8))throw new f("Provided objectTypeIndication does not fit in 8 bits.");this.ts=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"streamType",{get:function(){return this.es},set:function(t){if(!io(t,6))throw new f("Provided streamType does not fit in 6 bits.");this.es=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.rs},set:function(t){if(!io(t,24))throw new f("Provided bufferSizeDb does not fit in 24 bits.");this.rs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"maxBitrate",{get:function(){return this.us},set:function(t){if(!io(t,32))throw new f("Provided maxBitrate does not fit in 32 bits.");this.us=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"avgBitrate",{get:function(){return this.ss},set:function(t){if(!io(t,32))throw new f("Provided avgBitrate does not fit in 32 bits.");this.ss=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 13+this.decoderSpecificInfo.reduce(function(t,n){return t+n.getSize()},0)},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.objectTypeIndication),t.writer.writeUInt(this.streamType,6),t.writer.writeBool(this.upStream),t.writer.writeBit(1),t.writer.writeUInt(this.bufferSizeDb,24),t.writer.writeUInt(this.maxBitrate,32),t.writer.writeUInt(this.avgBitrate,32);for(var n=0,i=this.decoderSpecificInfo;n<i.length;n++){i[n].serialize(t)}}}(So),function(t){function n(n,i){void 0===i&&(i={});var e=t.call(this,5,i.fixed28BitMode)||this;return e.data=n,e}$s(n,t),n.prototype.getDescriptorSize=function(){return this.data.length},n.prototype.serializeDescriptorContent=function(t){t.concat(Qs.from(this.data))}}(So);var Eo=function(t){function n(n){void 0===n&&(n=!1);var i=t.call(this,6,n)||this;return i.predefined=2,i}return $s(n,t),n.prototype.getDescriptorSize=function(){return 1},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.predefined)},n}(So);!function(t){function n(n,i,e,r){void 0===r&&(r={});var u=t.call(this,3,r.fixed28BitMode)||this;return u.decoderConfigDescriptor=e,u.esId=n,u.streamPriority=i,u.dependsOnEsId=null==r?void 0:r.dependsOnEsId,u.urlString=null==r?void 0:r.url,u.ocrEsId=null==r?void 0:r.ocrEsId,u.slConfigDescriptor=new Eo(r.fixed28BitMode),u}$s(n,t),v.defineProperty(n.prototype,"streamDependenceFlag",{get:function(){return void 0!==this.dependsOnEsId},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"urlFlag",{get:function(){return void 0!==this.urlString},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"ocrStreamFlag",{get:function(){return void 0!==this.ocrEsId},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"esId",{get:function(){return this.os},set:function(t){if(!io(t,16))throw new f("Provided esId does not fit in 16 bits.");this.os=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"streamPriority",{get:function(){return this.cs},set:function(t){if(!io(t,5))throw new f("Provided streamPriority does not fit in 5 bits.");this.cs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"dependsOnEsId",{get:function(){return this.as},set:function(t){if(t&&!io(t,16))throw new f("Provided dependsOnEsId does not fit in 16 bits.");this.as=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"ocrEsId",{get:function(){return this.fs},set:function(t){if(t&&!io(t,16))throw new f("Provided ocrEsId does not fit in 16 bits.");this.fs=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 3+(this.streamDependenceFlag?2:0)+(this.urlFlag?1+this.urlString.length:0)+(this.ocrStreamFlag?2:0)+this.decoderConfigDescriptor.getSize()+this.slConfigDescriptor.getSize()},n.prototype.serializeDescriptorContent=function(t){t.writer.writeUInt(this.esId,16),t.writer.writeBool(this.streamDependenceFlag),t.writer.writeBool(this.urlFlag),t.writer.writeBool(this.ocrStreamFlag),t.writer.writeUInt(this.streamPriority,5),this.streamDependenceFlag&&t.writer.writeUInt(this.dependsOnEsId,16),this.urlFlag&&(t.writer.writeByte(this.urlString.length),t.writer.writeString(this.urlString)),this.ocrStreamFlag&&t.writer.writeUInt(this.ocrEsId,16),this.decoderConfigDescriptor.serialize(t),this.slConfigDescriptor.serialize(t)}}(So);var Ro=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.boxes=[],n}return $s(n,t),n.prototype.getSize=function(){return t.prototype.getSize.call(this)+this.boxes.reduce(function(t,n){return t+n.getSize()},0)},n.prototype.serialize=function(){for(var n=t.prototype.serialize.call(this),i=0,e=this.boxes;i<e.length;i++){var r=e[i];n=n.concat(r.serialize())}return n},n}(no),Io=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return $s(n,t),n.prototype.serializeBoxContent=function(t){},n.prototype.getBoxContentSize=function(){return 0},n}(Ro),Do=function(t){function n(n,i){var e=t.call(this,n)||this;return e.dataReferenceIndex=i,e}return $s(n,t),v.defineProperty(n.prototype,"dataReferenceIndex",{get:function(){return this.hs},set:function(t){if(!io(t,16))throw new f("Provided dataReferenceIndex does not fit in 16 bits.");this.hs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){for(var n=0;n<6;n++)t.writer.writeByte(0);t.writer.writeUInt(this.dataReferenceIndex,16)},n}(Io),No=function(t){function n(n,i,e,r){var u,s,o=this;return(o=t.call(this,n,i)||this).extra=r,o.channelCount=null!==(u=e.channelCount)&&void 0!==u?u:2,o.sampleSize=null!==(s=e.sampleSize)&&void 0!==s?s:16,o.sampleRate=e.sampleRate,o}return $s(n,t),v.defineProperty(n.prototype,"channelCount",{get:function(){return this.vs},set:function(t){if(!io(t,16))throw new f("Provided channelCount does not fit in 16 bits.");this.vs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"sampleSize",{get:function(){return this.ds},set:function(t){if(!io(t,16))throw new f("Provided sampleSize does not fit in 16 bits.");this.ds=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"sampleRate",{get:function(){return this.ls},set:function(t){if(!io(eo(t,16),32))throw new f("Provided rate does not fit in 32 bits (fixed 16.16).");this.ls=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+8+2+2+2+2+(void 0!==this.sampleRate?4:0)+(null!==(i=null===(n=this.extra)||void 0===n?void 0:n.length)&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.channelCount,16),n.writer.writeUInt(this.sampleSize,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(eo(this.sampleRate,16),32),this.extra&&ro(n.writer,this.extra)},n}(Do);!function(t){function n(n){var i=t.call(this,"stco",0,0)||this;return i.entries=n,i}$s(n,t),v.defineProperty(n.prototype,"entries",{get:function(){return this.gs},set:function(t){if(!io(t.length,32))throw new f("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!io(t,32)}))throw new f("Not all entries can be represented in 32 bits.");this.gs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(uo),function(t){function n(n){var i=t.call(this,"clap")||this;return i.cleanApertureWidthN=n.cleanApertureWidthN,i.cleanApertureWidthD=n.cleanApertureWidthD,i.cleanApertureHeightN=n.cleanApertureHeightN,i.cleanApertureHeightD=n.cleanApertureHeightD,i.horizOffN=n.horizOffN,i.horizOffD=n.horizOffD,i.vertOffN=n.vertOffN,i.vertOffD=n.vertOffD,i}$s(n,t),v.defineProperty(n.prototype,"cleanApertureWidthN",{get:function(){return this.ys},set:function(t){if(!io(t,32))throw new f("Provided cleanApertureWidthN does not fit in 32 bits.");this.ys=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"cleanApertureWidthD",{get:function(){return this.bs},set:function(t){if(!io(t,32))throw new f("Provided cleanApertureWidthD does not fit in 32 bits.");this.bs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"cleanApertureHeightN",{get:function(){return this.ps},set:function(t){if(!io(t,32))throw new f("Provided cleanApertureHeightN does not fit in 32 bits.");this.ps=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"cleanApertureHeightD",{get:function(){return this._s},set:function(t){if(!io(t,32))throw new f("Provided cleanApertureHeightD does not fit in 32 bits.");this._s=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"horizOffN",{get:function(){return this.ks},set:function(t){if(!io(t,32))throw new f("Provided horizOffN does not fit in 32 bits.");this.ks=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"horizOffD",{get:function(){return this.Ts},set:function(t){if(!io(t,32))throw new f("Provided horizOffD does not fit in 32 bits.");this.Ts=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"vertOffN",{get:function(){return this.Ss},set:function(t){if(!io(t,32))throw new f("Provided vertOffN does not fit in 32 bits.");this.Ss=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"vertOffD",{get:function(){return this.Es},set:function(t){if(!io(t,32))throw new f("Provided vertOffD does not fit in 32 bits.");this.Es=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 32},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.cleanApertureWidthN,32),t.writer.writeUInt(this.cleanApertureWidthD,32),t.writer.writeUInt(this.cleanApertureHeightN,32),t.writer.writeUInt(this.cleanApertureHeightD,32),t.writer.writeUInt(this.horizOffN,32),t.writer.writeUInt(this.horizOffD,32),t.writer.writeUInt(this.vertOffN,32),t.writer.writeUInt(this.vertOffD,32)}}(no),function(t){function n(n,i){var e=t.call(this,"ctts",n,0)||this;return e.entries=i,e}$s(n,t),v.defineProperty(n.prototype,"entries",{get:function(){return this.gs},set:function(t){if(!io(t.length,32))throw new f("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!io(t.sampleCount,32)||!io(t.sampleOffset,32)}))throw new f("Not all entries can be represented in 64 bits.");this.gs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.sampleCount,32),0===this.version?n.writer.writeUInt(r.sampleOffset,32):1===this.version&&n.writer.writeInt(r.sampleOffset,32)}}}(uo),function(t){function n(n){var i=t.call(this,"url ",0,void 0===n?1:0)||this;return i.location=n,i}$s(n,t),v.defineProperty(n.prototype,"location",{get:function(){return this.Rs},set:function(t){this.flags=void 0===t?1:0,this.Rs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this);return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(uo),function(t){function n(n,i,e){var r=t.call(this,"urn ",0,e)||this;return r.name=n,r.location=i,r}$s(n,t),v.defineProperty(n.prototype,"location",{get:function(){return this.Rs},set:function(t){if(1&this.flags)throw new f("The moov containment flag is set, a DataEntryUrlBox should be used instead.");this.Rs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+this.name.length+1;return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.name),n.writer.writeByte(0),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(uo),function(t){function n(){return t.call(this,"dinf")||this}$s(n,t)}(Io);var Oo=function(t){function n(n,i,e){var r=t.call(this,n)||this;if(r.version=i,!io(i,8))throw new f("the provided version cannot fit in 8 bits.");return r.flags=e,r}return $s(n,t),v.defineProperty(n.prototype,"flags",{get:function(){return this.Ju},set:function(t){this.Ju=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new f("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(Ro);!function(t){function n(){return t.call(this,"dref",0,0)||this}$s(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(Oo);var Co=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"elst",i,e)||this;return r.entries=n,r}return $s(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"entries",{get:function(){return this.gs},set:function(t){for(var n=0,i=t;n<i.length;n++){var e=i[n];if(!io(e.segmentDuration,this.bitSize))throw new f("SegmentDuration of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!io(e.mediaTime,this.bitSize))throw new f("MediaTime of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!io(e.mediaRateInteger,16))throw new f("Provided mediaRateInteger does not fit in 16 bits.");if(e.mediaRateFraction&&!io(e.mediaRateFraction,16))throw new f("Provided mediaRateFraction does not fit in 16 bits.")}this.gs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(2*this.bitSize/8+2+2)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32),this.serializeElstBoxContent(n)},n}(uo);!function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}$s(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,e=this.entries;i<e.length;i++){var r=e[i];t.writer.writeUInt(r.segmentDuration,32),t.writer.writeInt(r.mediaTime,32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}}}(Co),function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}$s(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,e=this.entries;i<e.length;i++){var r=e[i];t.writer.writeUInt(r.segmentDuration.getHighBitsUnsigned(),32),t.writer.writeUInt(r.segmentDuration.getLowBitsUnsigned(),32),t.writer.writeInt(r.mediaTime.getHighBits(),32),t.writer.writeInt(r.mediaTime.getLowBits(),32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}}}(Co),function(t){function n(){return t.call(this,"edts")||this}$s(n,t)}(Io);var Ao=function(t){function n(n,i,e,r){var u=t.call(this,n)||this;return u.majorBrand=i,u.minorVersion=e,u.compatibleBrands=r,u}return $s(n,t),v.defineProperty(n.prototype,"majorBrand",{get:function(){return this.Is},set:function(t){if(4!==t.length)throw new f("the provided major brand does not conform to the 4 character requirement");this.Is=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"minorVersion",{get:function(){return this.Ds},set:function(t){if(!io(t,32))throw new f("the provided minor version does not fit in 32 bits.");this.Ds=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"compatibleBrands",{get:function(){return this.Ns},set:function(t){if(t.some(function(t){return 4!==t.length}))throw new f("Some of the compatible brands do not conform to the 4 character requirement");this.Ns=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4*(2+this.compatibleBrands.length)},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.majorBrand),t.writer.writeUInt(this.minorVersion,32);for(var n=0,i=this.compatibleBrands;n<i.length;n++){var e=i[n];t.writer.writeString(e)}},n}(no);!function(t){function n(n,i,e){return t.call(this,"ftyp",n,i,e)||this}$s(n,t)}(Ao),function(t){function n(n,i){void 0===i&&(i="free");var e=t.call(this,i)||this;return e.data=n,e}$s(n,t),n.prototype.getBoxContentSize=function(){var t,n;return null!==(n=null===(t=this.data)||void 0===t?void 0:t.length)&&void 0!==n?n:0},n.prototype.serializeBoxContent=function(t){this.data&&t.concat(Qs.from(this.data))}}(no);var Po,xo=function(t){function n(n,i,e,r){void 0===r&&(r=0);var u=t.call(this,"mdhd",e,r)||this;return u.creationTime=n.creation,u.modificationTime=n.modification,u.timescale=n.scale,u.duration=n.duration,u.language=i,u}return $s(n,t),v.defineProperty(n.prototype,"creationTime",{get:function(){return this.Os},set:function(t){if(!io(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Os=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"modificationTime",{get:function(){return this.Cs},set:function(t){if(!io(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Cs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"timescale",{get:function(){return this.As},set:function(t){if(!io(t,32))throw new f("Provided sequence number does not fit in 32 bits.");this.As=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"duration",{get:function(){return this.Ps},set:function(t){if(!io(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Ps=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"language",{get:function(){return this.xs},set:function(t){if(!function(t){return/^[a-z]{3}$/.test(t)}(t))throw new f("Expected an ISO-639-2/T language code");this.xs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMdiaContent(n),n.writer.writeBit(0);for(var i=0,e=this.language;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.charCodeAt(0)-96,5)}n.writer.writeUInt(0,16)},n}(uo);!function(t){function n(n,i,e){return void 0===e&&(e=0),t.call(this,n,i,0,e)||this}$s(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)}}(xo),function(t){function n(n,i,e){return void 0===e&&(e=0),t.call(this,n,i,1,e)||this}$s(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)}}(xo),function(t){function n(){return t.call(this,"mdia")||this}$s(n,t)}(Io),function(t){function n(){var n=t.call(this,"mdat")||this;return n.data=new Qs,n}$s(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(this.data)}}(no),function(t){function n(){return t.call(this,"minf")||this}$s(n,t)}(Io),function(t){function n(n){var i=t.call(this,"meta",0,0)||this;return i.handler=n,i}$s(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.handler.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.handler.serialize())}}(Oo),function(t){t.VIDEO="vide",t.AUXILIARY_VIDEO="auxv",t.AUDIO="soun",t.METADATA="meta",t.HINT="hint",t.TEXT="text",t.SUBTITLE="subt",t.FONT="fdsm"}(Po||(Po={}));var Lo,Bo,Mo={a:1,b:0,u:0,c:0,d:1,v:0,x:0,y:0,w:1};function Fo(t,n){n.writer.writeUInt(eo(t.a,16),32),n.writer.writeUInt(eo(t.b,16),32),n.writer.writeUInt(eo(0,30),32),n.writer.writeUInt(eo(t.c,16),32),n.writer.writeUInt(eo(t.d,16),32),n.writer.writeUInt(eo(0,30),32),n.writer.writeUInt(eo(t.x,16),32),n.writer.writeUInt(eo(t.y,16),32),n.writer.writeUInt(eo(1,30),32)}function Uo(t,n){var i,e,r,u;n.writer.writeUInt(null!==(i=t.isLeading)&&void 0!==i?i:Lo.UNKNOWN,2),n.writer.writeUInt(null!==(e=t.sampleDependsOn)&&void 0!==e?e:Bo.UNKNOWN,2),n.writer.writeUInt(null!==(r=t.sampleIsDependedOn)&&void 0!==r?r:Bo.UNKNOWN,2),n.writer.writeUInt(null!==(u=t.sampleHasRedundancy)&&void 0!==u?u:Bo.UNKNOWN,2)}function Vo(t,n){var i,e,r;n.writer.writeUInt(0,4),Uo(t,n),n.writer.writeUInt(null!==(i=t.samplePaddingValue)&&void 0!==i?i:0,3),n.writer.writeBool(null!==(e=t.sampleIsNonSyncSample)&&void 0!==e&&e),n.writer.writeUInt(null!==(r=t.sampleDegradationPriority)&&void 0!==r?r:0,16)}!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WITH_DEPENDENCY=1]="WITH_DEPENDENCY",t[t.NO=2]="NO",t[t.WITHOUT_DEPENDENCY=3]="WITHOUT_DEPENDENCY"}(Lo||(Lo={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.YES=1]="YES",t[t.NO=2]="NO",t[t.RESERVED=3]="RESERVED"}(Bo||(Bo={}));var Wo=function(){return function(){}}(),zo=function(t){function n(n,i,e){var r=t.call(this,"pssh",n,0)||this;return r.systemId=i,r.data=e,r}return $s(n,t),v.defineProperty(n.prototype,"systemId",{get:function(){return this.Ls},set:function(t){if(16!==t.length)throw new f("Provided systemId length is not 16.");this.Ls=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"data",{get:function(){return this.P},set:function(t){if(!io(t.length,32))throw new f("Provided data length does not fit in 32 bits.");this.P=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+16+4+this.data.length},n.prototype.serializeVersionBoxContent=function(t){},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(Qs.from(this.systemId)),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.data.length,32),n.concat(Qs.from(this.data))},n}(uo),qo=function(t){function n(n,i){return t.call(this,0,n,i)||this}return $s(n,t),n}(zo),Ho=function(t){function n(n,i,e){var r=t.call(this,1,n,i)||this;return r.kIds=e,r}return $s(n,t),v.defineProperty(n.prototype,"kIds",{get:function(){return this.Bs},set:function(t){if(!io(t.length,32))throw new f("Provided kIds length cannot fit in 32 bits.");if(t.some(function(t){return 16!==t.length}))throw new f("Not all provided key ids are 16 bytes long.");this.Bs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+16*this.kIds.length},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.kIds.length,32);for(var n=0,i=this.kIds;n<i.length;n++){var e=i[n];t.concat(Qs.from(e))}},n}(zo);var jo=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"mehd",i,e)||this;return r.fragmentDuration=n,r}return $s(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"fragmentDuration",{get:function(){return this.Ms},set:function(t){if(!io(t,this.bitSize))throw new f("The provided fragmentDuration does not fit in ".concat(this.bitSize," bits."));this.Ms=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(uo);!function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}$s(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration,32)}}(jo),function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}$s(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration.getHighBitsUnsigned(),32),n.writer.writeUInt(this.fragmentDuration.getLowBitsUnsigned(),32)}}(jo),function(t){function n(n,i,e,r){void 0===i&&(i={}),void 0===e&&(e=0),void 0===r&&(r=0);var u,s,o,c=this;return(c=t.call(this,"trex",e,r)||this).trackId=n,c.defaultSampleDescriptionIndex=null!==(u=null==i?void 0:i.sampleDescriptionIndex)&&void 0!==u?u:0,c.defaultSampleDuration=null!==(s=i.sampleDuration)&&void 0!==s?s:0,c.defaultSampleSize=null!==(o=i.sampleSize)&&void 0!==o?o:0,c.defaultSampleFlags=i.sampleFlags,c}$s(n,t),v.defineProperty(n.prototype,"trackId",{get:function(){return this.Fs},set:function(t){if(!io(t,32))throw new f("Provided track id does not fit in 32 bits.");this.Fs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.Us},set:function(t){if(!io(t,32))throw new f("Provided default sample description index does not fit in 32 bits.");this.Us=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.Vs},set:function(t){if(!io(t,32))throw new f("Provided default sample duration does not fit in 32 bits.");this.Vs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Ws},set:function(t){if(!io(t,32))throw new f("Provided default sample size does not fit in 32 bits.");this.Ws=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.zs},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!io(t.samplePaddingValue,3))throw new f("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!io(t.sampleDegradationPriority,16))throw new f("Provided sample degradation priority does not fit in 16 bits.");this.zs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+20},n.prototype.serializeBoxContent=function(n){var i;t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),n.writer.writeUInt(this.defaultSampleDescriptionIndex,32),n.writer.writeUInt(this.defaultSampleDuration,32),n.writer.writeUInt(this.defaultSampleSize,32),Vo(null!==(i=this.defaultSampleFlags)&&void 0!==i?i:{},n)}}(uo),function(t){function n(){return t.call(this,"mvex")||this}$s(n,t)}(Io);var $o=function(t){function n(i,e,r,u,s){void 0===s&&(s=0);var o,c,a,f=this;return(f=t.call(this,"mvhd",u,s)||this).creationTime=i.creation,f.modificationTime=i.modification,f.timescale=i.scale,f.duration=i.duration,f.rate=null!==(o=r.rate)&&void 0!==o?o:n.DEFAULT_RATE,f.volume=null!==(c=r.volume)&&void 0!==c?c:n.DEFAULT_VOLUME,f.matrix=null!==(a=r.matrix)&&void 0!==a?a:Mo,f.qs=e,f}return $s(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"creationTime",{get:function(){return this.Os},set:function(t){if(!io(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Os=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"modificationTime",{get:function(){return this.Cs},set:function(t){if(!io(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Cs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"timescale",{get:function(){return this.As},set:function(t){if(!io(t,32))throw new f("Provided sequence number does not fit in 32 bits.");this.As=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"duration",{get:function(){return this.Ps},set:function(t){if(!io(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Ps=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"rate",{get:function(){return this.Hs},set:function(t){if(!io(eo(t,16),32))throw new f("Provided rate does not fit in 32 bits (fixed 16.16).");this.Hs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"volume",{get:function(){return this.js},set:function(t){if(!io(eo(t,8),16))throw new f("Provided volume does not fit in 16 bits (fixed 8.8).");this.js=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"matrix",{get:function(){return this.$s},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new f("(u, v, w) does not match the required (0, 0, 1)");this.$s=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"nextTrackId",{get:function(){return this.qs},set:function(t){if(0===t)throw new f("NextTrackId cannot be 0.");if(!io(t,32))throw new f("NextTrackId cannot exceed 32 bits.");this.qs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+2+2+8+36+24+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMvhdContent(n),n.writer.writeUInt(eo(this.rate,16),32),n.writer.writeUInt(eo(this.volume,8),16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),Fo(this.matrix,n);for(var i=0;i<6;i++)n.writer.writeUInt(0,32);n.writer.writeUInt(this.nextTrackId,32)},n.DEFAULT_RATE=1,n.DEFAULT_VOLUME=1,n}(uo);!function(t){function n(n,i,e,r){return void 0===e&&(e={}),void 0===r&&(r=0),t.call(this,n,i,e,0,r)||this}$s(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)}}($o),function(t){function n(n,i,e,r){return void 0===e&&(e={}),void 0===r&&(r=0),t.call(this,n,i,e,1,r)||this}$s(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)}}($o);var Xo=function(t){function n(n,i,e,r,u,s,o){void 0===o&&(o={});var c,a,f,h=this;return(h=t.call(this,"tkhd",n,function(t){var n,i,e,r;return{trackEnabled:null===(n=null==t?void 0:t.trackEnabled)||void 0===n||n,trackInMovie:null===(i=null==t?void 0:t.trackInMovie)||void 0===i||i,trackInPreview:null===(e=null==t?void 0:t.trackInPreview)||void 0===e||e,trackSizeIsAspectRatio:null!==(r=null==t?void 0:t.trackSizeIsAspectRatio)&&void 0!==r&&r}}(o))||this).creationTime=i.creation,h.modificationTime=i.modification,h.trackId=e,h.duration=i.duration,h.volume=r,h.width=u,h.height=s,h.layer=null!==(c=o.layer)&&void 0!==c?c:0,h.alternateGroup=null!==(a=o.alternateGroup)&&void 0!==a?a:0,h.matrix=null!==(f=o.matrix)&&void 0!==f?f:Mo,h}return $s(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"creationTime",{get:function(){return this.Os},set:function(t){if(!io(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Os=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"modificationTime",{get:function(){return this.Cs},set:function(t){if(!io(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Cs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"trackId",{get:function(){return this.Fs},set:function(t){if(0===t)throw new f("trackId cannot be 0.");if(!io(t,32))throw new f("trackId cannot exceed 32 bits.");this.Fs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"duration",{get:function(){return this.Ps},set:function(t){if(!io(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Ps=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"volume",{get:function(){return this.js},set:function(t){if(!io(eo(t,8),16))throw new f("Provided volume does not fit in 16 bits (fixed 8.8).");this.js=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"width",{get:function(){return this.Xs},set:function(t){if(!io(eo(t,16),32))throw new f("Provided width does not fit in 32 bits (fixed 16.16).");this.Xs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"height",{get:function(){return this.Gs},set:function(t){if(!io(eo(t,16),32))throw new f("Provided height does not fit in 32 bits (fixed 16.16).");this.Gs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"layer",{get:function(){return this.Ys},set:function(t){if(!io(t,16))throw new f("Provided layer does not fit in 16 bits.");this.Ys=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"alternateGroup",{get:function(){return this.Ks},set:function(t){if(!io(t,16))throw new f("Provided alternateGroup does not fit in 16 bits.");this.Ks=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"matrix",{get:function(){return this.$s},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new f("(u, v, w) does not match the required (0, 0, 1)");this.$s=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+8+2+2+2+2+36+4+4},n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,20),t.writer.writeBool(this.flags.trackSizeIsAspectRatio),t.writer.writeBool(this.flags.trackInPreview),t.writer.writeBool(this.flags.trackInMovie),t.writer.writeBool(this.flags.trackEnabled)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeTkhdContent(n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.layer,16),n.writer.writeUInt(this.alternateGroup,16),n.writer.writeUInt(eo(this.volume,8),16),n.writer.writeUInt(0,16),Fo(this.matrix,n),n.writer.writeUInt(eo(this.width,16),32),n.writer.writeUInt(eo(this.height,16),32)},n}(uo);!function(t){function n(n,i,e,r,u,s){return t.call(this,0,n,i,e,r,u,s)||this}$s(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration,32)}}(Xo),function(t){function n(n,i,e,r,u,s){return t.call(this,1,n,i,e,r,u,s)||this}$s(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)}}(Xo),function(t){function n(){return t.call(this,"trak")||this}$s(n,t)}(Io),function(t){function n(){return t.call(this,"moov")||this}$s(n,t)}(Io);var Go=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"tfdt",i,e)||this;return r.baseMediaDecodeTime=n,r}return $s(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"baseMediaDecodeTime",{get:function(){return this.Js},set:function(t){if(!io(t,this.bitSize))throw new f("Provided baseMediaDecodeTime does not fit in ".concat(this.bitSize," bits."));this.Js=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(uo);!function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}$s(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime,32)}}(Go),function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}$s(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseMediaDecodeTime.getLowBitsUnsigned(),32)}}(Go),function(t){function n(n,i){void 0===i&&(i=0);var e=t.call(this,"tfhd",i,function(t){return{baseDataOffsetPresent:void 0!==t.baseDataOffset,sampleDescriptionIndexPresent:void 0!==t.sampleDescriptionIndex,defaultSampleDurationPresent:void 0!==t.defaultSampleDuration,defaultSampleSizePresent:void 0!==t.defaultSampleSize,defaultSampleFlagsPresent:void 0!==t.defaultSampleFlags,durationIsEmpty:t.durationIsEmpty,defaultBaseIsMoof:t.defaultBaseIsMoof}}(n))||this;return e.trackId=n.trackId,e.baseDataOffset=n.baseDataOffset,e.sampleDescriptionIndex=n.sampleDescriptionIndex,e.defaultSampleDuration=n.defaultSampleDuration,e.defaultSampleSize=n.defaultSampleSize,e.defaultSampleFlags=n.defaultSampleFlags,e}$s(n,t),v.defineProperty(n.prototype,"trackId",{get:function(){return this.Fs},set:function(t){if(!io(t,32))throw new f("Provided track id does not fit in 32 bits.");this.Fs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"baseDataOffset",{get:function(){return this.Qs},set:function(t){if(void 0===t&&this.flags.baseDataOffsetPresent)throw new f("The base data offset present flag is set.");if(void 0!==t&&!this.flags.baseDataOffsetPresent)throw new f("The base data offset present flag is not set.");if(t&&!io(t,64))throw new f("Provided baseDataOffset does not fit in 32 bits.");this.Qs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"sampleDescriptionIndex",{get:function(){return this.Zs},set:function(t){if(void 0===t&&this.flags.sampleDescriptionIndexPresent)throw new f("The sample description index flag is set.");if(void 0!==t&&!this.flags.sampleDescriptionIndexPresent)throw new f("The sample description index flag is not set.");if(t&&!io(t,32))throw new f("Provided sampleDescriptionIndex does not fit in 32 bits.");this.Zs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.Vs},set:function(t){if(void 0===t&&this.flags.defaultSampleDurationPresent)throw new f("The default sample duration present flag is set.");if(void 0!==t&&!this.flags.defaultSampleDurationPresent)throw new f("The default sample duration present flag is not set.");if(t&&!io(t,32))throw new f("Provided defaultSampleDuration does not fit in 32 bits.");this.Vs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Ws},set:function(t){if(void 0===t&&this.flags.defaultSampleSizePresent)throw new f("The default sample size present flag is set.");if(void 0!==t&&!this.flags.defaultSampleSizePresent)throw new f("The default sample size present flag is not set.");if(t&&!io(t,32))throw new f("Provided defaultSampleSize does not fit in 32 bits.");this.Ws=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.zs},set:function(t){if(void 0===t&&this.flags.defaultSampleFlagsPresent)throw new f("The default sample flags present flag is set.");if(void 0!==t&&!this.flags.defaultSampleFlagsPresent)throw new f("The default sample flags present flag is not set.");if((null==t?void 0:t.samplePaddingValue)&&!io(t.samplePaddingValue,3))throw new f("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!io(t.sampleDegradationPriority,16))throw new f("Provided sample degradation priority does not fit in 16 bits.");this.zs=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,6),t.writer.writeBool(this.flags.defaultBaseIsMoof),t.writer.writeBool(this.flags.durationIsEmpty),t.writer.writeByte(0),t.writer.writeUInt(0,2),t.writer.writeBool(this.flags.defaultSampleFlagsPresent),t.writer.writeBool(this.flags.defaultSampleSizePresent),t.writer.writeBool(this.flags.defaultSampleDurationPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.sampleDescriptionIndexPresent),t.writer.writeBool(this.flags.baseDataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.baseDataOffsetPresent&&(n+=8),this.flags.sampleDescriptionIndexPresent&&(n+=4),this.flags.defaultSampleDurationPresent&&(n+=4),this.flags.defaultSampleSizePresent&&(n+=4),this.flags.defaultSampleFlagsPresent&&(n+=4),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),this.flags.baseDataOffsetPresent&&(n.writer.writeUInt(this.baseDataOffset.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseDataOffset.getLowBitsUnsigned(),32)),this.flags.sampleDescriptionIndexPresent&&n.writer.writeUInt(this.sampleDescriptionIndex,32),this.flags.defaultSampleDurationPresent&&n.writer.writeUInt(this.defaultSampleDuration,32),this.flags.defaultSampleSizePresent&&n.writer.writeUInt(this.defaultSampleSize,32),this.flags.defaultSampleFlagsPresent&&Vo(this.defaultSampleFlags,n)}}(uo),function(t){function n(n,i,e){var r=t.call(this,"trun",n,function(t){var n,i,e,r;return{dataOffsetPresent:void 0!==t.dataOffset,firstSampleFlagsPresent:void 0!==t.firstSampleFlags,sampleDurationPresent:null!==(n=t.sampleDurationPresent)&&void 0!==n&&n,sampleSizePresent:null!==(i=t.sampleSizePresent)&&void 0!==i&&i,sampleFlagsPresent:null!==(e=t.sampleFlagsPresent)&&void 0!==e&&e,sampleCompositionTimeOffsetsPresent:null!==(r=t.sampleCompositionTimeOffsetsPresent)&&void 0!==r&&r}}(i))||this;return r.dataOffset=i.dataOffset,r.samples=e,r.firstSampleFlags=i.firstSampleFlags,r}$s(n,t),v.defineProperty(n.prototype,"dataOffset",{get:function(){return this.to},set:function(t){if(t&&!io(t,32))throw new f("Provided data offset does not fit in 32 bits.");this.to=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"firstSampleFlags",{get:function(){return this.io},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!io(t.samplePaddingValue,3))throw new f("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!io(t.sampleDegradationPriority,16))throw new f("Provided sample degradation priority does not fit in 16 bits.");this.io=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"samples",{get:function(){return this.eo},set:function(t){var n,i;if(!io(t.length,32))throw new f("The sample count cannot be represented in 32 bits.");for(var e=0,r=t;e<r.length;e++){var u=r[e];if(void 0===u.duration&&this.flags.sampleDurationPresent)throw new f("The sample duration present flag is set.");if(void 0!==u.duration&&!this.flags.sampleDurationPresent)throw new f("The sample duration present flag is not set.");if(u.duration&&!io(u.duration,32))throw new f("Provided sample duration does not fit in 32 bits.");if(void 0===u.size&&this.flags.sampleSizePresent)throw new f("The sample size present flag is set.");if(void 0!==u.size&&!this.flags.sampleSizePresent)throw new f("The sample size present flag is not set.");if(u.size&&!io(u.size,32))throw new f("Provided sample size does not fit in 32 bits.");if(void 0===u.flags&&this.flags.sampleFlagsPresent)throw new f("The sample flags present flag is set.");if(void 0!==u.flags&&!this.flags.sampleFlagsPresent)throw new f("The sample flags present flag is not set.");if((null===(n=u.flags)||void 0===n?void 0:n.samplePaddingValue)&&!io(u.flags.samplePaddingValue,3))throw new f("Provided sample padding value does not fit in 3 bits.");if((null===(i=u.flags)||void 0===i?void 0:i.sampleDegradationPriority)&&!io(u.flags.sampleDegradationPriority,16))throw new f("Provided sample degradation priority does not fit in 16 bits.");if(void 0===u.compositionTimeOffset&&this.flags.sampleCompositionTimeOffsetsPresent)throw new f("The sample compositionTimeOffset present flag is set.");if(void 0!==u.compositionTimeOffset&&!this.flags.sampleCompositionTimeOffsetsPresent)throw new f("The sample compositionTimeOffset present flag is not set.");if(u.compositionTimeOffset&&!io(u.compositionTimeOffset,32))throw new f("Provided sample compositionTimeOffset does not fit in 32 bits.")}this.eo=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeByte(0),t.writer.writeUInt(0,4),t.writer.writeBool(this.flags.sampleCompositionTimeOffsetsPresent),t.writer.writeBool(this.flags.sampleFlagsPresent),t.writer.writeBool(this.flags.sampleSizePresent),t.writer.writeBool(this.flags.sampleDurationPresent),t.writer.writeUInt(0,5),t.writer.writeBool(this.flags.firstSampleFlagsPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.dataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.dataOffsetPresent&&(n+=4),this.flags.firstSampleFlagsPresent&&(n+=4),this.flags.sampleDurationPresent&&(n+=4*this.samples.length),this.flags.sampleSizePresent&&(n+=4*this.samples.length),this.flags.sampleFlagsPresent&&(n+=4*this.samples.length),this.flags.sampleCompositionTimeOffsetsPresent&&(n+=4*this.samples.length),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32),this.flags.dataOffsetPresent&&n.writer.writeUInt(this.dataOffset,32),this.flags.firstSampleFlagsPresent&&Vo(this.firstSampleFlags,n);for(var i=0,e=this.samples;i<e.length;i++){var r=e[i];this.flags.sampleDurationPresent&&n.writer.writeUInt(r.duration,32),this.flags.sampleSizePresent&&n.writer.writeUInt(r.size,32),this.flags.sampleFlagsPresent&&Vo(r.flags,n),this.flags.sampleCompositionTimeOffsetsPresent&&(0===this.version?n.writer.writeUInt(r.compositionTimeOffset,32):n.writer.writeInt(r.compositionTimeOffset,32))}}}(uo),function(t){function n(){return t.call(this,"traf")||this}$s(n,t)}(Io),function(t){function n(){return t.call(this,"moof")||this}$s(n,t)}(Io),function(t){function n(n){var i=t.call(this,"mfhd",0,0)||this;return i.sequenceNumber=n,i}$s(n,t),v.defineProperty(n.prototype,"sequenceNumber",{get:function(){return this.ro},set:function(t){if(!io(t,32))throw new f("Provided sequence number does not fit in 32 bits.");this.ro=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.sequenceNumber,32)}}(uo);var Yo=function(t){function n(n){var i=t.call(this,"frma")||this;return i.codingName=n,i}return $s(n,t),v.defineProperty(n.prototype,"codingName",{get:function(){return this.uo},set:function(t){if(4!==t.length)throw new f("Provided coding name was not 4 characters long.");this.uo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.codingName)},n}(no);!function(t){function n(n,i){var e=t.call(this,"pasp")||this;return e.hSpacing=n,e.vSpacing=i,e}$s(n,t),v.defineProperty(n.prototype,"hSpacing",{get:function(){return this.so},set:function(t){if(!io(t,32))throw new f("Provided hSpacing does not fit in 32 bits.");this.so=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"vSpacing",{get:function(){return this.oo},set:function(t){if(!io(t,32))throw new f("Provided vSpacing does not fit in 32 bits.");this.oo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.hSpacing,32),t.writer.writeUInt(this.vSpacing,32)}}(no),function(t){function n(n,i,e){var r=t.call(this,n)||this;return r.sample=i,r.sinf=e,r}$s(n,t),n.prototype.getBoxContentSize=function(){return this.sample.getBoxContentSize()+this.sinf.getSize()},n.prototype.serializeBoxContent=function(t){this.sample.serializeBoxContent(t),t.concat(this.sinf.serialize())}}(Io),function(t){function n(n,i,e){var r=t.call(this,"sinf")||this;return r.schm=i,r.schi=e,r.frma=new Yo(n),r}$s(n,t),n.prototype.getBoxContentSize=function(){var t,n,i,e;return this.frma.getSize()+(null!==(n=null===(t=this.schm)||void 0===t?void 0:t.getSize())&&void 0!==n?n:0)+(null!==(e=null===(i=this.schi)||void 0===i?void 0:i.getSize())&&void 0!==e?e:0)},n.prototype.serializeBoxContent=function(t){t.concat(this.frma.serialize()),this.schm&&t.concat(this.schm.serialize()),this.schi&&t.concat(this.schi.serialize())}}(no);var Ko=function(t){function n(n,i,e){var r=t.call(this,"saio",n,void 0===e?0:1)||this;return r.entries=i,r.explicitAuxInfoType=e,r}return $s(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"entries",{get:function(){return this.gs},set:function(t){var n=this;if(!io(t.length,32))throw new f("Number of entries provided does not fit in 32 bits.");if(t.some(function(t){return!io(t,n.bitSize)}))throw new f("Not all provided entries fit in ".concat(this.bitSize," bits."));this.gs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.co},set:function(t){if(void 0===t)this.flags=0;else{if(!io(t.auxInfoType,32))throw new f("Provided auxInfoType does not fit in 32 bits.");if(!io(t.auxInfoTypeParameter,32))throw new f("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.co=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+4+this.entries.length*this.bitSize/8},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeUInt(this.entries.length,32),this.serializeSaioContent(n)},n}(uo);!function(t){function n(){return null!==t&&t.apply(this,arguments)||this}$s(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var e=i[n];t.writer.writeUInt(e,32)}}}(Ko),function(t){function n(){return null!==t&&t.apply(this,arguments)||this}$s(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var e=i[n];t.writer.writeUInt(e.getHighBitsUnsigned(),32),t.writer.writeUInt(e.getLowBitsUnsigned(),32)}}}(Ko),function(t){function n(n,i,e){var r=t.call(this,"saiz",0,void 0===e?0:1)||this;return r.defaultSampleInfoSize=n,r.sampleInfoSizes=i,r.explicitAuxInfoType=e,r}$s(n,t),v.defineProperty(n.prototype,"defaultSampleInfoSize",{get:function(){return this.ao},set:function(t){if(!io(t,8))throw new f("Provided defaultSampleInfoSize does not fit in a single byte.");this.ao=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"sampleInfoSizes",{get:function(){return this.fo},set:function(t){if(!io(t.length,32))throw new f("Number of sampleInfoSizes provided does not fit in 32 bits.");if(t.some(function(t){return!io(t,8)}))throw new f("Not all provided sampleInfoSizes fit in a byte.");this.fo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.co},set:function(t){if(void 0===t)this.flags=0;else{if(!io(t.auxInfoType,32))throw new f("Provided auxInfoType does not fit in 32 bits.");if(!io(t.auxInfoTypeParameter,32))throw new f("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.co=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+1+4+(0===this.defaultSampleInfoSize?0:this.sampleInfoSizes.length)},n.prototype.serializeBoxContent=function(n){if(0===this.defaultSampleInfoSize&&this.sampleInfoSizes.length>0)throw new f("Both a default size and specific sizes are provided.  This is prohibited.");t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeByte(this.defaultSampleInfoSize),n.writer.writeUInt(this.sampleInfoSizes.length,32);for(var i=0,e=this.sampleInfoSizes;i<e.length;i++){var r=e[i];n.writer.writeByte(r)}}}(uo),function(t){function n(n){var i=t.call(this,"sdtp",0,0)||this;return i.samples=n,i}$s(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.samples.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n);for(var i=0,e=this.samples;i<e.length;i++){Uo(e[i],n)}}}(uo),function(t){function n(n){return t.call(this,"stsd",n,0)||this}$s(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(Oo);var Jo=function(t){function n(n,i,e){var r=t.call(this,"sgpd",n,0)||this;return r.entries=e,r.groupingType=i,r}return $s(n,t),v.defineProperty(n.prototype,"groupingType",{get:function(){return this.ho},set:function(t){if(4!==t.length)throw new f("The provided groupingType does not equal 4 characters.");this.ho=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.groupingType),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];this.serializeEntryBoxContent(n,r)}},n.prototype.serializeEntryBoxContent=function(t,n){n.serializeBoxContent(t)},n}(uo);!function(t){function n(n,i){return t.call(this,0,n,i)||this}$s(n,t),n.prototype.serializeVersionBoxContent=function(t){}}(Jo),function(t){function n(n,i,e){var r=t.call(this,1,n,e)||this;return r.defaultLength=i,r}$s(n,t),v.defineProperty(n.prototype,"defaultLength",{get:function(){return this.vo},set:function(t){if(!io(t,32))throw new f("The provided defaultLength does not fit in 32 bits.");this.vo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(this.defaultLength||4)},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultLength,32)},n.prototype.serializeEntryBoxContent=function(t,n){0===this.defaultLength&&t.writer.writeUInt(n.getBoxContentSize(),32),n.serializeBoxContent(t)}}(Jo),function(t){function n(n,i,e,r){void 0===r&&(r=0);var u=this;if(n<2)throw new f("This constructor is only meant for versions 2 and up.");return(u=t.call(this,n,i,e)||this).defaultSampleDescriptionIndex=r,u}$s(n,t),v.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.Us},set:function(t){if(!io(t,32))throw new f("The provided defaultSampleDescriptionIndex does not fit in 32 bits.");this.Us=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultSampleDescriptionIndex,32)}}(Jo),function(t){function n(n){void 0===n&&(n=[]);var i=t.call(this,"stsz",0,0)||this;return i.sampleSizes=n,i}$s(n,t),v.defineProperty(n.prototype,"sampleSizes",{get:function(){return this.do},set:function(t){if(!io(t.length,32))throw new f("Number of allowed samples cannot fit in 32 bits.");if(t.some(function(t){return!io(t,32)}))throw new f("Not all sampleSizes can be represented in 32 bits.");this.do=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+4*this.sampleSizes.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(this.sampleSizes.length,32);for(var i=0,e=this.sampleSizes;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(uo),function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=0);var e=t.call(this,"stsz",0,0)||this;return e.defaultSampleSize=n,e.samples=i,e}$s(n,t),v.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Ws},set:function(t){if(!io(t,32))throw new f("Provided defaultSampleSize does not fit in 32 bits.");this.Ws=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"samples",{get:function(){return this.eo},set:function(t){if(!io(t,32))throw new f("Number of allowed samples cannot fit in 32 bits.");this.eo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.defaultSampleSize,32),n.writer.writeUInt(this.samples,32)}}(uo),function(t){function n(){return t.call(this,"stbl")||this}$s(n,t)}(Io),function(t){function n(n){var i=t.call(this,"stsc",0,0)||this;return i.entries=n,i}$s(n,t),v.defineProperty(n.prototype,"entries",{get:function(){return this.gs},set:function(t){if(!io(t.length,32))throw new f("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!io(t.firstChunk,32)||!io(t.sampleDescriptionIndex,32)||!io(t.samplesPerChunk,32)}))throw new f("Not all entries can be represented in 96 bits.");this.gs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+12*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.firstChunk,32),n.writer.writeUInt(r.samplesPerChunk,32),n.writer.writeUInt(r.sampleDescriptionIndex,32)}}}(uo),function(t){function n(){return t.call(this,"schi")||this}$s(n,t)}(Io),function(t){function n(n,i,e){var r=t.call(this,"schm",0,void 0===e?0:1)||this;return r.schemeType=n,r.schemeVersion=i,r.schemeUri=e,r}$s(n,t),v.defineProperty(n.prototype,"schemeType",{get:function(){return this.lo},set:function(t){if(4!==t.length)throw new f("The provided schemeType does not have a length of 4.");this.lo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"schemeVersion",{get:function(){return this.wo},set:function(t){if(!io(t,32))throw new f("The provided schemeVersion does not fit in 23 bits.");this.wo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"schemeUri",{get:function(){return this.yo},set:function(t){if(t&&4!==t.length)throw new f("The provided schemeUri does not have a length of 4.");this.flags=void 0===t?0:1,this.yo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+(void 0===this.schemeUri?0:this.schemeUri.length+1)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeType),n.writer.writeUInt(this.schemeVersion,32),this.schemeUri&&(n.writer.writeString(this.schemeUri),n.writer.writeByte(0))}}(uo);var Qo=function(t){function n(n,i,e,r,u,s,o){void 0===o&&(o=0);var c=t.call(this,"sidx",n,o)||this;return c.referenceId=i,c.timescale=e,c.earliestPresentationTime=r,c.firstOffset=u,c.references=s,c}return $s(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"referenceId",{get:function(){return this.mo},set:function(t){if(!io(t,32))throw new f("Provided referenceId does not fit in 32 bits.");this.mo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"timescale",{get:function(){return this.As},set:function(t){if(!io(t,32))throw new f("Provided timescale does not fit in 32 bits.");this.As=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"earliestPresentationTime",{get:function(){return this.bo},set:function(t){if(!io(t,this.bitSize))throw new f("Provided earliestPresentationTime does not fit in ".concat(this.bitSize," bits."));this.bo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"firstOffset",{get:function(){return this.po},set:function(t){if(!io(t,this.bitSize))throw new f("Provided timescale does not fit in ".concat(this.bitSize," bits."));this.po=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"references",{get:function(){return this._o},set:function(t){if(!io(t.length,16))throw new f("The number of provided reference items does not fit in 16 bits.");for(var n=0,i=t;n<i.length;n++){var e=i[n];if(!io(e.referencedSize,31))throw new f("Provided referenced size does not fit in 31 bits.");if(!io(e.subsegmentDuration,32))throw new f("Provided subsegment duration does not fit in 31 bits.");if(!io(e.sapType,3))throw new f("Provided SAP type does not fit in 3 bits.");if(!io(e.sapDeltaTime,28))throw new f("Provided SAP delta time does not fit in 28 bits.")}this._o=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+this.bitSize/8*2+2+2+12*this.references.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.referenceId,32),n.writer.writeUInt(this.timescale,32),this.serializeSidxBoxContent(n),n.writer.writeUInt(0,16),n.writer.writeUInt(this.references.length,16);for(var i=0,e=this.references;i<e.length;i++){var r=e[i];n.writer.writeBit(r.referenceType),n.writer.writeUInt(r.referencedSize,31),n.writer.writeUInt(r.subsegmentDuration,32),n.writer.writeBool(r.startsWithSap),n.writer.writeUInt(r.sapType,3),n.writer.writeUInt(r.sapDeltaTime,28)}},n}(uo);!function(t){function n(n,i,e,r,u,s){return void 0===s&&(s=0),t.call(this,0,n,i,e,r,u,s)||this}$s(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime,32),t.writer.writeUInt(this.firstOffset,32)}}(Qo),function(t){function n(n,i,e,r,u,s){return void 0===s&&(s=0),t.call(this,1,n,i,e,r,u,s)||this}$s(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.earliestPresentationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getHighBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getLowBitsUnsigned(),32)}}(Qo),function(t){function n(n,i,e){return t.call(this,"styp",n,i,e)||this}$s(n,t)}(Ao),function(t){function n(n){void 0===n&&(n=0);var i=t.call(this,"smhd",0,0)||this;return i.balance=n,i}$s(n,t),v.defineProperty(n.prototype,"balance",{get:function(){return this.ko},set:function(t){if(t<-1||t>1)throw new f("Provided balance does not fit in the allowed range [-1, 1].");if(!io(eo(t,8),16))throw new f("Provided balance does not fit in 16 bits (fixed 8.8).");this.ko=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(eo(this.balance,8),16),n.writer.writeUInt(0,16)}}(uo),function(t){function n(n){var i=t.call(this,"stss",0,0)||this;return i.entries=n,i}$s(n,t),v.defineProperty(n.prototype,"entries",{get:function(){return this.gs},set:function(t){if(!io(t.length,32))throw new f("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!io(t,32)}))throw new f("Not all entries can be represented in 32 bits.");this.gs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(uo),function(t){function n(n){var i=t.call(this,"stts",0,0)||this;return i.entries=n,i}$s(n,t),v.defineProperty(n.prototype,"entries",{get:function(){return this.gs},set:function(t){if(!io(t.length,32))throw new f("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!io(t.sampleCount,32)||!io(t.sampleDelta,32)}))throw new f("Not all entries can be represented in 64 bits.");this.gs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.sampleCount,32),n.writer.writeUInt(r.sampleDelta,32)}}}(uo),function(t){function n(n){var i=t.call(this,"trep",0,0)||this;return i.trackId=n,i}$s(n,t),v.defineProperty(n.prototype,"trackId",{get:function(){return this.Fs},set:function(t){if(!io(t,32))throw new f("The provided trackId does not fit in 32 bits.");this.Fs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32)}}(Oo),function(t){function n(){return t.call(this,"udta")||this}$s(n,t)}(Io);var Zo={red:0,green:0,blue:0};!function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=Zo);var e=t.call(this,"vmhd",0,1)||this;return e.graphicsMode=n,e.opColor=i,e}$s(n,t),v.defineProperty(n.prototype,"opColor",{get:function(){return this.To},set:function(t){if(!io(t.red,16)||!io(t.green,16)||!io(t.blue,16))throw new f("Not all colors could be represented in 16 bits.");this.To=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+6},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.graphicsMode,16),n.writer.writeUInt(this.opColor.red,16),n.writer.writeUInt(this.opColor.green,16),n.writer.writeUInt(this.opColor.blue,16)}}(uo);var tc=function(t){function n(n,i,e,r,u){void 0===r&&(r={}),void 0===u&&(u=void 0);var s,o,c,a,f,h=this;return(h=t.call(this,n,i)||this).width=e.width,h.height=e.height,h.horizontalResolution=null!==(s=e.horizontal)&&void 0!==s?s:72,h.verticalResolution=null!==(o=e.vertical)&&void 0!==o?o:72,h.compressorName=null!==(c=r.compressorName)&&void 0!==c?c:"",h.frameCount=null!==(a=r.frameCount)&&void 0!==a?a:1,h.depth=null!==(f=r.depth)&&void 0!==f?f:24,h.clap=r.clap,h.pasp=r.pasp,h.extra=u,h}return $s(n,t),v.defineProperty(n.prototype,"width",{get:function(){return this.Xs},set:function(t){if(!io(t,16))throw new f("Provided width does not fit in 16 bits.");this.Xs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"height",{get:function(){return this.Gs},set:function(t){if(!io(t,16))throw new f("Provided height does not fit in 16 bits.");this.Gs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"horizontalResolution",{get:function(){return this.So},set:function(t){if(!io(eo(t,16),32))throw new f("Provided horizontalResolution does not fit in 32 bits (fixed 16.16).");this.So=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"verticalResolution",{get:function(){return this.Eo},set:function(t){if(!io(eo(t,16),32))throw new f("Provided verticalResolution does not fit in 32 bits (fixed 16.16).");this.Eo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"compressorName",{get:function(){return this.Ro},set:function(t){if(t.length>31)throw new f("The provided compressorName should at most be 31 characters long.");this.Ro=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"frameCount",{get:function(){return this.Io},set:function(t){if(!io(t,16))throw new f("Provided frameCount does not fit in 16 bits.");this.Io=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"depth",{get:function(){return this.Do},set:function(t){if(!io(t,16))throw new f("Provided depth does not fit in 16 bits.");this.Do=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i,e,r,u,s;return t.prototype.getBoxContentSize.call(this)+2+2+12+2+2+4+4+4+2+32+2+2+(null!==(i=null===(n=this.clap)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)+(null!==(r=null===(e=this.pasp)||void 0===e?void 0:e.getSize())&&void 0!==r?r:0)+(null!==(s=null===(u=this.extra)||void 0===u?void 0:u.length)&&void 0!==s?s:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.width,16),n.writer.writeUInt(this.height,16),n.writer.writeUInt(eo(this.horizontalResolution,16),32),n.writer.writeUInt(eo(this.verticalResolution,16),32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.frameCount,16),n.writer.writeByte(this.compressorName.length),n.writer.writeString(this.compressorName);for(var i=0;i<31-this.compressorName.length;i++)n.writer.writeByte(0);n.writer.writeUInt(this.depth,16),n.writer.writeInt(-1,16),this.clap&&n.concat(this.clap.serialize()),this.pasp&&n.concat(this.pasp.serialize()),this.extra&&ro(n.writer,this.extra)},n}(Do);!function(t){function n(n){var i=t.call(this,"esds",0,0)||this;return i.esDescriptor=n,i}$s(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(this.esDescriptor instanceof y?this.esDescriptor.length:this.esDescriptor.getSize())},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor instanceof y?n.concat(Qs.from(this.esDescriptor)):this.esDescriptor.serialize(n)}}(uo),function(t){function n(n,i,e){var r=t.call(this,"mp4a",n,e)||this;return r.esd=i,r}$s(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esd.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.esd.serialize())}}(No),function(t){function n(n,i,e,r){void 0===r&&(r={});var u=t.call(this,"mp4v",n,i,r)||this;return u.esDescriptor=e,u}$s(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(tc),function(t){function n(n,i){var e=t.call(this,"mp4s",n)||this;return e.esDescriptor=i,e}$s(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(Do),function(t){function n(n){var i=t.call(this,"avcC")||this;return i.decoderConfig=n,i}$s(n,t),n.prototype.getBoxContentSize=function(){return this.decoderConfig.getSize()},n.prototype.serializeBoxContent=function(t){this.decoderConfig.serialize(t)}}(no),function(){function t(t,n,i,e,r,u){void 0===u&&(u=1),this.lengthSizeMinusOne=i,this.version=u,this.profileIndication=t.indication,this.profileCompatibility=t.compatibility,this.levelIndication=n,this.spsSets=e,this.ppsSets=r}v.defineProperty(t.prototype,"version",{get:function(){return this.No},set:function(t){if(!io(t,8))throw new f("Provided version does not fit in 8 bits.");this.No=t},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"profileIndication",{get:function(){return this.Oo},set:function(t){if(!io(t,8))throw new f("Provided profileIndication does not fit in 8 bits.");this.Oo=t},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"profileCompatibility",{get:function(){return this.Co},set:function(t){if(!io(t,8))throw new f("Provided profileCompatibility does not fit in 8 bits.");this.Co=t},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"levelIndication",{get:function(){return this.Ao},set:function(t){if(!io(t,8))throw new f("Provided levelIndication does not fit in 8 bits.");this.Ao=t},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"spsSets",{get:function(){return this.Po},set:function(t){if(!io(t.length,5))throw new f("Provided number of spsSets exceeds the max (32)");this.Po=t},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"ppsSets",{get:function(){return this.xo},set:function(t){if(!io(t.length,8))throw new f("Provided number of ppsSets exceeds the max (256)");this.xo=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return 7+2*this.spsSets.length+this.spsSets.reduce(function(t,n){return t+n.length},0)+2*this.ppsSets.length+this.ppsSets.reduce(function(t,n){return t+n.length},0)},t.prototype.serialize=function(t){t.writer.writeByte(this.version),t.writer.writeByte(this.profileIndication),t.writer.writeByte(this.profileCompatibility),t.writer.writeByte(this.levelIndication),t.writer.writeBits([1,1,1,1,1,1]),t.writer.writeUInt(this.lengthSizeMinusOne,2),t.writer.writeBits([1,1,1]),t.writer.writeUInt(this.spsSets.length,5);for(var n=0,i=this.spsSets;n<i.length;n++){var e=i[n];t.writer.writeUInt(e.length,16),t.concat(Qs.from(e))}t.writer.writeByte(this.ppsSets.length);for(var r=0,u=this.ppsSets;r<u.length;r++){var s=u[r];t.writer.writeUInt(s.length,16),t.concat(Qs.from(s))}}}(),function(t){function n(n,i,e,r,u){void 0===r&&(r={}),void 0===u&&(u=void 0);var s=t.call(this,"avc1",n,i,r)||this;return s.configurationBox=e,s.bitrateBox=u,s}$s(n,t),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+this.configurationBox.getSize()+(null!==(i=null===(n=this.bitrateBox)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.configurationBox.serialize()),this.bitrateBox&&n.concat(this.bitrateBox.serialize())}}(tc),function(t){function n(n,i,e){var r=t.call(this,"btrt")||this;return r.bufferSizeDb=n,r.max=i,r.avg=e,r}$s(n,t),v.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.rs},set:function(t){if(!io(t,32))throw new f("Provided bufferSizeDb does not fit in 32 bits.");this.rs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"max",{get:function(){return this.Lo},set:function(t){if(!io(t,32))throw new f("Provided max does not fit in 32 bits.");this.Lo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"avg",{get:function(){return this.Bo},set:function(t){if(!io(t,32))throw new f("Provided avg does not fit in 32 bits.");this.Bo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 12},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.bufferSizeDb,32),t.writer.writeUInt(this.max,32),t.writer.writeUInt(this.avg,32)}}(no);var nc=function(t){function n(n,i){var e,r,u,s,o=this;if(o=t.call(this,"tenc",n,0)||this,i.perSampleIvSize>0&&(null!==(r=null===(e=i.constantIv)||void 0===e?void 0:e.length)&&void 0!==r?r:0)>0)throw new f("Either perSampleSize should be > 0 or constantIv should be defined. Not both.");return o.kId=i.kId,o.isProtected=null!==(u=i.isProtected)&&void 0!==u?u:1,i.perSampleIvSize>0?o.perSampleIvSize=i.perSampleIvSize:o.constantIv=null!==(s=i.constantIv)&&void 0!==s?s:new y(0),o}return $s(n,t),v.defineProperty(n.prototype,"isProtected",{get:function(){return this.Mo},set:function(t){if(!io(t,8))throw new f("Provided isProtected does not fit in 1 byte.");this.Mo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"perSampleIvSize",{get:function(){return this.Fo},set:function(t){if(![8,16].includes(t))throw new f("Provided perSampleIvSize does not match any allowed value [8, 16].");this.Fo=t,this.Uo=new y(0)},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"kId",{get:function(){return this.Vo},set:function(t){if(16!==t.length)throw new f("Provided kId length is not 16.");this.Vo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"constantIv",{get:function(){return this.Uo},set:function(t){if(![8,16].includes(t.length))throw new f("Provided constant IV length does not match any allowed value [8, 16].");this.Uo=t,this.Fo=0},enumerable:!1,configurable:!0}),n.prototype.getTencHeaderSize=function(){return 20+(this.constantIv.length>0?1+this.constantIv.length:0)},n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.getTencHeaderSize()},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeByte(0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeOwnContent(n)},n.prototype.serializeOwnContent=function(t){t.writer.writeByte(0),this.serializeVersionBoxContent(t),t.writer.writeByte(this.isProtected),t.writer.writeByte(this.perSampleIvSize),ro(t.writer,this.kId),0===this.perSampleIvSize&&(t.writer.writeByte(this.constantIv.length),ro(t.writer,this.constantIv))},n}(uo);!function(t){function n(n){return t.call(this,0,n)||this}$s(n,t)}(nc);var ic=function(t){function n(n){var i=t.call(this,1,n)||this;return i.cryptByteBlocks=n.cryptByteBlock,i.skipByteBlocks=n.skipByteBlock,i}return $s(n,t),v.defineProperty(n.prototype,"cryptByteBlocks",{get:function(){return this.Wo},set:function(t){if(!io(t,4))throw new f("Provided cryptByteBlocks does not fit in 4 bits.");this.Wo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"skipByteBlocks",{get:function(){return this.zo},set:function(t){if(!io(t,4))throw new f("Provided skipByteBlocks does not fit in 4 bits.");this.zo=t},enumerable:!1,configurable:!0}),n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.cryptByteBlocks,4),t.writer.writeUInt(this.skipByteBlocks,4)},n}(nc);function ec(t){return void 0!==t.iv}function rc(t){return void 0!==t.subsamples}!function(t){function n(n){var i=t.call(this)||this;return i.tencBox=new ic(n),i}$s(n,t),n.prototype.serializeBoxContent=function(t){this.tencBox.serializeOwnContent(t)},n.prototype.getBoxContentSize=function(){return this.tencBox.getTencHeaderSize()}}(Wo),function(t){function n(n){var i=t.call(this,"senc",0,{useSubsampleEncryption:!1})||this;return i.samples=n,i}$s(n,t),v.defineProperty(n.prototype,"samples",{get:function(){return this.eo},set:function(t){var n;if(!io(t.length,32))throw new f("The number of samples provided does not fit in 32 bits.");for(var i=0,e=t;i<e.length;i++){var r=e[i];if(ec(r)&&![8,16].includes(r.iv.length))throw new f("IV of one of the provided samples did not satisfy the required length constraints. [8, 16]");if(void 0===n&&(n=rc(r)),!0===n&&!rc(r)||!1===n&&rc(r))throw new f("Mix of samples with and without subsamples detected.");if(rc(r)){if(!io(r.subsamples.length,16))throw new f("Subsample length of one of the provided samples does not fit in 16 bits.");for(var u=0,s=r.subsamples;u<s.length;u++){var o=s[u];if(!io(o.clearData,16))throw new f("Subsample clearData of one of the provided samples does not fit in 16 bits.");if(!io(o.protectedData,23))throw new f("Subsample protectedData of one of the provided samples does not fit in 23 bits.")}}}this.flags.useSubsampleEncryption=null!=n&&n,this.eo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){for(var n=0,i=0,e=this.samples;i<e.length;i++){var r=e[i];ec(r)&&(n+=r.iv.length),rc(r)&&(n+=2+6*r.subsamples.length)}return t.prototype.getBoxContentSize.call(this)+4+n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32);for(var i=0,e=this.samples;i<e.length;i++){var r=e[i];if(ec(r)&&ro(n.writer,r.iv),rc(r)){n.writer.writeUInt(r.subsamples.length,16);for(var u=0,s=r.subsamples;u<s.length;u++){var o=s[u];n.writer.writeUInt(o.clearData,16),n.writer.writeUInt(o.protectedData,32)}}}},n.prototype.serializeFlags=function(t){t.writer.writeUInt(this.flags.useSubsampleEncryption?2:0,24)}}(uo),function(t){function n(n,i,e,r,u){var s=t.call(this,"emsg",0,0)||this;return s.schemeIdUri=n,s.value=i,s.data=u,s.id=e,s.timescale=r.timescale,s.presentationTimeDelta=r.presentationTimeDelta,s.eventDuration=r.eventDuration,s}$s(n,t),v.defineProperty(n.prototype,"timescale",{get:function(){return this.As},set:function(t){if(!io(t,32))throw new f("The provided timescale does not fit in 32 bits.");this.As=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"presentationTimeDelta",{get:function(){return this.qo},set:function(t){if(!io(t,32))throw new f("The provided presentationTimeDelta does not fit in 32 bits.");this.qo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"eventDuration",{get:function(){return this.Ho},set:function(t){if(!io(t,32))throw new f("The provided eventDuration does not fit in 32 bits.");this.Ho=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"id",{get:function(){return this.jo},set:function(t){if(!io(t,32))throw new f("The provided id does not fit in 32 bits.");this.jo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.schemeIdUri.length+1+this.value.length+1+16+this.data.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeIdUri),n.writer.writeByte(0),n.writer.writeString(this.value),n.writer.writeByte(0),n.writer.writeUInt(this.timescale,32),n.writer.writeUInt(this.presentationTimeDelta,32),n.writer.writeUInt(this.eventDuration,32),n.writer.writeUInt(this.id,32),n.concat(Qs.from(this.data))}}(uo);var uc,sc,oc=(uc="pssh",sc=function(t){var n=t.data.nextUint8();t.data.skip(3);var i=t.data.nextUint8Array(16),e=[];if(1===n)for(var r=t.data.nextUint32(),u=0;u<r;u++)e.push(t.data.nextUint8Array(16));var s=t.data.nextUint32(),o=t.data.nextUint8Array(s);return 1===n?new Ho(i,o,e):new qo(i,o)},function(t){var n,i=function(t,n){for(var i=t.data,e=t.cursor;e.offset<i.byteLength;){var r=To(i,e);if(!r.complete)return;if(_o(r.box,n))return r.box}}(new po((n=t,new DataView(n.buffer,n.byteOffset,n.byteLength)),new bo),uc);if(!i)throw new f("".concat(uc," box not found"));return sc(i)}),cc=function(t){function n(n,i){var e;(e=t.call(this)||this).$o=void 0,e.Xo=!1,e.Go=void 0,e.Yo=void 0,e.Ko=function(){e.Jo()},e.Qo=function(t){e.Yr(new xu(Nn(e),t.messageType,zs(e.Zo,t.message)))},e.tc=function(){e.Xo=!0,e.$o.ku>0&&(e.$o._u(),e.Yr(new Pu(Nn(e)))),e.nc.removeEventListener("keystatuseschange",e.Ko),e.nc.removeEventListener("message",e.Qo)},e.nc=n,e.Zo=i,e.nc.addEventListener("keystatuseschange",e.Ko),e.nc.addEventListener("message",e.Qo),e.$o=new Fu;var r=[];return e.nc.closed&&r.push(j.resolve(e.nc.closed)),e.Yo=new Us,r.push(e.Yo.Cu),e.Go=j.race(r).then(e.tc,e.tc),e.Jo(),e}vt(n,t);var i=n.prototype;return i.ic=function(){if(this.Xo)return this.Go;var t,n,i=[];return i.push(j.resolve(this.nc.close())),i.push((t=1e3,new j(function(i,e){if(void 0!==n&&n.Or)e(new lu);else{var r=st.Oe(function(){void 0!==n&&n.Mr(u),i()},t),u=function(){st.Ae(r),e(new lu)};void 0!==n&&n.Br(u)}}))),this.Yo.xu(j.race(i).catch(ac)),this.Xo=!0,this.Go},i.ec=function(t,n,i){if(St.kn){var e=oc(Ls(n));if(1===e.version)n=new qo(e.systemId,e.data).serialize().join()}return j.resolve(this.nc.generateRequest(t,n)).catch(ac)},i.rc=function(t){return j.resolve(this.nc.load(t)).catch(ac)},i.uc=function(){return j.resolve(this.nc.remove()).catch(ac)},i.sc=function(t){return j.resolve(this.nc.update(t)).catch(ac)},i.Jo=function(){var t=this;this.$o._u(),this.nc.keyStatuses.forEach(function(n,i){t.oc(i,n)}),this.Yr(new Pu(this))},i.oc=function(t,n){if("string"==typeof t){var i=t;t=n,n=i}var e=Ls(t);if(this.Zo===Cr&&16===e.byteLength){var r=As(e),u=r.getUint32(0,!0),s=r.getUint16(4,!0),o=r.getUint16(6,!0);r.setUint32(0,u,!1),r.setUint16(4,s,!1),r.setUint16(6,o,!1)}this.Zo===Cr&&"status-pending"===n&&(n="usable"),this.$o.pu(e,n)},ft(n,[{key:"cc",get:function(){return this.Go}},{key:"ac",get:function(){return this.nc.expiration}},{key:"fc",get:function(){return this.$o}},{key:"hc",get:function(){return this.nc.sessionId}}]),n}(Du);function ac(t){var n;if(t.message){var i=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);i&&(n=0|l(i[1],16))}throw new Hs(t.message,void 0,n,t)}var fc=function(){function t(t,n,i){this.vc=t,this.dc=n,this.lc=i}var n=t.prototype;return n.wc=function(t){return lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new cc(this.vc.createSession(t),this.dc));case 1:case"end":return n.stop()}},null,this,null,j)},n.gc=function(t){return j.resolve(this.vc.setServerCertificate(t))},n.yc=function(t){return j.resolve(t.setMediaKeys(this.vc))},n.mc=function(t){return j.resolve(t.setMediaKeys(null))},t}(),hc=function(){function t(t,n,i){this.bc=t,this.Zo=n,this.pc=i}var n=t.prototype;return n._c=function(){var t;return lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,lr.awrap(this.bc.createMediaKeys());case 2:return t=n.sent,n.abrupt("return",new fc(t,this.Zo,this.pc));case 4:case"end":return n.stop()}},null,this,null,j)},n.kc=function(){return this.pc},ft(t,[{key:"dc",get:function(){return this.bc.keySystem}}]),t}();function vc(t){var n=t.trim(),i=n.indexOf(";");return i<0?n:n.substr(0,i).trim()}function dc(t,n,i,e){var r=!1;if(!(e.persistentState&&"optional"!==e.persistentState||e.distinctiveIdentifier&&"optional"!==e.distinctiveIdentifier)){var u={audioCapabilities:[],videoCapabilities:[],persistentState:e.persistentState||"optional",distinctiveIdentifier:e.distinctiveIdentifier||"optional",initDataTypes:e.initDataTypes,sessionTypes:["temporary"],label:e.label,Tc:e.Tc},s=!1;if(e.audioCapabilities){var o=e.audioCapabilities.filter(function(t){return Boolean(t.contentType)});o.length&&(u.audioCapabilities=o.filter(function(e){return lc(t,n,i,e)}),s=!0,u.audioCapabilities.length&&(r=!0))}if(e.videoCapabilities){var c=e.videoCapabilities.filter(function(t){return Boolean(t.contentType)});c.length&&(u.videoCapabilities=c.filter(function(e){return lc(t,n,i,e)}),s=!0,u.videoCapabilities.length&&(r=!0))}return s||(r=t(i,"video/mp4")),r?u:void 0}}function lc(t,n,i,e){return!!e.contentType&&(!(e.encryptionScheme&&!fu(n,e.encryptionScheme))&&(!e.robustness&&t(i,vc(e.contentType))))}function wc(t){if(t.videoCapabilities)for(var n=0,i=t.videoCapabilities;n<i.length;n++){var e=i[n];if(e.contentType)return e.contentType}if(t.audioCapabilities)for(var r=0,u=t.audioCapabilities;r<u.length;r++){var s=u[r];if(s.contentType)return s.contentType}}function gc(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e.encryptionScheme&&n.push({contentType:e.contentType,robustness:e.robustness})}return t.concat(n)}function yc(t){return!(!t.audioCapabilities||!t.audioCapabilities.some(mc))||!(!t.videoCapabilities||!t.videoCapabilities.some(mc))}function mc(t){return!t.robustness}function bc(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];r.robustness?i.push(r):i.push(wr({},r,{robustness:n}))}return i}var pc=function(){function t(){}return t.prototype.Er=function(t,n){var i,e,r,s,o,c,a,f;return lr.async(function(h){for(;;)switch(h.prev=h.next){case 0:for(n=n.filter(function(t){return!t.Tc}),i=0,e=n;i<e.length;i++)(r=e[i]).audioCapabilities&&(r.audioCapabilities=gc(r.audioCapabilities)),r.videoCapabilities&&(r.videoCapabilities=gc(r.videoCapabilities));if("com.widevine.alpha"!==t||!n.some(yc)){h.next=14;break}return s=n.map(function(t){return i="SW_SECURE_CRYPTO",wr({},n=t,{videoCapabilities:n.videoCapabilities?bc(n.videoCapabilities,i):void 0,audioCapabilities:n.audioCapabilities?bc(n.audioCapabilities,i):void 0});var n,i}),h.prev=4,h.next=7,lr.awrap(u.requestMediaKeySystemAccess(t,s));case 7:return o=h.sent,c=o.getConfiguration(),h.abrupt("return",new hc(o,t,c));case 12:h.prev=12,h.t0=h.catch(4);case 14:return h.next=16,lr.awrap(u.requestMediaKeySystemAccess(t,n));case 16:return a=h.sent,f=a.getConfiguration(),h.abrupt("return",new hc(a,t,f));case 19:case"end":return h.stop()}},null,null,[[4,12]],j)},t.Sc=function(){return void 0!==u&&"function"==typeof u.requestMediaKeySystemAccess},t}(),_c=function(t){function n(n,i){var e;return(e=t.call(this)||this).Xo=!1,e.Ec=void 0,e.Rc=void 0,e.Ic=void 0,e.Dc=void 0,e.Nc=void 0,e.tc=function(){e.Xo=!0,e.Ec.xu(void 0),e.Nc&&(e.Nc.removeEventListener("mskeyclose",e.tc),e.Nc.removeEventListener("mskeymessage",e.Oc),e.Nc.removeEventListener("mskeyerror",e.Cc),e.Nc.removeEventListener("mskeyadded",e.Ac))},e.Oc=function(t){e.Ic&&(e.Ic.xu(void 0),e.Ic=void 0),e.Yr(new xu(Nn(e),"license-request",Ms(t.message).buffer,t.destinationURL||void 0))},e.Cc=function(){var t=e.Nc&&e.Nc.error;if(t){var n=new Hs("Unknown CDM error",t.code,t.systemCode);if(e.Ic)e.Ic.Lu(n),e.Ic=void 0;else if(e.Rc)e.Rc.Lu(n),e.Rc=void 0;else switch(n.Bu){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:e.Pc("output-not-allowed");break;default:e.Pc("internal-error")}}},e.Ac=function(){e.Ic&&(e.Pc("usable"),e.Ic.xu(void 0),e.Ic=void 0),e.Rc&&(e.Pc("usable"),e.Rc.xu(void 0),e.Rc=void 0)},e.xc=n,e.Lc=i,e.Ec=new Us,e.Dc=new Fu,e}vt(n,t);var i=n.prototype;return i.ec=function(t,n,i){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Bc(),this.Ic=new Us,this.wc(Ls(n),i),t.next=5,lr.awrap(this.Ic.Cu);case 5:case"end":return t.stop()}},null,this,null,j)},i.wc=function(t,n){if(!t)throw new h("Expected initData to be defined but was "+t+".");var i,e=n&&n.playready&&n.playready.Mc;return(i=n?this.xc.createSession(this.Lc,t,e):this.xc.createSession(this.Lc,t)).addEventListener("mskeyclose",this.tc),i.addEventListener("mskeymessage",this.Oc),i.addEventListener("mskeyerror",this.Cc),i.addEventListener("mskeyadded",this.Ac),this.Nc=i,this.Pc("status-pending"),i},i.rc=function(t){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Bc(),t.abrupt("return",!0);case 2:case"end":return t.stop()}},null,this,null,j)},i.sc=function(t){var n;return lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.Rc=new Us,this.Bc(),this.Nc){i.next=4;break}return i.abrupt("return",j.resolve());case 4:if(0!==(n=Ls(t)).byteLength){i.next=7;break}throw new h("Cannot call update with an empty response.");case 7:return this.Nc.update(n),i.next=10,lr.awrap(this.Rc.Cu);case 10:case"end":return i.stop()}},null,this,null,j)},i.ic=function(){return!this.Xo&&this.Nc&&(this.Xo=!0,this.Nc.close()),this.Ec.Cu},i.uc=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Bc(),t.abrupt("return");case 2:case"end":return t.stop()}},null,this,null,j)},i.Bc=function(){if(this.Xo)throw new h("Already closing or closed.")},i.Pc=function(t){this.Dc._u(),this.Dc.pu(Mu,t),this.Yr(new Pu(this))},ft(n,[{key:"hc",get:function(){return this.Nc&&this.Nc.sessionId||""}},{key:"ac",get:function(){return NaN}},{key:"cc",get:function(){return this.Ec.Cu}},{key:"fc",get:function(){return this.Dc}}]),n}(Du),kc=function(){function t(t,n,i){this.Lc=void 0,this.xc=t,this.dc=n,this.lc=i;var e=wc(i)||"video/mp4";this.Lc=vc(e)}var n=t.prototype;return n.wc=function(t){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new _c(this.xc,this.Lc));case 1:case"end":return t.stop()}},null,this,null,j)},n.gc=function(t){return j.resolve(!1)},n.yc=function(t){var n=this;return t.readyState>=1?t.msSetMediaKeys(this.xc):t.addEventListener("loadedmetadata",function i(){t.msSetMediaKeys(n.xc),t.removeEventListener("loadedmetadata",i)}),j.resolve()},n.mc=function(t){return j.resolve()},t}(),Tc=function(){function t(t,n){this.Zo=t,this.Fc=n}var n=t.prototype;return n.kc=function(){return this.Fc},n._c=function(){var t=new Z.MSMediaKeys(this.Zo);return j.resolve(new kc(t,this.Zo,this.Fc))},ft(t,[{key:"dc",get:function(){return this.Zo}}]),t}(),Sc=function(){function t(){}return t.prototype.Er=function(t,n){try{return j.resolve(function(t,n){if(!Ec())throw new h("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=dc(Rc,Cu,t,e);if(r)return new Tc(t,r)}throw new h("Unsupported key system configuration for "+t)}(t,n))}catch(t){return j.reject(t)}},t.Sc=function(){return Ec()},t}();function Ec(){return void 0!==Z.MSMediaKeys&&"function"==typeof Z.MSMediaKeys.isTypeSupported}function Rc(t,n){return Z.MSMediaKeys.isTypeSupported(t,n)}var Ic,Dc,Nc=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Ec=new Us,r.Uc=void 0,r.Dc=new Fu,r.Vc=void 0,r.Wc=new Us,r.Cc=function(){var t=r.Vc&&r.Vc.error;if(t){var n=new Hs("Unknown CDM error",t.code,t.systemCode);r.Uc?(r.Uc.Lu(n),r.Uc=void 0):n.Bu===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?r.Pc("output-not-allowed"):r.Pc("internal-error"),r.Yr(new Lu)}},r.Oc=function(t){r.Uc&&(r.Uc.xu(void 0),r.Uc=void 0),r.Yr(new xu(Nn(r),"license-request",Ms(t.message).buffer,"this is a test string"===t.destinationURL?void 0:t.destinationURL))},r.zc=n,r.Lc=i,r.qc=e,r}vt(n,t);var i=n.prototype;return i.ec=function(t,n,i){var e=i&&i.fairplay&&i.fairplay.Hc;if(!e)throw new h("Expected FairPlay contentId to be defined but was "+e+".");var r=Oc(Ls(n),e,this.qc);return this.Vc=this.zc.createSession(this.Lc,r),this.Vc.addEventListener("webkitkeymessage",this.Oc,!1),this.Vc.addEventListener("webkitkeyerror",this.Cc,!1),this.Pc("usable"),this.Wc.xu(this.Vc),this.Wc=new Us,j.resolve()},i.rc=function(t){return j.resolve(!0)},i.sc=function(t){var n;return lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==(n=Ls(t)).byteLength){i.next=3;break}throw new h("Cannot call update with an empty response.");case 3:if(this.Uc=new Us,i.t0=this.Vc,i.t0){i.next=9;break}return i.next=8,lr.awrap(this.Wc.Cu);case 8:i.t0=i.sent;case 9:return i.t0.update(n),i.next=13,lr.awrap(this.Uc.Cu);case 13:case"end":return i.stop()}},null,this,null,j)},i.ic=function(){var t=this.Vc;return t&&(t.removeEventListener("webkitkeymessage",this.Oc,!1),t.removeEventListener("webkitkeyerror",this.Cc,!1),t.close()),this.Wc.Wr(),this.Ec.xu(void 0),this.Ec.Cu},i.uc=function(){return j.resolve(void 0)},i.Pc=function(t){this.Dc._u(),this.Dc.pu(Mu,t),this.Yr(new Pu(this))},ft(n,[{key:"hc",get:function(){return this.Vc?this.Vc.sessionId:""}},{key:"ac",get:function(){return NaN}},{key:"cc",get:function(){return this.Ec.Cu}},{key:"fc",get:function(){return this.Dc}}]),n}(Du);function Oc(t,n,i){var e=Ns(t),r=2*e.length,u=2*n.length,s=new ArrayBuffer(4+r+4+u+4+i.byteLength),o=new DataView(s),c=new Fs;return ws(o,c,r,!0),Ts(o,c,e,!0),ws(o,c,u,!0),Ts(o,c,n,!0),ws(o,c,i.byteLength,!0),function(t,n,i){Ps(t).set(Ps(i),n.Iu),n.Su(i.byteLength)}(o,c,i),new y(s)}n.ErrorCode=void 0,(Ic=n.ErrorCode||(n.ErrorCode={}))[Ic.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",Ic[Ic.LICENSE_ERROR=2e3]="LICENSE_ERROR",Ic[Ic.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",Ic[Ic.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",Ic[Ic.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",Ic[Ic.SOURCE_INVALID=3e3]="SOURCE_INVALID",Ic[Ic.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",Ic[Ic.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",Ic[Ic.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",Ic[Ic.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",Ic[Ic.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",Ic[Ic.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",Ic[Ic.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",Ic[Ic.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",Ic[Ic.MEDIA_ABORTED=5004]="MEDIA_ABORTED",Ic[Ic.NETWORK_ERROR=6e3]="NETWORK_ERROR",Ic[Ic.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",Ic[Ic.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",Ic[Ic.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",Ic[Ic.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",Ic[Ic.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",Ic[Ic.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",Ic[Ic.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",Ic[Ic.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",Ic[Ic.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",Ic[Ic.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",Ic[Ic.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",Ic[Ic.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",Ic[Ic.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",Ic[Ic.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",Ic[Ic.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",Ic[Ic.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",Ic[Ic.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",Ic[Ic.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",Ic[Ic.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",Ic[Ic.AD_ERROR=1e4]="AD_ERROR",Ic[Ic.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",Ic[Ic.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR",n.ErrorCategory=void 0,(Dc=n.ErrorCategory||(n.ErrorCategory={}))[Dc.CONFIGURATION=1]="CONFIGURATION",Dc[Dc.LICENSE=2]="LICENSE",Dc[Dc.SOURCE=3]="SOURCE",Dc[Dc.MANIFEST=4]="MANIFEST",Dc[Dc.MEDIA=5]="MEDIA",Dc[Dc.NETWORK=6]="NETWORK",Dc[Dc.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",Dc[Dc.SUBTITLE=8]="SUBTITLE",Dc[Dc.VR=9]="VR",Dc[Dc.AD=10]="AD",Dc[Dc.FULLSCREEN=11]="FULLSCREEN",function(t){(n.ErrorCategory||(n.ErrorCategory={})).fromCode=function(t){var i=d.floor(t/1e3);if(i in n.ErrorCategory)return i;throw new h("Invalid error code: "+t)}}();var Cc=function(t){function i(n,i,e){var r;return(r=t.call(this,i,e)||this).code=void 0,r.code=n,r}return vt(i,t),ft(i,[{key:"name",get:function(){return"THEOplayerError"}},{key:"category",get:function(){return n.ErrorCategory.fromCode(this.code)}}]),i}(Cn),Ac=function(){function t(t,n,i){this.Lc=void 0,this.qc=void 0,this.zc=t,this.dc=n,this.lc=i;var e=wc(i)||"video/mp4";this.Lc=vc(e)}var i=t.prototype;return i.getInternalMediaKeys=function(){return this.zc},i.wc=function(t){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.qc){t.next=2;break}throw new Cc(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return t.abrupt("return",new Nc(this.zc,this.Lc,this.qc));case 3:case"end":return t.stop()}},null,this,null,j)},i.gc=function(t){return this.qc=Ls(t),j.resolve(!0)},i.yc=function(t){return t.webkitSetMediaKeys(this.zc),j.resolve()},i.mc=function(t){return t.webkitSetMediaKeys(null),j.resolve()},t}(),Pc=function(){function t(t,n){this.Zo=t,this.Fc=n}var n=t.prototype;return n.kc=function(){return this.Fc},n._c=function(){var t=new Z.WebKitMediaKeys(this.Zo);return j.resolve(new Ac(t,this.Zo,this.Fc))},ft(t,[{key:"dc",get:function(){return this.Zo}}]),t}(),xc=function(){function t(){}return t.prototype.Er=function(t,n){try{return j.resolve(function(t,n){if(t!==Fr)throw new h(t+" is not supported with webkit-prefixed Encrypted Media Extensions.");if(!Lc())throw new h("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=dc(Bc,Au,t,e);if(r)return new Pc(t,r)}throw new h("Unsupported key system configuration for "+t)}(t,n))}catch(t){return j.reject(t)}},t.Sc=function(){return Lc()},t}();function Lc(){return void 0!==Z.WebKitMediaKeys&&"function"==typeof Z.WebKitMediaKeys.isTypeSupported}function Bc(t,n){return Z.WebKitMediaKeys.isTypeSupported(t,n)}var Mc,Fc=function(){function t(t){this.jc=t}return t.prototype.Er=function(t,n){var i,e,r;return lr.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=0,e=this.jc;case 1:if(!(i<e.length)){u.next=14;break}return r=e[i],u.prev=3,u.next=6,lr.awrap(r.Er(t,n));case 6:return u.abrupt("return",u.sent);case 9:u.prev=9,u.t0=u.catch(3);case 11:i++,u.next=1;break;case 14:throw new h("Unsupported key system configuration for "+t);case 15:case"end":return u.stop()}},null,this,[[3,9]],j)},t}(),Uc=function(t){function n(n){var i;return(i=t.call(this)||this).Ic=void 0,i.Uc=void 0,i.Ec=void 0,i.$u=!1,i.$c=void 0,i.Xc=void 0,i.Gc=void 0,i.Yc=void 0,i.Kc=void 0,i.Zo=n,i.Ec=new Us,i.Xc="",i.Kc=new Us,i.Gc=new Fu,i}vt(n,t);var i=n.prototype;return i.Jc=function(){this.Uc&&(this.Pc("usable"),this.Uc.xu(void 0),this.Uc=void 0)},i.Qc=function(t){var n=new Hs("Unknown CDM error",t.errorCode,t.systemCode);this.Uc?(this.Uc.Lu(n),this.Uc=void 0):this.Ic?(this.Ic.Lu(n),this.Ic=void 0):n.Bu===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.Pc("output-restricted"):1===n.Mu?this.Pc("expired"):this.Pc("internal-error")},i.Zc=function(t){0!==t.message.byteLength&&(this.Ic&&(this.Ic.xu(void 0),this.Ic=void 0),this.Yr(new xu(this,"license-request",zs(this.Zo,Ms(t.message).buffer),t.defaultURL||void 0)))},i.ta=function(t){this.Yc||(this.Yc=t,this.Kc.xu(t))},i.ic=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed(),this.$u=!0,this.Ec.xu(void 0);case 3:case"end":return t.stop()}},null,this,null,j)},i.ec=function(t,n){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.Ic=new Us,this.$c=Ls(n),t.t0=this.Yc,t.t0){t.next=8;break}return t.next=7,lr.awrap(this.Kc.Cu);case 7:t.t0=t.sent;case 8:return t.t0.webkitGenerateKeyRequest(this.Zo,this.$c),t.next=12,lr.awrap(this.Ic.Cu);case 12:case"end":return t.stop()}},null,this,null,j)},i.rc=function(t){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.throwIfClosed(),t.abrupt("return",!1);case 2:case"end":return t.stop()}},null,this,null,j)},i.uc=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed();case 1:case"end":return t.stop()}},null,this,null,j)},i.sc=function(t){return lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.throwIfClosed(),this.Uc=new Us,n.t0=this.Yc,n.t0){n.next=7;break}return n.next=6,lr.awrap(this.Kc.Cu);case 6:n.t0=n.sent;case 7:return n.t0.webkitAddKey(this.Zo,Ls(t),this.$c,this.hc),n.next=11,lr.awrap(this.Uc.Cu);case 11:case"end":return n.stop()}},null,this,null,j)},i.throwIfClosed=function(){if(this.$u)throw new h("Already closing or closed.")},i.Pc=function(t){this.Gc._u(),this.Gc.pu(Mu,t),this.Yr(new Pu(this))},ft(n,[{key:"fc",get:function(){return this.Gc}},{key:"hc",get:function(){return this.Xc},set:function(t){this.Xc=t}},{key:"cc",get:function(){return this.Ec.Cu}},{key:"ac",get:function(){return NaN}}]),n}(Du),Vc=function(){function t(t,n){var i=this;this.Yc=void 0,this.na=yr(),this.ia=[],this.Ac=function(t){var n=i.ea(t.sessionId);n&&n.Jc()},this.ra=function(t){var n=i.ea(t.sessionId);n&&n.Qc(t)},this.ua=function(t){var n=i.ea(t.sessionId);n&&n.Zc(t)},this.dc=t,this.lc=n}var n=t.prototype;return n.yc=function(t){return this.Yc=t,this.Yc.addEventListener("webkitkeyadded",this.Ac),this.Yc.addEventListener("webkitkeyerror",this.ra),this.Yc.addEventListener("webkitkeymessage",this.ua),this.na.forEach(function(n,i){return n.ta(t)}),this.ia.forEach(function(n){return n.ta(t)}),j.resolve()},n.mc=function(t){return t.removeEventListener("webkitkeyadded",this.Ac),t.removeEventListener("webkitkeyerror",this.ra),t.removeEventListener("webkitkeymessage",this.ua),this.Yc=void 0,j.resolve()},n.wc=function(t,n,i){var e;return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new Uc(this.dc),this.Yc&&e.ta(this.Yc),this.ia.push(e),t.abrupt("return",e);case 4:case"end":return t.stop()}},null,this,null,j)},n.gc=function(t){return j.resolve(!1)},n.ea=function(t){if(t){var n=this.na.get(t);return n||((n=this.ia.shift())?(n.hc=t,this.na.set(t,n),n):void 0)}},t}(),Wc=function(){function t(t,n){this.dc=t,this.sa=n}var n=t.prototype;return n._c=function(){return j.resolve(new Vc(this.dc,this.sa))},n.kc=function(){return this.sa},t}(),zc=function(){function t(){}return t.prototype.Er=function(t,n){try{return j.resolve(qc(t,n))}catch(t){return j.reject(t)}},t.Sc=function(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest},t}();function qc(t,n){if(!zc.Sc())throw new h("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=dc(Hc,Cu,t,e);if(r)return new Wc(t,r)}throw new h("Unsupported key system configuration for "+t)}function Hc(t,n){var i=Xe();return!(!i||!i.canPlayType||""===i.canPlayType(n,t))}function jc(){return Mc||(Mc=function(){var t=[];xc.Sc()&&t.push(new xc);pc.Sc()&&t.push(new pc);Sc.Sc()&&t.push(new Sc);zc.Sc()&&t.push(new zc);return new Fc(t)}()),Mc}var $c=function(){function t(){this.oa=yr()}var n=t.prototype;return n._u=function(t){this.oa.delete(t)},n.ca=function(){this.oa.clear()},n.mu=function(t){return this.oa.get(t)},n.aa=function(t,n){this.oa.set(t,n)},t}(),Xc=function(){function t(){}return t.fa=function(){return t.Zn||(t.Zn=Gc.Sc()?new Gc:new $c),t.Zn},t._u=function(n){t.fa()._u(n)},t.ca=function(){t.fa().ca()},t.mu=function(n){return t.fa().mu(n)},t.aa=function(n,i){t.fa().aa(n,i)},t}();Xc.Zn=void 0;var Gc=function(n){function i(){return n.apply(this,arguments)||this}vt(i,n),i.Sc=function(){try{return t.sessionStorage.setItem("foobar","foobar"),t.sessionStorage.removeItem("foobar"),!0}catch(t){return!1}};var e=i.prototype;return e._u=function(n){t.sessionStorage.removeItem(n)},e.ca=function(){t.sessionStorage.clear()},e.mu=function(n){return t.sessionStorage[n]},e.aa=function(n,i){t.sessionStorage[n]=i},i}(Xc);var Yc=function(){var n,i=t.Blob;if(i)try{return new i,n=i,function(t,i){return new n(t,i)}}catch(t){}var e,r=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder;if(r)return e=r,function(t,n){var i=new e;if(t)for(var r=0;r<t.length;r++){var u=t[r];i.append(u)}return i.getBlob(n&&n.type||"")}}();function Kc(t,n,i){var r=Yc([n],{type:"application/octet-stream"}),u=URL.createObjectURL(r),s=function(t,n){var i=t,e=i.indexOf("?");if(e>=0&&(i=i.substr(0,e)),i=i.substr(i.lastIndexOf("/")+1),n){var r=i.indexOf(".");r<0&&(r=i.length),i=i.substr(0,r)+n+i.substr(r)}return i}(t,i),o=e.createElement("a");o.href=u,o.download=s,e.body.appendChild(o),o.click(),e.body.removeChild(o),URL.revokeObjectURL(u)}var Jc,Qc;!function(t){t.ha="va",t.da="la",t.wa="contentprotectionerror",t.ga="contentprotectionsuccess",t.ya="currentsourcechange",t.ma="destroy",t.ba="durationchange",t.pa="emptied",t.hu="encrypted",t._a="ended",t.ka="Ta",t.Sa="loadstart",t.Ea="manifestupdate",t.Ra="nosupportedrepresentationfound",t.Ia="offline",t.Da="online",t.Na="pause",t.Oa="play",t.Ca="progress",t.Aa="ratechange",t.Pa="representationchange",t.xa="resize",t.La="seeked",t.Ba="seeking",t.Ma="segmentnotfound",t.Fa="Ua",t.Va="Wa",t.za="sourcechange",t.qa="timeupdate",t.Ha="volumechange",t.ja="$a",t.Xa="metricschange"}(Jc||(Jc={})),function(t){t.Ga="arraybuffer",t.Ya="json",t.Ka="stream",t.ri="text"}(Qc||(Qc={}));var Zc=function(){function t(n){var i=this;this.sr=void 0,this.sr={},n instanceof t?n.asList().forEach(function(t){var n=t[0],e=t[1];i.append(n,e)}):Array.isArray(n)?n.forEach(function(t){i.append(t[0],t[1])}):n&&v.getOwnPropertyNames(n).forEach(function(t){i.append(t,n[t])})}var n=t.prototype;return n.append=function(t,n){var i=t,e=n;i=ta(i),e=na(e);var r=i.toLowerCase();if(this.sr.hasOwnProperty(r)){var u=this.sr[r],s=u[1];u[1]=s?s+", "+e:e}else this.sr[r]=[i,e]},n.delete=function(t){var n=ta(t).toLowerCase();delete this.sr[n]},n.get=function(t){var n=ta(t).toLowerCase();return this.sr.hasOwnProperty(n)?this.sr[n][1]:null},n.has=function(t){var n=ta(t).toLowerCase();return this.sr.hasOwnProperty(n)},n.set=function(t,n){var i=t,e=(i=ta(i)).toLowerCase();this.sr[e]=[i,na(n)]},n.forEach=function(t,n){for(var i in this.sr)this.sr.hasOwnProperty(i)&&t.call(n,this.sr[i][1],i,this)},n.asList=function(){var t=[];for(var n in this.sr)if(this.sr.hasOwnProperty(n)){var i=this.sr[n],e=i[0],r=i[1];t.push([e,r])}return t},n.Ja=function(){var t={};return this.forEach(function(n,i){t[i]=n}),t},n.Qa=function(t){var n=this;t.forEach(function(t,i){n.append(i,t)})},n.Za=function(t){var n=this;t.forEach(function(t,i){n.set(i,t)})},t}();function ta(t){var n=t;if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(n))throw new h("Invalid character in header field name");return n}function na(t){var n=t;return"string"!=typeof n&&(n=String(n)),n}var ia="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(t){return"Symbol("+t+")"};function ea(){}var ra=void 0!==t?t:void 0!==i?i:"undefined"!=typeof global?global:void 0;function ua(t){return"object"==typeof t&&null!==t||"function"==typeof t}var sa=ea,oa=j,ca=j.prototype.then,aa=j.resolve.bind(oa),fa=j.reject.bind(oa);function ha(t){return new oa(t)}function va(t){return aa(t)}function da(t){return fa(t)}function la(t,n,i){return ca.call(t,n,i)}function wa(t,n,i){la(la(t,n,i),void 0,sa)}function ga(t,n){wa(t,n)}function ya(t,n){wa(t,void 0,n)}function ma(t,n,i){return la(t,n,i)}function ba(t){la(t,void 0,sa)}var pa=function(){var t=ra&&ra.queueMicrotask;if("function"==typeof t)return t;var n=va(void 0);return function(t){return la(n,t)}}();function _a(t,n,i){if("function"!=typeof t)throw new h("Argument is not a function");return Function.prototype.apply.call(t,n,i)}function ka(t,n,i){try{return va(_a(t,n,i))}catch(t){return da(t)}}var Ta=function(){function t(){this.tf=0,this.nf=0,this.C={if:[],ef:void 0},this.rf=this.C,this.tf=0,this.nf=0}return v.defineProperty(t.prototype,"length",{get:function(){return this.nf},enumerable:!1,configurable:!0}),t.prototype.push=function(t){var n=this.rf,i=n;16383===n.if.length&&(i={if:[],ef:void 0}),n.if.push(t),i!==n&&(this.rf=i,n.ef=i),++this.nf},t.prototype.shift=function(){var t=this.C,n=t,i=this.tf,e=i+1,r=t.if,u=r[i];return 16384===e&&(n=t.ef,e=0),--this.nf,this.tf=e,t!==n&&(this.C=n),r[i]=void 0,u},t.prototype.forEach=function(t){for(var n=this.tf,i=this.C,e=i.if;!(n===e.length&&void 0===i.ef||n===e.length&&(n=0,0===(e=(i=i.ef).if).length));)t(e[n]),++n},t.prototype.peek=function(){var t=this.C,n=this.tf;return t.if[n]},t}();function Sa(t,n){t.uf=n,n.sf=t,"readable"===n.o?Da(t):"closed"===n.o?function(t){Da(t),Ca(t)}(t):Na(t,n.cf)}function Ea(t,n){return Iv(t.uf,n)}function Ra(t){"readable"===t.uf.o?Oa(t,new h("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,n){Na(t,n)}(t,new h("Reader was released and can no longer be used to monitor the stream's closedness")),t.uf.sf=void 0,t.uf=void 0}function Ia(t){return new h("Cannot "+t+" a stream using a released reader")}function Da(t){t.Go=ha(function(n,i){t.af=n,t.ff=i})}function Na(t,n){Da(t),Oa(t,n)}function Oa(t,n){void 0!==t.ff&&(ba(t.Go),t.ff(n),t.af=void 0,t.ff=void 0)}function Ca(t){void 0!==t.af&&(t.af(void 0),t.af=void 0,t.ff=void 0)}var Aa=ia("[[AbortSteps]]"),Pa=ia("[[ErrorSteps]]"),xa=ia("[[CancelSteps]]"),La=ia("[[PullSteps]]"),Ba=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},Ma=d.trunc||function(t){return t<0?d.ceil(t):d.floor(t)};function Fa(t,n){if(void 0!==t&&("object"!=typeof(i=t)&&"function"!=typeof i))throw new h(n+" is not an object.");var i}function Ua(t,n){if("function"!=typeof t)throw new h(n+" is not a function.")}function Va(t,n){if(!function(t){return"object"==typeof t&&null!==t||"function"==typeof t}(t))throw new h(n+" is not an object.")}function Wa(t,n,i){if(void 0===t)throw new h("Parameter "+n+" is required in '"+i+"'.")}function za(t,n,i){if(void 0===t)throw new h(n+" is required in '"+i+"'.")}function qa(t){return Number(t)}function Ha(t){return 0===t?0:t}function ja(t,n){var i=Number.MAX_SAFE_INTEGER,e=Number(t);if(e=Ha(e),!Ba(e))throw new h(n+" is not a finite number");if((e=function(t){return Ha(Ma(t))}(e))<0||e>i)throw new h(n+" is outside the accepted range of 0 to "+i+", inclusive");return Ba(e)&&0!==e?e:0}function $a(t,n){if(!Ev(t))throw new h(n+" is not a ReadableStream.")}function Xa(t){return new tf(t)}function Ga(t,n){t.sf.hf.push(n)}function Ya(t,n,i){var e=t.sf.hf.shift();i?e.vf():e.df(n)}function Ka(t){return t.sf.hf.length}function Ja(t){var n=t.sf;return void 0!==n&&!!nf(n)}var Qa,Za,tf=function(){function t(t){if(Wa(t,1,"ReadableStreamDefaultReader"),$a(t,"First parameter"),Rv(t))throw new h("This stream has already been locked for exclusive reading by another reader");Sa(this,t),this.hf=new Ta}return v.defineProperty(t.prototype,"closed",{get:function(){return nf(this)?this.Go:da(rf("closed"))},enumerable:!1,configurable:!0}),t.prototype.cancel=function(t){return void 0===t&&(t=void 0),nf(this)?void 0===this.uf?da(Ia("cancel")):Ea(this,t):da(rf("cancel"))},t.prototype.read=function(){if(!nf(this))return da(rf("read"));if(void 0===this.uf)return da(Ia("read from"));var t,n,i=ha(function(i,e){t=i,n=e});return ef(this,{df:function(n){return t({value:n,done:!1})},vf:function(){return t({value:void 0,done:!0})},lf:function(t){return n(t)}}),i},t.prototype.releaseLock=function(){if(!nf(this))throw rf("releaseLock");if(void 0!==this.uf){if(this.hf.length>0)throw new h("Tried to release a reader lock when that reader has pending read() calls un-settled");Ra(this)}},t}();function nf(t){return!!ua(t)&&(!!v.prototype.hasOwnProperty.call(t,"hf")&&t instanceof tf)}function ef(t,n){var i=t.uf;i.wf=!0,"closed"===i.o?n.vf():"errored"===i.o?n.lf(i.cf):i.gf[La](n)}function rf(t){return new h("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}v.defineProperties(tf.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof ia.toStringTag&&v.defineProperty(tf.prototype,ia.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0}),"symbol"==typeof ia.asyncIterator&&((Qa={})[ia.asyncIterator]=function(){return this},Za=Qa,v.defineProperty(Za,ia.asyncIterator,{enumerable:!1}));var uf=function(){function t(t,n){this.yf=void 0,this.mf=!1,this.sf=t,this.bf=n}return t.prototype.next=function(){var t=this,n=function(){return t.pf()};return this.yf=this.yf?ma(this.yf,n,n):n(),this.yf},t.prototype.return=function(t){var n=this,i=function(){return n._f(t)};return this.yf?ma(this.yf,i,i):i()},t.prototype.pf=function(){var t=this;if(this.mf)return j.resolve({value:void 0,done:!0});var n,i,e=this.sf;if(void 0===e.uf)return da(Ia("iterate"));var r=ha(function(t,e){n=t,i=e});return ef(e,{df:function(i){t.yf=void 0,pa(function(){return n({value:i,done:!1})})},vf:function(){t.yf=void 0,t.mf=!0,Ra(e),n({value:void 0,done:!0})},lf:function(n){t.yf=void 0,t.mf=!0,Ra(e),i(n)}}),r},t.prototype._f=function(t){if(this.mf)return j.resolve({value:t,done:!0});this.mf=!0;var n=this.sf;if(void 0===n.uf)return da(Ia("finish iterating"));if(!this.bf){var i=Ea(n,t);return Ra(n),ma(i,function(){return{value:t,done:!0}})}return Ra(n),va({value:t,done:!0})},t}(),sf={next:function(){return of(this)?this.kf.next():da(cf("next"))},return:function(t){return of(this)?this.kf.return(t):da(cf("return"))}};function of(t){if(!ua(t))return!1;if(!v.prototype.hasOwnProperty.call(t,"kf"))return!1;try{return t.kf instanceof uf}catch(t){return!1}}function cf(t){return new h("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}void 0!==Za&&v.setPrototypeOf(sf,Za);var af=Number.isNaN||function(t){return t!=t};function ff(t){return t.slice()}function hf(t,n,i,e,r){new y(t).set(new y(i,e,r),n)}function vf(t){return t}function df(t,n,i){if(t.slice)return t.slice(n,i);var e=i-n,r=new ArrayBuffer(e);return hf(r,0,t,n,e),r}function lf(t){var n=df(t.buffer,t.byteOffset,t.byteOffset+t.byteLength);return new y(n)}function wf(t){var n=t.Tf.shift();return t.Sf-=n.size,t.Sf<0&&(t.Sf=0),n.value}function gf(t,n,i){if("number"!=typeof(e=i)||af(e)||e<0||i===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");var e;t.Tf.push({value:n,size:i}),t.Sf+=i}function yf(t){t.Tf=new Ta,t.Sf=0}var mf=function(){function t(){throw new h("Illegal constructor")}return v.defineProperty(t.prototype,"view",{get:function(){if(!_f(this))throw qf("view");return this.Ef},enumerable:!1,configurable:!0}),t.prototype.respond=function(t){if(!_f(this))throw qf("respond");if(Wa(t,1,"respond"),t=ja(t,"First parameter"),void 0===this.Rf)throw new h("This BYOB request has been invalidated");this.Ef.buffer,Vf(this.Rf,t)},t.prototype.respondWithNewView=function(t){if(!_f(this))throw qf("respondWithNewView");if(Wa(t,1,"respondWithNewView"),!ArrayBuffer.isView(t))throw new h("You can only respond with array buffer views");if(void 0===this.Rf)throw new h("This BYOB request has been invalidated");t.buffer,Wf(this.Rf,t)},t}();v.defineProperties(mf.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),"symbol"==typeof ia.toStringTag&&v.defineProperty(mf.prototype,ia.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});var bf=function(){function t(){throw new h("Illegal constructor")}return v.defineProperty(t.prototype,"byobRequest",{get:function(){if(!pf(this))throw Hf("byobRequest");return Ff(this)},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"desiredSize",{get:function(){if(!pf(this))throw Hf("desiredSize");return Uf(this)},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(!pf(this))throw Hf("close");if(this.If)throw new h("The stream has already been closed; do not close it again!");var t=this.Df.o;if("readable"!==t)throw new h("The stream (in "+t+" state) is not in the readable state and cannot be closed");Lf(this)},t.prototype.enqueue=function(t){if(!pf(this))throw Hf("enqueue");if(Wa(t,1,"enqueue"),!ArrayBuffer.isView(t))throw new h("chunk must be an array buffer view");if(0===t.byteLength)throw new h("chunk must have non-zero byteLength");if(0===t.buffer.byteLength)throw new h("chunk's buffer must have non-zero byteLength");if(this.If)throw new h("stream is closed or draining");var n=this.Df.o;if("readable"!==n)throw new h("The stream (in "+n+" state) is not in the readable state and cannot be enqueued to");Bf(this,t)},t.prototype.error=function(t){if(void 0===t&&(t=void 0),!pf(this))throw Hf("error");Mf(this,t)},t.prototype[xa]=function(t){Tf(this),yf(this);var n=this.Nf(t);return xf(this),n},t.prototype[La]=function(t){var n=this.Df;if(this.Sf>0){var i=this.Tf.shift();this.Sf-=i.byteLength,Nf(this);var e=new y(i.buffer,i.byteOffset,i.byteLength);t.df(e)}else{var r=this.Of;if(void 0!==r){var u=void 0;try{u=new ArrayBuffer(r)}catch(n){return void t.lf(n)}var s={buffer:u,bufferByteLength:r,byteOffset:0,byteLength:r,bytesFilled:0,elementSize:1,viewConstructor:y,readerType:"default"};this.Cf.push(s)}Ga(n,t),kf(this)}},t}();function pf(t){return!!ua(t)&&(!!v.prototype.hasOwnProperty.call(t,"Df")&&t instanceof bf)}function _f(t){return!!ua(t)&&(!!v.prototype.hasOwnProperty.call(t,"Rf")&&t instanceof mf)}function kf(t){(function(t){var n=t.Df;if("readable"!==n.o)return!1;if(t.If)return!1;if(!t.Af)return!1;if(Ja(n)&&Ka(n)>0)return!0;if(Gf(n)&&Xf(n)>0)return!0;if(Uf(t)>0)return!0;return!1})(t)&&(t.Pf?t.xf=!0:(t.Pf=!0,wa(t.Lf(),function(){t.Pf=!1,t.xf&&(t.xf=!1,kf(t))},function(n){Mf(t,n)})))}function Tf(t){Of(t),t.Cf=new Ta}function Sf(t,n){var i=!1;"closed"===t.o&&(i=!0);var e=Ef(n);"default"===n.readerType?Ya(t,e,i):function(t,n,i){var e=t.sf.Bf.shift();i?e.vf(n):e.df(n)}(t,e,i)}function Ef(t){var n=t.bytesFilled,i=t.elementSize;return new t.viewConstructor(t.buffer,t.byteOffset,n/i)}function Rf(t,n,i,e){t.Tf.push({buffer:n,byteOffset:i,byteLength:e}),t.Sf+=e}function If(t,n){var i=n.elementSize,e=n.bytesFilled-n.bytesFilled%i,r=d.min(t.Sf,n.byteLength-n.bytesFilled),u=n.bytesFilled+r,s=u-u%i,o=r,c=!1;s>e&&(o=s-n.bytesFilled,c=!0);for(var a=t.Tf;o>0;){var f=a.peek(),h=d.min(o,f.byteLength),v=n.byteOffset+n.bytesFilled;hf(n.buffer,v,f.buffer,f.byteOffset,h),f.byteLength===h?a.shift():(f.byteOffset+=h,f.byteLength-=h),t.Sf-=h,Df(t,h,n),o-=h}return c}function Df(t,n,i){i.bytesFilled+=n}function Nf(t){0===t.Sf&&t.If?(xf(t),Dv(t.Df)):kf(t)}function Of(t){null!==t.Mf&&(t.Mf.Rf=void 0,t.Mf.Ef=null,t.Mf=null)}function Cf(t){for(;t.Cf.length>0;){if(0===t.Sf)return;var n=t.Cf.peek();If(t,n)&&(Pf(t),Sf(t.Df,n))}}function Af(t,n){var i=t.Cf.peek();Of(t),"closed"===t.Df.o?function(t,n){var i=t.Df;if(Gf(i))for(;Xf(i)>0;)Sf(i,Pf(t))}(t):function(t,n,i){if(Df(0,n,i),!(i.bytesFilled<i.elementSize)){Pf(t);var e=i.bytesFilled%i.elementSize;if(e>0){var r=i.byteOffset+i.bytesFilled,u=df(i.buffer,r-e,r);Rf(t,u,0,u.byteLength)}i.bytesFilled-=e,Sf(t.Df,i),Cf(t)}}(t,n,i),kf(t)}function Pf(t){return t.Cf.shift()}function xf(t){t.Lf=void 0,t.Nf=void 0}function Lf(t){var n=t.Df;if(!t.If&&"readable"===n.o)if(t.Sf>0)t.If=!0;else{if(t.Cf.length>0)if(t.Cf.peek().bytesFilled>0){var i=new h("Insufficient bytes to fill elements in the given buffer");throw Mf(t,i),i}xf(t),Dv(n)}}function Bf(t,n){var i=t.Df;if(!t.If&&"readable"===i.o){var e=n.buffer,r=n.byteOffset,u=n.byteLength,s=vf(e);if(t.Cf.length>0){var o=t.Cf.peek();o.buffer,0,o.buffer=vf(o.buffer)}if(Of(t),Ja(i))if(0===Ka(i))Rf(t,s,r,u);else t.Cf.length>0&&Pf(t),Ya(i,new y(s,r,u),!1);else Gf(i)?(Rf(t,s,r,u),Cf(t)):Rf(t,s,r,u);kf(t)}}function Mf(t,n){var i=t.Df;"readable"===i.o&&(Tf(t),yf(t),xf(t),Nv(i,n))}function Ff(t){if(null===t.Mf&&t.Cf.length>0){var n=t.Cf.peek(),i=new y(n.buffer,n.byteOffset+n.bytesFilled,n.byteLength-n.bytesFilled),e=v.create(mf.prototype);!function(t,n,i){t.Rf=n,t.Ef=i}(e,t,i),t.Mf=e}return t.Mf}function Uf(t){var n=t.Df.o;return"errored"===n?null:"closed"===n?0:t.Ff-t.Sf}function Vf(t,n){var i=t.Cf.peek();if("closed"===t.Df.o){if(0!==n)throw new h("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(0===n)throw new h("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(i.bytesFilled+n>i.byteLength)throw new RangeError("bytesWritten out of range")}i.buffer=vf(i.buffer),Af(t,n)}function Wf(t,n){var i=t.Cf.peek();if("closed"===t.Df.o){if(0!==n.byteLength)throw new h("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(0===n.byteLength)throw new h("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(i.byteOffset+i.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.bufferByteLength!==n.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(i.bytesFilled+n.byteLength>i.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");var e=n.byteLength;i.buffer=vf(n.buffer),Af(t,e)}function zf(t,n,i,e,r,u,s){n.Df=t,n.xf=!1,n.Pf=!1,n.Mf=null,n.Tf=n.Sf=void 0,yf(n),n.If=!1,n.Af=!1,n.Ff=u,n.Lf=e,n.Nf=r,n.Of=s,n.Cf=new Ta,t.gf=n,wa(va(i()),function(){n.Af=!0,kf(n)},function(t){Mf(n,t)})}function qf(t){return new h("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function Hf(t){return new h("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function jf(t){return new Yf(t)}function $f(t,n){t.sf.Bf.push(n)}function Xf(t){return t.sf.Bf.length}function Gf(t){var n=t.sf;return void 0!==n&&!!Kf(n)}v.defineProperties(bf.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof ia.toStringTag&&v.defineProperty(bf.prototype,ia.toStringTag,{value:"ReadableByteStreamController",configurable:!0});var Yf=function(){function t(t){if(Wa(t,1,"ReadableStreamBYOBReader"),$a(t,"First parameter"),Rv(t))throw new h("This stream has already been locked for exclusive reading by another reader");if(!pf(t.gf))throw new h("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");Sa(this,t),this.Bf=new Ta}return v.defineProperty(t.prototype,"closed",{get:function(){return Kf(this)?this.Go:da(Qf("closed"))},enumerable:!1,configurable:!0}),t.prototype.cancel=function(t){return void 0===t&&(t=void 0),Kf(this)?void 0===this.uf?da(Ia("cancel")):Ea(this,t):da(Qf("cancel"))},t.prototype.read=function(t){if(!Kf(this))return da(Qf("read"));if(!ArrayBuffer.isView(t))return da(new h("view must be an array buffer view"));if(0===t.byteLength)return da(new h("view must have non-zero byteLength"));if(0===t.buffer.byteLength)return da(new h("view's buffer must have non-zero byteLength"));if(t.buffer,void 0===this.uf)return da(Ia("read from"));var n,i,e=ha(function(t,e){n=t,i=e});return Jf(this,t,{df:function(t){return n({value:t,done:!1})},vf:function(t){return n({value:t,done:!0})},lf:function(t){return i(t)}}),e},t.prototype.releaseLock=function(){if(!Kf(this))throw Qf("releaseLock");if(void 0!==this.uf){if(this.Bf.length>0)throw new h("Tried to release a reader lock when that reader has pending read() calls un-settled");Ra(this)}},t}();function Kf(t){return!!ua(t)&&(!!v.prototype.hasOwnProperty.call(t,"Bf")&&t instanceof Yf)}function Jf(t,n,i){var e=t.uf;e.wf=!0,"errored"===e.o?i.lf(e.cf):function(t,n,i){var e=t.Df,r=1;n.constructor!==DataView&&(r=n.constructor.BYTES_PER_ELEMENT);var u=n.constructor,s=vf(n.buffer),o={buffer:s,bufferByteLength:s.byteLength,byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:r,viewConstructor:u,readerType:"byob"};if(t.Cf.length>0)return t.Cf.push(o),void $f(e,i);if("closed"!==e.o){if(t.Sf>0){if(If(t,o)){var c=Ef(o);return Nf(t),void i.df(c)}if(t.If){var a=new h("Insufficient bytes to fill elements in the given buffer");return Mf(t,a),void i.lf(a)}}t.Cf.push(o),$f(e,i),kf(t)}else{var f=new u(o.buffer,o.byteOffset,0);i.vf(f)}}(e.gf,n,i)}function Qf(t){return new h("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}function Zf(t,n){var i=t.highWaterMark;if(void 0===i)return n;if(af(i)||i<0)throw new RangeError("Invalid highWaterMark");return i}function th(t){var n=t.size;return n||function(){return 1}}function nh(t,n){Fa(t,n);var i=null==t?void 0:t.highWaterMark,e=null==t?void 0:t.size;return{highWaterMark:void 0===i?void 0:qa(i),size:void 0===e?void 0:ih(e,n+" has member 'size' that")}}function ih(t,n){return Ua(t,n),function(n){return qa(t(n))}}function eh(t,n,i){return Ua(t,i),function(i){return ka(t,n,[i])}}function rh(t,n,i){return Ua(t,i),function(){return ka(t,n,[])}}function uh(t,n,i){return Ua(t,i),function(i){return _a(t,n,[i])}}function sh(t,n,i){return Ua(t,i),function(i,e){return ka(t,n,[i,e])}}function oh(t,n){if(!vh(t))throw new h(n+" is not a WritableStream.")}v.defineProperties(Yf.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof ia.toStringTag&&v.defineProperty(Yf.prototype,ia.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});var ch="function"==typeof AbortController;var ah=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),void 0===t?t=null:Va(t,"First parameter");var i=nh(n,"Second parameter"),e=function(t,n){Fa(t,n);var i=null==t?void 0:t.abort,e=null==t?void 0:t.close,r=null==t?void 0:t.start,u=null==t?void 0:t.type,s=null==t?void 0:t.write;return{abort:void 0===i?void 0:eh(i,t,n+" has member 'abort' that"),close:void 0===e?void 0:rh(e,t,n+" has member 'close' that"),start:void 0===r?void 0:uh(r,t,n+" has member 'start' that"),write:void 0===s?void 0:sh(s,t,n+" has member 'write' that"),type:u}}(t,"First parameter");if(hh(this),void 0!==e.type)throw new RangeError("Invalid type is specified");var r=th(i);!function(t,n,i,e){var r=v.create(Oh.prototype),u=function(){},s=function(){return va(void 0)},o=function(){return va(void 0)},c=function(){return va(void 0)};void 0!==n.start&&(u=function(){return n.start(r)});void 0!==n.write&&(s=function(t){return n.write(t,r)});void 0!==n.close&&(o=function(){return n.close()});void 0!==n.abort&&(c=function(t){return n.abort(t)});Ah(t,r,u,s,o,c,i,e)}(this,e,Zf(i,1),r)}return v.defineProperty(t.prototype,"locked",{get:function(){if(!vh(this))throw Uh("locked");return dh(this)},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){return void 0===t&&(t=void 0),vh(this)?dh(this)?da(new h("Cannot abort a stream that already has a writer")):lh(this,t):da(Uh("abort"))},t.prototype.close=function(){return vh(this)?dh(this)?da(new h("Cannot close a stream that already has a writer")):bh(this)?da(new h("Cannot close an already-closing stream")):wh(this):da(Uh("close"))},t.prototype.getWriter=function(){if(!vh(this))throw Uh("getWriter");return fh(this)},t}();function fh(t){return new kh(t)}function hh(t){t.o="writable",t.cf=void 0,t.Ku=void 0,t.Uf=void 0,t.Vf=new Ta,t.Wf=void 0,t.zf=void 0,t.qf=void 0,t.Hf=void 0,t.jf=!1}function vh(t){return!!ua(t)&&(!!v.prototype.hasOwnProperty.call(t,"Uf")&&t instanceof ah)}function dh(t){return void 0!==t.Ku}function lh(t,n){var i;if("closed"===t.o||"errored"===t.o)return va(void 0);t.Uf.$f=n,null===(i=t.Uf.Xf)||void 0===i||i.abort();var e=t.o;if("closed"===e||"errored"===e)return va(void 0);if(void 0!==t.Hf)return t.Hf.Gf;var r=!1;"erroring"===e&&(r=!0,n=void 0);var u=ha(function(i,e){t.Hf={Gf:void 0,Au:i,Pu:e,Yf:n,Kf:r}});return t.Hf.Gf=u,r||yh(t,n),u}function wh(t){var n=t.o;if("closed"===n||"errored"===n)return da(new h("The stream (in "+n+" state) is not in the writable state and cannot be closed"));var i,e=ha(function(n,i){var e={Au:n,Pu:i};t.zf=e}),r=t.Ku;return void 0!==r&&t.jf&&"writable"===n&&Jh(r),gf(i=t.Uf,Nh,0),Lh(i),e}function gh(t,n){"writable"!==t.o?mh(t):yh(t,n)}function yh(t,n){var i=t.Uf;t.o="erroring",t.cf=n;var e=t.Ku;void 0!==e&&Rh(e,n),!function(t){if(void 0===t.Wf&&void 0===t.qf)return!1;return!0}(t)&&i.Af&&mh(t)}function mh(t){t.o="errored",t.Uf[Pa]();var n=t.cf;if(t.Vf.forEach(function(t){t.Pu(n)}),t.Vf=new Ta,void 0!==t.Hf){var i=t.Hf;if(t.Hf=void 0,i.Kf)return i.Pu(n),void ph(t);wa(t.Uf[Aa](i.Yf),function(){i.Au(),ph(t)},function(n){i.Pu(n),ph(t)})}else ph(t)}function bh(t){return void 0!==t.zf||void 0!==t.qf}function ph(t){void 0!==t.zf&&(t.zf.Pu(t.cf),t.zf=void 0);var n=t.Ku;void 0!==n&&jh(n,t.cf)}function _h(t,n){var i=t.Ku;void 0!==i&&n!==t.jf&&(n?function(t){Xh(t)}(i):Jh(i)),t.jf=n}v.defineProperties(ah.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof ia.toStringTag&&v.defineProperty(ah.prototype,ia.toStringTag,{value:"WritableStream",configurable:!0});var kh=function(){function t(t){if(Wa(t,1,"WritableStreamDefaultWriter"),oh(t,"First parameter"),dh(t))throw new h("This stream has already been locked for exclusive writing by another writer");this.Jf=t,t.Ku=this;var n,i=t.o;if("writable"===i)!bh(t)&&t.jf?Xh(this):Yh(this),qh(this);else if("erroring"===i)Gh(this,t.cf),qh(this);else if("closed"===i)Yh(this),qh(n=this),$h(n);else{var e=t.cf;Gh(this,e),Hh(this,e)}}return v.defineProperty(t.prototype,"closed",{get:function(){return Th(this)?this.Go:da(Wh("closed"))},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"desiredSize",{get:function(){if(!Th(this))throw Wh("desiredSize");if(void 0===this.Jf)throw zh("desiredSize");return function(t){var n=t.Jf,i=n.o;if("errored"===i||"erroring"===i)return null;if("closed"===i)return 0;return xh(n.Uf)}(this)},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"ready",{get:function(){return Th(this)?this.Qf:da(Wh("ready"))},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){return void 0===t&&(t=void 0),Th(this)?void 0===this.Jf?da(zh("abort")):function(t,n){return lh(t.Jf,n)}(this,t):da(Wh("abort"))},t.prototype.close=function(){if(!Th(this))return da(Wh("close"));var t=this.Jf;return void 0===t?da(zh("close")):bh(t)?da(new h("Cannot close an already-closing stream")):Sh(this)},t.prototype.releaseLock=function(){if(!Th(this))throw Wh("releaseLock");void 0!==this.Jf&&Ih(this)},t.prototype.write=function(t){return void 0===t&&(t=void 0),Th(this)?void 0===this.Jf?da(zh("write to")):Dh(this,t):da(Wh("write"))},t}();function Th(t){return!!ua(t)&&(!!v.prototype.hasOwnProperty.call(t,"Jf")&&t instanceof kh)}function Sh(t){return wh(t.Jf)}function Eh(t,n){"pending"===t.Zf?jh(t,n):function(t,n){Hh(t,n)}(t,n)}function Rh(t,n){"pending"===t.th?Kh(t,n):function(t,n){Gh(t,n)}(t,n)}function Ih(t){var n=t.Jf,i=new h("Writer was released and can no longer be used to monitor the stream's closedness");Rh(t,i),Eh(t,i),n.Ku=void 0,t.Jf=void 0}function Dh(t,n){var i=t.Jf,e=i.Uf,r=function(t,n){try{return t.nh(n)}catch(n){return Bh(t,n),1}}(e,n);if(i!==t.Jf)return da(zh("write to"));var u=i.o;if("errored"===u)return da(i.cf);if(bh(i)||"closed"===u)return da(new h("The stream is closing or closed and cannot be written to"));if("erroring"===u)return da(i.cf);var s=function(t){return ha(function(n,i){var e={Au:n,Pu:i};t.Vf.push(e)})}(i);return function(t,n,i){try{gf(t,n,i)}catch(n){return void Bh(t,n)}var e=t.ih;if(!bh(e)&&"writable"===e.o){var r=Mh(t);_h(e,r)}Lh(t)}(e,n,r),s}v.defineProperties(kh.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),"symbol"==typeof ia.toStringTag&&v.defineProperty(kh.prototype,ia.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});var Nh={},Oh=function(){function t(){throw new h("Illegal constructor")}return v.defineProperty(t.prototype,"abortReason",{get:function(){if(!Ch(this))throw Vh("abortReason");return this.$f},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"signal",{get:function(){if(!Ch(this))throw Vh("signal");if(void 0===this.Xf)throw new h("WritableStreamDefaultController.prototype.signal is not supported");return this.Xf.signal},enumerable:!1,configurable:!0}),t.prototype.error=function(t){if(void 0===t&&(t=void 0),!Ch(this))throw Vh("error");"writable"===this.ih.o&&Fh(this,t)},t.prototype[Aa]=function(t){var n=this.eh(t);return Ph(this),n},t.prototype[Pa]=function(){yf(this)},t}();function Ch(t){return!!ua(t)&&(!!v.prototype.hasOwnProperty.call(t,"ih")&&t instanceof Oh)}function Ah(t,n,i,e,r,u,s,o){n.ih=t,t.Uf=n,n.Tf=void 0,n.Sf=void 0,yf(n),n.$f=void 0,n.Xf=function(){if(ch)return new AbortController}(),n.Af=!1,n.nh=o,n.Ff=s,n.rh=e,n.uh=r,n.eh=u;var c=Mh(n);_h(t,c),wa(va(i()),function(){n.Af=!0,Lh(n)},function(i){n.Af=!0,gh(t,i)})}function Ph(t){t.rh=void 0,t.uh=void 0,t.eh=void 0,t.nh=void 0}function xh(t){return t.Ff-t.Sf}function Lh(t){var n=t.ih;if(t.Af&&void 0===n.Wf)if("erroring"!==n.o){if(0!==t.Tf.length){var i=t.Tf.peek().value;i===Nh?function(t){var n=t.ih;(function(t){t.qf=t.zf,t.zf=void 0})(n),wf(t);var i=t.uh();Ph(t),wa(i,function(){!function(t){t.qf.Au(void 0),t.qf=void 0,"erroring"===t.o&&(t.cf=void 0,void 0!==t.Hf&&(t.Hf.Au(),t.Hf=void 0)),t.o="closed";var n=t.Ku;void 0!==n&&$h(n)}(n)},function(t){!function(t,n){t.qf.Pu(n),t.qf=void 0,void 0!==t.Hf&&(t.Hf.Pu(n),t.Hf=void 0),gh(t,n)}(n,t)})}(t):function(t,n){var i=t.ih;(function(t){t.Wf=t.Vf.shift()})(i),wa(t.rh(n),function(){!function(t){t.Wf.Au(void 0),t.Wf=void 0}(i);var n=i.o;if(wf(t),!bh(i)&&"writable"===n){var e=Mh(t);_h(i,e)}Lh(t)},function(n){"writable"===i.o&&Ph(t),function(t,n){t.Wf.Pu(n),t.Wf=void 0,gh(t,n)}(i,n)})}(t,i)}}else mh(n)}function Bh(t,n){"writable"===t.ih.o&&Fh(t,n)}function Mh(t){return xh(t)<=0}function Fh(t,n){var i=t.ih;Ph(t),yh(i,n)}function Uh(t){return new h("WritableStream.prototype."+t+" can only be used on a WritableStream")}function Vh(t){return new h("WritableStreamDefaultController.prototype."+t+" can only be used on a WritableStreamDefaultController")}function Wh(t){return new h("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function zh(t){return new h("Cannot "+t+" a stream using a released writer")}function qh(t){t.Go=ha(function(n,i){t.af=n,t.ff=i,t.Zf="pending"})}function Hh(t,n){qh(t),jh(t,n)}function jh(t,n){void 0!==t.ff&&(ba(t.Go),t.ff(n),t.af=void 0,t.ff=void 0,t.Zf="rejected")}function $h(t){void 0!==t.af&&(t.af(void 0),t.af=void 0,t.ff=void 0,t.Zf="resolved")}function Xh(t){t.Qf=ha(function(n,i){t.sh=n,t.oh=i}),t.th="pending"}function Gh(t,n){Xh(t),Kh(t,n)}function Yh(t){Xh(t),Jh(t)}function Kh(t,n){void 0!==t.oh&&(ba(t.Qf),t.oh(n),t.sh=void 0,t.oh=void 0,t.th="rejected")}function Jh(t){void 0!==t.sh&&(t.sh(void 0),t.sh=void 0,t.oh=void 0,t.th="fulfilled")}v.defineProperties(Oh.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),"symbol"==typeof ia.toStringTag&&v.defineProperty(Oh.prototype,ia.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});var Qh="undefined"!=typeof DOMException?DOMException:void 0;var Zh,tv=function(t){if("function"!=typeof t&&"object"!=typeof t)return!1;try{return new t,!0}catch(t){return!1}}(Qh)?Qh:((Zh=function(t,n){this.message=t||"",this.name=n||"Error",f.captureStackTrace&&f.captureStackTrace(this,this.constructor)}).prototype=v.create(f.prototype),v.defineProperty(Zh.prototype,"constructor",{value:Zh,writable:!0,configurable:!0}),Zh);function nv(t,n,i,e,r,u){var s=Xa(t),o=fh(n);t.wf=!0;var c=!1,a=va(void 0);return ha(function(f,v){var d,l,w,g;if(void 0!==u){if(d=function(){var i=new tv("Aborted","AbortError"),u=[];e||u.push(function(){return"writable"===n.o?lh(n,i):va(void 0)}),r||u.push(function(){return"readable"===t.o?Iv(t,i):va(void 0)}),p(function(){return j.all(u.map(function(t){return t()}))},!0,i)},u.aborted)return void d();u.addEventListener("abort",d)}if(b(t,s.Go,function(t){e?_(!0,t):p(function(){return lh(n,t)},!0,t)}),b(n,o.Go,function(n){r?_(!0,n):p(function(){return Iv(t,n)},!0,n)}),l=t,w=s.Go,g=function(){i?_():p(function(){return function(t){var n=t.Jf,i=n.o;return bh(n)||"closed"===i?va(void 0):"errored"===i?da(n.cf):Sh(t)}(o)})},"closed"===l.o?g():ga(w,g),bh(n)||"closed"===n.o){var y=new h("the destination writable stream closed before all data could be piped to it");r?_(!0,y):p(function(){return Iv(t,y)},!0,y)}function m(){var t=a;return la(a,function(){return t!==a?m():void 0})}function b(t,n,i){"errored"===t.o?i(t.cf):ya(n,i)}function p(t,i,e){function r(){wa(t(),function(){return k(i,e)},function(t){return k(!0,t)})}c||(c=!0,"writable"!==n.o||bh(n)?r():ga(m(),r))}function _(t,i){c||(c=!0,"writable"!==n.o||bh(n)?k(t,i):ga(m(),function(){return k(t,i)}))}function k(t,n){Ih(o),Ra(s),void 0!==u&&u.removeEventListener("abort",d),t?v(n):f(void 0)}ba(ha(function(t,n){!function i(e){e?t():la(c?va(!0):la(o.Qf,function(){return ha(function(t,n){ef(s,{df:function(n){a=la(Dh(o,n),void 0,ea),t(!1)},vf:function(){return t(!0)},lf:n})})}),i,n)}(!1)}))})}var iv=function(){function t(){throw new h("Illegal constructor")}return v.defineProperty(t.prototype,"desiredSize",{get:function(){if(!ev(this))throw dv("desiredSize");return fv(this)},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(!ev(this))throw dv("close");if(!hv(this))throw new h("The stream is not in a state that permits close");ov(this)},t.prototype.enqueue=function(t){if(void 0===t&&(t=void 0),!ev(this))throw dv("enqueue");if(!hv(this))throw new h("The stream is not in a state that permits enqueue");return cv(this,t)},t.prototype.error=function(t){if(void 0===t&&(t=void 0),!ev(this))throw dv("error");av(this,t)},t.prototype[xa]=function(t){yf(this);var n=this.Nf(t);return sv(this),n},t.prototype[La]=function(t){var n=this.ah;if(this.Tf.length>0){var i=wf(this);this.If&&0===this.Tf.length?(sv(this),Dv(n)):rv(this),t.df(i)}else Ga(n,t),rv(this)},t}();function ev(t){return!!ua(t)&&(!!v.prototype.hasOwnProperty.call(t,"ah")&&t instanceof iv)}function rv(t){uv(t)&&(t.Pf?t.xf=!0:(t.Pf=!0,wa(t.Lf(),function(){t.Pf=!1,t.xf&&(t.xf=!1,rv(t))},function(n){av(t,n)})))}function uv(t){var n=t.ah;return!!hv(t)&&(!!t.Af&&(!!(Rv(n)&&Ka(n)>0)||fv(t)>0))}function sv(t){t.Lf=void 0,t.Nf=void 0,t.nh=void 0}function ov(t){if(hv(t)){var n=t.ah;t.If=!0,0===t.Tf.length&&(sv(t),Dv(n))}}function cv(t,n){if(hv(t)){var i=t.ah;if(Rv(i)&&Ka(i)>0)Ya(i,n,!1);else{var e=void 0;try{e=t.nh(n)}catch(n){throw av(t,n),n}try{gf(t,n,e)}catch(n){throw av(t,n),n}}rv(t)}}function av(t,n){var i=t.ah;"readable"===i.o&&(yf(t),sv(t),Nv(i,n))}function fv(t){var n=t.ah.o;return"errored"===n?null:"closed"===n?0:t.Ff-t.Sf}function hv(t){var n=t.ah.o;return!t.If&&"readable"===n}function vv(t,n,i,e,r,u,s){n.ah=t,n.Tf=void 0,n.Sf=void 0,yf(n),n.Af=!1,n.If=!1,n.xf=!1,n.Pf=!1,n.nh=s,n.Ff=u,n.Lf=e,n.Nf=r,t.gf=n,wa(va(i()),function(){n.Af=!0,rv(n)},function(t){av(n,t)})}function dv(t){return new h("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}function lv(t,n){return pf(t.gf)?function(t){var n,i,e,r,u,s=Xa(t),o=!1,c=!1,a=!1,f=!1,h=!1,v=ha(function(t){u=t});function d(t){ya(t.Go,function(n){t===s&&(Mf(e.gf,n),Mf(r.gf,n),f&&h||u(void 0))})}function l(){Kf(s)&&(Ra(s),d(s=Xa(t)));var n={df:function(n){pa(function(){c=!1,a=!1;var i=n,s=n;if(!f&&!h)try{s=lf(n)}catch(n){return Mf(e.gf,n),Mf(r.gf,n),void u(Iv(t,n))}f||Bf(e.gf,i),h||Bf(r.gf,s),o=!1,c?g():a&&y()})},vf:function(){o=!1,f||Lf(e.gf),h||Lf(r.gf),e.gf.Cf.length>0&&Vf(e.gf,0),r.gf.Cf.length>0&&Vf(r.gf,0),f&&h||u(void 0)},lf:function(){o=!1}};ef(s,n)}function w(n,i){nf(s)&&(Ra(s),d(s=jf(t)));var v=i?r:e,l=i?e:r,w={df:function(n){pa(function(){c=!1,a=!1;var e=i?h:f,r=i?f:h;if(r)e||Wf(v.gf,n);else{var s=void 0;try{s=lf(n)}catch(n){return Mf(v.gf,n),Mf(l.gf,n),void u(Iv(t,n))}e||Wf(v.gf,n),Bf(l.gf,s)}o=!1,c?g():a&&y()})},vf:function(t){o=!1;var n=i?h:f,e=i?f:h;n||Lf(v.gf),e||Lf(l.gf),void 0!==t&&(n||Wf(v.gf,t),!e&&l.gf.Cf.length>0&&Vf(l.gf,0)),n&&e||u(void 0)},lf:function(){o=!1}};Jf(s,n,w)}function g(){if(o)return c=!0,va(void 0);o=!0;var t=Ff(e.gf);return null===t?l():w(t.Ef,!1),va(void 0)}function y(){if(o)return a=!0,va(void 0);o=!0;var t=Ff(r.gf);return null===t?l():w(t.Ef,!0),va(void 0)}function m(){}return e=Tv(m,g,function(e){if(f=!0,n=e,h){var r=ff([n,i]),s=Iv(t,r);u(s)}return v}),r=Tv(m,y,function(e){if(h=!0,i=e,f){var r=ff([n,i]),s=Iv(t,r);u(s)}return v}),d(s),[e,r]}(t):function(t,n){var i,e,r,u,s,o=Xa(t),c=!1,a=!1,f=!1,h=!1,v=ha(function(t){s=t});function d(){if(c)return a=!0,va(void 0);c=!0;var t={df:function(t){pa(function(){a=!1;var n=t,i=t;f||cv(r.gf,n),h||cv(u.gf,i),c=!1,a&&d()})},vf:function(){c=!1,f||ov(r.gf),h||ov(u.gf),f&&h||s(void 0)},lf:function(){c=!1}};return ef(o,t),va(void 0)}function l(){}return r=kv(l,d,function(n){if(f=!0,i=n,h){var r=ff([i,e]),u=Iv(t,r);s(u)}return v}),u=kv(l,d,function(n){if(h=!0,e=n,f){var r=ff([i,e]),u=Iv(t,r);s(u)}return v}),ya(o.Go,function(t){av(r.gf,t),av(u.gf,t),f&&h||s(void 0)}),[r,u]}(t)}function wv(t,n,i){return Ua(t,i),function(i){return ka(t,n,[i])}}function gv(t,n,i){return Ua(t,i),function(i){return ka(t,n,[i])}}function yv(t,n,i){return Ua(t,i),function(i){return _a(t,n,[i])}}function mv(t,n){if("bytes"!==(t=""+t))throw new h(n+" '"+t+"' is not a valid enumeration value for ReadableStreamType");return t}function bv(t,n){if("byob"!==(t=""+t))throw new h(n+" '"+t+"' is not a valid enumeration value for ReadableStreamReaderMode");return t}function pv(t,n){Fa(t,n);var i=null==t?void 0:t.preventAbort,e=null==t?void 0:t.preventCancel,r=null==t?void 0:t.preventClose,u=null==t?void 0:t.signal;return void 0!==u&&function(t,n){if(!function(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}(t))throw new h(n+" is not an AbortSignal.")}(u,n+" has member 'signal' that"),{preventAbort:Boolean(i),preventCancel:Boolean(e),preventClose:Boolean(r),signal:u}}v.defineProperties(iv.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof ia.toStringTag&&v.defineProperty(iv.prototype,ia.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});var _v=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),void 0===t?t=null:Va(t,"First parameter");var i=nh(n,"Second parameter"),e=function(t,n){Fa(t,n);var i=t,e=null==i?void 0:i.autoAllocateChunkSize,r=null==i?void 0:i.cancel,u=null==i?void 0:i.pull,s=null==i?void 0:i.start,o=null==i?void 0:i.type;return{autoAllocateChunkSize:void 0===e?void 0:ja(e,n+" has member 'autoAllocateChunkSize' that"),cancel:void 0===r?void 0:wv(r,i,n+" has member 'cancel' that"),pull:void 0===u?void 0:gv(u,i,n+" has member 'pull' that"),start:void 0===s?void 0:yv(s,i,n+" has member 'start' that"),type:void 0===o?void 0:mv(o,n+" has member 'type' that")}}(t,"First parameter");if(Sv(this),"bytes"===e.type){if(void 0!==i.size)throw new RangeError("The strategy for a byte stream cannot have a size function");!function(t,n,i){var e=v.create(bf.prototype),r=function(){},u=function(){return va(void 0)},s=function(){return va(void 0)};void 0!==n.start&&(r=function(){return n.start(e)}),void 0!==n.pull&&(u=function(){return n.pull(e)}),void 0!==n.cancel&&(s=function(t){return n.cancel(t)});var o=n.autoAllocateChunkSize;if(0===o)throw new h("autoAllocateChunkSize must be greater than 0");zf(t,e,r,u,s,i,o)}(this,e,Zf(i,0))}else{var r=th(i);!function(t,n,i,e){var r=v.create(iv.prototype),u=function(){},s=function(){return va(void 0)},o=function(){return va(void 0)};void 0!==n.start&&(u=function(){return n.start(r)}),void 0!==n.pull&&(s=function(){return n.pull(r)}),void 0!==n.cancel&&(o=function(t){return n.cancel(t)}),vv(t,r,u,s,o,i,e)}(this,e,Zf(i,1),r)}}return v.defineProperty(t.prototype,"locked",{get:function(){if(!Ev(this))throw Ov("locked");return Rv(this)},enumerable:!1,configurable:!0}),t.prototype.cancel=function(t){return void 0===t&&(t=void 0),Ev(this)?Rv(this)?da(new h("Cannot cancel a stream that already has a reader")):Iv(this,t):da(Ov("cancel"))},t.prototype.getReader=function(t){if(void 0===t&&(t=void 0),!Ev(this))throw Ov("getReader");return void 0===function(t,n){Fa(t,n);var i=null==t?void 0:t.mode;return{mode:void 0===i?void 0:bv(i,n+" has member 'mode' that")}}(t,"First parameter").mode?Xa(this):jf(this)},t.prototype.pipeThrough=function(t,n){if(void 0===n&&(n={}),!Ev(this))throw Ov("pipeThrough");Wa(t,1,"pipeThrough");var i=function(t,n){Fa(t,n);var i=null==t?void 0:t.readable;za(i,"readable","ReadableWritablePair"),$a(i,n+" has member 'readable' that");var e=null==t?void 0:t.writable;return za(e,"writable","ReadableWritablePair"),oh(e,n+" has member 'writable' that"),{readable:i,writable:e}}(t,"First parameter"),e=pv(n,"Second parameter");if(Rv(this))throw new h("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(dh(i.writable))throw new h("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return ba(nv(this,i.writable,e.preventClose,e.preventAbort,e.preventCancel,e.signal)),i.readable},t.prototype.pipeTo=function(t,n){if(void 0===n&&(n={}),!Ev(this))return da(Ov("pipeTo"));if(void 0===t)return da("Parameter 1 is required in 'pipeTo'.");if(!vh(t))return da(new h("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));var i;try{i=pv(n,"Second parameter")}catch(t){return da(t)}return Rv(this)?da(new h("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):dh(t)?da(new h("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):nv(this,t,i.preventClose,i.preventAbort,i.preventCancel,i.signal)},t.prototype.tee=function(){if(!Ev(this))throw Ov("tee");return ff(lv(this))},t.prototype.values=function(t){if(void 0===t&&(t=void 0),!Ev(this))throw Ov("values");var n,i,e,r,u,s=function(t,n){Fa(t,n);var i=null==t?void 0:t.preventCancel;return{preventCancel:Boolean(i)}}(t,"First parameter");return n=this,i=s.preventCancel,e=Xa(n),r=new uf(e,i),(u=v.create(sf)).kf=r,u},t}();function kv(t,n,i,e,r){void 0===e&&(e=1),void 0===r&&(r=function(){return 1});var u=v.create(_v.prototype);return Sv(u),vv(u,v.create(iv.prototype),t,n,i,e,r),u}function Tv(t,n,i){var e=v.create(_v.prototype);return Sv(e),zf(e,v.create(bf.prototype),t,n,i,0,void 0),e}function Sv(t){t.o="readable",t.sf=void 0,t.cf=void 0,t.wf=!1}function Ev(t){return!!ua(t)&&(!!v.prototype.hasOwnProperty.call(t,"gf")&&t instanceof _v)}function Rv(t){return void 0!==t.sf}function Iv(t,n){if(t.wf=!0,"closed"===t.o)return va(void 0);if("errored"===t.o)return da(t.cf);Dv(t);var i=t.sf;return void 0!==i&&Kf(i)&&(i.Bf.forEach(function(t){t.vf(void 0)}),i.Bf=new Ta),ma(t.gf[xa](n),ea)}function Dv(t){t.o="closed";var n=t.sf;void 0!==n&&(Ca(n),nf(n)&&(n.hf.forEach(function(t){t.vf()}),n.hf=new Ta))}function Nv(t,n){t.o="errored",t.cf=n;var i=t.sf;void 0!==i&&(Oa(i,n),nf(i)?(i.hf.forEach(function(t){t.lf(n)}),i.hf=new Ta):(i.Bf.forEach(function(t){t.lf(n)}),i.Bf=new Ta))}function Ov(t){return new h("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}function Cv(t,n){Fa(t,n);var i=null==t?void 0:t.highWaterMark;return za(i,"highWaterMark","QueuingStrategyInit"),{highWaterMark:qa(i)}}v.defineProperties(_v.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof ia.toStringTag&&v.defineProperty(_v.prototype,ia.toStringTag,{value:"ReadableStream",configurable:!0}),"symbol"==typeof ia.asyncIterator&&v.defineProperty(_v.prototype,ia.asyncIterator,{value:_v.prototype.values,writable:!0,configurable:!0});var Av=function(t){return t.byteLength};try{v.defineProperty(Av,"name",{value:"size",configurable:!0})}catch(Qa){}var Pv=function(){function t(t){Wa(t,1,"ByteLengthQueuingStrategy"),t=Cv(t,"First parameter"),this.fh=t.highWaterMark}return v.defineProperty(t.prototype,"highWaterMark",{get:function(){if(!Lv(this))throw xv("highWaterMark");return this.fh},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"size",{get:function(){if(!Lv(this))throw xv("size");return Av},enumerable:!1,configurable:!0}),t}();function xv(t){return new h("ByteLengthQueuingStrategy.prototype."+t+" can only be used on a ByteLengthQueuingStrategy")}function Lv(t){return!!ua(t)&&(!!v.prototype.hasOwnProperty.call(t,"fh")&&t instanceof Pv)}v.defineProperties(Pv.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof ia.toStringTag&&v.defineProperty(Pv.prototype,ia.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});var Bv=function(){return 1};try{v.defineProperty(Bv,"name",{value:"size",configurable:!0})}catch(Qa){}var Mv=function(){function t(t){Wa(t,1,"CountQueuingStrategy"),t=Cv(t,"First parameter"),this.hh=t.highWaterMark}return v.defineProperty(t.prototype,"highWaterMark",{get:function(){if(!Uv(this))throw Fv("highWaterMark");return this.hh},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"size",{get:function(){if(!Uv(this))throw Fv("size");return Bv},enumerable:!1,configurable:!0}),t}();function Fv(t){return new h("CountQueuingStrategy.prototype."+t+" can only be used on a CountQueuingStrategy")}function Uv(t){return!!ua(t)&&(!!v.prototype.hasOwnProperty.call(t,"hh")&&t instanceof Mv)}function Vv(t,n,i){return Ua(t,i),function(i){return ka(t,n,[i])}}function Wv(t,n,i){return Ua(t,i),function(i){return _a(t,n,[i])}}function zv(t,n,i){return Ua(t,i),function(i,e){return ka(t,n,[i,e])}}v.defineProperties(Mv.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof ia.toStringTag&&v.defineProperty(Mv.prototype,ia.toStringTag,{value:"CountQueuingStrategy",configurable:!0});var qv=function(){function t(t,n,i){void 0===t&&(t={}),void 0===n&&(n={}),void 0===i&&(i={}),void 0===t&&(t=null);var e=nh(n,"Second parameter"),r=nh(i,"Third parameter"),u=function(t,n){Fa(t,n);var i=null==t?void 0:t.flush,e=null==t?void 0:t.readableType,r=null==t?void 0:t.start,u=null==t?void 0:t.transform,s=null==t?void 0:t.writableType;return{flush:void 0===i?void 0:Vv(i,t,n+" has member 'flush' that"),readableType:e,start:void 0===r?void 0:Wv(r,t,n+" has member 'start' that"),transform:void 0===u?void 0:zv(u,t,n+" has member 'transform' that"),writableType:s}}(t,"First parameter");if(void 0!==u.readableType)throw new RangeError("Invalid readableType specified");if(void 0!==u.writableType)throw new RangeError("Invalid writableType specified");var s,o=Zf(r,0),c=th(r),a=Zf(e,1),f=th(e);!function(t,n,i,e,r,u){function s(){return n}t.vh=function(t,n,i,e,r,u){void 0===r&&(r=1),void 0===u&&(u=function(){return 1});var s=v.create(ah.prototype);return hh(s),Ah(s,v.create(Oh.prototype),t,n,i,e,r,u),s}(s,function(n){return function(t,n){var i=t.dh;if(t.jf){var e=t.lh;return ma(e,function(){var e=t.vh,r=e.o;if("erroring"===r)throw e.cf;return Qv(i,n)})}return Qv(i,n)}(t,n)},function(){return function(t){var n=t.wh,i=t.dh,e=i.gh();return Kv(i),ma(e,function(){if("errored"===n.o)throw n.cf;ov(n.gf)},function(i){throw jv(t,i),n.cf})}(t)},function(n){return function(t,n){return jv(t,n),va(void 0)}(t,n)},i,e),t.wh=kv(s,function(){return function(t){return Xv(t,!1),t.lh}(t)},function(n){return $v(t,n),va(void 0)},r,u),t.jf=void 0,t.lh=void 0,t.yh=void 0,Xv(t,!0),t.dh=void 0}(this,ha(function(t){s=t}),a,f,o,c),function(t,n){var i=v.create(Gv.prototype),e=function(t){try{return Jv(i,t),va(void 0)}catch(t){return da(t)}},r=function(){return va(void 0)};void 0!==n.transform&&(e=function(t){return n.transform(t,i)});void 0!==n.flush&&(r=function(){return n.flush(i)});!function(t,n,i,e){n.mh=t,t.dh=n,n.bh=i,n.gh=e}(t,i,e,r)}(this,u),void 0!==u.start?s(u.start(this.dh)):s(void 0)}return v.defineProperty(t.prototype,"readable",{get:function(){if(!Hv(this))throw td("readable");return this.wh},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"writable",{get:function(){if(!Hv(this))throw td("writable");return this.vh},enumerable:!1,configurable:!0}),t}();function Hv(t){return!!ua(t)&&(!!v.prototype.hasOwnProperty.call(t,"dh")&&t instanceof qv)}function jv(t,n){av(t.wh.gf,n),$v(t,n)}function $v(t,n){Kv(t.dh),Bh(t.vh.Uf,n),t.jf&&Xv(t,!1)}function Xv(t,n){void 0!==t.lh&&t.yh(),t.lh=ha(function(n){t.yh=n}),t.jf=n}v.defineProperties(qv.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),"symbol"==typeof ia.toStringTag&&v.defineProperty(qv.prototype,ia.toStringTag,{value:"TransformStream",configurable:!0});var Gv=function(){function t(){throw new h("Illegal constructor")}return v.defineProperty(t.prototype,"desiredSize",{get:function(){if(!Yv(this))throw Zv("desiredSize");return fv(this.mh.wh.gf)},enumerable:!1,configurable:!0}),t.prototype.enqueue=function(t){if(void 0===t&&(t=void 0),!Yv(this))throw Zv("enqueue");Jv(this,t)},t.prototype.error=function(t){if(void 0===t&&(t=void 0),!Yv(this))throw Zv("error");var n;n=t,jv(this.mh,n)},t.prototype.terminate=function(){if(!Yv(this))throw Zv("terminate");!function(t){var n=t.mh;ov(n.wh.gf);var i=new h("TransformStream terminated");$v(n,i)}(this)},t}();function Yv(t){return!!ua(t)&&(!!v.prototype.hasOwnProperty.call(t,"mh")&&t instanceof Gv)}function Kv(t){t.bh=void 0,t.gh=void 0}function Jv(t,n){var i=t.mh,e=i.wh.gf;if(!hv(e))throw new h("Readable side is not in a state that permits enqueue");try{cv(e,n)}catch(t){throw $v(i,t),i.wh.cf}(function(t){return!uv(t)})(e)!==i.jf&&Xv(i,!0)}function Qv(t,n){return ma(t.bh(n),void 0,function(n){throw jv(t.mh,n),n})}function Zv(t){return new h("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function td(t){return new h("TransformStream.prototype."+t+" can only be used on a TransformStream")}v.defineProperties(Gv.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof ia.toStringTag&&v.defineProperty(Gv.prototype,ia.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});var nd,id=function(t){function n(n){var i;return(i=t.call(this,""+n.join("\n"),n[0])||this).causes=n,i}return vt(n,t),ft(n,[{key:"name",get:function(){return"AggregateError"}}]),n}(Cn);function ed(t){return n=[t],new _v({start:function(t){for(var i=0;i<n.length;i++){var e=n[i];t.enqueue(e)}t.close()}});var n}function rd(t){return ed(new y(t))}function ud(t,n){return function(t,n){var i=n,e=t.getReader(),r=new Us,u=function(){s();var t=new lu;e.cancel(t).catch(Mt),r.Lu(t)},s=function(){i&&(i.Mr(u),i=void 0)};i&&(i.Or?u():i.Br(u));var o=[];return j.resolve(e.read()).then(function t(n){return n.done?(s(),j.resolve(o)):(o.push(n.value),j.resolve(e.read()).then(t))}).then(function(t){s(),r.xu(t)},function(t){s(),r.Lu(t)}),r.Cu}(t,n).then(function(t){return Ku(t).buffer})}function sd(t,n){var i=n,e=new qv,r=e.readable,u=e.writable,s=u.getWriter(),o=function(){i&&i.Wr()};return s.closed.then(o,o),t.then(function(t){return i=void 0,s.releaseLock(),t.pipeTo(u).catch(Mt)},function(t){return i=void 0,s.releaseLock(),u.abort(t).catch(Mt)}),r}function od(t){return Ns(new y(t))}function cd(t){return Os(t).buffer}!function(t){t[t.Ka=0]="Ka",t[t.ph=1]="ph"}(nd||(nd={}));var ad="content-type",fd="text/plain;charset=UTF-8",hd=function(){function t(){}var n=t.prototype;return n._h=function(t){return this.kh(t).then(JSON.parse)},n.Th=function(t,n){switch(t){case Qc.Ga:return this.Sh(n);case Qc.Ya:return this._h(n);case Qc.Ka:return this.Eh();case Qc.ri:return this.kh(n);default:throw new h}},t}();function vd(t,n,i){if(t instanceof hd)return t;if(t instanceof _v)return function(t,n){return new ld({gr:nd.Ka,Eh:t,Rh:dd(n)})}(t,i);var e=dd(i),r=j.resolve(t).then(function(t){return function(t,n){if(t){if("string"==typeof t)return{gr:Qc.ri,Ih:t,Rh:n||fd};if(t instanceof ArrayBuffer||Gu(t))return{gr:Qc.Ga,Ih:_d(t),Rh:n};if(At(t)||Nt(t))return{gr:Qc.Ya,Ih:t,Rh:n};throw new h("Unsupported BodyInit type")}return{gr:Qc.ri,Ih:null,Rh:n}}(t,e)});return new ld({gr:nd.ph,Cu:r,Dh:n})}function dd(t){return(t.get(ad)||"").toLowerCase()}var ld=function(t){function n(n){var i;return(i=t.call(this)||this).Nh=!1,i.Oh=void 0,i.Ch=new Us,i.Ch.Cu.catch(Mt),i.Ah(n),i}vt(n,t);var i=n.prototype;return i.Ph=function(){return this.Ch.Cu},i.kh=function(t){return this.xh(wd,t)},i._h=function(t){return this.xh(yd,t)},i.Sh=function(t){return this.xh(bd,t)},i.Eh=function(){return this.Lh((t=this.Oh).gr===nd.Ka?t.Eh:sd(t.Cu.then(pd).then(rd),t.Dh));var t},i.xh=function(t,n){if(this.Nh)return j.reject(new h("Already used"));this.Nh=!0;var i=t(this.Oh,n);return this.Ch.xu(i.then(Mt)),i},i.Lh=function(t){if(this.Nh)throw new h("Already used");if(t.locked)throw new h("Body stream is locked");this.Nh=!0;var n=new qv,i=j.resolve(t.pipeTo(n.writable));return this.Ch.xu(i),n.readable},i.Ah=function(t){this.Oh=t,t.gr===nd.ph&&t.Cu.catch(Mt)},i.Bh=function(){if(this.Nh)throw new h("Already used");var t=function(t){if(t.gr===nd.Ka){var n=t.Eh.tee(),i=n[0],e=n[1];return[{gr:t.gr,Eh:i,Rh:t.Rh},{gr:t.gr,Eh:e,Rh:t.Rh}]}var r=t.Dh.qr(),u=r[0],s=r[1];return[{gr:t.gr,Cu:t.Cu,Dh:u},{gr:t.gr,Cu:t.Cu,Dh:s}]}(this.Oh),i=t[0],e=t[1];return this.Ah(i),new n(e)},ft(n,[{key:"Mh",get:function(){return this.Nh}}]),n}(hd);function wd(t,n){return t.gr===nd.Ka?ud(t.Eh,n).then(od):(n&&t.Dh.zr(n),pu(t.Cu.then(gd),t.Dh))}function gd(t){switch(t.gr){case Qc.ri:return j.resolve(t.Ih||"");case Qc.Ga:return j.resolve(t.Ih).then(od);case Qc.Ya:return j.resolve(t.Ih).then(JSON.stringify)}}function yd(t,n){return t.gr===nd.Ka?wd(t,n).then(JSON.parse):(n&&t.Dh.zr(n),pu(t.Cu.then(md),t.Dh))}function md(t){return t.gr===Qc.Ya?j.resolve(t.Ih):gd(t).then(JSON.parse)}function bd(t,n){return t.gr===nd.Ka?ud(t.Eh,n):(n&&t.Dh.zr(n),pu(t.Cu.then(pd),t.Dh))}function pd(t){switch(t.gr){case Qc.Ga:return j.resolve(t.Ih);case Qc.ri:case Qc.Ya:return gd(t).then(cd)}}function _d(t){return t instanceof ArrayBuffer?t:Ms(Ps(t)).buffer}function kd(t){return t.Fh>=200&&t.Fh<=299||304===t.Fh}var Td,Sd,Ed,Rd,Id=function(t){function n(n,i){var e,r,u,s,o,c;i?(r=i.Uh,u=i.Vh,s=i.Fh,o=i.Wh,c=i.zh):(r=[],u=Qc.ri,s=200,o="OK",c=!1);var a=n.qh,f=new Zc(n.Uh||r),h=n.Vh||u,v=n.Hh||(i&&i.qh===a?i.Hh:a.jh),d=i?i.$h:null,l=vd(void 0!==n.Pi?n.Pi:d,n.Dh||new du,f);return(e=t.call(this,l)||this).Uh=void 0,e.qh=void 0,e.Hh=void 0,e.Vh=void 0,e.Fh=void 0,e.Wh=void 0,e.zh=void 0,e.Uh=f,e.qh=a,e.Hh=v,e.Vh=h,e.Fh=void 0!==n.Fh?n.Fh:s,e.Wh=void 0!==n.Wh?String(n.Wh):o,e.zh=n.zh||c,e}vt(n,t);var i=n.prototype;return i.Pi=function(t){return this.Th(this.Vh,t)},i.Ru=function(){return new n({Pi:this.Bh(),qh:this.qh},this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).$h=void 0,i.$h=n,i}vt(n,t);var i=n.prototype;return i.Ph=function(){return this.$h.Ph()},i.kh=function(t){return this.$h.kh(t)},i._h=function(t){return this.$h._h(t)},i.Sh=function(t){return this.$h.Sh(t)},i.Eh=function(){return this.$h.Eh()},i.Bh=function(){return this.$h.Bh()},ft(n,[{key:"Mh",get:function(){return this.$h.Mh}}]),n}(hd));!function(t){t.DELETE="DELETE",t.GET="GET",t.HEAD="HEAD",t.OPTIONS="OPTIONS",t.POST="POST",t.PUT="PUT"}(Td||(Td={})),function(t){t.Xh="",t.Gh="manifest",t.Yh="segment",t.Kh="content-protection"}(Sd||(Sd={})),function(t){t.Xh="",t.Jh="initialization-segment",t.Qh="fairplay-license",t.Zh="fairplay-certificate",t.tv="widevine-license",t.nv="widevine-certificate",t.ev="playready-license",t.rv="clearkey-license",t.uv="aes128-key"}(Ed||(Ed={})),function(t){t.Xh="",t.sv="audio",t.ov="video",t.ri="text",t.cv="image"}(Rd||(Rd={}));var Dd=function(t,n){this.Ih=void 0,this.Uh=void 0,this.av=void 0,this.Vh=void 0,this.fv=void 0,this.Hr=void 0,this.gr=void 0,this.hv=void 0,this.vv=void 0,this.jh=void 0,this.dv=void 0,this.lv=void 0;var i,e,r,u,s,o,c,a,f,h,v,d=t.jh;n?(i=n.Ih,e=n.Uh,r=n.av,u=n.Vh,s=n.fv,o=n.Hr,c=n.gr,a=n.hv,f=n.vv,h=n.dv,v=n.lv):(i=null,e={},r=Td.GET,u=Qc.ri,s=0,c=Sd.Xh,a=Ed.Xh,f=Rd.Xh,h=!1),this.jh=d,this.Ih=t.Ih||i,this.Uh=new Zc(t.Uh||e),this.av=t.av||r,this.Vh=t.Vh||u,this.fv=void 0!==t.fv?Number(t.fv)||0:s,this.Hr=t.Hr||o||(new du).Hr,this.gr=t.gr||c,this.hv=t.hv||a,this.vv=t.vv||f,this.dv=void 0!==t.dv?Boolean(t.dv):h,this.lv=t.lv||v},Nd=function(){function t(){}var n=t.prototype;return n.qh=function(t){var n=function(t){return new Id({Pi:null,Uh:{},qh:t,Hh:t.jh,Vh:t.Vh,Fh:0,Wh:Jc.Ia})}(new Dd(t));return j.resolve(n)},n.wv=function(t){},n.et=function(){},t}();var Od=function(){function t(t,n){void 0===n&&(n=!0),this.gv=void 0,this.yv=void 0,this.gv=t,this.yv=n}var n=t.prototype;return n.qh=function(t){var n=this.mv(t);return this.gv.qh(n)},n.wv=function(t){return this.gv.wv(this.bv(t))},n.mv=function(n){var i=new Dd(n);if(!this.yv){var e=t.pv(i.jh);i=new Dd({jh:e},i)}return i},n.bv=function(n){var i=n.jh;return this.yv||(i=t.pv(i)),{jh:i,Ih:n.Ih}},t.pv=function(t){return st.Ye&&jr(t,"http://")?t.replace(":","s:"):t},n.et=function(){this.gv.et()},ft(t,null,[{key:"_v",get:function(){return t.kv||(t.kv=new t(new Nd)),t.kv}}]),t}();function Cd(t,n){for(var i=0,e=v.keys(n);i<e.length;i++){var r=e[i];t.searchParams.set(r,n[r])}}function Ad(t,n){var i=st.qe(t);return n&&!$r(i,"/")&&(i+="/"),i}Od.kv=void 0;var Pd,xd=/cache:(.+)?(?=&|$)/,Ld="http://webcache.googleusercontent.com/search?q=cache:";function Bd(t){if(!jr(t,Ld))return"";var n=st.ze(t).search.match(xd);return n&&n.length>1?n[1]:""}!function(t){t.Tv="HttpOpenError",t.Sv="HttpResponseError",t.Ev="HttpTimeoutError"}(Pd||(Pd={}));var Md=function(t){function n(n,i,e){var r;return(r=t.call(this,i,e)||this).Rv=void 0,r.Rv=n,r}return vt(n,t),ft(n,[{key:"qh",get:function(){return this.Rv}}]),n}(Cn);var Fd=function(t){function n(n,i){return t.call(this,n,"Error while opening "+n.jh+". Invalid URL.",i)||this}return vt(n,t),ft(n,[{key:"name",get:function(){return Pd.Tv}}]),n}(Md);var Ud=function(t){function n(n,i,e){var r;return(r=t.call(this,n.qh,null!=e?e:function(t){return"Error while loading "+t.qh.jh+", status code "+t.Fh}(n),i)||this).Iv=void 0,r.Iv=n,r}return vt(n,t),ft(n,[{key:"name",get:function(){return Pd.Sv}},{key:"Dv",get:function(){return this.Iv}}]),n}(Md);var Vd=function(t){function n(n,i){return t.call(this,n,function(t){return"Request for "+t.jh+" timed out after "+t.fv+" seconds."}(n),i)||this}return vt(n,t),ft(n,[{key:"name",get:function(){return Pd.Ev}}]),n}(Md),Wd=function(t,n){return(Wd=v.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])})(t,n)};function zd(t,n){function i(){this.constructor=t}Wd(t,n),t.prototype=null===n?v.create(n):(i.prototype=n.prototype,new i)}var qd="object"==typeof i?i:"object"==typeof t?t:"object"==typeof global?global:null;var Hd=function(){var t=qd.Blob;if(t)try{return new t,function(t,n){return new qd.Blob(t,n)}}catch(t){}var n,i=qd.BlobBuilder||qd.WebKitBlobBuilder||qd.MozBlobBuilder||qd.MSBlobBuilder;return i?(n=i,function(t,i){var e=new n;if(t)for(var r=0,u=t;r<u.length;r++){var s=u[r];e.append(s)}return e.getBlob(i&&i.type||"")}):null}(),jd="function"==typeof _v?_v:void 0;function $d(t){return t&&"function"==typeof t.getReader}function Xd(t){if("function"!=typeof t)return!1;try{var n=!1,i=new t({start:function(){n=!0}});return!!n&&$d(i)}catch(t){return!1}}var Gd=function(){function t(t,n){this.sf=t,this.Nv=n}return t.prototype.pull=function(t){var n=this;return this.sf.read().then(function(i){n.Nv&&n.Nv(i),i.done?t.close():t.enqueue(i.value)})},t.prototype.cancel=function(t){return this.sf.cancel(t)},t}();function Yd(t,n){return n.constructor===t?n:new t(new Gd(n.getReader()),{highWaterMark:0})}var Kd=function(){function t(t,n){this.Ov=t,this.Cv=n}return t.prototype.pull=function(t){return this.Ov().then(function(n){t.enqueue(new y(n)),t.close()})},t.prototype.cancel=function(t){this.Cv&&this.Cv(t)},t}();function Jd(t,n,i){return new t(new Kd(n,i),{highWaterMark:0})}var Qd={searchParams:"URLSearchParams"in qd,iterable:"Symbol"in qd&&"iterator"in Symbol,blob:"FileReader"in qd&&!!Hd,formData:"FormData"in qd,arrayBuffer:"ArrayBuffer"in qd,stream:Xd(jd),streamRequest:"Request"in qd&&"body"in qd.Request.prototype,streamResponse:"Response"in qd&&"body"in qd.Response.prototype,abort:"AbortController"in qd&&"Request"in qd&&"signal"in qd.Request.prototype,encoding:"TextEncoder"in qd&&"TextDecoder"in qd,url:"URL"in qd&&function(t){try{return new qd.URL(t).toString()===t}catch(t){return!1}}("http://example.com/"),firefox:"navigator"in qd&&/Firefox\//.test(qd.navigator.userAgent)};function Zd(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new h("Invalid character in header field name");return t}function tl(t){return"string"!=typeof t&&(t=String(t)),t}function nl(t){var n={next:function(){var n=t.shift();return{done:void 0===n,value:n}}};return Qd.iterable&&(n[Symbol.iterator]=function(){return n}),n}var il=function(){function t(t){var n=this;this.sr={};var i,e=function(t,i){Array.isArray(t)&&2===t.length?n.append(t[0],t[1]):n.append(i,t)};(i=t)&&"function"==typeof i.forEach?t.forEach(e):!function(t){return Qd.iterable&&t&&t[Symbol.iterator]}(t)?t&&v.getOwnPropertyNames(t).forEach(function(i){n.append(i,t[i])}):Array.from(t).forEach(e)}return t.prototype.append=function(t,n){t=Zd(t),n=tl(n);var i=t.toLowerCase();if(this.sr.hasOwnProperty(i)){var e=this.sr[i],r=e[1];e[1]=r?r+", "+n:n}else this.sr[i]=[t,n]},t.prototype.delete=function(t){var n=Zd(t).toLowerCase();delete this.sr[n]},t.prototype.get=function(t){var n=Zd(t).toLowerCase();return this.sr.hasOwnProperty(n)?this.sr[n][1]:null},t.prototype.has=function(t){var n=Zd(t).toLowerCase();return this.sr.hasOwnProperty(n)},t.prototype.set=function(t,n){var i=(t=Zd(t)).toLowerCase();this.sr[i]=[t,tl(n)]},t.prototype.forEach=function(t,n){for(var i in this.sr)this.sr.hasOwnProperty(i)&&t.call(n,this.sr[i][1],i,this)},t.prototype.keys=function(){var t=[];return this.forEach(function(n,i){t.push(i)}),nl(t)},t.prototype.values=function(){var t=[];return this.forEach(function(n){t.push(n)}),nl(t)},t.prototype.entries=function(){var t=[];return this.forEach(function(n,i){t.push([i,n])}),nl(t)},t.prototype.asList=function(){var t=[];for(var n in this.sr)if(this.sr.hasOwnProperty(n)){var i=this.sr[n],e=i[0],r=i[1];t.push([e,r])}return t},t}();function el(){}Qd.iterable&&(il.prototype[Symbol.iterator]=il.prototype.entries);var rl,ul,sl,ol=d.min,cl=String.fromCharCode,al=16384;function fl(t){for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return function(t){for(var n=t.length,i=[],e=0;e<n;e+=al){var r=ol(e+al,n);i.push(cl.apply(null,t.slice(e,r)))}return i.join("")}(n)}function hl(t){if(t>=55296&&t<=57343)throw new f("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function vl(t,n){return t>>n&63|128}function dl(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(hl(t),n.push(t>>12&15|224),n.push(vl(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(vl(t,12)),n.push(vl(t,6))),n.push(63&t|128)):n.push(t)}function ll(){if(sl>=ul)throw new f("Invalid byte index");var t=255&rl[sl];if(sl++,128==(192&t))return 63&t;throw new f("Invalid continuation byte")}function wl(){var t,n;if(sl>ul)throw new f("Invalid byte index");if(sl===ul)return!1;if(t=255&rl[sl],sl++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|ll())>=128)return n;throw new f("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|ll()<<6|ll())>=2048)return hl(n),n;throw new f("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|ll()<<12|ll()<<6|ll())>=65536&&n<=1114111)return n;throw new f("Invalid UTF-8 detected")}var gl=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];function yl(t){return t&&URLSearchParams.prototype.isPrototypeOf(t)}function ml(t){return t&&ArrayBuffer.prototype.isPrototypeOf(t)}function bl(t){return t&&DataView.prototype.isPrototypeOf(t)}var pl,_l=ArrayBuffer.isView||function(t){return t&&(gl.indexOf(v.prototype.toString.call(t))>-1||bl(t))};function kl(t){if(t.bodyUsed)return j.reject(new h("Already used"));t.bodyUsed=!0}function Tl(t){return new j(function(n,i){t.onload=function(){n(t.result)},t.onerror=function(){i(t.error)}})}function Sl(t){return Qd.encoding?new qd.TextDecoder("utf-8").decode(new y(t)):fl(function(t){ul=(rl=t).length,sl=0;for(var n,i=[];!1!==(n=wl());)i.push(n);return i}(new y(t)))}function El(t){return Qd.encoding?(new qd.TextEncoder).encode(t).buffer:new y(function(t){for(var n=[],i=0,e=t;i<e.length;i++)dl(e[i],n);return n}(function(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&r)<<10)+(1023&u)+65536):(n.push(r),i--)}else n.push(r)}return n}(t))).buffer}function Rl(t){var n=t.getReader(),i=[],e=function(t){var r=t.done,u=t.value;return r?j.resolve(i):(i.push(u),n.read().then(e))};return n.read().then(e)}function Il(t){return Rl(t).then(function(t){return function(t){for(var n=0,i=0,e=t;i<e.length;i++)n+=(c=e[i]).byteLength;for(var r=new y(n),u=0,s=0,o=t;s<o.length;s++){var c=o[s];r.set(c,u),u+=c.byteLength}return r}(t).buffer})}function Dl(t){return t.slice?t.slice(0):Nl(new y(t))}function Nl(t){if(t.slice)return t.slice(0).buffer;var n=new y(t.byteLength);return n.set(new y(t.buffer,t.byteOffset,t.byteLength)),n.buffer}function Ol(t){var n=new FormData;return t.trim().split("&").forEach(function(t){if(t){var i=t.split("="),e=i.shift().replace(/\+/g," "),r=i.join("=").replace(/\+/g," ");n.append(decodeURIComponent(e),decodeURIComponent(r))}}),n}function Cl(t){var n=t;if(n.bodyUsed)throw new h("Already used");if(n.Av===pl.Pv){if(!n.xv.tee)throw new f("could not clone ReadableStream body");var i=n.xv.tee(),e=i[0],r=i[1];return n.body=e,n.xv=e,n.Lv=e,r}return n.Av===pl.Ga?Dl(n.xv):n.Av===pl.ph?n.xv.then(Cl):n.Lv}!function(t){t[t.ri=0]="ri",t[t.Bv=1]="Bv",t[t.Mv=2]="Mv",t[t.Ga=3]="Ga",t[t.Pv=4]="Pv",t[t.ph=5]="ph"}(pl||(pl={}));var Al=function(){function t(n,i){this.bodyUsed=!1;var e,r,u,s=this;if(this.Lv=n||null,n)if("string"==typeof n)this.Av=pl.ri,this.xv=n;else if((u=n)&&"function"==typeof u.then)this.Av=pl.ph,this.xv=j.resolve(n).then(function(n){return new t(n,i)}),this.xv.catch(el);else if(Qd.blob&&function(t){return t&&Blob.prototype.isPrototypeOf(t)}(n))this.Av=pl.Bv,this.xv=n;else if(Qd.formData&&function(t){return t&&FormData.prototype.isPrototypeOf(t)}(n))this.Av=pl.Mv,this.xv=n;else if(Qd.searchParams&&yl(n))this.Av=pl.ri,this.xv=n.toString();else if(Qd.arrayBuffer&&(ml(n)||_l(n)))bl(n)&&(this.Lv=new y((r=n).buffer,r.byteOffset,r.byteLength)),this.Av=pl.Ga,this.xv=ml(e=n)?Dl(e):Nl(e);else{if(!Qd.stream||!$d(n))throw new f("unsupported BodyInit type");n=Yd(jd,n),this.Av=pl.Pv,this.xv=n,this.Lv=n}else this.Av=pl.ri,this.xv="";this.Fv="",i.has("content-type")?this.Fv=(i.get("content-type")||"").toLowerCase():("string"==typeof n?this.Fv="text/plain;charset=UTF-8":s.Av===pl.Bv&&s.xv.type?this.Fv=s.xv.type:Qd.searchParams&&yl(n)&&(this.Fv="application/x-www-form-urlencoded;charset=UTF-8"),this.Fv&&i.set("content-type",this.Fv)),Qd.stream&&(null==n?this.body=null:s.Av===pl.Pv?this.body=s.xv:this.body=Jd(jd,function(){return s.arrayBuffer()},function(){s.bodyUsed=!0}))}return t.prototype.text=function(){var t,n,i,e=kl(this);return e||(this.Av===pl.Bv?(t=this.xv,n=new FileReader,i=Tl(n),n.readAsText(t),i):this.Av===pl.Ga?j.resolve(this.xv).then(Sl):this.Av===pl.Pv?Il(this.xv).then(Sl):this.Av===pl.ph?this.xv.then(function(t){return t.text()}):this.Av===pl.Mv?j.reject(new f("could not read FormData body as text")):j.resolve(this.xv))},t.prototype.json=function(){return this.text().then(JSON.parse)},t}();Qd.blob&&(Al.prototype.blob=function(){var t,n,i=kl(this);return i||(this.Av===pl.Bv?j.resolve(this.xv):this.Av===pl.Ga?j.resolve(Hd([this.xv],{type:this.Fv})):this.Av===pl.Pv?(t=this.xv,n=this.Fv,Rl(t).then(function(t){return Hd(t,{type:n||""})})):this.Av===pl.ph?this.xv.then(function(t){return t.blob()}):this.Av===pl.Mv?j.reject(new f("could not read FormData body as Blob")):j.resolve(Hd([this.xv],{type:this.Fv})))}),Qd.arrayBuffer&&(Al.prototype.arrayBuffer=function(){var t,n,i;return this.Av===pl.Ga?kl(this)||j.resolve(this.xv):this.Av===pl.Bv?kl(this)||(t=this.xv,n=new FileReader,i=Tl(n),n.readAsArrayBuffer(t),i):this.Av===pl.Pv?Il(this.xv):this.Av===pl.ph?kl(this)||this.xv.then(function(t){return t.arrayBuffer()}):this.Av===pl.Mv?j.reject(new f("could not read FormData body as ArrayBuffer")):j.resolve(this.xv).then(El)}),Qd.formData&&(Al.prototype.formData=function(){return this.Av===pl.Mv?kl(this)||j.resolve(this.xv):this.text().then(Ol)});var Pl=[301,302,303,307,308],xl=function(t){function n(n,i){var e=this,r=new il((i=i||{}).headers);return(e=t.call(this,n||null,r)||this).type="default",e.status=void 0===i.status?200:i.status,e.ok=e.status>=200&&e.status<300,e.statusText=void 0!==i.statusText?String(i.statusText):"",e.headers=r,e.url=i.url||"",e}return zd(n,t),n.prototype.clone=function(){return new n(Cl(this),{status:this.status,statusText:this.statusText,headers:new il(this.headers),url:this.url})},n.error=function(){var t=new n(null,{status:0,statusText:""});return t.type="error",t},n.redirect=function(t,i){if(-1===Pl.indexOf(i))throw new RangeError("Invalid status code");return new n(null,{status:i,headers:{location:t}})},n}(Al);var Ll,Bl=function(t,n){return t(n={exports:{}},n.exports),n.exports}(function(t,n){function i(t,n){if(!(t instanceof n))throw new h("Cannot call a class as a function")}function r(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),v.defineProperty(t,e.key,e)}}function u(t,n,i){return n&&r(t.prototype,n),i&&r(t,i),t}function o(t){return(o=v.setPrototypeOf?v.getPrototypeOf:function(t){return t.__proto__||v.getPrototypeOf(t)})(t)}function c(t,n){return(c=v.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t,n,i){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,i){var e=function(t,n){for(;!v.prototype.hasOwnProperty.call(t,n)&&null!==(t=o(t)););return t}(t,n);if(e){var r=v.getOwnPropertyDescriptor(e,n);return r.get?r.get.call(i):r.value}})(t,n,i||t)}v.defineProperty(n,"__esModule",{value:!0});var d=function(){function t(){i(this,t),v.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return u(t,[{key:"addEventListener",value:function(t,n){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(n)}},{key:"removeEventListener",value:function(t,n){if(t in this.listeners)for(var i=this.listeners[t],e=0,r=i.length;e<r;e++)if(i[e]===n)return void i.splice(e,1)}},{key:"dispatchEvent",value:function(t){var n=this;if(t.type in this.listeners){for(var i=function(i){s(function(){return i.call(n,t)})},e=this.listeners[t.type],r=0,u=e.length;r<u;r++)i(e[r]);return!t.defaultPrevented}}}]),t}(),l=function(t){function n(){var t,e,r;return i(this,n),e=this,(t=!(r=o(n).call(this))||"object"!=typeof r&&"function"!=typeof r?a(e):r).listeners||d.call(a(t)),v.defineProperty(a(t),"aborted",{value:!1,writable:!0,configurable:!0}),v.defineProperty(a(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new h("Super expression must either be null or a function");t.prototype=v.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&c(t,n)}(n,d),u(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),f(o(n.prototype),"dispatchEvent",this).call(this,t)}}]),n}(),w=function(){function t(){i(this,t),v.defineProperty(this,"signal",{value:new l,writable:!0,configurable:!0})}return u(t,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(n){void 0!==e?e.createEvent?(t=e.createEvent("Event")).initEvent("abort",!1,!1):(t=e.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(w.prototype[Symbol.toStringTag]="AbortController",l.prototype[Symbol.toStringTag]="AbortSignal"),n.AbortSignal=l,n.AbortController=w,n.default=w});(Ll=Bl)&&Ll.__esModule&&v.prototype.hasOwnProperty.call(Ll,"default")&&Ll.default,Bl.AbortSignal;var Ml=Bl.AbortController,Fl=qd.DOMException;try{new Fl}catch(t){(Fl=function(t,n){f.call(this,t),this.name=n||"Error",f.captureStackTrace&&f.captureStackTrace(this,this.constructor)}).prototype=v.create(f.prototype),Fl.prototype.constructor=Fl}var Ul=Ml;function Vl(t,n){if(!t.signal.aborted)if(n.aborted)t.abort();else{var i=function(){n.removeEventListener("abort",i),t.signal.removeEventListener("abort",i),t.abort()};n.addEventListener("abort",i),t.signal.addEventListener("abort",i)}}function Wl(t,n,i){return new j(function(e,r){if(n.signal.aborted)return t.catch(el),r(zl());var u=function(){n.signal.removeEventListener("abort",u),r(zl())};n.signal.addEventListener("abort",u),t.then(function(t){n.signal.removeEventListener("abort",u),e(t),i&&n.abort()},function(t){n.signal.removeEventListener("abort",u),r(t),i&&n.abort()})})}function zl(){return new Fl("Aborted","AbortError")}var ql,Hl="moz-chunked-arraybuffer";function jl(t){try{var n=new m;return n.open("GET","https://test"),n.responseType=t,n.responseType===t}catch(t){}return!1}!function(t){t[t.UNSENT=0]="UNSENT",t[t.OPENED=1]="OPENED",t[t.HEADERS_RECEIVED=2]="HEADERS_RECEIVED",t[t.LOADING=3]="LOADING",t[t.DONE=4]="DONE"}(ql||(ql={}));var $l=function(){function t(t,n){var i=this;this.Uv=!1,this.Rv=t,this.Vv=n,this.Wv=new m,this.zv=new j(function(t,n){i.qv=t,i.Hv=n})}return t.prototype.send=function(){var t=this;return this.jv().then(function(n){return t.$v(n,t.Vv),t.zv})},t.prototype.jv=function(){var t=this.Rv;return t.Av===pl.Pv?t.arrayBuffer():j.resolve(t.Lv)},t.prototype.Xv=function(t){this.Rv.onprogress&&this.Rv.onprogress(t.loaded,t.lengthComputable?t.total:void 0)},t.prototype.Gv=function(t){this.Hv(t)},t.prototype.Yv=function(){this.Gv(new h("Network request failed"))},t.prototype.Kv=function(){this.Gv(new h("Network request failed"))},t.prototype.Jv=function(){this.Gv(zl())},t.prototype.$v=function(t,n){var i=this,e=this.Rv,r=this.Wv,u=function(){return i.Qv()};if(e.signal.aborted)return this.Jv();r.onreadystatechange=function(){if(r.readyState>=ql.HEADERS_RECEIVED&&!i.Uv){var t=function(t){var n=new il;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var i=t.split(":"),e=i.shift().trim();if(e){var r=i.join(":").trim();n.append(e,r)}}),n}(r.getAllResponseHeaders()||""),n={status:r.status,statusText:r.statusText,headers:t,url:r.responseURL||t.get("X-Request-URL")};i.Uv=!0,i.Zv(n)}},r.onprogress=function(t){return i.Xv(t)},r.onload=function(){return i.td()},r.onerror=function(){return i.Yv()},r.ontimeout=function(){return i.Kv()},r.onabort=function(){return i.Jv()},r.open(e.method,e.url,!0),r.withCredentials="include"===e.credentials,"responseType"in r&&n&&(r.responseType=n),e.headers.forEach(function(t,n){r.setRequestHeader(n,t)}),e.signal.addEventListener("abort",u),r.onloadend=function(){e.signal.removeEventListener("abort",u)},t?r.send(t):r.send()},t.prototype.Qv=function(){this.Jv(),this.Wv.abort()},t}(),Xl=function(t){function n(n,i){var e=t.call(this,n,i)||this;return e.nd=void 0,e.ed=void 0,e}return zd(n,t),n.prototype.Zv=function(t){var n=this;this.nd=new j(function(t,i){n.ed=t,n.rd=i}),this.qv(new xl(this.nd,t))},n.prototype.td=function(){var t=this.Wv.response;if(null==t){var n=this.Vv;""===n||"text"===n?t=this.Wv.responseText:"document"===n?t=this.Wv.responseXML:"arraybuffer"===n?t=new ArrayBuffer(0):"blob"===n&&(t=Hd([]))}this.ed(t)},n.prototype.Gv=function(n){t.prototype.Gv.call(this,n),this.rd&&this.rd(n)},n}($l),Gl=function(t){function n(n){var i=t.call(this,n,Hl)||this;return i.ud=void 0,i.sd=void 0,i.od=!1,i}return zd(n,t),n.prototype.Zv=function(t){var n=this;this.ud=new jd({start:function(t){n.sd=t},cancel:function(){n.od=!0,n.Qv()}}),this.qv(new xl(this.ud,t))},n.prototype.Xv=function(n){this.od||this.sd.enqueue(new y(this.Wv.response)),t.prototype.Xv.call(this,n)},n.prototype.td=function(){this.sd.close()},n.prototype.Gv=function(n){t.prototype.Gv.call(this,n),this.sd&&!this.od&&(this.od=!0,this.sd.error(n))},n}($l),Yl=function(){var t=Qd.firefox&&jl(Hl);return Yl=function(){return t},t},Kl=function(){var t;return t=Qd.arrayBuffer&&jl("arraybuffer")?"arraybuffer":Qd.blob&&jl("blob")?"blob":"",Kl=function(){return t},t};function Jl(t){return(Qd.stream&&Yl()?new Gl(t):new Xl(t,Kl())).send()}var Ql=qd.fetch,Zl=qd.Request;qd.Response;var tw=qd.AbortController;var nw=["http:","https:"];var iw=function(){try{if(Qd.streamRequest){var t=new Zl("about:blank",{body:"",method:"POST"}).body;if(t&&Xd(t.constructor))return t.constructor}}catch(t){}}();function ew(t,n,i){var e;if(Qd.stream){var r=void 0;if(Qd.streamResponse){var u=t.body;r=u&&Yd(jd,u)}else r=Jd(jd,function(){return Wl(t.arrayBuffer(),n,!0)},function(){n.abort()});r&&i&&(r=function(t,n,i){var e=0;return function(t,n,i){return new t(new Gd(n.getReader(),i),{highWaterMark:0})}(jd,t,function(t){var r=t.done,u=t.value;r?i=void 0===i?e:i:e+=u.byteLength,n(e,i)})}(r,i,rw(t.headers))),e=r}else{var s=Wl(t.arrayBuffer(),n,!0);i&&(s=function(t,n,i){return j.resolve().then(function(){return n(0,i),t}).then(function(t){var e=t.byteLength;return n(e,i=void 0===i?e:i),t})}(s,i,rw(t.headers))),e=s}return new xl(e,t)}function rw(t){return t.has("content-length")?Number(t.get("content-length")):void 0}function uw(t){var n=new Ul;return t.signal&&Vl(n,t.signal),function(t,n){var i,e,r=t;if(i=r.Av===pl.Pv?Qd.streamRequest&&iw?j.resolve(Yd(iw,r.xv)):Wl(t.arrayBuffer(),n,!1):Wl(j.resolve(t.Lv),n,!1),Qd.abort){var u=new tw;Vl(u,n.signal),e=u.signal}return i.then(function(n){return new Zl(t.url,{body:n||void 0,credentials:t.credentials,headers:(i=t.headers,(i instanceof il?i:new il(i)).asList()),method:t.method,mode:t.mode,referrer:t.referrer,referrerPolicy:t.referrerPolicy,signal:e});var i})}(t,n).then(function(i){return Ql(i).then(function(i){return ew(i,n,t.onprogress)})})}var sw=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];var ow=function(t){function n(i,e){var r,u,s,o,c,a,f,v,d,l=this,w=(e=e||{}).body||null;if(i instanceof n){if(i.bodyUsed)throw new h("Already used");r=i.url,u=i.credentials,e.headers||(s=new il(i.headers)),o=i.method,c=i.mode,a=i.referrer,f=i.referrerPolicy,v=i.signal,d=i.onprogress,w||null==i.Lv||(w=i.Lv,i.bodyUsed=!0)}else r=String(i),u="same-origin",o="GET",c="cors",a="about:client",f="",v=null,d=null;if(!e.headers&&s||(s=new il(e.headers)),e&&(a="about:client",f=""),(l=t.call(this,w,s)||this).url=r,l.headers=s,l.credentials=e.credentials||u,l.method=function(t){var n=t.toUpperCase();return sw.indexOf(n)>-1?n:t}(e.method||o),l.mode=e.mode||c,l.signal=e.signal||v||(new Ul).signal,l.referrer=void 0!==e.referrer?e.referrer:a,l.referrerPolicy=void 0!==e.referrerPolicy?e.referrerPolicy:f,l.onprogress=e.onprogress||d,("GET"===l.method||"HEAD"===l.method)&&w)throw new h("Body not allowed for GET or HEAD requests");return l}return zd(n,t),n.prototype.clone=function(){return new n(this,{body:Cl(this)})},n}(Al),cw="function"==typeof Ql&&Qd.stream&&Qd.streamResponse&&Qd.url;function aw(t,n){return new j(function(i){var e=new ow(t,n);i((cw&&function(t){try{return nw.indexOf(new qd.URL(t,qd.location.href).protocol)>=0}catch(t){return!1}}(e.url)?uw:Jl)(e))})}aw.polyfill=!0;var fw=function(){function t(t){this.Dv=void 0,this.Rv=void 0,this.Xf=new du,this.Iv=void 0,this.fd=!1,this.Rv=t,this.Xf.zr(t.Hr),this.Dv=this.hd()}var n=t.prototype;return n.hd=function(){var t,n,i,e,r,u,o,c,a=this;return lr.async(function(f){for(;;)switch(f.prev=f.next){case 0:(t=this.Rv).fv&&s(function(){a.fd=!0,a.Xf.Wr()},t.fv),f.prev=2,n=aw(t.jh,{method:t.av,headers:t.Uh.Ja(),body:t.Ih,credentials:t.dv?"include":"same-origin",signal:dw(this.Xf.Hr),onprogress:t.lv}),f.next=9;break;case 6:throw f.prev=6,f.t0=f.catch(2),new Fd(t,f.t0);case 9:return f.prev=9,f.next=12,lr.awrap(n);case 12:i=f.sent,f.next=20;break;case 15:throw f.prev=15,f.t1=f.catch(9),wu(e=this.vd(f.t1))&&this.Xf.Wr(),e;case 20:if(r=i.url||t.jh,u=0===i.status&&"file:"===(h=r,st.ze(h).protocol)?200:i.status,o=new hw(this,i,this.Xf),c=new Id({Pi:o,qh:t,Vh:t.Vh,Uh:new Zc(i.headers.asList()),Fh:u,Wh:i.statusText,Hh:r}),this.Iv=c,!kd(c)){f.next=29;break}return f.abrupt("return",c);case 29:throw new Ud(c);case 30:case"end":return f.stop()}var h},null,this,[[2,6],[9,15]],j)},n.vd=function(t){return wu(t)?this.fd?new Vd(this.Rv):new lu(t.message,t):this.Iv?new Ud(this.Iv,t):new Fd(this.Rv,t)},t}(),hw=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).dd=void 0,r.ld=void 0,r.Xf=void 0,r.Ch=new Us,r.dd=n,r.ld=i,r.Xf=e,r.Ch.Cu.catch(Mt),r}vt(n,t);var i=n.prototype;return i.Ph=function(){return this.Ch.Cu},i.kh=function(t){return this.xh(this.ld.text(),t)},i.Sh=function(t){return this.xh(this.ld.arrayBuffer(),t)},i.Eh=function(){var t=this.ld.body;return t?this.Lh(t):sd(this.Sh().then(rd),this.Xf)},i.Bh=function(){var t=this.ld.clone(),i=this.Xf.qr(),e=i[0],r=i[1];return this.Xf=e,new n(this.dd,t,r)},i.xh=function(t,n){var i=this;n&&this.Xf.zr(n);var e=j.resolve(t).catch(function(t){throw i.dd.vd(t)});return e=pu(e,this.Xf),this.Ch.xu(e.then(Mt)),e},i.Lh=function(t){var n=this,i=new qv,e=j.resolve(t.pipeTo(i.writable,{preventAbort:!0})).catch(function(t){var e=n.dd.vd(t);throw i.writable.abort(e).catch(Mt),e});return e=pu(e,this.Xf),this.Ch.xu(e.then(Mt)),i.readable},ft(n,[{key:"Mh",get:function(){return this.ld.bodyUsed}}]),n}(hd),vw="abort";function dw(t){var n=new Ul;if(t.Or)n.abort();else if(!t.Cr){var i=function(){e(),n.abort()},e=function e(){n.signal.removeEventListener(vw,i),t.Mr(i),t.Ur(e)};n.signal.addEventListener(vw,i),t.Br(i),t.Fr(e)}return n.signal}var lw,ww=function(){function t(){}var n=t.prototype;return n.qh=function(t){return new fw(t).Dv},n.wv=function(t){if(nt&&nt.sendBeacon)nt.sendBeacon(t.jh,Yc([t.Ih],{type:t.Rh}));else{var n=t.Rh?{"Content-type":t.Rh}:void 0;Tu(this.qh(new Dd({av:Td.POST,jh:t.jh,Ih:t.Ih,Uh:n})))}},n.et=function(){},t}(),gw=function(n){function i(){for(var i,e=arguments.length,r=new Array(e),u=0;u<e;u++)r[u]=arguments[u];return(i=n.call.apply(n,[this].concat(r))||this).wd=void 0,i.gd=function(){if(St.kn)return!1;try{return"body"in t.Response.prototype}catch(t){return!1}}(),i.yd=St.jn,i.md=void 0,i}return vt(i,n),ft(i,[{key:"Le",get:function(){return this.wd||(this.wd=new tu(jc())),this.wd}},{key:"bd",get:function(){return this.gd}},{key:"pd",get:function(){return this.yd}},{key:"_d",get:function(){return!1}},{key:"kd",get:function(){return Xc.fa()}},{key:"Td",get:function(){return{Sd:Kc}}},{key:"Ed",get:function(){return u.connection&&u.connection.effectiveType||"default"}},{key:"Rd",get:function(){return u.connection&&u.connection.type||"unknown"}},{key:"Id",get:function(){return this.md||(this.md=new Od(new ww)),this.md}}]),i}(hr);dt(new gw),function(t){t.Dd="Nd",t.Od="Cd"}(lw||(lw={})),lw.Dd,lw.Od;var yw=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).Ad=void 0,e}return vt(n,t),ft(n,[{key:"Pd",get:function(){return this.Ad||(this.Ad=this.xd()),this.Ad}}]),n}(Ou);var mw,bw=function(t){function n(n){return t.call(this,n)||this}return vt(n,t),n}(yw),pw=function(t){function n(n){return t.call(this,n)||this}return vt(n,t),n}(Ou),_w=function(t){function n(n){var i;return(i=t.call(this,lw.Dd)||this).Ld=n,i}return vt(n,t),n.prototype.xd=function(){return new kw(this.Ld.Pd)},n}(bw),kw=function(t){function n(n){var i;return(i=t.call(this,"addtrack")||this).track=n,i}return vt(n,t),n}(pw),Tw=function(t){function n(n){var i;return(i=t.call(this,lw.Od)||this).Ld=n,i}return vt(n,t),n.prototype.xd=function(){return new Sw(this.Ld.Pd)},n}(bw),Sw=function(t){function n(n){var i;return(i=t.call(this,"removetrack")||this).track=n,i}return vt(n,t),n}(pw);!function(t){t.Bd="Md",t.Fd="Ud",t.Vd="Wd",t.zd="qd",t.Hd="jd",t.$d="Xd",t.Gd="Yd",t.Kd="Jd",t.Qd="sc",t.Zd="tl",t.nl="il",t.QUALITY_UNAVAILABLE="qualityunavailable",t.NO_QUALITY="noquality"}(mw||(mw={}));var Ew=function(t){function n(){var n;return(n=t.call(this)||this).ul=[],n.Ad=void 0,n}vt(n,t);var i=n.prototype;return i.sl=function(t){return this.ul[t]},i.ol=function(t){return!(!t||fu(this.ul,t))&&(this.ul.push(t),this.Ad&&this.Ad.push(t.Pd),t.Kr(mw.$d,this.Gr),this.Yr(new _w(t)),!0)},i.cl=function(t){if(!t)return!1;var n=this.ul.indexOf(t);return!(n<0)&&(au(this.ul,n),this.Ad&&au(this.Ad,n),t.tu(mw.$d,this.Gr),this.Yr(new Tw(t)),!0)},i.al=function(t){return fu(this.ul,t)},i.fl=function(){for(var t=this.ul,n=t.length-1;n>=0;n-=1)this.cl(t[n])},i.et=function(){this.fl(),this.Zr()},ft(n,[{key:"hl",get:function(){return this.ul}},{key:"Pd",get:function(){return this.Ad||(this.Ad=this.xd()),this.Ad}},{key:"vl",get:function(){return this.ul.length}}]),n}(Du),Rw=function(t){function n(n){var i;return(i=t.call(this,mw.$d)||this).Ld=n,i}return vt(n,t),n.prototype.xd=function(){return new Iw(this.Ld.Pd)},n}(bw),Iw=function(t){function n(n){var i;return(i=t.call(this,"change")||this).track=n,i}return vt(n,t),n}(pw),Dw=function(t){function n(){var n;return(n=t.call(this)||this).dl=void 0,n.ll=function(t){var i=t.Ld;n.ol(i)},n.wl=function(t){var i=t.Ld;n.cl(i)},n}vt(n,t);var i=n.prototype;return i.gl=function(t){t.Kr(lw.Dd,this.ll),t.Kr(lw.Od,this.wl)},i.yl=function(t){t.tu(lw.Dd,this.ll),t.tu(lw.Od,this.wl)},i.et=function(){this.dl&&this.dl.et(),t.prototype.et.call(this)},ft(n,[{key:"ml",get:function(){return this.dl},set:function(t){var n=this.dl;if(t!==n){if(n){this.yl(n);for(var i=0,e=n.hl;i<e.length;i++){var r=e[i];t&&t.al(r)||this.cl(r)}}if(this.dl=t,t){for(var u=[],s=0,o=t.hl;s<o.length;s++){var c=o[s];this.ol(c),this.bl(c)&&u.push(c)}this.gl(t);for(var a=0;a<u.length;a++){var f=u[a];f.Yr(new Rw(f))}}}}}]),n}(Ew),Nw=v.freeze||Ft;function Ow(t,n,i){v.defineProperty(t,n,{writable:!1,enumerable:!0,value:i})}function Cw(t,n){for(var i=0,e=v.getOwnPropertyNames(n);i<e.length;i++){var r=e[i];v.defineProperty(t,r,v.getOwnPropertyDescriptor(n,r))}return t}function Aw(t){if(At(t)){var n={};for(var i in t)Et.call(t,i)&&(n[i]=Aw(t[i]));return n}if(Nt(t)){for(var e=new Array(t.length),r=0;r<e.length;r++)r in t&&(e[r]=Aw(t[r]));return e}return t}function Pw(t,n){return t===n||!(!t||!n)&&(!(!Ct(t)||!Ct(n))&&(Ot(t)?!!Ot(n)&&function(t,n){var i=t.length,e=n.length;if(i!==e)return!1;for(var r=0;r<i;r+=1)if(!Pw(t[r],n[r]))return!1;return!0}(t,n):!Ot(n)&&function(t,n){var i=v.keys(t),e=v.keys(n);if(!i||!e||i.length!==e.length)return!1;for(var r=0;r<i.length;r++){var u=i[r];if(!Et.call(n,u)||!Pw(t[u],n[u]))return!1}return!0}(t,n)))}function xw(t,n){return t.constructor===n.constructor}function Lw(t){for(var n={},i=0,e=v.keys(t);i<e.length;i++){var r=e[i],u=t[r];null!=u&&(n[r]=u)}return n}function Bw(t){var n=t;if("string"==typeof n){if("true"===(n=n.toLowerCase()))return!0;if("false"===n)return!1}return Boolean(n)}function Mw(t){return"string"==typeof t?""===t?NaN:Number(t):"boolean"==typeof t||null==t||t instanceof Date||"number"!=typeof Number(t)&&!t?NaN:Number(t)}function Fw(t){var n=Mw(t);if(g(n))throw new f("Expected a valid number.");return n}function Uw(t){return"string"==typeof t?t:""}function Vw(t,n){if(!Ot(t))return[];for(var i=0|t.length,e=new Array(i),r=0;r<i;r++)e[r]=n(t[r]);return e}function Ww(t,n){return Ot(t)?Vw(t,n):n(t)}var zw=[lw.Dd,lw.Od,mw.$d];function qw(t){var n,i=t.hl.map(function(t){return t.Pd});return i.item=function(n){var i=0|n,e=t.sl(i);return e&&e.Pd||void 0},i.addEventListener=function(t,i){n.Kr(t,i)},i.removeEventListener=function(t,i){n.tu(t,i)},n=new Nu(i),t.Kr(zw,function(t){return n.Yr(t.Pd)}),i}function Hw(){}function jw(t){var n,i=[mw.Qd,mw.$d,mw.Zd,mw.nl,mw.QUALITY_UNAVAILABLE],e={get activeQuality(){return t.pl&&t.pl.Pd},get enabled(){return t._l},set enabled(n){t._l=Bw(n)},get id(){return t.kl},get uid(){return t.Tl},get kind(){return t.Sl},get label(){return t.El},set label(n){t.El=Uw(n)},get language(){return t.Rl},get qualities(){return t.Il.Pd},set targetQuality(n){var i;(i=n?function(t,n){for(var i=[],e=0,r=t.Il.hl;e<r.length;e++)for(var u=r[e],s=0;s<n.length;s++){var o=n[s];u.Pd===o&&i.push(u)}return i}(t,Nt(n)?n:[n]):[]).length>0?t.Dl=i:t.Dl=void 0},get targetQuality(){if(t.Dl)return 1===t.Dl.length?t.Dl[0].Pd:t.Dl.map(function(t){return t.Pd})},addEventListener:function(t,i){var e=Ww(t,Uw);n.Kr(e,i)},removeEventListener:function(t,i){var e=Ww(t,Uw);n.tu(e,i)}};return n=new Nu(e),t.Kr(i,function(t){return n.Yr(t.Pd)}),v.defineProperty(e,"constructor",{value:Hw}),e}function $w(){}function Xw(t){var n=qw(t);return v.defineProperty(n,"constructor",{value:$w}),n}var Gw,Yw,Kw=function(t){function n(){return t.apply(this,arguments)||this}vt(n,t);var i=n.prototype;return i.xd=function(){return Xw(this)},i.bl=function(t){return t._l},n}(Dw);function Jw(){}function Qw(t){var n,i=[mw.$d,mw.Qd,mw.Bd,mw.Fd,mw.Vd,mw.zd,mw.Hd,mw.Gd,mw.Kd],e=[Yw.Nl],r={get kind(){return t.Sl},get label(){return t.El},set label(n){t.El=Uw(n)},get language(){return t.Rl},get id(){return t.kl},get uid(){return t.Tl},get inBandMetadataTrackDispatchType(){return t.Ol},get mode(){return t.Cl},set mode(n){n!==Gw.Al&&n!==Gw.Pl&&n!==Gw.xl||t.Ll(n)},get forced(){return Boolean(t.Bl)},get type(){return t.gr},get readyState(){return ng(t.Ml)},get cues(){return t.Cl===Gw.xl?null:t.Fl.Pd},get activeCues(){return t.Cl===Gw.xl?null:t.Ul.Pd},get src(){return t.Vl||""},addEventListener:function(t,i){var e=Ww(t,Uw);n.Kr(e,i)},removeEventListener:function(t,i){var e=Ww(t,Uw);n.tu(e,i)}};return n=new Nu(t),t.Kr(i,function(t){return n.Yr(t.Pd)}),t.Kr(e,function(t){return n.Yr(t)}),v.defineProperty(r,"constructor",{value:Jw}),r}function Zw(){}function tg(t){var n=qw(t);return v.defineProperty(n,"constructor",{value:Zw}),n}function ng(t){return t}!function(t){t.xl="disabled",t.Pl="hidden",t.Al="showing"}(Gw||(Gw={})),function(t){t.Nl="error"}(Yw||(Yw={}));var ig=function(t){function n(){return t.apply(this,arguments)||this}vt(n,t);var i=n.prototype;return i.xd=function(){return tg(this)},i.bl=function(t){return t.Cl===Gw.Al},n}(Dw),eg=function(t){function n(){return t.apply(this,arguments)||this}vt(n,t);var i=n.prototype;return i.Qr=function(n){t.prototype.Qr.call(this,n)},i.eu=function(n){t.prototype.eu.call(this,n)},n}(Du),rg=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n}(eg),ug=function(t){function n(){return t.call(this,Jc.ka)||this}return vt(n,t),n}(Ou),sg=function(t){function n(n){var i;return(i=t.call(this,Jc.ya)||this).currentSource=n,i}return vt(n,t),n}(Ou),og=function(){function t(){}return t.Wl=function(n,i){var e=t.zl(n,i);return e?t.ql(e):0},t.Hl=function(){return st.Ed||"default"},t.jl=function(){return st.Rd||"unknown"},t.zl=function(n,i){var e,r=null==(e=st.kd)?void 0:e.mu(i),u=r&&JSON.parse(r);if(u&&u[n])return t.$l(u,n,i)},t.ql=function(t){var n=t.availableBandwidth;return n||0},t.$l=function(n,i,e){if(!t.Xl(n,i))return n[i];t.Gl(n,i,e)},t.Gl=function(t,n,i){var e;delete t[n],null==(e=st.kd)||e.aa(i,JSON.stringify(t))},t.Xl=function(t,n){var i=t[n].storedTimestamp;if(!i)return!1;var e=new Date(i),r=(new Date).getTime();return e.setMonth(e.getMonth()+1)<=r},t.Yl=function(t,n,i,e){var r;return wr({},t,((r={})[n]={availableBandwidth:i,storedTimestamp:e},r))},t.Kl=function(n){var i=t.Hl();t.Jl(i,"theoplayer-stored-network-info",n,En())},t.Jl=function(n,i,e,r){var u,s,o=null==(u=st.kd)?void 0:u.mu(i),c=o?JSON.parse(o):void 0,a=t.Yl(c,n,e,r);null==(s=st.kd)||s.aa(i,JSON.stringify(a))},t.Ql=function(){var n=t.Hl();return t.Wl(n,"theoplayer-stored-network-info")},t}();var cg,ag,fg,hg,vg,dg,lg="1ADD53F3";function wg(t){return{chromecast:function(t){return{appID:t&&t.appID?Uw(t.appID):lg}}(t?t.chromecast:void 0),strategy:function(t){switch(t){case"auto":return cg.AUTO;case"manual":return cg.MANUAL;case"disabled":return cg.DISABLED;default:return cg.MANUAL}}(t?t.strategy:void 0)}}function gg(t){var n,i=fg.Zl;return(n=t)&&Hr(n,"mpd")&&(i=fg.tw),function(t){return!!t&&Hr(t,"m3u8")}(t)&&(i=fg.nw),i}function yg(t){return Ct(t)&&Ct(t.ssai)&&"google-dai"===t.ssai.integration}function mg(t){return Ct(t)&&Pt(t.integration)&&"verizon-media"===t.integration}function bg(t){if(Pt(t))return!t;if(mg(t))return!t.id;if(yg(t)){var n=t.ssai,i="live"===n.availabilityType&&n.assetKey,e="vod"===n.availabilityType&&n.contentSourceID&&n.videoID;return Boolean(i&&e)}return!t.src}function pg(t){return Boolean(Ct(t)&&Pt(t.src))}function _g(t){return Pt(t)||pg(t)||yg(t)||mg(t)}function kg(t){if(t){if(_g(t))return bg(t);for(var n=0;n<t.length;n++){if(!bg(t[n]))return!1}return!0}return!0}function Tg(){return{crossOrigin:ag.iw,useCredentials:!1,liveOffset:void 0,timeServer:void 0,hlsDateRange:void 0,experimentalRendering:!1,nativeUiRendering:!1,lowLatency:!1,useNativePlayback:!1,dash:void 0,hls:void 0,abr:void 0,lcevc:void 0}}function Sg(){return wr({},Tg(),{src:void 0,type:fg.Zl,contentProtection:void 0,ssai:void 0,integrationData:void 0,isAdvertisement:void 0})}function Eg(t){var n={allowedMimeTypes:void 0,preload:"midroll-and-postroll",showCountdown:!0,vpaidMode:hg.ENABLED,googleImaConfiguration:{useNativeIma:!1}};return void 0===t?n:(void 0!==t.preload&&(n.preload=function(t){switch(t){case"none":return vg.NONE;case"midroll-and-postroll":default:return vg.MIDROLL_AND_POSTROLL}}(t.preload)),void 0!==t.showCountdown&&(n.showCountdown=Bw(t.showCountdown)),void 0!==t.vpaidMode&&(n.vpaidMode=function(t){switch(t){case"insecure":return hg.INSECURE;case"disabled":return hg.DISABLED;case"enabled":default:return hg.ENABLED}}(t.vpaidMode)),Nt(t.allowedMimeTypes)&&(n.allowedMimeTypes=t.allowedMimeTypes.filter(Pt)),void 0!==t.googleImaConfiguration&&(n.googleImaConfiguration=function(t){return void 0===t?{useNativeIma:!1}:{useNativeIma:Bw(t.useNativeIma)}}(t.googleImaConfiguration)),n)}function Rg(t){if(!Ot(t))return[];for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];At(r)&&n.push(r)}return n}function Ig(t){return Pt(t.src)}!function(t){t.AUTO="auto",t.MANUAL="manual",t.DISABLED="disabled"}(cg||(cg={})),function(t){t.iw="",t.ew="anonymous",t.rw="use-credentials"}(ag||(ag={})),function(t){t.tw="application/dash+xml",t.nw="application/vnd.apple.mpegurl",t.uw="application/x-mpegurl",t.Zl="video/mp4",t.sw="application/vnd.theoplayer.hesp+json",t.ow="application/vnd.theo.hesp+json"}(fg||(fg={})),function(t){t.ENABLED="enabled",t.INSECURE="insecure",t.DISABLED="disabled"}(hg||(hg={})),function(t){t.NONE="none",t.MIDROLL_AND_POSTROLL="midroll-and-postroll"}(vg||(vg={})),function(t){t[t.cw=0]="cw",t[t.aw=1]="aw",t[t.fw=2]="fw",t[t.hw=3]="hw",t[t.vw=4]="vw"}(dg||(dg={}));var Dg,Ng=function(t){function n(n,i){var e;return void 0===i&&(i=dg.cw),(e=t.call(this,Jc.pa)||this).currentTime=n,e.readyState=i,e}return vt(n,t),n}(Ou),Og=function(t){function n(n){var i;return(i=t.call(this,Jc.Na)||this).currentTime=n,i}return vt(n,t),n}(Ou),Cg=function(t){function n(n){var i;return(i=t.call(this,Jc.Oa)||this).currentTime=n,i}return vt(n,t),n}(Ou);!function(t){t.dw="canplay",t.lw="canplaythrough",t.ww="loadeddata",t.gw="loadedmetadata",t.Gd="readystatechange",t.yw="waiting",t.mw="playing"}(Dg||(Dg={}));var Ag,Pg,xg=[Dg.dw,Dg.lw,Dg.ww,Dg.gw,Dg.Gd,Dg.yw,Dg.mw],Lg=function(t){function n(n,i){var e;return void 0===i&&(i=dg.aw),(e=t.call(this,Dg.gw)||this).currentTime=n,e.readyState=i,e}return vt(n,t),n}(Ou),Bg=function(t){function n(n){var i;return(i=t.call(this,Jc.ba)||this).duration=n,i}return vt(n,t),n}(Ou),Mg=function(t){function n(n,i){var e;return(e=t.call(this,Jc.Aa)||this).currentTime=n,e.playbackRate=i,e}return vt(n,t),n}(Ou),Fg=function(t){function n(n,i){var e;return(e=t.call(this,Jc.qa)||this).currentTime=n,e.currentProgramDateTime=i,e}return vt(n,t),n}(Ou),Ug=function(t){function n(n){var i;return(i=t.call(this,Jc._a)||this).currentTime=n,i}return vt(n,t),n}(Ou),Vg=function(t){function n(n,i){var e;return void 0===i&&(i=dg.fw),(e=t.call(this,Dg.ww)||this).currentTime=n,e.readyState=i,e}return vt(n,t),n}(Ou),Wg=function(t){function n(n){var i;return(i=t.call(this,Jc.Ba)||this).currentTime=n,i}return vt(n,t),n}(Ou),zg=function(t){function n(n){var i;return(i=t.call(this,Jc.La)||this).currentTime=n,i}return vt(n,t),n}(Ou),qg=function(t){function n(n,i){var e;return(e=t.call(this,Jc.Ha)||this).currentTime=n,e.volume=i,e}return vt(n,t),n}(Ou),Hg=function(t){function n(n,i){var e;return void 0===i&&(i=dg.hw),(e=t.call(this,Dg.dw)||this).currentTime=n,e.readyState=i,e}return vt(n,t),n}(Ou),jg=function(t){function n(n,i){var e;return void 0===i&&(i=dg.vw),(e=t.call(this,Dg.lw)||this).currentTime=n,e.readyState=i,e}return vt(n,t),n}(Ou),$g=function(t){function n(n,i){var e;return(e=t.call(this,Dg.Gd)||this).currentTime=n,e.readyState=i,e}return vt(n,t),n}(Ou),Xg=function(t){function n(n){var i;return(i=t.call(this,Yw.Nl)||this).errorObject=n,i}return vt(n,t),n.prototype.xd=function(){return this},ft(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(yw);function Gg(t){switch(t){case Ag.ALL:case Ag.CONTENT:return t;default:return Ag.NONE}}function Yg(t){var n,i,e,r=Aw(t||{});return r.libraryLocation&&(r.libraryLocation=Ad(r.libraryLocation,!0)),r.isEmbeddable=Boolean(r.isEmbeddable),r.cast=wg(r.cast),r.ads=Eg(r.ads),r.analytics=Rg(r.analytics),r.mutedAutoplay=Gg(r.mutedAutoplay),r.allowNativeFullscreen=Boolean(r.allowNativeFullscreen),r.allowMixedContent=Boolean(r.allowMixedContent),r.persistVolume=Boolean(r.persistVolume),r.liveOffset=(n=r.liveOffset,Number(n)||void 0),r.hlsDateRange=(i=r.hlsDateRange,Boolean(i)),r.retainPlaybackRateOnSourceChange=Boolean(r.retainPlaybackRateOnSourceChange),r.license=Pt(e=r.license)?e:void 0,r.licenseUrl=function(t){if(!t)return;try{return Ad(t)}catch(t){return void st.Ie("Invalid 'licenseUrl', falling back to default URL")}}(r.licenseUrl),r}function Kg(t){return{bw:t.bw,pw:t.pw,_w:t._w,fu:t.fu,kw:t.kw,Tw:t.Tw,Sw:t.Sw,Ew:t.Ew,Ml:t.Ml,Rw:t.Rw,Iw:t.Iw,Dw:t.Dw,Nw:t.Nw}}function Jg(t,n,i){if(n!==i){var e=n.bw,r=n.pw,u=n.Tw,s=n.Sw,o=n.Ew,c=n.Ml,a=n.Rw;n.Dw,n.Iw;var f=n.Nw,h=i.bw,v=i.pw,d=i._w,l=i.kw,w=i.Tw,y=i.Sw,m=i.Ew,b=i.Ml,p=i.Rw;i.Dw,i.Iw;var _=i.Nw;c!==dg.cw&&t.Yr(new Ng(h,b)),y&&!s?t.Yr(new Og(h)):!y&&s&&t.Yr(new Cg(h)),b>=dg.aw&&t.Yr(new Lg(h,b)),v===r||g(v)&&g(r)||t.Yr(new Bg(v)),m!==o&&t.Yr(new Mg(h,m)),h!==e&&t.Yr(new Fg(h,void 0)),d&&t.Yr(new Ug(h)),b>=dg.fw&&t.Yr(new Vg(h,b)),p&&!a?t.Yr(new Wg(h)):!p&&a&&t.Yr(new zg(h)),_===f&&w===u||t.Yr(new qg(h,_)),b>=dg.hw&&t.Yr(new Hg(h,b)),b>=dg.vw&&t.Yr(new jg(h,b)),b!==c&&t.Yr(new $g(h,b)),l&&t.Yr(new Xg(l))}}!function(t){t.NONE="none",t.ALL="all",t.CONTENT="content"}(Ag||(Ag={})),function(t){t.LIVE_OFFSET="liveoffset",t.TRACK_BYTES_DOWNLOADED="trackbytesdownloaded",t.ESTIMATED_TRACK_NETWORK_BANDWIDTH="estimatedtracknetworkbandwidth",t.ESTIMATED_TRACK_MEDIA_DATA_BANDWIDTH="estimatedtrackmediadatabandwidth",t.SEGMENT_RECEIVE_INTERVAL="segmentreceiveinterval"}(Pg||(Pg={}));var Qg=400,Zg=.25,ty={Ow:.2,Cw:.45,Aw:.7,Pw:3,xw:oy,Lw:cy},ny={Ow:.4,Cw:.65,Aw:1,Pw:3,xw:oy,Lw:cy},iy={Ow:.4,Cw:.7,Aw:.9,Pw:3,xw:oy,Lw:cy},ey={Ow:.4,Cw:.65,Aw:1,Pw:3,xw:oy,Lw:cy},ry={Ow:.5,Cw:1.125,Aw:1.75,Pw:2.55,xw:oy,Lw:cy};function uy(){var t;return t=st.je.fe?ey:st.je.de?ny:st.je.ve?"Android"===st.$e.Xe?iy:ty:ry,st.$e.Ge?function(t){if(st.$e.Ge){var n=(Qg+250)/1e3,i=d.max(n,t.Ow),e=d.max(i+Zg,t.Cw),r=d.max(e+Zg,t.Aw);return{Ow:i,Cw:e,Aw:r,Pw:d.max(r+Zg,t.Pw),xw:oy,Lw:cy}}return t}(t):t}var sy,oy=.92,cy=1.08;function ay(t){return{goLive:function(){return t.Bw()},get isLive(){return t.Mw},get currentServerLiveTime(){return t.Fw},get currentLatency(){return t.Uw},get latency(){return t.Vw},set latency(n){if(!function(t){if(!Ct(t))return!1;var n=t,i=It(n.target)&&"number"==typeof n.target&&It(n.windowEnd)&&"number"==typeof n.windowEnd&&It(n.windowStart)&&"number"==typeof n.windowStart&&It(n.maxOffset)&&"number"==typeof n.maxOffset,e=n.windowStart>=0&&n.windowStart<=n.target&&n.target<=n.windowEnd&&n.maxOffset>=n.windowEnd;return i&&e}(n))throw new f("Invalid latency configuration");t.Vw=n},get manifest(){return t.Ww},get metrics(){return t.zw},addEventListener:function(n,i){t.Kr(hy(n),i)},removeEventListener:function(n,i){t.tu(hy(n),i)}}}!function(t){t[t.xl=0]="xl",t[t.qw=1]="qw",t[t.Hw=2]="Hw"}(sy||(sy={}));var fy=["analytic","golive","nogolive","bufferedchange"];function hy(t){var n=Ww(t,Uw);return(Pt(n)?[n]:n).filter(function(t){return fu(fy,t)})}var vy,dy=function(t){function n(){var n,i;return(n=t.call(this)||this).dl=void 0,n.Ad=void 0,n.jw={windowStart:(i=uy()).Ow,windowEnd:i.Aw,target:i.Cw,maxOffset:i.Pw},n.dl=void 0,n}vt(n,t);var i=n.prototype;return i.gl=function(t){t.Kr(fy,this.Gr)},i.yl=function(t){t.tu(fy,this.Gr)},i.Bw=function(){var t;null==(t=this.dl)||t.Bw()},i.et=function(){this.Zr(),this.dl&&this.yl(this.dl),this.dl=void 0},ft(n,[{key:"ml",get:function(){return this.dl},set:function(t){var n=this.dl;t!==n&&(n&&this.yl(n),t&&this.gl(t),this.dl=t,this.dl&&(this.dl.Vw=this.jw))}},{key:"Pd",get:function(){return this.Ad||(this.Ad=ay(this)),this.Ad}},{key:"Fw",get:function(){var t;return null==(t=this.dl)?void 0:t.Fw}},{key:"Uw",get:function(){var t;return null==(t=this.dl)?void 0:t.Uw}},{key:"Mw",get:function(){return!!this.dl&&this.dl.Mw}},{key:"Vw",get:function(){return this.dl?this.dl.Vw:this.jw},set:function(t){this.dl&&(this.dl.Vw=t),this.jw=t}},{key:"Ww",get:function(){var t;return null==(t=this.dl)?void 0:t.Ww}},{key:"zw",get:function(){var t;return null==(t=this.dl)?void 0:t.zw}}]),n}(Du),ly=function(t){function n(n){var i;return(i=t.call(this)||this).dl=void 0,i.$w=[],i.Xw=!1,i.Gw=new Kw,i.Yw=new Kw,i.Kw=new ig,i.Jw=new dy,i.Qw=!1,i.Zw(n),n.Qr(i.Gr),i.dl=n,i.Gw.ml=n.tg,i.Yw.ml=n.ng,i.Kw.ml=n.ig,i.Jw.ml=n.eg,i}vt(n,t);var i=n.prototype;return i.Y=function(){this.dl.Y()},i.K=function(){this.dl.K()},i.rg=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Su(this.$w.map(function(t){return t.rg()})).then(Mt));case 1:case"end":return t.stop()}},null,this,null,j)},i.ug=function(){return this.dl.ug()},i.sg=function(t,n){return lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return gu(n),i.next=3,lr.awrap(this.dl.sg(t,n));case 3:case"end":return i.stop()}},null,this,null,j)},i.og=function(){return this.ml.og()},i.cg=function(){this.ml.cg()},i.ag=function(){this.ml.ag()},i.st=function(){if(!this.Xw){for(var t=0,n=this.$w;t<n.length;t++){n[t].st()}this.Xw=!0}},i.fg=function(t){this.dl.fg(t)},i.hg=function(){this.dl.hg()},i.vg=function(){this.dl.vg()},i.dg=function(){this.dl.dg()},i.lg=function(){return this.dl.lg()},i.wg=function(){return this.dl.wg()},i.gg=function(){for(var t=[],n=0,i=this.$w;n<i.length;n++){var e=i[n];t.push.apply(t,e.gg())}return t},i.yg=function(t){for(var n=!1,i=0,e=this.$w;i<e.length;i++){n=e[i].yg(t)||n}return n},i.Yr=function(n){this.yg(n)||t.prototype.Yr.call(this,n)},i.Zw=function(t){this.$w.push(t)},i.mg=function(t){cu(this.$w,t)},i.bg=function(t){if(t!==this.dl){var n=this.dl;n.hg(),n.eu(this.Gr);var i=Kg(this),e=this.pg,r=this.wg();this.dl=t,this.Gw.ml=t.tg,this.Yw.ml=t.ng,this.Kw.ml=t.ig,this.Jw.ml=t.eg,Jg(this,i,this);var u=this.pg;u!==e&&this.Yr(new sg(u)),this.wg()!==r&&this.Yr(new ug),t.Qr(this.Gr),t.fg(n)}},i._g=function(){},i.et=function(){var t,n,i;return lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:this.Zr(),this.dl.hg(),t=0,n=this.$w;case 3:if(!(t<n.length)){e.next=10;break}return i=n[t],e.next=7,lr.awrap(i.et());case 7:t++,e.next=3;break;case 10:this.Gw.et(),this.Yw.et(),this.Kw.et(),this.Jw.et();case 14:case"end":return e.stop()}},null,this,null,j)},i.fl=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Su(this.$w.map(function(t){return t.fl()})).then(Mt));case 1:case"end":return t.stop()}},null,this,null,j)},ft(n,[{key:"tg",get:function(){return this.Gw}},{key:"ig",get:function(){return this.Kw}},{key:"ng",get:function(){return this.Yw}},{key:"kg",get:function(){return this.dl.kg}},{key:"Tg",get:function(){return this.dl.Tg},set:function(t){this.dl.Tg=t}},{key:"pg",get:function(){return this.dl.pg}},{key:"bw",get:function(){return this.dl.bw},set:function(t){this.dl.bw=t}},{key:"pw",get:function(){return this.dl.pw}},{key:"Sg",get:function(){return this.dl.Sg}},{key:"_w",get:function(){return this.dl._w}},{key:"fu",get:function(){return this.dl.fu}},{key:"kw",get:function(){return this.dl.kw}},{key:"eg",get:function(){return this.Jw}},{key:"Eg",get:function(){return this.dl.Eg}},{key:"zw",get:function(){return function(t){for(var n=0,i=0,e=0,r=0,u=0,s={amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0},o=0;o<t.length;o++){var c=t[o];n+=c.Rg,i+=c.Ig,e+=c.Dg,r+=c.Ng,u+=c.Og,s.amountOfBufferedAudioSegments+=c.Cg.amountOfBufferedAudioSegments,s.amountOfBufferedVideoSegments+=c.Cg.amountOfBufferedVideoSegments}return{Rg:n,Ig:i,Dg:e,Ng:r,Og:u,Cg:s}}(this.$w.map(function(t){return t.zw}))}},{key:"Tw",get:function(){return this.dl.Tw},set:function(t){this.dl.Tw=t}},{key:"Ag",get:function(){return this.dl.Ag}},{key:"Sw",get:function(){return this.dl.Sw}},{key:"Ew",get:function(){return this.dl.Ew},set:function(t){this.dl.Ew=t}},{key:"Pg",get:function(){return this.dl.Pg}},{key:"xg",get:function(){return this.dl.xg},set:function(t){this.dl.xg=t}},{key:"Ml",get:function(){return this.dl.Ml}},{key:"Lg",get:function(){return this.dl.Lg}},{key:"Rw",get:function(){return this.dl.Rw}},{key:"Iw",get:function(){return this.dl.Iw}},{key:"Dw",get:function(){return this.dl.Dw}},{key:"Nw",get:function(){return this.dl.Nw},set:function(t){this.dl.Nw=t}},{key:"Bg",get:function(){return this.dl.Bg}},{key:"Mg",get:function(){return!1},set:function(t){}},{key:"ml",get:function(){return this.dl},set:function(t){this.bg(t)}}]),n}(rg),wy=function(t){function n(n,i,e,r,u,s,o,c){var a;return(a=t.call(this,n,i,e)||this).url=void 0,a.status=void 0,a.statusText=void 0,a.response=void 0,a.systemCode=void 0,a.url=r,a.status=u,a.statusText=s,a.response=o,a.systemCode=c,a}return vt(n,t),ft(n,[{key:"name",get:function(){return"ContentProtectionError"}}]),n}(Cc);!function(t){t[t.ABORTED=1]="ABORTED",t[t.NETWORK=2]="NETWORK",t[t.DECODE=3]="DECODE",t[t.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",t[t.ENCRYPTED=5]="ENCRYPTED",t[t.LICENSE_INVALID=6]="LICENSE_INVALID",t[t.ADVERTISEMENT_ERROR=7]="ADVERTISEMENT_ERROR"}(vy||(vy={}));var gy=function(t){function n(n,i,e,r){var u;return(u=t.call(this,i)||this).code=void 0,u.message=void 0,u.cause=void 0,u.systemCode=void 0,u.code=n,u.message=null!=i?i:"Unknown error",u.cause=e,u.systemCode=r,f.captureStackTrace&&f.captureStackTrace(Nn(u),u.constructor),u}return vt(n,t),ft(n,[{key:"name",get:function(){return"MediaError"}}]),n}(On);function yy(t){Ow(t,"MEDIA_ERR_ABORTED",vy.ABORTED),Ow(t,"MEDIA_ERR_NETWORK",vy.NETWORK),Ow(t,"MEDIA_ERR_DECODE",vy.DECODE),Ow(t,"MEDIA_ERR_SRC_NOT_SUPPORTED",vy.SRC_NOT_SUPPORTED),Ow(t,"MEDIA_ERR_ENCRYPTED",vy.ENCRYPTED)}function my(t){var i,e;return function(t){return t.category===n.ErrorCategory.CONTENT_PROTECTION}(t)?new gy(vy.ENCRYPTED,t.message,null==(i=t.cause)?void 0:i.message,t.systemCode):new gy(function(t){if(t===n.ErrorCode.MEDIA_ABORTED)return vy.ABORTED;if(t===n.ErrorCode.MANIFEST_LOAD_ERROR||t===n.ErrorCode.MEDIA_LOAD_ERROR||t===n.ErrorCode.SUBTITLE_LOAD_ERROR)return vy.NETWORK;if(t===n.ErrorCode.MEDIA_DECODE_ERROR)return vy.DECODE;if(t===n.ErrorCode.MEDIA_NOT_SUPPORTED)return vy.SRC_NOT_SUPPORTED;var i=n.ErrorCategory.fromCode(t);if(i===n.ErrorCategory.NETWORK)return vy.NETWORK;if(i===n.ErrorCategory.SOURCE)return vy.SRC_NOT_SUPPORTED;if(i===n.ErrorCategory.LICENSE)return vy.LICENSE_INVALID;if(i===n.ErrorCategory.CONTENT_PROTECTION)return vy.ENCRYPTED;if(i===n.ErrorCategory.AD)return vy.ADVERTISEMENT_ERROR;return vy.DECODE}(t.code),t.message,null==(e=t.cause)?void 0:e.message)}yy(gy),yy(gy.prototype);var by,py=function(t){function n(){return t.apply(this,arguments)||this}vt(n,t);var i=n.prototype;return i.ol=function(n){return t.prototype.ol.call(this,n)},i.xd=function(){return Xw(this)},n}(Ew);!function(t){t.sv="audio",t.ov="video",t.ri="text",t.cv="image",t.Xh="unknown"}(by||(by={}));var _y=function(){function t(){this.Fg=[],this.Ad=void 0}var n=t.prototype;return n.Ug=function(t){this.Fg.push(t),this.Ad&&this.Ad.push(t.Pd)},n.sl=function(t){return this.Fg[t]},n.Vg=function(t){return Nt(t)?function(t,n){for(var i=0;i<n.length;i++)if(!fu(t,n[i]))return!1;return!0}(this.Fg,t):fu(this.Fg,t)},ft(t,[{key:"hl",get:function(){return this.Fg}},{key:"vl",get:function(){return this.Fg.length}},{key:"Pd",get:function(){var t,n;return this.Ad||(this.Ad=((n=(t=this).hl.map(function(t){return t.Pd})).item=function(n){var i=0|n,e=t.sl(i);return e&&e.Pd||void 0},n)),this.Ad}}]),t}(),ky=function(t){function n(n){var i;return(i=t.call(this,mw.Qd)||this).Ld=n,i}return vt(n,t),n.prototype.xd=function(){return new Ty(this.Ld.Pd)},n}(bw),Ty=function(t){function n(n){var i;return(i=t.call(this,"update")||this).track=n,i}return vt(n,t),n}(pw),Sy=0;function Ey(){return Sy++}var Ry=0;var Iy=0;var Dy=0;var Ny=function(t){function n(n){var i;return(i=t.call(this)||this).gr=by.sv,i.Wg=void 0,i.jo=void 0,i.zg=void 0,i.qg=void 0,i.Hg=!1,i.Fg=void 0,i.Ad=void 0,i.Wg=n,i.qg=Ey(),i.jo=Dy+++"",i.zg=n.label,i.Fg=new _y,i.jg(),i}vt(n,t);var i=n.prototype;return i.$g=function(t){this._l=t},i.jg=function(){this._l=this.Xg},ft(n,[{key:"pl",get:function(){}},{key:"_l",get:function(){return this.Hg},set:function(t){this.Hg!==t&&(this.Hg=t,this.Xg=t,this.Yr(new Rw(this)))}},{key:"Xg",get:function(){return this.Wg.enabled},set:function(t){this.Wg.enabled=t}},{key:"Pd",get:function(){return this.Ad||(this.Ad=jw(this)),this.Ad}},{key:"kl",get:function(){return this.jo}},{key:"Tl",get:function(){return this.qg}},{key:"Sl",get:function(){return this.Wg.kind}},{key:"El",get:function(){return this.zg},set:function(t){t!==this.zg&&(this.zg=t,this.Yr(new ky(this)))}},{key:"Rl",get:function(){return this.Wg.language}},{key:"Cl",get:function(){return this._l?"enabled":"disabled"}},{key:"Gg",get:function(){return this.Wg}},{key:"Il",get:function(){return this.Fg}},{key:"Dl",get:function(){},set:function(t){}}]),n}(Du),Oy=0;var Cy,Ay,Py,xy,Ly=function(t){function n(n){var i;return(i=t.call(this)||this).gr=by.ov,i.Wg=void 0,i.jo=void 0,i.qg=void 0,i.Hg=!1,i.Fg=void 0,i.zg=void 0,i.Ad=void 0,i.Wg=n,i.qg=Ey(),i.jo=Oy+++"",i.Fg=new _y,i.zg=n.label,i.jg(),i}vt(n,t);var i=n.prototype;return i.jg=function(){this._l=this.Xg},i.$g=function(t){this._l=t},ft(n,[{key:"pl",get:function(){}},{key:"_l",get:function(){return this.Hg},set:function(t){this.Hg!==t&&(this.Hg=t,this.Xg=t,this.Yr(new Rw(this)))}},{key:"Xg",get:function(){return!!this.Wg.selected},set:function(t){this.Wg.selected=t}},{key:"Pd",get:function(){return this.Ad||(this.Ad=jw(this)),this.Ad}},{key:"kl",get:function(){return this.jo}},{key:"Tl",get:function(){return this.qg}},{key:"Sl",get:function(){return"main"}},{key:"El",get:function(){return this.zg},set:function(t){t!==this.zg&&(this.zg=t,this.Yr(new ky(this)))}},{key:"Rl",get:function(){return this.Wg.language}},{key:"Cl",get:function(){return this._l?"enabled":"disabled"}},{key:"Gg",get:function(){return this.Wg}},{key:"Il",get:function(){return this.Fg}},{key:"Dl",get:function(){},set:function(t){}}]),n}(Du),By=function(t){function n(n){var i;return(i=t.call(this,Jc.ha)||this).Eg=n,i}return vt(n,t),n}(Ou);!function(t){t[t.NONE=0]="NONE",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t[t.ERROR=3]="ERROR"}(Cy||(Cy={})),function(t){t.DEFAULT="",t.SRT="srt",t.TTML="ttml",t.WEBVTT="webvtt",t.EMSG="emsg",t.EVENT_STREAM="eventstream",t.ID3="id3",t.CEA608="cea608",t.DATE_RANGE="daterange"}(Ay||(Ay={})),function(t){t.Yg="cue",t.Kg="region",t.Jg="stylesheet"}(Py||(Py={})),function(t){t.Qg="Zg",t.ty="ny",t.Qd="sc"}(xy||(xy={}));var My=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).iy=i,e}return vt(n,t),n}(bw),Fy=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).cue=i,e}return vt(n,t),n}(pw);function Uy(t){var n,i=[xy.Qg,xy.ty,xy.Qd],e={get track(){return t.Ld.Pd},get id(){return t.kl},get uid(){return t.Tl},get startTime(){return t.ey},get endTime(){return t.uy},get content(){return t.sy},addEventListener:function(t,i){var e=Ww(t,Uw);n.Kr(e,i)},removeEventListener:function(t,i){var e=Ww(t,Uw);n.tu(e,i)}};return n=new Nu(e),t.Kr(i,function(t){return n.Yr(t.Pd)}),e}function Vy(){}var Wy=function(t){function n(n){return t.call(this,xy.Qd,n)||this}return vt(n,t),n.prototype.xd=function(){return new zy(this.iy.Pd)},n}(My),zy=function(t){function n(n){return t.call(this,"update",n)||this}return vt(n,t),n}(Fy),qy=.02;var Hy=function(t){function n(n,i,e,r,u){var s;return(s=t.call(this)||this).qg=void 0,s.jo=void 0,s.oy=void 0,s.ay=void 0,s.Ad=void 0,s.hy=void 0,s.vy=!1,s.ly=void 0,s.wy=void 0,s.gy=-1,s.qg=Iy++,s.oy=n,s.ay=i,s.ly=e,s.wy=Boolean(r),s.jo=null!=u?u:"",s}vt(n,t);var i=n.prototype;return i.xd=function(){return Uy(this)},i.yy=function(t){return this===t||xw(this,t)&&(i=t,Tn((n=this).ey,i.ey,qy)&&Tn(n.uy,i.uy,qy)&&n.kl===i.kl);var n,i},i.et=function(){this.Zr()},ft(n,[{key:"ey",get:function(){return this.oy},set:function(t){this.oy!==t&&(this.oy=t,this.Yr(new Wy(this)))}},{key:"uy",get:function(){return this.ay},set:function(t){this.ay!==t&&(this.ay=t,this.Yr(new Wy(this)))}},{key:"kl",get:function(){return this.jo}},{key:"Tl",get:function(){return this.qg}},{key:"Pd",get:function(){return this.Ad||(this.Ad=this.xd()),this.Ad}},{key:"my",get:function(){return this.vy},set:function(t){this.vy=t}},{key:"Ld",get:function(){return this.hy},set:function(t){this.hy=t}},{key:"sy",get:function(){return this.ly},set:function(t){this.ly!==t&&(this.ly=t,this.Yr(new Wy(this)))}},{key:"by",get:function(){return this.wy},set:function(t){this.wy=t}}]),n}(Du);var jy=function(t){function n(n,i,e,r,u){var s;return(s=t.call(this,n,i,e,r,u)||this).py="auto",s._y="start",s.ky="auto",s.Ty="auto",s.Sy=void 0,s.Ey=!0,s.ku=100,s.Ry="center",s.Iy="",s}return vt(n,t),n.prototype.yy=function(n){return this===n||xw(this,n)&&t.prototype.yy.call(this,n)&&(e=n,(i=this).sy===e.sy&&i.py===e.py&&i._y===e._y&&i.ky===e.ky&&i.Ty===e.Ty&&i.Sy===e.Sy&&i.Ey===e.Ey&&i.ku===e.ku&&i.Ry===e.Ry&&i.Iy===e.Iy);var i,e},ft(n,[{key:"Pd",get:function(){var t;return this.Ad||(this.Ad=Cw(Uy(t=this),{get align(){return t.Ry},get line(){return t.py},get lineAlign(){return t._y},get position(){return t.ky},get positionAlign(){return t.Ty},get region(){return t.Sy?t.Sy.Pd:null},get size(){return t.ku},get snapToLines(){return t.Ey},get text(){return t.sy},get vertical(){return t.Iy}})),this.Ad}},{key:"gr",get:function(){return Py.Yg}}]),n}(Hy);var $y=function(){function t(t,n,i,e,r,u,s,o){this.Ad=void 0,this.kl=t,this.Dy=n,this.Ny=i,this.Oy=e,this.Cy=r,this.Ay=u,this.Py=s,this.xy=o}return ft(t,[{key:"Pd",get:function(){var t;return this.Ad||(this.Ad=(t=this,{get id(){return t.kl},get identifier(){return t.kl},get lines(){return t.Ny},get regionAnchorX(){return t.Oy},get regionAnchorY(){return t.Cy},get scrollValue(){return t.xy},get viewportAnchorX(){return t.Ay},get viewportAnchorY(){return t.Py},get width(){return t.Dy}})),this.Ad}},{key:"gr",get:function(){return Py.Kg}}]),t}(),Xy=function(){function t(){}var n=t.prototype;return n.Ly=function(t){return this.By()*t},n.My=function(t){return this.Fy(t)>0},n.Uy=function(t){return this.Fy(t)>=0},n.Vy=function(t,n){return this.zy(t).Wy(n)},n.yy=function(t){return 0===this.Fy(t)},n.qy=function(t){return this.Fy(t)<0},n.Wy=function(t){return this.Fy(t)<=0},n.Hy=function(){return this.jy()?this.$y():this},n.Xy=function(t){return this.Ug(t.$y())},n.zy=function(t){return this.Xy(t).Hy()},t}();function Gy(t,n){return t.Gy()?n.Gy()?Zr.Ir:Zr.Dr:n.Gy()?Zr.Nr:t.Yy()?n.Yy()&&t.jy()===n.jy()?Zr.Ir:t.jy()?Zr.Nr:Zr.Dr:n.jy()?Zr.Dr:Zr.Nr}var Yy=function(){function t(t,n){this.Ky=void 0,this.Jy=void 0,this.Ky=t,this.Jy=n}t.Qy=function(n,i,e){return e?new t(n.toUnsigned(),i.toUnsigned()):new t(n.toSigned(),i.toSigned())},t.Zy=function(n){return n.unsigned?new t(n,Kt.UZERO):new t(n,n.isNegative()?Kt.NEG_ONE:Kt.ZERO)},t.tm=function(n,i){if(g(n))return i?t.nm:t.im;if(i){if(n<0)return t.nm;if(n>=3.402823669209385e38)return t.rm}else{if(n<=-1.7014118346046923e38)return t.um;if(n+1>=1.7014118346046923e38)return t.sm}return n<0?t.tm(-n,i).$y():t.Qy(Kt.fromNumber(n%0x10000000000000000),Kt.fromNumber(n/0x10000000000000000),i)};var n=t.prototype;return n.om=function(){return this.Jy.unsigned},n.cm=function(){return this.Ky.isZero()&&this.Jy.isZero()},n.jy=function(){return this.Jy.isNegative()},n.am=function(){return this.om()?t.Qy(this.Ky,this.Jy,!1):this},n.fm=function(){return this.om()?this:t.Qy(this.Ky,this.Jy,!0)},n.hm=function(){return this.Ky},n.By=function(){return this.jy()?-this.$y().By():0x10000000000000000*this.Jy.toNumber()+this.Ky.toUnsigned().toNumber()},n.vm=function(){return this.Ky.toInt()},n.yy=function(t){return(this.om()===t.om()||this.Jy.getHighBits()>>>31!=1||t.Jy.getHighBits()>>>31!=1)&&(this.Jy.toUnsigned().eq(t.Jy.toUnsigned())&&this.Ky.toUnsigned().eq(t.Ky.toUnsigned()))},n.Fy=function(t){if(this.yy(t))return Zr.Ir;var n=this.jy(),i=t.jy();if(n&&!i)return Zr.Nr;if(!n&&i)return Zr.Dr;if(!this.om())return this.Xy(t).jy()?Zr.Nr:Zr.Dr;var e=this.fm(),r=t.fm(),u=r.Jy.comp(e.Jy);return u>0||0===u&&r.Ky.gt(e.Ky)?Zr.Nr:Zr.Dr},n.qy=function(t){return this.Fy(t)<0},n.Wy=function(t){return this.Fy(t)<=0},n.dm=function(t){return this.Fy(t)>0},n.lm=function(t){return this.Fy(t)>=0},n.wm=function(){return new t(this.Ky.not(),this.Jy.not())},n.gm=function(n){return new t(this.Ky.and(n.Ky),this.Jy.and(n.Jy))},n.ym=function(n){return new t(this.Ky.or(n.Ky),this.Jy.or(n.Jy))},n.mm=function(n){var i=127&n;return 0===i?this:i<64?t.Qy(this.Ky.shl(i),this.Jy.shl(i).or(this.Ky.shru(64-i)),this.om()):t.Qy(Kt.ZERO,this.Ky.shl(i-64),this.om())},n.bm=function(n){var i=127&n;return 0===i?this:i<64?t.Qy(this.Ky.shru(i).or(this.Jy.shl(64-i)),this.Jy.shr(i),this.om()):t.Qy(this.Jy.shr(i-64),this.Jy.isNegative()?Kt.NEG_ONE:Kt.ZERO,this.om())},n.pm=function(n){var i=127&n;return 0===i?this:i<64?t.Qy(this.Ky.shru(i).or(this.Jy.shl(64-i)),this.Jy.shru(i),this.om()):64===i?t.Qy(this.Jy,Kt.ZERO,this.om()):t.Qy(this.Jy.shru(i-64),Kt.ZERO,this.om())},n.Ug=function(n){var i=this.Jy.high>>>16,e=65535&this.Jy.high,r=this.Jy.low>>>16,u=65535&this.Jy.low,s=this.Ky.high>>>16,o=65535&this.Ky.high,c=this.Ky.low>>>16,a=65535&this.Ky.low,f=n.Jy.high>>>16,h=65535&n.Jy.high,v=n.Jy.low>>>16,d=65535&n.Jy.low,l=n.Ky.high>>>16,w=65535&n.Ky.high,g=n.Ky.low>>>16,y=0,m=0,b=0,p=0,_=0,k=0,T=0,S=0;T+=(S+=a+(65535&n.Ky.low))>>>16,S&=65535,k+=(T+=c+g)>>>16,T&=65535,_+=(k+=o+w)>>>16,k&=65535,p+=(_+=s+l)>>>16,_&=65535,b+=(p+=u+d)>>>16,p&=65535,m+=(b+=r+v)>>>16,b&=65535,y+=(m+=e+h)>>>16,m&=65535,y+=i+f,y&=65535;var E=this.om(),R=Kt.fromBits(b<<16|p,y<<16|m,E),I=Kt.fromBits(T<<16|S,_<<16|k,E);return t.Qy(I,R,E)},n.Xy=function(t){return this.Ug(t.$y())},n.$y=function(){return this.wm().Ug(t._m)},n.km=function(n){if(this.cm()||n.cm())return this.om()?t.nm:t.im;if(this.jy())return n.jy()?this.$y().km(n.$y()):this.$y().km(n).$y();if(n.jy())return this.km(n.$y()).$y();if(this.Jy.isZero()&&0===this.Ky.high&&n.Jy.isZero()&&0===n.Ky.high)return t.Zy(this.Ky.multiply(n.Ky));var i=Kt.fromBits(4294967295,0,!0),e=this.Ky.and(i),r=this.Ky.shru(32),u=this.Jy.and(i),s=this.Jy.shru(32),o=n.Ky.and(i),c=n.Ky.shru(32),a=n.Jy.and(i),f=n.Jy.shru(32),h=Kt.UZERO,v=Kt.UZERO,d=Kt.UZERO,l=Kt.UZERO;h=h.add(e.mul(o)),v=v.add(h.shru(32)),h=h.and(i),v=v.add(r.mul(o)),d=d.add(v.shru(32)),v=(v=v.and(i)).add(e.mul(c)),d=d.add(v.shru(32)),v=v.and(i),d=d.add(u.mul(o)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(r.mul(c)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(e.mul(a)),l=l.add(d.shru(32)),d=d.and(i),l=l.add(s.mul(o)).add(u.mul(c)).add(r.mul(a)).add(e.mul(f)).and(i);var w=Kt.fromBits(h.getLowBitsUnsigned(),v.getLowBitsUnsigned(),!0),g=Kt.fromBits(d.getLowBitsUnsigned(),l.getLowBitsUnsigned(),!0);return t.Qy(w,g,this.om())},n.Tm=function(n){var i,e,r=n;if(r.cm())throw new RangeError("division by zero");if(this.cm())return this.om()?[t.nm,t.nm]:[t.im,t.im];if(this.om()){if(r.om()||(r=r.fm()),r.dm(this))return[t.nm,this];if(r.dm(this.pm(1)))return[e=t.Sm,i=this.Xy(r)];e=t.nm}else{if(this.yy(t.um)){if(r.yy(t._m)||r.yy(t.Em))return[t.um,t.im];if(r.yy(t.um))return[t._m,t.im];var u=this.bm(1).Rm(r).mm(1);return u.yy(t.im)?e=r.jy()?t._m:t.Em:(i=this.Xy(r.km(u)),e=u.Ug(i.Rm(r))),[e,i=this.Xy(r.km(e))]}if(r.yy(t.um))return this.om()?[t.nm,this]:[t.im,this];if(this.jy()){if(r.jy())return this.$y().Tm(r.$y());var s=this.$y().Tm(r);return e=s[0],i=s[1],[e.$y(),i.$y()]}if(r.jy()){var o=this.Tm(r.$y());return e=o[0],i=o[1],[e.$y(),i.$y()]}e=t.im}for(i=this;i.lm(r);){for(var c=d.max(1,d.floor(i.By()/r.By())),a=d.ceil(d.log(c)/d.LN2),f=a<=48?1:d.pow(2,a-48),h=t.tm(c),v=h.km(r);v.jy()||v.dm(i);)c-=f,v=(h=t.tm(c,this.om())).km(r);h.cm()&&(h=t._m),e=e.Ug(h),i=i.Xy(v)}return[e,i]},n.Rm=function(t){return this.Tm(t)[0]},n.Im=function(t){return this.Tm(t)[1]},n.toString=function(n){var i=n||10;if(i<2||i>36)throw new RangeError("radix");if(this.cm())return"0";if(this.jy()){if(this.yy(t.um)){var e=t.tm(i),r=this.Rm(e),u=r.km(e).Xy(this);return r.toString(i)+u.vm().toString(i)}return"-"+this.$y().toString(i)}for(var s=t.tm(d.pow(i,6),this.om()),o=this,c="";;){var a=o.Rm(s),f=(o.Xy(a.km(s)).vm()>>>0).toString(i);if((o=a).cm())return f+c;for(;f.length<6;)f="0"+f;c=String(f)+c}},t}();Yy.im=Yy.Zy(Kt.ZERO),Yy.nm=Yy.Zy(Kt.UZERO),Yy._m=Yy.Zy(Kt.ONE),Yy.Sm=Yy.Zy(Kt.UONE),Yy.Em=Yy.Zy(Kt.NEG_ONE),Yy.sm=Yy.Qy(Kt.NEG_ONE,Kt.MAX_VALUE,!1),Yy.rm=Yy.Qy(Kt.MAX_UNSIGNED_VALUE,Kt.MAX_UNSIGNED_VALUE,!0),Yy.um=Yy.Qy(Kt.ZERO,Kt.MIN_VALUE,!1);var Ky=function(){function t(t,n){void 0===n&&(n=1),this.Dm=void 0,this.Nm=void 0,this.Dm=t,this.Nm=n}t.Om=function(n){return new t(d.ceil(n.Dm),n.Nm)},t.Cm=function(n){return new t(d.floor(n.Dm),n.Nm)},t.Am=function(t,n){return t.Uy(n)?t:n},t.Pm=function(t,n){return t.Wy(n)?t:n};var n=t.prototype;return n.Ug=function(n){return this.Nm>=n.Nm?new t(this.Dm+n.xm(this.Nm).Dm,this.Nm):new t(this.xm(n.Nm).Dm+n.Dm,n.Nm)},n.My=function(t){return t.qy(this)},n.Uy=function(t){return t.Wy(this)},n.zy=function(n){return this.Nm>=n.Nm?new t(d.abs(this.Dm-n.xm(this.Nm).Dm),this.Nm):n.zy(this)},n.Vy=function(t,n){return this.zy(t).Wy(n)},n.Fy=function(t){return i=t,(n=this).Nm>=i.Nm?su(n.Dm,i.xm(n.Nm).Dm):su(n.xm(i.Nm).Dm,i.Dm);var n,i},n.yy=function(t){return 0===this.Fy(t)},n.qy=function(t){return this.Fy(t)<0},n.Wy=function(t){return this.Fy(t)<=0},n.xm=function(n){return new t(this.Dm*(n/this.Nm),n)},n.Xy=function(n){return this.Nm>=n.Nm?new t(this.Dm-n.xm(this.Nm).Dm,this.Nm):new t(this.xm(n.Nm).Dm-n.Dm,n.Nm)},n.Lm=function(n){return new t(this.Dm*n,this.Nm)},ft(t,[{key:"Yy",get:function(){return!isFinite(this.Dm)}},{key:"Bm",get:function(){return this.Dm/this.Nm}}]),t}();Ky.Mm=new Ky(1/6,1),Ky.im=new Ky(0),Ky.Fm=new Ky(1/0),Ky.Um=1e6;var Jy=function(t){function n(n,i){var e;return(e=t.call(this)||this).wi=void 0,e.Nm=void 0,e.wi=n.toSigned(),e.Nm=i>>>0,e}vt(n,t),n.Vm=function(t,i){return void 0===i&&(i=1e6),n.tm(t*i,i)},n.tm=function(t,i){return g(t)?n.Wm:t===1/0?n.zm:t===-1/0?n.qm:new n(Kt.fromNumber(t),i)},n.Zy=function(t,i){return new n(t,i)},n.Hm=function(t){return n.Vm(t.Bm,1e6)},n.jm=function(t){return new n(Kt.fromNumber(t.getTime()),1e3)},n.Am=function(t,n){return t.Uy(n)?t:n},n.Pm=function(t,n){return t.Wy(n)?t:n},n.$m=function(t,i,e){return n.Am(i,n.Pm(e,t))};var i=n.prototype;return i.jy=function(){return this.wi.isNegative()},i.cm=function(){return 0!==this.Nm&&this.wi.isZero()},i.Yy=function(){return 0===this.Nm&&!this.wi.isZero()},i.Gy=function(){return 0===this.Nm&&this.wi.isZero()},i.By=function(){if(0===this.Nm)return this.wi.isZero()?NaN:this.wi.isNegative()?-1/0:1/0;var t=this.wi.divide(this.Nm),n=this.wi.subtract(t.multiply(this.Nm));return t.toNumber()+n.toNumber()/this.Nm},i.hm=function(){if(0===this.Nm)throw new f("Failed to convert timestamp");return this.wi},i.Xm=function(){return new Date(0===this.Nm?NaN:this.xm(1e3).wi.toNumber())},i.Gm=function(){return new Ky(0===this.Nm?this.By():this.wi.toNumber(),this.Nm)},i.xm=function(t,i){void 0===i&&(i=tm.Ym);var e=this.Nm;if(e===t)return this;if(0===e)return this;var r=Sn(e,t);return new n(function(t,n,i){var e=t.Tm(n),r=e[0],u=e[1];if(u.cm())return r;if(i===tm.Ym)return u.jy()?r.Xy(Yy._m):r;if(i===tm.Km)return u.jy()?r:r.Ug(Yy._m);var s=u.km(Yy.tm(2));return s.jy()?s.$y().qy(n)?r:r.Xy(Yy._m):s.qy(n)?r:r.Ug(Yy._m)}(Yy.Zy(this.wi).km(Yy.tm(t/r)),Yy.tm(e/r),i).hm(),t)},i.Fy=function(t){if(this===t)return Zr.Ir;if(0===this.Nm||0===t.Nm)return Gy(this,t);if(this.cm())return t.cm()?Zr.Ir:t.jy()?Zr.Dr:Zr.Nr;if(t.cm())return this.jy()?Zr.Nr:Zr.Dr;var n=d.min(this.Nm,t.Nm),i=this.xm(n,tm.Jm).wi,e=t.xm(n,tm.Jm).wi;return i.compare(e)},i.$y=function(){return 0===this.Nm?Qy(this):new n(this.wi.negate(),this.Nm)},i.Ug=function(t){if(0===this.Nm||0===t.Nm)return Zy(this,t);if(this.cm())return t;if(t.cm())return this;var i=d.max(this.Nm,t.Nm),e=this.xm(i,tm.Jm),r=t.xm(i,tm.Jm);return new n(e.wi.add(r.wi),i)},i.km=function(t){if(this.Gy()||g(t))return n.Wm;if(this.Yy()||!isFinite(t)){if(this.cm()||0===t)return n.Wm;var i=this.jy()?n.qm:n.zm;return t<0?i.$y():i}return this.cm()?this:new n(0===t?Kt.ZERO:this.wi.multiply(t),this.Nm)},i.Rm=function(t){if(this.Gy()||g(t))return n.Wm;if(this.Yy())return isFinite(t)?0===t?1/t<0?this.$y():this:t<0?this.$y():this:n.Wm;if(!isFinite(t))return new n(Kt.ZERO,this.Nm);if(this.cm())return 0===t?n.Wm:new n(Kt.ZERO,this.Nm);if(0===t){var i=this.jy()?n.qm:n.zm;return 1/t<0?i.$y():i}return new n(this.wi.divide(t),this.Nm)},i.Qm=function(){return[this.wi.low,this.wi.high,this.Nm]},n}(Xy);function Qy(t){return t.Gy()?t:t.jy()?Jy.zm:Jy.qm}function Zy(t,n){return t.Gy()||n.Gy()?Jy.Wm:t.Yy()&&n.Yy()?t.jy()===n.jy()?t:Jy.Wm:t.Yy()?t:n}Jy.im=new Jy(Kt.ZERO,1e6),Jy.Wm=new Jy(Kt.ZERO,0),Jy.zm=new Jy(Kt.ONE,0),Jy.qm=new Jy(Kt.NEG_ONE,0);var tm,nm=function(t){function n(n,i){var e;return(e=t.call(this)||this).wi=void 0,e.Nm=void 0,e.wi=BigInt.asIntN(64,n),e.Nm=i>>>0,e}vt(n,t),n.Vm=function(t,i){return void 0===i&&(i=1e6),n.tm(t*i,i)},n.tm=function(t,i){return g(t)?n.Wm:t===1/0?n.zm:t===-1/0?n.qm:new n(BigInt(d.floor(t)),i)},n.Zy=function(t,i){return new n(BigInt(t.high)<<BigInt(32)|BigInt(t.low>>>0),i)},n.Hm=function(t){return n.Vm(t.Bm,1e6)},n.jm=function(t){return n.tm(t.getTime(),1e3)},n.Am=function(t,n){return t.Uy(n)?t:n},n.Pm=function(t,n){return t.Wy(n)?t:n},n.$m=function(t,i,e){return n.Am(i,n.Pm(e,t))};var i=n.prototype;return i.jy=function(){return this.wi<BigInt(0)},i.cm=function(){return 0!==this.Nm&&this.wi===BigInt(0)},i.Yy=function(){return 0===this.Nm&&this.wi!==BigInt(0)},i.Gy=function(){return 0===this.Nm&&this.wi===BigInt(0)},i.By=function(){if(0===this.Nm)return this.wi===BigInt(0)?NaN:this.wi<BigInt(0)?-1/0:1/0;var t=this.wi/BigInt(this.Nm),n=this.wi-t*BigInt(this.Nm);return Number(t)+Number(n)/this.Nm},i.hm=function(){if(0===this.Nm)throw new f("Failed to convert timestamp");return this.Zm()},i.Zm=function(){var t=this.wi&BigInt(4294967295),n=this.wi>>BigInt(32)&BigInt(4294967295);return Kt.fromBits(Number(t),Number(n))},i.Xm=function(){return new Date(0===this.Nm?NaN:Number(this.xm(1e3).wi))},i.Gm=function(){return new Ky(0===this.Nm?this.By():Number(this.wi),this.Nm)},i.xm=function(t,i){void 0===i&&(i=tm.Ym);var e=this.Nm;if(e===t)return this;if(0===e)return this;var r=Sn(e,t);return new n(function(t,n,i){var e=t/n,r=t-e*n;if(r===BigInt(0))return e;if(i===tm.Ym)return r<BigInt(0)?e-BigInt(1):e;if(i===tm.Km)return r<BigInt(0)?e:e+BigInt(1);var u=r*BigInt(2);return u<BigInt(0)?-u<n?e:e-BigInt(1):u<n?e:e+BigInt(1)}(this.wi*BigInt(t/r),BigInt(e/r),i),t)},i.Fy=function(t){if(this===t)return Zr.Ir;if(0===this.Nm||0===t.Nm)return Gy(this,t);if(this.cm())return t.cm()?Zr.Ir:t.jy()?Zr.Dr:Zr.Nr;if(t.cm())return this.jy()?Zr.Nr:Zr.Dr;var n=d.min(this.Nm,t.Nm),i=this.xm(n,tm.Jm).wi,e=t.xm(n,tm.Jm).wi;return i>e?Zr.Dr:i<e?Zr.Nr:Zr.Ir},i.$y=function(){return 0===this.Nm?im(this):new n(-this.wi,this.Nm)},i.Ug=function(t){if(0===this.Nm||0===t.Nm)return em(this,t);if(this.cm())return t;if(t.cm())return this;var i=d.max(this.Nm,t.Nm),e=this.xm(i,tm.Jm),r=t.xm(i,tm.Jm);return new n(e.wi+r.wi,i)},i.km=function(t){if(this.Gy()||g(t))return n.Wm;if(this.Yy()||!isFinite(t)){if(this.cm()||0===t)return n.Wm;var i=this.jy()?n.qm:n.zm;return t<0?i.$y():i}return this.cm()?this:new n(0===t?BigInt(0):this.wi*BigInt(t),this.Nm)},i.Rm=function(t){if(this.Gy()||g(t))return n.Wm;if(this.Yy())return isFinite(t)?0===t?1/t<0?this.$y():this:t<0?this.$y():this:n.Wm;if(!isFinite(t))return new n(BigInt(0),this.Nm);if(this.cm())return 0===t?n.Wm:new n(BigInt(0),this.Nm);if(0===t){var i=this.jy()?n.qm:n.zm;return 1/t<0?i.$y():i}return new n(this.wi/BigInt(t),this.Nm)},i.Qm=function(){var t=this.Zm();return[t.low,t.high,this.Nm]},ft(n,null,[{key:"im",get:function(){return n.nb||(n.nb=new n(BigInt(0),1e6)),n.nb}},{key:"Wm",get:function(){return n.ib||(n.ib=new n(BigInt(0),0)),n.ib}},{key:"zm",get:function(){return n.eb||(n.eb=new n(BigInt(1),0)),n.eb}},{key:"qm",get:function(){return n.ub||(n.ub=new n(BigInt(-1),0)),n.ub}}]),n}(Xy);function im(t){return t.Gy()?t:t.jy()?nm.zm:nm.qm}function em(t,n){return t.Gy()||n.Gy()?nm.Wm:t.Yy()&&n.Yy()?t.jy()===n.jy()?t:nm.Wm:t.Yy()?t:n}nm.nb=void 0,nm.ib=void 0,nm.eb=void 0,nm.ub=void 0,function(t){t[t.Ym=0]="Ym",t[t.Km=1]="Km",t[t.Jm=2]="Jm"}(tm||(tm={}));var rm=function(){try{return"function"==typeof BigInt&&"bigint"==typeof BigInt(0)}catch(t){return!1}}()?nm:Jy,um=9e4,sm=d.pow(2,33);rm.tm(sm,um).Rm(2);var om,cm,am,fm,hm={sb:0,ob:1/0,cb:0},vm=6,dm=["WEBVTT","WEBVTT ","WEBVTT\t","WEBVTT\n"],lm=[" ","\t","\n","\f","\r"],wm=/^\d*$/,gm=/.*[0-9]+.*/,ym=/^[\d.-]+$/,mm=/(^\.|\.$)/,bm=/(\D\.|\.\D)/;function pm(t,n){void 0===n&&(n=hm);var i={Fl:[],ab:[],fb:[]},e=_m(t),r=new Fs;if(Cm(e),km(e,function(t){return"\n"!==t},r),r.Iu>=e.length)return i;(r.Su(1),"\n"!==e.charAt(r.Iu))?Rm(Tm(e,r,!1,!0,i,n),i):r.Su(1);for(km(e,function(t){return"\n"===t},r);r.Iu<e.length;){Rm(Tm(e,r,!1,!1,i,n),i),km(e,function(t){return"\n"===t},r)}return i}function _m(t){var n=qr(t,"\0"," "),i=qr(n,"\r\n","\n");return qr(i,"\r","\n")}function km(t,n,i){for(var e=i.Iu;i.Iu<t.length&&n(t.charAt(i.Iu));)i.Su(1);return t.substring(e,i.Iu)}function Tm(t,n,i,e,r,u){for(var s,o=0,c=n.Iu,a="",f=!1,h=!1,v=null,d=null,l=null;!f;)if(s=km(t,function(t){return"\n"!==t},n),o++,n.Iu>=t.length?f=!0:n.Su(1),Hr(s,"--\x3e")){if(e||1!==o&&(2!==o||h)){n.Eu(c);break}h=!0,c=n.Iu,v=new jy(0,0,"",!1,a);try{Im(s,r.ab,v,u),a=""}catch(t){st.Ie(t),v=null}}else{if(""===s)break;e&&jr(s,"X-TIMESTAMP-MAP")&&(r.hb=Sm(s)),e||2!==o||i||(Xr("STYLE",a.replace(/ /g,""))?(d={gr:Py.Jg},a=""):Xr("REGION",a.replace(/ /g,""))&&(l=new $y("",100,3,0,100,0,100,""),a="")),a&&(a+="\n"),a+=s,c=n.Iu}if(v)return v.sy=a,v;if(d);else if(l)return function(t,n){for(var i=t.split(/\s/),e=0;e<i.length;e++){var r=i[e];if(0!==r.length&&Hr(r,":")&&":"!==r.charAt(0)&&":"!==r.charAt(r.length-1)){var u=r.indexOf(":"),s=r.substring(0,u),o=r.substring(u+1,r.length);switch(s.toUpperCase()){case"ID":zm(o,n);break;case"WIDTH":jm(o,n);break;case"LINES":Hm(o,n);break;case"REGIONANCHOR":var c=Wm(o);c&&(n.Oy=c[0],n.Cy=c[1]);break;case"VIEWPORTANCHOR":var a=Wm(o);a&&(n.Ay=a[0],n.Py=a[1]);break;case"SCROLL":qm(o,n)}}}}(a,l),l;return null}function Sm(t){var n,i,e=t.split("=")[1].trim().split(","),r=Em(e[0].trim(),"MPEGTS")?e[0]:e[1],u=Em(e[0].trim(),"LOCAL")?e[0]:e[1];return{vb:(i=Number(r.split(/:(.*)/)[1].trim())||0,rm.tm(i,um)),lb:rm.Vm(null!=(n=Om(u.split(/:(.*)/)[1].trim(),new Fs))?n:0)}}function Em(t,n){return jr(t,n)}function Rm(t,n){t&&function(t){return t.gr===Py.Yg}(t)?n.Fl.push(t):t&&function(t){return t.gr===Py.Kg}(t)?n.ab.push(t):t&&function(t){return t.gr===Py.Jg}(t)&&n.fb.push(t)}function Im(t,n,i,e){var r=new Fs;if(Am(t,r),i.ey=Dm(Om(t,r),e),Am(t,r),"--\x3e"!==t.substring(r.Iu,r.Iu+3))throw f("Something went wrong with parsing a WebVTT Cue");r.Su(3),Am(t,r),i.uy=Dm(Om(t,r),e),function(t,n,i){for(var e=t.split(/\s/),r=0;r<e.length;r++){var u=e[r];if(0!==u.length&&Hr(u,":")&&":"!==u.charAt(0)&&":"!==u.charAt(u.length-1)){var s=u.indexOf(":"),o=u.substring(0,s),c=u.substring(s+1,u.length);switch(o.toUpperCase()){case"REGION":Mm(c,n,i);break;case"VERTICAL":Um(c,n);break;case"D":Vm(c,n);break;case"LINE":case"L":Lm(c,n);break;case"POSITION":case"T":Bm(c,n);break;case"SIZE":case"S":Fm(c,n);break;case"ALIGN":case"A":xm(c,n)}}}}(t.substring(r.Iu,t.length),i,n)}function Dm(t,n){return t+n.sb}function Nm(t){return/^[0-9]$/.test(t)}function Om(t,n){var i,e,r,u=qr(t,",","."),s=!1;if(n.Iu>=u.length||!Nm(u.charAt(n.Iu)))throw new f("Something went wrong with parsing a WebVTT Cue timestamp");var o=km(u,Nm,n),c=l(o,10);if((o.length>2||c>59)&&(s=!0),n.Iu>=u.length||":"!==u.charAt(n.Iu))throw new f("Something went wrong with parsing a WebVTT Cue timestamp");n.Su(1);var a=km(u,Nm,n);if(2!==a.length)throw new f("Something went wrong with parsing a WebVTT Cue timestamp");var h=l(a,10);if(s||n.Iu<u.length&&":"===u.charAt(n.Iu)){if(n.Iu>=u.length||":"!==u.charAt(n.Iu))throw new f("Something went wrong with parsing a WebVTT Cue timestamp");n.Su(1);var v=km(u,Nm,n);if(2!==a.length)throw new f("Something went wrong with parsing a WebVTT Cue timestamp");i=c,e=h,r=l(v,10)}else i=0,e=c,r=h;if(n.Iu>=u.length||"."!==u.charAt(n.Iu))throw new f("Something went wrong with parsing a WebVTT Cue timestamp");n.Su(1);var d=km(u,Nm,n),w=l(d,10);if(h>59||r>59)throw new f("Something went wrong with parsing a WebVTT Cue timestamp");return 60*i*60+60*e+r+w/1e3}function Cm(t){if(t.length<vm)return!1;for(var n=0;n<dm.length;n++){if(jr(t,dm[n]))return!0}return!1}function Am(t,n){for(;n.Iu<t.length&&(i=t.charAt(n.Iu),fu(lm,i));)n.Su(1);var i}function Pm(t){var n=t.lastIndexOf("%");if(n>-1){var i=w(t.substring(0,n));if(!g(i)&&i>=0&&i<=100)return i}return null}function xm(t,n){var i=t.toLowerCase();switch(i){case"start":case"center":case"end":case"left":case"right":n.Ry=i;break;case"middle":n.Ry="center"}}function Lm(t,n){var i,e,r=t.indexOf(",");if(r>=0?(i=t.substring(0,r),e=t.substring(r+1,t.length)):(i=t,e=""),gm.test(i)){var u,s;if($r(i,"%")){var o=Pm(i);if(null===o)return;u=o,s=!1}else{if(!ym.test(i)||i.lastIndexOf("-")>0)return;var c=i.indexOf(".");if(c>=0&&(c!==i.lastIndexOf(".")||!bm.test(i)||mm.test(i)))return;if(u=w(i),g(u))return;s=!0}switch(n.py=u,n.Ey=s,e=e.toLowerCase()){case"start":case"center":case"end":n._y=e;break;case"middle":n._y="center"}}}function Bm(t,n){var i,e,r=t.indexOf(",");r>=0?(i=t.substring(0,r),e=t.substring(r+1,t.length)):(i=t,e="");var u=Pm(i);if(null!==u)switch(n.ky=u,e=e.toLowerCase()){case"line-left":case"center":case"line-right":case"auto":n.Ty=e;break;case"start":n.Ty="line-left";break;case"middle":n.Ty="center";break;case"end":n.Ty="line-right"}}function Mm(t,n,i){var e,r,u,s=-1===(u=function(t,n,i){for(var e=t.length-1;e>=0;e-=1){var r=t[e];if(n.call(i,r,e,t))return e}return-1}(e=i,function(n){return n.kl===t},r))?void 0:e[u];void 0!==s&&(n.Sy=s)}function Fm(t,n){var i=Pm(t);null!==i&&(n.ku=i)}function Um(t,n){switch(t.toLowerCase()){case"rl":case"vertical:rl":case"vertical-rl":n.Iy="rl";break;case"lr":case"vertical:lr":case"vertical-lr":n.Iy="lr";break;default:n.Iy=""}}function Vm(t,n){"VERTICAL"===t.toUpperCase()?n.Iy="rl":"VERTICAL-LR"===t.toUpperCase()&&(n.Iy="lr")}function Wm(t){if(t.indexOf(",")>=0){var n=Pm(t.substring(0,t.indexOf(","))),i=Pm(t.substring(t.indexOf(",")+1,t.length));return[kn(n||0,0,100),kn(i||100,0,100)]}return null}function zm(t,n){n.kl=t}function qm(t,n){"up"===t.toLowerCase()&&(n.xy="up")}function Hm(t,n){wm.test(t)&&(n.Ny=l(t))}function jm(t,n){var i=Pm(t);null!==i&&(n.Dy=i)}!function(t){t.wb="moov",t.gb="mvhd",t.yb="trak",t.mb="tkhd",t.bb="mdia",t.pb="mdhd",t._b="hdlr",t.kb="minf",t.Tb="stbl",t.Sb="stsd",t.Eb="stsc",t.Rb="mvex",t.Ib="trex",t.Db="avc1",t.Nb="avcC",t.Ob="hev1",t.Cb="hvc1",t.Ab="hvcC",t.Pb="pasp",t.xb="mp4a",t.Lb="esds",t.Bb="wvtt",t.Mb="vttC",t.Fb="vlab",t.Ub="enca",t.Vb="encv",t.Wb="moof",t.zb="mfhd",t.qb="traf",t.Hb="tfhd",t.jb="trun",t.$b="tfdt",t.Xb="senc",t.Gb="mdat",t.Yb="pssh",t.Kb="emsg",t.Jb="sidx",t.Qb="styp",t.Zb="ftyp",t.tp="sinf",t.np="frma"}(om||(om={})),function(t){t.ov="vide",t.sv="soun",t.ip="subt",t.ep="hint",t.rp="meta",t.sp="auxv"}(cm||(cm={})),function(t){t[t.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",t[t.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",t[t.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",t[t.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",t[t.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT",t[t.DURATION_IS_EMPTY=32]="DURATION_IS_EMPTY",t[t.DEFAULT_BASE_IS_MOOF=131072]="DEFAULT_BASE_IS_MOOF"}(am||(am={})),function(t){t[t.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",t[t.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",t[t.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",t[t.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT=2048]="SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT"}(fm||(fm={}));var $m=function(){function t(t,n){this.Pi=void 0,this.op=void 0,this.Pi=t,this.op=n}var n=t.prototype;return n.cp=function(){return cs(this.Pi,this.op)},n.ap=function(){return vs(this.Pi,this.op)},n.fp=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt16(n.Iu,i);return n.Su(2),e}(this.Pi,this.op)},n.hp=function(){return ls(this.Pi,this.op)},n.vp=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt32(n.Iu,i);return n.Su(4),e}(this.Pi,this.op)},n.dp=function(){return gs(this.Pi,this.op)},n.lp=function(t){return fs(this.Pi,this.op,t)},n.wp=function(t){return function(t,n,i){for(var e=[],r=0;r<i;r++)e.push(ls(t,n));return e}(this.Pi,this.op,t)},n.gp=function(t){return bs(this.Pi,this.op,t)},n.yp=function(){return Ds(this.Pi,this.op)},n.mp=function(t){this.op.Su(t)},n.Ru=function(){return new t(this.Pi,this.op.Ru())},t}(),Xm=function(t){function n(n,i){var e;return(e=t.call(this)||this).bp=n,e.pp=i,e}return vt(n,t),ft(n,[{key:"name",get:function(){return"DataIncompleteError"}}]),n}(Cn),Gm=function(){function t(){}return t._p=function(n){var i=n.Pi,e=n.op,r=t.kp(i,e,!1);if(!r.Tp)throw new Xm(e.Iu,r.Si);return r.Si},t.kp=function(n,i,e){for(var r=[];i.Iu<n.byteLength;){var u=t.Sp(n,i,e);if(!u.Tp)return{Tp:!1,Si:r};r.push(u.Ep)}return{Tp:!0,Si:r}},t.Rp=function(n,i){var e=t.Sp(n,i,!1);if(!e.Tp)throw new Xm(i.Iu);return e.Ep},t.Ip=function(n,i){for(var e=n.Pi,r=n.op;r.Iu<e.byteLength;){var u=t.Sp(e,r,!1);if(!u.Tp)return;if(u.Ep.gr===i)return u.Ep}},t.Sp=function(n,i,e){var r=i.Iu,u=t.Dp(n,i);if(!u.Tp)return u;var s=u.Np,o=s.ku;if(0===o){if(e)return i.Eu(r),{Tp:!1,Op:1/0};o=n.byteLength-r}var c=r+o;if(c>n.byteLength){var a=c;return i.Eu(r),{Tp:!1,Op:a}}var f,h,v,d={gr:s.gr,Iu:r,Pi:new $m((f=n,h=r,v=c,void 0===h&&(h=0),void 0===v&&(v=f.byteLength),new DataView(f.buffer,f.byteOffset+h,v-h)),new Fs(s.Cp))};return i.Eu(c),{Tp:!0,Ep:d}},t.Dp=function(t,n){var i=n.Iu;if(!hs(t,n,8))return{Tp:!1,Op:n.Iu+8};var e=ls(t,n),r=bs(t,n,4);if(1===e){if(!hs(t,n,8)){var u=n.Iu+8;return n.Eu(i),{Tp:!1,Op:u}}e=gs(t,n).toNumber()}if("uuid"===r){if(!hs(t,n,16)){var s=n.Iu+16;return n.Eu(i),{Tp:!1,Op:s}}r=bs(t,n,16)}return{Tp:!0,Np:{gr:r,ku:e,Cp:n.Iu-i}}},t.Ap=function(t,n,i){var e=t.Pi,r=t.op,u=Cs(Ps(e),r.Iu,e.byteLength);return i&&(u=Ms(u)),r.Su(u.byteLength),{gr:n,Pi:u}},t.Pp=function(n,i,e){var r=Qm(n.hp());return{gr:i,xp:r.version,Lp:r.flags,Pi:t.Ap(n,i,e).Pi}},t}();function Ym(t,n){var i=Km(t,n);if(!i)throw new f("Missing "+n+" atom");return i}function Km(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.gr===n)return e.Pi}}function Jm(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];r.gr===n&&i.push(r.Pi)}return i}function Qm(t){return{version:t>>24,flags:new os(16777215&t)}}var Zm=function(){function t(){}return t.Bp=function(n){for(var i=[],e=Gm._p(new $m(n,new Fs)),r=0;r<e.length;r++){var u=e[r],s=t.Mp(u);s&&i.push(s)}return i},t.Fp=function(t){return Gm.kp(t,new Fs,!1).Si.some(this.Up)},t.Vp=function(n){return Jm(Gm._p(new $m(n,new Fs)),om.Yb).map(t.Wp)},t.zp=function(n){return Jm(Gm._p(n.Pi),om.Yb).map(t.Wp)},t.Up=function(t){return t.gr===om.Zb||t.gr===om.Qb||t.gr===om.wb||t.gr===om.Wb||t.gr===om.Gb||t.gr===om.Jb||t.gr===om.Kb},t.Mp=function(n){switch(n.gr){case om.wb:return t.qp(n.Pi);case om.Wb:return t.Hp(n.Pi,n.Iu);case om.Gb:return t.jp(n.Pi);case om.Jb:return t.$p(n.Pi);case om.Kb:return t.Xp(n.Pi)}},t.qp=function(n){var i=Gm._p(n),e=Ym(i,om.gb),r=Jm(i,om.yb),u=Km(i,om.Rb),s=t.Gp(e),o=r.map(t.Yp),c=u?t.Kp(u):void 0;return{gr:om.wb,Np:s,Jp:o,Qp:c}},t.Gp=function(t){var n=Qm(t.hp()),i=n.version,e=n.flags,r=1===i?t.dp():t.hp(),u=1===i?t.dp():t.hp(),s=t.hp(),o=1===i?t.dp():t.hp(),c=t.hp(),a=t.ap()>>8;t.mp(2),t.mp(8);var f=t.wp(9);t.mp(24);var h=t.hp();return{gr:om.gb,xp:i,Lp:e,Zp:r,t_:u,Nm:s,pw:o,n_:c,Nw:a,i_:f,e_:h}},t.Yp=function(n){var i=Gm._p(n),e=Ym(i,om.mb),r=Ym(i,om.bb),u=t.r_(e),s=t.u_(r);return{gr:om.yb,Np:u,s_:s}},t.r_=function(t){var n=Qm(t.hp()),i=n.version,e=n.flags,r=1===i?t.dp():t.hp(),u=1===i?t.dp():t.hp(),s=t.hp();t.mp(4);var o=1===i?t.dp():t.hp();t.mp(8);var c=t.fp(),a=t.fp(),f=t.fp()/d.pow(2,8);t.mp(2);var h=t.wp(9),v=t.hp()/d.pow(2,16),l=t.hp()/d.pow(2,16);return{gr:om.mb,o_:e.Nu(1),c_:e.Nu(2),a_:e.Nu(4),Zp:r,t_:u,f_:s,pw:o,h_:c,v_:a,Nw:f,i_:h,Dy:v,d_:l}},t.u_=function(n){var i=Gm._p(n),e=Ym(i,om.pb),r=Ym(i,om._b),u=Ym(i,om.kb),s=t.l_(e),o=t.w_(r),c=t.g_(u);return{gr:om.bb,Np:s,y_:o,m_:c}},t.l_=function(t){var n=Qm(t.hp()),i=n.version,e=n.flags,r=1===i?t.dp():t.hp(),u=1===i?t.dp():t.hp(),s=t.hp(),o=1===i?t.dp():t.hp();return t.ap(),t.mp(2),{gr:om.pb,xp:i,Lp:e,Zp:r,t_:u,Nm:s,pw:o}},t.w_=function(t){var n=Qm(t.hp()),i=n.version,e=n.flags;t.mp(4);var r=t.gp(4);t.mp(12);var u=t.yp();return{gr:om._b,xp:i,Lp:e,b_:r,vi:u}},t.g_=function(n){var i=Ym(Gm._p(n),om.Tb),e=t.p_(i);return{gr:om.kb,__:e}},t.p_=function(n){var i=Ym(Gm._p(n),om.Sb),e=t.k_(i);return{gr:om.Tb,T_:e}},t.k_=function(n){var i=Qm(n.hp()),e=i.version,r=i.flags;n.hp();for(var u=[],s=Gm._p(n),o=0;o<s.length;o++){var c=s[o],a=t.S_(c.Pi,c.gr);a&&u.push(a)}return{gr:om.Sb,xp:e,Lp:r,E_:u}},t.S_=function(n,i){var e=t.R_(n,i);return e||((e=t.I_(n,i))||(i===om.Bb?t.D_(n):void 0))},t.R_=function(n,i){return i===om.xb?t.N_(n):i===om.Ub?t.O_(n):void 0},t.I_=function(n,i){return i===om.Db?t.C_(n):i===om.Ob||i===om.Cb?t.A_(n,i):i===om.Vb?t.P_(n):void 0},t.x_=function(t,n){return t.mp(6),{gr:n,L_:t.ap()}},t.B_=function(n,i){var e=t.x_(n,i);n.mp(8);var r=n.ap(),u=n.ap();return n.mp(2),n.mp(2),wr({},e,{M_:r,F_:u,U_:n.hp()>>>16})},t.V_=function(n,i){var e=t.x_(n,i);n.mp(2),n.mp(2),n.mp(12);var r=n.ap(),u=n.ap(),s=n.hp(),o=n.hp();n.mp(4);var c=n.ap();n.mp(32);var a=n.ap();return n.mp(2),wr({},e,{Dy:r,d_:u,W_:s,z_:o,q_:c,H_:a})},t.N_=function(n){var i=t.B_(n,om.xb),e=Ym(Gm._p(n),om.Lb);return wr({},i,{j_:t.X_(e)})},t.D_=function(n){var i=t.x_(n,om.Bb),e=Gm._p(n),r=Ym(e,om.Mb),u=t.G_(r),s=Km(e,om.Fb);return wr({},i,{Y_:u,K_:s?t.J_(s):s})},t.G_=function(t){return{gr:om.Mb,lc:t.yp()}},t.J_=function(t){return{gr:om.Fb,El:t.yp()}},t.X_=function(t){return Gm.Pp(t,om.Lb,!0)},t.C_=function(n){var i=t.V_(n,om.Db),e=Gm._p(n),r=Ym(e,om.Nb),u=Km(e,om.Pb);return wr({},i,{Q_:t.Z_(r),tk:u?t.nk(u):void 0})},t.A_=function(n,i){var e=t.V_(n,i),r=Ym(Gm._p(n),om.Ab);return wr({},e,{ik:t.ek(r)})},t.P_=function(n){var i=n.Ru(),e=t.V_(n,om.Vb),r=Ym(Gm._p(n),om.tp),u=t.rk(r);return wr({},e,{uk:t.I_(i,u.ck.sk),ak:u})},t.O_=function(n){var i=n.Ru(),e=t.B_(n,om.Ub),r=Ym(Gm._p(n),om.tp),u=t.rk(r);return wr({},e,{uk:t.R_(i,u.ck.sk),ak:u})},t.rk=function(n){var i=Ym(Gm._p(n),om.np),e=t.fk(i);return{gr:om.tp,ck:e}},t.fk=function(t){var n=t.gp(4);return{gr:om.np,sk:n}},t.Z_=function(t){return Gm.Ap(t,om.Nb,!0)},t.ek=function(t){return Gm.Ap(t,om.Ab,!0)},t.nk=function(t){var n=t.hp(),i=t.hp();return{gr:om.Pb,hk:n,vk:i}},t.Kp=function(n){var i=Jm(Gm._p(n),om.Ib).map(t.dk);return{gr:om.Rb,Jp:i}},t.dk=function(t){var n=Qm(t.hp()),i=n.version,e=n.flags,r=t.hp(),u=t.hp(),s=t.hp(),o=t.hp(),c=t.hp();return{gr:om.Ib,xp:i,Lp:e,f_:r,lk:u,wk:s,gk:o,yk:c}},t.Hp=function(n,i){var e=Gm._p(n),r=Ym(e,om.zb),u=Jm(e,om.qb),s=t.mk(r),o=u.map(t.bk);return{gr:om.Wb,pk:i,Np:s,Jp:o}},t.mk=function(t){var n=Qm(t.hp()),i=n.version,e=n.flags,r=t.hp();return{gr:om.zb,xp:i,Lp:e,_k:r}},t.bk=function(n){var i=Gm._p(n),e=Ym(i,om.Hb),r=Jm(i,om.jb),u=Km(i,om.$b),s=t.kk(e),o=r.map(function(n){return t.Tk(n,s)}),c=u?t.Sk(u):void 0;return{gr:om.qb,Np:s,Ek:o,Rk:c}},t.kk=function(t){var n=Qm(t.hp()),i=n.version,e=n.flags,r=t.hp(),u=e.Nu(am.BASE_DATA_OFFSET_PRESENT)?t.dp():void 0,s=e.Nu(am.SAMPLE_DESCRIPTION_INDEX_PRESENT)?t.hp():void 0,o=e.Nu(am.DEFAULT_SAMPLE_DURATION_PRESENT)?t.hp():void 0,c=e.Nu(am.DEFAULT_SAMPLE_SIZE_PRESENT)?t.hp():void 0,a=e.Nu(am.DEFAULT_SAMPLE_FLAGS_PRESENT)?t.hp():void 0;return{gr:om.Hb,xp:i,Lp:e,f_:r,Ik:u,Dk:s,wk:o,gk:c,yk:a}},t.Tk=function(n,i){for(var e=Qm(n.hp()),r=e.version,u=e.flags,s=n.hp(),o=u.Nu(fm.DATA_OFFSET_PRESENT)?n.vp():void 0,c=u.Nu(fm.FIRST_SAMPLE_FLAGS_PRESENT)?n.hp():void 0,a=[],f=0;f<s;f++){var h=t.Nk(n,u,r,i);0===f&&void 0!==c&&(h.Lp=c),a.push(h)}return{gr:om.jb,xp:r,Lp:u,Ok:s,pk:o,Ck:c,Ak:a}},t.Nk=function(t,n,i,e){return{pw:n.Nu(fm.SAMPLE_DURATION_PRESENT)?t.hp():e.wk,ku:n.Nu(fm.SAMPLE_SIZE_PRESENT)?t.hp():e.gk,Lp:n.Nu(fm.SAMPLE_FLAGS_PRESENT)?t.hp():e.yk,Pk:n.Nu(fm.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT)?0===i?t.hp():t.vp():void 0}},t.Xp=function(t){var n=t.Pi,i=t.op,e=Qm(ls(n,i)),r=e.version,u=e.flags;if(1===r){var s=ls(n,i),o=gs(n,i),c=ls(n,i),a=ls(n,i),f=ms(n,i),h=ms(n,i),v=Bs(Ps(n),i.Iu,n.byteLength);return i.Su(v.byteLength),{gr:om.Kb,xp:r,Lp:u,xk:f,wi:h,Nm:s,Lk:o,Bk:c,kl:a,Mk:v}}var d=ms(n,i),l=ms(n,i),w=ls(n,i),g=ls(n,i),y=ls(n,i),m=ls(n,i),b=Bs(Ps(n),i.Iu,n.byteLength);return i.Su(b.byteLength),{gr:om.Kb,Lp:u,xp:r,xk:d,wi:l,Nm:w,Fk:g,Bk:y,kl:m,Mk:b}},t.jp=function(t){return Gm.Ap(t,om.Gb,!1)},t.Wp=function(n){var i=n.Pi,e=n.op,r=Ms(Ps(i)).buffer,u=Qm(ls(i,e)),s=u.version,o=u.flags,c=t.Uk(i,e),a=[];if(s>0)for(var f=ls(i,e),h=0;h<f;h++){var v=fs(i,e,16);a.push(v)}var d=ls(i,e),l=new y(r,e.Iu,d);return e.Su(i.byteLength),{gr:om.Yb,xp:s,Lp:o,Vk:c,Wk:a,zk:d,Pi:l,qk:r}},t.Uk=function(t,n){for(var i="",e=0;e<4;e++){var r=cs(t,n).toString(16);i+=1===r.length?"0"+r:r}i+="-";for(var u=0;u<2;u++){var s=cs(t,n).toString(16);i+=1===s.length?"0"+s:s}i+="-";for(var o=0;o<2;o++){var c=cs(t,n).toString(16);i+=1===c.length?"0"+c:c}i+="-";for(var a=0;a<2;a++){var f=cs(t,n).toString(16);i+=1===f.length?"0"+f:f}i+="-";for(var h=0;h<6;h++){var v=cs(t,n).toString(16);i+=1===v.length?"0"+v:v}return i.toLowerCase()},t.$p=function(t){var n,i,e=t.Pi,r=t.op,u=Qm(ls(e,r)),s=u.version,o=u.flags,c=ls(e,r),a=ls(e,r);0===s?(n=Kt.fromBits(ls(e,r),0,!0),i=Kt.fromBits(ls(e,r),0,!0)):(n=gs(e,r),i=gs(e,r)),r.Su(2);for(var f=vs(e,r),h=[],v=0;v<f;v+=1){var d=ls(e,r),l=d>>31&1,w=2147483647&d,g=ls(e,r),y=ls(e,r),m=y>>31&1,b=y>>28&7,p=268435455&y;h.push({Hk:l,jk:w,pw:g,$k:m,Xk:b,Gk:p})}return{gr:om.Jb,xp:s,Lp:o,Yk:c,Nm:a,Kk:n,Jk:i,Qk:f,Zk:h}},t.Sk=function(t){var n,i=t.Pi,e=t.op,r=Qm(ls(i,e)),u=r.version,s=r.flags;return n=0===u?Kt.fromBits(ls(i,e),0,!0):gs(i,e),{gr:om.$b,xp:u,Lp:s,Rk:n}},t}();function tb(t){return t&&"Ti"in t?t.Ti:t}var nb=function(t){function n(n,i,e,r,u,s,o){var c;return(c=t.call(this,n,i,e,r)||this).tT=void 0,c.nT=void 0,c.iT=void 0,c.tT=u,c.nT=s,c.iT=o||void 0,c}return vt(n,t),n.prototype.yy=function(n){return this===n||!!xw(this,n)&&(!!t.prototype.yy.call(this,n)&&(!!Pw(this.eT,n.eT)&&(!!Pw(this.ab,n.ab)&&(this.rT&&n.rT?!!this.rT.ai(n.rT)&&(this.sy&&n.sy?this.sy.ai(n.sy):this.sy===n.sy):this.rT===n.rT))))},ft(n,[{key:"eT",get:function(){return this.tT}},{key:"ab",get:function(){return this.nT}},{key:"rT",get:function(){return this.iT}},{key:"Pd",get:function(){var t;return this.Ad||(this.Ad=Cw(Uy(t=this),{get styles(){return t.eT},get regions(){return t.ab},get metadata(){return tb(t.rT)},get content(){return tb(t.sy)}})),this.Ad}}]),n}(Hy),ib=function(){function t(t,n,i){this.Ef=void 0,this.uT=void 0,this.sT=void 0,this.uT=t,this.sT=n,Dn(i)?this.Ef=function(t,n,i){for(var e=0,r=["begin","end","dur"];e<r.length;e++){var u=r[e];i.Ii(u)}return i}(0,0,i):this.Ef=i}return ft(t,[{key:"oT",get:function(){return this.Ef.fi(!0)}},{key:"ey",get:function(){return this.uT}},{key:"uy",get:function(){return this.sT}}]),t}();var eb="http://www.w3.org/XML/1998/namespace";function rb(t,n){return function(t,n){var i=t.Si.slice(),e=[];for(;i.length>0;){var r=i.shift();n(r)?e.push(r):i.push.apply(i,r.Si)}return e}(t,function(t){return t.pi===n})}function ub(t,n){for(var i=t,e=0;e<n.length;e++){var r=n[e];i=i.replace(r+":","")}return i}function sb(t,n){for(var i=t.Ci,e={},r=0;r<i.length;r++)e[ub(i[r].vi,n)]=i[r].wi;return e}var ob=/^(\d\d+):(\d\d):(\d+)((\.(\d+))?|(:(\d\d+)(\.(\d+))?))$/,cb=/^(\d+)(\.(\d+))?(h|m|s|ms|f|t)$/,ab="http://www.w3.org/ns/ttml";function fb(t,n,i){return void 0===i&&(i=hm),function(t,n,i){var e,r=[];try{e=st.oi(t)}catch(t){return r}var u=e.xi;if("tt"!==u.hi)return r;var s=u&&u._i(ab,"head")[0],o=u&&u._i(ab,"body")[0],c=["ebutts","tts","xml"];if(!o||!s)return r;for(var a=function(t,n){for(var i={},e=t._i(ab,"styling")[0],r=e&&e._i(ab,"style")||[],u=0;u<r.length;u++){var s=r[u],o=s.Ri(eb,"id");i[o]=sb(s,n)}return i}(s,c),f=function(t,n){var i=Aw(t),e=lb(n.Ei("tts:extent"));if(!e)return i;for(var r=0,u=v.keys(i);r<u.length;r++){var s=u[r],o=lb(i[s].extent);if(o){var c=vb(o[0],e[0]),a=vb(o[1],e[1]);i[s].extent=c+" "+a}var f=lb(i[s].origin);if(f){var h=vb(f[0],e[0]),d=vb(f[1],e[1]);i[s].origin=h+" "+d}}return i}(function(t,n){for(var i={},e=t._i(ab,"layout")[0],r=e&&e._i(ab,"region")||[],u=0;u<r.length;u++){var s=r[u],o=s.Ri(eb,"id");if(o){i[o]=sb(s,n);var c=yb(s,n);for(var a in c)Et.call(c,a)&&(i[o][a]=c[a])}}return i}(s,c),u),h=s._i(ab,"metadata")[0],d=function t(n,i,e,r){var u=i;var s;var o=e;var c=[];var a=[];if(Dn(n)){var f,h;u=null!=(f=gb(n.Ei("begin"),r))?f:u,s=gb(n.Ei("dur"),0),o=null!=(h=gb(n.Ei("end"),r))?h:void 0!==s?u+s:o;for(var v=n.bi,d=0;d<v.length;d++)("body"===n.hi||"div"===n.hi)&&v[d].ni>1||(c=c.concat(t(v[d],u,o,r)))}var l=function(t,n,i){var e=[];e.push(t,n);for(var r=0;r<i.length;r++){var u=i[r];e.push(u.ey,u.uy)}e.sort(ru);for(var s=e.length,o=0;o<s-1;o++)e[o+1]===e[o]&&(au(e,o+1),o--,s=e.length);return e}(u,o,c);for(var w=0;w<l.length-1;w++){var g=wb(l[w],l[w+1],c);if(g.length<=0&&mb(n)){var y=n.fi(!1);a.push(new ib(l[w],l[w+1],y))}else g.length>0&&function(){var t=n.fi(!1);g.forEach(function(n){return t.ki(n.oT)}),a.push(new ib(l[w],l[w+1],t))}()}return a}(o,i.sb,i.ob,i.cb),l=0;l<d.length;l++){var w=d[l],g=hb(f,w);r.push(new nb(w.ey,w.uy,w.oT,!1,a,g,h))}return r}(t,0,i)}function hb(t,n){for(var i=function t(n){var i=[];var e;if(Dn(n)){(e=n.Ei("region"))&&i.push(e);for(var r=n.bi,u=0;u<r.length;u++)i=i.concat(t(r[u]))}return i}(n.oT),e={},r=0;r<i.length;r++){var u=i[r];e[u]=t[u]}return e}function vb(t,n){var i=db(t),e=db(n);if(i&&e&&i===e){var r=Number(t.slice(0,-i.length)),u=Number(n.slice(0,-e.length));return g(r)||g(u)?t:r/u*100+"%"}return t}function db(t){return $r(t,"px")?"px":$r(t,"em")?"em":$r(t,"c")?"c":$r(t,"%")?"%":void 0}function lb(t){if(t){var n=t.split(" ");if(2===n.length)return[n[0],n[1]]}}function wb(t,n,i){for(var e=[],r=0;r<i.length;r++){var u=i[r].ey,s=i[r].uy;(u>=t&&s<=n||u<n&&s>=n||u<t&&s>t)&&e.push(i[r])}return e}function gb(t,n){if(t){if(ob.test(t)){var i=ob.exec(t);if(!i)return;var e=Number(i[1])||0,r=Number(i[2])||0,u=Number(i[3])||0,s=i[6];return 3600*e+60*r+u+(s?Number(s)*d.pow(.1,s.length):0)+n}if(cb.test(t)){var o=cb.exec(t);if(!o)return;var c,a=Number(o[1]);switch(o[4]){case"h":c=3600*a;break;case"m":c=60*a;break;case"s":c=a;break;case"ms":c=.001*a;break;case"f":case"t":default:c=NaN}return c+n}}}function yb(t,n){for(var i={},e=t.mi("style")||[],r=0;r<e.length;r++){var u=sb(e[r],n);for(var s in u)Et.call(u,s)&&(i[s]=u[s])}return i}function mb(t){if(Dn(t)){var n=t.hi.toUpperCase(),i=Boolean(t.Ei("smpte:backgroundImage"));return"BR"===n||i}return t.ni===In.ri}function bb(t){var n=function(t){try{return st.oi(t).xi}catch(t){}}(t);return"tt"===(null==n?void 0:n.hi)}var pb,_b=function(t){function n(){return t.apply(this,arguments)||this}vt(n,t);var i=n.prototype;return i.ol=function(n){return t.prototype.ol.call(this,n)},i.cl=function(n){var i=t.prototype.cl.call(this,n);return i&&(n.Cl=Gw.xl),i},i.xd=function(){return tg(this)},n}(Ew);!function(t){t.ip="subtitles",t.cT="captions",t.aT="descriptions",t.fT="chapters",t.rp="metadata",t.hT="thumbnails"}(pb||(pb={}));var kb=[pb.ip,pb.cT,pb.aT,pb.fT,pb.rp,pb.hT];function Tb(t){var n=String(t||"").toLowerCase();return function(t){return"string"==typeof t&&fu(kb,t)}(n)?n:n?pb.rp:pb.ip}var Sb,Eb=function(t){function n(n,i,e,r,u){var s;return(s=t.call(this,n,i,u)||this).url=void 0,s.status=void 0,s.url=e,s.status=r,s}return vt(n,t),n}(Cc);function Rb(t,n){return t===pb.hT||t===pb.rp&&n===pb.hT}function Ib(t,n,i,e){for(var r=0,u=t.Fl.hl;r<u.length;r++){var s=u[r];if(s.ey>i)break;n<=s.uy&&e.push(s)}}function Db(t,n){return eu(t.Tl,n.Tl)}function Nb(t,i){var e=i,r=0;if(t instanceof Md&&t.name===Pd.Tv)e=t.qh.jh;else if(function(t){return t instanceof Ud}(t)){var u=t.Dv;if(e=u.Hh,0===(r=u.Fh))return new Eb(n.ErrorCode.SUBTITLE_CORS_ERROR,"Could not load the subtitle file. Make sure the source is set correctly and that CORS support is enabled.",e,r,t)}return new Eb(n.ErrorCode.SUBTITLE_LOAD_ERROR,"Could not load the subtitle file.",e,r,t)}function Ob(t,i,e,r){var u=function(t){switch(t){case Ay.WEBVTT:return"WebVTT";case Ay.SRT:return"SRT";case Ay.TTML:return"TTML";default:return""}}(t);return new Eb(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Could not parse the "+(u?u+" ":"")+"subtitle file.",i,e,r)}function Cb(t){return Cm(_m(t))?Ay.WEBVTT:bb(t)?Ay.TTML:Ay.SRT}function Ab(t,n){for(var i=[],e=0,r=t.Fl.hl;e<r.length;e++){var u=r[e];if(u.uy<=n)i.push(u);else if(u.ey>=n)break}for(var s=0;s<i.length;s++){var o=i[s];t.vT(o)}}!function(t){t.dT="vtt",t.Bb="wvtt",t.lT="stpp"}(Sb||(Sb={}));var Pb=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Jp=new _b,n.wT=function(t){var i=t.Ld;n.gT(i)},n}vt(n,t);var i=n.prototype;return i.ol=function(t){t.Kr(mw.$d,this.wT),this.Jp.ol(t),this.gT(t)},i.cl=function(t){t.tu(mw.$d,this.wT),t.Cl=Gw.xl,this.Jp.cl(t)},i.yT=function(t){},i.mT=function(t){},i.gT=function(t){t.Cl!==Gw.xl?this.yT(t):this.mT(t)},i.bT=function(){for(var t=0,n=this.Jp.hl;t<n.length;t++){var i=n[t];i.tu(mw.$d,this.wT),i.et()}},i.pT=function(t){if(t>0)for(var n=0,i=this.Jp.hl;n<i.length;n++){Ab(i[n],t)}},i.fl=function(){return this.bT(),this.Jp.fl(),j.resolve()},i.et=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Zr(),t.next=3,lr.awrap(this.fl());case 3:this.Jp.et();case 4:case"end":return t.stop()}},null,this,null,j)},n}(Du),xb=function(t){function n(n){var i;return(i=t.call(this,Yw.Nl)||this).errorObject=n,i}return vt(n,t),n.prototype.xd=function(){return this},ft(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(yw),Lb=function(t){function n(n,i){var e;return(e=t.call(this)||this)._T=void 0,e.kT=void 0,e.TT=new du,e._T=n,e.kT=i,e}vt(n,t);var i=n.prototype;return i.ST=function(t){if(t.src){var n=t.kind||pb.ip,i=this._T.ET(n,t.id,t.label,t.srclang,t.default);return i.Vl=Ad(t.src),this.ol(i),i}},i.RT=function(t,n){var i,e,r,u,s,o,c,a,f,h;return lr.async(function(v){for(;;)switch(v.prev=v.next){case 0:return t.Ml=Cy.LOADING,i=new Dd({jh:t.Vl,Vh:Qc.ri,av:Td.GET,Hr:n}),v.prev=2,v.next=5,lr.awrap(this.kT.qh(i));case 5:return u=v.sent,r=u.Fh,v.next=9,lr.awrap(u.kh());case 9:e=v.sent,v.next=18;break;case 12:return v.prev=12,v.t0=v.catch(2),yu(v.t0),t.Ml=Cy.ERROR,t.Yr(new xb(Nb(v.t0,t.Vl))),v.abrupt("return");case 18:for(v.prev=18,s=Cb(e),t.gr=s,o=[],s===Ay.WEBVTT||s===Ay.SRT?(c=pm(e),o=c.Fl):s===Ay.TTML&&(o=fb(e)),a=0,f=o;a<f.length;a++)h=f[a],t.IT(h);v.next=32;break;case 26:return v.prev=26,v.t1=v.catch(18),yu(v.t1),t.Ml=Cy.ERROR,t.Yr(new xb(Ob(t.gr,t.Vl,r,v.t1))),v.abrupt("return");case 32:t.Ml=Cy.LOADED;case 33:case"end":return v.stop()}},null,this,[[2,12],[18,26]],j)},i.yT=function(t){fu(this.Jp.hl,t)&&t.Ml===Cy.NONE&&this.RT(t,this.TT.Hr).catch(mu)},i.rc=function(){},i.fl=function(){var n,i,e;return lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:for(this.TT.Wr(),this.TT=new du,n=0,i=this.Jp.hl;n<i.length;n++)e=i[n],this._T.DT(e);return r.next=5,lr.awrap(t.prototype.fl.call(this));case 5:case"end":return r.stop()}},null,this,null,j)},n}(Pb);function Bb(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.Sl===n&&e.NT)return e}}function Mb(t,n){Fb(Bb(t.hl,n))}function Fb(t){void 0!==t&&(t.Cl=Gw.Al)}function Ub(t,n){Fb(Bb(t.hl,n)||function(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.Sl===n)return e}}(t.hl,n))}function Vb(t){for(var n=0;n<kb.length;n++){var i=kb[n];i===pb.fT?Ub(t,i):Mb(t,i)}}var Wb,zb=function(t){function n(){return t.call(this,Jc.xa)||this}return vt(n,t),n}(Ou);!function(t){t[t.OT=0]="OT",t[t.CT=1]="CT"}(Wb||(Wb={}));var qb=t,Hb=qb.MediaSource,jb=qb.WebKitMediaSource,$b=qb.TextTrack,Xb=e&&e.createElement("video");e&&e.documentElement.style;var Gb=St.hn&&St.Wn&&St.zn<=26;St.Sn;var Yb=!(!Hb&&!jb),Kb=!!$b;e&&(e.fullscreenEnabled||e.webkitFullscreenEnabled||e.mozFullScreenEnabled||e.msFullscreenEnabled)||St._n,St.Mn&&St.Fn,Xb&&Xb.canPlayType&&(""!==Xb.canPlayType("application/vnd.apple.mpegURL")||St.ln&&!St.Mn&&St.wn);Xb&&Xb.canPlayType&&Xb.canPlayType("video/mp4");var Jb=Yb&&!St.Un&&!St.xn&&!St.Pn&&((Hb||jb).isTypeSupported?(Hb||jb).isTypeSupported('audio/mp4; codecs="mp4a.40.34"'):Xb&&Xb.canPlayType&&""!==Xb.canPlayType('audio/mp4; codecs="mp4a.40.34"'));Yb&&!St.Un&&(Jb||((Hb||jb).isTypeSupported?(Hb||jb).isTypeSupported("audio/mpeg"):Xb&&Xb.canPlayType&&Xb.canPlayType("audio/mpeg"))),Yb&&(!St.Bn||!St.hn)&&(Hb||jb).isTypeSupported&&(Hb||jb).isTypeSupported('video/mp4; codecs="avc1.4d401e"'),St.Un||St.xn||St.Pn,St.Ln,St.Un,St.xn&&St.vn&&St.dn;try{i&&i.top!==i.self}catch(t){!0}var Qb=function(t){function n(n){var i;return(i=t.call(this,Dg.yw)||this).currentTime=n,i}return vt(n,t),n}(Ou),Zb=function(t){function n(n){var i;return(i=t.call(this,Dg.mw)||this).currentTime=n,i}return vt(n,t),n}(Ou);Dg.Gd,Dg.mw,Jc.Oa,Jc.Na;var tp=function(t){function n(n,i){var e;return void 0===i&&(i=!1),(e=t.call(this)||this).AT=dg.cw,e.PT=!0,e.xT=!1,e.LT=!1,e.BT=function(t){var n=e.MT.Ml;n!==e.AT&&e.Yr(new $g(t.currentTime,n)),n===dg.cw&&(e.xT=!1,e.LT=!1),e.FT(n),e.UT(n),e.VT(n),e.maybeDispatchCanPlayThroughEvent(n),e.WT(n),e.zT(n),e.AT=n},e.qT=function(){e.zT(e.AT),e.WT(e.AT),e.PT=e.MT.Sw},e.HT=function(){e.PT=e.MT.Sw},e.MT=n,e.jT=i,e.MT.Kr(Dg.Gd,e.BT),e.MT.Kr(Jc.Oa,e.qT),e.MT.Kr(Jc.Na,e.HT),e.jT&&e.MT.Kr(Dg.mw,e.Gr),e}vt(n,t);var i=n.prototype;return i.FT=function(t){!this.LT&&t>=dg.aw&&(this.LT=!0,this.Yr(new Lg(this.MT.bw,t)))},i.UT=function(t){!this.xT&&t>=dg.fw&&(this.xT=!0,this.Yr(new Vg(this.MT.bw,t)))},i.WT=function(t){this.jT||(t>=dg.hw&&this.AT<dg.hw&&!this.MT.Sw||this.$T&&t>=dg.hw)&&this.Yr(new Zb(this.MT.bw))},i.zT=function(t){!this.XT(t)||this.MT._w||this.MT.fu||this.Yr(new Qb(this.MT.bw))},i.VT=function(t){this.AT<=dg.fw&&t>=dg.hw&&this.Yr(new Hg(this.MT.bw,t))},i.maybeDispatchCanPlayThroughEvent=function(t){t===dg.vw&&this.Yr(new jg(this.MT.bw,t))},i.XT=function(t){var n=!this.MT.Sw&&t<=dg.fw,i=!this.PT&&this.AT<=dg.fw;return n&&!i},i.fl=function(){this.AT=dg.cw,this.PT=!0,this.xT=!1,this.LT=!1},i.et=function(){this.Zr(),this.jT&&this.MT.tu(Dg.mw,this.Gr),this.MT.tu(Jc.Oa,this.qT),this.MT.tu(Jc.Na,this.HT),this.MT.tu(Dg.Gd,this.BT)},ft(n,[{key:"$T",get:function(){return!this.MT.Sw&&this.PT}}]),n}(Du),np="titanium",ip="conax",ep="ezdrm",rp="irdeto",up="vudrm",sp="verimatrix",op="keyos",cp="drmtoday",ap="expressplay",fp="azure",hp="xstream",vp="vimond",dp="axinom",lp="uplynk",wp="comcast",gp="custom",yp=function(){function t(t,n,i,e,r){this.dc=void 0,this.GT=void 0,this.YT=void 0,this.KT=void 0,this.kT=void 0,this.JT=void 0,this.QT=void 0,this.dc=t,this.GT=n,this.YT=i,this.kT=e,this.QT=r,this.KT=this.ZT(n)}var i=t.prototype;return i.tS=function(){return this.JT},i.nS=function(t){this.JT=t},i.iS=function(){return this.KT.licenseAcquisitionURL||this.tS()},i.eS=function(t){return j.resolve()},i.rS=function(t,n){return j.resolve(void 0)},i.uS=function(t,i,e,r){var u,s;return lr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(""!==(u=this.sS(t,i,e,r)).jh){o.next=3;break}throw new wy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 3:return o.prev=3,o.next=6,lr.awrap(this.Id.qh(u));case 6:return s=o.sent,o.next=9,lr.awrap(s.Th(i));case 9:return o.abrupt("return",o.sent);case 12:return o.prev=12,o.t0=o.catch(3),yu(o.t0),o.next=17,lr.awrap(this.oS(o.t0,u.jh,r));case 17:return o.abrupt("return");case 18:case"end":return o.stop()}},null,this,[[3,12]],j)},i.sS=function(t,n,i,e){var r=this.cS().Ja(),u=this.dv,s={jh:this.aS(),Vh:n,Uh:r,Ih:t,dv:u,av:Td.POST,fv:0,Hr:e,gr:Sd.Kh,hv:i};return new Dd(s)},i.fS=function(t,n){return j.resolve(t)},i.hS=function(t,n,i,e){return j.resolve(t)},i.cS=function(){return new Zc(this.KT.headers||{})},i.oS=function(t,i,e){return lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:throw new wy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during license server request",t);case 1:case"end":return i.stop()}},null,null,null,j)},i.aS=function(t,n){var i=n,e=this.KT.queryParameters;if(!i){var r=this.iS();if(!r)return"";i=r}if(e||t){var u=st.ze(i);t&&Cd(u,t),e&&Cd(u,e),i=u.href}return i},i.vS=function(t){return function(t,n){var i=n.licenseResponseProcessor;return j.resolve(new y(mp(t,i)))}(t,this.KT)},i.dS=function(t,n,i){var e,r,u;return lr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,lr.awrap(this.lS(t,i));case 2:return e=s.sent,s.next=5,lr.awrap(this.uS(e,this.QT,n,i));case 5:return r=s.sent,s.next=8,lr.awrap(this.vS(r));case 8:return u=s.sent,s.abrupt("return",u);case 10:case"end":return s.stop()}},null,this,null,j)},i.et=function(){},ft(t,[{key:"Id",get:function(){return this.kT}},{key:"wS",get:function(){return!1}},{key:"gS",get:function(){var t=this.KT.certificate;if(t)return Pt(t)?Hu(t):Ls(t)}},{key:"yS",get:function(){return!1}},{key:"dv",get:function(){return Boolean(this.KT.useCredentials)}}]),t}();function mp(t,i){if(!t||!i||"function"!=typeof i)return t;try{return i(t)}catch(t){throw new wy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error while preprocessing DRM data",t)}}function bp(t,n){var i=Ms(t).buffer,e=n.licenseRequestProcessor;return j.resolve(mp(i,e))}var pp,_p,kp=function(t){function n(n,i,e,r){return t.call(this,Vr,n,i,e,r)||this}vt(n,t);var i=n.prototype;return i.ZT=function(t){return t.widevine||{}},i.mS=function(t,n){return lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!this.gS){i.next=2;break}return i.abrupt("return",this.gS);case 2:return i.abrupt("return",this.bS(new y(t),n));case 3:case"end":return i.stop()}},null,this,null,j)},i.bS=function(n,i){return t.prototype.dS.call(this,n,Ed.tv,i)},n}(yp);function Tp(t,n){if(null==t)return{};var i,e,r={},u=v.keys(t);for(e=0;e<u.length;e++)i=u[e],n.indexOf(i)>=0||(r[i]=t[i]);return r}function Sp(t){return It(t.token&&t.deviceId)}function Ep(t){var n,i=null==(n=t.fairplay)?void 0:n.headers;return void 0!==i&&It(i.PreAuthorization)}function Rp(t){var n=t;return Sp(n)&&""!==n.token&&""!==n.deviceId&&!Ep(n)}(_p=pp||(pp={})).pS=!1,_p._S=!1,_p.kS=!1,_p.TS=!1,_p.LOG_ADS_DETAILS=!1,_p.LOG_CHROMECAST_DETAILS=!1,_p.LOG_CUSTOM_DRM=!1,_p.LOG_BUFFERING_VIDEO_MAIN=!1,_p.LOG_BUFFERING_VIDEO_SELECTION=!1,_p.LOG_BUFFERING_AUDIO_MAIN=!1,_p.LOG_BUFFERING_AUDIO_SELECTION=!1,_p.SS=!1,_p.ES=!1,_p.LOG_LCEVC_DETAILS=!1;var Ip,Dp=function(){function t(t,n,i){this.RS=t,this.Zo=n,this.IS=i}return t.prototype.DS=function(t){return function(t){var n=t.onCertificateRequest;if(void 0!==n&&"function"!=typeof n)throw new h("ContentProtectionIntegration.onCertificateRequest is not a function.");var i=t.onCertificateResponse;if(void 0!==i&&"function"!=typeof i)throw new h("ContentProtectionIntegration.onCertificateResponse is not a function.");var e=t.onLicenseRequest;if(void 0!==e&&"function"!=typeof e)throw new h("ContentProtectionIntegration.onLicenseRequest is not a function.");var r=t.onLicenseResponse;if(void 0!==r&&"function"!=typeof r)throw new h("ContentProtectionIntegration.onLicenseResponse is not a function.");var u=t.extractFairplayContentId;if(void 0!==u&&"function"!=typeof u)throw new h("ContentProtectionIntegration.extractFairplayContentId is not a function.");return t}(this.IS.build(t))},ft(t,[{key:"NS",get:function(){return this.RS}},{key:"dc",get:function(){return this.Zo}}]),t}();!function(t){t.FAILED="FAILED",t.OVERRIDDEN="OVERRIDDEN",t.SUCCEEDED="SUCCEEDED"}(Ip||(Ip={}));var Np=function(){function t(){this.OS=[]}var i=t.prototype;return i.registerContentProtectionIntegration=function(t,i,e){switch(this.CS(t,i,e)){case Ip.FAILED:throw new wy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The keySystem should be 'widevine', 'playready' or 'fairplay', but was "+i+".");case Ip.OVERRIDDEN:var r=Gp(i);st.Ie("Warning: Overwriting an earlier registered integration for "+t+" and "+r+".");break;case Ip.SUCCEEDED:Gp(i);0}},i.CS=function(t,n,i){var e=Gp(n);if(!e)return Ip.FAILED;for(var r=Ip.SUCCEEDED,u=0,s=this.OS.slice();u<s.length;u++){var o=s[u];o.NS===t&&o.dc===e&&(r=Ip.OVERRIDDEN,cu(this.OS,o))}return this.OS.push(new Dp(t,e,i)),r},i.AS=function(t,n){return void 0!==this.PS(t,n)},i.xS=function(t,n,i){var e=this.PS(t,n);if(!e)throw f("No ContentProtectionIntegrationInit was found for integration id "+t+" and key system "+n);return e.DS(i)},i.PS=function(t,n){for(var i=0,e=this.OS;i<e.length;i++){var r=e[i];if(r.NS===t&&(!n||r.dc===n))return r}},t}();Np.LS=new Np;var Op=["customdata"],Cp={playready:"https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx",widevine:"https://wv-keyos.licensekeyserver.com/",fairplay:"https://fp-keyos.licensekeyserver.com/getkey"};function Ap(t){if(!t)return!0;var n=t.licenseAcquisitionURL,i=t.certificateURL,e=t.keys,r=t.headers,u=t.useCredentials,s=t.queryParameters,o=t.certificateRequestProcessor,c=t.certificateResponseProcessor,a=t.licenseRequestProcessor,f=t.licenseResponseProcessor;return!(n||i||e||r||u||s||o||c||a||f)}function Pp(t){return t&&void 0!==t.licenseAcquisitionURL}var xp,Lp=Pp,Bp=Pp;function Mp(t){if(!t)return!0;if(Wp(t))return!1;var n=t.fairplay,i=t.playready,e=t.widevine,r=t.clearkey,u=t.aes128;return Ap(n)&&Ap(i)&&Ap(e)&&Ap(r)&&Ap(u)}function Fp(t){var n=Rp(t),i=function(t){var n,i=t;return Ep(i)&&""!==(null==(n=i.fairplay)?void 0:n.headers.PreAuthorization)&&!Sp(i)}(t);return(!n||!i)&&(n||i)}function Up(t){return t.integration===rp}function Vp(t){var n=t;if(!n)return!1;if(Mp(n))return!1;var i=n.fairplay,e=n.playready,r=n.widevine,u=n.clearkey;if(Wp(t))return!0;if(i&&!function(t){var n=t;return n&&(void 0!==n.certificateURL||void 0!==n.certificate)}(i))return!1;if(e&&!Lp(e))return!1;if(r&&!Bp(r))return!1;if(u&&!function(t){var n=t;return n&&(void 0!==n.licenseAcquisitionURL||void 0!==n.keys)}(u))return!1;if(n.integration){if(Np.LS.AS(n.integration))return!0;switch(n.integration){case np:if(!function(t){return t.integration===np&&(zp(t)||qp(t))}(t))return!1;break;case up:if(!Hp(t))return!1;break;case sp:if(!function(t){return t.integration===sp}(t))return!1;break;case rp:if(!Up(t))return!1;break;case ip:if(!Fp(t))return!1;break;case ep:if(!function(t){return t.integration===ep}(t))return!1;break;case op:if(!Wp(t))return!1;break;case cp:if(!function(t){var n=t;return n.integration===cp&&(void 0!==n.token||function(t){return void 0!==t.merchant&&void 0!==t.sessionId&&void 0!==t.userId}(n))}(t))return!1;break;case ap:if(!function(t){return t.integration===ap}(t))return!1;break;case hp:if(!jp(t))return!1;break;case vp:if(!function(t){return t.integration===vp}(t))return!1;break;case dp:if(!$p(t))return!1;break;case fp:if(!function(t){var n=t;return n.integration===fp&&void 0!==n.token}(t))return!1;break;case lp:if(!function(t){return t.integration===lp}(t))return!1;break;case wp:if(!function(t){var n=t;return n&&It(n.releasePid)&&It(n.accountId)&&It(n.token)}(t))return!1;break;case gp:return!0;default:return!1}}return!0}function Wp(t){return t.integration===op}function zp(t){return void 0!==t.authToken}function qp(t){var n=t;return void 0!==n.accountName&&void 0!==n.customerName&&void 0!==n.portalId}function Hp(t){var n=t;return n.integration===up&&void 0!==n.token}function jp(t){var n=t;return n&&n.integration===hp&&Pt(n.ticketAcquisitionURL)&&Pt(n.streamId)}function $p(t){var n=t;return n.integration===dp&&void 0!==n.token}function Xp(t,n){var i,e,r,u=n[t],s=null!=(i=null==u?void 0:u.licenseAcquisitionURL)?i:Cp[t],o=null!=(e=null==u?void 0:u.customdata)?e:n.customdata,c=o?{customData:o}:{},a=wr({},null!=(r=null==u?void 0:u.headers)?r:{},c),f=null!=u?u:{};return f.customdata,wr({},Tp(f,Op),{licenseAcquisitionURL:s,headers:a})}function Gp(t){switch(t.toLowerCase()){case"widevine":case Pr:return Pr;case"playready":case Or:return Or;case"fairplay":case Mr:return Mr}}function Yp(t,i){switch(t){case Rr:return function(t){for(var n={},i=Zm.Vp(new DataView(t)),e=0;e<i.length;e++){var r=i[e];n[r.Vk]=r.qk}return n}(i);case Ir:case Dr:return function(t){var n;return(n={})[Br]=t,n}(i);default:throw new Cc(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Unsupported initDataType "+t)}}!function(t){t.ar="Widevine",t.cr="PlayreadyV2",t.BS="PlayreadyV2",t.MS="PlayreadyV3",t.dr="Fairplay"}(xp||(xp={}));var Kp={Widevine:{DRMProvider:"Google",DRMVersion:"1.4.8.86",DRMType:"Widevine"},PlayreadyV2:{DRMProvider:"Microsoft",DRMVersion:"2.9",DRMType:"Playready"},PlayreadyV3:{DRMProvider:"Microsoft",DRMVersion:"3",DRMType:"Playready"},Fairplay:{DRMProvider:"Apple",DRMType:"FairPlay",DRMVersion:"1.0"}};function Jp(t,n){var i,e,r,u,s=Kp[n],o=t.accountName;return{CustomerName:t.customerName,AccountName:o,PortalId:t.portalId,FriendlyName:t.friendlyName,DeviceInfo:{FormatVersion:"1",DeviceType:"PC",OSType:null==(i=st.He)?void 0:i.je,OSVersion:null==(e=st.He)?void 0:e.Je,DRMProvider:s.DRMProvider,DRMVersion:s.DRMVersion,DRMType:s.DRMType,DeviceVendor:null==(r=st.He)?void 0:r.Qe,DeviceModel:null==(u=st.He)?void 0:u.Ze}}}function Qp(t,i){if(!t.accountName)throw new wy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, accountName is not set.");if(!t.customerName)throw new wy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, customerName is not set.");if(!t.portalId)throw new wy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, portalId is not set.");throw new wy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration.")}function Zp(t,n,i){var e;if(zp(t))e={AuthToken:t.authToken,Payload:n};else{if(!qp(t))throw Qp(t,i);e={LatensRegistration:Jp(t,i),Payload:n}}return Zu(JSON.stringify(e))}function t_(t,i,e){var r,u,s,o;return lr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(r=t.Dv){c.next=3;break}throw new wy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,i);case 3:return u=r,c.prev=4,c.next=7,lr.awrap(u._h(e));case 7:s=c.sent,o=n_(s),c.next=14;break;case 11:c.prev=11,c.t0=c.catch(4),o="";case 14:throw new wy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,u.qh.jh,u.Fh,u.Wh,o);case 15:case"end":return c.stop()}},null,null,[[4,11]],j)}function n_(t){if(t){if(t.WvProxyErr)return t.WvProxyErr.desc;if(t.DrmErr)return t.DrmErr.desc}}var i_=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e,Qc.Ya)||this).FS=void 0,r}vt(i,t),i.US=function(){return st.je.he?"required":"optional"};var e=i.prototype;return e.oS=function(t,n,i){return t_(t,n,i)},e.eS=function(t){return this.FS?bu(this.FS.Cu,t):(this.FS=new Us,j.resolve())},e.lS=function(t,i){var e,r;return lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(e=this.GT){i.next=3;break}throw new wy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Widevine DRM configuration.");case 3:return r=$u(t),i.abrupt("return",Zp(e,r,xp.ar));case 5:case"end":return i.stop()}},null,this,null,j)},e.vS=function(t){var i;if(!t.license)throw new wy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Widevine license server");return i=Hu(t.license),j.resolve(i)},e.VS=function(t){return j.resolve(new y(t))},e.mS=function(t,n){var i,e;return lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return this.WS(),r.next=3,lr.awrap(this.lS(t,n));case 3:return i=r.sent,r.next=6,lr.awrap(this.uS(i,Qc.Ga,Ed.nv,n));case 6:return e=r.sent,r.next=9,lr.awrap(this.VS(e));case 9:return r.abrupt("return",r.sent);case 10:case"end":return r.stop()}},null,this,null,j)},e.bS=function(n,i){var e;return lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,lr.awrap(t.prototype.bS.call(this,n,i));case 2:return e=r.sent,this.WS(),r.abrupt("return",e);case 5:case"end":return r.stop()}},null,this,null,j)},e.WS=function(){this.FS||(this.FS=new Us),this.FS.xu()},e.et=function(){this.FS&&this.FS.Wr(),t.prototype.et.call(this)},i}(kp),e_=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e,Qc.Ga)||this).nS("https://widevine-proxy.drm.technology/proxy"),r}return vt(i,t),i.prototype.lS=function(t,i){var e,r,u,s;return lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,lr.awrap(bp(t,this.KT));case 2:if(e=i.sent,r=this.YT,o=new y(e),u=[].slice.call(o),s=this.zS){i.next=8;break}throw new wy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The Widevine vuDRM token has not been correctly configured.");case 8:return i.abrupt("return",JSON.stringify({token:s,drm_info:u,kid:r}));case 9:case"end":return i.stop()}var o},null,this,null,j)},ft(i,[{key:"zS",get:function(){if(Hp(this.GT))return this.GT.token}}]),i}(kp);function r_(t,n){var i=n||{};return t.ticket&&t.sessionId&&(i=wr({},i,{SessionId:t.sessionId,Ticket:t.ticket})),wr({},i,{CrmId:t.crmId,AccountId:t.accountId,ContentId:t.contentId})}var u_=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,Qc.Ga)||this).nS("https://emeademo.dev.ott.irdeto.com/Widevine/getlicense"),r}vt(n,t);var i=n.prototype;return i.lS=function(t,n){return bp(t,this.KT)},i.aS=function(n,i){var e=n;return Up(this.GT)&&(e=r_(this.GT,e)),t.prototype.aS.call(this,e,i)},n}(kp),s_="Conax-Custom-Data";function o_(t,n,i){var e=t&&Fp(t)&&t;if(e&&!i.has(s_)){var r=Rp(e)?e.token:void 0,u=Rp(e)?e.deviceId:void 0,s=JSON.stringify({Version:"1.0.0",CxAuthenticationDataToken:r,CxClientInfo:{DeviceType:"Browser",DrmClientType:n+"-HTML5",DrmClientVersion:"1.0.0",CxDeviceId:u}});i.set(s_,s)}return i}var c_=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,Qc.Ga)||this).nS("https://connect.conax.com:8094/license"),r}vt(n,t);var i=n.prototype;return i.lS=function(t,n){return bp(t,this.KT)},i.cS=function(){var n=t.prototype.cS.call(this);return o_(this.GT,"Widevine",n)},n}(kp);function a_(t){var n=Ss(new y(t));return Hu(JSON.parse(n).license)}function f_(t){return"string"==typeof t.token?t.token:Zu(JSON.stringify({userId:t.userId,sessionId:t.sessionId,merchant:t.merchant}))}function h_(t,n,i){var e;return e=i.token?"x-dt-auth-token":"dt-custom-data",t.set(e,n),t}var v_=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,Qc.Ga)||this).nS("https://lic.drmtoday.com/license-proxy-widevine/cenc/"),r}vt(n,t);var i=n.prototype;return i.lS=function(t,n){return bp(t,this.KT)},i.vS=function(t){return j.resolve(a_(t))},i.cS=function(){return h_(t.prototype.cS.call(this),this.zS,this.GT)},ft(n,[{key:"zS",get:function(){return f_(this.GT)}}]),n}(kp),d_=function(t){function n(n,i,e){return t.call(this,n,i,e,Qc.Ga)||this}vt(n,t);var i=n.prototype;return i.lS=function(t,n){return bp(t,this.KT)},i.cS=function(){var n=t.prototype.cS.call(this),i=this.GT.token;return n.set("Authorization","Bearer "+i),n},n}(kp);function l_(t,i,e,r){var u,s,o,c,a,f,h;return lr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(jp(t)){v.next=2;break}throw new wy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Xstream DRM Configuration");case 2:return(u=new Zc).append("Cache-Control","no-cache"),u.append("Content-Type","application/json"),(s=t.sessionId)&&u.append("XSSESSION",s),o=t.streamId,c=t.fairplay?"persistent"===t.fairplay.licenseType?"persistent":"non-persistent":t.widevine&&"persistent"===t.widevine.licenseType?"persistent":"non-persistent",a={drmType:i,licenseType:c,streamId:o},f={jh:t.ticketAcquisitionURL,Vh:Qc.Ya,Uh:u,av:Td.POST,Ih:JSON.stringify(a),Hr:r},v.next=13,lr.awrap(e.qh(f));case 13:return h=v.sent,v.next=16,lr.awrap(h._h());case 16:return v.abrupt("return",v.sent);case 17:case"end":return v.stop()}},null,null,null,j)}var w_=function(t){function n(n,i,e){return t.call(this,n,i,e,Qc.Ya)||this}vt(n,t);var i=n.prototype;return i.cS=function(){var n=t.prototype.cS.call(this);return n.set("Content-Type","application/json"),n},i.lS=function(t,n){var i,e,r,u;return lr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return i=Qu(t.buffer),e=this.GT,s.next=4,lr.awrap(l_(e,"widevine_modular",this.Id,n));case 4:return r=s.sent,this.nS(r.licenseServerUrl),u=Es(JSON.stringify({payload:i,ticket:r.ticket})),s.abrupt("return",bp(u,this.KT));case 8:case"end":return s.stop()}},null,this,null,j)},i.vS=function(t){var n=t;return j.resolve(Hu(n.license))},n}(kp),g_=function(t){function i(n,i,e){return t.call(this,n,i,e,Qc.Ga)||this}vt(i,t);var e=i.prototype;return e.lS=function(t,n){return bp(t,this.KT)},e.cS=function(){if(!$p(this.GT))throw new wy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.cS.call(this);return i.set("X-AxDRM-Message",this.GT.token),i},i}(kp);function y_(t){for(var n=new y(2*t.length),i=0;i<t.length;i+=1)n[2*i]=t.charCodeAt(i),n[2*i+1]=0;return n}var m_=function(t){function n(n,i,e){var r;return(r=t.call(this,Ur,n,i,e,Qc.Ga)||this).qS=void 0,r}vt(n,t);var i=n.prototype;return i.ZT=function(t){return t.playready||{}},i.cS=function(){var n=new Zc(this.qS);return n.Za(t.prototype.cS.call(this)),n},i.HS=function(t){return t.length>=1&&t[0].bi.length>0},i.rS=function(n){var i=this.GT.playready.customData;if(i){var e=y_(i),r=y_('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">'+$u(e)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>");return j.resolve({playready:{Mc:r}})}return t.prototype.rS.call(this,n)},i.lS=function(t,n){var i;return lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,lr.awrap(bp(t,this.KT));case 2:return i=n.sent,n.abrupt("return",this.jS(i));case 4:case"end":return n.stop()}},null,this,null,j)},i.jS=function(t){var n,i,e,r,u,s,o,c,a,f,h,v,d,l,w,g;return lr.async(function(y){for(;;)switch(y.prev=y.next){case 0:u=null,s=new DataView(t),m=s,b=new Fs,void 0===(p=!0)&&(p=!1),o=ks(m,b,p,!0),y.prev=3,c=st.oi(o),y.next=10;break;case 7:return y.prev=7,y.t0=y.catch(3),y.abrupt("return",u);case 10:for(a=null==(n=c.mi("PlayReadyKeyMessage")[0])?void 0:n.mi("LicenseAcquisition")[0],f=null!=(i=null==a?void 0:a.mi("Challenge"))?i:[],this.HS(f)&&(u=Ju(f[0].Ai)),h=new Zc,v=null!=(e=null==a?void 0:null==(r=a.mi("HttpHeaders")[0])?void 0:r.mi("HttpHeader"))?e:[],d=0;d<v.length;d++)l=v[d],w=l.mi("name")[0].Ai,g=l.mi("value")[0].Ai,h.append(w,g);return this.qS=h,y.abrupt("return",u);case 18:case"end":return y.stop()}var m,b,p},null,this,[[3,7]],j)},i.mS=function(t,n){return j.resolve(t)},i.bS=function(n,i){return t.prototype.dS.call(this,n,Ed.ev,i)},n}(yp),b_=function(){function t(n){this.No=void 0,this.$S=n,this.No=t.XS(n)}return t.XS=function(t){return"3"===t.version?xp.MS:xp.BS},t.prototype.GS=function(){var t={};if(this.No===xp.MS){var n={LatensRegistration:Jp(this.$S,xp.MS)};t["X-TITANIUM-DRM-CDATA"]=Zu(JSON.stringify(n))}return t},ft(t,[{key:"YS",get:function(){return this.No}},{key:"Tc",get:function(){return this.No===xp.BS}}]),t}();var p_=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e)||this).KS=void 0,r.KS=new b_(r.GT),r}vt(i,t);var e=i.prototype;return e.rS=function(t){var i=this.GT;if(!this.GT)throw new wy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium PlayReady DRM configuration.");if(qp(i)){var e={};return e.playready={Mc:__(i,this.KS.YS)},j.resolve(e)}return j.reject(Qp(i,xp.cr))},e.cS=function(){var n=new Zc(this.KS.GS());return n.Za(t.prototype.cS.call(this)),n},e.oS=function(t,i,e){var r,u,s,o,c,a,f,h;return lr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(r=t.Dv){v.next=3;break}throw new wy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,i);case 3:return v.prev=3,v.next=6,lr.awrap(r.Sh(e));case 6:o=v.sent,c=Ss(new y(o)),(a=st.oi(c))&&(f=rb(a,"CustomData")).length>0&&(u=JSON.parse(f[0].Ai),s=null==(h=u.DrmErr)?void 0:h.desc),v.next=14;break;case 12:v.prev=12,v.t0=v.catch(3);case 14:throw new wy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,i,r.Fh,r.Wh,s);case 15:case"end":return v.stop()}},null,null,[[3,12]],j)},e.HS=function(t){if(1!==t.length)throw new wy(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"PlayReady license message incorrectly formatted, Challenge not found.");return!0},i}(m_);function __(t,n){var i=Jp(t,n),e=i.DeviceInfo.FormatVersion,r=Zu('<LatensRegistration formatversion="'+e+'"><AccountName>'+i.AccountName+"</AccountName><CustomerName>"+i.CustomerName+"</CustomerName><PortalID>"+i.PortalId+'</PortalID><DeviceInfo formatversion="'+e+'"><DeviceType>'+i.DeviceInfo.DeviceType+"</DeviceType><OSType>"+i.DeviceInfo.OSType+"</OSType><OSVersion>"+i.DeviceInfo.OSVersion+"</OSVersion><DRMProvider>"+i.DeviceInfo.DRMProvider+"</DRMProvider><DRMVersion>"+i.DeviceInfo.DRMVersion+"</DRMVersion><DRMType>"+i.DeviceInfo.DRMType+"</DRMType><DeviceVendor>"+i.DeviceInfo.DeviceVendor+"</DeviceVendor><DeviceModel>"+i.DeviceInfo.DeviceModel+"</DeviceModel></DeviceInfo></LatensRegistration>"),u=Is(("<TitaniumCustomData>"+r+"</TitaniumCustomData>").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/&lt;/g,"<").replace(/&gt;/g,">"),!0);return Is('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0"><CustomData encoding="base64encoded">'+$u(u)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>",!0)}var k_,T_=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e)||this).nS("https://playready-license.drm.technology/rightsmanager.asmx"),r}vt(i,t);var e=i.prototype;return e.HS=function(t){if(1!==t.length)throw new wy(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Vudrm PlayReady license message incorrectly formatted, Challenge not found.");return!0},e.aS=function(n,i){var e=wr({},n||{},{token:this.zS});return t.prototype.aS.call(this,e,i)},ft(i,[{key:"zS",get:function(){if(Hp(this.GT))return this.GT.token}}]),i}(m_),S_=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).nS("https://emeademo.dev.ott.irdeto.com/playready/rightsmanager.asmx"),r}return vt(n,t),n.prototype.aS=function(n,i){var e=n;return Up(this.GT)&&(e=r_(this.GT,e)),t.prototype.aS.call(this,e,i)},n}(m_),E_=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).nS("https://connect.conax.com:8010/cxplayready/rightsmanager.asmx"),r}return vt(n,t),n.prototype.cS=function(){var n=t.prototype.cS.call(this);return o_(this.GT,"PlayReady",n)},n}(m_),R_=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).nS("https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx"),r}vt(n,t);var i=n.prototype;return i.vS=function(n){return(jr(Ss(new y(n)),"<?xml")?k_.JS:k_._h)===k_._h?j.resolve(a_(n)):j.resolve(t.prototype.vS.call(this,new y(n)))},i.cS=function(){return h_(t.prototype.cS.call(this),this.zS,this.GT)},ft(n,[{key:"zS",get:function(){return f_(this.GT)}}]),n}(m_);!function(t){t[t.JS=0]="JS",t[t._h=1]="_h"}(k_||(k_={}));var I_,D_=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).QS=void 0,r}vt(n,t);var i=n.prototype;return i.cS=function(){var n=t.prototype.cS.call(this);return this.QS&&n.set("Ticket",this.QS),n.set("Content-Type","text/xml"),n},i.lS=function(n,i){var e,r;return lr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return e=this.GT,u.next=3,lr.awrap(l_(e,"playready",this.Id,i));case 3:return r=u.sent,this.nS(r.licenseServerUrl),this.QS=r.ticket,u.abrupt("return",t.prototype.lS.call(this,n,i));case 7:case"end":return u.stop()}},null,this,null,j)},n}(m_),N_=function(t){function i(){return t.apply(this,arguments)||this}return vt(i,t),i.prototype.cS=function(){if(!$p(this.GT))throw new wy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.cS.call(this);return i.set("X-AxDRM-Message",this.GT.token),i},i}(m_);!function(t){t.Ya="application/json",t.ZS="application/x-www-form-urlencoded",t.tE="application/octet-stream",t.ri="text/plain;charset=UTF-8"}(I_||(I_={}));var O_=function(t){function n(n,i,e,r,u){var s;return(s=t.call(this,n.dc,i,e,r,u)||this).nE="",s.iE=void 0,s.eE=void 0,s.eE=n.rE,s}vt(n,t);var i=n.prototype;return i.uE=function(){return this.KT.certificateURL||this.iE},i.sE=function(t){this.iE=t},i.lS=function(t){return j.resolve(this.oE(t,this.nE))},i.oE=function(t,n){return"spc="+encodeURIComponent($u(t))+"&assetId="+encodeURIComponent(n)},i.ZT=function(t){return t.fairplay||{}},i.cE=function(t){var n=t.indexOf("?");if(n>=0)return j.resolve(t.substr(n+1));var i=t.split("/");return j.resolve(i[i.length-1])},i.rS=function(t){var n,i,e,r;return lr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return i=null!=(n=this.eE)?n:Ns(new y(t)),u.next=3,lr.awrap(this.cE(i));case 3:return e=u.sent,this.nE=e,(r={}).fairplay={Hc:e},u.abrupt("return",r);case 8:case"end":return u.stop()}},null,this,null,j)},i.cS=function(){var n=t.prototype.cS.call(this);return n.set("Content-Type",this.aE),n},i.mS=function(t,n){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.gS){t.next=2;break}return t.abrupt("return",this.gS);case 2:return t.next=4,lr.awrap(this.fE(n));case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},null,this,null,j)},i.bS=function(n,i){return t.prototype.dS.call(this,n,Ed.Qh,i)},i.hE=function(t){var n=this.uE(),i=this.cS(),e={jh:n,Vh:Qc.Ga,Uh:i,av:Td.GET,dv:!1,Ih:null,fv:0,Hr:t,gr:Sd.Kh,hv:Ed.Zh};return new Dd(e)},i.fE=function(t){var n,i,e;return lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=this.hE(t),r.next=3,lr.awrap(this.Id.qh(n));case 3:return i=r.sent,r.next=6,lr.awrap(i.Sh());case 6:return e=r.sent,r.abrupt("return",new y(e));case 8:case"end":return r.stop()}},null,this,null,j)},i.vS=function(t){var n;if("string"==typeof t){var i=t.trim();"<ckc>"===i.substr(0,5)&&"</ckc>"===i.substr(-6)&&(i=i.slice(5,-6)),n=Hu(i)}else n=new y(t);return j.resolve(n)},i.aS=function(n,i){var e=t.prototype.aS.call(this,n,i);return jr(e,"skd:")&&(e=e.substr("skd:".length)),e},ft(n,[{key:"yS",get:function(){return!0}},{key:"aE",get:function(){return I_.ZS}}]),n}(yp),C_=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,Qc.Ga)||this}vt(n,t);var i=n.prototype;return i.cE=function(t){var n=t.split("://",1);if("skd"!==n[0].slice(-3).toLowerCase())return j.resolve("");var i=(n=t.split(";",2)).length>1?n[1]:"";return j.resolve(i)},i.lS=function(t){return lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,j)},i.vS=function(t){return j.resolve(new y(t))},i.aS=function(n,i){var e=n||{};return e.p1=En(),t.prototype.aS.call(this,e,i)},ft(n,[{key:"aE",get:function(){return I_.tE}}]),n}(O_),A_=function(t){function i(n,i,e,r){var u;return(u=t.call(this,n,i,e,r,Qc.Ga)||this).nS("https://fairplay-license.drm.technology/license"),u.sE("https://fairplay-license.drm.technology/certificate"),u}vt(i,t);var e=i.prototype;return e.oE=function(t,n){var i={token:this.zS,contentId:n,payload:$u(t)};return JSON.stringify(i)},e.vS=function(t){return j.resolve(new y(t))},e.cS=function(){var n=t.prototype.cS.call(this);return n.set("x-vudrm-token",this.zS),n},ft(i,[{key:"aE",get:function(){return I_.Ya}},{key:"zS",get:function(){if(!Hp(this.GT))throw new wy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Token is required for FairPlay VuDrm.");return this.GT.token}}]),i}(O_),P_="Verimatrix Fairplay license response incorrectly formatted. Invalid json.",x_="Verimatrix Fairplay license response incorrectly formatted. Ckc not found.",L_=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,Qc.Ga)||this}return vt(i,t),i.prototype.vS=function(i){var e=function(t){var i;try{i=JSON.parse(t).ckc}catch(t){throw new wy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,P_)}if(!i)throw new wy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,x_);return i}(Ss(new DataView(i)));return t.prototype.vS.call(this,e)},i}(O_);var B_=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,Qc.Ya)||this}vt(i,t);var e=i.prototype;return e.lS=function(t){var i,e;return lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(i=this.GT){r.next=3;break}throw new wy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Fairplay DRM configuration.");case 3:return e=$u(t),r.abrupt("return",Zp(i,e,xp.dr));case 5:case"end":return r.stop()}},null,this,null,j)},e.vS=function(t){try{var i;if(Pt(t)){var e=t.trim();i=JSON.parse(e)}else i=t;if(i.license){var r=Ju(i.license);return j.resolve(new y(r))}return j.reject(new wy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Titanium Fairplay license server"))}catch(t){return j.reject(new wy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Fairplay license server"))}},e.oS=function(t,n,i){return t_(t,n,i)},ft(i,[{key:"aE",get:function(){return I_.Ya}}]),i}(O_),M_=function(t){function n(n,i,e,r){var u;return(u=t.call(this,n,i,e,r,Qc.Ga)||this).nS("https://emeademo.dev.ott.irdeto.com/streaming/getckc"),u.sE("https://emeademo.dev.ott.irdeto.com/streaming/getcertificate"),u}vt(n,t);var i=n.prototype;return i.uE=function(){var n=t.prototype.uE.call(this);if(!n)return n;var i=st.ze(n),e=this.GT;return Up(e)&&Cd(i,{accountId:e.accountId,applicationId:e.applicationId||""}),i.href},i.cE=function(n){return Up(this.GT)?j.resolve(this.GT.contentId):t.prototype.cE.call(this,n)},i.lS=function(t){return lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,j)},i.vS=function(t){return j.resolve(new y(t))},i.aS=function(n,i){var e=n;return Up(this.GT)&&(e=function(t,n){return wr({},r_(t,n),{KeyId:t.keyId})}(this.GT,e)),t.prototype.aS.call(this,e,i)},ft(n,[{key:"aE",get:function(){return I_.tE}}]),n}(O_),F_=function(t){function i(i,e,r,u){var s;if(s=t.call(this,i,e,r,u,Qc.ri)||this,!Fp(e))throw new wy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Conax configuration");return s.nS("https://connect.conax.com:8097/license"),s}vt(i,t);var e=i.prototype;return e.cS=function(){var n=t.prototype.cS.call(this);return o_(this.GT,"FairPlay",n)},e.fE=function(t){var n,i,e,r;return lr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return n=this.uE(),i={jh:n,Vh:Qc.Ga,Uh:{},av:Td.GET,dv:!1,Ih:null,fv:0,Hr:t,gr:Sd.Kh,hv:Ed.Zh},u.next=4,lr.awrap(this.Id.qh(i));case 4:return e=u.sent,u.next=7,lr.awrap(e.Sh());case 7:return r=u.sent,u.abrupt("return",new y(r));case 9:case"end":return u.stop()}},null,this,null,j)},e.lS=function(t){return lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,j)},e.cE=function(t){var n,i=t.indexOf("?");return 0===t.indexOf("skd://")?(n=i>=0?t.substring("skd://".length,i):t.substring("skd://".length),j.resolve(Ss(Hu(n)))):j.resolve("unknown")},e.vS=function(t){try{var n=JSON.parse(t);return j.resolve(new y(Ju(n.CkcMessage)))}catch(t){return j.reject("CFLRW-66")}},i}(O_),U_=function(t){function i(n,i,e,r){var u;return(u=t.call(this,n,i,e,r,Qc.ri)||this).nS(Cp[Er.dr]),u}vt(i,t);var e=i.prototype;return e.cE=function(t){return jr(t,"skd://")?j.resolve(t.substring("skd://".length,40)):j.reject(new wy(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error while determining the KeyOS Content ID."))},e.oE=function(t,n){return"spc="+$u(t)+"&assetId="+n},i}(O_),V_=function(t){function n(n,i,e,r){var u;return(u=t.call(this,n,i,e,r,Qc.ri)||this).nS("https://lic.drmtoday.com/license-server-fairplay/"),u}vt(n,t);var i=n.prototype;return i.oE=function(t,n){var i="spc="+encodeURIComponent($u(t))+"&"+encodeURI(n);return"persistent"===this.KT.licenseType?i+"&offline=true":i},i.cS=function(){return h_(t.prototype.cS.call(this),this.zS,this.GT)},ft(n,[{key:"zS",get:function(){return f_(this.GT)}}]),n}(O_),W_=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,Qc.Ga)||this}vt(n,t);var i=n.prototype;return i.cE=function(t){var n=t;return jr(n,"skd:")&&(n="http:"+n.substring(4)),jr(n,"http:")||jr(n,"https:")?j.resolve(st.ze(n).hostname):j.reject(new f("Could not parse ExpressPlay FairPlay content ID."))},i.lS=function(t){return lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,j)},i.vS=function(t){return j.resolve(new y(t))},ft(n,[{key:"aE",get:function(){return I_.tE}}]),n}(O_),z_=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,Qc.ri)||this}return vt(n,t),n.prototype.cS=function(){var n=t.prototype.cS.call(this),i=this.GT.token;return n.set("Authorization","Bearer "+i),n},n}(O_),q_=function(t){function n(n,i,e,r){var u;if(u=t.call(this,n,i,e,r,Qc.Ya)||this,!jp(i))throw new f("Invalid Xstream DRM configuration");return u}vt(n,t);var i=n.prototype;return i.fE=function(t){var n,i,e,r,u;return lr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return n=this.uE(),i=this.cS(),e={jh:n,Vh:Qc.Ya,Uh:i,av:Td.POST,Hr:t,gr:Sd.Kh,hv:Ed.Zh},s.next=5,lr.awrap(this.Id.qh(e));case 5:return r=s.sent,s.next=8,lr.awrap(r._h());case 8:return u=s.sent,s.abrupt("return",new y(Hu(u.certificate)));case 10:case"end":return s.stop()}},null,this,null,j)},i.bS=function(t,n,i){var e,r,u,s,o,c,a;return lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return e=$u(t),r=this.GT,i.next=5,lr.awrap(l_(r,"fairplay",this.Id,n));case 5:return u=i.sent,s=Es(JSON.stringify({spc:e,ticket:u.ticket})),o={jh:this.iS(),Vh:Qc.Ya,Uh:this.cS(),av:Td.POST,Ih:s,fv:0,Hr:n,gr:Sd.Kh,hv:Ed.Qh},i.next=10,lr.awrap(this.Id.qh(o));case 10:return c=i.sent,i.next=13,lr.awrap(c._h());case 13:return a=i.sent,i.abrupt("return",Hu(a.licence));case 15:case"end":return i.stop()}},null,this,null,j)},ft(n,[{key:"aE",get:function(){return I_.Ya}}]),n}(O_),H_=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,Qc.ri)||this}vt(i,t);var e=i.prototype;return e.oE=function(t,n){return $u(t)},e.vS=function(i){if(0===i.length)throw new wy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Vimond license request error.");return t.prototype.vS.call(this,i)},e.cS=function(){var n=t.prototype.cS.call(this);return n.set("Content-Type","text/plain"),n},i}(O_),j_=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,Qc.Ga)||this}vt(i,t);var e=i.prototype;return e.oE=function(t,n){return t},e.vS=function(t){return j.resolve(new y(t))},e.cS=function(){if(!$p(this.GT))throw new wy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.cS.call(this);return i.set("X-AxDRM-Message",this.GT.token),i},ft(i,[{key:"aE",get:function(){return I_.Ya}}]),i}(O_),$_=function(t){function i(n,i,e,r){var u;return(u=t.call(this,n,i,e,r,Qc.Ya)||this).vE=void 0,u}vt(i,t);var e=i.prototype;return e.oE=function(t,n){var i={spc:$u(t)};return JSON.stringify(i)},e.cE=function(t){var i=st.ze(t);return this.vE=t,i.searchParams.has("b")?j.resolve(i.searchParams.get("b")):j.reject(new wy(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error during license server request: Could not extract content id"))},e.aS=function(n,i){var e=this.iS();return!e&&this.vE&&(e=this.vE),e&&(e=e.replace("skd://","https://")),t.prototype.aS.call(this,n,i||e)},e.vS=function(t){var i;return lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(i=Pt(t)?JSON.parse(t.trim()):t).ckc){e.next=4;break}return e.abrupt("return",Hu(i.ckc));case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),new wy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Uplynk Fairplay license server");case 9:throw new wy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Uplynk Fairplay license server");case 10:case"end":return e.stop()}},null,null,[[0,6]],j)},ft(i,[{key:"aE",get:function(){return I_.ri}}]),i}(O_),X_=function(){function t(t,n){this.dE=t,this.lE=n}var n=t.prototype;return n.wE=function(t){return this.dE(t)},n.gE=function(t,n){throw new h(n+" must be "+this.lE+". (Received: "+t+")")},t}();new X_(function(t){return!0},"any");var G_=new X_(Bt,"a number"),Y_=new X_(Pt,"a string"),K_=new X_(xt,"a boolean");new X_(function(t){return"[object Date]"===Rt.call(t)},"a date"),new X_(Dt,"undefined"),new X_(Ct,"an object"),new X_(function(t){return null===t},"null"),new X_(function(t){return null==t},"null or undefined");var J_,Q_=(J_={responseCode:G_,isException:K_,description:Y_,title:Y_,correlationId:Y_},{wE:function(t){if(!Ct(t))return!1;for(var n=0,i=v.keys(J_);n<i.length;n++){var e=i[n];if(!J_[e].wE(t[e]))return!1}return!0},gE:function(t,n){if(!Ct(t))throw new h(n+" must be an object.");for(var i=0,e=v.keys(J_);i<e.length;i++){var r=e[i],u=J_[r];if(!u.wE(t[r]))return u.gE(t[r],n+"."+String(r))}throw new h}});function Z_(t,n,i,e,r){var u;return lr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return u=tk(t,n,i,r),s.next=3,lr.awrap(nk(u,e));case 3:return s.abrupt("return",s.sent);case 4:case"end":return s.stop()}},null,null,null,j)}function tk(t,n,i,e){var r={token:n.token,account:n.accountId,form:"json"},u=decodeURIComponent(function(t,n){var i=st.ze(t);return Cd(i,n),i.toString()}(i,r)),s=new Zc({});s.append("Content-Type","application/json");var o=$u(t),c={getFairplayLicense:{releasePid:n.releasePid,spcMessage:o}};return{jh:u,Vh:Qc.ri,Uh:s,av:Td.POST,Ih:JSON.stringify(c),Hr:e,gr:Sd.Kh,hv:Ed.Qh}}function nk(t,i){var e,r;return lr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,lr.awrap(i.qh(t));case 2:return e=u.sent,u.next=5,lr.awrap(e._h());case 5:if(r=u.sent,!Q_.wE(r)){u.next=8;break}throw new wy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,r.description,void 0,t.jh,r.responseCode);case 8:return u.abrupt("return",Hu(r.getFairplayLicenseResponse.ckcResponse));case 9:case"end":return u.stop()}},null,null,null,j)}var ik=function(t){function n(n,i,e,r){var u;return(u=t.call(this,n,i,e,r,Qc.Ga)||this).yE=void 0,u.yE=i,u}vt(n,t);var i=n.prototype;return i.cE=function(n){var i=n.replace("FairPlay",this.yE.releasePid);return t.prototype.cE.call(this,i)},i.bS=function(t,n){return lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,lr.awrap(Z_(t,this.yE,this.iS(),this.Id,n));case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},null,this,null,j)},n}(O_),ek=function(t){function i(n,i,e){return t.call(this,zr,n,i,e,Qc.Ga)||this}vt(i,t);var e=i.prototype;return e.ZT=function(t){return t.clearkey||{}},e.lS=function(t,n){return lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",bp(t,this.KT));case 1:case"end":return n.stop()}},null,this,null,j)},e.uS=function(i,e,r,u){var s,o;return lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=this.KT,!this.iS()){e.next=5;break}return e.abrupt("return",t.prototype.uS.call(this,i,this.QT,r,u));case 5:if(!s.keys||!s.keys.length){e.next=10;break}return o={keys:s.keys.map(function(t){var n=t;return n||(n={}),{kty:"oct",kid:n.id,k:n.value}})},e.abrupt("return",Es(JSON.stringify(o)).buffer);case 10:throw new wy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The clearkey license has not been configured correctly.");case 11:case"end":return e.stop()}},null,this,null,j)},e.mS=function(t,n){return j.resolve(new y(0))},e.bS=function(n,i){return t.prototype.dS.call(this,n,Ed.rv,i)},i}(yp),rk=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.lS=function(t,n){return lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",bp(t,this.KT));case 1:case"end":return n.stop()}},null,this,null,j)},n}(kp),uk={url:"",method:"GET",headers:{},body:null,useCredentials:!1};function sk(t,n,i){var e,r,u;return lr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(e=wk(n),(r=t.onCertificateRequest)&&"function"==typeof r){s.next=5;break}return s.abrupt("return",j.resolve(n));case 5:return s.next=8,lr.awrap(bu(j.resolve(r.call(t,e)),i));case 8:if(!xs(u=s.sent)){s.next=11;break}return s.abrupt("return",Ls(u));case 11:return s.abrupt("return",lk(wr({},uk,u)));case 12:case"end":return s.stop()}},null,null,null,j)}function ok(t,n,i,e,r){var u,s,o;return lr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(u=t.onCertificateResponse,s=dk(n,i,e),u&&"function"==typeof u){c.next=5;break}return c.abrupt("return",j.resolve(n));case 5:return c.next=8,lr.awrap(bu(j.resolve(u.call(t,s)),r));case 8:return o=c.sent,c.abrupt("return",Ls(o));case 10:case"end":return c.stop()}},null,null,null,j)}function ck(t,n,i,e){var r;return lr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,lr.awrap(fk(t,n,i,e));case 2:if(!((r=u.sent)instanceof ArrayBuffer)){u.next=5;break}return u.abrupt("return",r);case 5:return u.abrupt("return",lk(r));case 6:case"end":return u.stop()}},null,null,null,j)}function ak(t,n,i,e,r,u){var s,o;return lr.async(function(c){for(;;)switch(c.prev=c.next){case 0:return s=vk(i,r),c.next=3,lr.awrap(hk(t,new y(n),s,e,u));case 3:return o=c.sent,c.abrupt("return",Ls(o).buffer);case 5:case"end":return c.stop()}},null,null,null,j)}function fk(t,n,i,e){var r,u,s;return lr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(r=null==t?void 0:t.onLicenseRequest,u=vk(n,i),r&&"function"==typeof r){o.next=5;break}return o.abrupt("return",j.resolve(u));case 5:return o.next=8,lr.awrap(bu(j.resolve(r.call(t,u)),e));case 8:if(!xs(s=o.sent)){o.next=11;break}return o.abrupt("return",Ls(s).buffer);case 11:return o.abrupt("return",wr({fairplaySkdUrl:void 0},uk,s));case 12:case"end":return o.stop()}},null,null,null,j)}function hk(t,n,i,e,r){var u,s,o;return lr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(u=null==t?void 0:t.onLicenseResponse,s=dk(n,i,e),u&&"function"==typeof u){c.next=5;break}return c.abrupt("return",j.resolve(n));case 5:return c.next=8,lr.awrap(bu(j.resolve(u.call(t,s)),r));case 8:return o=c.sent,c.abrupt("return",Ls(o));case 10:case"end":return c.stop()}},null,null,null,j)}function vk(t,n){return wr({},wk(t),{fairplaySkdUrl:n})}function dk(t,n,i){return{url:i.Hh,status:i.Fh,statusText:i.Wh,headers:i.Uh.Ja(),body:t,request:n}}function lk(t){return new Dd({jh:t.url,av:t.method,Uh:t.headers,Ih:t.body,dv:t.useCredentials})}function wk(t){var n;return{url:t.jh,body:null!=(n=gk(t.Ih))?n:null,headers:t.Uh.Ja(),method:t.av,useCredentials:t.dv}}function gk(t){if(t)return"string"==typeof t?Os(t):t instanceof ArrayBuffer?new y(t):Gu(t)?Ps(t):void 0}var yk,mk=function(t){function i(n,i,e,r){var u;return(u=t.call(this,n,i,e)||this).mE=void 0,u.mE=r,u}vt(i,t);var e=i.prototype;return e.mS=function(t,n){return j.resolve(t)},e.bS=function(t,i){var e,r,u,s,o;return lr.async(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,lr.awrap(this.jS(Ms(t).buffer));case 2:return e=c.sent,r=this.sS(e,Qc.Ga,Ed.ev,i),c.next=6,lr.awrap(ck(this.mE,r,void 0,i));case 6:if(!((u=c.sent)instanceof ArrayBuffer)){c.next=10;break}return c.abrupt("return",new y(u));case 10:if(""!==u.jh){c.next=12;break}throw new wy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 12:return c.prev=12,c.next=15,lr.awrap(this.Id.qh(u));case 15:return s=c.sent,c.next=18,lr.awrap(s.Sh(i));case 18:return o=c.sent,c.t0=y,c.next=22,lr.awrap(ak(this.mE,o,r,s,void 0,i));case 22:return c.t1=c.sent,c.abrupt("return",new c.t0(c.t1));case 26:throw c.prev=26,c.t2=c.catch(12),yu(c.t2),new wy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during PlayReady license request",c.t2);case 30:case"end":return c.stop()}},null,this,[[12,26]],j)},i}(m_),bk=function(t){function i(n,i,e,r){var u;return(u=t.call(this,n,i,e,Qc.Ga)||this).mE=void 0,u.mE=r,u}vt(i,t);var e=i.prototype;return e.mS=function(t,i){var e,r,u,s,o;return lr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(!this.gS){c.next=2;break}return c.abrupt("return",this.gS);case 2:return e=this.sS(t,Qc.Ga,Ed.nv,i),c.next=5,lr.awrap(sk(this.mE,e,i));case 5:if(!((r=c.sent)instanceof y)){c.next=9;break}return c.abrupt("return",r);case 9:if(""!==r.jh){c.next=11;break}throw new wy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The certificate request URL has not been correctly configured.");case 11:return c.prev=11,c.next=14,lr.awrap(this.Id.qh(r));case 14:return u=c.sent,c.next=17,lr.awrap(u.Sh(i));case 17:s=c.sent,c.next=24;break;case 20:throw c.prev=20,c.t0=c.catch(11),yu(c.t0),new wy(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during Widevine certificate request",c.t0);case 24:return o=vk(e,void 0),c.next=27,lr.awrap(ok(this.mE,new y(s),o,u,i));case 27:return c.abrupt("return",c.sent);case 28:case"end":return c.stop()}},null,this,[[11,20]],j)},e.bS=function(t,i){var e,r,u,s;return lr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=this.sS(t,Qc.Ga,Ed.tv,i),o.next=3,lr.awrap(ck(this.mE,e,void 0,i));case 3:if(!((r=o.sent)instanceof ArrayBuffer)){o.next=7;break}return o.abrupt("return",new y(r));case 7:if(""!==r.jh){o.next=9;break}throw new wy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return o.prev=9,o.next=12,lr.awrap(this.Id.qh(r));case 12:return u=o.sent,o.next=15,lr.awrap(u.Sh(i));case 15:s=o.sent,o.next=22;break;case 18:throw o.prev=18,o.t0=o.catch(9),yu(o.t0),new wy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Widevine license request",o.t0);case 22:return o.t1=y,o.next=25,lr.awrap(ak(this.mE,s,e,u,void 0,i));case 25:return o.t2=o.sent,o.abrupt("return",new o.t1(o.t2));case 27:case"end":return o.stop()}},null,this,[[9,18]],j)},i}(rk),pk=function(t){function i(n,i,e,r,u){var s;return(s=t.call(this,n,i,e,r,Qc.Ga)||this).mE=void 0,s.bE=void 0,s.mE=u,s}vt(i,t);var e=i.prototype;return e.mS=function(t,i){var e,r,u,s,o;return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.gS){t.next=2;break}return t.abrupt("return",this.gS);case 2:return e=this.hE(i),t.next=5,lr.awrap(sk(this.mE,e,i));case 5:if(r=t.sent,!Gu(r)){t.next=8;break}return t.abrupt("return",r);case 8:return t.prev=8,t.next=11,lr.awrap(this.Id.qh(r));case 11:return u=t.sent,t.next=14,lr.awrap(u.Sh());case 14:return s=t.sent,o=vk(e,void 0),t.next=18,lr.awrap(ok(this.mE,new y(s),o,u,i));case 18:return t.abrupt("return",t.sent);case 21:throw t.prev=21,t.t0=t.catch(8),yu(t.t0),new wy(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during FairPlay certificate request",t.t0);case 25:case"end":return t.stop()}},null,this,[[8,21]],j)},e.bS=function(t,i){var e,r,u,s;return lr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=this.sS(t,Qc.Ga,Ed.Qh,i),o.next=3,lr.awrap(ck(this.mE,e,this.bE,i));case 3:if(!((r=o.sent)instanceof ArrayBuffer)){o.next=7;break}return o.abrupt("return",new y(r));case 7:if(""!==r.jh){o.next=9;break}throw new wy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return o.prev=9,o.next=12,lr.awrap(this.Id.qh(r));case 12:return u=o.sent,o.next=15,lr.awrap(u.Sh(i));case 15:return s=o.sent,o.t0=y,o.next=19,lr.awrap(ak(this.mE,s,e,u,this.bE,i));case 19:return o.t1=o.sent,o.abrupt("return",new o.t0(o.t1));case 23:throw o.prev=23,o.t2=o.catch(9),yu(o.t2),new wy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during FairPlay license request",o.t2);case 27:case"end":return o.stop()}},null,this,[[9,23]],j)},e.cE=function(n){var i;return this.bE=n,null!=(i=this.mE)&&i.extractFairplayContentId?j.resolve(this.mE.extractFairplayContentId(n)):t.prototype.cE.call(this,n)},i}(O_),_k=function(){function t(){}var n=t.prototype;return n.pE=function(t,n,i,e){switch(t.dc.gr){case Er.ar:return this._E(n,i,e);case Er.cr:return this.kE(n,i,e);case Er.dr:return this.TE(t,n,i,e);case Er.hr:default:return this.SE(n,i,e)}},n._E=function(t,n,i){var e,r=(e=t).integration===gp&&Pt(e.customIntegrationId)?t.customIntegrationId:t.integration;if(r&&Np.LS.AS(r,Pr)){var u=Np.LS.xS(r,Pr,t);return new bk(t,n,i,u)}switch(r){case np:return new i_(t,n,i);case up:return new e_(t,n,i);case rp:return new u_(t,n,i);case ip:return new c_(t,n,i);case cp:return new v_(t,n,i);case fp:return new d_(t,n,i);case hp:return new w_(t,n,i);case dp:return new g_(t,n,i);case op:default:return new rk(t,n,i,Qc.Ga)}},n.kE=function(t,n,i){var e=t.integration;if(e&&Np.LS.AS(e,Or)){var r=Np.LS.xS(e,Or,t);return new mk(t,n,i,r)}switch(e){case np:return new p_(t,n,i);case up:return new T_(t,n,i);case rp:return new S_(t,n,i);case ip:return new E_(t,n,i);case cp:return new R_(t,n,i);case hp:return new D_(t,n,i);case dp:return new N_(t,n,i);case op:default:return new m_(t,n,i)}},n.TE=function(t,n,i,e){var r=n.integration;if(r&&Np.LS.AS(r,Mr)){var u=Np.LS.xS(r,Mr,n);return new pk(t,n,i,e,u)}switch(r){case ep:return new C_(t,n,i,e);case up:return new A_(t,n,i,e);case sp:return new L_(t,n,i,e);case np:return new B_(t,n,i,e);case rp:return new M_(t,n,i,e);case ip:return new F_(t,n,i,e);case op:return new U_(t,n,i,e);case cp:return new V_(t,n,i,e);case ap:return new W_(t,n,i,e);case fp:return new z_(t,n,i,e);case hp:return new q_(t,n,i,e);case vp:return new H_(t,n,i,e);case dp:return new j_(t,n,i,e);case lp:return new $_(t,n,i,e);case wp:return new ik(t,n,i,e);default:return new O_(t,n,i,e,Qc.ri)}},n.SE=function(t,n,i){return new ek(t,n,i)},n.EE=function(t){return t.gr===Er.cr||t.gr===Er.ar||t.gr===Er.dr||t.gr===Er.hr},n.Tc=function(t,n){var i;if(t.gr!==Er.cr)return!1;if(It(null==(i=n.playready)?void 0:i.customData))return!0;var e=n.integration;return(!e||!Np.LS.AS(e,Mr))&&(e===np&&new b_(n).Tc)},n.US=function(t,n){if(t.gr===Er.ar){var i=n.integration;if(!i||!Np.LS.AS(i,Mr))return i===np?i_.US():void 0}},t}();!function(t){t[t.RE=0]="RE",t[t.IE=1]="IE",t[t.DE=2]="DE",t[t.NE=3]="NE",t[t.OE=4]="OE",t[t.CE=5]="CE",t[t.nw=6]="nw",t[t.AE=7]="AE",t[t.ow=8]="ow",t[t.PE=9]="PE",t[t.xE=10]="xE"}(yk||(yk={}));var kk=function(){function t(){}return t.prototype.LE=function(t){},ft(t,[{key:"BE",get:function(){return 0}},{key:"ME",get:function(){return 0}}]),t}(),Tk=function(){function t(t,n){void 0===n&&(n=new _k),this.kT=void 0,this.FE=void 0,this.$S=void 0,this.kT=t,this.FE=n}var n=t.prototype;return n.UE=function(t){this.$S=t},n.US=function(t){var n=this.$S;if(void 0!==n)return this.FE.US(t,n)},n.Tc=function(t){var n=this.$S;return void 0!==n&&this.FE.Tc(t,n)},n.VE=function(t){var n={dc:t.dc,WE:t.WE||[],rE:t.rE},i=this.FE.pE(n,this.$S||{},t.YT,this.kT);return new Sk(i)},t}(),Sk=function(){function t(t){this.zE=void 0,this.zE=t}var n=t.prototype;return n.eS=function(t){return this.zE.eS(t)},n.rS=function(t,n,i){return this.zE.rS(n,i)},n.yS=function(){return this.zE.yS||void 0!==this.zE.gS},n.mS=function(t,n){return this.zE.mS(t,n)},n.bS=function(t,n,i){return n&&this.zE.nS(n),this.zE.bS(t,i)},n.Lr=function(){this.zE.et()},t}(),Ek=function(t){function n(n){var i;(i=t.call(this)||this).qE=[],i.HE=function(t){i.ol(t.Ld)},i.jE=function(t){var n=t.Ld;i.$E(n)||i.cl(n)};for(var e=0;e<n.length;e++){var r=n[e];i.XE(r)}return i}vt(n,t);var i=n.prototype;return i.XE=function(t){this.qE.push(t);for(var n=0,i=t.hl;n<i.length;n++){var e=i[n];this.ol(e)}this.GE(t)},i.YE=function(t){cu(this.qE,t),this.KE(t);for(var n=0,i=t.hl;n<i.length;n++){var e=i[n];this.$E(e)||this.cl(e)}},i.$E=function(t){for(var n=0,i=this.qE;n<i.length;n++){if(i[n].al(t))return!0}return!1},i.GE=function(t){t.Kr(lw.Dd,this.HE),t.Kr(lw.Od,this.jE)},i.KE=function(t){t.tu(lw.Dd,this.HE),t.tu(lw.Od,this.jE)},i.et=function(){for(;this.qE.length>0;)this.YE(this.qE[0]);t.prototype.et.call(this)},i.xd=function(){return tg(this)},n}(Ew);function Rk(t){return{get enabled(){return t._l},set enabled(n){t._l=Bw(n)},get currentLatency(){return t.Uw},get streamConfiguration(){if(void 0!==t.JE)return function(t){return{get minimumOffset(){return t.Ow},get maximumOffset(){return t.Aw},get targetOffset(){return t.Cw},get forceSeekOffset(){return t.Pw},get minimumPlaybackRate(){return t.xw},get maximumPlaybackRate(){return t.Lw}}}(t.JE)},get configuration(){return function(t){return{get minimumOffset(){return t.Ow},set minimumOffset(n){t.Ow=Mw(n)},get maximumOffset(){return t.Aw},set maximumOffset(n){t.Aw=Mw(n)},get targetOffset(){return t.Cw},set targetOffset(n){t.Cw=Mw(n)},get forceSeekOffset(){return t.Pw},set forceSeekOffset(n){t.Pw=Mw(n)},get minimumPlaybackRate(){return t.xw},set minimumPlaybackRate(n){t.xw=Mw(n)},get maximumPlaybackRate(){return t.Lw},set maximumPlaybackRate(n){t.Lw=Mw(n)},update:function(n){t.sc(function(t){var n={};void 0!==t.minimumOffset&&(n.Ow=Mw(t.minimumOffset));void 0!==t.maximumOffset&&(n.Aw=Mw(t.maximumOffset));void 0!==t.targetOffset&&(n.Cw=Mw(t.targetOffset));void 0!==t.forceSeekOffset&&(n.Pw=Mw(t.forceSeekOffset));void 0!==t.minimumPlaybackRate&&(n.xw=Mw(t.minimumPlaybackRate));void 0!==t.maximumPlaybackRate&&(n.Lw=Mw(t.maximumPlaybackRate));return n}(n))}}}(t.lc)}}}var Ik,Dk=function(){function t(){this.Ad=void 0,this.QE=void 0,this.QE={Pw:0,Aw:0,Lw:0,Ow:0,xw:0,Cw:0,sc:Mt}}return ft(t,[{key:"Pd",get:function(){return null!=this.Ad||(this.Ad=Rk(this)),this.Ad}},{key:"_l",get:function(){return!1},set:function(t){}},{key:"Uw",get:function(){}},{key:"JE",get:function(){}},{key:"lc",get:function(){return this.QE}}]),t}();function Nk(){return Ik||(Ik=Z&&Z.document&&Z.document.createElement("video")),Ik}var Ok=function(t){function i(i,e,r,u,s,o,c){var a;return void 0===o&&(o=new _k),void 0===c&&(c=jc()),(a=t.call(this)||this).ZE=void 0,a.tR=void 0,a.nR=void 0,a.Gw=void 0,a.Yw=void 0,a.Kw=void 0,a.iR=void 0,a.eR=void 0,a.rR=void 0,a.uR=void 0,a.sR=void 0,a.kT=void 0,a.kr=void 0,a.oR=void 0,a.cR=void 0,a.aR=new kk,a.fR=new Dk,a.hR=function(t){var i=t.fu,e=i.code,r=new Cc(function(t){switch(t){case vy.ABORTED:return n.ErrorCode.MEDIA_ABORTED;case vy.NETWORK:return n.ErrorCode.NETWORK_ERROR;case vy.DECODE:return n.ErrorCode.MEDIA_DECODE_ERROR;case vy.SRC_NOT_SUPPORTED:return n.ErrorCode.SOURCE_NOT_SUPPORTED;case vy.ENCRYPTED:return n.ErrorCode.CONTENT_PROTECTION_ERROR;case vy.LICENSE_INVALID:return n.ErrorCode.LICENSE_ERROR;case vy.ADVERTISEMENT_ERROR:return n.ErrorCode.AD_ERROR}}(e),"Something went wrong during native playback.",i),u=new gy(e,r.message,i.message);a.vR(r,u)},a.dR=function(){a.Yr(new Fg(a.bw,a.Tg))},a.lR=function(t){a.Sw||(a.cR=void 0),a.Yr(t)},a.wR=function(t){a.cR=void 0,a.Yr(t)},a.gR=function(){a.Yr(new By(a.Eg))},a.yR=function(){a.Dw>0&&a.Iw>0&&a.Yr(new zb)},a.mR=function(t){a.Gw.ol(new Ny(t.track))},a.bR=function(t){var n=Ak(a.Gw,t.track);n&&a.Gw.cl(n)},a.pR=function(){a._R(a.Gw)},a.kR=function(t){a.Yw.ol(new Ly(t.track))},a.TR=function(t){var n=Ak(a.Yw,t.track);n&&a.Yw.cl(n)},a.SR=function(){a._R(a.Yw)},a.ER=function(t){a.Yr(t),a.vR(t.errorObject,my(t.errorObject))},a.ZE=e,a.kT=r,a.kr=c,a.tR=a.ZE.G(by.ov),a.rR=a.tR.RR.preload,a.uR=new tp(a.tR,!0),a.uR.Kr(xg,a.Gr),a.oR=new Tk(r,o),a.tR.IR=a.oR,a.DR(),a.Gw=new py,a.Yw=new py,a.NR(),a.sR=new Lb(a.tR,a.kT),a.Kw=new Ek([a.tR.ig]),a.vg(),a}vt(i,t);var e=i.prototype;return e.dg=function(){this.tR.dg()},e.vg=function(){this.tR.vg()},e.sg=function(t,n,i){var e;return lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return gu(i),e={gr:Wb.OT,Vl:t.src,Rh:t.type,OR:this.CR(t),xg:this.rR,AR:t.crossOrigin,PR:n.metadata&&n.metadata.title},this.oR.UE(t.contentProtection),r.next=5,lr.awrap(this.tR.rc(e));case 5:this.nR=r.sent,gu(i),n.textTracks&&this.xR(n.textTracks),Vb(this.ig);case 9:case"end":return r.stop()}},null,this,null,j)},e.xR=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(this.tR.LR()&&St._n&&Kb&&!Rb(i.kind,i.label)&&this.MR(i)){var e,r=null!=(e=i.kind)?e:pb.ip;this.tR.FR(i.src,r,i.label,i.srclang)}else{if(void 0===i.src)continue;this.sR.ST(i)}}},e.MR=function(t){return!t.format||"webvtt"===t.format},e.Y=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,lr.awrap(this.tR.Y());case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:if(this.UR){t.next=12;break}return t.next=10,lr.awrap(this.tR.ru(Jc.Ca));case 10:t.next=7;break;case 12:case"end":return t.stop()}},null,this,[[0,5]],j)},e.K=function(){this.tR.K()},e.og=function(){return void 0!==this.tR.RR.webkitShowPlaybackTargetPicker},e.cg=function(){this.tR.RR.webkitShowPlaybackTargetPicker&&this.tR.RR.webkitShowPlaybackTargetPicker()},e.ag=function(){this.tR.RR.webkitShowPlaybackTargetPicker&&this.tR.RR.webkitShowPlaybackTargetPicker()},e.lg=function(){return this.tR.RR},e.wg=function(){return this.tR.WR},e.fl=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.iR=void 0,this.eR=void 0,this.nR=void 0,t.next=5,lr.awrap(this.sR.fl());case 5:return this.tR.zR(),t.next=8,lr.awrap(this.tR.fl());case 8:this.uR.fl(),this.xg=this.rR,this.tg.fl(),this.ng.fl(),this.cR=void 0;case 13:case"end":return t.stop()}},null,this,null,j)},e.et=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,lr.awrap(this.fl());case 2:return this.Zr(),this.qR(),this.HR(),this.uR.et(),this.tR.IR=void 0,t.next=9,lr.awrap(this.ZE.nt(this.tR));case 9:return this.Gw.et(),this.Yw.et(),this.Kw.et(),t.next=14,lr.awrap(this.sR.et());case 14:case"end":return t.stop()}},null,this,null,j)},e.DR=function(){this.tR.Kr(Jc.Oa,this.Gr),this.tR.Kr(Jc.Na,this.Gr),this.tR.Kr(Jc.qa,this.dR),this.tR.Kr(Jc.Ca,this.Gr),this.tR.Kr(Jc.Sa,this.Gr),this.tR.Kr(Jc.Ba,this.Gr),this.tR.Kr(Jc.La,this.lR),this.tR.Kr(Jc._a,this.Gr),this.tR.Kr(Jc.Aa,this.Gr),this.tR.Kr(Jc.Ha,this.Gr),this.tR.Kr(Jc.ba,this.Gr),this.tR.Kr(Jc.xa,this.yR),this.tR.Kr(Dg.mw,this.wR),this.tR.Kr(Yw.Nl,this.hR),this.tR.Kr(Jc.ga,this.Gr),this.tR.Kr(Jc.wa,this.ER),this.tR.RR.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.gR)},e.qR=function(){this.tR.tu(Jc.Oa,this.Gr),this.tR.tu(Jc.Na,this.Gr),this.tR.tu(Jc.qa,this.dR),this.tR.tu(Jc.Ca,this.Gr),this.tR.tu(Jc.Sa,this.Gr),this.tR.tu(Jc.Ba,this.Gr),this.tR.tu(Jc.La,this.lR),this.tR.tu(Jc._a,this.Gr),this.tR.tu(Jc.Aa,this.Gr),this.tR.tu(Jc.Ha,this.Gr),this.tR.tu(Jc.ba,this.Gr),this.tR.tu(Jc.xa,this.yR),this.tR.tu(Dg.mw,this.wR),this.tR.tu(Yw.Nl,this.hR),this.tR.tu(Jc.ga,this.Gr),this.tR.tu(Jc.wa,this.ER),this.tR.RR.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.gR)},e.CR=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{dc:Wr,jR:[{initDataTypes:[Wr.mr],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},e.NR=function(){var t=this.tR.RR.audioTracks,n=this.tR.RR.videoTracks;t&&(t.addEventListener("addtrack",this.mR),t.addEventListener("removetrack",this.bR),t.addEventListener("change",this.pR)),n&&(n.addEventListener("addtrack",this.kR),n.addEventListener("removetrack",this.TR),n.addEventListener("change",this.SR))},e.HR=function(){var t=this.tR.RR.audioTracks,n=this.tR.RR.videoTracks;t&&(t.removeEventListener("addtrack",this.mR),t.removeEventListener("removetrack",this.bR),t.removeEventListener("change",this.pR)),n&&(n.removeEventListener("addtrack",this.kR),n.removeEventListener("removetrack",this.TR),n.removeEventListener("change",this.SR))},e._R=function(t){for(var n=0;n<t.vl;n++){t.sl(n).jg()}},e._g=function(){this.tR._g()},e.vR=function(t,n){this.iR||(this.iR=n,this.eR=t,this.Yr(new Xg(t)))},ft(i,[{key:"UR",get:function(){var t=this.tR.kg,n=this.bw;return t.$R(n,.01)}},{key:"tg",get:function(){return this.Gw}},{key:"kg",get:function(){return this.tR.kg.XR()}},{key:"Tg",get:function(){return this.tR.Tg},set:function(t){t&&this.tR.GR(t)}},{key:"bw",get:function(){return void 0!==this.cR?this.cR:this.tR.bw},set:function(t){this.Eg&&(this.cR=t),this.tR.Eu(t)}},{key:"pw",get:function(){return this.tR.pw}},{key:"_w",get:function(){return this.tR._w}},{key:"fu",get:function(){return this.iR}},{key:"kw",get:function(){return this.eR}},{key:"eg",get:function(){}},{key:"Eg",get:function(){return this.tR.Eg}},{key:"zw",get:function(){return wr({},{Rg:0,Ig:0,Dg:0,Ng:0,Og:0,Cg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.tR.YR())}},{key:"Tw",get:function(){return this.tR.Tw},set:function(t){this.tR.Tw=t}},{key:"Ag",get:function(){return!0}},{key:"Sw",get:function(){return this.tR.Sw}},{key:"Ew",get:function(){return this.tR.Ew},set:function(t){this.tR.Ew=t}},{key:"Pg",get:function(){return this.tR.RR.played}},{key:"xg",get:function(){return this.rR},set:function(t){this.rR=t,this.nR&&(this.nR.xg=t)}},{key:"Ml",get:function(){return this.tR.Ml}},{key:"Lg",get:function(){return this.tR.Lg.XR()}},{key:"Rw",get:function(){return this.tR.Rw}},{key:"KR",get:function(){return this.tR.KR}},{key:"ig",get:function(){return this.Kw}},{key:"ng",get:function(){return this.Yw}},{key:"Iw",get:function(){return this.tR.Iw}},{key:"Dw",get:function(){return this.tR.Dw}},{key:"Nw",get:function(){return this.tR.Nw},set:function(t){this.tR.Nw=t}},{key:"Bg",get:function(){return this.fR}},{key:"Mg",get:function(){return this.tR.Mg},set:function(t){this.tR.Mg=t}},{key:"JR",get:function(){return this.aR}}]),i}(eg);var Ck=function(){function t(){this.QR=yk.xE}var n=t.prototype;return n.DS=function(t,n,i,e,r,u){return new Ok(t,n,i,e,r)},n.ZR=function(t,n){return function(t){return!t.type||!(!Nk().canPlayType||!Nk().canPlayType(t.type))}(t)},n.tI=function(){return!1},t}();function Ak(t,n){for(var i=0,e=t.hl;i<e.length;i++){var r=e[i];if(r.Gg===n)return r}}var Pk=function(){function t(){this.nI=new Ck,this.iI=[]}t.eI=function(){return this.Zn};var n=t.prototype;return n.rI=function(t){this.iI.push(t)},n.DS=function(t,n,i,e,r,u){for(var s=this.nI.DS(t,n,i,e,r,u),o=0,c=this.iI;o<c.length;o++){s=(0,c[o])(s,i,e)}return s},n.ZR=function(t,n){return this.nI.ZR(t,n)},n.tI=function(){return!1},ft(t,[{key:"QR",get:function(){return this.nI.QR}}]),t}();function xk(t,n){return eu(t.QR,n.QR)}Pk.Zn=new Pk;var Lk=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).uI=Pk.eI(),n}vt(n,t);var i=n.prototype;return i.sI=function(t){this.uI=t},i.oI=function(){return this.uI},i.cI=function(t,n){var i,e,r,u,s,o;return lr.async(function(c){for(;;)switch(c.prev=c.next){case 0:i=0;case 1:if(!(i<t.length)){c.next=11;break}return e=t[i],c.next=5,lr.awrap(this.aI(e,n));case 5:if(!(r=c.sent)){c.next=8;break}return c.abrupt("return",{fI:e,hI:r});case 8:i++,c.next=1;break;case 11:u=this.uI,s=0;case 13:if(!(s<t.length)){c.next=20;break}if(o=t[s],!u.ZR(o,n)){c.next=17;break}return c.abrupt("return",{fI:o,hI:u});case 17:s++,c.next=13;break;case 20:return c.abrupt("return",{fI:t[0],hI:u});case 21:case"end":return c.stop()}},null,this,null,j)},n}(function(){function t(){this.vI=[]}var n=t.prototype;return n.dI=function(t){this.vI.push(t),this.vI.sort(xk)},n.aI=function(t,n){var i,e,r,u;return lr.async(function(s){for(;;)switch(s.prev=s.next){case 0:i=0,e=this.vI;case 1:if(!(i<e.length)){s.next=17;break}if(r=e[i],!Lt(u=r.ZR(t,n))){s.next=10;break}return s.next=7,lr.awrap(u);case 7:s.t0=s.sent,s.next=11;break;case 10:s.t0=Boolean(u);case 11:if(!s.t0){s.next=14;break}return s.abrupt("return",r);case 14:i++,s.next=1;break;case 17:return s.abrupt("return",void 0);case 18:case"end":return s.stop()}},null,this,null,j)},t}());Lk.Zn=new Lk;var Bk,Mk=function(){function t(t){var n,i;this.lI=void 0,this.lI=Z&&Z.document&&Z.document.createElement("div"),n=this.lI,(i=n.style).position="absolute",i.left="0",i.right="0",i.top="0",i.bottom="0",i.width="100%",i.height="100%",t.appendChild(this.lI)}return t.prototype.et=function(){He(this.lI)},t}();function Fk(t){switch(t){case Bk.wI:case"":return Bk.wI;case Bk.rp:return Bk.rp;case Bk.gI:default:return Bk.gI}}!function(t){t.xE="",t.gI="none",t.rp="metadata",t.wI="auto"}(Bk||(Bk={}));var Uk=[Yw.Nl,Jc.pa,Jc.hu,Jc.Xa,Jc.ha,Jc.ka,Jc.Ia,Jc.Da,Jc.Fa,Jc.Va,Dg.dw,Dg.lw,Dg.ww,Dg.gw,Dg.Gd,Dg.yw,Dg.mw,Jc.wa,Jc.ga,Jc.ba,Jc._a,Jc.Sa,Jc.Ea,Jc.Oa,Jc.Ca,Jc.Na,Jc.Aa,Jc.xa,Jc.Ba,Jc.La,Jc.qa,Jc.Ha,Jc.Pa,Jc.Ra,Jc.Ma],Vk=function(t){function n(n,i){var e;return(e=t.call(this)||this).yI=void 0,e.mI=void 0,e.bI=void 0,e.pI=void 0,e.rR=Bk.gI,e._I=void 0,e.kI=!0,e.Gw=new Kw,e.Yw=new Kw,e.Kw=new ig,e.Jw=new dy,e.yI=n,e.bI=i,e.bI.xg=e.xg,e.TI(),e}vt(n,t);var i=n.prototype;return i.K=function(){this.bI.K()},i.Y=function(){var t=this.bI.Y();Lt(t)&&Tu(t)},i.rg=function(){return this.sg(void 0)},i.st=function(){},i.yg=function(t){return!1},i.TI=function(){this.Gw.ml=this.bI.tg,this.Yw.ml=this.bI.ng,this.Kw.ml=this.bI.ig,this.Jw.ml=this.bI.eg,this.bI.Kr(Uk,this.Gr)},i.SI=function(){this.bI.tu(Uk,this.Gr),this.Gw.ml=void 0,this.Yw.ml=void 0,this.Kw.ml=void 0,this.Jw.ml=void 0},i.ug=function(){return this._I},i.sg=function(t,n){var i,e,r,u,s,o;return lr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(gu(n),this._I=t,t){c.next=4;break}return c.abrupt("return");case 4:if(!kg(i=t.sources.filter(Ig))){c.next=7;break}return c.abrupt("return");case 7:return c.next=9,lr.awrap(this.yI.cI(i,t));case 9:if(e=c.sent,gu(n),r=e.fI,u=e.hI,s=this.wg(),o=Kg(this),this.mI===u&&!this.fu){c.next=25;break}return this.SI(),c.next=19,lr.awrap(this.bI.et());case 19:gu(n),this.mI=u,this.bI=this.EI(u),Wk(this.bI,o),Jg(this,o,this),this.TI();case 25:return this.bI.xg=this.xg,this.kI?this.bI.vg():this.bI.dg(),c.next=29,lr.awrap(this.bI.sg(r,t,n));case 29:gu(n),this.RI(r),this.wg()!==s&&this.Yr(new ug);case 32:case"end":return c.stop()}},null,this,null,j)},i.RI=function(t){this.pI!==t&&(this.pI=t,this.Yr(new sg(t)))},i.og=function(){return this.bI.og()},i.cg=function(){this.bI.cg()},i.ag=function(){this.bI.ag()},i.wg=function(){return this.bI.wg()},i._g=function(){this.bI._g()},i.fl=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this._I=void 0,this.RI(void 0),t.next=4,lr.awrap(this.bI.fl());case 4:case"end":return t.stop()}},null,this,null,j)},i.et=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Zr(),t.next=3,lr.awrap(this.fl());case 3:return t.next=5,lr.awrap(this.bI.et());case 5:this.Gw.et(),this.Yw.et(),this.Kw.et(),this.Jw.et();case 9:case"end":return t.stop()}},null,this,null,j)},i.vg=function(){this.kI=!0,this.bI.vg()},i.dg=function(){this.kI=!1,this.bI.dg()},ft(n,[{key:"tg",get:function(){return this.Gw}},{key:"kg",get:function(){return this.bI.kg}},{key:"fu",get:function(){return this.bI.fu}},{key:"kw",get:function(){return this.bI.kw}},{key:"Tg",get:function(){return this.bI.Tg},set:function(t){this.bI.Tg=t}},{key:"pg",get:function(){return this.pI}},{key:"bw",get:function(){return this.bI.bw},set:function(t){this.bI.bw=t}},{key:"pw",get:function(){return this.bI.pw}},{key:"_w",get:function(){return this.bI._w}},{key:"eg",get:function(){return this.Jw}},{key:"Eg",get:function(){return this.bI.Eg}},{key:"zw",get:function(){return this.bI.zw}},{key:"Tw",get:function(){return this.bI.Tw},set:function(t){this.bI.Tw=t}},{key:"Ag",get:function(){return this.bI.Ag}},{key:"Sw",get:function(){return this.bI.Sw}},{key:"Ew",get:function(){return this.bI.Ew},set:function(t){this.bI.Ew=t}},{key:"Pg",get:function(){return this.bI.Pg}},{key:"xg",get:function(){return this.rR},set:function(t){this.rR=t,this.bI&&(this.bI.xg=this.rR)}},{key:"Ml",get:function(){return this.bI.Ml}},{key:"Lg",get:function(){return this.bI.Lg}},{key:"Rw",get:function(){return this.bI.Rw}},{key:"ig",get:function(){return this.Kw}},{key:"Iw",get:function(){return this.bI.Iw}},{key:"ng",get:function(){return this.Yw}},{key:"Dw",get:function(){return this.bI.Dw}},{key:"Nw",get:function(){return this.bI.Nw},set:function(t){this.bI.Nw=t}},{key:"Bg",get:function(){return this.bI.Bg}},{key:"JR",get:function(){return this.bI.JR}}]),n}(Du);function Wk(t,n){t.Tw!==n.Tw&&(t.Tw=n.Tw),t.Nw!==n.Nw&&(t.Nw=n.Nw),t.Ew!==n.Ew&&(t.Ew=n.Ew)}var zk,qk=function(t){function n(n,i){var e;return(e=t.call(this)||this).vl=void 0,e.II=void 0,e.DI=void 0,e.vl=n.length>>1,e.II=n,e.DI=i||function(t){for(var n=new Array(2*t),i=0,e=0;i<t;i+=1,e+=2)n[e]=!0,n[e+1]=!1;return n}(e.vl),e}vt(n,t);var i=n.prototype;return i.NI=function(t){return this.II[2*t]},i.OI=function(t){return this.DI[2*t]},i.CI=function(t){return this.II[2*t+1]},i.AI=function(t){return this.DI[2*t+1]},ft(n,[{key:"xI",get:function(){return this.II.slice()}}]),n}(function(){function t(){}var n=t.prototype;return n.yy=function(t,n){return 0===this.Fy(t,n)},n.dm=function(t,n){return this.Fy(t,n)>0},n.lm=function(t,n){return this.Fy(t,n)>=0},n.qy=function(t,n){return this.Fy(t,n)<0},n.Wy=function(t,n){return this.Fy(t,n)<=0},n.Pm=function(t,n){return this.qy(t,n)?t:n},n.Am=function(t,n){return this.dm(t,n)?t:n},n.LI=function(t,n,i){return i?this.Wy(t,n):this.qy(t,n)},n.XR=function(){var t=this;return{get length(){return t.vl},start:function(n){var i=0|n;return t.BI(i),t.MI(t.NI(i))},end:function(n){var i=0|n;return t.BI(i),t.MI(t.CI(i))}}},n.FI=function(){for(var t=new Array(2*this.vl),n=new Array(2*this.vl),i=0;i<this.vl;i++)t[2*i]=this.NI(i),t[2*i+1]=this.CI(i),n[2*i]=!0,n[2*i+1]=!0;return this.UI(t,n)},n.BI=function(t){if(t<0)throw new f("The index provided ("+t+") must be non-negative");if(t>=this.vl)throw new f("The index provided ("+t+") is greater than the maximum bound ("+this.vl+")")},n.VI=function(t){if(0===this.vl)return this.WI();if(this.$R(t))return t;if(this.Wy(t,this.NI(0)))return this.NI(0);if(this.lm(t,this.CI(this.vl-1)))return this.CI(this.vl-1);for(var n,i=this.zI(),e=0;e<this.vl;e++){var r=this.NI(e),u=this.zy(r,t);this.qy(u,i)&&(n=r,i=u);var s=this.CI(e),o=this.zy(this.CI(e),t);this.qy(o,i)&&(n=s,i=o)}return n},n.qI=function(t){for(var n=0,i=0,e=[],r=[];n<this.vl&&i<t.vl;){var u=this.NI(n),s=this.CI(n),o=this.OI(n),c=this.AI(n),a=t.NI(i),f=t.CI(i),h=t.OI(i),v=t.AI(i),d=this.Am(u,a),l=this.Pm(s,f),w=void 0;w=this.yy(u,a)?o&&h:this.yy(d,u)?o:h;var g=void 0;g=this.yy(s,f)?c&&v:this.yy(l,s)?c:v,(this.qy(d,l)||w&&g&&this.yy(d,l))&&(e.push(d,l),r.push(w,g));var y=this.Fy(this.CI(n),t.CI(i));0===y?(n+=1,i+=1):y<0?n+=1:i+=1}return this.UI(e,r)},n.HI=function(){var t=this.jI(),n=t.vl;if(0===n)return this.UI([t.$I(),t.zI()],[!1,!1]);var i=[],e=[],r=t.NI(0);t.yy(r,t.$I())||(i.push(t.$I(),r),e.push(!1,!t.OI(0)));for(var u=0;u<n-1;u++)i.push(t.CI(u),t.NI(u+1)),e.push(!t.AI(u),!t.OI(u+1));var s=t.CI(n-1);return t.yy(s,t.zI())||(i.push(s,t.zI()),e.push(!t.AI(n-1),!1)),t.UI(i,e)},n.XI=function(t){for(var n=0,i=0,e=this.vl,r=t.vl,u=new Array(2*(e+r)),s=new Array(2*(e+r)),o=0;n<e&&i<r;){var c=this.NI(n),a=this.CI(n),f=t.NI(i),h=t.CI(i);this.qy(c,f)||this.yy(c,f)&&this.qy(a,h)?(u[o]=c,u[o+1]=a,s[o]=this.OI(n),s[o+1]=this.AI(n),n++):(u[o]=f,u[o+1]=h,s[o]=t.OI(i),s[o+1]=t.AI(i),i++),o+=2}for(;n<e;)u[o]=this.NI(n),u[o+1]=this.CI(n),s[o]=this.OI(n),s[o+1]=this.AI(n),n++,o+=2;for(;i<r;)u[o]=t.NI(i),u[o+1]=t.CI(i),s[o]=t.OI(i),s[o+1]=t.AI(i),i++,o+=2;return this.UI(u,s)},n.GI=function(t){void 0===t&&(t=this.WI());var n=this.vl;if(n<2)return this;for(var i=[],e=[],r=this.NI(0),u=this.CI(0),s=this.OI(0),o=this.AI(0),c=1;c<n;c++){var a=this.NI(c),f=this.CI(c),h=this.OI(c),v=this.AI(c);this.qy(r,a)&&this.dm(u,f)||(this.yy(r,a)&&(s=h=s||h),this.yy(u,f)&&(o=v=o||v),this.LI(a,this.Ug(u,t),o||h)?(u=f,o=v):(i.push(r,u),e.push(s,o),r=a,u=f,s=h,o=v))}return i.push(r,u),e.push(s,o),this.UI(i,e).jI()},n.jI=function(){for(var t=[],n=[],i=0;i<this.vl;i++){var e=this.NI(i),r=this.CI(i),u=this.OI(i),s=this.AI(i);this.yy(e,r)?(u||s)&&(t.push(e,r),n.push(!0,!0)):(t.push(e,r),n.push(u,s))}return this.UI(t,n)},n.YI=function(t){return this.vl?t.vl?this.XI(t).GI():this:t},n.KI=function(t){var n=this.jI(),i=t.jI(),e=n.HI(),r=i.HI(),u=e.qI(i),s=r.qI(n);return u.YI(s)},n.Su=function(t){if(this.yy(t,this.WI()))return this;for(var n=[],i=[],e=0;e<this.vl;e++){var r=this.Ug(this.NI(e),t),u=this.Ug(this.CI(e),t);n.push(r,u),i.push(this.OI(e),this.AI(e))}return this.UI(n,i)},n.JI=function(t){return 0===this.vl||0===t.vl?this:this.jI().qI(t.jI().HI())},n.$R=function(t,n){return this.QI(t,n)>=0},n.ZI=function(t,n,i,e,r){return this.tD(t,n,i,e,r)>=0},n.nD=function(t,n,i,e,r){return this.iD(t,n,i,e,r)>=0},n.eD=function(t){if(t.vl!==this.vl)return!1;for(var n=0;n<this.vl;n++)if(!this.yy(this.NI(n),t.NI(n))||!this.yy(this.CI(n),t.CI(n))||this.OI(n)!==t.OI(n)||this.AI(n)!==t.AI(n))return!1;return!0},n.rD=function(t){for(var n=[],i=[],e=0;e<this.vl;e++){var r=this.NI(e),u=this.CI(e),s=this.OI(e),o=this.AI(e);t(r,u,s,o)&&(n.push(r,u),i.push(s,o))}return this.UI(n,i)},n.iD=function(t,n,i,e,r){void 0===i&&(i=!0),void 0===e&&(e=!0),void 0===r&&(r=this.WI());for(var u=this.Xy(t,r),s=this.Ug(n,r),o=0;o<this.vl;o+=1)if(this.LI(this.NI(o),s,!e||this.OI(o))&&this.LI(u,this.CI(o),!i||this.AI(o)))return o;return-1},n.tD=function(t,n,i,e,r){void 0===i&&(i=!0),void 0===e&&(e=!1),void 0===r&&(r=this.WI());for(var u=this.Ug(t,r),s=this.Xy(n,r),o=0;o<this.vl;o+=1)if(this.LI(this.NI(o),u,!i||this.OI(o))&&this.LI(s,this.CI(o),!e||this.AI(o)))return o;return-1},n.QI=function(t,n){return this.tD(t,t,!0,!0,n)},n.uD=function(t,n){void 0===n&&(n=this.WI());for(var i=this.Ug(t,n),e=this.vl-1;e>=0;e-=1)if(this.LI(this.NI(e),i,this.OI(e)))return e;return-1},n.sD=function(t,n){void 0===n&&(n=this.WI());for(var i=this.Xy(t,n),e=0;e<this.vl;e+=1)if(this.LI(i,this.CI(e),this.AI(e)))return e;return-1},n.oD=function(t){return this.BI(t),this.UI([this.NI(t),this.CI(t)],[this.OI(t),this.AI(t)])},n.cD=function(t,n){var i=this.QI(t,n);return i<0?void 0:this.oD(i)},ft(t,[{key:"aD",get:function(){for(var t=this.WI(),n=0;n<this.vl;n++){var i=this.Xy(this.CI(n),this.NI(n));t=this.Ug(t,i)}return t}}]),t}()),Hk=function(t){function n(n,i){return t.call(this,n,i)||this}vt(n,t);var i=n.prototype;return i.Fy=function(t,n){return t<n?Zr.Nr:t===n?Zr.Ir:Zr.Dr},i.Ug=function(t,n){return t+n},i.Xy=function(t,n){return t-n},i.zy=function(t,n){return d.abs(t-n)},i.WI=function(){return 0},i.zI=function(){return 1/0},i.$I=function(){return-1/0},n.fD=function(t){for(var i=[],e=0;e<t.length;e++)i.push(t.start(e),t.end(e));return new n(i)},n.hD=function(t){for(var i=[],e=[],r=0;r<t.vl;r++)i.push(t.NI(r).Bm),i.push(t.CI(r).Bm),e.push(t.OI(r)),e.push(t.AI(r));return new n(i,e)},n.vD=function(t){return new n([t,t],[!0,!0])},i.UI=function(t,i){return new n(t,i)},i.MI=function(t){return t},n.dD=function(){return jk},n}(qk),jk=new Hk([]);!function(t){t.$d="fullscreenchange",t.lD="fullscreensupportchange",t.Nl="fullscreenerror"}(zk||(zk={}));var $k=function(t){function n(){return t.call(this,zk.Nl)||this}return vt(n,t),n}(Ou),Xk=new(function(t){function n(){return t.apply(this,arguments)||this}vt(n,t);var i=n.prototype;return i.Zg=function(){this.Yr(new $k)},i.ny=function(){},i.et=function(){this.Zr()},ft(n,[{key:"wD",get:function(){return!1}},{key:"gD",get:function(){return!1}}]),n}(Du)),Gk=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).ZE=void 0,n.tR=void 0,n}vt(n,t);var i=n.prototype;return i.lg=function(){var t;return null==(t=this.tR)?void 0:t.RR},i.et=function(){return lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,lr.awrap(t.prototype.et.call(this));case 2:if(!this.tR){n.next=6;break}return n.next=5,lr.awrap(this.ZE.nt(this.tR));case 5:this.tR=void 0;case 6:case"end":return n.stop()}},null,this,null,j)},ft(n,[{key:"yD",set:function(t){this.ZE=t,this.tR=t.G(by.ov)}}]),n}(function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).mD=0,n.bD=!1,n.pD=!0,n._D=1,n.kD=!1,n.js=1,n.tg=new py,n.kg=Hk.dD().XR(),n.pw=NaN,n._w=!1,n.fu=void 0,n.kw=void 0,n.eg=void 0,n.Eg=!1,n.Ag=!0,n.Pg=Hk.dD().XR(),n.xg=Bk.gI,n.Ml=dg.cw,n.Lg=Hk.dD().XR(),n.KR=void 0,n.ig=new _b,n.Iw=0,n.ng=new py,n.Dw=0,n.Bg=new Dk,n.aR=new kk,n}vt(n,t);var i=n.prototype;return i.vg=function(){},i.dg=function(){},i.Y=function(){this.pD&&(this.pD=!1,this.Yr(new Cg(this.bw)),this.Yr(new Qb(this.bw)))},i.K=function(){this.pD||(this.pD=!0,this.Yr(new Fg(this.bw,this.Tg)),this.Yr(new Og(this.bw)))},i.sg=function(t,n){return j.resolve()},i.og=function(){return!1},i.cg=function(){},i.ag=function(){},i.wg=function(){return Xk},i._g=function(){},i.fl=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.mD=0,this.kD=!1,this.K(),this.Yr(new Ng(this.mD));case 4:case"end":return t.stop()}},null,this,null,j)},i.et=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.Zr(),this.tg.et(),this.ig.et(),this.ng.et();case 4:case"end":return t.stop()}},null,this,null,j)},ft(n,[{key:"Tg",get:function(){},set:function(t){}},{key:"bw",get:function(){return this.mD},set:function(t){this.mD!==t&&(this.mD=t,this.kD=!0,this.Yr(new Wg(this.bw)))}},{key:"zw",get:function(){return{Rg:0,Ig:0,Dg:0,Ng:0,Og:0,Cg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"Tw",get:function(){return this.bD},set:function(t){this.bD!==t&&(this.bD=t,this.Yr(new qg(this.bw,this.Nw)))}},{key:"Sw",get:function(){return this.pD}},{key:"Ew",get:function(){return this._D},set:function(t){this._D!==t&&(this._D=t,this.Yr(new Mg(this.bw,this.Ew)))}},{key:"Rw",get:function(){return this.kD}},{key:"Nw",get:function(){return this.js},set:function(t){this.js!==t&&(this.js=t,this.Yr(new qg(this.bw,this.Nw)))}},{key:"Mg",get:function(){return!1},set:function(t){}},{key:"JR",get:function(){return this.aR}}]),n}(Du)),Yk=function(t){function n(n,i,e,r,u,s){var o,c=new Gk;return(o=t.call(this,Lk.Zn,c)||this).Fc=void 0,o.TD=void 0,o.SD=void 0,o.ED=void 0,o.kT=void 0,o.RD=void 0,o.DD=void 0,o.SD=n,o.Fc=i,o.kT=e,o.RD=r,o.ED=s,o.TD=new K(u,o.ED),o.TD.it(o.SD),c.yD=o.TD,o.DD=new Mk(o.SD),o}vt(n,t);var i=n.prototype;return i.st=function(){t.prototype.st.call(this),this.TD.X()},i.fg=function(t){var n,i,e,r;n=this,e=(i=t).Nw,r=i.Tw,n.Nw=e,n.Tw=r},i.hg=function(){},i.EI=function(t){return t.DS(this.SD,this.TD,this.kT,this.Fc,this.RD,this.ED)},i.lg=function(){return this.bI.lg()},i.gg=function(){return this.TD.j.map(function(t){return t.RR})},i.Qr=function(n){t.prototype.Qr.call(this,n)},i.eu=function(n){t.prototype.eu.call(this,n)},i.et=function(){return lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,lr.awrap(t.prototype.et.call(this));case 2:this.TD.et(),this.DD.et();case 4:case"end":return n.stop()}},null,this,null,j)},ft(n,[{key:"Sg",get:function(){return this.SD}},{key:"Mg",get:function(){return this.bI.Mg},set:function(t){this.bI.Mg=t}}]),n}(Vk),Kk=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).SD=void 0,r.ND=void 0,r.OD=void 0,r.CD=void 0,r.PD=void 0,r.fR=new Dk,r.SD=n,r.ND=i,r.CD=new py,r.PD=new _b,r.OD=e,r}vt(n,t);var i=n.prototype;return i.yg=function(t){return!0},i.dg=function(){},i.Y=function(){throw this.Yr(new Xg(this.OD)),this.ND},i.K=function(){},i.ug=function(){},i.sg=function(t,n){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:throw gu(n),this.Yr(new Xg(this.OD)),this.ND;case 3:case"end":return t.stop()}},null,this,null,j)},i.vg=function(){},i.rg=function(){return j.resolve()},i.lg=function(){},i.wg=function(){return Xk},i.gg=function(){return[]},i.st=function(){},i.fg=function(t){},i.hg=function(){},i.og=function(){return!1},i.cg=function(){},i.ag=function(){},i._g=function(){},i.fl=function(){return j.resolve()},i.et=function(){return this.Zr(),this.CD.et(),this.PD.et(),j.resolve()},ft(n,[{key:"tg",get:function(){return this.CD}},{key:"kg",get:function(){return Hk.dD().XR()}},{key:"Tg",get:function(){return new Date(NaN)},set:function(t){}},{key:"pg",get:function(){}},{key:"bw",get:function(){return 0},set:function(t){}},{key:"pw",get:function(){return 0}},{key:"Sg",get:function(){return this.SD}},{key:"_w",get:function(){return!0}},{key:"fu",get:function(){return this.ND}},{key:"kw",get:function(){return this.OD}},{key:"eg",get:function(){}},{key:"zw",get:function(){return{Rg:0,Ig:0,Dg:0,Ng:0,Og:0,Cg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"Tw",get:function(){return!1},set:function(t){}},{key:"Ag",get:function(){return!0}},{key:"Sw",get:function(){return!0}},{key:"Ew",get:function(){return 0},set:function(t){}},{key:"Pg",get:function(){return Hk.dD().XR()}},{key:"xg",get:function(){return Bk.gI},set:function(t){}},{key:"Ml",get:function(){return dg.cw}},{key:"Lg",get:function(){return Hk.dD().XR()}},{key:"Rw",get:function(){return!1}},{key:"ig",get:function(){return this.PD}},{key:"Iw",get:function(){return 0}},{key:"ng",get:function(){return this.CD}},{key:"Dw",get:function(){return 0}},{key:"Nw",get:function(){return 1},set:function(t){}},{key:"Bg",get:function(){return this.fR}},{key:"Mg",get:function(){return!1},set:function(t){}},{key:"Eg",get:function(){return!1}}]),n}(rg);function Jk(t){if(t&&Ct(t))return wr({},t,{integration:Qk(t.integration),fairplay:uT(t.fairplay),widevine:Zk(t.widevine),playready:tT(t.playready),clearkey:sT(t.clearkey),aes128:oT(t.aes128),integrationParameters:cT(t.integrationParameters),preferredKeySystems:aT(t.preferredKeySystems)})}function Qk(t){if(Pt(t))return t}function Zk(t){if(t&&Ct(t))return{persistentState:nT(t.persistentState),distinctiveIdentifier:nT(t.distinctiveIdentifier),audioRobustness:iT(t.audioRobustness),videoRobustness:iT(t.videoRobustness),licenseAcquisitionURL:Pt(t.licenseAcquisitionURL)?t.licenseAcquisitionURL:void 0,licenseType:eT(t.licenseType),headers:t.headers,useCredentials:!!xt(t.useCredentials)&&t.useCredentials,queryParameters:t.queryParameters,certificate:Pt(t.certificate)||xs(t.certificate)?t.certificate:void 0,certificateRequestProcessor:rT(t.certificateRequestProcessor),certificateResponseProcessor:rT(t.certificateResponseProcessor),licenseRequestProcessor:rT(t.licenseRequestProcessor),licenseResponseProcessor:rT(t.licenseResponseProcessor)}}function tT(t){if(t){var n=Zk(t);if(n)return wr({},n,{customData:Pt(t.customData)?t.customData:void 0})}}function nT(t){switch(null==t?void 0:t.toLowerCase()){case"required":return"required";case"optional":return"optional";case"not-allowed":return"not-allowed"}}function iT(t){switch(t){case"HW_SECURE_ALL":return"HW_SECURE_ALL";case"HW_SECURE_DECODE":return"HW_SECURE_DECODE";case"HW_SECURE_CRYPTO":return"HW_SECURE_CRYPTO";case"SW_SECURE_DECODE":return"SW_SECURE_DECODE";case"SW_SECURE_CRYPTO":return"SW_SECURE_CRYPTO";case"":return""}}function eT(t){switch(null==t?void 0:t.toLowerCase()){case"temporary":return"temporary";case"persistent":return"persistent"}}function rT(t){if("function"==typeof t)return t}function uT(t){if(t){var n=Zk(t);if(n)return wr({},n,{certificateURL:Pt(t.certificateURL)?t.certificateURL:void 0})}}function sT(t){if(t){var n=Zk(t);if(n)return wr({},n,{keys:Nt(t.keys)?t.keys.map(function(t){return function(t){if(!t||!Ct(t))return;var n=t.id,i=t.value;if(!Pt(n)||!Pt(i))return;return{id:n,value:i}}(t)}).filter(It):void 0})}}function oT(t){if(Ct(t))return{useCredentials:xt(t.useCredentials)?t.useCredentials:void 0}}function cT(t){if(Ct(t))return t}function aT(t){return t&&Nt(t)?t.map(function(t){return Gp(t)}).filter(It):[Pr,Or,Mr]}var fT,hT=function(t){function n(n){var i;return(i=t.call(this,"presentationmodechange")||this).presentationMode=n,i}return vt(n,t),n}(Ou),vT=function(t){function n(n,i){var e;return void 0===i&&(i=!1),(e=t.call(this,n)||this).xD=[],e.LD=void 0,e.BD=function(t){ku(function(){e.Gr(t)})},e.LD=i?e.BD:e.Gr,e}vt(n,t);var i=n.prototype;return i.MD=function(t){t.Qr(this.LD),this.xD.push(t)},i.FD=function(t){t.eu(this.LD),cu(this.xD,t)},i.et=function(){this.Zr();for(var t=0,n=this.xD;t<n.length;t++){n[t].eu(this.LD)}hu(this.xD)},n}(eg),dT=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n}(vT);!function(t){t.INLINE="inline",t.FULLSCREEN="fullscreen",t.PICTURE_IN_PICTURE="picture-in-picture"}(fT||(fT={}));var lT,wT=function(t){function i(n){var i;return(i=t.call(this)||this).UD=void 0,i.VD=void 0,i.WD=!1,i.zD=!1,i.qD=void 0,i.HD=void 0,i.jD=void 0,i.Ad=void 0,i.$D=function(){return i.XD()},i.GD=function(){return i.YD()},i.jD=n,i.UD=i.VD=i.qD=i.HD=fT.INLINE,i.jD.Kr(zk.$d,i.$D),i.jD.Kr(zk.Nl,i.GD),i.KD(),i}vt(i,t);var e=i.prototype;return e.xd=function(){return t=this,i={get currentMode(){return t.JD()},requestMode:function(n){var i=yT(n);i&&t.QD(i)},supportsMode:function(n){var i=yT(n);return!!i&&t.ZD(i)},addEventListener:function(t,i){n.Kr(t,i)},removeEventListener:function(t,i){n.tu(t,i)}},(n=new vT(i,!0)).MD(t),i;var t,n,i},e.QD=function(t){this.tN(t,t)},e.tN=function(t,n){this.VD!==n&&(this.WD=!0,this.UD=t,this.nN(n,this.VD),t!==fT.FULLSCREEN&&(this.qD=t),this.WD=!1,this.KD())},e.JD=function(){return this.zD?fT.FULLSCREEN:fT.INLINE},e.ZD=function(t){switch(t){case fT.FULLSCREEN:return this.jD.gD;case fT.INLINE:return!0}return!1},e.KD=function(){if(!this.WD){var t=this.VD,n=this.JD();this.VD=n,n!==fT.FULLSCREEN&&(this.HD=n),t!==n&&this.Yr(new hT(n))}},e.nN=function(t,n){var i=t===fT.FULLSCREEN;this.zD=i,i!==this.jD.wD&&(i?this.jD.Zg():this.jD.ny())},e.XD=function(){if(!this.WD){var t=this.jD.wD;this.zD=t,t?this.tN(fT.FULLSCREEN,fT.FULLSCREEN):t||this.UD!==fT.FULLSCREEN?this.KD():this.tN(this.qD,this.HD)}},e.YD=function(){this.XD(),this.Yr(new Xg(new Cc(n.ErrorCode.FULLSCREEN_ERROR,"Failed to enter fullscreen.")))},e.et=function(){this.jD.et(),this.Zr()},ft(i,[{key:"Pd",get:function(){return this.Ad||(this.Ad=this.xd()),this.Ad}}]),i}(eg),gT={bw:0,pw:NaN,_w:!1,fu:void 0,kw:void 0,Tw:!1,Sw:!0,Ew:1,Ml:dg.cw,Rw:!1,Iw:0,Dw:0,Nw:1};function yT(t){switch(t){case fT.INLINE:case fT.FULLSCREEN:case fT.PICTURE_IN_PICTURE:return t;default:return}}!function(t){t.DEFAULT="",t.THEO="theo",t.GOOGLE_IMA="google-ima",t.SPOTX="spotx",t.FREEWHEEL="freewheel"}(lT||(lT={}));var mT,bT,pT,_T,kT,TT,ST,ET,RT=function(){function t(){this.iN=[]}var n=t.prototype;return n.eN=function(t){var n=this.rN.filter(function(n){return n.uN(t)});if(n.length>1)0;else if(0===n.length)throw f("Unknown ad integration: "+t.integration);return n[0]||null},n.sN=function(t){this.iN.push(t)},ft(t,[{key:"rN",get:function(){return this.iN}}]),t}();RT.Zn=new RT,function(t){t.mw="PLAYING",t.Hw="PAUSED",t.oN="SEEK",t.cN="STALLED",t.aN="FAILED",t.fN="INITIAL_BUFFERING",t.hN="NO_ACCESS"}(mT||(mT={})),function(t){t.vN="HTTP_REQUEST_STATUS_CODE_1XX",t.dN="HTTP_REQUEST_STATUS_CODE_2XX",t.lN="HTTP_REQUEST_STATUS_CODE_3XX",t.wN="HTTP_REQUEST_STATUS_CODE_4XX",t.gN="HTTP_REQUEST_STATUS_CODE_5XX",t.yN="BUFFER_LENGTH",t.mN="BYTES_RECEIVED",t.bN="SEGMENT_READ_BITRATE",t.pN="SEGMENT_PROFILE_BITRATE",t._N="NUMBER_OF_FRAMES_DROPPED",t.kN="PLAYBACK_POSITION",t.TN="NUMBER_OF_FRAMES_DECODED",t.SN="PLAYBACK_DELTA_TO_ORIGIN",t.EN="STREAM_DELTA_TO_ORIGIN",t.RN="ORIGIN_TIMESTAMP"}(bT||(bT={})),function(t){t.IN="MANIFEST_URI",t.DN="ASSET_DURATION",t.NN="NUMBER_OF_CONTENT_PROFILES",t.ON="CDN",t.CN="CONTENT_TITLE",t.AN="SERVICE_NAME",t.PN="CONTENT_TYPE",t.xN="CONTENT_DESCRIPTION"}(pT||(pT={})),function(t){t.LN="shutdown_normal_shutdown"}(_T||(_T={})),function(t){t.BN="session/",t.MN="internalError/",t.FN="drmError/",t.UN="caError/",t.VN="networkError/"}(kT||(kT={})),function(t){t.WN="userAction",t.zN="endOfStreamReached"}(TT||(TT={})),function(t){t.PAUSE="qN",t.RESUME="HN"}(ST||(ST={})),function(t){t.UNAVAILABLE="unavailable",t.AVAILABLE="available",t.CONNECTING="connecting",t.CONNECTED="connected"}(ET||(ET={}));var IT,DT,NT,OT,CT,AT="agama";function PT(t){return function(t){switch(t){case IT.NONE:case IT.HORIZONTAL:case IT.VERTICAL:return!0;default:return!1}}(t)?t:IT.NONE}function xT(t){switch(t){case"":return IT.NONE;case"horizontal":return IT.HORIZONTAL;case"vertical":return IT.VERTICAL;default:throw new h}}function LT(t){if(!t||!Pt(t))return DT.wI;switch(t){case"always":return DT.jN;case"never":return DT.$N;default:return DT.wI}}function BT(t){if(!t||!Pt(t))return NT.wI;switch(t){case"playlist":return NT.XN;case"media":return NT.GN;default:return NT.wI}}function MT(t,n){return t.length>0?t:n.length>0?n:void 0}function FT(t){if(null!==t)return t}function UT(t){var n,i={apiKey:t.apiKey,integration:t.integration,streamActivityMonitorID:FT(t.streamActivityMonitorID),adTagParameters:Ct(t.adTagParameters)?t.adTagParameters:{},authToken:FT(t.authToken)};if("vod"===(null==t?void 0:t.availabilityType)||(n=t,Boolean(n.videoID&&n.contentSourceID))){var e=t.videoID,r=t.contentSourceID;return e?r?wr({},i,{availabilityType:"vod",videoID:e,contentSourceID:r}):void st.Ie("A VOD DAI configuration was provided without valid contentSourceID which is required."):void st.Ie("A VOD DAI configuration was provided without valid videoID which is required.")}if("live"===(null==t?void 0:t.availabilityType)||function(t){return Boolean(t.assetKey)}(t)){var u=t.assetKey;return u?wr({},i,{availabilityType:"live",assetKey:u}):void st.Ie("A Live DAI configuration was provided without valid assetKey which is required.")}st.Ie("A DAI configuration was provided without a valid availabilityType which is required.")}function VT(t){if(!Vp(t)||!t.integration)return t;switch(t.integration){case op:return n=t,i=Xp(Er.ar,n),e=Xp(Er.cr,n),r=n[Er.dr]&&Xp(Er.dr,n),wr({integration:"keyos",widevine:i,playready:e},r?{fairplay:r}:{});default:return t}var n,i,e,r}!function(t){t.NONE="",t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(IT||(IT={})),function(t){t.wI="auto",t.jN="always",t.$N="never"}(DT||(DT={})),function(t){t.wI="auto",t.XN="playlist",t.GN="media"}(NT||(NT={})),function(t){t.VERIZON_MEDIA="verizon-media",t.MEDIATAILOR="mediatailor"}(OT||(OT={})),function(t){t.ASSET="asset",t.CHANNEL="channel",t.EVENT="event"}(CT||(CT={}));var WT="https://content.uplynk.com";function zT(t){if(!t)return!0;var n,i,e=!(_g(n=t.sources)||Ot(n)&&_g(n[0]))||kg(t.sources),r=!t.ads||(!(i=t.ads)||Nt(i)&&0===i.length),u=""!==t.poster&&!t.poster;return e&&r&&u}function qT(t){if(t&&t.sources)return function t(n){if(Pt(n))return n;if(pg(n))return n.src;if(Ot(n)&&n.length>0)return t(n[0]);return}(t.sources)}function HT(t,n,i){return mg(t)?function(t,n,i){var e=wr({},Tg(),{ping:{adImpressions:!1,freeWheelVideoViews:!1,linearAdData:!1},integration:OT.VERIZON_MEDIA,id:"",prefix:WT,preplayParameters:{},playbackUrlParameters:{},assetType:CT.ASSET,contentProtected:!1,assetInfo:!0});e.id=(r=t.id,Pt(r)?r:Ot(r)&&Pt(r[0])?r:Ct(u=r)&&Pt(u.userId)&&(Ot(u.externalId)||Pt(u.externalId))?r:""),t.preplayParameters&&(e.preplayParameters=t.preplayParameters);var r,u;t.playbackUrlParameters&&(e.playbackUrlParameters=t.playbackUrlParameters);t.assetType&&(e.assetType=function(t){switch(t){case"channel":return CT.CHANNEL;case"event":return CT.EVENT;case"asset":default:return CT.ASSET}}(t.assetType));t.contentProtected&&(e.contentProtected=Bw(t.contentProtected));t.assetInfo?e.assetInfo=Bw(t.assetInfo):e.assetInfo="asset"===e.assetType;t.prefix&&(e.prefix=Uw(t.prefix)||WT);return e.ping=(s=e.assetType,o=t.ping,c=!1,a=!1,f=!1,o?(c=!!xt(o.adImpressions)&&o.adImpressions,a=!!xt(o.freeWheelVideoViews)&&o.freeWheelVideoViews,f=xt(o.linearAdData)?o.linearAdData:s!==CT.ASSET):s!==CT.ASSET&&(f=!0),{adImpressions:c,freeWheelVideoViews:a,linearAdData:f}),e=$T(e=XT(e=jT(e,t),n,i),t,i);var s,o,c,a,f}(t,n,i):function(t,n,i){var e=Sg(),r=n&&(n.contentProtection||n.drm);if(Pt(t)){if(e.src=t,e.type=gg(t),r){var u=Jk(r);e.contentProtection=VT(u)}}else if(pg(t)||yg(t)){e.src=t.src,e.type=t.type||gg(t.src),e.isAdvertisement=t.isAdvertisement;var s=function(t){return t.type===fg.sw||t.type===fg.ow}(t)?t.hesp:void 0;void 0!==s&&(e.hesp=s);var o=Ct(f=t)&&Pt(f.integration)&&"mediatailor"===f.integration;o&&(e.integration=t.integration);var c=t.contentProtection||t.drm||r,a=Jk(c);e.contentProtection=VT(a),t.ssai&&(e.ssai=function(t){switch(t.integration){case"google-dai":return UT(t);case"imagine":return{integration:t.integration};case"yospace":return function(t){var n;return{integration:t.integration,streamType:null!=(n=t.streamType)?n:void 0}}(t);default:return{integration:t.integration}}}(t.ssai)),e=jT(e,t)}var f;return e=$T(e=XT(e,n,i),t,i)}(t,n,i)}function jT(t,n){var i;n.useCredentials?t.crossOrigin=ag.rw:n.crossOrigin&&(t.crossOrigin=function(t){switch(t){case ag.ew:case ag.rw:return t;default:return ag.iw}}(n.crossOrigin)),Pt(n.timeServer)&&(t.timeServer=n.timeServer),n.liveOffset&&(t.liveOffset=n.liveOffset),n.hlsDateRange&&(t.hlsDateRange=n.hlsDateRange),n.lowLatency&&(t.lowLatency=Bw(n.lowLatency)),n.useNativePlayback&&(t.useNativePlayback=Bw(n.useNativePlayback)),n.dash&&(t.dash={useSeamlessPeriodSwitch:LT(null==(i=n.dash)?void 0:i.useSeamlessPeriodSwitch)}),n.hls&&(t.hls=function(t){return{discontinuityAlignment:BT(null==t?void 0:t.discontinuityAlignment)}}(n.hls)),n.lcevc&&(t.lcevc=Bw(n.lcevc));var e=void 0!==n.experimentalRendering?Bw(n.experimentalRendering):void 0;void 0!==e&&(t.experimentalRendering=e);var r=void 0!==n.nativeUiRendering?Bw(n.nativeUiRendering):void 0;return void 0!==r&&(t.nativeUiRendering=r),t}function $T(t,n,i){return t.abr=function(t,n){var i=Vw(null==t?void 0:t.preferredAudioCodecs,Uw),e=Vw(null==t?void 0:t.preferredVideoCodecs,Uw),r=Vw(null==n?void 0:n.preferredAudioCodecs,Uw),u=Vw(null==n?void 0:n.preferredVideoCodecs,Uw),s=MT(i,r),o=MT(e,u);if(s||o)return{preferredAudioCodecs:s,preferredVideoCodecs:o}}(Pt(n)?void 0:n.abr,null==i?void 0:i.abr),t}function XT(t,n,i){var e,r=n&&n.timeServer;return i&&i.liveOffset&&!It(t.liveOffset)&&(t.liveOffset=i.liveOffset),i&&i.hlsDateRange&&!It(t.hlsDateRange)&&(t.hlsDateRange=i.hlsDateRange),t.crossOrigin===ag.iw&&null!=n&&null!=(e=n.vr)&&e[360]&&(t.crossOrigin=ag.ew),t.useCredentials=t.crossOrigin===ag.rw,Pt(r)&&!t.timeServer&&(t.timeServer=r),t}function GT(t){var n={src:""};if(t&&t.src){if(n.src=Uw(t.src),"default"in t&&(n.default=Bw(t.default)),n.kind=Tb(t.kind),function(t){switch(t){case Ay.DEFAULT:case Ay.SRT:case Ay.TTML:case Ay.WEBVTT:case Ay.EMSG:case Ay.EVENT_STREAM:case Ay.ID3:case Ay.CEA608:case Ay.DATE_RANGE:return!0;default:return!1}}(t.format)&&(n.format=t.format),"srclang"in t){var i=t.srclang;"string"==typeof i&&""!==i&&(n.srclang=i)}if("label"in t){var e=t.label;"string"==typeof e&&""!==e&&(n.label=e)}}return n}function YT(t,n){if(At(t))try{return n.eN(t).YN(t)}catch(t){return}}function KT(t){return Pt(t.sources)&&""!==t.sources||Ct(t.sources)&&Pt(t.sources.src)}function JT(t){return t.integration===lT.SPOTX&&!g(t.id)}function QT(t){return"freewheel"===t.integration}function ZT(t,n,i){if(void 0===i&&(i=RT.Zn),zT(t))return{sources:[Sg()]};var e=Aw(t);if(e.sources=function(t,n,i){if(_g(t))return[HT(t,n,i)];if(Ot(t)&&_g(t[0])){for(var e=[],r=0;r<t.length;r++){var u=t[r];e.push(HT(u,n,i))}return e}return[Sg()]}(e.sources,e,n),"contentProtection"in e&&delete e.contentProtection,"drm"in e&&delete e.drm,"ads"in e){var r=function(t,n){if(!Ot(t))return[];for(var i=[],e=0,r=t;e<r.length;e++){var u=r[e];(u=YT(u,n))&&(KT(u)||JT(u)||QT(u))&&i.push(u)}return i}(e.ads,i);0===r.length?delete e.ads:e.ads=r}var u,s,o,c=!kg(e.sources),a=e.ads&&e.ads.length>0;if(c&&!a?delete e.ads:a&&!c&&(e.sources=[]),"textTracks"in e){var f=function(t){if(!Ot(t))return[];for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];""!==(r=GT(r)).src&&n.push(r)}return n}(e.textTracks);0===f.length?delete e.textTracks:e.textTracks=f}if("poster"in e&&(e.poster=Uw(e.poster)),"vr"in e&&(e.vr=(u=e.vr,(s=u||{}).stereoMode=PT(s.stereoMode),{360:Boolean(s[360]),stereoMode:s.stereoMode?xT(s.stereoMode):IT.NONE,nativeVR:Boolean(s.nativeVR)})),"analytics"in e||(null==n?void 0:n.analytics)){var h=Rg(e.analytics),v=n&&n.analytics||[];e.analytics=function(t,n){for(var i=Aw(t),e=function(e){var r=n[e],u=!t.some(function(t){return t.integration===r.integration});u&&r.integration!==AT&&i.push(r)},r=0;r<n.length;r++)e(r);return i}(h,v)}return"mutedAutoplay"in e&&(e.mutedAutoplay=Gg(e.mutedAutoplay)),"timeServer"in e&&delete e.timeServer,"playAdsAfterTime"in e&&(e.playAdsAfterTime=Mw(e.playAdsAfterTime)),e.blockContentIfAdError=void 0!==(o=e.blockContentIfAdError)&&"boolean"==typeof o&&Boolean(o),e}var tS=function(){function t(t){this.KN=t}return t.prototype.JN=function(t){var n,i,e,r,u,s,o,c=[];if(!t)return"";var a=t.length%4;if(a>0)for(;a++<4;)t+=this.KN.charAt(64);for(n=0;n<t.length;n+=4)i=(o=this.KN.indexOf(t.charAt(n))<<18|this.KN.indexOf(t.charAt(n+1))<<12|(u=this.KN.indexOf(t.charAt(n+2)))<<6|(s=this.KN.indexOf(t.charAt(n+3))))>>>16&255,e=o>>>8&255,r=255&o,c[n/4]=String.fromCharCode(i,e,r),64===s&&(c[n/4]=String.fromCharCode(i,e)),64===u&&(c[n/4]=String.fromCharCode(i));return c.join("")},t.prototype.QN=function(t,n){var i,e,r,u,s,o,c,a=[],f="";if((o=t.length%3)>0)for(;o++<3;)f+=this.KN.charAt(64),t+="\0";for(o=0;o<t.length;o+=3)e=(i=t.charCodeAt(o)<<16|t.charCodeAt(o+1)<<8|t.charCodeAt(o+2))>>18&63,r=i>>12&63,u=i>>6&63,s=63&i,a[o/3]=this.KN.charAt(e)+this.KN.charAt(r)+this.KN.charAt(u)+this.KN.charAt(s);return c=(c=a.join("")).slice(0,c.length-f.length),n||(c+=f),c},t.lb=new t(function(){var t,n,i,e,r=[],u=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<u.length;t+=1)for(n=u[t],i=0;i<n.length;i+=1)e=n.charAt(i),-1===r.indexOf(e)&&r.push(e);return r.join("")}()),t.ZN=new t(t.lb.JN("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")),t}();function nS(t){return"string"==typeof t}function iS(t){return"number"==typeof t}var eS={}.toString;var rS,uS=Array.isArray||function(t){return"[object Array]"===eS.call(t)};function sS(t,n){return uS(t)&&t.every(n)}!function(t){t.HTML5="html5",t.ANDROID="android",t.IOS="ios",t.TVOS="tvos",t.ANDROIDTV="androidtv",t.TIZEN="tizen",t.WEBOS="webos",t.CHROMECAST="chromecast",t.ROKU="roku",t.FIRETV="firetv",t.CHROMECASTCAF="chromecastcaf"}(rS||(rS={}));var oS,cS=v.keys(rS).map(function(t){return rS[t]});function aS(t){return-1!==cS.indexOf(t)}function fS(t){try{var n=tS.ZN.JN(t),i=JSON.parse(n);if(!function(t){var n=(h=t,"object"==typeof h&&null!==h),i=nS(t.key),e=nS(t.customer_id),r=iS(t.generation_date),u=iS(t.expiration_date),s=sS(t.domains_page,nS),o=sS(t.domains_source,nS),c=sS(t.sdks,aS),a=(f=t.send_impression,"boolean"==typeof f);var f;var h;if(!(n&&i&&e&&r&&u&&s&&o&&c&&a))return!1;return!0}(i))throw new f("The provided license could not be decoded correctly.");return i}catch(t){throw new f("The provided license could not be decoded correctly.")}}function hS(){return oS||(oS={jh:tt.href,tO:Z.parent&&Z.parent!==i,nO:lS()}),oS}var vS,dS=["http:","https:","ftp:","ws:","wss:"];function lS(){try{return Z.top.location.href}catch(t){return Z&&Z.document&&Z.document.referrer}}!function(t){t[t.iO=0]="iO",t[t.eO=1]="eO",t[t.rO=2]="rO"}(vS||(vS={}));var wS,gS=function(t,n,i,e,r,u,s,o){void 0===r&&(r=""),void 0===u&&(u=Date.now()),void 0===s&&(s=[]),void 0===o&&(o=!0),this.uO=t,this.sO=n,this.oO=i,this.cO=e,this.aO=r,this.fO=u,this.hO=s,this.vO=o};!function(t){t.eO="expired",t.dO="invaliddomain",t.lO="invalidsource",t.Nl="error"}(wS||(wS={}));var yS=function(){function t(t,n,i){this.wO=void 0,this.gO=t,this.yO=n,this.Rs=i,this.wO=TS(this.Rs)}var n=t.prototype;return n.mO=function(t,n){var i=this;if(!zT(t)&&0!==n.oO.length&&!pS(n.oO)){var e=[];if(_g(t.sources)?e=[t.sources]:Ot(t.sources)&&(e=t.sources),!e.every(function(t){return i.bO(t,n)})){var r=wS.lO,u=ES.pO(r);throw new Cc(mS(r),u)}}},n._O=function(n){return this.kO(n.hO)&&this.TO(n)?t.SO(n.cO)?vS.iO:vS.eO:vS.rO},n.kO=function(t){var n=this;return 0===t.length||t.some(function(t){return n.EO(t)})},n.EO=function(t){return"tvos"===function(t){switch(t){case rS.ANDROID:return ot.dt;case rS.ANDROIDTV:case rS.FIRETV:return ot.wt;case rS.IOS:return ot.yt;case rS.TVOS:return ot.bt;case rS.CHROMECAST:case rS.CHROMECASTCAF:return ot.pt;default:return ot.vt}}(t)},t.SO=function(t){var n=Number(new Date);return!!t&&n<=t},n.TO=function(t){return!(this.wO&&0!==t.sO.length&&!pS(t.sO))||!!(this.wO&&this.RO(t.sO)&&this.IO(t.sO))},n.RO=function(t){return _S(this.Rs.jh,t)},n.IO=function(t){if(!this.Rs.tO)return!0;if(this.gO)return!0;var n=this.DO();return!!n&&_S(n,t)},n.DO=function(){if(this.Rs.tO){var t=r.ancestorOrigins;return t&&t.length>0?t[t.length-1]:this.Rs.nO?this.Rs.nO:void 0}},n.bO=function(n,i){return!!t.OO(n,i.oO)},t.OO=function(t,n){return _S(this.CO(t),n)},t.CO=function(t){return Pt(t)?t:pg(t)&&t.src||""},t}();function mS(t){switch(t){case wS.dO:return n.ErrorCode.LICENSE_INVALID_DOMAIN;case wS.lO:return n.ErrorCode.LICENSE_INVALID_SOURCE;case wS.eO:return n.ErrorCode.LICENSE_EXPIRED;case wS.Nl:return n.ErrorCode.LICENSE_ERROR}}function bS(t,n){var i=t,e=n;if(!i)return!1;if("*"===(e=e.trim()))return!0;if(e===(i=i.replace(/\.+$/,"")))return!0;var r="\\.",u="25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?",s="(\\*|"+u+")",o=new RegExp("ip-range\\("+s+r+s+r+s+r+s+"\\)"),c=e.match(o),a=function(t){return"*"===t?"("+u+")":t};if(null!==c&&5===c.length){var f=new RegExp("^"+c[1]+r+a(c[2])+r+a(c[3])+r+a(c[4])+"$");return null!==i.match(f)}return e="."+e,-1!==i.indexOf(e,i.length-e.length)}function pS(t){return t.some(function(t){return"*"===t})}function _S(t,n){var i=st.ze(t);if(!kS(i))return!0;for(var e=0;e<n.length;e++){var r=n[e];if(bS(i.hostname,r))return!0;if(bS(Bd(t),r))return!0}return!1}function kS(t){return-1!==dS.indexOf(t.protocol)}function TS(t){var n=st.ze(t.jh);return kS(n)&&!bS(n.hostname,"localhost")&&!function(t){return bS(t.hostname,"theoplayer.doubleclick.net")}(n)}var SS,ES=function(){function t(){}return t.pO=function(t){return t===wS.dO?this.AO:t===wS.lO?this.PO:t===wS.eO?this.xO:this.LO},t}();function RS(t){var n=[t._k,t.BO,t.MO];switch(t.BO){case SS.FO:n.push(t.Vl);break;case SS.UO:n.push(t.bw),n.push(t.fu);break;case SS.VO:n.push(t.fu)}return n}ES.LO="The license for this player is invalid.",ES.xO="The usage license for this video player has expired.",ES.AO="The current domain is incompatible with the license for this player.",ES.PO="The provided video source is incompatible with the license for this player.",function(t){t[t.FO=1]="FO",t[t.UO=4]="UO",t[t.VO=5]="VO"}(SS||(SS={}));for(var IS=new Array(256),DS=0;DS<256;DS+=1)IS[DS]=(DS<16?"0":"")+DS.toString(16);function NS(){var t=En(),n=(4294967296*d.random()|0)+t&3029421624,i=(4294967296*d.random()|0)+t&3595553209,e=(4294967296*d.random()|0)+t&1130486254,r=(4294967296*d.random()|0)+t&1284287105;return IS[255&n]+IS[n>>>8&255]+IS[n>>>16&255]+IS[n>>>24&255]+"-"+IS[255&i]+IS[i>>>8&255]+"-"+IS[i>>>16&15|64]+IS[i>>>24&255]+"-"+IS[63&e|128]+IS[e>>>8&255]+"-"+IS[e>>>16&255]+IS[e>>>24&255]+IS[255&r]+IS[r>>>8&255]+IS[r>>>16&255]+IS[r>>>24&255]}var OS=function(){function t(t){this.KN=void 0,this.KN=t}var n=t.prototype;return n.JN=function(t){var n,i,e,r,u,s,o,c=[];if(!t)return"";for(n=0;n<t.length;n+=4)i=(o=this.KN.indexOf(t.charAt(n))<<18|this.KN.indexOf(t.charAt(n+1))<<12|(u=this.KN.indexOf(t.charAt(n+2)))<<6|(s=this.KN.indexOf(t.charAt(n+3))))>>>16&255,e=o>>>8&255,r=255&o,c[n/4]=String.fromCharCode(i,e,r),64===s&&(c[n/4]=String.fromCharCode(i,e)),64===u&&(c[n/4]=String.fromCharCode(i));return c.join("")},n.QN=function(t){var n,i,e,r,u,s,o,c=[],a="";if((s=t.length%3)>0)for(;s++<3;)a+=this.KN.charAt(64),t+="\0";for(s=0;s<t.length;s+=3)i=(n=t.charCodeAt(s)<<16|t.charCodeAt(s+1)<<8|t.charCodeAt(s+2))>>18&63,e=n>>12&63,r=n>>6&63,u=63&n,c[s/3]=this.KN.charAt(i)+this.KN.charAt(e)+this.KN.charAt(r)+this.KN.charAt(u);return(o=c.join("")).slice(0,o.length-a.length)+a},t}();function CS(){return st._e()}OS.lb=new OS(function(){var t,n,i,e,r=[],u=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<u.length;t+=1)for(n=u[t],i=0;i<n.length;i+=1)e=n.charAt(i),-1===r.indexOf(e)&&r.push(e);return r.join("")}()),OS.ZN=new OS(OS.lb.JN("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop"));var AS,PS="theoplayer-session-id";function xS(){if(!AS){var t=Xc.mu(PS);t?AS=t:(AS=NS(),Xc.aa(PS,AS))}return AS}var LS=/[^\x00-\x7E]/g;function BS(t){return"\\u"+function(t,n,i){void 0===i&&(i=" ");var e=i,r=(0|n)-t.length;return r<=0?t:(r>e.length&&(e+=function(t,n){var i=0|n;if(0===t.length||0===i)return"";for(var e=t,r="";1==(1&i)&&(r+=e),0!=(i>>>=1);)e+=e;return r}(e,r/e.length)),e.slice(0,r)+t)}(t.charCodeAt(0).toString(16),4,"0")}var MS=0,FS=1,US=6e4;function VS(t){var n,i,e,r,u,s=(n=function(t){return[t.WO,t.hc,t.uO,t.xp,t.zO,t.qO,t.HO.map(RS)]}(t),i=[],e=n,r=function(t,n){if(Ct(n)){if(-1!==i.indexOf(n))return null;i.push(n)}return n},JSON.stringify(e,r,u).replace(LS,BS));return OS.ZN.QN(s)}var WS=function(){function t(t,n,i,e,r,u){var s=this;void 0===e&&(e=OS.lb),void 0===r&&(r=MS),void 0===u&&(u=FS),this.jO=[],this.$O=null,this.XO=0,this.GO="unknown",this.ro=0,this.YO=function(){CS()-s.XO>US&&s.W()},this.KO=function(){s.W(!0)},this.No=t,this.kT=n,this.JO=i,this.QO=e,this.ZO=r,this.tC=u,Q.ct(this.KO),c(this.YO,US)}var n=t.prototype;return n.nC=function(){return Boolean(this.zO)},n.iC=function(t){var n;return lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,lr.awrap(this.JO.eC());case 2:if(i.sent.vO){i.next=5;break}return i.abrupt("return");case 5:return n={BO:SS.FO,MO:En(),Vl:t},i.next=8,lr.awrap(this.rC(n));case 8:case"end":return i.stop()}},null,this,null,j)},n.uC=function(t,n){var i;return lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return i={BO:SS.UO,MO:En(),bw:n,fu:t},e.next=3,lr.awrap(this.rC(i));case 3:case"end":return e.stop()}},null,this,null,j)},n.sC=function(t){var n;return lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n={BO:SS.VO,MO:En(),fu:t},i.next=3,lr.awrap(this.rC(n));case 3:case"end":return i.stop()}},null,this,null,j)},n.rC=function(t){var n;return lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,lr.awrap(this.JO.eC());case 2:if(n=i.sent,"a:n[_O*[C4C-N$_@_MYY $D]iOp]N$_-_]th_:c|aen?C:pH"!==this.QO.QN(n.uO)){i.next=6;break}if(t.BO===SS.VO){i.next=6;break}return i.abrupt("return");case 6:if(t.BO===SS.FO?this.oC():this.nC()||this.oC(),t._k=this.ro++,this.jO.push(t),(e=t.BO)!==SS.FO&&e!==SS.VO){i.next=14;break}return i.next=12,lr.awrap(this.W());case 12:i.next=19;break;case 14:if(!(this.jO.length>this.ZO)){i.next=19;break}return i.next=17,lr.awrap(this.cC());case 17:i.next=19;break;case 19:case"end":return i.stop()}var e},null,this,null,j)},n.W=function(t){return lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:void 0===t&&(t=!1);case 1:if(!(this.jO.length>0)){n.next=6;break}return n.next=4,lr.awrap(this.cC(t));case 4:n.next=1;break;case 6:case"end":return n.stop()}},null,this,null,j)},n.aC=function(t){var n;return lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,lr.awrap(this.JO.eC());case 2:return n=i.sent,i.abrupt("return",{WO:En(),hc:xS(),uO:this.QO.QN(n.uO)||"dev",xp:this.No,zO:this.$O,qO:this.GO,HO:t});case 4:case"end":return i.stop()}},null,this,null,j)},n.cC=function(t){var n,i;return lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t=!1),n=this.jO.splice(0,this.tC),e.next=4,lr.awrap(this.aC(n));case 4:i=e.sent,t?this.wv(i):this.fC(i),this.XO=CS();case 7:case"end":return e.stop()}},null,this,null,j)},n.fC=function(t){var n,i,e;return lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=VS(t),i=new Dd({jh:"https://license.theoplayer.com",Ih:n,dv:!1,Vh:Qc.ri,Uh:{"Content-Type":I_.ZS},fv:4e3,av:Td.POST}),r.prev=2,r.next=5,lr.awrap(this.kT.qh(i));case 5:return e=r.sent,r.next=8,lr.awrap(e.Sh());case 8:r.next=13;break;case 10:r.prev=10,r.t0=r.catch(2),(new Image).src="https://licensing.theoplayer.com/t?"+n;case 13:case"end":return r.stop()}},null,this,[[2,10]],j)},n.wv=function(t){var n=VS(t);this.kT.wv({jh:"https://license.theoplayer.com",Ih:n,Rh:I_.ZS})},n.oC=function(){this.nC()&&this.W(),this.$O=NS(),this.ro=0},n.et=function(){Q.ft(this.KO),this.W()},ft(t,[{key:"HO",get:function(){return this.jO}},{key:"zO",get:function(){return this.$O}}]),t}();var zS=St.xn||St._n&&St.Vn<13;function qS(t,n,i){var e=t.getImageData(n,i,1,1).data;return 0===e[0]&&0===e[1]&&0===e[2]&&0===e[3]}var HS=function(){function t(t){this.hI=void 0,this.Ad=void 0,this.hC=void 0,this.hI=t}var n=t.prototype;return n.vC=function(t){if(!t||!t.drawImage)return!1;var n=this.hI.lg();if(!n)return!1;for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return t.drawImage.apply(t,[n].concat(e)),!0},n.dC=function(t,n,i,r,u,s){if(!t||!t.texImage2D)return!1;var o=this.hI,c=o.lg();if(!c)return!1;if(zS){this.hC||(this.hC=e.createElement("canvas"));var a=this.hC,h=a.getContext("2d"),v=o.Dw,d=o.Iw,l=a.width,w=a.height;h.clearRect(0,0,a.width,a.height),l===v&&w===d||(a.width=v,a.height=d),h.drawImage(c,0,0,v,d);var g=!1;v>0&&qS(h,v-1,0)&&(a.width=l,g=!0),d>0&&qS(h,0,d-1)&&(a.height=w,g=!0),g&&h.drawImage(c,0,0,v,d),c=a}try{t.texImage2D(n,i,r,u,s,c)}catch(t){throw new f("Error trying to render video content to the WebGLRenderingContext. This is most likely due to CORS restrictions. https://support.theoplayer.com/hc/en-us/articles/115003094385#Considerations")}return!0},ft(t,[{key:"Pd",get:function(){return this.Ad||(this.Ad=(t=this,{drawImage:function(n){for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return t.vC.apply(t,[n].concat(e))},texImage2D:function(n,i,e,r,u,s){return t.dC(n,i,e,r,u,s)}}));var t}}]),t}(),jS=function(t){function n(n,i){var e;return(e=t.call(this,"lC")||this).Dy=n,e.d_=i,e}return vt(n,t),n.prototype.xd=function(){return new $S(this.Dy,this.d_)},n}(yw),$S=function(t){function n(n,i){var e;return(e=t.call(this,"dimensionchange")||this).width=n,e.height=i,e}return vt(n,t),n}(Ou),XS=function(t,n){this.Sg=void 0,this.wC=void 0,this.Sg=t,this.wC=n},GS=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).gC=void 0,e.yC=0,e.mC=0,e.bC=function(t){if(t.length>0){var n=t[t.length-1].contentRect;e.mC=n.width,e.yC=n.height,e.wC(e.mC,e.yC)}},e.gC=new Z.ResizeObserver(e.bC),e.gC.observe(e.Sg),e}return vt(n,t),n.prototype.et=function(){this.gC.disconnect()},ft(n,[{key:"pC",get:function(){return this.yC}},{key:"_C",get:function(){return this.mC}}]),n}(XS),YS=0;var KS,JS=o,QS=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,ZS=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelRequestAnimationFrame;function tE(){return KS||(KS=Z&&Z.document&&Z.document.createElement("span")),KS}QS&&ZS||(QS=function(t){var n=CS(),i=d.max(0,16-(n-YS)),e=s(function(){return t(n+i)},i);return YS=n+i,e},ZS=JS),QS=QS.bind(t),ZS=ZS.bind(t);var nE=["Webkit","Moz","O","ms"];!function(){var t=!1;try{if(void 0!==Z&&"function"==typeof Z.addEventListener){var n=v.defineProperty({},"passive",{get:function(){t=!0}});Z.addEventListener("testPassiveEventSupport",Mt,n),Z.removeEventListener("testPassiveEventSupport",Mt,n)}}catch(t){}}();var iE=yr();function eE(t){return iE.has(t)||iE.set(t,function(t){var n=tE();if(!n||!n.style)return t;if(void 0!==n.style[t])return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),e=0;e<nE.length;e++){var r=nE[e],u=r+i;if(void 0!==n.style[u])return u}return t}(t)),iE.get(t)}function rE(t){var n=t.style;n.position="absolute",n.left=n.right=n.bottom=n.top="0",n.overflow="scroll",n.zIndex="-1",n.visibility="hidden"}function uE(t){var n=t.style;n.position="absolute",n.left=n.top="0",n[eE("transition")]="0s"}var sE=function(t){function n(n,r,u){var o;(o=t.call(this,n,r)||this).kC=void 0,o.TC=0,o.mC=NaN,o.yC=NaN,o.SC=void 0,o.EC=void 0,o.RC=void 0,o.IC=void 0,o.DC=void 0,o.fl=function(){o.EC.style.width=1e5+"px",o.EC.style.height=1e5+"px",o.SC.scrollLeft=1e5,o.SC.scrollTop=1e5,o.RC.scrollLeft=1e5,o.RC.scrollTop=1e5,0===o.RC.scrollTop&&QS(o.fl)},o.NC=function(){var t=o._C,n=o.pC;o.wC(t,n),o.mC=t,o.yC=n,o.fl(),o.TC=0},o.OC=function(){if(!o.TC){var t=o._C,n=o.pC;t===o.mC&&n===o.yC||(o.TC=QS(o.NC))}},o.CC=function(){o.DC||(o.DC=s(o.AC,66))},o.AC=function(){o.DC=void 0,o.xC()},o.xC=function(){o.OC()};var c=function(t,n){return i.getComputedStyle(t,void 0).getPropertyValue(n)||t.style[n]}(n,"position");u||"static"!==c||(n.style.position="relative");var a,f=e.createElement("div");return o.kC=f,o.SC=e.createElement("div"),o.EC=e.createElement("div"),o.RC=e.createElement("div"),o.IC=e.createElement("div"),rE(o.SC),rE(o.RC),uE(o.EC),uE(a=o.IC),a.style.width="200%",a.style.height="200%",f.appendChild(o.SC),f.appendChild(o.RC),o.SC.appendChild(o.EC),o.RC.appendChild(o.IC),n.appendChild(f),o.SC.addEventListener("scroll",o.OC),o.RC.addEventListener("scroll",o.OC),i&&i.addEventListener("resize",o.CC),o.OC(),o}return vt(n,t),n.prototype.et=function(){ZS(this.TC),this.TC=0,this.SC.removeEventListener("scroll",this.OC),this.RC.removeEventListener("scroll",this.OC),He(this.kC),i&&i.removeEventListener("resize",this.CC)},ft(n,[{key:"pC",get:function(){return this.Sg.getBoundingClientRect().height||this.yC||0}},{key:"_C",get:function(){return this.Sg.getBoundingClientRect().width||this.mC||0}}]),n}(XS),oE=function(t){function n(n){var i;return(i=t.call(this)||this).Sg=void 0,i.gC=void 0,i.bC=function(t,n){i.Yr(new jS(t,n))},i.Sg=n,i}vt(n,t);var i=n.prototype;return i.yc=function(t){this.gC||("function"==typeof Z.ResizeObserver?this.gC=new GS(this.Sg,this.bC):this.gC=new sE(this.Sg,this.bC,t))},i.et=function(){this.Zr(),this.gC&&(this.gC.et(),this.gC=void 0)},ft(n,[{key:"pC",get:function(){return this.gC?this.gC.pC:0}},{key:"_C",get:function(){return this.gC?this.gC._C:0}}]),n}(Du),cE=function(t){function n(){return t.call(this,zk.$d)||this}return vt(n,t),n}(Ou);!function(){if(e)for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0;n<t.length;n++){var i=t[n];if(i[1]in e)return{LC:i[0],BC:i[1],MC:i[2],FC:i[3],UC:i[4],VC:i[5]}}}();var aE=function(t){function n(){return t.call(this,zk.lD)||this}return vt(n,t),n}(Ou),fE=function(t){function n(n,i){var e;return(e=t.call(this)||this).hI=void 0,e.WC=void 0,e.zC=void 0,e.qC=!1,e.HC=function(){return e.sc()},e.$D=function(t){e.qC||e.Yr(t)},e.hI=n,e.WC=i,e.zC=Xk,e.jC(),e.hI.Kr(Jc.ka,e.HC),e.sc(),e}vt(n,t);var i=n.prototype;return i.Zg=function(){this.WC&&this.zC.Zg()},i.ny=function(){this.zC.ny()},i.jC=function(){this.zC.Kr(zk.$d,this.$D),this.zC.Kr(zk.Nl,this.Gr)},i.$C=function(){this.zC.tu(zk.$d,this.$D),this.zC.tu(zk.Nl,this.Gr)},i.sc=function(){var t=this.zC,n=this.hI.wg();if(t!==n){this.qC=!0;var i=this.wD,e=this.gD;i&&this.ny(),this.$C(),this.zC=n,this.jC(),i&&!this.wD&&this.gD?this.Zg():this.ny(),this.qC=!1,e!==this.gD&&this.Yr(new aE),i!==this.wD&&this.Yr(new cE)}},i.et=function(){this.Zr(),this.$C(),this.hI.tu(Jc.ka,this.HC)},ft(n,[{key:"gD",get:function(){return!!this.WC&&this.zC.gD}},{key:"wD",get:function(){return this.zC.wD}}]),n}(Du);function hE(t){var n;return{get url(){return t.jh},get method(){return t.av},get headers(){return n||(n=t.Uh.Ja()),n},get body(){return t.Ih},get useCredentials(){return t.dv},get type(){return gE(t.gr)},get subType(){return mE(t.hv)},get mediaType(){return pE(t.vv)},get responseType(){return dE(t.Vh)}}}function vE(t){switch(t.toLowerCase()){case"arraybuffer":return Qc.Ga;case"json":return Qc.Ya;case"stream":return Qc.Ka;case"text":default:return Qc.ri}}function dE(t){return t}function lE(t){switch(t.toUpperCase()){case"POST":return Td.POST;case"PUT":return Td.PUT;case"DELETE":return Td.DELETE;case"HEAD":return Td.HEAD;case"OPTIONS":return Td.OPTIONS;case"GET":default:return Td.GET}}function wE(t){switch(t.toLowerCase()){case"manifest":return Sd.Gh;case"segment":return Sd.Yh;case"content-protection":return Sd.Kh;default:return Sd.Xh}}function gE(t){return t}function yE(t){switch(t.toLowerCase()){case"initialization-segment":return Ed.Jh;case"fairplay-license":return Ed.Qh;case"fairplay-certificate":return Ed.Zh;case"widevine-license":return Ed.tv;case"widevine-certificate":return Ed.nv;case"playready-license":return Ed.ev;case"clearkey-license":return Ed.rv;case"aes128-key":return Ed.uv;default:return Ed.Xh}}function mE(t){return t}function bE(t){switch(t.toLowerCase()){case"audio":return Rd.sv;case"video":return Rd.ov;case"text":return Rd.ri;case"image":return Rd.cv;case"":default:return Rd.Xh}}function pE(t){return t}var _E=function(){function t(t,n){this.XC=new Us,this.GC=[],this.Ad=void 0,this.YC=!1,this.Iv=void 0,this.KC=0,this.JC=t,this.QC=n}var n=t.prototype;return n.Tp=function(){this.YC=!0,this.XC.xu(null)},n.ZC=function(){this.XC.Lu(new id(this.GC))},n.tA=function(t){if(!this.nA)throw new h("Cannot respond more than once");if(!Ct(t))throw new h("Expected valid response");this.Iv=this.iA(t),this.Tp()},n.eA=function(){try{var t=this.QC(this.Pd);t?this.rA(t):this.uA||this.sA||this.Tp()}catch(t){this.GC.push(t),this.ZC()}},n.rA=function(t){if(this.sA)throw new f("Request has been redirected or a response already exists");if(Lt(t))this.oA(t);else{if("function"!=typeof t)throw new h("Expected promise or function");var n=new Us;try{var i=t(function(t){t?n.Lu(t):n.xu(void 0)});Lt(i)&&n.xu(i)}catch(t){n.Lu(t)}this.oA(n.Cu)}},n.oA=function(t){return lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,this.KC++,n.next=4,lr.awrap(t);case 4:this.KC--,this.uA||this.sA||(this.GC.length?this.ZC():this.Tp()),n.next=13;break;case 8:n.prev=8,n.t0=n.catch(0),this.KC--,this.GC.push(n.t0),this.uA||this.sA||this.ZC();case 13:case"end":return n.stop()}},null,this,[[0,8]],j)},ft(t,[{key:"cA",get:function(){return this.XC.Cu}},{key:"Pd",get:function(){return this.Ad||(this.Ad=this.aA()),this.Ad}},{key:"sA",get:function(){return this.YC}},{key:"nA",get:function(){return!this.YC}},{key:"uA",get:function(){return this.KC>0}},{key:"Dv",get:function(){return this.Iv}}]),t}(),kE=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).fA=void 0,r.fA=e,r.eA(),r}vt(n,t),n.hA=function(t,n,i){var e=void 0===t.body?i:t.body;return new Id({Pi:e,qh:n.qh,Vh:n.qh.Vh,Uh:t.headers,Fh:t.status,Wh:t.statusText,Hh:t.url,zh:!0},n)};var i=n.prototype;return i.aA=function(){return i=hE((t=this).qh),{get closed(){return!t.nA},get request(){return i},get url(){return t.jh},get status(){return t.Fh},get statusText(){return t.Wh},get headers(){return n||(n=t.Uh.Ja()),n},get body(){return t.Ih},respondWith:function(n){return t.tA(n)},waitUntil:function(n){return t.rA(n)}};var t,n,i},i.iA=function(t){return n.hA(t,this.JC,this.fA)},ft(n,[{key:"Ih",get:function(){return this.fA}},{key:"Uh",get:function(){return this.JC.Uh}},{key:"qh",get:function(){return this.JC.qh}},{key:"Dv",get:function(){return this.Iv}},{key:"Fh",get:function(){return this.JC.Fh}},{key:"Wh",get:function(){return this.JC.Wh}},{key:"jh",get:function(){return this.JC.Hh}}]),n}(_E),TE=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).vA=void 0,r.dA=void 0,r.dA=e,r.eA(),r}vt(n,t);var i=n.prototype;return i.aA=function(){return t=this,{get url(){return t.jh},get method(){return t.av},get headers(){return n||(n=t.Uh.Ja()),n},get body(){return t.Ih},get closed(){return!t.nA},get useCredentials(){return t.dv},get type(){return gE(t.gr)},get subType(){return mE(t.hv)},get mediaType(){return pE(t.vv)},get responseType(){return dE(t.Vh)},redirect:function(n){return t.lA(n)},respondWith:function(n){return t.tA(n)},waitUntil:function(n){return t.rA(n)}};var t,n},i.iA=function(t){var n=this.JC.Ih,i=new Id({Pi:n,Uh:{},qh:this.JC,Hh:this.JC.jh,Vh:this.JC.Vh,Fh:200,Wh:"OK"});return kE.hA(t,i,n)},i.lA=function(t){if(!this.nA)throw new h("Cannot redirect, already redirected or has a response");var n;n=Pt(t)?{url:t}:t,this.vA=function(t,n){return new Dd({jh:void 0===t.url?n.jh:t.url,av:void 0!==t.method?lE(t.method):void 0,Uh:t.headers,Ih:t.body,dv:t.useCredentials,gr:void 0!==t.type?wE(t.type):void 0,hv:void 0!==t.subType?yE(t.subType):void 0,vv:void 0!==t.mediaType?bE(t.mediaType):void 0,Vh:void 0!==t.responseType?vE(t.responseType):void 0},n)}(n,this.JC),this.Tp()},ft(n,[{key:"Ih",get:function(){return this.JC.Ih}},{key:"nA",get:function(){return this.dA&&!this.YC}},{key:"Uh",get:function(){return this.JC.Uh}},{key:"av",get:function(){return this.JC.av}},{key:"wA",get:function(){return this.vA}},{key:"Dv",get:function(){return this.Iv}},{key:"Vh",get:function(){return this.JC.Vh}},{key:"fv",get:function(){return this.JC.fv}},{key:"Hr",get:function(){return this.JC.Hr}},{key:"gr",get:function(){return this.JC.gr}},{key:"hv",get:function(){return this.JC.hv}},{key:"vv",get:function(){return this.JC.vv}},{key:"jh",get:function(){return this.JC.jh}},{key:"dv",get:function(){return this.JC.dv}},{key:"lv",get:function(){return this.JC.lv}}]),n}(_E);var SE,EE=function(t){function n(n,i){var e;void 0===i&&(i=!0);var r=new RE(n);return(e=t.call(this,r,i)||this).gA=void 0,e.gA=r,e}vt(n,t);var i=n.prototype;return i.yA=function(t){this.gA.yA(t)},i.mA=function(t){this.gA.mA(t)},i.bA=function(t){this.gA.bA(t)},i.pA=function(t){this.gA.pA(t)},i._A=function(t){this.gA._A(t)},n}(Od),RE=function(){function t(t){this.gv=void 0,this.kA=[],this.TA=[],this.gv=t}var n=t.prototype;return n.qh=function(t){var n;return lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,lr.awrap(this.SA(t,t.Hr));case 3:n=i.sent,i.next=13;break;case 6:if(i.prev=6,i.t0=i.catch(0),!(i.t0 instanceof Md)){i.next=12;break}return i.next=11,lr.awrap(this.EA(i.t0,t.Hr));case 11:return i.abrupt("return",i.sent);case 12:throw i.t0;case 13:return i.next=15,lr.awrap(this.RA(n,t.Hr));case 15:if(!kd(n=i.sent)){i.next=20;break}return i.abrupt("return",n);case 20:throw new Ud(n);case 21:case"end":return i.stop()}},null,this,[[0,6]],j)},n.wv=function(t){return this.gv.wv(t)},n.SA=function(t,n){var i,e,r,u,s,o;return lr.async(function(c){for(;;)switch(c.prev=c.next){case 0:gu(n),i=t,r=0,u=this.kA.slice();case 3:if(!(r<u.length)){c.next=21;break}if(s=u[r],gu(n),(o=new TE(i,s,!e)).sA){c.next=17;break}return c.prev=8,c.next=11,lr.awrap(o.cA);case 11:c.next=17;break;case 13:return c.prev=13,c.t0=c.catch(8),c.abrupt("continue",18);case 17:o.wA&&!e?i=o.wA:o.Dv&&!e&&(e=o.Dv);case 18:r++,c.next=3;break;case 21:if(!e){c.next=23;break}return c.abrupt("return",e);case 23:return c.abrupt("return",this.gv.qh(i));case 24:case"end":return c.stop()}},null,this,[[8,13]],j)},n.EA=function(t,n){var i,e;return lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return i=t instanceof Ud?t.Dv:new Id({Pi:null,qh:t.qh,Fh:0,Wh:""}),r.next=3,lr.awrap(this.RA(i,n));case 3:if((e=r.sent)!==i){r.next=8;break}throw t;case 8:if(!kd(e)){r.next=12;break}return r.abrupt("return",e);case 12:throw new Ud(e);case 13:case"end":return r.stop()}},null,this,null,j)},n.RA=function(t,n){var i,e,r,u,s,o;return lr.async(function(c){for(;;)switch(c.prev=c.next){case 0:i=t,e=0,r=this.TA.slice();case 2:if(!(e<r.length)){c.next=23;break}return u=r[e],gu(n),c.next=7,lr.awrap(j.resolve(i.Ru().Pi(n)));case 7:if(s=c.sent,(o=new kE(i,u,s)).sA){c.next=19;break}return c.prev=10,c.next=13,lr.awrap(o.cA);case 13:c.next=19;break;case 15:return c.prev=15,c.t0=c.catch(10),c.abrupt("continue",20);case 19:i=o.Dv||i;case 20:e++,c.next=2;break;case 23:return c.abrupt("return",i);case 24:case"end":return c.stop()}},null,this,[[10,15]],j)},n.yA=function(t){this.kA.unshift(t)},n.mA=function(t){this.kA.push(t)},n.bA=function(t){cu(this.kA,t)},n.pA=function(t){this.TA.unshift(t)},n._A=function(t){cu(this.TA,t)},n.et=function(){this.gv.et(),hu(this.kA),hu(this.TA)},t}(),IE=function(t){function n(n,i,e){var r;return(r=t.call(this,i)||this).Ad=void 0,r.IA=function(t){r.Yr(t)},r.DA=function(t){r.Yr(t)},r.NA=n,r.kT=i,r.RD=e,r.NA.Kr(Jc.Da,r.IA),r.NA.Kr(Jc.Ia,r.DA),r}vt(n,t);var i=n.prototype;return i.OA=function(t){this.RD.OA(t)},i.yA=function(t){this.kT.yA(t)},i.bA=function(t){this.kT.bA(t)},i.pA=function(t){this.kT.pA(t)},i._A=function(t){this.kT._A(t)},i.et=function(){this.Zr(),this.NA.tu(Jc.Da,this.IA),this.NA.tu(Jc.Ia,this.DA)},ft(n,[{key:"Pd",get:function(){var t;return this.Ad||(this.Ad=(t=this,{get online(){return t.Ag},get estimator(){return n=t.CA,{get bandwidth(){return n.BE},get roundTripTime(){return n.ME}};var n},setEstimator:function(n){t.OA(function(t){if(t)return{get BE(){return Fw(t.bandwidth)},get ME(){return Fw(t.roundTripTime)},LE:function(n){return function(t){if(t)return{AA:function(n){t.markRequestStart(n)},PA:function(n){t.markResponseStart(n)},xA:function(n,i){t.markResponseData(n,i)},LA:function(n){t.markResponseEnd(n)}}}(t.createMeasurer(hE(n)))}}}(n))},addRequestInterceptor:function(n){t.yA(n)},removeRequestInterceptor:function(n){t.bA(n)},addResponseInterceptor:function(n){t.pA(n)},removeResponseInterceptor:function(n){t._A(n)},addEventListener:function(n,i){t.Kr(n,i)},removeEventListener:function(n,i){t.tu(n,i)}})),this.Ad}},{key:"Ag",get:function(){return this.NA.Ag}},{key:"CA",get:function(){return this.RD.CA}}]),n}(Du);!function(t){t.PERFORMANCE="performance",t.QUALITY="quality",t.BANDWIDTH="bandwidth"}(SE||(SE={}));var DE=30,NE={type:SE.BANDWIDTH},OE=20,CE=60;function AE(t){var n,i,e,r=Aw(NE);return Pt(t)?r.type=PE(t):Ct(t)&&function(t){switch(t){case SE.PERFORMANCE:case SE.QUALITY:case SE.BANDWIDTH:return!0;default:return!1}}(t.type)&&(r.type=PE(t.type)),Ct(t)&&Ct(t.metadata)&&(r.metadata=(n=t.metadata,i={},e=Mw(n.bitrate),g(e)||(i.bitrate=e),i)),r}function PE(t){switch(t){case"bandwidth":return SE.BANDWIDTH;case"performance":return SE.PERFORMANCE;case"quality":return SE.QUALITY}}var xE=function(t){function n(n){var i;return(i=t.call(this,"MA")||this).BA=n,i}return vt(n,t),n}(Ou),LE=function(t){function n(n){var i;return(i=t.call(this,"UA")||this).FA=n,i}return vt(n,t),n}(Ou),BE=function(t){function n(n){var i;return(i=t.call(this,"WA")||this).VA=n,i}return vt(n,t),n}(Ou),ME=function(t){function n(){for(var n,i,e=arguments.length,r=new Array(e),u=0;u<e;u++)r[u]=arguments[u];return(n=t.call.apply(t,[this].concat(r))||this).Ad=(i=Nn(n),{get strategy(){return{metadata:(t=i.FA).metadata,type:(n=t.type,n)};var t,n},set strategy(t){i.FA=AE(t)},get targetBuffer(){return i.BA},set targetBuffer(t){var n=Mw(t);g(n)||(i.BA=n>CE?CE:n)},get bufferLookbackWindow(){return i.VA},set bufferLookbackWindow(t){var n=Mw(t);g(n)||(i.VA=n<=0?DE:n)}}),n.zA=NE,n.qA=OE,n.HA=DE,n.jA=void 0,n.$A=void 0,n}vt(n,t);var i=n.prototype;return i.XA=function(t){this.$A=t},i.OA=function(t){this.jA=t},ft(n,[{key:"GA",get:function(){switch(this.zA.type){case SE.PERFORMANCE:return 0;case SE.QUALITY:return 1/0;case SE.BANDWIDTH:return this.zA.metadata&&void 0!==this.zA.metadata.bitrate?this.zA.metadata.bitrate:8*og.Ql();default:return 8*og.Ql()}}},{key:"Pd",get:function(){return this.Ad}},{key:"FA",get:function(){return this.zA},set:function(t){this.zA=t,this.Yr(new LE(t))}},{key:"BA",get:function(){return this.qA},set:function(t){this.qA=t,this.Yr(new xE(t))}},{key:"VA",get:function(){return this.HA},set:function(t){this.HA=t,this.Yr(new BE(t))}},{key:"CA",get:function(){var t;return null!=(t=this.jA)?t:this.$A.JR}}]),n}(Du),FE=function(t){function n(){return t.call(this,"Xd")||this}return vt(n,t),n.prototype.xd=function(){return new UE},n}(yw),UE=function(t){function n(){return t.call(this,"change")||this}return vt(n,t),n}(Ou),VE=function(t){function n(n,i){var e;return(e=t.call(this,i)||this).YA=void 0,e.KA=function(t){var n;n=t,Boolean(n&&n.Pd)&&ku(function(){e.Yr(t.Pd)})},e.YA=n,e.YA.Qr(e.KA),e}return vt(n,t),n.prototype.et=function(){this.Zr(),this.YA.eu(this.KA)},n}(eg),WE=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n}(VE);var zE=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).oy=0,n.ay=1/0,n.Ad=void 0,n}vt(n,t);var i=n.prototype;return i.fl=function(){0===this.oy&&this.ay===1/0||(this.oy=0,this.ay=1/0,this.Yr(new FE))},i.JA=function(){return new Hk([this.ey,this.uy],[!0,!0])},ft(n,[{key:"ey",get:function(){return this.oy},set:function(t){if(this.uy<=t)throw new f("Start time of a clip should be smaller than the end time.");this.oy!==t&&(this.oy=t,this.Yr(new FE))}},{key:"uy",get:function(){return this.ay},set:function(t){if(t<=this.ey)throw new f("End time of a clip should be larger than the start time.");this.ay!==t&&(this.ay=t,this.Yr(new FE))}},{key:"Pd",get:function(){var t,n,i;return this.Ad||(this.Ad=(i={get startTime(){return t.ey},set startTime(n){t.ey=n},get endTime(){return t.uy},set endTime(n){t.uy=n},addEventListener:function(t,i){n.Kr(t,i)},removeEventListener:function(t,i){n.tu(t,i)}},n=new VE(t=this,i),i)),this.Ad}}]),n}(eg),qE=function(t){function n(n){var i;return(i=t.call(this)||this).QA=function(t){i.ZA(t)||i.Yr(t)},i.tP=n,i.tP.Qr(i.QA),i}vt(n,t);var i=n.prototype;return i.nP=function(){return this.tP.tg},i.gg=function(){return this.tP.gg()},i.iP=function(){return this.tP.kg},i.eP=function(){return this.tP.pg},i.rP=function(){return this.tP.Tg},i.uP=function(t){this.tP.Tg=t},i.sP=function(){return this.tP.bw},i.oP=function(t){this.tP.bw=t},i.cP=function(){return this.tP.pw},i.aP=function(){return this.tP.Sg},i.fP=function(){return this.tP._w},i.hP=function(){return this.tP.fu},i.vP=function(){return this.tP.kw},i.dP=function(){return this.tP.Eg},i.lP=function(){return this.tP.Tw},i.wP=function(t){this.tP.Tw=t},i.gP=function(){return this.tP.Ag},i.yP=function(){return this.tP.Sw},i.mP=function(){return this.tP.Ew},i.bP=function(t){this.tP.Ew=t},i.pP=function(){return this.tP.Pg},i._P=function(){return this.tP.xg},i.kP=function(t){this.tP.xg=t},i.TP=function(){return this.tP.Ml},i.SP=function(){return this.tP.Lg},i.EP=function(){return this.tP.Rw},i.ug=function(){return this.tP.ug()},i.sg=function(t,n){return lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return gu(n),i.next=3,lr.awrap(this.tP.sg(t,n));case 3:case"end":return i.stop()}},null,this,null,j)},i.RP=function(){return this.tP.ig},i.IP=function(){return this.tP.Iw},i.DP=function(){return this.tP.ng},i.NP=function(){return this.tP.Dw},i.OP=function(){return this.tP.Nw},i.CP=function(t){this.tP.Nw=t},i.wg=function(){return this.tP.wg()},i.lg=function(){return this.tP.lg()},i.fg=function(t){this.tP.fg(t)},i.hg=function(){this.tP.hg()},i.dg=function(){this.tP.dg()},i.st=function(){this.tP.st()},i.K=function(){this.tP.K()},i.Y=function(){this.tP.Y()},i.vg=function(){this.tP.vg()},i.rg=function(){return this.tP.rg()},i.og=function(){return this.tP.og()},i.cg=function(){this.tP.cg()},i.ag=function(){this.tP.ag()},i.fl=function(){return this.tP.fl()},i.et=function(){return this.tP.et()},i._g=function(){this.tP._g()},i.yg=function(t){return this.tP.yg(t)},i.ZA=function(t){return!1},ft(n,[{key:"tg",get:function(){return this.nP()}},{key:"kg",get:function(){return this.iP()}},{key:"Tg",get:function(){return this.rP()},set:function(t){this.uP(t)}},{key:"pg",get:function(){return this.eP()}},{key:"bw",get:function(){return this.sP()},set:function(t){this.oP(t)}},{key:"pw",get:function(){return this.cP()}},{key:"Sg",get:function(){return this.aP()}},{key:"_w",get:function(){return this.fP()}},{key:"fu",get:function(){return this.hP()}},{key:"kw",get:function(){return this.vP()}},{key:"eg",get:function(){return this.tP.eg}},{key:"Eg",get:function(){return this.dP()}},{key:"zw",get:function(){return this.tP.zw}},{key:"Tw",get:function(){return this.lP()},set:function(t){this.wP(t)}},{key:"Ag",get:function(){return this.gP()}},{key:"Sw",get:function(){return this.yP()}},{key:"Ew",get:function(){return this.mP()},set:function(t){this.bP(t)}},{key:"Pg",get:function(){return this.pP()}},{key:"xg",get:function(){return this._P()},set:function(t){this.kP(t)}},{key:"Ml",get:function(){return this.TP()}},{key:"Lg",get:function(){return this.SP()}},{key:"Rw",get:function(){return this.EP()}},{key:"ig",get:function(){return this.RP()}},{key:"Iw",get:function(){return this.IP()}},{key:"ng",get:function(){return this.DP()}},{key:"Dw",get:function(){return this.NP()}},{key:"Nw",get:function(){return this.OP()},set:function(t){this.CP(t)}},{key:"Bg",get:function(){return this.tP.Bg}},{key:"Mg",get:function(){return this.tP.Mg},set:function(t){this.tP.Mg=t}}]),n}(rg),HE=function(t){function n(i,e){var r;return(r=t.call(this,i)||this).AP=void 0,r.PP=!1,r.xP=void 0,r.LP=!1,r.BP=function(){r.MP(),r.FP()},r.dR=function(){r.UP(),r.FP(),r.VP&&r.bw>=r.AP.uy-n.WP&&!r._w&&(r.xP=QS(r.dR))},r.zP=function(){r.LP=!0},r.qP=function(){r.LP&&(r.LP=!1,r.FP())},r.AP=e,r.AP.Kr("Xd",r.BP),r.tP.Kr("timeupdate",r.dR),r}vt(n,t);var i=n.prototype;return i.oP=function(n){var i=this.AP.JA().VI(n);t.prototype.oP.call(this,i),this.FP()},i.fP=function(){return t.prototype.fP.call(this)||this.PP},i.SP=function(){return Hk.fD(t.prototype.SP.call(this)).qI(this.AP.JA()).XR()},i.Y=function(){this.fP()?this.oP(this.HP.start(0)):this.MP(),t.prototype.Y.call(this),this.FP()},i.sg=function(n,i){return lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return gu(i),this.PP=!1,this.AP.fl(),e.next=5,lr.awrap(t.prototype.sg.call(this,n,i));case 5:case"end":return e.stop()}},null,this,null,j)},i.et=function(){return this.AP.tu("Xd",this.BP),this.tP.tu("timeupdate",this.dR),this.UP(),t.prototype.et.call(this)},i.ZA=function(n){switch(n.type){case"seeking":return this.Yr(n),this.zP(),!0;case"seeked":case"emptied":return this.Yr(n),this.qP(),!0;case"ended":if(this.VP)return!0}return t.prototype.ZA.call(this,n)},i.UP=function(){this.xP&&(ZS(this.xP),this.xP=void 0)},i.FP=function(){var t=this.bw,i=this.VP&&t>=this.AP.uy-n.Mm;this.PP&&!i?(this.PP=!1,this.Sw&&this.Y()):this.PP||!i||this.Rw||this.LP||(this.PP=!0,this.Yr(new Ug(t)),this.K())},i.MP=function(){if(this.pw!==1/0){var t=this.HP,i=Hk.fD(t).VI(this.bw);Tn(this.bw,i,n.Mm)||this.oP(i)}},ft(n,[{key:"HP",get:function(){return this.SP().length?this.SP():this.AP.JA().XR()}},{key:"VP",get:function(){return this.AP.uy<this.pw}}]),n}(qE);HE.WP=1,HE.Mm=.001;var jE=function(){function t(){this.jP=void 0,this.jP=!1}return ft(t,[{key:"$P",get:function(){return this.jP},set:function(t){this.jP=t}}]),t}(),$E=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).jP=void 0,e.XP=!1,e.GP=!1,e.jP=i,e}vt(n,t);var i=n.prototype;return i.fP=function(){return!this.jP.$P&&t.prototype.fP.call(this)},i.K=function(){this.GP=!0,t.prototype.K.call(this)},i.Y=function(){this.GP=!1,t.prototype.Y.call(this)},i.ZA=function(n){if(this.jP.$P)switch(n.type){case"ended":return this.bw=0,this.GP||(this.Rw?this.XP=!0:this.Y()),!0;case"seeked":this.XP&&(this.XP=!1,this.Y());break;case"pause":if(this.XP||t.prototype.fP.call(this))return!0}return t.prototype.ZA.call(this,n)},n}(qE);var XE=function(){function t(t){var n;this.Ad=(n=this,{get currentBandwidthEstimate(){return n.Ng},get corruptedVideoFrames(){return n.Ig},get droppedVideoFrames(){return n.Rg},get totalBytesLoaded(){return n.Og},get bufferedSegments(){return n.Cg}}),this.bI=t}return ft(t,[{key:"Pd",get:function(){return this.Ad}},{key:"Ig",get:function(){return this.bI.YP.zw.Ig}},{key:"Ng",get:function(){return this.bI.YP.zw.Ng}},{key:"Rg",get:function(){return this.bI.YP.zw.Rg}},{key:"KP",get:function(){throw new f("Not implemented")}},{key:"JP",get:function(){throw new f("Not implemented")}},{key:"Og",get:function(){return this.bI.YP.zw.Og}},{key:"Dg",get:function(){return this.bI.YP.zw.Dg}},{key:"Cg",get:function(){return this.bI.YP.zw.Cg}}]),t}(),GE=function(t){function n(){return t.call(this,"QP")||this}return vt(n,t),n.prototype.xd=function(){return new YE},n}(yw),YE=function(t){function n(){return t.call(this,"castingchange")||this}return vt(n,t),n}(Ou);var KE=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).ZP=[],n.Ad=void 0,n.tx=function(){return n.Yr(new GE)},n}vt(n,t);var i=n.prototype;return i.nx=function(t){this.ZP.push(t),t.Kr("statechange",this.tx)},i.et=function(){var t=this;this.ZP.forEach(function(n){n.tu("statechange",t.tx)}),hu(this.ZP)},ft(n,[{key:"ix",get:function(){return this.ZP.some(function(t){return t.ix})}},{key:"Pd",get:function(){var t,n,i;return this.Ad||(this.Ad=(i={get casting(){return t.ix},addEventListener:function(t,i){n.Kr(t,i)},removeEventListener:function(t,i){n.tu(t,i)}},n=new WE(t=this,i),i)),this.Ad}}]),n}(rg),JE=function(){function t(){}return t.ex=function(t,n){var i,e,r;return lr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,i=new Dd({jh:t,Vh:Qc.ri,av:Td.GET}),u.next=4,lr.awrap(n.qh(i));case 4:return e=u.sent,u.next=7,lr.awrap(e.Pi());case 7:return r=u.sent,u.abrupt("return",r.trim());case 11:return u.prev=11,u.t0=u.catch(0),wu(u.t0),u.abrupt("return",void 0);case 15:case"end":return u.stop()}},null,null,[[0,11]],j)},t.ux=function(t){try{var i=fS(t);return new gS(i.key,i.domains_page,i.domains_source,i.expiration_date,i.customer_id,i.generation_date,i.sdks,i.send_impression)}catch(t){throw new Cc(n.ErrorCode.LICENSE_ERROR,"Invalid license. No valid license was configured.")}},t.sx=function(t){void 0===t&&(t=OS.lb),st.Ie("The baked-in license is used. Please update the configuration with your license.");var n=t.JN(".$hsF|b9_Ess*r[Y.4(HiEagT@Y@Cen3Cec3Cl\"\""),i=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.JN(n)}),e=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.JN(n)}),r=Number(new Date(Number(t.JN("COD|aHpHa:p3Ceo3Co\"\""))));return new gS(n,i,e,r)},t.convertLicenseToDummyLicense=function(t){return new gS(t.uO,t.sO,t.oO,864e13,t.aO,Date.now(),t.hO,t.vO)},t}(),QE=function(){function t(){}return t.fa=function(){return t.Zn||(t.Zn=ZE.Sc()?new ZE:new $c),t.Zn},t._u=function(n){t.fa()._u(n)},t.ca=function(){t.fa().ca()},t.mu=function(n){return t.fa().mu(n)},t.aa=function(n,i){t.fa().aa(n,i)},t.ox=function(n){var i=t.mu(n);if(void 0!==i)return w(i)},t.ax=function(n){return"true"===t.mu(n)},t}();QE.Zn=void 0;var ZE=function(n){function i(){return n.apply(this,arguments)||this}vt(i,n),i.Sc=function(){try{return t.localStorage.setItem("foobar","foobar"),t.localStorage.removeItem("foobar"),!0}catch(t){}return!1};var e=i.prototype;return e._u=function(n){t.localStorage.removeItem(n)},e.ca=function(){t.localStorage.clear()},e.mu=function(n){return t.localStorage[n]},e.aa=function(n,i){t.localStorage[n]=i},i}(QE),tR=d.floor(14399999*d.random()-72e5),nR=function(){function t(t,n,i,e,r,u){this.wO=void 0,this.kT=t,this.hx=n,this.vx=i,this.JO=e,this.lx=r,this.Rs=u,this.wO=TS(u)}var i=t.prototype;return i.wx=function(){var t;return lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,lr.awrap(this.gx(this.lx.license,this.lx.licenseUrl));case 2:t=n.sent,this.JO.yx(t);case 4:case"end":return n.stop()}},null,this,null,j)},i.gx=function(t,i){var e,r,u,s,o,c,a,f,h;return lr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(e=i,t?r=JE.ux(t):e||(r=JE.sx()),e||(e="https://validate.theoplayer.com/1/"+r.uO),u=this.mx(),!r){v.next=14;break}if((s=this.hx._O(r))!==vS.iO){v.next=14;break}if(!this.bx(r.cO)||!this.bx(null==u?void 0:u.cO)){v.next=13;break}return v.next=10,lr.awrap(this._x(e));case 10:if(!(o=v.sent)){v.next=13;break}return v.abrupt("return",o);case 13:return v.abrupt("return",r);case 14:if(!u){v.next=25;break}if(this.hx._O(u)!==vS.iO){v.next=24;break}if(!this.bx(null==u?void 0:u.cO)){v.next=23;break}return v.next=20,lr.awrap(this._x(e));case 20:if(!(c=v.sent)){v.next=23;break}return v.abrupt("return",c);case 23:return v.abrupt("return",u);case 24:QE._u("THEOplayer.license");case 25:return v.next=27,lr.awrap(JE.ex(e,this.kT));case 27:if(!(a=v.sent)){v.next=37;break}if(f=JE.ux(a),this.hx._O(f)!==vS.iO){v.next=34;break}return QE.aa("THEOplayer.license",a),v.abrupt("return",f);case 34:QE._u("THEOplayer.license"),v.next=39;break;case 37:if(this.wO||!r||s!==vS.eO||e!=="https://validate.theoplayer.com/1/"+r.uO){v.next=39;break}return v.abrupt("return",JE.convertLicenseToDummyLicense(r));case 39:if(!r&&!f){v.next=43;break}this.kx(null!=(h=r)?h:f,new Cc(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!")),v.next=44;break;case 43:throw new Cc(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!");case 44:case"end":return v.stop()}},null,this,null,j)},i.mO=function(t){var n,i,e,r,u,s,o;return lr.async(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,lr.awrap(this.JO.eC());case 2:if(n=c.sent,!this.bx(n.cO)){c.next=9;break}return e=null!=(i=this.lx.licenseUrl)?i:"https://validate.theoplayer.com/1/"+n.uO,c.next=7,lr.awrap(this._x(e));case 7:(r=c.sent)&&(this.JO.yx(r),n=r);case 9:if(c.prev=9,(u=this.hx._O(n))!==vS.rO){c.next=16;break}throw s=wS.dO,new Cc(mS(s),ES.pO(s));case 16:if(u!==vS.eO){c.next=19;break}throw o=wS.eO,new Cc(mS(o),ES.pO(o));case 19:this.hx.mO(t,n),c.next=25;break;case 22:c.prev=22,c.t0=c.catch(9),this.Tx(c.t0);case 25:case"end":return c.stop()}},null,this,[[9,22]],j)},i._x=function(t){var n,i;return lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,lr.awrap(JE.ex(t,this.kT));case 3:if(void 0!==(n=e.sent)){e.next=6;break}return e.abrupt("return",void 0);case 6:if(i=JE.ux(n),this.hx._O(i)!==vS.iO){e.next=11;break}return QE.aa("THEOplayer.license",n),e.abrupt("return",i);case 11:return e.abrupt("return",void 0);case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",void 0);case 17:case"end":return e.stop()}},null,this,[[0,14]],j)},i.bx=function(t){return!t||Number(new Date)+2592e5+tR>=t},i.mx=function(){var t=QE.mu("THEOplayer.license");if(t)return JE.ux(t)},i.kx=function(t,n){this.JO.yx(t),this.Tx(n)},i.Tx=function(t){throw Xt(t.message),this.vx.sC(t.message),t},t}(),iR=function(){function t(){this.Sx=void 0,this.Ex=new Us}var n=t.prototype;return n.yx=function(t){this.Sx=t,this.Ex.xu()},n.eC=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.Sx){t.next=2;break}return t.abrupt("return",j.resolve(this.Sx));case 2:return t.next=4,lr.awrap(this.Ex.Cu);case 4:return t.abrupt("return",this.Sx);case 5:case"end":return t.stop()}},null,this,null,j)},ft(t,[{key:"Rx",get:function(){return this.Sx}}]),t}(),eR=function(t){function n(){return t.call(this,"Xd")||this}return vt(n,t),n.prototype.xd=function(){return new rR},n}(yw),rR=function(t){function n(){return t.call(this,"change")||this}return vt(n,t),n}(Ou);function uR(t){var n,i={get fontFamily(){return t.Ix},set fontFamily(n){t.Ix=n},get fontColor(){return t.Dx},set fontColor(n){t.Dx=n},get fontSize(){return t.Nx},set fontSize(n){t.Nx=n},get backgroundColor(){return t.Ox},set backgroundColor(n){t.Ox=n},get windowColor(){return t.Cx},set windowColor(n){t.Cx=n},get edgeStyle(){return t.Ax},set edgeStyle(n){t.Ax=n},addEventListener:function(t,i){var e=Ww(t,Uw);n.Kr(e,i)},removeEventListener:function(t,i){var e=Ww(t,Uw);n.tu(e,i)}};return n=new Nu(i),t.Kr(["Xd"],function(t){return n.Yr(t.Pd)}),i}var sR,oR,cR={Ix:void 0,Dx:void 0,Nx:void 0,Ox:void 0,Cx:void 0,Ax:void 0,Px:void 0},aR="THEOplayer.textTrackStyle.",fR=function(t){function n(){var i;return(i=t.call(this)||this).xx=void 0,i.Ad=void 0,i.xx=n.Lx(),i}return vt(n,t),n.prototype.sc=function(t){this.xx=wr({},this.xx,t),n.Bx(this.xx),this.Yr(new eR)},n.Lx=function(){var t=wr({},cR);return t.Ix=QE.mu(aR+"fontFamily")||t.Ix,t.Dx=QE.mu(aR+"fontColor")||t.Dx,t.Nx=QE.mu(aR+"fontSize")||t.Nx,t.Ox=QE.mu(aR+"backgroundColor")||t.Ox,t.Cx=QE.mu(aR+"windowColor")||t.Cx,t.Ax=QE.mu(aR+"edgeStyle")||t.Ax,t},n.Bx=function(t){QE.aa(aR+"fontFamily",t.Ix||""),QE.aa(aR+"fontColor",t.Dx||""),QE.aa(aR+"fontSize",t.Nx||""),QE.aa(aR+"backgroundColor",t.Ox||""),QE.aa(aR+"windowColor",t.Cx||""),QE.aa(aR+"edgeStyle",t.Ax||"")},ft(n,[{key:"Mx",get:function(){return this.xx}},{key:"Ix",get:function(){return this.xx.Ix},set:function(t){this.sc({Ix:t})}},{key:"Dx",get:function(){return this.xx.Dx},set:function(t){this.sc({Dx:t})}},{key:"Nx",get:function(){return this.xx.Nx},set:function(t){this.sc({Nx:t})}},{key:"Ox",get:function(){return this.xx.Ox},set:function(t){this.sc({Ox:t})}},{key:"Cx",get:function(){return this.xx.Cx},set:function(t){this.sc({Cx:t})}},{key:"Ax",get:function(){return this.xx.Ax},set:function(t){this.sc({Ax:t})}},{key:"Px",get:function(){return this.xx.Px}},{key:"Pd",get:function(){return this.Ad||(this.Ad=uR(this)),this.Ad}}]),n}(Du),hR=function(t){function n(n,i){var e;(e=t.call(this)||this).Fx=void 0,e.lc=void 0,e.YP=void 0,e.Ux=void 0,e.Id=void 0,e.AP=void 0,e.jP=void 0,e.Vx=void 0,e.Wx=void 0,e.RD=void 0,e.hx=void 0,e.zx=void 0,e.qx=void 0,e.ED=void 0,e.Hx=!1,e.Xw=!1,e.qg=void 0,e.jx=!1,e.$x=void 0,e.Xx=void 0,e.Gx=void 0,e.Yx=void 0,e.Kx=void 0,e.Jx=function(t){if(!e.jx){e.jx=!0;var n=e.Fx,i=my(t);e.YP.ml=new Kk(e.Sg,i,t),Tu(n.et())}},e.Qx=function(t){e.Yr(t.Pd)},e.Zx=function(t){t.type!==Jc.Da&&t.type!==Jc.Ia&&e.Yr(t)};var r=Mw(i.uid);g(r)?e.qg=Ry++:e.qg=r,e.lc=i;var u=st.Id,s=new iR;e.Ux=new WS("3.7.0",u,s),e.Id=new EE(u,i.allowMixedContent),e.RD=new ME,e.hx=new yS(i.isEmbeddable,"3.7.0",hS()),e.Kx=new nR(u,e.hx,e.Ux,s,i,hS()),e.Kx.wx().catch(e.Jx),e.zx=new oE(n),e.zx.Kr("lC",e.Qx),e.ED=new fR,e.AP=new zE,e.jP=new jE;var o=new Yk(n,i,e.Id,e.RD,e.zx,e.ED);e.RD.XA(o);var c=o;c=new HE(c,e.tL),c=new $E(c,e.$P),e.Fx=c,e.YP=new ly(e.Fx),e.YP.Qr(e.Zx),e.Yx=new XE(Nn(e)),e.Xx=new IE(e.YP,e.Id,e.RD),e.Vx=new HS(Nn(e)),e.qx=new fE(e.YP,i.allowNativeFullscreen),e.Wx=new wT(e.qx),e.zx.yc();var a=new K(e.zx,e.ED,1,[by.ov]);return e.$x=new J(a),e.Gx=new KE,e}vt(n,t);var i=n.prototype;return i.wP=function(t){this.YP.Tw=t,t||this.Sw||this.st()},i.CP=function(t){this.YP.Nw=t},i.nL=function(){Jg(this,gT,this)},i.Y=function(){this.YP.Y()},i.K=function(){this.YP.K()},i.sg=function(t,n){var i;return lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return this.Kx.mO(t).catch(this.Jx),i=vR(t),e.next=5,lr.awrap(this.YP.sg(i,n));case 5:case"end":return e.stop()}},null,this,null,j)},i.st=function(){this.Xw||(this.YP.st(),this.$x.st(),this.Xw=!0)},i.wD=function(){return this.Wx.JD()===fT.FULLSCREEN},i.vg=function(){this.YP.vg()},i.dg=function(){this.YP.dg()},i.lg=function(){return this.YP.lg()},i.fl=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,lr.awrap(this.YP.rg());case 2:return t.next=4,lr.awrap(this.YP.fl());case 4:case"end":return t.stop()}},null,this,null,j)},i.et=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Zr(),this.Gx.et(),this.Id.et(),this.Xx.et(),this.qx.et(),this.Wx.et(),this.zx.et(),this.Ux.et(),this.$x.et(),t.next=11,lr.awrap(this.YP.et());case 11:case"end":return t.stop()}},null,this,null,j)},ft(n,[{key:"iL",get:function(){return this.RD}},{key:"Qw",get:function(){return this.Hx},set:function(t){this.Hx=t,this.YP.Qw=t}},{key:"eL",get:function(){return this.$x}},{key:"tg",get:function(){return this.YP.tg}},{key:"rL",get:function(){return this.Gx}},{key:"uL",get:function(){return this.zx}},{key:"eg",get:function(){return this.YP.eg}},{key:"zw",get:function(){return this.Yx}},{key:"sL",get:function(){return this.Xx}},{key:"ig",get:function(){return this.YP.ig}},{key:"oL",get:function(){return this.ED}},{key:"ng",get:function(){return this.YP.ng}},{key:"kg",get:function(){return this.YP.kg}},{key:"tL",get:function(){return this.AP}},{key:"$P",get:function(){return this.jP}},{key:"bw",get:function(){return this.YP.bw},set:function(t){this.YP.bw=t}},{key:"Tg",get:function(){return this.YP.Tg},set:function(t){this.YP.Tg=t}},{key:"pg",get:function(){return this.YP.pg}},{key:"pw",get:function(){return this.YP.pw}},{key:"Sg",get:function(){return this.YP.Sg}},{key:"_w",get:function(){return this.YP._w}},{key:"fu",get:function(){return this.YP.fu}},{key:"kw",get:function(){return this.YP.kw}},{key:"Tw",get:function(){return this.YP.Tw},set:function(t){var n=Boolean(t);this.wP(n)}},{key:"Sw",get:function(){return this.YP.Sw}},{key:"Ew",get:function(){return this.YP.Ew},set:function(t){this.YP.Ew=t}},{key:"Pg",get:function(){return this.YP.Pg}},{key:"xg",get:function(){return this.YP.xg},set:function(t){this.YP.xg=Fk(t)}},{key:"Ml",get:function(){return this.YP.Ml}},{key:"Lg",get:function(){return this.YP.Lg}},{key:"Rw",get:function(){return this.YP.Rw}},{key:"Tl",get:function(){return this.qg}},{key:"Iw",get:function(){return this.YP.Iw}},{key:"Dw",get:function(){return this.YP.Dw}},{key:"Nw",get:function(){return this.YP.Nw},set:function(t){var n=kn(Number(t),0,1)||0;this.CP(n)}},{key:"Bg",get:function(){return this.YP.Bg}}]),n}(rg);function vR(t){t.sources;var n=t.sources.filter(function(t){return Dt(t.integration)});return t.sources=n,t}!function(t){t[t.cL=0]="cL",t[t.aL=1]="aL"}(sR||(sR={})),function(t){t[t.fL=0]="fL"}(oR||(oR={}));var dR={};function lR(t,n){var i=t;if(dR[n])for(var e=0,r=dR[n];e<r.length;e++){i=(0,r[e])(i)}return i}var wR=[];function gR(t){wR.push(t)}var yR=t.CustomEvent;var mR=function(){try{var t=new yR("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?function(t,n){return new CustomEvent(t,n)}:function(t,n){var i=e.createEvent("CustomEvent");return i.initCustomEvent(t,(null==n?void 0:n.bubbles)||!1,(null==n?void 0:n.cancelable)||!1,null==n?void 0:n.detail),i},bR=function(){function t(t,n){var i=this;this.bI=void 0,this.hL=void 0,this.vL=!1,this.dL=function(t){i.hL.uC(t.error,i.bw)},this.lL=function(){i.hL.iC(i.wL),i.bI.removeEventListener("playing",i.lL),i.vL=!1},this.gL=function(){i.vL||(i.bI.addEventListener("playing",i.lL),i.vL=!0)},this.hL=n,this.bI=t,this.bI.addEventListener("error",this.dL),this.bI.addEventListener("sourcechange",this.gL),this.gL()}return t.prototype.fl=function(){},ft(t,[{key:"bw",get:function(){var t=this.bI.currentTime;return"number"==typeof t&&isFinite(t)?t:"now"}},{key:"wL",get:function(){return this.bI.src||""}}]),t}();gR(function(t){new bR(t.Pd,t.Ux)});var pR,_R,kR="theoplayer-stored-volume",TR="theoplayer-stored-mutedstate";pR=function(t){return function(t){function n(n,i){var e;if(e=t.call(this,n,i)||this,i.persistVolume){var r=QE.ox(kR);(void 0===r||g(r))&&(r=1);var u=QE.ax(TR)||!1;e.Nw=r,e.Tw=u}return e}vt(n,t);var i=n.prototype;return i.wP=function(n){this.lc.persistVolume&&QE.aa(TR,""+Boolean(n)),t.prototype.wP.call(this,n)},i.CP=function(n){this.lc.persistVolume&&QE.aa(kR,""+Number(n)),t.prototype.CP.call(this,n)},n}(t)},_R=sR.aL,(dR[_R]||(dR[_R]=[])).push(pR);var SR=new(function(){function t(){this.yL=[],this.Ad=void 0}var n=t.prototype;return n.sl=function(t){return this.yL[t]},n.mL=function(t){this.yL.push(t),this.Pd.push(t.Pd)},n.uc=function(t){var n=this.yL.indexOf(t);n<0||(au(this.yL,n),this.Ad&&au(this.Ad,n))},n.bL=function(t){for(var n=0,i=this.yL;n<i.length;n++){var e=i[n];if(e.Tl===t)return e}},ft(t,[{key:"vl",get:function(){return this.yL.length}},{key:"Pd",get:function(){return this.Ad||(this.Ad=function(t){for(var n=[],i=0;i<t.vl;i++)n[i]=t.sl(i).Pd;return n.getPlayerByUID=function(n){var i=t.bL(n);return i&&i.Pd},n}(this)),this.Ad}}]),t}()),ER=function(){function t(t){var n=this;this.pL=[],this._L=void 0,this.Xf=new du,this.kL=void 0,this.TL=function(){return 0===n.pL.length?n.kL?RR(n.kL,n.Xf.Hr).then(n.SL,n.SL):n.SL():n.pL.shift()().then(n.TL)},this.SL=function(){if(0!==n.pL.length)return n.TL();n._L=void 0},this.kL=t}var n=t.prototype;return n.EL=function(t,n){var i=this;return new j(function(e){var r=new du;r.zr(i.Xf.Hr),n&&r.zr(n);var u=function(){r.Lr()};i.pL.push(function(){var n=RR(t,r.Hr);return e(n),n.then(u,u)}),i._L||(i._L=i.TL())})},n.Wr=function(){return this.RL(!0)},n.et=function(){return this.kL=void 0,this.RL(!1)},n.RL=function(t){var n=this._L;return this.Xf.Wr(),t&&(this.Xf=new du),j.resolve(n)},t}();function RR(t,n){return new j(function(i){return i(t(n))})}var IR,DR=function(t){function n(n){var i;return(i=t.call(this,Jc.za)||this).source=n,i}return vt(n,t),n}(Ou),NR=function(t){function n(){var n;return(n=t.call(this)||this).mD=void 0,n.pD=void 0,n.kD=void 0,n._D=void 0,n.mD=0,n.pD=!0,n.kD=!1,n._D=1,n}vt(n,t);var i=n.prototype;return i.Y=function(){this.pD&&(this.pD=!1,this.Yr(new Cg(this.bw)),this.Yr(new Qb(this.bw)))},i.K=function(){this.pD||(this.pD=!0,this.Yr(new Fg(this.bw,this.Tg)),this.Yr(new Og(this.bw)))},i.fl=function(){this.mD=0,this.kD=!1,this._D=1,this.K(),this.Yr(new Ng(this.mD))},i.et=function(){this.Zr()},i.dg=function(){},i.vg=function(){},ft(n,[{key:"Tg",get:function(){},set:function(t){}},{key:"bw",get:function(){return this.mD},set:function(t){this.kD&&this.mD===t||(this.mD=t,this.kD=!0,this.Yr(new Wg(this.bw)))}},{key:"Sw",get:function(){return this.pD}},{key:"Ew",get:function(){return this._D},set:function(t){this._D!==t&&(this._D=t,this.Yr(new Mg(this.bw,this.Ew)))}},{key:"Ml",get:function(){return dg.cw}},{key:"Rw",get:function(){return this.kD}}]),n}(eg),OR=function(t){function n(){return t.call(this,Jc.ma)||this}return vt(n,t),n}(Ou),CR={zIndex:"1",display:"inline-block",verticalAlign:"middle",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"contain",cursor:"pointer",margin:"0",padding:"0",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",height:"100%"},AR={visibility:"hidden"},PR={visibility:"visible"},xR=function(){function t(t){var n,i=this;this.lI=void 0,this.bI=void 0,this.IL=!1,this.DL=void 0,this.NL=void 0,this.OL=function(t){var n;i.IL=!1,i.DL=null==(n=t.source)?void 0:n.poster,i.sc()},this.qT=function(){i.IL=!0,i.dg()},this.bI=t,this.TI(),this.lI=((n=Z&&Z.document&&Z.document.createElement("div")).className="theoplayer-poster",je(CR,n),n),t.Sg.appendChild(this.lI)}var n=t.prototype;return n.sc=function(){var t=this.bI.Sw,n=this.IL;this.jh?this.lI.style.backgroundImage='url("'+this.jh.replace(/[\\"]/g,function(t){return"\\"+t})+'")':this.lI.style.backgroundImage="",t&&this.jh&&!n?this.vg():this.dg()},n.vg=function(){je(AR,this.bI.Sg),je(PR,this.lI)},n.dg=function(){je(AR,this.lI),je(PR,this.bI.Sg)},n.TI=function(){this.bI.Kr("sourcechange",this.OL),this.bI.Kr("play",this.qT)},n.et=function(){this.bI.tu("sourcechange",this.OL),this.bI.tu("play",this.qT),He(this.lI)},ft(t,[{key:"jh",get:function(){return void 0!==this.DL?this.DL:void 0!==this.NL?this.NL:void 0}},{key:"CL",set:function(t){this.NL=t,this.sc()}}]),t}();function LR(t){return function(n){function i(i,e){var r;return(r=n.call(this,i)||this).bI=void 0,r.AL=void 0,r.PL=void 0,r.xL=void 0,r.LL=void 0,r.BL=void 0,r.ML=void 0,r.FL=void 0,r.kI=void 0,r._I=void 0,r.Ad=void 0,r.UL=function(t){t.type!==Jc.Aa&&r.FL.push(t)},r.AL=new t(i,e),r.PL=new NR,r.bI=r.AL,r.xL=new xR(Nn(r)),r.BL=new ER,r.ML=!1,r.FL=[],r.kI=!0,r._I=void 0,r.TI(),r}vt(i,n);var e=i.prototype;return e.EL=function(t,n){return lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",this.BL.EL(t,n).catch(mu));case 1:case"end":return i.stop()}},null,this,null,j)},e.VL=function(t,n){return lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return gu(n),this.AL.Qr(this.UL),i.next=4,lr.awrap(this.AL.sg(t,n));case 4:this.AL.eu(this.UL);case 5:case"end":return i.stop()}},null,this,null,j)},e.WL=function(){var t,n,i;return lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if((t=this.ug())&&!zT(t)&&this.Qw&&this.Sw){e.next=3;break}return e.abrupt("return");case 3:return n=t.mutedAutoplay||this.lc.mutedAutoplay,e.next=6,lr.awrap(this.eL.ut());case 6:i=e.sent,e.t0=i,e.next="all"===e.t0?10:"muted"===e.t0?12:14;break;case 10:return this.zL(),e.abrupt("break",14);case 12:return(this.Tw||n===Ag.ALL)&&(this.Tw=!0,this.Y()),e.abrupt("break",14);case 14:case"end":return e.stop()}},null,this,null,j)},e.sg=function(t){var n=this,i=this._I;i&&!zT(i)&&this.Yr(new Ng(0,0)),this.fl(),this._I=t,Tu(this.EL(function(i){return lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return gu(i),e.prev=1,e.next=4,lr.awrap(n.VL(t,i));case 4:e.next=10;break;case 6:throw e.prev=6,e.t0=e.catch(1),n._I=void 0,e.t0;case 10:return e.next=12,lr.awrap(n.qL());case 12:case"end":return e.stop()}},null,null,[[1,6]],j)}))},e.qL=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.HL(this.AL),this.Yr(new DR(this.ug())),t.next=4,lr.awrap(this.WL());case 4:case"end":return t.stop()}},null,this,null,j)},e.oP=function(t){this.bI.bw=t},e.hP=function(){return this.AL.fu},e.vP=function(){return this.AL.kw},e.Y=function(){this.bI.Y()},e.zL=function(){this.Tw||this.st(),this.Y()},e.st=function(){this.AL.st()},e.K=function(){this.bI.K()},e.rg=function(){this.sg(void 0)},e.vg=function(){this.kI=!0,this.bI.vg()},e.dg=function(){this.kI=!1,this.bI.dg()},e.nL=function(){this.AL.nL()},e.CP=function(t){this.AL.CP(t)},e.wP=function(t){this.AL.wP(t)},e.jL=function(t){this.LL=t,t.mL(this)},e.wD=function(){return this.AL.wD()},e.ug=function(){return this._I},e.lg=function(){return this.AL.lg()},e.sP=function(){return this.AL.bw},e.cP=function(){return this.AL.pw},e.iP=function(){return this.AL.kg},e.pP=function(){return this.AL.Pg},e.SP=function(){return this.AL.Lg},e.fl=function(){var t=this;this._I=void 0,hu(this.FL),this.PL.fl(),this.HL(this.PL),this.BL.Wr(),Tu(this.BL.EL(function(n){return lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return gu(n),i.next=3,lr.awrap(t.AL.fl());case 3:case"end":return i.stop()}},null,null,null,j)}))},e.et=function(){var t=this;this.Yr(new OR),this.xL.et(),this.SI(),this.fl(),Tu(this.EL(function(){return lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,lr.awrap(t.AL.et());case 2:t.LL&&(t.LL.uc(t),t.LL=void 0),t.BL.et();case 4:case"end":return n.stop()}},null,null,null,j)})),this.Zr()},e.HL=function(t){if(this.bI!==t){var n=this.bI.Sw,i=this.bI.bw,e=this.bI.Ew,r=this.bI.Rw;this.SI(),t===this.AL?((r||t.bw!==i)&&(t.bw=i),t.Ew!==e&&(t.Ew=e),n?t.K():t.Y()):this.lc.retainPlaybackRateOnSourceChange?t.Ew=e:1!==e&&this.Yr(new Mg(this.sP(),1)),this.bI=t,this.TI();for(var u=0,s=this.FL;u<s.length;u++){var o=s[u];this.Yr(o)}hu(this.FL),this.kI?t.vg():t.dg()}},e.TI=function(){this.bI.Qr(this.Gr)},e.SI=function(){this.bI.eu(this.Gr)},e.xd=function(){return t=this,e=function(n){i=n;var e=ZT(n,t.lc);t.sg(e)},r={get abr(){return t.iL.Pd},get audioTracks(){return t.tg.Pd},get autoplay(){return t.Qw},set autoplay(n){t.Qw=Boolean(n)},get buffered(){return t.iP()},get canvas(){return t.Vx.Pd},get clip(){return t.tL.Pd},get currentProgramDateTime(){var n;return null!=(n=t.Tg)?n:null},set currentProgramDateTime(n){t.Tg=null!=n?n:void 0},get currentTime(){return t.sP()},set currentTime(n){t.oP(Number(n))},get duration(){return t.cP()},get element(){return t.Sg},get ended(){return t._w},get error(){return t.hP()},get errorObject(){return t.vP()},get loop(){return t.$P.$P},set loop(n){t.$P.$P=Boolean(n)},get metrics(){return t.zw.Pd},get muted(){return t.Tw},set muted(n){t.wP(n)},get network(){return t.sL.Pd},get paused(){return t.Sw},get playbackRate(){return t.Ew},set playbackRate(n){var i=Number(n);if(i<0)throw new RangeError("playbackRate must be a positive number");t.Ew=i},get played(){return t.pP()},get poster(){return t.$L},set poster(n){t.$L=Uw(n)},get preload(){return t.xg},set preload(n){t.xg=n},get presentation(){return t.Wx.Pd},get readyState(){return t.Ml},get seekable(){return t.SP()},get seeking(){return t.Rw},get source(){return i},set source(t){e(t)},get src(){return qT(t.ug())},set src(t){e({sources:t})},get textTracks(){return t.ig.Pd},get textTrackStyle(){return t.oL.Pd},get uid(){return t.Tl},get videoHeight(){return t.Iw},get videoTracks(){return t.ng.Pd},get videoWidth(){return t.Dw},get volume(){return t.Nw},set volume(n){t.CP(Number(n))},get latency(){return t.Bg.Pd},destroy:function(){t.et(),t=null,i=void 0},play:function(){t.zL()},pause:function(){t.K()},stop:function(){i=void 0,t.rg()},prepareWithUserAction:function(){t.st()},addEventListener:function(t,i){n.Kr(t,i)},removeEventListener:function(t,i){n.tu(t,i)},setSource:function(t){e(t)}},(n=new dT(r,!0)).MD(t),r;var t,n,i,e,r},ft(i,[{key:"Ux",get:function(){return this.AL.Ux}},{key:"Vx",get:function(){return this.AL.Vx}},{key:"lc",get:function(){return this.AL.lc}},{key:"Fx",get:function(){return this.AL.Fx}},{key:"Id",get:function(){return this.AL.Id}},{key:"WR",get:function(){return this.AL.qx}},{key:"Wx",get:function(){return this.AL.Wx}},{key:"zx",get:function(){return this.AL.zx}},{key:"YP",get:function(){return this.AL.YP}},{key:"iL",get:function(){return this.AL.iL}},{key:"Qw",get:function(){return this.AL.Qw},set:function(t){this.AL.Qw=t,this.WL()}},{key:"eL",get:function(){return this.AL.eL}},{key:"tg",get:function(){return this.AL.tg}},{key:"rL",get:function(){return this.AL.rL}},{key:"uL",get:function(){return this.AL.zx}},{key:"Pd",get:function(){return this.Ad||(this.Ad=this.xd()),this.Ad}},{key:"eg",get:function(){return this.AL.eg}},{key:"zw",get:function(){return this.AL.zw}},{key:"sL",get:function(){return this.AL.sL}},{key:"ig",get:function(){return this.AL.ig}},{key:"oL",get:function(){return this.AL.oL}},{key:"ng",get:function(){return this.AL.ng}},{key:"tL",get:function(){return this.AL.tL}},{key:"$P",get:function(){return this.AL.$P}},{key:"Tg",get:function(){return this.bI.Tg},set:function(t){this.bI.Tg=t}},{key:"pg",get:function(){return this.AL.pg}},{key:"Sg",get:function(){return this.AL.Sg}},{key:"_w",get:function(){return this.AL._w}},{key:"Tw",get:function(){return this.AL.Tw},set:function(t){this.AL.Tw=t}},{key:"Sw",get:function(){return this.bI.Sw}},{key:"$L",get:function(){return this.xL.jh||""},set:function(t){this.xL.CL=t}},{key:"Ew",get:function(){return this.AL.Ew},set:function(t){this.bI.Ew=t}},{key:"xg",get:function(){return this.AL.xg},set:function(t){this.AL.xg=Fk(t)}},{key:"Ml",get:function(){return this.bI.Ml}},{key:"Rw",get:function(){return this.bI.Rw}},{key:"Tl",get:function(){return this.AL.Tl}},{key:"Iw",get:function(){return this.AL.Iw}},{key:"Dw",get:function(){return this.AL.Dw}},{key:"Nw",get:function(){return this.AL.Nw},set:function(t){this.AL.Nw=t}},{key:"Bg",get:function(){return this.AL.Bg}}]),i}(rg)}ku(function(){t.dispatchEvent&&t.dispatchEvent(mR("theoplayerready"))});var BR={base64:new(function(){function t(){}var n=t.prototype;return n.encode=function(t){return $u(t)},n.decode=function(t){return Hu(t)},t}())},MR=SR.Pd,FR=Np.LS.registerContentProtectionIntegration.bind(Np.LS),UR=function(){this.fairplayController=void 0,this.cache=void 0,this.dai=void 0},VR=function(){function t(){this.internalDict={}}var n=t.prototype;return n.register=function(t){this.internalDict[t.uid]=t},n.get=function(t){return this.internalDict[t]},n.remove=function(t){delete this.internalDict[t]},t}(),WR={exports:{}};!function(t,n){function i(t,n){var i=[],e=[];return null==n&&(n=function(t,n){return i[0]===n?"[Circular ~]":"[Circular ~."+e.slice(0,i.indexOf(n)).join(".")+"]"}),function(r,u){if(i.length>0){var s=i.indexOf(this);~s?i.splice(s+1):i.push(this),~s?e.splice(s,1/0,r):e.push(r),~i.indexOf(u)&&(u=n.call(this,r,u))}else i.push(u);return null==t?u:t.call(this,r,u)}}(t.exports=function(t,n,e,r){return JSON.stringify(t,i(n,r),e)}).getSerialize=i}(WR,WR.exports);var zR=WR.exports;function qR(t,n){return void 0!==n&&null!=n&&"function"==typeof n.start&&"function"==typeof n.end&&"number"==typeof n.length?function(t){for(var n=[],i=0;i<t.length;i++)n[i]={start:t.start(i),end:t.end(i)};return n}(n):n}function HR(t){return JSON.stringify(t,WR.exports.getSerialize(qR))}var jR={},$R={};!function(t){v.defineProperty(t,"__esModule",{value:!0}),t.CHAR="\t\n\r -\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",t.S=" \t\r\n",t.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NAME_CHAR="-"+t.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.CHAR_RE=new RegExp("^["+t.CHAR+"]$","u"),t.S_RE=new RegExp("^["+t.S+"]+$","u"),t.NAME_START_CHAR_RE=new RegExp("^["+t.NAME_START_CHAR+"]$","u"),t.NAME_CHAR_RE=new RegExp("^["+t.NAME_CHAR+"]$","u"),t.NAME_RE=new RegExp("^["+t.NAME_START_CHAR+"]["+t.NAME_CHAR+"]*$","u"),t.NMTOKEN_RE=new RegExp("^["+t.NAME_CHAR+"]+$","u");var n=9,i=10,e=13,r=32;function u(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}t.S_LIST=[r,i,e,n],t.isChar=function(t){return t>=r&&t<=55295||t===i||t===e||t===n||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isS=function(t){return t===r||t===i||t===e||t===n},t.isNameStartChar=u,t.isNameChar=function(t){return u(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}($R);var XR={};!function(t){v.defineProperty(t,"__esModule",{value:!0}),t.CHAR="\x01-\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",t.RESTRICTED_CHAR="\x01-\b\v\f\x0e-\x1f\x7f-\x84\x86-\x9f",t.S=" \t\r\n",t.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NAME_CHAR="-"+t.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.CHAR_RE=new RegExp("^["+t.CHAR+"]$","u"),t.RESTRICTED_CHAR_RE=new RegExp("^["+t.RESTRICTED_CHAR+"]$","u"),t.S_RE=new RegExp("^["+t.S+"]+$","u"),t.NAME_START_CHAR_RE=new RegExp("^["+t.NAME_START_CHAR+"]$","u"),t.NAME_CHAR_RE=new RegExp("^["+t.NAME_CHAR+"]$","u"),t.NAME_RE=new RegExp("^["+t.NAME_START_CHAR+"]["+t.NAME_CHAR+"]*$","u"),t.NMTOKEN_RE=new RegExp("^["+t.NAME_CHAR+"]+$","u");var n=9,i=10,e=13,r=32;function u(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}t.S_LIST=[r,i,e,n],t.isChar=function(t){return t>=1&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isRestrictedChar=function(t){return t>=1&&t<=8||11===t||12===t||t>=14&&t<=31||t>=127&&t<=132||t>=134&&t<=159},t.isCharAndNotRestricted=function(t){return 9===t||10===t||13===t||t>31&&t<127||133===t||t>159&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isS=function(t){return t===r||t===i||t===e||t===n},t.isNameStartChar=u,t.isNameChar=function(t){return u(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}(XR);var GR={};!function(t){function n(t){return t>=65&&t<=90||95===t||t>=97&&t<=122||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}v.defineProperty(t,"__esModule",{value:!0}),t.NC_NAME_START_CHAR="A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NC_NAME_CHAR="-"+t.NC_NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.NC_NAME_START_CHAR_RE=new RegExp("^["+t.NC_NAME_START_CHAR+"]$","u"),t.NC_NAME_CHAR_RE=new RegExp("^["+t.NC_NAME_CHAR+"]$","u"),t.NC_NAME_RE=new RegExp("^["+t.NC_NAME_START_CHAR+"]["+t.NC_NAME_CHAR+"]*$","u"),t.isNCNameStartChar=n,t.isNCNameChar=function(t){return n(t)||45===t||46===t||t>=48&&t<=57||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}(GR),v.defineProperty(jR,"__esModule",{value:!0});var YR=$R.isS,KR=$R.isChar,JR=$R.isNameStartChar,QR=$R.isNameChar,ZR=$R.S_LIST,tI=$R.NAME_RE,nI=XR.isChar,iI=GR.isNCNameStartChar,eI=GR.isNCNameChar,rI=GR.NC_NAME_RE;const uI="http://www.w3.org/XML/1998/namespace",sI="http://www.w3.org/2000/xmlns/",oI={__proto__:null,xml:uI,xmlns:sI},cI={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},aI=-1,fI=-2,hI=0,vI=1,dI=2,lI=3,wI=4,gI=5,yI=6,mI=7,bI=8,pI=9,_I=10,kI=11,TI=12,SI=13,EI=14,RI=15,II=16,DI=17,NI=18,OI=19,CI=20,AI=21,PI=22,xI=23,LI=24,BI=25,MI=26,FI=27,UI=28,VI=29,WI=30,zI=31,qI=32,HI=33,jI=34,$I=35,XI=36,GI=37,YI=38,KI=39,JI=40,QI=41,ZI=42,tD=43,nD=44,iD=9,eD=10,rD=13,uD=32,sD=33,oD=38,cD=45,aD=47,fD=59,hD=60,vD=61,dD=62,lD=63,wD=91,gD=93,yD=133,mD=8232,bD=t=>34===t||39===t,pD=[34,39],_D=[...pD,wD,dD],kD=[...pD,hD,gD],TD=[vD,lD,...ZR],SD=[...ZR,dD,oD,hD];function ED(t,n,i){switch(n){case"xml":i!==uI&&t.fail(`xml prefix must be bound to ${uI}.`);break;case"xmlns":i!==sI&&t.fail(`xmlns prefix must be bound to ${sI}.`)}switch(i){case sI:t.fail(""===n?`the default namespace may not be set to ${i}.`:`may not assign a prefix (even "xmlns") to the URI ${sI}.`);break;case uI:switch(n){case"xml":break;case"":t.fail(`the default namespace may not be set to ${i}.`);break;default:t.fail("may not assign the xml namespace to another prefix.")}}}const RD=t=>rI.test(t),ID=t=>tI.test(t),DD=0,ND=1,OD=2;jR.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const CD={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};var AD=jR.SaxesParser=class{constructor(t){this.opt=null!=t?t:{},this.fragmentOpt=!!this.opt.fragment;const n=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=!1!==this.opt.position,this.fileName=this.opt.fileName,n){this.nameStartCheck=iI,this.nameCheck=eI,this.isName=RD,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=v.assign({__proto__:null},oI);const t=this.opt.additionalNamespaces;null!=t&&(function(t,n){for(const i of v.keys(n))ED(t,i,n[i])}(this,t),v.assign(this.ns,t))}else this.nameStartCheck=JR,this.nameCheck=QR,this.isName=ID,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this.$u}_init(){var t;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=DD,this.attribList=[];const{fragmentOpt:n}=this;this.state=n?SI:hI,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=n,this.xmlDeclPossible=!n,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:i}=this.opt;if(void 0===i){if(!0===this.opt.forceXMLVersion)throw new f("forceXMLVersion set but defaultXMLVersion is not set");i="1.0"}this.setXMLVersion(i),this.positionAtNewLine=0,this.doctype=!1,this.$u=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=v.create(cI),null===(t=this.readyHandler)||void 0===t||t.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(t,n){this[CD[t]]=n}off(t){this[CD[t]]=void 0}makeError(t){var n;let i=null!==(n=this.fileName)&&void 0!==n?n:"";return this.trackPosition&&(i.length>0&&(i+=":"),i+=`${this.line}:${this.column}`),i.length>0&&(i+=": "),new f(i+t)}fail(t){const n=this.makeError(t),i=this.errorHandler;if(void 0===i)throw n;return i(n),this}write(t){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let n=!1;null===t?(n=!0,t=""):"object"==typeof t&&(t=t.toString()),void 0!==this.carriedFromPrevious&&(t=`${this.carriedFromPrevious}${t}`,this.carriedFromPrevious=void 0);let i=t.length;const e=t.charCodeAt(i-1);!n&&(e===rD||e>=55296&&e<=56319)&&(this.carriedFromPrevious=t[i-1],i--,t=t.slice(0,i));const{stateTable:r}=this;for(this.chunk=t,this.i=0;this.i<i;)r[this.state].call(this);return this.chunkPosition+=i,n?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return aI;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>=uD||i===iD)return i;switch(i){case eD:return this.line++,this.column=0,this.positionAtNewLine=this.position,eD;case rD:return t.charCodeAt(n+1)===eD&&(this.i=n+2),this.line++,this.column=0,this.positionAtNewLine=this.position,fI;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const e=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,e>1114111&&this.fail("disallowed character."),e}getCode11(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return aI;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>31&&i<127||i>159&&i!==mD||i===iD)return i;switch(i){case eD:return this.line++,this.column=0,this.positionAtNewLine=this.position,eD;case rD:{const i=t.charCodeAt(n+1);i!==eD&&i!==yD||(this.i=n+2)}case yD:case mD:return this.line++,this.column=0,this.positionAtNewLine=this.position,fI;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const e=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,e>1114111&&this.fail("disallowed character."),e}getCodeNorm(){const t=this.getCode();return t===fI?eD:t}unget(){this.i=this.prevI,this.column--}captureTo(t){let{i:n}=this;const{chunk:i}=this;for(;;){const e=this.getCode(),r=e===fI,u=r?eD:e;if(u===aI||t.includes(u))return this.text+=i.slice(n,this.prevI),u;r&&(this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i)}}captureToChar(t){let{i:n}=this;const{chunk:i}=this;for(;;){let e=this.getCode();switch(e){case fI:this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i,e=eD;break;case aI:return this.text+=i.slice(n),!1}if(e===t)return this.text+=i.slice(n,this.prevI),!0}}captureNameChars(){const{chunk:t,i:n}=this;for(;;){const i=this.getCode();if(i===aI)return this.name+=t.slice(n),aI;if(!QR(i))return this.name+=t.slice(n,this.prevI),i===fI?eD:i}}skipSpaces(){for(;;){const t=this.getCodeNorm();if(t===aI||!YR(t))return t}}setXMLVersion(t){this.currentXMLVersion=t,"1.0"===t?(this.isChar=KR,this.getCode=this.getCode10):(this.isChar=nI,this.getCode=this.getCode11)}sBegin(){65279===this.chunk.charCodeAt(0)&&(this.i++,this.column++),this.state=vI}sBeginWhitespace(){const t=this.i,n=this.skipSpaces();switch(this.prevI!==t&&(this.xmlDeclPossible=!1),n){case hD:if(this.state=RI,0!==this.text.length)throw new f("no-empty text at start");break;case aI:break;default:this.unget(),this.state=SI,this.xmlDeclPossible=!1}}sDoctype(){var t;const n=this.captureTo(_D);switch(n){case dD:null===(t=this.doctypeHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=SI,this.doctype=!0;break;case aI:break;default:this.text+=String.fromCodePoint(n),n===wD?this.state=wI:bD(n)&&(this.state=lI,this.q=n)}}sDoctypeQuote(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.q=null,this.state=dI)}sDTD(){const t=this.captureTo(kD);t!==aI&&(this.text+=String.fromCodePoint(t),t===gD?this.state=dI:t===hD?this.state=yI:bD(t)&&(this.state=gI,this.q=t))}sDTDQuoted(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.state=wI,this.q=null)}sDTDOpenWaka(){const t=this.getCodeNorm();switch(this.text+=String.fromCodePoint(t),t){case sD:this.state=mI,this.openWakaBang="";break;case lD:this.state=kI;break;default:this.state=wI}}sDTDOpenWakaBang(){const t=String.fromCodePoint(this.getCodeNorm()),n=this.openWakaBang+=t;this.text+=t,"-"!==n&&(this.state="--"===n?bI:wI,this.openWakaBang="")}sDTDComment(){this.captureToChar(cD)&&(this.text+="-",this.state=pI)}sDTDCommentEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),this.state=t===cD?_I:bI}sDTDCommentEnded(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===dD?this.state=wI:(this.fail("malformed comment."),this.state=bI)}sDTDPI(){this.captureToChar(lD)&&(this.text+="?",this.state=TI)}sDTDPIEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===dD&&(this.state=wI)}sText(){0!==this.tags.length?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:t}=this;const{chunk:n}=this;t:for(;;)switch(this.getCode()){case fI:this.entity+=`${n.slice(t,this.prevI)}\n`,t=this.i;break;case fD:{const{entityReturnState:i}=this,e=this.entity+n.slice(t,this.prevI);let r;this.state=i,""===e?(this.fail("empty entity name."),r="&;"):(r=this.parseEntity(e),this.entity=""),i===SI&&void 0===this.textHandler||(this.text+=r);break t}case aI:this.entity+=n.slice(t);break t}}sOpenWaka(){const t=this.getCode();if(JR(t))this.state=jI,this.unget(),this.xmlDeclPossible=!1;else switch(t){case aD:this.state=tD,this.xmlDeclPossible=!1;break;case sD:this.state=II,this.openWakaBang="",this.xmlDeclPossible=!1;break;case lD:this.state=xI;break;default:this.fail("disallowed character in tag name"),this.state=SI,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=CI,this.openWakaBang="";break;case"--":this.state=DI,this.openWakaBang="";break;case"DOCTYPE":this.state=dI,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(cD)&&(this.state=NI)}sCommentEnding(){var t;const n=this.getCodeNorm();n===cD?(this.state=OI,null===(t=this.commentHandler)||void 0===t||t.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(n)}`,this.state=DI)}sCommentEnded(){const t=this.getCodeNorm();t!==dD?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(t)}`,this.state=DI):this.state=SI}sCData(){this.captureToChar(gD)&&(this.state=AI)}sCDataEnding(){const t=this.getCodeNorm();t===gD?this.state=PI:(this.text+=`]${String.fromCodePoint(t)}`,this.state=CI)}sCDataEnding2(){var t;const n=this.getCodeNorm();switch(n){case dD:null===(t=this.cdataHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=SI;break;case gD:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(n)}`,this.state=CI}}sPIFirstChar(){const t=this.getCodeNorm();this.nameStartCheck(t)?(this.piTarget+=String.fromCodePoint(t),this.state=LI):t===lD||YR(t)?(this.fail("processing instruction without a target."),this.state=t===lD?MI:BI):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(t),this.state=LI)}sPIRest(){const{chunk:t,i:n}=this;for(;;){const i=this.getCodeNorm();if(i===aI)return void(this.piTarget+=t.slice(n));if(!this.nameCheck(i)){this.piTarget+=t.slice(n,this.prevI);const e=i===lD;e||YR(i)?"xml"===this.piTarget?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=e?HI:FI):this.state=e?MI:BI:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(i));break}}}sPIBody(){if(0===this.text.length){const t=this.getCodeNorm();t===lD?this.state=MI:YR(t)||(this.text=String.fromCodePoint(t))}else this.captureToChar(lD)&&(this.state=MI)}sPIEnding(){var t;const n=this.getCodeNorm();if(n===dD){const{piTarget:n}=this;"xml"===n.toLowerCase()&&this.fail("the XML declaration must appear at the start of the document."),null===(t=this.piHandler)||void 0===t||t.call(this,{target:n,body:this.text}),this.piTarget=this.text="",this.state=SI}else n===lD?this.text+="?":(this.text+=`?${String.fromCodePoint(n)}`,this.state=BI);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const t=this.skipSpaces();t!==lD?t!==aI&&(this.state=UI,this.name=String.fromCodePoint(t)):this.state=HI}sXMLDeclName(){const t=this.captureTo(TD);if(t===lD)return this.state=HI,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(YR(t)||t===vD){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=t===vD?WI:VI}}sXMLDeclEq(){const t=this.getCodeNorm();if(t===lD)return this.state=HI,void this.fail("XML declaration is incomplete.");YR(t)||(t!==vD&&this.fail("value required."),this.state=WI)}sXMLDeclValueStart(){const t=this.getCodeNorm();if(t===lD)return this.state=HI,void this.fail("XML declaration is incomplete.");YR(t)||(bD(t)?this.q=t:(this.fail("value must be quoted."),this.q=uD),this.state=zI)}sXMLDeclValue(){const t=this.captureTo([this.q,lD]);if(t===lD)return this.state=HI,this.text="",void this.fail("XML declaration is incomplete.");if(t===aI)return;const n=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const t=n;this.xmlDecl.version=t,/^1\.[0-9]+$/.test(t)?this.opt.forceXMLVersion||this.setXMLVersion(t):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(n)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=n;break;case"standalone":"yes"!==n&&"no"!==n&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=n}this.name="",this.state=qI}sXMLDeclSeparator(){const t=this.getCodeNorm();t!==lD?(YR(t)||(this.fail("whitespace required."),this.unget()),this.state=FI):this.state=HI}sXMLDeclEnding(){var t;this.getCodeNorm()===dD?("xml"!==this.piTarget?this.fail("processing instructions are not allowed before root."):"version"!==this.name&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),null===(t=this.xmldeclHandler)||void 0===t||t.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=SI):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var t;const n=this.captureNameChars();if(n===aI)return;const i=this.tag={name:this.name,attributes:v.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=i.ns=v.create(null)),null===(t=this.openTagStartHandler)||void 0===t||t.call(this,i),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),n){case dD:this.openTag();break;case aD:this.state=$I;break;default:YR(n)||this.fail("disallowed character in tag name."),this.state=XI}}sOpenTagSlash(){this.getCode()===dD?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=XI)}sAttrib(){const t=this.skipSpaces();t!==aI&&(JR(t)?(this.unget(),this.state=GI):t===dD?this.openTag():t===aD?this.state=$I:this.fail("disallowed character in attribute name."))}sAttribName(){const t=this.captureNameChars();t===vD?this.state=KI:YR(t)?this.state=YI:t===dD?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):t!==aI&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const t=this.skipSpaces();switch(t){case aI:return;case vD:this.state=KI;break;default:this.fail("attribute without value."),this.text="",this.name="",t===dD?this.openTag():JR(t)?(this.unget(),this.state=GI):(this.fail("disallowed character in attribute name."),this.state=XI)}}sAttribValue(){const t=this.getCodeNorm();bD(t)?(this.q=t,this.state=JI):YR(t)||(this.fail("unquoted attribute value."),this.state=ZI,this.unget())}sAttribValueQuoted(){const{q:t,chunk:n}=this;let{i:i}=this;for(;;)switch(this.getCode()){case t:return this.pushAttrib(this.name,this.text+n.slice(i,this.prevI)),this.name=this.text="",this.q=null,void(this.state=QI);case oD:return this.text+=n.slice(i,this.prevI),this.state=EI,void(this.entityReturnState=JI);case eD:case fI:case iD:this.text+=`${n.slice(i,this.prevI)} `,i=this.i;break;case hD:return this.text+=n.slice(i,this.prevI),void this.fail("disallowed character.");case aI:return void(this.text+=n.slice(i))}}sAttribValueClosed(){const t=this.getCodeNorm();YR(t)?this.state=XI:t===dD?this.openTag():t===aD?this.state=$I:JR(t)?(this.fail("no whitespace between attributes."),this.unget(),this.state=GI):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const t=this.captureTo(SD);switch(t){case oD:this.state=EI,this.entityReturnState=ZI;break;case hD:this.fail("disallowed character.");break;case aI:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",t===dD?this.openTag():this.state=XI}}sCloseTag(){const t=this.captureNameChars();t===dD?this.closeTag():YR(t)?this.state=nD:t!==aI&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case dD:this.closeTag();break;case aI:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:t,forbiddenState:n}=this;const{chunk:i,textHandler:e}=this;t:for(;;)switch(this.getCode()){case hD:if(this.state=RI,void 0!==e){const{text:n}=this,r=i.slice(t,this.prevI);0!==n.length?(e(n+r),this.text=""):0!==r.length&&e(r)}n=DD;break t;case oD:this.state=EI,this.entityReturnState=SI,void 0!==e&&(this.text+=i.slice(t,this.prevI)),n=DD;break t;case gD:switch(n){case DD:n=ND;break;case ND:n=OD;break;case OD:break;default:throw new f("impossible state")}break;case dD:n===OD&&this.fail('the string "]]>" is disallowed in char data.'),n=DD;break;case fI:void 0!==e&&(this.text+=`${i.slice(t,this.prevI)}\n`),t=this.i,n=DD;break;case aI:void 0!==e&&(this.text+=i.slice(t));break t;default:n=DD}this.forbiddenState=n}handleTextOutsideRoot(){let{i:t}=this;const{chunk:n,textHandler:i}=this;let e=!1;t:for(;;){const r=this.getCode();switch(r){case hD:if(this.state=RI,void 0!==i){const{text:e}=this,r=n.slice(t,this.prevI);0!==e.length?(i(e+r),this.text=""):0!==r.length&&i(r)}break t;case oD:this.state=EI,this.entityReturnState=SI,void 0!==i&&(this.text+=n.slice(t,this.prevI)),e=!0;break t;case fI:void 0!==i&&(this.text+=`${n.slice(t,this.prevI)}\n`),t=this.i;break;case aI:void 0!==i&&(this.text+=n.slice(t));break t;default:YR(r)||(e=!0)}}e&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(t,n){var i;const{prefix:e,local:r}=this.qname(t),u={name:t,prefix:e,local:r,value:n};if(this.attribList.push(u),null===(i=this.attributeHandler)||void 0===i||i.call(this,u),"xmlns"===e){const t=n.trim();"1.0"===this.currentXMLVersion&&""===t&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[r]=t,ED(this,r,t)}else if("xmlns"===t){const t=n.trim();this.topNS[""]=t,ED(this,"",t)}}pushAttribPlain(t,n){var i;const e={name:t,value:n};this.attribList.push(e),null===(i=this.attributeHandler)||void 0===i||i.call(this,e)}end(){var t,n;this.sawRoot||this.fail("document must contain a root element.");const{tags:i}=this;for(;i.length>0;){const t=i.pop();this.fail(`unclosed tag: ${t.name}`)}this.state!==hI&&this.state!==SI&&this.fail("unexpected end.");const{text:e}=this;return 0!==e.length&&(null===(t=this.textHandler)||void 0===t||t.call(this,e),this.text=""),this.$u=!0,null===(n=this.endHandler)||void 0===n||n.call(this),this._init(),this}resolve(t){var n,i;let e=this.topNS[t];if(void 0!==e)return e;const{tags:r}=this;for(let n=r.length-1;n>=0;n--)if(void 0!==(e=r[n].ns[t]))return e;return void 0!==(e=this.ns[t])?e:null===(i=(n=this.opt).resolvePrefix)||void 0===i?void 0:i.call(n,t)}qname(t){const n=t.indexOf(":");if(-1===n)return{prefix:"",local:t};const i=t.slice(n+1),e=t.slice(0,n);return(""===e||""===i||i.includes(":"))&&this.fail(`malformed name: ${t}.`),{prefix:e,local:i}}processAttribsNS(){var t;const{attribList:n}=this,i=this.tag;{const{prefix:n,local:e}=this.qname(i.name);i.prefix=n,i.local=e;const r=i.uri=null!==(t=this.resolve(n))&&void 0!==t?t:"";""!==n&&("xmlns"===n&&this.fail('tags may not have "xmlns" as prefix.'),""===r&&(this.fail(`unbound namespace prefix: ${JSON.stringify(n)}.`),i.uri=n))}if(0===n.length)return;const{attributes:e}=i,r=new Set;for(const t of n){const{name:n,prefix:i,local:u}=t;let s,o;""===i?(s="xmlns"===n?sI:"",o=n):(void 0===(s=this.resolve(i))&&(this.fail(`unbound namespace prefix: ${JSON.stringify(i)}.`),s=i),o=`{${s}}${u}`),r.has(o)&&this.fail(`duplicate attribute: ${o}.`),r.add(o),t.uri=s,e[n]=t}this.attribList=[]}processAttribsPlain(){const{attribList:t}=this,n=this.tag.attributes;for(const{name:i,value:e}of t)void 0!==n[i]&&this.fail(`duplicate attribute: ${i}.`),n[i]=e;this.attribList=[]}openTag(){var t;this.processAttribs();const{tags:n}=this,i=this.tag;i.isSelfClosing=!1,null===(t=this.openTagHandler)||void 0===t||t.call(this,i),n.push(i),this.state=SI,this.name=""}openSelfClosingTag(){var t,n,i;this.processAttribs();const{tags:e}=this,r=this.tag;r.isSelfClosing=!0,null===(t=this.openTagHandler)||void 0===t||t.call(this,r),null===(n=this.closeTagHandler)||void 0===n||n.call(this,r),null===(this.tag=null!==(i=e[e.length-1])&&void 0!==i?i:null)&&(this.closedRoot=!0),this.state=SI,this.name=""}closeTag(){const{tags:t,name:n}=this;if(this.state=SI,this.name="",""===n)return this.fail("weird empty close tag."),void(this.text+="</>");const i=this.closeTagHandler;let e=t.length;for(;e-- >0;){const e=this.tag=t.pop();if(this.topNS=e.ns,null==i||i(e),e.name===n)break;this.fail("unexpected close tag.")}0===e?this.closedRoot=!0:e<0&&(this.fail(`unmatched closing tag: ${n}.`),this.text+=`</${n}>`)}parseEntity(t){if("#"!==t[0]){const n=this.ENTITIES[t];return void 0!==n?n:(this.fail(this.isName(t)?"undefined entity.":"disallowed character in entity name."),`&${t};`)}let n=NaN;return"x"===t[1]&&/^#x[0-9a-f]+$/i.test(t)?n=l(t.slice(2),16):/^#[0-9]+$/.test(t)&&(n=l(t.slice(1),10)),this.isChar(n)?String.fromCodePoint(n):(this.fail("malformed character entity."),`&${t};`)}},PD=function(){function t(){}return t.prototype.oi=function(t){var n=new AD({xmlns:!0,defaultXMLVersion:"1.0",forceXMLVersion:!0}),i=new VD,e=[i];function r(t){e[e.length-1].ki(t)}return n.on("text",function(t){e.length>1&&r(new FD(t))}),n.on("cdata",function(t){r(new UD(t))}),n.on("opentag",function(t){for(var n=t.local,i=t.uri,u=t.prefix,s=new BD({hi:n,di:""===i?void 0:i,XL:""===u?void 0:u}),o=t.attributes,c=0,a=v.keys(o);c<a.length;c++){var f=o[a[c]],h=f.prefix,d=f.local,l=f.uri,w=f.value,g=new xD({hi:d,wi:w,di:""===l?void 0:l,XL:""===h?void 0:h});s.GL(g)}r(s),e.push(s)}),n.on("closetag",function(){e.pop()}),n.on("error",function(t){throw new An(t)}),n.write(t).close(),i},t}(),xD=function(){function t(t){this.YL=void 0,this.KL=void 0,this.JL=void 0,this.g=void 0,this.YL=t.hi,this.g=t.wi,this.KL=t.di,this.JL=t.XL}var n=t.prototype;return n.ai=function(t){return this===t||!!zD(this,t)&&(this.YL===t.YL&&this.KL===t.KL&&this.JL===t.JL&&this.g===t.g)},n.fi=function(){return new t({hi:this.hi,wi:this.wi,di:this.di,XL:this.li})},ft(t,[{key:"ni",get:function(){return In.ei}},{key:"hi",get:function(){return this.YL}},{key:"vi",get:function(){return void 0===this.JL?this.YL:this.JL+":"+this.YL}},{key:"di",get:function(){return this.KL}},{key:"li",get:function(){return this.JL}},{key:"wi",get:function(){return this.g}}]),t}(),LD=function(){function t(){this.yi=[]}var n=t.prototype;return n.mi=function(t){return this.yi.filter(function(n){return WD(n)&&n.pi===t})},n._i=function(t,n){return this.yi.filter(function(i){return WD(i)&&i.hi===n&&i.di===t})},n.ki=function(t){this.yi.push(t)},ft(t,[{key:"bi",get:function(){return this.yi}},{key:"Si",get:function(){return this.yi.filter(WD)}}]),t}(),BD=function(t){function n(n){var i;return(i=t.call(this)||this).YL=void 0,i.KL=void 0,i.JL=void 0,i.QL=[],i.YL=n.hi,i.KL=n.di,i.JL=n.XL,i}vt(n,t);var i=n.prototype;return i.ZL=function(t){for(var n=0,i=this.bi;n<i.length;n++){var e=i[n];WD(e)?e.ZL(t):t.push(e.Pi)}},i.Ri=function(t,n){for(var i=0,e=this.QL;i<e.length;i++){var r=e[i];if(r.hi===n&&r.di===t)return r.wi}},i.Ei=function(t){for(var n=0,i=this.QL;n<i.length;n++){var e=i[n];if(e.vi===t)return e.wi}},i.GL=function(t){this.QL.push(t)},i.Ii=function(t){for(var n=0;n<this.QL.length;n++)if(this.QL[n].vi===t)return void this.QL.splice(n,1)},i.Di=function(t,n){for(var i=0;i<this.QL.length;i++)if(this.QL[i].hi===n&&this.QL[i].di===t)return void this.QL.splice(i,1)},i.Ni=function(t,n){this.Ii(t),this.GL(new xD({hi:t,wi:n}))},i.Oi=function(t,n,i){this.Ii(n);var e=n.split(":");this.GL(new xD({hi:e[e.length-1],wi:i,di:t,XL:e.length>1?e[0]:void 0}))},i.fi=function(t){var i=new n({hi:this.hi,di:this.di,XL:this.li});return this.Ci.forEach(function(t){return i.GL(t.fi())}),t&&this.bi.forEach(function(n){return i.ki(n.fi(t))}),i},i.ai=function(t){return this===t||!!zD(this,t)&&(this.YL===t.YL&&this.JL===t.JL&&this.KL===t.KL&&(qD(this.Ci,t.Ci)&&qD(this.bi,t.bi)))},ft(n,[{key:"ni",get:function(){return In.ii}},{key:"Ci",get:function(){return this.QL}},{key:"hi",get:function(){return this.YL}},{key:"di",get:function(){return this.KL}},{key:"li",get:function(){return this.JL}},{key:"pi",get:function(){return void 0===this.JL?this.YL:this.JL+":"+this.YL}},{key:"Ai",get:function(){var t=[];return this.ZL(t),t.join("")}}]),n}(LD),MD=function(){function t(t){this.P=void 0,this.P=t}return ft(t,[{key:"Pi",get:function(){return this.P}}]),t}(),FD=function(t){function n(n){return t.call(this,n)||this}vt(n,t);var i=n.prototype;return i.fi=function(){return new n(this.Pi)},i.ai=function(t){return this===t||!!zD(this,t)&&this.Pi===t.Pi},ft(n,[{key:"ni",get:function(){return In.ri}}]),n}(MD),UD=function(t){function n(n){return t.call(this,n)||this}vt(n,t);var i=n.prototype;return i.fi=function(){return new n(this.Pi)},i.ai=function(t){return this===t||!!zD(this,t)&&this.Pi===t.Pi},ft(n,[{key:"ni",get:function(){return In.ui}}]),n}(MD),VD=function(t){function n(){return t.apply(this,arguments)||this}vt(n,t);var i=n.prototype;return i.fi=function(t){var i=new n;return t&&this.bi.forEach(function(n){return i.ki(n.fi(t))}),i},i.ai=function(t){return this===t||!!zD(this,t)&&qD(this.bi,t.bi)},ft(n,[{key:"ni",get:function(){return In.si}},{key:"xi",get:function(){return this.Si[0]}}]),n}(LD);function WD(t){return Dn(t)}function zD(t,n){return t.ni===n.ni}function qD(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++)if(!t[i].ai(n[i]))return!1;return!0}var HD,jD=["adBreak"],$D=["adBreak"];function XD(t){return void 0===t.adBreak||void 0===t.adBreak.ads?t:wr({},t,{adBreak:wr({},t.adBreak,{ads:t.adBreak.ads.map(function(t){return t.adBreak,Tp(t,jD)})})})}function GD(t){return void 0===t.ads?t:wr({},t,{ads:t.ads.map(function(t){return t.adBreak,Tp(t,$D)})})}function YD(t){return"string"==typeof t.date?new Date(t.date):t.date}function KD(t){var n;return t.cue.track?(n=QD(t.cue,t.cue.track.type)).track={uid:t.cue.track.uid}:n=QD(t.cue,""),n}function JD(t){var n=[];return function t(i){if(Array.isArray(i))return i.map(t);if("object"==typeof i&&null!==i&&v.keys(i).length){if(n.includes(i))return"[Circular ~]";n.push(i);var e=v.entries(i);return v.fromEntries(e.map(function(i){var e=i[0],r=i[1],u=t(r);return"object"==typeof r&&null!==r&&"[Circular ~]"!==u&&n.pop(r),[e,u]}))}return i}(t)}function QD(t,n){var i={};return i.content=t.content,i.endTime=t.endTime,i.startTime=t.startTime,i.id=t.id,i.uid=t.uid,function(){switch(n){case"webvtt":i.align=t.align,i.line=t.line,i.lineAlign=t.lineAlign,i.position=t.position,i.positionAlign=t.positionAlign,i.region=t.region,i.size=t.size,i.snapToLines=t.snapToLines,i.text=t.text,i.vertical=t.vertical;break;case"ttml":i.content=function t(n){var i=n.children;if(0!==i.length)for(var e=0;e<i.length;e++){var r=i.item(e);return"image"===r.nodeName||"smpte:image"===r.nodeName?r:t(r)}}(t.content).innerHTML;for(var e=t.content,r={};e.firstChild&&e.firstChild.outerHTML;){(new PD).oi(e.firstChild.outerHTML).xi.Ci.forEach(function(t){r[t.hi]=t.wi}),e=e.firstChild}i.ttmlAttributes=r;break;case"daterange":var u={};for(var s in t.customAttributes){var o=t.customAttributes[s];if("object"==typeof(a=o)&&null!==a){var c=ZD(o);u[s]={type:HD.tB,value:c}}else nN(o)?u[s]={type:HD.nB,value:o}:u[s]={type:HD.iB,value:String(o)}}i.attributedClass=String(t.class),i.startDate=t.startDate,i.endDate=t.endDate,i.duration=t.duration,i.plannedDuration=t.plannedDuration,i.endOnNext=t.endOnNext,i.scte35Cmd=ZD(t.scte35Cmd),i.scte35Out=ZD(t.scte35Out),i.scte35In=ZD(t.scte35In),i.customAttributes=u}var a}(),i}function ZD(t){if(void 0!==t)return $u(t)}function tN(t){var n={};if(n.kind=t.kind,n.language=t.language,n.label=t.label,n.id=t.id,n.uid=t.uid,n.src=t.src,"cues"in t){n.inBandMetadataTrackDispatchType=t.inBandMetadataTrackDispatchType,n.mode=t.mode,n.type=t.type;var i=[];if(t.cues)for(var e=0;e<t.cues.length;e++){var r=t.cues[e];i.push(QD(r,t.type))}n.cues=i;var u=[];if(t.activeCues)for(var s=0;s<t.activeCues.length;s++){var o=t.activeCues[s];u.push(QD(o,t.type))}n.activeCues=u}else"enabled"in t&&(n.enabled=t.enabled);return n}function nN(t){return"number"==typeof t}!function(t){t.iB="daterange-ca-type_string",t.nB="daterange-ca-type_number",t.tB="daterange-ca-type_arraybuffer"}(HD||(HD={}));var iN={cue:function(t){var n={};switch(n.date=YD(t),n.type=t.type,t.type){case"enter":case"exit":case"update":n.cue=KD(t)}return n},textTrack:function(t){var n={};switch(n.date=YD(t),n.type=t.type,t.type){case"addcue":var i=t.cue;sN().register(i);var e=uN()[oN()].eventListeners;t.cue.addEventListener("enter",function(t){e.InternalCueHelperEvent(t)}),t.cue.addEventListener("exit",function(t){e.InternalCueHelperEvent(t)}),t.cue.addEventListener("update",function(t){e.InternalCueHelperEvent(t)});case"removecue":case"entercue":case"exitcue":n.cue=KD(t);break;case"cuechange":for(var r=[],u=0;u<t.track.activeCues.length;u++){var s=t.track.activeCues[u];r.push(QD(s,t.track.type))}n.track={activeCues:r,uid:t.track.uid}}return n},textTrackList:function(t){var n,i={track:tN(t.track),date:YD(t),type:t.type},e=null==(n=t.track)?void 0:n.cues,r=sN();if(e)switch(t.type){case"addtrack":e.forEach(r.register);break;case"removetrack":e.forEach(function(t){return r.remove(t.uid)})}return i},default:function(t){var n={};switch(n.date=YD(t),n.type=t.type,t.type){case"play":case"playing":case"pause":case"seeking":case"seeked":case"ended":case"waiting":case Jc.Ha:n.currentTime=t.currentTime,n.volume=t.volume;break;case"emptied":n.currentTime=t.currentTime;break;case"timeupdate":n.currentTime=t.currentTime,n.currentProgramDateTime=t.currentProgramDateTime;break;case"progress":n.currentTime=t.currentTime;break;case"ratechange":n.currentTime=t.currentTime,n.playbackRate=t.playbackRate;break;case"durationchange":n.duration=t.duration;break;case"sourcechange":n.source=t.source;break;case"readystatechange":case"loadedmetadata":case"loadeddata":case"loadstart":case"canplay":case"canplaythrough":n.currentTime=t.currentTime,n.readyState=t.readyState;break;case"error":n.error=t.error,n.errorObject=wr({name:t.errorObject.name,cause:t.errorObject.cause},t.errorObject);break;case"addtrack":case"removetrack":case"change":n.track=tN(t.track);break;case"adbreakbegin":case"adbreakend":n.ad=GD(t.ad);break;case"adloaded":case"adimpression":n.ad=XD(t.ad);break;case"aderror":t.eB&&(n.eB=t.eB),t.message&&(n.message=t.message);break;case"statechange":n.state=t.state;break;case"presentationmodechange":case"resize":break;case"adfirstquartile":case"admidpoint":case"adthirdquartile":case"adbegin":case"adend":n.currentTime=t.currentTime,n.ad=XD(t.ad)}return JD(n)},minimizeCueHelper:function(t){var n={};return n.date=YD(t),n.type=t.type,n.cue=KD(t),n.track={uid:t.cue.track.uid},n},adReplacer:XD,adBreakReplacer:GD,removeCircularReferences:JD},eN=function(){this.stringify=HR,this.minimize=iN};function rN(){return Z.self}function uN(){return rN().THEOplayerBridge}function sN(){return rN().THEOCueMirrorMap}function oN(){return rN().THEOplayerGlobalID}function cN(){var t=rN();if(t.THEOplayerBridge){var n=new UR;t.THEOplayerBridge=Cw(n,t.THEOplayerBridge)}else t.THEOplayerBridge=new UR;t.THEOplayerUtils||(t.THEOplayerUtils=new eN),t.THEOCueMirrorMap||(t.THEOCueMirrorMap=new VR)}cN();var aN=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.oi=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new An(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new An;return new fN(n)},n}(Pn),fN=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.fi=function(t){return new n(this.gi.cloneNode(t))},ft(n,[{key:"bi",get:function(){return void 0===this.yi&&(this.yi=dN(this.gi.childNodes)),this.yi}},{key:"xi",get:function(){return new hN(this.gi.documentElement)}}]),n}(Vn),hN=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.fi=function(t){var i=new n(this.gi.cloneNode(t));return i.Ci.length<1&&this.Ci.length>0&&this.Ci.forEach(function(t){i.Ni(t.vi,t.wi)}),i},ft(n,[{key:"bi",get:function(){return void 0===this.yi&&(this.yi=dN(this.gi.childNodes)),this.yi}}]),n}(Bn);function vN(t){switch(t.nodeType){case In.ii:return new hN(t)}return zn(t)}function dN(t){for(var n=[],i=0;i<t.length;i++){var e=vN(t.item(i));e&&n.push(e)}return n}dt(new(function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).rB=new aN,n}return vt(n,t),n.prototype.oi=function(t){return this.rB.oi(t)},n}(gw)));var lN=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).type=n,e.detail=i,e}return vt(n,t),n}(Ou),wN=function(t){function n(){return t.apply(this,arguments)||this}vt(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.Yr(new lN(t,n))},i.addEventListener=function(t,n){this.Kr(t,n)},i.removeEventListener=function(t,n){this.tu(t,n)},n}(rg);function gN(t,n){return t.ey<=n&&t.uy>n}function yN(t,n){return function(t,n){return uu(t.ey,n.ey,qy)}(t,n)||function(t,n){return uu(t.uy,n.uy,qy)}(t,n)}function mN(t,n){var i=function(t,n,i,e,r,u,s){void 0===r&&(r=!1),void 0===u&&(u=0),void 0===s&&(s=t.length);for(var o=u,c=s-1;o<=c;){var a=o+(c-o>>1),f=e(i(t[a]),n);if(f<0)o=a+1;else if(f>0)c=a-1;else{if(!(r&&a>u&&0===e(i(t[a-1]),n)))return a;c=a-1}}return~o}(t,n,Ft,yN,!0);if(i<0)return i;for(;i<t.length&&yN(n,t[i])===Zr.Ir;i++)if(t[i].yy(n))return i;return-(i+1)}function bN(t){var n=t.Ld;if(!n)return-1;if(t instanceof Hy)return n.uB(t);var i=n.Fl;if(!i)return-1;var e=mN(i.hl,t);return e>=0?e:-1}var pN=function(t){function n(n,i){var e;return(e=t.call(this,xy.Qg,n)||this).Dm=i,e}return vt(n,t),n.prototype.xd=function(){return new _N(this.iy.Pd)},n}(My),_N=function(t){function n(n){return t.call(this,"enter",n)||this}return vt(n,t),n}(Fy),kN=function(t){function n(n,i){var e;return(e=t.call(this,xy.ty,n)||this).Dm=i,e}return vt(n,t),n.prototype.xd=function(){return new TN(this.iy.Pd)},n}(My),TN=function(t){function n(n){return t.call(this,"exit",n)||this}return vt(n,t),n}(Fy),SN=function(t){function n(n){var i;return(i=t.call(this,mw.Vd)||this).iy=n,i}return vt(n,t),n.prototype.xd=function(){return new EN(this.iy.Pd)},n}(bw),EN=function(t){function n(n){var i;return(i=t.call(this,"entercue")||this).cue=n,i}return vt(n,t),n}(pw),RN=function(t){function n(n){var i;return(i=t.call(this,mw.zd)||this).iy=n,i}return vt(n,t),n.prototype.xd=function(){return new IN(this.iy.Pd)},n}(bw),IN=function(t){function n(n){var i;return(i=t.call(this,"exitcue")||this).cue=n,i}return vt(n,t),n}(pw),DN=function(t){function n(n){var i;return(i=t.call(this,mw.Hd)||this).Ld=n,i}return vt(n,t),n.prototype.xd=function(){return new NN(this.Ld.Pd)},n}(bw),NN=function(t){function n(n){var i;return(i=t.call(this,"cuechange")||this).track=n,i}return vt(n,t),n}(pw);function ON(t,n){return ru(t.Dm,n.Dm)||function(t,n){return t.Ld===n.Ld?eu(bN(t),bN(n)):Db(t.Ld,n.Ld)}(t.iy,n.iy)||function(t,n){return t===n?Zr.Ir:t===xy.Qg?Zr.Nr:Zr.Dr}(t.type,n.type)}var CN=function(){function t(t,n){var i=this;this.bI=void 0,this.sB=void 0,this.Kw=[],this.oB=0,this.cB=0,this.aB=[],this.fB=!1,this.hB=!1,this.vB=void 0,this.dB=function(){i.oB=0,i.lB(),i.wB()},this.gB=function(){i.lB(),i.wB()},this.yB=function(){i.hB=!0,i.vB=i.bI.bw,i.mB()},this.bB=function(){i.lB(),i.wB()},this.pB=function(){i._B(),i.lB(),i.wB()},this.kB=function(){i.TB()},this.SB=function(t){cu(i.aB,t.iy),i.TB()},this.sB=n,this.bI=t,t.Kr(Jc.qa,this.gB),t.Kr(Jc.Oa,this.gB),t.Kr(Dg.mw,this.gB),t.Kr(Jc.Na,this.gB),t.Kr(Jc.Ba,this.yB),t.Kr(Jc.La,this.bB),this.TB()}var n=t.prototype;return n.fl=function(){hu(this.aB);for(var t=0,n=this.Kw.slice();t<n.length;t++){var i=n[t];this.cl(i)}this.mB(),this.oB=0,this.cB=0,this.fB=!1,this.hB=!1,this.vB=void 0},n.ol=function(t){fu(this.Kw,t)||(this.Kw.push(t),t.Kr(mw.Bd,this.kB),t.Kr(mw.Fd,this.SB),t.Kr(mw.$d,this.pB),t.Fl.vl&&this.TB(),this._B())},n.cl=function(t){if(cu(this.Kw,t)){if(t.tu(mw.Bd,this.kB),t.tu(mw.Fd,this.SB),t.tu(mw.$d,this.pB),t.Fl.vl){for(var n=0,i=t.Fl.hl;n<i.length;n++){var e=i[n];cu(this.aB,e)}this.TB()}this._B()}},n._B=function(){this.fB=this.Kw.some(function(t){return t.Cl!==Gw.xl})},n.wB=function(){this.bI.Rw||this.bI.Sw?this.mB():this.TB()},n.TB=function(){this.fB&&(this.oB||(this.oB=this.sB.V(this.dB)))},n.mB=function(){this.oB&&(this.sB.EB(this.oB),this.oB=0)},n.lB=function(){var t;if(this.fB&&!this.bI.Rw){var n=this.Kw,i=this.cB,e=null!=(t=this.vB)?t:this.bI.bw,r=e-i<-.1,u=this.hB||r;u&&e>i&&e-i<.1&&(u=!1),this.hB=!1,this.vB=void 0;for(var s,o=[],c=0;c<n.length;c++){var a=n[c];if(a.Cl!==Gw.xl){a.RB(e,u);for(var f=0,h=a.Ul.hl;f<h.length;f++){var v=h[f];o.push(v)}}}if(u)s=this.aB;else{s=[];for(var l=0;l<n.length;l++){var w=n[l];w.Cl!==Gw.xl&&Ib(w,i-1/6,e,s)}}for(var g=s.length-1;g>=0;g--)fu(o,s[g])&&au(s,g);var y=[];if(!u)for(var m=s.length-1;m>=0;m--){var b=s[m];b.ey>=i&&b.uy<=e&&(y.push(b),au(s,m))}for(var p=[],_=[],k=0;k<y.length;k++){var T=y[k];T.my||p.push(new pN(T,T.ey)),p.push(new kN(T,d.max(T.ey,T.uy)))}for(var S=0,E=s;S<E.length;S++){var R=E[S];R.my&&(p.push(new kN(R,d.max(R.ey,R.uy))),R.my=!1)}for(var I=0;I<o.length;I++){var D=o[I];D.my||(p.push(new pN(D,D.ey)),D.my=!0)}p.sort(ON);for(var N=0;N<p.length;N++){var O=p[N],C=O.iy;C.Yr(O);var A=C.Ld;A&&(O.type===xy.Qg?A.Yr(new SN(C)):A.Yr(new RN(C)),fu(_,A)||_.push(A))}_.sort(Db);for(var P=0;P<_.length;P++){var x=_[P];x.Yr(new DN(x))}this.cB=e,this.aB=o}},n.et=function(){this.fl(),this.bI.tu(Jc.qa,this.gB),this.bI.tu(Jc.Oa,this.gB),this.bI.tu(Dg.mw,this.gB),this.bI.tu(Jc.Na,this.gB),this.bI.tu(Jc.Ba,this.yB),this.bI.tu(Jc.La,this.bB)},t}(),AN=function(){function t(){}var n=t.prototype;return n.V=function(t){return QS(t)},n.EB=function(t){ZS(t)},t}(),PN=new AN,xN=function(t){function n(n,i){return void 0===i&&(i=PN),t.call(this,n,i)||this}return vt(n,t),n}(CN),LN=function(t){function n(){return t.call(this,Jc.Sa)||this}return vt(n,t),n}(Ou),BN=function(t){function n(n){var i;return(i=t.call(this,Jc.Ca)||this).currentTime=n,i}return vt(n,t),n}(Ou),MN=function(t){function n(n,i){var e;return(e=t.call(this)||this).IB=void 0,e.DB=void 0,e.NB=function(t){e.IB.OB("THEOplayerABRSetTargetBuffer",t.BA),e.Yr(t)},e.CB=function(t){e.IB.OB("THEOplayerABRSetStrategy",t.FA),e.Yr(t)},e.IB=n,e.DB=i,e.DB.Kr("MA",e.NB),e.DB.Kr("UA",e.CB),e}return vt(n,t),ft(n,[{key:"GA",get:function(){var t;switch(this.FA.type){case SE.PERFORMANCE:return 1;case SE.QUALITY:return 0;case SE.BANDWIDTH:return null!=(t=this.FA.metadata)&&t.bitrate&&!g(this.FA.metadata.bitrate)?this.FA.metadata.bitrate:0;default:return 0}}},{key:"Pd",get:function(){return this.DB.Pd}},{key:"FA",get:function(){return this.DB.FA},set:function(t){this.DB.FA=t}},{key:"BA",get:function(){return this.DB.BA},set:function(t){this.DB.BA=t}},{key:"VA",get:function(){return this.DB.VA},set:function(t){this.DB.VA=t}}]),n}(Du),FN=function(){function t(t){this.AB=void 0,this.Ad=void 0,this.AB=t}var n=t.prototype;return n.xd=function(){return function(t){for(var n=[],i=0;i<t.vl;i++)n[i]=t.mu(i).Pd;return n.item=function(n){var i=0|n,e=t.mu(i);return e&&e.Pd||void 0},v.defineProperty(n,"constructor",{value:Vy}),n}(this)},n.Vg=function(t){for(var n=this.AB,i=n.length-1;i>=0;i-=1){var e=n[i];if(t.yy(e))return!0}return!1},n.mu=function(t){return this.AB[t]},ft(t,[{key:"hl",get:function(){return this.AB}},{key:"vl",get:function(){return this.AB.length}},{key:"Pd",get:function(){if(this.Ad){var t=this.AB;this.Ad.length=t.length;for(var n=0;n<t.length;n++)this.Ad[n]=t[n].Pd}else this.Ad=this.xd();return this.Ad}}]),t}(),UN=function(t){function n(n,i){var e;return(e=t.call(this,mw.Gd)||this).Ld=n,e.Ml=i,e}return vt(n,t),n.prototype.xd=function(){return new VN(this.Ld.Pd,ng(this.Ml))},n}(bw),VN=function(t){function n(n,i){var e;return(e=t.call(this,"readystatechange")||this).track=n,e.readyState=i,e}return vt(n,t),n}(pw),WN=function(t){function n(n){var i;return(i=t.call(this,mw.Kd)||this).Ld=n,i}return vt(n,t),n.prototype.xd=function(){return new zN(this.Ld.Pd)},n}(bw),zN=function(t){function n(n){var i;return(i=t.call(this,"typechange")||this).track=n,i}return vt(n,t),n}(pw),qN=function(t){function n(n){var i;return(i=t.call(this,mw.Bd)||this).iy=n,i}return vt(n,t),n.prototype.xd=function(){return new HN(this.iy.Pd)},n}(bw),HN=function(t){function n(n){var i;return(i=t.call(this,"addcue")||this).cue=n,i}return vt(n,t),n}(pw),jN=function(t){function n(n){var i;return(i=t.call(this,mw.Fd)||this).iy=n,i}return vt(n,t),n.prototype.xd=function(){return new $N(this.iy.Pd)},n}(bw),$N=function(t){function n(n){var i;return(i=t.call(this,"removecue")||this).cue=n,i}return vt(n,t),n}(pw),XN=function(t){function n(n,i,e,r,u,s,o,c){var a;return(a=t.call(this)||this).Ad=void 0,a.jo=void 0,a.qg=Ey(),a.PB=!1,a.xB=void 0,a.LB=void 0,a.zg=void 0,a.xs=void 0,a.UD=Gw.xl,a.BB=Cy.NONE,a.MB=void 0,a.Li=void 0,a.FB=void 0,a.AB=[],a.UB=[],a.VB=void 0,a.WB=void 0,a.zB=0,a.qB=0,a.jo=i||"",a.xB=c||"",a.LB=n,a.xs=r||"",a.PB=Boolean(u),a.FB=Boolean(o),a.Li=s||Ay.DEFAULT,a.zg=e||"",a.VB=new FN(a.AB),a.WB=new FN(a.UB),a}vt(n,t);var i=n.prototype;return i.HB=function(t){return ou(this.VB.hl,function(n){return n.kl===t})},i.xd=function(){return Qw(this)},i.tN=function(t){var n=function(t){if("string"==typeof t){var n=t.toLowerCase();switch(n){case Gw.xl:case Gw.Pl:case Gw.Al:return n}}else if("number"==typeof t)switch(t){case 0:return Gw.xl;case 1:return Gw.Pl;case 2:return Gw.Al}return Gw.xl}(t);n!==this.Cl&&(this.UD=n,n===Gw.xl&&(this.UB.forEach(function(t){t.my=!1}),hu(this.UB),this.qB=0),this.Yr(new Rw(this)))},i.IT=function(t){if(t&&!t.Ld){var n=mN(this.Fl.hl,t);if(!(n>=0)){t.Ld=this;var i=-(n+1);this.AB.splice(i,0,t),this.jB(i),t.gy=i,i<this.qB&&(this.qB=i),this.Yr(new qN(t))}}},i.vT=function(t){if(t&&t.Ld===this){var n=this.uB(t);if(!(n<0)){t.my=!1;var i=this.UB,e=mN(i,t);e>=0&&au(i,e),au(this.AB,n),this.jB(n),t.gy=-1,this.qB>n&&--this.qB,this.Yr(new jN(t))}}},i.RB=function(t,n){var i=this.UB,e=this.AB,r=this.qB,u=!1;n&&(r=0);for(var s=i.length-1;s>=0;s--){gN(i[s],t)||(u=!0,au(i,s))}for(;r<e.length&&e[r].ey<=t;){var o=e[r];if(0===t)break;gN(o,t)&&!fu(i,o)&&(u=!0,i.push(o)),r++}u&&nu(i,yN),this.qB=r},i.uB=function(t){return(-1===t.gy||t.gy>=this.zB)&&this.$B(),t.gy},i.$B=function(){for(var t=this.AB,n=this.zB;n<t.length;n++)t[n].gy=n;this.zB=t.length},i.jB=function(t){t<this.zB&&(this.zB=t)},i.Ll=function(t){this.Bl||(this.Cl=t)},i.et=function(){this.Zr();for(var t=this.AB.slice(),n=0;n<t.length;n++){t[n].et()}hu(this.AB),hu(this.UB)},ft(n,[{key:"Ul",get:function(){return this.WB}},{key:"Fl",get:function(){return this.VB}},{key:"NT",get:function(){return this.PB},set:function(t){this.PB=t}},{key:"Bl",get:function(){return this.FB}},{key:"Pd",get:function(){return this.Ad||(this.Ad=this.xd()),this.Ad}},{key:"kl",get:function(){return this.jo}},{key:"Tl",get:function(){return this.qg}},{key:"Ol",get:function(){return this.xB},set:function(t){this.xB=t}},{key:"Sl",get:function(){return this.LB}},{key:"El",get:function(){return this.zg},set:function(t){t!==this.zg&&(this.zg=t,this.Yr(new ky(this)))}},{key:"Rl",get:function(){return this.xs}},{key:"Cl",get:function(){return this.UD},set:function(t){this.tN(t)}},{key:"Ml",get:function(){return this.BB},set:function(t){this.BB!==t&&(this.BB=t,this.Yr(new UN(this,this.BB)))}},{key:"Vl",get:function(){return this.MB},set:function(t){this.MB=t}},{key:"gr",get:function(){return this.Li},set:function(t){this.Li!==t&&(this.Li=t,this.Yr(new WN(this)))}}]),n}(Du);function GN(t,n,i){for(var e=t[n].ey,r=n;r>=0&&t[r].ey===e;r--)t[r].uy=i}var YN=function(t){function n(n,i,e){var r;return(r=t.call(this,n,1/0,i,!1,e)||this).XB=void 0,r}return vt(n,t),n.prototype.yy=function(n){return this===n||xw(this,n)&&t.prototype.yy.call(this,n)&&(i=n,this.sy===i.sy);var i},ft(n,[{key:"Pd",get:function(){return this.Ad||(this.Ad=Uy(this)),this.Ad}}]),n}(Hy),KN=function(t){function n(n,i,e){return void 0===e&&(e=Ay.DEFAULT),t.call(this,pb.rp,"",i||"","",!1,e,!1,n)||this}return vt(n,t),n}(XN),JN=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).XB=void 0,e.gr=Ay.ID3,e}vt(n,t);var i=n.prototype;return i.IT=function(n){!function(t,n){if(0!==n.length){var i=n.length-1;if(n[i].ey<t.ey)GN(n,i,t.ey);else{var e=n[0];if(e.ey>t.ey)t.uy=e.ey;else{var r=mN(n,t);if(!(r>=0)){var u=-(r+1),s=u-1;if(s>=0&&n[s].ey<t.ey&&GN(n,s,t.ey),u<n.length){var o=n[u];t.uy=o.ey}}}}}}(n,this.AB),t.prototype.IT.call(this,n)},i.xd=function(){return Qw(this)},n}(KN);Jc.Oa,Jc.Na,Dg.mw,Jc.qa,Jc.Ca,Jc.Sa,Jc.Ba,Jc.La,Jc._a,Jc.Aa,Jc.Ha,Jc.ba,Dg.Gd,Jc.xa,Yw.Nl,Iu.hu,Iu.du,Jc.ga,Jc.wa,Jc.ja;var QN,ZN={GB:!1,YB:50},tO=function(){function t(t,n,i){this.Fc=void 0,this.kr=void 0,this.Yc=void 0,this.vc=void 0,this.Fc=t,this.kr=i,this.Yc=n}var n=t.prototype;return n.DT=function(t){throw new f("Not implemented yet.")},n.KB=function(t,n){var i,e;return lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,lr.awrap(this.kr.Er(t.yr,n));case 2:return i=r.sent,r.next=5,lr.awrap(i._c());case 5:return e=r.sent,r.next=8,lr.awrap(this.JB(e));case 8:return r.abrupt("return",e);case 9:case"end":return r.stop()}},null,this,null,j)},n.QB=function(t){return!1},n.ZB=function(t){return j.resolve(void 0)},n.Lr=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,lr.awrap(this.JB(void 0));case 2:case"end":return t.stop()}},null,this,null,j)},n.JB=function(t){var n;return lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n=this.tM(t),i.next=3,lr.awrap(n);case 3:case"end":return i.stop()}},null,this,null,j)},n.tM=function(t){var n;return lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!(n=this.vc)){i.next=5;break}return i.next=4,lr.awrap(n.mc(this.Yc));case 4:this.vc=void 0;case 5:if(!t){i.next=9;break}return i.next=8,lr.awrap(t.yc(this.Yc));case 8:this.vc=t;case 9:case"end":return i.stop()}},null,this,null,j)},n.ET=function(t,n,i){throw new f("Not implemented yet.")},ft(t,[{key:"lc",get:function(){return this.Fc}},{key:"xg",get:function(){throw new f("Not implemented yet.")},set:function(t){throw new f("Not implemented yet.")}},{key:"Lg",get:function(){return new Hk([0,1/0])}},{key:"ig",get:function(){throw new f("Not implemented yet.")}},{key:"nM",get:function(){throw new f("Not implemented yet")}},{key:"ng",get:function(){throw new f("Not implemented yet.")}},{key:"iM",get:function(){throw new f("Not implemented yet")}},{key:"eM",get:function(){throw new f("Not implemented yet")}}]),t}();!function(t){t.rM="webkitneedkey",t.uM="webkitkeymessage",t.sM="webkitkeyerror"}(QN||(QN={}));var nO,iO,eO,rO,uO,sO,oO,cO,aO=function(t){function n(n,i){var e;return(e=t.call(this,QN.rM)||this).initData=n,e.sessionId=i,e}return vt(n,t),n}(Ou),fO=function(t){function n(n,i){var e;return(e=t.call(this,QN.uM)||this).message=n,e.destinationURL=i,e}return vt(n,t),n}(Ou),hO=function(t){function n(){return t.call(this,QN.sM)||this}return vt(n,t),n}(Ou),vO=function(t){function n(n,i,e,r,u){var s;return(s=t.call(this)||this).Ec=new Us,s.Uc=void 0,s.Dc=new Fu,s.Wc=new Us,s.oM=function(t){s.Uc?(s.Uc.Lu(void 0),s.Uc=void 0):s.Pc("internal-error"),s.Yr(new Lu)},s.cM=function(t){s.Uc&&(s.Uc.xu(void 0),s.Uc=void 0),s.Yr(new xu(Nn(s),"license-request",Ms(t.message).buffer,t.destinationURL||void 0))},s.Lc=n,s.Zo=i,s.aM=e,s.Xc=r,s.qc=u,s}vt(n,t);var i=n.prototype;return i.ec=function(t,n,i){var e;return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=i&&i.fairplay&&i.fairplay.Hc){t.next=3;break}throw new h("Expected FairPlay contentId to be defined but was "+e+".");case 3:return t.next=5,lr.awrap(this.fM(Ls(n),e));case 5:this.Pc("usable"),this.Wc.xu(),this.Wc=new Us;case 8:case"end":return t.stop()}},null,this,null,j)},i.rc=function(t){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},null,null,null,j)},i.sc=function(t){var n;return lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==(n=Ls(t)).byteLength){i.next=3;break}throw new h("Cannot call update with an empty response.");case 3:return this.Uc=new Us,this.aM.sc(this.Xc,n),i.next=7,lr.awrap(this.Uc.Cu);case 7:case"end":return i.stop()}},null,this,null,j)},i.ic=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,lr.awrap(this.Wc);case 2:return this.aM.tu(QN.uM,this.cM),this.aM.tu(QN.sM,this.oM),this.Wc.Wr(),this.Ec.xu(void 0),t.abrupt("return",this.Ec.Cu);case 7:case"end":return t.stop()}},null,this,null,j)},i.uc=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}},null,null,null,j)},i.fM=function(t,n){var i;return lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:i=Oc(t,n,this.qc),this.aM.Kr(QN.uM,this.cM),this.aM.Kr(QN.sM,this.oM),this.aM.hM(this.Xc,i);case 4:case"end":return e.stop()}},null,this,null,j)},i.Pc=function(t){this.Dc._u(),this.Dc.pu(Mu,t),this.Yr(new Pu(this))},ft(n,[{key:"hc",get:function(){return this.Xc}},{key:"ac",get:function(){return NaN}},{key:"cc",get:function(){return this.Ec.Cu}},{key:"fc",get:function(){return this.Dc}}]),n}(Du),dO=function(){function t(t,n,i){this.vM=void 0,this.Xc=void 0,this.qc=void 0,this.aM=void 0,this.Zo=void 0,this.Fc=void 0,this.Lc=void 0,this.aM=t,this.Zo=n,this.Fc=i;var e=wc(i)||"video/mp4";this.Lc=vc(e)}var i=t.prototype;return i.wc=function(t){var i;return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.qc){t.next=2;break}throw new Cc(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return i=new vO(this.Lc,this.Zo,this.aM,this.Xc,this.qc),this.vM=i,t.abrupt("return",i);case 5:case"end":return t.stop()}},null,this,null,j)},i.gc=function(t){return this.qc=Ls(t),j.resolve(!0)},i.yc=function(t){return lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:t.webkitSetMediaKeys(this);case 1:case"end":return n.stop()}},null,this,null,j)},i.mc=function(t){return lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:t.webkitSetMediaKeys(null);case 1:case"end":return n.stop()}},null,null,null,j)},i.createSession=function(){throw new f("Whoops.")},ft(t,[{key:"dc",get:function(){return this.Zo}},{key:"lc",get:function(){return this.Fc}},{key:"sessionId",set:function(t){this.Xc=t}}]),t}(),lO=function(){function t(t,n,i){this.dM=t,this.Zo=n,this.Fc=i}var n=t.prototype;return n.kc=function(){return this.Fc},n._c=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new dO(this.dM,this.Zo,this.Fc));case 1:case"end":return t.stop()}},null,this,null,j)},ft(t,[{key:"dc",get:function(){return this.Zo}}]),t}(),wO=function(){function t(t){this.dM=void 0,this.dM=t}return t.prototype.Er=function(t,n){var i,e,r;return lr.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=0;case 1:if(!(i<n.length)){u.next=9;break}if(e=n[i],!(r=dc(gO,Au,t,e))){u.next=6;break}return u.abrupt("return",new lO(this.dM,t,r));case 6:i++,u.next=1;break;case 9:throw new h("Unsupported key system configuration for "+t);case 10:case"end":return u.stop()}},null,this,null,j)},t}();function gO(t,n){return t===Fr}!function(t){t.zN="lM"}(nO||(nO={})),function(t){t.wM="gM"}(iO||(iO={})),iO.wM,function(t){t[t.yM=0]="yM",t[t.Ka=1]="Ka",t[t.mM=2]="mM"}(eO||(eO={})),function(t){t.bM="pM"}(rO||(rO={})),function(t){t[t._M=0]="_M",t[t.kM=1]="kM",t[t.TM=2]="TM"}(uO||(uO={})),St.Un,Jc.Oa,Jc.Na,Jc.Ba,Jc.La,Jc._a,Jc.Aa,Dg.Gd,Yw.Nl,St.Pn||St.xn,function(t){t.SM="closed",t.Tv="open",t._a="ended"}(sO||(sO={})),Jc.Ha,Jc.Aa,Jc.Ba,Jc.Oa,Jc.Na,Dg.Gd,Jc.Oa,Jc.Na,Jc.Ba,Jc.La,Jc._a,Yw.Nl,function(t){t[t.ISO_8859_1=0]="ISO_8859_1",t[t.UTF16_BOM=1]="UTF16_BOM",t[t.UTF16=2]="UTF16",t[t.UTF8=3]="UTF8"}(oO||(oO={})),function(t){t[t.V22=2]="V22",t[t.V23=3]="V23",t[t.V24=4]="V24"}(cO||(cO={}));var yO=function(t){function n(n){var i;return(i=t.call(this,0,n.sy)||this).EM=void 0,i.EM=n,i.uy=i.EM.ey,i}return vt(n,t),ft(n,[{key:"kl",get:function(){return this.EM.kl}},{key:"by",get:function(){return this.EM.by},set:function(t){this.EM.by=t}}]),n}(YN);function mO(t){return void 0===t.XB&&(t.XB=new yO(t)),t.XB}var bO=function(t){function n(n,i){var e;(e=t.call(this,n.Ol,n.El)||this).RM=void 0,e.IM=void 0,e.DM=void 0,e.NM=function(t){e.OM(t.iy)},e.CM=function(t){var n=t.iy;if(void 0!==n.XB){var i=n.XB;n.XB=void 0,e.vT(i),i.et()}},e.AM=function(t){var n=mO(t.iy);n.my||e.PM(n),e.xM(n)},e.LM=function(t){var n=t.iy,i=mO(n);e.IM.bw<n.ey&&e.PM(i)},e.BM=function(){var t=e.DM,n=e.Cl;if(e.DM=n,n===Gw.xl){for(var i=0,r=e.UB;i<r.length;i++){r[i].my=!1}hu(e.UB)}else if(t===Gw.xl)for(var u=e.IM.bw,s=0,o=e.AB;s<o.length;s++){var c=o[s];u<c.uy&&e.PM(c)}},e.gr=Ay.ID3,e.IM=i,e.RM=n,e.DM=n.Cl,n.Kr(mw.Bd,e.NM),n.Kr(mw.Fd,e.CM),n.Kr(mw.Vd,e.AM),n.Kr(mw.zd,e.LM),n.Kr(mw.$d,e.BM);for(var r=0,u=e.RM.Fl.hl;r<u.length;r++){var s=u[r];e.OM(s)}return e}vt(n,t);var i=n.prototype;return i.PM=function(t){var n=mN(this.UB,t);if(!(n>=0)){var i=-(n+1);this.UB.splice(i,0,t),t.my=!0,t.Yr(new pN(t,this.IM.bw)),this.Yr(new SN(t)),this.Yr(new DN(this))}},i.xM=function(t){var n=mN(this.UB,t);n>=0&&au(this.UB,n),t.my=!1,t.Yr(new kN(t,this.IM.bw)),this.Yr(new RN(t)),this.Yr(new DN(this))},i.et=function(){this.RM.tu(mw.Bd,this.NM),this.RM.tu(mw.Fd,this.CM),this.RM.tu(mw.Vd,this.AM),this.RM.tu(mw.zd,this.LM),this.RM.tu(mw.$d,this.BM),t.prototype.et.call(this)},i.OM=function(t){var n=mO(t);(this.IT(n),this.Cl!==Gw.xl)&&(this.IM.bw<n.uy&&this.PM(n))},ft(n,[{key:"Sl",get:function(){return this.RM.Sl}},{key:"El",get:function(){return this.RM.El},set:function(t){this.RM.El=t}},{key:"Rl",get:function(){return this.RM.Rl}},{key:"kl",get:function(){return this.RM.kl}},{key:"Tl",get:function(){return this.RM.Tl}},{key:"Ol",get:function(){return this.RM.Ol}},{key:"Cl",get:function(){return this.RM.Cl},set:function(t){this.RM.Cl=t}},{key:"Ml",get:function(){return this.RM.Ml}},{key:"Vl",get:function(){return this.RM.Vl}}]),n}(KN),pO=function(t){function n(n){var i;return(i=t.call(this)||this).IM=void 0,i.IM=n,i}vt(n,t);var i=n.prototype;return i.ol=function(n){if(n.gr===Ay.ID3){var i=n;return i.XB||(i.XB=new bO(i,this.IM)),t.prototype.ol.call(this,i.XB)}return t.prototype.ol.call(this,n)},i.cl=function(n){if(n.gr===Ay.ID3){var i=n;return!!i.XB&&t.prototype.cl.call(this,i.XB)}return t.prototype.cl.call(this,n)},n}(ig),_O=function(t){function n(n,i){var e;return(e=t.call(this)||this).MM=new Sr,e.HE=function(t){var n;return lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if((n=t.Ld).gr){i.next=4;break}return i.next=4,lr.awrap(n.ru(mw.Kd));case 4:if(n.gr===Ay.ID3){i.next=6;break}return i.abrupt("return");case 6:if(0!==n.Fl.vl){i.next=11;break}return i.next=9,lr.awrap(n.ru(mw.Bd));case 9:i.next=6;break;case 11:e.FM(n);case 12:case"end":return i.stop()}},null,null,null,j)},e.jE=function(t){var n=t.Ld;if(n.gr===Ay.ID3&&e.MM.has(n.Tl)){var i=e.MM.get(n.Tl);e.cl(i),e._T.DT(i),n.tu(mw.Bd,e.OM)}},e.OM=function(t){kO(t.iy)&&e.UM(t.iy)},e._T=n,e.VM=i,e.WM(),e}vt(n,t);var i=n.prototype;return i.WM=function(){this.VM.Kr(lw.Dd,this.HE),this.VM.Kr(lw.Od,this.jE)},i.zM=function(){this.VM.tu(lw.Dd,this.HE),this.VM.tu(lw.Od,this.jE)},i.FM=function(t){var n=t.Fl.hl[0];if(kO(n)){var i=function(t){var n=t.match(NO);if(!n)return;return{Ld:n[1],Rl:n[2]}}(n.sy.description),e=i.Ld,r=i.Rl;if(!this.qM(e,r)){var u=this._T.ET(pb.ip,t.kl,e,r,!1,Ay.TTML);this.ol(u),this.MM.set(t.Tl,u);for(var s=0,o=t.Fl.hl;s<o.length;s++){var c=o[s];kO(c)&&this.UM(c)}t.Kr(mw.Bd,this.OM)}}},i.qM=function(t,n){return!!ou(this.Jp.hl,function(i){return i.El===t&&i.Rl===n})},i.UM=function(t){if(t.Ld)for(var n=this.MM.get(t.Ld.Tl),i=fb(t.sy.text,0,{sb:0,ob:1/0,cb:t.uy}),e=0;e<i.length;e++){var r=i[e];n.IT(r)}},i.fl=function(){var n,i,e,r,u;return lr.async(function(s){for(;;)switch(s.prev=s.next){case 0:for(n=0,i=this.VM.hl;n<i.length;n++)i[n].tu(mw.Bd,this.OM);for(e=0,r=this.Jp.hl;e<r.length;e++)u=r[e],this._T.DT(u);return this.MM.clear(),s.next=5,lr.awrap(t.prototype.fl.call(this));case 5:case"end":return s.stop()}},null,this,null,j)},i.et=function(){return lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.zM(),n.next=3,lr.awrap(t.prototype.et.call(this));case 3:case"end":return n.stop()}},null,this,null,j)},n}(Pb);function kO(t){return function(t){return"TXXX"===t.id||"TXX"===t.id}(n=t.sy)&&NO.test(n.description);var n}var TO,SO,EO,RO,IO,DO,NO=/^Track:(.+),Lang:(.+)$/;new(function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Ad=void 0,n}return vt(n,t),ft(n,[{key:"Pd",get:function(){return this.Ad||(this.Ad=uR(this)),this.Ad}},{key:"Ix",get:function(){}},{key:"Dx",get:function(){}},{key:"Nx",get:function(){}},{key:"Ox",get:function(){}},{key:"Cx",get:function(){}},{key:"Ax",get:function(){}},{key:"Px",get:function(){}}]),n}(Du)),function(t){t.HM='"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',t.jM='"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',t.$M='"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',t.XM='Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif'}(TO||(TO={})),function(t){t.BLACK="#000000",t.WHITE="#FFFFFF",t.GREEN="#00ff00",t.BLUE="#0000ff",t.CYAN="#00ffff",t.RED="#ff0000",t.YELLOW="#ffff00",t.MAGENTA="#ff00ff",t.TRANSPARENT="transparent"}(SO||(SO={})),mr({monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:"monospace, sans-serif",monospaceSerif:"monospace, serif",proportionalSansSerif:"Arial",proportionalSerif:"Times New Roman",default:"monospace, sans-serif;"}),mr({lrtb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rltb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;unicode-bidi: bidi-override;",tbrl:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;",tblr:"-webkit-writing-mode: vertical-lr;writing-mode: vertical-lr;-webkit-text-orientation: upright;text-orientation: upright;",lr:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rl:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;",tb:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;"}),SO.WHITE,SO.TRANSPARENT,SO.TRANSPARENT,function(t){t.GM="Data",t.YM="Tag",t.KM="StartTag",t.JM="StartTagClass",t.QM="StartTagAnnotation",t.ZM="CharRefInAnnotation",t.tF="EndTag",t.nF="TimestampTag"}(EO||(EO={})),function(t){t.iB="string",t.iF="starttag",t.eF="endtag",t.rF="timestamp"}(RO||(RO={})),SO.WHITE,SO.TRANSPARENT,function(t){t.FONT_REGULAR="regular",t.FONT_UNDERLINE="underline",t.FONT_ITALICS="italics",t.FONT_UNDERLINE_ITALICS="underline-italics"}(IO||(IO={})),SO.WHITE,TO.$M,SO.BLACK,IO.FONT_REGULAR,SO.WHITE,IO.FONT_REGULAR,SO.WHITE,IO.FONT_UNDERLINE,SO.GREEN,IO.FONT_REGULAR,SO.GREEN,IO.FONT_UNDERLINE,SO.BLUE,IO.FONT_REGULAR,SO.BLUE,IO.FONT_UNDERLINE,SO.CYAN,IO.FONT_REGULAR,SO.CYAN,IO.FONT_UNDERLINE,SO.RED,IO.FONT_REGULAR,SO.RED,IO.FONT_UNDERLINE,SO.YELLOW,IO.FONT_REGULAR,SO.YELLOW,IO.FONT_UNDERLINE,SO.MAGENTA,IO.FONT_REGULAR,SO.MAGENTA,IO.FONT_UNDERLINE,SO.WHITE,IO.FONT_ITALICS,SO.WHITE,IO.FONT_UNDERLINE_ITALICS,SO.WHITE,IO.FONT_REGULAR,SO.WHITE,IO.FONT_UNDERLINE,SO.WHITE,IO.FONT_REGULAR,SO.WHITE,IO.FONT_UNDERLINE,SO.WHITE,IO.FONT_REGULAR,SO.WHITE,IO.FONT_UNDERLINE,SO.WHITE,IO.FONT_REGULAR,SO.WHITE,IO.FONT_UNDERLINE,SO.WHITE,IO.FONT_REGULAR,SO.WHITE,IO.FONT_UNDERLINE,SO.WHITE,IO.FONT_REGULAR,SO.WHITE,IO.FONT_UNDERLINE,SO.WHITE,IO.FONT_REGULAR,SO.WHITE,IO.FONT_UNDERLINE,SO.WHITE,IO.FONT_REGULAR,SO.WHITE,IO.FONT_UNDERLINE,function(t){t.uF="HELLO",t.sF="HI_THERE",t.oF="INITIALIZE",t.cF="APPEND_INIT",t.aF="APPEND_DATA",t.fF="ACK",t.hF="REMOVE",t.vF="DESTROY_SESSION"}(DO||(DO={}));var OO=Ky.im,CO=new Ky(-1/0),AO=Ky.Fm,PO=new(function(t){function n(n,i){return t.call(this,n,i)||this}vt(n,t);var i=n.prototype;return i.Fy=function(t,n){return t.qy(n)?Zr.Nr:t.yy(n)?Zr.Ir:Zr.Dr},i.Ug=function(t,n){return t.Ug(n)},i.Xy=function(t,n){return t.Xy(n)},i.zy=function(t,n){return t.zy(n)},i.WI=function(){return OO},i.zI=function(){return AO},i.$I=function(){return CO},n.fD=function(t){for(var i=[],e=0;e<t.length;e++)i.push(new Ky(t.start(e)),new Ky(t.end(e)));return new n(i)},n.dF=function(t){for(var i=[],e=[],r=0;r<t.vl;r++)i.push(new Ky(t.NI(r))),i.push(new Ky(t.CI(r))),e.push(t.OI(r)),e.push(t.AI(r));return new n(i,e)},n.vD=function(t){return new n([t,t],[!0,!0])},i.UI=function(t,i){return new n(t,i)},i.MI=function(t){return t.Bm},n.dD=function(){return PO},n}(qk))([]);by.sv,by.ov;var xO=function(t){function n(n){var i;return(i=t.call(this,Jc.wa)||this).errorObject=void 0,i.errorObject=n,i}return vt(n,t),ft(n,[{key:"error",get:function(){return this.errorObject.message}},{key:"licenseAcquisitionURL",get:function(){return this.errorObject.url}},{key:"status",get:function(){return this.errorObject.status}},{key:"statusText",get:function(){return this.errorObject.statusText}},{key:"licenseAcquisitionMessage",get:function(){return this.errorObject.response}},{key:"systemCode",get:function(){return this.errorObject.systemCode}}]),n}(Ou),LO=function(t){function n(){return t.call(this,Jc.ga)||this}return vt(n,t),n}(Ou),BO=function(t){function n(n){var i;return(i=t.call(this,"$a")||this).lF=n,i}return vt(n,t),n}(Ou),MO=new ER,FO=function(t){function n(n){var i;return(i=t.call(this,"ic")||this).session=n,i}return vt(n,t),n}(Ou),UO=function(t){function i(i,e,r){var u;return(u=t.call(this)||this).wF=!1,u.gF=!1,u.Xf=new du,u.Qo=function(t){switch(t.cu){case"license-request":u.fS(t.ou,t.au).catch(function(t){return u.Cc(t)});break;default:u.Cc(new wy(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Unsupported CDM message type: "+t.cu))}},u.yF=function(t){u.mF.fc.bu(function(t,n){switch(t){case"usable":st.Oe(function(){u.gF=!0,u.Yr(new LO)},100);break;case"expired":case"status-pending":break;case"output-restricted":case"internal-error":u.Yr(new BO(n))}})},u.bF=function(t){u.Cc(new wy(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Unknown CDM error"))},u.mF=i,u.pF=e,u._F=r,i.Kr("ou",u.Qo),i.Kr("su",u.yF),i.Kr("fu",u.bF),i.cc.then(function(){return u.kF()}),u}vt(i,t);var e=i.prototype;return e.ec=function(){var t=this;return this.wF=!0,MO.EL(function(n){return t.TF(n)},this.Xf.Hr)},e.TF=function(t){var i,e,r;return lr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,gu(t),u.next=4,lr.awrap(this.pF.eS(t));case 4:return u.next=6,lr.awrap(this.pF.rS(this._F.mr,this._F.wu,t));case 6:return i=u.sent,u.next=9,lr.awrap(this.mF.ec(this._F.mr,this._F.wu,i));case 9:u.next=18;break;case 11:throw u.prev=11,u.t0=u.catch(0),yu(u.t0),e=u.t0 instanceof Hs?u.t0.Mu:void 0,r=new wy(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while performing the CDM request",u.t0,void 0,void 0,void 0,void 0,e),this.Cc(r),r;case 18:case"end":return u.stop()}},null,this,[[0,11]],j)},e.fS=function(t,i){var e,r;return lr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(u.prev=0,!Ws(t)){u.next=7;break}return u.next=4,lr.awrap(this.pF.mS(new y(t),this.Xf.Hr));case 4:e=u.sent,u.next=10;break;case 7:return u.next=9,lr.awrap(this.pF.bS(new y(t),i,this.Xf.Hr));case 9:e=u.sent;case 10:u.next=17;break;case 12:if(u.prev=12,u.t0=u.catch(0),!wu(u.t0)){u.next=16;break}return u.abrupt("return");case 16:throw u.t0;case 17:return u.prev=17,u.next=20,lr.awrap(this.mF.sc(e));case 20:u.next=26;break;case 22:throw u.prev=22,u.t1=u.catch(17),r=u.t1 instanceof Hs?u.t1.Mu:void 0,new wy(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while applying license response",u.t1,void 0,void 0,void 0,void 0,r);case 26:case"end":return u.stop()}},null,this,[[0,12],[17,22]],j)},e.Cc=function(t){var i=t instanceof wy?t:new wy(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.Yr(new xO(i)),this.ic()},e.kF=function(){this.mF.tu("ou",this.Qo),this.mF.tu("su",this.yF),this.mF.tu("fu",this.bF),this.gF=!1,this.Xf.Wr(),this.Yr(new FO(this))},e.ic=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Zr(),this.kF(),t.next=4,lr.awrap(this.mF.ic().catch(Mt));case 4:case"end":return t.stop()}},null,this,null,j)},i}(Du),VO=[Jc.ga,Jc.wa,Jc.ja],WO=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Zo=void 0,r.vc=void 0,r.SF=void 0,r.EF=[],r.RF=void 0,r.IF=[],r.DF=function(t){t.session.tu(VO,r.Gr),t.session.tu("ic",r.DF),cu(r.EF,t.session)},r.Zo=n,r.vc=i,r.SF=e,r}vt(n,t);var i=n.prototype;return i.yS=function(){return this.SF.yS()},i.NF=function(t){return this.RF||(this.RF=this.OF(t)),this.RF},i.OF=function(t){var n;return lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return gu(t),i.next=3,lr.awrap(this.SF.mS(new y(Vs()),t));case 3:if(n=i.sent,gu(t),this.vc){i.next=7;break}throw new f("Invalid MediaKeys when setting ServerCertificate");case 7:return i.next=9,lr.awrap(this.vc.gc(n.buffer));case 9:case"end":return i.stop()}},null,this,null,j)},i.hM=function(t){var n,i;return lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.vc){e.next=2;break}throw new f("Invalid MediaKeys when creating KeySession");case 2:return e.prev=2,this.IF.push(t),e.next=6,lr.awrap(this.vc.wc("temporary"));case 6:return n=e.sent,i=new UO(n,this.SF,t),this.EF.push(i),i.Kr(VO,this.Gr),i.Kr("ic",this.DF),e.abrupt("return",i);case 12:return e.prev=12,cu(this.IF,t),e.finish(12);case 15:case"end":return e.stop()}},null,this,[[2,,12,15]],j)},i.CF=function(t){if(t.AF)return!1;for(var n=0,i=this.EF;n<i.length;n++){if(zO(i[n]._F,t))return!0}for(var e=0,r=this.IF;e<r.length;e++){if(zO(r[e],t))return!0}return!1},i.et=function(){var t;return lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.vc=void 0,this.Zr(),t=this.EF.slice(),hu(this.EF),n.next=6,lr.awrap(j.all(t.map(function(t){return t.ic()})));case 6:this.SF.Lr();case 7:case"end":return n.stop()}},null,this,null,j)},ft(n,[{key:"dc",get:function(){return this.Zo}}]),n}(Du);function zO(t,n){return!t.AF&&t.mr===n.mr&&Yu(t.wu,n.wu)}var qO=function(t){function i(n){var i;return(i=t.call(this)||this).tR=void 0,i.Xf=new du,i.BL=new ER,i.Fc=void 0,i.SF=void 0,i.nR=void 0,i.Zo=void 0,i.PF=function(t){return lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,lr.awrap(i.xF(t.mr,t.wu,i.Xf.Hr));case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),wu(n.t0)||i.Cc(n.t0);case 8:case"end":return n.stop()}},null,null,[[0,5]],j)},i.tR=n,i.tR.Kr(Iu.hu,i.PF),i}vt(i,t);var e=i.prototype;return e.rc=function(t,n){this.nR=t,this.ZB(n)},e.ZB=function(t){this.Fc=t,this.LF(this.Xf.Hr).catch(mu)},e.LF=function(t){return lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!st.je.ae){n.next=5;break}return n.next=3,lr.awrap(this.BF(t));case 3:if(!n.sent){n.next=5;break}return n.abrupt("return");case 5:if(!this.Fc||!this.Fc.MF){n.next=9;break}return n.next=8,lr.awrap(this.FF(t));case 8:return n.abrupt("return",n.sent);case 9:case"end":return n.stop()}},null,this,null,j)},e.BF=function(t){var n,i,e,r,u,s,o,c,a,f,h;return lr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(null==(n=this.Fc)?void 0:n.OR){v.next=3;break}return v.abrupt("return",!1);case 3:i=!1,e=0,r=null!=(u=null==(s=this.Fc)?void 0:s.OR)?u:[];case 5:if(!(e<r.length)){v.next=27;break}o=r[e],c=0,a=null!=(f=o.WE)?f:[];case 8:if(!(c<a.length)){v.next=22;break}return h=a[c],v.prev=10,v.next=13,lr.awrap(this.xF(o.dc.mr,h,t));case 13:i=!0,v.next=19;break;case 16:v.prev=16,v.t0=v.catch(10),yu(v.t0);case 19:c++,v.next=8;break;case 22:if(!i){v.next=24;break}return v.abrupt("return",!0);case 24:e++,v.next=5;break;case 27:return v.abrupt("return",!1);case 28:case"end":return v.stop()}},null,this,[[10,16]],j)},e.xF=function(t,i,e){var r,u,s,o,c,a,f,h,v,d;return lr.async(function(l){for(;;)switch(l.prev=l.next){case 0:if(gu(e),i.byteLength){l.next=3;break}return l.abrupt("return");case 3:if(this.Fc&&this.Fc.OR.length){l.next=5;break}throw new wy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_MISSING,"Missing configuration for encrypted content");case 5:if(t===Rr||t===Dr||t===Ir){l.next=8;break}return l.abrupt("return");case 8:r=Yp(t,i),u=this.Fc.OR,o=0;case 11:if(!(o<u.length)){l.next=42;break}if(c=u[o],gu(e),(a=r[c.dc.br])&&c.dc.mr===t){l.next=17;break}return l.abrupt("continue",39);case 17:return l.prev=17,l.next=20,lr.awrap(this.UF(c,e));case 20:if(!(f=l.sent).yS()){l.next=24;break}return l.next=24,lr.awrap(f.NF());case 24:if(h=this.tR.Eg,v={mr:c.dc.mr,wu:a,AF:h},!this.VF(f,v)){l.next=32;break}return l.next=29,lr.awrap(f.hM(v));case 29:return d=l.sent,l.next=32,lr.awrap(d.ec());case 32:return l.abrupt("return");case 35:l.prev=35,l.t0=l.catch(17),yu(l.t0),s=l.t0;case 39:o++,l.next=11;break;case 42:return l.next=44,lr.awrap(st.xe());case 44:if(!l.sent){l.next=48;break}throw new wy(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported",s);case 48:throw new wy(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Cannot create content decryption session",s);case 49:case"end":return l.stop()}},null,this,[[17,35]],j)},e.FF=function(t){var n,i,e,r,u;return lr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(i=null==(n=this.Fc)?void 0:n.OR){s.next=3;break}return s.abrupt("return");case 3:e=0;case 4:if(!(e<i.length)){s.next=23;break}return r=i[e],gu(t),s.prev=7,s.next=10,lr.awrap(this.UF(r,t));case 10:if(!(u=s.sent).yS()){s.next=14;break}return s.next=14,lr.awrap(u.NF());case 14:return s.abrupt("return");case 17:s.prev=17,s.t0=s.catch(7),yu(s.t0);case 20:e++,s.next=4;break;case 23:case"end":return s.stop()}},null,this,[[7,17]],j)},e.VF=function(t,n){return st.je.ce||!t.CF(n)},e.UF=function(t,n){var i=this;return this.BL.EL(function(n){return i.WF(t,n)},n)},e.WF=function(t,n){var i,e,r,u,s;return lr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(gu(n),this.Fc&&this.SF&&this.nR){o.next=3;break}throw new f("Not initialized");case 3:if(!this.Zo){o.next=7;break}if(this.Zo.dc===t.dc){o.next=6;break}throw new f("Internal key system error");case 6:return o.abrupt("return",this.Zo);case 7:return i=this.SF,e=wr({},t,{jR:t.jR.map(function(n){var e;return wr({},n,{persistentState:null!=(e=n.persistentState)?e:i.US(t.dc),Tc:n.Tc||i.Tc(t.dc)})})}),o.next=11,lr.awrap(this.nR.KB(e.dc,e.jR));case 11:return r=o.sent,u=i.VE(e),(s=new WO(e.dc,r,u)).Kr([Jc.ga,Jc.wa,Jc.ja],this.Gr),this.Zo=s,o.abrupt("return",s);case 17:case"end":return o.stop()}},null,this,null,j)},e.Cc=function(t){var i=t instanceof wy?t:new wy(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.Yr(new xO(i))},e.fl=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.nR=void 0,this.Fc=void 0,this.Xf.Wr(),this.Xf=new du,t.next=6,lr.awrap(this.zF());case 6:case"end":return t.stop()}},null,this,null,j)},e.zF=function(){var t;return lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,lr.awrap(this.BL.Wr());case 2:if(!(t=this.Zo)){n.next=8;break}return t.tu(Jc.ja,this.Gr),this.Zo=void 0,n.next=8,lr.awrap(t.et());case 8:case"end":return n.stop()}},null,this,null,j)},e.Lr=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Zr(),this.tR.tu(Iu.hu,this.PF),t.next=4,lr.awrap(this.fl());case 4:return t.next=6,lr.awrap(this.BL.et());case 6:case"end":return t.stop()}},null,this,null,j)},ft(i,[{key:"qF",get:function(){var t;return null==(t=this.Zo)?void 0:t.dc}},{key:"IR",get:function(){return this.SF},set:function(t){this.SF=t}}]),i}(Du);St.Pn||St.xn,St.Qn,St.Un;var HO=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.VF=function(t,n){return!0},n}(qO),jO=function(t){function n(n,i,e){var r;return void 0===e&&(e=new wO(i)),(r=t.call(this)||this).nR=void 0,r.kr=void 0,r.HF=void 0,r.jF=new ER,r.XF=void 0,r.dM=void 0,r.GF=!1,r.Xc=void 0,r.zc=null,r.YF={Rg:0,Ig:0,Dg:0,Ng:0,Og:0,Cg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},r.KF=function(t){"boolean"==typeof t.detail.casting&&(r.GF=t.detail.casting,r.Yr(new By(r.GF)))},r.JF=function(t){r.Xc=t.sessionId,r.zc&&(r.zc.sessionId=r.Xc);var n=t.initData;if(n){var i=function(t){try{var n=As(t),i=new Fs;return Es(Rs(fs(n,i,ls(n,i,!0)),!0))}catch(t){return}}(n);if(!i)return;r.Yr(new Bu(Dr,i))}else r.Yr(new Bu(Dr,new ArrayBuffer(0)))},r.XF=n,r.dM=i,r.dM.Kr(QN.rM,r.JF),r.kr=e,r.HF=new HO(Nn(r)),r.QF(),r}vt(n,t);var i=n.prototype;return i.ZF=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.gr===Wb.OT)return i}},i.Lr=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,lr.awrap(this.fl());case 2:return this.Zr(),this.tU(),this.dM.tu(QN.rM,this.JF),t.next=7,lr.awrap(this.HF.Lr());case 7:case"end":return t.stop()}},null,this,null,j)},i.dg=function(){throw new f("Not implemented yet")},i.ET=function(t,n,i,e,r,u,s,o){throw new f("Not implemented yet")},i.LR=function(){return!1},i.FR=function(t,n,i,e){throw new f("Not implemented yet")},i.DT=function(t){throw new f("Not implemented yet")},i.zR=function(){throw new f("Not implemented yet")},i.rc=function(t){var n=this;return lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",this.jF.EL(function(i){var e;return lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(t.gr!==Wb.OT){r.next=8;break}return gu(i),e=new tO(t,n,n.kr),n.nR=e,n.HF.rc(e,t),r.abrupt("return",e);case 8:throw new f("Could not create non-static media source");case 9:case"end":return r.stop()}},null,null,null,j)}));case 1:case"end":return i.stop()}},null,this,null,j)},i.K=function(){throw new f("Not implemented yet")},i.Y=function(){throw new f("Not implemented yet")},i.fl=function(){var t=this;return this.jF.Wr(),this.jF.EL(function(){return lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0===t.nR){n.next=4;break}return n.next=3,lr.awrap(t.nR.Lr());case 3:t.nR=void 0;case 4:return n.next=6,lr.awrap(t.HF.fl());case 6:case"end":return n.stop()}},null,null,null,j)})},i.Eu=function(t,n){throw new f("Not implemented yet")},i.GR=function(t){throw new f("Not implemented yet")},i.vg=function(){throw new f("Not implemented yet")},i.YR=function(){return this.YF},i.QF=function(){this.XF.addEventListener("airPlayIsCasting",this.KF)},i.tU=function(){this.XF.removeEventListener("airPlayIsCasting",this.KF)},i.webkitSetMediaKeys=function(t){this.zc=t||null,this.zc&&(this.zc.sessionId=this.Xc)},i.nU=function(){},i.iU=function(){throw new f("Not implemented yet")},i.eU=function(){throw new f("Not implemented yet")},ft(n,[{key:"Tg",get:function(){throw new f("Not implemented yet")}},{key:"kg",get:function(){throw new f("Not implemented yet")}},{key:"bw",get:function(){throw new f("Not implemented yet")}},{key:"uL",get:function(){throw new f("Not implemented yet")}},{key:"pw",get:function(){throw new f("Not implemented yet")}},{key:"_w",get:function(){throw new f("Not implemented yet")}},{key:"fu",get:function(){throw new f("Not implemented yet")}},{key:"d_",get:function(){throw new f("Not implemented yet")}},{key:"Eg",get:function(){return this.GF}},{key:"Tw",get:function(){throw new f("Not implemented yet")}},{key:"Sw",get:function(){throw new f("Not implemented yet")}},{key:"Ew",get:function(){throw new f("Not implemented yet")}},{key:"Pg",get:function(){throw new f("Not implemented yet")}},{key:"Ml",get:function(){throw new f("Not implemented yet")}},{key:"Lg",get:function(){throw new f("Not implemented yet")}},{key:"Rw",get:function(){throw new f("Not implemented yet")}},{key:"rU",get:function(){throw new f("Not implemented yet")}},{key:"Nw",get:function(){throw new f("Not implemented yet")},set:function(t){throw new f("Not implemented yet")}},{key:"Dy",get:function(){throw new f("Not implemented yet")}},{key:"WR",get:function(){throw new f("Not implemented yet")}},{key:"webkitKeys",get:function(){return this.zc}},{key:"uU",get:function(){return ZN}},{key:"ig",get:function(){throw new f("Not implemented yet")}},{key:"oL",get:function(){throw new f("Not implemented yet")}},{key:"KR",get:function(){throw new f("Not implemented yet")}},{key:"sU",get:function(){return!0}},{key:"IR",get:function(){return this.HF.IR},set:function(t){this.HF.IR=t}},{key:"qF",get:function(){return this.HF.qF}}]),n}(eg),$O=function(t){function n(n){var i;return(i=t.call(this,Jc.Xa)||this).YF=n,i}return vt(n,t),n}(Ou);var XO=function(t){function n(n,i){var e,r=GO(i,n.pw,n.KR,n.oU);return(e=t.call(this,i,r,void 0,!1,n.kl)||this).cU=void 0,e.aU=void 0,e.fU=void 0,e.Ps=void 0,e.hU=void 0,e.vU=void 0,e.dU=void 0,e.lU=void 0,e.wU=void 0,e.gU=void 0,e.cU=n.yU,e.aU=n.KR,e.fU=n.oU,e.Ps=n.pw,e.hU=n.mU,e.vU=Boolean(n.bU),e.dU=n.pU||{},e.lU=n._U,e.wU=n.kU,e.gU=n.TU,e.SU(),e.EU(),e}vt(n,t);var i=n.prototype;return i.sc=function(t){var n=!1;void 0===this.cU&&void 0!==t.yU&&(n=!0,this.cU=t.yU),void 0===this.fU&&void 0!==t.oU&&(n=!0,this.fU=t.oU),void 0===this.Ps&&void 0!==t.pw&&(n=!0,this.Ps=t.pw),void 0===this.hU&&void 0!==t.mU&&(n=!0,this.hU=t.mU),!this.vU&&t.bU&&(n=!0,this.vU=t.bU),n=this.updateCustomAttributes(t,n),void 0===this.lU&&void 0!==t._U&&(n=!0,this.lU=t._U),void 0===this.wU&&void 0!==t.kU&&(n=!0,this.wU=t.kU),void 0===this.gU&&void 0!==t.TU&&(n=!0,this.gU=t.TU),this.SU(),this.EU(),this.RU(),n&&this.Yr(new Wy(this))},i.updateCustomAttributes=function(t,n){var i=n;if(t.pU)for(var e=0,r=v.keys(t.pU);e<r.length;e++){var u=r[e];void 0===this.dU[u]&&(i=!0,this.dU[u]=t.pU[u])}return i},i.SU=function(){this.Ps&&!this.fU&&(this.fU=new Date(this.aU.getTime()+1e3*this.Ps))},i.EU=function(){this.fU&&!this.Ps&&(this.Ps=Rn(this.fU.getTime()-this.aU.getTime()))},i.RU=function(){this.ay===1/0&&(this.fU||this.Ps)&&(this.ay=GO(this.oy,this.Ps,this.aU,this.fU))},ft(n,[{key:"Pd",get:function(){var t;return this.Ad||(this.Ad=Cw(Uy(t=this),{get content(){return t.sy},get class(){return t.yU},get startDate(){return t.KR},get endDate(){return t.oU},get duration(){return t.pw},get plannedDuration(){return t.mU},get endOnNext(){return t.bU},get scte35Cmd(){return t._U},get scte35Out(){return t.kU},get scte35In(){return t.TU},get customAttributes(){return t.pU}})),this.Ad}},{key:"yU",get:function(){return this.cU}},{key:"KR",get:function(){return this.aU}},{key:"oU",get:function(){return this.fU}},{key:"pw",get:function(){return this.Ps}},{key:"mU",get:function(){return this.hU}},{key:"bU",get:function(){return this.vU}},{key:"_U",get:function(){return this.lU}},{key:"kU",get:function(){return this.wU}},{key:"TU",get:function(){return this.gU}},{key:"pU",get:function(){return this.dU}}]),n}(Hy);function GO(t,n,i,e){return It(n)?t+n:e?t+(Rn(e.getTime())-Rn(i.getTime())):1/0}var YO,KO=function(t){function n(){return t.call(this,void 0,void 0,Ay.DATE_RANGE)||this}vt(n,t);var i=n.prototype;return i.sc=function(t,n){for(var i=this,e=function(t){for(var n=yr(),i=[],e=0;e<t.length;e++){var r=t[e];if(n.has(r.kl)){var u=n.get(r.kl),s=wr({},u,Lw(r),{pU:wr({},u.pU,r.pU)});n.set(r.kl,s)}else n.set(r.kl,r),i.push(r.kl)}return i.map(function(t){return n.get(t)})}(t),r=this.Fl.hl,u=function(t){var n=r[t],u=ou(e,function(t){return t.kl===n.kl});u?n.sc(u):i.vT(n)},s=r.length-1;s>=0;s--)u(s);for(var o=0;o<e.length;o++){var c=e[o],a=c.KR;if(void 0!==a&&!this.HB(c.kl)){var f=n(a);this.IT(new XO(c,f))}}},i.IT=function(n){this.IU(n),t.prototype.IT.call(this,n)},i.IU=function(t){var n=this.AB.filter(function(n){return n.yU===t.yU}).pop();n&&n.bU&&n.sc({kl:n.kl,oU:t.KR})},n}(KN);function JO(t){switch(t.type){case YO.iB:return t.value;case YO.nB:return Mw(t.value);case YO.tB:return Hu(t.value);default:return}}function QO(t){return function(t){return void 0!==t.name&&void 0!==t.message}(t)&&void 0!==t.timestamp&&void 0!==t.code}!function(t){t.iB="daterange-ca-type_string",t.nB="daterange-ca-type_number",t.tB="daterange-ca-type_arraybuffer"}(YO||(YO={}));var ZO,tC,nC,iC=function(t){function n(n,i,e,r,u){var s;return(s=t.call(this,r,i,e)||this).lE=void 0,s.DU=void 0,s.lE=n,s.DU=u,s}return vt(n,t),ft(n,[{key:"name",get:function(){return this.lE}},{key:"timestamp",get:function(){return this.DU}}]),n}(Cc),eC=function(t){function n(n,i,e,r,u,s,o,c){var a;return(a=t.call(this,n,i,e,r,c)||this).url=void 0,a.status=void 0,a.errorComment=void 0,a.url=u,a.status=s,a.errorComment=o,a}return vt(n,t),n}(iC),rC=function(){function t(t,n){this.Kw=void 0,this.NU=void 0,this.Kw=new _b,this.NU=new CN(t,n)}var n=t.prototype;return n.ET=function(t,n,i,e,r,u,s){var o=new XN(t,n,i,e,r,u,s);return this.Kw.ol(o),this.NU.ol(o),o},n.DT=function(t){this.Kw.cl(t),this.NU.cl(t),t.et()},n.fl=function(){for(var t=0,n=this.Kw.hl.slice();t<n.length;t++){n[t].et()}this.Kw.fl(),this.NU.fl()},n.et=function(){this.fl(),this.Kw.et(),this.NU.et()},ft(t,[{key:"ig",get:function(){return this.Kw}}]),t}(),uC=function(t){function n(n,i,e,r,u){var s;(s=t.call(this)||this).mD=0,s.OU=!1,s.iR=void 0,s.eR=void 0,s.CU=void 0,s.pD=!0,s._D=1,s.Gw=void 0,s.Yw=void 0,s.AU=void 0,s.PU=void 0,s.xU=void 0,s.Kw=void 0,s._T=void 0,s.Ps=void 0,s.LU=Hk.dD(),s.BU=Hk.dD(),s.bD=!1,s.MU=Hk.dD(),s.kD=void 0,s.FU=void 0,s.UU=void 0,s.BB=dg.cw,s.AT=dg.cw,s.XF=void 0,s.NU=void 0,s.sR=void 0,s.IB=void 0,s.VU=void 0,s.RD=void 0,s.tR=void 0,s.oR=void 0,s.dM=void 0,s.YF={Rg:0,Ig:0,Dg:0,Ng:0,Og:0,Cg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},s.nR=void 0,s.WU=void 0,s.aR=new kk,s.fR=new Dk,s.setCurrentTime=function(t){return lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(s.Lg.length){n.next=4;break}return s.mD=t,n.next=4,lr.awrap(s.XF.ru("seekablechange"));case 4:s.mD=s.updateCurrentTime(t),s.IB.OB("THEOplayerSetCurrentTime",s.mD),s.kD=!0,s.Yr(new Wg(s.mD));case 8:case"end":return n.stop()}},null,null,null,j)},s.zU=function(t){if(t.detail){for(var n=t.detail.buffered,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}s.LU=new Hk(i),s.Yr(new BN(s.bw))}},s.qU=function(t){s.BB=t.detail.readyState,s.Yr(new Hg(+t.detail.currentTime,s.Ml)),s.HU()},s.jU=function(t){s.BB=t.detail.readyState,s.Yr(new jg(+t.detail.currentTime,s.Ml)),s.HU()},s.$U=function(t){if(t.detail){var n=+t.detail.duration;s.Ps=n,s.Yr(new Bg(s.pw))}},s.XU=function(t){t.detail&&(s.OU=!0,s.Yr(new Ug(+t.detail.currentTime)))},s.hR=function(t){if(t.detail&&t.detail.error&&t.detail.errorObject){var n,i=JSON.parse(t.detail.errorObject);QO(n=i)&&void 0!==n.url&&void 0!==n.status&&void 0!==n.errorComment?(s.eR=new eC(i.name,i.message,void 0,i.code,i.url,i.status,i.errorComment,i.timestamp),s.iR=my(s.eR),s.Yr(new Xg(s.eR))):QO(i)&&(s.eR=new iC(i.name,i.message,void 0,i.code,i.timestamp),s.iR=my(s.eR),s.Yr(new Xg(s.eR)))}},s.GU=function(t){s.Yr(new LN)},s.YU=function(t){s.BB=t.detail.readyState,s.Yr(new Vg(+t.detail.currentTime,s.Ml)),s.HU()},s.KU=function(t){return lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(s.Lg.length){n.next=3;break}return n.next=3,lr.awrap(s.XF.ru("seekablechange"));case 3:s.BB=t.detail.readyState,s.Yr(new Lg(+t.detail.currentTime,s.Ml)),s.HU();case 6:case"end":return n.stop()}},null,null,null,j)},s.JU=function(t){t.detail&&s.pD&&(s.pD=!1,s.Yr(new Cg(+t.detail.currentTime)))},s.QU=function(t){t.detail&&(s.pD||(s.pD=!0,s.Yr(new Og(+t.detail.currentTime))))},s.ZU=function(t){if(t.detail){for(var n=t.detail.played,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}s.MU=new Hk(i)}},s.tV=function(t){t.detail&&s.Yr(new Zb(+t.detail.currentTime))},s.nV=function(t){t.detail&&(s._D=t.detail.playbackRate,s.Yr(new Mg(+t.detail.currentTime,s._D)))},s.iV=function(t){if(t.detail){for(var n=t.detail.seekable,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}s.BU=new Hk(i)}},s.eV=function(t){t.detail&&(s.mD=+t.detail.currentTime,s.kD=!1,s.Yr(new Fg(s.mD,s.CU)),s.Yr(new zg(s.mD)))},s.rV=function(t){if(t.detail){var n=Number(t.detail.currentTime);n<s.Ps&&(s.OU=!1),s.kD=!0,s.Yr(new Wg(n))}},s.uV=function(t){t.detail&&(t.detail.currentDate&&(s.CU=new Date(1e3*t.detail.currentDate)),s.mD=+t.detail.currentTime,s.Yr(new Fg(s.mD,s.CU)))},s.sV=function(t){s.FU=t.detail.height,s.UU=t.detail.width},s.oV=function(t){t.detail&&s.Yr(new Qb(+t.detail.currentTime))},s.cV=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,enabled:t.detail.enabled};s.tg.ol(new Ny(n))},s.aV=function(t){for(var n,i,e=t.detail.lang,r=t.detail.label,u=0;u<s.Gw.vl;u++){var o=s.tg.sl(u);o.Rl==e&&o.El==r?i=s.Gw.sl(u):1==o._l&&(n=s.Gw.sl(u))}i&&n&&(i._l=!0,n._l=!1)},s.fV=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,selected:t.detail.selected};s.ng.ol(new Ly(n))},s.hV=function(t){var n,i=t.detail.kind,e=t.detail.type;i===pb.rp&&e===Ay.ID3?(n=new JN("",t.detail.label)).Cl=Gw.Pl:i===pb.rp&&e===Ay.DATE_RANGE?(n=new KO,s.WU=n):n=new XN(i,void 0,t.detail.label,t.detail.lang,t.detail.isDefault,e),s.AU.ol(n),s.NU.ol(n)},s.vV=function(t){for(var n=0,i=t.detail;n<i.length;n++){var e=i[n],r=e.Id3FrameId,u={id:r,text:e.Id3FrameText};"TXXX"!==r&&"TXX"!==r||(u.description=e.Id3FrameDescription);var o=new YN(Mw(e.startTime),u,e.uid),c=s.dV();c&&c.IT(o)}},s.lV=function(t){for(var n=0,i=t.detail;n<i.length;n++){var e,r=i[n],u=new jy(Mw(r.startTime),Mw(r.endTime),r.content,!1),o=null!=(e=s.wV(pb.ip))?e:s.wV(pb.cT);o&&(o.gr=Ay.WEBVTT,o.IT(u))}},s.gV=function(t){t.type===Jc.wa&&(s.iR=my(t.errorObject)),s.Gr(t)},s.yV=function(t){t.detail&&(s.YF.Ig=t.detail.corruptedVideoFrames,s.YF.Rg=t.detail.droppedVideoFrames,s.Yr(new $O(s.zw)))},s.mV=function(t){var n=function(t){var n=t.detail,i=[];return n.forEach(function(t){var n={kl:t.id};if(void 0!==t.startDate&&(n.KR=new Date(t.startDate)),void 0!==t.endDate&&(n.oU=new Date(t.endDate)),void 0!==t.customAttributes){var e={};for(var r in t.customAttributes){var u=JO(t.customAttributes[r]);void 0!==u&&(e[r]=u)}n.pU=e}void 0!==t.scte35Cmd&&(n._U=Hu(t.scte35Cmd)),void 0!==t.scte35In&&(n.TU=Hu(t.scte35In)),void 0!==t.scte35Out&&(n.kU=Hu(t.scte35Out)),void 0!==t.startTime&&(n.ey=t.startTime),n.yU=t.class,n.pw=Mw(t.duration),n.mU=Mw(t.plannedDuration),i.push(n)}),i}(t);n.forEach(function(t){var i=null!=t.ey?t.ey:(new Date).getTime(),e=new XO(t,i);s.WU.IT(e),s.WU.sc(n,i)})};var o=r.uid;s.IB=s.getSdkBridge(o),s.XF=new wN,uN()[o].sdkEventBus=s.XF,s.Gw=new py,s.Yw=new py;var c=s.bV(e);return s._T=new rC(Nn(s),new AN),s.NU=new xN(Nn(s)),s.sR=new Lb(s._T,c),s.AU=new _b,s.PU=new pO(Nn(s)),s.PU.ml=s.AU,s.xU=new _O(s._T,s.PU),s.Kw=new Ek([s.AU,s.sR.Jp,s.xU.Jp]),s.dM=s.getFairPlayControllerBridge(s.IB),s.tR=new jO(s.XF,s.dM),s.oR=new Tk(c),s.tR.IR=s.oR,s.observeMediaElement(),s.NR(),s.RD=new MN(s.IB,u),s.RD.Kr("MA",function(){s.IB.OB("THEOplayerSetPreferredForwardBufferDuration",s.RD.BA)}),s}vt(n,t);var i=n.prototype;return i.wg=function(){return Xk},i.vg=function(){this.IB.OB("THEOplayerShow",{})},i.dg=function(){this.IB.OB("THEOplayerHide",{})},i.pV=function(){var t=this;this.IB.OB("THEOplayerSetInitialPreferredPeakBitRate",this.RD.GA);this.Kr("playing",function n(){t.IB.OB("THEOplayerSetInitialPreferredPeakBitRate",0),t.tu("playing",n)})},i.sg=function(t,n){var i,e,r;return lr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return this.VU=t,i=wr({},n,{sources:{src:t.src,type:fg.nw,contentProtection:t.contentProtection,ssai:t.ssai,crossOrigin:t.crossOrigin,hlsDateRange:t.hlsDateRange,isAdvertisement:t.isAdvertisement}}),this.IB.OB("THEOplayerSourceChange",i),e={gr:Wb.OT,Vl:t.src,Rh:t.type,OR:this.CR(t),AR:t.crossOrigin,PR:n.metadata&&n.metadata.title},this.oR.UE(t.contentProtection),u.next=7,lr.awrap(this.tR.rc(e));case 7:this.nR=u.sent,n.textTracks&&(r=n.textTracks.filter(function(t){return t.format!==Ay.WEBVTT})).length>0&&this.xR(r),Vb(this.ig),this.pV();case 11:case"end":return u.stop()}},null,this,null,j)},i.CR=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{dc:Wr,jR:[{initDataTypes:[Wr.mr],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},i.Y=function(){this.pD=!1,this.Yr(new Cg(this.bw)),this.IB.OB("THEOplayerPlay",{})},i.K=function(){this.pD=!0,this.Yr(new Og(this.bw)),this.IB.OB("THEOplayerPause",{})},i.lg=function(){},i.fl=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.mD=0,this.OU=!1,this.iR=void 0,this.eR=void 0,this.pD=!0,this._D=1,this.Ps=void 0,this.BU=Hk.dD(),this.LU=Hk.dD(),this.FU=void 0,this.UU=void 0,this.BB=dg.cw,this.AT=dg.cw,this.Gw.fl(),this.Yw.fl(),this.AU.fl(),this.Kw.fl(),t.next=19,lr.awrap(this.xU.fl());case 19:return this.PU.fl(),t.next=22,lr.awrap(this.sR.fl());case 22:return this._T.fl(),this.NU.fl(),this.VU=void 0,t.next=27,lr.awrap(this.tR.fl());case 27:case"end":return t.stop()}},null,this,null,j)},i.cg=function(){this.IB.OB("THEOplayerShowAirPlayPicker",{})},i.ag=function(){this.IB.OB("THEOplayerStopAirPlayPicker",{})},i.updateMetrics=function(t){this.zw.Ig=t.Ig,this.zw.Rg=t.Rg},i.et=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,lr.awrap(this.fl());case 2:return this.Zr(),this.unobserveMediaElement(),this.HR(),this.tR.IR=void 0,t.next=8,lr.awrap(this.tR.Lr());case 8:return this.Gw.et(),this.Yw.et(),this.AU.et(),this.Kw.et(),this.PU.et(),t.next=15,lr.awrap(this.xU.et());case 15:return t.next=17,lr.awrap(this.sR.et());case 17:this._T.et(),this.NU.et();case 19:case"end":return t.stop()}},null,this,null,j)},i.xR=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.sR.ST(i)}},i.HU=function(){var t=this.AT,n=this.BB;t!==n&&(this.AT=n,this.Yr(new $g(this.bw,n)))},i.observeMediaElement=function(){this.tR.Kr(Jc.ha,this.Gr),this.tR.Kr([Jc.ga,Jc.wa],this.gV),this.XF.addEventListener("play",this.JU),this.XF.addEventListener("pause",this.QU),this.XF.addEventListener("seeking",this.rV),this.XF.addEventListener("seeked",this.eV),this.XF.addEventListener("ratechange",this.nV),this.XF.addEventListener("durationchange",this.$U),this.XF.addEventListener("timeupdate",this.uV),this.XF.addEventListener("waiting",this.oV),this.XF.addEventListener("playing",this.tV),this.XF.addEventListener("ended",this.XU),this.XF.addEventListener("loadedmetadata",this.KU),this.XF.addEventListener("loadeddata",this.YU),this.XF.addEventListener("loadstart",this.GU),this.XF.addEventListener("canplay",this.qU),this.XF.addEventListener("canplaythrough",this.jU),this.XF.addEventListener("error",this.hR),this.XF.addEventListener("seekablechange",this.iV),this.XF.addEventListener("videosizechange",this.sV),this.XF.addEventListener("bufferedchange",this.zU),this.XF.addEventListener("playedchange",this.ZU),this.XF.addEventListener("metricschange",this.yV),this.XF.addEventListener("addDateRangeCues",this.mV)},i.unobserveMediaElement=function(){this.tR.tu(Jc.ha,this.Gr),this.tR.tu([Jc.ga,Jc.wa],this.gV),this.XF.removeEventListener("play",this.JU),this.XF.removeEventListener("pause",this.QU),this.XF.removeEventListener("seeking",this.rV),this.XF.removeEventListener("seeked",this.eV),this.XF.removeEventListener("ratechange",this.nV),this.XF.removeEventListener("durationchange",this.$U),this.XF.removeEventListener("timeupdate",this.uV),this.XF.removeEventListener("waiting",this.oV),this.XF.removeEventListener("playing",this.tV),this.XF.removeEventListener("ended",this.XU),this.XF.removeEventListener("loadedmetadata",this.KU),this.XF.removeEventListener("loadeddata",this.YU),this.XF.removeEventListener("loadstart",this.GU),this.XF.removeEventListener("canplay",this.qU),this.XF.removeEventListener("canplaythrough",this.jU),this.XF.removeEventListener("error",this.hR),this.XF.removeEventListener("seekablechange",this.iV),this.XF.removeEventListener("videosizechange",this.sV),this.XF.removeEventListener("bufferedchange",this.zU),this.XF.removeEventListener("playedchange",this.ZU),this.XF.removeEventListener("metricschange",this.yV),this.XF.removeEventListener("addDateRangeCues",this.mV)},i.updateCurrentTime=function(t){var n=this.Lg.start(0),i=this.Lg.end(0);return d.min(d.max(t,n),i)},i.dV=function(){for(var t=0,n=this.Kw.hl;t<n.length;t++){var i=n[t];if(i.Sl===pb.rp&&i.gr===Ay.ID3)return i}},i.wV=function(t){for(var n=0,i=this.Kw.hl;n<i.length;n++){var e=i[n],r=e.Cl===Gw.Al,u=e.Sl===t;if(r&&u)return e}},i.NR=function(){this.XF.addEventListener("addaudiotrack",this.cV),this.XF.addEventListener("enableaudiotrack",this.aV),this.XF.addEventListener("addvideotrack",this.fV),this.XF.addEventListener("addtexttrack",this.hV),this.XF.addEventListener("addtexttrackid3cues",this.vV),this.XF.addEventListener("addtexttrackcues",this.lV)},i.HR=function(){this.XF.removeEventListener("addaudiotrack",this.cV),this.XF.removeEventListener("enableaudiotrack",this.aV),this.XF.removeEventListener("addvideotrack",this.fV),this.XF.removeEventListener("addtexttrack",this.hV),this.XF.removeEventListener("addtexttrackid3cues",this.vV),this.XF.removeEventListener("addtexttrackcues",this.lV)},i._g=function(){},ft(n,[{key:"tg",get:function(){return this.Gw}},{key:"kg",get:function(){return this.LU.XR()}},{key:"Tg",get:function(){return this.CU?this.CU:null},set:function(t){this.IB.OB("THEOplayerSetCurrentProgramDateTime",t.getTime()),this.CU=t}},{key:"bw",get:function(){return this.mD},set:function(t){this.setCurrentTime(t)}},{key:"pw",get:function(){return this.Ps}},{key:"_w",get:function(){return this.OU}},{key:"fu",get:function(){return this.iR}},{key:"kw",get:function(){return this.eR}},{key:"eg",get:function(){}},{key:"Eg",get:function(){return this.tR.Eg}},{key:"zw",get:function(){return this.YF}},{key:"Tw",get:function(){return this.bD},set:function(t){this.bD!==t&&(this.IB.OB("THEOplayerSetMuted",t),this.bD=t,this.Yr(new qg(this.bw,t?0:1)))}},{key:"Sw",get:function(){return this.pD}},{key:"Ew",get:function(){return this._D},set:function(t){this.IB.OB("THEOplayerSetPlaybackRate",t),this._D=t}},{key:"Pg",get:function(){return this.MU.XR()}},{key:"xg",get:function(){return Bk.gI},set:function(t){}},{key:"Ml",get:function(){return this.BB}},{key:"Lg",get:function(){return this.BU.XR()}},{key:"Rw",get:function(){return this.kD}},{key:"KR",get:function(){}},{key:"ig",get:function(){return this.Kw}},{key:"Iw",get:function(){return this.FU}},{key:"Dw",get:function(){return this.UU}},{key:"Nw",get:function(){return 1},set:function(t){}},{key:"Bg",get:function(){return this.fR}},{key:"ng",get:function(){return this.Yw}},{key:"JR",get:function(){return this.aR}},{key:"Mg",get:function(){return!1},set:function(t){}},{key:"Ag",get:function(){return!0}}]),n}(eg),sC=function(){function t(){this.QR=yk.AE}var n=t.prototype;return n.ZR=function(n,i){if(n.isAdvertisement)return!1;if(i.vr&&i.vr[360]&&!i.vr.nativeVR)return!1;if((e=n.type)&&jr(e.toLowerCase(),fg.tw))return!1;var e,r=n.contentProtection;if(r&&!Mp(r)){if(!Vp(r))return!1;if(!t._V(r))return!1}return!0},t._V=function(t){return Boolean(t.fairplay)||Boolean(t.aes128)},n.tI=function(){return!1},t}(),oC=function(){function n(t){this.playerID=t}return n.prototype.OB=function(n,i){if(t.THEOplayerBridge[this.playerID].postMessageToSwift&&"function"==typeof t.THEOplayerBridge[this.playerID].postMessageToSwift){var e={body:i,name:n};t.THEOplayerBridge[this.playerID].postMessageToSwift(e)}},n}(),cC=function(t){function n(n){var i;return(i=t.call(this)||this).IB=void 0,i.XF=void 0,i.kV=function(t){var n=Hu(t.detail.initData),e=t.detail.sessionId;i.Yr(new aO(n,e))},i.TV=function(t){var n=new y(Ju(t.detail.message)),e=t.detail.destinationURL;i.Yr(new fO(n,e))},i.SV=function(t){i.Yr(new hO)},i.IB=n,i.XF=new wN,uN().fairplayController={sdkEventBus:i.XF},i.EV(),i}vt(n,t);var i=n.prototype;return i.EV=function(){this.XF.addEventListener(QN.rM,this.kV),this.XF.addEventListener(QN.uM,this.TV),this.XF.addEventListener(QN.sM,this.SV)},i.hM=function(t,n){var i={playerId:oN(),data:Qu(n.buffer),sessionId:t};this.IB.OB("THEOplayerCreateKeySession",i)},i.sc=function(t,n){var i={playerId:oN(),data:Qu(n.buffer),sessionId:t};this.IB.OB("THEOplayerUpdateKey",i)},n}(eg),aC=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.qh=function(n){if(xs(n.Ih)){var i=Ls(n.Ih);n.Ih=Ss(i)}return t.prototype.qh.call(this,n)},n}(function(){function t(t){this.kT=void 0,this.kT=t}var n=t.prototype;return n.qh=function(t){return this.kT.qh(t)},n.wv=function(t){this.kT.wv(t)},n.et=function(){this.kT.et()},t}()),fC=function(t){function n(n,i,e,r,u){return t.call(this,n,i,e,r,u)||this}vt(n,t);var i=n.prototype;return i.og=function(){return!1},i.getSdkBridge=function(t){return new oC(t)},i.getFairPlayControllerBridge=function(t){return tC||(tC=new cC(t)),tC},i.bV=function(t){return new aC(t)},n}(uC);ZO=new(function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.DS=function(t,n,i,e,r,u){return new fC(t,n,i,e,r)},n}(sC)),Lk.Zn.sI(ZO),function(t){t.Dd="addtrack",t.Od="removetrack",t.$d="change",t.Qd="update"}(nC||(nC={}));var hC=function(t,n,i){this.type=nC.$d,this.mediaType=t,this.mediaTrack=n,this.mediaTrackList=i},vC=function(t,n){this.type=nC.Dd,this.mediaType=t,this.mediaTrack=n},dC=function(t,n){this.type=nC.Od,this.mediaType=t,this.mediaTrack=n},lC=function(t,n){this.type=nC.Qd,this.mediaType=t,this.mediaTrack=n},wC=function(){function t(t,n,i){var e=this;this.type=void 0,this.mediaTracks=void 0,this.messageDispatcher=void 0,this.RV=function(t){var n=new hC(e.type,t.track,e.mediaTracks);e.messageDispatcher.IV(n)},this.DV=function(t){var n=new vC(e.type,t.track);e.messageDispatcher.IV(n),t.track.addEventListener("update",e.NV)},this.OV=function(t){var n=new dC(e.type,t.track);e.messageDispatcher.IV(n)},this.NV=function(t){var n=new lC(e.type,t.track);e.messageDispatcher.IV(n)},this.type=t,this.mediaTracks=n,this.messageDispatcher=i,this.EV()}return t.prototype.EV=function(){this.mediaTracks.addEventListener("change",this.RV),this.mediaTracks.addEventListener("addtrack",this.DV),this.mediaTracks.addEventListener("removetrack",this.OV)},t}(),gC=function(){function t(t){this.CV=void 0,this.CV=new oC(t)}return t.prototype.IV=function(t){this.CV.OB(t.type,HR(t))},t}();gR(function(t){if(t.Pd.audioTracks){var n=new gC(t.Tl);new wC("audio",t.Pd.audioTracks,n)}if(t.Pd.videoTracks){var i=new gC(t.Tl);new wC("video",t.Pd.videoTracks,i)}});var yC,mC=function(){function t(){this.AV=i.webkit}return t.prototype.OB=function(t,n){this.AV.messageHandlers[t]&&this.AV.messageHandlers[t].postMessage(n)},t}(),bC="nativePromiseCallback",pC=function(t){function n(n){var i;return(i=t.call(this,bC)||this).detail=n,i}return vt(n,t),n}(Ou);!function(t){t.RESOLVE="NATIVE_PROMISE_RESOLVE",t.REJECT="NATIVE_PROMISE_REJECT"}(yC||(yC={}));var _C=function(t){function n(){return t.apply(this,arguments)||this}vt(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.Yr(new pC(n))},i.addEventListener=function(t,n){this.Kr(t,n)},i.removeEventListener=function(t,n){this.tu(t,n)},n}(wN),kC=function(){function t(){var t=this;this.CV=void 0,this.promisesMap={},this.handleNativePromiseEvent=function(n){var i=t.promisesMap[n.detail.promiseId];if(!i)throw new f("Could not find a promise with id "+n.detail.promiseId);switch(n.detail.type){case yC.RESOLVE:i.xu(n.detail.data);break;case yC.REJECT:i.Lu(n.detail.data)}delete t.promisesMap[n.detail.promiseId]};var n=new _C;uN().nativePromise={sdkEventBus:n},n.addEventListener(bC,this.handleNativePromiseEvent)}return t.prototype.PV=function(n){var i;t.messageIdTracker+=1;var e=t.messageIdTracker.toString(),r=wr({},n,{promiseId:e}),u=new Us;return this.promisesMap[e]=u,null==(i=this.CV)||i.OB(n.type,zR(r)),u.Cu},t}();kC.messageIdTracker=-1;var TC,SC=function(t){function n(){var n;return(n=t.call(this)||this).CV=new mC,n}return vt(n,t),n}(kC),EC=function(t){function n(n){var i;return(i=t.call(this)||this).CV=new oC(n),i}return vt(n,t),n}(kC);!function(t){t.Dd="TextTrackListAddTrack",t.Od="TextTrackListRemoveTrack",t.$d="TextTrackListChange"}(TC||(TC={}));var RC,IC=function(t){this.type=TC.Dd,this.textTrack=t},DC=function(t){this.type=TC.Od,this.textTrack=t},NC=function(t){this.type=TC.$d,this.textTrack=t};!function(t){t.Bd="TextTrackAddCue",t.Fd="TextTrackRemoveCue",t.Vd="TextTrackEnterCue",t.zd="TextTrackExitCue",t.Hd="TextTrackCueChange"}(RC||(RC={}));var OC,CC=function(t,n){this.type=RC.Bd,this.textTrackCue=t,this.textTrackUid=n},AC=function(t,n){this.type=RC.Fd,this.textTrackCue=t,this.textTrackUid=n},PC=function(t,n){this.type=RC.Vd,this.textTrackCue=t,this.textTrackUid=n},xC=function(t,n){this.type=RC.zd,this.textTrackCue=t,this.textTrackUid=n},LC=function(t){this.type=RC.Hd,this.textTrackUid=t};!function(t){t.Qg="TextTrackCueEnter",t.ty="TextTrackCueExit",t.Qd="TextTrackCueUpdate"}(OC||(OC={}));var BC=function(t){this.type=OC.Qg,this.textTrackCue=t},MC=function(t){this.type=OC.ty,this.textTrackCue=t},FC=function(t){this.type=OC.Qd,this.textTrackCue=t},UC=function(){function t(t){var n=this;this.messageDispatcher=void 0,this.xV=function(t){var i=VC(t.cue),e=new BC(i);n.messageDispatcher.PV(e).then()},this.LV=function(t){var i=VC(t.cue),e=new MC(i);n.messageDispatcher.PV(e).then()},this.BV=function(t){var i=VC(t.cue),e=new FC(i);n.messageDispatcher.PV(e).then()},this.messageDispatcher=t}var n=t.prototype;return n.EV=function(t){t.addEventListener("enter",this.xV),t.addEventListener("exit",this.LV),t.addEventListener("update",this.BV)},n.iu=function(t){t.removeEventListener("enter",this.xV),t.removeEventListener("exit",this.LV),t.removeEventListener("update",this.BV)},t}();function VC(t){var n=QD(t,t.track.type);return n.track=t.track,n}var WC=function(){function t(t,n){var i=this;this.messageDispatcher=void 0,this.textTrackCueBridge=void 0,this.MV=function(t){var n,e=VC(t.cue),r=new CC(e,t.cue.track.uid);i.messageDispatcher.PV(r).then(),null==(n=i.textTrackCueBridge)||n.EV(t.cue)},this.FV=function(t){var n,e=VC(t.cue),r=new AC(e,t.cue.track.uid);i.messageDispatcher.PV(r).then(),null==(n=i.textTrackCueBridge)||n.iu(t.cue)},this.xV=function(t){var n=VC(t.cue),e=new PC(n,t.cue.track.uid);i.messageDispatcher.PV(e).then()},this.LV=function(t){var n=VC(t.cue),e=new xC(n,t.cue.track.uid);i.messageDispatcher.PV(e).then()},this.UV=function(t){var n=new LC(t.track.uid);i.messageDispatcher.PV(n).then()},this.messageDispatcher=t;var e=this.initMessageDispatcher(n);e&&(this.textTrackCueBridge=new UC(e))}var n=t.prototype;return n.EV=function(t){t.addEventListener("addcue",this.MV),t.addEventListener("removecue",this.FV),t.addEventListener("entercue",this.xV),t.addEventListener("exitcue",this.LV),t.addEventListener("cuechange",this.UV)},n.iu=function(t){t.removeEventListener("addcue",this.MV),t.removeEventListener("removecue",this.FV),t.removeEventListener("entercue",this.xV),t.removeEventListener("exitcue",this.LV),t.removeEventListener("cuechange",this.UV)},n.initMessageDispatcher=function(t){return St.Yn?new SC:St.Kn&&void 0!==t?new EC(t):void 0},t}(),zC=function(){function t(t,n,i){var e=this;this.textTracks=void 0,this.messageDispatcher=void 0,this.textTrackBridge=void 0,this.sdkEventBus=void 0,this.DV=function(t){var n,i=new IC(t.track);e.messageDispatcher.PV(i).then(),null==(n=e.textTrackBridge)||n.EV(t.track)},this.OV=function(t){var n,i=new DC(t.track);e.messageDispatcher.PV(i).then(),null==(n=e.textTrackBridge)||n.iu(t.track)},this.VV=function(t){var n=new NC(t.track);e.messageDispatcher.PV(n).then()},this.WV=function(t){var n=t.detail.uid,i=t.detail.mode;e.textTracks.filter(function(t){return t.uid===n})[0].mode=i},this.textTracks=t,this.messageDispatcher=n;var r=this.zV(i);r&&(this.textTrackBridge=new WC(r,i)),this.EV(),this.sdkEventBus=new wN,uN().textTrackList={sdkEventBus:this.sdkEventBus},this.sdkEventBus.addEventListener("changetrackmode",this.WV)}var n=t.prototype;return n.EV=function(){this.textTracks.addEventListener("addtrack",this.DV),this.textTracks.addEventListener("removetrack",this.OV),this.textTracks.addEventListener("change",this.VV)},n.zV=function(t){return St.Yn?new SC:St.Kn&&void 0!==t?new EC(t):void 0},t}();gR(function(t){if(t.Pd.textTracks){var n=new EC(t.Tl);new zC(t.Pd.textTracks,n,t.Tl)}});var qC,HC,jC=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.dispatchEvent=function(t,n){switch(t){case qC.qV:var i={integrationId:n.integrationId,keySystem:n.keySystem};this.Yr(new $C(i));break;default:0}},n}(wN),$C=function(t){function n(n){var i;return(i=t.call(this,qC.qV)||this).detail=n,i}return vt(n,t),n}(Ou);!function(t){t.qV="registerContentProtectionIntegration"}(qC||(qC={})),function(t){t.HV="certifiateRequest",t.jV="certifiateResponse",t.$V="licenseRequest",t.XV="licenseResponse",t.GV="extractFairplayContentId",t.YV="buildContentProtection",t.KV="registerContentProtectionCallback"}(HC||(HC={}));var XC,GC=function(t,n){this.type=HC.KV,this.value=t,this.integrationId=n};!function(t){t.VOD="vod",t.LIVE="live"}(XC||(XC={}));var YC=function(t,n){this.type=HC.YV,this.value=t,this.integrationId=n},KC=function(t,n){this.type=HC.HV,this.value=t,this.integrationId=n},JC=function(t,n){this.type=HC.jV,this.value=t,this.integrationId=n},QC=function(t,n){this.type=HC.GV,this.value=t,this.integrationId=n},ZC=function(t,n){this.type=HC.$V,this.value=t,this.integrationId=n},tA=function(t,n){this.type=HC.XV,this.value=t,this.integrationId=n},nA=function(){function t(t,n){this.JV=void 0,this.NS=void 0,this.JV=t,this.NS=n}var i=t.prototype;return i.onCertificateRequest=function(t){var i,e,r,u,s,o;return lr.async(function(c){for(;;)switch(c.prev=c.next){case 0:return i=this.toCertificateRequestDTO(t),e=new KC(i,this.NS),c.prev=2,c.next=5,lr.awrap(this.JV.PV(e));case 5:if(!(r=c.sent)){c.next=16;break}if(u=JSON.parse(r),!this.QV(u)){c.next=13;break}return s=wr({},u),c.abrupt("return",s);case 13:if(!this.ZV(u)){c.next=16;break}return o=new y(u),c.abrupt("return",o);case 16:throw new wy(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Could not parse callback in onCertificateRequest");case 19:throw c.prev=19,c.t0=c.catch(2),new wy(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,c.t0);case 22:case"end":return c.stop()}},null,this,[[2,19]],j)},i.onCertificateResponse=function(t){var i,e,r,u,s;return lr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return i=this.toCertificateRequestDTO(t.request),e={request:i,url:t.url,status:t.status,statusText:t.statusText,headers:t.headers,body:Array.from(t.body)},r=new JC(e,this.NS),o.next=5,lr.awrap(this.JV.PV(r));case 5:if(!(u=o.sent)){o.next=11;break}return s=JSON.parse(u),o.abrupt("return",new y(s));case 11:throw new wy(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"received undefined instead of string in onCertificateResponse");case 12:case"end":return o.stop()}},null,this,null,j)},i.onLicenseRequest=function(t){var i,e,r,u,s,o,c;return lr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return i=this.toCertificateRequestDTO(t),e={url:i.url,method:i.method,headers:i.headers,body:i.body?Array.from(i.body):null,useCredentials:i.useCredentials,fairplaySkdUrl:t.fairplaySkdUrl},r=new ZC(e,this.NS),a.prev=3,a.next=6,lr.awrap(this.JV.PV(r));case 6:if(!(u=a.sent)){a.next=17;break}if(s=JSON.parse(u),!this.QV(s)){a.next=14;break}return o={url:s.url,method:s.method,headers:s.headers,body:s.body?new y(s.body):null,useCredentials:s.useCredentials,fairplaySkdUrl:s.fairplaySkdUrl},a.abrupt("return",o);case 14:if(!this.ZV(s)){a.next=17;break}return c=new y(s),a.abrupt("return",c);case 17:throw new wy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Could not parse callback in onLicenseRequest");case 20:throw a.prev=20,a.t0=a.catch(3),new wy(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,a.t0);case 23:case"end":return a.stop()}},null,this,[[3,20]],j)},i.onLicenseResponse=function(t){var i,e,r,u,s,o;return lr.async(function(c){for(;;)switch(c.prev=c.next){case 0:return i=this.toCertificateRequestDTO(t.request),e=wr({},i,{fairplaySkdUrl:t.request.fairplaySkdUrl}),r={request:e,url:t.url,status:t.status,statusText:t.statusText,headers:t.headers,body:Array.from(t.body)},u=new tA(r,this.NS),c.next=6,lr.awrap(this.JV.PV(u));case 6:if(!(s=c.sent)){c.next=12;break}return o=JSON.parse(s),c.abrupt("return",new y(o));case 12:throw new wy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"received undefined instead of string in onLicenseResponse");case 13:case"end":return c.stop()}},null,this,null,j)},i.extractFairplayContentId=function(t){var i,e;return lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return i=new QC(t,this.NS),r.next=3,lr.awrap(this.JV.PV(i));case 3:if(!(e=r.sent)){r.next=6;break}return r.abrupt("return",e);case 6:return r.abrupt("return",j.reject(new wy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"received undefined instead of string in extractFairplayContentId")));case 7:case"end":return r.stop()}},null,this,null,j)},i.toCertificateRequestDTO=function(t){return{url:t.url,method:t.method,headers:t.headers,body:t.body?Array.from(t.body):null,useCredentials:t.useCredentials}},i.QV=function(t){var n=t;return void 0!==n.url&&void 0!==n.method&&void 0!==n.headers},i.ZV=function(t){return!!new y(t)},t}(),iA=function(){function t(t){this.JV=void 0,this.JV=t}return t.prototype.build=function(t){if(!t.integration)throw new f("integrationId is undefined");var n=new nA(this.JV,t.integration),i=new YC({drmConfiguration:t},t.integration);return this.JV.PV(i),n},t}(),eA=function(t){function n(n){var i;return(i=t.call(this)||this).JV=void 0,i.JV=new EC(n),i}return vt(n,t),ft(n,[{key:"messageDispatcher",get:function(){return this.JV}}]),n}(function(){var t=this;this.XF=void 0,this.tW=function(n){var i=new iA(t.messageDispatcher),e=n.detail,r=e.integrationId,u=e.keySystem,s={state:Np.LS.CS(r,u,i)};t.messageDispatcher.PV(new GC(s,r))},this.XF=new jC,uN().contentProtectionIntegration={sdkEventBus:this.XF},this.XF.addEventListener(qC.qV,this.tW)});gR(function(t){new eA(t.Pd.uid)}),n.ChromelessPlayer=function t(n,i){var e=Yg(i),r=new(IR||(IR=lR(IR=LR(hR),sR.cL),IR=lR(IR,sR.aL)),IR)(n,e),u=r.Pd;return r.nL(),r.jL(SR),v.defineProperty(u,"constructor",{value:t}),u=Nw(u),function(t){for(var n=0;n<wR.length;n++)(0,wR[n])(t)}(r),u},n.createGlobals=cN,n.features=[],n.getCueMirrorMap=sN,n.getGlobalId=oN,n.getSdkEventBridge=uN,n.playerSuiteVersion="2022.3.1",n.players=MR,n.registerContentProtectionIntegration=FR,n.utils=BR,n.version="3.7.0",v.defineProperty(n,"__esModule",{value:!0})})}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:this);
