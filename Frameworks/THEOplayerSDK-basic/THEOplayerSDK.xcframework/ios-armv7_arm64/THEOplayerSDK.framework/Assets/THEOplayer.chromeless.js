/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com

 This product makes use of Open Source Software: Bluebird (MIT -
 Copyright (c) 2013-2015 Petka Antonov), long.js (Apache 2.0)
 The code of these projects has been heavily modified during
 integration.
 More information on the licenses can be found here: Apache 2.0
(http://www.apache.org/licenses/LICENSE-2.0), MIT
(https://opensource.org/licenses/MIT)

 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 2021.1.3 (2.83.1)
 Created: 2021-04-19T19:39:29.111Z
 */
!function(t){!function(n,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i((n="undefined"!=typeof globalThis?globalThis:n||t).THEOplayer={})}(this,function(n){"use strict";var i,r,e,u=t.window,s=t.document,o=t.location,a=t.navigator,c=t.setTimeout,h=t.clearTimeout,f=t.setInterval,v=t.clearInterval,d=t.Error,l=t.TypeError,_=(t.SyntaxError,t.Object),g=t.Math,w=t.parseInt,y=t.parseFloat,m=t.isNaN,k=t.Uint8Array,p=t.Worker,A=(t.WorkerGlobalScope,t.XMLHttpRequest);function b(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),_.defineProperty(t,r.key,r)}}function T(t,n,i){return n&&b(t.prototype,n),i&&b(t,i),t}!function(t){t.o="web",t.l="android",t.g="android-tv",t.R="ios",t.I="tvos",t.N="chromecast"}(e||(e={}));var E=a?a.userAgent:"",S=/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i,R=E.match(/Android ([0-9\.]+)/i),I=E.match(/Windows NT ([0-9\.]+)/i),N=E.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),C=E.match(/Firefox\/([0-9\.]+)/i),D=E.match(/OPR\/(\d+\.\d+)/i),O=E.match(/Tizen ([0-9\.]+)/i),x=function(){function n(){this.B=Boolean("ontouchstart"in t||t.DocumentTouch&&s instanceof t.DocumentTouch||a&&a.msMaxTouchPoints),this.M=/(mac\sos\sx)\s?([\w\s\.]+\w)*/i.test(E)||/(macintosh|mac(?=_powerpc)\s)/i.test(E),this.U=/Windows NT/i.test(E),this.F=I?y(I[1]):0,this.H=/Android/i.test(E),this.X=R?y(R[1]):0,this.q=/windows phone (8|8\.1)/i.test(E),this.G=/iPhone/i.test(E),this.j=/iPad/i.test(E),this.Y=this.M&&this.B&&!this.j,this.Z=/iPod/i.test(E),this.J=/Mobile Safari/i.test(E),this.K=(this.G||this.j||this.Y||this.Z)&&!this.q,this.nt=this.q||this.K||this.H||this.J,this.it=/CriOS/i.test(E),this.et=Boolean(t.chrome&&/google/i.test(a.vendor))||this.it,this.ut=S.exec(E)||[],this.st=/SMART-TV.*Tizen/i.test(E),this.ot=O?y(O[1]):0,this.at=/webos|web0s/i.test(E),this.ct=/Edge\/\d+/i.test(E),this.ht=/Trident/i.test(E),this.ft=this.ht&&!t.ActiveXObject&&"ActiveXObject"in t,this.vt=/Vivaldi/i.test(E),this.dt=/Firefox/i.test(E)&&!/Seamonkey/i.test(E),this._t=C?y(C[1]):0,this.wt=/Safari/i.test(E)&&!/Chrome/i.test(E)&&!this.q&&!this.st,this.yt=N?y(N[2]):0,this.kt=Boolean(D),this.pt=D?y(D[1]):0,this.At="ios"===e.g,this.bt="ios"===e.l,this.Tt=this.bt||this.At,this.Et="ios"===e.R,this.St="ios"===e.I,this.Rt="ios"===e.N}return T(n,[{key:"It",get:function(){return this.B}},{key:"Nt",get:function(){return this.M}},{key:"Ct",get:function(){return this.U}},{key:"Dt",get:function(){return this.F}},{key:"Ot",get:function(){return this.H}},{key:"xt",get:function(){return this.X}},{key:"Pt",get:function(){return this.q}},{key:"Bt",get:function(){return this.G}},{key:"Lt",get:function(){return this.j}},{key:"Mt",get:function(){return this.Y}},{key:"Ut",get:function(){return this.Z}},{key:"Ft",get:function(){return this.K}},{key:"Ht",get:function(){return this.J}},{key:"Vt",get:function(){return this.nt}},{key:"Xt",get:function(){return this.it}},{key:"Wt",get:function(){return this.et}},{key:"qt",get:function(){return this.ut}},{key:"zt",get:function(){return this.ut[1]}},{key:"Gt",get:function(){return this.st}},{key:"jt",get:function(){return this.ot}},{key:"Qt",get:function(){return this.at}},{key:"Yt",get:function(){return this.ct}},{key:"Zt",get:function(){return this.ht}},{key:"Jt",get:function(){return this.ft}},{key:"Kt",get:function(){return this.vt}},{key:"$t",get:function(){return this.dt}},{key:"tn",get:function(){return this._t}},{key:"nn",get:function(){return this.wt}},{key:"in",get:function(){return this.yt}},{key:"rn",get:function(){return this.kt}},{key:"un",get:function(){return this.pt}},{key:"sn",get:function(){return this.At}},{key:"an",get:function(){return this.bt}},{key:"cn",get:function(){return this.Tt}},{key:"hn",get:function(){return this.Et}},{key:"fn",get:function(){return this.St}},{key:"vn",get:function(){return this.Rt}}]),n}();x.dn=new x;var P=x.dn,B={}.hasOwnProperty,L={}.toString;function M(t){return null!=t}var U=Array.isArray||function(t){return"[object Array]"===L.call(t)};function F(t){return H(t)&&B.call(t,"length")&&G(t.length)}function H(t){return"object"==typeof t&&null!==t}function V(t){return H(t)&&t.constructor&&t.constructor===_}function X(t){return"string"==typeof t}function W(t){return"boolean"==typeof t}function q(t){return Boolean(t)&&"function"==typeof t.then}function z(t){return"[object Date]"===L.call(t)}function G(t){return"number"==typeof t}var j=function(){},Q=function(t){return t};function Y(t,n,i){var e;return function(){for(var u=arguments.length,s=new Array(u),o=0;o<u;o++)s[o]=arguments[o];var a=this,c=i&&!e;void 0!==e&&r.ln(e),e=r._n(function(){e=void 0,i||t.apply(a,s)},n),c&&t.apply(a,s)}}var Z=!(P.Zt&&!P.Jt),J=t.console;function K(t){if(H(t))try{return JSON.stringify(t)}catch(t){}return t}function $(t){return t.map(K).join(" ")}function tt(t){var n=J&&J[t];return n?n.bind&&Z?n.bind(J):function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];J[t]($(i))}:void 0}var nt,it,rt=tt("log")||j,et=tt("warn")||rt.bind(void 0,"WARNING:"),ut=tt("error")||rt.bind(void 0,"ERROR:"),st=(nt=J&&J.assert)?nt.bind&&Z?nt.bind(J):function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];J.assert(t,$(i))}:function(t){if(!t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];ut.apply(void 0,["Assertion failed:"].concat(i))}};function ot(){return Date.now()||(new Date).getTime()}function at(t){return t/1e3}function ct(t,n){t.prototype=_.create(n.prototype),t.prototype.constructor=t,t.__proto__=n}function ht(t){return t.gn===it.wn}function ft(t){return t.gn===it.yn}function vt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}!function(t){t[t.wn=1]="wn",t[t.mn=2]="mn",t[t.yn=3]="yn",t[t.kn=4]="kn",t[t.pn=9]="pn"}(it||(it={}));var dt=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];d.apply(this,n)};(dt.prototype=_.create(d.prototype)).constructor=dt;var lt=function(t){function n(n,i){var r;return(r=t.call(this)||this).message=n||"Unknown error",r.cause=i,d.captureStackTrace&&d.captureStackTrace(vt(r),r.constructor),r}return ct(n,t),T(n,[{key:"name",get:function(){return"BaseError"}}]),n}(dt),_t=function(t){function n(n){return t.call(this,"Invalid XML",n)||this}return ct(n,t),n}(lt),gt=function(){function t(){}return t.prototype.An=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new _t(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new _t;return new bt(n)},t}(),wt=function(){function t(t){this.bn=t}var n=t.prototype;return n.Tn=function(t){return this.bn.isEqualNode(t.bn)},n.En=function(n){return new t(this.bn.cloneNode(n))},T(t,[{key:"gn",get:function(){return it.mn}},{key:"Sn",get:function(){var t;return null!==(t=this.bn.localName)&&void 0!==t?t:St(this.bn.nodeName)}},{key:"Rn",get:function(){return this.bn.nodeName}},{key:"In",get:function(){var t;return null!==(t=this.bn.namespaceURI)&&void 0!==t?t:void 0}},{key:"Nn",get:function(){var t;return null!==(t=this.bn.prefix)&&void 0!==t?t:void 0}},{key:"Cn",get:function(){return this.bn.nodeValue}}]),t}(),yt=function(){function t(t){this.Dn=void 0,this.On=t}var n=t.prototype;return n.xn=function(t){return this.Pn.filter(function(n){return Tt(n)&&n.Bn===t})},n.Ln=function(t,n){return this.Pn.filter(function(i){return Tt(i)&&i.Sn===n&&i.In===t})},n.Mn=function(t){this.On.appendChild(t.Un),this.Dn&&this.Dn.push(t)},n.Tn=function(t){return this.On.isEqualNode(t.Un)},T(t,[{key:"Pn",get:function(){return void 0===this.Dn&&(this.Dn=function(t){for(var n=[],i=0;i<t.length;i++){var r=Et(t.item(i));r&&n.push(r)}return n}(this.On.childNodes)),this.Dn}},{key:"Fn",get:function(){return this.Pn.filter(Tt)}},{key:"Un",get:function(){return this.On}}]),t}(),mt=function(t){function n(n){return t.call(this,n)||this}ct(n,t);var i=n.prototype;return i.Hn=function(t){var n;return null!==(n=this.On.getAttribute(t))&&void 0!==n?n:void 0},i.Vn=function(t,n){var i;return null!==(i=this.On.getAttributeNS(t,n))&&void 0!==i?i:void 0},i.Xn=function(t){this.On.removeAttribute(t)},i.Wn=function(t,n){this.On.removeAttributeNS(t,n)},i.qn=function(t,n){this.On.setAttribute(t,n)},i.zn=function(t,n,i){this.On.setAttributeNS(t,n,i)},i.En=function(t){return new n(this.On.cloneNode(t))},T(n,[{key:"gn",get:function(){return it.wn}},{key:"Sn",get:function(){var t;return null!==(t=this.On.localName)&&void 0!==t?t:St(this.On.nodeName)}},{key:"In",get:function(){var t;return null!==(t=this.On.namespaceURI)&&void 0!==t?t:void 0}},{key:"Nn",get:function(){var t;return null!==(t=this.On.prefix)&&void 0!==t?t:void 0}},{key:"Bn",get:function(){return this.On.nodeName}},{key:"Gn",get:function(){return function(t){for(var n=[],i=0;i<t.length;i++)n.push(new wt(t.item(i)));return n}(this.On.attributes)}},{key:"jn",get:function(){return this.On.textContent}}]),n}(yt),kt=function(){function t(t){this.On=t}return t.prototype.Tn=function(t){return this.Qn===t.Qn},T(t,[{key:"Qn",get:function(){return this.On.nodeValue}},{key:"Un",get:function(){return this.On}}]),t}(),pt=function(t){function n(n){return t.call(this,n)||this}return ct(n,t),n.prototype.En=function(t){return new n(this.On.cloneNode(t))},T(n,[{key:"gn",get:function(){return it.yn}}]),n}(kt),At=function(t){function n(n){return t.call(this,n)||this}return ct(n,t),n.prototype.En=function(t){return new n(this.On.cloneNode(t))},T(n,[{key:"gn",get:function(){return it.kn}}]),n}(kt),bt=function(t){function n(n){return t.call(this,n)||this}return ct(n,t),n.prototype.En=function(t){return new n(this.On.cloneNode(t))},T(n,[{key:"gn",get:function(){return it.pn}},{key:"Yn",get:function(){return new mt(this.On.documentElement)}}]),n}(yt);function Tt(t){return ht(t)}function Et(t){switch(t.nodeType){case it.wn:return new mt(t);case it.yn:return new pt(t);case it.kn:return new At(t)}}function St(t){var n=t.indexOf(":");return n<0?t:t.substr(n+1)}var Rt="undefined"!=typeof globalThis?globalThis:void 0!==u?u:"undefined"!=typeof global?global:void 0!==t?t:{};function It(t,n,i){return t(i={path:n,exports:{},require:function(t,n){return function(){throw new d("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==n&&i.path)}},i.exports),i.exports}var Nt=It(function(t){!function(t){var n,i=_.prototype,r=i.hasOwnProperty,e="function"==typeof Symbol?Symbol:{},u=e.iterator||"@@iterator",s=e.asyncIterator||"@@asyncIterator",o=e.toStringTag||"@@toStringTag";function a(t,n,i,r){var e=n&&n.prototype instanceof y?n:y,u=_.create(e.prototype),s=new D(r||[]);return u.Zn=function(t,n,i){var r=h;return function(e,u){if(r===v)throw new d("Generator is already running");if(r===g){if("throw"===e)throw u;return x()}for(i.method=e,i.arg=u;;){var s=i.delegate;if(s){var o=I(s,i);if(o){if(o===w)continue;return o}}if("next"===i.method)i.sent=i.Jn=i.arg;else if("throw"===i.method){if(r===h)throw r=g,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=v;var a=c(t,n,i);if("normal"===a.type){if(r=i.done?g:f,a.arg===w)continue;return{value:a.arg,done:i.done}}"throw"===a.type&&(r=g,i.method="throw",i.arg=a.arg)}}}(t,i,s),u}function c(t,n,i){try{return{type:"normal",arg:t.call(n,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=a;var h="suspendedStart",f="suspendedYield",v="executing",g="completed",w={};function y(){}function k(){}function p(){}var A={};A[u]=function(){return this};var b=_.getPrototypeOf,T=b&&b(b(O([])));T&&T!==i&&r.call(T,u)&&(A=T);var E=p.prototype=y.prototype=_.create(A);function S(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this.Zn(n,t)}})}function R(t){var n;this.Zn=function(i,e){function u(){return new Promise(function(n,u){!function n(i,e,u,s){var o=c(t[i],t,e);if("throw"!==o.type){var a=o.arg,h=a.value;return h&&"object"==typeof h&&r.call(h,"Kn")?Promise.resolve(h.Kn).then(function(t){n("next",t,u,s)},function(t){n("throw",t,u,s)}):Promise.resolve(h).then(function(t){a.value=t,u(a)},function(t){return n("throw",t,u,s)})}s(o.arg)}(i,e,n,u)})}return n=n?n.then(u,u):u()}}function I(t,i){var r=t.iterator[i.method];if(r===n){if(i.delegate=null,"throw"===i.method){if(t.iterator.return&&(i.method="return",i.arg=n,I(t,i),"throw"===i.method))return w;i.method="throw",i.arg=new l("The iterator does not provide a 'throw' method")}return w}var e=c(r,t.iterator,i.arg);if("throw"===e.type)return i.method="throw",i.arg=e.arg,i.delegate=null,w;var u=e.arg;return u?u.done?(i[t.resultName]=u.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=n),i.delegate=null,w):u:(i.method="throw",i.arg=new l("iterator result is not an object"),i.delegate=null,w)}function N(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function C(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function D(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(N,this),this.reset(!0)}function O(t){if(t){var i=t[u];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!m(t.length)){var e=-1,s=function i(){for(;++e<t.length;)if(r.call(t,e))return i.value=t[e],i.done=!1,i;return i.value=n,i.done=!0,i};return s.next=s}}return{next:x}}function x(){return{value:n,done:!0}}k.prototype=E.constructor=p,p.constructor=k,p[o]=k.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===k||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return _.setPrototypeOf?_.setPrototypeOf(t,p):(t.__proto__=p,o in t||(t[o]="GeneratorFunction")),t.prototype=_.create(E),t},t.awrap=function(t){return{Kn:t}},S(R.prototype),R.prototype[s]=function(){return this},t.AsyncIterator=R,t.async=function(n,i,r,e){var u=new R(a(n,i,r,e));return t.isGeneratorFunction(i)?u:u.next().then(function(t){return t.done?t.value:u.next()})},S(E),E[o]="Generator",E[u]=function(){return this},E.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var i in t)n.push(i);return n.reverse(),function i(){for(;n.length;){var r=n.pop();if(r in t)return i.value=r,i.done=!1,i}return i.done=!0,i}},t.values=O,D.prototype={constructor:D,reset:function(t){if(this.prev=0,this.next=0,this.sent=this.Jn=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(C),!t)for(var i in this)"t"===i.charAt(0)&&r.call(this,i)&&!m(+i.slice(1))&&(this[i]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function e(r,e){return o.type="throw",o.arg=t,i.next=r,e&&(i.method="next",i.arg=n),!!e}for(var u=this.tryEntries.length-1;u>=0;--u){var s=this.tryEntries[u],o=s.completion;if("root"===s.tryLoc)return e("end");if(s.tryLoc<=this.prev){var a=r.call(s,"catchLoc"),c=r.call(s,"finallyLoc");if(a&&c){if(this.prev<s.catchLoc)return e(s.catchLoc,!0);if(this.prev<s.finallyLoc)return e(s.finallyLoc)}else if(a){if(this.prev<s.catchLoc)return e(s.catchLoc,!0)}else{if(!c)throw new d("try statement without catch or finally");if(this.prev<s.finallyLoc)return e(s.finallyLoc)}}}},abrupt:function(t,n){for(var i=this.tryEntries.length-1;i>=0;--i){var e=this.tryEntries[i];if(e.tryLoc<=this.prev&&r.call(e,"finallyLoc")&&this.prev<e.finallyLoc){var u=e;break}}u&&("break"===t||"continue"===t)&&u.tryLoc<=n&&n<=u.finallyLoc&&(u=null);var s=u?u.completion:{};return s.type=t,s.arg=n,u?(this.method="next",this.next=u.finallyLoc,w):this.complete(s)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),w},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),C(i),w}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc===t){var r=i.completion;if("throw"===r.type){var e=r.arg;C(i)}return e}}throw new d("illegal catch attempt")},delegateYield:function(t,i,r){return this.delegate={iterator:O(t),resultName:i,nextLoc:r},"next"===this.method&&(this.arg=n),w}}}(t.exports)}),Ct=It(function(n,r){n.exports=function t(n,r,e){function u(o,a){if(!r[o]){if(!n[o]){var c="function"==typeof i&&i;if(!a&&c)return c(o,!0);if(s)return s(o,!0);var h=new d("Cannot find module '"+o+"'");throw h.code="MODULE_NOT_FOUND",h}var f=r[o]={exports:{}};n[o][0].call(f.exports,function(t){var i=n[o][1][t];return u(i||t)},f,f.exports,t,n,r,e)}return r[o].exports}for(var s="function"==typeof i&&i,o=0;o<e.length;o++)u(e[o]);return u}({1:[function(t,n,i){n.exports=function(t){var n=t.$n;function i(t){var i=new n(t),r=i.promise();return i.setHowMany(1),i.setUnwrap(),i.init(),r}t.any=function(t){return i(t)},t.prototype.any=function(){return i(this)}}},{}],2:[function(t,n,i){var r;try{throw new d}catch(t){r=t}var e=t("./schedule"),u=t("./queue"),s=t("./util");function o(){this.ti=!1,this.ni=!1,this.ii=new u(16),this.ri=new u(16),this.ei=!1,this.ui=!0;var t=this;this.drainQueues=function(){t.si()},this.oi=e}function a(t,n,i){this.ii.push(t,n,i),this.ai()}function h(t,n,i){this.ri.push(t,n,i),this.ai()}function f(t){this.ri.ci(t),this.ai()}function v(t){for(;t.length()>0;)l(t)}function l(t){var n=t.shift();if("function"!=typeof n)n.hi();else{var i=t.shift(),r=t.shift();n.call(i,r)}}o.prototype.setScheduler=function(t){var n=this.oi;return this.oi=t,this.ti=!0,n},o.prototype.hasCustomScheduler=function(){return this.ti},o.prototype.enableTrampoline=function(){this.ui=!0},o.prototype.disableTrampolineIfNecessary=function(){s.hasDevTools&&(this.ui=!1)},o.prototype.haveItemsQueued=function(){return this.ni||this.ei},o.prototype.fatalError=function(t,n){n?(process.stderr.write("Fatal "+(t instanceof d?t.stack:t)+"\n"),process.exit(2)):this.throwLater(t)},o.prototype.throwLater=function(t,n){if(1===arguments.length&&(n=t,t=function(){throw n}),void 0!==c)c(function(){t(n)},0);else try{this.oi(function(){t(n)})}catch(t){throw new d("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},s.hasDevTools?(o.prototype.invokeLater=function(t,n,i){this.ui?a.call(this,t,n,i):this.oi(function(){c(function(){t.call(n,i)},100)})},o.prototype.invoke=function(t,n,i){this.ui?h.call(this,t,n,i):this.oi(function(){t.call(n,i)})},o.prototype.settlePromises=function(t){this.ui?f.call(this,t):this.oi(function(){t.hi()})}):(o.prototype.invokeLater=a,o.prototype.invoke=h,o.prototype.settlePromises=f),o.prototype.si=function(){v(this.ri),this.fi(),this.ei=!0,v(this.ii)},o.prototype.ai=function(){this.ni||(this.ni=!0,this.oi(this.drainQueues))},o.prototype.fi=function(){this.ni=!1},n.exports=o,n.exports.firstLineError=r},{"./queue":26,"./schedule":29,"./util":36}],3:[function(t,n,i){n.exports=function(t,n,i,r){var e=!1,u=function(t,n){this.vi(n)},s=function(t,n){n.promiseRejectionQueued=!0,n.bindingPromise.di(u,u,null,this,t)},o=function(t,n){0==(50397184&this.li)&&this._i(n.target)},a=function(t,n){n.promiseRejectionQueued||this.vi(t)};t.prototype.bind=function(u){e||(e=!0,t.prototype.gi=r.propagateFromFunction(),t.prototype.wi=r.boundValueFunction());var c=i(u),h=new t(n);h.gi(this,1);var f=this.yi();if(h.mi(c),c instanceof t){var v={promiseRejectionQueued:!1,promise:h,target:f,bindingPromise:c};f.di(n,s,void 0,h,v),c.di(o,a,void 0,h,v),h.ki(c)}else h._i(f);return h},t.prototype.mi=function(t){void 0!==t?(this.li=2097152|this.li,this.pi=t):this.li=-2097153&this.li},t.prototype.Ai=function(){return 2097152==(2097152&this.li)},t.bind=function(n,i){return t.resolve(i).bind(n)}}},{}],4:[function(t,n,i){var r;"undefined"!=typeof Promise&&(r=Promise);var e=t("./promise")();e.noConflict=function(){try{Promise===e&&(Promise=r)}catch(t){}return e},n.exports=e},{"./promise":22}],5:[function(t,n,i){var r=_.create;if(r){var e=r(null),u=r(null);e[" size"]=u[" size"]=0}n.exports=function(n){var i=t("./util"),r=i.canEvaluate;function e(t){var r=this.pop(),e=function(t,r){var e;if(null!=t&&(e=t[r]),"function"!=typeof e){var u="Object "+i.classString(t)+" has no method '"+i.toString(r)+"'";throw new n.TypeError(u)}return e}(t,r);return e.apply(t,this)}function u(t){return t[this]}function s(t){var n=+this;return n<0&&(n=g.max(0,n+t.length)),t[n]}i.isIdentifier,n.prototype.call=function(t){var n=[].slice.call(arguments,1);return n.push(t),this.di(e,void 0,void 0,n,void 0)},n.prototype.get=function(t){var n,i="number"==typeof t;if(i)n=s;else if(r){var e=(void 0)();n=null!==e?e:u}else n=u;return this.di(n,void 0,void 0,t,void 0)}}},{"./util":36}],6:[function(t,n,i){n.exports=function(n,i,r,e){var u=t("./util"),s=u.tryCatch,o=u.errorObj,a=n.bi;n.prototype.break=n.prototype.cancel=function(){if(!e.cancellation())return this.Ti("cancellation is disabled");for(var t=this,n=t;t.Ei();){if(!t.Si(n)){n.Ri()?n.Ii().cancel():n.Ni();break}var i=t.Ci;if(null==i||!i.Ei()){t.Ri()?t.Ii().cancel():t.Ni();break}t.Ri()&&t.Ii().cancel(),t.Di(),n=t,t=i}},n.prototype.Oi=function(){this.xi--},n.prototype.Pi=function(){return void 0===this.xi||this.xi<=0},n.prototype.Si=function(t){return t===this?(this.xi=0,this.Bi(),!0):(this.Oi(),!!this.Pi()&&(this.Bi(),!0))},n.prototype.Ni=function(){this.Pi()&&this.Li()},n.prototype.Li=function(){this.Ei()&&(this.Mi(),a.invoke(this.Ui,this,void 0))},n.prototype.Ui=function(){this.Fi()>0&&this.hi()},n.prototype.Hi=function(){this.Vi=void 0},n.prototype.Ei=function(){return this.isPending()&&!this.Xi()},n.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},n.prototype.Wi=function(t,n){if(u.isArray(t))for(var i=0;i<t.length;++i)this.Wi(t[i],n);else if(void 0!==t)if("function"==typeof t){if(!n){var r=s(t).call(this.wi());r===o&&(this.qi(r.e),a.throwLater(r.e))}}else t._resultCancelled(this)},n.prototype.Bi=function(){var t=this.zi();this.Hi(),a.invoke(this.Wi,this,t)},n.prototype.Gi=function(){this.Ei()&&(this.Wi(this.zi(),!0),this.Hi())},n.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(t,n,i){n.exports=function(n){var i=t("./util"),r=t("./es5").keys,e=i.tryCatch,u=i.errorObj;return function(t,s,o){return function(a){var c=o.wi();t:for(var h=0;h<t.length;++h){var f=t[h];if(f===d||null!=f&&f.prototype instanceof d){if(a instanceof f)return e(s).call(c,a)}else if("function"==typeof f){var v=e(f).call(c,a);if(v===u)return v;if(v)return e(s).call(c,a)}else if(i.isObject(a)){for(var l=r(f),_=0;_<l.length;++_){var g=l[_];if(f[g]!=a[g])continue t}return e(s).call(c,a)}}return n}}}},{"./es5":13,"./util":36}],8:[function(t,n,i){n.exports=function(t){var n=!1,i=[];function r(){this.ji=new r.CapturedTrace(e())}function e(){var t=i.length-1;if(t>=0)return i[t]}return t.prototype.Qi=function(){},t.prototype.Yi=function(){},t.prototype.Zi=function(){return null},t.Ji=t.prototype.Ji=function(){},r.prototype.Yi=function(){void 0!==this.ji&&(this.ji.Qi=null,i.push(this.ji))},r.prototype.Zi=function(){if(void 0!==this.ji){var t=i.pop(),n=t.Qi;return t.Qi=null,n}return null},r.CapturedTrace=null,r.create=function(){if(n)return new r},r.deactivateLongStackTraces=function(){},r.activateLongStackTraces=function(){var i=t.prototype.Yi,u=t.prototype.Zi,s=t.Ji,o=t.prototype.Ji,a=t.prototype.Qi;r.deactivateLongStackTraces=function(){t.prototype.Yi=i,t.prototype.Zi=u,t.Ji=s,t.prototype.Ji=o,t.prototype.Qi=a,n=!1},n=!0,t.prototype.Yi=r.prototype.Yi,t.prototype.Zi=r.prototype.Zi,t.Ji=t.prototype.Ji=e,t.prototype.Qi=function(){var t=this.Ji();t&&null==t.Qi&&(t.Qi=this)}},r}},{}],9:[function(t,n,i){n.exports=function(n,i){var r,e,u,o=n.Ki,a=n.bi,h=t("./errors").Warning,f=t("./util"),v=t("./es5"),g=f.canAttachTrace,y=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,m=/\((?:timers\.js):\d+:\d+\)/,k=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,p=null,A=null,b=!1,T=!(0==f.env("BLUEBIRD_DEBUG")),E=!(0==f.env("BLUEBIRD_WARNINGS")||!T&&!f.env("BLUEBIRD_WARNINGS")),S=!(0==f.env("BLUEBIRD_LONG_STACK_TRACES")||!T&&!f.env("BLUEBIRD_LONG_STACK_TRACES")),R=0!=f.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(E||!!f.env("BLUEBIRD_W_FORGOTTEN_RETURN"));n.prototype.suppressUnhandledRejections=function(){var t=this.yi();t.li=-1048577&t.li|524288},n.prototype.$i=function(){if(0==(524288&this.li)){this.tr();var t=this;c(function(){t.nr()},1)}},n.prototype.ir=function(){Z("rejectionHandled",r,void 0,this)},n.prototype.rr=function(){this.li=268435456|this.li},n.prototype.er=function(){return 0!=(268435456&this.li)},n.prototype.nr=function(){if(this.ur()){var t=this.sr();this.ar(),Z("unhandledRejection",e,t,this)}},n.prototype.ar=function(){this.li=262144|this.li},n.prototype.cr=function(){this.li=-262145&this.li},n.prototype.hr=function(){return(262144&this.li)>0},n.prototype.tr=function(){this.li=1048576|this.li},n.prototype.dr=function(){this.li=-1048577&this.li,this.hr()&&(this.cr(),this.ir())},n.prototype.ur=function(){return(1048576&this.li)>0},n.prototype.Ti=function(t,n,i){return G(t,n,i||this)},n.onPossiblyUnhandledRejection=function(t){var n=o();e="function"==typeof t?null===n?t:f.domainBind(n,t):void 0},n.onUnhandledRejectionHandled=function(t){var n=o();r="function"==typeof t?null===n?t:f.domainBind(n,t):void 0};var I=function(){};n.longStackTraces=function(){if(a.haveItemsQueued()&&!et.longStackTraces)throw new d("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!et.longStackTraces&&K()){var t=n.prototype._r,r=n.prototype.qi,e=n.prototype.gr;et.longStackTraces=!0,I=function(){if(a.haveItemsQueued()&&!et.longStackTraces)throw new d("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");n.prototype._r=t,n.prototype.qi=r,n.prototype.gr=e,i.deactivateLongStackTraces(),a.enableTrampoline(),et.longStackTraces=!1},n.prototype._r=W,n.prototype.qi=q,n.prototype.gr=z,i.activateLongStackTraces(),a.disableTrampolineIfNecessary()}},n.hasLongStackTraces=function(){return et.longStackTraces&&K()};var N=function(){try{if("function"==typeof CustomEvent){var t=new CustomEvent("CustomEvent");return f.global.dispatchEvent(t),function(t,n){var i={detail:n,cancelable:!0};v.defineProperty(i,"promise",{value:n.promise}),v.defineProperty(i,"reason",{value:n.reason});var r=new CustomEvent(t.toLowerCase(),i);return!f.global.dispatchEvent(r)}}if("function"==typeof Event){var t=new Event("CustomEvent");return f.global.dispatchEvent(t),function(t,n){var i=new Event(t.toLowerCase(),{cancelable:!0});return i.detail=n,v.defineProperty(i,"promise",{value:n.promise}),v.defineProperty(i,"reason",{value:n.reason}),!f.global.dispatchEvent(i)}}var t=s.createEvent("CustomEvent");return t.initCustomEvent("testingtheevent",!1,!0,{}),f.global.dispatchEvent(t),function(t,n){var i=s.createEvent("CustomEvent");return i.initCustomEvent(t.toLowerCase(),!1,!0,n),!f.global.dispatchEvent(i)}}catch(t){}return function(){return!1}}(),C=f.isNode?function(){return process.emit.apply(process,arguments)}:f.global?function(t){var n="on"+t.toLowerCase(),i=f.global[n];return!!i&&(i.apply(f.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function D(t,n){return{promise:n}}var O={promiseCreated:D,promiseFulfilled:D,promiseRejected:D,promiseResolved:D,promiseCancelled:D,promiseChained:function(t,n,i){return{promise:n,child:i}},warning:function(t,n){return{warning:n}},unhandledRejection:function(t,n,i){return{reason:n,promise:i}},rejectionHandled:D},x=function(t){var n=!1;try{n=C.apply(null,arguments)}catch(t){a.throwLater(t),n=!0}var i=!1;try{i=N(t,O[t].apply(null,arguments))}catch(t){a.throwLater(t),i=!0}return i||n};function P(){return!1}function B(t,n,i){var r=this;try{t(n,i,function(t){if("function"!=typeof t)throw new l("onCancel must be a function, got: "+f.toString(t));r.wr(t)})}catch(t){return t}}function L(t){if(!this.Ei())return this;var n=this.zi();void 0!==n?f.isArray(n)?n.push(t):this.ki([n,t]):this.ki(t)}function M(){return this.Vi}function U(t){this.Vi=t}function F(){this.Ci=void 0,this.Vi=void 0}function H(t,n){if(0!=(1&n)){this.Ci=t;var i=t.xi;void 0===i&&(i=0),t.xi=i+1}0!=(2&n)&&t.Ai()&&this.mi(t.pi)}n.config=function(t){if("longStackTraces"in(t=_(t))&&(t.longStackTraces?n.longStackTraces():!t.longStackTraces&&n.hasLongStackTraces()&&I()),"warnings"in t){var i=t.warnings;et.warnings=!!i,R=et.warnings,f.isObject(i)&&"wForgottenReturn"in i&&(R=!!i.wForgottenReturn)}if("cancellation"in t&&t.cancellation&&!et.cancellation){if(a.haveItemsQueued())throw new d("cannot enable cancellation after promises are in use");n.prototype.yr=F,n.prototype.gi=H,n.prototype.zi=M,n.prototype.ki=U,n.prototype.wr=L,n.prototype.mr=B,V=H,et.cancellation=!0}return"monitoring"in t&&(t.monitoring&&!et.monitoring?(et.monitoring=!0,n.prototype.kr=x):!t.monitoring&&et.monitoring&&(et.monitoring=!1,n.prototype.kr=P)),n},n.prototype.kr=P,n.prototype.mr=function(t,n,i){try{t(n,i)}catch(t){return t}},n.prototype.zi=function(){},n.prototype.ki=function(t){},n.prototype.wr=function(t){},n.prototype._r=function(){},n.prototype.qi=function(){},n.prototype.gr=function(){},n.prototype.yr=function(){},n.prototype.gi=function(t,n){};var V=function(t,n){0!=(2&n)&&t.Ai()&&this.mi(t.pi)};function X(){var t=this.pi;return void 0!==t&&t instanceof n?t.isFulfilled()?t.value():void 0:t}function W(){this.ji=new it(this.Ji())}function q(t,n){if(g(t)){var i=this.ji;if(void 0!==i&&n&&(i=i.pr),void 0!==i)i.attachExtraTrace(t);else if(!t.Ar){var r=Q(t);f.notEnumerableProp(t,"stack",r.message+"\n"+r.stack.join("\n")),f.notEnumerableProp(t,"Ar",!0)}}}function z(){this.ji=void 0}function G(t,i,r){if(et.warnings){var e,u=new h(t);if(i)r.qi(u);else if(et.longStackTraces&&(e=n.Ji()))e.attachExtraTrace(u);else{var s=Q(u);u.stack=s.message+"\n"+s.stack.join("\n")}x("warning",u)||Y(u,"",!0)}}function j(t){for(var n=[],i=0;i<t.length;++i){var r=t[i],e="    (No stack trace)"===r||p.test(r),u=e&&$(r);e&&!u&&(b&&" "!==r.charAt(0)&&(r="    "+r),n.push(r))}return n}function Q(t){var n=t.stack,i=t.toString();return n="string"==typeof n&&n.length>0?function(t){for(var n=t.stack.replace(/\s+$/g,"").split("\n"),i=0;i<n.length;++i){var r=n[i];if("    (No stack trace)"===r||p.test(r))break}return i>0&&"SyntaxError"!=t.name&&(n=n.slice(i)),n}(t):["    (No stack trace)"],{message:i,stack:"SyntaxError"==t.name?n:j(n)}}function Y(t,n,i){if("undefined"!=typeof console){var r;if(f.isObject(t)){var e=t.stack;r=n+A(e,t)}else r=n+String(t);"function"==typeof u?u(r,i):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(r)}}function Z(t,n,i,r){var e=!1;try{"function"==typeof n&&(e=!0,"rejectionHandled"===t?n(r):n(i,r))}catch(t){a.throwLater(t)}"unhandledRejection"===t?x(t,i,r)||e||Y(i,"Unhandled rejection "):x(t,r)}function J(t){var n;if("function"==typeof t)n="[function "+(t.name||"anonymous")+"]";else{if(n=t&&"function"==typeof t.toString?t.toString():f.toString(t),/\[object [a-zA-Z0-9$_]+\]/.test(n))try{var i=JSON.stringify(t);n=i}catch(t){}0===n.length&&(n="(empty array)")}return"(<"+function(t){return t.length<41?t:t.substr(0,38)+"..."}(n)+">, no stack trace)"}function K(){return"function"==typeof rt}var $=function(){return!1},tt=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function nt(t){var n=t.match(tt);if(n)return{fileName:n[1],line:w(n[2],10)}}function it(t){this.pr=t,this.Tr=0;var n=this.Fi=1+(void 0===t?0:t.Fi);rt(this,it),n>32&&this.uncycle()}f.inherits(it,d),i.CapturedTrace=it,it.prototype.uncycle=function(){var t=this.Fi;if(!(t<2)){for(var n=[],i={},r=0,e=this;void 0!==e;++r)n.push(e),e=e.pr;for(var r=(t=this.Fi=r)-1;r>=0;--r){var u=n[r].stack;void 0===i[u]&&(i[u]=r)}for(var r=0;r<t;++r){var s=n[r].stack,o=i[s];if(void 0!==o&&o!==r){o>0&&(n[o-1].pr=void 0,n[o-1].Fi=1),n[r].pr=void 0,n[r].Fi=1;var a=r>0?n[r-1]:this;o<t-1?(a.pr=n[o+1],a.pr.uncycle(),a.Fi=a.pr.Fi+1):(a.pr=void 0,a.Fi=1);for(var c=a.Fi+1,h=r-2;h>=0;--h)n[h].Fi=c,c++;return}}}},it.prototype.attachExtraTrace=function(t){if(!t.Ar){this.uncycle();for(var n=Q(t),i=n.message,r=[n.stack],e=this;void 0!==e;)r.push(j(e.stack.split("\n"))),e=e.pr;!function(t){for(var n=t[0],i=1;i<t.length;++i){for(var r=t[i],e=n.length-1,u=n[e],s=-1,o=r.length-1;o>=0;--o)if(r[o]===u){s=o;break}for(var o=s;o>=0;--o){var a=r[o];if(n[e]!==a)break;n.pop(),e--}n=r}}(r),function(t){for(var n=0;n<t.length;++n)(0===t[n].length||n+1<t.length&&t[n][0]===t[n+1][0])&&(t.splice(n,1),n--)}(r),f.notEnumerableProp(t,"stack",function(t,n){for(var i=0;i<n.length-1;++i)n[i].push("From previous event:"),n[i]=n[i].join("\n");return i<n.length&&(n[i]=n[i].join("\n")),t+"\n"+n.join("\n")}(i,r)),f.notEnumerableProp(t,"Ar",!0)}};var rt=function(){var t=/^\s*at\s*/,n=function(t,n){return"string"==typeof t?t:void 0!==n.name&&void 0!==n.message?n.toString():J(n)};if("number"==typeof d.stackTraceLimit&&"function"==typeof d.captureStackTrace){d.stackTraceLimit+=6,p=t,A=n;var i=d.captureStackTrace;return $=function(t){return y.test(t)},function(t,n){d.stackTraceLimit+=6,i(t,n),d.stackTraceLimit-=6}}var r,e=new d;if("string"==typeof e.stack&&e.stack.split("\n")[0].indexOf("stackDetection@")>=0)return p=/@/,A=n,b=!0,function(t){t.stack=(new d).stack};try{throw new d}catch(t){r="stack"in t}return"stack"in e||!r||"number"!=typeof d.stackTraceLimit?(A=function(t,n){return"string"==typeof t?t:"object"!=typeof n&&"function"!=typeof n||void 0===n.name||void 0===n.message?J(n):n.toString()},null):(p=t,A=n,function(t){d.stackTraceLimit+=6;try{throw new d}catch(n){t.stack=n.stack}d.stackTraceLimit-=6})}();"undefined"!=typeof console&&void 0!==console.warn&&(u=function(t){console.warn(t)},f.isNode&&process.stderr.isTTY?u=function(t,n){var i=n?"\x1b[33m":"\x1b[31m";console.warn(i+t+"\x1b[0m\n")}:f.isNode||"string"!=typeof(new d).stack||(u=function(t,n){console.warn("%c"+t,n?"color: darkorange":"color: red")}));var et={warnings:E,longStackTraces:!1,cancellation:!1,monitoring:!1};return S&&n.longStackTraces(),{longStackTraces:function(){return et.longStackTraces},warnings:function(){return et.warnings},cancellation:function(){return et.cancellation},monitoring:function(){return et.monitoring},propagateFromFunction:function(){return V},boundValueFunction:function(){return X},checkForgottenReturns:function(t,n,i,r,e){if(void 0===t&&null!==n&&R){if(void 0!==e&&e.er())return;if(0==(65535&r.li))return;i&&(i+=" ");var u="",s="";if(n.ji){for(var o=n.ji.stack.split("\n"),a=j(o),c=a.length-1;c>=0;--c){var h=a[c];if(!m.test(h)){var f=h.match(k);f&&(u="at "+f[1]+":"+f[2]+":"+f[3]+" ");break}}if(a.length>0)for(var v=a[0],c=0;c<o.length;++c)if(o[c]===v){c>0&&(s="\n"+o[c-1]);break}}var d="a promise was created in a "+i+"handler "+u+"but was not returned from it, see http://goo.gl/rRqMUw"+s;r.Ti(d,!0,n)}},setBounds:function(t,n){if(K()){for(var i,r,e=(t.stack||"").split("\n"),u=(n.stack||"").split("\n"),s=-1,o=-1,a=0;a<e.length;++a){var c=nt(e[a]);if(c){i=c.fileName,s=c.line;break}}for(var a=0;a<u.length;++a){var c=nt(u[a]);if(c){r=c.fileName,o=c.line;break}}s<0||o<0||!i||!r||i!==r||s>=o||($=function(t){if(y.test(t))return!0;var n=nt(t);return!!(n&&n.fileName===i&&s<=n.line&&n.line<=o)})}},warn:G,deprecated:function(t,n){var i=t+" is deprecated and will be removed in a future version.";return n&&(i+=" Use "+n+" instead."),G(i)},CapturedTrace:it,fireDomEvent:N,fireGlobalEvent:C}}},{"./errors":12,"./es5":13,"./util":36}],10:[function(t,n,i){n.exports=function(t){function n(){return this.value}function i(){throw this.reason}t.prototype.return=t.prototype.thenReturn=function(i){return i instanceof t&&i.suppressUnhandledRejections(),this.di(n,void 0,void 0,{value:i},void 0)},t.prototype.throw=t.prototype.thenThrow=function(t){return this.di(i,void 0,void 0,{reason:t},void 0)},t.prototype.catchThrow=function(t){if(arguments.length<=1)return this.di(void 0,i,void 0,{reason:t},void 0);var n=arguments[1];return this.caught(t,function(){throw n})},t.prototype.catchReturn=function(i){if(arguments.length<=1)return i instanceof t&&i.suppressUnhandledRejections(),this.di(void 0,n,void 0,{value:i},void 0);var r=arguments[1];return r instanceof t&&r.suppressUnhandledRejections(),this.caught(i,function(){return r})}}},{}],11:[function(t,n,i){n.exports=function(t,n){var i=t.reduce,r=t.all;function e(){return r(this)}t.prototype.each=function(t){return i(this,t,n,0).di(e,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(t){return i(this,t,n,n)},t.each=function(t,r){return i(t,r,n,0).di(e,void 0,void 0,t,void 0)},t.mapSeries=function(t,r){return i(t,r,n,n)}}},{}],12:[function(t,n,i){var r,e,u=t("./es5"),s=u.freeze,o=t("./util"),a=o.inherits,c=o.notEnumerableProp;function h(t,n){function i(r){if(!(this instanceof i))return new i(r);c(this,"message","string"==typeof r?r:n),c(this,"name",t),d.captureStackTrace?d.captureStackTrace(this,this.constructor):d.call(this)}return a(i,d),i}var f=h("Warning","warning"),v=h("CancellationError","cancellation error"),_=h("TimeoutError","timeout error"),g=h("AggregateError","aggregate error");try{r=l,e=RangeError}catch(t){r=h("TypeError","type error"),e=h("RangeError","range error")}for(var w="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),y=0;y<w.length;++y)"function"==typeof Array.prototype[w[y]]&&(g.prototype[w[y]]=Array.prototype[w[y]]);u.defineProperty(g.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),g.prototype.isOperational=!0;var m=0;function k(t){if(!(this instanceof k))return new k(t);c(this,"name","OperationalError"),c(this,"message",t),this.cause=t,this.isOperational=!0,t instanceof d?(c(this,"message",t.message),c(this,"stack",t.stack)):d.captureStackTrace&&d.captureStackTrace(this,this.constructor)}g.prototype.toString=function(){var t=Array(4*m+1).join(" "),n="\n"+t+"AggregateError of:\n";m++,t=Array(4*m+1).join(" ");for(var i=0;i<this.length;++i){for(var r=this[i]===this?"[Circular AggregateError]":this[i]+"",e=r.split("\n"),u=0;u<e.length;++u)e[u]=t+e[u];r=e.join("\n"),n+=r+"\n"}return m--,n},a(k,d);var p=d.Er;p||(p=s({CancellationError:v,TimeoutError:_,OperationalError:k,RejectionError:k,AggregateError:g}),u.defineProperty(d,"Er",{value:p,writable:!1,enumerable:!1,configurable:!1})),n.exports={Error:d,TypeError:r,RangeError:e,CancellationError:p.CancellationError,OperationalError:p.OperationalError,TimeoutError:p.TimeoutError,AggregateError:p.AggregateError,Warning:f}},{"./es5":13,"./util":36}],13:[function(t,n,i){var r=function(){return void 0===this}();if(r)n.exports={freeze:_.freeze,defineProperty:_.defineProperty,getDescriptor:_.getOwnPropertyDescriptor,keys:_.keys,names:_.getOwnPropertyNames,getPrototypeOf:_.getPrototypeOf,isArray:Array.isArray,isES5:r,propertyIsWritable:function(t,n){var i=_.getOwnPropertyDescriptor(t,n);return!(i&&!i.writable&&!i.set)}};else{var e={}.hasOwnProperty,u={}.toString,s={}.constructor.prototype,o=function(t){var n=[];for(var i in t)e.call(t,i)&&n.push(i);return n};n.exports={isArray:function(t){try{return"[object Array]"===u.call(t)}catch(t){return!1}},keys:o,names:o,defineProperty:function(t,n,i){return t[n]=i.value,t},getDescriptor:function(t,n){return{value:t[n]}},freeze:function(t){return t},getPrototypeOf:function(t){try{return _(t).constructor.prototype}catch(t){return s}},isES5:r,propertyIsWritable:function(){return!0}}}},{}],14:[function(t,n,i){n.exports=function(t,n){var i=t.map;t.prototype.filter=function(t,r){return i(this,t,r,n)},t.filter=function(t,r,e){return i(t,r,e,n)}}},{}],15:[function(t,n,i){n.exports=function(n,i,r){var e=t("./util"),u=n.CancellationError,s=e.errorObj,o=t("./catch_filter")(r);function a(t,n,i){this.promise=t,this.type=n,this.handler=i,this.called=!1,this.cancelPromise=null}function c(t){this.finallyHandler=t}function h(t,n){return null!=t.cancelPromise&&(arguments.length>1?t.cancelPromise.vi(n):t.cancelPromise.Li(),t.cancelPromise=null,!0)}function f(){return d.call(this,this.promise.yi().sr())}function v(t){if(!h(this,t))return s.e=t,s}function d(t){var e=this.promise,o=this.handler;if(!this.called){this.called=!0;var a=this.isFinallyHandler()?o.call(e.wi()):o.call(e.wi(),t);if(a===r)return a;if(void 0!==a){e.rr();var d=i(a,e);if(d instanceof n){if(null!=this.cancelPromise){if(d.Xi()){var l=new u("late cancellation observer");return e.qi(l),s.e=l,s}d.isPending()&&d.wr(new c(this))}return d.di(f,v,void 0,this,void 0)}}}return e.isRejected()?(h(this),s.e=t,s):(h(this),t)}return a.prototype.isFinallyHandler=function(){return 0===this.type},c.prototype._resultCancelled=function(){h(this.finallyHandler)},n.prototype.Sr=function(t,n,i,r){return"function"!=typeof t?this.then():this.di(i,r,void 0,new a(this,n,t),void 0)},n.prototype.lastly=n.prototype.finally=function(t){return this.Sr(t,0,d,d)},n.prototype.tap=function(t){return this.Sr(t,1,d)},n.prototype.tapCatch=function(t){var i=arguments.length;if(1===i)return this.Sr(t,1,void 0,d);var r,u=new Array(i-1),s=0;for(r=0;r<i-1;++r){var a=arguments[r];if(!e.isObject(a))return n.reject(new l("tapCatch statement predicate: expecting an object but got "+e.classString(a)));u[s++]=a}u.length=s;var c=arguments[r];return this.Sr(o(u,c,this),1,void 0,d)},a}},{"./catch_filter":7,"./util":36}],16:[function(t,n,i){n.exports=function(n,i,r,e,u,s){var o=t("./errors"),a=o.TypeError,c=t("./util"),h=c.errorObj,f=c.tryCatch,v=[];function l(t,i,e,u){if(s.cancellation()){var o=new n(r),a=this.Rr=new n(r);this.Ir=o.lastly(function(){return a}),o._r(),o.ki(this)}else{var c=this.Ir=new n(r);c._r()}this.Nr=u,this.Cr=t,this.Dr=i,this.Or=void 0,this.xr="function"==typeof e?[e].concat(v):v,this.Pr=null,this.Br=!1}c.inherits(l,u),l.prototype.Lr=function(){return null===this.Ir},l.prototype.Mr=function(){this.Ir=this.Or=null,s.cancellation()&&null!==this.Rr&&(this.Rr.Ur(),this.Rr=null)},l.prototype.Fr=function(){if(!this.Lr()){var t,i=void 0!==this.Or.return;if(i)this.Ir.Yi(),t=f(this.Or.return).call(this.Or,void 0),this.Ir.Zi();else{var r=new n.CancellationError("generator .return() sentinel");n.coroutine.returnSentinel=r,this.Ir.qi(r),this.Ir.Yi(),t=f(this.Or.throw).call(this.Or,r),this.Ir.Zi()}this.Br=!0,this.Pr=null,this.Hr(t)}},l.prototype.Vr=function(t){this.Pr=null,this.Ir.Yi();var n=f(this.Or.next).call(this.Or,t);this.Ir.Zi(),this.Hr(n)},l.prototype.Xr=function(t){this.Pr=null,this.Ir.qi(t),this.Ir.Yi();var n=f(this.Or.throw).call(this.Or,t);this.Ir.Zi(),this.Hr(n)},l.prototype._resultCancelled=function(){if(this.Pr instanceof n){var t=this.Pr;this.Pr=null,t.cancel()}},l.prototype.promise=function(){return this.Ir},l.prototype.Wr=function(){this.Or=this.Cr.call(this.Dr),this.Dr=this.Cr=void 0,this.Vr(void 0)},l.prototype.Hr=function(t){var i=this.Ir;if(t===h)return this.Mr(),this.Br?i.cancel():i.qr(t.e,!1);var r=t.value;if(!0===t.done)return this.Mr(),this.Br?i.cancel():i._i(r);var u=e(r,this.Ir);if(u instanceof n||null!==(u=function(t,i,r){for(var u=0;u<i.length;++u){r.Yi();var s=f(i[u])(t);if(r.Zi(),s===h){r.Yi();var o=n.reject(h.e);return r.Zi(),o}var a=e(s,r);if(a instanceof n)return a}return null}(u,this.xr,this.Ir))){var s=(u=u.yi()).li;0==(50397184&s)?(this.Pr=u,u.zr(this,null)):0!=(33554432&s)?n.bi.invoke(this.Vr,this,u.Gr()):0!=(16777216&s)?n.bi.invoke(this.Xr,this,u.jr()):this.Fr()}else this.Xr(new a("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(r))+"From coroutine:\n"+this.Nr.split("\n").slice(1,-7).join("\n")))},n.coroutine=function(t,n){if("function"!=typeof t)throw new a("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var i=_(n).yieldHandler,r=l,e=(new d).stack;return function(){var n=t.apply(this,arguments),u=new r(void 0,void 0,i,e),s=u.promise();return u.Or=n,u.Vr(void 0),s}},n.coroutine.addYieldHandler=function(t){if("function"!=typeof t)throw new a("expecting a function but got "+c.classString(t));v.push(t)},n.spawn=function(t){if(s.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof t)return i("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var r=new l(t,this),e=r.promise();return r.Wr(n.spawn),e}}},{"./errors":12,"./util":36}],17:[function(t,n,i){n.exports=function(n,i,r,e,u,s){var o=t("./util");o.canEvaluate,o.tryCatch,o.errorObj,n.join=function(){var t,n=arguments.length-1;n>0&&"function"==typeof arguments[n]&&(t=arguments[n]);var r=[].slice.call(arguments);t&&r.pop();var e=new i(r).promise();return void 0!==t?e.spread(t):e}}},{"./util":36}],18:[function(t,n,i){n.exports=function(n,i,r,e,u,s){var o=n.Ki,a=t("./util"),c=a.tryCatch,h=a.errorObj,f=n.bi;function v(t,n,i,r){this.constructor$(t),this.Ir._r();var e=o();this.Qr=null===e?n:a.domainBind(e,n),this.Yr=r===u?new Array(this.length()):null,this.Zr=i,this.Jr=0,this.Kr=[],f.invoke(this.$r,this,void 0)}function d(t,i,e,u){if("function"!=typeof i)return r("expecting a function but got "+a.classString(i));var s=0;if(void 0!==e){if("object"!=typeof e||null===e)return n.reject(new l("options argument must be an object but it is "+a.classString(e)));if("number"!=typeof e.concurrency)return n.reject(new l("'concurrency' must be a number but it is "+a.classString(e.concurrency)));s=e.concurrency}return s="number"==typeof s&&isFinite(s)&&s>=1?s:0,new v(t,i,s,u).promise()}a.inherits(v,i),v.prototype.$r=function(){this._init$(void 0,-2)},v.prototype._init=function(){},v.prototype.Vr=function(t,i){var r=this.te,u=this.length(),o=this.Yr,a=this.Zr;if(i<0){if(r[i=-1*i-1]=t,a>=1&&(this.Jr--,this.ie(),this.Lr()))return!0}else{if(a>=1&&this.Jr>=a)return r[i]=t,this.Kr.push(i),!1;null!==o&&(o[i]=t);var f=this.Ir,v=this.Qr,d=f.wi();f.Yi();var l=c(v).call(d,t,i,u),_=f.Zi();if(s.checkForgottenReturns(l,_,null!==o?"Promise.filter":"Promise.map",f),l===h)return this.vi(l.e),!0;var g=e(l,this.Ir);if(g instanceof n){var w=(g=g.yi()).li;if(0==(50397184&w))return a>=1&&this.Jr++,r[i]=g,g.zr(this,-1*(i+1)),!1;if(0==(33554432&w))return 0!=(16777216&w)?(this.vi(g.jr()),!0):(this.Li(),!0);l=g.Gr()}r[i]=l}var y=++this.re;return y>=u&&(null!==o?this.ee(r,o):this.ue(r),!0)},v.prototype.ie=function(){for(var t=this.Kr,n=this.Zr,i=this.te;t.length>0&&this.Jr<n;){if(this.Lr())return;var r=t.pop();this.Vr(i[r],r)}},v.prototype.ee=function(t,n){for(var i=n.length,r=new Array(i),e=0,u=0;u<i;++u)t[u]&&(r[e++]=n[u]);r.length=e,this.ue(r)},v.prototype.preservedValues=function(){return this.Yr},n.prototype.map=function(t,n){return d(this,t,n,null)},n.map=function(t,n,i,r){return d(t,n,i,r)}}},{"./util":36}],19:[function(t,n,i){n.exports=function(n,i,r,e,u){var s=t("./util"),o=s.tryCatch;n.method=function(t){if("function"!=typeof t)throw new n.TypeError("expecting a function but got "+s.classString(t));return function(){var r=new n(i);r._r(),r.Yi();var e=o(t).apply(this,arguments),s=r.Zi();return u.checkForgottenReturns(e,s,"Promise.method",r),r.se(e),r}},n.attempt=n.try=function(t){if("function"!=typeof t)return e("expecting a function but got "+s.classString(t));var r,a=new n(i);if(a._r(),a.Yi(),arguments.length>1){u.deprecated("calling Promise.try with more than 1 argument");var c=arguments[1],h=arguments[2];r=s.isArray(c)?o(t).apply(h,c):o(t).call(h,c)}else r=o(t)();var f=a.Zi();return u.checkForgottenReturns(r,f,"Promise.try",a),a.se(r),a},n.prototype.se=function(t){t===s.errorObj?this.qr(t.e,!1):this._i(t,!0)}}},{"./util":36}],20:[function(t,n,i){var r=t("./util"),e=r.maybeWrapAsError,u=t("./errors"),s=u.OperationalError,o=t("./es5"),a=/^(?:name|message|stack|cause)$/;function c(t){var n;if(function(t){return t instanceof d&&o.getPrototypeOf(t)===d.prototype}(t)){(n=new s(t)).name=t.name,n.message=t.message,n.stack=t.stack;for(var i=o.keys(t),e=0;e<i.length;++e){var u=i[e];a.test(u)||(n[u]=t[u])}return n}return r.markAsOriginatingFromRejection(t),t}n.exports=function(t,n){return function(i,r){if(null!==t){if(i){var u=c(e(i));t.qi(u),t.vi(u)}else if(n){var s=[].slice.call(arguments,1);t.Ur(s)}else t.Ur(r);t=null}}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(t,n,i){n.exports=function(n){var i=t("./util"),r=n.bi,e=i.tryCatch,u=i.errorObj;function s(t,n){if(!i.isArray(t))return o.call(this,t,n);var s=e(n).apply(this.wi(),[null].concat(t));s===u&&r.throwLater(s.e)}function o(t,n){var i=this.wi(),s=void 0===t?e(n).call(i,null):e(n).call(i,null,t);s===u&&r.throwLater(s.e)}function a(t,n){if(!t){var i=new d(t+"");i.cause=t,t=i}var s=e(n).call(this.wi(),t);s===u&&r.throwLater(s.e)}n.prototype.asCallback=n.prototype.nodeify=function(t,n){if("function"==typeof t){var i=o;void 0!==n&&_(n).spread&&(i=s),this.di(i,a,void 0,this,t)}return this}}},{"./util":36}],22:[function(t,n,i){n.exports=function(){var i=function(){return new d("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},r=function(){return new N.PromiseInspection(this.yi())},e=function(t){return N.reject(new d(t))};function u(){}var s,o={},a=t("./util");s=a.isNode?function(){var t=process.domain;return void 0===t&&(t=null),t}:function(){return null},a.notEnumerableProp(N,"Ki",s);var c=t("./es5"),h=t("./async"),f=new h;c.defineProperty(N,"bi",{value:f});var v=t("./errors"),d=N.TypeError=v.TypeError;N.RangeError=v.RangeError;var l=N.CancellationError=v.CancellationError;N.TimeoutError=v.TimeoutError,N.OperationalError=v.OperationalError,N.RejectionError=v.OperationalError,N.AggregateError=v.AggregateError;var g=function(){},w={},y={},m=t("./thenables")(N,g),k=t("./promise_array")(N,g,m,e,u),p=t("./context")(N),A=p.create,b=t("./debuggability")(N,p),T=(b.CapturedTrace,t("./finally")(N,m,y)),E=t("./catch_filter")(y),S=t("./nodeback"),R=a.errorObj,I=a.tryCatch;function N(t){t!==g&&function(t,n){if(null==t||t.constructor!==N)throw new d("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof n)throw new d("expecting a function but got "+a.classString(n))}(this,t),this.li=0,this.oe=void 0,this.ae=void 0,this.ce=void 0,this.he=void 0,this.fe(t),this.Qi(),this.kr("promiseCreated",this)}function C(t){this.promise._i(t)}function D(t){this.promise.qr(t,!1)}function O(t){var n=new N(g);n.oe=t,n.ae=t,n.ce=t,n.he=t}return N.prototype.toString=function(){return"[object Promise]"},N.prototype.caught=N.prototype.catch=function(t){var n=arguments.length;if(n>1){var i,r=new Array(n-1),u=0;for(i=0;i<n-1;++i){var s=arguments[i];if(!a.isObject(s))return e("Catch statement predicate: expecting an object but got "+a.classString(s));r[u++]=s}if(r.length=u,"function"!=typeof(t=arguments[i]))throw new d("The last argument to .catch() must be a function, got "+a.toString(t));return this.then(void 0,E(r,t,this))}return this.then(void 0,t)},N.prototype.reflect=function(){return this.di(r,r,void 0,this,void 0)},N.prototype.then=function(t,n){if(b.warnings()&&arguments.length>0&&"function"!=typeof t&&"function"!=typeof n){var i=".then() only accepts functions but was passed: "+a.classString(t);arguments.length>1&&(i+=", "+a.classString(n)),this.Ti(i)}return this.di(t,n,void 0,void 0,void 0)},N.prototype.done=function(t,n){var i=this.di(t,n,void 0,void 0,void 0);i.ve()},N.prototype.spread=function(t){return"function"!=typeof t?e("expecting a function but got "+a.classString(t)):this.all().di(t,void 0,void 0,w,void 0)},N.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this.value(),t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this.reason(),t.isRejected=!0),t},N.prototype.all=function(){return arguments.length>0&&this.Ti(".all() was passed arguments but it does not take any"),new k(this).promise()},N.prototype.error=function(t){return this.caught(a.originatesFromRejection,t)},N.getNewLibraryCopy=n.exports,N.is=function(t){return t instanceof N},N.fromNode=N.fromCallback=function(t){var n=new N(g);n._r();var i=arguments.length>1&&!!_(arguments[1]).multiArgs,r=I(t)(S(n,i));return r===R&&n.qr(r.e,!0),n.de()||n._e(),n},N.all=function(t){return new k(t).promise()},N.cast=function(t){var n=m(t);return n instanceof N||((n=new N(g))._r(),n.we(),n.ae=t),n},N.resolve=N.fulfilled=N.cast,N.reject=N.rejected=function(t){var n=new N(g);return n._r(),n.qr(t,!0),n},N.setScheduler=function(t){if("function"!=typeof t)throw new d("expecting a function but got "+a.classString(t));return f.setScheduler(t)},N.prototype.di=function(t,n,i,r,e){var u=void 0!==e,o=u?e:new N(g),c=this.yi(),h=c.li;u||(o.gi(this,3),o._r(),void 0===r&&0!=(2097152&this.li)&&(r=0!=(50397184&h)?this.wi():c===this?void 0:this.pi),this.kr("promiseChained",this,o));var v=s();if(0!=(50397184&h)){var d,_,w=c.ye;0!=(33554432&h)?(_=c.ae,d=t):0!=(16777216&h)?(_=c.oe,d=n,c.dr()):(w=c.me,_=new l("late cancellation observer"),c.qi(_),d=n),f.invoke(w,c,{handler:null===v?d:"function"==typeof d&&a.domainBind(v,d),promise:o,receiver:r,value:_})}else c.ke(t,n,o,r,v);return o},N.prototype.Fi=function(){return 65535&this.li},N.prototype.de=function(){return 0!=(117506048&this.li)},N.prototype.Ri=function(){return 67108864==(67108864&this.li)},N.prototype.pe=function(t){this.li=-65536&this.li|65535&t},N.prototype.we=function(){this.li=33554432|this.li,this.kr("promiseFulfilled",this)},N.prototype.Ae=function(){this.li=16777216|this.li,this.kr("promiseRejected",this)},N.prototype.be=function(){this.li=67108864|this.li,this.kr("promiseResolved",this)},N.prototype.ve=function(){this.li=4194304|this.li},N.prototype.Te=function(){return(4194304&this.li)>0},N.prototype.Ee=function(){this.li=-65537&this.li},N.prototype.Mi=function(){this.li=65536|this.li,this.kr("promiseCancelled",this)},N.prototype.Di=function(){this.li=8388608|this.li},N.prototype._e=function(){f.hasCustomScheduler()||(this.li=134217728|this.li)},N.prototype.Se=function(t){var n=0===t?this.he:this[4*t-4+3];if(n!==o)return void 0===n&&this.Ai()?this.wi():n},N.prototype.Re=function(t){return this[4*t-4+2]},N.prototype.Ie=function(t){return this[4*t-4+0]},N.prototype.Ne=function(t){return this[4*t-4+1]},N.prototype.wi=function(){},N.prototype.Ce=function(t){t.li;var n=t.oe,i=t.ae,r=t.ce,e=t.Se(0);void 0===e&&(e=o),this.ke(n,i,r,e,null)},N.prototype.De=function(t,n){var i=t.Ie(n),r=t.Ne(n),e=t.Re(n),u=t.Se(n);void 0===u&&(u=o),this.ke(i,r,e,u,null)},N.prototype.ke=function(t,n,i,r,e){var u=this.Fi();if(u>=65531&&(u=0,this.pe(0)),0===u)this.ce=i,this.he=r,"function"==typeof t&&(this.oe=null===e?t:a.domainBind(e,t)),"function"==typeof n&&(this.ae=null===e?n:a.domainBind(e,n));else{var s=4*u-4;this[s+2]=i,this[s+3]=r,"function"==typeof t&&(this[s+0]=null===e?t:a.domainBind(e,t)),"function"==typeof n&&(this[s+1]=null===e?n:a.domainBind(e,n))}return this.pe(u+1),u},N.prototype.zr=function(t,n){this.ke(void 0,void 0,n,t,null)},N.prototype._i=function(t,n){if(0==(117506048&this.li)){if(t===this)return this.qr(i(),!1);var r=m(t,this);if(!(r instanceof N))return this.Ur(t);n&&this.gi(r,2);var e=r.yi();if(e!==this){var u=e.li;if(0==(50397184&u)){var s=this.Fi();s>0&&e.Ce(this);for(var o=1;o<s;++o)e.De(this,o);this.be(),this.pe(0),this.Oe(e)}else if(0!=(33554432&u))this.Ur(e.Gr());else if(0!=(16777216&u))this.vi(e.jr());else{var a=new l("late cancellation observer");e.qi(a),this.vi(a)}}else this.vi(i())}},N.prototype.qr=function(t,n,i){var r=a.ensureErrorObject(t),e=r===t;if(!e&&!i&&b.warnings()){var u="a promise was rejected with a non-error: "+a.classString(t);this.Ti(u,!0)}this.qi(r,!!n&&e),this.vi(t)},N.prototype.fe=function(t){if(t!==g){var n=this;this._r(),this.Yi();var i=!0,r=this.mr(t,function(t){n._i(t)},function(t){n.qr(t,i)});i=!1,this.Zi(),void 0!==r&&n.qr(r,!0)}},N.prototype.xe=function(t,n,i,r){var e=r.li;if(0==(65536&e)){var u;r.Yi(),n===w?i&&"number"==typeof i.length?u=I(t).apply(this.wi(),i):(u=R).e=new d("cannot .spread() a non-array: "+a.classString(i)):u=I(t).call(n,i);var s=r.Zi();0==(65536&(e=r.li))&&(u===y?r.vi(i):u===R?r.qr(u.e,!1):(b.checkForgottenReturns(u,s,"",r,this),r._i(u)))}},N.prototype.yi=function(){for(var t=this;t.Ri();)t=t.Ii();return t},N.prototype.Ii=function(){return this.ae},N.prototype.Oe=function(t){this.ae=t},N.prototype.Pe=function(t,n,i,e){var s=t instanceof N,o=this.li,a=0!=(134217728&o);0!=(65536&o)?(s&&t.Gi(),i instanceof T&&i.isFinallyHandler()?(i.cancelPromise=t,I(n).call(i,e)===R&&t.vi(R.e)):n===r?t.Ur(r.call(i)):i instanceof u?i.Fr(t):s||t instanceof k?t.Li():i.cancel()):"function"==typeof n?s?(a&&t._e(),this.xe(n,i,e,t)):n.call(i,e,t):i instanceof u?i.Lr()||(0!=(33554432&o)?i.Vr(e,t):i.Xr(e,t)):s&&(a&&t._e(),0!=(33554432&o)?t.Ur(e):t.vi(e))},N.prototype.me=function(t){var n=t.handler,i=t.promise,r=t.receiver,e=t.value;"function"==typeof n?i instanceof N?this.xe(n,r,e,i):n.call(r,e,i):i instanceof N&&i.vi(e)},N.prototype.ye=function(t){this.Pe(t.promise,t.handler,t.receiver,t.value)},N.prototype.Be=function(t,n,i){var r=this.ce,e=this.Se(0);this.ce=void 0,this.he=void 0,this.Pe(r,t,e,n)},N.prototype.Le=function(t){var n=4*t-4;this[n+2]=this[n+3]=this[n+0]=this[n+1]=void 0},N.prototype.Ur=function(t){var n=this.li;if(!((117506048&n)>>>16)){if(t===this){var r=i();return this.qi(r),this.vi(r)}this.we(),this.ae=t,(65535&n)>0&&(0!=(134217728&n)?this.hi():f.settlePromises(this),this.gr())}},N.prototype.vi=function(t){var n=this.li;if(!((117506048&n)>>>16)){if(this.Ae(),this.oe=t,this.Te())return f.fatalError(t,a.isNode);(65535&n)>0?f.settlePromises(this):this.$i()}},N.prototype.Me=function(t,n){for(var i=1;i<t;i++){var r=this.Ie(i),e=this.Re(i),u=this.Se(i);this.Le(i),this.Pe(e,r,u,n)}},N.prototype.Ue=function(t,n){for(var i=1;i<t;i++){var r=this.Ne(i),e=this.Re(i),u=this.Se(i);this.Le(i),this.Pe(e,r,u,n)}},N.prototype.hi=function(){var t=this.li,n=65535&t;if(n>0){if(0!=(16842752&t)){var i=this.oe;this.Be(this.ae,i,t),this.Ue(n,i)}else{var r=this.ae;this.Be(this.oe,r,t),this.Me(n,r)}this.pe(0)}this.yr()},N.prototype.sr=function(){var t=this.li;return 0!=(33554432&t)?this.ae:0!=(16777216&t)?this.oe:void 0},"undefined"!=typeof Symbol&&Symbol.toStringTag&&c.defineProperty(N.prototype,Symbol.toStringTag,{get:function(){return"Object"}}),N.defer=N.pending=function(){b.deprecated("Promise.defer","new Promise");var t=new N(g);return{promise:t,resolve:C,reject:D}},a.notEnumerableProp(N,"Fe",i),t("./method")(N,g,m,e,b),t("./bind")(N,g,m,b),t("./cancel")(N,k,e,b),t("./direct_resolve")(N),t("./synchronous_inspection")(N),t("./join")(N,k,m,g,f,s),N.Promise=N,N.version="3.5.5",t("./call_get.js")(N),t("./generators.js")(N,e,g,m,u,b),t("./map.js")(N,k,e,m,g,b),t("./nodeify.js")(N),t("./promisify.js")(N,g),t("./props.js")(N,k,m,e),t("./race.js")(N,g,m,e),t("./reduce.js")(N,k,e,m,g,b),t("./settle.js")(N,k,b),t("./some.js")(N,k,e),t("./timers.js")(N,g,b),t("./using.js")(N,e,m,A,g,b),t("./any.js")(N),t("./each.js")(N,g),t("./filter.js")(N,g),a.toFastProperties(N),a.toFastProperties(N.prototype),O({a:1}),O({b:2}),O({c:3}),O(1),O(function(){}),O(void 0),O(!1),O(new N(g)),b.setBounds(h.firstLineError,a.lastLineError),N}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(t,n,i){n.exports=function(n,i,r,e,u){var s=t("./util");function o(t){var r=this.Ir=new n(i);t instanceof n&&r.gi(t,3),r.ki(this),this.te=t,this.Fi=0,this.re=0,this._init(void 0,-2)}return s.isArray,s.inherits(o,u),o.prototype.length=function(){return this.Fi},o.prototype.promise=function(){return this.Ir},o.prototype._init=function t(i,u){var o=r(this.te,this.Ir);if(o instanceof n){var a=(o=o.yi()).li;if(this.te=o,0==(50397184&a))return this.Ir._e(),o.di(t,this.vi,void 0,this,u);if(0==(33554432&a))return 0!=(16777216&a)?this.vi(o.jr()):this.Li();o=o.Gr()}if(null!==(o=s.asArray(o)))0!==o.length?this.He(o):-5===u?this.Ve():this.ue(function(t){switch(t){case-2:return[];case-3:return{};case-6:return new Map}}(u));else{var c=e("expecting an array or an iterable object but got "+s.classString(o)).reason();this.Ir.qr(c,!1)}},o.prototype.He=function(t){var i=this.getActualLength(t.length);this.Fi=i,this.te=this.shouldCopyValues()?new Array(i):this.te;for(var e=this.Ir,u=!1,s=null,o=0;o<i;++o){var a=r(t[o],e);a instanceof n?(a=a.yi(),s=a.li):s=null,u?null!==s&&a.suppressUnhandledRejections():null!==s?0==(50397184&s)?(a.zr(this,o),this.te[o]=a):u=0!=(33554432&s)?this.Vr(a.Gr(),o):0!=(16777216&s)?this.Xr(a.jr(),o):this.Fr(o):u=this.Vr(a,o)}u||e._e()},o.prototype.Lr=function(){return null===this.te},o.prototype.ue=function(t){this.te=null,this.Ir.Ur(t)},o.prototype.Li=function(){!this.Lr()&&this.Ir.Ei()&&(this.te=null,this.Ir.Li())},o.prototype.vi=function(t){this.te=null,this.Ir.qr(t,!1)},o.prototype.Vr=function(t,n){this.te[n]=t;var i=++this.re;return i>=this.Fi&&(this.ue(this.te),!0)},o.prototype.Fr=function(){return this.Li(),!0},o.prototype.Xr=function(t){return this.re++,this.vi(t),!0},o.prototype._resultCancelled=function(){if(!this.Lr()){var t=this.te;if(this.Li(),t instanceof n)t.cancel();else for(var i=0;i<t.length;++i)t[i]instanceof n&&t[i].cancel()}},o.prototype.shouldCopyValues=function(){return!0},o.prototype.getActualLength=function(t){return t},o}},{"./util":36}],24:[function(t,n,i){n.exports=function(n,i){var r={},e=t("./util"),u=t("./nodeback"),s=e.withAppended,o=e.maybeWrapAsError,a=e.canEvaluate,c=t("./errors").TypeError,h={Xe:!0},f=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","Xe"].join("|")+")$"),v=function(t){return e.isIdentifier(t)&&"_"!==t.charAt(0)&&"constructor"!==t};function d(t){return!f.test(t)}function l(t){try{return!0===t.Xe}catch(t){return!1}}function g(t,n,i){var r=e.getDataPropertyOrDefault(t,n+i,h);return!!r&&l(r)}function w(t,n,i,r){for(var u=e.inheritedDataKeys(t),s=[],o=0;o<u.length;++o){var a=u[o],h=t[a],f=r===v||v(a);"function"!=typeof h||l(h)||g(t,a,n)||!r(a,h,t,f)||s.push(a,h)}return function(t,n,i){for(var r=0;r<t.length;r+=2){var e=t[r];if(i.test(e))for(var u=e.replace(i,""),s=0;s<t.length;s+=2)if(t[s]===u)throw new c("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",n))}}(s,n,i),s}var y=function(t){return t.replace(/([$])/,"\\$")},m=a?void 0:function(t,a,c,h,f,v){var d=function(){return this}(),l=t;function _(){var e=a;a===r&&(e=this);var c=new n(i);c._r();var h="string"==typeof l&&this!==d?this[l]:t,f=u(c,v);try{h.apply(e,s(arguments,f))}catch(t){c.qr(o(t),!0,!0)}return c.de()||c._e(),c}return"string"==typeof l&&(t=h),e.notEnumerableProp(_,"Xe",!0),_};function k(t,n,i,u,s){for(var o=new RegExp(y(n)+"$"),a=w(t,n,o,i),c=0,h=a.length;c<h;c+=2){var f=a[c],v=a[c+1],d=f+n;if(u===m)t[d]=m(f,r,f,v,n,s);else{var l=u(v,function(){return m(f,r,f,v,n,s)});e.notEnumerableProp(l,"Xe",!0),t[d]=l}}return e.toFastProperties(t),t}n.promisify=function(t,n){if("function"!=typeof t)throw new c("expecting a function but got "+e.classString(t));if(l(t))return t;var i=void 0===(n=_(n)).context?r:n.context,u=!!n.multiArgs,s=function(t,n,i){return m(t,n,void 0,t,null,i)}(t,i,u);return e.copyDescriptors(t,s,d),s},n.promisifyAll=function(t,n){if("function"!=typeof t&&"object"!=typeof t)throw new c("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");var i=!!(n=_(n)).multiArgs,r=n.suffix;"string"!=typeof r&&(r="Async");var u=n.filter;"function"!=typeof u&&(u=v);var s=n.promisifier;if("function"!=typeof s&&(s=m),!e.isIdentifier(r))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var o=e.inheritedDataKeys(t),a=0;a<o.length;++a){var h=t[o[a]];"constructor"!==o[a]&&e.isClass(h)&&(k(h.prototype,r,u,s,i),k(h,r,u,s,i))}return k(t,r,u,s,i)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(t,n,i){n.exports=function(n,i,r,e){var u,s=t("./util"),o=s.isObject,a=t("./es5");"function"==typeof Map&&(u=Map);var c=function(){var t=0,n=0;function i(i,r){this[t]=i,this[t+n]=r,t++}return function(r){n=r.size,t=0;var e=new Array(2*r.size);return r.forEach(i,e),e}}();function h(t){var n,i=!1;if(void 0!==u&&t instanceof u)n=c(t),i=!0;else{var r=a.keys(t),e=r.length;n=new Array(2*e);for(var s=0;s<e;++s){var o=r[s];n[s]=t[o],n[s+e]=o}}this.constructor$(n),this.We=i,this._init$(void 0,i?-6:-3)}function f(t){var i,u=r(t);return o(u)?(i=u instanceof n?u.di(n.props,void 0,void 0,void 0,void 0):new h(u).promise(),u instanceof n&&i.gi(u,2),i):e("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}s.inherits(h,i),h.prototype._init=function(){},h.prototype.Vr=function(t,n){this.te[n]=t;var i=++this.re;if(i>=this.Fi){var r;if(this.We)r=function(t){for(var n=new u,i=t.length/2|0,r=0;r<i;++r){var e=t[i+r],s=t[r];n.set(e,s)}return n}(this.te);else{r={};for(var e=this.length(),s=0,o=this.length();s<o;++s)r[this.te[s+e]]=this.te[s]}return this.ue(r),!0}return!1},h.prototype.shouldCopyValues=function(){return!1},h.prototype.getActualLength=function(t){return t>>1},n.prototype.props=function(){return f(this)},n.props=function(t){return f(t)}}},{"./es5":13,"./util":36}],26:[function(t,n,i){function r(t){this.qe=t,this.Fi=0,this.ze=0}r.prototype.Ge=function(t){return this.qe<t},r.prototype.ci=function(t){var n=this.length();this.je(n+1);var i=this.ze+n&this.qe-1;this[i]=t,this.Fi=n+1},r.prototype.push=function(t,n,i){var r=this.length()+3;if(this.Ge(r))return this.ci(t),this.ci(n),void this.ci(i);var e=this.ze+r-3;this.je(r);var u=this.qe-1;this[e+0&u]=t,this[e+1&u]=n,this[e+2&u]=i,this.Fi=r},r.prototype.shift=function(){var t=this.ze,n=this[t];return this[t]=void 0,this.ze=t+1&this.qe-1,this.Fi--,n},r.prototype.length=function(){return this.Fi},r.prototype.je=function(t){this.qe<t&&this.Qe(this.qe<<1)},r.prototype.Qe=function(t){var n=this.qe;this.qe=t;var i=this.ze,r=this.Fi,e=i+r&n-1;!function(t,n,i,r,e){for(var u=0;u<e;++u)i[u+r]=t[u+n],t[u+n]=void 0}(this,0,this,n,e)},n.exports=r},{}],27:[function(t,n,i){n.exports=function(n,i,r,e){var u=t("./util"),s=function(t){return t.then(function(n){return o(n,t)})};function o(t,o){var a=r(t);if(a instanceof n)return s(a);if(null===(t=u.asArray(t)))return e("expecting an array or an iterable object but got "+u.classString(t));var c=new n(i);void 0!==o&&c.gi(o,3);for(var h=c.Ur,f=c.vi,v=0,d=t.length;v<d;++v){var l=t[v];(void 0!==l||v in t)&&n.cast(l).di(h,f,void 0,c,null)}return c}n.race=function(t){return o(t,void 0)},n.prototype.race=function(){return o(this,void 0)}}},{"./util":36}],28:[function(t,n,i){n.exports=function(n,i,r,e,u,s){var o=n.Ki,a=t("./util"),c=a.tryCatch;function h(t,i,r,e){this.constructor$(t);var s=o();this.Ye=null===s?i:a.domainBind(s,i),void 0!==r&&(r=n.resolve(r)).wr(this),this.Ze=r,this.Je=null,this.Ke=e===u?Array(this.Fi):0===e?null:void 0,this.Ir._r(),this._init$(void 0,-5)}function f(t,n){this.isFulfilled()?n.ue(t):n.vi(t)}function v(t,n,i,e){if("function"!=typeof n)return r("expecting a function but got "+a.classString(n));var u=new h(t,n,i,e);return u.promise()}function d(t){this.accum=t,this.array.$e(t);var i=e(this.value,this.array.Ir);return i instanceof n?(this.array.Je=i,i.di(l,void 0,void 0,this,void 0)):l.call(this,i)}function l(t){var i,r=this.array,e=r.Ir,u=c(r.Ye);e.Yi(),(i=void 0!==r.Ke?u.call(e.wi(),t,this.index,this.length):u.call(e.wi(),this.accum,t,this.index,this.length))instanceof n&&(r.Je=i);var o=e.Zi();return s.checkForgottenReturns(i,o,void 0!==r.Ke?"Promise.each":"Promise.reduce",e),i}a.inherits(h,i),h.prototype.$e=function(t){void 0!==this.Ke&&null!==this.Ke&&t!==u&&this.Ke.push(t)},h.prototype.tu=function(t){return null!==this.Ke&&this.Ke.push(t),this.Ke},h.prototype._init=function(){},h.prototype.Ve=function(){this.ue(void 0!==this.Ke?this.Ke:this.Ze)},h.prototype.shouldCopyValues=function(){return!1},h.prototype.ue=function(t){this.Ir._i(t),this.te=null},h.prototype._resultCancelled=function(t){if(t===this.Ze)return this.Li();this.Lr()||(this._resultCancelled$(),this.Je instanceof n&&this.Je.cancel(),this.Ze instanceof n&&this.Ze.cancel())},h.prototype.He=function(t){var i,r;this.te=t;var e=t.length;if(void 0!==this.Ze?(i=this.Ze,r=0):(i=n.resolve(t[0]),r=1),this.Je=i,!i.isRejected())for(;r<e;++r){var u={accum:null,value:t[r],index:r,length:e,array:this};i=i.di(d,void 0,void 0,u,void 0)}void 0!==this.Ke&&(i=i.di(this.tu,void 0,void 0,this,void 0)),i.di(f,f,void 0,i,this)},n.prototype.reduce=function(t,n){return v(this,t,n,null)},n.reduce=function(t,n,i,r){return v(t,n,i,r)}}},{"./util":36}],29:[function(t,n,i){var r,e,o,a,h,f=t("./util"),v=f.getNativePromise();if(f.isNode&&"undefined"==typeof MutationObserver){var l=Rt.setImmediate,_=process.nextTick;r=f.isRecentNode?function(t){l.call(Rt,t)}:function(t){_.call(process,t)}}else if("function"==typeof v&&"function"==typeof v.resolve){var g=v.resolve();r=function(t){g.then(t)}}else r="undefined"!=typeof MutationObserver&&(void 0===u||!u.navigator||!u.navigator.standalone&&!u.cordova)&&"classList"in s.documentElement?(e=s.createElement("div"),o={attributes:!0},a=!1,h=s.createElement("div"),new MutationObserver(function(){e.classList.toggle("foo"),a=!1}).observe(h,o),function(t){var n=new MutationObserver(function(){n.disconnect(),t()});n.observe(e,o),a||(a=!0,h.classList.toggle("foo"))}):"undefined"!=typeof setImmediate?function(t){setImmediate(t)}:void 0!==c?function(t){c(t,0)}:function(){throw new d("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")};n.exports=r},{"./util":36}],30:[function(t,n,i){n.exports=function(n,i,r){var e=n.PromiseInspection,u=t("./util");function s(t){this.constructor$(t)}u.inherits(s,i),s.prototype.nu=function(t,n){this.te[t]=n;var i=++this.re;return i>=this.Fi&&(this.ue(this.te),!0)},s.prototype.Vr=function(t,n){var i=new e;return i.li=33554432,i.iu=t,this.nu(n,i)},s.prototype.Xr=function(t,n){var i=new e;return i.li=16777216,i.iu=t,this.nu(n,i)},n.settle=function(t){return r.deprecated(".settle()",".reflect()"),new s(t).promise()},n.prototype.settle=function(){return n.settle(this)}}},{"./util":36}],31:[function(t,n,i){n.exports=function(n,i,r){var e=t("./util"),u=t("./errors").RangeError,s=t("./errors").AggregateError,o=e.isArray,a={};function c(t){this.constructor$(t),this.ru=0,this.eu=!1,this.uu=!1}function h(t,n){if((0|n)!==n||n<0)return r("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var i=new c(t),e=i.promise();return i.setHowMany(n),i.init(),e}e.inherits(c,i),c.prototype._init=function(){if(this.uu)if(0!==this.ru){this._init$(void 0,-5);var t=o(this.te);!this.Lr()&&t&&this.ru>this.su()&&this.vi(this.ou(this.length()))}else this.ue([])},c.prototype.init=function(){this.uu=!0,this._init()},c.prototype.setUnwrap=function(){this.eu=!0},c.prototype.howMany=function(){return this.ru},c.prototype.setHowMany=function(t){this.ru=t},c.prototype.Vr=function(t){return this.au(t),this.cu()===this.howMany()&&(this.te.length=this.howMany(),1===this.howMany()&&this.eu?this.ue(this.te[0]):this.ue(this.te),!0)},c.prototype.Xr=function(t){return this.hu(t),this.fu()},c.prototype.Fr=function(){return this.te instanceof n||null==this.te?this.Li():(this.hu(a),this.fu())},c.prototype.fu=function(){if(this.howMany()>this.su()){for(var t=new s,n=this.length();n<this.te.length;++n)this.te[n]!==a&&t.push(this.te[n]);return t.length>0?this.vi(t):this.Li(),!0}return!1},c.prototype.cu=function(){return this.re},c.prototype.vu=function(){return this.te.length-this.length()},c.prototype.hu=function(t){this.te.push(t)},c.prototype.au=function(t){this.te[this.re++]=t},c.prototype.su=function(){return this.length()-this.vu()},c.prototype.ou=function(t){var n="Input array must contain at least "+this.ru+" items but contains only "+t+" items";return new u(n)},c.prototype.Ve=function(){this.vi(this.ou(0))},n.some=function(t,n){return h(t,n)},n.prototype.some=function(t){return h(this,t)},n.$n=c}},{"./errors":12,"./util":36}],32:[function(t,n,i){n.exports=function(t){function n(t){void 0!==t?(t=t.yi(),this.li=t.li,this.iu=t.de()?t.sr():void 0):(this.li=0,this.iu=void 0)}n.prototype.sr=function(){return this.iu};var i=n.prototype.value=function(){if(!this.isFulfilled())throw new l("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this.sr()},r=n.prototype.error=n.prototype.reason=function(){if(!this.isRejected())throw new l("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this.sr()},e=n.prototype.isFulfilled=function(){return 0!=(33554432&this.li)},u=n.prototype.isRejected=function(){return 0!=(16777216&this.li)},s=n.prototype.isPending=function(){return 0==(50397184&this.li)},o=n.prototype.isResolved=function(){return 0!=(50331648&this.li)};n.prototype.isCancelled=function(){return 0!=(8454144&this.li)},t.prototype.du=function(){return 65536==(65536&this.li)},t.prototype.Xi=function(){return this.yi().du()},t.prototype.isCancelled=function(){return 0!=(8454144&this.yi().li)},t.prototype.isPending=function(){return s.call(this.yi())},t.prototype.isRejected=function(){return u.call(this.yi())},t.prototype.isFulfilled=function(){return e.call(this.yi())},t.prototype.isResolved=function(){return o.call(this.yi())},t.prototype.value=function(){return i.call(this.yi())},t.prototype.reason=function(){var t=this.yi();return t.dr(),r.call(t)},t.prototype.Gr=function(){return this.sr()},t.prototype.jr=function(){return this.dr(),this.sr()},t.PromiseInspection=n}},{}],33:[function(t,n,i){n.exports=function(n,i){var r=t("./util"),e=r.errorObj,u=r.isObject,s={}.hasOwnProperty;return function(t,o){if(u(t)){if(t instanceof n)return t;var a=function(t){try{return function(t){return t.then}(t)}catch(t){return e.e=t,e}}(t);if(a===e){o&&o.Yi();var c=n.reject(a.e);return o&&o.Zi(),c}if("function"==typeof a){if(function(t){try{return s.call(t,"ce")}catch(t){return!1}}(t)){var c=new n(i);return t.di(c.Ur,c.vi,void 0,c,null),c}return function(t,u,s){var o=new n(i),a=o;s&&s.Yi(),o._r(),s&&s.Zi();var c=!0,h=r.tryCatch(u).call(t,function(t){o&&(o._i(t),o=null)},function(t){o&&(o.qr(t,c,!0),o=null)});return c=!1,o&&h===e&&(o.qr(h.e,!0,!0),o=null),a}(t,a,o)}}return t}}},{"./util":36}],34:[function(t,n,i){n.exports=function(n,i,r){var e=t("./util"),u=n.TimeoutError;function s(t){this.handle=t}s.prototype._resultCancelled=function(){h(this.handle)};var o=function(t){return a(+this).thenReturn(t)},a=n.delay=function(t,e){var u,a;return void 0!==e?(u=n.resolve(e).di(o,null,null,t,void 0),r.cancellation()&&e instanceof n&&u.ki(e)):(u=new n(i),a=c(function(){u.Ur()},+t),r.cancellation()&&u.ki(new s(a)),u._r()),u._e(),u};function f(t){return h(this.handle),t}function v(t){throw h(this.handle),t}n.prototype.delay=function(t){return a(t,this)},n.prototype.timeout=function(t,n){var i,o,a=new s(c(function(){i.isPending()&&function(t,n,i){var r;r="string"!=typeof n?n instanceof d?n:new u("operation timed out"):new u(n),e.markAsOriginatingFromRejection(r),t.qi(r),t.vi(r),null!=i&&i.cancel()}(i,n,o)},t=+t));return r.cancellation()?(o=this.then(),(i=o.di(f,v,void 0,a,void 0)).ki(a)):i=this.di(f,v,void 0,a,void 0),i}}},{"./util":36}],35:[function(t,n,i){n.exports=function(n,i,r,e,u,s){var o=t("./util"),a=t("./errors").TypeError,h=t("./util").inherits,f=o.errorObj,v=o.tryCatch,d={};function l(t){c(function(){throw t},0)}function _(t,i){var e=0,s=t.length,o=new n(u);return function u(){if(e>=s)return o.Ur();var a=function(t){var n=r(t);return n!==t&&"function"==typeof t.lu&&"function"==typeof t._u&&t.lu()&&n.gu(t._u()),n}(t[e++]);if(a instanceof n&&a.lu()){try{a=r(a._u().tryDispose(i),t.promise)}catch(t){return l(t)}if(a instanceof n)return a.di(u,l,null,null,null)}u()}(),o}function g(t,n,i){this.wu=t,this.Ir=n,this.yu=i}function w(t,n,i){this.constructor$(t,n,i)}function y(t){return g.isDisposer(t)?(this.resources[this.index].gu(t),t.promise()):t}function m(t){this.length=t,this.promise=null,this[t-1]=null}g.prototype.data=function(){return this.wu},g.prototype.promise=function(){return this.Ir},g.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():d},g.prototype.tryDispose=function(t){var n=this.resource(),i=this.yu;void 0!==i&&i.Yi();var r=n!==d?this.doDispose(n,t):null;return void 0!==i&&i.Zi(),this.Ir.mu(),this.wu=null,r},g.isDisposer=function(t){return null!=t&&"function"==typeof t.resource&&"function"==typeof t.tryDispose},h(w,g),w.prototype.doDispose=function(t,n){var i=this.data();return i.call(t,t,n)},m.prototype._resultCancelled=function(){for(var t=this.length,i=0;i<t;++i){var r=this[i];r instanceof n&&r.cancel()}},n.using=function(){var t=arguments.length;if(t<2)return i("you must pass at least 2 arguments to Promise.using");var e,u=arguments[t-1];if("function"!=typeof u)return i("expecting a function but got "+o.classString(u));var a=!0;2===t&&Array.isArray(arguments[0])?(e=arguments[0],t=e.length,a=!1):(e=arguments,t--);for(var c=new m(t),h=0;h<t;++h){var d=e[h];if(g.isDisposer(d)){var l=d;(d=d.promise()).gu(l)}else{var w=r(d);w instanceof n&&(d=w.di(y,null,null,{resources:c,index:h},void 0))}c[h]=d}for(var k=new Array(c.length),h=0;h<k.length;++h)k[h]=n.resolve(c[h]).reflect();var p=n.all(k).then(function(t){for(var n=0;n<t.length;++n){var i=t[n];if(i.isRejected())return f.e=i.error(),f;if(!i.isFulfilled())return void p.cancel();t[n]=i.value()}A.Yi(),u=v(u);var r=a?u.apply(void 0,t):u(t),e=A.Zi();return s.checkForgottenReturns(r,e,"Promise.using",A),r}),A=p.lastly(function(){var t=new n.PromiseInspection(p);return _(c,t)});return c.promise=A,A.ki(c),A},n.prototype.gu=function(t){this.li=131072|this.li,this.ku=t},n.prototype.lu=function(){return(131072&this.li)>0},n.prototype._u=function(){return this.ku},n.prototype.mu=function(){this.li=-131073&this.li,this.ku=void 0},n.prototype.disposer=function(t){if("function"==typeof t)return new w(t,this,e());throw new a}}},{"./errors":12,"./util":36}],36:[function(n,i,r){var e,s=n("./es5"),o=void 0===a,c={e:{}},h=void 0!==t?t:void 0!==u?u:void 0!==Rt?Rt:void 0!==this?this:null;function f(){try{var t=e;return e=null,t.apply(this,arguments)}catch(t){return c.e=t,c}}function v(t){return null==t||!0===t||!1===t||"string"==typeof t||"number"==typeof t}function l(t,n,i){if(v(t))return t;var r={value:i,configurable:!0,enumerable:!1,writable:!0};return s.defineProperty(t,n,r),t}var g=function(){var t=[Array.prototype,_.prototype,Function.prototype],n=function(n){for(var i=0;i<t.length;++i)if(t[i]===n)return!0;return!1};if(s.isES5){var i=_.getOwnPropertyNames;return function(t){for(var r=[],e=_.create(null);null!=t&&!n(t);){var u;try{u=i(t)}catch(t){return r}for(var o=0;o<u.length;++o){var a=u[o];if(!e[a]){e[a]=!0;var c=_.getOwnPropertyDescriptor(t,a);null!=c&&null==c.get&&null==c.set&&r.push(a)}}t=s.getPrototypeOf(t)}return r}}var r={}.hasOwnProperty;return function(i){if(n(i))return[];var e=[];t:for(var u in i)if(r.call(i,u))e.push(u);else{for(var s=0;s<t.length;++s)if(r.call(t[s],u))continue t;e.push(u)}return e}}(),w=/this\s*\.\s*\S+\s*=/,y=/^[a-z$_][a-z$_0-9]*$/i;function m(t){try{return t+""}catch(t){return"[no string representation]"}}function k(t){return t instanceof d||null!==t&&"object"==typeof t&&"string"==typeof t.message&&"string"==typeof t.name}function p(t){return k(t)&&s.propertyIsWritable(t,"stack")}var A="stack"in new d?function(t){return p(t)?t:new d(m(t))}:function(t){if(p(t))return t;try{throw new d(m(t))}catch(t){return t}};function b(t){return{}.toString.call(t)}var T=function(t){return s.isArray(t)?t:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var E="function"==typeof Array.from?function(t){return Array.from(t)}:function(t){for(var n,i=[],r=t[Symbol.iterator]();!(n=r.next()).done;)i.push(n.value);return i};T=function(t){return s.isArray(t)?t:null!=t&&"function"==typeof t[Symbol.iterator]?E(t):null}}var S,R="undefined"!=typeof process&&"[object process]"===b(process).toLowerCase(),I="undefined"!=typeof process&&void 0!==process.env,N={isClass:function(t){try{if("function"==typeof t){var n=s.names(t.prototype),i=s.isES5&&n.length>1,r=n.length>0&&!(1===n.length&&"constructor"===n[0]),e=w.test(t+"")&&s.names(t).length>0;if(i||r||e)return!0}return!1}catch(t){return!1}},isIdentifier:function(t){return y.test(t)},inheritedDataKeys:g,getDataPropertyOrDefault:function(t,n,i){if(!s.isES5)return{}.hasOwnProperty.call(t,n)?t[n]:void 0;var r=_.getOwnPropertyDescriptor(t,n);return null!=r?null==r.get&&null==r.set?r.value:i:void 0},thrower:function(t){throw t},isArray:s.isArray,asArray:T,notEnumerableProp:l,isPrimitive:v,isObject:function(t){return"function"==typeof t||"object"==typeof t&&null!==t},isError:k,canEvaluate:o,errorObj:c,tryCatch:function(t){return e=t,f},inherits:function(t,n){var i={}.hasOwnProperty;function r(){for(var r in this.constructor=t,this.constructor$=n,n.prototype)i.call(n.prototype,r)&&"$"!==r.charAt(r.length-1)&&(this[r+"$"]=n.prototype[r])}return r.prototype=n.prototype,t.prototype=new r,t.prototype},withAppended:function(t,n){var i,r=t.length,e=new Array(r+1);for(i=0;i<r;++i)e[i]=t[i];return e[i]=n,e},maybeWrapAsError:function(t){return v(t)?new d(m(t)):t},toFastProperties:function(t){return t},filledRange:function(t,n,i){for(var r=new Array(t),e=0;e<t;++e)r[e]=n+e+i;return r},toString:m,canAttachTrace:p,ensureErrorObject:A,originatesFromRejection:function(t){return null!=t&&(t instanceof d.Er.OperationalError||!0===t.isOperational)},markAsOriginatingFromRejection:function(t){try{l(t,"isOperational",!0)}catch(t){}},classString:b,copyDescriptors:function(t,n,i){for(var r=s.names(t),e=0;e<r.length;++e){var u=r[e];if(i(u))try{s.defineProperty(n,u,s.getDescriptor(t,u))}catch(t){}}},hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:R,hasEnvVariables:I,env:function(t){return I?process.env[t]:void 0},global:h,getNativePromise:function(){if("function"==typeof Promise)try{var t=new Promise(function(){});if("[object Promise]"==={}.toString.call(t))return Promise}catch(t){}},domainBind:function(t,n){return t.bind(n)}};N.isRecentNode=N.isNode&&(process.versions&&process.versions.node?S=process.versions.node.split(".").map(Number):process.version&&(S=process.version.split(".").map(Number)),0===S[0]&&S[1]>10||S[0]>0),N.isNode&&N.toFastProperties(process);try{throw new d}catch(t){N.lastLineError=t}i.exports=N},{"./es5":13}]},{},[4])(4),null!=u?u.P=u.Promise:null!=t&&(t.P=t.Promise)});function Dt(){return(Dt=_.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var r in i)_.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}).apply(this,arguments)}function Ot(){var t=_.create(null);return t.pu=void 0,delete t.pu,t}function xt(){return new Mt}function Pt(t){var n=xt();for(var i in t)B.call(t,i)&&n.set(i,t[i]);return n}var Bt,Lt="undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0,Mt=Lt||(Bt=function(){function t(t,n){this.index=0,this.data=t,this.selector=n,this.keys=_.keys(t)}var n=t.prototype;return n.next=function(){var t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}},t}(),function(){function t(){this.data=Ot(),this.size=0}var n=t.prototype;return n.get=function(t){return this.data[t]},n.set=function(t,n){return this.has(t)||this.size++,this.data[t]=n,this},n.has=function(t){return t in this.data},n.delete=function(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)},n.clear=function(){this.data=Ot(),this.size=0},n.keys=function(){return new Bt(this.data,function(t,n){return n})},n.values=function(){return new Bt(this.data,function(t,n){return t[n]})},n.entries=function(){return new Bt(this.data,function(t,n){return[n,t[n]]})},n.forEach=function(t){for(var n in this.data)t(this.data[n],n)},t}());var Ut,Ft,Ht,Vt,Xt,Wt,qt,zt=Lt||(Ut=function(){function t(t,n){this.Au=t,this.bu=n}var n=t.prototype;return n.next=function(){var t=this.Au.next();return t.done?t:{value:this.bu(t.value),done:!1}},t}(),function(){function t(){this.Tu=xt()}var n=t.prototype;return n.get=function(t){return this.Tu.get(""+t)},n.set=function(t,n){return this.Tu.set(""+t,n),this},n.has=function(t){return this.Tu.has(""+t)},n.delete=function(t){return this.Tu.delete(""+t)},n.clear=function(){this.Tu.clear()},n.keys=function(){return new Ut(this.Tu.keys(),function(t){return Number(t)})},n.values=function(){return this.Tu.values()},n.entries=function(){return new Ut(this.Tu.entries(),function(t){var n=t[0],i=t[1];return[Number(n),i]})},n.forEach=function(t){this.Tu.forEach(function(n,i){t(n,Number(i))})},T(t,[{key:"size",get:function(){return this.Tu.size}}]),t}());var Gt,jt="urn:mpeg:dash:mp4protection:2011",Qt="cenc",Yt="sinf",Zt="skd",Jt="urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95",Kt="com.microsoft.playready",$t="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",tn="urn:uuid:"+$t,nn="94ce86fb-07ff-4f43-adb8-93d2fa968ca2",rn="urn:uuid:"+nn,en="com.apple.fps.1_0";!function(t){t.Eu="playready",t.Su="widevine",t.Ru="fairplay",t.Iu="clearkey",t.Nu="aes128"}(Gt||(Gt={}));var un={Cu:Gt.Eu,Du:Kt,Ou:"cenc",xu:"9a04f079-9840-4286-ab92-e65be0885f95",Pu:Jt,Bu:"PlayReady"},sn={Cu:Gt.Su,Du:"com.widevine.alpha",Ou:"cenc",xu:$t,Pu:tn,Bu:"Widevine"},on={Cu:Gt.Ru,Du:en,Ou:"skd",xu:nn,Pu:rn,Bu:"FairPlay"},an=(Gt.Ru,{Cu:Gt.Iu,Du:"org.w3.clearkey",Ou:"cenc",xu:"1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",Pu:"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",Bu:"ClearKey"}),cn=[un,sn,on,an];function hn(t){return cn.filter(function(n){return n.Pu===t.toLowerCase()})}function fn(t,n,i){return t.split(n).join(i)}function vn(t,n){return null!=t&&-1!==t.indexOf(n)}function dn(t,n){return null!=t&&t.substr(0,n.length)===n}function ln(t,n){return null!=t&&t.substr(t.length-n.length,n.length)===n}function _n(t,n){return t.toUpperCase()===n.toUpperCase()}function gn(t,n){var i=0|n;if(0===t.length||0===i)return"";for(var r=t,e="";1==(1&i)&&(e+=r),0!=(i>>>=1);)r+=r;return e}function wn(t,n,i){void 0===i&&(i=" ");var r=i,e=(0|n)-t.length;return e<=0?t:(e>r.length&&(r+=gn(r,e/r.length)),r.slice(0,e)+t)}function yn(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return String.fromCharCode.apply(String,n)}var mn=(P.Wt&&Number(P.qt[1]))>=42||P.$t&&P.tn>=38||P.Yt||P.Jt||P.rn&&P.un>=29;function kn(t,n){return vn(t,"audio")?{initDataTypes:["cenc"],audioCapabilities:[Dt({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[Dt({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}}function pn(){return void 0!==a&&"function"==typeof a.requestMediaKeySystemAccess}function An(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest}var bn=function(){function t(t){this.Lu=xt(),this.Mu=void 0,this.Uu=t}var n=t.prototype;return n.Fu=function(){return this.Hu(sn)},n.Vu=function(){return this.Hu(an)},n.Xu=function(){return this.Hu(un)},n.Wu=function(){return this.Hu(on)},n.Hu=function(t){var n=t.Pu,i=this.Lu.get(n);if(i)return i;var r=this.qu(t,'video/mp4; codecs="avc1.42000a"');return this.Lu.set(n,r),r},n.qu=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.Uu.zu(n.Du,[kn(i,!0)]);case 3:return t.abrupt("return",!0);case 6:return t.prev=6,t.t0=t.catch(0),t.prev=8,t.next=11,this.Uu.zu(n.Du,[kn(i,!1)]);case 11:return t.abrupt("return",!0);case 14:return t.prev=14,t.t1=t.catch(8),t.abrupt("return",!1);case 17:case"end":return t.stop()}},t,this,[[0,6],[8,14]])}));return function(n,i){return t.apply(this,arguments)}}(),n.Gu=function(){return this.Mu||(this.Mu=this.ju()),this.Mu},n.ju=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("https:"!==Wt.protocol){t.next=2;break}return t.abrupt("return",!1);case 2:if(mn){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,this.Vu();case 6:if(!t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:return t.abrupt("return",!0);case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),t}();function Tn(t,n){var i=En(t,n);return i!==t&&Sn(i,void 0,t.length,t),t}function En(t,n){var i=t,r=i.length;if(r<=1)return i;for(var e=new Array(r),u=1;u<r;u*=2){Sn(i,n,u,e);var s=i;i=e,e=s}return i}function Sn(t,n,i,r){var e,u,s,o,a,c=t.length,h=0,f=2*i;for(u=0;u<c;u+=f)for(e=(s=u+i)+i,s>c&&(s=c),e>c&&(e=c),o=u,a=s;;)if(o<s&&a<e)n&&n(t[o],t[a])<=0?r[h++]=t[o++]:r[h++]=t[a++];else if(o<s)r[h++]=t[o++];else{if(!(a<e))break;r[h++]=t[a++]}}function Rn(t,n,i){var r=In(t,n,i);return-1===r?void 0:t[r]}function In(t,n,i){for(var r=0;r<t.length;r+=1){var e=t[r];if(n.call(i,e,r,t))return r}return-1}function Nn(t,n){var i=t.indexOf(n);return-1!==i&&(Cn(t,i),!0)}function Cn(t,n){t.splice(n,1)}function Dn(t,n){return-1!==t.indexOf(n)}function On(t,n){for(var i=0;i<n.length;i++){if(!Dn(t,n[i]))return!1}return!0}function xn(t){t.length=0}function Pn(t){var n;return(n=[]).concat.apply(n,t)}function Bn(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];i.push.apply(i,n(e))}return i}var Ln=function(){function t(){this.Qu=!1,this.Yu=!1,this.Zu=[],this.Ju=[]}var n=t.prototype;return n.Ku=function(){if(!this.Qu&&!this.Yu){this.Qu=!0;for(var t=0,n=this.Zu.slice();t<n.length;t++){(0,n[t])()}this.$u()}},n.$u=function(){if(!this.Yu){this.Yu=!0;for(var t=0,n=this.Ju.slice();t<n.length;t++){(0,n[t])()}xn(this.Zu),xn(this.Ju)}},n.ts=function(t){this.Yu||this.Zu.push(t)},n.ns=function(t){this.Yu||Nn(this.Zu,t)},n.rs=function(t){this.Yu||this.Ju.push(t)},n.es=function(t){this.Yu||Nn(this.Ju,t)},t}(),Mn=function(){function t(){this.us=new Ln}var n=t.prototype;return n.ss=function(){this.us.Ku()},n.$u=function(){this.us.$u()},n.os=function(t){var n=this.us;if(!n.Qu)if(t.Qu)n.Ku();else if(!n.Yu&&!t.Yu){var i=function(){r(),n.Ku()},r=function r(){t.ns(i),t.es(r),n.ns(i),n.es(r)};t.ts(i),t.rs(r),n.ts(i),n.rs(r)}},n.as=function(){var n=new t,i=new t,r=n.cs,e=i.cs,u=this.us,s=function(){r.Qu&&e.Yu||e.Qu&&r.Yu?u.Ku():r.Yu&&e.Yu&&u.$u()};r.ts(s),e.ts(s),r.rs(s),e.rs(s),n.os(u),i.os(u);return u.rs(function(){r.ns(s),e.ns(s),r.es(s),e.es(s)}),[n,i]},T(t,[{key:"cs",get:function(){return this.us}}]),t}(),Un=function(t){function n(n,i){return t.call(this,n||"Aborted",i)||this}return ct(n,t),T(n,[{key:"name",get:function(){return"AbortError"}}]),n}(lt);function Fn(t){return t instanceof d&&"AbortError"===t.name}function Hn(t){if(t&&t.Qu)throw new Un}function Vn(t){if(Fn(t))throw t}function Xn(t){if(!Fn(t))throw t}function Wn(t,n){return n?new Ct(function(i,r){if(n.Qu)return t.catch(j),r(new Un);var e=function t(){n.ns(t),r(new Un)};n.ts(e),t.then(function(t){n.ns(e),i(t)},function(t){n.ns(e),r(t)})}):t}function qn(t,n){return t.then(function(t){return n.$u(),t},function(t){throw n.$u(),t})}function zn(t,n){var i=new Mn;return n&&i.os(n),t(i.cs).then(function(t){return i.ss(),t},function(t){throw i.ss(),t})}var Gn=Ct.resolve();function jn(t){Gn.then(t)}function Qn(t){t.then(j,j)}function Yn(t){return Zn.apply(this,arguments)}function Zn(){return(Zn=Ct.coroutine(Nt.mark(function t(n){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ct.all(n);case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),t.next=10,Ct.all(n.map(function(t){return t.catch(j)}));case 10:throw t.t0;case 11:case"end":return t.stop()}},t,null,[[0,6]])}))).apply(this,arguments)}function Jn(t,n){return new Ct(function(i,e){if(void 0!==n&&n.Qu)e(new Un);else{var u=r._n(function(){void 0!==n&&n.ns(s),i()},t),s=function(){r.ln(u),e(new Un)};void 0!==n&&n.ts(s)}})}function Kn(t,n){var i=new Mn;return Ct.race([t.then(function(t){return i.ss(),t},function(t){throw i.ss(),t}),Jn(n,i.cs).then(function(){throw i.$u(),new d("Timeout")})])}function $n(t){return t&&"function"!=typeof t?t.slice():t}function ti(t,n,i){if(i)if("function"==typeof i)i.call(t,n);else for(var r=0;r<i.length;r++){i[r].call(t,n)}}var ni,ii=function(){function t(t){var n=this;this.hs=Ot(),this.fs=function(t){n.vs(t)},this.ds=t||this}var n=t.prototype;return n.ls=function(t,n){if("function"==typeof n)if("string"==typeof t)this._s(t,n);else for(var i=0;i<t.length;i++){var r=t[i];this._s(r,n)}},n._s=function(t,n){var i=this.hs[t];i?"function"==typeof i?this.hs[t]=[i,n]:i.push(n):this.hs[t]=n},n.gs=function(){this.hs=Ot()},n.vs=function(t){var n=$n(this.hs[t.type]);ti(this.ds,t,n)},n.ys=function(t,n){if("function"==typeof n)if("string"==typeof t)this.ks(t,n);else for(var i=0;i<t.length;i++){var r=t[i];this.ks(r,n)}},n.ks=function(t,n){var i=this.hs[t];i&&("function"==typeof i?i===n&&(this.hs[t]=void 0):Nn(i,n))},n.ps=function(t){if("string"==typeof t)this.hs[t]=void 0;else for(var n=0;n<t.length;n++){var i=t[n];this.hs[i]=void 0}},n.As=function(t,n){var i=this;return new Ct(function(r,e){if(n&&n.Qu)return e(new Un);var u=function(t){o(),r(t)},s=function(){o(),e(new Un)},o=function(){i.ys(t,u),n&&n.ns(s)};i.ls(t,u),n&&n.ts(s)})},t}(),ri=function(t){function n(){return t.apply(this,arguments)||this}return ct(n,t),n.prototype.vs=function(n){var i=this;jn(function(){t.prototype.vs.call(i,n)})},n}(ii),ei=function(t,n){void 0===n&&(n=new Date),this.type=t,this.date=n},ui=function(t){function n(n){var i;return(i=t.call(this,"Ts")||this).bs=n,i}return ct(n,t),n}(ei),si=function(t){function n(n,i,r,e){var u;return(u=t.call(this,"Es")||this).bs=n,u.Ss=i,u.Es=r,u.Rs=e,u}return ct(n,t),n}(ei),oi=function(t){function n(){return t.call(this,"Is")||this}return ct(n,t),n}(ei);!function(t){t.Ns="Cs",t.Ds="Os"}(ni||(ni={}));var ai=function(t){function n(n,i){var r;return(r=t.call(this,ni.Ns)||this).Ou=n,r.xs=i,r}return ct(n,t),n}(ei),ci=function(t){function n(){return t.call(this,ni.Ds)||this}return ct(n,t),n}(ei),hi=new k([0]).buffer,fi=function(){function t(){this.Ps=[]}var n=t.prototype;return n.Bs=function(t){for(var n=0,i=this.Ps;n<i.length;n++){if(i[n][0]===t)return!0}return!1},n.Ls=function(t){for(var n=0,i=this.Ps;n<i.length;n++){var r=i[n];if(r[0]===t)return r[1]}},n.Ms=function(t,n){this.Ps.forEach(function(n){return t(n[1],n[0])},n)},n.Us=function(t,n){this.Ps.push([t,n])},n.Fs=function(){xn(this.Ps)},T(t,[{key:"Hs",get:function(){return this.Ps.length}}]),t}(),vi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),di=16383,li=/[\t\n\f\r ]/g;function _i(t){return 43===t?62:47===t?63:t>=48&&t<=57?t-48+52:t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:gi()}function gi(){throw new d("Invalid base64 input")}function wi(t){var n=t;li.test(n)&&(n=n.replace(li,""));var i=n.length;i%4==0&&i>=1&&"="===n[i-1]&&(i>=2&&"="===n[i-2]?i-=2:i-=1,n=n.substr(0,i));var r=i%4;if(1===r)return gi();for(var e,u=0===r?0:4-r,s=new k(function(t,n){return 3*(t+n)/4-n}(i,u)),o=u>0?i-4:i,a=0,c=0;a<o;a+=4)e=_i(n.charCodeAt(a))<<18|_i(n.charCodeAt(a+1))<<12|_i(n.charCodeAt(a+2))<<6|_i(n.charCodeAt(a+3)),s[c++]=e>>16&255,s[c++]=e>>8&255,s[c++]=255&e;return 2===u?(e=_i(n.charCodeAt(a))<<2|_i(n.charCodeAt(a+1))>>4,s[c++]=255&e):1===u&&(e=_i(n.charCodeAt(a))<<10|_i(n.charCodeAt(a+1))<<4|_i(n.charCodeAt(a+2))>>2,s[c++]=e>>8&255,s[c++]=255&e),s}function yi(t,n,i){for(var r,e,u,s=[],o=n;o<i;o+=3)s.push((r=t[o],e=t[o+1],u=t[o+2],vi[r>>2]+vi[(3&r)<<4|e>>4]+vi[(15&e)<<2|u>>6]+vi[63&u]));return s.join("")}function mi(t){for(var n=t.length,i=n%3,r=[],e=n-i,u=0;u<e;u+=di)r.push(yi(t,u,g.min(e,u+di)));if(1===i){var s=t[n-1];r.push(vi[s>>2]+vi[(3&s)<<4]+"==")}else if(2===i){var o=t[n-2],a=t[n-1];r.push(vi[o>>2]+vi[(3&o)<<4|a>>4]+vi[(15&a)<<2]+"=")}return r.join("")}var ki=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],pi=ArrayBuffer.isView||function(t){return t&&Dn(ki,L.call(t))};function Ai(t,n){return t===n||t.byteLength===n.byteLength&&function(t,n){if(t===n)return!0;if(t.byteLength!==n.byteLength)return!1;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}(new k(t),new k(n))}function bi(t){var n=t.reduce(function(t,n){return t+n.byteLength},0);return function(t,n){for(var i=new k(n),r=0,e=0;e<t.length;e++){var u=t[e];i.set(u,r),r+=u.byteLength}return i}(t,n)}function Ti(t){return wi(t).buffer}function Ei(t){return mi(new k(t))}function Si(t){return mi(Ir(t))}var Ri=function(){function t(t){void 0===t&&(t=0),this.Vs=t}var n=t.prototype;return n.Xs=function(t){this.Vs+=t},n.Ws=function(t){this.Vs=t},n.qs=function(){return new t(this.zs)},T(t,[{key:"zs",get:function(){return this.Vs}}]),t}(),Ii=Ci,Ni=null;try{Ni=new WebAssembly.Instance(new WebAssembly.Module(new k([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function Ci(t,n,i){this.low=0|t,this.high=0|n,this.unsigned=!!i}function Di(t){return!0===(t&&t.Gs)}Ci.prototype.Gs,_.defineProperty(Ci.prototype,"Gs",{value:!0}),Ci.isLong=Di;var Oi={},xi={};function Pi(t,n){var i,r,e;return n?(e=0<=(t>>>=0)&&t<256)&&(r=xi[t])?r:(i=Li(t,(0|t)<0?-1:0,!0),e&&(xi[t]=i),i):(e=-128<=(t|=0)&&t<128)&&(r=Oi[t])?r:(i=Li(t,t<0?-1:0,!1),e&&(Oi[t]=i),i)}function Bi(t,n){if(m(t))return n?zi:qi;if(n){if(t<0)return zi;if(t>=Vi)return Zi}else{if(t<=-Xi)return Ji;if(t+1>=Xi)return Yi}return t<0?Bi(-t,n).neg():Li(t%Hi|0,t/Hi|0,n)}function Li(t,n,i){return new Ci(t,n,i)}Ci.fromInt=Pi,Ci.fromNumber=Bi,Ci.fromBits=Li;var Mi=g.pow;function Ui(t,n,i){if(0===t.length)throw d("empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return qi;if("number"==typeof n?(i=n,n=!1):n=!!n,(i=i||10)<2||36<i)throw RangeError("radix");var r;if((r=t.indexOf("-"))>0)throw d("interior hyphen");if(0===r)return Ui(t.substring(1),n,i).neg();for(var e=Bi(Mi(i,8)),u=qi,s=0;s<t.length;s+=8){var o=g.min(8,t.length-s),a=w(t.substring(s,s+o),i);if(o<8){var c=Bi(Mi(i,o));u=u.mul(c).add(Bi(a))}else u=(u=u.mul(e)).add(Bi(a))}return u.unsigned=n,u}function Fi(t,n){return"number"==typeof t?Bi(t,n):"string"==typeof t?Ui(t,n):Li(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}Ci.fromString=Ui,Ci.fromValue=Fi;var Hi=4294967296,Vi=Hi*Hi,Xi=Vi/2,Wi=Pi(1<<24),qi=Pi(0);Ci.ZERO=qi;var zi=Pi(0,!0);Ci.UZERO=zi;var Gi=Pi(1);Ci.ONE=Gi;var ji=Pi(1,!0);Ci.UONE=ji;var Qi=Pi(-1);Ci.NEG_ONE=Qi;var Yi=Li(-1,2147483647,!1);Ci.MAX_VALUE=Yi;var Zi=Li(-1,-1,!0);Ci.MAX_UNSIGNED_VALUE=Zi;var Ji=Li(0,-2147483648,!1);Ci.MIN_VALUE=Ji;var Ki=Ci.prototype;Ki.toInt=function(){return this.unsigned?this.low>>>0:this.low},Ki.toNumber=function(){return this.unsigned?(this.high>>>0)*Hi+(this.low>>>0):this.high*Hi+(this.low>>>0)},Ki.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(Ji)){var n=Bi(t),i=this.div(n),r=i.mul(n).sub(this);return i.toString(t)+r.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var e=Bi(Mi(t,6),this.unsigned),u=this,s="";;){var o=u.div(e),a=(u.sub(o.mul(e)).toInt()>>>0).toString(t);if((u=o).isZero())return a+s;for(;a.length<6;)a="0"+a;s=""+a+s}},Ki.getHighBits=function(){return this.high},Ki.getHighBitsUnsigned=function(){return this.high>>>0},Ki.getLowBits=function(){return this.low},Ki.getLowBitsUnsigned=function(){return this.low>>>0},Ki.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Ji)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,n=31;n>0&&0==(t&1<<n);n--);return 0!=this.high?n+33:n+1},Ki.isZero=function(){return 0===this.high&&0===this.low},Ki.eqz=Ki.isZero,Ki.isNegative=function(){return!this.unsigned&&this.high<0},Ki.isPositive=function(){return this.unsigned||this.high>=0},Ki.isOdd=function(){return 1==(1&this.low)},Ki.isEven=function(){return 0==(1&this.low)},Ki.equals=function(t){return Di(t)||(t=Fi(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},Ki.eq=Ki.equals,Ki.notEquals=function(t){return!this.eq(t)},Ki.neq=Ki.notEquals,Ki.ne=Ki.notEquals,Ki.lessThan=function(t){return this.comp(t)<0},Ki.lt=Ki.lessThan,Ki.lessThanOrEqual=function(t){return this.comp(t)<=0},Ki.lte=Ki.lessThanOrEqual,Ki.le=Ki.lessThanOrEqual,Ki.greaterThan=function(t){return this.comp(t)>0},Ki.gt=Ki.greaterThan,Ki.greaterThanOrEqual=function(t){return this.comp(t)>=0},Ki.gte=Ki.greaterThanOrEqual,Ki.ge=Ki.greaterThanOrEqual,Ki.compare=function(t){if(Di(t)||(t=Fi(t)),this.eq(t))return 0;var n=this.isNegative(),i=t.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},Ki.comp=Ki.compare,Ki.negate=function(){return!this.unsigned&&this.eq(Ji)?Ji:this.not().add(Gi)},Ki.neg=Ki.negate,Ki.add=function(t){Di(t)||(t=Fi(t));var n=this.high>>>16,i=65535&this.high,r=this.low>>>16,e=65535&this.low,u=t.high>>>16,s=65535&t.high,o=t.low>>>16,a=0,c=0,h=0,f=0;return h+=(f+=e+(65535&t.low))>>>16,c+=(h+=r+o)>>>16,a+=(c+=i+s)>>>16,a+=n+u,Li((h&=65535)<<16|(f&=65535),(a&=65535)<<16|(c&=65535),this.unsigned)},Ki.subtract=function(t){return Di(t)||(t=Fi(t)),this.add(t.neg())},Ki.sub=Ki.subtract,Ki.multiply=function(t){if(this.isZero())return qi;if(Di(t)||(t=Fi(t)),Ni)return Li(Ni.mul(this.low,this.high,t.low,t.high),Ni.get_high(),this.unsigned);if(t.isZero())return qi;if(this.eq(Ji))return t.isOdd()?Ji:qi;if(t.eq(Ji))return this.isOdd()?Ji:qi;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(Wi)&&t.lt(Wi))return Bi(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,r=this.low>>>16,e=65535&this.low,u=t.high>>>16,s=65535&t.high,o=t.low>>>16,a=65535&t.low,c=0,h=0,f=0,v=0;return f+=(v+=e*a)>>>16,h+=(f+=r*a)>>>16,f&=65535,h+=(f+=e*o)>>>16,c+=(h+=i*a)>>>16,h&=65535,c+=(h+=r*o)>>>16,h&=65535,c+=(h+=e*s)>>>16,c+=n*a+i*o+r*s+e*u,Li((f&=65535)<<16|(v&=65535),(c&=65535)<<16|(h&=65535),this.unsigned)},Ki.mul=Ki.multiply,Ki.divide=function(t){if(Di(t)||(t=Fi(t)),t.isZero())throw d("division by zero");var n,i,r;if(Ni)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?Li((this.unsigned?Ni.div_u:Ni.div_s)(this.low,this.high,t.low,t.high),Ni.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?zi:qi;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return zi;if(t.gt(this.shru(1)))return ji;r=zi}else{if(this.eq(Ji))return t.eq(Gi)||t.eq(Qi)?Ji:t.eq(Ji)?Gi:(n=this.shr(1).div(t).shl(1)).eq(qi)?t.isNegative()?Gi:Qi:(i=this.sub(t.mul(n)),r=n.add(i.div(t)));if(t.eq(Ji))return this.unsigned?zi:qi;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();r=qi}for(i=this;i.gte(t);){n=g.max(1,g.floor(i.toNumber()/t.toNumber()));for(var e=g.ceil(g.log(n)/g.LN2),u=e<=48?1:Mi(2,e-48),s=Bi(n),o=s.mul(t);o.isNegative()||o.gt(i);)o=(s=Bi(n-=u,this.unsigned)).mul(t);s.isZero()&&(s=Gi),r=r.add(s),i=i.sub(o)}return r},Ki.div=Ki.divide,Ki.modulo=function(t){return Di(t)||(t=Fi(t)),Ni?Li((this.unsigned?Ni.rem_u:Ni.rem_s)(this.low,this.high,t.low,t.high),Ni.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},Ki.mod=Ki.modulo,Ki.rem=Ki.modulo,Ki.not=function(){return Li(~this.low,~this.high,this.unsigned)},Ki.and=function(t){return Di(t)||(t=Fi(t)),Li(this.low&t.low,this.high&t.high,this.unsigned)},Ki.or=function(t){return Di(t)||(t=Fi(t)),Li(this.low|t.low,this.high|t.high,this.unsigned)},Ki.xor=function(t){return Di(t)||(t=Fi(t)),Li(this.low^t.low,this.high^t.high,this.unsigned)},Ki.shiftLeft=function(t){return Di(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Li(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):Li(0,this.low<<t-32,this.unsigned)},Ki.shl=Ki.shiftLeft,Ki.shiftRight=function(t){return Di(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Li(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):Li(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},Ki.shr=Ki.shiftRight,Ki.shiftRightUnsigned=function(t){if(Di(t)&&(t=t.toInt()),0===(t&=63))return this;var n=this.high;return t<32?Li(this.low>>>t|n<<32-t,n>>>t,this.unsigned):Li(32===t?n:n>>>t-32,0,this.unsigned)},Ki.shru=Ki.shiftRightUnsigned,Ki.shr_u=Ki.shiftRightUnsigned,Ki.toSigned=function(){return this.unsigned?Li(this.low,this.high,!1):this},Ki.toUnsigned=function(){return this.unsigned?this:Li(this.low,this.high,!0)},Ki.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},Ki.toBytesLE=function(){var t=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},Ki.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]},Ci.fromBytes=function(t,n,i){return i?Ci.fromBytesLE(t,n):Ci.fromBytesBE(t,n)},Ci.fromBytesLE=function(t,n){return new Ci(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},Ci.fromBytesBE=function(t,n){return new Ci(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};var $i=Ii,tr=[128,64,32,16,8,4,2,1],nr=16384,ir=function(){function t(t){this.js=t}return t.prototype.Qs=function(t){return rr(this.js,t)},t}();function rr(t,n){return(t&n)===n}function er(t,n){return rr(t,tr[n])}function ur(t,n){var i=t.getUint8(n.zs);return n.Xs(1),i}function sr(t,n,i){t.setUint8(n.zs,i),n.Xs(1)}function or(t,n,i){var r=Pr(Mr(t),n.zs,n.zs+i);return n.Xs(r.byteLength),r}function ar(t,n,i){Mr(t).set(Mr(i),n.zs),n.Xs(i.byteLength)}function cr(t,n,i){return n.zs+i<=t.byteLength}function hr(t,n,i,r){return void 0===r&&(r=!1),r?function(t,n,i){for(var r=0,e=1,u=0;u<i;u++)r+=ur(t,n)*e,e*=256;return r}(t,n,i):function(t,n,i){for(var r=0,e=0;e<i;e++)r=256*r+ur(t,n);return r}(t,n,i)}function fr(t,n,i){void 0===i&&(i=!1);var r=t.getUint16(n.zs,i);return n.Xs(2),r}function vr(t,n,i,r){void 0===r&&(r=!1),t.setUint16(n.zs,i,r),n.Xs(2)}function dr(t,n,i){void 0===i&&(i=!1);var r=t.getUint32(n.zs,i);return n.Xs(4),r}function lr(t,n,i,r){void 0===r&&(r=!1),t.setUint32(n.zs,i,r),n.Xs(4)}function _r(t,n,i){void 0===i&&(i=!1);var r=dr(t,n,i),e=dr(t,n,i),u=i?e:r,s=i?r:e;return $i.fromBits(s,u,!0)}function gr(t,n){var i=ur(t,n);if(i)return String.fromCharCode(i)}function wr(t,n){return kr(t,n)}function yr(t,n,i){for(var r="",e=0;e<i;e++)r+=gr(t,n);return r}function mr(t,n){var i,r=ur(t,n);return 0==(128&r)?i=r:192==(224&r)?i=64*(31&r)+(63&ur(t,n)):224==(240&r)?i=4096*(15&r)+64*(63&ur(t,n))+(63&ur(t,n)):240==(248&r)&&(i=262144*(7&r)+4096*(63&ur(t,n))+64*(63&ur(t,n))+(63&ur(t,n))),i}function kr(t,n){return pr(t,n,!0)}function pr(t,n,i){for(var r=[],e=[];n.zs<t.byteLength;){var u=ur(t,n);if(i&&!u)break;e.push(u),e.length>=nr&&(r.push(String.fromCharCode.apply(String,e)),e.length=0)}return e.length&&r.push(String.fromCharCode.apply(String,e)),r.join("")}function Ar(t,n){if(n.zs+2<=t.byteLength){var i=t.getUint8(n.zs),r=t.getUint8(n.zs+1);return(254!==i||255!==r)&&(255===i&&254===r||void 0)}}function br(t,n){var i=Ar(t,n);return void 0!==i&&n.Xs(2),Tr(t,n,!0===i)}function Tr(t,n,i){return void 0===i&&(i=!1),Er(t,n,i,!0)}function Er(t,n,i,r){for(var e=[],u=[];n.zs+2<=t.byteLength;){var s=fr(t,n,i);if(r&&!s)break;u.push(s),u.length>=nr&&(e.push(String.fromCharCode.apply(String,u)),u.length=0)}return u.length&&e.push(String.fromCharCode.apply(String,u)),e.join("")}function Sr(t,n,i,r){void 0===r&&(r=!1);for(var e=i.length,u=0;u<e;u+=1){vr(t,n,i.charCodeAt(u),r)}}function Rr(t){return pr(Lr(t),new Xr,!1)}function Ir(t){var n=new k(t.length);return function(t,n,i){for(var r=i.length,e=0;e<r;e+=1)sr(t,n,i.charCodeAt(e))}(Lr(n),new Xr,t),n}function Nr(t,n){return void 0===n&&(n=!1),Er(Lr(t),new Xr,n,!1)}function Cr(t,n){void 0===n&&(n=!1);var i=new k(2*t.length);return Sr(Lr(i),new Xr,t,n),i}function Dr(t,n){return Or(t,n,!0)}function Or(t,n,i){var r=[],e=[];for(function(t,n){return n.zs+3<=t.byteLength&&239===t.getUint8(n.zs)&&187===t.getUint8(n.zs+1)&&191===t.getUint8(n.zs+2)}(t,n)&&n.Xs(3);n.zs<t.byteLength;){var u=mr(t,n);if(void 0===u)break;if(i&&0===u)break;e.push(u),e.length>=nr&&(r.push(yn(e)),e.length=0)}return e.length&&r.push(yn(e)),r.join("")}function xr(t){return Or(Lr(t),new Xr,!1)}function Pr(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new k(t.buffer,t.byteOffset+n,i-n)}function Br(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new DataView(t.buffer,t.byteOffset+n,i-n)}function Lr(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Mr(t){return new k(t.buffer,t.byteOffset,t.byteLength)}function Ur(t){return t instanceof ArrayBuffer||pi(t)}function Fr(t){return t instanceof ArrayBuffer?new k(t):Mr(t)}function Hr(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),t.slice?t.slice(n,i):Vr(Pr(t,n,i))}function Vr(t){if(t.slice)return t.slice(0);var n=new k(t.byteLength);return n.set(t,0),n}var Xr=function(){function t(t){void 0===t&&(t=0),this.Vs=t}var n=t.prototype;return n.Xs=function(t){this.Vs+=t},n.Ws=function(t){this.Vs=t},n.qs=function(){return new t(this.zs)},n.Ys=function(){return new Ri(this.zs<<3)},T(t,[{key:"zs",get:function(){return this.Vs}}]),t}();function Wr(t){var n=t,i=0,r=0;dn(n,"0x")&&(n=n.substring(2));var e=new k(g.ceil(n.length/2));for(1==(1&n.length)&&(i=1,e[r++]=w(n[0],16));i<n.length;i+=2)e[r++]=w(n.substr(i,2),16);return e}var qr=function(){function t(){var t=this;this.Zs=new Ct(function(n,i){t.ue=n,t.vi=i})}var n=t.prototype;return n.Js=function(t){this.ue&&(this.ue(t),this.$u())},n.Ks=function(t){this.vi&&(this.vi(t),this.$u())},n.ss=function(){this.Zs.catch(j),this.Ks(new Un)},n.$u=function(){this.ue=void 0,this.vi=void 0},t}();function zr(){return new k([8,4]).buffer}function Gr(t){return Ai(t,zr())}function jr(t,n){return t===Kt?function(t){if(t.byteLength<2*Qr.length)return t;if(Nr(new DataView(t,0,2*Qr.length),!0)===Qr)return t;return n=t,Cr('<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">'+Ei(n)+'</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>',!0).buffer;var n}(n):n}var Qr="<PlayReady";var Yr=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,e)||this).$s=i,u.to=r,u}return ct(n,t),n}(lt),Zr=function(t){function n(n,i){var r;(r=t.call(this)||this).no=n,r.io=i,r.ro=!1,r.eo=function(){r.uo()},r.so=function(t){r.vs(new si(vt(r),t.messageType,jr(r.io,t.message)))},r.oo=function(){r.ro=!0,r.ao.Hs>0&&(r.ao.Fs(),r.vs(new ui(vt(r)))),r.no.removeEventListener("keystatuseschange",r.eo),r.no.removeEventListener("message",r.so)},r.no.addEventListener("keystatuseschange",r.eo),r.no.addEventListener("message",r.so),r.ao=new fi;var e=[];return r.no.closed&&e.push(Ct.resolve(r.no.closed)),r.co=new qr,e.push(r.co.Zs),r.ho=Ct.race(e).then(r.oo),r.uo(),r}ct(n,t);var i=n.prototype;return i.fo=function(){if(this.ro)return this.ho;var t=[];return t.push(Ct.resolve(this.no.close())),t.push(Jn(1e3)),this.co.Js(Ct.race(t).catch(Jr)),this.ro=!0,this.ho},i.vo=function(t,n,i){return Ct.resolve(this.no.generateRequest(t,n)).catch(Jr)},i.do=function(t){return Ct.resolve(this.no.load(t)).catch(Jr)},i.lo=function(){return Ct.resolve(this.no.remove()).catch(Jr)},i._o=function(t){return Ct.resolve(this.no.update(t)).catch(Jr)},i.uo=function(){var t=this;this.ao.Fs(),this.no.keyStatuses.forEach(function(n,i){t.wo(i,n)}),this.vs(new ui(this))},i.wo=function(t,n){if("string"==typeof t){var i=t;t=n,n=i}var r=Fr(t);if(this.io===Kt&&16===r.byteLength){var e=Lr(r),u=e.getUint32(0,!0),s=e.getUint16(4,!0),o=e.getUint16(6,!0);e.setUint32(0,u,!1),e.setUint16(4,s,!1),e.setUint16(6,o,!1)}this.io===Kt&&"status-pending"===n&&(n="usable"),this.ao.Us(r,n)},T(n,[{key:"yo",get:function(){return this.ho}},{key:"mo",get:function(){return this.no.expiration}},{key:"ko",get:function(){return this.ao}},{key:"po",get:function(){return this.no.sessionId}}]),n}(ii);function Jr(t){var n;if(t.message){var i=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);i&&(n=0|w(i[1],16))}throw new Yr(t.message,void 0,n,t)}var Kr=function(){function t(t,n){this.Ao=t,this.io=n}var n=t.prototype;return n.bo=function(){var t=Ct.coroutine(Nt.mark(function t(n){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Zr(this.Ao.createSession(n),this.io));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.To=function(t){return Ct.resolve(this.Ao.setServerCertificate(t))},n.Eo=function(t){return Ct.resolve(t.setMediaKeys(this.Ao))},n.So=function(t){return Ct.resolve(t.setMediaKeys(null))},t}(),$r=function(){function t(t,n){this.Ro=t,this.io=n}var n=t.prototype;return n.Io=function(){var t=Ct.coroutine(Nt.mark(function t(){var n;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Ro.createMediaKeys();case 2:return n=t.sent,t.abrupt("return",new Kr(n,this.io));case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.No=function(){return this.Ro.getConfiguration()},T(t,[{key:"Co",get:function(){return this.Ro.keySystem}}]),t}(),te=function(){function t(){}return t.prototype.zu=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=i.filter(function(t){return!t.Do}),t.next=3,a.requestMediaKeySystemAccess(n,i);case 3:return r=t.sent,t.abrupt("return",new $r(r,n));case 5:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}(),t.Oo=function(){return pn()},t}(),ne=function(t){function n(n,i){var r;return(r=t.call(this)||this).xo=n,r.Po=i,r.ro=!1,r.Bo=void 0,r.Lo=void 0,r.Mo=void 0,r.oo=function(){r.ro=!0,r.Uo.Js(void 0),r.Mo&&(r.Mo.removeEventListener("mskeyclose",r.oo),r.Mo.removeEventListener("mskeymessage",r.Fo),r.Mo.removeEventListener("mskeyerror",r.Ho),r.Mo.removeEventListener("mskeyadded",r.Vo))},r.Fo=function(t){r.Lo&&(r.Lo.Js(void 0),r.Lo=void 0),r.vs(new si(vt(r),"license-request",Vr(t.message).buffer,t.destinationURL||void 0))},r.Ho=function(){var t=r.Mo&&r.Mo.error;if(t){var n=new Yr("Unknown CDM error",t.code,t.systemCode);if(r.Lo)r.Lo.Ks(n),r.Lo=void 0;else if(r.Bo)r.Bo.Ks(n),r.Bo=void 0;else switch(n.$s){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:r.Xo("output-not-allowed");break;default:r.Xo("internal-error")}}},r.Vo=function(){r.Lo&&(r.Xo("usable"),r.Lo.Js(void 0),r.Lo=void 0),r.Bo&&(r.Xo("usable"),r.Bo.Js(void 0),r.Bo=void 0)},r.Uo=new qr,r.Wo=new fi,r}ct(n,t);var i=n.prototype;return i.vo=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.qo(),this.Lo=new qr,this.bo(Fr(i),r),t.next=5,this.Lo.Zs;case 5:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.bo=function(t,n){if(!t)throw new l("Expected initData to be defined but was "+t+".");var i,r=n&&n.playready&&n.playready.zo;return(i=n?this.xo.createSession(this.Po,t,r):this.xo.createSession(this.Po,t)).addEventListener("mskeyclose",this.oo),i.addEventListener("mskeymessage",this.Fo),i.addEventListener("mskeyerror",this.Ho),i.addEventListener("mskeyadded",this.Vo),this.Mo=i,this.Xo("status-pending"),i},i.do=function(){var t=Ct.coroutine(Nt.mark(function t(n){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.qo(),t.abrupt("return",!0);case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i._o=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Bo=new qr,this.qo(),this.Mo){t.next=4;break}return t.abrupt("return",Ct.resolve());case 4:if(0!==(i=Fr(n)).byteLength){t.next=7;break}throw new l("Cannot call update with an empty response.");case 7:return this.Mo.update(i),t.next=10,this.Bo.Zs;case 10:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.fo=function(){return!this.ro&&this.Mo&&(this.ro=!0,this.Mo.close()),this.Uo.Zs},i.lo=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.qo(),t.abrupt("return");case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.qo=function(){if(this.ro)throw new l("Already closing or closed.")},i.Xo=function(t){this.Wo.Fs(),this.Wo.Us(hi,t),this.vs(new ui(this))},T(n,[{key:"po",get:function(){return this.Mo&&this.Mo.sessionId||""}},{key:"mo",get:function(){return NaN}},{key:"yo",get:function(){return this.Uo.Zs}},{key:"ko",get:function(){return this.Wo}}]),n}(ii),ie=function(){function t(t,n){this.xo=t,this.Po=n}var n=t.prototype;return n.bo=function(){var t=Ct.coroutine(Nt.mark(function t(n){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new ne(this.xo,this.Po));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.To=function(t){return Ct.resolve(!1)},n.Eo=function(t){var n=this;return t.readyState>=1?t.msSetMediaKeys(this.xo):t.addEventListener("loadedmetadata",function i(){t.msSetMediaKeys(n.xo),t.removeEventListener("loadedmetadata",i)}),Ct.resolve()},n.So=function(t){return Ct.resolve()},t}();function re(t,n,i){var r=!1;if(!(i.persistentState&&"optional"!==i.persistentState||i.distinctiveIdentifier&&"optional"!==i.distinctiveIdentifier)){var e={audioCapabilities:[],videoCapabilities:[],persistentState:i.persistentState||"optional",distinctiveIdentifier:i.distinctiveIdentifier||"optional",initDataTypes:i.initDataTypes,sessionTypes:["temporary"],label:i.label,Do:i.Do},u=!1;if(i.audioCapabilities)for(var s=0,o=i.audioCapabilities;s<o.length;s++){var a=o[s];if(a.contentType){u=!0;var c=ue(a.contentType);!a.robustness&&t(n,c)&&(e.audioCapabilities.push(a),r=!0)}}if(i.videoCapabilities)for(var h=0,f=i.videoCapabilities;h<f.length;h++){var v=f[h];if(v.contentType){u=!0;var d=ue(v.contentType);!v.robustness&&t(n,d)&&(e.videoCapabilities.push(v),r=!0)}}return u||(r=t(n,"video/mp4")),r?e:void 0}}function ee(t){if(t.videoCapabilities)for(var n=0,i=t.videoCapabilities;n<i.length;n++){var r=i[n];if(r.contentType)return r.contentType}if(t.audioCapabilities)for(var e=0,u=t.audioCapabilities;e<u.length;e++){var s=u[e];if(s.contentType)return s.contentType}}function ue(t){return t.split(";")[0]}var se=function(){function t(t,n){this.io=t,this.Go=n;var i=ee(n)||"video/mp4";this.Po=ue(i)}var n=t.prototype;return n.No=function(){return this.Go},n.Io=function(){return Ct.resolve(new ie(new Xt.MSMediaKeys(this.io),this.Po))},T(t,[{key:"Co",get:function(){return this.io}}]),t}(),oe=function(){function t(){}return t.prototype.zu=function(t,n){try{return Ct.resolve(function(t,n){if(!ae())throw new l("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=re(ce,t,r);if(e)return new se(t,e)}throw new l("Unsupported key system configuration for "+t)}(t,n))}catch(t){return Ct.reject(t)}},t.Oo=function(){return ae()},t}();function ae(){return void 0!==Xt.MSMediaKeys&&"function"==typeof Xt.MSMediaKeys.isTypeSupported}function ce(t,n){return Xt.MSMediaKeys.isTypeSupported(t,n)}var he,fe,ve=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).jo=n,e.Po=i,e.Qo=r,e.Uo=new qr,e.Yo=void 0,e.Wo=new fi,e.Zo=void 0,e.Jo=new qr,e.Ho=function(){var t=e.Zo&&e.Zo.error;if(t){var n=new Yr("Unknown CDM error",t.code,t.systemCode);e.Yo?(e.Yo.Ks(n),e.Yo=void 0):n.$s===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?e.Xo("output-not-allowed"):e.Xo("internal-error"),e.vs(new oi)}},e.Fo=function(t){e.Yo&&(e.Yo.Js(void 0),e.Yo=void 0),e.vs(new si(vt(e),"license-request",Vr(t.message).buffer,t.destinationURL||void 0))},e}ct(n,t);var i=n.prototype;return i.vo=function(t,n,i){var r=i&&i.fairplay&&i.fairplay.Ko;if(!r)throw new l("Expected FairPlay contentId to be defined but was "+r+".");var e=de(Fr(n),r,this.Qo);return this.Zo=this.jo.createSession(this.Po,e),this.Zo.addEventListener("webkitkeymessage",this.Fo,!1),this.Zo.addEventListener("webkitkeyerror",this.Ho,!1),this.Xo("usable"),this.Jo.Js(this.Zo),this.Jo=new qr,Ct.resolve()},i.do=function(t){return Ct.resolve(!0)},i._o=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(i=Fr(n)).byteLength){t.next=3;break}throw new l("Cannot call update with an empty response.");case 3:if(this.Yo=new qr,t.t0=this.Zo,t.t0){t.next=9;break}return t.next=8,this.Jo.Zs;case 8:t.t0=t.sent;case 9:return t.t0.update(i),t.next=13,this.Yo.Zs;case 13:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.fo=function(){var t=this.Zo;return t&&(t.removeEventListener("webkitkeymessage",this.Fo,!1),t.removeEventListener("webkitkeyerror",this.Ho,!1),t.close()),this.Jo.ss(),this.Uo.Js(void 0),this.Uo.Zs},i.lo=function(){return Ct.resolve(void 0)},i.Xo=function(t){this.Wo.Fs(),this.Wo.Us(hi,t),this.vs(new ui(this))},T(n,[{key:"po",get:function(){return this.Zo?this.Zo.sessionId:""}},{key:"mo",get:function(){return NaN}},{key:"yo",get:function(){return this.Uo.Zs}},{key:"ko",get:function(){return this.Wo}}]),n}(ii);function de(t,n,i){var r=xr(t),e=2*r.length,u=2*n.length,s=new ArrayBuffer(4+e+4+u+4+i.byteLength),o=new DataView(s),a=new Xr;return lr(o,a,e,!0),Sr(o,a,r,!0),lr(o,a,u,!0),Sr(o,a,n,!0),lr(o,a,i.byteLength,!0),ar(o,a,i),new k(s)}(he=n.ErrorCode||(n.ErrorCode={}))[he.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",he[he.LICENSE_ERROR=2e3]="LICENSE_ERROR",he[he.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",he[he.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",he[he.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",he[he.SOURCE_INVALID=3e3]="SOURCE_INVALID",he[he.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",he[he.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",he[he.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",he[he.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",he[he.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",he[he.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",he[he.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",he[he.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",he[he.MEDIA_ABORTED=5004]="MEDIA_ABORTED",he[he.NETWORK_ERROR=6e3]="NETWORK_ERROR",he[he.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",he[he.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",he[he.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",he[he.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",he[he.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",he[he.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",he[he.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",he[he.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",he[he.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",he[he.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",he[he.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",he[he.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",he[he.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",he[he.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",he[he.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",he[he.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",he[he.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",he[he.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",he[he.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",he[he.AD_ERROR=1e4]="AD_ERROR",he[he.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",he[he.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR",(fe=n.ErrorCategory||(n.ErrorCategory={}))[fe.CONFIGURATION=1]="CONFIGURATION",fe[fe.LICENSE=2]="LICENSE",fe[fe.SOURCE=3]="SOURCE",fe[fe.MANIFEST=4]="MANIFEST",fe[fe.MEDIA=5]="MEDIA",fe[fe.NETWORK=6]="NETWORK",fe[fe.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",fe[fe.SUBTITLE=8]="SUBTITLE",fe[fe.VR=9]="VR",fe[fe.AD=10]="AD",fe[fe.FULLSCREEN=11]="FULLSCREEN",function(t){t.fromCode=function(n){var i=g.floor(n/1e3);if(i in t)return i;throw new l("Invalid error code: "+n)}}(n.ErrorCategory||(n.ErrorCategory={}));var le=function(t){function i(n,i,r){var e;return(e=t.call(this,i,r)||this).code=n,e}return ct(i,t),T(i,[{key:"name",get:function(){return"THEOplayerError"}},{key:"category",get:function(){return n.ErrorCategory.fromCode(this.code)}}]),i}(lt),_e=function(){function t(t,n){this.jo=t,this.Po=n,this.Qo=void 0}var i=t.prototype;return i.getInternalMediaKeys=function(){return this.jo},i.bo=function(){var t=Ct.coroutine(Nt.mark(function t(i){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Qo){t.next=2;break}throw new le(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return t.abrupt("return",new ve(this.jo,this.Po,this.Qo));case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.To=function(t){return this.Qo=Fr(t),Ct.resolve(!0)},i.Eo=function(t){return t.webkitSetMediaKeys(this.jo),Ct.resolve()},i.So=function(t){return t.webkitSetMediaKeys(null),Ct.resolve()},t}(),ge=function(){function t(t,n){this.io=t,this.Go=n;var i=ee(n)||"video/mp4";this.Po=ue(i)}var n=t.prototype;return n.No=function(){return this.Go},n.Io=function(){return Ct.resolve(new _e(new Xt.WebKitMediaKeys(this.io),this.Po))},T(t,[{key:"Co",get:function(){return this.io}}]),t}(),we=function(){function t(){}return t.prototype.zu=function(t,n){try{return Ct.resolve(function(t,n){if(t!==en)throw new l(t+" is not supported with webkit-prefixed Encrypted Media Extensions.");if(!ye())throw new l("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=re(me,t,r);if(e)return new ge(t,e)}throw new l("Unsupported key system configuration for "+t)}(t,n))}catch(t){return Ct.reject(t)}},t.Oo=function(){return ye()},t}();function ye(){return void 0!==Xt.WebKitMediaKeys&&"function"==typeof Xt.WebKitMediaKeys.isTypeSupported}function me(t,n){return Xt.WebKitMediaKeys.isTypeSupported(t,n)}var ke,pe=function(){function t(t){this.$o=t}return t.prototype.zu=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r,e,u;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.$o;case 1:if(!(r<e.length)){t.next=14;break}return u=e[r],t.prev=3,t.next=6,u.zu(n,i);case 6:return t.abrupt("return",t.sent);case 9:t.prev=9,t.t0=t.catch(3);case 11:r++,t.next=1;break;case 14:throw new l("Unsupported key system configuration for "+n);case 15:case"end":return t.stop()}},t,this,[[3,9]])}));return function(n,i){return t.apply(this,arguments)}}(),t}(),Ae=function(t){function n(n){var i;return(i=t.call(this)||this).io=n,i.Lo=void 0,i.Yo=void 0,i.ta=!1,i.na=void 0,i.ia=void 0,i.Uo=new qr,i.ra="",i.ea=new qr,i.ua=new fi,i}ct(n,t);var i=n.prototype;return i.sa=function(){this.Yo&&(this.Xo("usable"),this.Yo.Js(void 0),this.Yo=void 0)},i.oa=function(t){var n=new Yr("Unknown CDM error",t.errorCode,t.systemCode);this.Yo?(this.Yo.Ks(n),this.Yo=void 0):this.Lo?(this.Lo.Ks(n),this.Lo=void 0):n.$s===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.Xo("output-restricted"):1===n.to?this.Xo("expired"):this.Xo("internal-error")},i.aa=function(t){0!==t.message.byteLength&&(this.Lo&&(this.Lo.Js(void 0),this.Lo=void 0),this.vs(new si(this,"license-request",jr(this.io,Vr(t.message).buffer),t.defaultURL||void 0)))},i.ca=function(t){this.ia||(this.ia=t,this.ea.Js(t))},i.fo=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed(),this.ta=!0,this.Uo.Js(void 0);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.vo=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.Lo=new qr,this.na=Fr(i),t.t0=this.ia,t.t0){t.next=8;break}return t.next=7,this.ea.Zs;case 7:t.t0=t.sent;case 8:return t.t0.webkitGenerateKeyRequest(this.io,this.na),t.next=12,this.Lo.Zs;case 12:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.do=function(){var t=Ct.coroutine(Nt.mark(function t(n){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.throwIfClosed(),t.abrupt("return",!1);case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.lo=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed();case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i._o=function(){var t=Ct.coroutine(Nt.mark(function t(n){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.Yo=new qr,t.t0=this.ia,t.t0){t.next=7;break}return t.next=6,this.ea.Zs;case 6:t.t0=t.sent;case 7:return t.t0.webkitAddKey(this.io,Fr(n),this.na,this.po),t.next=11,this.Yo.Zs;case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.throwIfClosed=function(){if(this.ta)throw new l("Already closing or closed.")},i.Xo=function(t){this.ua.Fs(),this.ua.Us(hi,t),this.vs(new ui(this))},T(n,[{key:"ko",get:function(){return this.ua}},{key:"po",get:function(){return this.ra},set:function(t){this.ra=t}},{key:"yo",get:function(){return this.Uo.Zs}},{key:"mo",get:function(){return NaN}}]),n}(ii),be=function(){function t(t){var n=this;this.io=t,this.ia=void 0,this.ha=xt(),this.fa=[],this.Vo=function(t){var i=n.va(t.sessionId);i&&i.sa()},this.da=function(t){var i=n.va(t.sessionId);i&&i.oa(t)},this.la=function(t){var i=n.va(t.sessionId);i&&i.aa(t)}}var n=t.prototype;return n.Eo=function(t){return this.ia=t,this.ia.addEventListener("webkitkeyadded",this.Vo),this.ia.addEventListener("webkitkeyerror",this.da),this.ia.addEventListener("webkitkeymessage",this.la),this.ha.forEach(function(n,i){return n.ca(t)}),this.fa.forEach(function(n){return n.ca(t)}),Ct.resolve()},n.So=function(t){return t.removeEventListener("webkitkeyadded",this.Vo),t.removeEventListener("webkitkeyerror",this.da),t.removeEventListener("webkitkeymessage",this.la),this.ia=void 0,Ct.resolve()},n.bo=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r){var e;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new Ae(this.io),this.ia&&e.ca(this.ia),this.fa.push(e),t.abrupt("return",e);case 4:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),n.To=function(t){return Ct.resolve(!1)},n.va=function(t){if(t){var n=this.ha.get(t);return n||((n=this.fa.shift())?(n.po=t,this.ha.set(t,n),n):void 0)}},t}(),Te=function(){function t(t,n){this.Co=t,this._a=n}var n=t.prototype;return n.Io=function(){return Ct.resolve(new be(this.Co))},n.No=function(){return this._a},t}();function Ee(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Se(t,n){if(void 0!==t.classList)t.classList.add(n);else if(void 0!==t.className){var i=function(t){var n=t.className;return"string"==typeof n?n:n&&"string"==typeof n.baseVal?n.baseVal:""}(t);-1===(" "+i+" ").indexOf(" "+n+" ")&&function(t,n){var i=t.className;"string"==typeof i?t.className=n:i&&"string"==typeof i.baseVal&&(i.baseVal=n)}(t,(i+" "+n).trim())}}function Re(t,n,i){t.display=n,"none"!==t.display&&""!==t.display||(t.display=i)}function Ie(t,n){var i=n.style;if(i)for(var r in t)i[r]=t[r]}function Ne(t){var n=t.style;n.position="absolute",n.left="0",n.right="0",n.top="0",n.bottom="0",n.width="100%",n.height="100%"}function Ce(t){t.removeAttribute("title")}function De(t){return"video"===((n=t)&&n.nodeName&&n.nodeName.toLowerCase()||"");var n}function Oe(t){t.src&&(t.removeAttribute("src"),t.load())}function xe(){return void 0!==s?s.createElement("video"):void 0}function Pe(){return ke||(ke=xe()),ke}var Be,Le=function(){function t(){}return t.prototype.zu=function(t,n){try{return Ct.resolve(Me(t,n))}catch(t){return Ct.reject(t)}},t.Oo=function(){return An()},t}();function Me(t,n){if(!Le.Oo())throw new l("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=re(Ue,t,n[i]);if(r)return new Te(t,r)}throw new l("Unsupported key system configuration for "+t)}function Ue(t,n){var i=Pe();return!(!i||!i.canPlayType||""===i.canPlayType(n,t))}function Fe(){return Be||(Be=function(){var t=[];we.Oo()&&t.push(new we);te.Oo()&&t.push(new te);oe.Oo()&&t.push(new oe);Le.Oo()&&t.push(new Le);return new pe(t)}()),Be}function He(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),_.defineProperty(t,r.key,r)}}function Ve(t,n){var i=function(t,n){var i=t.length;if(i<=1)return t;for(var r=new Array(i),e=1;e<i;e*=2){Xe(t,n,e,r);var u=t;t=r,r=u}return t}(t,n);return i!==t&&Xe(i,null,t.length,t),t}function Xe(t,n,i,r){var e,u,s,o,a,c=t.length,h=0,f=2*i;for(e=0;e<c;e+=f)for(s=(u=e+i)+i,u>c&&(u=c),s>c&&(s=c),o=e,a=u;;)if(o<u&&a<s)n(t[o],t[a])<=0?r[h++]=t[o++]:r[h++]=t[a++];else if(o<u)r[h++]=t[o++];else{if(!(a<s))break;r[h++]=t[a++]}}var We=/[a-zA-Z]/,qe=/[0-9]/,ze=/[0-9a-fA-F]/,Ge=/^0x/i,je=/^[0-9]+$/,Qe=/^[0-9a-fA-F]+$/,Ye=/^[0-7]+$/,Ze=_.prototype.toString,Je=Array.isArray||function(t){return"[object Array]"===Ze.call(t)},Ke="undefined"!=typeof Symbol&&"symbol"==typeof Symbol.iterator;function $e(t){return Je(t)?t:Array.from(t)}function tu(t){return t>=65&&t<=90}function nu(t){return tu(t)||function(t){return t>=97&&t<=122}(t)}function iu(t){return t>=48&&t<=57}function ru(t){return iu(t)||nu(t)}function eu(t){return iu(t)||t>=65&&t<=70||t>=97&&t<=102}function uu(t){return tu(t)?t+32:t}function su(t){return iu(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function ou(t,n){return void 0===n&&(n=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(n?87:55):-1}var au=g.min,cu=String.fromCharCode,hu=16384;function fu(t){for(var n=t.length,i=[],r=0;r<n;r+=hu){var e=au(r+hu,n);i.push(cu.apply(null,t.slice(r,e)))}return i.join("")}var vu=/[^\0-\x7E]/,du=/[\x2E\u3002\uFF0E\uFF61]/g,lu={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},_u=g.floor,gu=String.fromCharCode;function wu(t){throw new RangeError(lu[t])}function yu(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&e)<<10)+(1023&u)+65536):(n.push(e),i--)}else n.push(e)}return n}var mu,ku,pu,Au=function(t,n){return t+22+75*(t<26)-((0!=n)<<5)},bu=function(t,n,i){var r=0;for(t=i?_u(t/700):t>>1,t+=_u(t/n);t>455;r+=36)t=_u(t/35);return _u(r+36*t/(t+38))},Tu=function(t){return function(t,n){var i=t.split("@"),r="";i.length>1&&(r=i[0]+"@",t=i[1]);var e=function(t,n){for(var i=[],r=t.length;r--;)i[r]=n(t[r]);return i}((t=t.replace(du,".")).split("."),n).join(".");return r+e}(t,function(t){return vu.test(t)?"xn--"+function(t){for(var n=[],i=(t=yu(t)).length,r=128,e=0,u=72,s=0,o=t;s<o.length;s++){var a=o[s];a<128&&n.push(gu(a))}var c=n.length,h=c;for(c&&n.push("-");h<i;){for(var f=2147483647,v=0,d=t;v<d.length;v++){var l=d[v];l>=r&&l<f&&(f=l)}var _=h+1;f-r>_u((2147483647-e)/_)&&wu("overflow"),e+=(f-r)*_,r=f;for(var g=0,w=t;g<w.length;g++){var y=w[g];if(y<r&&++e>2147483647&&wu("overflow"),y==r){for(var m=e,k=36;;k+=36){var p=k<=u?1:k>=u+26?26:k-u;if(m<p)break;var A=m-p,b=36-p;n.push(gu(Au(p+A%b,0))),m=_u(A/b)}n.push(gu(Au(m,0))),u=bu(e,_,h==c),e=0,++h}}++e,++r}return n.join("")}(t):t})};function Eu(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return fu(n)}function Su(t){if(t>=55296&&t<=57343)throw new d("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function Ru(t,n){return t>>n&63|128}function Iu(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Su(t),n.push(t>>12&15|224),n.push(Ru(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(Ru(t,12)),n.push(Ru(t,6))),n.push(63&t|128)):n.push(t)}function Nu(t){for(var n=[],i=0;i<t.length;i++){Iu(t[i],n)}return n}function Cu(){if(pu>=ku)throw new d("Invalid byte index");var t=255&mu[pu];if(pu++,128==(192&t))return 63&t;throw new d("Invalid continuation byte")}function Du(){var t,n;if(pu>ku)throw new d("Invalid byte index");if(pu===ku)return!1;if(t=255&mu[pu],pu++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|Cu())>=128)return n;throw new d("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|Cu()<<6|Cu())>=2048)return Su(n),n;throw new d("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|Cu()<<12|Cu()<<6|Cu())>=65536&&n<=1114111)return n;throw new d("Invalid UTF-8 detected")}function Ou(t){return[37,ou(t>>4),ou(15&t)]}function xu(t){return function(t){return t>=0&&t<=31}(t)||t>126}function Pu(t){return xu(t)||32===t||34===t||60===t||62===t||96===t}function Bu(t){return Pu(t)||35===t||63===t||123===t||125===t}function Lu(t){return Bu(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function Mu(t){return t<33||t>126||34===t||35===t||60===t||62===t}function Uu(t){return Mu(t)||39===t}function Fu(t,n){if(!n(t))return[t];for(var i=Nu([t]),r=[],e=0;e<i.length;e++){var u=i[e];r.push.apply(r,Ou(u))}return r}function Hu(t,n){for(var i=[],r=0,e=yu(t);r<e.length;r++){var u=e[r];i.push.apply(i,Fu(u,n))}return Eu(i)}function Vu(t){return function(t){for(var n=[],i=t.length,r=0;r<i;r++){var e=t[r];if(37===e&&r+2<i&&eu(t[r+1])&&eu(t[r+2])){var u=su(t[r+1])<<4|su(t[r+2]);n.push(u),r+=2}else n.push(e)}return n}(Nu(t))}function Xu(t){return Eu(function(t){mu=t.slice(),ku=mu.length,pu=0;for(var n,i=[];!1!==(n=Du());)i.push(n);return i}(Vu(yu(t))))}function Wu(t){var n,i,r,e,u=t.length,s=[0,0,0,0,0,0,0,0],o=0,a=null,c=0;if(c<u&&":"===t[c]){if(!(c+1<u&&":"===t[c+1]))throw new l;c+=2,a=o+=1}for(;c<u;){if(8===o)throw new l("Too many groups");if(":"!==t[c]){for(var h=0,f=0;f<4&&c<u&&ze.test(t[c]);)h=h<<4|w(t[c],16),c+=1,f+=1;if("."===t[c]){if(0===f)throw new l;if(c-=f,o>6)throw new l;for(var v=0;c<u;){var d=null;if(v>0){if(!("."===t[c]&&v<4))throw new l;c+=1}if(!qe.test(t[c]))throw new l;for(;c<u&&qe.test(t[c]);){var _=w(t[c],10);if(null===d)d=_;else{if(0===d)throw new l;if((d=10*d+_)>255)throw new l}c+=1}s[o]=s[o]<<8|d,2!==(v+=1)&&4!==v||(o+=1)}if(4!==v)throw new l;break}if(":"===t[c]){if((c+=1)===u)throw new l}else if(c<u)throw new l;s[o]=h,o+=1}else{if(null!==a)throw new l("Too many :: groups");c+=1,a=o+=1}}if(null!==a){var g=o-a;for(o=7;0!==o&&g>0;)r=a+g-1,e=void 0,e=(n=s)[i=o],n[i]=n[r],n[r]=e,o-=1,g-=1}else if(8!==o)throw new l;return s}function qu(t){var n=10,i=je;return Ge.test(t)?(t=t.slice(2),n=16,i=Qe):t.length>=2&&"0"===t[0]&&(t=t.slice(1),n=8,i=Ye),""===t?0:i.test(t)?w(t,n):void 0}var zu={ga:4},Gu=/[\0\t\n\r #%\/:?@\[\\\]]/,ju=/[\0\t\n\r #\/:?@\[\\\]]/;function Qu(t,n){if("["===t[0]){if("]"!==t[t.length-1])throw new l("Invalid IPv6 address");return{ga:2,wa:Wu(t.slice(1,-1))}}if(!n)return function(t){if(ju.test(t))throw new l("Invalid code point in opaque host");var n=Hu(t,xu);return""===n?zu:{ga:3,wu:n}}(t);var i=function(t){return function(t){return Tu(t.toLowerCase())}(t)}(Xu(t));if(Gu.test(i))throw new l("Invalid code point in host");var r=function(t){var n=t.split(".");if(""===n[n.length-1]&&n.pop(),!(n.length>4)){for(var i=[],r=0;r<n.length;r++){var e=n[r];if(""===e)return;var u=qu(e);if(void 0===u)return;i.push(u)}for(var s=0;s<i.length-1;s++)if(i[s]>255)throw new l;if(i[i.length-1]>=g.pow(256,5-i.length))throw new l;for(var o=i.pop(),a=0;a<i.length;a++)o+=i[a]*g.pow(256,3-a);return o}}(i);return void 0!==r?{ga:1,wa:r}:""===i?zu:{ga:0,ya:i}}function Yu(t){switch(t.ga){case 0:return t.ya;case 1:return function(t){for(var n=[],i=t,r=1;r<=4;r++)n.push(""+(255&i)),4!==r&&n.push("."),i>>>=8;return n.reverse().join("")}(t.wa);case 2:return"["+function(t){for(var n="",i=function(t){for(var n=0,i=0,r=0,e=0,u=0;u<8;u++)0===t[u]?(0===e&&(r=u),e++):(e>i&&(n=r,i=e),e=0);return e>i&&(n=r,i=e),i>1?n:null}(t),r=!1,e=0;e<8;e++){if(r){if(0===t[e])continue;r=!1}i!==e?(n+=t[e].toString(16),7!==e&&(n+=":")):(n+=0===e?"::":":",r=!0)}return n}(t.wa)+"]";case 3:return t.wu;case 4:return""}}var Zu=/\+/g;function Ju(t){for(var n=t.split("&"),i=[],r=0;r<n.length;r++){var e=n[r];if(""!==e){var u=e.indexOf("="),s=void 0,o=void 0;-1!==u?(s=e.slice(0,u),o=e.slice(u+1)):(s=e,o=""),s=s.replace(Zu," "),o=o.replace(Zu," ");var a=Xu(s),c=Xu(o);i.push([a,c])}}return i}function Ku(t){for(var n="",i=0;i<t.length;i++){var r=t[i];i>0&&(n+="&"),n+=$u(Nu(yu(r[0])))+"="+$u(Nu(yu(r[1])))}return n}function $u(t){for(var n,i=[],r=0;r<t.length;r++){var e=t[r];32===e?i.push(43):42===(n=e)||45===n||46===n||95===n||ru(n)?i.push(e):i.push.apply(i,Ou(e))}return fu(i)}var ts=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function ns(t){var n=""+t,i=ts.exec(n);return i?function(t,n){for(var i=t.length,r=[],e=n;e<i;e++){var u=t.charCodeAt(e);if(rs(u))if(es(u)||e===i-1)r.push(is);else{var s=t.charCodeAt(e+1);es(s)?(r.push(u,s),e++):r.push(is)}else r.push(u)}return t.slice(0,n)+fu(r)}(n,i.index):n}var is=65533,rs=function(t){return 55296==(63488&t)},es=function(t){return 0!=(1024&t)};function us(t,n){var i=t[0],r=n[0];return i===r?0:i<r?-1:1}function ss(t){t.ma.length=0}function os(t,n){!function(t,n){for(var i=0;i<n.length;i++)t[i]=n[i];t.length=n.length}(t.ma,Ju(n))}function as(t){if(t.ka){var n=Ku(t.ma);""===n&&(n=null),t.ka.ka.pa=n}}var cs=function(){function t(t){if(void 0===t&&(t=void 0),this.ka=null,null==t)this.ma=[];else if("object"==typeof t||"function"==typeof t)if((u=t)instanceof cs&&Je(u.ma)&&(!Ke||u[Symbol.iterator]===hs))this.ma=t.ma.slice();else if(function(t){return null!=t&&(!!Je(t)||!!Ke&&"function"==typeof t[Symbol.iterator])}(t)){this.ma=[];for(var n=0,i=$e(t);n<i.length;n++){var r=$e(i[n]);if(2!==r.length)throw new l("Invalid name-value pair");this.ma.push([ns(r[0]),ns(r[1])])}}else for(var e in this.ma=[],t)_.prototype.hasOwnProperty.call(t,e)&&this.ma.push([ns(e),ns(t[e])]);else(t=ns(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this.ma=Ju(t);var u}var n=t.prototype;return n.append=function(t,n){t=ns(t),n=ns(n),this.ma.push([t,n]),as(this)},n.delete=function(t){t=ns(t);for(var n=this.ma,i=0;i<n.length;){n[i][0]===t?n.splice(i,1):i++}as(this)},n.get=function(t){t=ns(t);for(var n=this.ma,i=0;i<n.length;i++){var r=n[i];if(r[0]===t)return r[1]}return null},n.getAll=function(t){t=ns(t);for(var n=this.ma,i=[],r=0;r<n.length;r++){var e=n[r];e[0]===t&&i.push(e[1])}return i},n.has=function(t){t=ns(t);for(var n=this.ma,i=0;i<n.length;i++){if(n[i][0]===t)return!0}return!1},n.set=function(t,n){t=ns(t),n=ns(n);for(var i=this.ma,r=!1,e=0;e<i.length;){var u=i[e];u[0]===t?r?i.splice(e,1):(u[1]=n,r=!0,e++):e++}r||i.push([t,n]),as(this)},n.sort=function(){Ve(this.ma,us),as(this)},n.toString=function(){return Ku(this.ma)},n.entries=function(){return new ls(this.ma,fs)},n.keys=function(){return new ls(this.ma,vs)},n.values=function(){return new ls(this.ma,ds)},n.forEach=function(t){var n=this;this.ma.forEach(function(i){return t(i[1],i[0],n)})},t}(),hs=cs.prototype.entries;Ke&&(cs.prototype[Symbol.iterator]=hs);var fs=function(t){return[t[0],t[1]]},vs=function(t){return t[0]},ds=function(t){return t[1]},ls=function(){function t(t,n){this.Aa=0,this.ma=t,this.ba=n}return t.prototype.next=function(){return this.Aa<this.ma.length?{done:!1,value:this.ba(this.ma[this.Aa++])}:{done:!0,value:void 0}},t}(),_s="null";var gs=_.create(null);gs.ftp=21,gs.file=0,gs.gopher=70,gs.http=80,gs.https=443,gs.ws=80,gs.wss=443;var ws=/^(?:\.|%2e)$/i,ys=/^(?:\.|%2e){2}$/i;function ms(t){return ws.test(t)}function ks(t){return ys.test(t)}function ps(t){return void 0!==gs[t]}function As(t){return ps(t.Ta)}function bs(t){return""!==t.Ea||""!==t.Sa}function Ts(t){var n=t.length;if(!(n>=2))return!1;if(!Ss(t.slice(0,2)))return!1;if(2!==n){var i=t[2];if(47!==i&&92!==i&&63!==i&&35!==i)return!1}return!0}function Es(t){return 2===t.length&&We.test(t[0])&&(":"===t[1]||"|"===t[1])}function Ss(t){return 2===t.length&&Es(fu(t))}function Rs(t){return Es(t)&&":"===t[1]}function Is(t){var n=t.Ra;0!==n.length&&("file"===t.Ta&&1===n.length&&Rs(n[0])||n.pop())}function Ns(t){return null===t.Ia||zu===t.Ia||t.Na||"file"===t.Ta}var Cs=-1,Ds=/\t|\n|\r/g,Os=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function xs(t,n,i,r){void 0===i&&(i=null),void 0===r&&(r=null),i||(i=new Bs,t=t.replace(Os,""));var e=null!==r?r:0;n=n||null;for(var u=[],s=!1,o=!1,a=!1,c=yu(t=t.replace(Ds,"")),h=c.length,f=0;f<=h;){var v=f<h?c[f]:Cs;switch(e){case 0:if(!nu(v)){if(null===r){u.length=0,e=2;continue}throw new l("Invalid scheme")}u.push(uu(v)),e=1;break;case 1:if(ru(v)||43===v||45===v||46===v)u.push(uu(v));else{if(58!==v){if(null===r){u.length=0,e=2,f=0;continue}throw new l("Invalid scheme")}var d=Eu(u);if(null!==r){if(ps(i.Ta)&&!ps(d))return;if(!ps(i.Ta)&&ps(d))return;if((bs(i)||null!==i.Ca)&&"file"===d)return;if("file"===i.Ta&&(i.Ia===zu||null===i.Ia))return}if(i.Ta=d,null!==r)return void(As(i)&&i.Ca===gs[i.Ta]&&(i.Ca=null));u.length=0,"file"===i.Ta?e=13:As(i)&&n&&n.Ta===i.Ta?e=3:As(i)?e=7:47===c[f+1]?(e=4,f+=1):(i.Na=!0,i.Ra.push(""),e=18)}break;case 2:if(!n||n.Na&&35!==v)throw new l("Invalid scheme");n.Na&&35===v?(i.Ta=n.Ta,i.Ra=n.Ra.slice(),i.pa=n.pa,i.Da="",i.Na=!0,e=20):"file"!==n.Ta?(e=5,f-=1):(e=13,f-=1);break;case 3:47===v&&47===c[f+1]?e=8:(e=5,f-=1);break;case 4:47===v?e=9:(e=17,f-=1);break;case 5:i.Ta=n.Ta,Cs===v?(i.Ea=n.Ea,i.Sa=n.Sa,i.Ia=n.Ia,i.Ca=n.Ca,i.Ra=n.Ra.slice(),i.pa=n.pa):47===v?e=6:63===v?(i.Ea=n.Ea,i.Sa=n.Sa,i.Ia=n.Ia,i.Ca=n.Ca,i.Ra=n.Ra.slice(),i.pa="",e=19):35===v?(i.Ea=n.Ea,i.Sa=n.Sa,i.Ia=n.Ia,i.Ca=n.Ca,i.Ra=n.Ra.slice(),i.pa=n.pa,i.Da="",e=20):92===v&&As(i)?e=6:(i.Ea=n.Ea,i.Sa=n.Sa,i.Ia=n.Ia,i.Ca=n.Ca,i.Ra=n.Ra.slice(),i.Ra.pop(),e=17,f-=1);break;case 6:!As(i)||47!==v&&92!==v?47===v?e=9:(i.Ea=n.Ea,i.Sa=n.Sa,i.Ia=n.Ia,i.Ca=n.Ca,e=17,f-=1):e=8;break;case 7:if(47!==v||47!==c[f+1]){e=8;continue}e=8,f+=1;break;case 8:47!==v&&92!==v&&(e=9,f-=1);break;case 9:if(64===v){s&&u.unshift(37,52,48),s=!0;for(var _=0;_<u.length;_++){var g=u[_];if(58!==g||a){var y=Eu(Fu(g,Lu));a?i.Sa+=y:i.Ea+=y}else a=!0}u.length=0}else if(Cs===v||47===v||63===v||35===v||As(i)&&92===v){if(s&&0===u.length)throw new l("Invalid host");f-=u.length+1,u.length=0,e=10}else u.push(v);break;case 10:case 11:if(null!==r&&"file"===i.Ta)f-=1,e=15;else if(58!==v||o)if(Cs===v||47===v||63===v||35===v||As(i)&&92===v){if(f-=1,As(i)&&0===u.length)throw new l("Invalid host");if(null!==r&&0===u.length&&(bs(i)||null!==i.Ca))return;var m=Qu(Eu(u),As(i));if(i.Ia=m,u.length=0,e=16,null!==r)return}else 91===v?o=!0:93===v&&(o=!1),u.push(v);else{if(0===u.length)throw new l("Invalid host");var k=Qu(Eu(u),As(i));if(i.Ia=k,u.length=0,e=12,11===r)return}break;case 12:if(iu(v))u.push(v);else{if(!(Cs===v||47===v||63===v||35===v||As(i)&&92===v||null!==r))throw new l("Invalid port");if(0!==u.length){var p=w(Eu(u),10);if(p>65535)throw new l("Invalid port");i.Ca=p===gs[i.Ta]?null:p,u.length=0}if(null!==r)return;e=16,f-=1}break;case 13:i.Ta="file",47===v||92===v?e=14:n&&"file"===n.Ta?Cs===v?(i.Ia=n.Ia,i.Ra=n.Ra.slice(),i.pa=n.pa):63===v?(i.Ia=n.Ia,i.Ra=n.Ra.slice(),i.pa="",e=19):35===v?(i.Ia=n.Ia,i.Ra=n.Ra.slice(),i.pa=n.pa,i.Da="",e=20):(Ts(c.slice(f))||(i.Ia=n.Ia,i.Ra=n.Ra.slice(),Is(i)),e=17,f-=1):(e=17,f-=1);break;case 14:47===v||92===v?e=15:(n&&"file"===n.Ta&&!Ts(c.slice(f))&&(Rs(n.Ra[0])?i.Ra.push(n.Ra[0]):i.Ia=n.Ia),e=17,f-=1);break;case 15:if(Cs===v||47===v||92===v||63===v||35===v)if(f-=1,null===r&&Ss(u))e=17;else if(0===u.length){if(i.Ia=zu,null!==r)return;e=16}else{var A=Qu(Eu(u),As(i));if(0===A.ga&&"localhost"===A.ya&&(A=zu),i.Ia=A,null!==r)return;u.length=0,e=16}else u.push(v);break;case 16:As(i)?(e=17,47!==v&&92!==v&&(f-=1)):null===r&&63===v?(i.pa="",e=19):null===r&&35===v?(i.Da="",e=20):Cs!==v&&(e=17,47!==v&&(f-=1));break;case 17:if(Cs===v||47===v||As(i)&&92===v||null===r&&(63===v||35===v)){var b=Eu(u);if(ks(b)?(Is(i),47===v||As(i)&&92===v||i.Ra.push("")):!ms(b)||47===v||As(i)&&92===v?ms(b)||("file"===i.Ta&&0===i.Ra.length&&Ss(u)&&(zu!==i.Ia&&null!==i.Ia&&(i.Ia=zu),u[1]=58,b=Eu(u)),i.Ra.push(b)):i.Ra.push(""),u.length=0,"file"===i.Ta&&(Cs===v||63===v||35===v))for(;i.Ra.length>1&&""===i.Ra[0];)i.Ra.shift();63===v?(i.pa="",e=19):35===v&&(i.Da="",e=20)}else u.push.apply(u,Fu(v,Bu));break;case 18:63===v?(i.pa="",e=19):35===v?(i.Da="",e=20):Cs!==v&&(i.Ra[0]+=Eu(Fu(v,xu)));break;case 19:null===r&&35===v?(i.Da="",e=20):Cs!==v&&(i.pa+=Eu(Fu(v,As(i)?Uu:Mu)));break;case 20:Cs===v||0===v||(i.Da+=Eu(Fu(v,Pu)))}f++}return i}function Ps(t,n,i,r){try{xs(t,n,i,r)}catch(t){}}var Bs=function(){this.Ta="",this.Ea="",this.Sa="",this.Ia=null,this.Ca=null,this.Ra=[],this.pa=null,this.Da=null,this.Na=!1};function Ls(t){switch(t.Ta){case"blob":var n;try{n=xs(t.Ra[0],null)}catch(t){return _s}return Ls(n);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return i=t.Ta,r=t.Ia,e=t.Ca,i+"://"+Yu(r)+(null===e?"":":"+e);case"file":default:return _s}var i,r,e}var Ms=function(){function t(t,n){var i,r,e=null;if(null!=n)if(null!=(i=n)&&i instanceof Ms&&"object"==typeof i.ka)e=n.ka;else try{e=xs(String(n),null)}catch(t){throw new l("Invalid base URL: "+t.message)}try{r=xs(String(t),e)}catch(t){throw new l("Invalid URL: "+t.message)}var u=r.pa;this.ka=r,this.pa=function(t){var n=new cs;return null!==t&&os(n,t),n}(u),this.pa.ka=this}var n,i,r,e=t.prototype;return e.toString=function(){return this.href},e.toJSON=function(){return this.href},n=t,(i=[{key:"href",get:function(){return function(t,n){void 0===n&&(n=!1);var i=t.Ta+":";if(null!==t.Ia?(i+="//",bs(t)&&(i+=t.Ea,""!==t.Sa&&(i+=":"+t.Sa),i+="@"),i+=Yu(t.Ia),null!==t.Ca&&(i+=":"+t.Ca)):null===t.Ia&&"file"===t.Ta&&(i+="//"),t.Na)i+=t.Ra[0];else for(var r=0,e=t.Ra;r<e.length;r++)i+="/"+e[r];return null!==t.pa&&(i+="?"+t.pa),n||null===t.Da||(i+="#"+t.Da),i}(this.ka)},set:function(t){var n;try{n=xs(String(t),null)}catch(t){throw new l("Invalid URL: "+t.message)}this.ka=n,ss(this.pa);var i=this.ka.pa;null!==i&&os(this.pa,i)}},{key:"origin",get:function(){return Ls(this.ka)}},{key:"protocol",get:function(){return this.ka.Ta+":"},set:function(t){Ps(t+":",null,this.ka,0)}},{key:"username",get:function(){return this.ka.Ea},set:function(t){Ns(this.ka)||(this.ka.Ea=Hu(t,Lu))}},{key:"password",get:function(){return this.ka.Sa},set:function(t){Ns(this.ka)||(this.ka.Sa=Hu(t,Lu))}},{key:"host",get:function(){var t=this.ka,n=t.Ia;if(null===n)return"";var i=t.Ca,r=Yu(n);return null!==i&&(r+=":"+i),r},set:function(t){this.ka.Na||Ps(t,null,this.ka,10)}},{key:"hostname",get:function(){var t=this.ka.Ia;return null===t?"":Yu(t)},set:function(t){this.ka.Na||Ps(t,null,this.ka,11)}},{key:"port",get:function(){var t=this.ka.Ca;return null===t?"":""+t},set:function(t){Ns(this.ka)||(""===t?this.ka.Ca=null:Ps(t,null,this.ka,12))}},{key:"pathname",get:function(){var t=this.ka.Ra;return this.ka.Na?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.ka.Na||(this.ka.Ra.length=0,Ps(t,null,this.ka,16))}},{key:"search",get:function(){var t=this.ka.pa;return null===t||""===t?"":"?"+t},set:function(t){t=ns(t);var n=this.ka;if(""===t)return n.pa=null,void ss(this.pa);"?"===t[0]&&(t=t.slice(1)),n.pa="",Ps(t,null,n,19),os(this.pa,t)}},{key:"searchParams",get:function(){return this.pa}},{key:"hash",get:function(){var t=this.ka.Da;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.ka.Da="",Ps(t,null,this.ka,20)):this.ka.Da=null}}])&&He(n.prototype,i),r&&He(n,r),t}();function Us(t,n){for(var i=0,r=_.keys(n);i<r.length;i++){var e=r[i];t.searchParams.set(e,n[e])}}function Fs(t,n){var i=r.Oa(t).href;return n&&!ln(i,"/")&&(i+="/"),i}var Hs=/cache:(.+)?(?=&|$)/,Vs="http://webcache.googleusercontent.com/search?q=cache:";function Xs(t){if(!dn(t,Vs))return"";var n=r.Oa(t).search.match(Hs);return n&&n.length>1?n[1]:""}function Ws(t){return r.Oa(t).hostname}var qs,zs=g.pow(2,-52);function Gs(t,n,i){return g.min(g.max(t,n),i)}function js(t,n,i){return t===n||g.abs(t-n)<=i}function Qs(t,n){if(t===n)return!0;var i=g.abs(t-n);return i<zs||i<g.max(g.abs(t),g.abs(n))*zs}function Ys(t){return t!=t}function Zs(t,n){return t===n||Ys(t)&&Ys(n)}function Js(t,n){for(var i=t,r=n;0!==r;){var e=i%r;i=r,r=e}return i<0?-i:i}!function(t){t[t.xa=0]="xa",t[t.Pa=1]="Pa",t[t.Ba=-1]="Ba"}(qs||(qs={}));var Ks=function(t,n){return(0|t)-(0|n)},$s=function(t,n){return t===n?qs.xa:t<n?qs.Ba:t>n?qs.Pa:m(t)?m(n)?qs.xa:qs.Pa:qs.Ba};function to(t,n,i){return js(t,n,i)?qs.xa:$s(t,n)}var no=function(t,n){return Qs(t,n)?qs.xa:$s(t,n)};var io=function(){function t(t,n){void 0===n&&(n=1),this.La=t,this.Ma=n}t.Ua=function(n){return new t(g.ceil(n.La),n.Ma)},t.Fa=function(n){return new t(g.floor(n.La),n.Ma)},t.Ha=function(t,n){return t.Va(n)?t:n},t.Xa=function(t,n){return t.Wa(n)?t:n};var n=t.prototype;return n.qa=function(n){return this.Ma>=n.Ma?new t(this.La+n.za(this.Ma).La,this.Ma):new t(this.za(n.Ma).La+n.La,n.Ma)},n.Ga=function(t){return t.ja(this)},n.Va=function(t){return t.Wa(this)},n.Qa=function(n){return this.Ma>=n.Ma?new t(g.abs(this.La-n.za(this.Ma).La),this.Ma):n.Qa(this)},n.Ya=function(t,n){return this.Qa(t).Wa(n)},n.Za=function(t){return ro(this,t)},n.Ja=function(t){return 0===this.Za(t)},n.ja=function(t){return this.Za(t)<0},n.Wa=function(t){return this.Za(t)<=0},n.za=function(n){return new t(this.La*(n/this.Ma),n)},n.Ka=function(n){return this.Ma>=n.Ma?new t(this.La-n.za(this.Ma).La,this.Ma):new t(this.za(n.Ma).La-n.La,n.Ma)},n.$a=function(n){return new t(this.La*n,this.Ma)},T(t,[{key:"tc",get:function(){return!isFinite(this.La)}},{key:"nc",get:function(){return this.La/this.Ma}}]),t}();function ro(t,n){return t.Ma>=n.Ma?no(t.La,n.za(t.Ma).La):no(t.za(n.Ma).La,n.La)}io.ic=new io(1/6,1),io.rc=new io(0),io.ec=new io(1/0),io.uc=1e6;var eo=!!("ontouchstart"in t||t.DocumentTouch&&s instanceof t.DocumentTouch)||!(!a||!a.msMaxTouchPoints),uo=Pe(),so=!(!uo||!uo.webkitShowPlaybackTargetPicker),oo=function(){function t(){this.sc=new io(0,1),this.oc=!1,this.It=eo,this.Vt=!1,this.ac=!0,this.cc=!1}var n=t.prototype;return n.hc=function(t,n){return!0},n.fc=function(t){return t.Va(io.ic.$a(2))},T(t,[{key:"vc",get:function(){return u.devicePixelRatio||1}},{key:"dc",get:function(){return so}},{key:"lc",get:function(){return!1}},{key:"_c",get:function(){return!0}},{key:"gc",get:function(){return P.nn}}]),t}(),ao=function(t){function n(){return t.call(this)||this}return ct(n,t),n}(oo),co=function(t){function n(){return t.apply(this,arguments)||this}return ct(n,t),n.prototype.hc=function(t,n){if(t&&t.wc&&n&&n.wc){var i=ho(t.wc,"mp4a.40.2")&&ho(n.wc,"mp4a.40.5"),r=ho(t.wc,"mp4a.40.5")&&ho(n.wc,"mp4a.40.2"),e=ho(t.wc,"mp4a.40.2")&&ho(n.wc,"mp4a.40.34"),u=ho(t.wc,"mp4a.40.34")&&ho(n.wc,"mp4a.40.2"),s=ho(t.wc,"mp4a.40.5")&&ho(n.wc,"mp4a.40.34"),o=ho(t.wc,"mp4a.40.34")&&ho(n.wc,"mp4a.40.5");return!(i||r||e||u||s||o)}return!0},n}(ao);function ho(t,n){return t.indexOf(n)>-1}var fo=function(t){function n(){return t.apply(this,arguments)||this}return ct(n,t),n.prototype.fc=function(t){return t.Va(new io(2))},n}(ao),vo=function(t){function n(){var n;return(n=t.call(this)||this).oc=P.in>=11,n.ac=P.nn&&!(P.Ft&&P.in<10),n}return ct(n,t),n}(ao),lo=function(){var t=xe();if(!t)return!1;var n=t.muted;return t.muted=!n,t.muted!==n}();!function(){if(P.Mt)return!1;var t=xe();if(!t)return!1;var n=t.volume;t.volume=n/2+.1,t.volume}();var _o=function(t){function n(n){var i;return(i=t.call(this)||this).yc=n,i.yc&&(i.sc=i.yc.sc,i.oc=i.yc.oc,i.It=i.yc.It,i.ac=lo&&i.yc.ac,i.cc=P.sn),i}ct(n,t);var i=n.prototype;return i.hc=function(n,i){return this.yc?this.yc.hc(n,i):t.prototype.hc.call(this,n,i)},i.fc=function(n){return this.yc?this.yc.fc(n):t.prototype.fc.call(this,n)},n}(oo),go=function(t){function n(n){var i;return(i=t.call(this,n)||this).oc=!0,i.Vt=!0,i}return ct(n,t),n}(_o),wo=function(t){function n(){return t.apply(this,arguments)||this}return ct(n,t),n.prototype.hc=function(n,i){return!(i.mc>1920)&&t.prototype.hc.call(this,n,i)},T(n,[{key:"lc",get:function(){return P.jt<3}},{key:"_c",get:function(){return P.jt>=3}}]),n}(_o),yo=function(){function t(){this.kc=xt()}var n=t.prototype;return n.Fs=function(t){this.kc.delete(t)},n.pc=function(){this.kc.clear()},n.Ls=function(t){return this.kc.get(t)},n.Ac=function(t,n){this.kc.set(t,n)},t}(),mo=function(){function t(){}return t.bc=function(){return t.dn||(t.dn=ko.Oo()?new ko:new yo),t.dn},t.Fs=function(n){t.bc().Fs(n)},t.pc=function(){t.bc().pc()},t.Ls=function(n){return t.bc().Ls(n)},t.Ac=function(n,i){t.bc().Ac(n,i)},t}();mo.dn=void 0;var ko=function(n){function i(){return n.apply(this,arguments)||this}ct(i,n),i.Oo=function(){try{return t.sessionStorage.setItem("foobar","foobar"),t.sessionStorage.removeItem("foobar"),!0}catch(t){return!1}};var r=i.prototype;return r.Fs=function(n){t.sessionStorage.removeItem(n)},r.pc=function(){t.sessionStorage.clear()},r.Ls=function(n){return t.sessionStorage[n]},r.Ac=function(n,i){t.sessionStorage[n]=i},i}(mo);var po=function(){var n,i=t.Blob;if(i)try{return new i,n=i,function(t,i){return new n(t,i)}}catch(t){}var r,e=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder;return e?(r=e,function(t,n){var i=new r;if(t)for(var e=0;e<t.length;e++){var u=t[e];i.append(u)}return i.getBlob(n&&n.type||"")}):null}();function Ao(t,n,i){var r=po([n],{type:"application/octet-stream"}),e=URL.createObjectURL(r),u=function(t,n){var i=t,r=i.indexOf("?");if(r>=0&&(i=i.substr(0,r)),i=i.substr(i.lastIndexOf("/")+1),n){var e=i.indexOf(".");e<0&&(e=i.length),i=i.substr(0,e)+n+i.substr(e)}return i}(t,i),o=s.createElement("a");o.href=e,o.download=u,s.body.appendChild(o),o.click(),s.body.removeChild(o),URL.revokeObjectURL(e)}var bo,To,Eo=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).sc=new io(2,1),n}return ct(n,t),n}(go),So=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).sc=new io(1,1),n}return ct(n,t),n}(go),Ro=function(){function n(){var n;this.Tc=new gt,this.Ec=new Io,this.Sc=void 0,this.Rc=(n=function(){if(P.$t)return new co;if(P.Yt||P.Zt)return new fo;if(P.nn)return new vo;return new ao}(),P.Ot?new Eo(n):P.Ft?new So(n):P.Vt?new go(n):P.Gt?new wo(n):new _o(n)),t.performance&&t.performance.now?this.Ic=function(){return t.performance.now()}:this.Ic=ot}var i=n.prototype;return i.Nc=function(){rt.apply(void 0,arguments)},i.Cc=function(){et.apply(void 0,arguments)},i.Dc=function(){ut.apply(void 0,arguments)},i.Oc=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];st.apply(void 0,[t].concat(i))},i._n=function(t,n){return c(t,n)},i.xc=function(t,n){return f(t,n)},i.ln=function(t){h(t)},i.Pc=function(t){v(t)},i.An=function(t){return this.Tc.An(t)},i.Gu=function(){return this.Bc.Gu()},i.Vu=function(){return this.Bc.Vu()},i.Wu=function(){return this.Bc.Wu()},i.Xu=function(){return this.Bc.Xu()},i.Fu=function(){return this.Bc.Fu()},i.qu=function(t,n){return this.Bc.qu(t,n)},i.Hu=function(t){return this.Bc.Hu(t)},i.Oa=function(t,n){var i;return void 0===n&&(n=(i=Xt).document&&i.document.baseURI||i.location.href||""),new Ms(t,n)},T(n,[{key:"Bc",get:function(){return this.Sc||(this.Sc=new bn(Fe())),this.Sc}},{key:"Lc",get:function(){return this.Ec}},{key:"Mc",get:function(){return this.Rc}},{key:"Uc",get:function(){return mo.bc()}},{key:"Fc",get:function(){return{Hc:Ao}}},{key:"Vc",get:function(){return a.connection&&a.connection.effectiveType||"default"}},{key:"Xc",get:function(){return a.connection&&a.connection.type||"unknown"}},{key:"Wc",get:function(){return{qc:a&&a.userAgent.match(/Android /i)?"Android":"other",zc:Boolean(a&&a.userAgent.match(/Android 8.0.0/i))}}}]),n}(),Io=function(){function t(){}return T(t,[{key:"Gc",get:function(){return a.oscpu}},{key:"Mc",get:function(){return a.platform}},{key:"jc",get:function(){return a.vendor}},{key:"Qc",get:function(){return a.vendorSub}}]),t}();bo=new Ro,r=bo,function(t){t.Yc="Zc",t.Jc="Kc"}(To||(To={}));To.Yc,To.Jc;var No=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).$c=void 0,r}return ct(n,t),T(n,[{key:"th",get:function(){return this.$c||(this.$c=this.nh()),this.$c}}]),n}(ei);var Co,Do=function(t){function n(n){return t.call(this,n)||this}return ct(n,t),n}(No),Oo=function(t){function n(n){return t.call(this,n)||this}return ct(n,t),n}(ei),xo=function(t){function n(n){var i;return(i=t.call(this,To.Yc)||this).ih=n,i}return ct(n,t),n.prototype.nh=function(){return new Po(this.ih.th)},n}(Do),Po=function(t){function n(n){var i;return(i=t.call(this,"addtrack")||this).track=n,i}return ct(n,t),n}(Oo),Bo=function(t){function n(n){var i;return(i=t.call(this,To.Jc)||this).ih=n,i}return ct(n,t),n.prototype.nh=function(){return new Lo(this.ih.th)},n}(Do),Lo=function(t){function n(n){var i;return(i=t.call(this,"removetrack")||this).track=n,i}return ct(n,t),n}(Oo);!function(t){t.rh="eh",t.uh="sh",t.oh="ah",t.hh="fh",t.vh="dh",t.lh="_h",t.gh="wh",t.yh="mh",t.kh="_o",t.ph="Ah",t.bh="Th",t.QUALITY_UNAVAILABLE="qualityunavailable",t.NO_QUALITY="noquality"}(Co||(Co={}));var Mo=function(t){function n(){var n;return(n=t.call(this)||this).Eh=[],n.$c=void 0,n}ct(n,t);var i=n.prototype;return i.Sh=function(t){return this.Eh[t]},i.Rh=function(t){return!(!t||Dn(this.Eh,t))&&(this.Eh.push(t),this.$c&&this.$c.push(t.th),t.ls(Co.lh,this.fs),this.vs(new xo(t)),!0)},i.Ih=function(t){if(!t)return!1;var n=this.Eh.indexOf(t);return!(n<0)&&(Cn(this.Eh,n),this.$c&&Cn(this.$c,n),t.ys(Co.lh,this.fs),this.vs(new Bo(t)),!0)},i.Nh=function(t){return Dn(this.Eh,t)},i.Ch=function(){for(var t=this.Eh,n=t.length-1;n>=0;n-=1)this.Ih(t[n])},i.Dh=function(){this.Ch(),this.gs()},T(n,[{key:"Oh",get:function(){return this.Eh}},{key:"th",get:function(){return this.$c||(this.$c=this.nh()),this.$c}},{key:"xh",get:function(){return this.Eh.length}}]),n}(ii),Uo=function(t){function n(n){var i;return(i=t.call(this,Co.lh)||this).ih=n,i}return ct(n,t),n.prototype.nh=function(){return new Fo(this.ih.th)},n}(Do),Fo=function(t){function n(n){var i;return(i=t.call(this,"change")||this).track=n,i}return ct(n,t),n}(Oo),Ho=function(t){function n(){var n;return(n=t.call(this)||this).Ph=void 0,n.Bh=function(t){var i=t.ih;n.Rh(i)},n.Lh=function(t){var i=t.ih;n.Ih(i)},n}ct(n,t);var i=n.prototype;return i.Mh=function(t){t.ls(To.Yc,this.Bh),t.ls(To.Jc,this.Lh)},i.Uh=function(t){t.ys(To.Yc,this.Bh),t.ys(To.Jc,this.Lh)},i.Dh=function(){this.Ph&&this.Ph.Dh(),t.prototype.Dh.call(this)},T(n,[{key:"Fh",get:function(){return this.Ph},set:function(t){var n=this.Ph;if(t!==n){if(n){this.Uh(n);for(var i=0,r=n.Oh;i<r.length;i++){var e=r[i];t&&t.Nh(e)||this.Ih(e)}}if(this.Ph=t,t){for(var u=[],s=0,o=t.Oh;s<o.length;s++){var a=o[s];this.Rh(a),this.Hh(a)&&u.push(a)}this.Mh(t);for(var c=0;c<u.length;c++){var h=u[c];h.vs(new Uo(h))}}}}}]),n}(Mo),Vo=_.freeze||Q;function Xo(t,n,i){_.defineProperty(t,n,{writable:!1,enumerable:!0,value:i})}function Wo(t,n){for(var i=0,r=_.getOwnPropertyNames(n);i<r.length;i++){var e=r[i];_.defineProperty(t,e,_.getOwnPropertyDescriptor(n,e))}return t}function qo(t){if(V(t)){var n={};for(var i in t)B.call(t,i)&&(n[i]=qo(t[i]));return n}if(U(t)){for(var r=new Array(t.length),e=0;e<r.length;e++)e in t&&(r[e]=qo(t[e]));return r}return t}function zo(t,n){return t===n||!(!t||!n)&&(!(!H(t)||!H(n))&&(F(t)?!!F(n)&&function(t,n){var i=t.length,r=n.length;if(i!==r)return!1;for(var e=0;e<i;e+=1)if(!zo(t[e],n[e]))return!1;return!0}(t,n):!F(n)&&function(t,n){var i=_.keys(t),r=_.keys(n);if(!i||!r||i.length!==r.length)return!1;for(var e=0;e<i.length;e++){var u=i[e];if(!B.call(n,u)||!zo(t[u],n[u]))return!1}return!0}(t,n)))}function Go(t,n){return t.constructor===n.constructor}function jo(t){for(var n={},i=0,r=_.keys(t);i<r.length;i++){var e=r[i],u=t[e];null!=u&&(n[e]=u)}return n}function Qo(t){var n=t;if("string"==typeof n){if("true"===(n=n.toLowerCase()))return!0;if("false"===n)return!1}return Boolean(n)}function Yo(t){return"string"==typeof t?""===t?NaN:Number(t):"boolean"==typeof t||null==t||t instanceof Date||"number"!=typeof Number(t)&&!t?NaN:Number(t)}function Zo(t){var n=Yo(t);if(m(n))throw new d("Expected a valid number.");return n}function Jo(t){return"string"==typeof t?t:""}function Ko(t,n){return F(t)?function(t,n){if(!F(t))return[];for(var i=0|t.length,r=new Array(i),e=0;e<i;e++)r[e]=n(t[e]);return r}(t,n):n(t)}var $o=[To.Yc,To.Jc,Co.lh];function ta(t){var n,i=t.Oh.map(function(t){return t.th});return i.item=function(n){var i=0|n,r=t.Sh(i);return r&&r.th||void 0},i.addEventListener=function(t,i){n.ls(t,i)},i.removeEventListener=function(t,i){n.ys(t,i)},n=new ri(i),t.ls($o,function(t){return n.vs(t.th)}),i}function na(){}function ia(t){var n,i=[Co.kh,Co.lh,Co.ph,Co.bh,Co.QUALITY_UNAVAILABLE],r={get activeQuality(){return t.Vh&&t.Vh.th},get enabled(){return t.Xh},set enabled(n){t.Xh=Qo(n)},get id(){return t.Wh},get uid(){return t.qh},get kind(){return t.zh},get label(){return t.Gh},set label(n){t.Gh=Jo(n)},get language(){return t.jh},get qualities(){return t.Qh.th},set targetQuality(n){var i;(i=n?function(t,n){for(var i=[],r=0,e=t.Qh.Oh;r<e.length;r++)for(var u=e[r],s=0;s<n.length;s++){var o=n[s];u.th===o&&i.push(u)}return i}(t,U(n)?n:[n]):[]).length>0?t.Yh=i:t.Yh=void 0},get targetQuality(){if(t.Yh)return 1===t.Yh.length?t.Yh[0].th:t.Yh.map(function(t){return t.th})},addEventListener:function(t,i){var r=Ko(t,Jo);n.ls(r,i)},removeEventListener:function(t,i){var r=Ko(t,Jo);n.ys(r,i)}};return n=new ri(r),t.ls(i,function(t){return n.vs(t.th)}),_.defineProperty(r,"constructor",{value:na}),r}function ra(){}function ea(t){var n=ta(t);return _.defineProperty(n,"constructor",{value:ra}),n}var ua,sa,oa=function(t){function n(){return t.apply(this,arguments)||this}ct(n,t);var i=n.prototype;return i.nh=function(){return ea(this)},i.Hh=function(t){return t.Xh},n}(Ho);function aa(t){if("string"==typeof t){var n=t.toLowerCase();switch(n){case ua.Zh:case ua.Jh:case ua.Kh:return n}}else if("number"==typeof t)switch(t){case 0:return ua.Zh;case 1:return ua.Jh;case 2:return ua.Kh}return ua.Zh}function ca(){}function ha(t){var n,i=[Co.lh,Co.kh,Co.rh,Co.uh,Co.oh,Co.hh,Co.vh,Co.gh,Co.yh],r=[sa.$h],e={get kind(){return t.zh},get label(){return t.Gh},set label(n){t.Gh=Jo(n)},get language(){return t.jh},get id(){return t.Wh},get uid(){return t.qh},get inBandMetadataTrackDispatchType(){return t.tf},get mode(){return t.nf},set mode(n){n!==ua.Kh&&n!==ua.Jh&&n!==ua.Zh||(t.nf=n)},get type(){return t.Cu},get readyState(){return da(t.if)},get cues(){return t.nf===ua.Zh?null:t.rf.th},get activeCues(){return t.nf===ua.Zh?null:t.ef.th},get src(){return t.uf||""},addEventListener:function(t,i){var r=Ko(t,Jo);n.ls(r,i)},removeEventListener:function(t,i){var r=Ko(t,Jo);n.ys(r,i)}};return n=new ri(t),t.ls(i,function(t){return n.vs(t.th)}),t.ls(r,function(t){return n.vs(t)}),_.defineProperty(e,"constructor",{value:ca}),e}function fa(){}function va(t){var n=ta(t);return _.defineProperty(n,"constructor",{value:fa}),n}function da(t){return t}!function(t){t.Zh="disabled",t.Jh="hidden",t.Kh="showing"}(ua||(ua={})),function(t){t.$h="error"}(sa||(sa={}));var la,_a=function(t){function n(){return t.apply(this,arguments)||this}ct(n,t);var i=n.prototype;return i.nh=function(){return va(this)},i.Hh=function(t){return t.nf===ua.Kh},n}(Ho),ga=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).sf=void 0,n}ct(n,t);var i=n.prototype;return i.af=function(t){if("function"==typeof t){var n=this.sf;n?"function"==typeof n?this.sf=[n,t]:n.push(t):this.sf=t}},i.cf=function(t){var n=this.sf;n&&("function"==typeof n?n===t&&(this.sf=void 0):Nn(n,t))},i.gs=function(){t.prototype.gs.call(this),this.sf=void 0},i.vs=function(n){var i=$n(this.sf);t.prototype.vs.call(this,n),ti(this.ds,n,i)},n}(ii),wa=function(t){function n(){return t.apply(this,arguments)||this}return ct(n,t),n}(ga);!function(t){t.hf="canplay",t.ff="canplaythrough",t.vf="loadeddata",t.df="loadedmetadata",t.gh="readystatechange",t.lf="waiting",t._f="playing"}(la||(la={}));var ya,ma=[la.hf,la.ff,la.vf,la.df,la.gh,la.lf,la._f],ka=function(t){function n(n,i){var r;return(r=t.call(this,la.gh)||this).currentTime=n,r.readyState=i,r}return ct(n,t),n}(ei);!function(t){t[t.gf=0]="gf",t[t.wf=1]="wf",t[t.yf=2]="yf",t[t.mf=3]="mf",t[t.kf=4]="kf"}(ya||(ya={}));var pa,Aa=function(t){function n(n,i){var r;return void 0===i&&(i=ya.kf),(r=t.call(this,la.ff)||this).currentTime=n,r.readyState=i,r}return ct(n,t),n}(ei),ba=function(t){function n(n,i){var r;return void 0===i&&(i=ya.mf),(r=t.call(this,la.hf)||this).currentTime=n,r.readyState=i,r}return ct(n,t),n}(ei);!function(t){t.pf="Af",t.bf="Tf",t.Ef="contentprotectionerror",t.Sf="contentprotectionsuccess",t.Rf="currentsourcechange",t.If="destroy",t.Nf="durationchange",t.Cf="emptied",t.Ns="encrypted",t.Df="ended",t.Of="xf",t.Pf="loadstart",t.Bf="manifestupdate",t.Lf="nosupportedrepresentationfound",t.Mf="offline",t.Uf="online",t.Ff="pause",t.Hf="play",t.Vf="progress",t.Xf="ratechange",t.Wf="representationchange",t.qf="resize",t.zf="seeked",t.Gf="seeking",t.jf="segmentnotfound",t.Qf="Yf",t.Zf="Jf",t.Kf="sourcechange",t.$f="timeupdate",t.tv="volumechange",t.nv="rv",t.ev="metricschange"}(pa||(pa={}));var Ta,Ea=function(t){function n(n,i){var r;return(r=t.call(this,pa.tv)||this).currentTime=n,r.volume=i,r}return ct(n,t),n}(ei),Sa=function(t){function n(n){var i;return(i=t.call(this,pa.zf)||this).currentTime=n,i}return ct(n,t),n}(ei),Ra=function(t){function n(n){var i;return(i=t.call(this,pa.Gf)||this).currentTime=n,i}return ct(n,t),n}(ei),Ia=function(t){function n(n,i){var r;return void 0===i&&(i=ya.yf),(r=t.call(this,la.vf)||this).currentTime=n,r.readyState=i,r}return ct(n,t),n}(ei),Na=function(t){function n(n){var i;return(i=t.call(this,pa.Df)||this).currentTime=n,i}return ct(n,t),n}(ei),Ca=function(t){function n(n,i){var r;return(r=t.call(this,pa.$f)||this).currentTime=n,r.currentProgramDateTime=i,r}return ct(n,t),n}(ei),Da=function(t){function n(n,i){var r;return(r=t.call(this,pa.Xf)||this).currentTime=n,r.playbackRate=i,r}return ct(n,t),n}(ei),Oa=function(t){function n(n){var i;return(i=t.call(this,pa.Nf)||this).duration=n,i}return ct(n,t),n}(ei),xa=function(t){function n(n,i){var r;return void 0===i&&(i=ya.wf),(r=t.call(this,la.df)||this).currentTime=n,r.readyState=i,r}return ct(n,t),n}(ei),Pa=function(t){function n(n){var i;return(i=t.call(this,pa.Hf)||this).currentTime=n,i}return ct(n,t),n}(ei),Ba=function(t){function n(n,i){var r;return void 0===i&&(i=ya.gf),(r=t.call(this,pa.Cf)||this).currentTime=n,r.readyState=i,r}return ct(n,t),n}(ei),La=function(t){function n(n){var i;return(i=t.call(this,pa.Ff)||this).currentTime=n,i}return ct(n,t),n}(ei),Ma=function(t){function n(n){var i;return(i=t.call(this,"presentationmodechange")||this).presentationMode=n,i}return ct(n,t),n}(ei);function Ua(t,n,i){return new Ct(function(r,e){if(i&&i.Qu)return e(new Un);var u=function(t){o(),r(t)},s=function(){o(),e(new Un)},o=function(){t.removeEventListener(n,u),i&&i.ns(s)};t.addEventListener(n,u),i&&i.ts(s)})}!function(t){t.lh="fullscreenchange",t.uv="fullscreensupportchange",t.$h="fullscreenerror"}(Ta||(Ta={}));var Fa=function(t){function n(n,i){var r;return void 0===i&&(i=!1),(r=t.call(this,n)||this).sv=[],r.ov=function(t){jn(function(){r.fs(t)})},r.av=i?r.ov:r.fs,r}ct(n,t);var i=n.prototype;return i.cv=function(t){t.af(this.av),this.sv.push(t)},i.hv=function(t){t.cf(this.av),Nn(this.sv,t)},i.Dh=function(){this.gs();for(var t=0,n=this.sv;t<n.length;t++){n[t].cf(this.av)}xn(this.sv)},n}(ga),Ha=function(t){function n(){return t.apply(this,arguments)||this}return ct(n,t),n}(Fa);var Va,Xa=function(t){function n(n){var i;return(i=t.call(this,sa.$h)||this).errorObject=n,i}return ct(n,t),n.prototype.nh=function(){return this},T(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(No);!function(t){t.INLINE="inline",t.FULLSCREEN="fullscreen",t.PICTURE_IN_PICTURE="picture-in-picture"}(Va||(Va={}));var Wa,qa,za,Ga,ja,Qa,Ya=function(t){function i(n){var i;return(i=t.call(this)||this).fv=!1,i.vv=!1,i.$c=void 0,i.dv=function(){return i.lv()},i._v=function(){return i.gv()},i.wv=n,i.yv=i.mv=i.kv=i.pv=Va.INLINE,i.wv.ls(Ta.lh,i.dv),i.wv.ls(Ta.$h,i._v),i.Av(),i}ct(i,t);var r=i.prototype;return r.nh=function(){return t=this,i={get currentMode(){return t.bv()},requestMode:function(n){var i=wc(n);i&&t.Tv(i)},supportsMode:function(n){var i=wc(n);return!!i&&t.Ev(i)},addEventListener:function(t,i){n.ls(t,i)},removeEventListener:function(t,i){n.ys(t,i)}},(n=new Fa(i,!0)).cv(t),i;var t,n,i},r.Tv=function(t){this.Sv(t,t)},r.Sv=function(t,n){this.mv!==n&&(this.fv=!0,this.yv=t,this.Rv(n,this.mv),t!==Va.FULLSCREEN&&(this.kv=t),this.fv=!1,this.Av())},r.bv=function(){return this.vv?Va.FULLSCREEN:Va.INLINE},r.Ev=function(t){switch(t){case Va.FULLSCREEN:return this.wv.Iv;case Va.INLINE:return!0}return!1},r.Av=function(){if(!this.fv){var t=this.mv,n=this.bv();this.mv=n,n!==Va.FULLSCREEN&&(this.pv=n),t!==n&&this.vs(new Ma(n))}},r.Rv=function(t,n){var i=t===Va.FULLSCREEN;this.vv=i,i!==this.wv.Nv&&(i?this.wv.Cv():this.wv.Dv())},r.lv=function(){if(!this.fv){var t=this.wv.Nv;this.vv=t,t?this.Sv(Va.FULLSCREEN,Va.FULLSCREEN):t||this.yv!==Va.FULLSCREEN?this.Av():this.Sv(this.kv,this.pv)}},r.gv=function(){this.lv(),this.vs(new Xa(new le(n.ErrorCode.FULLSCREEN_ERROR,"Failed to enter fullscreen.")))},r.Dh=function(){this.wv.Dh(),this.gs()},T(i,[{key:"th",get:function(){return this.$c||(this.$c=this.nh()),this.$c}}]),i}(ga),Za="1ADD53F3";function Ja(t){return{chromecast:function(t){return{appID:t&&t.appID?Jo(t.appID):Za}}(t?t.chromecast:void 0),strategy:function(t){switch(t){case"auto":return Wa.AUTO;case"manual":return Wa.MANUAL;case"disabled":return Wa.DISABLED;default:return Wa.MANUAL}}(t?t.strategy:void 0)}}function Ka(t){var n,i=za.Ov;return(n=t)&&vn(n,"mpd")&&(i=za.xv),function(t){return!!t&&vn(t,"m3u8")}(t)&&(i=za.Pv),i}function $a(t){switch(t){case qa.Bv:case qa.Lv:return t;default:return qa.Mv}}function tc(t){return!!t&&dn(t.toLowerCase(),za.xv)}function nc(t){return H(t)&&H(t.ssai)&&"google-dai"===t.ssai.integration}function ic(t){return H(t)&&X(t.integration)&&"verizon-media"===t.integration}function rc(t){if(X(t))return!t;if(ic(t))return!t.id;if(nc(t)){var n=t.ssai,i="live"===n.availabilityType&&n.assetKey,r="vod"===n.availabilityType&&n.contentSourceID&&n.videoID;return Boolean(i&&r)}return!t.src}function ec(t){return Boolean(H(t)&&X(t.src))}function uc(t){return X(t)||ec(t)||nc(t)||ic(t)}function sc(t){if(t){if(uc(t))return rc(t);for(var n=0;n<t.length;n++){if(!rc(t[n]))return!1}return!0}return!0}function oc(){return{crossOrigin:qa.Mv,useCredentials:!1,liveOffset:void 0,timeServer:void 0,hlsDateRange:!1,experimentalRendering:!1,nativeUiRendering:!1,lowLatency:!1,useNativePlayback:!1,dash:void 0,hls:void 0}}function ac(){return Dt(Dt({},oc()),{src:void 0,type:za.Ov,contentProtection:void 0,ssai:void 0,integrationData:void 0})}function cc(t){var n={allowedMimeTypes:void 0,preload:"midroll-and-postroll",showCountdown:!0,vpaidMode:Ga.ENABLED,googleImaConfiguration:{useNativeIma:!1}};return void 0===t?n:(void 0!==t.preload&&(n.preload=function(t){switch(t){case"none":return ja.NONE;case"midroll-and-postroll":default:return ja.MIDROLL_AND_POSTROLL}}(t.preload)),void 0!==t.showCountdown&&(n.showCountdown=Qo(t.showCountdown)),void 0!==t.vpaidMode&&(n.vpaidMode=function(t){switch(t){case"insecure":return Ga.INSECURE;case"disabled":return Ga.DISABLED;case"enabled":default:return Ga.ENABLED}}(t.vpaidMode)),U(t.allowedMimeTypes)&&(n.allowedMimeTypes=t.allowedMimeTypes.filter(X)),void 0!==t.googleImaConfiguration&&(n.googleImaConfiguration=function(t){return void 0===t?{useNativeIma:!1}:{useNativeIma:Qo(t.useNativeIma)}}(t.googleImaConfiguration)),n)}function hc(t){if(!F(t))return[];for(var n=[],i=0;i<t.length;i++){var r=t[i];V(r)&&n.push(r)}return n}function fc(t){switch(t){case Qa.ALL:case Qa.CONTENT:return t;default:return Qa.NONE}}function vc(t){var n,i,e,u=qo(t||{});return u.libraryLocation&&(u.libraryLocation=Fs(u.libraryLocation)),u.isEmbeddable=Boolean(u.isEmbeddable),u.cast=Ja(u.cast),u.ads=cc(u.ads),u.analytics=hc(u.analytics),u.mutedAutoplay=fc(u.mutedAutoplay),u.allowNativeFullscreen=Boolean(u.allowNativeFullscreen),u.allowMixedContent=Boolean(u.allowMixedContent),u.persistVolume=Boolean(u.persistVolume),u.liveOffset=(n=u.liveOffset,Number(n)||void 0),u.hlsDateRange=(i=u.hlsDateRange,Boolean(i)),u.retainPlaybackRateOnSourceChange=Boolean(u.retainPlaybackRateOnSourceChange),u.license=X(e=u.license)?e:void 0,u.licenseUrl=function(t){if(!t)return;try{return Fs(t)}catch(t){return void r.Cc("Invalid 'licenseUrl', falling back to default URL")}}(u.licenseUrl),u}!function(t){t.AUTO="auto",t.MANUAL="manual",t.DISABLED="disabled"}(Wa||(Wa={})),function(t){t.Mv="",t.Bv="anonymous",t.Lv="use-credentials"}(qa||(qa={})),function(t){t.xv="application/dash+xml",t.Pv="application/vnd.apple.mpegurl",t.Uv="application/x-mpegurl",t.Ov="video/mp4",t.Fv="application/vnd.theoplayer.hesp+json"}(za||(za={})),function(t){t.ENABLED="enabled",t.INSECURE="insecure",t.DISABLED="disabled"}(Ga||(Ga={})),function(t){t.NONE="none",t.MIDROLL_AND_POSTROLL="midroll-and-postroll"}(ja||(ja={})),function(t){t.NONE="none",t.ALL="all",t.CONTENT="content"}(Qa||(Qa={}));var dc={Hv:0,Vv:NaN,Xv:!1,Is:void 0,Wv:void 0,qv:!1,zv:!0,Gv:1,if:ya.gf,jv:!1,Qv:0,Yv:0,Zv:1};function lc(t){return{Hv:t.Hv,Vv:t.Vv,Xv:t.Xv,Is:t.Is,Wv:t.Wv,qv:t.qv,zv:t.zv,Gv:t.Gv,if:t.if,jv:t.jv,Qv:t.Qv,Yv:t.Yv,Zv:t.Zv}}function _c(t,n){var i=n.Zv,r=n.qv;t.Zv=i,t.qv=r}function gc(t,n,i){if(n!==i){var r=n.Hv,e=n.Vv,u=n.qv,s=n.zv,o=n.Gv,a=n.if,c=n.jv,h=(n.Yv,n.Qv,n.Zv),f=i.Hv,v=i.Vv,d=i.Xv,l=i.Wv,_=i.qv,g=i.zv,w=i.Gv,y=i.if,k=i.jv,p=(i.Yv,i.Qv,i.Zv);a!==ya.gf&&t.vs(new Ba(f,y)),g&&!s?t.vs(new La(f)):!g&&s&&t.vs(new Pa(f)),y>=ya.wf&&t.vs(new xa(f,y)),v===e||m(v)&&m(e)||t.vs(new Oa(v)),w!==o&&t.vs(new Da(f,w)),f!==r&&t.vs(new Ca(f,void 0)),d&&t.vs(new Na(f)),y>=ya.yf&&t.vs(new Ia(f,y)),k&&!c?t.vs(new Ra(f)):!k&&c&&t.vs(new Sa(f)),p===h&&_===u||t.vs(new Ea(f,p)),y>=ya.mf&&t.vs(new ba(f,y)),y>=ya.kf&&t.vs(new Aa(f,y)),y!==a&&t.vs(new ka(f,y)),l&&t.vs(new Xa(l))}}function wc(t){switch(t){case Va.INLINE:case Va.FULLSCREEN:case Va.PICTURE_IN_PICTURE:return t;default:return}}var yc=function(t){function n(){return t.call(this,pa.Of)||this}return ct(n,t),n}(ei),mc=function(t){function n(n){var i;return(i=t.call(this,pa.Rf)||this).currentSource=n,i}return ct(n,t),n}(ei),kc=function(){function t(){}return t.Jv=function(n,i){var r=t.Kv(n,i);return r?t.$v(r):0},t.td=function(){return r.Vc||"default"},t.nd=function(){return r.Xc||"unknown"},t.Kv=function(n,i){var e,u=null===(e=r.Uc)||void 0===e?void 0:e.Ls(i),s=u&&JSON.parse(u);if(s&&s[n])return t.rd(s,n,i)},t.$v=function(t){var n=t.availableBandwidth;return n||0},t.rd=function(n,i,r){if(!t.ed(n,i))return n[i];t.ud(n,i,r)},t.ud=function(t,n,i){var e;delete t[n],null===(e=r.Uc)||void 0===e||e.Ac(i,JSON.stringify(t))},t.ed=function(t,n){var i=t[n].storedTimestamp;if(!i)return!1;var r=new Date(i),e=(new Date).getTime();return r.setMonth(r.getMonth()+1)<=e},t.sd=function(t,n,i,r){var e;return Dt(Dt({},t),((e={})[n]={availableBandwidth:i,storedTimestamp:r},e))},t.od=function(n){var i=t.td();t.hd(i,"theoplayer-stored-network-info",n,ot())},t.hd=function(n,i,e,u){var s,o,a=null===(s=r.Uc)||void 0===s?void 0:s.Ls(i),c=a?JSON.parse(a):void 0,h=t.sd(c,n,e,u);null===(o=r.Uc)||void 0===o||o.Ac(i,JSON.stringify(h))},t.fd=function(){var n=t.td();return t.Jv(n,"theoplayer-stored-network-info")},t}();var pc,Ac=function(t){function n(n){var i;return(i=t.call(this)||this).vd=[],i.dd=!1,i.ld=new oa,i._d=new oa,i.gd=new _a,i.wd=!1,i.yd(n),n.af(i.fs),i.Ph=n,i.ld.Fh=n.md,i._d.Fh=n.kd,i.gd.Fh=n.pd,i}ct(n,t);var i=n.prototype;return i.Ad=function(){this.Ph.Ad()},i.bd=function(){this.Ph.bd()},i.Td=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Yn(this.vd.map(function(t){return t.Td()})).then(j));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Ed=function(){return this.Ph.Ed()},i.Sd=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Hn(i),t.next=3,this.Ph.Sd(n,i);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Rd=function(){return this.Fh.Rd()},i.Id=function(){this.Fh.Id()},i.Nd=function(){this.Fh.Nd()},i.Cd=function(){if(!this.dd){for(var t=0,n=this.vd;t<n.length;t++){n[t].Cd()}this.dd=!0}},i.Dd=function(t){this.Ph.Dd(t)},i.Od=function(){this.Ph.Od()},i.xd=function(){this.Ph.xd()},i.Pd=function(){this.Ph.Pd()},i.Bd=function(){return this.Ph.Bd()},i.Ld=function(){return this.Ph.Ld()},i.Md=function(){for(var t=[],n=0,i=this.vd;n<i.length;n++){var r=i[n];t.push.apply(t,r.Md())}return t},i.Ud=function(t){for(var n=!1,i=0,r=this.vd;i<r.length;i++){n=r[i].Ud(t)||n}return n},i.vs=function(n){this.Ud(n)||t.prototype.vs.call(this,n)},i.yd=function(t){this.vd.push(t)},i.Fd=function(t){Nn(this.vd,t)},i.Hd=function(t){if(t!==this.Ph){var n=this.Ph;n.Od(),n.cf(this.fs);var i=lc(this),r=this.Vd,e=this.Ld();this.Ph=t,this.ld.Fh=t.md,this._d.Fh=t.kd,this.gd.Fh=t.pd,gc(this,i,this);var u=this.Vd;u!==r&&this.vs(new mc(u)),this.Ld()!==e&&this.vs(new yc),t.af(this.fs),t.Dd(n)}},i.Xd=function(){},i.Dh=function(){var t=Ct.coroutine(Nt.mark(function t(){var n,i,r;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.gs(),this.Ph.Od(),n=0,i=this.vd;case 3:if(!(n<i.length)){t.next=10;break}return r=i[n],t.next=7,r.Dh();case 7:n++,t.next=3;break;case 10:this.ld.Dh(),this._d.Dh(),this.gd.Dh();case 13:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Ch=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Yn(this.vd.map(function(t){return t.Ch()})).then(j));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),T(n,[{key:"md",get:function(){return this.ld}},{key:"pd",get:function(){return this.gd}},{key:"kd",get:function(){return this._d}},{key:"Wd",get:function(){return this.Ph.Wd}},{key:"qd",get:function(){return this.Ph.qd},set:function(t){this.Ph.qd=t}},{key:"Vd",get:function(){return this.Ph.Vd}},{key:"Hv",get:function(){return this.Ph.Hv},set:function(t){this.Ph.Hv=t}},{key:"Vv",get:function(){return this.Ph.Vv}},{key:"zd",get:function(){return this.Ph.zd}},{key:"Xv",get:function(){return this.Ph.Xv}},{key:"Is",get:function(){return this.Ph.Is}},{key:"Wv",get:function(){return this.Ph.Wv}},{key:"Gd",get:function(){return this.Fh.Gd}},{key:"jd",get:function(){return this.Ph.jd}},{key:"Qd",get:function(){return function(t){for(var n=0,i=0,r=0,e=0,u=0,s={amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0},o=0;o<t.length;o++){var a=t[o];n+=a.Yd,i+=a.Zd,r+=a.Jd,e+=a.Kd,u+=a.$d,s.amountOfBufferedAudioSegments+=a.tl.amountOfBufferedAudioSegments,s.amountOfBufferedVideoSegments+=a.tl.amountOfBufferedVideoSegments}return{Yd:n,Zd:i,Jd:r,Kd:e,$d:u,tl:s}}(this.vd.map(function(t){return t.Qd}))}},{key:"qv",get:function(){return this.Ph.qv},set:function(t){this.Ph.qv=t}},{key:"nl",get:function(){return this.Ph.nl}},{key:"zv",get:function(){return this.Ph.zv}},{key:"Gv",get:function(){return this.Ph.Gv},set:function(t){this.Ph.Gv=t}},{key:"il",get:function(){return this.Ph.il}},{key:"ul",get:function(){return this.Ph.ul},set:function(t){this.Ph.ul=t}},{key:"if",get:function(){return this.Ph.if}},{key:"sl",get:function(){return this.Ph.sl}},{key:"jv",get:function(){return this.Ph.jv}},{key:"Qv",get:function(){return this.Ph.Qv}},{key:"Yv",get:function(){return this.Ph.Yv}},{key:"Zv",get:function(){return this.Ph.Zv},set:function(t){this.Ph.Zv=t}},{key:"Fh",get:function(){return this.Ph},set:function(t){this.Hd(t)}}]),n}(wa),bc=function(t){function n(n,i,r,e,u,s,o,a){var c;return(c=t.call(this,n,i,r)||this).url=e,c.status=u,c.statusText=s,c.response=o,c.systemCode=a,c}return ct(n,t),T(n,[{key:"name",get:function(){return"ContentProtectionError"}}]),n}(le);!function(t){t[t.ABORTED=1]="ABORTED",t[t.NETWORK=2]="NETWORK",t[t.DECODE=3]="DECODE",t[t.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",t[t.ENCRYPTED=5]="ENCRYPTED",t[t.LICENSE_INVALID=6]="LICENSE_INVALID",t[t.ADVERTISEMENT_ERROR=7]="ADVERTISEMENT_ERROR"}(pc||(pc={}));var Tc=function(t){function n(n,i,r,e){var u;return(u=t.call(this,i)||this).code=n,u.message=null!=i?i:"Unknown error",u.cause=r,u.systemCode=e,d.captureStackTrace&&d.captureStackTrace(vt(u),u.constructor),u}return ct(n,t),T(n,[{key:"name",get:function(){return"MediaError"}}]),n}(dt);function Ec(t){Xo(t,"MEDIA_ERR_ABORTED",pc.ABORTED),Xo(t,"MEDIA_ERR_NETWORK",pc.NETWORK),Xo(t,"MEDIA_ERR_DECODE",pc.DECODE),Xo(t,"MEDIA_ERR_SRC_NOT_SUPPORTED",pc.SRC_NOT_SUPPORTED),Xo(t,"MEDIA_ERR_ENCRYPTED",pc.ENCRYPTED)}function Sc(t){var i,r;return function(t){return t.category===n.ErrorCategory.CONTENT_PROTECTION}(t)?new Tc(pc.ENCRYPTED,t.message,null===(i=t.cause)||void 0===i?void 0:i.message,t.systemCode):new Tc(function(t){if(t===n.ErrorCode.MEDIA_ABORTED)return pc.ABORTED;if(t===n.ErrorCode.MANIFEST_LOAD_ERROR||t===n.ErrorCode.MEDIA_LOAD_ERROR||t===n.ErrorCode.SUBTITLE_LOAD_ERROR)return pc.NETWORK;if(t===n.ErrorCode.MEDIA_DECODE_ERROR)return pc.DECODE;if(t===n.ErrorCode.MEDIA_NOT_SUPPORTED)return pc.SRC_NOT_SUPPORTED;var i=n.ErrorCategory.fromCode(t);if(i===n.ErrorCategory.NETWORK)return pc.NETWORK;if(i===n.ErrorCategory.SOURCE)return pc.SRC_NOT_SUPPORTED;if(i===n.ErrorCategory.LICENSE)return pc.LICENSE_INVALID;if(i===n.ErrorCategory.CONTENT_PROTECTION)return pc.ENCRYPTED;if(i===n.ErrorCategory.AD)return pc.ADVERTISEMENT_ERROR;return pc.DECODE}(t.code),t.message,null===(r=t.cause)||void 0===r?void 0:r.message)}function Rc(t){switch(t){case pc.ABORTED:return n.ErrorCode.MEDIA_ABORTED;case pc.NETWORK:return n.ErrorCode.NETWORK_ERROR;case pc.DECODE:return n.ErrorCode.MEDIA_DECODE_ERROR;case pc.SRC_NOT_SUPPORTED:return n.ErrorCode.SOURCE_NOT_SUPPORTED;case pc.ENCRYPTED:return n.ErrorCode.CONTENT_PROTECTION_ERROR;case pc.LICENSE_INVALID:return n.ErrorCode.LICENSE_ERROR;case pc.ADVERTISEMENT_ERROR:return n.ErrorCode.AD_ERROR}}function Ic(t,n){var i={};for(var r in t)_.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(i[r]=t[r]);if(null!=t&&"function"==typeof _.getOwnPropertySymbols){var e=0;for(r=_.getOwnPropertySymbols(t);e<r.length;e++)n.indexOf(r[e])<0&&_.prototype.propertyIsEnumerable.call(t,r[e])&&(i[r[e]]=t[r[e]])}return i}Ec(Tc),Ec(Tc.prototype);var Nc,Cc="titanium",Dc="conax",Oc="ezdrm",xc="irdeto",Pc="vudrm",Bc="verimatrix",Lc="keyos",Mc="drmtoday",Uc="expressplay",Fc="azure",Hc="xstream",Vc="vimond",Xc="axinom",Wc="uplynk",qc="comcast",zc="custom";function Gc(t){return M(t.token&&t.deviceId)}function jc(t){var n,i=null===(n=t.fairplay)||void 0===n?void 0:n.headers;return void 0!==i&&M(i.PreAuthorization)}function Qc(t){var n=t;return Gc(n)&&""!==n.token&&""!==n.deviceId&&!jc(n)}!function(t){t.ol=!1,t.al=!1,t.cl=!1,t.hl=!1,t.LOG_ADS_DETAILS=!1,t.LOG_CHROMECAST_DETAILS=!1,t.LOG_CUSTOM_DRM=!1,t.LOG_BUFFERING_VIDEO_MAIN=!1,t.LOG_BUFFERING_VIDEO_SELECTION=!1,t.LOG_BUFFERING_AUDIO_MAIN=!1,t.LOG_BUFFERING_AUDIO_SELECTION=!1,t.fl=!1}(Nc||(Nc={}));var Yc,Zc=function(){function t(t,n,i){this.vl=t,this.io=n,this.dl=i}return t.prototype.ll=function(t){return function(t){var n=t.onCertificateRequest;if(void 0!==n&&"function"!=typeof n)throw new l("ContentProtectionIntegration.onCertificateRequest is not a function.");var i=t.onCertificateResponse;if(void 0!==i&&"function"!=typeof i)throw new l("ContentProtectionIntegration.onCertificateResponse is not a function.");var r=t.onLicenseRequest;if(void 0!==r&&"function"!=typeof r)throw new l("ContentProtectionIntegration.onLicenseRequest is not a function.");var e=t.onLicenseResponse;if(void 0!==e&&"function"!=typeof e)throw new l("ContentProtectionIntegration.onLicenseResponse is not a function.");var u=t.extractFairplayContentId;if(void 0!==u&&"function"!=typeof u)throw new l("ContentProtectionIntegration.extractFairplayContentId is not a function.");return t}(this.dl.build(t))},T(t,[{key:"_l",get:function(){return this.vl}},{key:"Co",get:function(){return this.io}}]),t}();!function(t){t.FAILED="FAILED",t.OVERRIDDEN="OVERRIDDEN",t.SUCCEEDED="SUCCEEDED"}(Yc||(Yc={}));var Jc,Kc,$c,th,nh=function(){function t(){this.gl=[]}var i=t.prototype;return i.registerContentProtectionIntegration=function(t,i,e){switch(this.wl(t,i,e)){case Yc.FAILED:throw new bc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The keySystem should be 'widevine', 'playready' or 'fairplay', but was "+i+".");case Yc.OVERRIDDEN:var u=Rh(i);r.Cc("Warning: Overwriting an earlier registered integration for "+t+" and "+u+".");break;case Yc.SUCCEEDED:Rh(i);0}},i.wl=function(t,n,i){var r=Rh(n);if(!r)return Yc.FAILED;for(var e=Yc.SUCCEEDED,u=0,s=this.gl.slice();u<s.length;u++){var o=s[u];o._l===t&&o.Co===r&&(e=Yc.OVERRIDDEN,Nn(this.gl,o))}return this.gl.push(new Zc(t,r,i)),e},i.yl=function(t,n){return void 0!==this.ml(t,n)},i.kl=function(t,n,i){var r=this.ml(t,n);if(!r)throw d("No ContentProtectionIntegrationInit was found for integration id "+t+" and key system "+n);return r.ll(i)},i.ml=function(t,n){for(var i=0,r=this.gl;i<r.length;i++){var e=r[i];if(e._l===t&&(!n||e.Co===n))return e}},t}();nh.pl=new nh,function(t){t.Al="moov",t.bl="mvhd",t.Tl="trak",t.El="tkhd",t.Sl="mdia",t.Rl="mdhd",t.Il="hdlr",t.Nl="minf",t.Cl="stbl",t.Dl="stsd",t.Ol="mvex",t.xl="trex",t.Pl="avc1",t.Bl="avcC",t.Ll="hev1",t.Ml="hvc1",t.Ul="hvcC",t.Fl="pasp",t.Hl="mp4a",t.Vl="esds",t.Xl="wvtt",t.Wl="vttC",t.ql="vlab",t.zl="moof",t.Gl="mfhd",t.jl="traf",t.Ql="tfhd",t.Yl="trun",t.Zl="tfdt",t.Jl="mdat",t.Kl="pssh",t.$l="emsg",t.t_="sidx"}(Jc||(Jc={})),function(t){t.n_="vide",t.i_="soun",t.r_="hint",t.e_="meta",t.u_="auxv"}(Kc||(Kc={})),function(t){t[t.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",t[t.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",t[t.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",t[t.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",t[t.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT",t[t.DURATION_IS_EMPTY=32]="DURATION_IS_EMPTY",t[t.DEFAULT_BASE_IS_MOOF=131072]="DEFAULT_BASE_IS_MOOF"}($c||($c={})),function(t){t[t.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",t[t.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",t[t.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",t[t.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT=2048]="SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT"}(th||(th={}));var ih=function(){function t(t,n){this.Qn=t,this.s_=n}var n=t.prototype;return n.o_=function(){return ur(this.Qn,this.s_)},n.a_=function(){return fr(this.Qn,this.s_)},n.c_=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt16(n.zs,i);return n.Xs(2),r}(this.Qn,this.s_)},n.h_=function(){return dr(this.Qn,this.s_)},n.f_=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt32(n.zs,i);return n.Xs(4),r}(this.Qn,this.s_)},n.v_=function(){return _r(this.Qn,this.s_)},n.d_=function(t){return or(this.Qn,this.s_,t)},n.l_=function(t){return function(t,n,i){for(var r=[],e=0;e<i;e++)r.push(dr(t,n));return r}(this.Qn,this.s_,t)},n.__=function(t){return yr(this.Qn,this.s_,t)},n.g_=function(){return Dr(this.Qn,this.s_)},n.w_=function(t){this.s_.Xs(t)},t}(),rh=function(t){function n(n,i){var r;return(r=t.call(this)||this).y_=n,r.m_=i,r}return ct(n,t),T(n,[{key:"name",get:function(){return"DataIncompleteError"}}]),n}(lt),eh=function(){function t(){}return t.k_=function(n){var i=n.Qn,r=n.s_,e=t.p_(i,r,!1);if(!e.A_)throw new rh(r.zs,e.Fn);return e.Fn},t.p_=function(n,i,r){for(var e=[];i.zs<n.byteLength;){var u=t.b_(n,i,r);if(!u.A_)return{A_:!1,Fn:e};e.push(u.T_)}return{A_:!0,Fn:e}},t.E_=function(n,i){var r=t.b_(n,i,!1);if(!r.A_)throw new rh(i.zs);return r.T_},t.b_=function(n,i,r){var e=i.zs,u=t.S_(n,i);if(!u.A_)return u;var s=u.R_,o=s.Hs;if(0===o){if(r)return i.Ws(e),{A_:!1,I_:1/0};o=n.byteLength-e}var a=e+o;if(a>n.byteLength){var c=a;return i.Ws(e),{A_:!1,I_:c}}var h={Cu:s.Cu,zs:e,Qn:new ih(Br(n,e,a),new Xr(s.N_))};return i.Ws(a),{A_:!0,T_:h}},t.S_=function(t,n){var i=n.zs;if(!cr(t,n,8))return{A_:!1,I_:n.zs+8};var r=dr(t,n),e=yr(t,n,4);if(1===r){if(!cr(t,n,8)){var u=n.zs+8;return n.Ws(i),{A_:!1,I_:u}}r=_r(t,n).toNumber()}if("uuid"===e){if(!cr(t,n,16)){var s=n.zs+16;return n.Ws(i),{A_:!1,I_:s}}e=yr(t,n,16)}return{A_:!0,R_:{Cu:e,Hs:r,N_:n.zs-i}}},t.C_=function(t,n,i){var r=t.Qn,e=t.s_,u=Pr(Mr(r),e.zs,r.byteLength);return i&&(u=Vr(u)),e.Xs(u.byteLength),{Cu:n,Qn:u}},t.D_=function(n,i,r){var e=ah(n.h_());return{Cu:i,O_:e.version,x_:e.flags,Qn:t.C_(n,i,r).Qn}},t}();function uh(t,n){var i=sh(t,n);if(!i)throw new d("Missing "+n+" atom");return i}function sh(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.Cu===n)return r.Qn}}function oh(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];e.Cu===n&&i.push(e.Qn)}return i}function ah(t){return{version:t>>24,flags:new ir(16777215&t)}}var ch=function(){function t(){}return t.P_=function(n){for(var i=[],r=eh.k_(new ih(n,new Xr)),e=0;e<r.length;e++){var u=r[e],s=t.B_(u);s&&i.push(s)}return i},t.L_=function(t){return eh.p_(t,new Xr,!1).Fn.some(function(t){return t.Cu===Jc.zl})},t.M_=function(n){return oh(eh.k_(new ih(n,new Xr)),Jc.Kl).map(t.U_)},t.B_=function(n){switch(n.Cu){case Jc.Al:return t.F_(n.Qn);case Jc.zl:return t.H_(n.Qn,n.zs);case Jc.Jl:return t.V_(n.Qn);case Jc.t_:return t.X_(n.Qn);case Jc.$l:return t.W_(n.Qn)}},t.F_=function(n){var i=eh.k_(n),r=uh(i,Jc.bl),e=oh(i,Jc.Tl),u=sh(i,Jc.Ol),s=t.q_(r),o=e.map(t.z_),a=u?t.G_(u):void 0;return{Cu:Jc.Al,R_:s,j_:o,Q_:a}},t.q_=function(t){var n=ah(t.h_()),i=n.version,r=n.flags,e=1===i?t.v_():t.h_(),u=1===i?t.v_():t.h_(),s=t.h_(),o=1===i?t.v_():t.h_(),a=t.h_(),c=t.a_()>>8;t.w_(2),t.w_(8);var h=t.l_(9);t.w_(24);var f=t.h_();return{Cu:Jc.bl,O_:i,x_:r,Y_:e,Z_:u,Ma:s,Vv:o,J_:a,Zv:c,K_:h,tg:f}},t.z_=function(n){var i=eh.k_(n),r=uh(i,Jc.El),e=uh(i,Jc.Sl),u=t.ng(r),s=t.ig(e);return{Cu:Jc.Tl,R_:u,rg:s}},t.ng=function(t){var n=ah(t.h_()),i=n.version,r=n.flags,e=1===i?t.v_():t.h_(),u=1===i?t.v_():t.h_(),s=t.h_();t.w_(4);var o=1===i?t.v_():t.h_();t.w_(8);var a=t.c_(),c=t.c_(),h=t.c_()/g.pow(2,8);t.w_(2);var f=t.l_(9),v=t.h_()/g.pow(2,16),d=t.h_()/g.pow(2,16);return{Cu:Jc.El,eg:r.Qs(1),ug:r.Qs(2),sg:r.Qs(4),Y_:e,Z_:u,og:s,Vv:o,ag:a,cg:c,Zv:h,K_:f,mc:v,hg:d}},t.ig=function(n){var i=eh.k_(n),r=uh(i,Jc.Rl),e=uh(i,Jc.Il),u=uh(i,Jc.Nl),s=t.fg(r),o=t.vg(e),a=t.dg(u);return{Cu:Jc.Sl,R_:s,lg:o,_g:a}},t.fg=function(t){var n=ah(t.h_()),i=n.version,r=n.flags,e=1===i?t.v_():t.h_(),u=1===i?t.v_():t.h_(),s=t.h_(),o=1===i?t.v_():t.h_();t.a_();return t.w_(2),{Cu:Jc.Rl,O_:i,x_:r,Y_:e,Z_:u,Ma:s,Vv:o}},t.vg=function(t){var n=ah(t.h_()),i=n.version,r=n.flags;t.w_(4);var e=t.__(4);t.w_(12);var u=t.g_();return{Cu:Jc.Il,O_:i,x_:r,gg:e,Rn:u}},t.dg=function(n){var i=uh(eh.k_(n),Jc.Cl),r=t.wg(i);return{Cu:Jc.Nl,yg:r}},t.wg=function(n){var i=uh(eh.k_(n),Jc.Dl),r=t.mg(i);return{Cu:Jc.Cl,kg:r}},t.mg=function(n){for(var i=ah(n.h_()),r=i.version,e=i.flags,u=(n.h_(),[]),s=eh.k_(n),o=0;o<s.length;o++){var a=s[o];a.Cu===Jc.Pl?u.push(t.pg(a.Qn)):a.Cu===Jc.Ll||a.Cu===Jc.Ml?u.push(t.Ag(a.Qn,a.Cu)):a.Cu===Jc.Hl?u.push(t.bg(a.Qn)):a.Cu===Jc.Xl&&u.push(t.Tg(a.Qn))}return{Cu:Jc.Dl,O_:r,x_:e,Eg:u}},t.Sg=function(t,n){return t.w_(6),{Cu:n,Rg:t.a_()}},t.Ig=function(n,i){var r=t.Sg(n,i);n.w_(8);var e=n.a_(),u=n.a_();n.w_(2),n.w_(2);var s=n.h_()>>>16;return Dt(Dt({},r),{Ng:e,Cg:u,Dg:s})},t.Og=function(n,i){var r=t.Sg(n,i);n.w_(2),n.w_(2),n.w_(12);var e=n.a_(),u=n.a_(),s=n.h_(),o=n.h_();n.w_(4);var a=n.a_();n.w_(32);var c=n.a_();return n.w_(2),Dt(Dt({},r),{mc:e,hg:u,xg:s,Pg:o,Bg:a,Lg:c})},t.bg=function(n){var i=t.Ig(n,Jc.Hl),r=uh(eh.k_(n),Jc.Vl),e=t.Mg(r);return Dt(Dt({},i),{Ug:e})},t.Tg=function(n){var i=t.Sg(n,Jc.Xl),r=eh.k_(n),e=uh(r,Jc.Wl),u=t.Fg(e),s=sh(r,Jc.ql),o=s?t.Hg(s):s;return Dt(Dt({},i),{Vg:u,Xg:o})},t.Fg=function(t){return{Cu:Jc.Wl,Wg:t.g_()}},t.Hg=function(t){return{Cu:Jc.ql,Gh:t.g_()}},t.Mg=function(t){return eh.D_(t,Jc.Vl,!0)},t.pg=function(n){var i=t.Og(n,Jc.Pl),r=eh.k_(n),e=uh(r,Jc.Bl),u=sh(r,Jc.Fl),s=t.qg(e),o=u?t.zg(u):void 0;return Dt(Dt({},i),{Gg:s,jg:o})},t.Ag=function(n,i){var r=t.Og(n,i),e=uh(eh.k_(n),Jc.Ul),u=t.Qg(e);return Dt(Dt({},r),{Yg:u})},t.qg=function(t){return eh.C_(t,Jc.Bl,!0)},t.Qg=function(t){return eh.C_(t,Jc.Ul,!0)},t.zg=function(t){var n=t.h_(),i=t.h_();return{Cu:Jc.Fl,Zg:n,Jg:i}},t.G_=function(n){var i=oh(eh.k_(n),Jc.xl).map(t.Kg);return{Cu:Jc.Ol,j_:i}},t.Kg=function(t){var n=ah(t.h_()),i=n.version,r=n.flags,e=t.h_(),u=t.h_(),s=t.h_(),o=t.h_(),a=t.h_();return{Cu:Jc.xl,O_:i,x_:r,og:e,$g:u,tw:s,nw:o,iw:a}},t.H_=function(n,i){var r=eh.k_(n),e=uh(r,Jc.Gl),u=oh(r,Jc.jl),s=t.rw(e),o=u.map(t.ew);return{Cu:Jc.zl,uw:i,R_:s,j_:o}},t.rw=function(t){var n=ah(t.h_()),i=n.version,r=n.flags,e=t.h_();return{Cu:Jc.Gl,O_:i,x_:r,sw:e}},t.ew=function(n){var i=eh.k_(n),r=uh(i,Jc.Ql),e=oh(i,Jc.Yl),u=sh(i,Jc.Zl),s=t.ow(r),o=e.map(function(n){return t.aw(n,s)}),a=u?t.cw(u):void 0;return{Cu:Jc.jl,R_:s,hw:o,fw:a}},t.ow=function(t){var n=ah(t.h_()),i=n.version,r=n.flags,e=t.h_(),u=r.Qs($c.BASE_DATA_OFFSET_PRESENT)?t.h_():void 0,s=r.Qs($c.SAMPLE_DESCRIPTION_INDEX_PRESENT)?t.h_():void 0,o=r.Qs($c.DEFAULT_SAMPLE_DURATION_PRESENT)?t.h_():void 0,a=r.Qs($c.DEFAULT_SAMPLE_SIZE_PRESENT)?t.h_():void 0,c=r.Qs($c.DEFAULT_SAMPLE_FLAGS_PRESENT)?t.h_():void 0;return{Cu:Jc.Ql,O_:i,x_:r,og:e,vw:u,dw:s,tw:o,nw:a,iw:c}},t.aw=function(n,i){for(var r=ah(n.h_()),e=r.version,u=r.flags,s=n.h_(),o=u.Qs(th.DATA_OFFSET_PRESENT)?n.f_():void 0,a=u.Qs(th.FIRST_SAMPLE_FLAGS_PRESENT)?n.h_():void 0,c=[],h=0;h<s;h++){var f=t.lw(n,u,e,i);0===h&&void 0!==a&&(f.x_=a),c.push(f)}return{Cu:Jc.Yl,O_:e,x_:u,_w:s,uw:o,gw:a,ww:c}},t.lw=function(t,n,i,r){return{Vv:n.Qs(th.SAMPLE_DURATION_PRESENT)?t.h_():r.tw,Hs:n.Qs(th.SAMPLE_SIZE_PRESENT)?t.h_():r.nw,x_:n.Qs(th.SAMPLE_FLAGS_PRESENT)?t.h_():r.iw,yw:n.Qs(th.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT)?0===i?t.h_():t.f_():void 0}},t.W_=function(t){var n=t.Qn,i=t.s_,r=ah(dr(n,i)),e=r.version,u=r.flags,s=wr(n,i),o=wr(n,i),a=dr(n,i),c=dr(n,i),h=dr(n,i),f=dr(n,i),v=Hr(Mr(n),i.zs,n.byteLength);return i.Xs(v.byteLength),{Cu:Jc.$l,O_:e,x_:u,mw:s,Cn:o,Ma:a,kw:c,pw:h,Wh:f,Aw:v}},t.V_=function(t){return eh.C_(t,Jc.Jl,!1)},t.U_=function(n){var i=n.Qn,r=n.s_,e=Vr(Mr(i)).buffer,u=ah(dr(i,r)),s=u.version,o=u.flags,a=t.bw(i,r),c=[];if(s>0)for(var h=dr(i,r),f=0;f<h;f++){for(var v="",d=0;d<16;d++){var l=ur(i,r).toString(16);v+=1===l.length?"0"+l:l}c.push(v)}var _=dr(i,r),g=new k(e,r.zs,_);return r.Xs(i.byteLength),{Cu:Jc.Kl,O_:s,x_:o,Tw:a,Ew:c,Sw:_,Qn:g,Rw:e}},t.bw=function(t,n){for(var i="",r=0;r<4;r++){var e=ur(t,n).toString(16);i+=1===e.length?"0"+e:e}i+="-";for(var u=0;u<2;u++){var s=ur(t,n).toString(16);i+=1===s.length?"0"+s:s}i+="-";for(var o=0;o<2;o++){var a=ur(t,n).toString(16);i+=1===a.length?"0"+a:a}i+="-";for(var c=0;c<2;c++){var h=ur(t,n).toString(16);i+=1===h.length?"0"+h:h}i+="-";for(var f=0;f<6;f++){var v=ur(t,n).toString(16);i+=1===v.length?"0"+v:v}return i.toLowerCase()},t.X_=function(t){var n,i,r=t.Qn,e=t.s_,u=ah(dr(r,e)),s=u.version,o=u.flags,a=dr(r,e),c=dr(r,e);0===s?(n=$i.fromBits(dr(r,e),0,!0),i=$i.fromBits(dr(r,e),0,!0)):(n=_r(r,e),i=_r(r,e)),e.Xs(2);for(var h=fr(r,e),f=[],v=0;v<h;v+=1){var d=dr(r,e),l=d>>31&1,_=2147483647&d,g=dr(r,e),w=dr(r,e),y=w>>31&1,m=w>>28&7,k=268435455&w;f.push({Iw:l,Nw:_,Vv:g,Cw:y,Dw:m,Ow:k})}return{Cu:Jc.t_,O_:s,x_:o,xw:a,Ma:c,Pw:n,Bw:i,Lw:h,Mw:f}},t.cw=function(t){var n,i=t.Qn,r=t.s_,e=ah(dr(i,r)),u=e.version,s=e.flags;return n=0===u?$i.fromBits(dr(i,r),0,!0):_r(i,r),{Cu:Jc.Zl,O_:u,x_:s,fw:n}},t}(),hh={playready:"https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx",widevine:"https://wv-keyos.licensekeyserver.com/",fairplay:"https://fp-keyos.licensekeyserver.com/getkey"};function fh(t){if(!t)return!0;var n=t.licenseAcquisitionURL,i=t.certificateURL,r=t.keys,e=t.headers,u=t.useCredentials,s=t.queryParameters,o=t.certificateRequestProcessor,a=t.certificateResponseProcessor,c=t.licenseRequestProcessor,h=t.licenseResponseProcessor;return!(n||i||r||e||u||s||o||a||c||h)}function vh(t){return t&&void 0!==t.licenseAcquisitionURL}var dh,lh=vh,_h=vh;function gh(t){if(!t)return!0;if(kh(t))return!1;var n=t.fairplay,i=t.playready,r=t.widevine,e=t.clearkey,u=t.aes128;return fh(n)&&fh(i)&&fh(r)&&fh(e)&&fh(u)}function wh(t){var n=Qc(t),i=function(t){var n,i=t;return jc(i)&&""!==(null===(n=i.fairplay)||void 0===n?void 0:n.headers.PreAuthorization)&&!Gc(i)}(t);return(!n||!i)&&(n||i)}function yh(t){return t.integration===xc}function mh(t){var n=t;if(!n)return!1;if(gh(n))return!1;var i=n.fairplay,r=n.playready,e=n.widevine,u=n.clearkey;if(kh(t))return!0;if(i&&!function(t){var n=t;return n&&(void 0!==n.certificateURL||void 0!==n.certificate)}(i))return!1;if(r&&!lh(r))return!1;if(e&&!_h(e))return!1;if(u&&!function(t){var n=t;return n&&(void 0!==n.licenseAcquisitionURL||void 0!==n.keys)}(u))return!1;if(n.integration){if(nh.pl.yl(n.integration))return!0;switch(n.integration){case Cc:if(!function(t){return t.integration===Cc&&(ph(t)||Ah(t))}(t))return!1;break;case Pc:if(!bh(t))return!1;break;case Bc:if(!function(t){return t.integration===Bc}(t))return!1;break;case xc:if(!yh(t))return!1;break;case Dc:if(!wh(t))return!1;break;case Oc:if(!function(t){return t.integration===Oc}(t))return!1;break;case Lc:if(!kh(t))return!1;break;case Mc:if(!function(t){var n=t;return n.integration===Mc&&(void 0!==n.token||function(t){return void 0!==t.merchant&&void 0!==t.sessionId&&void 0!==t.userId}(n))}(t))return!1;break;case Uc:if(!function(t){return t.integration===Uc}(t))return!1;break;case Hc:if(!Th(t))return!1;break;case Vc:if(!function(t){return t.integration===Vc}(t))return!1;break;case Xc:if(!Eh(t))return!1;break;case Fc:if(!function(t){var n=t;return n.integration===Fc&&void 0!==n.token}(t))return!1;break;case Wc:if(!function(t){return t.integration===Wc}(t))return!1;break;case qc:if(!function(t){var n=t;return n&&M(n.releasePid)&&M(n.accountId)&&M(n.token)}(t))return!1;break;case zc:return!0;default:return!1}}return!0}function kh(t){return t.integration===Lc}function ph(t){return void 0!==t.authToken}function Ah(t){var n=t;return void 0!==n.accountName&&void 0!==n.customerName&&void 0!==n.portalId}function bh(t){var n=t;return n.integration===Pc&&void 0!==n.token}function Th(t){var n=t;return n&&n.integration===Hc&&X(n.ticketAcquisitionURL)&&X(n.streamId)}function Eh(t){var n=t;return n.integration===Xc&&void 0!==n.token}function Sh(t,n){var i,r,e,u=n[t],s=null!==(i=null==u?void 0:u.licenseAcquisitionURL)&&void 0!==i?i:hh[t],o=null!==(r=null==u?void 0:u.customdata)&&void 0!==r?r:n.customdata,a=o?{customData:o}:{},c=Dt(Dt({},null!==(e=null==u?void 0:u.headers)&&void 0!==e?e:{}),a),h=null!=u?u:{};h.customdata;return Dt(Dt({},Ic(h,["customdata"])),{licenseAcquisitionURL:s,headers:c})}function Rh(t){switch(t.toLowerCase()){case"widevine":case tn:return tn;case"playready":case Jt:return Jt;case"fairplay":case rn:return rn}}function Ih(t,i){switch(t){case Qt:return function(t){for(var n={},i=ch.M_(new DataView(t)),r=0;r<i.length;r++){var e=i[r];n[e.Tw]=e.Rw}return n}(i);case Yt:case Zt:return function(t){var n;return(n={})[nn]=t,n}(i);default:throw new le(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Unsupported initDataType "+t)}}function Nh(t){if(t&&H(t))return Dt(Dt({},t),{integration:Ch(t.integration),fairplay:Mh(t.fairplay),widevine:Dh(t.widevine),playready:Oh(t.playready),clearkey:Uh(t.clearkey),aes128:Fh(t.aes128),integrationParameters:Hh(t.integrationParameters),preferredKeySystems:Vh(t.preferredKeySystems)})}function Ch(t){if(X(t))return t}function Dh(t){if(t&&H(t))return{persistentState:xh(t.persistentState),distinctiveIdentifier:xh(t.distinctiveIdentifier),audioRobustness:Ph(t.audioRobustness),videoRobustness:Ph(t.videoRobustness),licenseAcquisitionURL:X(t.licenseAcquisitionURL)?t.licenseAcquisitionURL:void 0,licenseType:Bh(t.licenseType),headers:t.headers,useCredentials:!!W(t.useCredentials)&&t.useCredentials,queryParameters:t.queryParameters,certificate:X(t.certificate)||Ur(t.certificate)?t.certificate:void 0,certificateRequestProcessor:Lh(t.certificateRequestProcessor),certificateResponseProcessor:Lh(t.certificateResponseProcessor),licenseRequestProcessor:Lh(t.licenseRequestProcessor),licenseResponseProcessor:Lh(t.licenseResponseProcessor)}}function Oh(t){if(t){var n=Dh(t);if(n){var i=X(t.customData)?t.customData:void 0;return Dt(Dt({},n),{customData:i})}}}function xh(t){switch(null==t?void 0:t.toLowerCase()){case"required":return"required";case"optional":return"optional";case"not-allowed":return"not-allowed"}}function Ph(t){switch(t){case"HW_SECURE_ALL":return"HW_SECURE_ALL";case"HW_SECURE_DECODE":return"HW_SECURE_DECODE";case"HW_SECURE_CRYPTO":return"HW_SECURE_CRYPTO";case"SW_SECURE_DECODE":return"SW_SECURE_DECODE";case"SW_SECURE_CRYPTO":return"SW_SECURE_CRYPTO";case"":return""}}function Bh(t){switch(null==t?void 0:t.toLowerCase()){case"temporary":return"temporary";case"persistent":return"persistent"}}function Lh(t){if("function"==typeof t)return t}function Mh(t){if(t){var n=Dh(t);if(n){var i=X(t.certificateURL)?t.certificateURL:void 0;return Dt(Dt({},n),{certificateURL:i})}}}function Uh(t){if(t){var n=Dh(t);if(n){var i=U(t.keys)?t.keys.map(function(t){return function(t){if(!t||!H(t))return;var n=t.id,i=t.value;if(!X(n)||!X(i))return;return{id:n,value:i}}(t)}).filter(M):void 0;return Dt(Dt({},n),{keys:i})}}}function Fh(t){if(H(t))return{useCredentials:W(t.useCredentials)?t.useCredentials:void 0}}function Hh(t){if(H(t))return t}function Vh(t){return t&&U(t)?t.map(function(t){return Rh(t)}).filter(M):[tn,Jt,rn]}!function(t){t.DEFAULT="",t.THEO="theo",t.GOOGLE_IMA="google-ima",t.SPOTX="spotx",t.FREEWHEEL="freewheel"}(dh||(dh={}));var Xh,Wh,qh,zh,Gh,jh,Qh,Yh,Zh,Jh=function(){function t(){this.Uw=[]}var n=t.prototype;return n.Fw=function(t){var n=this.Hw.filter(function(n){return n.Vw(t)});if(n.length>1)0;else if(0===n.length)throw d("Unknown ad integration: "+t.integration);return n[0]||null},n.Xw=function(t){this.Uw.push(t)},T(t,[{key:"Hw",get:function(){return this.Uw}}]),t}();Jh.dn=new Jh,function(t){t.DEFAULT="",t.SRT="srt",t.TTML="ttml",t.WEBVTT="webvtt",t.EMSG="emsg",t.EVENT_STREAM="eventstream",t.ID3="id3",t.CEA608="cea608",t.DATE_RANGE="daterange"}(Xh||(Xh={})),function(t){t._f="PLAYING",t.Ww="PAUSED",t.qw="SEEK",t.zw="STALLED",t.Gw="FAILED",t.jw="INITIAL_BUFFERING",t.Qw="NO_ACCESS"}(Wh||(Wh={})),function(t){t.Yw="HTTP_REQUEST_STATUS_CODE_1XX",t.Zw="HTTP_REQUEST_STATUS_CODE_2XX",t.Jw="HTTP_REQUEST_STATUS_CODE_3XX",t.Kw="HTTP_REQUEST_STATUS_CODE_4XX",t.$w="HTTP_REQUEST_STATUS_CODE_5XX",t.ty="BUFFER_LENGTH",t.ny="BYTES_RECEIVED",t.iy="SEGMENT_READ_BITRATE",t.ey="SEGMENT_PROFILE_BITRATE",t.uy="NUMBER_OF_FRAMES_DROPPED",t.sy="PLAYBACK_POSITION",t.oy="NUMBER_OF_FRAMES_DECODED",t.ay="PLAYBACK_DELTA_TO_ORIGIN",t.hy="STREAM_DELTA_TO_ORIGIN",t.vy="ORIGIN_TIMESTAMP"}(qh||(qh={})),function(t){t.ly="MANIFEST_URI",t._y="ASSET_DURATION",t.gy="NUMBER_OF_CONTENT_PROFILES",t.wy="CDN",t.yy="CONTENT_TITLE",t.my="SERVICE_NAME",t.ky="CONTENT_TYPE",t.py="CONTENT_DESCRIPTION"}(zh||(zh={})),function(t){t.Ay="shutdown_normal_shutdown"}(Gh||(Gh={})),function(t){t.by="session/",t.Ty="internalError/",t.Ey="drmError/",t.Sy="caError/",t.Ry="networkError/"}(jh||(jh={})),function(t){t.Iy="userAction",t.Ny="endOfStreamReached"}(Qh||(Qh={})),function(t){t.PAUSE="Cy",t.RESUME="Dy"}(Yh||(Yh={})),function(t){t.i_="audio",t.n_="video",t.yn="text",t.Oy="image",t.xy="unknown"}(Zh||(Zh={}));var Kh,$h=function(t){function n(n,i){var r;return(r=t.call(this)||this).xh=n.length>>1,r.Py=n,r.By=i||function(t){for(var n=new Array(2*t),i=0,r=0;i<t;i+=1,r+=2)n[r]=!0,n[r+1]=!1;return n}(r.xh),r}ct(n,t);var i=n.prototype;return i.Ly=function(t){return this.Py[2*t]},i.My=function(t){return this.By[2*t]},i.Uy=function(t){return this.Py[2*t+1]},i.Fy=function(t){return this.By[2*t+1]},T(n,[{key:"Hy",get:function(){return this.Py.slice()}}]),n}(function(){function t(){}var n=t.prototype;return n.Ja=function(t,n){return 0===this.Za(t,n)},n.Vy=function(t,n){return this.Za(t,n)>0},n.Xy=function(t,n){return this.Za(t,n)>=0},n.ja=function(t,n){return this.Za(t,n)<0},n.Wa=function(t,n){return this.Za(t,n)<=0},n.Xa=function(t,n){return this.ja(t,n)?t:n},n.Ha=function(t,n){return this.Vy(t,n)?t:n},n.Wy=function(t,n,i){return i?this.Wa(t,n):this.ja(t,n)},n.qy=function(){var t=this;return{get length(){return t.xh},start:function(n){var i=0|n;return t.zy(i),t.Gy(t.Ly(i))},end:function(n){var i=0|n;return t.zy(i),t.Gy(t.Uy(i))}}},n.jy=function(){for(var t=new Array(2*this.xh),n=new Array(2*this.xh),i=0;i<this.xh;i++)t[2*i]=this.Ly(i),t[2*i+1]=this.Uy(i),n[2*i]=!0,n[2*i+1]=!0;return this.Qy(t,n)},n.zy=function(t){if(t<0)throw new d("The index provided ("+t+") must be non-negative");if(t>=this.xh)throw new d("The index provided ("+t+") is greater than the maximum bound ("+this.xh+")")},n.Yy=function(t){if(0===this.xh)return this.Zy();if(this.Jy(t))return t;if(this.Wa(t,this.Ly(0)))return this.Ly(0);if(this.Xy(t,this.Uy(this.xh-1)))return this.Uy(this.xh-1);for(var n,i=this.Ky(),r=0;r<this.xh;r++){var e=this.Ly(r),u=this.Qa(e,t);this.ja(u,i)&&(n=e,i=u);var s=this.Uy(r),o=this.Qa(this.Uy(r),t);this.ja(o,i)&&(n=s,i=o)}return n},n.$y=function(t){for(var n=0,i=0,r=[],e=[];n<this.xh&&i<t.xh;){var u=this.Ly(n),s=this.Uy(n),o=this.My(n),a=this.Fy(n),c=t.Ly(i),h=t.Uy(i),f=t.My(i),v=t.Fy(i),d=this.Ha(u,c),l=this.Xa(s,h),_=void 0;_=this.Ja(u,c)?o&&f:this.Ja(d,u)?o:f;var g=void 0;g=this.Ja(s,h)?a&&v:this.Ja(l,s)?a:v,(this.ja(d,l)||_&&g&&this.Ja(d,l))&&(r.push(d,l),e.push(_,g));var w=this.Za(this.Uy(n),t.Uy(i));0===w?(n+=1,i+=1):w<0?n+=1:i+=1}return this.Qy(r,e)},n.tm=function(){var t=this.nm(),n=t.xh;if(0===n)return this.Qy([t.im(),t.Ky()],[!1,!1]);var i=[],r=[],e=t.Ly(0);t.Ja(e,t.im())||(i.push(t.im(),e),r.push(!1,!t.My(0)));for(var u=0;u<n-1;u++)i.push(t.Uy(u),t.Ly(u+1)),r.push(!t.Fy(u),!t.My(u+1));var s=t.Uy(n-1);return t.Ja(s,t.Ky())||(i.push(s,t.Ky()),r.push(!t.Fy(n-1),!1)),t.Qy(i,r)},n.rm=function(t){for(var n=0,i=0,r=this.xh,e=t.xh,u=new Array(2*(r+e)),s=new Array(2*(r+e)),o=0;n<r&&i<e;){var a=this.Ly(n),c=this.Uy(n),h=t.Ly(i),f=t.Uy(i);this.ja(a,h)||this.Ja(a,h)&&this.ja(c,f)?(u[o]=a,u[o+1]=c,s[o]=this.My(n),s[o+1]=this.Fy(n),n++):(u[o]=h,u[o+1]=f,s[o]=t.My(i),s[o+1]=t.Fy(i),i++),o+=2}for(;n<r;)u[o]=this.Ly(n),u[o+1]=this.Uy(n),s[o]=this.My(n),s[o+1]=this.Fy(n),n++,o+=2;for(;i<e;)u[o]=t.Ly(i),u[o+1]=t.Uy(i),s[o]=t.My(i),s[o+1]=t.Fy(i),i++,o+=2;return this.Qy(u,s)},n.um=function(t){void 0===t&&(t=this.Zy());var n=this.xh;if(n<2)return this;for(var i=[],r=[],e=this.Ly(0),u=this.Uy(0),s=this.My(0),o=this.Fy(0),a=1;a<n;a++){var c=this.Ly(a),h=this.Uy(a),f=this.My(a),v=this.Fy(a);this.ja(e,c)&&this.Vy(u,h)||(this.Ja(e,c)&&(s=f=s||f),this.Ja(u,h)&&(o=v=o||v),this.Wy(c,this.qa(u,t),o||f)?(u=h,o=v):(i.push(e,u),r.push(s,o),e=c,u=h,s=f,o=v))}return i.push(e,u),r.push(s,o),this.Qy(i,r).nm()},n.nm=function(){for(var t=[],n=[],i=0;i<this.xh;i++){var r=this.Ly(i),e=this.Uy(i),u=this.My(i),s=this.Fy(i);this.Ja(r,e)?(u||s)&&(t.push(r,e),n.push(!0,!0)):(t.push(r,e),n.push(u,s))}return this.Qy(t,n)},n.sm=function(t){return this.xh?t.xh?this.rm(t).um():this:t},n.om=function(t){var n=this.nm(),i=t.nm(),r=n.tm(),e=i.tm(),u=r.$y(i),s=e.$y(n);return u.sm(s)},n.Xs=function(t){for(var n=[],i=[],r=0;r<this.xh;r++){var e=this.qa(this.Ly(r),t),u=this.qa(this.Uy(r),t);n.push(e,u),i.push(this.My(r),this.Fy(r))}return this.Qy(n,i)},n.am=function(t){return this.nm().$y(t.nm().tm())},n.Jy=function(t,n){return this.cm(t,n)>=0},n.hm=function(t,n,i,r,e){return this.fm(t,n,i,r,e)>=0},n.vm=function(t,n,i,r,e){return this.dm(t,n,i,r,e)>=0},n.lm=function(t){if(t.xh!==this.xh)return!1;for(var n=0;n<this.xh;n++)if(!this.Ja(this.Ly(n),t.Ly(n))||!this.Ja(this.Uy(n),t.Uy(n))||this.My(n)!==t.My(n)||this.Fy(n)!==t.Fy(n))return!1;return!0},n._m=function(t){for(var n=[],i=[],r=0;r<this.xh;r++)t(this.Ly(r),this.Uy(r))&&(n.push(this.Ly(r),this.Uy(r)),i.push(this.My(r),this.Fy(r)));return this.Qy(n,i)},n.dm=function(t,n,i,r,e){void 0===i&&(i=!0),void 0===r&&(r=!0),void 0===e&&(e=this.Zy());for(var u=this.Ka(t,e),s=this.qa(n,e),o=0;o<this.xh;o+=1)if(this.Wy(this.Ly(o),s,!r||this.My(o))&&this.Wy(u,this.Uy(o),!i||this.Fy(o)))return o;return-1},n.fm=function(t,n,i,r,e){void 0===i&&(i=!0),void 0===r&&(r=!1),void 0===e&&(e=this.Zy());for(var u=this.qa(t,e),s=this.Ka(n,e),o=0;o<this.xh;o+=1)if(this.Wy(this.Ly(o),u,!i||this.My(o))&&this.Wy(s,this.Uy(o),!r||this.Fy(o)))return o;return-1},n.cm=function(t,n){return this.fm(t,t,!0,!0,n)},n.gm=function(t,n){void 0===n&&(n=this.Zy());for(var i=this.qa(t,n),r=this.xh-1;r>=0;r-=1)if(this.Wy(this.Ly(r),i,this.My(r)))return r;return-1},n.wm=function(t,n){void 0===n&&(n=this.Zy());for(var i=this.Ka(t,n),r=0;r<this.xh;r+=1)if(this.Wy(i,this.Uy(r),this.Fy(r)))return r;return-1},n.ym=function(t){return this.zy(t),this.Qy([this.Ly(t),this.Uy(t)],[this.My(t),this.Fy(t)])},n.mm=function(t,n){var i=this.cm(t,n);return i<0?void 0:this.ym(i)},T(t,[{key:"km",get:function(){for(var t=this.Zy(),n=0;n<this.xh;n++){var i=this.Ka(this.Uy(n),this.Ly(n));t=this.qa(t,i)}return t}}]),t}()),tf=function(t){function n(n,i){return t.call(this,n,i)||this}ct(n,t);var i=n.prototype;return i.Za=function(t,n){return t<n?qs.Ba:t===n?qs.xa:qs.Pa},i.qa=function(t,n){return t+n},i.Ka=function(t,n){return t-n},i.Qa=function(t,n){return g.abs(t-n)},i.Zy=function(){return 0},i.Ky=function(){return 1/0},i.im=function(){return-1/0},n.pm=function(t){for(var i=[],r=0;r<t.length;r++)i.push(t.start(r),t.end(r));return new n(i)},n.Am=function(t){return new n([t,t],[!0,!0])},i.Qy=function(t,i){return new n(t,i)},i.Gy=function(t){return t},n.bm=function(){return nf},n}($h),nf=new tf([]);!function(t){t.UNAVAILABLE="unavailable",t.AVAILABLE="available",t.CONNECTING="connecting",t.CONNECTED="connected"}(Kh||(Kh={}));var rf,ef,uf,sf,of,af,cf="agama";function hf(t){return function(t){switch(t){case rf.NONE:case rf.HORIZONTAL:case rf.VERTICAL:return!0;default:return!1}}(t)?t:rf.NONE}function ff(t){switch(t){case"":return rf.NONE;case"horizontal":return rf.HORIZONTAL;case"vertical":return rf.VERTICAL;default:throw new l}}function vf(t){return{useSeamlessPeriodSwitch:df(null==t?void 0:t.useSeamlessPeriodSwitch)}}function df(t){if(!t||!X(t))return ef.Tm;switch(t){case"always":return ef.Em;case"never":return ef.Sm;default:return ef.Tm}}function lf(t){return{discontinuityAlignment:_f(null==t?void 0:t.discontinuityAlignment)}}function _f(t){if(!t||!X(t))return uf.Tm;switch(t){case"playlist":return uf.Rm;case"media":return uf.Im;default:return uf.Tm}}function gf(t,n,i){var r=function(t,n){var i=qa.Mv;t.useCredentials?i=qa.Lv:t.crossOrigin&&(i=$a(t.crossOrigin));i===qa.Mv&&n&&n.vr&&n.vr[360]&&(i=qa.Bv);return{useCredentials:i===qa.Lv,crossOrigin:i}}(t,n),e=r.useCredentials,u=r.crossOrigin,s=t.liveOffset;M(s)||(s=i&&M(i.liveOffset)?i.liveOffset:void 0);var o=t.timeServer;M(o)||(o=n&&M(n.timeServer)?n.timeServer:void 0);var a=Boolean(t.hlsDateRange);return M(t.hlsDateRange)||(a=!(!i||!M(i.hlsDateRange))&&Boolean(i.hlsDateRange)),{crossOrigin:u,useCredentials:e,liveOffset:s,timeServer:o,hlsDateRange:a,experimentalRendering:Boolean(t.experimentalRendering),nativeUiRendering:Boolean(t.nativeUiRendering),lowLatency:Boolean(t.lowLatency),useNativePlayback:Boolean(t.useNativePlayback),dash:M(t.dash)?vf(t.dash):void 0,hls:M(t.hls)?lf(t.hls):void 0}}function wf(t){if(null!==t)return t}function yf(t){var n,i={apiKey:t.apiKey,integration:t.integration,streamActivityMonitorID:wf(t.streamActivityMonitorID),adTagParameters:H(t.adTagParameters)?t.adTagParameters:{},authToken:wf(t.authToken)};if("vod"===(null==t?void 0:t.availabilityType)||(n=t,Boolean(n.videoID&&n.contentSourceID))){var e=t.videoID,u=t.contentSourceID;return e?u?Dt(Dt({},i),{availabilityType:"vod",videoID:e,contentSourceID:u}):void r.Cc("A VOD DAI configuration was provided without valid contentSourceID which is required."):void r.Cc("A VOD DAI configuration was provided without valid videoID which is required.")}if("live"===(null==t?void 0:t.availabilityType)||function(t){return Boolean(t.assetKey)}(t)){var s=t.assetKey;return s?Dt(Dt({},i),{availabilityType:"live",assetKey:s}):void r.Cc("A Live DAI configuration was provided without valid assetKey which is required.")}r.Cc("A DAI configuration was provided without a valid availabilityType which is required.")}function mf(t){switch(t.integration){case"google-dai":return yf(t);case"imagine":return{integration:t.integration};case"yospace":return function(t){var n;return{integration:t.integration,streamType:null!==(n=t.streamType)&&void 0!==n?n:void 0}}(t);default:return{integration:t.integration}}}function kf(t,n,i){var r=gf(t,n,i),e=wf(t.src),u=t.type;u||(u=t.src?Ka(t.src):void 0);var s=function(t,n){var i;i=M(t.contentProtection)?t.contentProtection:M(t.drm)?t.drm:M(n)&&M(n.contentProtection)?n.contentProtection:M(n)&&M(n.drm)?n.drm:void 0;return pf(i)}(t,n),o=M(t.ssai)?mf(t.ssai):void 0;return Dt(Dt({},r),{src:e,type:u,contentProtection:s,ssai:o,integrationData:void 0})}function pf(t){if(!mh(t)||!t.integration)return t;switch(t.integration){case Lc:return n=t,i=Sh(Gt.Su,n),r=Sh(Gt.Eu,n),e=n[Gt.Ru]&&Sh(Gt.Ru,n),Dt({integration:"keyos",widevine:i,playready:r},e?{fairplay:e}:{});default:return t}var n,i,r,e}!function(t){t.NONE="",t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(rf||(rf={})),function(t){t.Tm="auto",t.Em="always",t.Sm="never"}(ef||(ef={})),function(t){t.Tm="auto",t.Rm="playlist",t.Im="media"}(uf||(uf={})),function(t){t.VERIZON_MEDIA="verizon-media"}(sf||(sf={})),function(t){t.ASSET="asset",t.CHANNEL="channel",t.EVENT="event"}(of||(of={})),function(t){t.Nm="subtitles",t.Cm="captions",t.Dm="descriptions",t.Om="chapters",t.e_="metadata",t.xm="thumbnails"}(af||(af={}));var Af=[af.Nm,af.Cm,af.Dm,af.Om,af.e_,af.xm];function bf(t){var n=String(t||"").toLowerCase();return function(t){return"string"==typeof t&&Dn(Af,t)}(n)?n:n?af.e_:af.Nm}function Tf(t){if(!t)return!0;var n,i,r=!(uc(n=t.sources)||F(n)&&uc(n[0]))||sc(t.sources),e=!t.ads||(!(i=t.ads)||U(i)&&0===i.length),u=""!==t.poster&&!t.poster;return r&&e&&u}function Ef(t){return X(t.src)}function Sf(t){if(t&&t.sources)return function t(n){if(X(n))return n;if(ec(n))return n.src;if(F(n)&&n.length>0)return t(n[0]);return}(t.sources)}function Rf(t){return!!t&&(dn(t=t.toLowerCase(),za.Pv)||dn(t,za.Uv))}function If(t,n,i){return ic(t)?function(t,n,i){var r=Dt(Dt({},oc()),{ping:{adImpressions:!1,freeWheelVideoViews:!1,linearAdData:!1},integration:sf.VERIZON_MEDIA,id:"",preplayParameters:{},playbackUrlParameters:{},assetType:of.ASSET,contentProtected:!1,assetInfo:!0});r.id=(e=t.id,X(e)?e:F(e)&&X(e[0])?e:H(u=e)&&X(u.userId)&&(F(u.externalId)||X(u.externalId))?e:""),t.preplayParameters&&(r.preplayParameters=t.preplayParameters);var e,u;t.playbackUrlParameters&&(r.playbackUrlParameters=t.playbackUrlParameters);t.assetType&&(r.assetType=function(t){switch(t){case"channel":return of.CHANNEL;case"event":return of.EVENT;case"asset":default:return of.ASSET}}(t.assetType));t.contentProtected&&(r.contentProtected=Qo(t.contentProtected));t.assetInfo?r.assetInfo=Qo(t.assetInfo):r.assetInfo="asset"===r.assetType;return r.ping=(s=r.assetType,o=t.ping,a=!1,c=!1,h=!1,o?(a=!!W(o.adImpressions)&&o.adImpressions,c=!!W(o.freeWheelVideoViews)&&o.freeWheelVideoViews,h=W(o.linearAdData)?o.linearAdData:s!==of.ASSET):s!==of.ASSET&&(h=!0),{adImpressions:a,freeWheelVideoViews:c,linearAdData:h}),r=Cf(r=Nf(r,t),n,i);var s,o,a,c,h}(t,n,i):function(t,n,i){var r=ac(),e=n&&(n.contentProtection||n.drm);if(X(t)){if(r.src=t,r.type=Ka(t),e){var u=Nh(e);r.contentProtection=pf(u)}}else if(ec(t)||nc(t)){r.src=t.src,r.type=t.type||Ka(t.src);var s=function(t){return t.type===za.Fv}(t)?t.hesp:void 0;void 0!==s&&(r.hesp=s);var o=t.contentProtection||t.drm||e,a=Nh(o);r.contentProtection=pf(a),t.ssai&&(r.ssai=mf(t.ssai)),r=Nf(r,t)}return r=Cf(r,n,i)}(t,n,i)}function Nf(t,n){n.useCredentials?t.crossOrigin=qa.Lv:n.crossOrigin&&(t.crossOrigin=$a(n.crossOrigin)),X(n.timeServer)&&(t.timeServer=n.timeServer),n.liveOffset&&(t.liveOffset=n.liveOffset),n.hlsDateRange&&(t.hlsDateRange=n.hlsDateRange),n.lowLatency&&(t.lowLatency=Qo(n.lowLatency)),n.useNativePlayback&&(t.useNativePlayback=Qo(n.useNativePlayback)),n.dash&&(t.dash=vf(n.dash)),n.hls&&(t.hls=lf(n.hls));var i=void 0!==n.experimentalRendering?Qo(n.experimentalRendering):void 0;void 0!==i&&(t.experimentalRendering=i);var r=void 0!==n.nativeUiRendering?Qo(n.nativeUiRendering):void 0;return void 0!==r&&(t.nativeUiRendering=r),t}function Cf(t,n,i){var r,e=n&&n.timeServer;return i&&i.liveOffset&&!M(t.liveOffset)&&(t.liveOffset=i.liveOffset),i&&i.hlsDateRange&&!M(t.hlsDateRange)&&(t.hlsDateRange=i.hlsDateRange),t.crossOrigin===qa.Mv&&(null===(r=null==n?void 0:n.vr)||void 0===r?void 0:r[360])&&(t.crossOrigin=qa.Bv),t.useCredentials=t.crossOrigin===qa.Lv,X(e)&&!t.timeServer&&(t.timeServer=e),t}function Df(t){var n={src:""};if(t&&t.src){if(n.src=Jo(t.src),"default"in t&&(n.default=Qo(t.default)),n.kind=bf(t.kind),function(t){switch(t){case Xh.DEFAULT:case Xh.SRT:case Xh.TTML:case Xh.WEBVTT:case Xh.EMSG:case Xh.EVENT_STREAM:case Xh.ID3:case Xh.CEA608:case Xh.DATE_RANGE:return!0;default:return!1}}(t.format)&&(n.format=t.format),"srclang"in t){var i=t.srclang;"string"==typeof i&&""!==i&&(n.srclang=i)}if("label"in t){var r=t.label;"string"==typeof r&&""!==r&&(n.label=r)}}return n}function Of(t,n){if(V(t))try{return n.Fw(t).Pm(t)}catch(t){return}}function xf(t){return X(t.sources)&&""!==t.sources||H(t.sources)&&X(t.sources.src)}function Pf(t){return t.integration===dh.SPOTX&&!m(t.id)}function Bf(t){return"freewheel"===t.integration}function Lf(t,n,i){if(void 0===i&&(i=Jh.dn),Tf(t))return{sources:[ac()]};var r=qo(t);if(r.sources=function(t,n,i){if(uc(t))return[If(t,n,i)];if(F(t)&&uc(t[0])){for(var r=[],e=0;e<t.length;e++){var u=t[e];r.push(If(u,n,i))}return r}return[ac()]}(r.sources,r,n),"contentProtection"in r&&delete r.contentProtection,"drm"in r&&delete r.drm,"ads"in r){var e=function(t,n){if(!F(t))return[];for(var i=[],r=0;r<t.length;r++){var e=t[r];(e=Of(e,n))&&(xf(e)||Pf(e)||Bf(e))&&i.push(e)}return i}(r.ads,i);0===e.length?delete r.ads:r.ads=e}var u,s,o,a=!sc(r.sources),c=r.ads&&r.ads.length>0;if(a&&!c?delete r.ads:c&&!a&&(r.sources=[]),"textTracks"in r){var h=function(t){if(!F(t))return[];for(var n=[],i=0;i<t.length;i++){var r=t[i];""!==(r=Df(r)).src&&n.push(r)}return n}(r.textTracks);0===h.length?delete r.textTracks:r.textTracks=h}if("poster"in r&&(r.poster=Jo(r.poster)),"vr"in r&&(r.vr=(u=r.vr,(s=u||{}).stereoMode=hf(s.stereoMode),{360:Boolean(s[360]),stereoMode:s.stereoMode?ff(s.stereoMode):rf.NONE})),"analytics"in r||(null==n?void 0:n.analytics)){var f=hc(r.analytics),v=n&&n.analytics||[];r.analytics=function(t,n){for(var i=qo(t),r=function(r){var e=n[r],u=!t.some(function(t){return t.integration===e.integration});u&&e.integration!==cf&&i.push(e)},e=0;e<n.length;e++)r(e);return i}(f,v)}return"mutedAutoplay"in r&&(r.mutedAutoplay=fc(r.mutedAutoplay)),"timeServer"in r&&delete r.timeServer,r.blockContentIfAdError=void 0!==(o=r.blockContentIfAdError)&&"boolean"==typeof o&&Boolean(o),r}var Mf=function(t){function n(){return t.apply(this,arguments)||this}ct(n,t);var i=n.prototype;return i.Rh=function(n){return t.prototype.Rh.call(this,n)},i.nh=function(){return ea(this)},n}(Mo);var Uf=function(){function t(){this.Bm=[],this.$c=void 0}var n=t.prototype;return n.qa=function(t){this.Bm.push(t),this.$c&&this.$c.push(t.th)},n.Sh=function(t){return this.Bm[t]},n.Lm=function(t){return U(t)?On(this.Bm,t):Dn(this.Bm,t)},T(t,[{key:"Oh",get:function(){return this.Bm}},{key:"xh",get:function(){return this.Bm.length}},{key:"th",get:function(){var t,n;return this.$c||(this.$c=((n=(t=this).Oh.map(function(t){return t.th})).item=function(n){var i=0|n,r=t.Sh(i);return r&&r.th||void 0},n)),this.$c}}]),t}(),Ff=function(t){function n(n){var i;return(i=t.call(this,Co.kh)||this).ih=n,i}return ct(n,t),n.prototype.nh=function(){return new Hf(this.ih.th)},n}(Do),Hf=function(t){function n(n){var i;return(i=t.call(this,"update")||this).track=n,i}return ct(n,t),n}(Oo),Vf=0;function Xf(){return Vf++}var Wf=0;var qf=0;var zf=0;var Gf=function(t){function n(n){var i;return(i=t.call(this)||this).Cu=Zh.i_,i.Mm=!1,i.$c=void 0,i.Um=n,i.Fm=Xf(),i.Hm=zf+++"",i.Vm=n.label,i.Bm=new Uf,i.Xm(),i}ct(n,t);var i=n.prototype;return i.Wm=function(t){this.Xh=t},i.Xm=function(){this.Xh=this.qm},T(n,[{key:"Vh",get:function(){}},{key:"Xh",get:function(){return this.Mm},set:function(t){this.Mm!==t&&(this.Mm=t,this.qm=t,this.vs(new Uo(this)))}},{key:"qm",get:function(){return!!this.Um.enabled},set:function(t){this.Um.enabled=t}},{key:"th",get:function(){return this.$c||(this.$c=ia(this)),this.$c}},{key:"Wh",get:function(){return this.Hm}},{key:"qh",get:function(){return this.Fm}},{key:"zh",get:function(){return this.Um.kind}},{key:"Gh",get:function(){return this.Vm},set:function(t){t!==this.Vm&&(this.Vm=t,this.vs(new Ff(this)))}},{key:"jh",get:function(){return this.Um.language}},{key:"nf",get:function(){return this.Xh?"enabled":"disabled"}},{key:"zm",get:function(){return this.Um}},{key:"Qh",get:function(){return this.Bm}},{key:"Yh",get:function(){},set:function(t){}}]),n}(ii),jf=0;var Qf,Yf,Zf=function(t){function n(n){var i;return(i=t.call(this)||this).Cu=Zh.n_,i.Mm=!1,i.$c=void 0,i.Um=n,i.Fm=Xf(),i.Hm=jf+++"",i.Bm=new Uf,i.Vm=n.label,i.Xm(),i}ct(n,t);var i=n.prototype;return i.Xm=function(){this.Xh=this.qm},i.Wm=function(t){this.Xh=t},T(n,[{key:"Vh",get:function(){}},{key:"Xh",get:function(){return this.Mm},set:function(t){this.Mm!==t&&(this.Mm=t,this.qm=t,this.vs(new Uo(this)))}},{key:"qm",get:function(){return!!this.Um.selected},set:function(t){this.Um.selected=t}},{key:"th",get:function(){return this.$c||(this.$c=ia(this)),this.$c}},{key:"Wh",get:function(){return this.Hm}},{key:"qh",get:function(){return this.Fm}},{key:"zh",get:function(){return"main"}},{key:"Gh",get:function(){return this.Vm},set:function(t){t!==this.Vm&&(this.Vm=t,this.vs(new Ff(this)))}},{key:"jh",get:function(){return this.Um.language}},{key:"nf",get:function(){return this.Xh?"enabled":"disabled"}},{key:"zm",get:function(){return this.Um}},{key:"Qh",get:function(){return this.Bm}},{key:"Yh",get:function(){},set:function(t){}}]),n}(ii),Jf=function(t){function n(n){var i;return(i=t.call(this,pa.pf)||this).jd=n,i}return ct(n,t),n}(ei);!function(t){t[t.NONE=0]="NONE",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t[t.ERROR=3]="ERROR"}(Qf||(Qf={})),function(t){t.Gm="cue",t.jm="region",t.Qm="stylesheet"}(Yf||(Yf={}));var Kf,$f,tv={"line-left":"start",center:"middle","line-right":"end"},nv={start:"line-left",middle:"center",end:"line-right"};function iv(t,n){if("auto"===t)switch(n){case"start":case"left":return"line-left";case"end":case"right":return"line-right";default:return"center"}return t}function rv(t,n){if("auto"===t)switch(n){case"start":case"left":return 0;case"end":case"right":return 100;default:return 50}return r=50,e="number"==typeof(i=t)?i:y(i),m(e)?r:e;var i,r,e}!function(t){t.Ym="Cv",t.Zm="Dv",t.kh="_o"}(Kf||(Kf={})),function(t){t.Ym="enter",t.Zm="exit",t.kh="update"}($f||($f={}));var ev=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).Jm=i,r}return ct(n,t),n}(Do),uv=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).cue=i,r}return ct(n,t),n}(Oo);function sv(t){var n,i=[Kf.Ym,Kf.Zm,Kf.kh],r={get track(){return t.ih.th},get id(){return t.Wh},get startTime(){return t.Km},get endTime(){return t.$m},get content(){return t.tk},addEventListener:function(t,i){var r=Ko(t,Jo);n.ls(r,i)},removeEventListener:function(t,i){var r=Ko(t,Jo);n.ys(r,i)}};return n=new ri(r),t.ls(i,function(t){return n.vs(t.th)}),r}function ov(){}function av(t){return Wo(sv(t),{get align(){return t.nk},get line(){return t.ik},get lineAlign(){return t.rk},get position(){return t.ek},get positionAlign(){return t.uk},get region(){return t.sk?t.sk.th:null},get size(){return t.Hs},get snapToLines(){return t.ak},get text(){return t.tk},get vertical(){return t.ck}})}var cv=.02;function hv(t,n){return js(t.Km,n.Km,cv)&&js(t.$m,n.$m,cv)&&t.Wh===n.Wh}var fv=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).$c=void 0,s.hk=void 0,s.fk=!1,s.vk="",s.dk=-1,s.lk=n,s._k=i,s.gk=r,s.wk=Boolean(e),s.Hm=u||(qf++).toString(),s}ct(n,t);var i=n.prototype;return i.nh=function(){return sv(this)},i.Ja=function(t){return this===t||Go(this,t)&&hv(this,t)},i.Dh=function(){this.gs()},T(n,[{key:"Km",get:function(){return this.lk},set:function(t){this.lk=t}},{key:"$m",get:function(){return this._k},set:function(t){this._k=t}},{key:"Wh",get:function(){return this.Hm},set:function(t){this.Hm=t}},{key:"th",get:function(){return this.$c||(this.$c=this.nh()),this.$c}},{key:"yk",get:function(){return this.fk},set:function(t){this.fk=t}},{key:"ih",get:function(){return this.hk},set:function(t){this.hk=t}},{key:"tk",get:function(){return this.gk},set:function(t){this.gk=t}},{key:"mk",get:function(){return this.vk},set:function(t){this.vk=t}},{key:"kk",get:function(){return this.wk},set:function(t){this.wk=t}}]),n}(ii);function vv(t,n){return t.tk===n.tk&&t.ik===n.ik&&t.rk===n.rk&&t.ek===n.ek&&t.uk===n.uk&&t.sk===n.sk&&t.ak===n.ak&&t.Hs===n.Hs&&t.nk===n.nk&&t.ck===n.ck}var dv=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n,i,r,e,u)||this).ik="auto",s.rk="start",s.ek="auto",s.uk="auto",s.sk=void 0,s.ak=!0,s.Hs=100,s.nk="center",s.ck="",s}return ct(n,t),n.prototype.Ja=function(n){return this===n||Go(this,n)&&t.prototype.Ja.call(this,n)&&vv(this,n)},T(n,[{key:"th",get:function(){return this.$c||(this.$c=av(this)),this.$c}},{key:"Cu",get:function(){return Yf.Gm}}]),n}(fv);function lv(t){var n="number"==typeof t.ik?t.ik:y(t.ik);return m(n)||t.ak||!(n<0||n>100)?m(n)?t.ak?-1:100:n:100}function _v(t){return rv(t.ek,t.nk)}function gv(t){return iv(t.uk,t.nk)}function wv(t){var n=100,i=gv(t),r=_v(t);return"line-left"===i&&(n=100-r),"line-right"===i&&(n=r),"center"===i&&r<=50&&(n=2*r),"center"===i&&r>50&&(n=2*(100-r)),t.Hs<n?t.Hs:n}function yv(t){return{get id(){return t.Wh},get identifier(){return t.Wh},get lines(){return t.pk},get regionAnchorX(){return t.Ak},get regionAnchorY(){return t.bk},get scrollValue(){return t.Tk},get viewportAnchorX(){return t.Ek},get viewportAnchorY(){return t.Sk},get width(){return t.mc}}}var mv=function(){function t(t,n,i,r,e,u,s,o){this.Wh=t,this.mc=n,this.pk=i,this.Ak=r,this.bk=e,this.Ek=u,this.Sk=s,this.Tk=o}return T(t,[{key:"th",get:function(){return this.$c||(this.$c=yv(this)),this.$c}},{key:"Cu",get:function(){return Yf.jm}}]),t}(),kv=function(){function t(){}var n=t.prototype;return n.Rk=function(t){return this.Ik()*t},n.Ga=function(t){return this.Za(t)>0},n.Va=function(t){return this.Za(t)>=0},n.Ya=function(t,n){return this.Qa(t).Wa(n)},n.Ja=function(t){return 0===this.Za(t)},n.ja=function(t){return this.Za(t)<0},n.Wa=function(t){return this.Za(t)<=0},n.Nk=function(){return this.Ck()?this.Dk():this},n.Ka=function(t){return this.qa(t.Dk())},n.Qa=function(t){return this.Ka(t).Nk()},t}();function pv(t,n){return t.Ok()?n.Ok()?qs.xa:qs.Pa:n.Ok()?qs.Ba:t.tc()?n.tc()&&t.Ck()===n.Ck()?qs.xa:t.Ck()?qs.Ba:qs.Pa:n.Ck()?qs.Pa:qs.Ba}var Av=function(){function t(t,n){this.xk=t,this.Pk=n}t.Bk=function(n,i,r){return r?new t(n.toUnsigned(),i.toUnsigned()):new t(n.toSigned(),i.toSigned())},t.Lk=function(n){return n.unsigned?new t(n,$i.UZERO):new t(n,n.isNegative()?$i.NEG_ONE:$i.ZERO)},t.Mk=function(n,i){if(m(n))return i?t.Uk:t.rc;if(i){if(n<0)return t.Uk;if(n>=3.402823669209385e38)return t.Fk}else{if(n<=-1.7014118346046923e38)return t.Hk;if(n+1>=1.7014118346046923e38)return t.Vk}return n<0?t.Mk(-n,i).Dk():t.Bk($i.fromNumber(n%0x10000000000000000),$i.fromNumber(n/0x10000000000000000),i)};var n=t.prototype;return n.Xk=function(){return this.Pk.unsigned},n.Wk=function(){return this.xk.isZero()&&this.Pk.isZero()},n.Ck=function(){return this.Pk.isNegative()},n.qk=function(){return this.Xk()?t.Bk(this.xk,this.Pk,!1):this},n.zk=function(){return this.Xk()?this:t.Bk(this.xk,this.Pk,!0)},n.Gk=function(){return this.xk},n.Ik=function(){return this.Ck()?-this.Dk().Ik():0x10000000000000000*this.Pk.toNumber()+this.xk.toUnsigned().toNumber()},n.jk=function(){return this.xk.toInt()},n.Ja=function(t){return(this.Xk()===t.Xk()||this.Pk.getHighBits()>>>31!=1||t.Pk.getHighBits()>>>31!=1)&&(this.Pk.toUnsigned().eq(t.Pk.toUnsigned())&&this.xk.toUnsigned().eq(t.xk.toUnsigned()))},n.Za=function(t){if(this.Ja(t))return qs.xa;var n=this.Ck(),i=t.Ck();if(n&&!i)return qs.Ba;if(!n&&i)return qs.Pa;if(!this.Xk())return this.Ka(t).Ck()?qs.Ba:qs.Pa;var r=this.zk(),e=t.zk(),u=e.Pk.comp(r.Pk);return u>0||0===u&&e.xk.gt(r.xk)?qs.Ba:qs.Pa},n.ja=function(t){return this.Za(t)<0},n.Wa=function(t){return this.Za(t)<=0},n.Vy=function(t){return this.Za(t)>0},n.Xy=function(t){return this.Za(t)>=0},n.Qk=function(){return new t(this.xk.not(),this.Pk.not())},n.Yk=function(n){return new t(this.xk.and(n.xk),this.Pk.and(n.Pk))},n.Zk=function(n){return new t(this.xk.or(n.xk),this.Pk.or(n.Pk))},n.Jk=function(n){var i=127&n;return 0===i?this:i<64?t.Bk(this.xk.shl(i),this.Pk.shl(i).or(this.xk.shru(64-i)),this.Xk()):t.Bk($i.ZERO,this.xk.shl(i-64),this.Xk())},n.Kk=function(n){var i=127&n;return 0===i?this:i<64?t.Bk(this.xk.shru(i).or(this.Pk.shl(64-i)),this.Pk.shr(i),this.Xk()):t.Bk(this.Pk.shr(i-64),this.Pk.isNegative()?$i.NEG_ONE:$i.ZERO,this.Xk())},n.$k=function(n){var i=127&n;return 0===i?this:i<64?t.Bk(this.xk.shru(i).or(this.Pk.shl(64-i)),this.Pk.shru(i),this.Xk()):64===i?t.Bk(this.Pk,$i.ZERO,this.Xk()):t.Bk(this.Pk.shru(i-64),$i.ZERO,this.Xk())},n.qa=function(n){var i=this.Pk.high>>>16,r=65535&this.Pk.high,e=this.Pk.low>>>16,u=65535&this.Pk.low,s=this.xk.high>>>16,o=65535&this.xk.high,a=this.xk.low>>>16,c=65535&this.xk.low,h=n.Pk.high>>>16,f=65535&n.Pk.high,v=n.Pk.low>>>16,d=65535&n.Pk.low,l=n.xk.high>>>16,_=65535&n.xk.high,g=n.xk.low>>>16,w=0,y=0,m=0,k=0,p=0,A=0,b=0,T=0;b+=(T+=c+(65535&n.xk.low))>>>16,T&=65535,A+=(b+=a+g)>>>16,b&=65535,p+=(A+=o+_)>>>16,A&=65535,k+=(p+=s+l)>>>16,p&=65535,m+=(k+=u+d)>>>16,k&=65535,y+=(m+=e+v)>>>16,m&=65535,w+=(y+=r+f)>>>16,y&=65535,w+=i+h,w&=65535;var E=this.Xk(),S=$i.fromBits(m<<16|k,w<<16|y,E),R=$i.fromBits(b<<16|T,p<<16|A,E);return t.Bk(R,S,E)},n.Ka=function(t){return this.qa(t.Dk())},n.Dk=function(){return this.Qk().qa(t.tp)},n.np=function(n){if(this.Wk()||n.Wk())return this.Xk()?t.Uk:t.rc;if(this.Ck())return n.Ck()?this.Dk().np(n.Dk()):this.Dk().np(n).Dk();if(n.Ck())return this.np(n.Dk()).Dk();if(this.Pk.isZero()&&0===this.xk.high&&n.Pk.isZero()&&0===n.xk.high)return t.Lk(this.xk.multiply(n.xk));var i=$i.fromBits(4294967295,0,!0),r=this.xk.and(i),e=this.xk.shru(32),u=this.Pk.and(i),s=this.Pk.shru(32),o=n.xk.and(i),a=n.xk.shru(32),c=n.Pk.and(i),h=n.Pk.shru(32),f=$i.UZERO,v=$i.UZERO,d=$i.UZERO,l=$i.UZERO;f=f.add(r.mul(o)),v=v.add(f.shru(32)),f=f.and(i),v=v.add(e.mul(o)),d=d.add(v.shru(32)),v=(v=v.and(i)).add(r.mul(a)),d=d.add(v.shru(32)),v=v.and(i),d=d.add(u.mul(o)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(e.mul(a)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(r.mul(c)),l=l.add(d.shru(32)),d=d.and(i),l=l.add(s.mul(o)).add(u.mul(a)).add(e.mul(c)).add(r.mul(h)).and(i);var _=$i.fromBits(f.getLowBitsUnsigned(),v.getLowBitsUnsigned(),!0),g=$i.fromBits(d.getLowBitsUnsigned(),l.getLowBitsUnsigned(),!0);return t.Bk(_,g,this.Xk())},n.ip=function(n){var i,r,e=n;if(e.Wk())throw new RangeError("division by zero");if(this.Wk())return this.Xk()?[t.Uk,t.Uk]:[t.rc,t.rc];if(this.Xk()){if(e.Xk()||(e=e.zk()),e.Vy(this))return[t.Uk,this];if(e.Vy(this.$k(1)))return[r=t.rp,i=this.Ka(e)];r=t.Uk}else{if(this.Ja(t.Hk)){if(e.Ja(t.tp)||e.Ja(t.ep))return[t.Hk,t.rc];if(e.Ja(t.Hk))return[t.tp,t.rc];var u=this.Kk(1).sp(e).Jk(1);return u.Ja(t.rc)?r=e.Ck()?t.tp:t.ep:(i=this.Ka(e.np(u)),r=u.qa(i.sp(e))),[r,i=this.Ka(e.np(r))]}if(e.Ja(t.Hk))return this.Xk()?[t.Uk,this]:[t.rc,this];if(this.Ck()){if(e.Ck())return this.Dk().ip(e.Dk());var s=this.Dk().ip(e);return r=s[0],i=s[1],[r.Dk(),i.Dk()]}if(e.Ck()){var o=this.ip(e.Dk());return r=o[0],i=o[1],[r.Dk(),i.Dk()]}r=t.rc}for(i=this;i.Xy(e);){for(var a=g.max(1,g.floor(i.Ik()/e.Ik())),c=g.ceil(g.log(a)/g.LN2),h=c<=48?1:g.pow(2,c-48),f=t.Mk(a),v=f.np(e);v.Ck()||v.Vy(i);)a-=h,v=(f=t.Mk(a,this.Xk())).np(e);f.Wk()&&(f=t.tp),r=r.qa(f),i=i.Ka(v)}return[r,i]},n.sp=function(t){return this.ip(t)[0]},n.op=function(t){return this.ip(t)[1]},n.toString=function(n){var i=n||10;if(i<2||i>36)throw new RangeError("radix");if(this.Wk())return"0";if(this.Ck()){if(this.Ja(t.Hk)){var r=t.Mk(i),e=this.sp(r),u=e.np(r).Ka(this);return e.toString(i)+u.jk().toString(i)}return"-"+this.Dk().toString(i)}for(var s=t.Mk(g.pow(i,6),this.Xk()),o=this,a="";;){var c=o.sp(s),h=(o.Ka(c.np(s)).jk()>>>0).toString(i);if((o=c).Wk())return h+a;for(;h.length<6;)h="0"+h;a=String(h)+a}},t}();Av.rc=Av.Lk($i.ZERO),Av.Uk=Av.Lk($i.UZERO),Av.tp=Av.Lk($i.ONE),Av.rp=Av.Lk($i.UONE),Av.ep=Av.Lk($i.NEG_ONE),Av.Vk=Av.Bk($i.NEG_ONE,$i.MAX_VALUE,!1),Av.Fk=Av.Bk($i.MAX_UNSIGNED_VALUE,$i.MAX_UNSIGNED_VALUE,!0),Av.Hk=Av.Bk($i.ZERO,$i.MIN_VALUE,!1);var bv=function(t){function n(n,i){var r;return(r=t.call(this)||this).Cn=n.toSigned(),r.Ma=i>>>0,r}ct(n,t),n.ap=function(t,i){return void 0===i&&(i=1e6),n.Mk(t*i,i)},n.Mk=function(t,i){return m(t)?n.cp:t===1/0?n.hp:t===-1/0?n.fp:new n($i.fromNumber(t),i)},n.Lk=function(t,i){return new n(t,i)},n.vp=function(t){return n.ap(t.nc,1e6)},n.dp=function(t){return new n($i.fromNumber(t.getTime()),1e3)},n.Ha=function(t,n){return t.Va(n)?t:n},n.Xa=function(t,n){return t.Wa(n)?t:n},n.lp=function(t,i,r){return n.Ha(i,n.Xa(r,t))};var i=n.prototype;return i.Ck=function(){return this.Cn.isNegative()},i.Wk=function(){return 0!==this.Ma&&this.Cn.isZero()},i.tc=function(){return 0===this.Ma&&!this.Cn.isZero()},i.Ok=function(){return 0===this.Ma&&this.Cn.isZero()},i.Ik=function(){if(0===this.Ma)return this.Cn.isZero()?NaN:this.Cn.isNegative()?-1/0:1/0;var t=this.Cn.divide(this.Ma),n=this.Cn.subtract(t.multiply(this.Ma));return t.toNumber()+n.toNumber()/this.Ma},i.Gk=function(){if(0===this.Ma)throw new d("Failed to convert timestamp");return this.Cn},i._p=function(){return new Date(0===this.Ma?NaN:this.za(1e3).Cn.toNumber())},i.gp=function(){return new io(0===this.Ma?this.Ik():this.Cn.toNumber(),this.Ma)},i.za=function(t,i){void 0===i&&(i=Sv.wp);var r=this.Ma;if(r===t)return this;if(0===r)return this;var e=Js(r,t);return new n(function(t,n,i){var r=t.ip(n),e=r[0],u=r[1];if(u.Wk())return e;if(i===Sv.wp)return u.Ck()?e.Ka(Av.tp):e;if(i===Sv.yp)return u.Ck()?e:e.qa(Av.tp);var s=u.np(Av.Mk(2));return s.Ck()?s.Dk().ja(n)?e:e.Ka(Av.tp):s.ja(n)?e:e.qa(Av.tp)}(Av.Lk(this.Cn).np(Av.Mk(t/e)),Av.Mk(r/e),i).Gk(),t)},i.Za=function(t){if(this===t)return qs.xa;if(0===this.Ma||0===t.Ma)return pv(this,t);if(this.Wk())return t.Wk()?qs.xa:t.Ck()?qs.Pa:qs.Ba;if(t.Wk())return this.Ck()?qs.Ba:qs.Pa;var n=g.min(this.Ma,t.Ma),i=this.za(n,Sv.mp).Cn,r=t.za(n,Sv.mp).Cn;return i.compare(r)},i.Dk=function(){return 0===this.Ma?Tv(this):new n(this.Cn.negate(),this.Ma)},i.qa=function(t){if(0===this.Ma||0===t.Ma)return Ev(this,t);if(this.Wk())return t;if(t.Wk())return this;var i=g.max(this.Ma,t.Ma),r=this.za(i,Sv.mp),e=t.za(i,Sv.mp);return new n(r.Cn.add(e.Cn),i)},i.np=function(t){if(this.Ok()||m(t))return n.cp;if(this.tc()||!isFinite(t)){if(this.Wk()||0===t)return n.cp;var i=this.Ck()?n.fp:n.hp;return t<0?i.Dk():i}return this.Wk()?this:new n(0===t?$i.ZERO:this.Cn.multiply(t),this.Ma)},i.sp=function(t){if(this.Ok()||m(t))return n.cp;if(this.tc())return isFinite(t)?0===t?1/t<0?this.Dk():this:t<0?this.Dk():this:n.cp;if(!isFinite(t))return new n($i.ZERO,this.Ma);if(this.Wk())return 0===t?n.cp:new n($i.ZERO,this.Ma);if(0===t){var i=this.Ck()?n.fp:n.hp;return 1/t<0?i.Dk():i}return new n(this.Cn.divide(t),this.Ma)},i.kp=function(){return[this.Cn.low,this.Cn.high,this.Ma]},n}(kv);function Tv(t){return t.Ok()?t:t.Ck()?bv.hp:bv.fp}function Ev(t,n){return t.Ok()||n.Ok()?bv.cp:t.tc()&&n.tc()?t.Ck()===n.Ck()?t:bv.cp:t.tc()?t:n}bv.rc=new bv($i.ZERO,1e6),bv.cp=new bv($i.ZERO,0),bv.hp=new bv($i.ONE,0),bv.fp=new bv($i.NEG_ONE,0);var Sv,Rv=function(t){function n(n,i){var r;return(r=t.call(this)||this).Cn=BigInt.asIntN(64,n),r.Ma=i>>>0,r}ct(n,t),n.ap=function(t,i){return void 0===i&&(i=1e6),n.Mk(t*i,i)},n.Mk=function(t,i){return m(t)?n.cp:t===1/0?n.hp:t===-1/0?n.fp:new n(BigInt(g.floor(t)),i)},n.Lk=function(t,i){return new n(BigInt(t.high)<<BigInt(32)|BigInt(t.low>>>0),i)},n.vp=function(t){return n.ap(t.nc,1e6)},n.dp=function(t){return n.Mk(t.getTime(),1e3)},n.Ha=function(t,n){return t.Va(n)?t:n},n.Xa=function(t,n){return t.Wa(n)?t:n},n.lp=function(t,i,r){return n.Ha(i,n.Xa(r,t))};var i=n.prototype;return i.Ck=function(){return this.Cn<BigInt(0)},i.Wk=function(){return 0!==this.Ma&&this.Cn===BigInt(0)},i.tc=function(){return 0===this.Ma&&this.Cn!==BigInt(0)},i.Ok=function(){return 0===this.Ma&&this.Cn===BigInt(0)},i.Ik=function(){if(0===this.Ma)return this.Cn===BigInt(0)?NaN:this.Cn<BigInt(0)?-1/0:1/0;var t=this.Cn/BigInt(this.Ma),n=this.Cn-t*BigInt(this.Ma);return Number(t)+Number(n)/this.Ma},i.Gk=function(){if(0===this.Ma)throw new d("Failed to convert timestamp");return this.pp()},i.pp=function(){var t=this.Cn&BigInt(4294967295),n=this.Cn>>BigInt(32)&BigInt(4294967295);return $i.fromBits(Number(t),Number(n))},i._p=function(){return new Date(0===this.Ma?NaN:Number(this.za(1e3).Cn))},i.gp=function(){return new io(0===this.Ma?this.Ik():Number(this.Cn),this.Ma)},i.za=function(t,i){void 0===i&&(i=Sv.wp);var r=this.Ma;if(r===t)return this;if(0===r)return this;var e=Js(r,t);return new n(function(t,n,i){var r=t/n,e=t-r*n;if(e===BigInt(0))return r;if(i===Sv.wp)return e<BigInt(0)?r-BigInt(1):r;if(i===Sv.yp)return e<BigInt(0)?r:r+BigInt(1);var u=e*BigInt(2);return u<BigInt(0)?-u<n?r:r-BigInt(1):u<n?r:r+BigInt(1)}(this.Cn*BigInt(t/e),BigInt(r/e),i),t)},i.Za=function(t){if(this===t)return qs.xa;if(0===this.Ma||0===t.Ma)return pv(this,t);if(this.Wk())return t.Wk()?qs.xa:t.Ck()?qs.Pa:qs.Ba;if(t.Wk())return this.Ck()?qs.Ba:qs.Pa;var n=g.min(this.Ma,t.Ma),i=this.za(n,Sv.mp).Cn,r=t.za(n,Sv.mp).Cn;return i>r?qs.Pa:i<r?qs.Ba:qs.xa},i.Dk=function(){return 0===this.Ma?Iv(this):new n(-this.Cn,this.Ma)},i.qa=function(t){if(0===this.Ma||0===t.Ma)return Nv(this,t);if(this.Wk())return t;if(t.Wk())return this;var i=g.max(this.Ma,t.Ma),r=this.za(i,Sv.mp),e=t.za(i,Sv.mp);return new n(r.Cn+e.Cn,i)},i.np=function(t){if(this.Ok()||m(t))return n.cp;if(this.tc()||!isFinite(t)){if(this.Wk()||0===t)return n.cp;var i=this.Ck()?n.fp:n.hp;return t<0?i.Dk():i}return this.Wk()?this:new n(0===t?BigInt(0):this.Cn*BigInt(t),this.Ma)},i.sp=function(t){if(this.Ok()||m(t))return n.cp;if(this.tc())return isFinite(t)?0===t?1/t<0?this.Dk():this:t<0?this.Dk():this:n.cp;if(!isFinite(t))return new n(BigInt(0),this.Ma);if(this.Wk())return 0===t?n.cp:new n(BigInt(0),this.Ma);if(0===t){var i=this.Ck()?n.fp:n.hp;return 1/t<0?i.Dk():i}return new n(this.Cn/BigInt(t),this.Ma)},i.kp=function(){var t=this.pp();return[t.low,t.high,this.Ma]},T(n,null,[{key:"rc",get:function(){return n.Ap||(n.Ap=new n(BigInt(0),1e6)),n.Ap}},{key:"cp",get:function(){return n.bp||(n.bp=new n(BigInt(0),0)),n.bp}},{key:"hp",get:function(){return n.Tp||(n.Tp=new n(BigInt(1),0)),n.Tp}},{key:"fp",get:function(){return n.Ep||(n.Ep=new n(BigInt(-1),0)),n.Ep}}]),n}(kv);function Iv(t){return t.Ok()?t:t.Ck()?Rv.hp:Rv.fp}function Nv(t,n){return t.Ok()||n.Ok()?Rv.cp:t.tc()&&n.tc()?t.Ck()===n.Ck()?t:Rv.cp:t.tc()?t:n}Rv.Ap=void 0,Rv.bp=void 0,Rv.Tp=void 0,Rv.Ep=void 0,function(t){t[t.wp=0]="wp",t[t.yp=1]="yp",t[t.mp=2]="mp"}(Sv||(Sv={}));var Cv=function(){try{return"function"==typeof BigInt&&"bigint"==typeof BigInt(0)}catch(t){return!1}}()?Rv:bv;function Dv(t,n){return t.Za(n)}function Ov(t){return Cv.Lk($i.fromBits(t[0],t[1],!1),t[2])}var xv=9e4,Pv=g.pow(2,33),Bv=Cv.Mk(Pv,xv),Lv=Bv.sp(2);function Mv(t){return null!=t&&!t.Ok()}function Uv(t,n){return t.tc()||n.tc()?Cv.Ha(t,n):Vv(t,n).Ga(Cv.rc)?t:n}function Fv(t,n){var i=t.Ka(n);return i.ja(Cv.rc)&&(i=i.qa(Bv)),i}function Hv(t,n){var i=t.qa(n);return i.Va(Bv)&&(i=i.Ka(Bv)),i}function Vv(t,n){var i=t.Ka(n);return t.tc()||n.tc()?i:(i.Va(Lv)?i=i.Ka(Bv):i.ja(Lv.Dk())&&(i=i.qa(Bv)),i)}function Xv(t,n){if(t||n)return t?n?Cv.Xa(t,n):t:n}function Wv(t,n){if(t||n)return t?n?Cv.Ha(t,n):t:n}var qv={Sp:io.rc,Rp:io.ec,Ip:io.rc},zv=6,Gv=["WEBVTT ","WEBVTT\t","WEBVTT\n"],jv=[" ","\t","\n","\f","\r"],Qv=/^\d*$/,Yv=/.*[0-9]+.*/,Zv=/^[\d.-]+$/,Jv=/(^\.|\.$)/,Kv=/(\D\.|\.\D)/;function $v(t,n){void 0===n&&(n=qv);var i={rf:[],Np:[],Cp:[]},r=td(t),e=new Xr;if(hd(r),nd(r,function(t){return"\n"!==t},e),e.zs>=r.length)return i;(e.Xs(1),"\n"!==r.charAt(e.zs))?ud(id(r,e,!1,!0,i,n),i):e.Xs(1);for(nd(r,function(t){return"\n"===t},e);e.zs<r.length;){ud(id(r,e,!1,!1,i,n),i),nd(r,function(t){return"\n"===t},e)}return i}function td(t){var n=fn(t,"\0"," "),i=fn(n,"\r\n","\n");return fn(i,"\r","\n")}function nd(t,n,i){for(var r=i.zs;i.zs<t.length&&n(t.charAt(i.zs));)i.Xs(1);return t.substring(r,i.zs)}function id(t,n,i,e,u,s){for(var o,a=0,c=n.zs,h="",f=!1,v=!1,d=null,l=null,_=null;!f;)if(o=nd(t,function(t){return"\n"!==t},n),a++,n.zs>=t.length?f=!0:n.Xs(1),vn(o,"--\x3e")){if(e||1!==a&&(2!==a||v)){n.Ws(c);break}v=!0,c=n.zs,d=new dv(0,0,"",!1,h);try{sd(o,u.Np,d,s),h=""}catch(t){r.Cc(t),d=null}}else{if(""===o)break;e&&dn(o,"X-TIMESTAMP-MAP")&&(u.Dp=rd(o)),e||2!==a||i||(_n("STYLE",h.replace(/ /g,""))?(l={Cu:Yf.Qm},h=""):_n("REGION",h.replace(/ /g,""))&&(_=new mv("",100,3,0,100,0,100,""),h="")),h&&(h+="\n"),h+=o,c=n.zs}if(d)return d.tk=h,d;if(l);else if(_)return function(t,n){for(var i=t.split(/\s/),r=0;r<i.length;r++){var e=i[r];if(0!==e.length&&vn(e,":")&&":"!==e.charAt(0)&&":"!==e.charAt(e.length-1)){var u=e.indexOf(":"),s=e.substring(0,u),o=e.substring(u+1,e.length);switch(s.toUpperCase()){case"ID":pd(o,n);break;case"WIDTH":Td(o,n);break;case"LINES":bd(o,n);break;case"REGIONANCHOR":var a=kd(o);a&&(n.Ak=a[0],n.bk=a[1]);break;case"VIEWPORTANCHOR":var c=kd(o);c&&(n.Ek=c[0],n.Sk=c[1]);break;case"SCROLL":Ad(o,n)}}}}(h,_),_;return null}function rd(t){var n,i=t.split("=")[1].trim().split(","),r=ed(i[0].trim(),"MPEGTS")?i[0]:i[1],e=ed(i[0].trim(),"LOCAL")?i[0]:i[1];return{Op:(n=Number(r.split(/:(.*)/)[1].trim())||0,Cv.Mk(n,xv)),xp:cd(e.split(/:(.*)/)[1].trim(),new Xr)||Cv.rc}}function ed(t,n){return dn(t,n)}function ud(t,n){t&&function(t){return t.Cu===Yf.Gm}(t)?n.rf.push(t):t&&function(t){return t.Cu===Yf.jm}(t)?n.Np.push(t):t&&function(t){return t.Cu===Yf.Qm}(t)&&n.Cp.push(t)}function sd(t,n,i,r){var e=new Xr;if(fd(t,e),i.Km=od(cd(t,e).gp(),r).nc,fd(t,e),"--\x3e"!==t.substring(e.zs,e.zs+3))throw d("Something went wrong with parsing a WebVTT Cue");e.Xs(3),fd(t,e),i.$m=od(cd(t,e).gp(),r).nc,function(t,n,i){for(var r=t.split(/\s/),e=0;e<r.length;e++){var u=r[e];if(0!==u.length&&vn(u,":")&&":"!==u.charAt(0)&&":"!==u.charAt(u.length-1)){var s=u.indexOf(":"),o=u.substring(0,s),a=u.substring(s+1,u.length);switch(o.toUpperCase()){case"REGION":gd(a,n,i);break;case"VERTICAL":yd(a,n);break;case"D":md(a,n);break;case"LINE":case"L":ld(a,n);break;case"POSITION":case"T":_d(a,n);break;case"SIZE":case"S":wd(a,n);break;case"ALIGN":case"A":dd(a,n)}}}}(t.substring(e.zs,t.length),i,n)}function od(t,n){return t.qa(n.Sp)}function ad(t){return/^[0-9]$/.test(t)}function cd(t,n){var i,r,e,u=fn(t,",","."),s=!1;if(n.zs>=u.length||!ad(u.charAt(n.zs)))throw new d("Something went wrong with parsing a WebVTT Cue timestamp");var o=nd(u,ad,n),a=w(o,10);if((o.length>2||a>59)&&(s=!0),n.zs>=u.length||":"!==u.charAt(n.zs))throw new d("Something went wrong with parsing a WebVTT Cue timestamp");n.Xs(1);var c=nd(u,ad,n);if(2!==c.length)throw new d("Something went wrong with parsing a WebVTT Cue timestamp");var h=w(c,10);if(s||n.zs<u.length&&":"===u.charAt(n.zs)){if(n.zs>=u.length||":"!==u.charAt(n.zs))throw new d("Something went wrong with parsing a WebVTT Cue timestamp");n.Xs(1);var f=nd(u,ad,n);if(2!==c.length)throw new d("Something went wrong with parsing a WebVTT Cue timestamp");i=a,r=h,e=w(f,10)}else i=0,r=a,e=h;if(n.zs>=u.length||"."!==u.charAt(n.zs))throw new d("Something went wrong with parsing a WebVTT Cue timestamp");n.Xs(1);var v=nd(u,ad,n),l=w(v,10);if(h>59||e>59)throw new d("Something went wrong with parsing a WebVTT Cue timestamp");var _=Cv.Mk(60*i*60+60*r+e,1),g=Cv.Mk(l,1e3);return _.qa(g)}function hd(t){if(t.length<zv)return!1;for(var n=0;n<Gv.length;n++){if(dn(t,Gv[n]))return!0}return!1}function fd(t,n){for(;n.zs<t.length&&(i=t.charAt(n.zs),Dn(jv,i));)n.Xs(1);var i}function vd(t){var n=t.lastIndexOf("%");if(n>-1){var i=y(t.substring(0,n));if(!m(i)&&i>=0&&i<=100)return i}return null}function dd(t,n){var i=t.toLowerCase();switch(i){case"start":case"center":case"end":case"left":case"right":n.nk=i;break;case"middle":n.nk="center"}}function ld(t,n){var i=t,r="";if(vn(t,",")&&(i=t.substring(0,t.indexOf(",")),r=t.substring(t.indexOf(",")+1,t.length)),Yv.test(i)){var e;if(ln(i,"%")){var u=vd(i);if(null===u)return;e=u}else{if(!Zv.test(t)||t.lastIndexOf("-")>0||t.indexOf(".")!==t.lastIndexOf(".")||!Kv.test(t)||Jv.test(t))return;if(e=y(t),m(e))return}switch(n.ik=e,n.ak=ln(i,"%"),r=t.toLowerCase()){case"start":case"center":case"end":n.rk=r;break;case"middle":n.rk="center"}}}function _d(t,n){var i=t,r="";vn(t,",")&&(i=t.substring(0,t.indexOf(",")),r=t.substring(t.indexOf(",")+1,t.length));var e=vd(i);if(null!==e)switch(n.ek=e,r=r.toLowerCase()){case"line-left":case"center":case"line-right":case"auto":n.uk=r;break;case"start":n.uk="line-left";break;case"middle":n.uk="center";break;case"end":n.uk="line-right"}}function gd(t,n,i){for(var r=i.length-1;r>=0;r--)if(i[r].Wh===t)return void(n.sk=i[r])}function wd(t,n){var i=vd(t);null!==i&&(n.Hs=i)}function yd(t,n){switch(t.toLowerCase()){case"rl":case"vertical:rl":case"vertical-rl":n.ck="rl";break;case"lr":case"vertical:lr":case"vertical-lr":n.ck="lr";break;default:n.ck=""}}function md(t,n){"VERTICAL"===t.toUpperCase()?n.ck="rl":"VERTICAL-LR"===t.toUpperCase()&&(n.ck="lr")}function kd(t){if(t.indexOf(",")>=0){var n=vd(t.substring(0,t.indexOf(","))),i=vd(t.substring(t.indexOf(",")+1,t.length));return[Gs(n||0,0,100),Gs(i||100,0,100)]}return null}function pd(t,n){n.Wh=t}function Ad(t,n){"up"===t.toLowerCase()&&(n.Tk="up")}function bd(t,n){Qv.test(t)&&(n.pk=w(t))}function Td(t,n){var i=vd(t);null!==i&&(n.mc=i)}function Ed(t){return t&&"Un"in t?t.Un:t}var Sd=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this,n,i,r,e)||this).Pp=u,a.Bp=s,a.Lp=o||void 0,a}return ct(n,t),n.prototype.Ja=function(n){return this===n||!!Go(this,n)&&(!!t.prototype.Ja.call(this,n)&&(!!zo(this.Mp,n.Mp)&&(!!zo(this.Np,n.Np)&&(this.Up&&n.Up?!!this.Up.Tn(n.Up)&&(this.tk&&n.tk?this.tk.Tn(n.tk):this.tk===n.tk):this.Up===n.Up))))},T(n,[{key:"Mp",get:function(){return this.Pp}},{key:"Np",get:function(){return this.Bp}},{key:"Up",get:function(){return this.Lp}},{key:"th",get:function(){var t;return this.$c||(this.$c=Wo(sv(t=this),{get styles(){return t.Mp},get regions(){return t.Np},get metadata(){return Ed(t.Up)},get content(){return Ed(t.tk)}})),this.$c}}]),n}(fv),Rd=function(){function t(t,n,i){this.Fp=t,this.Hp=n,ht(i)?this.Vp=function(t,n,i){for(var r=0,e=["begin","end","dur"];r<e.length;r++){var u=e[r];i.Xn(u)}return i}(0,0,i):this.Vp=i}return T(t,[{key:"Xp",get:function(){return this.Vp.En(!0)}},{key:"Km",get:function(){return this.Fp}},{key:"$m",get:function(){return this.Hp}}]),t}();var Id={VIDEO_H264:"video/avc",VIDEO_H265:"video/hevc",VIDEO_MP4:"video/mp4",VIDEO_MPEG:"video/mpeg",VIDEO_MPEG2:"video/mpeg2",VIDEO_UNKNOWN:"video/x-unknown",AUDIO_AAC:"audio/mp4a-latm",AUDIO_MP4:"audio/mp4",AUDIO_UNKOWN:"audio/x-unknown",IMAGE_JPEG:"image/jpeg",APPLICATION_TTML_XML:"application/ttml+xml",APPLICATION_MP4:"application/mp4",TEXT_VTT:"text/vtt"};function Nd(t){return vn(t,Id.APPLICATION_MP4)||vn(t,Id.VIDEO_MP4)||vn(t,Id.AUDIO_MP4)}var Cd=function(){function t(t,n){this.Cu=t,this.Wp=n}return t.prototype.qp=function(t){for(var n=0,i=this.Wp;n<i.length;n++){var r=i[n],e=r[0],u=r[1];if(e.toLowerCase()===t.toLowerCase())return u}},t}();function Dd(t){var n=t.trim(),i=n.indexOf(";");if(i<0)return new Cd(n,[]);for(var r=n.substr(0,i).trim(),e=n.substr(i+1).trim(),u=[],s=0,o=!1,a=0;a<e.length;a++){var c=e[a];if(o||";"!==c)'"'===c&&(o=!o);else{var h=Od(e.substr(s,a));h&&u.push(h),s=a+1}}if(s!==e.length){var f=Od(e.substr(s));f&&u.push(f)}return new Cd(r,u)}function Od(t){var n=t.indexOf("=");if(!(n<0)){var i=t.substr(0,n).trim(),r=t.substr(n+1).trim();return'"'===r[0]&&(r=r.substring(1,r.length-1)),[i,r]}}var xd="http://www.w3.org/XML/1998/namespace";function Pd(t,n){return function(t,n){var i=t.Fn.slice(),r=[];for(;i.length>0;){var e=i.shift();n(e)?r.push(e):i.push.apply(i,e.Fn)}return r}(t,function(t){return t.Bn===n})}function Bd(t,n){for(var i=t,r=0;r<n.length;r++){var e=n[r];i=i.replace(e+":","")}return i}function Ld(t,n){for(var i=t.Gn,r={},e=0;e<i.length;e++)r[Bd(i[e].Rn,n)]=i[e].Cn;return r}var Md=/^(\d\d+):(\d\d):(\d+)((\.(\d+))?|(:(\d\d+)(\.(\d+))?))$/,Ud=/^(\d+)(\.(\d+))?(h|m|s|ms|f|t)$/;function Fd(t,n,i){return void 0===i&&(i=qv),function(t,n,i){var e=[],u=r.An(t);if(!u)return e;var s=u.Yn;if("tt"!==s.Bn)return e;var o=s&&s.xn("head")[0],a=s&&s.xn("body")[0],c=["ebutts","tts","xml"];if(!a||!o)return e;for(var h=function(t,n){for(var i={},r=t.xn("styling")[0],e=r&&r.xn("style")||[],u=0;u<e.length;u++){var s=e[u],o=s.Vn(xd,"id");i[o]=Ld(s,n)}return i}(o,c),f=function(t,n){var i=qo(t),r=Wd(n.Hn("tts:extent"));if(!r)return i;for(var e=0,u=_.keys(i);e<u.length;e++){var s=u[e],o=Wd(i[s].extent);if(o){var a=Vd(o[0],r[0]),c=Vd(o[1],r[1]);i[s].extent=a+" "+c}var h=Wd(i[s].origin);if(h){var f=Vd(h[0],r[0]),v=Vd(h[1],r[1]);i[s].origin=f+" "+v}}return i}(function(t,n){for(var i={},r=t.xn("layout")[0],e=r&&r.xn("region")||[],u=0;u<e.length;u++){var s=e[u],o=s.Vn(xd,"id");if(o){i[o]=Ld(s,n);var a=Gd(s,n);for(var c in a)B.call(a,c)&&(i[o][c]=a[c])}}return i}(o,c),s),v=o.xn("metadata")[0],d=function t(n,i,r,e){var u=i;var s;var o=r;var a=[];var c=[];if(ht(n)){u=zd(n.Hn("begin"),e)||u,s=zd(n.Hn("dur"),io.rc),o=zd(n.Hn("end"),e)||s&&u.qa(s)||o;for(var h=n.Pn,f=0;f<h.length;f++)("body"===n.Sn||"div"===n.Sn)&&h[f].gn>1||(a=a.concat(t(h[f],u,o,e)))}var v=function(t,n,i){var r=[];r.push(t,n);for(var e=0;e<i.length;e++){var u=i[e];r.push(u.Km,u.$m)}r.sort(ro);for(var s=r.length,o=0;o<s-1;o++)r[o+1].Ja(r[o])&&(Cn(r,o+1),o--,s=r.length);return r}(u,o,a);for(var d=0;d<v.length-1;d++){var l=qd(v[d],v[d+1],a);if(l.length<=0&&jd(n)){var _=n.En(!1);c.push(new Rd(v[d],v[d+1],_))}else l.length>0&&function(){var t=n.En(!1);l.forEach(function(n){return t.Mn(n.Xp)}),c.push(new Rd(v[d],v[d+1],t))}()}return c}(a,i.Sp,i.Rp,i.Ip),l=0;l<d.length;l++){var g=d[l],w=Hd(f,g);e.push(new Sd(g.Km.nc,g.$m.nc,g.Xp,!1,h,w,v))}return e}(t,0,i)}function Hd(t,n){for(var i=function t(n){var i=[];var r;if(ht(n)){(r=n.Hn("region"))&&i.push(r);for(var e=n.Pn,u=0;u<e.length;u++)i=i.concat(t(e[u]))}return i}(n.Xp),r={},e=0;e<i.length;e++){var u=i[e];r[u]=t[u]}return r}function Vd(t,n){var i=Xd(t),r=Xd(n);if(i&&r&&i===r){var e=Number(t.slice(0,-i.length)),u=Number(n.slice(0,-r.length));return m(e)||m(u)?t:e/u*100+"%"}return t}function Xd(t){return ln(t,"px")?"px":ln(t,"em")?"em":ln(t,"c")?"c":ln(t,"%")?"%":void 0}function Wd(t){if(t){var n=t.split(" ");if(2===n.length)return[n[0],n[1]]}}function qd(t,n,i){for(var r=[],e=0;e<i.length;e++){var u=i[e].Km,s=i[e].$m;(u.Va(t)&&s.Wa(n)||u.ja(n)&&s.Va(n)||u.Wa(t)&&s.Ga(t))&&r.push(i[e])}return r}function zd(t,n){if(t){if(Md.test(t)){var i=Md.exec(t);if(!i)return;var r=Number(i[1])||0,e=Number(i[2])||0,u=Number(i[3])||0,s=i[6],o=s?Number(s)*g.pow(.1,s.length):0;return new io(3600*r+60*e+u+o).Ka(n)}if(Ud.test(t)){var a=Ud.exec(t);if(!a)return;var c,h=Number(a[1]);switch(a[4]){case"h":c=3600*h;break;case"m":c=60*h;break;case"s":c=h;break;case"ms":c=.001*h;break;case"f":case"t":default:c=NaN}return new io(c).Ka(n)}}}function Gd(t,n){for(var i={},r=t.xn("style")||[],e=0;e<r.length;e++){var u=Ld(r[e],n);for(var s in u)B.call(u,s)&&(i[s]=u[s])}return i}function jd(t){if(ht(t)){var n=t.Sn.toUpperCase(),i=Boolean(t.Hn("smpte:backgroundImage"));return"BR"===n||i}return t.gn===it.yn}function Qd(t){var n=function(t){var n=r.An(t);if(n)return n.Yn}(t);return"tt"===(null==n?void 0:n.Sn)}var Yd,Zd,Jd=function(t){function n(){return t.apply(this,arguments)||this}ct(n,t);var i=n.prototype;return i.Rh=function(n){return t.prototype.Rh.call(this,n)},i.Ih=function(n){var i=t.prototype.Ih.call(this,n);return i&&(n.nf=ua.Zh),i},i.nh=function(){return va(this)},n}(Mo),Kd=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).j_=new Jd,n.zp=function(t){t.ih.nf!==ua.Zh?n.Gp(t.ih):n.jp(t.ih)},n}ct(n,t);var i=n.prototype;return i.Rh=function(t){t.ls(Co.lh,this.zp),this.j_.Rh(t)},i.Ih=function(t){t.ys(Co.lh,this.zp),t.nf=ua.Zh,this.j_.Ih(t)},i.Gp=function(t){},i.jp=function(t){},i.Qp=function(){for(var t=0,n=this.j_.Oh;t<n.length;t++){var i=n[t];i.ys(Co.lh,this.zp),i.Dh()}},i.Ch=function(){return this.Qp(),this.j_.Ch(),Ct.resolve()},i.Dh=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.gs(),t.next=3,this.Ch();case 3:this.j_.Dh();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n}(ii);!function(t){t.Yp="arraybuffer",t.Zp="json",t.Jp="stream",t.yn="text",t.Kp="blob",t.pn="document"}(Yd||(Yd={})),function(t){t.Yp=Yd.Yp,t.Zp=Yd.Zp,t.Jp=Yd.Jp,t.yn=Yd.yn}(Zd||(Zd={}));var $d,tl,nl,il,rl=function(){function t(n){var i=this;this.Tu={},n instanceof t?n.asList().forEach(function(t){var n=t[0],r=t[1];i.append(n,r)}):Array.isArray(n)?n.forEach(function(t){i.append(t[0],t[1])}):n&&_.getOwnPropertyNames(n).forEach(function(t){i.append(t,n[t])})}var n=t.prototype;return n.append=function(t,n){var i=t,r=n;i=el(i),r=ul(r);var e=i.toLowerCase();if(this.Tu.hasOwnProperty(e)){var u=this.Tu[e],s=u[1];u[1]=s?s+", "+r:r}else this.Tu[e]=[i,r]},n.delete=function(t){var n=el(t).toLowerCase();delete this.Tu[n]},n.get=function(t){var n=el(t).toLowerCase();return this.Tu.hasOwnProperty(n)?this.Tu[n][1]:null},n.has=function(t){var n=el(t).toLowerCase();return this.Tu.hasOwnProperty(n)},n.set=function(t,n){var i=t,r=(i=el(i)).toLowerCase();this.Tu[r]=[i,ul(n)]},n.forEach=function(t,n){for(var i in this.Tu)this.Tu.hasOwnProperty(i)&&t.call(n,this.Tu[i][1],i,this)},n.asList=function(){var t=[];for(var n in this.Tu)if(this.Tu.hasOwnProperty(n)){var i=this.Tu[n],r=i[0],e=i[1];t.push([r,e])}return t},n.$p=function(){var t={};return this.forEach(function(n,i){t[i]=n}),t},n.tA=function(t){var n=this;t.forEach(function(t,i){n.append(i,t)})},n.nA=function(t){var n=this;t.forEach(function(t,i){n.set(i,t)})},t}();function el(t){var n=t;if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(n))throw new l("Invalid character in header field name");return n}function ul(t){var n=t;return"string"!=typeof n&&(n=String(n)),n}!function(t){t.DELETE="DELETE",t.GET="GET",t.HEAD="HEAD",t.OPTIONS="OPTIONS",t.POST="POST",t.PUT="PUT"}($d||($d={})),function(t){t.xy="",t.iA="manifest",t.rA="segment",t.eA="content-protection"}(tl||(tl={})),function(t){t.xy="",t.uA="initialization-segment",t.sA="fairplay-license",t.oA="fairplay-certificate",t.aA="widevine-license",t.cA="widevine-certificate",t.hA="playready-license",t.fA="clearkey-license",t.vA="aes128-key"}(nl||(nl={})),function(t){t.xy="",t.i_="audio",t.n_="video",t.yn="text",t.Oy="image"}(il||(il={}));var sl,ol,al=function(t,n){var i,r,e,u,s,o,a,c,h,f,v,d=t.dA;n?(i=n.lA,r=n._A,e=n.gA,u=n.wA,s=n.yA,o=n.cs,a=n.Cu,c=n.mA,h=n.kA,f=n.pA,v=n.AA):(i=null,r={},e=$d.GET,u=Zd.yn,s=0,a=tl.xy,c=nl.xy,h=il.xy,f=!1),this.dA=d,this.lA=t.lA||i,this._A=new rl(t._A||r),this.gA=t.gA||e,this.wA=t.wA||u,this.yA=void 0!==t.yA?Number(t.yA)||0:s,this.cs=t.cs||o||(new Mn).cs,this.Cu=t.Cu||a,this.mA=t.mA||c,this.kA=t.kA||h,this.pA=void 0!==t.pA?Boolean(t.pA):f,this.AA=t.AA||v},cl=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n,i,u)||this).url=r,s.status=e,s}return ct(n,t),n}(le);function hl(t){switch(t.name){case sl.bA:case sl.TA:case sl.EA:return!0;default:return!1}}function fl(t){return vn(t,ol.SA)}function vl(t){return t.some(dl)}function dl(t){return vn(t,ol.RA)||vn(t,ol.Xl)}function ll(t,n){return Nd(t)&&vl(n)}function _l(t,n){return!!t&&(Nd(t)?function(t){return t.some(fl)}(n)||vl(n):vn(t,Id.APPLICATION_TTML_XML)||vn(t,Id.TEXT_VTT)||vn(t,Id.IMAGE_JPEG))}function gl(t,n){return t===af.xm||t===af.e_&&n===af.xm}function wl(t,n,i,r){for(var e=0,u=t.rf.Oh;e<u.length;e++){var s=u[e];if(s.Km>i)break;n<=s.$m&&r.push(s)}}function yl(t,n){return Ks(t.qh,n.qh)}function ml(t,i){var r=i,e=0;if(hl(t)&&t.name===sl.bA)r=t.IA.dA;else if(t.name===sl.TA){var u=t.NA;if(r=u.CA,0===(e=u.DA))return new cl(n.ErrorCode.SUBTITLE_CORS_ERROR,"Could not load the subtitle file. Make sure the source is set correctly and that CORS support is enabled.",r,e,t)}return new cl(n.ErrorCode.SUBTITLE_LOAD_ERROR,"Could not load the subtitle file.",r,e,t)}function kl(t){switch(t){case Xh.WEBVTT:return"WebVTT";case Xh.SRT:return"SRT";case Xh.TTML:return"TTML";default:return""}}function pl(t){return hd(td(t))?Xh.WEBVTT:Qd(t)?Xh.TTML:Xh.SRT}!function(t){t.bA="HttpOpenError",t.TA="HttpResponseError",t.EA="HttpTimeoutError"}(sl||(sl={})),function(t){t.RA="vtt",t.Xl="wvtt",t.SA="stpp"}(ol||(ol={}));var Al=function(t){function n(n){var i;return(i=t.call(this,sa.$h)||this).errorObject=n,i}return ct(n,t),n.prototype.nh=function(){return this},T(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(No),bl=function(t){function i(n,i){var r;return(r=t.call(this)||this).OA=new Mn,r.xA=n,r.PA=i,r}ct(i,t);var r=i.prototype;return r.BA=function(t){if(t.src){var n=t.kind||af.Nm,i=this.xA.LA(n,t.label,t.srclang,t.default);return i.uf=Fs(t.src),this.Rh(i),i}},r.MA=function(){var t=Ct.coroutine(Nt.mark(function t(i,r){var e,u,s,o,a,c,h,f,v,d,l;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i.if=Qf.LOADING,e=new al({dA:i.uf,wA:Yd.yn,gA:$d.GET,cs:r}),t.prev=2,t.next=5,this.PA.IA(e);case 5:return o=t.sent,s=o.DA,t.next=9,o.UA();case 9:u=t.sent,t.next=18;break;case 12:return t.prev=12,t.t0=t.catch(2),Vn(t.t0),i.if=Qf.ERROR,i.vs(new Al(ml(t.t0,i.uf))),t.abrupt("return");case 18:for(t.prev=18,a=pl(u),i.Cu=a,c=[],a===Xh.WEBVTT||a===Xh.SRT?(h=$v(u),c=h.rf):a===Xh.TTML&&(c=Fd(u)),f=0,v=c;f<v.length;f++)d=v[f],i.FA(d);t.next=33;break;case 26:return t.prev=26,t.t1=t.catch(18),Vn(t.t1),i.if=Qf.ERROR,l=kl(i.Cu),i.vs(new Al(new cl(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Could not parse the "+l+(l?" ":"")+"subtitle file.",i.uf,s,t.t1))),t.abrupt("return");case 33:i.if=Qf.LOADED;case 34:case"end":return t.stop()}},t,this,[[2,12],[18,26]])}));return function(n,i){return t.apply(this,arguments)}}(),r.Gp=function(t){Dn(this.j_.Oh,t)&&t.if===Qf.NONE&&this.MA(t,this.OA.cs).catch(Xn)},r.do=function(){},r.Ch=function(){var n=Ct.coroutine(Nt.mark(function n(){var i,r,e;return Nt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(this.OA.ss(),this.OA=new Mn,i=0,r=this.j_.Oh;i<r.length;i++)e=r[i],this.xA.HA(e);return n.next=5,t.prototype.Ch.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i}(Kd);function Tl(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.zh===n&&r.VA)return r}}function El(t,n){Sl(Tl(t.Oh,n))}function Sl(t){void 0!==t&&(t.nf=ua.Kh)}function Rl(t,n){Sl(Tl(t.Oh,n)||function(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.zh===n)return r}}(t.Oh,n))}function Il(t){for(var n=0;n<Af.length;n++){var i=Af[n];i===af.Om?Rl(t,i):El(t,i)}}var Nl=function(t){function n(){return t.call(this,pa.qf)||this}return ct(n,t),n}(ei),Cl=function(){function t(t){var n=this;this.XA=[],this.WA=void 0,this.qA=new Mn,this.Wr=function(){return 0===n.XA.length?n.zA?Dl(n.zA,n.qA.cs).then(n.GA,n.GA):n.GA():n.XA.shift()().then(n.Wr)},this.GA=function(){if(0!==n.XA.length)return n.Wr();n.WA=void 0},this.zA=t}var n=t.prototype;return n.jA=function(t,n){var i=this;return new Ct(function(r){var e=new Mn;e.os(i.qA.cs),n&&e.os(n);var u=function(){e.$u()};i.XA.push(function(){var n=Dl(t,e.cs);return r(n),n.then(u,u)}),i.WA||(i.WA=i.Wr())})},n.ss=function(){return this.QA(!0)},n.Dh=function(){return this.zA=void 0,this.QA(!1)},n.QA=function(t){var n=this.WA;return this.qA.ss(),t&&(this.qA=new Mn),Ct.resolve(n)},t}();function Dl(t,n){return new Ct(function(i){return i(t(n))})}var Ol=function(t){function n(n){var i;return(i=t.call(this,pa.Ef)||this).errorObject=n,i}return ct(n,t),T(n,[{key:"error",get:function(){return this.errorObject.message}},{key:"licenseAcquisitionURL",get:function(){return this.errorObject.url}},{key:"status",get:function(){return this.errorObject.status}},{key:"statusText",get:function(){return this.errorObject.statusText}},{key:"licenseAcquisitionMessage",get:function(){return this.errorObject.response}},{key:"systemCode",get:function(){return this.errorObject.systemCode}}]),n}(ei),xl=function(t){function n(n){var i;return(i=t.call(this)||this).YA=void 0,i.qA=new Mn,i.ZA=n,i}ct(n,t);var i=n.prototype;return i.JA=function(t){t&&(this.YA=t,r.Mc._c&&this.KA(this.qA.cs).catch(Xn))},i.KA=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i,r,e,u,s,o,a,c;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=this.YA,r=!1,e=0,u=i.$A;case 3:if(!(e<u.length)){t.next=25;break}s=u[e],o=0,a=s.nb;case 6:if(!(o<a.length)){t.next=20;break}return c=a[o],t.prev=8,t.next=11,this.ib(s.Co.Ou,c,n);case 11:r=!0,t.next=17;break;case 14:t.prev=14,t.t0=t.catch(8),Vn(t.t0);case 17:o++,t.next=6;break;case 20:if(!r){t.next=22;break}return t.abrupt("break",25);case 22:e++,t.next=3;break;case 25:case"end":return t.stop()}},t,this,[[8,14]])}));return function(n){return t.apply(this,arguments)}}(),i.rb=function(t,n){return this.ib(t,n,this.qA.cs)},i.Ch=function(){return this.YA=void 0,this.qA.ss(),this.qA=new Mn,this.eb()},i.Dh=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.gs(),t.next=3,this.Ch();case 3:this.qA.$u();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.ub=function(t,n){if(!this.YA)return!1;var i=Ih(t,n);return Boolean(i[$t])},T(n,[{key:"Co",get:function(){return this.sb()}}]),n}(ii),Pl=function(t){function n(n){var i;return(i=t.call(this,sa.$h)||this).errorObject=n,i}return ct(n,t),T(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(ei),Bl=function(t){function n(){return t.call(this,pa.Sf)||this}return ct(n,t),n}(ei),Ll=function(t){function n(n){var i;return(i=t.call(this,"rv")||this).ob=n,i}return ct(n,t),n}(ei),Ml=new Cl,Ul=function(t){function i(i,e,u,s,o){var a;return(a=t.call(this)||this).ab=i,a.cb=e,a.Ou=u,a.xs=s,a.hb=o,a.uu=!1,a.fb=!1,a.qA=new Mn,a.so=function(t){switch(t.Ss){case"license-request":a.vb(t.Es,t.Rs).catch(function(t){return a.Ho(t)});break;default:a.Ho(new bc(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Unsupported CDM message type: "+t.Ss))}},a.lb=function(t){a.ab.ko.Ms(function(t,n){switch(t){case"usable":r._n(function(){a.fb=!0,a.vs(new Bl)},100);break;case"expired":case"status-pending":break;case"output-restricted":case"internal-error":a.vs(new Ll(n))}})},a._b=function(t){a.Ho(new bc(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Unknown CDM error"))},i.ls("Es",a.so),i.ls("Ts",a.lb),i.ls("Is",a._b),a.yo=i.yo.then(function(){return a.gb()}),a}ct(i,t);var e=i.prototype;return e.vo=function(){var t=this;return this.uu=!0,Ml.jA(function(n){return t.wb(n)},this.qA.cs)},e.wb=function(){var t=Ct.coroutine(Nt.mark(function t(i){var r,e,u;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,Hn(i),t.next=4,this.cb.yb(this.xs);case 4:return r=t.sent,t.next=7,this.ab.vo(this.Ou,this.xs,r);case 7:if(!this.cb.mb){t.next=10;break}return t.next=10,this.cb.As("persistenttokenavailable",i);case 10:t.next=19;break;case 12:throw t.prev=12,t.t0=t.catch(0),Vn(t.t0),e=t.t0 instanceof Yr?t.t0.to:void 0,u=new bc(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while performing the CDM request",t.t0,void 0,void 0,void 0,void 0,e),this.Ho(u),u;case 19:case"end":return t.stop()}},t,this,[[0,12]])}));return function(n){return t.apply(this,arguments)}}(),e.vb=function(){var t=Ct.coroutine(Nt.mark(function t(i,r){var e,u;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r&&this.cb.kb(r),t.prev=1,!Gr(i)){t.next=8;break}return t.next=5,this.cb.pb(new k(i),this.qA.cs);case 5:e=t.sent,t.next=11;break;case 8:return t.next=10,this.cb.Ab(new k(i),this.qA.cs);case 10:e=t.sent;case 11:t.next=18;break;case 13:if(t.prev=13,t.t0=t.catch(1),!Fn(t.t0)){t.next=17;break}return t.abrupt("return");case 17:throw t.t0;case 18:return t.prev=18,t.next=21,this.ab._o(e);case 21:t.next=27;break;case 23:throw t.prev=23,t.t1=t.catch(18),u=t.t1 instanceof Yr?t.t1.to:void 0,new bc(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while applying license response",t.t1,void 0,void 0,void 0,void 0,u);case 27:case"end":return t.stop()}},t,this,[[1,13],[18,23]])}));return function(n,i){return t.apply(this,arguments)}}(),e.Ho=function(t){var i=t instanceof bc?t:new bc(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.vs(new Ol(i)),this.fo()},e.gb=function(){this.ab.ys("Es",this.so),this.ab.ys("Ts",this.lb),this.ab.ys("Is",this._b),this.fb=!1,this.qA.ss()},e.fo=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.gs(),this.gb(),t.next=4,this.ab.fo().catch(j);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i}(ii),Fl=[pa.Sf,pa.Ef,pa.nv],Hl=function(t){function n(n,i,r){var e;(e=t.call(this)||this).bb=[],e.Ao=n,e.ZA=r,e.Tb=i;var u=i.Eb;return u&&Qn(n.To(u)),e}ct(n,t);var i=n.prototype;return i.Sb=function(){return this.Rb||(this.Rb=this.Ib()),this.Rb},i.Ib=function(){var t=Ct.coroutine(Nt.mark(function t(){var n;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Tb.pb(new k(zr()));case 2:return n=t.sent,t.next=5,this.Ao.To(n.buffer);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Nb=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r){var e,u,s=this;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Ao.bo("temporary");case 2:return e=t.sent,u=new Ul(e,this.Tb,n,i,r),this.bb.push(u),u.ls(Fl,this.fs),u.yo.then(function(){return s.Cb(u)}),t.abrupt("return",u);case 8:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.Db=function(t,n,i){if(i)return!1;for(var r=0,e=this.bb;r<e.length;r++){var u=e[r];if(!u.hb&&u.Ou===t&&Ai(u.xs,n))return!0}return!1},i.Cb=function(t){t.ys(Fl,this.fs),Nn(this.bb,t)},i.Dh=function(){var t=Ct.coroutine(Nt.mark(function t(){var n;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.gs(),n=this.bb.slice(),this.bb.length=0,t.next=5,Ct.all(n.map(function(t){return t.fo()}));case 5:this.Tb.Dh();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),T(n,[{key:"Ob",get:function(){return this.Tb.Ob}},{key:"Co",get:function(){return this.Tb.Co}},{key:"xb",get:function(){return this.Tb.xb}},{key:"Pb",get:function(){return this.Tb.Pb}},{key:"Bb",get:function(){return this.Tb.Bb}}]),n}(ii),Vl=function(t){function n(){return t.call(this,"persistenttokenavailable")||this}return ct(n,t),n}(ei),Xl=function(t){function i(n,i,r,e,u){var s;return(s=t.call(this)||this).Lb=void 0,s.Co=n,s.Ob=i,s.Pb=r,s.PA=e,s.Mb=u,s.xb=s.Ub(i),s}ct(i,t);var e=i.prototype;return e.Fb=function(){return this.Lb},e.kb=function(t){this.Lb=t},e.Hb=function(){return this.xb.licenseAcquisitionURL||this.Fb()},e.yb=function(t){return Ct.resolve(void 0)},e.Vb=function(){var t=Ct.coroutine(Nt.mark(function t(i,r,e,u){var s,o;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==(s=this.Xb(i,r,e,u)).dA){t.next=3;break}throw new bc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 3:return t.prev=3,t.next=6,this.Wb.IA(s);case 6:return o=t.sent,t.next=9,o.qb(r);case 9:return t.abrupt("return",t.sent);case 12:return t.prev=12,t.t0=t.catch(3),Vn(t.t0),t.next=17,this.zb(t.t0,s.dA,u);case 17:return t.abrupt("return");case 18:case"end":return t.stop()}},t,this,[[3,12]])}));return function(n,i,r,e){return t.apply(this,arguments)}}(),e.Xb=function(t,n,i,r){var e=this.Gb().$p(),u=this.pA,s={dA:this.jb(),wA:n,_A:e,lA:t,pA:u,gA:$d.POST,yA:0,cs:r,Cu:tl.eA,mA:i};return new al(s)},e.vb=function(t,n){return Ct.resolve(t)},e.Qb=function(t,n,i,r){return Ct.resolve(t)},e.Gb=function(){return new rl(this.xb.headers||{})},e.zb=function(){var t=Ct.coroutine(Nt.mark(function t(i,r,e){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:throw new bc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during license server request",i);case 1:case"end":return t.stop()}},t)}));return function(n,i,r){return t.apply(this,arguments)}}(),e.jb=function(t,n){var i=n,e=this.xb.queryParameters;if(!i){var u=this.Hb();if(!u)return"";i=u}if(e||t){var s=r.Oa(i);t&&Us(s,t),e&&Us(s,e),i=s.href}return i},e.Yb=function(t){return function(t,n){var i=n.licenseResponseProcessor;return Ct.resolve(new k(Wl(t,i)))}(t,this.xb)},e.Zb=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r){var e,u,s;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Jb(n,r);case 2:return e=t.sent,t.next=5,this.Vb(e,this.Mb,i,r);case 5:return u=t.sent,t.next=8,this.Yb(u);case 8:return s=t.sent,t.abrupt("return",s);case 10:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),e.Dh=function(){this.gs()},T(i,[{key:"Wb",get:function(){return this.PA}},{key:"mb",get:function(){return!1}},{key:"Eb",get:function(){var t=this.xb.certificate;if(t)return X(t)?wi(t):Fr(t)}},{key:"Kb",get:function(){return"optional"}},{key:"Do",get:function(){return!1}},{key:"Bb",get:function(){return!1}},{key:"pA",get:function(){return Boolean(this.xb.useCredentials)}}]),i}(ii);function Wl(t,i){if(!t||!i||"function"!=typeof i)return t;try{return i(t)}catch(t){throw new bc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error while preprocessing DRM data",t)}}function ql(t,n){var i=Vr(t).buffer,r=n.licenseRequestProcessor;return Ct.resolve(Wl(i,r))}var zl,Gl=function(t){function n(n,i,r,e){return t.call(this,sn,n,i,r,e)||this}ct(n,t);var i=n.prototype;return i.Ub=function(t){return t.widevine||{}},i.pb=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.Eb){t.next=2;break}return t.abrupt("return",this.Eb);case 2:return t.abrupt("return",this.Ab(new k(n),i));case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Ab=function(n,i){return t.prototype.Zb.call(this,n,nl.aA,i)},n}(Xl);!function(t){t.Su="Widevine",t.Eu="PlayreadyV2",t.$b="PlayreadyV2",t.tT="PlayreadyV3",t.Ru="Fairplay"}(zl||(zl={}));var jl={Widevine:{DRMProvider:"Google",DRMVersion:"1.4.8.86",DRMType:"Widevine"},PlayreadyV2:{DRMProvider:"Microsoft",DRMVersion:"2.9",DRMType:"Playready"},PlayreadyV3:{DRMProvider:"Microsoft",DRMVersion:"3",DRMType:"Playready"},Fairplay:{DRMProvider:"Apple",DRMType:"FairPlay",DRMVersion:"1.0"}};function Ql(t,n){var i,e,u,s,o=jl[n],a=t.accountName;return{CustomerName:t.customerName,AccountName:a,PortalId:t.portalId,FriendlyName:t.friendlyName,DeviceInfo:{FormatVersion:"1",DeviceType:"PC",OSType:null===(i=r.Lc)||void 0===i?void 0:i.Mc,OSVersion:null===(e=r.Lc)||void 0===e?void 0:e.Gc,DRMProvider:o.DRMProvider,DRMVersion:o.DRMVersion,DRMType:o.DRMType,DeviceVendor:null===(u=r.Lc)||void 0===u?void 0:u.jc,DeviceModel:null===(s=r.Lc)||void 0===s?void 0:s.Qc}}}function Yl(t,i){if(!t.accountName)throw new bc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, accountName is not set.");if(!t.customerName)throw new bc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, customerName is not set.");if(!t.portalId)throw new bc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, portalId is not set.");throw new bc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration.")}function Zl(t,n,i){var r;if(ph(t))r={AuthToken:t.authToken,Payload:n};else{if(!Ah(t))throw Yl(t,i);r={LatensRegistration:Ql(t,i),Payload:n}}return Si(JSON.stringify(r))}function Jl(t,n,i){return Kl.apply(this,arguments)}function Kl(){return(Kl=Ct.coroutine(Nt.mark(function t(i,r,e){var u,s,o,a;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u=i.NA){t.next=3;break}throw new bc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",i,r);case 3:return s=u,t.prev=4,t.next=7,s.nT(e);case 7:o=t.sent,a=$l(o),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),a="";case 14:throw new bc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",i,s.IA.dA,s.DA,s.iT,a);case 15:case"end":return t.stop()}},t,null,[[4,11]])}))).apply(this,arguments)}function $l(t){if(t){if(t.WvProxyErr)return t.WvProxyErr.desc;if(t.DrmErr)return t.DrmErr.desc}}var t_=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r,Zd.Zp)||this).rT=!0,e}ct(i,t);var r=i.prototype;return r.zb=function(t,n,i){return Jl(t,n,i)},r.Jb=function(){var t=Ct.coroutine(Nt.mark(function t(i,r){var e,u;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.Ob){t.next=3;break}throw new bc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Widevine DRM configuration.");case 3:return u=mi(i),t.abrupt("return",Zl(e,u,zl.Su));case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.Yb=function(t){var i;if(!t.license)throw new bc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Widevine license server");return i=wi(t.license),Ct.resolve(i)},r.eT=function(t){return Ct.resolve(new k(t))},r.pb=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r,e;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.uT(),t.next=3,this.Jb(n,i);case 3:return r=t.sent,t.next=6,this.Vb(r,Zd.Yp,nl.cA,i);case 6:return e=t.sent,t.next=9,this.eT(e);case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.Ab=function(){var n=Ct.coroutine(Nt.mark(function n(i,r){var e;return Nt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.Ab.call(this,i,r);case 2:return e=n.sent,this.uT(),n.abrupt("return",e);case 5:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),r.uT=function(){this.vs(new Vl),this.rT=!1},T(i,[{key:"mb",get:function(){return this.rT}},{key:"Kb",get:function(){return"required"}}]),i}(Gl),n_=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r,Zd.Yp)||this).kb("https://widevine-proxy.drm.technology/proxy"),e}return ct(i,t),i.prototype.Jb=function(){var t=Ct.coroutine(Nt.mark(function t(i,r){var e,u,s,o;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ql(i,this.xb);case 2:if(e=t.sent,u=this.Pb,r=new k(e),s=[].slice.call(r),o=this.sT){t.next=8;break}throw new bc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The Widevine vuDRM token has not been correctly configured.");case 8:return t.abrupt("return",JSON.stringify({token:o,drm_info:s,kid:u}));case 9:case"end":return t.stop()}var r},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),T(i,[{key:"sT",get:function(){if(bh(this.Ob))return this.Ob.token}}]),i}(Gl);function i_(t,n){var i=n||{};return t.ticket&&t.sessionId&&(i=Dt(Dt({},i),{SessionId:t.sessionId,Ticket:t.ticket})),Dt(Dt({},i),{CrmId:t.crmId,AccountId:t.accountId,ContentId:t.contentId})}var r_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,Zd.Yp)||this).kb("https://emeademo.dev.ott.irdeto.com/Widevine/getlicense"),e}ct(n,t);var i=n.prototype;return i.Jb=function(t,n){return ql(t,this.xb)},i.jb=function(n,i){var r=n;return yh(this.Ob)&&(r=i_(this.Ob,r)),t.prototype.jb.call(this,r,i)},n}(Gl),e_="Conax-Custom-Data";function u_(t,n,i){var r=t&&wh(t)&&t;if(r&&!i.has(e_)){var e=Qc(r)?r.token:void 0,u=Qc(r)?r.deviceId:void 0,s=JSON.stringify({Version:"1.0.0",CxAuthenticationDataToken:e,CxClientInfo:{DeviceType:"Browser",DrmClientType:n+"-HTML5",DrmClientVersion:"1.0.0",CxDeviceId:u}});i.set(e_,s)}return i}var s_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,Zd.Yp)||this).kb("https://connect.conax.com:8094/license"),e}ct(n,t);var i=n.prototype;return i.Jb=function(t,n){return ql(t,this.xb)},i.Gb=function(){var n=t.prototype.Gb.call(this);return u_(this.Ob,"Widevine",n)},n}(Gl);function o_(t){var n=Rr(new k(t));return wi(JSON.parse(n).license)}function a_(t){return"string"==typeof t.token?t.token:Si(JSON.stringify({userId:t.userId,sessionId:t.sessionId,merchant:t.merchant}))}function c_(t,n,i){var r;return r=i.token?"x-dt-auth-token":"dt-custom-data",t.set(r,n),t}var h_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,Zd.Yp)||this).kb("https://lic.drmtoday.com/license-proxy-widevine/cenc/"),e}ct(n,t);var i=n.prototype;return i.Jb=function(t,n){return ql(t,this.xb)},i.Yb=function(t){return Ct.resolve(o_(t))},i.Gb=function(){return c_(t.prototype.Gb.call(this),this.sT,this.Ob)},T(n,[{key:"sT",get:function(){return a_(this.Ob)}}]),n}(Gl),f_=function(t){function n(n,i,r){return t.call(this,n,i,r,Zd.Yp)||this}ct(n,t);var i=n.prototype;return i.Jb=function(t,n){return ql(t,this.xb)},i.Gb=function(){var n=t.prototype.Gb.call(this),i=this.Ob.token;return n.set("Authorization","Bearer "+i),n},n}(Gl);function v_(t,n,i,r){return d_.apply(this,arguments)}function d_(){return(d_=Ct.coroutine(Nt.mark(function t(i,r,e,u){var s,o,a,c,h,f,v;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Th(i)){t.next=2;break}throw new bc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Xstream DRM Configuration");case 2:return(s=new rl).append("Cache-Control","no-cache"),s.append("Content-Type","application/json"),(o=i.sessionId)&&s.append("XSSESSION",o),a=i.streamId,c=i.fairplay?"persistent"===i.fairplay.licenseType?"persistent":"non-persistent":i.widevine&&"persistent"===i.widevine.licenseType?"persistent":"non-persistent",h={drmType:r,licenseType:c,streamId:a},f={dA:i.ticketAcquisitionURL,wA:Zd.Zp,_A:s,gA:$d.POST,lA:JSON.stringify(h),cs:u},t.next=13,e.IA(f);case 13:return v=t.sent,t.next=16,v.nT();case 16:return t.abrupt("return",t.sent);case 17:case"end":return t.stop()}},t)}))).apply(this,arguments)}var l_=function(t){function n(n,i,r){return t.call(this,n,i,r,Zd.Zp)||this}ct(n,t);var i=n.prototype;return i.Gb=function(){var n=t.prototype.Gb.call(this);return n.set("Content-Type","application/json"),n},i.Jb=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r,e,u,s;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=Ei(n.buffer),e=this.Ob,t.next=4,v_(e,"widevine_modular",this.Wb,i);case 4:return u=t.sent,this.kb(u.licenseServerUrl),s=Ir(JSON.stringify({payload:r,ticket:u.ticket})),t.abrupt("return",ql(s,this.xb));case 8:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Yb=function(t){var n=t;return Ct.resolve(wi(n.license))},n}(Gl),__=function(t){function i(n,i,r){return t.call(this,n,i,r,Zd.Yp)||this}ct(i,t);var r=i.prototype;return r.Jb=function(t,n){return ql(t,this.xb)},r.Gb=function(){if(!Eh(this.Ob))throw new bc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.Gb.call(this);return i.set("X-AxDRM-Message",this.Ob.token),i},i}(Gl);function g_(t){for(var n=new k(2*t.length),i=0;i<t.length;i+=1)n[2*i]=t.charCodeAt(i),n[2*i+1]=0;return n}var w_=function(t){function n(n,i,r){var e;return(e=t.call(this,un,n,i,r,Zd.Yp)||this).oT=void 0,e}ct(n,t);var i=n.prototype;return i.Ub=function(t){return t.playready||{}},i.Gb=function(){var n=new rl(this.oT);return n.nA(t.prototype.Gb.call(this)),n},i.aT=function(t){return t.length>=1&&t[0].Pn.length>0},i.yb=function(n){var i=this.Ob.playready.customData;if(i){var r=g_(i),e=g_('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">'+mi(r)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>");return Ct.resolve({playready:{zo:e}})}return t.prototype.yb.call(this,n)},i.Jb=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ql(n,this.xb);case 2:return r=t.sent,t.abrupt("return",this.cT(r));case 4:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.cT=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i,e,u,s,o,a,c,h,f,v,d,l,_,g,w,y;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:o=null,a=new DataView(n),c=Tr(a,new Xr,!0),t.prev=3,h=r.An(c),t.next=10;break;case 7:return t.prev=7,t.t0=t.catch(3),t.abrupt("return",o);case 10:for(f=null===(i=h.xn("PlayReadyKeyMessage")[0])||void 0===i?void 0:i.xn("LicenseAcquisition")[0],v=null!==(e=null==f?void 0:f.xn("Challenge"))&&void 0!==e?e:[],this.aT(v)&&(o=Ti(v[0].jn)),d=new rl,l=null!==(s=null===(u=null==f?void 0:f.xn("HttpHeaders")[0])||void 0===u?void 0:u.xn("HttpHeader"))&&void 0!==s?s:[],_=0;_<l.length;_++)g=l[_],w=g.xn("name")[0].jn,y=g.xn("value")[0].jn,d.append(w,y);return this.oT=d,t.abrupt("return",o);case 18:case"end":return t.stop()}},t,this,[[3,7]])}));return function(n){return t.apply(this,arguments)}}(),i.pb=function(t,n){return Ct.resolve(t)},i.Ab=function(n,i){return t.prototype.Zb.call(this,n,nl.hA,i)},T(n,[{key:"Do",get:function(){return Boolean(this.Ob.playready.customData)}}]),n}(Xl),y_=function(){function t(n){this.hT=n,this.fT=t.vT(n)}return t.vT=function(t){return"3"===t.version?zl.tT:zl.$b},t.prototype.dT=function(){var t={};if(this.fT===zl.tT){var n={LatensRegistration:Ql(this.hT,zl.tT)};t["X-TITANIUM-DRM-CDATA"]=Si(JSON.stringify(n))}return t},T(t,[{key:"lT",get:function(){return this.fT}},{key:"Do",get:function(){return this.fT===zl.$b}}]),t}();var m_=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r)||this)._T=new y_(e.Ob),e}ct(i,t);var e=i.prototype;return e.yb=function(t){var i=this.Ob;if(!this.Ob)throw new bc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium PlayReady DRM configuration.");if(Ah(i)){var r={};return r.playready={zo:k_(i,this._T.lT)},Ct.resolve(r)}return Ct.reject(Yl(i,zl.Eu))},e.Gb=function(){var n=new rl(this._T.dT());return n.nA(t.prototype.Gb.call(this)),n},e.zb=function(){var t=Ct.coroutine(Nt.mark(function t(i,e,u){var s,o,a,c,h,f,v,d;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=i.NA){t.next=3;break}throw new bc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",i,e);case 3:return t.prev=3,t.next=6,o.gT(u);case 6:h=t.sent,f=Rr(new k(h)),(v=r.An(f))&&(d=Pd(v,"CustomData")).length>0&&(a=JSON.parse(d[0].jn),c=null===(s=a.DrmErr)||void 0===s?void 0:s.desc),t.next=14;break;case 12:t.prev=12,t.t0=t.catch(3);case 14:throw new bc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",i,e,o.DA,o.iT,c);case 15:case"end":return t.stop()}},t,null,[[3,12]])}));return function(n,i,r){return t.apply(this,arguments)}}(),e.aT=function(t){if(1!==t.length)throw new bc(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"PlayReady license message incorrectly formatted, Challenge not found.");return!0},T(i,[{key:"Do",get:function(){return this._T.Do}}]),i}(w_);function k_(t,n){var i=Ql(t,n),r=i.DeviceInfo.FormatVersion,e=Si('<LatensRegistration formatversion="'+r+'"><AccountName>'+i.AccountName+"</AccountName><CustomerName>"+i.CustomerName+"</CustomerName><PortalID>"+i.PortalId+'</PortalID><DeviceInfo formatversion="'+r+'"><DeviceType>'+i.DeviceInfo.DeviceType+"</DeviceType><OSType>"+i.DeviceInfo.OSType+"</OSType><OSVersion>"+i.DeviceInfo.OSVersion+"</OSVersion><DRMProvider>"+i.DeviceInfo.DRMProvider+"</DRMProvider><DRMVersion>"+i.DeviceInfo.DRMVersion+"</DRMVersion><DRMType>"+i.DeviceInfo.DRMType+"</DRMType><DeviceVendor>"+i.DeviceInfo.DeviceVendor+"</DeviceVendor><DeviceModel>"+i.DeviceInfo.DeviceModel+"</DeviceModel></DeviceInfo></LatensRegistration>"),u=Cr(("<TitaniumCustomData>"+e+"</TitaniumCustomData>").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/&lt;/g,"<").replace(/&gt;/g,">"),!0);return Cr('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0"><CustomData encoding="base64encoded">'+mi(u)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>",!0)}var p_,A_=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r)||this).kb("https://playready-license.drm.technology/rightsmanager.asmx"),e}ct(i,t);var r=i.prototype;return r.aT=function(t){if(1!==t.length)throw new bc(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Vudrm PlayReady license message incorrectly formatted, Challenge not found.");return!0},r.jb=function(n,i){var r=Dt(Dt({},n||{}),{token:this.sT});return t.prototype.jb.call(this,r,i)},T(i,[{key:"sT",get:function(){if(bh(this.Ob))return this.Ob.token}}]),i}(w_),b_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).kb("https://emeademo.dev.ott.irdeto.com/playready/rightsmanager.asmx"),e}return ct(n,t),n.prototype.jb=function(n,i){var r=n;return yh(this.Ob)&&(r=i_(this.Ob,r)),t.prototype.jb.call(this,r,i)},n}(w_),T_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).kb("https://connect.conax.com:8010/cxplayready/rightsmanager.asmx"),e}return ct(n,t),n.prototype.Gb=function(){var n=t.prototype.Gb.call(this);return u_(this.Ob,"PlayReady",n)},n}(w_),E_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).kb("https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx"),e}ct(n,t);var i=n.prototype;return i.Yb=function(n){return(dn(Rr(new k(n)),"<?xml")?p_.wT:p_.nT)===p_.nT?Ct.resolve(o_(n)):Ct.resolve(t.prototype.Yb.call(this,new k(n)))},i.Gb=function(){return c_(t.prototype.Gb.call(this),this.sT,this.Ob)},T(n,[{key:"sT",get:function(){return a_(this.Ob)}}]),n}(w_);!function(t){t[t.wT=0]="wT",t[t.nT=1]="nT"}(p_||(p_={}));var S_,R_=function(t){function n(n,i,r){return t.call(this,n,i,r)||this}ct(n,t);var i=n.prototype;return i.Gb=function(){var n=t.prototype.Gb.call(this);return this.yT&&n.set("Ticket",this.yT),n.set("Content-Type","text/xml"),n},i.Jb=function(){var n=Ct.coroutine(Nt.mark(function n(i,r){var e,u;return Nt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e=this.Ob,n.next=3,v_(e,"playready",this.Wb,r);case 3:return u=n.sent,this.kb(u.licenseServerUrl),this.yT=u.ticket,n.abrupt("return",t.prototype.Jb.call(this,i,r));case 7:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),n}(w_),I_=function(t){function i(){return t.apply(this,arguments)||this}return ct(i,t),i.prototype.Gb=function(){if(!Eh(this.Ob))throw new bc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.Gb.call(this);return i.set("X-AxDRM-Message",this.Ob.token),i},i}(w_);!function(t){t.Zp="application/json",t.mT="application/x-www-form-urlencoded",t.kT="application/octet-stream",t.yn="text/plain;charset=UTF-8"}(S_||(S_={}));var N_=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n.Co,i,r,e,u)||this).pT="",s.AT=void 0,s.bT=n.Ko,s}ct(n,t);var i=n.prototype;return i.TT=function(){return this.xb.certificateURL||this.AT},i.ET=function(t){this.AT=t},i.Jb=function(){var t=Ct.coroutine(Nt.mark(function t(n){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.ST(n,this.pT));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.ST=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return","spc="+encodeURIComponent(mi(n))+"&assetId="+encodeURIComponent(i));case 1:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}(),i.Ub=function(t){return t.fairplay||{}},i.RT=function(t){var n=t.indexOf("?");if(n>=0)return Ct.resolve(t.substr(n+1));var i=t.split("/");return Ct.resolve(i[i.length-1])},i.yb=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i,r,e,u;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=null!==(i=this.bT)&&void 0!==i?i:xr(new k(n)),t.next=3,this.RT(r);case 3:return e=t.sent,this.pT=e,(u={}).fairplay={Ko:e},t.abrupt("return",u);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Gb=function(){var n=t.prototype.Gb.call(this);return n.set("Content-Type",this.IT),n},i.pb=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.Eb){t.next=2;break}return t.abrupt("return",this.Eb);case 2:return t.next=4,this.NT(i);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Ab=function(n,i){return t.prototype.Zb.call(this,n,nl.sA,i)},i.CT=function(t){var n=this.TT(),i=this.Gb(),r={dA:n,wA:Zd.Yp,_A:i,gA:$d.GET,pA:!1,lA:null,yA:0,cs:t,Cu:tl.eA,mA:nl.oA};return new al(r)},i.NT=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i,r,e;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.CT(n),t.next=3,this.Wb.IA(i);case 3:return r=t.sent,t.next=6,r.gT();case 6:return e=t.sent,t.abrupt("return",new k(e));case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Yb=function(t){var n;if("string"==typeof t){var i=t.trim();"<ckc>"===i.substr(0,5)&&"</ckc>"===i.substr(-6)&&(i=i.slice(5,-6)),n=wi(i)}else n=new k(t);return Ct.resolve(n)},i.jb=function(n,i){var r=t.prototype.jb.call(this,n,i);return dn(r,"skd:")&&(r=r.substr("skd:".length)),r},T(n,[{key:"Bb",get:function(){return!0}},{key:"IT",get:function(){return S_.mT}}]),n}(Xl),C_=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,Zd.Yp)||this}ct(n,t);var i=n.prototype;return i.RT=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i,r,e;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.split("://",1),r=i[0].slice(-3),i=n.split(";",2),e=i.length>1?i[1]:"",t.abrupt("return","skd"===r.toLowerCase()?e:"");case 5:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.Jb=function(){var t=Ct.coroutine(Nt.mark(function t(n){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.Yb=function(t){return Ct.resolve(new k(t))},i.jb=function(n,i){var r=n||{};return r.p1=ot(),t.prototype.jb.call(this,r,i)},T(n,[{key:"IT",get:function(){return S_.kT}}]),n}(N_),D_=function(t){function i(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,Zd.Yp)||this).kb("https://fairplay-license.drm.technology/license"),u.ET("https://fairplay-license.drm.technology/certificate"),u}ct(i,t);var r=i.prototype;return r.ST=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={token:this.sT,contentId:i,payload:mi(n)},t.abrupt("return",JSON.stringify(r));case 2:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.Yb=function(t){return Ct.resolve(new k(t))},r.Gb=function(){var n=t.prototype.Gb.call(this);return n.set("x-vudrm-token",this.sT),n},T(i,[{key:"IT",get:function(){return S_.Zp}},{key:"sT",get:function(){if(!bh(this.Ob))throw new bc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Token is required for FairPlay VuDrm.");return this.Ob.token}}]),i}(N_),O_="Verimatrix Fairplay license response incorrectly formatted. Invalid json.",x_="Verimatrix Fairplay license response incorrectly formatted. Ckc not found.",P_=function(t){function i(n,i,r,e){return t.call(this,n,i,r,e,Zd.Yp)||this}return ct(i,t),i.prototype.Yb=function(i){var r=function(t){var i;try{i=JSON.parse(t).ckc}catch(t){throw new bc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,O_)}if(!i)throw new bc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,x_);return i}(Rr(new DataView(i)));return t.prototype.Yb.call(this,r)},i}(N_);var B_=function(t){function i(n,i,r,e){return t.call(this,n,i,r,e,Zd.Zp)||this}ct(i,t);var r=i.prototype;return r.Jb=function(){var t=Ct.coroutine(Nt.mark(function t(i){var r,e;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.Ob){t.next=3;break}throw new bc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Fairplay DRM configuration.");case 3:return e=mi(i),t.abrupt("return",Zl(r,e,zl.Ru));case 5:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.Yb=function(t){try{var i;if(X(t)){var r=t.trim();i=JSON.parse(r)}else i=t;if(i.license){var e=Ti(i.license);return Ct.resolve(new k(e))}return Ct.reject(new bc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Titanium Fairplay license server"))}catch(t){return Ct.reject(new bc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Fairplay license server"))}},r.zb=function(t,n,i){return Jl(t,n,i)},T(i,[{key:"IT",get:function(){return S_.Zp}}]),i}(N_),L_=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,Zd.Yp)||this).kb("https://emeademo.dev.ott.irdeto.com/streaming/getckc"),u.ET("https://emeademo.dev.ott.irdeto.com/streaming/getcertificate"),u}ct(n,t);var i=n.prototype;return i.TT=function(){var n=t.prototype.TT.call(this);if(!n)return n;var i=r.Oa(n),e=this.Ob;return yh(e)&&Us(i,{accountId:e.accountId,applicationId:e.applicationId||""}),i.href},i.RT=function(){var n=Ct.coroutine(Nt.mark(function n(i){return Nt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!yh(this.Ob)){n.next=2;break}return n.abrupt("return",this.Ob.contentId);case 2:return n.abrupt("return",t.prototype.RT.call(this,i));case 3:case"end":return n.stop()}},n,this)}));return function(t){return n.apply(this,arguments)}}(),i.Jb=function(){var t=Ct.coroutine(Nt.mark(function t(n){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.Yb=function(t){return Ct.resolve(new k(t))},i.jb=function(n,i){var r=n;return yh(this.Ob)&&(r=function(t,n){return Dt(Dt({},i_(t,n)),{KeyId:t.keyId})}(this.Ob,r)),t.prototype.jb.call(this,r,i)},T(n,[{key:"IT",get:function(){return S_.kT}}]),n}(N_),M_=function(t){function i(i,r,e,u){var s;if(s=t.call(this,i,r,e,u,Zd.yn)||this,!wh(r))throw new bc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Conax configuration");return s.kb("https://connect.conax.com:8097/license"),s}ct(i,t);var r=i.prototype;return r.Gb=function(){var n=t.prototype.Gb.call(this);return u_(this.Ob,"FairPlay",n)},r.NT=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i,r,e,u;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.TT(),r={dA:i,wA:Zd.Yp,_A:{},gA:$d.GET,pA:!1,lA:null,yA:0,cs:n,Cu:tl.eA,mA:nl.oA},t.next=4,this.Wb.IA(r);case 4:return e=t.sent,t.next=7,e.gT();case 7:return u=t.sent,t.abrupt("return",new k(u));case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.Jb=function(){var t=Ct.coroutine(Nt.mark(function t(n){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.RT=function(t){var n,i=t.indexOf("?");return 0===t.indexOf("skd://")?(n=i>=0?t.substring("skd://".length,i):t.substring("skd://".length),Ct.resolve(Rr(wi(n)))):Ct.resolve("unknown")},r.Yb=function(t){try{var n=JSON.parse(t);return Ct.resolve(new k(Ti(n.CkcMessage)))}catch(t){return Ct.reject("CFLRW-66")}},i}(N_),U_=function(t){function i(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,Zd.yn)||this).kb(hh[Gt.Ru]),u}ct(i,t);var r=i.prototype;return r.RT=function(t){return 0===t.indexOf("skd://")?Ct.resolve(t.substring("skd://".length,40)):Ct.reject(new bc(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error while determining the KeyOS Content ID."))},r.ST=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return","spc="+mi(n)+"&assetId="+i);case 1:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}(),i}(N_),F_=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,Zd.yn)||this).kb("https://lic.drmtoday.com/license-server-fairplay/"),u}ct(n,t);var i=n.prototype;return i.ST=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r="spc="+encodeURIComponent(mi(n))+"&"+encodeURI(i),"persistent"!==this.xb.licenseType){t.next=3;break}return t.abrupt("return",r+"&offline=true");case 3:return t.abrupt("return",r);case 4:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Gb=function(){return c_(t.prototype.Gb.call(this),this.sT,this.Ob)},T(n,[{key:"sT",get:function(){return a_(this.Ob)}}]),n}(N_),H_=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,Zd.Yp)||this}ct(n,t);var i=n.prototype;return i.RT=function(t){var n=t;return dn(n,"skd:")&&(n="http:"+n.substring(4)),dn(n,"http:")||dn(n,"https:")?Ct.resolve(r.Oa(n).hostname):Ct.reject(new d("Could not parse ExpressPlay FairPlay content ID."))},i.Jb=function(){var t=Ct.coroutine(Nt.mark(function t(n){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.Yb=function(t){return Ct.resolve(new k(t))},T(n,[{key:"IT",get:function(){return S_.kT}}]),n}(N_),V_=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,Zd.yn)||this}return ct(n,t),n.prototype.Gb=function(){var n=t.prototype.Gb.call(this),i=this.Ob.token;return n.set("Authorization","Bearer "+i),n},n}(N_),X_=function(t){function n(n,i,r,e){var u;if(u=t.call(this,n,i,r,e,Zd.Zp)||this,!Th(i))throw new d("Invalid Xstream DRM configuration");return u}ct(n,t);var i=n.prototype;return i.NT=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i,r,e,u,s;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.TT(),r=this.Gb(),e={dA:i,wA:Zd.Zp,_A:r,gA:$d.POST,cs:n,Cu:tl.eA,mA:nl.oA},t.next=5,this.Wb.IA(e);case 5:return u=t.sent,t.next=8,u.nT();case 8:return s=t.sent,t.abrupt("return",new k(wi(s.certificate)));case 10:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Ab=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r){var e,u,s,o,a,c,h;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===r&&(r=Zd.yn),e=mi(n),u=this.Ob,t.next=5,v_(u,"fairplay",this.Wb,i);case 5:return s=t.sent,o=Ir(JSON.stringify({spc:e,ticket:s.ticket})),a={dA:this.Hb(),wA:Zd.Zp,_A:this.Gb(),gA:$d.POST,lA:o,yA:0,cs:i,Cu:tl.eA,mA:nl.sA},t.next=10,this.Wb.IA(a);case 10:return c=t.sent,t.next=13,c.nT();case 13:return h=t.sent,t.abrupt("return",wi(h.licence));case 15:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),T(n,[{key:"IT",get:function(){return S_.Zp}}]),n}(N_),W_=function(t){function i(n,i,r,e){return t.call(this,n,i,r,e,Zd.yn)||this}ct(i,t);var r=i.prototype;return r.ST=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",mi(n));case 1:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}(),r.Yb=function(i){if(0===i.length)throw new bc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Vimond license request error.");return t.prototype.Yb.call(this,i)},r.Gb=function(){var n=t.prototype.Gb.call(this);return n.set("Content-Type","text/plain"),n},i}(N_),q_=function(t){function i(n,i,r,e){return t.call(this,n,i,r,e,Zd.Yp)||this}ct(i,t);var r=i.prototype;return r.ST=function(){var t=Ct.coroutine(Nt.mark(function t(n){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.Yb=function(t){return Ct.resolve(new k(t))},r.Gb=function(){if(!Eh(this.Ob))throw new bc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.Gb.call(this);return i.set("X-AxDRM-Message",this.Ob.token),i},T(i,[{key:"IT",get:function(){return S_.Zp}}]),i}(N_),z_=function(t){function i(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,Zd.Zp)||this).DT=void 0,u}ct(i,t);var e=i.prototype;return e.ST=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={spc:mi(n)},t.abrupt("return",JSON.stringify(r));case 2:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}(),e.RT=function(t){var i=r.Oa(t);return this.DT=t,i.searchParams.has("b")?Ct.resolve(i.searchParams.get("b")):Ct.reject(new bc(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error during license server request: Could not extract content id"))},e.jb=function(n,i){var r=this.Hb();return!r&&this.DT&&(r=this.DT),r&&(r=r.replace("skd://","https://")),t.prototype.jb.call(this,n,i||r)},e.Yb=function(){var t=Ct.coroutine(Nt.mark(function t(i){var r;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(r=X(i)?JSON.parse(i.trim()):i).ckc){t.next=4;break}return t.abrupt("return",wi(r.ckc));case 4:t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(0),new bc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Uplynk Fairplay license server");case 9:throw new bc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Uplynk Fairplay license server");case 10:case"end":return t.stop()}},t,null,[[0,6]])}));return function(n){return t.apply(this,arguments)}}(),T(i,[{key:"IT",get:function(){return S_.yn}}]),i}(N_),G_=function(){function t(t,n){this.OT=t,this.xT=n}var n=t.prototype;return n.PT=function(t){return this.OT(t)},n.BT=function(t,n){throw new l(n+" must be "+this.xT+". (Received: "+t+")")},t}(),j_=new G_(G,"a number"),Q_=new G_(X,"a string"),Y_=new G_(W,"a boolean");var Z_,J_=(Z_={responseCode:j_,isException:Y_,description:Q_,title:Q_,correlationId:Q_},{PT:function(t){if(!H(t))return!1;for(var n=0,i=_.keys(Z_);n<i.length;n++){var r=i[n];if(!Z_[r].PT(t[r]))return!1}return!0},BT:function(t,n){if(!H(t))throw new l(n+" must be an object.");for(var i=0,r=_.keys(Z_);i<r.length;i++){var e=r[i],u=Z_[e];if(!u.PT(t[e]))return u.BT(t[e],n+"."+e)}throw new l}});function K_(t,n,i,r,e){return $_.apply(this,arguments)}function $_(){return($_=Ct.coroutine(Nt.mark(function t(n,i,r,e,u){var s;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=tg(n,i,r,u),t.next=3,ng(s,e);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t)}))).apply(this,arguments)}function tg(t,n,i,e){var u={token:n.token,account:n.accountId,form:"json"},s=decodeURIComponent(function(t,n){var i=r.Oa(t);return Us(i,n),i.toString()}(i,u)),o=new rl({});o.append("Content-Type","application/json");var a=mi(t),c={getFairplayLicense:{releasePid:n.releasePid,spcMessage:a}};return{dA:s,wA:Zd.yn,_A:o,gA:$d.POST,lA:JSON.stringify(c),cs:e,Cu:tl.eA,mA:nl.sA}}function ng(t,n){return ig.apply(this,arguments)}function ig(){return(ig=Ct.coroutine(Nt.mark(function t(i,r){var e,u;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.IA(i);case 2:return e=t.sent,t.next=5,e.nT();case 5:if(u=t.sent,!J_.PT(u)){t.next=8;break}throw new bc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,u.description,void 0,i.dA,u.responseCode);case 8:return t.abrupt("return",wi(u.getFairplayLicenseResponse.ckcResponse));case 9:case"end":return t.stop()}},t)}))).apply(this,arguments)}var rg=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,Zd.Yp)||this).LT=i,u}ct(n,t);var i=n.prototype;return i.RT=function(n){var i=n.replace("FairPlay",this.LT.releasePid);return t.prototype.RT.call(this,i)},i.Ab=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,K_(n,this.LT,this.Hb(),this.Wb,i);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n}(N_),eg=function(t){function i(n,i,r){return t.call(this,an,n,i,r,Zd.Yp)||this}ct(i,t);var r=i.prototype;return r.Ub=function(t){return t.clearkey||{}},r.Jb=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",ql(n,this.xb));case 1:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.Vb=function(){var i=Ct.coroutine(Nt.mark(function i(r,e,u,s){var o,a;return Nt.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(o=this.xb,!this.Hb()){i.next=5;break}return i.abrupt("return",t.prototype.Vb.call(this,r,this.Mb,u,s));case 5:if(!o.keys||!o.keys.length){i.next=10;break}return a={keys:o.keys.map(function(t){var n=t;return n||(n={}),{kty:"oct",kid:n.id,k:n.value}})},i.abrupt("return",Ir(JSON.stringify(a)).buffer);case 10:throw new bc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The clearkey license has not been configured correctly.");case 11:case"end":return i.stop()}},i,this)}));return function(t,n,r,e){return i.apply(this,arguments)}}(),r.pb=function(t,n){return Ct.resolve(new k(0))},r.Ab=function(n,i){return t.prototype.Zb.call(this,n,nl.fA,i)},i}(Xl),ug=function(t){function n(){return t.apply(this,arguments)||this}return ct(n,t),n.prototype.Jb=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",ql(n,this.xb));case 1:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n}(Gl),sg={url:"",method:"GET",headers:{},body:null,useCredentials:!1};function og(t,n,i){return ag.apply(this,arguments)}function ag(){return(ag=Ct.coroutine(Nt.mark(function t(n,i,r){var e,u,s;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=Ag(i),(u=n.onCertificateRequest)&&"function"==typeof u){t.next=5;break}return t.abrupt("return",Ct.resolve(i));case 5:return t.next=8,Wn(Ct.resolve(u.call(n,e)),r);case 8:if(!Ur(s=t.sent)){t.next=11;break}return t.abrupt("return",Fr(s));case 11:return t.abrupt("return",pg(Dt(Dt({},sg),s)));case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function cg(t,n,i,r,e){return hg.apply(this,arguments)}function hg(){return(hg=Ct.coroutine(Nt.mark(function t(n,i,r,e,u){var s,o,a;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=n.onCertificateResponse,o=kg(i,r,e),s&&"function"==typeof s){t.next=5;break}return t.abrupt("return",Ct.resolve(i));case 5:return t.next=8,Wn(Ct.resolve(s.call(n,o)),u);case 8:return a=t.sent,t.abrupt("return",Fr(a));case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function fg(t,n,i,r){return vg.apply(this,arguments)}function vg(){return(vg=Ct.coroutine(Nt.mark(function t(n,i,r,e){var u;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_g(n,i,r,e);case 2:if(!((u=t.sent)instanceof ArrayBuffer)){t.next=5;break}return t.abrupt("return",u);case 5:return t.abrupt("return",pg(u));case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function dg(t,n,i,r,e,u){return lg.apply(this,arguments)}function lg(){return(lg=Ct.coroutine(Nt.mark(function t(n,i,r,e,u,s){var o,a;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=mg(r,u),t.next=3,wg(n,new k(i),o,e,s);case 3:return a=t.sent,t.abrupt("return",Fr(a).buffer);case 5:case"end":return t.stop()}},t)}))).apply(this,arguments)}function _g(t,n,i,r){return gg.apply(this,arguments)}function gg(){return(gg=Ct.coroutine(Nt.mark(function t(n,i,r,e){var u,s,o;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u=null==n?void 0:n.onLicenseRequest,s=mg(i,r),u&&"function"==typeof u){t.next=5;break}return t.abrupt("return",Ct.resolve(s));case 5:return t.next=8,Wn(Ct.resolve(u.call(n,s)),e);case 8:if(!Ur(o=t.sent)){t.next=11;break}return t.abrupt("return",Fr(o).buffer);case 11:return t.abrupt("return",Dt(Dt({fairplaySkdUrl:void 0},sg),o));case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function wg(t,n,i,r,e){return yg.apply(this,arguments)}function yg(){return(yg=Ct.coroutine(Nt.mark(function t(n,i,r,e,u){var s,o,a;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=null==n?void 0:n.onLicenseResponse,o=kg(i,r,e),s&&"function"==typeof s){t.next=5;break}return t.abrupt("return",Ct.resolve(i));case 5:return t.next=8,Wn(Ct.resolve(s.call(n,o)),u);case 8:return a=t.sent,t.abrupt("return",Fr(a));case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function mg(t,n){return Dt(Dt({},Ag(t)),{fairplaySkdUrl:n})}function kg(t,n,i){return{url:i.CA,status:i.DA,statusText:i.iT,headers:i._A.$p(),body:t,request:n}}function pg(t){return new al({dA:t.url,gA:t.method,_A:t.headers,lA:t.body,pA:t.useCredentials})}function Ag(t){var n;return{url:t.dA,body:null!==(n=bg(t.lA))&&void 0!==n?n:null,headers:t._A.$p(),method:t.gA,useCredentials:t.pA}}function bg(t){if(t)return"string"==typeof t?Ir(t):t instanceof ArrayBuffer?new k(t):pi(t)?Mr(t):void 0}var Tg=function(t){function i(n,i,r,e){var u;return(u=t.call(this,n,i,r)||this).MT=e,u}ct(i,t);var r=i.prototype;return r.pb=function(t,n){return Ct.resolve(t)},r.Ab=function(){var t=Ct.coroutine(Nt.mark(function t(i,r){var e,u,s,o,a;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.cT(Vr(i).buffer);case 2:return e=t.sent,u=this.Xb(e,Zd.Yp,nl.hA,r),t.next=6,fg(this.MT,u,void 0,r);case 6:if(!((s=t.sent)instanceof ArrayBuffer)){t.next=10;break}return t.abrupt("return",new k(s));case 10:if(""!==s.dA){t.next=12;break}throw new bc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 12:return t.prev=12,t.next=15,this.Wb.IA(s);case 15:return o=t.sent,t.next=18,o.gT(r);case 18:return a=t.sent,t.t0=k,t.next=22,dg(this.MT,a,u,o,void 0,r);case 22:return t.t1=t.sent,t.abrupt("return",new t.t0(t.t1));case 26:throw t.prev=26,t.t2=t.catch(12),Vn(t.t2),new bc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during PlayReady license request",t.t2);case 30:case"end":return t.stop()}},t,this,[[12,26]])}));return function(n,i){return t.apply(this,arguments)}}(),i}(w_),Eg=function(t){function i(n,i,r,e){var u;return(u=t.call(this,n,i,r,Zd.Yp)||this).MT=e,u}ct(i,t);var r=i.prototype;return r.pb=function(){var t=Ct.coroutine(Nt.mark(function t(i,r){var e,u,s,o,a;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.Eb){t.next=2;break}return t.abrupt("return",this.Eb);case 2:return e=this.Xb(i,Zd.Yp,nl.cA,r),t.next=5,og(this.MT,e,r);case 5:if(!((u=t.sent)instanceof k)){t.next=9;break}return t.abrupt("return",u);case 9:if(""!==u.dA){t.next=11;break}throw new bc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The certificate request URL has not been correctly configured.");case 11:return t.prev=11,t.next=14,this.Wb.IA(u);case 14:return s=t.sent,t.next=17,s.gT(r);case 17:o=t.sent,t.next=24;break;case 20:throw t.prev=20,t.t0=t.catch(11),Vn(t.t0),new bc(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during Widevine certificate request",t.t0);case 24:return a=mg(e,void 0),t.next=27,cg(this.MT,new k(o),a,s,r);case 27:return t.abrupt("return",t.sent);case 28:case"end":return t.stop()}},t,this,[[11,20]])}));return function(n,i){return t.apply(this,arguments)}}(),r.Ab=function(){var t=Ct.coroutine(Nt.mark(function t(i,r){var e,u,s,o;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.Xb(i,Zd.Yp,nl.aA,r),t.next=3,fg(this.MT,e,void 0,r);case 3:if(!((u=t.sent)instanceof ArrayBuffer)){t.next=7;break}return t.abrupt("return",new k(u));case 7:if(""!==u.dA){t.next=9;break}throw new bc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return t.prev=9,t.next=12,this.Wb.IA(u);case 12:return s=t.sent,t.next=15,s.gT(r);case 15:o=t.sent,t.next=22;break;case 18:throw t.prev=18,t.t0=t.catch(9),Vn(t.t0),new bc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Widevine license request",t.t0);case 22:return t.t1=k,t.next=25,dg(this.MT,o,e,s,void 0,r);case 25:return t.t2=t.sent,t.abrupt("return",new t.t1(t.t2));case 27:case"end":return t.stop()}},t,this,[[9,18]])}));return function(n,i){return t.apply(this,arguments)}}(),i}(ug),Sg=function(t){function i(n,i,r,e,u){var s;return(s=t.call(this,n,i,r,e,Zd.Yp)||this).MT=u,s}ct(i,t);var r=i.prototype;return r.pb=function(){var t=Ct.coroutine(Nt.mark(function t(i,r){var e,u,s,o,a;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.Eb){t.next=2;break}return t.abrupt("return",this.Eb);case 2:return e=this.CT(r),t.next=5,og(this.MT,e,r);case 5:if(u=t.sent,!pi(u)){t.next=8;break}return t.abrupt("return",u);case 8:return t.prev=8,t.next=11,this.Wb.IA(u);case 11:return s=t.sent,t.next=14,s.gT();case 14:return o=t.sent,a=mg(e,void 0),t.next=18,cg(this.MT,new k(o),a,s,r);case 18:return t.abrupt("return",t.sent);case 21:throw t.prev=21,t.t0=t.catch(8),Vn(t.t0),new bc(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during FairPlay certificate request",t.t0);case 25:case"end":return t.stop()}},t,this,[[8,21]])}));return function(n,i){return t.apply(this,arguments)}}(),r.Ab=function(){var t=Ct.coroutine(Nt.mark(function t(i,r){var e,u,s,o;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.Xb(i,Zd.Yp,nl.sA,r),t.next=3,fg(this.MT,e,this.UT,r);case 3:if(!((u=t.sent)instanceof ArrayBuffer)){t.next=7;break}return t.abrupt("return",new k(u));case 7:if(""!==u.dA){t.next=9;break}throw new bc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return t.prev=9,t.next=12,this.Wb.IA(u);case 12:return s=t.sent,t.next=15,s.gT(r);case 15:return o=t.sent,t.t0=k,t.next=19,dg(this.MT,o,e,s,this.UT,r);case 19:return t.t1=t.sent,t.abrupt("return",new t.t0(t.t1));case 23:throw t.prev=23,t.t2=t.catch(9),Vn(t.t2),new bc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during FairPlay license request",t.t2);case 27:case"end":return t.stop()}},t,this,[[9,23]])}));return function(n,i){return t.apply(this,arguments)}}(),r.RT=function(){var n=Ct.coroutine(Nt.mark(function n(i){var r;return Nt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.UT=i,!(null===(r=this.MT)||void 0===r?void 0:r.extractFairplayContentId)){n.next=3;break}return n.abrupt("return",Ct.resolve(this.MT.extractFairplayContentId(i)));case 3:return n.abrupt("return",t.prototype.RT.call(this,i));case 4:case"end":return n.stop()}},n,this)}));return function(t){return n.apply(this,arguments)}}(),i}(N_),Rg=function(){function t(){}var n=t.prototype;return n.FT=function(t,n){return new Hl(t,n,this)},n.HT=function(t,n,i,r){switch(t.Co.Cu){case Gt.Su:return this.VT(n,i,r);case Gt.Eu:return this.XT(n,i,r);case Gt.Ru:return this.WT(t,n,i,r);case Gt.Iu:default:return this.qT(n,i,r)}},n.VT=function(t,n,i){var r,e=(r=t).integration===zc&&X(r.customIntegrationId)?t.customIntegrationId:t.integration;if(e&&nh.pl.yl(e,tn)){var u=nh.pl.kl(e,tn,t);return new Eg(t,n,i,u)}switch(e){case Cc:return new t_(t,n,i);case Pc:return new n_(t,n,i);case xc:return new r_(t,n,i);case Dc:return new s_(t,n,i);case Mc:return new h_(t,n,i);case Fc:return new f_(t,n,i);case Hc:return new l_(t,n,i);case Xc:return new __(t,n,i);case Lc:default:return new ug(t,n,i,Zd.Yp)}},n.XT=function(t,n,i){var r=t.integration;if(r&&nh.pl.yl(r,Jt)){var e=nh.pl.kl(r,Jt,t);return new Tg(t,n,i,e)}switch(r){case Cc:return new m_(t,n,i);case Pc:return new A_(t,n,i);case xc:return new b_(t,n,i);case Dc:return new T_(t,n,i);case Mc:return new E_(t,n,i);case Hc:return new R_(t,n,i);case Xc:return new I_(t,n,i);case Lc:default:return new w_(t,n,i)}},n.WT=function(t,n,i,r){var e=n.integration;if(e&&nh.pl.yl(e,rn)){var u=nh.pl.kl(e,rn,n);return new Sg(t,n,i,r,u)}switch(e){case Oc:return new C_(t,n,i,r);case Pc:return new D_(t,n,i,r);case Bc:return new P_(t,n,i,r);case Cc:return new B_(t,n,i,r);case xc:return new L_(t,n,i,r);case Dc:return new M_(t,n,i,r);case Lc:return new U_(t,n,i,r);case Mc:return new F_(t,n,i,r);case Uc:return new H_(t,n,i,r);case Fc:return new V_(t,n,i,r);case Hc:return new X_(t,n,i,r);case Vc:return new W_(t,n,i,r);case Xc:return new q_(t,n,i,r);case Wc:return new z_(t,n,i,r);case qc:return new rg(t,n,i,r);default:return new N_(t,n,i,r,Zd.yn)}},n.qT=function(t,n,i){return new eg(t,n,i)},n.zT=function(t){return t.Cu===Gt.Eu||t.Cu===Gt.Su||t.Cu===Gt.Ru||t.Cu===Gt.Iu},t}();function Ig(t,n){switch(n){case Gt.Su:return t.widevine;case Gt.Eu:return t.playready;case Gt.Ru:return t.fairplay;default:return}}var Ng,Cg=function(t){function i(n,i,r){var e;return void 0===r&&(r=new Rg),(e=t.call(this,r)||this).GT=void 0,e.io=void 0,e.jT=new Cl,e.QT=function(){var t=Ct.coroutine(Nt.mark(function t(n){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.rb(n.Ou,n.xs);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),Fn(t.t0)||e.Ho(t.t0);case 8:case"end":return t.stop()}},t,null,[[0,5]])}));return function(n){return t.apply(this,arguments)}}(),e.YT=function(t){e.vs(t)},e.ZT=function(t){e.vs(t),e.vs(new Pl(t.errorObject))},e.JT=n,e.PA=i,e.JT.ls(ni.Ns,e.QT),e}ct(i,t);var e=i.prototype;return e.sb=function(){var t;return null===(t=this.io)||void 0===t?void 0:t.Co},e.Eo=function(t){if(this.GT)throw new d("Invalid state");this.GT=t},e.JA=function(n){if(!this.GT)throw new d("Invalid state");t.prototype.JA.call(this,n)},e.ib=function(){var t=Ct.coroutine(Nt.mark(function t(i,e,u){var s,o,a,c,h,f,v,d,l,_;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Hn(u),e.byteLength){t.next=3;break}return t.abrupt("return");case 3:if(this.YA&&this.YA.$A.length){t.next=5;break}throw new bc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_MISSING,"Missing configuration for encrypted content");case 5:if(s=this.YA,i===Qt||i===Zt||i===Yt){t.next=9;break}return t.abrupt("return");case 9:o=Ih(i,e),c=0,h=s.$A;case 11:if(!(c<h.length)){t.next=41;break}if(f=h[c],Hn(u),(v=o[f.Co.xu])&&f.Co.Ou===i){t.next=17;break}return t.abrupt("continue",38);case 17:return t.prev=17,t.next=20,this.KT(f.Co,u);case 20:if(!(d=t.sent).Bb){t.next=24;break}return t.next=24,d.Sb();case 24:if(l=this.JT.jd,!this.$T(d,f.Co.Ou,v,l)){t.next=31;break}return t.next=28,d.Nb(f.Co.Ou,v,l);case 28:return _=t.sent,t.next=31,_.vo();case 31:return t.abrupt("return");case 34:t.prev=34,t.t0=t.catch(17),Vn(t.t0),a=t.t0;case 38:c++,t.next=11;break;case 41:return t.next=43,r.Gu();case 43:if(!t.sent){t.next=47;break}throw new bc(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported",a);case 47:throw new bc(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Cannot create content decryption session",a);case 48:case"end":return t.stop()}},t,this,[[17,34]])}));return function(n,i,r){return t.apply(this,arguments)}}(),e.$T=function(t,n,i,e){return r.Mc.lc||!t.Db(n,i,e)},e.KT=function(t,n){var i=this;return this.jT.jA(function(n){return i.tE(t,n)},n)},e.tE=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r,e,u,s,o;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Hn(i),this.YA){t.next=3;break}throw new d("Not initialized");case 3:if(!this.io){t.next=7;break}if(this.io.Co===n){t.next=6;break}throw new d("Internal key system error");case 6:return t.abrupt("return",this.io);case 7:if(this.ZA.zT(n)){t.next=9;break}throw new d("Unsupported "+n.Bu+" key system");case 9:if(r=this.nE(n)){t.next=12;break}throw new d("Missing configuration for "+n.Bu+" key system");case 12:return e=this.YA,u=this.ZA.HT(r,e.Ob,r.Pb,this.PA),t.next=16,this.Io(n,r,u,i);case 16:return s=t.sent,(o=this.ZA.FT(s,u)).ls(pa.Sf,this.YT),o.ls(pa.Ef,this.ZT),o.ls(pa.nv,this.fs),this.io=o,t.abrupt("return",o);case 23:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),e.Io=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r,e){var u,s,o,a,c,h,f,v;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return u=this.YA,s=n.Ou,o=Ig(u.Ob,i.Co.Cu),a=(null==o?void 0:o.persistentState)||r.Kb,c=(null==o?void 0:o.distinctiveIdentifier)||void 0,h=Boolean(null==o?void 0:o.audioRobustness)||Boolean(null==o?void 0:o.videoRobustness),t.prev=6,Hn(e),f=Dg(u,s,a,c,r.Do,(null==o?void 0:o.audioRobustness)||"SW_SECURE_CRYPTO",(null==o?void 0:o.videoRobustness)||"SW_SECURE_CRYPTO"),t.next=11,this.GT.iE(n,[f]);case 11:return t.abrupt("return",t.sent);case 14:if(t.prev=14,t.t0=t.catch(6),Vn(t.t0),Hn(e),!h){t.next=20;break}throw t.t0;case 20:return v=Dg(u,s,a,c,r.Do,void 0,void 0),t.next=23,this.GT.iE(n,[v]);case 23:return t.abrupt("return",t.sent);case 24:case"end":return t.stop()}},t,this,[[6,14]])}));return function(n,i,r,e){return t.apply(this,arguments)}}(),e.nE=function(t){if(this.YA)for(var n=0,i=this.YA.$A;n<i.length;n++){var r=i[n];if(r.Co===t)return r}},e.Ho=function(t){var i=t instanceof bc?t:new bc(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.ZT(new Ol(i))},e.rE=function(){var t=Ct.coroutine(Nt.mark(function t(){var n;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.jT.ss();case 2:if(!(n=this.io)){t.next=8;break}return n.ys(pa.nv,this.fs),this.io=void 0,t.next=8,n.Dh();case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),e.eb=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.GT=void 0,t.next=3,this.rE();case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),e.Dh=function(){var n=Ct.coroutine(Nt.mark(function n(){return Nt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.JT.ys(ni.Ns,this.QT),n.next=3,t.prototype.Dh.call(this);case 3:return n.next=5,this.jT.Dh();case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i}(xl);function Dg(t,n,i,r,e,u,s){return{initDataTypes:[n],audioCapabilities:Og(t.eE,u),videoCapabilities:Og(t.uE,s),persistentState:i,distinctiveIdentifier:r,Do:e}}function Og(t,n){return t.length?t.map(function(t){return{contentType:t,robustness:n}}):void 0}!function(t){t[t.sE=0]="sE",t[t.oE=1]="oE"}(Ng||(Ng={}));var xg=t,Pg=xg.MediaSource,Bg=xg.WebKitMediaSource,Lg=xg.TextTrack,Mg=s&&s.createElement("video"),Ug=(s&&s.documentElement.style,P.Nt&&P.rn&&P.un<=26),Fg=(P.Vt,!!p),Hg=!(!Pg&&!Bg),Vg=!!Lg,Xg=(s&&(s.fullscreenEnabled||s.webkitFullscreenEnabled||s.mozFullScreenEnabled||s.msFullscreenEnabled)||P.Ft,P.$t&&P.tn,Mg&&Mg.canPlayType&&(""!==Mg.canPlayType("application/vnd.apple.mpegURL")||P.Ot&&!P.$t&&P.xt>=4)),Wg=Mg&&Mg.canPlayType&&""!==Mg.canPlayType("video/mp4")&&!Ug,qg=Hg&&!P.nn&&!P.Zt&&!P.Yt&&((Pg||Bg).isTypeSupported?(Pg||Bg).isTypeSupported('audio/mp4; codecs="mp4a.40.34"'):Mg&&Mg.canPlayType&&""!==Mg.canPlayType('audio/mp4; codecs="mp4a.40.34"')),zg=Hg&&!P.nn&&(qg||((Pg||Bg).isTypeSupported?(Pg||Bg).isTypeSupported("audio/mpeg"):Mg&&Mg.canPlayType&&""!==Mg.canPlayType("audio/mpeg"))),Gg=Hg&&!(P.Kt&&P.Nt)&&((Pg||Bg).isTypeSupported?(Pg||Bg).isTypeSupported('video/mp4; codecs="avc1.4d401e"'):Wg),jg=(P.nn||P.Zt||P.Yt,P.Jt),Qg=jg&&!1,Yg=!P.nn,Zg=P.Zt&&P.Ct&&P.Dt<=6.1,Jg=Mg&&"onresize"in Mg;try{u&&u.top!==u.self}catch(t){!0}var Kg,$g=.001,tw=1e4,nw=3,iw=function(t){function n(n){var i;return(i=t.call(this,la.lf)||this).currentTime=n,i}return ct(n,t),n}(ei),rw=function(t){function n(n){var i;return(i=t.call(this,la._f)||this).currentTime=n,i}return ct(n,t),n}(ei),ew=function(t){function n(n,i){var r;return void 0===i&&(i=!1),(r=t.call(this)||this).aE=n,r.cE=i,r.hE=ya.gf,r.fE=!0,r.vE=!1,r.dE=!1,r.lE=function(t){var n=t.readyState;n!==r.hE&&r.vs(t),n===ya.gf&&(r.vE=!1,r.dE=!1),r._E(n),r.gE(n),r.wE(n),r.maybeDispatchCanPlayThroughEvent(n),r.yE(n),r.mE(n),r.hE=n},r.kE=function(){r.mE(r.hE),r.yE(r.hE),r.fE=r.aE.zv},r.pE=function(){r.fE=r.aE.zv},r.aE.ls(la.gh,r.lE),r.aE.ls(pa.Hf,r.kE),r.aE.ls(pa.Ff,r.pE),r.cE&&r.aE.ls(la._f,r.fs),r}ct(n,t);var i=n.prototype;return i._E=function(t){!this.dE&&t>=ya.wf&&(this.dE=!0,this.vs(new xa(this.aE.Hv,t)))},i.gE=function(t){!this.vE&&t>=ya.yf&&(this.vE=!0,this.vs(new Ia(this.aE.Hv,t)))},i.yE=function(t){this.cE||(t>=ya.mf&&this.hE<ya.mf&&!this.aE.zv||this.AE&&t>=ya.mf)&&this.vs(new rw(this.aE.Hv))},i.mE=function(t){!this.bE(t)||this.aE.Xv||this.aE.Is||this.vs(new iw(this.aE.Hv))},i.wE=function(t){this.hE<=ya.yf&&t>=ya.mf&&this.vs(new ba(this.aE.Hv,t))},i.maybeDispatchCanPlayThroughEvent=function(t){t===ya.kf&&this.vs(new Aa(this.aE.Hv,t))},i.bE=function(t){var n=!this.aE.zv&&t<=ya.yf,i=!this.fE&&this.hE<=ya.yf;return n&&!i},i.Ch=function(){this.hE=ya.gf,this.fE=!0,this.vE=!1,this.dE=!1},i.Dh=function(){this.gs(),this.cE&&this.aE.ys(la._f,this.fs),this.aE.ys(pa.Hf,this.kE),this.aE.ys(pa.Ff,this.pE),this.aE.ys(la.gh,this.lE)},T(n,[{key:"AE",get:function(){return!this.aE.zv&&this.fE}}]),n}(ii);!function(t){t.TE="nokey",t.EE="keyexpired",t.SE="sessionnotopened",t.RE="insufficientoutputprotection",t.IE="insufficientsecurity",t.NE="frametoolarge",t.CE="loststate",t.DE="resourcebusy",t.OE="unsupportedoperation"}(Kg||(Kg={}));var uw,sw,ow,aw=[Kg.OE,Kg.DE,Kg.CE,Kg.NE,Kg.IE,Kg.RE,Kg.SE,Kg.EE,Kg.TE],cw=[pa.Sf,pa.Ef,sa.$h];[].concat(Fl,[sa.$h],aw);function hw(){return ow||(ow=Xt&&Xt.document&&Xt.document.createElement("video")),ow}!function(t){t.n_="video",t.i_="audio"}(uw||(uw={})),function(t){t[t.xE=0]="xE",t[t.PE=1]="PE",t[t.BE=2]="BE",t[t.Pv=3]="Pv",t[t.LE=4]="LE",t[t.Fv=5]="Fv",t[t.ME=6]="ME",t[t.UE=7]="UE"}(sw||(sw={}));var fw=function(t){function n(n,i,r,e,u,s,o){var a;return void 0===s&&(s=new Rg),void 0===o&&(o=Fe()),(a=t.call(this)||this).GT=void 0,a.FE=void 0,a.HE=void 0,a.VE=void 0,a.XE=function(t){var n=t.Is,i=n.code,r=new le(Rc(i),"Something went wrong during native playback.",n);a.FE=new Tc(i,r.message,n.message),a.HE=r,a.vs(new Pl(r))},a.WE=function(){a.vs(new Ca(a.Hv,a.qd))},a.qE=function(t){a.zv||(a.VE=void 0),a.vs(t)},a.zE=function(t){a.VE=void 0,a.vs(t)},a.GE=function(){a.vs(new Jf(a.jd))},a.jE=function(){a.Yv>0&&a.Qv>0&&a.vs(new Nl)},a.QE=function(t){a.ld.Rh(new Gf(t.track))},a.YE=function(t){var n=lw(a.ld,t.track);n&&a.ld.Ih(n)},a.ZE=function(){a.JE(a.ld)},a.KE=function(t){a._d.Rh(new Zf(t.track))},a.$E=function(t){var n=lw(a._d,t.track);n&&a._d.Ih(n)},a.tS=function(){a.JE(a._d)},a.nS=function(t){t.type===pa.Ef&&(a.FE=Sc(t.errorObject),a.HE=t.errorObject),a.fs(t)},a.iS=i,a.PA=r,a.Uu=o,a.JT=a.iS.rS(Zh.n_),a.eS=a.JT.uS.preload,a.ZA=s,a.sS=new ew(a.JT,!0),a.sS.ls(ma,a.fs),a.oS=new Cg(a.JT,a.PA,a.ZA),a.oS.ls(cw,a.nS),a.aS(),a.ld=new Mf,a._d=new Mf,a.cS(),a.hS=new bl(a.JT,a.PA),a.gd=new _a,a.xd(),a}ct(n,t);var i=n.prototype;return i.Pd=function(){this.JT.Pd()},i.xd=function(){this.JT.xd()},i.Sd=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r){var e;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Hn(r),e={Cu:Ng.sE,uf:n.src,fS:n.type,vS:[],ul:this.eS,dS:n.crossOrigin,lS:i.metadata&&i.metadata.title},t.next=4,this.JT.do(e);case 4:return this.GT=t.sent,Hn(r),t.next=8,this.oS.Ch();case 8:this.oS.Eo(this.GT),this.oS.JA(this._S(n)),this.gd.Fh=this.JT.pd,i.textTracks&&this.gS(i.textTracks),Il(this.pd);case 13:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.gS=function(t){for(var n,i=0;i<t.length;i++){var r=t[i];if(this.JT.wS()&&P.Ft&&Vg&&!gl(r.kind,r.label)&&this.yS(r)){var e=null!==(n=r.kind)&&void 0!==n?n:af.Nm;this.JT.mS(r.src,e,r.label,r.srclang)}else{if(void 0===r.src)continue;this.hS.BA(r)}}},i.yS=function(t){return!t.format||"webvtt"===t.format},i.Ad=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.JT.Ad();case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:if(this.kS){t.next=12;break}return t.next=10,this.JT.As(pa.Vf);case 10:t.next=7;break;case 12:case"end":return t.stop()}},t,this,[[0,5]])}));return function(){return t.apply(this,arguments)}}(),i.bd=function(){this.JT.bd()},i.Rd=function(){return void 0!==this.JT.uS.webkitShowPlaybackTargetPicker},i.Id=function(){this.JT.uS.webkitShowPlaybackTargetPicker&&this.JT.uS.webkitShowPlaybackTargetPicker()},i.Nd=function(){this.JT.uS.webkitShowPlaybackTargetPicker&&this.JT.uS.webkitShowPlaybackTargetPicker()},i.Bd=function(){return this.JT.uS},i.Ld=function(){return this.JT.pS},i.Ch=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.FE=void 0,this.HE=void 0,this.GT&&(this.GT=void 0),this.gd.Ch(),t.next=6,this.JT.Ch();case 6:return this.sS.Ch(),t.next=9,this.oS.Ch();case 9:return this.ul=this.eS,this.md.Ch(),this.kd.Ch(),t.next=14,this.hS.Ch();case 14:this.VE=void 0;case 15:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Dh=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Ch();case 2:return this.gs(),this.AS(),this.bS(),t.next=7,this.oS.Dh();case 7:return this.sS.Dh(),t.next=10,this.iS.TS(this.JT);case 10:return this.ld.Dh(),this._d.Dh(),this.gd.Dh(),t.next=15,this.hS.Dh();case 15:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.aS=function(){this.JT.ls(pa.Hf,this.fs),this.JT.ls(pa.Ff,this.fs),this.JT.ls(pa.$f,this.WE),this.JT.ls(pa.Vf,this.fs),this.JT.ls(pa.Pf,this.fs),this.JT.ls(pa.Gf,this.fs),this.JT.ls(pa.zf,this.qE),this.JT.ls(pa.Df,this.fs),this.JT.ls(pa.Xf,this.fs),this.JT.ls(pa.tv,this.fs),this.JT.ls(pa.Nf,this.fs),this.JT.ls(pa.qf,this.jE),this.JT.ls(la._f,this.zE),this.JT.ls(sa.$h,this.XE),this.JT.uS.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.GE)},i.AS=function(){this.JT.ys(pa.Hf,this.fs),this.JT.ys(pa.Ff,this.fs),this.JT.ys(pa.$f,this.WE),this.JT.ys(pa.Vf,this.fs),this.JT.ys(pa.Pf,this.fs),this.JT.ys(pa.Gf,this.fs),this.JT.ys(pa.zf,this.qE),this.JT.ys(pa.Df,this.fs),this.JT.ys(pa.Xf,this.fs),this.JT.ys(pa.tv,this.fs),this.JT.ys(pa.Nf,this.fs),this.JT.ys(pa.qf,this.jE),this.JT.ys(la._f,this.zE),this.JT.ys(sa.$h,this.XE),this.JT.uS.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.GE)},i._S=function(t){if(t.contentProtection&&t.contentProtection.fairplay){return{Ob:t.contentProtection||{},$A:[{Co:on,nb:[],Pb:void 0,Ko:void 0}],eE:[],uE:["video/mp4"]}}},i.cS=function(){var t=this.JT.uS.audioTracks,n=this.JT.uS.videoTracks;t&&(t.addEventListener("addtrack",this.QE),t.addEventListener("removetrack",this.YE),t.addEventListener("change",this.ZE)),n&&(n.addEventListener("addtrack",this.KE),n.addEventListener("removetrack",this.$E),n.addEventListener("change",this.tS))},i.bS=function(){var t=this.JT.uS.audioTracks,n=this.JT.uS.videoTracks;t&&(t.removeEventListener("addtrack",this.QE),t.removeEventListener("removetrack",this.YE),t.removeEventListener("change",this.ZE)),n&&(n.removeEventListener("addtrack",this.KE),n.removeEventListener("removetrack",this.$E),n.removeEventListener("change",this.tS))},i.JE=function(t){for(var n=0;n<t.xh;n++){t.Sh(n).Xm()}},i.Xd=function(){this.oS.rE().then(j)},T(n,[{key:"kS",get:function(){var t=this.JT.Wd,n=new io(this.Hv),i=new io(.01);return t.Jy(n,i)}},{key:"md",get:function(){return this.ld}},{key:"Wd",get:function(){return this.JT.Wd.qy()}},{key:"qd",get:function(){return this.JT.qd},set:function(t){t&&this.JT.ES(t)}},{key:"Hv",get:function(){return void 0!==this.VE?this.VE:this.JT.Hv},set:function(t){this.jd&&(this.VE=t),this.JT.Ws(t)}},{key:"Vv",get:function(){return this.JT.Vv}},{key:"Xv",get:function(){return this.JT.Xv}},{key:"Is",get:function(){return this.FE}},{key:"Wv",get:function(){return this.HE}},{key:"Gd",get:function(){}},{key:"jd",get:function(){return this.JT.jd}},{key:"Qd",get:function(){return Dt(Dt({},{Yd:0,Zd:0,Jd:0,Kd:0,$d:0,tl:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}),this.JT.SS())}},{key:"qv",get:function(){return this.JT.qv},set:function(t){this.JT.qv=t}},{key:"nl",get:function(){return!0}},{key:"zv",get:function(){return this.JT.zv}},{key:"Gv",get:function(){return this.JT.Gv},set:function(t){this.JT.Gv=t}},{key:"il",get:function(){return this.JT.uS.played}},{key:"ul",get:function(){return this.eS},set:function(t){this.eS=t,this.GT&&(this.GT.ul=t)}},{key:"if",get:function(){return this.JT.if}},{key:"sl",get:function(){return this.JT.sl.qy()}},{key:"jv",get:function(){return this.JT.jv}},{key:"RS",get:function(){return this.JT.RS}},{key:"pd",get:function(){return this.gd}},{key:"kd",get:function(){return this._d}},{key:"Qv",get:function(){return this.JT.Qv}},{key:"Yv",get:function(){return this.JT.Yv}},{key:"Zv",get:function(){return this.JT.Zv},set:function(t){this.JT.Zv=t}}]),n}(ga);function vw(t){return!t.type||!(!hw().canPlayType||!hw().canPlayType(t.type))}var dw=function(){function t(){this.IS=sw.UE}var n=t.prototype;return n.ll=function(t,n,i,r,e,u){return new fw(t,n,i,r,e)},n.NS=function(t,n){return vw(t)},t}();function lw(t,n){for(var i=0,r=t.Oh;i<r.length;i++){var e=r[i];if(e.zm===n)return e}}var _w=function(){function t(){this.CS=new dw,this.DS=[]}t.OS=function(){return this.dn};var n=t.prototype;return n.xS=function(t){this.DS.push(t)},n.ll=function(t,n,i,r,e,u){for(var s=this.CS.ll(t,n,i,r,e,u),o=0,a=this.DS;o<a.length;o++){s=(0,a[o])(s,i,r)}return s},n.NS=function(t,n){return this.CS.NS(t,n)},T(t,[{key:"IS",get:function(){return this.CS.IS}}]),t}();function gw(t){mw.dn.PS(t)}function ww(t,n){return mw.dn.BS(t,n)}function yw(t,n){return Ks(t.IS,n.IS)}_w.dn=new _w;var mw=function(){function t(){this.LS=_w.OS(),this.MS=[]}var n=t.prototype;return n.US=function(t){this.LS=t},n.FS=function(){return this.LS},n.PS=function(t){this.MS.push(t),this.MS.sort(yw)},n.HS=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r,e,u,s;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.MS;case 1:if(!(r<e.length)){t.next=17;break}if(u=e[r],!q(s=u.NS(n,i))){t.next=10;break}return t.next=7,s;case 7:t.t0=t.sent,t.next=11;break;case 10:t.t0=Boolean(s);case 11:if(!t.t0){t.next=14;break}return t.abrupt("return",u);case 14:r++,t.next=1;break;case 17:return t.abrupt("return",void 0);case 18:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.BS=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r,e,u,s,o,a;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<n.length)){t.next=11;break}return e=n[r],t.next=5,this.HS(e,i);case 5:if(!(u=t.sent)){t.next=8;break}return t.abrupt("return",{VS:e,XS:u});case 8:r++,t.next=1;break;case 11:s=this.LS,o=0;case 13:if(!(o<n.length)){t.next=20;break}if(a=n[o],!s.NS(a,i)){t.next=17;break}return t.abrupt("return",{VS:a,XS:s});case 17:o++,t.next=13;break;case 20:return t.abrupt("return",{VS:n[0],XS:s});case 21:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),t}();mw.dn=new mw;var kw,pw=function(){function t(t){this.WS=Xt&&Xt.document&&Xt.document.createElement("div"),Ne(this.WS),t.appendChild(this.WS)}return t.prototype.Dh=function(){Ee(this.WS)},t}();function Aw(t){switch(t){case kw.Tm:case"":return kw.Tm;case kw.e_:return kw.e_;case kw.qS:default:return kw.qS}}!function(t){t.UE="",t.qS="none",t.e_="metadata",t.Tm="auto"}(kw||(kw={}));var bw=[sa.$h,pa.Cf,pa.Ns,pa.ev,pa.pf,pa.Of,pa.Mf,pa.Uf,pa.Qf,pa.Zf,la.hf,la.ff,la.vf,la.df,la.gh,la.lf,la._f,pa.Ef,pa.Sf,pa.Nf,pa.Df,pa.Pf,pa.Bf,pa.Hf,pa.Vf,pa.Ff,pa.Xf,pa.qf,pa.Gf,pa.zf,pa.$f,pa.tv,pa.Wf,pa.Lf,pa.jf],Tw=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this)||this).zS=void 0,o.eS=kw.qS,o.GS=void 0,o.jS=!0,o.ld=new oa,o._d=new oa,o.gd=new _a,o.QS=n,o.Go=i,o.PA=r,o.YS=e,o.ZS=s,o.JS=new Ft(u,o.ZS),o.JS.KS(o.QS),o.$S=new pw(o.QS),o.tR=mw.dn.FS(),o.nR=o.iR(o.tR),o.nR.ul=o.ul,o.rR(),o}ct(n,t);var i=n.prototype;return i.bd=function(){this.nR.bd()},i.Ad=function(){this.nR.Ad()},i.Td=function(){return this.Sd({sources:[]})},i.Cd=function(){this.JS.eR()},i.Dd=function(t){_c(this,t)},i.Od=function(){},i.Ud=function(t){return!1},i.iR=function(t){return t.ll(this.QS,this.JS,this.PA,this.Go,this.YS,this.ZS)},i.rR=function(){this.ld.Fh=this.nR.md,this._d.Fh=this.nR.kd,this.gd.Fh=this.nR.pd,this.nR.ls(bw,this.fs)},i.uR=function(){this.nR.ys(bw,this.fs),this.ld.Fh=void 0,this._d.Fh=void 0,this.gd.Fh=void 0},i.Ed=function(){return this.GS},i.Sd=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r,e,u,s,o,a;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Hn(i),this.GS=n,n){t.next=4;break}return t.abrupt("return");case 4:if(!sc(r=n.sources.filter(Ef))){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,ww(r,n);case 9:if(e=t.sent,Hn(i),u=e.VS,s=e.XS,o=this.Ld(),a=lc(this),this.tR===s&&!this.Is){t.next=25;break}return this.uR(),t.next=19,this.nR.Dh();case 19:Hn(i),this.tR=s,this.nR=this.iR(s),Ew(this.nR,a),gc(this,a,this),this.rR();case 25:return this.nR.ul=this.ul,this.jS?this.nR.xd():this.nR.Pd(),t.next=29,this.nR.Sd(u,n,i);case 29:Hn(i),this.sR(u),this.Ld()!==o&&this.vs(new yc);case 32:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.sR=function(t){this.zS!==t&&(this.zS=t,this.vs(new mc(t)))},i.Rd=function(){return this.nR.Rd()},i.Id=function(){this.nR.Id()},i.Nd=function(){this.nR.Nd()},i.Bd=function(){return this.nR.Bd()},i.Ld=function(){return this.nR.Ld()},i.Md=function(){return this.JS.oR.map(function(t){return t.uS})},i.Xd=function(){this.nR.Xd()},i.Ch=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.GS=void 0,this.sR(void 0),t.next=4,this.nR.Ch();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Dh=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.gs(),t.next=3,this.Ch();case 3:return t.next=5,this.nR.Dh();case 5:this.JS.Dh(),this.$S.Dh(),this.ld.Dh(),this._d.Dh(),this.gd.Dh();case 10:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.xd=function(){this.jS=!0,this.nR.xd()},i.Pd=function(){this.jS=!1,this.nR.Pd()},T(n,[{key:"md",get:function(){return this.ld}},{key:"Wd",get:function(){return this.nR.Wd}},{key:"zd",get:function(){return this.QS}},{key:"Is",get:function(){return this.nR.Is}},{key:"Wv",get:function(){return this.nR.Wv}},{key:"qd",get:function(){return this.nR.qd},set:function(t){this.nR.qd=t}},{key:"Vd",get:function(){return this.zS}},{key:"Hv",get:function(){return this.nR.Hv},set:function(t){this.nR.Hv=t}},{key:"Vv",get:function(){return this.nR.Vv}},{key:"Xv",get:function(){return this.nR.Xv}},{key:"Gd",get:function(){return this.nR.Gd}},{key:"jd",get:function(){return this.nR.jd}},{key:"Qd",get:function(){return this.nR.Qd}},{key:"qv",get:function(){return this.nR.qv},set:function(t){this.nR.qv=t}},{key:"nl",get:function(){return this.nR.nl}},{key:"zv",get:function(){return this.nR.zv}},{key:"Gv",get:function(){return this.nR.Gv},set:function(t){this.nR.Gv=t}},{key:"il",get:function(){return this.nR.il}},{key:"ul",get:function(){return this.eS},set:function(t){this.eS=t,this.nR&&(this.nR.ul=this.eS)}},{key:"if",get:function(){return this.nR.if}},{key:"sl",get:function(){return this.nR.sl}},{key:"jv",get:function(){return this.nR.jv}},{key:"pd",get:function(){return this.gd}},{key:"Qv",get:function(){return this.nR.Qv}},{key:"kd",get:function(){return this._d}},{key:"Yv",get:function(){return this.nR.Yv}},{key:"Zv",get:function(){return this.nR.Zv},set:function(t){this.nR.Zv=t}}]),n}(wa);function Ew(t,n){t.qv!==n.qv&&(t.qv=n.qv),t.Zv!==n.Zv&&(t.Zv=n.Zv),t.Gv!==n.Gv&&(t.Gv=n.Gv)}var Sw=function(t){function n(){return t.call(this,Ta.$h)||this}return ct(n,t),n}(ei),Rw=new(function(t){function n(){return t.apply(this,arguments)||this}ct(n,t);var i=n.prototype;return i.Cv=function(){this.vs(new Sw)},i.Dv=function(){},i.Dh=function(){this.gs()},T(n,[{key:"Nv",get:function(){return!1}},{key:"Iv",get:function(){return!1}}]),n}(ii)),Iw=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).QS=n,e.aR=i,e.cR=new Mf,e.hR=new Jd,e.fR=r,e}ct(n,t);var i=n.prototype;return i.Ud=function(t){return!0},i.Pd=function(){},i.Ad=function(){throw this.vs(new Xa(this.fR)),this.aR},i.bd=function(){},i.Ed=function(){},i.Sd=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:throw Hn(i),this.vs(new Xa(this.fR)),this.aR;case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.xd=function(){},i.Td=function(){return Ct.resolve()},i.Bd=function(){},i.Ld=function(){return Rw},i.Md=function(){return[]},i.Cd=function(){},i.Dd=function(t){},i.Od=function(){},i.Rd=function(){return!1},i.Id=function(){},i.Nd=function(){},i.Xd=function(){},i.Ch=function(){return Ct.resolve()},i.Dh=function(){return this.gs(),this.cR.Dh(),this.hR.Dh(),Ct.resolve()},T(n,[{key:"md",get:function(){return this.cR}},{key:"Wd",get:function(){return tf.bm().qy()}},{key:"qd",get:function(){return new Date(NaN)},set:function(t){}},{key:"Vd",get:function(){}},{key:"Hv",get:function(){return 0},set:function(t){}},{key:"Vv",get:function(){return 0}},{key:"zd",get:function(){return this.QS}},{key:"Xv",get:function(){return!0}},{key:"Is",get:function(){return this.aR}},{key:"Wv",get:function(){return this.fR}},{key:"Gd",get:function(){}},{key:"Qd",get:function(){return{Yd:0,Zd:0,Jd:0,Kd:0,$d:0,tl:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"qv",get:function(){return!1},set:function(t){}},{key:"nl",get:function(){return!0}},{key:"zv",get:function(){return!0}},{key:"Gv",get:function(){return 0},set:function(t){}},{key:"il",get:function(){return tf.bm().qy()}},{key:"ul",get:function(){return kw.qS},set:function(t){}},{key:"if",get:function(){return ya.gf}},{key:"sl",get:function(){return tf.bm().qy()}},{key:"jv",get:function(){return!1}},{key:"pd",get:function(){return this.hR}},{key:"Qv",get:function(){return 0}},{key:"kd",get:function(){return this.cR}},{key:"Yv",get:function(){return 0}},{key:"Zv",get:function(){return 1},set:function(t){}},{key:"jd",get:function(){return!1}}]),n}(wa);var Nw=function(){function t(t){this.vR=t}return t.prototype.dR=function(t){var n,i,r,e,u,s,o,a=[];if(!t)return"";var c=t.length%4;if(c>0)for(;c++<4;)t+=this.vR.charAt(64);for(n=0;n<t.length;n+=4)i=(o=this.vR.indexOf(t.charAt(n))<<18|this.vR.indexOf(t.charAt(n+1))<<12|(u=this.vR.indexOf(t.charAt(n+2)))<<6|(s=this.vR.indexOf(t.charAt(n+3))))>>>16&255,r=o>>>8&255,e=255&o,a[n/4]=String.fromCharCode(i,r,e),64===s&&(a[n/4]=String.fromCharCode(i,r)),64===u&&(a[n/4]=String.fromCharCode(i));return a.join("")},t.prototype.lR=function(t,n){var i,r,e,u,s,o,a,c=[],h="";if((o=t.length%3)>0)for(;o++<3;)h+=this.vR.charAt(64),t+="\0";for(o=0;o<t.length;o+=3)r=(i=t.charCodeAt(o)<<16|t.charCodeAt(o+1)<<8|t.charCodeAt(o+2))>>18&63,e=i>>12&63,u=i>>6&63,s=63&i,c[o/3]=this.vR.charAt(r)+this.vR.charAt(e)+this.vR.charAt(u)+this.vR.charAt(s);return a=(a=c.join("")).slice(0,a.length-h.length),n||(a+=h),a},t.xp=new t(function(){var t,n,i,r,e=[],u=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<u.length;t+=1)for(n=u[t],i=0;i<n.length;i+=1)r=n.charAt(i),-1===e.indexOf(r)&&e.push(r);return e.join("")}()),t._R=new t(t.xp.dR("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")),t}();function Cw(t){return"string"==typeof t}function Dw(t){return"number"==typeof t}var Ow={}.toString;var xw,Pw=Array.isArray||function(t){return"[object Array]"===Ow.call(t)};function Bw(t,n){return Pw(t)&&t.every(n)}!function(t){t.HTML5="html5",t.ANDROID="android",t.IOS="ios",t.TVOS="tvos",t.ANDROIDTV="androidtv",t.TIZEN="tizen",t.WEBOS="webos",t.CHROMECAST="chromecast",t.ROKU="roku",t.FIRETV="firetv",t.CHROMECASTCAF="chromecastcaf"}(xw||(xw={}));var Lw,Mw=_.keys(xw).map(function(t){return xw[t]});function Uw(t){return-1!==Mw.indexOf(t)}function Fw(t){try{var n=Nw._R.dR(t),i=JSON.parse(n);if(!function(t){var n=(f=t,"object"==typeof f&&null!==f),i=Cw(t.key),r=Cw(t.customer_id),e=Dw(t.generation_date),u=Dw(t.expiration_date),s=Bw(t.domains_page,Cw),o=Bw(t.domains_source,Cw),a=Bw(t.sdks,Uw),c=(h=t.send_impression,"boolean"==typeof h);var h;var f;if(!(n&&i&&r&&e&&u&&s&&o&&a&&c))return!1;return!0}(i))throw new d("The provided license could not be decoded correctly.");return i}catch(t){throw new d("The provided license could not be decoded correctly.")}}function Hw(){return Lw||(Lw={dA:Wt.href,gR:Xt.parent&&Xt.parent!==u,wR:Ww()}),Lw}var Vw,Xw=["http:","https:","ftp:","ws:","wss:"];function Ww(){try{return Xt.top.location.href}catch(t){return Xt&&Xt.document&&Xt.document.referrer}}!function(t){t[t.yR=0]="yR",t[t.mR=1]="mR",t[t.kR=2]="kR"}(Vw||(Vw={}));var qw,zw=function(t,n,i,r,e,u,s,o){void 0===e&&(e=""),void 0===u&&(u=Date.now()),void 0===s&&(s=[]),void 0===o&&(o=!0),this.pR=t,this.AR=n,this.bR=i,this.TR=r,this.ER=e,this.SR=u,this.RR=s,this.IR=o};!function(t){t.mR="expired",t.NR="invaliddomain",t.CR="invalidsource",t.$h="error"}(qw||(qw={}));var Gw=function(){function t(t,n,i){this.DR=t,this.OR=n,this.xR=i,this.PR=Kw(this.xR)}var n=t.prototype;return n.LR=function(t,n){var i=this;if(!Tf(t)&&0!==n.bR.length&&!Yw(n.bR)){var r=[];if(uc(t.sources)?r=[t.sources]:F(t.sources)&&(r=t.sources),!r.every(function(t){return i.MR(t,n)})){var e=qw.CR,u=ty.UR(e);throw new le(jw(e),u)}}},n.FR=function(n){return this.HR(n.RR)&&this.XR(n)?t.WR(n.TR)?Vw.yR:Vw.mR:Vw.kR},n.HR=function(t){var n=this;return 0===t.length||t.some(function(t){return n.qR(t)})},n.qR=function(t){return"ios"===function(t){switch(t){case xw.ANDROID:return e.l;case xw.ANDROIDTV:case xw.FIRETV:return e.g;case xw.IOS:return e.R;case xw.TVOS:return e.I;case xw.CHROMECAST:case xw.CHROMECASTCAF:return e.N;default:return e.o}}(t)},t.WR=function(t){var n=Number(new Date);return!!t&&n<=t},n.XR=function(t){return!(this.PR&&0!==t.AR.length&&!Yw(t.AR))||!!(this.PR&&this.zR(t.AR)&&this.GR(t.AR))},n.zR=function(t){return Zw(this.xR.dA,t)},n.GR=function(t){if(!this.xR.gR)return!0;if(this.DR)return!0;var n=this.jR();return!!n&&Zw(n,t)},n.jR=function(){if(this.xR.gR){var t=o.ancestorOrigins;return t&&t.length>0?t[t.length-1]:this.xR.wR?this.xR.wR:void 0}},n.MR=function(n,i){return!!t.QR(n,i.bR)},t.QR=function(t,n){return Zw(this.YR(t),n)},t.YR=function(t){return X(t)?t:ec(t)&&t.src||""},t}();function jw(t){switch(t){case qw.NR:return n.ErrorCode.LICENSE_INVALID_DOMAIN;case qw.CR:return n.ErrorCode.LICENSE_INVALID_SOURCE;case qw.mR:return n.ErrorCode.LICENSE_EXPIRED;case qw.$h:return n.ErrorCode.LICENSE_ERROR}}function Qw(t,n){var i=t,r=n;if(!i)return!1;if("*"===(r=r.trim()))return!0;if(r===(i=i.replace(/\.+$/,"")))return!0;var e="\\.",u="25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?",s="(\\*|"+u+")",o=new RegExp("ip-range\\("+s+e+s+e+s+e+s+"\\)"),a=r.match(o),c=function(t){return"*"===t?"("+u+")":t};if(null!==a&&5===a.length){var h=new RegExp("^"+a[1]+e+c(a[2])+e+c(a[3])+e+c(a[4])+"$");return null!==i.match(h)}return r="."+r,-1!==i.indexOf(r,i.length-r.length)}function Yw(t){return t.some(function(t){return"*"===t})}function Zw(t,n){var i=r.Oa(t);if(!Jw(i))return!0;for(var e=0;e<n.length;e++){var u=n[e];if(Qw(i.hostname,u))return!0;if(Qw(Xs(t),u))return!0}return!1}function Jw(t){return-1!==Xw.indexOf(t.protocol)}function Kw(t){var n=r.Oa(t.dA);return Jw(n)&&!Qw(n.hostname,"localhost")&&!function(t){return Qw(t.hostname,"theoplayer.doubleclick.net")}(n)}var $w,ty=function(){function t(){}return t.UR=function(t){return t===qw.NR?this.ZR:t===qw.CR?this.JR:t===qw.mR?this.KR:this.$R},t}();function ny(t){var n=[t.sw,t.tI,t.nI];switch(t.tI){case $w.iI:n.push(t.uf);break;case $w.rI:n.push(t.Hv),n.push(t.Is);break;case $w.eI:n.push(t.Is)}return n}ty.$R="The license for this player is invalid.",ty.KR="The usage license for this video player has expired.",ty.ZR="The current domain is incompatible with the license for this player.",ty.JR="The provided video source is incompatible with the license for this player.",function(t){t[t.iI=1]="iI",t[t.rI=4]="rI",t[t.eI=5]="eI"}($w||($w={}));for(var iy=new Array(256),ry=0;ry<256;ry+=1)iy[ry]=(ry<16?"0":"")+ry.toString(16);function ey(){var t=ot(),n=(4294967296*g.random()|0)+t&3029421624,i=(4294967296*g.random()|0)+t&3595553209,r=(4294967296*g.random()|0)+t&1130486254,e=(4294967296*g.random()|0)+t&1284287105;return iy[255&n]+iy[n>>>8&255]+iy[n>>>16&255]+iy[n>>>24&255]+"-"+iy[255&i]+iy[i>>>8&255]+"-"+iy[i>>>16&15|64]+iy[i>>>24&255]+"-"+iy[63&r|128]+iy[r>>>8&255]+"-"+iy[r>>>16&255]+iy[r>>>24&255]+iy[255&e]+iy[e>>>8&255]+iy[e>>>16&255]+iy[e>>>24&255]}var uy=function(){function t(t){this.vR=t}var n=t.prototype;return n.dR=function(t){var n,i,r,e,u,s,o,a=[];if(!t)return"";for(n=0;n<t.length;n+=4)i=(o=this.vR.indexOf(t.charAt(n))<<18|this.vR.indexOf(t.charAt(n+1))<<12|(u=this.vR.indexOf(t.charAt(n+2)))<<6|(s=this.vR.indexOf(t.charAt(n+3))))>>>16&255,r=o>>>8&255,e=255&o,a[n/4]=String.fromCharCode(i,r,e),64===s&&(a[n/4]=String.fromCharCode(i,r)),64===u&&(a[n/4]=String.fromCharCode(i));return a.join("")},n.lR=function(t){var n,i,r,e,u,s,o,a=[],c="";if((s=t.length%3)>0)for(;s++<3;)c+=this.vR.charAt(64),t+="\0";for(s=0;s<t.length;s+=3)i=(n=t.charCodeAt(s)<<16|t.charCodeAt(s+1)<<8|t.charCodeAt(s+2))>>18&63,r=n>>12&63,e=n>>6&63,u=63&n,a[s/3]=this.vR.charAt(i)+this.vR.charAt(r)+this.vR.charAt(e)+this.vR.charAt(u);return(o=a.join("")).slice(0,o.length-c.length)+c},t}();function sy(){return r.Ic()}uy.xp=new uy(function(){var t,n,i,r,e=[],u=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<u.length;t+=1)for(n=u[t],i=0;i<n.length;i+=1)r=n.charAt(i),-1===e.indexOf(r)&&e.push(r);return e.join("")}()),uy._R=new uy(uy.xp.dR("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop"));var oy,ay="theoplayer-session-id";function cy(){if(!oy){var t=mo.Ls(ay);t?oy=t:(oy=ey(),mo.Ac(ay,oy))}return oy}var hy=/[^\x00-\x7E]/g;function fy(t){return"\\u"+wn(t.charCodeAt(0).toString(16),4,"0")}var vy=function(t){function n(n,i){return t.call(this,n,i)||this}return ct(n,t),n}(al),dy=0,ly=1,_y=6e4;function gy(t){var n,i,r,e,u,s=(n=function(t){return[t.uI,t.po,t.pR,t.O_,t.sI,t.oI,t.aI.map(ny)]}(t),i=[],r=n,e=function(t,n){if(H(n)){if(-1!==i.indexOf(n))return null;i.push(n)}return n},JSON.stringify(r,e,u).replace(hy,fy));return uy._R.lR(s)}var wy=function(){function t(t,n,i,r,e,u){var s=this;void 0===r&&(r=uy.xp),void 0===e&&(e=dy),void 0===u&&(u=ly),this.fT=t,this.PA=n,this.cI=i,this.hI=r,this.fI=e,this.vI=u,this.dI=[],this.lI=null,this._I=0,this.gI="unknown",this.wI=0,this.yI=function(){sy()-s._I>_y&&s.mI()},this.kI=function(){s.mI(!0)},Vt.pI(this.kI),f(this.yI,_y)}var n=t.prototype;return n.AI=function(){return Boolean(this.sI)},n.bI=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.cI.TI();case 2:if(t.sent.IR){t.next=5;break}return t.abrupt("return");case 5:return i={tI:$w.iI,nI:ot(),uf:n},t.next=8,this.EI(i);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.SI=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={tI:$w.rI,nI:ot(),Hv:i,Is:n},t.next=3,this.EI(r);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.RI=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i={tI:$w.eI,nI:ot(),Is:n},t.next=3,this.EI(i);case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.EI=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.cI.TI();case 2:if(i=t.sent,"a:n[_O*[C4C-N$_@_MYY $D]iOp]N$_-_]th_:c|aen?C:pH"!==this.hI.lR(i.pR)){t.next=6;break}if(n.tI===$w.eI){t.next=6;break}return t.abrupt("return");case 6:if(n.tI===$w.iI?this.II():this.AI()||this.II(),n.sw=this.wI++,this.dI.push(n),(r=n.tI)!==$w.iI&&r!==$w.eI){t.next=14;break}return t.next=12,this.mI();case 12:t.next=19;break;case 14:if(!(this.dI.length>this.fI)){t.next=19;break}return t.next=17,this.NI();case 17:t.next=19;break;case 19:case"end":return t.stop()}var r},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.mI=function(){var t=Ct.coroutine(Nt.mark(function t(n){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:void 0===n&&(n=!1);case 1:if(!(this.dI.length>0)){t.next=6;break}return t.next=4,this.NI(n);case 4:t.next=1;break;case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.CI=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.cI.TI();case 2:return i=t.sent,t.abrupt("return",{uI:ot(),po:cy(),pR:this.hI.lR(i.pR)||"dev",O_:this.fT,sI:this.lI,oI:this.gI,aI:n});case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.NI=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i,r;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===n&&(n=!1),i=this.dI.splice(0,this.vI),t.next=4,this.CI(i);case 4:r=t.sent,n?this.DI(r):this.OI(r),this._I=sy();case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.OI=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i,r,e;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=gy(n),r=new vy({dA:"https://license.theoplayer.com",lA:i,pA:!1,wA:Yd.yn,_A:{"Content-Type":S_.mT},yA:4e3,gA:$d.POST}),t.prev=2,t.next=5,this.PA.IA(r);case 5:return e=t.sent,t.next=8,e.gT();case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),(new Image).src="https://licensing.theoplayer.com/t?"+i;case 13:case"end":return t.stop()}},t,this,[[2,10]])}));return function(n){return t.apply(this,arguments)}}(),n.DI=function(t){var n=gy(t);this.PA.DI({dA:"https://license.theoplayer.com",lA:n,fS:S_.mT})},n.II=function(){this.AI()&&this.mI(),this.lI=ey(),this.wI=0},n.Dh=function(){Vt.xI(this.kI),this.mI()},T(t,[{key:"aI",get:function(){return this.dI}},{key:"sI",get:function(){return this.lI}}]),t}();var yy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(t){return"Symbol("+t+")"};function my(){}var ky=Number.isNaN||function(t){return t!=t},py=my;function Ay(t){return"object"==typeof t&&null!==t||"function"==typeof t}function by(t){return t.slice()}function Ty(t){return!1!==function(t){if("number"!=typeof t)return!1;if(ky(t))return!1;if(t<0)return!1;return!0}(t)&&t!==1/0}function Ey(t,n,i){if("function"!=typeof t)throw new l("Argument is not a function");return Function.prototype.apply.call(t,n,i)}function Sy(t,n,i,r){var e=t[n];if(void 0!==e){if("function"!=typeof e)throw new l(e+" is not a method");switch(i){case 0:return function(){return Iy(e,t,r)};case 1:return function(n){var i=[n].concat(r);return Iy(e,t,i)}}}return function(){return My(void 0)}}function Ry(t,n,i){var r=t[n];if(void 0!==r)return Ey(r,t,i)}function Iy(t,n,i){try{return My(Ey(t,n,i))}catch(t){return Uy(t)}}function Ny(t){return t}function Cy(t){if(t=Number(t),ky(t)||t<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return t}function Dy(t){if(void 0===t)return function(){return 1};if("function"!=typeof t)throw new l("size property of a queuing strategy must be a function");return function(n){return t(n)}}var Oy=Ct,xy=Ct.prototype.then,Py=Ct.resolve.bind(Oy),By=Ct.reject.bind(Oy);function Ly(t){return new Oy(t)}function My(t){return Py(t)}function Uy(t){return By(t)}function Fy(t,n,i){return xy.call(t,n,i)}function Hy(t,n,i){Fy(Fy(t,n,i),void 0,py)}function Vy(t,n){Hy(t,n)}function Xy(t,n){Hy(t,void 0,n)}function Wy(t,n,i){return Fy(t,n,i)}function qy(t){Fy(t,void 0,py)}var zy=function(){function t(){this.BI=0,this.LI=0,this.ze={MI:[],UI:void 0},this.FI=this.ze,this.BI=0,this.LI=0}return _.defineProperty(t.prototype,"length",{get:function(){return this.LI},enumerable:!0,configurable:!0}),t.prototype.push=function(t){var n=this.FI,i=n;16383===n.MI.length&&(i={MI:[],UI:void 0}),n.MI.push(t),i!==n&&(this.FI=i,n.UI=i),++this.LI},t.prototype.shift=function(){var t=this.ze,n=t,i=this.BI,r=i+1,e=t.MI,u=e[i];return 16384===r&&(n=t.UI,r=0),--this.LI,this.BI=r,t!==n&&(this.ze=n),e[i]=void 0,u},t.prototype.forEach=function(t){for(var n=this.BI,i=this.ze,r=i.MI;!(n===r.length&&void 0===i.UI||n===r.length&&(n=0,0===(r=(i=i.UI).MI).length));)t(r[n]),++n},t.prototype.peek=function(){var t=this.ze,n=this.BI;return t.MI[n]},t}();function Gy(t,n,i){var r=null;!0===i&&(r=_.prototype);var e=_.create(r);return e.value=t,e.done=n,e}function jy(t,n){t.HI=!0,t.VI=n,n.XI=t,"readable"===n.WI?Jy(t):"closed"===n.WI?function(t){Jy(t),tm(t)}(t):Ky(t,n.qI)}function Qy(t,n){return ep(t.VI,n)}function Yy(t){"readable"===t.VI.WI?$y(t,new l("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,n){Ky(t,n)}(t,new l("Reader was released and can no longer be used to monitor the stream's closedness")),t.VI.XI=void 0,t.VI=void 0}function Zy(t){return new l("Cannot "+t+" a stream using a released reader")}function Jy(t){t.ho=Ly(function(n,i){t.zI=n,t.GI=i})}function Ky(t,n){Jy(t),$y(t,n)}function $y(t,n){qy(t.ho),t.GI(n),t.zI=void 0,t.GI=void 0}function tm(t){t.zI(void 0),t.zI=void 0,t.GI=void 0}var nm=yy("[[CancelSteps]]"),im=yy("[[PullSteps]]");function rm(t,n){void 0===n&&(n=!1);var i=new hm(t);return i.HI=n,i}function em(t){return Ly(function(n,i){var r={ue:n,vi:i};t.XI.jI.push(r)})}function um(t,n,i){var r=t.XI;r.jI.shift().ue(Gy(n,i,r.HI))}function sm(t){return t.XI.jI.length}function om(t){var n=t.XI;return void 0!==n&&!!fm(n)}var am,cm,hm=function(){function t(t){if(!1===ip(t))throw new l("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===rp(t))throw new l("This stream has already been locked for exclusive reading by another reader");jy(this,t),this.jI=new zy}return _.defineProperty(t.prototype,"closed",{get:function(){return fm(this)?this.ho:Uy(dm("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return fm(this)?void 0===this.VI?Uy(Zy("cancel")):Qy(this,t):Uy(dm("cancel"))},t.prototype.read=function(){return fm(this)?void 0===this.VI?Uy(Zy("read from")):vm(this):Uy(dm("read"))},t.prototype.releaseLock=function(){if(!fm(this))throw dm("releaseLock");if(void 0!==this.VI){if(this.jI.length>0)throw new l("Tried to release a reader lock when that reader has pending read() calls un-settled");Yy(this)}},t}();function fm(t){return!!Ay(t)&&!!_.prototype.hasOwnProperty.call(t,"jI")}function vm(t){var n=t.VI;return n.QI=!0,"closed"===n.WI?My(Gy(void 0,!0,t.HI)):"errored"===n.WI?Uy(n.qI):n.YI[im]()}function dm(t){return new l("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}"symbol"==typeof yy.asyncIterator&&((am={})[yy.asyncIterator]=function(){return this},cm=am,_.defineProperty(cm,yy.asyncIterator,{enumerable:!1}));var lm={next:function(){if(!1===_m(this))return Uy(gm("next"));var t=this.ZI;return void 0===t.VI?Uy(Zy("iterate")):Wy(vm(t),function(n){var i=n.done;return i&&Yy(t),Gy(n.value,i,!0)})},return:function(t){if(!1===_m(this))return Uy(gm("next"));var n=this.ZI;if(void 0===n.VI)return Uy(Zy("finish iterating"));if(n.jI.length>0)return Uy(new l("Tried to release a reader lock when that reader has pending read() calls un-settled"));if(!1===this.JI){var i=Qy(n,t);return Yy(n),Wy(i,function(){return Gy(t,!0,!0)})}return Yy(n),My(Gy(t,!0,!0))}};function _m(t){return!!Ay(t)&&!!_.prototype.hasOwnProperty.call(t,"ZI")}function gm(t){return new l("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}function wm(t){var n=t.Kr.shift();return t.KI-=n.size,t.KI<0&&(t.KI=0),n.value}function ym(t,n,i){if(!Ty(i=Number(i)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");t.Kr.push({value:n,size:i}),t.KI+=i}function mm(t){t.Kr=new zy,t.KI=0}void 0!==cm&&_.setPrototypeOf(lm,cm),_.defineProperty(lm,"next",{enumerable:!1}),_.defineProperty(lm,"return",{enumerable:!1});var km=yy("[[AbortSteps]]"),pm=yy("[[ErrorSteps]]"),Am=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),Tm(this);var i=n.size,r=n.highWaterMark;if(void 0!==t.type)throw new RangeError("Invalid type is specified");var e=Dy(i);void 0===r&&(r=1),function(t,n,i,r){var e=_.create(Xm.prototype);var u=Sy(n,"write",1,[e]),s=Sy(n,"close",0,[]),o=Sy(n,"abort",1,[]);Wm(t,e,function(){return Ry(n,"start",[e])},u,s,o,i,r)}(this,t,r=Cy(r),e)}return _.defineProperty(t.prototype,"locked",{get:function(){if(!1===Em(this))throw Zm("locked");return Sm(this)},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===Em(this)?Uy(Zm("abort")):!0===Sm(this)?Uy(new l("Cannot abort a stream that already has a writer")):Rm(this,t)},t.prototype.close=function(){return!1===Em(this)?Uy(Zm("close")):!0===Sm(this)?Uy(new l("Cannot close a stream that already has a writer")):!0===Om(this)?Uy(new l("Cannot close an already-closing stream")):Im(this)},t.prototype.getWriter=function(){if(!1===Em(this))throw Zm("getWriter");return bm(this)},t}();function bm(t){return new Bm(t)}function Tm(t){t.WI="writable",t.qI=void 0,t.$I=void 0,t.tN=void 0,t.nN=new zy,t.iN=void 0,t.rN=void 0,t.eN=void 0,t.uN=void 0,t.sN=!1}function Em(t){return!!Ay(t)&&!!_.prototype.hasOwnProperty.call(t,"tN")}function Sm(t){return void 0!==t.$I}function Rm(t,n){var i=t.WI;if("closed"===i||"errored"===i)return My(void 0);if(void 0!==t.uN)return t.uN.Ir;var r=!1;"erroring"===i&&(r=!0,n=void 0);var e=Ly(function(i,e){t.uN={Ir:void 0,ue:i,vi:e,jr:n,oN:r}});return t.uN.Ir=e,!1===r&&Cm(t,n),e}function Im(t){var n=t.WI;if("closed"===n||"errored"===n)return Uy(new l("The stream (in "+n+" state) is not in the writable state and cannot be closed"));var i,r=Ly(function(n,i){var r={ue:n,vi:i};t.rN=r}),e=t.$I;return void 0!==e&&!0===t.sN&&"writable"===n&&ok(e),ym(i=t.tN,"close",0),Gm(i),r}function Nm(t,n){"writable"!==t.WI?Dm(t):Cm(t,n)}function Cm(t,n){var i=t.tN;t.WI="erroring",t.qI=n;var r=t.$I;void 0!==r&&Fm(r,n),!1===function(t){if(void 0===t.iN&&void 0===t.eN)return!1;return!0}(t)&&!0===i.aN&&Dm(t)}function Dm(t){t.WI="errored",t.tN[pm]();var n=t.qI;if(t.nN.forEach(function(t){t.vi(n)}),t.nN=new zy,void 0!==t.uN){var i=t.uN;if(t.uN=void 0,!0===i.oN)return i.vi(n),void xm(t);Hy(t.tN[km](i.jr),function(){i.ue(),xm(t)},function(n){i.vi(n),xm(t)})}else xm(t)}function Om(t){return void 0!==t.rN||void 0!==t.eN}function xm(t){void 0!==t.rN&&(t.rN.vi(t.qI),t.rN=void 0);var n=t.$I;void 0!==n&&nk(n,t.qI)}function Pm(t,n){var i=t.$I;void 0!==i&&n!==t.sN&&(!0===n?function(t){rk(t)}(i):ok(i)),t.sN=n}var Bm=function(){function t(t){if(!1===Em(t))throw new l("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===Sm(t))throw new l("This stream has already been locked for exclusive writing by another writer");this.cN=t,t.$I=this;var n,i=t.WI;if("writable"===i)!1===Om(t)&&!0===t.sN?rk(this):uk(this),$m(this);else if("erroring"===i)ek(this,t.qI),$m(this);else if("closed"===i)uk(this),$m(n=this),ik(n);else{var r=t.qI;ek(this,r),tk(this,r)}}return _.defineProperty(t.prototype,"closed",{get:function(){return!1===Lm(this)?Uy(Jm("closed")):this.ho},enumerable:!0,configurable:!0}),_.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Lm(this))throw Jm("desiredSize");if(void 0===this.cN)throw Km("desiredSize");return function(t){var n=t.cN,i=n.WI;if("errored"===i||"erroring"===i)return null;if("closed"===i)return 0;return zm(n.tN)}(this)},enumerable:!0,configurable:!0}),_.defineProperty(t.prototype,"ready",{get:function(){return!1===Lm(this)?Uy(Jm("ready")):this.hN},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===Lm(this)?Uy(Jm("abort")):void 0===this.cN?Uy(Km("abort")):function(t,n){return Rm(t.cN,n)}(this,t)},t.prototype.close=function(){if(!1===Lm(this))return Uy(Jm("close"));var t=this.cN;return void 0===t?Uy(Km("close")):!0===Om(t)?Uy(new l("Cannot close an already-closing stream")):Mm(this)},t.prototype.releaseLock=function(){if(!1===Lm(this))throw Jm("releaseLock");void 0!==this.cN&&Hm(this)},t.prototype.write=function(t){return!1===Lm(this)?Uy(Jm("write")):void 0===this.cN?Uy(Km("write to")):Vm(this,t)},t}();function Lm(t){return!!Ay(t)&&!!_.prototype.hasOwnProperty.call(t,"cN")}function Mm(t){return Im(t.cN)}function Um(t,n){"pending"===t.fN?nk(t,n):function(t,n){tk(t,n)}(t,n)}function Fm(t,n){"pending"===t.vN?sk(t,n):function(t,n){ek(t,n)}(t,n)}function Hm(t){var n=t.cN,i=new l("Writer was released and can no longer be used to monitor the stream's closedness");Fm(t,i),Um(t,i),n.$I=void 0,t.cN=void 0}function Vm(t,n){var i=t.cN,r=i.tN,e=function(t,n){try{return t.dN(n)}catch(n){return jm(t,n),1}}(r,n);if(i!==t.cN)return Uy(Km("write to"));var u=i.WI;if("errored"===u)return Uy(i.qI);if(!0===Om(i)||"closed"===u)return Uy(new l("The stream is closing or closed and cannot be written to"));if("erroring"===u)return Uy(i.qI);var s=function(t){return Ly(function(n,i){var r={ue:n,vi:i};t.nN.push(r)})}(i);return function(t,n,i){var r={chunk:n};try{ym(t,r,i)}catch(n){return void jm(t,n)}var e=t.lN;if(!1===Om(e)&&"writable"===e.WI){var u=Qm(t);Pm(e,u)}Gm(t)}(r,n,e),s}var Xm=function(){function t(){throw new l("WritableStreamDefaultController cannot be constructed explicitly")}return t.prototype.error=function(t){if(!1===function(t){if(!Ay(t))return!1;if(!_.prototype.hasOwnProperty.call(t,"lN"))return!1;return!0}(this))throw new l("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this.lN.WI&&Ym(this,t)},t.prototype[km]=function(t){var n=this._N(t);return qm(this),n},t.prototype[pm]=function(){mm(this)},t}();function Wm(t,n,i,r,e,u,s,o){n.lN=t,t.tN=n,n.Kr=void 0,n.KI=void 0,mm(n),n.aN=!1,n.dN=o,n.gN=s,n.wN=r,n.yN=e,n._N=u;var a=Qm(n);Pm(t,a),Hy(My(i()),function(){n.aN=!0,Gm(n)},function(i){n.aN=!0,Nm(t,i)})}function qm(t){t.wN=void 0,t.yN=void 0,t._N=void 0,t.dN=void 0}function zm(t){return t.gN-t.KI}function Gm(t){var n=t.lN;if(!1!==t.aN&&void 0===n.iN)if("erroring"!==n.WI){if(0!==t.Kr.length){var i=t.Kr.peek().value;"close"===i?function(t){var n=t.lN;(function(t){t.eN=t.rN,t.rN=void 0})(n),wm(t);var i=t.yN();qm(t),Hy(i,function(){!function(t){t.eN.ue(void 0),t.eN=void 0,"erroring"===t.WI&&(t.qI=void 0,void 0!==t.uN&&(t.uN.ue(),t.uN=void 0)),t.WI="closed";var n=t.$I;void 0!==n&&ik(n)}(n)},function(t){!function(t,n){t.eN.vi(n),t.eN=void 0,void 0!==t.uN&&(t.uN.vi(n),t.uN=void 0),Nm(t,n)}(n,t)})}(t):function(t,n){var i=t.lN;(function(t){t.iN=t.nN.shift()})(i),Hy(t.wN(n),function(){!function(t){t.iN.ue(void 0),t.iN=void 0}(i);var n=i.WI;if(wm(t),!1===Om(i)&&"writable"===n){var r=Qm(t);Pm(i,r)}Gm(t)},function(n){"writable"===i.WI&&qm(t),function(t,n){t.iN.vi(n),t.iN=void 0,Nm(t,n)}(i,n)})}(t,i.chunk)}}else Dm(n)}function jm(t,n){"writable"===t.lN.WI&&Ym(t,n)}function Qm(t){return zm(t)<=0}function Ym(t,n){var i=t.lN;qm(t),Cm(i,n)}function Zm(t){return new l("WritableStream.prototype."+t+" can only be used on a WritableStream")}function Jm(t){return new l("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function Km(t){return new l("Cannot "+t+" a stream using a released writer")}function $m(t){t.ho=Ly(function(n,i){t.zI=n,t.GI=i,t.fN="pending"})}function tk(t,n){$m(t),nk(t,n)}function nk(t,n){qy(t.ho),t.GI(n),t.zI=void 0,t.GI=void 0,t.fN="rejected"}function ik(t){t.zI(void 0),t.zI=void 0,t.GI=void 0,t.fN="resolved"}function rk(t){t.hN=Ly(function(n,i){t.mN=n,t.kN=i}),t.vN="pending"}function ek(t,n){rk(t),sk(t,n)}function uk(t){rk(t),ok(t)}function sk(t,n){qy(t.hN),t.kN(n),t.mN=void 0,t.kN=void 0,t.vN="rejected"}function ok(t){t.mN(void 0),t.mN=void 0,t.kN=void 0,t.vN="fulfilled"}function ak(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}var ck="undefined"!=typeof DOMException?DOMException:void 0;var hk,fk=function(t){if("function"!=typeof t&&"object"!=typeof t)return!1;try{return new t,!0}catch(t){return!1}}(ck)?ck:((hk=function(t,n){this.message=t||"",this.name=n||"Error",d.captureStackTrace&&d.captureStackTrace(this,this.constructor)}).prototype=_.create(d.prototype),_.defineProperty(hk.prototype,"constructor",{value:hk,writable:!0,configurable:!0}),hk);function vk(t,n,i,r,e,u){var s=rm(t),o=bm(n);t.QI=!0;var a=!1,c=My(void 0);return Ly(function(h,f){var v,d,_,g;if(void 0!==u){if(v=function(){var i=new fk("Aborted","AbortError"),u=[];!1===r&&u.push(function(){return"writable"===n.WI?Rm(n,i):My(void 0)}),!1===e&&u.push(function(){return"readable"===t.WI?ep(t,i):My(void 0)}),k(function(){return Ct.all(u.map(function(t){return t()}))},!0,i)},!0===u.aborted)return void v();u.addEventListener("abort",v)}if(m(t,s.ho,function(t){!1===r?k(function(){return Rm(n,t)},!0,t):p(!0,t)}),m(n,o.ho,function(n){!1===e?k(function(){return ep(t,n)},!0,n):p(!0,n)}),d=t,_=s.ho,g=function(){!1===i?k(function(){return function(t){var n=t.cN,i=n.WI;return!0===Om(n)||"closed"===i?My(void 0):"errored"===i?Uy(n.qI):Mm(t)}(o)}):p()},"closed"===d.WI?g():Vy(_,g),!0===Om(n)||"closed"===n.WI){var w=new l("the destination writable stream closed before all data could be piped to it");!1===e?k(function(){return ep(t,w)},!0,w):p(!0,w)}function y(){var t=c;return Fy(c,function(){return t!==c?y():void 0})}function m(t,n,i){"errored"===t.WI?i(t.qI):Xy(n,i)}function k(t,i,r){function e(){Hy(t(),function(){return A(i,r)},function(t){return A(!0,t)})}!0!==a&&(a=!0,"writable"===n.WI&&!1===Om(n)?Vy(y(),e):e())}function p(t,i){!0!==a&&(a=!0,"writable"===n.WI&&!1===Om(n)?Vy(y(),function(){return A(t,i)}):A(t,i))}function A(t,n){Hm(o),Yy(s),void 0!==u&&u.removeEventListener("abort",v),t?f(n):h(void 0)}qy(Ly(function(t,n){!function i(r){r?t():Fy(!0===a?My(!0):Fy(o.hN,function(){return Fy(vm(s),function(t){return!0===t.done||(c=Fy(Vm(o,t.value),void 0,my),!1)})}),i,n)}(!1)}))})}var dk=function(){function t(){throw new l}return _.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===lk(this))throw Tk("desiredSize");return pk(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===lk(this))throw Tk("close");if(!1===Ak(this))throw new l("The stream is not in a state that permits close");yk(this)},t.prototype.enqueue=function(t){if(!1===lk(this))throw Tk("enqueue");if(!1===Ak(this))throw new l("The stream is not in a state that permits enqueue");return mk(this,t)},t.prototype.error=function(t){if(!1===lk(this))throw Tk("error");kk(this,t)},t.prototype[nm]=function(t){mm(this);var n=this.pN(t);return wk(this),n},t.prototype[im]=function(){var t=this.AN;if(this.Kr.length>0){var n=wm(this);return!0===this.bN&&0===this.Kr.length?(wk(this),up(t)):_k(this),My(Gy(n,!1,t.XI.HI))}var i=em(t);return _k(this),i},t}();function lk(t){return!!Ay(t)&&!!_.prototype.hasOwnProperty.call(t,"AN")}function _k(t){!1!==gk(t)&&(!0!==t.TN?(t.TN=!0,Hy(t.EN(),function(){t.TN=!1,!0===t.SN&&(t.SN=!1,_k(t))},function(n){kk(t,n)})):t.SN=!0)}function gk(t){var n=t.AN;return!1!==Ak(t)&&(!1!==t.aN&&(!0===rp(n)&&sm(n)>0||pk(t)>0))}function wk(t){t.EN=void 0,t.pN=void 0,t.dN=void 0}function yk(t){var n=t.AN;t.bN=!0,0===t.Kr.length&&(wk(t),up(n))}function mk(t,n){var i=t.AN;if(!0===rp(i)&&sm(i)>0)um(i,n,!1);else{var r=void 0;try{r=t.dN(n)}catch(n){throw kk(t,n),n}try{ym(t,n,r)}catch(n){throw kk(t,n),n}}_k(t)}function kk(t,n){var i=t.AN;"readable"===i.WI&&(mm(t),wk(t),sp(i,n))}function pk(t){var n=t.AN.WI;return"errored"===n?null:"closed"===n?0:t.gN-t.KI}function Ak(t){var n=t.AN.WI;return!1===t.bN&&"readable"===n}function bk(t,n,i,r,e,u,s){n.AN=t,n.Kr=void 0,n.KI=void 0,mm(n),n.aN=!1,n.bN=!1,n.SN=!1,n.TN=!1,n.dN=s,n.gN=u,n.EN=r,n.pN=e,t.YI=n,Hy(My(i()),function(){n.aN=!0,_k(n)},function(t){kk(n,t)})}function Tk(t){return new l("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}var Ek=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&g.floor(t)===t},Sk=function(){function t(){throw new l("ReadableStreamBYOBRequest cannot be used directly")}return _.defineProperty(t.prototype,"view",{get:function(){if(!1===Nk(this))throw zk("view");return this.Vp},enumerable:!0,configurable:!0}),t.prototype.respond=function(t){if(!1===Nk(this))throw zk("respond");if(void 0===this.RN)throw new l("This BYOB request has been invalidated");this.Vp.buffer,function(t,n){if(!1===Ty(n=Number(n)))throw new RangeError("bytesWritten must be a finite");Fk(t,n)}(this.RN,t)},t.prototype.respondWithNewView=function(t){if(!1===Nk(this))throw zk("respond");if(void 0===this.RN)throw new l("This BYOB request has been invalidated");if(!ArrayBuffer.isView(t))throw new l("You can only respond with array buffer views");t.buffer,function(t,n){var i=t.IN.peek();if(i.byteOffset+i.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.byteLength!==n.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");i.buffer=n.buffer,Fk(t,n.byteLength)}(this.RN,t)},t}(),Rk=function(){function t(){throw new l("ReadableByteStreamController constructor cannot be used directly")}return _.defineProperty(t.prototype,"byobRequest",{get:function(){if(!1===Ik(this))throw Gk("byobRequest");if(void 0===this.NN&&this.IN.length>0){var t=this.IN.peek(),n=new k(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),i=_.create(Sk.prototype);!function(t,n,i){t.RN=n,t.Vp=i}(i,this,n),this.NN=i}return this.NN},enumerable:!0,configurable:!0}),_.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Ik(this))throw Gk("desiredSize");return Wk(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===Ik(this))throw Gk("close");if(!0===this.bN)throw new l("The stream has already been closed; do not close it again!");var t=this.CN.WI;if("readable"!==t)throw new l("The stream (in "+t+" state) is not in the readable state and cannot be closed");!function(t){var n=t.CN;if(t.KI>0)return void(t.bN=!0);if(t.IN.length>0){var i=t.IN.peek();if(i.bytesFilled>0){var r=new l("Insufficient bytes to fill elements in the given buffer");throw Xk(t,r),r}}Vk(t),up(n)}(this)},t.prototype.enqueue=function(t){if(!1===Ik(this))throw Gk("enqueue");if(!0===this.bN)throw new l("stream is closed or draining");var n=this.CN.WI;if("readable"!==n)throw new l("The stream (in "+n+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(t))throw new l("You can only enqueue array buffer views when using a ReadableByteStreamController");t.buffer,function(t,n){var i=t.CN,r=n.buffer,e=n.byteOffset,u=n.byteLength,s=Ny(r);if(!0===om(i))if(0===sm(i))xk(t,s,e,u);else{var o=new k(s,e,u);um(i,o,!1)}else!0===Yk(i)?(xk(t,s,e,u),Uk(t)):xk(t,s,e,u);Ck(t)}(this,t)},t.prototype.error=function(t){if(!1===Ik(this))throw Gk("error");Xk(this,t)},t.prototype[nm]=function(t){this.IN.length>0&&(this.IN.peek().bytesFilled=0);mm(this);var n=this.pN(t);return Vk(this),n},t.prototype[im]=function(){var t=this.CN;if(this.KI>0){var n=this.Kr.shift();this.KI-=n.byteLength,Lk(this);var i=void 0;try{i=new k(n.buffer,n.byteOffset,n.byteLength)}catch(t){return Uy(t)}return My(Gy(i,!1,t.XI.HI))}var r=this.DN;if(void 0!==r){var e=void 0;try{e=new ArrayBuffer(r)}catch(t){return Uy(t)}var u={buffer:e,byteOffset:0,byteLength:r,bytesFilled:0,elementSize:1,ctor:k,readerType:"default"};this.IN.push(u)}var s=em(t);return Ck(this),s},t}();function Ik(t){return!!Ay(t)&&!!_.prototype.hasOwnProperty.call(t,"CN")}function Nk(t){return!!Ay(t)&&!!_.prototype.hasOwnProperty.call(t,"RN")}function Ck(t){!1!==function(t){var n=t.CN;if("readable"!==n.WI)return!1;if(!0===t.bN)return!1;if(!1===t.aN)return!1;if(!0===om(n)&&sm(n)>0)return!0;if(!0===Yk(n)&&Qk(n)>0)return!0;if(Wk(t)>0)return!0;return!1}(t)&&(!0!==t.TN?(t.TN=!0,Hy(t.EN(),function(){t.TN=!1,!0===t.SN&&(t.SN=!1,Ck(t))},function(n){Xk(t,n)})):t.SN=!0)}function Dk(t,n){var i=!1;"closed"===t.WI&&(i=!0);var r=Ok(n);"default"===n.readerType?um(t,r,i):function(t,n,i){var r=t.XI;r.ON.shift().ue(Gy(n,i,r.HI))}(t,r,i)}function Ok(t){var n=t.bytesFilled,i=t.elementSize;return new t.ctor(t.buffer,t.byteOffset,n/i)}function xk(t,n,i,r){t.Kr.push({buffer:n,byteOffset:i,byteLength:r}),t.KI+=r}function Pk(t,n){var i=n.elementSize,r=n.bytesFilled-n.bytesFilled%i,e=g.min(t.KI,n.byteLength-n.bytesFilled),u=n.bytesFilled+e,s=u-u%i,o=e,a=!1;s>r&&(o=s-n.bytesFilled,a=!0);for(var c,h,f,v,d,l=t.Kr;o>0;){var _=l.peek(),w=g.min(o,_.byteLength),y=n.byteOffset+n.bytesFilled;c=n.buffer,h=y,f=_.buffer,v=_.byteOffset,d=w,new k(c).set(new k(f,v,d),h),_.byteLength===w?l.shift():(_.byteOffset+=w,_.byteLength-=w),t.KI-=w,Bk(t,w,n),o-=w}return a}function Bk(t,n,i){Mk(t),i.bytesFilled+=n}function Lk(t){0===t.KI&&!0===t.bN?(Vk(t),up(t.CN)):Ck(t)}function Mk(t){void 0!==t.NN&&(t.NN.RN=void 0,t.NN.Vp=void 0,t.NN=void 0)}function Uk(t){for(;t.IN.length>0;){if(0===t.KI)return;var n=t.IN.peek();!0===Pk(t,n)&&(Hk(t),Dk(t.CN,n))}}function Fk(t,n){var i=t.IN.peek();if("closed"===t.CN.WI){if(0!==n)throw new l("bytesWritten must be 0 when calling respond() on a closed stream");!function(t,n){n.buffer=Ny(n.buffer);var i=t.CN;if(!0===Yk(i))for(;Qk(i)>0;)Dk(i,Hk(t))}(t,i)}else!function(t,n,i){if(i.bytesFilled+n>i.byteLength)throw new RangeError("bytesWritten out of range");if(Bk(t,n,i),!(i.bytesFilled<i.elementSize)){Hk(t);var r=i.bytesFilled%i.elementSize;if(r>0){var e=i.byteOffset+i.bytesFilled,u=i.buffer.slice(e-r,e);xk(t,u,0,u.byteLength)}i.buffer=Ny(i.buffer),i.bytesFilled-=r,Dk(t.CN,i),Uk(t)}}(t,n,i);Ck(t)}function Hk(t){var n=t.IN.shift();return Mk(t),n}function Vk(t){t.EN=void 0,t.pN=void 0}function Xk(t,n){var i=t.CN;"readable"===i.WI&&(!function(t){Mk(t),t.IN=new zy}(t),mm(t),Vk(t),sp(i,n))}function Wk(t){var n=t.CN.WI;return"errored"===n?null:"closed"===n?0:t.gN-t.KI}function qk(t,n,i){var r=_.create(Rk.prototype);var e=Sy(n,"pull",0,[r]),u=Sy(n,"cancel",1,[]),s=n.autoAllocateChunkSize;if(void 0!==s&&(s=Number(s),!1===Ek(s)||s<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");!function(t,n,i,r,e,u,s){n.CN=t,n.SN=!1,n.TN=!1,n.NN=void 0,n.Kr=n.KI=void 0,mm(n),n.bN=!1,n.aN=!1,n.gN=Cy(u),n.EN=r,n.pN=e,n.DN=s,n.IN=new zy,t.YI=n,Hy(My(i()),function(){n.aN=!0,Ck(n)},function(t){Xk(n,t)})}(t,r,function(){return Ry(n,"start",[r])},e,u,i,s)}function zk(t){return new l("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function Gk(t){return new l("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function jk(t){return Ly(function(n,i){var r={ue:n,vi:i};t.XI.ON.push(r)})}function Qk(t){return t.XI.ON.length}function Yk(t){var n=t.XI;return void 0!==n&&!!Jk(n)}var Zk=function(){function t(t){if(!ip(t))throw new l("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===Ik(t.YI))throw new l("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(rp(t))throw new l("This stream has already been locked for exclusive reading by another reader");jy(this,t),this.ON=new zy}return _.defineProperty(t.prototype,"closed",{get:function(){return Jk(this)?this.ho:Uy(Kk("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return Jk(this)?void 0===this.VI?Uy(Zy("cancel")):Qy(this,t):Uy(Kk("cancel"))},t.prototype.read=function(t){return Jk(this)?void 0===this.VI?Uy(Zy("read from")):ArrayBuffer.isView(t)?(t.buffer,0===t.byteLength?Uy(new l("view must have non-zero byteLength")):function(t,n){var i=t.VI;if(i.QI=!0,"errored"===i.WI)return Uy(i.qI);return function(t,n){var i=t.CN,r=1;n.constructor!==DataView&&(r=n.constructor.BYTES_PER_ELEMENT);var e=n.constructor,u={buffer:Ny(n.buffer),byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:r,ctor:e,readerType:"byob"};if(t.IN.length>0)return t.IN.push(u),jk(i);if("closed"===i.WI)return My(Gy(new e(u.buffer,u.byteOffset,0),!0,i.XI.HI));if(t.KI>0){if(!0===Pk(t,u)){var s=Ok(u);return Lk(t),My(Gy(s,!1,i.XI.HI))}if(!0===t.bN){var o=new l("Insufficient bytes to fill elements in the given buffer");return Xk(t,o),Uy(o)}}t.IN.push(u);var a=jk(i);return Ck(t),a}(i.YI,n)}(this,t)):Uy(new l("view must be an array buffer view")):Uy(Kk("read"))},t.prototype.releaseLock=function(){if(!Jk(this))throw Kk("releaseLock");if(void 0!==this.VI){if(this.ON.length>0)throw new l("Tried to release a reader lock when that reader has pending read() calls un-settled");Yy(this)}},t}();function Jk(t){return!!Ay(t)&&!!_.prototype.hasOwnProperty.call(t,"ON")}function Kk(t){return new l("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}var $k=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),np(this);var i=n.size,r=n.highWaterMark,e=t.type;if("bytes"===String(e)){if(void 0!==i)throw new RangeError("The strategy for a byte stream cannot have a size function");void 0===r&&(r=0),qk(this,t,r=Cy(r))}else{if(void 0!==e)throw new RangeError("Invalid type is specified");var u=Dy(i);void 0===r&&(r=1),function(t,n,i,r){var e=_.create(dk.prototype),u=Sy(n,"pull",0,[e]),s=Sy(n,"cancel",1,[]);bk(t,e,function(){return Ry(n,"start",[e])},u,s,i,r)}(this,t,r=Cy(r),u)}}return _.defineProperty(t.prototype,"locked",{get:function(){if(!1===ip(this))throw op("locked");return rp(this)},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return!1===ip(this)?Uy(op("cancel")):!0===rp(this)?Uy(new l("Cannot cancel a stream that already has a reader")):ep(this,t)},t.prototype.getReader=function(t){var n=(void 0===t?{}:t).mode;if(!1===ip(this))throw op("getReader");if(void 0===n)return rm(this,!0);if("byob"===(n=String(n)))return function(t,n){void 0===n&&(n=!1);var i=new Zk(t);return i.HI=n,i}(this,!0);throw new RangeError("Invalid mode is specified")},t.prototype.pipeThrough=function(t,n){var i=t.writable,r=t.readable,e=void 0===n?{}:n,u=e.preventClose,s=e.preventAbort,o=e.preventCancel,a=e.signal;if(!1===ip(this))throw op("pipeThrough");if(!1===Em(i))throw new l("writable argument to pipeThrough must be a WritableStream");if(!1===ip(r))throw new l("readable argument to pipeThrough must be a ReadableStream");if(u=Boolean(u),s=Boolean(s),o=Boolean(o),void 0!==a&&!ak(a))throw new l("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(!0===rp(this))throw new l("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(!0===Sm(i))throw new l("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return qy(vk(this,i,u,s,o,a)),r},t.prototype.pipeTo=function(t,n){var i=void 0===n?{}:n,r=i.preventClose,e=i.preventAbort,u=i.preventCancel,s=i.signal;return!1===ip(this)?Uy(op("pipeTo")):!1===Em(t)?Uy(new l("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(r=Boolean(r),e=Boolean(e),u=Boolean(u),void 0===s||ak(s)?!0===rp(this)?Uy(new l("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):!0===Sm(t)?Uy(new l("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):vk(this,t,r,e,u,s):Uy(new l("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal")))},t.prototype.tee=function(){if(!1===ip(this))throw op("tee");var t=function(t,n){var i,r,e,u,s,o=rm(t),a=!1,c=!1,h=!1,f=Ly(function(t){s=t});function v(){return!0===a?My(void 0):(a=!0,qy(Wy(vm(o),function(t){if(a=!1,!0===t.done)return!1===c&&yk(e.YI),void(!1===h&&yk(u.YI));var n=t.value,i=n,r=n;!1===c&&mk(e.YI,i),!1===h&&mk(u.YI,r)})),My(void 0))}function d(){}return e=tp(d,v,function(n){if(c=!0,i=n,!0===h){var e=by([i,r]),u=ep(t,e);s(u)}return f}),u=tp(d,v,function(n){if(h=!0,r=n,!0===c){var e=by([i,r]),u=ep(t,e);s(u)}return f}),Xy(o.ho,function(t){kk(e.YI,t),kk(u.YI,t)}),[e,u]}(this);return by(t)},t.prototype.getIterator=function(t){var n=(void 0===t?{}:t).preventCancel,i=void 0!==n&&n;if(!1===ip(this))throw op("getIterator");return function(t,n){void 0===n&&(n=!1);var i=rm(t),r=_.create(lm);return r.ZI=i,r.JI=Boolean(n),r}(this,i)},t}();function tp(t,n,i,r,e){void 0===r&&(r=1),void 0===e&&(e=function(){return 1});var u=_.create($k.prototype);return np(u),bk(u,_.create(dk.prototype),t,n,i,r,e),u}function np(t){t.WI="readable",t.XI=void 0,t.qI=void 0,t.QI=!1}function ip(t){return!!Ay(t)&&!!_.prototype.hasOwnProperty.call(t,"YI")}function rp(t){return void 0!==t.XI}function ep(t,n){return t.QI=!0,"closed"===t.WI?My(void 0):"errored"===t.WI?Uy(t.qI):(up(t),Wy(t.YI[nm](n),my))}function up(t){t.WI="closed";var n=t.XI;void 0!==n&&(fm(n)&&(n.jI.forEach(function(t){t.ue(Gy(void 0,!0,n.HI))}),n.jI=new zy),tm(n))}function sp(t,n){t.WI="errored",t.qI=n;var i=t.XI;void 0!==i&&(fm(i)?(i.jI.forEach(function(t){t.vi(n)}),i.jI=new zy):(i.ON.forEach(function(t){t.vi(n)}),i.ON=new zy),$y(i,n))}function op(t){return new l("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}"symbol"==typeof yy.asyncIterator&&_.defineProperty($k.prototype,yy.asyncIterator,{value:$k.prototype.getIterator,enumerable:!1,writable:!0,configurable:!0});var ap=function(){function t(t){var n=t.highWaterMark;this.highWaterMark=n}return t.prototype.size=function(){return 1},t}(),cp=function(){function t(t,n,i){void 0===t&&(t={}),void 0===n&&(n={}),void 0===i&&(i={});var r=n.size,e=n.highWaterMark,u=i.size,s=i.highWaterMark;if(void 0!==t.writableType)throw new RangeError("Invalid writable type specified");var o=Dy(r);if(void 0===e&&(e=1),e=Cy(e),void 0!==t.readableType)throw new RangeError("Invalid readable type specified");var a,c=Dy(u);void 0===s&&(s=0),s=Cy(s),function(t,n,i,r,e,u){function s(){return n}t.xN=function(t,n,i,r,e,u){void 0===e&&(e=1),void 0===u&&(u=function(){return 1});var s=_.create(Am.prototype);return Tm(s),Wm(s,_.create(Xm.prototype),t,n,i,r,e,u),s}(s,function(n){return function(t,n){var i=t.PN;if(!0===t.sN){var r=t.BN;return Wy(r,function(){var r=t.xN,e=r.WI;if("erroring"===e)throw r.qI;return yp(i,n)})}return yp(i,n)}(t,n)},function(){return function(t){var n=t.LN,i=t.PN,r=i.MN();return gp(i),Wy(r,function(){if("errored"===n.WI)throw n.qI;var t=n.YI;!0===Ak(t)&&yk(t)},function(i){throw fp(t,i),n.qI})}(t)},function(n){return function(t,n){return fp(t,n),My(void 0)}(t,n)},i,r),t.LN=tp(s,function(){return function(t){return dp(t,!1),t.BN}(t)},function(n){return vp(t,n),My(void 0)},e,u),t.sN=void 0,t.BN=void 0,t.UN=void 0,dp(t,!0),t.PN=void 0}(this,Ly(function(t){a=t}),e,o,s,c),function(t,n){var i=_.create(lp.prototype),r=function(t){try{return wp(i,t),My(void 0)}catch(t){return Uy(t)}},e=n.transform;if(void 0!==e){if("function"!=typeof e)throw new l("transform is not a method");r=function(t){return Iy(e,n,[t,i])}}var u=Sy(n,"flush",0,[i]);!function(t,n,i,r){n.FN=t,t.PN=n,n.HN=i,n.MN=r}(t,i,r,u)}(this,t);var h=Ry(t,"start",[this.PN]);a(h)}return _.defineProperty(t.prototype,"readable",{get:function(){if(!1===hp(this))throw kp("readable");return this.LN},enumerable:!0,configurable:!0}),_.defineProperty(t.prototype,"writable",{get:function(){if(!1===hp(this))throw kp("writable");return this.xN},enumerable:!0,configurable:!0}),t}();function hp(t){return!!Ay(t)&&!!_.prototype.hasOwnProperty.call(t,"PN")}function fp(t,n){kk(t.LN.YI,n),vp(t,n)}function vp(t,n){gp(t.PN),jm(t.xN.tN,n),!0===t.sN&&dp(t,!1)}function dp(t,n){void 0!==t.BN&&t.UN(),t.BN=Ly(function(n){t.UN=n}),t.sN=n}var lp=function(){function t(){throw new l("TransformStreamDefaultController instances cannot be created directly")}return _.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===_p(this))throw mp("desiredSize");return pk(this.FN.LN.YI)},enumerable:!0,configurable:!0}),t.prototype.enqueue=function(t){if(!1===_p(this))throw mp("enqueue");wp(this,t)},t.prototype.error=function(t){if(!1===_p(this))throw mp("error");var n;n=t,fp(this.FN,n)},t.prototype.terminate=function(){if(!1===_p(this))throw mp("terminate");!function(t){var n=t.FN,i=n.LN.YI;!0===Ak(i)&&yk(i);var r=new l("TransformStream terminated");vp(n,r)}(this)},t}();function _p(t){return!!Ay(t)&&!!_.prototype.hasOwnProperty.call(t,"FN")}function gp(t){t.HN=void 0,t.MN=void 0}function wp(t,n){var i=t.FN,r=i.LN.YI;if(!1===Ak(r))throw new l("Readable side is not in a state that permits enqueue");try{mk(r,n)}catch(t){throw vp(i,t),i.LN.qI}(function(t){return!0!==gk(t)})(r)!==i.sN&&dp(i,!0)}function yp(t,n){return Wy(t.HN(n),void 0,function(n){throw fp(t.FN,n),n})}function mp(t){return new l("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function kp(t){return new l("TransformStream.prototype."+t+" can only be used on a TransformStream")}var pp,Ap=function(t){function n(n){var i;return(i=t.call(this,""+n.join("\n"),n[0])||this).causes=n,i}return ct(n,t),T(n,[{key:"name",get:function(){return"AggregateError"}}]),n}(lt);function bp(t){return n=[t],new $k({start:function(t){for(var i=0;i<n.length;i++){var r=n[i];t.enqueue(r)}t.close()}});var n}function Tp(t){return bp(new k(t))}function Ep(t,n){var i=n,r=t.getReader(),e=new qr,u=function(){s();var t=new Un;r.cancel(t).catch(j),e.Ks(t)},s=function(){i&&(i.ns(u),i=void 0)};i&&(i.Qu?u():i.ts(u));var o=[];return Ct.resolve(r.read()).then(function t(n){return n.done?(s(),Ct.resolve(o)):(o.push(n.value),Ct.resolve(r.read()).then(t))}).then(function(t){s(),e.Js(t)},function(t){s(),e.Ks(t)}),e.Zs}function Sp(t,n){var i=n,r=new cp,e=r.readable,u=r.writable,s=u.getWriter(),o=function(){i&&i.ss()};return s.closed.then(o,o),t.then(function(t){return i=void 0,s.releaseLock(),t.pipeTo(u).catch(j)},function(t){return i=void 0,s.releaseLock(),u.abort(t).catch(j)}),e}function Rp(t){var n=new cp,i=n.readable,r=n.writable;return t.pipeTo(r,{preventCancel:!0}).catch(function(t){var n;n=U(t)?t[0]===t[1]||Fn(t[0])&&Fn(t[1])?t[0]:new Ap(t):t,r.abort(n).catch(j)}),i.tee()}function Ip(t){return new Ct(function(n,i){t.onload=function(){n(t.result)},t.onerror=function(){i(t.error)}})}function Np(t){var n=new FileReader,i=Ip(n);return n.readAsArrayBuffer(t),i}function Cp(t){var n=new FileReader,i=Ip(n);return n.readAsText(t),i}function Dp(t){return n=t,(new XMLSerializer).serializeToString(n);var n}function Op(t){return function(t,n){var i=(new DOMParser).parseFromString(t,n);if(!i||i.getElementsByTagName("parsererror").length>0)throw new d("Invalid XML");return i}(t,"text/xml")}function xp(t,n,i){return Ep(t,i).then(function(t){return po(t,{type:n})})}!function(t){t[t.Jp=0]="Jp",t[t.VN=1]="VN"}(pp||(pp={}));var Pp="content-type",Bp="text/plain;charset=UTF-8",Lp="application/xml;charset=UTF-8",Mp=function(){function t(){}var n=t.prototype;return n.nT=function(t){return this.UA(t).then(JSON.parse)},n.XN=function(t){return this.UA(t).then(Op)},n.qb=function(t,n){switch(t){case Yd.Yp:return this.gT(n);case Yd.Kp:return this.WN(n);case Yd.pn:return this.XN(n);case Yd.Zp:return this.nT(n);case Yd.Jp:return this.qN();case Yd.yn:return this.UA(n);default:throw new l}},t}();function Up(t,n,i){if(t instanceof Mp)return t;var r,e=(i.get(Pp)||"").toLowerCase();if(t instanceof $k)r={Cu:pp.Jp,qN:t,fS:e};else{var u=Ct.resolve(t).then(function(t){return function(t,n){if(t){if("string"==typeof t)return{Cu:Yd.yn,lA:t,fS:n||Bp};if(t instanceof ArrayBuffer||pi(t))return{Cu:Yd.Yp,lA:Zp(t),fS:n};if(t instanceof Blob)return{Cu:Yd.Kp,lA:t,fS:t.type||n};if(t instanceof Document)return{Cu:Yd.pn,lA:t,fS:n||Lp};if(V(t)||U(t))return{Cu:Yd.Zp,lA:t,fS:n};throw new l("Unsupported BodyInit type")}return{Cu:Yd.yn,lA:null,fS:n}}(t,e)});r={Cu:pp.VN,Zs:u,zN:n}}return new Fp(r)}var Fp=function(t){function n(n){var i;return(i=t.call(this)||this).GN=!1,i.jN=new qr,i.jN.Zs.catch(j),i.QN(n),i}ct(n,t);var i=n.prototype;return i.YN=function(){return this.jN.Zs},i.UA=function(t){return this.ZN(Hp,t)},i.nT=function(t){return this.ZN(Xp,t)},i.WN=function(t){return this.ZN(qp,t)},i.gT=function(t){return this.ZN(Gp,t)},i.qN=function(){return this.JN((t=this.KN).Cu===pp.Jp?t.qN:Sp(t.Zs.then(jp).then(Tp),t.zN));var t},i.XN=function(t){return this.ZN(Qp,t)},i.ZN=function(t,n){if(this.GN)return Ct.reject(new l("Already used"));this.GN=!0;var i=t(this.KN,n);return this.jN.Js(i.then(j)),i},i.JN=function(t){if(this.GN)throw new l("Already used");if(t.locked)throw new l("Body stream is locked");this.GN=!0;var n=new cp,i=Ct.resolve(t.pipeTo(n.writable));return this.jN.Js(i),n.readable},i.QN=function(t){this.KN=t,t.Cu===pp.VN&&t.Zs.catch(j)},i.$N=function(){if(this.GN)throw new l("Already used");var t=function(t){if(t.Cu===pp.Jp){var n=t.qN.tee(),i=n[0],r=n[1];return[{Cu:t.Cu,qN:i,fS:t.fS},{Cu:t.Cu,qN:r,fS:t.fS}]}var e=t.zN.as(),u=e[0],s=e[1];return[{Cu:t.Cu,Zs:t.Zs,zN:u},{Cu:t.Cu,Zs:t.Zs,zN:s}]}(this.KN),i=t[0],r=t[1];return this.QN(i),new n(r)},T(n,[{key:"tC",get:function(){return this.GN}}]),n}(Mp);function Hp(t,n){return t.Cu===pp.Jp?xp(t.qN,t.fS,n).then(Cp):(n&&t.zN.os(n),qn(t.Zs.then(Vp),t.zN))}function Vp(t){switch(t.Cu){case Yd.yn:return Ct.resolve(t.lA||"");case Yd.Yp:return n=t.lA,Cp(po([n]));case Yd.Kp:return Cp(t.lA);case Yd.pn:return Ct.resolve(t.lA).then(Dp);case Yd.Zp:return Ct.resolve(t.lA).then(JSON.stringify)}var n}function Xp(t,n){return t.Cu===pp.Jp?Hp(t,n).then(JSON.parse):(n&&t.zN.os(n),qn(t.Zs.then(Wp),t.zN))}function Wp(t){return t.Cu===Yd.Zp?Ct.resolve(t.lA):Vp(t).then(JSON.parse)}function qp(t,n){return t.Cu===pp.Jp?xp(t.qN,t.fS,n):(n&&t.zN.os(n),qn(t.Zs.then(zp),t.zN))}function zp(t){return t.Cu===Yd.Kp?Ct.resolve(t.lA):t.Cu===Yd.Yp?Ct.resolve(po([t.lA],{type:t.fS})):Vp(t).then(function(n){return po([n],{type:t.fS})})}function Gp(t,n){return t.Cu===pp.Jp?function(t,n){return Ep(t,n).then(function(t){return bi(t).buffer})}(t.qN,n):(n&&t.zN.os(n),qn(t.Zs.then(jp),t.zN))}function jp(t){return t.Cu===Yd.Yp?Ct.resolve(t.lA):zp(t).then(Np)}function Qp(t,n){return t.Cu===pp.Jp?Hp(t,n).then(Op):(n&&t.zN.os(n),qn(t.Zs.then(Yp),t.zN))}function Yp(t){return t.Cu===Yd.pn?Ct.resolve(t.lA):Vp(t).then(Op)}function Zp(t){return t instanceof ArrayBuffer?t:Vr(Mr(t)).buffer}function Jp(t){return t.DA>=200&&t.DA<=299||304===t.DA}var Kp=function(t){function n(n,i){var r,e,u,s,o,a;i?(e=i._A,u=i.wA,s=i.DA,o=i.iT,a=i.nC):(e=[],u=Yd.yn,s=200,o="OK",a=!1);var c=n.IA,h=new rl(n._A||e),f=n.wA||u,v=n.CA||(i&&i.IA===c?i.CA:c.dA),d=Up(void 0!==n.Qn?n.Qn:i?i.iC:null,n.zN||new Mn,h);return(r=t.call(this,d)||this)._A=h,r.IA=c,r.CA=v,r.wA=f,r.DA=void 0!==n.DA?n.DA:s,r.iT=void 0!==n.iT?String(n.iT):o,r.nC=n.nC||a,r}ct(n,t);var i=n.prototype;return i.Qn=function(t){return this.qb(this.wA,t)},i.qs=function(){return new n({Qn:this.$N(),IA:this.IA},this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).iC=n,i}ct(n,t);var i=n.prototype;return i.YN=function(){return this.iC.YN()},i.UA=function(t){return this.iC.UA(t)},i.nT=function(t){return this.iC.nT(t)},i.WN=function(t){return this.iC.WN(t)},i.gT=function(t){return this.iC.gT(t)},i.XN=function(t){return this.iC.XN(t)},i.qN=function(){return this.iC.qN()},i.$N=function(){return this.iC.$N()},T(n,[{key:"tC",get:function(){return this.iC.tC}}]),n}(Mp)),$p=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).rC=n,e}return ct(n,t),T(n,[{key:"IA",get:function(){return this.rC}}]),n}(lt);var tA=function(t){function n(n,i){return t.call(this,n,"Error while opening "+n.dA+". Invalid URL.",i)||this}return ct(n,t),T(n,[{key:"name",get:function(){return sl.bA}}]),n}($p);var nA=function(t){function n(n,i){var r;return(r=t.call(this,n.IA,function(t){return"Error while loading "+t.IA.dA+", status code "+t.DA}(n),i)||this).eC=n,r}return ct(n,t),T(n,[{key:"name",get:function(){return sl.TA}},{key:"NA",get:function(){return this.eC}}]),n}($p);var iA=function(t){function n(n,i){return t.call(this,n,function(t){return"Request for "+t.dA+" timed out after "+t.yA+" seconds."}(n),i)||this}return ct(n,t),T(n,[{key:"name",get:function(){return sl.EA}}]),n}($p),rA=function(t,n){return(rA=_.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])})(t,n)};function eA(t,n){function i(){this.constructor=t}rA(t,n),t.prototype=null===n?_.create(n):(i.prototype=n.prototype,new i)}var uA="object"==typeof u?u:"object"==typeof t?t:"object"==typeof global?global:null;var sA=function(){var t=uA.Blob;if(t)try{return new t,function(t,n){return new uA.Blob(t,n)}}catch(t){}var n,i=uA.BlobBuilder||uA.WebKitBlobBuilder||uA.MozBlobBuilder||uA.MSBlobBuilder;return i?(n=i,function(t,i){var r=new n;if(t)for(var e=0,u=t;e<u.length;e++){var s=u[e];r.append(s)}return r.getBlob(i&&i.type||"")}):null}(),oA="function"==typeof $k?$k:void 0;function aA(t){return t&&"function"==typeof t.getReader}function cA(t){if("function"!=typeof t)return!1;try{var n=!1,i=new t({start:function(){n=!0}});return!!n&&aA(i)}catch(t){return!1}}var hA=function(){function t(t,n){this.XI=t,this.uC=n}return t.prototype.pull=function(t){var n=this;return this.XI.read().then(function(i){n.uC&&n.uC(i),i.done?t.close():t.enqueue(i.value)})},t.prototype.cancel=function(t){return this.XI.cancel(t)},t}();function fA(t,n){return n.constructor===t?n:new t(new hA(n.getReader()),{highWaterMark:0})}var vA=function(){function t(t,n){this.sC=t,this.Li=n}return t.prototype.pull=function(t){return this.sC().then(function(n){t.enqueue(new k(n)),t.close()})},t.prototype.cancel=function(t){this.Li&&this.Li(t)},t}();function dA(t,n,i){return new t(new vA(n,i),{highWaterMark:0})}var lA={searchParams:"URLSearchParams"in uA,iterable:"Symbol"in uA&&"iterator"in Symbol,blob:"FileReader"in uA&&!!sA,formData:"FormData"in uA,arrayBuffer:"ArrayBuffer"in uA,stream:cA(oA),streamRequest:"Request"in uA&&"body"in uA.Request.prototype,streamResponse:"Response"in uA&&"body"in uA.Response.prototype,abort:"AbortController"in uA&&"Request"in uA&&"signal"in uA.Request.prototype,encoding:"TextEncoder"in uA&&"TextDecoder"in uA,url:"URL"in uA&&function(t){try{return new uA.URL(t).toString()===t}catch(t){return!1}}("http://example.com/"),firefox:"navigator"in uA&&/Firefox\//.test(uA.navigator.userAgent)};function _A(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new l("Invalid character in header field name");return t}function gA(t){return"string"!=typeof t&&(t=String(t)),t}function wA(t){var n={next:function(){var n=t.shift();return{done:void 0===n,value:n}}};return lA.iterable&&(n[Symbol.iterator]=function(){return n}),n}var yA=function(){function t(n){var i,r=this;this.Tu={},n instanceof t?n.asList().forEach(function(t){var n=t[0],i=t[1];r.append(n,i)}):Array.isArray(n)?n.forEach(function(t){r.append(t[0],t[1])}):(i=n,lA.iterable&&i&&i[Symbol.iterator]?Array.from(n).forEach(function(t){r.append(t[0],t[1])}):n&&_.getOwnPropertyNames(n).forEach(function(t){r.append(t,n[t])}))}return t.prototype.append=function(t,n){t=_A(t),n=gA(n);var i=t.toLowerCase();if(this.Tu.hasOwnProperty(i)){var r=this.Tu[i],e=r[1];r[1]=e?e+", "+n:n}else this.Tu[i]=[t,n]},t.prototype.delete=function(t){var n=_A(t).toLowerCase();delete this.Tu[n]},t.prototype.get=function(t){var n=_A(t).toLowerCase();return this.Tu.hasOwnProperty(n)?this.Tu[n][1]:null},t.prototype.has=function(t){var n=_A(t).toLowerCase();return this.Tu.hasOwnProperty(n)},t.prototype.set=function(t,n){var i=(t=_A(t)).toLowerCase();this.Tu[i]=[t,gA(n)]},t.prototype.forEach=function(t,n){for(var i in this.Tu)this.Tu.hasOwnProperty(i)&&t.call(n,this.Tu[i][1],i,this)},t.prototype.keys=function(){var t=[];return this.forEach(function(n,i){t.push(i)}),wA(t)},t.prototype.values=function(){var t=[];return this.forEach(function(n){t.push(n)}),wA(t)},t.prototype.entries=function(){var t=[];return this.forEach(function(n,i){t.push([i,n])}),wA(t)},t.prototype.asList=function(){var t=[];for(var n in this.Tu)if(this.Tu.hasOwnProperty(n)){var i=this.Tu[n],r=i[0],e=i[1];t.push([r,e])}return t},t}();function mA(){}lA.iterable&&(yA.prototype[Symbol.iterator]=yA.prototype.entries);var kA,pA,AA,bA=g.min,TA=String.fromCharCode,EA=16384;function SA(t){for(var n=[],i=0,r=t;i<r.length;i++){var e=r[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return function(t){for(var n=t.length,i=[],r=0;r<n;r+=EA){var e=bA(r+EA,n);i.push(TA.apply(null,t.slice(r,e)))}return i.join("")}(n)}function RA(t){if(t>=55296&&t<=57343)throw new d("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function IA(t,n){return t>>n&63|128}function NA(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(RA(t),n.push(t>>12&15|224),n.push(IA(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(IA(t,12)),n.push(IA(t,6))),n.push(63&t|128)):n.push(t)}function CA(){if(AA>=pA)throw new d("Invalid byte index");var t=255&kA[AA];if(AA++,128==(192&t))return 63&t;throw new d("Invalid continuation byte")}function DA(){var t,n;if(AA>pA)throw new d("Invalid byte index");if(AA===pA)return!1;if(t=255&kA[AA],AA++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|CA())>=128)return n;throw new d("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|CA()<<6|CA())>=2048)return RA(n),n;throw new d("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|CA()<<12|CA()<<6|CA())>=65536&&n<=1114111)return n;throw new d("Invalid UTF-8 detected")}var OA=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];function xA(t){return t&&URLSearchParams.prototype.isPrototypeOf(t)}function PA(t){return t&&ArrayBuffer.prototype.isPrototypeOf(t)}function BA(t){return t&&DataView.prototype.isPrototypeOf(t)}var LA,MA=ArrayBuffer.isView||function(t){return t&&(OA.indexOf(_.prototype.toString.call(t))>-1||BA(t))};function UA(t){if(t.bodyUsed)return Ct.reject(new l("Already used"));t.bodyUsed=!0}function FA(t){return new Ct(function(n,i){t.onload=function(){n(t.result)},t.onerror=function(){i(t.error)}})}function HA(t){return lA.encoding?new uA.TextDecoder("utf-8").decode(new k(t)):SA(function(t){pA=(kA=t).length,AA=0;for(var n,i=[];!1!==(n=DA());)i.push(n);return i}(new k(t)))}function VA(t){return lA.encoding?(new uA.TextEncoder).encode(t).buffer:new k(function(t){for(var n=[],i=0,r=t;i<r.length;i++)NA(r[i],n);return n}(function(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&e)<<10)+(1023&u)+65536):(n.push(e),i--)}else n.push(e)}return n}(t))).buffer}function XA(t){var n=t.getReader(),i=[],r=function(t){var e=t.done,u=t.value;return e?Ct.resolve(i):(i.push(u),n.read().then(r))};return n.read().then(r)}function WA(t){return XA(t).then(function(t){return function(t){for(var n=0,i=0,r=t;i<r.length;i++)n+=(a=r[i]).byteLength;for(var e=new k(n),u=0,s=0,o=t;s<o.length;s++){var a=o[s];e.set(a,u),u+=a.byteLength}return e}(t).buffer})}function qA(t){return t.slice?t.slice(0):zA(new k(t))}function zA(t){if(t.slice)return t.slice(0).buffer;var n=new k(t.byteLength);return n.set(new k(t.buffer,t.byteOffset,t.byteLength)),n.buffer}function GA(t){var n=new FormData;return t.trim().split("&").forEach(function(t){if(t){var i=t.split("="),r=i.shift().replace(/\+/g," "),e=i.join("=").replace(/\+/g," ");n.append(decodeURIComponent(r),decodeURIComponent(e))}}),n}function jA(t){var n=t;if(n.bodyUsed)throw new l("Already used");if(n.oC===LA.aC){if(!n.cC.tee)throw new d("could not clone ReadableStream body");var i=n.cC.tee(),r=i[0],e=i[1];return n.body=r,n.cC=r,n.hC=r,e}return n.oC===LA.Yp?qA(n.cC):n.oC===LA.VN?n.cC.then(jA):n.hC}!function(t){t[t.yn=0]="yn",t[t.Kp=1]="Kp",t[t.fC=2]="fC",t[t.Yp=3]="Yp",t[t.aC=4]="aC",t[t.VN=5]="VN"}(LA||(LA={}));var QA=function(){function t(n,i){this.bodyUsed=!1;var r,e,u,s=this;if(this.hC=n||null,n)if("string"==typeof n)this.oC=LA.yn,this.cC=n;else if((u=n)&&"function"==typeof u.then)this.oC=LA.VN,this.cC=Ct.resolve(n).then(function(n){return new t(n,i)}),this.cC.catch(mA);else if(lA.blob&&function(t){return t&&Blob.prototype.isPrototypeOf(t)}(n))this.oC=LA.Kp,this.cC=n;else if(lA.formData&&function(t){return t&&FormData.prototype.isPrototypeOf(t)}(n))this.oC=LA.fC,this.cC=n;else if(lA.searchParams&&xA(n))this.oC=LA.yn,this.cC=n.toString();else if(lA.arrayBuffer&&(PA(n)||MA(n)))BA(n)&&(this.hC=new k((e=n).buffer,e.byteOffset,e.byteLength)),this.oC=LA.Yp,this.cC=PA(r=n)?qA(r):zA(r);else{if(!lA.stream||!aA(n))throw new d("unsupported BodyInit type");n=fA(oA,n),this.oC=LA.aC,this.cC=n,this.hC=n}else this.oC=LA.yn,this.cC="";this.vC="",i.has("content-type")?this.vC=(i.get("content-type")||"").toLowerCase():("string"==typeof n?this.vC="text/plain;charset=UTF-8":s.oC===LA.Kp&&s.cC.type?this.vC=s.cC.type:lA.searchParams&&xA(n)&&(this.vC="application/x-www-form-urlencoded;charset=UTF-8"),this.vC&&i.set("content-type",this.vC)),lA.stream&&(null==n?this.body=null:s.oC===LA.aC?this.body=s.cC:this.body=dA(oA,function(){return s.arrayBuffer()},function(){s.bodyUsed=!0}))}return t.prototype.text=function(){var t,n,i,r=UA(this);return r||(this.oC===LA.Kp?(t=this.cC,n=new FileReader,i=FA(n),n.readAsText(t),i):this.oC===LA.Yp?Ct.resolve(this.cC).then(HA):this.oC===LA.aC?WA(this.cC).then(HA):this.oC===LA.VN?this.cC.then(function(t){return t.text()}):this.oC===LA.fC?Ct.reject(new d("could not read FormData body as text")):Ct.resolve(this.cC))},t.prototype.json=function(){return this.text().then(JSON.parse)},t}();lA.blob&&(QA.prototype.blob=function(){var t,n,i=UA(this);return i||(this.oC===LA.Kp?Ct.resolve(this.cC):this.oC===LA.Yp?Ct.resolve(sA([this.cC],{type:this.vC})):this.oC===LA.aC?(t=this.cC,n=this.vC,XA(t).then(function(t){return sA(t,{type:n||""})})):this.oC===LA.VN?this.cC.then(function(t){return t.blob()}):this.oC===LA.fC?Ct.reject(new d("could not read FormData body as Blob")):Ct.resolve(sA([this.cC],{type:this.vC})))}),lA.arrayBuffer&&(QA.prototype.arrayBuffer=function(){var t,n,i;return this.oC===LA.Yp?UA(this)||Ct.resolve(this.cC):this.oC===LA.Kp?UA(this)||(t=this.cC,n=new FileReader,i=FA(n),n.readAsArrayBuffer(t),i):this.oC===LA.aC?WA(this.cC):this.oC===LA.VN?UA(this)||this.cC.then(function(t){return t.arrayBuffer()}):this.oC===LA.fC?Ct.reject(new d("could not read FormData body as ArrayBuffer")):Ct.resolve(this.cC).then(VA)}),lA.formData&&(QA.prototype.formData=function(){return this.oC===LA.fC?UA(this)||Ct.resolve(this.cC):this.text().then(GA)});var YA=[301,302,303,307,308],ZA=function(t){function n(n,i){var r=this,e=new yA((i=i||{}).headers);return(r=t.call(this,n||null,e)||this).type="default",r.status=void 0===i.status?200:i.status,r.ok=r.status>=200&&r.status<300,r.statusText=void 0!==i.statusText?String(i.statusText):"",r.headers=e,r.url=i.url||"",r}return eA(n,t),n.prototype.clone=function(){return new n(jA(this),{status:this.status,statusText:this.statusText,headers:new yA(this.headers),url:this.url})},n.error=function(){var t=new n(null,{status:0,statusText:""});return t.type="error",t},n.redirect=function(t,i){if(-1===YA.indexOf(i))throw new RangeError("Invalid status code");return new n(null,{status:i,headers:{location:t}})},n}(QA);var JA,KA=function(t,n){return t(n={exports:{}},n.exports),n.exports}(function(t,n){function i(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}function r(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),_.defineProperty(t,r.key,r)}}function e(t,n,i){return n&&r(t.prototype,n),i&&r(t,i),t}function u(t){return(u=_.setPrototypeOf?_.getPrototypeOf:function(t){return t.__proto__||_.getPrototypeOf(t)})(t)}function o(t,n){return(o=_.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t,n,i){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,i){var r=function(t,n){for(;!_.prototype.hasOwnProperty.call(t,n)&&null!==(t=u(t)););return t}(t,n);if(r){var e=_.getOwnPropertyDescriptor(r,n);return e.get?e.get.call(i):e.value}})(t,n,i||t)}_.defineProperty(n,"__esModule",{value:!0});var f=function(){function t(){i(this,t),_.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return e(t,[{key:"addEventListener",value:function(t,n){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(n)}},{key:"removeEventListener",value:function(t,n){if(t in this.listeners)for(var i=this.listeners[t],r=0,e=i.length;r<e;r++)if(i[r]===n)return void i.splice(r,1)}},{key:"dispatchEvent",value:function(t){var n=this;if(t.type in this.listeners){for(var i=function(i){c(function(){return i.call(n,t)})},r=this.listeners[t.type],e=0,u=r.length;e<u;e++)i(r[e]);return!t.defaultPrevented}}}]),t}(),v=function(t){function n(){var t,r,e;return i(this,n),r=this,(t=!(e=u(n).call(this))||"object"!=typeof e&&"function"!=typeof e?a(r):e).listeners||f.call(a(t)),_.defineProperty(a(t),"aborted",{value:!1,writable:!0,configurable:!0}),_.defineProperty(a(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new l("Super expression must either be null or a function");t.prototype=_.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&o(t,n)}(n,f),e(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),h(u(n.prototype),"dispatchEvent",this).call(this,t)}}]),n}(),d=function(){function t(){i(this,t),_.defineProperty(this,"signal",{value:new v,writable:!0,configurable:!0})}return e(t,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(n){void 0!==s?s.createEvent?(t=s.createEvent("Event")).initEvent("abort",!1,!1):(t=s.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(d.prototype[Symbol.toStringTag]="AbortController",v.prototype[Symbol.toStringTag]="AbortSignal"),n.AbortSignal=v,n.AbortController=d,n.default=d});(JA=KA)&&JA.__esModule&&_.prototype.hasOwnProperty.call(JA,"default")&&JA.default;KA.AbortSignal;var $A=KA.AbortController,tb=uA.DOMException;try{new tb}catch(t){(tb=function(t,n){d.call(this,t),this.name=n||"Error",d.captureStackTrace&&d.captureStackTrace(this,this.constructor)}).prototype=_.create(d.prototype),tb.prototype.constructor=tb}var nb=$A;var ib,rb="moz-chunked-arraybuffer";function eb(t){try{var n=new A;return n.open("GET","https://test"),n.responseType=t,n.responseType===t}catch(t){}return!1}!function(t){t[t.UNSENT=0]="UNSENT",t[t.OPENED=1]="OPENED",t[t.HEADERS_RECEIVED=2]="HEADERS_RECEIVED",t[t.LOADING=3]="LOADING",t[t.DONE=4]="DONE"}(ib||(ib={}));var ub=function(){function t(t,n){var i=this;this.dC=!1,this.rC=t,this.lC=n,this._C=new A,this.gC=new Ct(function(t,n){i.wC=t,i.yC=n})}return t.prototype.send=function(){var t=this;return this.mC().then(function(n){return t.kC(n,t.lC),t.gC})},t.prototype.mC=function(){var t=this.rC;return t.oC===LA.aC?t.arrayBuffer():Ct.resolve(t.hC)},t.prototype.pC=function(t){this.rC.onprogress&&this.rC.onprogress(t.loaded,t.lengthComputable?t.total:void 0)},t.prototype.AC=function(t){this.yC(t)},t.prototype.bC=function(){this.AC(new l("Network request failed"))},t.prototype.TC=function(){this.AC(new l("Network request failed"))},t.prototype.EC=function(){this.AC(new tb("Aborted","AbortError"))},t.prototype.kC=function(t,n){var i=this,r=this.rC,e=this._C,u=function(){return i.SC()};if(r.signal.aborted)return this.EC();e.onreadystatechange=function(){if(e.readyState>=ib.HEADERS_RECEIVED&&!i.dC){var t=function(t){var n=new yA;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var i=t.split(":"),r=i.shift().trim();if(r){var e=i.join(":").trim();n.append(r,e)}}),n}(e.getAllResponseHeaders()||""),n={status:e.status,statusText:e.statusText,headers:t,url:e.responseURL||t.get("X-Request-URL")};i.dC=!0,i.RC(n)}},e.onprogress=function(t){return i.pC(t)},e.onload=function(){return i.IC()},e.onerror=function(){return i.bC()},e.ontimeout=function(){return i.TC()},e.onabort=function(){return i.EC()},e.open(r.method,r.url,!0),e.withCredentials="include"===r.credentials,"responseType"in e&&n&&(e.responseType=n),r.headers.asList().forEach(function(t){var n=t[0],i=t[1];e.setRequestHeader(n,i)}),r.signal.addEventListener("abort",u),e.onloadend=function(){r.signal.removeEventListener("abort",u)},t?e.send(t):e.send()},t.prototype.SC=function(){this._C.abort()},t}(),sb=function(t){function n(n,i){var r=t.call(this,n,i)||this;return r.NC=void 0,r.DC=void 0,r}return eA(n,t),n.prototype.RC=function(t){var n=this;this.NC=new Ct(function(t,i){n.DC=t,n.OC=i}),this.wC(new ZA(this.NC,t))},n.prototype.IC=function(){var t=this._C.response||this._C.responseText;this.DC(t)},n.prototype.AC=function(n){t.prototype.AC.call(this,n),this.OC&&this.OC(n)},n}(ub),ob=function(t){function n(n){var i=t.call(this,n,rb)||this;return i.xC=void 0,i.BC=void 0,i.LC=!1,i}return eA(n,t),n.prototype.RC=function(t){var n=this;this.xC=new oA({start:function(t){n.BC=t},cancel:function(){n.LC=!0,n.SC()}}),this.wC(new ZA(this.xC,t))},n.prototype.pC=function(n){this.LC||this.BC.enqueue(new k(this._C.response)),t.prototype.pC.call(this,n)},n.prototype.IC=function(){this.BC.close()},n.prototype.AC=function(n){t.prototype.AC.call(this,n),this.BC&&!this.LC&&(this.LC=!0,this.BC.error(n))},n}(ub),ab=function(){var t=lA.firefox&&eb(rb);return ab=function(){return t},t},cb=function(){var t;return t=lA.arrayBuffer&&eb("arraybuffer")?"arraybuffer":lA.blob&&eb("blob")?"blob":"",cb=function(){return t},t};function hb(t){return(lA.stream&&ab()?new ob(t):new sb(t,cb())).send()}var fb=uA.fetch,vb=uA.Request,db=(uA.Response,uA.AbortController);var lb=["http:","https:"];var _b=function(){try{if(lA.streamRequest){var t=new vb("about:blank",{body:"",method:"POST"}).body;if(t&&cA(t.constructor))return t.constructor}}catch(t){}}();function gb(t,n,i){var r;if(lA.stream){var e=void 0;if(lA.streamResponse){var u=t.body;e=u&&fA(oA,u)}else e=dA(oA,function(){return t.arrayBuffer()},function(){n.abort()});e&&i&&(e=function(t,n,i){var r=0;return function(t,n,i){return new t(new hA(n.getReader(),i),{highWaterMark:0})}(oA,t,function(t){var e=t.done,u=t.value;e?i=void 0===i?r:i:r+=u.byteLength,n(r,i)})}(e,i,wb(t.headers))),r=e}else{var s=t.arrayBuffer();i&&(s=function(t,n,i){return Ct.resolve().then(function(){return n(0,i),t}).then(function(t){var r=t.byteLength;return n(r,i=void 0===i?r:i),t})}(s,i,wb(t.headers))),r=s}return new ZA(r,t)}function wb(t){return t.has("content-length")?Number(t.get("content-length")):void 0}function yb(t){var n=new db;return function(t,n){var i,r=t;return i=r.oC===LA.aC?lA.streamRequest&&_b?Ct.resolve(fA(_b,r.cC)):t.arrayBuffer():Ct.resolve(t.hC),t.signal&&function(t,n){if(!t.signal.aborted)if(n.aborted)t.abort();else{var i=function(){n.removeEventListener("abort",i),t.signal.removeEventListener("abort",i),t.abort()};n.addEventListener("abort",i),t.signal.addEventListener("abort",i)}}(n,t.signal),i.then(function(i){return new vb(t.url,{body:i||void 0,credentials:t.credentials,headers:(r=t.headers,(r instanceof yA?r:new yA(r)).asList()),method:t.method,mode:t.mode,referrer:t.referrer,referrerPolicy:t.referrerPolicy,signal:n.signal});var r})}(t,n).then(fb).then(function(i){return gb(i,n,t.onprogress)})}var mb=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];var kb=function(t){function n(i,r){var e,u,s,o,a,c,h,f,v,d=this,_=(r=r||{}).body||null;if(i instanceof n){if(i.bodyUsed)throw new l("Already used");e=i.url,u=i.credentials,r.headers||(s=new yA(i.headers)),o=i.method,a=i.mode,c=i.referrer,h=i.referrerPolicy,f=i.signal,v=i.onprogress,_||null==i.hC||(_=i.hC,i.bodyUsed=!0)}else e=String(i),u="same-origin",o="GET",a="cors",c="about:client",h="",f=null,v=null;if(!r.headers&&s||(s=new yA(r.headers)),r&&(c="about:client",h=""),(d=t.call(this,_,s)||this).url=e,d.headers=s,d.credentials=r.credentials||u,d.method=function(t){var n=t.toUpperCase();return mb.indexOf(n)>-1?n:t}(r.method||o),d.mode=r.mode||a,d.signal=r.signal||f||(new nb).signal,d.referrer=void 0!==r.referrer?r.referrer:c,d.referrerPolicy=void 0!==r.referrerPolicy?r.referrerPolicy:h,d.onprogress=r.onprogress||v,("GET"===d.method||"HEAD"===d.method)&&_)throw new l("Body not allowed for GET or HEAD requests");return d}return eA(n,t),n.prototype.clone=function(){return new n(this,{body:jA(this)})},n}(QA),pb="function"==typeof fb&&lA.abort&&lA.stream&&lA.streamResponse&&lA.url;function Ab(t,n){return new Ct(function(i){var r=new kb(t,n);i((pb&&function(t){try{return lb.indexOf(new uA.URL(t,uA.location.href).protocol)>=0}catch(t){return!1}}(r.url)?yb:hb)(r))})}Ab.polyfill=!0;var bb=function(){function t(t){this.qA=new Mn,this.eC=void 0,this.MC=!1,this.rC=t,this.qA.os(t.cs),this.NA=this.UC()}var n=t.prototype;return n.UC=function(){var t=Ct.coroutine(Nt.mark(function t(){var n,i,e,u,s,o,a,h,f=this;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:(n=this.rC).yA&&c(function(){f.MC=!0,f.qA.ss()},n.yA),t.prev=2,i=Ab(n.dA,{method:n.gA,headers:n._A.$p(),body:n.lA,credentials:n.pA?"include":"same-origin",signal:Sb(this.qA.cs),onprogress:n.AA}),t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(2),new tA(n,t.t0);case 9:return t.prev=9,t.next=12,i;case 12:e=t.sent,t.next=20;break;case 15:throw t.prev=15,t.t1=t.catch(9),Fn(u=this.FC(t.t1))&&this.qA.ss(),u;case 20:if(s=e.url||n.dA,o=0===e.status&&"file:"===(v=s,r.Oa(v).protocol)?200:e.status,a=new Tb(this,e,this.qA),h=new Kp({Qn:a,IA:n,wA:n.wA,_A:new rl(e.headers.asList()),DA:o,iT:e.statusText,CA:s}),this.eC=h,!Jp(h)){t.next=29;break}return t.abrupt("return",h);case 29:throw new nA(h);case 30:case"end":return t.stop()}var v},t,this,[[2,6],[9,15]])}));return function(){return t.apply(this,arguments)}}(),n.FC=function(t){return Fn(t)?this.MC?new iA(this.rC):new Un(t.message,t):this.eC?new nA(this.eC,t):new tA(this.rC,t)},t}(),Tb=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).jN=new qr,e.pr=n,e.HC=i,e.qA=r,e.jN.Zs.catch(j),e}ct(n,t);var i=n.prototype;return i.YN=function(){return this.jN.Zs},i.UA=function(t){return this.ZN(this.HC.text(),t)},i.gT=function(t){return this.ZN(this.HC.arrayBuffer(),t)},i.WN=function(t){return this.ZN(this.HC.blob(),t)},i.qN=function(){var t=this.HC.body;return t?this.JN(t):Sp(this.gT().then(Tp),this.qA)},i.$N=function(){var t=this.HC.clone(),i=this.qA.as(),r=i[0],e=i[1];return this.qA=r,new n(this.pr,t,e)},i.ZN=function(t,n){var i=this;n&&this.qA.os(n);var r=Ct.resolve(t).catch(function(t){throw i.pr.FC(t)});return r=qn(r,this.qA),this.jN.Js(r.then(j)),r},i.JN=function(t){var n=this,i=new cp,r=Ct.resolve(t.pipeTo(i.writable,{preventAbort:!0})).catch(function(t){var r=n.pr.FC(t);throw i.writable.abort(r).catch(j),r});return r=qn(r,this.qA),this.jN.Js(r.then(j)),i.readable},T(n,[{key:"tC",get:function(){return this.HC.bodyUsed}}]),n}(Mp),Eb="abort";function Sb(t){var n=new nb;if(t.Qu)n.abort();else if(!t.Yu){var i=function(){r(),n.abort()},r=function r(){n.signal.removeEventListener(Eb,i),t.ns(i),t.ns(r)};n.signal.addEventListener(Eb,i),t.ts(i),t.rs(r)}return n.signal}var Rb=function(){function t(){}var n=t.prototype;return n.IA=function(t){return new bb(t).NA},n.DI=function(t){if(qt&&qt.sendBeacon)qt.sendBeacon(t.dA,po([t.lA],{type:t.fS}));else{var n=t.fS?{"Content-type":t.fS}:void 0;Qn(this.IA(new vy({gA:$d.POST,dA:t.dA,lA:t.lA,_A:n})))}},n.Dh=function(){},t}(),Ib=function(){function t(){}var n=t.prototype;return n.IA=function(t){var n=function(t){return new Kp({Qn:null,_A:{},IA:t,CA:t.dA,wA:t.wA,DA:0,iT:pa.Mf})}(new vy(t));return Ct.resolve(n)},n.DI=function(t){},n.Dh=function(){},t}();function Nb(t){var n;return{get url(){return t.dA},get method(){return t.gA},get headers(){return n||(n=t._A.$p()),n},get body(){return t.lA},get useCredentials(){return t.pA},get type(){return Pb(t.Cu)},get subType(){return Lb(t.mA)},get mediaType(){return Ub(t.kA)},get responseType(){return Db(t.wA)}}}function Cb(t){switch(t.toLowerCase()){case"arraybuffer":return Yd.Yp;case"blob":return Yd.Kp;case"document":return Yd.pn;case"json":return Yd.Zp;case"stream":return Yd.Jp;case"text":default:return Yd.yn}}function Db(t){return t}function Ob(t){switch(t.toUpperCase()){case"GET":default:return $d.GET;case"POST":return $d.POST;case"PUT":return $d.PUT;case"DELETE":return $d.DELETE;case"HEAD":return $d.HEAD;case"OPTIONS":return $d.OPTIONS}}function xb(t){switch(t.toLowerCase()){case"manifest":return tl.iA;case"segment":return tl.rA;case"content-protection":return tl.eA;default:return tl.xy}}function Pb(t){return t}function Bb(t){switch(t.toLowerCase()){case"initialization-segment":return nl.uA;case"fairplay-license":return nl.sA;case"fairplay-certificate":return nl.oA;case"widevine-license":return nl.aA;case"widevine-certificate":return nl.cA;case"playready-license":return nl.hA;case"clearkey-license":return nl.fA;case"aes128-key":return nl.vA;default:return nl.xy}}function Lb(t){return t}function Mb(t){switch(t.toLowerCase()){case"audio":return il.i_;case"video":return il.n_;case"text":return il.yn;case"image":return il.Oy;case"":default:return il.xy}}function Ub(t){return t}var Fb=function(){function t(t){this.VC=t}var n=t.prototype;return n.XC=function(t){this.VC.markRequestStart(1e3*t.Ik())},n.WC=function(t){this.VC.markResponseStart(1e3*t.Ik())},n.qC=function(t,n){this.VC.markResponseData(1e3*t.Ik(),n)},n.zC=function(t){this.VC.markResponseEnd(1e3*t.Ik())},t}(),Hb=function(){function t(t,n){this.$c=void 0,this.GC=void 0,this.jC=t,this.QC=n}return t.prototype.YC=function(t){if(this.GC)return new Fb(this.GC.createMeasurer(Nb(t)))},T(t,[{key:"th",get:function(){var t;return this.$c||(this.$c=(t=this,{get bandwidth(){return t.ZC},get roundTripTime(){return t.JC.Ik()},createMeasurer:function(t){throw new d("Creating a RequestMeasurer on the internal MeasurableNetworkEstimator implementation is not allowed.")}})),this.$c}},{key:"ZC",get:function(){return this.GC?this.GC.bandwidth:this.QC.KC}},{key:"JC",get:function(){return this.GC?Cv.Mk(this.GC.roundTripTime,1e3):this.jC.KC}}]),t}();var Vb=function(){function t(t){this.$C=0,this.tD=0,this.nD=g.exp(g.log(.5)/t)}return t.prototype.iD=function(t,n){var i=g.pow(this.nD,t),r=n*(1-i)+i*this.$C;m(r)||(this.$C=r,this.tD+=t)},T(t,[{key:"KC",get:function(){var t=1-g.pow(this.nD,this.tD);return this.$C/t}}]),t}(),Xb=function(){function t(t,n,i){void 0===t&&(t=Cv.ap(2)),void 0===n&&(n=Cv.ap(5)),void 0===i&&(i=!1),this.rD=t,this.eD=n,this.uD=i,this.sD=0,this.oD=Cv.ap(.1),this.aD=[],this.cD=void 0,this.hD=6e4,this.fD=10,this.vD=new Vb(t.Ik()),this.dD=new Vb(n.Ik())}var n=t.prototype;return n.iD=function(t){var n=r.Ic(),i=t.Ik();this.uD&&void 0!==this.cD&&n-this.cD>=this.hD&&this.Ch(),this.sD+=1,this.vD.iD(1,i),this.dD.iD(1,i),this.aD.push(i),this.aD.length>this.fD&&this.aD.shift(),this.cD=n},n.lD=function(){return void 0!==this.cD&&r.Ic()-this.cD<=this.hD},n.Ch=function(){this.vD=new Vb(this.rD.Ik()),this.dD=new Vb(this.eD.Ik()),this.sD=0,this.aD=[],this.cD=void 0},T(t,[{key:"KC",get:function(){return this.lD()?Cv.ap(g.min(this.vD.KC,this.dD.KC)):this.oD}}]),t}(),Wb=function(){function t(t,n,i,r){void 0===t&&(t=Cv.ap(.5)),void 0===n&&(n=Cv.ap(5)),void 0===i&&(i=128e3),void 0===r&&(r=!1),this.rD=t,this.eD=n,this._D=i,this.uD=r,this.gD=0,this.wD=0,this.aD=[],this.cD=void 0,this.oD=5e5,this.hD=5e3,this.vD=new Vb(t.Ik()),this.dD=new Vb(n.Ik())}var n=t.prototype;return n.iD=function(t,n){var i=8*n/t.Ik(),e=t.Ik(),u=r.Ic();for(this.uD&&void 0!==this.cD&&u-this.cD>=this.hD&&this.Ch(),this.vD.iD(e,i),this.dD.iD(e,i),this.aD.push([e,i]);;){for(var s=0,o=0,a=this.aD;o<a.length;o++){var c=a[o],h=c[0];c[1];s+=h}if(s<=this.rD.Ik())break;this.aD.shift()}this.gD+=n,this.wD+=n,this.cD=u},n.lD=function(){return void 0!==this.cD&&r.Ic()-this.cD<this.hD&&this.wD>=this._D},n.Ch=function(){this.vD=new Vb(this.rD.Ik()),this.dD=new Vb(this.eD.Ik()),this.wD=0,this.aD=[],this.cD=void 0},T(t,[{key:"KC",get:function(){return this.lD()?g.min(this.vD.KC,this.dD.KC):this.oD}},{key:"yD",get:function(){return this.gD}}]),t}(),qb=function(){function t(t,n){void 0===n&&(n=!0),this.mD=t,this.kD=n,this.jC=new Xb,this.QC=new Wb,this.pD=new Hb(this.jC,this.QC)}var n=t.prototype;return n.IA=function(t,n){return n&&M(po)?this.bD(t,n):this.mD.IA(this.TD(t))},n.bD=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var e,u,s,o,a,c;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return u=this.TD(n),(s=null!==(e=this.pD.YC(u))&&void 0!==e?e:i.ED(u,this.jC,this.QC)).XC(Cv.ap(r.Ic()/1e3)),t.next=5,this.mD.IA(u);case 5:return o=t.sent,s.WC(Cv.ap(r.Ic()/1e3)),a=o.qN().pipeThrough(new cp(new zb(s))),c={Qn:a,IA:o.IA},t.abrupt("return",new Kp(c,o));case 10:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.DI=function(t){return this.mD.DI(this.SD(t))},n.TD=function(n){var i=new vy(n);if(!this.kD){var r=t.RD(i.dA);i=new vy({dA:r},i)}return i},n.SD=function(n){var i=n.dA;return this.kD||(i=t.RD(i)),{dA:i,lA:n.lA}},t.RD=function(t){return s&&s.location&&"https:"===s.location.protocol&&dn(t,"http://")?t.replace(":","s:"):t},n.Dh=function(){this.mD.Dh()},T(t,[{key:"ND",get:function(){return this.pD}},{key:"CD",get:function(){return this.pD.th},set:function(t){this.pD.GC=t}}],[{key:"DD",get:function(){return t.OD}},{key:"xD",get:function(){return t.PD}}]),t}();qb.OD=new qb(new Rb),qb.PD=new qb(new Ib);var zb=function(){function t(t){this.BD=t}var n=t.prototype;return n.start=function(t){this.LD=t},n.transform=function(t){this.BD.qC(Cv.ap(r.Ic()/1e3),t),this.LD.enqueue(t)},n.flush=function(){this.BD.zC(Cv.ap(r.Ic()/1e3))},t}();var Gb=!P.Ft&&!P.Zt;function jb(t,n,i){var r=t.getImageData(n,i,1,1).data;return 0===r[0]&&0===r[1]&&0===r[2]&&0===r[3]}var Qb=function(){function t(t){this.$c=void 0,this.MD=void 0,this.XS=t}var n=t.prototype;return n.UD=function(t){if(!t||!t.drawImage)return!1;var n=this.XS.Bd();if(!n)return!1;for(var i=arguments.length,r=new Array(i>1?i-1:0),e=1;e<i;e++)r[e-1]=arguments[e];return t.drawImage.apply(t,[n].concat(r)),!0},n.FD=function(t,n,i,r,e,u){if(!t||!t.texImage2D)return!1;var o=this.XS,a=o.Bd();if(!a)return!1;if(!Gb){this.MD||(this.MD=s.createElement("canvas"));var c=this.MD,h=c.getContext("2d"),f=o.Yv,v=o.Qv,l=c.width,_=c.height;h.clearRect(0,0,c.width,c.height),l===f&&_===v||(c.width=f,c.height=v),h.drawImage(a,0,0,f,v);var g=!1;f>0&&jb(h,f-1,0)&&(c.width=l,g=!0),v>0&&jb(h,0,v-1)&&(c.height=_,g=!0),g&&h.drawImage(a,0,0,f,v),a=c}try{t.texImage2D(n,i,r,e,u,a)}catch(t){throw new d("Error trying to render video content to the WebGLRenderingContext. This is most likely due to CORS restrictions. https://support.theoplayer.com/hc/en-us/articles/115003094385#Considerations")}return!0},T(t,[{key:"th",get:function(){return this.$c||(this.$c=(t=this,{drawImage:function(n){for(var i=arguments.length,r=new Array(i>1?i-1:0),e=1;e<i;e++)r[e-1]=arguments[e];return t.UD.apply(t,[n].concat(r))},texImage2D:function(n,i,r,e,u,s){return t.FD(n,i,r,e,u,s)}}));var t}}]),t}(),Yb=function(t){function n(n,i){var r;return(r=t.call(this,"HD")||this).mc=n,r.hg=i,r}return ct(n,t),n.prototype.nh=function(){return new Zb(this.mc,this.hg)},n}(No),Zb=function(t){function n(n,i){var r;return(r=t.call(this,"dimensionchange")||this).width=n,r.height=i,r}return ct(n,t),n}(ei),Jb=function(t,n){this.zd=t,this.VD=n},Kb=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).XD=0,r.WD=0,r.qD=function(t){if(t.length>0){var n=t[t.length-1].contentRect;r.WD=n.width,r.XD=n.height,r.VD(r.WD,r.XD)}},r.zD=new Xt.ResizeObserver(r.qD),r.zD.observe(r.zd),r}return ct(n,t),n.prototype.Dh=function(){this.zD.disconnect()},T(n,[{key:"GD",get:function(){return this.XD}},{key:"jD",get:function(){return this.WD}}]),n}(Jb),$b=0;function tT(t){var n=sy(),i=g.max(0,16-(n-$b)),r=c(function(){return t(n+i)},i);return $b=n+i,r}var nT,iT=h,rT=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,eT=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelRequestAnimationFrame;function uT(){return nT||(nT=Xt&&Xt.document&&Xt.document.createElement("span")),nT}rT&&eT||(rT=tT,eT=iT),rT=rT.bind(t),eT=eT.bind(t);var sT=["Webkit","Moz","O","ms"],oT=(function(){var t=!1;try{if(void 0!==Xt&&"function"==typeof Xt.addEventListener){var n=_.defineProperty({},"passive",{get:function(){t=!0}});Xt.addEventListener("testPassiveEventSupport",j,n),Xt.removeEventListener("testPassiveEventSupport",j,n)}}catch(t){}}(),xt());function aT(t){return oT.has(t)||oT.set(t,function(t){var n=uT();if(!n||!n.style)return t;if(void 0!==n.style[t])return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<sT.length;r++){var e=sT[r],u=e+i;if(void 0!==n.style[u])return u}return t}(t)),oT.get(t)}function cT(t){var n=t.style;n.position="absolute",n.left=n.right=n.bottom=n.top="0",n.overflow="scroll",n.zIndex="-1",n.visibility="hidden"}function hT(t){var n=t.style;n.position="absolute",n.left=n.top="0",n[aT("transition")]="0s"}var fT=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).QD=void 0,e.YD=0,e.WD=NaN,e.XD=NaN,e.ZD=void 0,e.Ch=function(){e.JD.style.width=1e5+"px",e.JD.style.height=1e5+"px",e.KD.scrollLeft=1e5,e.KD.scrollTop=1e5,e.$D.scrollLeft=1e5,e.$D.scrollTop=1e5,0===e.$D.scrollTop&&rT(e.Ch)},e.tO=function(){var t=e.jD,n=e.GD;e.VD(t,n),e.WD=t,e.XD=n,e.Ch(),e.YD=0},e.nO=function(){if(!e.YD){var t=e.jD,n=e.GD;t===e.WD&&n===e.XD||(e.YD=rT(e.tO))}},e.iO=function(){e.ZD||(e.ZD=c(e.rO,66))},e.rO=function(){e.ZD=void 0,e.eO()},e.eO=function(){e.nO()},e.Eo(r),e}ct(n,t);var i=n.prototype;return i.uO=function(){var t,n=this.zd,i=s.createElement("div");return this.KD=s.createElement("div"),this.JD=s.createElement("div"),this.$D=s.createElement("div"),this.sO=s.createElement("div"),cT(this.KD),cT(this.$D),hT(this.JD),hT(t=this.sO),t.style.width="200%",t.style.height="200%",i.appendChild(this.KD),i.appendChild(this.$D),this.KD.appendChild(this.JD),this.$D.appendChild(this.sO),n&&n.appendChild(i),this.nO(),this.KD.addEventListener("scroll",this.nO),this.$D.addEventListener("scroll",this.nO),i},i.Eo=function(t){var n=this.zd,i=function(t,n){return u.getComputedStyle(t,void 0).getPropertyValue(n)||t.style[n]}(n,"position");t||"static"!==i||(n.style.position="relative"),this.QD=this.uO(),u&&u.addEventListener("resize",this.iO)},i.Dh=function(){this.QD&&(eT(this.YD),this.YD=0,this.KD.removeEventListener("scroll",this.nO),this.$D.removeEventListener("scroll",this.nO),Ee(this.QD),this.QD=void 0,u&&u.removeEventListener("resize",this.iO))},T(n,[{key:"GD",get:function(){return this.zd&&this.zd.getBoundingClientRect().height||this.XD||0}},{key:"jD",get:function(){return this.zd&&this.zd.getBoundingClientRect().width||this.WD||0}}]),n}(Jb),vT=function(t){function n(n){var i;return(i=t.call(this)||this).zD=void 0,i.qD=function(t,n){i.vs(new Yb(t,n))},i.zd=n,i}ct(n,t);var i=n.prototype;return i.Eo=function(t){this.zD||("function"==typeof Xt.ResizeObserver?this.zD=new Kb(this.zd,this.qD):this.zD=new fT(this.zd,this.qD,t))},i.Dh=function(){this.gs(),this.zD&&(this.zD.Dh(),this.zD=void 0)},T(n,[{key:"GD",get:function(){return this.zD?this.zD.GD:0}},{key:"jD",get:function(){return this.zD?this.zD.jD:0}}]),n}(ii),dT=function(t){function n(){return t.call(this,Ta.lh)||this}return ct(n,t),n}(ei);var lT=function(){if(s)for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0;n<t.length;n++){var i=t[n];if(i[1]in s)return{oO:i[0],aO:i[1],cO:i[2],hO:i[3],fO:i[4],vO:i[5]}}}(),_T=function(t){function n(){return t.call(this,Ta.uv)||this}return ct(n,t),n}(ei),gT=function(t){function n(i){var r;return(r=t.call(this)||this).Nv=!1,r.dO=function(){return r.dv()},r.lO=function(){return r._v()},r.zd=i,r.Iv=n._O(i),s.addEventListener(lT.fO,r.dO),r.dv(),r}ct(n,t),n._O=function(t){return Boolean(lT&&s[lT.hO]&&lT.oO in t)};var i=n.prototype;return i.Cv=function(){var t=this.zd[lT.oO]();t&&t.then?t.then(this.dO,this.lO):(s.removeEventListener(lT.vO,this.lO),s.addEventListener(lT.vO,this.lO))},i.Dv=function(){var t=s[lT.aO]();t&&t.then?t.then(this.dO,this.lO):(s.removeEventListener(lT.vO,this.lO),s.addEventListener(lT.vO,this.lO))},i.dv=function(){var t=this.Nv,n=this.zd===s[lT.cO];this.Nv=n,t!==n&&this.vs(new dT)},i._v=function(){this.vs(new Sw)},i.Dh=function(){this.gs(),s.removeEventListener(lT.fO,this.dO),s.removeEventListener(lT.vO,this.lO)},n}(ii),wT=function(t){function n(i){var r;return(r=t.call(this)||this).Nv=!1,r.dO=function(){return r.dv()},r.zd=i,r.Iv=n._O(i),r.zd.addEventListener("webkitbeginfullscreen",r.dO),r.zd.addEventListener("webkitendfullscreen",r.dO),r.zd.addEventListener("webkitpresentationmodechanged",r.dO),r.dv(),r}ct(n,t),n._O=function(t){return P.Ft&&("webkitEnterFullscreen"in t||"webkitSupportsPresentationMode"in t)};var i=n.prototype;return i.Cv=function(){var t=this;this.zd.webkitSupportsPresentationMode&&this.zd.webkitSupportsPresentationMode("fullscreen")?P.Ft?requestAnimationFrame(function(){return t.zd.webkitSetPresentationMode("fullscreen")}):this.zd.webkitSetPresentationMode("fullscreen"):this.zd.webkitEnterFullscreen()},i.Dv=function(){this.zd.webkitSupportsPresentationMode&&this.zd.webkitSupportsPresentationMode("inline")?this.zd.webkitSetPresentationMode("inline"):this.zd.webkitExitFullscreen()},i.dv=function(){var t,n=this.Nv;t=this.zd.webkitPresentationMode?"fullscreen"===this.zd.webkitPresentationMode:!!this.zd.webkitDisplayingFullscreen,this.Nv=t,n!==t&&this.vs(new dT)},i.Dh=function(){this.gs(),this.zd.removeEventListener("webkitbeginfullscreen",this.dO),this.zd.removeEventListener("webkitendfullscreen",this.dO),this.zd.removeEventListener("webkitpresentationmodechanged",this.dO)},n}(ii),yT=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).gO=[],n.wO=void 0,n.vv=!1,n.dv=function(){var t=n.vv,i=n.yO();t!==i&&(n.vv=i,n.vs(new dT))},n}ct(n,t);var i=n.prototype;return i.Cv=function(){this.wO?this.wO.Cv():this.vs(new Sw)},i.Dv=function(){for(var t=0,n=this.gO;t<n.length;t++){var i=n[t];i.Nv&&i.Dv()}},i.mO=function(t){this.wO=t},i.kO=function(t){this.gO.push(t),t.ls(Ta.lh,this.dv),t.ls(Ta.$h,this.fs),this.dv()},i.pO=function(t){Nn(this.gO,t),t.ys(Ta.lh,this.dv),t.ys(Ta.$h,this.fs)},i.yO=function(){for(var t=0,n=this.gO;t<n.length;t++){if(n[t].Nv)return!0}return!1},i.Ch=function(){this.wO=void 0,this.vv=!1;for(var t=this.gO.slice(),n=0;n<t.length;n++){var i=t[n];this.pO(i),i.Dh()}this.dv()},i.Dh=function(){this.gs(),this.Ch()},T(n,[{key:"Iv",get:function(){return!!this.wO&&this.wO.Iv}},{key:"Nv",get:function(){return this.vv}}]),n}(ii),mT=function(t){function n(n,i){var r;return(r=t.call(this)||this).AO=!1,r.bO=function(){return r._o()},r.dv=function(t){r.AO||r.vs(t)},r.XS=n,r.TO=i,r.EO=Rw,r.SO(),r.XS.ls(pa.Of,r.bO),r._o(),r}ct(n,t);var i=n.prototype;return i.Cv=function(){this.TO&&this.EO.Cv()},i.Dv=function(){this.EO.Dv()},i.SO=function(){this.EO.ls(Ta.lh,this.dv),this.EO.ls(Ta.$h,this.fs)},i.RO=function(){this.EO.ys(Ta.lh,this.dv),this.EO.ys(Ta.$h,this.fs)},i._o=function(){var t=this.EO,n=this.XS.Ld();if(t!==n){this.AO=!0;var i=this.Nv,r=this.Iv;i&&this.Dv(),this.RO(),this.EO=n,this.SO(),i&&!this.Nv&&this.Iv?this.Cv():this.Dv(),this.AO=!1,r!==this.Iv&&this.vs(new _T),i!==this.Nv&&this.vs(new dT)}},i.Dh=function(){this.gs(),this.RO(),this.XS.ys(pa.Of,this.bO)},T(n,[{key:"Iv",get:function(){return!!this.TO&&this.EO.Iv}},{key:"Nv",get:function(){return this.EO.Nv}}]),n}(ii),kT=function(){function t(t,n){this.IO=t,this.NO=n,this.CO=new qr,this.DO=[],this.$c=void 0,this.OO=!1,this.eC=void 0,this.xO=0}var n=t.prototype;return n.A_=function(){this.OO=!0,this.CO.Js(null)},n.PO=function(){this.CO.Ks(this.DO)},n.BO=function(t){if(!this.LO)throw new l("Cannot respond more than once");if(!H(t))throw new l("Expected valid response");this.eC=this.MO(t),this.A_()},n.UO=function(){try{var t=this.NO(this.th);t?this.FO(t):this.HO||this.VO||this.A_()}catch(t){this.PO()}},n.FO=function(t){if(this.VO)throw new d("Request has been redirected or a response already exists");if(q(t))this.XO(t);else{if("function"!=typeof t)throw new l("Expected promise or function");var n=new qr;try{var i=t(function(t){t?n.Ks(t):n.Js(void 0)});q(i)&&n.Js(i)}catch(t){n.Ks(t)}this.XO(n.Zs)}},n.XO=function(){var t=Ct.coroutine(Nt.mark(function t(n){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.xO++,t.next=4,n;case 4:this.xO--,this.HO||this.VO||(this.DO.length?this.PO():this.A_()),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(0),this.xO--,this.DO.push(t.t0),this.HO||this.VO||this.PO();case 13:case"end":return t.stop()}},t,this,[[0,8]])}));return function(n){return t.apply(this,arguments)}}(),T(t,[{key:"WO",get:function(){return this.CO.Zs}},{key:"th",get:function(){return this.$c||(this.$c=this.qO()),this.$c}},{key:"VO",get:function(){return this.OO}},{key:"LO",get:function(){return!this.OO}},{key:"HO",get:function(){return this.xO>0}},{key:"NA",get:function(){return this.eC}}]),t}(),pT=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).zO=r,e.UO(),e}ct(n,t),n.GO=function(t,n,i){var r=void 0===t.body?i:t.body;return new Kp({Qn:r,IA:n.IA,wA:n.IA.wA,_A:t.headers,DA:t.status,iT:t.statusText,CA:t.url,nC:!0},n)};var i=n.prototype;return i.qO=function(){return i=Nb((t=this).IA),{get closed(){return!t.LO},get request(){return i},get url(){return t.dA},get status(){return t.DA},get statusText(){return t.iT},get headers(){return n||(n=t._A.$p()),n},get body(){return t.lA},respondWith:function(n){return t.BO(n)},waitUntil:function(n){return t.FO(n)}};var t,n,i},i.MO=function(t){return n.GO(t,this.IO,this.zO)},T(n,[{key:"lA",get:function(){return this.zO}},{key:"_A",get:function(){return this.IO._A}},{key:"IA",get:function(){return this.IO.IA}},{key:"NA",get:function(){return this.eC}},{key:"DA",get:function(){return this.IO.DA}},{key:"iT",get:function(){return this.IO.iT}},{key:"dA",get:function(){return this.IO.CA}}]),n}(kT),AT=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).jO=void 0,e.QO=r,e.UO(),e}ct(n,t);var i=n.prototype;return i.qO=function(){return t=this,{get url(){return t.dA},get method(){return t.gA},get headers(){return n||(n=t._A.$p()),n},get body(){return t.lA},get closed(){return!t.LO},get useCredentials(){return t.pA},get type(){return Pb(t.Cu)},get subType(){return Lb(t.mA)},get mediaType(){return Ub(t.kA)},get responseType(){return Db(t.wA)},redirect:function(n){return t.YO(n)},respondWith:function(n){return t.BO(n)},waitUntil:function(n){return t.FO(n)}};var t,n},i.MO=function(t){var n=this.IO.lA,i=new Kp({Qn:n,_A:{},IA:this.IO,CA:this.IO.dA,wA:this.IO.wA,DA:200,iT:"OK"});return pT.GO(t,i,n)},i.YO=function(t){if(!this.LO)throw new l("Cannot redirect, already redirected or has a response");var n;n=X(t)?{url:t}:t,this.jO=function(t,n){return new vy({dA:void 0===t.url?n.dA:t.url,gA:void 0!==t.method?Ob(t.method):void 0,_A:t.headers,lA:t.body,pA:t.useCredentials,Cu:void 0!==t.type?xb(t.type):void 0,mA:void 0!==t.subType?Bb(t.subType):void 0,kA:void 0!==t.mediaType?Mb(t.mediaType):void 0,wA:void 0!==t.responseType?Cb(t.responseType):void 0},n)}(n,this.IO),this.A_()},T(n,[{key:"lA",get:function(){return this.IO.lA}},{key:"LO",get:function(){return this.QO&&!this.OO}},{key:"_A",get:function(){return this.IO._A}},{key:"gA",get:function(){return this.IO.gA}},{key:"ZO",get:function(){return this.jO}},{key:"NA",get:function(){return this.eC}},{key:"wA",get:function(){return this.IO.wA}},{key:"yA",get:function(){return this.IO.yA}},{key:"cs",get:function(){return this.IO.cs}},{key:"Cu",get:function(){return this.IO.Cu}},{key:"mA",get:function(){return this.IO.mA}},{key:"kA",get:function(){return this.IO.kA}},{key:"dA",get:function(){return this.IO.dA}},{key:"pA",get:function(){return this.IO.pA}},{key:"AA",get:function(){return this.IO.AA}}]),n}(kT);var bT,TT=function(t){function n(n,i){var r;void 0===i&&(i=!0);var e=new ET(n);return(r=t.call(this,e,i)||this).JO=e,r}ct(n,t);var i=n.prototype;return i.KO=function(t){this.JO.KO(t)},i.$O=function(t){this.JO.$O(t)},i.tx=function(t){this.JO.tx(t)},i.nx=function(t){this.JO.nx(t)},i.ix=function(t){this.JO.ix(t)},n}(qb),ET=function(){function t(t){this.ex=[],this.ux=[],this.mD=t}var n=t.prototype;return n.IA=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.sx(n,n.cs);case 3:r=t.sent,t.next=13;break;case 6:if(t.prev=6,t.t0=t.catch(0),!(t.t0 instanceof $p)){t.next=12;break}return t.next=11,this.ox(t.t0,n.cs);case 11:return t.abrupt("return",t.sent);case 12:throw t.t0;case 13:return t.next=15,this.ax(r,n.cs);case 15:return t.abrupt("return",t.sent);case 16:case"end":return t.stop()}},t,this,[[0,6]])}));return function(n,i){return t.apply(this,arguments)}}(),n.DI=function(t){return this.mD.DI(t)},n.sx=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r){var e,u,s,o,a;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:Hn(i),e=void 0,u=0,s=this.ex.slice();case 3:if(!(u<s.length)){t.next=21;break}if(o=s[u],Hn(i),(a=new AT(n,o,!e)).VO){t.next=17;break}return t.prev=8,t.next=11,a.WO;case 11:t.next=17;break;case 13:return t.prev=13,t.t0=t.catch(8),t.abrupt("continue",18);case 17:a.ZO&&!e?n=a.ZO:a.NA&&!e&&(e=a.NA);case 18:u++,t.next=3;break;case 21:if(!e){t.next=23;break}return t.abrupt("return",e);case 23:return t.abrupt("return",this.mD.IA(n,r));case 24:case"end":return t.stop()}},t,this,[[8,13]])}));return function(n,i,r){return t.apply(this,arguments)}}(),n.ox=function(t,n){var i;return i=t instanceof nA?t.NA:new Kp({Qn:null,IA:t.IA,DA:0,iT:""}),this.ax(i,n)},n.ax=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r,e,u,s,o;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.ux.slice();case 1:if(!(r<e.length)){t.next=22;break}return u=e[r],Hn(i),t.next=6,Ct.resolve(n.qs().Qn(i));case 6:if(s=t.sent,(o=new pT(n,u,s)).VO){t.next=18;break}return t.prev=9,t.next=12,o.WO;case 12:t.next=18;break;case 14:return t.prev=14,t.t0=t.catch(9),t.abrupt("continue",19);case 18:n=o.NA||n;case 19:r++,t.next=1;break;case 22:if(!Jp(n)){t.next=26;break}return t.abrupt("return",n);case 26:throw new nA(n);case 27:case"end":return t.stop()}},t,this,[[9,14]])}));return function(n,i){return t.apply(this,arguments)}}(),n.KO=function(t){this.ex.unshift(t)},n.$O=function(t){this.ex.push(t)},n.tx=function(t){Nn(this.ex,t)},n.nx=function(t){this.ux.unshift(t)},n.ix=function(t){Nn(this.ux,t)},n.Dh=function(){this.mD.Dh(),xn(this.ex),xn(this.ux)},t}(),ST=function(){function t(t){this.PA=t}var n=t.prototype;return n.KO=function(t){this.PA.KO(t)},n.tx=function(t){this.PA.tx(t)},n.nx=function(t){this.PA.nx(t)},n.ix=function(t){this.PA.ix(t)},T(t,[{key:"th",get:function(){var t;return this.$c||(this.$c=(t=this,{addRequestInterceptor:function(n){t.KO(n)},removeRequestInterceptor:function(n){t.tx(n)},addResponseInterceptor:function(n){t.nx(n)},removeResponseInterceptor:function(n){t.ix(n)}})),this.$c}}]),t}(),RT=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).hx=n,r.PA=i,r.vx=void 0,r.hx.ls(pa.Uf,r.fs),r.hx.ls(pa.Mf,r.fs),r}ct(n,t);var i=n.prototype;return i.KO=function(t){this.PA.KO(t)},i.tx=function(t){this.PA.tx(t)},i.nx=function(t){this.PA.nx(t)},i.ix=function(t){this.PA.ix(t)},i.Dh=function(){this.gs(),this.hx.ys(pa.Uf,this.fs),this.hx.ys(pa.Mf,this.fs)},T(n,[{key:"th",get:function(){var t;return this.$c||(this.$c=(t=this,{get online(){return t.nl},get estimator(){return t.lx},set estimator(n){t.lx=n},addRequestInterceptor:function(n){t.KO(n)},removeRequestInterceptor:function(n){t.tx(n)},addResponseInterceptor:function(n){t.nx(n)},removeResponseInterceptor:function(n){t.ix(n)},addEventListener:function(n,i){t.ls(n,i)},removeEventListener:function(n,i){t.ys(n,i)}})),this.$c}},{key:"nl",get:function(){return this.hx.nl}},{key:"lx",get:function(){var t;return null!==(t=this.vx)&&void 0!==t?t:this.PA.CD},set:function(t){this.PA.CD=function(t){return{get bandwidth(){return Zo(t.bandwidth)},get roundTripTime(){return Zo(t.roundTripTime)},createMeasurer:function(n){return i=t.createMeasurer(n),{markRequestStart:function(t){i.markRequestStart(t)},markResponseStart:function(t){i.markResponseStart(t)},markResponseData:function(t,n){i.markResponseData(t,n)},markResponseEnd:function(t){i.markResponseEnd(t)}};var i}}}(t),this.vx=t}}]),n}(ga);!function(t){t.PERFORMANCE="performance",t.QUALITY="quality",t.BANDWIDTH="bandwidth"}(bT||(bT={}));var IT=30;function NT(t,n,i,r,e,u){var s=[],o=t.Ka(new io(u)),a=t.qa(new io(e));if(n&&i){var c=n.Ka(i);o=io.Xa(o,c);var h=n.qa(i.$a(2));a=io.Ha(a,h)}return!o.Ja(io.rc)&&r.vm(io.rc,o)&&s.push([io.rc,o]),r.vm(a,io.ec)&&s.push([a,io.ec]),s}var CT={type:bT.BANDWIDTH},DT=20,OT=60;function xT(t){var n,i,r,e=qo(CT);return X(t)?e.type=PT(t):H(t)&&function(t){switch(t){case bT.PERFORMANCE:case bT.QUALITY:case bT.BANDWIDTH:return!0;default:return!1}}(t.type)&&(e.type=PT(t.type)),H(t)&&H(t.metadata)&&(e.metadata=(n=t.metadata,i={},r=Yo(n.bitrate),m(r)||(i.bitrate=r),i)),e}function PT(t){switch(t){case"bandwidth":return bT.BANDWIDTH;case"performance":return bT.PERFORMANCE;case"quality":return bT.QUALITY}}var BT=function(t){function n(n){var i;return(i=t.call(this,"gx")||this)._x=n,i}return ct(n,t),n}(ei),LT=function(t){function n(n){var i;return(i=t.call(this,"yx")||this).wx=n,i}return ct(n,t),n}(ei),MT=function(t){function n(n){var i;return(i=t.call(this,"kx")||this).mx=n,i}return ct(n,t),n}(ei),UT=function(t){function n(){var n,i;return(n=t.apply(this,arguments)||this).$c=(i=vt(n),{get strategy(){return{metadata:(t=i.wx).metadata,type:(n=t.type,n)};var t,n},set strategy(t){i.wx=xT(t)},get targetBuffer(){return i._x},set targetBuffer(t){var n=Yo(t);m(n)||(i._x=n>OT?OT:n)},get bufferLookbackWindow(){return i.mx},set bufferLookbackWindow(t){var n=Yo(t);m(n)||(i.mx=n<=0?IT:n)}}),n.Ax=CT,n.bx=DT,n.Tx=IT,n}return ct(n,t),T(n,[{key:"Ex",get:function(){switch(this.Ax.type){case bT.PERFORMANCE:return 0;case bT.QUALITY:return 1/0;case bT.BANDWIDTH:return this.Ax.metadata&&void 0!==this.Ax.metadata.bitrate?this.Ax.metadata.bitrate:8*kc.fd();default:return 8*kc.fd()}}},{key:"th",get:function(){return this.$c}},{key:"wx",get:function(){return this.Ax},set:function(t){this.Ax=t,this.vs(new LT(t))}},{key:"_x",get:function(){return this.bx},set:function(t){this.bx=t,this.vs(new BT(t))}},{key:"mx",get:function(){return this.Tx},set:function(t){this.Tx=t,this.vs(new MT(t))}}]),n}(ii),FT=function(t){function n(){return t.call(this,"_h")||this}return ct(n,t),n.prototype.nh=function(){return new HT},n}(No),HT=function(t){function n(){return t.call(this,"change")||this}return ct(n,t),n}(ei),VT=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).Sx=function(t){var n;n=t,Boolean(n&&n.th)&&jn(function(){r.vs(t.th)})},r.Rx=n,r.Rx.af(r.Sx),r}return ct(n,t),n.prototype.Dh=function(){this.gs(),this.Rx.cf(this.Sx)},n}(ga),XT=function(t){function n(){return t.apply(this,arguments)||this}return ct(n,t),n}(VT);var WT=io.rc,qT=new io(-1/0),zT=io.ec,GT=function(t){function n(n,i){return t.call(this,n,i)||this}ct(n,t);var i=n.prototype;return i.Za=function(t,n){return t.ja(n)?qs.Ba:t.Ja(n)?qs.xa:qs.Pa},i.qa=function(t,n){return t.qa(n)},i.Ka=function(t,n){return t.Ka(n)},i.Qa=function(t,n){return t.Qa(n)},i.Zy=function(){return WT},i.Ky=function(){return zT},i.im=function(){return qT},n.pm=function(t){for(var i=[],r=0;r<t.length;r++)i.push(new io(t.start(r)),new io(t.end(r)));return new n(i)},n.Ix=function(t){for(var i=[],r=[],e=0;e<t.xh;e++)i.push(new io(t.Ly(e))),i.push(new io(t.Uy(e))),r.push(t.My(e)),r.push(t.Fy(e));return new n(i,r)},n.Am=function(t){return new n([t,t],[!0,!0])},i.Qy=function(t,i){return new n(t,i)},i.Gy=function(t){return t.nc},n.bm=function(){return jT},n}($h),jT=new GT([]),QT=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).lk=0,n._k=1/0,n}ct(n,t);var i=n.prototype;return i.Ch=function(){0===this.lk&&this._k===1/0||(this.lk=0,this._k=1/0,this.vs(new FT))},i.Nx=function(){return new GT([new io(this.Km),new io(this.$m)],[!0,!0])},T(n,[{key:"Km",get:function(){return this.lk},set:function(t){if(this.$m<=t)throw new d("Start time of a clip should be smaller than the end time.");this.lk!==t&&(this.lk=t,this.vs(new FT))}},{key:"$m",get:function(){return this._k},set:function(t){if(t<=this.Km)throw new d("End time of a clip should be larger than the start time.");this._k!==t&&(this._k=t,this.vs(new FT))}},{key:"th",get:function(){var t,n,i;return this.$c||(this.$c=(i={get startTime(){return t.Km},set startTime(n){t.Km=n},get endTime(){return t.$m},set endTime(n){t.$m=n},addEventListener:function(t,i){n.ls(t,i)},removeEventListener:function(t,i){n.ys(t,i)}},n=new VT(t=this,i),i)),this.$c}}]),n}(ga),YT=function(t){function n(n){var i;return(i=t.call(this)||this).Cx=n,i.Dx=function(t){i.Ox(t)||i.vs(t)},i.Cx.af(i.Dx),i}ct(n,t);var i=n.prototype;return i.xx=function(){return this.Cx.md},i.Md=function(){return this.Cx.Md()},i.Px=function(){return this.Cx.Wd},i.Bx=function(){return this.Cx.Vd},i.Lx=function(){return this.Cx.qd},i.Mx=function(t){this.Cx.qd=t},i.Ux=function(){return this.Cx.Hv},i.Fx=function(t){this.Cx.Hv=t},i.Hx=function(){return this.Cx.Vv},i.Vx=function(){return this.Cx.zd},i.Xx=function(){return this.Cx.Xv},i.Wx=function(){return this.Cx.Is},i.qx=function(){return this.Cx.Wv},i.zx=function(){return this.Cx.jd},i.Gx=function(){return this.Cx.qv},i.jx=function(t){this.Cx.qv=t},i.Qx=function(){return this.Cx.nl},i.Yx=function(){return this.Cx.zv},i.Zx=function(){return this.Cx.Gv},i.Jx=function(t){this.Cx.Gv=t},i.Kx=function(){return this.Cx.il},i.$x=function(){return this.Cx.ul},i.tP=function(t){this.Cx.ul=t},i.nP=function(){return this.Cx.if},i.iP=function(){return this.Cx.sl},i.rP=function(){return this.Cx.jv},i.Ed=function(){return this.Cx.Ed()},i.Sd=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Hn(i),t.next=3,this.Cx.Sd(n,i);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.eP=function(){return this.Cx.pd},i.uP=function(){return this.Cx.Qv},i.sP=function(){return this.Cx.kd},i.oP=function(){return this.Cx.Yv},i.aP=function(){return this.Cx.Zv},i.cP=function(t){this.Cx.Zv=t},i.Ld=function(){return this.Cx.Ld()},i.Bd=function(){return this.Cx.Bd()},i.Dd=function(t){this.Cx.Dd(t)},i.Od=function(){this.Cx.Od()},i.Pd=function(){this.Cx.Pd()},i.Cd=function(){this.Cx.Cd()},i.bd=function(){this.Cx.bd()},i.Ad=function(){this.Cx.Ad()},i.xd=function(){this.Cx.xd()},i.Td=function(){return this.Cx.Td()},i.Rd=function(){return this.Cx.Rd()},i.Id=function(){this.Cx.Id()},i.Nd=function(){this.Cx.Nd()},i.Ch=function(){return this.Cx.Ch()},i.Dh=function(){return this.Cx.Dh()},i.Xd=function(){this.Cx.Xd()},i.Ud=function(t){return this.Cx.Ud(t)},i.Ox=function(t){return!1},T(n,[{key:"md",get:function(){return this.xx()}},{key:"Wd",get:function(){return this.Px()}},{key:"qd",get:function(){return this.Lx()},set:function(t){this.Mx(t)}},{key:"Vd",get:function(){return this.Bx()}},{key:"Hv",get:function(){return this.Ux()},set:function(t){this.Fx(t)}},{key:"Vv",get:function(){return this.Hx()}},{key:"zd",get:function(){return this.Vx()}},{key:"Xv",get:function(){return this.Xx()}},{key:"Is",get:function(){return this.Wx()}},{key:"Wv",get:function(){return this.qx()}},{key:"Gd",get:function(){return this.Cx.Gd}},{key:"jd",get:function(){return this.zx()}},{key:"Qd",get:function(){return this.Cx.Qd}},{key:"qv",get:function(){return this.Gx()},set:function(t){this.jx(t)}},{key:"nl",get:function(){return this.Qx()}},{key:"zv",get:function(){return this.Yx()}},{key:"Gv",get:function(){return this.Zx()},set:function(t){this.Jx(t)}},{key:"il",get:function(){return this.Kx()}},{key:"ul",get:function(){return this.$x()},set:function(t){this.tP(t)}},{key:"if",get:function(){return this.nP()}},{key:"sl",get:function(){return this.iP()}},{key:"jv",get:function(){return this.rP()}},{key:"pd",get:function(){return this.eP()}},{key:"Qv",get:function(){return this.uP()}},{key:"kd",get:function(){return this.sP()}},{key:"Yv",get:function(){return this.oP()}},{key:"Zv",get:function(){return this.aP()},set:function(t){this.cP(t)}}]),n}(wa),ZT=function(t){function n(i,r){var e;return(e=t.call(this,i)||this).hP=!1,e.fP=void 0,e.vP=!1,e.dP=function(){e.lP(),e._P()},e.WE=function(){e.gP(),e._P(),e.wP&&e.Hv>=e.yP.$m-n.mP&&!e.Xv&&(e.fP=rT(e.WE))},e.kP=function(){e.vP=!0},e.pP=function(){e.vP&&(e.vP=!1,e._P())},e.yP=r,e.yP.ls("_h",e.dP),e.Cx.ls("timeupdate",e.WE),e}ct(n,t);var i=n.prototype;return i.Fx=function(n){var i=this.yP.Nx().Yy(new io(n)).nc;t.prototype.Fx.call(this,i),this._P()},i.Xx=function(){return t.prototype.Xx.call(this)||this.hP},i.iP=function(){return GT.pm(t.prototype.iP.call(this)).$y(this.yP.Nx()).qy()},i.Ad=function(){this.Xx()?this.Fx(this.AP.start(0)):this.lP(),t.prototype.Ad.call(this),this._P()},i.Sd=function(){var n=Ct.coroutine(Nt.mark(function n(i,r){return Nt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Hn(r),this.hP=!1,this.yP.Ch(),n.next=5,t.prototype.Sd.call(this,i,r);case 5:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),i.Dh=function(){return this.yP.ys("_h",this.dP),this.Cx.ys("timeupdate",this.WE),this.gP(),t.prototype.Dh.call(this)},i.Ox=function(n){switch(n.type){case"seeking":return this.vs(n),this.kP(),!0;case"seeked":case"emptied":return this.vs(n),this.pP(),!0;case"ended":if(this.wP)return!0}return t.prototype.Ox.call(this,n)},i.gP=function(){this.fP&&(eT(this.fP),this.fP=void 0)},i._P=function(){var t=this.Hv,i=this.wP&&t>=this.yP.$m-n.ic;this.hP&&!i?(this.hP=!1,this.zv&&this.Ad()):this.hP||!i||this.jv||this.vP||(this.hP=!0,this.vs(new Na(t)),this.bd())},i.lP=function(){if(this.Vv!==1/0){var t=this.AP,i=GT.pm(t).Yy(new io(this.Hv)).nc;js(this.Hv,i,n.ic)||this.Fx(i)}},T(n,[{key:"AP",get:function(){return this.iP().length?this.iP():this.yP.Nx().qy()}},{key:"wP",get:function(){return this.yP.$m<this.Vv}}]),n}(YT);ZT.mP=1,ZT.ic=.001;var JT=function(){function t(){this.bP=!1}return T(t,[{key:"TP",get:function(){return this.bP},set:function(t){this.bP=t}}]),t}(),KT=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).EP=!1,r.SP=!1,r.bP=i,r}ct(n,t);var i=n.prototype;return i.Xx=function(){return!this.bP.TP&&t.prototype.Xx.call(this)},i.bd=function(){this.SP=!0,t.prototype.bd.call(this)},i.Ad=function(){this.SP=!1,t.prototype.Ad.call(this)},i.Ox=function(n){if(this.bP.TP)switch(n.type){case"ended":return this.Hv=0,this.SP||(this.jv?this.EP=!0:this.Ad()),!0;case"seeked":this.EP&&(this.EP=!1,this.Ad());break;case"pause":if(this.EP||t.prototype.Xx.call(this))return!0}return t.prototype.Ox.call(this,n)},n}(YT);var $T=function(){function t(t){var n;this.nR=t,this.$c=(n=this,{get currentBandwidthEstimate(){return n.Kd},get corruptedVideoFrames(){return n.Zd},get droppedVideoFrames(){return n.Yd},get totalBytesLoaded(){return n.$d},get bufferedSegments(){return n.tl}})}return T(t,[{key:"th",get:function(){return this.$c}},{key:"Zd",get:function(){return this.nR.RP.Qd.Zd}},{key:"Kd",get:function(){return this.nR.RP.Qd.Kd}},{key:"Yd",get:function(){return this.nR.RP.Qd.Yd}},{key:"IP",get:function(){throw new d("Not implemented")}},{key:"NP",get:function(){throw new d("Not implemented")}},{key:"$d",get:function(){return this.nR.RP.Qd.$d}},{key:"Jd",get:function(){return this.nR.RP.Qd.Jd}},{key:"tl",get:function(){return this.nR.RP.Qd.tl}}]),t}();function tE(t){return t?"function"==typeof t.getVideoPlaybackQuality?t.getVideoPlaybackQuality().droppedVideoFrames:t.webkitDroppedFrameCount||0:0}function nE(t){return t&&"function"==typeof t.getVideoPlaybackQuality&&t.getVideoPlaybackQuality().corruptedVideoFrames||0}function iE(t){return"function"==typeof t.getVideoPlaybackQuality?t.getVideoPlaybackQuality().totalVideoFrames:t.webkitDecodedFrameCount||0}function rE(t){return t&&De(t)?{Yd:tE(t),Zd:nE(t),Jd:iE(t)}:{Yd:0,Zd:0,Jd:0,Kd:0,$d:0,tl:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}var eE=function(t){function n(){return t.call(this,"CP")||this}return ct(n,t),n.prototype.nh=function(){return new uE},n}(No),uE=function(t){function n(){return t.call(this,"castingchange")||this}return ct(n,t),n}(ei);var sE=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).DP=[],n.$c=void 0,n.OP=function(){return n.vs(new eE)},n}ct(n,t);var i=n.prototype;return i.xP=function(t){this.DP.push(t),t.ls("statechange",this.OP)},i.Dh=function(){var t=this;this.DP.forEach(function(n){n.ys("statechange",t.OP)}),xn(this.DP)},T(n,[{key:"PP",get:function(){return this.DP.some(function(t){return t.PP})}},{key:"th",get:function(){var t,n,i;return this.$c||(this.$c=(i={get casting(){return t.PP},addEventListener:function(t,i){n.ls(t,i)},removeEventListener:function(t,i){n.ys(t,i)}},n=new XT(t=this,i),i)),this.$c}}]),n}(wa),oE=function(){function t(){}return t.BP=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r,e;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=new vy({dA:n,wA:Yd.yn,gA:$d.GET}),t.next=4,i.IA(r);case 4:return e=t.sent,t.next=7,e.Qn();case 7:return t.abrupt("return",t.sent);case 10:return t.prev=10,t.t0=t.catch(0),Fn(t.t0),t.abrupt("return",void 0);case 14:case"end":return t.stop()}},t,null,[[0,10]])}));return function(n,i){return t.apply(this,arguments)}}(),t.LP=function(t){try{var i=Fw(t);return new zw(i.key,i.domains_page,i.domains_source,i.expiration_date,i.customer_id,i.generation_date,i.sdks,i.send_impression)}catch(t){throw new le(n.ErrorCode.LICENSE_ERROR,"Invalid license. No valid license was configured.")}},t.MP=function(t){void 0===t&&(t=uy.xp),r.Cc("The baked-in license is used. Please update the configuration with your license.");var n=t.dR(".$hsF|b9_Ess*r[1F|C-*]'8iOn3C:o3COo5"),i=["F$(:_L50F|aY"].map(function(n){return t.dR(n)}),e=["F$(:_L50F|aY"].map(function(n){return t.dR(n)}),u=Number(new Date(Number(t.dR("COD|aHp]aO_3Ceo3Co\"\""))));return new zw(n,i,e,u)},t.getDummyLicense=function(t,n){return new zw(t,[],[],864e13,n)},t}(),aE=function(){function t(){}return t.bc=function(){return t.dn||(t.dn=cE.Oo()?new cE:new yo),t.dn},t.Fs=function(n){t.bc().Fs(n)},t.pc=function(){t.bc().pc()},t.Ls=function(n){return t.bc().Ls(n)},t.Ac=function(n,i){t.bc().Ac(n,i)},t.UP=function(n){var i=t.Ls(n);if(void 0!==i)return y(i)},t.FP=function(n){return"true"===t.Ls(n)},t}();aE.dn=void 0;var cE=function(n){function i(){return n.apply(this,arguments)||this}ct(i,n),i.Oo=function(){try{return t.localStorage.setItem("foobar","foobar"),t.localStorage.removeItem("foobar"),!0}catch(t){}return!1};var r=i.prototype;return r.Fs=function(n){t.localStorage.removeItem(n)},r.pc=function(){t.localStorage.clear()},r.Ls=function(n){return t.localStorage[n]},r.Ac=function(n,i){t.localStorage[n]=i},i}(aE),hE=g.floor(14399999*g.random()-72e5),fE=function(){function t(t,n,i,r,e,u){this.PA=t,this.HP=n,this.VP=i,this.cI=r,this.XP=e,this.xR=u,this.PR=Kw(u)}var i=t.prototype;return i.WP=function(){var t=Ct.coroutine(Nt.mark(function t(){var n;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.qP(this.XP.license,this.XP.licenseUrl);case 2:n=t.sent,this.cI.zP(n);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.qP=function(){var t=Ct.coroutine(Nt.mark(function t(i,r){var e,u,s,o,a,c,h,f;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r,i?u=oE.LP(i):e||(u=oE.MP()),e||(e="https://validate.theoplayer.com/1/"+u.pR),s=this.GP(),!u){t.next=14;break}if((o=this.HP.FR(u))!==Vw.yR){t.next=14;break}if(!this.jP(u.TR)||!this.jP(null==s?void 0:s.TR)){t.next=13;break}return t.next=10,this.QP(e);case 10:if(!(a=t.sent)){t.next=13;break}return t.abrupt("return",a);case 13:return t.abrupt("return",u);case 14:if(!s){t.next=25;break}if(this.HP.FR(s)!==Vw.yR){t.next=24;break}if(!this.jP(null==s?void 0:s.TR)){t.next=23;break}return t.next=20,this.QP(e);case 20:if(!(c=t.sent)){t.next=23;break}return t.abrupt("return",c);case 23:return t.abrupt("return",s);case 24:aE.Fs("THEOplayer.license");case 25:return t.next=27,oE.BP(e,this.PA);case 27:if(!(h=t.sent)){t.next=37;break}if(f=oE.LP(h),this.HP.FR(f)!==Vw.yR){t.next=34;break}return aE.Ac("THEOplayer.license",h),t.abrupt("return",f);case 34:aE.Fs("THEOplayer.license"),t.next=39;break;case 37:if(this.PR||!u||o!==Vw.mR||e!=="https://validate.theoplayer.com/1/"+u.pR){t.next=39;break}return t.abrupt("return",oE.getDummyLicense(u.pR,u.ER));case 39:if(!u&&!f){t.next=43;break}this.YP(null!=u?u:f,new le(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!")),t.next=44;break;case 43:throw new le(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!");case 44:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.LR=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i,r,e,u,s,o,a;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.cI.TI();case 2:if(r=t.sent,!this.jP(r.TR)){t.next=9;break}return e=null!==(i=this.XP.licenseUrl)&&void 0!==i?i:"https://validate.theoplayer.com/1/"+r.pR,t.next=7,this.QP(e);case 7:(u=t.sent)&&(this.cI.zP(u),r=u);case 9:if(t.prev=9,(s=this.HP.FR(r))!==Vw.kR){t.next=16;break}throw o=qw.NR,new le(jw(o),ty.UR(o));case 16:if(s!==Vw.mR){t.next=19;break}throw a=qw.mR,new le(jw(a),ty.UR(a));case 19:this.HP.LR(n,r),t.next=25;break;case 22:t.prev=22,t.t0=t.catch(9),this.ZP(t.t0);case 25:case"end":return t.stop()}},t,this,[[9,22]])}));return function(n){return t.apply(this,arguments)}}(),i.QP=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i,r;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,oE.BP(n,this.PA);case 3:if(void 0!==(i=t.sent)){t.next=6;break}return t.abrupt("return",void 0);case 6:if(r=oE.LP(i),this.HP.FR(r)!==Vw.yR){t.next=11;break}return aE.Ac("THEOplayer.license",i),t.abrupt("return",r);case 11:return t.abrupt("return",void 0);case 14:return t.prev=14,t.t0=t.catch(0),t.abrupt("return",void 0);case 17:case"end":return t.stop()}},t,this,[[0,14]])}));return function(n){return t.apply(this,arguments)}}(),i.jP=function(t){return!t||Number(new Date)+2592e5+hE>=t},i.GP=function(){var t=aE.Ls("THEOplayer.license");if(t)return oE.LP(t)},i.YP=function(t,n){this.cI.zP(t),this.ZP(n)},i.ZP=function(t){throw ut(t.message),this.VP.RI(t.message),t},t}(),vE=function(){function t(){this.LD=new qr}var n=t.prototype;return n.zP=function(t){this.JP=t,this.LD.Js()},n.TI=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.JP){t.next=2;break}return t.abrupt("return",Ct.resolve(this.JP));case 2:return t.next=4,this.LD.Zs;case 4:return t.abrupt("return",this.JP);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),T(t,[{key:"KP",get:function(){return this.JP}}]),t}(),dE=function(t){function n(){return t.call(this,"_h")||this}return ct(n,t),n.prototype.nh=function(){return new lE},n}(No),lE=function(t){function n(){return t.call(this,"change")||this}return ct(n,t),n}(ei);var _E,gE,wE={$P:void 0,tB:void 0,nB:void 0,iB:void 0,rB:void 0,eB:void 0},yE="THEOplayer.textTrackStyle.",mE=function(t){function n(){var i;return(i=t.call(this)||this).$c=void 0,i.uB=n.sB(),i}return ct(n,t),n.prototype._o=function(t){this.uB=Dt(Dt({},this.uB),t),n.oB(this.uB),this.vs(new dE)},n.sB=function(){var t=Dt({},wE);return t.$P=aE.Ls(yE+"fontFamily")||t.$P,t.tB=aE.Ls(yE+"fontColor")||t.tB,t.nB=aE.Ls(yE+"fontSize")||t.nB,t.iB=aE.Ls(yE+"backgroundColor")||t.iB,t.rB=aE.Ls(yE+"windowColor")||t.rB,t.eB=aE.Ls(yE+"edgeStyle")||t.eB,t},n.oB=function(t){aE.Ac(yE+"fontFamily",t.$P||""),aE.Ac(yE+"fontColor",t.tB||""),aE.Ac(yE+"fontSize",t.nB||""),aE.Ac(yE+"backgroundColor",t.iB||""),aE.Ac(yE+"windowColor",t.rB||""),aE.Ac(yE+"edgeStyle",t.eB||"")},T(n,[{key:"aB",get:function(){return this.uB}},{key:"$P",get:function(){return this.uB.$P},set:function(t){this._o({$P:t})}},{key:"tB",get:function(){return this.uB.tB},set:function(t){this._o({tB:t})}},{key:"nB",get:function(){return this.uB.nB},set:function(t){this._o({nB:t})}},{key:"iB",get:function(){return this.uB.iB},set:function(t){this._o({iB:t})}},{key:"rB",get:function(){return this.uB.rB},set:function(t){this._o({rB:t})}},{key:"eB",get:function(){return this.uB.eB},set:function(t){this._o({eB:t})}},{key:"th",get:function(){var t,n,i;return this.$c||(this.$c=(t=this,i={get fontFamily(){return t.$P},set fontFamily(n){t.$P=n},get fontColor(){return t.tB},set fontColor(n){t.tB=n},get fontSize(){return t.nB},set fontSize(n){t.nB=n},get backgroundColor(){return t.iB},set backgroundColor(n){t.iB=n},get windowColor(){return t.rB},set windowColor(n){t.rB=n},get edgeStyle(){return t.eB},set edgeStyle(n){t.eB=n},addEventListener:function(t,i){var r=Ko(t,Jo);n.ls(r,i)},removeEventListener:function(t,i){var r=Ko(t,Jo);n.ys(r,i)}},n=new ri(i),t.ls(["_h"],function(t){return n.vs(t.th)}),i)),this.$c}}]),n}(ii),kE=function(t){function n(n,i){var r;(r=t.call(this)||this).cB=!1,r.dd=!1,r.hB=!1,r.fB=function(t){if(!r.hB){r.hB=!0;var n=r.vB,i=Sc(t);r.RP.Fh=new Iw(r.zd,i,t),Qn(n.Dh())}},r.dB=function(t){r.vs(t.th)},r.lB=function(t){t.type!==pa.Uf&&t.type!==pa.Mf&&r.vs(t)};var e=Yo(i.uid);m(e)?r.Fm=Wf++:r.Fm=e,r.Wg=i,r._B=new UT;var u=qb.DD,s=new vE;r.gB=new wy("2.83.1",u,s),r.Wb=new TT(u,i.allowMixedContent),r.HP=new Gw(i.isEmbeddable,"2.83.1",Hw()),r.wB=new fE(u,r.HP,r.gB,s,i,Hw()),r.wB.WP().catch(r.fB),r.yB=new vT(n),r.yB.ls("HD",r.dB),r.ZS=new mE,r.yP=new QT,r.bP=new JT;var o=new Tw(n,i,r.Wb,r._B,r.yB,r.ZS);o=new ZT(o,r.mB),o=new KT(o,r.TP),r.vB=o,r.RP=new Ac(r.vB),r.RP.af(r.lB),r.kB=new $T(vt(r)),r.pB=new RT(r.RP,r.Wb),r.AB=new Qb(vt(r)),r.bB=new mT(r.RP,i.allowNativeFullscreen),r.TB=new Ya(r.bB),r.yB.Eo();var a=new Ft(r.yB,r.ZS,1,[Zh.n_]);return r.EB=new Ht(a),r.SB=new sE,r}ct(n,t);var i=n.prototype;return i.jx=function(t){this.RP.qv=t,t||this.zv||this.Cd()},i.cP=function(t){this.RP.Zv=t},i.RB=function(){gc(this,dc,this)},i.Ad=function(){this.RP.Ad()},i.bd=function(){this.RP.bd()},i.Sd=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=5;break}return this.wB.LR(n).catch(this.fB),r=pE(n),t.next=5,this.RP.Sd(r,i);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Cd=function(){this.dd||(this.RP.Cd(),this.EB.Cd(),this.dd=!0)},i.Nv=function(){return this.TB.bv()===Va.FULLSCREEN},i.xd=function(){this.RP.xd()},i.Pd=function(){this.RP.Pd()},i.Bd=function(){return this.RP.Bd()},i.Ch=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.RP.Td();case 2:return t.next=4,this.RP.Ch();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Dh=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.gs(),this.SB.Dh(),this.Wb.Dh(),this.pB.Dh(),this.bB.Dh(),this.TB.Dh(),this.yB.Dh(),this.gB.Dh(),this.EB.Dh(),t.next=11,this.RP.Dh();case 11:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),T(n,[{key:"wd",get:function(){return this.cB},set:function(t){this.cB=t,this.RP.wd=t}},{key:"IB",get:function(){return this.EB}},{key:"md",get:function(){return this.RP.md}},{key:"NB",get:function(){return this.SB}},{key:"CB",get:function(){return this.yB}},{key:"Gd",get:function(){return this.RP.Gd}},{key:"Qd",get:function(){return this.kB}},{key:"DB",get:function(){return this.pB}},{key:"pd",get:function(){return this.RP.pd}},{key:"OB",get:function(){return this.ZS}},{key:"kd",get:function(){return this.RP.kd}},{key:"Wd",get:function(){return this.RP.Wd}},{key:"mB",get:function(){return this.yP}},{key:"TP",get:function(){return this.bP}},{key:"Hv",get:function(){return this.RP.Hv},set:function(t){this.RP.Hv=t}},{key:"qd",get:function(){return this.RP.qd},set:function(t){this.RP.qd=t}},{key:"Vd",get:function(){return this.RP.Vd}},{key:"Vv",get:function(){return this.RP.Vv}},{key:"zd",get:function(){return this.RP.zd}},{key:"Xv",get:function(){return this.RP.Xv}},{key:"Is",get:function(){return this.RP.Is}},{key:"Wv",get:function(){return this.RP.Wv}},{key:"qv",get:function(){return this.RP.qv},set:function(t){var n=Boolean(t);this.jx(n)}},{key:"zv",get:function(){return this.RP.zv}},{key:"Gv",get:function(){return this.RP.Gv},set:function(t){this.RP.Gv=t}},{key:"il",get:function(){return this.RP.il}},{key:"ul",get:function(){return this.RP.ul},set:function(t){this.RP.ul=Aw(t)}},{key:"if",get:function(){return this.RP.if}},{key:"sl",get:function(){return this.RP.sl}},{key:"jv",get:function(){return this.RP.jv}},{key:"qh",get:function(){return this.Fm}},{key:"Qv",get:function(){return this.RP.Qv}},{key:"Yv",get:function(){return this.RP.Yv}},{key:"Zv",get:function(){return this.RP.Zv},set:function(t){var n=Gs(Number(t),0,1)||0;this.cP(n)}}]),n}(wa);function pE(t){t.sources;var n=t.sources.filter(function(t){return void 0===t.integration});return t.sources=n,t}!function(t){t[t.xB=0]="xB",t[t.PB=1]="PB"}(_E||(_E={})),function(t){t[t.BB=0]="BB"}(gE||(gE={}));var AE={};function bE(t,n){(AE[n]||(AE[n]=[])).push(t)}function TE(t,n){var i=t;if(AE[n])for(var r=0,e=AE[n];r<e.length;r++){i=(0,e[r])(i)}return i}var EE=[];function SE(t){EE.push(t)}var RE=t.CustomEvent;var IE,NE=function(){try{var t=new RE("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?function(t,n){return new CustomEvent(t,n)}:function(t,n){var i=s.createEvent("CustomEvent");return n?i.initCustomEvent(t,n.bubbles,n.cancelable,n.detail):i.initCustomEvent(t,!1,!1,void 0),i};(IE=Ct)&&IE.config({warnings:!1,longStackTraces:!1});IE&&(xE=IE.setScheduler(j),CE=xE,PE={LB:function(t){DE=t,CE(OE)},mI:OE=function(){var t=DE;t&&(DE=void 0,t())}},IE.setScheduler(PE.LB));var CE,DE,OE,xE,PE,BE=function(){function t(t,n){var i=this;this.MB=!1,this.UB=function(t){i.FB.SI(t.error,i.Hv)},this.HB=function(){i.FB.bI(i.VB),i.nR.removeEventListener("playing",i.HB),i.MB=!1},this.XB=function(){i.MB||(i.nR.addEventListener("playing",i.HB),i.MB=!0)},this.FB=n,this.nR=t,this.nR.addEventListener("error",this.UB),this.nR.addEventListener("sourcechange",this.XB),this.XB()}return t.prototype.Ch=function(){},T(t,[{key:"Hv",get:function(){var t=this.nR.currentTime;return"number"==typeof t&&isFinite(t)?t:"now"}},{key:"VB",get:function(){return this.nR.src||""}}]),t}();SE(function(t){new BE(t.th,t.gB)});var LE="theoplayer-stored-volume",ME="theoplayer-stored-mutedstate";bE(function(t){return function(t){function n(n,i){var r;if(r=t.call(this,n,i)||this,i.persistVolume){var e=aE.UP(LE);(void 0===e||m(e))&&(e=1);var u=aE.FP(ME)||!1;r.Zv=e,r.qv=u}return r}ct(n,t);var i=n.prototype;return i.jx=function(n){this.Wg.persistVolume&&aE.Ac(ME,n),t.prototype.jx.call(this,n)},i.cP=function(n){this.Wg.persistVolume&&aE.Ac(LE,n),t.prototype.cP.call(this,n)},n}(t)},_E.PB);var UE=new(function(){function t(){this.WB=[],this.$c=void 0}var n=t.prototype;return n.Sh=function(t){return this.WB[t]},n.qB=function(t){this.WB.push(t),this.th.push(t.th)},n.lo=function(t){var n=this.WB.indexOf(t);n<0||(Cn(this.WB,n),this.$c&&Cn(this.$c,n))},n.zB=function(t){for(var n=0,i=this.WB;n<i.length;n++){var r=i[n];if(r.qh===t)return r}},T(t,[{key:"xh",get:function(){return this.WB.length}},{key:"th",get:function(){return this.$c||(this.$c=function(t){for(var n=[],i=0;i<t.xh;i++)n[i]=t.Sh(i).th;return n.getPlayerByUID=function(n){var i=t.zB(n);return i&&i.th},n}(this)),this.$c}}]),t}());var FE,HE=function(t){function n(n){var i;return(i=t.call(this,pa.Kf)||this).source=n,i}return ct(n,t),n}(ei),VE=function(t){function n(){var n;return(n=t.call(this)||this).GB=0,n.jB=!0,n.QB=!1,n.YB=1,n}ct(n,t);var i=n.prototype;return i.Ad=function(){this.jB&&(this.jB=!1,this.vs(new Pa(this.Hv)),this.vs(new iw(this.Hv)))},i.bd=function(){this.jB||(this.jB=!0,this.vs(new Ca(this.Hv,this.qd)),this.vs(new La(this.Hv)))},i.Ch=function(){this.GB=0,this.QB=!1,this.YB=1,this.bd(),this.vs(new Ba(this.GB))},i.Dh=function(){this.gs()},i.Pd=function(){},i.xd=function(){},i.af=function(t){this.ls("emptied",t),this.ls("pause",t),this.ls("play",t),this.ls("seeking",t),this.ls("timeupdate",t),this.ls("waiting",t)},i.cf=function(t){this.ys("emptied",t),this.ys("pause",t),this.ys("play",t),this.ys("seeking",t),this.ys("timeupdate",t),this.ys("waiting",t)},T(n,[{key:"qd",get:function(){},set:function(t){}},{key:"Hv",get:function(){return this.GB},set:function(t){this.GB!==t&&(this.GB=t,this.QB=!0,this.vs(new Ra(this.Hv)))}},{key:"zv",get:function(){return this.jB}},{key:"Gv",get:function(){return this.YB},set:function(t){this.YB!==t&&(this.YB=t,this.vs(new Da(this.Hv,this.Gv)))}},{key:"if",get:function(){return ya.gf}},{key:"jv",get:function(){return this.QB}}]),n}(ii),XE=function(t){function n(){return t.call(this,pa.If)||this}return ct(n,t),n}(ei),WE={zIndex:"1",display:"inline-block",verticalAlign:"middle",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"contain",cursor:"pointer",margin:"0",padding:"0",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",height:"100%"},qE={visibility:"hidden"},zE={visibility:"visible"},GE=function(){function t(t){var n,i=this;this.ZB=!1,this.JB=function(t){i.ZB=!1,i.KB=t.source&&t.source.poster,i._o()},this.kE=function(){i.ZB=!0,i.Pd()},this.nR=t,this.rR(),this.WS=((n=Xt&&Xt.document&&Xt.document.createElement("div")).className="theoplayer-poster",Ie(WE,n),n),t.zd.appendChild(this.WS)}var n=t.prototype;return n._o=function(){var t=this.nR.zv,n=this.ZB;this.dA?this.WS.style.backgroundImage='url("'+this.dA.replace(/[\\"]/g,function(t){return"\\"+t})+'")':this.WS.style.backgroundImage="",t&&this.dA&&!n?this.xd():this.Pd()},n.xd=function(){Ie(qE,this.nR.zd),Ie(zE,this.WS)},n.Pd=function(){Ie(qE,this.WS),Ie(zE,this.nR.zd)},n.rR=function(){this.nR.ls("sourcechange",this.JB),this.nR.ls("play",this.kE)},n.Dh=function(){this.nR.ys("sourcechange",this.JB),this.nR.ys("play",this.kE),Ee(this.WS)},T(t,[{key:"dA",get:function(){return void 0!==this.KB?this.KB:void 0!==this.$B?this.$B:void 0}},{key:"tL",set:function(t){this.$B=t,this._o()}}]),t}();function jE(t){return function(n){function i(i,r){var e;return(e=n.call(this,i)||this).nL=function(t){t.type!==pa.Xf&&e.iL.push(t)},e.rL=new t(i,r),e.eL=new VE,e.nR=e.rL,e.uL=new GE(vt(e)),e.jT=new Cl,e.sL=!1,e.iL=[],e.jS=!0,e.GS=void 0,e.rR(),e}ct(i,n);var r=i.prototype;return r.jA=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.jT.jA(n,i).catch(Xn));case 1:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.oL=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Hn(i),this.rL.af(this.nL),t.next=4,this.rL.Sd(n,i);case 4:this.rL.cf(this.nL);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.aL=function(){var t=Ct.coroutine(Nt.mark(function t(){var n,i,r;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((n=this.Ed())&&!Tf(n)&&this.wd&&this.zv){t.next=3;break}return t.abrupt("return");case 3:return i=n.mutedAutoplay||this.Wg.mutedAutoplay,t.next=6,this.IB.cL();case 6:r=t.sent,t.t0=r,t.next="all"===t.t0?10:"muted"===t.t0?12:14;break;case 10:return this.hL(),t.abrupt("break",14);case 12:return(this.qv||i===Qa.ALL)&&(this.qv=!0,this.Ad()),t.abrupt("break",14);case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.Sd=function(t){var n=this,i=this.GS;i&&!Tf(i)&&this.vs(new Ba(0,0)),this.Ch(),this.GS=t,Qn(this.jA(function(){var i=Ct.coroutine(Nt.mark(function i(r){return Nt.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return Hn(r),i.prev=1,i.next=4,n.oL(t,r);case 4:i.next=10;break;case 6:throw i.prev=6,i.t0=i.catch(1),n.GS=void 0,i.t0;case 10:return i.next=12,n.fL();case 12:case"end":return i.stop()}},i,null,[[1,6]])}));return function(t){return i.apply(this,arguments)}}()))},r.fL=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.vL(this.rL),this.vs(new HE(this.Ed())),t.next=4,this.aL();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.Fx=function(t){this.nR.Hv=t},r.Wx=function(){return this.rL.Is},r.qx=function(){return this.rL.Wv},r.Ad=function(){this.nR.Ad()},r.hL=function(){this.qv||this.Cd(),this.Ad()},r.Cd=function(){this.rL.Cd()},r.bd=function(){this.nR.bd()},r.Td=function(){this.Sd(void 0)},r.xd=function(){this.jS=!0,this.nR.xd()},r.Pd=function(){this.jS=!1,this.nR.Pd()},r.RB=function(){this.rL.RB()},r.cP=function(t){this.rL.cP(t)},r.jx=function(t){this.rL.jx(t)},r.dL=function(t){this.lL=t,t.qB(this)},r.Nv=function(){return this.rL.Nv()},r.Ed=function(){return this.GS},r.Bd=function(){return this.rL.Bd()},r.Ux=function(){return this.rL.Hv},r.Hx=function(){return this.rL.Vv},r.Px=function(){return this.rL.Wd},r.Kx=function(){return this.rL.il},r.iP=function(){return this.rL.sl},r.Ch=function(){var t=this;this.GS=void 0,xn(this.iL),this.eL.Ch(),this.vL(this.eL),this.jT.ss(),Qn(this.jT.jA(function(){var n=Ct.coroutine(Nt.mark(function n(i){return Nt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Hn(i),n.next=3,t.rL.Ch();case 3:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}()))},r.Dh=function(){var t=this;this.vs(new XE),this.uL.Dh(),this.uR(),this.Ch(),Qn(this.jA(Ct.coroutine(Nt.mark(function n(){return Nt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.rL.Dh();case 2:t.lL&&(t.lL.lo(t),t.lL=void 0),t.jT.Dh();case 4:case"end":return n.stop()}},n)})))),this.gs()},r.vL=function(t){if(this.nR!==t){var n=this.nR.zv,i=this.nR.Hv,r=this.nR.Gv;this.uR(),t===this.rL?(t.Hv!==i&&(t.Hv=i),t.Gv!==r&&(t.Gv=r),n?t.bd():t.Ad()):this.Wg.retainPlaybackRateOnSourceChange?t.Gv=r:1!==r&&this.vs(new Da(this.Ux(),1)),this.nR=t,this.rR();for(var e=0,u=this.iL;e<u.length;e++){var s=u[e];this.vs(s)}xn(this.iL),this.jS?t.xd():t.Pd()}},r.rR=function(){this.nR.af(this.fs)},r.uR=function(){this.nR.cf(this.fs)},r.nh=function(){return t=this,r=function(n){i=n;var r=Lf(n,t.Wg);t.Sd(r)},e={get abr(){return t._B.th},get audioTracks(){return t.md.th},get autoplay(){return t.wd},set autoplay(n){t.wd=Boolean(n)},get buffered(){return t.Px()},get canvas(){return t.AB.th},get clip(){return t.mB.th},get currentProgramDateTime(){var n;return null!==(n=t.qd)&&void 0!==n?n:null},set currentProgramDateTime(n){t.qd=null!=n?n:void 0},get currentTime(){return t.Ux()},set currentTime(n){t.Fx(Number(n))},get duration(){return t.Hx()},get element(){return t.zd},get ended(){return t.Xv},get error(){return t.Wx()},get errorObject(){return t.qx()},get hesp(){return t.Gd},get loop(){return t.TP.TP},set loop(n){t.TP.TP=Boolean(n)},get metrics(){return t.Qd.th},get muted(){return t.qv},set muted(n){t.jx(n)},get network(){return t.DB.th},get paused(){return t.zv},get playbackRate(){return t.Gv},set playbackRate(n){var i=Number(n);if(i<0)throw new RangeError("playbackRate must be a positive number");t.Gv=i},get played(){return t.Kx()},get poster(){return t._L},set poster(n){t._L=Jo(n)},get preload(){return t.ul},set preload(n){t.ul=n},get presentation(){return t.TB.th},get readyState(){return t.if},get seekable(){return t.iP()},get seeking(){return t.jv},get source(){return i},set source(t){r(t)},get src(){return Sf(t.Ed())},set src(t){r({sources:t})},get textTracks(){return t.pd.th},get textTrackStyle(){return t.OB.th},get uid(){return t.qh},get videoHeight(){return t.Qv},get videoTracks(){return t.kd.th},get videoWidth(){return t.Yv},get volume(){return t.Zv},set volume(n){t.cP(Number(n))},destroy:function(){t.Dh(),t=null,i=void 0},play:function(){t.hL()},pause:function(){t.bd()},stop:function(){i=void 0,t.Td()},prepareWithUserAction:function(){t.Cd()},addEventListener:function(t,i){n.ls(t,i)},removeEventListener:function(t,i){n.ys(t,i)},setSource:function(t){r(t)}},(n=new Ha(e,!0)).cv(t),e;var t,n,i,r,e},T(i,[{key:"gB",get:function(){return this.rL.gB}},{key:"AB",get:function(){return this.rL.AB}},{key:"Wg",get:function(){return this.rL.Wg}},{key:"vB",get:function(){return this.rL.vB}},{key:"Wb",get:function(){return this.rL.Wb}},{key:"pS",get:function(){return this.rL.bB}},{key:"TB",get:function(){return this.rL.TB}},{key:"yB",get:function(){return this.rL.yB}},{key:"RP",get:function(){return this.rL.RP}},{key:"_B",get:function(){return this.rL._B}},{key:"wd",get:function(){return this.rL.wd},set:function(t){this.rL.wd=t,this.aL()}},{key:"IB",get:function(){return this.rL.IB}},{key:"md",get:function(){return this.rL.md}},{key:"NB",get:function(){return this.rL.NB}},{key:"CB",get:function(){return this.rL.yB}},{key:"th",get:function(){return this.$c||(this.$c=this.nh()),this.$c}},{key:"Gd",get:function(){return this.rL.Gd}},{key:"Qd",get:function(){return this.rL.Qd}},{key:"DB",get:function(){return this.rL.DB}},{key:"pd",get:function(){return this.rL.pd}},{key:"OB",get:function(){return this.rL.OB}},{key:"kd",get:function(){return this.rL.kd}},{key:"mB",get:function(){return this.rL.mB}},{key:"TP",get:function(){return this.rL.TP}},{key:"qd",get:function(){return this.nR.qd},set:function(t){this.nR.qd=t}},{key:"Vd",get:function(){return this.rL.Vd}},{key:"zd",get:function(){return this.rL.zd}},{key:"Xv",get:function(){return this.rL.Xv}},{key:"qv",get:function(){return this.rL.qv},set:function(t){this.rL.qv=t}},{key:"zv",get:function(){return this.nR.zv}},{key:"_L",get:function(){return this.uL.dA||""},set:function(t){this.uL.tL=t}},{key:"Gv",get:function(){return this.rL.Gv},set:function(t){this.nR.Gv=t}},{key:"ul",get:function(){return this.rL.ul},set:function(t){this.rL.ul=Aw(t)}},{key:"if",get:function(){return this.nR.if}},{key:"jv",get:function(){return this.nR.jv}},{key:"qh",get:function(){return this.rL.qh}},{key:"Qv",get:function(){return this.rL.Qv}},{key:"Yv",get:function(){return this.rL.Yv}},{key:"Zv",get:function(){return this.rL.Zv},set:function(t){this.rL.Zv=t}}]),i}(wa)}function QE(t,n){var i=vc(n),r=new(FE||(FE=TE(FE=jE(kE),_E.xB),FE=TE(FE,_E.PB)),FE)(t,i),e=r.th;return r.RB(),r.dL(UE),_.defineProperty(e,"constructor",{value:QE}),e=Vo(e),function(t){for(var n=0;n<EE.length;n++)(0,EE[n])(t)}(r),e}jn(function(){t.dispatchEvent&&t.dispatchEvent(NE("theoplayerready"))});var YE,ZE={base64:new(function(){function t(){}var n=t.prototype;return n.encode=function(t){return mi(t)},n.decode=function(t){return wi(t)},t}())},JE=UE.th,KE=nh.pl.registerContentProtectionIntegration.bind(nh.pl),$E={gL:!1,wL:50,yL:!1},tS=["loadstart","encrypted","waitingforkey","webkitneedkey","msneedkey"];!function(t){t.Ny="mL"}(YE||(YE={}));var nS,iS,rS,eS,uS=function(t){function i(n,i,r){var e;(e=t.call(this)||this).kL=!1,e.pL=new qr,e.jT=new Cl,e.Ao=void 0,e.AL=function(){e.bL(!0)},e.Go=n,e.JT=i,e.ia=i.uS,e.Uu=r;for(var u=0;u<tS.length;u++){var s=tS[u];e.ia.addEventListener(s,e.AL)}return e}ct(i,t);var r=i.prototype;return r.iE=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r,e;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Uu.zu(n.Du,i);case 2:return r=t.sent,t.next=5,r.Io();case 5:return e=t.sent,t.next=8,this.TL(e);case 8:return t.abrupt("return",e);case 9:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.$u=function(){var t=Ct.coroutine(Nt.mark(function t(){var n,i;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(this.gs(),n=0;n<tS.length;n++)i=tS[n],this.ia.removeEventListener(i,this.AL);return t.next=4,this.jT.Dh();case 4:return t.next=6,this.EL();case 6:return t.next=8,this.TL(void 0);case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.bL=function(t){t!==this.kL&&(this.kL=t,t?this.pL.Js(void 0):this.pL=new qr)},r.TL=function(t){var n=this;return this.jT.jA(function(){return n.SL(t)})},r.SL=function(){var t=Ct.coroutine(Nt.mark(function t(i){var r;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!i||this.ia.src){t.next=4;break}throw new bc(n.ErrorCode.CONTENT_PROTECTION_ERROR,"Attempted to attach MediaKeys to a sourceless MediaElement");case 4:if(i||!this.ia.src){t.next=6;break}throw new bc(n.ErrorCode.CONTENT_PROTECTION_ERROR,"Attempted to remove MediaKeys from a non-empty MediaElement");case 6:if(!i||this.kL){t.next=9;break}return t.next=9,this.pL.Zs;case 9:if(!(r=this.Ao)){t.next=14;break}return t.next=13,r.So(this.ia);case 13:this.Ao=void 0;case 14:if(!i){t.next=18;break}return t.next=17,i.Eo(this.ia);case 17:this.Ao=i;case 18:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.Sd=function(t){var n=this;return this.jT.jA(function(){return n.RL(t)})},r.RL=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.bL(!1),i=this.JT.Gv,this.ia.src=n,this.JT.Gv=i;case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.do=function(){var t=this;return this.jT.jA(function(){return t.UC()})},r.UC=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.ia.load();case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.EL=function(){var t=this;return this.jT.jA(function(){return t.IL()})},r.IL=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.bL(!1),Oe(this.ia);case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),T(i,[{key:"md",get:function(){throw new d("Not implemented")}},{key:"Wg",get:function(){return this.Go}},{key:"uS",get:function(){return this.ia}},{key:"kd",get:function(){throw new d("Not implemented")}}]),i}(ii),sS=function(t){function n(){return t.apply(this,arguments)||this}ct(n,t);var i=n.prototype;return i.JA=function(){var t=Ct.coroutine(Nt.mark(function t(){var n;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=this.Wg,t.t0=n.dS,t.next=t.t0===qa.Bv?4:t.t0===qa.Lv?4:(t.t0,qa.Mv,6);break;case 4:return this.ia.setAttribute("crossorigin",n.dS),t.abrupt("break",8);case 6:return this.ia.removeAttribute("crossorigin"),t.abrupt("break",8);case 8:return void 0!==n.ul?this.ia.preload=n.ul:this.ia.preload=kw.UE,void 0!==n.lS?this.ia.title=n.lS:Ce(this.ia),t.next=12,this.Sd(n.uf);case 12:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.$u=function(){var n=Ct.coroutine(Nt.mark(function n(){return Nt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Ce(this.ia),n.next=3,t.prototype.$u.call(this);case 3:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),n.NL=function(t,n){return!!n.canPlayType&&Boolean(n.canPlayType(t.fS))},T(n,[{key:"Wd",get:function(){return GT.pm(this.ia.buffered)}},{key:"Vv",get:function(){return this.ia.duration}},{key:"CL",get:function(){var t=this.Vv;if(!isFinite(t))return!1;var n=this.Wd;if(0===n.xh)return!1;var i=n.Uy(n.xh-1);return new io(t).Ka(i).ja(io.ic)}},{key:"ul",get:function(){return this.ia.preload},set:function(t){this.ia.preload=t}},{key:"sl",get:function(){return GT.pm(this.ia.seekable)}},{key:"DL",get:function(){return this.Wd}},{key:"OL",get:function(){if(De(this.ia)&&(this.ia.videoWidth>0||this.ia.videoHeight>0))return this.Wd}}]),n}(uS),oS=function(t){function n(n){var i;return(i=t.call(this,pa.Vf)||this).currentTime=n,i}return ct(n,t),n}(ei),aS=function(t){function n(){return t.call(this,pa.Pf)||this}return ct(n,t),n}(ei);!function(t){t[t.xL=0]="xL",t[t.PL=1]="PL"}(nS||(nS={})),function(t){t.BL="LL"}(iS||(iS={})),function(t){t[t.ML=0]="ML",t[t.Jp=1]="Jp",t[t.UL=2]="UL"}(rS||(rS={})),function(t){t.FL="HL"}(eS||(eS={}));var cS=function(t){function n(n){var i;return(i=t.call(this,eS.FL)||this).VL=n,i}return ct(n,t),n}(ei),hS=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).XL=GT.bm(),n}ct(n,t);var i=n.prototype;return i.WL=function(t,n){var i=new GT([t,n]);this.XL=this.XL.sm(i),this.vs(new cS(i))},i.qL=function(t,n){this.XL=this.XL.am(new GT([t,n]))},i.Ch=function(){this.XL=GT.bm()},i.Dh=function(){this.gs()},T(n,[{key:"zL",get:function(){return this.XL}}]),n}(ii),fS=function(t){function n(){return t.apply(this,arguments)||this}ct(n,t);var i=n.prototype;return i.GL=function(t,n,i){return Ct.reject(new d("Invalid state"))},i.jL=function(){return Ct.reject(new d("Invalid state"))},i.QL=function(t,n){return Ct.reject(new d("Invalid state"))},i.CL=function(){return!1},i.YL=function(){},i.ZL=function(t,n){},i.JL=function(t,n){},i.lo=function(t,n,i){return Ct.resolve()},i.KL=function(t,n){return Ct.reject(new d("Invalid state"))},i.$L=function(t){},i.tM=function(t){},i.Dh=function(){return Ct.resolve()},T(n,[{key:"Wd",get:function(){return GT.bm()}},{key:"nM",get:function(){return!1}},{key:"iM",get:function(){return GT.bm()}},{key:"rM",get:function(){return!1}},{key:"AO",get:function(){return!1}}]),n}(ii),vS=function(){function t(t,n){this.eM=void 0,this.uM=n,this.sM=t}var n=t.prototype;return n.CL=function(){return!!this.eM&&this.Wd.jy().Jy(this.eM)},n.YL=function(){var t=this.Wd;this.eM=t.xh>0?t.Uy(t.xh-1):new io(0),this.uM.oM()},T(t,[{key:"Wd",get:function(){var t=GT.pm(this.sM.buffered).$y(new GT([io.rc,io.ec])),n=this.eM;return void 0!==n&&t.xh>0&&t.Uy(t.xh-1).Ja(n)&&(t=t.sm(GT.Am(n))),t}}]),t}(),dS="QuotaExceededError";function lS(t){return t&&t.name===dS}function _S(t,n){return void 0===n&&(n=new ap({highWaterMark:1/0})),new $k(new gS(t,n),{highWaterMark:0})}var gS=function(){function t(t,n){var i=this,r=n.size,e=void 0===r?function(){return 1}:r,u=n.highWaterMark,s=void 0===u?1:u;this.Kr=[],this.KI=0,this.LD=void 0,this.aM=!1,this.cM=void 0,this.hM=function(t){return t.done?(i.ie(),void i.LD.close()):(i.Kr.push(t.value),i.KI+=i.fM(t.value),i.aM&&i.ie(),i.vM()?i.XI.read().then(i.hM):void 0)},this.bC=function(t){i.ie(),i.LD.error(t)},this.XI=t.getReader(),this.fM=e,this.dM=s}var n=t.prototype;return n.start=function(t){this.LD=t,this.vM()&&this.lM()},n.pull=function(){this.Kr.length>0?this.ie():this.aM=!0,this.vM()&&this.lM()},n.cancel=function(t){return xn(this.Kr),this.KI=0,this.aM=!1,this.XI.cancel(t)},n.ie=function(){if(0!==this.Kr.length){var t=this.Kr;this.Kr=[],this.KI=0,this.aM=!1,this.LD.enqueue(t)}},n.vM=function(){return!!this.aM||this.dM-this.KI>0},n.lM=function(){var t=this;if(!this.cM){var n=this.XI.read().then(this.hM).catch(this.bC);this.cM=n;var i=function(){t.cM===n&&(t.cM=void 0)};n.then(i,i)}},t}(),wS=20,yS=P.nn,mS=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).bx=wS,u.Tx=IT,u._M=!1,u.gM=!1,u.wM=void 0,u.yM=new Mn,u.mM=!1,u.kM=void 0,u.pM=function(){u._M=!1},u.JT=n,u.AM=r,u.bM=i,u.sM=e,u.sM.addEventListener("updateend",u.pM),u}ct(n,t);var i=n.prototype;return i.GL=function(t,n,i){var r=this;switch(t.Cu){case rS.ML:case rS.Jp:return this.TM(function(i){return r.EM(t,n,i)},i);case rS.UL:throw new d("Opaque segments are not supported on web.")}},i.QL=function(t,n){var i=this;switch(t.Cu){case rS.ML:return this.TM(function(n){return i.SM(t,n)},n);case rS.Jp:throw new d("Streaming initialization segments are not supported on web.");case rS.UL:throw new d("Opaque initialization segments are not supported on web.")}},i.SM=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.RM(n.Qn,void 0,i);case 2:yS&&(this.mM=!1,this.kM=n);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.EM=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(yS&&this.mM&&this.kM)){t.next=3;break}return t.next=3,this.SM(this.kM,r);case 3:return t.prev=3,Hn(r),t.next=7,this.RM(n.Qn,i,r);case 7:this.vs(new ei(iS.BL));case 8:return t.prev=8,n.Cu===rS.Jp&&n.Qn.cancel(new Un).catch(j),t.finish(8);case 11:case"end":return t.stop()}},t,this,[[3,,8,11]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.RM=function(t,n,i){return this.IM(t,n,i)},i.IM=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Hn(r),t.next=3,this.NM(new io(this.JT.Hv),i?new io(i.CM):void 0,i?new io(i.Vv):void 0);case 3:if(Hn(r),!(n instanceof $k)){t.next=9;break}return t.next=7,this.DM(n,i,r);case 7:t.next=11;break;case 9:return t.next=11,this.OM(n,i,r);case 11:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.DM=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r){var e,u;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=void 0,u=Rp(n),n=u[0],e=u[1],t.prev=5,t.next=8,this.xM(n,i,r);case 8:return e.cancel(new Un).catch(j),t.abrupt("return");case 12:if(t.prev=12,t.t0=t.catch(5),!lS(t.t0)){t.next=21;break}return t.next=17,this.NM(new io(this.JT.Hv),i?new io(i.CM):void 0,i?new io(i.Vv):void 0,r);case 17:if(!t.sent){t.next=21;break}return n=e,t.abrupt("continue",0);case 21:throw e.cancel(t.t0).catch(j),t.t0;case 23:t.next=0;break;case 25:case"end":return t.stop()}},t,this,[[5,12]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.xM=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r){var e,u,s,o,a,c,h,f;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=this.bM.Wd,u=_S(n),s=u.getReader(),o=!1,t.prev=4,i&&this.PM(i);case 6:return t.next=9,Wn(s.read(),r);case 9:if(!(a=t.sent).done){t.next=13;break}return o=!1,t.abrupt("break",20);case 13:return Hn(r),c=bi(a.value),o=!0,t.next=18,this.BM(c);case 18:t.next=6;break;case 20:t.next=37;break;case 22:if(t.prev=22,t.t0=t.catch(4),s.cancel(t.t0).catch(j),!o){t.next=36;break}return t.next=28,this.LM();case 28:h=this.bM.Wd.$y(e.tm()),f=0;case 30:if(!(f<h.xh)){t.next=36;break}return t.next=33,this.MM(h.Ly(f).nc,h.Uy(f).nc);case 33:f++,t.next=30;break;case 36:throw t.t0;case 37:case"end":return t.stop()}},t,this,[[4,22]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.OM=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=1,Hn(r),i&&this.PM(i),t.next=6,this.BM(n);case 6:return t.abrupt("return",t.sent);case 9:if(t.prev=9,t.t0=t.catch(1),!lS(t.t0)){t.next=17;break}return t.next=14,this.NM(new io(this.JT.Hv),i?new io(i.CM):void 0,i?new io(i.Vv):void 0,r);case 14:if(!t.sent){t.next=17;break}return t.abrupt("continue",0);case 17:throw t.t0;case 18:t.next=0;break;case 20:case"end":return t.stop()}},t,this,[[1,9]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.KL=function(t,n){var i=this;return this.TM(function(){return i.UM(t,n)})},i.UM=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.sM.appendWindowStart===n&&this.sM.appendWindowEnd===i){t.next=6;break}return t.next=3,this.LM();case 3:this.sM.appendWindowStart=0,this.sM.appendWindowEnd=i,this.sM.appendWindowStart=n;case 6:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.PM=function(t){this.sM.timestampOffset!==t.Ip&&(this.sM.timestampOffset=t.Ip)},i.BM=function(){var t=Ct.coroutine(Nt.mark(function t(n){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.sM.appendBuffer(n),this.gM=!0,t.next=4,this.FM();case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.NM=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r,e){var u,s,o,a,c;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:u=NT(n,i,r,this.bM.Wd,this.bx,this.Tx),s=0;case 2:if(!(s<u.length)){t.next=9;break}return o=u[s],a=o[0],c=o[1],t.next=6,this.MM(a.nc,c.nc,e);case 6:s++,t.next=2;break;case 9:return t.abrupt("return",u.length>0);case 10:case"end":return t.stop()}},t,this)}));return function(n,i,r,e){return t.apply(this,arguments)}}(),i.HM=function(t,n,i){var r=this;return this.TM(function(i){return r.MM(t,n,i)},i)},i.MM=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Hn(r),this.sM.remove(n,i),t.next=4,this.FM();case 4:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.FM=function(){var t=this,n=this.bM.Wd;return new Ct(function(i,r){var e,u=!1,s=function(){u=!0},o=function(){u=!1,e="error"},a=function(){u=!1,e="aborted"},c=function(){h(),u&&!e?(n.lm(t.bM.Wd)||t.vs(new ei(iS.BL)),i()):r(new d(e))},h=function(){t.sM.removeEventListener("update",s),t.sM.removeEventListener("error",o),t.sM.removeEventListener("abort",a),t.sM.removeEventListener("updateend",c)};t.sM.addEventListener("update",s),t.sM.addEventListener("error",o),t.sM.addEventListener("abort",a),t.sM.addEventListener("updateend",c)})},i.VM=function(){var t=Ct.coroutine(Nt.mark(function t(){var n=this;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.TM(function(){return n.LM()}));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.LM=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.AM.if===OS.bA){t.next=2;break}return t.abrupt("return");case 2:yS&&(this.mM=!0),this.sM.updating&&(this._M=!0);try{this.sM.abort()}catch(t){0,this._M=!1}if(!this.AO){t.next=8;break}return t.next=8,this.FM().catch(j);case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.TM=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.wM){t.next=2;break}throw new d("Internal error");case 2:return(r=new Mn).os(this.yM.cs),i&&r.os(i),t.prev=5,this.wM=n(r.cs),t.next=9,this.wM;case 9:if(this.AM.XM(),!this.AO){t.next=13;break}return t.next=13,this.FM();case 13:return t.prev=13,this.wM=void 0,r.$u(),t.finish(13);case 17:case"end":return t.stop()}},t,this,[[5,,13,17]])}));return function(n,i){return t.apply(this,arguments)}}(),i.$u=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.gs(),this.yM.ss(),!this.wM){t.next=6;break}return t.next=5,this.wM.catch(j);case 5:this.wM=void 0;case 6:this.sM.removeEventListener("updateend",this.pM);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),T(n,[{key:"rM",get:function(){return this.gM}},{key:"_x",get:function(){return this.bx},set:function(t){this.bx=t}},{key:"mx",set:function(t){this.Tx=t}},{key:"AO",get:function(){return this._M||this.sM.updating}}]),n}(ii);function kS(t,n,i,r,e){var u=new vS(t,n),s=new mS(r,u,n,t);return new pS(u,s,e)}var pS=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).bM=n,e.WM=i,e.qM=r,e.WM.ls(iS.BL,e.fs),e}ct(n,t);var i=n.prototype;return i.CL=function(){return this.bM.CL()},i.YL=function(){this.bM.YL()},i.ZL=function(t,n){var i=new io(t),r=new io(n);this.qM.WL(i,r)},i.JL=function(t,n){var i=new io(t),r=new io(n);this.qM.qL(i,r)},i.jL=function(){return this.WM.VM()},i.GL=function(t,n,i){return this.WM.GL(t,n,i)},i.QL=function(t,n){return this.WM.QL(t,n)},i.lo=function(t,n,i){return this.JL(t,n),this.WM.HM(t,n,i)},i.KL=function(t,n){return this.WM.KL(t,n)},i.$L=function(t){this.WM._x=t},i.tM=function(t){this.WM.mx=t},i.Dh=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.WM.ys(iS.BL,this.fs),t.next=3,this.WM.$u();case 3:this.qM.Dh();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),T(n,[{key:"Wd",get:function(){return this.bM.Wd}},{key:"nM",get:function(){return!0}},{key:"iM",get:function(){return this.qM.zL}},{key:"rM",get:function(){return this.WM.rM}},{key:"AO",get:function(){return this.WM.AO}}]),n}(ii),AS=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).sM=void 0,s.AM=n,s.Go=r,s.Po=r.fS,s.zM=e,s.JT=i,s.WI=new fS,s.WI.ls(iS.BL,s.fs),s.bx=wS,s.Tx=IT,s.qM=u,s}ct(n,t);var i=n.prototype;return i.CL=function(){return this.WI.CL()},i.YL=function(){return this.WI.YL()},i.ZL=function(t,n){this.WI.ZL(t,n)},i.JL=function(t,n){this.WI.JL(t,n)},i.jL=function(){return this.WI.jL()},i.GL=function(t,n,i){return this.WI.GL(t,n,i)},i.QL=function(t,n){return this.WI.QL(t,n)},i.KL=function(t,n){return this.WI.KL(t,n)},i.lo=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.WI.lo(n,i,r);case 2:(P.vn||P.Qt)&&this.JT.Ws(this.JT.Hv);case 3:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.Wm=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.nM!==n){t.next=2;break}return t.abrupt("return");case 2:if(!n){t.next=7;break}return t.next=5,this.Gp(i);case 5:t.next=9;break;case 7:return t.next=9,this.jp(i);case 9:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Gp=function(){var t=Ct.coroutine(Nt.mark(function t(n){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,Hn(n),bS(this.sM,!0),t.next=5,this.GM(this.sM);case 5:t.next=12;break;case 7:return t.prev=7,t.t0=t.catch(0),Hn(n),t.next=12,this.AM.jM(this);case 12:case"end":return t.stop()}},t,this,[[0,7]])}));return function(n){return t.apply(this,arguments)}}(),i.jp=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.sM,t.prev=1,Hn(n),t.next=5,this.Ch();case 5:bS(i,!1),this.sM=i,t.next=14;break;case 9:return t.prev=9,t.t0=t.catch(1),Hn(n),t.next=14,this.AM.QM(this,i);case 14:case"end":return t.stop()}},t,this,[[1,9]])}));return function(n){return t.apply(this,arguments)}}(),i.setState=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(i=this.WI).ys(iS.BL,this.fs),t.next=4,i.Dh();case 4:this.WI=n,this.WI.$L(this.bx),this.WI.tM(this.Tx),this.WI.ls(iS.BL,this.fs);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.GM=function(){var t=Ct.coroutine(Nt.mark(function t(n){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.sM=n,t.next=3,this.setState(kS(n,this.AM,this.zM,this.JT,this.qM));case 3:this.vs(new ei("Xh"));case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.YM=function(t){if(this.Po!==t.fS){if(!MediaSource.isTypeSupported(t.fS))return!1;if(!this.sM.changeType){if(this.zM!==Zh.n_)return!1;var n=Dd(this.Po),i=Dd(t.fS);if(n.Cu!==i.Cu)return!1;if(!function(t,n){var i=t.qp("codecs"),r=n.qp("codecs");if(i&&r){var e=i.split(".",1)[0],u=i.split(".",1)[0];return e===u}return!i&&!r}(n,i))return!1}}return!0},i.ZM=function(t){this.Go=t,this.Po!==t.fS&&(this.Po=t.fS,this.sM.changeType&&this.sM.changeType(this.Po))},i.Ch=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.qM.Ch(),this.sM=void 0,t.next=4,this.setState(new fS);case 4:this.vs(new ei("JM"));case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.$u=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.gs(),t.next=4,this.Ch();case 4:this.WI.ys(iS.BL,this.fs),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}},t,this,[[0,7]])}));return function(){return t.apply(this,arguments)}}(),T(n,[{key:"Wd",get:function(){return this.WI.Wd}},{key:"Wg",get:function(){return this.Go}},{key:"fS",get:function(){return this.Po}},{key:"iM",get:function(){return this.WI.iM}},{key:"rM",get:function(){return this.WI.rM}},{key:"_x",get:function(){return this.bx},set:function(t){this.bx=t,this.WI.$L(t)}},{key:"mx",set:function(t){this.Tx=t,this.WI.tM(t)}},{key:"AO",get:function(){return this.WI.AO}},{key:"nM",get:function(){return this.WI.nM}}]),n}(ii);function bS(t,n){var i=t&&t.audioTracks,r=t&&t.videoTracks;if(!i||!r)throw new d("Not supported by browser.");for(var e=0;e<i.length;e++)i[e].enabled!==n&&(i[e].enabled=n);for(var u=0;u<r.length;u++)r[u].selected!==n&&(r[u].selected=n)}var TS=new io(.001),ES=100,SS=new io(.5),RS=1e3,IS=1e4,NS=.01,CS=[pa.Hf,pa.Ff,pa.Gf,pa.zf,pa.Df,pa.Xf,la.gh,sa.$h],DS=function(){function t(t,n){var i=this;this.bM=t,this.JT=n,this.hE=ya.gf,this.KM=!1,this.$M=[],this.tU=0,this.nU=0,this.iU=0,this.rU=0,this.eU=RS,this.uU=function(t){var n=new io(i.JT.Hv);t.VL.Jy(n)&&i.sU(n)},this.oU=Y(function(){i.aU(la.gh)},ES),this.cU=Y(function(){i.aU(pa.Vf)},ES),this.hU=function(){i.fU()?i.vU():i.dU()},this.lU=function(){var t=i.tU,n=i.nU,e=i.JT.Hv,u=r.Ic(),s=t!==e;if(s||!i.fU())return i.tU=e,i.nU=u,void(s&&(i.rU=0,i.eU=RS));if(n>0&&u>n+i.eU){var o=e+i.rU*NS;i.bM.Wd.Jy(new io(o))&&(i.tU=o,i.nU=u,i.rU++,i.eU=g.max(2*i.eU,IS),i.JT.Ws(o))}},this.JT.ls(la.gh,this.oU),this.JT.ls(pa.Vf,this.cU),this.JT.ls(CS,this.hU)}var n=t.prototype;return n._U=function(t){this.$M.push(t),t.ls(eS.FL,this.uU)},n.Dh=function(){var t=this;this.dU(),this.hE=ya.gf,this.JT.ys(la.gh,this.oU),this.JT.ys(pa.Vf,this.cU),this.JT.ys(CS,this.hU),this.$M.forEach(function(n){return n.ys(eS.FL,t.uU)}),this.KM=!0},n.aU=function(t){if(!this.KM){var n=this.JT.if;if(n<=ya.yf){var i=new io(this.JT.Hv),r=this.bM.Wd,e=r.cm(i),u=r.Uy(e);-1!==e&&(t===la.gh&&n<this.hE||t===pa.Vf&&n===this.hE)&&u.ja(i.qa(SS))&&(i=u),this.sU(i)}t===la.gh&&(this.hE=n)}},n.sU=function(t){if(!this.JT.Xv){var n=this.zL.am(this.bM.Wd).jy(),i=n.cm(t);if(-1!==i)n.Ly(i).Ya(n.Uy(i),TS)||this.JT.Ws(n.Uy(i).nc)}},n.vU=function(){0===this.iU&&(this.iU=r.xc(this.lU,250))},n.dU=function(){0!==this.iU&&(r.Pc(this.iU),this.iU=0),this.nU=0},n.fU=function(){return!this.JT.zv&&!this.JT.jv&&0!==this.JT.Gv&&!this.JT.Xv&&!this.JT.Is&&this.JT.if>=ya.mf},T(t,[{key:"zL",get:function(){return this.$M.reduce(function(t,n){return t.sm(n.zL)},GT.bm())}}]),t}();var OS,xS=P.Yt||P.Zt,PS=function(){function t(t,n,i,r){void 0===i&&(i=!1),void 0===r&&(r=!1),this.Fp=t,this.Hp=n,this.gU=i,this.wU=r,this.yU=sy()}return t.prototype.mU=function(){var t=this.Fp,n=this.Hp;if(this.gU||this.wU){var i=.001*(sy()-this.yU);this.gU&&(t+=i),this.wU&&(n+=i)}return t>=n?GT.bm():new GT([new io(t),new io(n)])},T(t,[{key:"kU",get:function(){return this.gU}},{key:"pU",get:function(){return this.wU}}]),t}();!function(t){t.AU="closed",t.bA="open",t.Df="ended"}(OS||(OS={}));var BS=function(){function t(){}return t.prototype.bU=function(){return new MediaSource},t}(),LS=function(t){function n(n,i,r,e){var u;return void 0===e&&(e=new BS),(u=t.call(this,n,i,r)||this).TU=void 0,u.EU=void 0,u.SU=new PS(0,1/0),u.RU=void 0,u.IU=!1,u.NU=function(){u.CU()},u.DU=function(){u.JT.DU()},u.OU=e,u.GT=u.OU.bU(),u.JT.ls(pa.Gf,u.NU),u.xU=new DS(vt(u),u.JT),u}ct(n,t);var i=n.prototype;return i.PU=function(t){if(m(t)||t<0)throw new d("Invalid duration");var n=t===1/0,i=n?9007199254740991:t;if(n&&this.GT.setLiveSeekableRange){var r=g.pow(2,39);this.GT.setLiveSeekableRange(0,r)}this.BU()?this.GT.duration=i:this.RU=i},i.LU=function(t,n,i,r){this.SU=new PS(t,n,!!i,!!r)},i.JA=function(){var t=Ct.coroutine(Nt.mark(function t(){var n,i,r,e,u,s;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=Rn(this.Go.MU,function(t){return dn(t.fS,"audio")}),i=Rn(this.Go.MU,function(t){return dn(t.fS,"video")}),n&&(r=new hS,this.xU._U(r),this.TU=new AS(this,this.JT,n,Zh.i_,r),this.TU.ls(iS.BL,this.DU)),i&&(e=new hS,this.xU._U(e),this.EU=new AS(this,this.JT,i,Zh.n_,e),this.EU.ls(iS.BL,this.DU)),t.next=6,this.UU();case 6:if(!this.TU){t.next=12;break}return t.next=9,this.FU(this.TU.fS);case 9:return u=t.sent,t.next=12,this.TU.GM(u);case 12:if(!this.EU){t.next=18;break}return t.next=15,this.FU(this.EU.fS);case 15:return s=t.sent,t.next=18,this.EU.GM(s);case 18:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.UU=function(){var n=Ct.coroutine(Nt.mark(function n(){var i;return Nt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=URL.createObjectURL(this.GT),n.next=3,t.prototype.Sd.call(this,i);case 3:return n.next=5,t.prototype.do.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i.FU=function(){var t=Ct.coroutine(Nt.mark(function t(n){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.if===OS.bA){t.next=3;break}return t.next=3,Ua(this.GT,"sourceopen");case 3:if(!(this.TU&&this.TU.rM||this.EU&&this.EU.rM)){t.next=6;break}throw new d("HU");case 6:return t.abrupt("return",this.GT.addSourceBuffer(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.BU=function(){if(this.if!==OS.bA)return!1;var t=this.TU&&this.TU.AO,n=this.EU&&this.EU.AO;return!(t||n)},i.YL=function(){this.IU=!0,this.TU&&this.TU.YL(),this.EU&&this.EU.YL(),this.IU=!1,this.CU()},i.YM=function(t){var n=Rn(this.Go.MU,function(t){return dn(t.fS,"audio")}),i=Rn(this.Go.MU,function(t){return dn(t.fS,"video")});if(this.TU){if(!n)return!1;if(!this.TU.YM(n))return!1}else if(n)return!1;if(this.EU){if(!i)return!1;if(!this.EU.YM(i))return!1}else if(i)return!1;return!0},i.ZM=function(t){var n=Rn(t.MU,function(t){return dn(t.fS,"audio")}),i=Rn(t.MU,function(t){return dn(t.fS,"video")});this.TU&&this.TU.ZM(n),this.EU&&this.EU.ZM(i),this.Go=t},i.$u=function(){var n=Ct.coroutine(Nt.mark(function n(){return Nt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.TU){n.next=4;break}return n.next=3,this.TU.$u();case 3:this.TU=void 0;case 4:if(!this.EU){n.next=8;break}return n.next=7,this.EU.$u();case 7:this.EU=void 0;case 8:return this.ia.src&&URL.revokeObjectURL(this.ia.src),this.JT.ys(pa.Gf,this.NU),this.xU.Dh(),n.next=13,t.prototype.$u.call(this);case 13:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i.oM=function(){this.IU||this.CU()},i.CU=function(){this.VU&&this.BU()&&(this.GT.endOfStream(),this.RU=void 0,this.vs(new ei(YE.Ny)))},i.jM=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i,r;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.FU(n.fS);case 3:return i=t.sent,t.next=6,n.GM(i);case 6:t.next=14;break;case 8:return t.prev=8,t.t0=t.catch(0),(r=this.XU).push(n),t.next=14,this.WU(r);case 14:case"end":return t.stop()}},t,this,[[0,8]])}));return function(n){return t.apply(this,arguments)}}(),i.QM=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!P.$t){t.next=3;break}throw new d("Not supported in Firefox");case 3:this.GT.removeSourceBuffer(i),t.next=11;break;case 6:return t.prev=6,t.t0=t.catch(0),r=this.XU.filter(function(t){return t!==n}),t.next=11,this.WU(r);case 11:case"end":return t.stop()}},t,this,[[0,6]])}));return function(n,i){return t.apply(this,arguments)}}(),i.WU=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i,r,e,u,s,o;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.JT.qU(),i=0,r=this.XU;case 2:if(!(i<r.length)){t.next=10;break}if(!(e=r[i])){t.next=7;break}return t.next=7,e.Ch();case 7:i++,t.next=2;break;case 10:return this.GT=this.OU.bU(),t.next=13,this.UU();case 13:u=0;case 14:if(!(u<n.length)){t.next=24;break}return s=n[u],t.next=18,this.FU(s.fS);case 18:return o=t.sent,t.next=21,s.GM(o);case 21:u++,t.next=14;break;case 24:this.JT.zU();case 25:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.XM=function(){this.BU()&&(this.CL?this.CU():void 0!==this.RU&&(this.GT.duration=this.RU,this.RU=void 0))},n.NL=function(t){if("undefined"==typeof MediaSource)return!1;if("function"!=typeof MediaSource.isTypeSupported)return!1;for(var n=0,i=t.MU;n<i.length;n++){var r=i[n];if(!MediaSource.isTypeSupported(r.fS))return!1}return!0},T(n,[{key:"GU",get:function(){return this.TU}},{key:"jU",get:function(){return this.EU}},{key:"XU",get:function(){var t=[];return this.TU&&this.TU.nM&&t.push(this.TU),this.EU&&this.EU.nM&&t.push(this.EU),t}},{key:"Vv",get:function(){if(this.RU)return this.RU;var t=this.GT.duration;return 9007199254740991===t?1/0:t}},{key:"Wd",get:function(){return xS?function(t){var n=[];if(t.GU&&t.GU.nM&&n.push(t.GU.Wd),t.jU&&t.jU.nM&&n.push(t.jU.Wd),0===n.length)return GT.bm();for(var i=io.rc,r=0;r<n.length;r++){var e=n[r];e.xh>0&&(i=io.Ha(i,e.Uy(e.xh-1)))}for(var u=t.CL,s=new GT([io.rc,i],[!0,u]),o=0;o<n.length;o++){var a=n[o];u&&a.xh>0&&(a=a.sm(new GT([a.Uy(a.xh-1),i],[!0,!0]))),s=s.$y(a)}return s}(this):GT.pm(this.ia.buffered)}},{key:"DL",get:function(){if(this.TU&&this.TU.nM)return this.TU.Wd}},{key:"OL",get:function(){if(this.EU&&this.EU.nM)return this.EU.Wd}},{key:"sl",get:function(){return this.SU.mU().$y(new GT([io.rc,new io(this.Vv)],[!0,!0]))}},{key:"CL",get:function(){return(!this.TU||!this.TU.nM||this.TU.CL())&&(!this.EU||!this.EU.nM||this.EU.CL())}},{key:"if",get:function(){return this.GT.readyState}},{key:"VU",get:function(){if(!this.CL)return!1;var t=this.Wd;return 0!==t.xh&&t.Ly(t.xh-1).Wa(new io(this.JT.Hv))}}]),n}(uS),MS=function(t){function n(n,i,r,e,u,s,o,a){var c;return(c=t.call(this)||this).GB=n,c.QU=i,c.YU=r,c.jB=e,c.QB=u,c.ZU=s,c.YB=o,c.JU=a,c}ct(n,t);var i=n.prototype;return i.bd=function(){this.jB||(this.jB=!0,this.vs(new La(this.Hv)))},i.Ad=function(){this.jB&&(this.jB=!1,this.vs(new Pa(this.Hv)))},T(n,[{key:"Hv",get:function(){return this.GB},set:function(t){this.Hv!==t&&(this.GB=t,this.QB=!0,this.vs(new Ra(this.Hv)))}},{key:"Vv",get:function(){return this.QU}},{key:"Xv",get:function(){return this.YU}},{key:"zv",get:function(){return this.jB}},{key:"jv",get:function(){return this.QB}},{key:"qv",get:function(){return this.ZU},set:function(t){this.qv!==t&&(this.ZU=t,this.vs(new Ea(this.Hv,this.Zv)))}},{key:"Gv",get:function(){return this.YB},set:function(t){this.Gv!==t&&(this.YB=t,this.vs(new Da(this.Hv,this.Gv)))}},{key:"Zv",get:function(){return this.JU},set:function(t){this.Zv!==t&&(this.JU=t,this.vs(new Ea(this.Hv,this.Zv)))}}]),n}(ii),US=function(t){function n(n){var i;return(i=t.call(this)||this).hE=ya.gf,i.KU=function(){i.$U()},i.JT=n,i}ct(n,t);var i=n.prototype;return i.tF=function(t){this.hE!==t&&(this.hE=t,this.vs(new ka(this.JT.Hv,t)))},i.$U=function(){this.tF(this.nP())},i.Ch=function(){this.tF(ya.gf)},i.$u=function(){this.gs()},T(n,[{key:"if",get:function(){return this.nP()}}]),n}(ii),FS=["emptied","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","timeupdate","progress","seeking","seeked"],HS=function(t){function n(n){var i;i=t.call(this,n)||this;for(var r=0;r<FS.length;r++){var e=FS[r];i.JT.uS.addEventListener(e,i.KU)}return i}ct(n,t);var i=n.prototype;return i.nP=function(){var t=this.JT.uS.readyState;return t>ya.yf&&this.JT.nF?ya.yf:(this.JT.uS.seeking&&t>ya.wf&&(t=ya.wf),t)},i.$u=function(){for(var n=0;n<FS.length;n++){var i=FS[n];this.JT.uS.removeEventListener(i,this.KU)}t.prototype.$u.call(this)},n}(US),VS=io.ic.nc,XS=new io(40,1e3),WS=function(t){function n(n){var i;(i=t.call(this,n)||this).JT.ls(pa.Gf,i.KU);for(var r=0;r<FS.length;r++){var e=FS[r];i.JT.uS.addEventListener(e,i.KU)}return i}ct(n,t);var i=n.prototype;return i.nP=function(){if(this.JT.uS.readyState===ya.gf)return ya.gf;var t=this.iF(),n=t?t.Uy-t.Ly:0;if(!t)return ya.wf;var i=this.JT.Gv;return this.rF()||n>=3*i?ya.kf:n>=3?ya.mf:ya.yf},i.iF=function(){var t=new io(this.JT.Hv),n=this.JT.Wd.um(XS),i=n.cm(t);if(!(i<0))return{Ly:t.nc,Uy:n.Uy(i).nc}},i.rF=function(){if(this.JT.Xv)return!0;var t=this.JT.Vv,n=this.iF();return!!n&&t-n.Uy<=VS},i.$u=function(){this.JT.ys(pa.Gf,this.KU);for(var n=0;n<FS.length;n++){var i=FS[n];this.JT.uS.removeEventListener(i,this.KU)}t.prototype.$u.call(this)},n}(US),qS=[la.gh,pa.Hf,pa.Ff,pa.Gf,pa.zf,pa.Df,sa.$h],zS=function(t){function n(n){var i;return(i=t.call(this,n)||this).eF=!1,i.uF=function(){i.eF=!0,i._o()},i.ia=n.uS,i.ia.addEventListener(la._f,i.uF),i}ct(n,t);var i=n.prototype;return i.sF=function(){return this.eF&&t.prototype.sF.call(this)},i._o=function(){this.eF&&(this.ia.paused||this.ia.ended||this.ia.error)&&(this.eF=!1),t.prototype._o.call(this)},i.Ch=function(){t.prototype.Ch.call(this),this.eF=!1},i.$u=function(){this.ia.removeEventListener(la._f,this.uF),t.prototype.$u.call(this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).oF=!1,i.bO=function(){i._o()},i.aE=n,i.aE.ls(qS,i.bO),i}ct(n,t);var i=n.prototype;return i.aF=function(){return this.aE.if<ya.mf},i.sF=function(){return!this.aE.jv&&!(this.aE.zv||this.aE.Xv||this.aE.Is||this.aF())},i._o=function(){var t=this.oF;this.oF=this.sF(),!t&&this.oF&&this.vs(new rw(this.aE.Hv))},i.Ch=function(){this.oF=!1},i.$u=function(){this.gs(),this.aE.ys(qS,this.bO)},n}(ii)),GS=function(t){function n(n){var i;return(i=t.call(this,sa.$h)||this).Is=n,i}return ct(n,t),n}(ei);function jS(t,n,i,r,e,u,s){void 0===e&&(e=!1),void 0===u&&(u=0),void 0===s&&(s=t.length);for(var o=u,a=s-1;o<=a;){var c=o+(a-o>>1),h=r(i(t[c]),n);if(h<0)o=c+1;else if(h>0)a=c-1;else{if(!(e&&c>u&&0===r(i(t[c-1]),n)))return c;a=c-1}}return~o}function QS(t,n){return t.Km<=n&&t.$m>n}function YS(t,n){return function(t,n){return to(t.Km,n.Km,cv)}(t,n)||function(t,n){return to(t.$m,n.$m,cv)}(t,n)}function ZS(t,n){var i=jS(t,n,Q,YS,!0);if(i<0)return i;for(;i<t.length&&YS(n,t[i])===qs.xa;i++)if(t[i].Ja(n))return i;return-(i+1)}function JS(t){var n=t.ih;if(!n)return-1;if(t instanceof fv)return n.cF(t);var i=n.rf;if(!i)return-1;var r=ZS(i.Oh,t);return r>=0?r:-1}function KS(t,n){var i=function(t,n,i){for(var r=t.length,e=n.length,u=0,s=0,o=[],a=[];u<r&&s<e;){var c=t[u],h=n[s];c===h?(u++,s++):i(h,c)<=0?(o.push(h),s++):(a.push(c),u++)}for(;u<r;)a.push(t[u]),u++;for(;s<e;)o.push(n[s]),s++;return{hF:o,fF:a}}(t,n,YS);return function(t,n){for(var i=n.length,r=0;r<i;r++)t[r]=n[r];t.length=i}(t,n),i}var $S=function(){function t(t){this.$c=void 0,this.vF=t}var n=t.prototype;return n.nh=function(){return function(t){for(var n=[],i=0;i<t.xh;i++)n[i]=t.Ls(i).th;return n.item=function(n){var i=0|n,r=t.Ls(i);return r&&r.th||void 0},_.defineProperty(n,"constructor",{value:ov}),n}(this)},n.Lm=function(t){for(var n=this.vF,i=n.length-1;i>=0;i-=1){var r=n[i];if(t.Ja(r))return!0}return!1},n.Ls=function(t){return this.vF[t]},T(t,[{key:"Oh",get:function(){return this.vF}},{key:"xh",get:function(){return this.vF.length}},{key:"th",get:function(){if(this.$c){var t=this.vF;this.$c.length=t.length;for(var n=0;n<t.length;n++)this.$c[n]=t[n].th}else this.$c=this.nh();return this.$c}}]),t}(),tR=function(t){function n(n,i){var r;return(r=t.call(this,Co.gh)||this).ih=n,r.if=i,r}return ct(n,t),n.prototype.nh=function(){return new nR(this.ih.th,da(this.if))},n}(Do),nR=function(t){function n(n,i){var r;return(r=t.call(this,"readystatechange")||this).track=n,r.readyState=i,r}return ct(n,t),n}(Oo),iR=function(t){function n(n){var i;return(i=t.call(this,Co.yh)||this).ih=n,i}return ct(n,t),n.prototype.nh=function(){return new rR(this.ih.th)},n}(Do),rR=function(t){function n(n){var i;return(i=t.call(this,"typechange")||this).track=n,i}return ct(n,t),n}(Oo),eR=function(t){function n(n){var i;return(i=t.call(this,Co.rh)||this).Jm=n,i}return ct(n,t),n.prototype.nh=function(){return new uR(this.Jm.th)},n}(Do),uR=function(t){function n(n){var i;return(i=t.call(this,"addcue")||this).cue=n,i}return ct(n,t),n}(Oo),sR=function(t){function n(n){var i;return(i=t.call(this,Co.uh)||this).Jm=n,i}return ct(n,t),n.prototype.nh=function(){return new oR(this.Jm.th)},n}(Do),oR=function(t){function n(n){var i;return(i=t.call(this,"removecue")||this).cue=n,i}return ct(n,t),n}(Oo),aR=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this)||this).Hm=String(cR++),o.Fm=Xf(),o.dF=!1,o.yv=ua.Zh,o.lF=Qf.NONE,o._F=void 0,o.vF=[],o.gF=[],o.wF=0,o.yF=0,o.mF=s||"",o.kF=n,o.pF=r||"",o.dF=Boolean(e),o.ga=u||Xh.DEFAULT,o.Vm=i||"",o.AF=new $S(o.vF),o.bF=new $S(o.gF),o}ct(n,t);var i=n.prototype;return i.TF=function(t){return Rn(this.AF.Oh,function(n){return n.Wh===t})},i.nh=function(){return ha(this)},i.Sv=function(t){var n=aa(t);n!==this.nf&&(this.yv=n,n===ua.Zh&&(this.gF.forEach(function(t){t.yk=!1}),xn(this.gF),this.yF=0))},i.FA=function(t){if(t&&!t.ih){var n=ZS(this.rf.Oh,t);if(!(n>=0)){t.ih=this;var i=-(n+1);this.vF.splice(i,0,t),this.EF(i),t.dk=i,i<this.yF&&(this.yF=i),this.vs(new eR(t))}}},i.SF=function(t){if(t&&t.ih===this){var n=this.cF(t);if(!(n<0)){t.yk=!1;var i=this.gF,r=ZS(i,t);r>=0&&Cn(i,r),Cn(this.vF,n),this.EF(n),t.dk=-1,this.yF>n&&--this.yF,this.vs(new sR(t))}}},i.RF=function(t,n){var i=this.gF,r=this.vF,e=this.yF,u=!1;n&&(e=0);for(var s=i.length-1;s>=0;s--){QS(i[s],t)||(u=!0,Cn(i,s))}for(;e<r.length&&r[e].Km<=t;){var o=r[e];QS(o,t)&&!Dn(i,o)&&(u=!0,i.push(o)),e++}u&&Tn(i,YS),this.yF=e},i.cF=function(t){return(-1===t.dk||t.dk>=this.wF)&&this.IF(),t.dk},i.IF=function(){for(var t=this.vF,n=this.wF;n<t.length;n++)t[n].dk=n;this.wF=t.length},i.EF=function(t){t<this.wF&&(this.wF=t)},i.Dh=function(){this.gs();for(var t=this.vF.slice(),n=0;n<t.length;n++){t[n].Dh()}xn(this.vF),xn(this.gF)},T(n,[{key:"ef",get:function(){return this.bF}},{key:"rf",get:function(){return this.AF}},{key:"VA",get:function(){return this.dF},set:function(t){this.dF=t}},{key:"th",get:function(){return this.$c||(this.$c=this.nh()),this.$c}},{key:"Wh",get:function(){return this.Hm}},{key:"qh",get:function(){return this.Fm}},{key:"tf",get:function(){return this.mF},set:function(t){this.mF=t}},{key:"zh",get:function(){return this.kF}},{key:"Gh",get:function(){return this.Vm},set:function(t){t!==this.Vm&&(this.Vm=t,this.vs(new Ff(this)))}},{key:"jh",get:function(){return this.pF}},{key:"nf",get:function(){return this.yv},set:function(t){this.Sv(t),this.vs(new Uo(this))}},{key:"if",get:function(){return this.lF},set:function(t){this.lF!==t&&(this.lF=t,this.vs(new tR(this,this.lF)))}},{key:"uf",get:function(){return this._F},set:function(t){this._F=t}},{key:"Cu",get:function(){return this.ga},set:function(t){this.ga!==t&&(this.ga=t,this.vs(new iR(this)))}}]),n}(ii),cR=0;var hR=function(t){function n(n){var i;(i=t.call(this)||this).NF=[],i.CF=function(t){i.Rh(t.ih)},i.DF=function(t){var n=t.ih;i.OF(n)||i.Ih(n)};for(var r=0;r<n.length;r++){var e=n[r];i.xF(e)}return i}ct(n,t);var i=n.prototype;return i.xF=function(t){this.NF.push(t);for(var n=0,i=t.Oh;n<i.length;n++){var r=i[n];this.Rh(r)}this.PF(t)},i.BF=function(t){Nn(this.NF,t),this.LF(t);for(var n=0,i=t.Oh;n<i.length;n++){var r=i[n];this.OF(r)||this.Ih(r)}},i.OF=function(t){for(var n=0,i=this.NF;n<i.length;n++){if(i[n].Nh(t))return!0}return!1},i.PF=function(t){t.ls(To.Yc,this.CF),t.ls(To.Jc,this.DF)},i.LF=function(t){t.ys(To.Yc,this.CF),t.ys(To.Jc,this.DF)},i.Dh=function(){for(;this.NF.length>0;)this.BF(this.NF[0]);t.prototype.Dh.call(this)},i.nh=function(){return va(this)},n}(Mo),fR=function(t){function n(n,i){var r;return(r=t.call(this,Kf.Ym,n)||this).La=i,r}return ct(n,t),n.prototype.nh=function(){return new vR(this.Jm.th)},n}(ev),vR=function(t){function n(n){return t.call(this,$f.Ym,n)||this}return ct(n,t),n}(uv),dR=function(t){function n(n,i){var r;return(r=t.call(this,Kf.Zm,n)||this).La=i,r}return ct(n,t),n.prototype.nh=function(){return new lR(this.Jm.th)},n}(ev),lR=function(t){function n(n){return t.call(this,$f.Zm,n)||this}return ct(n,t),n}(uv),_R=function(t){function n(n){var i;return(i=t.call(this,Co.oh)||this).Jm=n,i}return ct(n,t),n.prototype.nh=function(){return new gR(this.Jm.th)},n}(Do),gR=function(t){function n(n){var i;return(i=t.call(this,"entercue")||this).cue=n,i}return ct(n,t),n}(Oo),wR=function(t){function n(n){var i;return(i=t.call(this,Co.hh)||this).Jm=n,i}return ct(n,t),n.prototype.nh=function(){return new yR(this.Jm.th)},n}(Do),yR=function(t){function n(n){var i;return(i=t.call(this,"exitcue")||this).cue=n,i}return ct(n,t),n}(Oo),mR=function(t){function n(n){var i;return(i=t.call(this)||this).hk=void 0,i.$c=void 0,i.fk=!1,i.vk="",i.MF=function(){i.yk=!0},i.UF=function(){i.yk=!1},i.FF=n,i.FF.addEventListener("enter",i.MF),i.FF.addEventListener("exit",i.UF),i}ct(n,t);var i=n.prototype;return i.nh=function(){return sv(this)},i.Ja=function(t){return this===t||Go(this,t)&&hv(this,t)},i.Dh=function(){this.gs(),this.FF.removeEventListener("enter",this.MF),this.FF.removeEventListener("exit",this.UF)},T(n,[{key:"Km",get:function(){return this.FF.startTime},set:function(t){this.FF.startTime=t}},{key:"$m",get:function(){return this.FF.endTime},set:function(t){this.FF.endTime=t}},{key:"tk",get:function(){return this.FF.text},set:function(t){this.FF.text=t+""}},{key:"kk",get:function(){return!!this.FF.pauseOnExit},set:function(t){this.FF.pauseOnExit=!!t}},{key:"ih",get:function(){return this.hk},set:function(t){this.hk=t}},{key:"Wh",get:function(){return this.FF.id||""},set:function(t){this.FF.id=t||""}},{key:"th",get:function(){return this.$c||(this.$c=this.nh()),this.$c}},{key:"mk",get:function(){return this.vk},set:function(t){this.vk=t}},{key:"yk",get:function(){return this.fk},set:function(t){this.yk!==t&&(this.fk=t,t?(this.vs(new fR(this,this.Km)),this.hk&&this.hk.vs(new _R(this))):(this.vs(new dR(this,this.$m)),this.hk&&this.hk.vs(new wR(this))))}}]),n}(ga),kR=function(t){function n(n){var i;return(i=t.call(this,Co.vh)||this).ih=n,i}return ct(n,t),n.prototype.nh=function(){return new pR(this.ih.th)},n}(Do),pR=function(t){function n(n){var i;return(i=t.call(this,"cuechange")||this).track=n,i}return ct(n,t),n}(Oo);function AR(t){if(t){var n=t.THEOplayerVTTRegion;return n||(n=new bR(t),t.THEOplayerVTTRegion=n),n}}var bR=function(){function t(t){this.$c=void 0,this.HF=t}return T(t,[{key:"VF",get:function(){return this.HF}},{key:"Wh",get:function(){return this.HF.id||""}},{key:"mc",get:function(){return+this.HF.width||0},set:function(t){this.HF.width=t||0}},{key:"pk",get:function(){return+this.HF.lines||0},set:function(t){this.HF.lines=t||0}},{key:"Ak",get:function(){return+this.HF.regionAnchorX||0},set:function(t){this.HF.regionAnchorX=t||0}},{key:"bk",get:function(){return+this.HF.regionAnchorY||0},set:function(t){this.HF.regionAnchorY=t||0}},{key:"Ek",get:function(){return+this.HF.viewportAnchorX||0},set:function(t){this.HF.viewportAnchorX=t||0}},{key:"Sk",get:function(){return+this.HF.viewportAnchorY||0},set:function(t){this.HF.viewportAnchorY=t||0}},{key:"Tk",get:function(){return this.HF.scroll||""}},{key:"th",get:function(){return this.$c||(this.$c=yv(this)),this.$c}}]),t}(),TR=function(t){function n(n){return t.call(this,n)||this}return ct(n,t),T(n,[{key:"ck",get:function(){return this.FF.vertical||""},set:function(t){this.FF.vertical=t||""}},{key:"ak",get:function(){return!!this.FF.snapToLines},set:function(t){this.FF.snapToLines=!!t}},{key:"ik",get:function(){return this.FF.line},set:function(t){this.FF.line=t}},{key:"Hs",get:function(){return+this.FF.size},set:function(t){this.FF.size=Gs(t,0,100)}}]),n}(mR),ER=function(t){function n(n){return t.call(this,n)||this}return ct(n,t),n.prototype.Ja=function(n){return this===n||Go(this,n)&&t.prototype.Ja.call(this,n)&&vv(this,n)},T(n,[{key:"sk",get:function(){return AR(this.FF.region)}},{key:"rk",get:function(){return this.FF.lineAlign||"start"},set:function(t){this.FF.lineAlign=t||"start"}},{key:"ek",get:function(){return this.FF.position},set:function(t){this.FF.position=t}},{key:"uk",get:function(){return this.FF.positionAlign||"auto"},set:function(t){this.FF.positionAlign=t||"auto"}},{key:"nk",get:function(){return this.FF.align||"center"},set:function(t){this.FF.align=t||"center"}},{key:"th",get:function(){return this.$c||(this.$c=av(this)),this.$c}}]),n}(TR),SR=function(t){function n(n){return t.call(this,n)||this}return ct(n,t),n.prototype.Ja=function(n){return this===n||Go(this,n)&&t.prototype.Ja.call(this,n)&&vv(this,n)},T(n,[{key:"sk",get:function(){return AR(this.VF)}},{key:"VF",get:function(){return function(t,n){if(void 0!==n){var i=t&&t.regions;return i&&i.getRegionById(n)||void 0}}(this.FF.track,this.FF.regionId)}},{key:"rk",get:function(){return"middle"===(t=this.FF.lineAlign||"start")?"center":t;var t},set:function(t){var n;this.FF.lineAlign="center"===(n=t||"start")?"middle":n}},{key:"ek",get:function(){return this.FF.position},set:function(t){var n,i;this.FF.position=(n=t,i=this.nk,rv(n,i))}},{key:"uk",get:function(){return t=this.FF.positionAlign||"middle",nv[t];var t},set:function(t){var n,i;this.FF.positionAlign=(n=t||"center",i=this.nk,tv[iv(n,i)])}},{key:"nk",get:function(){return"middle"===(t=this.FF.align||"middle")?"center":t;var t},set:function(t){var n;this.FF.align="center"===(n=t||"center")?"middle":n}},{key:"th",get:function(){return this.$c||(this.$c=av(this)),this.$c}}]),n}(TR);function RR(t,n){return t.tk===n.tk}function IR(t,n,i){for(var r=t[n].Km,e=n;e>=0&&t[e].Km===r;e--)t[e].$m=i}function NR(t){return sv(t)}var CR,DR,OR=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).XF=i,r}return ct(n,t),n.prototype.Ja=function(n){return this===n||Go(this,n)&&t.prototype.Ja.call(this,n)&&RR(this,n)},T(n,[{key:"tk",get:function(){return this.XF}},{key:"th",get:function(){return this.$c||(this.$c=NR(this)),this.$c}}]),n}(mR);function xR(t){switch(t){case CR.ISO_8859_1:case CR.UTF16_BOM:case CR.UTF16:case CR.UTF8:return!0}return!1}function PR(t){switch(t){case CR.ISO_8859_1:return kr;case CR.UTF16_BOM:return br;case CR.UTF16:return Tr;case CR.UTF8:return Dr}}function BR(t,n){var i=n.zs,r=t.byteLength,e=Mr(t);return n.Xs(r-i),Hr(e,i,r).buffer}function LR(t,n){return{id:t||"",data:n instanceof ArrayBuffer?n:void 0}}function MR(t,n,i){var r=ur(t,n);if(xR(r)){var e=PR(r);return{id:i,language:yr(t,n,3),description:e(t,n),text:e(t,n)}}}function UR(t,n,i){var r=ur(t,n);if(xR(r)){var e=PR(r);return{id:i,mimeType:kr(t,n),fileName:e(t,n),description:e(t,n),data:BR(t,n)}}}function FR(t,n,i){var r=ur(t,n);if(xR(r)){for(var e=PR(r),u=[];n.zs<t.byteLength;)u.push({involvement:e(t,n),involvee:e(t,n)});return{id:i,entries:u}}}function HR(t,n,i){var r=ur(t,n);if(xR(r)){for(var e=PR(r),u=yr(t,n,3),s=ur(t,n),o=ur(t,n),a=e(t,n),c=!1,h=[];n.zs<t.byteLength;){var f=void 0;if(r===CR.UTF16_BOM){var v=Ar(t,n);void 0===v?v=c:c=v,f=Tr(t,n,v)}else f=e(t,n);if(!f||n.zs+4>t.byteLength)break;h.push({text:f,timestamp:dr(t,n)})}return{id:i,language:u,format:s,contentType:o,description:a,entries:h}}}function VR(t,n,i){return{id:i,ownerIdentifier:kr(t,n),identifier:BR(t,n)}}function XR(t,n,i){var r=ur(t,n);if(xR(r)){var e=PR(r);return{id:i,language:yr(t,n,3),description:e(t,n),text:e(t,n)}}}function WR(t,n,i){var r=ur(t,n);if(xR(r))return{id:i,text:PR(r)(t,n)}}function qR(t,n,i){return{id:i,url:kr(t,n)}}function zR(t,n,i){var r=ur(t,n);if(xR(r)){var e=PR(r);return{id:i,description:e(t,n),text:e(t,n)}}}function GR(t,n,i){var r=ur(t,n);if(xR(r))return{id:i,description:PR(r)(t,n),url:kr(t,n)}}function jR(t,n,i){switch(i){case"COM":return MR(t,n,i);case"GEO":return UR(t,n,i);case"IPL":return FR(t,n,i);case"PIC":return function(t,n,i){var r=ur(t,n);if(xR(r)){var e,u,s=PR(r),o=yr(t,n,3),a=ur(t,n),c=s(t,n);return"--\x3e"===o?(e=o,u=kr(t,n)):(e="image/"+o.toLowerCase(),u=BR(t,n)),{id:i,mimeType:e,pictureType:a,description:c,data:u}}}(t,n,i);case"SLT":return HR(t,n,i);case"TXX":return zR(t,n,i);case"UFI":return VR(t,n,i);case"ULT":return XR(t,n,i);case"WXX":return GR(t,n,i);default:if("T"===i.charAt(0))return WR(t,n,i);if("W"===i.charAt(0))return qR(t,n,i)}}function QR(t,n,i){switch(i){case"APIC":return function(t,n,i){var r=ur(t,n);if(xR(r)){var e=PR(r),u=kr(t,n);return{id:i,mimeType:u,pictureType:ur(t,n),description:e(t,n),data:"--\x3e"===u?kr(t,n):BR(t,n)}}}(t,n,i);case"COMM":return MR(t,n,i);case"COMR":return function(t,n,i){var r=ur(t,n);if(xR(r)){var e,u,s=PR(r),o=kr(t,n),a=yr(t,n,8),c=kr(t,n),h=ur(t,n),f=s(t,n),v=s(t,n);return n.zs<t.byteLength&&(e=kr(t,n)||"image/",u=BR(t,n)),{id:i,price:o,validUntil:a,contactURL:c,receivedAs:h,nameOfSeller:f,description:v,pictureMimeType:e,sellerLogo:u}}}(t,n,i);case"GEOB":return UR(t,n,i);case"IPLS":return FR(t,n,i);case"PRIV":return function(t,n,i){return{id:i,ownerIdentifier:kr(t,n),data:BR(t,n)}}(t,n,i);case"POSS":return function(t,n,i){return{id:i,format:ur(t,n),position:dr(t,n)}}(t,n,i);case"SYLT":return HR(t,n,i);case"TXXX":return zR(t,n,i);case"UFID":return VR(t,n,i);case"USER":return function(t,n,i){var r=ur(t,n);if(xR(r)){var e=PR(r);return{id:i,language:yr(t,n,3),text:e(t,n)}}}(t,n,i);case"USLT":return XR(t,n,i);case"WXXX":return GR(t,n,i);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return WR(t,n,i);default:var r=i.charAt(0);if("T"===r)return WR(t,n,i);if("W"===r)return qR(t,n,i)}}!function(t){t[t.ISO_8859_1=0]="ISO_8859_1",t[t.UTF16_BOM=1]="UTF16_BOM",t[t.UTF16=2]="UTF16",t[t.UTF8=3]="UTF8"}(CR||(CR={})),function(t){t[t.V22=2]="V22",t[t.V23=3]="V23",t[t.V24=4]="V24"}(DR||(DR={}));var YR=10;function ZR(t,n){return(127&ur(t,n))<<21|(127&ur(t,n))<<14|(127&ur(t,n))<<7|127&ur(t,n)}function JR(t,n){switch(t){case DR.V24:return{WF:er(n,0),qF:er(n,1),zF:er(n,2),GF:er(n,3)};case DR.V23:return{WF:er(n,0),qF:er(n,1),zF:er(n,2)};case DR.V22:return{WF:er(n,0),jF:er(n,1)}}}function KR(t,n,i){switch(i.O_){case DR.V23:i.x_.qF&&function(t,n){var i=n.zs,r=dr(t,n)+4,e=32768&fr(t,n);n.Ws(i+r),e&&dr(t,n)}(t,n);break;case DR.V24:i.x_.qF&&function(t,n){var i=n.zs,r=ZR(t,n);n.Ws(i+r)}(t,n)}}function $R(t,n){if(t.byteLength-n.zs<YR)return null;if(73!==ur(t,n)||68!==ur(t,n)||51!==ur(t,n))return null;var i=ur(t,n),r=ur(t,n);if(!function(t){switch(t){case DR.V22:case DR.V23:case DR.V24:return!0}return!1}(i))return null;var e=ur(t,n),u=ZR(t,n);return{O_:i,QF:r,x_:JR(i,e),YF:u}}function tI(t,n,i){switch(i.O_){case DR.V22:return function(t,n,i){return{Wh:yr(t,n,3),Hs:hr(t,n,3)}}(t,n);case DR.V23:return function(t,n,i){var r=yr(t,n,4),e=dr(t,n);ur(t,n);var u=ur(t,n);return{Wh:r,Hs:e,x_:{jF:er(u,0),ZF:er(u,1),groupingIdentity:er(u,2)}}}(t,n);case DR.V24:return function(t,n,i){var r=yr(t,n,4),e=ZR(t,n);ur(t,n);var u=ur(t,n);return{Wh:r,Hs:e,x_:{groupingIdentity:er(u,1),jF:er(u,4),ZF:er(u,5),WF:er(u,6),JF:er(u,7)}}}(t,n)}}function nI(t){for(var n=new k(t.byteLength),i=0,r=0;r<t.byteLength;r++){var e=t.getUint8(r);255===e&&r++,n[i]=e,i++}return new DataView(n,0,i)}function iI(t,n){var i=n||new Xr,r=$R(t,i);return r?{R_:r,KF:function(t,n,i){var r=[],e=n.zs,u=Br(t,e,e+i.YF),s=new Xr;switch(n.Xs(i.YF),i.O_){case DR.V22:case DR.V23:i.x_.WF&&(u=nI(u))}KR(t,n,i);for(;s.zs<u.byteLength;)r.push(rI(u,s,i));return r}(t,i,r)}:null}function rI(t,n,i){var r,e,u=tI(t,n,i),s=n.zs,o=Br(t,s,s+u.Hs);switch(n.Xs(u.Hs),i.O_){case DR.V22:var a=u;r=jR(e=o,new Xr,a.Wh);break;case DR.V23:var c=u,h=new Xr;!function(t,n,i){var r,e,u,s=i.x_;s.jF&&(r=dr(t,n)),s.ZF&&(e=ur(t,n)),s.groupingIdentity&&(u=ur(t,n))}(o,h,c),r=QR(e=Br(o,h.zs,o.byteLength),new Xr,c.Wh);break;case DR.V24:var f=u,v=new Xr;f.x_.WF&&(o=nI(o)),function(t,n,i){var r,e,u,s,o=i.x_;o.groupingIdentity&&(r=ur(t,n)),o.jF&&(e=dr(t,n)),o.ZF&&(u=ur(t,n)),o.JF&&(s=ZR(t,n))}(o,v,f),r=QR(e=Br(o,v.zs,o.byteLength),new Xr,f.Wh)}if(!r){var d=Vr(Mr(e));r=LR(u.Wh,d.buffer)}return r}function eI(t){return function(t,n,i){return WR(t,n,i)}(new DataView(t.data),new Xr,t.key)}function uI(t){switch(t.key){case"APIC":case"PIC":return function(t){return{id:t.key,mimeType:t.type,pictureType:16,description:t.info,data:t.data}}(t);case"GEOB":case"GEO":return function(t){return{id:t.key,mimeType:t.type,fileName:t.name,description:t.info,data:t.data}}(t);case"PRIV":return function(t){return{id:t.key,ownerIdentifier:t.info,data:t.data}}(t);case"TXXX":case"TXX":return function(t){return{id:t.key,description:t.info,text:t.data}}(t);case"WXXX":case"WXX":return function(t){return{id:t.key,description:t.info,url:t.data}}(t);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return eI(t);default:var n=t.key.charAt(0);if("T"===n)return function(t){return{id:t.key,text:t.data}}(t);if("W"===n)return function(t){return{id:t.key,url:t.data}}(t)}return function(t){return LR(t.key,t.data)}(t)}var sI="org.id3";var oI=function(t){function n(n,i,r){var e;return void 0===r&&(r=!0),(e=t.call(this)||this).vF=[],e.gF=[],e.yv=ua.Zh,e.lF=Qf.NONE,e._F=void 0,e.ga=Xh.DEFAULT,e.tH=function(){e.nH(),e.Um.removeEventListener("cuechange",e.tH)},e.iH=function(){e.nf!==ua.Zh&&(e.rH(),e.RF(),e.vF.length&&e.eH(Qf.LOADING))},e.uH=function(){e.eH(Qf.LOADED)},e.sH=function(){e.eH(Qf.ERROR)},e.Um=n,e.oH=r,e.Um.addEventListener("cuechange",e.tH),e.Um.addEventListener("cuechange",e.iH),e.aH=i,e.aH&&(e._F=Fs(e.aH.src),e.aH.addEventListener("load",e.uH),e.aH.addEventListener("error",e.sH)),e.Fm=Xf(),e.Vm=n.label||"",e.AF=new $S(e.vF),e.bF=new $S(e.gF),e.nf=e.cH,jn(function(){e.iH(),e.eH(Qf.NONE)}),e}ct(n,t);var i=n.prototype;return i.nh=function(){return ha(this)},i.nH=function(){var t=this.nf;this.hH||t!==ua.Kh?this.cH=t:this.cH=ua.Jh},i.fH=function(){var t=this.nf,n=this.cH;t!==n&&(this.hH||t!==ua.Kh||n!==ua.Jh)&&("metadata"===this.zh&&n===ua.Zh?this.nf=t:this.nf=n)},i.$U=function(t){this.lF!==t&&(this.lF=t,this.vs(new tR(this,t)))},i.eH=function(t){var n=g.max(this.lF,this.vH,t);this.$U(n)},i.dH=function(t){return t&&t.THEOplayerTextTrackCue||void 0},i.lH=function(t){var n=this.dH(t);if(n)return n;if(F(n=this._H(t)))for(var i=0,r=n;i<r.length;i++){r[i].ih=this}else n.ih=this;return t.THEOplayerTextTrackCue=n,n},i._H=function(t){return(n=t)&&n.type===sI&&n.value?(this.Cu=Xh.ID3,function(t){var n;try{n=uI(t.value)}catch(t){n=LR("")}return new OR(t,n)}(t)):function(t){return!!(t&&t.data instanceof ArrayBuffer)}(t)?(this.Cu=Xh.ID3,function(t){var n=[];try{var i=iI(new DataView(t.data));if(i)for(var r=0,e=i.KF;r<e.length;r++){var u=e[r];n.push(new OR(t,u))}}catch(t){}return n}(t)):function(t){return"text"in t}(t)?(this.Cu=Xh.WEBVTT,function(t){return function(t){return"regionId"in t}(t)}(t)?new SR(t):new ER(t)):new mR(t);var n},i.gH=function(t){var n=[];if(!t)return n;for(var i=t.length,r=0;r<i;r++){var e=this.lH(t[r]||t.item(r));if(F(e))for(var u=0;u<e.length;u++){var s=e[u];n.push(s)}else n.push(e)}return n},i.rH=function(){for(var t=this.gH(this.Um.cues),n=KS(this.vF,t),i=0,r=n.fF;i<r.length;i++){var e=r[i];this.vs(new sR(e))}for(var u=0,s=n.hF;u<s.length;u++){var o=s[u];this.vs(new eR(o))}},i.RF=function(){for(var t=this.gH(this.Um.activeCues),n=KS(this.gF,t),i=0,r=n.fF;i<r.length;i++){r[i].yk=!1}for(var e=0,u=n.hF;e<u.length;e++){u[e].yk=!0}(n.hF.length||n.fF.length)&&this.vs(new kR(this))},i.Dh=function(){this.gs();for(var t=this.vF.slice(),n=0;n<t.length;n++){t[n].Dh()}xn(this.vF),xn(this.gF),this.Um.removeEventListener("cuechange",this.iH),this.aH&&(this.Um.removeEventListener("load",this.uH),this.Um.removeEventListener("error",this.sH)),this.aH&&Ee(this.aH)},T(n,[{key:"ef",get:function(){return this.bF}},{key:"VA",get:function(){return this.aH?this.aH.default:void 0}},{key:"rf",get:function(){return this.AF}},{key:"th",get:function(){return this.$c||(this.$c=this.nh()),this.$c}},{key:"Wh",get:function(){return this.Um.id||this.aH&&this.aH.id||""}},{key:"qh",get:function(){return this.Fm}},{key:"tf",get:function(){return this.Um.inBandMetadataTrackDispatchType||""}},{key:"zh",get:function(){return this.Um.kind||af.Nm}},{key:"Gh",get:function(){return this.Vm},set:function(t){t!==this.Gh&&(this.Vm=t,this.vs(new Ff(this)))}},{key:"jh",get:function(){return this.Um.language||""}},{key:"nf",get:function(){return this.yv},set:function(t){var n=this.nf;this.yv=aa(t),this.nH();var i=this.nf;n!==i&&this.vs(new Uo(this)),i!==ua.Zh&&this.eH(Qf.LOADING)}},{key:"cH",get:function(){return aa(this.Um.mode)},set:function(t){this.Um.mode=t}},{key:"zm",get:function(){return this.Um}},{key:"if",get:function(){return this.lF}},{key:"vH",get:function(){return this.aH?+this.aH.readyState||Qf.NONE:Qf.LOADED}},{key:"uf",get:function(){return this._F}},{key:"Cu",get:function(){return this.ga},set:function(t){this.ga!==t&&(this.ga=t,this.vs(new iR(this)))}},{key:"hH",get:function(){return this.oH},set:function(t){this.oH=t,this.nH()}}]),n}(ii);function aI(t){return t instanceof oI}function cI(t,n){return $s(t.La,n.La)||function(t,n){return t.ih===n.ih?Ks(JS(t),JS(n)):yl(t.ih,n.ih)}(t.Jm,n.Jm)||function(t,n){return t===n?qs.xa:t===Kf.Ym?qs.Ba:qs.Pa}(t.type,n.type)}var hI=function(){function t(t,n){var i=this;this.gd=[],this.wH=0,this.yH=0,this.mH=[],this.kH=!1,this.pH=!1,this.AH=void 0,this.bH=function(){i.wH=0,i.TH(),i.EH()},this.SH=function(){i.TH(),i.EH()},this.RH=function(){i.pH=!0,i.AH=i.nR.Hv,i.IH()},this.NH=function(){i.TH(),i.EH()},this.CH=function(){i.DH(),i.TH(),i.EH()},this.OH=function(){i.xH()},this.PH=function(t){Nn(i.mH,t.Jm),i.xH()},this.BH=n,this.nR=t,t.ls(pa.$f,this.SH),t.ls(pa.Hf,this.SH),t.ls(la._f,this.SH),t.ls(pa.Ff,this.SH),t.ls(pa.Gf,this.RH),t.ls(pa.zf,this.NH),this.xH()}var n=t.prototype;return n.Ch=function(){xn(this.mH);for(var t=0,n=this.gd.slice();t<n.length;t++){var i=n[t];this.Ih(i)}this.IH(),this.wH=0,this.yH=0,this.kH=!1,this.pH=!1,this.AH=void 0},n.Rh=function(t){Dn(this.gd,t)||(this.gd.push(t),t.ls(Co.rh,this.OH),t.ls(Co.uh,this.PH),t.ls(Co.lh,this.CH),t.rf.xh&&this.xH(),this.DH())},n.Ih=function(t){if(Nn(this.gd,t)){if(t.ys(Co.rh,this.OH),t.ys(Co.uh,this.PH),t.ys(Co.lh,this.CH),t.rf.xh){for(var n=0,i=t.rf.Oh;n<i.length;n++){var r=i[n];Nn(this.mH,r)}this.xH()}this.DH()}},n.DH=function(){this.kH=this.gd.some(function(t){return t.nf!==ua.Zh})},n.EH=function(){this.nR.jv||this.nR.zv?this.IH():this.xH()},n.xH=function(){this.kH&&(this.wH||(this.wH=this.BH.LB(this.bH)))},n.IH=function(){this.wH&&(this.BH.LH(this.wH),this.wH=0)},n.TH=function(){var t;if(this.kH&&!this.nR.jv){var n=this.gd,i=this.yH,r=null!==(t=this.AH)&&void 0!==t?t:this.nR.Hv,e=r-i<-.1,u=this.pH||e;u&&r>i&&r-i<.1&&(u=!1),this.pH=!1,this.AH=void 0;for(var s,o=[],a=0;a<n.length;a++){var c=n[a];if(c.nf!==ua.Zh){c.RF(r,u);for(var h=0,f=c.ef.Oh;h<f.length;h++){var v=f[h];o.push(v)}}}if(u)s=this.mH;else{s=[];for(var d=io.ic.nc,l=0;l<n.length;l++){var _=n[l];_.nf!==ua.Zh&&wl(_,i-d,r,s)}}for(var w=s.length-1;w>=0;w--)Dn(o,s[w])&&Cn(s,w);var y=[];if(!u)for(var m=s.length-1;m>=0;m--){var k=s[m];k.Km>=i&&k.$m<=r&&(y.push(k),Cn(s,m))}for(var p=[],A=[],b=0;b<y.length;b++){var T=y[b];T.yk||p.push(new fR(T,T.Km)),p.push(new dR(T,g.max(T.Km,T.$m)))}for(var E=0,S=s;E<S.length;E++){var R=S[E];R.yk&&(p.push(new dR(R,g.max(R.Km,R.$m))),R.yk=!1)}for(var I=0;I<o.length;I++){var N=o[I];N.yk||(p.push(new fR(N,N.Km)),N.yk=!0)}p.sort(cI);for(var C=0;C<p.length;C++){var D=p[C],O=D.Jm;O.vs(D);var x=O.ih;x&&(D.type===Kf.Ym?x.vs(new _R(O)):x.vs(new wR(O)),Dn(A,x)||A.push(x))}A.sort(yl);for(var P=0;P<A.length;P++){var B=A[P];B.vs(new kR(B))}this.yH=r,this.mH=o}},n.Dh=function(){this.Ch(),this.nR.ys(pa.$f,this.SH),this.nR.ys(pa.Hf,this.SH),this.nR.ys(la._f,this.SH),this.nR.ys(pa.Ff,this.SH),this.nR.ys(pa.Gf,this.RH),this.nR.ys(pa.zf,this.NH)},t}(),fI=new(function(){function t(){}var n=t.prototype;return n.LB=function(t){return rT(t)},n.LH=function(t){eT(t)},t}()),vI=function(t){function n(n,i){return void 0===i&&(i=fI),t.call(this,n,i)||this}return ct(n,t),n}(hI),dI=function(t){function n(n,i){return t.call(this,n,1/0,i,!1)||this}return ct(n,t),n.prototype.Ja=function(n){return this===n||Go(this,n)&&t.prototype.Ja.call(this,n)&&RR(this,n)},T(n,[{key:"th",get:function(){return this.$c||(this.$c=NR(this)),this.$c}}]),n}(fv),lI=function(t){function n(n,i,r){return void 0===r&&(r=Xh.DEFAULT),t.call(this,af.e_,i||"","",!1,r,n)||this}return ct(n,t),n}(aR),_I=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Cu=Xh.ID3,r}ct(n,t);var i=n.prototype;return i.FA=function(n){!function(t,n){if(0!==n.length){var i=n.length-1;if(n[i].Km<t.Km)IR(n,i,t.Km);else{var r=n[0];if(r.Km>t.Km)t.$m=r.Km;else{var e=ZS(n,t);if(!(e>=0)){var u=-(e+1),s=u-1;if(s>=0&&n[s].Km<t.Km&&IR(n,s,t.Km),u<n.length){var o=n[u];t.$m=o.Km}}}}}}(n,this.vF),t.prototype.FA.call(this,n)},i.nh=function(){return ha(this)},n}(lI);function gI(t){var n=t&&t.THEOplayerTextTrackCue||void 0;if(n)return n;var i=t.startTime,r=uI(t.value);return t.THEOplayerTextTrackCue=new dI(i,r),t.THEOplayerTextTrackCue}var wI=function(t){function n(n){var i;return(i=t.call(this,n.inBandMetadataTrackDispatchType,n.label)||this).iH=function(){i.nf!==ua.Zh&&(i.rH(),i.eH(Qf.LOADED))},i.Um=n,i.Um.addEventListener("cuechange",i.iH),i.nf=i.cH,jn(function(){i.iH()}),i}ct(n,t);var i=n.prototype;return i.Sv=function(n){t.prototype.Sv.call(this,n),this.cH=this.nf},i.eH=function(t){this.if=g.max(this.if,t)},i.rH=function(){for(var t=function(t){for(var n=t.length,i=[],r=0;r<n;r++)i.push(gI(t[r]||t.item(r)));return Tn(i,YS),i}(this.Um.cues),n=KS(this.rf.Oh.slice(),t),i=0,r=n.fF;i<r.length;i++){var e=r[i];this.SF(e)}for(var u=0,s=n.hF;u<s.length;u++){var o=s[u];this.FA(o)}},i.Dh=function(){this.Um.removeEventListener("cuechange",this.iH),t.prototype.Dh.call(this)},T(n,[{key:"Wh",get:function(){return this.Um.id||""}},{key:"tf",get:function(){return this.Um.inBandMetadataTrackDispatchType||""}},{key:"jh",get:function(){return this.Um.language||""}},{key:"cH",get:function(){return aa(this.Um.mode)},set:function(t){this.Um.mode=t}},{key:"zm",get:function(){return this.Um}}]),n}(_I),yI=function(t){function n(n){var i;return(i=t.call(this,0,n.tk)||this).MH=n,i.$m=i.MH.Km,i}return ct(n,t),T(n,[{key:"Wh",get:function(){return this.MH.Wh},set:function(t){this.MH.Wh=t}},{key:"kk",get:function(){return this.MH.kk},set:function(t){this.MH.kk=t}},{key:"mk",get:function(){return this.MH.mk},set:function(t){this.MH.mk=t}}]),n}(dI);function mI(t){return void 0===t.UH&&(t.UH=new yI(t)),t.UH}var kI=function(t){function n(n,i){var r;(r=t.call(this,n.tf,n.Gh)||this).Cu=Xh.ID3,r.FH=function(t){r.HH(t.Jm)},r.VH=function(t){var n=t.Jm;if(void 0!==n.UH){var i=n.UH;n.UH=void 0,r.SF(i),i.Dh()}},r.XH=function(t){var n=mI(t.Jm);n.yk||r.WH(n),r.qH(n)},r.zH=function(t){var n=t.Jm,i=mI(n);r.GH.Hv<n.Km&&r.WH(i)},r.jH=function(){var t=r.QH,n=r.nf;if(r.QH=n,n===ua.Zh)r.gF.forEach(function(t){return t.yk=!1}),xn(r.gF);else if(t===ua.Zh)for(var i=r.GH.Hv,e=0,u=r.vF;e<u.length;e++){var s=u[e];i<s.$m&&r.WH(s)}},r.GH=i,r.YH=n,r.QH=n.nf,n.ls(Co.rh,r.FH),n.ls(Co.uh,r.VH),n.ls(Co.oh,r.XH),n.ls(Co.hh,r.zH),n.ls(Co.lh,r.jH);for(var e=0,u=r.YH.rf.Oh;e<u.length;e++){var s=u[e];r.HH(s)}return r}ct(n,t);var i=n.prototype;return i.WH=function(t){var n=ZS(this.gF,t);if(!(n>=0)){var i=-(n+1);this.gF.splice(i,0,t),t.yk=!0,t.vs(new fR(t,this.GH.Hv)),this.vs(new _R(t)),this.vs(new kR(this))}},i.qH=function(t){var n=ZS(this.gF,t);n>=0&&Cn(this.gF,n),t.yk=!1,t.vs(new dR(t,this.GH.Hv)),this.vs(new wR(t)),this.vs(new kR(this))},i.Dh=function(){this.YH.ys(Co.rh,this.FH),this.YH.ys(Co.uh,this.VH),this.YH.ys(Co.oh,this.XH),this.YH.ys(Co.hh,this.zH),this.YH.ys(Co.lh,this.jH),t.prototype.Dh.call(this)},i.HH=function(t){var n=mI(t);(this.FA(n),this.nf!==ua.Zh)&&(this.GH.Hv<n.$m&&this.WH(n))},T(n,[{key:"zh",get:function(){return this.YH.zh}},{key:"Gh",get:function(){return this.YH.Gh},set:function(t){this.YH.Gh=t}},{key:"jh",get:function(){return this.YH.jh}},{key:"Wh",get:function(){return this.YH.Wh}},{key:"qh",get:function(){return this.YH.qh}},{key:"tf",get:function(){return this.YH.tf}},{key:"nf",get:function(){return this.YH.nf},set:function(t){this.YH.nf=t}},{key:"if",get:function(){return this.YH.if}},{key:"uf",get:function(){return this.YH.uf}}]),n}(lI),pI=function(t){function n(n){var i;return(i=t.call(this)||this).GH=n,i}ct(n,t);var i=n.prototype;return i.Rh=function(n){if(n.Cu===Xh.ID3){var i=n;return i.UH||(i.UH=new kI(i,this.GH)),t.prototype.Rh.call(this,i.UH)}return t.prototype.Rh.call(this,n)},i.Ih=function(n){if(n.Cu===Xh.ID3){var i=n;return!!i.UH&&t.prototype.Ih.call(this,i.UH)}return t.prototype.Ih.call(this,n)},n}(_a),AI=function(t){function n(n,i){var r;return(r=t.call(this)||this).xA=n,r.ZH=i,r.JH=new zt,r.CF=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((i=n.ih).Cu){t.next=4;break}return t.next=4,i.As(Co.yh);case 4:if(i.Cu===Xh.ID3){t.next=6;break}return t.abrupt("return");case 6:if(0!==i.rf.xh){t.next=11;break}return t.next=9,i.As(Co.rh);case 9:t.next=6;break;case 11:r.KH(i);case 12:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.DF=function(t){var n=t.ih;if(n.Cu===Xh.ID3&&r.JH.has(n.qh)){var i=r.JH.get(n.qh);r.Ih(i),r.xA.HA(i),n.ys(Co.rh,r.HH)}},r.HH=function(t){bI(t.Jm)&&r.$H(t.Jm)},r.tV(),r}ct(n,t);var i=n.prototype;return i.tV=function(){this.ZH.ls(To.Yc,this.CF),this.ZH.ls(To.Jc,this.DF)},i.nV=function(){this.ZH.ys(To.Yc,this.CF),this.ZH.ys(To.Jc,this.DF)},i.KH=function(t){var n=t.rf.Oh[0];if(bI(n)){var i=function(t){var n=t.match(TI);if(!n)return;return{ih:n[1],jh:n[2]}}(n.tk.description),r=i.ih,e=i.jh;if(!this.iV(r,e)){var u=this.xA.LA(af.Nm,r,e,!1,Xh.TTML);this.Rh(u),this.JH.set(t.qh,u);for(var s=0,o=t.rf.Oh;s<o.length;s++){var a=o[s];bI(a)&&this.$H(a)}t.ls(Co.rh,this.HH)}}},i.iV=function(t,n){return!!Rn(this.j_.Oh,function(i){return i.Gh===t&&i.jh===n})},i.$H=function(t){if(t.ih)for(var n=this.JH.get(t.ih.qh),i=Fd(t.tk.text,0,{Sp:new io(0),Rp:new io(1/0),Ip:new io(-t.$m)}),r=0;r<i.length;r++){var e=i[r];n.FA(e)}},i.Ch=function(){var n=Ct.coroutine(Nt.mark(function n(){var i,r,e,u,s;return Nt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(i=0,r=this.ZH.Oh;i<r.length;i++)r[i].ys(Co.rh,this.HH);for(e=0,u=this.j_.Oh;e<u.length;e++)s=u[e],this.xA.HA(s);return this.JH.clear(),n.next=5,t.prototype.Ch.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i.Dh=function(){var n=Ct.coroutine(Nt.mark(function n(){return Nt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.nV(),n.next=3,t.prototype.Dh.call(this);case 3:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),n}(Kd);function bI(t){return function(t){return"TXXX"===t.id||"TXX"===t.id}(n=t.tk)&&TI.test(n.description);var n}var TI=/^Track:(.+),Lang:(.+)$/;var EI=new io(50,1e3),SI=P.Yt||P.Zt,RI=P.Wt,II=new io(500,1e3),NI=new io(5),CI=new io(.04),DI=new io(.001),OI=P.nn,xI=[pa.tv,pa.Xf,pa.Gf,pa.Hf,pa.Ff],PI=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).FE=void 0,e.jS=!0,e.GT=void 0,e.rV=new Cl,e.eV=void 0,e.uV=void 0,e.sV=void 0,e.QB=!1,e.oV=Ct.resolve(),e.aV=new Mn,e.cV=[],e.hV=GT.bm(),e.fV=void 0,e.vV=1,e.dV=!1,e.lV=!1,e._V=!1,e.gV=!1,e.wV=!1,e.yV=!1,e.mV=0,e.kV=function(t){var n=t.track,i=e.pV(n);e.AV(n,i)},e.bV=function(t){var n=function(t,n){for(var i=0,r=t.Oh;i<r.length;i++){var e=r[i];if(e.zm===n)return e}return}(e.TV,t.track);n&&e.TV.Ih(n)},e.EV=function(){for(var t=0;t<e.gd.xh;t++){var n=e.gd.Sh(t);n instanceof oI&&n.fH()}},e.SV=function(){for(var t=e.TV.Oh,n=0;n<t.length;n++){var i=t[n];e.TV.Ih(i)}},e.RV=function(){var t=e.GT,n=t.GU,i=t.jU;if(n&&i)if(t.CL)e.IV();else if(t.if!==OS.AU){var r=n.Wd,u=i.Wd;if(0!==r.xh&&0!==u.xh){var s=new io(e.Hv,1);if(s.ja(r.Ly(0))||s.ja(u.Ly(0)))e.IV();else if(r.Jy(s)!==u.Jy(s))e.NV();else if(e.IV(),!e.mV&&e.CV.sF())r.om(u).vm(s,s.qa(II))&&(e.mV=rT(e.DV))}else e.IV()}},e.DV=function(){e.mV=0,e.RV()},e.OV=function(){if(!(e.jv||e.if>=ya.mf)){0;var t=e.GT,n=t.GU,i=t.jU;if(n&&i){var r=new io(e.Hv,1),u=n.Wd,s=i.Wd;if(u.Jy(r)&&s.Jy(r))u.om(s).vm(r.Ka(NI),r)&&e.Ws(r.nc)}}},e.xV=function(){e.vs(new Pa(e.Hv))},e.PV=function(){e.BV(new Un),e.vs(new La(e.Hv))},e.LV=function(){e.MV(),e.vs(new rw(e.Hv))},e.UV=function(){e.FV(e.Gv)},e.HV=function(){e.vs(new Oa(e.Vv))},e.VV=function(){e.vs(new oS(e.Hv))},e.XV=function(){e.vs(new aS)},e.WV=function(){var t=e.Hv,n=e.jv,i=e.if<ya.mf&&!e.Xv,r=void 0!==e.sV,u=r&&e.sV!==t;(n||!r||u&&!i)&&(e.vs(new Ca(e.Hv,void 0)),e.sV=t)},e.qV=function(){!e.dV&&e.Xv&&(e.dV=!0,e.vs(new Na(e.Hv)))},e.zV=function(){var t;if(null!==e.ia.error){var n=e.ia.error;e.FE=new Tc(null!==(t=n.code)&&void 0!==t?t:pc.DECODE,n.message||"Error decoding media",void 0,n.msExtendedCode),e.GV(e.FE),e.vs(new GS(e.FE))}else e.FE=void 0},e.jV=function(){e.vs(new Ea(e.Hv,e.Zv))},e.QV=function(){e.Yv>0&&e.Qv>0&&e.vs(new Nl)},e.YV=function(t){e.vs(new ai(t.initDataType,t.initData||new ArrayBuffer(0)))},e.ZV=function(){e.vs(new ci)},e.JV=function(t){var n=t.initData,i=n?Vr(n).buffer:new ArrayBuffer(0);e.vs(new ai(Qt,i))},e.KV=function(t){if(t.initData){var n=BI(t.initData);if(!n)return;e.vs(new ai(Zt,n))}else e.vs(new ai(Zt,new ArrayBuffer(0)))},e.$V=function(t){var n=t.initData,i=n?Vr(n).buffer:new ArrayBuffer(0);e.vs(new ai(Qt,i))},e.tX=function(){e.MV()},e.nX=function(t){e.BV(t)},e.ia=n,e.Uu=i,e.iX=r,e.rX=new HS(vt(e)),e.CV=new zS(vt(e)),e.CV.ls(la._f,e.LV),e.gd=new Jd,e.eX=new Jd,e.TV=new Jd,e.uX=new hR([e.gd,e.eX,e.TV]),e.sX=new pI(vt(e)),e.sX.Fh=e.uX,e.oX=new AI(vt(e),e.sX),e.aX=new hR([e.uX,e.oX.j_]),e.cX=new vI(vt(e)),e.hX(),e.cS(),e}ct(n,t);var i=n.prototype;return i.fX=function(){this.uS.ended||this.Hv===this.Vv||(this.dV=!1)},i.vX=function(){return void 0!==this.uV&&this.Vv===this.uV.nc},i.FV=function(t){this.vV!==t&&(this.vV=t,this.vs(new Da(this.Hv,t)))},i.SS=function(){return rE(this.ia)},i.Ad=function(){var t=this.dX();return this.lX(),t},i.lX=function(){this._V?this.gV&&(this.gV=!1,this.vs(new Pa(this.Hv))):this._X()},i._X=function(){if(this.eV)this.eV.Ad();else{P.nn&&!P.Ft&&this.ia.preload===kw.qS&&(this.ia.preload=kw.e_);var t=this.Gv,n=this.ia.play();t!==this.uS.playbackRate&&(this.Gv=t),q(n)?n.then(this.tX,this.nX):this.CV.sF()&&this.MV()}},i.bd=function(){this._V?this.gV||(this.gV=!0,this.vs(new La(this.Hv))):this.gX()},i.gX=function(){this.eV?this.eV.bd():(this.ia.pause(),this.CV._o()),this.GV(new Un)},i.dX=function(){var t=new qr;return this.cV.push(t),t.Zs},i.wX=function(){for(var t=0,n=this.cV;t<n.length;t++){n[t].Js(void 0)}xn(this.cV)},i.GV=function(t){for(var n=0,i=this.cV;n<i.length;n++){i[n].Ks(t)}xn(this.cV)},i.MV=function(){this._V||this.eV||this.wX()},i.BV=function(t){this._V||this.eV||this.GV(t)},i.Ws=function(t,n){this.eV?this.eV.Hv=t:(this.aV.ss(),this.aV=new Mn,this.oV=this.yX(new io(t),this.oV,this.aV.cs).catch(j))},i.ES=function(t){if(this.ia.getStartDate){var n=this.ia.getStartDate();if(n&&!m(n.getTime())){var i=(t.getTime()-n.getTime())/1e3;this.Ws(i)}}},i.yX=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r){var e,u,s,o,a,c,h,f,v=this;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.uV=n,this.QB=!0,this.dV&&!this.vX()&&(this.dV=!1),this.vs(new Ra(n.nc)),t.next=7,i.catch(j);case 7:if(Hn(r),this.lV&&this.mX(),this.if!==ya.gf){t.next=12;break}return t.next=12,this.As(la.gh,r);case 12:if(0!==this.ia.seekable.length){t.next=18;break}return t.next=15,Ct.race([Ua(this.ia,"timeupdate",r),Jn(100,r)]);case 15:Hn(r),t.next=12;break;case 18:e=this.kX(n),u=this.sl,s=!0,o=!1;case 22:if((u=this.sl).xh>0&&!u.Jy(e)&&(e=u.Yy(e),s=!0),OI&&void 0!==(a=this.pX())&&e.Ga(a)&&(e=a,s=!0),o){t.next=36;break}if(void 0===(c=this.AX())||!e.Ga(c)){t.next=36;break}return o=!0,t.next=32,this.bX(c,r);case 32:return t.next=34,Ua(this.ia,"seeked",r);case 34:Hn(r),s=!0;case 36:if(!s){t.next=55;break}return s=!1,t.next=40,this.bX(e,r);case 40:Hn(r),h=new io(this.Hv),u=this.sl,e=u.Yy(e),f=1;case 45:if(e.Ya(h,io.ic)){t.next=55;break}return u=this.sl,e=MI(e,u,f),t.next=50,this.bX(e,r);case 50:Hn(r),h=new io(this.Hv),f++,t.next=45;break;case 55:if(this.ia.seeking||this.if<ya.yf){t.next=57;break}return t.abrupt("break",62);case 57:return t.next=59,zn(function(t){var n;return Ct.race([Ua(v.ia,"seeked",t),v.As([pa.Vf,pa.Nf,la.gh],t),null===(n=v.GT)||void 0===n?void 0:n.As(YE.Ny,t)].filter(M))},r);case 59:Hn(r),t.next=22;break;case 62:this.TX(),t.next=70;break;case 65:if(t.prev=65,t.t0=t.catch(0),!Fn(t.t0)){t.next=69;break}return t.abrupt("return");case 69:0;case 70:case"end":return t.stop()}},t,this,[[0,65]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.bX=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r,e,u;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Hn(i),r=this.sl,n=r.Yy(n),!this.lV){t.next=18;break}e=!0;case 5:if(!(e||this.if<ya.mf)){t.next=17;break}if((r=this.sl).Jy(n)||(n=r.Yy(n),e=!0),!e){t.next=13;break}return e=!1,this.uV=n,this.vs(new Ra(this.Hv)),t.abrupt("continue",5);case 13:return t.next=15,this.As([la.gh,pa.Nf],i);case 15:t.next=5;break;case 17:Hn(i);case 18:if(u=Ua(this.ia,"seeking",i),this.ia.currentTime=n.nc,this.uV=void 0,this.vs(new Ra(this.Hv)),!this.ia.seeking){t.next=25;break}return t.next=25,u;case 25:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.kX=function(t){var n=this.Wd;if(n&&!n.Jy(t)){var i=n.cm(t,EI);if(i>-1){var r=n.Ly(i);if(t.ja(r))return r}}return t},i.pX=function(){if(this.GT&&this.GT.CL){var t=this.GT.DL,n=this.GT.OL,i=t&&n?t.$y(n):t||n;if(i&&0!==i.xh){var r=i.Ly(i.xh-1),e=i.Uy(i.xh-1);return io.Ha(r,e.Ka(DI))}}},i.AX=function(){if(this.GT&&this.GT.CL){var t=this.GT.OL;if(t&&0!==t.xh){var n=t.Ly(t.xh-1),i=t.Uy(t.xh-1).Ka(CI.$a(.5));return i=i.Ka(DI),io.Ha(n,i)}}},i.TX=function(){this.QB=!1,this.lV&&this.EX(),this.vs(new Sa(this.Hv))},i.mX=function(){this._V||(this.gV=this.zv,this._V=!0,this.gX())},i.EX=function(){this._V&&(this._V=!1,this.gV||this.lX())},i.NL=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i,r;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0;case 1:if(!(i<n.length)){t.next=12;break}if((r=n[i]).Cu!==Ng.sE||!sS.NL(r,this.ia)){t.next=7;break}return t.abrupt("return",r);case 7:if(r.Cu!==Ng.oE||!LS.NL(r)){t.next=9;break}return t.abrupt("return",r);case 9:i++,t.next=1;break;case 12:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Pd=function(){this.jS=!1,De(this.ia)&&(this.ia.style.display="none")},i.xd=function(){this.jS=!0,De(this.ia)&&(this.ia.style.display="block")},i.LA=function(t,n,i,r,e,u){var s=new aR(t,n,i,r,e,u);return this.gd.Rh(s),this.cX.Rh(s),s},i.wS=function(){return!0},i.mS=function(t,n,i,r){var e=s.createElement("track");e.src=Fs(t),e.kind=n,e.label=null!=i?i:"",r&&(e.srclang=r),e.id=ey(),this.ia.appendChild(e);var u=this.ia.textTracks.getTrackById(e.id),o=new oI(u,e);return this.eX.Rh(o),o},i.HA=function(t){this.gd.Ih(t),this.cX.Ih(t)},i.cS=function(){var t=this.ia.textTracks;t&&t.addEventListener&&(t.addEventListener("addtrack",this.kV),t.addEventListener("removetrack",this.bV),t.addEventListener("change",this.EV)),this.ia.addEventListener("emptied",this.SV)},i.bS=function(){var t=this.ia.textTracks;t&&t.removeEventListener&&(t.removeEventListener("addtrack",this.kV),t.removeEventListener("removetrack",this.bV),t.removeEventListener("change",this.EV)),this.ia.removeEventListener("emptied",this.SV)},i.AV=function(t,n){if(P.nn){if(t.kind===af.e_)return void this.SX(t);if(t.kind===af.Cm&&!UI(t))return void this.RX(t,n)}this.eX.Oh.map(function(t){return t.Wh}).indexOf(t.id)<0&&this.TV.Rh(new oI(t,n))},i.SX=function(t){t.mode=ua.Jh;var n=new wI(t);this.TV.Rh(n),this.cX.Rh(n)},i.RX=function(t,n){var i=this;t.addEventListener("cuechange",function r(){UI(t)&&(t.removeEventListener("cuechange",r),i.TV.Rh(new oI(t,n)))}),t.mode=ua.Jh},i.pV=function(t){for(var n=this.ia.getElementsByTagName("track"),i=0;i<n.length;i++){var r=n[i]||n.item(i);if(r.track===t)return r}},i.do=function(t){var n=this;return this.rV.jA(function(){var i=Ct.coroutine(Nt.mark(function i(r){var e;return Nt.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(Hn(r),!n.GT){i.next=3;break}throw new d("Already loaded a media source");case 3:if(t.Cu!==Ng.sE){i.next=9;break}e=new sS(t,n,n.Uu),n.lV=!1,n.IX(new HS(n)),i.next=17;break;case 9:if(t.Cu!==Ng.oE){i.next=16;break}e=new LS(t,n,n.Uu),n.lV=SI,n.IX(n.lV?new WS(n):new HS(n)),RI&&(n.ls(pa.$f,n.RV),n.ls(la.gh,n.OV)),i.next=17;break;case 16:throw new d("Unsupported configuration");case 17:return n.GT=e,i.next=20,e.JA();case 20:return i.abrupt("return",e);case 21:case"end":return i.stop()}},i)}));return function(t){return i.apply(this,arguments)}}())},i.NV=function(){if(!this.wV){var t=this.Gv;this.wV=!0,this.Gv=t,this.ia.playbackRate=0,this.rX&&this.rX.$U()}},i.IV=function(){if(this.wV){var t=this.Gv;this.wV=!1,this.Gv=t,this.ia.currentTime=this.ia.currentTime,this.rX&&this.rX.$U()}},i.IX=function(t){var n=this.if;this.rX.$u(),this.rX=t,this.rX.ls(la.gh,this.fs);var i=this.if;n!==i&&this.vs(new ka(this.Hv,i))},i.Ch=function(){var t=Ct.coroutine(Nt.mark(function t(){var n=this;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.QB=!1,this.hV=GT.bm(),this.aV.ss(),this.uV=void 0,this.lV=!1,this._V=!1,this.FE=void 0,this.dV=!1,this.sV=void 0,this.GV(new Un),this.IX(new HS(this)),this.CV.Ch(),this.IV(),RI&&(eT(this.mV),this.mV=0,this.ys(pa.$f,this.RV),this.ys(la.gh,this.OV)),this.gd.Ch(),this.eX.Oh.forEach(function(t){return t.Dh()}),this.eX.Ch(),t.next=19,this.rV.ss();case 19:return t.next=21,this.rV.jA(Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.GT){t.next=4;break}return t.next=3,n.GT.$u();case 3:n.GT=void 0;case 4:case"end":return t.stop()}},t)})));case 21:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.$u=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.NX(),this.bS(),t.next=4,this.Ch();case 4:return t.next=6,this.rV.Dh();case 6:return this.CV.$u(),this.rX.$u(),this.gd.Dh(),this.sX.Dh(),this.TV.Dh(),this.eX.Dh(),t.next=14,this.oX.Dh();case 14:this.uX.Dh(),this.aX.Dh();case 16:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.hX=function(){this.uS.addEventListener("play",this.xV),this.uS.addEventListener("pause",this.PV),this.uS.addEventListener("timeupdate",this.WV),this.uS.addEventListener("progress",this.VV),this.uS.addEventListener("loadstart",this.XV),this.uS.addEventListener("ended",this.qV),this.uS.addEventListener("ratechange",this.UV),this.uS.addEventListener("volumechange",this.jV),this.uS.addEventListener("durationchange",this.HV),this.uS.addEventListener("resize",this.QV),this.uS.addEventListener("loadedmetadata",this.QV),this.uS.addEventListener("error",this.zV),pn()?(this.ia.addEventListener("encrypted",this.YV),this.ia.addEventListener("waitingforkey",this.ZV)):void 0!==Xt.WebKitMediaKeys&&"function"==typeof Xt.WebKitMediaKeys.isTypeSupported?this.ia.addEventListener("webkitneedkey",this.KV):An()?this.ia.addEventListener("webkitneedkey",this.$V):void 0!==Xt.MSMediaKeys&&"function"==typeof Xt.MSMediaKeys.isTypeSupported&&this.ia.addEventListener("msneedkey",this.JV)},i.NX=function(){this.uS.removeEventListener("play",this.xV),this.uS.removeEventListener("pause",this.PV),this.uS.removeEventListener("timeupdate",this.WV),this.uS.removeEventListener("progress",this.VV),this.uS.removeEventListener("loadstart",this.XV),this.uS.removeEventListener("ended",this.qV),this.uS.removeEventListener("ratechange",this.UV),this.uS.removeEventListener("volumechange",this.jV),this.uS.removeEventListener("durationchange",this.HV),this.uS.removeEventListener("resize",this.QV),this.uS.removeEventListener("loadedmetadata",this.QV),this.uS.removeEventListener("error",this.zV),this.uS.removeEventListener("encrypted",this.YV),this.uS.removeEventListener("waitingforkey",this.ZV),this.uS.removeEventListener("msneedkey",this.JV),this.uS.removeEventListener("webkitneedkey",this.KV)},i.qU=function(){this.eV||(this.hV=this.il,this.eV=new MS(this.Hv,this.Vv,this.Xv,this.zv,this.jv,this.qv,this.Gv,this.Zv),this.NX(),this.eV.ls(xI,this.fs))},i.zU=function(){if(this.eV){var t=this.eV;this.eV=void 0,t.Vv===this.Vv||m(t.Vv)&&m(this.Vv)||this.vs(new Oa(this.Vv)),this.Gv=t.Gv,t.zv?this.bd():this.lX(),t.Hv!==this.Hv?this.Ws(t.Hv):!t.jv&&this.jv?this.vs(new Ra(this.Hv)):t.jv&&!this.jv&&this.vs(new Sa(this.Hv)),!t.Xv&&this.Xv&&this.vs(new Na(this.Hv)),t.ys(xI,this.fs),this.hX()}},i.CX=function(){this.yV=!0},i.DX=function(t){t.appendChild(this.ia)},i.DU=function(){RI&&this.RV(),this.rX.$U()},T(n,[{key:"nF",get:function(){return this.wV}},{key:"Wd",get:function(){return this.GT?this.GT.Wd:GT.bm()}},{key:"qd",get:function(){if(this.ia.getStartDate){var t=this.ia.getStartDate();if(t&&!m(t.getTime())){var n=1e3*this.Hv;return new Date(t.getTime()+n)}}}},{key:"RS",get:function(){if(this.uS.getStartDate)return this.uS.getStartDate()}},{key:"Hv",get:function(){return this.eV?this.eV.Hv:void 0!==this.uV?this.uV.nc:this.ia.currentTime}},{key:"CB",get:function(){return this.iX}},{key:"Vv",get:function(){return this.eV?this.eV.Vv:this.GT?this.GT.Vv:this.ia.duration}},{key:"Xv",get:function(){return this.jv?this.vX():this.eV?this.eV.Xv:this.ia.ended||this.dV}},{key:"Is",get:function(){return this.FE}},{key:"uS",get:function(){return this.ia}},{key:"zv",get:function(){return this._V?this.gV:this.eV?this.eV.zv:this.ia.paused}},{key:"il",get:function(){return this.hV.sm(GT.pm(this.ia.played))}},{key:"hg",get:function(){return this.ia.offsetHeight*r.Mc.vc}},{key:"mc",get:function(){return this.ia.offsetWidth*r.Mc.vc}},{key:"pS",get:function(){return Rw}},{key:"if",get:function(){return this.rX.if}},{key:"sl",get:function(){return this.GT?this.GT.sl:GT.bm()}},{key:"jv",get:function(){return this.eV?this.eV.jv:this.QB}},{key:"qv",get:function(){return this.eV?this.eV.qv:this.ia.muted},set:function(t){this.eV?this.eV.qv=t:this.ia.muted=t}},{key:"Gv",get:function(){return this.eV?this.eV.Gv:void 0!==this.fV?this.fV:this.ia.playbackRate},set:function(t){this.eV?this.eV.Gv=t:this.zv||this.wV?(this.fV=t,this.FV(t)):(this.fV=void 0,this.ia.playbackRate=t)}},{key:"OX",get:function(){return this.jS}},{key:"Zv",get:function(){return this.eV?this.eV.Zv:this.ia.volume},set:function(t){this.eV?this.eV.Zv=t:this.ia.volume=t}},{key:"pd",get:function(){return this.aX}},{key:"jd",get:function(){return!!this.ia.webkitCurrentPlaybackTargetIsWireless}},{key:"xX",get:function(){return this.yV}},{key:"PX",get:function(){return Dt(Dt({},$E),{yL:!0})}}]),n}(ii);function BI(t){try{var n=Lr(t),i=new Xr;return Ir(Nr(or(n,i,dr(n,i,!0)),!0))}catch(t){return}}var LI=new io(1,100);function MI(t,n,i){if(void 0===i&&(i=0),!n.xh)return new io(0);var r=n.Yy(t),e=LI.$a(i);r.Ja(n.Ly(0))?r=r.qa(e):r.Ja(n.Uy(n.xh-1))&&(r=r.Ka(e));var u=r.za(io.uc);return io.Fa(u)}function UI(t){return!!t.cues&&t.cues.length>0}var FI=function(t){function n(){return t.apply(this,arguments)||this}return ct(n,t),n.prototype.Bd=function(){},T(n,[{key:"Qv",get:function(){return 0}},{key:"Yv",get:function(){return 0}}]),n}(PI),HI="theoplayer-texttracks",VI=function(){function t(t){void 0===t&&(t=5);var n=Xt.document.createElement("div");n.className=HI,n.style.position="absolute",n.style.display="none",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="10%",n.style.bottom="80%",n.style.bottom="10%",n.style.left="0",n.style.width="100%",n.style.lineHeight="1.3em",n.style.zIndex=""+t,this.BX=n,this.xd()}var n=t.prototype;return n.Pd=function(){this.BX.style.display="none"},n.xd=function(){Re(this.BX.style,"flex","-ms-flexbox")},n.DX=function(t){t.appendChild(this.BX)},n.Dh=function(){Ee(this.BX)},T(t,[{key:"zd",get:function(){return this.BX}}]),t}();function XI(t,n){return t?Dt(Dt({},n),jo(t)):n}function WI(t){return t.nB&&vn(t.nB,"%")?Number(t.nB.replace("%",""))/100:t.nB&&vn(t.nB,"em")?Number(t.nB.replace("em","")):1}var qI,zI,GI=function(){function t(t,n,i,r,e){var u=this;this.LX=xt(),this.MX=!0,this.UX=function(t){return u.LX.has(t.mk)},this.FX=function(t){return!u.UX(t)},this.HX=function(t){return u.FA(t.Jm)},this.VX=function(t){return u.removeCue(t.Jm)},this.XX=function(){return u.WX()},this.qX=function(t){return u.zX(t.Jm)},this.GX=function(t){return u.jX(t.Jm)},this.QX=function(t){u.YX(t.mc,t.hg)},this.hk=t,this.ZX=this.JX=e,this.ia=this.KX(i),this.iX=r,n.appendChild(this.ia),this.$X(),this.hk.rf.Oh.forEach(function(t){return u.FA(t)}),this.CB.ls("HD",this.QX),this.YX(this.CB.jD,this.CB.GD)}var n=t.prototype;return n.tW=function(t){this.JX=XI(t,this.ZX),this.JX.$P&&(this.uS.style.fontFamily=this.JX.$P),this.YX(this.CB.jD,this.CB.GD),this.nW()},n.$X=function(){this.hk.ls(Co.rh,this.HX),this.hk.ls(Co.uh,this.VX),this.hk.ls(Co.lh,this.XX)},n.iW=function(){var t=this;this.hk.ys(Co.rh,this.HX),this.hk.ys(Co.uh,this.VX),this.hk.ys(Co.lh,this.XX),this.hk.rf.Oh.forEach(function(n){return t.rW(n)})},n.eW=function(t){t.ls(Kf.Ym,this.qX),t.ls(Kf.Zm,this.GX)},n.rW=function(t){t.ys(Kf.Ym,this.qX),t.ys(Kf.Zm,this.GX)},n.FA=function(t){t.mk||(t.mk=this.uW),this.eW(t),t.yk&&this.zX(t)},n.removeCue=function(t){this.rW(t),this.jX(t)},n.WX=function(){this.hk.nf===ua.Kh?this.sW():this.oW()},n.sW=function(){var t=this,n=this.CB.jD,i=this.CB.GD,r=new Yb(n,i);this.QX(r),this.MX=!1,this.aW.forEach(function(n){return t.zX(n)})},n.zX=function(t){this.MX||this.FX(t)&&(this.cW(t),this.LX.set(t.mk,t))},n.cW=function(t){var n=this.ia,i=this.hW(t);if(i)for(var r=0;r<i.length;r++){var e=i[r];e.className=t.mk,n.appendChild(e)}},n.oW=function(){var t=this;this.MX=!0,this.LX.forEach(function(n){return t.jX(n)})},n.jX=function(t){this.UX(t)&&(this.fW(t),this.LX.delete(t.mk))},n.fW=function(t){for(var n=this.ia,i=n.getElementsByClassName(t.mk);i.length;)n.removeChild(i[0])},n.nW=function(){for(var t=0,n=this.vW;t<n.length;t++){var i=n[t];this.fW(i),this.cW(i)}},n.Dh=function(){Ee(this.uS),this.iW(),this.CB.ys("HD",this.QX)},T(t,[{key:"ih",get:function(){return this.hk}},{key:"uS",get:function(){return this.ia}},{key:"CB",get:function(){return this.iX}},{key:"dW",get:function(){return this.JX}},{key:"vW",get:function(){return this.hk.ef.Oh.filter(this.UX)}},{key:"aW",get:function(){return this.hk.ef.Oh.filter(this.FX)}}]),t}();function jI(t){return QI[t||"none"]}!function(t){t.lW='"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',t._W='"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',t.gW='"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',t.wW='Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif'}(qI||(qI={})),function(t){t.BLACK="#000000",t.WHITE="#FFFFFF",t.GREEN="#00ff00",t.BLUE="#0000ff",t.CYAN="#00ffff",t.RED="#ff0000",t.YELLOW="#ffff00",t.MAGENTA="#ff00ff",t.TRANSPARENT="transparent"}(zI||(zI={}));var QI={none:"",dropshadow:"#222 2px 2px 3px, #222 2px 2px 4px, #222 2px 2px 5px",raised:"#222 1px 1px, #222 2px 2px, #222 3px 3px",depressed:"#ccc 1px 1px, #ccc 0px 1px, #222 -1px -1px, #222 0px -1px",uniform:"#222 -1px -1px 0, #222 1px -1px 0, #222 -1px 1px 0, #222 1px 1px 0"};function YI(t,n){void 0===t.textContent?t.innerText=n:t.textContent=n}var ZI=Pt({monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:"monospace, sans-serif",monospaceSerif:"monospace, serif",proportionalSansSerif:"Arial",proportionalSerif:"Times New Roman",default:"monospace, sans-serif;"}),JI=Pt({lrtb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rltb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;unicode-bidi: bidi-override;",tbrl:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;",tblr:"-webkit-writing-mode: vertical-lr;writing-mode: vertical-lr;-webkit-text-orientation: upright;text-orientation: upright;",lr:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rl:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;",tb:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;"}),KI={backgroundColor:function(t,n){n.style.backgroundColor=t},color:function(t,n){n.style.color=t},direction:function(t,n){n.style.direction=t},display:function(t,n){"none"===t&&(n.style.display="none")},fontFamily:function(t,n){var i=ZI.get(t);n.style.fontFamily=i||t},fontSize:function(t,n){ln(t,"px")?t=w(t)/24+"em":ln(t,"c")&&(t=t.replace("c","em")),n.style.fontSize=t},fontStyle:function(t,n){n.style.fontStyle=t},fontWeight:function(t,n){n.style.fontWeight=t},lineHeight:function(t,n){n.style.lineHeight=t},opacity:function(t,n){n.style.opacity=t},overflow:function(t,n){n.style.overflow=t},padding:function(t,n){n.style.padding=t},textAlign:function(t,n){"right"===t?(n.style.textAlign="right",n.style.justifyContent="flex-end"):"start"===t?(n.style.textAlign="start",n.style.justifyContent="flex-start"):"center"===t?(n.style.textAlign="center",n.style.justifyContent="center"):"end"===t?(n.style.textAlign="end",n.style.justifyContent="flex-end"):"left"===t&&(n.style.textAlign="left",n.style.justifyContent="flex-start")},textDecoration:function(t,n){var i=t;i=(i=(i=(i=i.replace("lineThrough","line-through")).replace("noUnderline","none")).replace("noLineThrough ","none")).replace("noOverline  ","none"),n.style.textDecoration=i},unicodeBidi:function(t,n){n.style.unicodeBidi=t.replace("bidiOverride","bidi-override")},visibility:function(t,n){n.style.visibility=t},zIndex:function(t,n){n.style.zIndex=t},displayAlign:function(t,n){var i;"before"===t.toLowerCase()?i="flex-start":"center"===t.toLowerCase()?i="center":"after"===t.toLowerCase()&&(i="flex-end"),n.style.alignItems=i},extent:function(t,n){var i,r,e=t.split(" ");e.length>=2?(i=e[0],r=e[1]):i=r="100%",n.style.height=r,n.style.width=i},origin:function(t,n){var i=t.split(" "),r=i[0],e=i[1];void 0===r&&void 0===e||(n.style.position="absolute",void 0!==r&&(n.style.left=r),void 0!==e&&(n.style.top=e))},showBackground:function(t,n){},wrapOption:function(t,n){n.style.whiteSpace=t.replace("noWrap","nowrp").replace("wrap","normal").replace("nowrp","nowrap")},writingMode:function(t,n){var i=JI.get(t);i&&(n.style.cssText=n.style.cssText.concat(i))},textOutline:function(){},linePadding:function(t,n){if(ln(t,"c")){var i=t.replace("c","em");n.style.paddingLeft=n.style.paddingRight=i}},multiRowAlign:function(t,n){"auto"===t.toLowerCase()?n.style.textAlign="":n.style.textAlign="value"}},$I=0,tN={tB:zI.WHITE,$P:"Arial, Helvetica, Sans-Serif",nB:"100%",iB:zI.TRANSPARENT,rB:zI.TRANSPARENT,eB:"none"},nN=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,tN)||this}ct(n,t);var i=n.prototype;return i.KX=function(t){var n=s.createElement("div");return n.className="theoplayer-ttml-texttrack-"+t,n.style.position="absolute",n.style.display="flex",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="0",n.style.left="0",n.style.width="100%",n.style.height="100%",n},i.YX=function(t,n){var i=n/15;this.uS.style.fontSize=i+"px"},i.hW=function(t){if(t.ih&&t.ih.Cu!==Xh.TTML)return[];var n,i=[],r=t,e=r.Mp,u=r.Np,o=r.tk;if(0===_.keys(u).length){Se(n=s.createElement("div"),r.mk),aN(n);for(var a=iN(o,e,r.Up,void 0,this.uS),c=0;c<a.length;c++){var h=a[c];n.appendChild(h)}i.push(n)}else for(var f=0,v=_.keys(u);f<v.length;f++){var d=v[f],l=s.createElement("div");l.id=d,Se(l,r.mk);var g=iN(o,e,r.Up,l,this.uS);if(g){aN(l),uN(l,u[d],e,this.uS);for(var w=0;w<g.length;w++){var y=g[w];l.appendChild(y)}i.push(l)}i.push(l)}return i},i.tW=function(t){},T(n,[{key:"uW",get:function(){return"theoplayer-ttmlcue-"+$I++}}]),n}(GI);function iN(t,n,i,r,e){var u,s;if(ht(t)&&("SPAN"===(s=t).Sn.toUpperCase()||"P"===s.Sn.toUpperCase()||"BR"===s.Sn.toUpperCase()||"DIV"===s.Sn.toUpperCase()||"BODY"===s.Sn.toUpperCase())){var o=function t(n){var i;var r=n.Hn("region");if("p"===n.Sn.toLowerCase())return r;var e=[];for(var u=0,s=n.Fn;u<s.length;u++){var o=s[u];e.push(t(o))}!function(t){for(var n=[],i=0;i<t.length;i++){for(var r=!0,e=i+1;e<t.length;e++)if(t[i]===t[e]){r=!1;break}r&&n.push(t[i])}}(e);return 0===e.length?r:1===e.length?null!==(i=e[0])&&void 0!==i?i:r:void 0}(t);if(!o||r.id===o){(function(t,n,i,r){var e=n.Hn("style");oN(t,e,i,r),function(t,n,i){Array.prototype.slice.call(n.Gn).forEach(function(n){var r=Bd(n.Rn,["ebutts","tts","xml"]);KI[r]&&KI[r](n.Cn,t,i)})}(t,n,r)})(u="BODY"===t.Sn.toUpperCase()?r:rN(t),t,n,e),function(t,n,i){var r=null==n?void 0:n.Hn("smpte:backgroundImage");if(r){r=r.replace("#","");var e=function t(n,i){if(n&&i(n))return n;var r=null;if(null==n?void 0:n.Fn)for(var e=0,u=null==n?void 0:n.Fn;e<u.length;e++){var s=u[e];if(r=t(s,i))break}return r}(i,function(t){return t.Gn.some(function(t){return"id"===t.Sn&&t.Cn===r})});e&&sN(t,e,n,!0)}!function(t,n){var i=n.Fn[0];if(!i||"metadata"!==i.Sn.toLowerCase())return;var r=i.Fn[0];sN(t,r,n)}(t,n)}(u,t,i);for(var a=[],c=t.Pn,h=0;h<c.length;h++){var f=iN(c[h],n,i,r,e);f&&(a=a.concat(f))}if("BODY"!==t.Sn.toUpperCase()){for(var v=0,d=a;v<d.length;v++){var l=d[v];u.appendChild(l)}return[u]}return a}}else ft(t)&&(u=rN(t));if(u)return[u]}function rN(t){var n,i;if(ft(t))YI(n=s.createElement("text"),t.Qn);else if(ht(t))switch(t.Sn.toUpperCase()){case"BR":n=s.createElement("br");break;case"SPAN":n=s.createElement("span"),(i=n).style.backgroundColor="rgba(0,0,0,0.6)",i.style.textAlign="start",i.style.lineHeight="normal",eN(n,t);break;case"P":(function(t){t.style.fontFamily="Arial, Helvetica, Sans-Serif",t.style.color="white",t.style.justifyContent="flex-start",t.style.textAlign="start",t.style.padding="none",t.style.margin="0",t.style.lineHeight="normal",t.style.lineHeight="1.3em",t.style.textShadow="rgb(0, 0, 0) -1px -1px 0px, rgb(0, 0, 0) 1px -1px 0px, rgb(0, 0, 0) -1px 1px 0px, rgb(0, 0, 0) 1px 1px 0px"})(n=s.createElement("p")),eN(n,t);break;case"DIV":eN(n=s.createElement("div"),t)}return n}function eN(t,n){var i=n.Vn(xd,"id");i&&(t.id=i)}function uN(t,n,i,r){oN(t,n.style,i,r),_.keys(n).forEach(function(i){KI[i]&&KI[i](n[i],t)})}function sN(t,n,i,r){void 0===r&&(r=!1),r&&(t.style.width=t.style.height="100%");var e=s.createElement("img");e.src=function(t){var n=t&&t.Pn.length>0?t.Pn[0]:null;return n&&ft(n)?"data:image/png;base64,"+n.Qn:""}(n),e.id=t.id,e.style.height="100%",e.style.maxWidth="100%",function(t,n){t.style.display="flex";var i=n.Hn("smpte:backgroundImageVertical");if(i)switch(i.toLowerCase()){case"left":t.style.alignItems="flex-start";break;case"center":t.style.alignItems="center";break;case"right":t.style.alignItems="flex-end";break;case"inherit":t.style.alignItems="inherit"}else t.style.alignItems="center";var r=n.Hn("smpte:backgroundImageHorizontal");if(r)switch(r.toLowerCase()){case"left":t.style.justifyContent="flex-start";break;case"center":t.style.justifyContent="center";break;case"right":t.style.justifyContent="flex-end";break;case"inherit":t.style.justifyContent="inherit"}else t.style.justifyContent="center"}(t,i),t.appendChild(e)}function oN(t,n,i,r){n&&n.split(" ").forEach(function(n){i[n]&&_.keys(i[n]).forEach(function(e){var u=Bd(e,["ebutts","tts","xml"]);"style"===u.toLowerCase()?oN(t,i[n][e],i,r):KI[u]&&KI[u](i[n][e],t,r)})})}function aN(t){t.style.display="flex",t.style.top="auto",t.style.left="5%",t.style.width="90%",t.style.height="100%",t.style.maxHeight=t.style.maxWidth="100%",t.style.alignItems="flex-start",t.style.overflow="visible",t.style.position="absolute",t.style.justifyContent="center",t.style.textAlign="start",t.style.cssText=t.style.cssText.concat("ms-writing-mode: lr-tb, horizontal-tb;-webkit-writing-mode: horizontal-tb;-moz-writing-mode: horizontal-tb;writing-mode: horizontal-tb;"),t.style.padding="none",t.style.margin="0"}var cN,hN,fN=void 0;function vN(t,n){for(var i,r=cN.yW,e="",u=[],s=t.charAt(n.zs),o="",a={Cu:hN.mW,Bn:"",kW:[]};n.zs<t.length+1;){switch(s=n.zs<t.length?t.charAt(n.zs):"EOF",r){case cN.yW:switch(s){case"&":var c=t.substr(n.zs).match(/&#?[0-9a-zA-Z]+;/);c?(e+=(i=c[0],fN||(fN=Xt.document.createElement("textarea")),fN.innerHTML=i,fN.value),n.Xs(c[0].length-1)):e+="&";break;case"<":if(e)return{Cu:hN.pW,tk:e};r=cN.AW;break;case"EOF":return{Cu:hN.pW,tk:e};default:e+=s}break;case cN.AW:switch(s){case"\t":case"\n":case"\f":case" ":r=cN.bW;break;case".":r=cN.TW;break;case"/":r=cN.EW;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":e=s,r=cN.SW;break;case">":return n.Xs(1),a;case"EOF":return a;default:e=s,r=cN.RW}break;case cN.RW:switch(s){case"\t":case"\f":case" ":r=cN.bW;break;case"\n":o=s,r=cN.bW;break;case".":r=cN.TW;break;case">":return n.Xs(1),{Cu:hN.mW,Bn:e,kW:[]};case"EOF":return{Cu:hN.mW,Bn:e,kW:[]};default:e+=s}break;case cN.TW:switch(s){case"\t":case"\f":case" ":u.push(o),o="",r=cN.bW;break;case"\n":u.push(o),o=s,r=cN.bW;break;case".":u.push(o),o="";break;case">":return n.Xs(1),u.push(o),{Cu:hN.mW,Bn:e,kW:u};case"EOF":return u.push(o),{Cu:hN.mW,Bn:e,kW:u};default:o+=s}break;case cN.bW:switch(s){case"&":r=cN.IW;break;case">":n.Xs(1);var h=o.trim();return h=h.replace(/\s/," "),{Cu:hN.mW,Bn:e,kW:u,NW:h};default:o+=s}break;case cN.IW:for(var f="",v=n.zs;">"===t.charAt(v);v++)f+=t.charAt(v);o+=f||"&",r=cN.bW;break;case cN.EW:switch(s){case">":return n.Xs(1),{Cu:hN.DW,Bn:e};case"EOF":return{Cu:hN.DW,Bn:e};default:e+=s}break;case cN.SW:switch(s){case">":return n.Xs(1),{Cu:hN.OW,xW:e};case"EOF":return{Cu:hN.OW,xW:e};default:e+=s}}n.Xs(1)}}!function(t){t.yW="Data",t.AW="Tag",t.RW="StartTag",t.TW="StartTagClass",t.bW="StartTagAnnotation",t.IW="CharRefInAnnotation",t.EW="EndTag",t.SW="TimestampTag"}(cN||(cN={})),function(t){t.pW="string",t.mW="starttag",t.DW="endtag",t.OW="timestamp"}(hN||(hN={}));var dN,lN,_N={tB:zI.WHITE,$P:"sans-serif",nB:"100%",iB:"rgba(0,0,0,0.8)",rB:zI.TRANSPARENT,eB:"none"},gN="theoplayer-webvtt-region-",wN="theoplayer-webvtt-styling-",yN="theoplayer-webvtt-voice-",mN=5.23,kN=1.14,pN=0,AN=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,_N)||this).PW={},u.BW=RN(3),u}ct(n,t);var i=n.prototype;return i.KX=function(t){var n=s.createElement("div");return n.className="theoplayer-webvtt-texttrack-"+t,Ne(n),Re(n.style,"flex","-ms-flexbox"),n.style.overflow="hidden",n.style.pointerEvents="none",n.style.fontFamily=this.dW.$P,n.style.whiteSpace="pre-line",n},i.YX=function(t,n){for(var i=n/100,r=t/100,e=g.min(i,r),u=WI(this.dW),s=0,o=_.keys(this.LW);s<o.length;s++){var a=o[s],c=this.LW[a].MW;this.UW(c,e,u,this.LW[a].sk)}this.UW(this.FW,e,u),this.HW()},i.HW=function(){var t=WI(this.dW);this.FW.style.padding=t>=1.5?"0":1/t+"em"},i.cW=function(t){var n=this.uS,i=this.CB.GD/100,r=this.FW;t.sk&&(this.LW[t.sk.Wh]||(this.LW[t.sk.Wh]={sk:t.sk,MW:IN(t.sk,i)}),r=this.LW[t.sk.Wh].MW),n.querySelector("."+r.className)||n.appendChild(r);var e=this.hW(t);r.children.length>=1&&t.sk&&"up"===t.sk.Tk&&(r.style.transitionProperty="top",r.style.transitionDuration="0.433s");for(var u=0;u<e.length;u++){var s=e[u];s.className=t.mk,r.appendChild(s)}},i.hW=function(t){var n=[];return t&&n.push(this.VW(t)),n},i.VW=function(t){for(var n=new Xr,i=t.tk,r=this.XW(t),e=r,u="",o=[],a={};n.zs<i.length;){var c=vN(i,n);if(c.Cu===hN.pW){var h=this.WW(c.tk);bN(h,a),e.appendChild(h)}else if(c.Cu===hN.mW){switch(a[c.Bn.toLowerCase()]||(a[c.Bn.toLowerCase()]=[]),a[c.Bn.toLowerCase()].push(c),c.Bn.toLowerCase()){case"c":break;case"i":var f=s.createElement("i");e.appendChild(f),e=f;break;case"b":var v=s.createElement("b");e.appendChild(v),e=v;break;case"u":var d=s.createElement("u");e.appendChild(d),e=d;break;case"ruby":var l=s.createElement("ruby");e.appendChild(l),e=l;break;case"rt":if("ruby"===u){var _=s.createElement("rt");e.appendChild(_)}break;case"v":break;case"lang":o.push(c.NW)}u=c.Bn||""}else if(c.Cu===hN.DW){a[c.Bn.toLowerCase()]&&a[c.Bn.toLowerCase()].pop(),(!c.Bn||"C"!==c.Bn.toUpperCase()&&"V"!==c.Bn.toUpperCase())&&("LANG"===c.Bn.toUpperCase()?o.pop():"RUBY"===c.Bn.toUpperCase()&&"RUBY"===e.tagName?e=e.parentNode.parentNode:e.tagName&&e.tagName.toUpperCase()===c.Bn.toUpperCase()&&(e=e.parentNode)),u=c.Bn||""}else if(c.Cu===hN.OW){var g=c.xW,w=new Xr;try{cd(g,w)}catch(t){ut("ERROR collecting timestamp",t)}}}return r},i.WW=function(t){var n=s.createElement("span");return YI(n,t),n.style.background=this.dW.iB,n},i.UW=function(t,n,i,r){if(r){var e=TN(r,n);t.style.height=e*i+"px",t.style.left=EN(r)+"%",t.style.top=SN(r,n)+"px"}t.style.fontSize=mN*n*i+"px"},i.XW=function(t){var n=s.createElement("div");return n.style.margin="0",n.style.padding="0",n.style.unicodeBidi="plaintext",n.style.wordWrap="break-word",n.style.width="auto",n.style.textAlign=t.nk,function(t,n){"rl"===n.ck?t.style.writingMode="vertical-rl":"lr"===n.ck?t.style.writingMode="vertical-lr":t.style.writingMode="horizontal-tb"}(n,t),function(t,n){var i=wv(n);NN(n)?(t.style.width=i+"%",t.style.height="auto"):(t.style.height=i+"%",t.style.width="auto")}(n,t),function(t,n){var i,r,e=gv(n),u=_v(n),s=wv(n);NN(n)?("line-left"===e?i=u:"center"===e?i=u-s/2:"line-right"===e&&(i=u-s),r=n.ak?0:lv(n)):("line-left"===e?r=u:"center"===e?r=u-s/2:"line-right"===e&&(r=u-s),i=n.ak?0:lv(n));t.style.left=i+"%",t.style.top=r+"%"}(n,t),n.style.background=this.dW.rB,n.style.color=this.dW.tB,n.style.textShadow=jI(this.dW.eB),n},i.fW=function(t){for(var n=t.mk,i=this.uS,r=i.children,e=0;e<r.length;e++){for(var u=r[e].getElementsByClassName(n),s=0;s<u.length;s++)r[e].removeChild(u[s]);if(0===r[e].childNodes.length){for(var o=0,a=_.keys(this.LW);o<a.length;o++){var c=a[o];if(vn(r[e].className,gN+c)){delete this.LW[c];break}}i.removeChild(r[e])}}},T(n,[{key:"LW",get:function(){return this.PW||(this.PW={}),this.PW}},{key:"FW",get:function(){return this.BW||(this.BW=RN(3)),this.BW}},{key:"uW",get:function(){return"theoplayer-webvtt-cue-"+pN++}}]),n}(GI);function bN(t,n){if(n.c)for(var i=0,r=n.c;i<r.length;i++){var e=r[i];if(e.kW)for(var u=0,s=e.kW;u<s.length;u++){var o=s[u];Se(t,wN+o)}}if(n.v)for(var a=0,c=n.v;a<c.length;a++){var h=c[a];h.NW&&Se(t,yN+h.NW)}}function TN(t,n){return t.pk*(mN*n)*kN}function EN(t){return t.Ek-t.Ak*t.mc/100}function SN(t,n){var i=t.Sk,r=t.bk*TN(t,n)/100;return g.max(0,i-r)}function RN(t){var n=s.createElement("div");return n.className=gN+"default",Ne(n),Re(n.style,"inline-flex","-ms-flexbox"),n.style.flexFlow="column",n.style.justifyContent="flex-end",n.style["-ms-flex-align"]="end",n.style.overflow="hidden",n.style.wordWrap="break-word",n.style.writingMode="horizontal-tb",n.style.pointerEvents="none",n.style.maxHeight="100%",n.style.minHeight="0px",n.style.margin="0",n.style.padding="1em",n.style.boxSizing="border-box",n.style.fontSize=mN*t+"px",n.style.lineHeight=kN+"em",n}function IN(t,n){var i=RN(n);i.className=gN+t.Wh;var r=t.mc,e=TN(t,n);return i.style.width=r+"%",i.style.height=e+"px",i.style.left=EN(t)+"%",i.style.top=SN(t,n)+"px",i.style.padding="0",i.style.boxSizing="border-box",i}function NN(t){return""===t.ck}!function(t){t[t.qW=0]="qW",t[t.zW=1]="zW",t[t.GW=2]="GW",t[t.jW=3]="jW",t[t.QW=4]="QW",t[t.YW=5]="YW"}(dN||(dN={})),function(t){t[t.ZW=0]="ZW",t[t.JW=1]="JW",t[t.KW=2]="KW",t[t.$W=3]="$W"}(lN||(lN={}));var CN=15,DN=32,ON=[[42,225],[92,233],[94,237],[95,243],[96,250],[123,231],[124,247],[125,209],[126,241],[127,9608],[128,174],[129,176],[130,189],[131,191],[132,8482],[133,162],[134,163],[135,9834],[136,224],[137,32],[138,232],[139,226],[140,234],[141,238],[142,244],[143,251],[144,193],[145,201],[146,211],[147,218],[148,220],[149,252],[150,8216],[151,161],[152,42],[153,8217],[154,9473],[155,169],[156,8480],[157,8226],[158,8220],[159,8221],[160,192],[161,194],[162,199],[163,200],[164,202],[165,203],[166,235],[167,206],[168,207],[169,239],[170,212],[171,217],[172,249],[173,219],[174,171],[175,187],[176,195],[177,227],[178,205],[179,204],[180,236],[181,210],[182,242],[183,213],[184,245],[185,123],[186,125],[187,92],[188,94],[189,95],[190,124],[191,8764],[192,196],[193,228],[194,214],[195,246],[196,223],[197,165],[198,164],[199,9475],[200,197],[201,229],[202,216],[203,248],[204,9487],[205,9491],[206,9495],[207,9499]].reduce(function(t,n){return t[n[0]]=n[1],t},{}),xN=function(){function t(){this.tq=[],this.nq=0;for(var t=0;t<DN;t++)this.tq.push(null);this.iq=!1}var n=t.prototype;return n.rq=function(t){for(var n=0;n<DN;n++)t&&(this.tq[n]=t.tq[n])},n.Ja=function(t){for(var n=0;n<DN;n++)if(this.tq[n]!==t.tq[n])return!1;return!0},n.uq=function(){for(var t=0;t<DN;t++)if(null!==this.tq[t])return!1;return!0},n.sq=function(t){this.nq!==t&&(this.nq=t),this.nq<0?this.nq=0:this.nq>DN&&(this.nq=DN-1)},n.oq=function(t){var n=this.nq+t;this.sq(n)},n.aq=function(){this.oq(-1),this.tq[this.nq]=null},n.cq=function(t){t>=144&&this.aq();var n,i=ON[n=t]?String.fromCharCode(ON[n]):String.fromCharCode(n);this.nq>=DN||(32===Number(i)?(this.tq[this.nq]=this.iq?"</i>":"<i>",this.iq=!this.iq):this.tq[this.nq]=i,this.oq(1))},n.hq=function(t){for(var n=t;n<DN;n++)this.tq[n]=null},n.Fs=function(){this.hq(0),this.nq=0},n.fq=function(){this.hq(this.nq)},n.vq=function(t,n){for(var i=this.tq,r=null,e=0;e<DN;e++){var u=i[e];null===u?r=null:(r||(r={dq:e,lq:t,mc:0,hg:1,tq:[[]]},n.push(r)),r.tq[0].push(u),r.mc++)}},n.kp=function(t,n){return t._q(this.tq,n)},t}();var PN=function(){function t(){this.gq=null,this.wq=[];for(var t=0;t<CN;t++)this.wq.push(new xN);this.yq=CN-1,this.Ch()}var n=t.prototype;return n.rq=function(t){for(var n=0;n<CN;n++)this.wq[n].rq(t.wq[n])},n.Ja=function(t){for(var n=!0,i=0;i<CN;i++)if(!this.wq[i].Ja(t.wq[i])){n=!1;break}return n},n.uq=function(){for(var t=!0,n=0;n<CN;n++)if(!this.wq[n].uq()){t=!1;break}return t},n.Ch=function(){for(var t=0;t<CN;t++)this.wq[t].Fs();this.yq=CN-1},n.cq=function(t){this.wq[this.yq].cq(t)},n.mq=function(){this.wq[this.yq].aq()},n.fq=function(){this.wq[this.yq].fq()},n.kq=function(){if(null!==this.gq){var t=this.yq+1-this.gq,n=this.wq[t];n&&(Cn(this.wq,t),n.Fs(),this.wq.splice(this.yq,0,n))}},n.oq=function(t){this.wq[this.yq].oq(t)},n.pq=function(t){this.gq=t},n.Aq=function(t){var n=t.bq;this.gq&&n<this.gq-1&&(n=this.gq-1),this.yq=n;var i=this.wq[this.yq];null!==t.Tq&&i.sq(t.Tq)},n.Eq=function(){for(var t=this.wq,n=[],i=0;i<t.length;i++){t[i].vq(i,n)}for(var r=0;r<n.length;r++){for(var e=!1,u=n[r],s=n.length-1;s>r;){var o=n[s];LN(u,o)&&(u=BN(u,o),Cn(n,s),e=!0),s--}e&&(n[r]=u,r--)}return n.map(MN)},n.kp=function(t){return t.Sq(this.wq)},t}();function BN(t,n){for(var i=g.min(t.dq,n.dq),r=g.min(t.lq,n.lq),e=g.max(t.dq+t.mc,n.dq+n.mc)-i,u=g.max(t.lq+t.hg,n.lq+n.hg)-r,s=new Array(u),o=0;o<u;o++){var a=new Array(e),c=t.tq[o+r-t.lq];if(c)for(var h=0;h<c.length;h++)c[h]&&(a[h-i+t.dq]=c[h]);var f=n.tq[o+r-n.lq];if(f)for(var v=0;v<f.length;v++)f[v]&&(a[v-i+n.dq]=f[v]);s[o]=a}return{dq:i,lq:r,mc:e,hg:u,tq:s}}function LN(t,n){return t.dq<=n.dq+n.mc&&n.dq<=t.dq+t.mc&&t.lq<=n.lq+n.hg&&n.lq<=t.lq+t.hg}function MN(t){for(var n=new Array(t.hg),i=t.tq,r=0;r<i.length;r++){for(var e=i[r],u=[],s=!1,o=0;o<e.length;o++){var a=e[o];a?(s||(s=!0,u.push("<c.theoplayer-text-track-fragment>")),u.push(a)):(s&&(s=!1,u.push("</c>")),u.push(" "))}s&&(s=!1,u.push("</c>")),n[r]=u.join("")}var c=n.join("\n");return{dq:t.dq,lq:t.lq,mc:t.mc,hg:t.hg,tk:c}}var UN=function(){function t(t,n){this.bq=t,this.Tq=n}return t.prototype.Ja=function(t){return this.bq===t.bq&&this.Tq===t.Tq},t}(),FN=function(){function t(t){this.Rq=t,this.Iq=this.Nq(),this.Cq=this.Dq()}var n=t.prototype;return n.Nq=function(){for(var t=new UN(Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),n=0,i=this.Oq;n<i.length;n++){var r=i[n],e=g.min(t.bq,r.xq.bq),u=g.min(t.Tq,r.xq.Tq);t=new UN(e,u)}return t},n.Dq=function(){for(var t=new UN(Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY),n=0,i=this.Oq;n<i.length;n++){var r=i[n],e=g.max(t.bq,r.Pq.bq),u=g.max(t.Tq,r.Pq.Tq);t=new UN(e,u)}return t},T(t,[{key:"xq",get:function(){return this.Iq}},{key:"Pq",get:function(){return this.Cq}},{key:"Oq",get:function(){return Pn(this.Rq.map(function(t){return t.Oq}))}}]),t}(),HN=function(){function t(t,n){this.uB=t,this.Iq=n,this.Bq=""}var n=t.prototype;return n.cq=function(t){this.Bq+=t},n.Lq=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.cq(i)}},T(t,[{key:"Mq",get:function(){return this.Bq}},{key:"Oq",get:function(){return[this]}},{key:"Uq",get:function(){return this.uB}},{key:"xq",get:function(){return this.Iq}},{key:"Pq",get:function(){return new UN(this.xq.bq,this.xq.Tq+this.Mq.length-1)}}]),t}(),VN=function(){function t(){}var n=t.prototype;return n.Fq=function(t){return t.kp(this)},n.Sq=function(t){var n=this;return Pn(t.map(function(t,i){return t.kp(n,i)}))},n._q=function(t,n){return new XN(t,n).Hq()},t}(),XN=function(){function t(t,n){this.bq=t,this.Vq=n,this.Xq=[],this.Wq=null}var n=t.prototype;return n.Hq=function(){if(this.qq)return[];for(var t=0;t<this.bq.length;t++)this.zq(t);return this.Gq(),this.Xq},n.jq=function(t){this.Wq=new HN(ZN,new UN(this.Vq,t))},n.Gq=function(){this.Wq&&(this.Xq.push(this.Wq),this.Wq=null)},n.zq=function(t){var n=this.bq[t];WN(n)?this.Wq&&this.Gq():(this.Wq||this.jq(t),this.Wq.cq(n))},T(t,[{key:"qq",get:function(){return this.bq.every(WN)}}]),t}();function WN(t){return null==t}var qN,zN=function(t){function n(n,i,r){return t.call(this,n,i,r,!1)||this}return ct(n,t),n}(fv),GN=function(t){function n(n){var i;return(i=t.call(this,"Qq")||this).cue=n,i}return ct(n,t),n}(ei);!function(t){t[t.qS=0]="qS",t[t.Yq=1]="Yq",t[t.Zq=2]="Zq",t[t.Jq=3]="Jq",t[t.yn=4]="yn"}(qN||(qN={}));var jN,QN=function(t){function n(){var n;return(n=t.call(this)||this).La=Cv.rc,n.Km=Cv.rc,n.nf=qN.qS,n.Kq=new PN,n.$q=new PN,n.tz=new PN,n.nz=n.Kq,n}ct(n,t);var i=n.prototype;return i.cq=function(t){this.nz.cq(t),this.nf!==qN.Yq&&this.nf!==qN.Zq||this.iz()},i.Sv=function(t){t!==this.nf&&(this.nf=t,this.nf===qN.Jq?this.nz=this.$q:(this.nz=this.Kq,this.nz.Ch()),this.nf!==qN.Zq&&(this.Kq.pq(null),this.$q.pq(null)))},i.Aq=function(t){this.nz.Aq(t)},i.rz=function(){this.Sv(qN.Jq)},i.ez=function(){this.nf!==qN.yn&&(this.nz.mq(),this.nz===this.Kq&&this.iz())},i.uz=function(){},i.sz=function(){},i.oz=function(){this.nz.fq(),this.iz()},i.az=function(t){this.nz=this.Kq,this.Sv(qN.Zq),this.nz.pq(t)},i.cz=function(){},i.hz=function(){this.Sv(qN.Yq)},i.fz=function(){this.Sv(qN.yn)},i.vz=function(){this.Sv(qN.yn)},i.dz=function(){this.Kq.Ch(),this.iz()},i.lz=function(){this.nz.kq(),this.iz()},i._z=function(){this.$q.Ch()},i.gz=function(){if(this.nf===qN.Jq){var t=this.Kq;this.Kq=this.$q,this.$q=t,this.nz=this.$q}this.iz()},i.wz=function(t){this.nz.oq(t)},i.iz=function(){if(null!==this.La){if((!this.Km||this.Km.Wk())&&!this.Kq.uq())this.Km=this.La;else if(!this.Kq.Ja(this.tz)){var t=this.yz();if(this.La.Ga(this.Km)){var n=new zN(this.Km.Ik(),this.La.Ik(),t);this.vs(new GN(n))}this.Km=this.Kq.uq()?null:this.La}this.tz.rq(this.Kq)}},i.yz=function(){return function(t){var n=[],i=[].concat(t);for(;i.length>0;){var r=i.pop(),e=void 0;do{e=!1;for(var u=0;u<i.length;u++){var s=i[u];(function(t,n){return g.abs(t.Pq.Tq-n.xq.Tq)<=1||g.abs(n.Pq.Tq-t.xq.Tq)<=1||g.abs(t.Pq.bq-n.xq.bq)<=1||g.abs(n.Pq.bq-t.xq.bq)<=1}(o=r,a=s)||function(t,n){return YN(t.xq.bq,t.Pq.bq,n.xq.bq,n.Pq.bq)&&YN(t.xq.Tq,t.Pq.Tq,n.xq.Tq,n.Pq.Tq)}(o,a))&&(r=new FN([].concat(r.Oq,s.Oq)),Nn(i,s),e=!0)}}while(e&&i.length>0);n.push(r)}var o,a;return n}((new VN).Fq(this.tz))},i.Ch=function(){this.La=Cv.rc,this.Km=Cv.rc,this.Kq.Ch(),this.Kq.pq(null),this.$q.Ch(),this.$q.pq(null),this.tz.Ch(),this.tz.pq(null),this.nz=this.Kq,this.nf=qN.qS},n}(ii);function YN(t,n,i,r){return n>=i&&r>=t}!function(t){t.FONT_REGULAR="regular",t.FONT_UNDERLINE="underline",t.FONT_ITALICS="italics",t.FONT_UNDERLINE_ITALICS="underline-italics"}(jN||(jN={}));var ZN={tB:zI.WHITE,$P:qI.gW,nB:"100%",iB:zI.BLACK,rB:"transparent",eB:"none",mz:jN.FONT_REGULAR},JN=[{kz:zI.WHITE,mz:jN.FONT_REGULAR,Tq:0},{kz:zI.WHITE,mz:jN.FONT_UNDERLINE,Tq:0},{kz:zI.GREEN,mz:jN.FONT_REGULAR,Tq:0},{kz:zI.GREEN,mz:jN.FONT_UNDERLINE,Tq:0},{kz:zI.BLUE,mz:jN.FONT_REGULAR,Tq:0},{kz:zI.BLUE,mz:jN.FONT_UNDERLINE,Tq:0},{kz:zI.CYAN,mz:jN.FONT_REGULAR,Tq:0},{kz:zI.CYAN,mz:jN.FONT_UNDERLINE,Tq:0},{kz:zI.RED,mz:jN.FONT_REGULAR,Tq:0},{kz:zI.RED,mz:jN.FONT_UNDERLINE,Tq:0},{kz:zI.YELLOW,mz:jN.FONT_REGULAR,Tq:0},{kz:zI.YELLOW,mz:jN.FONT_UNDERLINE,Tq:0},{kz:zI.MAGENTA,mz:jN.FONT_REGULAR,Tq:0},{kz:zI.MAGENTA,mz:jN.FONT_UNDERLINE,Tq:0},{kz:zI.WHITE,mz:jN.FONT_ITALICS,Tq:0},{kz:zI.WHITE,mz:jN.FONT_UNDERLINE_ITALICS,Tq:0},{kz:zI.WHITE,mz:jN.FONT_REGULAR,Tq:0},{kz:zI.WHITE,mz:jN.FONT_UNDERLINE,Tq:0},{kz:zI.WHITE,mz:jN.FONT_REGULAR,Tq:4},{kz:zI.WHITE,mz:jN.FONT_UNDERLINE,Tq:4},{kz:zI.WHITE,mz:jN.FONT_REGULAR,Tq:8},{kz:zI.WHITE,mz:jN.FONT_UNDERLINE,Tq:8},{kz:zI.WHITE,mz:jN.FONT_REGULAR,Tq:12},{kz:zI.WHITE,mz:jN.FONT_UNDERLINE,Tq:12},{kz:zI.WHITE,mz:jN.FONT_REGULAR,Tq:16},{kz:zI.WHITE,mz:jN.FONT_UNDERLINE,Tq:16},{kz:zI.WHITE,mz:jN.FONT_REGULAR,Tq:20},{kz:zI.WHITE,mz:jN.FONT_UNDERLINE,Tq:20},{kz:zI.WHITE,mz:jN.FONT_REGULAR,Tq:24},{kz:zI.WHITE,mz:jN.FONT_UNDERLINE,Tq:24},{kz:zI.WHITE,mz:jN.FONT_REGULAR,Tq:28},{kz:zI.WHITE,mz:jN.FONT_UNDERLINE,Tq:28}],KN=[11,-1,1,2,3,4,12,13,14,15,5,6,7,8,9,10],$N=function(t){function n(){var n;(n=t.call(this)||this).pz=null,n.Az=null,n.bz=0;var i=new QN;return n.Tz=[i,new QN],i.ls("Qq",n.fs),n}ct(n,t);var i=n.prototype;return i.Ch=function(){for(var t=0,n=this.Tz;t<n.length;t++){n[t].Ch()}},i.Ez=function(t,n){if(n.Cu===lN.ZW&&n.Sz){n.Rz&&(this.bz=0),this.Tz[this.bz].La=t;var i=127&n.Iz,r=127&n.Nz;if(i+r!==0){switch(i){case 17:r>=32&&r<=47&&this.Cz(),r>=48&&r<=63&&this.Dz(i,r);break;case 18:case 19:r>=32&&r<=63&&this.Dz(i,r);break;case 20:case 21:r>=32&&r<=47&&this.Oz(i,r);break;case 23:r>=33&&r<=35&&this.Oz(i,r),r>=46&&r<=47&&this.Cz()}16===i&&r>=64&&r<=95?this.xz(i,r):i>=17&&i<=23&&r>=64&&r<=127&&this.xz(i,r),i>=32&&this.Dz(i,r)}}},i.Oz=function(t,n){var i=null;if(t===this.pz&&n===this.Az)return this.pz=null,this.Az=null,!0;i=20===t||23===t?0:1;var r=this.Tz[i];return 20===t||28===t?32===n?r.rz():33===n?r.ez():34===n?r.uz():35===n?r.sz():36===n?r.oz():37===n?r.az(2):38===n?r.az(3):39===n?r.az(4):40===n?r.cz():41===n?r.hz():42===n?r.fz():43===n?r.vz():44===n?r.dz():45===n?r.lz():46===n?r._z():47===n&&r.gz():r.wz(n-32),this.pz=t,this.Az=n,this.bz=i,!0},i.xz=function(t,i){t===this.pz&&i===this.Az&&(this.pz=null,this.Az=null);var r=t<=23?0:1,e=KN[t<<1&14|i>>5&1]-1;if(!(e<0)){var u=n.Pz(e,i);this.Tz[r].Aq(u),this.pz=t,this.Az=i,this.bz=r}},n.Pz=function(t,n){var i=n>95?n-96:n-64;return{kz:JN[i].kz,mz:JN[i].mz,Tq:JN[i].Tq,bq:t}},i.Dz=function(t,n){var i=t>=25?t-8:t,r=this.Tz[this.bz],e=!1;switch(i){case 17:r.cq(n+80),e=!0;break;case 18:r.cq(n+112),e=!0;break;case 19:r.cq(n+144),e=!0;break;default:t>=32&&(r.cq(t),n>=32&&r.cq(n),e=!0)}e&&(this.pz=null,this.Az=null)},i.Cz=function(){this.Tz[this.bz].nz.oq(1)},i.Dh=function(){this.gs()},T(n,[{key:"Ng",get:function(){return this.Tz.length}}]),n}(ii),tC=function(){function t(t,n,i){this.Bz=t,this.Lz=n,this.JX=i}var n=t.prototype;return n.Mz=function(){return this.Uz=this.Fz(),this.Hz(),this.Vz(),this.Uz},n.Fz=function(){var t=s.createElement("div");return t.style.position="absolute",t.style.margin="0",t.style.padding="0",t.style.whiteSpace="pre",t.style.width=this.Xz/DN*this.Lz.Wz*100+"%",t.style.height=1.2*this.qz+"em",t.style.lineHeight="1.2em",t.style.letterSpacing=this.Lz.zz?"calc(1em - 1ch)":"",t.style.fontFamily=this.JX.$P,t.style.backgroundColor=this.JX.rB,t},n.Hz=function(){var t=this.Gz.bq/CN*100,n=this.Gz.Tq/DN*100,i=(DN-this.jz.Tq-1)/DN*100,r=(CN-this.jz.bq-1)/CN*100;this.Lz.Qz||(n=i=1,this.Uz.style.width="98%"),r<t?this.Uz.style.bottom=r*this.Lz.Wz+"%":this.Uz.style.top=t*this.Lz.Wz+"%",i<n?this.Uz.style.right=i+"%":this.Uz.style.left=n+"%"},n.Vz=function(){for(var t=this.Bz.Oq.sort(nC),n=0;n<t.length;n++)this.Yz(t[n-1],t[n]),this.Zz(t[n]);this.Yz(t[t.length-1],null)},n.Zz=function(n){var i=XI(this.JX,n.Uq),r=t.Jz(i);YI(r,n.Mq),this.Uz.appendChild(r)},t.Jz=function(t){var n=s.createElement("span");return n.style.display="inline-block",t.mz!==jN.FONT_ITALICS&&t.mz!==jN.FONT_UNDERLINE_ITALICS||(n.style.fontStyle="italic"),t.mz!==jN.FONT_UNDERLINE&&t.mz!==jN.FONT_UNDERLINE_ITALICS||(n.style.textDecoration="underline"),n.style.color=t.tB,n.style.backgroundColor=t.iB,n.style.textShadow=jI(t.eB),n.style.height="1.2em",n},n.Yz=function(t,n){var i=t?t.Pq.bq:this.Bz.xq.bq,r=n?n.xq.bq:this.Bz.Pq.bq,e=t?t.Pq.Tq:this.Bz.xq.Tq,u=n?n.xq.Tq:this.Bz.Pq.Tq;i<r&&(!n||t&&t.xq.bq!==n.xq.bq?this.Kz():this.$z(this.Bz.Pq.Tq-e),e=this.Bz.xq.Tq),e<u&&(n?this.$z(u-e):this.Kz())},n.Kz=function(){var t=s.createElement("br");this.Uz.appendChild(t)},n.$z=function(t){if(!(t<=0)){var n=s.createElement("span");n.style.display="inline-block",YI(n,gn(" ",t)),this.Uz.appendChild(n)}},T(t,[{key:"Gz",get:function(){return this.Bz.xq}},{key:"jz",get:function(){return this.Bz.Pq}},{key:"Xz",get:function(){return this.Bz.Pq.Tq-this.Bz.xq.Tq+1}},{key:"qz",get:function(){return this.Bz.Pq.bq-this.Bz.xq.bq+1}}]),t}();function nC(t,n){return function(t,n){if(t.bq!==n.bq)return t.bq-n.bq;return t.Tq-n.Tq}(t.xq,n.xq)}var iC=0;var rC=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,ZN)||this}ct(n,t);var i=n.prototype;return i.KX=function(t){var n=s.createElement("div");return n.className="theoplayer-cea608-texttrack-"+t,n.style.position="absolute",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.height="100%",this.dW.$P&&(n.style.fontFamily=this.dW.$P),n},i.YX=function(t,n){this.tG()},i.tG=function(){var t,n=WI(this.dW);this.nG={Wz:(t=100*n)/100,zz:t<=100,Qz:t<=150};var i=this.iG/DN;this.rG=i*n,this.uS.style.fontSize=this.rG+"px"},i.hW=function(t){var n=this;return this.nG&&this.nG.Qz?this.eG(80):this.eG(100),this.tG(),t.tk.map(function(t){return new tC(t,n.nG,n.dW).Mz()})},i.eG=function(t){var n=(100-t)/2;this.uS.style.left=n+"%",this.uS.style.width=t+"%"},T(n,[{key:"iG",get:function(){var t=this.uS.offsetWidth;return this.nG&&this.nG.Qz||(t*=.8),t}},{key:"uW",get:function(){return"theoplayer-cea608-texttrack-"+iC++}}]),n}(GI),eC=function(){function t(t,n,i,r,e){var u=this;this.uG=[],this.sG=function(t){var n=t.ih;n.ls(Co.gh,u.oG),n.ls(Co.yh,u.oG),n instanceof oI&&(n.hH=u.hH),u.aG(n)},this.oG=function(t){var n=t.ih;u.aG(n)},this.cG=function(t){var n=t.ih;n.ys(Co.gh,u.oG),n.ys(Co.yh,u.oG),u.hG(n)},this.fG=function(){for(var t=u.hH,n=0,i=u.gd.Oh;n<i.length;n++){var r=i[n];r instanceof oI&&(r.hH=t)}},this.vG=function(){for(var t=0,n=u.uG;t<n.length;t++){n[t].tW(u.ZS)}},this.dG=t,this.iX=n,this.gd=i,this.lG=e,this.ZS=r,this.gd.ls(To.Yc,this.sG),this.gd.ls(To.Jc,this.cG),this.gd.ls("_h",this.oG),this.lG.ls(Ta.lh,this.fG),this.ZS.ls("_h",this.vG),this.fG()}var n=t.prototype;return n._G=function(t){for(var n=0,i=this.uG;n<i.length;n++){var r=i[n];if(r.ih===t)return r}},n.gG=function(t){switch(t.Cu){case Xh.TTML:case Xh.SRT:case Xh.WEBVTT:case Xh.CEA608:return!0}return!1},n.wG=function(t){switch(t.Cu){case Xh.TTML:return new nN(t,this.dG,t.Gh,this.iX);case Xh.SRT:case Xh.WEBVTT:return new AN(t,this.dG,t.Gh,this.iX);case Xh.CEA608:return new rC(t,this.dG,t.Gh,this.iX)}},n.yG=function(t){var n=this._G(t);n||((n=this.wG(t)).tW(this.ZS),this.uG.push(n),t.nf===ua.Kh&&n.sW())},n.hG=function(t){for(var n=this.uG,i=n.length-1;i>=0;i-=1){var r=n[i];r.ih===t&&(r.Dh(),Cn(n,i))}},n.aG=function(t){var n;(n=t.zh)!==af.Nm&&n!==af.Cm||!this.gG(t)||(t.if===Qf.ERROR?this.hG(t):this.yG(t))},n.Ch=function(){for(var t=0,n=this.uG;t<n.length;t++){var i=n[t];i.ih.ys(Co.gh,this.oG),i.ih.ys(Co.yh,this.oG),i.Dh()}xn(this.uG)},n.Dh=function(){this.Ch();for(var t=0,n=this.uG;t<n.length;t++){n[t].Dh()}this.gd.ys(To.Yc,this.sG),this.gd.ys(To.Jc,this.cG),this.gd.ys("_h",this.oG),this.lG.ys(Ta.lh,this.fG),this.ZS.ys("_h",this.vG)},T(t,[{key:"hH",get:function(){return this.lG.Nv}}]),t}();function uC(t){for(var n=new yT,i=function(t){var n=[];return gT._O(t)&&n.push(new gT(t)),wT._O(t)&&n.push(new wT(t)),n}(t),r=0;r<i.length;r++){var e=i[r];n.kO(e)}return n.mO(i[0]),n}var sC=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r)||this).mG=uC(n),u.ZS=e,u.kG=new VI,u.pG=new eC(u.kG.zd,u.CB,u.pd,u.ZS,u.pS),u}ct(n,t);var i=n.prototype;return i.Bd=function(){return this.ia},i.$u=function(){var n=Ct.coroutine(Nt.mark(function n(){return Nt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.mG.Dh(),this.kG.Dh(),this.pG.Dh(),n.next=5,t.prototype.$u.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i.Pd=function(){t.prototype.Pd.call(this),this.kG.Pd()},i.xd=function(){t.prototype.xd.call(this),this.kG.xd()},i.DX=function(n){t.prototype.DX.call(this,n),this.kG.DX(n)},T(n,[{key:"uS",get:function(){return this.ia}},{key:"Qv",get:function(){return this.ia.videoHeight}},{key:"Yv",get:function(){return this.ia.videoWidth}},{key:"pS",get:function(){return this.mG}}]),n}(PI),oC=2,aC=[Zh.i_,Zh.n_];function cC(t){var n=s.createElement(t);return De(n)&&function(t){t.addEventListener("contextmenu",function(t){t.preventDefault()})}(n),hC(n),n}function hC(t){t.removeAttribute("id"),t.removeAttribute("class"),t.removeAttribute("style"),function(t){if(t)for(var n;n=t.firstChild;)t.removeChild(n)}(t),Oe(t),t.pause(),t.playbackRate=1,t.preload=kw.Tm,t.controls=!1,t.style.display="none",De(t)&&(t.style.width="100%",t.style.height="100%",t.style.pointerEvents="none",t.playsInline=!0,t.setAttribute("webkit-playsinline",""))}function fC(t,n){if(n.ac){var i=t.muted;t.muted=!0,t.muted=!1,t.muted=i}else if(t.paused){var r=t.play();q(r)&&Qn(r),t.pause()}}var vC;Ft=(vC={AG:function(){function t(t,n,i,r,e){void 0===i&&(i=oC),void 0===r&&(r=aC),void 0===e&&(e=Fe()),this.bG=i,this.TG=[].concat(r),this.Uu=e,this.iX=t,this.ZS=n,this.EG=xt(),this.SG()}var n=t.prototype;return n.KS=function(t){for(var n=0,i=this.oR;n<i.length;n++){i[n].DX(t)}},n.rS=function(t){var n=Rn(this.EG.get(t),function(t){return t.RG});if(n)return n.RG=!1,n.IG},n.TS=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i,r,e;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.uS,r=i.tagName.toLowerCase(),t.next=4,n.Ch();case 4:hC(i),(e=Rn(this.EG.get(r)||[],function(t){return n===t.IG}))&&(e.RG=!0);case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.eR=function(){for(var t=0,n=this.NG;t<n.length;t++){fC(n[t],r.Mc)}},n.Dh=function(){for(var t=0,n=this.oR;t<n.length;t++){var i=n[t],r=i.uS;i.$u(),hC(r),Ee(r)}},n.SG=function(){for(var t=0,n=this.TG;t<n.length;t++){var i=n[t],r=[];this.EG.set(i,r);for(var e=0;e<this.bG;e++){var u=cC(i),s=i===Zh.i_?new FI(u,this.Uu,this.iX):new sC(u,this.Uu,this.iX,this.ZS);r.push({IG:s,RG:!0})}}},T(t,[{key:"oR",get:function(){for(var t=[],n=0,i=this.TG;n<i.length;n++){var r=i[n],e=this.EG.get(r).map(function(t){return t.IG});t.push.apply(t,e)}return t}},{key:"NG",get:function(){return this.oR.map(function(t){return t.uS})}}]),t}(),CG:function(){function t(n){var i=this;this.JS=n,this.DG=new Cl,this.OG=Ct.coroutine(Nt.mark(function n(){var r,e,u;return Nt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=i.JS.rS(Zh.n_),e=r.uS,n.next=4,t.xG(e);case 4:return u=n.sent,n.next=7,i.JS.TS(r);case 7:return n.abrupt("return",u);case 8:case"end":return n.stop()}},n)}))}var n=t.prototype;return n.cL=function(){return this.DG.jA(this.OG)},n.Cd=function(){this.JS.eR()},t.xG=function(){var n=Ct.coroutine(Nt.mark(function n(i){return Nt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i.src||(i.src="data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw"),n.next=3,t.PG();case 3:return n.next=5,t.BG(i);case 5:if(!n.sent){n.next=7;break}return n.abrupt("return","all");case 7:return n.next=9,t.LG(i);case 9:if(!n.sent){n.next=11;break}return n.abrupt("return","muted");case 11:return n.abrupt("return","none");case 12:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}(),t.BG=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n.play(),t.prev=1,q(i)){t.next=4;break}return t.abrupt("return",!P.Vt);case 4:return t.next=6,i;case 6:return t.abrupt("return",!0);case 9:return t.prev=9,t.t0=t.catch(1),t.abrupt("return",!1);case 12:return t.prev=12,n.pause(),t.finish(12);case 15:case"end":return t.stop()}},t,null,[[1,9,12,15]])}));return function(n){return t.apply(this,arguments)}}(),t.LG=function(){var n=Ct.coroutine(Nt.mark(function n(i){var r;return Nt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i.muted=!0,n.next=3,t.BG(i);case 3:return r=n.sent,i.muted=!1,n.abrupt("return",r);case 6:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}(),t.PG=function(){return new Ct(function(t){if("function"==typeof MessageChannel){var n=new MessageChannel;n.port1.onmessage=function(){return t()},n.port2.postMessage("")}else c(t,0)})},n.Dh=function(){this.DG.Dh()},t}(),MG:{pI:function(t){Xt.addEventListener("beforeunload",t)},xI:function(t){Xt.removeEventListener("beforeunload",t)}},UG:u}).AG,Ht=vC.CG,Vt=vC.MG,Xt=vC.UG,Wt=Xt&&Xt.location,qt=Xt&&Xt.navigator;var dC=[];function lC(){dC.shift()()}function _C(t){dC.push(t),c(lC,0)}var gC=function(){function t(t){this.FG=t}var n=t.prototype;return n.HG=function(t){return this.VG=this.VG||{},void 0===this.VG[t]&&(this.VG[t]=[]),this.VG[t]},n.addEventListener=function(t,n){var i=this.HG(t);-1===i.indexOf(n)&&i.push(n)},n.af=function(t){(this.XG||(this.XG=[])).push(t)},n.removeEventListener=function(t,n){var i=this.HG(t);n?Nn(i,n):i.length=0},n.cf=function(t){var n=this.XG;n&&Nn(n,t)},n.gs=function(){this.VG=void 0},n.dispatchEvent=function(t,n){if(n)return _C(this.dispatchEvent.bind(this,t));"string"==typeof t&&(t={type:t});for(var i=this.HG(t.type).slice(),r=this.XG&&this.XG.slice(),e=0;e<i.length;e++){i[e].call(this.FG||this,t)}if(r)for(var u=0;u<r.length;u++){r[u].call(this.FG||this,t)}},n.WG=function(t){return Boolean(this.VG&&this.VG[t]&&this.VG[t].length)},n.qG=function(){return this.VG?_.keys(this.VG):[]},t}(),wC=function(){function t(){this.zG=[]}var n=t.prototype;return n.ED=function(t,n){var i=this.zG[t];return i?new i(n):null},n.dL=function(t,n){this.zG[t]=n},t}();wC.dn=new wC;var yC,mC=function(t){function n(n,i){var r,e=pC[n];return(r=t.call(this,e?e.Es:"")||this).code=n,r.info=i,r.helpLink=e&&e.GG,r.helpLinkText=e&&e.jG,r}return ct(n,t),T(n,[{key:"name",get:function(){return"THEOplayerError"}}]),n}(lt);!function(t){t.QG="LICENSE_INVALID",t.YG="MANIFEST_NOT_FOUND",t.ZG="MANIFEST_CORS_ERROR",t.JG="INVALID_HLS_MANIFEST",t.KG="PLAYBACK_ISSUE",t.$G="AUDIO_ISSUE",t.tj="BROWSER_SUPPORT_ISSUE",t.nj="INVALID_KEY",t.ij="DECRYPTION_ERROR",t.rj="AD_BLOCK_DETECTED",t.ej="THEOPLAYER_NOT_INITIALIZED",t.$h="ERROR",t.uj="MANIFEST_SEQUENCE_RESET_ERROR",t.sj="PLAYER_INCORRECTLY_CONFIGURED",t.oj="UNSUPPORTED"}(yC||(yC={}));for(var kC=[{$s:yC.QG,Es:"The license for this player is invalid. Please contact your service provider for additional information."},{$s:yC.YG,Es:"Could not load the manifest file."},{$s:yC.ZG,Es:"Could not load the manifest file. Make sure the source is set correctly and that CORS support is enabled.",GG:"https://www.theoplayer.com/documentation/cors.html",aj:!1},{$s:yC.JG,Es:"The source of the player is an invalid HLS manifest.",GG:"https://developer.apple.com/library/ios/technotes/tn2288/_index.html"},{$s:yC.KG,Es:"There appears to be a playback issue."},{$s:yC.$G,Es:"There is an audio issue. Please contact your service provider with the code below for additional information."},{$s:yC.tj,Es:"Your browser doesn't support a feature. Try upgrading your browser or please contact your service provider referring to the code below."},{$s:yC.nj,Es:"There is an invalid key being decrypted. Please contact your service provider with the code below for additional information."},{$s:yC.ij,Es:"There is a decryption error. Please contact your service provider with the code below for additional information."},{$s:yC.rj,Es:"An ad blocker was detected. Please turn it off and refresh the page in order to watch this video."},{$s:yC.ej,Es:"THEOplayer hasn't been initialized yet. Please check your configuration or wait."},{$s:yC.$h,Es:"THEOplayer encountered an error. If this issue holds, please contact your service provider."},{$s:yC.uj,Es:"The video stream has been reset. THEOplayer will attempt to reload the source."},{$s:yC.sj,Es:"The player is incorrectly configured.",GG:"https://support.theoplayer.com/hc/en-us/articles/214343065-Player-API"},{$s:yC.oj,Es:"This browser does not allow you to watch this video. Try to update your browser or use a different browser."}],pC={},AC=0;AC<kC.length;AC++){var bC=kC[AC];pC[bC.$s]=bC}function TC(t){return t.cj}var EC=function(){function t(){this.MI=[],this.hj={},this.fj=0}var n=t.prototype;return n.vj=function(t){var n=this.hj[t];return void 0===n?-1:n-this.fj},n.dj=function(t){return this.MI[t]},n.lj=function(t){return this.dj(this.vj(t))},n._j=function(t){return!!this.dj(t)},n.gj=function(t){return!!this.lj(t)},n.wj=function(){return this.MI},n.qa=function(t){var n,i=this.MI,r=i.length?i[i.length-1]:null;if(this.vj(t.cj)>=0)return!1;if(r&&t.cj>r.cj)n=i.length;else{var e=jS(this.MI,t.cj,TC,Ks);if(e>=0)return!1;n=-(e+1)}return this.yj(t,n),!0},n.lo=function(t){var n=this.MI,i=this.hj,r=this.vj(t.cj);return!(r<0)&&(n.splice(r,0,t),delete i[t.cj],this.mj(r),!0)},n.kj=function(t){var n=this.MI,i=this.hj;t=g.min(t,n.length);for(var r=0;r<t;r++)delete i[n[r].cj];n.splice(0,t),this.fj+=t},n.yj=function(t,n){var i=this.MI;n>=i.length?i.push(t):i.splice(n,0,t),this.mj(n)},n.mj=function(t){for(var n=this.MI,i=this.hj,r=this.fj,e=n.length,u=t;u<e;u++)i[n[u].cj]=u+r},T(t,[{key:"xh",get:function(){return this.MI.length}}]),t}(),SC=function(){function t(t,n,i){this.pj=t,this.Aj=n,this.bj=i}var n=t.prototype;return n.compute=function(){return this.pj.live?this.pj.Tj?this.pj.Ej:this.estimateDiscontinuitySequenceNumber():0},n.estimateDiscontinuitySequenceNumber=function(){var t=0;return this.bj&&(t+=this.Sj()),this.Rj()&&(t+=this.Ij(t)),t},n.Rj=function(){return void 0!==this.Aj.Nj.lj(this.pj.fragments[0].cj)},n.Ij=function(t){var n=this.pj.fragments[0];return this.Aj.Nj.lj(n.cj).Cj-(n.Cj+t)||0},n.Sj=function(){var t=RC(this.pj),n=RC(this.bj.Dj),i=this.estimateMinimalOffset(n,t);return this.getOldDiscontinuitySequenceNumber(this.bj)+i},n.estimateMinimalOffset=function(t,n){for(var i=0,r=1/0,e=0;e<t.length;e+=1){for(var u=0,s=0;s<n.length+t.length;s+=1){var o=t[s]||0,a=n[s-e]||0;u+=g.abs(o-a)}u<r&&(i=e,r=u)}return i},n.getOldDiscontinuitySequenceNumber=function(t){return t.Dj.fragments.length?this.bj.Oj(t.Dj.fragments[0].cj).Cj:0},t}();function RC(t){for(var n=[],i=0,r=0,e=t.fragments;r<e.length;r++){var u=e[r];u.xj&&(n.push(i),i=0),i+=u.duration}return n.push(i),n}var IC=function(t){function n(n){return t.call(this,Kf.kh,n)||this}return ct(n,t),n.prototype.nh=function(){return new NC(this.Jm.th)},n}(ev),NC=function(t){function n(n){return t.call(this,$f.kh,n)||this}return ct(n,t),n}(uv),CC=function(t){function n(n,i){var r,e=DC(i,n.Vv,n.RS,n.Pj);return(r=t.call(this,i,e,void 0,!1,n.Wh)||this).Bj=n.Lj,r.Mj=n.RS,r.Uj=n.Pj,r.QU=n.Vv,r.Fj=n.Hj,r.Vj=Boolean(n.Xj),r.Wj=n.qj||{},r.zj=n.Gj,r.jj=n.Qj,r.Yj=n.Zj,r.Jj(),r.Kj(),r}ct(n,t);var i=n.prototype;return i._o=function(t){var n=!1;void 0===this.Bj&&void 0!==t.Lj&&(n=!0,this.Bj=t.Lj),void 0===this.Uj&&void 0!==t.Pj&&(n=!0,this.Uj=t.Pj),void 0===this.QU&&void 0!==t.Vv&&(n=!0,this.QU=t.Vv),void 0===this.Fj&&void 0!==t.Hj&&(n=!0,this.Fj=t.Hj),!this.Vj&&t.Xj&&(n=!0,this.Vj=t.Xj),n=this.updateCustomAttributes(t,n),void 0===this.zj&&void 0!==t.Gj&&(n=!0,this.zj=t.Gj),void 0===this.jj&&void 0!==t.Qj&&(n=!0,this.jj=t.Qj),void 0===this.Yj&&void 0!==t.Zj&&(n=!0,this.Yj=t.Zj),this.Jj(),this.Kj(),this.$j(),n&&this.vs(new IC(this))},i.updateCustomAttributes=function(t,n){var i=n;if(t.qj)for(var r=0,e=_.keys(t.qj);r<e.length;r++){var u=e[r];void 0===this.Wj[u]&&(i=!0,this.Wj[u]=t.qj[u])}return i},i.Jj=function(){this.QU&&!this.Uj&&(this.Uj=new Date(this.Mj.getTime()+1e3*this.QU))},i.Kj=function(){this.Uj&&!this.QU&&(this.QU=at(this.Uj.getTime()-this.Mj.getTime()))},i.$j=function(){this._k===1/0&&(this.Uj||this.QU)&&(this._k=DC(this.lk,this.QU,this.Mj,this.Uj))},T(n,[{key:"th",get:function(){var t;return this.$c||(this.$c=Wo(sv(t=this),{get content(){return t.tk},get class(){return t.Lj},get startDate(){return t.RS},get endDate(){return t.Pj},get duration(){return t.Vv},get plannedDuration(){return t.Hj},get endOnNext(){return t.Xj},get scte35Cmd(){return t.Gj},get scte35Out(){return t.Qj},get scte35In(){return t.Zj},get customAttributes(){return t.qj}})),this.$c}},{key:"Lj",get:function(){return this.Bj}},{key:"RS",get:function(){return this.Mj}},{key:"Pj",get:function(){return this.Uj}},{key:"Vv",get:function(){return this.QU}},{key:"Hj",get:function(){return this.Fj}},{key:"Xj",get:function(){return this.Vj}},{key:"Gj",get:function(){return this.zj}},{key:"Qj",get:function(){return this.jj}},{key:"Zj",get:function(){return this.Yj}},{key:"qj",get:function(){return this.Wj}}]),n}(fv);function DC(t,n,i,r){return M(n)?t+n:r?t+(at(r.getTime())-at(i.getTime())):1/0}var OC,xC,PC,BC,LC,MC=function(t){function n(){return t.call(this,void 0,void 0,Xh.DATE_RANGE)||this}ct(n,t);var i=n.prototype;return i._o=function(t,n){var i=this;t=function(t){for(var n=xt(),i=[],r=0;r<t.length;r++){var e=t[r];if(n.has(e.Wh)){var u=n.get(e.Wh),s=Dt(Dt(Dt({},u),jo(e)),{qj:Dt(Dt({},u.qj),e.qj)});n.set(e.Wh,s)}else n.set(e.Wh,e),i.push(e.Wh)}return i.map(function(t){return n.get(t)})}(t);for(var r=this.rf.Oh,e=function(n){var e=r[n],u=Rn(t,function(t){return t.Wh===e.Wh});u?e._o(u):i.SF(e)},u=r.length-1;u>=0;u--)e(u);for(var s=0,o=t;s<o.length;s++){var a=o[s],c=a.RS;if(void 0!==c&&!this.TF(a.Wh)){var h=n(c);this.FA(new CC(a,h))}}},i.FA=function(n){this.tQ(n),t.prototype.FA.call(this,n)},i.tQ=function(t){var n=this.vF.filter(function(n){return n.Lj===t.Lj}).pop();n&&n.Xj&&n._o({Wh:n.Wh,Pj:t.RS})},n}(lI);function UC(t){return FC(t)?{dA:t.nQ,iQ:[t.iQ.Ly,t.iQ.Uy],pA:!0}:{dA:t.toString(),pA:!0}}function FC(t){return void 0!==t.iQ}function HC(t){return t&&t.rQ&&Mv(t.rQ)||!1}function VC(t){if(!t)return Cv.rc;if(!HC(t))return Cv.ap(t.duration);var n=t.eQ||Cv.rc,i=t.uQ||Cv.rc,r=Cv.ap(t.duration);return n.Wk()||i.Wk()?n.Wk()?i.Wk()?r.Wk()?Cv.rc:r:i:n:Cv.Xa(n,i)}function XC(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.VA)return i}return null}function WC(t){return XC(t)||function(t){return t.filter(function(t){return t.sQ})}(t)[0]||t[0]}function qC(t,n){for(var i=0;i<n.length;i++){var r=n[i];Dn(t,r)||t.push(r)}return t}function zC(t){switch(t){case BC.n_:case BC.oQ:return Zh.n_;case BC.i_:return Zh.i_}}!function(t){t.aQ="alternative",t.cQ="main",t.hQ="commentary",t.fQ="",t.Dm="descriptions",t.vQ="main-desc",t.dQ="translation"}(OC||(OC={})),function(t){t.aQ="alternative",t.cQ="main",t.hQ="commentary",t.fQ="",t.Cm="captions",t.lQ="sign",t.Nm="subtitles"}(xC||(xC={})),function(t){t.n_="video",t.i_="audio",t._Q="closedCaption",t.gQ="variant"}(PC||(PC={})),function(t){t[t.xy=-1]="xy",t[t.i_=0]="i_",t[t.n_=1]="n_",t[t.oQ=2]="oQ"}(BC||(BC={})),function(t){t[t.xy=-1]="xy",t[t.wQ=1]="wQ",t[t.yQ=2]="yQ",t[t.mQ=3]="mQ",t[t.kQ=4]="kQ"}(LC||(LC={})),function(t){t.pQ=function(n){return n>=t.yQ},t.AQ=function(n){return n===t.yQ||n===t.mQ}}(LC||(LC={}));var GC=function(t){function n(){var n;return(n=t.call(this)||this).bQ=[],n.TQ=function(){return n.dispatchEvent("EQ")},n.SQ=function(){return n.dispatchEvent("RQ")},n}ct(n,t);var i=n.prototype;return i.qa=function(t){this.bQ.push(t),t.addEventListener("RQ",this.SQ),t.addEventListener("IQ",this.TQ),this.dispatchEvent("NQ"),t.disabled||this.dispatchEvent("EQ")},i.lo=function(t){var n=this.bQ.indexOf(t);n<0||(Cn(this.bQ,n),t.removeEventListener("RQ",this.SQ),t.removeEventListener("IQ",this.TQ),this.dispatchEvent("NQ"),t.disabled||this.dispatchEvent("EQ"))},i.Fs=function(){for(var t=!!this.CQ.length,n=!!this.DQ.length,i=0,r=this.bQ;i<r.length;i++){r[i].removeEventListener("IQ",this.TQ)}this.bQ.length=0,t&&this.dispatchEvent("NQ"),n&&this.dispatchEvent("EQ")},i.Dh=function(){this.gs(),this.Fs()},T(n,[{key:"CQ",get:function(){return this.bQ}},{key:"DQ",get:function(){return this.bQ.filter(function(t){return!t.disabled})}}]),n}(gC);function jC(t){if(!t)return null;for(var n={OQ:"",xQ:"",PQ:""},i=t.toLowerCase().split(","),r=0;r<i.length;r++){var e=i[r],u=e.trim();"mp4a.40.5"===u||"mp4a.40.05"===u?n.OQ="mp4a.40.5":"mp4a.40.2"===u||"mp4a.40.02"===u?n.OQ="mp4a.40.2":"mp4a.40.29"===u?n.OQ="mp4a.40.29":0===u.indexOf("mp4a.40.3")?n.OQ=u:"ec-3"===u?n.OQ=u:0===u.indexOf("avc")?n.xQ=e:n.PQ+=","+u}return n}var QC=function(t){function n(n,i,r,e,u,s,o,a,c,h,f,v,d,l,_,g){var w;return void 0===_&&(_=OC.cQ),(w=t.call(this)||this).BQ=new EC,w.LQ=NaN,w.MQ=void 0,w.UQ=void 0,w.pF=void 0,w.FQ=void 0,w.HQ=!1,w.VQ=null,w.XQ=!1,w.WQ=!0,w.qQ=!0,w.zQ=!0,w.GQ=void 0,w.jQ=void 0,w.QQ=void 0,w.YQ=void 0,w.ZQ=void 0,w.JQ=void 0,w.KQ=void 0,w.$Q=null,w.tY=void 0,w.nY=n,w.iY=Boolean(l),w.xT=i,w.Hm=r||0===r?r:-1,w.rY=e,w.eY=u,w.uY=Boolean(s),w.sY=Boolean(o),w.oY=jC(a),w.aY=g,w.cY=c,w.FQ=h,w.hY=f,w.UQ=v,w.pF=d,w.kF=_,w}ct(n,t),n.createFromPlaylistStream=function(t,i,r){return new n(t,i.name||i.media&&i.media.name||void 0,i.id,i["average-bandwidth"],i.uri,void 0,void 0,i.codecs,i.cj,i.audio,i.resolution,i.bandwidth,i.media?i.media.language:void 0,r,t.fY[0]?t.fY[0].zh:OC.cQ)},n.createFromPlaylistMedia=function(t,i,r,e){return new n(t,i.name,i.id,void 0,i.uri,!!i.default&&"yes"===i.default.toLowerCase(),i.autoselect?"yes"===i.autoselect.toLowerCase():void 0,void 0,void 0,void 0,void 0,void 0,i.language,r,function(t){if(t.default&&"yes"===t.default.toLowerCase())return t.characteristics&&vn(t.characteristics,"public.accessibility.describes-video")?OC.vQ:OC.cQ;if(t.characteristics&&vn(t.characteristics,"public.accessibility.describes-video"))return OC.Dm;return OC.aQ}(i),e)},n.createFromUri=function(t,i,r){return new n(t,void 0,void 0,void 0,i,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,r)};var i=n.prototype;return i.vY=function(t,n){var i=sy(),r=new SC(t,this,n).compute(),e=this.dY(t.fragments),u=e.oldFragments,s=e.newFragments;this.lY(u,i),this._Y(s,i,r),this.MQ!==t&&this.gY(!0),this.MQ=t,this.dispatchEvent({type:"wY",yY:this}),this.dispatchEvent("renditionUpdated")},i.Oj=function(t){return this.BQ.lj(t)},i.mY=function(){null!==this.VQ&&h(this.VQ),this.dispatchEvent("IQ"),this.dispatchEvent("renditionUpdated")},i.kY=function(t){this.XQ=t,this.mY()},i.pY=function(){this.AY(3e4)},i.Dh=function(){null!==this.VQ&&h(this.VQ),this.gs()},i.bY=function(){var t=this.WQ;this.WQ=this.qQ&&this.zQ,t!==this.WQ&&this.dispatchEvent("RQ")},i.gY=function(t){this.qQ=t,this.bY()},i.TY=function(t){this.zQ=t,this.bY()},i.EY=function(t){this.oY="string"==typeof t?jC(t):t,this.dispatchEvent("renditionUpdated")},i.AY=function(t){var n=this;this.HQ=!0,this.mY(),this.VQ=c(function(){n.HQ=!1,n.mY()},t)},i.SY=function(t,n){return t?!n&&t.OQ&&t.xQ?BC.oQ:t.xQ?BC.n_:t.OQ?BC.i_:BC.xy:BC.xy},i.dY=function(t){void 0===t&&(t=[]);for(var n=[],i=[],r=0,e=t;r<e.length;r++){var u=e[r];this.BQ.gj(u.cj)?n.push(u):i.push(u)}return{oldFragments:n,newFragments:i}},i.lY=function(t,n){for(var i=0;i<t.length;i++){var r=t[i],e=this.BQ.lj(r.cj);e.RY=qC(e.RY,r.RY),e.IY=r.IY||e.IY,e.NY=n}},i._Y=function(t,n,i){var r=this.CY(t);!function(t,n){for(var i=0,r=t.length-1;r>=0;r--){var e=t[r];e.Y_=n-i,i+=1e3*e.duration}}(r,n),function(t,n){for(var i=0;i<t.length;i++){var r=t[i];r.Cj+=n}}(r,i),this.addRenditionFragments(r)},i.CY=function(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r.yY=this;var e=Dt({},r);n.push(e)}return n},i.addRenditionFragments=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.BQ.qa(i),m(this.LQ)&&(this.LQ=i.cj)}},T(n,[{key:"Wh",get:function(){return this.Hm}},{key:"disabled",get:function(){return this.HQ||this.XQ},set:function(t){this.HQ=t,this.mY()}},{key:"nl",get:function(){return this.WQ}},{key:"DY",set:function(t){this.iY=t}},{key:"OY",get:function(){return this.oY}},{key:"bandwidth",get:function(){return this.UQ},set:function(t){this.UQ=t,this.dispatchEvent("renditionUpdated")}},{key:"zh",get:function(){return this.kF}},{key:"resolution",get:function(){return this.hY},set:function(t){this.hY=t,this.dispatchEvent("renditionUpdated")}},{key:"uri",get:function(){return this.eY||this.MQ&&this.MQ.uri},set:function(t){this.eY=t,this.dispatchEvent("renditionUpdated")}},{key:"Dj",get:function(){return this.MQ}},{key:"Nj",get:function(){return this.BQ}},{key:"xY",get:function(){return void 0!==this.aY?this.aY:this.SY(this.oY,this.iY)}},{key:"PY",get:function(){return this.MQ?this.MQ.live?this.MQ.duration<-60?LC.mQ:LC.kQ:LC.wQ:LC.xy}},{key:"Rn",get:function(){return this.xT},set:function(t){this.xT=t,this.dispatchEvent("renditionUpdated")}},{key:"cj",get:function(){return this.cY}},{key:"jh",get:function(){return this.pF}},{key:"VA",get:function(){return this.uY}},{key:"sQ",get:function(){return this.sY||this.uY}},{key:"OQ",get:function(){return this.FQ}},{key:"BY",get:function(){return this.LQ}},{key:"LY",get:function(){return!!this.Dj}},{key:"MY",get:function(){return this.rY}},{key:"qN",get:function(){return this.nY}},{key:"UY",get:function(){return this.GQ},set:function(t){var n=this.GQ;this.GQ=t,n!==t&&this.dispatchEvent("renditionUpdated")}}]),n}(gC);var YC=function(t){function n(n,i){var r;(r=t.call(this)||this).BQ=new EC,r.MQ=void 0,r.FY=null,r.HY=function(){return r.VY()},r.nY=n,r.ga=i.type,r.Hm=i.id||0===i.id?i.id:-1,r.eY=i.uri,r.pF=i.language,r.xT=i.name,r.uY=!!i.default&&"yes"===i.default.toLowerCase(),r.sY=!!i.autoselect&&"yes"===i.autoselect.toLowerCase();var e=function(t){if(vn(t.characteristics,"public.accessibility.describes-music-and-sound"))return af.Cm;return af.Nm}(i);return r.XY=new aR(e,r.xT,r.pF,void 0,Xh.WEBVTT),r.uY&&(r.XY.nf=ua.Kh),r}ct(n,t);var i=n.prototype;return i.vY=function(t){this.MQ=t,this.lY(t.fragments),this.VY(),this.dispatchEvent({type:"wY",rendition:this}),this.dispatchEvent("renditionUpdated")},i.Dh=function(){this.gs(),this.Mw=null},i.lY=function(t){for(var n=0;n<t.length;n++){var i=t[n];i.yY=this;var r=this.BQ.lj(i.cj);r?r.RY=qC(r.RY,i.RY):(r=Dt({},i),this.BQ.qa(r),this.dispatchEvent({type:"WY",qY:r}))}},i.VY=function(){this.FY&&this.FY.zY(this,this.BQ)},T(n,[{key:"GY",get:function(){return this.XY}},{key:"Mw",get:function(){return this.FY},set:function(t){this.FY&&this.FY.removeEventListener("jY",this.HY),this.FY=t,this.VY(),this.FY&&this.FY.addEventListener("jY",this.HY)}},{key:"Wh",get:function(){return this.Hm}},{key:"jh",get:function(){return this.pF}},{key:"VA",get:function(){return this.uY}},{key:"sQ",get:function(){return this.sY||this.uY}},{key:"nQ",get:function(){return this.eY}},{key:"uri",get:function(){return this.eY}},{key:"Dj",get:function(){return this.MQ}},{key:"Nj",get:function(){return this.BQ}},{key:"Cu",get:function(){return this.ga}},{key:"PY",get:function(){return this.MQ?this.MQ.live?this.MQ.duration<-60?LC.mQ:LC.kQ:LC.wQ:LC.xy}},{key:"Rn",get:function(){return this.xT},set:function(t){this.xT=t,this.XY.Gh=this.xT}},{key:"qN",get:function(){return this.nY}},{key:"disabled",get:function(){return!1}}]),n}(gC),ZC=function(t){function n(n,i){var r;(r=t.call(this)||this).QY=["renditionUpdated","wY","YY"],r.ZY=null,r.JY=null,r.KY=null,r.$Y=null,r.tZ=new GC,r.nZ=new GC,r.iZ=new GC,r.gd={},r.rZ=null,r.QU=NaN,r.fs=function(t){return r.dispatchEvent(t)},r.Go=n,r.eZ=i;var e=vt(r);return r.uZ=function(){e.sZ(this)},r.oZ=function(t){e.aZ(this,t)},r}ct(n,t);var i=n.prototype;return i.cZ=function(t,n){var i=new _I(n);return i.nf=ua.Jh,this.gd[i.Wh]=i,this.dispatchEvent({type:"hZ",ih:i}),i},i.fZ=function(t,n,i){var r=new lI(i,"manifest");return r.nf=ua.Jh,this.gd[r.Wh]=r,this.dispatchEvent({type:"hZ",ih:r}),r},i.vZ=function(t,n){if(t){var i=t.rf,r=t.dZ,e=t&&this.gd[r];e||(e=new _I(t.tf),this.gd[r]=e,e.nf=ua.Jh,this.dispatchEvent({type:"hZ",ih:e}));for(var u=0;u<i.length;u++){var s=i[u];e.FA(s)}}},i.lZ=function(t){t&&(this._Z||(this._Z=new aR(af.Cm,"CC1","en",!0,Xh.CEA608),this.gd.CC1=this._Z,this.dispatchEvent({type:"hZ",ih:this._Z})),this._Z.FA(t))},i.gZ=function(t,n,i){var r=this.gd[t];if(r){var e=[];!function(t,n,i,r){for(var e=0,u=t.rf.Oh;e<u.length;e++){var s=u[e];if(s.Km>=i)break;n<s.$m&&r.push(s)}}(r,n,i,e);for(var u=0;u<e.length;u++){var s=e[u];r.SF(s)}}},i.wZ=function(t,n){return this.yZ(t,n)},i.mZ=function(t){var n;return(n=this.kZ(t,this.tZ))?n:(n=this.kZ(t,this.nZ))?n:n=this.kZ(t,this.iZ)},i.Dh=function(){this.ps(this.tZ),this.tZ.Dh(),this.ps(this.nZ),this.nZ.Dh(),this.ps(this.iZ),this.iZ.Dh(),this.gd={},this._Z=void 0,this.pZ&&(this.pZ.Dh(),this.pZ=void 0),this.rZ=null,this.QU=NaN,this.ZY=null,this.JY=null,this.KY=null,this.$Y=null,this.dispatchEvent("Dh")},i.AZ=function(t){var n=QC.createFromUri(this,t.uri);this.ps(this.nZ),this.nZ.qa(n),n.addEventListener("renditionUpdated",this.uZ)},i.sZ=function(t){var n=t.Dj,i=t.PY;if(m(this.QU)||LC.pQ(i)){if(LC.xy===i)return;if(!n)return;this.QU=n.duration,this.dispatchEvent("bZ")}m(this.QU)||LC.wQ!==i||t.removeEventListener("renditionUpdated",this.uZ)},i.TZ=function(t){var n=this;this.ps(this.tZ),this.tZ.Fs(),this.ps(this.nZ),this.nZ.Fs(),this.iZ.Fs(),this.rZ=t;for(var i=t.streams.map(function(t){return QC.createFromPlaylistStream(n,t)}).filter(function(t){return function(t){if(!t)return!0;if(t.OQ&&!vn(t.OQ,"mp4a")&&!vn(t.OQ,"mp3"))return!1;if(t.xQ&&!vn(t.xQ,"avc1"))return!1;return!0}(t.OY)}),r=i.some(function(t){return t.OY&&t.OY.OQ}),e=i.some(function(t){return t.OY&&t.OY.xQ}),u=0;u<i.length;u++){var s=i[u],o=Boolean(s.OY&&s.OY.OQ),a=Boolean(s.OY&&s.OY.xQ);r&&!o||e&&!a||(this.nZ.qa(s),s.addEventListener("renditionUpdated",this.uZ))}for(var c=function(t,i){var r=i[t];switch(r.type.toLowerCase()){case"subtitles":if(!n.eZ){var e=new YC(n,r);n.iZ.qa(e),n.dispatchEvent({type:"hZ",ih:e.GY})}break;case"closed-captions":break;case"audio":var u=n.nZ.CQ.filter(function(t){return t.OQ===r["group-id"]});if(0===u.length)return"continue";r.uri&&u.forEach(function(t){return t.DY=!0});var s=r.uri?BC.i_:BC.oQ,o=QC.createFromPlaylistMedia(n,r,!1,s);n.tZ.qa(o)}},h=0,f=t.media;h<f.length;h++)c(h,f);this.EZ=WC(this.fY.DQ)||null,this.dispatchEvent("SZ")},i.kZ=function(t,n){for(var i=0,r=n.CQ;i<r.length;i++){var e=r[i];if(e.uri===t)return e}return null},i.aZ=function(t,n){this.dispatchEvent(Dt(Dt({},n),{yY:t}))},i.RZ=function(t){for(var n=0,i=t.CQ;n<i.length;n++)for(var r=i[n],e=0,u=this.QY;e<u.length;e++){var s=u[e];r.addEventListener(s,this.oZ)}},i.ps=function(t){for(var n=0,i=t.CQ;n<i.length;n++){i[n].Dh()}},i.IZ=function(t,n){0!==t.length&&this.Go.hlsDateRange&&(this.pZ||(this.pZ=new MC,this.dispatchEvent({type:"hZ",ih:this.pZ})),this.pZ._o(t,n))},i.NZ=function(t,n){if(this.JY!==t){var i=this.JY;this.JY=t,this.dispatchEvent({type:"CZ",xY:"OQ",yY:this.JY,DZ:i,OZ:n})}},i.yZ=function(t,n){if(this.KY!==t){var i=this.KY;this.KY=t,t&&this.dispatchEvent({type:"CZ",xY:"xQ",yY:this.KY,DZ:i,OZ:n})}},i.xZ=function(t){for(var n=0,i=t.CQ;n<i.length;n++){var r=i[n];if(r.PY!==LC.xy)return r.PY}return null},T(n,[{key:"PZ",get:function(){return this.ZY},set:function(t){t&&(0===t.streams.length?this.AZ(t):this.TZ(t),this.ZY=t,this.RZ(this.nZ),this.RZ(this.tZ),this.dispatchEvent("BZ"))}},{key:"LZ",get:function(){return this.rZ}},{key:"Vv",get:function(){return this.QU}},{key:"pd",get:function(){var t=this,n=this.iZ.CQ.map(function(t){return t.GY}),i=_.keys(this.gd).map(function(n){return t.gd[n]});return this._Z&&i.push(this._Z),this.pZ&&i.push(this.pZ),n.concat(i)}},{key:"EZ",get:function(){return this.JY},set:function(t){this.NZ(t,!0)}},{key:"MZ",get:function(){return this.KY},set:function(t){this.yZ(t,!1)}},{key:"fY",get:function(){return this.tZ}},{key:"UZ",get:function(){return this.nZ}},{key:"FZ",get:function(){return this.iZ.CQ}},{key:"PY",get:function(){var t;return null!==(t=this.JY&&this.JY.PY)&&t!==LC.xy?t:null!==(t=this.KY&&this.KY.PY)&&t!==LC.xy?t:null!==(t=this.xZ(this.tZ))?t:null!==(t=this.xZ(this.nZ))?t:LC.xy}}]),n}(gC);var JC=function(t){function n(n,i,r){var e,u,s,o,a;return(e=t.call(this)||this).j_=[],e.HZ={},e.fs=function(t){return e.dispatchEvent(t)},e.VZ=function(t){e.XZ(t)},e.WZ=function(t){e.handleRenditionUpdated(t)},e.qZ=function(t){for(var n=0,i=e.j_;n<i.length;n++){i[n].zZ.qZ(t)}},e.GZ=n,e.jZ=i,e.QZ=r,e.jZ&&e.jZ.addEventListener("CZ",e.VZ),e.QZ&&(e.QZ.addEventListener("renditionUpdated",e.WZ),e.QZ.addEventListener("YZ",e.qZ)),e.th=(u=vt(e),s=new gC,o={get length(){return u.j_.length},enable:function(t){u.Gp(u.ZZ(t&&t.id)||t)},disable:function(t){u.jp(u.ZZ(t&&t.id)||t)},item:function(t){return u.j_[t]&&u.j_[t].th},getTrackByID:function(t){var n=u.ZZ(t);return n&&n.th},addEventListener:function(t,n){s.addEventListener(t,n)},removeEventListener:function(t,n){s.removeEventListener(t,n)}},a=function(t){return s.dispatchEvent(t,!0)},u.addEventListener("addtrack",a),u.addEventListener("enabledtrack",a),u.addEventListener("disabledtrack",a),o),e}ct(n,t);var i=n.prototype;return i.ZZ=function(t){return this.HZ[t]},i.Rh=function(t){for(var n=0,i=t.zZ.Qh;n<i.length;n++){var r=i[n];r.Wh===this.JZ()&&(r.yk=!0)}t.addEventListener("enabledtrack",this.fs),t.addEventListener("disabledtrack",this.fs),this.j_.push(t),this.HZ[t.Wh]=t,this.dispatchEvent({type:"addtrack",track:t.th})},i.Gp=function(t){if(t){var n=this.HZ[t.Wh];if(n&&!n.Xh){for(var i=this.j_.length-1;i>=0;i--)this.j_[i].Od();n.Dd()}}},i.jp=function(t){},T(n,[{key:"KZ",get:function(){return this.JZ()}}]),n}(gC);var KC=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).$Z=NaN,e}ct(n,t);var i=n.prototype;return i.JZ=function(){return this.$Z},i.XZ=function(t){t.tJ?this.nJ(t.iJ):t.rJ&&this.nJ(t.rJ)},i.nJ=function(t){t&&(this.$Z=t.Wh),this.j_.forEach(function(n){return n.eJ(t)})},i.handleRenditionUpdated=function(t){if(t.yY&&t.yY.xY===BC.i_)for(var n=0,i=this.j_;n<i.length;n++){i[n].uJ(t)}},i.Gp=function(n){var i=n;if(!i){var r=this.j_.filter(function(t){return t.VA});r.length>0&&(i=r[0])}t.prototype.Gp.call(this,i)},T(n,[{key:"Cu",get:function(){return"audio"}}]),n}(JC),$C=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).sJ=NaN,e}ct(n,t);var i=n.prototype;return i.JZ=function(){return this.sJ},i.XZ=function(t){(t.oJ||t.iJ)&&(t.iJ&&(this.sJ=t.iJ.Wh),this.j_.forEach(function(n){return n.eJ(t.iJ)}))},i.handleRenditionUpdated=function(t){if(t.yY&&(t.yY.xY===BC.n_||t.yY.xY===BC.oQ))for(var n=0,i=this.j_;n<i.length;n++){i[n].uJ(t)}},T(n,[{key:"Cu",get:function(){return"video"}}]),n}(JC);function tD(t,n){for(var i,r=n-(i=t?F(t)?Array.prototype.map.call(t,function(t){return("0"+t.toString(16)).substr(-2)}).join(""):(+t).toString(16):"").length;r>0;)i="0"+i,r-=1;return i}function nD(t,n){return void 0===n&&(n=0),y(t.toFixed(n))}var iD=function(t){function n(n){var i,r,e,u;return(i=t.call(this)||this).yk=!1,i.aJ=!0,i.yY=n,i.yk=!1,i.th=(r=vt(i),e=new gC,u={get bandwidth(){return r.yY&&r.yY.bandwidth},get averageBandwidth(){return r.yY&&r.yY.averageBandwidth},get codecs(){return r.OY},get resolution(){return r.cJ},get frameRate(){return nD(r.hJ,2)},get id(){return r.Wh},get uri(){return r.yY&&r.yY.uri},get name(){return r.Rn},set name(t){r.Rn=t},get enabled(){return r.Xh},set enabled(t){r.Xh=Boolean(t)},addEventListener:function(t,n){e.addEventListener(t,n)},removeEventListener:function(t,n){e.removeEventListener(t,n)}},r.addEventListener("qualityupdated",function(t){return e.dispatchEvent(t,!0)}),u),i}ct(n,t);var i=n.prototype;return i.fJ=function(t){var n=!!t&&this.Wh===t.Wh;this.yk!==n&&(this.yk=n,this.dispatchEvent({type:"activequalitychanged",quality:this.th}))},i.uJ=function(t){return this.yY.Wh===t.yY.Wh&&(this.yY=t.yY,this.dispatchEvent({type:"qualityupdated",quality:this.th}),!0)},T(n,[{key:"Xh",get:function(){return this.aJ},set:function(t){this.aJ=t,this.yY.kY(!t)}},{key:"zh",get:function(){return this.yY.zh}},{key:"cJ",get:function(){return this.yY.resolution?{width:this.yY.resolution.width,height:this.yY.resolution.height}:{width:NaN,height:NaN}}},{key:"Rn",get:function(){return this.yY.Rn},set:function(t){this.yY.Rn=t,this.dispatchEvent({type:"qualityupdated",quality:this.th})}},{key:"Wh",get:function(){return this.yY.Wh}}]),n}(gC);var rD=function(t){function n(n){return t.call(this,n)||this}return ct(n,t),T(n,[{key:"OY",get:function(){return this.yY.OY&&this.yY.OY.xQ||""}},{key:"hJ",get:function(){return nD(Number(this.yY.UY),2)}}]),n}(iD),eD=function(t){function n(n){return t.call(this,n)||this}return ct(n,t),T(n,[{key:"OY",get:function(){return this.yY.OY&&this.yY.OY.OQ||""}},{key:"hJ",get:function(){return nD(Number(this.yY.tY),2)}}]),n}(iD),uD=function(t){function n(n,i){var r,e,u,s,o;(r=t.call(this)||this).vJ=null,r.dJ={},r.fs=function(t){return r.dispatchEvent(t)},r.Qh=n,r.QZ=i;for(var a=r.Qh.length-1;a>=0;a--){var c=r.Qh[a];r.dJ[c.Wh]=c}return r.Qh.forEach(function(t){return t.addEventListener("activequalitychanged",r.fs)}),r.th=(e=vt(r),u=new gC,s={item:function(t){var n=e.Sh(t);return n&&n.th},getQualitiesByIDs:function(t){return e.lJ(t).map(function(t){return t.th})},get length(){return e.Qh.length},get activeQuality(){return e.Vh&&e.Vh.th},get targetQuality(){return e.Yh?1===e.Yh.length?e.Yh[0].th:e.Yh.map(function(t){return t.th}):null},set targetQuality(t){if(t){var n=U(t)?t:[t];e.Yh=e.lJ(n.map(function(t){return t.id}))}else e.Yh=null},addEventListener:function(t,n){u.addEventListener(t,n)},removeEventListener:function(t,n){u.removeEventListener(t,n)}},o=function(t){return u.dispatchEvent(t,!0)},e.addEventListener("activequalitychanged",o),e.addEventListener("targetqualitychanged",o),s),r}ct(n,t);var i=n.prototype;return i._J=function(t){return!!t&&this.Qh.some(function(n){return n.Wh===t.Wh})},i.gJ=function(t,n){for(var i=0,r=this.Qh;i<r.length;i++){r[i].fJ(t)}},i.lJ=function(t){var n=this;return t&&t.map(function(t){return n.dJ[t]}).filter(function(t){return t})},i.wJ=function(){for(var t=this.Qh.length-1;t>=0;t--)this.Qh[t].yk=!1},i.qZ=function(t){var n=this.QZ.yJ,i=this.lJ(n);n&&n.length>0&&i&&i.length>0?this.dispatchEvent({type:"targetqualitychanged",quality:i[0].th}):n&&0!==n.length||this.dispatchEvent({type:"targetqualitychanged",quality:null})},i.Sh=function(t){return this.Qh[t]},T(n,[{key:"Vh",get:function(){for(var t=0,n=this.Qh;t<n.length;t++){var i=n[t];if(i.yk)return i}return null}},{key:"Yh",get:function(){return this.vJ},set:function(t){this.vJ=this.mJ(t)}}]),n}(gC);var sD=function(t){function n(n,i){return t.call(this,n,i)||this}ct(n,t);var i=n.prototype;return i.Dd=function(){this.QZ&&(this.QZ.$Z=this.Qh[0].Wh)},i.Od=function(t){this.QZ&&(this.QZ.$Z=null)},i.mJ=function(t){},n}(uD),oD=function(t){function n(n,i){return t.call(this,n,i)||this}ct(n,t);var i=n.prototype;return i.Dd=function(){if(this.mJ(this.Yh),this.QZ){var t=this.QZ.GZ;if(!t)return;var n=Rn(t.kJ.fY.CQ,function(t){return!t.uri});this.QZ.$Z=n?n.Wh:null}},i.gJ=function(n,i){"video"===i&&t.prototype.gJ.call(this,n,i)},i.Od=function(t){"video"===t&&this.wJ()},i.mJ=function(t){if(!this.QZ)return this.Yh;var n=t?this.lJ(t.map(function(t){return t.Wh})):null;if(n&&n.length>0){var i=n.map(function(t){return t.Wh});return this.QZ.yJ=i,n}return t?this.Yh:(this.QZ.yJ=null,null)},n}(uD),aD=function(t){function n(n,i){var r,e,u;return(r=t.call(this)||this).Cu=n,r.zZ=i,r.Wh=i.Sh(0).Wh,r.Mm=r.zZ.Qh.some(function(t){return t.yk}),r.Rn=i.Sh(0).yY.Rn,r.th=(e=vt(r),u=new gC,{get id(){return e.Wh},get enabled(){return e.Xh},get qualities(){return e.zZ&&e.zZ.th},get language(){return e.jh},get default(){return e.VA},get name(){return e.Rn},set name(t){e.Rn=t},addEventListener:function(t,n){u.addEventListener(t,n)},removeEventListener:function(t,n){u.removeEventListener(t,n)}}),r}ct(n,t);var i=n.prototype;return i.eJ=function(t){var n=this.zZ._J(t);this.Wm(n),this.zZ.gJ(t,this.Cu)},i.Wm=function(t){this.Mm!==t&&(t?(this.Mm=!0,this.dispatchEvent({type:"enabledtrack",track:this.th})):(this.Mm=!1,this.dispatchEvent({type:"disabledtrack",track:this.th})))},i.Dd=function(){this.Mm||this.zZ.Dd()},i.Od=function(){this.Mm&&this.zZ.Od(this.Cu)},i.uJ=function(t){t.yY.Wh===this.Wh&&(this.Rn=t.yY.Rn);for(var n=0,i=this.zZ.Qh;n<i.length;n++){i[n].uJ(t)}},T(n,[{key:"Xh",get:function(){return this.Mm}},{key:"jh",get:function(){return this.pJ()}},{key:"zh",get:function(){return this.AJ()}},{key:"VA",get:function(){var t="video"===this.Cu,n=this.zZ.Qh&&this.zZ.Qh[0].yY.VA;return t||n}}]),n}(gC);var cD=function(t){function n(n){return t.call(this,"video",n)||this}ct(n,t);var i=n.prototype;return i.AJ=function(){return xC.cQ},i.pJ=function(){return""},n}(aD),hD=function(t){function n(n){return t.call(this,"audio",n)||this}ct(n,t);var i=n.prototype;return i.AJ=function(){return this.zZ.Qh[0].yY.zh},i.pJ=function(){return this.zZ.Qh[0].yY.jh||""},n}(aD),fD=function(){function t(t,n,i){var r=this;this.bJ=function(){var t=r.TJ;t.removeEventListener("EJ",r.bJ);var n=t.kJ.UZ.CQ,i=t.kJ.fY.CQ,e=n.map(function(t){return new rD(t)});if(e.length>0){var u=new oD(e,r.SJ);r.RJ.Rh(new cD(u));var s=Rn(i,function(t){return!t.uri}),o=0===i.length;if(n.length>0&&(Boolean(s)||o)){var a=new hD(u);s&&(a.Rn=s.Rn),r.IJ.Rh(a)}}for(var c=0;c<i.length;c++){var h=i[c];if(h.uri){var f=new eD(h),v=new sD([f],r.SJ);r.IJ.Rh(new hD(v))}}},this.TJ=t,this.SJ=i,this.IJ=new KC(t,n,i),this.RJ=new $C(t,n,i),t&&(t.EJ?this.bJ():t.addEventListener("EJ",this.bJ))}return T(t,[{key:"md",get:function(){return this.IJ}},{key:"kd",get:function(){return this.RJ}}]),t}(),vD=["loadedmetadata","durationchange","Is","xD","nl","NJ"],dD=["CJ","CZ","DJ","Is"],lD=function(t){function n(n,i,r,e,u,s,o){var a;(a=t.call(this)||this).OJ=null,a.xJ=[],a.PJ=[],a.BJ=function(t){return a.dispatchEvent(t)},a.LJ=function(t){return a.MJ(t)},a.UJ=function(t){return a.FJ(t)},a.VS=n.src,a.HJ=n.type,a.VJ=i,a.XJ=r,a.WJ=e,a.GZ=u,a.jZ=s,a.GZ&&(a.GZ.addEventListener("qJ",a.BJ),a.GZ.addEventListener("zJ",a.BJ));var c=new fD(a.GZ,a.jZ,o);return a.kd=c.kd,a.md=c.md,a.XS=null,a.VS&&(a.jZ&&a.jZ.Ch(),a.GZ&&(a.GZ.GJ=a.VS)),a}ct(n,t);var i=n.prototype;return i.jJ=function(t){this.jZ&&this.jZ.do(t),this.GZ&&this.GZ.QJ(),this.XS&&this.YJ()},i.ZJ=function(){this.jZ&&this.jZ.ZJ(),this.GZ&&this.GZ.JJ()},i.KJ=function(){if(this.GZ)for(var t=0;t<vD.length;t++){var n=vD[t];this.GZ.addEventListener(n,this.LJ)}if(this.jZ)for(var i=0;i<dD.length;i++){var r=dD[i];this.jZ.addEventListener(r,this.UJ)}},i.$J=function(){if(this.GZ)for(var t=0;t<vD.length;t++){var n=vD[t];this.GZ.removeEventListener(n,this.LJ)}if(this.jZ)for(var i=0;i<dD.length;i++){var r=dD[i];this.jZ.removeEventListener(r,this.UJ)}},i.YJ=function(){if(this.GZ&&this.xJ.length){var t=this.xJ.slice();xn(this.xJ);for(var n=0;n<t.length;n++){var i=t[n];this.GZ.dispatchEvent(i)}}if(this.jZ&&this.PJ.length){var r=this.PJ.slice();xn(this.PJ);for(var e=0;e<r.length;e++){var u=r[e];this.jZ.dispatchEvent(u)}}},i.MJ=function(t){this.xJ.push(t)},i.FJ=function(t){this.PJ.push(t)},i.Dh=function(){this.dispatchEvent("Dh"),this.gs(),this.jZ&&this.jZ.Dh(),this.WJ&&this.WJ.Dh(),this.GZ&&this.GZ.Dh(),this.OJ=null,xn(this.xJ),xn(this.PJ)},T(n,[{key:"XS",get:function(){return this.OJ},set:function(t){this.$J(),this.OJ=t,this.XS?this.dispatchEvent("Eo"):this.KJ()}}]),n}(gC),_D=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).TJ=null,n.fs=function(t){n.dispatchEvent(t,!0)},n}return ct(n,t),T(n,[{key:"$Z",get:function(){var t=this.TJ&&this.TJ.kJ.EZ;return t?t.Wh:null},set:function(t){var n;this.TJ&&(n=null===t?WC(this.TJ.kJ.fY.CQ):this.TJ.kJ.fY.CQ.filter(function(n){return t===n.Wh}).shift(),this.TJ.kJ.EZ=n||null)}},{key:"yJ",get:function(){return this.TJ&&this.TJ.tK||null},set:function(t){this.TJ&&(this.TJ.nK(t),this.dispatchEvent("YZ"))}},{key:"GZ",get:function(){return this.TJ},set:function(t){this.TJ&&(this.TJ.kJ.removeEventListener("BZ",this.fs),this.TJ.kJ.removeEventListener("renditionUpdated",this.fs),this.TJ.kJ.removeEventListener("SZ",this.fs)),this.TJ=t,this.TJ&&(this.TJ.kJ.addEventListener("BZ",this.fs),this.TJ.kJ.addEventListener("renditionUpdated",this.fs),this.TJ.kJ.addEventListener("SZ",this.fs))}}]),n}(gC),gD=function(){function t(){}var n=t.prototype;return n.iK=function(t){return Ct.reject(wD)},n.rK=function(t){return Ct.reject(wD)},n.Bs=function(t){return Ct.resolve(!1)},n.Ls=function(t,n){return Ct.resolve(void 0)},n.eK=function(t){return Ct.resolve([])},n.uK=function(){return Ct.resolve([])},n.sK=function(t,n){return Ct.resolve([])},n.lo=function(t){return Ct.reject(wD)},n.oK=function(t){return Ct.reject(wD)},n.aK=function(){return Ct.reject(wD)},t}(),wD="Storage disabled",yD=function(){function t(){this.cK=new gD,this.hK=new gD,this.fK=new gD,this.vK=new gD,this.dK=new gD}return t.ED=function(){return Ct.resolve(new t)},t.prototype.lK=function(t){return Ct.reject(mD)},t}(),mD="Storage disabled",kD=function(){function t(t){var n=this;this.us=new qr,this._K=void 0,this.us.Js(t),this.us.Zs.then(function(t){n._K=t})}var n=t.prototype;return n.iK=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this._K,t.t0){t.next=5;break}return t.next=4,this.gK;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.iK(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.rK=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this._K,t.t0){t.next=5;break}return t.next=4,this.gK;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.rK(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Bs=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this._K,t.t0){t.next=5;break}return t.next=4,this.gK;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.Bs(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Ls=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this._K,t.t0){t.next=5;break}return t.next=4,this.gK;case 4:t.t0=t.sent;case 5:return r=t.t0,t.abrupt("return",r.Ls(n,i));case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.eK=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this._K,t.t0){t.next=5;break}return t.next=4,this.gK;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.eK(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.uK=function(){var t=Ct.coroutine(Nt.mark(function t(){var n;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this._K,t.t0){t.next=5;break}return t.next=4,this.gK;case 4:t.t0=t.sent;case 5:return n=t.t0,t.abrupt("return",n.uK());case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.sK=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this._K,t.t0){t.next=5;break}return t.next=4,this.gK;case 4:t.t0=t.sent;case 5:return r=t.t0,t.abrupt("return",r.sK(n,i));case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.lo=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this._K,t.t0){t.next=5;break}return t.next=4,this.gK;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.lo(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.oK=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this._K,t.t0){t.next=5;break}return t.next=4,this.gK;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.oK(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.aK=function(){var t=Ct.coroutine(Nt.mark(function t(){var n;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this._K,t.t0){t.next=5;break}return t.next=4,this.gK;case 4:t.t0=t.sent;case 5:return n=t.t0,t.abrupt("return",n.aK());case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),T(t,[{key:"gK",get:function(){return this.us.Zs}}]),t}(),pD=function(){function t(t){var n=this;this.us=new qr,this.wK=void 0,this.us.Js(t);var i=this.us.Zs;i.then(function(t){n.wK=t}),this.hK=new kD(i.then(function(t){return t.hK})),this.cK=new kD(i.then(function(t){return t.cK})),this.fK=new kD(i.then(function(t){return t.fK})),this.vK=new kD(i.then(function(t){return t.vK})),this.dK=new kD(i.then(function(t){return t.dK}))}return t.prototype.lK=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.wK,t.t0){t.next=5;break}return t.next=4,this.yK;case 4:t.t0=t.sent;case 5:return i=t.t0,t.next=8,i.lK(n);case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),T(t,[{key:"yK",get:function(){return this.us.Zs}}]),t}(),AD=function(){function t(t){this.mK=[],this.kK=!0,this.pK=t}var n=t.prototype;return n.ED=function(){return new pD(this.AK())},n.AK=function(){var t=Ct.coroutine(Nt.mark(function t(){var n,i,r;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.kK){t.next=4;break}return t.next=3,Ct.resolve();case 3:this.kK=!1;case 4:n=0,i=this.mK;case 5:if(!(n<i.length)){t.next=18;break}return r=i[n],t.prev=7,t.next=10,r();case 10:return t.abrupt("return",t.sent);case 13:t.prev=13,t.t0=t.catch(7);case 15:n++,t.next=5;break;case 18:return t.next=20,this.pK();case 20:return t.abrupt("return",t.sent);case 21:case"end":return t.stop()}},t,this,[[7,13]])}));return function(){return t.apply(this,arguments)}}(),n.dL=function(t){if(!this.kK)throw new d("Registration overdue");this.mK.push(t)},t}(),bD=function(){function t(){}return t.dL=function(n){t.bK.dL(n)},T(t,null,[{key:"dn",get:function(){return t.TK||(t.TK=t.bK.ED()),t.TK}}]),t}();function TD(t){return Fs(t)}function ED(t,n){var i=Fs(t);return n?""+i+n:""+i}function SD(t,n,i,r,e,u){var s=new rl;return n&&s.set("Range","bytes="+n[0]+"-"+n[1]),new vy({dA:t,wA:i,_A:s,pA:r,gA:$d.GET,Cu:tl.rA,cs:e,AA:u})}bD.bK=new AD(yD.ED),bD.TK=void 0;var RD=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this)||this).NA=null,o.zN=new Mn,o.EK=function(t,n){return o.AA(t,n)},o.og=n,o.nQ=i,o.wA=r,o.SK=e,o.VD=u,o.RK=new ND,o.PA=s,o.IK=bD.dn.cK,o.NK=bD.dn.hK,o}ct(n,t);var i=n.prototype;return i.Ly=function(){return this.CK(this.zN.cs)},i.CK=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i,r,e,u,s,o,a;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return FC(i=this.nQ)?(r=i.nQ,e=[i.iQ.Ly,i.iQ.Uy]):(r=i,e=void 0),this.RK.DK(),t.prev=3,t.next=6,this.xK(r,e);case 6:if(u=t.sent,Hn(n),u){t.next=12;break}return t.next=11,this.PK(r,e,n);case 11:u=t.sent;case 12:return t.next=14,u.Qn();case 14:s=t.sent,Hn(n),this.BK(s,u.DA),t.next=28;break;case 19:if(t.prev=19,t.t0=t.catch(3),!Fn(t.t0)){t.next=25;break}return t.abrupt("return");case 25:a=t.t0 instanceof nA?t.t0.NA.DA:0,o=new d('Could not load fragment: "'+this.nQ+'", HTTP status '+a);case 27:return t.abrupt("return",this.LK(o));case 28:case"end":return t.stop()}},t,this,[[3,19]])}));return function(n){return t.apply(this,arguments)}}(),i.xK=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r,e,u,s;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=ED(n,i),t.next=4,this.IK.Bs(r);case 4:if(!t.sent){t.next=11;break}return t.next=7,this.NK.Ls(r);case 7:return e=t.sent,u=SD(n,i,this.wA,this.SK),s=e.data.buffer,t.abrupt("return",new Kp({Qn:s,_A:{},IA:u,CA:n,wA:this.wA,DA:200,iT:""}));case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0);case 16:return t.abrupt("return",null);case 17:case"end":return t.stop()}},t,this,[[0,13]])}));return function(n,i){return t.apply(this,arguments)}}(),i.PK=function(t,n,i){var r=SD(t,n,this.wA,this.SK,i,this.EK);return this.PA.IA(r)},i.AA=function(t,n){var i={type:"NJ",IA:this,MK:t,UK:n=void 0===n?NaN:n};this.RK.FK(t,n),this.dispatchEvent(i)},i.BK=function(t,n){var i=this.wA===Yd.Yp?t.byteLength:0;this.RK.HK(i),this.wA===Yd.yn?this.NA=t:this.NA=new k(t),this.VK=n,t=null,this.LK(),this.NA=null},i.ss=function(t){return this.zN.ss(),t||((t=new d('Aborted fragment load: "'+this.nQ+'"')).aborted=!0),this.LK(t)},i.LK=function(t){this.RK.XK();var n={type:"Td",IA:this};return this.dispatchEvent(n),this.VD(t||null,this)},n}(gC);function ID(){return sy()/1e3}var ND=function(t){function n(){var n;return(n=t.call(this)||this).WK=NaN,n.qK=NaN,n.zK=NaN,n.GK=NaN,n.jK=0,n.QK=NaN,n.WK=ID(),n}ct(n,t);var i=n.prototype;return i.DK=function(){this.WK=ID(),this.dispatchEvent("_o")},i.FK=function(t,n){this.zK=ID(),this.qJ||(this.qK=this.zK),this.jK=t,this.QK=n||this.QK||NaN,this.dispatchEvent("_o")},i.HK=function(t){this.FK(t,t)},i.XK=function(){this.GK=ID(),this.dispatchEvent("_o")},T(n,[{key:"qJ",get:function(){return!m(this.qK)}},{key:"YK",get:function(){return!m(this.GK)}},{key:"ZK",get:function(){return(this.qK||ID())-this.WK}},{key:"JK",get:function(){return(this.GK||this.zK)-this.qK}},{key:"KK",get:function(){return(this.GK||this.zK)-this.WK}}]),n}(gC),CD=function(t){function n(n,i){var r;return(r=t.call(this)||this).$K=[],r.t$=null,r.n$=function(t){return r.i$(t)},r.SK=!(!i||i.crossOrigin!==qa.Lv),r.PA=n,r}ct(n,t);var i=n.prototype;return i.do=function(t,n,i,r){var e=new RD(t,n,i,this.SK,r,this.PA);return e.addEventListener("Td",this.n$),this.$K.push(e),this.r$(),e},i.Fs=function(t,n){var i=function(t){return!n||t.og===n},r=this.$K.filter(i);!t&&this.t$&&i(this.t$)&&r.push(this.t$);for(var e=0;e<r.length;e++){r[e].ss()}return r},i.r$=function(){if(!this.t$){var t=this.$K.shift();t&&(this.t$=t,t.Ly())}},i.i$=function(t){var n=t.IA,i=this.$K.indexOf(n);-1!==i&&Cn(this.$K,i),this.t$===n&&(this.t$=null,this.r$())},n}(gC);function DD(n){return t.URL&&t.URL.createObjectURL?t.URL.createObjectURL(n):t.webkitURL&&t.webkitURL.createObjectURL?t.webkitURL.createObjectURL(n):t.createObjectURL?t.createObjectURL(n):null}function OD(n){return t.URL&&t.URL.revokeObjectURL?t.URL.revokeObjectURL(n):t.webkitURL&&t.webkitURL.revokeObjectURL?t.webkitURL.revokeObjectURL(n):t.revokeObjectURL?t.revokeObjectURL(n):void 0}function xD(t,n){return po([t],{type:n})}var PD="iframe.html",BD=0,LD=p&&(p.bind&&p.bind(p)||p),MD=function(t){function n(n){var i;return(i=t.call(this)||this).e$=void 0,i.u$=[],i.s$=!1,i.fs=function(t){return i.dispatchEvent(t)},n&&i.Eo(n),i}ct(n,t);var i=n.prototype;return i.postMessage=function(t){this.s$||(this.e$?this.e$.postMessage(t):this.u$.push(t))},i.Eo=function(t){if(this.s$)t.terminate();else{this.e$=t,this.e$.addEventListener("message",this.fs,!1),this.e$.addEventListener("error",this.fs,!1);for(var n=0,i=this.u$;n<i.length;n++){var r=i[n];this.e$.postMessage(r)}this.u$.length=0}},i.terminate=function(){this.gs(),this.s$=!0,this.u$.length=0,this.e$&&(this.e$.removeEventListener("message",this.fs,!1),this.e$.removeEventListener("error",this.fs,!1),this.e$.terminate(),this.e$=void 0)},n}(gC);var UD=function(n){function i(i,r,e){var u,o,a;return(u=n.call(this)||this).o$=function(){return u.a$()},u.c$=function(t){return u.h$(t)},u.Wh=i,u.f$=r,u.v$=(o=e+PD,(a=s.createElement("iframe")).width="0",a.height="0",a.style.display="none",a.src=o,s.body.appendChild(a),a),u.d$=u.v$.contentWindow,u.l$=Ws(e),u.v$.addEventListener("load",u.o$),t.addEventListener("message",u.c$),u}ct(i,n);var r=i.prototype;return r.a$=function(){this.v$.removeEventListener("load",this.o$),this.d$.postMessage({type:"initialize",id:this.Wh,script:this.f$},"*")},r.h$=function(t){Ws(t.origin)===this.l$&&t.data.id===this.Wh&&("initialized"===t.data.type?this.dispatchEvent("initialized"):"error"===t.data.type?this.dispatchEvent({type:"error",message:t.data.data.message,filename:t.data.data.filename,lineno:t.data.data.lineno}):this.dispatchEvent({type:"message",data:t.data.data}))},r.postMessage=function(t){this.d$.postMessage({type:"message",data:t},"*")},r.terminate=function(){this.v$.removeEventListener("load",this.o$),t.removeEventListener("message",this.c$),this.d$.postMessage({type:"terminate"},"*"),this.v$.parentNode.removeChild(this.v$)},i}(gC);function FD(){return(FD=Ct.coroutine(Nt.mark(function t(n,i){var r,e,u,s,o,a;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=qb.DD,t.prev=1,e=new vy({dA:n,gA:$d.GET,wA:Yd.yn}),t.next=5,r.IA(e);case 5:return u=t.sent,t.next=8,u.Qn();case 8:s=t.sent,i(void 0,s),t.next=17;break;case 12:t.prev=12,t.t0=t.catch(1),o=new d("PLAYER_INCORRECTLY_CONFIGURED"),a=t.t0 instanceof nA?t.t0.NA.DA:-1,i({$s:a,Is:o});case 17:case"end":return t.stop()}},t,null,[[1,12]])}))).apply(this,arguments)}function HD(t,n){function i(i){return e(),V(r=i.data)&&"2.83.1"===r._$?n(void 0,t):n(new d("PLAYER_INCORRECTLY_CONFIGURED"));var r}function r(i){i.preventDefault&&i.preventDefault(),e(),t.terminate(),n({message:i.message,filename:i.filename,lineno:i.lineno})}function e(){t.removeEventListener("message",i),t.removeEventListener("error",r)}t.addEventListener("message",i),t.addEventListener("error",r)}function VD(t,n){if(void 0===t)return n({message:"Worker could not be loaded."});var i;try{i=new LD(t)}catch(t){return n({message:t.message})}return HD(i,n)}var XD=!0;function WD(t,n){var i=BD++,r=t+n,e=new MD;function u(){!function(t,n,i,r){var e;function u(){a(),HD(e,r)}function o(t){t.preventDefault&&t.preventDefault(),a(),e.terminate(),r({message:t.message,filename:t.filename,lineno:t.lineno})}function a(){e.removeEventListener("initialized",u),e.removeEventListener("error",o)}if(!s)return r({message:"Could not create Worker.",filename:"workershim.js",lineno:223});(e=new UD(t,n,i)).addEventListener("initialized",u),e.addEventListener("error",o)}(i,r,t,o)}function o(t,n,i){t?e.dispatchEvent({type:"error",message:t.message,filename:t.filename,lineno:t.lineno}):(e.Eo(n),i&&e.dispatchEvent(i))}return VD(r,function(t,n,i){t?function(t,n){FD.apply(this,arguments)}(r,function(t,n){t?t.$s>=400?o(t.Is):u():n&&function(t,n){if(!XD)return n({message:"Could not create Worker.",filename:"workershim.js",lineno:196});VD(DD(xD(t,"application/javascript")),function(t,i,r){return t&&(XD=!1),n(t,i,r)})}(n,function(t,n,i){t?u():o(t,n,i)})}):o(t,n,i)}),e}function qD(t,n){if(n<0)throw new d("The index provided ("+n+") must be non-negative");if(n>=t.length)throw new d("The index provided ("+n+") is greater than the maximum bound ("+t.length+")")}function zD(t){return{get length(){return t.length},start:function(n){return qD(t,n|=0),t.start(n)},end:function(n){return qD(t,n|=0),t.end(n)}}}function GD(t,n){return t.Ly-n.Ly}var jD=function(){function t(t){this.g$=t}var n=t.prototype;return n.start=function(t){return this.g$[t].Ly},n.end=function(t){return this.g$[t].Uy},n.w$=function(){return this.g$},T(t,[{key:"length",get:function(){return this.g$.length}}]),t}(),QD=new jD([]),YD=new jD([{Ly:-1/0,Uy:1/0}]);function ZD(t,n){return function(t,n){var i=t.length;if(n=+n||0,i<2)return t;for(var r=[],e=t.start(0),u=t.end(0),s=1;s<i;s++){var o=t.start(s),a=t.end(s);e<=o&&u>=a||(u+n>=o?u=a:(r.push({Ly:e,Uy:u}),e=o,u=a))}return r.push({Ly:e,Uy:u}),new jD(r)}(function(t){var n=nO(t);return n.sort(GD),new jD(n)}(t),n)}function JD(t,n){for(var i=[],r=0,e=0;r<t.length&&e<n.length;){var u=g.max(t.start(r),n.start(e)),s=g.min(t.end(r),n.end(e));u<s&&i.push({Ly:u,Uy:s}),t.end(r)<n.end(e)?r+=1:e+=1}return new jD(i)}function KD(t){var n=t.length;if(!n)return YD;var i=[],r=t.start(0);r!==-1/0&&i.push({Ly:-1/0,Uy:r});for(var e=0;e<n-1;e+=1)i.push({Ly:t.end(e),Uy:t.start(e+1)});var u=t.end(n-1);return u!==1/0&&i.push({Ly:u,Uy:1/0}),new jD(i)}function $D(t,n){return-1!==tO(t,n)}function tO(t,n){return function(t,n,i,r){n+=r=+r||0,i-=r;for(var e=0;e<t.length;e+=1)if(t.start(e)<=n&&i<=t.end(e))return e;return-1}(t,n,n)}function nO(t){if(t instanceof jD)return t.w$();var n=[];if(!t)return n;for(var i=0;i<t.length;i++)n.push({Ly:t.start(i),Uy:t.end(i)});return n}function iO(t,n){return i=[t,n],e=(r=e=[]).concat.apply(r,i.map(nO)),ZD(new jD(e));var i,r,e}var rO=.001;function eO(t,n,i){return i=+i||0,t.Ly-i<=n.Uy&&n.Ly<=t.Uy+i}function uO(t){var n={Ly:NaN,Uy:NaN,Nj:t};return sO(n),n}function sO(t){var n=t.Nj;n.length?(n.sort(GD),t.Ly=n[0].Ly,t.Uy=n[n.length-1].Uy):(t.Ly=NaN,t.Uy=NaN)}function oO(t){return void 0!==t.Nj}function aO(t,n,i){for(var r=[],e=0;e<t.length;e++){var u=t[e],s=g.max(u.Ly,n),o=g.min(u.Uy,i);if(s<o){var a=void 0;a=u.Ly===s&&u.Uy===o?u:{Ly:s,Uy:o,_g:u._g},r.push(a)}}return r}function cO(t,n){var i=g.min(t.Ly,n.Ly),r=g.max(t.Uy,n.Uy),e=t.Nj,u=n.Nj,s=e.concat(u),o=e.length?e[e.length-1]:null,a=u.length?u[0]:null;return o&&a&&o._g===a._g&&eO(o,a,rO)&&s.splice(e.length-1,2,function(t,n){var i=t._g||n._g;return{Ly:g.min(t.Ly,n.Ly),Uy:g.max(t.Uy,n.Uy),_g:i}}(o,a)),uO(s=aO(s,i,r))}var hO,fO,vO=function(){function t(t,n){this.g$=function(t){for(var n=[],i=0;i<t.length;i+=1){var r=t[i],e=void 0;oO(r)?sO(e=r):e=uO([r]),e.Nj.length&&e.Ly<e.Uy&&n.push(e)}return n}(t),n||this.y$()}var n=t.prototype;return n.start=function(t){return this.g$[t]&&this.g$[t].Ly},n.end=function(t){return this.g$[t]&&this.g$[t].Uy},n.Nj=function(t){return this.g$[t]&&this.g$[t].Nj},n.m$=function(t,n){return this.k$(t,t,n)},n.k$=function(t,n,i){t+=i=+i||0,n-=i;for(var r=0;r<this.length;r+=1)if(this.start(r)<=t&&n<=this.end(r))return r;return-1},n.p$=function(t,n,i){t-=i=+i||0,n+=i;for(var r=0;r<this.length;r+=1)if(this.start(r)<n&&t<this.end(r))return r;return-1},n.A$=function(t,n){t+=n=+n||0;for(var i=this.length-1;i>=0;i-=1)if(this.start(i)<=t)return i;return-1},n.b$=function(t,n){t-=n=+n||0;for(var i=0;i<this.length;i+=1)if(t<=this.end(i))return i;return-1},n.Lm=function(t){return-1!==this.m$(t)},n.hm=function(t,n,i){return-1!==this.k$(t,n,i)},n.vm=function(t,n,i){return-1!==this.p$(t,n,i)},n.$y=function(t){for(var n=[],i=0,r=0;i<this.length&&r<t.length;){var e=g.max(this.start(i),t.start(r)),u=g.min(this.end(i),t.end(r));if(e<u){var s=aO(this.Nj(i),e,u);n.push(uO(s))}this.end(i)<t.end(r)?i+=1:r+=1}return this.ED(n,!0)},n.Ka=function(t){return this.length&&t.length?this.$y(KD(t)):this},n.sm=function(t){return this.length?t.length?this.ED(this.g$.concat(t.g$)):this:t},n.T$=function(t){for(var n=[],i=0,r=this.g$;i<r.length;i++)for(var e=0,u=r[i].Nj;e<u.length;e++){var s=t(u[e]);s&&n.push(s)}return this.ED(n)},n._m=function(t){return this.T$(function(n){return t(n)?n:null})},n.E$=function(){if(!this.length)return this;for(var t=this.g$.slice(),n=0;n<t.length-1;n+=1){var i=t[n],r=t[n+1];r&&this.S$(i,r)&&(t.splice(n,2,cO(i,r)),n-=1)}return this.ED(t,!0)},n.S$=function(t,n){var i=t.Nj,r=n.Nj,e=i.length?i[i.length-1]:null,u=r.length?r[0]:null;return e&&u&&this.R$(e,u)},n.y$=function(){var t=this.g$;t.sort(GD);for(var n=0;n<t.length-1;n+=1){var i=t[n],r=t[n+1];r&&eO(i,r,rO)&&(t.splice(n,2,cO(i,r)),n-=1)}},T(t,[{key:"length",get:function(){return this.g$.length}}]),t}(),dO=function(t){function n(n,i){return t.call(this,n,i)||this}ct(n,t);var i=n.prototype;return i.ED=function(t,i){return new n(t,i)},i.R$=function(t,n){return n._g.yY===t._g.yY&&n._g.cj===t._g.cj+1},n}(vO);function lO(t,n){for(var i=[],r=0;r<n.length;r++){var e=n[r],u=t.I$(e),s=t.N$(e,u);i.push({Ly:u.Ik(),Uy:s.Ik(),_g:e})}return new dO(i).E$()}function _O(t){return t.C$!==hO.D$}function gO(t){return 0===t.C$}function wO(t){return t.C$>=0}function yO(t,n){for(var i=[],r=0;r<n.length;r++)for(var e=!1,u=0,s=n.Nj(r);u<s.length;u++){var o=s[u];if(!e){var a=o._g;if(HC(a)&&_O(a)){if((e=wO(a))&&!gO(a)){var c=t.O$(a,a.x$).Ik();o={Ly:g.max(o.Ly,c),Uy:o.Uy,_g:a}}}else e=!0;0}e&&i.push(o)}return new dO(i)}!function(t){t.D$=-1,t.P$=-2}(hO||(hO={})),function(t){t.B$="h.264",t.L$="mp3",t.M$="aac-lc",t.U$="he-aac"}(fO||(fO={}));var mO,kO,pO,AO,bO=function(){function t(){this.F$=0,this.g$=[],this.Up={}}var n=t.prototype;return n.H$=function(t){this.g$=this.g$.concat(t.g$),this.F$+=t.xh},n.V$=function(t,n,i){var r=this.F$,e=i-n;e>0&&(this.g$.push({X$:n,W$:i,q$:e,z$:r,G$:t}),this.F$+=e)},n.Ls=function(t){for(var n=0,i=this.g$;n<i.length;n++){var r=i[n];if(r.z$<=t&&t<r.z$+r.q$)return r.G$[t+r.X$-r.z$]}},n.j$=function(t,n){for(var i=n,r=0,e=this.g$;r<e.length;r++)for(var u=e[r],s=u.W$,o=u.X$;o<s;o+=1,i+=1)t[i]=u.G$[o];return i},n.Q$=function(){for(var t=new k(this.F$),n=0,i=0,r=this.g$;i<r.length;i++)for(var e=r[i],u=e.W$,s=e.X$;s<u;s+=1,n+=1)t[n]=e.G$[s];return t},n.qs=function(n){for(var i=new t,r=0,e=this.g$;r<e.length;r++){var u=e[r];i.V$(u.G$,u.X$,u.W$)}return i.Up=n||Dt({},this.Up),i},T(t,[{key:"xh",get:function(){return this.F$},set:function(t){var n=this.g$,i=this.F$-t;if(!(t>=this.F$))if(this.F$=t,0!==t)for(var r=n.length-1;r>=0;r-=1){var e=n[r];if(i<=e.q$)return e.W$-=i,e.q$-=i,void(n.length!==r+1&&(n.length=r+1));i-=e.q$}else n.length=0}},{key:"Qn",get:function(){for(var t=new Array(this.F$),n=0,i=0,r=this.g$;i<r.length;i++)for(var e=r[i],u=e.W$,s=e.X$;s<u;s+=1,n+=1)t[n]=e.G$[s];return t}}]),t}();function TO(t,n){return{audio:t.audio?DO(t.audio,n):void 0,video:t.video?MO(t.video,n):void 0,Y$:t.Y$?(i=t.Y$,{Z$:i.Z$,dZ:i.dZ,tf:i.tf,J$:i.J$,K$:i.K$,n0:i.n0,i0:i.i0.map(EO),rf:[]}):void 0,r0:t.r0?t.r0.map(RO):t.r0,e0:t.e0.kp()};var i}function EO(t){return{R_:t.R_,Up:{u0:t.Up.u0,s0:t.Up.o0.kp()},KF:t.KF}}function SO(t){return{R_:t.R_,Up:{u0:t.Up.u0,o0:Ov(t.Up.s0)},KF:t.KF}}function RO(t){return{o0:t.o0.kp(),sw:t.sw,Rz:t.Rz,Sz:t.Sz,Cu:t.Cu,a0:t.a0,Iz:t.Iz,Nz:t.Nz}}function IO(t){return{o0:Ov(t.o0),sw:t.sw,Rz:t.Rz,Sz:t.Sz,Cu:t.Cu,a0:t.a0,Iz:t.Iz,Nz:t.Nz}}function NO(t){return{Z$:t.Z$,KF:[],c0:t.c0,h0:t.h0,duration:t.duration,f0:t.f0,v0:t.v0.kp(),d0:t.d0,l0:t.l0.kp(),_0:t._0,g0:t.g0.kp(),w0:t.w0.kp(),y0:t.y0.kp(),m0:t.m0.kp(),k0:t.k0.kp(),p0:t.p0.kp(),A0:t.A0.kp()}}function CO(t){return{Z$:t.Z$,KF:[],c0:t.c0,h0:t.h0,duration:t.duration,f0:t.f0,v0:Ov(t.v0),d0:t.d0,l0:Ov(t.l0),_0:t._0,g0:Ov(t.g0),w0:Ov(t.w0),y0:Ov(t.y0),m0:Ov(t.m0),k0:Ov(t.k0),p0:Ov(t.p0),A0:Ov(t.A0)}}function DO(t,n){switch(t.c0){case fO.M$:case fO.U$:return function(t,n){return Dt(Dt({},xO(t)),{c0:t.c0,KF:t.KF.map(function(t){return function(t,n){var i=(r=t.Up,Dt(Dt({},HO(r)),{b0:r.b0,T0:r.T0,E0:r.E0}));var r;return BO(t.qs(i),n)}(t,n)}),$Q:t.$Q,S0:t.S0})}(t,n);case fO.L$:return function(t,n){return Dt(Dt({},xO(t)),{c0:t.c0,KF:t.KF.map(function(t){return function(t,n){var i=(r=t.Up,Dt(Dt({},HO(r)),{O_:r.O_,ag:r.ag,R0:r.R0,I0:r.I0,N0:r.N0}));var r;return BO(t.qs(i),n)}(t,n)})})}(t,n)}}function OO(t){switch(t.c0){case fO.M$:case fO.U$:return function(t){return Dt(Dt({},PO(t)),{c0:t.c0,KF:t.KF.map(function(t){return function(t){var n=LO(t),i=(r=n.Up,Dt(Dt({},VO(r)),{b0:r.b0,T0:r.T0,E0:r.E0}));var r;return n.qs(i)}(t)}),$Q:t.$Q,S0:t.S0})}(t);case fO.L$:return function(t){return Dt(Dt({},PO(t)),{c0:t.c0,KF:t.KF.map(function(t){return function(t){var n=LO(t),i=(r=n.Up,Dt(Dt({},VO(r)),{O_:r.O_,ag:r.ag,R0:r.R0,I0:r.I0,N0:r.N0}));var r;return n.qs(i)}(t)})})}(t)}}function xO(t){return Dt(Dt({},NO(t)),{KF:[],c0:t.c0,C0:t.C0,D0:t.D0,O0:t.O0,x0:t.x0})}function PO(t){return Dt(Dt({},CO(t)),{KF:[],c0:t.c0,C0:t.C0,D0:t.D0,O0:t.O0,x0:t.x0})}function BO(t,n){var i=t.Q$();return n.push(i.buffer),{P0:i,B0:t.xh,L0:t.Up}}function LO(t){var n=new bO;return n.V$(t.P0,0,t.B0),n.Up=t.L0,n}function MO(t,n){return Dt(Dt({},NO(t)),{c0:t.c0,KF:t.KF.map(function(t){return function(t,n){var i=(r=t.Up,Dt(Dt({},UO(r)),{Vv:r.Vv,M0:r.M0.kp(),U0:r.U0,F0:r.F0,H0:r.H0&&r.H0.kp(),V0:r.V0&&r.V0.kp(),X0:r.X0,W0:r.W0,r0:r.r0,q0:r.q0}));var r;return BO(t.qs(i),n)}(t,n)}),z0:t.z0,G0:t.G0,Gg:t.Gg,width:t.width,height:t.height,j0:t.j0,Q0:t.Q0,Y0:t.Y0,jQ:t.jQ,QQ:t.QQ,Zg:t.Zg,Jg:t.Jg})}function UO(t){var n;return Dt(Dt({},{u0:(n=t).u0,s0:n.s0.kp()}),{Z0:t.Z0.kp(),J0:t.J0.kp()})}function FO(t){var n;return Dt(Dt({},{u0:(n=t).u0,s0:Ov(n.s0)}),{Z0:Ov(t.Z0),J0:Ov(t.J0)})}function HO(t){return Dt({},UO(t))}function VO(t){return Dt({},FO(t))}function XO(t){var n=t.video,i=n&&n.KF;if(!n)return 0;if(!i)return NaN;for(var r=0;r<i.length;r+=1){if(i[r].Up.X0)return r}return NaN}function WO(t){var n=t.K0.video,i=n&&n.KF;if(!n)return 0;if(!i)return NaN;for(var r=i.length-1;r>=0;r-=1){if(i[r].Up.X0)return r}return NaN}function qO(t){if(!t)return null;switch(t.c0){case fO.B$:return function(t){return t.Gg?"avc1."+(t.j0<16?"0":"")+((t.j0<<16)+(t.Q0<<8)+t.Y0).toString(16):null}(t);case fO.L$:return"mp4a.40.34";case fO.M$:return t.S0?"mp4a.40.5":"mp4a.40.2";case fO.U$:return"mp4a.40.5";default:return null}}function zO(t,n){var i=t.info,r=i.yY,e=t.K0,u=r.Oj(t.info.cj-1),s=e.audio||void 0,o=e.video||void 0,a=s&&qO(s),c=o&&qO(o),h=(!s||a)&&(!o||c)?{OQ:a,xQ:c}:null,f=s&&!m(s._0)?s._0:null,v=o&&!m(o._0)?o._0:null,d=Xv(s&&s.w0,o&&o.w0),l=Xv(s&&s.y0,o&&o.y0),_=Wv(s&&s.p0,o&&o.p0),w=Wv(s&&s.A0,o&&o.A0),y=o&&o.v0.qa(Cv.ap(o.duration)),k=s&&s.v0.qa(Cv.ap(s.duration)),p=HC(u),A=p&&u.width||r.resolution&&r.resolution.width,b=p&&u.width||r.resolution&&r.resolution.height;t.metadata={start:g.max(null===f?v||0:null===v?f:g.min(f,v),0),$0:i,duration:y&&k?Cv.Xa(y,k).Ik():(y||k||Cv.rc).Ik(),n1:d,i1:l,e1:_,u1:w,audio:{start:g.max(0,f||0),duration:s&&s.f0||0,c0:a,hJ:s&&s.d0,n1:s&&s.w0,i1:s&&s.y0,e1:s&&s.p0,u1:s&&s.A0},video:{start:g.max(0,v||0),duration:o&&o.f0||0,c0:c,hJ:o&&o.d0,n1:o&&o.w0,i1:o&&o.y0,e1:o&&o.p0,u1:o&&o.A0},CB:o?{width:o.width||A,height:o.height||b}:null,cj:i.cj,size:n,quality:r,OY:h,s1:i.s1,o1:i.o1}}function GO(t,n){var i,r,e,u,s={start:0,duration:0,c0:null,hJ:null,n1:null,i1:null,e1:null,u1:null};return"OQ"===n?(r=s,e=i=Dt(Dt({},s),t.video),u=t.CB):(r=i=Dt(Dt({},s),t.audio),e=s,u=null),{start:i.start,$0:t.$0,duration:i.duration,n1:i.n1,i1:i.i1,e1:i.e1,u1:i.u1,audio:r,video:e,CB:u,cj:t.cj,size:t.size,quality:t.quality,OY:t.OY,s1:t.s1,o1:t.o1}}function jO(t,n){return t+"a1"+n.cj+"c1"+n.uri}!function(t){t.h1="f1",t.v1="d1"}(mO||(mO={})),function(t){t.l1="_1",t.ij="g1"}(kO||(kO={})),function(t){t.w1="m1",t.v1="d1"}(pO||(pO={})),function(t){t.A1="b1",t.T1="E1"}(AO||(AO={}));var QO=function(t){function n(n){var i;return(i=t.call(this)||this).S1=xt(),i.R1=void 0,i.I1=void 0,i.N1=function(t){var n=t.data,r=n.C1;if(i.S1.get(r))switch(n.D1){case kO.l1:0;var e=n.O1;i.P1(r,e);break;case kO.ij:var u=n.B1;i.L1(r,new mC(yC.KG,{code:u}));default:0}},i.M1=function(t){var n,r,e,u,s=t.data,o=s.U1;if(i.S1.get(o))switch(s.F1){case AO.A1:0;var a=s.H1;i.V1(o,{audio:(n=a).audio?OO(n.audio):void 0,video:n.video?(e=n.video,u=CO(e),Dt(Dt({},u),{c0:e.c0,KF:e.KF.map(function(t){return function(t){var n,i=LO(t),r=Dt(Dt({},FO(n=i.Up)),{Vv:n.Vv,M0:Ov(n.M0),U0:n.U0,F0:n.F0,H0:n.H0&&Ov(n.H0),V0:n.V0&&Ov(n.V0),X0:n.X0,W0:n.W0,r0:n.r0,q0:n.q0});return i.qs(r)}(t)}),z0:e.z0,G0:e.G0,Gg:e.Gg,width:e.width,height:e.height,j0:e.j0,Q0:e.Q0,Y0:e.Y0,jQ:e.jQ,QQ:e.QQ,Zg:e.Zg,Jg:e.Jg})):void 0,Y$:n.Y$?(r=n.Y$,{Z$:r.Z$,dZ:r.dZ,tf:r.tf,J$:r.J$,K$:r.K$,n0:r.n0,i0:r.i0.map(SO),rf:[]}):void 0,r0:n.r0?n.r0.map(IO):n.r0,e0:Ov(n.e0)});break;case AO.T1:var c=s.X1;i.L1(o,new mC(yC.KG,{code:c}));default:0}},i.W1=function(t){if("PLAYER_INCORRECTLY_CONFIGURED"===t.message){var n={type:"Is",Is:new mC(yC.sj,{code:"THEOplayer workers could not be loaded. Please check the configuration of the libraryLocation"})};ut(n.Is.info.code),i.dispatchEvent(n)}else 0},i.Go=n,i.I1=i.q1(),i}ct(n,t);var i=n.prototype;return i.ss=function(t){var n=[];this.S1.forEach(function(i,r){t&&i.og!==t||n.push(r)}),this.z1(n)},i.z1=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.S1.delete(i)}if(t.length){if(this.R1){var r={G1:mO.v1,j1:t};this.R1.postMessage(r)}if(this.I1){var e={Q1:pO.v1,Y1:t};this.I1.postMessage(e)}}},i.L1=function(t,n){var i=this.S1.get(t);if(i){var r=i.VD;this.S1.delete(t),r(n)}},i.Z1=function(t,n,i,r){this.R1||(this.R1=this.J1());var e={G1:mO.h1,K1:t,n2:n,i2:i,e2:r};this.R1.postMessage(e)},i.u2=function(t,n){this.I1||(this.I1=this.q1());var i={Q1:pO.w1,s2:t,o2:n,a2:this.S1.get(t).c2};this.I1.postMessage(i)},i.P1=function(t,n){this.u2(t,n)},i.J1=function(){var t=WD(this.Go.libraryLocation,"theoplayer.d.js");return t.addEventListener("message",this.N1),t.addEventListener("error",this.W1),t},i.h2=function(t){var n=t.K0.video,i=n&&n.KF&&n.KF[0];i&&i.Up.X0},i.V1=function(t,n){var i=this.S1.get(t),r=i.VD,e=i.f2,u={K0:n,info:i.v2,metadata:null};this.h2(u),function(t){var n=t.info.yY.Oj(t.info.cj-1),i=t.K0;t.info.o1=t.info.xj,n&&(i.audio||i.video?i.video&&!i.video.G0&&!i.video.z0&&i.video.d0&&n.UY&&i.video.d0!==n.UY?t.info.o1=!0:i.video&&(i.video.height&&n.height&&i.video.height!==n.height||i.video.width&&n.width&&i.video.width!==n.width)&&(t.info.o1=!0):t.info.o1=!0)}(u),zO(u,e),function(t){var n=t.info,i=n.yY,r=t.metadata,e=t.K0;if(n.d2=Cv.ap(r.duration),n.eQ=e.audio&&e.audio.v0.qa(Cv.ap(e.audio.duration))||Cv.rc,n.uQ=e.video&&e.video.v0.qa(Cv.ap(e.video.duration))||Cv.rc,n.l2=e.audio&&e.audio.v0||Cv.rc,n._2=e.video&&e.video.v0||Cv.rc,n.g2=r.audio.n1,n.w2=r.audio.i1,n.m2=r.video.n1,n.A2=r.video.i1,n.rQ=r.n1,n.b2=r.i1,n.T2=r.audio.e1,n.E2=r.audio.u1,n.S2=r.video.e1,n.R2=r.video.u1,n.e1=r.e1,n.u1=r.u1,e.video){var u=XO(t.K0),s=e.video.KF&&e.video.KF[u];s?(n.C$=u,n.x$=s.Up.Z0,n.I2=s.Up.J0):n.C$=hO.P$}else n.C$=hO.D$;n.UY=e.video&&e.video.d0||0,n.width=e.video&&e.video.width||0,n.height=e.video&&e.video.height||0,i.dispatchEvent({type:"YY",v2:t.info}),!i.resolution&&r.CB&&(i.resolution=r.CB),i.bandwidth||(i.bandwidth=8*r.size/r.duration),!r.OY||i.OY&&!i.OY.OQ==!r.OY.OQ&&!i.OY.xQ==!r.OY.xQ||i.EY(r.OY),e.audio&&void 0!==e.audio.$Q&&(i.$Q=e.audio.$Q),i.jQ=e.video&&e.video.jQ||i.jQ,i.QQ=e.video&&e.video.QQ||i.QQ,i.YQ=e.audio&&e.audio.Z$||void 0,i.ZQ=e.video&&e.video.Z$||void 0,i.JQ=e.audio&&e.audio.c0||void 0,i.KQ=e.video&&e.video.c0||void 0,i.tY=e.audio&&e.audio.d0||void 0,i.UY=e.video&&e.video.d0||void 0}(u),this.S1.delete(t),r(null,u)},i.q1=function(){var t=WD(this.Go.libraryLocation,"theoplayer.e.js");return t.addEventListener("message",this.M1),t.addEventListener("error",this.W1),t},i.N2=function(t,n,i,r){var e=this;t.getKey(r).then(function(t){var u=i;i=void 0,e.S1.has(n)&&e.Z1(n,u,t,r.iv)}).catch(function(t){i=void 0,e.S1.has(n)&&e.L1(n,t)})},i.C2=function(t,n,i,r,e,u){var s=jO(t,r),o=r.yY;this.S1.set(s,{og:t,v2:r,c2:{D2:r.duration,OY:o.OY,jQ:o.jQ,QQ:o.QQ,YQ:o.YQ,ZQ:o.ZQ,JQ:o.JQ,KQ:o.KQ,$Q:!this.Go.skipImplicitHEAACDetection&&o.$Q,O2:e},f2:i.length,VD:u}),r.key?this.N2(n,s,i,r.key):this.u2(s,i)},i.P2=function(t){var n=[];return this.S1.forEach(function(i){i.og===t&&n.push(i.v2)}),n},i.B2=function(t,n){var i=jO(t,n);return this.S1.has(i)},i.Dh=function(){this.ss(),this.R1&&(this.R1.terminate(),this.R1=void 0),this.I1&&(this.I1.terminate(),this.I1=void 0)},n}(gC);function YO(t,n){return t+"L2"+n}function ZO(t){return YO(t.yY.Wh,t.cj)}function JO(t){return!(!t||!t.K0)}var KO=function(){function t(t,n,i){this.M2=[],this.U2=xt(),this.F2=1,this.Mw=t,this.H2=n,this.V2=i}var n=t.prototype;return n.X2=function(t){var n=ZO(t.info);if(this.U2.has(n))this.W2(t.info,t);else{this.M2.push(n),this.U2.set(n,t);for(var i=this.H2.q2+10;this.M2.length>8*this.z2&&this.G2>i*this.z2;){var r=this.U2.get(this.M2[0]),e=this.V2.j2,u=null==r?void 0:r.info;if(u){var s=u.start,o=s+u.duration,a=new tf([s,o]),c=e,h=c+this.H2.q2;if(new tf([c,h]).$y(a).xh>0)break}this.U2.delete(this.M2.shift())}}},n.Q2=function(t,n){var i=YO(t,n),r=this.U2.get(i),e=this.M2.indexOf(i);return!(!r||-1===e)&&(Cn(this.M2,e),this.U2.delete(i),!0)},n.Fs=function(){this.M2.length=0,this.U2.clear()},n.Y2=function(){for(var t={},n=0,i=this.M2;n<i.length;n++){var r=i[n],e=this.U2.get(r);JO(e)&&(t[e.info.yY.Wh]=(t[e.info.yY.Wh]||0)+1)}return t},n.Z2=function(t,n){var i=[],r=this.J2(t,n);if(!JO(r))return i;do{i.push(r),n+=1,r=this.J2(t,n)}while(JO(r));return i},n.K2=function(t,n){return!!this.J2(t,n)},n.t3=function(t,n){return JO(this.J2(t,n))},n.J2=function(t,n){return this.U2.get(YO(t,n))},n.W2=function(t,n){var i=ZO(t),r=this.M2.indexOf(i);return-1!==r&&(Cn(this.M2,r),this.M2.push(i),n&&this.U2.set(i,n),!0)},n.n3=function(){for(var t=[],n=0,i=this.M2;n<i.length;n++){var r=i[n],e=this.U2.get(r);t.push(e.info)}return t},n.i3=function(){for(var t=[],n=0,i=this.M2;n<i.length;n++){var r=i[n],e=this.U2.get(r);e&&JO(e)&&t.push(e.info)}return t},T(t,[{key:"G2",get:function(){for(var t=lO(this.Mw,this.n3()),n=0,i=0;i<t.length;i++)n+=t.end(i)-t.start(i);return n}},{key:"z2",get:function(){return this.F2},set:function(t){t>0&&(this.F2=g.max(t,1))}}]),t}();var $O=P.nn?function(t,n){return t.Z0.Ka(n.Z0)}:function(t,n){return t.J0.Ka(n.J0)};function tx(t,n,i){var r,e=t.length,u=Cv.rc;r=function(t,n){return $O(t.Up,n.Up).Za(Cv.rc)},t=En(t.slice(),r);for(var s=1;s<e;s+=1){var o=t[s-1].Up,a=t[s].Up,c=$O(a,o);c.Wa(Cv.rc)&&(c=n),u=u.qa(c),o.M0=c,o.Vv=c.Ik()}if(e>0){var h=t[e-1].Up,f=Cv.Ha(Cv.ap(g.round(i-u.Ik())),n);h.M0=f,h.Vv=f.Ik()}}function nx(t,n,i){var r=n[0].Up.s0,e=t[t.length-1].Up.s0,u=r.Ka(e),s=Vv(r,e).Ka(u);if(!s.Wk())for(var o=0;o<n.length;o++){i(n[o].Up,s)}}function ix(t,n){t.J0=t.J0.qa(n),t.Z0=t.Z0.qa(n),t.s0=t.s0.qa(n)}function rx(t,n){ix(t,n),t.M0=t.M0.qa(n),t.V0=ex(t.V0,n),t.H0=ex(t.H0,n)}function ex(t,n){if(t)return t.qa(n)}function ux(t,n){return n.qa(Vv(t,n))}function sx(t,n){var i={audio:void 0,video:void 0,e0:t.e0};if("video"===n){if(!t.audio)return i;i.audio={c0:t.audio.c0,d0:t.audio.d0,l0:t.audio.l0,duration:t.audio.duration,f0:t.audio.f0,v0:Cv.rc,_0:t.audio._0,g0:t.audio.g0,w0:t.audio.w0,y0:t.audio.y0,m0:t.audio.m0,k0:t.audio.k0,p0:t.audio.p0,A0:t.audio.A0,KF:t.audio.KF,x0:t.audio.x0,O0:t.audio.O0,h0:t.audio.h0,C0:t.audio.C0,D0:t.audio.D0}}if("audio"===n){if(!t.video)return i;i.video={c0:t.video.c0,j0:t.video.j0,Y0:t.video.Y0,Q0:t.video.Q0,d0:t.video.d0,l0:t.video.l0,z0:t.video.z0,G0:t.video.G0,width:t.video.width,height:t.video.height,jQ:t.video.jQ,QQ:t.video.QQ,Zg:t.video.Zg,Jg:t.video.Jg,Gg:t.video.Gg,duration:t.video.duration,f0:t.video.f0,v0:Cv.rc,_0:t.video._0,g0:t.video.g0,w0:t.video.w0,y0:t.video.y0,m0:t.video.m0,k0:t.video.k0,p0:t.video.p0,A0:t.video.A0,KF:t.video.KF,h0:t.video.h0}}return i}function ox(t,n,i,r){var e=function(t,n){if(!t)return n;if(!n)return t;var i;if((t.c0===n.c0||!t.c0||!n.c0)&&t.d0===n.d0&&t.l0.Ja(n.l0)&&t.O0===n.O0)return t.KF?n.KF?(i=t.KF.concat(n.KF),nx(t.KF,n.KF,ix)):i=t.KF:i=n.KF,{c0:t.c0,d0:t.d0,l0:t.l0,duration:t.duration+n.duration,f0:t.f0+n.f0,v0:t.v0,_0:t._0,g0:t.g0,w0:t.w0,y0:t.y0,m0:ux(n.m0,t.m0),k0:ux(n.k0,t.k0),p0:ux(n.p0,t.p0),A0:ux(n.A0,t.A0),KF:i,O0:t.O0,x0:t.x0,h0:t.h0||n.h0,C0:t.C0,D0:t.D0}}(t.audio?t.audio:void 0,i.audio?i.audio:void 0);if(!t.audio&&!i.audio||e){var u=function(t,n,i,r){if(!t)return i;if(!i)return t;if(t.c0===i.c0){var e,u,s=t.z0||i.z0;if(s)u=1/(e=t.l0.qa(i.l0).sp(2)).Ik();else{if(t.d0!==i.d0)return;if(!t.l0.Ja(i.l0))return;e=t.l0,u=t.d0}if(t.width===i.width&&t.height===i.height){var o,a=t.G0||i.G0||!t.l0.Ja(i.l0);return t.KF?i.KF?r?(o=t.KF.concat(i.KF),nx(t.KF,i.KF,rx)):(tx(n.KF.concat(i.KF),e,n.duration+i.duration),o=t.KF.concat(i.KF),nx(t.KF,i.KF,rx)):o=t.KF:o=i.KF,{c0:t.c0,j0:t.j0,Y0:t.Y0,Q0:t.Q0,d0:u,l0:e,z0:s,G0:a,width:t.width,height:t.height,jQ:t.jQ,QQ:t.QQ,Gg:t.Gg,duration:t.duration+i.duration,f0:t.f0+i.f0,v0:t.v0,_0:t._0,g0:t.g0,w0:t.w0,y0:t.y0,m0:ux(i.m0,t.m0),k0:ux(i.k0,t.k0),p0:ux(i.p0,t.p0),A0:ux(i.A0,t.A0),KF:o,h0:t.h0||i.h0,Zg:t.Zg,Jg:t.Jg}}}}(t.video?t.video:void 0,n.video,i.video,r);if(!t.video&&!i.video||u)return{audio:e,video:u,e0:t.e0}}}function ax(t){return sx(t,"audio")}function cx(t){return sx(t,"video")}var hx,fx,vx,dx=function(){function t(t){this.KC=0,this.r3=0,this.e3=g.exp(g.log(.5)/t)}var n=t.prototype;return n.iD=function(t,n){var i=g.pow(this.e3,t),r=n*(1-i)+i*this.KC;m(r)||(this.KC=r,this.r3+=t)},n.u3=function(){var t=1-g.pow(this.e3,this.r3);return this.KC/t},t}(),lx=function(){function t(t,n,i){void 0===t&&(t=2),void 0===n&&(n=5),void 0===i&&(i=128e3),this.s3=0,this.o3=5e5,this.a3=new dx(t),this.c3=new dx(n),this.h3=i}var n=t.prototype;return n.iD=function(t,n){var i=8e3*n/t,r=t/1e3;this.s3+=n,this.a3.iD(r,i),this.c3.iD(r,i)},n.u3=function(){return this.lD()?g.min(this.a3.u3(),this.c3.u3()):this.o3},n.lD=function(){return this.s3>=this.h3},t}(),_x=function(){function t(){this.a3=new dx(2),this.c3=new dx(5),this.f3=0,this.v3=1,this.o3=100}var n=t.prototype;return n.iD=function(t){this.f3+=1,this.a3.iD(1,t),this.c3.iD(1,t)},n.u3=function(){return this.lD()?g.min(this.a3.u3(),this.c3.u3()):this.o3},n.lD=function(){return this.f3>=this.v3},t}(),gx=function(){function t(t,n){var i=this;this.d3=!1,this.l3=0,this._3=0,this.g3=function(){return i.w3()},this.y3=t,this.IA=n,this.RK=n.RK,this.RK.addEventListener("_o",this.g3)}return t.prototype.w3=function(){var t=this.RK.jK,n=1e3*this.RK.JK,i=1e3*this.RK.ZK;this.RK.qJ&&(this.d3||(this.y3.m3(i),this.d3=!0),n>this._3&&(this.y3.A3(n-this._3,t-this.l3),this.l3=t,this._3=n))},t}(),wx=function(){function t(){this.b3=new lx,this.T3=new _x}var n=t.prototype;return n.E3=function(t){new gx(this,t)},n.A3=function(t,n){this.b3.iD(t,n)},n.m3=function(t){this.T3.iD(t)},n.Dh=function(){},T(t,[{key:"S3",get:function(){return this.T3.u3()/1e3}},{key:"R3",get:function(){return this.b3.u3()}}]),t}(),yx=function(){function t(){this.I3=xt()}var n=t.prototype;return n.N3=function(t,n){var i,r,e=this.I3.get(t);return Boolean(e&&(i=e.nQ,r=n,X(i)?i===r:function(t,n){return t.nQ===n.nQ&&t.iQ.Ly===n.iQ.Ly&&t.iQ.Uy===n.iQ.Uy}(i,r)))},n.C3=function(t,n){if(this.N3(t,n))return this.I3.get(t).Qn},n.D3=function(t,n,i){this.I3.set(t,{nQ:n,Qn:i})},n.Fs=function(){this.I3.clear()},t}();!function(t){t[t.O3=0]="O3",t[t.x3=5]="x3",t[t.P3=13]="P3",t[t.B3=14]="B3",t[t.L3=15]="L3"}(hx||(hx={})),function(t){t[t.M3=0]="M3",t[t.U3=1]="U3",t[t.F3=2]="F3",t[t.H3=11]="H3",t[t.V3=13]="V3",t[t.X3=14]="X3"}(fx||(fx={})),function(t){t[t.W3=0]="W3",t[t.q3=1]="q3",t[t.z3=2]="z3",t[t.G3=3]="G3",t[t.j3=4]="j3",t[t.Q3=5]="Q3",t[t.Y3=6]="Y3",t[t.Z3=7]="Z3"}(vx||(vx={}));var mx=5,kx=5,px=.5;function Ax(t){if(!t.K0.video)return[];for(var n=[],i=0;i<t.K0.video.KF.length;i++){var r=t.K0.video.KF[i].Up;r.X0&&n.push({J3:i,K3:r.Z0})}return n}var bx=Cv.ap(.04),Tx=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).t4=xt(),u.n4=xt(),u.i4=1,u.Go=n,u.r4=i,u.PA=r,u.e4=new yx,u.H2=e,u.u4=new CD(r,n),u.s4=new wx,u.o4=new QO(n),u.o4.addEventListener("Is",function(t){u.dispatchEvent(t)}),u}ct(n,t);var i=n.prototype;return i.a4=function(t){this.o4.ss(t),this.u4.Fs(!1,t)},i.Fs=function(t){this.a4(t),t?this.t4.get(t).Fs():this.t4.forEach(function(t){return t.Fs()})},i.Dh=function(){this.gs(),this.u4.Fs(),this.t4.forEach(function(t){return t.Fs()}),this.t4.clear(),this.o4.Dh()},i.Rh=function(t,n,i){if(!this.t4.has(t)){var r=new KO(n,this.H2,i);r.z2=this.z2,this.t4.set(t,r)}},i.c4=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r){var e;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.e4.N3(i,r)){t.next=2;break}return t.abrupt("return",this.e4.C3(i,r));case 2:return t.next=4,this.h4(n,r);case 4:return e=t.sent,this.e4.D3(i,r,e),t.abrupt("return",e);case 7:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.h4=function(t,n){var i=this;return new Ct(function(r,e){i.u4.do(t,n,Yd.Yp,function(t,n){t&&e(t),r(new k(n.NA))})})},i.f4=function(t,n,i,r){var e=this.t4.get(t),u=e.J2(n.yY.Wh,n.cj);if(e.t3(n.yY.Wh,n.cj))e.W2(n),this.dispatchEvent({type:"v4",og:t,qY:u});else{if(!u)return this.d4(t,n,i,r);e.W2(n),this.l4(t,n,i,u._4)}return r&&r(),null},i.d4=function(t,n,i,r){var e=this,u=this.t4.get(t),s=function(t,n){return t+"g4"+n.cj+"c1"+n.uri}(t,n);if(this.n4.has(s))return null;this.n4.set(s,!0);var o=this.u4.do(t,n.uri,Yd.Yp,function(a,c){return e.n4.delete(s),a?r&&r(a):(e.dispatchEvent({type:"w4",og:t}),u.t3(n.yY.Wh,n.cj)||u.X2({info:n,_4:o.NA}),e.f4(t,n,i),r&&r(a,c))});return this.s4.E3(o),o},i.l4=function(t,n,i,r){var e=this,u=this.t4.get(t);this.o4.B2(t,n)||(n&&n.key&&this.r4.getKey(n.key).catch(j),this.o4.C2(t,this.r4,r,n,i,function(n,i){if(n)return e.dispatchEvent({type:"Is",Is:n});u.X2(i),e.dispatchEvent({type:"v4",og:t,qY:i})}))},i.y4=function(t,n,i){var r=i.length,e="OQ"===t?Sx:Rx;if(!Ex(n,i))return null;if(r<=1)return i;for(var u=1;u<r;u+=1){var s=i[u],o=i[u-1];if(s.metadata.o1){if("m4"===this.Go.A4||e(s,o)){var a=i.splice(0,u);return Ex(n,a)?a:this.y4(t,n,i)}0}}return i},i.b4=function(t,n,i,r){for(var e=this.t4.get(t).i3(),u=r.T4,s=function(t){var r=i[t],s=e.filter(function(t){return t.yY===r}),o=lO(n,s),a=o.m$(u.Ik(),bx.Ik());if(a>=0&&Cv.ap(o.end(a)).Ka(u).Va(bx))return{v:!0}},o=0;o<i.length;o++){var a=s(o);if("object"==typeof a)return a.v}return!1},i.E4=function(t,n,i,r,e){if(!P.Jt)return!0;if(e.S4||this.b4(t,n,i,e))return!0;var u=Cv.Ha(r,e.R4);return e.T4.Ka(u).Va(Cv.ap(2))},i.I4=function(t,n,i,r,e,u,s,o){var a=n.Z2(e.Wh,u),c=this.y4(t,u,a);if(!c||0===c.length)return null;var h,f=c[0],v=r.I$(f.info),d=Hx(t,r,f);if("xQ"!==t||function(t,n,i){return!!t&&t._g.yY===n&&i.Va(Cv.ap(t.Uy))&&i.Wa(Cv.ap(t.Uy).qa(bx))}(i,e,d))return{Nj:c,N4:Cv.Xa(v,d)};f.K0.video&&(f=(c=xx(c,function(t,n,i,r){for(var e=0,u=0,s=0;s<t.length;s+=1)for(var o=t[s],a=Ax(o),c=0;c<a.length;c++){var h=a[c];if(n.O$(o.info,h.K3).Ga(i.Ka(r)))return{C4:e,D4:u};e=s,u=h.J3}return{C4:e,D4:u}}(c,r,s,o)))[0]);if(d=Hx(t,r,f),function(t){var n=t.K0.video,i=n&&n.KF,r=i&&i[0],e=r&&r.Up.X0;if(!n)return!0;return!!e}(f))return{Nj:c,N4:Cv.Xa(v,d)};var l=function(t){for(var n=0;n<t.length;n++){var i=XO(t[n].K0);if(!m(i))return{C4:n,D4:i}}return null}(c),_=Cv.Ha(s,Mx(t,r,e.Oj(u)));if(f.info.cj===u){if(l&&(d=Hx(t,r,(h=xx(c,l))[0]),_.Ka(d).Va(o)))return{Nj:h,N4:Cv.Xa(v,d)};for(var g=u-1;n.t3(e.Wh,g);){var w=n.Z2(e.Wh,g);if((f=(h=this.y4(t,u,w))&&h[0]&&Ox(h[0],WO(h[0])))&&(d=Hx(t,r,f),_.Ka(d).Va(o)))return h[0]=f,{Nj:h,N4:Cv.Xa(v,d)};g-=1}}return function(t){if(t.xj)return!1;var n=t.yY;if(n.Dj&&n.Dj.live)return!1;if(!n.Oj(t.cj-1))return!1;return!0}(c[0].info)?null:l?{Nj:c=xx(c,l),N4:v}:null},i.O4=function(t,n,i,r,e,u,s,o,a,c,h){var f=u.x4(o,a,n),v=f&&f._g;if(!v)return null;var d=v.cj;do{var l=d,_=o.Oj(l),g=Mx(n,u,_);if(!Ux(n,u,_).ja(a)||_.s1){if(g.qa(bx).Ga(c))break;if(Cv.Ha(Cv.rc,a.Ka(g)).ja(h)&&i.t3(o.Wh,l-1)&&i.t3(o.Wh,l))i.J2(o.Wh,l).metadata.o1||(l-=1);var w=this.P4(t,n,i,r,e,u,s,o,l,a,h);if(w&&(Dx(w,a,c)||w.S4))return w}}while(i.t3(o.Wh,++d));return null},i.P4=function(t,n,i,r,e,u,s,o,a,c,h){var f=o.Oj(a),v=this.I4(n,i,r,u,o,a,c,h),d=v&&v.Nj,l=v&&v.N4,_=d&&d[d.length-1],w=_&&_.metadata.s1;if(!(d=function(t,n){if(!n||!n.length)return n;var i="OQ"===t?Ix:Nx;return n.map(i).filter(Cx)}(n,d))||!d.length){if(w){var y=[],m=u.I$(_.info);return y.CM=m,y.B4=m,y.R4=m,y.L4=m,y.T4=m,y.S4=w,y}return null}var k=d="xQ"===n?function(t,n,i){var r=i[0].K0.video;return i[0].info.xj?function(t,n,i,r){var e=In(r.KF,function(t){return t.Up.X0});if(e<0)return i;var u=r.KF[e].Up,s=n.O$(i[0].info,u.Z0),o=Vx(t,s);if(o.Ok())return i;var a=s.Ka(o).za(xv,Sv.mp);if(a.Wa(Cv.rc))return i;var c=qx(r.KF.slice(e),a);return i[0]=Bx(i[0],c),i}(t,n,i,r):function(t,n,i,r){var e=r.l0.np(mx),u=r.KF[0].Up,s=n.O$(i[0].info,u.J0),o=Xx(t,s,e);if(o.Ok())return i;var a=s.Ka(o).za(xv,Sv.mp);if(a.Wa(Cv.rc)||a.Ga(e))return i;var c=qx(r.KF,a);return i[0]=Bx(i[0],c),i}(t,n,i,r)}(e,u,d):function(t,n,i){var r;if((null===(r=i[0].K0.audio)||void 0===r?void 0:r.c0)===fO.L$)return i;var e=i[0].K0.audio,u=e.KF[0].Up;return i[0].info.xj?function(t,n,i,r,e){var u=n.O$(i[0].info,e.Z0),s=Vx(t,u);if(s.Ok())return i;var o=u.Ka(s).Ik(),a=g.floor(o/r.l0.Ik());if(a<=0)return i;var c=Wx(r,a);return i[0]=Px(i[0],c),i}(t,n,i,e,u):function(t,n,i,r,e){var u=n.O$(i[0].info,e.J0),s=Xx(t,u,r.l0.np(kx));if(s.Ok())return i;var o=(a=u.Ka(s).Ik()/r.l0.Ik(),a<0?g.ceil(a):g.floor(a));var a;if(0===o||g.abs(o)>kx)return i;var c=Wx(r,o);return i[0]=Px(i[0],c),i}(t,n,i,e,u)}(e,u,d),p=k[0];if(f.cj<p.info.cj&&(l=u.I$(f)),k.CM=l,k.B4=function(t,n,i){return n.O$(i.info,Fx(t,i).i1)}(n,u,p),k.R4=Hx(n,u,p),k.L4=function(t,n,i){return n.O$(i.info,Fx(t,i).u1)}(n,u,k[k.length-1]),k.T4=function(t,n,i){return n.O$(i.info,Fx(t,i).e1)}(n,u,k[k.length-1]),k.S4=w,!this.E4(t,u,s,c,k))return null;var A=p.K0.video;return!A||(A.jQ=A.jQ||o.jQ,A.QQ=A.QQ||o.QQ,A.jQ&&A.QQ)?k:null},i.M4=function(t,n,i,r,e,u,s,o,a,c){for(var h=null,f=s.length-1;f>=0;f-=1){var v=s[f],d=this.O4(t,n,i,r,e,u,s,v,o,a,c);d&&(h&&!d.R4.ja(h.R4)||(h=d))}return h},i.U4=function(t,n,i,r,e,u,s,o,a){for(var c=Cv.ap(s),h=Cv.ap(o),f=Cv.ap(a),v=this.t4.get(t),d=new jD([{Ly:c.Ik(),Uy:c.qa(h).Ik()}]),l=e.$y(d),_=function(t){if(0===t.length)return null;var n=t.Nj(t.length-1),i=n[n.length-1];if(!i._g.F4)return null;return i}(e),g=JD(KD(l),d),w=0;w<g.length;w++){var y=Cv.ap(g.start(w)),m=Cv.ap(g.end(w)),k=zx(l,y,m),p=y.qa(k).za(xv,Sv.mp),A=m.za(xv,Sv.mp);if(p.ja(A)){if(_&&p.Va(Cv.ap(_.Uy)))continue;var b=this.M4(t,n,v,u,e,i,r,p,A,f);if(b)return b}}return null},i.i3=function(t){return this.t4.get(t).i3()},i.P2=function(t){return this.o4.P2(t)},T(n,[{key:"z2",get:function(){return this.i4},set:function(t){t>0&&(this.i4=t,this.t4.forEach(function(n){return n.z2=t}))}},{key:"S3",get:function(){return this.s4.S3}},{key:"R3",get:function(){return this.s4.R3}}]),n}(gC);function Ex(t,n){for(var i=0;i<n.length;i++){if(n[i].info.cj===t)return!0}return!1}function Sx(t,n){return t.metadata.audio.c0!==n.metadata.audio.c0||(t.metadata.audio.hJ!==n.metadata.audio.hJ||(!(!t.K0.audio||!n.K0.audio||t.K0.audio.O0===n.K0.audio.O0)||!Fv(t.metadata.audio.n1,t.metadata.audio.i1).Ja(Fv(n.metadata.audio.e1,n.metadata.audio.u1))))}function Rx(t,n){return t.metadata.video.c0!==n.metadata.video.c0||(!(!t.metadata.CB||!n.metadata.CB||t.metadata.CB.height===n.metadata.CB.height&&t.metadata.CB.width===n.metadata.CB.width)||(!(!n.K0.video||n.K0.video.G0||t.metadata.video.hJ===n.metadata.video.hJ)||Fv(t.metadata.video.n1,t.metadata.video.i1)!==Fv(n.metadata.video.e1,n.metadata.video.u1)))}function Ix(t){return t.K0.video&&(t={K0:cx(t.K0),info:t.info,metadata:GO(t.metadata,"xQ")}),t}function Nx(t){return t.K0.audio&&(t={K0:ax(t.K0),info:t.info,metadata:GO(t.metadata,"OQ")}),t}function Cx(t){return Boolean(t&&(t.K0.audio||t.K0.video))}function Dx(t,n,i){var r=Cv.Ha(n,t.R4),e=Cv.Xa(i,t.T4),u=bx;return P.Wt&&(r.Wa(t.R4)?u=u.qa(t.R4).Ka(t.B4):e.Va(t.T4)&&(u=u.qa(t.T4).Ka(t.L4))),e.Ka(r).Va(u)}function Ox(t,n){return m(n)?null:0===n?t:Bx(t,t.K0.video.KF.slice(n))}function xx(t,n){return(t=t.slice(n.C4))[0]=Ox(t[0],n.D4),t}function Px(t,n){var i={info:t.info,K0:{audio:cx(t.K0).audio,video:null,e0:t.K0.e0},metadata:null},r=i.K0.audio;r.KF=n;var e=n[0].Up;return r.g0=e.s0,r._0=r.g0.Ik(),Lx(r,i.K0.e0,r.l0),zO(i,t.metadata.size),i.metadata=GO(i.metadata,"xQ"),i}function Bx(t,n){var i={info:t.info,K0:{audio:null,video:ax(t.K0).video,e0:t.K0.e0},metadata:null},r=i.K0.video;r.KF=n;var e=n[0].Up;r.g0=e.s0,r._0=r.g0.Ik();var u=n[n.length-1].Up.M0;return Lx(r,i.K0.e0,u),zO(i,t.metadata.size),i.metadata=GO(i.metadata,"OQ"),i}function Lx(t,n,i){for(var r=Cv.hp,e=Cv.hp,u=Cv.fp,s=Cv.fp,o=0,a=t.KF;o<a.length;o++){var c=a[o].Up;r=Cv.Xa(c.J0,r),e=Cv.Xa(c.Z0,e),u=Cv.Ha(c.J0,u),s=Cv.Ha(c.Z0,s)}t.w0=e,t.y0=r,t.m0=s,t.k0=u,t.v0=Cv.Ha(Vv(t.g0,n),Cv.rc),t.p0=Hv(t.m0,i),t.A0=Hv(t.k0,i),t.f0=Fv(t.p0,t.w0).Ik(),t.duration=t.f0}function Mx(t,n,i){if(HC(i)){var r="OQ"===t?i.g2:i.m2;return Mv(r)||(r=i.rQ),n.O$(i,r)}return i&&n.I$(i)}function Ux(t,n,i){if(HC(i)){var r="OQ"===t?i.T2:i.S2;return Mv(r)||(r=i.rQ),n.O$(i,r)}return i&&n.I$(i).qa("OQ"===t?function(t){return HC(t)?t.eQ||Cv.rc:t&&Cv.ap(t.duration)||Cv.rc}(i):function(t){return HC(t)?t.uQ||Cv.rc:t&&Cv.ap(t.duration)||Cv.rc}(i))}function Fx(t,n){return"OQ"===t?n.metadata.audio:n.metadata.video}function Hx(t,n,i){return n.O$(i.info,Fx(t,i).n1)}function Vx(t,n){var i=t.A$(n.Ik());if(-1!==i){var r=Cv.ap(t.end(i));if(n.Ka(r).Wa(Cv.ap(px)))return r}return Cv.cp}function Xx(t,n,i){var r=t.m$(n.Ik(),i.Ik());if(-1!==r)for(var e=t.Nj(r),u=e.length-1;u>=0;u--){var s=e[u];if(n.Ka(Cv.ap(s.Uy)).Nk().Wa(i))return Cv.ap(s._g.L4);if(n.Ka(Cv.ap(s.Ly)).Nk().Wa(i))return Cv.ap(s._g.H4)}return Cv.cp}function Wx(t,n){var i;if(n<0)i=t.KF.slice(-n);else{0;var r=new bO,e=function(t,n){if(t)switch(n){case 1:return new k([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);case 2:case 3:return new k([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}else switch(n){case 1:return new k([0,200,0,128,35,128]);case 2:return new k([33,0,73,144,2,25,0,35,128]);case 3:return new k([0,200,0,128,32,132,1,38,64,8,100,0,142]);case 4:return new k([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);case 5:return new k([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);case 6:return new k([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}return null}(t.S0,t.O0);r.V$(e,0,e.length),i=t.KF.slice();for(var u=0;u<n;u++){var s=i[0].Up,o=r.qs(Dt(Dt({},r.Up),{s0:Fv(s.s0,t.l0),u0:s.u0-t.l0.Ik(),J0:Fv(s.J0,t.l0),Z0:Fv(s.Z0,t.l0)}));i.unshift(o)}}return i}function qx(t,n){var i=t[0].Up,r=t.slice();return r[0]=t[0].qs(Dt(Dt({},i),{s0:Fv(i.s0,n),u0:i.u0-n.Ik(),J0:Fv(i.J0,n),F0:i.F0-n.Ik(),Z0:Fv(i.Z0,n),U0:i.U0-n.Ik(),M0:Cv.Ha(Cv.rc,i.M0.qa(n)),Vv:g.max(0,i.Vv+n.Ik())})),r}function zx(t,n,i){for(var r=0;r<t.length-1;r++){var e=t.Nj(r),u=t.Nj(r+1);if(e.length&&u.length&&Cv.ap(e[0].Ly).Wa(n)&&Cv.ap(u[u.length-1].Uy).Va(i)&&u[0]._g.Nj[0].js.$0.xj)return bx.np(5)}return t.Lm(n.Ik())?bx:Cv.rc}function Gx(t){return new $x(t.fS,t.Qn)}var jx,Qx,Yx,Zx,Jx,Kx,$x=function(){function t(t,n){this.V4=n,this.fS=t}return t.prototype.X4=function(t){OD(t)},T(t,[{key:"Qn",get:function(){return this.V4}},{key:"W4",get:function(){return DD(xD(this.V4,this.fS))}}]),t}(),tP=function(){function t(t,n,i){this.nQ="data:"+t+";"+n+","+i}return t.prototype.X4=function(t){},T(t,[{key:"W4",get:function(){return this.nQ}}]),t}();!function(t){t.L$="q4",t.Ov="z4",t.G4="j4",t.Q4="Y4",t.Z4="J4"}(jx||(jx={})),function(t){t.K4="t5",t.n5="i5"}(Qx||(Qx={})),function(t){t.r5="audio/mp4",t.e5="audio/mpeg",t.u5="video/mp4"}(Yx||(Yx={})),function(t){t[t.s5=0]="s5",t[t.o5=1]="o5",t[t.$h=2]="$h",t[t.a5=3]="a5"}(Zx||(Zx={})),function(t){t.c5="h5",t.f5="v5"}(Jx||(Jx={})),function(t){t.d5="m4",t.f5="l5"}(Kx||(Kx={}));var nP=function(){function t(t,n,i,r,e,u,s,o,a,c){this._5=Zx.s5,this.g5=t,this.w5=n,this.og=i,this.fS=r,this.qY=e,this.y5=u,this.Pw=s,this.m5=o,this.k5=a,this.VD=c}return t.p5=function(t,n,i,r,e,u,s,o,a,c){switch(n){case Jx.c5:return new iP(t,i,r,e,u,s,o,a,c);case Jx.f5:return new rP(t,i,r,e,u,s,o,a,c)}},t}(),iP=function(t){function n(n,i,r,e,u,s,o,a,c){return t.call(this,Jx.c5,n,i,r,e,u,s,o,a,c)||this}return ct(n,t),n.prototype.A5=function(){return{b5:"T5",E5:this.w5,S5:jx.Z4,R5:Qx.K4,I5:this.fS,N5:TO(this.qY,[]),C5:this.k5,D5:this.m5.kp(),O5:this.y5.kp(),x5:this.Pw.kp()}},n}(nP),rP=function(t){function n(n,i,r,e,u,s,o,a,c){return t.call(this,Jx.f5,n,i,r,e,u,s,o,a,c)||this}return ct(n,t),n.prototype.A5=function(){return{b5:"T5",E5:this.w5,S5:this.fS===Yx.e5?jx.L$:jx.Ov,R5:Qg?Qx.n5:Qx.K4,I5:this.fS,N5:TO(this.qY,[])}},n}(nP),eP=function(){function t(){this.P5=xt(),this.B5=1}var n=t.prototype;return n.L5=function(){return(this.B5++).toString()},n.p5=function(t,n,i,r,e,u,s,o,a){var c=this.L5(),h=nP.p5(c,n,t,i,r,e,u,s,o,a);return this.M5(h),h},n.U5=function(t){return this.P5.get(t)},n.M5=function(t){this.P5.set(t.w5,t)},n.F5=function(t){this.P5.delete(t)},n.H5=function(t){this.U5(t)._5=Zx.o5,this.F5(t)},n.V5=function(t,n){var i=this.U5(t).VD;this.U5(t)._5=Zx.$h,this.F5(t),i(n)},n.X5=function(t,n){var i=this.U5(t).VD;this.U5(t)._5=Zx.a5,this.F5(t),i(null,n)},n.Fs=function(t){var n=[];this.P5.forEach(function(i,r){t&&i.og!==t||n.push(r)});for(var i=0;i<n.length;i++){var r=n[i];this.H5(r)}},t}();var uP,sP=function(){function t(n){var i=this;this.W5=function(t){var n=t.data.q5,r=t.data.z5,e=t.data.G5,u=t.data.j5,s=i.P5.U5(r);if(s&&s._5!==Zx.o5)switch(n){case"Q5":i.Y5(s,e);break;case"Z5":i.P5.V5(r,new mC(yC.KG,{code:u}));break;default:0}},this.J5=function(t){0},this.P5=new eP,this.Go=n,this.K5=t.t6(n.A4),this.n6()}t.t6=function(t){switch(t){case Kx.d5:return Jx.c5;case Kx.f5:return Jx.f5}};var n=t.prototype;return n.T5=function(t,n,i,r,e,u,s){var o={metadata:null,OQ:null,xQ:null,Is:null};i&&i.length||s(new mC(yC.KG,{code:"SP154"}));var a=i[0],c=i[i.length-1],h=a.info.cj+1,f=a.info.yY,v=a.metadata,d=v.audio.c0?v.audio:void 0,l=v.video.c0?v.video:void 0,_=c.metadata,g=_.audio.c0?_.audio:void 0,w=_.video.c0?_.video:void 0,y=r.qa(Vv(v.i1,v.n1)),k=r.qa(Vv(v.n1,v.n1)),p=r.qa(d?Vv(d.i1,v.n1):Cv.rc),A=r.qa(d?Vv(d.n1,v.n1):Cv.rc),b=r.qa(l?Vv(l.i1,v.n1):Cv.rc),T=r.qa(l?Vv(l.n1,v.n1):Cv.rc),E=r.qa(Vv(_.u1,v.n1)),S=r.qa(Vv(_.e1,v.n1)),R=r.qa(g?Vv(g.u1,v.n1):Cv.rc),I=r.qa(g?Vv(g.e1,v.n1):Cv.rc),N=r.qa(w?Vv(w.u1,v.n1):Cv.rc),C=r.qa(w?Vv(w.e1,v.n1):Cv.rc);p=Cv.Ha(Cv.rc,p),b=Cv.Ha(Cv.rc,b);var D,O,x,P,B,L=LC.pQ(n.PY)?Cv.ap(100079991719):Cv.ap(n.Vv),M=function(t){for(var n=t[0].K0,i=n,r=1;r<t.length;r++){if(!(n=ox(i,t[r-1].K0,t[r].K0,t[r].info.o1)))return i;i=n}return i}(i);if(M.audio){O=(D=cx(M)).audio.duration;x=this.P5.p5(t,this.K5,"mp3"===D.audio.c0?Yx.e5:Yx.r5,D,p,A,L,h,function(t,n){if(o.Is=o.Is||t,o.OQ=n,D=!0,P)return s(o.Is,o)}),this.i6(x),D=null}else D=!0;if(M.video){B=(P=ax(M)).video.duration;x=this.P5.p5(t,this.K5,Yx.u5,P,b,T,L,h,function(t,n){if(o.Is=o.Is||t,o.xQ=n,P=!0,D)return s(o.Is,o)}),this.i6(x),P=null}else P=!0;var U,F,H,V=i.map(function(t){return t.metadata}),X=Cv.ap(O),W=Cv.ap(B),q=a.K0.audio&&a.K0.video?Cv.Xa(a.K0.audio.v0.qa(X),a.K0.video.v0.qa(W)):a.K0.audio?a.K0.audio.v0.qa(X):a.K0.video?a.K0.video.v0.qa(W):Cv.rc;if(q.Wk()&&et("Segment with no valid audio or video track detected",a.info.uri),M.video){var z=XO(M);if(m(z))et("Segment without keyframes detected",a.info.uri),U=Cv.cp,F=Cv.cp,H=q.np(1.5);else{var G=M.video.KF[z].Up;U=r.qa(Vv(G.J0,v.n1)),F=r.qa(Vv(G.Z0,v.n1)),H=Cv.ap(G.U0-a.metadata.start)}}else U=p,F=A,H=Cv.rc;var j=Cv.Ha(H,Cv.Ha(a.K0.audio&&a.K0.audio.v0||Cv.rc,a.K0.video&&a.K0.video.v0||Cv.rc));o.metadata={cj:h,Ly:r.Ik(),H4:y.Ik(),CM:k.Ik(),L4:E.Ik(),T4:S.Ik(),I2:U.Ik(),x$:F.Ik(),N4:Cv.Xa(r,e).Ik(),Vv:q.Ik(),Nj:V,zs:j.Ik(),OQ:d&&{Ly:A.Ik(),H4:p.Ik(),Uy:I.Ik(),L4:R.Ik(),Vv:O,c0:d.c0},xQ:l&&{Ly:T.Ik(),H4:b.Ik(),Uy:C.Ik(),L4:N.Ik(),Vv:B,c0:l.c0,mc:v.CB.width,hg:v.CB.height},OY:v.OY,o1:v.o1,yY:f,s1:u},i=null,M=null},n.Dh=function(){this.P5.Fs(),this.r6&&(this.r6.terminate(),this.r6=null)},n.ss=function(t){this.P5.Fs(t)},n.Y5=function(t,n){switch(t.g5){case Jx.c5:var i=n;this.P5.X5(t.w5,{initializer:Gx(i.e6),m4s:Gx(i.u6)});break;case Jx.f5:var r=n;this.P5.X5(t.w5,(e=r,Qg?new tP(e.fS,"base64",e.Qn):new $x(e.fS,e.Qn)));break;default:0}var e},n.n6=function(){this.r6||(this.r6=WD(this.Go.libraryLocation,"theoplayer.p.js"),this.r6.addEventListener("message",this.W5),this.r6.addEventListener("error",this.J5))},n.i6=function(t){this.r6||this.n6(),this.r6.postMessage(t.A5())},t}();function oP(t,n){return/^https?:\/\//.exec(t)?t:/^:\/\//.exec(t)?t:0===t.indexOf("/")?n.substr(0,n.indexOf("/",8))+t:n+t}function aP(t,n){return t.length>=n.length&&0===t.lastIndexOf(n,0)}function cP(t){var n=t.indexOf(":");return-1!==n&&t.length>n+1?t.substring(n+1):null}function hP(t){for(var n={},i=/(:|,) ?([A-Z0-9\-]+)=((0(X|x)([0-9a-fA-F]+))|(([0-9]+(\.[0-9]+)?)x([0-9]+(\.[0-9]+)?))|([0-9]+(\.[0-9]+)?)|([A-Za-z\-]+[A-Za-z\-0-9]*)|("(([^"]*\\")*[^"]*)"))/g,r=i.exec(t);null!==r;){var e=r[2],u=void 0;u=void 0!==r[6]?Wr(r[6]):void 0!==r[7]?{width:y(r[8]),height:y(r[10])}:void 0!==r[12]?y(r[12]):void 0!==r[14]?r[14]:void 0!==r[16]?r[16]:null,n[e.toLowerCase()]=u,r=i.exec(t)}return n}var fP,vP="x-";function dP(t,n,i,r){var e=t.split("@"),u=oP(n,i),s=w(e[0],10),o=e[1]?w(e[1],10):r;return{nQ:u,toString:function(){return u},indexOf:function(t){return u.indexOf(t)},iQ:{Ly:o,Uy:o+s-1}}}function lP(t,n,i){var r,e,u,s,o,a=0,c=0,h=0,f=null,v=0,d=!1,l=[],_=null,m=0,p=t.match(/[^\r\n]+/g);if(!p||"#EXTM3U"!==p[0].trim())throw new mC(yC.JG,{code:"HMP2670",uri:n});for(var A={live:!0,hasEnd:!1,isEvent:!1,streams:[],fragments:[],media:[],dateRanges:[],isMasterPlaylist:!1,uri:n,metadata:null,duration:NaN,estimateDuration:NaN},b=1;b<p.length;b+=1){var T=p[b].trim();if(l.push(T+""),aP(T,"#EXT")){if(aP(T,"#EXTINF"))h=(h=y(cP(T)))||.5;else if(aP(T,"#EXT-X-BYTERANGE"))f=cP(T);else if(aP(T,"#EXT-X-KEY"))(u=hP(T)).method&&"NONE"===u.method?u=null:u.absoluteURI=oP(u.uri,i);else if(aP(T,"#EXT-X-DISCONTINUITY")&&!aP(T,"#EXT-X-DISCONTINUITY-"))d=!0,v+=1;else if(aP(T,"#EXT-X-STREAM-INF"))(e=hP(T)).cj=c++,(b+=1)<p.length&&(e.uri=oP(p[b].trim(),i),A.streams.push(e));else if(aP(T,"#EXT-X-MEDIA")&&!aP(T,"#EXT-X-MEDIA-"))(s=hP(T)).uri&&(s.uri=oP(s.uri,i)),A.media.push(s);else if(aP(T,"#EXT-X-PROGRAM-DATE-TIME"))_=new Date(cP(T));else if(aP(T,"#EXT-X-DISCONTINUITY-SEQUENCE"))A.Tj=!0,A.Ej=w(cP(T),10);else if(aP(T,"#EXT-X-MEDIA-SEQUENCE"))a=w(cP(T),10),A.s6=!0,A.o6=a;else if(aP(T,"#EXT-X-TARGETDURATION"))A.targetDuration=w(cP(T),10),A.hasTargetDuration=!0;else if(aP(T,"#EXT-X-PLAYLIST-TYPE:EVENT"))A.isEvent=!0;else if(aP(T,"#EXT-X-ENDLIST"))A.live=!1,A.hasEnd=!0;else if(aP(T,"#EXT-X-MAP")){var E=hP(T),S=E.uri,R=E.byterange;o=R?dP(R,S,i,0):oP(S,i)}else if(aP(T,"#EXT-X-VERSION"))A.version=w(cP(T),10);else if(aP(T,"#EXT-X-DATERANGE")){var I=_P(T);A.dateRanges.push(I)}}else if(aP(T,"#"));else if(0!==T.length){f?m=(r=dP(f,T,i,m)).iQ.Uy+1:r=oP(T,i);var N,C=u&&Dt({},u);u&&void 0===u.iv&&(N=a%4294967295,C.iv=new k([0,0,0,0,0,0,0,0,0,0,0,0,N>>24,N>>16,N>>8,255&N])),A.fragments.push({start:0,duration:h,uri:r,cj:a,xj:d,Cj:v,key:C,IY:_,RY:l,s1:!1,a6:o}),a+=1,h=0,f=null,d=!1,_=null,l=[]}}return A.hasEnd&&A.fragments.length&&(A.fragments[A.fragments.length-1].s1=!0),A.isMasterPlaylist=0!==A.streams.length,A.metadata=function(t){var n=t&&t.fragments&&t.fragments.length,i=t.targetDuration,r=0,e=0;if(!n)return null;for(var u=0,s=t.fragments;u<s.length;u++){var o=s[u];e+=o.duration,i=g.min(i,o.duration),r=g.max(r,o.duration)}return{c6:i,h6:r,f6:n?t.fragments[n-1].duration:0,v6:e/n,d6:e}}(A),function(t){if(!t.isMasterPlaylist){t.duration=0;for(var n=0,i=t.fragments;n<i.length;n++){var r=i[n];t.duration+=r.duration}t.estimateDuration=t.duration/t.fragments.length,t.targetDuration||(t.targetDuration=t.estimateDuration),t.live&&(t.fragments.length<10?t.duration=-.001:t.duration=-(t.duration-3*t.targetDuration))}}(A),function(t){for(var n=0,i=0,r=t.fragments;i<r.length;i++){var e=r[i];e.start=n,n+=e.duration}}(A),function(t){t.streams.sort(function(t,n){return t.bandwidth&&n.bandwidth&&t.bandwidth!==n.bandwidth?t.bandwidth-n.bandwidth:t.resolution&&n.resolution&&t.resolution.width!==n.resolution.width&&t.resolution.height!==n.resolution.height?t.resolution.height*t.resolution.width-n.resolution.height*n.resolution.width:t.cj-n.cj})}(A),function(t,n){for(var i={},r=0;r<t.media.length;r+=1){var e=t.media[r];e.type===n&&e.uri&&(i[e["group-id"]]=(i[e["group-id"]]||0)+1)}for(var u=t.media.length-1;u>=0;u-=1){var s=t.media[u];s.type!==n||i[s["group-id"]]||Cn(t.media,u)}}(A,"VIDEO"),function(t){for(var n=0,i=0,r=t.streams;i<r.length;i++)r[i].id=n,n+=1;for(var e=0,u=t.media;e<u.length;e++)u[e].id=n,n+=1}(A),function(t){for(var n=function(n,i){var r=i[n];"video"in r&&(r.media=function(t,n){for(var i,r=t.length>>>0,e=arguments[1],u=0;u<r;u++)if(i=t[u],n.call(e,i,u,t))return i}(t.media,function(t){return t["group-id"]==r.video}))},i=0,r=t.streams;i<r.length;i++)n(i,r)}(A),A}function _P(t){var n=hP(t),i=function(t){for(var n={},i=0,r=_.keys(t);i<r.length;i++){var e=r[i];dn(e,vP)&&(n[e.substr(vP.length)]=t[e])}return n}(n),r=n["start-date"]?new Date(n["start-date"]):void 0,e=n["end-date"]?new Date(n["end-date"]):void 0,u="YES"===n["end-on-next"]||void 0,s=n["scte35-cmd"]?n["scte35-cmd"].buffer:void 0,o=n["scte35-out"]?n["scte35-out"].buffer:void 0,a=n["scte35-in"]?n["scte35-in"].buffer:void 0;return{Wh:n.id,Lj:n.class,RS:r,Pj:e,Vv:n.duration,Hj:n["planned-duration"],Xj:u,qj:i,Gj:s,Qj:o,Zj:a}}!function(t){t.NO_EXTM3U="HMP2670",t[t.DATERANGE_INVALID_1=101]="DATERANGE_INVALID_1",t[t.DATERANGE_INVALID_2=102]="DATERANGE_INVALID_2",t[t.DATERANGE_INVALID_3=103]="DATERANGE_INVALID_3",t[t.DATERANGE_INVALID_4=104]="DATERANGE_INVALID_4",t[t.DATERANGE_INVALID_5=105]="DATERANGE_INVALID_5",t[t.DATERANGE_INVALID_6=106]="DATERANGE_INVALID_6"}(fP||(fP={}));(uP={})[fP.NO_EXTM3U]="The manifest does not contain a EXTM3U tag.",uP[fP.DATERANGE_INVALID_1]="An EXT-X-DATERANGE tag with an END-ON-NEXT=YES attribute MUST have a CLASS attribute.",uP[fP.DATERANGE_INVALID_2]="Other EXT-X-DATERANGE tags with the same CLASS attribute MUST NOT specify Date Ranges that overlap.",uP[fP.DATERANGE_INVALID_3]="An EXT-X-DATERANGE tag with an END-ON-NEXT=YES attribute MUST NOT contain DURATION or END-DATE attributes.",uP[fP.DATERANGE_INVALID_4]="If a Playlist contains an EXT-X-DATERANGE tag, it MUST also contain at least one EXT-X-PROGRAM-DATE-TIME tag.",uP[fP.DATERANGE_INVALID_5]="If a Playlist contains two EXT-X-DATERANGE tags with the same ID attribute value, then any AttributeName that appears in both tags MUST have the same AttributeValue.",uP[fP.DATERANGE_INVALID_6]="If a Date Range contains a START-DATE attribute and a DURATION attribute and an END-DATE attribute, the value of the END-DATE attribute MUST be equal to the value of the START-DATE attribute plus the value of the DURATION attribute.";var gP=function(){function t(){}return t.prototype.P_=function(t,n,i){return lP(t,n,i)},t}(),wP=3,yP=function(){function t(t,n,i){void 0===i&&(i=wP),this.PA=t,this.l6=n,this._6=i}var n=t.prototype;return n.g6=function(t,n,i){return this.w6(t,n,!0,i)},n.y6=function(t,n,i){return this.w6(t,n,!1,i)},n.w6=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r,e){var u,s,o,a,c,h,f,v;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:s=100,o=0;case 2:if(!(o<this._6)){t.next=31;break}if(!(o>0)){t.next=7;break}return t.next=6,Jn(s,e);case 6:s<1e4&&(s=g.min(2*s,1e4));case 7:a=0;case 8:if(!(a<n.length)){t.next=28;break}return c=n[a],t.prev=10,h=new al({dA:c,wA:Yd.yn,_A:i,pA:this.l6,gA:$d.GET,Cu:tl.iA,mA:nl.xy,cs:e}),t.next=14,this.PA.IA(h);case 14:return f=t.sent,t.next=17,f.UA(e);case 17:return v=t.sent,t.abrupt("return",{m6:v,k6:c,CA:f.CA});case 22:t.prev=22,t.t0=t.catch(10),u=t.t0;case 25:a++,t.next=8;break;case 28:o++,t.next=2;break;case 31:throw u;case 32:case"end":return t.stop()}},t,this,[[10,22]])}));return function(n,i,r,e){return t.apply(this,arguments)}}(),t}(),mP=function(){function t(t,n,i,r){this.p6=t,this.A6=n,this.b6=i,this.T6=r}var n=t.prototype;return n.E6=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.p6.eK(n.map(TD));case 2:return i=t.sent,t.abrupt("return",i.shift());case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.S6=function(t,n){var i=ED(t,n);return this.A6.Bs(i)},n.R6=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r,e;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=ED(n,i),t.next=3,this.b6.Ls(e);case 3:if(t.t1=r=t.sent,t.t0=null===t.t1,t.t0){t.next=7;break}t.t0=void 0===r;case 7:if(!t.t0){t.next=11;break}t.t2=void 0,t.next=12;break;case 11:t.t2=r.data;case 12:return t.abrupt("return",t.t2);case 13:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.GP=function(t){return this.T6.Ls(t)},t}(),kP=function(){function t(t){this.I6=t}return t.prototype.N6=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r,e){var u,s,o,a;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:void 0===e&&(e=!1),s=0,o=this.I6;case 2:if(!(s<o.length)){t.next=17;break}return a=o[s],t.prev=4,t.next=7,a.N6(n,i,r,e);case 7:return t.abrupt("return",t.sent);case 10:t.prev=10,t.t0=t.catch(4),Vn(t.t0),u=t.t0;case 14:s++,t.next=2;break;case 17:throw u;case 18:case"end":return t.stop()}},t,this,[[4,10]])}));return function(n,i,r){return t.apply(this,arguments)}}(),t}(),pP=function(){function t(t){this.C6=t}return t.prototype.N6=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r,e){var u;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.C6.E6(n);case 2:if(!(u=t.sent)){t.next=7;break}return t.abrupt("return",{m6:u.data,k6:u.locationURL,CA:u.responseURL});case 7:throw new d("Manifest fetch from cache unsuccesful");case 8:case"end":return t.stop()}},t,this)}));return function(n,i,r,e){return t.apply(this,arguments)}}(),t}(),AP=function(){function t(t){this.D6=t}return t.prototype.N6=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r,e){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===e&&(e=!1),!e){t.next=7;break}return t.next=4,this.D6.g6(n,i,r);case 4:return t.abrupt("return",t.sent);case 7:return t.next=9,this.D6.y6(n,i,r);case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),t}();function bP(t,n){return new kP([new pP(n),new AP(t)])}var TP=function(){function t(t,n,i){this.O6=t,this.x6=n,this.P6=i}var n=t.prototype;return n.N6=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r,e){var u;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===e&&(e=!1),t.next=3,this.O6.N6(n,i,r,e);case 3:return u=t.sent,t.next=6,this.B6(u);case 6:return t.abrupt("return",u);case 7:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),n.B6=function(){var t=Ct.coroutine(Nt.mark(function t(n){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.x6.iK({key:TD(n.k6),locationURL:Fs(n.k6),responseURL:Fs(n.CA),data:n.m6,references:[this.P6.Wh]});case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),t}();function EP(t){return-1===(t=t.split("#")[0].split("?")[0]).indexOf("/")?t:t.substring(0,t.lastIndexOf("/")+1)}var SP=function(){function t(t,n,i){this.L6=new gP,this.Go=t,this.PA=i;var r=this.Go&&this.Go.crossOrigin===qa.Lv,e=new yP(i,r,1);this.O6=bP(e,new mP(bD.dn.fK,bD.dn.cK,bD.dn.hK,bD.dn.dK))}var n=t.prototype;return n.do=function(t,n,i){var r=this.UC(t,n);return i&&r.then(function(t){return i(null,t)},function(t){return i(t)}),r},n.UC=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r,e;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.O6.N6([n],i);case 3:return r=t.sent,n=r.CA,e=this.L6.P_(r.m6,n,EP(n)),t.abrupt("return",{PZ:e,M6:r.m6});case 10:if(t.prev=10,t.t0=t.catch(0),!(t.t0 instanceof tA)){t.next=16;break}throw new mC(yC.YG,{code:"MFL8600",uri:n});case 16:if(!(t.t0 instanceof nA)){t.next=24;break}if(0!==t.t0.NA.DA){t.next=21;break}throw new mC(yC.ZG,{code:"MFL3900",uri:n,status:t.t0.NA.DA});case 21:throw new mC(yC.YG,{code:"MFL4100",uri:n,status:t.t0.NA.DA});case 22:t.next=25;break;case 24:throw new mC(yC.$h,{error:t.t0,uri:n});case 25:case"end":return t.stop()}},t,this,[[0,10]])}));return function(n,i){return t.apply(this,arguments)}}(),t}(),RP=function(t){function n(n,i){var r;return(r=t.call(this)||this).U6=new SP(i||{},bD.dn.fK,n),r}ct(n,t);var i=n.prototype;return i.Td=function(){void 0!==this.F6&&(h(this.F6),this.F6=void 0),this.H6&&this.H6.IA&&(this.H6=void 0)},i.V6=function(t){if(this.ZY)for(var n=0,i=this.ZY.fragments;n<i.length;n++){var r=i[n];if(r.uri===t)return r}},n.X6=function(t,n,i,r){var e,u=t.targetDuration,s=t.metadata;return e=t.fragments.length&&s&&(!u||s.d6<3*u)?1e3*s.c6:u?1e3*u:1e4,i===n&&(e/=2),e=g.max(e-r,1e3)},i.W6=function(t){if(t.fragments.length>0)for(var n=this.V6(t.fragments[0].uri),i=n&&n.cj||0,r=0,e=t.fragments;r<e.length;r++){e[r].cj+=i}},i.q6=function(t,i,r,e,u,s){var o=this;if(this.H6&&r===this.H6.IA){var a=sy()-i;if(e){this.H6=void 0,this.FE=e;var h={type:"Is",Is:e};return this.dispatchEvent(h),u&&u(e)}this.H6=void 0;var f=s.PZ,v=s.M6;f.s6||this.W6(f),t===this.z6&&(this.rZ=f),this.ZY=f;var d=n.X6(f,v,this.G6,a);f.live?f.isMasterPlaylist||(this.F6=c(function(){return o.UC(t)},d)):this.Td(),u&&u(e,s);var l={type:"j6",manifest:f,manifestText:v};this.dispatchEvent(l),this.G6=v}},i.UC=function(t,n){var i=this,r=sy(),e=t;h(this.F6),this.F6=void 0;var u=this.U6.do(e,{},function(e,s){return i.q6(t,r,u,e,n,s)});this.H6={IA:u,dA:t}},i.Ly=function(t,n){var i,r,e,u=this,s=!1;(e=t||(this.ZY?this.ZY.uri:this.z6))&&(this.H6&&this.H6.dA===t?n&&(i=function(t){u.removeEventListener("Is",r),u.removeEventListener("j6",i);var e=t;n(null,{PZ:e.manifest,M6:e.manifestText})},r=function(t){u.removeEventListener("Is",r),u.removeEventListener("j6",i),n(t.Is)},this.addEventListener("Is",r),this.addEventListener("j6",i)):(this.Td(),this.UC(e,function(t,i){if(!s)return s=!0,n&&n(t,i)})))},i.Q6=function(t){t&&(this.G6=void 0,this.rZ&&this.rZ.isMasterPlaylist?this.Ly(t.uri):this.ZY&&!this.Y6()&&this.Ly(this.ZY.uri))},i.Dh=function(){this.Td(),this.gs()},i.Y6=function(){return!!this.H6||!!this.F6||!(!this.ZY||this.ZY.live)},T(n,[{key:"PZ",get:function(){return this.ZY}},{key:"LZ",get:function(){return this.rZ}},{key:"GJ",get:function(){return this.z6},set:function(t){this.Td(),this.G6=void 0,this.rZ=void 0,this.ZY=void 0,this.z6=t}}]),n}(gC),IP=function(t){function n(n,i){var r;return(r=t.call(this)||this).Go=i,r.Eh=xt(),r.z6=null,r.Z6=null,r.PA=n,r}ct(n,t);var i=n.prototype;return i.Ly=function(){var t=this,n=this.GJ;if(n&&!this.Z6){var i=new RP(this.PA,this.Go);i.addEventListener("Is",function(i){var r=i.Is;t.dispatchEvent({type:"J6",Is:r}),t.Eh.has(n)&&t.dispatchEvent({type:"Is",Is:r,K6:n})}),i.addEventListener("j6",function n(r){i.removeEventListener("j6",n),i===t.Z6&&t.dispatchEvent({type:"t9",PZ:r.manifest})}),i.addEventListener("j6",function(i){t.Eh.has(n)&&t.dispatchEvent({type:n,PZ:i.manifest})}),this.Z6=i,i.Ly(n)}},i.n9=function(t,n){this.i9(t),this.r9(n)},i.r9=function(t){var n,i=this;this.Eh.has(t)||(t===this.GJ?(this.Ly(),(n=this.Z6).PZ&&this.dispatchEvent({type:t,PZ:n.PZ},!0)):((n=new RP(this.PA,this.Go)).addEventListener("Is",function(n){i.dispatchEvent({type:n.type,Is:n.Is,K6:t})}),n.addEventListener("j6",function(n){i.dispatchEvent({type:t,PZ:n.manifest})})),this.Eh.set(t,n))},i.i9=function(t){if(this.Eh.has(t)){var n=this.Eh.get(t);n!==this.Z6&&n.Dh(),this.Eh.delete(t),this.removeEventListener(t)}},i.e9=function(t){if(this.Eh.has(t)){var n=this.Eh.get(t);n.Y6()||n.Ly(t)}},i.u9=function(){var t=this;this.Eh.forEach(function(n,i){return t.e9(i)})},i.Ch=function(){this.Eh.forEach(function(t){return t.Dh()}),this.Eh.clear(),this.Z6&&(this.Z6.Dh(),this.Z6=null),this.z6=null},T(n,[{key:"GJ",get:function(){return this.Z6&&this.Z6.PZ?this.Z6.PZ.uri:this.z6},set:function(t){this.Ch(),this.z6=t}}]),n}(gC),NP=function(t){function n(){var n;return(n=t.call(this)||this).s9=NaN,n}ct(n,t);var i=n.prototype;return i.o9=function(t,n){for(var i=t.length?g.min.apply(g,t):0,r=0;r<t.length;r++)t[r]-=i;for(var e=0;e<n.length;e++){n[e].zs=Cv.ap(t[e]||0)}var u=t.length?g.max.apply(g,t):0;this.s9=u,this.dispatchEvent({type:"a9",c9:u})},i.h9=function(t,n){var i=[];if(n.length<2)return this.o9(i,n),!0;for(var r=n[0],e=0;e<n.length;e++){var u=n[e];if(!u.f9(t))return!1;i[e]=u.zs.qa(u.v9(r,t)).Ik()}return this.o9(i,n),!0},i.d9=function(t,n){return this.h9(t.Cj,n)},i.l9=function(t,n){if(n.length<2)return this.o9([],n),!0;var i=n[0]._9(t);if(m(i))return!1;for(var r=0;r<n.length;r++){if(n[r]._9(t)!==i)return!1}return this.h9(i,n)},i.Ch=function(){this.s9=NaN},i.Dh=function(){this.gs()},T(n,[{key:"c9",get:function(){return this.s9}}]),n}(gC),CP=.001;function DP(t){return t.metadata.yY.Wh+"g9"+t.metadata.cj+"w9"+t.metadata.Ly+"y9"+t.metadata.Vv}var OP=function(t){function n(){return t.apply(this,arguments)||this}ct(n,t);var i=n.prototype;return i.ED=function(t,i){return new n(t,i)},i.R$=function(t,n){return!1},n}(vO);function xP(t,n){var i=new OP([n]);return t.Ka(i).sm(i)}function PP(t,n){var i=function(t,n){var i=t.CM,r=t.x$;if(!m(r)&&r===i)return!0;return!t.o1&&!!n&&n._g.yY===t.yY&&i>=n.Uy&&i<=n.Uy+CP}(t,n);return i||!m(t.x$)?{Ly:i?t.CM:t.x$,Uy:t.T4,_g:t}:null}var BP=function(t){function n(n,i){var r;return(r=t.call(this)||this).m9=null,r.k9=function(){return r.p9()},r.A9=[],r.Wd=[],r.b9=new OP([]),r.T9=null,r.E9=n,r.Mw=i,r}ct(n,t);var i=n.prototype;return i.S9=function(t){var n=t.metadata,i=n&&n.Nj;if(!i||!i.length)return Ct.resolve();for(var r=[],e=n.Ly,u=0;u<i.length;u++){var s=i[u],o=e+s.duration;r.push({Ly:e,Vv:s.duration,Uy:o,cj:s.cj,js:s}),e=o}var a={Wh:DP(t),Ly:t.metadata.Ly,H4:n.H4,CM:n.CM,R9:i[0].$0.IY?new Date(i[0].$0.IY.getTime()):null,Vv:t.metadata.Vv,Uy:t.metadata.Ly+t.metadata.Vv,L4:n.L4,T4:n.T4,I2:n.I2,x$:n.x$,Nj:r,yY:t.metadata.yY,F4:t.metadata.s1,o1:n.o1};return this.A9.push(a),this.I9(this.E9.S9(t),a)},i.I9=function(t,n){var i=this;return t.then(function(){if(Nn(i.A9,n)){i.Wd.push(n);var t=i.T9,r=PP(n,t);r&&(i.b9=xP(i.b9,r)),i.T9=r}i.p9(),i.N9(n)}).catch(function(){Nn(i.A9,n)})},i.N9=function(t){var n=t.Nj[0],i=t.Nj[t.Nj.length-1],r=t.yY,e=r.Oj(n.cj-1),u=LC.pQ(r.PY);if(!e||u){var s=r.Oj(n.cj),o=this.Mw.I$(s).Ik();o<n.Ly&&this.E9.ZL(o,n.Ly)}for(var a=0,c=this.Wd;a<c.length;a++){var h=c[a];if(h.yY===t.yY){var f=h.Nj[0],v=h.Nj[h.Nj.length-1];v.cj+1===n.cj&&v.Uy!==n.Ly?this.E9.ZL(v.Uy,n.Ly):f.cj-1===i.cj&&i.Uy!==f.Ly&&this.E9.ZL(i.Uy,f.Ly)}}},i.Fs=function(){this.A9.length=0,this.Wd.length=0,this.b9=new OP([]),this.T9=null},i.p9=function(){if(this.C9&&!this.C9.AO){var t=this.C9.Wd||QD;t=function(t,n){for(var i=nO(t),r=0;r<i.length;r++){var e=i[r],u=n.A$(e.Uy,CP);if(u>=0){var s=n.Nj(u),o=s[s.length-1],a=o._g.L4,c=o._g.T4;a-CP<e.Uy&&e.Uy<c&&(e.Uy=c)}}return new jD(i)}(t,this.b9),this.Wd=this.Wd.filter(function(n){return function(t,n,i,r){n-=r=+r||0,i+=r;for(var e=0;e<t.length;e+=1)if(t.start(e)<i&&n<t.end(e))return e;return-1}(t,n.Ly,n.Uy)>=0}),this.b9=this.b9.$y(t)}},i.Dh=function(){this.gs(),this.Fs(),this.C9=null},i.D9=function(t){var n=this.O9(t);if(n)for(var i=0,r=n.Nj;i<r.length;i++){var e=r[i];if(e.Ly<=t&&e.Uy>t)return e}return null},i.O9=function(t){for(var n=0,i=this.Wd;n<i.length;n++){var r=i[n];if(r.Ly<=t&&r.Uy>t)return r}return null},i.x9=function(t){for(var n=0,i=this.Wd;n<i.length;n++){var r=i[n];if(r.yY.Wh===t.yY.Wh)for(var e=0,u=r.Nj;e<u.length;e++){if(u[e].cj===t.cj)return!0}}return!1},i.P9=function(){return this.B9()[0]},i.B9=function(){for(var t=this.b9,n=this.T9,i=0,r=this.A9;i<r.length;i++){var e=PP(r[i],n);e&&(t=xP(t,e)),n=e}return[t,n]},T(n,[{key:"xh",get:function(){return this.A9.length+this.Wd.length}},{key:"C9",get:function(){return this.m9},set:function(t){this.m9&&this.m9.removeEventListener("updateend",this.k9),this.m9=t,this.m9&&(this.m9.addEventListener("updateend",this.k9),this.p9())}}]),n}(gC);function LP(t,n,i){!function(t,n,i){for(var r=i.i0,e=[],u=0;u<r.length;u++)for(var s=r[u],o=n.O$(t,s.Up.o0).Ik(),a=0,c=s.KF;a<c.length;a++){var h=c[a];e.push(new dI(o,h))}i.rf=e}(t,n,i)}function MP(t,n){return t&&n?g.abs(t.cj-n.cj)<=1?Cv.rc:Cv.Mk(n.Y_-t.Y_,1e3):Cv.rc}var UP=function(){function t(t,n,i,r,e){this.zs=Cv.rc,this.L9=!1,this.M9=null,this.xj=t,this.C4=t.yY.Nj.vj(n.cj),this.J3=this.C4,this.U9=i,this.F9=r,this.Cu=e||null}var n=t.prototype;return n.H9=function(){if(this.M9)return this.M9;var t=this.V9();return(t.X9||t.Is)&&(this.M9=t),t},n.W9=function(){return{X9:!1,Is:!1,L9:this.L9,Km:Cv.cp}},n.X9=function(t){return t.Ok()?{X9:!1,Is:!0,L9:this.L9,Km:Cv.cp}:{X9:!0,Is:!1,L9:this.L9,Km:t}},t}();function FP(t,n){switch(n){case"OQ":return Mv(t.g2)?t.g2:t.rQ;case"xQ":return Mv(t.m2)?t.m2:t.rQ;default:return t.rQ}}var HP=function(t){function n(){return t.apply(this,arguments)||this}return ct(n,t),n.prototype.V9=function(){var t=this.xj,n=t.yY,i=n.Nj,r=i.dj(this.J3);if(t.Lm(r)){if(this.F9&&t.q9&&HC(r)){var e=FP(r,this.Cu),u=t.z9(e,r.G9);return this.X9(u.Ka(this.zs))}if(this.U9&&r===t.j9){var s=t.$m.Ka(VC(r));return this.X9(s.Ka(this.zs))}this.J3+=1;var o=MP(r,i.dj(this.J3));return this.L9=this.L9||o.Ga(Cv.rc),this.zs=this.zs.qa(o).qa(VC(r)),this.W9()}return this.X9(Cv.cp)},n}(UP),VP=function(t){function n(){return t.apply(this,arguments)||this}return ct(n,t),n.prototype.V9=function(){var t=this.xj,n=t.yY,i=n.Nj,r=i.dj(this.J3);if(t.Lm(r)){if(this.F9&&t.q9&&HC(r)){var e=FP(r,this.Cu),u=t.z9(e,r.G9);return this.X9(u.qa(this.zs))}if(this.U9&&r===t.Q9){var s=t.Km;return this.X9(s.qa(this.zs))}this.J3-=1;var o=i.dj(this.J3),a=MP(o,r);return this.L9=this.L9||a.Ga(Cv.rc),this.zs=this.zs.qa(a).qa(VC(o)),this.W9()}return this.X9(Cv.cp)},n}(UP);var XP=function(){function t(t,n,i){this.Km=Cv.rc,this.$m=Cv.rc,this.Q9=null,this.j9=null,this.Y9=!1,this.Z9=Cv.cp,this.J9=Cv.cp,this.K9=!1,this.cj=t,this.yY=n,this.t8=i}var n=t.prototype;return n.Lm=function(t){return t&&t.Cj===this.cj},n.z9=function(t,n){var i=t.Ka(this.Z9).qa(this.J9);if(void 0!==n){var r=i.Ka(n);if(r.Nk().Ga(Lv)){var e=g.round(r.Ik()/Bv.Ik());i=i.Ka(Bv.np(e))}}return i},n.n8=function(t,n){return this.i8(t),this.r8(n),this.e8()||t===this.j9&&this.u8()},n.i8=function(t){if(this.q9&&Dv(t.b2,this.Z9)>=0)return!1;var n;if(n=this.q9?this.s8(t,!0,!1):this.o8(t,!0,!1),this.Z9.Ok())this.Z9=t.b2;else{var i=Vv(t.b2,this.Z9);this.Z9=this.Z9.qa(i)}return this.J9=n,!0},n.r8=function(t){if(!t)return!1;if(this.t8)return!1;if(!this.a8())return!1;var n=this.yY.Nj,i=this.Q9,r=n.lj(i.cj-1);if(HC(i)&&HC(r)){var e=function(t,n,i){var r=t.O$(n,n.e1);if(!Mv(i.A2)||!Mv(i.m2))return r;var e,u=Mv(i.g2),s=Fv(i.m2,i.A2);if(u){var o=Uv(Fv(i.m2,i.g2),Cv.rc);e=Uv(Fv(s,o),Cv.rc)}else e=s;return Fv(r,e)}(t,r,i);return this.K9=!0,this.c8(e)}return!1},n.c8=function(t){if(t.Ja(this.Km))return!1;var n=t.Ka(this.Km);return this.Km=t,this.$m=this.$m.qa(n),this.J9=this.J9.qa(n),!0},n.e8=function(){if(this.t8)return!1;var t=this.j9;if(!t)return!1;var n,i=new VP(this,t,!1,!0);do{n=i.H9()}while(!n.X9&&!n.Is&&!n.L9);if(n.X9&&!n.L9){var r=n.Km.qa(VC(t));if(!r.Ja(this.$m))return this.$m=r,!0}return!1},n.h8=function(t){var n=!1;return n=this.r8(t)||n,n=this.f8(t)||n},n.f8=function(t){if(!t)return!1;if(this.K9)return!1;var n=t.$m.qa(MP(t.j9,this.Q9));return this.c8(n)},n.v8=function(t){var n=!1;return(!this.Q9||this.Q9.cj>t.cj)&&(this.Km=this.Km.Ka(MP(t,this.Q9)),this.Q9=t,n=!0),(!this.j9||this.j9.cj<t.cj)&&(this.$m=this.$m.qa(MP(this.j9,t)).qa(VC(t)),this.j9=t,n=!0),n},n.d8=function(t){if(!this.q9||!t.q9)return Cv.cp;if(this.Z9.Wa(t.Z9)){var n=this.z9(t.Z9,t.J9);return t.J9.Ka(n)}return t.z9(this.Z9,this.J9).Ka(this.J9)},n.a8=function(){var t=this.Q9;return!!t&&function(t,n){return n.Cj===t&&n.xj}(this.cj,t)},n.u8=function(){var t=this.j9;if(!t)return!1;var n=this.yY.Nj.lj(t.cj+1);return function(t,n,i){return n.Cj===t&&(!i||i.xj)}(this.cj,t,n)},n.l8=function(t,n){return this.s8(t,!0,!0,n)},n.o8=function(t,n,i){if(!this.Lm(t))return Cv.cp;var r,e=new VP(this,t,n,i);do{r=e.H9()}while(!r.X9&&!r.Is);if(!r.X9)return Cv.cp;var u=r.Km;return u.ja(this.Km)?this.Km:u},n.s8=function(t,n,i,r){if(!this.Lm(t))return Cv.cp;var e,u,s,o,a,c=new HP(this,t,n,i,r),h=new VP(this,t,n,i,r);do{e=c.H9(),u=h.H9()}while(!(e.X9||u.X9||e.Is&&u.Is));if(u.X9)s=u,o=e,a=c;else{if(!e.X9)return Cv.cp;s=e,o=u,a=h}if(s.Km.ja(this.Km)){for(;!o.X9&&!o.Is;)o=a.H9();return o.X9?Cv.Ha(this.Km,o.Km):this.Km}if(s.L9){for(;!o.L9&&!o.X9&&!o.Is;)o=a.H9();if(o.X9&&!o.L9&&this.Km.Wa(o.Km))return o.Km}return s.Km},n.O$=function(t,n){return this.Lm(t)&&this.q9?this.z9(n,t.G9):Cv.cp},n.B9=function(){0},T(t,[{key:"q9",get:function(){return!this.Z9.Ok()}}]),t}();function WP(t,n){return n.ja(t.Km)?qs.Pa:n.Va(t.$m)?qs.Ba:qs.xa}var qP=function(){function t(){this._8=new EC}var n=t.prototype;return n.lj=function(t){return this._8.lj(t)},n.dj=function(t){return this._8.dj(t)},n.g8=function(t){var n=this._8.vj(t);return n<0?null:this._8.dj(n-1)},n.H9=function(t){var n=this._8.vj(t);return n<0?null:this._8.dj(n+1)},n.w8=function(){return this._8.dj(0)},n.y8=function(){var t=this._8.xh;return 0===t?null:this._8.dj(t-1)},n.m8=function(t){var n=this._8,i=this.y8();if(i&&function(t,n){return t.Km.Wa(n)&&n.ja(t.$m)}(i,t))return i;var r=jS(this._8.wj(),t,Q,WP);return n.dj(r)},n.qa=function(t){var n=this._8.qa(t);if(n&&!this.H9(t.cj)){t.Y9=!0;var i=this.g8(t.cj);i&&(i.Y9=!1)}return n},n.lo=function(t){var n=this._8.lo(t);if(n&&t.Y9){t.Y9=!1;var i=this.g8(t.cj);i&&(i.Y9=!0)}return n},n.kj=function(t){this._8.kj(t)},n.B9=function(){},T(t,[{key:"xh",get:function(){return this._8.xh}}]),t}();var zP=Cv.ap(10),GP=function(){function t(t,n,i){this.k8=!1,this.p8=!1,this.A8=new qP,this.b8=Cv.rc,this.T8=void 0,this.E8=null,this.S8=null,this.yY=t,this.T8=n.liveOffset,this.t8=i}var n=t.prototype;return n.R8=function(t){var n=this.yY,i=t?t.fragments:null,r=n.Nj;if(!t||!i||!i.length)return!1;this.k8=!0;var e,u=!1;if(!this.A8.xh){var s=r.lj(i[0].cj).Cj,o=new XP(s,n,this.t8);o.c8(this.zs),this.A8.qa(o),u=!0}if(this.S8){var a=r.vj(this.S8.cj);e=a<0?0:a+1}else e=0;for(var c=e,h=r.dj(c),f=null,v=!1;h;){var d=h.Cj;if(f&&f.cj===d||(f&&v&&this.I8(f),f=this.A8.lj(d),u=u||v,v=!1),!f){f=new XP(d,n,this.t8),this.A8.qa(f);var l=this.A8.g8(d);f.h8(l||void 0)}v=f.v8(h)||v,h=r.dj(++c)}return f&&v&&this.I8(f),(u=u||v)&&this.N8(),this.A8.y8()&&this.zY(n.Nj),this.E8=r.lj(i[0].cj),this.S8=r.lj(i[i.length-1].cj),u},n.n8=function(t){var n=this.A8.lj(t.Cj);if(!n)return!1;this.p8=!0;var i=this.A8.g8(n.cj),r=n.n8(t,i);return r&&this.I8(n),r},n.I8=function(t){for(var n=t,i=this.A8.H9(t.cj),r=!0;r&&i;)r=i.h8(n),n=i,i=this.A8.H9(i.cj)},n.N8=function(){for(var t=!1,n=this.A8.w8(),i=n&&this.A8.H9(n.cj);n&&i;)n.$m.Ga(i.Km)&&(i.c8(n.$m),t=!0),n=i,i=this.A8.H9(n.cj);return t},n.C8=function(t){var n=this.A8.y8(),i=t.A8.y8();if(!this.t8){if(n&&this.D8(t,n.cj))return!0;if(i&&this.D8(t,i.cj))return!0}return this.O8?!(!n||!this.x8(t,n.cj))||(!(!i||!this.x8(t,i.cj))||(!(!n||!this.P8(t,n.cj))||(!(!i||!this.P8(t,i.cj))||this.B8(t)))):this.L8(t)},n.L8=function(t){var n=this.A8.w8(),i=t.A8.w8();return!(!n||!i)&&(this.Xs(i.Km.Ka(n.Km)),!0)},n.D8=function(t,n){var i=this.A8.lj(n);if(!i||!i.q9)return!1;var r=t.A8.lj(n);return!(!r||!r.q9)&&(this.Xs(i.d8(r)),!0)},n.x8=function(t,n){var i=this.A8.lj(n);if(!i||!i.a8())return!1;var r=t.A8.lj(n);return!(!r||!r.a8())&&(this.Xs(r.Km.Ka(i.Km)),!0)},n.P8=function(t,n){var i=this.A8.lj(n);if(!i)return!1;var r=this.M8(i.j9.cj);if(!r)return!1;var e=t.A8.lj(n);if(!e)return!1;var u=t.M8(e.j9.cj);if(!u)return!1;var s=i.l8(i.j9),o=e.l8(e.j9),a=Cv.dp(r).Ka(Cv.dp(u)),c=s.Ka(o);return this.Xs(a.Ka(c)),!0},n.B8=function(t){if(!this.p8&&!t.p8)return!1;var n=this.A8.y8(),i=t.A8.y8();if(n&&n.j9&&i&&i.j9){var r=Cv.Mk(n.j9.Y_-i.j9.Y_,1e3),e=n.$m.Ka(i.$m);return this.Xs(r.Ka(e)),!0}return!1},n.zY=function(t){var n=this.A8.y8();if(n)for(var i=n.$m,r=t.xh-1;r>=0;r--){var e=t.dj(r);if(i=i.Ka(Cv.ap(e.duration)),void 0!==e.G9){0;break}e.G9=i}},n._9=function(t){var n=this.A8.m8(t);return n?n.cj:NaN},n.I$=function(t,n){var i=this.A8.lj(t.Cj);return i?i.l8(t,n):Cv.cp},n.N$=function(t,n){var i=this.yY.Nj.lj(t.cj+1);if(i){var r=this.I$(i);return r}return n.qa(function(t){if(!t)return Cv.rc;if(!HC(t))return Cv.ap(t.duration);var n=t.eQ||Cv.rc,i=t.uQ||Cv.rc,r=Cv.ap(t.duration);return n.Wk()||i.Wk()?n.Wk()?i.Wk()?r.Wk()?r:Cv.rc:i:n:Cv.Ha(n,i)}(t))},n.O$=function(t,n){var i=this.A8.lj(t.Cj);return i&&i.q9?i.O$(t,n):Cv.cp},n.x4=function(t,n){var i=this.yY.Nj;return i.xh?function(t,n,i,r,e){var u,s,o=t.yY.Nj,a={},c=function(n){var i=a[n];return void 0!==i?i:a[n]=t.I$(o.dj(n),e)},h=i,f=c(h),v=r,d=c(v);if(n.ja(f))return{_g:u=o.dj(h),U8:f};if(n.Va(d)&&(u=o.dj(v)).s1)return{_g:u,U8:d};for(;f.Wa(n)&&n.Wa(d);){var l=void 0,_=void 0,w=void 0;if(h===v?(l=h,_=f):(l=h+g.round(n.Ka(f).Ik()*(v-h)/d.Ka(f).Ik())||0,_=c(l)),_.Ga(n))d=c(v=l-1);else{if(u=o.dj(l),!(w=(s=l)===r?c(s).qa(VC(o.dj(s))):c(s+1)).Wa(n))return u&&n.Wa(_.qa(VC(u)))?{_g:u,U8:_}:(u=o.dj(l+1))&&{_g:u,U8:w};h=l+1,f=w}}if(d.Wa(n)){if((u=o.dj(v))&&n.Wa(d.qa(VC(u))))return{_g:u,U8:d};if(v<r&&(u=o.dj(v+1),d=c(v+1),u&&n.ja(d)))return{_g:u,U8:d}}return null}(this,t,0,i.xh-1,n):null},n.M8=function(t){var n=this.yY.Nj,i=n.vj(t),r=n.dj(i),e=r,u=Cv.rc;if(r.IY)return r.IY;for(var s=i-1;s>=0;s--){var o=n.dj(s);if(u=u.qa(VC(o)).qa(MP(o,e)),o.IY)return new Date(o.IY.getTime()+1e3*u.Ik());e=o}return null},n.F8=function(t){for(var n=this.yY.Nj,i=void 0,r=0;r<n.xh;r++){var e=n.dj(r);if(e.IY){if(!(e.IY.getTime()<=t.getTime())){i=i||e;break}i=e}}if(!i)return Cv.cp;var u=Cv.dp(t).Ka(Cv.dp(i.IY));return this.I$(i).qa(u)},n.Xs=function(t){if(!t.Ja(Cv.rc))for(var n=this.A8.xh,i=0;i<n;i++){var r=this.A8.dj(i);r.c8(r.Km.qa(t))}},n.f9=function(t){var n=this.A8.lj(t);return n&&n.q9},n.v9=function(t,n){if(this===t)return Cv.rc;var i=this.A8.lj(n),r=t.A8.lj(n);return i&&r?i.d8(r):Cv.cp},n.B9=function(){0},T(t,[{key:"O8",get:function(){var t=this.yY.Dj;return!!t&&t.live}},{key:"H8",get:function(){var t=this.yY.Dj;return!!t&&t.isEvent}},{key:"V8",get:function(){var t=this.E8;return t?this.I$(t):Cv.rc}},{key:"X8",get:function(){var t=this.A8.y8();return t?t.$m:Cv.rc}},{key:"W8",get:function(){if(!this.O8)return Cv.rc;var t=this.X8.Ka(this.q8);return Cv.Ha(this.V8,t)}},{key:"q8",get:function(){return this.T8&&Cv.ap(this.T8)||this.z8.np(3)}},{key:"G8",get:function(){return this.O8&&this.S8?Cv.Mk(sy()-this.S8.Y_,1e3):Cv.rc}},{key:"z8",get:function(){var t=this.yY.Dj;return t&&t.targetDuration?Cv.ap(t.targetDuration):zP}},{key:"zs",get:function(){return this.b8},set:function(t){var n=t.Ka(this.b8);this.b8=t,this.Xs(n)}}]),t}(),jP=function(t){function n(n){var i;return(i=t.call(this)||this).j8=[],i.Q8={},i.Y8=null,i.Z8=null,i.b8=Cv.rc,i.t8=void 0,i.J8=n,i}ct(n,t);var i=n.prototype;return i.K8=function(t){return t&&this.Q8[t.Wh]||null},i.t7=function(t){var n=this.K8(t);return n||((n=new GP(t,this.J8,!!this.t8)).zs=this.b8,this.j8.push(n),this.Q8[t.Wh]=n),n},i.n7=function(t){var n;switch(null===(n=this.J8.hls)||void 0===n?void 0:n.discontinuityAlignment){case uf.Rm:return!0;case uf.Im:return!1;default:return t.isEvent||t.hasEnd}},i.R8=function(t,n){void 0===this.t8&&(this.t8=this.n7(n));var i=this.K8(this.Y8),r=i?i.V8:Cv.rc,e=i?i.X8:Cv.rc,u=this.t7(t),s=u.k8,o=u.R8(n);if(!s&&u.k8&&(u.Xs(this.i7(t)),o=!0),o=this.r7(u)||o,this.e7(u,r,e)){var a=new mC(yC.uj,{code:"MFU0166"});this.dispatchEvent({type:"Is",Is:a})}else this.Y8=t,o&&this.dispatchEvent("jY")},i.n8=function(t,n){if(HC(n)){0;var i=this.t7(t),r=i.n8(n);r=this.r7(i)||r,this.Z8=t,r&&this.dispatchEvent("jY")}},i.r7=function(t){var n=!1,i=!1,r=this.K8(this.Z8);r&&(r===t?n=!0:i=(n=t.C8(r))||i);var e=this.K8(this.Y8);return e&&e!==t&&(i=n?e.C8(t)||i:t.C8(e)||i),i},i.i7=function(t){var n=this.K8(t),i=!n.O8,r=t.Dj&&t.Dj.isEvent;return i||r?Cv.rc:n.z8.np(3)},i.e7=function(t,n,i){if(!t.O8)return!1;var r=t.V8,e=t.X8,u=Cv.Xa(e,i).Ka(Cv.Ha(r,n)),s=Cv.Ha(t.z8.np(3),u.sp(2));return r.qa(s).ja(n)},i.zY=function(t,n){var i=this.K8(t)||this.K8(this.Y8);return i&&i.zY(n)},i._9=function(t){var n=this.Y8&&this.K8(this.Y8);return n?n._9(t):NaN},i.u7=function(t,n){var i=t.Oj(n);return this.I$(i)},i.I$=function(t){if(!t)return Cv.cp;var n=this.K8(t.yY)||this.K8(this.Y8);return n?n.I$(t):Cv.cp},i.N$=function(t,n){if(!t)return Cv.cp;var i=this.K8(t.yY)||this.K8(this.Y8);return i?i.N$(t,n):Cv.cp},i.O$=function(t,n){if(!t||!n)return Cv.cp;var i=this.K8(t.yY)||this.K8(this.Y8);return i?i.O$(t,n):Cv.cp},i.x4=function(t,n,i){var r=this.K8(t);if(!r)return null;var e=r.x4(n,i);return e?{_g:e._g,U8:e.U8}:null},i.M8=function(t,n){var i=this.K8(t)||this.K8(this.Y8);return i?i.M8(n):null},i.F8=function(t,n){var i=this.K8(t)||this.K8(this.Y8);return i?i.F8(n):Cv.cp},i.f9=function(t){return void 0!==this.s7(t)},i.v9=function(t,n){if(this===t)return Cv.rc;var i=this.s7(n),r=t.s7(n);return i&&r?i.v9(r,n):Cv.cp},i.s7=function(t){return Rn(this.j8,function(n){return n.f9(t)})},i.Dh=function(){this.gs(),this.j8.length=0,this.Q8={},this.Y8=null,this.Z8=null,this.b8=Cv.rc},i.B9=function(){0},T(n,[{key:"o7",get:function(){return this.V8.Ka(this.z8.np(3))}},{key:"q8",get:function(){var t=this.J8.liveOffset;return Cv.ap(t||3*this.z8.Ik())}},{key:"O8",get:function(){var t=this.K8(this.Y8);return!!t&&t.O8}},{key:"sl",get:function(){return this.Y8?new jD([{Ly:this.V8.Ik(),Uy:this.X8.Ik()}]):QD}},{key:"V8",get:function(){if(!this.Y8)return Cv.rc;var t=this.K8(this.Y8);return t.H8?t.V8:t.V8.qa(t.G8)}},{key:"X8",get:function(){if(!this.Y8)return Cv.rc;var t=this.K8(this.Y8);return t.X8.qa(t.G8)}},{key:"W8",get:function(){if(!this.Y8)return Cv.rc;var t=this.K8(this.Y8);return t.W8.qa(t.G8)}},{key:"z8",get:function(){return this.Y8?this.K8(this.Y8).z8:zP}},{key:"zs",get:function(){return this.b8},set:function(t){if(!this.b8.Ja(t)){this.b8=t;for(var n=0,i=this.j8;n<i.length;n++){i[n].zs=t}this.dispatchEvent("jY")}}}]),n}(gC),QP=function(t){function n(){return t.apply(this,arguments)||this}return ct(n,t),n.prototype.i7=function(t){return Cv.rc},n}(jP),YP=.25,ZP=1/60;function JP(t,n){return to(t,n,ZP)}var KP,$P=function(t,n,i){this.a7=NaN,this.c7=NaN,this.h7=0,this.yY=t.yY,this.Km=n,this.$m=i,this.Vv=i-n,this._g=t},tB=function(t,n,i){this.a7=NaN,this.c7=NaN,this.h7=0,this.yY=t,this.Km=n,this.$m=i,this.Vv=i-n};function nB(t){return!(!t||!t._g)}function iB(t,n,i){return r=n,e=i,u=t.Km,s=t.$m,JP(r,s)<=0&&JP(u,e)<=0;var r,e,u,s}function rB(t,n){return JP(t.Km,n)<=0?t.$m:t.Km}function eB(t,n,i){return(t-n)/i-YP}function uB(t,n){return n.Ka(t).sm(t)}function sB(t,n){var i=g.min(ZP,t.Vv/2);return n.hm(t.Km,t.$m,i)}function oB(t,n){var i=n.m$(t);return-1===i?t:n.end(i)}function aB(t){return t.c7<=t.a7}function cB(t,n){if(!aB(n))return!1;for(var i=0;i<t.length;i++){var r=t[i];if(r.h7+n.c7>r.a7)return!1}return!0}function hB(t,n){for(var i=0;i<t.length;i++){t[i].h7+=n.c7}n.h7=n.c7,t.push(n)}!function(t){t[t.f7=0]="f7",t[t.v7=1]="v7",t[t.d7=2]="d7",t[t.a5=3]="a5"}(KP||(KP={}));var fB=function(){function t(t,n,i,r){this.og=t,this.Mw=n,this.l7=i,this._7=r,this.g7=bD.dn.fK,this.NK=bD.dn.hK}var n=t.prototype;return n.w7=function(){return this.l7.CQ.reduce(function(t,n){return g.max(t,n.Dj&&n.Dj.targetDuration||0)},0)},n.y7=function(t,n){void 0===n&&(n=this.Mw.I$(t).Ik());var i=this.Mw.N$(t,Cv.ap(n));return new $P(t,n,i.Ik())},n.m7=function(t,n){var i=t.Nj.dj(n);return i&&this.y7(i)||null},n.k7=function(t){var n=t.yY,i=n.Nj.vj(t.cj);return i>=0&&this.m7(n,i-1)||null},n.p7=function(t){var n=t.yY,i=n.Nj.vj(t.cj);return i>=0&&this.m7(n,i+1)||null},n.A7=function(t,n){var i=this.Mw.x4(t,Cv.ap(n));return i&&this.y7(i._g,i.U8.Ik())||null},n.b7=function(t){var n=t.Nj.xh-1;return n>=0&&this.m7(t,n)||null},n.T7=function(t,n,i){var r=t.Dj&&t.Dj.targetDuration||this.w7()||10,e=g.max(0,n-r),u=e+r;return i&&iB(i,e,u)&&(u=(e=i.$m)+r),new tB(t,e,u)},n.E7=function(t,n,i){var r=this._7.S3,e=.8*this._7.R3,u=(n.bandwidth||0)*t.Vv;return i&&i.qJ?((u=8*i.QK||u)-8*i.jK)/e:r+u/e},n.S7=function(){for(var t=this._7.i3(this.og),n=this._7.P2(this.og),i=0;i<n.length;i++){var r=n[i];-1===t.indexOf(r)&&t.push(r)}return t},n.R7=function(t,n){var i=n.filter(function(n){return n.yY===t});return lO(this.Mw,i).E$()},n.I7=function(t){return"audio"===this.og&&t?[t]:this.l7.CQ},n.N7=function(t){for(var n=new dO([]),i=new dO([]),r=this.S7(),e={C7:{},D7:{},O7:{},x7:{}},u=t.length-1;u>=0;u-=1){var s=t[u],o=this.R7(s,r),a=yO(this.Mw,o);e.C7[s.Wh]=o,e.D7[s.Wh]=a,e.O7[s.Wh]=n=uB(n,o),e.x7[s.Wh]=i=uB(i,a)}return e},n.P7=function(t,n,i,r,e){for(var u,s,o,a,c=[],h=0;h<r.length;h++)for(var f=e[r[h].Wh],v=0;v<f.length;v+=1){var d=f.start(v),l=f.end(v)-i;d<l&&c.push({Ly:d,Uy:l})}return 0===(u=JD(u=ZD(new jD(c)),new jD([{Ly:t,Uy:n}]))).length||JP(u.start(0),t)>0?t:1===u.length&&(s=u.start(0),o=u.end(0),a=n,JP(s,t)<=0&&JP(a,o)<=0)?NaN:u.end(0)},n.B7=function(t,n,i){var r=null,e=i.C7[t.Wh],u=i.O7[t.Wh],s=i.x7[t.Wh],o=u.m$(n);if(-1!==o){for(var a=g.max(n,u.start(o)),c=u.end(o),h=new jD([{Ly:a,Uy:c}]),f=u.$y(h).Ka(s),v=0;v<f.length;v++){var d=f.start(v),l=f.Nj(v)[0];if(l._g.yY===t){if(r=this.k7(l._g))return r}else{for(r=this.A7(t,d);r&&sB(r,e);)r=this.k7(r._g);if(r)return r}}var _=u.Nj(o),w=_[_.length-1];if(w._g.yY===t&&(r=this.p7(w._g)))return r}var y=this.b7(t);if(!y||JP(y.$m,n)<=0){if(!y||!y._g.s1)return r=this.T7(t,n,y);r=y}for(r||(r=this.A7(t,n));r&&sB(r,u);)r=this.p7(r._g);return r},n.L7=function(t,n){var i=this.b7(t);return i&&i._g.s1&&JP(i.$m,n)<=0?i:this.A7(t,n)},n.M7=function(t,n,i,r,e,u,s,o){var a=t.yY,c=s.O7[a.Wh],h=!sB(t,c),f=h?n:rB(t,r);t.a7=eB(f,r,u),t.c7=this.E7(t,a);var v=o&&this.y7(o);if(v&&!sB(v,c)){var d=rB(v,r);if(v.a7=eB(d,r,u),v.c7=this.E7(v,a,i&&i.RK),aB(v)&&(!h||function(t,n){var i=[];return!!cB(i,n)&&(hB(i,n),!(!nB(t)||!nB(n)||t._g!==n._g)||!!cB(i,t))}(t,v)))return v}if(h&&!aB(t))return null;var l=this.U7(t,r,e,u,c);return l.length&&l[l.length-1]||null},n.U7=function(t,n,i,r,e){for(var u=[],s=t.yY,o=t;o&&n<o.$m&&i<=o.Km;){if(!sB(o,e)){if(m(o.a7)){var a=rB(o,n);o.a7=eB(a,n,r),o.c7=this.E7(o,s)}cB(u,o)&&hB(u,o)}o=nB(o)&&this.k7(o._g)}return u},n.F7=function(t,n){return t.Km<n?{zh:KP.d7}:nB(t)?{zh:KP.f7,_g:t._g,Km:t.Km}:{zh:KP.v7,yY:t.yY}},n.K2=function(t){if(FC(t.uri)){var n=t.uri,i=ED(n.nQ,[n.iQ.Ly,n.iQ.Uy]);return this.NK.Bs(i)}var r=ED(t.uri);return this.NK.Bs(r)},n.H7=function(t){return this.g7.Bs(t.uri)},n.V7=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r,e,u,s,o,a,c){var h,f,v,d,l,_,g,w,y,k,p,A,b;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(h=this.I7(e),f=this.N7(h),v=this.Mw.o7.Ik(),d=this.P7(n,i,u,h,f.D7),g=null,y=!1,!m(d)){t.next=3;break}return t.abrupt("return",{zh:KP.a5});case 3:if(!(d<v)){t.next=5;break}return t.abrupt("return",{zh:KP.d7});case 5:k=a.length-1;case 6:if(!(k>=0)){t.next=27;break}if(l=a[k],_=oB(d,f.D7[l.Wh]),!(g=this.B7(l,_,f))){t.next=24;break}if(p=!1,!nB(g)){t.next=18;break}return t.next=15,this.K2(g._g);case 15:p=t.sent,t.next=22;break;case 18:if(l.LY){t.next=22;break}return t.next=21,this.H7(l);case 21:p=t.sent;case 22:if(!p){t.next=24;break}return t.abrupt("return",this.F7(g,v));case 24:k-=1,t.next=6;break;case 27:if(!(d<=n+YP&&c.length)){t.next=33;break}if(l=c[0],_=oB(d,f.D7[l.Wh]),!(g=this.B7(l,_,f))){t.next=33;break}return t.abrupt("return",this.F7(g,v));case 33:A=c.length-1;case 34:if(!(A>=0)){t.next=48;break}if(l=c[A],_=oB(d,f.D7[l.Wh]),(g=this.B7(l,_,f))?w=g:(y=!0,w=this.L7(l,_)),!w){t.next=45;break}if(!(b=this.M7(w,_,s,n,v,r,f,o))){t.next=45;break}return t.abrupt("return",this.F7(b,v));case 45:A-=1,t.next=34;break;case 48:if(!y){t.next=50;break}return t.abrupt("return",{zh:KP.a5});case 50:if(!g){t.next=52;break}return t.abrupt("return",this.F7(g,v));case 52:if(a.length){t.next=54;break}return t.abrupt("return",{zh:KP.a5});case 54:if(l=a[0],_=oB(d,f.D7[l.Wh]),!(g=this.B7(l,_,f))){t.next=61;break}return t.abrupt("return",this.F7(g,v));case 61:return t.abrupt("return",{zh:KP.a5});case 62:case"end":return t.stop()}},t,this)}));return function(n,i,r,e,u,s,o,a,c){return t.apply(this,arguments)}}(),t}(),vB=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this,n)||this).X7=i,o.W7=r,o.sw=e,o.og=u,o.kA=s,o}return ct(n,t),n}(ei),dB=function(t){function n(n,i,r,e,u){return t.call(this,pa.Qf,n,i,r,e,u)||this}return ct(n,t),n}(vB),lB=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this,pa.Zf,n,i,r,e,u)||this).q7=s,a.$d=o,a}return ct(n,t),n}(vB),_B=Cv.ap(.1),gB=function(t){function n(n){var i;return(i=t.call(this)||this).z7=[],i.FY=n,i}ct(n,t);var i=n.prototype;return i.G7=function(t,n,i){var r=this.j7(t),e=this.Q7(r);this.Y7(e,n,i)},i.j7=function(t){if(0===t.length)return[];for(var n=t[0].qY,i=this.Z7(t[0]),r=[],e=0;e<t.length;e++){var u=t[e];n!==u.qY&&(n=u.qY,i=this.Z7(u)),r.push(Dt(Dt({},u),{J7:u.o0.qa(i)}))}return r},i.Z7=function(t){var n=this.FY.O$(t.qY,t.o0),i=n.Ka(t.o0);return Vv(n,t.o0).Ka(i)},i.Q7=function(t){var n,i,r,e,u,s=t.slice().sort(wB),o=this.z7;if(o.length)if(s.length){var a=1/s[0].qY.UY,c=s[0].J7,h=o[0].J7,f=o[o.length-1].J7,v=(e=o[0].qY,u=s[0].qY,e.yY===u.yY);if(f.Ka(c).ja(Cv.ap(2.5*a))&&v)n=o.concat(s).sort(wB);else if(c.Va(h)){for(var d=0;d<o.length&&o[d].J7.ja(c);)d++;for(var l=!1,_=!1,g=d,w=0;g<o.length&&w<s.length;g++,w++)i=o[g],r=s[w],i.o0.Ja(r.o0)&&i.Cu===r.Cu&&i.Iz===r.Nz?l=!0:_=!0;var y=l&&!_,m=l&&_;!l&&_?n=o.concat(s).sort(wB):y?n=o.slice(0,d).concat(s):(n=s,m&&this.Ch())}else n=s,this.Ch()}else n=o;else n=s;return n},i.Y7=function(t,n,i){if(0!==t.length){for(var r=t[0],e=n.Ka(r.J7),u=Vv(n,r.J7).Ka(e),s=n.qa(u),o=_B.za(s.Ma),a=0;a<t.length;a+=1){var c=t[a];if(!i&&s.Ka(c.J7).ja(o))return void(this.z7=t.slice(a));var h=this.FY.O$(c.qY,c.o0);this.Ez(h,c)}this.z7=[]}},n}($N);function wB(t,n){return(t.qY===n.qY?Dv(t.o0,n.o0):Dv(t.J7,n.J7))||Ks(t.sw,n.sw)}var yB=function(t){function n(n,i,r,e,u,s,o,a,c,h){var f;return(f=t.call(this)||this).K7=!1,f.ttt=!1,f.ntt=!1,f.itt=!1,f.rtt=!1,f.ett=null,f.JY=void 0,f.utt=void 0,f.stt=null,f.$m=-1,f.ott=null,f.att=!1,f.ctt=!1,f.htt=1/0,f.ftt=void 0,f.dtt=null,f.ltt=0,f.fs=function(t){f.dispatchEvent(t)},f._tt=function(){!f.ntt&&!f.itt&&f.gtt&&f.K7&&(f.itt=f.wtt("OQ",f.ytt,function(){f.itt=!1}))},f.mtt=function(){!f.ntt&&!f.rtt&&f.ktt&&f.ttt&&(f.rtt=f.wtt("xQ",f.ptt,function(){f.rtt=!1}))},f.Att=function(t){return f.btt()},f.Ttt=function(t){if(t.og===f.og){var n=t.qY,i=n.K0;i.Y$&&f.Ett(i.Y$,n.info),i.r0&&f.Stt(i.r0,n.info),f.btt(f.H2.q2,!0)}},f.VZ=function(t){var n=t;f.Rtt(n.xY,n.yY)},f.Itt=function(t){if(f.stt)for(var n=0;n<f.stt.Ng;n++){var i="CC"+(n+1);f.kJ.gZ(i,t.cue.Km,t.cue.$m)}f.kJ.lZ(t.cue)},f.YS=c,f.kJ=i,f.Ntt=r,f._7=e,f.Ctt=u,f.E9=s,f.Wg=o,f.H2=h,f.Mw=new jP(o),f.Dtt=f.Ott(i),e.Rh(n,f.Mw,f.E9),f.ytt=new BP(s,f.Mw),f.ptt=new BP(s,f.Mw),f.stt=f.xtt(f.Mw),f.Ptt=new fB(n,f.Mw,f.Dtt,e),e.addEventListener("v4",f.Ttt),f.Mw.addEventListener("Is",f.fs),i.addEventListener("CZ",f.VZ),f}ct(n,t);var i=n.prototype;return i.wtt=function(t,n,i){var r=this,e=this.E9.j2,u=5*this.E9.Gv,s=this.Btt(),o="audio"===this.og?[this.Ltt]:this.Dtt.CQ,a=n.B9(),c=a[0],h=a[1],f=this._7.U4(this.og,t,this.Mw,o,c,h||void 0,e,u,s);return f&&!f.length&&f.S4?(this.E9.Mtt("OQ"===t,"xQ"===t),!1):!(!f||!f.length)&&(this.Ctt.T5(this.og,this.kJ,f,f.R4,f.CM,f.S4,function(t,e){if(i(),t)r.dispatchEvent({type:"Is",Is:t});else{var u=e;n.S9(u).then(function(){return r.dispatchEvent("NJ")}).catch(function(t){0})}}),!0)},i.Utt=function(){this.Ctt.ss(this.og),this.itt=!1,this.rtt=!1},i.Ftt=function(){var t=this.E9.j2,n=this.ytt.D9(t)||this.ptt.D9(t);!n||this.ett&&this.ett.cj===n.cj||(this.btt(this.H2.q2),this.ett=n,this.dispatchEvent({type:"Htt",Up:this.ett.js.$0}))},i.Vtt=function(){this.Xtt()},i.Wtt=function(){this.Vtt()},i.qtt=function(){this.btt(this.H2.q2)},i.ztt=function(t,n){this.ytt.D9(t)||this.ptt.D9(t)||(this.ett=null)},i.Gtt=function(t){var n=!1;this.ytt.P9().Lm(t)||(this._tt(),n=!0),this.ptt.P9().Lm(t)||(this.mtt(),n=!0),n&&this.btt(this.H2.q2,!0)},i.jtt=function(){this.ytt.Fs()},i.Qtt=function(){this.ptt.Fs()},i.Btt=function(){return 0===this.ytt.xh+this.ptt.xh?0:"m4"===this.Wg.A4?0:1*this._7.z2},i.Xtt=function(){this._tt(),this.mtt()},i._J=function(t){return-1!==this.Dtt.CQ.indexOf(t)},i.Ytt=function(t){t&&this._J(t)&&(this.VY(t),this.IZ(t))},i.VY=function(t){this.Mw.R8(t,t.Dj)},i.IZ=function(t){var n=this;if(t&&t.Dj&&this.Wg.hlsDateRange){this.kJ.IZ(t.Dj.dateRanges,function(i){return n.Mw.F8(t,i).Ik()})}},i.Ztt=function(t){this._J(t.yY)&&this.Mw.n8(t.yY,t)},i.Jtt=function(t){var n,i,r,e=t,u=this.ytt.D9(e)||this.ptt.D9(e);if(u)i=u.js.quality,r=u.cj,n=u.Ly;else{var s=this.Ltt;if(!s)return null;var o=this.Mw.x4(s,Cv.ap(e));if(!o)return null;i=s,r=o._g.cj,n=o.U8.Ik()}var a=this.Mw.M8(i,r);if(!a)return null;var c=e-n;return new Date(a.getTime()+1e3*c)},i.F8=function(t){var n=this.Ltt;return this.Mw.F8(n,t).Ik()},i.btt=function(t,n){var i=this,r=this.Ktt(),e=this.E9.j2;t&&(this.$m=e+t,n&&(this.dtt=null,this.ltt=0)),this.Ktt()||e>=this.$m?this.$tt(r):this.ott||this.att||!this.Xh||(this.tnt(),this.nnt(function(t){return i.int(e,i.E9.Gv,t)}))},i.rnt=function(t){t&&this.Ntt.removeEventListener(t.uri,this.Att)},i.ent=function(t){t&&this.Ntt.addEventListener(t.uri,this.Att)},i.Ktt=function(){return-1===this.$m},n.unt=function(t){return LC.pQ(t.yY.PY)&&sy()-t.Y_>2e3*t.yY.Dj.metadata.d6},i.nnt=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i,r;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=!1,this.ott=new Mn,r=this.ott,t.prev=3,t.next=6,n(r.cs);case 6:i=t.sent,Hn(r.cs),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),Xn(t.t0);case 13:return t.prev=13,this.ott===r&&(this.ott=null),t.finish(13);case 16:i&&this.btt();case 17:case"end":return t.stop()}},t,this,[[3,10,13,16]])}));return function(n){return t.apply(this,arguments)}}(),i.tnt=function(){this.ott&&(this.ott.ss(),this.ott=null)},i.snt=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}(),i.ont=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!TB.unt(n)){t.next=2;break}return t.abrupt("return",this.dispatchEvent("ant"));case 2:if(i=g.min(16e3,1e3*g.pow(2,this.ltt)),this.ltt+=1,this.tnt(),!(this.ltt>2)){t.next=8;break}return n.yY.TY(!1),t.abrupt("return",n.yY.pY());case 8:this.nnt(function(t){return Jn(i,t).then(function(){return!0})});case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Ett=function(t,n){var i,r;r=tD((i=t).Z$,4),i.dZ="0000.0000.0000."+r,function(t){var n=tD(t.J$,4),i=tD(t.K$,3),r=tD(t.n0,2*t.K$);t.tf=(n+i+r).toUpperCase()}(t),LP(n,this.Mw,t),this.kJ.vZ(t,this.Mw)},i.Stt=function(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];i.push(Dt(Dt({},e),{qY:n}))}this.stt&&this.stt.G7(i,n.S2,n.s1)},i.cnt=function(t){this.ftt&&this.ftt.qY===t&&this.btt()},i.hnt=function(t,n){if(n){if(n.aborted)return;if(this.dtt===t)return this.ont(t)}else t.yY.TY(!0);return this.btt()},i.fnt=function(t){var n=zC(t.yY.xY);n&&this.dispatchEvent(new dB(UC(t.uri),t.yY.bandwidth||0,t.cj,t.yY.cj,n))},i.vnt=function(t,n){var i=this.ftt&&this.ftt.IA.VK||200,r=zC(t.yY.xY);r&&this.dispatchEvent(new lB(UC(t.uri),t.yY.bandwidth||0,t.cj,t.yY.cj,r,i,n&&n.RK.jK||0))},i.$tt=function(t){this.$m=-1,t||this.dispatchEvent("dnt")},i.lnt=function(t){this.ctt=!0,this.$tt(t),this.dispatchEvent("zJ")},i.int=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r){var e,u,s,o,a,c,h=this;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Hn(r),e=this.Ltt,u=this.Ktt(),this.rnt(e||void 0),!(n>=this.$m)){t.next=7;break}return this.$tt(u),t.abrupt("return",!1);case 7:return t.next=9,this.Ptt.V7(n,this.$m,i,e||void 0,this.Btt(),this.ftt&&this.ftt.IA,this.ftt&&this.ftt.qY,this._nt,this.gnt);case 9:if(s=t.sent,kc.od(this._7.R3/8),Hn(r),s.zh!==KP.d7){t.next=18;break}return this.tnt(),this.dispatchEvent("ant"),t.abrupt("return",!1);case 18:if(s.zh!==KP.v7){t.next=29;break}if(s.yY!==e){t.next=24;break}return this.ent(e),t.abrupt("return",!1);case 24:return t.next=26,this.snt(s.yY,null);case 26:return t.abrupt("return",t.sent);case 27:t.next=33;break;case 29:if(s.zh!==KP.a5){t.next=33;break}return this.ent(e||void 0),!LC.pQ(e.PY)&&e.Dj&&this.lnt(u),t.abrupt("return",!1);case 33:if(o=s._g,!this.ftt||this.ftt.qY!==o){t.next=36;break}return t.abrupt("return",!1);case 36:if(o.yY===e){t.next=40;break}return t.next=39,this.snt(o.yY,o);case 39:return t.abrupt("return",t.sent);case 40:if(this.ftt&&(this.ftt.IA.ss(),this.ftt=void 0),!(s.Km>this.htt)){t.next=46;break}return this.lnt(u),t.abrupt("return",!1);case 46:if(!(s.Km>this.$m)){t.next=49;break}return this.$tt(u),t.abrupt("return",!1);case 49:if(this.ctt=!1,this.ftt=void 0,o!==this.dtt&&(this.ltt=0),this.dtt=o,this.dispatchEvent("qJ"),this.fnt(o),!o.a6){t.next=59;break}return t.next=58,this._7.c4(this.og,String(o.yY.Wh),o.a6);case 58:a=t.sent;case 59:return(c=this._7.f4(this.og,o,a,function(t,n){h.tnt(),h.vnt(o,n),h.ftt=void 0,r&&r.Qu||h.hnt(o,t)}))&&(this.ftt={qY:o,IA:c},c.addEventListener("NJ",function(){r&&r.Qu||h.cnt(o)})),t.abrupt("return",!1);case 62:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.wnt=function(t){this.btt(t||this.H2.q2,!0)},i.ynt=function(){var t=this.Ktt();this.$m=-1,this.ftt&&this.ftt.IA.ss(),this.ftt=void 0,this.rnt(),this.ctt=!1,this.dtt=null,this.ltt=0,this.tnt(),this.$tt(t),this.stt=this.xtt(this.Mw)},i.mnt=function(){this.att=!0,this.rnt(),this.tnt()},i.knt=function(){this.att=!1,this.btt()},i.pnt=function(){this.ntt=!0},i.Ant=function(){this.ntt=!1,this.Xtt()},i.Dh=function(){this.gs(),this.ynt(),this.Utt(),this.gtt=null,this.ktt=null,this.ytt.Dh(),this.ptt.Dh(),this.Ctt.ss(this.og),this.Mw.Dh(),this.kJ.removeEventListener("CZ",this.VZ),this._7.removeEventListener("v4",this.Ttt),this.Dtt=null,this.bnt()},i.Ch=function(){this.ett=null,this.JY=void 0,this.utt=void 0,this.bnt(),this.stt=this.xtt(this.Mw)},i.xtt=function(t){var n=new gB(t);return n.ls("Qq",this.Itt),n},i.bnt=function(){this.stt&&(this.stt.ys("Qq",this.Itt),this.stt.Dh(),this.stt=null)},T(n,[{key:"Hv",get:function(){return this.E9.j2}},{key:"Tnt",get:function(){return this.K7}},{key:"og",get:function(){return this.Ent()}},{key:"LY",get:function(){return this.Snt()}},{key:"_nt",get:function(){return this.Rnt()}},{key:"gnt",get:function(){return this.Int()}},{key:"gtt",get:function(){return this.ytt.C9},set:function(t){var n=this.ytt.C9;n&&n.removeEventListener("updateend",this._tt),this.ytt.C9=t,t&&(t.addEventListener("updateend",this._tt),this._tt())}},{key:"ktt",get:function(){return this.ptt.C9},set:function(t){var n=this.ptt.C9;n&&n.removeEventListener("updateend",this.mtt),this.ptt.C9=t,t&&(t.addEventListener("updateend",this.mtt),this.mtt())}},{key:"dnt",get:function(){return this.Ktt()}},{key:"zJ",get:function(){return this.ctt}},{key:"Nnt",get:function(){return this.htt},set:function(t){this.htt=t}},{key:"Ltt",get:function(){return this.Cnt()}},{key:"Dnt",get:function(){return this.Ont()},set:function(t){this.xnt(t)}},{key:"Xh",get:function(){return this.nM()}},{key:"nl",get:function(){return this.Pnt()}}]),n}(gC);function mB(t,n){if(t.bandwidth!==n.bandwidth)return!1;if(t.resolution){if(!n.resolution)return!1;if(t.resolution.width!==n.resolution.width||t.resolution.height!==n.resolution.height)return!1}else if(n.resolution)return!1;return!0}function kB(t){for(var n=[],i=0;i<t.length;i++){for(var r=t[i],e=!1,u=0;u<n.length;u++){mB(r,n[u])&&(e=!0)}e||n.push(r)}return n}function pB(t){var n=t&&t.uri||"",i=n.indexOf("?"),r=n.indexOf("#"),e=n.length;-1!==r&&(e=r),-1!==i&&(e=i);var u=n.indexOf(".aac",e-4);return 0<=u&&u<e}var AB=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this)||this).Bnt=null,o.Lnt=null,o.Mnt=null,o.Unt=null,o.Fnt=null,o.Hnt=null,o.Vnt=null,o.Xnt=!1,o.Mm=!0,o.WQ=!0,o.Wnt=null,o.qnt=function(){o.Wnt&&o.Wnt.disabled&&o.znt(o.Wg.initialRendition||"default"),o.Gnt(!0)},o.jnt=function(){var t=o.kJ.UZ.DQ.some(function(t){return t.nl});o.Qnt(t)},o.Ynt=function(t){"variant"===t.og&&(o._7.removeEventListener("w4",o.Ynt),o.Wnt&&(o.Wnt=null,o.Gnt(!1)))},o.YS=s,o.kJ=n,o.Mw=i,o._7=r,o.Wg=e,o.Znt=e.Jnt||[],o.Knt=new SP(e,bD.dn.fK,u),o.Bnt=null,o._7.addEventListener("w4",o.Ynt),o.$nt(),o.tit(),o.znt(e.initialRendition||"default"),o}ct(n,t);var i=n.prototype;return i.nit=function(t,n){var i=XC(t);if(i&&!i.disabled)return i;var r=this.iit(t,null);switch(r.length?"first"!==n&&(n="high"):r=t,n){case"first":return r.reduce(function(t,n){return t.cj<=n.cj?t:n});case"high":var e=kB(r);return e[e.length-1];case"low":default:return kB(t)[0]}},i.rit=function(t,n){var i=this.eit||this.Wnt&&[this.Wnt],r=i&&i.filter(function(n){return Dn(t,n)});return r&&r.length>0?kB(r):kB(this.iit(t,n))},i.iit=function(t,n){var i=this.Wg,r=this.Znt,e=this.uit();return t.filter(function(t){for(var u=0;u<r.length;u++){if(!r[u].sit(t,n,e,i))return!1}return!0})},i.oit=function(t,n){var i=this.rit(t,n);return i.length?i[i.length-1]:t[0]},i.ait=function(t,n){var i=this.eit;return i&&i.length>0?i.filter(function(n){return Dn(t,n)}):t},i.cit=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r,e,u,s;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.Unt,e=this.Fnt,!r||n!==this.Hnt||i!==this.Vnt){t.next=4;break}return t.abrupt("return",r);case 4:return u=new Mn,s=this.hit(n,i,u.cs),r&&e&&e.ss(),this.Unt=s,this.Fnt=u,this.Vnt=i,t.prev=10,t.next=13,s;case 13:return t.abrupt("return",t.sent);case 14:return t.prev=14,s===this.Unt&&(this.Unt=null,this.Fnt=null,this.Vnt=null),t.finish(14);case 17:case"end":return t.stop()}},t,this,[[10,,14,17]])}));return function(n,i){return t.apply(this,arguments)}}(),i.hit=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r){var e,u,s,o,a;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.kJ,u=this.Mw,s=e.MZ,t.next=5,this.fit(n,r);case 5:if(t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:if(!i){t.next=14;break}if(o=u.u7(s,i.cj),a=u.x4(n,o),LC.pQ(s.PY)||a){t.next=14;break}return n.disabled="isUnsynced",t.abrupt("return",!1);case 14:return t.abrupt("return",!0);case 15:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.fit=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r,e,u,s;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.Lnt,e=this.Mnt,!r||n!==this.Hnt){t.next=4;break}return t.abrupt("return",r);case 4:return(u=new Mn).os(i),s=this.vit(n,u.cs),r&&e&&e.ss(),this.Lnt=s,this.Mnt=u,this.Hnt=n,t.prev=11,t.next=14,s;case 14:return t.abrupt("return",t.sent);case 15:return t.prev=15,s===this.Lnt&&(this.Lnt=null,this.Mnt=null,this.Hnt=null),t.finish(15);case 18:case"end":return t.stop()}},t,this,[[11,,15,18]])}));return function(n,i){return t.apply(this,arguments)}}(),i.vit=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r,e,u,s;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.kJ,e=r.MZ,!this.Xh||e!==n){t.next=4;break}return t.abrupt("return",!1);case 4:if(this.dit(n)){t.next=8;break}u=n.Dj,t.next=22;break;case 8:return t.prev=8,t.next=11,this.Knt.do(n.uri,{});case 11:s=t.sent,Hn(i),u=s.PZ,t.next=21;break;case 16:return t.prev=16,t.t0=t.catch(8),n.gY(!1),n.pY(),t.abrupt("return",!1);case 21:n.vY(u,e);case 22:if(!pB(u.fragments[0])){t.next=25;break}return n.disabled="isAAC",t.abrupt("return",!1);case 25:return t.abrupt("return",!0);case 26:case"end":return t.stop()}},t,this,[[8,16]])}));return function(n,i){return t.apply(this,arguments)}}(),i.dit=function(t){var n=t.Dj;return!n||!!n.live&&(!t.Nj.xh||t.Nj.dj(t.Nj.xh-1).Y_+1e3*n.targetDuration<sy())},i.Wm=function(t){t?this.Mm||(this.Mm=!0,this.dispatchEvent("Xh")):this.Mm&&(this.Mm=!1)},i.Qnt=function(t){t&&!this.WQ?(this.WQ=!0,this.dispatchEvent("nl")):!t&&this.WQ&&(this.WQ=!1,this.dispatchEvent("xD"))},i.Gnt=function(t){var n=this,i=this.kJ,r=i.MZ,e=i.UZ.DQ,u=this.ait(e,r),s=this.oit(u,r);s?this.cit(s,null).then(function(r){r&&(i.wZ(s,t),n.Wm(!0))}):this.Wm(!1)},i.lit=function(){this.Wnt=null,this.Gnt(!0)},i.tit=function(){this.kJ.UZ.addEventListener("RQ",this.jnt)},i._it=function(){this.kJ.UZ.removeEventListener("RQ",this.jnt)},i.$nt=function(){this.kJ.UZ.addEventListener("EQ",this.qnt)},i.git=function(){this.kJ.UZ.removeEventListener("EQ",this.qnt)},i.znt=function(t){var n=this.kJ,i=n.UZ.DQ;if(Boolean(n.MZ&&!n.MZ.disabled))this.Wnt=null;else{if(i&&i.length){var r;switch(this.YS.wx.type){case bT.PERFORMANCE:r="low";break;case bT.QUALITY:r="high";break;case bT.BANDWIDTH:r=t}this.Wnt=this.nit(i,r),this.Xnt=!0}var e=this.ait(i,null),u=this.oit(e,null);u&&(n.MZ=u)}},i.uit=function(){return this.Xnt?{R3:this._7.R3}:{R3:this.YS.Ex}},i.ss=function(){this.Unt&&this.Fnt&&(this.Fnt.ss(),this.Unt=null,this.Fnt=null,this.Vnt=null),this.Lnt&&this.Mnt&&(this.Mnt.ss(),this.Lnt=null,this.Mnt=null,this.Hnt=null)},i.Dh=function(){this._7.removeEventListener("w4",this.Ynt),this.git(),this._it(),this.ss(),this.Bnt=null,this.Wnt=null},i.wit=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r,e;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.kJ,n){t.next=3;break}return t.abrupt("return",!1);case 3:return t.next=5,this.cit(n,i);case 5:return(e=t.sent)&&(r.MZ=n),t.abrupt("return",e);case 8:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),T(n,[{key:"Xh",get:function(){return this.Mm}},{key:"nl",get:function(){return this.WQ}},{key:"gnt",get:function(){var t=this.kJ,n=t.MZ,i=this.ait(t.UZ.DQ,n);return this.rit(i,n)}},{key:"_nt",get:function(){return this.ait(this.kJ.UZ.DQ,this.kJ.MZ)}},{key:"eit",get:function(){return this.Bnt},set:function(t){this.Bnt=t,this.lit()}}]),n}(gC),bB=function(){function t(t,n){this.yit=-1,this.ih=t,this.Mw=n}return t.prototype._o=function(t){for(var n=t.Nj,i=n.vj(this.yit),r=i<0?0:i+1;r<n.xh;r++){var e=n.dj(r);if(e.cj>this.yit){var u=this.Mw.I$(e),s=this.Mw.N$(e,u),o=new fv(u.Ik(),s.Ik(),[].concat(e.RY),!1);o.Wh=""+e.cj,this.ih.FA(o),this.yit=e.cj}}},t}(),TB=function(t){function n(n,i,r,e,u,s,o,a,c){var h;return(h=t.call(this,PC.gQ,n,i,r,e,u,s,o,a,c)||this).mit=null,h.kit=null,h.pit=new AB(n,h.Mw,r,s,o,a),h.pit.addEventListener("Xh",h.fs),h.pit.addEventListener("nl",h.fs),h.pit.addEventListener("xD",h.fs),s.manifestMetadataTrack&&(h.mit=n.fZ("",h.Mw,""),h.kit=new bB(h.mit,h.Mw)),h.K7=!h.kJ.EZ||!h.kJ.EZ.uri,h.ttt=Boolean(h.kJ.MZ),h}ct(n,t);var i=n.prototype;return i.Rtt=function(t,n){if("OQ"===t){var i=n?n.uri:void 0;this.K7=!i}},i.Ent=function(){return PC.gQ},i.Snt=function(){return this.Ltt&&this.Ltt.LY||!1},i.Cnt=function(){return this.kJ.MZ},i.Rnt=function(){return this.pit._nt},i.Int=function(){return this.pit.gnt},i.Ont=function(){var t=this.pit.eit;return t&&t.map(function(t){return t.Wh})},i.xnt=function(t){if(t&&t.length>0){var n=this.Dtt.CQ.filter(function(n){return-1!==t.indexOf(n.Wh)});if(!(n.length>0))return void 0;this.pit.eit=n}else this.pit.eit=null},i.nM=function(){return this.pit.Xh},i.Pnt=function(){return this.pit.nl},i.snt=function(){var n=Ct.coroutine(Nt.mark(function n(i,r){return Nt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.pit.wit(i,r);case 2:return n.abrupt("return",t.prototype.snt.call(this,i,r));case 3:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),i.ynt=function(){t.prototype.ynt.call(this),this.pit.ss()},i.VY=function(n){t.prototype.VY.call(this,n),this.kit&&this.kit._o(n)},i.Dh=function(){t.prototype.Dh.call(this),this.pit.Dh(),this.pit.removeEventListener("nl",this.fs),this.pit.removeEventListener("xD",this.fs)},i.Ott=function(t){return t.UZ},i.Ait=function(){var t=this.Hv,n=this.Tnt?this.ytt.O9(t):void 0,i=n?n.yY:void 0,r=this.ptt.O9(t),e=r?r.yY:void 0,u=this.JY;this.JY=i;var s=this.utt;return this.utt=e,!u&&i?{DZ:u,bit:i}:!s&&e?{DZ:s,bit:e}:s&&e&&s.Wh!==e.Wh?{DZ:s,bit:e}:void 0},n}(yB),EB=function(t){function n(n,i,r,e,u,s,o,a,c){var h;return(h=t.call(this,PC.i_,n,i,r,e,u,s,o,a,c)||this).K7=!!h.kJ.EZ&&!!h.kJ.EZ.uri,h.ttt=!1,h}ct(n,t);var i=n.prototype;return i.Rtt=function(t,n){if("OQ"===t){var i=n?n.uri:void 0;this.K7=!!i}},i.Ent=function(){return PC.i_},i.Snt=function(){return this.Ltt&&this.Ltt.LY||!1},i.Cnt=function(){return this.kJ.EZ},i.Rnt=function(){var t=this.Cnt();return t?[t]:[]},i.Int=function(){return this.Rnt()},i.Ott=function(t){return t.fY},i.Ont=function(){return null},i.xnt=function(t){},i.nM=function(){return!0},i.Pnt=function(){return!0},i.Ait=function(){var t=this.Tnt?this.ytt.O9(this.Hv):void 0,n=t?t.yY:void 0,i=this.JY;return this.JY=n||void 0,!i&&n?{DZ:i,bit:n}:i&&n&&i.Wh!==n.Wh?{DZ:i,bit:n}:void 0},n}(yB),SB=function(){function t(t,n,i,r,e,u){var s=this;this.Tit=!1,this.Eit=tf.bm(),this.Sit=[],this.Rit=[],this.HY=function(){return s.Iit()},this.Nit=function(t){t.PZ.live||s.Cit.removeEventListener(s.Aj.nQ,s.Nit),s.Aj.vY(t.PZ)},this.Dit=function(){s.Aj.GY.nf===ua.Zh?s.Tit&&s.Oit():s.Tit||s.xit()},this.Aj=t,this.Cit=n,this.V2=i,this.H2=u,this.Pit=new CD(r,e),this.Bit=new Mn,t.GY.ls(Co.lh,this.Dit),t.Mw&&t.Mw.addEventListener("jY",this.HY),this.Dit()}var n=t.prototype;return n.xit=function(){this.Tit||this.Aj.GY.nf===ua.Zh||(this.Cit.removeEventListener(this.Aj.nQ,this.Nit),this.Cit.addEventListener(this.Aj.nQ,this.Nit),this.Cit.r9(this.Aj.nQ),this.Cit.e9(this.Aj.nQ),this.Tit=!0,Qn(this.Lit(this.Bit.cs)))},n.Lit=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i,r,e,u,s,o,a,c,h,f,v=this;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.V2.j2,r=this.H2.q2,e=new tf([i,i+r]),(u=e.$y(this.Eit.tm())).xh){t.next=16;break}return t.prev=6,t.next=9,Jn(1e3,n);case 9:t.next=15;break;case 11:return t.prev=11,t.t0=t.catch(6),Xn(t.t0),t.abrupt("return");case 15:return t.abrupt("return",this.Lit(n));case 16:if(s=u.Ly(0),o=this.Mit(s)){t.next=30;break}return a=this.Aj,t.prev=20,t.next=23,Ua(a,"wY",n);case 23:t.next=29;break;case 25:return t.prev=25,t.t1=t.catch(20),Xn(t.t1),t.abrupt("return");case 29:return t.abrupt("return",this.Lit(n));case 30:c=o._g,h=o.U8.Ik(),f=h+c.duration,this.Pit.do("GY",c.uri,Yd.yn,function(){var t=Ct.coroutine(Nt.mark(function t(i,r){var e,u,s,o,a,d;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!i){t.next=3;break}throw Jn(1e3,n).then(function(){return v.Lit(n)}),i;case 3:for(v.Eit=v.Eit.sm(new tf([h,f])),v.Sit.push(c.cj),e=$v(r.NA),u=e.Dp||{Op:Cv.rc,xp:Cv.rc},s=v.Aj.Nj.lj(c.cj),o=0,a=e.rf;o<a.length;o++)d=a[o],v.Rit.push({qY:s,U8:RB(Cv.ap(d.Km),u.xp,u.Op),Uit:RB(Cv.ap(d.$m),u.xp,u.Op),Jm:d});return v.Iit(),t.next=12,v.Lit(n);case 12:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}());case 34:case"end":return t.stop()}},t,this,[[6,11],[20,25]])}));return function(n){return t.apply(this,arguments)}}(),n.Iit=function(){var t=this.Aj.Mw;if(this.Rit.length&&t){for(var n=[],i=0,r=this.Rit;i<r.length;i++){var e=r[i],u=t.O$(e.qY,e.U8);if(u.Ok())n.push(e);else{var s=t.O$(e.qY,e.Uit),o=new dv(u.Ik(),s.Ik(),e.Jm.tk,!1,e.Jm.Wh);this.Aj.GY.FA(o)}}this.Rit=n,this.Aj.GY.RF(this.V2.j2,!0)}},n.Mit=function(t){var n=this.Aj.Mw,i=this.Aj.Nj;if(n.O8)for(var r=n.X8.Ik(),e=i.xh-1;e>=0;e-=1){var u=i.dj(e),s=r-u.duration;if(new tf([s,r]).Jy(t,.5)){var o={_g:u,U8:Cv.ap(s)};return this.Fit(i,o,e)}r=s}else for(var a=0,c=0;c<i.xh;c+=1){var h=i.dj(c),f=a+h.duration;if(new tf([a,f]).Jy(t,.5)){var v={_g:h,U8:Cv.ap(a)};return this.Fit(i,v,c)}a=f}},n.Fit=function(t,n,i){var r=n._g;if(-1===this.Sit.indexOf(r.cj))return n;for(var e=n.U8.Ik()+r.duration,u=i+1;u<t.xh;u+=1){var s=t.dj(u);if(-1===this.Sit.indexOf(s.cj))return{_g:s,U8:Cv.ap(e)};e+=s.duration}},n.Oit=function(){this.Tit=!1,this.Cit.i9(this.Aj.nQ),this.Bit.ss(),this.Bit=new Mn},n.Ch=function(){this.Oit(),this.Eit=tf.bm(),this.Sit.length=0,this.Aj.GY.ys(Co.lh,this.Dit),this.Aj.Mw&&this.Aj.Mw.removeEventListener("jY",this.HY),this.Cit.removeEventListener(this.Aj.nQ,this.Nit)},t}();function RB(t,n,i){return Hv(i,t.Ka(n))}var IB=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).Hit=NaN,u.Vit=!1,u.Xit=1/0,u.Wit=1/0,u.qit=null,u.zit=!0,u.Git=!0,u.E9=null,u.jit=void 0,u.Qit=void 0,u.Yit=[],u.sZ=function(){var t=u.kJ.Vv;m(t)||u.Hit===t||(u.Hit=t,u.dispatchEvent("durationchange"))},u.Zit=function(){u.EJ&&(u.kJ.removeEventListener("renditionUpdated",u.Zit),u.dispatchEvent("EJ"))},u.Jit=function(){u.dnt&&u.dispatchEvent("dnt")},u.Kit=function(){u.zJ&&u.dispatchEvent("zJ")},u.fs=function(t){u.dispatchEvent(t)},u.$it=function(t){var n=u.kJ.mZ(t.K6);n?n instanceof QC&&(n.gY(!1),n.pY()):u.dispatchEvent(t)},u.trt=function(t){u.kJ.PZ||(t.Is.code===yC.YG?(u.qit||(u.qit=c(u.nrt,tw)),u.Git=!1,u.bY()):u.dispatchEvent({type:"Is",Is:t.Is}))},u.irt=function(t){u.rrt(),u.ert(t.PZ),u.urt(),u.kJ.removeEventListener("bZ",u.sZ),u.kJ.addEventListener("bZ",u.sZ),u.sZ(),u.Vit||(u.Vit=!0,u.dispatchEvent("loadedmetadata")),u.Zit(),u.Git=!0,u.bY()},u.nrt=function(){u.rrt();var t=u.GJ;t&&(u.Ntt.Ch(),u.Ntt.GJ=t,u.Ntt.Ly())},u.ort=function(){u.Ntt.u9()},u.art=function(){u.crt.forEach(function(t){return t.Ant()})},u.hrt=function(t){u.frt.forEach(function(n){return n.Ytt(t.yY)})},u.vrt=function(t){u.crt.forEach(function(n){return n.Ztt(t.v2)}),u.drt.d9(t.v2,u.crt.map(function(t){return t.Mw}))},u.bY=function(){var t=u.zit,n=u.Pnt();u.zit=n,n&&!t?u.dispatchEvent("nl"):!n&&t&&u.dispatchEvent("xD")},u.YS=e,u.Wg=n,u.WJ=i,u.PA=r,u._7=new Tx(n,i,r,vt(u)),u.Ctt=new sP(n),u.kJ=new ZC(n),u.Ntt=new IP(r,n),u.drt=new NP,u.Ntt.addEventListener("Is",u.$it),u.Ntt.addEventListener("J6",u.trt),u.Ntt.addEventListener("t9",u.irt),u._7.addEventListener("v4",u.fs),u._7.addEventListener("Is",u.fs),u.kJ.addEventListener("CZ",u.fs),u.kJ.addEventListener("wY",u.hrt),u.kJ.addEventListener("YY",u.vrt),u.kJ.addEventListener("OZ",u.fs),u.drt.addEventListener("a9",u.fs),u.drt.addEventListener("a9",u.art),u.addEventListener("nl",u.ort),u}ct(n,t);var i=n.prototype;return i.lrt=function(t){t.Nnt=this.Nnt,t.addEventListener("Htt",this.fs),t.addEventListener("_rt",this.fs),t.addEventListener("Is",this.fs),t.addEventListener("ant",this.fs),t.addEventListener("qJ",this.fs),t.addEventListener("dnt",this.Jit),t.addEventListener("zJ",this.Kit),t.addEventListener("xD",this.bY),t.addEventListener("nl",this.bY),t.addEventListener("Xh",this.fs),t.addEventListener("NJ",this.fs),t.addEventListener(pa.Qf,this.fs),t.addEventListener(pa.Zf,this.fs)},i.urt=function(){this.grt();this.kJ.UZ.CQ;var t=this.kJ.fY.CQ;this.jit=new TB(this.kJ,this.Ntt,this._7,this.Ctt,this.E9,this.Wg,this.PA,this.YS,this),this.lrt(this.jit),t.length&&(this.Qit=new EB(this.kJ,this.Ntt,this._7,this.Ctt,this.E9,this.Wg,this.PA,this.YS,this),this.lrt(this.Qit));for(var n=this.kJ.FZ,i=this.jit.Mw,r=0;r<n.length;r++){var e=n[r];e.Mw=i,this.Yit.push(new SB(e,this.Ntt,this.E9,this.PA,this.Wg,this))}},i.grt=function(){this.jit&&(this.jit.Dh(),this.jit=void 0),this.Qit&&(this.Qit.Dh(),this.Qit=void 0),this.Yit.forEach(function(t){return t.Ch()}),this.Yit.length=0,this.drt.Ch()},i.wrt=function(t){this.crt.forEach(function(n){return n.wnt(t)})},i.ert=function(t){this.kJ.PZ=t},i.yrt=function(){this.Ntt.Ly()},i.mrt=function(t){this.drt.l9(t,this.crt.map(function(t){return t.Mw}))||this.crt.forEach(function(t){t.Utt(),t.pnt()})},i.Oit=function(){this._7.a4(),this.crt.forEach(function(t){return t.ynt()})},i.JJ=function(){this._7.a4(),this.crt.forEach(function(t){return t.mnt()})},i.QJ=function(){this.crt.forEach(function(t){return t.knt()})},i.Dh=function(){this.gs(),this.rrt(),this.grt(),this._7.Dh(),this.Ctt.Dh(),this.kJ.Dh(),this.Ntt.Ch(),this.drt.Dh()},i.krt=function(t,n,i,r){var e=this.jit,u=this.Qit;t&&(e.ynt(),this._7.Fs(e.og),e.wnt(r)),n&&u&&(u.ynt(),this._7.Fs(u.og),i&&u.wnt(r))},i.prt=function(){if(!this.jit)return QD;var t=this.jit;return lO(t.Mw,this._7.i3(t.og))},i.n9=function(t,n,i){var r=this,e=n?n.uri:void 0,u=i?i.uri:void 0,s=function t(n){n.PZ.live||r.Ntt.removeEventListener(u,t),i&&i.vY(n.PZ)};u&&(this.Ntt.removeEventListener(u,s),this.Ntt.addEventListener(u,s)),this.Ntt.n9(e,u),this.Ntt.e9(u)},i.rrt=function(){null!==this.qit&&h(this.qit),this.qit=null},i.Pnt=function(){return!!this.Git&&(!this.jit||this.jit.nl)},i.nK=function(t){this.jit&&(this.jit.Dnt=t)},i.Ch=function(){this.frt.forEach(function(t){return t.Ch()}),this.Yit.forEach(function(t){return t.Ch()})},T(n,[{key:"Art",get:function(){return this.jit}},{key:"brt",get:function(){return this.Qit}},{key:"crt",get:function(){var t=[];return this.jit&&t.push(this.jit),this.Qit&&this.Qit.Tnt&&t.push(this.Qit),t}},{key:"frt",get:function(){return[this.jit,this.Qit].filter(M)}},{key:"q2",get:function(){return Gs(this.YS._x*this._7.z2,1,this.Trt)}},{key:"GJ",get:function(){return this.Ntt.GJ},set:function(t){this.Hit=NaN,this.Xit=1/0,this.Vit=!1,this.zit=!0,this.Git=!0,this.kJ.removeEventListener("renditionUpdated",this.Zit),this.kJ.removeEventListener("bZ",this.sZ),this.rrt(),this.grt(),this._7.Fs(),this.Ctt.ss(),this.kJ.Dh(),this.kJ.addEventListener("renditionUpdated",this.Zit),this.Ntt.GJ=t,this.bY()}},{key:"Vv",get:function(){return this.Hit}},{key:"O8",get:function(){return this.kJ&&LC.pQ(this.kJ.PY)}},{key:"nl",get:function(){return this.zit}},{key:"EJ",get:function(){var t=this.crt;return t.length>0&&t.every(function(t){return t.LY})}},{key:"z2",get:function(){return this._7.z2},set:function(t){t>0&&(this._7.z2=t)}},{key:"dnt",get:function(){return this.crt.every(function(t){return t.dnt})}},{key:"zJ",get:function(){return this.crt.length>0&&this.crt.every(function(t){return t.zJ})}},{key:"Trt",get:function(){return this.Wit},set:function(t){this.Wit=t}},{key:"Nnt",get:function(){return this.Xit},set:function(t){var n=this;this.Xit=t,this.frt.forEach(function(t){return t.Nnt=n.Xit})}},{key:"sl",get:function(){return this.EJ?new jD([{Ly:this.V8,Uy:this.X8}]):QD}},{key:"V8",get:function(){if(!this.EJ)return 0;for(var t=-1/0,n=0,i=this.crt;n<i.length;n++){var r=i[n];t=g.max(t,r.Mw.V8.Ik())}return t}},{key:"X8",get:function(){if(!this.EJ)return 0;for(var t=1/0,n=0,i=this.crt;n<i.length;n++){var r=i[n];t=g.min(t,r.Mw.X8.Ik())}return t}},{key:"W8",get:function(){if(!this.EJ)return 0;for(var t=1/0,n=0,i=this.crt;n<i.length;n++){var r=i[n];t=g.min(t,r.Mw.W8.Ik())}return g.max(t,this.V8)}},{key:"tK",get:function(){return this.jit&&this.jit.Dnt||void 0}}]),n}(gC),NB=function(t){function n(n,i){var r;return(r=t.call(this)||this).Hit=NaN,r.Vit=!1,r.qit=null,r.zit=!0,r.mit=null,r.kit=null,r.fs=function(t){r.dispatchEvent(t)},r.ert=function(t){if(r.kJ.PZ||(r.kJ.PZ=r.Ert.LZ||null),!r.kJ.MZ){var n=r.kJ.UZ.CQ[0];n&&(r.kJ.MZ=n,r.Ert.Q6(n),r.dispatchEvent({type:"Srt",yY:n}))}t.manifest.isMasterPlaylist||r.kJ.MZ.vY(t.manifest),void 0!==t.manifest.duration&&r.Hit!==t.manifest.duration&&(r.Hit=t.manifest.duration,r.dispatchEvent("durationchange")),r.Vit||(r.Vit=!0,r.dispatchEvent("loadedmetadata")),r.Qnt(!0),r.dispatchEvent({type:"j6",manifest:t.manifest})},r.trt=function(t){t.Is.code===yC.YG?(r.qit||(r.qit=c(r.nrt,tw)),r.Qnt(!1)):r.dispatchEvent({type:"Is",Is:t.Is})},r.nrt=function(){r.rrt();var t=r.GJ;t&&r.Ert.Ly(t)},r.rrt=function(){h(r.qit),r.qit=null},r.hrt=function(t){var n=t.yY;r.Mw.R8(n,n.Dj),r.Wg.manifestMetadataTrack&&(r.kit||(r.mit=r.kJ.fZ("",r.Mw,""),r.kit=new bB(r.mit,r.Mw)),r.kit._o(n))},r.Wg=n,r.kJ=new ZC(n,!0),r.Mw=new QP(n),r.Ert=new RP(i,r.Wg),r.Mw.addEventListener("Is",r.fs),r.Ert.addEventListener("j6",r.ert),r.Ert.addEventListener("Is",function(t){r.kJ.PZ?(r.qit||(r.qit=c(r.nrt,tw)),r.Qnt(!1)):r.trt(t)}),r.kJ.addEventListener("wY",r.hrt),r}ct(n,t);var i=n.prototype;return i.yrt=function(){this.kJ.PZ||this.Ert.Ly()},i.prt=function(){return QD},i.Qnt=function(t){var n=this.zit;this.zit=t,t&&!n?this.dispatchEvent("nl"):!t&&n&&this.dispatchEvent("xD")},i.Dh=function(){this.gs(),this.rrt(),this.kJ.Dh(),this.Ert.Dh(),this.kit=null,this.Mw.Dh()},i.JJ=function(){},i.QJ=function(){},i.wrt=function(t){},i.nK=function(t){},T(n,[{key:"GJ",get:function(){return this.Ert.GJ},set:function(t){this.Hit=NaN,this.Vit=!1,this.rrt(),this.kJ.Dh(),this.kit=null,this.Ert.GJ=t,this.Qnt(!0)}},{key:"Vv",get:function(){return this.Hit}},{key:"O8",get:function(){return this.kJ&&LC.pQ(this.kJ.PY)}},{key:"nl",get:function(){return this.zit}},{key:"zJ",get:function(){return!1}},{key:"dnt",get:function(){return!1}},{key:"tK",get:function(){return[]}}]),n}(gC),CB=1e3,DB="VEE3",OB=function(t){function n(n){var i;return(i=t.call(this,"Rrt")||this).ptsOffset=n,i}return ct(n,t),n}(ei),xB=function(t){function n(n){var i;return(i=t.call(this)||this).Irt=null,i.Nrt=0,i.Crt="now",i.Drt=1,i.Ort=!1,i.xrt=!1,i.Prt=0,i.Brt=null,i.Lrt=null,i.Mrt=null,i.Urt=null,i.c9=0,i.Frt=0,i.initializePromiseAbortController=new Mn,i.Hrt=new qr,i.Vrt={},i.Xrt=!1,i.Wrt=null,i.qrt=NaN,i.Ftt=function(){i.GZ.crt.map(function(t){t.Ftt()})},i.Ait=function(){for(var t,n,r,e=0,u=i.GZ.frt;e<u.length;e++){var s=u[e],o=s.Ait();if(o){var a=o.bit;a&&a.xY!==BC.i_&&(i.Wrt=a)}s.og===PC.i_?t=o:s.og===PC.gQ&&(n=o,r=s)}(t||n)&&i.dispatchEvent({type:"CZ",zrt:t&&t.DZ,rJ:t&&t.bit,oJ:n&&n.DZ,iJ:n&&n.bit,tJ:!!r&&r.Tnt})},i.Vtt=function(){null!==i.Brt&&h(i.Brt),i.Brt=c(i.Vtt,CB),i.GZ.crt.forEach(function(t){return t.Vtt()})},i.qtt=function(){null!==i.Lrt&&h(i.Lrt),i.Ort&&(i.Lrt=c(i.qtt,CB),i.GZ.crt.forEach(function(t){return t.qtt()}))},i.Wtt=function(){i.GZ.crt.forEach(function(t){return t.Wtt()})},i.Grt=function(){if(i.GZ.O8&&i.Gv>1){var t=i.GZ.W8;i.jrt>t&&(i.Gv=1,i.jrt>=t+1&&(i.jrt="now"))}},i.Qrt=function(){i.Irt&&(0===i.Irt.Yrt()?i.jrt="now":i.jrt=i.Zrt(i.j2))},i.Jrt=function(){i.Prt=i.j2},i.Krt=function(t){i.$rt(),i.Irt.error&&(t.error.info.code===DB&&i.Frt<nw?(i.Frt+=1,i.tet()):i.dispatchEvent({type:"Is",error:t.error}))},i.net=function(){i.Frt=0},i.iet=function(){i.removeEventListener("ret",i.eet),i.Ort?i.eet():i.addEventListener("ret",i.eet)},i.eet=function(){var t=i.j2;i.GZ.removeEventListener("EJ",i.iet),i.GZ.EJ?i.GZ.crt.forEach(function(n){return n.Gtt(t)}):(i.GZ.addEventListener("EJ",i.iet),i.GZ.yrt())},i.uet=function(){var t=i.j2;i.GZ.frt.forEach(function(n){return n.ztt(t,i.GZ.O8)})},i.oet=function(){null!==i.Brt&&h(i.Brt),i.Brt=null,null!==i.Lrt&&h(i.Lrt),i.Lrt=null},i.aet=function(){i.cet(),i.GZ.EJ?i.jJ():(i.GZ.addEventListener("EJ",i.aet),i.GZ.yrt())},i.cet=function(){i.GZ.removeEventListener("EJ",i.aet)},i.XZ=function(t){i.GZ.n9(t.xY,t.DZ||void 0,t.yY||void 0),t.OZ&&i.het(t.xY,t.DZ,t.yY)},i.fet=function(t){var n=t.c9-i.c9;g.abs(n)>$g&&(i.c9=t.c9,i.j2=i.j2+n)},i.vet=function(t){var n=t.qY.metadata;n.OY&&(i.Vrt[t.og]=n.OY,i.det())},i.det=function(){if(i.GZ.EJ){var t=_.keys(i.Vrt).length===i.GZ.crt.length;if(i.Irt&&!i.Irt.let&&t){var n=i.Hrt;i._et().then(function(){return n.Js()},function(t){return n.Ks(t)})}i.Irt&&i.c9&&(i.Irt.c9=i.c9)}},i.wet=function(){if(m(i.yet))if(i.GZ.O8)i.yet=0;else{var t=i.Wrt,n=t&&t.BY,r=t&&M(n)&&!m(n)&&t.Oj(n)||void 0;i.yet=HC(r)?r._2.Ik():NaN}i.CJ&&(i.removeEventListener("CZ",i.wet),i.GZ.removeEventListener("v4",i.wet),i.dispatchEvent("CJ",!0))},i.GZ=n,n.E9=vt(i),i}ct(n,t);var i=n.prototype;return i.tet=function(){this.GZ.O8?this.jrt="now":(this.Prt+=.5,this.GZ.crt.map(function(t){t.Utt(),t.jtt(),t.Qtt()}),this.jrt=this.Prt),this.det(),this.Irt.play()},i.met=function(t){var n=this;this.Mrt&&(this.GZ.removeEventListener("EJ",this.Mrt),this.Mrt=null),this.GZ.EJ?(this.xrt=!0,this.Xrt=!0,this.GZ.mrt(t),this.Xrt=!1):(this.Mrt=function(){return n.met(t)},this.GZ.yrt())},i.ket=function(t){this.pet(),this.GZ.O8&&(t="none"),"auto"===t&&this.aet()},i.Aet=function(t){var n=this;this.pet(),"none"!==t&&(this.GZ.EJ?this.ket(t):(this.Urt=function(){return n.ket(t)},this.GZ.addEventListener("EJ",this.Urt),this.GZ.yrt()))},i.pet=function(){this.cet(),this.Urt&&(this.GZ.removeEventListener("EJ",this.Urt),this.Urt=null)},i.jJ=function(){this.xrt?this.GZ.wrt():(this.jrt=this.Crt,this.GZ.wrt(22)),this.Ort||(this.Ort=!0,this.dispatchEvent("ret"))},i.bet=function(){this.Irt&&(this.Irt.addEventListener("Tet",this.uet),this.Irt.addEventListener("seeking",this.iet),this.Irt.addEventListener("error",this.Krt),this.Irt.addEventListener("playing",this.net)),this.GZ.addEventListener("CZ",this.XZ),this.GZ.addEventListener("ant",this.Qrt),this.GZ.addEventListener("EJ",this.det),this.GZ.addEventListener("a9",this.fet),this.GZ.addEventListener("Xh",this.iet),this.KJ()},i.Eet=function(){this.Irt&&(this.Irt.removeEventListener("Tet",this.uet),this.Irt.removeEventListener("seeking",this.iet),this.Irt.removeEventListener("error",this.Krt),this.Irt.removeEventListener("playing",this.net)),this.GZ.removeEventListener("CZ",this.XZ),this.GZ.removeEventListener("ant",this.Qrt),this.GZ.removeEventListener("EJ",this.det),this.GZ.removeEventListener("a9",this.fet),this.GZ.removeEventListener("Xh",this.iet),this.$J()},i.KJ=function(){this.Irt&&(this.Irt.addEventListener("loadstart",this.aet),this.Irt.addEventListener("timeupdate",this.Ftt),this.Irt.addEventListener("playing",this.Ait),this.Irt.addEventListener("timeupdate",this.Ait),this.Irt.addEventListener("timeupdate",this.qtt),this.Irt.addEventListener("timeupdate",this.Vtt),this.Irt.addEventListener("timeupdate",this.Jrt),this.Irt.addEventListener("timeupdate",this.Grt),this.Irt.addEventListener("ended",this.oet)),this.GZ.addEventListener("v4",this.vet),this.GZ.addEventListener("v4",this.Wtt)},i.$J=function(){null!==this.Brt&&h(this.Brt),null!==this.Lrt&&h(this.Lrt),this.Irt&&(this.Irt.removeEventListener("loadstart",this.aet),this.Irt.removeEventListener("timeupdate",this.Ftt),this.Irt.removeEventListener("playing",this.Ait),this.Irt.removeEventListener("timeupdate",this.Ait),this.Irt.removeEventListener("timeupdate",this.qtt),this.Irt.removeEventListener("timeupdate",this.Vtt),this.Irt.removeEventListener("timeupdate",this.Jrt),this.Irt.removeEventListener("timeupdate",this.Grt),this.Irt.removeEventListener("ended",this.oet)),this.GZ.removeEventListener("v4",this.vet),this.GZ.removeEventListener("v4",this.Wtt)},i.S9=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Wn(this.Hrt.Zs,this.initializePromiseAbortController.cs);case 2:return i=this.Irt.S9(n),this.Irt.loading&&(this.Irt.loaded=!0,this.Irt.loading=!1),t.next=6,i;case 6:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.ZL=function(t,n){this.Ret.ZL(t,n)},i.Mtt=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Wn(this.Hrt.Zs,this.initializePromiseAbortController.cs);case 3:return t.next=5,this.Irt.Mtt(n,i);case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),Fn(t.t0)||this.dispatchEvent({type:"Is",error:t.t0});case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(n,i){return t.apply(this,arguments)}}(),i._et=function(){var t=Ct.coroutine(Nt.mark(function t(){var n,i,r,e;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Irt._et(this.Vrt,this.GZ.Vv);case 2:if(n=t.sent){t.next=5;break}return t.abrupt("return");case 5:for(i=0,r=this.GZ.frt;i<r.length;i++)e=r[i],n.OQ&&(e.gtt=n.OQ),n.xQ&&(e.ktt=n.xQ);case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.$rt=function(){this.initializePromiseAbortController.ss(),this.initializePromiseAbortController=new Mn,this.Hrt=new qr},i.Zrt=function(t){var n=this.sl;return n.length?Gs(t,n.start(0),n.end(n.length-1)):0},i.Jtt=function(t){var n=this.GZ.Art;return n?n.Jtt(t):null},i.F8=function(t){var n=this.GZ.Art;return n?n.F8(t):NaN},i.do=function(t){var n=t||"none";this.Eet(),this.bet(),this.Aet(n)},i.ZJ=function(){this.pet()},i.Dh=function(){this.gs(),this.Vrt={},this.Ret=null},i.Ch=function(){this.$rt(),this.Iet(),this.Vrt={},this.Nrt=0,this.Prt=0,this.Crt="now",this.c9=0,this.Drt=1,this.Ort=!1,this.xrt=!1,this.Wrt=null,this.GZ.Ch()},i.het=function(t,n,i){if(n){this.dispatchEvent("DJ"),this.$J();var r=!1,e=!1,u=!1;if("xQ"===t){e=!0;var s=this.GZ.Art;s&&s.Tnt&&(r=!0)}else r=!0,u=!(!i||!i.uri);r&&this.Irt.OZ("audio"),e&&this.Irt.OZ("video"),this.GZ.frt.forEach(function(t){t.Utt(),r&&t.jtt(),e&&t.Qtt()}),this.GZ.krt(e,r,u,22),this.GZ.frt.forEach(function(t){return t.Xtt()}),this.KJ()}},i.bd=function(){this.$J(),this.GZ.O8&&this.GZ.Oit()},i.Ad=function(){this.$J(),this.KJ(),this.GZ.QJ()},i.Net=function(t){var n=this.yet||0;return this.UY?t-n<0?0:g.round((t-n)*this.UY-.5)||0:NaN},i.Cet=function(t){var n=this.yet||0;return this.UY?n+(t+.5)/this.UY:NaN},i.Iet=function(){this.yet=NaN,this.removeEventListener("CZ",this.wet),this.addEventListener("CZ",this.wet),this.GZ.removeEventListener("v4",this.wet),this.GZ.addEventListener("v4",this.wet)},T(n,[{key:"Ret",get:function(){return this.Irt},set:function(t){this.Eet(),this.$rt(),this.net(),this.Irt=t,this.det()}},{key:"j2",get:function(){return this.Irt&&!this.Xrt?this.Irt.Yrt():this.Nrt},set:function(t){t=this.Zrt(t),this.Prt=this.Nrt=t,this.Irt?this.Irt.Det(t):(this.uet(),this.iet())}},{key:"jrt",get:function(){return this.Irt&&!this.Xrt?this.j2:this.Crt},set:function(t){"now"===t&&(t=this.GZ.O8?1/0:0),t=this.Zrt(t),this.Crt=t,this.Prt=this.Nrt=t,this.met(Cv.ap(this.Nrt)),this.j2=t}},{key:"$m",get:function(){return this.GZ.Nnt},set:function(t){this.GZ.Nnt=t}},{key:"Gv",get:function(){return this.Irt?this.Irt.Gv:this.Drt},set:function(t){var n=this.Drt;t>0&&(this.Drt=t,this.Irt&&(this.Irt.Gv=t),this.GZ.z2=t,this.Drt!==n&&this.dispatchEvent("Oet"))}},{key:"sl",get:function(){var t=this.GZ.sl;if(!t.length||!this.GZ.O8)return t;var n=t.start(0),i=this.GZ.W8;return i=g.max(this.j2,i),new jD([{Ly:n,Uy:i}])}},{key:"qd",get:function(){return this.Jtt(this.j2)}},{key:"UY",get:function(){var t=this.Wrt;return t&&t.UY||NaN}},{key:"yet",get:function(){return this.qrt},set:function(t){this.qrt!==t&&(this.dispatchEvent(new OB(t)),this.qrt=t)}},{key:"CJ",get:function(){return Boolean(this.UY)&&!m(this.yet)}}]),n}(gC),PB=function(t){function n(n){var i;return(i=t.call(this)||this).xet=null,i.Pet=[],i.Bet=function(t){return i.Let(t)},i.Met=function(){return i.Uet()},i.kJ=n,i.Pet=[],i}ct(n,t);var i=n.prototype;return i.LA=function(t){var n,i;"metadata"===t.kind&&(t.mode=ua.Jh,n=this.kJ.cZ(t.id,t.inBandMetadataTrackDispatchType),i=this.Fet.bind(this,n),this.Pet.push({Het:t,Vet:i,GY:n}),t.addEventListener("cuechange",i))},i.JA=function(){for(var t=this.xet.pd,n=t&&t.length,i=0;i<n;i+=1)this.LA(t[i]);t&&t.addEventListener&&(t.addEventListener("addtrack",this.Bet),t.addEventListener("change",this.Met))},i.Fet=function(t,n){for(var i=n.target.activeCues,r=i.length,e=r?i[0].startTime:0,u=0;u<r;u++){var s=uI(i[u].value),o=new dI(e,s);t.FA(o)}},i.Uet=function(){for(var t=0,n=this.Pet;t<n.length;t++){var i=n[t].Het;i.mode!==ua.Jh&&(i.mode=ua.Jh)}},i.Let=function(t){this.LA(t.track)},i.Xet=function(){for(var t=this.xet,n=t&&t.pd,i=0,r=this.Pet;i<r.length;i++){var e=r[i];e.Het.removeEventListener("cuechange",e.Vet)}this.Pet.length=0,n&&n.removeEventListener&&(n.removeEventListener("addtrack",this.Bet),n.removeEventListener("change",this.Met))},i.Dh=function(){this.Xet(),this.xet=null,this.kJ=null,this.Bet=null,this.Met=null},i.Ch=function(){this.Xet(),this.xet&&this.JA()},n}(gC),BB=function(t){function n(n){var i;return(i=t.call(this)||this).Irt=null,i.Crt=0,i.Drt=1,i.xD=!1,i.Wet=null,i.qet=null,i.zet=NaN,i.Get=NaN,i.jet=null,i.Qet=function(){i.Irt.removeEventListener("loadstart",i.Qet),i.Irt.removeEventListener("play",i.Qet),i.GZ.yrt()},i.Ftt=function(){var t=i.GZ.kJ.MZ;if(t&&(!i.Wet||i.Wet.Ly>i.j2||i.Wet.Uy<i.j2)){var n=i.GZ.Mw.x4(t,Cv.ap(i.j2));if(!n)return void i.Irt.addEventListener("timeupdate",i.Ftt);i.Wet={Ly:n.U8.Ik(),Uy:n.U8.qa(Cv.ap(n._g.duration)).Ik(),cj:n._g.cj,IY:null},i.dispatchEvent({type:"Htt",Up:n._g})}},i.Ait=function(){var t=i.GZ.kJ,n=t.UZ.CQ.length?t.UZ.CQ:t.fY.CQ,r=i.Irt.Yv,e=i.Irt.Qv,u=n&&n.filter(function(t){var n=t.resolution;return n&&n.width===r&&n.height===e}),s=u&&u.length?u[0]:null;s!==i.qet&&(i.qet=s,i.dispatchEvent({type:"CZ",yY:s}))},i.Yet=function(t){i.dispatchEvent({type:"CZ",yY:t.yY})},i.Zet=function(){if(i.Irt){var t=i.Irt.sl,n=t.length?t.end(t.length-1):NaN;isFinite(n)&&n!==i.Get&&(i.Get=n,i.zet=sy())}},i.Jet=function(){i.xD=!0},i.Ket=function(){i.xD&&(i.xD=!1,i.$et())},i.GZ=n,i.tut=new PB(n.kJ),n.addEventListener("xD",i.Jet),n.addEventListener("nl",i.Ket),i}ct(n,t);var i=n.prototype;return i.Zrt=function(t){var n=this.Irt.sl;return n.length?Gs(t,n.start(0),n.end(n.length-1)):0},i.$et=function(){if(this.Irt){var t=this.Irt.currentTime,n=this.Irt.paused;this.Irt.load(),this.Irt.currentTime=t,n||this.Irt.play()}},i.nut=function(){this.Irt&&(this.Irt.addEventListener("loadstart",this.Qet),this.Irt.addEventListener("play",this.Qet),this.Irt.addEventListener("timeupdate",this.Ftt),this.Irt.addEventListener("timeupdate",this.Ait),v(this.jet),this.jet=f(this.Zet,250))},i.iut=function(){v(this.jet),this.Irt&&(this.Irt.removeEventListener("loadstart",this.Qet),this.Irt.removeEventListener("play",this.Qet),this.Irt.removeEventListener("timeupdate",this.Ftt),this.Irt.removeEventListener("timeupdate",this.Ait))},i.do=function(t){t=t||"none",this.iut(),this.nut(),this.GZ.removeEventListener("Srt",this.Yet),this.GZ.addEventListener("Srt",this.Yet),"none"!==t&&this.Qet()},i.Dh=function(){this.gs(),this.tut.Dh(),this.Ret=null,this.GZ.removeEventListener("Srt",this.Yet)},i.Ch=function(){this.Crt=0,this.Drt=1,this.xD=!1,this.Wet=null,this.qet=null,this.zet=NaN,this.Get=NaN,v(this.jet),this.tut.Ch()},i.Ad=function(){},i.bd=function(){},i.ZJ=function(){},i.het=function(){},i.F8=function(t){var n=this.GZ.kJ.MZ;return this.GZ.Mw.F8(n,t).Ik()},i.Jtt=function(t){var n,i,r=this.GZ.kJ.MZ,e=this.GZ.Mw,u=t,s=this.Wet;if(s)s.IY||(s.IY=e.M8(r,s.cj)),n=s.Ly,i=s.IY;else{var o=e.x4(r,Cv.ap(u));if(!o)return null;n=o.U8.Ik(),i=e.M8(r,o._g.cj)}if(!i)return null;var a=u-n;return new Date(i.getTime()+1e3*a)},i.Net=function(t){return NaN},i.Cet=function(t){return NaN},T(n,[{key:"rut",get:function(){return null}},{key:"qd",get:function(){return this.Jtt(this.j2)}},{key:"Ret",get:function(){return this.Irt},set:function(t){this.iut(),this.Irt=t,this.Irt&&(this.tut.xet=this.Irt,this.tut.JA())}},{key:"jrt",get:function(){return this.Irt?this.Irt.Yrt():this.Crt},set:function(t){"now"===t&&(t=this.GZ.O8?1/0:0),t=this.Zrt(t),this.Crt=t,this.Irt&&this.Irt.Det(t)}},{key:"j2",get:function(){return this.jrt},set:function(t){t=this.Zrt(t),this.jrt=t}},{key:"$m",get:function(){return 1/0},set:function(t){}},{key:"Gv",get:function(){return this.Irt?this.Irt.Gv:this.Drt},set:function(t){t>0&&(this.Drt=t,this.Irt&&(this.Irt.Gv=t))}},{key:"sl",get:function(){var t,n,i,r=this.Irt?this.Irt.sl:null,e=this.GZ.Mw.sl;if(r&&r.length&&e.length)t=r.start(0),n=(i=this.Get||r.end(r.length-1))+this.GZ.Mw.q8.Ik(),isFinite(this.zet)&&(i+=(sy()-this.zet)/1e3);else{if(r&&r.length)return r;if(!e.length)return e;t=r.start(0),n=e.end(e.length-1),i=this.GZ.Mw.W8.Ik()}return i=g.min(n,i),i=g.max(this.j2,i),new jD([{Ly:t,Uy:i}])}},{key:"UY",get:function(){return NaN}},{key:"yet",get:function(){return NaN}},{key:"CJ",get:function(){return!1}}]),n}(gC),LB=function(t){function i(n,i,r,e,u){var s;return(s=t.call(this,n,i,r)||this).eut=new Mn,s.uut=void 0,s.sut=function(){return s.out()},s.Cu=Xh.WEBVTT,s.if=Qf.NONE,s.uf=Fs(e),s.ls(Co.lh,s.sut),s.PA=u,s}ct(i,t);var r=i.prototype;return r.do=function(){this.uf&&!this.uut&&(this.uut=this.UC(this.eut.cs),this.uut.catch(Xn))},r.UC=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i,r,e,u;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.uf,t.prev=1,this.if=Qf.LOADING,r=new vy({dA:i,gA:$d.GET,wA:Yd.yn,cs:n}),t.next=6,this.PA.IA(r);case 6:return e=t.sent,t.next=9,e.Qn();case 9:u=t.sent,this.HK(e,u),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(1),Vn(t.t0),this.aut(ml(t.t0,this.uf));case 17:case"end":return t.stop()}},t,this,[[1,13]])}));return function(n){return t.apply(this,arguments)}}(),r.ZJ=function(){this.if!==Qf.LOADED&&(this.if=Qf.NONE,this.eut.ss(),this.eut=new Mn,this.uut=void 0)},r.aut=function(t){this.if=Qf.ERROR,this.vs(new Xa(t))},r.Dh=function(){this.ZJ(),this.eut.$u(),t.prototype.Dh.call(this)},r.out=function(){switch(this.nf){case ua.Kh:case ua.Jh:this.do();break;case ua.Zh:this.ZJ()}},r.HK=function(t,i){try{for(var r=$v(i).rf,e=0;e<r.length;e++){var u=r[e];this.FA(u)}this.if=Qf.LOADED}catch(i){this.aut(new cl(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Could not parse the "+kl(this.Cu)+" subtitle file.",this.uf,t.DA,i))}},i}(aR);function MB(t){return bf(t.kind)}var UB=function(){function t(t,n,i,r){this.cut=t,this.pd=i,this.hut=n,this.PA=r,this.Ch()}var n=t.prototype;return n.fut=function(t){if(this.vut(),t)if(this.hut)for(var n=0;n<t.length;n++){var i=t[n];this.mS(i)}else for(var r=0;r<t.length;r++){var e=t[r];this.dut(e)}},n.mS=function(t){var n=MB(t);if(gl(n,t.label||""));else{var i=s.createElement("track");i.kind=n,i.label=t.label,i.src=t.src,i.srclang=t.srclang,i.default=!!t.default,this.cut.appendChild(i)}},n.dut=function(t){var n=MB(t),i=new LB(n,t.label,t.srclang,t.src,this.PA);t.default&&(i.nf=ua.Kh),this.pd.Rh(i)},n.vut=function(){for(var t=this.pd.Oh,n=t.length-1;n>=0;n--){var i=t[n];"static"===i.lut&&this.pd.Ih(i)}},n._ut=function(){this.vut()},n.Ch=function(){this.vut()},t}(),FB=function(){function t(t){this.VJ=t}var n=t.prototype;return n.ls=function(t,n){this.VJ.addEventListener(t,n)},n.ys=function(t,n){this.VJ.removeEventListener(t,n)},T(t,[{key:"Hv",get:function(){return this.VJ.currentMonotonicTime}},{key:"zv",get:function(){return this.VJ.paused}},{key:"jv",get:function(){return this.VJ.seeking}}]),t}(),HB=function(t){function n(n,i){var r;(r=t.call(this)||this).gut=!0,r.wut=function(t){return r.yut(t)},r.mut=function(){return r.kut()},r.Aut=function(){return r.but()},r.Tut=function(){return r.Eut()},r.Bet=function(t){return r.Let(t.ih)},r.Sut=function(t){return r.Rut(t.ih)},r.Iut=function(){return r.Nut()},r.Cut=n,r.pd=i,r.Cut.addEventListener("seeking",r.Iut),r.Cut.addEventListener("seeked",r.Iut),r.Dut=new vI(new FB(n));for(var e=0,u=r.pd.Oh;e<u.length;e++){var s=u[e];r.Let(s)}return r.pd.ls(To.Yc,r.Bet),r.pd.ls(To.Jc,r.Sut),r}ct(n,t);var i=n.prototype;return i.yut=function(t){this.pd.Rh(t.ih)},i.kut=function(){for(var t=this.pd.Oh,n=t.length-1;n>=0;n--){var i=t[n];"static"!==i.lut&&this.pd.Ih(i)}},i.but=function(){var t=this.Ret,n=[],i=t&&t.pd;if(i)for(var r=0;r<i.length;r++){var e=i[r]||i.item(r);if("metadata"!==e.kind){var u=e.THEOplayerTextTrack;if(!u){var s=this.pV(e);u=new oI(e,s,this.hH),e.THEOplayerTextTrack=u,this.pd.Rh(u)}n.push(u)}}for(var o=0,a=this.pd.Oh;o<a.length;o++){var c=a[o];aI(c)&&-1===n.indexOf(c)&&this.pd.Ih(c)}},i.pV=function(t){for(var n=this.Ret.zd.getElementsByTagName("track"),i=0;i<n.length;i++){var r=n[i]||n.item(i);if(r.track===t)return r}},i.Eut=function(){for(var t=0,n=this.pd.Oh;t<n.length;t++){var i=n[t];aI(i)&&i.fH()}},i.Nut=function(){this.Out()},i.Let=function(t){t instanceof aR&&this.Dut.Rh(t)},i.Rut=function(t){t instanceof aR&&this.Dut.Ih(t)},i.Out=function(){var t=this.pd.Oh;if(t.length)for(var n=this.Cut.seekable,i=n.length?n.start(0):0,r=0;r<t.length;r++){var e=t[r];if(e instanceof aR){for(var u=[],s=0,o=e.rf.Oh;s<o.length;s++){var a=o[s];if(!(a.$m<i))break;u.push(a)}for(var c=0;c<u.length;c++){var h=u[c];e.SF(h)}}}},i.Dh=function(){this.Cut.removeEventListener("seeking",this.Iut),this.Cut.removeEventListener("seeked",this.Iut);for(var t=0,n=this.pd.Oh;t<n.length;t++){var i=n[t];this.Rut(i)}this.pd.ys(To.Yc,this.Bet),this.pd.ys(To.Jc,this.Sut),this.Dut.Dh(),this.kJ=null,this.Ret=null},T(n,[{key:"kJ",get:function(){return this.xut},set:function(t){var n=this.xut;if(n){for(var i=0,r=n.pd;i<r.length;i++){var e=r[i];this.pd.Ih(e)}n.removeEventListener("hZ",this.wut),n.removeEventListener("Dh",this.mut)}if(this.xut=t,t){for(var u=0,s=t.pd;u<s.length;u++){var o=s[u];this.pd.Rh(o)}t.addEventListener("hZ",this.wut),t.addEventListener("Dh",this.mut)}}},{key:"Ret",get:function(){return this.Irt},set:function(t){var n=this.Irt;n&&n.pd&&n.pd.removeEventListener&&(n.pd.removeEventListener("addtrack",this.Aut),n.pd.removeEventListener("removetrack",this.Aut),n.pd.removeEventListener("change",this.Tut)),this.Irt=t,t&&t.pd&&t.pd.addEventListener&&(t.pd.addEventListener("addtrack",this.Aut),t.pd.addEventListener("removetrack",this.Aut),t.pd.addEventListener("change",this.Tut)),this.but(),this.Eut()}},{key:"hH",get:function(){return this.gut},set:function(t){if(this.gut!==t){this.gut=t;for(var n=0,i=this.pd.Oh;n<i.length;n++){var r=i[n];aI(r)&&(r.hH=t)}}}}]),n}(gC),VB=function(){function t(t,n){this.Put=[],this.But=new rl,this.Lut=xt(),this.Mut=new Mn,this.pA=!(!t||t.crossOrigin!==qa.Lv&&!t.Uut),this.Wb=n}var n=t.prototype;return n.Fut=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var e,u,s,o,a,c,h,f,v;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=r.Oa(n),u=0,s=this.Put;u<s.length;u++)null===(o=s[u]).Cn||void 0===o.Cn?e.searchParams.delete(o.Hut):e.searchParams.set(o.Hut,o.Cn);return t.prev=2,a=new vy({dA:e.href,wA:Yd.Yp,_A:this.But,pA:this.pA,gA:$d.GET,cs:i,Cu:tl.eA,mA:nl.vA}),t.next=6,this.Wb.IA(a);case 6:return c=t.sent,t.next=9,c.Qn();case 9:return h=t.sent,f=new k(h),v=new k(16),16!==f.length&&et("AES-128 decryption key length must be 16 bytes, but was "+f.length+" bytes. URL: ",e.href),f.length>16&&(f=Hr(f,0,16)),v.set(f,16-f.length),t.abrupt("return",v);case 19:throw t.prev=19,t.t0=t.catch(2),Vn(t.t0),new d('Playback has been stalled due to failure to retrieve encryption key from "'+e.href);case 23:case"end":return t.stop()}},t,this,[[2,19]])}));return function(n,i){return t.apply(this,arguments)}}(),n.getKey=function(t){var n=t.absoluteURI;if(!n)return Ct.reject(new mC(yC.nj,{code:"CAD1603"}));var i=this.Lut.get(n);return i||(i=this.Fut(n,this.Mut.cs),this.Lut.set(n,i)),i},n.Dh=function(){this.Mut.ss(),this.Lut.clear()},n.Vut=function(t,n){this.Put.push({Hut:t,Cn:n})},n.Xut=function(t,n){this.But.append(t,n)},t}(),XB=function(t){this.Cut=t},WB=s.createElement("video");var qB=function(t){function n(){return t.apply(this,arguments)||this}return ct(n,t),n.prototype.sit=function(t){return!!function(t){return WB.canPlayType('video/mp4;codecs="'+t.codecs+'"')}(t)||(t.disabled="AvoidUnsupportedCodecsRule",!1)},n}(XB);wC.dn.dL("AvoidUnsupportedCodecsRule",qB);var zB=function(t){function n(){return t.apply(this,arguments)||this}return ct(n,t),n.prototype.sit=function(t,n,i,r){return!("l5"===r.A4)||t.bandwidth<2e6},n}(XB);wC.dn.dL("AvoidHighBitrateStreamsRule",zB);var GB=function(t){function n(){return t.apply(this,arguments)||this}ct(n,t);var i=n.prototype;return i.Wut=function(t){if(!t.resolution)return!0;var n=this.Cut.element.getBoundingClientRect(),i=u.innerWidth||s.documentElement.clientWidth,e=u.innerHeight||s.documentElement.clientHeight,o=g.max(0,g.min(n.right,i)-g.max(0,n.left)),a=g.max(0,g.min(n.bottom,e)-g.max(0,n.top)),c=r.Mc.vc;return t.resolution.width<=o*c&&t.resolution.height<=a*c},i.sit=function(t){return this.Wut(t)},n}(XB);wC.dn.dL("AvoidVideoResolutionGreaterThanDisplaySizeRule",GB);var jB=function(t){function n(){return t.apply(this,arguments)||this}return ct(n,t),n.prototype.sit=function(t,n,i){if(i.R3<=0)return!1;var r=i&&.8*i.R3;return!(r&&!m(r)&&t.bandwidth)||r>t.bandwidth*this.Cut.playbackRate},n}(XB);wC.dn.dL("DownloadMetricRule",jB);var QB=function(t){function n(){return t.apply(this,arguments)||this}return ct(n,t),n.prototype.sit=function(t){return!0},n}(XB);wC.dn.dL("LimitVideoQualityToDisplaySizeRule",QB);var YB=function(t){function n(){return t.apply(this,arguments)||this}return ct(n,t),n.prototype.sit=function(t,n){return!n||(n.xY===BC.xy||t.xY===BC.xy||n.xY===t.xY)},n}(XB);function ZB(t){return!!t&&("object"==typeof t&&"src"in t&&"type"in t)}function JB(t,n){var i=n;for(var r in t)V(t[r])?(i[r]=i[r]||{},JB(t[r],i[r])):B.call(i,r)||(i[r]=t[r]);return i}function KB(t,n){var i=JB(n,t||{});return i.crossOrigin=function(t){var n=t&&t.crossOrigin;switch(n){case qa.Bv:case qa.Lv:break;default:n=qa.Mv}return t&&t.withCredentials&&(n=qa.Lv),t&&t.vr&&t.vr[360]&&n===qa.Mv&&(n=qa.Bv),n}(i),i}function $B(t){q(t)&&t.then(j,j)}wC.dn.dL("OnlyAllowSameTrackTypeRenditionsRule",YB);var tL,nL=500,iL=["abort","durationchange","ended","loadstart","pause","play","progress","ratechange","seeked","seeking","suspend","timeupdate","volumechange","webkitpresentationmodechanged"],rL=function(t){function n(n,i){var r;return(r=t.call(this)||this).qut=void 0,r.FE=void 0,r.loading=!1,r.loaded=!1,r.configuration={useNativeVideoPlayback:!0},r._b=function(){var t=r.JT.uS.error&&r.JT.uS.error.code;t&&r.aut(new mC(yC.KG,{code:"VEE"+t}))},r.zut=function(t){r.dispatchEvent({type:t.type,error:r.JT.uS.error})},r.Gut=function(){h(r.qut),r.qut=void 0,r.JT.uS.removeEventListener("timeupdate",r.Gut),r.JT.ys(la._f,r.Gut)},r.jut=function(){void 0!==r.qut&&r.Gut(),r.qut=c(function(){r.JT.uS.currentTime+=.1,r.Gut()},nL),r.JT.uS.addEventListener("timeupdate",r.Gut),r.JT.ls(la._f,r.Gut)},r.Qut=function(){switch(r.JT.uS.readyState){case ya.yf:case ya.mf:case ya.kf:r.jut();break;case ya.wf:case ya.gf:}},r.Yut=n,r.JT=i,r}ct(n,t);var i=n.prototype;return i.setup=function(){this.aZ(),this.JT.uS.parentNode!==this.Yut&&this.Yut.appendChild(this.JT.uS),this.loaded=!1,this.JT.uS.preload="metadata",this.JT.uS.addEventListener("play",this.Qut),this.JT.uS.addEventListener("loadeddata",this.Qut),this.dispatchEvent("Zut")},i.aZ=function(){for(var t=0;t<iL.length;t++){var n=iL[t];this.JT.uS.addEventListener(n,this.zut,!0)}this.JT.uS.addEventListener("error",this._b,!0),this.JT.ls(la.gh,this.zut),this.JT.ls(la._f,this.zut)},i.Jut=function(){for(var t=0;t<iL.length;t++){var n=iL[t];this.JT.uS.removeEventListener(n,this.zut,!0)}this.JT.uS.removeEventListener("error",this._b,!0),this.JT.ys(la.gh,this.zut),this.JT.ys(la._f,this.zut)},i.aut=function(t){this.FE=t,this.dispatchEvent({type:"error",error:t})},i.S9=function(){return Ct.resolve()},i.load=function(){this.JT.uS.load(),this.loaded=!0},i.unload=function(){return this.Gut(),this.gs(),this.Jut(),this.JT.uS.removeEventListener("play",this.Qut),this.JT.uS.removeEventListener("loadeddata",this.Qut),Oe(this.JT.uS),this.JT.uS},i.play=function(){var t=this.Gv;$B(this.JT.uS.play()),this.Gv=t},i.pause=function(){this.JT.uS.pause()},i.Td=function(){this.pause()},i.reset=function(){this.loading=!1,this.loaded=!1;try{this.Det(0)}catch(t){}this.dispatchEvent("reset")},i.Bd=function(){return this.JT.uS},i.Yrt=function(){return this.JT.uS.currentTime},i.Det=function(t){this.JT.uS.currentTime=t},i.canPlayCodecs=function(t){return this.JT.uS.canPlayType('video/mp4; codecs="'+t+'"')},T(n,[{key:"let",get:function(){return!0}},{key:"zd",get:function(){return this.JT.uS}},{key:"Wd",get:function(){return this.JT.uS.buffered}},{key:"Zv",get:function(){return this.JT.uS.volume},set:function(t){this.JT.uS.volume=t}},{key:"duration",get:function(){return this.JT.uS.duration}},{key:"muted",get:function(){return this.JT.uS.muted},set:function(t){this.JT.uS.muted=t}},{key:"paused",get:function(){return this.JT.uS.paused}},{key:"played",get:function(){return this.JT.uS.played}},{key:"poster",get:function(){return this.JT.uS.poster},set:function(t){t?this.JT.uS.poster=t:this.JT.uS.removeAttribute("poster")}},{key:"controls",get:function(){return this.JT.uS.controls},set:function(t){t?this.JT.uS.controls=t:this.JT.uS.removeAttribute("controls")}},{key:"ended",get:function(){return this.JT.uS.ended}},{key:"seeking",get:function(){return this.JT.uS.seeking}},{key:"error",get:function(){return this.JT.uS.error}},{key:"width",get:function(){return this.JT.uS.offsetWidth}},{key:"height",get:function(){return this.JT.uS.offsetHeight}},{key:"src",get:function(){return this.JT.uS.src},set:function(t){this.JT.uS.src=t}},{key:"Yv",get:function(){return this.JT.uS.videoWidth}},{key:"Qv",get:function(){return this.JT.uS.videoHeight}},{key:"pd",get:function(){return this.JT.uS.textTracks}},{key:"O8",get:function(){return this.JT.uS.duration===1/0}},{key:"sl",get:function(){var t=this.JT.uS.seekable,n=t.length&&t.start(0)||0,i=t.length&&t.end(t.length-1)||0;return i===1/0&&(i=this.Yrt()||0),new jD([{Ly:n,Uy:i}])}},{key:"Gv",get:function(){return this.JT.uS.playbackRate},set:function(t){t>0&&(this.JT.uS.playbackRate=t)}},{key:"if",get:function(){return this.JT.if}},{key:"Kut",get:function(){return void 0!==this.JT.uS.webkitSupportsPresentationMode&&this.JT.uS.webkitSupportsPresentationMode("picture-in-picture")}},{key:"$ut",get:function(){return"picture-in-picture"===this.JT.uS.webkitPresentationMode}},{key:"tst",get:function(){return this.JT.uS.webkitPresentationMode},set:function(t){["inline","picture-in-picture","fullscreen"].indexOf(t)>-1&&this.JT.uS.webkitSetPresentationMode(t)}}]),n}(gC);!function(t){t[t.nst=0]="nst",t[t.ist=1]="ist",t[t.rst=2]="rst",t[t.est=3]="est",t[t.ust=4]="ust"}(tL||(tL={}));var eL=function(){function t(){this.sst=!1,this.ost=null,this.ast=null,this.cst=null,this.jA=[],this.hst=null}var n=t.prototype;return n.fst=function(){if(!this.sst)return!1;for(var t=this.ost,n=this.ast,i=0;i<t.sourceBuffers.length;i++)if(t.sourceBuffers[i]===n)return!0;return!1},n.vst=function(t){switch(t.Cu){case tL.nst:return this.dst(t.Qn,t.U8,t.VD);case tL.ist:return this.lst(t._st);case tL.rst:return this.gst(t.wst,t.yst);case tL.est:return this.QA();case tL.ust:return this.mst(t.VD)}},n.dst=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r){var e;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=this.ast,m(i)||(e.timestampOffset=i),e.appendBuffer(n),t.next=6,this.kst();case 6:r(),t.next=13;break;case 9:throw t.prev=9,t.t0=t.catch(0),r(t.t0),t.t0;case 13:case"end":return t.stop()}},t,this,[[0,9]])}));return function(n,i,r){return t.apply(this,arguments)}}(),n.lst=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i,r,e,u,s;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.ast,r=i.buffered,!(r.length>0)){t.next=11;break}if(e=r.start(0),u=g.min(r.end(0),n),!((s=u-e)>.5||u<=n&&s>0)){t.next=11;break}return i.remove(e,u),t.next=11,this.kst();case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.gst=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r,e,u,s,o;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.ost,r=this.ast,e=r.buffered,!((u=e.length)>0)){t.next=12;break}if(s=g.max(e.start(0),n),o=g.min(e.end(u-1),i),!(o-s>0)){t.next=12;break}return r.remove(s,o),t.next=12,this.kst();case 12:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.QA=function(){var t=Ct.coroutine(Nt.mark(function t(){var n,i,r;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.ost,i=this.ast,n.open&&"open"===n.readyState){t.next=4;break}return t.abrupt("return");case 4:if(t.prev=4,r=i.updating,i.abort(),!r){t.next=10;break}return t.next=10,Ua(i,"updateend");case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(4);case 15:case"end":return t.stop()}},t,this,[[4,12]])}));return function(){return t.apply(this,arguments)}}(),n.mst=function(t){return Ct.resolve(t())},n.pst=function(){var t=Ct.coroutine(Nt.mark(function t(n){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.CU(n)){t.next=5;break}return t.next=3,Jn(100);case 3:t.next=0;break;case 5:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.CU=function(t){var n=this.ost;if(!n.open||"open"!==n.readyState||!this.fst())return!0;for(var i=0;i<n.sourceBuffers.length;i++)if(n.sourceBuffers[i].updating)return!1;return t?n.endOfStream(t):n.endOfStream(),!0},n.kst=function(){var t=this;return new Ct(function(n,i){var r,e=t.ast,u=!1,s=function(){u=!0},o=function(){u=!1,r="error"},a=function(){u=!1,r="aborted"},c=function(){h(),u&&!r?n():i(new d(r))},h=function(){e.removeEventListener("update",s),e.removeEventListener("error",o),e.removeEventListener("abort",a),e.removeEventListener("updateend",c)};e.addEventListener("update",s),e.addEventListener("error",o),e.addEventListener("abort",a),e.addEventListener("updateend",c)})},n.Ast=function(){var t=this;this.cst||(0!==this.jA.length||this.hst)&&this.fst()&&(this.cst=this.bst().then(function(){t.cst=null}))},n.bst=function(){var t=Ct.coroutine(Nt.mark(function t(){var n;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0;case 1:if(!(this.jA.length>0)){t.next=9;break}if(this.fst()){t.next=4;break}return t.abrupt("return");case 4:return n=this.jA.shift(),t.next=7,this.vst(n);case 7:t.next=1;break;case 9:t.next=16;break;case 11:return t.prev=11,t.t0=t.catch(0),t.next=16,this.pst("decode").catch(j);case 16:if(!this.hst){t.next=26;break}return t.prev=17,t.next=20,this.pst(this.hst.Is);case 20:t.next=25;break;case 22:t.prev=22,t.t1=t.catch(17);case 25:this.hst=null;case 26:case"end":return t.stop()}},t,this,[[0,11],[17,22]])}));return function(){return t.apply(this,arguments)}}(),n.JA=function(t,n){this.sst||(this.sst=!0,this.ost=t,this.ast=n,this.Ast())},n.qa=function(t,n,i){this.jA.push({Cu:tL.nst,Qn:t,U8:n,VD:i}),this.Ast()},n.Tst=function(t,n){this.jA.push({Cu:tL.rst,wst:t,yst:n}),this.Ast()},n.Est=function(t){this.jA.push({Cu:tL.ist,_st:t}),this.Ast()},n.ss=function(){this.jA.push({Cu:tL.est}),this.Ast()},n.Sst=function(t){this.jA.push({Cu:tL.ust,VD:t}),this.Ast()},n.Mtt=function(t){this.hst={Is:t},this.Ast()},n.Fs=function(){this.jA.length=0,this.hst=null},t}();var uL=function(t){function n(n){var i;return(i=t.call(this)||this).ast=null,i.Rst=new eL,i.$m=NaN,i.Ist=null,i.fs=function(t){return i.dispatchEvent(t)},i.Nst=function(){return i.a4()},i.ost=n,i.Ch(),i}ct(n,t);var i=n.prototype;return i.Cst=function(t){if(t)return this.dispatchEvent({type:"error",error:t})},i.S9=function(t,n,i,r){var e=this;if(!this.ast||!n)return Ct.resolve();var u=n.initializer.Qn,s=function(t,n){if(!t)return!0;var i=t.length;if(i!==n.length)return!0;for(var r=0;r<i;r+=1)if(t[r]!==n[r])return!0;return!1}(this.Ist,u);if(r&&(P.nn||this.Rst.ss()),r)if(P.nn);else{var o=t&&t.Ly,a=t&&t.Ly+t.Vv-.5;this.Rst.Tst(o,a)}return s&&(this.Rst.qa(u,i,this.Cst.bind(this)),this.Ist=u),new Ct(function(t,r){e.Rst.qa(n.m4s.Qn,i,function(n){n?r(n):t()})})},i.YL=function(){var t=this;return new Ct(function(n){t.Rst.Sst(function(){var i=t.Wd;i&&i.length&&(t.$m=i.end(i.length-1)),n()})})},i.FU=function(t){if(!this.ast){try{this.ast=this.ost.addSourceBuffer(t),this.ast.addEventListener("updatestart",this.fs),this.ast.addEventListener("updateend",this.fs)}catch(t){return this.dispatchEvent({type:"error",error:t}),!1}this.ost.addEventListener("sourceclose",this.Nst),this.Rst.JA(this.ost,this.ast)}return!0},i.fst=function(){for(var t=0;t<this.ost.sourceBuffers.length;t++)if(this.ost.sourceBuffers[t]===this.ast)return!0;return!1},i.lo=function(t){var n=this,i=this.Wd;if(!(this.ast&&i&&i.length))return t&&t();this.ast.remove(0,i.end(i.length-1)),t&&this.ast.addEventListener("updateend",function i(r){n.ast.removeEventListener("updateend",i),t()})},i.Ch=function(t){this.Ist=null,this.$m=NaN,this.a4(),this.lo(t)},i.Est=function(t){this.ast&&this.Rst.Est(t)},i.Mtt=function(t){this.ast&&this.Rst.Mtt(t)},i.a4=function(){this.Rst.Fs(),"open"===this.ost.readyState&&this.ast&&this.ast.updating&&this.ast.abort()},T(n,[{key:"Wd",get:function(){return this.ast&&this.fst()?new jD(nO(this.ast.buffered)):null}},{key:"AO",get:function(){return this.ast&&this.ast.updating}},{key:"Xv",get:function(){var t=this.Wd;return!t||!m(this.$m)&&$D(t,this.$m)}}]),n}(gC),sL="mp4a.40.34";var oL=function(t){function n(n){var i;return(i=t.call(this)||this).Dst=!1,i.Av=function(){var t=i.Dst;i.Dst=i.AO,!t&&i.Dst?i.dispatchEvent("updatestart"):t&&!i.Dst&&i.dispatchEvent("updateend")},i.mediasource=n,i.audioTrackBuffer=new uL(n),i.videoTrackBuffer=new uL(n),i.audioTrackBuffer.addEventListener("updatestart",i.Av),i.videoTrackBuffer.addEventListener("updatestart",i.Av),i.audioTrackBuffer.addEventListener("updateend",i.Av),i.videoTrackBuffer.addEventListener("updateend",i.Av),i.Ch(),i}ct(n,t);var i=n.prototype;return i.S9=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.mediasource.open){t.next=2;break}return t.abrupt("return");case 2:return i=[],n.OQ&&i.push(this.audioTrackBuffer.S9(n.metadata.OQ,n.OQ,n.metadata.OQ&&n.metadata.OQ.c0===sL?n.metadata.OQ.Ly:NaN,n.metadata.o1)),n.xQ&&i.push(this.videoTrackBuffer.S9(n.metadata.xQ,n.xQ,NaN,n.metadata.o1)),t.next=7,Ct.all(i);case 7:this.Xv&&(this.audioTrackBuffer.Mtt(),this.videoTrackBuffer.Mtt());case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Mtt=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=[],n&&r.push(this.audioTrackBuffer.YL()),i&&r.push(this.videoTrackBuffer.YL()),t.next=5,Ct.all(r);case 5:this.Xv&&(this.audioTrackBuffer.Mtt(),this.videoTrackBuffer.Mtt());case 6:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.JA=function(t){var n,i={};for(var r in t)if(B.call(t,r)){var e=t[r];if(e.xQ){var u='video/mp4; codecs="'+e.xQ+'"';this.videoTrackBuffer.FU(u),i.xQ=this.videoTrackBuffer}if(e.OQ){var s=(n=e.OQ)!==sL||qg?'audio/mp4; codecs="'+n+'"':"audio/mpeg";this.audioTrackBuffer.FU(s),i.OQ=this.audioTrackBuffer}0}return i},i.Ch=function(t){var n=!1,i=!1;this.Dst=!1,this.audioTrackBuffer.Ch(function(){if(n=!0,i&&t)return t()}),this.videoTrackBuffer.Ch(function(){if(i=!0,n&&t)return t()})},i.Est=function(t){this.audioTrackBuffer.Est(t),this.videoTrackBuffer.Est(t)},i.a4=function(t){t&&-1===t.indexOf("audio")||this.audioTrackBuffer.a4(),t&&-1===t.indexOf("video")||this.videoTrackBuffer.a4()},T(n,[{key:"Wd",get:function(){var t=this.audioTrackBuffer.Wd,n=this.videoTrackBuffer.Wd;return t&&n?JD(t,n):t||n||QD}},{key:"DL",get:function(){return this.audioTrackBuffer.Wd||QD}},{key:"OL",get:function(){return this.videoTrackBuffer.Wd||QD}},{key:"AO",get:function(){return this.audioTrackBuffer.AO||this.videoTrackBuffer.AO}},{key:"Xv",get:function(){return this.audioTrackBuffer.Xv&&this.videoTrackBuffer.Xv}}]),n}(gC),aL=1,cL=.05,hL=.01;function fL(t,n){for(var i=n.length,r=0;r<i;r+=1)if(n.start(r)>t)return r;return-1}function vL(t,n,i,r){var e=tO(n,t),u=t;if(!(!r&&e>=0&&t<n.end(e)-cL)){var s,o;do{if((s=fL(t,n))<0)return;t=(o=n.start(s)+hL)+cL}while(n.end(s)-o<cL);for(var a=o-u,c=JD(new jD([{Ly:u,Uy:o}]),i),h=0;h<c.length;h++)a-=c.end(h)-c.start(h);return r&&e>=0&&(a-=n.end(e)-u),a<aL?o:void 0}}var dL=100,lL=1e-4,_L=500,gL=Yg,wL=P.Wt,yL=5,mL=["resize","volumechange"],kL=function(n){function i(t,i){var r;return(r=n.call(this)||this).Ost=!0,r.Xv=!1,r.xst=!1,r.Pst=!1,r.Bst=null,r.Is=!1,r.ost=null,r.ast=null,r.Lst=null,r.sst=!1,r.Mst=0,r.Ust=tf.bm(),r.Drt=1,r.Fst=!1,r.nF=!1,r.jv=!1,r.Hst=new Mn,r.Vst=!1,r.Xst=!1,r.Wst=void 0,r.qst=null,r.zst=null,r.Gst=ya.gf,r.jst=!1,r.configuration={},r.loading=!1,r.loaded=!1,r.Qst=function(){r.jst=!1,r.Yst(),r.Zst(),r.Jst()},r.Kst=function(){r.$st(),r.Jst(),r.tot()},r.zE=function(){r.iot(),r.$st(),r.sF()?r.dispatchEvent("playing"):r.jst=!0},r.rot=function(){r.jst=!1,r.Yst(),r.Td()},r.NU=function(){r.eot()},r.qE=function(){r.uot(),r.tot()},r.oU=function(){var t=r.Gst,n=r.if;t!==n&&(r.Gst=n,r.dispatchEvent(new ka(r.Yrt(),n))),r.tot()},r.Zst=function(){r.Mst&&(v(r.Mst),r.Mst=0,wL&&(r.JT.uS.removeEventListener("timeupdate",r.RV),r.removeEventListener(la.gh,r.OV)))},r.sot=function(){r.Mst||(r.Mst=f(r.oot,_L)),wL&&(r.JT.uS.addEventListener("timeupdate",r.RV),r.addEventListener(la.gh,r.OV),r.RV()),r.oot()},r.aot=function(){var t=r.Yrt(),n=$D(r.cot,t);r.JT.zv||r.jv&&!n||r.hot()||r.sot()},r.oot=function(t){if(!(r.qst||void 0===t&&r.Xst)){var n,i=r.Yrt(),e=r.Wd;if(void 0===t){if(void 0===(n=vL(i,e,r.cot,r.xst)))return}else{if(!$D(e,t))return;n=t}var u=function(){r.JT.uS.currentTime=n,r.fot(n),r.Zst(),r.Xst=!0};Qs(n,i)?r.qst=c(function(){r.qst=null,i=r.Yrt(),Qs(n,i)&&(n+=1e3*_L,u())},_L):u()}},r.yX=function(){var t=r.Lst;if(r.vot(),r.JT.uS.readyState===ya.gf)return r.Lst=t,void r.JT.uS.addEventListener("loadedmetadata",r.yX);g.abs(r.JT.uS.currentTime-t)<lL?r.qE():(r.JT.uS.currentTime=t,r.Xst=!1,r.NU()),r.Lst=null,r.Jx(r.Drt),r.JT.fX(),r.dot(t)&&r.Td()},r.lot=function(){if(!r.xst){var t=r.JT.uS,n=r.Wd,i=t.currentTime;r._ot(n,i)&&(r.xst=!0,r.$st(),i=t.currentTime,r._ot(n,i)?r.xst=!0:r.xst=!1,r.oU()),r.zst=i}},r.iot=function(){r.Yst(),r.Bst=f(r.lot,dL)},r.Yst=function(){r.xst=!1,v(r.Bst)},r.got=function(){r.xst&&(r.xst=!1,r.oU())},r.RV=function(){var t=r.ast;if(t)if(t.Xv)r.IV();else{var n=t.DL,i=t.OL;if(0!==n.length&&0!==i.length){var e=r.Yrt();if(e<n.start(0)||e<i.start(0))r.IV();else $D(n,e)!==$D(i,e)?r.NV():r.IV()}else r.IV()}},r.OV=function(){if(!(r.jv||r.Xst||r.JT.uS.seeking||r.if>=ya.mf)){var t=r.ast;if(t){var n=r.Yrt(),i=tf.pm(t.DL),e=tf.pm(t.OL);if(i.Jy(n)&&e.Jy(n))i.om(e).vm(n-yL,n)&&(r.JT.uS.currentTime=n,r.Xst=!0)}}},r.wot=function(){r.ost.open=!0,r.ost.removeEventListener("sourceopen",r.wot),r.ost.removeEventListener("webkitsourceopen",r.wot)},r._b=function(t){var n=r.JT.uS.error&&r.JT.uS.error.code;n&&r.aut(new mC(yC.KG,{code:"VEE"+n}))},r.fs=function(t){r.dispatchEvent({type:t.type})},r.yot=function(){r.ast&&r.ast.Xv&&r.dispatchEvent("durationchange")},r.mot=function(){r.removeEventListener("kot",r.mot),r.Vst=!1,r.pot(r.Drt)},r.Aot=t,r.JT=i,r}ct(i,n);var r=i.prototype;return r.pot=function(t){this.nF&&(t=0),this.JT.Gv=t,0!==t||gL?this.Fst&&(this.Fst=!1,$B(this.JT.Ad())):(this.Fst=!this.JT.zv||this.Fst,this.JT.bd()),this.Jst()},r.Jx=function(t){this.Drt=t,this.Vst||this.pot(t)},r.bot=function(t){var n=tO(this.cot,t);return-1===n?null:this.cot.end(n)},r.eot=function(){this.Xst||this.jv||(this.jv=!0,this.dispatchEvent("seeking"))},r.uot=function(){this.Xst=!1,this.Tot(),this.jv&&(this.jv=!1,this.dispatchEvent("seeked")),this.aot()},r.$st=function(){this.Xst||this.aot()},r.Tot=function(){this.Wst&&(h(this.Wst),this.Wst=void 0)},r.fot=function(t){var n=this;this.Wst=c(function(){n.oot(t+2)},750)},r.tot=function(){this.jst&&this.sF()&&(this.jst=!1,this.dispatchEvent("playing"))},r.Jst=function(){var t=this.Ost,n=this.paused;this.Ost=n,t&&!n?this.dispatchEvent("play"):!t&&n&&this.dispatchEvent("pause")},r.ZL=function(t,n){if(!(t+.001>n)){var i=new tf([t,n]);this.Ust=this.Ust.sm(i).am(tf.pm(this.Wd)),this.Ust.Jy(this.Yrt())&&this.aot()}},r.dot=function(t){return t>=this.JT.uS.duration-(this.paused?0:.5)},r.Eot=function(t){return m(this.JT.uS.duration)||(t=g.min(t,this.JT.uS.duration)),g.max(0,t)},r.vot=function(){this.Lst=null,this.JT.uS.removeEventListener("loadedmetadata",this.yX)},r.aF=function(){return this.if<ya.mf},r.sF=function(){return!(this.paused||this.ended||this.error||this.aF())},r._ot=function(t,n){var i=function(t,n){for(var i=n.length,r=0;r<i;r+=1){if(n.start(r)>t)return r;if(t<n.end(r)-cL)return r}return-1}(n,t),r=i<0?0:t.end(i),e=i<0?0:t.start(i);if(this.zst&&this.zst===n){if(this.dot(n))return!1;if(e>n||r-n<1/6)return!0}return!1},r.NV=function(){this.nF||(this.nF=!0,this.pot(0),this.oU())},r.IV=function(){this.nF&&(this.nF=!1,this.Jx(this.Drt),this.oU())},r.Sot=function(){var t=this.JT.uS;t.addEventListener("timeupdate",this.got),this.JT.ls(pa.Ff,this.Qst),this.JT.ls(pa.Hf,this.Kst),this.JT.ls(pa.Df,this.rot),t.addEventListener("seeking",this.NU),t.addEventListener("seeked",this.qE);for(var n=0;n<mL.length;n++){var i=mL[n];t.addEventListener(i,this.fs)}t.addEventListener("error",this._b),t.addEventListener("durationchange",this.yot),this.JT.ls(pa.$f,this.fs),this.JT.ls(la.gh,this.oU),this.JT.ls(la._f,this.zE)},r.Rot=function(){var t=this.JT.uS;t.removeEventListener("timeupdate",this.got),this.JT.ys(pa.Ff,this.Qst),this.JT.ys(pa.Hf,this.Kst),this.JT.ys(pa.Df,this.rot),t.removeEventListener("seeking",this.NU),t.removeEventListener("seeked",this.qE);for(var n=0;n<mL.length;n++){var i=mL[n];t.removeEventListener(i,this.fs)}t.removeEventListener("error",this._b),t.removeEventListener("durationchange",this.yot),this.JT.ys(pa.$f,this.fs),this.JT.ys(la.gh,this.oU),this.JT.ys(la._f,this.zE)},r.Iot=function(){var n=this.JT.uS,i=u.MediaSource||u.WebKitMediaSource||null;null!==i?t.URL&&t.URL.createObjectURL||t.webkitURL&&t.webkitURL.createObjectURL||t.createObjectURL?(this.Not(),this.ost=new i,this.ost.addEventListener("sourceopen",this.wot),this.ost.addEventListener("webkitsourceopen",this.wot),n.src=DD(this.ost),n.load()):this.aut(new mC(yC.tj,{code:"MVE2720"})):this.aut(new mC(yC.tj,{code:"MVE2650"}))},r.Not=function(){if(this.sst=!1,this.ast&&(this.ast.Ch(),this.ast=null),this.ost){this.Hst.ss();var t=this.JT.uS;t.src&&(OD(t.src),Oe(t)),this.ost=null}},r.setup=function(){this.Iot(),this.Sot(),this.JT.uS.parentNode!==this.Aot&&this.Aot.appendChild(this.JT.uS)},r.aut=function(t){this.Is=t,this.dispatchEvent({type:"error",error:t})},r.hot=function(){return this.ast&&this.ast.AO},r.Cot=function(t){var n=this.Yrt()-g.max(30,3*t.yY.Dj.targetDuration);this.dispatchEvent("kot"),this.ast&&!t.s1&&this.ast.Est(n),this.aot()},r.S9=function(t){if(!this.ost.open||"closed"===this.ost.readyState)return Ct.reject("Dot");if(!this.ast)return Ct.reject("Oot");var n=this.xot(t);return this.Pst||(this.Pst=!0,this.dispatchEvent({type:"canplay"},!0)),n},r.xot=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i,r;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.metadata,(r=[]).push(this.ast.S9(n)),i.s1&&r.push(this.Mtt(!!n.OQ,!!n.xQ)),n=null,t.next=7,Ct.all(r);case 7:this.Cot(i);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.Mtt=function(t,n){return this.ost.open&&"closed"!==this.ost.readyState?this.ast?this.ast.Mtt(t,n):Ct.reject("Oot"):Ct.reject("Dot")},r.play=function(){var t=this.JT.Gv;this.Xv=!1,0!==this.JT.Gv||gL?($B(this.JT.Ad()),this.JT.fX(),this.JT.Gv=t):this.Fst=!0,this.Jst()},r.pause=function(){0!==this.JT.Gv||gL?this.JT.bd():this.Fst=!1,this.Jst()},r.Td=function(){this.Xv||(this.Xv=!0,this.JT.bd(),this.dispatchEvent("ended"))},r.load=function(){this.dispatchEvent("loadstart"),this.loaded=!0},r.unload=function(){return v(this.Bst),this.Bst=null,this.Zst(),this.vot(),this.Not(),this.Rot(),this.gs(),this.JT.uS},r.reset=function(){v(this.Bst),this.Bst=null,this.Zst(),this.vot(),this.Ost=!0,this.Xv=!1,this.xst=!1,this.Pst=!1,this.Is=!1,this.jv=!1,this.jst=!1,this.IV(),this.Iot(),this.loading=!1,this.loaded=!1,this.dispatchEvent("reset")},r.Bd=function(){return this.JT.uS},r.Yrt=function(){return null===this.Lst?this.JT.uS.currentTime:this.Lst},r.Det=function(t){var n=this.bot(t);t=this.Eot(t),this.xst=!1,this.JT.uS.error&&(this.Pst=!1,this.Is=!1,this.Iot()),this.Xv&&(this.Xv=this.dot(t)),this.Zst(),null!==n&&(t=n),this.vot(),this.Lst=t,this.jv=!0,this.dispatchEvent("Tet"),this.dispatchEvent("seeking"),this.yX()},r.Pot=function(t){return this.ost.open?Ct.resolve(null):Ua(this.ost,"sourceopen",t)},r.Bot=function(t,n){n>0&&(this.ost.duration=n),this.ast=new oL(this.ost);var i=this.ast.JA(t);return this.dispatchEvent("Zut"),this.ast.addEventListener("updatestart",this.Zst),this.ast.addEventListener("updateend",this.aot),this.sst=!0,this.dispatchEvent("sst"),i},r._et=function(t,n){var i=this;return this.Hst.ss(),this.Hst=new Mn,this.ast?Ct.resolve(null):this.Pot(this.Hst.cs).then(function(){return i.Bot(t,n)})},r.OZ=function(t){P.nn&&(this.Vst=!0,this.pot(0),this.removeEventListener("kot",this.mot),this.addEventListener("kot",this.mot),this.ast&&this.ast.a4(t))},r.canPlayCodecs=function(t){return this.JT.uS.canPlayType('video/mp4; codecs="'+t+'"')},T(i,[{key:"cot",get:function(){return this.Ust.qy()}},{key:"if",get:function(){var t=this.JT.if;return t>ya.yf&&(this.xst||this.nF)?ya.yf:t}},{key:"zd",get:function(){return this.JT.uS}},{key:"Wd",get:function(){return this.ast?this.ast.Wd:this.JT.uS.buffered}},{key:"DL",get:function(){return this.ast?this.ast.DL:QD}},{key:"OL",get:function(){return this.ast?this.ast.OL:QD}},{key:"volume",get:function(){return this.JT.uS.volume},set:function(t){this.JT.uS.volume=t}},{key:"duration",get:function(){return this.JT.uS.duration}},{key:"muted",get:function(){return this.JT.uS.muted},set:function(t){this.JT.uS.muted=t}},{key:"paused",get:function(){return this.JT.zv&&!this.Fst}},{key:"played",get:function(){return this.JT.uS.played}},{key:"poster",get:function(){return this.JT.uS.poster},set:function(t){t?this.JT.uS.poster=t:this.JT.uS.removeAttribute("poster")}},{key:"controls",get:function(){return this.JT.uS.controls},set:function(t){t?this.JT.uS.controls=t:this.JT.uS.removeAttribute("controls")}},{key:"ended",get:function(){return this.Xv}},{key:"seeking",get:function(){return this.jv}},{key:"error",get:function(){return this.Is||this.JT.uS.error}},{key:"width",get:function(){return this.JT.uS.offsetWidth||this.JT.uS.parentNode.offsetWidth}},{key:"height",get:function(){return this.JT.uS.offsetHeight||this.JT.uS.parentNode.offsetHeight}},{key:"Gv",get:function(){return this.Drt},set:function(t){var n=this.Drt;t>0&&(this.Jx(t),this.Drt!==n&&this.dispatchEvent("ratechange"))}},{key:"Yv",get:function(){return this.JT.uS.videoWidth||0}},{key:"Qv",get:function(){return this.JT.uS.videoHeight||0}},{key:"let",get:function(){return this.sst}}]),i}(gC),pL=["seeked","seeking","playing","pause","play","resize","warning","ended","durationchange","Lot","OZ",la.gh],AL=.04,bL=.25,TL=4,EL=.75,SL=1.5,RL=.25,IL=function(t){function n(){var n;return(n=t.call(this)||this).Mot=null,n.Uot=null,n.ZU=!1,n.JU=1,n.YB=1,n.Fot=null,n.Hot=void 0,n.zut=function(t){n.dispatchEvent(t)},n.Vot=function(t){n.Uot||n.dispatchEvent(t)},n.Xot=function(t){var i=t.error||n.Uot.error;n.audioStream=null,n.Fot=i.message||i.toString(),n.dispatchEvent({type:"warning",warning:n.Fot})},n.Wot=function(){n.Uot&&!n.Uot.loaded||n.Mot&&!n.Mot.loaded||(n.Uot&&(n.Uot.removeEventListener("loaded",n.Wot),n.Uot.play()),n.Mot&&(n.Mot.removeEventListener("loaded",n.Wot),n.Mot.play()))},n.qot=function(){n.zot(),n.Uot&&n.Mot&&(n.Uot.addEventListener("timeupdate",n.Got),n.Mot.addEventListener("timeupdate",n.Got))},n.zot=function(){h(n.Hot),n.Uot&&n.Uot.removeEventListener("timeupdate",n.Got),n.Mot&&(n.Mot.Gv=n.YB,n.Mot.removeEventListener("timeupdate",n.Got))},n.jot=function(){n.if<ya.mf&&n.zot()},n.Got=function(){if(h(n.Hot),n.Uot&&n.Mot){var t=n.Uot.Gv,i=n.Uot.Yrt()-n.Mot.Yrt(),r=g.max(TL,SL*t),e=g.min(bL,EL*t);if(g.abs(i)<AL)n.Mot.Gv!==t&&(n.Mot.Gv=t);else{var u=RL,s=t*(i/u+1);(s<e||s>r)&&(u=i/((s=i>0?r:e)/t-1)),n.Mot.Gv=s,n.Hot=c(n.Got,1e3*u)}}else n.zot()},n.addEventListener("playing",n.qot),n.addEventListener("ended",n.zot),n.addEventListener(la.gh,n.jot),n}ct(n,t);var i=n.prototype;return i.RZ=function(t,n){n?(t.addEventListener("timeupdate",this.zut),t.addEventListener("error",this.Xot)):(t.addEventListener("timeupdate",this.Vot),t.addEventListener("error",this.zut));for(var i=0;i<pL.length;i++){var r=pL[i];t.addEventListener(r,this.zut)}},i.ps=function(t){t.removeEventListener("timeupdate",this.zut),t.removeEventListener("timeupdate",this.Vot),t.removeEventListener("timeupdate",this.Got),t.removeEventListener("error",this.zut),t.removeEventListener("error",this.Xot),t.removeEventListener("loaded",this.Wot);for(var n=0;n<pL.length;n++){var i=pL[n];t.removeEventListener(i,this.zut)}},i.Qot=function(t){this.Uot&&this.Uot.Qot(t),this.Mot&&this.Mot.Qot(t)},i.play=function(){if(this.Uot&&!this.Uot.loaded||this.Mot&&!this.Mot.loaded)return this.Uot&&this.Uot.addEventListener("loaded",this.Wot),void(this.Mot&&this.Mot.addEventListener("loaded",this.Wot));this.Wot()},i.pause=function(){this.Uot&&(this.Uot.removeEventListener("loaded",this.Wot),this.Uot.pause()),this.Mot&&(this.Mot.removeEventListener("loaded",this.Wot),this.Mot.pause()),this.zot()},i.load=function(t){t?(-1!==t.indexOf("audio")&&this.Uot&&this.Uot.load(),-1!==t.indexOf("video")&&this.Mot&&this.Mot.load()):(this.Uot&&this.Uot.load(),this.Mot&&this.Mot.load())},i.Dh=function(t){this.gs(),this.Fot=null,t?(-1!==t.indexOf("audio")&&this.Uot&&(this.Uot.Dh(),this.Uot=null),-1!==t.indexOf("video")&&this.Mot&&(this.Mot.Dh(),this.Mot=null)):(this.Uot&&(this.Uot.Dh(),this.Uot=null),this.Mot&&(this.Mot.Dh(),this.Mot=null))},i.OZ=function(t){this.Uot&&this.Uot.pause(),this.Mot&&this.Mot.pause(),this.zot(),t&&-1===t.indexOf("audio")||!this.Uot||this.Uot.OZ(),t&&-1===t.indexOf("video")||!this.Mot||this.Mot.OZ()},i.S9=function(t){this.Uot&&t.OQ&&this.Uot.S9(t),this.Mot&&t.xQ&&this.Mot.S9(t)},i.Yot=function(t){return this.Mot?this.Mot.Yot(t):""},i.Zot=function(){return this.Mot?this.Mot.Zot():0},i.Jot=function(){return this.Mot?this.Mot.Jot():0},i.Bd=function(){return this.Mot&&this.Mot.Bd()},i.Yrt=function(){return this.Uot?this.Uot.Yrt():this.Mot?this.Mot.Yrt():NaN},i.Det=function(t,n){this.Uot&&this.Uot.Det(t,n),this.Mot&&this.Mot.Det(t,n)},T(n,[{key:"Wd",get:function(){return this.Uot&&this.Mot?JD(this.Uot.Wd,this.Mot.Wd):this.Uot?this.Uot.Wd:this.Mot?this.Mot.Wd:QD}},{key:"volume",get:function(){return this.JU},set:function(t){this.JU!==t&&(this.JU=t,this.Uot&&(this.Uot.volume=t),this.dispatchEvent("volumechange"))}},{key:"duration",get:function(){return this.Uot&&this.Uot.duration||this.Mot&&this.Mot.duration||NaN}},{key:"muted",get:function(){return this.ZU},set:function(t){this.ZU!==t&&(this.ZU=t,this.Uot&&(this.Uot.muted=t),this.dispatchEvent("volumechange"))}},{key:"loaded",get:function(){return!(!this.Uot&&!this.Mot)&&(!(this.Uot&&!this.Uot.loaded)&&!(this.Mot&&!this.Mot.loaded))}},{key:"paused",get:function(){return!this.Uot&&!this.Mot||(this.Uot&&this.Uot.paused||this.Mot&&this.Mot.paused||!1)}},{key:"ended",get:function(){return this.Uot&&this.Uot.ended||this.Mot&&this.Mot.ended||!1}},{key:"seeking",get:function(){return this.Uot&&this.Uot.seeking||this.Mot&&this.Mot.seeking||!1}},{key:"error",get:function(){return this.Uot&&this.Uot.error||this.Mot&&this.Mot.error}},{key:"warning",get:function(){return this.Fot||this.Uot&&this.Uot.warning||this.Mot&&this.Mot.warning}},{key:"audioStream",get:function(){return this.Uot},set:function(t){this.Uot&&(this.ps(this.Uot),this.Uot.Dh()),this.Uot=t,this.Uot&&(this.Uot.volume=this.JU,this.Uot.muted=this.ZU,this.Uot.Gv=this.YB,this.RZ(this.Uot,!0))}},{key:"videoStream",get:function(){return this.Mot},set:function(t){this.Mot&&(this.ps(this.Mot),this.Mot.Dh()),this.Mot=t,this.Mot&&(this.Mot.Gv=this.YB,this.RZ(this.Mot,!1))}},{key:"Gv",get:function(){return this.YB},set:function(t){this.YB!==t&&(t<0||(this.YB=t,this.Uot&&(this.Uot.Gv=t),this.Mot&&(this.Mot.Gv=t),this.dispatchEvent("ratechange")))}},{key:"if",get:function(){return this.Uot&&this.Mot?g.min(this.Uot.if,this.Mot.if):this.Uot?this.Uot.if:this.Mot?this.Mot.if:ya.gf}},{key:"Yv",get:function(){return this.Mot?this.Mot.Yv:0}},{key:"Qv",get:function(){return this.Mot?this.Mot.Qv:0}}]),n}(gC),NL=function(){function t(t,n,i,r){var e=this;this.Km=void 0,this.IA=0,this.yA=0,this.running=!1,this.Kot=function(t){return e._o(t)},this.$ot=t,this.tat=n,this.Vv=i,this.VD=r,this.nat=t.Ls(),this.iat=(n-this.nat)/(i||1)}var n=t.prototype;return n.rat=function(){return this.$ot.Ac(this.tat),this.running=!1,this.eat(),this.VD()},n.Ly=function(){var t=this;this.running=!0,this.Vv?this.uat():_C(function(){t.running&&t.rat()})},n._o=function(t){if(this.eat(),this.running){void 0===this.Km&&(this.Km=t);var n=this.nat,i=this.iat,r=this.tat,e=this.$ot,u=n+g.max(0,t-this.Km)*i;if(n>=r&&u<=r||n<r&&u>=r)return this.rat();if(e.Ac(u))return this.rat();this.uat()}},n.uat=function(){this.IA=rT(this.Kot),this.yA=tT(this.Kot)},n.eat=function(){eT(this.IA),iT(this.yA)},t}();var CL=function(t){function n(n,i){var r;return(r=t.call(this)||this).sat=null,r.oat=null,r.aat=NaN,r.hat=!1,r.fat=!1,r.vat=1,r.dat=void 0,r.lat=void 0,r._at=function(t){r.gat(t)||r.dispatchEvent(t)},r.wat=n,r.ga=i,r}ct(n,t);var i=n.prototype;return i.pause=function(){this.wat.pause()},i.play=function(){$B(this.wat.play()),this.yat()},i.mat=function(t){if(!(this.if<ya.mf))return this.a4(),this.hat=!0,this._at({type:"canplay"}),t&&t();this.dat=c(this.lat,100)},i.do=function(t){this.fat=!0,this.hat=!1,this.wat.removeEventListener("canplay",this.lat),this.lat=this.mat.bind(this,t),this.wat.addEventListener("canplay",this.lat),this.wat.load(),this.dat=c(this.lat,100)},i.a4=function(){this.fat=!1,this.wat.removeEventListener("canplay",this.lat),void 0!==this.dat&&(h(this.dat),this.dat=void 0)},i.kat=function(t){if(this.pause(),this.a4(),null===t)return this.sat=null,void(this.hat=!1);this.hat=!1,this.oat&&this.oat.X4(this.wat.src),this.oat=t[this.ga],this.wat.src=this.oat.W4,this.sat=t},i.Bd=function(){return this.wat},i.pat=function(t){this.aat=g.max(t||0,0),this.wat.currentTime=this.aat},i.Aat=function(){return this.wat.currentTime},i.bat=function(t){var n=this.sat&&this.sat.metadata,i=n&&n.Ly,r=n&&n[this.ga].Ly,e=n&&n[this.ga].Vv;return!!this.MK&&(!(t<i)&&t<r+g.min(e,this.wat.duration))},i.yat=function(){this.vat!==this.wat.playbackRate&&(this.wat.playbackRate=this.vat,Zg&&this.vat>0&&this.if!==ya.gf&&(this.wat.currentTime=this.wat.currentTime))},i.gat=function(t){return!!(Zg&&"seeked"===t.type&&g.abs(this.wat.currentTime-this.aat)>.04)},i.addEventListener=function(n,i){this.WG(n)||this.wat.addEventListener(n,this._at),t.prototype.addEventListener.call(this,n,i)},i.removeEventListener=function(n,i){t.prototype.removeEventListener.call(this,n,i),this.WG(n)||this.wat.removeEventListener(n,this._at)},i.gs=function(){for(var n=0,i=this.qG();n<i.length;n++){var r=i[n];this.wat.removeEventListener(r,this._at)}t.prototype.gs.call(this)},i.unload=function(){this.oat&&this.oat.X4(this.wat.src),this.gs()},T(n,[{key:"volume",get:function(){return this.wat.volume},set:function(t){this.wat.volume=t}},{key:"muted",get:function(){return this.wat.muted},set:function(t){this.wat.muted=t}},{key:"style",get:function(){return this.wat.style}},{key:"Ly",get:function(){return this.sat?this.sat.metadata[this.ga].Ly:NaN}},{key:"Uy",get:function(){return this.sat?this.Ly+this.sat.metadata[this.ga].Vv:NaN}},{key:"Tat",get:function(){return this.sat?this.Ly+this.Eat:NaN},set:function(t){this.sat?this.Eat=t-this.Ly:this.Eat=0}},{key:"Eat",get:function(){return this.Aat()},set:function(t){this.pat(t)}},{key:"Sat",get:function(){return this.sat},set:function(t){this.kat(t)}},{key:"F4",get:function(){return this.sat&&this.sat.metadata.s1}},{key:"MK",get:function(){return!(!this.hat||!this.sat)}},{key:"Rat",get:function(){return!(!this.fat||!this.sat)}},{key:"Gv",get:function(){return this.vat},set:function(t){t>=0&&this.vat!==t&&(this.vat=t,this.yat())}},{key:"zv",get:function(){return this.wat.paused}},{key:"Xv",get:function(){return this.wat.ended}},{key:"Is",get:function(){return this.wat.error}},{key:"Yv",get:function(){return this.wat.videoWidth}},{key:"Qv",get:function(){return this.wat.videoHeight}},{key:"if",get:function(){return this.wat.readyState}}]),n}(gC);function DL(t,n){return i=t.Sat.metadata.yY,r=n.Sat.metadata.yY,i.bandwidth&&r.bandwidth&&$s(i.bandwidth,r.bandwidth)||i.resolution&&r.resolution&&$s(i.resolution.width*i.resolution.height,r.resolution.width*r.resolution.height)||Ks(i.cj,r.cj)||$s(t.Uy,n.Uy);var i,r}function OL(t){return{Ly:t.Ly,Uy:t.Uy}}function xL(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.Ly<=n&&n<r.Uy)return i}return-1}function PL(t,n,i){return{Ly:n?i.metadata.N4:i.metadata[t].Ly,Uy:i.metadata[t].Ly+i.metadata[t].Vv}}function BL(t,n,i){return new jD([PL(t,n,i)])}function LL(t,n,i){for(var r=[],e=0;e<i.length;e++){var u=i[e];r.push(PL(t,n,u))}return ZD(new jD(r))}function ML(t,n,i){if(!n)return!1;var r=n.metadata[t].Ly,e=r+n.metadata[t].Vv;return r<=i&&i<=e}function UL(t,n){var i=tO(t,n);return i<0?n:t.end(i)}var FL=function(){function t(t){this.g$=[],this.Iat=QD,this.Nat=QD,this.Cu=t}var n=t.prototype;return n.S9=function(t){var n,i;this.g$=function(t,n){for(var i=[],r=function(t,n,r){var e=i.length&&i[i.length-1];e&&e.Sat===t?e.Uy=r:i.push({Sat:t,Ly:n,Uy:r})},e=0;e<t.length;e++){var u=t[e];if(u.Uy<=n.Ly)r(u.Sat,u.Ly,u.Uy);else if(u.Ly>=n.Uy)n.Ly<n.Uy&&(r(n.Sat,n.Ly,n.Uy),n.Ly=n.Uy),r(u.Sat,u.Ly,u.Uy);else{var s=void 0,o=void 0;DL(n,u)>=0?(s=u,o=n):(s=n,o=u);var a=s.Ly,c=o.Ly,h=g.min(o.Uy,u.Uy),f=g.min(s.Uy,u.Uy);a<c&&r(s.Sat,a,c),c<h&&r(o.Sat,c,h),h<f&&r(s.Sat,h,f),n.Ly=g.max(n.Ly,u.Uy)}}return n.Ly<n.Uy&&r(n.Sat,n.Ly,n.Uy),i}(this.g$,function(t,n){var i=n.metadata[t].Ly;return{Sat:n,Ly:i,Uy:i+n.metadata[t].Vv}}(this.Cu,t)),this.Iat=iO(this.Iat,BL(this.Cu,!1,t)),this.Nat=iO(this.Nat,BL(this.Cu,!0,t)),this.Nat=(n=this.Nat,i=this.Iat,JD(n,KD(i)))},n.Cat=function(t){t=this.Dat(t);var n=xL(this.g$,t);return n>=0?this.g$[n].Sat:null},n.Oat=function(t,n,i,r){t=this.Dat(t);var e=this.g$,u=xL(e,t);if(u<0)return null;var s=e[u];if(!i||!ML(this.Cu,i,t))return r&&ML(this.Cu,r,t)?null:s.Sat;if(i!==s.Sat){if(r&&r===s.Sat)return null;if(s.Uy-t>n)return s.Sat}for(var o=u+1;o<e.length;o++){var a=e[o];if(r&&r===a.Sat)return null;if(a.Uy-t>n)return a.Sat;for(var c=[i],h=o+1;h<e.length;h++)c.push(e[h].Sat);var f=LL(this.Cu,!1,c);c.push(a.Sat);var v=LL(this.Cu,!1,c);if(UL(f,t)<UL(v,t))return a.Sat}return null},n.xat=function(t,n){for(var i=this.g$,r=i.length-1;r>=0;r--){var e=i[r];(e.Uy<=t||e.Ly>=n)&&Cn(i,r)}},n.Ch=function(){this.g$.length=0,this.Iat=QD,this.Nat=QD},n.Dat=function(t){var n=vL(t,this.Wd,this.Nat,!1);return void 0===n?t:n},T(t,[{key:"Wd",get:function(){var t=this.g$.map(OL);return ZD(new jD(t))}}]),t}(),HL=5,VL=30,XL=function(t){function n(n,i){var r,e;(r=t.call(this)||this).Go={OQ:{Pat:100,Bat:100,Lat:100},xQ:{Pat:500,Bat:100,Lat:200}},r.FE=null,r.Fot=null,r.Mat=null,r.Uat=null,r.Fat=0,r.Hat=null,r.Vat=!1,r.Xat=!1,r.Wat=0,r.qat=0,r.zat=ya.gf,r.Est=function(){var t=r.Yrt();r.Gat.xat(t-HL,t+VL)},r.jat={Qat:(e=vt(r),{do:function(){e.Yat.addEventListener("ended",this.Zat),e.Jat.addEventListener("ended",this.Kat)},Dh:function(){e.Yat.removeEventListener("ended",this.Zat),e.Jat.removeEventListener("ended",this.Kat)},$at:function(){},Zat:function(){e.pause(),e.dispatchEvent({type:"ended",origin:e.Yat})},Kat:function(){e.pause(),e.dispatchEvent({type:"ended",origin:e.Jat})}}),VA:{Rn:"VA",do:function(){},Dh:function(){},$at:function(){}},tct:function(){var t=vt(r),n=function n(){t.Yat.removeEventListener("play",n),t.Yat.removeEventListener("timeupdate",i),t.Yat.addEventListener("timeupdate",i)},i=function n(){var i,r;t.Yat.zv||(!t.seeking&&t.Yat.Sat?(i=t.Yat,(r=t.Jat).MK&&WL(i,r)>=0&&t.nct(t.jat.ict)):t.Yat.removeEventListener("timeupdate",n))};return{Rn:"tct",do:function(){t.jat.Qat.do.call(this),this.rct(),this.$at()},Dh:function(){t.jat.Qat.Dh.call(this),t.Yat.removeEventListener("play",n),t.Yat.removeEventListener("timeupdate",i)},$at:function(){t.Yat.Sat?t.$at(t.Jat,t.ect):t.$at(t.Yat,t.ect)},Zat:function(){var n=t.Jat.Sat;if(n&&n.metadata.o1)return t.Jat.bat(t.Yat.Tat)&&(t.Jat.Tat=t.Yat.Tat),t.uct(),void t.Yat.play();t.jat.Qat.Zat.call(this)},Kat:function(){0},rct:function(){t.Yat.removeEventListener("play",n),t.Yat.zv?t.Yat.addEventListener("play",n):n.call(t.Yat)}}}(),ict:function(){var t=vt(r),n=function(){r.nct(r.jat.sct)};return{Rn:"ict",do:function(){t.jat.Qat.do.call(this),t.Jat.addEventListener("seeked",n);var i=WL(t.Yat,t.Jat),r=t.Go[t.ga].Pat/1e3,e=g.min(i+r,t.Jat.Uy);try{t.Jat.Eat=e}catch(n){t.nct(t.jat.tct),t.act(n.message)}},Dh:function(){t.jat.Qat.Dh.call(this),t.Jat.removeEventListener("seeked",n)},$at:function(){},Zat:function(){t.jat.Qat.Zat.call(this)},Kat:function(){}}}(),sct:function(){var t,n=vt(r),i=function(){u()},e=function(){u()},u=function(){eT(t),r.Jat.Tat-r.Yat.Tat-1/60>0?t=rT(i):r.nct(r.jat.cct)};return{Rn:"sct",do:function(){n.jat.Qat.do.call(this),n.Yat.addEventListener("timeupdate",e),u()},Dh:function(){n.jat.Qat.Dh.call(this),eT(t),n.Yat.removeEventListener("timeupdate",e)},$at:function(){},Zat:function(){n.jat.Qat.Zat.call(this)},Kat:function(){n.jat.Qat.Kat.call(this)}}}(),cct:function(){var t,n=vt(r),i=function(){var t=r.hct(r.Jat),n=r.Go[r.ga].Bat/g.max(1,r.Yat.Gv);return function(t,n,i,r){return new NL(t,n,i,r)}(t,t.fct,n,function(){r.nct(r.jat.vct),r.jat.vct.dct()})},e=function(){r.Mat.Ly(),r.nct(r.jat.vct)};return{Rn:"cct",do:function(){n.jat.Qat.do.call(this);var r=n.Go[n.ga].Lat/g.max(1,n.Yat.Gv);n.Mat=i(),t=c(e,r),n.Jat.play()},Dh:function(){n.jat.Qat.Dh.call(this),h(t),t=0},$at:function(){},Zat:function(){n.jat.Qat.Zat.call(this)},Kat:function(){n.jat.Qat.Kat.call(this)}}}(),vct:function(){var t=vt(r);return{Rn:"vct",do:function(){t.jat.Qat.do.call(this)},Dh:function(){t.jat.Qat.Dh.call(this),t.Mat&&t.Mat.rat()},$at:function(){},Zat:function(){t.jat.Qat.Zat.call(this)},Kat:function(){t.jat.Qat.Kat.call(this)},dct:function(){t.Mat=null,t.uct()}}}()},r.lct={_ct:function(){var t=vt(r);return{do:function(){},Dh:function(){},$at:function(){t.gct.$at()},Det:function(n,i,r,e){t.Fat=n,t.Hat=e,t.nct(t.jat.VA);var u=t.Yat===t.wct?i:r,s=t.Jat===t.wct?i:r;u&&t.Yat.bat(n)?t.yct(t.lct.mct):s&&t.Jat.bat(n)?t.yct(t.lct.kct):t.yct(t.lct.pct)}}}(),pct:function(){var t=vt(r),n=function(){r.ect(),r.Jat.MK?(r.Jat.bat(r.Fat)||(r.Act('Could not seek to exact timestamp "'+r.Fat+'", seeking instead to: "'+r.Jat.Ly+'"'),r.Fat=r.Jat.Ly),r.yct(r.lct.kct)):r.yct(r.lct._ct)};return{do:function(){t.bct(),t.Yat.Sat=null,t.Jat.Sat=null,t.Jat.style.display="none",t.ect(),this.$at()},Dh:function(){t.Jat.a4(),t.Jat.style.display=""},$at:function(){t.Jat.Sat||t.$at(t.Jat,n)},Det:function(n,i,r,e){t.Tct(),t.Ect.Det(n,i,r,e)}}}(),mct:function(){var t=vt(r),n=function(){r.yct(r.lct._ct),r.nct(r.jat.tct),r.$U(),r.Hat&&(r.Hat.call(t),r.Hat=null)};return{do:function(){t.Yat.addEventListener("seeked",n);try{t.Yat.Tat=t.Fat,t.$U()}catch(n){t.act(n.message)}},Dh:function(){t.Yat.removeEventListener("seeked",n)},$at:function(){},Det:function(n,i,r,e){t.Tct(),t.Ect.Det(n,i,r,e)}}}(),kct:function(){var t=vt(r),n=function(){r.yct(r.lct._ct),r.uct(),r.Hat&&(r.Hat.call(t),r.Hat=null)};return{do:function(){t.Jat.style.display="none",t.Jat.addEventListener("seeked",n);try{t.Jat.Tat=t.Fat,t.$U()}catch(n){t.act(n.message)}},Dh:function(){t.Jat.style.display="",t.Jat.removeEventListener("seeked",n)},$at:function(){},Det:function(n,i,r,e){t.Tct(),t.Ect.Det(n,i,r,e)}}}()},r.ect=function(){var t=r.Xat;r.Xat=r.wct.Rat||r.Sct.Rat,t&&!r.Xat&&r.dispatchEvent("updateend"),r.Rct(),r.$U(),r.Ict()},r.$U=function(){var t=r.if;t!==r.zat&&(r.zat=t,r.dispatchEvent(la.gh))},r.Nct=n,r.ga=i,r.Gat=new FL(i),r.JU="xQ"===i?0:1;var u=function(t){switch(t){case"OQ":return"audio";case"xQ":return"video"}}(i);return r.Cct=qL(u),r.Dct=qL(u),n.appendChild(r.Cct),n.appendChild(r.Dct),r.wct=new CL(r.Cct,r.ga),r.Sct=new CL(r.Dct,r.ga),r.Yat=r.wct,r.Jat=r.Sct,r.gct=r.jat.tct,r.Ect=r.lct._ct,r.gct.do(),r.Ect.do(),r.aZ(),r.Mh(),r}ct(n,t);var i=n.prototype;return i.Oct=function(t){return t===this.wct?this.Sct:this.wct},i.Act=function(t){this.Fot=t,this.dispatchEvent({type:"warning",warning:this.Fot})},i.act=function(t){this.FE=t,this.dispatchEvent({type:"error",error:t})},i.hct=function(t){var n,i=this,r=this.Oct(t);return n="xQ"===this.ga?{Ls:function(){if(i.Uat!==t)return 0;var n=y(t.style.opacity);return m(n)?1:n},Ac:function(n){n=Gs(n,0,1),r.style.opacity=""+(1-n),1===n&&(i.Uat=t,t.style.zIndex="2",r.style.zIndex="1",r.style.opacity="1")},fct:1,xct:function(){if(n.Ls()!==n.fct)return n.Ac(n.fct)}}:{Ls:function(){return t.volume},Ac:function(i){var e;try{t.volume=i}catch(t){e=t}try{r.volume=n.fct-i}catch(t){e=t}return e},fct:this.JU,xct:function(){if(n.Ls()!==n.fct)return n.Ac(n.fct)}}},i.$at=function(t,n){var i=this.Gat.Oat(this.Yrt(),1,this.Yat.Sat,this.Jat.Sat);return!!i&&(this.bct(),t.Sat=i,t.do(n),t.F4&&this.dispatchEvent("durationchange"),!0)},i.Pct=function(){this.bct(),this.Gat.Ch(),this.wct.a4(),this.Sct.a4(),this.ect()},i.Bd=function(){return this.Yat.Bd()},i.Yrt=function(){return this.seeking?this.Fat:this.Yat.Tat},i.Det=function(t,n){var i=this,r=!n;this.dispatchEvent("seeking"),this.pause(),this.Ect.Det(t,r,r,function(){i.dispatchEvent("seeked"),i.dispatchEvent("timeupdate",!0)})},i.uct=function(){var t=this.Yat;this.nct(this.jat.VA),this.Yat=this.Jat,this.Jat=t,this.hct(this.Yat).xct(),this.bct(),this.Jat.pause(),this.Jat.Sat=null,this.ect(),this.nct(this.jat.tct)},i.aZ=function(){for(var t=this,n=["timeupdate","play","playing"],i=function(n,i){if("error"===i.type)return i.error?t.act(new mC(yC.KG,{code:"VEE"+i.error})):t.act(new mC(yC.KG,{code:"VEE"+n.Is.code}));n===t.Yat&&t.dispatchEvent({type:i.type,origin:n})},r=i.bind(null,this.wct),e=i.bind(null,this.Sct),u=0;u<n.length;u++){var s=n[u];this.wct.addEventListener(s,r),this.Sct.addEventListener(s,e)}this.wct.addEventListener("error",r),this.Sct.addEventListener("error",e);for(var o=0;o<FS.length;o++){var a=FS[o];this.wct.addEventListener(a,this.$U),this.Sct.addEventListener(a,this.$U)}},i.Mh=function(){this.addEventListener("seeking",this.Est),this.addEventListener("timeupdate",this.Est)},i.nct=function(t){var n;if(this.gct!==t){do{(n=this.gct).Dh()}while(n!==this.gct);this.gct=t,t.do()}},i.yct=function(t){var n;if(this.Ect!==t){do{(n=this.Ect).Dh()}while(n!==this.Ect);this.Ect=t,t.do()}},i.Tct=function(){this.Hat=null,this.yct(this.lct._ct)},i.load=function(){this.pause(),this.Tct(),this.Yat.Sat=null,this.Jat.Sat=null,this.nct(this.jat.tct)},i.Dh=function(){this.Tct(),this.nct(this.jat.VA),this.Pct(),this.wct.unload(),this.Sct.unload(),this.Nct.removeChild(this.Cct),this.Nct.removeChild(this.Dct),this.FE=null,this.Fot=null},i.OZ=function(){var t=this,n=this.Yrt();this.Pct(),this.Ect.Det(n,!1,!1,function(){t.dispatchEvent("OZ",!0)})},i.play=function(){this.hct(this.Yat).xct(),this.Yat.MK&&this.Yat.play()},i.pause=function(){this.wct.pause(),this.Sct.pause()},i.Qot=function(t){var n=this,i=function(){n.dispatchEvent("Lot",!0)};this.pause(),this.Yat.Xv?this.Ect.Det(t,this.Jat===this.wct,this.Jat===this.Sct,i):this.Jat.Xv?this.Ect.Det(t,!1,!1,i):this.Jat.bat(t)?this.Ect.Det(t,this.Jat===this.wct,this.Jat===this.Sct,i):i()},i.S9=function(t){this.bct(),this.Gat.S9(t),this.ect(),this.Ect.$at()},i.Yot=function(t){return this.Cct.canPlayType('video/mp4; codecs="'+t+'"')},i.Zot=function(){return g.max(this.Cct.offsetWidth,this.Dct.offsetWidth)},i.Jot=function(){return g.max(this.Cct.offsetHeight,this.Dct.offsetHeight)},i.Rct=function(){!this.Vat&&this.loaded&&(this.Vat=!0,this.dispatchEvent("loaded"))},i.Ict=function(){if("xQ"===this.ga){var t=this.Yv,n=this.Qv;t>0&&n>0&&(this.Wat!==t||this.qat!==n)&&(this.Wat=t,this.qat=n,this.dispatchEvent("resize"))}},i.bct=function(){var t=this.Xat;this.Xat=!0,t||this.dispatchEvent("updatestart")},T(n,[{key:"Wd",get:function(){var t=[];return m(this.wct.Ly)||t.push({Ly:this.wct.Ly,Uy:this.wct.Uy}),m(this.Sct.Ly)||t.push({Ly:this.Sct.Ly,Uy:this.Sct.Uy}),iO(ZD(new jD(t)),this.Gat.Wd)}},{key:"duration",get:function(){return this.Yat.F4?this.Yat.Uy:this.Jat.F4?this.Jat.Uy:NaN}},{key:"paused",get:function(){return this.Yat.zv}},{key:"ended",get:function(){return this.Yat.Xv}},{key:"muted",get:function(){return this.Yat.muted&&this.Jat.muted},set:function(t){this.Yat.muted=t,this.Jat.muted=t}},{key:"volume",get:function(){return this.JU},set:function(t){this.JU=t,this.Mat&&this.Mat.rat(),this.Jat.volume=0,this.Yat.volume=this.JU}},{key:"error",get:function(){return this.FE}},{key:"warning",get:function(){return this.Fot}},{key:"seeking",get:function(){return this.Ect!==this.lct._ct}},{key:"loaded",get:function(){return this.Yat.MK}},{key:"Gv",get:function(){return this.Yat.Gv},set:function(t){t>=0&&(this.Yat.Gv=t,this.Jat.Gv=t)}},{key:"Yv",get:function(){return this.Yat.Yv}},{key:"Qv",get:function(){return this.Yat.Qv}},{key:"AO",get:function(){return this.Xat}},{key:"if",get:function(){var t;if(this.Ect===this.lct.pct||this.Ect===this.lct.kct)t=ya.wf;else{var n=this.Yat.if;if(n<=ya.yf)t=n;else{var i=tf.pm(this.Wd).jy(),r=this.duration,e=this.Yrt();m(r)||(e=g.min(e,r));var u=i.mm(e);if(u){var s=u.Uy(0);t=s-e>=3*this.Gv||!m(r)&&s>=r?ya.kf:ya.mf}else t=ya.yf}}return t===ya.gf&&this.Vat?ya.wf:t}}]),n}(gC);function WL(t,n){return t.Tat-n.Ly}function qL(t){var n=s.createElement(t);return n.preload="metadata","audio"===t&&(n.style.display="none"),"video"===t&&(n.style.display="",n.style.zIndex="1"),Ne(n),n.controls=!1,n}var zL,GL=function(){function t(t){var n=this;this.Bct=function(){(m(n.Lct)||n.Mct)&&(n.Lct=n.Ux()),n.Uct=n.Lct,n.Mct=!1},this.Fct=function(){var t=n.Ux();n.Hct(t),n.Lct=t},this.Vct=function(){n.XS.if<=ya.yf&&n.Fct()},this.Xct=function(){n.Hct(n.Lct),n.Mct=!0},this.Wct=function(){n.Lct=n.Ux()},this.XS=t,this.il=tf.bm(),this.Uct=NaN,this.Lct=NaN,this.Mct=!1,t.addEventListener("playing",this.Bct),t.addEventListener("pause",this.Fct),t.addEventListener("seeking",this.Xct),t.addEventListener("timeupdate",this.Wct),t.addEventListener(la.gh,this.Vct)}var n=t.prototype;return n.mU=function(){var t=this.il,n=this.Uct;if(!m(n)){var i=this.Ux();n<i&&(t=t.sm(new tf([n,i])))}return t.qy()},n.Ux=function(){return this.XS.Yrt()},n.Hct=function(t){var n=this.Uct;n<t&&(this.il=this.il.sm(new tf([n,t]))),this.Uct=NaN},n.Tet=function(){var t=this.Ux();this.Hct(t),this.Mct=!0},n.Ch=function(){this.il=tf.bm(),this.Uct=NaN,this.Lct=NaN,this.Mct=!1},n.$u=function(){var t=this.XS;t.removeEventListener("playing",this.Bct),t.removeEventListener("pause",this.Fct),t.removeEventListener("seeking",this.Xct),t.removeEventListener("timeupdate",this.Wct),t.removeEventListener(la.gh,this.Vct),this.XS=null},t}(),jL=function(t){function n(n,i){var r;return(r=t.call(this)||this).uu=!1,r.QU=NaN,r.FE=void 0,r.configuration={},r.loading=!1,r.loaded=!1,r.zat=ya.gf,r.qct=function(){r.zct.seeking||(r.zct.removeEventListener("seeked",r.qct),r.dispatchEvent("seeked"),r.Gct.paused?r.WI=r.jct:r.Qct(),r.$U())},r.Yct=function(){r.zct.paused||(r.zct.removeEventListener("playing",r.Yct),r.dispatchEvent("playing"))},r.Zct=function(t){r.WI=r.Jct,r.FE=t,r.dispatchEvent({type:"error",error:r.FE})},r.Kct={paused:!0,play:function(){r.removeEventListener("sst",r.Kct.$ct),r.uu?(r.WI=r.tht,r.zct.removeEventListener("playing",r.Yct),r.zct.addEventListener("playing",r.Yct),r.zct.play(),r.dispatchEvent("play")):r.addEventListener("sst",r.Kct.$ct)},$ct:function(){r.removeEventListener("sst",r.Kct.$ct),r.WI.play()},stall:function(){},pause:function(){r.Kct.$ct&&r.removeEventListener("sst",r.Kct.$ct),r.zct.pause(),r.dispatchEvent("pause"),r.WI=r.jct},load:function(t){},Yrt:function(){return r.uu?r.zct.Yrt():0},Det:function(t,n){var i=$D(r.Wd,t);n=n||!i,r.zct.removeEventListener("seeked",r.qct),r.zct.addEventListener("seeked",r.qct),r.Gct.seekTime=t,r.WI=r.Gct,r.dispatchEvent("Tet"),r.zct.Det(t,n),r.dispatchEvent("seeking")},nP:function(){return r.zct.if},OZ:function(t){r.Gct.seekTime=r.Yrt(),r.WI=r.nht,r.zct.removeEventListener("OZ",r.nht.iht),r.zct.addEventListener("OZ",r.nht.iht),r.zct.OZ(t),r.$U()},forwardEvent:function(t){"pause"===t.type&&r.zct.ended||r.dispatchEvent(t)}},r.jct=Dt(Dt({},r.Kct),{pause:function(){r.removeEventListener("sst",r.Kct.$ct)},Det:function(t){r.Gct.paused=!0,r.Kct.Det(t)},OZ:function(t){r.Gct.paused=!0,r.Kct.OZ(t)}}),r.rht=Dt({},r.jct),r.eht=Dt(Dt({},r.jct),{load:function(t,n){r.removeEventListener("sst",r.eht.uht),n||r.dispatchEvent("loadstart"),r.uu?r.zct.load(t):(r.eht.sht=t,r.addEventListener("sst",r.eht.uht))},uht:function(){r.removeEventListener("sst",r.eht.uht),r.WI.load(r.eht.sht,!0)},sht:null,Yrt:function(){return r.uu?r.zct.Yrt():r.eht.oht},Det:function(t){r.removeEventListener("sst",r.eht.aht),r.uu?(r.WI=r.jct,r.WI.Det(t)):(r.eht.oht=t,r.addEventListener("sst",r.eht.aht),r.dispatchEvent("seeking"))},aht:function(){r.removeEventListener("sst",r.eht.aht),r.WI.Det(r.eht.oht)},oht:0,OZ:function(t){}}),r.tht=Dt(Dt({},r.Kct),{Det:function(t){r.Gct.paused=!1,r.Kct.Det(t)},play:function(){},stall:function(){r.WI=r.cht,r.cht.hht=r.zct.Yrt(),r.cht.paused=!1,r.zct.addEventListener("Lot",r.cht.fht),r.zct.Qot(r.cht.hht),r.$U()},OZ:function(t){r.Gct.paused=!1,r.Kct.OZ(t)}}),r.cht=Dt(Dt({},r.tht),{paused:!1,hht:0,Det:function(t){r.zct.removeEventListener("Lot",r.cht.fht),r.cht.paused?r.WI=r.jct:r.WI=r.tht,r.WI.Det(t),r.$U()},Yrt:function(){return r.cht.hht},nP:function(){return g.min(r.zct.if,ya.yf)},forwardEvent:function(){},play:function(){r.cht.paused=!1,r.dispatchEvent("play")},pause:function(){r.cht.paused=!0,r.dispatchEvent("pause")},stall:function(){},fht:function(){r.zct.seeking||(r.zct.removeEventListener("Lot",r.cht.fht),r.cht.paused?r.WI=r.jct:r.Kct.play(),r.$U())}}),r.Gct=Dt(Dt({},r.Kct),{paused:!1,seekTime:0,Yrt:function(){return r.Gct.seekTime},play:function(){r.Gct.paused=!1},pause:function(){r.Gct.paused=!0,r.zct.pause(),r.dispatchEvent("pause")}}),r.nht=Dt(Dt({},r.Gct),{Det:function(t){r.zct.removeEventListener("OZ",r.nht.iht),r.Gct.paused?r.WI=r.jct:r.WI=r.tht,r.WI.Det(t)},nP:function(){return g.min(r.zct.if,ya.yf)},forwardEvent:function(){},stall:function(){},iht:function(){r.zct.seeking||(r.zct.removeEventListener("OZ",r.nht.iht),r.Gct.paused?r.WI=r.jct:r.Kct.play(),r.$U())}}),r.Jct=Dt(Dt({},r.Kct),{play:function(){},pause:function(){},load:function(){},Yrt:function(){return NaN},nP:function(){return ya.gf},Det:function(t){r.Kct.Det(t,!0)},OZ:function(t){}}),r.fs=function(t){r.dispatchEvent(t)},r.vht=function(t){r.WI.forwardEvent(t)},r.dht=function(t){r.Zct(t.error)},r._ht=function(t){if(t.origin&&t.origin.F4)return r.Td();r.WI.stall()},r.yot=function(){var t=r.zct.duration;t&&r.QU!==t&&(r.QU=t,r.dispatchEvent("durationchange"))},r.ght=function(){r.zct.loaded&&(r.loaded=!0)},r.$U=function(){var t=r.if;t!==r.zat&&(r.zat=t,r.dispatchEvent(la.gh))},r.wht=n,r.JT=i,r.yht=new GL(vt(r)),r.zct=new IL,r.WI=r.eht,r.Nct=s.createElement("div"),r.Nct.style.position="absolute",r.Nct.style.width="100%",r.Nct.style.height="100%",r.mht(),r}ct(n,t);var i=n.prototype;return i.Qct=function(){this.Kct.play()},i.mht=function(){for(var t=["resize","volumechange","ratechange"],n=["timeupdate","pause","warning"],i=0;i<t.length;i++){var r=t[i];this.zct.addEventListener(r,this.fs)}for(var e=0;e<n.length;e++){var u=n[e];this.zct.addEventListener(u,this.vht)}this.zct.addEventListener("ended",this._ht),this.zct.addEventListener("error",this.dht),this.zct.addEventListener("durationchange",this.yot),this.zct.addEventListener("loaded",this.ght),this.zct.addEventListener(la.gh,this.$U)},i.setup=function(){this.JT.uS.parentNode===this.wht?this.wht.replaceChild(this.Nct,this.JT.uS):(this.JT.uS.parentNode&&this.JT.uS.parentNode.removeChild(this.JT.uS),this.wht.appendChild(this.Nct))},i.play=function(){this.WI.play()},i.pause=function(){this.WI.pause()},i.kht=function(t){this.zct&&this.zct.Dh(t),this.uu=!1},i.Td=function(){this.pause(),this.WI=this.rht,this.FE=void 0,this.dispatchEvent("ended"),this.dispatchEvent("pause")},i.load=function(t){this.WI.load(t)},i.unload=function(){return this.zct.Dh(),this.yht.$u(),this.Nct.parentNode===this.wht?this.wht.replaceChild(this.JT.uS,this.Nct):(this.Nct.parentNode&&this.Nct.parentNode.removeChild(this.Nct),this.wht.appendChild(this.JT.uS)),this.gs(),this.JT.uS},i.reset=function(t){this.uu=!1,this.WI=this.eht,this.FE=void 0,this.QU=NaN,this.zat=ya.gf,this.yht.Ch(),this.kht(t),this.loading=!1,this.loaded=!1,this.dispatchEvent("reset")},i.OZ=function(t){this.WI.OZ(t)},i.S9=function(t){return this.zct.S9(t),Ct.resolve()},i.Bd=function(){return this.zct.Bd()},i.Yrt=function(){return this.WI.Yrt()},i.Det=function(t){this.yht.Tet(),this.WI.Det(t)},i.Mtt=function(t,n){return Ct.resolve()},i.canPlayCodecs=function(t){return this.zct.Yot('video/mp4; codecs="'+t+'"')},i._et=function(t){var n={};for(var i in t)if(B.call(t,i)){var r=t[i];!this.zct.videoStream&&r.xQ&&(this.zct.videoStream=new XL(this.Nct,"xQ"),n.xQ=this.zct.videoStream),!this.zct.audioStream&&r.OQ&&(this.zct.audioStream=new XL(this.Nct,"OQ"),n.OQ=this.zct.audioStream,this.dispatchEvent("Zut"))}return this.uu=!0,this.dispatchEvent("sst"),Ct.resolve(n)},T(n,[{key:"let",get:function(){return this.uu}},{key:"zd",get:function(){return this.Nct}},{key:"Wd",get:function(){return this.zct.Wd}},{key:"volume",get:function(){return this.zct.volume},set:function(t){this.zct.volume=t}},{key:"duration",get:function(){return this.QU}},{key:"muted",get:function(){return this.zct.muted},set:function(t){this.zct.muted=t}},{key:"paused",get:function(){return this.WI.paused&&this.zct.paused}},{key:"played",get:function(){return this.yht.mU()}},{key:"ended",get:function(){return this.WI===this.rht}},{key:"seeking",get:function(){return this.WI===this.Gct}},{key:"error",get:function(){return this.FE||this.zct.error}},{key:"warning",get:function(){return this.zct.warning}},{key:"width",get:function(){return this.zct.Zot()}},{key:"height",get:function(){return this.zct.Jot()}},{key:"Gv",get:function(){return this.zct.Gv},set:function(t){this.zct.Gv=t}},{key:"if",get:function(){return this.WI.nP()}},{key:"Yv",get:function(){return this.zct.Yv}},{key:"Qv",get:function(){return this.zct.Qv}}]),n}(gC);!function(t){t.oj="unsupported",t.pht="native",t.Aht="hls-native",t.bht="hls-mse",t.Tht="hls-switching-video"}(zL||(zL={}));var QL=function(){function t(){this.Eht={},this.Sht(zL.pht,rL),this.Sht(zL.Aht,rL),this.Sht(zL.bht,kL),this.Sht(zL.Tht,jL)}return t.prototype.Sht=function(t,n){this.Eht[t]=n},t.Sht=function(n,i){t.TK.Sht(n,i)},t.Rht=function(n,i,r){var e=t.TK.Eht[n];return e?new e(i,r):void 0},t}();QL.TK=new QL;var YL=function(t){function n(n){var i;return(i=t.call(this)||this).Iht=function(t){i.vs(t)},i.Nht=n,i.Cht(),i}ct(n,t);var i=n.prototype;return i.Cht=function(){this.Nht.ls("HD",this.Iht)},i.Dht=function(){this.Nht.ys("HD",this.Iht)},i.Dh=function(){this.Dht()},T(n,[{key:"GD",get:function(){return this.Nht.GD}},{key:"jD",get:function(){return this.Nht.jD}},{key:"Oht",set:function(t){var n=this.Nht;n.GD===t.GD&&n.jD===t.jD||(this.Dht(),this.Nht=t,this.Cht(),this.vs(new Yb(t.jD,t.GD)))}}]),n}(ii);function ZL(t){return void 0!==t&&-1!==t.indexOf("m3u8")}function JL(t){return void 0!==t&&(0===t.toLowerCase().indexOf("application/x-mpegurl")||0===t.toLowerCase().indexOf("application/vnd.apple.mpegurl"))}function KL(t,n){var i=t.type;return i?Fg?JL(i)?!Gg||n.useSwitchOverMSE||P.nn&&n.vr&&n.vr[360]?!Xg||P.Yt||P.$t&&P.Ot?Wg?zL.Tht:zL.oj:zL.Aht:zL.bht:zL.pht:zL.oj:zL.pht}var $L=function(t,n,i,r,e){var u,s,o,a,f,v,l=this,w=null,k=null,p=null,A=!0,b=null,T=null,E=!1,S=null,R=null,I=null,N=Rw,C=Rw,D=!0,O=null,x={u0:0,tat:0},B=null,L=null,M=null,U=1,H=!1,V="none",X=!0,W=!0,q=!1,z=null,G=!0,j=!1,Q=ya.gf,Y=!1,Z=!1,J=NaN,K=null,$=null,tt=P.Ft&&Vg,nt=!1,it="",rt=zL.oj,et=null,ut=function(){var i=Ct.coroutine(Nt.mark(function i(){return Nt.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(l.Yu=!0,l.gs(),B&&Lt(null),v&&(v.Dh(),v=null),f&&(f.Ch(),f=null),cn(),k&&(k.unload(),k=null),!R.uS){i.next=11;break}return i.next=10,n.TS(R);case 10:R=null;case 11:if(!I.uS){i.next=15;break}return i.next=14,n.TS(I);case 14:I=null;case 15:u.Dh(),t=null;case 17:case"end":return i.stop()}},i)}));return function(){return i.apply(this,arguments)}}(),st=function(){var t=new mC(yC.oj,{info:"This browser does not allow you to watch this video. Try to update your browser or use a different browser."});l.dispatchEvent({type:"unsupportedPlatform"}),nn(t)},ot=function(){var t,r;return(t=i.audioOnly?(r=n.rS(Zh.i_)).uS:(r=n.rS(Zh.n_)).uS).preload="none",Ne(t),r},at=function(t){return t===R?I:R},ct=function(){b.style.zIndex="1",T.style.zIndex="0",b.style.display=A?"":"none",T.style.display=A&&E?"":"none"},ht=function(t){wt(t.GZ),gt(t.jZ),s&&(s.GZ=o),kt()},ft=function(t,n){mt(t.GZ,n),yt(t.jZ),s&&(s.GZ=o)},vt=function(){Qt(),It(),l.dispatchEvent("timeupdate"),l.dispatchEvent("ended")},dt=function(){var t=function(t){if("error"===t.type)return nn(t.error);l.dispatchEvent(t)},n=function(t,n){var i;for(i=0;i<t.length;i+=1)k.addEventListener(t[i],n,!0)};switch(k.addEventListener("Zut",function(){k.volume=U,k.muted=H}),k.addEventListener("loadedmetadata",function(t){rt===zL.pht&&(j=!0,l.dispatchEvent(t))}),k.addEventListener("durationchange",function(){var t=k.duration;t&&t!==1/0&&J!==t&&(J=t,l.dispatchEvent("durationchange"))}),k.addEventListener("seeking",jt),k.addEventListener("seeked",Qt),k.addEventListener("ended",vt),k.addEventListener(la.gh,on),k.setup(),v.Ret=k,n(["timeupdate","playing","ratechange","resize"],t),rt){case zL.pht:case zL.Aht:n(["abort","emptied","error","loadstart","progress","suspend"],t);break;case zL.bht:n(["play","pause"],Et)}k.addEventListener("warning",function(t){l.warning=t.warning,l.dispatchEvent(t)}),l.dispatchEvent("volumechange")},lt=function(t){w&&w._ut(),k&&(w=new UB(t,tt,f,r))},_t=function(t){var n=Pt(t.sources),r=t.textTracks||[],e=KB(t.configuration,i);return n&&n.contentProtection&&n.contentProtection.aes128&&n.contentProtection.aes128.useCredentials&&(e.Uut=!0),{sources:[n],textTracks:r,configuration:e}},gt=function(t){yt(t)},wt=function(t){o&&(o.Dh(),o=null,l.initialized=!1),(o=t)&&(l.dispatchEvent("loadstart",!0),o.addEventListener("loadedmetadata",function(){j=!0,on()}),o.addEventListener("durationchange",function(){J=o.Vv,l.dispatchEvent("durationchange")}),o.addEventListener("Is",function(t){nn(t.Is)}),o.addEventListener("xD",pt),o.addEventListener("nl",pt),o.kJ.addEventListener("renditionUpdated",function(){Jt()}),v.kJ=o.kJ)},yt=function(t){var n;a&&(a.Dh(),a=null),k&&(a=t)&&(n=a.jrt,a.addEventListener("CZ",function(t){var n=l.videoWidth,i=l.videoHeight;K=t.yY,l.dispatchEvent(t),Jg&&n===l.videoWidth&&i===l.videoHeight||l.dispatchEvent("resize")}),a.addEventListener("Is",function(t){nn(t.error)}),a.addEventListener("Rrt",function(t){l.dispatchEvent(t)}),a.Ret=k,m(n)||Wt(n))},mt=function(t,n){o&&(o.Dh(),o=null,l.initialized=!1),(o=t)&&(l.dispatchEvent("loadstart",!0),o.addEventListener("loadedmetadata",function(){j=!0,on()}),o.addEventListener(pa.Qf,function(t){l.dispatchEvent(t)}),o.addEventListener(pa.Zf,function(t){l.dispatchEvent(t)}),o.addEventListener("durationchange",function(){J=o.Vv,l.dispatchEvent("durationchange")}),o.addEventListener("Is",function(t){nn(t.Is)}),o.addEventListener("xD",pt),o.addEventListener("nl",pt),o.addEventListener("NJ",function(){l.dispatchEvent("progress")}),o.kJ.addEventListener("renditionUpdated",function(){Jt()}),o.kJ.addEventListener("renditionUpdated",function(t){var i,r=t.yY.OY&&t.yY.OY.OQ;r&&-1!==r.indexOf("mp4a.40.3")&&("m4"!==n.A4||zg||(i=B,_C(function(){n.useSwitchOverMSE=!0;var t=W;B=null,an({sources:i,configuration:n}),t||Rt()})))}),v.kJ=o.kJ)},kt=function(){k.addEventListener("play",function(){l.play({fromNative:!0})}),k.addEventListener("pause",function(){l.pause({fromNative:!0})}),k.addEventListener("volumechange",function(){l.volume=k.volume,l.muted=k.muted}),k.addEventListener("webkitpresentationmodechanged",Ut)},pt=function(){var t=G,n=!o||o.nl;G=n,n&&!t?l.dispatchEvent(pa.Uf):!n&&t&&l.dispatchEvent(pa.Mf)},At=function(){X=!1,W=!1,Y=!0,k.configuration.useNativeVideoPlayback||k.loaded||St(),Jt()},bt=function t(){l.removeEventListener("initialized",t),l.removeEventListener("initialized",Tt),X&&(At(),l.ended?qt(0):Kt(),k.play(),a&&a.Ad())},Tt=function t(){l.removeEventListener("initialized",bt),l.removeEventListener("initialized",t),X&&(At(),Kt())},Et=function(t){var n=W;W="pause"===t.type,n&&!W?l.play({fromNative:!0}):!n&&W&&l.pause({fromNative:!0})},St=function(){Y=!0,k.configuration.useNativeVideoPlayback?(k.load(),x.tat="now"):k.loading||(k.load(),k.loading=!0),Jt()},Rt=function(t){if(t=t||{},W=!1,D&&(D=!1,n.eR()),x.xht=!1,!l.initialized||!k){if(t.onlyWhenInitialized){var i=new mC(yC.ej,{code:"MGB6720"});throw nn(i),i}return l.removeEventListener("initialized",bt),l.removeEventListener("initialized",Tt),l.addEventListener("initialized",t.fromNative?Tt:bt),l.dispatchEvent("play",!0),void l.dispatchEvent("waiting",!0)}if(X){if(q&&l.ended)return It(),void l.dispatchEvent("timeupdate",!0);l.dispatchEvent("play",!0),t.fromNative?Tt():bt()}},It=function(t){W=!0,(t=t||{}).fromNative||l.removeEventListener("initialized",bt),l.removeEventListener("initialized",Tt),!X&&k&&(X=!0,t.fromNative||(k.pause(),a&&a.bd()),l.dispatchEvent("pause",!0))},Ot=function(t){return{type:ZL(t)?"application/vnd.apple.mpegurl":"",src:t}},xt=function(t){return"string"==typeof t},Pt=function(t){if(ZB(t))return t.type?t:Ot(t.src);if(xt(t))return Ot(t);if(F(t)&&xt(t[0])){for(var n=0;n<t.length;n++){var i=t[n];if(ZL(i))return Ot(i)}return Ot(t[0])}if(F(t)&&ZB(t[0])){for(var r=0;r<t.length;r++){var e=t[r];if(JL(e.type)||!e.type&&ZL(e.src))return e.type?e:Ot(e.src)}return t[0]}return{type:null,src:null}},Bt=function(t){var n=(t=_t(t)).sources[0],i=t.configuration,u=KL(n,i);!function(t,n){switch(t){case zL.pht:case zL.Aht:n.A4=!1,n.Pht=!1;break;case zL.bht:n.A4="m4",n.Pht=!0;break;case zL.Tht:n.A4="l5",n.Pht=P.Nt}}(u,i);var o=function(t,n,i){var u,o,a,c=i.configuration;switch(t){case zL.pht:a=u=o=null;break;case zL.Aht:a=null;var h=new NB(c,r);u=h,o=new BB(h);break;case zL.bht:case zL.Tht:a=new VB(c,r);var f=new IB(c,a,r,e);u=f,o=new xB(f);break;default:return null}return new lD(n,t,i,a,u,o,s)}(u,n,t);return o?(o.jZ&&(o.jZ.Gv=l.playbackRate),o):null},Lt=function(t){an({sources:t})},Mt=function(n,i){var r=S,e=r.uS,s=!1,o=!l.paused,a=rt,c=l.playbackRate,h=l.Bht;$&&($.Dh(),$=null),cn();var f=n&&n.XJ||null;n&&n.HJ||null,L=n&&n.VS||null,M=f&&f.configuration||null,rt=n&&n.VJ||zL.oj,rn();var v={type:"Lht",Mht:n,Wg:M,Uht:i};if(l.dispatchEvent(v),rt!==zL.oj){if(k){l.pause();var d=a===rt||a===zL.Aht&&rt===zL.pht||a===zL.pht&&rt===zL.Aht,_=i&&!P.Ft;if(d&&!_)k.reset(),w.Ch();else{if(_?(p=k,e=(r=at(r)).uS):e=k.unload(),!(s=QL.Rht(rt,t,r)))return void st();k=s,dt(),lt(e)}Qt(),j=!1,Q=ya.gf,Y=!1,Z=!1,J=NaN,O=null,l.dispatchEvent("durationchange"),x.tat=0,x.u0=0,x.xht=!0,l.dispatchEvent("timeupdate")}else{if(!(s=QL.Rht(rt,t,r)))return void st();k=s,r.uS.removeAttribute("poster"),dt(),lt(r.uS)}switch(S=r,u.Oht=S.CB,b=k.zd,p?(T=p.zd,E=!0):(T=at(r).uS,E=!1),ct(),M.crossOrigin){case qa.Bv:case qa.Lv:S.uS.setAttribute("crossorigin",M.crossOrigin);break;default:S.uS.removeAttribute("crossorigin")}if(h!==l.Bht&&l.dispatchEvent(pa.Of),Ut(),Ft(),!L)return B=null,void(l.initialized=!1);!function(t,n){switch(rt){case zL.pht:case zL.Aht:ht(t);break;case zL.bht:case zL.Tht:ft(t,n);break;default:return}t.XS=l,t.jJ(V)}($=n,M),k.src=L,w.fut(f&&f.textTracks),l.playbackRate=c,B=L;var g={type:"Fht",Mht:n,Wg:M,Uht:i};l.dispatchEvent(g),l.initialized=!0,l.dispatchEvent("initialized"),pt(),qt("now"),k.configuration.useNativeVideoPlayback&&P.Ft&&o&&tn()&&(l.play(),l.pause()),f&&l.dispatchEvent({type:"sourcechange",sourceDescription:f})}else st()},Ut=function(){var t=it;(it=l.tst)!==t&&l.dispatchEvent("Hht")},Ft=function(){v&&(v.hH=tt&&nt)},Ht=function(){return k&&k.let?k.volume:U},Vt=function(){return Z?!k||x.xht?x.tat:a?a.jrt:k.Yrt():zt(O||0)},Xt=function(){return Z?Gt(Vt()):"now"===O?0:O||0},Wt=function(t){if(Z){if(O=null,"now"!==t||l.live||(t=0),"now"!==t&&(t=y(t)||0,t=un(t)),k){if(g.abs(x.tat-t)<.001&&sy()-x.u0<50)return;jt(),a?a.jrt=t:k.Det(t),k.seeking||Qt(),x={tat:t,u0:sy()}}}else qt(Gt(t))},qt=function(t){if(!Z){var n=Xt();return O=t,Kt(),void(n!==Xt()&&jt())}return Wt(zt(t))},zt=function(t){if("number"==typeof t&&l.live){var n=en();if(n.length)return t+n.end(0)}return t},Gt=function(t){if("now"===t)return 0;if("number"==typeof t&&l.live){var n=en();if(n.length)return t-n.end(0)}return t},jt=function(){q=!0,Zt(),et=c(Yt,100)},Qt=function(){q&&(q=!1,et&&Yt(),l.dispatchEvent("seeked"))},Yt=function(){Zt(),l.dispatchEvent("seeking")},Zt=function(){et&&(h(et),et=null)},Jt=function(){Z||(Z=!m(J)&&en().length>0&&(Y||!l.live))&&l.dispatchEvent("bat")},Kt=function t(){l.removeEventListener("bat",t),null!==O&&(Z?qt(O):l.addEventListener("bat",t))},$t=function(){return k&&k.let?k.muted:H},tn=function(){return W},nn=function(t){if(t&&t.code===yC.uj)return n=!W,Lt($.VS),void(n&&Rt());var n;tn()||It(),z=t,l.dispatchEvent({type:"error",error:z})},rn=function(){z=null},en=function(){return zD(a?a.sl:J>0?new jD([{Ly:0,Uy:J}]):QD)},un=function(t){var n=en();return n.length?Gs(t,n.start(0),n.end(n.length-1)):0},sn=function(){var t=k?k.if:ya.gf;return j&&(t=g.max(ya.wf,t)),t},on=function(){var t=sn();t!==Q&&(Q=t,l.dispatchEvent(la.gh))},an=function(t){var n=Bt(t);Mt(n,!1)},cn=function(){if(p){var t=p.unload();p=null,E=!1,T=t||at(S).uS,ct()}};l.initialized=!1,l.warning=null,l.play=Rt,l.pause=It,l.load=function(){if(!l.initialized||!k){var t=new mC(yC.ej,{code:"MGB7330"});throw nn(t),t}St(),qt("now")},l.Vht=Bt,l.Xht=Mt,l.$u=ut,l.Sd=an,l.xd=function(){A=!0,ct()},l.Pd=function(){A=!1,ct()},l.Bd=function(){return k&&k.Bd()},l.Qd=function(){var t=k?rE(k.Ret):{Yd:0,Zd:0,Jd:0};return Dt(Dt(Dt({},{Yd:0,Zd:0,Jd:0,Kd:0,$d:0,tl:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}),t),{Kd:8*kc.fd()})},_.defineProperty(l,"buffered",{get:function(){return zD(k?k.Wd:QD)}}),_.defineProperty(l,"played",{get:function(){return k?zD(k.played):QD}}),_.defineProperty(l,"seekable",{get:en}),_.defineProperty(l,"live",{get:function(){return!(!o||!LC.pQ(o.kJ.PY))}}),_.defineProperty(l,"volume",{get:Ht,set:function(t){(t=y(t))!==Ht()&&(k&&(k.volume=t),U=t,l.dispatchEvent("volumechange"))}}),_.defineProperty(l,"currentTime",{get:Xt,set:qt}),_.defineProperty(l,"dimensions",{get:function(){return u}}),_.defineProperty(l,"currentMonotonicTime",{get:Vt,set:Wt}),_.defineProperty(l,"currentProgramDateTime",{get:function(){return a?a.qd:null},set:function(t){var n,i;(i=t)&&"function"==typeof i.getTime&&!m(i.getTime())&&a&&(n=a.F8(t),m(n)||null===n||Wt(n))}}),_.defineProperty(l,"duration",{get:function(){return J}}),_.defineProperty(l,"muted",{get:$t,set:function(t){t!==$t()&&(H=t,k&&(k.muted=t),H=t,l.dispatchEvent("volumechange"))}}),_.defineProperty(l,"paused",{get:tn,set:function(t){t?It():Rt()}}),_.defineProperty(l,"preload",{get:function(){return V},set:function(t){V=Aw((t||"none").toLowerCase())}}),_.defineProperty(l,"ended",{get:function(){return k&&k.ended||!1}}),_.defineProperty(l,"seeking",{get:function(){return q}}),_.defineProperty(l,"error",{get:function(){return z||k&&k.error}}),_.defineProperty(l,"element",{get:function(){return t}}),_.defineProperty(l,"Bht",{get:function(){return M&&M.vr&&M.vr[360]?Rw:S===R?N:C}}),_.defineProperty(l,"videoWidth",{get:function(){return k?k.Yv:K&&K.resolution?K.resolution.width:0}}),_.defineProperty(l,"videoHeight",{get:function(){return k?k.Qv:K&&K.resolution?K.resolution.height:0}}),_.defineProperty(l,"frameRate",{get:function(){return a&&a.UY}}),_.defineProperty(l,"frameAccurateSeekEnabled",{get:function(){return!l.live&&k&&k.paused&&l.frameRate}}),_.defineProperty(l,"currentFrame",{get:function(){return a?a.Net(Vt()):NaN},set:function(t){l.frameAccurateSeekEnabled&&(t=y(t),Wt(a.Cet(t)))}}),_.defineProperty(l,"playbackRate",{get:function(){return a&&a.Gv||k&&k.Gv||1},set:function(t){(t=y(t))>0&&(a?a.Gv=t:k&&(k.Gv=t))}}),_.defineProperty(l,"videoTracks",{get:function(){return $&&$.kd.th||null}}),_.defineProperty(l,"audioTracks",{get:function(){return $&&$.md.th||null}}),_.defineProperty(l,"pd",{get:function(){return f}}),_.defineProperty(l,"online",{get:function(){return G}}),_.defineProperty(l,"Kut",{get:function(){return k&&k.Kut}}),_.defineProperty(l,"$ut",{get:function(){return k&&k.$ut}}),_.defineProperty(l,"tst",{get:function(){return k&&k.tst||"inline"},set:function(t){k&&(k.tst=t)}}),_.defineProperty(l,"Wht",{get:function(){return nt},set:function(t){nt=!!t,Ft()}}),_.defineProperty(l,"if",{get:sn}),function(){if(!t)throw new d("Invalid element.");var n;l.addEventListener(pa.Uf,function(){l.live&&qt("now")}),l.addEventListener("playing",cn),f=new Jd,v=new HB(l,f),l.addEventListener("fullscreenchange",Ft),Ft(),i.allowManualQualitySwitch&&(s=new _D),n=function(t){if("string"==typeof t)try{return wC.dn.ED(t,l)}catch(n){throw new d("Unknown rule: "+t)}return t},i.Jnt=function(t){var i,r=[];for(i=0;i<t.length;i+=1)r.push(n(t[i]));return r}(i.abrRules),l.addEventListener("durationchange",Jt),R=ot(),I=ot(),S=R,b=R.uS,T=I.uS,u=new YL(S.CB),N=R.pS,C=I.pS,ct(),Lt(null)}()};$L.prototype=new gC,$L.prototype.constructor=$L;var tM,nM=((tM={useSwitchOverMSE:!1,ManifestParser:"qht",allowManualQualitySwitch:"panel",initialRendition:"default",playbackRates:!1,isEmbeddable:!1,withCredentials:!1,enableKeyboardShortcuts:!0,skipImplicitHEAACDetection:!0,abrRules:[]}).abrRules.push("DownloadMetricRule"),tM.abrRules.push("OnlyAllowSameTrackTypeRenditionsRule"),jg&&tM.abrRules.push("AvoidHighBitrateStreamsRule"),P.Vt&&tM.abrRules.push("AvoidVideoResolutionGreaterThanDisplaySizeRule"),tM);var iM=function(t){function n(n,i,r){var e;return(e=t.call(this,Co.ph)||this).zht=n,e.Ght=i,e.jht=r,e}return ct(n,t),n.prototype.nh=function(){return new rM(this.zht&&this.zht.th)},n}(No),rM=function(t){function n(n){var i;return(i=t.call(this,"activequalitychanged")||this).quality=n,i}return ct(n,t),n}(ei),eM=function(t){function n(n,i){var r;return(r=t.call(this,Co.bh)||this).Qh=n||[],r.ih=i,r}return ct(n,t),n.prototype.nh=function(){return new uM(this.Qh.map(function(t){return t.th}))},n}(No),uM=function(t){function n(n){var i;return(i=t.call(this,"targetqualitychanged")||this).qualities=n,i.quality=i.qualities.length>0?i.qualities[0]:void 0,i}return ct(n,t),n}(ei),sM=function(t){function n(n){var i;return(i=t.call(this,"update")||this).quality=n,i}return ct(n,t),n}(ei);function oM(t){return{get bandwidth(){return t.ZC},get codecs(){return t.OY},get id(){return t.Wh},get name(){return t.Gh},get averageBandwidth(){return t.ZC},get label(){return t.Gh},set label(n){t.Gh=Jo(n)},get height(){return t.hg},get width(){return t.mc},get frameRate(){return t.hJ},get firstFrame(){return t.Qht},get available(){return t.RG},addEventListener:function(n,i){t.ls(n,i)},removeEventListener:function(n,i){t.ys(n,i)}}}function aM(t){return{get bandwidth(){return t.ZC},get codecs(){return t.OY},get id(){return t.Wh},get name(){return t.Gh},get averageBandwidth(){return t.ZC},get label(){return t.Gh},set label(n){if(!X(n))throw new d("Unexpected - The provided label is not a string");t.Gh=n},get audioSamplingRate(){return t.Yht},get available(){return t.RG},addEventListener:function(n,i){t.ls(n,i)},removeEventListener:function(n,i){t.ys(n,i)}}}var cM=function(t){function n(n,i){var r;(r=t.call(this)||this).$c=void 0,r.Zht=void 0,r.vJ=void 0,r.Jht=function(){return r.Kht()},r.$ht=function(){return r.tft()},r.nft=function(){return r.vs(new Ff(vt(r)))},r.Fm=Xf(),r.ift=n,r.rft=i,r.Bm=new Uf;for(var e=r.ift.qualities,u=0;u<e.length;u++){var s=e.item(u),o=r.eft(s);o.ls("update",r.nft),r.Bm.qa(o)}return r.ift.qualities.addEventListener("activequalitychanged",r.Jht),r.ift.qualities.addEventListener("targetqualitychanged",r.$ht),r.Kht(),r.tft(),r}ct(n,t);var i=n.prototype;return i.uft=function(t){t!==this.Zht&&(this.Zht=t,t&&this.vs(new iM(t)))},i.sft=function(t,n){return t===n||!(!t||!n)&&(r=n,(i=t).length===r.length&&On(i,r));var i,r},i.oft=function(t){for(var n=0,i=this.Bm.Oh;n<i.length;n++){var r=i[n];if(r.aft===t)return r}},i.cft=function(t){for(var n=[],i=0,r=this.Bm.Oh;i<r.length;i++){var e=r[i];Dn(t,e.aft)&&n.push(e)}return n},i.Kht=function(){var t=this.Xh?this.ift.qualities.activeQuality:void 0,n=t&&this.oft(t)||void 0;this.uft(n)},i.tft=function(){var t=this.ift.qualities.targetQuality;t?U(t)?this.Yh=this.cft(t)||void 0:this.Yh=this.cft([t])||void 0:this.Yh=void 0},i.Wm=function(t){this.Xh=t},i.Dh=function(){this.ift.qualities.removeEventListener("activequalitychanged",this.Jht),this.ift.qualities.removeEventListener("targetqualitychanged",this.$ht);for(var t=0,n=this.Bm.Oh;t<n.length;t++){var i=n[t];i.ys("update",this.nft),i.Dh()}},T(n,[{key:"Vh",get:function(){return this.Zht}},{key:"Xh",get:function(){return this.ift.enabled},set:function(t){t?this.rft.enable(this.ift):this.rft.disable(this.ift)}},{key:"th",get:function(){return this.$c||(this.$c=ia(this)),this.$c}},{key:"Wh",get:function(){return this.ift.id+""}},{key:"qh",get:function(){return this.Fm}},{key:"zh",get:function(){return this.ift.kind}},{key:"Gh",get:function(){var t;return null!==(t=this.ift.name)&&void 0!==t?t:""},set:function(t){t!==this.Gh&&(this.ift.name=t,this.vs(new Ff(this)))}},{key:"jh",get:function(){return this.ift.language}},{key:"nf",get:function(){return this.Xh?"enabled":"disabled"}},{key:"Qh",get:function(){return this.Bm}},{key:"Yh",get:function(){return this.vJ},set:function(t){var n=this,i=this.vJ,e=t?t.filter(function(t){return r.Mc.hc(n.Vh,t)}):void 0;e&&0===e.length||this.sft(e,i)||(this.vJ=e,this.ift.qualities.targetQuality=e?e.map(function(t){return t.aft}):null,this.vs(new eM(e,this)))}}]),n}(ii),hM=function(t){function n(n){var i,r;return(i=t.call(this)||this).$c=void 0,i.Av=function(){return i._o()},i.aft=n,i.aft.addEventListener("qualityupdated",i.Av),i.Wh=n.id,i.ZC=null!==(r=n.bandwidth)&&void 0!==r?r:NaN,i.OY=n.codecs,i.nQ=n.uri,i}ct(n,t);var i=n.prototype;return i._o=function(){this.hft()&&this.vs(new sM(this.th))},i.hft=function(){var t,n=this.aft,i=n.id,r=null!==(t=n.bandwidth)&&void 0!==t?t:NaN,e=n.codecs,u=n.uri,s=this.Wh!==i||!Zs(this.ZC,r)||this.OY!==e||this.nQ!==u;return this.Wh=i,this.ZC=r,this.OY=e,this.nQ=u,s},i.Dh=function(){this.aft.removeEventListener("qualityupdated",this.Av)},i.jp=function(){},T(n,[{key:"Gh",get:function(){return this.aft.name||""},set:function(t){this.Gh!==t&&(this.aft.name=t,this.vs(new sM(this.th)))}},{key:"th",get:function(){return this.$c||(this.$c=this.nh()),this.$c}},{key:"RG",get:function(){return!0}}]),n}(ii),fM=function(t){function n(n){var i;return(i=t.call(this,n)||this).Yht=NaN,i}return ct(n,t),n.prototype.nh=function(){return aM(this)},n}(hM),vM=function(t){function n(n,i){var r;return void 0===i&&(i=0),(r=t.call(this,n)||this).hJ=n.frameRate,r.mc=n.resolution?n.resolution.width:NaN,r.hg=n.resolution?n.resolution.height:NaN,r.fft=i,r}ct(n,t);var i=n.prototype;return i.hft=function(){var n=t.prototype.hft.call(this),i=this.aft,r=i.frameRate,e=i.resolution?i.resolution.width:NaN,u=i.resolution?i.resolution.height:NaN;return n=n||!Zs(this.hJ,r)||!Zs(this.mc,e)||!Zs(this.hg,u),this.hJ=r,this.mc=e,this.hg=u,n},i.nh=function(){return oM(this)},T(n,[{key:"Qht",get:function(){return this.fft},set:function(t){this.fft!==t&&(this.fft=t,this.vs(new sM(this.th)))}}]),n}(hM),dM=function(t){function n(){return t.apply(this,arguments)||this}return ct(n,t),n.prototype.eft=function(t){return new fM(t)},n}(cM),lM=function(t){function n(){return t.apply(this,arguments)||this}ct(n,t);var i=n.prototype;return i.eft=function(t){return new vM(t,this.vft)},i.dft=function(t){this.vft=t;for(var n=0,i=this.Qh.Oh;n<i.length;n++){var r=i[n];void 0!==r.Qht&&(r.Qht=t)}},n}(cM),_M=function(t){function n(){return t.call(this,pa.Uf)||this}return ct(n,t),n}(ei),gM=function(t){function n(){return t.call(this,pa.Mf)||this}return ct(n,t),n}(ei),wM=function(){function t(t){this.gd=new Jd,this.cX=new vI(t)}var n=t.prototype;return n.LA=function(t,n,i,r,e){var u=new aR(t,n,i,r,e);return this.gd.Rh(u),this.cX.Rh(u),u},n.HA=function(t){this.gd.Ih(t),this.cX.Ih(t)},n.Ch=function(){this.gd.Ch(),this.cX.Ch()},n.Dh=function(){this.gd.Dh(),this.cX.Dh()},T(t,[{key:"pd",get:function(){return this.gd}}]),t}();function yM(t,n){for(var i=0;i<t.xh;i++){var r=t.Sh(i);if(r.ift===n)return r}}var mM=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this)||this).lft=void 0,o.FE=void 0,o.HE=void 0,o._ft=NaN,o.gft=0,o.wft=function(){o.vs(new Pa(o.Hv))},o.yft=function(){o.vs(new La(o.Hv))},o.mft=function(){o.vs(new Ra(o.Hv))},o.kft=function(){o.vs(new Sa(o.Hv))},o.pft=function(){o.vs(new Da(o.Hv,o.Gv))},o.Aft=function(){o.vs(new Ea(o.Hv,o.Zv))},o.bft=function(){o.vs(new oS(o.Hv))},o.Tft=function(){o.vs(new Na(o.Hv))},o.Eft=function(){o.vs(new aS)},o.Sft=function(){o.vs(new _M)},o.Rft=function(){o.vs(new gM)},o.Ift=function(){o.Nft(),o.Cft.Ch(),o.Dft(),o.bS()},o.XB=function(){o.Dft(),o.bS(),o.cS()},o.Nft=function(){var t=o._ft,n=o.Vv;o._ft=n,t===n||m(t)&&m(n)||o.vs(new Oa(n))},o.Oft=function(t){var n=t.error||o.xft.error;if(n){var i,r=pc.DECODE;n.code===yC.KG&&dn(n.info.code,"VEE")&&(r=+n.info.code.substr("VEE".length)),n.info&&(i=n.info.code),o.FE=new Tc(r,n.message,i),o.vs(new Xa(function(t){return new le(Rc(t.code),t.message,t)}(o.FE)))}},o.WE=function(){o.vs(new Ca(o.Hv,o.qd))},o.Pft=function(){o.Yv>0&&o.Qv>0&&o.vs(new Nl)},o.Bft=function(){o.vs(new yc)},o.Lft=function(t){o._d.Oh.forEach(function(n){return n.dft(t.ptsOffset)})},o.Mft=function(t){o.gft+=t.$d,o.vs(t)},o.Uft=function(t){return o.Fft(t.track)},o.Hft=function(t){return o.Vft(t.track)},o.Xft=function(t){var n=yM(o.ld,t.track);n&&n.vs(new Uo(n))},o.Wft=function(t){var n=yM(o._d,t.track);n&&n.vs(new Uo(n))},o.dG=n,o.JS=i,e=function(t){var n,i={};return i=JB(t,i),(i=JB(nM,i)).abrRules=i.abrRules.slice(0),i.allowManualQualitySwitch=!P.Pt&&i.allowManualQualitySwitch,i.libraryLocation=Fs(i.libraryLocation||"./",!0),i.initialRendition=i.initialRendition&&i.initialRendition.toLowerCase(),i.localisation=(n=i.localisation||{},function(t){return B.call(n,t)?n[t]:t}),i}(e),o.xft=new $L(o.dG,o.JS,e,r,u),o.qft(),o.zft=new kM(o.xft),o.Cft=new ew(o.zft,!0),o.Cft.ls(ma,o.fs),o.ld=new Mf,o._d=new Mf,o.xA=new wM(vt(o)),o.sX=new pI(vt(o)),o.sX.Fh=o.xft.pd,o.oX=new AI(o.xA,o.sX),o.gd=new hR([o.xft.pd,o.oX.j_]),o.kG=new VI,o.kG.DX(n),o.pG=new eC(o.kG.zd,o.xft.dimensions,o.pd,s,o.xft.Bht),o.cS(),o}ct(n,t);var i=n.prototype;return i.Pd=function(){this.xft.Pd(),this.kG.Pd()},i.xd=function(){this.xft.xd(),this.kG.xd()},i.Sd=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.lft=n,this.xft.Sd({sources:{src:n.src,type:za.Pv,contentProtection:n.contentProtection},textTracks:i.textTracks,configuration:Dt(Dt({},i),{crossOrigin:n.crossOrigin,withCredentials:n.useCredentials,liveOffset:n.liveOffset,hlsDateRange:n.hlsDateRange,hls:n.hls})});case 2:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Ad=function(){this.xft.play()},i.bd=function(){this.xft.pause()},i.Ch=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.lft=void 0,this.FE=void 0,this.HE=void 0,this.gft=0,this.xft.Sd({sources:null}),this.Cft.Ch(),this.xA.Ch(),this.Dft();case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Rd=function(){return!1},i.Id=function(){},i.Nd=function(){},i.Bd=function(){return this.xft.Bd()||void 0},i.Ld=function(){return this.xft.Bht},i.Xd=function(){},i.Dh=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Ch();case 2:return this.gs(),this.Cft.Dh(),this.zft.Dh(),this.Gft(),t.next=8,this.xft.$u();case 8:return this.ld.Dh(),this._d.Dh(),this.sX.Dh(),t.next=13,this.oX.Dh();case 13:this.xA.Dh(),this.gd.Dh(),this.pG.Dh(),this.kG.Dh();case 17:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.qft=function(){this.xft.addEventListener("Lht",this.Ift),this.xft.addEventListener("Fht",this.XB),this.xft.addEventListener("durationchange",this.Nft),this.xft.addEventListener("error",this.Oft),this.xft.addEventListener("timeupdate",this.WE),this.xft.addEventListener("resize",this.Pft),this.xft.addEventListener(pa.Of,this.Bft),this.xft.addEventListener("Rrt",this.Lft),this.xft.addEventListener(pa.Zf,this.Mft),this.xft.addEventListener("play",this.wft),this.xft.addEventListener("pause",this.yft),this.xft.addEventListener("seeking",this.mft),this.xft.addEventListener("seeked",this.kft),this.xft.addEventListener("ratechange",this.pft),this.xft.addEventListener("volumechange",this.Aft),this.xft.addEventListener("progress",this.bft),this.xft.addEventListener("ended",this.Tft),this.xft.addEventListener("loadstart",this.Eft),this.xft.addEventListener(pa.Uf,this.Sft),this.xft.addEventListener(pa.Mf,this.Rft),this.xft.addEventListener(pa.Qf,this.fs)},i.Gft=function(){this.xft.removeEventListener("Lht",this.Ift),this.xft.removeEventListener("Fht",this.XB),this.xft.removeEventListener("durationchange",this.Nft),this.xft.removeEventListener("error",this.Oft),this.xft.removeEventListener("timeupdate",this.WE),this.xft.removeEventListener("resize",this.Pft),this.xft.removeEventListener(pa.Of,this.Bft),this.xft.removeEventListener("play",this.wft),this.xft.removeEventListener("pause",this.yft),this.xft.removeEventListener("seeking",this.mft),this.xft.removeEventListener("seeked",this.kft),this.xft.removeEventListener("ratechange",this.pft),this.xft.removeEventListener("volumechange",this.Aft),this.xft.removeEventListener("progress",this.bft),this.xft.removeEventListener("ended",this.Tft),this.xft.removeEventListener("loadstart",this.Eft),this.xft.removeEventListener(pa.Uf,this.Sft),this.xft.removeEventListener(pa.Mf,this.Rft),this.xft.removeEventListener(pa.Qf,this.fs),this.xft.removeEventListener(pa.Zf,this.Mft)},i.cS=function(){var t=this.xft.audioTracks,n=this.xft.videoTracks;if(t){for(var i=0;i<t.length;i++)this.Fft(t.item(i));t.addEventListener("addtrack",this.Uft),t.addEventListener("enabledtrack",this.Xft),t.addEventListener("disabledtrack",this.Xft)}if(n){for(var r=0;r<n.length;r++)this.Vft(n.item(r));n.addEventListener("addtrack",this.Hft),n.addEventListener("enabledtrack",this.Wft),n.addEventListener("disabledtrack",this.Wft)}},i.bS=function(){var t=this.xft.audioTracks,n=this.xft.videoTracks;t&&(t.removeEventListener("addtrack",this.Uft),t.removeEventListener("enabledtrack",this.Xft),t.removeEventListener("disabledtrack",this.Xft)),n&&(n.removeEventListener("addtrack",this.Hft),n.removeEventListener("enabledtrack",this.Wft),n.removeEventListener("disabledtrack",this.Wft))},i.Dft=function(){for(var t=0,n=this.ld.Oh;t<n.length;t++){n[t].Dh()}for(var i=0,r=this._d.Oh;i<r.length;i++){r[i].Dh()}this.ld.Ch(),this._d.Ch()},i.Fft=function(t){yM(this.ld,t)||this.ld.Rh(new dM(t,this.xft.audioTracks))},i.Vft=function(t){yM(this._d,t)||this._d.Rh(new lM(t,this.xft.videoTracks))},T(n,[{key:"md",get:function(){return this.ld}},{key:"Wd",get:function(){return this.xft.buffered}},{key:"qd",get:function(){var t;return null!==(t=this.xft.currentProgramDateTime)&&void 0!==t?t:void 0},set:function(t){this.xft.currentProgramDateTime=null!=t?t:null}},{key:"Hv",get:function(){var t=this.xft.currentMonotonicTime;return"now"===t&&(t=1/0),t===1/0&&m(this.xft.duration)&&(t=0),t},set:function(t){this.xft.currentMonotonicTime=t}},{key:"Vv",get:function(){var t=this.xft.duration;return t<0?1/0:t}},{key:"Xv",get:function(){return this.xft.ended}},{key:"Is",get:function(){return this.FE}},{key:"Wv",get:function(){return this.HE}},{key:"Gd",get:function(){}},{key:"jd",get:function(){return!1}},{key:"Qd",get:function(){return Dt(Dt({},this.xft.Qd()),{$d:this.gft})}},{key:"qv",get:function(){return this.xft.muted},set:function(t){this.xft.muted=t}},{key:"nl",get:function(){return this.xft.online}},{key:"zv",get:function(){return this.xft.paused}},{key:"Gv",get:function(){return this.xft.playbackRate},set:function(t){this.xft.playbackRate=t}},{key:"il",get:function(){return this.xft.played}},{key:"ul",get:function(){return this.xft.preload||kw.qS},set:function(t){this.xft.preload=t}},{key:"if",get:function(){return this.xft.if}},{key:"sl",get:function(){return this.xft.seekable}},{key:"jv",get:function(){return this.xft.seeking}},{key:"RS",get:function(){}},{key:"pd",get:function(){return this.gd}},{key:"kd",get:function(){return this._d}},{key:"Qv",get:function(){return this.xft.videoHeight}},{key:"Yv",get:function(){return this.xft.videoWidth}},{key:"Zv",get:function(){return this.xft.volume},set:function(t){this.xft.volume=t}}]),n}(ga),kM=function(t){function n(n){var i;return(i=t.call(this)||this).jft=function(){i.vs(new ka(i.Hv,i.xft.if))},i.Qft=function(){i.vs(new rw(i.Hv))},i.wft=function(){i.vs(new Pa(i.Hv))},i.yft=function(){i.vs(new La(i.Hv))},i.xft=n,i.xft.addEventListener(la.gh,i.jft),i.xft.addEventListener(la._f,i.Qft),i.xft.addEventListener(pa.Hf,i.wft),i.xft.addEventListener(pa.Ff,i.yft),i}return ct(n,t),n.prototype.Dh=function(){this.gs(),this.xft.removeEventListener(la.gh,this.jft),this.xft.removeEventListener(la._f,this.Qft),this.xft.removeEventListener(pa.Hf,this.wft),this.xft.removeEventListener(pa.Ff,this.yft)},T(n,[{key:"Hv",get:function(){var t=this.xft.currentMonotonicTime;return"now"===t&&(t=1/0),t===1/0&&m(this.xft.duration)&&(t=0),t}},{key:"Xv",get:function(){return this.xft.ended}},{key:"Is",get:function(){return this.xft.error||void 0}},{key:"zv",get:function(){return this.xft.paused}}]),n}(ii);function pM(t,n){return AM.apply(this,arguments)}function AM(){return(AM=Ct.coroutine(Nt.mark(function t(n,i,r,e,u){var s,o;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:void 0===r&&(r=3),void 0===e&&(e=1e3),void 0===u&&(u=1/0),s=0;case 4:return t.prev=5,t.next=8,n(i);case 8:return t.abrupt("return",t.sent);case 11:if(t.prev=11,t.t0=t.catch(5),Vn(t.t0),!(s<r)){t.next=20;break}return o=g.min(e*g.pow(2,s),u),s++,t.next=19,Jn(o,i);case 19:return t.abrupt("continue",4);case 20:throw t.t0;case 21:t.next=4;break;case 23:case"end":return t.stop()}},t,null,[[5,11]])}))).apply(this,arguments)}gw(new(function(){function t(){this.IS=sw.Pv}var n=t.prototype;return n.ll=function(t,n,i,r,e,u){return new mM(t,n,i,r,e,u)},n.NS=function(n,i){if((P.Ft||P.hn)&&!i.manifestMetadataTrack)return!1;if(!Rf(n.type))return!1;if(n.useNativePlayback)return!1;var r=n.contentProtection;return!(r&&!gh(r)&&!t.Yft(r))&&!!function(t){return KL(t,{})!==zL.oj}(n)},t.Yft=function(t){return!!t.aes128},t}()));var bM,TM=function(t){function n(){return t.call(this,"Zft")||this}return ct(n,t),n}(ei),EM=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Jft=function(){e.vs(new TM)},e.lft=n,e.Kft=Dt(Dt({},i),{crossOrigin:e.lft.crossOrigin,withCredentials:e.lft.useCredentials,liveOffset:e.lft.liveOffset,hlsDateRange:e.lft.hlsDateRange}),e.PA=r,e.$ft=[],e.uu=!1,e}ct(n,t);var i=n.prototype;return i.tvt=function(){if(this.nvt)return this.nvt.PZ},i.Ly=function(t){var n=this;Qn(pM(function(){return n.jJ()},t))},i.jJ=function(){var t=Ct.coroutine(Nt.mark(function t(){var n,i,r,e,u,s;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.ivt();case 2:if((n=t.sent).isMasterPlaylist)for(this.rvt=n,i=0,r=n.streams;i<r.length;i++)e=r[i],u=new RP(this.PA,this.Kft),this.$ft.push({stream:{uri:e.uri,width:e.resolution&&e.resolution.width,height:e.resolution&&e.resolution.height},updater:u});else s=new RP(this.PA,this.Kft),this.$ft.push({stream:{uri:n.uri},updater:s});this.evt&&(this.uvt(this.evt.width,this.evt.height),this.evt=void 0),this.uu=!0;case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.svt=function(t,n){this.uu?this.uvt(t,n):this.evt={width:t,height:n}},i.uvt=function(t,n){this.ovt();var i=this.avt(t,n);i&&(this.nvt=i.updater,this.nvt.addEventListener("j6",this.Jft),i.updater.Ly(i.stream.uri))},i.ovt=function(){this.nvt&&(this.nvt.Td(),this.nvt.removeEventListener("j6",this.Jft),this.nvt=void 0)},i.avt=function(t,n){return 1===this.$ft.length?this.$ft[0]:Rn(this.$ft,function(i){return i.stream.width===t&&i.stream.height===n})},i.ivt=function(){var t=Ct.coroutine(Nt.mark(function t(){var n,i;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=new SP(this.Kft,bD.dn.fK,this.PA),t.next=3,n.do(this.lft.src,{});case 3:return i=t.sent,t.abrupt("return",i.PZ);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Dh=function(){this.ovt();for(var t=0,n=this.$ft;t<n.length;t++){n[t].updater.Dh()}xn(this.$ft)},n}(ii),SM=function(t){function n(n,i,r){var e;return(e=t.call(this,n)||this).cvt=void 0,e.fvt=!1,e.pZ=void 0,e.handleManifestUpdate=function(){var t=e.cvt.tvt();if(t){var n=e.RS;if(n){var i=n.getTime(),r=e.pZ;r||(r=new MC,e.pZ=r),r._o(t.dateRanges,function(t){return(t.getTime()-i)/1e3}),!e.fvt&&r.rf.xh>0&&(e.pd.Rh(r),e.cX.Rh(r),e.fvt=!0)}}},e.Pft=function(){e.cvt&&e.cvt.svt(e.Yv,e.Qv)},e.vvt=i,e.XP=r,e.cX=new vI(vt(e)),e.ls(pa.qf,e.Pft),e}ct(n,t);var i=n.prototype;return i.Sd=function(){var n=Ct.coroutine(Nt.mark(function n(i,r,e){return Nt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.Sd.call(this,i,r,e);case 2:i.hlsDateRange&&this.dvt(i,r,e);case 3:case"end":return n.stop()}},n,this)}));return function(t,i,r){return n.apply(this,arguments)}}(),i.dvt=function(t,n,i){this.cvt&&(this.cvt.ys("Zft",this.handleManifestUpdate),this.cvt.Dh()),this.cvt=new EM(t,n,this.vvt),this.cvt.ls("Zft",this.handleManifestUpdate),this.cvt.Ly(i)},i.Ch=function(){return this.pZ&&(this.pd.Ih(this.pZ),this.cX.Ih(this.pZ),this.pZ.Dh(),this.pZ=void 0,this.fvt=!1),this.cX.Ch(),t.prototype.Ch.call(this)},i.Dh=function(){return this.ys(pa.qf,this.Pft),this.cvt&&(this.cvt.ys("Zft",this.handleManifestUpdate),this.cvt.Dh()),this.cX.Dh(),t.prototype.Dh.call(this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).lvt=n,i.lvt.af(i.fs),i}ct(n,t);var i=n.prototype;return i.Rd=function(){return this.lvt.Rd()},i.Ld=function(){return this.lvt.Ld()},i.Bd=function(){return this.lvt.Bd()},i.Pd=function(){return this.lvt.Pd()},i.Xd=function(){return this.lvt.Xd()},i.bd=function(){return this.lvt.bd()},i.Ad=function(){return this.lvt.Ad()},i.Ch=function(){return this.lvt.Ch()},i.Sd=function(t,n,i){return this.lvt.Sd(t,n,i)},i.xd=function(){return this.lvt.xd()},i.Id=function(){return this.lvt.Id()},i.Nd=function(){return this.lvt.Nd()},i.Dh=function(){return this.gs(),this.lvt.Dh()},T(n,[{key:"md",get:function(){return this.lvt.md}},{key:"Wd",get:function(){return this.lvt.Wd}},{key:"qd",get:function(){return this.lvt.qd},set:function(t){this.lvt.qd=t}},{key:"Hv",get:function(){return this.lvt.Hv},set:function(t){this.lvt.Hv=t}},{key:"Vv",get:function(){return this.lvt.Vv}},{key:"Xv",get:function(){return this.lvt.Xv}},{key:"Wv",get:function(){return this.lvt.Wv}},{key:"Gd",get:function(){return this.lvt.Gd}},{key:"Is",get:function(){return this.lvt.Is}},{key:"jd",get:function(){return this.lvt.jd}},{key:"Qd",get:function(){return this.lvt.Qd}},{key:"qv",get:function(){return this.lvt.qv},set:function(t){this.lvt.qv=t}},{key:"nl",get:function(){return this.lvt.nl}},{key:"zv",get:function(){return this.lvt.zv}},{key:"Gv",get:function(){return this.lvt.Gv},set:function(t){this.lvt.Gv=t}},{key:"il",get:function(){return this.lvt.il}},{key:"ul",get:function(){return this.lvt.ul},set:function(t){this.lvt.ul=t}},{key:"if",get:function(){return this.lvt.if}},{key:"sl",get:function(){return this.lvt.sl}},{key:"jv",get:function(){return this.lvt.jv}},{key:"RS",get:function(){return this.lvt.RS}},{key:"pd",get:function(){return this.lvt.pd}},{key:"Qv",get:function(){return this.lvt.Qv}},{key:"kd",get:function(){return this.lvt.kd}},{key:"Yv",get:function(){return this.lvt.Yv}},{key:"Zv",get:function(){return this.lvt.Zv},set:function(t){this.lvt.Zv=t}}]),n}(ga));bM=function(t,n,i){return new SM(t,n,i)},_w.OS().xS(bM);var RM=function(t){function n(n){var i;return(i=t.call(this,"statechange")||this).state=n,i}return ct(n,t),n}(ei);var IM=function(t){function n(n,i,e,u){var s;return(s=t.call(this)||this).$c=void 0,s.WI=Kh.UNAVAILABLE,s._vt=new Mn,s.handleAirplayChangedEvent=function(){s.nR&&s.nR.jd?s.gvt():s.a0===Kh.CONNECTED&&s.wvt()},s.handleAirplayPlayerTimeUpdate=function(t){s.yvt=t.currentTime,s.mvt=s.hx.qd},s.kvt=n,s.hx=i,s.pvt=u,s.pvt.Pd(),s.hx.yd(u),s.Avt(),r.Mc.dc&&s.bvt(Kh.AVAILABLE),s}ct(n,t);var i=n.prototype;return i.Avt=function(){this.nR&&this.nR.ys(pa.pf,this.handleAirplayChangedEvent),this.Tvt?this.nR=this.hx:this.nR=this.pvt,this.nR.ls(pa.pf,this.handleAirplayChangedEvent)},i.gvt=function(){var t=Ct.coroutine(Nt.mark(function t(){var n;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.nR){t.next=2;break}return t.abrupt("return");case 2:if(this.Tvt){t.next=24;break}return this.yvt=this.hx.Hv,this.mvt=this.hx.qd,this.pvt.ls("timeupdate",this.handleAirplayPlayerTimeUpdate),this.Evt=this.hx.Fh,this.hx.Fh=this.pvt,this.Evt.bd(),this.Evt.Pd(),this.pvt.xd(),this.pvt.qv=this.Evt.qv,this.pvt.Gv=this.Evt.Gv,this.pvt.Zv=this.Evt.Zv,n=this.pvt.As("seeked"),this.pvt.Hv=this.Evt.Hv,t.next=18,n;case 18:this.pvt.Ad(),this.pvt.qv=this.Evt.qv,this.pvt.Gv=this.Evt.Gv,this.pvt.Zv=this.Evt.Zv,t.next=28;break;case 24:if(this.nR.zv){t.next=27;break}return t.next=27,this.nR.As(pa.Ff,this._vt.cs);case 27:this.nR.Ad();case 28:this.bvt(Kh.CONNECTED);case 29:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.wvt=function(){this.Evt?(this.pvt.ys("timeupdate",this.handleAirplayPlayerTimeUpdate),this.Evt.qv=this.pvt.qv,this.Evt.Gv=this.pvt.Gv,this.Evt.Zv=this.pvt.Zv,P.nn&&!P.Ft&&this.hx.Vv===1/0?this.mvt?this.Evt.qd=this.mvt:this.Evt.Hv=1/0:this.Evt.Hv=this.yvt,this.mvt=void 0,this.yvt=void 0,this.Evt.xd(),this.pvt.Pd(),this.pvt.zv||this.Evt.Ad(),this.hx.Fh=this.Evt,this.pvt.Ch(),this.Evt=void 0):this.nR&&(this.nR.Hv=this.nR.Hv+1e-4);this.bvt(Kh.AVAILABLE)},i.preloadPlayer=function(t){if(Hn(t),this.nR.if<ya.wf){var n=this.nR.As("loadedmetadata",t);return this.nR.ul=kw.e_,n}return Ct.resolve()},i.bvt=function(t){t!==this.WI&&(this.WI=t,this.vs(new RM(this.WI)))},i.Id=function(){r.Mc.dc&&(this.kvt.Cd(),this._vt.ss(),this._vt=new Mn,this.Tvt?Qn(this.Svt(this._vt.cs)):Qn(this.Rvt(this._vt.cs)))},i.Svt=function(){var t=Ct.coroutine(Nt.mark(function t(n){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.preloadPlayer(n);case 2:this.hx.Id();case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Rvt=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.pvt.Ch();case 3:return t.next=5,this.pvt.Sd(this.hx.Ed(),n);case 5:return i=this.pvt.As("playing",n),this.pvt.Ad(),t.next=9,Kn(i,3e3);case 9:this.pvt.bd(),Hn(n),this.pvt.Id(),t.next=19;break;case 14:if(t.prev=14,t.t0=t.catch(0),!Fn(t.t0)){t.next=18;break}return t.abrupt("return");case 18:0;case 19:case"end":return t.stop()}},t,this,[[0,14]])}));return function(n){return t.apply(this,arguments)}}(),i.Nd=function(){r.Mc.dc&&this.nR.Nd()},i.Dh=function(){var t;this.gs(),this.hx.Fd(this.pvt),this._vt.ss(),null===(t=this.pvt)||void 0===t||t.Dh()},T(n,[{key:"PP",get:function(){return this.a0===Kh.CONNECTED}},{key:"Tvt",get:function(){return this.hx.Rd()}},{key:"a0",get:function(){return this.WI}},{key:"th",get:function(){var t;return this.$c||(this.$c=(t=this,{get casting(){return t.PP},get state(){return t.a0},start:function(){t.Id()},stop:function(){t.Nd()},addEventListener:function(n,i){n=Ko(n,Jo),t.ls(n,i)},removeEventListener:function(n,i){n=Ko(n,Jo),t.ys(n,i)}})),this.$c}}]),n}(ga);bE(function(t){return function(t){function n(){return t.apply(this,arguments)||this}return ct(n,t),n.prototype.nh=function(){var n=this.NB.th;return Wo(t.prototype.nh.call(this),{get cast(){return n}})},n}(t)},_E.xB);var NM=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this)||this).zS=void 0,o.lft=void 0,o.ld=new oa,o._d=new oa,o.gd=new _a,o.WS=n,o.Ivt=new Ft(u,s,1,[Zh.n_]),o.Ivt.KS(n),o.Nvt=new fw(n,o.Ivt,i,r,e),o.Nvt.af(o.fs),o.ld.Fh=o.Nvt.md,o._d.Fh=o.Nvt.kd,o.gd.Fh=o.Nvt.pd,o}ct(n,t);var i=n.prototype;return i.Rd=function(){return this.Nvt.Rd()},i.Id=function(){this.Nvt.Id()},i.Nd=function(){this.Nvt.Nd()},i.Ad=function(){Qn(this.Nvt.Ad())},i.bd=function(){this.Nvt.bd()},i.Td=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),i.Ed=function(){return this.lft},i.Sd=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r,e,u,s;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Hn(i),this.lft=n,!sc(n.sources)){t.next=6;break}r=kf({src:""}),t.next=16;break;case 6:e=n.sources.filter(Ef),u=0;case 8:if(!(u<e.length)){t.next=16;break}if(!vw(s=e[u])){t.next=13;break}return r=s,t.abrupt("break",16);case 13:u++,t.next=8;break;case 16:if(r){t.next=18;break}throw new d("Unsupported source.");case 18:return t.next=20,this.Nvt.Sd(r,n,i);case 20:this.sR(r);case 21:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.sR=function(t){this.zS!==t&&(this.zS=t,this.vs(new mc(t)))},i.Bd=function(){},i.Cvt=function(){},i.Md=function(){return[]},i.Cd=function(){this.Ivt.eR()},i.Dd=function(t){_c(this,t)},i.Od=function(){},i.Ud=function(t){return!1},i.Xd=function(){},i.Ch=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.zS=void 0,this.lft=void 0,t.next=4,this.Nvt.Ch();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.xd=function(){this.Nvt.xd()},i.Pd=function(){this.Nvt.Pd()},i.Ld=function(){return this.Nvt.Ld()},i.Dh=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.gs(),this.Ivt.Dh(),t.next=4,this.Nvt.Dh();case 4:this.ld.Dh(),this._d.Dh(),this.gd.Dh();case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),T(n,[{key:"md",get:function(){return this.Nvt.md}},{key:"Wd",get:function(){return this.Nvt.Wd}},{key:"Vd",get:function(){return this.zS}},{key:"Hv",get:function(){return this.Nvt.Hv},set:function(t){this.Nvt.Hv=t}},{key:"qd",get:function(){return this.Nvt.qd}},{key:"Vv",get:function(){return this.Nvt.Vv}},{key:"zd",get:function(){return this.WS}},{key:"Xv",get:function(){return this.Nvt.Xv}},{key:"Is",get:function(){return this.Nvt.Is}},{key:"jd",get:function(){return this.Nvt.jd}},{key:"Qd",get:function(){return{Yd:0,Zd:0,Jd:0,Kd:0,$d:0,tl:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"qv",get:function(){return this.Nvt.qv},set:function(t){this.Nvt.qv=t}},{key:"nl",get:function(){return this.Nvt.nl}},{key:"zv",get:function(){return this.Nvt.zv}},{key:"Gv",get:function(){return this.Nvt.Gv},set:function(t){this.Nvt.Gv=t}},{key:"il",get:function(){return this.Nvt.il}},{key:"ul",get:function(){return this.Nvt.ul},set:function(t){this.Nvt.ul=t}},{key:"if",get:function(){return this.Nvt.if}},{key:"sl",get:function(){return this.Nvt.sl}},{key:"jv",get:function(){return this.Nvt.jv}},{key:"pd",get:function(){return this.Nvt.pd}},{key:"Qv",get:function(){return this.Nvt.Qv}},{key:"Yv",get:function(){return this.Nvt.Yv}},{key:"kd",get:function(){return this.Nvt.kd}},{key:"Zv",get:function(){return this.Nvt.Zv},set:function(t){this.Nvt.Zv=t}}]),n}(ga);bE(function(t){return function(t){function n(n,i){var r;r=t.call(this,n,i)||this;var e=new NM(r.RP.zd,r.Wb,r.Wg,r._B,r.yB,r.OB);return r.Dvt=new IM(vt(r),r.RP,r.Wb,e),r.NB.xP(r.Dvt),r.ls("currentsourcechange",function(){r.Dvt.Avt()}),r}ct(n,t);var i=n.prototype;return i.nh=function(){var n=this,i=t.prototype.nh.call(this);return Wo(i.cast,{get airplay(){return n.Dvt.th}}),i},i.Dh=function(){this.Dvt.Dh(),t.prototype.Dh.call(this)},n}(t)},_E.xB);var CM,DM=function(){},OM=function(){function t(){this.internalDict={},this.uidCounter=0}var n=t.prototype;return n.register=function(t){return this.internalDict[this.uidCounter]=t,this.uidCounter++},n.get=function(t){return this.internalDict[t]},n.remove=function(t){delete this.internalDict[t]},t}(),xM=It(function(t,n){function i(t,n){var i=[],r=[];return null==n&&(n=function(t,n){return i[0]===n?"[Circular ~]":"[Circular ~."+r.slice(0,i.indexOf(n)).join(".")+"]"}),function(e,u){if(i.length>0){var s=i.indexOf(this);~s?i.splice(s+1):i.push(this),~s?r.splice(s,1/0,e):r.push(e),~i.indexOf(u)&&(u=n.call(this,e,u))}else i.push(u);return null==t?u:t.call(this,e,u)}}(t.exports=function(t,n,r,e){return JSON.stringify(t,i(n,e),r)}).getSerialize=i});function PM(t,n){return void 0!==n&&null!=n&&"function"==typeof n.start&&"function"==typeof n.end&&"number"==typeof n.length?function(t){for(var n=[],i=0;i<t.length;i++)n[i]={start:t.start(i),end:t.end(i)};return n}(n):n}function BM(t){return JSON.stringify(t,xM.getSerialize(PM))}function LM(t){return void 0===t.adBreak||void 0===t.adBreak.ads?t:Dt(Dt({},t),{adBreak:Dt(Dt({},t.adBreak),{ads:t.adBreak.ads.map(function(t){t.adBreak;return Ic(t,["adBreak"])})})})}function MM(t){return void 0===t.ads?t:Dt(Dt({},t),{ads:t.ads.map(function(t){t.adBreak;return Ic(t,["adBreak"])})})}function UM(t){return"string"==typeof t.date?new Date(t.date):t.date}function FM(t){var n;return t.cue.track?(n=VM(t.cue,t.cue.track.type)).track={uid:t.cue.track.uid}:n=VM(t.cue,""),n}function HM(t){var n=new Set;return function t(i){if(Array.isArray(i))return i.map(t);if("object"==typeof i&&null!==i){if(n.has(i))return"[Circular ~]";n.add(i);var r=_.entries(i);return _.fromEntries(r.map(function(n){return[n[0],t(n[1])]}))}return i}(t)}function VM(t,n){var i,r={};switch(r.content=t.content,r.endTime=t.endTime,r.startTime=t.startTime,r.id=t.id,r.uid=t.uid,n){case"webvtt":r.align=t.align,r.line=t.line,r.lineAlign=t.lineAlign,r.position=t.position,r.positionAlign=t.positionAlign,r.region=t.region,r.size=t.size,r.snapToLines=t.snapToLines,r.text=t.text,r.vertical=t.vertical;break;case"ttml":r.content=function t(n){var i=n.children;if(0!==i.length)for(var r=0;r<i.length;r++){var e=i.item(r);return"image"===e.nodeName||"smpte:image"===e.nodeName?e:t(e)}}(t.content).innerHTML;break;case"daterange":var e={};for(var u in t.customAttributes){var s=t.customAttributes[u];if("object"==typeof(i=s)&&null!==i){var o=XM(s);e[u]={type:CM.Ovt,value:o}}else qM(s)?e[u]={type:CM.xvt,value:s}:e[u]={type:CM.pW,value:String(s)}}r.attributedClass=String(t.class),r.startDate=t.startDate,r.endDate=t.endDate,r.duration=t.duration,r.plannedDuration=t.plannedDuration,r.endOnNext=t.endOnNext,r.scte35Cmd=XM(t.scte35Cmd),r.scte35Out=XM(t.scte35Out),r.scte35In=XM(t.scte35In),r.customAttributes=e}return r}function XM(t){if(void 0!==t)return mi(t)}function WM(t){var n={};if(n.kind=t.kind,n.language=t.language,n.label=t.label,n.id=t.id,n.uid=t.uid,n.src=t.src,"cues"in t){n.inBandMetadataTrackDispatchType=t.inBandMetadataTrackDispatchType,n.mode=t.mode,n.type=t.type;var i=[];if(t.cues)for(var r=0;r<t.cues.length;r++){var e=t.cues[r];i.push(VM(e,t.type))}n.cues=i;var u=[];if(t.activeCues)for(var s=0;s<t.activeCues.length;s++){var o=t.activeCues[s];u.push(VM(o,t.type))}n.activeCues=u}else"enabled"in t&&(n.enabled=t.enabled);return n}function qM(t){return"number"==typeof t}!function(t){t.pW="daterange-ca-type_string",t.xvt="daterange-ca-type_number",t.Ovt="daterange-ca-type_arraybuffer"}(CM||(CM={}));var zM={cue:function(t){var n={};switch(n.date=UM(t),n.type=t.type,t.type){case"enter":case"exit":case"update":n.cue=FM(t)}return n},textTrack:function(t){var n={};switch(n.date=UM(t),n.type=t.type,t.type){case"addcue":t.cue.uid||(t.cue.uid=YM().register(t.cue));var i=QM()[ZM()].eventListeners;t.cue.addEventListener("enter",function(t){i.InternalCueHelperEvent(t)}),t.cue.addEventListener("exit",function(t){i.InternalCueHelperEvent(t)}),t.cue.addEventListener("update",function(t){i.InternalCueHelperEvent(t)});case"removecue":case"entercue":case"exitcue":n.cue=FM(t);break;case"cuechange":for(var r=[],e=0;e<t.track.activeCues.length;e++){var u=t.track.activeCues[e];r.push(VM(u,t.track.type))}n.track={activeCues:r,uid:t.track.uid}}return n},textTrackList:function(t){var n={};switch(n.date=UM(t),n.type=t.type,t.type){case"addtrack":t.track.cues&&t.track.cues.length&&t.track.cues.length>0&&t.track.cues.map(function(t){t.uid=YM().register(t)}),n.track=WM(t.track);case"removetrack":case"change":n.track=WM(t.track)}return n},default:function(t){var n={};switch(n.date=UM(t),n.type=t.type,t.type){case"play":case"playing":case"pause":case"seeking":case"seeked":case"ended":case"waiting":case"emptied":n.currentTime=t.currentTime;break;case"timeupdate":n.currentTime=t.currentTime,n.currentProgramDateTime=t.currentProgramDateTime;break;case"progress":n.currentTime=t.currentTime;break;case"ratechange":n.currentTime=t.currentTime,n.playbackRate=t.playbackRate;break;case"durationchange":n.duration=t.duration;break;case"sourcechange":n.source=t.source;break;case"readystatechange":case"loadedmetadata":case"loadeddata":case"loadstart":case"canplay":case"canplaythrough":n.currentTime=t.currentTime,n.readyState=t.readyState;break;case"error":n.error=t.error,n.errorObject=Dt({name:t.errorObject.name,cause:t.errorObject.cause},t.errorObject);break;case"addtrack":case"removetrack":case"change":n.track=WM(t.track);break;case"adbreakbegin":case"adbreakend":n.ad=MM(t.ad);break;case"adloaded":case"adimpression":n.ad=LM(t.ad);break;case"aderror":t.Pvt&&(n.Pvt=t.Pvt),t.message&&(n.message=t.message);break;case"statechange":n.state=t.state;break;case"presentationmodechange":case"resize":break;case"adfirstquartile":case"admidpoint":case"adthirdquartile":case"adbegin":case"adend":n.currentTime=t.currentTime,n.ad=LM(t.ad)}return HM(n)},minimizeCueHelper:function(t){var n={};return n.date=UM(t),n.type=t.type,n.cue=FM(t),n.track={uid:t.cue.track.uid},n},adReplacer:LM,adBreakReplacer:MM,removeCircularReferences:HM},GM=function(){this.stringify=BM,this.minimize=zM};function jM(){return Xt.self}function QM(){return jM().THEOplayerBridge}function YM(){return jM().THEOCueMirrorMap}function ZM(){return jM().THEOplayerGlobalID}function JM(){var t=jM();if(t.THEOplayerBridge){var n=new DM;t.THEOplayerBridge=Wo(n,t.THEOplayerBridge)}else t.THEOplayerBridge=new DM;t.THEOplayerUtils||(t.THEOplayerUtils=new GM),t.THEOCueMirrorMap||(t.THEOCueMirrorMap=new OM)}JM();var KM,$M=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).type=n,r.detail=i,r}return ct(n,t),n}(ei),tU=function(t){function n(){return t.apply(this,arguments)||this}ct(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.vs(new $M(t,n))},i.addEventListener=function(t,n){this.ls(t,n)},i.removeEventListener=function(t,n){this.ys(t,n)},n}(wa),nU=function(t){function n(n,i){var r;return(r=t.call(this)||this).Bvt=function(t){r.Mvt.Lvt("THEOplayerABRSetTargetBuffer",t._x),r.vs(t)},r.Uvt=function(t){r.Mvt.Lvt("THEOplayerABRSetStrategy",t.wx),r.vs(t)},r.Mvt=n,r.Fvt=i,r.Fvt.ls("gx",r.Bvt),r.Fvt.ls("yx",r.Uvt),r}return ct(n,t),T(n,[{key:"Ex",get:function(){var t;switch(this.wx.type){case bT.PERFORMANCE:return 1;case bT.QUALITY:return 0;case bT.BANDWIDTH:return(null===(t=this.wx.metadata)||void 0===t?void 0:t.bitrate)&&!m(this.wx.metadata.bitrate)?this.wx.metadata.bitrate:0;default:return 0}}},{key:"th",get:function(){return this.Fvt.th}},{key:"wx",get:function(){return this.Fvt.wx},set:function(t){this.Fvt.wx=t}},{key:"_x",get:function(){return this.Fvt._x},set:function(t){this.Fvt._x=t}},{key:"mx",get:function(){return this.Fvt.mx},set:function(t){this.Fvt.mx=t}}]),n}(ii),iU=function(t){function n(){return t.apply(this,arguments)||this}return ct(n,t),n.prototype.$T=function(t,n,i,r){return!0},n}(Cg),rU=function(){function t(t,n,i){this.Ao=void 0,this.Go=t,this.Uu=i,this.ia=n}var n=t.prototype;return n.HA=function(t){throw new d("Not implemented yet.")},n.iE=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r,e;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Uu.zu(n.Du,i);case 2:return r=t.sent,t.next=5,r.Io();case 5:return e=t.sent,t.next=8,this.TL(e);case 8:return t.abrupt("return",e);case 9:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.$u=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.TL(void 0);case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.TL=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.SL(n),t.next=3,i;case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.SL=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(i=this.Ao)){t.next=5;break}return t.next=4,i.So(this.ia);case 4:this.Ao=void 0;case 5:if(!n){t.next=9;break}return t.next=8,n.Eo(this.ia);case 8:this.Ao=n;case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.LA=function(t,n,i){throw new d("Not implemented yet.")},T(t,[{key:"Wg",get:function(){return this.Go}},{key:"ul",get:function(){throw new d("Not implemented yet.")},set:function(t){throw new d("Not implemented yet.")}},{key:"sl",get:function(){throw new d("Not implemented yet.")}},{key:"pd",get:function(){throw new d("Not implemented yet.")}},{key:"Hvt",get:function(){throw new d("Not implemented yet")}},{key:"kd",get:function(){throw new d("Not implemented yet.")}},{key:"Vvt",get:function(){throw new d("Not implemented yet")}},{key:"Xvt",get:function(){throw new d("Not implemented yet")}}]),t}();!function(t){t.Wvt="webkitneedkey",t.qvt="webkitkeymessage",t.zvt="webkitkeyerror"}(KM||(KM={}));var eU=function(t){function n(n,i){var r;return(r=t.call(this,KM.Wvt)||this).initData=n,r.sessionId=i,r}return ct(n,t),n}(ei),uU=function(t){function n(n,i){var r;return(r=t.call(this,KM.qvt)||this).message=n,r.destinationURL=i,r}return ct(n,t),n}(ei),sU=function(t){function n(){return t.call(this,KM.zvt)||this}return ct(n,t),n}(ei),oU=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).Po=n,s.io=i,s.Gvt=r,s.ra=e,s.Qo=u,s.Uo=new qr,s.Yo=void 0,s.Wo=new fi,s.Jo=new qr,s.jvt=function(t){s.Yo?(s.Yo.Ks(void 0),s.Yo=void 0):s.Xo("internal-error"),s.vs(new oi)},s.Qvt=function(t){s.Yo&&(s.Yo.Js(void 0),s.Yo=void 0),s.vs(new si(vt(s),"license-request",Vr(t.message).buffer,t.destinationURL||void 0))},s}ct(n,t);var i=n.prototype;return i.vo=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r){var e;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r&&r.fairplay&&r.fairplay.Ko){t.next=3;break}throw new l("Expected FairPlay contentId to be defined but was "+e+".");case 3:return t.next=5,this.Yvt(Fr(i),e);case 5:this.Xo("usable"),this.Jo.Js(),this.Jo=new qr;case 8:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.do=function(){var t=Ct.coroutine(Nt.mark(function t(n){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i._o=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(i=Fr(n)).byteLength){t.next=3;break}throw new l("Cannot call update with an empty response.");case 3:return this.Yo=new qr,this.Gvt._o(this.ra,i),t.next=7,this.Yo.Zs;case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.fo=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Jo;case 2:return this.Gvt.ys(KM.qvt,this.Qvt),this.Gvt.ys(KM.zvt,this.jvt),this.Jo.ss(),this.Uo.Js(void 0),t.abrupt("return",this.Uo.Zs);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.lo=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),i.Yvt=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=de(n,i,this.Qo),this.Gvt.ls(KM.qvt,this.Qvt),this.Gvt.ls(KM.zvt,this.jvt),this.Gvt.Nb(this.ra,r);case 4:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Xo=function(t){this.Wo.Fs(),this.Wo.Us(hi,t),this.vs(new ui(this))},T(n,[{key:"po",get:function(){return this.ra}},{key:"mo",get:function(){return NaN}},{key:"yo",get:function(){return this.Uo.Zs}},{key:"ko",get:function(){return this.Wo}}]),n}(ii),aU=function(){function t(t,n,i){this.io=n,this.Po=i,this.Zvt=void 0,this.ra=void 0,this.Qo=void 0,this.Gvt=t}var i=t.prototype;return i.bo=function(){var t=Ct.coroutine(Nt.mark(function t(i){var r;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Qo){t.next=2;break}throw new le(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return r=new oU(this.Po,this.io,this.Gvt,this.ra,this.Qo),this.Zvt=r,t.abrupt("return",r);case 5:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.To=function(t){return this.Qo=Fr(t),Ct.resolve(!0)},i.Eo=function(){var t=Ct.coroutine(Nt.mark(function t(n){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.webkitSetMediaKeys(this);case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.So=function(){var t=Ct.coroutine(Nt.mark(function t(n){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.webkitSetMediaKeys(null);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.createSession=function(){throw new d("Whoops.")},T(t,[{key:"keySystem",get:function(){return this.io}},{key:"sessionId",set:function(t){this.ra=t}}]),t}(),cU=function(){function t(t,n,i){this.Jvt=t,this.io=n,this.Go=i;var r=ee(i)||"video/mp4";this.Po=ue(r)}var n=t.prototype;return n.No=function(){return this.Go},n.Io=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new aU(this.Jvt,this.io,this.Po));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),T(t,[{key:"Co",get:function(){return this.io}}]),t}(),hU=function(){function t(t){this.Jvt=t}return t.prototype.zu=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r,e,u;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<i.length)){t.next=9;break}if(e=i[r],!(u=re(fU,n,e))){t.next=6;break}return t.abrupt("return",new cU(this.Jvt,n,u));case 6:r++,t.next=1;break;case 9:throw new l("Unsupported key system configuration for "+n);case 10:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),t}();function fU(t,n){return t===en}var vU,dU=function(t){function n(n,i,r){var e;return void 0===r&&(r=new hU(i)),(e=t.call(this)||this).GT=void 0,e.rV=new Cl,e.Kvt=!1,e.jo=null,e.$vt={Yd:0,Zd:0,Jd:0,Kd:0,$d:0,tl:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},e.tdt=function(t){"boolean"==typeof t.detail.casting&&(e.Kvt=t.detail.casting,e.vs(new Jf(e.Kvt)))},e.ndt=function(t){e.ra=t.sessionId,e.jo&&(e.jo.sessionId=e.ra);var n=t.initData;if(n){var i=BI(n);if(!i)return;e.vs(new ai(Zt,i))}else e.vs(new ai(Zt,new ArrayBuffer(0)))},e.idt=n,e.Jvt=i,e.Jvt.ls(KM.Wvt,e.ndt),e.Uu=r,e.rdt(),e}ct(n,t);var i=n.prototype;return i.NL=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i,r;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0;case 1:if(!(i<n.length)){t.next=8;break}if((r=n[i]).Cu!==Ng.sE){t.next=5;break}return t.abrupt("return",r);case 5:i++,t.next=1;break;case 8:return t.abrupt("return",void 0);case 9:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.$u=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Ch();case 2:this.gs(),this.edt(),this.Jvt.ys(KM.Wvt,this.ndt);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Pd=function(){throw new d("Not implemented yet")},i.LA=function(t,n,i,r,e,u){throw new d("Not implemented yet")},i.wS=function(){return!1},i.mS=function(t,n,i,r){throw new d("Not implemented yet")},i.HA=function(t){throw new d("Not implemented yet")},i.do=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i=this;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.rV.jA(function(){var t=Ct.coroutine(Nt.mark(function t(r){var e;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.Cu!==Ng.sE){t.next=7;break}return Hn(r),e=new rU(n,i,i.Uu),i.GT=e,t.abrupt("return",e);case 7:throw new d("Could not create non-static media source");case 8:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.bd=function(){throw new d("Not implemented yet")},i.Ad=function(){throw new d("Not implemented yet")},i.Ch=function(){var t=this;return this.rV.ss(),this.rV.jA(Ct.coroutine(Nt.mark(function n(){return Nt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0===t.GT){n.next=4;break}return n.next=3,t.GT.$u();case 3:t.GT=void 0;case 4:case"end":return n.stop()}},n)})))},i.Ws=function(t,n){throw new d("Not implemented yet")},i.ES=function(t){throw new d("Not implemented yet")},i.xd=function(){throw new d("Not implemented yet")},i.SS=function(){return this.$vt},i.rdt=function(){this.idt.addEventListener("airPlayIsCasting",this.tdt)},i.edt=function(){this.idt.removeEventListener("airPlayIsCasting",this.tdt)},i.webkitSetMediaKeys=function(t){this.jo=t||null,this.jo&&(this.jo.sessionId=this.ra)},i.CX=function(){},i.qU=function(){throw new d("Not implemented yet")},i.zU=function(){throw new d("Not implemented yet")},i.DX=function(t){},T(n,[{key:"qd",get:function(){throw new d("Not implemented yet")}},{key:"uS",get:function(){throw new d("The mediaElement_ property is deprecated")}},{key:"Wd",get:function(){throw new d("Not implemented yet")}},{key:"Hv",get:function(){throw new d("Not implemented yet")}},{key:"CB",get:function(){throw new d("Not implemented yet")}},{key:"Vv",get:function(){throw new d("Not implemented yet")}},{key:"Xv",get:function(){throw new d("Not implemented yet")}},{key:"Is",get:function(){throw new d("Not implemented yet")}},{key:"hg",get:function(){throw new d("Not implemented yet")}},{key:"jd",get:function(){return this.Kvt}},{key:"qv",get:function(){throw new d("Not implemented yet")}},{key:"zv",get:function(){throw new d("Not implemented yet")}},{key:"Gv",get:function(){throw new d("Not implemented yet")}},{key:"il",get:function(){throw new d("Not implemented yet")}},{key:"if",get:function(){throw new d("Not implemented yet")}},{key:"sl",get:function(){throw new d("Not implemented yet")}},{key:"jv",get:function(){throw new d("Not implemented yet")}},{key:"OX",get:function(){throw new d("Not implemented yet")}},{key:"Zv",get:function(){throw new d("Not implemented yet")},set:function(t){throw new d("Not implemented yet")}},{key:"mc",get:function(){throw new d("Not implemented yet")}},{key:"pS",get:function(){throw new d("Not implemented yet")}},{key:"webkitKeys",get:function(){return this.jo}},{key:"PX",get:function(){return $E}},{key:"pd",get:function(){throw new d("Not implemented yet")}},{key:"RS",get:function(){throw new d("Not implemented yet")}},{key:"xX",get:function(){return!0}}]),n}(ga),lU=function(t){function n(n){var i;return(i=t.call(this,pa.ev)||this).$vt=n,i}return ct(n,t),n}(ei);function _U(t){switch(t.type){case vU.pW:return t.value;case vU.xvt:return Yo(t.value);case vU.Ovt:return wi(t.value);default:return}}function gU(t){return function(t){return void 0!==t.name&&void 0!==t.message}(t)&&void 0!==t.timestamp&&void 0!==t.code}!function(t){t.pW="daterange-ca-type_string",t.xvt="daterange-ca-type_number",t.Ovt="daterange-ca-type_arraybuffer"}(vU||(vU={}));var wU=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,e,i,r)||this).xT=n,s.udt=u,s}return ct(n,t),T(n,[{key:"name",get:function(){return this.xT}},{key:"timestamp",get:function(){return this.udt}}]),n}(le),yU=function(t){function n(n,i,r,e,u,s,o,a){var c;return(c=t.call(this,n,i,r,e,a)||this).url=u,c.status=s,c.errorComment=o,c}return ct(n,t),n}(wU),mU=function(t){function n(n,i,r,e,u){var s;(s=t.call(this)||this).GB=0,s.YU=!1,s.FE=void 0,s.HE=void 0,s.jB=!0,s.YB=1,s.sdt=tf.bm(),s.SU=tf.bm(),s.ZU=!1,s.hV=tf.bm(),s.lF=ya.gf,s.hE=ya.gf,s.$vt={Yd:0,Zd:0,Jd:0,Kd:0,$d:0,tl:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},s.GT=void 0,s.setCurrentTime=function(){var t=Ct.coroutine(Nt.mark(function t(n){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s.sl.length){t.next=4;break}return s.GB=n,t.next=4,s.idt.As("seekablechange");case 4:s.GB=s.updateCurrentTime(n),s.Mvt.Lvt("THEOplayerSetCurrentTime",s.GB),s.QB=!0,s.vs(new Ra(s.GB));case 8:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),s.odt=function(t){if(t.detail){for(var n=t.detail.buffered,i=[],r=0;r<n.length;r++){var e=n[r];i.push(e.start,e.end)}s.sdt=new tf(i),s.vs(new oS(s.Hv))}},s.adt=function(t){s.lF=t.detail.readyState,s.vs(new ba(+t.detail.currentTime,s.if)),s.cdt()},s.hdt=function(t){s.lF=t.detail.readyState,s.vs(new Aa(+t.detail.currentTime,s.if)),s.cdt()},s.fdt=function(t){if(t.detail){var n=+t.detail.duration;s.QU=n,s.vs(new Oa(s.Vv))}},s.Tft=function(t){t.detail&&(s.YU=!0,s.vs(new Na(+t.detail.currentTime)))},s.XE=function(t){if(t.detail&&t.detail.error&&t.detail.errorObject){var n,i=JSON.parse(t.detail.errorObject);gU(n=i)&&void 0!==n.url&&void 0!==n.status&&void 0!==n.errorComment?(s.HE=new yU(i.name,i.message,void 0,i.code,i.url,i.status,i.errorComment,i.timestamp),s.FE=Sc(s.HE),s.vs(new Xa(s.HE))):gU(i)&&(s.HE=new wU(i.name,i.message,void 0,i.code,i.timestamp),s.FE=Sc(s.HE),s.vs(new Xa(s.HE)))}},s.Eft=function(t){s.vs(new aS)},s.vdt=function(t){s.lF=t.detail.readyState,s.vs(new Ia(+t.detail.currentTime,s.if)),s.cdt()},s.ddt=function(){var t=Ct.coroutine(Nt.mark(function t(n){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s.sl.length){t.next=3;break}return t.next=3,s.idt.As("seekablechange");case 3:s.lF=n.detail.readyState,s.vs(new xa(+n.detail.currentTime,s.if)),s.cdt();case 6:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),s.wft=function(t){t.detail&&s.vs(new Pa(+t.detail.currentTime))},s.yft=function(t){t.detail&&s.vs(new La(+t.detail.currentTime))},s.ldt=function(t){if(t.detail){for(var n=t.detail.played,i=[],r=0;r<n.length;r++){var e=n[r];i.push(e.start,e.end)}s.hV=new tf(i).um(.05)}},s.Qft=function(t){t.detail&&s.vs(new rw(+t.detail.currentTime))},s.pft=function(t){t.detail&&(s.YB=t.detail.playbackRate,s.vs(new Da(+t.detail.currentTime,s.YB)))},s._dt=function(t){if(t.detail){for(var n=t.detail.seekable,i=[],r=0;r<n.length;r++){var e=n[r];i.push(e.start,e.end)}s.SU=new tf(i)}},s.kft=function(t){t.detail&&(s.GB=+t.detail.currentTime,s.QB=!1,s.vs(new Ca(s.GB,s.gdt)),s.vs(new Sa(s.GB)))},s.mft=function(t){if(t.detail){var n=Number(t.detail.currentTime);n<s.QU&&(s.YU=!1),s.QB=!0,s.vs(new Ra(n))}},s.wdt=function(t){t.detail&&(t.detail.currentDate&&(s.gdt=new Date(1e3*t.detail.currentDate)),s.GB=+t.detail.currentTime,s.vs(new Ca(s.GB,s.gdt)))},s.ydt=function(t){s.mdt=t.detail.height,s.kdt=t.detail.width},s.pdt=function(t){t.detail&&s.vs(new iw(+t.detail.currentTime))},s.Uft=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,enabled:t.detail.enabled};s.md.Rh(new Gf(n))},s.Adt=function(t){for(var n,i,r=t.detail.lang,e=t.detail.label,u=0;u<s.ld.xh;u++){var o=s.md.Sh(u);o.jh==r&&o.Gh==e?i=s.ld.Sh(u):1==o.Xh&&(n=s.ld.Sh(u))}i&&n&&(i.Xh=!0,n.Xh=!1)},s.Hft=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,selected:t.detail.selected};s.kd.Rh(new Zf(n))},s.sG=function(t){var n,i=t.detail.kind,r=t.detail.type;i===af.e_&&r===Xh.ID3?(n=new _I("",t.detail.label)).nf=ua.Jh:i===af.e_&&r===Xh.DATE_RANGE?(n=new MC,s.bdt=n):n=new aR(i,t.detail.label,t.detail.lang,t.detail.isDefault,r),s.TV.Rh(n),s.cX.Rh(n)},s.Tdt=function(t){for(var n=0,i=t.detail;n<i.length;n++){var r=i[n],e=r.Id3FrameId,u={id:e,text:r.Id3FrameText};"TXXX"!==e&&"TXX"!==e||(u.description=r.Id3FrameDescription);var o=new dI(Yo(r.startTime),u);o.Wh=r.uid;var a=s.Edt();a&&a.FA(o)}},s.Sdt=function(t){for(var n=0,i=t.detail;n<i.length;n++){var r=i[n],e=new dv(Yo(r.startTime),Yo(r.endTime),r.content,!1),u=s.Rdt();u&&(u.Cu=Xh.WEBVTT,u.FA(e))}},s.nS=function(t){t.type===pa.Ef&&(s.FE=Sc(t.errorObject)),s.fs(t)},s.Idt=function(t){t.detail&&(s.$vt.Zd=t.detail.corruptedVideoFrames,s.$vt.Yd=t.detail.droppedVideoFrames,s.vs(new lU(s.Qd)))},s.Ndt=function(t){var n=function(t){var n=t.detail,i=[];return n.forEach(function(t){var n={Wh:t.id};if(void 0!==t.startDate&&(n.RS=new Date(t.startDate)),void 0!==t.endDate&&(n.Pj=new Date(t.endDate)),void 0!==t.customAttributes){var r={};for(var e in t.customAttributes){var u=_U(t.customAttributes[e]);void 0!==u&&(r[e]=u)}n.qj=r}void 0!==t.scte35Cmd&&(n.Gj=wi(t.scte35Cmd)),void 0!==t.scte35In&&(n.Zj=wi(t.scte35In)),void 0!==t.scte35Out&&(n.Qj=wi(t.scte35Out)),void 0!==t.startTime&&(n.Km=t.startTime),n.Lj=t.class,n.Vv=Yo(t.duration),n.Hj=Yo(t.plannedDuration),i.push(n)}),i}(t);n.forEach(function(t){var i=null!=t.Km?t.Km:(new Date).getTime(),r=new CC(t,i);s.bdt.FA(r),s.bdt._o(n,i)})};var o=e.uid;s.Mvt=s.getSdkBridge(o),s.idt=new tU,QM()[o].sdkEventBus=s.idt,s.ld=new Mf,s._d=new Mf;var a=s.Cdt(r);return s.xA=new wM(vt(s)),s.cX=new vI(vt(s)),s.hS=new bl(s.xA,a),s.TV=new Jd,s.sX=new pI(vt(s)),s.sX.Fh=s.TV,s.oX=new AI(s.xA,s.sX),s.gd=new hR([s.TV,s.hS.j_,s.oX.j_]),s.Jvt=s.getFairPlayControllerBridge(s.Mvt),s.JT=new dU(s.idt,s.Jvt),s.oS=new iU(s.JT,a),s.oS.ls(cw,s.nS),s.observeMediaElement(),s.cS(),s.YS=new nU(s.Mvt,u),s.YS.ls("gx",function(){s.Mvt.Lvt("THEOplayerSetPreferredForwardBufferDuration",s.YS._x)}),s}ct(n,t);var i=n.prototype;return i.Ld=function(){return Rw},i.xd=function(){this.Mvt.Lvt("THEOplayerShow",{})},i.Pd=function(){this.Mvt.Lvt("THEOplayerHide",{})},i.Ddt=function(){var t=this;this.Mvt.Lvt("THEOplayerSetInitialPreferredPeakBitRate",this.YS.Ex);this.ls("playing",function n(){t.Mvt.Lvt("THEOplayerSetInitialPreferredPeakBitRate",0),t.ys("playing",n)})},i.Sd=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r,e,u;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.lft=n,r=Dt(Dt({},i),{sources:{src:n.src,type:za.Pv,contentProtection:n.contentProtection,ssai:n.ssai,crossOrigin:n.crossOrigin,hlsDateRange:n.hlsDateRange}}),this.Mvt.Lvt("THEOplayerSourceChange",r),e={Cu:Ng.sE,uf:n.src,fS:n.type,vS:[],dS:n.crossOrigin,lS:i.metadata&&i.metadata.title},t.next=6,this.JT.do(e);case 6:this.GT=t.sent,this.oS.Eo(this.GT),this.oS.JA(this._S(n)),i.textTracks&&(u=i.textTracks.filter(function(t){return t.format!==Xh.WEBVTT})).length>0&&this.gS(u),Il(this.pd),this.Ddt();case 12:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i._S=function(t){if(t.contentProtection&&t.contentProtection.fairplay){return{Ob:t.contentProtection||{},$A:[{Co:on,nb:[],Pb:void 0,Ko:void 0}],eE:[],uE:["video/mp4"]}}},i.Ad=function(){this.jB=!1,this.vs(new Pa(this.Hv)),this.Mvt.Lvt("THEOplayerPlay",{})},i.bd=function(){this.jB=!0,this.vs(new La(this.Hv)),this.Mvt.Lvt("THEOplayerPause",{})},i.Bd=function(){},i.Ch=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.GB=0,this.YU=!1,this.FE=void 0,this.HE=void 0,this.jB=!0,this.YB=1,this.QU=void 0,this.SU=tf.bm(),this.sdt=tf.bm(),this.mdt=void 0,this.kdt=void 0,this.lF=ya.gf,this.hE=ya.gf,this.ld.Ch(),this._d.Ch(),this.TV.Ch(),this.gd.Ch(),t.next=19,this.oX.Ch();case 19:return this.sX.Ch(),t.next=22,this.hS.Ch();case 22:return this.xA.Ch(),this.cX.Ch(),this.lft=void 0,t.next=27,this.JT.Ch();case 27:return t.next=29,this.oS.Ch();case 29:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Id=function(){this.Mvt.Lvt("THEOplayerShowAirPlayPicker",{})},i.Nd=function(){this.Mvt.Lvt("THEOplayerStopAirPlayPicker",{})},i.updateMetrics=function(t){this.Qd.Zd=t.Zd,this.Qd.Yd=t.Yd},i.Dh=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Ch();case 2:return this.gs(),this.unobserveMediaElement(),this.bS(),t.next=7,this.oS.Dh();case 7:return t.next=9,this.JT.$u();case 9:return this.ld.Dh(),this._d.Dh(),this.TV.Dh(),this.gd.Dh(),this.sX.Dh(),t.next=16,this.oX.Dh();case 16:return t.next=18,this.hS.Dh();case 18:this.xA.Dh(),this.cX.Dh();case 20:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.gS=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.hS.BA(i)}},i.cdt=function(){var t=this.hE,n=this.lF;t!==n&&(this.hE=n,this.vs(new ka(this.Hv,n)))},i.observeMediaElement=function(){this.JT.ls(pa.pf,this.fs),this.idt.addEventListener("play",this.wft),this.idt.addEventListener("pause",this.yft),this.idt.addEventListener("seeking",this.mft),this.idt.addEventListener("seeked",this.kft),this.idt.addEventListener("ratechange",this.pft),this.idt.addEventListener("durationchange",this.fdt),this.idt.addEventListener("timeupdate",this.wdt),this.idt.addEventListener("waiting",this.pdt),this.idt.addEventListener("playing",this.Qft),this.idt.addEventListener("ended",this.Tft),this.idt.addEventListener("loadedmetadata",this.ddt),this.idt.addEventListener("loadeddata",this.vdt),this.idt.addEventListener("loadstart",this.Eft),this.idt.addEventListener("canplay",this.adt),this.idt.addEventListener("canplaythrough",this.hdt),this.idt.addEventListener("error",this.XE),this.idt.addEventListener("seekablechange",this._dt),this.idt.addEventListener("videosizechange",this.ydt),this.idt.addEventListener("bufferedchange",this.odt),this.idt.addEventListener("playedchange",this.ldt),this.idt.addEventListener("metricschange",this.Idt),this.idt.addEventListener("addDateRangeCues",this.Ndt)},i.unobserveMediaElement=function(){this.JT.ys(pa.pf,this.fs),this.idt.removeEventListener("play",this.wft),this.idt.removeEventListener("pause",this.yft),this.idt.removeEventListener("seeking",this.mft),this.idt.removeEventListener("seeked",this.kft),this.idt.removeEventListener("ratechange",this.pft),this.idt.removeEventListener("durationchange",this.fdt),this.idt.removeEventListener("timeupdate",this.wdt),this.idt.removeEventListener("waiting",this.pdt),this.idt.removeEventListener("playing",this.Qft),this.idt.removeEventListener("ended",this.Tft),this.idt.removeEventListener("loadedmetadata",this.ddt),this.idt.removeEventListener("loadeddata",this.vdt),this.idt.removeEventListener("loadstart",this.Eft),this.idt.removeEventListener("canplay",this.adt),this.idt.removeEventListener("canplaythrough",this.hdt),this.idt.removeEventListener("error",this.XE),this.idt.removeEventListener("seekablechange",this._dt),this.idt.removeEventListener("videosizechange",this.ydt),this.idt.removeEventListener("bufferedchange",this.odt),this.idt.removeEventListener("playedchange",this.ldt),this.idt.removeEventListener("metricschange",this.Idt),this.idt.removeEventListener("addDateRangeCues",this.Ndt)},i.updateCurrentTime=function(t){var n=this.sl.start(0),i=this.sl.end(0);return g.min(g.max(t,n),i)},i.Edt=function(){for(var t=0,n=this.gd.Oh;t<n.length;t++){var i=n[t];if(i.zh===af.e_&&i.Cu===Xh.ID3)return i}},i.Rdt=function(){for(var t=0,n=this.gd.Oh;t<n.length;t++){var i=n[t];if(i.nf===ua.Kh)return i}},i.cS=function(){this.idt.addEventListener("addaudiotrack",this.Uft),this.idt.addEventListener("enableaudiotrack",this.Adt),this.idt.addEventListener("addvideotrack",this.Hft),this.idt.addEventListener("addtexttrack",this.sG),this.idt.addEventListener("addtexttrackid3cues",this.Tdt),this.idt.addEventListener("addtexttrackcues",this.Sdt)},i.bS=function(){this.idt.removeEventListener("addaudiotrack",this.Uft),this.idt.removeEventListener("enableaudiotrack",this.Adt),this.idt.removeEventListener("addvideotrack",this.Hft),this.idt.removeEventListener("addtexttrack",this.sG),this.idt.removeEventListener("addtexttrackid3cues",this.Tdt),this.idt.removeEventListener("addtexttrackcues",this.Sdt)},i.Xd=function(){},T(n,[{key:"md",get:function(){return this.ld}},{key:"Wd",get:function(){return this.sdt.qy()}},{key:"qd",get:function(){return this.gdt?this.gdt:null},set:function(t){this.Mvt.Lvt("THEOplayerSetCurrentProgramDateTime",t.getTime()),this.gdt=t}},{key:"Hv",get:function(){return this.GB},set:function(t){this.setCurrentTime(t)}},{key:"Vv",get:function(){return this.QU}},{key:"Xv",get:function(){return this.YU}},{key:"Is",get:function(){return this.FE}},{key:"Wv",get:function(){return this.HE}},{key:"Gd",get:function(){}},{key:"jd",get:function(){return this.JT.jd}},{key:"Qd",get:function(){return this.$vt}},{key:"qv",get:function(){return this.ZU},set:function(t){this.ZU!==t&&(this.Mvt.Lvt("THEOplayerSetMuted",t),this.ZU=t,this.vs(new Ea(this.Hv,t?0:1)))}},{key:"zv",get:function(){return this.jB}},{key:"Gv",get:function(){return this.YB},set:function(t){this.Mvt.Lvt("THEOplayerSetPlaybackRate",t),this.YB=t}},{key:"il",get:function(){return this.hV.qy()}},{key:"ul",get:function(){return kw.qS},set:function(t){}},{key:"if",get:function(){return this.lF}},{key:"sl",get:function(){return this.SU.qy()}},{key:"jv",get:function(){return this.QB}},{key:"RS",get:function(){}},{key:"pd",get:function(){return this.gd}},{key:"Qv",get:function(){return this.mdt}},{key:"Yv",get:function(){return this.kdt}},{key:"Zv",get:function(){return 1},set:function(t){}},{key:"kd",get:function(){return this._d}},{key:"nl",get:function(){return!0}}]),n}(ga),kU=function(){function t(){this.IS=sw.LE}return t.prototype.NS=function(n,i){if(i.vr&&i.vr[360])return!1;if(tc(n.type))return!1;var r=n.contentProtection;if(r&&!gh(r)){if(!mh(r))return!1;if(!t.Yft(r))return!1}return!0},t.Yft=function(t){return Boolean(t.fairplay)||Boolean(t.aes128)},t}(),pU=function(){function t(){this.Odt=u.webkit}return t.prototype.Lvt=function(t,n){this.Odt.messageHandlers[t]&&this.Odt.messageHandlers[t].postMessage(n)},t}(),AU=function(t){function n(n){var i;return(i=t.call(this)||this).xdt=function(t){var n=wi(t.detail.initData),r=t.detail.sessionId;i.vs(new eU(n,r))},i.Pdt=function(t){var n=new k(Ti(t.detail.message)),r=t.detail.destinationURL;i.vs(new uU(n,r))},i.Bdt=function(t){i.vs(new sU)},i.Mvt=n,i.idt=new tU,QM().fairplayController={sdkEventBus:i.idt},i.RZ(),i}ct(n,t);var i=n.prototype;return i.RZ=function(){this.idt.addEventListener(KM.Wvt,this.xdt),this.idt.addEventListener(KM.qvt,this.Pdt),this.idt.addEventListener(KM.zvt,this.Bdt)},i.Nb=function(t,n){var i={data:Ei(n.buffer),sessionId:t};this.Mvt.Lvt("THEOplayerCreateKeySession",i)},i._o=function(t,n){var i={data:Ei(n.buffer),sessionId:t};this.Mvt.Lvt("THEOplayerUpdateKey",i)},n}(ga),bU=function(t){function n(n,i,r,e,u,s){var o;o=t.call(this,n,i,r,e,u)||this;var a=i.rS(Zh.n_);return o.kG=new VI,o.kG.DX(n),o.pG=new eC(o.kG.zd,a.CB,o.pd,s,a.pS),i.TS(a),Xt.document.querySelector(".vjs-tech")?Xt.document.querySelector(".player-div").classList.add("theo-ios-sdk"):Xt.document.querySelector(".player-div").style.background="transparent",o}ct(n,t);var i=n.prototype;return i.xd=function(){t.prototype.xd.call(this),this.kG.xd()},i.Pd=function(){t.prototype.Pd.call(this),this.kG.Pd()},i.Rd=function(){return!0},i.getSdkBridge=function(){return new pU},i.getFairPlayControllerBridge=function(){return EU},i.Cdt=function(t){return t},i.Dh=function(){var n=Ct.coroutine(Nt.mark(function n(){return Nt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Xt.document.querySelector(".vjs-tech")?Xt.document.querySelector(".player-div").classList.remove("theo-ios-sdk"):Xt.document.querySelector(".player-div").style.background="#000000",n.next=3,t.prototype.Dh.call(this);case 3:this.pG.Dh(),this.kG.Dh();case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),n}(mU);gw(new(function(t){function n(){return t.apply(this,arguments)||this}ct(n,t);var i=n.prototype;return i.ll=function(t,n,i,r,e,u){return new bU(t,n,i,r,e,u)},i.NS=function(n,i){if(n.type){var r=Pe();if(!(r&&r.canPlayType&&r.canPlayType(n.type)))return!1}return t.prototype.NS.call(this,n,i)},n}(kU)));var TU,EU=new AU(new pU),SU=function(t){function n(){return t.call(this,"Ldt")||this}return ct(n,t),n.prototype.nh=function(){return new RU},n}(No),RU=function(t){function n(){return t.call(this,"statechange")||this}return ct(n,t),n}(ei);!function(t){t.IDLE="idle",t.LOADING="loading",t.DONE="done",t.ERROR="error",t.EVICTED="evicted"}(TU||(TU={}));var IU=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Mdt=new ga,n.fs=function(t){n.vs(t)},n}ct(n,t);var i=n.prototype;return i.nh=function(){return n=NU(t=this),i=new VT(t,n),n.addEventListener=function(t,n){i.ls(t,n)},n.removeEventListener=function(t,n){i.ys(t,n)},n;var t,n,i},i.ls=function(t,n){this.Mdt.ls(t,n)},i.af=function(t){this.Mdt.af(t)},i.gs=function(){this.Mdt.gs()},i.vs=function(t){this.Mdt.vs(t)},i.ys=function(t,n){this.Mdt.ys(t,n)},i.ps=function(t){this.Mdt.ps(t)},i.cf=function(t){this.Mdt.cf(t)},i.As=function(t,n){return this.Mdt.As(t,n)},n}(function(){function t(){this.Ps=[],this.$c=void 0}var n=t.prototype;return n.nh=function(){return NU(this)},n.Sh=function(t){return this.Ps[t]},n.qa=function(t){this.Ps.push(t),this.$c&&this.$c.push(t.th),this.Udt(t)},n.Fdt=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.qa(i)}},n.Hdt=function(t,n){n>=0&&n<=this.Ps.length&&(this.Ps.splice(n,0,t),this.$c&&this.$c.splice(n,0,t.th),this.Udt(t))},n.Lm=function(t){return Dn(this.Ps,t)},n.lo=function(t){this.Vdt(this.Ps.indexOf(t))},n.Vdt=function(t){if(t>=0&&t<this.Ps.length){var n=this.Ps[t];Cn(this.Ps,t),this.$c&&Cn(this.$c,t),this.Xdt(n)}},n.Fs=function(){var t=this.Ps.slice();xn(this.Ps),this.$c&&xn(this.$c);for(var n=0;n<t.length;n++){var i=t[n];this.Xdt(i)}},T(t,[{key:"Wdt",get:function(){return this.Ps}},{key:"xh",get:function(){return this.Ps.length}},{key:"th",get:function(){return this.$c||(this.$c=this.nh()),this.$c}}]),t}());function NU(t){var n=t.Wdt.map(function(t){return t.th});return n.item=function(n){n|=0;var i=t.Sh(n);return i&&i.th||void 0},n}var CU,DU=function(t){function n(n){var i;return(i=t.call(this,"addtask")||this).task=n,i}return ct(n,t),n}(ei),OU=function(t){function n(n){var i;return(i=t.call(this,"zdt")||this).qdt=n,i}return ct(n,t),n.prototype.nh=function(){return new DU(this.qdt.th)},n}(No),xU=function(t){function n(n){var i;return(i=t.call(this,"removetask")||this).task=n,i}return ct(n,t),n}(ei),PU=function(t){function n(n){var i;return(i=t.call(this,"Gdt")||this).task=n,i}return ct(n,t),n.prototype.nh=function(){return new xU(this.task.th)},n}(No),BU=function(t){function n(){return t.call(this)||this}ct(n,t);var i=n.prototype;return i.Udt=function(t){this.vs(new OU(t))},i.Xdt=function(t){this.vs(new PU(t))},n}(IU);!function(t){t.UNINITIALISED="uninitialised",t.INITIALISED="initialised"}(CU||(CU={}));var LU=function(t){function n(n,i){var r;return(r=t.call(this)||this).jdt=CU.UNINITIALISED,r.XA=new BU,r.Qdt=i,r.x6=n,r.Cd(),r}ct(n,t);var i=n.prototype;return i.Cd=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Ydt();case 2:this.Zdt(CU.INITIALISED);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Ydt=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.Jdt();case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0);case 8:case"end":return t.stop()}},t,this,[[0,5]])}));return function(){return t.apply(this,arguments)}}(),i.Jdt=function(){var t=Ct.coroutine(Nt.mark(function t(){var n,i,r,e;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.x6.uK();case 2:for(n=t.sent,i=0;i<n.length;i++)r=n[i],e=this.Qdt.Kdt(r.id,r.sourceDescription,r.parameters),this.$dt(e),this.XA.qa(e);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Zdt=function(t){this.jdt=t,this.vs(new SU)},i.Kdt=function(t,n){var i=this.Qdt.tlt(t,n);return this.nlt(i),this.XA.qa(i),this.$dt(i),i},i.nlt=function(){var t=Ct.coroutine(Nt.mark(function t(n){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.ilt(n);case 3:t.next=8;break;case 5:throw t.prev=5,t.t0=t.catch(0),d("Unable to persist task - "+t.t0);case 8:case"end":return t.stop()}},t,this,[[0,5]])}));return function(n){return t.apply(this,arguments)}}(),i.ilt=function(){var t=Ct.coroutine(Nt.mark(function t(n){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.x6.iK({key:n.Wh,id:n.Wh,sourceDescription:n.VS,parameters:n.Wp});case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.$dt=function(t){var n=this;t.ls("Ldt",function(){t.DA===TU.EVICTED&&n.XA.lo(t)})},T(n,[{key:"DA",get:function(){return this.jdt}},{key:"rlt",get:function(){return this.XA}}]),n}(ii);function MU(t,n){return function(t,n){var i=t.mc&&n.mc,r=t.hg&&n.hg;return i||r?i&&r?t.mc*t.hg-n.mc*n.hg:i?t.mc-n.mc:r?t.hg-n.hg:(t.mc||1)*(t.hg||1)-(n.mc||1)*(n.hg||1):0}(t,n)||function(t,n){return t.ZC-n.ZC}(t,n)}var UU=function(t){function n(){return t.call(this,"progress")||this}return ct(n,t),n}(ei),FU=function(t){function n(){return t.call(this,"NJ")||this}return ct(n,t),n.prototype.nh=function(){return new UU},n}(No),HU=function(){function t(t,n,i){if(this.elt=t,this.Bm=n,this.ult=i,0===this.Bm.size)this.slt=tf.bm();else{var r=new tf([-1/0,1/0]);this.Bm.forEach(function(t){r=r.$y(t.timeRanges)}),this.slt=r}}return t.prototype.Ja=function(t){return!!zo(this.Bm,t.Bm)&&(!!Zs(this.elt,t.elt)&&(!!Zs(this.km,t.km)&&(!!Zs(this.olt,t.olt)&&this.clt.lm(t.clt))))},t.hlt=function(){return XU},T(t,[{key:"km",get:function(){return this.ult}},{key:"flt",get:function(){return this.elt}},{key:"olt",get:function(){return this.clt.km}},{key:"vlt",get:function(){var t=0,n=0;return this.Bm.forEach(function(i){t+=i.timeRanges.km,n+=i.totalQualityDurationToCache}),0===n?0:g.min(1,t/n)}},{key:"clt",get:function(){return this.slt}}]),t}(),VU=xt(),XU=new HU(0,VU,NaN);function WU(t,n){if(X(t)){if(vn(t,"%"))return y(t)/100*n;throw new d("Unexpected - Invalid string supplied as amount to cache.")}return n<t?n:t}var qU,zU=function(t){function n(n,i){return t.call(this,n,i)||this}return ct(n,t),T(n,[{key:"name",get:function(){return"dlt"}}]),n}(lt);function GU(t,n,i,r){var e,u=[],s=Rn(i,function(t){return t.llt===jt});if(s){for(var o=0;o<i.length;o++){var a=i[o];if(a.llt!==jt)for(var c=0,h=hn(a.llt);c<h.length;c++){var f=h[c];u.push({Co:f,nb:a._lt?[a._lt]:[],Pb:null!==(e=a.Pb)&&void 0!==e?e:s.Pb,Ko:void 0})}}if(u.length)return{Ob:t,$A:u,eE:n===Zh.i_?r.slice():[],uE:n===Zh.n_?r.slice():[]}}}function jU(t,n){if(!t)return n;if(!n)return t;var i=[],r=xt();return QU(i,r,t.$A),QU(i,r,n.$A),{Ob:t.Ob,$A:i,eE:YU(t.eE,n.eE,Dn),uE:YU(t.uE,n.uE,Dn)}}function QU(t,n,i){for(var r=0;r<i.length;r++){var e=i[r],u=e.Co.Pu,s=void 0;n.has(u)?(s=n.get(u)).nb=YU(s.nb,e.nb,ZU):(s=Dt({},e),t.push(s),n.set(u,s))}}function YU(t,n,i){for(var r=t.slice(),e=0;e<n.length;e++){var u=n[e];i(r,u)||r.push(u)}return r}function ZU(t,n){for(var i=0;i<t.length;i++){if(Ai(t[i],n))return!0}return!1}function JU(t,n){var i,r=t.glt;if(r){for(var e=t.oI,u=[],s=0,o=t.OY;s<o.length;s++){var a=o[s];u.push(e+'; codecs="'+a+'"')}i=GU(n||{},t.Cu,r,u)}for(var c=0,h=t.wlt;c<h.length;c++){i=jU(i,KU(h[c],n))}return i}function KU(t,n){return GU(n||{},t.Cu,t.glt||[],[t.fS])}function $U(t,n,i){return tF.apply(this,arguments)}function tF(){return(tF=Ct.coroutine(Nt.mark(function t(n,i,r){var e,u,s,o,a;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=[],u=0,s=n.ylt;u<s.length;u++)o=s[u],e.push(nF(o,i,r));return t.next=4,Ct.all(e);case 4:return a=t.sent,t.abrupt("return",{Vv:n.klt.mlt.nc,plt:[n.Alt],ylt:a});case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function nF(t,n,i){return iF.apply(this,arguments)}function iF(){return(iF=Ct.coroutine(Nt.mark(function t(n,i,r){var e,u,s,o,a;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=[],u=0,s=n.blt;u<s.length;u++)o=s[u],e.push(rF(o,i,r));return t.next=4,Ct.all(e);case 4:return a=t.sent,t.abrupt("return",{Tlt:a});case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function rF(t,n,i){return eF.apply(this,arguments)}function eF(){return(eF=Ct.coroutine(Nt.mark(function t(n,i,r){var e,u,s,o,a;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=[],u=0,s=n.Elt;u<s.length;u++)uF(o=s[u])||e.push(cF(o,i,r));return t.next=4,Ct.all(e);case 4:return a=t.sent,t.abrupt("return",{j_:a,Cu:n.Cu});case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function uF(t){return t.wlt.every(aF)}!function(t){t[t.xv=0]="xv",t[t.Pv=1]="Pv"}(qU||(qU={}));var sF,oF=1;function aF(t){return t.Slt!==oF&&Boolean(t.Slt)}function cF(t,n,i){return hF.apply(this,arguments)}function hF(){return(hF=Ct.coroutine(Nt.mark(function t(n,i,r){var e,u,s,o,a,c,h,f,v;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=[],u=0,s=n.wlt;u<s.length;u++)aF(o=s[u])||e.push(vF(o,r));return t.next=4,Ct.all(e);case 4:return a=t.sent,c=n.OY[0],h=n.glt,f=h?fF(c,h):void 0,v=JU(n,i),t.abrupt("return",{Qh:a,jh:n.Rlt,Cu:n.Cu,vS:f,Ilt:v});case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function fF(t,n){for(var i=[],r=function(t){return t?vn(t,"avc")?Id.VIDEO_H264:vn(t,"hev")||vn(t,"hvc")||vn(t,"hvt")||vn(t,"lhv")||vn(t,"lhe")||vn(t,"lht")?Id.VIDEO_H265:vn(t,"mp4")?Id.VIDEO_MP4:vn(t,"mpeg2")?Id.VIDEO_MPEG2:vn(t,"mpeg")?Id.VIDEO_MPEG:Id.VIDEO_UNKNOWN:Id.VIDEO_UNKNOWN}(t),e=0;e<n.length;e++){var u=n[e],s=u.llt.split(":").pop(),o=u._lt;i.push({mimeType:r,uuid:s,data:o})}return{type:qU.xv,schemeType:Qt,schemeDatas:i}}function vF(t,n){return dF.apply(this,arguments)}function dF(){return(dF=Ct.coroutine(Nt.mark(function t(n,i){var r,e;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,lF(n,i);case 2:r=t.sent,e={Wh:wF(n),Mw:r,e6:n.a6,ZC:n.ZC,wc:n.wc,hg:n.hg,Cu:n.Cu,mc:n.mc},t.t0=n.Cu,t.next=t.t0===Zh.yn?7:t.t0===Zh.n_?8:t.t0===Zh.i_?10:12;break;case 7:return t.abrupt("break",13);case 8:return e.hJ=n.hJ?n.hJ.nc:NaN,t.abrupt("break",13);case 10:return e.audioSamplingRate=n.Yht,t.abrupt("break",13);case 12:0;case 13:return t.abrupt("return",e);case 14:case"end":return t.stop()}},t)}))).apply(this,arguments)}function lF(t,n){return _F.apply(this,arguments)}function _F(){return(_F=Ct.coroutine(Nt.mark(function t(n,i){var r,e,u,s,o,a,c,h;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],e=n.Nlt,u=e.Clt(),s=u;case 4:if(!s){t.next=16;break}if(!e.Dlt(s.J3)){t.next=12;break}return t.next=8,n.Olt(s,i,(new Mn).cs);case 8:for(o=t.sent,a=0;a<o.xh;a++)r.push(gF(o.xlt(a),n));t.next=13;break;case 12:r.push(gF(s,n));case 13:s=e.Oat(s),t.next=4;break;case 16:return c=e.Plt(),h=c.$m.Ka(u.Km).Ik(),t.abrupt("return",{Vv:h,hK:r});case 19:case"end":return t.stop()}},t)}))).apply(this,arguments)}function gF(t,n){return{Km:t.Km.Ik(),Vv:t.Vv.Ik(),Blt:n.Llt(t)}}function wF(t){return t.Mlt.Ly.nc+"-"+(""+t.Wh)}function yF(t,n){return function(t,n){var i={};for(var r in t){var e=t[r];for(var u in i[r]={},e){var s=[];i[r][u]=[];for(var o=e[u],a=0;a<o.length;a++){var c=o[a],h=mF(c,r,n);s.push(h)}i[r][u]=s}}return i}(function(t){var n=function(t){for(var n={},i=0;i<t.length;i++){var r=t[i];n[r["group-id"]]||(n[r["group-id"]]={Cu:r.type,rg:[]}),n[r["group-id"]].rg.push(r)}return n}(t),i={};for(var r in n)for(var e=n[r],u=0,s=e.rg;u<s.length;u++){var o=s[u];i[e.Cu]||(i[e.Cu]={}),i[e.Cu][o.name]||(i[e.Cu][o.name]=[]),i[e.Cu][o.name].push(o)}return i}(t),n)}function mF(t,n,i){for(var r=t["group-id"],e={yY:t,UZ:[]},u=0;u<i.length;u++){var s=i[u];s[n.toLowerCase()]===r&&e.UZ.push(s)}return e}function kF(t,n){return pF.apply(this,arguments)}function pF(){return(pF=Ct.coroutine(Nt.mark(function t(n,i){var r,e;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.N6([n],{});case 2:return r=t.sent,e=new gP,t.abrupt("return",e.P_(r.m6,r.CA,EP(r.CA)));case 5:case"end":return t.stop()}},t)}))).apply(this,arguments)}function AF(t,n){return bF.apply(this,arguments)}function bF(){return(bF=Ct.coroutine(Nt.mark(function t(n,i){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.isMasterPlaylist){t.next=4;break}return t.abrupt("return",TF(n,i));case 4:return t.abrupt("return",(e=void 0,e=UF(r=n),{Vv:r.duration,plt:[r.uri],ylt:[{Tlt:[{j_:[{Qh:[{Wh:r.uri,Mw:e,ZC:0,wc:"",hg:0,Cu:null,mc:0}]}]}]}]}));case 5:case"end":return t.stop()}var r,e},t)}))).apply(this,arguments)}function TF(t,n){return EF.apply(this,arguments)}function EF(){return(EF=Ct.coroutine(Nt.mark(function t(n,i){var r,e,u;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=yF(n.media,n.streams),t.next=3,NF(r,i);case 3:return e=t.sent,t.next=6,RF(n.streams,i);case 6:return u=t.sent,e.push(u),t.abrupt("return",{Vv:SF(e),plt:[n.uri],ylt:[{Tlt:e}]});case 9:case"end":return t.stop()}},t)}))).apply(this,arguments)}function SF(t){for(var n=-1/0,i=0;i<t.length;i++)for(var r=0,e=t[i].j_;r<e.length;r++){var u=e[r];n=g.max.apply(g,[n].concat(u.Qh.map(function(t){return t.Mw.Vv})))}return n}function RF(t,n){return IF.apply(this,arguments)}function IF(){return(IF=Ct.coroutine(Nt.mark(function t(n,i){var r,e,u,s;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],e=0;case 2:if(!(e<n.length)){t.next=15;break}return u=n[e],t.next=6,LF(u.uri,i);case 6:(s=t.sent).ZC=u.bandwidth,s.wc=u.codecs,s.hg=u.resolution&&u.resolution.height,s.mc=u.resolution&&u.resolution.width,r.push(s);case 12:e++,t.next=2;break;case 15:return t.abrupt("return",{j_:[{Qh:r}]});case 16:case"end":return t.stop()}},t)}))).apply(this,arguments)}function NF(t,n){return CF.apply(this,arguments)}function CF(){return(CF=Ct.coroutine(Nt.mark(function t(n,i){var r,e,u,s;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],t.t0=Nt.keys(n);case 2:if((t.t1=t.t0()).done){t.next=11;break}return e=t.t1.value,u=n[e],t.next=7,DF(u,i);case 7:s=t.sent,r.push(s),t.next=2;break;case 11:return t.abrupt("return",r);case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function DF(t,n){return OF.apply(this,arguments)}function OF(){return(OF=Ct.coroutine(Nt.mark(function t(n,i){var r,e,u,s;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],t.t0=Nt.keys(n);case 2:if((t.t1=t.t0()).done){t.next=11;break}return e=t.t1.value,u=n[e],t.next=7,xF(u,i);case 7:s=t.sent,r.push(s),t.next=2;break;case 11:return t.abrupt("return",{j_:r});case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function xF(t,n){return PF.apply(this,arguments)}function PF(){return(PF=Ct.coroutine(Nt.mark(function t(n,i){var r,e,u,s;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],e=0;case 2:if(!(e<n.length)){t.next=11;break}return u=n[e],t.next=6,BF(u,i);case 6:s=t.sent,r.push(s);case 8:e++,t.next=2;break;case 11:return t.abrupt("return",{Qh:r});case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function BF(t,n){var i,r,e;return LF((r=(i=t).yY.uri,e=i.UZ.map(function(t){return t.uri}),r||(e.length?e[0]:null)),n)}function LF(t,n){return MF.apply(this,arguments)}function MF(){return(MF=Ct.coroutine(Nt.mark(function t(n,i){var r,e;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,kF(n,i);case 2:return r=t.sent,e=UF(r),t.abrupt("return",{Wh:n,Ult:n,Mw:e,ZC:0,wc:"",hg:0,Cu:null,mc:0});case 5:case"end":return t.stop()}},t)}))).apply(this,arguments)}function UF(t){for(var n=[],i=0,r=t.fragments;i<r.length;i++){var e=r[i];n.push(FF(e))}return{Vv:t.duration,hK:n}}function FF(t){return{Km:t.start,Vv:t.duration,Blt:HF(t.uri)}}function HF(t){return FC(t)?{dA:t.nQ,iQ:[t.iQ.Ly,t.iQ.Uy],pA:!1}:{dA:t.toString(),pA:!1}}!function(t){t.sE="static",t.oE="dynamic"}(sF||(sF={}));var VF,XF=function(){function t(t){var n=t.match(/P(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)W)?(?:(\d+)D)?(?:T(?:(\d+)H)?(?:(\d+)M)?(?:(\d*\.?\d*)S)?)?/);if(!n)throw new d("The given value could not be parsed as a valid DateTimeInterval");this.Flt=y(n[1])||0,this.Hlt=y(n[2])||0,this.Vlt=y(n[3])||0,this.Xlt=y(n[4])||0,this.Wlt=y(n[5])||0,this.qlt=y(n[6])||0,this.zlt=y(n[7])||0}return t.prototype.Glt=function(){var t=new Date,n=new Date(t.getTime());return n.setUTCFullYear(n.getUTCFullYear()+this.jlt),n.setUTCMonth(n.getUTCMonth()+this.Qlt),n.setUTCDate(n.getUTCDate()+7*this.Ylt),n.setUTCDate(n.getUTCDate()+this.Zlt),n.setUTCHours(n.getUTCHours()+this.Jlt),n.setUTCMinutes(n.getUTCMinutes()+this.Klt),n.setUTCMilliseconds(n.getUTCMilliseconds()+1e3*this.$lt),n.getTime()-t.getTime()},T(t,[{key:"jlt",get:function(){return this.Flt}},{key:"Qlt",get:function(){return this.Hlt}},{key:"Ylt",get:function(){return this.Vlt}},{key:"Zlt",get:function(){return this.Xlt}},{key:"Jlt",get:function(){return this.Wlt}},{key:"Klt",get:function(){return this.qlt}},{key:"$lt",get:function(){return this.zlt}},{key:"mlt",get:function(){return new io(this.Glt(),1e3)}},{key:"u0",get:function(){return Cv.Mk(this.Glt(),1e3)}}]),t}();!function(t){t.t_t="progressive",t.n_t="interlaced",t.xy="unknown"}(VF||(VF={}));var WF=/^(?:true|false)$/i,qF=/^(-?)(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(?:Z|([+-])(\d{2}):(\d{2}))?$/;function zF(t){if(void 0!==t)return new XF(t)}function GF(t){if(void 0!==t){var n=t.match(qF);if(!n)throw new d("The given value could not be parsed as a valid Date");var i=n[1],r=n[2],e=n[3],u=n[4],s=n[5],o=n[6],a=n[7],c=n[8],h=n[9],f=n[10],v=n[11],l=("-"===i?-1:1)*Number(r),_=Number(e)-1,w=Number(u),y=Number(s),k=Number(o),p=Number(a),A=Number("0."+(c||"")),b=g.round(1e3*A);if(h)k-=("-"===h?-1:1)*(60*Number(f)+Number(v));var T=new Date(Date.UTC(l,_,w,y,k,p,b));if(m(T.getTime()))throw new d("The given value could not be parsed as a valid Date");return T}}function jF(t){if(t){var n=/(\d+)-(\d+)/.exec(t);if(n)return[YF(n[1]),YF(n[2])]}}function QF(t){if(void 0!==t){if(!m(Number(t)))try{return $i.fromString(t,!0)}catch(t){}throw new d("The given value could not be parsed as a valid unsigned long")}}function YF(t){if(void 0!==t){var n=Number(t);if(!m(n))return n;throw new d("The given value could not be parsed as a valid Number")}}function ZF(t){if(void 0!==t){var n=t.split("/"),i=Number(n[0]),r=Number(n[1]||1);if(!m(i)&&!m(r))return new io(i,r);throw new d("The given value could not be parsed as a valid frame rate")}}function JF(t){if(void 0!==t){if(WF.test(t))return"true"===t.toLowerCase();if(!m(w(t)))return Boolean(w(t));throw new d("The given value could not be parsed as a valid Boolean.")}}function KF(t){return{dA:t.jn,i_t:JF(t.Hn("availabilityTimeComplete")),r_t:YF(t.Hn("availabilityTimeOffset"))}}function $F(t){return t.map(KF)}function tH(t){var n,i,r,e,u,s=fH(t),o=(i="default_KID",r="urn:mpeg:cenc:2013",e="cenc",void 0===(u=(n=t).Vn(r,i))&&(u=n.Hn(e+":"+i)),u),a=function(t){if(t)return Ti(t.jn)}(function(t,n,i,r){var e=t.Ln(i,n);return 0===e.length&&(e=t.xn(r+":"+n)),e}(t,"pssh","urn:mpeg:cenc:2013","cenc")[0]),c=t.Ln("urn:microsoft:playready","pro"),h=c.length>0?function(t){var n=wi(t.jn),i=new k([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),r=n.length,e=12+i.length+4+r,u=new ArrayBuffer(e),s=new k(u),o=new DataView(u),a=new Xr;lr(o,a,e),lr(o,a,1886614376),lr(o,a,0),ar(o,a,i),lr(o,a,r),ar(o,a,n),0;return s.buffer}(c[0]):void 0;return{Pb:o,_lt:null!=a?a:h,llt:s.llt,Cn:s.Cn}}function nH(t){return{e_t:t.Hn("sourceURL"),iQ:jF(t.Hn("range"))}}function iH(t,n){var i=QF(t.Hn("d")),r=QF(t.Hn("t")),e=YF(t.Hn("r"));n.push({Vv:i,Km:r,u_t:e})}function rH(t){return{J3:t.Hn("index"),s_t:jF(t.Hn("indexRange")),rg:t.Hn("media"),o_t:jF(t.Hn("mediaRange"))}}function eH(t){var n,i,r=oH(t),e=(n=t.xn("SegmentURL"),(i=n.map(rH)).length>0?i:void 0),u=t.Hn("xlink:href"),s=t.Hn("xlink:actuate");return Dt(Dt({},r),{a_t:e,c_t:u,h_t:s})}function uH(t){var n=t.map(eH);return n.length>0?n:void 0}function sH(t){var n=JF(t.Hn("availabilityTimeComplete")),i=YF(t.Hn("availabilityTimeOffset")),r=jF(t.Hn("indexRange")),e=JF(t.Hn("indexRangeExact")),u=t.xn("Initialization");if(u.length>1)throw new d("The provided MPEG-DASH document's "+t.Bn+" element can not have more than one Initialization element.");var s=1===u.length?nH(u[0]):void 0,o=QF(t.Hn("presentationTimeOffset")),a=t.xn("RepresentationIndex");if(a.length>1)throw new d("The provided MPEG-DASH document's "+t.Bn+" element can not have more than one RepresentationIndex element.");return{i_t:n,r_t:i,s_t:r,f_t:e,v_t:s,d_t:o,l_t:1===a.length?nH(a[0]):void 0,__t:zF(t.Hn("timeShiftBufferDepth")),Ma:YF(t.Hn("timescale"))}}function oH(t){var n=sH(t),i=t.xn("BitstreamSwitching"),r=i.length>0?nH(i[0]):void 0,e=YF(t.Hn("duration")),u=t.xn("SegmentTimeline");if(u.length>1)throw new d("The provided MPEG-DASH document's "+t.Bn+" element can not have more than one SegmentTimeline element.");var s=1===u.length?function(t){for(var n=[],i=t.xn("S"),r=0;r<i.length;r++)iH(i[r],n);return n}(u[0]):void 0,o=YF(t.Hn("startNumber")),a=YF(t.Hn("endNumber"));return Dt(Dt({},n),{g_t:r,Vv:e,Nlt:s,w_t:o,y_t:a})}function aH(t){var n=oH(t),i=t.Hn("bitstreamSwitching"),r=t.Hn("index"),e=t.Hn("initialization"),u=t.Hn("media");return Dt(Dt({},n),{m_t:i,k_t:r,p_t:e,A_t:u})}function cH(t){return{Yht:function(t){if(t){var n=t.split(/\s/);return n.length>1?(n.length=2,n.map(YF)):1===n.length?n.map(YF)[0]:void 0}}(t.Hn("audioSamplingRate")),OY:t.Hn("codecs"),b_t:JF(t.Hn("codingDependency")),glt:function(t){if(0!==t.length)return t.map(tH)}(t.xn("ContentProtection")),T_t:t.xn("EssentialProperty").map(vH),hJ:ZF(t.Hn("frameRate")),hg:YF(t.Hn("height")),Slt:YF(t.Hn("maxPlayoutRate")),E_t:YF(t.Hn("maximumSAPPeriod")),oI:t.Hn("mimeType"),S_t:t.Hn("profiles"),R_t:t.Hn("sar"),I_t:function(t){switch(t){case VF.t_t:case VF.n_t:case VF.xy:return t;default:return}}(t.Hn("scanType")),N_t:t.Hn("segmentProfiles"),C_t:YF(t.Hn("startWithSAP")),mc:YF(t.Hn("width"))}}function hH(t){var n=cH(t),i=YF(t.Hn("bandwidth")),r=$F(t.xn("BaseURL")),e=t.Hn("dependencyId"),u=t.Hn("id"),s=t.Hn("mediaStreamStructureId"),o=YF(t.Hn("qualityRanking")),a=t.xn("SegmentBase");if(a.length>1)throw new d("The provided MPEG-DASH document's Representation element can not have more than one SegmentBase element.");var c=1===a.length?sH(a[0]):void 0,h=uH(t.xn("SegmentList")),f=t.xn("SegmentTemplate");if(f.length>1)throw new d("The provided MPEG-DASH document's Representation element can not have more than one SegmentTemplate element.");var v=1===f.length?aH(f[0]):void 0;return Dt(Dt({},n),{ZC:i,D_t:r,O_t:e,Wh:u,x_t:s,P_t:o,B_t:c,L_t:h,M_t:v})}function fH(t){return{llt:t.Hn("schemeIdUri"),Cn:t.Hn("value")}}function vH(t){return fH(t)}function dH(t){return fH(t)}function lH(t){return fH(t)}function _H(t){var n=cH(t),i=function(t){return t.map(lH)}(t.xn("Accessibility")),r=$F(t.xn("BaseURL")),e=JF(t.Hn("bitstreamSwitching")),u=t.Hn("contentType"),s=YF(t.Hn("group")),o=YF(t.Hn("id")),a=t.Hn("lang"),c=YF(t.Hn("maxBandwidth")),h=ZF(t.Hn("maxFrameRate")),f=YF(t.Hn("maxHeight")),v=YF(t.Hn("maxWidth")),l=YF(t.Hn("minBandwidth")),_=ZF(t.Hn("minFrameRate")),g=YF(t.Hn("minHeight")),w=YF(t.Hn("minWidth")),y=t.Hn("par"),m=t.xn("Representation").map(hH);if(0===m.length)throw new d("The provided MPEG-DASH document has an AdaptationSet with no valid Representation's");var k=function(t){return t.map(dH)}(t.xn("Role")),p=JF(t.Hn("segmentAlignment"))||!1,A=t.xn("SegmentBase");if(A.length>1)throw new d("The provided MPEG-DASH document's AdaptationSet element can not have more than one SegmentBase element.");var b=1===A.length?sH(A[0]):void 0,T=uH(t.xn("SegmentList")),E=t.xn("SegmentTemplate");if(E.length>1)throw new d("The provided MPEG-DASH document's AdaptationSet element can not have more than one SegmentTemplate element.");var S=1===E.length?aH(E[0]):void 0,R=YF(t.Hn("selectionPriority")),I=R||1,N=JF(t.Hn("subsegmentAlignment"))||!1,C=YF(t.Hn("subsegmentStartsWithSAP")),D=t.Hn("xlink:actuate")||"onRequest",O=t.Hn("xlink:href");return Dt(Dt({},n),{U_t:i,D_t:r,g_t:e,fS:u,F_t:s,Wh:o,jh:a,H_t:c,V_t:h,X_t:f,W_t:v,q_t:l,z_t:_,G_t:g,j_t:w,Q_t:y,wlt:m,Y_t:k,Z_t:p,B_t:b,L_t:T,M_t:S,IS:I,J_t:N,K_t:C,$_t:D,tgt:O})}function gH(t){var n=QF(t.Hn("presentationTime"))||$i.ZERO,i=QF(t.Hn("duration")),r=YF(t.Hn("id")),e=function(t){for(var n=t.Gn,i={},r=0;r<n.length;r++)i[n[r].Rn]=n[r].Cn;return i}(t),u=t.jn;return{ngt:n,Vv:i,Wh:r,Gn:e,Qn:""!==u.trim()?u:t.Hn("messageData")||""}}function wH(t){return{tgt:t.Hn("xlink:href"),$_t:t.Hn("xlink:actuate"),llt:t.Hn("schemeIdUri"),Cn:t.Hn("value"),Ma:YF(t.Hn("timescale")),d_t:QF(t.Hn("presentationTimeOffset")),aI:t.xn("Event").map(gH)}}function yH(t,n){var i=t.xn("AssetIdentifier");if(i.length>1)throw new d("The provided MPEG-DASH document's Period element can not have more than one AssetIdentifier element.");var r=1===i.length?fH(i[0]):void 0,e=t.xn("AdaptationSet").map(_H),u=$F(t.xn("BaseURL")),s=JF(t.Hn("bitstreamSwitching")),o=zF(t.Hn("duration")),a=t.xn("EventStream").map(wH),c=t.Hn("id"),h=n&&zF(n.Hn("start")),f=t.xn("SegmentBase");if(f.length>1)throw new d("The provided MPEG-DASH document's Period element can not have more than one SegmentBase element.");var v=1===f.length?sH(f[0]):void 0,l=uH(t.xn("SegmentBase")),_=t.xn("SegmentTemplate");if(_.length>1)throw new d("The provided MPEG-DASH document's Period element can not have more than one SegmentTemplate element.");var g=1===_.length?aH(_[0]):void 0,w=zF(t.Hn("start")),y=(t.xn("Subset"),t.Hn("xlink:href"));return{Elt:e,igt:r,D_t:u,g_t:s,Vv:o,rgt:a,Wh:c,egt:h,B_t:v,L_t:l,M_t:g,Ly:w,$_t:t.Hn("xlink:actuate"),tgt:y}}function mH(t){var n=t.Hn("schemeIdUri");if(n)return{llt:n,Cn:t.Hn("value")}}function kH(t,n){var i=GF(t.Hn("availabilityEndTime")),r=GF(t.Hn("availabilityStartTime")),e=$F(t.xn("BaseURL")),u=t.Hn("id"),s=t.xn("Location").map(function(t){return""+t.jn}),o=zF(t.Hn("maxSegmentDuration")),a=zF(t.Hn("maxSubsegmentDuration")),c=zF(t.Hn("mediaPresentationDuration")),h=(t.xn("Metrics"),zF(t.Hn("minBufferTime")));if(!h)throw new d("The provided MPEG-DASH document's MPD element does not have the required 'minimumBufferTime' attribute.");var f=zF(t.Hn("minimumUpdatePeriod")),v=function(t){for(var n=[],i=0;i<t.length;i+=1)n.push(yH(t[i],t[i+1]));return n}(t.xn("Period"));if(!v.length)throw new d("The provided MPEG-DASH document's MPD element does not have the required 'Period' element.");var l=t.Hn("profiles");if(!l)throw new d("The provided MPEG-DASH document's MPD element does not have the required 'profiles' attribute.");return{ugt:i,sgt:r,D_t:e,Wh:u,ogt:s,agt:n,cgt:o,hgt:a,klt:c,fgt:h,vgt:f,ylt:v,S_t:l,dgt:GF(t.Hn("publishTime")),lgt:zF(t.Hn("suggestedPresentationDelay")),__t:zF(t.Hn("timeShiftBufferDepth")),Cu:function(t){switch(t){case sF.sE:case sF.oE:return t;default:return}}(t.Hn("type")),_gt:function(t){for(var n=[],i=0;i<t.length;i++){var r=mH(t[i]);r&&n.push(r)}return n}(t.xn("UTCTiming"))}}var pH,AH=function(){function t(){}return t.prototype.dvt=function(t,n){return function(t,n){if(!t)throw new d("The provided MPEG-DASH document does not contain a valid MPD root element.");return kH(t,n)}(r.An(t).Yn,n)},t}(),bH=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).Wh=n,s.ZC=i,s.OY=r,s.nQ=u,s.Vm=e||"",s.ggt=!0,s}return ct(n,t),n.prototype.jp=function(){this.ggt=!1,this.vs(new sM(this.th))},T(n,[{key:"Gh",get:function(){return this.Vm},set:function(t){this.Vm!==t&&(this.Vm=t,this.vs(new sM(this.th)))}},{key:"RG",get:function(){return this.ggt}}]),n}(ii),TH=function(t){function n(n,i,r,e,u,s,o,a,c){var h;return void 0===c&&(c=0),(h=t.call(this,n,i,r,e,u)||this).hJ=s,h.mc=o,h.hg=a,h.Qht=c,h.$c=void 0,h}return ct(n,t),T(n,[{key:"th",get:function(){return this.$c||(this.$c=oM(this)),this.$c}}]),n}(bH),EH=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this,n,i,r,e,u)||this).Yht=s,o.$c=void 0,o}return ct(n,t),T(n,[{key:"th",get:function(){return this.$c||(this.$c=aM(this)),this.$c}}]),n}(bH);!function(t){t.wgt="ygt",t.mgt="kgt"}(pH||(pH={}));var SH=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).pgt=function(t){n.vs(t)},n}return ct(n,t),T(n,[{key:"Agt",get:function(){var t=this.bgt();return null==t?void 0:t.Ly.gp()}},{key:"Tgt",get:function(){var t=this.bgt();return null==t?void 0:t.Uy.gp()}}]),n}(ii);function RH(t){return G(t.Egt)}var IH=function(t){function n(n,i){var r;if((r=t.call(this)||this).$c=void 0,r.Sgt=void 0,r.Rgt=n,r.Igt=i,r.Igt.ls(pH.wgt,r.pgt),r.Cu===Zh.n_){var e=r.hJ&&r.hJ.nc||NaN;r.Ngt=new TH(NH++,r.ZC,r.wc,"","",e,r.mc,r.hg)}else r.Cu===Zh.i_?r.Ngt=new EH(NH++,r.ZC,r.wc,"","",r.Yht):r.Ngt=void 0;return r}ct(n,t);var i=n.prototype;return i.Llt=function(t){var n=RH(t)?this.Igt.Cgt(t):this.Igt.Llt(t);return{dA:n.dA,iQ:n.iQ,pA:this.Dgt.pA}},i.Ogt=function(){return this.Igt.Ogt()},i.bgt=function(){return this.Igt.bgt()},i.xgt=function(){return this.Igt.xgt()},i.Olt=function(t,n,i){return this.Igt.Nlt.Olt(t,this.Igt,this.Dgt.pA,n,i)},i.Pgt=function(t){return RH(t)?this.Nlt.Bgt(t):this.Nlt.Pgt(t)},i.F4=function(t){return RH(t)?this.Nlt.Lgt(t):this.Nlt.F4(t)},i.Dh=function(){this.Igt.ys(pH.wgt,this.pgt)},T(n,[{key:"Mgt",get:function(){return this.Rgt}},{key:"Yht",get:function(){var t;return null!==(t=this.Igt.Qn.Yht)&&void 0!==t?t:this.Mgt.Yht}},{key:"ZC",get:function(){return this.Igt.Qn.ZC||0}},{key:"OY",get:function(){var t=this.Igt.Qn;return t.OY?[t.OY]:this.Mgt.OY}},{key:"Ugt",get:function(){var t=this.Igt.Qn;return t.OY?[t.OY]:[]}},{key:"wc",get:function(){return this.Igt.Qn.OY||this.Mgt.wc}},{key:"b_t",get:function(){return this.Igt.Qn.b_t||this.Mgt.b_t}},{key:"glt",get:function(){return this.Igt.Qn.glt||this.Mgt.glt}},{key:"fS",get:function(){return this.oI+'; codecs="'+this.wc+'"'}},{key:"T_t",get:function(){var t=this.Igt.Qn;return t.T_t.length?t.T_t:this.Mgt.T_t}},{key:"th",get:function(){return this.$c||(this.$c=(t=this,{get id(){return t.Wh},get type(){return t.Cu},get bandwidth(){return t.ZC},get width(){return t.mc},get height(){return t.hg},get frameRate(){return t.hJ&&t.hJ.nc||NaN},get audioSamplingRate(){return t.Yht}}));var t}},{key:"hJ",get:function(){return this.Igt.Qn.hJ||this.Mgt.hJ}},{key:"hg",get:function(){return this.Igt.Qn.hg||this.Mgt.hg}},{key:"Wh",get:function(){return this.Igt.Qn.Wh||""}},{key:"O2",get:function(){return this.Sgt},set:function(t){this.Sgt=t}},{key:"a6",get:function(){var t=this.Igt.Fgt();if(t)return{dA:t.dA,iQ:t.iQ,pA:this.Dgt.pA}}},{key:"Slt",get:function(){return this.Igt.Qn.Slt||this.Mgt.Slt||1}},{key:"E_t",get:function(){return this.Igt.Qn.E_t||this.Mgt.E_t}},{key:"Dgt",get:function(){return this.Mlt.Dgt}},{key:"oI",get:function(){return this.Igt.Qn.oI||this.Mgt.oI}},{key:"Mlt",get:function(){return this.Mgt.Mlt}},{key:"S_t",get:function(){return this.Igt.Qn.S_t||this.Mgt.S_t}},{key:"zht",get:function(){return this.Ngt}},{key:"R_t",get:function(){return this.Igt.Qn.R_t||this.Mgt.R_t}},{key:"I_t",get:function(){return this.Igt.Qn.I_t||this.Mgt.I_t}},{key:"Hgt",get:function(){return this.Igt.Hgt}},{key:"N_t",get:function(){return this.Igt.Qn.N_t||this.Mgt.N_t}},{key:"Nlt",get:function(){return this.Igt.Nlt}},{key:"C_t",get:function(){return this.Igt.Qn.C_t||this.Mgt.C_t}},{key:"Cu",get:function(){var t=this.oI.split("/")[0];return"application"===t||"text"===t||ll(this.oI,this.OY)?Zh.yn:"video"===t?Zh.n_:"audio"===t?Zh.i_:"image"===t?Zh.Oy:Zh.xy}},{key:"mc",get:function(){return this.Igt.Qn.mc||this.Mgt.mc}}]),n}(SH),NH=0,CH=function(t){function n(n,i){var r;return(r=t.call(this)||this).Vgt=[],r.Xgt=[],r.Wgt=n,r.Igt=i,r.Igt.ls(pH.wgt,r.pgt),r}ct(n,t);var i=n.prototype;return i._o=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r,e=this;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==this.Xgt.length){t.next=6;break}return this.Xgt=[],r=this.Igt.wlt.map(function(t){return e.qgt(t,n,i)}),t.next=5,Ct.all(r);case 5:this.Xgt=t.sent.filter(M);case 6:this.zgt();case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.qgt=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r){var e,u;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new IH(this,n),t.next=3,i(e);case 3:if(u=t.sent,Hn(r),u){t.next=7;break}return t.abrupt("return",void 0);case 7:return t.abrupt("return",e);case 8:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.zgt=function(){if(!this.Xgt.length)throw new d("Detected an AdaptationSet without any supported Representations.")},i.bgt=function(){return this.Igt.bgt()},i.xgt=function(){return this.Igt.xgt()},i.Dh=function(){this.Igt.ys(pH.wgt,this.pgt);for(var t=0,n=this.Xgt;t<n.length;t++){n[t].Dh()}xn(this.Xgt)},T(n,[{key:"U_t",get:function(){return this.Igt.Qn.U_t}},{key:"Yht",get:function(){var t;return null!==(t=this.Igt.Qn.Yht)&&void 0!==t?t:-1}},{key:"OY",get:function(){if(this.Igt.Qn.OY)return[this.Igt.Qn.OY];for(var t=[],n=0,i=this.wlt;n<i.length;n++){var r=i[n];r.Ugt.length&&-1===t.indexOf(r.wc)&&t.push(r.wc)}return t}},{key:"wc",get:function(){return this.OY.join()}},{key:"b_t",get:function(){return this.Igt.Qn.b_t}},{key:"glt",get:function(){return this.Igt.Qn.glt}},{key:"fS",get:function(){return this.oI+'; codecs="'+this.wc+'"'}},{key:"T_t",get:function(){return this.Vgt}},{key:"hJ",get:function(){return this.Igt.Qn.hJ}},{key:"F_t",get:function(){return this.Igt.Qn.F_t}},{key:"hg",get:function(){return this.Igt.Qn.hg||0}},{key:"Wh",get:function(){return this.Igt.Qn.Wh}},{key:"Slt",get:function(){return this.Igt.Qn.Slt}},{key:"E_t",get:function(){return this.Igt.Qn.E_t}},{key:"Dgt",get:function(){return this.Mlt.Dgt}},{key:"oI",get:function(){return this.Igt.Qn.oI||this.Xgt[0].oI}},{key:"Mlt",get:function(){return this.Wgt}},{key:"S_t",get:function(){return this.Igt.Qn.S_t}},{key:"wlt",get:function(){return this.Xgt}},{key:"Y_t",get:function(){return this.Igt.Qn.Y_t||[]}},{key:"R_t",get:function(){return this.Igt.Qn.R_t}},{key:"I_t",get:function(){return this.Igt.Qn.I_t}},{key:"N_t",get:function(){return this.Igt.Qn.N_t}},{key:"IS",get:function(){return this.Igt.Qn.IS}},{key:"C_t",get:function(){return this.Igt.Qn.C_t}},{key:"Cu",get:function(){var t=(this.Igt.Qn.fS||this.oI).split("/")[0];return"application"===t||"text"===t||"subtitle"===t||ll(this.oI,this.OY)?Zh.yn:"video"===t?Zh.n_:"audio"===t?Zh.i_:"image"===t?Zh.Oy:Zh.xy}},{key:"mc",get:function(){return this.Igt.Qn.mc||0}},{key:"Rlt",get:function(){return this.Igt.Qn.jh||""}},{key:"Ggt",get:function(){return this.Agt}},{key:"jgt",get:function(){var t=this.Ggt,n=this.Tgt;if(t&&n){var i=io.Xa(n,this.Dgt.Qgt);return io.Ha(t,i)}}}]),n}(SH);function DH(t,n){for(var i=[],e=0;e<n.length;e++)for(var u=n[e],s=0;s<t.length;s++){var o=t[s];i.push(r.Oa(o,u))}return i}var OH=function(){function t(t,n){this.Wgt=t,this.Ygt=n,this.Zgt=n.Ma,this.Jgt=n.r_t.za(this.Zgt),this.Kgt=n.d_t.za(this.Zgt)}var n=t.prototype;return n.$gt=function(t){var n,i=t.Ka(this.Wgt.Ly);if(!i.Ck()&&!i.Va(this.Wgt.Vv))return(null===(n=this.twt())||void 0===n?void 0:n.Ja(i))?this.Clt():this.nwt(i.za(this.Zgt,Sv.mp))},n.iwt=function(t){var n=t.Ka(this.Wgt.Ly).za(this.Zgt,Sv.mp);if(!n.Ck())return this.rwt(Cv.Xa(n,this.Wgt.Vv).za(this.Zgt,Sv.mp))},n.Clt=function(){return this.ewt(0)},n.Plt=function(){var t=this.Wgt.Vv.za(this.Zgt,Sv.mp);if(!t.tc())return this.rwt(t)},n.Ogt=function(t){if(this.Wgt.uwt.Cu===sF.oE){var n=this.swt(t);if(!n)return;return{owt:t,awt:this.cwt(t),hwt:n}}var i=this.Clt();if(i)return{owt:t,awt:i,hwt:this.Plt()}},n.xgt=function(t,n){if(n){var i=n.awt.ugt,r=this.Oat(n.hwt);return r&&(!i||r.fwt.getTime()<i.getTime())&&(i=r.fwt),i}var e=this.Clt();if(e&&t.getTime()<e.fwt.getTime())return e.fwt;var u=this.Wgt.uwt.sgt;return t.getTime()<u.getTime()?u:void 0},n.swt=function(t){var n=Cv.dp(t).Ka(Cv.dp(this.Wgt.uwt.sgt)).Ka(this.Wgt.Ly).qa(this.Jgt),i=this.rwt(Cv.lp(n.za(this.Zgt,Sv.mp),Cv.rc.za(this.Zgt,Sv.mp),this.Wgt.Vv.za(this.Zgt,Sv.mp)));if(i&&(i=this.vwt(i,t))){for(var r=this.Oat(i);r&&this.dwt(r,t);)i=r,r=this.Oat(i);return i}},n.cwt=function(t){var n,i=this.Ygt.__t;if(i){var r=Cv.dp(t).Ka(Cv.dp(this.Wgt.uwt.sgt)).Ka(this.Wgt.Ly).Ka(i.u0);(n=this.rwt(Cv.lp(r.za(this.Zgt,Sv.mp),Cv.rc.za(this.Zgt,Sv.mp),this.Wgt.Vv.za(this.Zgt,Sv.mp))))||(n=this.Clt())}else n=this.Clt();if(n&&(n=this.vwt(n,t))){for(var e=this.lwt(n);e&&this.dwt(e,t);)n=e,e=this.lwt(n);return n}},n.vwt=function(t,n){for(var i=t;i&&i.fwt.getTime()>n.getTime();)i=this.lwt(i);if(i){if(i.ugt&&i.ugt.getTime()<=n.getTime()){var r=this.lwt(i);for(r&&this.dwt(r,n)&&(i=r);i;){if(i.fwt.getTime()>n.getTime())return;if(this.dwt(i,n))break;i=this.Oat(i)}if(!i)return}return i}},n.dwt=function(t,n){return t.fwt.getTime()<=n.getTime()&&(!t.ugt||n.getTime()<t.ugt.getTime())},n._wt=function(t,n){return t.sgt.getTime()<=n.getTime()&&(!t.ugt||n.getTime()<t.ugt.getTime())},n.gwt=function(t,n,i){var r=n.qa(this.Wgt.Ly).za(this.Zgt,Sv.mp),e=Cv.Xa(i,this.Wgt.Vv.Ka(n)).za(this.Zgt,Sv.mp),u=this.wwt(r,e),s=this.ywt(u,e),o=this.mwt(u);return{J3:t,kwt:n,Km:r,Vv:e,$m:r.qa(e),sgt:u._p(),ugt:s?s._p():void 0,fwt:o._p()}},n.wwt=function(t,n){return this.Wgt.uwt.Cu===sF.oE?Cv.dp(this.Wgt.uwt.sgt).qa(t).qa(n):Cv.dp(this.Wgt.uwt.sgt)},n.mwt=function(t){return this.Wgt.uwt.Cu===sF.oE?t.Ka(this.Jgt):t},n.ywt=function(t,n){var i=Cv.hp;if(this.Wgt.uwt.Cu===sF.oE){var r=this.Ygt.__t;r&&(i=t.qa(n).qa(Cv.ap(r.mlt.nc,1)))}var e=this.Wgt.uwt.ugt;return e&&(i=Cv.Xa(i,Cv.dp(e))),i.tc()?void 0:i},n.pwt=function(t,n){return(t.J3+n).toString(10)},n.Dlt=function(t){return!1},n.Olt=function(t,n,i,r,e){var u=this.Awt(t);if(!u)return Ct.reject(new d("Invalid segment"));var s=this.bwt(u.J3);return s?Ct.resolve(s):this.Twt(u.J3,n,i,r,e)},n.bwt=function(t){},n.Twt=function(t,n,i,r,e){return Ct.reject(new d("Not supported"))},n.lwt=function(t){var n=this.Awt(t);if(n)return this.ewt(n.J3-1)},n.Oat=function(t){var n=this.Awt(t);if(n)return this.ewt(n.J3+1)},n.Awt=function(t){var n=this.ewt(t.J3);if(n&&n.Km.Ja(t.Km))return n;var i=this.$gt(t.Km);return i&&i.Km.Ja(t.Km)?i:void 0},n.Ewt=function(t){var n=this.Swt(t);if(n&&this.Dlt(n.J3)){var i=this.bwt(n.J3);if(i)return i.Ewt(t)}},n.Swt=function(t){var n=this.ewt(t.Rwt);return n&&n.Km.Wa(t.Km)&&t.$m.Wa(n.$m)||(n=this.$gt(t.Km)),n},n.Pgt=function(t){var n=this.Awt(t);return!!n&&0===n.J3},n.Bgt=function(t){var n=this.Ewt(t);return!!n&&0===n.Egt},n.F4=function(t){var n=this.Awt(t);if(!n)return!1;var i=this.Plt();return!!i&&n.J3===i.J3},n.Lgt=function(t){var n=this.Ewt(t);if(!n)return!1;var i=this.Plt();if(!i||n.Rwt!==i.J3)return!1;var r=this.bwt(n.Rwt);return n.Egt+1===r.xh},T(t,[{key:"Ip",get:function(){return this.Kgt.Ka(this.Wgt.Ly).za(this.Zgt,Sv.mp)}}]),t}(),xH=function(t){function n(n,i){var r;r=t.call(this,i,n)||this;var e=n.Vv;if(void 0===e)throw new d("MultipleSegmentBase does not have a segment duration specified.");return r.Iwt=e,r}ct(n,t);var i=n.prototype;return i.ewt=function(t){if(!(t<0)){var n=this.Iwt.np(t);if(!n.Va(this.Wgt.Vv.za(this.Zgt,Sv.yp))){var i=this.Nwt();if(void 0!==i){if(t>i)return;if(t===i)return this.gwt(t,n,this.Wgt.Vv.Ka(n))}return this.gwt(t,n,this.Iwt)}}},i.twt=function(){return Cv.rc.za(this.Zgt)},i.nwt=function(t){var n=g.floor(t.Ik()/this.Iwt.Ik()),i=this.Nwt();return void 0!==i&&n>=i?this.ewt(i):this.ewt(n)},i.rwt=function(t){if(t.Va(this.Wgt.Vv)){var n=g.ceil(this.Wgt.Vv.Ik()/this.Iwt.Ik())-1,i=this.Nwt();return void 0!==i&&n>=i?this.ewt(i):this.ewt(n)}return this.nwt(t)},i.Nwt=function(){var t,n=this.Ygt.y_t;if(void 0!==n)return n-(null!==(t=this.Ygt.w_t)&&void 0!==t?t:1);if(!this.Wgt.Vv.tc()){var i=this.Ygt.Cwt;if(void 0!==i&&i>0)return i-1}},i.Dwt=function(){if(!this.Wgt.Vv.tc())return this.Plt()},i.Owt=function(t,n){return this.Iwt.np(t.J3+(n-1)).za(this.Zgt).Gk().toString(10)},i._o=function(){},n}(OH);function PH(t,n){var i=t.length;if(0===i)return-1;for(var r=0,e=i-1,u=t[r].Km,s=t[e].$m;r<=e&&u.lessThanOrEqual(n)&&n.lessThan(s);){var o=r+g.floor(n.subtract(u).toNumber()/s.subtract(u).toNumber()*(e-r)),a=t[o],c=a.Km,h=o+1<i?t[o+1].Km:a.$m;if(h.lessThanOrEqual(n))r=o+1,u=h;else{if(!n.lessThan(c))return o;e=o-1,s=c}}return-1}var BH=function(t){function n(n,i){var r;return(r=t.call(this,i,n)||this).xwt=[],r.Pwt=void 0,r._o(),r}ct(n,t);var i=n.prototype;return i.ewt=function(t){if(!(t<0))return t<this.xwt.length?this.Bwt(this.xwt[t]):this.Lwt(t-this.xwt.length)},i.twt=function(){if(this.xwt.length>0)return Cv.Lk(this.xwt[0].Km,this.Zgt)},i.nwt=function(t){var n=t.za(this.Zgt).Gk();if(this.Pwt&&this.Pwt.Km.lessThanOrEqual(n)){var i=this.Pwt.Km,r=this.Pwt.Vv,e=g.floor(n.subtract(i).toNumber()/r.toNumber());return this.Lwt(e)}if(this.xwt.length>0&&t.Ja(Cv.Lk(this.xwt[0].Km,this.Zgt)))return this.Bwt(this.xwt[0]);var u=PH(this.xwt,n);return u<0?void 0:this.Bwt(this.xwt[u])},i.rwt=function(t){if(!this.Pwt&&this.xwt.length>0){var n=this.xwt[this.xwt.length-1];if(t.Va(Cv.Lk(n.$m,this.Zgt)))return this.Bwt(n)}var i=this.twt();return i&&t.ja(i)?this.Bwt(this.xwt[0]):this.nwt(t)},i.Dwt=function(){return this.Wgt.Vv.tc()?this.ewt(this.xwt.length-1):this.Plt()},i.Owt=function(t){return this.Mwt(t).za(this.Zgt).Gk().toString(10)},i.Bwt=function(t){return this.gwt(t.J3,Cv.Lk(t.Km,this.Zgt),Cv.Lk(t.Vv,this.Zgt))},i.Lwt=function(t){if(this.Pwt){var n=this.Pwt.Km,i=this.Pwt.Vv,r=n.add(i.multiply(t)),e=Cv.Lk(r,this.Zgt);if(!e.Va(this.Wgt.Vv.za(this.Zgt,Sv.yp)))return this.gwt(this.xwt.length+t,e,Cv.Lk(i,this.Zgt))}},i.Mwt=function(t){return t.kwt.qa(this.Kgt)},i._o=function(){var t=this.Ygt.Qn.Nlt;if(!t)throw new d("MultipleSegmentBaseTO does not have a SegmentTimeline specified.");this.Uwt(t)},i.Uwt=function(t){for(var n,i=this.Kgt.Gk(),r=[],e=0,u=$i.ZERO,s=0;s<t.length;s++){var o=t[s],a=void 0,c=o.Km?o.Km.toSigned().subtract(i):u,h=o.Vv.toSigned(),f=o.u_t||0,v=s+1<t.length&&t[s+1].Km?t[s+1].Km.toSigned().subtract(i):void 0;if(f<0){if(s+1===t.length){n={Km:c,Vv:h};break}for(;c.lessThan(v);)a={J3:e++,Km:c,Vv:h,$m:c.add(h)},r.push(a),c=a.$m}else for(var d=0;d<=f;d++)a={J3:e++,Km:c,Vv:h,$m:c.add(h)},r.push(a),c=a.$m;a&&v&&a.$m.greaterThan(v)&&(a.Vv=v.subtract(a.Km),a.$m=a.Km.add(a.Vv)),a&&(u=a.$m)}this.xwt=r,this.Pwt=n},n}(OH),LH=function(){function t(t,n,i){this.Fwt=void 0,this.Hwt=void 0,this.Mlt=t,this.Vwt=n,this.wu=i}var n=t.prototype;return n.Xwt=function(){if(this.Hwt=this.Wwt(),this.Hwt)return this.Hwt;if(this.Vwt)return this.Vwt.Nlt;throw new d("Missing media segment information.")},n.Fgt=function(t){var n=this.v_t;if(n)return{dA:(void 0!==n.e_t?r.Oa(n.e_t,t.D_t[0]):t.D_t[0]).href,iQ:n.iQ};var i=this.s_t;return i?{dA:t.D_t[0].href,iQ:[0,i[0]-1]}:void 0},n._o=function(t){this.wu=t,this.Hwt&&this.Hwt._o()},T(t,[{key:"Qn",get:function(){return this.wu}},{key:"r_t",get:function(){return this.wu&&void 0!==this.wu.r_t?Cv.ap(this.wu.r_t):this.Vwt?this.Vwt.r_t:Cv.rc}},{key:"d_t",get:function(){return this.wu&&void 0!==this.wu.d_t?Cv.Lk(this.wu.d_t,this.Ma):this.Vwt?this.Vwt.d_t:Cv.rc}},{key:"__t",get:function(){return this.wu&&void 0!==this.wu.__t?this.wu.__t:this.Vwt?this.Vwt.__t:this.Mlt.uwt.__t}},{key:"Ma",get:function(){return this.wu&&void 0!==this.wu.Ma?this.wu.Ma:this.Vwt&&this.Vwt.Ma?this.Vwt.Ma:1}},{key:"s_t",get:function(){return this.wu&&void 0!==this.wu.s_t?this.wu.s_t:this.Vwt?this.Vwt.s_t:void 0}},{key:"v_t",get:function(){return this.wu&&void 0!==this.wu.v_t?this.wu.v_t:this.Vwt?this.Vwt.v_t:void 0}},{key:"Nlt",get:function(){return this.Fwt||(this.Fwt=this.Xwt()),this.Fwt}}]),t}(),MH=function(t){function n(){return t.apply(this,arguments)||this}return ct(n,t),n.prototype.Wwt=function(){return this.wu.Nlt?new BH(this,this.Mlt):void 0!==this.wu.Vv?new xH(this,this.Mlt):void 0},T(n,[{key:"Vv",get:function(){return void 0!==this.wu.Vv?Cv.Mk(this.wu.Vv,this.Ma):this.Vwt&&this.Vwt instanceof n?this.Vwt.Vv:void 0}},{key:"w_t",get:function(){return void 0!==this.wu.w_t?this.wu.w_t:this.Vwt&&this.Vwt instanceof n?this.Vwt.w_t:void 0}},{key:"y_t",get:function(){return void 0!==this.wu.y_t?this.wu.y_t:this.Vwt&&this.Vwt instanceof n?this.Vwt.y_t:void 0}}]),n}(LH),UH=function(){function t(t){this.qwt=t}return t.prototype.Js=function(t){return this.qwt.replace(/\$\$|\$(RepresentationID|Number|Bandwidth|Time)(?:%0(\d+)d)?\$/g,function(n,i,r){if("$$"===n)return"$";var e=t[i]||"";return r&&(e=wn(e,Number(r),"0")),e})},t}(),FH=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).zwt=r.p_t?new UH(r.p_t):void 0,e.Gwt=r.A_t?new UH(r.A_t):void 0,e}ct(n,t);var i=n.prototype;return i.Fgt=function(n){var i=this.p_t;if(!i)return t.prototype.Fgt.call(this,n);var e=i.Js({Bandwidth:n.Qn.ZC.toString(),RepresentationID:n.Qn.Wh});return{dA:r.Oa(e,n.D_t[0]).href}},i.Llt=function(t,n){var i,e=null!==(i=n.Hgt.w_t)&&void 0!==i?i:1,u=this.A_t.Js({Bandwidth:n.Qn.ZC.toString(),Number:n.Nlt.pwt(t,e),RepresentationID:n.Qn.Wh,Time:n.Nlt.Owt(t,e)});return{dA:r.Oa(u,n.D_t[0]).href}},i.Cgt=function(t,n){},T(n,[{key:"p_t",get:function(){return this.zwt?this.zwt:this.Vwt&&this.Vwt instanceof n?this.Vwt.p_t:void 0}},{key:"A_t",get:function(){return this.Gwt?this.Gwt:this.Vwt&&this.Vwt instanceof n?this.Vwt.A_t:void 0}},{key:"Cwt",get:function(){}}]),n}(MH),HH=function(t){function n(){return t.apply(this,arguments)||this}ct(n,t);var i=n.prototype;return i.Llt=function(t,n){var i=this.wu.a_t[t.J3],e=n.D_t[0];return{dA:(i.rg?r.Oa(i.rg,e):e).href,iQ:i.o_t}},i.Cgt=function(t,n){},T(n,[{key:"Cwt",get:function(){return void 0!==this.wu.a_t?this.wu.a_t.length:this.Vwt&&this.Vwt instanceof MH?this.Vwt.Cwt:void 0}}]),n}(MH),VH=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).Rwt=n,s.jwt=i,s.Ma=r.Ma,s.Qwt=e,s.d_t=u,s.Ywt=s.Zwt(r),s}ct(n,t);var i=n.prototype;return i.xlt=function(t){if(t>=0&&t<this.xh)return this.Jwt(this.Ywt[t])},i.Kwt=function(t){var n=this.$wt(t);if(this.Ywt.length>0){var i=this.Ywt[0];if(n.Wa(Cv.Lk(i.Km,this.Ma)))return this.Jwt(i)}var r=PH(this.Ywt,n.za(this.Ma).Gk());if(!(r<0))return this.Jwt(this.Ywt[r])},i.tyt=function(t){var n=this.$wt(t);if(this.Ywt.length>0){var i=this.Ywt[this.Ywt.length-1];if(n.Va(Cv.Lk(i.$m,this.Ma)))return this.Jwt(i)}return this.Kwt(t)},i.Jwt=function(t){var n=Cv.Lk(t.Km,this.Ma).Ka(this.d_t),i=n.qa(this.Qwt),r=Cv.Lk(t.Vv,this.Ma);return{Rwt:this.Rwt,Egt:t.J3,Km:i,kwt:n,Vv:r,$m:i.qa(r),nyt:[this.jwt+t.jwt,this.jwt+t.iyt]}},i.Zwt=function(t){for(var n=[],i=t.Pw,r=t.Bw.toNumber(),e=0,u=0,s=t.Mw;u<s.length;u++){var o=s[u],a=o.Nw,c=$i.fromNumber(o.Vv),h=i.add(c);0===o.Iw&&n.push({J3:e++,Km:i,Vv:c,$m:h,jwt:r,iyt:r+a-1}),r+=a,i=h}return n},i.$wt=function(t){return t.Ka(this.Qwt).qa(this.d_t)},T(n,[{key:"xh",get:function(){return this.Ywt.length}}]),n}(function(){function t(){}return t.prototype.Ewt=function(t){var n=this.xlt(t.Egt);if(n&&n.Km.Ja(t.Km))return n;var i=this.Kwt(t.Km);return i&&i.Km.Ja(t.Km)?i:void 0},t}()),XH=function(t){function n(n,i){var r;return(r=t.call(this,i,n)||this).ryt=void 0,r.eyt=n.s_t,r}ct(n,t);var i=n.prototype;return i.ewt=function(t){if(0===t)return this.Bwt()},i.twt=function(){return Cv.rc.za(this.Zgt)},i.nwt=function(t){return this.Bwt()},i.rwt=function(t){return this.nwt(t)},i.Dwt=function(){return this.Bwt()},i.Bwt=function(){return this.gwt(0,Cv.rc.za(this.Zgt,Sv.mp),this.Wgt.Vv.za(this.Zgt,Sv.mp))},i.Owt=function(t,n){return""},i.Ogt=function(t){var n=this.uyt(t);return n&&{owt:t,awt:n,hwt:n}},i.uyt=function(t){var n=this.Bwt();return this.dwt(n,t)?n:void 0},i.swt=function(t){return this.uyt(t)},i.cwt=function(t){return this.uyt(t)},i._o=function(){},i.Dlt=function(t){return 0===t&&void 0!==this.eyt},i.bwt=function(t){return this.ryt},i.Twt=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r,e,u){var s,o,a;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=i.D_t[0].href,o=this.eyt,t.next=4,e.syt(s,o,r,u);case 4:return a=t.sent,this.ryt=this.oyt(n,a),t.abrupt("return",this.ryt);case 7:case"end":return t.stop()}},t,this)}));return function(n,i,r,e,u){return t.apply(this,arguments)}}(),i.oyt=function(t,n){var i=this.eyt,r=eh.E_(new DataView(n),new Xr);if(r.Cu!==Jc.t_)throw new d("Invalid segment index");var e=ch.X_(r.Qn),u=i[1]+1;return new VH(t,u,e,this.Wgt.Ly,this.Kgt)},n}(OH),WH=function(t){function n(){return t.apply(this,arguments)||this}ct(n,t);var i=n.prototype;return i.Llt=function(t,n){return{dA:n.D_t[0].href}},i.Cgt=function(t,n){return{dA:n.D_t[0].href,iQ:t.nyt}},i.Wwt=function(){return new XH(this,this.Mlt)},T(n,[{key:"w_t",get:function(){}}]),n}(LH),qH=function(t){function n(){return t.call(this,pH.wgt)||this}return ct(n,t),n}(ei);var zH=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Ygt=void 0,e.ayt=Cv.hp,e.cyt=void 0,e.pr=i,e.hyt(n,r),e}ct(n,t);var i=n.prototype;return i.fyt=function(){return this.Ygt||this.pr&&this.pr.fyt()},i.vyt=function(t){var n=this.Mlt,i=this.pr&&this.pr.fyt();this.wu.M_t?this.Ygt=new FH(n,i,this.wu.M_t):this.wu.L_t?this.Ygt=new HH(n,i,this.wu.L_t[0]):this.wu.B_t?this.Ygt=new WH(n,i,this.wu.B_t):t&&!i&&(this.Ygt=new WH(n,i,void 0))},i.hyt=function(t,n){this.wu=t,this.dyt=t.D_t&&t.D_t.length>0?DH(t.D_t.map(function(t){return t.dA}),n):n.slice(),this.Ygt&&(t.M_t?this.Ygt._o(t.M_t):t.L_t?this.Ygt._o(t.L_t[0]):t.B_t&&this.Ygt._o(t.B_t))},i.bgt=function(){var t;return null===(t=this.cyt)||void 0===t?void 0:t.lyt},i.xgt=function(){var t;return null===(t=this.cyt)||void 0===t?void 0:t._yt},i.gyt=function(t){var n=this.ayt,i=this.Mlt.Vv,r=this.cyt,e=this.wyt(t);r&&i.Ja(n)&&YH(r,e)||(this.ayt=i,this.cyt=e,this.vs(new qH))},i.$u=function(){this.gs()},T(n,[{key:"Qn",get:function(){return this.wu}},{key:"D_t",get:function(){return this.dyt}}]),n}(ii);function GH(t){for(var n,i=0;i<t.length;i++){var r=t[i].bgt();if(r){n=r.Ly;break}}if(n){for(var e,u=t.length-1;u>=0;u--){var s=t[u].bgt();if(s){e=s.Uy;break}}if(e)return{Ly:n,Uy:e}}}function jH(t){if(0!==t.length){for(var n=Cv.rc,i=Cv.hp,r=0;r<t.length;r++){var e=t[r].bgt();if(!e)return;if(n=Cv.Ha(n,e.Ly),i=Cv.Xa(i,e.Uy),n.Va(i))return}return{Ly:n,Uy:i}}}function QH(t){for(var n,i=0;i<t.length;i++){var r=t[i].xgt();r&&(!n||r.getTime()<n.getTime())&&(n=r)}return n}function YH(t,n){return function(t,n){return t&&n?t.getTime()===n.getTime():t===n}(t._yt,n._yt)&&function(t,n){return t&&n?t.Ly.Ja(n.Ly)&&t.Uy.Ja(n.Uy):t===n}(t.lyt,n.lyt)}var ZH=function(t){function n(n,i,r){var e;(e=t.call(this)||this).Wgt=n,e.Hm=i,e.yyt=r.slice();for(var u=0;u<r.length;u++){r[u].ls(pH.wgt,e.pgt)}return e}ct(n,t);var i=n.prototype;return i.bgt=function(){return jH(this.yyt)},i.xgt=function(){for(var t,n=0,i=this.yyt;n<i.length;n++){var r=i[n].xgt();r&&(!t||r.getTime()<t.getTime())&&(t=r)}return t},i.Dh=function(){this.gs();for(var t=0,n=this.yyt;t<n.length;t++){n[t].ys(pH.wgt,this.pgt)}},T(n,[{key:"Elt",get:function(){return this.yyt}},{key:"OY",get:function(){return this.Elt.reduce(function(t,n){for(var i=0,r=n.OY;i<r.length;i++){var e=r[i];Dn(t,e)||t.push(e)}return t},[])}},{key:"wc",get:function(){return this.OY.length>0?this.OY[0]:""}},{key:"Cu",get:function(){return this.yyt[0].Cu}},{key:"Wh",get:function(){return this.Hm}},{key:"Dgt",get:function(){return this.Wgt.Dgt}},{key:"oI",get:function(){return this.yyt[0].oI}},{key:"Mlt",get:function(){return this.Wgt}},{key:"wlt",get:function(){return Bn(this.Elt,function(t){return t.wlt})}}]),n}(SH),JH=function(t){function n(){return t.call(this,pH.mgt)||this}return ct(n,t),n}(ei);function KH(t){for(var n=[],i=function(i){var r=t[i],e=void 0,u=r.F_t;void 0===u||(e=Rn(n,function(t){return t.Wh===u})),e||(e={Wh:u,Elt:[]},n.push(e)),e.Elt.push(r)},r=0;r<t.length;r++)i(r);return n}var $H,tV=function(t){function n(n,i){var r;return(r=t.call(this)||this).yyt=[],r.myt=[],r.kyt=!1,r.pyt=n,r.Igt=i,r.Igt.ls(pH.wgt,r.pgt),r}ct(n,t);var i=n.prototype;return i.Ayt=function(t,n){if(0!==this.myt.length){for(var i=t,r=0,e=this.myt;r<e.length;r++){var u=e[r],s=u.Cu;if(s===Zh.i_||s===Zh.n_){var o=u.Tgt;if(!o)return;i=n(i,o)}}return i}},i.byt=function(){this.kyt||(this.kyt=!0,this.vs(new JH),this.Dh())},i._o=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==this.yyt.length){t.next=7;break}return t.next=3,this.Tyt(this.Igt.Elt,n,i);case 3:this.Eyt(this.yyt),Hn(i),t.next=9;break;case 7:return t.next=9,this.Syt(n,i);case 9:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Tyt=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r){var e,u,s;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=0;case 1:if(!(e<n.length)){t.next=17;break}return u=n[e],s=new CH(this,u),t.prev=4,t.next=7,s._o(i,r);case 7:this.yyt.push(s),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(4),Vn(t.t0);case 14:e++,t.next=1;break;case 17:case"end":return t.stop()}},t,this,[[4,10]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.Eyt=function(t){for(var n=KH(t),i=0;i<n.length;i++){var r=n[i],e=new ZH(this,r.Wh,r.Elt);this.myt.push(e)}},i.Syt=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r,e,u;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.yyt;case 1:if(!(r<e.length)){t.next=8;break}return u=e[r],t.next=5,u._o(n,i);case 5:r++,t.next=1;break;case 8:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.bgt=function(){return this.Igt.bgt()},i.xgt=function(){return this.Igt.xgt()},i.Dh=function(){this.gs(),this.Igt.ys(pH.wgt,this.pgt);for(var t=0,n=this.myt;t<n.length;t++){n[t].Dh()}for(var i=0,r=this.yyt;i<r.length;i++){r[i].Dh()}xn(this.yyt),xn(this.myt)},T(n,[{key:"Elt",get:function(){return this.yyt}},{key:"blt",get:function(){return this.myt}},{key:"igt",get:function(){return this.Igt.Qn.igt}},{key:"Vv",get:function(){return this.Igt.Vv.gp()}},{key:"Uy",get:function(){return this.Ly.qa(this.Vv)}},{key:"rgt",get:function(){return this.Igt.Qn.rgt||[]}},{key:"Wh",get:function(){return this.Igt.Wh}},{key:"kgt",get:function(){return this.kyt}},{key:"Dgt",get:function(){return this.pyt}},{key:"Ryt",get:function(){return this.pyt.Iyt(this)}},{key:"Mlt",get:function(){return this}},{key:"Nyt",get:function(){return this.pyt.Cyt(this)}},{key:"Dyt",get:function(){return this.Ayt(io.ec,io.Xa)}},{key:"Oyt",get:function(){return this.Ayt(io.rc,io.Ha)}},{key:"Ly",get:function(){return this.Igt.Ly.gp()}},{key:"pA",get:function(){return this.Dgt.pA}}]),n}(SH),nV=function(t){function n(){return t.call(this,pa.Bf)||this}return ct(n,t),n}(ei);!function(t){t.xyt="Pyt"}($H||($H={}));var iV=function(t){function n(){return t.call(this,$H.xyt)||this}return ct(n,t),n}(ei),rV=function(t){function n(n,i){var r;return(r=t.call(this,n,i,i.D_t)||this).Byt=void 0,r.Rgt=i,r.vyt(!0),r}ct(n,t);var i=n.prototype;return i.Fgt=function(){return this.Hgt.Fgt(this)},i.Llt=function(t){return this.Hgt.Llt(t,this)},i.Cgt=function(t){return this.Hgt.Cgt(t,this)},i.Ogt=function(){return this.Byt},i.wyt=function(t){var n=this.Nlt.Ogt(t),i=n&&function(t){var n,i=t.awt,r=t.hwt,e=t.owt,u=i.Km;if(r.sgt.getTime()<=e.getTime())n=r.$m;else{var s=Cv.ap(r.sgt.getTime()-e.getTime(),1e3),o=Cv.Ha(r.Vv.Ka(s),Cv.rc);n=r.Km.qa(o)}return{Ly:u,Uy:n}}(n),r=this.Nlt.xgt(t,n);return this.Byt=n,{owt:t,lyt:i,_yt:r}},i._o=function(t){this.hyt(t,this.Rgt.D_t)},T(n,[{key:"Mgt",get:function(){return this.Rgt}},{key:"Mlt",get:function(){return this.Rgt.Mlt}},{key:"uwt",get:function(){return this.Rgt.uwt}},{key:"Hgt",get:function(){return this.fyt()}},{key:"Nlt",get:function(){return this.Hgt.Nlt}}]),n}(zH),eV=function(t){function n(n,i){var r;return(r=t.call(this,n,i,i.D_t)||this).Wgt=i,r.vyt(!1),r.Xgt=n.wlt.map(function(t){return new rV(t,vt(r))}),r}ct(n,t);var i=n.prototype;return i._o=function(t){this.hyt(t,this.Wgt.D_t);var n=t.wlt||[];if(this.Xgt.length!==n.length)throw new d("Expected "+this.Xgt.length+' representations in adaptation set "'+t.Wh+'", found '+n.length);for(var i=0;i<n.length;i++)this.Xgt[i]._o(n[i])},i.gyt=function(n){for(var i=0,r=this.Xgt;i<r.length;i++){r[i].gyt(n)}t.prototype.gyt.call(this,n)},i.wyt=function(t){return{owt:t,lyt:jH(this.Xgt),_yt:QH(this.Xgt)}},i.$u=function(){for(var n=0,i=this.Xgt;n<i.length;n++){i[n].$u()}t.prototype.$u.call(this)},T(n,[{key:"wlt",get:function(){return this.Xgt}},{key:"Mlt",get:function(){return this.Wgt}},{key:"uwt",get:function(){return this.Wgt.uwt}},{key:"F_t",get:function(){return this.wu.F_t}}]),n}(zH),uV=function(t){function n(n,i,r,e){var u;return(u=t.call(this,i,void 0,n.D_t)||this).myt=[],u.Lyt=n,u.Fp=r,u.QU=e,u.vyt(!1),u.yyt=(i.Elt||[]).map(function(t){return new eV(t,vt(u))}),u.myt=KH(u.yyt),u}ct(n,t);var i=n.prototype;return i._o=function(t,n){this.hyt(t,this.Lyt.D_t),this.QU=n;var i=t.Elt||[];if(this.yyt.length!==i.length)throw new d("Expected "+this.yyt.length+' adaptation sets in period "'+t.Wh+'", found '+i.length);for(var r=0;r<i.length;r++)this.yyt[r]._o(i[r])},i.gyt=function(n){for(var i=0,r=this.yyt;i<r.length;i++){r[i].gyt(n)}t.prototype.gyt.call(this,n)},i.wyt=function(t){return{owt:t,lyt:jH(this.yyt),_yt:QH(this.yyt)}},i.$u=function(){for(var n=0,i=this.yyt;n<i.length;n++){i[n].$u()}t.prototype.$u.call(this)},T(n,[{key:"Elt",get:function(){return this.yyt}},{key:"blt",get:function(){return this.myt}},{key:"Mlt",get:function(){return this}},{key:"uwt",get:function(){return this.Lyt}},{key:"Wh",get:function(){return this.wu.Wh}},{key:"Ly",get:function(){return this.Fp}},{key:"Vv",get:function(){return this.QU}}]),n}(zH),sV=new Date("2000-01-01"),oV=function(t){function n(n,i,r,e){var u;if((u=t.call(this)||this).cyt=void 0,u.Myt=void 0,u.Uyt=void 0,u.Fyt=[],u.Hyt=i,u._o(n,r,e),n.Cu===sF.oE){var s=u.Dwt(),o=null==s?void 0:s.ugt;s&&o&&o.getTime()<sV.getTime()&&(u.Uyt=Cv.dp(u.dgt).Ka(s.Km).Ka(s.Vv)._p(),u.gyt(e))}return u}ct(n,t);var i=n.prototype;return i.bgt=function(){var t;return null===(t=this.cyt)||void 0===t?void 0:t.lyt},i.xgt=function(){var t;return null===(t=this.cyt)||void 0===t?void 0:t._yt},i._o=function(t,n,i,e){var u;this.wu=t,this.Vyt=n,this.Xyt=null!=e?e:i,this.yH=i;var s,o=[(s=n,r.Oa(".",s))];this.dyt=t.D_t&&t.D_t.length>0?DH(t.D_t.map(function(t){return t.dA}),o):o,this.Wyt=t.ogt&&t.ogt.length>0?DH(t.ogt,this.dyt):[];var a=this.Wyt.map(function(t){return t.href}),c=n.href;Dn(a,c)||(this.Wyt.push(n),a.push(c));var h=this.Hyt.href;Dn(a,h)||(this.Wyt.push(this.Hyt),a.push(h)),this.Myt=null===(u=t.klt)||void 0===u?void 0:u.u0;var f=t.Cu===sF.oE,v=function(t,n,i){for(var r=[],e=0;e<t.length;e++){var u=t[e],s=void 0;if(u.Ly)s=u.Ly.u0.za(1e3);else if(e>0&&t[e-1].Vv){var o=r[e-1],a=t[e-1].Vv.u0.za(1e3);s=o.qa(a)}else{if(0!==e||n)break;s=Cv.rc.za(1e3)}r.push(s)}for(var c=[],h=0;h<r.length-1;h++)c.push({Qn:t[h],Ly:r[h],Vv:r[h+1].Ka(r[h])});if(r.length>0){var f=r.length-1,v=t[f],d=r[f],l=Cv.hp;n||(l=v.Vv?v.Vv.u0.za(1e3):i.Ka(d)),c.push({Qn:v,Ly:d,Vv:l})}return c}(t.ylt,f,this.Myt);this.qyt(v),this.gyt(i)},i.qyt=function(t){var n=this.Fyt;if(0!==t.length){for(var i=t[0].Qn.Wh,r=0;r<n.length&&n[r].Wh!==i;)r++;for(var e=n.splice(0,r),u=0;u<e.length;u++){e[u].$u()}for(var s=0;s<t.length;s++){var o=t[s];if(s<n.length){var a=n[s];0,a._o(o.Qn,o.Vv)}else n.push(new uV(this,o.Qn,o.Ly,o.Vv))}}else xn(n)},i.gyt=function(t){for(var n=0,i=this.Fyt;n<i.length;n++){i[n].gyt(t)}var r=this.cyt,e=this.wyt(t);r&&YH(r,e)||(this.cyt=e,this.vs(new qH))},i.wyt=function(t){return{owt:t,lyt:GH(this.Fyt),_yt:QH(this.Fyt)}},i.Dwt=function(){if(0!==this.Fyt.length){var t=this.Fyt[this.Fyt.length-1];if(t.Vv.tc()&&0!==t.Elt.length){var n=t.Elt[0];if(0!==n.wlt.length)return n.wlt[0].Nlt.Dwt()}}},i.$u=function(){this.gs();for(var t=0,n=this.Fyt;t<n.length;t++){n[t].$u()}},T(n,[{key:"Qn",get:function(){return this.wu}},{key:"Cu",get:function(){return this.wu.Cu||sF.sE}},{key:"sgt",get:function(){return this.Uyt||this.wu.sgt||this.dgt}},{key:"ugt",get:function(){return this.wu.ugt}},{key:"klt",get:function(){return this.Myt}},{key:"D_t",get:function(){return this.dyt}},{key:"ogt",get:function(){return this.Wyt}},{key:"ylt",get:function(){return this.Fyt}},{key:"dgt",get:function(){return this.wu.dgt||this.yH}},{key:"__t",get:function(){return this.wu.__t}},{key:"zyt",get:function(){return this.Xyt}},{key:"Gyt",get:function(){return this.yH}}]),n}(ii);var aV=function(){function t(t,n,i){this.PA=t,this.jyt=n,this.Qyt=i,this.Yyt=0}var n=t.prototype;return n.JA=function(){var t=Ct.coroutine(Nt.mark(function t(n){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Zyt(n,this.PA,this.jyt,this.Qyt).catch(Xn);case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Jyt=function(){return new Date(ot()+this.Yyt)},n.Zyt=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r,e){var u,s,o;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=4;break}return t.next=3,this.Kyt(i,e,r);case 3:u=t.sent;case 4:if(void 0!==u){t.next=17;break}Hn(r),s=0;case 7:if(!(s<n.length)){t.next=17;break}return o=n[s],t.next=11,this.$yt(i,o,r);case 11:if(void 0===(u=t.sent)){t.next=14;break}return t.abrupt("break",17);case 14:s++,t.next=7;break;case 17:this.Yyt=void 0===u?0:u-ot();case 18:case"end":return t.stop()}},t,this)}));return function(n,i,r,e){return t.apply(this,arguments)}}(),n.$yt=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r){var e,u,s,o;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=i.llt,t.t0=e,t.next="urn:mpeg:dash:utc:http-xsdate:2012"===t.t0?4:"urn:mpeg:dash:utc:http-xsdate:2014"===t.t0?4:"urn:mpeg:dash:utc:http-iso:2012"===t.t0?4:"urn:mpeg:dash:utc:http-iso:2014"===t.t0?4:"urn:mpeg:dash:utc:direct:2012"===t.t0?10:"urn:mpeg:dash:utc:direct:2014"===t.t0?10:16;break;case 4:if(!(u=i.Cn)){t.next=9;break}return t.next=8,this.Kyt(n,u,r);case 8:return t.abrupt("return",t.sent);case 9:return t.abrupt("break",17);case 10:if(!(s=i.Cn)){t.next=15;break}if(o=new Date(s).getTime(),m(o)){t.next=15;break}return t.abrupt("return",o);case 15:return t.abrupt("break",17);case 16:return t.abrupt("return");case 17:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),n.Kyt=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r){var e,u,s;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.IA({dA:i,gA:$d.GET,wA:Zd.yn,cs:r});case 3:return e=t.sent,t.next=6,e.UA();case 6:if(u=t.sent,s=new Date(u).getTime(),m(s)){t.next=10;break}return t.abrupt("return",s);case 10:t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),Vn(t.t0);case 16:case"end":return t.stop()}},t,null,[[0,12]])}));return function(n,i,r){return t.apply(this,arguments)}}(),t}(),cV=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).Igt=void 0,u.WQ=!0,u.Fyt=[],u.tmt=void 0,u.nmt=n,u.imt=n.uf,u.rmt=i,u.PA=r,u.emt=e,u.umt=new aV(u.PA,u.emt,u.nmt.smt),u}ct(n,t);var i=n.prototype;return i.Qnt=function(t){var n=this.nl;this.WQ=t,n!==this.nl&&this.vs(new iV)},i._o=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,e){var u,s,o,a,c,h,f,v,d,l,_,g,w;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=[],o=[],a=n.agt?r.Oa(n.agt,this.imt):this.imt,void 0!==this.Igt){t.next=10;break}return t.next=6,this.umt.JA(n._gt);case 6:this.Igt=new oV(n,this.imt,a,this.Jyt()),this.Igt.ls(pH.wgt,this.fs),t.next=11;break;case 10:this.Igt._o(n,a,this.Jyt(),i);case 11:if(0===(c=this.Igt.ylt).length)h=this.Fyt.slice(),xn(this.Fyt);else{for(f=c[0].Wh,v=0;v<this.Fyt.length&&this.Fyt[v].Wh!==f;)v++;for(h=this.Fyt.splice(0,v),d=0;d<c.length;d++)l=c[d],_=void 0,d<this.Fyt.length?_=this.Fyt[d]:(_=new tV(this,l),s.push(_)),o.push(_._o(this.rmt,e))}return t.next=15,Ct.all(o);case 15:for((u=this.Fyt).push.apply(u,s),g=0,w=h;g<w.length;g++)w[g].byt();this.vs(new nV);case 18:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.Jyt=function(){return this.umt.Jyt()},i.Cyt=function(t){var n=this.Fyt.indexOf(t);if(n>0)return this.Fyt[n-1]},i.Iyt=function(t){var n=this.Fyt.indexOf(t);if(n>=0&&n+1<this.Fyt.length)return this.Fyt[n+1]},i.bgt=function(){return this.Igt?this.Igt.bgt():void 0},i.xgt=function(){return this.Igt&&this.Igt.xgt()},i.gyt=function(t){this.Igt&&this.Igt.gyt(t)},i.Dh=function(){this.gs(),this.tmt=void 0,this.Qnt(!1);for(var t=0,n=this.Fyt;t<n.length;t++){n[t].Dh()}xn(this.Fyt),this.Igt&&this.Igt.$u()},T(n,[{key:"ugt",get:function(){return this.Igt&&this.Igt.ugt}},{key:"sgt",get:function(){return this.Igt&&this.Igt.sgt}},{key:"Wh",get:function(){return this.Igt&&this.Igt.Qn.Wh}},{key:"zyt",get:function(){var t;return null===(t=this.Igt)||void 0===t?void 0:t.zyt}},{key:"omt",get:function(){var t;return null===(t=this.Igt)||void 0===t?void 0:t.Gyt}},{key:"ogt",get:function(){return this.Igt?this.Igt.ogt.map(function(t){return t.href}):[this.Alt]}},{key:"Alt",get:function(){return this.imt.href}},{key:"cgt",get:function(){return this.Igt&&this.Igt.Qn.cgt}},{key:"hgt",get:function(){return this.Igt&&this.Igt.Qn.hgt}},{key:"klt",get:function(){return this.Igt&&this.Igt.Qn.klt}},{key:"fgt",get:function(){return this.Igt&&this.Igt.Qn.fgt}},{key:"vgt",get:function(){var t,n,i=(null===(n=null===(t=this.Igt)||void 0===t?void 0:t.Qn.vgt)||void 0===n?void 0:n.Glt())||0;return g.max(i,fV)}},{key:"nl",get:function(){return this.WQ}},{key:"ylt",get:function(){return this.Fyt}},{key:"amt",get:function(){return this.Cu===sF.oE?this.Qgt:this.cmt}},{key:"hmt",get:function(){var t=this.amt;if(t)for(var n=0,i=this.ylt;n<i.length;n++){var r=i[n];if(r.Ly.Wa(t)&&r.Uy.Ga(t))return r}}},{key:"S_t",get:function(){return this.Igt&&this.Igt.Qn.S_t}},{key:"dgt",get:function(){return this.Igt&&this.Igt.dgt}},{key:"Dyt",get:function(){for(var t=this.Fyt.length-1;t>=0;t-=1){var n=this.Fyt[t].Dyt;if(n)return n}}},{key:"Qgt",get:function(){var t=this.Dyt;if(t){var n=t.Ka(this.fmt);return io.Ha(n,this.cmt)}}},{key:"cmt",get:function(){for(var t=0,n=this.Fyt;t<n.length;t++){var i=n[t].Agt;if(i)return i}}},{key:"pA",get:function(){return Boolean(this.nmt.pA)}},{key:"fmt",get:function(){var t=this.Igt&&this.Igt.Qn.lgt;return t?t.mlt:this.Cu===sF.oE?this.q8:io.rc}},{key:"q8",get:function(){return this.nmt.q8?new io(this.nmt.q8,1):this.fgt.mlt.$a(1.5)}},{key:"__t",get:function(){return this.Igt&&this.Igt.__t}},{key:"Cu",get:function(){return this.Igt?this.Igt.Cu:void 0}}]),n}(ii),hV=function(){function t(t,n,i,r){this.pyt=new cV(t,n,i,r)}return T(t,[{key:"Dgt",get:function(){return this.pyt}}]),t}(),fV=1e3,vV=g.pow(2,31)-1,dV=function(){function t(t,n,i,r){var e=this;this.vmt=new Mn,this.dmt=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i,r;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,i=e.Igt.Dgt.Jyt(),t.next=4,e.lmt(e.Igt.Dgt.ogt,n);case 4:return r=t.sent,t.next=7,e.Igt.Dgt._o(r,i,n);case 7:t.next=13;break;case 9:throw t.prev=9,t.t0=t.catch(0),hl(t.t0)&&e.Igt.Dgt.Qnt(!1),t.t0;case 13:case"end":return t.stop()}},t,null,[[0,9]])}));return function(n){return t.apply(this,arguments)}}(),this.O6=r,this.Igt=new hV(t,n,i,this.vmt.cs)}var n=t.prototype;return n.UC=function(){var t=Ct.coroutine(Nt.mark(function t(n){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Igt.Dgt.vs(new aS),t.prev=1,t.next=4,pM(this.dmt,n);case 4:this.Igt.Dgt.Qnt(!0),t.next=13;break;case 7:throw t.prev=7,t.t0=t.catch(1),Vn(t.t0),this._mt=void 0,this.Igt.Dgt.Qnt(!1),new d("The provided MPEG-DASH document could not be loaded - "+t.t0.message);case 13:this.gmt=this.wmt(this.vmt.cs);case 14:case"end":return t.stop()}},t,this,[[1,7]])}));return function(n){return t.apply(this,arguments)}}(),n.wmt=function(){var t=Ct.coroutine(Nt.mark(function t(n){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0;case 1:if(this.Igt.Dgt.Cu!==sF.oE){t.next=6;break}return t.next=4,Wn(this.ymt,n);case 4:t.next=1;break;case 6:t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}},t,this,[[0,8]])}));return function(n){return t.apply(this,arguments)}}(),n.mmt=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i,r;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Hn(n),!((i=this.kmt())>0)){t.next=6;break}return r=g.min(i,vV),t.next=6,Jn(r,n);case 6:return t.prev=6,t.next=9,pM(this.dmt,n,1/0,fV,3e4);case 9:this.Igt.Dgt.Qnt(!0);case 10:return t.prev=10,this.pmt=void 0,t.finish(10);case 13:case"end":return t.stop()}},t,this,[[6,,10,13]])}));return function(n){return t.apply(this,arguments)}}(),n.kmt=function(){var t=this.Igt.Dgt.Jyt().getTime()-this.Igt.Dgt.zyt.getTime();return this.Igt.Dgt.vgt-t},n.Amt=function(t){var n=this.Igt.Dgt.xgt();if(n){var i=n.getTime()-t.getTime();if(i>0)return i}this.Igt.Dgt.gyt(t);var r=this.Igt.Dgt.xgt();return r?r.getTime()-t.getTime():NaN},n.bmt=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.pmt||(this.pmt=this.mmt(n)),(i=new Mn).os(n),t.prev=3,t.next=6,Ct.race([this.pmt,this.Tmt(i.cs)].filter(M));case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(3),Xn(t.t0);case 11:return t.prev=11,i.ss(),t.finish(11);case 14:case"end":return t.stop()}},t,this,[[3,8,11,14]])}));return function(n){return t.apply(this,arguments)}}(),n.Tmt=function(t){var n=this.Igt.Dgt.Jyt(),i=this.Amt(n);if(!m(i))return this.Emt(i,t)},n.Emt=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Jn(n,i);case 2:r=this.Igt.Dgt.Jyt(),this.Igt.Dgt.gyt(r);case 4:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.lmt=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r,e;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.O6.N6(n,{},i,!1);case 2:return r=t.sent,e=new AH,t.abrupt("return",e.dvt(r.m6,r.CA));case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.Dh=function(){return this.vmt.ss(),this.gmt=void 0,this._mt=void 0,this.pmt=void 0,this.Igt.Dgt.Dh(),Ct.resolve()},T(t,[{key:"Smt",get:function(){return this.Igt}},{key:"MK",get:function(){return this._mt||(this._mt=this.UC(this.vmt.cs),Qn(this._mt)),this._mt}},{key:"ymt",get:function(){return this.Igt.Dgt.omt&&this.Igt.Dgt.Cu===sF.oE?this.bmt(this.vmt.cs):this.MK}}]),t}(),lV=function(){function t(t,n,i){this.O6=t,this.Rmt=n,this.Imt=i}var n=t.prototype;return n.Nmt=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.src){t.next=2;break}throw new d("Invalid typed source");case 2:if(!Rf(i=n.type)){t.next=9;break}return t.next=6,this.Cmt(n);case 6:return t.abrupt("return",t.sent);case 9:if(!tc(i)){t.next=15;break}return t.next=12,this.Dmt(n);case 12:return t.abrupt("return",t.sent);case 15:throw new d("Unexpected source type");case 16:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Cmt=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,kF(n.src,this.O6);case 3:return i=t.sent,t.next=6,AF(i,this.O6);case 6:return t.abrupt("return",t.sent);case 9:throw t.prev=9,t.t0=t.catch(0),new d("Unable to fetch HLS manifest");case 12:case"end":return t.stop()}},t,this,[[0,9]])}));return function(n){return t.apply(this,arguments)}}(),n.Dmt=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,i=new dV({uf:r.Oa(n.src),q8:n.liveOffset,smt:n.timeServer,pA:n.useCredentials},this.Imt,qb.xD,this.O6),t.next=4,i.MK;case 4:return t.next=6,$U(i.Smt.Dgt,n.contentProtection,this.Rmt);case 6:return t.abrupt("return",t.sent);case 9:throw t.prev=9,t.t0=t.catch(0),new d("Unable to fetch DASH manifest");case 12:case"end":return t.stop()}},t,this,[[0,9]])}));return function(n){return t.apply(this,arguments)}}(),t}(),_V=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i,e,u,s,o;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n.fS,MediaSource.isTypeSupported(i)||_l(n.oI,n.OY)){t.next=3;break}return t.abrupt("return",!1);case 3:if(!n.glt){t.next=17;break}e=n.glt,u=Bn(e,function(t){return hn(t.llt)}).filter(M),s=0;case 7:if(!(s<u.length)){t.next=16;break}return o=u[s],t.next=11,r.qu(o,i);case 11:if(!t.sent){t.next=13;break}return t.abrupt("return",!0);case 13:s++,t.next=7;break;case 16:return t.abrupt("return",!1);case 17:return t.abrupt("return",!0);case 18:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),gV=function(){function t(t){this.Omt=[],this.xmt=0,this.Pmt=t}var n=t.prototype;return n.Bmt=function(){var t=new qr;return this.Omt.push(t),this.Lmt(),t.Zs},n.Mmt=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n;case 2:this.xmt-=1,this.Lmt(),0===this.Omt.length&&0===this.xmt&&i.Js(!0);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.Lmt=function(){this.Omt.length>0&&this.xmt<this.Pmt&&(this.Omt.shift().Js(),this.xmt+=1)},t}();function wV(t,n){for(var i=0,r=0,e=t.Mw.hK.map(function(t){return t.Vv});r<e.length;r++){if((i+=e[r])>=n)return i}return i}var yV=function(t){function n(n,i,r,e,u,s,o){var a;void 0===o&&(o=_V),(a=t.call(this)||this).Umt=new qr,a.Fmt=HU.hlt(),a.P6=n,a.wK=i,a.O6=r,a.Hmt=e,a.Vmt=u,a.Rmt=s,a.Imt=o,a.Xmt=-1;var c=a.P6.VS.sources[0];return a.Wmt=c,a.dd=a.Cd(),a.qmt=new gV(a.P6.Wp.parallelTasksThreshold),a}ct(n,t);var i=n.prototype;return i.Cd=function(){var t=Ct.coroutine(Nt.mark(function t(){var n,i,r,e,u,s,o,a,c,h,f,v,d,l,_,w,y,m,k,p,A,b,T,E,S,R,I,N,C=this;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=new lV(this.O6,this.Rmt,this.Imt),t.next=3,i.Nmt(this.Wmt);case 3:return this.ZY=t.sent,r=this.P6.Wp.amount,e=this.ZY.Vv,u=WU(r,e),this.ult=u,o=TD(this.ZY.plt[0]),t.next=11,this.wK.cK.sK(o,"manifestURL");case 11:for(a=t.sent.filter(function(t){return Dn(t.references,C.P6.Wh)}),c=[],h=this.P6.Wp.bandwidth,f=0,v=this.ZY.ylt;f<v.length;f++)for(d=v[f],l=0,_=d.Tlt;l<_.length;l++)for(w=_[l],y=0,m=pV(w.j_);y<m.length;y++)for(k=m[y],p=0,A=AV(k.Qh,h);p<A.length;p++)b=A[p],c.push(b);if(this.Xmt=g.ceil(c.map(function(t){return t.ZC*wV(t,u)/8}).reduce(function(t,n){return t+n},0)),T=xt(),a&&0!==a.length){for(E=a.reduce(function(t,n){return t+n.byteSize},0),S=function(t){var i=a[t],r=i.qualityId,e=new tf(i.startsAndEnds);if(T.has(r))T.get(r).timeRanges=T.get(r).timeRanges.sm(e).um(5e-4);else{var u=Rn(c,function(t){return t.Wh===r}),s=g.min(C.ult,null!==(n=null==u?void 0:u.Mw.Vv)&&void 0!==n?n:1/0);T.set(r,{timeRanges:e,totalQualityDurationToCache:s})}},R=0;R<a.length;R++)S(R);s=new HU(E,T,this.ult)}else{for(I=0;I<c.length;I++)N=c[I],T.set(N.Wh,{timeRanges:tf.bm(),totalQualityDurationToCache:g.min(N.Mw.Vv,this.ult)});s=new HU(0,T,this.ult)}this.zmt=s;case 19:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Gmt=function(){var t=Ct.coroutine(Nt.mark(function t(n){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.dd;case 2:return t.next=4,this.jmt(this.ZY,n);case 4:return t.next=6,this.Umt.Zs;case 6:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.jmt=function(){var t=Ct.coroutine(Nt.mark(function t(n,i){var r,e,u,s;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.plt){t.next=2;break}throw new d("Unexpected - manifest is missing locations");case 2:return t.next=4,this.Qmt();case 4:for(r=[],e=0,u=n.ylt;e<u.length;e++)s=u[e],r.push(this.Ymt(s,n.plt[0],i));return t.abrupt("return",Ct.all(r));case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Qmt=function(){var t=Ct.coroutine(Nt.mark(function t(){var n,i,r,e;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Hmt.uK();case 2:n=t.sent,i=0;case 4:if(!(i<n.length)){t.next=25;break}return r=n[i],t.next=8,this.wK.fK.Ls(r.key);case 8:if(!(e=t.sent)){t.next=14;break}return t.next=12,mV(e,this.P6.Wh,this.wK.fK);case 12:t.next=22;break;case 14:return t.prev=14,t.next=17,this.wK.fK.iK(r);case 17:t.next=22;break;case 19:throw t.prev=19,t.t0=t.catch(14),new zU("Unable to store manifest with url: "+r.locationURL,t.t0);case 22:i++,t.next=4;break;case 25:return t.next=27,this.Hmt.aK();case 27:case"end":return t.stop()}},t,this,[[14,19]])}));return function(){return t.apply(this,arguments)}}(),i.Ymt=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r){var e,u,s,o,a,c,h;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=[],u=0,s=n.Tlt;u<s.length;u++)for(o=s[u],a=pV(o.j_),c=0;c<a.length;c++)h=a[c],e.push(this.Zmt(h,i,r));return t.abrupt("return",Ct.all(e));case 3:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.Zmt=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r){var e,u,s,o,a;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.P6.Wp.bandwidth,u=AV(n.Qh,e),n.Cu!==Zh.n_||!n.Ilt||!n.Ilt.Ob.widevine||"persistent"!==n.Ilt.Ob.widevine.licenseType){t.next=6;break}return t.next=5,this.Jmt(n.Ilt);case 5:Hn(r);case 6:for(s=[],o=0;o<u.length;o++)a=u[o],s.push(this.Kmt(a,i,r));return t.abrupt("return",Ct.all(s));case 9:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.Kmt=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r){var e,u,s,o,a,c;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Hn(r),!n.e6){t.next=7;break}return e={Km:0,Vv:0,Blt:n.e6},t.next=5,this.qmt.Bmt();case 5:Hn(r),Qn(this.qmt.Mmt(this.$mt(e,n,i),this.Umt));case 7:u=n.Mw.hK[0].Km,s=u+this.ult,o=0,a=n.Mw.hK;case 10:if(!(o<a.length)){t.next=22;break}if(!((c=a[o]).Km>=s)){t.next=14;break}return t.abrupt("break",22);case 14:return t.next=16,this.qmt.Bmt();case 16:return t.next=18,this.tkt(r);case 18:Qn(this.qmt.Mmt(this.$mt(c,n,i),this.Umt));case 19:o++,t.next=10;break;case 22:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.tkt=function(){var t=Ct.coroutine(Nt.mark(function t(n){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(null==n?void 0:n.Qu)){t.next=4;break}return t.next=3,this.Umt.Zs;case 3:throw new Un;case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.nkt=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.dd;case 2:return t.abrupt("return",this.ZY);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Jmt=function(t){return Ct.resolve()},i.ikt=function(){var t=Ct.coroutine(Nt.mark(function t(){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return et("License renewal unsupported in this SDK."),t.abrupt("return");case 2:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),i.$mt=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r){var e,u,s,o,a,c,h;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.wK.cK,u=ED(n.Blt.dA,n.Blt.iQ),t.next=4,e.Ls(u);case 4:if(!(s=t.sent)){t.next=11;break}return t.next=8,mV(s,this.P6.Wh,e);case 8:this.rkt(s,!1),t.next=24;break;case 11:return t.prev=11,t.next=14,this.ekt(n.Blt);case 14:return o=t.sent,a=this.ukt(n,i,r,o),c=a.segmentMetadataEntry,h=a.segmentEntry,t.next=18,this.wK.lK(function(){var t=Ct.coroutine(Nt.mark(function t(n){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.cK.iK(c);case 2:return t.next=4,n.hK.iK(h);case 4:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}());case 18:this.rkt(c,!0),t.next=24;break;case 21:throw t.prev=21,t.t0=t.catch(11),new zU("Unable to store segment with url: "+n.Blt.dA,t.t0);case 24:case"end":return t.stop()}},t,this,[[11,21]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.ekt=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Vmt.skt(n,!1);case 2:return i=t.sent,t.next=5,this.okt(i);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.okt=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.gT();case 2:return i=t.sent,t.abrupt("return",{buffer:i});case 4:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.ukt=function(t,n,i,r){var e=ED(t.Blt.dA,t.Blt.iQ),u=t.Km,s=t.Vv,o=this.akt(r);return{segmentMetadataEntry:{key:e,segmentURLsegmentByteRange:e,manifestURL:TD(i),qualityId:n.Wh,byteSize:o,startsAndEnds:new tf([u,u+s]).Hy,references:[this.P6.Wh]},segmentEntry:{key:e,segmentURLsegmentByteRange:e,manifestURL:TD(i),data:r}}},i.akt=function(t){return t.buffer.byteLength},i.rkt=function(t,n){var i=t.qualityId,r=this.Fmt,e=r.Bm;e.get(i).timeRanges=e.get(i).timeRanges.sm(new tf(t.startsAndEnds)).um(5e-4),this.zmt=new HU(n?r.flt+t.byteSize:r.flt,e,this.ult)},T(n,[{key:"ckt",get:function(){return this.Xmt}},{key:"zmt",get:function(){return this.Fmt},set:function(t){this.Fmt.Ja(t)||(this.Fmt=t,t.Ja(HU.hlt())||this.vs(new FU))}}]),n}(ii);function mV(t,n,i){return kV.apply(this,arguments)}function kV(){return(kV=Ct.coroutine(Nt.mark(function t(n,i,r){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Dn(n.references,i)){t.next=4;break}return n.references.push(i),t.next=4,r.iK(n);case 4:case"end":return t.stop()}},t)}))).apply(this,arguments)}function pV(t){return t.length?[t[0]]:[]}function AV(t,n){if(!t.length)return[];var i=[].concat(t).sort(MU),r=i.filter(function(t){return t.ZC<=n});return r.length>0?[r.pop()]:[i.shift()]}var bV=function(){function t(t){this.jT=new Cl,this.PA=t}var n=t.prototype;return n.IA=function(t){var n=this,i=new qr;return this.jT.jA(function(r){return n.hkt(i,t,r)},t.cs).catch(j),i.Zs},n.DI=function(t){return this.PA.DI(t)},n.hkt=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r){var e,u,s;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Hn(r),e=new al({dA:i.dA,cs:r},i),u=this.PA.IA(e),n.Js(u),t.next=6,u;case 6:return s=t.sent,t.next=9,s.YN();case 9:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),n.Dh=function(){this.jT.Dh()},T(t,[{key:"ND",get:function(){return this.PA.ND}}]),t}(),TV=function(){function t(t){this.PA=t,this.fkt=new bV(this.PA)}var n=t.prototype;return n.skt=function(t,n,i){return this.wtt(t,n,!0,!1,i)},n.vkt=function(t,n,i){return this.wtt(t,n,!1,!1,i)},n.dkt=function(t,n,i){return this.wtt(t,n,!1,!0,i)},n.wtt=function(){var n=Ct.coroutine(Nt.mark(function n(i,r,e,u,s){var o;return Nt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Hn(s),n.next=3,this.lkt(i,e,u,s);case 3:if(o=n.sent,!r){n.next=8;break}return n.abrupt("return",t._kt(o));case 8:return n.abrupt("return",this.gkt(o));case 9:case"end":return n.stop()}},n,this)}));return function(t,i,r,e,u){return n.apply(this,arguments)}}(),n.gkt=function(t){return t},t._kt=function(t){return t},n.lkt=function(t,n,i,r){var e=new al({dA:t.dA,wA:Yd.Yp,_A:t.iQ?{Range:"bytes="+t.iQ[0]+"-"+t.iQ[1]}:void 0,pA:t.pA,gA:$d.GET,Cu:tl.rA,mA:i?nl.uA:nl.xy,kA:this.wkt,cs:r});return n?this.fkt.IA(e):this.PA.IA(e)},T(t,[{key:"wkt",get:function(){return il.xy}}]),t}();function EV(t){return void 0!==t}var SV=function(){function t(){this.ykt=[]}var n=t.prototype;return n.iK=function(t){return this.lo(t.key),this.ykt.push(t),Ct.resolve()},n.rK=function(t){var n=this;return t.forEach(function(t){return n.iK(t)}),Ct.resolve()},n.Bs=function(t){return Ct.resolve(Boolean(this.Ls(t)))},n.Ls=function(t,n){return Ct.resolve(this.mkt(t,n))},n.eK=function(t){var n=this,i=t?t.map(function(t){return n.mkt(t)}):this.ykt;return Ct.resolve(i.filter(EV))},n.uK=function(){return Ct.resolve([].concat(this.ykt))},n.sK=function(t,n){var i=n||"key",r=this.ykt.filter(function(n){return n[i]===t});return Ct.resolve(r)},n.lo=function(t){var n=this.mkt(t);return n&&Nn(this.ykt,n),Ct.resolve()},n.oK=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.lo(i)}return Ct.resolve()},n.aK=function(){return xn(this.ykt),Ct.resolve()},n.mkt=function(t,n){n=n||"key";for(var i=0,r=this.ykt;i<r.length;i++){var e=r[i];if(e[n]===t)return e}},t}(),RV=function(){function t(t){this.PA=t}return t.prototype.syt=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r,e){var u;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.PA.IA({dA:n,wA:Zd.Yp,_A:{Range:"bytes="+i[0]+"-"+i[1]},pA:r,gA:$d.GET,Cu:tl.xy,cs:e});case 2:return u=t.sent,t.next=5,u.gT();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}},t,this)}));return function(n,i,r,e){return t.apply(this,arguments)}}(),t}(),IV=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).Sat=n,e}return ct(n,t),n}(lt),NV=function(){function t(t){this.C6=t}return t.prototype.syt=function(){var t=Ct.coroutine(Nt.mark(function t(n,i,r,e){var u,s;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.C6.R6(n,i);case 2:if(!(u=t.sent)){t.next=5;break}return t.abrupt("return",u.buffer);case 5:return t.next=7,this.C6.R6(n);case 7:if(!(s=t.sent)){t.next=10;break}return t.abrupt("return",Hr(new k(s.buffer),i[0],i[1]));case 10:throw new IV({dA:n,iQ:i,pA:!1});case 11:case"end":return t.stop()}},t,this)}));return function(n,i,r,e){return t.apply(this,arguments)}}(),t}(),CV={key:"",segmentURLsegmentByteRange:"",manifestURL:"",qualityId:"",byteSize:0,startsAndEnds:new tf([0,0]).Hy,references:[]},DV={key:"",segmentURLsegmentByteRange:"",manifestURL:"",data:""},OV=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n)||this).kkt=new RV(i),u.wK=r,u.pkt=e,u}ct(n,t);var i=n.prototype;return i.syt=function(){var n=Ct.coroutine(Nt.mark(function n(i,r,e,u){var s;return Nt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.prototype.syt.call(this,i,r,e,u);case 3:return n.abrupt("return",n.sent);case 6:n.prev=6,n.t0=n.catch(0),Vn(n.t0);case 9:return n.next=11,this.kkt.syt(i,r,e,u);case 11:return s=n.sent,n.next=14,this.Akt(i,r,s);case 14:return n.abrupt("return",s);case 15:case"end":return n.stop()}},n,this,[[0,6]])}));return function(t,i,r,e){return n.apply(this,arguments)}}(),i.Akt=function(){var t=Ct.coroutine(Nt.mark(function t(i,r,e){var u,s,o,a,c,h,f;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==this.pkt){t.next=2;break}return t.abrupt("return");case 2:return u=this.wK.cK,s=ED(i,r),t.next=6,u.Ls(s);case 6:if(!(o=t.sent)){t.next=12;break}return t.next=10,mV(o,this.pkt,u);case 10:t.next=22;break;case 12:return t.prev=12,a={buffer:e},c=n.ukt(s,a,this.pkt),h=c.segmentMetadataEntry,f=c.segmentEntry,t.next=17,this.wK.lK(function(){var t=Ct.coroutine(Nt.mark(function t(n){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.cK.iK(h);case 2:return t.next=4,n.hK.iK(f);case 4:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}());case 17:t.next=22;break;case 19:throw t.prev=19,t.t0=t.catch(12),new zU("Unable to store segment with url: "+i,t.t0);case 22:case"end":return t.stop()}},t,this,[[12,19]])}));return function(n,i,r){return t.apply(this,arguments)}}(),n.ukt=function(t,n,i){return{segmentMetadataEntry:Dt(Dt({},CV),{key:t,segmentURLsegmentByteRange:t,references:[i]}),segmentEntry:Dt(Dt({},DV),{key:t,segmentURLsegmentByteRange:t,data:n})}},n}(NV);var xV=function(t){function n(){return t.apply(this,arguments)||this}return ct(n,t),n.prototype.bkt=function(t,n,i,r,e,u){return new yV(t,n,i,r,e,u)},n}(function(){function t(t){this.PA=t}return t.prototype.ED=function(t,n){var i=Boolean(t.VS.sources[0].useCredentials),r=new TV(this.PA),e=new yP(this.PA,i),u=new mP(n.fK,n.cK,n.hK,n.dK),s=function(t,n,i,r){return new OV(n,t,i,r)}(this.PA,u,n,t.Wh),o=new SV,a=new TP(bP(e,u),o,t);return this.bkt(t,n,a,o,r,s)},t}());function PV(t){var n,i={get id(){return t.Wh},get status(){return t.DA},get source(){return t.VS},get parameters(){return t.Wp},get duration(){return t.Vv},get cached(){return t.Tkt.qy()},get secondsCached(){return t.Ekt},get percentageCached(){return t.Skt},get bytes(){return t.Rkt},get bytesCached(){return t.Ikt},get license(){return t.TI.th},start:function(){t.Ly()},pause:function(){t.bd()},remove:function(){t.lo()},addEventListener:function(t,i){n.ls(t,i)},removeEventListener:function(t,i){n.ys(t,i)}};return n=new VT(t,i),i}var BV=function(){function t(t,n,i){this.P6=t,this.wK=n,this.ZY=i}var n=t.prototype;return n.Nkt=function(){var t=Ct.coroutine(Nt.mark(function t(){var n=this;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.wK.lK(function(){var t=Ct.coroutine(Nt.mark(function t(i){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.Ckt(i);case 2:return t.next=4,n.Dkt(i);case 4:return t.next=6,n.Okt(i);case 6:return t.next=8,n.xkt(i);case 8:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.Ckt=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i,r;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.vK,r=this.P6.Wh,t.next=4,i.lo(r);case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Dkt=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i,r,e,u,s,o,a=this;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.cK,r=n.hK,e=TD(this.P6.VS.sources[0].src),t.next=5,i.sK(e,"manifestURL");case 5:u=t.sent.filter(function(t){return Dn(t.references,a.P6.Wh)}),s=0;case 7:if(!(s<u.length)){t.next=22;break}if(Nn((o=u[s]).references,this.P6.Wh),0!==o.references.length){t.next=17;break}return t.next=13,i.lo(o.key);case 13:return t.next=15,r.lo(o.key);case 15:t.next=19;break;case 17:return t.next=19,i.iK(o);case 19:s++,t.next=7;break;case 22:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Okt=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i,r,e,u,s,o=this;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.fK,r=this.Pkt(),t.next=4,i.eK(r);case 4:e=t.sent.filter(function(t){return Dn(t.references,o.P6.Wh)}),u=0;case 6:if(!(u<e.length)){t.next=19;break}if(Nn((s=e[u]).references,this.P6.Wh),0!==s.references.length){t.next=14;break}return t.next=12,i.lo(s.key);case 12:t.next=16;break;case 14:return t.next=16,i.iK(s);case 16:u++,t.next=6;break;case 19:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Pkt=function(){if(!this.ZY)return[];var t=TD(this.P6.VS.sources[0].src),n=function(t){if(!t)return[];for(var n=[],i=0,r=t.ylt;i<r.length;i++)for(var e=0,u=r[i].Tlt;e<u.length;e++)for(var s=0,o=u[e].j_;s<o.length;s++)for(var a=0,c=o[s].Qh;a<c.length;a++){var h=c[a];h.Ult&&n.push(h.Ult)}return n.reduce(function(t,n){return t.indexOf(n)<0&&t.push(n),t},[])}(this.ZY).map(function(t){return{src:t}}).map(function(t){return TD(t.src)});return[t].concat(n)},n.xkt=function(){var t=Ct.coroutine(Nt.mark(function t(n){var i,r,e,u,s=this;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.dK,t.next=3,i.uK();case 3:r=t.sent.filter(function(t){return Dn(t.references,s.P6.Wh)}),e=0;case 5:if(!(e<r.length)){t.next=19;break}if(Nn((u=r[e]).references,this.P6.Wh),0!==u.references.length){t.next=14;break}return t.next=11,i.lo(u.key);case 11:this.Bkt(u),t.next=16;break;case 14:return t.next=16,i.iK(u);case 16:e++,t.next=5;break;case 19:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Bkt=function(t){},t}(),LV=new(function(){function t(){}return t.prototype.ED=function(t,n,i){return new BV(t,n,i)},t}());var MV=function(){function t(t,n){this.pr=t,this.Lkt=n}var n=t.prototype;return n.W2=function(t){this.Mkt(t)},n.Mkt=function(){var t=Ct.coroutine(Nt.mark(function t(n){return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.Lkt.ikt(n);case 3:t.next=9;break;case 5:t.prev=5,t.t0=t.catch(0),this.pr.Zdt(TU.ERROR);case 9:case"end":return t.stop()}},t,this,[[0,5]])}));return function(n){return t.apply(this,arguments)}}(),T(t,[{key:"th",get:function(){var t;return this.$c||(this.$c=(t=this,{renew:function(n){t.W2(n)}})),this.$c}}]),t}(),UV=function(t){function n(n,i,r,e,u){var s;(s=t.call(this)||this).Ukt=new Mn,s.evictOnLoading=function(){s.ys("Ldt",s.evictOnLoading),s.Fkt()},s.Hm=n,s.lft=i,s.Hkt=r,s.wK=e,s.Lkt=u.ED(vt(s),s.wK),s.Vkt=new MV(vt(s),s.Lkt),s.jdt=1===s.Lkt.zmt.vlt?TU.DONE:TU.IDLE,s.Lkt.ls("NJ",function(t){s.fs(t),1===s.Skt&&s.Zdt(TU.DONE)});var o=new Date,a=s.Hkt.expirationDate.getTime()-o.getTime();return a<2147483647&&c(function(){return s.Fkt()},a),s}ct(n,t);var i=n.prototype;return i.Zdt=function(t){this.jdt!==t&&(this.jdt=t,this.vs(new SU))},i.Ly=function(){this.jdt===TU.EVICTED||this.jdt===TU.DONE||this.Xkt()},i.Xkt=function(){var t=Ct.coroutine(Nt.mark(function t(){var n;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.Zdt(TU.LOADING),n=new Mn,this.Ukt=n,t.next=6,this.Lkt.Gmt(n.cs);case 6:this.Zdt(TU.DONE),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),Fn(t.t0)?this.Zdt(TU.IDLE):this.Zdt(TU.ERROR);case 12:return t.prev=12,this.Ukt.$u(),t.finish(12);case 15:case"end":return t.stop()}},t,this,[[0,9,12,15]])}));return function(){return t.apply(this,arguments)}}(),i.bd=function(){this.Ukt.ss()},i.lo=function(){this.DA===TU.LOADING?(this.ls("Ldt",this.evictOnLoading),this.bd()):this.Fkt()},i.Fkt=function(){var t=Ct.coroutine(Nt.mark(function t(){var n;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.Lkt.nkt();case 3:return n=t.sent,t.next=6,LV.ED(this,this.wK,n).Nkt();case 6:this.Lkt.zmt=HU.hlt(),this.Zdt(TU.EVICTED),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),this.Zdt(TU.ERROR);case 14:case"end":return t.stop()}},t,this,[[0,10]])}));return function(){return t.apply(this,arguments)}}(),T(n,[{key:"th",get:function(){return this.$c||(this.$c=PV(this)),this.$c}},{key:"Wh",get:function(){return this.Hm}},{key:"TI",get:function(){return this.Vkt}},{key:"DA",get:function(){return this.jdt}},{key:"VS",get:function(){return this.lft}},{key:"Wp",get:function(){return this.Hkt}},{key:"Vv",get:function(){return this.Lkt.zmt.km}},{key:"Tkt",get:function(){return this.Lkt.zmt.clt}},{key:"Ekt",get:function(){return this.Lkt.zmt.olt}},{key:"Skt",get:function(){return this.Lkt.zmt.vlt}},{key:"Rkt",get:function(){return this.Lkt.ckt}},{key:"Ikt",get:function(){return this.Lkt.zmt.flt}}]),n}(ga);var FV=function(){function t(t,n){this.wK=t,this.Wkt=n}var n=t.prototype;return n.tlt=function(t,n){var i=ey();return this.Kdt(i,t,n)},n.Kdt=function(t,n,i){return new UV(t,n,i,this.wK,this.Wkt)},t}(),HV=30,VV=5;function XV(t){if(!t)throw new d("Unexpected - The cache parameters are undefined");var n=function(t){if(X(t)&&!vn(t,"%"))return w(t);return t}(t.amount);!function(t){if(i=t,X(i)&&vn(i,"%")){var n=y(t);if(m(n)||n<0||n>100)throw new d("The amount as percentage must be between 0 and 100 percent.")}var i;if(!X(t)&&m(t))throw new d("The amount must be a number or a string")}(n);var i=function(t){if(!t)return(n=new Date).setMinutes(n.getMinutes()+HV),n;var n;return t}(t.expirationDate);!function(t){if(t&&(n=t,n&&!(z(n)&&n>new Date)))throw new d("Invalid expiration date for the cache parameters");var n}(i);var r=function(t){if(void 0===t)return 1/0;return t}(t.bandwidth);return function(t){if(m(t)||t<0)throw new d("The bandwidth must be between zero and infinity.")}(r),{amount:n,expirationDate:i,bandwidth:r,parallelTasksThreshold:function(t){if(!t)return VV;if(m(t))throw new d("The amount must be a number");return t}(t.numberOfParallelTasks)}}var WV=function(t){function n(n,i){var r;return(r=t.call(this)||this).qkt=n,r.pB=i,r.qkt.ls("Ldt",r.fs),r}return ct(n,t),n.prototype.zkt=function(t,n){var i,r;if(!t)throw new d("Unexpected - The source description is undefined");if(i=Lf(t),r=XV(n),Tf(i))throw new d("Invalid source description");return this.qkt.Kdt(i,r).th},T(n,[{key:"th",get:function(){var t,n,i;return this.$c||(this.$c=(i={get status(){return t.DA},get tasks(){return t.rlt},get network(){return t.DB.th},createTask:function(n,i){return t.zkt(n,i)},addEventListener:function(t,i){n.ls(t,i)},removeEventListener:function(t,i){n.ys(t,i)}},n=new VT(t=this,i),i)),this.$c}},{key:"DA",get:function(){return this.qkt.DA}},{key:"rlt",get:function(){return this.qkt.rlt.th}},{key:"DB",get:function(){return this.pB}}]),n}(ga);(qV=new TT(qb.DD,!1),zV=bD.dn,GV=new xV(qV),jV=new FV(zV,GV),QV=new ST(qV),YV=new LU(zV.vK,jV),new WV(YV,QV)).th;var qV,zV,GV,jV,QV,YV,ZV=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).QU=0,u.Gkt=tf.bm(),u.jkt=0,u.Qkt=0,u.Hm=n,u.jdt=TU.IDLE,u.lft=i,u.Hkt=r,u.qkt=e,u}ct(n,t);var i=n.prototype;return i.Ly=function(){this.qkt.startCachingTask(this)},i.lo=function(){this.qkt.removeCachingTask(this)},T(n,[{key:"th",get:function(){return this.$c||(this.$c=PV(this)),this.$c}},{key:"Wh",get:function(){return this.Hm}},{key:"DA",get:function(){return this.jdt},set:function(t){this.jdt!==t&&(this.jdt=t,this.vs(new SU))}},{key:"VS",get:function(){return this.lft}},{key:"Wp",get:function(){return this.Hkt}},{key:"Vv",get:function(){return this.QU},set:function(t){this.QU=t}},{key:"Tkt",get:function(){return this.Gkt},set:function(t){this.Gkt=t}},{key:"Ekt",get:function(){return this.jkt},set:function(t){this.jkt=t}},{key:"Skt",get:function(){return this.Qkt},set:function(t){this.Qkt=t,this.vs(new FU)}}]),n}(wa),JV=30;function KV(t){var n,i;if(!t)throw new d("Unexpected - The cache parameters are undefined");if(t.expirationDate?n=t.expirationDate:(n=new Date).setMinutes(n.getMinutes()+JV),n&&((i=n)&&!(z(i)&&i>new Date)))throw new d("Invalid expiration date for the cache parameters");return{expirationDate:n}}var $V=function(t){function n(){var n;return(n=t.call(this)||this).jdt=CU.UNINITIALISED,n.XA=new BU,n.Ykt=function(t){if(t.detail){var i=n.findTaskWithId(t.detail.id);i&&(i.DA=TU.EVICTED,i.Skt=0,i.Ekt=0,i.Vv=0,i.Tkt=tf.bm(),n.XA.lo(i))}},n.Zkt=function(t){if(t.detail){var i=n.findTaskWithId(t.detail.id);if(i){var r=t.detail.status;r&&(i.DA=r);var e=t.detail.percentage;e&&(i.Skt=e);var u=t.detail.duration;u&&(i.Vv=u);var s=t.detail.seconds;s&&(i.Ekt=s);var o=t.detail.cached;if(o){for(var a=[],c=0;c<o.length;c++){var h=o[c];a.push(h.start,h.end)}i.Tkt=new tf(a)}}}},n.Jkt=function(t){if(t.detail){var i=Lf(JSON.parse(t.detail.source));if(!n.Kkt(i)){var r={},e=t.detail.expirationDate;e&&(r={expirationDate:new Date(e)});var u=t.detail.uuid;n.Kdt(i,KV(r),u)}}},n.$kt=function(t){if(t.detail){var i={},r=t.detail.expirationDate;r&&(i={expirationDate:new Date(r)});var e=JSON.parse(t.detail.source),u=t.detail.uuid,s=n.Kdt(Lf(e),KV(i),u);s.DA=t.detail.status,s.Skt=t.detail.percentage,s.Vv=t.detail.duration,s.Ekt=t.detail.seconds;for(var o=t.detail.cached,a=[],c=0;c<o.length;c++){var h=o[c];a.push(h.start,h.end)}s.Tkt=new tf(a)}},n.tpt=function(t){t.detail&&n.Zdt(t.detail.status)},n.Mvt=new pU,n.idt=new tU,QM().cache={sdkEventBus:n.idt},n.RZ(),n}ct(n,t);var i=n.prototype;return i.Zdt=function(t){this.jdt!==t&&(this.jdt=t,this.vs(new SU))},i.Kdt=function(t,n,i){void 0===i&&(i=void 0);var r=new ZV(i||ey(),t,n,this);return this.XA.qa(r),i||this.Mvt.Lvt("THEOplayerCacheCreateCachingTask",{source:t,parameters:n,id:r.Wh}),r},i.findTaskWithId=function(t){for(var n=0,i=this.XA.Wdt;n<i.length;n++){var r=i[n];if(r.Wh===t)return r}},i.Kkt=function(t){for(var n=nX(t.sources),i=0,r=this.XA.Wdt;i<r.length;i++){if(nX(r[i].VS.sources).src===n.src)return!0}return!1},i.RZ=function(){this.idt.addEventListener("deleteTask",this.Ykt),this.idt.addEventListener("updateValues",this.Zkt),this.idt.addEventListener("newTask",this.Jkt),this.idt.addEventListener("restoreTask",this.$kt),this.idt.addEventListener("setCacheStatus",this.tpt)},i.startCachingTask=function(t){this.Mvt.Lvt("THEOplayerCacheStartCachingTask",{id:t.Wh})},i.removeCachingTask=function(t){this.Mvt.Lvt("THEOplayerCacheRemoveCachingTask",{id:t.Wh})},T(n,[{key:"DA",get:function(){return this.jdt}},{key:"rlt",get:function(){return this.XA}}]),n}(ii),tX=function(t){function n(n){var i;return(i=t.call(this,n)||this).npt=n,i.npt.ls("Ldt",i.fs),i}return ct(n,t),n.prototype.zkt=function(t,n){var i,r;if(!t)throw new d("Unexpected - The source description is undefined");if(i=Lf(t),r=KV(n),Tf(i))throw new d("Invalid source description");if(!nX(i.sources))throw new d("The provided sources can't be cached");return this.npt.Kdt(i,r).th},n}(WV);function nX(t){for(var n=0;n<t.length;n++){var i=t[n];if(Rf(i.type))return i}}var iX,rX,eX=function(){var t=new $V;return new tX(t)}().th;!function(t){t.ipt="any",t.rpt="natural",t.ept="landscape",t.upt="portrait",t.spt="portrait-primary",t.opt="portrait-secondary",t.apt="landscape-primary",t.cpt="landscape-secondary"}(iX||(iX={})),function(t){t.spt="portrait-primary",t.opt="portrait-secondary",t.apt="landscape-primary",t.cpt="landscape-secondary"}(rX||(rX={}));var uX,sX,oX=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Mvt=new pU,n.hpt=iX.rpt,n.fpt=rX.spt,n.vpt=rX.spt,n.dpt=rX.spt,n}ct(n,t);var i=n.prototype;return i.lock=function(t){var n=this;return new u.Promise(function(i,r){n.hpt=t,n.Mvt.Lvt("THEOplayerOrientationLock",t),n.lpt(),i()})},i.unlock=function(){var t=this;return new u.Promise(function(n,i){t.hpt=iX.rpt,t.Mvt.Lvt("THEOplayerOrientationUnlock"),t.type=t.vpt,t.lpt(),n()})},i.lpt=function(){var t=this.dpt,n=this.type;t!==n&&(this.dpt=n,this.vs(new ei("change")))},i.addEventListener=function(t,n){this.ls(t,n)},i.removeEventListener=function(t,n){this.ys(t,n)},n._pt=function(t){switch(t){case iX.spt:return[rX.spt];case iX.opt:return[rX.opt];case iX.upt:return[rX.spt,rX.opt];case iX.apt:return[rX.apt];case iX.cpt:return[rX.cpt];case iX.ept:return[rX.apt,rX.cpt];case iX.rpt:return[rX.spt,rX.apt,rX.cpt];case iX.ipt:return[rX.spt,rX.opt,rX.apt,rX.cpt]}},n.gpt=function(t,i){return n._pt(i).indexOf(t)>=0},T(n,[{key:"type",get:function(){return this.fpt},set:function(t){this.vpt=t,n.gpt(t,this.hpt)?(this.fpt=t,this.lpt()):(t===rX.apt&&this.hpt===iX.cpt&&(this.fpt=rX.cpt,this.lpt()),t===rX.cpt&&this.hpt===iX.apt&&(this.fpt=rX.apt,this.lpt()))}},{key:"angle",get:function(){switch(this.type){case rX.apt:return-90;case rX.cpt:return 90;case rX.spt:return 0;case rX.opt:return 180;default:return 0}}}]),n}(wa);oX.dn=new oX,u.screen.orientation=oX.dn,a&&-1===a.userAgent.indexOf("OS 9")&&_.defineProperty(u,"orientation",{get:function(){return u.screen.orientation.angle}}),u.screen.orientation.addEventListener("change",function(){u.dispatchEvent(new CustomEvent("orientationchange"))}),function(t){t.wpt="unavailable",t.ypt="available",t.mpt="presenting"}(uX||(uX={})),bE(function(t){return function(t){function n(n,i){return t.call(this,n,i)||this}return ct(n,t),n.prototype.Sd=function(n){t.prototype.Sd.call(this,n);var i=this.th;this.th.vr&&n&&n.vr&&i.vr.addEventListener("statechange",function(){i.vr.state===uX.mpt?screen.orientation&&screen.orientation.lock&&screen.orientation.lock(iX.cpt).catch(function(t){console.error("screen.orientation.lock() failed due to",t.message)}):screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock()})},n}(t)},_E.PB),function(t){t.Yc="addtrack",t.Jc="removetrack",t.lh="change",t.kh="update"}(sX||(sX={}));var aX=function(t,n,i){this.mediaType=t,this.mediaTrack=n,this.mediaTrackList=i,this.type=sX.lh},cX=function(t,n){this.mediaType=t,this.mediaTrack=n,this.type=sX.Yc},hX=function(t,n){this.mediaType=t,this.mediaTrack=n,this.type=sX.Jc},fX=function(t,n){this.mediaType=t,this.mediaTrack=n,this.type=sX.kh},vX=function(){function t(t,n,i){var r=this;this.kpt=function(t){var n=new aX(r.type,t.track,r.mediaTracks);r.messageDispatcher.ppt(n)},this.Apt=function(t){var n=new cX(r.type,t.track);r.messageDispatcher.ppt(n),t.track.addEventListener("update",r.bpt)},this.Tpt=function(t){var n=new hX(r.type,t.track);r.messageDispatcher.ppt(n)},this.bpt=function(t){var n=new fX(r.type,t.track);r.messageDispatcher.ppt(n)},this.type=t,this.mediaTracks=n,this.messageDispatcher=i,this.RZ()}return t.prototype.RZ=function(){this.mediaTracks.addEventListener("change",this.kpt),this.mediaTracks.addEventListener("addtrack",this.Apt),this.mediaTracks.addEventListener("removetrack",this.Tpt)},t}(),dX=function(){function t(){this.Ept=new pU}return t.prototype.ppt=function(t){this.Ept.Lvt(t.type,BM(t))},t}();SE(function(t){if(t.th.audioTracks){var n=new dX;new vX("audio",t.th.audioTracks,n)}if(t.th.videoTracks){var i=new dX;new vX("video",t.th.videoTracks,i)}});var lX,_X,gX=function(t){function n(){return t.apply(this,arguments)||this}return ct(n,t),n.prototype.dispatchEvent=function(t,n){switch(t){case lX.Spt:var i={integrationId:n.integrationId,keySystem:n.keySystem};this.vs(new wX(i));break;default:0}},n}(tU),wX=function(t){function n(n){var i;return(i=t.call(this,lX.Spt)||this).detail=n,i}return ct(n,t),n}(ei);!function(t){t.Spt="registerContentProtectionIntegration"}(lX||(lX={})),function(t){t.Rpt="certifiateRequest",t.Ipt="certifiateResponse",t.Npt="licenseRequest",t.Cpt="licenseResponse",t.Dpt="extractFairplayContentId",t.Opt="buildContentProtection",t.xpt="registerContentProtectionCallback"}(_X||(_X={}));var yX,mX,kX=function(t,n){this.value=t,this.integrationId=n,this.type=_X.xpt};!function(t){t.VOD="vod",t.LIVE="live"}(yX||(yX={})),function(t){t.LIVE_OFFSET="liveoffset",t.TRACK_BYTES_DOWNLOADED="trackbytesdownloaded",t.ESTIMATED_TRACK_NETWORK_BANDWIDTH="estimatedtracknetworkbandwidth",t.ESTIMATED_TRACK_MEDIA_DATA_BANDWIDTH="estimatedtrackmediadatabandwidth",t.SEGMENT_RECEIVE_INTERVAL="segmentreceiveinterval"}(mX||(mX={}));var pX,AX=function(t,n){this.value=t,this.integrationId=n,this.type=_X.Opt},bX=function(t,n){this.value=t,this.integrationId=n,this.type=_X.Rpt},TX=function(t,n){this.value=t,this.integrationId=n,this.type=_X.Ipt},EX=function(t,n){this.value=t,this.integrationId=n,this.type=_X.Dpt},SX=function(t,n){this.value=t,this.integrationId=n,this.type=_X.Npt},RX=function(t,n){this.value=t,this.integrationId=n,this.type=_X.Cpt},IX=function(){function t(t,n){this.Ppt=t,this._l=n}var i=t.prototype;return i.onCertificateRequest=function(){var t=Ct.coroutine(Nt.mark(function t(i){var r,e,u,s,o,a;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i),e=new bX(r,this._l),t.prev=2,t.next=5,this.Ppt.Bpt(e);case 5:if(!(u=t.sent)){t.next=16;break}if(s=JSON.parse(u),!this.Lpt(s)){t.next=13;break}return o=Dt({},s),t.abrupt("return",o);case 13:if(!this.Mpt(s)){t.next=16;break}return a=new k(s),t.abrupt("return",a);case 16:throw new bc(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Could not parse callback in onCertificateRequest");case 19:throw t.prev=19,t.t0=t.catch(2),new bc(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,t.t0);case 22:case"end":return t.stop()}},t,this,[[2,19]])}));return function(n){return t.apply(this,arguments)}}(),i.onCertificateResponse=function(){var t=Ct.coroutine(Nt.mark(function t(i){var r,e,u,s,o;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i.request),e={request:r,url:i.url,status:i.status,statusText:i.statusText,headers:i.headers,body:Array.from(i.body)},u=new TX(e,this._l),t.next=5,this.Ppt.Bpt(u);case 5:if(!(s=t.sent)){t.next=11;break}return o=JSON.parse(s),t.abrupt("return",new k(o));case 11:throw new bc(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"received undefined instead of string in onCertificateResponse");case 12:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.onLicenseRequest=function(){var t=Ct.coroutine(Nt.mark(function t(i){var r,e,u,s,o,a,c;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i),e={url:r.url,method:r.method,headers:r.headers,body:r.body?Array.from(r.body):null,useCredentials:r.useCredentials,fairplaySkdUrl:i.fairplaySkdUrl},u=new SX(e,this._l),t.prev=3,t.next=6,this.Ppt.Bpt(u);case 6:if(!(s=t.sent)){t.next=17;break}if(o=JSON.parse(s),!this.Lpt(o)){t.next=14;break}return a={url:o.url,method:o.method,headers:o.headers,body:o.body?new k(o.body):null,useCredentials:o.useCredentials,fairplaySkdUrl:o.fairplaySkdUrl},t.abrupt("return",a);case 14:if(!this.Mpt(o)){t.next=17;break}return c=new k(o),t.abrupt("return",c);case 17:throw new bc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Could not parse callback in onLicenseRequest");case 20:throw t.prev=20,t.t0=t.catch(3),new bc(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,t.t0);case 23:case"end":return t.stop()}},t,this,[[3,20]])}));return function(n){return t.apply(this,arguments)}}(),i.onLicenseResponse=function(){var t=Ct.coroutine(Nt.mark(function t(i){var r,e,u,s,o,a;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i.request),e=Dt(Dt({},r),{fairplaySkdUrl:i.request.fairplaySkdUrl}),u={request:e,url:i.url,status:i.status,statusText:i.statusText,headers:i.headers,body:Array.from(i.body)},s=new RX(u,this._l),t.next=6,this.Ppt.Bpt(s);case 6:if(!(o=t.sent)){t.next=12;break}return a=JSON.parse(o),t.abrupt("return",new k(a));case 12:throw new bc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"received undefined instead of string in onLicenseResponse");case 13:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.extractFairplayContentId=function(){var t=Ct.coroutine(Nt.mark(function t(i){var r,e;return Nt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=new EX(i,this._l),t.next=3,this.Ppt.Bpt(r);case 3:if(!(e=t.sent)){t.next=6;break}return t.abrupt("return",e);case 6:return t.abrupt("return",Ct.reject(new bc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"received undefined instead of string in extractFairplayContentId")));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.toCertificateRequestDTO=function(t){return{url:t.url,method:t.method,headers:t.headers,body:t.body?Array.from(t.body):null,useCredentials:t.useCredentials}},i.Lpt=function(t){var n=t;return void 0!==n.url&&void 0!==n.method&&void 0!==n.headers},i.Mpt=function(t){return!!new k(t)},t}(),NX=function(){function t(t){this.Ppt=t}return t.prototype.build=function(t){if(!t.integration)throw new d("integrationId is undefined");var n=new IX(this.Ppt,t.integration),i=new AX({drmConfiguration:t},t.integration);return this.Ppt.Bpt(i),n},t}(),CX=function(){var t=this;this.Upt=function(n){var i=new NX(t.messageDispatcher),r=n.detail,e=r.integrationId,u=r.keySystem,s={state:nh.pl.wl(e,u,i)};t.messageDispatcher.Bpt(new kX(s,e))},this.idt=new gX,QM().contentProtectionIntegration={sdkEventBus:this.idt},this.idt.addEventListener(lX.Spt,this.Upt)},DX="nativePromiseCallback",OX=function(t){function n(n){var i;return(i=t.call(this,DX)||this).detail=n,i}return ct(n,t),n}(ei);!function(t){t.RESOLVE="NATIVE_PROMISE_RESOLVE",t.REJECT="NATIVE_PROMISE_REJECT"}(pX||(pX={}));var xX=function(t){function n(){return t.apply(this,arguments)||this}ct(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.vs(new OX(n))},i.addEventListener=function(t,n){this.ls(t,n)},i.removeEventListener=function(t,n){this.ys(t,n)},n}(tU),PX=function(){function t(){var t=this;this.promisesMap={},this.handleNativePromiseEvent=function(n){var i=t.promisesMap[n.detail.promiseId];if(!i)throw new d("Could not find a promise with id "+n.detail.promiseId);switch(n.detail.type){case pX.RESOLVE:i.Js(n.detail.data);break;case pX.REJECT:i.Ks(n.detail.data)}delete t.promisesMap[n.detail.promiseId]};var n=new xX;QM().nativePromise={sdkEventBus:n},n.addEventListener(DX,this.handleNativePromiseEvent)}return t.prototype.Bpt=function(n){var i;t.messageIdTracker+=1;var r=t.messageIdTracker.toString(),e=Dt(Dt({},n),{promiseId:r}),u=new qr;return this.promisesMap[r]=u,null===(i=this.Ept)||void 0===i||i.Lvt(n.type,xM(e)),u.Zs},t}();PX.messageIdTracker=-1;var BX,LX=function(t){function n(){var n;return(n=t.call(this)||this).Ept=new pU,n}return ct(n,t),n}(PX),MX=function(t){function n(){var n;return(n=t.call(this)||this).Ppt=new LX,n}return ct(n,t),T(n,[{key:"messageDispatcher",get:function(){return this.Ppt}}]),n}(CX);SE(function(t){new MX}),function(t){t.Fpt="airplaystatechange"}(BX||(BX={}));var UX=function(t){this.state=t,this.type=BX.Fpt},FX=function(t){function n(n){var i;return(i=t.call(this)||this).Hpt=function(t){var n=new UX(t.state);i.ppt(n)},i.Vpt=n,i.RZ(n),i}return ct(n,t),n.prototype.RZ=function(t){t.addEventListener("statechange",this.Hpt)},n}(dX);SE(function(t){var n;(null===(n=t.th.cast)||void 0===n?void 0:n.airplay)&&new FX(t.th.cast.airplay)}),n.ChromelessPlayer=QE,n.Player=QE,n.cache=eX,n.createGlobals=JM,n.features=["hls","airplay"],n.getCueMirrorMap=YM,n.getGlobalId=ZM,n.getSdkEventBridge=QM,n.playerSuiteVersion="2021.1.3",n.players=JE,n.registerContentProtectionIntegration=KE,n.utils=ZE,n.version="2.83.1",_.defineProperty(n,"__esModule",{value:!0})})}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:this);
