/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com

 This product makes use of Open Source Software: video.js
 (Apache 2.0 - Copyright Brightcove, Inc.), long.js (Apache 2.0),
 nodejs-langs (MIT - Copyright Andrew Lawson), promise-polyfill
 (MIT - Copyright (c) 2014 Taylor Hakes & Forbes Lindesay),
 shaka-player (Apache 2.0 - Copyright 2016 Google LLC)
 The code of these projects has been heavily modified during
 integration.
 More information on the licenses can be found here: Apache 2.0
 (http://www.apache.org/licenses/LICENSE-2.0), MIT
 (https://opensource.org/licenses/MIT)


 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 2022.2.0 (3.3.0)
 Created: 2022-04-13T08:04:37.877Z
 */
!function(t){!function(n,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i((n="undefined"!=typeof globalThis?globalThis:n||t).THEOplayer={})}(this,function(n){"use strict";var i=t.window,e=t.document,r=t.location,u=t.navigator,s=t.setTimeout,o=t.clearTimeout,c=t.setInterval,a=t.clearInterval,h=t.Error,f=t.TypeError,d=(t.SyntaxError,t.Object),v=t.Math,l=t.parseInt,w=t.parseFloat,g=t.isNaN,y=t.Uint8Array,m=(t.Worker,t.WorkerGlobalScope,t.XMLHttpRequest);var p=s;function b(t){return Boolean(t&&void 0!==t.length)}function _(){}function k(t){if(!(this instanceof k))throw new f("Promises must be constructed via new");if("function"!=typeof t)throw new f("not a function");this.o=0,this.l=!1,this.g=void 0,this.p=[],D(t,this)}function T(t,n){for(;3===t.o;)t=t.g;0!==t.o?(t.l=!0,k.I(function(){var i=1===t.o?n.onFulfilled:n.onRejected;if(null!==i){var e;try{e=i(t.g)}catch(t){return void E(n.promise,t)}S(n.promise,e)}else(1===t.o?S:E)(n.promise,t.g)})):t.p.push(n)}function S(t,n){try{if(n===t)throw new f("A promise cannot be resolved with itself.");if(n&&("object"==typeof n||"function"==typeof n)){var i=n.then;if(n instanceof k)return t.o=3,t.g=n,void I(t);if("function"==typeof i)return void D((e=i,r=n,function(){e.apply(r,arguments)}),t)}t.o=1,t.g=n,I(t)}catch(n){E(t,n)}var e,r}function E(t,n){t.o=2,t.g=n,I(t)}function I(t){2===t.o&&0===t.p.length&&k.I(function(){t.l||k.R(t.g)});for(var n=0,i=t.p.length;n<i;n++)T(t,t.p[n]);t.p=null}function R(t,n,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof n?n:null,this.promise=i}function D(t,n){var i=!1;try{t(function(t){i||(i=!0,S(n,t))},function(t){i||(i=!0,E(n,t))})}catch(t){if(i)return;i=!0,E(n,t)}}k.prototype.catch=function(t){return this.then(null,t)},k.prototype.then=function(t,n){var i=new this.constructor(_);return T(this,new R(t,n,i)),i},k.prototype.finally=function(t){var n=this.constructor;return this.then(function(i){return n.resolve(t()).then(function(){return i})},function(i){return n.resolve(t()).then(function(){return n.reject(i)})})},k.all=function(t){return new k(function(n,i){if(!b(t))return i(new f("Promise.all accepts an array"));var e=Array.prototype.slice.call(t);if(0===e.length)return n([]);var r=e.length;function u(t,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var o=s.then;if("function"==typeof o)return void o.call(s,function(n){u(t,n)},i)}e[t]=s,0==--r&&n(e)}catch(t){i(t)}}for(var s=0;s<e.length;s++)u(s,e[s])})},k.allSettled=function(t){return new this(function(n,i){if(!t||void 0===t.length)return i(new f(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var e=Array.prototype.slice.call(t);if(0===e.length)return n([]);var r=e.length;function u(t,i){if(i&&("object"==typeof i||"function"==typeof i)){var s=i.then;if("function"==typeof s)return void s.call(i,function(n){u(t,n)},function(i){e[t]={status:"rejected",reason:i},0==--r&&n(e)})}e[t]={status:"fulfilled",value:i},0==--r&&n(e)}for(var s=0;s<e.length;s++)u(s,e[s])})},k.resolve=function(t){return t&&"object"==typeof t&&t.constructor===k?t:new k(function(n){n(t)})},k.reject=function(t){return new k(function(n,i){i(t)})},k.race=function(t){return new k(function(n,i){if(!b(t))return i(new f("Promise.race accepts an array"));for(var e=0,r=t.length;e<r;e++)k.resolve(t[e]).then(n,i)})},k.I="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){p(t,0)},k.R=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var N=function(){var n=t.Promise;if(void 0!==n)try{if(-1!==n.toString().indexOf("[native code]"))return n}catch(t){}}(),C=u?u.userAgent:"",O=C.match(/Firefox\/([0-9]+)/i),A=null!=O,P=O?Number(O[1]):0,x=C.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),L=null!=x,B=x?Number(x[3]):0,F=function(){function t(t){this.N=0,this.C=0,this.P=[],this.B=t}return t.prototype.F=function(t){var n=this.length();this.M(n+1);var i=this.C+n&this.B-1;this.P[i]=t,this.N=n+1},t.prototype.push=function(t){var n=this.length()+1;if(this.B<n)this.F(t);else{var i=this.C+n-1,e=this.B-1;this.P[i&e]=t,this.N=n}},t.prototype.shift=function(){var t=this.C,n=this.P[t];return this.P[t]=void 0,this.C=t+1&this.B-1,this.N--,n},t.prototype.length=function(){return this.N},t.prototype.M=function(t){this.B<t&&this.U(this.B<<1)},t.prototype.U=function(t){var n=this.B;this.B=t;var i=this.C+this.N&n-1;!function(t,n,i,e){for(var r=0;r<e;++r)t[r+i]=t[r+n],t[r+n]=void 0}(this.P,0,n,i)},t}();var M="unhandledrejection",U=t.PromiseRejectionEvent,V=t.CustomEvent;function q(t){return new U(M,{reason:t,promise:N.reject(t).catch(function(){}),cancelable:!0})}function H(t){var n=new V(M,{detail:{reason:t},cancelable:!0});return d.defineProperty(n,"reason",{value:t}),n}function z(t){var n=e.createEvent("CustomEvent");return n.initCustomEvent(M,!1,!0,{reason:t}),n}var W,j,$,X,G,Y,K,J,Q,Z,tt,nt,it=function(t){return(it=function(){try{var t=N.resolve(),n=new U(M,{reason:"error",promise:t});return M===n.type&&"error"===n.reason}catch(t){}return!1}()?q:function(){try{var t=new V(M,{detail:{reason:"error"}});return M===t.type&&"error"===t.detail.reason}catch(t){}return!1}()?H:z)(t)};if(N&&!(A&&P<60||L&&B<15))j=N,function(){};else{j=k;var et=null!==(W=function(){var n=t.queueMicrotask;if("function"==typeof n)return function(t){return n(t)};var i=N;if(i&&"function"==typeof i.resolve){var e=i.resolve();return function(t){return e.then(t)}}}())&&void 0!==W?W:k.I,rt=($=et,X=new F(16),G=!1,{V:function(t){X.push(t),G||(G=!0,$(Y))},H:Y=function(){for(;X.length()>0;)X.shift()();G=!1}});rt.H,k.I=rt.V,k.R=function(n){try{var i=it(n);if(!t.dispatchEvent(i)||i.defaultPrevented)return}catch(t){}s(function(){throw new h("Unhandled promise rejection: ".concat(n))},0)}}var ut,st,ot,ct={W:function(){function t(){this.j=[]}var n=t.prototype;return n.X=function(){},n.G=function(t){return{Y:function(){return j.resolve()},K:function(){}}},n.J=function(t){throw new h("Not implemented")},n.Z=function(t){return j.resolve()},n.nt=function(t){return j.resolve()},n.it=function(t){},n.et=function(){},t}(),rt:function(){function t(){}var n=t.prototype;return n.ut=function(){return j.resolve("all")},n.st=function(){},n.et=function(){},t}(),ot:{ct:function(t){getActiveDocument().addEventListener("unload",t)},at:function(t){getActiveDocument().removeEventListener("unload",t)}},ht:{location:{href:"https://theoplayer.doubleclick.net"},get document(){return getActiveDocument()},top:void 0,parent:void 0,self:t,navigator:{userAgent:""},ResizeObserver:function(t){this.observe=function(t){},this.unobserve=function(t){},this.disconnect=function(){}}}};function at(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),d.defineProperty(t,e.key,e)}}function ht(t,n,i){return n&&at(t.prototype,n),i&&at(t,i),t}function ft(t,n){return(ft=d.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function dt(t,n){t.prototype=d.create(n.prototype),t.prototype.constructor=t,ft(t,n)}function vt(t){st=t}Element.prototype.style={},K=(ut=ct).W,J=ut.rt,Q=ut.ot,Z=ut.ht,tt=Z&&Z.location,nt=Z&&Z.navigator,function(t){t.ft="web",t.dt="android",t.vt="android-tv",t.wt="ios",t.yt="tvos",t.pt="chromecast"}(ot||(ot={}));var lt=u?u.userAgent:"",wt=lt.match(/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),gt=lt.match(/Edg\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),yt=lt.match(/Android ([0-9\.]+)/i),mt=lt.match(/Windows NT ([0-9\.]+)/i),pt=lt.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),bt=lt.match(/Firefox\/([0-9\.]+)/i),_t=lt.match(/OPR\/(\d+\.\d+)/i),kt=lt.match(/Tizen ([0-9\.]+)/i),Tt=function(){function n(){this.bt=Boolean("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch||u&&u.msMaxTouchPoints),this._t=/(mac\sos\sx)\s?([\w\s\.]+\w)*/i.test(lt)||/(macintosh|mac(?=_powerpc)\s)/i.test(lt),this.kt=/Windows NT/i.test(lt),this.Tt=mt?w(mt[1]):0,this.St=/Android/i.test(lt),this.Et=yt?w(yt[1]):0,this.It=/windows phone (8|8\.1)/i.test(lt),this.Rt=/iPhone/i.test(lt),this.Dt=/iPad/i.test(lt),this.Nt=this._t&&this.bt&&!this.Dt,this.Ct=/iPod/i.test(lt),this.Ot=/Mobile Safari/i.test(lt),this.At=/EOSSTB/i.test(lt),this.Pt=(this.Rt||this.Dt||this.Nt||this.Ct)&&!this.It,this.xt=this.It||this.Pt||this.St||this.Ot,this.Lt=/CriOS/i.test(lt),this.Bt=Boolean(t.chrome&&/google/i.test(u.vendor))||this.Lt,this.Ft=this.Bt&&/Edg\//i.test(u.userAgent),this.Mt=gt?l(gt[1],10):0,this.Ut=Boolean(t.chrome||/Chrome/i.test(lt)||/CriOS/i.test(lt)),this.Vt=wt?l(wt[1],10):0,this.qt=/SMART-TV.*Tizen/i.test(lt),this.Ht=kt?w(kt[1]):0,this.zt=/webos|web0s/i.test(lt),this.Wt=/Edge\/\d+/i.test(lt),this.jt=/Trident/i.test(lt),this.$t=this.jt&&!t.ActiveXObject&&"ActiveXObject"in t,this.Xt=/Vivaldi/i.test(lt),this.Gt=/Firefox/i.test(lt)&&!/Seamonkey/i.test(lt),this.Yt=bt?w(bt[1]):0,this.Kt=/Safari/i.test(lt)&&!/Chrome/i.test(lt)&&!this.It&&!this.qt,this.Jt=pt?w(pt[2]):0,this.Qt=Boolean(_t),this.Zt=_t?w(_t[1]):0,this.tn=/CrKey/.test(lt),this.nn=/\b(tv|smart-tv|smarttv|appletv|crkey|googletv|hbbtv|pov_tv|roku|viera|nettv|philipstv)\b/i.test(lt),this.in="tvos"===ot.vt,this.en="tvos"===ot.dt,this.rn=this.en||this.in,this.un="tvos"===ot.wt,this.sn="tvos"===ot.yt,this.cn="tvos"===ot.pt}return ht(n,[{key:"an",get:function(){return this.bt}},{key:"hn",get:function(){return this._t}},{key:"fn",get:function(){return this.kt}},{key:"dn",get:function(){return this.Tt}},{key:"vn",get:function(){return this.St}},{key:"ln",get:function(){return this.Et}},{key:"wn",get:function(){return this.It}},{key:"gn",get:function(){return this.Rt}},{key:"yn",get:function(){return this.Dt}},{key:"mn",get:function(){return this.Nt}},{key:"pn",get:function(){return this.Ct}},{key:"bn",get:function(){return this.Pt}},{key:"_n",get:function(){return this.At}},{key:"kn",get:function(){return this.Ot}},{key:"Tn",get:function(){return this.xt}},{key:"Sn",get:function(){return this.Lt}},{key:"En",get:function(){return this.Bt}},{key:"In",get:function(){return this.Vt}},{key:"Rn",get:function(){return this.Ft}},{key:"Dn",get:function(){return this.Mt}},{key:"Nn",get:function(){return this.qt}},{key:"Cn",get:function(){return this.Ht}},{key:"On",get:function(){return this.zt}},{key:"An",get:function(){return this.Wt}},{key:"Pn",get:function(){return this.jt}},{key:"xn",get:function(){return this.$t}},{key:"Ln",get:function(){return this.Xt}},{key:"Bn",get:function(){return this.Gt}},{key:"Fn",get:function(){return this.Yt}},{key:"Mn",get:function(){return this.Kt}},{key:"Un",get:function(){return this.Jt}},{key:"Vn",get:function(){return this.Qt}},{key:"qn",get:function(){return this.Zt}},{key:"Hn",get:function(){return this.tn}},{key:"zn",get:function(){return this.nn}},{key:"Wn",get:function(){if(!(this.On||this.Nn))return!1;var t=this.In;return void 0===t||Number(t)<56}},{key:"jn",get:function(){return this.in}},{key:"$n",get:function(){return this.en}},{key:"Xn",get:function(){return this.rn}},{key:"Gn",get:function(){return this.un}},{key:"Yn",get:function(){return this.sn}},{key:"Kn",get:function(){return this.cn}},{key:"Jn",get:function(){return this.Ut}}]),n}();Tt.Qn=new Tt;var St=Tt.Qn,Et={}.hasOwnProperty,It={}.toString;function Rt(t){return null!=t}var Dt=Array.isArray||function(t){return"[object Array]"===It.call(t)};function Nt(t){return Ct(t)&&Et.call(t,"length")&&Lt(t.length)}function Ct(t){return"object"==typeof t&&null!==t}function Ot(t){return Ct(t)&&t.constructor&&t.constructor===d}function At(t){return"string"==typeof t}function Pt(t){return"boolean"==typeof t}function xt(t){return Boolean(t)&&"function"==typeof t.then}function Lt(t){return"number"==typeof t}var Bt=function(){},Ft=function(t){return t},Mt=!(St.Pn&&!St.xn),Ut=t.console;function Vt(t){if(Ct(t))try{return JSON.stringify(t)}catch(t){}return t}function qt(t){return t.map(Vt).join(" ")}function Ht(t){var n=Ut&&Ut[t];return n?n.bind&&Mt?n.bind(Ut):function(){for(var n=arguments.length,i=new Array(n),e=0;e<n;e++)i[e]=arguments[e];Ut[t](qt(i))}:void 0}var zt,Wt=Ht("log")||Bt,jt=Ht("warn")||Wt.bind(void 0,"WARNING:"),$t=Ht("error")||Wt.bind(void 0,"ERROR:"),Xt=(zt=Ut&&Ut.assert)?zt.bind&&Mt?zt.bind(Ut):function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];Ut.assert(t,qt(i))}:function(t){if(!t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];$t.apply(void 0,["Assertion failed:"].concat(i))}},Gt=Kt,Yt=null;try{Yt=new WebAssembly.Instance(new WebAssembly.Module(new y([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function Kt(t,n,i){this.low=0|t,this.high=0|n,this.unsigned=!!i}function Jt(t){return!0===(t&&t.Zn)}Kt.prototype.Zn,d.defineProperty(Kt.prototype,"Zn",{value:!0}),Kt.isLong=Jt;var Qt={},Zt={};function tn(t,n){var i,e,r;return n?(r=0<=(t>>>=0)&&t<256)&&(e=Zt[t])?e:(i=en(t,(0|t)<0?-1:0,!0),r&&(Zt[t]=i),i):(r=-128<=(t|=0)&&t<128)&&(e=Qt[t])?e:(i=en(t,t<0?-1:0,!1),r&&(Qt[t]=i),i)}function nn(t,n){if(g(t))return n?dn:fn;if(n){if(t<0)return dn;if(t>=cn)return yn}else{if(t<=-an)return mn;if(t+1>=an)return gn}return t<0?nn(-t,n).neg():en(t%on|0,t/on|0,n)}function en(t,n,i){return new Kt(t,n,i)}Kt.fromInt=tn,Kt.fromNumber=nn,Kt.fromBits=en;var rn=v.pow;function un(t,n,i){if(0===t.length)throw h("empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return fn;if("number"==typeof n?(i=n,n=!1):n=!!n,(i=i||10)<2||36<i)throw RangeError("radix");var e;if((e=t.indexOf("-"))>0)throw h("interior hyphen");if(0===e)return un(t.substring(1),n,i).neg();for(var r=nn(rn(i,8)),u=fn,s=0;s<t.length;s+=8){var o=v.min(8,t.length-s),c=l(t.substring(s,s+o),i);if(o<8){var a=nn(rn(i,o));u=u.mul(a).add(nn(c))}else u=(u=u.mul(r)).add(nn(c))}return u.unsigned=n,u}function sn(t,n){return"number"==typeof t?nn(t,n):"string"==typeof t?un(t,n):en(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}Kt.fromString=un,Kt.fromValue=sn;var on=4294967296,cn=on*on,an=cn/2,hn=tn(1<<24),fn=tn(0);Kt.ZERO=fn;var dn=tn(0,!0);Kt.UZERO=dn;var vn=tn(1);Kt.ONE=vn;var ln=tn(1,!0);Kt.UONE=ln;var wn=tn(-1);Kt.NEG_ONE=wn;var gn=en(-1,2147483647,!1);Kt.MAX_VALUE=gn;var yn=en(-1,-1,!0);Kt.MAX_UNSIGNED_VALUE=yn;var mn=en(0,-2147483648,!1);Kt.MIN_VALUE=mn;var pn=Kt.prototype;pn.toInt=function(){return this.unsigned?this.low>>>0:this.low},pn.toNumber=function(){return this.unsigned?(this.high>>>0)*on+(this.low>>>0):this.high*on+(this.low>>>0)},pn.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(mn)){var n=nn(t),i=this.div(n),e=i.mul(n).sub(this);return i.toString(t)+e.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var r=nn(rn(t,6),this.unsigned),u=this,s="";;){var o=u.div(r),c=(u.sub(o.mul(r)).toInt()>>>0).toString(t);if((u=o).isZero())return c+s;for(;c.length<6;)c="0"+c;s=""+c+s}},pn.getHighBits=function(){return this.high},pn.getHighBitsUnsigned=function(){return this.high>>>0},pn.getLowBits=function(){return this.low},pn.getLowBitsUnsigned=function(){return this.low>>>0},pn.getNumBitsAbs=function(){if(this.isNegative())return this.eq(mn)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,n=31;n>0&&0==(t&1<<n);n--);return 0!=this.high?n+33:n+1},pn.isZero=function(){return 0===this.high&&0===this.low},pn.eqz=pn.isZero,pn.isNegative=function(){return!this.unsigned&&this.high<0},pn.isPositive=function(){return this.unsigned||this.high>=0},pn.isOdd=function(){return 1==(1&this.low)},pn.isEven=function(){return 0==(1&this.low)},pn.equals=function(t){return Jt(t)||(t=sn(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},pn.eq=pn.equals,pn.notEquals=function(t){return!this.eq(t)},pn.neq=pn.notEquals,pn.ne=pn.notEquals,pn.lessThan=function(t){return this.comp(t)<0},pn.lt=pn.lessThan,pn.lessThanOrEqual=function(t){return this.comp(t)<=0},pn.lte=pn.lessThanOrEqual,pn.le=pn.lessThanOrEqual,pn.greaterThan=function(t){return this.comp(t)>0},pn.gt=pn.greaterThan,pn.greaterThanOrEqual=function(t){return this.comp(t)>=0},pn.gte=pn.greaterThanOrEqual,pn.ge=pn.greaterThanOrEqual,pn.compare=function(t){if(Jt(t)||(t=sn(t)),this.eq(t))return 0;var n=this.isNegative(),i=t.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},pn.comp=pn.compare,pn.negate=function(){return!this.unsigned&&this.eq(mn)?mn:this.not().add(vn)},pn.neg=pn.negate,pn.add=function(t){Jt(t)||(t=sn(t));var n=this.high>>>16,i=65535&this.high,e=this.low>>>16,r=65535&this.low,u=t.high>>>16,s=65535&t.high,o=t.low>>>16,c=0,a=0,h=0,f=0;return h+=(f+=r+(65535&t.low))>>>16,a+=(h+=e+o)>>>16,c+=(a+=i+s)>>>16,c+=n+u,en((h&=65535)<<16|(f&=65535),(c&=65535)<<16|(a&=65535),this.unsigned)},pn.subtract=function(t){return Jt(t)||(t=sn(t)),this.add(t.neg())},pn.sub=pn.subtract,pn.multiply=function(t){if(this.isZero())return fn;if(Jt(t)||(t=sn(t)),Yt)return en(Yt.mul(this.low,this.high,t.low,t.high),Yt.get_high(),this.unsigned);if(t.isZero())return fn;if(this.eq(mn))return t.isOdd()?mn:fn;if(t.eq(mn))return this.isOdd()?mn:fn;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(hn)&&t.lt(hn))return nn(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,e=this.low>>>16,r=65535&this.low,u=t.high>>>16,s=65535&t.high,o=t.low>>>16,c=65535&t.low,a=0,h=0,f=0,d=0;return f+=(d+=r*c)>>>16,h+=(f+=e*c)>>>16,f&=65535,h+=(f+=r*o)>>>16,a+=(h+=i*c)>>>16,h&=65535,a+=(h+=e*o)>>>16,h&=65535,a+=(h+=r*s)>>>16,a+=n*c+i*o+e*s+r*u,en((f&=65535)<<16|(d&=65535),(a&=65535)<<16|(h&=65535),this.unsigned)},pn.mul=pn.multiply,pn.divide=function(t){if(Jt(t)||(t=sn(t)),t.isZero())throw h("division by zero");var n,i,e;if(Yt)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?en((this.unsigned?Yt.div_u:Yt.div_s)(this.low,this.high,t.low,t.high),Yt.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?dn:fn;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return dn;if(t.gt(this.shru(1)))return ln;e=dn}else{if(this.eq(mn))return t.eq(vn)||t.eq(wn)?mn:t.eq(mn)?vn:(n=this.shr(1).div(t).shl(1)).eq(fn)?t.isNegative()?vn:wn:(i=this.sub(t.mul(n)),e=n.add(i.div(t)));if(t.eq(mn))return this.unsigned?dn:fn;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();e=fn}for(i=this;i.gte(t);){n=v.max(1,v.floor(i.toNumber()/t.toNumber()));for(var r=v.ceil(v.log(n)/v.LN2),u=r<=48?1:rn(2,r-48),s=nn(n),o=s.mul(t);o.isNegative()||o.gt(i);)o=(s=nn(n-=u,this.unsigned)).mul(t);s.isZero()&&(s=vn),e=e.add(s),i=i.sub(o)}return e},pn.div=pn.divide,pn.modulo=function(t){return Jt(t)||(t=sn(t)),Yt?en((this.unsigned?Yt.rem_u:Yt.rem_s)(this.low,this.high,t.low,t.high),Yt.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},pn.mod=pn.modulo,pn.rem=pn.modulo,pn.not=function(){return en(~this.low,~this.high,this.unsigned)},pn.and=function(t){return Jt(t)||(t=sn(t)),en(this.low&t.low,this.high&t.high,this.unsigned)},pn.or=function(t){return Jt(t)||(t=sn(t)),en(this.low|t.low,this.high|t.high,this.unsigned)},pn.xor=function(t){return Jt(t)||(t=sn(t)),en(this.low^t.low,this.high^t.high,this.unsigned)},pn.shiftLeft=function(t){return Jt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?en(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):en(0,this.low<<t-32,this.unsigned)},pn.shl=pn.shiftLeft,pn.shiftRight=function(t){return Jt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?en(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):en(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},pn.shr=pn.shiftRight,pn.shiftRightUnsigned=function(t){if(Jt(t)&&(t=t.toInt()),0===(t&=63))return this;var n=this.high;return t<32?en(this.low>>>t|n<<32-t,n>>>t,this.unsigned):en(32===t?n:n>>>t-32,0,this.unsigned)},pn.shru=pn.shiftRightUnsigned,pn.shr_u=pn.shiftRightUnsigned,pn.toSigned=function(){return this.unsigned?en(this.low,this.high,!1):this},pn.toUnsigned=function(){return this.unsigned?this:en(this.low,this.high,!0)},pn.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},pn.toBytesLE=function(){var t=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},pn.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]},Kt.fromBytes=function(t,n,i){return i?Kt.fromBytesLE(t,n):Kt.fromBytesBE(t,n)},Kt.fromBytesLE=function(t,n){return new Kt(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},Kt.fromBytesBE=function(t,n){return new Kt(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};var bn=Gt,_n=v.pow(2,-52);function kn(t,n,i){return v.min(v.max(t,n),i)}function Tn(t,n,i){return t===n||v.abs(t-n)<=i}function Sn(t,n){for(var i=t,e=n;0!==e;){var r=i%e;i=e,e=r}return i<0?-i:i}function En(){return Date.now()||(new Date).getTime()}function In(t){return t/1e3}var Rn;bn.fromNumber(9007199254740991);function Dn(t){return t.ti===Rn.ni}function Nn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}!function(t){t[t.ni=1]="ni",t[t.ii=2]="ii",t[t.ei=3]="ei",t[t.ri=4]="ri",t[t.ui=9]="ui"}(Rn||(Rn={}));var Cn=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];h.apply(this,n)};(Cn.prototype=d.create(h.prototype)).constructor=Cn;var On=function(t){function n(n,i){var e;return(e=t.call(this)||this).cause=void 0,e.message=n||"Unknown error",e.cause=i,h.captureStackTrace&&h.captureStackTrace(Nn(e),e.constructor),e}return dt(n,t),ht(n,[{key:"name",get:function(){return"BaseError"}}]),n}(Cn),An=function(t){function n(n){return t.call(this,"Invalid XML",n)||this}return dt(n,t),n}(On),Pn=function(){function t(){}return t.prototype.si=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new An(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new An;return new Vn(n)},t}(),xn=function(){function t(t){this.oi=void 0,this.oi=t}var n=t.prototype;return n.ci=function(t){return this.oi.isEqualNode(t.oi)},n.ai=function(n){return new t(this.oi.cloneNode(n))},ht(t,[{key:"ti",get:function(){return Rn.ii}},{key:"hi",get:function(){var t;return null!=(t=this.oi.localName)?t:zn(this.oi.nodeName)}},{key:"fi",get:function(){return this.oi.nodeName}},{key:"di",get:function(){var t;return null!=(t=this.oi.namespaceURI)?t:void 0}},{key:"vi",get:function(){var t;return null!=(t=this.oi.prefix)?t:void 0}},{key:"li",get:function(){return this.oi.nodeValue}}]),t}(),Ln=function(){function t(t){this.wi=void 0,this.gi=void 0,this.wi=t}var n=t.prototype;return n.yi=function(t){return this.mi.filter(function(n){return qn(n)&&n.pi===t})},n.bi=function(t,n){return this.mi.filter(function(i){return qn(i)&&i.hi===n&&i.di===t})},n._i=function(t){this.wi.appendChild(t.ki),this.gi&&this.gi.push(t)},n.ci=function(t){return this.wi.isEqualNode(t.ki)},ht(t,[{key:"mi",get:function(){return void 0===this.gi&&(this.gi=function(t){for(var n=[],i=0;i<t.length;i++){var e=Hn(t.item(i));e&&n.push(e)}return n}(this.wi.childNodes)),this.gi}},{key:"Ti",get:function(){return this.mi.filter(qn)}},{key:"ki",get:function(){return this.wi}}]),t}(),Bn=function(t){function n(n){return t.call(this,n)||this}dt(n,t);var i=n.prototype;return i.Si=function(t){if(this.wi.hasAttribute(t))return this.wi.getAttribute(t)},i.Ei=function(t,n){if(this.wi.hasAttributeNS(t,n))return this.wi.getAttributeNS(t,n)},i.Ii=function(t){this.wi.removeAttribute(t)},i.Ri=function(t,n){this.wi.removeAttributeNS(t,n)},i.Di=function(t,n){this.wi.setAttribute(t,n)},i.Ni=function(t,n,i){this.wi.setAttributeNS(t,n,i)},i.ai=function(t){return new n(this.wi.cloneNode(t))},ht(n,[{key:"ti",get:function(){return Rn.ni}},{key:"hi",get:function(){var t;return null!=(t=this.wi.localName)?t:zn(this.wi.nodeName)}},{key:"di",get:function(){var t;return null!=(t=this.wi.namespaceURI)?t:void 0}},{key:"vi",get:function(){var t;return null!=(t=this.wi.prefix)?t:void 0}},{key:"pi",get:function(){return this.wi.nodeName}},{key:"Ci",get:function(){return function(t){for(var n=[],i=0;i<t.length;i++)n.push(new xn(t.item(i)));return n}(this.wi.attributes)}},{key:"Oi",get:function(){return this.wi.textContent}}]),n}(Ln),Fn=function(){function t(t){this.wi=void 0,this.wi=t}return t.prototype.ci=function(t){return this.Ai===t.Ai},ht(t,[{key:"Ai",get:function(){return this.wi.nodeValue}},{key:"ki",get:function(){return this.wi}}]),t}(),Mn=function(t){function n(n){return t.call(this,n)||this}return dt(n,t),n.prototype.ai=function(t){return new n(this.wi.cloneNode(t))},ht(n,[{key:"ti",get:function(){return Rn.ei}}]),n}(Fn),Un=function(t){function n(n){return t.call(this,n)||this}return dt(n,t),n.prototype.ai=function(t){return new n(this.wi.cloneNode(t))},ht(n,[{key:"ti",get:function(){return Rn.ri}}]),n}(Fn),Vn=function(t){function n(n){return t.call(this,n)||this}return dt(n,t),n.prototype.ai=function(t){return new n(this.wi.cloneNode(t))},ht(n,[{key:"ti",get:function(){return Rn.ui}},{key:"Pi",get:function(){return new Bn(this.wi.documentElement)}}]),n}(Ln);function qn(t){return Dn(t)}function Hn(t){switch(t.nodeType){case Rn.ni:return new Bn(t);case Rn.ei:return new Mn(t);case Rn.ri:return new Un(t)}}function zn(t){var n=t.indexOf(":");return n<0?t:t.substr(n+1)}function Wn(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),d.defineProperty(t,e.key,e)}}function jn(t,n){var i=function(t,n){var i=t.length;if(i<=1)return t;for(var e=new Array(i),r=1;r<i;r*=2){$n(t,n,r,e);var u=t;t=e,e=u}return t}(t,n);return i!==t&&$n(i,null,t.length,t),t}function $n(t,n,i,e){var r,u,s,o,c,a=t.length,h=0,f=2*i;for(r=0;r<a;r+=f)for(s=(u=r+i)+i,u>a&&(u=a),s>a&&(s=a),o=r,c=u;;)if(o<u&&c<s)n(t[o],t[c])<=0?e[h++]=t[o++]:e[h++]=t[c++];else if(o<u)e[h++]=t[o++];else{if(!(c<s))break;e[h++]=t[c++]}}var Xn=/[a-zA-Z]/,Gn=/[0-9]/,Yn=/[0-9a-fA-F]/,Kn=/^0x/i,Jn=/^[0-9]+$/,Qn=/^[0-9a-fA-F]+$/,Zn=/^[0-7]+$/,ti=d.prototype.toString,ni=Array.isArray||function(t){return"[object Array]"===ti.call(t)},ii="undefined"!=typeof Symbol&&"symbol"==typeof Symbol.iterator;function ei(t){return ni(t)?t:Array.from(t)}function ri(t){return t>=65&&t<=90}function ui(t){return ri(t)||function(t){return t>=97&&t<=122}(t)}function si(t){return t>=48&&t<=57}function oi(t){return si(t)||ui(t)}function ci(t){return si(t)||t>=65&&t<=70||t>=97&&t<=102}function ai(t){return ri(t)?t+32:t}function hi(t){return si(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function fi(t,n){return void 0===n&&(n=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(n?87:55):-1}var di=v.min,vi=String.fromCharCode,li=16384;function wi(t){for(var n=t.length,i=[],e=0;e<n;e+=li){var r=di(e+li,n);i.push(vi.apply(null,t.slice(e,r)))}return i.join("")}var gi=/[^\0-\x7E]/,yi=/[\x2E\u3002\uFF0E\uFF61]/g,mi={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},pi=v.floor,bi=String.fromCharCode;function _i(t){throw new RangeError(mi[t])}function ki(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&r)<<10)+(1023&u)+65536):(n.push(r),i--)}else n.push(r)}return n}var Ti,Si,Ei,Ii=function(t,n){return t+22+75*(t<26)-((0!=n)<<5)},Ri=function(t,n,i){var e=0;for(t=i?pi(t/700):t>>1,t+=pi(t/n);t>455;e+=36)t=pi(t/35);return pi(e+36*t/(t+38))},Di=function(t){return function(t,n){var i=t.split("@"),e="";i.length>1&&(e=i[0]+"@",t=i[1]);var r=function(t,n){for(var i=[],e=t.length;e--;)i[e]=n(t[e]);return i}((t=t.replace(yi,".")).split("."),n).join(".");return e+r}(t,function(t){return gi.test(t)?"xn--"+function(t){for(var n=[],i=(t=ki(t)).length,e=128,r=0,u=72,s=0,o=t;s<o.length;s++){var c=o[s];c<128&&n.push(bi(c))}var a=n.length,h=a;for(a&&n.push("-");h<i;){for(var f=2147483647,d=0,v=t;d<v.length;d++){var l=v[d];l>=e&&l<f&&(f=l)}var w=h+1;f-e>pi((2147483647-r)/w)&&_i("overflow"),r+=(f-e)*w,e=f;for(var g=0,y=t;g<y.length;g++){var m=y[g];if(m<e&&++r>2147483647&&_i("overflow"),m==e){for(var p=r,b=36;;b+=36){var _=b<=u?1:b>=u+26?26:b-u;if(p<_)break;var k=p-_,T=36-_;n.push(bi(Ii(_+k%T,0))),p=pi(k/T)}n.push(bi(Ii(p,0))),u=Ri(r,w,h==a),r=0,++h}}++r,++e}return n.join("")}(t):t})};function Ni(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return wi(n)}function Ci(t){if(t>=55296&&t<=57343)throw new h("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function Oi(t,n){return t>>n&63|128}function Ai(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Ci(t),n.push(t>>12&15|224),n.push(Oi(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(Oi(t,12)),n.push(Oi(t,6))),n.push(63&t|128)):n.push(t)}function Pi(t){for(var n=[],i=0;i<t.length;i++){Ai(t[i],n)}return n}function xi(){if(Ei>=Si)throw new h("Invalid byte index");var t=255&Ti[Ei];if(Ei++,128==(192&t))return 63&t;throw new h("Invalid continuation byte")}function Li(){var t,n;if(Ei>Si)throw new h("Invalid byte index");if(Ei===Si)return!1;if(t=255&Ti[Ei],Ei++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|xi())>=128)return n;throw new h("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|xi()<<6|xi())>=2048)return Ci(n),n;throw new h("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|xi()<<12|xi()<<6|xi())>=65536&&n<=1114111)return n;throw new h("Invalid UTF-8 detected")}function Bi(t){return[37,fi(t>>4),fi(15&t)]}function Fi(t){return function(t){return t>=0&&t<=31}(t)||t>126}function Mi(t){return Fi(t)||32===t||34===t||60===t||62===t||96===t}function Ui(t){return Mi(t)||35===t||63===t||123===t||125===t}function Vi(t){return Ui(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function qi(t){return t<33||t>126||34===t||35===t||60===t||62===t}function Hi(t){return qi(t)||39===t}function zi(t,n){if(!n(t))return[t];for(var i=Pi([t]),e=[],r=0;r<i.length;r++){var u=i[r];e.push.apply(e,Bi(u))}return e}function Wi(t,n){for(var i=[],e=0,r=ki(t);e<r.length;e++){var u=r[e];i.push.apply(i,zi(u,n))}return Ni(i)}function ji(t){return function(t){for(var n=[],i=t.length,e=0;e<i;e++){var r=t[e];if(37===r&&e+2<i&&ci(t[e+1])&&ci(t[e+2])){var u=hi(t[e+1])<<4|hi(t[e+2]);n.push(u),e+=2}else n.push(r)}return n}(Pi(t))}function $i(t){return Ni(function(t){Ti=t.slice(),Si=Ti.length,Ei=0;for(var n,i=[];!1!==(n=Li());)i.push(n);return i}(ji(ki(t))))}function Xi(t){var n,i,e,r,u=t.length,s=[0,0,0,0,0,0,0,0],o=0,c=null,a=0;if(a<u&&":"===t[a]){if(!(a+1<u&&":"===t[a+1]))throw new f;a+=2,c=o+=1}for(;a<u;){if(8===o)throw new f("Too many groups");if(":"!==t[a]){for(var h=0,d=0;d<4&&a<u&&Yn.test(t[a]);)h=h<<4|l(t[a],16),a+=1,d+=1;if("."===t[a]){if(0===d)throw new f;if(a-=d,o>6)throw new f;for(var v=0;a<u;){var w=null;if(v>0){if(!("."===t[a]&&v<4))throw new f;a+=1}if(!Gn.test(t[a]))throw new f;for(;a<u&&Gn.test(t[a]);){var g=l(t[a],10);if(null===w)w=g;else{if(0===w)throw new f;if((w=10*w+g)>255)throw new f}a+=1}s[o]=s[o]<<8|w,2!==(v+=1)&&4!==v||(o+=1)}if(4!==v)throw new f;break}if(":"===t[a]){if((a+=1)===u)throw new f}else if(a<u)throw new f;s[o]=h,o+=1}else{if(null!==c)throw new f("Too many :: groups");a+=1,c=o+=1}}if(null!==c){var y=o-c;for(o=7;0!==o&&y>0;)e=c+y-1,r=void 0,r=(n=s)[i=o],n[i]=n[e],n[e]=r,o-=1,y-=1}else if(8!==o)throw new f;return s}function Gi(t){var n=10,i=Jn;return Kn.test(t)?(t=t.slice(2),n=16,i=Qn):t.length>=2&&"0"===t[0]&&(t=t.slice(1),n=8,i=Zn),""===t?0:i.test(t)?l(t,n):void 0}var Yi={xi:4},Ki=/[\0\t\n\r #%/:?@\[\\\]]/,Ji=/[\0\t\n\r #/:?@\[\\\]]/;function Qi(t,n){if("["===t[0]){if("]"!==t[t.length-1])throw new f("Invalid IPv6 address");return{xi:2,Li:Xi(t.slice(1,-1))}}if(!n)return function(t){if(Ji.test(t))throw new f("Invalid code point in opaque host");var n=Wi(t,Fi);return""===n?Yi:{xi:3,P:n}}(t);var i=function(t){return function(t){return Di(t.toLowerCase())}(t)}($i(t));if(Ki.test(i))throw new f("Invalid code point in host");var e=function(t){var n=t.split(".");if(""===n[n.length-1]&&n.pop(),!(n.length>4)){for(var i=[],e=0;e<n.length;e++){var r=n[e];if(""===r)return;var u=Gi(r);if(void 0===u)return;i.push(u)}for(var s=0;s<i.length-1;s++)if(i[s]>255)throw new f;if(i[i.length-1]>=v.pow(256,5-i.length))throw new f;for(var o=i.pop(),c=0;c<i.length;c++)o+=i[c]*v.pow(256,3-c);return o}}(i);return void 0!==e?{xi:1,Li:e}:""===i?Yi:{xi:0,Bi:i}}function Zi(t){switch(t.xi){case 0:return t.Bi;case 1:return function(t){for(var n=[],i=t,e=1;e<=4;e++)n.push(""+(255&i)),4!==e&&n.push("."),i>>>=8;return n.reverse().join("")}(t.Li);case 2:return"["+function(t){for(var n="",i=function(t){for(var n=0,i=0,e=0,r=0,u=0;u<8;u++)0===t[u]?(0===r&&(e=u),r++):(r>i&&(n=e,i=r),r=0);return r>i&&(n=e,i=r),i>1?n:null}(t),e=!1,r=0;r<8;r++){if(e){if(0===t[r])continue;e=!1}i!==r?(n+=t[r].toString(16),7!==r&&(n+=":")):(n+=0===r?"::":":",e=!0)}return n}(t.Li)+"]";case 3:return t.P;case 4:return""}}var te=/\+/g;function ne(t){for(var n=t.split("&"),i=[],e=0;e<n.length;e++){var r=n[e];if(""!==r){var u=r.indexOf("="),s=void 0,o=void 0;-1!==u?(s=r.slice(0,u),o=r.slice(u+1)):(s=r,o=""),s=s.replace(te," "),o=o.replace(te," ");var c=$i(s),a=$i(o);i.push([c,a])}}return i}function ie(t){for(var n="",i=0;i<t.length;i++){var e=t[i];i>0&&(n+="&"),n+=ee(Pi(ki(e[0])))+"="+ee(Pi(ki(e[1])))}return n}function ee(t){for(var n,i=[],e=0;e<t.length;e++){var r=t[e];32===r?i.push(43):42===(n=r)||45===n||46===n||95===n||oi(n)?i.push(r):i.push.apply(i,Bi(r))}return wi(i)}var re=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function ue(t){var n=""+t,i=re.exec(n);return i?function(t,n){for(var i=t.length,e=[],r=n;r<i;r++){var u=t.charCodeAt(r);if(oe(u))if(ce(u)||r===i-1)e.push(se);else{var s=t.charCodeAt(r+1);ce(s)?(e.push(u,s),r++):e.push(se)}else e.push(u)}return t.slice(0,n)+wi(e)}(n,i.index):n}var se=65533,oe=function(t){return 55296==(63488&t)},ce=function(t){return 0!=(1024&t)};function ae(t,n){var i=t[0],e=n[0];return i===e?0:i<e?-1:1}function he(t){t.Fi.length=0}function fe(t,n){!function(t,n){for(var i=0;i<n.length;i++)t[i]=n[i];t.length=n.length}(t.Fi,ne(n))}function de(t){if(t.Mi){var n=ie(t.Fi);""===n&&(n=null),t.Mi.Mi.Ui=n}}var ve=function(){function t(t){if(void 0===t&&(t=void 0),this.Mi=null,null==t)this.Fi=[];else if("object"==typeof t||"function"==typeof t)if((u=t)instanceof ve&&ni(u.Fi)&&(!ii||u[Symbol.iterator]===le))this.Fi=t.Fi.slice();else if(function(t){return null!=t&&(!!ni(t)||!!ii&&"function"==typeof t[Symbol.iterator])}(t)){this.Fi=[];for(var n=0,i=ei(t);n<i.length;n++){var e=ei(i[n]);if(2!==e.length)throw new f("Invalid name-value pair");this.Fi.push([ue(e[0]),ue(e[1])])}}else for(var r in this.Fi=[],t)d.prototype.hasOwnProperty.call(t,r)&&this.Fi.push([ue(r),ue(t[r])]);else(t=ue(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this.Fi=ne(t);var u}var n=t.prototype;return n.append=function(t,n){t=ue(t),n=ue(n),this.Fi.push([t,n]),de(this)},n.delete=function(t){t=ue(t);for(var n=this.Fi,i=0;i<n.length;){n[i][0]===t?n.splice(i,1):i++}de(this)},n.get=function(t){t=ue(t);for(var n=this.Fi,i=0;i<n.length;i++){var e=n[i];if(e[0]===t)return e[1]}return null},n.getAll=function(t){t=ue(t);for(var n=this.Fi,i=[],e=0;e<n.length;e++){var r=n[e];r[0]===t&&i.push(r[1])}return i},n.has=function(t){t=ue(t);for(var n=this.Fi,i=0;i<n.length;i++){if(n[i][0]===t)return!0}return!1},n.set=function(t,n){t=ue(t),n=ue(n);for(var i=this.Fi,e=!1,r=0;r<i.length;){var u=i[r];u[0]===t?e?i.splice(r,1):(u[1]=n,e=!0,r++):r++}e||i.push([t,n]),de(this)},n.sort=function(){jn(this.Fi,ae),de(this)},n.toString=function(){return ie(this.Fi)},n.entries=function(){return new me(this.Fi,we)},n.keys=function(){return new me(this.Fi,ge)},n.values=function(){return new me(this.Fi,ye)},n.forEach=function(t){var n=this;this.Fi.forEach(function(i){return t(i[1],i[0],n)})},t}(),le=ve.prototype.entries;ii&&(ve.prototype[Symbol.iterator]=le);var we=function(t){return[t[0],t[1]]},ge=function(t){return t[0]},ye=function(t){return t[1]},me=function(){function t(t,n){this.Vi=0,this.Fi=t,this.qi=n}return t.prototype.next=function(){return this.Vi<this.Fi.length?{done:!1,value:this.qi(this.Fi[this.Vi++])}:{done:!0,value:void 0}},t}(),pe="null";var be=d.create(null);be.ftp=21,be.file=0,be.gopher=70,be.http=80,be.https=443,be.ws=80,be.wss=443;var _e=/^(?:\.|%2e)$/i,ke=/^(?:\.|%2e){2}$/i;function Te(t){return _e.test(t)}function Se(t){return ke.test(t)}function Ee(t){return void 0!==be[t]}function Ie(t){return Ee(t.Hi)}function Re(t){return""!==t.zi||""!==t.Wi}function De(t){var n=t.length;if(!(n>=2))return!1;if(!Ce(t.slice(0,2)))return!1;if(2!==n){var i=t[2];if(47!==i&&92!==i&&63!==i&&35!==i)return!1}return!0}function Ne(t){return 2===t.length&&Xn.test(t[0])&&(":"===t[1]||"|"===t[1])}function Ce(t){return 2===t.length&&Ne(wi(t))}function Oe(t){return Ne(t)&&":"===t[1]}function Ae(t){var n=t.ji;0!==n.length&&("file"===t.Hi&&1===n.length&&Oe(n[0])||n.pop())}function Pe(t){return null===t.$i||Yi===t.$i||t.Xi||"file"===t.Hi}var xe=-1,Le=/\t|\n|\r/g,Be=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function Fe(t,n,i,e){void 0===i&&(i=null),void 0===e&&(e=null),i||(i=new Ue,t=t.replace(Be,""));var r=null!==e?e:0;n=n||null;for(var u=[],s=!1,o=!1,c=!1,a=ki(t=t.replace(Le,"")),h=a.length,d=0;d<=h;){var v=d<h?a[d]:xe;switch(r){case 0:if(!ui(v)){if(null===e){u.length=0,r=2;continue}throw new f("Invalid scheme")}u.push(ai(v)),r=1;break;case 1:if(oi(v)||43===v||45===v||46===v)u.push(ai(v));else{if(58!==v){if(null===e){u.length=0,r=2,d=0;continue}throw new f("Invalid scheme")}var w=Ni(u);if(null!==e){if(Ee(i.Hi)&&!Ee(w))return;if(!Ee(i.Hi)&&Ee(w))return;if((Re(i)||null!==i.Gi)&&"file"===w)return;if("file"===i.Hi&&(i.$i===Yi||null===i.$i))return}if(i.Hi=w,null!==e)return void(Ie(i)&&i.Gi===be[i.Hi]&&(i.Gi=null));u.length=0,"file"===i.Hi?r=13:Ie(i)&&n&&n.Hi===i.Hi?r=3:Ie(i)?r=7:47===a[d+1]?(r=4,d+=1):(i.Xi=!0,i.ji.push(""),r=18)}break;case 2:if(!n||n.Xi&&35!==v)throw new f("Invalid scheme");n.Xi&&35===v?(i.Hi=n.Hi,i.ji=n.ji.slice(),i.Ui=n.Ui,i.Yi="",i.Xi=!0,r=20):"file"!==n.Hi?(r=5,d-=1):(r=13,d-=1);break;case 3:47===v&&47===a[d+1]?r=8:(r=5,d-=1);break;case 4:47===v?r=9:(r=17,d-=1);break;case 5:i.Hi=n.Hi,xe===v?(i.zi=n.zi,i.Wi=n.Wi,i.$i=n.$i,i.Gi=n.Gi,i.ji=n.ji.slice(),i.Ui=n.Ui):47===v?r=6:63===v?(i.zi=n.zi,i.Wi=n.Wi,i.$i=n.$i,i.Gi=n.Gi,i.ji=n.ji.slice(),i.Ui="",r=19):35===v?(i.zi=n.zi,i.Wi=n.Wi,i.$i=n.$i,i.Gi=n.Gi,i.ji=n.ji.slice(),i.Ui=n.Ui,i.Yi="",r=20):92===v&&Ie(i)?r=6:(i.zi=n.zi,i.Wi=n.Wi,i.$i=n.$i,i.Gi=n.Gi,i.ji=n.ji.slice(),i.ji.pop(),r=17,d-=1);break;case 6:!Ie(i)||47!==v&&92!==v?47===v?r=9:(i.zi=n.zi,i.Wi=n.Wi,i.$i=n.$i,i.Gi=n.Gi,r=17,d-=1):r=8;break;case 7:if(47!==v||47!==a[d+1]){r=8;continue}r=8,d+=1;break;case 8:47!==v&&92!==v&&(r=9,d-=1);break;case 9:if(64===v){s&&u.unshift(37,52,48),s=!0;for(var g=0;g<u.length;g++){var y=u[g];if(58!==y||c){var m=Ni(zi(y,Vi));c?i.Wi+=m:i.zi+=m}else c=!0}u.length=0}else if(xe===v||47===v||63===v||35===v||Ie(i)&&92===v){if(s&&0===u.length)throw new f("Invalid host");d-=u.length+1,u.length=0,r=10}else u.push(v);break;case 10:case 11:if(null!==e&&"file"===i.Hi)d-=1,r=15;else if(58!==v||o)if(xe===v||47===v||63===v||35===v||Ie(i)&&92===v){if(d-=1,Ie(i)&&0===u.length)throw new f("Invalid host");if(null!==e&&0===u.length&&(Re(i)||null!==i.Gi))return;var p=Qi(Ni(u),Ie(i));if(i.$i=p,u.length=0,r=16,null!==e)return}else 91===v?o=!0:93===v&&(o=!1),u.push(v);else{if(0===u.length)throw new f("Invalid host");var b=Qi(Ni(u),Ie(i));if(i.$i=b,u.length=0,r=12,11===e)return}break;case 12:if(si(v))u.push(v);else{if(!(xe===v||47===v||63===v||35===v||Ie(i)&&92===v||null!==e))throw new f("Invalid port");if(0!==u.length){var _=l(Ni(u),10);if(_>65535)throw new f("Invalid port");i.Gi=_===be[i.Hi]?null:_,u.length=0}if(null!==e)return;r=16,d-=1}break;case 13:i.Hi="file",47===v||92===v?r=14:n&&"file"===n.Hi?xe===v?(i.$i=n.$i,i.ji=n.ji.slice(),i.Ui=n.Ui):63===v?(i.$i=n.$i,i.ji=n.ji.slice(),i.Ui="",r=19):35===v?(i.$i=n.$i,i.ji=n.ji.slice(),i.Ui=n.Ui,i.Yi="",r=20):(De(a.slice(d))||(i.$i=n.$i,i.ji=n.ji.slice(),Ae(i)),r=17,d-=1):(r=17,d-=1);break;case 14:47===v||92===v?r=15:(n&&"file"===n.Hi&&!De(a.slice(d))&&(Oe(n.ji[0])?i.ji.push(n.ji[0]):i.$i=n.$i),r=17,d-=1);break;case 15:if(xe===v||47===v||92===v||63===v||35===v)if(d-=1,null===e&&Ce(u))r=17;else if(0===u.length){if(i.$i=Yi,null!==e)return;r=16}else{var k=Qi(Ni(u),Ie(i));if(0===k.xi&&"localhost"===k.Bi&&(k=Yi),i.$i=k,null!==e)return;u.length=0,r=16}else u.push(v);break;case 16:Ie(i)?(r=17,47!==v&&92!==v&&(d-=1)):null===e&&63===v?(i.Ui="",r=19):null===e&&35===v?(i.Yi="",r=20):xe!==v&&(r=17,47!==v&&(d-=1));break;case 17:if(xe===v||47===v||Ie(i)&&92===v||null===e&&(63===v||35===v)){var T=Ni(u);if(Se(T)?(Ae(i),47===v||Ie(i)&&92===v||i.ji.push("")):!Te(T)||47===v||Ie(i)&&92===v?Te(T)||("file"===i.Hi&&0===i.ji.length&&Ce(u)&&(Yi!==i.$i&&null!==i.$i&&(i.$i=Yi),u[1]=58,T=Ni(u)),i.ji.push(T)):i.ji.push(""),u.length=0,"file"===i.Hi&&(xe===v||63===v||35===v))for(;i.ji.length>1&&""===i.ji[0];)i.ji.shift();63===v?(i.Ui="",r=19):35===v&&(i.Yi="",r=20)}else u.push.apply(u,zi(v,Ui));break;case 18:63===v?(i.Ui="",r=19):35===v?(i.Yi="",r=20):xe!==v&&(i.ji[0]+=Ni(zi(v,Fi)));break;case 19:null===e&&35===v?(i.Yi="",r=20):xe!==v&&(i.Ui+=Ni(zi(v,Ie(i)?Hi:qi)));break;case 20:xe===v||0===v||(i.Yi+=Ni(zi(v,Mi)))}d++}return i}function Me(t,n,i,e){try{Fe(t,n,i,e)}catch(t){}}var Ue=function(){this.Hi="",this.zi="",this.Wi="",this.$i=null,this.Gi=null,this.ji=[],this.Ui=null,this.Yi=null,this.Xi=!1};function Ve(t){switch(t.Hi){case"blob":var n;try{n=Fe(t.ji[0],null)}catch(t){return pe}return Ve(n);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return i=t.Hi,e=t.$i,r=t.Gi,i+"://"+Zi(e)+(null===r?"":":"+r);case"file":default:return pe}var i,e,r}var qe,He=function(){function t(t,n){var i,e,r=null;if(null!=n)if(null!=(i=n)&&i instanceof He&&"object"==typeof i.Mi)r=n.Mi;else try{r=Fe(String(n),null)}catch(t){throw new f("Invalid base URL: "+t.message)}try{e=Fe(String(t),r)}catch(t){throw new f("Invalid URL: "+t.message)}var u=e.Ui;this.Mi=e,this.Ui=function(t){var n=new ve;return null!==t&&fe(n,t),n}(u),this.Ui.Mi=this}var n,i,e,r=t.prototype;return r.toString=function(){return this.href},r.toJSON=function(){return this.href},n=t,(i=[{key:"href",get:function(){return function(t,n){void 0===n&&(n=!1);var i=t.Hi+":";if(null!==t.$i?(i+="//",Re(t)&&(i+=t.zi,""!==t.Wi&&(i+=":"+t.Wi),i+="@"),i+=Zi(t.$i),null!==t.Gi&&(i+=":"+t.Gi)):null===t.$i&&"file"===t.Hi&&(i+="//"),t.Xi)i+=t.ji[0];else for(var e=0,r=t.ji;e<r.length;e++)i+="/"+r[e];return null!==t.Ui&&(i+="?"+t.Ui),n||null===t.Yi||(i+="#"+t.Yi),i}(this.Mi)},set:function(t){var n;try{n=Fe(String(t),null)}catch(t){throw new f("Invalid URL: "+t.message)}this.Mi=n,he(this.Ui);var i=this.Mi.Ui;null!==i&&fe(this.Ui,i)}},{key:"origin",get:function(){return Ve(this.Mi)}},{key:"protocol",get:function(){return this.Mi.Hi+":"},set:function(t){Me(t+":",null,this.Mi,0)}},{key:"username",get:function(){return this.Mi.zi},set:function(t){Pe(this.Mi)||(this.Mi.zi=Wi(t,Vi))}},{key:"password",get:function(){return this.Mi.Wi},set:function(t){Pe(this.Mi)||(this.Mi.Wi=Wi(t,Vi))}},{key:"host",get:function(){var t=this.Mi,n=t.$i;if(null===n)return"";var i=t.Gi,e=Zi(n);return null!==i&&(e+=":"+i),e},set:function(t){this.Mi.Xi||Me(t,null,this.Mi,10)}},{key:"hostname",get:function(){var t=this.Mi.$i;return null===t?"":Zi(t)},set:function(t){this.Mi.Xi||Me(t,null,this.Mi,11)}},{key:"port",get:function(){var t=this.Mi.Gi;return null===t?"":""+t},set:function(t){Pe(this.Mi)||(""===t?this.Mi.Gi=null:Me(t,null,this.Mi,12))}},{key:"pathname",get:function(){var t=this.Mi.ji;return this.Mi.Xi?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.Mi.Xi||(this.Mi.ji.length=0,Me(t,null,this.Mi,16))}},{key:"search",get:function(){var t=this.Mi.Ui;return null===t||""===t?"":"?"+t},set:function(t){t=ue(t);var n=this.Mi;if(""===t)return n.Ui=null,void he(this.Ui);"?"===t[0]&&(t=t.slice(1)),n.Ui="",Me(t,null,n,19),fe(this.Ui,t)}},{key:"searchParams",get:function(){return this.Ui}},{key:"hash",get:function(){var t=this.Mi.Yi;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.Mi.Yi="",Me(t,null,this.Mi,20)):this.Mi.Yi=null}}])&&Wn(n.prototype,i),e&&Wn(n,e),t}();function ze(t){return t.document&&t.document.baseURI||t.location.href||""}function We(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function je(t,n){var i=n.style;if(i)for(var e in t)i[e]=t[e]}function $e(){return void 0!==e?e.createElement("video"):void 0}function Xe(){return qe||(qe=$e()),qe}var Ge=!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)||!(!u||!u.msMaxTouchPoints),Ye=Xe(),Ke=!(!Ye||!Ye.webkitShowPlaybackTargetPicker),Je=function(){function t(){this.Ki=void 0,this.Ji=!1,this.an=Ge,this.Tn=!1,this.Qi=!0,this.Zi=!0}var n=t.prototype;return n.te=function(){return 0},n.ie=function(t,n){return!0},n.ee=function(t){return t>=1/6*2},ht(t,[{key:"re",get:function(){return void 0===this.Ki&&(this.Ki=this.te()),this.Ki}},{key:"ue",get:function(){return i.devicePixelRatio||1}},{key:"se",get:function(){return Ke}},{key:"oe",get:function(){return!1}},{key:"ce",get:function(){return!0}},{key:"ae",get:function(){return St.hn||St.bn}},{key:"he",get:function(){return!0}},{key:"fe",get:function(){return!0}},{key:"de",get:function(){}},{key:"ve",get:function(){return!0}}]),t}(),Qe=function(){var t=$e();if(!t)return!1;var n=t.muted;return t.muted=!n,t.muted!==n}();!function(){if(St.mn)return!1;var t=$e();if(!t)return!1;var n=t.volume;t.volume=n/2+.1,t.volume}();var Ze=function(t){function n(n){var i;return(i=t.call(this)||this).we=void 0,i.we=n,i.we&&(i.Ji=i.we.Ji,i.an=i.we.an,i.Qi=Qe&&i.we.Qi),i}dt(n,t);var i=n.prototype;return i.te=function(){return this.we?this.we.re:t.prototype.te.call(this)},i.ie=function(n,i){return this.we?this.we.ie(n,i):t.prototype.ie.call(this,n,i)},i.ee=function(n){return this.we?this.we.ee(n):t.prototype.ee.call(this,n)},ht(n,[{key:"de",get:function(){var t;return null==(t=this.we)?void 0:t.de}},{key:"ve",get:function(){var t,n;return null==(t=null==(n=this.we)?void 0:n.ve)||t}}]),n}(Je),tr=function(t){function n(n){var i;return(i=t.call(this,n)||this).Ji=!0,i.Tn=!0,i}return dt(n,t),n}(Ze),nr=function(t){function n(){return t.apply(this,arguments)||this}return dt(n,t),n.prototype.te=function(){return Z.MediaSource?t.prototype.te.call(this):1},n}(tr),ir=function(t){function n(){return t.apply(this,arguments)||this}return dt(n,t),n.prototype.ie=function(n,i){return t.prototype.ie.call(this,n,i)},ht(n,[{key:"oe",get:function(){return St.Cn<3}},{key:"ce",get:function(){return St.Cn>=3}}]),n}(Ze),er=function(t){function n(){return t.call(this)||this}return dt(n,t),n}(Je),rr=function(t){function n(){return t.apply(this,arguments)||this}return dt(n,t),n.prototype.ie=function(t,n){if(t&&t.ye&&n&&n.ye){var i=ur(t.ye,"mp4a.40.2")&&ur(n.ye,"mp4a.40.5"),e=ur(t.ye,"mp4a.40.5")&&ur(n.ye,"mp4a.40.2"),r=ur(t.ye,"mp4a.40.2")&&ur(n.ye,"mp4a.40.34"),u=ur(t.ye,"mp4a.40.34")&&ur(n.ye,"mp4a.40.2"),s=ur(t.ye,"mp4a.40.5")&&ur(n.ye,"mp4a.40.34"),o=ur(t.ye,"mp4a.40.34")&&ur(n.ye,"mp4a.40.5");return!(i||e||r||u||s||o)}return!0},ht(n,[{key:"de",get:function(){if(St.hn)return 4096}}]),n}(er);function ur(t,n){return t.indexOf(n)>-1}var sr=function(t){function n(){return t.apply(this,arguments)||this}return dt(n,t),n.prototype.ee=function(t){return t>=2},n}(er),or=function(t){function n(){var n;return(n=t.call(this)||this).Ji=St.Un>=11,n.Qi=St.Mn&&!(St.bn&&St.Un<10),n}return dt(n,t),n}(er),cr=function(t){function n(){return t.apply(this,arguments)||this}return dt(n,t),ht(n,[{key:"he",get:function(){return!1}}]),n}(Ze),ar=function(t){function n(){return t.apply(this,arguments)||this}return dt(n,t),ht(n,[{key:"ve",get:function(){return!St.fn||!!St.Rn&&92!==St.Dn}}]),n}(er),hr=function(){function n(){var n;this.me=void 0,this.pe=new Pn,this.be=new fr,this._e=(n=function(){if(St.Bn)return new rr;if(St.An||St.Pn)return new sr;if(St.Mn)return new or;if(St.En)return new ar;return new er}(),St.bn?new nr(n):St.Tn?new tr(n):St.Nn?new ir(n):St.On?new cr(n):new Ze(n)),this.ke=function(){if(t.URL)try{var n=new t.URL("b","http://a");return n.pathname="c d","http://a/c%20d"===n.href}catch(t){}return!1}(),t.performance&&t.performance.now?this.me=function(){return t.performance.now()}:this.me=En}var i=n.prototype;return i.Te=function(){Wt.apply(void 0,arguments)},i.Se=function(){jt.apply(void 0,arguments)},i.Ee=function(){$t.apply(void 0,arguments)},i.Ie=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];Xt.apply(void 0,[t].concat(i))},i.Re=function(t,n){return s(t,n)},i.De=function(t,n){return c(t,n)},i.Ne=function(t){o(t)},i.Ce=function(t){a(t)},i.si=function(t){return this.pe.si(t)},i.Oe=function(){return this.Ae.Oe()},i.Pe=function(){return this.Ae.Pe()},i.xe=function(){return this.Ae.xe()},i.Le=function(){return this.Ae.Le()},i.Be=function(){return this.Ae.Be()},i.Fe=function(t,n){return this.Ae.Fe(t,n)},i.Me=function(t){return this.Ae.Me(t)},i.Ue=function(t,n){var i;return void 0===n&&(n=ze(Z)),i="object"!=typeof n||n instanceof He?n:n.href,new He(t,i)},i.Ve=function(n,i){if(void 0===i&&(i=ze(Z)),this.ke){var e=At(i)?i:i.toString();return new t.URL(n,e).href}return this.Ue(n,i).href},ht(n,[{key:"qe",get:function(){return this.be}},{key:"He",get:function(){return this._e}},{key:"ze",get:function(){return{We:u&&u.userAgent.match(/Android /i)?"Android":"other",je:Boolean(u&&u.userAgent.match(/Android 8.0.0/i))}}},{key:"$e",get:function(){return t&&t.location&&"https:"===t.location.protocol}},{key:"Xe",get:function(){return"languages"in u?u.languages.slice():[u.language]}}]),n}(),fr=function(){function t(){}return ht(t,[{key:"Ge",get:function(){return u.oscpu}},{key:"He",get:function(){return u.platform}},{key:"Ye",get:function(){return u.vendor}},{key:"Ke",get:function(){return u.vendorSub}}]),t}();function dr(t,n,i){return t(i={path:n,exports:{},require:function(t,n){return function(){throw new h("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==n&&i.path)}},i.exports),i.exports}var vr=dr(function(t){!function(t){var n,i=d.prototype,e=i.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},u=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function c(t,n,i,e){var r=n&&n.prototype instanceof p?n:p,u=d.create(r.prototype),s=new O(e||[]);return u.Je=function(t,n,i){var e=v;return function(r,u){if(e===w)throw new h("Generator is already running");if(e===y){if("throw"===r)throw u;return P()}for(i.method=r,i.arg=u;;){var s=i.delegate;if(s){var o=D(s,i);if(o){if(o===m)continue;return o}}if("next"===i.method)i.sent=i.Qe=i.arg;else if("throw"===i.method){if(e===v)throw e=y,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);e=w;var c=a(t,n,i);if("normal"===c.type){if(e=i.done?y:l,c.arg===m)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(e=y,i.method="throw",i.arg=c.arg)}}}(t,i,s),u}function a(t,n,i){try{return{type:"normal",arg:t.call(n,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var v="suspendedStart",l="suspendedYield",w="executing",y="completed",m={};function p(){}function b(){}function _(){}var k={};k[u]=function(){return this};var T=d.getPrototypeOf,S=T&&T(T(A([])));S&&S!==i&&e.call(S,u)&&(k=S);var E=_.prototype=p.prototype=d.create(k);function I(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this.Je(n,t)}})}function R(t){var n;this.Je=function(i,r){function u(){return new j(function(n,u){!function n(i,r,u,s){var o=a(t[i],t,r);if("throw"!==o.type){var c=o.arg,h=c.value;return h&&"object"==typeof h&&e.call(h,"Ze")?j.resolve(h.Ze).then(function(t){n("next",t,u,s)},function(t){n("throw",t,u,s)}):j.resolve(h).then(function(t){c.value=t,u(c)},function(t){return n("throw",t,u,s)})}s(o.arg)}(i,r,n,u)})}return n=n?n.then(u,u):u()}}function D(t,i){var e=t.iterator[i.method];if(e===n){if(i.delegate=null,"throw"===i.method){if(t.iterator.return&&(i.method="return",i.arg=n,D(t,i),"throw"===i.method))return m;i.method="throw",i.arg=new f("The iterator does not provide a 'throw' method")}return m}var r=a(e,t.iterator,i.arg);if("throw"===r.type)return i.method="throw",i.arg=r.arg,i.delegate=null,m;var u=r.arg;return u?u.done?(i[t.resultName]=u.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=n),i.delegate=null,m):u:(i.method="throw",i.arg=new f("iterator result is not an object"),i.delegate=null,m)}function N(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function C(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(N,this),this.reset(!0)}function A(t){if(t){var i=t[u];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!g(t.length)){var r=-1,s=function i(){for(;++r<t.length;)if(e.call(t,r))return i.value=t[r],i.done=!1,i;return i.value=n,i.done=!0,i};return s.next=s}}return{next:P}}function P(){return{value:n,done:!0}}b.prototype=E.constructor=_,_.constructor=b,_[o]=b.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===b||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return d.setPrototypeOf?d.setPrototypeOf(t,_):(t.__proto__=_,o in t||(t[o]="GeneratorFunction")),t.prototype=d.create(E),t},t.awrap=function(t){return{Ze:t}},I(R.prototype),R.prototype[s]=function(){return this},t.AsyncIterator=R,t.async=function(n,i,e,r){var u=new R(c(n,i,e,r));return t.isGeneratorFunction(i)?u:u.next().then(function(t){return t.done?t.value:u.next()})},I(E),E[o]="Generator",E[u]=function(){return this},E.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var i in t)n.push(i);return n.reverse(),function i(){for(;n.length;){var e=n.pop();if(e in t)return i.value=e,i.done=!1,i}return i.done=!0,i}},t.values=A,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this.Qe=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(C),!t)for(var i in this)"t"===i.charAt(0)&&e.call(this,i)&&!g(+i.slice(1))&&(this[i]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function r(e,r){return o.type="throw",o.arg=t,i.next=e,r&&(i.method="next",i.arg=n),!!r}for(var u=this.tryEntries.length-1;u>=0;--u){var s=this.tryEntries[u],o=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var c=e.call(s,"catchLoc"),a=e.call(s,"finallyLoc");if(c&&a){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!a)throw new h("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(t,n){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&e.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var u=r;break}}u&&("break"===t||"continue"===t)&&u.tryLoc<=n&&n<=u.finallyLoc&&(u=null);var s=u?u.completion:{};return s.type=t,s.arg=n,u?(this.method="next",this.next=u.finallyLoc,m):this.complete(s)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),m},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),C(i),m}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc===t){var e=i.completion;if("throw"===e.type){var r=e.arg;C(i)}return r}}throw new h("illegal catch attempt")},delegateYield:function(t,i,e){return this.delegate={iterator:A(t),resultName:i,nextLoc:e},"next"===this.method&&(this.arg=n),m}}}(t.exports)});function lr(){return(lr=d.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var e in i)d.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])}return t}).apply(this,arguments)}function wr(){var t=d.create(null);return t.__=void 0,delete t.__,t}function gr(){return new br}function yr(t){var n=gr();for(var i in t)Et.call(t,i)&&n.set(i,t[i]);return n}var mr,pr="undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0,br=pr||(mr=function(){function t(t,n){this.data=void 0,this.keys=void 0,this.index=0,this.selector=void 0,this.data=t,this.selector=n,this.keys=d.keys(t)}var n=t.prototype;return n.next=function(){var t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}},t}(),function(){function t(){this.data=wr(),this.size=0}var n=t.prototype;return n.get=function(t){return this.data[t]},n.set=function(t,n){return this.has(t)||this.size++,this.data[t]=n,this},n.has=function(t){return t in this.data},n.delete=function(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)},n.clear=function(){this.data=wr(),this.size=0},n.keys=function(){return new mr(this.data,function(t,n){return n})},n.values=function(){return new mr(this.data,function(t,n){return t[n]})},n.entries=function(){return new mr(this.data,function(t,n){return[n,t[n]]})},n.forEach=function(t){for(var n in this.data)t(this.data[n],n)},t}());var _r,kr=pr||(_r=function(){function t(t,n){this.nr=void 0,this.ir=void 0,this.nr=t,this.ir=n}var n=t.prototype;return n.next=function(){var t=this.nr.next();return t.done?t:{value:this.ir(t.value),done:!1}},t}(),function(){function t(){this.er=gr()}var n=t.prototype;return n.get=function(t){return this.er.get(""+t)},n.set=function(t,n){return this.er.set(""+t,n),this},n.has=function(t){return this.er.has(""+t)},n.delete=function(t){return this.er.delete(""+t)},n.clear=function(){this.er.clear()},n.keys=function(){return new _r(this.er.keys(),function(t){return Number(t)})},n.values=function(){return this.er.values()},n.entries=function(){return new _r(this.er.entries(),function(t){var n=t[0],i=t[1];return[Number(n),i]})},n.forEach=function(t){this.er.forEach(function(n,i){t(n,Number(i))})},ht(t,[{key:"size",get:function(){return this.er.size}}]),t}());var Tr,Sr="cenc",Er="sinf",Ir="skd",Rr="urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95",Dr="com.microsoft.playready",Nr="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",Cr="94ce86fb-07ff-4f43-adb8-93d2fa968ca2",Or="urn:uuid:"+Cr,Ar="com.apple.fps.1_0";!function(t){t.rr="playready",t.ur="widevine",t.sr="fairplay",t.cr="clearkey",t.ar="aes128"}(Tr||(Tr={}));var Pr={hr:Tr.rr,dr:Dr,wr:"cenc",gr:"9a04f079-9840-4286-ab92-e65be0885f95",yr:Rr,mr:"PlayReady"},xr={hr:Tr.ur,dr:"com.widevine.alpha",wr:"cenc",gr:"edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",yr:Nr,mr:"Widevine"},Lr={hr:Tr.sr,dr:Ar,wr:"skd",gr:Cr,yr:Or,mr:"FairPlay"},Br=(Tr.sr,{hr:Tr.cr,dr:"org.w3.clearkey",wr:"cenc",gr:"1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",yr:"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",mr:"ClearKey"});function Fr(t,n,i){return t.split(n).join(i)}function Mr(t,n){return null!=t&&-1!==t.indexOf(n)}function Ur(t,n){return null!=t&&t.substr(0,n.length)===n}function Vr(t,n){return null!=t&&t.substr(t.length-n.length,n.length)===n}function qr(t,n){return t.toUpperCase()===n.toUpperCase()}function Hr(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return Wr(n)}var zr=16384;function Wr(t){var n=t.length;if(n<=zr)return String.fromCharCode.apply(String,t);for(var i=[],e=0;e<n;e+=zr)i.push(String.fromCharCode.apply(String,t.slice(e,e+zr)));return i.join("")}var jr=St.En&&St.In>=42||St.Bn&&St.Fn>=38||St.An||St.xn||St.Vn&&St.qn>=29;function $r(t,n){return Mr(t,"audio")?{initDataTypes:["cenc"],audioCapabilities:[lr({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[lr({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}}var Xr,Gr=function(){function t(t){this.pr=void 0,this.br=gr(),this._r=void 0,this.pr=t}var n=t.prototype;return n.Be=function(){return this.Me(xr)},n.Pe=function(){return this.Me(Br)},n.Le=function(){return this.Me(Pr)},n.xe=function(){return this.Me(Lr)},n.Me=function(t){var n=t.yr,i=this.br.get(n);if(i)return i;var e=this.Fe(t,'video/mp4; codecs="avc1.42000a"');return this.br.set(n,e),e},n.Fe=function(t,n){return vr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,vr.awrap(this.pr.kr(t.dr,[$r(n,!0)]));case 3:return i.abrupt("return",!0);case 6:return i.prev=6,i.t0=i.catch(0),i.prev=8,i.next=11,vr.awrap(this.pr.kr(t.dr,[$r(n,!1)]));case 11:return i.abrupt("return",!0);case 14:return i.prev=14,i.t1=i.catch(8),i.abrupt("return",!1);case 17:case"end":return i.stop()}},null,this,[[0,6],[8,14]],j)},n.Oe=function(){return this._r||(this._r=this.Tr()),this._r},n.Tr=function(){return vr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if("https:"!==tt.protocol){t.next=2;break}return t.abrupt("return",!1);case 2:if(jr){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,vr.awrap(this.Pe());case 6:if(!t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:return t.abrupt("return",!0);case 9:case"end":return t.stop()}},null,this,null,j)},t}();function Yr(t,n){var i=function(t,n){var i=t,e=i.length;if(e<=1)return i;for(var r=new Array(e),u=1;u<e;u*=2){Kr(i,n,u,r);var s=i;i=r,r=s}return i}(t,n);return i!==t&&Kr(i,void 0,t.length,t),t}function Kr(t,n,i,e){var r,u,s,o,c,a=t.length,h=0,f=2*i;for(u=0;u<a;u+=f)for(r=(s=u+i)+i,s>a&&(s=a),r>a&&(r=a),o=u,c=s;;)if(o<s&&c<r)n&&n(t[o],t[c])<=0?e[h++]=t[o++]:e[h++]=t[c++];else if(o<s)e[h++]=t[o++];else{if(!(c<r))break;e[h++]=t[c++]}}!function(t){t[t.Sr=0]="Sr",t[t.Er=1]="Er",t[t.Ir=-1]="Ir"}(Xr||(Xr={}));var Jr=function(t,n){return(0|t)-(0|n)},Qr=function(t,n){return t===n?Xr.Sr:t<n?Xr.Ir:t>n?Xr.Er:g(t)?g(n)?Xr.Sr:Xr.Er:Xr.Ir};function Zr(t,n,i){return Tn(t,n,i)?Xr.Sr:Qr(t,n)}var tu=function(t,n){return function(t,n){if(t===n)return!0;var i=v.abs(t-n);return i<_n||i<v.max(v.abs(t),v.abs(n))*_n}(t,n)?Xr.Sr:Qr(t,n)};function nu(t,n,i){var e=function(t,n,i){for(var e=0;e<t.length;e+=1){var r=t[e];if(n.call(i,r,e,t))return e}return-1}(t,n,i);return-1===e?void 0:t[e]}function iu(t,n){var i=t.indexOf(n);return-1!==i&&(eu(t,i),!0)}function eu(t,n){t.splice(n,1)}function ru(t,n){return-1!==t.indexOf(n)}function uu(t){t.length=0}var su=function(){function t(){this.Rr=!1,this.Dr=!1,this.Nr=[],this.Cr=[]}var n=t.prototype;return n.Or=function(){if(!this.Rr&&!this.Dr){this.Rr=!0;for(var t=0,n=this.Nr.slice();t<n.length;t++){(0,n[t])()}this.Ar()}},n.Ar=function(){if(!this.Dr){this.Dr=!0;for(var t=0,n=this.Cr.slice();t<n.length;t++){(0,n[t])()}uu(this.Nr),uu(this.Cr)}},n.Pr=function(t){this.Dr||this.Nr.push(t)},n.xr=function(t){this.Dr||iu(this.Nr,t)},n.Lr=function(t){this.Dr||this.Cr.push(t)},n.Br=function(t){this.Dr||iu(this.Cr,t)},t}(),ou=function(){function t(){this.Fr=new su}var n=t.prototype;return n.Mr=function(){this.Fr.Or()},n.Ar=function(){this.Fr.Ar()},n.Ur=function(t){var n=this.Fr;if(!n.Rr)if(t.Rr)n.Or();else if(!n.Dr&&!t.Dr){var i=function(){e(),n.Or()},e=function e(){t.xr(i),t.Br(e),n.xr(i),n.Br(e)};t.Pr(i),t.Lr(e),n.Pr(i),n.Lr(e)}},n.Vr=function(){var n=new t,i=new t,e=n.qr,r=i.qr,u=this.Fr,s=function(){e.Rr&&r.Dr||r.Rr&&e.Dr?u.Or():e.Dr&&r.Dr&&u.Ar()};e.Pr(s),r.Pr(s),e.Lr(s),r.Lr(s),n.Ur(u),i.Ur(u);return u.Lr(function(){e.xr(s),r.xr(s),e.Br(s),r.Br(s)}),[n,i]},ht(t,[{key:"qr",get:function(){return this.Fr}}]),t}(),cu=function(t){function n(n,i){return t.call(this,n||"Aborted",i)||this}return dt(n,t),ht(n,[{key:"name",get:function(){return"AbortError"}}]),n}(On);function au(t){return t instanceof h&&"AbortError"===t.name}function hu(t){if(t&&t.Rr)throw new cu}function fu(t){if(au(t))throw t}function du(t){if(!au(t))throw t}function vu(t,n){return n?new j(function(i,e){if(n.Rr)return t.catch(Bt),e(new cu);var r=function t(){n.xr(t),e(new cu)};n.Pr(r),t.then(function(t){n.xr(r),i(t)},function(t){n.xr(r),e(t)})}):t}function lu(t,n){return t.then(function(t){return n.Ar(),t},function(t){throw n.Ar(),t})}var wu=j.resolve();function gu(t){wu.then(t)}function yu(t){t.then(Bt,Bt)}function mu(t){return vr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,vr.awrap(j.all(t));case 3:return n.abrupt("return",n.sent);case 6:return n.prev=6,n.t0=n.catch(0),n.next=10,vr.awrap(j.all(t.map(function(t){return t.catch(Bt)})));case 10:throw n.t0;case 11:case"end":return n.stop()}},null,null,[[0,6]],j)}function pu(t){return t&&"function"!=typeof t?t.slice():t}function bu(t,n,i){if(i)if("function"==typeof i)i.call(t,n);else for(var e=0;e<i.length;e++){i[e].call(t,n)}}var _u,ku=function(){function t(t){var n=this;this.Hr=wr(),this.zr=void 0,this.Wr=void 0,this.jr=function(t){n.$r(t)},this.Wr=t||this}var n=t.prototype;return n.Xr=function(t,n){if("function"==typeof n)if("string"==typeof t)this.Gr(t,n);else for(var i=0;i<t.length;i++){var e=t[i];this.Gr(e,n)}},n.Gr=function(t,n){var i=this.Hr[t];i?"function"==typeof i?this.Hr[t]=[i,n]:i.push(n):this.Hr[t]=n},n.Yr=function(t){if("function"==typeof t){var n=this.zr;n?"function"==typeof n?this.zr=[n,t]:n.push(t):this.zr=t}},n.Kr=function(){this.Hr=wr(),this.zr=void 0},n.$r=function(t){var n=pu(this.Hr[t.type]),i=pu(this.zr);bu(this.Wr,t,n),bu(this.Wr,t,i)},n.Jr=function(t,n){if("function"==typeof n)if("string"==typeof t)this.Qr(t,n);else for(var i=0;i<t.length;i++){var e=t[i];this.Qr(e,n)}},n.Qr=function(t,n){var i=this.Hr[t];i&&("function"==typeof i?i===n&&(this.Hr[t]=void 0):iu(i,n))},n.Zr=function(t){if("string"==typeof t)this.Hr[t]=void 0;else for(var n=0;n<t.length;n++){var i=t[n];this.Hr[i]=void 0}},n.tu=function(t){var n=this.zr;n&&("function"==typeof n?n===t&&(this.zr=void 0):iu(n,t))},n.nu=function(t,n){var i=this;return new j(function(e,r){if(n&&n.Rr)return r(new cu);var u=function(t){o(),e(t)},s=function(){o(),r(new cu)},o=function(){i.Jr(t,u),n&&n.xr(s)};i.Xr(t,u),n&&n.Pr(s)})},t}(),Tu=function(t){function n(){return t.apply(this,arguments)||this}return dt(n,t),n.prototype.$r=function(n){var i=this;gu(function(){t.prototype.$r.call(i,n)})},n}(ku),Su=function(t,n){void 0===n&&(n=new Date),this.type=t,this.date=n},Eu=["cenc"],Iu=["cbcs","cbcs-1-9"],Ru=function(t){function n(n){var i;return(i=t.call(this,"eu")||this).iu=n,i}return dt(n,t),n}(Su),Du=function(t){function n(n,i,e,r){var u;return(u=t.call(this,"ru")||this).iu=n,u.uu=i,u.ru=e,u.su=r,u}return dt(n,t),n}(Su),Nu=function(t){function n(){return t.call(this,"ou")||this}return dt(n,t),n}(Su);!function(t){t.cu="au",t.hu="fu"}(_u||(_u={}));var Cu=function(t){function n(n,i){var e;return(e=t.call(this,_u.cu)||this).wr=n,e.du=i,e}return dt(n,t),n}(Su),Ou=new y([0]).buffer,Au=function(){function t(){this.vu=void 0,this.vu=[]}var n=t.prototype;return n.lu=function(t){for(var n=0,i=this.vu;n<i.length;n++){if(i[n][0]===t)return!0}return!1},n.wu=function(t){for(var n=0,i=this.vu;n<i.length;n++){var e=i[n];if(e[0]===t)return e[1]}},n.gu=function(t,n){this.vu.forEach(function(n){return t(n[1],n[0])},n)},n.yu=function(t,n){this.vu.push([t,n])},n.mu=function(){uu(this.vu)},ht(t,[{key:"pu",get:function(){return this.vu.length}}]),t}(),Pu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),xu=16383,Lu=/[\t\n\f\r ]/g;function Bu(t){return 43===t?62:47===t?63:t>=48&&t<=57?t-48+52:t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:Fu()}function Fu(){throw new h("Invalid base64 input")}function Mu(t){var n=t;Lu.test(n)&&(n=n.replace(Lu,""));var i=n.length;i%4==0&&i>=1&&"="===n[i-1]&&(i>=2&&"="===n[i-2]?i-=2:i-=1,n=n.substr(0,i));var e=i%4;if(1===e)return Fu();for(var r,u=0===e?0:4-e,s=new y(function(t,n){return 3*(t+n)/4-n}(i,u)),o=u>0?i-4:i,c=0,a=0;c<o;c+=4)r=Bu(n.charCodeAt(c))<<18|Bu(n.charCodeAt(c+1))<<12|Bu(n.charCodeAt(c+2))<<6|Bu(n.charCodeAt(c+3)),s[a++]=r>>16&255,s[a++]=r>>8&255,s[a++]=255&r;return 2===u?(r=Bu(n.charCodeAt(c))<<2|Bu(n.charCodeAt(c+1))>>4,s[a++]=255&r):1===u&&(r=Bu(n.charCodeAt(c))<<10|Bu(n.charCodeAt(c+1))<<4|Bu(n.charCodeAt(c+2))>>2,s[a++]=r>>8&255,s[a++]=255&r),s}function Uu(t,n,i){for(var e,r,u,s=[],o=n;o<i;o+=3)s.push((e=t[o],r=t[o+1],u=t[o+2],Pu[e>>2]+Pu[(3&e)<<4|r>>4]+Pu[(15&r)<<2|u>>6]+Pu[63&u]));return s.join("")}function Vu(t){for(var n=t.length,i=n%3,e=[],r=n-i,u=0;u<r;u+=xu)e.push(Uu(t,u,v.min(r,u+xu)));if(1===i){var s=t[n-1];e.push(Pu[s>>2]+Pu[(3&s)<<4]+"==")}else if(2===i){var o=t[n-2],c=t[n-1];e.push(Pu[o>>2]+Pu[(3&o)<<4|c>>4]+Pu[(15&c)<<2]+"=")}return e.join("")}var qu=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],Hu=ArrayBuffer.isView||function(t){return t&&ru(qu,It.call(t))};function zu(t,n){return t===n||t.byteLength===n.byteLength&&function(t,n){if(t===n)return!0;if(t.byteLength!==n.byteLength)return!1;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}(new y(t),new y(n))}function Wu(t){var n=t.reduce(function(t,n){return t+n.byteLength},0);return function(t,n){for(var i=new y(n),e=0,r=0;r<t.length;r++){var u=t[r];i.set(u,e),e+=u.byteLength}return i}(t,n)}function ju(t){return Mu(t).buffer}function $u(t){return Vu(new y(t))}function Xu(t){return Vu(ps(t))}var Gu=function(){function t(t){void 0===t&&(t=0),this.bu=t}var n=t.prototype;return n._u=function(t){this.bu+=t},n.ku=function(t){this.bu=t},n.Tu=function(){return new t(this.Su)},ht(t,[{key:"Su",get:function(){return this.bu}}]),t}();function Yu(t){if(t>=55296&&t<=57343)throw new h("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function Ku(t,n){return t>>n&63|128}function Ju(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Yu(t),n.push(t>>12&15|224),n.push(Ku(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(Ku(t,12)),n.push(Ku(t,6))),n.push(63&t|128)):n.push(t)}function Qu(t,n){if(n.Su>=t.length)throw new h("Invalid byte index");var i=255&t[n.Su];if(n._u(1),128==(192&i))return 63&i;throw new h("Invalid continuation byte")}function Zu(t,n){var i=n.Su;if(i>t.length)throw new h("Invalid byte index");if(i===t.length)return!1;var e=255&t[i];if(n._u(1),0==(128&e))return e;if(192==(224&e)){var r=(31&e)<<6|Qu(t,n);if(r>=128)return r;throw new h("Invalid continuation byte")}if(224==(240&e)){var u=(15&e)<<12|Qu(t,n)<<6|Qu(t,n);if(u>=2048)return Yu(u),u;throw new h("Invalid continuation byte")}if(240==(248&e)){var s=(7&e)<<18|Qu(t,n)<<12|Qu(t,n)<<6|Qu(t,n);if(s>=65536&&s<=1114111)return s}throw new h("Invalid UTF-8 detected")}var ts=65279;var ns=function(){function t(t){this.Eu=t}return t.prototype.Iu=function(t){return function(t,n){return(t&n)===n}(this.Eu,t)},t}();function is(t,n){var i=t.getUint8(n.Su);return n._u(1),i}function es(t,n,i){t.setUint8(n.Su,i),n._u(1)}function rs(t,n,i){var e=Es(Rs(t),n.Su,n.Su+i);return n._u(e.byteLength),e}function us(t,n,i){return n.Su+i<=t.byteLength}function ss(t,n,i){void 0===i&&(i=!1);var e=t.getUint16(n.Su,i);return n._u(2),e}function os(t,n,i,e){void 0===e&&(e=!1),t.setUint16(n.Su,i,e),n._u(2)}function cs(t,n,i){void 0===i&&(i=!1);var e=t.getUint32(n.Su,i);return n._u(4),e}function as(t,n,i,e){void 0===e&&(e=!1),t.setUint32(n.Su,i,e),n._u(4)}function hs(t,n,i){void 0===i&&(i=!1);var e=cs(t,n,i),r=cs(t,n,i),u=i?r:e,s=i?e:r;return bn.fromBits(s,u,!0)}function fs(t,n){var i=is(t,n);if(i)return String.fromCharCode(i)}function ds(t,n){return function(t,n){return ws(t,n,!0)}(t,n)}function vs(t,n,i){for(var e="",r=0;r<i;r++)e+=fs(t,n);return e}function ls(t,n){var i,e=is(t,n);return 0==(128&e)?i=e:192==(224&e)?i=64*(31&e)+(63&is(t,n)):224==(240&e)?i=4096*(15&e)+64*(63&is(t,n))+(63&is(t,n)):240==(248&e)&&(i=262144*(7&e)+4096*(63&is(t,n))+64*(63&is(t,n))+(63&is(t,n))),i}function ws(t,n,i){for(var e=[];n.Su<t.byteLength;){var r=is(t,n);if(i&&!r)break;e.push(r)}return Wr(e)}function gs(t,n,i,e){for(var r=[];n.Su+2<=t.byteLength;){var u=ss(t,n,i);if(e&&!u)break;r.push(u)}return Wr(r)}function ys(t,n,i,e){void 0===e&&(e=!1);for(var r=i.length,u=0;u<r;u+=1){os(t,n,i.charCodeAt(u),e)}}function ms(t){return ws(Is(t),new As,!1)}function ps(t){var n=new y(t.length);return function(t,n,i){for(var e=i.length,r=0;r<e;r+=1)es(t,n,i.charCodeAt(r))}(Is(n),new As,t),n}function bs(t,n){return void 0===n&&(n=!1),gs(Is(t),new As,n,!1)}function _s(t,n){void 0===n&&(n=!1);var i=new y(2*t.length);return ys(Is(i),new As,t,n),i}function ks(t,n){return function(t,n,i){var e=[];(function(t,n){return n.Su+3<=t.byteLength&&239===t.getUint8(n.Su)&&187===t.getUint8(n.Su+1)&&191===t.getUint8(n.Su+2)})(t,n)&&n._u(3);for(;n.Su<t.byteLength;){var r=ls(t,n);if(void 0===r)break;if(i&&0===r)break;e.push(r)}return Hr(e)}(t,n,!0)}function Ts(t){return Hr(function(t,n){var i,e=[],r=new As;if(!n){if(!1===(i=Zu(t,r)))return e;i===ts||e.push(i)}for(;!1!==(i=Zu(t,r));)e.push(i);return e}(Rs(t)))}function Ss(t){return new y(function(t){for(var n=[],i=0;i<t.length;i++)Ju(t[i],n);return n}(function(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&r)<<10)+(1023&u)+65536):(n.push(r),i--)}else n.push(r)}return n}(t)))}function Es(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new y(t.buffer,t.byteOffset+n,i-n)}function Is(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Rs(t){return new y(t.buffer,t.byteOffset,t.byteLength)}function Ds(t){return t instanceof ArrayBuffer||Hu(t)}function Ns(t){return t instanceof ArrayBuffer?new y(t):Rs(t)}function Cs(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),t.slice?t.slice(n,i):Os(Es(t,n,i))}function Os(t){if(t.slice)return t.slice(0);var n=new y(t.byteLength);return n.set(t,0),n}var As=function(){function t(t){void 0===t&&(t=0),this.bu=t}var n=t.prototype;return n._u=function(t){this.bu+=t},n.ku=function(t){this.bu=t},n.Tu=function(){return new t(this.Su)},n.Ru=function(){return new Gu(this.Su<<3)},ht(t,[{key:"Su",get:function(){return this.bu}}]),t}(),Ps=function(){function t(){var t=this;this.Du=void 0,this.Nu=void 0,this.Cu=void 0,this.Du=new j(function(n,i){t.Nu=n,t.Cu=i})}var n=t.prototype;return n.Ou=function(t){this.Nu&&(this.Nu(t),this.Ar())},n.Au=function(t){this.Cu&&(this.Cu(t),this.Ar())},n.Mr=function(){this.Du.catch(Bt),this.Au(new cu)},n.Ar=function(){this.Nu=void 0,this.Cu=void 0},t}();function xs(){return new y([8,4]).buffer}function Ls(t){return zu(t,xs())}function Bs(t,n){return t===Dr?function(t){if(t.byteLength<2*Fs.length)return t;if(bs(new DataView(t,0,2*Fs.length),!0)===Fs)return t;return n=t,_s('<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">'+$u(n)+'</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>',!0).buffer;var n}(n):n}var Fs="<PlayReady";var Ms=function(t){function n(n,i,e,r){var u;return(u=t.call(this,n,r)||this).Pu=void 0,u.xu=void 0,u.Pu=i,u.xu=e,u}return dt(n,t),n}(On),Us=function(t,n){return(Us=d.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)d.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])})(t,n)};function Vs(t,n){if("function"!=typeof n&&null!==n)throw new f("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}Us(t,n),t.prototype=null===n?d.create(n):(i.prototype=n.prototype,new i)}function qs(t,n,i){return t.indexOf?t.indexOf(n,i):Array.prototype.indexOf.call(t,n,i)}!function(){function t(t,n){this.Lu=t,this.Bu=n}t.prototype.get=function(t){var n=this.Lu.get(t);if(0===this.Bu||void 0===n)return n;var i=this.Lu.get(t+1)||0,e=n&(1<<8-this.Bu)-1,r=i>>8-this.Bu;return(e<<this.Bu)+r},t.prototype.getBit=function(t){if(!(t<0)){var n=this.Lu.get(v.floor((t+this.Bu)/8));if(void 0!==n)return(n&1<<7-this.Bu-t%8)>0?1:0}},d.defineProperty(t.prototype,"bitLength",{get:function(){return this.Lu.bitLength-this.Bu},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"length",{get:function(){return this.Lu.length},enumerable:!1,configurable:!0})}();function Hs(t,n,i){return v.min(v.max(t,n),i)}function zs(t,n){return t>>8-n}function Ws(t,n){return t&(1<<n)-1}!function(){function t(t){this.Fu=t,this.Mu=0,this.Uu=0}d.defineProperty(t.prototype,"totalBitsRead",{get:function(){return 8*this.Mu+this.Uu},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"done",{get:function(){return this.Mu===this.Fu.length&&0===this.Uu},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"location",{get:function(){return{byte:this.Mu,bit:this.Uu}},enumerable:!1,configurable:!0}),t.prototype.copy=function(){var n=new t(this.Fu);return n.seek(this.Mu,this.Uu),n},t.prototype.canReadBits=function(t){return 8*this.Mu+t+this.Uu<=8*this.Fu.length},t.prototype.canReadBytes=function(t){return 0===this.Uu?this.Mu+t<=this.Fu.length:this.Mu+t<this.Fu.length},t.prototype.incBit=function(){this.Uu++,this.Uu>7&&(this.Mu++,this.Uu=0)},t.prototype.seek=function(t,n){this.Mu=t,this.Uu=n},t.prototype.peekBit=function(){if(!this.canReadBits(1))throw new h("Cannot read past end of buffer.");return this.Fu.get(this.Mu)>>7-this.Uu&1},t.prototype.readBit=function(){var t=this.peekBit();return this.incBit(),t},t.prototype.readByte=function(){if(!this.canReadBytes(1))throw new h("Cannot read past end of buffer.");if(0===this.Uu)return this.Fu.get(this.Mu++);var t=Ws(this.Fu.get(this.Mu),8-this.Uu),n=zs(this.Fu.get(this.Mu+1),this.Uu);return this.Mu++,t<<this.Uu|n},t.prototype.readBits=function(t){if(!this.canReadBits(t))throw new h("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readBit());return n},t.prototype.readUInt=function(t){if(t>32)throw new h("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new h("Cannot read past end of buffer.");var n=0;if(0===this.Uu&&t%8==0)for(var i=t-8;i>=0;i-=8)n|=this.readByte()<<i;else for(i=t-1;i>=0;i--)n|=this.readBit()<<i;return n},t.prototype.readInt=function(t){if(t>32)throw new h("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new h("Cannot read past end of buffer.");var n=this.readUInt(t);return 0===(n&1<<t-1)?n:n-v.pow(2,t)},t.prototype.readExponentialGolombCode=function(){for(var t=0;0===this.readBit();)t++;var n=1<<t;return n+=this.readUInt(t)-1},t.prototype.readSignedExponentialGolombCode=function(){var t=this.readExponentialGolombCode();return 1&t?(t+1)/2:-t/2},t.prototype.skipBits=function(t){if(!this.canReadBits(t))throw new h("Skipping over the buffer edge is not allowed.");var n=this.Uu+t;this.Mu+=n>>3,this.Uu=7&n},t.prototype.readBool=function(){return this.readBit()>0},t.prototype.readString=function(t){if(!this.canReadBytes(t))throw new h("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readByte());return String.fromCharCode.apply(String,n)}}();var js=function(t,n){return t===n?0:t<n?-1:t>n?1:g(t)?g(n)?0:1:-1},$s=function(){function t(){this.Vu=[],this.qu=[],this.N=0}return t.from=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var e=new t,r=0,u=n;r<u.length;r++){var s=u[r];e.pushRange(s)}return e},t.prototype.pushRange=function(t,n,i){if(void 0===n&&(n=0),void 0===i&&(i=t.length),i<0)throw new h("The buffer length must be positive.");if(0!==i){if(0===this.qu.length)this.qu.push(0);else{var e=this.qu[this.qu.length-1]+this.Vu[this.Vu.length-1].length;this.qu.push(e)}this.Vu.push(t.subarray(n,n+i)),this.N+=i}},t.prototype.concat=function(n){var i=new t;return i.pushRange(this.join()),i.pushRange(n.join()),i},t.prototype.copy=function(t,n,i,e){if(void 0===n&&(n=0),void 0===i&&(i=0),void 0===e&&(e=this.length),n<0||i<0||e<0)throw new RangeError;return this.slice(i,e).copyInternal(t,n)},t.prototype.copyInternal=function(t,n){for(var i=0,e=n,r=0,u=this.Vu;r<u.length;r++){var s=u[r];t.set(s,e),i+=s.length,e+=s.length}return i},t.prototype.clear=function(){this.Vu=[],this.qu=[],this.N=0},t.prototype.get=function(t){if(!(t<0||t>=this.length)){var n=this.findContainingBufferIndex(t),i=t-this.qu[n];return this.Vu[n][i]}},d.defineProperty(t.prototype,"first",{get:function(){return this.get(0)},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){if(this.Vu.length<1)return-1;if(this.Vu.length>1){var n=this.join();this.clear(),this.pushRange(n)}var i=this.Vu[0];return"number"==typeof t?qs(i,t):"undefined"!=typeof Buffer?Buffer.from(i.buffer,i.byteOffset,i.byteLength).indexOf(t):function(t,n){if(0===n.length)return 0;for(var i=n[0],e=n.length,r=t.length-e,u=0;u<=r&&!((u=qs(t,i,u))<0||u>r);u++){for(var s=u+1,o=u+e,c=1;s<o&&t[s]===n[c];s++,c++);if(s===o)return u}return-1}(i,t)},t.prototype.findContainingBufferIndex=function(t){return function(t,n,i){if(0!==t.length){var e=0,r=t.length-1;if(1!==i(t[e],n)){if(1===i(n,t[r]))return r;for(;e!==r;){var u=v.ceil((e+r)/2);i(t[u],n)<=0?e=u:r=u-1}return e}}}(this.qu,t,js)},t.prototype.join=function(){if(1===this.Vu.length)return this.Vu[0];var t=new y(this.length);return this.copyInternal(t,0),t},d.defineProperty(t.prototype,"length",{get:function(){return this.N},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"bitLength",{get:function(){return 8*this.length},enumerable:!1,configurable:!0}),t.prototype.readUIntBE=function(t,n){if(n<=0||n>4)throw new h("Expected byteLength to be between 0 and 4 but was "+n);if(t<0||t>this.length-n)throw new h("Offset must be between 0 and buffer.length - byteLength, but was "+t+" (max allowed "+(this.length-n)+")");if(1===n)return this.get(t);for(var i=0,e=0;e<n;e++)i+=this.get(t+e)*v.pow(2,8*(n-e-1));return i},t.prototype.slice=function(n,i){void 0===i&&(i=this.length);var e=Hs(n,0,this.length),r=Hs(i,0,this.length);if(e>r)return new t;if(e===r)return new t;for(var u=new t,s=this.findContainingBufferIndex(e),o=this.Vu[s],c=e,a=c-this.qu[s];c+o.length-a<r;)u.pushRange(o,a,o.length-a),s+=1,a=(c+=o.length-a)-this.qu[s],o=this.Vu[s];var h=r-c;return u.pushRange(o,a,h),u},t.prototype.trim=function(){if(0===this.length)return new t;for(var n=this.length-1,i=this.Vu.length-1,e=this.Vu[i],r=e.length-1;n>=0&&i>=0;){if(0!==e[r])break;if(0===r){if(0===i)return new t;i-=1,r=(e=this.Vu[i]).length-1}else r-=1;n-=1}return this.slice(0,n+1)},t}(),Xs=function(){function t(n){this.Hu=n||t.BUFFER_CHUNK_SIZE,this.zu=!1,this.Wu=new $s,this.Fu=new y(this.Hu),this.ju=0,this.$u=0,this.Uu=7}return t.prototype.closeByte=function(){this.Fu[this.ju++]=this.$u,this.ju>=this.Hu&&this.closeBuffer(),this.$u=0,this.Uu=7},t.prototype.closeBuffer=function(t){void 0===t&&(t=!0),0!==this.ju&&(this.Wu.pushRange(this.Fu,0,this.ju),t&&(this.Fu=new y(this.Hu)),this.ju=0)},d.defineProperty(t.prototype,"isWritingStartBit",{get:function(){return 7===this.Uu},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(this.zu)throw new h("Cannot close a closed BitWriter.");return this.isWritingStartBit||this.closeByte(),this.closeBuffer(!1),this.zu=!0,this.Wu},t.prototype.writeBit=function(t){if(this.zu)throw new h("Cannot write to a closed BitWriter.");this.$u|=t<<this.Uu,0===this.Uu?this.closeByte():this.Uu--},t.prototype.writeByte=function(t){if(this.zu)throw new h("Cannot write to a closed BitWriter.");this.isWritingStartBit?(this.$u=t,this.closeByte()):this.writeByteUnaligned(t)},t.prototype.writeByteUnaligned=function(t){var n=this.Uu;this.$u|=zs(t,n+1),this.closeByte(),this.$u=Ws(t,8-n)<<n+1,this.Uu=n},t.prototype.writeBits=function(t){for(var n=0,i=t;n<i.length;n++){var e=i[n];this.writeBit(e)}},t.prototype.writeBytes=function(t){if(this.zu)throw new h("Cannot write to a closed BitWriter.");this.isWritingStartBit?this.writeBytesAligned(t):this.writeBytesUnaligned(t)},t.prototype.writeBytesAligned=function(t){this.ju+t.length<=this.Hu?(this.Fu.set(t,this.ju),this.ju+=t.length,this.ju===this.Hu&&this.closeBuffer()):(this.closeBuffer(),this.Wu.pushRange(t))},t.prototype.writeBytesUnaligned=function(t){if(0!==t.length){var n=this.Uu;this.$u|=zs(t[0],n+1),this.closeByte();for(var i=1;i<t.length;i++){var e=Ws(t[i-1],8-n),r=zs(t[i],n+1);this.$u=e<<n+1|r,this.closeByte()}this.$u=Ws(t[t.length-1],8-n)<<n+1,this.Uu=n}},t.prototype.writeUInt=function(t,n){if(t<0)throw new h("Received a negative number.");if(n>32)throw new h("The max bitlength that can be provided is 32.");if(t>=v.pow(2,n))throw new h("Uint "+t+" cannot be represented in "+n+" bit(s).");if(this.isWritingStartBit&&n%8==0)for(var i=n-8;i>=0;i-=8)this.writeByte(t>>i&255);else for(i=n-1;i>=0;i--)this.writeBool((t&1<<i)>0)},t.prototype.writeInt=function(t,n){if(n>32)throw new h("The max bitlength that can be provided is 32.");if(v.abs(t)>=v.pow(2,n-1))throw new h("Signed integer "+t+" cannot be represented in "+n+" bit(s).");t<0?this.writeUInt(t+v.pow(2,n),n):this.writeUInt(t,n)},t.prototype.writeExponentialGolombCode=function(t){if(t<0)throw new h("Received a negative number.");for(var n=v.floor(v.log2(t+1))+1,i=0;i<n-1;i++)this.writeBit(0);this.writeUInt(t+1,n)},t.prototype.writeSignedExponentialGolombCode=function(t){0===t?this.writeExponentialGolombCode(0):t<0?this.writeExponentialGolombCode(-2*t):this.writeExponentialGolombCode(2*t-1)},t.prototype.padByte=function(t){for(;!this.isWritingStartBit;)this.writeBit(t)},t.prototype.writeBool=function(t){this.writeBit(t?1:0)},t.prototype.writeString=function(t){for(var n=function(t){for(var n=new y(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(t),i=0;i<n.length;i++)this.writeByte(n[i])},t.BUFFER_CHUNK_SIZE=1024,t}(),Gs=function(){function t(t){this.rb=new $s,this.Xu=t}return t.prototype.closeWriter=function(){void 0!==this.Xu&&(this.rb=this.rb.concat(this.Xu.close()),this.Xu=void 0)},d.defineProperty(t.prototype,"writer",{get:function(){return void 0===this.Xu&&(this.Xu=new Xs),this.Xu},enumerable:!1,configurable:!0}),t.prototype.concat=function(t){this.closeWriter(),this.rb=this.rb.concat(t)},t.prototype.toRangedBuffer=function(){return this.closeWriter(),this.rb},t}(),Ys=function(){function t(t){if(this.boxType=t,4!==t.length&&16!==t.length)throw new h("The provided box type does not conform to either a 4 character type or a 16 byte uuid.")}return t.prototype.serializeCommonBoxHeader=function(n){var i=this.getSize(),e=i>=t.LARGE_SIZE/8,r=16===this.boxType.length;n.writeUInt(e?1:i,32),n.writeString(r?"uuid":this.boxType),e&&(n.writeUInt(v.floor(i/t.LARGE_SIZE),32),n.writeUInt(i%t.LARGE_SIZE,32)),r&&n.writeString(this.boxType)},t.prototype.getSize=function(){var n=8+(this.boxType.length>4?16:0),i=this.getBoxContentSize()+n;return i>=t.LARGE_SIZE/8&&(i+=8),i},t.prototype.serialize=function(){var t=new Gs;return this.serializeCommonBoxHeader(t.writer),this.serializeBoxContent(t),t.toRangedBuffer()},t.LARGE_SIZE=v.pow(2,32),t}();function Ks(t,n){return t instanceof Gt?64===n:t<v.pow(2,n)}function Js(t,n){return v.round(t*v.pow(2,n))}function Qs(t,n){for(var i=0;i<n.length;i++)t.writeByte(n[i])}var Zs=function(t){function n(n,i,e){var r=t.call(this,n)||this;if(r.version=i,!Ks(i,8))throw new h("the provided version cannot fit in 8 bits.");return r.flags=e,r}return Vs(n,t),d.defineProperty(n.prototype,"flags",{get:function(){return this.Gu},set:function(t){this.Gu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new h("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(Ys),to=(function(t){function n(n,i){var e=t.call(this,n)||this;return e.data=i,e}Vs(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat($s.from(this.data))}}(Ys),function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t}());function no(t){for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return function(t){var n=t.length;if(n<=io)return String.fromCharCode.apply(String,t);for(var i=[],e=0;e<n;e+=io)i.push(String.fromCharCode.apply(String,t.slice(e,e+io)));return i.join("")}(n)}var io=16384;function eo(t,n){var i=t.getUint8(n.offset);return n.shift(1),i}function ro(t,n,i){var e,r=function(t,n,i){void 0===n&&(n=0);void 0===i&&(i=t.byteLength);return new y(t.buffer,t.byteOffset+n,i-n)}(new y((e=t).buffer,e.byteOffset,e.byteLength),n.offset,n.offset+i);return n.shift(r.byteLength),r}function uo(t,n,i){return n.offset+i<=t.byteLength}function so(t,n,i){void 0===i&&(i=!1);var e=t.getUint32(n.offset,i);return n.shift(4),e}function oo(t,n,i){void 0===i&&(i=!1);var e=so(t,n,i),r=so(t,n,i),u=i?r:e,s=i?e:r;return Gt.fromBits(s,u,!0)}function co(t,n){var i=eo(t,n);if(i)return String.fromCharCode(i)}function ao(t,n,i){for(var e="",r=0;r<i;r++)e+=co(t,n);return e}function ho(t,n){var i,e=eo(t,n);return 0==(128&e)?i=e:192==(224&e)?i=64*(31&e)+(63&eo(t,n)):224==(240&e)?i=4096*(15&e)+64*(63&eo(t,n))+(63&eo(t,n)):240==(248&e)&&(i=262144*(7&e)+4096*(63&eo(t,n))+64*(63&eo(t,n))+(63&eo(t,n))),i}function fo(t,n){return function(t,n,i){var e=[];(function(t,n){return n.offset+3<=t.byteLength&&239===t.getUint8(n.offset)&&187===t.getUint8(n.offset+1)&&191===t.getUint8(n.offset+2)})(t,n)&&n.shift(3);for(;n.offset<t.byteLength;){var r=ho(t,n);if(void 0===r)break;if(i&&0===r)break;e.push(r)}return no(e)}(t,n,!0)}var vo=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t.prototype.toBit=function(){return new to(this.offset<<3)},t}(),lo=function(){function t(t,n){this.data=t,this.cursor=n}return t.prototype.nextUint8=function(){return eo(this.data,this.cursor)},t.prototype.nextUint16=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getUint16(n.offset,i);return n.shift(2),e}(this.data,this.cursor)},t.prototype.nextInt16=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt16(n.offset,i);return n.shift(2),e}(this.data,this.cursor)},t.prototype.nextUint32=function(){return so(this.data,this.cursor)},t.prototype.nextInt32=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt32(n.offset,i);return n.shift(4),e}(this.data,this.cursor)},t.prototype.nextInt64=function(){return function(t,n,i){void 0===i&&(i=!1);var e=so(t,n,i),r=so(t,n,i),u=i?r:e,s=i?e:r;return Gt.fromBits(s,u,!1)}(this.data,this.cursor)},t.prototype.nextUint64=function(){return oo(this.data,this.cursor)},t.prototype.nextUint8Array=function(t){return ro(this.data,this.cursor,t)},t.prototype.nextUint32Array=function(t){return function(t,n,i){for(var e=[],r=0;r<i;r++)e.push(so(t,n));return e}(this.data,this.cursor,t)},t.prototype.nextChars=function(t){return ao(this.data,this.cursor,t)},t.prototype.nextUTF8String=function(){return fo(this.data,this.cursor)},t.prototype.skip=function(t){this.cursor.shift(t)},t.prototype.clone=function(){return new t(this.data,this.cursor.clone())},t}();function wo(t,n){return t.type===n}var go=8;function yo(t,n){var i=n.offset,e=function(t,n){var i=n.offset;if(!uo(t,n,go)){var e=n.offset+go;return{complete:!1,neededOffset:e}}var r=so(t,n),u=ao(t,n,4);if(1===r){if(!uo(t,n,8)){var e=n.offset+8;return n.seek(i),{complete:!1,neededOffset:e}}r=oo(t,n).toNumber()}if("uuid"===u){if(!uo(t,n,16)){var e=n.offset+16;return n.seek(i),{complete:!1,neededOffset:e}}u=ao(t,n,16)}var s=n.offset;return{complete:!0,header:{type:u,size:r,headerSize:s-i}}}(t,n);if(!e.complete)return e;var r=e.header,u=r.size;0===u&&(u=t.byteLength-i);var s=i+u;if(s>t.byteLength){var o=s;return n.seek(i),{complete:!1,neededOffset:o}}var c,a,h,f={type:r.type,offset:i,data:new lo((c=t,a=i,h=s,void 0===a&&(a=0),void 0===h&&(h=c.byteLength),new DataView(c.buffer,c.byteOffset+a,h-a)),new vo(r.headerSize))};return n.seek(s),{complete:!0,box:f}}!function(t){function n(){return t.call(this,"mdir")||this}Vs(n,t),n.prototype.serializeReserved=function(t){t.writer.writeString("appl"),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)}}(function(t){function n(n,i,e,r){void 0===e&&(e=0),void 0===r&&(r=0);var u=t.call(this,"hdlr",e,r)||this;return u.name=i,u.handlerType=n,u}return Vs(n,t),d.defineProperty(n.prototype,"handlerType",{get:function(){return this.Yu},set:function(t){this.Yu=t},enumerable:!1,configurable:!0}),n.prototype.serializeReserved=function(t){t.writer.writeUInt(0,32),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)},n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+4+4+12+(null!==(i=null===(n=this.name)||void 0===n?void 0:n.length)&&void 0!==i?i:0)+1},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeString(this.handlerType),this.serializeReserved(n),this.name&&n.writer.writeString(this.name),n.writer.writeByte(0)},n}(Zs));var mo=function(){function t(t,n){void 0===n&&(n=!1),this.fixed28BitMode=n,this.tag=t}return t.prototype.encodeSize=function(t){for(var n=[];t>0;)n.length>0&&(n[n.length-1]+=128),n.push(t%128),t>>=7;if(this.fixed28BitMode)for(;n.length<4;)n.push(128);return n.reverse()},d.defineProperty(t.prototype,"tag",{get:function(){return this.Ku},set:function(t){if(!Ks(t,8))throw new h("Provided tag does not fit in 8 bits.");this.Ku=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return this.getDescriptorSize()+1+this.encodeSize(this.getDescriptorSize()).length},t.prototype.serialize=function(t){t.writer.writeByte(this.tag);for(var n=0,i=this.encodeSize(this.getDescriptorSize());n<i.length;n++){var e=i[n];t.writer.writeByte(e)}this.serializeDescriptorContent(t)},t}(),po=(function(t){function n(n,i,e,r,u,s,o){void 0===o&&(o={});var c=t.call(this,4,o.fixed28BitMode)||this;return c.upStream=e,c.decoderSpecificInfo=s,c.objectTypeIndication=n,c.streamType=i,c.bufferSizeDb=r,c.maxBitrate=u.max,c.avgBitrate=u.avg,c}Vs(n,t),d.defineProperty(n.prototype,"objectTypeIndication",{get:function(){return this.Ju},set:function(t){if(!Ks(t,8))throw new h("Provided objectTypeIndication does not fit in 8 bits.");this.Ju=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"streamType",{get:function(){return this.Qu},set:function(t){if(!Ks(t,6))throw new h("Provided streamType does not fit in 6 bits.");this.Qu=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.Zu},set:function(t){if(!Ks(t,24))throw new h("Provided bufferSizeDb does not fit in 24 bits.");this.Zu=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"maxBitrate",{get:function(){return this.ts},set:function(t){if(!Ks(t,32))throw new h("Provided maxBitrate does not fit in 32 bits.");this.ts=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"avgBitrate",{get:function(){return this.es},set:function(t){if(!Ks(t,32))throw new h("Provided avgBitrate does not fit in 32 bits.");this.es=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 13+this.decoderSpecificInfo.reduce(function(t,n){return t+n.getSize()},0)},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.objectTypeIndication),t.writer.writeUInt(this.streamType,6),t.writer.writeBool(this.upStream),t.writer.writeBit(1),t.writer.writeUInt(this.bufferSizeDb,24),t.writer.writeUInt(this.maxBitrate,32),t.writer.writeUInt(this.avgBitrate,32);for(var n=0,i=this.decoderSpecificInfo;n<i.length;n++){i[n].serialize(t)}}}(mo),function(t){function n(n,i){void 0===i&&(i={});var e=t.call(this,5,i.fixed28BitMode)||this;return e.data=n,e}Vs(n,t),n.prototype.getDescriptorSize=function(){return this.data.length},n.prototype.serializeDescriptorContent=function(t){t.concat($s.from(this.data))}}(mo),function(t){function n(n){void 0===n&&(n=!1);var i=t.call(this,6,n)||this;return i.predefined=2,i}return Vs(n,t),n.prototype.getDescriptorSize=function(){return 1},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.predefined)},n}(mo)),bo=(function(t){function n(n,i,e,r){void 0===r&&(r={});var u=t.call(this,3,r.fixed28BitMode)||this;return u.decoderConfigDescriptor=e,u.esId=n,u.streamPriority=i,u.dependsOnEsId=null==r?void 0:r.dependsOnEsId,u.urlString=null==r?void 0:r.url,u.ocrEsId=null==r?void 0:r.ocrEsId,u.slConfigDescriptor=new po(r.fixed28BitMode),u}Vs(n,t),d.defineProperty(n.prototype,"streamDependenceFlag",{get:function(){return void 0!==this.dependsOnEsId},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"urlFlag",{get:function(){return void 0!==this.urlString},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"ocrStreamFlag",{get:function(){return void 0!==this.ocrEsId},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"esId",{get:function(){return this.rs},set:function(t){if(!Ks(t,16))throw new h("Provided esId does not fit in 16 bits.");this.rs=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"streamPriority",{get:function(){return this.us},set:function(t){if(!Ks(t,5))throw new h("Provided streamPriority does not fit in 5 bits.");this.us=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"dependsOnEsId",{get:function(){return this.ss},set:function(t){if(t&&!Ks(t,16))throw new h("Provided dependsOnEsId does not fit in 16 bits.");this.ss=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"ocrEsId",{get:function(){return this.os},set:function(t){if(t&&!Ks(t,16))throw new h("Provided ocrEsId does not fit in 16 bits.");this.os=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 3+(this.streamDependenceFlag?2:0)+(this.urlFlag?1+this.urlString.length:0)+(this.ocrStreamFlag?2:0)+this.decoderConfigDescriptor.getSize()+this.slConfigDescriptor.getSize()},n.prototype.serializeDescriptorContent=function(t){t.writer.writeUInt(this.esId,16),t.writer.writeBool(this.streamDependenceFlag),t.writer.writeBool(this.urlFlag),t.writer.writeBool(this.ocrStreamFlag),t.writer.writeUInt(this.streamPriority,5),this.streamDependenceFlag&&t.writer.writeUInt(this.dependsOnEsId,16),this.urlFlag&&(t.writer.writeByte(this.urlString.length),t.writer.writeString(this.urlString)),this.ocrStreamFlag&&t.writer.writeUInt(this.ocrEsId,16),this.decoderConfigDescriptor.serialize(t),this.slConfigDescriptor.serialize(t)}}(mo),function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.boxes=[],n}return Vs(n,t),n.prototype.getSize=function(){return t.prototype.getSize.call(this)+this.boxes.reduce(function(t,n){return t+n.getSize()},0)},n.prototype.serialize=function(){for(var n=t.prototype.serialize.call(this),i=0,e=this.boxes;i<e.length;i++){var r=e[i];n=n.concat(r.serialize())}return n},n}(Ys)),_o=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Vs(n,t),n.prototype.serializeBoxContent=function(t){},n.prototype.getBoxContentSize=function(){return 0},n}(bo),ko=function(t){function n(n,i){var e=t.call(this,n)||this;return e.dataReferenceIndex=i,e}return Vs(n,t),d.defineProperty(n.prototype,"dataReferenceIndex",{get:function(){return this.cs},set:function(t){if(!Ks(t,16))throw new h("Provided dataReferenceIndex does not fit in 16 bits.");this.cs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){for(var n=0;n<6;n++)t.writer.writeByte(0);t.writer.writeUInt(this.dataReferenceIndex,16)},n}(_o),To=function(t){function n(n,i,e,r){var u,s,o=t.call(this,n,i)||this;return o.extra=r,o.channelCount=null!==(u=e.channelCount)&&void 0!==u?u:2,o.sampleSize=null!==(s=e.sampleSize)&&void 0!==s?s:16,o.sampleRate=e.sampleRate,o}return Vs(n,t),d.defineProperty(n.prototype,"channelCount",{get:function(){return this.as},set:function(t){if(!Ks(t,16))throw new h("Provided channelCount does not fit in 16 bits.");this.as=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"sampleSize",{get:function(){return this.hs},set:function(t){if(!Ks(t,16))throw new h("Provided sampleSize does not fit in 16 bits.");this.hs=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"sampleRate",{get:function(){return this.fs},set:function(t){if(!Ks(Js(t,16),32))throw new h("Provided rate does not fit in 32 bits (fixed 16.16).");this.fs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+8+2+2+2+2+(void 0!==this.sampleRate?4:0)+(null!==(i=null===(n=this.extra)||void 0===n?void 0:n.length)&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.channelCount,16),n.writer.writeUInt(this.sampleSize,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(Js(this.sampleRate,16),32),this.extra&&Qs(n.writer,this.extra)},n}(ko),So=(function(t){function n(n){var i=t.call(this,"stco",0,0)||this;return i.entries=n,i}Vs(n,t),d.defineProperty(n.prototype,"entries",{get:function(){return this.ds},set:function(t){if(!Ks(t.length,32))throw new h("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!Ks(t,32)}))throw new h("Not all entries can be represented in 32 bits.");this.ds=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(Zs),function(t){function n(n){var i=t.call(this,"clap")||this;return i.cleanApertureWidthN=n.cleanApertureWidthN,i.cleanApertureWidthD=n.cleanApertureWidthD,i.cleanApertureHeightN=n.cleanApertureHeightN,i.cleanApertureHeightD=n.cleanApertureHeightD,i.horizOffN=n.horizOffN,i.horizOffD=n.horizOffD,i.vertOffN=n.vertOffN,i.vertOffD=n.vertOffD,i}Vs(n,t),d.defineProperty(n.prototype,"cleanApertureWidthN",{get:function(){return this.vs},set:function(t){if(!Ks(t,32))throw new h("Provided cleanApertureWidthN does not fit in 32 bits.");this.vs=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"cleanApertureWidthD",{get:function(){return this.ls},set:function(t){if(!Ks(t,32))throw new h("Provided cleanApertureWidthD does not fit in 32 bits.");this.ls=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"cleanApertureHeightN",{get:function(){return this.gs},set:function(t){if(!Ks(t,32))throw new h("Provided cleanApertureHeightN does not fit in 32 bits.");this.gs=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"cleanApertureHeightD",{get:function(){return this.ys},set:function(t){if(!Ks(t,32))throw new h("Provided cleanApertureHeightD does not fit in 32 bits.");this.ys=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"horizOffN",{get:function(){return this.ps},set:function(t){if(!Ks(t,32))throw new h("Provided horizOffN does not fit in 32 bits.");this.ps=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"horizOffD",{get:function(){return this.bs},set:function(t){if(!Ks(t,32))throw new h("Provided horizOffD does not fit in 32 bits.");this.bs=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"vertOffN",{get:function(){return this._s},set:function(t){if(!Ks(t,32))throw new h("Provided vertOffN does not fit in 32 bits.");this._s=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"vertOffD",{get:function(){return this.ks},set:function(t){if(!Ks(t,32))throw new h("Provided vertOffD does not fit in 32 bits.");this.ks=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 32},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.cleanApertureWidthN,32),t.writer.writeUInt(this.cleanApertureWidthD,32),t.writer.writeUInt(this.cleanApertureHeightN,32),t.writer.writeUInt(this.cleanApertureHeightD,32),t.writer.writeUInt(this.horizOffN,32),t.writer.writeUInt(this.horizOffD,32),t.writer.writeUInt(this.vertOffN,32),t.writer.writeUInt(this.vertOffD,32)}}(Ys),function(t){function n(n,i){var e=t.call(this,"ctts",n,0)||this;return e.entries=i,e}Vs(n,t),d.defineProperty(n.prototype,"entries",{get:function(){return this.ds},set:function(t){if(!Ks(t.length,32))throw new h("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!Ks(t.sampleCount,32)||!Ks(t.sampleOffset,32)}))throw new h("Not all entries can be represented in 64 bits.");this.ds=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.sampleCount,32),0===this.version?n.writer.writeUInt(r.sampleOffset,32):1===this.version&&n.writer.writeInt(r.sampleOffset,32)}}}(Zs),function(t){function n(n){var i=t.call(this,"url ",0,void 0===n?1:0)||this;return i.location=n,i}Vs(n,t),d.defineProperty(n.prototype,"location",{get:function(){return this.Ts},set:function(t){this.flags=void 0===t?1:0,this.Ts=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this);return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(Zs),function(t){function n(n,i,e){var r=t.call(this,"urn ",0,e)||this;return r.name=n,r.location=i,r}Vs(n,t),d.defineProperty(n.prototype,"location",{get:function(){return this.Ts},set:function(t){if(1&this.flags)throw new h("The moov containment flag is set, a DataEntryUrlBox should be used instead.");this.Ts=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+this.name.length+1;return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.name),n.writer.writeByte(0),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(Zs),function(t){function n(){return t.call(this,"dinf")||this}Vs(n,t)}(_o),function(t){function n(n,i,e){var r=t.call(this,n)||this;if(r.version=i,!Ks(i,8))throw new h("the provided version cannot fit in 8 bits.");return r.flags=e,r}return Vs(n,t),d.defineProperty(n.prototype,"flags",{get:function(){return this.Gu},set:function(t){this.Gu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new h("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(bo)),Eo=(function(t){function n(){return t.call(this,"dref",0,0)||this}Vs(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(So),function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"elst",i,e)||this;return r.entries=n,r}return Vs(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"entries",{get:function(){return this.ds},set:function(t){for(var n=0,i=t;n<i.length;n++){var e=i[n];if(!Ks(e.segmentDuration,this.bitSize))throw new h("SegmentDuration of one of the entries does not fit in "+this.bitSize+" bits.");if(!Ks(e.mediaTime,this.bitSize))throw new h("MediaTime of one of the entries does not fit in "+this.bitSize+" bits.");if(!Ks(e.mediaRateInteger,16))throw new h("Provided mediaRateInteger does not fit in 16 bits.");if(e.mediaRateFraction&&!Ks(e.mediaRateFraction,16))throw new h("Provided mediaRateFraction does not fit in 16 bits.")}this.ds=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(2*this.bitSize/8+2+2)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32),this.serializeElstBoxContent(n)},n}(Zs)),Io=(function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}Vs(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,e=this.entries;i<e.length;i++){var r=e[i];t.writer.writeUInt(r.segmentDuration,32),t.writer.writeInt(r.mediaTime,32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}}}(Eo),function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}Vs(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,e=this.entries;i<e.length;i++){var r=e[i];t.writer.writeUInt(r.segmentDuration.getHighBitsUnsigned(),32),t.writer.writeUInt(r.segmentDuration.getLowBitsUnsigned(),32),t.writer.writeInt(r.mediaTime.getHighBits(),32),t.writer.writeInt(r.mediaTime.getLowBits(),32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}}}(Eo),function(t){function n(){return t.call(this,"edts")||this}Vs(n,t)}(_o),function(t){function n(n,i,e,r){var u=t.call(this,n)||this;return u.majorBrand=i,u.minorVersion=e,u.compatibleBrands=r,u}return Vs(n,t),d.defineProperty(n.prototype,"majorBrand",{get:function(){return this.Ss},set:function(t){if(4!==t.length)throw new h("the provided major brand does not conform to the 4 character requirement");this.Ss=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"minorVersion",{get:function(){return this.Es},set:function(t){if(!Ks(t,32))throw new h("the provided minor version does not fit in 32 bits.");this.Es=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"compatibleBrands",{get:function(){return this.Is},set:function(t){if(t.some(function(t){return 4!==t.length}))throw new h("Some of the compatible brands do not conform to the 4 character requirement");this.Is=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4*(2+this.compatibleBrands.length)},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.majorBrand),t.writer.writeUInt(this.minorVersion,32);for(var n=0,i=this.compatibleBrands;n<i.length;n++){var e=i[n];t.writer.writeString(e)}},n}(Ys)),Ro=(function(t){function n(n,i,e){return t.call(this,"ftyp",n,i,e)||this}Vs(n,t)}(Io),function(t){function n(n,i){void 0===i&&(i="free");var e=t.call(this,i)||this;return e.data=n,e}Vs(n,t),n.prototype.getBoxContentSize=function(){var t,n;return null!==(n=null===(t=this.data)||void 0===t?void 0:t.length)&&void 0!==n?n:0},n.prototype.serializeBoxContent=function(t){this.data&&t.concat($s.from(this.data))}}(Ys),function(t){function n(n,i,e,r){void 0===r&&(r=0);var u=t.call(this,"mdhd",e,r)||this;return u.creationTime=n.creation,u.modificationTime=n.modification,u.timescale=n.scale,u.duration=n.duration,u.language=i,u}return Vs(n,t),d.defineProperty(n.prototype,"creationTime",{get:function(){return this.Rs},set:function(t){if(!Ks(t,this.bitSize))throw new h("Provided sequence number does not fit in "+this.bitSize+" bits.");this.Rs=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"modificationTime",{get:function(){return this.Ds},set:function(t){if(!Ks(t,this.bitSize))throw new h("Provided sequence number does not fit in "+this.bitSize+" bits.");this.Ds=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"timescale",{get:function(){return this.Ns},set:function(t){if(!Ks(t,32))throw new h("Provided sequence number does not fit in 32 bits.");this.Ns=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"duration",{get:function(){return this.Cs},set:function(t){if(!Ks(t,this.bitSize))throw new h("Provided sequence number does not fit in "+this.bitSize+" bits.");this.Cs=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"language",{get:function(){return this.Os},set:function(t){if(!function(t){return/^[a-z]{3}$/.test(t)}(t))throw new h("Expected an ISO-639-2/T language code");this.Os=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMdiaContent(n),n.writer.writeBit(0);for(var i=0,e=this.language;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.charCodeAt(0)-96,5)}n.writer.writeUInt(0,16)},n}(Zs));(function(t){function n(n,i,e){return void 0===e&&(e=0),t.call(this,n,i,0,e)||this}Vs(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)}})(Ro),function(t){function n(n,i,e){return void 0===e&&(e=0),t.call(this,n,i,1,e)||this}Vs(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)}}(Ro);var Do;(function(t){function n(){return t.call(this,"mdia")||this}Vs(n,t)})(_o),function(t){function n(){var n=t.call(this,"mdat")||this;return n.data=new $s,n}Vs(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(this.data)}}(Ys),function(t){function n(){return t.call(this,"minf")||this}Vs(n,t)}(_o),function(t){function n(n){var i=t.call(this,"meta",0,0)||this;return i.handler=n,i}Vs(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.handler.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.handler.serialize())}}(So);!function(t){t.VIDEO="vide",t.AUXILIARY_VIDEO="auxv",t.AUDIO="soun",t.METADATA="meta",t.HINT="hint",t.TEXT="text",t.SUBTITLE="subt",t.FONT="fdsm"}(Do||(Do={}));var No,Co,Oo={a:1,b:0,u:0,c:0,d:1,v:0,x:0,y:0,w:1};function Ao(t,n){n.writer.writeUInt(Js(t.a,16),32),n.writer.writeUInt(Js(t.b,16),32),n.writer.writeUInt(Js(0,30),32),n.writer.writeUInt(Js(t.c,16),32),n.writer.writeUInt(Js(t.d,16),32),n.writer.writeUInt(Js(0,30),32),n.writer.writeUInt(Js(t.x,16),32),n.writer.writeUInt(Js(t.y,16),32),n.writer.writeUInt(Js(1,30),32)}function Po(t,n){var i,e,r,u;n.writer.writeUInt(null!==(i=t.isLeading)&&void 0!==i?i:No.UNKNOWN,2),n.writer.writeUInt(null!==(e=t.sampleDependsOn)&&void 0!==e?e:Co.UNKNOWN,2),n.writer.writeUInt(null!==(r=t.sampleIsDependedOn)&&void 0!==r?r:Co.UNKNOWN,2),n.writer.writeUInt(null!==(u=t.sampleHasRedundancy)&&void 0!==u?u:Co.UNKNOWN,2)}function xo(t,n){var i,e,r;n.writer.writeUInt(0,4),Po(t,n),n.writer.writeUInt(null!==(i=t.samplePaddingValue)&&void 0!==i?i:0,3),n.writer.writeBool(null!==(e=t.sampleIsNonSyncSample)&&void 0!==e&&e),n.writer.writeUInt(null!==(r=t.sampleDegradationPriority)&&void 0!==r?r:0,16)}!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WITH_DEPENDENCY=1]="WITH_DEPENDENCY",t[t.NO=2]="NO",t[t.WITHOUT_DEPENDENCY=3]="WITHOUT_DEPENDENCY"}(No||(No={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.YES=1]="YES",t[t.NO=2]="NO",t[t.RESERVED=3]="RESERVED"}(Co||(Co={}));var Lo=function(){return function(){}}(),Bo=function(t){function n(n,i,e){var r=t.call(this,"pssh",n,0)||this;return r.systemId=i,r.data=e,r}return Vs(n,t),d.defineProperty(n.prototype,"systemId",{get:function(){return this.As},set:function(t){if(16!==t.length)throw new h("Provided systemId length is not 16.");this.As=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"data",{get:function(){return this.P},set:function(t){if(!Ks(t.length,32))throw new h("Provided data length does not fit in 32 bits.");this.P=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+16+4+this.data.length},n.prototype.serializeVersionBoxContent=function(t){},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat($s.from(this.systemId)),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.data.length,32),n.concat($s.from(this.data))},n}(Zs),Fo=function(t){function n(n,i){return t.call(this,0,n,i)||this}return Vs(n,t),n}(Bo),Mo=function(t){function n(n,i,e){var r=t.call(this,1,n,i)||this;return r.kIds=e,r}return Vs(n,t),d.defineProperty(n.prototype,"kIds",{get:function(){return this.Ps},set:function(t){if(!Ks(t.length,32))throw new h("Provided kIds length cannot fit in 32 bits.");if(t.some(function(t){return 16!==t.length}))throw new h("Not all provided key ids are 16 bytes long.");this.Ps=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+16*this.kIds.length},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.kIds.length,32);for(var n=0,i=this.kIds;n<i.length;n++){var e=i[n];t.concat($s.from(e))}},n}(Bo);var Uo=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"mehd",i,e)||this;return r.fragmentDuration=n,r}return Vs(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"fragmentDuration",{get:function(){return this.xs},set:function(t){if(!Ks(t,this.bitSize))throw new h("The provided fragmentDuration does not fit in "+this.bitSize+" bits.");this.xs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(Zs),Vo=(function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}Vs(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration,32)}}(Uo),function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}Vs(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration.getHighBitsUnsigned(),32),n.writer.writeUInt(this.fragmentDuration.getLowBitsUnsigned(),32)}}(Uo),function(t){function n(n,i,e,r){var u,s,o;void 0===i&&(i={}),void 0===e&&(e=0),void 0===r&&(r=0);var c=t.call(this,"trex",e,r)||this;return c.trackId=n,c.defaultSampleDescriptionIndex=null!==(u=null==i?void 0:i.sampleDescriptionIndex)&&void 0!==u?u:0,c.defaultSampleDuration=null!==(s=i.sampleDuration)&&void 0!==s?s:0,c.defaultSampleSize=null!==(o=i.sampleSize)&&void 0!==o?o:0,c.defaultSampleFlags=i.sampleFlags,c}Vs(n,t),d.defineProperty(n.prototype,"trackId",{get:function(){return this.Ls},set:function(t){if(!Ks(t,32))throw new h("Provided track id does not fit in 32 bits.");this.Ls=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.Bs},set:function(t){if(!Ks(t,32))throw new h("Provided default sample description index does not fit in 32 bits.");this.Bs=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.Fs},set:function(t){if(!Ks(t,32))throw new h("Provided default sample duration does not fit in 32 bits.");this.Fs=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Ms},set:function(t){if(!Ks(t,32))throw new h("Provided default sample size does not fit in 32 bits.");this.Ms=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.Us},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!Ks(t.samplePaddingValue,3))throw new h("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!Ks(t.sampleDegradationPriority,16))throw new h("Provided sample degradation priority does not fit in 16 bits.");this.Us=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+20},n.prototype.serializeBoxContent=function(n){var i;t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),n.writer.writeUInt(this.defaultSampleDescriptionIndex,32),n.writer.writeUInt(this.defaultSampleDuration,32),n.writer.writeUInt(this.defaultSampleSize,32),xo(null!==(i=this.defaultSampleFlags)&&void 0!==i?i:{},n)}}(Zs),function(t){function n(){return t.call(this,"mvex")||this}Vs(n,t)}(_o),function(t){function n(i,e,r,u,s){var o,c,a;void 0===s&&(s=0);var h=t.call(this,"mvhd",u,s)||this;return h.creationTime=i.creation,h.modificationTime=i.modification,h.timescale=i.scale,h.duration=i.duration,h.rate=null!==(o=r.rate)&&void 0!==o?o:n.DEFAULT_RATE,h.volume=null!==(c=r.volume)&&void 0!==c?c:n.DEFAULT_VOLUME,h.matrix=null!==(a=r.matrix)&&void 0!==a?a:Oo,h.Vs=e,h}return Vs(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"creationTime",{get:function(){return this.Rs},set:function(t){if(!Ks(t,this.bitSize))throw new h("Provided sequence number does not fit in "+this.bitSize+" bits.");this.Rs=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"modificationTime",{get:function(){return this.Ds},set:function(t){if(!Ks(t,this.bitSize))throw new h("Provided sequence number does not fit in "+this.bitSize+" bits.");this.Ds=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"timescale",{get:function(){return this.Ns},set:function(t){if(!Ks(t,32))throw new h("Provided sequence number does not fit in 32 bits.");this.Ns=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"duration",{get:function(){return this.Cs},set:function(t){if(!Ks(t,this.bitSize))throw new h("Provided sequence number does not fit in "+this.bitSize+" bits.");this.Cs=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"rate",{get:function(){return this.qs},set:function(t){if(!Ks(Js(t,16),32))throw new h("Provided rate does not fit in 32 bits (fixed 16.16).");this.qs=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"volume",{get:function(){return this.Hs},set:function(t){if(!Ks(Js(t,8),16))throw new h("Provided volume does not fit in 16 bits (fixed 8.8).");this.Hs=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"matrix",{get:function(){return this.zs},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new h("(u, v, w) does not match the required (0, 0, 1)");this.zs=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"nextTrackId",{get:function(){return this.Vs},set:function(t){if(0===t)throw new h("NextTrackId cannot be 0.");if(!Ks(t,32))throw new h("NextTrackId cannot exceed 32 bits.");this.Vs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+2+2+8+36+24+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMvhdContent(n),n.writer.writeUInt(Js(this.rate,16),32),n.writer.writeUInt(Js(this.volume,8),16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),Ao(this.matrix,n);for(var i=0;i<6;i++)n.writer.writeUInt(0,32);n.writer.writeUInt(this.nextTrackId,32)},n.DEFAULT_RATE=1,n.DEFAULT_VOLUME=1,n}(Zs));(function(t){function n(n,i,e,r){return void 0===e&&(e={}),void 0===r&&(r=0),t.call(this,n,i,e,0,r)||this}Vs(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)}})(Vo),function(t){function n(n,i,e,r){return void 0===e&&(e={}),void 0===r&&(r=0),t.call(this,n,i,e,1,r)||this}Vs(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)}}(Vo);var qo=function(t){function n(n,i,e,r,u,s,o){var c,a,h;void 0===o&&(o={});var f=t.call(this,"tkhd",n,function(t){var n,i,e,r;return{trackEnabled:null===(n=null==t?void 0:t.trackEnabled)||void 0===n||n,trackInMovie:null===(i=null==t?void 0:t.trackInMovie)||void 0===i||i,trackInPreview:null===(e=null==t?void 0:t.trackInPreview)||void 0===e||e,trackSizeIsAspectRatio:null!==(r=null==t?void 0:t.trackSizeIsAspectRatio)&&void 0!==r&&r}}(o))||this;return f.creationTime=i.creation,f.modificationTime=i.modification,f.trackId=e,f.duration=i.duration,f.volume=r,f.width=u,f.height=s,f.layer=null!==(c=o.layer)&&void 0!==c?c:0,f.alternateGroup=null!==(a=o.alternateGroup)&&void 0!==a?a:0,f.matrix=null!==(h=o.matrix)&&void 0!==h?h:Oo,f}return Vs(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"creationTime",{get:function(){return this.Rs},set:function(t){if(!Ks(t,this.bitSize))throw new h("Provided sequence number does not fit in "+this.bitSize+" bits.");this.Rs=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"modificationTime",{get:function(){return this.Ds},set:function(t){if(!Ks(t,this.bitSize))throw new h("Provided sequence number does not fit in "+this.bitSize+" bits.");this.Ds=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"trackId",{get:function(){return this.Ls},set:function(t){if(0===t)throw new h("trackId cannot be 0.");if(!Ks(t,32))throw new h("trackId cannot exceed 32 bits.");this.Ls=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"duration",{get:function(){return this.Cs},set:function(t){if(!Ks(t,this.bitSize))throw new h("Provided sequence number does not fit in "+this.bitSize+" bits.");this.Cs=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"volume",{get:function(){return this.Hs},set:function(t){if(!Ks(Js(t,8),16))throw new h("Provided volume does not fit in 16 bits (fixed 8.8).");this.Hs=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"width",{get:function(){return this.Ws},set:function(t){if(!Ks(Js(t,16),32))throw new h("Provided width does not fit in 32 bits (fixed 16.16).");this.Ws=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"height",{get:function(){return this.js},set:function(t){if(!Ks(Js(t,16),32))throw new h("Provided height does not fit in 32 bits (fixed 16.16).");this.js=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"layer",{get:function(){return this.$s},set:function(t){if(!Ks(t,16))throw new h("Provided layer does not fit in 16 bits.");this.$s=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"alternateGroup",{get:function(){return this.Xs},set:function(t){if(!Ks(t,16))throw new h("Provided alternateGroup does not fit in 16 bits.");this.Xs=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"matrix",{get:function(){return this.zs},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new h("(u, v, w) does not match the required (0, 0, 1)");this.zs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+8+2+2+2+2+36+4+4},n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,20),t.writer.writeBool(this.flags.trackSizeIsAspectRatio),t.writer.writeBool(this.flags.trackInPreview),t.writer.writeBool(this.flags.trackInMovie),t.writer.writeBool(this.flags.trackEnabled)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeTkhdContent(n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.layer,16),n.writer.writeUInt(this.alternateGroup,16),n.writer.writeUInt(Js(this.volume,8),16),n.writer.writeUInt(0,16),Ao(this.matrix,n),n.writer.writeUInt(Js(this.width,16),32),n.writer.writeUInt(Js(this.height,16),32)},n}(Zs),Ho=(function(t){function n(n,i,e,r,u,s){return t.call(this,0,n,i,e,r,u,s)||this}Vs(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration,32)}}(qo),function(t){function n(n,i,e,r,u,s){return t.call(this,1,n,i,e,r,u,s)||this}Vs(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)}}(qo),function(t){function n(){return t.call(this,"trak")||this}Vs(n,t)}(_o),function(t){function n(){return t.call(this,"moov")||this}Vs(n,t)}(_o),function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"tfdt",i,e)||this;return r.baseMediaDecodeTime=n,r}return Vs(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"baseMediaDecodeTime",{get:function(){return this.Gs},set:function(t){if(!Ks(t,this.bitSize))throw new h("Provided baseMediaDecodeTime does not fit in "+this.bitSize+" bits.");this.Gs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(Zs));(function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}Vs(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime,32)}})(Ho),function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}Vs(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseMediaDecodeTime.getLowBitsUnsigned(),32)}}(Ho);!function(t){function n(n,i){void 0===i&&(i=0);var e=t.call(this,"tfhd",i,function(t){return{baseDataOffsetPresent:void 0!==t.baseDataOffset,sampleDescriptionIndexPresent:void 0!==t.sampleDescriptionIndex,defaultSampleDurationPresent:void 0!==t.defaultSampleDuration,defaultSampleSizePresent:void 0!==t.defaultSampleSize,defaultSampleFlagsPresent:void 0!==t.defaultSampleFlags,durationIsEmpty:t.durationIsEmpty,defaultBaseIsMoof:t.defaultBaseIsMoof}}(n))||this;return e.trackId=n.trackId,e.baseDataOffset=n.baseDataOffset,e.sampleDescriptionIndex=n.sampleDescriptionIndex,e.defaultSampleDuration=n.defaultSampleDuration,e.defaultSampleSize=n.defaultSampleSize,e.defaultSampleFlags=n.defaultSampleFlags,e}Vs(n,t),d.defineProperty(n.prototype,"trackId",{get:function(){return this.Ls},set:function(t){if(!Ks(t,32))throw new h("Provided track id does not fit in 32 bits.");this.Ls=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"baseDataOffset",{get:function(){return this.Ys},set:function(t){if(void 0===t&&this.flags.baseDataOffsetPresent)throw new h("The base data offset present flag is set.");if(void 0!==t&&!this.flags.baseDataOffsetPresent)throw new h("The base data offset present flag is not set.");if(t&&!Ks(t,64))throw new h("Provided baseDataOffset does not fit in 32 bits.");this.Ys=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"sampleDescriptionIndex",{get:function(){return this.Ks},set:function(t){if(void 0===t&&this.flags.sampleDescriptionIndexPresent)throw new h("The sample description index flag is set.");if(void 0!==t&&!this.flags.sampleDescriptionIndexPresent)throw new h("The sample description index flag is not set.");if(t&&!Ks(t,32))throw new h("Provided sampleDescriptionIndex does not fit in 32 bits.");this.Ks=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.Fs},set:function(t){if(void 0===t&&this.flags.defaultSampleDurationPresent)throw new h("The default sample duration present flag is set.");if(void 0!==t&&!this.flags.defaultSampleDurationPresent)throw new h("The default sample duration present flag is not set.");if(t&&!Ks(t,32))throw new h("Provided defaultSampleDuration does not fit in 32 bits.");this.Fs=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Ms},set:function(t){if(void 0===t&&this.flags.defaultSampleSizePresent)throw new h("The default sample size present flag is set.");if(void 0!==t&&!this.flags.defaultSampleSizePresent)throw new h("The default sample size present flag is not set.");if(t&&!Ks(t,32))throw new h("Provided defaultSampleSize does not fit in 32 bits.");this.Ms=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.Us},set:function(t){if(void 0===t&&this.flags.defaultSampleFlagsPresent)throw new h("The default sample flags present flag is set.");if(void 0!==t&&!this.flags.defaultSampleFlagsPresent)throw new h("The default sample flags present flag is not set.");if((null==t?void 0:t.samplePaddingValue)&&!Ks(t.samplePaddingValue,3))throw new h("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!Ks(t.sampleDegradationPriority,16))throw new h("Provided sample degradation priority does not fit in 16 bits.");this.Us=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,6),t.writer.writeBool(this.flags.defaultBaseIsMoof),t.writer.writeBool(this.flags.durationIsEmpty),t.writer.writeByte(0),t.writer.writeUInt(0,2),t.writer.writeBool(this.flags.defaultSampleFlagsPresent),t.writer.writeBool(this.flags.defaultSampleSizePresent),t.writer.writeBool(this.flags.defaultSampleDurationPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.sampleDescriptionIndexPresent),t.writer.writeBool(this.flags.baseDataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.baseDataOffsetPresent&&(n+=8),this.flags.sampleDescriptionIndexPresent&&(n+=4),this.flags.defaultSampleDurationPresent&&(n+=4),this.flags.defaultSampleSizePresent&&(n+=4),this.flags.defaultSampleFlagsPresent&&(n+=4),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),this.flags.baseDataOffsetPresent&&(n.writer.writeUInt(this.baseDataOffset.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseDataOffset.getLowBitsUnsigned(),32)),this.flags.sampleDescriptionIndexPresent&&n.writer.writeUInt(this.sampleDescriptionIndex,32),this.flags.defaultSampleDurationPresent&&n.writer.writeUInt(this.defaultSampleDuration,32),this.flags.defaultSampleSizePresent&&n.writer.writeUInt(this.defaultSampleSize,32),this.flags.defaultSampleFlagsPresent&&xo(this.defaultSampleFlags,n)}}(Zs);(function(t){function n(n,i,e){var r=t.call(this,"trun",n,function(t){var n,i,e,r;return{dataOffsetPresent:void 0!==t.dataOffset,firstSampleFlagsPresent:void 0!==t.firstSampleFlags,sampleDurationPresent:null!==(n=t.sampleDurationPresent)&&void 0!==n&&n,sampleSizePresent:null!==(i=t.sampleSizePresent)&&void 0!==i&&i,sampleFlagsPresent:null!==(e=t.sampleFlagsPresent)&&void 0!==e&&e,sampleCompositionTimeOffsetsPresent:null!==(r=t.sampleCompositionTimeOffsetsPresent)&&void 0!==r&&r}}(i))||this;return r.dataOffset=i.dataOffset,r.samples=e,r.firstSampleFlags=i.firstSampleFlags,r}Vs(n,t),d.defineProperty(n.prototype,"dataOffset",{get:function(){return this.Js},set:function(t){if(t&&!Ks(t,32))throw new h("Provided data offset does not fit in 32 bits.");this.Js=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"firstSampleFlags",{get:function(){return this.Qs},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!Ks(t.samplePaddingValue,3))throw new h("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!Ks(t.sampleDegradationPriority,16))throw new h("Provided sample degradation priority does not fit in 16 bits.");this.Qs=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"samples",{get:function(){return this.Zs},set:function(t){var n,i;if(!Ks(t.length,32))throw new h("The sample count cannot be represented in 32 bits.");for(var e=0,r=t;e<r.length;e++){var u=r[e];if(void 0===u.duration&&this.flags.sampleDurationPresent)throw new h("The sample duration present flag is set.");if(void 0!==u.duration&&!this.flags.sampleDurationPresent)throw new h("The sample duration present flag is not set.");if(u.duration&&!Ks(u.duration,32))throw new h("Provided sample duration does not fit in 32 bits.");if(void 0===u.size&&this.flags.sampleSizePresent)throw new h("The sample size present flag is set.");if(void 0!==u.size&&!this.flags.sampleSizePresent)throw new h("The sample size present flag is not set.");if(u.size&&!Ks(u.size,32))throw new h("Provided sample size does not fit in 32 bits.");if(void 0===u.flags&&this.flags.sampleFlagsPresent)throw new h("The sample flags present flag is set.");if(void 0!==u.flags&&!this.flags.sampleFlagsPresent)throw new h("The sample flags present flag is not set.");if((null===(n=u.flags)||void 0===n?void 0:n.samplePaddingValue)&&!Ks(u.flags.samplePaddingValue,3))throw new h("Provided sample padding value does not fit in 3 bits.");if((null===(i=u.flags)||void 0===i?void 0:i.sampleDegradationPriority)&&!Ks(u.flags.sampleDegradationPriority,16))throw new h("Provided sample degradation priority does not fit in 16 bits.");if(void 0===u.compositionTimeOffset&&this.flags.sampleCompositionTimeOffsetsPresent)throw new h("The sample compositionTimeOffset present flag is set.");if(void 0!==u.compositionTimeOffset&&!this.flags.sampleCompositionTimeOffsetsPresent)throw new h("The sample compositionTimeOffset present flag is not set.");if(u.compositionTimeOffset&&!Ks(u.compositionTimeOffset,32))throw new h("Provided sample compositionTimeOffset does not fit in 32 bits.")}this.Zs=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeByte(0),t.writer.writeUInt(0,4),t.writer.writeBool(this.flags.sampleCompositionTimeOffsetsPresent),t.writer.writeBool(this.flags.sampleFlagsPresent),t.writer.writeBool(this.flags.sampleSizePresent),t.writer.writeBool(this.flags.sampleDurationPresent),t.writer.writeUInt(0,5),t.writer.writeBool(this.flags.firstSampleFlagsPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.dataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.dataOffsetPresent&&(n+=4),this.flags.firstSampleFlagsPresent&&(n+=4),this.flags.sampleDurationPresent&&(n+=4*this.samples.length),this.flags.sampleSizePresent&&(n+=4*this.samples.length),this.flags.sampleFlagsPresent&&(n+=4*this.samples.length),this.flags.sampleCompositionTimeOffsetsPresent&&(n+=4*this.samples.length),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32),this.flags.dataOffsetPresent&&n.writer.writeUInt(this.dataOffset,32),this.flags.firstSampleFlagsPresent&&xo(this.firstSampleFlags,n);for(var i=0,e=this.samples;i<e.length;i++){var r=e[i];this.flags.sampleDurationPresent&&n.writer.writeUInt(r.duration,32),this.flags.sampleSizePresent&&n.writer.writeUInt(r.size,32),this.flags.sampleFlagsPresent&&xo(r.flags,n),this.flags.sampleCompositionTimeOffsetsPresent&&(0===this.version?n.writer.writeUInt(r.compositionTimeOffset,32):n.writer.writeInt(r.compositionTimeOffset,32))}}})(Zs),function(t){function n(){return t.call(this,"traf")||this}Vs(n,t)}(_o),function(t){function n(){return t.call(this,"moof")||this}Vs(n,t)}(_o),function(t){function n(n){var i=t.call(this,"mfhd",0,0)||this;return i.sequenceNumber=n,i}Vs(n,t),d.defineProperty(n.prototype,"sequenceNumber",{get:function(){return this.to},set:function(t){if(!Ks(t,32))throw new h("Provided sequence number does not fit in 32 bits.");this.to=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.sequenceNumber,32)}}(Zs);var zo=function(t){function n(n){var i=t.call(this,"frma")||this;return i.codingName=n,i}return Vs(n,t),d.defineProperty(n.prototype,"codingName",{get:function(){return this.io},set:function(t){if(4!==t.length)throw new h("Provided coding name was not 4 characters long.");this.io=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.codingName)},n}(Ys),Wo=(function(t){function n(n,i){var e=t.call(this,"pasp")||this;return e.hSpacing=n,e.vSpacing=i,e}Vs(n,t),d.defineProperty(n.prototype,"hSpacing",{get:function(){return this.eo},set:function(t){if(!Ks(t,32))throw new h("Provided hSpacing does not fit in 32 bits.");this.eo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"vSpacing",{get:function(){return this.ro},set:function(t){if(!Ks(t,32))throw new h("Provided vSpacing does not fit in 32 bits.");this.ro=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.hSpacing,32),t.writer.writeUInt(this.vSpacing,32)}}(Ys),function(t){function n(n,i,e){var r=t.call(this,n)||this;return r.sample=i,r.sinf=e,r}Vs(n,t),n.prototype.getBoxContentSize=function(){return this.sample.getBoxContentSize()+this.sinf.getSize()},n.prototype.serializeBoxContent=function(t){this.sample.serializeBoxContent(t),t.concat(this.sinf.serialize())}}(_o),function(t){function n(n,i,e){var r=t.call(this,"sinf")||this;return r.schm=i,r.schi=e,r.frma=new zo(n),r}Vs(n,t),n.prototype.getBoxContentSize=function(){var t,n,i,e;return this.frma.getSize()+(null!==(n=null===(t=this.schm)||void 0===t?void 0:t.getSize())&&void 0!==n?n:0)+(null!==(e=null===(i=this.schi)||void 0===i?void 0:i.getSize())&&void 0!==e?e:0)},n.prototype.serializeBoxContent=function(t){t.concat(this.frma.serialize()),this.schm&&t.concat(this.schm.serialize()),this.schi&&t.concat(this.schi.serialize())}}(Ys),function(t){function n(n,i,e){var r=t.call(this,"saio",n,void 0===e?0:1)||this;return r.entries=i,r.explicitAuxInfoType=e,r}return Vs(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"entries",{get:function(){return this.ds},set:function(t){var n=this;if(!Ks(t.length,32))throw new h("Number of entries provided does not fit in 32 bits.");if(t.some(function(t){return!Ks(t,n.bitSize)}))throw new h("Not all provided entries fit in "+this.bitSize+" bits.");this.ds=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.uo},set:function(t){if(void 0===t)this.flags=0;else{if(!Ks(t.auxInfoType,32))throw new h("Provided auxInfoType does not fit in 32 bits.");if(!Ks(t.auxInfoTypeParameter,32))throw new h("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.uo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+4+this.entries.length*this.bitSize/8},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeUInt(this.entries.length,32),this.serializeSaioContent(n)},n}(Zs)),jo=(function(t){function n(){return null!==t&&t.apply(this,arguments)||this}Vs(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var e=i[n];t.writer.writeUInt(e,32)}}}(Wo),function(t){function n(){return null!==t&&t.apply(this,arguments)||this}Vs(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var e=i[n];t.writer.writeUInt(e.getHighBitsUnsigned(),32),t.writer.writeUInt(e.getLowBitsUnsigned(),32)}}}(Wo),function(t){function n(n,i,e){var r=t.call(this,"saiz",0,void 0===e?0:1)||this;return r.defaultSampleInfoSize=n,r.sampleInfoSizes=i,r.explicitAuxInfoType=e,r}Vs(n,t),d.defineProperty(n.prototype,"defaultSampleInfoSize",{get:function(){return this.so},set:function(t){if(!Ks(t,8))throw new h("Provided defaultSampleInfoSize does not fit in a single byte.");this.so=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"sampleInfoSizes",{get:function(){return this.oo},set:function(t){if(!Ks(t.length,32))throw new h("Number of sampleInfoSizes provided does not fit in 32 bits.");if(t.some(function(t){return!Ks(t,8)}))throw new h("Not all provided sampleInfoSizes fit in a byte.");this.oo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.uo},set:function(t){if(void 0===t)this.flags=0;else{if(!Ks(t.auxInfoType,32))throw new h("Provided auxInfoType does not fit in 32 bits.");if(!Ks(t.auxInfoTypeParameter,32))throw new h("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.uo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+1+4+(0===this.defaultSampleInfoSize?0:this.sampleInfoSizes.length)},n.prototype.serializeBoxContent=function(n){if(0===this.defaultSampleInfoSize&&this.sampleInfoSizes.length>0)throw new h("Both a default size and specific sizes are provided.  This is prohibited.");t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeByte(this.defaultSampleInfoSize),n.writer.writeUInt(this.sampleInfoSizes.length,32);for(var i=0,e=this.sampleInfoSizes;i<e.length;i++){var r=e[i];n.writer.writeByte(r)}}}(Zs),function(t){function n(n){var i=t.call(this,"sdtp",0,0)||this;return i.samples=n,i}Vs(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.samples.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n);for(var i=0,e=this.samples;i<e.length;i++){Po(e[i],n)}}}(Zs),function(t){function n(n){return t.call(this,"stsd",n,0)||this}Vs(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(So),function(t){function n(n,i,e){var r=t.call(this,"sgpd",n,0)||this;return r.entries=e,r.groupingType=i,r}return Vs(n,t),d.defineProperty(n.prototype,"groupingType",{get:function(){return this.co},set:function(t){if(4!==t.length)throw new h("The provided groupingType does not equal 4 characters.");this.co=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.groupingType),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];this.serializeEntryBoxContent(n,r)}},n.prototype.serializeEntryBoxContent=function(t,n){n.serializeBoxContent(t)},n}(Zs)),$o=(function(t){function n(n,i){return t.call(this,0,n,i)||this}Vs(n,t),n.prototype.serializeVersionBoxContent=function(t){}}(jo),function(t){function n(n,i,e){var r=t.call(this,1,n,e)||this;return r.defaultLength=i,r}Vs(n,t),d.defineProperty(n.prototype,"defaultLength",{get:function(){return this.ao},set:function(t){if(!Ks(t,32))throw new h("The provided defaultLength does not fit in 32 bits.");this.ao=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(this.defaultLength||4)},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultLength,32)},n.prototype.serializeEntryBoxContent=function(t,n){0===this.defaultLength&&t.writer.writeUInt(n.getBoxContentSize(),32),n.serializeBoxContent(t)}}(jo),function(t){function n(n,i,e,r){void 0===r&&(r=0);var u=this;if(n<2)throw new h("This constructor is only meant for versions 2 and up.");return(u=t.call(this,n,i,e)||this).defaultSampleDescriptionIndex=r,u}Vs(n,t),d.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.Bs},set:function(t){if(!Ks(t,32))throw new h("The provided defaultSampleDescriptionIndex does not fit in 32 bits.");this.Bs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultSampleDescriptionIndex,32)}}(jo),function(t){function n(n){void 0===n&&(n=[]);var i=t.call(this,"stsz",0,0)||this;return i.sampleSizes=n,i}Vs(n,t),d.defineProperty(n.prototype,"sampleSizes",{get:function(){return this.ho},set:function(t){if(!Ks(t.length,32))throw new h("Number of allowed samples cannot fit in 32 bits.");if(t.some(function(t){return!Ks(t,32)}))throw new h("Not all sampleSizes can be represented in 32 bits.");this.ho=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+4*this.sampleSizes.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(this.sampleSizes.length,32);for(var i=0,e=this.sampleSizes;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(Zs),function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=0);var e=t.call(this,"stsz",0,0)||this;return e.defaultSampleSize=n,e.samples=i,e}Vs(n,t),d.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Ms},set:function(t){if(!Ks(t,32))throw new h("Provided defaultSampleSize does not fit in 32 bits.");this.Ms=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"samples",{get:function(){return this.Zs},set:function(t){if(!Ks(t,32))throw new h("Number of allowed samples cannot fit in 32 bits.");this.Zs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.defaultSampleSize,32),n.writer.writeUInt(this.samples,32)}}(Zs),function(t){function n(){return t.call(this,"stbl")||this}Vs(n,t)}(_o),function(t){function n(n){var i=t.call(this,"stsc",0,0)||this;return i.entries=n,i}Vs(n,t),d.defineProperty(n.prototype,"entries",{get:function(){return this.ds},set:function(t){if(!Ks(t.length,32))throw new h("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!Ks(t.firstChunk,32)||!Ks(t.sampleDescriptionIndex,32)||!Ks(t.samplesPerChunk,32)}))throw new h("Not all entries can be represented in 96 bits.");this.ds=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+12*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.firstChunk,32),n.writer.writeUInt(r.samplesPerChunk,32),n.writer.writeUInt(r.sampleDescriptionIndex,32)}}}(Zs),function(t){function n(){return t.call(this,"schi")||this}Vs(n,t)}(_o),function(t){function n(n,i,e){var r=t.call(this,"schm",0,void 0===e?0:1)||this;return r.schemeType=n,r.schemeVersion=i,r.schemeUri=e,r}Vs(n,t),d.defineProperty(n.prototype,"schemeType",{get:function(){return this.fo},set:function(t){if(4!==t.length)throw new h("The provided schemeType does not have a length of 4.");this.fo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"schemeVersion",{get:function(){return this.do},set:function(t){if(!Ks(t,32))throw new h("The provided schemeVersion does not fit in 23 bits.");this.do=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"schemeUri",{get:function(){return this.vo},set:function(t){if(t&&4!==t.length)throw new h("The provided schemeUri does not have a length of 4.");this.flags=void 0===t?0:1,this.vo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+(void 0===this.schemeUri?0:this.schemeUri.length+1)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeType),n.writer.writeUInt(this.schemeVersion,32),this.schemeUri&&(n.writer.writeString(this.schemeUri),n.writer.writeByte(0))}}(Zs),function(t){function n(n,i,e,r,u,s,o){void 0===o&&(o=0);var c=t.call(this,"sidx",n,o)||this;return c.referenceId=i,c.timescale=e,c.earliestPresentationTime=r,c.firstOffset=u,c.references=s,c}return Vs(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"referenceId",{get:function(){return this.lo},set:function(t){if(!Ks(t,32))throw new h("Provided referenceId does not fit in 32 bits.");this.lo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"timescale",{get:function(){return this.Ns},set:function(t){if(!Ks(t,32))throw new h("Provided timescale does not fit in 32 bits.");this.Ns=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"earliestPresentationTime",{get:function(){return this.wo},set:function(t){if(!Ks(t,this.bitSize))throw new h("Provided earliestPresentationTime does not fit in "+this.bitSize+" bits.");this.wo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"firstOffset",{get:function(){return this.yo},set:function(t){if(!Ks(t,this.bitSize))throw new h("Provided timescale does not fit in "+this.bitSize+" bits.");this.yo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"references",{get:function(){return this.mo},set:function(t){if(!Ks(t.length,16))throw new h("The number of provided reference items does not fit in 16 bits.");for(var n=0,i=t;n<i.length;n++){var e=i[n];if(!Ks(e.referencedSize,31))throw new h("Provided referenced size does not fit in 31 bits.");if(!Ks(e.subsegmentDuration,32))throw new h("Provided subsegment duration does not fit in 31 bits.");if(!Ks(e.sapType,3))throw new h("Provided SAP type does not fit in 3 bits.");if(!Ks(e.sapDeltaTime,28))throw new h("Provided SAP delta time does not fit in 28 bits.")}this.mo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+this.bitSize/8*2+2+2+12*this.references.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.referenceId,32),n.writer.writeUInt(this.timescale,32),this.serializeSidxBoxContent(n),n.writer.writeUInt(0,16),n.writer.writeUInt(this.references.length,16);for(var i=0,e=this.references;i<e.length;i++){var r=e[i];n.writer.writeBit(r.referenceType),n.writer.writeUInt(r.referencedSize,31),n.writer.writeUInt(r.subsegmentDuration,32),n.writer.writeBool(r.startsWithSap),n.writer.writeUInt(r.sapType,3),n.writer.writeUInt(r.sapDeltaTime,28)}},n}(Zs)),Xo=(function(t){function n(n,i,e,r,u,s){return void 0===s&&(s=0),t.call(this,0,n,i,e,r,u,s)||this}Vs(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime,32),t.writer.writeUInt(this.firstOffset,32)}}($o),function(t){function n(n,i,e,r,u,s){return void 0===s&&(s=0),t.call(this,1,n,i,e,r,u,s)||this}Vs(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.earliestPresentationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getHighBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getLowBitsUnsigned(),32)}}($o),function(t){function n(n,i,e){return t.call(this,"styp",n,i,e)||this}Vs(n,t)}(Io),function(t){function n(n){void 0===n&&(n=0);var i=t.call(this,"smhd",0,0)||this;return i.balance=n,i}Vs(n,t),d.defineProperty(n.prototype,"balance",{get:function(){return this.po},set:function(t){if(t<-1||t>1)throw new h("Provided balance does not fit in the allowed range [-1, 1].");if(!Ks(Js(t,8),16))throw new h("Provided balance does not fit in 16 bits (fixed 8.8).");this.po=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(Js(this.balance,8),16),n.writer.writeUInt(0,16)}}(Zs),function(t){function n(n){var i=t.call(this,"stss",0,0)||this;return i.entries=n,i}Vs(n,t),d.defineProperty(n.prototype,"entries",{get:function(){return this.ds},set:function(t){if(!Ks(t.length,32))throw new h("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!Ks(t,32)}))throw new h("Not all entries can be represented in 32 bits.");this.ds=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(Zs),function(t){function n(n){var i=t.call(this,"stts",0,0)||this;return i.entries=n,i}Vs(n,t),d.defineProperty(n.prototype,"entries",{get:function(){return this.ds},set:function(t){if(!Ks(t.length,32))throw new h("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!Ks(t.sampleCount,32)||!Ks(t.sampleDelta,32)}))throw new h("Not all entries can be represented in 64 bits.");this.ds=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.sampleCount,32),n.writer.writeUInt(r.sampleDelta,32)}}}(Zs),function(t){function n(n){var i=t.call(this,"trep",0,0)||this;return i.trackId=n,i}Vs(n,t),d.defineProperty(n.prototype,"trackId",{get:function(){return this.Ls},set:function(t){if(!Ks(t,32))throw new h("The provided trackId does not fit in 32 bits.");this.Ls=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32)}}(So),function(t){function n(){return t.call(this,"udta")||this}Vs(n,t)}(_o),{red:0,green:0,blue:0}),Go=(function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=Xo);var e=t.call(this,"vmhd",0,1)||this;return e.graphicsMode=n,e.opColor=i,e}Vs(n,t),d.defineProperty(n.prototype,"opColor",{get:function(){return this.bo},set:function(t){if(!Ks(t.red,16)||!Ks(t.green,16)||!Ks(t.blue,16))throw new h("Not all colors could be represented in 16 bits.");this.bo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+6},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.graphicsMode,16),n.writer.writeUInt(this.opColor.red,16),n.writer.writeUInt(this.opColor.green,16),n.writer.writeUInt(this.opColor.blue,16)}}(Zs),function(t){function n(n,i,e,r,u){var s,o,c,a,h;void 0===r&&(r={});var f=t.call(this,n,i)||this;return f.extra=u,f.width=e.width,f.height=e.height,f.horizontalResolution=null!==(s=e.horizontal)&&void 0!==s?s:72,f.verticalResolution=null!==(o=e.vertical)&&void 0!==o?o:72,f.compressorName=null!==(c=r.compressorName)&&void 0!==c?c:"",f.frameCount=null!==(a=r.frameCount)&&void 0!==a?a:1,f.depth=null!==(h=r.depth)&&void 0!==h?h:24,f.clap=r.clap,f.pasp=r.pasp,f}return Vs(n,t),d.defineProperty(n.prototype,"width",{get:function(){return this.Ws},set:function(t){if(!Ks(t,16))throw new h("Provided width does not fit in 16 bits.");this.Ws=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"height",{get:function(){return this.js},set:function(t){if(!Ks(t,16))throw new h("Provided height does not fit in 16 bits.");this.js=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"horizontalResolution",{get:function(){return this._o},set:function(t){if(!Ks(Js(t,16),32))throw new h("Provided horizontalResolution does not fit in 32 bits (fixed 16.16).");this._o=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"verticalResolution",{get:function(){return this.ko},set:function(t){if(!Ks(Js(t,16),32))throw new h("Provided verticalResolution does not fit in 32 bits (fixed 16.16).");this.ko=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"compressorName",{get:function(){return this.To},set:function(t){if(t.length>31)throw new h("The provided compressorName should at most be 31 characters long.");this.To=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"frameCount",{get:function(){return this.So},set:function(t){if(!Ks(t,16))throw new h("Provided frameCount does not fit in 16 bits.");this.So=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"depth",{get:function(){return this.Eo},set:function(t){if(!Ks(t,16))throw new h("Provided depth does not fit in 16 bits.");this.Eo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i,e,r,u,s;return t.prototype.getBoxContentSize.call(this)+2+2+12+2+2+4+4+4+2+32+2+2+(null!==(i=null===(n=this.clap)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)+(null!==(r=null===(e=this.pasp)||void 0===e?void 0:e.getSize())&&void 0!==r?r:0)+(null!==(s=null===(u=this.extra)||void 0===u?void 0:u.length)&&void 0!==s?s:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.width,16),n.writer.writeUInt(this.height,16),n.writer.writeUInt(Js(this.horizontalResolution,16),32),n.writer.writeUInt(Js(this.verticalResolution,16),32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.frameCount,16),n.writer.writeByte(this.compressorName.length),n.writer.writeString(this.compressorName);for(var i=0;i<31-this.compressorName.length;i++)n.writer.writeByte(0);n.writer.writeUInt(this.depth,16),n.writer.writeInt(-1,16),this.clap&&n.concat(this.clap.serialize()),this.pasp&&n.concat(this.pasp.serialize()),this.extra&&Qs(n.writer,this.extra)},n}(ko)),Yo=(function(t){function n(n){var i=t.call(this,"esds",0,0)||this;return i.esDescriptor=n,i}Vs(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(this.esDescriptor instanceof y?this.esDescriptor.length:this.esDescriptor.getSize())},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor instanceof y?n.concat($s.from(this.esDescriptor)):this.esDescriptor.serialize(n)}}(Zs),function(t){function n(n,i,e){var r=t.call(this,"mp4a",n,e)||this;return r.esd=i,r}Vs(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esd.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.esd.serialize())}}(To),function(t){function n(n,i,e,r){void 0===r&&(r={});var u=t.call(this,"mp4v",n,i,r)||this;return u.esDescriptor=e,u}Vs(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(Go),function(t){function n(n,i){var e=t.call(this,"mp4s",n)||this;return e.esDescriptor=i,e}Vs(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(ko),function(t){function n(n){var i=t.call(this,"avcC")||this;return i.decoderConfig=n,i}Vs(n,t),n.prototype.getBoxContentSize=function(){return this.decoderConfig.getSize()},n.prototype.serializeBoxContent=function(t){this.decoderConfig.serialize(t)}}(Ys),function(){function t(t,n,i,e,r,u){void 0===u&&(u=1),this.lengthSizeMinusOne=i,this.version=u,this.profileIndication=t.indication,this.profileCompatibility=t.compatibility,this.levelIndication=n,this.spsSets=e,this.ppsSets=r}d.defineProperty(t.prototype,"version",{get:function(){return this.Io},set:function(t){if(!Ks(t,8))throw new h("Provided version does not fit in 8 bits.");this.Io=t},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"profileIndication",{get:function(){return this.Ro},set:function(t){if(!Ks(t,8))throw new h("Provided profileIndication does not fit in 8 bits.");this.Ro=t},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"profileCompatibility",{get:function(){return this.Do},set:function(t){if(!Ks(t,8))throw new h("Provided profileCompatibility does not fit in 8 bits.");this.Do=t},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"levelIndication",{get:function(){return this.No},set:function(t){if(!Ks(t,8))throw new h("Provided levelIndication does not fit in 8 bits.");this.No=t},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"spsSets",{get:function(){return this.Co},set:function(t){if(!Ks(t.length,5))throw new h("Provided number of spsSets exceeds the max (32)");this.Co=t},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"ppsSets",{get:function(){return this.Oo},set:function(t){if(!Ks(t.length,8))throw new h("Provided number of ppsSets exceeds the max (256)");this.Oo=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return 7+2*this.spsSets.length+this.spsSets.reduce(function(t,n){return t+n.length},0)+2*this.ppsSets.length+this.ppsSets.reduce(function(t,n){return t+n.length},0)},t.prototype.serialize=function(t){t.writer.writeByte(this.version),t.writer.writeByte(this.profileIndication),t.writer.writeByte(this.profileCompatibility),t.writer.writeByte(this.levelIndication),t.writer.writeBits([1,1,1,1,1,1]),t.writer.writeUInt(this.lengthSizeMinusOne,2),t.writer.writeBits([1,1,1]),t.writer.writeUInt(this.spsSets.length,5);for(var n=0,i=this.spsSets;n<i.length;n++){var e=i[n];t.writer.writeUInt(e.length,16),t.concat($s.from(e))}t.writer.writeByte(this.ppsSets.length);for(var r=0,u=this.ppsSets;r<u.length;r++){var s=u[r];t.writer.writeUInt(s.length,16),t.concat($s.from(s))}}}(),function(t){function n(n,i,e,r,u){void 0===r&&(r={});var s=t.call(this,"avc1",n,i,r)||this;return s.configurationBox=e,s.bitrateBox=u,s}Vs(n,t),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+this.configurationBox.getSize()+(null!==(i=null===(n=this.bitrateBox)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.configurationBox.serialize()),this.bitrateBox&&n.concat(this.bitrateBox.serialize())}}(Go),function(t){function n(n,i,e){var r=t.call(this,"btrt")||this;return r.bufferSizeDb=n,r.max=i,r.avg=e,r}Vs(n,t),d.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.Zu},set:function(t){if(!Ks(t,32))throw new h("Provided bufferSizeDb does not fit in 32 bits.");this.Zu=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"max",{get:function(){return this.Ao},set:function(t){if(!Ks(t,32))throw new h("Provided max does not fit in 32 bits.");this.Ao=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"avg",{get:function(){return this.Po},set:function(t){if(!Ks(t,32))throw new h("Provided avg does not fit in 32 bits.");this.Po=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 12},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.bufferSizeDb,32),t.writer.writeUInt(this.max,32),t.writer.writeUInt(this.avg,32)}}(Ys),function(t){function n(n,i){var e,r,u,s,o=t.call(this,"tenc",n,0)||this;if(i.perSampleIvSize>0&&(null!==(r=null===(e=i.constantIv)||void 0===e?void 0:e.length)&&void 0!==r?r:0)>0)throw new h("Either perSampleSize should be > 0 or constantIv should be defined. Not both.");return o.kId=i.kId,o.isProtected=null!==(u=i.isProtected)&&void 0!==u?u:1,i.perSampleIvSize>0?o.perSampleIvSize=i.perSampleIvSize:o.constantIv=null!==(s=i.constantIv)&&void 0!==s?s:new y(0),o}return Vs(n,t),d.defineProperty(n.prototype,"isProtected",{get:function(){return this.xo},set:function(t){if(!Ks(t,8))throw new h("Provided isProtected does not fit in 1 byte.");this.xo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"perSampleIvSize",{get:function(){return this.Lo},set:function(t){if(![8,16].includes(t))throw new h("Provided perSampleIvSize does not match any allowed value [8, 16].");this.Lo=t,this.Bo=new y(0)},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"kId",{get:function(){return this.Fo},set:function(t){if(16!==t.length)throw new h("Provided kId length is not 16.");this.Fo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"constantIv",{get:function(){return this.Bo},set:function(t){if(![8,16].includes(t.length))throw new h("Provided constant IV length does not match any allowed value [8, 16].");this.Bo=t,this.Lo=0},enumerable:!1,configurable:!0}),n.prototype.getTencHeaderSize=function(){return 20+(this.constantIv.length>0?1+this.constantIv.length:0)},n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.getTencHeaderSize()},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeByte(0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeOwnContent(n)},n.prototype.serializeOwnContent=function(t){t.writer.writeByte(0),this.serializeVersionBoxContent(t),t.writer.writeByte(this.isProtected),t.writer.writeByte(this.perSampleIvSize),Qs(t.writer,this.kId),0===this.perSampleIvSize&&(t.writer.writeByte(this.constantIv.length),Qs(t.writer,this.constantIv))},n}(Zs)),Ko=(function(t){function n(n){return t.call(this,0,n)||this}Vs(n,t)}(Yo),function(t){function n(n){var i=t.call(this,1,n)||this;return i.cryptByteBlocks=n.cryptByteBlock,i.skipByteBlocks=n.skipByteBlock,i}return Vs(n,t),d.defineProperty(n.prototype,"cryptByteBlocks",{get:function(){return this.Mo},set:function(t){if(!Ks(t,4))throw new h("Provided cryptByteBlocks does not fit in 4 bits.");this.Mo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"skipByteBlocks",{get:function(){return this.Uo},set:function(t){if(!Ks(t,4))throw new h("Provided skipByteBlocks does not fit in 4 bits.");this.Uo=t},enumerable:!1,configurable:!0}),n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.cryptByteBlocks,4),t.writer.writeUInt(this.skipByteBlocks,4)},n}(Yo));!function(t){function n(n){var i=t.call(this)||this;return i.tencBox=new Ko(n),i}Vs(n,t),n.prototype.serializeBoxContent=function(t){this.tencBox.serializeOwnContent(t)},n.prototype.getBoxContentSize=function(){return this.tencBox.getTencHeaderSize()}}(Lo);function Jo(t){return void 0!==t.iv}function Qo(t){return void 0!==t.subsamples}(function(t){function n(n){var i=t.call(this,"senc",0,{useSubsampleEncryption:!1})||this;return i.samples=n,i}Vs(n,t),d.defineProperty(n.prototype,"samples",{get:function(){return this.Zs},set:function(t){var n;if(!Ks(t.length,32))throw new h("The number of samples provided does not fit in 32 bits.");for(var i=0,e=t;i<e.length;i++){var r=e[i];if(Jo(r)&&![8,16].includes(r.iv.length))throw new h("IV of one of the provided samples did not satisfy the required length constraints. [8, 16]");if(void 0===n&&(n=Qo(r)),!0===n&&!Qo(r)||!1===n&&Qo(r))throw new h("Mix of samples with and without subsamples detected.");if(Qo(r)){if(!Ks(r.subsamples.length,16))throw new h("Subsample length of one of the provided samples does not fit in 16 bits.");for(var u=0,s=r.subsamples;u<s.length;u++){var o=s[u];if(!Ks(o.clearData,16))throw new h("Subsample clearData of one of the provided samples does not fit in 16 bits.");if(!Ks(o.protectedData,23))throw new h("Subsample protectedData of one of the provided samples does not fit in 23 bits.")}}}this.flags.useSubsampleEncryption=null!=n&&n,this.Zs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){for(var n=0,i=0,e=this.samples;i<e.length;i++){var r=e[i];Jo(r)&&(n+=r.iv.length),Qo(r)&&(n+=2+6*r.subsamples.length)}return t.prototype.getBoxContentSize.call(this)+4+n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32);for(var i=0,e=this.samples;i<e.length;i++){var r=e[i];if(Jo(r)&&Qs(n.writer,r.iv),Qo(r)){n.writer.writeUInt(r.subsamples.length,16);for(var u=0,s=r.subsamples;u<s.length;u++){var o=s[u];n.writer.writeUInt(o.clearData,16),n.writer.writeUInt(o.protectedData,32)}}}},n.prototype.serializeFlags=function(t){t.writer.writeUInt(this.flags.useSubsampleEncryption?2:0,24)}})(Zs),function(t){function n(n,i,e,r,u){var s=t.call(this,"emsg",0,0)||this;return s.schemeIdUri=n,s.value=i,s.data=u,s.id=e,s.timescale=r.timescale,s.presentationTimeDelta=r.presentationTimeDelta,s.eventDuration=r.eventDuration,s}Vs(n,t),d.defineProperty(n.prototype,"timescale",{get:function(){return this.Ns},set:function(t){if(!Ks(t,32))throw new h("The provided timescale does not fit in 32 bits.");this.Ns=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"presentationTimeDelta",{get:function(){return this.Vo},set:function(t){if(!Ks(t,32))throw new h("The provided presentationTimeDelta does not fit in 32 bits.");this.Vo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"eventDuration",{get:function(){return this.qo},set:function(t){if(!Ks(t,32))throw new h("The provided eventDuration does not fit in 32 bits.");this.qo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"id",{get:function(){return this.Ho},set:function(t){if(!Ks(t,32))throw new h("The provided id does not fit in 32 bits.");this.Ho=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.schemeIdUri.length+1+this.value.length+1+16+this.data.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeIdUri),n.writer.writeByte(0),n.writer.writeString(this.value),n.writer.writeByte(0),n.writer.writeUInt(this.timescale,32),n.writer.writeUInt(this.presentationTimeDelta,32),n.writer.writeUInt(this.eventDuration,32),n.writer.writeUInt(this.id,32),n.concat($s.from(this.data))}}(Zs);var Zo,tc,nc=(Zo="pssh",tc=function(t){var n=t.data.nextUint8();t.data.skip(3);var i=t.data.nextUint8Array(16),e=[];if(1===n)for(var r=t.data.nextUint32(),u=0;u<r;u++)e.push(t.data.nextUint8Array(16));var s=t.data.nextUint32(),o=t.data.nextUint8Array(s);return 1===n?new Mo(i,o,e):new Fo(i,o)},function(t){var n,i=function(t,n){for(var i=t.data,e=t.cursor;e.offset<i.byteLength;){var r=yo(i,e);if(!r.complete)return;if(wo(r.box,n))return r.box}}(new lo((n=t,new DataView(n.buffer,n.byteOffset,n.byteLength)),new vo),Zo);if(!i)throw new h(Zo+" box not found");return tc(i)}),ic=function(t){function n(n,i){var e;(e=t.call(this)||this).zo=void 0,e.Wo=!1,e.jo=void 0,e.$o=void 0,e.Xo=function(){e.Go()},e.Yo=function(t){e.$r(new Du(Nn(e),t.messageType,Bs(e.Ko,t.message)))},e.Jo=function(){e.Wo=!0,e.zo.pu>0&&(e.zo.mu(),e.$r(new Ru(Nn(e)))),e.Qo.removeEventListener("keystatuseschange",e.Xo),e.Qo.removeEventListener("message",e.Yo)},e.Qo=n,e.Ko=i,e.Qo.addEventListener("keystatuseschange",e.Xo),e.Qo.addEventListener("message",e.Yo),e.zo=new Au;var r=[];return e.Qo.closed&&r.push(j.resolve(e.Qo.closed)),e.$o=new Ps,r.push(e.$o.Du),e.jo=j.race(r).then(e.Jo,e.Jo),e.Go(),e}dt(n,t);var i=n.prototype;return i.Zo=function(){if(this.Wo)return this.jo;var t,n,i=[];return i.push(j.resolve(this.Qo.close())),i.push((t=1e3,new j(function(i,e){if(void 0!==n&&n.Rr)e(new cu);else{var r=st.Re(function(){void 0!==n&&n.xr(u),i()},t),u=function(){st.Ne(r),e(new cu)};void 0!==n&&n.Pr(u)}}))),this.$o.Ou(j.race(i).catch(ec)),this.Wo=!0,this.jo},i.tc=function(t,n,i){if(St._n){var e=nc(Ns(n));if(1===e.version)n=new Fo(e.systemId,e.data).serialize().join()}return j.resolve(this.Qo.generateRequest(t,n)).catch(ec)},i.nc=function(t){return j.resolve(this.Qo.load(t)).catch(ec)},i.ic=function(){return j.resolve(this.Qo.remove()).catch(ec)},i.ec=function(t){return j.resolve(this.Qo.update(t)).catch(ec)},i.Go=function(){var t=this;this.zo.mu(),this.Qo.keyStatuses.forEach(function(n,i){t.rc(i,n)}),this.$r(new Ru(this))},i.rc=function(t,n){if("string"==typeof t){var i=t;t=n,n=i}var e=Ns(t);if(this.Ko===Dr&&16===e.byteLength){var r=Is(e),u=r.getUint32(0,!0),s=r.getUint16(4,!0),o=r.getUint16(6,!0);r.setUint32(0,u,!1),r.setUint16(4,s,!1),r.setUint16(6,o,!1)}this.Ko===Dr&&"status-pending"===n&&(n="usable"),this.zo.yu(e,n)},ht(n,[{key:"uc",get:function(){return this.jo}},{key:"sc",get:function(){return this.Qo.expiration}},{key:"oc",get:function(){return this.zo}},{key:"cc",get:function(){return this.Qo.sessionId}}]),n}(ku);function ec(t){var n;if(t.message){var i=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);i&&(n=0|l(i[1],16))}throw new Ms(t.message,void 0,n,t)}var rc=function(){function t(t,n,i){this.ac=t,this.hc=n,this.fc=i}var n=t.prototype;return n.dc=function(t){return vr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new ic(this.ac.createSession(t),this.hc));case 1:case"end":return n.stop()}},null,this,null,j)},n.vc=function(t){return j.resolve(this.ac.setServerCertificate(t))},n.lc=function(t){return j.resolve(t.setMediaKeys(this.ac))},n.wc=function(t){return j.resolve(t.setMediaKeys(null))},t}(),uc=function(){function t(t,n,i){this.gc=t,this.Ko=n,this.yc=i}var n=t.prototype;return n.mc=function(){var t;return vr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,vr.awrap(this.gc.createMediaKeys());case 2:return t=n.sent,n.abrupt("return",new rc(t,this.Ko,this.yc));case 4:case"end":return n.stop()}},null,this,null,j)},n.pc=function(){return this.yc},ht(t,[{key:"hc",get:function(){return this.gc.keySystem}}]),t}();function sc(t){var n=t.trim(),i=n.indexOf(";");return i<0?n:n.substr(0,i).trim()}function oc(t,n,i,e){var r=!1;if(!(e.persistentState&&"optional"!==e.persistentState||e.distinctiveIdentifier&&"optional"!==e.distinctiveIdentifier)){var u={audioCapabilities:[],videoCapabilities:[],persistentState:e.persistentState||"optional",distinctiveIdentifier:e.distinctiveIdentifier||"optional",initDataTypes:e.initDataTypes,sessionTypes:["temporary"],label:e.label,bc:e.bc},s=!1;if(e.audioCapabilities){var o=e.audioCapabilities.filter(function(t){return Boolean(t.contentType)});o.length&&(u.audioCapabilities=o.filter(function(e){return cc(t,n,i,e)}),s=!0,u.audioCapabilities.length&&(r=!0))}if(e.videoCapabilities){var c=e.videoCapabilities.filter(function(t){return Boolean(t.contentType)});c.length&&(u.videoCapabilities=c.filter(function(e){return cc(t,n,i,e)}),s=!0,u.videoCapabilities.length&&(r=!0))}return s||(r=t(i,"video/mp4")),r?u:void 0}}function cc(t,n,i,e){return!!e.contentType&&(!(e.encryptionScheme&&!ru(n,e.encryptionScheme))&&(!e.robustness&&t(i,sc(e.contentType))))}function ac(t){if(t.videoCapabilities)for(var n=0,i=t.videoCapabilities;n<i.length;n++){var e=i[n];if(e.contentType)return e.contentType}if(t.audioCapabilities)for(var r=0,u=t.audioCapabilities;r<u.length;r++){var s=u[r];if(s.contentType)return s.contentType}}function hc(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e.encryptionScheme&&n.push({contentType:e.contentType,robustness:e.robustness})}return t.concat(n)}function fc(t){return!(!t.audioCapabilities||!t.audioCapabilities.some(dc))||!(!t.videoCapabilities||!t.videoCapabilities.some(dc))}function dc(t){return!t.robustness}function vc(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];r.robustness?i.push(r):i.push(lr({},r,{robustness:n}))}return i}var lc=function(){function t(){}return t.prototype.kr=function(t,n){var i,e,r,s,o,c,a,h;return vr.async(function(f){for(;;)switch(f.prev=f.next){case 0:for(n=n.filter(function(t){return!t.bc}),i=0,e=n;i<e.length;i++)(r=e[i]).audioCapabilities&&(r.audioCapabilities=hc(r.audioCapabilities)),r.videoCapabilities&&(r.videoCapabilities=hc(r.videoCapabilities));if("com.widevine.alpha"!==t||!n.some(fc)){f.next=14;break}return s=n.map(function(t){return i="SW_SECURE_CRYPTO",lr({},n=t,{videoCapabilities:n.videoCapabilities?vc(n.videoCapabilities,i):void 0,audioCapabilities:n.audioCapabilities?vc(n.audioCapabilities,i):void 0});var n,i}),f.prev=4,f.next=7,vr.awrap(u.requestMediaKeySystemAccess(t,s));case 7:return o=f.sent,c=o.getConfiguration(),f.abrupt("return",new uc(o,t,c));case 12:f.prev=12,f.t0=f.catch(4);case 14:return f.next=16,vr.awrap(u.requestMediaKeySystemAccess(t,n));case 16:return a=f.sent,h=a.getConfiguration(),f.abrupt("return",new uc(a,t,h));case 19:case"end":return f.stop()}},null,null,[[4,12]],j)},t._c=function(){return void 0!==u&&"function"==typeof u.requestMediaKeySystemAccess},t}(),wc=function(t){function n(n,i){var e;return(e=t.call(this)||this).Wo=!1,e.kc=void 0,e.Tc=void 0,e.Sc=void 0,e.Ec=void 0,e.Ic=void 0,e.Jo=function(){e.Wo=!0,e.kc.Ou(void 0),e.Ic&&(e.Ic.removeEventListener("mskeyclose",e.Jo),e.Ic.removeEventListener("mskeymessage",e.Rc),e.Ic.removeEventListener("mskeyerror",e.Dc),e.Ic.removeEventListener("mskeyadded",e.Nc))},e.Rc=function(t){e.Sc&&(e.Sc.Ou(void 0),e.Sc=void 0),e.$r(new Du(Nn(e),"license-request",Os(t.message).buffer,t.destinationURL||void 0))},e.Dc=function(){var t=e.Ic&&e.Ic.error;if(t){var n=new Ms("Unknown CDM error",t.code,t.systemCode);if(e.Sc)e.Sc.Au(n),e.Sc=void 0;else if(e.Tc)e.Tc.Au(n),e.Tc=void 0;else switch(n.Pu){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:e.Cc("output-not-allowed");break;default:e.Cc("internal-error")}}},e.Nc=function(){e.Sc&&(e.Cc("usable"),e.Sc.Ou(void 0),e.Sc=void 0),e.Tc&&(e.Cc("usable"),e.Tc.Ou(void 0),e.Tc=void 0)},e.Oc=n,e.Ac=i,e.kc=new Ps,e.Ec=new Au,e}dt(n,t);var i=n.prototype;return i.tc=function(t,n,i){return vr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Pc(),this.Sc=new Ps,this.dc(Ns(n),i),t.next=5,vr.awrap(this.Sc.Du);case 5:case"end":return t.stop()}},null,this,null,j)},i.dc=function(t,n){if(!t)throw new f("Expected initData to be defined but was "+t+".");var i,e=n&&n.playready&&n.playready.xc;return(i=n?this.Oc.createSession(this.Ac,t,e):this.Oc.createSession(this.Ac,t)).addEventListener("mskeyclose",this.Jo),i.addEventListener("mskeymessage",this.Rc),i.addEventListener("mskeyerror",this.Dc),i.addEventListener("mskeyadded",this.Nc),this.Ic=i,this.Cc("status-pending"),i},i.nc=function(t){return vr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Pc(),t.abrupt("return",!0);case 2:case"end":return t.stop()}},null,this,null,j)},i.ec=function(t){var n;return vr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.Tc=new Ps,this.Pc(),this.Ic){i.next=4;break}return i.abrupt("return",j.resolve());case 4:if(0!==(n=Ns(t)).byteLength){i.next=7;break}throw new f("Cannot call update with an empty response.");case 7:return this.Ic.update(n),i.next=10,vr.awrap(this.Tc.Du);case 10:case"end":return i.stop()}},null,this,null,j)},i.Zo=function(){return!this.Wo&&this.Ic&&(this.Wo=!0,this.Ic.close()),this.kc.Du},i.ic=function(){return vr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Pc(),t.abrupt("return");case 2:case"end":return t.stop()}},null,this,null,j)},i.Pc=function(){if(this.Wo)throw new f("Already closing or closed.")},i.Cc=function(t){this.Ec.mu(),this.Ec.yu(Ou,t),this.$r(new Ru(this))},ht(n,[{key:"cc",get:function(){return this.Ic&&this.Ic.sessionId||""}},{key:"sc",get:function(){return NaN}},{key:"uc",get:function(){return this.kc.Du}},{key:"oc",get:function(){return this.Ec}}]),n}(ku),gc=function(){function t(t,n,i){this.Ac=void 0,this.Oc=t,this.hc=n,this.fc=i;var e=ac(i)||"video/mp4";this.Ac=sc(e)}var n=t.prototype;return n.dc=function(t){return vr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new wc(this.Oc,this.Ac));case 1:case"end":return t.stop()}},null,this,null,j)},n.vc=function(t){return j.resolve(!1)},n.lc=function(t){var n=this;return t.readyState>=1?t.msSetMediaKeys(this.Oc):t.addEventListener("loadedmetadata",function i(){t.msSetMediaKeys(n.Oc),t.removeEventListener("loadedmetadata",i)}),j.resolve()},n.wc=function(t){return j.resolve()},t}(),yc=function(){function t(t,n){this.Ko=t,this.Lc=n}var n=t.prototype;return n.pc=function(){return this.Lc},n.mc=function(){var t=new Z.MSMediaKeys(this.Ko);return j.resolve(new gc(t,this.Ko,this.Lc))},ht(t,[{key:"hc",get:function(){return this.Ko}}]),t}(),mc=function(){function t(){}return t.prototype.kr=function(t,n){try{return j.resolve(function(t,n){if(!pc())throw new f("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=oc(bc,Eu,t,e);if(r)return new yc(t,r)}throw new f("Unsupported key system configuration for "+t)}(t,n))}catch(t){return j.reject(t)}},t._c=function(){return pc()},t}();function pc(){return void 0!==Z.MSMediaKeys&&"function"==typeof Z.MSMediaKeys.isTypeSupported}function bc(t,n){return Z.MSMediaKeys.isTypeSupported(t,n)}var _c,kc,Tc=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).kc=new Ps,r.Bc=void 0,r.Ec=new Au,r.Fc=void 0,r.Mc=new Ps,r.Dc=function(){var t=r.Fc&&r.Fc.error;if(t){var n=new Ms("Unknown CDM error",t.code,t.systemCode);r.Bc?(r.Bc.Au(n),r.Bc=void 0):n.Pu===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?r.Cc("output-not-allowed"):r.Cc("internal-error"),r.$r(new Nu)}},r.Rc=function(t){r.Bc&&(r.Bc.Ou(void 0),r.Bc=void 0),r.$r(new Du(Nn(r),"license-request",Os(t.message).buffer,"this is a test string"===t.destinationURL?void 0:t.destinationURL))},r.Uc=n,r.Ac=i,r.Vc=e,r}dt(n,t);var i=n.prototype;return i.tc=function(t,n,i){var e=i&&i.fairplay&&i.fairplay.qc;if(!e)throw new f("Expected FairPlay contentId to be defined but was "+e+".");var r=Sc(Ns(n),e,this.Vc);return this.Fc=this.Uc.createSession(this.Ac,r),this.Fc.addEventListener("webkitkeymessage",this.Rc,!1),this.Fc.addEventListener("webkitkeyerror",this.Dc,!1),this.Cc("usable"),this.Mc.Ou(this.Fc),this.Mc=new Ps,j.resolve()},i.nc=function(t){return j.resolve(!0)},i.ec=function(t){var n;return vr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==(n=Ns(t)).byteLength){i.next=3;break}throw new f("Cannot call update with an empty response.");case 3:if(this.Bc=new Ps,i.t0=this.Fc,i.t0){i.next=9;break}return i.next=8,vr.awrap(this.Mc.Du);case 8:i.t0=i.sent;case 9:return i.t0.update(n),i.next=13,vr.awrap(this.Bc.Du);case 13:case"end":return i.stop()}},null,this,null,j)},i.Zo=function(){var t=this.Fc;return t&&(t.removeEventListener("webkitkeymessage",this.Rc,!1),t.removeEventListener("webkitkeyerror",this.Dc,!1),t.close()),this.Mc.Mr(),this.kc.Ou(void 0),this.kc.Du},i.ic=function(){return j.resolve(void 0)},i.Cc=function(t){this.Ec.mu(),this.Ec.yu(Ou,t),this.$r(new Ru(this))},ht(n,[{key:"cc",get:function(){return this.Fc?this.Fc.sessionId:""}},{key:"sc",get:function(){return NaN}},{key:"uc",get:function(){return this.kc.Du}},{key:"oc",get:function(){return this.Ec}}]),n}(ku);function Sc(t,n,i){var e=Ts(t),r=2*e.length,u=2*n.length,s=new ArrayBuffer(4+r+4+u+4+i.byteLength),o=new DataView(s),c=new As;return as(o,c,r,!0),ys(o,c,e,!0),as(o,c,u,!0),ys(o,c,n,!0),as(o,c,i.byteLength,!0),function(t,n,i){Rs(t).set(Rs(i),n.Su),n._u(i.byteLength)}(o,c,i),new y(s)}(_c=n.ErrorCode||(n.ErrorCode={}))[_c.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",_c[_c.LICENSE_ERROR=2e3]="LICENSE_ERROR",_c[_c.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",_c[_c.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",_c[_c.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",_c[_c.SOURCE_INVALID=3e3]="SOURCE_INVALID",_c[_c.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",_c[_c.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",_c[_c.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",_c[_c.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",_c[_c.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",_c[_c.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",_c[_c.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",_c[_c.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",_c[_c.MEDIA_ABORTED=5004]="MEDIA_ABORTED",_c[_c.NETWORK_ERROR=6e3]="NETWORK_ERROR",_c[_c.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",_c[_c.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",_c[_c.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",_c[_c.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",_c[_c.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",_c[_c.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",_c[_c.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",_c[_c.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",_c[_c.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",_c[_c.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",_c[_c.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",_c[_c.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",_c[_c.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",_c[_c.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",_c[_c.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",_c[_c.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",_c[_c.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",_c[_c.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",_c[_c.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",_c[_c.AD_ERROR=1e4]="AD_ERROR",_c[_c.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",_c[_c.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR",(kc=n.ErrorCategory||(n.ErrorCategory={}))[kc.CONFIGURATION=1]="CONFIGURATION",kc[kc.LICENSE=2]="LICENSE",kc[kc.SOURCE=3]="SOURCE",kc[kc.MANIFEST=4]="MANIFEST",kc[kc.MEDIA=5]="MEDIA",kc[kc.NETWORK=6]="NETWORK",kc[kc.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",kc[kc.SUBTITLE=8]="SUBTITLE",kc[kc.VR=9]="VR",kc[kc.AD=10]="AD",kc[kc.FULLSCREEN=11]="FULLSCREEN",function(t){(n.ErrorCategory||(n.ErrorCategory={})).fromCode=function(t){var i=v.floor(t/1e3);if(i in n.ErrorCategory)return i;throw new f("Invalid error code: "+t)}}();var Ec=function(t){function i(n,i,e){var r;return(r=t.call(this,i,e)||this).code=void 0,r.code=n,r}return dt(i,t),ht(i,[{key:"name",get:function(){return"THEOplayerError"}},{key:"category",get:function(){return n.ErrorCategory.fromCode(this.code)}}]),i}(On),Ic=function(){function t(t,n,i){this.Ac=void 0,this.Vc=void 0,this.Uc=t,this.hc=n,this.fc=i;var e=ac(i)||"video/mp4";this.Ac=sc(e)}var i=t.prototype;return i.getInternalMediaKeys=function(){return this.Uc},i.dc=function(t){return vr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Vc){t.next=2;break}throw new Ec(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return t.abrupt("return",new Tc(this.Uc,this.Ac,this.Vc));case 3:case"end":return t.stop()}},null,this,null,j)},i.vc=function(t){return this.Vc=Ns(t),j.resolve(!0)},i.lc=function(t){return t.webkitSetMediaKeys(this.Uc),j.resolve()},i.wc=function(t){return t.webkitSetMediaKeys(null),j.resolve()},t}(),Rc=function(){function t(t,n){this.Ko=t,this.Lc=n}var n=t.prototype;return n.pc=function(){return this.Lc},n.mc=function(){var t=new Z.WebKitMediaKeys(this.Ko);return j.resolve(new Ic(t,this.Ko,this.Lc))},ht(t,[{key:"hc",get:function(){return this.Ko}}]),t}(),Dc=function(){function t(){}return t.prototype.kr=function(t,n){try{return j.resolve(function(t,n){if(t!==Ar)throw new f(t+" is not supported with webkit-prefixed Encrypted Media Extensions.");if(!Nc())throw new f("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=oc(Cc,Iu,t,e);if(r)return new Rc(t,r)}throw new f("Unsupported key system configuration for "+t)}(t,n))}catch(t){return j.reject(t)}},t._c=function(){return Nc()},t}();function Nc(){return void 0!==Z.WebKitMediaKeys&&"function"==typeof Z.WebKitMediaKeys.isTypeSupported}function Cc(t,n){return Z.WebKitMediaKeys.isTypeSupported(t,n)}var Oc,Ac=function(){function t(t){this.Hc=t}return t.prototype.kr=function(t,n){var i,e,r;return vr.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=0,e=this.Hc;case 1:if(!(i<e.length)){u.next=14;break}return r=e[i],u.prev=3,u.next=6,vr.awrap(r.kr(t,n));case 6:return u.abrupt("return",u.sent);case 9:u.prev=9,u.t0=u.catch(3);case 11:i++,u.next=1;break;case 14:throw new f("Unsupported key system configuration for "+t);case 15:case"end":return u.stop()}},null,this,[[3,9]],j)},t}(),Pc=function(t){function n(n){var i;return(i=t.call(this)||this).Sc=void 0,i.Bc=void 0,i.kc=void 0,i.zu=!1,i.zc=void 0,i.Wc=void 0,i.jc=void 0,i.$c=void 0,i.Xc=void 0,i.Ko=n,i.kc=new Ps,i.Wc="",i.Xc=new Ps,i.jc=new Au,i}dt(n,t);var i=n.prototype;return i.Gc=function(){this.Bc&&(this.Cc("usable"),this.Bc.Ou(void 0),this.Bc=void 0)},i.Yc=function(t){var n=new Ms("Unknown CDM error",t.errorCode,t.systemCode);this.Bc?(this.Bc.Au(n),this.Bc=void 0):this.Sc?(this.Sc.Au(n),this.Sc=void 0):n.Pu===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.Cc("output-restricted"):1===n.xu?this.Cc("expired"):this.Cc("internal-error")},i.Kc=function(t){0!==t.message.byteLength&&(this.Sc&&(this.Sc.Ou(void 0),this.Sc=void 0),this.$r(new Du(this,"license-request",Bs(this.Ko,Os(t.message).buffer),t.defaultURL||void 0)))},i.Jc=function(t){this.$c||(this.$c=t,this.Xc.Ou(t))},i.Zo=function(){return vr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed(),this.zu=!0,this.kc.Ou(void 0);case 3:case"end":return t.stop()}},null,this,null,j)},i.tc=function(t,n){return vr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.Sc=new Ps,this.zc=Ns(n),t.t0=this.$c,t.t0){t.next=8;break}return t.next=7,vr.awrap(this.Xc.Du);case 7:t.t0=t.sent;case 8:return t.t0.webkitGenerateKeyRequest(this.Ko,this.zc),t.next=12,vr.awrap(this.Sc.Du);case 12:case"end":return t.stop()}},null,this,null,j)},i.nc=function(t){return vr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.throwIfClosed(),t.abrupt("return",!1);case 2:case"end":return t.stop()}},null,this,null,j)},i.ic=function(){return vr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed();case 1:case"end":return t.stop()}},null,this,null,j)},i.ec=function(t){return vr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.throwIfClosed(),this.Bc=new Ps,n.t0=this.$c,n.t0){n.next=7;break}return n.next=6,vr.awrap(this.Xc.Du);case 6:n.t0=n.sent;case 7:return n.t0.webkitAddKey(this.Ko,Ns(t),this.zc,this.cc),n.next=11,vr.awrap(this.Bc.Du);case 11:case"end":return n.stop()}},null,this,null,j)},i.throwIfClosed=function(){if(this.zu)throw new f("Already closing or closed.")},i.Cc=function(t){this.jc.mu(),this.jc.yu(Ou,t),this.$r(new Ru(this))},ht(n,[{key:"oc",get:function(){return this.jc}},{key:"cc",get:function(){return this.Wc},set:function(t){this.Wc=t}},{key:"uc",get:function(){return this.kc.Du}},{key:"sc",get:function(){return NaN}}]),n}(ku),xc=function(){function t(t,n){var i=this;this.$c=void 0,this.Qc=gr(),this.Zc=[],this.Nc=function(t){var n=i.ta(t.sessionId);n&&n.Gc()},this.na=function(t){var n=i.ta(t.sessionId);n&&n.Yc(t)},this.ia=function(t){var n=i.ta(t.sessionId);n&&n.Kc(t)},this.hc=t,this.fc=n}var n=t.prototype;return n.lc=function(t){return this.$c=t,this.$c.addEventListener("webkitkeyadded",this.Nc),this.$c.addEventListener("webkitkeyerror",this.na),this.$c.addEventListener("webkitkeymessage",this.ia),this.Qc.forEach(function(n,i){return n.Jc(t)}),this.Zc.forEach(function(n){return n.Jc(t)}),j.resolve()},n.wc=function(t){return t.removeEventListener("webkitkeyadded",this.Nc),t.removeEventListener("webkitkeyerror",this.na),t.removeEventListener("webkitkeymessage",this.ia),this.$c=void 0,j.resolve()},n.dc=function(t,n,i){var e;return vr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new Pc(this.hc),this.$c&&e.Jc(this.$c),this.Zc.push(e),t.abrupt("return",e);case 4:case"end":return t.stop()}},null,this,null,j)},n.vc=function(t){return j.resolve(!1)},n.ta=function(t){if(t){var n=this.Qc.get(t);return n||((n=this.Zc.shift())?(n.cc=t,this.Qc.set(t,n),n):void 0)}},t}(),Lc=function(){function t(t,n){this.hc=t,this.ea=n}var n=t.prototype;return n.mc=function(){return j.resolve(new xc(this.hc,this.ea))},n.pc=function(){return this.ea},t}(),Bc=function(){function t(){}return t.prototype.kr=function(t,n){try{return j.resolve(Fc(t,n))}catch(t){return j.reject(t)}},t._c=function(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest},t}();function Fc(t,n){if(!Bc._c())throw new f("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=oc(Mc,Eu,t,e);if(r)return new Lc(t,r)}throw new f("Unsupported key system configuration for "+t)}function Mc(t,n){var i=Xe();return!(!i||!i.canPlayType||""===i.canPlayType(n,t))}function Uc(){return Oc||(Oc=function(){var t=[];Dc._c()&&t.push(new Dc);lc._c()&&t.push(new lc);mc._c()&&t.push(new mc);Bc._c()&&t.push(new Bc);return new Ac(t)}()),Oc}var Vc=function(){function t(){this.ra=gr()}var n=t.prototype;return n.mu=function(t){this.ra.delete(t)},n.ua=function(){this.ra.clear()},n.wu=function(t){return this.ra.get(t)},n.sa=function(t,n){this.ra.set(t,n)},t}(),qc=function(){function t(){}return t.oa=function(){return t.Qn||(t.Qn=Hc._c()?new Hc:new Vc),t.Qn},t.mu=function(n){t.oa().mu(n)},t.ua=function(){t.oa().ua()},t.wu=function(n){return t.oa().wu(n)},t.sa=function(n,i){t.oa().sa(n,i)},t}();qc.Qn=void 0;var Hc=function(n){function i(){return n.apply(this,arguments)||this}dt(i,n),i._c=function(){try{return t.sessionStorage.setItem("foobar","foobar"),t.sessionStorage.removeItem("foobar"),!0}catch(t){return!1}};var e=i.prototype;return e.mu=function(n){t.sessionStorage.removeItem(n)},e.ua=function(){t.sessionStorage.clear()},e.wu=function(n){return t.sessionStorage[n]},e.sa=function(n,i){t.sessionStorage[n]=i},i}(qc);var zc=function(){var n,i=t.Blob;if(i)try{return new i,n=i,function(t,i){return new n(t,i)}}catch(t){}var e,r=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder;if(r)return e=r,function(t,n){var i=new e;if(t)for(var r=0;r<t.length;r++){var u=t[r];i.append(u)}return i.getBlob(n&&n.type||"")}}();function Wc(t,n,i){var r=zc([n],{type:"application/octet-stream"}),u=URL.createObjectURL(r),s=function(t,n){var i=t,e=i.indexOf("?");if(e>=0&&(i=i.substr(0,e)),i=i.substr(i.lastIndexOf("/")+1),n){var r=i.indexOf(".");r<0&&(r=i.length),i=i.substr(0,r)+n+i.substr(r)}return i}(t,i),o=e.createElement("a");o.href=u,o.download=s,e.body.appendChild(o),o.click(),e.body.removeChild(o),URL.revokeObjectURL(u)}var jc,$c;!function(t){t.ca="aa",t.ha="fa",t.da="contentprotectionerror",t.va="contentprotectionsuccess",t.la="currentsourcechange",t.wa="destroy",t.ga="durationchange",t.ya="emptied",t.cu="encrypted",t.ma="ended",t.pa="ba",t._a="loadstart",t.ka="manifestupdate",t.Ta="nosupportedrepresentationfound",t.Sa="offline",t.Ea="online",t.Ia="pause",t.Ra="play",t.Da="progress",t.Na="ratechange",t.Ca="representationchange",t.Oa="resize",t.Aa="seeked",t.Pa="seeking",t.xa="segmentnotfound",t.La="Ba",t.Fa="Ma",t.Ua="sourcechange",t.Va="timeupdate",t.qa="volumechange",t.Ha="za",t.Wa="metricschange"}(jc||(jc={})),function(t){t.ja="arraybuffer",t.$a="json",t.Xa="stream",t.ei="text"}($c||($c={}));var Xc=function(){function t(n){var i=this;this.er=void 0,this.er={},n instanceof t?n.asList().forEach(function(t){var n=t[0],e=t[1];i.append(n,e)}):Array.isArray(n)?n.forEach(function(t){i.append(t[0],t[1])}):n&&d.getOwnPropertyNames(n).forEach(function(t){i.append(t,n[t])})}var n=t.prototype;return n.append=function(t,n){var i=t,e=n;i=Gc(i),e=Yc(e);var r=i.toLowerCase();if(this.er.hasOwnProperty(r)){var u=this.er[r],s=u[1];u[1]=s?s+", "+e:e}else this.er[r]=[i,e]},n.delete=function(t){var n=Gc(t).toLowerCase();delete this.er[n]},n.get=function(t){var n=Gc(t).toLowerCase();return this.er.hasOwnProperty(n)?this.er[n][1]:null},n.has=function(t){var n=Gc(t).toLowerCase();return this.er.hasOwnProperty(n)},n.set=function(t,n){var i=t,e=(i=Gc(i)).toLowerCase();this.er[e]=[i,Yc(n)]},n.forEach=function(t,n){for(var i in this.er)this.er.hasOwnProperty(i)&&t.call(n,this.er[i][1],i,this)},n.asList=function(){var t=[];for(var n in this.er)if(this.er.hasOwnProperty(n)){var i=this.er[n],e=i[0],r=i[1];t.push([e,r])}return t},n.Ga=function(){var t={};return this.forEach(function(n,i){t[i]=n}),t},n.Ya=function(t){var n=this;t.forEach(function(t,i){n.append(i,t)})},n.Ka=function(t){var n=this;t.forEach(function(t,i){n.set(i,t)})},t}();function Gc(t){var n=t;if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(n))throw new f("Invalid character in header field name");return n}function Yc(t){var n=t;return"string"!=typeof n&&(n=String(n)),n}var Kc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(t){return"Symbol("+t+")"};function Jc(){}var Qc=Number.isNaN||function(t){return t!=t},Zc=Jc;function ta(t){return"object"==typeof t&&null!==t||"function"==typeof t}function na(t){return t.slice()}function ia(t){return!1!==function(t){if("number"!=typeof t)return!1;if(Qc(t))return!1;if(t<0)return!1;return!0}(t)&&t!==1/0}function ea(t,n,i){if("function"!=typeof t)throw new f("Argument is not a function");return Function.prototype.apply.call(t,n,i)}function ra(t,n,i,e){var r=t[n];if(void 0!==r){if("function"!=typeof r)throw new f(r+" is not a method");switch(i){case 0:return function(){return sa(r,t,e)};case 1:return function(n){var i=[n].concat(e);return sa(r,t,i)}}}return function(){return wa(void 0)}}function ua(t,n,i){var e=t[n];if(void 0!==e)return ea(e,t,i)}function sa(t,n,i){try{return wa(ea(t,n,i))}catch(t){return ga(t)}}function oa(t){return t}function ca(t){if(t=Number(t),Qc(t)||t<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return t}function aa(t){if(void 0===t)return function(){return 1};if("function"!=typeof t)throw new f("size property of a queuing strategy must be a function");return function(n){return t(n)}}var ha=j,fa=j.prototype.then,da=j.resolve.bind(ha),va=j.reject.bind(ha);function la(t){return new ha(t)}function wa(t){return da(t)}function ga(t){return va(t)}function ya(t,n,i){return fa.call(t,n,i)}function ma(t,n,i){ya(ya(t,n,i),void 0,Zc)}function pa(t,n){ma(t,n)}function ba(t,n){ma(t,void 0,n)}function _a(t,n,i){return ya(t,n,i)}function ka(t){ya(t,void 0,Zc)}var Ta=function(){function t(){this.Ja=0,this.Qa=0,this.C={Za:[],th:void 0},this.nh=this.C,this.Ja=0,this.Qa=0}return d.defineProperty(t.prototype,"length",{get:function(){return this.Qa},enumerable:!0,configurable:!0}),t.prototype.push=function(t){var n=this.nh,i=n;16383===n.Za.length&&(i={Za:[],th:void 0}),n.Za.push(t),i!==n&&(this.nh=i,n.th=i),++this.Qa},t.prototype.shift=function(){var t=this.C,n=t,i=this.Ja,e=i+1,r=t.Za,u=r[i];return 16384===e&&(n=t.th,e=0),--this.Qa,this.Ja=e,t!==n&&(this.C=n),r[i]=void 0,u},t.prototype.forEach=function(t){for(var n=this.Ja,i=this.C,e=i.Za;!(n===e.length&&void 0===i.th||n===e.length&&(n=0,0===(e=(i=i.th).Za).length));)t(e[n]),++n},t.prototype.peek=function(){var t=this.C,n=this.Ja;return t.Za[n]},t}();function Sa(t,n,i){var e=null;!0===i&&(e=d.prototype);var r=d.create(e);return r.value=t,r.done=n,r}function Ea(t,n){t.ih=!0,t.eh=n,n.rh=t,"readable"===n.o?Na(t):"closed"===n.o?function(t){Na(t),Aa(t)}(t):Ca(t,n.uh)}function Ia(t,n){return Ff(t.eh,n)}function Ra(t){"readable"===t.eh.o?Oa(t,new f("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,n){Ca(t,n)}(t,new f("Reader was released and can no longer be used to monitor the stream's closedness")),t.eh.rh=void 0,t.eh=void 0}function Da(t){return new f("Cannot "+t+" a stream using a released reader")}function Na(t){t.jo=la(function(n,i){t.sh=n,t.oh=i})}function Ca(t,n){Na(t),Oa(t,n)}function Oa(t,n){ka(t.jo),t.oh(n),t.sh=void 0,t.oh=void 0}function Aa(t){t.sh(void 0),t.sh=void 0,t.oh=void 0}var Pa=Kc("[[CancelSteps]]"),xa=Kc("[[PullSteps]]");function La(t,n){void 0===n&&(n=!1);var i=new Ha(t);return i.ih=n,i}function Ba(t){return la(function(n,i){var e={Nu:n,Cu:i};t.rh.ah.push(e)})}function Fa(t,n,i){var e=t.rh;e.ah.shift().Nu(Sa(n,i,e.ih))}function Ma(t){return t.rh.ah.length}function Ua(t){var n=t.rh;return void 0!==n&&!!za(n)}var Va,qa,Ha=function(){function t(t){if(!1===Lf(t))throw new f("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===Bf(t))throw new f("This stream has already been locked for exclusive reading by another reader");Ea(this,t),this.ah=new Ta}return d.defineProperty(t.prototype,"closed",{get:function(){return za(this)?this.jo:ga(ja("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return za(this)?void 0===this.eh?ga(Da("cancel")):Ia(this,t):ga(ja("cancel"))},t.prototype.read=function(){return za(this)?void 0===this.eh?ga(Da("read from")):Wa(this):ga(ja("read"))},t.prototype.releaseLock=function(){if(!za(this))throw ja("releaseLock");if(void 0!==this.eh){if(this.ah.length>0)throw new f("Tried to release a reader lock when that reader has pending read() calls un-settled");Ra(this)}},t}();function za(t){return!!ta(t)&&!!d.prototype.hasOwnProperty.call(t,"ah")}function Wa(t){var n=t.eh;return n.hh=!0,"closed"===n.o?wa(Sa(void 0,!0,t.ih)):"errored"===n.o?ga(n.uh):n.fh[xa]()}function ja(t){return new f("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}"symbol"==typeof Kc.asyncIterator&&((Va={})[Kc.asyncIterator]=function(){return this},qa=Va,d.defineProperty(qa,Kc.asyncIterator,{enumerable:!1}));var $a={next:function(){if(!1===Xa(this))return ga(Ga("next"));var t=this.dh;return void 0===t.eh?ga(Da("iterate")):_a(Wa(t),function(n){var i=n.done;return i&&Ra(t),Sa(n.value,i,!0)})},return:function(t){if(!1===Xa(this))return ga(Ga("next"));var n=this.dh;if(void 0===n.eh)return ga(Da("finish iterating"));if(n.ah.length>0)return ga(new f("Tried to release a reader lock when that reader has pending read() calls un-settled"));if(!1===this.vh){var i=Ia(n,t);return Ra(n),_a(i,function(){return Sa(t,!0,!0)})}return Ra(n),wa(Sa(t,!0,!0))}};function Xa(t){return!!ta(t)&&!!d.prototype.hasOwnProperty.call(t,"dh")}function Ga(t){return new f("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}function Ya(t){var n=t.lh.shift();return t.wh-=n.size,t.wh<0&&(t.wh=0),n.value}function Ka(t,n,i){if(!ia(i=Number(i)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");t.lh.push({value:n,size:i}),t.wh+=i}function Ja(t){t.lh=new Ta,t.wh=0}void 0!==qa&&d.setPrototypeOf($a,qa),d.defineProperty($a,"next",{enumerable:!1}),d.defineProperty($a,"return",{enumerable:!1});var Qa=Kc("[[AbortSteps]]"),Za=Kc("[[ErrorSteps]]"),th=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),ih(this);var i=n.size,e=n.highWaterMark;if(void 0!==t.type)throw new RangeError("Invalid type is specified");var r=aa(i);void 0===e&&(e=1),function(t,n,i,e){var r=d.create(bh.prototype);var u=ra(n,"write",1,[r]),s=ra(n,"close",0,[]),o=ra(n,"abort",1,[]);_h(t,r,function(){return ua(n,"start",[r])},u,s,o,i,e)}(this,t,e=ca(e),r)}return d.defineProperty(t.prototype,"locked",{get:function(){if(!1===eh(this))throw Dh("locked");return rh(this)},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===eh(this)?ga(Dh("abort")):!0===rh(this)?ga(new f("Cannot abort a stream that already has a writer")):uh(this,t)},t.prototype.close=function(){return!1===eh(this)?ga(Dh("close")):!0===rh(this)?ga(new f("Cannot close a stream that already has a writer")):!0===hh(this)?ga(new f("Cannot close an already-closing stream")):sh(this)},t.prototype.getWriter=function(){if(!1===eh(this))throw Dh("getWriter");return nh(this)},t}();function nh(t){return new vh(t)}function ih(t){t.o="writable",t.uh=void 0,t.Xu=void 0,t.gh=void 0,t.yh=new Ta,t.mh=void 0,t.ph=void 0,t.bh=void 0,t._h=void 0,t.kh=!1}function eh(t){return!!ta(t)&&!!d.prototype.hasOwnProperty.call(t,"gh")}function rh(t){return void 0!==t.Xu}function uh(t,n){var i=t.o;if("closed"===i||"errored"===i)return wa(void 0);if(void 0!==t._h)return t._h.Th;var e=!1;"erroring"===i&&(e=!0,n=void 0);var r=la(function(i,r){t._h={Th:void 0,Nu:i,Cu:r,Sh:n,Eh:e}});return t._h.Th=r,!1===e&&ch(t,n),r}function sh(t){var n=t.o;if("closed"===n||"errored"===n)return ga(new f("The stream (in "+n+" state) is not in the writable state and cannot be closed"));var i,e=la(function(n,i){var e={Nu:n,Cu:i};t.ph=e}),r=t.Xu;return void 0!==r&&!0===t.kh&&"writable"===n&&Uh(r),Ka(i=t.gh,"close",0),Sh(i),e}function oh(t,n){"writable"!==t.o?ah(t):ch(t,n)}function ch(t,n){var i=t.gh;t.o="erroring",t.uh=n;var e=t.Xu;void 0!==e&&yh(e,n),!1===function(t){if(void 0===t.mh&&void 0===t.bh)return!1;return!0}(t)&&!0===i.Ih&&ah(t)}function ah(t){t.o="errored",t.gh[Za]();var n=t.uh;if(t.yh.forEach(function(t){t.Cu(n)}),t.yh=new Ta,void 0!==t._h){var i=t._h;if(t._h=void 0,!0===i.Eh)return i.Cu(n),void fh(t);ma(t.gh[Qa](i.Sh),function(){i.Nu(),fh(t)},function(n){i.Cu(n),fh(t)})}else fh(t)}function hh(t){return void 0!==t.ph||void 0!==t.bh}function fh(t){void 0!==t.ph&&(t.ph.Cu(t.uh),t.ph=void 0);var n=t.Xu;void 0!==n&&Ph(n,t.uh)}function dh(t,n){var i=t.Xu;void 0!==i&&n!==t.kh&&(!0===n?function(t){Lh(t)}(i):Uh(i)),t.kh=n}var vh=function(){function t(t){if(!1===eh(t))throw new f("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===rh(t))throw new f("This stream has already been locked for exclusive writing by another writer");this.Rh=t,t.Xu=this;var n,i=t.o;if("writable"===i)!1===hh(t)&&!0===t.kh?Lh(this):Fh(this),Oh(this);else if("erroring"===i)Bh(this,t.uh),Oh(this);else if("closed"===i)Fh(this),Oh(n=this),xh(n);else{var e=t.uh;Bh(this,e),Ah(this,e)}}return d.defineProperty(t.prototype,"closed",{get:function(){return!1===lh(this)?ga(Nh("closed")):this.jo},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===lh(this))throw Nh("desiredSize");if(void 0===this.Rh)throw Ch("desiredSize");return function(t){var n=t.Rh,i=n.o;if("errored"===i||"erroring"===i)return null;if("closed"===i)return 0;return Th(n.gh)}(this)},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"ready",{get:function(){return!1===lh(this)?ga(Nh("ready")):this.Dh},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===lh(this)?ga(Nh("abort")):void 0===this.Rh?ga(Ch("abort")):function(t,n){return uh(t.Rh,n)}(this,t)},t.prototype.close=function(){if(!1===lh(this))return ga(Nh("close"));var t=this.Rh;return void 0===t?ga(Ch("close")):!0===hh(t)?ga(new f("Cannot close an already-closing stream")):wh(this)},t.prototype.releaseLock=function(){if(!1===lh(this))throw Nh("releaseLock");void 0!==this.Rh&&mh(this)},t.prototype.write=function(t){return!1===lh(this)?ga(Nh("write")):void 0===this.Rh?ga(Ch("write to")):ph(this,t)},t}();function lh(t){return!!ta(t)&&!!d.prototype.hasOwnProperty.call(t,"Rh")}function wh(t){return sh(t.Rh)}function gh(t,n){"pending"===t.Nh?Ph(t,n):function(t,n){Ah(t,n)}(t,n)}function yh(t,n){"pending"===t.Ch?Mh(t,n):function(t,n){Bh(t,n)}(t,n)}function mh(t){var n=t.Rh,i=new f("Writer was released and can no longer be used to monitor the stream's closedness");yh(t,i),gh(t,i),n.Xu=void 0,t.Rh=void 0}function ph(t,n){var i=t.Rh,e=i.gh,r=function(t,n){try{return t.Oh(n)}catch(n){return Eh(t,n),1}}(e,n);if(i!==t.Rh)return ga(Ch("write to"));var u=i.o;if("errored"===u)return ga(i.uh);if(!0===hh(i)||"closed"===u)return ga(new f("The stream is closing or closed and cannot be written to"));if("erroring"===u)return ga(i.uh);var s=function(t){return la(function(n,i){var e={Nu:n,Cu:i};t.yh.push(e)})}(i);return function(t,n,i){var e={chunk:n};try{Ka(t,e,i)}catch(n){return void Eh(t,n)}var r=t.Ah;if(!1===hh(r)&&"writable"===r.o){var u=Ih(t);dh(r,u)}Sh(t)}(e,n,r),s}var bh=function(){function t(){throw new f("WritableStreamDefaultController cannot be constructed explicitly")}return t.prototype.error=function(t){if(!1===function(t){if(!ta(t))return!1;if(!d.prototype.hasOwnProperty.call(t,"Ah"))return!1;return!0}(this))throw new f("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this.Ah.o&&Rh(this,t)},t.prototype[Qa]=function(t){var n=this.Ph(t);return kh(this),n},t.prototype[Za]=function(){Ja(this)},t}();function _h(t,n,i,e,r,u,s,o){n.Ah=t,t.gh=n,n.lh=void 0,n.wh=void 0,Ja(n),n.Ih=!1,n.Oh=o,n.xh=s,n.Lh=e,n.Bh=r,n.Ph=u;var c=Ih(n);dh(t,c),ma(wa(i()),function(){n.Ih=!0,Sh(n)},function(i){n.Ih=!0,oh(t,i)})}function kh(t){t.Lh=void 0,t.Bh=void 0,t.Ph=void 0,t.Oh=void 0}function Th(t){return t.xh-t.wh}function Sh(t){var n=t.Ah;if(!1!==t.Ih&&void 0===n.mh)if("erroring"!==n.o){if(0!==t.lh.length){var i=t.lh.peek().value;"close"===i?function(t){var n=t.Ah;(function(t){t.bh=t.ph,t.ph=void 0})(n),Ya(t);var i=t.Bh();kh(t),ma(i,function(){!function(t){t.bh.Nu(void 0),t.bh=void 0,"erroring"===t.o&&(t.uh=void 0,void 0!==t._h&&(t._h.Nu(),t._h=void 0)),t.o="closed";var n=t.Xu;void 0!==n&&xh(n)}(n)},function(t){!function(t,n){t.bh.Cu(n),t.bh=void 0,void 0!==t._h&&(t._h.Cu(n),t._h=void 0),oh(t,n)}(n,t)})}(t):function(t,n){var i=t.Ah;(function(t){t.mh=t.yh.shift()})(i),ma(t.Lh(n),function(){!function(t){t.mh.Nu(void 0),t.mh=void 0}(i);var n=i.o;if(Ya(t),!1===hh(i)&&"writable"===n){var e=Ih(t);dh(i,e)}Sh(t)},function(n){"writable"===i.o&&kh(t),function(t,n){t.mh.Cu(n),t.mh=void 0,oh(t,n)}(i,n)})}(t,i.chunk)}}else ah(n)}function Eh(t,n){"writable"===t.Ah.o&&Rh(t,n)}function Ih(t){return Th(t)<=0}function Rh(t,n){var i=t.Ah;kh(t),ch(i,n)}function Dh(t){return new f("WritableStream.prototype."+t+" can only be used on a WritableStream")}function Nh(t){return new f("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function Ch(t){return new f("Cannot "+t+" a stream using a released writer")}function Oh(t){t.jo=la(function(n,i){t.sh=n,t.oh=i,t.Nh="pending"})}function Ah(t,n){Oh(t),Ph(t,n)}function Ph(t,n){ka(t.jo),t.oh(n),t.sh=void 0,t.oh=void 0,t.Nh="rejected"}function xh(t){t.sh(void 0),t.sh=void 0,t.oh=void 0,t.Nh="resolved"}function Lh(t){t.Dh=la(function(n,i){t.Fh=n,t.Mh=i}),t.Ch="pending"}function Bh(t,n){Lh(t),Mh(t,n)}function Fh(t){Lh(t),Uh(t)}function Mh(t,n){ka(t.Dh),t.Mh(n),t.Fh=void 0,t.Mh=void 0,t.Ch="rejected"}function Uh(t){t.Fh(void 0),t.Fh=void 0,t.Mh=void 0,t.Ch="fulfilled"}function Vh(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}var qh="undefined"!=typeof DOMException?DOMException:void 0;var Hh,zh=function(t){if("function"!=typeof t&&"object"!=typeof t)return!1;try{return new t,!0}catch(t){return!1}}(qh)?qh:((Hh=function(t,n){this.message=t||"",this.name=n||"Error",h.captureStackTrace&&h.captureStackTrace(this,this.constructor)}).prototype=d.create(h.prototype),d.defineProperty(Hh.prototype,"constructor",{value:Hh,writable:!0,configurable:!0}),Hh);function Wh(t,n,i,e,r,u){var s=La(t),o=nh(n);t.hh=!0;var c=!1,a=wa(void 0);return la(function(h,d){var v,l,w,g;if(void 0!==u){if(v=function(){var i=new zh("Aborted","AbortError"),u=[];!1===e&&u.push(function(){return"writable"===n.o?uh(n,i):wa(void 0)}),!1===r&&u.push(function(){return"readable"===t.o?Ff(t,i):wa(void 0)}),b(function(){return j.all(u.map(function(t){return t()}))},!0,i)},!0===u.aborted)return void v();u.addEventListener("abort",v)}if(p(t,s.jo,function(t){!1===e?b(function(){return uh(n,t)},!0,t):_(!0,t)}),p(n,o.jo,function(n){!1===r?b(function(){return Ff(t,n)},!0,n):_(!0,n)}),l=t,w=s.jo,g=function(){!1===i?b(function(){return function(t){var n=t.Rh,i=n.o;return!0===hh(n)||"closed"===i?wa(void 0):"errored"===i?ga(n.uh):wh(t)}(o)}):_()},"closed"===l.o?g():pa(w,g),!0===hh(n)||"closed"===n.o){var y=new f("the destination writable stream closed before all data could be piped to it");!1===r?b(function(){return Ff(t,y)},!0,y):_(!0,y)}function m(){var t=a;return ya(a,function(){return t!==a?m():void 0})}function p(t,n,i){"errored"===t.o?i(t.uh):ba(n,i)}function b(t,i,e){function r(){ma(t(),function(){return k(i,e)},function(t){return k(!0,t)})}!0!==c&&(c=!0,"writable"===n.o&&!1===hh(n)?pa(m(),r):r())}function _(t,i){!0!==c&&(c=!0,"writable"===n.o&&!1===hh(n)?pa(m(),function(){return k(t,i)}):k(t,i))}function k(t,n){mh(o),Ra(s),void 0!==u&&u.removeEventListener("abort",v),t?d(n):h(void 0)}ka(la(function(t,n){!function i(e){e?t():ya(!0===c?wa(!0):ya(o.Dh,function(){return ya(Wa(s),function(t){return!0===t.done||(a=ya(ph(o,t.value),void 0,Jc),!1)})}),i,n)}(!1)}))})}var jh=function(){function t(){throw new f}return d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===$h(this))throw ef("desiredSize");return Zh(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===$h(this))throw ef("close");if(!1===tf(this))throw new f("The stream is not in a state that permits close");Kh(this)},t.prototype.enqueue=function(t){if(!1===$h(this))throw ef("enqueue");if(!1===tf(this))throw new f("The stream is not in a state that permits enqueue");return Jh(this,t)},t.prototype.error=function(t){if(!1===$h(this))throw ef("error");Qh(this,t)},t.prototype[Pa]=function(t){Ja(this);var n=this.Uh(t);return Yh(this),n},t.prototype[xa]=function(){var t=this.Vh;if(this.lh.length>0){var n=Ya(this);return!0===this.qh&&0===this.lh.length?(Yh(this),Mf(t)):Xh(this),wa(Sa(n,!1,t.rh.ih))}var i=Ba(t);return Xh(this),i},t}();function $h(t){return!!ta(t)&&!!d.prototype.hasOwnProperty.call(t,"Vh")}function Xh(t){!1!==Gh(t)&&(!0!==t.Hh?(t.Hh=!0,ma(t.zh(),function(){t.Hh=!1,!0===t.Wh&&(t.Wh=!1,Xh(t))},function(n){Qh(t,n)})):t.Wh=!0)}function Gh(t){var n=t.Vh;return!1!==tf(t)&&(!1!==t.Ih&&(!0===Bf(n)&&Ma(n)>0||Zh(t)>0))}function Yh(t){t.zh=void 0,t.Uh=void 0,t.Oh=void 0}function Kh(t){var n=t.Vh;t.qh=!0,0===t.lh.length&&(Yh(t),Mf(n))}function Jh(t,n){var i=t.Vh;if(!0===Bf(i)&&Ma(i)>0)Fa(i,n,!1);else{var e=void 0;try{e=t.Oh(n)}catch(n){throw Qh(t,n),n}try{Ka(t,n,e)}catch(n){throw Qh(t,n),n}}Xh(t)}function Qh(t,n){var i=t.Vh;"readable"===i.o&&(Ja(t),Yh(t),Uf(i,n))}function Zh(t){var n=t.Vh.o;return"errored"===n?null:"closed"===n?0:t.xh-t.wh}function tf(t){var n=t.Vh.o;return!1===t.qh&&"readable"===n}function nf(t,n,i,e,r,u,s){n.Vh=t,n.lh=void 0,n.wh=void 0,Ja(n),n.Ih=!1,n.qh=!1,n.Wh=!1,n.Hh=!1,n.Oh=s,n.xh=u,n.zh=e,n.Uh=r,t.fh=n,ma(wa(i()),function(){n.Ih=!0,Xh(n)},function(t){Qh(n,t)})}function ef(t){return new f("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}var rf=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&v.floor(t)===t},uf=function(){function t(){throw new f("ReadableStreamBYOBRequest cannot be used directly")}return d.defineProperty(t.prototype,"view",{get:function(){if(!1===cf(this))throw Sf("view");return this.jh},enumerable:!0,configurable:!0}),t.prototype.respond=function(t){if(!1===cf(this))throw Sf("respond");if(void 0===this.$h)throw new f("This BYOB request has been invalidated");this.jh.buffer,function(t,n){if(!1===ia(n=Number(n)))throw new RangeError("bytesWritten must be a finite");mf(t,n)}(this.$h,t)},t.prototype.respondWithNewView=function(t){if(!1===cf(this))throw Sf("respond");if(void 0===this.$h)throw new f("This BYOB request has been invalidated");if(!ArrayBuffer.isView(t))throw new f("You can only respond with array buffer views");t.buffer,function(t,n){var i=t.Xh.peek();if(i.byteOffset+i.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.byteLength!==n.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");i.buffer=n.buffer,mf(t,n.byteLength)}(this.$h,t)},t}(),sf=function(){function t(){throw new f("ReadableByteStreamController constructor cannot be used directly")}return d.defineProperty(t.prototype,"byobRequest",{get:function(){if(!1===of(this))throw Ef("byobRequest");if(void 0===this.Gh&&this.Xh.length>0){var t=this.Xh.peek(),n=new y(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),i=d.create(uf.prototype);!function(t,n,i){t.$h=n,t.jh=i}(i,this,n),this.Gh=i}return this.Gh},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===of(this))throw Ef("desiredSize");return kf(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===of(this))throw Ef("close");if(!0===this.qh)throw new f("The stream has already been closed; do not close it again!");var t=this.Yh.o;if("readable"!==t)throw new f("The stream (in "+t+" state) is not in the readable state and cannot be closed");!function(t){var n=t.Yh;if(t.wh>0)return void(t.qh=!0);if(t.Xh.length>0){var i=t.Xh.peek();if(i.bytesFilled>0){var e=new f("Insufficient bytes to fill elements in the given buffer");throw _f(t,e),e}}bf(t),Mf(n)}(this)},t.prototype.enqueue=function(t){if(!1===of(this))throw Ef("enqueue");if(!0===this.qh)throw new f("stream is closed or draining");var n=this.Yh.o;if("readable"!==n)throw new f("The stream (in "+n+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(t))throw new f("You can only enqueue array buffer views when using a ReadableByteStreamController");t.buffer,function(t,n){var i=t.Yh,e=n.buffer,r=n.byteOffset,u=n.byteLength,s=oa(e);if(!0===Ua(i))if(0===Ma(i))df(t,s,r,u);else{var o=new y(s,r,u);Fa(i,o,!1)}else!0===Df(i)?(df(t,s,r,u),yf(t)):df(t,s,r,u);af(t)}(this,t)},t.prototype.error=function(t){if(!1===of(this))throw Ef("error");_f(this,t)},t.prototype[Pa]=function(t){this.Xh.length>0&&(this.Xh.peek().bytesFilled=0);Ja(this);var n=this.Uh(t);return bf(this),n},t.prototype[xa]=function(){var t=this.Yh;if(this.wh>0){var n=this.lh.shift();this.wh-=n.byteLength,wf(this);var i=void 0;try{i=new y(n.buffer,n.byteOffset,n.byteLength)}catch(t){return ga(t)}return wa(Sa(i,!1,t.rh.ih))}var e=this.Kh;if(void 0!==e){var r=void 0;try{r=new ArrayBuffer(e)}catch(t){return ga(t)}var u={buffer:r,byteOffset:0,byteLength:e,bytesFilled:0,elementSize:1,ctor:y,readerType:"default"};this.Xh.push(u)}var s=Ba(t);return af(this),s},t}();function of(t){return!!ta(t)&&!!d.prototype.hasOwnProperty.call(t,"Yh")}function cf(t){return!!ta(t)&&!!d.prototype.hasOwnProperty.call(t,"$h")}function af(t){!1!==function(t){var n=t.Yh;if("readable"!==n.o)return!1;if(!0===t.qh)return!1;if(!1===t.Ih)return!1;if(!0===Ua(n)&&Ma(n)>0)return!0;if(!0===Df(n)&&Rf(n)>0)return!0;if(kf(t)>0)return!0;return!1}(t)&&(!0!==t.Hh?(t.Hh=!0,ma(t.zh(),function(){t.Hh=!1,!0===t.Wh&&(t.Wh=!1,af(t))},function(n){_f(t,n)})):t.Wh=!0)}function hf(t,n){var i=!1;"closed"===t.o&&(i=!0);var e=ff(n);"default"===n.readerType?Fa(t,e,i):function(t,n,i){var e=t.rh;e.Jh.shift().Nu(Sa(n,i,e.ih))}(t,e,i)}function ff(t){var n=t.bytesFilled,i=t.elementSize;return new t.ctor(t.buffer,t.byteOffset,n/i)}function df(t,n,i,e){t.lh.push({buffer:n,byteOffset:i,byteLength:e}),t.wh+=e}function vf(t,n){var i=n.elementSize,e=n.bytesFilled-n.bytesFilled%i,r=v.min(t.wh,n.byteLength-n.bytesFilled),u=n.bytesFilled+r,s=u-u%i,o=r,c=!1;s>e&&(o=s-n.bytesFilled,c=!0);for(var a,h,f,d,l,w=t.lh;o>0;){var g=w.peek(),m=v.min(o,g.byteLength),p=n.byteOffset+n.bytesFilled;a=n.buffer,h=p,f=g.buffer,d=g.byteOffset,l=m,new y(a).set(new y(f,d,l),h),g.byteLength===m?w.shift():(g.byteOffset+=m,g.byteLength-=m),t.wh-=m,lf(t,m,n),o-=m}return c}function lf(t,n,i){gf(t),i.bytesFilled+=n}function wf(t){0===t.wh&&!0===t.qh?(bf(t),Mf(t.Yh)):af(t)}function gf(t){void 0!==t.Gh&&(t.Gh.$h=void 0,t.Gh.jh=void 0,t.Gh=void 0)}function yf(t){for(;t.Xh.length>0;){if(0===t.wh)return;var n=t.Xh.peek();!0===vf(t,n)&&(pf(t),hf(t.Yh,n))}}function mf(t,n){var i=t.Xh.peek();if("closed"===t.Yh.o){if(0!==n)throw new f("bytesWritten must be 0 when calling respond() on a closed stream");!function(t,n){n.buffer=oa(n.buffer);var i=t.Yh;if(!0===Df(i))for(;Rf(i)>0;)hf(i,pf(t))}(t,i)}else!function(t,n,i){if(i.bytesFilled+n>i.byteLength)throw new RangeError("bytesWritten out of range");if(lf(t,n,i),!(i.bytesFilled<i.elementSize)){pf(t);var e=i.bytesFilled%i.elementSize;if(e>0){var r=i.byteOffset+i.bytesFilled,u=i.buffer.slice(r-e,r);df(t,u,0,u.byteLength)}i.buffer=oa(i.buffer),i.bytesFilled-=e,hf(t.Yh,i),yf(t)}}(t,n,i);af(t)}function pf(t){var n=t.Xh.shift();return gf(t),n}function bf(t){t.zh=void 0,t.Uh=void 0}function _f(t,n){var i=t.Yh;"readable"===i.o&&(!function(t){gf(t),t.Xh=new Ta}(t),Ja(t),bf(t),Uf(i,n))}function kf(t){var n=t.Yh.o;return"errored"===n?null:"closed"===n?0:t.xh-t.wh}function Tf(t,n,i){var e=d.create(sf.prototype);var r=ra(n,"pull",0,[e]),u=ra(n,"cancel",1,[]),s=n.autoAllocateChunkSize;if(void 0!==s&&(s=Number(s),!1===rf(s)||s<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");!function(t,n,i,e,r,u,s){n.Yh=t,n.Wh=!1,n.Hh=!1,n.Gh=void 0,n.lh=n.wh=void 0,Ja(n),n.qh=!1,n.Ih=!1,n.xh=ca(u),n.zh=e,n.Uh=r,n.Kh=s,n.Xh=new Ta,t.fh=n,ma(wa(i()),function(){n.Ih=!0,af(n)},function(t){_f(n,t)})}(t,e,function(){return ua(n,"start",[e])},r,u,i,s)}function Sf(t){return new f("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function Ef(t){return new f("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function If(t){return la(function(n,i){var e={Nu:n,Cu:i};t.rh.Jh.push(e)})}function Rf(t){return t.rh.Jh.length}function Df(t){var n=t.rh;return void 0!==n&&!!Cf(n)}var Nf=function(){function t(t){if(!Lf(t))throw new f("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===of(t.fh))throw new f("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(Bf(t))throw new f("This stream has already been locked for exclusive reading by another reader");Ea(this,t),this.Jh=new Ta}return d.defineProperty(t.prototype,"closed",{get:function(){return Cf(this)?this.jo:ga(Of("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return Cf(this)?void 0===this.eh?ga(Da("cancel")):Ia(this,t):ga(Of("cancel"))},t.prototype.read=function(t){return Cf(this)?void 0===this.eh?ga(Da("read from")):ArrayBuffer.isView(t)?(t.buffer,0===t.byteLength?ga(new f("view must have non-zero byteLength")):function(t,n){var i=t.eh;if(i.hh=!0,"errored"===i.o)return ga(i.uh);return function(t,n){var i=t.Yh,e=1;n.constructor!==DataView&&(e=n.constructor.BYTES_PER_ELEMENT);var r=n.constructor,u={buffer:oa(n.buffer),byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:e,ctor:r,readerType:"byob"};if(t.Xh.length>0)return t.Xh.push(u),If(i);if("closed"===i.o)return wa(Sa(new r(u.buffer,u.byteOffset,0),!0,i.rh.ih));if(t.wh>0){if(!0===vf(t,u)){var s=ff(u);return wf(t),wa(Sa(s,!1,i.rh.ih))}if(!0===t.qh){var o=new f("Insufficient bytes to fill elements in the given buffer");return _f(t,o),ga(o)}}t.Xh.push(u);var c=If(i);return af(t),c}(i.fh,n)}(this,t)):ga(new f("view must be an array buffer view")):ga(Of("read"))},t.prototype.releaseLock=function(){if(!Cf(this))throw Of("releaseLock");if(void 0!==this.eh){if(this.Jh.length>0)throw new f("Tried to release a reader lock when that reader has pending read() calls un-settled");Ra(this)}},t}();function Cf(t){return!!ta(t)&&!!d.prototype.hasOwnProperty.call(t,"Jh")}function Of(t){return new f("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}var Af=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),xf(this);var i=n.size,e=n.highWaterMark,r=t.type;if("bytes"===String(r)){if(void 0!==i)throw new RangeError("The strategy for a byte stream cannot have a size function");void 0===e&&(e=0),Tf(this,t,e=ca(e))}else{if(void 0!==r)throw new RangeError("Invalid type is specified");var u=aa(i);void 0===e&&(e=1),function(t,n,i,e){var r=d.create(jh.prototype),u=ra(n,"pull",0,[r]),s=ra(n,"cancel",1,[]);nf(t,r,function(){return ua(n,"start",[r])},u,s,i,e)}(this,t,e=ca(e),u)}}return d.defineProperty(t.prototype,"locked",{get:function(){if(!1===Lf(this))throw Vf("locked");return Bf(this)},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return!1===Lf(this)?ga(Vf("cancel")):!0===Bf(this)?ga(new f("Cannot cancel a stream that already has a reader")):Ff(this,t)},t.prototype.getReader=function(t){var n=(void 0===t?{}:t).mode;if(!1===Lf(this))throw Vf("getReader");if(void 0===n)return La(this,!0);if("byob"===(n=String(n)))return function(t,n){void 0===n&&(n=!1);var i=new Nf(t);return i.ih=n,i}(this,!0);throw new RangeError("Invalid mode is specified")},t.prototype.pipeThrough=function(t,n){var i=t.writable,e=t.readable,r=void 0===n?{}:n,u=r.preventClose,s=r.preventAbort,o=r.preventCancel,c=r.signal;if(!1===Lf(this))throw Vf("pipeThrough");if(!1===eh(i))throw new f("writable argument to pipeThrough must be a WritableStream");if(!1===Lf(e))throw new f("readable argument to pipeThrough must be a ReadableStream");if(u=Boolean(u),s=Boolean(s),o=Boolean(o),void 0!==c&&!Vh(c))throw new f("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(!0===Bf(this))throw new f("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(!0===rh(i))throw new f("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return ka(Wh(this,i,u,s,o,c)),e},t.prototype.pipeTo=function(t,n){var i=void 0===n?{}:n,e=i.preventClose,r=i.preventAbort,u=i.preventCancel,s=i.signal;return!1===Lf(this)?ga(Vf("pipeTo")):!1===eh(t)?ga(new f("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(e=Boolean(e),r=Boolean(r),u=Boolean(u),void 0===s||Vh(s)?!0===Bf(this)?ga(new f("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):!0===rh(t)?ga(new f("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Wh(this,t,e,r,u,s):ga(new f("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal")))},t.prototype.tee=function(){if(!1===Lf(this))throw Vf("tee");var t=function(t,n){var i,e,r,u,s,o=La(t),c=!1,a=!1,h=!1,f=la(function(t){s=t});function d(){return!0===c?wa(void 0):(c=!0,ka(_a(Wa(o),function(t){if(c=!1,!0===t.done)return!1===a&&Kh(r.fh),void(!1===h&&Kh(u.fh));var n=t.value,i=n,e=n;!1===a&&Jh(r.fh,i),!1===h&&Jh(u.fh,e)})),wa(void 0))}function v(){}return r=Pf(v,d,function(n){if(a=!0,i=n,!0===h){var r=na([i,e]),u=Ff(t,r);s(u)}return f}),u=Pf(v,d,function(n){if(h=!0,e=n,!0===a){var r=na([i,e]),u=Ff(t,r);s(u)}return f}),ba(o.jo,function(t){Qh(r.fh,t),Qh(u.fh,t)}),[r,u]}(this);return na(t)},t.prototype.getIterator=function(t){var n=(void 0===t?{}:t).preventCancel,i=void 0!==n&&n;if(!1===Lf(this))throw Vf("getIterator");return function(t,n){void 0===n&&(n=!1);var i=La(t),e=d.create($a);return e.dh=i,e.vh=Boolean(n),e}(this,i)},t}();function Pf(t,n,i,e,r){void 0===e&&(e=1),void 0===r&&(r=function(){return 1});var u=d.create(Af.prototype);return xf(u),nf(u,d.create(jh.prototype),t,n,i,e,r),u}function xf(t){t.o="readable",t.rh=void 0,t.uh=void 0,t.hh=!1}function Lf(t){return!!ta(t)&&!!d.prototype.hasOwnProperty.call(t,"fh")}function Bf(t){return void 0!==t.rh}function Ff(t,n){return t.hh=!0,"closed"===t.o?wa(void 0):"errored"===t.o?ga(t.uh):(Mf(t),_a(t.fh[Pa](n),Jc))}function Mf(t){t.o="closed";var n=t.rh;void 0!==n&&(za(n)&&(n.ah.forEach(function(t){t.Nu(Sa(void 0,!0,n.ih))}),n.ah=new Ta),Aa(n))}function Uf(t,n){t.o="errored",t.uh=n;var i=t.rh;void 0!==i&&(za(i)?(i.ah.forEach(function(t){t.Cu(n)}),i.ah=new Ta):(i.Jh.forEach(function(t){t.Cu(n)}),i.Jh=new Ta),Oa(i,n))}function Vf(t){return new f("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}"symbol"==typeof Kc.asyncIterator&&d.defineProperty(Af.prototype,Kc.asyncIterator,{value:Af.prototype.getIterator,enumerable:!1,writable:!0,configurable:!0});var qf=function(){function t(t,n,i){void 0===t&&(t={}),void 0===n&&(n={}),void 0===i&&(i={});var e=n.size,r=n.highWaterMark,u=i.size,s=i.highWaterMark;if(void 0!==t.writableType)throw new RangeError("Invalid writable type specified");var o=aa(e);if(void 0===r&&(r=1),r=ca(r),void 0!==t.readableType)throw new RangeError("Invalid readable type specified");var c,a=aa(u);void 0===s&&(s=0),s=ca(s),function(t,n,i,e,r,u){function s(){return n}t.Qh=function(t,n,i,e,r,u){void 0===r&&(r=1),void 0===u&&(u=function(){return 1});var s=d.create(th.prototype);return ih(s),_h(s,d.create(bh.prototype),t,n,i,e,r,u),s}(s,function(n){return function(t,n){var i=t.Zh;if(!0===t.kh){var e=t.tf;return _a(e,function(){var e=t.Qh,r=e.o;if("erroring"===r)throw e.uh;return Kf(i,n)})}return Kf(i,n)}(t,n)},function(){return function(t){var n=t.nf,i=t.Zh,e=i.if();return Gf(i),_a(e,function(){if("errored"===n.o)throw n.uh;var t=n.fh;!0===tf(t)&&Kh(t)},function(i){throw zf(t,i),n.uh})}(t)},function(n){return function(t,n){return zf(t,n),wa(void 0)}(t,n)},i,e),t.nf=Pf(s,function(){return function(t){return jf(t,!1),t.tf}(t)},function(n){return Wf(t,n),wa(void 0)},r,u),t.kh=void 0,t.tf=void 0,t.ef=void 0,jf(t,!0),t.Zh=void 0}(this,la(function(t){c=t}),r,o,s,a),function(t,n){var i=d.create($f.prototype),e=function(t){try{return Yf(i,t),wa(void 0)}catch(t){return ga(t)}},r=n.transform;if(void 0!==r){if("function"!=typeof r)throw new f("transform is not a method");e=function(t){return sa(r,n,[t,i])}}var u=ra(n,"flush",0,[i]);!function(t,n,i,e){n.rf=t,t.Zh=n,n.uf=i,n.if=e}(t,i,e,u)}(this,t);var h=ua(t,"start",[this.Zh]);c(h)}return d.defineProperty(t.prototype,"readable",{get:function(){if(!1===Hf(this))throw Qf("readable");return this.nf},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"writable",{get:function(){if(!1===Hf(this))throw Qf("writable");return this.Qh},enumerable:!0,configurable:!0}),t}();function Hf(t){return!!ta(t)&&!!d.prototype.hasOwnProperty.call(t,"Zh")}function zf(t,n){Qh(t.nf.fh,n),Wf(t,n)}function Wf(t,n){Gf(t.Zh),Eh(t.Qh.gh,n),!0===t.kh&&jf(t,!1)}function jf(t,n){void 0!==t.tf&&t.ef(),t.tf=la(function(n){t.ef=n}),t.kh=n}var $f=function(){function t(){throw new f("TransformStreamDefaultController instances cannot be created directly")}return d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Xf(this))throw Jf("desiredSize");return Zh(this.rf.nf.fh)},enumerable:!0,configurable:!0}),t.prototype.enqueue=function(t){if(!1===Xf(this))throw Jf("enqueue");Yf(this,t)},t.prototype.error=function(t){if(!1===Xf(this))throw Jf("error");var n;n=t,zf(this.rf,n)},t.prototype.terminate=function(){if(!1===Xf(this))throw Jf("terminate");!function(t){var n=t.rf,i=n.nf.fh;!0===tf(i)&&Kh(i);var e=new f("TransformStream terminated");Wf(n,e)}(this)},t}();function Xf(t){return!!ta(t)&&!!d.prototype.hasOwnProperty.call(t,"rf")}function Gf(t){t.uf=void 0,t.if=void 0}function Yf(t,n){var i=t.rf,e=i.nf.fh;if(!1===tf(e))throw new f("Readable side is not in a state that permits enqueue");try{Jh(e,n)}catch(t){throw Wf(i,t),i.nf.uh}(function(t){return!0!==Gh(t)})(e)!==i.kh&&jf(i,!0)}function Kf(t,n){return _a(t.uf(n),void 0,function(n){throw zf(t.rf,n),n})}function Jf(t){return new f("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function Qf(t){return new f("TransformStream.prototype."+t+" can only be used on a TransformStream")}var Zf,td=function(t){function n(n){var i;return(i=t.call(this,""+n.join("\n"),n[0])||this).causes=n,i}return dt(n,t),ht(n,[{key:"name",get:function(){return"AggregateError"}}]),n}(On);function nd(t){return n=[t],new Af({start:function(t){for(var i=0;i<n.length;i++){var e=n[i];t.enqueue(e)}t.close()}});var n}function id(t){return nd(new y(t))}function ed(t,n){return function(t,n){var i=n,e=t.getReader(),r=new Ps,u=function(){s();var t=new cu;e.cancel(t).catch(Bt),r.Au(t)},s=function(){i&&(i.xr(u),i=void 0)};i&&(i.Rr?u():i.Pr(u));var o=[];return j.resolve(e.read()).then(function t(n){return n.done?(s(),j.resolve(o)):(o.push(n.value),j.resolve(e.read()).then(t))}).then(function(t){s(),r.Ou(t)},function(t){s(),r.Au(t)}),r.Du}(t,n).then(function(t){return Wu(t).buffer})}function rd(t,n){var i=n,e=new qf,r=e.readable,u=e.writable,s=u.getWriter(),o=function(){i&&i.Mr()};return s.closed.then(o,o),t.then(function(t){return i=void 0,s.releaseLock(),t.pipeTo(u).catch(Bt)},function(t){return i=void 0,s.releaseLock(),u.abort(t).catch(Bt)}),r}function ud(t){return Ts(new y(t))}function sd(t){return Ss(t).buffer}!function(t){t[t.Xa=0]="Xa",t[t.sf=1]="sf"}(Zf||(Zf={}));var od="content-type",cd="text/plain;charset=UTF-8",ad=function(){function t(){}var n=t.prototype;return n.cf=function(t){return this.af(t).then(JSON.parse)},n.hf=function(t,n){switch(t){case $c.ja:return this.ff(n);case $c.$a:return this.cf(n);case $c.Xa:return this.df();case $c.ei:return this.af(n);default:throw new f}},t}();function hd(t,n,i){if(t instanceof ad)return t;if(t instanceof Af)return function(t,n){return new dd({hr:Zf.Xa,df:t,vf:fd(n)})}(t,i);var e=fd(i),r=j.resolve(t).then(function(t){return function(t,n){if(t){if("string"==typeof t)return{hr:$c.ei,lf:t,vf:n||cd};if(t instanceof ArrayBuffer||Hu(t))return{hr:$c.ja,lf:pd(t),vf:n};if(Ot(t)||Dt(t))return{hr:$c.$a,lf:t,vf:n};throw new f("Unsupported BodyInit type")}return{hr:$c.ei,lf:null,vf:n}}(t,e)});return new dd({hr:Zf.sf,Du:r,wf:n})}function fd(t){return(t.get(od)||"").toLowerCase()}var dd=function(t){function n(n){var i;return(i=t.call(this)||this).gf=!1,i.yf=void 0,i.mf=new Ps,i.mf.Du.catch(Bt),i.pf(n),i}dt(n,t);var i=n.prototype;return i.bf=function(){return this.mf.Du},i.af=function(t){return this._f(vd,t)},i.cf=function(t){return this._f(wd,t)},i.ff=function(t){return this._f(yd,t)},i.df=function(){return this.kf((t=this.yf).hr===Zf.Xa?t.df:rd(t.Du.then(md).then(id),t.wf));var t},i._f=function(t,n){if(this.gf)return j.reject(new f("Already used"));this.gf=!0;var i=t(this.yf,n);return this.mf.Ou(i.then(Bt)),i},i.kf=function(t){if(this.gf)throw new f("Already used");if(t.locked)throw new f("Body stream is locked");this.gf=!0;var n=new qf,i=j.resolve(t.pipeTo(n.writable));return this.mf.Ou(i),n.readable},i.pf=function(t){this.yf=t,t.hr===Zf.sf&&t.Du.catch(Bt)},i.Tf=function(){if(this.gf)throw new f("Already used");var t=function(t){if(t.hr===Zf.Xa){var n=t.df.tee(),i=n[0],e=n[1];return[{hr:t.hr,df:i,vf:t.vf},{hr:t.hr,df:e,vf:t.vf}]}var r=t.wf.Vr(),u=r[0],s=r[1];return[{hr:t.hr,Du:t.Du,wf:u},{hr:t.hr,Du:t.Du,wf:s}]}(this.yf),i=t[0],e=t[1];return this.pf(i),new n(e)},ht(n,[{key:"Sf",get:function(){return this.gf}}]),n}(ad);function vd(t,n){return t.hr===Zf.Xa?ed(t.df,n).then(ud):(n&&t.wf.Ur(n),lu(t.Du.then(ld),t.wf))}function ld(t){switch(t.hr){case $c.ei:return j.resolve(t.lf||"");case $c.ja:return j.resolve(t.lf).then(ud);case $c.$a:return j.resolve(t.lf).then(JSON.stringify)}}function wd(t,n){return t.hr===Zf.Xa?vd(t,n).then(JSON.parse):(n&&t.wf.Ur(n),lu(t.Du.then(gd),t.wf))}function gd(t){return t.hr===$c.$a?j.resolve(t.lf):ld(t).then(JSON.parse)}function yd(t,n){return t.hr===Zf.Xa?ed(t.df,n):(n&&t.wf.Ur(n),lu(t.Du.then(md),t.wf))}function md(t){switch(t.hr){case $c.ja:return j.resolve(t.lf);case $c.ei:case $c.$a:return ld(t).then(sd)}}function pd(t){return t instanceof ArrayBuffer?t:Os(Rs(t)).buffer}function bd(t){return t.Ef>=200&&t.Ef<=299||304===t.Ef}var _d,kd,Td,Sd,Ed=function(t){function n(n,i){var e,r,u,s,o,c;i?(r=i.If,u=i.Rf,s=i.Ef,o=i.Df,c=i.Nf):(r=[],u=$c.ei,s=200,o="OK",c=!1);var a=n.Cf,h=new Xc(n.If||r),f=n.Rf||u,d=n.Of||(i&&i.Cf===a?i.Of:a.Af),v=i?i.Pf:null,l=hd(void 0!==n.Ai?n.Ai:v,n.wf||new ou,h);return(e=t.call(this,l)||this).If=void 0,e.Cf=void 0,e.Of=void 0,e.Rf=void 0,e.Ef=void 0,e.Df=void 0,e.Nf=void 0,e.If=h,e.Cf=a,e.Of=d,e.Rf=f,e.Ef=void 0!==n.Ef?n.Ef:s,e.Df=void 0!==n.Df?String(n.Df):o,e.Nf=n.Nf||c,e}dt(n,t);var i=n.prototype;return i.Ai=function(t){return this.hf(this.Rf,t)},i.Tu=function(){return new n({Ai:this.Tf(),Cf:this.Cf},this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).Pf=void 0,i.Pf=n,i}dt(n,t);var i=n.prototype;return i.bf=function(){return this.Pf.bf()},i.af=function(t){return this.Pf.af(t)},i.cf=function(t){return this.Pf.cf(t)},i.ff=function(t){return this.Pf.ff(t)},i.df=function(){return this.Pf.df()},i.Tf=function(){return this.Pf.Tf()},ht(n,[{key:"Sf",get:function(){return this.Pf.Sf}}]),n}(ad));!function(t){t.DELETE="DELETE",t.GET="GET",t.HEAD="HEAD",t.OPTIONS="OPTIONS",t.POST="POST",t.PUT="PUT"}(_d||(_d={})),function(t){t.xf="",t.Lf="manifest",t.Bf="segment",t.Ff="content-protection"}(kd||(kd={})),function(t){t.xf="",t.Mf="initialization-segment",t.Uf="fairplay-license",t.Vf="fairplay-certificate",t.qf="widevine-license",t.Hf="widevine-certificate",t.zf="playready-license",t.Wf="clearkey-license",t.jf="aes128-key"}(Td||(Td={})),function(t){t.xf="",t.$f="audio",t.Xf="video",t.ei="text",t.Gf="image"}(Sd||(Sd={}));var Id=function(t,n){this.lf=void 0,this.If=void 0,this.Yf=void 0,this.Rf=void 0,this.Kf=void 0,this.qr=void 0,this.hr=void 0,this.Jf=void 0,this.Qf=void 0,this.Af=void 0,this.Zf=void 0,this.td=void 0;var i,e,r,u,s,o,c,a,h,f,d,v=t.Af;n?(i=n.lf,e=n.If,r=n.Yf,u=n.Rf,s=n.Kf,o=n.qr,c=n.hr,a=n.Jf,h=n.Qf,f=n.Zf,d=n.td):(i=null,e={},r=_d.GET,u=$c.ei,s=0,c=kd.xf,a=Td.xf,h=Sd.xf,f=!1),this.Af=v,this.lf=t.lf||i,this.If=new Xc(t.If||e),this.Yf=t.Yf||r,this.Rf=t.Rf||u,this.Kf=void 0!==t.Kf?Number(t.Kf)||0:s,this.qr=t.qr||o||(new ou).qr,this.hr=t.hr||c,this.Jf=t.Jf||a,this.Qf=t.Qf||h,this.Zf=void 0!==t.Zf?Boolean(t.Zf):f,this.td=t.td||d},Rd=function(){function t(){}var n=t.prototype;return n.Cf=function(t){var n=function(t){return new Ed({Ai:null,If:{},Cf:t,Of:t.Af,Rf:t.Rf,Ef:0,Df:jc.Sa})}(new Id(t));return j.resolve(n)},n.nd=function(t){},n.et=function(){},t}();var Dd=function(){function t(t,n){void 0===n&&(n=!0),this.ed=void 0,this.rd=void 0,this.ed=t,this.rd=n}var n=t.prototype;return n.Cf=function(t){var n=this.ud(t);return this.ed.Cf(n)},n.nd=function(t){return this.ed.nd(this.sd(t))},n.ud=function(n){var i=new Id(n);if(!this.rd){var e=t.od(i.Af);i=new Id({Af:e},i)}return i},n.sd=function(n){var i=n.Af;return this.rd||(i=t.od(i)),{Af:i,lf:n.lf}},t.od=function(t){return st.$e&&Ur(t,"http://")?t.replace(":","s:"):t},n.et=function(){this.ed.et()},ht(t,null,[{key:"hd",get:function(){return t.fd||(t.fd=new t(new Rd)),t.fd}}]),t}();function Nd(t,n){for(var i=0,e=d.keys(n);i<e.length;i++){var r=e[i];t.searchParams.set(r,n[r])}}function Cd(t,n){var i=st.Ve(t);return n&&!Vr(i,"/")&&(i+="/"),i}Dd.fd=void 0;var Od,Ad=/cache:(.+)?(?=&|$)/,Pd="http://webcache.googleusercontent.com/search?q=cache:";function xd(t){if(!Ur(t,Pd))return"";var n=st.Ue(t).search.match(Ad);return n&&n.length>1?n[1]:""}!function(t){t.dd="HttpOpenError",t.vd="HttpResponseError",t.ld="HttpTimeoutError"}(Od||(Od={}));var Ld=function(t){function n(n,i,e){var r;return(r=t.call(this,i,e)||this).wd=void 0,r.wd=n,r}return dt(n,t),ht(n,[{key:"Cf",get:function(){return this.wd}}]),n}(On);var Bd=function(t){function n(n,i){return t.call(this,n,"Error while opening "+n.Af+". Invalid URL.",i)||this}return dt(n,t),ht(n,[{key:"name",get:function(){return Od.dd}}]),n}(Ld);var Fd=function(t){function n(n,i,e){var r;return(r=t.call(this,n.Cf,null!=e?e:function(t){return"Error while loading "+t.Cf.Af+", status code "+t.Ef}(n),i)||this).gd=void 0,r.gd=n,r}return dt(n,t),ht(n,[{key:"name",get:function(){return Od.vd}},{key:"yd",get:function(){return this.gd}}]),n}(Ld);var Md=function(t){function n(n,i){return t.call(this,n,function(t){return"Request for "+t.Af+" timed out after "+t.Kf+" seconds."}(n),i)||this}return dt(n,t),ht(n,[{key:"name",get:function(){return Od.ld}}]),n}(Ld),Ud=function(t,n){return(Ud=d.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])})(t,n)};function Vd(t,n){function i(){this.constructor=t}Ud(t,n),t.prototype=null===n?d.create(n):(i.prototype=n.prototype,new i)}var qd="object"==typeof i?i:"object"==typeof t?t:"object"==typeof global?global:null;var Hd=function(){var t=qd.Blob;if(t)try{return new t,function(t,n){return new qd.Blob(t,n)}}catch(t){}var n,i=qd.BlobBuilder||qd.WebKitBlobBuilder||qd.MozBlobBuilder||qd.MSBlobBuilder;return i?(n=i,function(t,i){var e=new n;if(t)for(var r=0,u=t;r<u.length;r++){var s=u[r];e.append(s)}return e.getBlob(i&&i.type||"")}):null}(),zd="function"==typeof Af?Af:void 0;function Wd(t){return t&&"function"==typeof t.getReader}function jd(t){if("function"!=typeof t)return!1;try{var n=!1,i=new t({start:function(){n=!0}});return!!n&&Wd(i)}catch(t){return!1}}var $d=function(){function t(t,n){this.rh=t,this.md=n}return t.prototype.pull=function(t){var n=this;return this.rh.read().then(function(i){n.md&&n.md(i),i.done?t.close():t.enqueue(i.value)})},t.prototype.cancel=function(t){return this.rh.cancel(t)},t}();function Xd(t,n){return n.constructor===t?n:new t(new $d(n.getReader()),{highWaterMark:0})}var Gd=function(){function t(t,n){this.pd=t,this.bd=n}return t.prototype.pull=function(t){return this.pd().then(function(n){t.enqueue(new y(n)),t.close()})},t.prototype.cancel=function(t){this.bd&&this.bd(t)},t}();function Yd(t,n,i){return new t(new Gd(n,i),{highWaterMark:0})}var Kd={searchParams:"URLSearchParams"in qd,iterable:"Symbol"in qd&&"iterator"in Symbol,blob:"FileReader"in qd&&!!Hd,formData:"FormData"in qd,arrayBuffer:"ArrayBuffer"in qd,stream:jd(zd),streamRequest:"Request"in qd&&"body"in qd.Request.prototype,streamResponse:"Response"in qd&&"body"in qd.Response.prototype,abort:"AbortController"in qd&&"Request"in qd&&"signal"in qd.Request.prototype,encoding:"TextEncoder"in qd&&"TextDecoder"in qd,url:"URL"in qd&&function(t){try{return new qd.URL(t).toString()===t}catch(t){return!1}}("http://example.com/"),firefox:"navigator"in qd&&/Firefox\//.test(qd.navigator.userAgent)};function Jd(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new f("Invalid character in header field name");return t}function Qd(t){return"string"!=typeof t&&(t=String(t)),t}function Zd(t){var n={next:function(){var n=t.shift();return{done:void 0===n,value:n}}};return Kd.iterable&&(n[Symbol.iterator]=function(){return n}),n}var tv=function(){function t(t){var n=this;this.er={};var i,e=function(t,i){Array.isArray(t)&&2===t.length?n.append(t[0],t[1]):n.append(i,t)};(i=t)&&"function"==typeof i.forEach?t.forEach(e):!function(t){return Kd.iterable&&t&&t[Symbol.iterator]}(t)?t&&d.getOwnPropertyNames(t).forEach(function(i){n.append(i,t[i])}):Array.from(t).forEach(e)}return t.prototype.append=function(t,n){t=Jd(t),n=Qd(n);var i=t.toLowerCase();if(this.er.hasOwnProperty(i)){var e=this.er[i],r=e[1];e[1]=r?r+", "+n:n}else this.er[i]=[t,n]},t.prototype.delete=function(t){var n=Jd(t).toLowerCase();delete this.er[n]},t.prototype.get=function(t){var n=Jd(t).toLowerCase();return this.er.hasOwnProperty(n)?this.er[n][1]:null},t.prototype.has=function(t){var n=Jd(t).toLowerCase();return this.er.hasOwnProperty(n)},t.prototype.set=function(t,n){var i=(t=Jd(t)).toLowerCase();this.er[i]=[t,Qd(n)]},t.prototype.forEach=function(t,n){for(var i in this.er)this.er.hasOwnProperty(i)&&t.call(n,this.er[i][1],i,this)},t.prototype.keys=function(){var t=[];return this.forEach(function(n,i){t.push(i)}),Zd(t)},t.prototype.values=function(){var t=[];return this.forEach(function(n){t.push(n)}),Zd(t)},t.prototype.entries=function(){var t=[];return this.forEach(function(n,i){t.push([i,n])}),Zd(t)},t.prototype.asList=function(){var t=[];for(var n in this.er)if(this.er.hasOwnProperty(n)){var i=this.er[n],e=i[0],r=i[1];t.push([e,r])}return t},t}();function nv(){}Kd.iterable&&(tv.prototype[Symbol.iterator]=tv.prototype.entries);var iv,ev,rv,uv=v.min,sv=String.fromCharCode,ov=16384;function cv(t){for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return function(t){for(var n=t.length,i=[],e=0;e<n;e+=ov){var r=uv(e+ov,n);i.push(sv.apply(null,t.slice(e,r)))}return i.join("")}(n)}function av(t){if(t>=55296&&t<=57343)throw new h("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function hv(t,n){return t>>n&63|128}function fv(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(av(t),n.push(t>>12&15|224),n.push(hv(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(hv(t,12)),n.push(hv(t,6))),n.push(63&t|128)):n.push(t)}function dv(){if(rv>=ev)throw new h("Invalid byte index");var t=255&iv[rv];if(rv++,128==(192&t))return 63&t;throw new h("Invalid continuation byte")}function vv(){var t,n;if(rv>ev)throw new h("Invalid byte index");if(rv===ev)return!1;if(t=255&iv[rv],rv++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|dv())>=128)return n;throw new h("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|dv()<<6|dv())>=2048)return av(n),n;throw new h("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|dv()<<12|dv()<<6|dv())>=65536&&n<=1114111)return n;throw new h("Invalid UTF-8 detected")}var lv=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];function wv(t){return t&&URLSearchParams.prototype.isPrototypeOf(t)}function gv(t){return t&&ArrayBuffer.prototype.isPrototypeOf(t)}function yv(t){return t&&DataView.prototype.isPrototypeOf(t)}var mv,pv=ArrayBuffer.isView||function(t){return t&&(lv.indexOf(d.prototype.toString.call(t))>-1||yv(t))};function bv(t){if(t.bodyUsed)return j.reject(new f("Already used"));t.bodyUsed=!0}function _v(t){return new j(function(n,i){t.onload=function(){n(t.result)},t.onerror=function(){i(t.error)}})}function kv(t){return Kd.encoding?new qd.TextDecoder("utf-8").decode(new y(t)):cv(function(t){ev=(iv=t).length,rv=0;for(var n,i=[];!1!==(n=vv());)i.push(n);return i}(new y(t)))}function Tv(t){return Kd.encoding?(new qd.TextEncoder).encode(t).buffer:new y(function(t){for(var n=[],i=0,e=t;i<e.length;i++)fv(e[i],n);return n}(function(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&r)<<10)+(1023&u)+65536):(n.push(r),i--)}else n.push(r)}return n}(t))).buffer}function Sv(t){var n=t.getReader(),i=[],e=function(t){var r=t.done,u=t.value;return r?j.resolve(i):(i.push(u),n.read().then(e))};return n.read().then(e)}function Ev(t){return Sv(t).then(function(t){return function(t){for(var n=0,i=0,e=t;i<e.length;i++)n+=(c=e[i]).byteLength;for(var r=new y(n),u=0,s=0,o=t;s<o.length;s++){var c=o[s];r.set(c,u),u+=c.byteLength}return r}(t).buffer})}function Iv(t){return t.slice?t.slice(0):Rv(new y(t))}function Rv(t){if(t.slice)return t.slice(0).buffer;var n=new y(t.byteLength);return n.set(new y(t.buffer,t.byteOffset,t.byteLength)),n.buffer}function Dv(t){var n=new FormData;return t.trim().split("&").forEach(function(t){if(t){var i=t.split("="),e=i.shift().replace(/\+/g," "),r=i.join("=").replace(/\+/g," ");n.append(decodeURIComponent(e),decodeURIComponent(r))}}),n}function Nv(t){var n=t;if(n.bodyUsed)throw new f("Already used");if(n._d===mv.kd){if(!n.Td.tee)throw new h("could not clone ReadableStream body");var i=n.Td.tee(),e=i[0],r=i[1];return n.body=e,n.Td=e,n.Sd=e,r}return n._d===mv.ja?Iv(n.Td):n._d===mv.sf?n.Td.then(Nv):n.Sd}!function(t){t[t.ei=0]="ei",t[t.Ed=1]="Ed",t[t.Id=2]="Id",t[t.ja=3]="ja",t[t.kd=4]="kd",t[t.sf=5]="sf"}(mv||(mv={}));var Cv=function(){function t(n,i){this.bodyUsed=!1;var e,r,u,s=this;if(this.Sd=n||null,n)if("string"==typeof n)this._d=mv.ei,this.Td=n;else if((u=n)&&"function"==typeof u.then)this._d=mv.sf,this.Td=j.resolve(n).then(function(n){return new t(n,i)}),this.Td.catch(nv);else if(Kd.blob&&function(t){return t&&Blob.prototype.isPrototypeOf(t)}(n))this._d=mv.Ed,this.Td=n;else if(Kd.formData&&function(t){return t&&FormData.prototype.isPrototypeOf(t)}(n))this._d=mv.Id,this.Td=n;else if(Kd.searchParams&&wv(n))this._d=mv.ei,this.Td=n.toString();else if(Kd.arrayBuffer&&(gv(n)||pv(n)))yv(n)&&(this.Sd=new y((r=n).buffer,r.byteOffset,r.byteLength)),this._d=mv.ja,this.Td=gv(e=n)?Iv(e):Rv(e);else{if(!Kd.stream||!Wd(n))throw new h("unsupported BodyInit type");n=Xd(zd,n),this._d=mv.kd,this.Td=n,this.Sd=n}else this._d=mv.ei,this.Td="";this.Rd="",i.has("content-type")?this.Rd=(i.get("content-type")||"").toLowerCase():("string"==typeof n?this.Rd="text/plain;charset=UTF-8":s._d===mv.Ed&&s.Td.type?this.Rd=s.Td.type:Kd.searchParams&&wv(n)&&(this.Rd="application/x-www-form-urlencoded;charset=UTF-8"),this.Rd&&i.set("content-type",this.Rd)),Kd.stream&&(null==n?this.body=null:s._d===mv.kd?this.body=s.Td:this.body=Yd(zd,function(){return s.arrayBuffer()},function(){s.bodyUsed=!0}))}return t.prototype.text=function(){var t,n,i,e=bv(this);return e||(this._d===mv.Ed?(t=this.Td,n=new FileReader,i=_v(n),n.readAsText(t),i):this._d===mv.ja?j.resolve(this.Td).then(kv):this._d===mv.kd?Ev(this.Td).then(kv):this._d===mv.sf?this.Td.then(function(t){return t.text()}):this._d===mv.Id?j.reject(new h("could not read FormData body as text")):j.resolve(this.Td))},t.prototype.json=function(){return this.text().then(JSON.parse)},t}();Kd.blob&&(Cv.prototype.blob=function(){var t,n,i=bv(this);return i||(this._d===mv.Ed?j.resolve(this.Td):this._d===mv.ja?j.resolve(Hd([this.Td],{type:this.Rd})):this._d===mv.kd?(t=this.Td,n=this.Rd,Sv(t).then(function(t){return Hd(t,{type:n||""})})):this._d===mv.sf?this.Td.then(function(t){return t.blob()}):this._d===mv.Id?j.reject(new h("could not read FormData body as Blob")):j.resolve(Hd([this.Td],{type:this.Rd})))}),Kd.arrayBuffer&&(Cv.prototype.arrayBuffer=function(){var t,n,i;return this._d===mv.ja?bv(this)||j.resolve(this.Td):this._d===mv.Ed?bv(this)||(t=this.Td,n=new FileReader,i=_v(n),n.readAsArrayBuffer(t),i):this._d===mv.kd?Ev(this.Td):this._d===mv.sf?bv(this)||this.Td.then(function(t){return t.arrayBuffer()}):this._d===mv.Id?j.reject(new h("could not read FormData body as ArrayBuffer")):j.resolve(this.Td).then(Tv)}),Kd.formData&&(Cv.prototype.formData=function(){return this._d===mv.Id?bv(this)||j.resolve(this.Td):this.text().then(Dv)});var Ov=[301,302,303,307,308],Av=function(t){function n(n,i){var e=this,r=new tv((i=i||{}).headers);return(e=t.call(this,n||null,r)||this).type="default",e.status=void 0===i.status?200:i.status,e.ok=e.status>=200&&e.status<300,e.statusText=void 0!==i.statusText?String(i.statusText):"",e.headers=r,e.url=i.url||"",e}return Vd(n,t),n.prototype.clone=function(){return new n(Nv(this),{status:this.status,statusText:this.statusText,headers:new tv(this.headers),url:this.url})},n.error=function(){var t=new n(null,{status:0,statusText:""});return t.type="error",t},n.redirect=function(t,i){if(-1===Ov.indexOf(i))throw new RangeError("Invalid status code");return new n(null,{status:i,headers:{location:t}})},n}(Cv);var Pv,xv=function(t,n){return t(n={exports:{}},n.exports),n.exports}(function(t,n){function i(t,n){if(!(t instanceof n))throw new f("Cannot call a class as a function")}function r(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),d.defineProperty(t,e.key,e)}}function u(t,n,i){return n&&r(t.prototype,n),i&&r(t,i),t}function o(t){return(o=d.setPrototypeOf?d.getPrototypeOf:function(t){return t.__proto__||d.getPrototypeOf(t)})(t)}function c(t,n){return(c=d.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t,n,i){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,i){var e=function(t,n){for(;!d.prototype.hasOwnProperty.call(t,n)&&null!==(t=o(t)););return t}(t,n);if(e){var r=d.getOwnPropertyDescriptor(e,n);return r.get?r.get.call(i):r.value}})(t,n,i||t)}d.defineProperty(n,"__esModule",{value:!0});var v=function(){function t(){i(this,t),d.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return u(t,[{key:"addEventListener",value:function(t,n){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(n)}},{key:"removeEventListener",value:function(t,n){if(t in this.listeners)for(var i=this.listeners[t],e=0,r=i.length;e<r;e++)if(i[e]===n)return void i.splice(e,1)}},{key:"dispatchEvent",value:function(t){var n=this;if(t.type in this.listeners){for(var i=function(i){s(function(){return i.call(n,t)})},e=this.listeners[t.type],r=0,u=e.length;r<u;r++)i(e[r]);return!t.defaultPrevented}}}]),t}(),l=function(t){function n(){var t,e,r;return i(this,n),e=this,(t=!(r=o(n).call(this))||"object"!=typeof r&&"function"!=typeof r?a(e):r).listeners||v.call(a(t)),d.defineProperty(a(t),"aborted",{value:!1,writable:!0,configurable:!0}),d.defineProperty(a(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new f("Super expression must either be null or a function");t.prototype=d.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&c(t,n)}(n,v),u(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),h(o(n.prototype),"dispatchEvent",this).call(this,t)}}]),n}(),w=function(){function t(){i(this,t),d.defineProperty(this,"signal",{value:new l,writable:!0,configurable:!0})}return u(t,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(n){void 0!==e?e.createEvent?(t=e.createEvent("Event")).initEvent("abort",!1,!1):(t=e.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(w.prototype[Symbol.toStringTag]="AbortController",l.prototype[Symbol.toStringTag]="AbortSignal"),n.AbortSignal=l,n.AbortController=w,n.default=w});(Pv=xv)&&Pv.__esModule&&d.prototype.hasOwnProperty.call(Pv,"default")&&Pv.default;xv.AbortSignal;var Lv=xv.AbortController,Bv=qd.DOMException;try{new Bv}catch(t){(Bv=function(t,n){h.call(this,t),this.name=n||"Error",h.captureStackTrace&&h.captureStackTrace(this,this.constructor)}).prototype=d.create(h.prototype),Bv.prototype.constructor=Bv}var Fv=Lv;function Mv(t,n){if(!t.signal.aborted)if(n.aborted)t.abort();else{var i=function(){n.removeEventListener("abort",i),t.signal.removeEventListener("abort",i),t.abort()};n.addEventListener("abort",i),t.signal.addEventListener("abort",i)}}function Uv(t,n,i){return new j(function(e,r){if(n.signal.aborted)return t.catch(nv),r(Vv());var u=function(){n.signal.removeEventListener("abort",u),r(Vv())};n.signal.addEventListener("abort",u),t.then(function(t){n.signal.removeEventListener("abort",u),e(t),i&&n.abort()},function(t){n.signal.removeEventListener("abort",u),r(t),i&&n.abort()})})}function Vv(){return new Bv("Aborted","AbortError")}var qv,Hv="moz-chunked-arraybuffer";function zv(t){try{var n=new m;return n.open("GET","https://test"),n.responseType=t,n.responseType===t}catch(t){}return!1}!function(t){t[t.UNSENT=0]="UNSENT",t[t.OPENED=1]="OPENED",t[t.HEADERS_RECEIVED=2]="HEADERS_RECEIVED",t[t.LOADING=3]="LOADING",t[t.DONE=4]="DONE"}(qv||(qv={}));var Wv=function(){function t(t,n){var i=this;this.Dd=!1,this.wd=t,this.Nd=n,this.Cd=new m,this.Od=new j(function(t,n){i.Ad=t,i.Pd=n})}return t.prototype.send=function(){var t=this;return this.xd().then(function(n){return t.Ld(n,t.Nd),t.Od})},t.prototype.xd=function(){var t=this.wd;return t._d===mv.kd?t.arrayBuffer():j.resolve(t.Sd)},t.prototype.Bd=function(t){this.wd.onprogress&&this.wd.onprogress(t.loaded,t.lengthComputable?t.total:void 0)},t.prototype.Fd=function(t){this.Pd(t)},t.prototype.Md=function(){this.Fd(new f("Network request failed"))},t.prototype.Ud=function(){this.Fd(new f("Network request failed"))},t.prototype.Vd=function(){this.Fd(Vv())},t.prototype.Ld=function(t,n){var i=this,e=this.wd,r=this.Cd,u=function(){return i.qd()};if(e.signal.aborted)return this.Vd();r.onreadystatechange=function(){if(r.readyState>=qv.HEADERS_RECEIVED&&!i.Dd){var t=function(t){var n=new tv;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var i=t.split(":"),e=i.shift().trim();if(e){var r=i.join(":").trim();n.append(e,r)}}),n}(r.getAllResponseHeaders()||""),n={status:r.status,statusText:r.statusText,headers:t,url:r.responseURL||t.get("X-Request-URL")};i.Dd=!0,i.Hd(n)}},r.onprogress=function(t){return i.Bd(t)},r.onload=function(){return i.zd()},r.onerror=function(){return i.Md()},r.ontimeout=function(){return i.Ud()},r.onabort=function(){return i.Vd()},r.open(e.method,e.url,!0),r.withCredentials="include"===e.credentials,"responseType"in r&&n&&(r.responseType=n),e.headers.forEach(function(t,n){r.setRequestHeader(n,t)}),e.signal.addEventListener("abort",u),r.onloadend=function(){e.signal.removeEventListener("abort",u)},t?r.send(t):r.send()},t.prototype.qd=function(){this.Vd(),this.Cd.abort()},t}(),jv=function(t){function n(n,i){var e=t.call(this,n,i)||this;return e.Wd=void 0,e.jd=void 0,e}return Vd(n,t),n.prototype.Hd=function(t){var n=this;this.Wd=new j(function(t,i){n.jd=t,n.$d=i}),this.Ad(new Av(this.Wd,t))},n.prototype.zd=function(){var t=this.Cd.response||this.Cd.responseText;this.jd(t)},n.prototype.Fd=function(n){t.prototype.Fd.call(this,n),this.$d&&this.$d(n)},n}(Wv),$v=function(t){function n(n){var i=t.call(this,n,Hv)||this;return i.Xd=void 0,i.Gd=void 0,i.Yd=!1,i}return Vd(n,t),n.prototype.Hd=function(t){var n=this;this.Xd=new zd({start:function(t){n.Gd=t},cancel:function(){n.Yd=!0,n.qd()}}),this.Ad(new Av(this.Xd,t))},n.prototype.Bd=function(n){this.Yd||this.Gd.enqueue(new y(this.Cd.response)),t.prototype.Bd.call(this,n)},n.prototype.zd=function(){this.Gd.close()},n.prototype.Fd=function(n){t.prototype.Fd.call(this,n),this.Gd&&!this.Yd&&(this.Yd=!0,this.Gd.error(n))},n}(Wv),Xv=function(){var t=Kd.firefox&&zv(Hv);return Xv=function(){return t},t},Gv=function(){var t;return t=Kd.arrayBuffer&&zv("arraybuffer")?"arraybuffer":Kd.blob&&zv("blob")?"blob":"",Gv=function(){return t},t};function Yv(t){return(Kd.stream&&Xv()?new $v(t):new jv(t,Gv())).send()}var Kv=qd.fetch,Jv=qd.Request,Qv=(qd.Response,qd.AbortController);var Zv=["http:","https:"];var tl=function(){try{if(Kd.streamRequest){var t=new Jv("about:blank",{body:"",method:"POST"}).body;if(t&&jd(t.constructor))return t.constructor}}catch(t){}}();function nl(t,n,i){var e;if(Kd.stream){var r=void 0;if(Kd.streamResponse){var u=t.body;r=u&&Xd(zd,u)}else r=Yd(zd,function(){return Uv(t.arrayBuffer(),n,!0)},function(){n.abort()});r&&i&&(r=function(t,n,i){var e=0;return function(t,n,i){return new t(new $d(n.getReader(),i),{highWaterMark:0})}(zd,t,function(t){var r=t.done,u=t.value;r?i=void 0===i?e:i:e+=u.byteLength,n(e,i)})}(r,i,il(t.headers))),e=r}else{var s=Uv(t.arrayBuffer(),n,!0);i&&(s=function(t,n,i){return j.resolve().then(function(){return n(0,i),t}).then(function(t){var e=t.byteLength;return n(e,i=void 0===i?e:i),t})}(s,i,il(t.headers))),e=s}return new Av(e,t)}function il(t){return t.has("content-length")?Number(t.get("content-length")):void 0}function el(t){var n=new Fv;return t.signal&&Mv(n,t.signal),function(t,n){var i,e,r=t;if(i=r._d===mv.kd?Kd.streamRequest&&tl?j.resolve(Xd(tl,r.Td)):Uv(t.arrayBuffer(),n,!1):Uv(j.resolve(t.Sd),n,!1),Kd.abort){var u=new Qv;Mv(u,n.signal),e=u.signal}return i.then(function(n){return new Jv(t.url,{body:n||void 0,credentials:t.credentials,headers:(i=t.headers,(i instanceof tv?i:new tv(i)).asList()),method:t.method,mode:t.mode,referrer:t.referrer,referrerPolicy:t.referrerPolicy,signal:e});var i})}(t,n).then(function(i){return Kv(i).then(function(i){return nl(i,n,t.onprogress)})})}var rl=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];var ul=function(t){function n(i,e){var r,u,s,o,c,a,h,d,v,l=this,w=(e=e||{}).body||null;if(i instanceof n){if(i.bodyUsed)throw new f("Already used");r=i.url,u=i.credentials,e.headers||(s=new tv(i.headers)),o=i.method,c=i.mode,a=i.referrer,h=i.referrerPolicy,d=i.signal,v=i.onprogress,w||null==i.Sd||(w=i.Sd,i.bodyUsed=!0)}else r=String(i),u="same-origin",o="GET",c="cors",a="about:client",h="",d=null,v=null;if(!e.headers&&s||(s=new tv(e.headers)),e&&(a="about:client",h=""),(l=t.call(this,w,s)||this).url=r,l.headers=s,l.credentials=e.credentials||u,l.method=function(t){var n=t.toUpperCase();return rl.indexOf(n)>-1?n:t}(e.method||o),l.mode=e.mode||c,l.signal=e.signal||d||(new Fv).signal,l.referrer=void 0!==e.referrer?e.referrer:a,l.referrerPolicy=void 0!==e.referrerPolicy?e.referrerPolicy:h,l.onprogress=e.onprogress||v,("GET"===l.method||"HEAD"===l.method)&&w)throw new f("Body not allowed for GET or HEAD requests");return l}return Vd(n,t),n.prototype.clone=function(){return new n(this,{body:Nv(this)})},n}(Cv),sl="function"==typeof Kv&&Kd.stream&&Kd.streamResponse&&Kd.url;function ol(t,n){return new j(function(i){var e=new ul(t,n);i((sl&&function(t){try{return Zv.indexOf(new qd.URL(t,qd.location.href).protocol)>=0}catch(t){return!1}}(e.url)?el:Yv)(e))})}ol.polyfill=!0;var cl=function(){function t(t){this.yd=void 0,this.wd=void 0,this.Kd=new ou,this.gd=void 0,this.Jd=!1,this.wd=t,this.Kd.Ur(t.qr),this.yd=this.Qd()}var n=t.prototype;return n.Qd=function(){var t,n,i,e,r,u,o,c,a=this;return vr.async(function(h){for(;;)switch(h.prev=h.next){case 0:(t=this.wd).Kf&&s(function(){a.Jd=!0,a.Kd.Mr()},t.Kf),h.prev=2,n=ol(t.Af,{method:t.Yf,headers:t.If.Ga(),body:t.lf,credentials:t.Zf?"include":"same-origin",signal:fl(this.Kd.qr),onprogress:t.td}),h.next=9;break;case 6:throw h.prev=6,h.t0=h.catch(2),new Bd(t,h.t0);case 9:return h.prev=9,h.next=12,vr.awrap(n);case 12:i=h.sent,h.next=20;break;case 15:throw h.prev=15,h.t1=h.catch(9),au(e=this.Zd(h.t1))&&this.Kd.Mr(),e;case 20:if(r=i.url||t.Af,u=0===i.status&&"file:"===(f=r,st.Ue(f).protocol)?200:i.status,o=new al(this,i,this.Kd),c=new Ed({Ai:o,Cf:t,Rf:t.Rf,If:new Xc(i.headers.asList()),Ef:u,Df:i.statusText,Of:r}),this.gd=c,!bd(c)){h.next=29;break}return h.abrupt("return",c);case 29:throw new Fd(c);case 30:case"end":return h.stop()}var f},null,this,[[2,6],[9,15]],j)},n.Zd=function(t){return au(t)?this.Jd?new Md(this.wd):new cu(t.message,t):this.gd?new Fd(this.gd,t):new Bd(this.wd,t)},t}(),al=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).tv=void 0,r.nv=void 0,r.Kd=void 0,r.mf=new Ps,r.tv=n,r.nv=i,r.Kd=e,r.mf.Du.catch(Bt),r}dt(n,t);var i=n.prototype;return i.bf=function(){return this.mf.Du},i.af=function(t){return this._f(this.nv.text(),t)},i.ff=function(t){return this._f(this.nv.arrayBuffer(),t)},i.df=function(){var t=this.nv.body;return t?this.kf(t):rd(this.ff().then(id),this.Kd)},i.Tf=function(){var t=this.nv.clone(),i=this.Kd.Vr(),e=i[0],r=i[1];return this.Kd=e,new n(this.tv,t,r)},i._f=function(t,n){var i=this;n&&this.Kd.Ur(n);var e=j.resolve(t).catch(function(t){throw i.tv.Zd(t)});return e=lu(e,this.Kd),this.mf.Ou(e.then(Bt)),e},i.kf=function(t){var n=this,i=new qf,e=j.resolve(t.pipeTo(i.writable,{preventAbort:!0})).catch(function(t){var e=n.tv.Zd(t);throw i.writable.abort(e).catch(Bt),e});return e=lu(e,this.Kd),this.mf.Ou(e.then(Bt)),i.readable},ht(n,[{key:"Sf",get:function(){return this.nv.bodyUsed}}]),n}(ad),hl="abort";function fl(t){var n=new Fv;if(t.Rr)n.abort();else if(!t.Dr){var i=function(){e(),n.abort()},e=function e(){n.signal.removeEventListener(hl,i),t.xr(i),t.Br(e)};n.signal.addEventListener(hl,i),t.Pr(i),t.Lr(e)}return n.signal}var dl,vl=function(){function t(){}var n=t.prototype;return n.Cf=function(t){return new cl(t).yd},n.nd=function(t){if(nt&&nt.sendBeacon)nt.sendBeacon(t.Af,zc([t.lf],{type:t.vf}));else{var n=t.vf?{"Content-type":t.vf}:void 0;yu(this.Cf(new Id({Yf:_d.POST,Af:t.Af,lf:t.lf,If:n})))}},n.et=function(){},t}(),ll=function(n){function i(){for(var i,e=arguments.length,r=new Array(e),u=0;u<e;u++)r[u]=arguments[u];return(i=n.call.apply(n,[this].concat(r))||this).ev=void 0,i.rv=function(){if(St._n)return!1;try{return"body"in t.Response.prototype}catch(t){return!1}}(),i.uv=St.Wn,i.sv=void 0,i}return dt(i,n),ht(i,[{key:"Ae",get:function(){return this.ev||(this.ev=new Gr(Uc())),this.ev}},{key:"ov",get:function(){return this.rv}},{key:"cv",get:function(){return this.uv}},{key:"av",get:function(){return!1}},{key:"hv",get:function(){return qc.oa()}},{key:"fv",get:function(){return{dv:Wc}}},{key:"vv",get:function(){return u.connection&&u.connection.effectiveType||"default"}},{key:"lv",get:function(){return u.connection&&u.connection.type||"unknown"}},{key:"wv",get:function(){return this.sv||(this.sv=new Dd(new vl)),this.sv}}]),i}(hr);vt(new ll),function(t){t.gv="yv",t.mv="pv"}(dl||(dl={}));dl.gv,dl.mv;var wl=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).bv=void 0,e}return dt(n,t),ht(n,[{key:"_v",get:function(){return this.bv||(this.bv=this.kv()),this.bv}}]),n}(Su);var gl,yl=function(t){function n(n){return t.call(this,n)||this}return dt(n,t),n}(wl),ml=function(t){function n(n){return t.call(this,n)||this}return dt(n,t),n}(Su),pl=function(t){function n(n){var i;return(i=t.call(this,dl.gv)||this).Tv=n,i}return dt(n,t),n.prototype.kv=function(){return new bl(this.Tv._v)},n}(yl),bl=function(t){function n(n){var i;return(i=t.call(this,"addtrack")||this).track=n,i}return dt(n,t),n}(ml),_l=function(t){function n(n){var i;return(i=t.call(this,dl.mv)||this).Tv=n,i}return dt(n,t),n.prototype.kv=function(){return new kl(this.Tv._v)},n}(yl),kl=function(t){function n(n){var i;return(i=t.call(this,"removetrack")||this).track=n,i}return dt(n,t),n}(ml);!function(t){t.Sv="Ev",t.Iv="Rv",t.Dv="Nv",t.Cv="Ov",t.Av="Pv",t.xv="Lv",t.Bv="Fv",t.Mv="Uv",t.Vv="ec",t.qv="Hv",t.zv="Wv",t.QUALITY_UNAVAILABLE="qualityunavailable",t.NO_QUALITY="noquality"}(gl||(gl={}));var Tl=function(t){function n(){var n;return(n=t.call(this)||this).jv=[],n.bv=void 0,n}dt(n,t);var i=n.prototype;return i.$v=function(t){return this.jv[t]},i.Xv=function(t){return!(!t||ru(this.jv,t))&&(this.jv.push(t),this.bv&&this.bv.push(t._v),t.Xr(gl.xv,this.jr),this.$r(new pl(t)),!0)},i.Gv=function(t){if(!t)return!1;var n=this.jv.indexOf(t);return!(n<0)&&(eu(this.jv,n),this.bv&&eu(this.bv,n),t.Jr(gl.xv,this.jr),this.$r(new _l(t)),!0)},i.Yv=function(t){return ru(this.jv,t)},i.Kv=function(){for(var t=this.jv,n=t.length-1;n>=0;n-=1)this.Gv(t[n])},i.et=function(){this.Kv(),this.Kr()},ht(n,[{key:"Jv",get:function(){return this.jv}},{key:"_v",get:function(){return this.bv||(this.bv=this.kv()),this.bv}},{key:"Qv",get:function(){return this.jv.length}}]),n}(ku),Sl=function(t){function n(n){var i;return(i=t.call(this,gl.xv)||this).Tv=n,i}return dt(n,t),n.prototype.kv=function(){return new El(this.Tv._v)},n}(yl),El=function(t){function n(n){var i;return(i=t.call(this,"change")||this).track=n,i}return dt(n,t),n}(ml),Il=function(t){function n(){var n;return(n=t.call(this)||this).Zv=void 0,n.tl=function(t){var i=t.Tv;n.Xv(i)},n.nl=function(t){var i=t.Tv;n.Gv(i)},n}dt(n,t);var i=n.prototype;return i.il=function(t){t.Xr(dl.gv,this.tl),t.Xr(dl.mv,this.nl)},i.ul=function(t){t.Jr(dl.gv,this.tl),t.Jr(dl.mv,this.nl)},i.et=function(){this.Zv&&this.Zv.et(),t.prototype.et.call(this)},ht(n,[{key:"sl",get:function(){return this.Zv},set:function(t){var n=this.Zv;if(t!==n){if(n){this.ul(n);for(var i=0,e=n.Jv;i<e.length;i++){var r=e[i];t&&t.Yv(r)||this.Gv(r)}}if(this.Zv=t,t){for(var u=[],s=0,o=t.Jv;s<o.length;s++){var c=o[s];this.Xv(c),this.ol(c)&&u.push(c)}this.il(t);for(var a=0;a<u.length;a++){var h=u[a];h.$r(new Sl(h))}}}}}]),n}(Tl),Rl=d.freeze||Ft;function Dl(t,n,i){d.defineProperty(t,n,{writable:!1,enumerable:!0,value:i})}function Nl(t,n){for(var i=0,e=d.getOwnPropertyNames(n);i<e.length;i++){var r=e[i];d.defineProperty(t,r,d.getOwnPropertyDescriptor(n,r))}return t}function Cl(t){if(Ot(t)){var n={};for(var i in t)Et.call(t,i)&&(n[i]=Cl(t[i]));return n}if(Dt(t)){for(var e=new Array(t.length),r=0;r<e.length;r++)r in t&&(e[r]=Cl(t[r]));return e}return t}function Ol(t,n){return t===n||!(!t||!n)&&(!(!Ct(t)||!Ct(n))&&(Nt(t)?!!Nt(n)&&function(t,n){var i=t.length,e=n.length;if(i!==e)return!1;for(var r=0;r<i;r+=1)if(!Ol(t[r],n[r]))return!1;return!0}(t,n):!Nt(n)&&function(t,n){var i=d.keys(t),e=d.keys(n);if(!i||!e||i.length!==e.length)return!1;for(var r=0;r<i.length;r++){var u=i[r];if(!Et.call(n,u)||!Ol(t[u],n[u]))return!1}return!0}(t,n)))}function Al(t,n){return t.constructor===n.constructor}function Pl(t){for(var n={},i=0,e=d.keys(t);i<e.length;i++){var r=e[i],u=t[r];null!=u&&(n[r]=u)}return n}function xl(t){var n=t;if("string"==typeof n){if("true"===(n=n.toLowerCase()))return!0;if("false"===n)return!1}return Boolean(n)}function Ll(t){return"string"==typeof t?""===t?NaN:Number(t):"boolean"==typeof t||null==t||t instanceof Date||"number"!=typeof Number(t)&&!t?NaN:Number(t)}function Bl(t){var n=Ll(t);if(g(n))throw new h("Expected a valid number.");return n}function Fl(t){return"string"==typeof t?t:""}function Ml(t,n){if(!Nt(t))return[];for(var i=0|t.length,e=new Array(i),r=0;r<i;r++)e[r]=n(t[r]);return e}function Ul(t,n){return Nt(t)?Ml(t,n):n(t)}var Vl=[dl.gv,dl.mv,gl.xv];function ql(t){var n,i=t.Jv.map(function(t){return t._v});return i.item=function(n){var i=0|n,e=t.$v(i);return e&&e._v||void 0},i.addEventListener=function(t,i){n.Xr(t,i)},i.removeEventListener=function(t,i){n.Jr(t,i)},n=new Tu(i),t.Xr(Vl,function(t){return n.$r(t._v)}),i}function Hl(){}function zl(t){var n,i=[gl.Vv,gl.xv,gl.qv,gl.zv,gl.QUALITY_UNAVAILABLE],e={get activeQuality(){return t.cl&&t.cl._v},get enabled(){return t.al},set enabled(n){t.al=xl(n)},get id(){return t.hl},get uid(){return t.fl},get kind(){return t.dl},get label(){return t.vl},set label(n){t.vl=Fl(n)},get language(){return t.ll},get qualities(){return t.wl._v},set targetQuality(n){var i;(i=n?function(t,n){for(var i=[],e=0,r=t.wl.Jv;e<r.length;e++)for(var u=r[e],s=0;s<n.length;s++){var o=n[s];u._v===o&&i.push(u)}return i}(t,Dt(n)?n:[n]):[]).length>0?t.gl=i:t.gl=void 0},get targetQuality(){if(t.gl)return 1===t.gl.length?t.gl[0]._v:t.gl.map(function(t){return t._v})},addEventListener:function(t,i){var e=Ul(t,Fl);n.Xr(e,i)},removeEventListener:function(t,i){var e=Ul(t,Fl);n.Jr(e,i)}};return n=new Tu(e),t.Xr(i,function(t){return n.$r(t._v)}),d.defineProperty(e,"constructor",{value:Hl}),e}function Wl(){}function jl(t){var n=ql(t);return d.defineProperty(n,"constructor",{value:Wl}),n}var $l,Xl,Gl=function(t){function n(){return t.apply(this,arguments)||this}dt(n,t);var i=n.prototype;return i.kv=function(){return jl(this)},i.ol=function(t){return t.al},n}(Il);function Yl(){}function Kl(t){var n,i=[gl.xv,gl.Vv,gl.Sv,gl.Iv,gl.Dv,gl.Cv,gl.Av,gl.Bv,gl.Mv],e=[Xl.yl],r={get kind(){return t.dl},get label(){return t.vl},set label(n){t.vl=Fl(n)},get language(){return t.ll},get id(){return t.hl},get uid(){return t.fl},get inBandMetadataTrackDispatchType(){return t.ml},get mode(){return t.pl},set mode(n){n!==$l.bl&&n!==$l._l&&n!==$l.kl||t.Tl(n)},get forced(){return Boolean(t.Sl)},get type(){return t.hr},get readyState(){return Zl(t.El)},get cues(){return t.pl===$l.kl?null:t.Il._v},get activeCues(){return t.pl===$l.kl?null:t.Rl._v},get src(){return t.Dl||""},addEventListener:function(t,i){var e=Ul(t,Fl);n.Xr(e,i)},removeEventListener:function(t,i){var e=Ul(t,Fl);n.Jr(e,i)}};return n=new Tu(t),t.Xr(i,function(t){return n.$r(t._v)}),t.Xr(e,function(t){return n.$r(t)}),d.defineProperty(r,"constructor",{value:Yl}),r}function Jl(){}function Ql(t){var n=ql(t);return d.defineProperty(n,"constructor",{value:Jl}),n}function Zl(t){return t}!function(t){t.kl="disabled",t._l="hidden",t.bl="showing"}($l||($l={})),function(t){t.yl="error"}(Xl||(Xl={}));var tw=function(t){function n(){return t.apply(this,arguments)||this}dt(n,t);var i=n.prototype;return i.kv=function(){return Ql(this)},i.ol=function(t){return t.pl===$l.bl},n}(Il),nw=function(t){function n(){return t.apply(this,arguments)||this}dt(n,t);var i=n.prototype;return i.Yr=function(n){t.prototype.Yr.call(this,n)},i.tu=function(n){t.prototype.tu.call(this,n)},n}(ku),iw=function(t){function n(){return t.apply(this,arguments)||this}return dt(n,t),n}(nw),ew=function(t){function n(){return t.call(this,jc.pa)||this}return dt(n,t),n}(Su),rw=function(t){function n(n){var i;return(i=t.call(this,jc.la)||this).currentSource=n,i}return dt(n,t),n}(Su),uw=function(){function t(){}return t.Nl=function(n,i){var e=t.Cl(n,i);return e?t.Ol(e):0},t.Al=function(){return st.vv||"default"},t.Pl=function(){return st.lv||"unknown"},t.Cl=function(n,i){var e,r=null==(e=st.hv)?void 0:e.wu(i),u=r&&JSON.parse(r);if(u&&u[n])return t.xl(u,n,i)},t.Ol=function(t){var n=t.availableBandwidth;return n||0},t.xl=function(n,i,e){if(!t.Ll(n,i))return n[i];t.Bl(n,i,e)},t.Bl=function(t,n,i){var e;delete t[n],null==(e=st.hv)||e.sa(i,JSON.stringify(t))},t.Ll=function(t,n){var i=t[n].storedTimestamp;if(!i)return!1;var e=new Date(i),r=(new Date).getTime();return e.setMonth(e.getMonth()+1)<=r},t.Fl=function(t,n,i,e){var r;return lr({},t,((r={})[n]={availableBandwidth:i,storedTimestamp:e},r))},t.Ml=function(n){var i=t.Al();t.Ul(i,"theoplayer-stored-network-info",n,En())},t.Ul=function(n,i,e,r){var u,s,o=null==(u=st.hv)?void 0:u.wu(i),c=o?JSON.parse(o):void 0,a=t.Fl(c,n,e,r);null==(s=st.hv)||s.sa(i,JSON.stringify(a))},t.Vl=function(){var n=t.Al();return t.Nl(n,"theoplayer-stored-network-info")},t}();var sw,ow,cw,aw,hw,fw,dw="1ADD53F3";function vw(t){return{chromecast:function(t){return{appID:t&&t.appID?Fl(t.appID):dw}}(t?t.chromecast:void 0),strategy:function(t){switch(t){case"auto":return sw.AUTO;case"manual":return sw.MANUAL;case"disabled":return sw.DISABLED;default:return sw.MANUAL}}(t?t.strategy:void 0)}}function lw(t){var n,i=cw.ql;return(n=t)&&Mr(n,"mpd")&&(i=cw.Hl),function(t){return!!t&&Mr(t,"m3u8")}(t)&&(i=cw.zl),i}function ww(t){return Ct(t)&&Ct(t.ssai)&&"google-dai"===t.ssai.integration}function gw(t){return Ct(t)&&At(t.integration)&&"verizon-media"===t.integration}function yw(t){if(At(t))return!t;if(gw(t))return!t.id;if(ww(t)){var n=t.ssai,i="live"===n.availabilityType&&n.assetKey,e="vod"===n.availabilityType&&n.contentSourceID&&n.videoID;return Boolean(i&&e)}return!t.src}function mw(t){return Boolean(Ct(t)&&At(t.src))}function pw(t){return At(t)||mw(t)||ww(t)||gw(t)}function bw(t){if(t){if(pw(t))return yw(t);for(var n=0;n<t.length;n++){if(!yw(t[n]))return!1}return!0}return!0}function _w(){return{crossOrigin:ow.Wl,useCredentials:!1,liveOffset:void 0,timeServer:void 0,hlsDateRange:void 0,experimentalRendering:!1,nativeUiRendering:!1,lowLatency:!1,useNativePlayback:!1,dash:void 0,hls:void 0,abr:void 0}}function kw(){return lr({},_w(),{src:void 0,type:cw.ql,contentProtection:void 0,ssai:void 0,integrationData:void 0,isAdvertisement:void 0})}function Tw(t){var n={allowedMimeTypes:void 0,preload:"midroll-and-postroll",showCountdown:!0,vpaidMode:aw.ENABLED,googleImaConfiguration:{useNativeIma:!1}};return void 0===t?n:(void 0!==t.preload&&(n.preload=function(t){switch(t){case"none":return hw.NONE;case"midroll-and-postroll":default:return hw.MIDROLL_AND_POSTROLL}}(t.preload)),void 0!==t.showCountdown&&(n.showCountdown=xl(t.showCountdown)),void 0!==t.vpaidMode&&(n.vpaidMode=function(t){switch(t){case"insecure":return aw.INSECURE;case"disabled":return aw.DISABLED;case"enabled":default:return aw.ENABLED}}(t.vpaidMode)),Dt(t.allowedMimeTypes)&&(n.allowedMimeTypes=t.allowedMimeTypes.filter(At)),void 0!==t.googleImaConfiguration&&(n.googleImaConfiguration=function(t){return void 0===t?{useNativeIma:!1}:{useNativeIma:xl(t.useNativeIma)}}(t.googleImaConfiguration)),n)}function Sw(t){if(!Nt(t))return[];for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];Ot(r)&&n.push(r)}return n}function Ew(t){return At(t.src)}!function(t){t.AUTO="auto",t.MANUAL="manual",t.DISABLED="disabled"}(sw||(sw={})),function(t){t.Wl="",t.jl="anonymous",t.$l="use-credentials"}(ow||(ow={})),function(t){t.Hl="application/dash+xml",t.zl="application/vnd.apple.mpegurl",t.Xl="application/x-mpegurl",t.ql="video/mp4",t.Gl="application/vnd.theoplayer.hesp+json",t.Yl="application/vnd.theo.hesp+json"}(cw||(cw={})),function(t){t.ENABLED="enabled",t.INSECURE="insecure",t.DISABLED="disabled"}(aw||(aw={})),function(t){t.NONE="none",t.MIDROLL_AND_POSTROLL="midroll-and-postroll"}(hw||(hw={})),function(t){t[t.Kl=0]="Kl",t[t.Jl=1]="Jl",t[t.Ql=2]="Ql",t[t.Zl=3]="Zl",t[t.tw=4]="tw"}(fw||(fw={}));var Iw,Rw=function(t){function n(n,i){var e;return void 0===i&&(i=fw.Kl),(e=t.call(this,jc.ya)||this).currentTime=n,e.readyState=i,e}return dt(n,t),n}(Su),Dw=function(t){function n(n){var i;return(i=t.call(this,jc.Ia)||this).currentTime=n,i}return dt(n,t),n}(Su),Nw=function(t){function n(n){var i;return(i=t.call(this,jc.Ra)||this).currentTime=n,i}return dt(n,t),n}(Su);!function(t){t.nw="canplay",t.iw="canplaythrough",t.ew="loadeddata",t.rw="loadedmetadata",t.Bv="readystatechange",t.uw="waiting",t.sw="playing"}(Iw||(Iw={}));var Cw,Ow,Aw=[Iw.nw,Iw.iw,Iw.ew,Iw.rw,Iw.Bv,Iw.uw,Iw.sw],Pw=function(t){function n(n,i){var e;return void 0===i&&(i=fw.Jl),(e=t.call(this,Iw.rw)||this).currentTime=n,e.readyState=i,e}return dt(n,t),n}(Su),xw=function(t){function n(n){var i;return(i=t.call(this,jc.ga)||this).duration=n,i}return dt(n,t),n}(Su),Lw=function(t){function n(n,i){var e;return(e=t.call(this,jc.Na)||this).currentTime=n,e.playbackRate=i,e}return dt(n,t),n}(Su),Bw=function(t){function n(n,i){var e;return(e=t.call(this,jc.Va)||this).currentTime=n,e.currentProgramDateTime=i,e}return dt(n,t),n}(Su),Fw=function(t){function n(n){var i;return(i=t.call(this,jc.ma)||this).currentTime=n,i}return dt(n,t),n}(Su),Mw=function(t){function n(n,i){var e;return void 0===i&&(i=fw.Ql),(e=t.call(this,Iw.ew)||this).currentTime=n,e.readyState=i,e}return dt(n,t),n}(Su),Uw=function(t){function n(n){var i;return(i=t.call(this,jc.Pa)||this).currentTime=n,i}return dt(n,t),n}(Su),Vw=function(t){function n(n){var i;return(i=t.call(this,jc.Aa)||this).currentTime=n,i}return dt(n,t),n}(Su),qw=function(t){function n(n,i){var e;return(e=t.call(this,jc.qa)||this).currentTime=n,e.volume=i,e}return dt(n,t),n}(Su),Hw=function(t){function n(n,i){var e;return void 0===i&&(i=fw.Zl),(e=t.call(this,Iw.nw)||this).currentTime=n,e.readyState=i,e}return dt(n,t),n}(Su),zw=function(t){function n(n,i){var e;return void 0===i&&(i=fw.tw),(e=t.call(this,Iw.iw)||this).currentTime=n,e.readyState=i,e}return dt(n,t),n}(Su),Ww=function(t){function n(n,i){var e;return(e=t.call(this,Iw.Bv)||this).currentTime=n,e.readyState=i,e}return dt(n,t),n}(Su),jw=function(t){function n(n){var i;return(i=t.call(this,Xl.yl)||this).errorObject=n,i}return dt(n,t),n.prototype.kv=function(){return this},ht(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(wl);function $w(t){switch(t){case Cw.ALL:case Cw.CONTENT:return t;default:return Cw.NONE}}function Xw(t){var n,i,e,r=Cl(t||{});return r.libraryLocation&&(r.libraryLocation=Cd(r.libraryLocation,!0)),r.isEmbeddable=Boolean(r.isEmbeddable),r.cast=vw(r.cast),r.ads=Tw(r.ads),r.analytics=Sw(r.analytics),r.mutedAutoplay=$w(r.mutedAutoplay),r.allowNativeFullscreen=Boolean(r.allowNativeFullscreen),r.allowMixedContent=Boolean(r.allowMixedContent),r.persistVolume=Boolean(r.persistVolume),r.liveOffset=(n=r.liveOffset,Number(n)||void 0),r.hlsDateRange=(i=r.hlsDateRange,Boolean(i)),r.retainPlaybackRateOnSourceChange=Boolean(r.retainPlaybackRateOnSourceChange),r.license=At(e=r.license)?e:void 0,r.licenseUrl=function(t){if(!t)return;try{return Cd(t)}catch(t){return void st.Se("Invalid 'licenseUrl', falling back to default URL")}}(r.licenseUrl),r}function Gw(t){return{ow:t.ow,cw:t.cw,aw:t.aw,ou:t.ou,hw:t.hw,fw:t.fw,dw:t.dw,vw:t.vw,El:t.El,lw:t.lw,ww:t.ww,gw:t.gw,yw:t.yw}}function Yw(t,n,i){if(n!==i){var e=n.ow,r=n.cw,u=n.fw,s=n.dw,o=n.vw,c=n.El,a=n.lw,h=(n.gw,n.ww,n.yw),f=i.ow,d=i.cw,v=i.aw,l=i.hw,w=i.fw,y=i.dw,m=i.vw,p=i.El,b=i.lw,_=(i.gw,i.ww,i.yw);c!==fw.Kl&&t.$r(new Rw(f,p)),y&&!s?t.$r(new Dw(f)):!y&&s&&t.$r(new Nw(f)),p>=fw.Jl&&t.$r(new Pw(f,p)),d===r||g(d)&&g(r)||t.$r(new xw(d)),m!==o&&t.$r(new Lw(f,m)),f!==e&&t.$r(new Bw(f,void 0)),v&&t.$r(new Fw(f)),p>=fw.Ql&&t.$r(new Mw(f,p)),b&&!a?t.$r(new Uw(f)):!b&&a&&t.$r(new Vw(f)),_===h&&w===u||t.$r(new qw(f,_)),p>=fw.Zl&&t.$r(new Hw(f,p)),p>=fw.tw&&t.$r(new zw(f,p)),p!==c&&t.$r(new Ww(f,p)),l&&t.$r(new jw(l))}}!function(t){t.NONE="none",t.ALL="all",t.CONTENT="content"}(Cw||(Cw={})),function(t){t.LIVE_OFFSET="liveoffset",t.TRACK_BYTES_DOWNLOADED="trackbytesdownloaded",t.ESTIMATED_TRACK_NETWORK_BANDWIDTH="estimatedtracknetworkbandwidth",t.ESTIMATED_TRACK_MEDIA_DATA_BANDWIDTH="estimatedtrackmediadatabandwidth",t.SEGMENT_RECEIVE_INTERVAL="segmentreceiveinterval"}(Ow||(Ow={}));var Kw,Jw=400,Qw=.25,Zw={windowStart:.2,target:.45,windowEnd:.7,maxOffset:3},tg={windowStart:.4,target:.7,windowEnd:.9,maxOffset:3},ng={windowStart:.4,target:.65,windowEnd:1,maxOffset:3},ig={windowStart:.5,target:1.125,windowEnd:1.75,maxOffset:2.55};function eg(){var t;return t=st.He.ae?ng:st.He.fe?"Android"===st.ze.We?tg:Zw:ig,st.ze.je?function(t){if(st.ze.je){var n=(Jw+250)/1e3,i=v.max(n,t.windowStart),e=v.max(i+Qw,t.target),r=v.max(e+Qw,t.windowEnd);return{windowStart:i,target:e,windowEnd:r,maxOffset:v.max(r+Qw,t.maxOffset)}}return t}(t):t}function rg(t){return{goLive:function(){return t.mw()},get isLive(){return t.pw},get currentServerLiveTime(){return t.bw},get currentLatency(){return t._w},get latency(){return t.kw},set latency(n){if(!function(t){if(!Ct(t))return!1;var n=t,i=Rt(n.target)&&"number"==typeof n.target&&Rt(n.windowEnd)&&"number"==typeof n.windowEnd&&Rt(n.windowStart)&&"number"==typeof n.windowStart&&Rt(n.maxOffset)&&"number"==typeof n.maxOffset,e=n.windowStart>=0&&n.windowStart<=n.target&&n.target<=n.windowEnd&&n.maxOffset>=n.windowEnd;return i&&e}(n))throw new h("Invalid latency configuration");t.kw=n},get manifest(){return t.Tw},get metrics(){return t.Sw},addEventListener:function(n,i){t.Xr(sg(n),i)},removeEventListener:function(n,i){t.Jr(sg(n),i)}}}!function(t){t[t.kl=0]="kl",t[t.Ew=1]="Ew",t[t.Iw=2]="Iw"}(Kw||(Kw={}));var ug=["analytic","golive","nogolive","bufferedchange"];function sg(t){var n=Ul(t,Fl);return(At(n)?[n]:n).filter(function(t){return ru(ug,t)})}var og,cg=function(t){function n(){var n;return(n=t.call(this)||this).Zv=void 0,n.bv=void 0,n.Rw=eg(),n.Zv=void 0,n}dt(n,t);var i=n.prototype;return i.il=function(t){t.Xr(ug,this.jr)},i.ul=function(t){t.Jr(ug,this.jr)},i.mw=function(){var t;null==(t=this.Zv)||t.mw()},i.et=function(){this.Kr(),this.Zv&&this.ul(this.Zv),this.Zv=void 0},ht(n,[{key:"sl",get:function(){return this.Zv},set:function(t){var n=this.Zv;t!==n&&(n&&this.ul(n),t&&this.il(t),this.Zv=t,this.Zv&&(this.Zv.kw=this.Rw))}},{key:"_v",get:function(){return this.bv||(this.bv=rg(this)),this.bv}},{key:"bw",get:function(){var t;return null==(t=this.Zv)?void 0:t.bw}},{key:"_w",get:function(){var t;return null==(t=this.Zv)?void 0:t._w}},{key:"pw",get:function(){return!!this.Zv&&this.Zv.pw}},{key:"kw",get:function(){return this.Rw},set:function(t){this.Zv&&(this.Zv.kw=t),this.Rw=t}},{key:"Tw",get:function(){var t;return null==(t=this.Zv)?void 0:t.Tw}},{key:"Sw",get:function(){var t;return null==(t=this.Zv)?void 0:t.Sw}}]),n}(ku),ag=function(t){function n(n){var i;return(i=t.call(this)||this).Zv=void 0,i.Dw=[],i.Nw=!1,i.Cw=new Gl,i.Ow=new Gl,i.Aw=new tw,i.Pw=new cg,i.xw=!1,i.Lw(n),n.Yr(i.jr),i.Zv=n,i.Cw.sl=n.Bw,i.Ow.sl=n.Fw,i.Aw.sl=n.Mw,i.Pw.sl=n.Uw,i}dt(n,t);var i=n.prototype;return i.Y=function(){this.Zv.Y()},i.K=function(){this.Zv.K()},i.Vw=function(){return vr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",mu(this.Dw.map(function(t){return t.Vw()})).then(Bt));case 1:case"end":return t.stop()}},null,this,null,j)},i.qw=function(){return this.Zv.qw()},i.Hw=function(t,n){return vr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return hu(n),i.next=3,vr.awrap(this.Zv.Hw(t,n));case 3:case"end":return i.stop()}},null,this,null,j)},i.zw=function(){return this.sl.zw()},i.Ww=function(){this.sl.Ww()},i.jw=function(){this.sl.jw()},i.st=function(){if(!this.Nw){for(var t=0,n=this.Dw;t<n.length;t++){n[t].st()}this.Nw=!0}},i.$w=function(t){this.Zv.$w(t)},i.Xw=function(){this.Zv.Xw()},i.Gw=function(){this.Zv.Gw()},i.Yw=function(){this.Zv.Yw()},i.Kw=function(){return this.Zv.Kw()},i.Jw=function(){return this.Zv.Jw()},i.Qw=function(){for(var t=[],n=0,i=this.Dw;n<i.length;n++){var e=i[n];t.push.apply(t,e.Qw())}return t},i.Zw=function(t){for(var n=!1,i=0,e=this.Dw;i<e.length;i++){n=e[i].Zw(t)||n}return n},i.$r=function(n){this.Zw(n)||t.prototype.$r.call(this,n)},i.Lw=function(t){this.Dw.push(t)},i.tg=function(t){iu(this.Dw,t)},i.ng=function(t){if(t!==this.Zv){var n=this.Zv;n.Xw(),n.tu(this.jr);var i=Gw(this),e=this.ig,r=this.Jw();this.Zv=t,this.Cw.sl=t.Bw,this.Ow.sl=t.Fw,this.Aw.sl=t.Mw,this.Pw.sl=t.Uw,Yw(this,i,this);var u=this.ig;u!==e&&this.$r(new rw(u)),this.Jw()!==r&&this.$r(new ew),t.Yr(this.jr),t.$w(n)}},i.eg=function(){},i.et=function(){var t,n,i;return vr.async(function(e){for(;;)switch(e.prev=e.next){case 0:this.Kr(),this.Zv.Xw(),t=0,n=this.Dw;case 3:if(!(t<n.length)){e.next=10;break}return i=n[t],e.next=7,vr.awrap(i.et());case 7:t++,e.next=3;break;case 10:this.Cw.et(),this.Ow.et(),this.Aw.et(),this.Pw.et();case 14:case"end":return e.stop()}},null,this,null,j)},i.Kv=function(){return vr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",mu(this.Dw.map(function(t){return t.Kv()})).then(Bt));case 1:case"end":return t.stop()}},null,this,null,j)},ht(n,[{key:"Bw",get:function(){return this.Cw}},{key:"Mw",get:function(){return this.Aw}},{key:"Fw",get:function(){return this.Ow}},{key:"rg",get:function(){return this.Zv.rg}},{key:"ug",get:function(){return this.Zv.ug},set:function(t){this.Zv.ug=t}},{key:"ig",get:function(){return this.Zv.ig}},{key:"ow",get:function(){return this.Zv.ow},set:function(t){this.Zv.ow=t}},{key:"cw",get:function(){return this.Zv.cw}},{key:"sg",get:function(){return this.Zv.sg}},{key:"aw",get:function(){return this.Zv.aw}},{key:"ou",get:function(){return this.Zv.ou}},{key:"hw",get:function(){return this.Zv.hw}},{key:"Uw",get:function(){return this.Pw}},{key:"og",get:function(){return this.Zv.og}},{key:"Sw",get:function(){return function(t){for(var n=0,i=0,e=0,r=0,u=0,s={amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0},o=0;o<t.length;o++){var c=t[o];n+=c.cg,i+=c.ag,e+=c.hg,r+=c.fg,u+=c.dg,s.amountOfBufferedAudioSegments+=c.vg.amountOfBufferedAudioSegments,s.amountOfBufferedVideoSegments+=c.vg.amountOfBufferedVideoSegments}return{cg:n,ag:i,hg:e,fg:r,dg:u,vg:s}}(this.Dw.map(function(t){return t.Sw}))}},{key:"fw",get:function(){return this.Zv.fw},set:function(t){this.Zv.fw=t}},{key:"lg",get:function(){return this.Zv.lg}},{key:"dw",get:function(){return this.Zv.dw}},{key:"vw",get:function(){return this.Zv.vw},set:function(t){this.Zv.vw=t}},{key:"wg",get:function(){return this.Zv.wg}},{key:"gg",get:function(){return this.Zv.gg},set:function(t){this.Zv.gg=t}},{key:"El",get:function(){return this.Zv.El}},{key:"yg",get:function(){return this.Zv.yg}},{key:"lw",get:function(){return this.Zv.lw}},{key:"ww",get:function(){return this.Zv.ww}},{key:"gw",get:function(){return this.Zv.gw}},{key:"yw",get:function(){return this.Zv.yw},set:function(t){this.Zv.yw=t}},{key:"mg",get:function(){return!1},set:function(t){}},{key:"sl",get:function(){return this.Zv},set:function(t){this.ng(t)}}]),n}(iw),hg=function(t){function n(n,i,e,r,u,s,o,c){var a;return(a=t.call(this,n,i,e)||this).url=void 0,a.status=void 0,a.statusText=void 0,a.response=void 0,a.systemCode=void 0,a.url=r,a.status=u,a.statusText=s,a.response=o,a.systemCode=c,a}return dt(n,t),ht(n,[{key:"name",get:function(){return"ContentProtectionError"}}]),n}(Ec);!function(t){t[t.ABORTED=1]="ABORTED",t[t.NETWORK=2]="NETWORK",t[t.DECODE=3]="DECODE",t[t.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",t[t.ENCRYPTED=5]="ENCRYPTED",t[t.LICENSE_INVALID=6]="LICENSE_INVALID",t[t.ADVERTISEMENT_ERROR=7]="ADVERTISEMENT_ERROR"}(og||(og={}));var fg=function(t){function n(n,i,e,r){var u;return(u=t.call(this,i)||this).code=void 0,u.message=void 0,u.cause=void 0,u.systemCode=void 0,u.code=n,u.message=null!=i?i:"Unknown error",u.cause=e,u.systemCode=r,h.captureStackTrace&&h.captureStackTrace(Nn(u),u.constructor),u}return dt(n,t),ht(n,[{key:"name",get:function(){return"MediaError"}}]),n}(Cn);function dg(t){Dl(t,"MEDIA_ERR_ABORTED",og.ABORTED),Dl(t,"MEDIA_ERR_NETWORK",og.NETWORK),Dl(t,"MEDIA_ERR_DECODE",og.DECODE),Dl(t,"MEDIA_ERR_SRC_NOT_SUPPORTED",og.SRC_NOT_SUPPORTED),Dl(t,"MEDIA_ERR_ENCRYPTED",og.ENCRYPTED)}function vg(t){var i,e;return function(t){return t.category===n.ErrorCategory.CONTENT_PROTECTION}(t)?new fg(og.ENCRYPTED,t.message,null==(i=t.cause)?void 0:i.message,t.systemCode):new fg(function(t){if(t===n.ErrorCode.MEDIA_ABORTED)return og.ABORTED;if(t===n.ErrorCode.MANIFEST_LOAD_ERROR||t===n.ErrorCode.MEDIA_LOAD_ERROR||t===n.ErrorCode.SUBTITLE_LOAD_ERROR)return og.NETWORK;if(t===n.ErrorCode.MEDIA_DECODE_ERROR)return og.DECODE;if(t===n.ErrorCode.MEDIA_NOT_SUPPORTED)return og.SRC_NOT_SUPPORTED;var i=n.ErrorCategory.fromCode(t);if(i===n.ErrorCategory.NETWORK)return og.NETWORK;if(i===n.ErrorCategory.SOURCE)return og.SRC_NOT_SUPPORTED;if(i===n.ErrorCategory.LICENSE)return og.LICENSE_INVALID;if(i===n.ErrorCategory.CONTENT_PROTECTION)return og.ENCRYPTED;if(i===n.ErrorCategory.AD)return og.ADVERTISEMENT_ERROR;return og.DECODE}(t.code),t.message,null==(e=t.cause)?void 0:e.message)}dg(fg),dg(fg.prototype);var lg,wg=function(t){function n(){return t.apply(this,arguments)||this}dt(n,t);var i=n.prototype;return i.Xv=function(n){return t.prototype.Xv.call(this,n)},i.kv=function(){return jl(this)},n}(Tl);!function(t){t.$f="audio",t.Xf="video",t.ei="text",t.Gf="image",t.xf="unknown"}(lg||(lg={}));var gg=function(){function t(){this.pg=[],this.bv=void 0}var n=t.prototype;return n.bg=function(t){this.pg.push(t),this.bv&&this.bv.push(t._v)},n.$v=function(t){return this.pg[t]},n._g=function(t){return Dt(t)?function(t,n){for(var i=0;i<n.length;i++)if(!ru(t,n[i]))return!1;return!0}(this.pg,t):ru(this.pg,t)},ht(t,[{key:"Jv",get:function(){return this.pg}},{key:"Qv",get:function(){return this.pg.length}},{key:"_v",get:function(){var t,n;return this.bv||(this.bv=((n=(t=this).Jv.map(function(t){return t._v})).item=function(n){var i=0|n,e=t.$v(i);return e&&e._v||void 0},n)),this.bv}}]),t}(),yg=function(t){function n(n){var i;return(i=t.call(this,gl.Vv)||this).Tv=n,i}return dt(n,t),n.prototype.kv=function(){return new mg(this.Tv._v)},n}(yl),mg=function(t){function n(n){var i;return(i=t.call(this,"update")||this).track=n,i}return dt(n,t),n}(ml),pg=0;function bg(){return pg++}var _g=0;var kg=0;var Tg=0;var Sg=function(t){function n(n){var i;return(i=t.call(this)||this).hr=lg.$f,i.kg=void 0,i.Ho=void 0,i.Tg=void 0,i.Sg=void 0,i.Eg=!1,i.pg=void 0,i.bv=void 0,i.kg=n,i.Sg=bg(),i.Ho=Tg+++"",i.Tg=n.label,i.pg=new gg,i.Ig(),i}dt(n,t);var i=n.prototype;return i.Rg=function(t){this.al=t},i.Ig=function(){this.al=this.Dg},ht(n,[{key:"cl",get:function(){}},{key:"al",get:function(){return this.Eg},set:function(t){this.Eg!==t&&(this.Eg=t,this.Dg=t,this.$r(new Sl(this)))}},{key:"Dg",get:function(){return!!this.kg.enabled},set:function(t){this.kg.enabled=t}},{key:"_v",get:function(){return this.bv||(this.bv=zl(this)),this.bv}},{key:"hl",get:function(){return this.Ho}},{key:"fl",get:function(){return this.Sg}},{key:"dl",get:function(){return this.kg.kind}},{key:"vl",get:function(){return this.Tg},set:function(t){t!==this.Tg&&(this.Tg=t,this.$r(new yg(this)))}},{key:"ll",get:function(){return this.kg.language}},{key:"pl",get:function(){return this.al?"enabled":"disabled"}},{key:"Ng",get:function(){return this.kg}},{key:"wl",get:function(){return this.pg}},{key:"gl",get:function(){},set:function(t){}}]),n}(ku),Eg=0;var Ig,Rg,Dg,Ng,Cg,Og=function(t){function n(n){var i;return(i=t.call(this)||this).hr=lg.Xf,i.kg=void 0,i.Ho=void 0,i.Sg=void 0,i.Eg=!1,i.pg=void 0,i.Tg=void 0,i.bv=void 0,i.kg=n,i.Sg=bg(),i.Ho=Eg+++"",i.pg=new gg,i.Tg=n.label,i.Ig(),i}dt(n,t);var i=n.prototype;return i.Ig=function(){this.al=this.Dg},i.Rg=function(t){this.al=t},ht(n,[{key:"cl",get:function(){}},{key:"al",get:function(){return this.Eg},set:function(t){this.Eg!==t&&(this.Eg=t,this.Dg=t,this.$r(new Sl(this)))}},{key:"Dg",get:function(){return!!this.kg.selected},set:function(t){this.kg.selected=t}},{key:"_v",get:function(){return this.bv||(this.bv=zl(this)),this.bv}},{key:"hl",get:function(){return this.Ho}},{key:"fl",get:function(){return this.Sg}},{key:"dl",get:function(){return"main"}},{key:"vl",get:function(){return this.Tg},set:function(t){t!==this.Tg&&(this.Tg=t,this.$r(new yg(this)))}},{key:"ll",get:function(){return this.kg.language}},{key:"pl",get:function(){return this.al?"enabled":"disabled"}},{key:"Ng",get:function(){return this.kg}},{key:"wl",get:function(){return this.pg}},{key:"gl",get:function(){},set:function(t){}}]),n}(ku),Ag=function(t){function n(n){var i;return(i=t.call(this,jc.ca)||this).og=n,i}return dt(n,t),n}(Su);!function(t){t[t.NONE=0]="NONE",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t[t.ERROR=3]="ERROR"}(Ig||(Ig={})),function(t){t.DEFAULT="",t.SRT="srt",t.TTML="ttml",t.WEBVTT="webvtt",t.EMSG="emsg",t.EVENT_STREAM="eventstream",t.ID3="id3",t.CEA608="cea608",t.DATE_RANGE="daterange"}(Rg||(Rg={})),function(t){t.Cg="cue",t.Og="region",t.Ag="stylesheet"}(Dg||(Dg={})),function(t){t.Pg="xg",t.Lg="Bg",t.Vv="ec"}(Ng||(Ng={})),function(t){t.Pg="enter",t.Lg="exit",t.Vv="update"}(Cg||(Cg={}));var Pg=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).Fg=i,e}return dt(n,t),n}(yl),xg=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).cue=i,e}return dt(n,t),n}(ml);function Lg(t){var n,i=[Ng.Pg,Ng.Lg,Ng.Vv],e={get track(){return t.Tv._v},get id(){return t.hl},get uid(){return t.fl},get startTime(){return t.Mg},get endTime(){return t.Ug},get content(){return t.Vg},addEventListener:function(t,i){var e=Ul(t,Fl);n.Xr(e,i)},removeEventListener:function(t,i){var e=Ul(t,Fl);n.Jr(e,i)}};return n=new Tu(e),t.Xr(i,function(t){return n.$r(t._v)}),e}function Bg(){}var Fg=.02;var Mg=function(t){function n(n,i,e,r,u){var s;return(s=t.call(this)||this).Sg=void 0,s.Ho=void 0,s.qg=void 0,s.Hg=void 0,s.bv=void 0,s.zg=void 0,s.Wg=!1,s.jg=void 0,s.$g=void 0,s.Xg="",s.Gg=-1,s.Sg=kg++,s.qg=n,s.Hg=i,s.jg=e,s.$g=Boolean(r),s.Ho=null!=u?u:"",s}dt(n,t);var i=n.prototype;return i.kv=function(){return Lg(this)},i.Yg=function(t){return this===t||Al(this,t)&&(i=t,Tn((n=this).Mg,i.Mg,Fg)&&Tn(n.Ug,i.Ug,Fg)&&n.hl===i.hl);var n,i},i.et=function(){this.Kr()},ht(n,[{key:"Mg",get:function(){return this.qg},set:function(t){this.qg=t}},{key:"Ug",get:function(){return this.Hg},set:function(t){this.Hg=t}},{key:"hl",get:function(){return this.Ho}},{key:"fl",get:function(){return this.Sg}},{key:"_v",get:function(){return this.bv||(this.bv=this.kv()),this.bv}},{key:"Kg",get:function(){return this.Wg},set:function(t){this.Wg=t}},{key:"Tv",get:function(){return this.zg},set:function(t){this.zg=t}},{key:"Vg",get:function(){return this.jg},set:function(t){this.jg=t}},{key:"Jg",get:function(){return this.Xg},set:function(t){this.Xg=t}},{key:"Qg",get:function(){return this.$g},set:function(t){this.$g=t}}]),n}(ku);var Ug=function(t){function n(n,i,e,r,u){var s;return(s=t.call(this,n,i,e,r,u)||this).Zg="auto",s.ty="start",s.ny="auto",s.iy="auto",s.ey=void 0,s.uy=!0,s.pu=100,s.sy="center",s.oy="",s}return dt(n,t),n.prototype.Yg=function(n){return this===n||Al(this,n)&&t.prototype.Yg.call(this,n)&&(e=n,(i=this).Vg===e.Vg&&i.Zg===e.Zg&&i.ty===e.ty&&i.ny===e.ny&&i.iy===e.iy&&i.ey===e.ey&&i.uy===e.uy&&i.pu===e.pu&&i.sy===e.sy&&i.oy===e.oy);var i,e},ht(n,[{key:"_v",get:function(){var t;return this.bv||(this.bv=Nl(Lg(t=this),{get align(){return t.sy},get line(){return t.Zg},get lineAlign(){return t.ty},get position(){return t.ny},get positionAlign(){return t.iy},get region(){return t.ey?t.ey._v:null},get size(){return t.pu},get snapToLines(){return t.uy},get text(){return t.Vg},get vertical(){return t.oy}})),this.bv}},{key:"hr",get:function(){return Dg.Cg}}]),n}(Mg);var Vg=function(){function t(t,n,i,e,r,u,s,o){this.bv=void 0,this.hl=t,this.ay=n,this.hy=i,this.vy=e,this.ly=r,this.wy=u,this.gy=s,this.yy=o}return ht(t,[{key:"_v",get:function(){var t;return this.bv||(this.bv=(t=this,{get id(){return t.hl},get identifier(){return t.hl},get lines(){return t.hy},get regionAnchorX(){return t.vy},get regionAnchorY(){return t.ly},get scrollValue(){return t.yy},get viewportAnchorX(){return t.wy},get viewportAnchorY(){return t.gy},get width(){return t.ay}})),this.bv}},{key:"hr",get:function(){return Dg.Og}}]),t}(),qg=function(){function t(){}var n=t.prototype;return n.my=function(t){return this.py()*t},n.by=function(t){return this._y(t)>0},n.ky=function(t){return this._y(t)>=0},n.Ty=function(t,n){return this.Ey(t).Sy(n)},n.Yg=function(t){return 0===this._y(t)},n.Iy=function(t){return this._y(t)<0},n.Sy=function(t){return this._y(t)<=0},n.Ry=function(){return this.Dy()?this.Ny():this},n.Cy=function(t){return this.bg(t.Ny())},n.Ey=function(t){return this.Cy(t).Ry()},t}();function Hg(t,n){return t.Oy()?n.Oy()?Xr.Sr:Xr.Er:n.Oy()?Xr.Ir:t.Ay()?n.Ay()&&t.Dy()===n.Dy()?Xr.Sr:t.Dy()?Xr.Ir:Xr.Er:n.Dy()?Xr.Er:Xr.Ir}var zg=function(){function t(t,n){this.Py=void 0,this.xy=void 0,this.Py=t,this.xy=n}t.Ly=function(n,i,e){return e?new t(n.toUnsigned(),i.toUnsigned()):new t(n.toSigned(),i.toSigned())},t.By=function(n){return n.unsigned?new t(n,bn.UZERO):new t(n,n.isNegative()?bn.NEG_ONE:bn.ZERO)},t.Fy=function(n,i){if(g(n))return i?t.My:t.Uy;if(i){if(n<0)return t.My;if(n>=3.402823669209385e38)return t.Vy}else{if(n<=-1.7014118346046923e38)return t.qy;if(n+1>=1.7014118346046923e38)return t.Hy}return n<0?t.Fy(-n,i).Ny():t.Ly(bn.fromNumber(n%0x10000000000000000),bn.fromNumber(n/0x10000000000000000),i)};var n=t.prototype;return n.zy=function(){return this.xy.unsigned},n.Wy=function(){return this.Py.isZero()&&this.xy.isZero()},n.Dy=function(){return this.xy.isNegative()},n.jy=function(){return this.zy()?t.Ly(this.Py,this.xy,!1):this},n.$y=function(){return this.zy()?this:t.Ly(this.Py,this.xy,!0)},n.Xy=function(){return this.Py},n.py=function(){return this.Dy()?-this.Ny().py():0x10000000000000000*this.xy.toNumber()+this.Py.toUnsigned().toNumber()},n.Gy=function(){return this.Py.toInt()},n.Yg=function(t){return(this.zy()===t.zy()||this.xy.getHighBits()>>>31!=1||t.xy.getHighBits()>>>31!=1)&&(this.xy.toUnsigned().eq(t.xy.toUnsigned())&&this.Py.toUnsigned().eq(t.Py.toUnsigned()))},n._y=function(t){if(this.Yg(t))return Xr.Sr;var n=this.Dy(),i=t.Dy();if(n&&!i)return Xr.Ir;if(!n&&i)return Xr.Er;if(!this.zy())return this.Cy(t).Dy()?Xr.Ir:Xr.Er;var e=this.$y(),r=t.$y(),u=r.xy.comp(e.xy);return u>0||0===u&&r.Py.gt(e.Py)?Xr.Ir:Xr.Er},n.Iy=function(t){return this._y(t)<0},n.Sy=function(t){return this._y(t)<=0},n.Yy=function(t){return this._y(t)>0},n.Ky=function(t){return this._y(t)>=0},n.Jy=function(){return new t(this.Py.not(),this.xy.not())},n.Qy=function(n){return new t(this.Py.and(n.Py),this.xy.and(n.xy))},n.Zy=function(n){return new t(this.Py.or(n.Py),this.xy.or(n.xy))},n.tm=function(n){var i=127&n;return 0===i?this:i<64?t.Ly(this.Py.shl(i),this.xy.shl(i).or(this.Py.shru(64-i)),this.zy()):t.Ly(bn.ZERO,this.Py.shl(i-64),this.zy())},n.nm=function(n){var i=127&n;return 0===i?this:i<64?t.Ly(this.Py.shru(i).or(this.xy.shl(64-i)),this.xy.shr(i),this.zy()):t.Ly(this.xy.shr(i-64),this.xy.isNegative()?bn.NEG_ONE:bn.ZERO,this.zy())},n.im=function(n){var i=127&n;return 0===i?this:i<64?t.Ly(this.Py.shru(i).or(this.xy.shl(64-i)),this.xy.shru(i),this.zy()):64===i?t.Ly(this.xy,bn.ZERO,this.zy()):t.Ly(this.xy.shru(i-64),bn.ZERO,this.zy())},n.bg=function(n){var i=this.xy.high>>>16,e=65535&this.xy.high,r=this.xy.low>>>16,u=65535&this.xy.low,s=this.Py.high>>>16,o=65535&this.Py.high,c=this.Py.low>>>16,a=65535&this.Py.low,h=n.xy.high>>>16,f=65535&n.xy.high,d=n.xy.low>>>16,v=65535&n.xy.low,l=n.Py.high>>>16,w=65535&n.Py.high,g=n.Py.low>>>16,y=0,m=0,p=0,b=0,_=0,k=0,T=0,S=0;T+=(S+=a+(65535&n.Py.low))>>>16,S&=65535,k+=(T+=c+g)>>>16,T&=65535,_+=(k+=o+w)>>>16,k&=65535,b+=(_+=s+l)>>>16,_&=65535,p+=(b+=u+v)>>>16,b&=65535,m+=(p+=r+d)>>>16,p&=65535,y+=(m+=e+f)>>>16,m&=65535,y+=i+h,y&=65535;var E=this.zy(),I=bn.fromBits(p<<16|b,y<<16|m,E),R=bn.fromBits(T<<16|S,_<<16|k,E);return t.Ly(R,I,E)},n.Cy=function(t){return this.bg(t.Ny())},n.Ny=function(){return this.Jy().bg(t.rm)},n.um=function(n){if(this.Wy()||n.Wy())return this.zy()?t.My:t.Uy;if(this.Dy())return n.Dy()?this.Ny().um(n.Ny()):this.Ny().um(n).Ny();if(n.Dy())return this.um(n.Ny()).Ny();if(this.xy.isZero()&&0===this.Py.high&&n.xy.isZero()&&0===n.Py.high)return t.By(this.Py.multiply(n.Py));var i=bn.fromBits(4294967295,0,!0),e=this.Py.and(i),r=this.Py.shru(32),u=this.xy.and(i),s=this.xy.shru(32),o=n.Py.and(i),c=n.Py.shru(32),a=n.xy.and(i),h=n.xy.shru(32),f=bn.UZERO,d=bn.UZERO,v=bn.UZERO,l=bn.UZERO;f=f.add(e.mul(o)),d=d.add(f.shru(32)),f=f.and(i),d=d.add(r.mul(o)),v=v.add(d.shru(32)),d=(d=d.and(i)).add(e.mul(c)),v=v.add(d.shru(32)),d=d.and(i),v=v.add(u.mul(o)),l=l.add(v.shru(32)),v=(v=v.and(i)).add(r.mul(c)),l=l.add(v.shru(32)),v=(v=v.and(i)).add(e.mul(a)),l=l.add(v.shru(32)),v=v.and(i),l=l.add(s.mul(o)).add(u.mul(c)).add(r.mul(a)).add(e.mul(h)).and(i);var w=bn.fromBits(f.getLowBitsUnsigned(),d.getLowBitsUnsigned(),!0),g=bn.fromBits(v.getLowBitsUnsigned(),l.getLowBitsUnsigned(),!0);return t.Ly(w,g,this.zy())},n.sm=function(n){var i,e,r=n;if(r.Wy())throw new RangeError("division by zero");if(this.Wy())return this.zy()?[t.My,t.My]:[t.Uy,t.Uy];if(this.zy()){if(r.zy()||(r=r.$y()),r.Yy(this))return[t.My,this];if(r.Yy(this.im(1)))return[e=t.om,i=this.Cy(r)];e=t.My}else{if(this.Yg(t.qy)){if(r.Yg(t.rm)||r.Yg(t.cm))return[t.qy,t.Uy];if(r.Yg(t.qy))return[t.rm,t.Uy];var u=this.nm(1).am(r).tm(1);return u.Yg(t.Uy)?e=r.Dy()?t.rm:t.cm:(i=this.Cy(r.um(u)),e=u.bg(i.am(r))),[e,i=this.Cy(r.um(e))]}if(r.Yg(t.qy))return this.zy()?[t.My,this]:[t.Uy,this];if(this.Dy()){if(r.Dy())return this.Ny().sm(r.Ny());var s=this.Ny().sm(r);return e=s[0],i=s[1],[e.Ny(),i.Ny()]}if(r.Dy()){var o=this.sm(r.Ny());return e=o[0],i=o[1],[e.Ny(),i.Ny()]}e=t.Uy}for(i=this;i.Ky(r);){for(var c=v.max(1,v.floor(i.py()/r.py())),a=v.ceil(v.log(c)/v.LN2),h=a<=48?1:v.pow(2,a-48),f=t.Fy(c),d=f.um(r);d.Dy()||d.Yy(i);)c-=h,d=(f=t.Fy(c,this.zy())).um(r);f.Wy()&&(f=t.rm),e=e.bg(f),i=i.Cy(d)}return[e,i]},n.am=function(t){return this.sm(t)[0]},n.hm=function(t){return this.sm(t)[1]},n.toString=function(n){var i=n||10;if(i<2||i>36)throw new RangeError("radix");if(this.Wy())return"0";if(this.Dy()){if(this.Yg(t.qy)){var e=t.Fy(i),r=this.am(e),u=r.um(e).Cy(this);return r.toString(i)+u.Gy().toString(i)}return"-"+this.Ny().toString(i)}for(var s=t.Fy(v.pow(i,6),this.zy()),o=this,c="";;){var a=o.am(s),h=(o.Cy(a.um(s)).Gy()>>>0).toString(i);if((o=a).Wy())return h+c;for(;h.length<6;)h="0"+h;c=String(h)+c}},t}();zg.Uy=zg.By(bn.ZERO),zg.My=zg.By(bn.UZERO),zg.rm=zg.By(bn.ONE),zg.om=zg.By(bn.UONE),zg.cm=zg.By(bn.NEG_ONE),zg.Hy=zg.Ly(bn.NEG_ONE,bn.MAX_VALUE,!1),zg.Vy=zg.Ly(bn.MAX_UNSIGNED_VALUE,bn.MAX_UNSIGNED_VALUE,!0),zg.qy=zg.Ly(bn.ZERO,bn.MIN_VALUE,!1);var Wg=function(){function t(t,n){void 0===n&&(n=1),this.fm=void 0,this.dm=void 0,this.fm=t,this.dm=n}t.vm=function(n){return new t(v.ceil(n.fm),n.dm)},t.lm=function(n){return new t(v.floor(n.fm),n.dm)},t.wm=function(t,n){return t.ky(n)?t:n},t.gm=function(t,n){return t.Sy(n)?t:n};var n=t.prototype;return n.bg=function(n){return this.dm>=n.dm?new t(this.fm+n.ym(this.dm).fm,this.dm):new t(this.ym(n.dm).fm+n.fm,n.dm)},n.by=function(t){return t.Iy(this)},n.ky=function(t){return t.Sy(this)},n.Ey=function(n){return this.dm>=n.dm?new t(v.abs(this.fm-n.ym(this.dm).fm),this.dm):n.Ey(this)},n.Ty=function(t,n){return this.Ey(t).Sy(n)},n._y=function(t){return i=t,(n=this).dm>=i.dm?tu(n.fm,i.ym(n.dm).fm):tu(n.ym(i.dm).fm,i.fm);var n,i},n.Yg=function(t){return 0===this._y(t)},n.Iy=function(t){return this._y(t)<0},n.Sy=function(t){return this._y(t)<=0},n.ym=function(n){return new t(this.fm*(n/this.dm),n)},n.Cy=function(n){return this.dm>=n.dm?new t(this.fm-n.ym(this.dm).fm,this.dm):new t(this.ym(n.dm).fm-n.fm,n.dm)},n.mm=function(n){return new t(this.fm*n,this.dm)},ht(t,[{key:"Ay",get:function(){return!isFinite(this.fm)}},{key:"pm",get:function(){return this.fm/this.dm}}]),t}();Wg.bm=new Wg(1/6,1),Wg.Uy=new Wg(0),Wg._m=new Wg(1/0),Wg.km=1e6;var jg=function(t){function n(n,i){var e;return(e=t.call(this)||this).li=void 0,e.dm=void 0,e.li=n.toSigned(),e.dm=i>>>0,e}dt(n,t),n.Tm=function(t,i){return void 0===i&&(i=1e6),n.Fy(t*i,i)},n.Fy=function(t,i){return g(t)?n.Sm:t===1/0?n.Em:t===-1/0?n.Im:new n(bn.fromNumber(t),i)},n.By=function(t,i){return new n(t,i)},n.Rm=function(t){return n.Tm(t.pm,1e6)},n.Dm=function(t){return new n(bn.fromNumber(t.getTime()),1e3)},n.wm=function(t,n){return t.ky(n)?t:n},n.gm=function(t,n){return t.Sy(n)?t:n},n.Nm=function(t,i,e){return n.wm(i,n.gm(e,t))};var i=n.prototype;return i.Dy=function(){return this.li.isNegative()},i.Wy=function(){return 0!==this.dm&&this.li.isZero()},i.Ay=function(){return 0===this.dm&&!this.li.isZero()},i.Oy=function(){return 0===this.dm&&this.li.isZero()},i.py=function(){if(0===this.dm)return this.li.isZero()?NaN:this.li.isNegative()?-1/0:1/0;var t=this.li.divide(this.dm),n=this.li.subtract(t.multiply(this.dm));return t.toNumber()+n.toNumber()/this.dm},i.Xy=function(){if(0===this.dm)throw new h("Failed to convert timestamp");return this.li},i.Cm=function(){return new Date(0===this.dm?NaN:this.ym(1e3).li.toNumber())},i.Om=function(){return new Wg(0===this.dm?this.py():this.li.toNumber(),this.dm)},i.ym=function(t,i){void 0===i&&(i=Gg.Am);var e=this.dm;if(e===t)return this;if(0===e)return this;var r=Sn(e,t);return new n(function(t,n,i){var e=t.sm(n),r=e[0],u=e[1];if(u.Wy())return r;if(i===Gg.Am)return u.Dy()?r.Cy(zg.rm):r;if(i===Gg.Pm)return u.Dy()?r:r.bg(zg.rm);var s=u.um(zg.Fy(2));return s.Dy()?s.Ny().Iy(n)?r:r.Cy(zg.rm):s.Iy(n)?r:r.bg(zg.rm)}(zg.By(this.li).um(zg.Fy(t/r)),zg.Fy(e/r),i).Xy(),t)},i._y=function(t){if(this===t)return Xr.Sr;if(0===this.dm||0===t.dm)return Hg(this,t);if(this.Wy())return t.Wy()?Xr.Sr:t.Dy()?Xr.Er:Xr.Ir;if(t.Wy())return this.Dy()?Xr.Ir:Xr.Er;var n=v.min(this.dm,t.dm),i=this.ym(n,Gg.xm).li,e=t.ym(n,Gg.xm).li;return i.compare(e)},i.Ny=function(){return 0===this.dm?$g(this):new n(this.li.negate(),this.dm)},i.bg=function(t){if(0===this.dm||0===t.dm)return Xg(this,t);if(this.Wy())return t;if(t.Wy())return this;var i=v.max(this.dm,t.dm),e=this.ym(i,Gg.xm),r=t.ym(i,Gg.xm);return new n(e.li.add(r.li),i)},i.um=function(t){if(this.Oy()||g(t))return n.Sm;if(this.Ay()||!isFinite(t)){if(this.Wy()||0===t)return n.Sm;var i=this.Dy()?n.Im:n.Em;return t<0?i.Ny():i}return this.Wy()?this:new n(0===t?bn.ZERO:this.li.multiply(t),this.dm)},i.am=function(t){if(this.Oy()||g(t))return n.Sm;if(this.Ay())return isFinite(t)?0===t?1/t<0?this.Ny():this:t<0?this.Ny():this:n.Sm;if(!isFinite(t))return new n(bn.ZERO,this.dm);if(this.Wy())return 0===t?n.Sm:new n(bn.ZERO,this.dm);if(0===t){var i=this.Dy()?n.Im:n.Em;return 1/t<0?i.Ny():i}return new n(this.li.divide(t),this.dm)},i.Lm=function(){return[this.li.low,this.li.high,this.dm]},n}(qg);function $g(t){return t.Oy()?t:t.Dy()?jg.Em:jg.Im}function Xg(t,n){return t.Oy()||n.Oy()?jg.Sm:t.Ay()&&n.Ay()?t.Dy()===n.Dy()?t:jg.Sm:t.Ay()?t:n}jg.Uy=new jg(bn.ZERO,1e6),jg.Sm=new jg(bn.ZERO,0),jg.Em=new jg(bn.ONE,0),jg.Im=new jg(bn.NEG_ONE,0);var Gg,Yg=function(t){function n(n,i){var e;return(e=t.call(this)||this).li=void 0,e.dm=void 0,e.li=BigInt.asIntN(64,n),e.dm=i>>>0,e}dt(n,t),n.Tm=function(t,i){return void 0===i&&(i=1e6),n.Fy(t*i,i)},n.Fy=function(t,i){return g(t)?n.Sm:t===1/0?n.Em:t===-1/0?n.Im:new n(BigInt(v.floor(t)),i)},n.By=function(t,i){return new n(BigInt(t.high)<<BigInt(32)|BigInt(t.low>>>0),i)},n.Rm=function(t){return n.Tm(t.pm,1e6)},n.Dm=function(t){return n.Fy(t.getTime(),1e3)},n.wm=function(t,n){return t.ky(n)?t:n},n.gm=function(t,n){return t.Sy(n)?t:n},n.Nm=function(t,i,e){return n.wm(i,n.gm(e,t))};var i=n.prototype;return i.Dy=function(){return this.li<BigInt(0)},i.Wy=function(){return 0!==this.dm&&this.li===BigInt(0)},i.Ay=function(){return 0===this.dm&&this.li!==BigInt(0)},i.Oy=function(){return 0===this.dm&&this.li===BigInt(0)},i.py=function(){if(0===this.dm)return this.li===BigInt(0)?NaN:this.li<BigInt(0)?-1/0:1/0;var t=this.li/BigInt(this.dm),n=this.li-t*BigInt(this.dm);return Number(t)+Number(n)/this.dm},i.Xy=function(){if(0===this.dm)throw new h("Failed to convert timestamp");return this.Bm()},i.Bm=function(){var t=this.li&BigInt(4294967295),n=this.li>>BigInt(32)&BigInt(4294967295);return bn.fromBits(Number(t),Number(n))},i.Cm=function(){return new Date(0===this.dm?NaN:Number(this.ym(1e3).li))},i.Om=function(){return new Wg(0===this.dm?this.py():Number(this.li),this.dm)},i.ym=function(t,i){void 0===i&&(i=Gg.Am);var e=this.dm;if(e===t)return this;if(0===e)return this;var r=Sn(e,t);return new n(function(t,n,i){var e=t/n,r=t-e*n;if(r===BigInt(0))return e;if(i===Gg.Am)return r<BigInt(0)?e-BigInt(1):e;if(i===Gg.Pm)return r<BigInt(0)?e:e+BigInt(1);var u=r*BigInt(2);return u<BigInt(0)?-u<n?e:e-BigInt(1):u<n?e:e+BigInt(1)}(this.li*BigInt(t/r),BigInt(e/r),i),t)},i._y=function(t){if(this===t)return Xr.Sr;if(0===this.dm||0===t.dm)return Hg(this,t);if(this.Wy())return t.Wy()?Xr.Sr:t.Dy()?Xr.Er:Xr.Ir;if(t.Wy())return this.Dy()?Xr.Ir:Xr.Er;var n=v.min(this.dm,t.dm),i=this.ym(n,Gg.xm).li,e=t.ym(n,Gg.xm).li;return i>e?Xr.Er:i<e?Xr.Ir:Xr.Sr},i.Ny=function(){return 0===this.dm?Kg(this):new n(-this.li,this.dm)},i.bg=function(t){if(0===this.dm||0===t.dm)return Jg(this,t);if(this.Wy())return t;if(t.Wy())return this;var i=v.max(this.dm,t.dm),e=this.ym(i,Gg.xm),r=t.ym(i,Gg.xm);return new n(e.li+r.li,i)},i.um=function(t){if(this.Oy()||g(t))return n.Sm;if(this.Ay()||!isFinite(t)){if(this.Wy()||0===t)return n.Sm;var i=this.Dy()?n.Im:n.Em;return t<0?i.Ny():i}return this.Wy()?this:new n(0===t?BigInt(0):this.li*BigInt(t),this.dm)},i.am=function(t){if(this.Oy()||g(t))return n.Sm;if(this.Ay())return isFinite(t)?0===t?1/t<0?this.Ny():this:t<0?this.Ny():this:n.Sm;if(!isFinite(t))return new n(BigInt(0),this.dm);if(this.Wy())return 0===t?n.Sm:new n(BigInt(0),this.dm);if(0===t){var i=this.Dy()?n.Im:n.Em;return 1/t<0?i.Ny():i}return new n(this.li/BigInt(t),this.dm)},i.Lm=function(){var t=this.Bm();return[t.low,t.high,this.dm]},ht(n,null,[{key:"Uy",get:function(){return n.Fm||(n.Fm=new n(BigInt(0),1e6)),n.Fm}},{key:"Sm",get:function(){return n.Mm||(n.Mm=new n(BigInt(0),0)),n.Mm}},{key:"Em",get:function(){return n.Um||(n.Um=new n(BigInt(1),0)),n.Um}},{key:"Im",get:function(){return n.Vm||(n.Vm=new n(BigInt(-1),0)),n.Vm}}]),n}(qg);function Kg(t){return t.Oy()?t:t.Dy()?Yg.Em:Yg.Im}function Jg(t,n){return t.Oy()||n.Oy()?Yg.Sm:t.Ay()&&n.Ay()?t.Dy()===n.Dy()?t:Yg.Sm:t.Ay()?t:n}Yg.Fm=void 0,Yg.Mm=void 0,Yg.Um=void 0,Yg.Vm=void 0,function(t){t[t.Am=0]="Am",t[t.Pm=1]="Pm",t[t.xm=2]="xm"}(Gg||(Gg={}));var Qg,Zg,ty,ny,iy=function(){try{return"function"==typeof BigInt&&"bigint"==typeof BigInt(0)}catch(t){return!1}}()?Yg:jg,ey=9e4,ry=v.pow(2,33),uy=(iy.Fy(ry,ey).am(2),{qm:0,Hm:1/0,zm:0}),sy=6,oy=["WEBVTT ","WEBVTT\t","WEBVTT\n"],cy=[" ","\t","\n","\f","\r"],ay=/^\d*$/,hy=/.*[0-9]+.*/,fy=/^[\d.-]+$/,dy=/(^\.|\.$)/,vy=/(\D\.|\.\D)/;function ly(t,n){void 0===n&&(n=uy);var i={Il:[],Wm:[],jm:[]},e=wy(t),r=new As;if(Ey(e),gy(e,function(t){return"\n"!==t},r),r.Su>=e.length)return i;(r._u(1),"\n"!==e.charAt(r.Su))?by(yy(e,r,!1,!0,i,n),i):r._u(1);for(gy(e,function(t){return"\n"===t},r);r.Su<e.length;){by(yy(e,r,!1,!1,i,n),i),gy(e,function(t){return"\n"===t},r)}return i}function wy(t){var n=Fr(t,"\0"," "),i=Fr(n,"\r\n","\n");return Fr(i,"\r","\n")}function gy(t,n,i){for(var e=i.Su;i.Su<t.length&&n(t.charAt(i.Su));)i._u(1);return t.substring(e,i.Su)}function yy(t,n,i,e,r,u){for(var s,o=0,c=n.Su,a="",h=!1,f=!1,d=null,v=null,l=null;!h;)if(s=gy(t,function(t){return"\n"!==t},n),o++,n.Su>=t.length?h=!0:n._u(1),Mr(s,"--\x3e")){if(e||1!==o&&(2!==o||f)){n.ku(c);break}f=!0,c=n.Su,d=new Ug(0,0,"",!1,a);try{_y(s,r.Wm,d,u),a=""}catch(t){st.Se(t),d=null}}else{if(""===s)break;e&&Ur(s,"X-TIMESTAMP-MAP")&&(r.$m=my(s)),e||2!==o||i||(qr("STYLE",a.replace(/ /g,""))?(v={hr:Dg.Ag},a=""):qr("REGION",a.replace(/ /g,""))&&(l=new Vg("",100,3,0,100,0,100,""),a="")),a&&(a+="\n"),a+=s,c=n.Su}if(d)return d.Vg=a,d;if(v);else if(l)return function(t,n){for(var i=t.split(/\s/),e=0;e<i.length;e++){var r=i[e];if(0!==r.length&&Mr(r,":")&&":"!==r.charAt(0)&&":"!==r.charAt(r.length-1)){var u=r.indexOf(":"),s=r.substring(0,u),o=r.substring(u+1,r.length);switch(s.toUpperCase()){case"ID":By(o,n);break;case"WIDTH":Uy(o,n);break;case"LINES":My(o,n);break;case"REGIONANCHOR":var c=Ly(o);c&&(n.vy=c[0],n.ly=c[1]);break;case"VIEWPORTANCHOR":var a=Ly(o);a&&(n.wy=a[0],n.gy=a[1]);break;case"SCROLL":Fy(o,n)}}}}(a,l),l;return null}function my(t){var n,i,e=t.split("=")[1].trim().split(","),r=py(e[0].trim(),"MPEGTS")?e[0]:e[1],u=py(e[0].trim(),"LOCAL")?e[0]:e[1];return{Xm:(i=Number(r.split(/:(.*)/)[1].trim())||0,iy.Fy(i,ey)),Gm:iy.Tm(null!=(n=Sy(u.split(/:(.*)/)[1].trim(),new As))?n:0)}}function py(t,n){return Ur(t,n)}function by(t,n){t&&function(t){return t.hr===Dg.Cg}(t)?n.Il.push(t):t&&function(t){return t.hr===Dg.Og}(t)?n.Wm.push(t):t&&function(t){return t.hr===Dg.Ag}(t)&&n.jm.push(t)}function _y(t,n,i,e){var r=new As;if(Iy(t,r),i.Mg=ky(Sy(t,r),e),Iy(t,r),"--\x3e"!==t.substring(r.Su,r.Su+3))throw h("Something went wrong with parsing a WebVTT Cue");r._u(3),Iy(t,r),i.Ug=ky(Sy(t,r),e),function(t,n,i){for(var e=t.split(/\s/),r=0;r<e.length;r++){var u=e[r];if(0!==u.length&&Mr(u,":")&&":"!==u.charAt(0)&&":"!==u.charAt(u.length-1)){var s=u.indexOf(":"),o=u.substring(0,s),c=u.substring(s+1,u.length);switch(o.toUpperCase()){case"REGION":Oy(c,n,i);break;case"VERTICAL":Py(c,n);break;case"D":xy(c,n);break;case"LINE":case"L":Ny(c,n);break;case"POSITION":case"T":Cy(c,n);break;case"SIZE":case"S":Ay(c,n);break;case"ALIGN":case"A":Dy(c,n)}}}}(t.substring(r.Su,t.length),i,n)}function ky(t,n){return t+n.qm}function Ty(t){return/^[0-9]$/.test(t)}function Sy(t,n){var i,e,r,u=Fr(t,",","."),s=!1;if(n.Su>=u.length||!Ty(u.charAt(n.Su)))throw new h("Something went wrong with parsing a WebVTT Cue timestamp");var o=gy(u,Ty,n),c=l(o,10);if((o.length>2||c>59)&&(s=!0),n.Su>=u.length||":"!==u.charAt(n.Su))throw new h("Something went wrong with parsing a WebVTT Cue timestamp");n._u(1);var a=gy(u,Ty,n);if(2!==a.length)throw new h("Something went wrong with parsing a WebVTT Cue timestamp");var f=l(a,10);if(s||n.Su<u.length&&":"===u.charAt(n.Su)){if(n.Su>=u.length||":"!==u.charAt(n.Su))throw new h("Something went wrong with parsing a WebVTT Cue timestamp");n._u(1);var d=gy(u,Ty,n);if(2!==a.length)throw new h("Something went wrong with parsing a WebVTT Cue timestamp");i=c,e=f,r=l(d,10)}else i=0,e=c,r=f;if(n.Su>=u.length||"."!==u.charAt(n.Su))throw new h("Something went wrong with parsing a WebVTT Cue timestamp");n._u(1);var v=gy(u,Ty,n),w=l(v,10);if(f>59||r>59)throw new h("Something went wrong with parsing a WebVTT Cue timestamp");return 60*i*60+60*e+r+w/1e3}function Ey(t){if(t.length<sy)return!1;for(var n=0;n<oy.length;n++){if(Ur(t,oy[n]))return!0}return!1}function Iy(t,n){for(;n.Su<t.length&&(i=t.charAt(n.Su),ru(cy,i));)n._u(1);var i}function Ry(t){var n=t.lastIndexOf("%");if(n>-1){var i=w(t.substring(0,n));if(!g(i)&&i>=0&&i<=100)return i}return null}function Dy(t,n){var i=t.toLowerCase();switch(i){case"start":case"center":case"end":case"left":case"right":n.sy=i;break;case"middle":n.sy="center"}}function Ny(t,n){var i=t,e="";if(Mr(t,",")&&(i=t.substring(0,t.indexOf(",")),e=t.substring(t.indexOf(",")+1,t.length)),hy.test(i)){var r;if(Vr(i,"%")){var u=Ry(i);if(null===u)return;r=u}else{if(!fy.test(t)||t.lastIndexOf("-")>0||t.indexOf(".")!==t.lastIndexOf(".")||!vy.test(t)||dy.test(t))return;if(r=w(t),g(r))return}switch(n.Zg=r,n.uy=Vr(i,"%"),e=t.toLowerCase()){case"start":case"center":case"end":n.ty=e;break;case"middle":n.ty="center"}}}function Cy(t,n){var i=t,e="";Mr(t,",")&&(i=t.substring(0,t.indexOf(",")),e=t.substring(t.indexOf(",")+1,t.length));var r=Ry(i);if(null!==r)switch(n.ny=r,e=e.toLowerCase()){case"line-left":case"center":case"line-right":case"auto":n.iy=e;break;case"start":n.iy="line-left";break;case"middle":n.iy="center";break;case"end":n.iy="line-right"}}function Oy(t,n,i){for(var e=i.length-1;e>=0;e--)if(i[e].hl===t)return void(n.ey=i[e])}function Ay(t,n){var i=Ry(t);null!==i&&(n.pu=i)}function Py(t,n){switch(t.toLowerCase()){case"rl":case"vertical:rl":case"vertical-rl":n.oy="rl";break;case"lr":case"vertical:lr":case"vertical-lr":n.oy="lr";break;default:n.oy=""}}function xy(t,n){"VERTICAL"===t.toUpperCase()?n.oy="rl":"VERTICAL-LR"===t.toUpperCase()&&(n.oy="lr")}function Ly(t){if(t.indexOf(",")>=0){var n=Ry(t.substring(0,t.indexOf(","))),i=Ry(t.substring(t.indexOf(",")+1,t.length));return[kn(n||0,0,100),kn(i||100,0,100)]}return null}function By(t,n){n.hl=t}function Fy(t,n){"up"===t.toLowerCase()&&(n.yy="up")}function My(t,n){ay.test(t)&&(n.hy=l(t))}function Uy(t,n){var i=Ry(t);null!==i&&(n.ay=i)}!function(t){t.Ym="moov",t.Km="mvhd",t.Jm="trak",t.Qm="tkhd",t.Zm="mdia",t.tp="mdhd",t.np="hdlr",t.ip="minf",t.ep="stbl",t.rp="stsd",t.sp="stsc",t.op="mvex",t.cp="trex",t.ap="avc1",t.hp="avcC",t.fp="hev1",t.dp="hvc1",t.vp="hvcC",t.lp="pasp",t.wp="mp4a",t.gp="esds",t.yp="wvtt",t.mp="vttC",t.pp="vlab",t.bp="enca",t._p="encv",t.kp="moof",t.Tp="mfhd",t.Sp="traf",t.Ep="tfhd",t.Ip="trun",t.Rp="tfdt",t.Dp="mdat",t.Np="pssh",t.Cp="emsg",t.Op="sidx",t.Ap="styp",t.Pp="ftyp",t.xp="sinf",t.Lp="frma"}(Qg||(Qg={})),function(t){t.Xf="vide",t.$f="soun",t.Bp="subt",t.Fp="hint",t.Mp="meta",t.Up="auxv"}(Zg||(Zg={})),function(t){t[t.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",t[t.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",t[t.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",t[t.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",t[t.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT",t[t.DURATION_IS_EMPTY=32]="DURATION_IS_EMPTY",t[t.DEFAULT_BASE_IS_MOOF=131072]="DEFAULT_BASE_IS_MOOF"}(ty||(ty={})),function(t){t[t.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",t[t.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",t[t.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",t[t.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT=2048]="SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT"}(ny||(ny={}));var Vy=function(){function t(t,n){this.Ai=void 0,this.Vp=void 0,this.Ai=t,this.Vp=n}var n=t.prototype;return n.qp=function(){return is(this.Ai,this.Vp)},n.Hp=function(){return ss(this.Ai,this.Vp)},n.zp=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt16(n.Su,i);return n._u(2),e}(this.Ai,this.Vp)},n.Wp=function(){return cs(this.Ai,this.Vp)},n.jp=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt32(n.Su,i);return n._u(4),e}(this.Ai,this.Vp)},n.$p=function(){return hs(this.Ai,this.Vp)},n.Xp=function(t){return rs(this.Ai,this.Vp,t)},n.Gp=function(t){return function(t,n,i){for(var e=[],r=0;r<i;r++)e.push(cs(t,n));return e}(this.Ai,this.Vp,t)},n.Yp=function(t){return vs(this.Ai,this.Vp,t)},n.Kp=function(){return ks(this.Ai,this.Vp)},n.Jp=function(t){this.Vp._u(t)},n.Tu=function(){return new t(this.Ai,this.Vp.Tu())},t}(),qy=function(t){function n(n,i){var e;return(e=t.call(this)||this).Qp=n,e.Zp=i,e}return dt(n,t),ht(n,[{key:"name",get:function(){return"DataIncompleteError"}}]),n}(On),Hy=function(){function t(){}return t.nb=function(n){var i=n.Ai,e=n.Vp,r=t.ib(i,e,!1);if(!r.eb)throw new qy(e.Su,r.Ti);return r.Ti},t.ib=function(n,i,e){for(var r=[];i.Su<n.byteLength;){var u=t.ub(n,i,e);if(!u.eb)return{eb:!1,Ti:r};r.push(u.sb)}return{eb:!0,Ti:r}},t.ob=function(n,i){var e=t.ub(n,i,!1);if(!e.eb)throw new qy(i.Su);return e.sb},t.cb=function(n,i){for(var e=n.Ai,r=n.Vp;r.Su<e.byteLength;){var u=t.ub(e,r,!1);if(!u.eb)return;if(u.sb.hr===i)return u.sb}},t.ub=function(n,i,e){var r=i.Su,u=t.ab(n,i);if(!u.eb)return u;var s=u.hb,o=s.pu;if(0===o){if(e)return i.ku(r),{eb:!1,fb:1/0};o=n.byteLength-r}var c=r+o;if(c>n.byteLength){var a=c;return i.ku(r),{eb:!1,fb:a}}var h,f,d,v={hr:s.hr,Su:r,Ai:new Vy((h=n,f=r,d=c,void 0===f&&(f=0),void 0===d&&(d=h.byteLength),new DataView(h.buffer,h.byteOffset+f,d-f)),new As(s.vb))};return i.ku(c),{eb:!0,sb:v}},t.ab=function(t,n){var i=n.Su;if(!us(t,n,8))return{eb:!1,fb:n.Su+8};var e=cs(t,n),r=vs(t,n,4);if(1===e){if(!us(t,n,8)){var u=n.Su+8;return n.ku(i),{eb:!1,fb:u}}e=hs(t,n).toNumber()}if("uuid"===r){if(!us(t,n,16)){var s=n.Su+16;return n.ku(i),{eb:!1,fb:s}}r=vs(t,n,16)}return{eb:!0,hb:{hr:r,pu:e,vb:n.Su-i}}},t.lb=function(t,n,i){var e=t.Ai,r=t.Vp,u=Es(Rs(e),r.Su,e.byteLength);return i&&(u=Os(u)),r._u(u.byteLength),{hr:n,Ai:u}},t.wb=function(n,i,e){var r=$y(n.Wp());return{hr:i,gb:r.version,yb:r.flags,Ai:t.lb(n,i,e).Ai}},t}();function zy(t,n){var i=Wy(t,n);if(!i)throw new h("Missing "+n+" atom");return i}function Wy(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.hr===n)return e.Ai}}function jy(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];r.hr===n&&i.push(r.Ai)}return i}function $y(t){return{version:t>>24,flags:new ns(16777215&t)}}var Xy=function(){function t(){}return t.mb=function(n){for(var i=[],e=Hy.nb(new Vy(n,new As)),r=0;r<e.length;r++){var u=e[r],s=t.pb(u);s&&i.push(s)}return i},t.bb=function(t){return Hy.ib(t,new As,!1).Ti.some(function(t){return t.hr===Qg.kp||t.hr===Qg.Ap})},t._b=function(n){return jy(Hy.nb(new Vy(n,new As)),Qg.Np).map(t.kb)},t.Tb=function(n){return jy(Hy.nb(n.Ai),Qg.Np).map(t.kb)},t.pb=function(n){switch(n.hr){case Qg.Ym:return t.Sb(n.Ai);case Qg.kp:return t.Eb(n.Ai,n.Su);case Qg.Dp:return t.Ib(n.Ai);case Qg.Op:return t.Rb(n.Ai);case Qg.Cp:return t.Db(n.Ai)}},t.Sb=function(n){var i=Hy.nb(n),e=zy(i,Qg.Km),r=jy(i,Qg.Jm),u=Wy(i,Qg.op),s=t.Nb(e),o=r.map(t.Cb),c=u?t.Ob(u):void 0;return{hr:Qg.Ym,hb:s,Ab:o,Pb:c}},t.Nb=function(t){var n=$y(t.Wp()),i=n.version,e=n.flags,r=1===i?t.$p():t.Wp(),u=1===i?t.$p():t.Wp(),s=t.Wp(),o=1===i?t.$p():t.Wp(),c=t.Wp(),a=t.Hp()>>8;t.Jp(2),t.Jp(8);var h=t.Gp(9);t.Jp(24);var f=t.Wp();return{hr:Qg.Km,gb:i,yb:e,xb:r,Lb:u,dm:s,cw:o,Bb:c,yw:a,Fb:h,Mb:f}},t.Cb=function(n){var i=Hy.nb(n),e=zy(i,Qg.Qm),r=zy(i,Qg.Zm),u=t.Ub(e),s=t.Vb(r);return{hr:Qg.Jm,hb:u,qb:s}},t.Ub=function(t){var n=$y(t.Wp()),i=n.version,e=n.flags,r=1===i?t.$p():t.Wp(),u=1===i?t.$p():t.Wp(),s=t.Wp();t.Jp(4);var o=1===i?t.$p():t.Wp();t.Jp(8);var c=t.zp(),a=t.zp(),h=t.zp()/v.pow(2,8);t.Jp(2);var f=t.Gp(9),d=t.Wp()/v.pow(2,16),l=t.Wp()/v.pow(2,16);return{hr:Qg.Qm,Hb:e.Iu(1),zb:e.Iu(2),Wb:e.Iu(4),xb:r,Lb:u,jb:s,cw:o,$b:c,Xb:a,yw:h,Fb:f,ay:d,Gb:l}},t.Vb=function(n){var i=Hy.nb(n),e=zy(i,Qg.tp),r=zy(i,Qg.np),u=zy(i,Qg.ip),s=t.Yb(e),o=t.Kb(r),c=t.Jb(u);return{hr:Qg.Zm,hb:s,Qb:o,Zb:c}},t.Yb=function(t){var n=$y(t.Wp()),i=n.version,e=n.flags,r=1===i?t.$p():t.Wp(),u=1===i?t.$p():t.Wp(),s=t.Wp(),o=1===i?t.$p():t.Wp();t.Hp();return t.Jp(2),{hr:Qg.tp,gb:i,yb:e,xb:r,Lb:u,dm:s,cw:o}},t.Kb=function(t){var n=$y(t.Wp()),i=n.version,e=n.flags;t.Jp(4);var r=t.Yp(4);t.Jp(12);var u=t.Kp();return{hr:Qg.np,gb:i,yb:e,t_:r,fi:u}},t.Jb=function(n){var i=zy(Hy.nb(n),Qg.ep),e=t.n_(i);return{hr:Qg.ip,i_:e}},t.n_=function(n){var i=zy(Hy.nb(n),Qg.rp),e=t.e_(i);return{hr:Qg.ep,r_:e}},t.e_=function(n){for(var i=$y(n.Wp()),e=i.version,r=i.flags,u=(n.Wp(),[]),s=Hy.nb(n),o=0;o<s.length;o++){var c=s[o],a=t.u_(c.Ai,c.hr);a&&u.push(a)}return{hr:Qg.rp,gb:e,yb:r,s_:u}},t.u_=function(n,i){var e=t.o_(n,i);return e||((e=t.c_(n,i))||(i===Qg.yp?t.a_(n):void 0))},t.o_=function(n,i){return i===Qg.wp?t.h_(n):i===Qg.bp?t.f_(n):void 0},t.c_=function(n,i){return i===Qg.ap?t.d_(n):i===Qg.fp||i===Qg.dp?t.v_(n,i):i===Qg._p?t.l_(n):void 0},t.w_=function(t,n){return t.Jp(6),{hr:n,g_:t.Hp()}},t.y_=function(n,i){var e=t.w_(n,i);n.Jp(8);var r=n.Hp(),u=n.Hp();return n.Jp(2),n.Jp(2),lr({},e,{m_:r,p_:u,b_:n.Wp()>>>16})},t.__=function(n,i){var e=t.w_(n,i);n.Jp(2),n.Jp(2),n.Jp(12);var r=n.Hp(),u=n.Hp(),s=n.Wp(),o=n.Wp();n.Jp(4);var c=n.Hp();n.Jp(32);var a=n.Hp();return n.Jp(2),lr({},e,{ay:r,Gb:u,k_:s,T_:o,S_:c,E_:a})},t.h_=function(n){var i=t.y_(n,Qg.wp),e=zy(Hy.nb(n),Qg.gp);return lr({},i,{I_:t.R_(e)})},t.a_=function(n){var i=t.w_(n,Qg.yp),e=Hy.nb(n),r=zy(e,Qg.mp),u=t.D_(r),s=Wy(e,Qg.pp);return lr({},i,{N_:u,C_:s?t.O_(s):s})},t.D_=function(t){return{hr:Qg.mp,fc:t.Kp()}},t.O_=function(t){return{hr:Qg.pp,vl:t.Kp()}},t.R_=function(t){return Hy.wb(t,Qg.gp,!0)},t.d_=function(n){var i=t.__(n,Qg.ap),e=Hy.nb(n),r=zy(e,Qg.hp),u=Wy(e,Qg.lp);return lr({},i,{A_:t.P_(r),x_:u?t.L_(u):void 0})},t.v_=function(n,i){var e=t.__(n,i),r=zy(Hy.nb(n),Qg.vp);return lr({},e,{B_:t.F_(r)})},t.l_=function(n){var i=n.Tu(),e=t.__(n,Qg._p),r=zy(Hy.nb(n),Qg.xp),u=t.M_(r);return lr({},e,{U_:t.c_(i,u.q_.V_),H_:u})},t.f_=function(n){var i=n.Tu(),e=t.y_(n,Qg.bp),r=zy(Hy.nb(n),Qg.xp),u=t.M_(r);return lr({},e,{U_:t.o_(i,u.q_.V_),H_:u})},t.M_=function(n){var i=zy(Hy.nb(n),Qg.Lp),e=t.z_(i);return{hr:Qg.xp,q_:e}},t.z_=function(t){var n=t.Yp(4);return{hr:Qg.Lp,V_:n}},t.P_=function(t){return Hy.lb(t,Qg.hp,!0)},t.F_=function(t){return Hy.lb(t,Qg.vp,!0)},t.L_=function(t){var n=t.Wp(),i=t.Wp();return{hr:Qg.lp,W_:n,j_:i}},t.Ob=function(n){var i=jy(Hy.nb(n),Qg.cp).map(t.X_);return{hr:Qg.op,Ab:i}},t.X_=function(t){var n=$y(t.Wp()),i=n.version,e=n.flags,r=t.Wp(),u=t.Wp(),s=t.Wp(),o=t.Wp(),c=t.Wp();return{hr:Qg.cp,gb:i,yb:e,jb:r,G_:u,Y_:s,K_:o,J_:c}},t.Eb=function(n,i){var e=Hy.nb(n),r=zy(e,Qg.Tp),u=jy(e,Qg.Sp),s=t.Q_(r),o=u.map(t.Z_);return{hr:Qg.kp,tk:i,hb:s,Ab:o}},t.Q_=function(t){var n=$y(t.Wp()),i=n.version,e=n.flags,r=t.Wp();return{hr:Qg.Tp,gb:i,yb:e,nk:r}},t.Z_=function(n){var i=Hy.nb(n),e=zy(i,Qg.Ep),r=jy(i,Qg.Ip),u=Wy(i,Qg.Rp),s=t.ik(e),o=r.map(function(n){return t.ek(n,s)}),c=u?t.rk(u):void 0;return{hr:Qg.Sp,hb:s,uk:o,sk:c}},t.ik=function(t){var n=$y(t.Wp()),i=n.version,e=n.flags,r=t.Wp(),u=e.Iu(ty.BASE_DATA_OFFSET_PRESENT)?t.$p():void 0,s=e.Iu(ty.SAMPLE_DESCRIPTION_INDEX_PRESENT)?t.Wp():void 0,o=e.Iu(ty.DEFAULT_SAMPLE_DURATION_PRESENT)?t.Wp():void 0,c=e.Iu(ty.DEFAULT_SAMPLE_SIZE_PRESENT)?t.Wp():void 0,a=e.Iu(ty.DEFAULT_SAMPLE_FLAGS_PRESENT)?t.Wp():void 0;return{hr:Qg.Ep,gb:i,yb:e,jb:r,ck:u,ak:s,Y_:o,K_:c,J_:a}},t.ek=function(n,i){for(var e=$y(n.Wp()),r=e.version,u=e.flags,s=n.Wp(),o=u.Iu(ny.DATA_OFFSET_PRESENT)?n.jp():void 0,c=u.Iu(ny.FIRST_SAMPLE_FLAGS_PRESENT)?n.Wp():void 0,a=[],h=0;h<s;h++){var f=t.hk(n,u,r,i);0===h&&void 0!==c&&(f.yb=c),a.push(f)}return{hr:Qg.Ip,gb:r,yb:u,fk:s,tk:o,dk:c,vk:a}},t.hk=function(t,n,i,e){return{cw:n.Iu(ny.SAMPLE_DURATION_PRESENT)?t.Wp():e.Y_,pu:n.Iu(ny.SAMPLE_SIZE_PRESENT)?t.Wp():e.K_,yb:n.Iu(ny.SAMPLE_FLAGS_PRESENT)?t.Wp():e.J_,lk:n.Iu(ny.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT)?0===i?t.Wp():t.jp():void 0}},t.Db=function(t){var n=t.Ai,i=t.Vp,e=$y(cs(n,i)),r=e.version,u=e.flags;if(1===r){var s=cs(n,i),o=hs(n,i),c=cs(n,i),a=cs(n,i),h=ds(n,i),f=ds(n,i),d=Cs(Rs(n),i.Su,n.byteLength);return i._u(d.byteLength),{hr:Qg.Cp,gb:r,yb:u,wk:h,li:f,dm:s,gk:o,yk:c,hl:a,mk:d}}var v=ds(n,i),l=ds(n,i),w=cs(n,i),g=cs(n,i),y=cs(n,i),m=cs(n,i),p=Cs(Rs(n),i.Su,n.byteLength);return i._u(p.byteLength),{hr:Qg.Cp,yb:u,gb:r,wk:v,li:l,dm:w,pk:g,yk:y,hl:m,mk:p}},t.Ib=function(t){return Hy.lb(t,Qg.Dp,!1)},t.kb=function(n){var i=n.Ai,e=n.Vp,r=Os(Rs(i)).buffer,u=$y(cs(i,e)),s=u.version,o=u.flags,c=t.bk(i,e),a=[];if(s>0)for(var h=cs(i,e),f=0;f<h;f++){var d=rs(i,e,16);a.push(d)}var v=cs(i,e),l=new y(r,e.Su,v);return e._u(i.byteLength),{hr:Qg.Np,gb:s,yb:o,_k:c,kk:a,Tk:v,Ai:l,Sk:r}},t.bk=function(t,n){for(var i="",e=0;e<4;e++){var r=is(t,n).toString(16);i+=1===r.length?"0"+r:r}i+="-";for(var u=0;u<2;u++){var s=is(t,n).toString(16);i+=1===s.length?"0"+s:s}i+="-";for(var o=0;o<2;o++){var c=is(t,n).toString(16);i+=1===c.length?"0"+c:c}i+="-";for(var a=0;a<2;a++){var h=is(t,n).toString(16);i+=1===h.length?"0"+h:h}i+="-";for(var f=0;f<6;f++){var d=is(t,n).toString(16);i+=1===d.length?"0"+d:d}return i.toLowerCase()},t.Rb=function(t){var n,i,e=t.Ai,r=t.Vp,u=$y(cs(e,r)),s=u.version,o=u.flags,c=cs(e,r),a=cs(e,r);0===s?(n=bn.fromBits(cs(e,r),0,!0),i=bn.fromBits(cs(e,r),0,!0)):(n=hs(e,r),i=hs(e,r)),r._u(2);for(var h=ss(e,r),f=[],d=0;d<h;d+=1){var v=cs(e,r),l=v>>31&1,w=2147483647&v,g=cs(e,r),y=cs(e,r),m=y>>31&1,p=y>>28&7,b=268435455&y;f.push({Ek:l,Ik:w,cw:g,Rk:m,Dk:p,Nk:b})}return{hr:Qg.Op,gb:s,yb:o,Ck:c,dm:a,Ok:n,Ak:i,Pk:h,xk:f}},t.rk=function(t){var n,i=t.Ai,e=t.Vp,r=$y(cs(i,e)),u=r.version,s=r.flags;return n=0===u?bn.fromBits(cs(i,e),0,!0):hs(i,e),{hr:Qg.Rp,gb:u,yb:s,sk:n}},t}();function Gy(t){return t&&"ki"in t?t.ki:t}var Yy=function(t){function n(n,i,e,r,u,s,o){var c;return(c=t.call(this,n,i,e,r)||this).Lk=void 0,c.Bk=void 0,c.Fk=void 0,c.Lk=u,c.Bk=s,c.Fk=o||void 0,c}return dt(n,t),n.prototype.Yg=function(n){return this===n||!!Al(this,n)&&(!!t.prototype.Yg.call(this,n)&&(!!Ol(this.Mk,n.Mk)&&(!!Ol(this.Wm,n.Wm)&&(this.Uk&&n.Uk?!!this.Uk.ci(n.Uk)&&(this.Vg&&n.Vg?this.Vg.ci(n.Vg):this.Vg===n.Vg):this.Uk===n.Uk))))},ht(n,[{key:"Mk",get:function(){return this.Lk}},{key:"Wm",get:function(){return this.Bk}},{key:"Uk",get:function(){return this.Fk}},{key:"_v",get:function(){var t;return this.bv||(this.bv=Nl(Lg(t=this),{get styles(){return t.Mk},get regions(){return t.Wm},get metadata(){return Gy(t.Uk)},get content(){return Gy(t.Vg)}})),this.bv}}]),n}(Mg),Ky=function(){function t(t,n,i){this.jh=void 0,this.Vk=void 0,this.qk=void 0,this.Vk=t,this.qk=n,Dn(i)?this.jh=function(t,n,i){for(var e=0,r=["begin","end","dur"];e<r.length;e++){var u=r[e];i.Ii(u)}return i}(0,0,i):this.jh=i}return ht(t,[{key:"Hk",get:function(){return this.jh.ai(!0)}},{key:"Mg",get:function(){return this.Vk}},{key:"Ug",get:function(){return this.qk}}]),t}();var Jy="http://www.w3.org/XML/1998/namespace";function Qy(t,n){return function(t,n){var i=t.Ti.slice(),e=[];for(;i.length>0;){var r=i.shift();n(r)?e.push(r):i.push.apply(i,r.Ti)}return e}(t,function(t){return t.pi===n})}function Zy(t,n){for(var i=t,e=0;e<n.length;e++){var r=n[e];i=i.replace(r+":","")}return i}function tm(t,n){for(var i=t.Ci,e={},r=0;r<i.length;r++)e[Zy(i[r].fi,n)]=i[r].li;return e}var nm=/^(\d\d+):(\d\d):(\d+)((\.(\d+))?|(:(\d\d+)(\.(\d+))?))$/,im=/^(\d+)(\.(\d+))?(h|m|s|ms|f|t)$/,em="http://www.w3.org/ns/ttml";function rm(t,n,i){return void 0===i&&(i=uy),function(t,n,i){var e,r=[];try{e=st.si(t)}catch(t){return r}var u=e.Pi;if("tt"!==u.hi)return r;var s=u&&u.bi(em,"head")[0],o=u&&u.bi(em,"body")[0],c=["ebutts","tts","xml"];if(!o||!s)return r;for(var a=function(t,n){for(var i={},e=t.bi(em,"styling")[0],r=e&&e.bi(em,"style")||[],u=0;u<r.length;u++){var s=r[u],o=s.Ei(Jy,"id");i[o]=tm(s,n)}return i}(s,c),h=function(t,n){var i=Cl(t),e=cm(n.Si("tts:extent"));if(!e)return i;for(var r=0,u=d.keys(i);r<u.length;r++){var s=u[r],o=cm(i[s].extent);if(o){var c=sm(o[0],e[0]),a=sm(o[1],e[1]);i[s].extent=c+" "+a}var h=cm(i[s].origin);if(h){var f=sm(h[0],e[0]),v=sm(h[1],e[1]);i[s].origin=f+" "+v}}return i}(function(t,n){for(var i={},e=t.bi(em,"layout")[0],r=e&&e.bi(em,"region")||[],u=0;u<r.length;u++){var s=r[u],o=s.Ei(Jy,"id");if(o){i[o]=tm(s,n);var c=fm(s,n);for(var a in c)Et.call(c,a)&&(i[o][a]=c[a])}}return i}(s,c),u),f=s.bi(em,"metadata")[0],v=function t(n,i,e,r){var u=i;var s;var o=e;var c=[];var a=[];if(Dn(n)){var h,f;u=null!=(h=hm(n.Si("begin"),r))?h:u,s=hm(n.Si("dur"),0),o=null!=(f=hm(n.Si("end"),r))?f:void 0!==s?u+s:o;for(var d=n.mi,v=0;v<d.length;v++)("body"===n.hi||"div"===n.hi)&&d[v].ti>1||(c=c.concat(t(d[v],u,o,r)))}var l=function(t,n,i){var e=[];e.push(t,n);for(var r=0;r<i.length;r++){var u=i[r];e.push(u.Mg,u.Ug)}e.sort(Qr);for(var s=e.length,o=0;o<s-1;o++)e[o+1]===e[o]&&(eu(e,o+1),o--,s=e.length);return e}(u,o,c);for(var w=0;w<l.length-1;w++){var g=am(l[w],l[w+1],c);if(g.length<=0&&dm(n)){var y=n.ai(!1);a.push(new Ky(l[w],l[w+1],y))}else g.length>0&&function(){var t=n.ai(!1);g.forEach(function(n){return t._i(n.Hk)}),a.push(new Ky(l[w],l[w+1],t))}()}return a}(o,i.qm,i.Hm,i.zm),l=0;l<v.length;l++){var w=v[l],g=um(h,w);r.push(new Yy(w.Mg,w.Ug,w.Hk,!1,a,g,f))}return r}(t,0,i)}function um(t,n){for(var i=function t(n){var i=[];var e;if(Dn(n)){(e=n.Si("region"))&&i.push(e);for(var r=n.mi,u=0;u<r.length;u++)i=i.concat(t(r[u]))}return i}(n.Hk),e={},r=0;r<i.length;r++){var u=i[r];e[u]=t[u]}return e}function sm(t,n){var i=om(t),e=om(n);if(i&&e&&i===e){var r=Number(t.slice(0,-i.length)),u=Number(n.slice(0,-e.length));return g(r)||g(u)?t:r/u*100+"%"}return t}function om(t){return Vr(t,"px")?"px":Vr(t,"em")?"em":Vr(t,"c")?"c":Vr(t,"%")?"%":void 0}function cm(t){if(t){var n=t.split(" ");if(2===n.length)return[n[0],n[1]]}}function am(t,n,i){for(var e=[],r=0;r<i.length;r++){var u=i[r].Mg,s=i[r].Ug;(u>=t&&s<=n||u<n&&s>=n||u<t&&s>t)&&e.push(i[r])}return e}function hm(t,n){if(t){if(nm.test(t)){var i=nm.exec(t);if(!i)return;var e=Number(i[1])||0,r=Number(i[2])||0,u=Number(i[3])||0,s=i[6];return 3600*e+60*r+u+(s?Number(s)*v.pow(.1,s.length):0)-n}if(im.test(t)){var o=im.exec(t);if(!o)return;var c,a=Number(o[1]);switch(o[4]){case"h":c=3600*a;break;case"m":c=60*a;break;case"s":c=a;break;case"ms":c=.001*a;break;case"f":case"t":default:c=NaN}return c-n}}}function fm(t,n){for(var i={},e=t.yi("style")||[],r=0;r<e.length;r++){var u=tm(e[r],n);for(var s in u)Et.call(u,s)&&(i[s]=u[s])}return i}function dm(t){if(Dn(t)){var n=t.hi.toUpperCase(),i=Boolean(t.Si("smpte:backgroundImage"));return"BR"===n||i}return t.ti===Rn.ei}function vm(t){var n=function(t){try{return st.si(t).Pi}catch(t){}}(t);return"tt"===(null==n?void 0:n.hi)}var lm,wm=function(t){function n(){return t.apply(this,arguments)||this}dt(n,t);var i=n.prototype;return i.Xv=function(n){return t.prototype.Xv.call(this,n)},i.Gv=function(n){var i=t.prototype.Gv.call(this,n);return i&&(n.pl=$l.kl),i},i.kv=function(){return Ql(this)},n}(Tl),gm=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Ab=new wm,n.zk=function(t){var i=t.Tv;n.Wk(i)},n}dt(n,t);var i=n.prototype;return i.Xv=function(t){t.Xr(gl.xv,this.zk),this.Ab.Xv(t),this.Wk(t)},i.Gv=function(t){t.Jr(gl.xv,this.zk),t.pl=$l.kl,this.Ab.Gv(t)},i.jk=function(t){},i.$k=function(t){},i.Wk=function(t){t.pl!==$l.kl?this.jk(t):this.$k(t)},i.Xk=function(){for(var t=0,n=this.Ab.Jv;t<n.length;t++){var i=n[t];i.Jr(gl.xv,this.zk),i.et()}},i.Kv=function(){return this.Xk(),this.Ab.Kv(),j.resolve()},i.et=function(){return vr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Kr(),t.next=3,vr.awrap(this.Kv());case 3:this.Ab.et();case 4:case"end":return t.stop()}},null,this,null,j)},n}(ku);!function(t){t.Bp="subtitles",t.Gk="captions",t.Yk="descriptions",t.Kk="chapters",t.Mp="metadata",t.Jk="thumbnails"}(lm||(lm={}));var ym=[lm.Bp,lm.Gk,lm.Yk,lm.Kk,lm.Mp,lm.Jk];function mm(t){var n=String(t||"").toLowerCase();return function(t){return"string"==typeof t&&ru(ym,t)}(n)?n:n?lm.Mp:lm.Bp}var pm,bm=function(t){function n(n,i,e,r,u){var s;return(s=t.call(this,n,i,u)||this).url=void 0,s.status=void 0,s.url=e,s.status=r,s}return dt(n,t),n}(Ec);function _m(t,n){return t===lm.Jk||t===lm.Mp&&n===lm.Jk}function km(t,n,i,e){for(var r=0,u=t.Il.Jv;r<u.length;r++){var s=u[r];if(s.Mg>i)break;n<=s.Ug&&e.push(s)}}function Tm(t,n){return Jr(t.fl,n.fl)}function Sm(t,i){var e=i,r=0;if(t instanceof Ld&&t.name===Od.dd)e=t.Cf.Af;else if(function(t){return t instanceof Fd}(t)){var u=t.yd;if(e=u.Of,0===(r=u.Ef))return new bm(n.ErrorCode.SUBTITLE_CORS_ERROR,"Could not load the subtitle file. Make sure the source is set correctly and that CORS support is enabled.",e,r,t)}return new bm(n.ErrorCode.SUBTITLE_LOAD_ERROR,"Could not load the subtitle file.",e,r,t)}function Em(t,i,e,r){var u=function(t){switch(t){case Rg.WEBVTT:return"WebVTT";case Rg.SRT:return"SRT";case Rg.TTML:return"TTML";default:return""}}(t);return new bm(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Could not parse the "+(u?u+" ":"")+"subtitle file.",i,e,r)}function Im(t){return Ey(wy(t))?Rg.WEBVTT:vm(t)?Rg.TTML:Rg.SRT}!function(t){t.Qk="vtt",t.yp="wvtt",t.Zk="stpp"}(pm||(pm={}));var Rm=function(t){function n(n){var i;return(i=t.call(this,Xl.yl)||this).errorObject=n,i}return dt(n,t),n.prototype.kv=function(){return this},ht(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(wl),Dm=function(t){function n(n,i){var e;return(e=t.call(this)||this).tT=void 0,e.nT=void 0,e.iT=new ou,e.tT=n,e.nT=i,e}dt(n,t);var i=n.prototype;return i.eT=function(t){if(t.src){var n=t.kind||lm.Bp,i=this.tT.rT(n,t.id,t.label,t.srclang,t.default);return i.Dl=Cd(t.src),this.Xv(i),i}},i.uT=function(t,n){var i,e,r,u,s,o,c,a,h,f;return vr.async(function(d){for(;;)switch(d.prev=d.next){case 0:return t.El=Ig.LOADING,i=new Id({Af:t.Dl,Rf:$c.ei,Yf:_d.GET,qr:n}),d.prev=2,d.next=5,vr.awrap(this.nT.Cf(i));case 5:return u=d.sent,r=u.Ef,d.next=9,vr.awrap(u.af());case 9:e=d.sent,d.next=18;break;case 12:return d.prev=12,d.t0=d.catch(2),fu(d.t0),t.El=Ig.ERROR,t.$r(new Rm(Sm(d.t0,t.Dl))),d.abrupt("return");case 18:for(d.prev=18,s=Im(e),t.hr=s,o=[],s===Rg.WEBVTT||s===Rg.SRT?(c=ly(e),o=c.Il):s===Rg.TTML&&(o=rm(e)),a=0,h=o;a<h.length;a++)f=h[a],t.sT(f);d.next=32;break;case 26:return d.prev=26,d.t1=d.catch(18),fu(d.t1),t.El=Ig.ERROR,t.$r(new Rm(Em(t.hr,t.Dl,r,d.t1))),d.abrupt("return");case 32:t.El=Ig.LOADED;case 33:case"end":return d.stop()}},null,this,[[2,12],[18,26]],j)},i.jk=function(t){ru(this.Ab.Jv,t)&&t.El===Ig.NONE&&this.uT(t,this.iT.qr).catch(du)},i.nc=function(){},i.Kv=function(){var n,i,e;return vr.async(function(r){for(;;)switch(r.prev=r.next){case 0:for(this.iT.Mr(),this.iT=new ou,n=0,i=this.Ab.Jv;n<i.length;n++)e=i[n],this.tT.oT(e);return r.next=5,vr.awrap(t.prototype.Kv.call(this));case 5:case"end":return r.stop()}},null,this,null,j)},n}(gm);function Nm(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.dl===n&&e.cT)return e}}function Cm(t,n){Om(Nm(t.Jv,n))}function Om(t){void 0!==t&&(t.pl=$l.bl)}function Am(t,n){Om(Nm(t.Jv,n)||function(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.dl===n)return e}}(t.Jv,n))}function Pm(t){for(var n=0;n<ym.length;n++){var i=ym[n];i===lm.Kk?Am(t,i):Cm(t,i)}}var xm,Lm=function(t){function n(){return t.call(this,jc.Oa)||this}return dt(n,t),n}(Su);!function(t){t[t.aT=0]="aT",t[t.hT=1]="hT"}(xm||(xm={}));var Bm=t,Fm=Bm.MediaSource,Mm=Bm.WebKitMediaSource,Um=Bm.TextTrack,Vm=e&&e.createElement("video"),qm=(e&&e.documentElement.style,St.hn&&St.Vn&&St.qn<=26),Hm=(St.Tn,!(!Fm&&!Mm)),zm=!!Um,Wm=(e&&(e.fullscreenEnabled||e.webkitFullscreenEnabled||e.mozFullScreenEnabled||e.msFullscreenEnabled)||St.bn,St.Bn&&St.Fn,Vm&&Vm.canPlayType&&(""!==Vm.canPlayType("application/vnd.apple.mpegURL")||St.vn&&!St.Bn&&St.ln),Vm&&Vm.canPlayType&&""!==Vm.canPlayType("video/mp4")&&!qm),jm=Hm&&!St.Mn&&!St.Pn&&!St.An&&((Fm||Mm).isTypeSupported?(Fm||Mm).isTypeSupported('audio/mp4; codecs="mp4a.40.34"'):Vm&&Vm.canPlayType&&""!==Vm.canPlayType('audio/mp4; codecs="mp4a.40.34"'));Hm&&!St.Mn&&(jm||((Fm||Mm).isTypeSupported?(Fm||Mm).isTypeSupported("audio/mpeg"):Vm&&Vm.canPlayType&&Vm.canPlayType("audio/mpeg"))),Hm&&!(St.Ln&&St.hn)&&(Fm||Mm).isTypeSupported&&(Fm||Mm).isTypeSupported('video/mp4; codecs="avc1.4d401e"'),St.Mn||St.Pn||St.An,St.xn,St.Mn,St.Pn&&St.fn&&St.dn;try{i&&i.top!==i.self}catch(t){!0}var $m=function(t){function n(n){var i;return(i=t.call(this,Iw.uw)||this).currentTime=n,i}return dt(n,t),n}(Su),Xm=function(t){function n(n){var i;return(i=t.call(this,Iw.sw)||this).currentTime=n,i}return dt(n,t),n}(Su),Gm=function(t){function n(n,i){var e;return void 0===i&&(i=!1),(e=t.call(this)||this).fT=fw.Kl,e.dT=!0,e.vT=!1,e.lT=!1,e.wT=function(t){var n=t.readyState;n!==e.fT&&e.$r(t),n===fw.Kl&&(e.vT=!1,e.lT=!1),e.gT(n),e.yT(n),e.mT(n),e.maybeDispatchCanPlayThroughEvent(n),e.pT(n),e.bT(n),e.fT=n},e._T=function(){e.bT(e.fT),e.pT(e.fT),e.dT=e.kT.dw},e.TT=function(){e.dT=e.kT.dw},e.kT=n,e.ST=i,e.kT.Xr(Iw.Bv,e.wT),e.kT.Xr(jc.Ra,e._T),e.kT.Xr(jc.Ia,e.TT),e.ST&&e.kT.Xr(Iw.sw,e.jr),e}dt(n,t);var i=n.prototype;return i.gT=function(t){!this.lT&&t>=fw.Jl&&(this.lT=!0,this.$r(new Pw(this.kT.ow,t)))},i.yT=function(t){!this.vT&&t>=fw.Ql&&(this.vT=!0,this.$r(new Mw(this.kT.ow,t)))},i.pT=function(t){this.ST||(t>=fw.Zl&&this.fT<fw.Zl&&!this.kT.dw||this.ET&&t>=fw.Zl)&&this.$r(new Xm(this.kT.ow))},i.bT=function(t){!this.IT(t)||this.kT.aw||this.kT.ou||this.$r(new $m(this.kT.ow))},i.mT=function(t){this.fT<=fw.Ql&&t>=fw.Zl&&this.$r(new Hw(this.kT.ow,t))},i.maybeDispatchCanPlayThroughEvent=function(t){t===fw.tw&&this.$r(new zw(this.kT.ow,t))},i.IT=function(t){var n=!this.kT.dw&&t<=fw.Ql,i=!this.dT&&this.fT<=fw.Ql;return n&&!i},i.Kv=function(){this.fT=fw.Kl,this.dT=!0,this.vT=!1,this.lT=!1},i.et=function(){this.Kr(),this.ST&&this.kT.Jr(Iw.sw,this.jr),this.kT.Jr(jc.Ra,this._T),this.kT.Jr(jc.Ia,this.TT),this.kT.Jr(Iw.Bv,this.wT)},ht(n,[{key:"ET",get:function(){return!this.kT.dw&&this.dT}}]),n}(ku),Ym="titanium",Km="conax",Jm="ezdrm",Qm="irdeto",Zm="vudrm",tp="verimatrix",np="keyos",ip="drmtoday",ep="expressplay",rp="azure",up="xstream",sp="vimond",op="axinom",cp="uplynk",ap="comcast",hp="custom",fp=function(){function t(t,n,i,e,r){this.hc=void 0,this.RT=void 0,this.DT=void 0,this.NT=void 0,this.nT=void 0,this.CT=void 0,this.OT=void 0,this.hc=t,this.RT=n,this.DT=i,this.nT=e,this.OT=r,this.NT=this.AT(n)}var i=t.prototype;return i.PT=function(){return this.CT},i.xT=function(t){this.CT=t},i.LT=function(){return this.NT.licenseAcquisitionURL||this.PT()},i.BT=function(t){return j.resolve()},i.FT=function(t,n){return j.resolve(void 0)},i.MT=function(t,i,e,r){var u,s;return vr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(""!==(u=this.UT(t,i,e,r)).Af){o.next=3;break}throw new hg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 3:return o.prev=3,o.next=6,vr.awrap(this.wv.Cf(u));case 6:return s=o.sent,o.next=9,vr.awrap(s.hf(i));case 9:return o.abrupt("return",o.sent);case 12:return o.prev=12,o.t0=o.catch(3),fu(o.t0),o.next=17,vr.awrap(this.VT(o.t0,u.Af,r));case 17:return o.abrupt("return");case 18:case"end":return o.stop()}},null,this,[[3,12]],j)},i.UT=function(t,n,i,e){var r=this.qT().Ga(),u=this.Zf,s={Af:this.HT(),Rf:n,If:r,lf:t,Zf:u,Yf:_d.POST,Kf:0,qr:e,hr:kd.Ff,Jf:i};return new Id(s)},i.zT=function(t,n){return j.resolve(t)},i.WT=function(t,n,i,e){return j.resolve(t)},i.qT=function(){return new Xc(this.NT.headers||{})},i.VT=function(t,i,e){return vr.async(function(i){for(;;)switch(i.prev=i.next){case 0:throw new hg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during license server request",t);case 1:case"end":return i.stop()}},null,null,null,j)},i.HT=function(t,n){var i=n,e=this.NT.queryParameters;if(!i){var r=this.LT();if(!r)return"";i=r}if(e||t){var u=st.Ue(i);t&&Nd(u,t),e&&Nd(u,e),i=u.href}return i},i.jT=function(t){return function(t,n){var i=n.licenseResponseProcessor;return j.resolve(new y(dp(t,i)))}(t,this.NT)},i.$T=function(t,n,i){var e,r,u;return vr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,vr.awrap(this.XT(t,i));case 2:return e=s.sent,s.next=5,vr.awrap(this.MT(e,this.OT,n,i));case 5:return r=s.sent,s.next=8,vr.awrap(this.jT(r));case 8:return u=s.sent,s.abrupt("return",u);case 10:case"end":return s.stop()}},null,this,null,j)},i.et=function(){},ht(t,[{key:"wv",get:function(){return this.nT}},{key:"GT",get:function(){return!1}},{key:"YT",get:function(){var t=this.NT.certificate;if(t)return At(t)?Mu(t):Ns(t)}},{key:"KT",get:function(){return!1}},{key:"Zf",get:function(){return Boolean(this.NT.useCredentials)}}]),t}();function dp(t,i){if(!t||!i||"function"!=typeof i)return t;try{return i(t)}catch(t){throw new hg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error while preprocessing DRM data",t)}}function vp(t,n){var i=Os(t).buffer,e=n.licenseRequestProcessor;return j.resolve(dp(i,e))}var lp,wp,gp=function(t){function n(n,i,e,r){return t.call(this,xr,n,i,e,r)||this}dt(n,t);var i=n.prototype;return i.AT=function(t){return t.widevine||{}},i.JT=function(t,n){return vr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!this.YT){i.next=2;break}return i.abrupt("return",this.YT);case 2:return i.abrupt("return",this.QT(new y(t),n));case 3:case"end":return i.stop()}},null,this,null,j)},i.QT=function(n,i){return t.prototype.$T.call(this,n,Td.qf,i)},n}(fp);function yp(t,n){if(null==t)return{};var i,e,r={},u=d.keys(t);for(e=0;e<u.length;e++)i=u[e],n.indexOf(i)>=0||(r[i]=t[i]);return r}function mp(t){return Rt(t.token&&t.deviceId)}function pp(t){var n,i=null==(n=t.fairplay)?void 0:n.headers;return void 0!==i&&Rt(i.PreAuthorization)}function bp(t){var n=t;return mp(n)&&""!==n.token&&""!==n.deviceId&&!pp(n)}(wp=lp||(lp={})).ZT=!1,wp.tS=!1,wp.nS=!1,wp.iS=!1,wp.LOG_ADS_DETAILS=!1,wp.LOG_CHROMECAST_DETAILS=!1,wp.LOG_CUSTOM_DRM=!1,wp.LOG_BUFFERING_VIDEO_MAIN=!1,wp.LOG_BUFFERING_VIDEO_SELECTION=!1,wp.LOG_BUFFERING_AUDIO_MAIN=!1,wp.LOG_BUFFERING_AUDIO_SELECTION=!1,wp.eS=!1,wp.rS=!1;var _p,kp=function(){function t(t,n,i){this.uS=t,this.Ko=n,this.sS=i}return t.prototype.oS=function(t){return function(t){var n=t.onCertificateRequest;if(void 0!==n&&"function"!=typeof n)throw new f("ContentProtectionIntegration.onCertificateRequest is not a function.");var i=t.onCertificateResponse;if(void 0!==i&&"function"!=typeof i)throw new f("ContentProtectionIntegration.onCertificateResponse is not a function.");var e=t.onLicenseRequest;if(void 0!==e&&"function"!=typeof e)throw new f("ContentProtectionIntegration.onLicenseRequest is not a function.");var r=t.onLicenseResponse;if(void 0!==r&&"function"!=typeof r)throw new f("ContentProtectionIntegration.onLicenseResponse is not a function.");var u=t.extractFairplayContentId;if(void 0!==u&&"function"!=typeof u)throw new f("ContentProtectionIntegration.extractFairplayContentId is not a function.");return t}(this.sS.build(t))},ht(t,[{key:"cS",get:function(){return this.uS}},{key:"hc",get:function(){return this.Ko}}]),t}();!function(t){t.FAILED="FAILED",t.OVERRIDDEN="OVERRIDDEN",t.SUCCEEDED="SUCCEEDED"}(_p||(_p={}));var Tp=function(){function t(){this.aS=[]}var i=t.prototype;return i.registerContentProtectionIntegration=function(t,i,e){switch(this.hS(t,i,e)){case _p.FAILED:throw new hg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The keySystem should be 'widevine', 'playready' or 'fairplay', but was "+i+".");case _p.OVERRIDDEN:var r=Hp(i);st.Se("Warning: Overwriting an earlier registered integration for "+t+" and "+r+".");break;case _p.SUCCEEDED:Hp(i);0}},i.hS=function(t,n,i){var e=Hp(n);if(!e)return _p.FAILED;for(var r=_p.SUCCEEDED,u=0,s=this.aS.slice();u<s.length;u++){var o=s[u];o.cS===t&&o.hc===e&&(r=_p.OVERRIDDEN,iu(this.aS,o))}return this.aS.push(new kp(t,e,i)),r},i.fS=function(t,n){return void 0!==this.dS(t,n)},i.vS=function(t,n,i){var e=this.dS(t,n);if(!e)throw h("No ContentProtectionIntegrationInit was found for integration id "+t+" and key system "+n);return e.oS(i)},i.dS=function(t,n){for(var i=0,e=this.aS;i<e.length;i++){var r=e[i];if(r.cS===t&&(!n||r.hc===n))return r}},t}();Tp.lS=new Tp;var Sp=["customdata"],Ep={playready:"https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx",widevine:"https://wv-keyos.licensekeyserver.com/",fairplay:"https://fp-keyos.licensekeyserver.com/getkey"};function Ip(t){if(!t)return!0;var n=t.licenseAcquisitionURL,i=t.certificateURL,e=t.keys,r=t.headers,u=t.useCredentials,s=t.queryParameters,o=t.certificateRequestProcessor,c=t.certificateResponseProcessor,a=t.licenseRequestProcessor,h=t.licenseResponseProcessor;return!(n||i||e||r||u||s||o||c||a||h)}function Rp(t){return t&&void 0!==t.licenseAcquisitionURL}var Dp,Np=Rp,Cp=Rp;function Op(t){if(!t)return!0;if(Lp(t))return!1;var n=t.fairplay,i=t.playready,e=t.widevine,r=t.clearkey,u=t.aes128;return Ip(n)&&Ip(i)&&Ip(e)&&Ip(r)&&Ip(u)}function Ap(t){var n=bp(t),i=function(t){var n,i=t;return pp(i)&&""!==(null==(n=i.fairplay)?void 0:n.headers.PreAuthorization)&&!mp(i)}(t);return(!n||!i)&&(n||i)}function Pp(t){return t.integration===Qm}function xp(t){var n=t;if(!n)return!1;if(Op(n))return!1;var i=n.fairplay,e=n.playready,r=n.widevine,u=n.clearkey;if(Lp(t))return!0;if(i&&!function(t){var n=t;return n&&(void 0!==n.certificateURL||void 0!==n.certificate)}(i))return!1;if(e&&!Np(e))return!1;if(r&&!Cp(r))return!1;if(u&&!function(t){var n=t;return n&&(void 0!==n.licenseAcquisitionURL||void 0!==n.keys)}(u))return!1;if(n.integration){if(Tp.lS.fS(n.integration))return!0;switch(n.integration){case Ym:if(!function(t){return t.integration===Ym&&(Bp(t)||Fp(t))}(t))return!1;break;case Zm:if(!Mp(t))return!1;break;case tp:if(!function(t){return t.integration===tp}(t))return!1;break;case Qm:if(!Pp(t))return!1;break;case Km:if(!Ap(t))return!1;break;case Jm:if(!function(t){return t.integration===Jm}(t))return!1;break;case np:if(!Lp(t))return!1;break;case ip:if(!function(t){var n=t;return n.integration===ip&&(void 0!==n.token||function(t){return void 0!==t.merchant&&void 0!==t.sessionId&&void 0!==t.userId}(n))}(t))return!1;break;case ep:if(!function(t){return t.integration===ep}(t))return!1;break;case up:if(!Up(t))return!1;break;case sp:if(!function(t){return t.integration===sp}(t))return!1;break;case op:if(!Vp(t))return!1;break;case rp:if(!function(t){var n=t;return n.integration===rp&&void 0!==n.token}(t))return!1;break;case cp:if(!function(t){return t.integration===cp}(t))return!1;break;case ap:if(!function(t){var n=t;return n&&Rt(n.releasePid)&&Rt(n.accountId)&&Rt(n.token)}(t))return!1;break;case hp:return!0;default:return!1}}return!0}function Lp(t){return t.integration===np}function Bp(t){return void 0!==t.authToken}function Fp(t){var n=t;return void 0!==n.accountName&&void 0!==n.customerName&&void 0!==n.portalId}function Mp(t){var n=t;return n.integration===Zm&&void 0!==n.token}function Up(t){var n=t;return n&&n.integration===up&&At(n.ticketAcquisitionURL)&&At(n.streamId)}function Vp(t){var n=t;return n.integration===op&&void 0!==n.token}function qp(t,n){var i,e,r,u=n[t],s=null!=(i=null==u?void 0:u.licenseAcquisitionURL)?i:Ep[t],o=null!=(e=null==u?void 0:u.customdata)?e:n.customdata,c=o?{customData:o}:{},a=lr({},null!=(r=null==u?void 0:u.headers)?r:{},c),h=null!=u?u:{};h.customdata;return lr({},yp(h,Sp),{licenseAcquisitionURL:s,headers:a})}function Hp(t){switch(t.toLowerCase()){case"widevine":case Nr:return Nr;case"playready":case Rr:return Rr;case"fairplay":case Or:return Or}}function zp(t,i){switch(t){case Sr:return function(t){for(var n={},i=Xy._b(new DataView(t)),e=0;e<i.length;e++){var r=i[e];n[r._k]=r.Sk}return n}(i);case Er:case Ir:return function(t){var n;return(n={})[Cr]=t,n}(i);default:throw new Ec(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Unsupported initDataType "+t)}}!function(t){t.ur="Widevine",t.rr="PlayreadyV2",t.wS="PlayreadyV2",t.gS="PlayreadyV3",t.sr="Fairplay"}(Dp||(Dp={}));var Wp={Widevine:{DRMProvider:"Google",DRMVersion:"1.4.8.86",DRMType:"Widevine"},PlayreadyV2:{DRMProvider:"Microsoft",DRMVersion:"2.9",DRMType:"Playready"},PlayreadyV3:{DRMProvider:"Microsoft",DRMVersion:"3",DRMType:"Playready"},Fairplay:{DRMProvider:"Apple",DRMType:"FairPlay",DRMVersion:"1.0"}};function jp(t,n){var i,e,r,u,s=Wp[n],o=t.accountName;return{CustomerName:t.customerName,AccountName:o,PortalId:t.portalId,FriendlyName:t.friendlyName,DeviceInfo:{FormatVersion:"1",DeviceType:"PC",OSType:null==(i=st.qe)?void 0:i.He,OSVersion:null==(e=st.qe)?void 0:e.Ge,DRMProvider:s.DRMProvider,DRMVersion:s.DRMVersion,DRMType:s.DRMType,DeviceVendor:null==(r=st.qe)?void 0:r.Ye,DeviceModel:null==(u=st.qe)?void 0:u.Ke}}}function $p(t,i){if(!t.accountName)throw new hg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, accountName is not set.");if(!t.customerName)throw new hg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, customerName is not set.");if(!t.portalId)throw new hg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, portalId is not set.");throw new hg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration.")}function Xp(t,n,i){var e;if(Bp(t))e={AuthToken:t.authToken,Payload:n};else{if(!Fp(t))throw $p(t,i);e={LatensRegistration:jp(t,i),Payload:n}}return Xu(JSON.stringify(e))}function Gp(t,i,e){var r,u,s,o;return vr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(r=t.yd){c.next=3;break}throw new hg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,i);case 3:return u=r,c.prev=4,c.next=7,vr.awrap(u.cf(e));case 7:s=c.sent,o=Yp(s),c.next=14;break;case 11:c.prev=11,c.t0=c.catch(4),o="";case 14:throw new hg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,u.Cf.Af,u.Ef,u.Df,o);case 15:case"end":return c.stop()}},null,null,[[4,11]],j)}function Yp(t){if(t){if(t.WvProxyErr)return t.WvProxyErr.desc;if(t.DrmErr)return t.DrmErr.desc}}var Kp=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e,$c.$a)||this).yS=void 0,r}dt(i,t),i.mS=function(){return st.He.he?"required":"optional"};var e=i.prototype;return e.VT=function(t,n,i){return Gp(t,n,i)},e.BT=function(t){return this.yS?vu(this.yS.Du,t):(this.yS=new Ps,j.resolve())},e.XT=function(t,i){var e,r;return vr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(e=this.RT){i.next=3;break}throw new hg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Widevine DRM configuration.");case 3:return r=Vu(t),i.abrupt("return",Xp(e,r,Dp.ur));case 5:case"end":return i.stop()}},null,this,null,j)},e.jT=function(t){var i;if(!t.license)throw new hg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Widevine license server");return i=Mu(t.license),j.resolve(i)},e.pS=function(t){return j.resolve(new y(t))},e.JT=function(t,n){var i,e;return vr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return this.bS(),r.next=3,vr.awrap(this.XT(t,n));case 3:return i=r.sent,r.next=6,vr.awrap(this.MT(i,$c.ja,Td.Hf,n));case 6:return e=r.sent,r.next=9,vr.awrap(this.pS(e));case 9:return r.abrupt("return",r.sent);case 10:case"end":return r.stop()}},null,this,null,j)},e.QT=function(n,i){var e;return vr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,vr.awrap(t.prototype.QT.call(this,n,i));case 2:return e=r.sent,this.bS(),r.abrupt("return",e);case 5:case"end":return r.stop()}},null,this,null,j)},e.bS=function(){this.yS||(this.yS=new Ps),this.yS.Ou()},e.et=function(){this.yS&&this.yS.Mr(),t.prototype.et.call(this)},i}(gp),Jp=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e,$c.ja)||this).xT("https://widevine-proxy.drm.technology/proxy"),r}return dt(i,t),i.prototype.XT=function(t,i){var e,r,u,s;return vr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,vr.awrap(vp(t,this.NT));case 2:if(e=i.sent,r=this.DT,o=new y(e),u=[].slice.call(o),s=this._S){i.next=8;break}throw new hg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The Widevine vuDRM token has not been correctly configured.");case 8:return i.abrupt("return",JSON.stringify({token:s,drm_info:u,kid:r}));case 9:case"end":return i.stop()}var o},null,this,null,j)},ht(i,[{key:"_S",get:function(){if(Mp(this.RT))return this.RT.token}}]),i}(gp);function Qp(t,n){var i=n||{};return t.ticket&&t.sessionId&&(i=lr({},i,{SessionId:t.sessionId,Ticket:t.ticket})),lr({},i,{CrmId:t.crmId,AccountId:t.accountId,ContentId:t.contentId})}var Zp=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,$c.ja)||this).xT("https://emeademo.dev.ott.irdeto.com/Widevine/getlicense"),r}dt(n,t);var i=n.prototype;return i.XT=function(t,n){return vp(t,this.NT)},i.HT=function(n,i){var e=n;return Pp(this.RT)&&(e=Qp(this.RT,e)),t.prototype.HT.call(this,e,i)},n}(gp),tb="Conax-Custom-Data";function nb(t,n,i){var e=t&&Ap(t)&&t;if(e&&!i.has(tb)){var r=bp(e)?e.token:void 0,u=bp(e)?e.deviceId:void 0,s=JSON.stringify({Version:"1.0.0",CxAuthenticationDataToken:r,CxClientInfo:{DeviceType:"Browser",DrmClientType:n+"-HTML5",DrmClientVersion:"1.0.0",CxDeviceId:u}});i.set(tb,s)}return i}var ib=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,$c.ja)||this).xT("https://connect.conax.com:8094/license"),r}dt(n,t);var i=n.prototype;return i.XT=function(t,n){return vp(t,this.NT)},i.qT=function(){var n=t.prototype.qT.call(this);return nb(this.RT,"Widevine",n)},n}(gp);function eb(t){var n=ms(new y(t));return Mu(JSON.parse(n).license)}function rb(t){return"string"==typeof t.token?t.token:Xu(JSON.stringify({userId:t.userId,sessionId:t.sessionId,merchant:t.merchant}))}function ub(t,n,i){var e;return e=i.token?"x-dt-auth-token":"dt-custom-data",t.set(e,n),t}var sb=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,$c.ja)||this).xT("https://lic.drmtoday.com/license-proxy-widevine/cenc/"),r}dt(n,t);var i=n.prototype;return i.XT=function(t,n){return vp(t,this.NT)},i.jT=function(t){return j.resolve(eb(t))},i.qT=function(){return ub(t.prototype.qT.call(this),this._S,this.RT)},ht(n,[{key:"_S",get:function(){return rb(this.RT)}}]),n}(gp),ob=function(t){function n(n,i,e){return t.call(this,n,i,e,$c.ja)||this}dt(n,t);var i=n.prototype;return i.XT=function(t,n){return vp(t,this.NT)},i.qT=function(){var n=t.prototype.qT.call(this),i=this.RT.token;return n.set("Authorization","Bearer "+i),n},n}(gp);function cb(t,i,e,r){var u,s,o,c,a,h,f;return vr.async(function(d){for(;;)switch(d.prev=d.next){case 0:if(Up(t)){d.next=2;break}throw new hg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Xstream DRM Configuration");case 2:return(u=new Xc).append("Cache-Control","no-cache"),u.append("Content-Type","application/json"),(s=t.sessionId)&&u.append("XSSESSION",s),o=t.streamId,c=t.fairplay?"persistent"===t.fairplay.licenseType?"persistent":"non-persistent":t.widevine&&"persistent"===t.widevine.licenseType?"persistent":"non-persistent",a={drmType:i,licenseType:c,streamId:o},h={Af:t.ticketAcquisitionURL,Rf:$c.$a,If:u,Yf:_d.POST,lf:JSON.stringify(a),qr:r},d.next=13,vr.awrap(e.Cf(h));case 13:return f=d.sent,d.next=16,vr.awrap(f.cf());case 16:return d.abrupt("return",d.sent);case 17:case"end":return d.stop()}},null,null,null,j)}var ab=function(t){function n(n,i,e){return t.call(this,n,i,e,$c.$a)||this}dt(n,t);var i=n.prototype;return i.qT=function(){var n=t.prototype.qT.call(this);return n.set("Content-Type","application/json"),n},i.XT=function(t,n){var i,e,r,u;return vr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return i=$u(t.buffer),e=this.RT,s.next=4,vr.awrap(cb(e,"widevine_modular",this.wv,n));case 4:return r=s.sent,this.xT(r.licenseServerUrl),u=ps(JSON.stringify({payload:i,ticket:r.ticket})),s.abrupt("return",vp(u,this.NT));case 8:case"end":return s.stop()}},null,this,null,j)},i.jT=function(t){var n=t;return j.resolve(Mu(n.license))},n}(gp),hb=function(t){function i(n,i,e){return t.call(this,n,i,e,$c.ja)||this}dt(i,t);var e=i.prototype;return e.XT=function(t,n){return vp(t,this.NT)},e.qT=function(){if(!Vp(this.RT))throw new hg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.qT.call(this);return i.set("X-AxDRM-Message",this.RT.token),i},i}(gp);function fb(t){for(var n=new y(2*t.length),i=0;i<t.length;i+=1)n[2*i]=t.charCodeAt(i),n[2*i+1]=0;return n}var db=function(t){function n(n,i,e){var r;return(r=t.call(this,Pr,n,i,e,$c.ja)||this).kS=void 0,r}dt(n,t);var i=n.prototype;return i.AT=function(t){return t.playready||{}},i.qT=function(){var n=new Xc(this.kS);return n.Ka(t.prototype.qT.call(this)),n},i.TS=function(t){return t.length>=1&&t[0].mi.length>0},i.FT=function(n){var i=this.RT.playready.customData;if(i){var e=fb(i),r=fb('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">'+Vu(e)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>");return j.resolve({playready:{xc:r}})}return t.prototype.FT.call(this,n)},i.XT=function(t,n){var i;return vr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,vr.awrap(vp(t,this.NT));case 2:return i=n.sent,n.abrupt("return",this.SS(i));case 4:case"end":return n.stop()}},null,this,null,j)},i.SS=function(t){var n,i,e,r,u,s,o,c,a,h,f,d,v,l,w,g;return vr.async(function(y){for(;;)switch(y.prev=y.next){case 0:u=null,s=new DataView(t),m=s,p=new As,void 0===(b=!0)&&(b=!1),o=gs(m,p,b,!0),y.prev=3,c=st.si(o),y.next=10;break;case 7:return y.prev=7,y.t0=y.catch(3),y.abrupt("return",u);case 10:for(a=null==(n=c.yi("PlayReadyKeyMessage")[0])?void 0:n.yi("LicenseAcquisition")[0],h=null!=(i=null==a?void 0:a.yi("Challenge"))?i:[],this.TS(h)&&(u=ju(h[0].Oi)),f=new Xc,d=null!=(e=null==a?void 0:null==(r=a.yi("HttpHeaders")[0])?void 0:r.yi("HttpHeader"))?e:[],v=0;v<d.length;v++)l=d[v],w=l.yi("name")[0].Oi,g=l.yi("value")[0].Oi,f.append(w,g);return this.kS=f,y.abrupt("return",u);case 18:case"end":return y.stop()}var m,p,b},null,this,[[3,7]],j)},i.JT=function(t,n){return j.resolve(t)},i.QT=function(n,i){return t.prototype.$T.call(this,n,Td.zf,i)},n}(fp),vb=function(){function t(n){this.Io=void 0,this.ES=n,this.Io=t.IS(n)}return t.IS=function(t){return"3"===t.version?Dp.gS:Dp.wS},t.prototype.RS=function(){var t={};if(this.Io===Dp.gS){var n={LatensRegistration:jp(this.ES,Dp.gS)};t["X-TITANIUM-DRM-CDATA"]=Xu(JSON.stringify(n))}return t},ht(t,[{key:"DS",get:function(){return this.Io}},{key:"bc",get:function(){return this.Io===Dp.wS}}]),t}();var lb=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e)||this).NS=void 0,r.NS=new vb(r.RT),r}dt(i,t);var e=i.prototype;return e.FT=function(t){var i=this.RT;if(!this.RT)throw new hg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium PlayReady DRM configuration.");if(Fp(i)){var e={};return e.playready={xc:wb(i,this.NS.DS)},j.resolve(e)}return j.reject($p(i,Dp.rr))},e.qT=function(){var n=new Xc(this.NS.RS());return n.Ka(t.prototype.qT.call(this)),n},e.VT=function(t,i,e){var r,u,s,o,c,a,h,f;return vr.async(function(d){for(;;)switch(d.prev=d.next){case 0:if(r=t.yd){d.next=3;break}throw new hg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,i);case 3:return d.prev=3,d.next=6,vr.awrap(r.ff(e));case 6:o=d.sent,c=ms(new y(o)),(a=st.si(c))&&(h=Qy(a,"CustomData")).length>0&&(u=JSON.parse(h[0].Oi),s=null==(f=u.DrmErr)?void 0:f.desc),d.next=14;break;case 12:d.prev=12,d.t0=d.catch(3);case 14:throw new hg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,i,r.Ef,r.Df,s);case 15:case"end":return d.stop()}},null,null,[[3,12]],j)},e.TS=function(t){if(1!==t.length)throw new hg(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"PlayReady license message incorrectly formatted, Challenge not found.");return!0},i}(db);function wb(t,n){var i=jp(t,n),e=i.DeviceInfo.FormatVersion,r=Xu('<LatensRegistration formatversion="'+e+'"><AccountName>'+i.AccountName+"</AccountName><CustomerName>"+i.CustomerName+"</CustomerName><PortalID>"+i.PortalId+'</PortalID><DeviceInfo formatversion="'+e+'"><DeviceType>'+i.DeviceInfo.DeviceType+"</DeviceType><OSType>"+i.DeviceInfo.OSType+"</OSType><OSVersion>"+i.DeviceInfo.OSVersion+"</OSVersion><DRMProvider>"+i.DeviceInfo.DRMProvider+"</DRMProvider><DRMVersion>"+i.DeviceInfo.DRMVersion+"</DRMVersion><DRMType>"+i.DeviceInfo.DRMType+"</DRMType><DeviceVendor>"+i.DeviceInfo.DeviceVendor+"</DeviceVendor><DeviceModel>"+i.DeviceInfo.DeviceModel+"</DeviceModel></DeviceInfo></LatensRegistration>"),u=_s(("<TitaniumCustomData>"+r+"</TitaniumCustomData>").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/&lt;/g,"<").replace(/&gt;/g,">"),!0);return _s('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0"><CustomData encoding="base64encoded">'+Vu(u)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>",!0)}var gb,yb=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e)||this).xT("https://playready-license.drm.technology/rightsmanager.asmx"),r}dt(i,t);var e=i.prototype;return e.TS=function(t){if(1!==t.length)throw new hg(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Vudrm PlayReady license message incorrectly formatted, Challenge not found.");return!0},e.HT=function(n,i){var e=lr({},n||{},{token:this._S});return t.prototype.HT.call(this,e,i)},ht(i,[{key:"_S",get:function(){if(Mp(this.RT))return this.RT.token}}]),i}(db),mb=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).xT("https://emeademo.dev.ott.irdeto.com/playready/rightsmanager.asmx"),r}return dt(n,t),n.prototype.HT=function(n,i){var e=n;return Pp(this.RT)&&(e=Qp(this.RT,e)),t.prototype.HT.call(this,e,i)},n}(db),pb=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).xT("https://connect.conax.com:8010/cxplayready/rightsmanager.asmx"),r}return dt(n,t),n.prototype.qT=function(){var n=t.prototype.qT.call(this);return nb(this.RT,"PlayReady",n)},n}(db),bb=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).xT("https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx"),r}dt(n,t);var i=n.prototype;return i.jT=function(n){return(Ur(ms(new y(n)),"<?xml")?gb.CS:gb.cf)===gb.cf?j.resolve(eb(n)):j.resolve(t.prototype.jT.call(this,new y(n)))},i.qT=function(){return ub(t.prototype.qT.call(this),this._S,this.RT)},ht(n,[{key:"_S",get:function(){return rb(this.RT)}}]),n}(db);!function(t){t[t.CS=0]="CS",t[t.cf=1]="cf"}(gb||(gb={}));var _b,kb=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).OS=void 0,r}dt(n,t);var i=n.prototype;return i.qT=function(){var n=t.prototype.qT.call(this);return this.OS&&n.set("Ticket",this.OS),n.set("Content-Type","text/xml"),n},i.XT=function(n,i){var e,r;return vr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return e=this.RT,u.next=3,vr.awrap(cb(e,"playready",this.wv,i));case 3:return r=u.sent,this.xT(r.licenseServerUrl),this.OS=r.ticket,u.abrupt("return",t.prototype.XT.call(this,n,i));case 7:case"end":return u.stop()}},null,this,null,j)},n}(db),Tb=function(t){function i(){return t.apply(this,arguments)||this}return dt(i,t),i.prototype.qT=function(){if(!Vp(this.RT))throw new hg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.qT.call(this);return i.set("X-AxDRM-Message",this.RT.token),i},i}(db);!function(t){t.$a="application/json",t.AS="application/x-www-form-urlencoded",t.PS="application/octet-stream",t.ei="text/plain;charset=UTF-8"}(_b||(_b={}));var Sb=function(t){function n(n,i,e,r,u){var s;return(s=t.call(this,n.hc,i,e,r,u)||this).xS="",s.LS=void 0,s.BS=void 0,s.BS=n.FS,s}dt(n,t);var i=n.prototype;return i.MS=function(){return this.NT.certificateURL||this.LS},i.US=function(t){this.LS=t},i.XT=function(t){return j.resolve(this.VS(t,this.xS))},i.VS=function(t,n){return"spc="+encodeURIComponent(Vu(t))+"&assetId="+encodeURIComponent(n)},i.AT=function(t){return t.fairplay||{}},i.qS=function(t){var n=t.indexOf("?");if(n>=0)return j.resolve(t.substr(n+1));var i=t.split("/");return j.resolve(i[i.length-1])},i.FT=function(t){var n,i,e,r;return vr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return i=null!=(n=this.BS)?n:Ts(new y(t)),u.next=3,vr.awrap(this.qS(i));case 3:return e=u.sent,this.xS=e,(r={}).fairplay={qc:e},u.abrupt("return",r);case 8:case"end":return u.stop()}},null,this,null,j)},i.qT=function(){var n=t.prototype.qT.call(this);return n.set("Content-Type",this.HS),n},i.JT=function(t,n){return vr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.YT){t.next=2;break}return t.abrupt("return",this.YT);case 2:return t.next=4,vr.awrap(this.zS(n));case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},null,this,null,j)},i.QT=function(n,i){return t.prototype.$T.call(this,n,Td.Uf,i)},i.WS=function(t){var n=this.MS(),i=this.qT(),e={Af:n,Rf:$c.ja,If:i,Yf:_d.GET,Zf:!1,lf:null,Kf:0,qr:t,hr:kd.Ff,Jf:Td.Vf};return new Id(e)},i.zS=function(t){var n,i,e;return vr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=this.WS(t),r.next=3,vr.awrap(this.wv.Cf(n));case 3:return i=r.sent,r.next=6,vr.awrap(i.ff());case 6:return e=r.sent,r.abrupt("return",new y(e));case 8:case"end":return r.stop()}},null,this,null,j)},i.jT=function(t){var n;if("string"==typeof t){var i=t.trim();"<ckc>"===i.substr(0,5)&&"</ckc>"===i.substr(-6)&&(i=i.slice(5,-6)),n=Mu(i)}else n=new y(t);return j.resolve(n)},i.HT=function(n,i){var e=t.prototype.HT.call(this,n,i);return Ur(e,"skd:")&&(e=e.substr("skd:".length)),e},ht(n,[{key:"KT",get:function(){return!0}},{key:"HS",get:function(){return _b.AS}}]),n}(fp),Eb=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,$c.ja)||this}dt(n,t);var i=n.prototype;return i.qS=function(t){var n=t.split("://",1);if("skd"!==n[0].slice(-3).toLowerCase())return j.resolve("");var i=(n=t.split(";",2)).length>1?n[1]:"";return j.resolve(i)},i.XT=function(t){return vr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,j)},i.jT=function(t){return j.resolve(new y(t))},i.HT=function(n,i){var e=n||{};return e.p1=En(),t.prototype.HT.call(this,e,i)},ht(n,[{key:"HS",get:function(){return _b.PS}}]),n}(Sb),Ib=function(t){function i(n,i,e,r){var u;return(u=t.call(this,n,i,e,r,$c.ja)||this).xT("https://fairplay-license.drm.technology/license"),u.US("https://fairplay-license.drm.technology/certificate"),u}dt(i,t);var e=i.prototype;return e.VS=function(t,n){var i={token:this._S,contentId:n,payload:Vu(t)};return JSON.stringify(i)},e.jT=function(t){return j.resolve(new y(t))},e.qT=function(){var n=t.prototype.qT.call(this);return n.set("x-vudrm-token",this._S),n},ht(i,[{key:"HS",get:function(){return _b.$a}},{key:"_S",get:function(){if(!Mp(this.RT))throw new hg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Token is required for FairPlay VuDrm.");return this.RT.token}}]),i}(Sb),Rb="Verimatrix Fairplay license response incorrectly formatted. Invalid json.",Db="Verimatrix Fairplay license response incorrectly formatted. Ckc not found.",Nb=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,$c.ja)||this}return dt(i,t),i.prototype.jT=function(i){var e=function(t){var i;try{i=JSON.parse(t).ckc}catch(t){throw new hg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,Rb)}if(!i)throw new hg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,Db);return i}(ms(new DataView(i)));return t.prototype.jT.call(this,e)},i}(Sb);var Cb=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,$c.$a)||this}dt(i,t);var e=i.prototype;return e.XT=function(t){var i,e;return vr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(i=this.RT){r.next=3;break}throw new hg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Fairplay DRM configuration.");case 3:return e=Vu(t),r.abrupt("return",Xp(i,e,Dp.sr));case 5:case"end":return r.stop()}},null,this,null,j)},e.jT=function(t){try{var i;if(At(t)){var e=t.trim();i=JSON.parse(e)}else i=t;if(i.license){var r=ju(i.license);return j.resolve(new y(r))}return j.reject(new hg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Titanium Fairplay license server"))}catch(t){return j.reject(new hg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Fairplay license server"))}},e.VT=function(t,n,i){return Gp(t,n,i)},ht(i,[{key:"HS",get:function(){return _b.$a}}]),i}(Sb),Ob=function(t){function n(n,i,e,r){var u;return(u=t.call(this,n,i,e,r,$c.ja)||this).xT("https://emeademo.dev.ott.irdeto.com/streaming/getckc"),u.US("https://emeademo.dev.ott.irdeto.com/streaming/getcertificate"),u}dt(n,t);var i=n.prototype;return i.MS=function(){var n=t.prototype.MS.call(this);if(!n)return n;var i=st.Ue(n),e=this.RT;return Pp(e)&&Nd(i,{accountId:e.accountId,applicationId:e.applicationId||""}),i.href},i.qS=function(n){return Pp(this.RT)?j.resolve(this.RT.contentId):t.prototype.qS.call(this,n)},i.XT=function(t){return vr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,j)},i.jT=function(t){return j.resolve(new y(t))},i.HT=function(n,i){var e=n;return Pp(this.RT)&&(e=function(t,n){return lr({},Qp(t,n),{KeyId:t.keyId})}(this.RT,e)),t.prototype.HT.call(this,e,i)},ht(n,[{key:"HS",get:function(){return _b.PS}}]),n}(Sb),Ab=function(t){function i(i,e,r,u){var s;if(s=t.call(this,i,e,r,u,$c.ei)||this,!Ap(e))throw new hg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Conax configuration");return s.xT("https://connect.conax.com:8097/license"),s}dt(i,t);var e=i.prototype;return e.qT=function(){var n=t.prototype.qT.call(this);return nb(this.RT,"FairPlay",n)},e.zS=function(t){var n,i,e,r;return vr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return n=this.MS(),i={Af:n,Rf:$c.ja,If:{},Yf:_d.GET,Zf:!1,lf:null,Kf:0,qr:t,hr:kd.Ff,Jf:Td.Vf},u.next=4,vr.awrap(this.wv.Cf(i));case 4:return e=u.sent,u.next=7,vr.awrap(e.ff());case 7:return r=u.sent,u.abrupt("return",new y(r));case 9:case"end":return u.stop()}},null,this,null,j)},e.XT=function(t){return vr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,j)},e.qS=function(t){var n,i=t.indexOf("?");return 0===t.indexOf("skd://")?(n=i>=0?t.substring("skd://".length,i):t.substring("skd://".length),j.resolve(ms(Mu(n)))):j.resolve("unknown")},e.jT=function(t){try{var n=JSON.parse(t);return j.resolve(new y(ju(n.CkcMessage)))}catch(t){return j.reject("CFLRW-66")}},i}(Sb),Pb=function(t){function i(n,i,e,r){var u;return(u=t.call(this,n,i,e,r,$c.ei)||this).xT(Ep[Tr.sr]),u}dt(i,t);var e=i.prototype;return e.qS=function(t){return Ur(t,"skd://")?j.resolve(t.substring("skd://".length,40)):j.reject(new hg(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error while determining the KeyOS Content ID."))},e.VS=function(t,n){return"spc="+Vu(t)+"&assetId="+n},i}(Sb),xb=function(t){function n(n,i,e,r){var u;return(u=t.call(this,n,i,e,r,$c.ei)||this).xT("https://lic.drmtoday.com/license-server-fairplay/"),u}dt(n,t);var i=n.prototype;return i.VS=function(t,n){var i="spc="+encodeURIComponent(Vu(t))+"&"+encodeURI(n);return"persistent"===this.NT.licenseType?i+"&offline=true":i},i.qT=function(){return ub(t.prototype.qT.call(this),this._S,this.RT)},ht(n,[{key:"_S",get:function(){return rb(this.RT)}}]),n}(Sb),Lb=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,$c.ja)||this}dt(n,t);var i=n.prototype;return i.qS=function(t){var n=t;return Ur(n,"skd:")&&(n="http:"+n.substring(4)),Ur(n,"http:")||Ur(n,"https:")?j.resolve(st.Ue(n).hostname):j.reject(new h("Could not parse ExpressPlay FairPlay content ID."))},i.XT=function(t){return vr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,j)},i.jT=function(t){return j.resolve(new y(t))},ht(n,[{key:"HS",get:function(){return _b.PS}}]),n}(Sb),Bb=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,$c.ei)||this}return dt(n,t),n.prototype.qT=function(){var n=t.prototype.qT.call(this),i=this.RT.token;return n.set("Authorization","Bearer "+i),n},n}(Sb),Fb=function(t){function n(n,i,e,r){var u;if(u=t.call(this,n,i,e,r,$c.$a)||this,!Up(i))throw new h("Invalid Xstream DRM configuration");return u}dt(n,t);var i=n.prototype;return i.zS=function(t){var n,i,e,r,u;return vr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return n=this.MS(),i=this.qT(),e={Af:n,Rf:$c.$a,If:i,Yf:_d.POST,qr:t,hr:kd.Ff,Jf:Td.Vf},s.next=5,vr.awrap(this.wv.Cf(e));case 5:return r=s.sent,s.next=8,vr.awrap(r.cf());case 8:return u=s.sent,s.abrupt("return",new y(Mu(u.certificate)));case 10:case"end":return s.stop()}},null,this,null,j)},i.QT=function(t,n,i){var e,r,u,s,o,c,a;return vr.async(function(h){for(;;)switch(h.prev=h.next){case 0:return void 0===i&&(i=$c.ei),e=Vu(t),r=this.RT,h.next=5,vr.awrap(cb(r,"fairplay",this.wv,n));case 5:return u=h.sent,s=ps(JSON.stringify({spc:e,ticket:u.ticket})),o={Af:this.LT(),Rf:$c.$a,If:this.qT(),Yf:_d.POST,lf:s,Kf:0,qr:n,hr:kd.Ff,Jf:Td.Uf},h.next=10,vr.awrap(this.wv.Cf(o));case 10:return c=h.sent,h.next=13,vr.awrap(c.cf());case 13:return a=h.sent,h.abrupt("return",Mu(a.licence));case 15:case"end":return h.stop()}},null,this,null,j)},ht(n,[{key:"HS",get:function(){return _b.$a}}]),n}(Sb),Mb=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,$c.ei)||this}dt(i,t);var e=i.prototype;return e.VS=function(t,n){return Vu(t)},e.jT=function(i){if(0===i.length)throw new hg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Vimond license request error.");return t.prototype.jT.call(this,i)},e.qT=function(){var n=t.prototype.qT.call(this);return n.set("Content-Type","text/plain"),n},i}(Sb),Ub=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,$c.ja)||this}dt(i,t);var e=i.prototype;return e.VS=function(t,n){return t},e.jT=function(t){return j.resolve(new y(t))},e.qT=function(){if(!Vp(this.RT))throw new hg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.qT.call(this);return i.set("X-AxDRM-Message",this.RT.token),i},ht(i,[{key:"HS",get:function(){return _b.$a}}]),i}(Sb),Vb=function(t){function i(n,i,e,r){var u;return(u=t.call(this,n,i,e,r,$c.$a)||this).jS=void 0,u}dt(i,t);var e=i.prototype;return e.VS=function(t,n){var i={spc:Vu(t)};return JSON.stringify(i)},e.qS=function(t){var i=st.Ue(t);return this.jS=t,i.searchParams.has("b")?j.resolve(i.searchParams.get("b")):j.reject(new hg(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error during license server request: Could not extract content id"))},e.HT=function(n,i){var e=this.LT();return!e&&this.jS&&(e=this.jS),e&&(e=e.replace("skd://","https://")),t.prototype.HT.call(this,n,i||e)},e.jT=function(t){var i;return vr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(i=At(t)?JSON.parse(t.trim()):t).ckc){e.next=4;break}return e.abrupt("return",Mu(i.ckc));case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),new hg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Uplynk Fairplay license server");case 9:throw new hg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Uplynk Fairplay license server");case 10:case"end":return e.stop()}},null,null,[[0,6]],j)},ht(i,[{key:"HS",get:function(){return _b.ei}}]),i}(Sb),qb=function(){function t(t,n){this.$S=t,this.XS=n}var n=t.prototype;return n.GS=function(t){return this.$S(t)},n.YS=function(t,n){throw new f(n+" must be "+this.XS+". (Received: "+t+")")},t}(),Hb=new qb(Lt,"a number"),zb=new qb(At,"a string"),Wb=new qb(Pt,"a boolean");var jb,$b=(jb={responseCode:Hb,isException:Wb,description:zb,title:zb,correlationId:zb},{GS:function(t){if(!Ct(t))return!1;for(var n=0,i=d.keys(jb);n<i.length;n++){var e=i[n];if(!jb[e].GS(t[e]))return!1}return!0},YS:function(t,n){if(!Ct(t))throw new f(n+" must be an object.");for(var i=0,e=d.keys(jb);i<e.length;i++){var r=e[i],u=jb[r];if(!u.GS(t[r]))return u.YS(t[r],n+"."+r)}throw new f}});function Xb(t,n,i,e,r){var u;return vr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return u=Gb(t,n,i,r),s.next=3,vr.awrap(Yb(u,e));case 3:return s.abrupt("return",s.sent);case 4:case"end":return s.stop()}},null,null,null,j)}function Gb(t,n,i,e){var r={token:n.token,account:n.accountId,form:"json"},u=decodeURIComponent(function(t,n){var i=st.Ue(t);return Nd(i,n),i.toString()}(i,r)),s=new Xc({});s.append("Content-Type","application/json");var o=Vu(t),c={getFairplayLicense:{releasePid:n.releasePid,spcMessage:o}};return{Af:u,Rf:$c.ei,If:s,Yf:_d.POST,lf:JSON.stringify(c),qr:e,hr:kd.Ff,Jf:Td.Uf}}function Yb(t,i){var e,r;return vr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,vr.awrap(i.Cf(t));case 2:return e=u.sent,u.next=5,vr.awrap(e.cf());case 5:if(r=u.sent,!$b.GS(r)){u.next=8;break}throw new hg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,r.description,void 0,t.Af,r.responseCode);case 8:return u.abrupt("return",Mu(r.getFairplayLicenseResponse.ckcResponse));case 9:case"end":return u.stop()}},null,null,null,j)}var Kb=function(t){function n(n,i,e,r){var u;return(u=t.call(this,n,i,e,r,$c.ja)||this).KS=void 0,u.KS=i,u}dt(n,t);var i=n.prototype;return i.qS=function(n){var i=n.replace("FairPlay",this.KS.releasePid);return t.prototype.qS.call(this,i)},i.QT=function(t,n){return vr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,vr.awrap(Xb(t,this.KS,this.LT(),this.wv,n));case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},null,this,null,j)},n}(Sb),Jb=function(t){function i(n,i,e){return t.call(this,Br,n,i,e,$c.ja)||this}dt(i,t);var e=i.prototype;return e.AT=function(t){return t.clearkey||{}},e.XT=function(t,n){return vr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",vp(t,this.NT));case 1:case"end":return n.stop()}},null,this,null,j)},e.MT=function(i,e,r,u){var s,o;return vr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=this.NT,!this.LT()){e.next=5;break}return e.abrupt("return",t.prototype.MT.call(this,i,this.OT,r,u));case 5:if(!s.keys||!s.keys.length){e.next=10;break}return o={keys:s.keys.map(function(t){var n=t;return n||(n={}),{kty:"oct",kid:n.id,k:n.value}})},e.abrupt("return",ps(JSON.stringify(o)).buffer);case 10:throw new hg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The clearkey license has not been configured correctly.");case 11:case"end":return e.stop()}},null,this,null,j)},e.JT=function(t,n){return j.resolve(new y(0))},e.QT=function(n,i){return t.prototype.$T.call(this,n,Td.Wf,i)},i}(fp),Qb=function(t){function n(){return t.apply(this,arguments)||this}return dt(n,t),n.prototype.XT=function(t,n){return vr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",vp(t,this.NT));case 1:case"end":return n.stop()}},null,this,null,j)},n}(gp),Zb={url:"",method:"GET",headers:{},body:null,useCredentials:!1};function t_(t,n,i){var e,r,u;return vr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(e=a_(n),(r=t.onCertificateRequest)&&"function"==typeof r){s.next=5;break}return s.abrupt("return",j.resolve(n));case 5:return s.next=8,vr.awrap(vu(j.resolve(r.call(t,e)),i));case 8:if(!Ds(u=s.sent)){s.next=11;break}return s.abrupt("return",Ns(u));case 11:return s.abrupt("return",c_(lr({},Zb,u)));case 12:case"end":return s.stop()}},null,null,null,j)}function n_(t,n,i,e,r){var u,s,o;return vr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(u=t.onCertificateResponse,s=o_(n,i,e),u&&"function"==typeof u){c.next=5;break}return c.abrupt("return",j.resolve(n));case 5:return c.next=8,vr.awrap(vu(j.resolve(u.call(t,s)),r));case 8:return o=c.sent,c.abrupt("return",Ns(o));case 10:case"end":return c.stop()}},null,null,null,j)}function i_(t,n,i,e){var r;return vr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,vr.awrap(r_(t,n,i,e));case 2:if(!((r=u.sent)instanceof ArrayBuffer)){u.next=5;break}return u.abrupt("return",r);case 5:return u.abrupt("return",c_(r));case 6:case"end":return u.stop()}},null,null,null,j)}function e_(t,n,i,e,r,u){var s,o;return vr.async(function(c){for(;;)switch(c.prev=c.next){case 0:return s=s_(i,r),c.next=3,vr.awrap(u_(t,new y(n),s,e,u));case 3:return o=c.sent,c.abrupt("return",Ns(o).buffer);case 5:case"end":return c.stop()}},null,null,null,j)}function r_(t,n,i,e){var r,u,s;return vr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(r=null==t?void 0:t.onLicenseRequest,u=s_(n,i),r&&"function"==typeof r){o.next=5;break}return o.abrupt("return",j.resolve(u));case 5:return o.next=8,vr.awrap(vu(j.resolve(r.call(t,u)),e));case 8:if(!Ds(s=o.sent)){o.next=11;break}return o.abrupt("return",Ns(s).buffer);case 11:return o.abrupt("return",lr({fairplaySkdUrl:void 0},Zb,s));case 12:case"end":return o.stop()}},null,null,null,j)}function u_(t,n,i,e,r){var u,s,o;return vr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(u=null==t?void 0:t.onLicenseResponse,s=o_(n,i,e),u&&"function"==typeof u){c.next=5;break}return c.abrupt("return",j.resolve(n));case 5:return c.next=8,vr.awrap(vu(j.resolve(u.call(t,s)),r));case 8:return o=c.sent,c.abrupt("return",Ns(o));case 10:case"end":return c.stop()}},null,null,null,j)}function s_(t,n){return lr({},a_(t),{fairplaySkdUrl:n})}function o_(t,n,i){return{url:i.Of,status:i.Ef,statusText:i.Df,headers:i.If.Ga(),body:t,request:n}}function c_(t){return new Id({Af:t.url,Yf:t.method,If:t.headers,lf:t.body,Zf:t.useCredentials})}function a_(t){var n;return{url:t.Af,body:null!=(n=h_(t.lf))?n:null,headers:t.If.Ga(),method:t.Yf,useCredentials:t.Zf}}function h_(t){if(t)return"string"==typeof t?ps(t):t instanceof ArrayBuffer?new y(t):Hu(t)?Rs(t):void 0}var f_,d_=function(t){function i(n,i,e,r){var u;return(u=t.call(this,n,i,e)||this).JS=void 0,u.JS=r,u}dt(i,t);var e=i.prototype;return e.JT=function(t,n){return j.resolve(t)},e.QT=function(t,i){var e,r,u,s,o;return vr.async(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,vr.awrap(this.SS(Os(t).buffer));case 2:return e=c.sent,r=this.UT(e,$c.ja,Td.zf,i),c.next=6,vr.awrap(i_(this.JS,r,void 0,i));case 6:if(!((u=c.sent)instanceof ArrayBuffer)){c.next=10;break}return c.abrupt("return",new y(u));case 10:if(""!==u.Af){c.next=12;break}throw new hg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 12:return c.prev=12,c.next=15,vr.awrap(this.wv.Cf(u));case 15:return s=c.sent,c.next=18,vr.awrap(s.ff(i));case 18:return o=c.sent,c.t0=y,c.next=22,vr.awrap(e_(this.JS,o,r,s,void 0,i));case 22:return c.t1=c.sent,c.abrupt("return",new c.t0(c.t1));case 26:throw c.prev=26,c.t2=c.catch(12),fu(c.t2),new hg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during PlayReady license request",c.t2);case 30:case"end":return c.stop()}},null,this,[[12,26]],j)},i}(db),v_=function(t){function i(n,i,e,r){var u;return(u=t.call(this,n,i,e,$c.ja)||this).JS=void 0,u.JS=r,u}dt(i,t);var e=i.prototype;return e.JT=function(t,i){var e,r,u,s,o;return vr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(!this.YT){c.next=2;break}return c.abrupt("return",this.YT);case 2:return e=this.UT(t,$c.ja,Td.Hf,i),c.next=5,vr.awrap(t_(this.JS,e,i));case 5:if(!((r=c.sent)instanceof y)){c.next=9;break}return c.abrupt("return",r);case 9:if(""!==r.Af){c.next=11;break}throw new hg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The certificate request URL has not been correctly configured.");case 11:return c.prev=11,c.next=14,vr.awrap(this.wv.Cf(r));case 14:return u=c.sent,c.next=17,vr.awrap(u.ff(i));case 17:s=c.sent,c.next=24;break;case 20:throw c.prev=20,c.t0=c.catch(11),fu(c.t0),new hg(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during Widevine certificate request",c.t0);case 24:return o=s_(e,void 0),c.next=27,vr.awrap(n_(this.JS,new y(s),o,u,i));case 27:return c.abrupt("return",c.sent);case 28:case"end":return c.stop()}},null,this,[[11,20]],j)},e.QT=function(t,i){var e,r,u,s;return vr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=this.UT(t,$c.ja,Td.qf,i),o.next=3,vr.awrap(i_(this.JS,e,void 0,i));case 3:if(!((r=o.sent)instanceof ArrayBuffer)){o.next=7;break}return o.abrupt("return",new y(r));case 7:if(""!==r.Af){o.next=9;break}throw new hg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return o.prev=9,o.next=12,vr.awrap(this.wv.Cf(r));case 12:return u=o.sent,o.next=15,vr.awrap(u.ff(i));case 15:s=o.sent,o.next=22;break;case 18:throw o.prev=18,o.t0=o.catch(9),fu(o.t0),new hg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Widevine license request",o.t0);case 22:return o.t1=y,o.next=25,vr.awrap(e_(this.JS,s,e,u,void 0,i));case 25:return o.t2=o.sent,o.abrupt("return",new o.t1(o.t2));case 27:case"end":return o.stop()}},null,this,[[9,18]],j)},i}(Qb),l_=function(t){function i(n,i,e,r,u){var s;return(s=t.call(this,n,i,e,r,$c.ja)||this).JS=void 0,s.QS=void 0,s.JS=u,s}dt(i,t);var e=i.prototype;return e.JT=function(t,i){var e,r,u,s,o;return vr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.YT){t.next=2;break}return t.abrupt("return",this.YT);case 2:return e=this.WS(i),t.next=5,vr.awrap(t_(this.JS,e,i));case 5:if(r=t.sent,!Hu(r)){t.next=8;break}return t.abrupt("return",r);case 8:return t.prev=8,t.next=11,vr.awrap(this.wv.Cf(r));case 11:return u=t.sent,t.next=14,vr.awrap(u.ff());case 14:return s=t.sent,o=s_(e,void 0),t.next=18,vr.awrap(n_(this.JS,new y(s),o,u,i));case 18:return t.abrupt("return",t.sent);case 21:throw t.prev=21,t.t0=t.catch(8),fu(t.t0),new hg(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during FairPlay certificate request",t.t0);case 25:case"end":return t.stop()}},null,this,[[8,21]],j)},e.QT=function(t,i){var e,r,u,s;return vr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=this.UT(t,$c.ja,Td.Uf,i),o.next=3,vr.awrap(i_(this.JS,e,this.QS,i));case 3:if(!((r=o.sent)instanceof ArrayBuffer)){o.next=7;break}return o.abrupt("return",new y(r));case 7:if(""!==r.Af){o.next=9;break}throw new hg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return o.prev=9,o.next=12,vr.awrap(this.wv.Cf(r));case 12:return u=o.sent,o.next=15,vr.awrap(u.ff(i));case 15:return s=o.sent,o.t0=y,o.next=19,vr.awrap(e_(this.JS,s,e,u,this.QS,i));case 19:return o.t1=o.sent,o.abrupt("return",new o.t0(o.t1));case 23:throw o.prev=23,o.t2=o.catch(9),fu(o.t2),new hg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during FairPlay license request",o.t2);case 27:case"end":return o.stop()}},null,this,[[9,23]],j)},e.qS=function(n){var i;return this.QS=n,null!=(i=this.JS)&&i.extractFairplayContentId?j.resolve(this.JS.extractFairplayContentId(n)):t.prototype.qS.call(this,n)},i}(Sb),w_=function(){function t(){}var n=t.prototype;return n.ZS=function(t,n,i,e){switch(t.hc.hr){case Tr.ur:return this.tE(n,i,e);case Tr.rr:return this.nE(n,i,e);case Tr.sr:return this.iE(t,n,i,e);case Tr.cr:default:return this.eE(n,i,e)}},n.tE=function(t,n,i){var e,r=(e=t).integration===hp&&At(e.customIntegrationId)?t.customIntegrationId:t.integration;if(r&&Tp.lS.fS(r,Nr)){var u=Tp.lS.vS(r,Nr,t);return new v_(t,n,i,u)}switch(r){case Ym:return new Kp(t,n,i);case Zm:return new Jp(t,n,i);case Qm:return new Zp(t,n,i);case Km:return new ib(t,n,i);case ip:return new sb(t,n,i);case rp:return new ob(t,n,i);case up:return new ab(t,n,i);case op:return new hb(t,n,i);case np:default:return new Qb(t,n,i,$c.ja)}},n.nE=function(t,n,i){var e=t.integration;if(e&&Tp.lS.fS(e,Rr)){var r=Tp.lS.vS(e,Rr,t);return new d_(t,n,i,r)}switch(e){case Ym:return new lb(t,n,i);case Zm:return new yb(t,n,i);case Qm:return new mb(t,n,i);case Km:return new pb(t,n,i);case ip:return new bb(t,n,i);case up:return new kb(t,n,i);case op:return new Tb(t,n,i);case np:default:return new db(t,n,i)}},n.iE=function(t,n,i,e){var r=n.integration;if(r&&Tp.lS.fS(r,Or)){var u=Tp.lS.vS(r,Or,n);return new l_(t,n,i,e,u)}switch(r){case Jm:return new Eb(t,n,i,e);case Zm:return new Ib(t,n,i,e);case tp:return new Nb(t,n,i,e);case Ym:return new Cb(t,n,i,e);case Qm:return new Ob(t,n,i,e);case Km:return new Ab(t,n,i,e);case np:return new Pb(t,n,i,e);case ip:return new xb(t,n,i,e);case ep:return new Lb(t,n,i,e);case rp:return new Bb(t,n,i,e);case up:return new Fb(t,n,i,e);case sp:return new Mb(t,n,i,e);case op:return new Ub(t,n,i,e);case cp:return new Vb(t,n,i,e);case ap:return new Kb(t,n,i,e);default:return new Sb(t,n,i,e,$c.ei)}},n.eE=function(t,n,i){return new Jb(t,n,i)},n.rE=function(t){return t.hr===Tr.rr||t.hr===Tr.ur||t.hr===Tr.sr||t.hr===Tr.cr},n.bc=function(t,n){var i;if(t.hr!==Tr.rr)return!1;if(Rt(null==(i=n.playready)?void 0:i.customData))return!0;var e=n.integration;return(!e||!Tp.lS.fS(e,Or))&&(e===Ym&&new vb(n).bc)},n.mS=function(t,n){if(t.hr===Tr.ur){var i=n.integration;if(!i||!Tp.lS.fS(i,Or))return i===Ym?Kp.mS():void 0}},t}();!function(t){t[t.uE=0]="uE",t[t.sE=1]="sE",t[t.oE=2]="oE",t[t.cE=3]="cE",t[t.zl=4]="zl",t[t.aE=5]="aE",t[t.Yl=6]="Yl",t[t.hE=7]="hE",t[t.fE=8]="fE"}(f_||(f_={}));var g_,y_=function(){function t(){}return t.prototype.dE=function(t){},ht(t,[{key:"vE",get:function(){return 0}},{key:"lE",get:function(){return 0}}]),t}(),m_=function(){function t(t,n){void 0===n&&(n=new w_),this.nT=void 0,this.wE=void 0,this.ES=void 0,this.nT=t,this.wE=n}var n=t.prototype;return n.gE=function(t){this.ES=t},n.mS=function(t){var n=this.ES;if(void 0!==n)return this.wE.mS(t,n)},n.bc=function(t){var n=this.ES;return void 0!==n&&this.wE.bc(t,n)},n.yE=function(t){var n={hc:t.hc,mE:t.mE||[],FS:t.FS},i=this.wE.ZS(n,this.ES||{},t.DT,this.nT);return new p_(i)},t}(),p_=function(){function t(t){this.pE=void 0,this.pE=t}var n=t.prototype;return n.BT=function(t){return this.pE.BT(t)},n.FT=function(t,n,i){return this.pE.FT(n,i)},n.KT=function(){return this.pE.KT||void 0!==this.pE.YT},n.JT=function(t,n){return this.pE.JT(t,n)},n.QT=function(t,n,i){return n&&this.pE.xT(n),this.pE.QT(t,i)},n.Ar=function(){this.pE.et()},t}(),b_=function(t){function n(n){var i;(i=t.call(this)||this).bE=[],i._E=function(t){i.Xv(t.Tv)},i.kE=function(t){var n=t.Tv;i.TE(n)||i.Gv(n)};for(var e=0;e<n.length;e++){var r=n[e];i.SE(r)}return i}dt(n,t);var i=n.prototype;return i.SE=function(t){this.bE.push(t);for(var n=0,i=t.Jv;n<i.length;n++){var e=i[n];this.Xv(e)}this.EE(t)},i.IE=function(t){iu(this.bE,t),this.RE(t);for(var n=0,i=t.Jv;n<i.length;n++){var e=i[n];this.TE(e)||this.Gv(e)}},i.TE=function(t){for(var n=0,i=this.bE;n<i.length;n++){if(i[n].Yv(t))return!0}return!1},i.EE=function(t){t.Xr(dl.gv,this._E),t.Xr(dl.mv,this.kE)},i.RE=function(t){t.Jr(dl.gv,this._E),t.Jr(dl.mv,this.kE)},i.et=function(){for(;this.bE.length>0;)this.IE(this.bE[0]);t.prototype.et.call(this)},i.kv=function(){return Ql(this)},n}(Tl);function __(){return g_||(g_=Z&&Z.document&&Z.document.createElement("video")),g_}var k_=function(t){function i(i,e,r,u,s,o,c){var a;return void 0===o&&(o=new w_),void 0===c&&(c=Uc()),(a=t.call(this)||this).DE=void 0,a.NE=void 0,a.CE=void 0,a.Cw=void 0,a.Ow=void 0,a.Aw=void 0,a.OE=void 0,a.AE=void 0,a.PE=void 0,a.xE=void 0,a.LE=void 0,a.nT=void 0,a.pr=void 0,a.BE=void 0,a.FE=void 0,a.ME=new y_,a.UE=function(t){var i=t.ou,e=i.code,r=new Ec(function(t){switch(t){case og.ABORTED:return n.ErrorCode.MEDIA_ABORTED;case og.NETWORK:return n.ErrorCode.NETWORK_ERROR;case og.DECODE:return n.ErrorCode.MEDIA_DECODE_ERROR;case og.SRC_NOT_SUPPORTED:return n.ErrorCode.SOURCE_NOT_SUPPORTED;case og.ENCRYPTED:return n.ErrorCode.CONTENT_PROTECTION_ERROR;case og.LICENSE_INVALID:return n.ErrorCode.LICENSE_ERROR;case og.ADVERTISEMENT_ERROR:return n.ErrorCode.AD_ERROR}}(e),"Something went wrong during native playback.",i),u=new fg(e,r.message,i.message);a.VE(r,u)},a.qE=function(){a.$r(new Bw(a.ow,a.ug))},a.HE=function(t){a.dw||(a.FE=void 0),a.$r(t)},a.zE=function(t){a.FE=void 0,a.$r(t)},a.WE=function(){a.$r(new Ag(a.og))},a.jE=function(){a.gw>0&&a.ww>0&&a.$r(new Lm)},a.$E=function(t){a.Cw.Xv(new Sg(t.track))},a.XE=function(t){var n=S_(a.Cw,t.track);n&&a.Cw.Gv(n)},a.GE=function(){a.YE(a.Cw)},a.KE=function(t){a.Ow.Xv(new Og(t.track))},a.JE=function(t){var n=S_(a.Ow,t.track);n&&a.Ow.Gv(n)},a.QE=function(){a.YE(a.Ow)},a.ZE=function(t){a.$r(t),a.VE(t.errorObject,vg(t.errorObject))},a.DE=e,a.nT=r,a.pr=c,a.NE=a.DE.G(lg.Xf),a.PE=a.NE.tI.preload,a.xE=new Gm(a.NE,!0),a.xE.Xr(Aw,a.jr),a.BE=new m_(r,o),a.NE.nI=a.BE,a.iI(),a.Cw=new wg,a.Ow=new wg,a.eI(),a.LE=new Dm(a.NE,a.nT),a.Aw=new b_([a.NE.Mw]),a.Gw(),a}dt(i,t);var e=i.prototype;return e.Yw=function(){this.NE.Yw()},e.Gw=function(){this.NE.Gw()},e.Hw=function(t,n,i){var e;return vr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return hu(i),e={hr:xm.aT,Dl:t.src,vf:t.type,rI:this.uI(t),gg:this.PE,sI:t.crossOrigin,oI:n.metadata&&n.metadata.title},this.BE.gE(t.contentProtection),r.next=5,vr.awrap(this.NE.nc(e));case 5:this.CE=r.sent,hu(i),n.textTracks&&this.cI(n.textTracks),Pm(this.Mw);case 9:case"end":return r.stop()}},null,this,null,j)},e.cI=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(this.NE.aI()&&St.bn&&zm&&!_m(i.kind,i.label)&&this.hI(i)){var e,r=null!=(e=i.kind)?e:lm.Bp;this.NE.fI(i.src,r,i.label,i.srclang)}else{if(void 0===i.src)continue;this.LE.eT(i)}}},e.hI=function(t){return!t.format||"webvtt"===t.format},e.Y=function(){return vr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,vr.awrap(this.NE.Y());case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:if(this.dI){t.next=12;break}return t.next=10,vr.awrap(this.NE.nu(jc.Da));case 10:t.next=7;break;case 12:case"end":return t.stop()}},null,this,[[0,5]],j)},e.K=function(){this.NE.K()},e.zw=function(){return void 0!==this.NE.tI.webkitShowPlaybackTargetPicker},e.Ww=function(){this.NE.tI.webkitShowPlaybackTargetPicker&&this.NE.tI.webkitShowPlaybackTargetPicker()},e.jw=function(){this.NE.tI.webkitShowPlaybackTargetPicker&&this.NE.tI.webkitShowPlaybackTargetPicker()},e.Kw=function(){return this.NE.tI},e.Jw=function(){return this.NE.vI},e.Kv=function(){return vr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.OE=void 0,this.AE=void 0,this.CE=void 0,t.next=5,vr.awrap(this.LE.Kv());case 5:return this.NE.lI(),t.next=8,vr.awrap(this.NE.Kv());case 8:this.xE.Kv(),this.gg=this.PE,this.Bw.Kv(),this.Fw.Kv(),this.FE=void 0;case 13:case"end":return t.stop()}},null,this,null,j)},e.et=function(){return vr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,vr.awrap(this.Kv());case 2:return this.Kr(),this.wI(),this.gI(),this.xE.et(),this.NE.nI=void 0,t.next=9,vr.awrap(this.DE.nt(this.NE));case 9:return this.Cw.et(),this.Ow.et(),this.Aw.et(),t.next=14,vr.awrap(this.LE.et());case 14:case"end":return t.stop()}},null,this,null,j)},e.iI=function(){this.NE.Xr(jc.Ra,this.jr),this.NE.Xr(jc.Ia,this.jr),this.NE.Xr(jc.Va,this.qE),this.NE.Xr(jc.Da,this.jr),this.NE.Xr(jc._a,this.jr),this.NE.Xr(jc.Pa,this.jr),this.NE.Xr(jc.Aa,this.HE),this.NE.Xr(jc.ma,this.jr),this.NE.Xr(jc.Na,this.jr),this.NE.Xr(jc.qa,this.jr),this.NE.Xr(jc.ga,this.jr),this.NE.Xr(jc.Oa,this.jE),this.NE.Xr(Iw.sw,this.zE),this.NE.Xr(Xl.yl,this.UE),this.NE.Xr(jc.va,this.jr),this.NE.Xr(jc.da,this.ZE),this.NE.tI.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.WE)},e.wI=function(){this.NE.Jr(jc.Ra,this.jr),this.NE.Jr(jc.Ia,this.jr),this.NE.Jr(jc.Va,this.qE),this.NE.Jr(jc.Da,this.jr),this.NE.Jr(jc._a,this.jr),this.NE.Jr(jc.Pa,this.jr),this.NE.Jr(jc.Aa,this.HE),this.NE.Jr(jc.ma,this.jr),this.NE.Jr(jc.Na,this.jr),this.NE.Jr(jc.qa,this.jr),this.NE.Jr(jc.ga,this.jr),this.NE.Jr(jc.Oa,this.jE),this.NE.Jr(Iw.sw,this.zE),this.NE.Jr(Xl.yl,this.UE),this.NE.Jr(jc.va,this.jr),this.NE.Jr(jc.da,this.ZE),this.NE.tI.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.WE)},e.uI=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{hc:Lr,yI:[{initDataTypes:[Lr.wr],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},e.eI=function(){var t=this.NE.tI.audioTracks,n=this.NE.tI.videoTracks;t&&(t.addEventListener("addtrack",this.$E),t.addEventListener("removetrack",this.XE),t.addEventListener("change",this.GE)),n&&(n.addEventListener("addtrack",this.KE),n.addEventListener("removetrack",this.JE),n.addEventListener("change",this.QE))},e.gI=function(){var t=this.NE.tI.audioTracks,n=this.NE.tI.videoTracks;t&&(t.removeEventListener("addtrack",this.$E),t.removeEventListener("removetrack",this.XE),t.removeEventListener("change",this.GE)),n&&(n.removeEventListener("addtrack",this.KE),n.removeEventListener("removetrack",this.JE),n.removeEventListener("change",this.QE))},e.YE=function(t){for(var n=0;n<t.Qv;n++){t.$v(n).Ig()}},e.eg=function(){this.NE.eg()},e.VE=function(t,n){this.OE||(this.OE=n,this.AE=t,this.$r(new jw(t)))},ht(i,[{key:"dI",get:function(){var t=this.NE.rg,n=this.ow;return t.mI(n,.01)}},{key:"Bw",get:function(){return this.Cw}},{key:"rg",get:function(){return this.NE.rg.pI()}},{key:"ug",get:function(){return this.NE.ug},set:function(t){t&&this.NE.bI(t)}},{key:"ow",get:function(){return void 0!==this.FE?this.FE:this.NE.ow},set:function(t){this.og&&(this.FE=t),this.NE.ku(t)}},{key:"cw",get:function(){return this.NE.cw}},{key:"aw",get:function(){return this.NE.aw}},{key:"ou",get:function(){return this.OE}},{key:"hw",get:function(){return this.AE}},{key:"Uw",get:function(){}},{key:"og",get:function(){return this.NE.og}},{key:"Sw",get:function(){return lr({},{cg:0,ag:0,hg:0,fg:0,dg:0,vg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.NE._I())}},{key:"fw",get:function(){return this.NE.fw},set:function(t){this.NE.fw=t}},{key:"lg",get:function(){return!0}},{key:"dw",get:function(){return this.NE.dw}},{key:"vw",get:function(){return this.NE.vw},set:function(t){this.NE.vw=t}},{key:"wg",get:function(){return this.NE.tI.played}},{key:"gg",get:function(){return this.PE},set:function(t){this.PE=t,this.CE&&(this.CE.gg=t)}},{key:"El",get:function(){return this.NE.El}},{key:"yg",get:function(){return this.NE.yg.pI()}},{key:"lw",get:function(){return this.NE.lw}},{key:"kI",get:function(){return this.NE.kI}},{key:"Mw",get:function(){return this.Aw}},{key:"Fw",get:function(){return this.Ow}},{key:"ww",get:function(){return this.NE.ww}},{key:"gw",get:function(){return this.NE.gw}},{key:"yw",get:function(){return this.NE.yw},set:function(t){this.NE.yw=t}},{key:"mg",get:function(){return this.NE.mg},set:function(t){this.NE.mg=t}},{key:"TI",get:function(){return this.ME}}]),i}(nw);var T_=function(){function t(){this.SI=f_.fE}var n=t.prototype;return n.oS=function(t,n,i,e,r,u){return new k_(t,n,i,e,r)},n.EI=function(t,n){return function(t){return!t.type||!(!__().canPlayType||!__().canPlayType(t.type))}(t)},n.II=function(){return!1},t}();function S_(t,n){for(var i=0,e=t.Jv;i<e.length;i++){var r=e[i];if(r.Ng===n)return r}}var E_=function(){function t(){this.RI=new T_,this.DI=[]}t.NI=function(){return this.Qn};var n=t.prototype;return n.CI=function(t){this.DI.push(t)},n.oS=function(t,n,i,e,r,u){for(var s=this.RI.oS(t,n,i,e,r,u),o=0,c=this.DI;o<c.length;o++){s=(0,c[o])(s,i,e)}return s},n.EI=function(t,n){return this.RI.EI(t,n)},n.II=function(){return!1},ht(t,[{key:"SI",get:function(){return this.RI.SI}}]),t}();function I_(t,n){return Jr(t.SI,n.SI)}E_.Qn=new E_;var R_=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).OI=E_.NI(),n}dt(n,t);var i=n.prototype;return i.AI=function(t){this.OI=t},i.xI=function(){return this.OI},i.LI=function(t,n){var i,e,r,u,s,o;return vr.async(function(c){for(;;)switch(c.prev=c.next){case 0:i=0;case 1:if(!(i<t.length)){c.next=11;break}return e=t[i],c.next=5,vr.awrap(this.BI(e,n));case 5:if(!(r=c.sent)){c.next=8;break}return c.abrupt("return",{FI:e,MI:r});case 8:i++,c.next=1;break;case 11:u=this.OI,s=0;case 13:if(!(s<t.length)){c.next=20;break}if(o=t[s],!u.EI(o,n)){c.next=17;break}return c.abrupt("return",{FI:o,MI:u});case 17:s++,c.next=13;break;case 20:return c.abrupt("return",{FI:t[0],MI:u});case 21:case"end":return c.stop()}},null,this,null,j)},n}(function(){function t(){this.UI=[]}var n=t.prototype;return n.VI=function(t){this.UI.push(t),this.UI.sort(I_)},n.BI=function(t,n){var i,e,r,u;return vr.async(function(s){for(;;)switch(s.prev=s.next){case 0:i=0,e=this.UI;case 1:if(!(i<e.length)){s.next=17;break}if(r=e[i],!xt(u=r.EI(t,n))){s.next=10;break}return s.next=7,vr.awrap(u);case 7:s.t0=s.sent,s.next=11;break;case 10:s.t0=Boolean(u);case 11:if(!s.t0){s.next=14;break}return s.abrupt("return",r);case 14:i++,s.next=1;break;case 17:return s.abrupt("return",void 0);case 18:case"end":return s.stop()}},null,this,null,j)},t}());R_.Qn=new R_;var D_,N_=function(){function t(t){var n,i;this.qI=void 0,this.qI=Z&&Z.document&&Z.document.createElement("div"),n=this.qI,(i=n.style).position="absolute",i.left="0",i.right="0",i.top="0",i.bottom="0",i.width="100%",i.height="100%",t.appendChild(this.qI)}return t.prototype.et=function(){We(this.qI)},t}();function C_(t){switch(t){case D_.HI:case"":return D_.HI;case D_.Mp:return D_.Mp;case D_.zI:default:return D_.zI}}!function(t){t.fE="",t.zI="none",t.Mp="metadata",t.HI="auto"}(D_||(D_={}));var O_=[Xl.yl,jc.ya,jc.cu,jc.Wa,jc.ca,jc.pa,jc.Sa,jc.Ea,jc.La,jc.Fa,Iw.nw,Iw.iw,Iw.ew,Iw.rw,Iw.Bv,Iw.uw,Iw.sw,jc.da,jc.va,jc.ga,jc.ma,jc._a,jc.ka,jc.Ra,jc.Da,jc.Ia,jc.Na,jc.Oa,jc.Pa,jc.Aa,jc.Va,jc.qa,jc.Ca,jc.Ta,jc.xa],A_=function(t){function n(n,i){var e;return(e=t.call(this)||this).WI=void 0,e.jI=void 0,e.$I=void 0,e.XI=void 0,e.PE=D_.zI,e.GI=void 0,e.YI=!0,e.Cw=new Gl,e.Ow=new Gl,e.Aw=new tw,e.Pw=new cg,e.WI=n,e.$I=i,e.$I.gg=e.gg,e.KI(),e}dt(n,t);var i=n.prototype;return i.K=function(){this.$I.K()},i.Y=function(){var t=this.$I.Y();xt(t)&&yu(t)},i.Vw=function(){return this.Hw(void 0)},i.st=function(){},i.Zw=function(t){return!1},i.KI=function(){this.Cw.sl=this.$I.Bw,this.Ow.sl=this.$I.Fw,this.Aw.sl=this.$I.Mw,this.Pw.sl=this.$I.Uw,this.$I.Xr(O_,this.jr)},i.JI=function(){this.$I.Jr(O_,this.jr),this.Cw.sl=void 0,this.Ow.sl=void 0,this.Aw.sl=void 0,this.Pw.sl=void 0},i.qw=function(){return this.GI},i.Hw=function(t,n){var i,e,r,u,s,o;return vr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(hu(n),this.GI=t,t){c.next=4;break}return c.abrupt("return");case 4:if(!bw(i=t.sources.filter(Ew))){c.next=7;break}return c.abrupt("return");case 7:return c.next=9,vr.awrap(this.WI.LI(i,t));case 9:if(e=c.sent,hu(n),r=e.FI,u=e.MI,s=this.Jw(),o=Gw(this),this.jI===u&&!this.ou){c.next=25;break}return this.JI(),c.next=19,vr.awrap(this.$I.et());case 19:hu(n),this.jI=u,this.$I=this.QI(u),P_(this.$I,o),Yw(this,o,this),this.KI();case 25:return this.$I.gg=this.gg,this.YI?this.$I.Gw():this.$I.Yw(),c.next=29,vr.awrap(this.$I.Hw(r,t,n));case 29:hu(n),this.ZI(r),this.Jw()!==s&&this.$r(new ew);case 32:case"end":return c.stop()}},null,this,null,j)},i.ZI=function(t){this.XI!==t&&(this.XI=t,this.$r(new rw(t)))},i.zw=function(){return this.$I.zw()},i.Ww=function(){this.$I.Ww()},i.jw=function(){this.$I.jw()},i.Jw=function(){return this.$I.Jw()},i.eg=function(){this.$I.eg()},i.Kv=function(){return vr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.GI=void 0,this.ZI(void 0),t.next=4,vr.awrap(this.$I.Kv());case 4:case"end":return t.stop()}},null,this,null,j)},i.et=function(){return vr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Kr(),t.next=3,vr.awrap(this.Kv());case 3:return t.next=5,vr.awrap(this.$I.et());case 5:this.Cw.et(),this.Ow.et(),this.Aw.et(),this.Pw.et();case 9:case"end":return t.stop()}},null,this,null,j)},i.Gw=function(){this.YI=!0,this.$I.Gw()},i.Yw=function(){this.YI=!1,this.$I.Yw()},ht(n,[{key:"Bw",get:function(){return this.Cw}},{key:"rg",get:function(){return this.$I.rg}},{key:"ou",get:function(){return this.$I.ou}},{key:"hw",get:function(){return this.$I.hw}},{key:"ug",get:function(){return this.$I.ug},set:function(t){this.$I.ug=t}},{key:"ig",get:function(){return this.XI}},{key:"ow",get:function(){return this.$I.ow},set:function(t){this.$I.ow=t}},{key:"cw",get:function(){return this.$I.cw}},{key:"aw",get:function(){return this.$I.aw}},{key:"Uw",get:function(){return this.Pw}},{key:"og",get:function(){return this.$I.og}},{key:"Sw",get:function(){return this.$I.Sw}},{key:"fw",get:function(){return this.$I.fw},set:function(t){this.$I.fw=t}},{key:"lg",get:function(){return this.$I.lg}},{key:"dw",get:function(){return this.$I.dw}},{key:"vw",get:function(){return this.$I.vw},set:function(t){this.$I.vw=t}},{key:"wg",get:function(){return this.$I.wg}},{key:"gg",get:function(){return this.PE},set:function(t){this.PE=t,this.$I&&(this.$I.gg=this.PE)}},{key:"El",get:function(){return this.$I.El}},{key:"yg",get:function(){return this.$I.yg}},{key:"lw",get:function(){return this.$I.lw}},{key:"Mw",get:function(){return this.Aw}},{key:"ww",get:function(){return this.$I.ww}},{key:"Fw",get:function(){return this.Ow}},{key:"gw",get:function(){return this.$I.gw}},{key:"yw",get:function(){return this.$I.yw},set:function(t){this.$I.yw=t}},{key:"TI",get:function(){return this.$I.TI}}]),n}(ku);function P_(t,n){t.fw!==n.fw&&(t.fw=n.fw),t.yw!==n.yw&&(t.yw=n.yw),t.vw!==n.vw&&(t.vw=n.vw)}var x_,L_=function(t){function n(n,i){var e;return(e=t.call(this)||this).Qv=void 0,e.tR=void 0,e.nR=void 0,e.Qv=n.length>>1,e.tR=n,e.nR=i||function(t){for(var n=new Array(2*t),i=0,e=0;i<t;i+=1,e+=2)n[e]=!0,n[e+1]=!1;return n}(e.Qv),e}dt(n,t);var i=n.prototype;return i.iR=function(t){return this.tR[2*t]},i.eR=function(t){return this.nR[2*t]},i.rR=function(t){return this.tR[2*t+1]},i.uR=function(t){return this.nR[2*t+1]},ht(n,[{key:"sR",get:function(){return this.tR.slice()}}]),n}(function(){function t(){}var n=t.prototype;return n.Yg=function(t,n){return 0===this._y(t,n)},n.Yy=function(t,n){return this._y(t,n)>0},n.Ky=function(t,n){return this._y(t,n)>=0},n.Iy=function(t,n){return this._y(t,n)<0},n.Sy=function(t,n){return this._y(t,n)<=0},n.gm=function(t,n){return this.Iy(t,n)?t:n},n.wm=function(t,n){return this.Yy(t,n)?t:n},n.oR=function(t,n,i){return i?this.Sy(t,n):this.Iy(t,n)},n.pI=function(){var t=this;return{get length(){return t.Qv},start:function(n){var i=0|n;return t.cR(i),t.aR(t.iR(i))},end:function(n){var i=0|n;return t.cR(i),t.aR(t.rR(i))}}},n.hR=function(){for(var t=new Array(2*this.Qv),n=new Array(2*this.Qv),i=0;i<this.Qv;i++)t[2*i]=this.iR(i),t[2*i+1]=this.rR(i),n[2*i]=!0,n[2*i+1]=!0;return this.fR(t,n)},n.cR=function(t){if(t<0)throw new h("The index provided ("+t+") must be non-negative");if(t>=this.Qv)throw new h("The index provided ("+t+") is greater than the maximum bound ("+this.Qv+")")},n.dR=function(t){if(0===this.Qv)return this.vR();if(this.mI(t))return t;if(this.Sy(t,this.iR(0)))return this.iR(0);if(this.Ky(t,this.rR(this.Qv-1)))return this.rR(this.Qv-1);for(var n,i=this.lR(),e=0;e<this.Qv;e++){var r=this.iR(e),u=this.Ey(r,t);this.Iy(u,i)&&(n=r,i=u);var s=this.rR(e),o=this.Ey(this.rR(e),t);this.Iy(o,i)&&(n=s,i=o)}return n},n.wR=function(t){for(var n=0,i=0,e=[],r=[];n<this.Qv&&i<t.Qv;){var u=this.iR(n),s=this.rR(n),o=this.eR(n),c=this.uR(n),a=t.iR(i),h=t.rR(i),f=t.eR(i),d=t.uR(i),v=this.wm(u,a),l=this.gm(s,h),w=void 0;w=this.Yg(u,a)?o&&f:this.Yg(v,u)?o:f;var g=void 0;g=this.Yg(s,h)?c&&d:this.Yg(l,s)?c:d,(this.Iy(v,l)||w&&g&&this.Yg(v,l))&&(e.push(v,l),r.push(w,g));var y=this._y(this.rR(n),t.rR(i));0===y?(n+=1,i+=1):y<0?n+=1:i+=1}return this.fR(e,r)},n.gR=function(){var t=this.yR(),n=t.Qv;if(0===n)return this.fR([t.mR(),t.lR()],[!1,!1]);var i=[],e=[],r=t.iR(0);t.Yg(r,t.mR())||(i.push(t.mR(),r),e.push(!1,!t.eR(0)));for(var u=0;u<n-1;u++)i.push(t.rR(u),t.iR(u+1)),e.push(!t.uR(u),!t.eR(u+1));var s=t.rR(n-1);return t.Yg(s,t.lR())||(i.push(s,t.lR()),e.push(!t.uR(n-1),!1)),t.fR(i,e)},n.pR=function(t){for(var n=0,i=0,e=this.Qv,r=t.Qv,u=new Array(2*(e+r)),s=new Array(2*(e+r)),o=0;n<e&&i<r;){var c=this.iR(n),a=this.rR(n),h=t.iR(i),f=t.rR(i);this.Iy(c,h)||this.Yg(c,h)&&this.Iy(a,f)?(u[o]=c,u[o+1]=a,s[o]=this.eR(n),s[o+1]=this.uR(n),n++):(u[o]=h,u[o+1]=f,s[o]=t.eR(i),s[o+1]=t.uR(i),i++),o+=2}for(;n<e;)u[o]=this.iR(n),u[o+1]=this.rR(n),s[o]=this.eR(n),s[o+1]=this.uR(n),n++,o+=2;for(;i<r;)u[o]=t.iR(i),u[o+1]=t.rR(i),s[o]=t.eR(i),s[o+1]=t.uR(i),i++,o+=2;return this.fR(u,s)},n.bR=function(t){void 0===t&&(t=this.vR());var n=this.Qv;if(n<2)return this;for(var i=[],e=[],r=this.iR(0),u=this.rR(0),s=this.eR(0),o=this.uR(0),c=1;c<n;c++){var a=this.iR(c),h=this.rR(c),f=this.eR(c),d=this.uR(c);this.Iy(r,a)&&this.Yy(u,h)||(this.Yg(r,a)&&(s=f=s||f),this.Yg(u,h)&&(o=d=o||d),this.oR(a,this.bg(u,t),o||f)?(u=h,o=d):(i.push(r,u),e.push(s,o),r=a,u=h,s=f,o=d))}return i.push(r,u),e.push(s,o),this.fR(i,e).yR()},n.yR=function(){for(var t=[],n=[],i=0;i<this.Qv;i++){var e=this.iR(i),r=this.rR(i),u=this.eR(i),s=this.uR(i);this.Yg(e,r)?(u||s)&&(t.push(e,r),n.push(!0,!0)):(t.push(e,r),n.push(u,s))}return this.fR(t,n)},n._R=function(t){return this.Qv?t.Qv?this.pR(t).bR():this:t},n.kR=function(t){var n=this.yR(),i=t.yR(),e=n.gR(),r=i.gR(),u=e.wR(i),s=r.wR(n);return u._R(s)},n._u=function(t){if(this.Yg(t,this.vR()))return this;for(var n=[],i=[],e=0;e<this.Qv;e++){var r=this.bg(this.iR(e),t),u=this.bg(this.rR(e),t);n.push(r,u),i.push(this.eR(e),this.uR(e))}return this.fR(n,i)},n.TR=function(t){return 0===this.Qv||0===t.Qv?this:this.yR().wR(t.yR().gR())},n.mI=function(t,n){return this.SR(t,n)>=0},n.ER=function(t,n,i,e,r){return this.IR(t,n,i,e,r)>=0},n.RR=function(t,n,i,e,r){return this.DR(t,n,i,e,r)>=0},n.NR=function(t){if(t.Qv!==this.Qv)return!1;for(var n=0;n<this.Qv;n++)if(!this.Yg(this.iR(n),t.iR(n))||!this.Yg(this.rR(n),t.rR(n))||this.eR(n)!==t.eR(n)||this.uR(n)!==t.uR(n))return!1;return!0},n.CR=function(t){for(var n=[],i=[],e=0;e<this.Qv;e++){var r=this.iR(e),u=this.rR(e),s=this.eR(e),o=this.uR(e);t(r,u,s,o)&&(n.push(r,u),i.push(s,o))}return this.fR(n,i)},n.DR=function(t,n,i,e,r){void 0===i&&(i=!0),void 0===e&&(e=!0),void 0===r&&(r=this.vR());for(var u=this.Cy(t,r),s=this.bg(n,r),o=0;o<this.Qv;o+=1)if(this.oR(this.iR(o),s,!e||this.eR(o))&&this.oR(u,this.rR(o),!i||this.uR(o)))return o;return-1},n.IR=function(t,n,i,e,r){void 0===i&&(i=!0),void 0===e&&(e=!1),void 0===r&&(r=this.vR());for(var u=this.bg(t,r),s=this.Cy(n,r),o=0;o<this.Qv;o+=1)if(this.oR(this.iR(o),u,!i||this.eR(o))&&this.oR(s,this.rR(o),!e||this.uR(o)))return o;return-1},n.SR=function(t,n){return this.IR(t,t,!0,!0,n)},n.OR=function(t,n){void 0===n&&(n=this.vR());for(var i=this.bg(t,n),e=this.Qv-1;e>=0;e-=1)if(this.oR(this.iR(e),i,this.eR(e)))return e;return-1},n.AR=function(t,n){void 0===n&&(n=this.vR());for(var i=this.Cy(t,n),e=0;e<this.Qv;e+=1)if(this.oR(i,this.rR(e),this.uR(e)))return e;return-1},n.PR=function(t){return this.cR(t),this.fR([this.iR(t),this.rR(t)],[this.eR(t),this.uR(t)])},n.xR=function(t,n){var i=this.SR(t,n);return i<0?void 0:this.PR(i)},ht(t,[{key:"LR",get:function(){for(var t=this.vR(),n=0;n<this.Qv;n++){var i=this.Cy(this.rR(n),this.iR(n));t=this.bg(t,i)}return t}}]),t}()),B_=function(t){function n(n,i){return t.call(this,n,i)||this}dt(n,t);var i=n.prototype;return i._y=function(t,n){return t<n?Xr.Ir:t===n?Xr.Sr:Xr.Er},i.bg=function(t,n){return t+n},i.Cy=function(t,n){return t-n},i.Ey=function(t,n){return v.abs(t-n)},i.vR=function(){return 0},i.lR=function(){return 1/0},i.mR=function(){return-1/0},n.FR=function(t){for(var i=[],e=0;e<t.length;e++)i.push(t.start(e),t.end(e));return new n(i)},n.MR=function(t){for(var i=[],e=[],r=0;r<t.Qv;r++)i.push(t.iR(r).pm),i.push(t.rR(r).pm),e.push(t.eR(r)),e.push(t.uR(r));return new n(i,e)},n.UR=function(t){return new n([t,t],[!0,!0])},i.fR=function(t,i){return new n(t,i)},i.aR=function(t){return t},n.qR=function(){return F_},n}(L_),F_=new B_([]);!function(t){t.xv="fullscreenchange",t.HR="fullscreensupportchange",t.yl="fullscreenerror"}(x_||(x_={}));var M_=function(t){function n(){return t.call(this,x_.yl)||this}return dt(n,t),n}(Su),U_=new(function(t){function n(){return t.apply(this,arguments)||this}dt(n,t);var i=n.prototype;return i.xg=function(){this.$r(new M_)},i.Bg=function(){},i.et=function(){this.Kr()},ht(n,[{key:"zR",get:function(){return!1}},{key:"WR",get:function(){return!1}}]),n}(ku)),V_=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).DE=void 0,n.NE=void 0,n}dt(n,t);var i=n.prototype;return i.Kw=function(){var t;return null==(t=this.NE)?void 0:t.tI},i.et=function(){return vr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,vr.awrap(t.prototype.et.call(this));case 2:if(!this.NE){n.next=6;break}return n.next=5,vr.awrap(this.DE.nt(this.NE));case 5:this.NE=void 0;case 6:case"end":return n.stop()}},null,this,null,j)},ht(n,[{key:"jR",set:function(t){this.DE=t,this.NE=t.G(lg.Xf)}}]),n}(function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).$R=0,n.XR=!1,n.GR=!0,n.YR=1,n.KR=!1,n.Hs=1,n.Bw=new wg,n.rg=B_.qR().pI(),n.cw=NaN,n.aw=!1,n.ou=void 0,n.hw=void 0,n.Uw=void 0,n.og=!1,n.lg=!0,n.wg=B_.qR().pI(),n.gg=D_.zI,n.El=fw.Kl,n.yg=B_.qR().pI(),n.kI=void 0,n.Mw=new wm,n.ww=0,n.Fw=new wg,n.gw=0,n.ME=new y_,n}dt(n,t);var i=n.prototype;return i.Gw=function(){},i.Yw=function(){},i.Y=function(){this.GR&&(this.GR=!1,this.$r(new Nw(this.ow)),this.$r(new $m(this.ow)))},i.K=function(){this.GR||(this.GR=!0,this.$r(new Bw(this.ow,this.ug)),this.$r(new Dw(this.ow)))},i.Hw=function(t,n){return j.resolve()},i.zw=function(){return!1},i.Ww=function(){},i.jw=function(){},i.Jw=function(){return U_},i.eg=function(){},i.Kv=function(){return vr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.$R=0,this.KR=!1,this.K(),this.$r(new Rw(this.$R));case 4:case"end":return t.stop()}},null,this,null,j)},i.et=function(){return vr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.Kr(),this.Bw.et(),this.Mw.et(),this.Fw.et();case 4:case"end":return t.stop()}},null,this,null,j)},ht(n,[{key:"ug",get:function(){},set:function(t){}},{key:"ow",get:function(){return this.$R},set:function(t){this.$R!==t&&(this.$R=t,this.KR=!0,this.$r(new Uw(this.ow)))}},{key:"Sw",get:function(){return{cg:0,ag:0,hg:0,fg:0,dg:0,vg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"fw",get:function(){return this.XR},set:function(t){this.XR!==t&&(this.XR=t,this.$r(new qw(this.ow,this.yw)))}},{key:"dw",get:function(){return this.GR}},{key:"vw",get:function(){return this.YR},set:function(t){this.YR!==t&&(this.YR=t,this.$r(new Lw(this.ow,this.vw)))}},{key:"lw",get:function(){return this.KR}},{key:"yw",get:function(){return this.Hs},set:function(t){this.Hs!==t&&(this.Hs=t,this.$r(new qw(this.ow,this.yw)))}},{key:"mg",get:function(){return!1},set:function(t){}},{key:"TI",get:function(){return this.ME}}]),n}(ku)),q_=function(t){function n(n,i,e,r,u,s){var o,c=new V_;return(o=t.call(this,R_.Qn,c)||this).Lc=void 0,o.JR=void 0,o.QR=void 0,o.ZR=void 0,o.nT=void 0,o.tD=void 0,o.nD=void 0,o.QR=n,o.Lc=i,o.nT=e,o.tD=r,o.ZR=s,o.JR=new K(u,o.ZR),o.JR.it(o.QR),c.jR=o.JR,o.nD=new N_(o.QR),o}dt(n,t);var i=n.prototype;return i.st=function(){t.prototype.st.call(this),this.JR.X()},i.$w=function(t){var n,i,e,r;n=this,e=(i=t).yw,r=i.fw,n.yw=e,n.fw=r},i.Xw=function(){},i.QI=function(t){return t.oS(this.QR,this.JR,this.nT,this.Lc,this.tD,this.ZR)},i.Kw=function(){return this.$I.Kw()},i.Qw=function(){return this.JR.j.map(function(t){return t.tI})},i.Yr=function(n){t.prototype.Yr.call(this,n)},i.tu=function(n){t.prototype.tu.call(this,n)},i.et=function(){return vr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,vr.awrap(t.prototype.et.call(this));case 2:this.JR.et(),this.nD.et();case 4:case"end":return n.stop()}},null,this,null,j)},ht(n,[{key:"sg",get:function(){return this.QR}},{key:"mg",get:function(){return this.$I.mg},set:function(t){this.$I.mg=t}}]),n}(A_),H_=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).QR=void 0,r.iD=void 0,r.eD=void 0,r.rD=void 0,r.uD=void 0,r.QR=n,r.iD=i,r.rD=new wg,r.uD=new wm,r.eD=e,r}dt(n,t);var i=n.prototype;return i.Zw=function(t){return!0},i.Yw=function(){},i.Y=function(){throw this.$r(new jw(this.eD)),this.iD},i.K=function(){},i.qw=function(){},i.Hw=function(t,n){return vr.async(function(t){for(;;)switch(t.prev=t.next){case 0:throw hu(n),this.$r(new jw(this.eD)),this.iD;case 3:case"end":return t.stop()}},null,this,null,j)},i.Gw=function(){},i.Vw=function(){return j.resolve()},i.Kw=function(){},i.Jw=function(){return U_},i.Qw=function(){return[]},i.st=function(){},i.$w=function(t){},i.Xw=function(){},i.zw=function(){return!1},i.Ww=function(){},i.jw=function(){},i.eg=function(){},i.Kv=function(){return j.resolve()},i.et=function(){return this.Kr(),this.rD.et(),this.uD.et(),j.resolve()},ht(n,[{key:"Bw",get:function(){return this.rD}},{key:"rg",get:function(){return B_.qR().pI()}},{key:"ug",get:function(){return new Date(NaN)},set:function(t){}},{key:"ig",get:function(){}},{key:"ow",get:function(){return 0},set:function(t){}},{key:"cw",get:function(){return 0}},{key:"sg",get:function(){return this.QR}},{key:"aw",get:function(){return!0}},{key:"ou",get:function(){return this.iD}},{key:"hw",get:function(){return this.eD}},{key:"Uw",get:function(){}},{key:"Sw",get:function(){return{cg:0,ag:0,hg:0,fg:0,dg:0,vg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"fw",get:function(){return!1},set:function(t){}},{key:"lg",get:function(){return!0}},{key:"dw",get:function(){return!0}},{key:"vw",get:function(){return 0},set:function(t){}},{key:"wg",get:function(){return B_.qR().pI()}},{key:"gg",get:function(){return D_.zI},set:function(t){}},{key:"El",get:function(){return fw.Kl}},{key:"yg",get:function(){return B_.qR().pI()}},{key:"lw",get:function(){return!1}},{key:"Mw",get:function(){return this.uD}},{key:"ww",get:function(){return 0}},{key:"Fw",get:function(){return this.rD}},{key:"gw",get:function(){return 0}},{key:"yw",get:function(){return 1},set:function(t){}},{key:"mg",get:function(){return!1},set:function(t){}},{key:"og",get:function(){return!1}}]),n}(iw);function z_(t){if(t&&Ct(t))return lr({},t,{integration:W_(t.integration),fairplay:J_(t.fairplay),widevine:j_(t.widevine),playready:$_(t.playready),clearkey:Q_(t.clearkey),aes128:Z_(t.aes128),integrationParameters:tk(t.integrationParameters),preferredKeySystems:nk(t.preferredKeySystems)})}function W_(t){if(At(t))return t}function j_(t){if(t&&Ct(t))return{persistentState:X_(t.persistentState),distinctiveIdentifier:X_(t.distinctiveIdentifier),audioRobustness:G_(t.audioRobustness),videoRobustness:G_(t.videoRobustness),licenseAcquisitionURL:At(t.licenseAcquisitionURL)?t.licenseAcquisitionURL:void 0,licenseType:Y_(t.licenseType),headers:t.headers,useCredentials:!!Pt(t.useCredentials)&&t.useCredentials,queryParameters:t.queryParameters,certificate:At(t.certificate)||Ds(t.certificate)?t.certificate:void 0,certificateRequestProcessor:K_(t.certificateRequestProcessor),certificateResponseProcessor:K_(t.certificateResponseProcessor),licenseRequestProcessor:K_(t.licenseRequestProcessor),licenseResponseProcessor:K_(t.licenseResponseProcessor)}}function $_(t){if(t){var n=j_(t);if(n)return lr({},n,{customData:At(t.customData)?t.customData:void 0})}}function X_(t){switch(null==t?void 0:t.toLowerCase()){case"required":return"required";case"optional":return"optional";case"not-allowed":return"not-allowed"}}function G_(t){switch(t){case"HW_SECURE_ALL":return"HW_SECURE_ALL";case"HW_SECURE_DECODE":return"HW_SECURE_DECODE";case"HW_SECURE_CRYPTO":return"HW_SECURE_CRYPTO";case"SW_SECURE_DECODE":return"SW_SECURE_DECODE";case"SW_SECURE_CRYPTO":return"SW_SECURE_CRYPTO";case"":return""}}function Y_(t){switch(null==t?void 0:t.toLowerCase()){case"temporary":return"temporary";case"persistent":return"persistent"}}function K_(t){if("function"==typeof t)return t}function J_(t){if(t){var n=j_(t);if(n)return lr({},n,{certificateURL:At(t.certificateURL)?t.certificateURL:void 0})}}function Q_(t){if(t){var n=j_(t);if(n)return lr({},n,{keys:Dt(t.keys)?t.keys.map(function(t){return function(t){if(!t||!Ct(t))return;var n=t.id,i=t.value;if(!At(n)||!At(i))return;return{id:n,value:i}}(t)}).filter(Rt):void 0})}}function Z_(t){if(Ct(t))return{useCredentials:Pt(t.useCredentials)?t.useCredentials:void 0}}function tk(t){if(Ct(t))return t}function nk(t){return t&&Dt(t)?t.map(function(t){return Hp(t)}).filter(Rt):[Nr,Rr,Or]}var ik,ek=function(t){function n(n){var i;return(i=t.call(this,"presentationmodechange")||this).presentationMode=n,i}return dt(n,t),n}(Su),rk=function(t){function n(n,i){var e;return void 0===i&&(i=!1),(e=t.call(this,n)||this).sD=[],e.oD=void 0,e.cD=function(t){gu(function(){e.jr(t)})},e.oD=i?e.cD:e.jr,e}dt(n,t);var i=n.prototype;return i.aD=function(t){t.Yr(this.oD),this.sD.push(t)},i.hD=function(t){t.tu(this.oD),iu(this.sD,t)},i.et=function(){this.Kr();for(var t=0,n=this.sD;t<n.length;t++){n[t].tu(this.oD)}uu(this.sD)},n}(nw),uk=function(t){function n(){return t.apply(this,arguments)||this}return dt(n,t),n}(rk);!function(t){t.INLINE="inline",t.FULLSCREEN="fullscreen",t.PICTURE_IN_PICTURE="picture-in-picture"}(ik||(ik={}));var sk,ok=function(t){function i(n){var i;return(i=t.call(this)||this).fD=void 0,i.dD=void 0,i.vD=!1,i.lD=!1,i.wD=void 0,i.gD=void 0,i.yD=void 0,i.bv=void 0,i.mD=function(){return i.pD()},i.bD=function(){return i._D()},i.yD=n,i.fD=i.dD=i.wD=i.gD=ik.INLINE,i.yD.Xr(x_.xv,i.mD),i.yD.Xr(x_.yl,i.bD),i.kD(),i}dt(i,t);var e=i.prototype;return e.kv=function(){return t=this,i={get currentMode(){return t.TD()},requestMode:function(n){var i=ak(n);i&&t.SD(i)},supportsMode:function(n){var i=ak(n);return!!i&&t.ED(i)},addEventListener:function(t,i){n.Xr(t,i)},removeEventListener:function(t,i){n.Jr(t,i)}},(n=new rk(i,!0)).aD(t),i;var t,n,i},e.SD=function(t){this.RD(t,t)},e.RD=function(t,n){this.dD!==n&&(this.vD=!0,this.fD=t,this.DD(n,this.dD),t!==ik.FULLSCREEN&&(this.wD=t),this.vD=!1,this.kD())},e.TD=function(){return this.lD?ik.FULLSCREEN:ik.INLINE},e.ED=function(t){switch(t){case ik.FULLSCREEN:return this.yD.WR;case ik.INLINE:return!0}return!1},e.kD=function(){if(!this.vD){var t=this.dD,n=this.TD();this.dD=n,n!==ik.FULLSCREEN&&(this.gD=n),t!==n&&this.$r(new ek(n))}},e.DD=function(t,n){var i=t===ik.FULLSCREEN;this.lD=i,i!==this.yD.zR&&(i?this.yD.xg():this.yD.Bg())},e.pD=function(){if(!this.vD){var t=this.yD.zR;this.lD=t,t?this.RD(ik.FULLSCREEN,ik.FULLSCREEN):t||this.fD!==ik.FULLSCREEN?this.kD():this.RD(this.wD,this.gD)}},e._D=function(){this.pD(),this.$r(new jw(new Ec(n.ErrorCode.FULLSCREEN_ERROR,"Failed to enter fullscreen.")))},e.et=function(){this.yD.et(),this.Kr()},ht(i,[{key:"_v",get:function(){return this.bv||(this.bv=this.kv()),this.bv}}]),i}(nw),ck={ow:0,cw:NaN,aw:!1,ou:void 0,hw:void 0,fw:!1,dw:!0,vw:1,El:fw.Kl,lw:!1,ww:0,gw:0,yw:1};function ak(t){switch(t){case ik.INLINE:case ik.FULLSCREEN:case ik.PICTURE_IN_PICTURE:return t;default:return}}!function(t){t.DEFAULT="",t.THEO="theo",t.GOOGLE_IMA="google-ima",t.SPOTX="spotx",t.FREEWHEEL="freewheel"}(sk||(sk={}));var hk,fk,dk,vk,lk,wk,gk,yk,mk=function(){function t(){this.ND=[]}var n=t.prototype;return n.CD=function(t){var n=this.OD.filter(function(n){return n.PD(t)});if(n.length>1)0;else if(0===n.length)throw h("Unknown ad integration: "+t.integration);return n[0]||null},n.xD=function(t){this.ND.push(t)},ht(t,[{key:"OD",get:function(){return this.ND}}]),t}();mk.Qn=new mk,function(t){t.sw="PLAYING",t.Iw="PAUSED",t.LD="SEEK",t.BD="STALLED",t.FD="FAILED",t.MD="INITIAL_BUFFERING",t.UD="NO_ACCESS"}(hk||(hk={})),function(t){t.VD="HTTP_REQUEST_STATUS_CODE_1XX",t.qD="HTTP_REQUEST_STATUS_CODE_2XX",t.HD="HTTP_REQUEST_STATUS_CODE_3XX",t.zD="HTTP_REQUEST_STATUS_CODE_4XX",t.WD="HTTP_REQUEST_STATUS_CODE_5XX",t.jD="BUFFER_LENGTH",t.$D="BYTES_RECEIVED",t.XD="SEGMENT_READ_BITRATE",t.GD="SEGMENT_PROFILE_BITRATE",t.YD="NUMBER_OF_FRAMES_DROPPED",t.KD="PLAYBACK_POSITION",t.JD="NUMBER_OF_FRAMES_DECODED",t.QD="PLAYBACK_DELTA_TO_ORIGIN",t.ZD="STREAM_DELTA_TO_ORIGIN",t.tN="ORIGIN_TIMESTAMP"}(fk||(fk={})),function(t){t.nN="MANIFEST_URI",t.iN="ASSET_DURATION",t.eN="NUMBER_OF_CONTENT_PROFILES",t.rN="CDN",t.uN="CONTENT_TITLE",t.sN="SERVICE_NAME",t.oN="CONTENT_TYPE",t.cN="CONTENT_DESCRIPTION"}(dk||(dk={})),function(t){t.aN="shutdown_normal_shutdown"}(vk||(vk={})),function(t){t.hN="session/",t.fN="internalError/",t.dN="drmError/",t.vN="caError/",t.lN="networkError/"}(lk||(lk={})),function(t){t.wN="userAction",t.gN="endOfStreamReached"}(wk||(wk={})),function(t){t.PAUSE="yN",t.RESUME="mN"}(gk||(gk={})),function(t){t.UNAVAILABLE="unavailable",t.AVAILABLE="available",t.CONNECTING="connecting",t.CONNECTED="connected"}(yk||(yk={}));var pk,bk,_k,kk,Tk,Sk="agama";function Ek(t){return function(t){switch(t){case pk.NONE:case pk.HORIZONTAL:case pk.VERTICAL:return!0;default:return!1}}(t)?t:pk.NONE}function Ik(t){switch(t){case"":return pk.NONE;case"horizontal":return pk.HORIZONTAL;case"vertical":return pk.VERTICAL;default:throw new f}}function Rk(t){if(!t||!At(t))return bk.HI;switch(t){case"always":return bk.pN;case"never":return bk.bN;default:return bk.HI}}function Dk(t){if(!t||!At(t))return _k.HI;switch(t){case"playlist":return _k._N;case"media":return _k.kN;default:return _k.HI}}function Nk(t,n){return t.length>0?t:n.length>0?n:void 0}function Ck(t){if(null!==t)return t}function Ok(t){var n,i={apiKey:t.apiKey,integration:t.integration,streamActivityMonitorID:Ck(t.streamActivityMonitorID),adTagParameters:Ct(t.adTagParameters)?t.adTagParameters:{},authToken:Ck(t.authToken)};if("vod"===(null==t?void 0:t.availabilityType)||(n=t,Boolean(n.videoID&&n.contentSourceID))){var e=t.videoID,r=t.contentSourceID;return e?r?lr({},i,{availabilityType:"vod",videoID:e,contentSourceID:r}):void st.Se("A VOD DAI configuration was provided without valid contentSourceID which is required."):void st.Se("A VOD DAI configuration was provided without valid videoID which is required.")}if("live"===(null==t?void 0:t.availabilityType)||function(t){return Boolean(t.assetKey)}(t)){var u=t.assetKey;return u?lr({},i,{availabilityType:"live",assetKey:u}):void st.Se("A Live DAI configuration was provided without valid assetKey which is required.")}st.Se("A DAI configuration was provided without a valid availabilityType which is required.")}function Ak(t){if(!xp(t)||!t.integration)return t;switch(t.integration){case np:return n=t,i=qp(Tr.ur,n),e=qp(Tr.rr,n),r=n[Tr.sr]&&qp(Tr.sr,n),lr({integration:"keyos",widevine:i,playready:e},r?{fairplay:r}:{});default:return t}var n,i,e,r}function Pk(t){if(!t)return!0;var n,i,e=!(pw(n=t.sources)||Nt(n)&&pw(n[0]))||bw(t.sources),r=!t.ads||(!(i=t.ads)||Dt(i)&&0===i.length),u=""!==t.poster&&!t.poster;return e&&r&&u}function xk(t){if(t&&t.sources)return function t(n){if(At(n))return n;if(mw(n))return n.src;if(Nt(n)&&n.length>0)return t(n[0]);return}(t.sources)}function Lk(t,n,i){return gw(t)?function(t,n,i){var e=lr({},_w(),{ping:{adImpressions:!1,freeWheelVideoViews:!1,linearAdData:!1},integration:kk.VERIZON_MEDIA,id:"",preplayParameters:{},playbackUrlParameters:{},assetType:Tk.ASSET,contentProtected:!1,assetInfo:!0});e.id=(r=t.id,At(r)?r:Nt(r)&&At(r[0])?r:Ct(u=r)&&At(u.userId)&&(Nt(u.externalId)||At(u.externalId))?r:""),t.preplayParameters&&(e.preplayParameters=t.preplayParameters);var r,u;t.playbackUrlParameters&&(e.playbackUrlParameters=t.playbackUrlParameters);t.assetType&&(e.assetType=function(t){switch(t){case"channel":return Tk.CHANNEL;case"event":return Tk.EVENT;case"asset":default:return Tk.ASSET}}(t.assetType));t.contentProtected&&(e.contentProtected=xl(t.contentProtected));t.assetInfo?e.assetInfo=xl(t.assetInfo):e.assetInfo="asset"===e.assetType;return e.ping=(s=e.assetType,o=t.ping,c=!1,a=!1,h=!1,o?(c=!!Pt(o.adImpressions)&&o.adImpressions,a=!!Pt(o.freeWheelVideoViews)&&o.freeWheelVideoViews,h=Pt(o.linearAdData)?o.linearAdData:s!==Tk.ASSET):s!==Tk.ASSET&&(h=!0),{adImpressions:c,freeWheelVideoViews:a,linearAdData:h}),e=Fk(e=Mk(e=Bk(e,t),n,i),t,i);var s,o,c,a,h}(t,n,i):function(t,n,i){var e=kw(),r=n&&(n.contentProtection||n.drm);if(At(t)){if(e.src=t,e.type=lw(t),r){var u=z_(r);e.contentProtection=Ak(u)}}else if(mw(t)||ww(t)){e.src=t.src,e.type=t.type||lw(t.src),e.isAdvertisement=t.isAdvertisement;var s=function(t){return t.type===cw.Gl||t.type===cw.Yl}(t)?t.hesp:void 0;void 0!==s&&(e.hesp=s);var o=t.contentProtection||t.drm||r,c=z_(o);e.contentProtection=Ak(c),t.ssai&&(e.ssai=function(t){switch(t.integration){case"google-dai":return Ok(t);case"imagine":return{integration:t.integration};case"yospace":return function(t){var n;return{integration:t.integration,streamType:null!=(n=t.streamType)?n:void 0}}(t);default:return{integration:t.integration}}}(t.ssai)),e=Bk(e,t)}return e=Fk(e=Mk(e,n,i),t,i)}(t,n,i)}function Bk(t,n){var i;n.useCredentials?t.crossOrigin=ow.$l:n.crossOrigin&&(t.crossOrigin=function(t){switch(t){case ow.jl:case ow.$l:return t;default:return ow.Wl}}(n.crossOrigin)),At(n.timeServer)&&(t.timeServer=n.timeServer),n.liveOffset&&(t.liveOffset=n.liveOffset),n.hlsDateRange&&(t.hlsDateRange=n.hlsDateRange),n.lowLatency&&(t.lowLatency=xl(n.lowLatency)),n.useNativePlayback&&(t.useNativePlayback=xl(n.useNativePlayback)),n.dash&&(t.dash={useSeamlessPeriodSwitch:Rk(null==(i=n.dash)?void 0:i.useSeamlessPeriodSwitch)}),n.hls&&(t.hls=function(t){return{discontinuityAlignment:Dk(null==t?void 0:t.discontinuityAlignment)}}(n.hls));var e=void 0!==n.experimentalRendering?xl(n.experimentalRendering):void 0;void 0!==e&&(t.experimentalRendering=e);var r=void 0!==n.nativeUiRendering?xl(n.nativeUiRendering):void 0;return void 0!==r&&(t.nativeUiRendering=r),t}function Fk(t,n,i){return t.abr=function(t,n){var i=Ml(null==t?void 0:t.preferredAudioCodecs,Fl),e=Ml(null==t?void 0:t.preferredVideoCodecs,Fl),r=Ml(null==n?void 0:n.preferredAudioCodecs,Fl),u=Ml(null==n?void 0:n.preferredVideoCodecs,Fl),s=Nk(i,r),o=Nk(e,u);if(s||o)return{preferredAudioCodecs:s,preferredVideoCodecs:o}}(At(n)?void 0:n.abr,null==i?void 0:i.abr),t}function Mk(t,n,i){var e,r=n&&n.timeServer;return i&&i.liveOffset&&!Rt(t.liveOffset)&&(t.liveOffset=i.liveOffset),i&&i.hlsDateRange&&!Rt(t.hlsDateRange)&&(t.hlsDateRange=i.hlsDateRange),t.crossOrigin===ow.Wl&&null!=n&&null!=(e=n.vr)&&e[360]&&(t.crossOrigin=ow.jl),t.useCredentials=t.crossOrigin===ow.$l,At(r)&&!t.timeServer&&(t.timeServer=r),t}function Uk(t){var n={src:""};if(t&&t.src){if(n.src=Fl(t.src),"default"in t&&(n.default=xl(t.default)),n.kind=mm(t.kind),function(t){switch(t){case Rg.DEFAULT:case Rg.SRT:case Rg.TTML:case Rg.WEBVTT:case Rg.EMSG:case Rg.EVENT_STREAM:case Rg.ID3:case Rg.CEA608:case Rg.DATE_RANGE:return!0;default:return!1}}(t.format)&&(n.format=t.format),"srclang"in t){var i=t.srclang;"string"==typeof i&&""!==i&&(n.srclang=i)}if("label"in t){var e=t.label;"string"==typeof e&&""!==e&&(n.label=e)}}return n}function Vk(t,n){if(Ot(t))try{return n.CD(t).TN(t)}catch(t){return}}function qk(t){return At(t.sources)&&""!==t.sources||Ct(t.sources)&&At(t.sources.src)}function Hk(t){return t.integration===sk.SPOTX&&!g(t.id)}function zk(t){return"freewheel"===t.integration}function Wk(t,n,i){if(void 0===i&&(i=mk.Qn),Pk(t))return{sources:[kw()]};var e=Cl(t);if(e.sources=function(t,n,i){if(pw(t))return[Lk(t,n,i)];if(Nt(t)&&pw(t[0])){for(var e=[],r=0;r<t.length;r++){var u=t[r];e.push(Lk(u,n,i))}return e}return[kw()]}(e.sources,e,n),"contentProtection"in e&&delete e.contentProtection,"drm"in e&&delete e.drm,"ads"in e){var r=function(t,n){if(!Nt(t))return[];for(var i=[],e=0,r=t;e<r.length;e++){var u=r[e];(u=Vk(u,n))&&(qk(u)||Hk(u)||zk(u))&&i.push(u)}return i}(e.ads,i);0===r.length?delete e.ads:e.ads=r}var u,s,o,c=!bw(e.sources),a=e.ads&&e.ads.length>0;if(c&&!a?delete e.ads:a&&!c&&(e.sources=[]),"textTracks"in e){var h=function(t){if(!Nt(t))return[];for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];""!==(r=Uk(r)).src&&n.push(r)}return n}(e.textTracks);0===h.length?delete e.textTracks:e.textTracks=h}if("poster"in e&&(e.poster=Fl(e.poster)),"vr"in e&&(e.vr=(u=e.vr,(s=u||{}).stereoMode=Ek(s.stereoMode),{360:Boolean(s[360]),stereoMode:s.stereoMode?Ik(s.stereoMode):pk.NONE,nativeVR:Boolean(s.nativeVR)})),"analytics"in e||(null==n?void 0:n.analytics)){var f=Sw(e.analytics),d=n&&n.analytics||[];e.analytics=function(t,n){for(var i=Cl(t),e=function(e){var r=n[e],u=!t.some(function(t){return t.integration===r.integration});u&&r.integration!==Sk&&i.push(r)},r=0;r<n.length;r++)e(r);return i}(f,d)}return"mutedAutoplay"in e&&(e.mutedAutoplay=$w(e.mutedAutoplay)),"timeServer"in e&&delete e.timeServer,e.blockContentIfAdError=void 0!==(o=e.blockContentIfAdError)&&"boolean"==typeof o&&Boolean(o),e}!function(t){t.NONE="",t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(pk||(pk={})),function(t){t.HI="auto",t.pN="always",t.bN="never"}(bk||(bk={})),function(t){t.HI="auto",t._N="playlist",t.kN="media"}(_k||(_k={})),function(t){t.VERIZON_MEDIA="verizon-media"}(kk||(kk={})),function(t){t.ASSET="asset",t.CHANNEL="channel",t.EVENT="event"}(Tk||(Tk={}));var jk=function(){function t(t){this.SN=t}return t.prototype.EN=function(t){var n,i,e,r,u,s,o,c=[];if(!t)return"";var a=t.length%4;if(a>0)for(;a++<4;)t+=this.SN.charAt(64);for(n=0;n<t.length;n+=4)i=(o=this.SN.indexOf(t.charAt(n))<<18|this.SN.indexOf(t.charAt(n+1))<<12|(u=this.SN.indexOf(t.charAt(n+2)))<<6|(s=this.SN.indexOf(t.charAt(n+3))))>>>16&255,e=o>>>8&255,r=255&o,c[n/4]=String.fromCharCode(i,e,r),64===s&&(c[n/4]=String.fromCharCode(i,e)),64===u&&(c[n/4]=String.fromCharCode(i));return c.join("")},t.prototype.IN=function(t,n){var i,e,r,u,s,o,c,a=[],h="";if((o=t.length%3)>0)for(;o++<3;)h+=this.SN.charAt(64),t+="\0";for(o=0;o<t.length;o+=3)e=(i=t.charCodeAt(o)<<16|t.charCodeAt(o+1)<<8|t.charCodeAt(o+2))>>18&63,r=i>>12&63,u=i>>6&63,s=63&i,a[o/3]=this.SN.charAt(e)+this.SN.charAt(r)+this.SN.charAt(u)+this.SN.charAt(s);return c=(c=a.join("")).slice(0,c.length-h.length),n||(c+=h),c},t.Gm=new t(function(){var t,n,i,e,r=[],u=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<u.length;t+=1)for(n=u[t],i=0;i<n.length;i+=1)e=n.charAt(i),-1===r.indexOf(e)&&r.push(e);return r.join("")}()),t.RN=new t(t.Gm.EN("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")),t}();function $k(t){return"string"==typeof t}function Xk(t){return"number"==typeof t}var Gk={}.toString;var Yk,Kk=Array.isArray||function(t){return"[object Array]"===Gk.call(t)};function Jk(t,n){return Kk(t)&&t.every(n)}!function(t){t.HTML5="html5",t.ANDROID="android",t.IOS="ios",t.TVOS="tvos",t.ANDROIDTV="androidtv",t.TIZEN="tizen",t.WEBOS="webos",t.CHROMECAST="chromecast",t.ROKU="roku",t.FIRETV="firetv",t.CHROMECASTCAF="chromecastcaf"}(Yk||(Yk={}));var Qk,Zk=d.keys(Yk).map(function(t){return Yk[t]});function tT(t){return-1!==Zk.indexOf(t)}function nT(t){try{var n=jk.RN.EN(t),i=JSON.parse(n);if(!function(t){var n=(f=t,"object"==typeof f&&null!==f),i=$k(t.key),e=$k(t.customer_id),r=Xk(t.generation_date),u=Xk(t.expiration_date),s=Jk(t.domains_page,$k),o=Jk(t.domains_source,$k),c=Jk(t.sdks,tT),a=(h=t.send_impression,"boolean"==typeof h);var h;var f;if(!(n&&i&&e&&r&&u&&s&&o&&c&&a))return!1;return!0}(i))throw new h("The provided license could not be decoded correctly.");return i}catch(t){throw new h("The provided license could not be decoded correctly.")}}function iT(){return Qk||(Qk={Af:tt.href,DN:Z.parent&&Z.parent!==i,NN:uT()}),Qk}var eT,rT=["http:","https:","ftp:","ws:","wss:"];function uT(){try{return Z.top.location.href}catch(t){return Z&&Z.document&&Z.document.referrer}}!function(t){t[t.CN=0]="CN",t[t.ON=1]="ON",t[t.AN=2]="AN"}(eT||(eT={}));var sT,oT=function(t,n,i,e,r,u,s,o){void 0===r&&(r=""),void 0===u&&(u=Date.now()),void 0===s&&(s=[]),void 0===o&&(o=!0),this.PN=t,this.xN=n,this.LN=i,this.BN=e,this.FN=r,this.MN=u,this.UN=s,this.VN=o};!function(t){t.ON="expired",t.qN="invaliddomain",t.HN="invalidsource",t.yl="error"}(sT||(sT={}));var cT=function(){function t(t,n,i){this.zN=void 0,this.WN=t,this.jN=n,this.Ts=i,this.zN=lT(this.Ts)}var n=t.prototype;return n.$N=function(t,n){var i=this;if(!Pk(t)&&0!==n.LN.length&&!fT(n.LN)){var e=[];if(pw(t.sources)?e=[t.sources]:Nt(t.sources)&&(e=t.sources),!e.every(function(t){return i.XN(t,n)})){var r=sT.HN,u=gT.GN(r);throw new Ec(aT(r),u)}}},n.YN=function(n){return this.KN(n.UN)&&this.JN(n)?t.QN(n.BN)?eT.CN:eT.ON:eT.AN},n.KN=function(t){var n=this;return 0===t.length||t.some(function(t){return n.ZN(t)})},n.ZN=function(t){return"tvos"===function(t){switch(t){case Yk.ANDROID:return ot.dt;case Yk.ANDROIDTV:case Yk.FIRETV:return ot.vt;case Yk.IOS:return ot.wt;case Yk.TVOS:return ot.yt;case Yk.CHROMECAST:case Yk.CHROMECASTCAF:return ot.pt;default:return ot.ft}}(t)},t.QN=function(t){var n=Number(new Date);return!!t&&n<=t},n.JN=function(t){return!(this.zN&&0!==t.xN.length&&!fT(t.xN))||!!(this.zN&&this.tC(t.xN)&&this.nC(t.xN))},n.tC=function(t){return dT(this.Ts.Af,t)},n.nC=function(t){if(!this.Ts.DN)return!0;if(this.WN)return!0;var n=this.iC();return!!n&&dT(n,t)},n.iC=function(){if(this.Ts.DN){var t=r.ancestorOrigins;return t&&t.length>0?t[t.length-1]:this.Ts.NN?this.Ts.NN:void 0}},n.XN=function(n,i){return!!t.eC(n,i.LN)},t.eC=function(t,n){return dT(this.rC(t),n)},t.rC=function(t){return At(t)?t:mw(t)&&t.src||""},t}();function aT(t){switch(t){case sT.qN:return n.ErrorCode.LICENSE_INVALID_DOMAIN;case sT.HN:return n.ErrorCode.LICENSE_INVALID_SOURCE;case sT.ON:return n.ErrorCode.LICENSE_EXPIRED;case sT.yl:return n.ErrorCode.LICENSE_ERROR}}function hT(t,n){var i=t,e=n;if(!i)return!1;if("*"===(e=e.trim()))return!0;if(e===(i=i.replace(/\.+$/,"")))return!0;var r="\\.",u="25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?",s="(\\*|"+u+")",o=new RegExp("ip-range\\("+s+r+s+r+s+r+s+"\\)"),c=e.match(o),a=function(t){return"*"===t?"("+u+")":t};if(null!==c&&5===c.length){var h=new RegExp("^"+c[1]+r+a(c[2])+r+a(c[3])+r+a(c[4])+"$");return null!==i.match(h)}return e="."+e,-1!==i.indexOf(e,i.length-e.length)}function fT(t){return t.some(function(t){return"*"===t})}function dT(t,n){var i=st.Ue(t);if(!vT(i))return!0;for(var e=0;e<n.length;e++){var r=n[e];if(hT(i.hostname,r))return!0;if(hT(xd(t),r))return!0}return!1}function vT(t){return-1!==rT.indexOf(t.protocol)}function lT(t){var n=st.Ue(t.Af);return vT(n)&&!hT(n.hostname,"localhost")&&!function(t){return hT(t.hostname,"theoplayer.doubleclick.net")}(n)}var wT,gT=function(){function t(){}return t.GN=function(t){return t===sT.qN?this.uC:t===sT.HN?this.sC:t===sT.ON?this.oC:this.cC},t}();function yT(t){var n=[t.nk,t.aC,t.hC];switch(t.aC){case wT.fC:n.push(t.Dl);break;case wT.dC:n.push(t.ow),n.push(t.ou);break;case wT.vC:n.push(t.ou)}return n}gT.cC="The license for this player is invalid.",gT.oC="The usage license for this video player has expired.",gT.uC="The current domain is incompatible with the license for this player.",gT.sC="The provided video source is incompatible with the license for this player.",function(t){t[t.fC=1]="fC",t[t.dC=4]="dC",t[t.vC=5]="vC"}(wT||(wT={}));for(var mT=new Array(256),pT=0;pT<256;pT+=1)mT[pT]=(pT<16?"0":"")+pT.toString(16);function bT(){var t=En(),n=(4294967296*v.random()|0)+t&3029421624,i=(4294967296*v.random()|0)+t&3595553209,e=(4294967296*v.random()|0)+t&1130486254,r=(4294967296*v.random()|0)+t&1284287105;return mT[255&n]+mT[n>>>8&255]+mT[n>>>16&255]+mT[n>>>24&255]+"-"+mT[255&i]+mT[i>>>8&255]+"-"+mT[i>>>16&15|64]+mT[i>>>24&255]+"-"+mT[63&e|128]+mT[e>>>8&255]+"-"+mT[e>>>16&255]+mT[e>>>24&255]+mT[255&r]+mT[r>>>8&255]+mT[r>>>16&255]+mT[r>>>24&255]}var _T=function(){function t(t){this.SN=void 0,this.SN=t}var n=t.prototype;return n.EN=function(t){var n,i,e,r,u,s,o,c=[];if(!t)return"";for(n=0;n<t.length;n+=4)i=(o=this.SN.indexOf(t.charAt(n))<<18|this.SN.indexOf(t.charAt(n+1))<<12|(u=this.SN.indexOf(t.charAt(n+2)))<<6|(s=this.SN.indexOf(t.charAt(n+3))))>>>16&255,e=o>>>8&255,r=255&o,c[n/4]=String.fromCharCode(i,e,r),64===s&&(c[n/4]=String.fromCharCode(i,e)),64===u&&(c[n/4]=String.fromCharCode(i));return c.join("")},n.IN=function(t){var n,i,e,r,u,s,o,c=[],a="";if((s=t.length%3)>0)for(;s++<3;)a+=this.SN.charAt(64),t+="\0";for(s=0;s<t.length;s+=3)i=(n=t.charCodeAt(s)<<16|t.charCodeAt(s+1)<<8|t.charCodeAt(s+2))>>18&63,e=n>>12&63,r=n>>6&63,u=63&n,c[s/3]=this.SN.charAt(i)+this.SN.charAt(e)+this.SN.charAt(r)+this.SN.charAt(u);return(o=c.join("")).slice(0,o.length-a.length)+a},t}();function kT(){return st.me()}_T.Gm=new _T(function(){var t,n,i,e,r=[],u=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<u.length;t+=1)for(n=u[t],i=0;i<n.length;i+=1)e=n.charAt(i),-1===r.indexOf(e)&&r.push(e);return r.join("")}()),_T.RN=new _T(_T.Gm.EN("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop"));var TT,ST="theoplayer-session-id";function ET(){if(!TT){var t=qc.wu(ST);t?TT=t:(TT=bT(),qc.sa(ST,TT))}return TT}var IT=/[^\x00-\x7E]/g;function RT(t){return"\\u"+function(t,n,i){void 0===i&&(i=" ");var e=i,r=(0|n)-t.length;return r<=0?t:(r>e.length&&(e+=function(t,n){var i=0|n;if(0===t.length||0===i)return"";for(var e=t,r="";1==(1&i)&&(r+=e),0!=(i>>>=1);)e+=e;return r}(e,r/e.length)),e.slice(0,r)+t)}(t.charCodeAt(0).toString(16),4,"0")}var DT=0,NT=1,CT=6e4;function OT(t){var n,i,e,r,u,s=(n=function(t){return[t.lC,t.cc,t.PN,t.gb,t.wC,t.gC,t.yC.map(yT)]}(t),i=[],e=n,r=function(t,n){if(Ct(n)){if(-1!==i.indexOf(n))return null;i.push(n)}return n},JSON.stringify(e,r,u).replace(IT,RT));return _T.RN.IN(s)}var AT=function(){function t(t,n,i,e,r,u){var s=this;void 0===e&&(e=_T.Gm),void 0===r&&(r=DT),void 0===u&&(u=NT),this.mC=[],this.pC=null,this.bC=0,this._C="unknown",this.to=0,this.kC=function(){kT()-s.bC>CT&&s.H()},this.TC=function(){s.H(!0)},this.Io=t,this.nT=n,this.SC=i,this.EC=e,this.IC=r,this.RC=u,Q.ct(this.TC),c(this.kC,CT)}var n=t.prototype;return n.DC=function(){return Boolean(this.wC)},n.NC=function(t){var n;return vr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,vr.awrap(this.SC.CC());case 2:if(i.sent.VN){i.next=5;break}return i.abrupt("return");case 5:return n={aC:wT.fC,hC:En(),Dl:t},i.next=8,vr.awrap(this.OC(n));case 8:case"end":return i.stop()}},null,this,null,j)},n.AC=function(t,n){var i;return vr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return i={aC:wT.dC,hC:En(),ow:n,ou:t},e.next=3,vr.awrap(this.OC(i));case 3:case"end":return e.stop()}},null,this,null,j)},n.xC=function(t){var n;return vr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n={aC:wT.vC,hC:En(),ou:t},i.next=3,vr.awrap(this.OC(n));case 3:case"end":return i.stop()}},null,this,null,j)},n.OC=function(t){var n;return vr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,vr.awrap(this.SC.CC());case 2:if(n=i.sent,"a:n[_O*[C4C-N$_@_MYY $D]iOp]N$_-_]th_:c|aen?C:pH"!==this.EC.IN(n.PN)){i.next=6;break}if(t.aC===wT.vC){i.next=6;break}return i.abrupt("return");case 6:if(t.aC===wT.fC?this.LC():this.DC()||this.LC(),t.nk=this.to++,this.mC.push(t),(e=t.aC)!==wT.fC&&e!==wT.vC){i.next=14;break}return i.next=12,vr.awrap(this.H());case 12:i.next=19;break;case 14:if(!(this.mC.length>this.IC)){i.next=19;break}return i.next=17,vr.awrap(this.BC());case 17:i.next=19;break;case 19:case"end":return i.stop()}var e},null,this,null,j)},n.H=function(t){return vr.async(function(n){for(;;)switch(n.prev=n.next){case 0:void 0===t&&(t=!1);case 1:if(!(this.mC.length>0)){n.next=6;break}return n.next=4,vr.awrap(this.BC(t));case 4:n.next=1;break;case 6:case"end":return n.stop()}},null,this,null,j)},n.FC=function(t){var n;return vr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,vr.awrap(this.SC.CC());case 2:return n=i.sent,i.abrupt("return",{lC:En(),cc:ET(),PN:this.EC.IN(n.PN)||"dev",gb:this.Io,wC:this.pC,gC:this._C,yC:t});case 4:case"end":return i.stop()}},null,this,null,j)},n.BC=function(t){var n,i;return vr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t=!1),n=this.mC.splice(0,this.RC),e.next=4,vr.awrap(this.FC(n));case 4:i=e.sent,t?this.nd(i):this.MC(i),this.bC=kT();case 7:case"end":return e.stop()}},null,this,null,j)},n.MC=function(t){var n,i,e;return vr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=OT(t),i=new Id({Af:"https://license.theoplayer.com",lf:n,Zf:!1,Rf:$c.ei,If:{"Content-Type":_b.AS},Kf:4e3,Yf:_d.POST}),r.prev=2,r.next=5,vr.awrap(this.nT.Cf(i));case 5:return e=r.sent,r.next=8,vr.awrap(e.ff());case 8:r.next=13;break;case 10:r.prev=10,r.t0=r.catch(2),(new Image).src="https://licensing.theoplayer.com/t?"+n;case 13:case"end":return r.stop()}},null,this,[[2,10]],j)},n.nd=function(t){var n=OT(t);this.nT.nd({Af:"https://license.theoplayer.com",lf:n,vf:_b.AS})},n.LC=function(){this.DC()&&this.H(),this.pC=bT(),this.to=0},n.et=function(){Q.at(this.TC),this.H()},ht(t,[{key:"yC",get:function(){return this.mC}},{key:"wC",get:function(){return this.pC}}]),t}();var PT=St.Pn||St.bn&&St.Un<13;function xT(t,n,i){var e=t.getImageData(n,i,1,1).data;return 0===e[0]&&0===e[1]&&0===e[2]&&0===e[3]}var LT=function(){function t(t){this.MI=void 0,this.bv=void 0,this.UC=void 0,this.MI=t}var n=t.prototype;return n.VC=function(t){if(!t||!t.drawImage)return!1;var n=this.MI.Kw();if(!n)return!1;for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return t.drawImage.apply(t,[n].concat(e)),!0},n.qC=function(t,n,i,r,u,s){if(!t||!t.texImage2D)return!1;var o=this.MI,c=o.Kw();if(!c)return!1;if(PT){this.UC||(this.UC=e.createElement("canvas"));var a=this.UC,f=a.getContext("2d"),d=o.gw,v=o.ww,l=a.width,w=a.height;f.clearRect(0,0,a.width,a.height),l===d&&w===v||(a.width=d,a.height=v),f.drawImage(c,0,0,d,v);var g=!1;d>0&&xT(f,d-1,0)&&(a.width=l,g=!0),v>0&&xT(f,0,v-1)&&(a.height=w,g=!0),g&&f.drawImage(c,0,0,d,v),c=a}try{t.texImage2D(n,i,r,u,s,c)}catch(t){throw new h("Error trying to render video content to the WebGLRenderingContext. This is most likely due to CORS restrictions. https://support.theoplayer.com/hc/en-us/articles/115003094385#Considerations")}return!0},ht(t,[{key:"_v",get:function(){return this.bv||(this.bv=(t=this,{drawImage:function(n){for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return t.VC.apply(t,[n].concat(e))},texImage2D:function(n,i,e,r,u,s){return t.qC(n,i,e,r,u,s)}}));var t}}]),t}(),BT=function(t){function n(n,i){var e;return(e=t.call(this,"HC")||this).ay=n,e.Gb=i,e}return dt(n,t),n.prototype.kv=function(){return new FT(this.ay,this.Gb)},n}(wl),FT=function(t){function n(n,i){var e;return(e=t.call(this,"dimensionchange")||this).width=n,e.height=i,e}return dt(n,t),n}(Su),MT=function(t,n){this.sg=void 0,this.zC=void 0,this.sg=t,this.zC=n},UT=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).WC=void 0,e.jC=0,e.$C=0,e.XC=function(t){if(t.length>0){var n=t[t.length-1].contentRect;e.$C=n.width,e.jC=n.height,e.zC(e.$C,e.jC)}},e.WC=new Z.ResizeObserver(e.XC),e.WC.observe(e.sg),e}return dt(n,t),n.prototype.et=function(){this.WC.disconnect()},ht(n,[{key:"GC",get:function(){return this.jC}},{key:"YC",get:function(){return this.$C}}]),n}(MT),VT=0;var qT,HT=o,zT=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,WT=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelRequestAnimationFrame;function jT(){return qT||(qT=Z&&Z.document&&Z.document.createElement("span")),qT}zT&&WT||(zT=function(t){var n=kT(),i=v.max(0,16-(n-VT)),e=s(function(){return t(n+i)},i);return VT=n+i,e},WT=HT),zT=zT.bind(t),WT=WT.bind(t);var $T=["Webkit","Moz","O","ms"],XT=(function(){var t=!1;try{if(void 0!==Z&&"function"==typeof Z.addEventListener){var n=d.defineProperty({},"passive",{get:function(){t=!0}});Z.addEventListener("testPassiveEventSupport",Bt,n),Z.removeEventListener("testPassiveEventSupport",Bt,n)}}catch(t){}}(),gr());function GT(t){return XT.has(t)||XT.set(t,function(t){var n=jT();if(!n||!n.style)return t;if(void 0!==n.style[t])return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),e=0;e<$T.length;e++){var r=$T[e],u=r+i;if(void 0!==n.style[u])return u}return t}(t)),XT.get(t)}function YT(t){var n=t.style;n.position="absolute",n.left=n.right=n.bottom=n.top="0",n.overflow="scroll",n.zIndex="-1",n.visibility="hidden"}function KT(t){var n=t.style;n.position="absolute",n.left=n.top="0",n[GT("transition")]="0s"}var JT=function(t){function n(n,r,u){var o;(o=t.call(this,n,r)||this).KC=void 0,o.JC=0,o.$C=NaN,o.jC=NaN,o.QC=void 0,o.ZC=void 0,o.tO=void 0,o.nO=void 0,o.iO=void 0,o.Kv=function(){o.ZC.style.width=1e5+"px",o.ZC.style.height=1e5+"px",o.QC.scrollLeft=1e5,o.QC.scrollTop=1e5,o.tO.scrollLeft=1e5,o.tO.scrollTop=1e5,0===o.tO.scrollTop&&zT(o.Kv)},o.eO=function(){var t=o.YC,n=o.GC;o.zC(t,n),o.$C=t,o.jC=n,o.Kv(),o.JC=0},o.rO=function(){if(!o.JC){var t=o.YC,n=o.GC;t===o.$C&&n===o.jC||(o.JC=zT(o.eO))}},o.uO=function(){o.iO||(o.iO=s(o.sO,66))},o.sO=function(){o.iO=void 0,o.oO()},o.oO=function(){o.rO()};var c=function(t,n){return i.getComputedStyle(t,void 0).getPropertyValue(n)||t.style[n]}(n,"position");u||"static"!==c||(n.style.position="relative");var a,h=e.createElement("div");return o.KC=h,o.QC=e.createElement("div"),o.ZC=e.createElement("div"),o.tO=e.createElement("div"),o.nO=e.createElement("div"),YT(o.QC),YT(o.tO),KT(o.ZC),KT(a=o.nO),a.style.width="200%",a.style.height="200%",h.appendChild(o.QC),h.appendChild(o.tO),o.QC.appendChild(o.ZC),o.tO.appendChild(o.nO),n.appendChild(h),o.QC.addEventListener("scroll",o.rO),o.tO.addEventListener("scroll",o.rO),i&&i.addEventListener("resize",o.uO),o.rO(),o}return dt(n,t),n.prototype.et=function(){WT(this.JC),this.JC=0,this.QC.removeEventListener("scroll",this.rO),this.tO.removeEventListener("scroll",this.rO),We(this.KC),i&&i.removeEventListener("resize",this.uO)},ht(n,[{key:"GC",get:function(){return this.sg.getBoundingClientRect().height||this.jC||0}},{key:"YC",get:function(){return this.sg.getBoundingClientRect().width||this.$C||0}}]),n}(MT),QT=function(t){function n(n){var i;return(i=t.call(this)||this).sg=void 0,i.WC=void 0,i.XC=function(t,n){i.$r(new BT(t,n))},i.sg=n,i}dt(n,t);var i=n.prototype;return i.lc=function(t){this.WC||("function"==typeof Z.ResizeObserver?this.WC=new UT(this.sg,this.XC):this.WC=new JT(this.sg,this.XC,t))},i.et=function(){this.Kr(),this.WC&&(this.WC.et(),this.WC=void 0)},ht(n,[{key:"GC",get:function(){return this.WC?this.WC.GC:0}},{key:"YC",get:function(){return this.WC?this.WC.YC:0}}]),n}(ku),ZT=function(t){function n(){return t.call(this,x_.xv)||this}return dt(n,t),n}(Su);!function(){if(e)for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0;n<t.length;n++){var i=t[n];if(i[1]in e)return{cO:i[0],aO:i[1],hO:i[2],fO:i[3],dO:i[4],vO:i[5]}}}();var tS=function(t){function n(){return t.call(this,x_.HR)||this}return dt(n,t),n}(Su),nS=function(t){function n(n,i){var e;return(e=t.call(this)||this).MI=void 0,e.lO=void 0,e.wO=void 0,e.gO=!1,e.yO=function(){return e.ec()},e.mD=function(t){e.gO||e.$r(t)},e.MI=n,e.lO=i,e.wO=U_,e.mO(),e.MI.Xr(jc.pa,e.yO),e.ec(),e}dt(n,t);var i=n.prototype;return i.xg=function(){this.lO&&this.wO.xg()},i.Bg=function(){this.wO.Bg()},i.mO=function(){this.wO.Xr(x_.xv,this.mD),this.wO.Xr(x_.yl,this.jr)},i.pO=function(){this.wO.Jr(x_.xv,this.mD),this.wO.Jr(x_.yl,this.jr)},i.ec=function(){var t=this.wO,n=this.MI.Jw();if(t!==n){this.gO=!0;var i=this.zR,e=this.WR;i&&this.Bg(),this.pO(),this.wO=n,this.mO(),i&&!this.zR&&this.WR?this.xg():this.Bg(),this.gO=!1,e!==this.WR&&this.$r(new tS),i!==this.zR&&this.$r(new ZT)}},i.et=function(){this.Kr(),this.pO(),this.MI.Jr(jc.pa,this.yO)},ht(n,[{key:"WR",get:function(){return!!this.lO&&this.wO.WR}},{key:"zR",get:function(){return this.wO.zR}}]),n}(ku);function iS(t){var n;return{get url(){return t.Af},get method(){return t.Yf},get headers(){return n||(n=t.If.Ga()),n},get body(){return t.lf},get useCredentials(){return t.Zf},get type(){return oS(t.hr)},get subType(){return aS(t.Jf)},get mediaType(){return fS(t.Qf)},get responseType(){return rS(t.Rf)}}}function eS(t){switch(t.toLowerCase()){case"arraybuffer":return $c.ja;case"json":return $c.$a;case"stream":return $c.Xa;case"text":default:return $c.ei}}function rS(t){return t}function uS(t){switch(t.toUpperCase()){case"POST":return _d.POST;case"PUT":return _d.PUT;case"DELETE":return _d.DELETE;case"HEAD":return _d.HEAD;case"OPTIONS":return _d.OPTIONS;case"GET":default:return _d.GET}}function sS(t){switch(t.toLowerCase()){case"manifest":return kd.Lf;case"segment":return kd.Bf;case"content-protection":return kd.Ff;default:return kd.xf}}function oS(t){return t}function cS(t){switch(t.toLowerCase()){case"initialization-segment":return Td.Mf;case"fairplay-license":return Td.Uf;case"fairplay-certificate":return Td.Vf;case"widevine-license":return Td.qf;case"widevine-certificate":return Td.Hf;case"playready-license":return Td.zf;case"clearkey-license":return Td.Wf;case"aes128-key":return Td.jf;default:return Td.xf}}function aS(t){return t}function hS(t){switch(t.toLowerCase()){case"audio":return Sd.$f;case"video":return Sd.Xf;case"text":return Sd.ei;case"image":return Sd.Gf;case"":default:return Sd.xf}}function fS(t){return t}var dS=function(){function t(t,n){this.bO=new Ps,this._O=[],this.bv=void 0,this.kO=!1,this.gd=void 0,this.TO=0,this.SO=t,this.EO=n}var n=t.prototype;return n.eb=function(){this.kO=!0,this.bO.Ou(null)},n.IO=function(){this.bO.Au(new td(this._O))},n.RO=function(t){if(!this.DO)throw new f("Cannot respond more than once");if(!Ct(t))throw new f("Expected valid response");this.gd=this.CO(t),this.eb()},n.OO=function(){try{var t=this.EO(this._v);t?this.AO(t):this.PO||this.xO||this.eb()}catch(t){this._O.push(t),this.IO()}},n.AO=function(t){if(this.xO)throw new h("Request has been redirected or a response already exists");if(xt(t))this.LO(t);else{if("function"!=typeof t)throw new f("Expected promise or function");var n=new Ps;try{var i=t(function(t){t?n.Au(t):n.Ou(void 0)});xt(i)&&n.Ou(i)}catch(t){n.Au(t)}this.LO(n.Du)}},n.LO=function(t){return vr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,this.TO++,n.next=4,vr.awrap(t);case 4:this.TO--,this.PO||this.xO||(this._O.length?this.IO():this.eb()),n.next=13;break;case 8:n.prev=8,n.t0=n.catch(0),this.TO--,this._O.push(n.t0),this.PO||this.xO||this.IO();case 13:case"end":return n.stop()}},null,this,[[0,8]],j)},ht(t,[{key:"BO",get:function(){return this.bO.Du}},{key:"_v",get:function(){return this.bv||(this.bv=this.FO()),this.bv}},{key:"xO",get:function(){return this.kO}},{key:"DO",get:function(){return!this.kO}},{key:"PO",get:function(){return this.TO>0}},{key:"yd",get:function(){return this.gd}}]),t}(),vS=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).MO=void 0,r.MO=e,r.OO(),r}dt(n,t),n.UO=function(t,n,i){var e=void 0===t.body?i:t.body;return new Ed({Ai:e,Cf:n.Cf,Rf:n.Cf.Rf,If:t.headers,Ef:t.status,Df:t.statusText,Of:t.url,Nf:!0},n)};var i=n.prototype;return i.FO=function(){return i=iS((t=this).Cf),{get closed(){return!t.DO},get request(){return i},get url(){return t.Af},get status(){return t.Ef},get statusText(){return t.Df},get headers(){return n||(n=t.If.Ga()),n},get body(){return t.lf},respondWith:function(n){return t.RO(n)},waitUntil:function(n){return t.AO(n)}};var t,n,i},i.CO=function(t){return n.UO(t,this.SO,this.MO)},ht(n,[{key:"lf",get:function(){return this.MO}},{key:"If",get:function(){return this.SO.If}},{key:"Cf",get:function(){return this.SO.Cf}},{key:"yd",get:function(){return this.gd}},{key:"Ef",get:function(){return this.SO.Ef}},{key:"Df",get:function(){return this.SO.Df}},{key:"Af",get:function(){return this.SO.Of}}]),n}(dS),lS=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).VO=void 0,r.qO=void 0,r.qO=e,r.OO(),r}dt(n,t);var i=n.prototype;return i.FO=function(){return t=this,{get url(){return t.Af},get method(){return t.Yf},get headers(){return n||(n=t.If.Ga()),n},get body(){return t.lf},get closed(){return!t.DO},get useCredentials(){return t.Zf},get type(){return oS(t.hr)},get subType(){return aS(t.Jf)},get mediaType(){return fS(t.Qf)},get responseType(){return rS(t.Rf)},redirect:function(n){return t.HO(n)},respondWith:function(n){return t.RO(n)},waitUntil:function(n){return t.AO(n)}};var t,n},i.CO=function(t){var n=this.SO.lf,i=new Ed({Ai:n,If:{},Cf:this.SO,Of:this.SO.Af,Rf:this.SO.Rf,Ef:200,Df:"OK"});return vS.UO(t,i,n)},i.HO=function(t){if(!this.DO)throw new f("Cannot redirect, already redirected or has a response");var n;n=At(t)?{url:t}:t,this.VO=function(t,n){return new Id({Af:void 0===t.url?n.Af:t.url,Yf:void 0!==t.method?uS(t.method):void 0,If:t.headers,lf:t.body,Zf:t.useCredentials,hr:void 0!==t.type?sS(t.type):void 0,Jf:void 0!==t.subType?cS(t.subType):void 0,Qf:void 0!==t.mediaType?hS(t.mediaType):void 0,Rf:void 0!==t.responseType?eS(t.responseType):void 0},n)}(n,this.SO),this.eb()},ht(n,[{key:"lf",get:function(){return this.SO.lf}},{key:"DO",get:function(){return this.qO&&!this.kO}},{key:"If",get:function(){return this.SO.If}},{key:"Yf",get:function(){return this.SO.Yf}},{key:"zO",get:function(){return this.VO}},{key:"yd",get:function(){return this.gd}},{key:"Rf",get:function(){return this.SO.Rf}},{key:"Kf",get:function(){return this.SO.Kf}},{key:"qr",get:function(){return this.SO.qr}},{key:"hr",get:function(){return this.SO.hr}},{key:"Jf",get:function(){return this.SO.Jf}},{key:"Qf",get:function(){return this.SO.Qf}},{key:"Af",get:function(){return this.SO.Af}},{key:"Zf",get:function(){return this.SO.Zf}},{key:"td",get:function(){return this.SO.td}}]),n}(dS);var wS,gS=function(t){function n(n,i){var e;void 0===i&&(i=!0);var r=new yS(n);return(e=t.call(this,r,i)||this).WO=void 0,e.WO=r,e}dt(n,t);var i=n.prototype;return i.jO=function(t){this.WO.jO(t)},i.$O=function(t){this.WO.$O(t)},i.XO=function(t){this.WO.XO(t)},i.GO=function(t){this.WO.GO(t)},i.YO=function(t){this.WO.YO(t)},n}(Dd),yS=function(){function t(t){this.ed=void 0,this.KO=[],this.JO=[],this.ed=t}var n=t.prototype;return n.Cf=function(t){var n;return vr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,vr.awrap(this.QO(t,t.qr));case 3:n=i.sent,i.next=13;break;case 6:if(i.prev=6,i.t0=i.catch(0),!(i.t0 instanceof Ld)){i.next=12;break}return i.next=11,vr.awrap(this.ZO(i.t0,t.qr));case 11:return i.abrupt("return",i.sent);case 12:throw i.t0;case 13:return i.next=15,vr.awrap(this.tA(n,t.qr));case 15:if(!bd(n=i.sent)){i.next=20;break}return i.abrupt("return",n);case 20:throw new Fd(n);case 21:case"end":return i.stop()}},null,this,[[0,6]],j)},n.nd=function(t){return this.ed.nd(t)},n.QO=function(t,n){var i,e,r,u,s,o;return vr.async(function(c){for(;;)switch(c.prev=c.next){case 0:hu(n),i=t,r=0,u=this.KO.slice();case 3:if(!(r<u.length)){c.next=21;break}if(s=u[r],hu(n),(o=new lS(i,s,!e)).xO){c.next=17;break}return c.prev=8,c.next=11,vr.awrap(o.BO);case 11:c.next=17;break;case 13:return c.prev=13,c.t0=c.catch(8),c.abrupt("continue",18);case 17:o.zO&&!e?i=o.zO:o.yd&&!e&&(e=o.yd);case 18:r++,c.next=3;break;case 21:if(!e){c.next=23;break}return c.abrupt("return",e);case 23:return c.abrupt("return",this.ed.Cf(i));case 24:case"end":return c.stop()}},null,this,[[8,13]],j)},n.ZO=function(t,n){var i,e;return vr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return i=t instanceof Fd?t.yd:new Ed({Ai:null,Cf:t.Cf,Ef:0,Df:""}),r.next=3,vr.awrap(this.tA(i,n));case 3:if((e=r.sent)!==i){r.next=8;break}throw t;case 8:if(!bd(e)){r.next=12;break}return r.abrupt("return",e);case 12:throw new Fd(e);case 13:case"end":return r.stop()}},null,this,null,j)},n.tA=function(t,n){var i,e,r,u,s,o;return vr.async(function(c){for(;;)switch(c.prev=c.next){case 0:i=t,e=0,r=this.JO.slice();case 2:if(!(e<r.length)){c.next=23;break}return u=r[e],hu(n),c.next=7,vr.awrap(j.resolve(i.Tu().Ai(n)));case 7:if(s=c.sent,(o=new vS(i,u,s)).xO){c.next=19;break}return c.prev=10,c.next=13,vr.awrap(o.BO);case 13:c.next=19;break;case 15:return c.prev=15,c.t0=c.catch(10),c.abrupt("continue",20);case 19:i=o.yd||i;case 20:e++,c.next=2;break;case 23:return c.abrupt("return",i);case 24:case"end":return c.stop()}},null,this,[[10,15]],j)},n.jO=function(t){this.KO.unshift(t)},n.$O=function(t){this.KO.push(t)},n.XO=function(t){iu(this.KO,t)},n.GO=function(t){this.JO.unshift(t)},n.YO=function(t){iu(this.JO,t)},n.et=function(){this.ed.et(),uu(this.KO),uu(this.JO)},t}(),mS=function(t){function n(n,i,e){var r;return(r=t.call(this,i)||this).bv=void 0,r.nA=function(t){r.$r(t)},r.iA=function(t){r.$r(t)},r.eA=n,r.nT=i,r.tD=e,r.eA.Xr(jc.Ea,r.nA),r.eA.Xr(jc.Sa,r.iA),r}dt(n,t);var i=n.prototype;return i.rA=function(t){this.tD.rA(t)},i.jO=function(t){this.nT.jO(t)},i.XO=function(t){this.nT.XO(t)},i.GO=function(t){this.nT.GO(t)},i.YO=function(t){this.nT.YO(t)},i.et=function(){this.Kr(),this.eA.Jr(jc.Ea,this.nA),this.eA.Jr(jc.Sa,this.iA)},ht(n,[{key:"_v",get:function(){var t;return this.bv||(this.bv=(t=this,{get online(){return t.lg},get estimator(){return n=t.uA,{get bandwidth(){return n.vE},get roundTripTime(){return n.lE}};var n},setEstimator:function(n){t.rA(function(t){if(t)return{get vE(){return Bl(t.bandwidth)},get lE(){return Bl(t.roundTripTime)},dE:function(n){return function(t){if(t)return{sA:function(n){t.markRequestStart(n)},oA:function(n){t.markResponseStart(n)},cA:function(n,i){t.markResponseData(n,i)},aA:function(n){t.markResponseEnd(n)}}}(t.createMeasurer(iS(n)))}}}(n))},addRequestInterceptor:function(n){t.jO(n)},removeRequestInterceptor:function(n){t.XO(n)},addResponseInterceptor:function(n){t.GO(n)},removeResponseInterceptor:function(n){t.YO(n)},addEventListener:function(n,i){t.Xr(n,i)},removeEventListener:function(n,i){t.Jr(n,i)}})),this.bv}},{key:"lg",get:function(){return this.eA.lg}},{key:"uA",get:function(){return this.tD.uA}}]),n}(ku);!function(t){t.PERFORMANCE="performance",t.QUALITY="quality",t.BANDWIDTH="bandwidth"}(wS||(wS={}));var pS=30,bS={type:wS.BANDWIDTH},_S=20,kS=60;function TS(t){var n,i,e,r=Cl(bS);return At(t)?r.type=SS(t):Ct(t)&&function(t){switch(t){case wS.PERFORMANCE:case wS.QUALITY:case wS.BANDWIDTH:return!0;default:return!1}}(t.type)&&(r.type=SS(t.type)),Ct(t)&&Ct(t.metadata)&&(r.metadata=(n=t.metadata,i={},e=Ll(n.bitrate),g(e)||(i.bitrate=e),i)),r}function SS(t){switch(t){case"bandwidth":return wS.BANDWIDTH;case"performance":return wS.PERFORMANCE;case"quality":return wS.QUALITY}}var ES=function(t){function n(n){var i;return(i=t.call(this,"fA")||this).hA=n,i}return dt(n,t),n}(Su),IS=function(t){function n(n){var i;return(i=t.call(this,"vA")||this).dA=n,i}return dt(n,t),n}(Su),RS=function(t){function n(n){var i;return(i=t.call(this,"wA")||this).lA=n,i}return dt(n,t),n}(Su),DS=function(t){function n(){for(var n,i,e=arguments.length,r=new Array(e),u=0;u<e;u++)r[u]=arguments[u];return(n=t.call.apply(t,[this].concat(r))||this).bv=(i=Nn(n),{get strategy(){return{metadata:(t=i.dA).metadata,type:(n=t.type,n)};var t,n},set strategy(t){i.dA=TS(t)},get targetBuffer(){return i.hA},set targetBuffer(t){var n=Ll(t);g(n)||(i.hA=n>kS?kS:n)},get bufferLookbackWindow(){return i.lA},set bufferLookbackWindow(t){var n=Ll(t);g(n)||(i.lA=n<=0?pS:n)}}),n.gA=bS,n.yA=_S,n.mA=pS,n.pA=void 0,n.bA=void 0,n}dt(n,t);var i=n.prototype;return i._A=function(t){this.bA=t},i.rA=function(t){this.pA=t},ht(n,[{key:"kA",get:function(){switch(this.gA.type){case wS.PERFORMANCE:return 0;case wS.QUALITY:return 1/0;case wS.BANDWIDTH:return this.gA.metadata&&void 0!==this.gA.metadata.bitrate?this.gA.metadata.bitrate:8*uw.Vl();default:return 8*uw.Vl()}}},{key:"_v",get:function(){return this.bv}},{key:"dA",get:function(){return this.gA},set:function(t){this.gA=t,this.$r(new IS(t))}},{key:"hA",get:function(){return this.yA},set:function(t){this.yA=t,this.$r(new ES(t))}},{key:"lA",get:function(){return this.mA},set:function(t){this.mA=t,this.$r(new RS(t))}},{key:"uA",get:function(){var t;return null!=(t=this.pA)?t:this.bA.TI}}]),n}(ku),NS=function(t){function n(){return t.call(this,"Lv")||this}return dt(n,t),n.prototype.kv=function(){return new CS},n}(wl),CS=function(t){function n(){return t.call(this,"change")||this}return dt(n,t),n}(Su),OS=function(t){function n(n,i){var e;return(e=t.call(this,i)||this).TA=void 0,e.SA=function(t){var n;n=t,Boolean(n&&n._v)&&gu(function(){e.$r(t._v)})},e.TA=n,e.TA.Yr(e.SA),e}return dt(n,t),n.prototype.et=function(){this.Kr(),this.TA.tu(this.SA)},n}(nw),AS=function(t){function n(){return t.apply(this,arguments)||this}return dt(n,t),n}(OS);var PS=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).qg=0,n.Hg=1/0,n.bv=void 0,n}dt(n,t);var i=n.prototype;return i.Kv=function(){0===this.qg&&this.Hg===1/0||(this.qg=0,this.Hg=1/0,this.$r(new NS))},i.EA=function(){return new B_([this.Mg,this.Ug],[!0,!0])},ht(n,[{key:"Mg",get:function(){return this.qg},set:function(t){if(this.Ug<=t)throw new h("Start time of a clip should be smaller than the end time.");this.qg!==t&&(this.qg=t,this.$r(new NS))}},{key:"Ug",get:function(){return this.Hg},set:function(t){if(t<=this.Mg)throw new h("End time of a clip should be larger than the start time.");this.Hg!==t&&(this.Hg=t,this.$r(new NS))}},{key:"_v",get:function(){var t,n,i;return this.bv||(this.bv=(i={get startTime(){return t.Mg},set startTime(n){t.Mg=n},get endTime(){return t.Ug},set endTime(n){t.Ug=n},addEventListener:function(t,i){n.Xr(t,i)},removeEventListener:function(t,i){n.Jr(t,i)}},n=new OS(t=this,i),i)),this.bv}}]),n}(nw),xS=function(t){function n(n){var i;return(i=t.call(this)||this).IA=function(t){i.RA(t)||i.$r(t)},i.DA=n,i.DA.Yr(i.IA),i}dt(n,t);var i=n.prototype;return i.NA=function(){return this.DA.Bw},i.Qw=function(){return this.DA.Qw()},i.CA=function(){return this.DA.rg},i.OA=function(){return this.DA.ig},i.AA=function(){return this.DA.ug},i.PA=function(t){this.DA.ug=t},i.xA=function(){return this.DA.ow},i.LA=function(t){this.DA.ow=t},i.BA=function(){return this.DA.cw},i.FA=function(){return this.DA.sg},i.MA=function(){return this.DA.aw},i.UA=function(){return this.DA.ou},i.VA=function(){return this.DA.hw},i.qA=function(){return this.DA.og},i.HA=function(){return this.DA.fw},i.zA=function(t){this.DA.fw=t},i.WA=function(){return this.DA.lg},i.jA=function(){return this.DA.dw},i.$A=function(){return this.DA.vw},i.XA=function(t){this.DA.vw=t},i.GA=function(){return this.DA.wg},i.YA=function(){return this.DA.gg},i.KA=function(t){this.DA.gg=t},i.JA=function(){return this.DA.El},i.QA=function(){return this.DA.yg},i.ZA=function(){return this.DA.lw},i.qw=function(){return this.DA.qw()},i.Hw=function(t,n){return vr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return hu(n),i.next=3,vr.awrap(this.DA.Hw(t,n));case 3:case"end":return i.stop()}},null,this,null,j)},i.tP=function(){return this.DA.Mw},i.nP=function(){return this.DA.ww},i.iP=function(){return this.DA.Fw},i.eP=function(){return this.DA.gw},i.rP=function(){return this.DA.yw},i.uP=function(t){this.DA.yw=t},i.Jw=function(){return this.DA.Jw()},i.Kw=function(){return this.DA.Kw()},i.$w=function(t){this.DA.$w(t)},i.Xw=function(){this.DA.Xw()},i.Yw=function(){this.DA.Yw()},i.st=function(){this.DA.st()},i.K=function(){this.DA.K()},i.Y=function(){this.DA.Y()},i.Gw=function(){this.DA.Gw()},i.Vw=function(){return this.DA.Vw()},i.zw=function(){return this.DA.zw()},i.Ww=function(){this.DA.Ww()},i.jw=function(){this.DA.jw()},i.Kv=function(){return this.DA.Kv()},i.et=function(){return this.DA.et()},i.eg=function(){this.DA.eg()},i.Zw=function(t){return this.DA.Zw(t)},i.RA=function(t){return!1},ht(n,[{key:"Bw",get:function(){return this.NA()}},{key:"rg",get:function(){return this.CA()}},{key:"ug",get:function(){return this.AA()},set:function(t){this.PA(t)}},{key:"ig",get:function(){return this.OA()}},{key:"ow",get:function(){return this.xA()},set:function(t){this.LA(t)}},{key:"cw",get:function(){return this.BA()}},{key:"sg",get:function(){return this.FA()}},{key:"aw",get:function(){return this.MA()}},{key:"ou",get:function(){return this.UA()}},{key:"hw",get:function(){return this.VA()}},{key:"Uw",get:function(){return this.DA.Uw}},{key:"og",get:function(){return this.qA()}},{key:"Sw",get:function(){return this.DA.Sw}},{key:"fw",get:function(){return this.HA()},set:function(t){this.zA(t)}},{key:"lg",get:function(){return this.WA()}},{key:"dw",get:function(){return this.jA()}},{key:"vw",get:function(){return this.$A()},set:function(t){this.XA(t)}},{key:"wg",get:function(){return this.GA()}},{key:"gg",get:function(){return this.YA()},set:function(t){this.KA(t)}},{key:"El",get:function(){return this.JA()}},{key:"yg",get:function(){return this.QA()}},{key:"lw",get:function(){return this.ZA()}},{key:"Mw",get:function(){return this.tP()}},{key:"ww",get:function(){return this.nP()}},{key:"Fw",get:function(){return this.iP()}},{key:"gw",get:function(){return this.eP()}},{key:"yw",get:function(){return this.rP()},set:function(t){this.uP(t)}},{key:"mg",get:function(){return this.DA.mg},set:function(t){this.DA.mg=t}}]),n}(iw),LS=function(t){function n(i,e){var r;return(r=t.call(this,i)||this).sP=void 0,r.oP=!1,r.cP=void 0,r.aP=!1,r.hP=function(){r.fP(),r.dP()},r.qE=function(){r.vP(),r.dP(),r.lP&&r.ow>=r.sP.Ug-n.wP&&!r.aw&&(r.cP=zT(r.qE))},r.gP=function(){r.aP=!0},r.yP=function(){r.aP&&(r.aP=!1,r.dP())},r.sP=e,r.sP.Xr("Lv",r.hP),r.DA.Xr("timeupdate",r.qE),r}dt(n,t);var i=n.prototype;return i.LA=function(n){var i=this.sP.EA().dR(n);t.prototype.LA.call(this,i),this.dP()},i.MA=function(){return t.prototype.MA.call(this)||this.oP},i.QA=function(){return B_.FR(t.prototype.QA.call(this)).wR(this.sP.EA()).pI()},i.Y=function(){this.MA()?this.LA(this.mP.start(0)):this.fP(),t.prototype.Y.call(this),this.dP()},i.Hw=function(n,i){return vr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return hu(i),this.oP=!1,this.sP.Kv(),e.next=5,vr.awrap(t.prototype.Hw.call(this,n,i));case 5:case"end":return e.stop()}},null,this,null,j)},i.et=function(){return this.sP.Jr("Lv",this.hP),this.DA.Jr("timeupdate",this.qE),this.vP(),t.prototype.et.call(this)},i.RA=function(n){switch(n.type){case"seeking":return this.$r(n),this.gP(),!0;case"seeked":case"emptied":return this.$r(n),this.yP(),!0;case"ended":if(this.lP)return!0}return t.prototype.RA.call(this,n)},i.vP=function(){this.cP&&(WT(this.cP),this.cP=void 0)},i.dP=function(){var t=this.ow,i=this.lP&&t>=this.sP.Ug-n.bm;this.oP&&!i?(this.oP=!1,this.dw&&this.Y()):this.oP||!i||this.lw||this.aP||(this.oP=!0,this.$r(new Fw(t)),this.K())},i.fP=function(){if(this.cw!==1/0){var t=this.mP,i=B_.FR(t).dR(this.ow);Tn(this.ow,i,n.bm)||this.LA(i)}},ht(n,[{key:"mP",get:function(){return this.QA().length?this.QA():this.sP.EA().pI()}},{key:"lP",get:function(){return this.sP.Ug<this.cw}}]),n}(xS);LS.wP=1,LS.bm=.001;var BS=function(){function t(){this.pP=void 0,this.pP=!1}return ht(t,[{key:"bP",get:function(){return this.pP},set:function(t){this.pP=t}}]),t}(),FS=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).pP=void 0,e._P=!1,e.kP=!1,e.pP=i,e}dt(n,t);var i=n.prototype;return i.MA=function(){return!this.pP.bP&&t.prototype.MA.call(this)},i.K=function(){this.kP=!0,t.prototype.K.call(this)},i.Y=function(){this.kP=!1,t.prototype.Y.call(this)},i.RA=function(n){if(this.pP.bP)switch(n.type){case"ended":return this.ow=0,this.kP||(this.lw?this._P=!0:this.Y()),!0;case"seeked":this._P&&(this._P=!1,this.Y());break;case"pause":if(this._P||t.prototype.MA.call(this))return!0}return t.prototype.RA.call(this,n)},n}(xS);var MS=function(){function t(t){var n;this.bv=(n=this,{get currentBandwidthEstimate(){return n.fg},get corruptedVideoFrames(){return n.ag},get droppedVideoFrames(){return n.cg},get totalBytesLoaded(){return n.dg},get bufferedSegments(){return n.vg}}),this.$I=t}return ht(t,[{key:"_v",get:function(){return this.bv}},{key:"ag",get:function(){return this.$I.TP.Sw.ag}},{key:"fg",get:function(){return this.$I.TP.Sw.fg}},{key:"cg",get:function(){return this.$I.TP.Sw.cg}},{key:"SP",get:function(){throw new h("Not implemented")}},{key:"EP",get:function(){throw new h("Not implemented")}},{key:"dg",get:function(){return this.$I.TP.Sw.dg}},{key:"hg",get:function(){return this.$I.TP.Sw.hg}},{key:"vg",get:function(){return this.$I.TP.Sw.vg}}]),t}(),US=function(t){function n(){return t.call(this,"IP")||this}return dt(n,t),n.prototype.kv=function(){return new VS},n}(wl),VS=function(t){function n(){return t.call(this,"castingchange")||this}return dt(n,t),n}(Su);var qS=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).RP=[],n.bv=void 0,n.DP=function(){return n.$r(new US)},n}dt(n,t);var i=n.prototype;return i.NP=function(t){this.RP.push(t),t.Xr("statechange",this.DP)},i.et=function(){var t=this;this.RP.forEach(function(n){n.Jr("statechange",t.DP)}),uu(this.RP)},ht(n,[{key:"CP",get:function(){return this.RP.some(function(t){return t.CP})}},{key:"_v",get:function(){var t,n,i;return this.bv||(this.bv=(i={get casting(){return t.CP},addEventListener:function(t,i){n.Xr(t,i)},removeEventListener:function(t,i){n.Jr(t,i)}},n=new AS(t=this,i),i)),this.bv}}]),n}(iw),HS=function(){function t(){}return t.OP=function(t,n){var i,e;return vr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,i=new Id({Af:t,Rf:$c.ei,Yf:_d.GET}),r.next=4,vr.awrap(n.Cf(i));case 4:return e=r.sent,r.next=7,vr.awrap(e.Ai());case 7:return r.abrupt("return",r.sent);case 10:return r.prev=10,r.t0=r.catch(0),au(r.t0),r.abrupt("return",void 0);case 14:case"end":return r.stop()}},null,null,[[0,10]],j)},t.AP=function(t){try{var i=nT(t);return new oT(i.key,i.domains_page,i.domains_source,i.expiration_date,i.customer_id,i.generation_date,i.sdks,i.send_impression)}catch(t){throw new Ec(n.ErrorCode.LICENSE_ERROR,"Invalid license. No valid license was configured.")}},t.PP=function(t){void 0===t&&(t=_T.Gm),st.Se("The baked-in license is used. Please update the configuration with your license.");var n=t.EN(".$hsF|b9_Ess*r[Y.4(HiEagT@Y@Cen3Cec3Cl\"\""),i=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.EN(n)}),e=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.EN(n)}),r=Number(new Date(Number(t.EN("COD|aHpHa:p3Ceo3Co\"\""))));return new oT(n,i,e,r)},t.convertLicenseToDummyLicense=function(t){return new oT(t.PN,t.xN,t.LN,864e13,t.FN,Date.now(),t.UN,t.VN)},t}(),zS=function(){function t(){}return t.oa=function(){return t.Qn||(t.Qn=WS._c()?new WS:new Vc),t.Qn},t.mu=function(n){t.oa().mu(n)},t.ua=function(){t.oa().ua()},t.wu=function(n){return t.oa().wu(n)},t.sa=function(n,i){t.oa().sa(n,i)},t.xP=function(n){var i=t.wu(n);if(void 0!==i)return w(i)},t.LP=function(n){return"true"===t.wu(n)},t}();zS.Qn=void 0;var WS=function(n){function i(){return n.apply(this,arguments)||this}dt(i,n),i._c=function(){try{return t.localStorage.setItem("foobar","foobar"),t.localStorage.removeItem("foobar"),!0}catch(t){}return!1};var e=i.prototype;return e.mu=function(n){t.localStorage.removeItem(n)},e.ua=function(){t.localStorage.clear()},e.wu=function(n){return t.localStorage[n]},e.sa=function(n,i){t.localStorage[n]=i},i}(zS),jS=v.floor(14399999*v.random()-72e5),$S=function(){function t(t,n,i,e,r,u){this.zN=void 0,this.nT=t,this.BP=n,this.FP=i,this.SC=e,this.MP=r,this.Ts=u,this.zN=lT(u)}var i=t.prototype;return i.UP=function(){var t;return vr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,vr.awrap(this.VP(this.MP.license,this.MP.licenseUrl));case 2:t=n.sent,this.SC.qP(t);case 4:case"end":return n.stop()}},null,this,null,j)},i.VP=function(t,i){var e,r,u,s,o,c,a,h,f;return vr.async(function(d){for(;;)switch(d.prev=d.next){case 0:if(e=i,t?r=HS.AP(t):e||(r=HS.PP()),e||(e="https://validate.theoplayer.com/1/"+r.PN),u=this.HP(),!r){d.next=14;break}if((s=this.BP.YN(r))!==eT.CN){d.next=14;break}if(!this.zP(r.BN)||!this.zP(null==u?void 0:u.BN)){d.next=13;break}return d.next=10,vr.awrap(this.WP(e));case 10:if(!(o=d.sent)){d.next=13;break}return d.abrupt("return",o);case 13:return d.abrupt("return",r);case 14:if(!u){d.next=25;break}if(this.BP.YN(u)!==eT.CN){d.next=24;break}if(!this.zP(null==u?void 0:u.BN)){d.next=23;break}return d.next=20,vr.awrap(this.WP(e));case 20:if(!(c=d.sent)){d.next=23;break}return d.abrupt("return",c);case 23:return d.abrupt("return",u);case 24:zS.mu("THEOplayer.license");case 25:return d.next=27,vr.awrap(HS.OP(e,this.nT));case 27:if(!(a=d.sent)){d.next=37;break}if(h=HS.AP(a),this.BP.YN(h)!==eT.CN){d.next=34;break}return zS.sa("THEOplayer.license",a),d.abrupt("return",h);case 34:zS.mu("THEOplayer.license"),d.next=39;break;case 37:if(this.zN||!r||s!==eT.ON||e!=="https://validate.theoplayer.com/1/"+r.PN){d.next=39;break}return d.abrupt("return",HS.convertLicenseToDummyLicense(r));case 39:if(!r&&!h){d.next=43;break}this.jP(null!=(f=r)?f:h,new Ec(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!")),d.next=44;break;case 43:throw new Ec(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!");case 44:case"end":return d.stop()}},null,this,null,j)},i.$N=function(t){var n,i,e,r,u,s,o;return vr.async(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,vr.awrap(this.SC.CC());case 2:if(n=c.sent,!this.zP(n.BN)){c.next=9;break}return e=null!=(i=this.MP.licenseUrl)?i:"https://validate.theoplayer.com/1/"+n.PN,c.next=7,vr.awrap(this.WP(e));case 7:(r=c.sent)&&(this.SC.qP(r),n=r);case 9:if(c.prev=9,(u=this.BP.YN(n))!==eT.AN){c.next=16;break}throw s=sT.qN,new Ec(aT(s),gT.GN(s));case 16:if(u!==eT.ON){c.next=19;break}throw o=sT.ON,new Ec(aT(o),gT.GN(o));case 19:this.BP.$N(t,n),c.next=25;break;case 22:c.prev=22,c.t0=c.catch(9),this.$P(c.t0);case 25:case"end":return c.stop()}},null,this,[[9,22]],j)},i.WP=function(t){var n,i;return vr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,vr.awrap(HS.OP(t,this.nT));case 3:if(void 0!==(n=e.sent)){e.next=6;break}return e.abrupt("return",void 0);case 6:if(i=HS.AP(n),this.BP.YN(i)!==eT.CN){e.next=11;break}return zS.sa("THEOplayer.license",n),e.abrupt("return",i);case 11:return e.abrupt("return",void 0);case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",void 0);case 17:case"end":return e.stop()}},null,this,[[0,14]],j)},i.zP=function(t){return!t||Number(new Date)+2592e5+jS>=t},i.HP=function(){var t=zS.wu("THEOplayer.license");if(t)return HS.AP(t)},i.jP=function(t,n){this.SC.qP(t),this.$P(n)},i.$P=function(t){throw $t(t.message),this.FP.xC(t.message),t},t}(),XS=function(){function t(){this.XP=void 0,this.GP=new Ps}var n=t.prototype;return n.qP=function(t){this.XP=t,this.GP.Ou()},n.CC=function(){return vr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.XP){t.next=2;break}return t.abrupt("return",j.resolve(this.XP));case 2:return t.next=4,vr.awrap(this.GP.Du);case 4:return t.abrupt("return",this.XP);case 5:case"end":return t.stop()}},null,this,null,j)},ht(t,[{key:"YP",get:function(){return this.XP}}]),t}(),GS=function(t){function n(){return t.call(this,"Lv")||this}return dt(n,t),n.prototype.kv=function(){return new YS},n}(wl),YS=function(t){function n(){return t.call(this,"change")||this}return dt(n,t),n}(Su);function KS(t){var n,i={get fontFamily(){return t.KP},set fontFamily(n){t.KP=n},get fontColor(){return t.JP},set fontColor(n){t.JP=n},get fontSize(){return t.QP},set fontSize(n){t.QP=n},get backgroundColor(){return t.ZP},set backgroundColor(n){t.ZP=n},get windowColor(){return t.tx},set windowColor(n){t.tx=n},get edgeStyle(){return t.nx},set edgeStyle(n){t.nx=n},addEventListener:function(t,i){var e=Ul(t,Fl);n.Xr(e,i)},removeEventListener:function(t,i){var e=Ul(t,Fl);n.Jr(e,i)}};return n=new Tu(i),t.Xr(["Lv"],function(t){return n.$r(t._v)}),i}var JS,QS,ZS={KP:void 0,JP:void 0,QP:void 0,ZP:void 0,tx:void 0,nx:void 0,ix:void 0},tE="THEOplayer.textTrackStyle.",nE=function(t){function n(){var i;return(i=t.call(this)||this).ex=void 0,i.bv=void 0,i.ex=n.ux(),i}return dt(n,t),n.prototype.ec=function(t){this.ex=lr({},this.ex,t),n.sx(this.ex),this.$r(new GS)},n.ux=function(){var t=lr({},ZS);return t.KP=zS.wu(tE+"fontFamily")||t.KP,t.JP=zS.wu(tE+"fontColor")||t.JP,t.QP=zS.wu(tE+"fontSize")||t.QP,t.ZP=zS.wu(tE+"backgroundColor")||t.ZP,t.tx=zS.wu(tE+"windowColor")||t.tx,t.nx=zS.wu(tE+"edgeStyle")||t.nx,t},n.sx=function(t){zS.sa(tE+"fontFamily",t.KP||""),zS.sa(tE+"fontColor",t.JP||""),zS.sa(tE+"fontSize",t.QP||""),zS.sa(tE+"backgroundColor",t.ZP||""),zS.sa(tE+"windowColor",t.tx||""),zS.sa(tE+"edgeStyle",t.nx||"")},ht(n,[{key:"ox",get:function(){return this.ex}},{key:"KP",get:function(){return this.ex.KP},set:function(t){this.ec({KP:t})}},{key:"JP",get:function(){return this.ex.JP},set:function(t){this.ec({JP:t})}},{key:"QP",get:function(){return this.ex.QP},set:function(t){this.ec({QP:t})}},{key:"ZP",get:function(){return this.ex.ZP},set:function(t){this.ec({ZP:t})}},{key:"tx",get:function(){return this.ex.tx},set:function(t){this.ec({tx:t})}},{key:"nx",get:function(){return this.ex.nx},set:function(t){this.ec({nx:t})}},{key:"ix",get:function(){return this.ex.ix}},{key:"_v",get:function(){return this.bv||(this.bv=KS(this)),this.bv}}]),n}(ku),iE=function(t){function n(n,i){var e;(e=t.call(this)||this).ax=void 0,e.fc=void 0,e.TP=void 0,e.hx=void 0,e.wv=void 0,e.sP=void 0,e.pP=void 0,e.vx=void 0,e.lx=void 0,e.tD=void 0,e.BP=void 0,e.wx=void 0,e.gx=void 0,e.ZR=void 0,e.yx=!1,e.Nw=!1,e.Sg=void 0,e.mx=!1,e.bx=void 0,e._x=void 0,e.kx=void 0,e.Tx=void 0,e.Sx=void 0,e.Ex=function(t){if(!e.mx){e.mx=!0;var n=e.ax,i=vg(t);e.TP.sl=new H_(e.sg,i,t),yu(n.et())}},e.Ix=function(t){e.$r(t._v)},e.Rx=function(t){t.type!==jc.Ea&&t.type!==jc.Sa&&e.$r(t)};var r=Ll(i.uid);g(r)?e.Sg=_g++:e.Sg=r,e.fc=i;var u=st.wv,s=new XS;e.hx=new AT("3.3.0",u,s),e.wv=new gS(u,i.allowMixedContent),e.tD=new DS,e.BP=new cT(i.isEmbeddable,"3.3.0",iT()),e.Sx=new $S(u,e.BP,e.hx,s,i,iT()),e.Sx.UP().catch(e.Ex),e.wx=new QT(n),e.wx.Xr("HC",e.Ix),e.ZR=new nE,e.sP=new PS,e.pP=new BS;var o=new q_(n,i,e.wv,e.tD,e.wx,e.ZR);e.tD._A(o);var c=o;c=new LS(c,e.Dx),c=new FS(c,e.bP),e.ax=c,e.TP=new ag(e.ax),e.TP.Yr(e.Rx),e.Tx=new MS(Nn(e)),e._x=new mS(e.TP,e.wv,e.tD),e.vx=new LT(Nn(e)),e.gx=new nS(e.TP,i.allowNativeFullscreen),e.lx=new ok(e.gx),e.wx.lc();var a=new K(e.wx,e.ZR,1,[lg.Xf]);return e.bx=new J(a),e.kx=new qS,e}dt(n,t);var i=n.prototype;return i.zA=function(t){this.TP.fw=t,t||this.dw||this.st()},i.uP=function(t){this.TP.yw=t},i.Nx=function(){Yw(this,ck,this)},i.Y=function(){this.TP.Y()},i.K=function(){this.TP.K()},i.Hw=function(t,n){var i;return vr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return this.Sx.$N(t).catch(this.Ex),i=eE(t),e.next=5,vr.awrap(this.TP.Hw(i,n));case 5:case"end":return e.stop()}},null,this,null,j)},i.st=function(){this.Nw||(this.TP.st(),this.bx.st(),this.Nw=!0)},i.zR=function(){return this.lx.TD()===ik.FULLSCREEN},i.Gw=function(){this.TP.Gw()},i.Yw=function(){this.TP.Yw()},i.Kw=function(){return this.TP.Kw()},i.Kv=function(){return vr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,vr.awrap(this.TP.Vw());case 2:return t.next=4,vr.awrap(this.TP.Kv());case 4:case"end":return t.stop()}},null,this,null,j)},i.et=function(){return vr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Kr(),this.kx.et(),this.wv.et(),this._x.et(),this.gx.et(),this.lx.et(),this.wx.et(),this.hx.et(),this.bx.et(),t.next=11,vr.awrap(this.TP.et());case 11:case"end":return t.stop()}},null,this,null,j)},ht(n,[{key:"Cx",get:function(){return this.tD}},{key:"xw",get:function(){return this.yx},set:function(t){this.yx=t,this.TP.xw=t}},{key:"Ox",get:function(){return this.bx}},{key:"Bw",get:function(){return this.TP.Bw}},{key:"Ax",get:function(){return this.kx}},{key:"Px",get:function(){return this.wx}},{key:"Uw",get:function(){return this.TP.Uw}},{key:"Sw",get:function(){return this.Tx}},{key:"xx",get:function(){return this._x}},{key:"Mw",get:function(){return this.TP.Mw}},{key:"Lx",get:function(){return this.ZR}},{key:"Fw",get:function(){return this.TP.Fw}},{key:"rg",get:function(){return this.TP.rg}},{key:"Dx",get:function(){return this.sP}},{key:"bP",get:function(){return this.pP}},{key:"ow",get:function(){return this.TP.ow},set:function(t){this.TP.ow=t}},{key:"ug",get:function(){return this.TP.ug},set:function(t){this.TP.ug=t}},{key:"ig",get:function(){return this.TP.ig}},{key:"cw",get:function(){return this.TP.cw}},{key:"sg",get:function(){return this.TP.sg}},{key:"aw",get:function(){return this.TP.aw}},{key:"ou",get:function(){return this.TP.ou}},{key:"hw",get:function(){return this.TP.hw}},{key:"fw",get:function(){return this.TP.fw},set:function(t){var n=Boolean(t);this.zA(n)}},{key:"dw",get:function(){return this.TP.dw}},{key:"vw",get:function(){return this.TP.vw},set:function(t){this.TP.vw=t}},{key:"wg",get:function(){return this.TP.wg}},{key:"gg",get:function(){return this.TP.gg},set:function(t){this.TP.gg=C_(t)}},{key:"El",get:function(){return this.TP.El}},{key:"yg",get:function(){return this.TP.yg}},{key:"lw",get:function(){return this.TP.lw}},{key:"fl",get:function(){return this.Sg}},{key:"ww",get:function(){return this.TP.ww}},{key:"gw",get:function(){return this.TP.gw}},{key:"yw",get:function(){return this.TP.yw},set:function(t){var n=kn(Number(t),0,1)||0;this.uP(n)}}]),n}(iw);function eE(t){t.sources;var n=t.sources.filter(function(t){return void 0===t.integration});return t.sources=n,t}!function(t){t[t.Bx=0]="Bx",t[t.Fx=1]="Fx"}(JS||(JS={})),function(t){t[t.Mx=0]="Mx"}(QS||(QS={}));var rE={};function uE(t,n){var i=t;if(rE[n])for(var e=0,r=rE[n];e<r.length;e++){i=(0,r[e])(i)}return i}var sE=[];function oE(t){sE.push(t)}var cE=t.CustomEvent;var aE=function(){try{var t=new cE("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?function(t,n){return new CustomEvent(t,n)}:function(t,n){var i=e.createEvent("CustomEvent");return i.initCustomEvent(t,(null==n?void 0:n.bubbles)||!1,(null==n?void 0:n.cancelable)||!1,null==n?void 0:n.detail),i},hE=function(){function t(t,n){var i=this;this.$I=void 0,this.Ux=void 0,this.Vx=!1,this.qx=function(t){i.Ux.AC(t.error,i.ow)},this.Hx=function(){i.Ux.NC(i.zx),i.$I.removeEventListener("playing",i.Hx),i.Vx=!1},this.Wx=function(){i.Vx||(i.$I.addEventListener("playing",i.Hx),i.Vx=!0)},this.Ux=n,this.$I=t,this.$I.addEventListener("error",this.qx),this.$I.addEventListener("sourcechange",this.Wx),this.Wx()}return t.prototype.Kv=function(){},ht(t,[{key:"ow",get:function(){var t=this.$I.currentTime;return"number"==typeof t&&isFinite(t)?t:"now"}},{key:"zx",get:function(){return this.$I.src||""}}]),t}();oE(function(t){new hE(t._v,t.hx)});var fE,dE,vE="theoplayer-stored-volume",lE="theoplayer-stored-mutedstate";fE=function(t){return function(t){function n(n,i){var e;if(e=t.call(this,n,i)||this,i.persistVolume){var r=zS.xP(vE);(void 0===r||g(r))&&(r=1);var u=zS.LP(lE)||!1;e.yw=r,e.fw=u}return e}dt(n,t);var i=n.prototype;return i.zA=function(n){this.fc.persistVolume&&zS.sa(lE,""+Boolean(n)),t.prototype.zA.call(this,n)},i.uP=function(n){this.fc.persistVolume&&zS.sa(vE,""+Number(n)),t.prototype.uP.call(this,n)},n}(t)},dE=JS.Fx,(rE[dE]||(rE[dE]=[])).push(fE);var wE=new(function(){function t(){this.jx=[],this.bv=void 0}var n=t.prototype;return n.$v=function(t){return this.jx[t]},n.$x=function(t){this.jx.push(t),this._v.push(t._v)},n.ic=function(t){var n=this.jx.indexOf(t);n<0||(eu(this.jx,n),this.bv&&eu(this.bv,n))},n.Xx=function(t){for(var n=0,i=this.jx;n<i.length;n++){var e=i[n];if(e.fl===t)return e}},ht(t,[{key:"Qv",get:function(){return this.jx.length}},{key:"_v",get:function(){return this.bv||(this.bv=function(t){for(var n=[],i=0;i<t.Qv;i++)n[i]=t.$v(i)._v;return n.getPlayerByUID=function(n){var i=t.Xx(n);return i&&i._v},n}(this)),this.bv}}]),t}()),gE=function(){function t(t){var n=this;this.Gx=[],this.Yx=void 0,this.Kd=new ou,this.Kx=void 0,this.Jx=function(){return 0===n.Gx.length?n.Kx?yE(n.Kx,n.Kd.qr).then(n.Qx,n.Qx):n.Qx():n.Gx.shift()().then(n.Jx)},this.Qx=function(){if(0!==n.Gx.length)return n.Jx();n.Yx=void 0},this.Kx=t}var n=t.prototype;return n.Zx=function(t,n){var i=this;return new j(function(e){var r=new ou;r.Ur(i.Kd.qr),n&&r.Ur(n);var u=function(){r.Ar()};i.Gx.push(function(){var n=yE(t,r.qr);return e(n),n.then(u,u)}),i.Yx||(i.Yx=i.Jx())})},n.Mr=function(){return this.tL(!0)},n.et=function(){return this.Kx=void 0,this.tL(!1)},n.tL=function(t){var n=this.Yx;return this.Kd.Mr(),t&&(this.Kd=new ou),j.resolve(n)},t}();function yE(t,n){return new j(function(i){return i(t(n))})}var mE,pE=function(t){function n(n){var i;return(i=t.call(this,jc.Ua)||this).source=n,i}return dt(n,t),n}(Su),bE=function(t){function n(){var n;return(n=t.call(this)||this).$R=void 0,n.GR=void 0,n.KR=void 0,n.YR=void 0,n.$R=0,n.GR=!0,n.KR=!1,n.YR=1,n}dt(n,t);var i=n.prototype;return i.Y=function(){this.GR&&(this.GR=!1,this.$r(new Nw(this.ow)),this.$r(new $m(this.ow)))},i.K=function(){this.GR||(this.GR=!0,this.$r(new Bw(this.ow,this.ug)),this.$r(new Dw(this.ow)))},i.Kv=function(){this.$R=0,this.KR=!1,this.YR=1,this.K(),this.$r(new Rw(this.$R))},i.et=function(){this.Kr()},i.Yw=function(){},i.Gw=function(){},ht(n,[{key:"ug",get:function(){},set:function(t){}},{key:"ow",get:function(){return this.$R},set:function(t){this.KR&&this.$R===t||(this.$R=t,this.KR=!0,this.$r(new Uw(this.ow)))}},{key:"dw",get:function(){return this.GR}},{key:"vw",get:function(){return this.YR},set:function(t){this.YR!==t&&(this.YR=t,this.$r(new Lw(this.ow,this.vw)))}},{key:"El",get:function(){return fw.Kl}},{key:"lw",get:function(){return this.KR}}]),n}(nw),_E=function(t){function n(){return t.call(this,jc.wa)||this}return dt(n,t),n}(Su),kE={zIndex:"1",display:"inline-block",verticalAlign:"middle",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"contain",cursor:"pointer",margin:"0",padding:"0",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",height:"100%"},TE={visibility:"hidden"},SE={visibility:"visible"},EE=function(){function t(t){var n,i=this;this.qI=void 0,this.$I=void 0,this.nL=!1,this.iL=void 0,this.eL=void 0,this.rL=function(t){var n;i.nL=!1,i.iL=null==(n=t.source)?void 0:n.poster,i.ec()},this._T=function(){i.nL=!0,i.Yw()},this.$I=t,this.KI(),this.qI=((n=Z&&Z.document&&Z.document.createElement("div")).className="theoplayer-poster",je(kE,n),n),t.sg.appendChild(this.qI)}var n=t.prototype;return n.ec=function(){var t=this.$I.dw,n=this.nL;this.Af?this.qI.style.backgroundImage='url("'+this.Af.replace(/[\\"]/g,function(t){return"\\"+t})+'")':this.qI.style.backgroundImage="",t&&this.Af&&!n?this.Gw():this.Yw()},n.Gw=function(){je(TE,this.$I.sg),je(SE,this.qI)},n.Yw=function(){je(TE,this.qI),je(SE,this.$I.sg)},n.KI=function(){this.$I.Xr("sourcechange",this.rL),this.$I.Xr("play",this._T)},n.et=function(){this.$I.Jr("sourcechange",this.rL),this.$I.Jr("play",this._T),We(this.qI)},ht(t,[{key:"Af",get:function(){return void 0!==this.iL?this.iL:void 0!==this.eL?this.eL:void 0}},{key:"uL",set:function(t){this.eL=t,this.ec()}}]),t}();function IE(t){return function(n){function i(i,e){var r;return(r=n.call(this,i)||this).$I=void 0,r.sL=void 0,r.oL=void 0,r.cL=void 0,r.aL=void 0,r.hL=void 0,r.fL=void 0,r.dL=void 0,r.YI=void 0,r.GI=void 0,r.bv=void 0,r.vL=function(t){t.type!==jc.Na&&r.dL.push(t)},r.sL=new t(i,e),r.oL=new bE,r.$I=r.sL,r.cL=new EE(Nn(r)),r.hL=new gE,r.fL=!1,r.dL=[],r.YI=!0,r.GI=void 0,r.KI(),r}dt(i,n);var e=i.prototype;return e.Zx=function(t,n){return vr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",this.hL.Zx(t,n).catch(du));case 1:case"end":return i.stop()}},null,this,null,j)},e.lL=function(t,n){return vr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return hu(n),this.sL.Yr(this.vL),i.next=4,vr.awrap(this.sL.Hw(t,n));case 4:this.sL.tu(this.vL);case 5:case"end":return i.stop()}},null,this,null,j)},e.wL=function(){var t,n,i;return vr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if((t=this.qw())&&!Pk(t)&&this.xw&&this.dw){e.next=3;break}return e.abrupt("return");case 3:return n=t.mutedAutoplay||this.fc.mutedAutoplay,e.next=6,vr.awrap(this.Ox.ut());case 6:i=e.sent,e.t0=i,e.next="all"===e.t0?10:"muted"===e.t0?12:14;break;case 10:return this.gL(),e.abrupt("break",14);case 12:return(this.fw||n===Cw.ALL)&&(this.fw=!0,this.Y()),e.abrupt("break",14);case 14:case"end":return e.stop()}},null,this,null,j)},e.Hw=function(t){var n=this,i=this.GI;i&&!Pk(i)&&this.$r(new Rw(0,0)),this.Kv(),this.GI=t,yu(this.Zx(function(i){return vr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return hu(i),e.prev=1,e.next=4,vr.awrap(n.lL(t,i));case 4:e.next=10;break;case 6:throw e.prev=6,e.t0=e.catch(1),n.GI=void 0,e.t0;case 10:return e.next=12,vr.awrap(n.yL());case 12:case"end":return e.stop()}},null,null,[[1,6]],j)}))},e.yL=function(){return vr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.mL(this.sL),this.$r(new pE(this.qw())),t.next=4,vr.awrap(this.wL());case 4:case"end":return t.stop()}},null,this,null,j)},e.LA=function(t){this.$I.ow=t},e.UA=function(){return this.sL.ou},e.VA=function(){return this.sL.hw},e.Y=function(){this.$I.Y()},e.gL=function(){this.fw||this.st(),this.Y()},e.st=function(){this.sL.st()},e.K=function(){this.$I.K()},e.Vw=function(){this.Hw(void 0)},e.Gw=function(){this.YI=!0,this.$I.Gw()},e.Yw=function(){this.YI=!1,this.$I.Yw()},e.Nx=function(){this.sL.Nx()},e.uP=function(t){this.sL.uP(t)},e.zA=function(t){this.sL.zA(t)},e.pL=function(t){this.aL=t,t.$x(this)},e.zR=function(){return this.sL.zR()},e.qw=function(){return this.GI},e.Kw=function(){return this.sL.Kw()},e.xA=function(){return this.sL.ow},e.BA=function(){return this.sL.cw},e.CA=function(){return this.sL.rg},e.GA=function(){return this.sL.wg},e.QA=function(){return this.sL.yg},e.Kv=function(){var t=this;this.GI=void 0,uu(this.dL),this.oL.Kv(),this.mL(this.oL),this.hL.Mr(),yu(this.hL.Zx(function(n){return vr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return hu(n),i.next=3,vr.awrap(t.sL.Kv());case 3:case"end":return i.stop()}},null,null,null,j)}))},e.et=function(){var t=this;this.$r(new _E),this.cL.et(),this.JI(),this.Kv(),yu(this.Zx(function(){return vr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,vr.awrap(t.sL.et());case 2:t.aL&&(t.aL.ic(t),t.aL=void 0),t.hL.et();case 4:case"end":return n.stop()}},null,null,null,j)})),this.Kr()},e.mL=function(t){if(this.$I!==t){var n=this.$I.dw,i=this.$I.ow,e=this.$I.vw,r=this.$I.lw;this.JI(),t===this.sL?((r||t.ow!==i)&&(t.ow=i),t.vw!==e&&(t.vw=e),n?t.K():t.Y()):this.fc.retainPlaybackRateOnSourceChange?t.vw=e:1!==e&&this.$r(new Lw(this.xA(),1)),this.$I=t,this.KI();for(var u=0,s=this.dL;u<s.length;u++){var o=s[u];this.$r(o)}uu(this.dL),this.YI?t.Gw():t.Yw()}},e.KI=function(){this.$I.Yr(this.jr)},e.JI=function(){this.$I.tu(this.jr)},e.kv=function(){return t=this,e=function(n){i=n;var e=Wk(n,t.fc);t.Hw(e)},r={get abr(){return t.Cx._v},get audioTracks(){return t.Bw._v},get autoplay(){return t.xw},set autoplay(n){t.xw=Boolean(n)},get buffered(){return t.CA()},get canvas(){return t.vx._v},get clip(){return t.Dx._v},get currentProgramDateTime(){var n;return null!=(n=t.ug)?n:null},set currentProgramDateTime(n){t.ug=null!=n?n:void 0},get currentTime(){return t.xA()},set currentTime(n){t.LA(Number(n))},get duration(){return t.BA()},get element(){return t.sg},get ended(){return t.aw},get error(){return t.UA()},get errorObject(){return t.VA()},get loop(){return t.bP.bP},set loop(n){t.bP.bP=Boolean(n)},get metrics(){return t.Sw._v},get muted(){return t.fw},set muted(n){t.zA(n)},get network(){return t.xx._v},get paused(){return t.dw},get playbackRate(){return t.vw},set playbackRate(n){var i=Number(n);if(i<0)throw new RangeError("playbackRate must be a positive number");t.vw=i},get played(){return t.GA()},get poster(){return t.bL},set poster(n){t.bL=Fl(n)},get preload(){return t.gg},set preload(n){t.gg=n},get presentation(){return t.lx._v},get readyState(){return t.El},get seekable(){return t.QA()},get seeking(){return t.lw},get source(){return i},set source(t){e(t)},get src(){return xk(t.qw())},set src(t){e({sources:t})},get textTracks(){return t.Mw._v},get textTrackStyle(){return t.Lx._v},get uid(){return t.fl},get videoHeight(){return t.ww},get videoTracks(){return t.Fw._v},get videoWidth(){return t.gw},get volume(){return t.yw},set volume(n){t.uP(Number(n))},destroy:function(){t.et(),t=null,i=void 0},play:function(){t.gL()},pause:function(){t.K()},stop:function(){i=void 0,t.Vw()},prepareWithUserAction:function(){t.st()},addEventListener:function(t,i){n.Xr(t,i)},removeEventListener:function(t,i){n.Jr(t,i)},setSource:function(t){e(t)}},(n=new uk(r,!0)).aD(t),r;var t,n,i,e,r},ht(i,[{key:"hx",get:function(){return this.sL.hx}},{key:"vx",get:function(){return this.sL.vx}},{key:"fc",get:function(){return this.sL.fc}},{key:"ax",get:function(){return this.sL.ax}},{key:"wv",get:function(){return this.sL.wv}},{key:"vI",get:function(){return this.sL.gx}},{key:"lx",get:function(){return this.sL.lx}},{key:"wx",get:function(){return this.sL.wx}},{key:"TP",get:function(){return this.sL.TP}},{key:"Cx",get:function(){return this.sL.Cx}},{key:"xw",get:function(){return this.sL.xw},set:function(t){this.sL.xw=t,this.wL()}},{key:"Ox",get:function(){return this.sL.Ox}},{key:"Bw",get:function(){return this.sL.Bw}},{key:"Ax",get:function(){return this.sL.Ax}},{key:"Px",get:function(){return this.sL.wx}},{key:"_v",get:function(){return this.bv||(this.bv=this.kv()),this.bv}},{key:"Uw",get:function(){return this.sL.Uw}},{key:"Sw",get:function(){return this.sL.Sw}},{key:"xx",get:function(){return this.sL.xx}},{key:"Mw",get:function(){return this.sL.Mw}},{key:"Lx",get:function(){return this.sL.Lx}},{key:"Fw",get:function(){return this.sL.Fw}},{key:"Dx",get:function(){return this.sL.Dx}},{key:"bP",get:function(){return this.sL.bP}},{key:"ug",get:function(){return this.$I.ug},set:function(t){this.$I.ug=t}},{key:"ig",get:function(){return this.sL.ig}},{key:"sg",get:function(){return this.sL.sg}},{key:"aw",get:function(){return this.sL.aw}},{key:"fw",get:function(){return this.sL.fw},set:function(t){this.sL.fw=t}},{key:"dw",get:function(){return this.$I.dw}},{key:"bL",get:function(){return this.cL.Af||""},set:function(t){this.cL.uL=t}},{key:"vw",get:function(){return this.sL.vw},set:function(t){this.$I.vw=t}},{key:"gg",get:function(){return this.sL.gg},set:function(t){this.sL.gg=C_(t)}},{key:"El",get:function(){return this.$I.El}},{key:"lw",get:function(){return this.$I.lw}},{key:"fl",get:function(){return this.sL.fl}},{key:"ww",get:function(){return this.sL.ww}},{key:"gw",get:function(){return this.sL.gw}},{key:"yw",get:function(){return this.sL.yw},set:function(t){this.sL.yw=t}}]),i}(iw)}gu(function(){t.dispatchEvent&&t.dispatchEvent(aE("theoplayerready"))});var RE={base64:new(function(){function t(){}var n=t.prototype;return n.encode=function(t){return Vu(t)},n.decode=function(t){return Mu(t)},t}())},DE=wE._v,NE=Tp.lS.registerContentProtectionIntegration.bind(Tp.lS),CE=function(){this.fairplayController=void 0,this.cache=void 0,this.dai=void 0},OE=function(){function t(){this.internalDict={},this.uidCounter=0}var n=t.prototype;return n.register=function(t){return this.internalDict[this.uidCounter]=t,this.uidCounter++},n.get=function(t){return this.internalDict[t]},n.remove=function(t){delete this.internalDict[t]},t}(),AE=dr(function(t,n){function i(t,n){var i=[],e=[];return null==n&&(n=function(t,n){return i[0]===n?"[Circular ~]":"[Circular ~."+e.slice(0,i.indexOf(n)).join(".")+"]"}),function(r,u){if(i.length>0){var s=i.indexOf(this);~s?i.splice(s+1):i.push(this),~s?e.splice(s,1/0,r):e.push(r),~i.indexOf(u)&&(u=n.call(this,r,u))}else i.push(u);return null==t?u:t.call(this,r,u)}}(t.exports=function(t,n,e,r){return JSON.stringify(t,i(n,r),e)}).getSerialize=i});function PE(t,n){return void 0!==n&&null!=n&&"function"==typeof n.start&&"function"==typeof n.end&&"number"==typeof n.length?function(t){for(var n=[],i=0;i<t.length;i++)n[i]={start:t.start(i),end:t.end(i)};return n}(n):n}function xE(t){return JSON.stringify(t,AE.getSerialize(PE))}var LE=dr(function(t,n){d.defineProperty(n,"__esModule",{value:!0}),n.CHAR="\t\n\r -\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",n.S=" \t\r\n",n.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u");var i=9,e=10,r=13,u=32;function s(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}n.S_LIST=[u,e,r,i],n.isChar=function(t){return t>=u&&t<=55295||t===e||t===r||t===i||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isS=function(t){return t===u||t===e||t===r||t===i},n.isNameStartChar=s,n.isNameChar=function(t){return s(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),BE=dr(function(t,n){d.defineProperty(n,"__esModule",{value:!0}),n.CHAR="\x01-\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",n.RESTRICTED_CHAR="\x01-\b\v\f\x0e-\x1f\x7f-\x84\x86-\x9f",n.S=" \t\r\n",n.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.RESTRICTED_CHAR_RE=new RegExp("^["+n.RESTRICTED_CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u");var i=9,e=10,r=13,u=32;function s(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}n.S_LIST=[u,e,r,i],n.isChar=function(t){return t>=1&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isRestrictedChar=function(t){return t>=1&&t<=8||11===t||12===t||t>=14&&t<=31||t>=127&&t<=132||t>=134&&t<=159},n.isCharAndNotRestricted=function(t){return 9===t||10===t||13===t||t>31&&t<127||133===t||t>159&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isS=function(t){return t===u||t===e||t===r||t===i},n.isNameStartChar=s,n.isNameChar=function(t){return s(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),FE=dr(function(t,n){function i(t){return t>=65&&t<=90||95===t||t>=97&&t<=122||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}d.defineProperty(n,"__esModule",{value:!0}),n.NC_NAME_START_CHAR="A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NC_NAME_CHAR="-"+n.NC_NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.NC_NAME_START_CHAR_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]$","u"),n.NC_NAME_CHAR_RE=new RegExp("^["+n.NC_NAME_CHAR+"]$","u"),n.NC_NAME_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]["+n.NC_NAME_CHAR+"]*$","u"),n.isNCNameStartChar=i,n.isNCNameChar=function(t){return i(t)||45===t||46===t||t>=48&&t<=57||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),ME=dr(function(t,n){d.defineProperty(n,"__esModule",{value:!0});var i=LE.isS,e=LE.isChar,r=LE.isNameStartChar,u=LE.isNameChar,s=LE.S_LIST,o=LE.NAME_RE,c=BE.isChar,a=FE.isNCNameStartChar,f=FE.isNCNameChar,v=FE.NC_NAME_RE;const w="http://www.w3.org/XML/1998/namespace",g="http://www.w3.org/2000/xmlns/",y={__proto__:null,xml:w,xmlns:g},m={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},p=-1,b=-2,_=0,k=1,T=2,S=3,E=4,I=5,R=6,D=7,N=8,C=9,O=10,A=11,P=12,x=13,L=14,B=15,F=16,M=17,U=18,V=19,q=20,H=21,z=22,W=23,j=24,$=25,X=26,G=27,Y=28,K=29,J=30,Q=31,Z=32,tt=33,nt=34,it=35,et=36,rt=37,ut=38,st=39,ot=40,ct=41,at=42,ht=43,ft=44,dt=9,vt=10,lt=13,wt=32,gt=33,yt=38,mt=45,pt=47,bt=59,_t=60,kt=61,Tt=62,St=63,Et=91,It=93,Rt=133,Dt=8232,Nt=t=>34===t||39===t,Ct=[34,39],Ot=[...Ct,Et,Tt],At=[...Ct,_t,It],Pt=[kt,St,...s],xt=[...s,Tt,yt,_t];function Lt(t,n,i){switch(n){case"xml":i!==w&&t.fail(`xml prefix must be bound to ${w}.`);break;case"xmlns":i!==g&&t.fail(`xmlns prefix must be bound to ${g}.`)}switch(i){case g:t.fail(""===n?`the default namespace may not be set to ${i}.`:`may not assign a prefix (even "xmlns") to the URI ${g}.`);break;case w:switch(n){case"xml":break;case"":t.fail(`the default namespace may not be set to ${i}.`);break;default:t.fail("may not assign the xml namespace to another prefix.")}}}const Bt=t=>v.test(t),Ft=t=>o.test(t),Mt=0,Ut=1,Vt=2;n.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const qt={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};n.SaxesParser=class{constructor(t){this.opt=null!=t?t:{},this.fragmentOpt=!!this.opt.fragment;const n=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=!1!==this.opt.position,this.fileName=this.opt.fileName,n){this.nameStartCheck=a,this.nameCheck=f,this.isName=Bt,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=d.assign({__proto__:null},y);const t=this.opt.additionalNamespaces;null!=t&&(function(t,n){for(const i of d.keys(n))Lt(t,i,n[i])}(this,t),d.assign(this.ns,t))}else this.nameStartCheck=r,this.nameCheck=u,this.isName=Ft,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this.zu}_init(){var t;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=Mt,this.attribList=[];const{fragmentOpt:n}=this;this.state=n?x:_,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=n,this.xmlDeclPossible=!n,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:i}=this.opt;if(void 0===i){if(!0===this.opt.forceXMLVersion)throw new h("forceXMLVersion set but defaultXMLVersion is not set");i="1.0"}this.setXMLVersion(i),this.positionAtNewLine=0,this.doctype=!1,this.zu=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=d.create(m),null===(t=this.readyHandler)||void 0===t||t.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(t,n){this[qt[t]]=n}off(t){this[qt[t]]=void 0}makeError(t){var n;let i=null!==(n=this.fileName)&&void 0!==n?n:"";return this.trackPosition&&(i.length>0&&(i+=":"),i+=`${this.line}:${this.column}`),i.length>0&&(i+=": "),new h(i+t)}fail(t){const n=this.makeError(t),i=this.errorHandler;if(void 0===i)throw n;return i(n),this}write(t){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let n=!1;null===t?(n=!0,t=""):"object"==typeof t&&(t=t.toString()),void 0!==this.carriedFromPrevious&&(t=`${this.carriedFromPrevious}${t}`,this.carriedFromPrevious=void 0);let i=t.length;const e=t.charCodeAt(i-1);!n&&(e===lt||e>=55296&&e<=56319)&&(this.carriedFromPrevious=t[i-1],i--,t=t.slice(0,i));const{stateTable:r}=this;for(this.chunk=t,this.i=0;this.i<i;)r[this.state].call(this);return this.chunkPosition+=i,n?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return p;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>=wt||i===dt)return i;switch(i){case vt:return this.line++,this.column=0,this.positionAtNewLine=this.position,vt;case lt:return t.charCodeAt(n+1)===vt&&(this.i=n+2),this.line++,this.column=0,this.positionAtNewLine=this.position,b;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const e=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,e>1114111&&this.fail("disallowed character."),e}getCode11(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return p;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>31&&i<127||i>159&&i!==Dt||i===dt)return i;switch(i){case vt:return this.line++,this.column=0,this.positionAtNewLine=this.position,vt;case lt:{const i=t.charCodeAt(n+1);i!==vt&&i!==Rt||(this.i=n+2)}case Rt:case Dt:return this.line++,this.column=0,this.positionAtNewLine=this.position,b;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const e=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,e>1114111&&this.fail("disallowed character."),e}getCodeNorm(){const t=this.getCode();return t===b?vt:t}unget(){this.i=this.prevI,this.column--}captureTo(t){let{i:n}=this;const{chunk:i}=this;for(;;){const e=this.getCode(),r=e===b,u=r?vt:e;if(u===p||t.includes(u))return this.text+=i.slice(n,this.prevI),u;r&&(this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i)}}captureToChar(t){let{i:n}=this;const{chunk:i}=this;for(;;){let e=this.getCode();switch(e){case b:this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i,e=vt;break;case p:return this.text+=i.slice(n),!1}if(e===t)return this.text+=i.slice(n,this.prevI),!0}}captureNameChars(){const{chunk:t,i:n}=this;for(;;){const i=this.getCode();if(i===p)return this.name+=t.slice(n),p;if(!u(i))return this.name+=t.slice(n,this.prevI),i===b?vt:i}}skipSpaces(){for(;;){const t=this.getCodeNorm();if(t===p||!i(t))return t}}setXMLVersion(t){this.currentXMLVersion=t,"1.0"===t?(this.isChar=e,this.getCode=this.getCode10):(this.isChar=c,this.getCode=this.getCode11)}sBegin(){65279===this.chunk.charCodeAt(0)&&(this.i++,this.column++),this.state=k}sBeginWhitespace(){const t=this.i,n=this.skipSpaces();switch(this.prevI!==t&&(this.xmlDeclPossible=!1),n){case _t:if(this.state=B,0!==this.text.length)throw new h("no-empty text at start");break;case p:break;default:this.unget(),this.state=x,this.xmlDeclPossible=!1}}sDoctype(){var t;const n=this.captureTo(Ot);switch(n){case Tt:null===(t=this.doctypeHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=x,this.doctype=!0;break;case p:break;default:this.text+=String.fromCodePoint(n),n===Et?this.state=E:Nt(n)&&(this.state=S,this.q=n)}}sDoctypeQuote(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.q=null,this.state=T)}sDTD(){const t=this.captureTo(At);t!==p&&(this.text+=String.fromCodePoint(t),t===It?this.state=T:t===_t?this.state=R:Nt(t)&&(this.state=I,this.q=t))}sDTDQuoted(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.state=E,this.q=null)}sDTDOpenWaka(){const t=this.getCodeNorm();switch(this.text+=String.fromCodePoint(t),t){case gt:this.state=D,this.openWakaBang="";break;case St:this.state=A;break;default:this.state=E}}sDTDOpenWakaBang(){const t=String.fromCodePoint(this.getCodeNorm()),n=this.openWakaBang+=t;this.text+=t,"-"!==n&&(this.state="--"===n?N:E,this.openWakaBang="")}sDTDComment(){this.captureToChar(mt)&&(this.text+="-",this.state=C)}sDTDCommentEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),this.state=t===mt?O:N}sDTDCommentEnded(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===Tt?this.state=E:(this.fail("malformed comment."),this.state=N)}sDTDPI(){this.captureToChar(St)&&(this.text+="?",this.state=P)}sDTDPIEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===Tt&&(this.state=E)}sText(){0!==this.tags.length?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:t}=this;const{chunk:n}=this;t:for(;;)switch(this.getCode()){case b:this.entity+=`${n.slice(t,this.prevI)}\n`,t=this.i;break;case bt:{const{entityReturnState:i}=this,e=this.entity+n.slice(t,this.prevI);let r;this.state=i,""===e?(this.fail("empty entity name."),r="&;"):(r=this.parseEntity(e),this.entity=""),i===x&&void 0===this.textHandler||(this.text+=r);break t}case p:this.entity+=n.slice(t);break t}}sOpenWaka(){const t=this.getCode();if(r(t))this.state=nt,this.unget(),this.xmlDeclPossible=!1;else switch(t){case pt:this.state=ht,this.xmlDeclPossible=!1;break;case gt:this.state=F,this.openWakaBang="",this.xmlDeclPossible=!1;break;case St:this.state=W;break;default:this.fail("disallowed character in tag name"),this.state=x,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=q,this.openWakaBang="";break;case"--":this.state=M,this.openWakaBang="";break;case"DOCTYPE":this.state=T,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(mt)&&(this.state=U)}sCommentEnding(){var t;const n=this.getCodeNorm();n===mt?(this.state=V,null===(t=this.commentHandler)||void 0===t||t.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(n)}`,this.state=M)}sCommentEnded(){const t=this.getCodeNorm();t!==Tt?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(t)}`,this.state=M):this.state=x}sCData(){this.captureToChar(It)&&(this.state=H)}sCDataEnding(){const t=this.getCodeNorm();t===It?this.state=z:(this.text+=`]${String.fromCodePoint(t)}`,this.state=q)}sCDataEnding2(){var t;const n=this.getCodeNorm();switch(n){case Tt:null===(t=this.cdataHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=x;break;case It:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(n)}`,this.state=q}}sPIFirstChar(){const t=this.getCodeNorm();this.nameStartCheck(t)?(this.piTarget+=String.fromCodePoint(t),this.state=j):t===St||i(t)?(this.fail("processing instruction without a target."),this.state=t===St?X:$):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(t),this.state=j)}sPIRest(){const{chunk:t,i:n}=this;for(;;){const e=this.getCodeNorm();if(e===p)return void(this.piTarget+=t.slice(n));if(!this.nameCheck(e)){this.piTarget+=t.slice(n,this.prevI);const r=e===St;r||i(e)?"xml"===this.piTarget?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=r?tt:G):this.state=r?X:$:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(e));break}}}sPIBody(){if(0===this.text.length){const t=this.getCodeNorm();t===St?this.state=X:i(t)||(this.text=String.fromCodePoint(t))}else this.captureToChar(St)&&(this.state=X)}sPIEnding(){var t;const n=this.getCodeNorm();if(n===Tt){const{piTarget:n}=this;"xml"===n.toLowerCase()&&this.fail("the XML declaration must appear at the start of the document."),null===(t=this.piHandler)||void 0===t||t.call(this,{target:n,body:this.text}),this.piTarget=this.text="",this.state=x}else n===St?this.text+="?":(this.text+=`?${String.fromCodePoint(n)}`,this.state=$);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const t=this.skipSpaces();t!==St?t!==p&&(this.state=Y,this.name=String.fromCodePoint(t)):this.state=tt}sXMLDeclName(){const t=this.captureTo(Pt);if(t===St)return this.state=tt,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(i(t)||t===kt){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=t===kt?J:K}}sXMLDeclEq(){const t=this.getCodeNorm();if(t===St)return this.state=tt,void this.fail("XML declaration is incomplete.");i(t)||(t!==kt&&this.fail("value required."),this.state=J)}sXMLDeclValueStart(){const t=this.getCodeNorm();if(t===St)return this.state=tt,void this.fail("XML declaration is incomplete.");i(t)||(Nt(t)?this.q=t:(this.fail("value must be quoted."),this.q=wt),this.state=Q)}sXMLDeclValue(){const t=this.captureTo([this.q,St]);if(t===St)return this.state=tt,this.text="",void this.fail("XML declaration is incomplete.");if(t===p)return;const n=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const t=n;this.xmlDecl.version=t,/^1\.[0-9]+$/.test(t)?this.opt.forceXMLVersion||this.setXMLVersion(t):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(n)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=n;break;case"standalone":"yes"!==n&&"no"!==n&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=n}this.name="",this.state=Z}sXMLDeclSeparator(){const t=this.getCodeNorm();t!==St?(i(t)||(this.fail("whitespace required."),this.unget()),this.state=G):this.state=tt}sXMLDeclEnding(){var t;this.getCodeNorm()===Tt?("xml"!==this.piTarget?this.fail("processing instructions are not allowed before root."):"version"!==this.name&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),null===(t=this.xmldeclHandler)||void 0===t||t.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=x):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var t;const n=this.captureNameChars();if(n===p)return;const e=this.tag={name:this.name,attributes:d.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=e.ns=d.create(null)),null===(t=this.openTagStartHandler)||void 0===t||t.call(this,e),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),n){case Tt:this.openTag();break;case pt:this.state=it;break;default:i(n)||this.fail("disallowed character in tag name."),this.state=et}}sOpenTagSlash(){this.getCode()===Tt?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=et)}sAttrib(){const t=this.skipSpaces();t!==p&&(r(t)?(this.unget(),this.state=rt):t===Tt?this.openTag():t===pt?this.state=it:this.fail("disallowed character in attribute name."))}sAttribName(){const t=this.captureNameChars();t===kt?this.state=st:i(t)?this.state=ut:t===Tt?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):t!==p&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const t=this.skipSpaces();switch(t){case p:return;case kt:this.state=st;break;default:this.fail("attribute without value."),this.text="",this.name="",t===Tt?this.openTag():r(t)?(this.unget(),this.state=rt):(this.fail("disallowed character in attribute name."),this.state=et)}}sAttribValue(){const t=this.getCodeNorm();Nt(t)?(this.q=t,this.state=ot):i(t)||(this.fail("unquoted attribute value."),this.state=at,this.unget())}sAttribValueQuoted(){const{q:t,chunk:n}=this;let{i:i}=this;for(;;)switch(this.getCode()){case t:return this.pushAttrib(this.name,this.text+n.slice(i,this.prevI)),this.name=this.text="",this.q=null,void(this.state=ct);case yt:return this.text+=n.slice(i,this.prevI),this.state=L,void(this.entityReturnState=ot);case vt:case b:case dt:this.text+=`${n.slice(i,this.prevI)} `,i=this.i;break;case _t:return this.text+=n.slice(i,this.prevI),void this.fail("disallowed character.");case p:return void(this.text+=n.slice(i))}}sAttribValueClosed(){const t=this.getCodeNorm();i(t)?this.state=et:t===Tt?this.openTag():t===pt?this.state=it:r(t)?(this.fail("no whitespace between attributes."),this.unget(),this.state=rt):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const t=this.captureTo(xt);switch(t){case yt:this.state=L,this.entityReturnState=at;break;case _t:this.fail("disallowed character.");break;case p:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",t===Tt?this.openTag():this.state=et}}sCloseTag(){const t=this.captureNameChars();t===Tt?this.closeTag():i(t)?this.state=ft:t!==p&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case Tt:this.closeTag();break;case p:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:t,forbiddenState:n}=this;const{chunk:i,textHandler:e}=this;t:for(;;)switch(this.getCode()){case _t:if(this.state=B,void 0!==e){const{text:n}=this,r=i.slice(t,this.prevI);0!==n.length?(e(n+r),this.text=""):0!==r.length&&e(r)}n=Mt;break t;case yt:this.state=L,this.entityReturnState=x,void 0!==e&&(this.text+=i.slice(t,this.prevI)),n=Mt;break t;case It:switch(n){case Mt:n=Ut;break;case Ut:n=Vt;break;case Vt:break;default:throw new h("impossible state")}break;case Tt:n===Vt&&this.fail('the string "]]>" is disallowed in char data.'),n=Mt;break;case b:void 0!==e&&(this.text+=`${i.slice(t,this.prevI)}\n`),t=this.i,n=Mt;break;case p:void 0!==e&&(this.text+=i.slice(t));break t;default:n=Mt}this.forbiddenState=n}handleTextOutsideRoot(){let{i:t}=this;const{chunk:n,textHandler:e}=this;let r=!1;t:for(;;){const u=this.getCode();switch(u){case _t:if(this.state=B,void 0!==e){const{text:i}=this,r=n.slice(t,this.prevI);0!==i.length?(e(i+r),this.text=""):0!==r.length&&e(r)}break t;case yt:this.state=L,this.entityReturnState=x,void 0!==e&&(this.text+=n.slice(t,this.prevI)),r=!0;break t;case b:void 0!==e&&(this.text+=`${n.slice(t,this.prevI)}\n`),t=this.i;break;case p:void 0!==e&&(this.text+=n.slice(t));break t;default:i(u)||(r=!0)}}r&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(t,n){var i;const{prefix:e,local:r}=this.qname(t),u={name:t,prefix:e,local:r,value:n};if(this.attribList.push(u),null===(i=this.attributeHandler)||void 0===i||i.call(this,u),"xmlns"===e){const t=n.trim();"1.0"===this.currentXMLVersion&&""===t&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[r]=t,Lt(this,r,t)}else if("xmlns"===t){const t=n.trim();this.topNS[""]=t,Lt(this,"",t)}}pushAttribPlain(t,n){var i;const e={name:t,value:n};this.attribList.push(e),null===(i=this.attributeHandler)||void 0===i||i.call(this,e)}end(){var t,n;this.sawRoot||this.fail("document must contain a root element.");const{tags:i}=this;for(;i.length>0;){const t=i.pop();this.fail(`unclosed tag: ${t.name}`)}this.state!==_&&this.state!==x&&this.fail("unexpected end.");const{text:e}=this;return 0!==e.length&&(null===(t=this.textHandler)||void 0===t||t.call(this,e),this.text=""),this.zu=!0,null===(n=this.endHandler)||void 0===n||n.call(this),this._init(),this}resolve(t){var n,i;let e=this.topNS[t];if(void 0!==e)return e;const{tags:r}=this;for(let n=r.length-1;n>=0;n--)if(void 0!==(e=r[n].ns[t]))return e;return void 0!==(e=this.ns[t])?e:null===(i=(n=this.opt).resolvePrefix)||void 0===i?void 0:i.call(n,t)}qname(t){const n=t.indexOf(":");if(-1===n)return{prefix:"",local:t};const i=t.slice(n+1),e=t.slice(0,n);return(""===e||""===i||i.includes(":"))&&this.fail(`malformed name: ${t}.`),{prefix:e,local:i}}processAttribsNS(){var t;const{attribList:n}=this,i=this.tag;{const{prefix:n,local:e}=this.qname(i.name);i.prefix=n,i.local=e;const r=i.uri=null!==(t=this.resolve(n))&&void 0!==t?t:"";""!==n&&("xmlns"===n&&this.fail('tags may not have "xmlns" as prefix.'),""===r&&(this.fail(`unbound namespace prefix: ${JSON.stringify(n)}.`),i.uri=n))}if(0===n.length)return;const{attributes:e}=i,r=new Set;for(const t of n){const{name:n,prefix:i,local:u}=t;let s,o;""===i?(s="xmlns"===n?g:"",o=n):(void 0===(s=this.resolve(i))&&(this.fail(`unbound namespace prefix: ${JSON.stringify(i)}.`),s=i),o=`{${s}}${u}`),r.has(o)&&this.fail(`duplicate attribute: ${o}.`),r.add(o),t.uri=s,e[n]=t}this.attribList=[]}processAttribsPlain(){const{attribList:t}=this,n=this.tag.attributes;for(const{name:i,value:e}of t)void 0!==n[i]&&this.fail(`duplicate attribute: ${i}.`),n[i]=e;this.attribList=[]}openTag(){var t;this.processAttribs();const{tags:n}=this,i=this.tag;i.isSelfClosing=!1,null===(t=this.openTagHandler)||void 0===t||t.call(this,i),n.push(i),this.state=x,this.name=""}openSelfClosingTag(){var t,n,i;this.processAttribs();const{tags:e}=this,r=this.tag;r.isSelfClosing=!0,null===(t=this.openTagHandler)||void 0===t||t.call(this,r),null===(n=this.closeTagHandler)||void 0===n||n.call(this,r),null===(this.tag=null!==(i=e[e.length-1])&&void 0!==i?i:null)&&(this.closedRoot=!0),this.state=x,this.name=""}closeTag(){const{tags:t,name:n}=this;if(this.state=x,this.name="",""===n)return this.fail("weird empty close tag."),void(this.text+="</>");const i=this.closeTagHandler;let e=t.length;for(;e-- >0;){const e=this.tag=t.pop();if(this.topNS=e.ns,null==i||i(e),e.name===n)break;this.fail("unexpected close tag.")}0===e?this.closedRoot=!0:e<0&&(this.fail(`unmatched closing tag: ${n}.`),this.text+=`</${n}>`)}parseEntity(t){if("#"!==t[0]){const n=this.ENTITIES[t];return void 0!==n?n:(this.fail(this.isName(t)?"undefined entity.":"disallowed character in entity name."),`&${t};`)}let n=NaN;return"x"===t[1]&&/^#x[0-9a-f]+$/i.test(t)?n=l(t.slice(2),16):/^#[0-9]+$/.test(t)&&(n=l(t.slice(1),10)),this.isChar(n)?String.fromCodePoint(n):(this.fail("malformed character entity."),`&${t};`)}}}),UE=function(){function t(){}return t.prototype.si=function(t){var n=new ME.SaxesParser({xmlns:!0,defaultXMLVersion:"1.0",forceXMLVersion:!0}),i=new $E,e=[i];function r(t){e[e.length-1]._i(t)}return n.on("text",function(t){e.length>1&&r(new WE(t))}),n.on("cdata",function(t){r(new jE(t))}),n.on("opentag",function(t){for(var n=t.local,i=t.uri,u=t.prefix,s=new HE({hi:n,di:""===i?void 0:i,_L:""===u?void 0:u}),o=t.attributes,c=0,a=d.keys(o);c<a.length;c++){var h=o[a[c]],f=h.prefix,v=h.local,l=h.uri,w=h.value,g=new VE({hi:v,li:w,di:""===l?void 0:l,_L:""===f?void 0:f});s.kL(g)}r(s),e.push(s)}),n.on("closetag",function(){e.pop()}),n.on("error",function(t){throw new An(t)}),n.write(t).close(),i},t}(),VE=function(){function t(t){this.TL=void 0,this.SL=void 0,this.EL=void 0,this.g=void 0,this.TL=t.hi,this.g=t.li,this.SL=t.di,this.EL=t._L}var n=t.prototype;return n.ci=function(t){return this===t||!!GE(this,t)&&(this.TL===t.TL&&this.SL===t.SL&&this.EL===t.EL&&this.g===t.g)},n.ai=function(){return new t({hi:this.hi,li:this.li,di:this.di,_L:this.vi})},ht(t,[{key:"ti",get:function(){return Rn.ii}},{key:"hi",get:function(){return this.TL}},{key:"fi",get:function(){return void 0===this.EL?this.TL:this.EL+":"+this.TL}},{key:"di",get:function(){return this.SL}},{key:"vi",get:function(){return this.EL}},{key:"li",get:function(){return this.g}}]),t}(),qE=function(){function t(){this.gi=[]}var n=t.prototype;return n.yi=function(t){return this.gi.filter(function(n){return XE(n)&&n.pi===t})},n.bi=function(t,n){return this.gi.filter(function(i){return XE(i)&&i.hi===n&&i.di===t})},n._i=function(t){this.gi.push(t)},ht(t,[{key:"mi",get:function(){return this.gi}},{key:"Ti",get:function(){return this.gi.filter(XE)}}]),t}(),HE=function(t){function n(n){var i;return(i=t.call(this)||this).TL=void 0,i.SL=void 0,i.EL=void 0,i.IL=[],i.TL=n.hi,i.SL=n.di,i.EL=n._L,i}dt(n,t);var i=n.prototype;return i.RL=function(t){for(var n=0,i=this.mi;n<i.length;n++){var e=i[n];XE(e)?e.RL(t):t.push(e.Ai)}},i.Ei=function(t,n){for(var i=0,e=this.IL;i<e.length;i++){var r=e[i];if(r.hi===n&&r.di===t)return r.li}},i.Si=function(t){for(var n=0,i=this.IL;n<i.length;n++){var e=i[n];if(e.fi===t)return e.li}},i.kL=function(t){this.IL.push(t)},i.Ii=function(t){for(var n=0;n<this.IL.length;n++)if(this.IL[n].fi===t)return void this.IL.splice(n,1)},i.Ri=function(t,n){for(var i=0;i<this.IL.length;i++)if(this.IL[i].hi===n&&this.IL[i].di===t)return void this.IL.splice(i,1)},i.Di=function(t,n){this.Ii(t),this.kL(new VE({hi:t,li:n}))},i.Ni=function(t,n,i){this.Ii(n);var e=n.split(":");this.kL(new VE({hi:e[e.length-1],li:i,di:t,_L:e.length>1?e[0]:void 0}))},i.ai=function(t){var i=new n({hi:this.hi,di:this.di,_L:this.vi});return this.Ci.forEach(function(t){return i.kL(t.ai())}),t&&this.mi.forEach(function(n){return i._i(n.ai(t))}),i},i.ci=function(t){return this===t||!!GE(this,t)&&(this.TL===t.TL&&this.EL===t.EL&&this.SL===t.SL&&(YE(this.Ci,t.Ci)&&YE(this.mi,t.mi)))},ht(n,[{key:"ti",get:function(){return Rn.ni}},{key:"Ci",get:function(){return this.IL}},{key:"hi",get:function(){return this.TL}},{key:"di",get:function(){return this.SL}},{key:"vi",get:function(){return this.EL}},{key:"pi",get:function(){return void 0===this.EL?this.TL:this.EL+":"+this.TL}},{key:"Oi",get:function(){var t=[];return this.RL(t),t.join("")}}]),n}(qE),zE=function(){function t(t){this.P=void 0,this.P=t}return ht(t,[{key:"Ai",get:function(){return this.P}}]),t}(),WE=function(t){function n(n){return t.call(this,n)||this}dt(n,t);var i=n.prototype;return i.ai=function(){return new n(this.Ai)},i.ci=function(t){return this===t||!!GE(this,t)&&this.Ai===t.Ai},ht(n,[{key:"ti",get:function(){return Rn.ei}}]),n}(zE),jE=function(t){function n(n){return t.call(this,n)||this}dt(n,t);var i=n.prototype;return i.ai=function(){return new n(this.Ai)},i.ci=function(t){return this===t||!!GE(this,t)&&this.Ai===t.Ai},ht(n,[{key:"ti",get:function(){return Rn.ri}}]),n}(zE),$E=function(t){function n(){return t.apply(this,arguments)||this}dt(n,t);var i=n.prototype;return i.ai=function(t){var i=new n;return t&&this.mi.forEach(function(n){return i._i(n.ai(t))}),i},i.ci=function(t){return this===t||!!GE(this,t)&&YE(this.mi,t.mi)},ht(n,[{key:"ti",get:function(){return Rn.ui}},{key:"Pi",get:function(){return this.Ti[0]}}]),n}(qE);function XE(t){return Dn(t)}function GE(t,n){return t.ti===n.ti}function YE(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++)if(!t[i].ci(n[i]))return!1;return!0}var KE,JE=["adBreak"],QE=["adBreak"];function ZE(t){return void 0===t.adBreak||void 0===t.adBreak.ads?t:lr({},t,{adBreak:lr({},t.adBreak,{ads:t.adBreak.ads.map(function(t){t.adBreak;return yp(t,JE)})})})}function tI(t){return void 0===t.ads?t:lr({},t,{ads:t.ads.map(function(t){t.adBreak;return yp(t,QE)})})}function nI(t){return"string"==typeof t.date?new Date(t.date):t.date}function iI(t){var n;return t.cue.track?(n=rI(t.cue,t.cue.track.type)).track={uid:t.cue.track.uid}:n=rI(t.cue,""),n}function eI(t){var n=[];return function t(i){if(Array.isArray(i))return i.map(t);if("object"==typeof i&&null!==i&&d.keys(i).length){if(n.includes(i))return"[Circular ~]";n.push(i);var e=d.entries(i);return d.fromEntries(e.map(function(i){var e=i[0],r=i[1],u=t(r);return"object"==typeof r&&null!==r&&"[Circular ~]"!==u&&n.pop(r),[e,u]}))}return i}(t)}function rI(t,n){var i={};return i.content=t.content,i.endTime=t.endTime,i.startTime=t.startTime,i.id=t.id,i.uid=t.uid,function(){switch(n){case"webvtt":i.align=t.align,i.line=t.line,i.lineAlign=t.lineAlign,i.position=t.position,i.positionAlign=t.positionAlign,i.region=t.region,i.size=t.size,i.snapToLines=t.snapToLines,i.text=t.text,i.vertical=t.vertical;break;case"ttml":i.content=function t(n){var i=n.children;if(0!==i.length)for(var e=0;e<i.length;e++){var r=i.item(e);return"image"===r.nodeName||"smpte:image"===r.nodeName?r:t(r)}}(t.content).innerHTML;for(var e=t.content,r={};e.firstChild&&e.firstChild.outerHTML;){(new UE).si(e.firstChild.outerHTML).Pi.Ci.forEach(function(t){r[t.hi]=t.li}),e=e.firstChild}i.ttmlAttributes=r;break;case"daterange":var u={};for(var s in t.customAttributes){var o=t.customAttributes[s];if("object"==typeof(a=o)&&null!==a){var c=uI(o);u[s]={type:KE.DL,value:c}}else oI(o)?u[s]={type:KE.NL,value:o}:u[s]={type:KE.CL,value:String(o)}}i.attributedClass=String(t.class),i.startDate=t.startDate,i.endDate=t.endDate,i.duration=t.duration,i.plannedDuration=t.plannedDuration,i.endOnNext=t.endOnNext,i.scte35Cmd=uI(t.scte35Cmd),i.scte35Out=uI(t.scte35Out),i.scte35In=uI(t.scte35In),i.customAttributes=u}var a}(),i}function uI(t){if(void 0!==t)return Vu(t)}function sI(t){var n={};if(n.kind=t.kind,n.language=t.language,n.label=t.label,n.id=t.id,n.uid=t.uid,n.src=t.src,"cues"in t){n.inBandMetadataTrackDispatchType=t.inBandMetadataTrackDispatchType,n.mode=t.mode,n.type=t.type;var i=[];if(t.cues)for(var e=0;e<t.cues.length;e++){var r=t.cues[e];i.push(rI(r,t.type))}n.cues=i;var u=[];if(t.activeCues)for(var s=0;s<t.activeCues.length;s++){var o=t.activeCues[s];u.push(rI(o,t.type))}n.activeCues=u}else"enabled"in t&&(n.enabled=t.enabled);return n}function oI(t){return"number"==typeof t}!function(t){t.CL="daterange-ca-type_string",t.NL="daterange-ca-type_number",t.DL="daterange-ca-type_arraybuffer"}(KE||(KE={}));var cI={cue:function(t){var n={};switch(n.date=nI(t),n.type=t.type,t.type){case"enter":case"exit":case"update":n.cue=iI(t)}return n},textTrack:function(t){var n={};switch(n.date=nI(t),n.type=t.type,t.type){case"addcue":t.cue.uid||(t.cue.uid=dI().register(t.cue));var i=fI()[vI()].eventListeners;t.cue.addEventListener("enter",function(t){i.InternalCueHelperEvent(t)}),t.cue.addEventListener("exit",function(t){i.InternalCueHelperEvent(t)}),t.cue.addEventListener("update",function(t){i.InternalCueHelperEvent(t)});case"removecue":case"entercue":case"exitcue":n.cue=iI(t);break;case"cuechange":for(var e=[],r=0;r<t.track.activeCues.length;r++){var u=t.track.activeCues[r];e.push(rI(u,t.track.type))}n.track={activeCues:e,uid:t.track.uid}}return n},textTrackList:function(t){var n={};switch(n.date=nI(t),n.type=t.type,t.type){case"addtrack":t.track.cues&&t.track.cues.length&&t.track.cues.length>0&&t.track.cues.map(function(t){t.uid=dI().register(t)}),n.track=sI(t.track);case"removetrack":case"change":n.track=sI(t.track)}return n},default:function(t){var n={};switch(n.date=nI(t),n.type=t.type,t.type){case"play":case"playing":case"pause":case"seeking":case"seeked":case"ended":case"waiting":case jc.qa:n.currentTime=t.currentTime,n.volume=t.volume;break;case"emptied":n.currentTime=t.currentTime;break;case"timeupdate":n.currentTime=t.currentTime,n.currentProgramDateTime=t.currentProgramDateTime;break;case"progress":n.currentTime=t.currentTime;break;case"ratechange":n.currentTime=t.currentTime,n.playbackRate=t.playbackRate;break;case"durationchange":n.duration=t.duration;break;case"sourcechange":n.source=t.source;break;case"readystatechange":case"loadedmetadata":case"loadeddata":case"loadstart":case"canplay":case"canplaythrough":n.currentTime=t.currentTime,n.readyState=t.readyState;break;case"error":n.error=t.error,n.errorObject=lr({name:t.errorObject.name,cause:t.errorObject.cause},t.errorObject);break;case"addtrack":case"removetrack":case"change":n.track=sI(t.track);break;case"adbreakbegin":case"adbreakend":n.ad=tI(t.ad);break;case"adloaded":case"adimpression":n.ad=ZE(t.ad);break;case"aderror":t.OL&&(n.OL=t.OL),t.message&&(n.message=t.message);break;case"statechange":n.state=t.state;break;case"presentationmodechange":case"resize":break;case"adfirstquartile":case"admidpoint":case"adthirdquartile":case"adbegin":case"adend":n.currentTime=t.currentTime,n.ad=ZE(t.ad)}return eI(n)},minimizeCueHelper:function(t){var n={};return n.date=nI(t),n.type=t.type,n.cue=iI(t),n.track={uid:t.cue.track.uid},n},adReplacer:ZE,adBreakReplacer:tI,removeCircularReferences:eI},aI=function(){this.stringify=xE,this.minimize=cI};function hI(){return Z.self}function fI(){return hI().THEOplayerBridge}function dI(){return hI().THEOCueMirrorMap}function vI(){return hI().THEOplayerGlobalID}function lI(){var t=hI();if(t.THEOplayerBridge){var n=new CE;t.THEOplayerBridge=Nl(n,t.THEOplayerBridge)}else t.THEOplayerBridge=new CE;t.THEOplayerUtils||(t.THEOplayerUtils=new aI),t.THEOCueMirrorMap||(t.THEOCueMirrorMap=new OE)}lI();var wI=function(t){function n(){return t.apply(this,arguments)||this}return dt(n,t),n.prototype.si=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new An(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new An;return new gI(n)},n}(Pn),gI=function(t){function n(){return t.apply(this,arguments)||this}return dt(n,t),n.prototype.ai=function(t){return new n(this.wi.cloneNode(t))},ht(n,[{key:"mi",get:function(){return void 0===this.gi&&(this.gi=pI(this.wi.childNodes)),this.gi}},{key:"Pi",get:function(){return new yI(this.wi.documentElement)}}]),n}(Vn),yI=function(t){function n(){return t.apply(this,arguments)||this}return dt(n,t),n.prototype.ai=function(t){var i=new n(this.wi.cloneNode(t));return i.Ci.length<1&&this.Ci.length>0&&this.Ci.forEach(function(t){i.Di(t.fi,t.li)}),i},ht(n,[{key:"mi",get:function(){return void 0===this.gi&&(this.gi=pI(this.wi.childNodes)),this.gi}}]),n}(Bn);function mI(t){switch(t.nodeType){case Rn.ni:return new yI(t)}return Hn(t)}function pI(t){for(var n=[],i=0;i<t.length;i++){var e=mI(t.item(i));e&&n.push(e)}return n}vt(new(function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).AL=new wI,n}return dt(n,t),n.prototype.si=function(t){return this.AL.si(t)},n}(ll)));var bI=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).type=n,e.detail=i,e}return dt(n,t),n}(Su),_I=function(t){function n(){return t.apply(this,arguments)||this}dt(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.$r(new bI(t,n))},i.addEventListener=function(t,n){this.Xr(t,n)},i.removeEventListener=function(t,n){this.Jr(t,n)},n}(iw);function kI(t,n){return t.Mg<=n&&t.Ug>n}function TI(t,n){return function(t,n){return Zr(t.Mg,n.Mg,Fg)}(t,n)||function(t,n){return Zr(t.Ug,n.Ug,Fg)}(t,n)}function SI(t,n){var i=function(t,n,i,e,r,u,s){void 0===r&&(r=!1),void 0===u&&(u=0),void 0===s&&(s=t.length);for(var o=u,c=s-1;o<=c;){var a=o+(c-o>>1),h=e(i(t[a]),n);if(h<0)o=a+1;else if(h>0)c=a-1;else{if(!(r&&a>u&&0===e(i(t[a-1]),n)))return a;c=a-1}}return~o}(t,n,Ft,TI,!0);if(i<0)return i;for(;i<t.length&&TI(n,t[i])===Xr.Sr;i++)if(t[i].Yg(n))return i;return-(i+1)}function EI(t){var n=t.Tv;if(!n)return-1;if(t instanceof Mg)return n.PL(t);var i=n.Il;if(!i)return-1;var e=SI(i.Jv,t);return e>=0?e:-1}var II=function(t){function n(n,i){var e;return(e=t.call(this,Ng.Pg,n)||this).fm=i,e}return dt(n,t),n.prototype.kv=function(){return new RI(this.Fg._v)},n}(Pg),RI=function(t){function n(n){return t.call(this,Cg.Pg,n)||this}return dt(n,t),n}(xg),DI=function(t){function n(n,i){var e;return(e=t.call(this,Ng.Lg,n)||this).fm=i,e}return dt(n,t),n.prototype.kv=function(){return new NI(this.Fg._v)},n}(Pg),NI=function(t){function n(n){return t.call(this,Cg.Lg,n)||this}return dt(n,t),n}(xg),CI=function(t){function n(n){var i;return(i=t.call(this,gl.Dv)||this).Fg=n,i}return dt(n,t),n.prototype.kv=function(){return new OI(this.Fg._v)},n}(yl),OI=function(t){function n(n){var i;return(i=t.call(this,"entercue")||this).cue=n,i}return dt(n,t),n}(ml),AI=function(t){function n(n){var i;return(i=t.call(this,gl.Cv)||this).Fg=n,i}return dt(n,t),n.prototype.kv=function(){return new PI(this.Fg._v)},n}(yl),PI=function(t){function n(n){var i;return(i=t.call(this,"exitcue")||this).cue=n,i}return dt(n,t),n}(ml),xI=function(t){function n(n){var i;return(i=t.call(this,gl.Av)||this).Tv=n,i}return dt(n,t),n.prototype.kv=function(){return new LI(this.Tv._v)},n}(yl),LI=function(t){function n(n){var i;return(i=t.call(this,"cuechange")||this).track=n,i}return dt(n,t),n}(ml);function BI(t,n){return Qr(t.fm,n.fm)||function(t,n){return t.Tv===n.Tv?Jr(EI(t),EI(n)):Tm(t.Tv,n.Tv)}(t.Fg,n.Fg)||function(t,n){return t===n?Xr.Sr:t===Ng.Pg?Xr.Ir:Xr.Er}(t.type,n.type)}var FI=function(){function t(t,n){var i=this;this.$I=void 0,this.xL=void 0,this.Aw=[],this.LL=0,this.BL=0,this.FL=[],this.ML=!1,this.UL=!1,this.VL=void 0,this.qL=function(){i.LL=0,i.HL(),i.zL()},this.WL=function(){i.HL(),i.zL()},this.jL=function(){i.UL=!0,i.VL=i.$I.ow,i.$L()},this.XL=function(){i.HL(),i.zL()},this.GL=function(){i.YL(),i.HL(),i.zL()},this.KL=function(){i.JL()},this.QL=function(t){iu(i.FL,t.Fg),i.JL()},this.xL=n,this.$I=t,t.Xr(jc.Va,this.WL),t.Xr(jc.Ra,this.WL),t.Xr(Iw.sw,this.WL),t.Xr(jc.Ia,this.WL),t.Xr(jc.Pa,this.jL),t.Xr(jc.Aa,this.XL),this.JL()}var n=t.prototype;return n.Kv=function(){uu(this.FL);for(var t=0,n=this.Aw.slice();t<n.length;t++){var i=n[t];this.Gv(i)}this.$L(),this.LL=0,this.BL=0,this.ML=!1,this.UL=!1,this.VL=void 0},n.Xv=function(t){ru(this.Aw,t)||(this.Aw.push(t),t.Xr(gl.Sv,this.KL),t.Xr(gl.Iv,this.QL),t.Xr(gl.xv,this.GL),t.Il.Qv&&this.JL(),this.YL())},n.Gv=function(t){if(iu(this.Aw,t)){if(t.Jr(gl.Sv,this.KL),t.Jr(gl.Iv,this.QL),t.Jr(gl.xv,this.GL),t.Il.Qv){for(var n=0,i=t.Il.Jv;n<i.length;n++){var e=i[n];iu(this.FL,e)}this.JL()}this.YL()}},n.YL=function(){this.ML=this.Aw.some(function(t){return t.pl!==$l.kl})},n.zL=function(){this.$I.lw||this.$I.dw?this.$L():this.JL()},n.JL=function(){this.ML&&(this.LL||(this.LL=this.xL.V(this.qL)))},n.$L=function(){this.LL&&(this.xL.ZL(this.LL),this.LL=0)},n.HL=function(){var t;if(this.ML&&!this.$I.lw){var n=this.Aw,i=this.BL,e=null!=(t=this.VL)?t:this.$I.ow,r=e-i<-.1,u=this.UL||r;u&&e>i&&e-i<.1&&(u=!1),this.UL=!1,this.VL=void 0;for(var s,o=[],c=0;c<n.length;c++){var a=n[c];if(a.pl!==$l.kl){a.tB(e,u);for(var h=0,f=a.Rl.Jv;h<f.length;h++){var d=f[h];o.push(d)}}}if(u)s=this.FL;else{s=[];for(var l=0;l<n.length;l++){var w=n[l];w.pl!==$l.kl&&km(w,i-1/6,e,s)}}for(var g=s.length-1;g>=0;g--)ru(o,s[g])&&eu(s,g);var y=[];if(!u)for(var m=s.length-1;m>=0;m--){var p=s[m];p.Mg>=i&&p.Ug<=e&&(y.push(p),eu(s,m))}for(var b=[],_=[],k=0;k<y.length;k++){var T=y[k];T.Kg||b.push(new II(T,T.Mg)),b.push(new DI(T,v.max(T.Mg,T.Ug)))}for(var S=0,E=s;S<E.length;S++){var I=E[S];I.Kg&&(b.push(new DI(I,v.max(I.Mg,I.Ug))),I.Kg=!1)}for(var R=0;R<o.length;R++){var D=o[R];D.Kg||(b.push(new II(D,D.Mg)),D.Kg=!0)}b.sort(BI);for(var N=0;N<b.length;N++){var C=b[N],O=C.Fg;O.$r(C);var A=O.Tv;A&&(C.type===Ng.Pg?A.$r(new CI(O)):A.$r(new AI(O)),ru(_,A)||_.push(A))}_.sort(Tm);for(var P=0;P<_.length;P++){var x=_[P];x.$r(new xI(x))}this.BL=e,this.FL=o}},n.et=function(){this.Kv(),this.$I.Jr(jc.Va,this.WL),this.$I.Jr(jc.Ra,this.WL),this.$I.Jr(Iw.sw,this.WL),this.$I.Jr(jc.Ia,this.WL),this.$I.Jr(jc.Pa,this.jL),this.$I.Jr(jc.Aa,this.XL)},t}(),MI=function(){function t(){}var n=t.prototype;return n.V=function(t){return zT(t)},n.ZL=function(t){WT(t)},t}(),UI=new MI,VI=function(t){function n(n,i){return void 0===i&&(i=UI),t.call(this,n,i)||this}return dt(n,t),n}(FI),qI=function(t){function n(){return t.call(this,jc._a)||this}return dt(n,t),n}(Su),HI=function(t){function n(n){var i;return(i=t.call(this,jc.Da)||this).currentTime=n,i}return dt(n,t),n}(Su),zI=function(t){function n(n,i){var e;return(e=t.call(this)||this).nB=void 0,e.iB=void 0,e.eB=function(t){e.nB.rB("THEOplayerABRSetTargetBuffer",t.hA),e.$r(t)},e.uB=function(t){e.nB.rB("THEOplayerABRSetStrategy",t.dA),e.$r(t)},e.nB=n,e.iB=i,e.iB.Xr("fA",e.eB),e.iB.Xr("vA",e.uB),e}return dt(n,t),ht(n,[{key:"kA",get:function(){var t;switch(this.dA.type){case wS.PERFORMANCE:return 1;case wS.QUALITY:return 0;case wS.BANDWIDTH:return null!=(t=this.dA.metadata)&&t.bitrate&&!g(this.dA.metadata.bitrate)?this.dA.metadata.bitrate:0;default:return 0}}},{key:"_v",get:function(){return this.iB._v}},{key:"dA",get:function(){return this.iB.dA},set:function(t){this.iB.dA=t}},{key:"hA",get:function(){return this.iB.hA},set:function(t){this.iB.hA=t}},{key:"lA",get:function(){return this.iB.lA},set:function(t){this.iB.lA=t}}]),n}(ku),WI=function(){function t(t){this.sB=void 0,this.bv=void 0,this.sB=t}var n=t.prototype;return n.kv=function(){return function(t){for(var n=[],i=0;i<t.Qv;i++)n[i]=t.wu(i)._v;return n.item=function(n){var i=0|n,e=t.wu(i);return e&&e._v||void 0},d.defineProperty(n,"constructor",{value:Bg}),n}(this)},n._g=function(t){for(var n=this.sB,i=n.length-1;i>=0;i-=1){var e=n[i];if(t.Yg(e))return!0}return!1},n.wu=function(t){return this.sB[t]},ht(t,[{key:"Jv",get:function(){return this.sB}},{key:"Qv",get:function(){return this.sB.length}},{key:"_v",get:function(){if(this.bv){var t=this.sB;this.bv.length=t.length;for(var n=0;n<t.length;n++)this.bv[n]=t[n]._v}else this.bv=this.kv();return this.bv}}]),t}(),jI=function(t){function n(n,i){var e;return(e=t.call(this,gl.Bv)||this).Tv=n,e.El=i,e}return dt(n,t),n.prototype.kv=function(){return new $I(this.Tv._v,Zl(this.El))},n}(yl),$I=function(t){function n(n,i){var e;return(e=t.call(this,"readystatechange")||this).track=n,e.readyState=i,e}return dt(n,t),n}(ml),XI=function(t){function n(n){var i;return(i=t.call(this,gl.Mv)||this).Tv=n,i}return dt(n,t),n.prototype.kv=function(){return new GI(this.Tv._v)},n}(yl),GI=function(t){function n(n){var i;return(i=t.call(this,"typechange")||this).track=n,i}return dt(n,t),n}(ml),YI=function(t){function n(n){var i;return(i=t.call(this,gl.Sv)||this).Fg=n,i}return dt(n,t),n.prototype.kv=function(){return new KI(this.Fg._v)},n}(yl),KI=function(t){function n(n){var i;return(i=t.call(this,"addcue")||this).cue=n,i}return dt(n,t),n}(ml),JI=function(t){function n(n){var i;return(i=t.call(this,gl.Iv)||this).Fg=n,i}return dt(n,t),n.prototype.kv=function(){return new QI(this.Fg._v)},n}(yl),QI=function(t){function n(n){var i;return(i=t.call(this,"removecue")||this).cue=n,i}return dt(n,t),n}(ml),ZI=function(t){function n(n,i,e,r,u,s,o,c){var a;return(a=t.call(this)||this).bv=void 0,a.Ho=void 0,a.Sg=bg(),a.oB=!1,a.cB=void 0,a.aB=void 0,a.Tg=void 0,a.Os=void 0,a.fD=$l.kl,a.hB=Ig.NONE,a.fB=void 0,a.xi=void 0,a.dB=void 0,a.sB=[],a.vB=[],a.lB=void 0,a.wB=void 0,a.gB=0,a.yB=0,a.Ho=i||"",a.cB=c||"",a.aB=n,a.Os=r||"",a.oB=Boolean(u),a.dB=Boolean(o),a.xi=s||Rg.DEFAULT,a.Tg=e||"",a.lB=new WI(a.sB),a.wB=new WI(a.vB),a}dt(n,t);var i=n.prototype;return i.mB=function(t){return nu(this.lB.Jv,function(n){return n.hl===t})},i.kv=function(){return Kl(this)},i.RD=function(t){var n=function(t){if("string"==typeof t){var n=t.toLowerCase();switch(n){case $l.kl:case $l._l:case $l.bl:return n}}else if("number"==typeof t)switch(t){case 0:return $l.kl;case 1:return $l._l;case 2:return $l.bl}return $l.kl}(t);n!==this.pl&&(this.fD=n,n===$l.kl&&(this.vB.forEach(function(t){t.Kg=!1}),uu(this.vB),this.yB=0),this.$r(new Sl(this)))},i.sT=function(t){if(t&&!t.Tv){var n=SI(this.Il.Jv,t);if(!(n>=0)){t.Tv=this;var i=-(n+1);this.sB.splice(i,0,t),this.pB(i),t.Gg=i,i<this.yB&&(this.yB=i),this.$r(new YI(t))}}},i.bB=function(t){if(t&&t.Tv===this){var n=this.PL(t);if(!(n<0)){t.Kg=!1;var i=this.vB,e=SI(i,t);e>=0&&eu(i,e),eu(this.sB,n),this.pB(n),t.Gg=-1,this.yB>n&&--this.yB,this.$r(new JI(t))}}},i.tB=function(t,n){var i=this.vB,e=this.sB,r=this.yB,u=!1;n&&(r=0);for(var s=i.length-1;s>=0;s--){kI(i[s],t)||(u=!0,eu(i,s))}for(;r<e.length&&e[r].Mg<=t;){var o=e[r];if(0===t)break;kI(o,t)&&!ru(i,o)&&(u=!0,i.push(o)),r++}u&&Yr(i,TI),this.yB=r},i.PL=function(t){return(-1===t.Gg||t.Gg>=this.gB)&&this._B(),t.Gg},i._B=function(){for(var t=this.sB,n=this.gB;n<t.length;n++)t[n].Gg=n;this.gB=t.length},i.pB=function(t){t<this.gB&&(this.gB=t)},i.Tl=function(t){this.Sl||(this.pl=t)},i.et=function(){this.Kr();for(var t=this.sB.slice(),n=0;n<t.length;n++){t[n].et()}uu(this.sB),uu(this.vB)},ht(n,[{key:"Rl",get:function(){return this.wB}},{key:"Il",get:function(){return this.lB}},{key:"cT",get:function(){return this.oB},set:function(t){this.oB=t}},{key:"Sl",get:function(){return this.dB}},{key:"_v",get:function(){return this.bv||(this.bv=this.kv()),this.bv}},{key:"hl",get:function(){return this.Ho}},{key:"fl",get:function(){return this.Sg}},{key:"ml",get:function(){return this.cB},set:function(t){this.cB=t}},{key:"dl",get:function(){return this.aB}},{key:"vl",get:function(){return this.Tg},set:function(t){t!==this.Tg&&(this.Tg=t,this.$r(new yg(this)))}},{key:"ll",get:function(){return this.Os}},{key:"pl",get:function(){return this.fD},set:function(t){this.RD(t)}},{key:"El",get:function(){return this.hB},set:function(t){this.hB!==t&&(this.hB=t,this.$r(new jI(this,this.hB)))}},{key:"Dl",get:function(){return this.fB},set:function(t){this.fB=t}},{key:"hr",get:function(){return this.xi},set:function(t){this.xi!==t&&(this.xi=t,this.$r(new XI(this)))}}]),n}(ku);function tR(t,n,i){for(var e=t[n].Mg,r=n;r>=0&&t[r].Mg===e;r--)t[r].Ug=i}var nR,iR=function(t){function n(n,i,e){var r;return(r=t.call(this,n,1/0,i,!1,e)||this).kB=void 0,r}return dt(n,t),n.prototype.Yg=function(n){return this===n||Al(this,n)&&t.prototype.Yg.call(this,n)&&(i=n,this.Vg===i.Vg);var i},ht(n,[{key:"_v",get:function(){return this.bv||(this.bv=Lg(this)),this.bv}}]),n}(Mg),eR=function(t){function n(n,i,e){return void 0===e&&(e=Rg.DEFAULT),t.call(this,lm.Mp,"",i||"","",!1,e,!1,n)||this}return dt(n,t),n}(ZI),rR=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).hr=Rg.ID3,e.kB=void 0,e}dt(n,t);var i=n.prototype;return i.sT=function(n){!function(t,n){if(0!==n.length){var i=n.length-1;if(n[i].Mg<t.Mg)tR(n,i,t.Mg);else{var e=n[0];if(e.Mg>t.Mg)t.Ug=e.Mg;else{var r=SI(n,t);if(!(r>=0)){var u=-(r+1),s=u-1;if(s>=0&&n[s].Mg<t.Mg&&tR(n,s,t.Mg),u<n.length){var o=n[u];t.Ug=o.Mg}}}}}}(n,this.sB),t.prototype.sT.call(this,n)},i.kv=function(){return Kl(this)},n}(eR),uR=(jc.Ra,jc.Ia,Iw.sw,jc.Va,jc.Da,jc._a,jc.Pa,jc.Aa,jc.ma,jc.Na,jc.qa,jc.ga,Iw.Bv,jc.Oa,Xl.yl,_u.cu,_u.hu,jc.va,jc.da,jc.Ha,{TB:!1,SB:50}),sR=function(){function t(t,n,i){this.Lc=void 0,this.pr=void 0,this.$c=void 0,this.ac=void 0,this.Lc=t,this.pr=i,this.$c=n}var n=t.prototype;return n.oT=function(t){throw new h("Not implemented yet.")},n.EB=function(t,n){var i,e;return vr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,vr.awrap(this.pr.kr(t.dr,n));case 2:return i=r.sent,r.next=5,vr.awrap(i.mc());case 5:return e=r.sent,r.next=8,vr.awrap(this.IB(e));case 8:return r.abrupt("return",e);case 9:case"end":return r.stop()}},null,this,null,j)},n.RB=function(t){return!1},n.DB=function(t){return j.resolve(void 0)},n.Ar=function(){return vr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,vr.awrap(this.IB(void 0));case 2:case"end":return t.stop()}},null,this,null,j)},n.IB=function(t){var n;return vr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n=this.NB(t),i.next=3,vr.awrap(n);case 3:case"end":return i.stop()}},null,this,null,j)},n.NB=function(t){var n;return vr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!(n=this.ac)){i.next=5;break}return i.next=4,vr.awrap(n.wc(this.$c));case 4:this.ac=void 0;case 5:if(!t){i.next=9;break}return i.next=8,vr.awrap(t.lc(this.$c));case 8:this.ac=t;case 9:case"end":return i.stop()}},null,this,null,j)},n.rT=function(t,n,i){throw new h("Not implemented yet.")},ht(t,[{key:"fc",get:function(){return this.Lc}},{key:"gg",get:function(){throw new h("Not implemented yet.")},set:function(t){throw new h("Not implemented yet.")}},{key:"yg",get:function(){return new B_([0,1/0])}},{key:"Mw",get:function(){throw new h("Not implemented yet.")}},{key:"CB",get:function(){throw new h("Not implemented yet")}},{key:"Fw",get:function(){throw new h("Not implemented yet.")}},{key:"OB",get:function(){throw new h("Not implemented yet")}},{key:"AB",get:function(){throw new h("Not implemented yet")}}]),t}();!function(t){t.PB="webkitneedkey",t.xB="webkitkeymessage",t.LB="webkitkeyerror"}(nR||(nR={}));var oR,cR,aR=function(t){function n(n,i){var e;return(e=t.call(this,nR.PB)||this).initData=n,e.sessionId=i,e}return dt(n,t),n}(Su),hR=function(t){function n(n,i){var e;return(e=t.call(this,nR.xB)||this).message=n,e.destinationURL=i,e}return dt(n,t),n}(Su),fR=function(t){function n(){return t.call(this,nR.LB)||this}return dt(n,t),n}(Su),dR=function(t){function n(n,i,e,r,u){var s;return(s=t.call(this)||this).kc=new Ps,s.Bc=void 0,s.Ec=new Au,s.Mc=new Ps,s.BB=function(t){s.Bc?(s.Bc.Au(void 0),s.Bc=void 0):s.Cc("internal-error"),s.$r(new Nu)},s.FB=function(t){s.Bc&&(s.Bc.Ou(void 0),s.Bc=void 0),s.$r(new Du(Nn(s),"license-request",Os(t.message).buffer,t.destinationURL||void 0))},s.Ac=n,s.Ko=i,s.MB=e,s.Wc=r,s.Vc=u,s}dt(n,t);var i=n.prototype;return i.tc=function(t,n,i){var e;return vr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=i&&i.fairplay&&i.fairplay.qc){t.next=3;break}throw new f("Expected FairPlay contentId to be defined but was "+e+".");case 3:return t.next=5,vr.awrap(this.UB(Ns(n),e));case 5:this.Cc("usable"),this.Mc.Ou(),this.Mc=new Ps;case 8:case"end":return t.stop()}},null,this,null,j)},i.nc=function(t){return vr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},null,null,null,j)},i.ec=function(t){var n;return vr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==(n=Ns(t)).byteLength){i.next=3;break}throw new f("Cannot call update with an empty response.");case 3:return this.Bc=new Ps,this.MB.ec(this.Wc,n),i.next=7,vr.awrap(this.Bc.Du);case 7:case"end":return i.stop()}},null,this,null,j)},i.Zo=function(){return vr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,vr.awrap(this.Mc);case 2:return this.MB.Jr(nR.xB,this.FB),this.MB.Jr(nR.LB,this.BB),this.Mc.Mr(),this.kc.Ou(void 0),t.abrupt("return",this.kc.Du);case 7:case"end":return t.stop()}},null,this,null,j)},i.ic=function(){return vr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}},null,null,null,j)},i.UB=function(t,n){var i;return vr.async(function(e){for(;;)switch(e.prev=e.next){case 0:i=Sc(t,n,this.Vc),this.MB.Xr(nR.xB,this.FB),this.MB.Xr(nR.LB,this.BB),this.MB.VB(this.Wc,i);case 4:case"end":return e.stop()}},null,this,null,j)},i.Cc=function(t){this.Ec.mu(),this.Ec.yu(Ou,t),this.$r(new Ru(this))},ht(n,[{key:"cc",get:function(){return this.Wc}},{key:"sc",get:function(){return NaN}},{key:"uc",get:function(){return this.kc.Du}},{key:"oc",get:function(){return this.Ec}}]),n}(ku),vR=function(){function t(t,n,i){this.qB=void 0,this.Wc=void 0,this.Vc=void 0,this.MB=void 0,this.Ko=void 0,this.Lc=void 0,this.Ac=void 0,this.MB=t,this.Ko=n,this.Lc=i;var e=ac(i)||"video/mp4";this.Ac=sc(e)}var i=t.prototype;return i.dc=function(t){var i;return vr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Vc){t.next=2;break}throw new Ec(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return i=new dR(this.Ac,this.Ko,this.MB,this.Wc,this.Vc),this.qB=i,t.abrupt("return",i);case 5:case"end":return t.stop()}},null,this,null,j)},i.vc=function(t){return this.Vc=Ns(t),j.resolve(!0)},i.lc=function(t){return vr.async(function(n){for(;;)switch(n.prev=n.next){case 0:t.webkitSetMediaKeys(this);case 1:case"end":return n.stop()}},null,this,null,j)},i.wc=function(t){return vr.async(function(n){for(;;)switch(n.prev=n.next){case 0:t.webkitSetMediaKeys(null);case 1:case"end":return n.stop()}},null,null,null,j)},i.createSession=function(){throw new h("Whoops.")},ht(t,[{key:"hc",get:function(){return this.Ko}},{key:"fc",get:function(){return this.Lc}},{key:"sessionId",set:function(t){this.Wc=t}}]),t}(),lR=function(){function t(t,n,i){this.HB=t,this.Ko=n,this.Lc=i}var n=t.prototype;return n.pc=function(){return this.Lc},n.mc=function(){return vr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new vR(this.HB,this.Ko,this.Lc));case 1:case"end":return t.stop()}},null,this,null,j)},ht(t,[{key:"hc",get:function(){return this.Ko}}]),t}(),wR=function(){function t(t){this.HB=void 0,this.HB=t}return t.prototype.kr=function(t,n){var i,e,r;return vr.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=0;case 1:if(!(i<n.length)){u.next=9;break}if(e=n[i],!(r=oc(gR,Iu,t,e))){u.next=6;break}return u.abrupt("return",new lR(this.HB,t,r));case 6:i++,u.next=1;break;case 9:throw new f("Unsupported key system configuration for "+t);case 10:case"end":return u.stop()}},null,this,null,j)},t}();function gR(t,n){return t===Ar}!function(t){t.gN="zB"}(oR||(oR={})),function(t){t.WB="jB"}(cR||(cR={}));var yR,mR,pR;cR.WB;!function(t){t[t.$B=0]="$B",t[t.Xa=1]="Xa",t[t.XB=2]="XB"}(yR||(yR={})),function(t){t.GB="YB"}(mR||(mR={})),function(t){t[t.KB=0]="KB",t[t.JB=1]="JB",t[t.QB=2]="QB"}(pR||(pR={}));var bR;St.Nn&&St.Cn,St.Mn,jc.Ra,jc.Ia,jc.Pa,jc.Aa,jc.ma,jc.Na,Iw.Bv,Xl.yl,St.An||St.Pn;!function(t){t.ZB="closed",t.dd="open",t.ma="ended"}(bR||(bR={}));var _R,kR;jc.qa,jc.Na,jc.Pa,jc.Ra,jc.Ia,Iw.Bv,jc.Ra,jc.Ia,jc.Pa,jc.Aa,jc.ma,Xl.yl;!function(t){t[t.ISO_8859_1=0]="ISO_8859_1",t[t.UTF16_BOM=1]="UTF16_BOM",t[t.UTF16=2]="UTF16",t[t.UTF8=3]="UTF8"}(_R||(_R={})),function(t){t[t.V22=2]="V22",t[t.V23=3]="V23",t[t.V24=4]="V24"}(kR||(kR={}));var TR=function(t){function n(n){var i;return(i=t.call(this,0,n.Vg)||this).tF=void 0,i.tF=n,i.Ug=i.tF.Mg,i}return dt(n,t),ht(n,[{key:"hl",get:function(){return this.tF.hl}},{key:"Qg",get:function(){return this.tF.Qg},set:function(t){this.tF.Qg=t}},{key:"Jg",get:function(){return this.tF.Jg},set:function(t){this.tF.Jg=t}}]),n}(iR);function SR(t){return void 0===t.kB&&(t.kB=new TR(t)),t.kB}var ER=function(t){function n(n,i){var e;(e=t.call(this,n.ml,n.vl)||this).nF=void 0,e.iF=void 0,e.eF=void 0,e.hr=Rg.ID3,e.rF=function(t){e.uF(t.Fg)},e.sF=function(t){var n=t.Fg;if(void 0!==n.kB){var i=n.kB;n.kB=void 0,e.bB(i),i.et()}},e.oF=function(t){var n=SR(t.Fg);n.Kg||e.cF(n),e.aF(n)},e.hF=function(t){var n=t.Fg,i=SR(n);e.iF.ow<n.Mg&&e.cF(i)},e.fF=function(){var t=e.eF,n=e.pl;if(e.eF=n,n===$l.kl)e.vB.forEach(function(t){return t.Kg=!1}),uu(e.vB);else if(t===$l.kl)for(var i=e.iF.ow,r=0,u=e.sB;r<u.length;r++){var s=u[r];i<s.Ug&&e.cF(s)}},e.iF=i,e.nF=n,e.eF=n.pl,n.Xr(gl.Sv,e.rF),n.Xr(gl.Iv,e.sF),n.Xr(gl.Dv,e.oF),n.Xr(gl.Cv,e.hF),n.Xr(gl.xv,e.fF);for(var r=0,u=e.nF.Il.Jv;r<u.length;r++){var s=u[r];e.uF(s)}return e}dt(n,t);var i=n.prototype;return i.cF=function(t){var n=SI(this.vB,t);if(!(n>=0)){var i=-(n+1);this.vB.splice(i,0,t),t.Kg=!0,t.$r(new II(t,this.iF.ow)),this.$r(new CI(t)),this.$r(new xI(this))}},i.aF=function(t){var n=SI(this.vB,t);n>=0&&eu(this.vB,n),t.Kg=!1,t.$r(new DI(t,this.iF.ow)),this.$r(new AI(t)),this.$r(new xI(this))},i.et=function(){this.nF.Jr(gl.Sv,this.rF),this.nF.Jr(gl.Iv,this.sF),this.nF.Jr(gl.Dv,this.oF),this.nF.Jr(gl.Cv,this.hF),this.nF.Jr(gl.xv,this.fF),t.prototype.et.call(this)},i.uF=function(t){var n=SR(t);(this.sT(n),this.pl!==$l.kl)&&(this.iF.ow<n.Ug&&this.cF(n))},ht(n,[{key:"dl",get:function(){return this.nF.dl}},{key:"vl",get:function(){return this.nF.vl},set:function(t){this.nF.vl=t}},{key:"ll",get:function(){return this.nF.ll}},{key:"hl",get:function(){return this.nF.hl}},{key:"fl",get:function(){return this.nF.fl}},{key:"ml",get:function(){return this.nF.ml}},{key:"pl",get:function(){return this.nF.pl},set:function(t){this.nF.pl=t}},{key:"El",get:function(){return this.nF.El}},{key:"Dl",get:function(){return this.nF.Dl}}]),n}(eR),IR=function(t){function n(n){var i;return(i=t.call(this)||this).iF=void 0,i.iF=n,i}dt(n,t);var i=n.prototype;return i.Xv=function(n){if(n.hr===Rg.ID3){var i=n;return i.kB||(i.kB=new ER(i,this.iF)),t.prototype.Xv.call(this,i.kB)}return t.prototype.Xv.call(this,n)},i.Gv=function(n){if(n.hr===Rg.ID3){var i=n;return!!i.kB&&t.prototype.Gv.call(this,i.kB)}return t.prototype.Gv.call(this,n)},n}(tw),RR=function(t){function n(n,i){var e;return(e=t.call(this)||this).dF=new kr,e._E=function(t){var n;return vr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if((n=t.Tv).hr){i.next=4;break}return i.next=4,vr.awrap(n.nu(gl.Mv));case 4:if(n.hr===Rg.ID3){i.next=6;break}return i.abrupt("return");case 6:if(0!==n.Il.Qv){i.next=11;break}return i.next=9,vr.awrap(n.nu(gl.Sv));case 9:i.next=6;break;case 11:e.vF(n);case 12:case"end":return i.stop()}},null,null,null,j)},e.kE=function(t){var n=t.Tv;if(n.hr===Rg.ID3&&e.dF.has(n.fl)){var i=e.dF.get(n.fl);e.Gv(i),e.tT.oT(i),n.Jr(gl.Sv,e.uF)}},e.uF=function(t){DR(t.Fg)&&e.lF(t.Fg)},e.tT=n,e.wF=i,e.gF(),e}dt(n,t);var i=n.prototype;return i.gF=function(){this.wF.Xr(dl.gv,this._E),this.wF.Xr(dl.mv,this.kE)},i.yF=function(){this.wF.Jr(dl.gv,this._E),this.wF.Jr(dl.mv,this.kE)},i.vF=function(t){var n=t.Il.Jv[0];if(DR(n)){var i=function(t){var n=t.match(NR);if(!n)return;return{Tv:n[1],ll:n[2]}}(n.Vg.description),e=i.Tv,r=i.ll;if(!this.mF(e,r)){var u=this.tT.rT(lm.Bp,t.hl,e,r,!1,Rg.TTML);this.Xv(u),this.dF.set(t.fl,u);for(var s=0,o=t.Il.Jv;s<o.length;s++){var c=o[s];DR(c)&&this.lF(c)}t.Xr(gl.Sv,this.uF)}}},i.mF=function(t,n){return!!nu(this.Ab.Jv,function(i){return i.vl===t&&i.ll===n})},i.lF=function(t){if(t.Tv)for(var n=this.dF.get(t.Tv.fl),i=rm(t.Vg.text,0,{qm:0,Hm:1/0,zm:-t.Ug}),e=0;e<i.length;e++){var r=i[e];n.sT(r)}},i.Kv=function(){var n,i,e,r,u;return vr.async(function(s){for(;;)switch(s.prev=s.next){case 0:for(n=0,i=this.wF.Jv;n<i.length;n++)i[n].Jr(gl.Sv,this.uF);for(e=0,r=this.Ab.Jv;e<r.length;e++)u=r[e],this.tT.oT(u);return this.dF.clear(),s.next=5,vr.awrap(t.prototype.Kv.call(this));case 5:case"end":return s.stop()}},null,this,null,j)},i.et=function(){return vr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.yF(),n.next=3,vr.awrap(t.prototype.et.call(this));case 3:case"end":return n.stop()}},null,this,null,j)},n}(gm);function DR(t){return function(t){return"TXXX"===t.id||"TXX"===t.id}(n=t.Vg)&&NR.test(n.description);var n}var NR=/^Track:(.+),Lang:(.+)$/;var CR,OR;new(function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).bv=void 0,n}return dt(n,t),ht(n,[{key:"_v",get:function(){return this.bv||(this.bv=KS(this)),this.bv}},{key:"KP",get:function(){}},{key:"JP",get:function(){}},{key:"QP",get:function(){}},{key:"ZP",get:function(){}},{key:"tx",get:function(){}},{key:"nx",get:function(){}},{key:"ix",get:function(){}}]),n}(ku));!function(t){t.pF='"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',t.bF='"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',t._F='"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',t.kF='Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif'}(CR||(CR={})),function(t){t.BLACK="#000000",t.WHITE="#FFFFFF",t.GREEN="#00ff00",t.BLUE="#0000ff",t.CYAN="#00ffff",t.RED="#ff0000",t.YELLOW="#ffff00",t.MAGENTA="#ff00ff",t.TRANSPARENT="transparent"}(OR||(OR={}));var AR,PR;yr({monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:"monospace, sans-serif",monospaceSerif:"monospace, serif",proportionalSansSerif:"Arial",proportionalSerif:"Times New Roman",default:"monospace, sans-serif;"}),yr({lrtb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rltb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;unicode-bidi: bidi-override;",tbrl:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;",tblr:"-webkit-writing-mode: vertical-lr;writing-mode: vertical-lr;-webkit-text-orientation: upright;text-orientation: upright;",lr:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rl:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;",tb:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;"}),OR.WHITE,OR.TRANSPARENT,OR.TRANSPARENT;!function(t){t.TF="Data",t.SF="Tag",t.EF="StartTag",t.IF="StartTagClass",t.RF="StartTagAnnotation",t.DF="CharRefInAnnotation",t.NF="EndTag",t.CF="TimestampTag"}(AR||(AR={})),function(t){t.CL="string",t.OF="starttag",t.AF="endtag",t.PF="timestamp"}(PR||(PR={}));var xR,LR;OR.WHITE,OR.TRANSPARENT;!function(t){t[t.xF=0]="xF",t[t.LF=1]="LF",t[t.BF=2]="BF",t[t.FF=3]="FF",t[t.MF=4]="MF",t[t.UF=5]="UF"}(xR||(xR={})),function(t){t[t.VF=0]="VF",t[t.qF=1]="qF",t[t.HF=2]="HF",t[t.zF=3]="zF"}(LR||(LR={}));var BR,FR;[[42,225],[92,233],[94,237],[95,243],[96,250],[123,231],[124,247],[125,209],[126,241],[127,9608],[128,174],[129,176],[130,189],[131,191],[132,8482],[133,162],[134,163],[135,9834],[136,224],[137,32],[138,232],[139,226],[140,234],[141,238],[142,244],[143,251],[144,193],[145,201],[146,211],[147,218],[148,220],[149,252],[150,8216],[151,161],[152,42],[153,8217],[154,9473],[155,169],[156,8480],[157,8226],[158,8220],[159,8221],[160,192],[161,194],[162,199],[163,200],[164,202],[165,203],[166,235],[167,206],[168,207],[169,239],[170,212],[171,217],[172,249],[173,219],[174,171],[175,187],[176,195],[177,227],[178,205],[179,204],[180,236],[181,210],[182,242],[183,213],[184,245],[185,123],[186,125],[187,92],[188,94],[189,95],[190,124],[191,8764],[192,196],[193,228],[194,214],[195,246],[196,223],[197,165],[198,164],[199,9475],[200,197],[201,229],[202,216],[203,248],[204,9487],[205,9491],[206,9495],[207,9499]].reduce(function(t,n){return t[n[0]]=n[1],t},{});!function(t){t[t.zI=0]="zI",t[t.WF=1]="WF",t[t.jF=2]="jF",t[t.XF=3]="XF",t[t.ei=4]="ei"}(BR||(BR={})),function(t){t.FONT_REGULAR="regular",t.FONT_UNDERLINE="underline",t.FONT_ITALICS="italics",t.FONT_UNDERLINE_ITALICS="underline-italics"}(FR||(FR={}));var MR;OR.WHITE,CR._F,OR.BLACK,FR.FONT_REGULAR,OR.WHITE,FR.FONT_REGULAR,OR.WHITE,FR.FONT_UNDERLINE,OR.GREEN,FR.FONT_REGULAR,OR.GREEN,FR.FONT_UNDERLINE,OR.BLUE,FR.FONT_REGULAR,OR.BLUE,FR.FONT_UNDERLINE,OR.CYAN,FR.FONT_REGULAR,OR.CYAN,FR.FONT_UNDERLINE,OR.RED,FR.FONT_REGULAR,OR.RED,FR.FONT_UNDERLINE,OR.YELLOW,FR.FONT_REGULAR,OR.YELLOW,FR.FONT_UNDERLINE,OR.MAGENTA,FR.FONT_REGULAR,OR.MAGENTA,FR.FONT_UNDERLINE,OR.WHITE,FR.FONT_ITALICS,OR.WHITE,FR.FONT_UNDERLINE_ITALICS,OR.WHITE,FR.FONT_REGULAR,OR.WHITE,FR.FONT_UNDERLINE,OR.WHITE,FR.FONT_REGULAR,OR.WHITE,FR.FONT_UNDERLINE,OR.WHITE,FR.FONT_REGULAR,OR.WHITE,FR.FONT_UNDERLINE,OR.WHITE,FR.FONT_REGULAR,OR.WHITE,FR.FONT_UNDERLINE,OR.WHITE,FR.FONT_REGULAR,OR.WHITE,FR.FONT_UNDERLINE,OR.WHITE,FR.FONT_REGULAR,OR.WHITE,FR.FONT_UNDERLINE,OR.WHITE,FR.FONT_REGULAR,OR.WHITE,FR.FONT_UNDERLINE,OR.WHITE,FR.FONT_REGULAR,OR.WHITE,FR.FONT_UNDERLINE;!function(t){t.GF="HELLO",t.YF="HI_THERE",t.KF="INITIALIZE",t.JF="APPEND_INIT",t.QF="APPEND_DATA",t.ZF="ACK",t.tM="REMOVE",t.nM="DESTROY_SESSION"}(MR||(MR={}));var UR=Wg.Uy,VR=new Wg(-1/0),qR=Wg._m,HR=new(function(t){function n(n,i){return t.call(this,n,i)||this}dt(n,t);var i=n.prototype;return i._y=function(t,n){return t.Iy(n)?Xr.Ir:t.Yg(n)?Xr.Sr:Xr.Er},i.bg=function(t,n){return t.bg(n)},i.Cy=function(t,n){return t.Cy(n)},i.Ey=function(t,n){return t.Ey(n)},i.vR=function(){return UR},i.lR=function(){return qR},i.mR=function(){return VR},n.FR=function(t){for(var i=[],e=0;e<t.length;e++)i.push(new Wg(t.start(e)),new Wg(t.end(e)));return new n(i)},n.iM=function(t){for(var i=[],e=[],r=0;r<t.Qv;r++)i.push(new Wg(t.iR(r))),i.push(new Wg(t.rR(r))),e.push(t.eR(r)),e.push(t.uR(r));return new n(i,e)},n.UR=function(t){return new n([t,t],[!0,!0])},i.fR=function(t,i){return new n(t,i)},i.aR=function(t){return t.pm},n.qR=function(){return HR},n}(L_))([]),zR=(lg.$f,lg.Xf,function(t){function n(n){var i;return(i=t.call(this,jc.da)||this).errorObject=void 0,i.errorObject=n,i}return dt(n,t),ht(n,[{key:"error",get:function(){return this.errorObject.message}},{key:"licenseAcquisitionURL",get:function(){return this.errorObject.url}},{key:"status",get:function(){return this.errorObject.status}},{key:"statusText",get:function(){return this.errorObject.statusText}},{key:"licenseAcquisitionMessage",get:function(){return this.errorObject.response}},{key:"systemCode",get:function(){return this.errorObject.systemCode}}]),n}(Su)),WR=function(t){function n(){return t.call(this,jc.va)||this}return dt(n,t),n}(Su),jR=function(t){function n(n){var i;return(i=t.call(this,"za")||this).eM=n,i}return dt(n,t),n}(Su),$R=new gE,XR=function(t){function i(i,e,r){var u;return(u=t.call(this)||this).uc=void 0,u.rM=!1,u.uM=!1,u.Kd=new ou,u.Yo=function(t){switch(t.uu){case"license-request":u.zT(t.ru,t.su).catch(function(t){return u.Dc(t)});break;default:u.Dc(new hg(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Unsupported CDM message type: "+t.uu))}},u.sM=function(t){u.oM.oc.gu(function(t,n){switch(t){case"usable":st.Re(function(){u.uM=!0,u.$r(new WR)},100);break;case"expired":case"status-pending":break;case"output-restricted":case"internal-error":u.$r(new jR(n))}})},u.cM=function(t){u.Dc(new hg(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Unknown CDM error"))},u.oM=i,u.aM=e,u.hM=r,i.Xr("ru",u.Yo),i.Xr("eu",u.sM),i.Xr("ou",u.cM),u.uc=i.uc.then(function(){return u.fM()}),u}dt(i,t);var e=i.prototype;return e.tc=function(){var t=this;return this.rM=!0,$R.Zx(function(n){return t.dM(n)},this.Kd.qr)},e.dM=function(t){var i,e,r;return vr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,hu(t),u.next=4,vr.awrap(this.aM.BT(t));case 4:return u.next=6,vr.awrap(this.aM.FT(this.hM.wr,this.hM.du,t));case 6:return i=u.sent,u.next=9,vr.awrap(this.oM.tc(this.hM.wr,this.hM.du,i));case 9:u.next=18;break;case 11:throw u.prev=11,u.t0=u.catch(0),fu(u.t0),e=u.t0 instanceof Ms?u.t0.xu:void 0,r=new hg(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while performing the CDM request",u.t0,void 0,void 0,void 0,void 0,e),this.Dc(r),r;case 18:case"end":return u.stop()}},null,this,[[0,11]],j)},e.zT=function(t,i){var e,r;return vr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(u.prev=0,!Ls(t)){u.next=7;break}return u.next=4,vr.awrap(this.aM.JT(new y(t),this.Kd.qr));case 4:e=u.sent,u.next=10;break;case 7:return u.next=9,vr.awrap(this.aM.QT(new y(t),i,this.Kd.qr));case 9:e=u.sent;case 10:u.next=17;break;case 12:if(u.prev=12,u.t0=u.catch(0),!au(u.t0)){u.next=16;break}return u.abrupt("return");case 16:throw u.t0;case 17:return u.prev=17,u.next=20,vr.awrap(this.oM.ec(e));case 20:u.next=26;break;case 22:throw u.prev=22,u.t1=u.catch(17),r=u.t1 instanceof Ms?u.t1.xu:void 0,new hg(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while applying license response",u.t1,void 0,void 0,void 0,void 0,r);case 26:case"end":return u.stop()}},null,this,[[0,12],[17,22]],j)},e.Dc=function(t){var i=t instanceof hg?t:new hg(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.$r(new zR(i)),this.Zo()},e.fM=function(){this.oM.Jr("ru",this.Yo),this.oM.Jr("eu",this.sM),this.oM.Jr("ou",this.cM),this.uM=!1,this.Kd.Mr()},e.Zo=function(){return vr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Kr(),this.fM(),t.next=4,vr.awrap(this.oM.Zo().catch(Bt));case 4:case"end":return t.stop()}},null,this,null,j)},i}(ku),GR=[jc.va,jc.da,jc.Ha],YR=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Ko=void 0,r.ac=void 0,r.vM=void 0,r.lM=[],r.wM=void 0,r.gM=[],r.Ko=n,r.ac=i,r.vM=e,r}dt(n,t);var i=n.prototype;return i.KT=function(){return this.vM.KT()},i.yM=function(t){return this.wM||(this.wM=this.mM(t)),this.wM},i.mM=function(t){var n;return vr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return hu(t),i.next=3,vr.awrap(this.vM.JT(new y(xs()),t));case 3:return n=i.sent,hu(t),i.next=7,vr.awrap(this.ac.vc(n.buffer));case 7:case"end":return i.stop()}},null,this,null,j)},i.VB=function(t){var n,i,e=this;return vr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,this.gM.push(t),r.next=4,vr.awrap(this.ac.dc("temporary"));case 4:return n=r.sent,i=new XR(n,this.vM,t),this.lM.push(i),i.Xr(GR,this.jr),i.uc.then(function(){return e.pM(i)}),r.abrupt("return",i);case 10:return r.prev=10,iu(this.gM,t),r.finish(10);case 13:case"end":return r.stop()}},null,this,[[0,,10,13]],j)},i.bM=function(t){if(t._M)return!1;for(var n=0,i=this.lM;n<i.length;n++){if(KR(i[n].hM,t))return!0}for(var e=0,r=this.gM;e<r.length;e++){if(KR(r[e],t))return!0}return!1},i.pM=function(t){t.Jr(GR,this.jr),iu(this.lM,t)},i.et=function(){var t;return vr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.Kr(),t=this.lM.slice(),uu(this.lM),n.next=5,vr.awrap(j.all(t.map(function(t){return t.Zo()})));case 5:this.vM.Ar();case 6:case"end":return n.stop()}},null,this,null,j)},ht(n,[{key:"hc",get:function(){return this.Ko}}]),n}(ku);function KR(t,n){return!t._M&&t.wr===n.wr&&zu(t.du,n.du)}var JR=function(t){function i(n){var i;return(i=t.call(this)||this).NE=void 0,i.Kd=new ou,i.hL=new gE,i.Lc=void 0,i.vM=void 0,i.CE=void 0,i.Ko=void 0,i.kM=function(t){return vr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,vr.awrap(i.TM(t.wr,t.du,i.Kd.qr));case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),au(n.t0)||i.Dc(n.t0);case 8:case"end":return n.stop()}},null,null,[[0,5]],j)},i.NE=n,i.NE.Xr(_u.cu,i.kM),i}dt(i,t);var e=i.prototype;return e.nc=function(t,n){this.CE=t,this.DB(n)},e.DB=function(t){this.Lc=t,this.SM(this.Kd.qr).catch(du)},e.SM=function(t){return vr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!st.He.ce){n.next=5;break}return n.next=3,vr.awrap(this.EM(t));case 3:if(!n.sent){n.next=5;break}return n.abrupt("return");case 5:if(!this.Lc||!this.Lc.IM){n.next=9;break}return n.next=8,vr.awrap(this.RM(t));case 8:return n.abrupt("return",n.sent);case 9:case"end":return n.stop()}},null,this,null,j)},e.EM=function(t){var n,i,e,r,u,s,o,c,a,h,f;return vr.async(function(d){for(;;)switch(d.prev=d.next){case 0:if(null==(n=this.Lc)?void 0:n.rI){d.next=3;break}return d.abrupt("return",!1);case 3:i=!1,e=0,r=null!=(u=null==(s=this.Lc)?void 0:s.rI)?u:[];case 5:if(!(e<r.length)){d.next=27;break}o=r[e],c=0,a=null!=(h=o.mE)?h:[];case 8:if(!(c<a.length)){d.next=22;break}return f=a[c],d.prev=10,d.next=13,vr.awrap(this.TM(o.hc.wr,f,t));case 13:i=!0,d.next=19;break;case 16:d.prev=16,d.t0=d.catch(10),fu(d.t0);case 19:c++,d.next=8;break;case 22:if(!i){d.next=24;break}return d.abrupt("return",!0);case 24:e++,d.next=5;break;case 27:return d.abrupt("return",!1);case 28:case"end":return d.stop()}},null,this,[[10,16]],j)},e.TM=function(t,i,e){var r,u,s,o,c,a,h,f,d,v;return vr.async(function(l){for(;;)switch(l.prev=l.next){case 0:if(hu(e),i.byteLength){l.next=3;break}return l.abrupt("return");case 3:if(this.Lc&&this.Lc.rI.length){l.next=5;break}throw new hg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_MISSING,"Missing configuration for encrypted content");case 5:if(t===Sr||t===Ir||t===Er){l.next=8;break}return l.abrupt("return");case 8:r=zp(t,i),u=this.Lc.rI,o=0;case 11:if(!(o<u.length)){l.next=42;break}if(c=u[o],hu(e),(a=r[c.hc.gr])&&c.hc.wr===t){l.next=17;break}return l.abrupt("continue",39);case 17:return l.prev=17,l.next=20,vr.awrap(this.DM(c,e));case 20:if(!(h=l.sent).KT()){l.next=24;break}return l.next=24,vr.awrap(h.yM());case 24:if(f=this.NE.og,d={wr:c.hc.wr,du:a,_M:f},!this.NM(h,d)){l.next=32;break}return l.next=29,vr.awrap(h.VB(d));case 29:return v=l.sent,l.next=32,vr.awrap(v.tc());case 32:return l.abrupt("return");case 35:l.prev=35,l.t0=l.catch(17),fu(l.t0),s=l.t0;case 39:o++,l.next=11;break;case 42:return l.next=44,vr.awrap(st.Oe());case 44:if(!l.sent){l.next=48;break}throw new hg(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported",s);case 48:throw new hg(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Cannot create content decryption session",s);case 49:case"end":return l.stop()}},null,this,[[17,35]],j)},e.RM=function(t){var n,i,e,r,u;return vr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(i=null==(n=this.Lc)?void 0:n.rI){s.next=3;break}return s.abrupt("return");case 3:e=0;case 4:if(!(e<i.length)){s.next=23;break}return r=i[e],hu(t),s.prev=7,s.next=10,vr.awrap(this.DM(r,t));case 10:if(!(u=s.sent).KT()){s.next=14;break}return s.next=14,vr.awrap(u.yM());case 14:return s.abrupt("return");case 17:s.prev=17,s.t0=s.catch(7),fu(s.t0);case 20:e++,s.next=4;break;case 23:case"end":return s.stop()}},null,this,[[7,17]],j)},e.NM=function(t,n){return st.He.oe||!t.bM(n)},e.DM=function(t,n){var i=this;return this.hL.Zx(function(n){return i.CM(t,n)},n)},e.CM=function(t,n){var i,e,r,u,s;return vr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(hu(n),this.Lc&&this.vM&&this.CE){o.next=3;break}throw new h("Not initialized");case 3:if(!this.Ko){o.next=7;break}if(this.Ko.hc===t.hc){o.next=6;break}throw new h("Internal key system error");case 6:return o.abrupt("return",this.Ko);case 7:return i=this.vM,e=lr({},t,{yI:t.yI.map(function(n){var e;return lr({},n,{persistentState:null!=(e=n.persistentState)?e:i.mS(t.hc),bc:n.bc||i.bc(t.hc)})})}),o.next=11,vr.awrap(this.CE.EB(e.hc,e.yI));case 11:return r=o.sent,u=i.yE(e),(s=new YR(e.hc,r,u)).Xr([jc.va,jc.da,jc.Ha],this.jr),this.Ko=s,o.abrupt("return",s);case 17:case"end":return o.stop()}},null,this,null,j)},e.Dc=function(t){var i=t instanceof hg?t:new hg(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.$r(new zR(i))},e.Kv=function(){return vr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.CE=void 0,this.Lc=void 0,this.Kd.Mr(),this.Kd=new ou,t.next=6,vr.awrap(this.OM());case 6:case"end":return t.stop()}},null,this,null,j)},e.OM=function(){var t;return vr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,vr.awrap(this.hL.Mr());case 2:if(!(t=this.Ko)){n.next=8;break}return t.Jr(jc.Ha,this.jr),this.Ko=void 0,n.next=8,vr.awrap(t.et());case 8:case"end":return n.stop()}},null,this,null,j)},e.Ar=function(){return vr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Kr(),this.NE.Jr(_u.cu,this.kM),t.next=4,vr.awrap(this.Kv());case 4:return t.next=6,vr.awrap(this.hL.et());case 6:case"end":return t.stop()}},null,this,null,j)},ht(i,[{key:"AM",get:function(){var t;return null==(t=this.Ko)?void 0:t.hc}},{key:"nI",get:function(){return this.vM},set:function(t){this.vM=t}}]),i}(ku);St.An||St.Pn,St.Jn,St.Mn;var QR=function(t){function n(){return t.apply(this,arguments)||this}return dt(n,t),n.prototype.NM=function(t,n){return!0},n}(JR),ZR=function(t){function n(n,i,e){var r;return void 0===e&&(e=new wR(i)),(r=t.call(this)||this).CE=void 0,r.pr=void 0,r.PM=void 0,r.xM=new gE,r.LM=void 0,r.HB=void 0,r.BM=!1,r.Wc=void 0,r.Uc=null,r.FM={cg:0,ag:0,hg:0,fg:0,dg:0,vg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},r.MM=function(t){"boolean"==typeof t.detail.casting&&(r.BM=t.detail.casting,r.$r(new Ag(r.BM)))},r.UM=function(t){r.Wc=t.sessionId,r.Uc&&(r.Uc.sessionId=r.Wc);var n=t.initData;if(n){var i=function(t){try{var n=Is(t),i=new As;return ps(bs(rs(n,i,cs(n,i,!0)),!0))}catch(t){return}}(n);if(!i)return;r.$r(new Cu(Ir,i))}else r.$r(new Cu(Ir,new ArrayBuffer(0)))},r.LM=n,r.HB=i,r.HB.Xr(nR.PB,r.UM),r.pr=e,r.PM=new QR(Nn(r)),r.VM(),r}dt(n,t);var i=n.prototype;return i.qM=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.hr===xm.aT)return i}},i.Ar=function(){return vr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,vr.awrap(this.Kv());case 2:return this.Kr(),this.HM(),this.HB.Jr(nR.PB,this.UM),t.next=7,vr.awrap(this.PM.Ar());case 7:case"end":return t.stop()}},null,this,null,j)},i.Yw=function(){throw new h("Not implemented yet")},i.rT=function(t,n,i,e,r,u,s,o){throw new h("Not implemented yet")},i.aI=function(){return!1},i.fI=function(t,n,i,e){throw new h("Not implemented yet")},i.oT=function(t){throw new h("Not implemented yet")},i.lI=function(){throw new h("Not implemented yet")},i.nc=function(t){var n=this;return vr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",this.xM.Zx(function(i){var e;return vr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(t.hr!==xm.aT){r.next=8;break}return hu(i),e=new sR(t,n,n.pr),n.CE=e,n.PM.nc(e,t),r.abrupt("return",e);case 8:throw new h("Could not create non-static media source");case 9:case"end":return r.stop()}},null,null,null,j)}));case 1:case"end":return i.stop()}},null,this,null,j)},i.K=function(){throw new h("Not implemented yet")},i.Y=function(){throw new h("Not implemented yet")},i.Kv=function(){var t=this;return this.xM.Mr(),this.xM.Zx(function(){return vr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0===t.CE){n.next=4;break}return n.next=3,vr.awrap(t.CE.Ar());case 3:t.CE=void 0;case 4:return n.next=6,vr.awrap(t.PM.Kv());case 6:case"end":return n.stop()}},null,null,null,j)})},i.ku=function(t,n){throw new h("Not implemented yet")},i.bI=function(t){throw new h("Not implemented yet")},i.Gw=function(){throw new h("Not implemented yet")},i._I=function(){return this.FM},i.VM=function(){this.LM.addEventListener("airPlayIsCasting",this.MM)},i.HM=function(){this.LM.removeEventListener("airPlayIsCasting",this.MM)},i.webkitSetMediaKeys=function(t){this.Uc=t||null,this.Uc&&(this.Uc.sessionId=this.Wc)},i.zM=function(){},i.WM=function(){throw new h("Not implemented yet")},i.jM=function(){throw new h("Not implemented yet")},ht(n,[{key:"ug",get:function(){throw new h("Not implemented yet")}},{key:"rg",get:function(){throw new h("Not implemented yet")}},{key:"ow",get:function(){throw new h("Not implemented yet")}},{key:"Px",get:function(){throw new h("Not implemented yet")}},{key:"cw",get:function(){throw new h("Not implemented yet")}},{key:"aw",get:function(){throw new h("Not implemented yet")}},{key:"ou",get:function(){throw new h("Not implemented yet")}},{key:"Gb",get:function(){throw new h("Not implemented yet")}},{key:"og",get:function(){return this.BM}},{key:"fw",get:function(){throw new h("Not implemented yet")}},{key:"dw",get:function(){throw new h("Not implemented yet")}},{key:"vw",get:function(){throw new h("Not implemented yet")}},{key:"wg",get:function(){throw new h("Not implemented yet")}},{key:"El",get:function(){throw new h("Not implemented yet")}},{key:"yg",get:function(){throw new h("Not implemented yet")}},{key:"lw",get:function(){throw new h("Not implemented yet")}},{key:"$M",get:function(){throw new h("Not implemented yet")}},{key:"yw",get:function(){throw new h("Not implemented yet")},set:function(t){throw new h("Not implemented yet")}},{key:"ay",get:function(){throw new h("Not implemented yet")}},{key:"vI",get:function(){throw new h("Not implemented yet")}},{key:"webkitKeys",get:function(){return this.Uc}},{key:"XM",get:function(){return uR}},{key:"Mw",get:function(){throw new h("Not implemented yet")}},{key:"Lx",get:function(){throw new h("Not implemented yet")}},{key:"kI",get:function(){throw new h("Not implemented yet")}},{key:"GM",get:function(){return!0}},{key:"nI",get:function(){return this.PM.nI},set:function(t){this.PM.nI=t}},{key:"AM",get:function(){return this.PM.AM}}]),n}(nw),tD=function(t){function n(n){var i;return(i=t.call(this,jc.Wa)||this).FM=n,i}return dt(n,t),n}(Su);var nD=function(t){function n(n){return t.call(this,Ng.Vv,n)||this}return dt(n,t),n.prototype.kv=function(){return new iD(this.Fg._v)},n}(Pg),iD=function(t){function n(n){return t.call(this,Cg.Vv,n)||this}return dt(n,t),n}(xg),eD=function(t){function n(n,i){var e,r=rD(i,n.cw,n.kI,n.YM);return(e=t.call(this,i,r,void 0,!1,n.hl)||this).KM=void 0,e.JM=void 0,e.QM=void 0,e.Cs=void 0,e.ZM=void 0,e.tU=void 0,e.nU=void 0,e.iU=void 0,e.eU=void 0,e.rU=void 0,e.KM=n.uU,e.JM=n.kI,e.QM=n.YM,e.Cs=n.cw,e.ZM=n.sU,e.tU=Boolean(n.oU),e.nU=n.cU||{},e.iU=n.aU,e.eU=n.hU,e.rU=n.fU,e.dU(),e.vU(),e}dt(n,t);var i=n.prototype;return i.ec=function(t){var n=!1;void 0===this.KM&&void 0!==t.uU&&(n=!0,this.KM=t.uU),void 0===this.QM&&void 0!==t.YM&&(n=!0,this.QM=t.YM),void 0===this.Cs&&void 0!==t.cw&&(n=!0,this.Cs=t.cw),void 0===this.ZM&&void 0!==t.sU&&(n=!0,this.ZM=t.sU),!this.tU&&t.oU&&(n=!0,this.tU=t.oU),n=this.updateCustomAttributes(t,n),void 0===this.iU&&void 0!==t.aU&&(n=!0,this.iU=t.aU),void 0===this.eU&&void 0!==t.hU&&(n=!0,this.eU=t.hU),void 0===this.rU&&void 0!==t.fU&&(n=!0,this.rU=t.fU),this.dU(),this.vU(),this.lU(),n&&this.$r(new nD(this))},i.updateCustomAttributes=function(t,n){var i=n;if(t.cU)for(var e=0,r=d.keys(t.cU);e<r.length;e++){var u=r[e];void 0===this.nU[u]&&(i=!0,this.nU[u]=t.cU[u])}return i},i.dU=function(){this.Cs&&!this.QM&&(this.QM=new Date(this.JM.getTime()+1e3*this.Cs))},i.vU=function(){this.QM&&!this.Cs&&(this.Cs=In(this.QM.getTime()-this.JM.getTime()))},i.lU=function(){this.Hg===1/0&&(this.QM||this.Cs)&&(this.Hg=rD(this.qg,this.Cs,this.JM,this.QM))},ht(n,[{key:"_v",get:function(){var t;return this.bv||(this.bv=Nl(Lg(t=this),{get content(){return t.Vg},get class(){return t.uU},get startDate(){return t.kI},get endDate(){return t.YM},get duration(){return t.cw},get plannedDuration(){return t.sU},get endOnNext(){return t.oU},get scte35Cmd(){return t.aU},get scte35Out(){return t.hU},get scte35In(){return t.fU},get customAttributes(){return t.cU}})),this.bv}},{key:"uU",get:function(){return this.KM}},{key:"kI",get:function(){return this.JM}},{key:"YM",get:function(){return this.QM}},{key:"cw",get:function(){return this.Cs}},{key:"sU",get:function(){return this.ZM}},{key:"oU",get:function(){return this.tU}},{key:"aU",get:function(){return this.iU}},{key:"hU",get:function(){return this.eU}},{key:"fU",get:function(){return this.rU}},{key:"cU",get:function(){return this.nU}}]),n}(Mg);function rD(t,n,i,e){return Rt(n)?t+n:e?t+(In(e.getTime())-In(i.getTime())):1/0}var uD,sD=function(t){function n(){return t.call(this,void 0,void 0,Rg.DATE_RANGE)||this}dt(n,t);var i=n.prototype;return i.ec=function(t,n){for(var i=this,e=function(t){for(var n=gr(),i=[],e=0;e<t.length;e++){var r=t[e];if(n.has(r.hl)){var u=n.get(r.hl),s=lr({},u,Pl(r),{cU:lr({},u.cU,r.cU)});n.set(r.hl,s)}else n.set(r.hl,r),i.push(r.hl)}return i.map(function(t){return n.get(t)})}(t),r=this.Il.Jv,u=function(t){var n=r[t],u=nu(e,function(t){return t.hl===n.hl});u?n.ec(u):i.bB(n)},s=r.length-1;s>=0;s--)u(s);for(var o=0;o<e.length;o++){var c=e[o],a=c.kI;if(void 0!==a&&!this.mB(c.hl)){var h=n(a);this.sT(new eD(c,h))}}},i.sT=function(n){this.wU(n),t.prototype.sT.call(this,n)},i.wU=function(t){var n=this.sB.filter(function(n){return n.uU===t.uU}).pop();n&&n.oU&&n.ec({hl:n.hl,YM:t.kI})},n}(eR);function oD(t){switch(t.type){case uD.CL:return t.value;case uD.NL:return Ll(t.value);case uD.DL:return Mu(t.value);default:return}}function cD(t){return function(t){return void 0!==t.name&&void 0!==t.message}(t)&&void 0!==t.timestamp&&void 0!==t.code}!function(t){t.CL="daterange-ca-type_string",t.NL="daterange-ca-type_number",t.DL="daterange-ca-type_arraybuffer"}(uD||(uD={}));var aD,hD,fD,dD=function(t){function n(n,i,e,r,u){var s;return(s=t.call(this,r,i,e)||this).XS=void 0,s.gU=void 0,s.XS=n,s.gU=u,s}return dt(n,t),ht(n,[{key:"name",get:function(){return this.XS}},{key:"timestamp",get:function(){return this.gU}}]),n}(Ec),vD=function(t){function n(n,i,e,r,u,s,o,c){var a;return(a=t.call(this,n,i,e,r,c)||this).url=void 0,a.status=void 0,a.errorComment=void 0,a.url=u,a.status=s,a.errorComment=o,a}return dt(n,t),n}(dD),lD=function(){function t(t,n){this.Aw=void 0,this.yU=void 0,this.Aw=new wm,this.yU=new FI(t,n)}var n=t.prototype;return n.rT=function(t,n,i,e,r,u,s){var o=new ZI(t,n,i,e,r,u,s);return this.Aw.Xv(o),this.yU.Xv(o),o},n.oT=function(t){this.Aw.Gv(t),this.yU.Gv(t),t.et()},n.Kv=function(){for(var t=0,n=this.Aw.Jv.slice();t<n.length;t++){n[t].et()}this.Aw.Kv(),this.yU.Kv()},n.et=function(){this.Kv(),this.Aw.et(),this.yU.et()},ht(t,[{key:"Mw",get:function(){return this.Aw}}]),t}(),wD=function(t){function n(n,i,e,r,u){var s;(s=t.call(this)||this).$R=0,s.mU=!1,s.OE=void 0,s.AE=void 0,s.pU=void 0,s.GR=!0,s.YR=1,s.Cw=void 0,s.Ow=void 0,s.bU=void 0,s._U=void 0,s.kU=void 0,s.Aw=void 0,s.tT=void 0,s.Cs=void 0,s.TU=B_.qR(),s.SU=B_.qR(),s.XR=!1,s.EU=B_.qR(),s.KR=void 0,s.IU=void 0,s.RU=void 0,s.hB=fw.Kl,s.fT=fw.Kl,s.LM=void 0,s.yU=void 0,s.LE=void 0,s.nB=void 0,s.DU=void 0,s.tD=void 0,s.NE=void 0,s.BE=void 0,s.HB=void 0,s.FM={cg:0,ag:0,hg:0,fg:0,dg:0,vg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},s.CE=void 0,s.NU=void 0,s.ME=new y_,s.setCurrentTime=function(t){return vr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(s.yg.length){n.next=4;break}return s.$R=t,n.next=4,vr.awrap(s.LM.nu("seekablechange"));case 4:s.$R=s.updateCurrentTime(t),s.nB.rB("THEOplayerSetCurrentTime",s.$R),s.KR=!0,s.$r(new Uw(s.$R));case 8:case"end":return n.stop()}},null,null,null,j)},s.CU=function(t){if(t.detail){for(var n=t.detail.buffered,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}s.TU=new B_(i),s.$r(new HI(s.ow))}},s.OU=function(t){s.hB=t.detail.readyState,s.$r(new Hw(+t.detail.currentTime,s.El)),s.AU()},s.PU=function(t){s.hB=t.detail.readyState,s.$r(new zw(+t.detail.currentTime,s.El)),s.AU()},s.xU=function(t){if(t.detail){var n=+t.detail.duration;s.Cs=n,s.$r(new xw(s.cw))}},s.LU=function(t){t.detail&&(s.mU=!0,s.$r(new Fw(+t.detail.currentTime)))},s.UE=function(t){if(t.detail&&t.detail.error&&t.detail.errorObject){var n,i=JSON.parse(t.detail.errorObject);cD(n=i)&&void 0!==n.url&&void 0!==n.status&&void 0!==n.errorComment?(s.AE=new vD(i.name,i.message,void 0,i.code,i.url,i.status,i.errorComment,i.timestamp),s.OE=vg(s.AE),s.$r(new jw(s.AE))):cD(i)&&(s.AE=new dD(i.name,i.message,void 0,i.code,i.timestamp),s.OE=vg(s.AE),s.$r(new jw(s.AE)))}},s.BU=function(t){s.$r(new qI)},s.FU=function(t){s.hB=t.detail.readyState,s.$r(new Mw(+t.detail.currentTime,s.El)),s.AU()},s.MU=function(t){return vr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(s.yg.length){n.next=3;break}return n.next=3,vr.awrap(s.LM.nu("seekablechange"));case 3:s.hB=t.detail.readyState,s.$r(new Pw(+t.detail.currentTime,s.El)),s.AU();case 6:case"end":return n.stop()}},null,null,null,j)},s.UU=function(t){t.detail&&s.GR&&(s.GR=!1,s.$r(new Nw(+t.detail.currentTime)))},s.VU=function(t){t.detail&&(s.GR||(s.GR=!0,s.$r(new Dw(+t.detail.currentTime))))},s.qU=function(t){if(t.detail){for(var n=t.detail.played,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}s.EU=new B_(i)}},s.HU=function(t){t.detail&&s.$r(new Xm(+t.detail.currentTime))},s.zU=function(t){t.detail&&(s.YR=t.detail.playbackRate,s.$r(new Lw(+t.detail.currentTime,s.YR)))},s.WU=function(t){if(t.detail){for(var n=t.detail.seekable,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}s.SU=new B_(i)}},s.jU=function(t){t.detail&&(s.$R=+t.detail.currentTime,s.KR=!1,s.$r(new Bw(s.$R,s.pU)),s.$r(new Vw(s.$R)))},s.$U=function(t){if(t.detail){var n=Number(t.detail.currentTime);n<s.Cs&&(s.mU=!1),s.KR=!0,s.$r(new Uw(n))}},s.XU=function(t){t.detail&&(t.detail.currentDate&&(s.pU=new Date(1e3*t.detail.currentDate)),s.$R=+t.detail.currentTime,s.$r(new Bw(s.$R,s.pU)))},s.GU=function(t){s.IU=t.detail.height,s.RU=t.detail.width},s.YU=function(t){t.detail&&s.$r(new $m(+t.detail.currentTime))},s.KU=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,enabled:t.detail.enabled};s.Bw.Xv(new Sg(n))},s.JU=function(t){for(var n,i,e=t.detail.lang,r=t.detail.label,u=0;u<s.Cw.Qv;u++){var o=s.Bw.$v(u);o.ll==e&&o.vl==r?i=s.Cw.$v(u):1==o.al&&(n=s.Cw.$v(u))}i&&n&&(i.al=!0,n.al=!1)},s.QU=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,selected:t.detail.selected};s.Fw.Xv(new Og(n))},s.ZU=function(t){var n,i=t.detail.kind,e=t.detail.type;i===lm.Mp&&e===Rg.ID3?(n=new rR("",t.detail.label)).pl=$l._l:i===lm.Mp&&e===Rg.DATE_RANGE?(n=new sD,s.NU=n):n=new ZI(i,void 0,t.detail.label,t.detail.lang,t.detail.isDefault,e),s.bU.Xv(n),s.yU.Xv(n)},s.tV=function(t){for(var n=0,i=t.detail;n<i.length;n++){var e=i[n],r=e.Id3FrameId,u={id:r,text:e.Id3FrameText};"TXXX"!==r&&"TXX"!==r||(u.description=e.Id3FrameDescription);var o=new iR(Ll(e.startTime),u,e.uid),c=s.nV();c&&c.sT(o)}},s.iV=function(t){for(var n=0,i=t.detail;n<i.length;n++){var e,r=i[n],u=new Ug(Ll(r.startTime),Ll(r.endTime),r.content,!1),o=null!=(e=s.eV(lm.Bp))?e:s.eV(lm.Gk);o&&(o.hr=Rg.WEBVTT,o.sT(u))}},s.rV=function(t){t.type===jc.da&&(s.OE=vg(t.errorObject)),s.jr(t)},s.uV=function(t){t.detail&&(s.FM.ag=t.detail.corruptedVideoFrames,s.FM.cg=t.detail.droppedVideoFrames,s.$r(new tD(s.Sw)))},s.sV=function(t){var n=function(t){var n=t.detail,i=[];return n.forEach(function(t){var n={hl:t.id};if(void 0!==t.startDate&&(n.kI=new Date(t.startDate)),void 0!==t.endDate&&(n.YM=new Date(t.endDate)),void 0!==t.customAttributes){var e={};for(var r in t.customAttributes){var u=oD(t.customAttributes[r]);void 0!==u&&(e[r]=u)}n.cU=e}void 0!==t.scte35Cmd&&(n.aU=Mu(t.scte35Cmd)),void 0!==t.scte35In&&(n.fU=Mu(t.scte35In)),void 0!==t.scte35Out&&(n.hU=Mu(t.scte35Out)),void 0!==t.startTime&&(n.Mg=t.startTime),n.uU=t.class,n.cw=Ll(t.duration),n.sU=Ll(t.plannedDuration),i.push(n)}),i}(t);n.forEach(function(t){var i=null!=t.Mg?t.Mg:(new Date).getTime(),e=new eD(t,i);s.NU.sT(e),s.NU.ec(n,i)})};var o=r.uid;s.nB=s.getSdkBridge(o),s.LM=new _I,fI()[o].sdkEventBus=s.LM,s.Cw=new wg,s.Ow=new wg;var c=s.oV(e);return s.tT=new lD(Nn(s),new MI),s.yU=new VI(Nn(s)),s.LE=new Dm(s.tT,c),s.bU=new wm,s._U=new IR(Nn(s)),s._U.sl=s.bU,s.kU=new RR(s.tT,s._U),s.Aw=new b_([s.bU,s.LE.Ab,s.kU.Ab]),s.HB=s.getFairPlayControllerBridge(s.nB),s.NE=new ZR(s.LM,s.HB),s.BE=new m_(c),s.NE.nI=s.BE,s.observeMediaElement(),s.eI(),s.tD=new zI(s.nB,u),s.tD.Xr("fA",function(){s.nB.rB("THEOplayerSetPreferredForwardBufferDuration",s.tD.hA)}),s}dt(n,t);var i=n.prototype;return i.Jw=function(){return U_},i.Gw=function(){this.nB.rB("THEOplayerShow",{})},i.Yw=function(){this.nB.rB("THEOplayerHide",{})},i.cV=function(){var t=this;this.nB.rB("THEOplayerSetInitialPreferredPeakBitRate",this.tD.kA);this.Xr("playing",function n(){t.nB.rB("THEOplayerSetInitialPreferredPeakBitRate",0),t.Jr("playing",n)})},i.Hw=function(t,n){var i,e,r;return vr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return this.DU=t,i=lr({},n,{sources:{src:t.src,type:cw.zl,contentProtection:t.contentProtection,ssai:t.ssai,crossOrigin:t.crossOrigin,hlsDateRange:t.hlsDateRange,isAdvertisement:t.isAdvertisement}}),this.nB.rB("THEOplayerSourceChange",i),e={hr:xm.aT,Dl:t.src,vf:t.type,rI:this.uI(t),sI:t.crossOrigin,oI:n.metadata&&n.metadata.title},this.BE.gE(t.contentProtection),u.next=7,vr.awrap(this.NE.nc(e));case 7:this.CE=u.sent,n.textTracks&&(r=n.textTracks.filter(function(t){return t.format!==Rg.WEBVTT})).length>0&&this.cI(r),Pm(this.Mw),this.cV();case 11:case"end":return u.stop()}},null,this,null,j)},i.uI=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{hc:Lr,yI:[{initDataTypes:[Lr.wr],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},i.Y=function(){this.GR=!1,this.$r(new Nw(this.ow)),this.nB.rB("THEOplayerPlay",{})},i.K=function(){this.GR=!0,this.$r(new Dw(this.ow)),this.nB.rB("THEOplayerPause",{})},i.Kw=function(){},i.Kv=function(){return vr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.$R=0,this.mU=!1,this.OE=void 0,this.AE=void 0,this.GR=!0,this.YR=1,this.Cs=void 0,this.SU=B_.qR(),this.TU=B_.qR(),this.IU=void 0,this.RU=void 0,this.hB=fw.Kl,this.fT=fw.Kl,this.Cw.Kv(),this.Ow.Kv(),this.bU.Kv(),this.Aw.Kv(),t.next=19,vr.awrap(this.kU.Kv());case 19:return this._U.Kv(),t.next=22,vr.awrap(this.LE.Kv());case 22:return this.tT.Kv(),this.yU.Kv(),this.DU=void 0,t.next=27,vr.awrap(this.NE.Kv());case 27:case"end":return t.stop()}},null,this,null,j)},i.Ww=function(){this.nB.rB("THEOplayerShowAirPlayPicker",{})},i.jw=function(){this.nB.rB("THEOplayerStopAirPlayPicker",{})},i.updateMetrics=function(t){this.Sw.ag=t.ag,this.Sw.cg=t.cg},i.et=function(){return vr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,vr.awrap(this.Kv());case 2:return this.Kr(),this.unobserveMediaElement(),this.gI(),this.NE.nI=void 0,t.next=8,vr.awrap(this.NE.Ar());case 8:return this.Cw.et(),this.Ow.et(),this.bU.et(),this.Aw.et(),this._U.et(),t.next=15,vr.awrap(this.kU.et());case 15:return t.next=17,vr.awrap(this.LE.et());case 17:this.tT.et(),this.yU.et();case 19:case"end":return t.stop()}},null,this,null,j)},i.cI=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.LE.eT(i)}},i.AU=function(){var t=this.fT,n=this.hB;t!==n&&(this.fT=n,this.$r(new Ww(this.ow,n)))},i.observeMediaElement=function(){this.NE.Xr(jc.ca,this.jr),this.NE.Xr([jc.va,jc.da],this.rV),this.LM.addEventListener("play",this.UU),this.LM.addEventListener("pause",this.VU),this.LM.addEventListener("seeking",this.$U),this.LM.addEventListener("seeked",this.jU),this.LM.addEventListener("ratechange",this.zU),this.LM.addEventListener("durationchange",this.xU),this.LM.addEventListener("timeupdate",this.XU),this.LM.addEventListener("waiting",this.YU),this.LM.addEventListener("playing",this.HU),this.LM.addEventListener("ended",this.LU),this.LM.addEventListener("loadedmetadata",this.MU),this.LM.addEventListener("loadeddata",this.FU),this.LM.addEventListener("loadstart",this.BU),this.LM.addEventListener("canplay",this.OU),this.LM.addEventListener("canplaythrough",this.PU),this.LM.addEventListener("error",this.UE),this.LM.addEventListener("seekablechange",this.WU),this.LM.addEventListener("videosizechange",this.GU),this.LM.addEventListener("bufferedchange",this.CU),this.LM.addEventListener("playedchange",this.qU),this.LM.addEventListener("metricschange",this.uV),this.LM.addEventListener("addDateRangeCues",this.sV)},i.unobserveMediaElement=function(){this.NE.Jr(jc.ca,this.jr),this.NE.Jr([jc.va,jc.da],this.rV),this.LM.removeEventListener("play",this.UU),this.LM.removeEventListener("pause",this.VU),this.LM.removeEventListener("seeking",this.$U),this.LM.removeEventListener("seeked",this.jU),this.LM.removeEventListener("ratechange",this.zU),this.LM.removeEventListener("durationchange",this.xU),this.LM.removeEventListener("timeupdate",this.XU),this.LM.removeEventListener("waiting",this.YU),this.LM.removeEventListener("playing",this.HU),this.LM.removeEventListener("ended",this.LU),this.LM.removeEventListener("loadedmetadata",this.MU),this.LM.removeEventListener("loadeddata",this.FU),this.LM.removeEventListener("loadstart",this.BU),this.LM.removeEventListener("canplay",this.OU),this.LM.removeEventListener("canplaythrough",this.PU),this.LM.removeEventListener("error",this.UE),this.LM.removeEventListener("seekablechange",this.WU),this.LM.removeEventListener("videosizechange",this.GU),this.LM.removeEventListener("bufferedchange",this.CU),this.LM.removeEventListener("playedchange",this.qU),this.LM.removeEventListener("metricschange",this.uV),this.LM.removeEventListener("addDateRangeCues",this.sV)},i.updateCurrentTime=function(t){var n=this.yg.start(0),i=this.yg.end(0);return v.min(v.max(t,n),i)},i.nV=function(){for(var t=0,n=this.Aw.Jv;t<n.length;t++){var i=n[t];if(i.dl===lm.Mp&&i.hr===Rg.ID3)return i}},i.eV=function(t){for(var n=0,i=this.Aw.Jv;n<i.length;n++){var e=i[n],r=e.pl===$l.bl,u=e.dl===t;if(r&&u)return e}},i.eI=function(){this.LM.addEventListener("addaudiotrack",this.KU),this.LM.addEventListener("enableaudiotrack",this.JU),this.LM.addEventListener("addvideotrack",this.QU),this.LM.addEventListener("addtexttrack",this.ZU),this.LM.addEventListener("addtexttrackid3cues",this.tV),this.LM.addEventListener("addtexttrackcues",this.iV)},i.gI=function(){this.LM.removeEventListener("addaudiotrack",this.KU),this.LM.removeEventListener("enableaudiotrack",this.JU),this.LM.removeEventListener("addvideotrack",this.QU),this.LM.removeEventListener("addtexttrack",this.ZU),this.LM.removeEventListener("addtexttrackid3cues",this.tV),this.LM.removeEventListener("addtexttrackcues",this.iV)},i.eg=function(){},ht(n,[{key:"Bw",get:function(){return this.Cw}},{key:"rg",get:function(){return this.TU.pI()}},{key:"ug",get:function(){return this.pU?this.pU:null},set:function(t){this.nB.rB("THEOplayerSetCurrentProgramDateTime",t.getTime()),this.pU=t}},{key:"ow",get:function(){return this.$R},set:function(t){this.setCurrentTime(t)}},{key:"cw",get:function(){return this.Cs}},{key:"aw",get:function(){return this.mU}},{key:"ou",get:function(){return this.OE}},{key:"hw",get:function(){return this.AE}},{key:"Uw",get:function(){}},{key:"og",get:function(){return this.NE.og}},{key:"Sw",get:function(){return this.FM}},{key:"fw",get:function(){return this.XR},set:function(t){this.XR!==t&&(this.nB.rB("THEOplayerSetMuted",t),this.XR=t,this.$r(new qw(this.ow,t?0:1)))}},{key:"dw",get:function(){return this.GR}},{key:"vw",get:function(){return this.YR},set:function(t){this.nB.rB("THEOplayerSetPlaybackRate",t),this.YR=t}},{key:"wg",get:function(){return this.EU.pI()}},{key:"gg",get:function(){return D_.zI},set:function(t){}},{key:"El",get:function(){return this.hB}},{key:"yg",get:function(){return this.SU.pI()}},{key:"lw",get:function(){return this.KR}},{key:"kI",get:function(){}},{key:"Mw",get:function(){return this.Aw}},{key:"ww",get:function(){return this.IU}},{key:"gw",get:function(){return this.RU}},{key:"yw",get:function(){return 1},set:function(t){}},{key:"Fw",get:function(){return this.Ow}},{key:"TI",get:function(){return this.ME}},{key:"mg",get:function(){return!1},set:function(t){}},{key:"lg",get:function(){return!0}}]),n}(nw),gD=function(){function t(){this.SI=f_.aE}var n=t.prototype;return n.EI=function(n,i){if(n.isAdvertisement)return!1;if(i.vr&&i.vr[360]&&!i.vr.nativeVR)return!1;if((e=n.type)&&Ur(e.toLowerCase(),cw.Hl))return!1;var e,r=n.contentProtection;if(r&&!Op(r)){if(!xp(r))return!1;if(!t.aV(r))return!1}return!0},t.aV=function(t){return Boolean(t.fairplay)||Boolean(t.aes128)},n.II=function(){return!1},t}(),yD=function(){function n(t){this.playerID=t}return n.prototype.rB=function(n,i){if(t.THEOplayerBridge[this.playerID].postMessageToSwift&&"function"==typeof t.THEOplayerBridge[this.playerID].postMessageToSwift){var e={body:i,name:n};t.THEOplayerBridge[this.playerID].postMessageToSwift(e)}},n}(),mD=function(t){function n(n){var i;return(i=t.call(this)||this).nB=void 0,i.LM=void 0,i.hV=function(t){var n=Mu(t.detail.initData),e=t.detail.sessionId;i.$r(new aR(n,e))},i.fV=function(t){var n=new y(ju(t.detail.message)),e=t.detail.destinationURL;i.$r(new hR(n,e))},i.dV=function(t){i.$r(new fR)},i.nB=n,i.LM=new _I,fI().fairplayController={sdkEventBus:i.LM},i.vV(),i}dt(n,t);var i=n.prototype;return i.vV=function(){this.LM.addEventListener(nR.PB,this.hV),this.LM.addEventListener(nR.xB,this.fV),this.LM.addEventListener(nR.LB,this.dV)},i.VB=function(t,n){var i={playerId:vI(),data:$u(n.buffer),sessionId:t};this.nB.rB("THEOplayerCreateKeySession",i)},i.ec=function(t,n){var i={playerId:vI(),data:$u(n.buffer),sessionId:t};this.nB.rB("THEOplayerUpdateKey",i)},n}(nw),pD=function(t){function n(){return t.apply(this,arguments)||this}return dt(n,t),n.prototype.Cf=function(n){if(Ds(n.lf)){var i=Ns(n.lf);n.lf=ms(i)}return t.prototype.Cf.call(this,n)},n}(function(){function t(t){this.nT=void 0,this.nT=t}var n=t.prototype;return n.Cf=function(t){return this.nT.Cf(t)},n.nd=function(t){this.nT.nd(t)},n.et=function(){this.nT.et()},t}()),bD=function(t){function n(n,i,e,r,u){return t.call(this,n,i,e,r,u)||this}dt(n,t);var i=n.prototype;return i.zw=function(){return!1},i.getSdkBridge=function(t){return new yD(t)},i.getFairPlayControllerBridge=function(t){return hD||(hD=new mD(t)),hD},i.oV=function(t){return new pD(t)},n}(wD);aD=new(function(t){function n(){return t.apply(this,arguments)||this}return dt(n,t),n.prototype.oS=function(t,n,i,e,r,u){return new bD(t,n,i,e,r)},n}(gD)),R_.Qn.AI(aD),function(t){t.gv="addtrack",t.mv="removetrack",t.xv="change",t.Vv="update"}(fD||(fD={}));var _D=function(t,n,i){this.type=fD.xv,this.mediaType=t,this.mediaTrack=n,this.mediaTrackList=i},kD=function(t,n){this.type=fD.gv,this.mediaType=t,this.mediaTrack=n},TD=function(t,n){this.type=fD.mv,this.mediaType=t,this.mediaTrack=n},SD=function(t,n){this.type=fD.Vv,this.mediaType=t,this.mediaTrack=n},ED=function(){function t(t,n,i){var e=this;this.type=void 0,this.mediaTracks=void 0,this.messageDispatcher=void 0,this.lV=function(t){var n=new _D(e.type,t.track,e.mediaTracks);e.messageDispatcher.wV(n)},this.gV=function(t){var n=new kD(e.type,t.track);e.messageDispatcher.wV(n),t.track.addEventListener("update",e.yV)},this.mV=function(t){var n=new TD(e.type,t.track);e.messageDispatcher.wV(n)},this.yV=function(t){var n=new SD(e.type,t.track);e.messageDispatcher.wV(n)},this.type=t,this.mediaTracks=n,this.messageDispatcher=i,this.vV()}return t.prototype.vV=function(){this.mediaTracks.addEventListener("change",this.lV),this.mediaTracks.addEventListener("addtrack",this.gV),this.mediaTracks.addEventListener("removetrack",this.mV)},t}(),ID=function(){function t(t){this.pV=void 0,this.pV=new yD(t)}return t.prototype.wV=function(t){this.pV.rB(t.type,xE(t))},t}();oE(function(t){if(t._v.audioTracks){var n=new ID(t.fl);new ED("audio",t._v.audioTracks,n)}if(t._v.videoTracks){var i=new ID(t.fl);new ED("video",t._v.videoTracks,i)}});var RD,DD,ND=function(t){function n(){return t.apply(this,arguments)||this}return dt(n,t),n.prototype.dispatchEvent=function(t,n){switch(t){case RD.bV:var i={integrationId:n.integrationId,keySystem:n.keySystem};this.$r(new CD(i));break;default:0}},n}(_I),CD=function(t){function n(n){var i;return(i=t.call(this,RD.bV)||this).detail=n,i}return dt(n,t),n}(Su);!function(t){t.bV="registerContentProtectionIntegration"}(RD||(RD={})),function(t){t._V="certifiateRequest",t.kV="certifiateResponse",t.TV="licenseRequest",t.SV="licenseResponse",t.EV="extractFairplayContentId",t.IV="buildContentProtection",t.RV="registerContentProtectionCallback"}(DD||(DD={}));var OD,AD=function(t,n){this.type=DD.RV,this.value=t,this.integrationId=n};!function(t){t.VOD="vod",t.LIVE="live"}(OD||(OD={}));var PD,xD=function(t,n){this.type=DD.IV,this.value=t,this.integrationId=n},LD=function(t,n){this.type=DD._V,this.value=t,this.integrationId=n},BD=function(t,n){this.type=DD.kV,this.value=t,this.integrationId=n},FD=function(t,n){this.type=DD.EV,this.value=t,this.integrationId=n},MD=function(t,n){this.type=DD.TV,this.value=t,this.integrationId=n},UD=function(t,n){this.type=DD.SV,this.value=t,this.integrationId=n},VD=function(){function t(t,n){this.DV=void 0,this.cS=void 0,this.DV=t,this.cS=n}var i=t.prototype;return i.onCertificateRequest=function(t){var i,e,r,u,s,o;return vr.async(function(c){for(;;)switch(c.prev=c.next){case 0:return i=this.toCertificateRequestDTO(t),e=new LD(i,this.cS),c.prev=2,c.next=5,vr.awrap(this.DV.NV(e));case 5:if(!(r=c.sent)){c.next=16;break}if(u=JSON.parse(r),!this.CV(u)){c.next=13;break}return s=lr({},u),c.abrupt("return",s);case 13:if(!this.OV(u)){c.next=16;break}return o=new y(u),c.abrupt("return",o);case 16:throw new hg(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Could not parse callback in onCertificateRequest");case 19:throw c.prev=19,c.t0=c.catch(2),new hg(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,c.t0);case 22:case"end":return c.stop()}},null,this,[[2,19]],j)},i.onCertificateResponse=function(t){var i,e,r,u,s;return vr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return i=this.toCertificateRequestDTO(t.request),e={request:i,url:t.url,status:t.status,statusText:t.statusText,headers:t.headers,body:Array.from(t.body)},r=new BD(e,this.cS),o.next=5,vr.awrap(this.DV.NV(r));case 5:if(!(u=o.sent)){o.next=11;break}return s=JSON.parse(u),o.abrupt("return",new y(s));case 11:throw new hg(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"received undefined instead of string in onCertificateResponse");case 12:case"end":return o.stop()}},null,this,null,j)},i.onLicenseRequest=function(t){var i,e,r,u,s,o,c;return vr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return i=this.toCertificateRequestDTO(t),e={url:i.url,method:i.method,headers:i.headers,body:i.body?Array.from(i.body):null,useCredentials:i.useCredentials,fairplaySkdUrl:t.fairplaySkdUrl},r=new MD(e,this.cS),a.prev=3,a.next=6,vr.awrap(this.DV.NV(r));case 6:if(!(u=a.sent)){a.next=17;break}if(s=JSON.parse(u),!this.CV(s)){a.next=14;break}return o={url:s.url,method:s.method,headers:s.headers,body:s.body?new y(s.body):null,useCredentials:s.useCredentials,fairplaySkdUrl:s.fairplaySkdUrl},a.abrupt("return",o);case 14:if(!this.OV(s)){a.next=17;break}return c=new y(s),a.abrupt("return",c);case 17:throw new hg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Could not parse callback in onLicenseRequest");case 20:throw a.prev=20,a.t0=a.catch(3),new hg(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,a.t0);case 23:case"end":return a.stop()}},null,this,[[3,20]],j)},i.onLicenseResponse=function(t){var i,e,r,u,s,o;return vr.async(function(c){for(;;)switch(c.prev=c.next){case 0:return i=this.toCertificateRequestDTO(t.request),e=lr({},i,{fairplaySkdUrl:t.request.fairplaySkdUrl}),r={request:e,url:t.url,status:t.status,statusText:t.statusText,headers:t.headers,body:Array.from(t.body)},u=new UD(r,this.cS),c.next=6,vr.awrap(this.DV.NV(u));case 6:if(!(s=c.sent)){c.next=12;break}return o=JSON.parse(s),c.abrupt("return",new y(o));case 12:throw new hg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"received undefined instead of string in onLicenseResponse");case 13:case"end":return c.stop()}},null,this,null,j)},i.extractFairplayContentId=function(t){var i,e;return vr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return i=new FD(t,this.cS),r.next=3,vr.awrap(this.DV.NV(i));case 3:if(!(e=r.sent)){r.next=6;break}return r.abrupt("return",e);case 6:return r.abrupt("return",j.reject(new hg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"received undefined instead of string in extractFairplayContentId")));case 7:case"end":return r.stop()}},null,this,null,j)},i.toCertificateRequestDTO=function(t){return{url:t.url,method:t.method,headers:t.headers,body:t.body?Array.from(t.body):null,useCredentials:t.useCredentials}},i.CV=function(t){var n=t;return void 0!==n.url&&void 0!==n.method&&void 0!==n.headers},i.OV=function(t){return!!new y(t)},t}(),qD=function(){function t(t){this.DV=void 0,this.DV=t}return t.prototype.build=function(t){if(!t.integration)throw new h("integrationId is undefined");var n=new VD(this.DV,t.integration),i=new xD({drmConfiguration:t},t.integration);return this.DV.NV(i),n},t}(),HD=function(){var t=this;this.LM=void 0,this.AV=function(n){var i=new qD(t.messageDispatcher),e=n.detail,r=e.integrationId,u=e.keySystem,s={state:Tp.lS.hS(r,u,i)};t.messageDispatcher.NV(new AD(s,r))},this.LM=new ND,fI().contentProtectionIntegration={sdkEventBus:this.LM},this.LM.addEventListener(RD.bV,this.AV)},zD="nativePromiseCallback",WD=function(t){function n(n){var i;return(i=t.call(this,zD)||this).detail=n,i}return dt(n,t),n}(Su);!function(t){t.RESOLVE="NATIVE_PROMISE_RESOLVE",t.REJECT="NATIVE_PROMISE_REJECT"}(PD||(PD={}));var jD=function(t){function n(){return t.apply(this,arguments)||this}dt(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.$r(new WD(n))},i.addEventListener=function(t,n){this.Xr(t,n)},i.removeEventListener=function(t,n){this.Jr(t,n)},n}(_I),$D=function(){function t(){var t=this;this.pV=void 0,this.promisesMap={},this.handleNativePromiseEvent=function(n){var i=t.promisesMap[n.detail.promiseId];if(!i)throw new h("Could not find a promise with id "+n.detail.promiseId);switch(n.detail.type){case PD.RESOLVE:i.Ou(n.detail.data);break;case PD.REJECT:i.Au(n.detail.data)}delete t.promisesMap[n.detail.promiseId]};var n=new jD;fI().nativePromise={sdkEventBus:n},n.addEventListener(zD,this.handleNativePromiseEvent)}return t.prototype.NV=function(n){var i;t.messageIdTracker+=1;var e=t.messageIdTracker.toString(),r=lr({},n,{promiseId:e}),u=new Ps;return this.promisesMap[e]=u,null==(i=this.pV)||i.rB(n.type,AE(r)),u.Du},t}();$D.messageIdTracker=-1;var XD=function(t){function n(n){var i;return(i=t.call(this)||this).pV=new yD(n),i}return dt(n,t),n}($D),GD=function(t){function n(n){var i;return(i=t.call(this)||this).DV=void 0,i.DV=new XD(n),i}return dt(n,t),ht(n,[{key:"messageDispatcher",get:function(){return this.DV}}]),n}(HD);oE(function(t){new GD(t._v.uid)}),n.ChromelessPlayer=function t(n,i){var e=Xw(i),r=new(mE||(mE=uE(mE=IE(iE),JS.Bx),mE=uE(mE,JS.Fx)),mE)(n,e),u=r._v;return r.Nx(),r.pL(wE),d.defineProperty(u,"constructor",{value:t}),u=Rl(u),function(t){for(var n=0;n<sE.length;n++)(0,sE[n])(t)}(r),u},n.createGlobals=lI,n.features=[],n.getCueMirrorMap=dI,n.getGlobalId=vI,n.getSdkEventBridge=fI,n.playerSuiteVersion="2022.2.0",n.players=DE,n.registerContentProtectionIntegration=NE,n.utils=RE,n.version="3.3.0",d.defineProperty(n,"__esModule",{value:!0})})}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:this);
