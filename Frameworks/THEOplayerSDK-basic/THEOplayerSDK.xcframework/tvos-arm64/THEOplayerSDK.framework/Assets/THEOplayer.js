/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com

 This product makes use of Open Source Software: video.js
 (Apache 2.0 - Copyright Brightcove, Inc.), Bluebird (MIT -
 Copyright (c) 2013-2015 Petka Antonov), long.js (Apache 2.0),
 nodejs-langs (MIT - Copyright Andrew Lawson), shaka-player
 (Apache 2.0 - Copyright 2016 Google LLC)
 The code of these projects has been heavily modified during
 integration.
 More information on the licenses can be found here: Apache 2.0
 (http://www.apache.org/licenses/LICENSE-2.0), MIT
 (https://opensource.org/licenses/MIT)

 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 2021.4.2 (2.92.0)
 Created: 2021-12-17T14:24:34.721Z
 */
!function(t){!function(n,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports,require("@opentelly/mp4-tools")):"function"==typeof define&&define.amd?define(["exports","@opentelly/mp4-tools"],i):i((n="undefined"!=typeof globalThis?globalThis:n||t).THEOplayer={},n.mp4Tools)}(this,function(n,i){"use strict";var r,e=t.window,u=t.document,o=t.location,s=t.navigator,c=t.setTimeout,a=t.clearTimeout,f=t.setInterval,h=t.clearInterval,v=t.Error,d=t.TypeError,l=(t.SyntaxError,t.Object),w=t.Math,y=t.parseInt,g=t.parseFloat,_=t.isNaN,p=t.Uint8Array,m=(t.Worker,t.WorkerGlobalScope,t.XMLHttpRequest),k="undefined"!=typeof globalThis?globalThis:void 0!==e?e:"undefined"!=typeof global?global:void 0!==t?t:{};function b(t,n,i){return t(i={path:n,exports:{},require:function(t,n){return function(){throw new v("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==n&&i.path)}},i.exports),i.exports}var T,E,S,R,I,C,A=b(function(n,i){n.exports=function t(n,i,e){function u(s,c){if(!i[s]){if(!n[s]){var a="function"==typeof r&&r;if(!c&&a)return a(s,!0);if(o)return o(s,!0);var f=new v("Cannot find module '"+s+"'");throw f.code="MODULE_NOT_FOUND",f}var h=i[s]={exports:{}};n[s][0].call(h.exports,function(t){var i=n[s][1][t];return u(i||t)},h,h.exports,t,n,i,e)}return i[s].exports}for(var o="function"==typeof r&&r,s=0;s<e.length;s++)u(e[s]);return u}({1:[function(t,n,i){n.exports=function(t){var n=t.o;function i(t){var i=new n(t),r=i.promise();return i.setHowMany(1),i.setUnwrap(),i.init(),r}t.any=function(t){return i(t)},t.prototype.any=function(){return i(this)}}},{}],2:[function(t,n,i){var r;try{throw new v}catch(t){r=t}var e=t("./schedule"),u=t("./queue"),o=t("./util");function s(){this.v=!1,this.l=!1,this.g=new u(16),this.p=new u(16),this.R=!1,this.I=!0;var t=this;this.drainQueues=function(){t.C()},this.N=e}function a(t,n,i){this.g.push(t,n,i),this.F()}function f(t,n,i){this.p.push(t,n,i),this.F()}function h(t){this.p.M(t),this.F()}function d(t){for(;t.length()>0;)l(t)}function l(t){var n=t.shift();if("function"!=typeof n)n.B();else{var i=t.shift(),r=t.shift();n.call(i,r)}}s.prototype.setScheduler=function(t){var n=this.N;return this.N=t,this.v=!0,n},s.prototype.hasCustomScheduler=function(){return this.v},s.prototype.enableTrampoline=function(){this.I=!0},s.prototype.disableTrampolineIfNecessary=function(){o.hasDevTools&&(this.I=!1)},s.prototype.haveItemsQueued=function(){return this.l||this.R},s.prototype.fatalError=function(t,n){n?(process.stderr.write("Fatal "+(t instanceof v?t.stack:t)+"\n"),process.exit(2)):this.throwLater(t)},s.prototype.throwLater=function(t,n){if(1===arguments.length&&(n=t,t=function(){throw n}),void 0!==c)c(function(){t(n)},0);else try{this.N(function(){t(n)})}catch(t){throw new v("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},o.hasDevTools?(s.prototype.invokeLater=function(t,n,i){this.I?a.call(this,t,n,i):this.N(function(){c(function(){t.call(n,i)},100)})},s.prototype.invoke=function(t,n,i){this.I?f.call(this,t,n,i):this.N(function(){t.call(n,i)})},s.prototype.settlePromises=function(t){this.I?h.call(this,t):this.N(function(){t.B()})}):(s.prototype.invokeLater=a,s.prototype.invoke=f,s.prototype.settlePromises=h),s.prototype.C=function(){d(this.p),this.U(),this.R=!0,d(this.g)},s.prototype.F=function(){this.l||(this.l=!0,this.N(this.drainQueues))},s.prototype.U=function(){this.l=!1},n.exports=s,n.exports.firstLineError=r},{"./queue":26,"./schedule":29,"./util":36}],3:[function(t,n,i){n.exports=function(t,n,i,r){var e=!1,u=function(t,n){this.V(n)},o=function(t,n){n.promiseRejectionQueued=!0,n.bindingPromise.H(u,u,null,this,t)},s=function(t,n){0==(50397184&this.j)&&this.W(n.target)},c=function(t,n){n.promiseRejectionQueued||this.V(t)};t.prototype.bind=function(u){e||(e=!0,t.prototype.X=r.propagateFromFunction(),t.prototype.G=r.boundValueFunction());var a=i(u),f=new t(n);f.X(this,1);var h=this.Y();if(f.K(a),a instanceof t){var v={promiseRejectionQueued:!1,promise:f,target:h,bindingPromise:a};h.H(n,o,void 0,f,v),a.H(s,c,void 0,f,v),f.J(a)}else f.W(h);return f},t.prototype.K=function(t){void 0!==t?(this.j=2097152|this.j,this.Z=t):this.j=-2097153&this.j},t.prototype.nt=function(){return 2097152==(2097152&this.j)},t.bind=function(n,i){return t.resolve(i).bind(n)}}},{}],4:[function(t,n,i){var r;"undefined"!=typeof Promise&&(r=Promise);var e=t("./promise")();e.noConflict=function(){try{Promise===e&&(Promise=r)}catch(t){}return e},n.exports=e},{"./promise":22}],5:[function(t,n,i){var r=l.create;if(r){var e=r(null),u=r(null);e[" size"]=u[" size"]=0}n.exports=function(n){var i=t("./util"),r=i.canEvaluate;function e(t){var r=this.pop(),e=function(t,r){var e;if(null!=t&&(e=t[r]),"function"!=typeof e){var u="Object "+i.classString(t)+" has no method '"+i.toString(r)+"'";throw new n.TypeError(u)}return e}(t,r);return e.apply(t,this)}function u(t){return t[this]}function o(t){var n=+this;return n<0&&(n=w.max(0,n+t.length)),t[n]}i.isIdentifier,n.prototype.call=function(t){var n=[].slice.call(arguments,1);return n.push(t),this.H(e,void 0,void 0,n,void 0)},n.prototype.get=function(t){var n,i="number"==typeof t;if(i)n=o;else if(r){var e=(void 0)();n=null!==e?e:u}else n=u;return this.H(n,void 0,void 0,t,void 0)}}},{"./util":36}],6:[function(t,n,i){n.exports=function(n,i,r,e){var u=t("./util"),o=u.tryCatch,s=u.errorObj,c=n.it;n.prototype.break=n.prototype.cancel=function(){if(!e.cancellation())return this.rt("cancellation is disabled");for(var t=this,n=t;t.et();){if(!t.ut(n)){n.ot()?n.st().cancel():n.ct();break}var i=t.at;if(null==i||!i.et()){t.ot()?t.st().cancel():t.ct();break}t.ot()&&t.st().cancel(),t.ft(),n=t,t=i}},n.prototype.ht=function(){this.vt--},n.prototype.dt=function(){return void 0===this.vt||this.vt<=0},n.prototype.ut=function(t){return t===this?(this.vt=0,this.wt(),!0):(this.ht(),!!this.dt()&&(this.wt(),!0))},n.prototype.ct=function(){this.dt()&&this.yt()},n.prototype.yt=function(){this.et()&&(this._t(),c.invoke(this.pt,this,void 0))},n.prototype.pt=function(){this.kt()>0&&this.B()},n.prototype.bt=function(){this.Tt=void 0},n.prototype.et=function(){return this.isPending()&&!this.Et()},n.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},n.prototype.St=function(t,n){if(u.isArray(t))for(var i=0;i<t.length;++i)this.St(t[i],n);else if(void 0!==t)if("function"==typeof t){if(!n){var r=o(t).call(this.G());r===s&&(this.Rt(r.e),c.throwLater(r.e))}}else t._resultCancelled(this)},n.prototype.wt=function(){var t=this.It();this.bt(),c.invoke(this.St,this,t)},n.prototype.Ct=function(){this.et()&&(this.St(this.It(),!0),this.bt())},n.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(t,n,i){n.exports=function(n){var i=t("./util"),r=t("./es5").keys,e=i.tryCatch,u=i.errorObj;return function(t,o,s){return function(c){var a=s.G();t:for(var f=0;f<t.length;++f){var h=t[f];if(h===v||null!=h&&h.prototype instanceof v){if(c instanceof h)return e(o).call(a,c)}else if("function"==typeof h){var d=e(h).call(a,c);if(d===u)return d;if(d)return e(o).call(a,c)}else if(i.isObject(c)){for(var l=r(h),w=0;w<l.length;++w){var y=l[w];if(h[y]!=c[y])continue t}return e(o).call(a,c)}}return n}}}},{"./es5":13,"./util":36}],8:[function(t,n,i){n.exports=function(t){var n=!1,i=[];function r(){this.At=new r.CapturedTrace(e())}function e(){var t=i.length-1;if(t>=0)return i[t]}return t.prototype.Dt=function(){},t.prototype.Nt=function(){},t.prototype.Ot=function(){return null},t.xt=t.prototype.xt=function(){},r.prototype.Nt=function(){void 0!==this.At&&(this.At.Dt=null,i.push(this.At))},r.prototype.Ot=function(){if(void 0!==this.At){var t=i.pop(),n=t.Dt;return t.Dt=null,n}return null},r.CapturedTrace=null,r.create=function(){if(n)return new r},r.deactivateLongStackTraces=function(){},r.activateLongStackTraces=function(){var i=t.prototype.Nt,u=t.prototype.Ot,o=t.xt,s=t.prototype.xt,c=t.prototype.Dt;r.deactivateLongStackTraces=function(){t.prototype.Nt=i,t.prototype.Ot=u,t.xt=o,t.prototype.xt=s,t.prototype.Dt=c,n=!1},n=!0,t.prototype.Nt=r.prototype.Nt,t.prototype.Ot=r.prototype.Ot,t.xt=t.prototype.xt=e,t.prototype.Dt=function(){var t=this.xt();t&&null==t.Dt&&(t.Dt=this)}},r}},{}],9:[function(t,n,i){n.exports=function(n,i){var r,e,o,s=n.Pt,a=n.it,f=t("./errors").Warning,h=t("./util"),w=t("./es5"),g=h.canAttachTrace,_=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,p=/\((?:timers\.js):\d+:\d+\)/,m=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,k=null,b=null,T=!1,E=!(0==h.env("BLUEBIRD_DEBUG")),S=!(0==h.env("BLUEBIRD_WARNINGS")||!E&&!h.env("BLUEBIRD_WARNINGS")),R=!(0==h.env("BLUEBIRD_LONG_STACK_TRACES")||!E&&!h.env("BLUEBIRD_LONG_STACK_TRACES")),I=0!=h.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(S||!!h.env("BLUEBIRD_W_FORGOTTEN_RETURN"));n.prototype.suppressUnhandledRejections=function(){var t=this.Y();t.j=-1048577&t.j|524288},n.prototype.Lt=function(){if(0==(524288&this.j)){this.Ft();var t=this;c(function(){t.Mt()},1)}},n.prototype.Bt=function(){K("rejectionHandled",r,void 0,this)},n.prototype.Ut=function(){this.j=268435456|this.j},n.prototype.Vt=function(){return 0!=(268435456&this.j)},n.prototype.Mt=function(){if(this.qt()){var t=this.Ht();this.jt(),K("unhandledRejection",e,t,this)}},n.prototype.jt=function(){this.j=262144|this.j},n.prototype.Wt=function(){this.j=-262145&this.j},n.prototype.zt=function(){return(262144&this.j)>0},n.prototype.Ft=function(){this.j=1048576|this.j},n.prototype.$t=function(){this.j=-1048577&this.j,this.zt()&&(this.Wt(),this.Bt())},n.prototype.qt=function(){return(1048576&this.j)>0},n.prototype.rt=function(t,n,i){return $(t,n,i||this)},n.onPossiblyUnhandledRejection=function(t){var n=s();e="function"==typeof t?null===n?t:h.domainBind(n,t):void 0},n.onUnhandledRejectionHandled=function(t){var n=s();r="function"==typeof t?null===n?t:h.domainBind(n,t):void 0};var C=function(){};n.longStackTraces=function(){if(a.haveItemsQueued()&&!et.longStackTraces)throw new v("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!et.longStackTraces&&Q()){var t=n.prototype.Xt,r=n.prototype.Rt,e=n.prototype.Gt;et.longStackTraces=!0,C=function(){if(a.haveItemsQueued()&&!et.longStackTraces)throw new v("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");n.prototype.Xt=t,n.prototype.Rt=r,n.prototype.Gt=e,i.deactivateLongStackTraces(),a.enableTrampoline(),et.longStackTraces=!1},n.prototype.Xt=j,n.prototype.Rt=W,n.prototype.Gt=z,i.activateLongStackTraces(),a.disableTrampolineIfNecessary()}},n.hasLongStackTraces=function(){return et.longStackTraces&&Q()};var A=function(){try{if("function"==typeof CustomEvent){var t=new CustomEvent("CustomEvent");return h.global.dispatchEvent(t),function(t,n){var i={detail:n,cancelable:!0};w.defineProperty(i,"promise",{value:n.promise}),w.defineProperty(i,"reason",{value:n.reason});var r=new CustomEvent(t.toLowerCase(),i);return!h.global.dispatchEvent(r)}}if("function"==typeof Event){var t=new Event("CustomEvent");return h.global.dispatchEvent(t),function(t,n){var i=new Event(t.toLowerCase(),{cancelable:!0});return i.detail=n,w.defineProperty(i,"promise",{value:n.promise}),w.defineProperty(i,"reason",{value:n.reason}),!h.global.dispatchEvent(i)}}var t=u.createEvent("CustomEvent");return t.initCustomEvent("testingtheevent",!1,!0,{}),h.global.dispatchEvent(t),function(t,n){var i=u.createEvent("CustomEvent");return i.initCustomEvent(t.toLowerCase(),!1,!0,n),!h.global.dispatchEvent(i)}}catch(t){}return function(){return!1}}(),D=h.isNode?function(){return process.emit.apply(process,arguments)}:h.global?function(t){var n="on"+t.toLowerCase(),i=h.global[n];return!!i&&(i.apply(h.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function N(t,n){return{promise:n}}var O={promiseCreated:N,promiseFulfilled:N,promiseRejected:N,promiseResolved:N,promiseCancelled:N,promiseChained:function(t,n,i){return{promise:n,child:i}},warning:function(t,n){return{warning:n}},unhandledRejection:function(t,n,i){return{reason:n,promise:i}},rejectionHandled:N},x=function(t){var n=!1;try{n=D.apply(null,arguments)}catch(t){a.throwLater(t),n=!0}var i=!1;try{i=A(t,O[t].apply(null,arguments))}catch(t){a.throwLater(t),i=!0}return i||n};function P(){return!1}function L(t,n,i){var r=this;try{t(n,i,function(t){if("function"!=typeof t)throw new d("onCancel must be a function, got: "+h.toString(t));r.Yt(t)})}catch(t){return t}}function F(t){if(!this.et())return this;var n=this.It();void 0!==n?h.isArray(n)?n.push(t):this.J([n,t]):this.J(t)}function M(){return this.Tt}function B(t){this.Tt=t}function U(){this.at=void 0,this.Tt=void 0}function V(t,n){if(0!=(1&n)){this.at=t;var i=t.vt;void 0===i&&(i=0),t.vt=i+1}0!=(2&n)&&t.nt()&&this.K(t.Z)}n.config=function(t){if("longStackTraces"in(t=l(t))&&(t.longStackTraces?n.longStackTraces():!t.longStackTraces&&n.hasLongStackTraces()&&C()),"warnings"in t){var i=t.warnings;et.warnings=!!i,I=et.warnings,h.isObject(i)&&"wForgottenReturn"in i&&(I=!!i.wForgottenReturn)}if("cancellation"in t&&t.cancellation&&!et.cancellation){if(a.haveItemsQueued())throw new v("cannot enable cancellation after promises are in use");n.prototype.Kt=U,n.prototype.X=V,n.prototype.It=M,n.prototype.J=B,n.prototype.Yt=F,n.prototype.Jt=L,q=V,et.cancellation=!0}return"monitoring"in t&&(t.monitoring&&!et.monitoring?(et.monitoring=!0,n.prototype.Qt=x):!t.monitoring&&et.monitoring&&(et.monitoring=!1,n.prototype.Qt=P)),n},n.prototype.Qt=P,n.prototype.Jt=function(t,n,i){try{t(n,i)}catch(t){return t}},n.prototype.It=function(){},n.prototype.J=function(t){},n.prototype.Yt=function(t){},n.prototype.Xt=function(){},n.prototype.Rt=function(){},n.prototype.Gt=function(){},n.prototype.Kt=function(){},n.prototype.X=function(t,n){};var q=function(t,n){0!=(2&n)&&t.nt()&&this.K(t.Z)};function H(){var t=this.Z;return void 0!==t&&t instanceof n?t.isFulfilled()?t.value():void 0:t}function j(){this.At=new it(this.xt())}function W(t,n){if(g(t)){var i=this.At;if(void 0!==i&&n&&(i=i.Zt),void 0!==i)i.attachExtraTrace(t);else if(!t.tn){var r=G(t);h.notEnumerableProp(t,"stack",r.message+"\n"+r.stack.join("\n")),h.notEnumerableProp(t,"tn",!0)}}}function z(){this.At=void 0}function $(t,i,r){if(et.warnings){var e,u=new f(t);if(i)r.Rt(u);else if(et.longStackTraces&&(e=n.xt()))e.attachExtraTrace(u);else{var o=G(u);u.stack=o.message+"\n"+o.stack.join("\n")}x("warning",u)||Y(u,"",!0)}}function X(t){for(var n=[],i=0;i<t.length;++i){var r=t[i],e="    (No stack trace)"===r||k.test(r),u=e&&Z(r);e&&!u&&(T&&" "!==r.charAt(0)&&(r="    "+r),n.push(r))}return n}function G(t){var n=t.stack,i=t.toString();return n="string"==typeof n&&n.length>0?function(t){for(var n=t.stack.replace(/\s+$/g,"").split("\n"),i=0;i<n.length;++i){var r=n[i];if("    (No stack trace)"===r||k.test(r))break}return i>0&&"SyntaxError"!=t.name&&(n=n.slice(i)),n}(t):["    (No stack trace)"],{message:i,stack:"SyntaxError"==t.name?n:X(n)}}function Y(t,n,i){if("undefined"!=typeof console){var r;if(h.isObject(t)){var e=t.stack;r=n+b(e,t)}else r=n+String(t);"function"==typeof o?o(r,i):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(r)}}function K(t,n,i,r){var e=!1;try{"function"==typeof n&&(e=!0,"rejectionHandled"===t?n(r):n(i,r))}catch(t){a.throwLater(t)}"unhandledRejection"===t?x(t,i,r)||e||Y(i,"Unhandled rejection "):x(t,r)}function J(t){var n;if("function"==typeof t)n="[function "+(t.name||"anonymous")+"]";else{if(n=t&&"function"==typeof t.toString?t.toString():h.toString(t),/\[object [a-zA-Z0-9$_]+\]/.test(n))try{var i=JSON.stringify(t);n=i}catch(t){}0===n.length&&(n="(empty array)")}return"(<"+function(t){return t.length<41?t:t.substr(0,38)+"..."}(n)+">, no stack trace)"}function Q(){return"function"==typeof rt}var Z=function(){return!1},tt=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function nt(t){var n=t.match(tt);if(n)return{fileName:n[1],line:y(n[2],10)}}function it(t){this.Zt=t,this.nn=0;var n=this.kt=1+(void 0===t?0:t.kt);rt(this,it),n>32&&this.uncycle()}h.inherits(it,v),i.CapturedTrace=it,it.prototype.uncycle=function(){var t=this.kt;if(!(t<2)){for(var n=[],i={},r=0,e=this;void 0!==e;++r)n.push(e),e=e.Zt;for(var r=(t=this.kt=r)-1;r>=0;--r){var u=n[r].stack;void 0===i[u]&&(i[u]=r)}for(var r=0;r<t;++r){var o=n[r].stack,s=i[o];if(void 0!==s&&s!==r){s>0&&(n[s-1].Zt=void 0,n[s-1].kt=1),n[r].Zt=void 0,n[r].kt=1;var c=r>0?n[r-1]:this;s<t-1?(c.Zt=n[s+1],c.Zt.uncycle(),c.kt=c.Zt.kt+1):(c.Zt=void 0,c.kt=1);for(var a=c.kt+1,f=r-2;f>=0;--f)n[f].kt=a,a++;return}}}},it.prototype.attachExtraTrace=function(t){if(!t.tn){this.uncycle();for(var n=G(t),i=n.message,r=[n.stack],e=this;void 0!==e;)r.push(X(e.stack.split("\n"))),e=e.Zt;!function(t){for(var n=t[0],i=1;i<t.length;++i){for(var r=t[i],e=n.length-1,u=n[e],o=-1,s=r.length-1;s>=0;--s)if(r[s]===u){o=s;break}for(var s=o;s>=0;--s){var c=r[s];if(n[e]!==c)break;n.pop(),e--}n=r}}(r),function(t){for(var n=0;n<t.length;++n)(0===t[n].length||n+1<t.length&&t[n][0]===t[n+1][0])&&(t.splice(n,1),n--)}(r),h.notEnumerableProp(t,"stack",function(t,n){for(var i=0;i<n.length-1;++i)n[i].push("From previous event:"),n[i]=n[i].join("\n");return i<n.length&&(n[i]=n[i].join("\n")),t+"\n"+n.join("\n")}(i,r)),h.notEnumerableProp(t,"tn",!0)}};var rt=function(){var t=/^\s*at\s*/,n=function(t,n){return"string"==typeof t?t:void 0!==n.name&&void 0!==n.message?n.toString():J(n)};if("number"==typeof v.stackTraceLimit&&"function"==typeof v.captureStackTrace){v.stackTraceLimit+=6,k=t,b=n;var i=v.captureStackTrace;return Z=function(t){return _.test(t)},function(t,n){v.stackTraceLimit+=6,i(t,n),v.stackTraceLimit-=6}}var r,e=new v;if("string"==typeof e.stack&&e.stack.split("\n")[0].indexOf("stackDetection@")>=0)return k=/@/,b=n,T=!0,function(t){t.stack=(new v).stack};try{throw new v}catch(t){r="stack"in t}return"stack"in e||!r||"number"!=typeof v.stackTraceLimit?(b=function(t,n){return"string"==typeof t?t:"object"!=typeof n&&"function"!=typeof n||void 0===n.name||void 0===n.message?J(n):n.toString()},null):(k=t,b=n,function(t){v.stackTraceLimit+=6;try{throw new v}catch(n){t.stack=n.stack}v.stackTraceLimit-=6})}();"undefined"!=typeof console&&void 0!==console.warn&&(o=function(t){console.warn(t)},h.isNode&&process.stderr.isTTY?o=function(t,n){var i=n?"\x1b[33m":"\x1b[31m";console.warn(i+t+"\x1b[0m\n")}:h.isNode||"string"!=typeof(new v).stack||(o=function(t,n){console.warn("%c"+t,n?"color: darkorange":"color: red")}));var et={warnings:S,longStackTraces:!1,cancellation:!1,monitoring:!1};return R&&n.longStackTraces(),{longStackTraces:function(){return et.longStackTraces},warnings:function(){return et.warnings},cancellation:function(){return et.cancellation},monitoring:function(){return et.monitoring},propagateFromFunction:function(){return q},boundValueFunction:function(){return H},checkForgottenReturns:function(t,n,i,r,e){if(void 0===t&&null!==n&&I){if(void 0!==e&&e.Vt())return;if(0==(65535&r.j))return;i&&(i+=" ");var u="",o="";if(n.At){for(var s=n.At.stack.split("\n"),c=X(s),a=c.length-1;a>=0;--a){var f=c[a];if(!p.test(f)){var h=f.match(m);h&&(u="at "+h[1]+":"+h[2]+":"+h[3]+" ");break}}if(c.length>0)for(var v=c[0],a=0;a<s.length;++a)if(s[a]===v){a>0&&(o="\n"+s[a-1]);break}}var d="a promise was created in a "+i+"handler "+u+"but was not returned from it, see http://goo.gl/rRqMUw"+o;r.rt(d,!0,n)}},setBounds:function(t,n){if(Q()){for(var i,r,e=(t.stack||"").split("\n"),u=(n.stack||"").split("\n"),o=-1,s=-1,c=0;c<e.length;++c){var a=nt(e[c]);if(a){i=a.fileName,o=a.line;break}}for(var c=0;c<u.length;++c){var a=nt(u[c]);if(a){r=a.fileName,s=a.line;break}}o<0||s<0||!i||!r||i!==r||o>=s||(Z=function(t){if(_.test(t))return!0;var n=nt(t);return!!(n&&n.fileName===i&&o<=n.line&&n.line<=s)})}},warn:$,deprecated:function(t,n){var i=t+" is deprecated and will be removed in a future version.";return n&&(i+=" Use "+n+" instead."),$(i)},CapturedTrace:it,fireDomEvent:A,fireGlobalEvent:D}}},{"./errors":12,"./es5":13,"./util":36}],10:[function(t,n,i){n.exports=function(t){function n(){return this.value}function i(){throw this.reason}t.prototype.return=t.prototype.thenReturn=function(i){return i instanceof t&&i.suppressUnhandledRejections(),this.H(n,void 0,void 0,{value:i},void 0)},t.prototype.throw=t.prototype.thenThrow=function(t){return this.H(i,void 0,void 0,{reason:t},void 0)},t.prototype.catchThrow=function(t){if(arguments.length<=1)return this.H(void 0,i,void 0,{reason:t},void 0);var n=arguments[1];return this.caught(t,function(){throw n})},t.prototype.catchReturn=function(i){if(arguments.length<=1)return i instanceof t&&i.suppressUnhandledRejections(),this.H(void 0,n,void 0,{value:i},void 0);var r=arguments[1];return r instanceof t&&r.suppressUnhandledRejections(),this.caught(i,function(){return r})}}},{}],11:[function(t,n,i){n.exports=function(t,n){var i=t.reduce,r=t.all;function e(){return r(this)}t.prototype.each=function(t){return i(this,t,n,0).H(e,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(t){return i(this,t,n,n)},t.each=function(t,r){return i(t,r,n,0).H(e,void 0,void 0,t,void 0)},t.mapSeries=function(t,r){return i(t,r,n,n)}}},{}],12:[function(t,n,i){var r,e,u=t("./es5"),o=u.freeze,s=t("./util"),c=s.inherits,a=s.notEnumerableProp;function f(t,n){function i(r){if(!(this instanceof i))return new i(r);a(this,"message","string"==typeof r?r:n),a(this,"name",t),v.captureStackTrace?v.captureStackTrace(this,this.constructor):v.call(this)}return c(i,v),i}var h=f("Warning","warning"),l=f("CancellationError","cancellation error"),w=f("TimeoutError","timeout error"),y=f("AggregateError","aggregate error");try{r=d,e=RangeError}catch(t){r=f("TypeError","type error"),e=f("RangeError","range error")}for(var g="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),_=0;_<g.length;++_)"function"==typeof Array.prototype[g[_]]&&(y.prototype[g[_]]=Array.prototype[g[_]]);u.defineProperty(y.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),y.prototype.isOperational=!0;var p=0;function m(t){if(!(this instanceof m))return new m(t);a(this,"name","OperationalError"),a(this,"message",t),this.cause=t,this.isOperational=!0,t instanceof v?(a(this,"message",t.message),a(this,"stack",t.stack)):v.captureStackTrace&&v.captureStackTrace(this,this.constructor)}y.prototype.toString=function(){var t=Array(4*p+1).join(" "),n="\n"+t+"AggregateError of:\n";p++,t=Array(4*p+1).join(" ");for(var i=0;i<this.length;++i){for(var r=this[i]===this?"[Circular AggregateError]":this[i]+"",e=r.split("\n"),u=0;u<e.length;++u)e[u]=t+e[u];r=e.join("\n"),n+=r+"\n"}return p--,n},c(m,v);var k=v.in;k||(k=o({CancellationError:l,TimeoutError:w,OperationalError:m,RejectionError:m,AggregateError:y}),u.defineProperty(v,"in",{value:k,writable:!1,enumerable:!1,configurable:!1})),n.exports={Error:v,TypeError:r,RangeError:e,CancellationError:k.CancellationError,OperationalError:k.OperationalError,TimeoutError:k.TimeoutError,AggregateError:k.AggregateError,Warning:h}},{"./es5":13,"./util":36}],13:[function(t,n,i){var r=function(){return void 0===this}();if(r)n.exports={freeze:l.freeze,defineProperty:l.defineProperty,getDescriptor:l.getOwnPropertyDescriptor,keys:l.keys,names:l.getOwnPropertyNames,getPrototypeOf:l.getPrototypeOf,isArray:Array.isArray,isES5:r,propertyIsWritable:function(t,n){var i=l.getOwnPropertyDescriptor(t,n);return!(i&&!i.writable&&!i.set)}};else{var e={}.hasOwnProperty,u={}.toString,o={}.constructor.prototype,s=function(t){var n=[];for(var i in t)e.call(t,i)&&n.push(i);return n};n.exports={isArray:function(t){try{return"[object Array]"===u.call(t)}catch(t){return!1}},keys:s,names:s,defineProperty:function(t,n,i){return t[n]=i.value,t},getDescriptor:function(t,n){return{value:t[n]}},freeze:function(t){return t},getPrototypeOf:function(t){try{return l(t).constructor.prototype}catch(t){return o}},isES5:r,propertyIsWritable:function(){return!0}}}},{}],14:[function(t,n,i){n.exports=function(t,n){var i=t.map;t.prototype.filter=function(t,r){return i(this,t,r,n)},t.filter=function(t,r,e){return i(t,r,e,n)}}},{}],15:[function(t,n,i){n.exports=function(n,i,r){var e=t("./util"),u=n.CancellationError,o=e.errorObj,s=t("./catch_filter")(r);function c(t,n,i){this.promise=t,this.type=n,this.handler=i,this.called=!1,this.cancelPromise=null}function a(t){this.finallyHandler=t}function f(t,n){return null!=t.cancelPromise&&(arguments.length>1?t.cancelPromise.V(n):t.cancelPromise.yt(),t.cancelPromise=null,!0)}function h(){return l.call(this,this.promise.Y().Ht())}function v(t){if(!f(this,t))return o.e=t,o}function l(t){var e=this.promise,s=this.handler;if(!this.called){this.called=!0;var c=this.isFinallyHandler()?s.call(e.G()):s.call(e.G(),t);if(c===r)return c;if(void 0!==c){e.Ut();var d=i(c,e);if(d instanceof n){if(null!=this.cancelPromise){if(d.Et()){var l=new u("late cancellation observer");return e.Rt(l),o.e=l,o}d.isPending()&&d.Yt(new a(this))}return d.H(h,v,void 0,this,void 0)}}}return e.isRejected()?(f(this),o.e=t,o):(f(this),t)}return c.prototype.isFinallyHandler=function(){return 0===this.type},a.prototype._resultCancelled=function(){f(this.finallyHandler)},n.prototype.rn=function(t,n,i,r){return"function"!=typeof t?this.then():this.H(i,r,void 0,new c(this,n,t),void 0)},n.prototype.lastly=n.prototype.finally=function(t){return this.rn(t,0,l,l)},n.prototype.tap=function(t){return this.rn(t,1,l)},n.prototype.tapCatch=function(t){var i=arguments.length;if(1===i)return this.rn(t,1,void 0,l);var r,u=new Array(i-1),o=0;for(r=0;r<i-1;++r){var c=arguments[r];if(!e.isObject(c))return n.reject(new d("tapCatch statement predicate: expecting an object but got "+e.classString(c)));u[o++]=c}u.length=o;var a=arguments[r];return this.rn(s(u,a,this),1,void 0,l)},c}},{"./catch_filter":7,"./util":36}],16:[function(t,n,i){n.exports=function(n,i,r,e,u,o){var s=t("./errors"),c=s.TypeError,a=t("./util"),f=a.errorObj,h=a.tryCatch,d=[];function w(t,i,e,u){if(o.cancellation()){var s=new n(r),c=this.en=new n(r);this.un=s.lastly(function(){return c}),s.Xt(),s.J(this)}else{var a=this.un=new n(r);a.Xt()}this.sn=u,this.cn=t,this.an=i,this.fn=void 0,this.hn="function"==typeof e?[e].concat(d):d,this.vn=null,this.dn=!1}a.inherits(w,u),w.prototype.ln=function(){return null===this.un},w.prototype.wn=function(){this.un=this.fn=null,o.cancellation()&&null!==this.en&&(this.en.yn(),this.en=null)},w.prototype.gn=function(){if(!this.ln()){var t,i=void 0!==this.fn.return;if(i)this.un.Nt(),t=h(this.fn.return).call(this.fn,void 0),this.un.Ot();else{var r=new n.CancellationError("generator .return() sentinel");n.coroutine.returnSentinel=r,this.un.Rt(r),this.un.Nt(),t=h(this.fn.throw).call(this.fn,r),this.un.Ot()}this.dn=!0,this.vn=null,this._n(t)}},w.prototype.pn=function(t){this.vn=null,this.un.Nt();var n=h(this.fn.next).call(this.fn,t);this.un.Ot(),this._n(n)},w.prototype.mn=function(t){this.vn=null,this.un.Rt(t),this.un.Nt();var n=h(this.fn.throw).call(this.fn,t);this.un.Ot(),this._n(n)},w.prototype._resultCancelled=function(){if(this.vn instanceof n){var t=this.vn;this.vn=null,t.cancel()}},w.prototype.promise=function(){return this.un},w.prototype.kn=function(){this.fn=this.cn.call(this.an),this.an=this.cn=void 0,this.pn(void 0)},w.prototype._n=function(t){var i=this.un;if(t===f)return this.wn(),this.dn?i.cancel():i.bn(t.e,!1);var r=t.value;if(!0===t.done)return this.wn(),this.dn?i.cancel():i.W(r);var u=e(r,this.un);if(u instanceof n||null!==(u=function(t,i,r){for(var u=0;u<i.length;++u){r.Nt();var o=h(i[u])(t);if(r.Ot(),o===f){r.Nt();var s=n.reject(f.e);return r.Ot(),s}var c=e(o,r);if(c instanceof n)return c}return null}(u,this.hn,this.un))){var o=(u=u.Y()).j;0==(50397184&o)?(this.vn=u,u.Tn(this,null)):0!=(33554432&o)?n.it.invoke(this.pn,this,u.En()):0!=(16777216&o)?n.it.invoke(this.mn,this,u.Sn()):this.gn()}else this.mn(new c("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(r))+"From coroutine:\n"+this.sn.split("\n").slice(1,-7).join("\n")))},n.coroutine=function(t,n){if("function"!=typeof t)throw new c("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var i=l(n).yieldHandler,r=w,e=(new v).stack;return function(){var n=t.apply(this,arguments),u=new r(void 0,void 0,i,e),o=u.promise();return u.fn=n,u.pn(void 0),o}},n.coroutine.addYieldHandler=function(t){if("function"!=typeof t)throw new c("expecting a function but got "+a.classString(t));d.push(t)},n.spawn=function(t){if(o.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof t)return i("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var r=new w(t,this),e=r.promise();return r.kn(n.spawn),e}}},{"./errors":12,"./util":36}],17:[function(t,n,i){n.exports=function(n,i,r,e,u,o){var s=t("./util");s.canEvaluate,s.tryCatch,s.errorObj,n.join=function(){var t,n=arguments.length-1;n>0&&"function"==typeof arguments[n]&&(t=arguments[n]);var r=[].slice.call(arguments);t&&r.pop();var e=new i(r).promise();return void 0!==t?e.spread(t):e}}},{"./util":36}],18:[function(t,n,i){n.exports=function(n,i,r,e,u,o){var s=n.Pt,c=t("./util"),a=c.tryCatch,f=c.errorObj,h=n.it;function v(t,n,i,r){this.constructor$(t),this.un.Xt();var e=s();this.Rn=null===e?n:c.domainBind(e,n),this.In=r===u?new Array(this.length()):null,this.Cn=i,this.An=0,this.Dn=[],h.invoke(this.Nn,this,void 0)}function l(t,i,e,u){if("function"!=typeof i)return r("expecting a function but got "+c.classString(i));var o=0;if(void 0!==e){if("object"!=typeof e||null===e)return n.reject(new d("options argument must be an object but it is "+c.classString(e)));if("number"!=typeof e.concurrency)return n.reject(new d("'concurrency' must be a number but it is "+c.classString(e.concurrency)));o=e.concurrency}return o="number"==typeof o&&isFinite(o)&&o>=1?o:0,new v(t,i,o,u).promise()}c.inherits(v,i),v.prototype.Nn=function(){this._init$(void 0,-2)},v.prototype._init=function(){},v.prototype.pn=function(t,i){var r=this.On,u=this.length(),s=this.In,c=this.Cn;if(i<0){if(r[i=-1*i-1]=t,c>=1&&(this.An--,this.xn(),this.ln()))return!0}else{if(c>=1&&this.An>=c)return r[i]=t,this.Dn.push(i),!1;null!==s&&(s[i]=t);var h=this.un,v=this.Rn,d=h.G();h.Nt();var l=a(v).call(d,t,i,u),w=h.Ot();if(o.checkForgottenReturns(l,w,null!==s?"Promise.filter":"Promise.map",h),l===f)return this.V(l.e),!0;var y=e(l,this.un);if(y instanceof n){var g=(y=y.Y()).j;if(0==(50397184&g))return c>=1&&this.An++,r[i]=y,y.Tn(this,-1*(i+1)),!1;if(0==(33554432&g))return 0!=(16777216&g)?(this.V(y.Sn()),!0):(this.yt(),!0);l=y.En()}r[i]=l}var _=++this.Pn;return _>=u&&(null!==s?this.Ln(r,s):this.Fn(r),!0)},v.prototype.xn=function(){for(var t=this.Dn,n=this.Cn,i=this.On;t.length>0&&this.An<n;){if(this.ln())return;var r=t.pop();this.pn(i[r],r)}},v.prototype.Ln=function(t,n){for(var i=n.length,r=new Array(i),e=0,u=0;u<i;++u)t[u]&&(r[e++]=n[u]);r.length=e,this.Fn(r)},v.prototype.preservedValues=function(){return this.In},n.prototype.map=function(t,n){return l(this,t,n,null)},n.map=function(t,n,i,r){return l(t,n,i,r)}}},{"./util":36}],19:[function(t,n,i){n.exports=function(n,i,r,e,u){var o=t("./util"),s=o.tryCatch;n.method=function(t){if("function"!=typeof t)throw new n.TypeError("expecting a function but got "+o.classString(t));return function(){var r=new n(i);r.Xt(),r.Nt();var e=s(t).apply(this,arguments),o=r.Ot();return u.checkForgottenReturns(e,o,"Promise.method",r),r.Mn(e),r}},n.attempt=n.try=function(t){if("function"!=typeof t)return e("expecting a function but got "+o.classString(t));var r,c=new n(i);if(c.Xt(),c.Nt(),arguments.length>1){u.deprecated("calling Promise.try with more than 1 argument");var a=arguments[1],f=arguments[2];r=o.isArray(a)?s(t).apply(f,a):s(t).call(f,a)}else r=s(t)();var h=c.Ot();return u.checkForgottenReturns(r,h,"Promise.try",c),c.Mn(r),c},n.prototype.Mn=function(t){t===o.errorObj?this.bn(t.e,!1):this.W(t,!0)}}},{"./util":36}],20:[function(t,n,i){var r=t("./util"),e=r.maybeWrapAsError,u=t("./errors"),o=u.OperationalError,s=t("./es5"),c=/^(?:name|message|stack|cause)$/;function a(t){var n;if(function(t){return t instanceof v&&s.getPrototypeOf(t)===v.prototype}(t)){(n=new o(t)).name=t.name,n.message=t.message,n.stack=t.stack;for(var i=s.keys(t),e=0;e<i.length;++e){var u=i[e];c.test(u)||(n[u]=t[u])}return n}return r.markAsOriginatingFromRejection(t),t}n.exports=function(t,n){return function(i,r){if(null!==t){if(i){var u=a(e(i));t.Rt(u),t.V(u)}else if(n){var o=[].slice.call(arguments,1);t.yn(o)}else t.yn(r);t=null}}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(t,n,i){n.exports=function(n){var i=t("./util"),r=n.it,e=i.tryCatch,u=i.errorObj;function o(t,n){if(!i.isArray(t))return s.call(this,t,n);var o=e(n).apply(this.G(),[null].concat(t));o===u&&r.throwLater(o.e)}function s(t,n){var i=this.G(),o=void 0===t?e(n).call(i,null):e(n).call(i,null,t);o===u&&r.throwLater(o.e)}function c(t,n){if(!t){var i=new v(t+"");i.cause=t,t=i}var o=e(n).call(this.G(),t);o===u&&r.throwLater(o.e)}n.prototype.asCallback=n.prototype.nodeify=function(t,n){if("function"==typeof t){var i=s;void 0!==n&&l(n).spread&&(i=o),this.H(i,c,void 0,this,t)}return this}}},{"./util":36}],22:[function(t,n,i){n.exports=function(){var i=function(){return new d("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},r=function(){return new A.PromiseInspection(this.Y())},e=function(t){return A.reject(new d(t))};function u(){}var o,s={},c=t("./util");o=c.isNode?function(){var t=process.domain;return void 0===t&&(t=null),t}:function(){return null},c.notEnumerableProp(A,"Pt",o);var a=t("./es5"),f=t("./async"),h=new f;a.defineProperty(A,"it",{value:h});var v=t("./errors"),d=A.TypeError=v.TypeError;A.RangeError=v.RangeError;var w=A.CancellationError=v.CancellationError;A.TimeoutError=v.TimeoutError,A.OperationalError=v.OperationalError,A.RejectionError=v.OperationalError,A.AggregateError=v.AggregateError;var y=function(){},g={},_={},p=t("./thenables")(A,y),m=t("./promise_array")(A,y,p,e,u),k=t("./context")(A),b=k.create,T=t("./debuggability")(A,k),E=(T.CapturedTrace,t("./finally")(A,p,_)),S=t("./catch_filter")(_),R=t("./nodeback"),I=c.errorObj,C=c.tryCatch;function A(t){t!==y&&function(t,n){if(null==t||t.constructor!==A)throw new d("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof n)throw new d("expecting a function but got "+c.classString(n))}(this,t),this.j=0,this.Bn=void 0,this.Un=void 0,this.Vn=void 0,this.qn=void 0,this.Hn(t),this.Dt(),this.Qt("promiseCreated",this)}function D(t){this.promise.W(t)}function N(t){this.promise.bn(t,!1)}function O(t){var n=new A(y);n.Bn=t,n.Un=t,n.Vn=t,n.qn=t}return A.prototype.toString=function(){return"[object Promise]"},A.prototype.caught=A.prototype.catch=function(t){var n=arguments.length;if(n>1){var i,r=new Array(n-1),u=0;for(i=0;i<n-1;++i){var o=arguments[i];if(!c.isObject(o))return e("Catch statement predicate: expecting an object but got "+c.classString(o));r[u++]=o}if(r.length=u,"function"!=typeof(t=arguments[i]))throw new d("The last argument to .catch() must be a function, got "+c.toString(t));return this.then(void 0,S(r,t,this))}return this.then(void 0,t)},A.prototype.reflect=function(){return this.H(r,r,void 0,this,void 0)},A.prototype.then=function(t,n){if(T.warnings()&&arguments.length>0&&"function"!=typeof t&&"function"!=typeof n){var i=".then() only accepts functions but was passed: "+c.classString(t);arguments.length>1&&(i+=", "+c.classString(n)),this.rt(i)}return this.H(t,n,void 0,void 0,void 0)},A.prototype.done=function(t,n){var i=this.H(t,n,void 0,void 0,void 0);i.jn()},A.prototype.spread=function(t){return"function"!=typeof t?e("expecting a function but got "+c.classString(t)):this.all().H(t,void 0,void 0,g,void 0)},A.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this.value(),t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this.reason(),t.isRejected=!0),t},A.prototype.all=function(){return arguments.length>0&&this.rt(".all() was passed arguments but it does not take any"),new m(this).promise()},A.prototype.error=function(t){return this.caught(c.originatesFromRejection,t)},A.getNewLibraryCopy=n.exports,A.is=function(t){return t instanceof A},A.fromNode=A.fromCallback=function(t){var n=new A(y);n.Xt();var i=arguments.length>1&&!!l(arguments[1]).multiArgs,r=C(t)(R(n,i));return r===I&&n.bn(r.e,!0),n.Wn()||n.zn(),n},A.all=function(t){return new m(t).promise()},A.cast=function(t){var n=p(t);return n instanceof A||((n=new A(y)).Xt(),n.$n(),n.Un=t),n},A.resolve=A.fulfilled=A.cast,A.reject=A.rejected=function(t){var n=new A(y);return n.Xt(),n.bn(t,!0),n},A.setScheduler=function(t){if("function"!=typeof t)throw new d("expecting a function but got "+c.classString(t));return h.setScheduler(t)},A.prototype.H=function(t,n,i,r,e){var u=void 0!==e,s=u?e:new A(y),a=this.Y(),f=a.j;u||(s.X(this,3),s.Xt(),void 0===r&&0!=(2097152&this.j)&&(r=0!=(50397184&f)?this.G():a===this?void 0:this.Z),this.Qt("promiseChained",this,s));var v=o();if(0!=(50397184&f)){var d,l,g=a.Xn;0!=(33554432&f)?(l=a.Un,d=t):0!=(16777216&f)?(l=a.Bn,d=n,a.$t()):(g=a.Gn,l=new w("late cancellation observer"),a.Rt(l),d=n),h.invoke(g,a,{handler:null===v?d:"function"==typeof d&&c.domainBind(v,d),promise:s,receiver:r,value:l})}else a.Yn(t,n,s,r,v);return s},A.prototype.kt=function(){return 65535&this.j},A.prototype.Wn=function(){return 0!=(117506048&this.j)},A.prototype.ot=function(){return 67108864==(67108864&this.j)},A.prototype.Kn=function(t){this.j=-65536&this.j|65535&t},A.prototype.$n=function(){this.j=33554432|this.j,this.Qt("promiseFulfilled",this)},A.prototype.Jn=function(){this.j=16777216|this.j,this.Qt("promiseRejected",this)},A.prototype.Qn=function(){this.j=67108864|this.j,this.Qt("promiseResolved",this)},A.prototype.jn=function(){this.j=4194304|this.j},A.prototype.Zn=function(){return(4194304&this.j)>0},A.prototype.ti=function(){this.j=-65537&this.j},A.prototype._t=function(){this.j=65536|this.j,this.Qt("promiseCancelled",this)},A.prototype.ft=function(){this.j=8388608|this.j},A.prototype.zn=function(){h.hasCustomScheduler()||(this.j=134217728|this.j)},A.prototype.ni=function(t){var n=0===t?this.qn:this[4*t-4+3];if(n!==s)return void 0===n&&this.nt()?this.G():n},A.prototype.ii=function(t){return this[4*t-4+2]},A.prototype.ri=function(t){return this[4*t-4+0]},A.prototype.ei=function(t){return this[4*t-4+1]},A.prototype.G=function(){},A.prototype.ui=function(t){t.j;var n=t.Bn,i=t.Un,r=t.Vn,e=t.ni(0);void 0===e&&(e=s),this.Yn(n,i,r,e,null)},A.prototype.oi=function(t,n){var i=t.ri(n),r=t.ei(n),e=t.ii(n),u=t.ni(n);void 0===u&&(u=s),this.Yn(i,r,e,u,null)},A.prototype.Yn=function(t,n,i,r,e){var u=this.kt();if(u>=65531&&(u=0,this.Kn(0)),0===u)this.Vn=i,this.qn=r,"function"==typeof t&&(this.Bn=null===e?t:c.domainBind(e,t)),"function"==typeof n&&(this.Un=null===e?n:c.domainBind(e,n));else{var o=4*u-4;this[o+2]=i,this[o+3]=r,"function"==typeof t&&(this[o+0]=null===e?t:c.domainBind(e,t)),"function"==typeof n&&(this[o+1]=null===e?n:c.domainBind(e,n))}return this.Kn(u+1),u},A.prototype.Tn=function(t,n){this.Yn(void 0,void 0,n,t,null)},A.prototype.W=function(t,n){if(0==(117506048&this.j)){if(t===this)return this.bn(i(),!1);var r=p(t,this);if(!(r instanceof A))return this.yn(t);n&&this.X(r,2);var e=r.Y();if(e!==this){var u=e.j;if(0==(50397184&u)){var o=this.kt();o>0&&e.ui(this);for(var s=1;s<o;++s)e.oi(this,s);this.Qn(),this.Kn(0),this.si(e)}else if(0!=(33554432&u))this.yn(e.En());else if(0!=(16777216&u))this.V(e.Sn());else{var c=new w("late cancellation observer");e.Rt(c),this.V(c)}}else this.V(i())}},A.prototype.bn=function(t,n,i){var r=c.ensureErrorObject(t),e=r===t;if(!e&&!i&&T.warnings()){var u="a promise was rejected with a non-error: "+c.classString(t);this.rt(u,!0)}this.Rt(r,!!n&&e),this.V(t)},A.prototype.Hn=function(t){if(t!==y){var n=this;this.Xt(),this.Nt();var i=!0,r=this.Jt(t,function(t){n.W(t)},function(t){n.bn(t,i)});i=!1,this.Ot(),void 0!==r&&n.bn(r,!0)}},A.prototype.ci=function(t,n,i,r){var e=r.j;if(0==(65536&e)){var u;r.Nt(),n===g?i&&"number"==typeof i.length?u=C(t).apply(this.G(),i):(u=I).e=new d("cannot .spread() a non-array: "+c.classString(i)):u=C(t).call(n,i);var o=r.Ot();0==(65536&(e=r.j))&&(u===_?r.V(i):u===I?r.bn(u.e,!1):(T.checkForgottenReturns(u,o,"",r,this),r.W(u)))}},A.prototype.Y=function(){for(var t=this;t.ot();)t=t.st();return t},A.prototype.st=function(){return this.Un},A.prototype.si=function(t){this.Un=t},A.prototype.ai=function(t,n,i,e){var o=t instanceof A,s=this.j,c=0!=(134217728&s);0!=(65536&s)?(o&&t.Ct(),i instanceof E&&i.isFinallyHandler()?(i.cancelPromise=t,C(n).call(i,e)===I&&t.V(I.e)):n===r?t.yn(r.call(i)):i instanceof u?i.gn(t):o||t instanceof m?t.yt():i.cancel()):"function"==typeof n?o?(c&&t.zn(),this.ci(n,i,e,t)):n.call(i,e,t):i instanceof u?i.ln()||(0!=(33554432&s)?i.pn(e,t):i.mn(e,t)):o&&(c&&t.zn(),0!=(33554432&s)?t.yn(e):t.V(e))},A.prototype.Gn=function(t){var n=t.handler,i=t.promise,r=t.receiver,e=t.value;"function"==typeof n?i instanceof A?this.ci(n,r,e,i):n.call(r,e,i):i instanceof A&&i.V(e)},A.prototype.Xn=function(t){this.ai(t.promise,t.handler,t.receiver,t.value)},A.prototype.fi=function(t,n,i){var r=this.Vn,e=this.ni(0);this.Vn=void 0,this.qn=void 0,this.ai(r,t,e,n)},A.prototype.hi=function(t){var n=4*t-4;this[n+2]=this[n+3]=this[n+0]=this[n+1]=void 0},A.prototype.yn=function(t){var n=this.j;if(!((117506048&n)>>>16)){if(t===this){var r=i();return this.Rt(r),this.V(r)}this.$n(),this.Un=t,(65535&n)>0&&(0!=(134217728&n)?this.B():h.settlePromises(this),this.Gt())}},A.prototype.V=function(t){var n=this.j;if(!((117506048&n)>>>16)){if(this.Jn(),this.Bn=t,this.Zn())return h.fatalError(t,c.isNode);(65535&n)>0?h.settlePromises(this):this.Lt()}},A.prototype.vi=function(t,n){for(var i=1;i<t;i++){var r=this.ri(i),e=this.ii(i),u=this.ni(i);this.hi(i),this.ai(e,r,u,n)}},A.prototype.di=function(t,n){for(var i=1;i<t;i++){var r=this.ei(i),e=this.ii(i),u=this.ni(i);this.hi(i),this.ai(e,r,u,n)}},A.prototype.B=function(){var t=this.j,n=65535&t;if(n>0){if(0!=(16842752&t)){var i=this.Bn;this.fi(this.Un,i,t),this.di(n,i)}else{var r=this.Un;this.fi(this.Bn,r,t),this.vi(n,r)}this.Kn(0)}this.Kt()},A.prototype.Ht=function(){var t=this.j;return 0!=(33554432&t)?this.Un:0!=(16777216&t)?this.Bn:void 0},"undefined"!=typeof Symbol&&Symbol.toStringTag&&a.defineProperty(A.prototype,Symbol.toStringTag,{get:function(){return"Object"}}),A.defer=A.pending=function(){T.deprecated("Promise.defer","new Promise");var t=new A(y);return{promise:t,resolve:D,reject:N}},c.notEnumerableProp(A,"li",i),t("./method")(A,y,p,e,T),t("./bind")(A,y,p,T),t("./cancel")(A,m,e,T),t("./direct_resolve")(A),t("./synchronous_inspection")(A),t("./join")(A,m,p,y,h,o),A.Promise=A,A.version="3.5.5",t("./call_get.js")(A),t("./generators.js")(A,e,y,p,u,T),t("./map.js")(A,m,e,p,y,T),t("./nodeify.js")(A),t("./promisify.js")(A,y),t("./props.js")(A,m,p,e),t("./race.js")(A,y,p,e),t("./reduce.js")(A,m,e,p,y,T),t("./settle.js")(A,m,T),t("./some.js")(A,m,e),t("./timers.js")(A,y,T),t("./using.js")(A,e,p,b,y,T),t("./any.js")(A),t("./each.js")(A,y),t("./filter.js")(A,y),c.toFastProperties(A),c.toFastProperties(A.prototype),O({a:1}),O({b:2}),O({c:3}),O(1),O(function(){}),O(void 0),O(!1),O(new A(y)),T.setBounds(f.firstLineError,c.lastLineError),A}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(t,n,i){n.exports=function(n,i,r,e,u){var o=t("./util");function s(t){var r=this.un=new n(i);t instanceof n&&r.X(t,3),r.J(this),this.On=t,this.kt=0,this.Pn=0,this._init(void 0,-2)}return o.isArray,o.inherits(s,u),s.prototype.length=function(){return this.kt},s.prototype.promise=function(){return this.un},s.prototype._init=function t(i,u){var s=r(this.On,this.un);if(s instanceof n){var c=(s=s.Y()).j;if(this.On=s,0==(50397184&c))return this.un.zn(),s.H(t,this.V,void 0,this,u);if(0==(33554432&c))return 0!=(16777216&c)?this.V(s.Sn()):this.yt();s=s.En()}if(null!==(s=o.asArray(s)))0!==s.length?this.wi(s):-5===u?this.yi():this.Fn(function(t){switch(t){case-2:return[];case-3:return{};case-6:return new Map}}(u));else{var a=e("expecting an array or an iterable object but got "+o.classString(s)).reason();this.un.bn(a,!1)}},s.prototype.wi=function(t){var i=this.getActualLength(t.length);this.kt=i,this.On=this.shouldCopyValues()?new Array(i):this.On;for(var e=this.un,u=!1,o=null,s=0;s<i;++s){var c=r(t[s],e);c instanceof n?(c=c.Y(),o=c.j):o=null,u?null!==o&&c.suppressUnhandledRejections():null!==o?0==(50397184&o)?(c.Tn(this,s),this.On[s]=c):u=0!=(33554432&o)?this.pn(c.En(),s):0!=(16777216&o)?this.mn(c.Sn(),s):this.gn(s):u=this.pn(c,s)}u||e.zn()},s.prototype.ln=function(){return null===this.On},s.prototype.Fn=function(t){this.On=null,this.un.yn(t)},s.prototype.yt=function(){!this.ln()&&this.un.et()&&(this.On=null,this.un.yt())},s.prototype.V=function(t){this.On=null,this.un.bn(t,!1)},s.prototype.pn=function(t,n){this.On[n]=t;var i=++this.Pn;return i>=this.kt&&(this.Fn(this.On),!0)},s.prototype.gn=function(){return this.yt(),!0},s.prototype.mn=function(t){return this.Pn++,this.V(t),!0},s.prototype._resultCancelled=function(){if(!this.ln()){var t=this.On;if(this.yt(),t instanceof n)t.cancel();else for(var i=0;i<t.length;++i)t[i]instanceof n&&t[i].cancel()}},s.prototype.shouldCopyValues=function(){return!0},s.prototype.getActualLength=function(t){return t},s}},{"./util":36}],24:[function(t,n,i){n.exports=function(n,i){var r={},e=t("./util"),u=t("./nodeback"),o=e.withAppended,s=e.maybeWrapAsError,c=e.canEvaluate,a=t("./errors").TypeError,f={gi:!0},h=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","gi"].join("|")+")$"),v=function(t){return e.isIdentifier(t)&&"_"!==t.charAt(0)&&"constructor"!==t};function d(t){return!h.test(t)}function w(t){try{return!0===t.gi}catch(t){return!1}}function y(t,n,i){var r=e.getDataPropertyOrDefault(t,n+i,f);return!!r&&w(r)}function g(t,n,i,r){for(var u=e.inheritedDataKeys(t),o=[],s=0;s<u.length;++s){var c=u[s],f=t[c],h=r===v||v(c);"function"!=typeof f||w(f)||y(t,c,n)||!r(c,f,t,h)||o.push(c,f)}return function(t,n,i){for(var r=0;r<t.length;r+=2){var e=t[r];if(i.test(e))for(var u=e.replace(i,""),o=0;o<t.length;o+=2)if(t[o]===u)throw new a("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",n))}}(o,n,i),o}var _=function(t){return t.replace(/([$])/,"\\$")},p=c?void 0:function(t,c,a,f,h,v){var d=function(){return this}(),l=t;function w(){var e=c;c===r&&(e=this);var a=new n(i);a.Xt();var f="string"==typeof l&&this!==d?this[l]:t,h=u(a,v);try{f.apply(e,o(arguments,h))}catch(t){a.bn(s(t),!0,!0)}return a.Wn()||a.zn(),a}return"string"==typeof l&&(t=f),e.notEnumerableProp(w,"gi",!0),w};function m(t,n,i,u,o){for(var s=new RegExp(_(n)+"$"),c=g(t,n,s,i),a=0,f=c.length;a<f;a+=2){var h=c[a],v=c[a+1],d=h+n;if(u===p)t[d]=p(h,r,h,v,n,o);else{var l=u(v,function(){return p(h,r,h,v,n,o)});e.notEnumerableProp(l,"gi",!0),t[d]=l}}return e.toFastProperties(t),t}n.promisify=function(t,n){if("function"!=typeof t)throw new a("expecting a function but got "+e.classString(t));if(w(t))return t;var i=void 0===(n=l(n)).context?r:n.context,u=!!n.multiArgs,o=function(t,n,i){return p(t,n,void 0,t,null,i)}(t,i,u);return e.copyDescriptors(t,o,d),o},n.promisifyAll=function(t,n){if("function"!=typeof t&&"object"!=typeof t)throw new a("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");var i=!!(n=l(n)).multiArgs,r=n.suffix;"string"!=typeof r&&(r="Async");var u=n.filter;"function"!=typeof u&&(u=v);var o=n.promisifier;if("function"!=typeof o&&(o=p),!e.isIdentifier(r))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var s=e.inheritedDataKeys(t),c=0;c<s.length;++c){var f=t[s[c]];"constructor"!==s[c]&&e.isClass(f)&&(m(f.prototype,r,u,o,i),m(f,r,u,o,i))}return m(t,r,u,o,i)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(t,n,i){n.exports=function(n,i,r,e){var u,o=t("./util"),s=o.isObject,c=t("./es5");"function"==typeof Map&&(u=Map);var a=function(){var t=0,n=0;function i(i,r){this[t]=i,this[t+n]=r,t++}return function(r){n=r.size,t=0;var e=new Array(2*r.size);return r.forEach(i,e),e}}();function f(t){var n,i=!1;if(void 0!==u&&t instanceof u)n=a(t),i=!0;else{var r=c.keys(t),e=r.length;n=new Array(2*e);for(var o=0;o<e;++o){var s=r[o];n[o]=t[s],n[o+e]=s}}this.constructor$(n),this._i=i,this._init$(void 0,i?-6:-3)}function h(t){var i,u=r(t);return s(u)?(i=u instanceof n?u.H(n.props,void 0,void 0,void 0,void 0):new f(u).promise(),u instanceof n&&i.X(u,2),i):e("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}o.inherits(f,i),f.prototype._init=function(){},f.prototype.pn=function(t,n){this.On[n]=t;var i=++this.Pn;if(i>=this.kt){var r;if(this._i)r=function(t){for(var n=new u,i=t.length/2|0,r=0;r<i;++r){var e=t[i+r],o=t[r];n.set(e,o)}return n}(this.On);else{r={};for(var e=this.length(),o=0,s=this.length();o<s;++o)r[this.On[o+e]]=this.On[o]}return this.Fn(r),!0}return!1},f.prototype.shouldCopyValues=function(){return!1},f.prototype.getActualLength=function(t){return t>>1},n.prototype.props=function(){return h(this)},n.props=function(t){return h(t)}}},{"./es5":13,"./util":36}],26:[function(t,n,i){function r(t){this.pi=t,this.kt=0,this.mi=0}r.prototype.ki=function(t){return this.pi<t},r.prototype.M=function(t){var n=this.length();this.bi(n+1);var i=this.mi+n&this.pi-1;this[i]=t,this.kt=n+1},r.prototype.push=function(t,n,i){var r=this.length()+3;if(this.ki(r))return this.M(t),this.M(n),void this.M(i);var e=this.mi+r-3;this.bi(r);var u=this.pi-1;this[e+0&u]=t,this[e+1&u]=n,this[e+2&u]=i,this.kt=r},r.prototype.shift=function(){var t=this.mi,n=this[t];return this[t]=void 0,this.mi=t+1&this.pi-1,this.kt--,n},r.prototype.length=function(){return this.kt},r.prototype.bi=function(t){this.pi<t&&this.Ti(this.pi<<1)},r.prototype.Ti=function(t){var n=this.pi;this.pi=t;var i=this.mi,r=this.kt,e=i+r&n-1;!function(t,n,i,r,e){for(var u=0;u<e;++u)i[u+r]=t[u+n],t[u+n]=void 0}(this,0,this,n,e)},n.exports=r},{}],27:[function(t,n,i){n.exports=function(n,i,r,e){var u=t("./util"),o=function(t){return t.then(function(n){return s(n,t)})};function s(t,s){var c=r(t);if(c instanceof n)return o(c);if(null===(t=u.asArray(t)))return e("expecting an array or an iterable object but got "+u.classString(t));var a=new n(i);void 0!==s&&a.X(s,3);for(var f=a.yn,h=a.V,v=0,d=t.length;v<d;++v){var l=t[v];(void 0!==l||v in t)&&n.cast(l).H(f,h,void 0,a,null)}return a}n.race=function(t){return s(t,void 0)},n.prototype.race=function(){return s(this,void 0)}}},{"./util":36}],28:[function(t,n,i){n.exports=function(n,i,r,e,u,o){var s=n.Pt,c=t("./util"),a=c.tryCatch;function f(t,i,r,e){this.constructor$(t);var o=s();this.Ei=null===o?i:c.domainBind(o,i),void 0!==r&&(r=n.resolve(r)).Yt(this),this.Si=r,this.Ri=null,this.Ii=e===u?Array(this.kt):0===e?null:void 0,this.un.Xt(),this._init$(void 0,-5)}function h(t,n){this.isFulfilled()?n.Fn(t):n.V(t)}function v(t,n,i,e){if("function"!=typeof n)return r("expecting a function but got "+c.classString(n));var u=new f(t,n,i,e);return u.promise()}function d(t){this.accum=t,this.array.Ci(t);var i=e(this.value,this.array.un);return i instanceof n?(this.array.Ri=i,i.H(l,void 0,void 0,this,void 0)):l.call(this,i)}function l(t){var i,r=this.array,e=r.un,u=a(r.Ei);e.Nt(),(i=void 0!==r.Ii?u.call(e.G(),t,this.index,this.length):u.call(e.G(),this.accum,t,this.index,this.length))instanceof n&&(r.Ri=i);var s=e.Ot();return o.checkForgottenReturns(i,s,void 0!==r.Ii?"Promise.each":"Promise.reduce",e),i}c.inherits(f,i),f.prototype.Ci=function(t){void 0!==this.Ii&&null!==this.Ii&&t!==u&&this.Ii.push(t)},f.prototype.Ai=function(t){return null!==this.Ii&&this.Ii.push(t),this.Ii},f.prototype._init=function(){},f.prototype.yi=function(){this.Fn(void 0!==this.Ii?this.Ii:this.Si)},f.prototype.shouldCopyValues=function(){return!1},f.prototype.Fn=function(t){this.un.W(t),this.On=null},f.prototype._resultCancelled=function(t){if(t===this.Si)return this.yt();this.ln()||(this._resultCancelled$(),this.Ri instanceof n&&this.Ri.cancel(),this.Si instanceof n&&this.Si.cancel())},f.prototype.wi=function(t){var i,r;this.On=t;var e=t.length;if(void 0!==this.Si?(i=this.Si,r=0):(i=n.resolve(t[0]),r=1),this.Ri=i,!i.isRejected())for(;r<e;++r){var u={accum:null,value:t[r],index:r,length:e,array:this};i=i.H(d,void 0,void 0,u,void 0)}void 0!==this.Ii&&(i=i.H(this.Ai,void 0,void 0,this,void 0)),i.H(h,h,void 0,i,this)},n.prototype.reduce=function(t,n){return v(this,t,n,null)},n.reduce=function(t,n,i,r){return v(t,n,i,r)}}},{"./util":36}],29:[function(t,n,i){var r,o,s,a,f,h=t("./util"),d=h.getNativePromise();if(h.isNode&&"undefined"==typeof MutationObserver){var l=k.setImmediate,w=process.nextTick;r=h.isRecentNode?function(t){l.call(k,t)}:function(t){w.call(process,t)}}else if("function"==typeof d&&"function"==typeof d.resolve){var y=d.resolve();r=function(t){y.then(t)}}else r="undefined"!=typeof MutationObserver&&(void 0===e||!e.navigator||!e.navigator.standalone&&!e.cordova)&&"classList"in u.documentElement?(o=u.createElement("div"),s={attributes:!0},a=!1,f=u.createElement("div"),new MutationObserver(function(){o.classList.toggle("foo"),a=!1}).observe(f,s),function(t){var n=new MutationObserver(function(){n.disconnect(),t()});n.observe(o,s),a||(a=!0,f.classList.toggle("foo"))}):"undefined"!=typeof setImmediate?function(t){setImmediate(t)}:void 0!==c?function(t){c(t,0)}:function(){throw new v("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")};n.exports=r},{"./util":36}],30:[function(t,n,i){n.exports=function(n,i,r){var e=n.PromiseInspection,u=t("./util");function o(t){this.constructor$(t)}u.inherits(o,i),o.prototype.Di=function(t,n){this.On[t]=n;var i=++this.Pn;return i>=this.kt&&(this.Fn(this.On),!0)},o.prototype.pn=function(t,n){var i=new e;return i.j=33554432,i.Ni=t,this.Di(n,i)},o.prototype.mn=function(t,n){var i=new e;return i.j=16777216,i.Ni=t,this.Di(n,i)},n.settle=function(t){return r.deprecated(".settle()",".reflect()"),new o(t).promise()},n.prototype.settle=function(){return n.settle(this)}}},{"./util":36}],31:[function(t,n,i){n.exports=function(n,i,r){var e=t("./util"),u=t("./errors").RangeError,o=t("./errors").AggregateError,s=e.isArray,c={};function a(t){this.constructor$(t),this.Oi=0,this.xi=!1,this.Pi=!1}function f(t,n){if((0|n)!==n||n<0)return r("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var i=new a(t),e=i.promise();return i.setHowMany(n),i.init(),e}e.inherits(a,i),a.prototype._init=function(){if(this.Pi)if(0!==this.Oi){this._init$(void 0,-5);var t=s(this.On);!this.ln()&&t&&this.Oi>this.Li()&&this.V(this.Fi(this.length()))}else this.Fn([])},a.prototype.init=function(){this.Pi=!0,this._init()},a.prototype.setUnwrap=function(){this.xi=!0},a.prototype.howMany=function(){return this.Oi},a.prototype.setHowMany=function(t){this.Oi=t},a.prototype.pn=function(t){return this.Mi(t),this.Bi()===this.howMany()&&(this.On.length=this.howMany(),1===this.howMany()&&this.xi?this.Fn(this.On[0]):this.Fn(this.On),!0)},a.prototype.mn=function(t){return this.Ui(t),this.Vi()},a.prototype.gn=function(){return this.On instanceof n||null==this.On?this.yt():(this.Ui(c),this.Vi())},a.prototype.Vi=function(){if(this.howMany()>this.Li()){for(var t=new o,n=this.length();n<this.On.length;++n)this.On[n]!==c&&t.push(this.On[n]);return t.length>0?this.V(t):this.yt(),!0}return!1},a.prototype.Bi=function(){return this.Pn},a.prototype.qi=function(){return this.On.length-this.length()},a.prototype.Ui=function(t){this.On.push(t)},a.prototype.Mi=function(t){this.On[this.Pn++]=t},a.prototype.Li=function(){return this.length()-this.qi()},a.prototype.Fi=function(t){var n="Input array must contain at least "+this.Oi+" items but contains only "+t+" items";return new u(n)},a.prototype.yi=function(){this.V(this.Fi(0))},n.some=function(t,n){return f(t,n)},n.prototype.some=function(t){return f(this,t)},n.o=a}},{"./errors":12,"./util":36}],32:[function(t,n,i){n.exports=function(t){function n(t){void 0!==t?(t=t.Y(),this.j=t.j,this.Ni=t.Wn()?t.Ht():void 0):(this.j=0,this.Ni=void 0)}n.prototype.Ht=function(){return this.Ni};var i=n.prototype.value=function(){if(!this.isFulfilled())throw new d("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this.Ht()},r=n.prototype.error=n.prototype.reason=function(){if(!this.isRejected())throw new d("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this.Ht()},e=n.prototype.isFulfilled=function(){return 0!=(33554432&this.j)},u=n.prototype.isRejected=function(){return 0!=(16777216&this.j)},o=n.prototype.isPending=function(){return 0==(50397184&this.j)},s=n.prototype.isResolved=function(){return 0!=(50331648&this.j)};n.prototype.isCancelled=function(){return 0!=(8454144&this.j)},t.prototype.Hi=function(){return 65536==(65536&this.j)},t.prototype.Et=function(){return this.Y().Hi()},t.prototype.isCancelled=function(){return 0!=(8454144&this.Y().j)},t.prototype.isPending=function(){return o.call(this.Y())},t.prototype.isRejected=function(){return u.call(this.Y())},t.prototype.isFulfilled=function(){return e.call(this.Y())},t.prototype.isResolved=function(){return s.call(this.Y())},t.prototype.value=function(){return i.call(this.Y())},t.prototype.reason=function(){var t=this.Y();return t.$t(),r.call(t)},t.prototype.En=function(){return this.Ht()},t.prototype.Sn=function(){return this.$t(),this.Ht()},t.PromiseInspection=n}},{}],33:[function(t,n,i){n.exports=function(n,i){var r=t("./util"),e=r.errorObj,u=r.isObject,o={}.hasOwnProperty;return function(t,s){if(u(t)){if(t instanceof n)return t;var c=function(t){try{return function(t){return t.then}(t)}catch(t){return e.e=t,e}}(t);if(c===e){s&&s.Nt();var a=n.reject(c.e);return s&&s.Ot(),a}if("function"==typeof c){if(function(t){try{return o.call(t,"Vn")}catch(t){return!1}}(t)){var a=new n(i);return t.H(a.yn,a.V,void 0,a,null),a}return function(t,u,o){var s=new n(i),c=s;o&&o.Nt(),s.Xt(),o&&o.Ot();var a=!0,f=r.tryCatch(u).call(t,function(t){s&&(s.W(t),s=null)},function(t){s&&(s.bn(t,a,!0),s=null)});return a=!1,s&&f===e&&(s.bn(f.e,!0,!0),s=null),c}(t,c,s)}}return t}}},{"./util":36}],34:[function(t,n,i){n.exports=function(n,i,r){var e=t("./util"),u=n.TimeoutError;function o(t){this.handle=t}o.prototype._resultCancelled=function(){a(this.handle)};var s=function(t){return f(+this).thenReturn(t)},f=n.delay=function(t,e){var u,a;return void 0!==e?(u=n.resolve(e).H(s,null,null,t,void 0),r.cancellation()&&e instanceof n&&u.J(e)):(u=new n(i),a=c(function(){u.yn()},+t),r.cancellation()&&u.J(new o(a)),u.Xt()),u.zn(),u};function h(t){return a(this.handle),t}function d(t){throw a(this.handle),t}n.prototype.delay=function(t){return f(t,this)},n.prototype.timeout=function(t,n){var i,s,a=new o(c(function(){i.isPending()&&function(t,n,i){var r;r="string"!=typeof n?n instanceof v?n:new u("operation timed out"):new u(n),e.markAsOriginatingFromRejection(r),t.Rt(r),t.V(r),null!=i&&i.cancel()}(i,n,s)},t=+t));return r.cancellation()?(s=this.then(),(i=s.H(h,d,void 0,a,void 0)).J(a)):i=this.H(h,d,void 0,a,void 0),i}}},{"./util":36}],35:[function(t,n,i){n.exports=function(n,i,r,e,u,o){var s=t("./util"),a=t("./errors").TypeError,f=t("./util").inherits,h=s.errorObj,v=s.tryCatch,d={};function l(t){c(function(){throw t},0)}function w(t,i){var e=0,o=t.length,s=new n(u);return function u(){if(e>=o)return s.yn();var c=function(t){var n=r(t);return n!==t&&"function"==typeof t.ji&&"function"==typeof t.Wi&&t.ji()&&n.zi(t.Wi()),n}(t[e++]);if(c instanceof n&&c.ji()){try{c=r(c.Wi().tryDispose(i),t.promise)}catch(t){return l(t)}if(c instanceof n)return c.H(u,l,null,null,null)}u()}(),s}function y(t,n,i){this.$i=t,this.un=n,this.Xi=i}function g(t,n,i){this.constructor$(t,n,i)}function _(t){return y.isDisposer(t)?(this.resources[this.index].zi(t),t.promise()):t}function p(t){this.length=t,this.promise=null,this[t-1]=null}y.prototype.data=function(){return this.$i},y.prototype.promise=function(){return this.un},y.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():d},y.prototype.tryDispose=function(t){var n=this.resource(),i=this.Xi;void 0!==i&&i.Nt();var r=n!==d?this.doDispose(n,t):null;return void 0!==i&&i.Ot(),this.un.Gi(),this.$i=null,r},y.isDisposer=function(t){return null!=t&&"function"==typeof t.resource&&"function"==typeof t.tryDispose},f(g,y),g.prototype.doDispose=function(t,n){var i=this.data();return i.call(t,t,n)},p.prototype._resultCancelled=function(){for(var t=this.length,i=0;i<t;++i){var r=this[i];r instanceof n&&r.cancel()}},n.using=function(){var t=arguments.length;if(t<2)return i("you must pass at least 2 arguments to Promise.using");var e,u=arguments[t-1];if("function"!=typeof u)return i("expecting a function but got "+s.classString(u));var c=!0;2===t&&Array.isArray(arguments[0])?(e=arguments[0],t=e.length,c=!1):(e=arguments,t--);for(var a=new p(t),f=0;f<t;++f){var d=e[f];if(y.isDisposer(d)){var l=d;(d=d.promise()).zi(l)}else{var g=r(d);g instanceof n&&(d=g.H(_,null,null,{resources:a,index:f},void 0))}a[f]=d}for(var m=new Array(a.length),f=0;f<m.length;++f)m[f]=n.resolve(a[f]).reflect();var k=n.all(m).then(function(t){for(var n=0;n<t.length;++n){var i=t[n];if(i.isRejected())return h.e=i.error(),h;if(!i.isFulfilled())return void k.cancel();t[n]=i.value()}b.Nt(),u=v(u);var r=c?u.apply(void 0,t):u(t),e=b.Ot();return o.checkForgottenReturns(r,e,"Promise.using",b),r}),b=k.lastly(function(){var t=new n.PromiseInspection(k);return w(a,t)});return a.promise=b,b.J(a),b},n.prototype.zi=function(t){this.j=131072|this.j,this.Yi=t},n.prototype.ji=function(){return(131072&this.j)>0},n.prototype.Wi=function(){return this.Yi},n.prototype.Gi=function(){this.j=-131073&this.j,this.Yi=void 0},n.prototype.disposer=function(t){if("function"==typeof t)return new g(t,this,e());throw new a}}},{"./errors":12,"./util":36}],36:[function(n,i,r){var u,o=n("./es5"),c=void 0===s,a={e:{}},f=void 0!==t?t:void 0!==e?e:void 0!==k?k:void 0!==this?this:null;function h(){try{var t=u;return u=null,t.apply(this,arguments)}catch(t){return a.e=t,a}}function d(t){return null==t||!0===t||!1===t||"string"==typeof t||"number"==typeof t}function w(t,n,i){if(d(t))return t;var r={value:i,configurable:!0,enumerable:!1,writable:!0};return o.defineProperty(t,n,r),t}var y=function(){var t=[Array.prototype,l.prototype,Function.prototype],n=function(n){for(var i=0;i<t.length;++i)if(t[i]===n)return!0;return!1};if(o.isES5){var i=l.getOwnPropertyNames;return function(t){for(var r=[],e=l.create(null);null!=t&&!n(t);){var u;try{u=i(t)}catch(t){return r}for(var s=0;s<u.length;++s){var c=u[s];if(!e[c]){e[c]=!0;var a=l.getOwnPropertyDescriptor(t,c);null!=a&&null==a.get&&null==a.set&&r.push(c)}}t=o.getPrototypeOf(t)}return r}}var r={}.hasOwnProperty;return function(i){if(n(i))return[];var e=[];t:for(var u in i)if(r.call(i,u))e.push(u);else{for(var o=0;o<t.length;++o)if(r.call(t[o],u))continue t;e.push(u)}return e}}(),g=/this\s*\.\s*\S+\s*=/,_=/^[a-z$_][a-z$_0-9]*$/i;function p(t){try{return t+""}catch(t){return"[no string representation]"}}function m(t){return t instanceof v||null!==t&&"object"==typeof t&&"string"==typeof t.message&&"string"==typeof t.name}function b(t){return m(t)&&o.propertyIsWritable(t,"stack")}var T="stack"in new v?function(t){return b(t)?t:new v(p(t))}:function(t){if(b(t))return t;try{throw new v(p(t))}catch(t){return t}};function E(t){return{}.toString.call(t)}var S=function(t){return o.isArray(t)?t:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var R="function"==typeof Array.from?function(t){return Array.from(t)}:function(t){for(var n,i=[],r=t[Symbol.iterator]();!(n=r.next()).done;)i.push(n.value);return i};S=function(t){return o.isArray(t)?t:null!=t&&"function"==typeof t[Symbol.iterator]?R(t):null}}var I,C="undefined"!=typeof process&&"[object process]"===E(process).toLowerCase(),A="undefined"!=typeof process&&void 0!==process.env,D={isClass:function(t){try{if("function"==typeof t){var n=o.names(t.prototype),i=o.isES5&&n.length>1,r=n.length>0&&!(1===n.length&&"constructor"===n[0]),e=g.test(t+"")&&o.names(t).length>0;if(i||r||e)return!0}return!1}catch(t){return!1}},isIdentifier:function(t){return _.test(t)},inheritedDataKeys:y,getDataPropertyOrDefault:function(t,n,i){if(!o.isES5)return{}.hasOwnProperty.call(t,n)?t[n]:void 0;var r=l.getOwnPropertyDescriptor(t,n);return null!=r?null==r.get&&null==r.set?r.value:i:void 0},thrower:function(t){throw t},isArray:o.isArray,asArray:S,notEnumerableProp:w,isPrimitive:d,isObject:function(t){return"function"==typeof t||"object"==typeof t&&null!==t},isError:m,canEvaluate:c,errorObj:a,tryCatch:function(t){return u=t,h},inherits:function(t,n){var i={}.hasOwnProperty;function r(){for(var r in this.constructor=t,this.constructor$=n,n.prototype)i.call(n.prototype,r)&&"$"!==r.charAt(r.length-1)&&(this[r+"$"]=n.prototype[r])}return r.prototype=n.prototype,t.prototype=new r,t.prototype},withAppended:function(t,n){var i,r=t.length,e=new Array(r+1);for(i=0;i<r;++i)e[i]=t[i];return e[i]=n,e},maybeWrapAsError:function(t){return d(t)?new v(p(t)):t},toFastProperties:function(t){return t},filledRange:function(t,n,i){for(var r=new Array(t),e=0;e<t;++e)r[e]=n+e+i;return r},toString:p,canAttachTrace:b,ensureErrorObject:T,originatesFromRejection:function(t){return null!=t&&(t instanceof v.in.OperationalError||!0===t.isOperational)},markAsOriginatingFromRejection:function(t){try{w(t,"isOperational",!0)}catch(t){}},classString:E,copyDescriptors:function(t,n,i){for(var r=o.names(t),e=0;e<r.length;++e){var u=r[e];if(i(u))try{o.defineProperty(n,u,o.getDescriptor(t,u))}catch(t){}}},hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:C,hasEnvVariables:A,env:function(t){return A?process.env[t]:void 0},global:f,getNativePromise:function(){if("function"==typeof Promise)try{var t=new Promise(function(){});if("[object Promise]"==={}.toString.call(t))return Promise}catch(t){}},domainBind:function(t,n){return t.bind(n)}};D.isRecentNode=D.isNode&&(process.versions&&process.versions.node?I=process.versions.node.split(".").map(Number):process.version&&(I=process.version.split(".").map(Number)),0===I[0]&&I[1]>10||I[0]>0),D.isNode&&D.toFastProperties(process);try{throw new v}catch(t){D.lastLineError=t}i.exports=D},{"./es5":13}]},{},[4])(4),null!=e?e.P=e.Promise:null!=t&&(t.P=t.Promise)});var D,N,O={Ki:function(){function t(){this.Ji=[]}var n=t.prototype;return n.Qi=function(){},n.Zi=function(t){return{tr:function(){return A.resolve()},nr:function(){}}},n.ir=function(t){throw new v("Not implemented")},n.rr=function(t){return A.resolve()},n.er=function(t){return A.resolve()},n.ur=function(t){},n.sr=function(){},t}(),cr:function(){function t(){}var n=t.prototype;return n.ar=function(){return A.resolve("all")},n.hr=function(){},n.sr=function(){},t}(),dr:{wr:function(t){getActiveDocument().addEventListener("unload",t)},yr:function(t){getActiveDocument().removeEventListener("unload",t)}},gr:{location:{href:"https://theoplayer.doubleclick.net"},get document(){return getActiveDocument()},top:void 0,parent:void 0,self:t,navigator:{userAgent:""},ResizeObserver:function(t){this.observe=function(t){},this.unobserve=function(t){},this.disconnect=function(){}}}};function x(t){N=t}Element.prototype.style={},T=(D=O).Ki,E=D.cr,S=D.dr,R=D.gr,I=R&&R.location,C=R&&R.navigator;var P,L=function(){},F=function(t){return t};(P=A)&&P.config({warnings:!1,longStackTraces:!1});var M,B,U,V,q,H;P&&(V=P.setScheduler(L),M=V,q={_r:function(t){B=t,M(U)},pr:U=function(){var t=B;t&&(B=void 0,t())}},P.setScheduler(q._r));function j(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),l.defineProperty(t,r.key,r)}}function W(t,n,i){return n&&j(t.prototype,n),i&&j(t,i),t}function z(t,n){return(z=l.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function $(t,n){t.prototype=l.create(n.prototype),t.prototype.constructor=t,z(t,n)}!function(t){t.mr="web",t.kr="android",t.br="android-tv",t.Tr="ios",t.Er="tvos",t.Sr="chromecast"}(H||(H={}));var X=s?s.userAgent:"",G=X.match(/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),Y=X.match(/Android ([0-9\.]+)/i),K=X.match(/Windows NT ([0-9\.]+)/i),J=X.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),Q=X.match(/Firefox\/([0-9\.]+)/i),Z=X.match(/OPR\/(\d+\.\d+)/i),tt=X.match(/Tizen ([0-9\.]+)/i),nt=function(){function n(){this.Rr=Boolean("ontouchstart"in t||t.DocumentTouch&&u instanceof t.DocumentTouch||s&&s.msMaxTouchPoints),this.Ir=/(mac\sos\sx)\s?([\w\s\.]+\w)*/i.test(X)||/(macintosh|mac(?=_powerpc)\s)/i.test(X),this.Cr=/Windows NT/i.test(X),this.Ar=K?g(K[1]):0,this.Dr=/Android/i.test(X),this.Nr=Y?g(Y[1]):0,this.Or=/windows phone (8|8\.1)/i.test(X),this.xr=/iPhone/i.test(X),this.Pr=/iPad/i.test(X),this.Lr=this.Ir&&this.Rr&&!this.Pr,this.Fr=/iPod/i.test(X),this.Mr=/Mobile Safari/i.test(X),this.Br=(this.xr||this.Pr||this.Lr||this.Fr)&&!this.Or,this.Ur=this.Or||this.Br||this.Dr||this.Mr,this.Vr=/CriOS/i.test(X),this.qr=Boolean(t.chrome&&/google/i.test(s.vendor))||this.Vr,this.Hr=Boolean(t.chrome||/Chrome/i.test(X)||/CriOS/i.test(X)),this.jr=G?y(G[1],10):0,this.Wr=/SMART-TV.*Tizen/i.test(X),this.zr=tt?g(tt[1]):0,this.$r=/webos|web0s/i.test(X),this.Xr=/Edge\/\d+/i.test(X),this.Gr=/Trident/i.test(X),this.Yr=this.Gr&&!t.ActiveXObject&&"ActiveXObject"in t,this.Kr=/Vivaldi/i.test(X),this.Jr=/Firefox/i.test(X)&&!/Seamonkey/i.test(X),this.Qr=Q?g(Q[1]):0,this.Zr=/Safari/i.test(X)&&!/Chrome/i.test(X)&&!this.Or&&!this.Wr,this.te=J?g(J[2]):0,this.ie=Boolean(Z),this.re=Z?g(Z[1]):0,this.ee=/CrKey/.test(X),this.ue=/\b(tv|smart-tv|smarttv|appletv|crkey|googletv|hbbtv|pov_tv|roku|viera|nettv|philipstv)\b/i.test(X),this.oe="tvos"===H.br,this.se="tvos"===H.kr,this.ce=this.se||this.oe,this.ae="tvos"===H.Tr,this.fe="tvos"===H.Er,this.he="tvos"===H.Sr}return W(n,[{key:"ve",get:function(){return this.Rr}},{key:"de",get:function(){return this.Ir}},{key:"we",get:function(){return this.Cr}},{key:"ye",get:function(){return this.Ar}},{key:"_e",get:function(){return this.Dr}},{key:"pe",get:function(){return this.Nr}},{key:"me",get:function(){return this.Or}},{key:"ke",get:function(){return this.xr}},{key:"be",get:function(){return this.Pr}},{key:"Te",get:function(){return this.Lr}},{key:"Ee",get:function(){return this.Fr}},{key:"Se",get:function(){return this.Br}},{key:"Re",get:function(){return this.Mr}},{key:"Ie",get:function(){return this.Ur}},{key:"Ce",get:function(){return this.Vr}},{key:"Ae",get:function(){return this.qr}},{key:"De",get:function(){return this.jr}},{key:"Ne",get:function(){return this.Wr}},{key:"Oe",get:function(){return this.zr}},{key:"xe",get:function(){return this.$r}},{key:"Pe",get:function(){return this.Xr}},{key:"Le",get:function(){return this.Gr}},{key:"Fe",get:function(){return this.Yr}},{key:"Me",get:function(){return this.Kr}},{key:"Be",get:function(){return this.Jr}},{key:"Ue",get:function(){return this.Qr}},{key:"Ve",get:function(){return this.Zr}},{key:"qe",get:function(){return this.te}},{key:"He",get:function(){return this.ie}},{key:"je",get:function(){return this.re}},{key:"We",get:function(){return this.ee}},{key:"ze",get:function(){return this.ue}},{key:"$e",get:function(){if(!(this.xe||this.Ne))return!1;var t=this.De;return void 0===t||Number(t)<56}},{key:"Xe",get:function(){return this.oe}},{key:"Ge",get:function(){return this.se}},{key:"Ye",get:function(){return this.ce}},{key:"Ke",get:function(){return this.ae}},{key:"Je",get:function(){return this.fe}},{key:"Qe",get:function(){return this.he}},{key:"Ze",get:function(){return this.Hr}}]),n}();nt.tu=new nt;var it=nt.tu,rt={}.hasOwnProperty,et={}.toString;function ut(t){return null!=t}var ot=Array.isArray||function(t){return"[object Array]"===et.call(t)};function st(t){return ct(t)&&rt.call(t,"length")&&dt(t.length)}function ct(t){return"object"==typeof t&&null!==t}function at(t){return ct(t)&&t.constructor&&t.constructor===l}function ft(t){return"string"==typeof t}function ht(t){return"boolean"==typeof t}function vt(t){return Boolean(t)&&"function"==typeof t.then}function dt(t){return"number"==typeof t}var lt=!(it.Le&&!it.Fe),wt=t.console;function yt(t){if(ct(t))try{return JSON.stringify(t)}catch(t){}return t}function gt(t){return t.map(yt).join(" ")}function _t(t){var n=wt&&wt[t];return n?n.bind&&lt?n.bind(wt):function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];wt[t](gt(i))}:void 0}var pt,mt=_t("log")||L,kt=_t("warn")||mt.bind(void 0,"WARNING:"),bt=_t("error")||mt.bind(void 0,"ERROR:"),Tt=(pt=wt&&wt.assert)?pt.bind&&lt?pt.bind(wt):function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];wt.assert(t,gt(i))}:function(t){if(!t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];bt.apply(void 0,["Assertion failed:"].concat(i))}},Et=Rt,St=null;try{St=new WebAssembly.Instance(new WebAssembly.Module(new p([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function Rt(t,n,i){this.low=0|t,this.high=0|n,this.unsigned=!!i}function It(t){return!0===(t&&t.nu)}Rt.prototype.nu,l.defineProperty(Rt.prototype,"nu",{value:!0}),Rt.isLong=It;var Ct={},At={};function Dt(t,n){var i,r,e;return n?(e=0<=(t>>>=0)&&t<256)&&(r=At[t])?r:(i=Ot(t,(0|t)<0?-1:0,!0),e&&(At[t]=i),i):(e=-128<=(t|=0)&&t<128)&&(r=Ct[t])?r:(i=Ot(t,t<0?-1:0,!1),e&&(Ct[t]=i),i)}function Nt(t,n){if(_(t))return n?qt:Vt;if(n){if(t<0)return qt;if(t>=Mt)return $t}else{if(t<=-Bt)return Xt;if(t+1>=Bt)return zt}return t<0?Nt(-t,n).neg():Ot(t%Ft|0,t/Ft|0,n)}function Ot(t,n,i){return new Rt(t,n,i)}Rt.fromInt=Dt,Rt.fromNumber=Nt,Rt.fromBits=Ot;var xt=w.pow;function Pt(t,n,i){if(0===t.length)throw v("empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return Vt;if("number"==typeof n?(i=n,n=!1):n=!!n,(i=i||10)<2||36<i)throw RangeError("radix");var r;if((r=t.indexOf("-"))>0)throw v("interior hyphen");if(0===r)return Pt(t.substring(1),n,i).neg();for(var e=Nt(xt(i,8)),u=Vt,o=0;o<t.length;o+=8){var s=w.min(8,t.length-o),c=y(t.substring(o,o+s),i);if(s<8){var a=Nt(xt(i,s));u=u.mul(a).add(Nt(c))}else u=(u=u.mul(e)).add(Nt(c))}return u.unsigned=n,u}function Lt(t,n){return"number"==typeof t?Nt(t,n):"string"==typeof t?Pt(t,n):Ot(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}Rt.fromString=Pt,Rt.fromValue=Lt;var Ft=4294967296,Mt=Ft*Ft,Bt=Mt/2,Ut=Dt(1<<24),Vt=Dt(0);Rt.ZERO=Vt;var qt=Dt(0,!0);Rt.UZERO=qt;var Ht=Dt(1);Rt.ONE=Ht;var jt=Dt(1,!0);Rt.UONE=jt;var Wt=Dt(-1);Rt.NEG_ONE=Wt;var zt=Ot(-1,2147483647,!1);Rt.MAX_VALUE=zt;var $t=Ot(-1,-1,!0);Rt.MAX_UNSIGNED_VALUE=$t;var Xt=Ot(0,-2147483648,!1);Rt.MIN_VALUE=Xt;var Gt=Rt.prototype;Gt.toInt=function(){return this.unsigned?this.low>>>0:this.low},Gt.toNumber=function(){return this.unsigned?(this.high>>>0)*Ft+(this.low>>>0):this.high*Ft+(this.low>>>0)},Gt.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(Xt)){var n=Nt(t),i=this.div(n),r=i.mul(n).sub(this);return i.toString(t)+r.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var e=Nt(xt(t,6),this.unsigned),u=this,o="";;){var s=u.div(e),c=(u.sub(s.mul(e)).toInt()>>>0).toString(t);if((u=s).isZero())return c+o;for(;c.length<6;)c="0"+c;o=""+c+o}},Gt.getHighBits=function(){return this.high},Gt.getHighBitsUnsigned=function(){return this.high>>>0},Gt.getLowBits=function(){return this.low},Gt.getLowBitsUnsigned=function(){return this.low>>>0},Gt.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Xt)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,n=31;n>0&&0==(t&1<<n);n--);return 0!=this.high?n+33:n+1},Gt.isZero=function(){return 0===this.high&&0===this.low},Gt.eqz=Gt.isZero,Gt.isNegative=function(){return!this.unsigned&&this.high<0},Gt.isPositive=function(){return this.unsigned||this.high>=0},Gt.isOdd=function(){return 1==(1&this.low)},Gt.isEven=function(){return 0==(1&this.low)},Gt.equals=function(t){return It(t)||(t=Lt(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},Gt.eq=Gt.equals,Gt.notEquals=function(t){return!this.eq(t)},Gt.neq=Gt.notEquals,Gt.ne=Gt.notEquals,Gt.lessThan=function(t){return this.comp(t)<0},Gt.lt=Gt.lessThan,Gt.lessThanOrEqual=function(t){return this.comp(t)<=0},Gt.lte=Gt.lessThanOrEqual,Gt.le=Gt.lessThanOrEqual,Gt.greaterThan=function(t){return this.comp(t)>0},Gt.gt=Gt.greaterThan,Gt.greaterThanOrEqual=function(t){return this.comp(t)>=0},Gt.gte=Gt.greaterThanOrEqual,Gt.ge=Gt.greaterThanOrEqual,Gt.compare=function(t){if(It(t)||(t=Lt(t)),this.eq(t))return 0;var n=this.isNegative(),i=t.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},Gt.comp=Gt.compare,Gt.negate=function(){return!this.unsigned&&this.eq(Xt)?Xt:this.not().add(Ht)},Gt.neg=Gt.negate,Gt.add=function(t){It(t)||(t=Lt(t));var n=this.high>>>16,i=65535&this.high,r=this.low>>>16,e=65535&this.low,u=t.high>>>16,o=65535&t.high,s=t.low>>>16,c=0,a=0,f=0,h=0;return f+=(h+=e+(65535&t.low))>>>16,a+=(f+=r+s)>>>16,c+=(a+=i+o)>>>16,c+=n+u,Ot((f&=65535)<<16|(h&=65535),(c&=65535)<<16|(a&=65535),this.unsigned)},Gt.subtract=function(t){return It(t)||(t=Lt(t)),this.add(t.neg())},Gt.sub=Gt.subtract,Gt.multiply=function(t){if(this.isZero())return Vt;if(It(t)||(t=Lt(t)),St)return Ot(St.mul(this.low,this.high,t.low,t.high),St.get_high(),this.unsigned);if(t.isZero())return Vt;if(this.eq(Xt))return t.isOdd()?Xt:Vt;if(t.eq(Xt))return this.isOdd()?Xt:Vt;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(Ut)&&t.lt(Ut))return Nt(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,r=this.low>>>16,e=65535&this.low,u=t.high>>>16,o=65535&t.high,s=t.low>>>16,c=65535&t.low,a=0,f=0,h=0,v=0;return h+=(v+=e*c)>>>16,f+=(h+=r*c)>>>16,h&=65535,f+=(h+=e*s)>>>16,a+=(f+=i*c)>>>16,f&=65535,a+=(f+=r*s)>>>16,f&=65535,a+=(f+=e*o)>>>16,a+=n*c+i*s+r*o+e*u,Ot((h&=65535)<<16|(v&=65535),(a&=65535)<<16|(f&=65535),this.unsigned)},Gt.mul=Gt.multiply,Gt.divide=function(t){if(It(t)||(t=Lt(t)),t.isZero())throw v("division by zero");var n,i,r;if(St)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?Ot((this.unsigned?St.div_u:St.div_s)(this.low,this.high,t.low,t.high),St.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?qt:Vt;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return qt;if(t.gt(this.shru(1)))return jt;r=qt}else{if(this.eq(Xt))return t.eq(Ht)||t.eq(Wt)?Xt:t.eq(Xt)?Ht:(n=this.shr(1).div(t).shl(1)).eq(Vt)?t.isNegative()?Ht:Wt:(i=this.sub(t.mul(n)),r=n.add(i.div(t)));if(t.eq(Xt))return this.unsigned?qt:Vt;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();r=Vt}for(i=this;i.gte(t);){n=w.max(1,w.floor(i.toNumber()/t.toNumber()));for(var e=w.ceil(w.log(n)/w.LN2),u=e<=48?1:xt(2,e-48),o=Nt(n),s=o.mul(t);s.isNegative()||s.gt(i);)s=(o=Nt(n-=u,this.unsigned)).mul(t);o.isZero()&&(o=Ht),r=r.add(o),i=i.sub(s)}return r},Gt.div=Gt.divide,Gt.modulo=function(t){return It(t)||(t=Lt(t)),St?Ot((this.unsigned?St.rem_u:St.rem_s)(this.low,this.high,t.low,t.high),St.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},Gt.mod=Gt.modulo,Gt.rem=Gt.modulo,Gt.not=function(){return Ot(~this.low,~this.high,this.unsigned)},Gt.and=function(t){return It(t)||(t=Lt(t)),Ot(this.low&t.low,this.high&t.high,this.unsigned)},Gt.or=function(t){return It(t)||(t=Lt(t)),Ot(this.low|t.low,this.high|t.high,this.unsigned)},Gt.xor=function(t){return It(t)||(t=Lt(t)),Ot(this.low^t.low,this.high^t.high,this.unsigned)},Gt.shiftLeft=function(t){return It(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Ot(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):Ot(0,this.low<<t-32,this.unsigned)},Gt.shl=Gt.shiftLeft,Gt.shiftRight=function(t){return It(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Ot(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):Ot(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},Gt.shr=Gt.shiftRight,Gt.shiftRightUnsigned=function(t){if(It(t)&&(t=t.toInt()),0===(t&=63))return this;var n=this.high;return t<32?Ot(this.low>>>t|n<<32-t,n>>>t,this.unsigned):Ot(32===t?n:n>>>t-32,0,this.unsigned)},Gt.shru=Gt.shiftRightUnsigned,Gt.shr_u=Gt.shiftRightUnsigned,Gt.toSigned=function(){return this.unsigned?Ot(this.low,this.high,!1):this},Gt.toUnsigned=function(){return this.unsigned?this:Ot(this.low,this.high,!0)},Gt.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},Gt.toBytesLE=function(){var t=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},Gt.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]},Rt.fromBytes=function(t,n,i){return i?Rt.fromBytesLE(t,n):Rt.fromBytesBE(t,n)},Rt.fromBytesLE=function(t,n){return new Rt(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},Rt.fromBytesBE=function(t,n){return new Rt(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};var Yt=Et,Kt=w.pow(2,-52);function Jt(t,n,i){return w.min(w.max(t,n),i)}function Qt(t,n,i){return t===n||w.abs(t-n)<=i}function Zt(t,n){for(var i=t,r=n;0!==r;){var e=i%r;i=r,r=e}return i<0?-i:i}function tn(){return Date.now()||(new Date).getTime()}function nn(t){return t/1e3}var rn;Yt.fromNumber(9007199254740991);function en(t){return t.iu===rn.ru}function un(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}!function(t){t[t.ru=1]="ru",t[t.eu=2]="eu",t[t.uu=3]="uu",t[t.ou=4]="ou",t[t.su=9]="su"}(rn||(rn={}));var on=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];v.apply(this,n)};(on.prototype=l.create(v.prototype)).constructor=on;var sn=function(t){function n(n,i){var r;return(r=t.call(this)||this).cause=void 0,r.message=n||"Unknown error",r.cause=i,v.captureStackTrace&&v.captureStackTrace(un(r),r.constructor),r}return $(n,t),W(n,[{key:"name",get:function(){return"BaseError"}}]),n}(on),cn=function(t){function n(n){return t.call(this,"Invalid XML",n)||this}return $(n,t),n}(sn),an=function(){function t(){}return t.prototype.cu=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new cn(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new cn;return new yn(n)},t}(),fn=function(){function t(t){this.au=void 0,this.au=t}var n=t.prototype;return n.fu=function(t){return this.au.isEqualNode(t.au)},n.hu=function(n){return new t(this.au.cloneNode(n))},W(t,[{key:"iu",get:function(){return rn.eu}},{key:"vu",get:function(){var t;return null!=(t=this.au.localName)?t:pn(this.au.nodeName)}},{key:"du",get:function(){return this.au.nodeName}},{key:"lu",get:function(){var t;return null!=(t=this.au.namespaceURI)?t:void 0}},{key:"wu",get:function(){var t;return null!=(t=this.au.prefix)?t:void 0}},{key:"yu",get:function(){return this.au.nodeValue}}]),t}(),hn=function(){function t(t){this.gu=void 0,this._u=void 0,this.gu=t}var n=t.prototype;return n.pu=function(t){return this.mu.filter(function(n){return gn(n)&&n.ku===t})},n.bu=function(t,n){return this.mu.filter(function(i){return gn(i)&&i.vu===n&&i.lu===t})},n.Tu=function(t){this.gu.appendChild(t.Eu),this._u&&this._u.push(t)},n.fu=function(t){return this.gu.isEqualNode(t.Eu)},W(t,[{key:"mu",get:function(){return void 0===this._u&&(this._u=function(t){for(var n=[],i=0;i<t.length;i++){var r=_n(t.item(i));r&&n.push(r)}return n}(this.gu.childNodes)),this._u}},{key:"Su",get:function(){return this.mu.filter(gn)}},{key:"Eu",get:function(){return this.gu}}]),t}(),vn=function(t){function n(n){return t.call(this,n)||this}$(n,t);var i=n.prototype;return i.Ru=function(t){if(this.gu.hasAttribute(t))return this.gu.getAttribute(t)},i.Iu=function(t,n){if(this.gu.hasAttributeNS(t,n))return this.gu.getAttributeNS(t,n)},i.Cu=function(t){this.gu.removeAttribute(t)},i.Au=function(t,n){this.gu.removeAttributeNS(t,n)},i.Du=function(t,n){this.gu.setAttribute(t,n)},i.Nu=function(t,n,i){this.gu.setAttributeNS(t,n,i)},i.hu=function(t){return new n(this.gu.cloneNode(t))},W(n,[{key:"iu",get:function(){return rn.ru}},{key:"vu",get:function(){var t;return null!=(t=this.gu.localName)?t:pn(this.gu.nodeName)}},{key:"lu",get:function(){var t;return null!=(t=this.gu.namespaceURI)?t:void 0}},{key:"wu",get:function(){var t;return null!=(t=this.gu.prefix)?t:void 0}},{key:"ku",get:function(){return this.gu.nodeName}},{key:"Ou",get:function(){return function(t){for(var n=[],i=0;i<t.length;i++)n.push(new fn(t.item(i)));return n}(this.gu.attributes)}},{key:"xu",get:function(){return this.gu.textContent}}]),n}(hn),dn=function(){function t(t){this.gu=void 0,this.gu=t}return t.prototype.fu=function(t){return this.Pu===t.Pu},W(t,[{key:"Pu",get:function(){return this.gu.nodeValue}},{key:"Eu",get:function(){return this.gu}}]),t}(),ln=function(t){function n(n){return t.call(this,n)||this}return $(n,t),n.prototype.hu=function(t){return new n(this.gu.cloneNode(t))},W(n,[{key:"iu",get:function(){return rn.uu}}]),n}(dn),wn=function(t){function n(n){return t.call(this,n)||this}return $(n,t),n.prototype.hu=function(t){return new n(this.gu.cloneNode(t))},W(n,[{key:"iu",get:function(){return rn.ou}}]),n}(dn),yn=function(t){function n(n){return t.call(this,n)||this}return $(n,t),n.prototype.hu=function(t){return new n(this.gu.cloneNode(t))},W(n,[{key:"iu",get:function(){return rn.su}},{key:"Lu",get:function(){return new vn(this.gu.documentElement)}}]),n}(hn);function gn(t){return en(t)}function _n(t){switch(t.nodeType){case rn.ru:return new vn(t);case rn.uu:return new ln(t);case rn.ou:return new wn(t)}}function pn(t){var n=t.indexOf(":");return n<0?t:t.substr(n+1)}function mn(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),l.defineProperty(t,r.key,r)}}function kn(t,n){var i=function(t,n){var i=t.length;if(i<=1)return t;for(var r=new Array(i),e=1;e<i;e*=2){bn(t,n,e,r);var u=t;t=r,r=u}return t}(t,n);return i!==t&&bn(i,null,t.length,t),t}function bn(t,n,i,r){var e,u,o,s,c,a=t.length,f=0,h=2*i;for(e=0;e<a;e+=h)for(o=(u=e+i)+i,u>a&&(u=a),o>a&&(o=a),s=e,c=u;;)if(s<u&&c<o)n(t[s],t[c])<=0?r[f++]=t[s++]:r[f++]=t[c++];else if(s<u)r[f++]=t[s++];else{if(!(c<o))break;r[f++]=t[c++]}}var Tn=/[a-zA-Z]/,En=/[0-9]/,Sn=/[0-9a-fA-F]/,Rn=/^0x/i,In=/^[0-9]+$/,Cn=/^[0-9a-fA-F]+$/,An=/^[0-7]+$/,Dn=l.prototype.toString,Nn=Array.isArray||function(t){return"[object Array]"===Dn.call(t)},On="undefined"!=typeof Symbol&&"symbol"==typeof Symbol.iterator;function xn(t){return Nn(t)?t:Array.from(t)}function Pn(t){return t>=65&&t<=90}function Ln(t){return Pn(t)||function(t){return t>=97&&t<=122}(t)}function Fn(t){return t>=48&&t<=57}function Mn(t){return Fn(t)||Ln(t)}function Bn(t){return Fn(t)||t>=65&&t<=70||t>=97&&t<=102}function Un(t){return Pn(t)?t+32:t}function Vn(t){return Fn(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function qn(t,n){return void 0===n&&(n=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(n?87:55):-1}var Hn=w.min,jn=String.fromCharCode,Wn=16384;function zn(t){for(var n=t.length,i=[],r=0;r<n;r+=Wn){var e=Hn(r+Wn,n);i.push(jn.apply(null,t.slice(r,e)))}return i.join("")}var $n=/[^\0-\x7E]/,Xn=/[\x2E\u3002\uFF0E\uFF61]/g,Gn={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Yn=w.floor,Kn=String.fromCharCode;function Jn(t){throw new RangeError(Gn[t])}function Qn(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&e)<<10)+(1023&u)+65536):(n.push(e),i--)}else n.push(e)}return n}var Zn,ti,ni,ii=function(t,n){return t+22+75*(t<26)-((0!=n)<<5)},ri=function(t,n,i){var r=0;for(t=i?Yn(t/700):t>>1,t+=Yn(t/n);t>455;r+=36)t=Yn(t/35);return Yn(r+36*t/(t+38))},ei=function(t){return function(t,n){var i=t.split("@"),r="";i.length>1&&(r=i[0]+"@",t=i[1]);var e=function(t,n){for(var i=[],r=t.length;r--;)i[r]=n(t[r]);return i}((t=t.replace(Xn,".")).split("."),n).join(".");return r+e}(t,function(t){return $n.test(t)?"xn--"+function(t){for(var n=[],i=(t=Qn(t)).length,r=128,e=0,u=72,o=0,s=t;o<s.length;o++){var c=s[o];c<128&&n.push(Kn(c))}var a=n.length,f=a;for(a&&n.push("-");f<i;){for(var h=2147483647,v=0,d=t;v<d.length;v++){var l=d[v];l>=r&&l<h&&(h=l)}var w=f+1;h-r>Yn((2147483647-e)/w)&&Jn("overflow"),e+=(h-r)*w,r=h;for(var y=0,g=t;y<g.length;y++){var _=g[y];if(_<r&&++e>2147483647&&Jn("overflow"),_==r){for(var p=e,m=36;;m+=36){var k=m<=u?1:m>=u+26?26:m-u;if(p<k)break;var b=p-k,T=36-k;n.push(Kn(ii(k+b%T,0))),p=Yn(b/T)}n.push(Kn(ii(p,0))),u=ri(e,w,f==a),e=0,++f}}++e,++r}return n.join("")}(t):t})};function ui(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return zn(n)}function oi(t){if(t>=55296&&t<=57343)throw new v("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function si(t,n){return t>>n&63|128}function ci(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(oi(t),n.push(t>>12&15|224),n.push(si(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(si(t,12)),n.push(si(t,6))),n.push(63&t|128)):n.push(t)}function ai(t){for(var n=[],i=0;i<t.length;i++){ci(t[i],n)}return n}function fi(){if(ni>=ti)throw new v("Invalid byte index");var t=255&Zn[ni];if(ni++,128==(192&t))return 63&t;throw new v("Invalid continuation byte")}function hi(){var t,n;if(ni>ti)throw new v("Invalid byte index");if(ni===ti)return!1;if(t=255&Zn[ni],ni++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|fi())>=128)return n;throw new v("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|fi()<<6|fi())>=2048)return oi(n),n;throw new v("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|fi()<<12|fi()<<6|fi())>=65536&&n<=1114111)return n;throw new v("Invalid UTF-8 detected")}function vi(t){return[37,qn(t>>4),qn(15&t)]}function di(t){return function(t){return t>=0&&t<=31}(t)||t>126}function li(t){return di(t)||32===t||34===t||60===t||62===t||96===t}function wi(t){return li(t)||35===t||63===t||123===t||125===t}function yi(t){return wi(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function gi(t){return t<33||t>126||34===t||35===t||60===t||62===t}function _i(t){return gi(t)||39===t}function pi(t,n){if(!n(t))return[t];for(var i=ai([t]),r=[],e=0;e<i.length;e++){var u=i[e];r.push.apply(r,vi(u))}return r}function mi(t,n){for(var i=[],r=0,e=Qn(t);r<e.length;r++){var u=e[r];i.push.apply(i,pi(u,n))}return ui(i)}function ki(t){return function(t){for(var n=[],i=t.length,r=0;r<i;r++){var e=t[r];if(37===e&&r+2<i&&Bn(t[r+1])&&Bn(t[r+2])){var u=Vn(t[r+1])<<4|Vn(t[r+2]);n.push(u),r+=2}else n.push(e)}return n}(ai(t))}function bi(t){return ui(function(t){Zn=t.slice(),ti=Zn.length,ni=0;for(var n,i=[];!1!==(n=hi());)i.push(n);return i}(ki(Qn(t))))}function Ti(t){var n,i,r,e,u=t.length,o=[0,0,0,0,0,0,0,0],s=0,c=null,a=0;if(a<u&&":"===t[a]){if(!(a+1<u&&":"===t[a+1]))throw new d;a+=2,c=s+=1}for(;a<u;){if(8===s)throw new d("Too many groups");if(":"!==t[a]){for(var f=0,h=0;h<4&&a<u&&Sn.test(t[a]);)f=f<<4|y(t[a],16),a+=1,h+=1;if("."===t[a]){if(0===h)throw new d;if(a-=h,s>6)throw new d;for(var v=0;a<u;){var l=null;if(v>0){if(!("."===t[a]&&v<4))throw new d;a+=1}if(!En.test(t[a]))throw new d;for(;a<u&&En.test(t[a]);){var w=y(t[a],10);if(null===l)l=w;else{if(0===l)throw new d;if((l=10*l+w)>255)throw new d}a+=1}o[s]=o[s]<<8|l,2!==(v+=1)&&4!==v||(s+=1)}if(4!==v)throw new d;break}if(":"===t[a]){if((a+=1)===u)throw new d}else if(a<u)throw new d;o[s]=f,s+=1}else{if(null!==c)throw new d("Too many :: groups");a+=1,c=s+=1}}if(null!==c){var g=s-c;for(s=7;0!==s&&g>0;)r=c+g-1,e=void 0,e=(n=o)[i=s],n[i]=n[r],n[r]=e,s-=1,g-=1}else if(8!==s)throw new d;return o}function Ei(t){var n=10,i=In;return Rn.test(t)?(t=t.slice(2),n=16,i=Cn):t.length>=2&&"0"===t[0]&&(t=t.slice(1),n=8,i=An),""===t?0:i.test(t)?y(t,n):void 0}var Si={Fu:4},Ri=/[\0\t\n\r #%/:?@\[\\\]]/,Ii=/[\0\t\n\r #/:?@\[\\\]]/;function Ci(t,n){if("["===t[0]){if("]"!==t[t.length-1])throw new d("Invalid IPv6 address");return{Fu:2,Mu:Ti(t.slice(1,-1))}}if(!n)return function(t){if(Ii.test(t))throw new d("Invalid code point in opaque host");var n=mi(t,di);return""===n?Si:{Fu:3,$i:n}}(t);var i=function(t){return function(t){return ei(t.toLowerCase())}(t)}(bi(t));if(Ri.test(i))throw new d("Invalid code point in host");var r=function(t){var n=t.split(".");if(""===n[n.length-1]&&n.pop(),!(n.length>4)){for(var i=[],r=0;r<n.length;r++){var e=n[r];if(""===e)return;var u=Ei(e);if(void 0===u)return;i.push(u)}for(var o=0;o<i.length-1;o++)if(i[o]>255)throw new d;if(i[i.length-1]>=w.pow(256,5-i.length))throw new d;for(var s=i.pop(),c=0;c<i.length;c++)s+=i[c]*w.pow(256,3-c);return s}}(i);return void 0!==r?{Fu:1,Mu:r}:""===i?Si:{Fu:0,Bu:i}}function Ai(t){switch(t.Fu){case 0:return t.Bu;case 1:return function(t){for(var n=[],i=t,r=1;r<=4;r++)n.push(""+(255&i)),4!==r&&n.push("."),i>>>=8;return n.reverse().join("")}(t.Mu);case 2:return"["+function(t){for(var n="",i=function(t){for(var n=0,i=0,r=0,e=0,u=0;u<8;u++)0===t[u]?(0===e&&(r=u),e++):(e>i&&(n=r,i=e),e=0);return e>i&&(n=r,i=e),i>1?n:null}(t),r=!1,e=0;e<8;e++){if(r){if(0===t[e])continue;r=!1}i!==e?(n+=t[e].toString(16),7!==e&&(n+=":")):(n+=0===e?"::":":",r=!0)}return n}(t.Mu)+"]";case 3:return t.$i;case 4:return""}}var Di=/\+/g;function Ni(t){for(var n=t.split("&"),i=[],r=0;r<n.length;r++){var e=n[r];if(""!==e){var u=e.indexOf("="),o=void 0,s=void 0;-1!==u?(o=e.slice(0,u),s=e.slice(u+1)):(o=e,s=""),o=o.replace(Di," "),s=s.replace(Di," ");var c=bi(o),a=bi(s);i.push([c,a])}}return i}function Oi(t){for(var n="",i=0;i<t.length;i++){var r=t[i];i>0&&(n+="&"),n+=xi(ai(Qn(r[0])))+"="+xi(ai(Qn(r[1])))}return n}function xi(t){for(var n,i=[],r=0;r<t.length;r++){var e=t[r];32===e?i.push(43):42===(n=e)||45===n||46===n||95===n||Mn(n)?i.push(e):i.push.apply(i,vi(e))}return zn(i)}var Pi=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function Li(t){var n=""+t,i=Pi.exec(n);return i?function(t,n){for(var i=t.length,r=[],e=n;e<i;e++){var u=t.charCodeAt(e);if(Mi(u))if(Bi(u)||e===i-1)r.push(Fi);else{var o=t.charCodeAt(e+1);Bi(o)?(r.push(u,o),e++):r.push(Fi)}else r.push(u)}return t.slice(0,n)+zn(r)}(n,i.index):n}var Fi=65533,Mi=function(t){return 55296==(63488&t)},Bi=function(t){return 0!=(1024&t)};function Ui(t,n){var i=t[0],r=n[0];return i===r?0:i<r?-1:1}function Vi(t){t.Uu.length=0}function qi(t,n){!function(t,n){for(var i=0;i<n.length;i++)t[i]=n[i];t.length=n.length}(t.Uu,Ni(n))}function Hi(t){if(t.Vu){var n=Oi(t.Uu);""===n&&(n=null),t.Vu.Vu.qu=n}}var ji=function(){function t(t){if(void 0===t&&(t=void 0),this.Vu=null,null==t)this.Uu=[];else if("object"==typeof t||"function"==typeof t)if((u=t)instanceof ji&&Nn(u.Uu)&&(!On||u[Symbol.iterator]===Wi))this.Uu=t.Uu.slice();else if(function(t){return null!=t&&(!!Nn(t)||!!On&&"function"==typeof t[Symbol.iterator])}(t)){this.Uu=[];for(var n=0,i=xn(t);n<i.length;n++){var r=xn(i[n]);if(2!==r.length)throw new d("Invalid name-value pair");this.Uu.push([Li(r[0]),Li(r[1])])}}else for(var e in this.Uu=[],t)l.prototype.hasOwnProperty.call(t,e)&&this.Uu.push([Li(e),Li(t[e])]);else(t=Li(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this.Uu=Ni(t);var u}var n=t.prototype;return n.append=function(t,n){t=Li(t),n=Li(n),this.Uu.push([t,n]),Hi(this)},n.delete=function(t){t=Li(t);for(var n=this.Uu,i=0;i<n.length;){n[i][0]===t?n.splice(i,1):i++}Hi(this)},n.get=function(t){t=Li(t);for(var n=this.Uu,i=0;i<n.length;i++){var r=n[i];if(r[0]===t)return r[1]}return null},n.getAll=function(t){t=Li(t);for(var n=this.Uu,i=[],r=0;r<n.length;r++){var e=n[r];e[0]===t&&i.push(e[1])}return i},n.has=function(t){t=Li(t);for(var n=this.Uu,i=0;i<n.length;i++){if(n[i][0]===t)return!0}return!1},n.set=function(t,n){t=Li(t),n=Li(n);for(var i=this.Uu,r=!1,e=0;e<i.length;){var u=i[e];u[0]===t?r?i.splice(e,1):(u[1]=n,r=!0,e++):e++}r||i.push([t,n]),Hi(this)},n.sort=function(){kn(this.Uu,Ui),Hi(this)},n.toString=function(){return Oi(this.Uu)},n.entries=function(){return new Gi(this.Uu,zi)},n.keys=function(){return new Gi(this.Uu,$i)},n.values=function(){return new Gi(this.Uu,Xi)},n.forEach=function(t){var n=this;this.Uu.forEach(function(i){return t(i[1],i[0],n)})},t}(),Wi=ji.prototype.entries;On&&(ji.prototype[Symbol.iterator]=Wi);var zi=function(t){return[t[0],t[1]]},$i=function(t){return t[0]},Xi=function(t){return t[1]},Gi=function(){function t(t,n){this.Hu=0,this.Uu=t,this.ju=n}return t.prototype.next=function(){return this.Hu<this.Uu.length?{done:!1,value:this.ju(this.Uu[this.Hu++])}:{done:!0,value:void 0}},t}(),Yi="null";var Ki=l.create(null);Ki.ftp=21,Ki.file=0,Ki.gopher=70,Ki.http=80,Ki.https=443,Ki.ws=80,Ki.wss=443;var Ji=/^(?:\.|%2e)$/i,Qi=/^(?:\.|%2e){2}$/i;function Zi(t){return Ji.test(t)}function tr(t){return Qi.test(t)}function nr(t){return void 0!==Ki[t]}function ir(t){return nr(t.Wu)}function rr(t){return""!==t.zu||""!==t.$u}function er(t){var n=t.length;if(!(n>=2))return!1;if(!or(t.slice(0,2)))return!1;if(2!==n){var i=t[2];if(47!==i&&92!==i&&63!==i&&35!==i)return!1}return!0}function ur(t){return 2===t.length&&Tn.test(t[0])&&(":"===t[1]||"|"===t[1])}function or(t){return 2===t.length&&ur(zn(t))}function sr(t){return ur(t)&&":"===t[1]}function cr(t){var n=t.Xu;0!==n.length&&("file"===t.Wu&&1===n.length&&sr(n[0])||n.pop())}function ar(t){return null===t.Gu||Si===t.Gu||t.Yu||"file"===t.Wu}var fr=-1,hr=/\t|\n|\r/g,vr=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function dr(t,n,i,r){void 0===i&&(i=null),void 0===r&&(r=null),i||(i=new wr,t=t.replace(vr,""));var e=null!==r?r:0;n=n||null;for(var u=[],o=!1,s=!1,c=!1,a=Qn(t=t.replace(hr,"")),f=a.length,h=0;h<=f;){var v=h<f?a[h]:fr;switch(e){case 0:if(!Ln(v)){if(null===r){u.length=0,e=2;continue}throw new d("Invalid scheme")}u.push(Un(v)),e=1;break;case 1:if(Mn(v)||43===v||45===v||46===v)u.push(Un(v));else{if(58!==v){if(null===r){u.length=0,e=2,h=0;continue}throw new d("Invalid scheme")}var l=ui(u);if(null!==r){if(nr(i.Wu)&&!nr(l))return;if(!nr(i.Wu)&&nr(l))return;if((rr(i)||null!==i.Ku)&&"file"===l)return;if("file"===i.Wu&&(i.Gu===Si||null===i.Gu))return}if(i.Wu=l,null!==r)return void(ir(i)&&i.Ku===Ki[i.Wu]&&(i.Ku=null));u.length=0,"file"===i.Wu?e=13:ir(i)&&n&&n.Wu===i.Wu?e=3:ir(i)?e=7:47===a[h+1]?(e=4,h+=1):(i.Yu=!0,i.Xu.push(""),e=18)}break;case 2:if(!n||n.Yu&&35!==v)throw new d("Invalid scheme");n.Yu&&35===v?(i.Wu=n.Wu,i.Xu=n.Xu.slice(),i.qu=n.qu,i.Ju="",i.Yu=!0,e=20):"file"!==n.Wu?(e=5,h-=1):(e=13,h-=1);break;case 3:47===v&&47===a[h+1]?e=8:(e=5,h-=1);break;case 4:47===v?e=9:(e=17,h-=1);break;case 5:i.Wu=n.Wu,fr===v?(i.zu=n.zu,i.$u=n.$u,i.Gu=n.Gu,i.Ku=n.Ku,i.Xu=n.Xu.slice(),i.qu=n.qu):47===v?e=6:63===v?(i.zu=n.zu,i.$u=n.$u,i.Gu=n.Gu,i.Ku=n.Ku,i.Xu=n.Xu.slice(),i.qu="",e=19):35===v?(i.zu=n.zu,i.$u=n.$u,i.Gu=n.Gu,i.Ku=n.Ku,i.Xu=n.Xu.slice(),i.qu=n.qu,i.Ju="",e=20):92===v&&ir(i)?e=6:(i.zu=n.zu,i.$u=n.$u,i.Gu=n.Gu,i.Ku=n.Ku,i.Xu=n.Xu.slice(),i.Xu.pop(),e=17,h-=1);break;case 6:!ir(i)||47!==v&&92!==v?47===v?e=9:(i.zu=n.zu,i.$u=n.$u,i.Gu=n.Gu,i.Ku=n.Ku,e=17,h-=1):e=8;break;case 7:if(47!==v||47!==a[h+1]){e=8;continue}e=8,h+=1;break;case 8:47!==v&&92!==v&&(e=9,h-=1);break;case 9:if(64===v){o&&u.unshift(37,52,48),o=!0;for(var w=0;w<u.length;w++){var g=u[w];if(58!==g||c){var _=ui(pi(g,yi));c?i.$u+=_:i.zu+=_}else c=!0}u.length=0}else if(fr===v||47===v||63===v||35===v||ir(i)&&92===v){if(o&&0===u.length)throw new d("Invalid host");h-=u.length+1,u.length=0,e=10}else u.push(v);break;case 10:case 11:if(null!==r&&"file"===i.Wu)h-=1,e=15;else if(58!==v||s)if(fr===v||47===v||63===v||35===v||ir(i)&&92===v){if(h-=1,ir(i)&&0===u.length)throw new d("Invalid host");if(null!==r&&0===u.length&&(rr(i)||null!==i.Ku))return;var p=Ci(ui(u),ir(i));if(i.Gu=p,u.length=0,e=16,null!==r)return}else 91===v?s=!0:93===v&&(s=!1),u.push(v);else{if(0===u.length)throw new d("Invalid host");var m=Ci(ui(u),ir(i));if(i.Gu=m,u.length=0,e=12,11===r)return}break;case 12:if(Fn(v))u.push(v);else{if(!(fr===v||47===v||63===v||35===v||ir(i)&&92===v||null!==r))throw new d("Invalid port");if(0!==u.length){var k=y(ui(u),10);if(k>65535)throw new d("Invalid port");i.Ku=k===Ki[i.Wu]?null:k,u.length=0}if(null!==r)return;e=16,h-=1}break;case 13:i.Wu="file",47===v||92===v?e=14:n&&"file"===n.Wu?fr===v?(i.Gu=n.Gu,i.Xu=n.Xu.slice(),i.qu=n.qu):63===v?(i.Gu=n.Gu,i.Xu=n.Xu.slice(),i.qu="",e=19):35===v?(i.Gu=n.Gu,i.Xu=n.Xu.slice(),i.qu=n.qu,i.Ju="",e=20):(er(a.slice(h))||(i.Gu=n.Gu,i.Xu=n.Xu.slice(),cr(i)),e=17,h-=1):(e=17,h-=1);break;case 14:47===v||92===v?e=15:(n&&"file"===n.Wu&&!er(a.slice(h))&&(sr(n.Xu[0])?i.Xu.push(n.Xu[0]):i.Gu=n.Gu),e=17,h-=1);break;case 15:if(fr===v||47===v||92===v||63===v||35===v)if(h-=1,null===r&&or(u))e=17;else if(0===u.length){if(i.Gu=Si,null!==r)return;e=16}else{var b=Ci(ui(u),ir(i));if(0===b.Fu&&"localhost"===b.Bu&&(b=Si),i.Gu=b,null!==r)return;u.length=0,e=16}else u.push(v);break;case 16:ir(i)?(e=17,47!==v&&92!==v&&(h-=1)):null===r&&63===v?(i.qu="",e=19):null===r&&35===v?(i.Ju="",e=20):fr!==v&&(e=17,47!==v&&(h-=1));break;case 17:if(fr===v||47===v||ir(i)&&92===v||null===r&&(63===v||35===v)){var T=ui(u);if(tr(T)?(cr(i),47===v||ir(i)&&92===v||i.Xu.push("")):!Zi(T)||47===v||ir(i)&&92===v?Zi(T)||("file"===i.Wu&&0===i.Xu.length&&or(u)&&(Si!==i.Gu&&null!==i.Gu&&(i.Gu=Si),u[1]=58,T=ui(u)),i.Xu.push(T)):i.Xu.push(""),u.length=0,"file"===i.Wu&&(fr===v||63===v||35===v))for(;i.Xu.length>1&&""===i.Xu[0];)i.Xu.shift();63===v?(i.qu="",e=19):35===v&&(i.Ju="",e=20)}else u.push.apply(u,pi(v,wi));break;case 18:63===v?(i.qu="",e=19):35===v?(i.Ju="",e=20):fr!==v&&(i.Xu[0]+=ui(pi(v,di)));break;case 19:null===r&&35===v?(i.Ju="",e=20):fr!==v&&(i.qu+=ui(pi(v,ir(i)?_i:gi)));break;case 20:fr===v||0===v||(i.Ju+=ui(pi(v,li)))}h++}return i}function lr(t,n,i,r){try{dr(t,n,i,r)}catch(t){}}var wr=function(){this.Wu="",this.zu="",this.$u="",this.Gu=null,this.Ku=null,this.Xu=[],this.qu=null,this.Ju=null,this.Yu=!1};function yr(t){switch(t.Wu){case"blob":var n;try{n=dr(t.Xu[0],null)}catch(t){return Yi}return yr(n);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return i=t.Wu,r=t.Gu,e=t.Ku,i+"://"+Ai(r)+(null===e?"":":"+e);case"file":default:return Yi}var i,r,e}var gr,_r=function(){function t(t,n){var i,r,e=null;if(null!=n)if(null!=(i=n)&&i instanceof _r&&"object"==typeof i.Vu)e=n.Vu;else try{e=dr(String(n),null)}catch(t){throw new d("Invalid base URL: "+t.message)}try{r=dr(String(t),e)}catch(t){throw new d("Invalid URL: "+t.message)}var u=r.qu;this.Vu=r,this.qu=function(t){var n=new ji;return null!==t&&qi(n,t),n}(u),this.qu.Vu=this}var n,i,r,e=t.prototype;return e.toString=function(){return this.href},e.toJSON=function(){return this.href},n=t,(i=[{key:"href",get:function(){return function(t,n){void 0===n&&(n=!1);var i=t.Wu+":";if(null!==t.Gu?(i+="//",rr(t)&&(i+=t.zu,""!==t.$u&&(i+=":"+t.$u),i+="@"),i+=Ai(t.Gu),null!==t.Ku&&(i+=":"+t.Ku)):null===t.Gu&&"file"===t.Wu&&(i+="//"),t.Yu)i+=t.Xu[0];else for(var r=0,e=t.Xu;r<e.length;r++)i+="/"+e[r];return null!==t.qu&&(i+="?"+t.qu),n||null===t.Ju||(i+="#"+t.Ju),i}(this.Vu)},set:function(t){var n;try{n=dr(String(t),null)}catch(t){throw new d("Invalid URL: "+t.message)}this.Vu=n,Vi(this.qu);var i=this.Vu.qu;null!==i&&qi(this.qu,i)}},{key:"origin",get:function(){return yr(this.Vu)}},{key:"protocol",get:function(){return this.Vu.Wu+":"},set:function(t){lr(t+":",null,this.Vu,0)}},{key:"username",get:function(){return this.Vu.zu},set:function(t){ar(this.Vu)||(this.Vu.zu=mi(t,yi))}},{key:"password",get:function(){return this.Vu.$u},set:function(t){ar(this.Vu)||(this.Vu.$u=mi(t,yi))}},{key:"host",get:function(){var t=this.Vu,n=t.Gu;if(null===n)return"";var i=t.Ku,r=Ai(n);return null!==i&&(r+=":"+i),r},set:function(t){this.Vu.Yu||lr(t,null,this.Vu,10)}},{key:"hostname",get:function(){var t=this.Vu.Gu;return null===t?"":Ai(t)},set:function(t){this.Vu.Yu||lr(t,null,this.Vu,11)}},{key:"port",get:function(){var t=this.Vu.Ku;return null===t?"":""+t},set:function(t){ar(this.Vu)||(""===t?this.Vu.Ku=null:lr(t,null,this.Vu,12))}},{key:"pathname",get:function(){var t=this.Vu.Xu;return this.Vu.Yu?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.Vu.Yu||(this.Vu.Xu.length=0,lr(t,null,this.Vu,16))}},{key:"search",get:function(){var t=this.Vu.qu;return null===t||""===t?"":"?"+t},set:function(t){t=Li(t);var n=this.Vu;if(""===t)return n.qu=null,void Vi(this.qu);"?"===t[0]&&(t=t.slice(1)),n.qu="",lr(t,null,n,19),qi(this.qu,t)}},{key:"searchParams",get:function(){return this.qu}},{key:"hash",get:function(){var t=this.Vu.Ju;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.Vu.Ju="",lr(t,null,this.Vu,20)):this.Vu.Ju=null}}])&&mn(n.prototype,i),r&&mn(n,r),t}();function pr(t){return t.document&&t.document.baseURI||t.location.href||""}function mr(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function kr(t,n){var i=n.style;if(i)for(var r in t)i[r]=t[r]}function br(){return void 0!==u?u.createElement("video"):void 0}function Tr(){return gr||(gr=br()),gr}var Er=!!("ontouchstart"in t||t.DocumentTouch&&u instanceof t.DocumentTouch)||!(!s||!s.msMaxTouchPoints),Sr=Tr(),Rr=!(!Sr||!Sr.webkitShowPlaybackTargetPicker),Ir=function(){function t(){this.Qu=void 0,this.Zu=!1,this.ve=Er,this.Ie=!1,this.to=!0,this.io=!0}var n=t.prototype;return n.ro=function(){return 0},n.eo=function(t,n){return!0},n.uo=function(t){return t>=1/6*2},W(t,[{key:"oo",get:function(){return void 0===this.Qu&&(this.Qu=this.ro()),this.Qu}},{key:"so",get:function(){return e.devicePixelRatio||1}},{key:"co",get:function(){return Rr}},{key:"ao",get:function(){return!1}},{key:"fo",get:function(){return!0}},{key:"ho",get:function(){return it.de||it.Se}},{key:"vo",get:function(){return!0}},{key:"do",get:function(){return!0}},{key:"lo",get:function(){}}]),t}(),Cr=function(){var t=br();if(!t)return!1;var n=t.muted;return t.muted=!n,t.muted!==n}();!function(){if(it.Te)return!1;var t=br();if(!t)return!1;var n=t.volume;t.volume=n/2+.1,t.volume}();var Ar=function(t){function n(n){var i;return(i=t.call(this)||this).wo=void 0,i.wo=n,i.wo&&(i.Zu=i.wo.Zu,i.ve=i.wo.ve,i.to=Cr&&i.wo.to),i}$(n,t);var i=n.prototype;return i.ro=function(){return this.wo?this.wo.oo:t.prototype.ro.call(this)},i.eo=function(n,i){return this.wo?this.wo.eo(n,i):t.prototype.eo.call(this,n,i)},i.uo=function(n){return this.wo?this.wo.uo(n):t.prototype.uo.call(this,n)},W(n,[{key:"lo",get:function(){var t;return null==(t=this.wo)?void 0:t.lo}}]),n}(Ir),Dr=function(t){function n(n){var i;return(i=t.call(this,n)||this).Zu=!0,i.Ie=!0,i}return $(n,t),n}(Ar),Nr=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n.prototype.ro=function(){return R.MediaSource?t.prototype.ro.call(this):1},n}(Dr),Or=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n.prototype.eo=function(n,i){return!(i.yo>1920)&&t.prototype.eo.call(this,n,i)},W(n,[{key:"ao",get:function(){return it.Oe<3}},{key:"fo",get:function(){return it.Oe>=3}}]),n}(Ar),xr=function(t){function n(){return t.call(this)||this}return $(n,t),n}(Ir),Pr=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n.prototype.eo=function(t,n){if(t&&t._o&&n&&n._o){var i=Lr(t._o,"mp4a.40.2")&&Lr(n._o,"mp4a.40.5"),r=Lr(t._o,"mp4a.40.5")&&Lr(n._o,"mp4a.40.2"),e=Lr(t._o,"mp4a.40.2")&&Lr(n._o,"mp4a.40.34"),u=Lr(t._o,"mp4a.40.34")&&Lr(n._o,"mp4a.40.2"),o=Lr(t._o,"mp4a.40.5")&&Lr(n._o,"mp4a.40.34"),s=Lr(t._o,"mp4a.40.34")&&Lr(n._o,"mp4a.40.5");return!(i||r||e||u||o||s)}return!0},W(n,[{key:"lo",get:function(){if(it.de)return 4096}}]),n}(xr);function Lr(t,n){return t.indexOf(n)>-1}var Fr=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n.prototype.uo=function(t){return t>=2},n}(xr),Mr=function(t){function n(){var n;return(n=t.call(this)||this).Zu=it.qe>=11,n.to=it.Ve&&!(it.Se&&it.qe<10),n}return $(n,t),n}(xr),Br=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),W(n,[{key:"vo",get:function(){return!1}}]),n}(Ar),Ur=function(){function n(){var n;this.po=void 0,this.mo=new an,this.ko=new Vr,this.bo=(n=function(){if(it.Be)return new Pr;if(it.Pe||it.Le)return new Fr;if(it.Ve)return new Mr;return new xr}(),it.Se?new Nr(n):it.Ie?new Dr(n):it.Ne?new Or(n):it.xe?new Br(n):new Ar(n)),this.To=function(){if(t.URL)try{var n=new t.URL("b","http://a");return n.pathname="c d","http://a/c%20d"===n.href}catch(t){}return!1}(),t.performance&&t.performance.now?this.po=function(){return t.performance.now()}:this.po=tn}var i=n.prototype;return i.Eo=function(){mt.apply(void 0,arguments)},i.So=function(){kt.apply(void 0,arguments)},i.Ro=function(){bt.apply(void 0,arguments)},i.Io=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];Tt.apply(void 0,[t].concat(i))},i.Co=function(t,n){return c(t,n)},i.Ao=function(t,n){return f(t,n)},i.Do=function(t){a(t)},i.No=function(t){h(t)},i.cu=function(t){return this.mo.cu(t)},i.Oo=function(){return this.xo.Oo()},i.Po=function(){return this.xo.Po()},i.Lo=function(){return this.xo.Lo()},i.Fo=function(){return this.xo.Fo()},i.Mo=function(){return this.xo.Mo()},i.Bo=function(t,n){return this.xo.Bo(t,n)},i.Uo=function(t){return this.xo.Uo(t)},i.Vo=function(t,n){var i;return void 0===n&&(n=pr(R)),i="object"!=typeof n||n instanceof _r?n:n.href,new _r(t,i)},i.qo=function(n,i){if(void 0===i&&(i=pr(R)),this.To){var r=ft(i)?i:i.toString();return new t.URL(n,r).href}return this.Vo(n,i).href},W(n,[{key:"Ho",get:function(){return this.ko}},{key:"jo",get:function(){return this.bo}},{key:"Wo",get:function(){return{zo:s&&s.userAgent.match(/Android /i)?"Android":"other",$o:Boolean(s&&s.userAgent.match(/Android 8.0.0/i))}}},{key:"Xo",get:function(){return t&&t.location&&"https:"===t.location.protocol}},{key:"Go",get:function(){return"languages"in s?s.languages.slice():[s.language]}}]),n}(),Vr=function(){function t(){}return W(t,[{key:"Yo",get:function(){return s.oscpu}},{key:"jo",get:function(){return s.platform}},{key:"Ko",get:function(){return s.vendor}},{key:"Jo",get:function(){return s.vendorSub}}]),t}();var qr=b(function(t){!function(t){var n,i=l.prototype,r=i.hasOwnProperty,e="function"==typeof Symbol?Symbol:{},u=e.iterator||"@@iterator",o=e.asyncIterator||"@@asyncIterator",s=e.toStringTag||"@@toStringTag";function c(t,n,i,r){var e=n&&n.prototype instanceof p?n:p,u=l.create(e.prototype),o=new N(r||[]);return u.Qo=function(t,n,i){var r=f;return function(e,u){if(r===w)throw new v("Generator is already running");if(r===y){if("throw"===e)throw u;return x()}for(i.method=e,i.arg=u;;){var o=i.delegate;if(o){var s=C(o,i);if(s){if(s===g)continue;return s}}if("next"===i.method)i.sent=i.Zo=i.arg;else if("throw"===i.method){if(r===f)throw r=y,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=w;var c=a(t,n,i);if("normal"===c.type){if(r=i.done?y:h,c.arg===g)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(r=y,i.method="throw",i.arg=c.arg)}}}(t,i,o),u}function a(t,n,i){try{return{type:"normal",arg:t.call(n,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var f="suspendedStart",h="suspendedYield",w="executing",y="completed",g={};function p(){}function m(){}function k(){}var b={};b[u]=function(){return this};var T=l.getPrototypeOf,E=T&&T(T(O([])));E&&E!==i&&r.call(E,u)&&(b=E);var S=k.prototype=p.prototype=l.create(b);function R(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this.Qo(n,t)}})}function I(t){var n;this.Qo=function(i,e){function u(){return new Promise(function(n,u){!function n(i,e,u,o){var s=a(t[i],t,e);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"==typeof f&&r.call(f,"ts")?Promise.resolve(f.ts).then(function(t){n("next",t,u,o)},function(t){n("throw",t,u,o)}):Promise.resolve(f).then(function(t){c.value=t,u(c)},function(t){return n("throw",t,u,o)})}o(s.arg)}(i,e,n,u)})}return n=n?n.then(u,u):u()}}function C(t,i){var r=t.iterator[i.method];if(r===n){if(i.delegate=null,"throw"===i.method){if(t.iterator.return&&(i.method="return",i.arg=n,C(t,i),"throw"===i.method))return g;i.method="throw",i.arg=new d("The iterator does not provide a 'throw' method")}return g}var e=a(r,t.iterator,i.arg);if("throw"===e.type)return i.method="throw",i.arg=e.arg,i.delegate=null,g;var u=e.arg;return u?u.done?(i[t.resultName]=u.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=n),i.delegate=null,g):u:(i.method="throw",i.arg=new d("iterator result is not an object"),i.delegate=null,g)}function A(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function D(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function O(t){if(t){var i=t[u];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!_(t.length)){var e=-1,o=function i(){for(;++e<t.length;)if(r.call(t,e))return i.value=t[e],i.done=!1,i;return i.value=n,i.done=!0,i};return o.next=o}}return{next:x}}function x(){return{value:n,done:!0}}m.prototype=S.constructor=k,k.constructor=m,k[s]=m.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===m||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return l.setPrototypeOf?l.setPrototypeOf(t,k):(t.__proto__=k,s in t||(t[s]="GeneratorFunction")),t.prototype=l.create(S),t},t.awrap=function(t){return{ts:t}},R(I.prototype),I.prototype[o]=function(){return this},t.AsyncIterator=I,t.async=function(n,i,r,e){var u=new I(c(n,i,r,e));return t.isGeneratorFunction(i)?u:u.next().then(function(t){return t.done?t.value:u.next()})},R(S),S[s]="Generator",S[u]=function(){return this},S.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var i in t)n.push(i);return n.reverse(),function i(){for(;n.length;){var r=n.pop();if(r in t)return i.value=r,i.done=!1,i}return i.done=!0,i}},t.values=O,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this.Zo=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(D),!t)for(var i in this)"t"===i.charAt(0)&&r.call(this,i)&&!_(+i.slice(1))&&(this[i]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function e(r,e){return s.type="throw",s.arg=t,i.next=r,e&&(i.method="next",i.arg=n),!!e}for(var u=this.tryEntries.length-1;u>=0;--u){var o=this.tryEntries[u],s=o.completion;if("root"===o.tryLoc)return e("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),a=r.call(o,"finallyLoc");if(c&&a){if(this.prev<o.catchLoc)return e(o.catchLoc,!0);if(this.prev<o.finallyLoc)return e(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return e(o.catchLoc,!0)}else{if(!a)throw new v("try statement without catch or finally");if(this.prev<o.finallyLoc)return e(o.finallyLoc)}}}},abrupt:function(t,n){for(var i=this.tryEntries.length-1;i>=0;--i){var e=this.tryEntries[i];if(e.tryLoc<=this.prev&&r.call(e,"finallyLoc")&&this.prev<e.finallyLoc){var u=e;break}}u&&("break"===t||"continue"===t)&&u.tryLoc<=n&&n<=u.finallyLoc&&(u=null);var o=u?u.completion:{};return o.type=t,o.arg=n,u?(this.method="next",this.next=u.finallyLoc,g):this.complete(o)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),g},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),D(i),g}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc===t){var r=i.completion;if("throw"===r.type){var e=r.arg;D(i)}return e}}throw new v("illegal catch attempt")},delegateYield:function(t,i,r){return this.delegate={iterator:O(t),resultName:i,nextLoc:r},"next"===this.method&&(this.arg=n),g}}}(t.exports)});function Hr(){return(Hr=l.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var r in i)l.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}).apply(this,arguments)}function jr(){var t=l.create(null);return t.__=void 0,delete t.__,t}function Wr(){return new Gr}function zr(t){var n=Wr();for(var i in t)rt.call(t,i)&&n.set(i,t[i]);return n}var $r,Xr="undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0,Gr=Xr||($r=function(){function t(t,n){this.data=void 0,this.keys=void 0,this.index=0,this.selector=void 0,this.data=t,this.selector=n,this.keys=l.keys(t)}var n=t.prototype;return n.next=function(){var t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}},t}(),function(){function t(){this.data=jr(),this.size=0}var n=t.prototype;return n.get=function(t){return this.data[t]},n.set=function(t,n){return this.has(t)||this.size++,this.data[t]=n,this},n.has=function(t){return t in this.data},n.delete=function(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)},n.clear=function(){this.data=jr(),this.size=0},n.keys=function(){return new $r(this.data,function(t,n){return n})},n.values=function(){return new $r(this.data,function(t,n){return t[n]})},n.entries=function(){return new $r(this.data,function(t,n){return[n,t[n]]})},n.forEach=function(t){for(var n in this.data)t(this.data[n],n)},t}());var Yr,Kr=Xr||(Yr=function(){function t(t,n){this.es=void 0,this.us=void 0,this.es=t,this.us=n}var n=t.prototype;return n.next=function(){var t=this.es.next();return t.done?t:{value:this.us(t.value),done:!1}},t}(),function(){function t(){this.os=Wr()}var n=t.prototype;return n.get=function(t){return this.os.get(""+t)},n.set=function(t,n){return this.os.set(""+t,n),this},n.has=function(t){return this.os.has(""+t)},n.delete=function(t){return this.os.delete(""+t)},n.clear=function(){this.os.clear()},n.keys=function(){return new Yr(this.os.keys(),function(t){return Number(t)})},n.values=function(){return this.os.values()},n.entries=function(){return new Yr(this.os.entries(),function(t){var n=t[0],i=t[1];return[Number(n),i]})},n.forEach=function(t){this.os.forEach(function(n,i){t(n,Number(i))})},W(t,[{key:"size",get:function(){return this.os.size}}]),t}());var Jr,Qr="cenc",Zr="sinf",te="skd",ne="urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95",ie="com.microsoft.playready",re="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",ee="94ce86fb-07ff-4f43-adb8-93d2fa968ca2",ue="urn:uuid:"+ee,oe="com.apple.fps.1_0";!function(t){t.ss="playready",t.cs="widevine",t.as="fairplay",t.fs="clearkey",t.hs="aes128"}(Jr||(Jr={}));var se={vs:Jr.ss,ds:ie,ls:"cenc",ys:"9a04f079-9840-4286-ab92-e65be0885f95",gs:ne,_s:"PlayReady"},ce={vs:Jr.cs,ds:"com.widevine.alpha",ls:"cenc",ys:"edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",gs:re,_s:"Widevine"},ae={vs:Jr.as,ds:oe,ls:"skd",ys:ee,gs:ue,_s:"FairPlay"},fe=(Jr.as,{vs:Jr.fs,ds:"org.w3.clearkey",ls:"cenc",ys:"1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",gs:"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",_s:"ClearKey"});function he(t,n,i){return t.split(n).join(i)}function ve(t,n){return null!=t&&-1!==t.indexOf(n)}function de(t,n){return null!=t&&t.substr(0,n.length)===n}function le(t,n){return null!=t&&t.substr(t.length-n.length,n.length)===n}function we(t,n){return t.toUpperCase()===n.toUpperCase()}function ye(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return _e(n)}var ge=16384;function _e(t){var n=t.length;if(n<=ge)return String.fromCharCode.apply(String,t);for(var i=[],r=0;r<n;r+=ge)i.push(String.fromCharCode.apply(String,t.slice(r,r+ge)));return i.join("")}var pe=it.Ae&&it.De>=42||it.Be&&it.Ue>=38||it.Pe||it.Fe||it.He&&it.je>=29;function me(t,n){return ve(t,"audio")?{initDataTypes:["cenc"],audioCapabilities:[Hr({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[Hr({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}}var ke=function(){function t(t){this.ps=void 0,this.ks=Wr(),this.bs=void 0,this.ps=t}var n=t.prototype;return n.Mo=function(){return this.Uo(ce)},n.Po=function(){return this.Uo(fe)},n.Fo=function(){return this.Uo(se)},n.Lo=function(){return this.Uo(ae)},n.Uo=function(t){var n=t.gs,i=this.ks.get(n);if(i)return i;var r=this.Bo(t,'video/mp4; codecs="avc1.42000a"');return this.ks.set(n,r),r},n.Bo=function(){var t=A.coroutine(qr.mark(function t(n,i){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.ps.Ts(n.ds,[me(i,!0)]);case 3:return t.abrupt("return",!0);case 6:return t.prev=6,t.t0=t.catch(0),t.prev=8,t.next=11,this.ps.Ts(n.ds,[me(i,!1)]);case 11:return t.abrupt("return",!0);case 14:return t.prev=14,t.t1=t.catch(8),t.abrupt("return",!1);case 17:case"end":return t.stop()}},t,this,[[0,6],[8,14]])}));return function(n,i){return t.apply(this,arguments)}}(),n.Oo=function(){return this.bs||(this.bs=this.Es()),this.bs},n.Es=function(){var t=A.coroutine(qr.mark(function t(){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("https:"!==I.protocol){t.next=2;break}return t.abrupt("return",!1);case 2:if(pe){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,this.Po();case 6:if(!t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:return t.abrupt("return",!0);case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),t}();function be(t,n){var i=function(t,n){var i=t,r=i.length;if(r<=1)return i;for(var e=new Array(r),u=1;u<r;u*=2){Te(i,n,u,e);var o=i;i=e,e=o}return i}(t,n);return i!==t&&Te(i,void 0,t.length,t),t}function Te(t,n,i,r){var e,u,o,s,c,a=t.length,f=0,h=2*i;for(u=0;u<a;u+=h)for(e=(o=u+i)+i,o>a&&(o=a),e>a&&(e=a),s=u,c=o;;)if(s<o&&c<e)n&&n(t[s],t[c])<=0?r[f++]=t[s++]:r[f++]=t[c++];else if(s<o)r[f++]=t[s++];else{if(!(c<e))break;r[f++]=t[c++]}}function Ee(t,n,i){var r=function(t,n,i){for(var r=0;r<t.length;r+=1){var e=t[r];if(n.call(i,e,r,t))return r}return-1}(t,n,i);return-1===r?void 0:t[r]}function Se(t,n){var i=t.indexOf(n);return-1!==i&&(Re(t,i),!0)}function Re(t,n){t.splice(n,1)}function Ie(t,n){return-1!==t.indexOf(n)}function Ce(t){t.length=0}var Ae=function(){function t(){this.Ss=!1,this.Rs=!1,this.Is=[],this.Cs=[]}var n=t.prototype;return n.As=function(){if(!this.Ss&&!this.Rs){this.Ss=!0;for(var t=0,n=this.Is.slice();t<n.length;t++){(0,n[t])()}this.Ds()}},n.Ds=function(){if(!this.Rs){this.Rs=!0;for(var t=0,n=this.Cs.slice();t<n.length;t++){(0,n[t])()}Ce(this.Is),Ce(this.Cs)}},n.Ns=function(t){this.Rs||this.Is.push(t)},n.Os=function(t){this.Rs||Se(this.Is,t)},n.xs=function(t){this.Rs||this.Cs.push(t)},n.Ps=function(t){this.Rs||Se(this.Cs,t)},t}(),De=function(){function t(){this.Ls=new Ae}var n=t.prototype;return n.Fs=function(){this.Ls.As()},n.Ds=function(){this.Ls.Ds()},n.Ms=function(t){var n=this.Ls;if(!n.Ss)if(t.Ss)n.As();else if(!n.Rs&&!t.Rs){var i=function(){r(),n.As()},r=function r(){t.Os(i),t.Ps(r),n.Os(i),n.Ps(r)};t.Ns(i),t.xs(r),n.Ns(i),n.xs(r)}},n.Bs=function(){var n=new t,i=new t,r=n.Us,e=i.Us,u=this.Ls,o=function(){r.Ss&&e.Rs||e.Ss&&r.Rs?u.As():r.Rs&&e.Rs&&u.Ds()};r.Ns(o),e.Ns(o),r.xs(o),e.xs(o),n.Ms(u),i.Ms(u);return u.xs(function(){r.Os(o),e.Os(o),r.Ps(o),e.Ps(o)}),[n,i]},W(t,[{key:"Us",get:function(){return this.Ls}}]),t}(),Ne=function(t){function n(n,i){return t.call(this,n||"Aborted",i)||this}return $(n,t),W(n,[{key:"name",get:function(){return"AbortError"}}]),n}(sn);function Oe(t){return t instanceof v&&"AbortError"===t.name}function xe(t){if(t&&t.Ss)throw new Ne}function Pe(t){if(Oe(t))throw t}function Le(t){if(!Oe(t))throw t}function Fe(t,n){return n?new A(function(i,r){if(n.Ss)return t.catch(L),r(new Ne);var e=function t(){n.Os(t),r(new Ne)};n.Ns(e),t.then(function(t){n.Os(e),i(t)},function(t){n.Os(e),r(t)})}):t}function Me(t,n){return t.then(function(t){return n.Ds(),t},function(t){throw n.Ds(),t})}var Be=A.resolve();function Ue(t){Be.then(t)}function Ve(t){t.then(L,L)}function qe(t){return He.apply(this,arguments)}function He(){return(He=A.coroutine(qr.mark(function t(n){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,A.all(n);case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),t.next=10,A.all(n.map(function(t){return t.catch(L)}));case 10:throw t.t0;case 11:case"end":return t.stop()}},t,null,[[0,6]])}))).apply(this,arguments)}function je(t){return t&&"function"!=typeof t?t.slice():t}function We(t,n,i){if(i)if("function"==typeof i)i.call(t,n);else for(var r=0;r<i.length;r++){i[r].call(t,n)}}var ze,$e=function(){function t(t){var n=this;this.Vs=jr(),this.qs=void 0,this.Hs=void 0,this.js=function(t){n.Ws(t)},this.Hs=t||this}var n=t.prototype;return n.zs=function(t,n){if("function"==typeof n)if("string"==typeof t)this.$s(t,n);else for(var i=0;i<t.length;i++){var r=t[i];this.$s(r,n)}},n.$s=function(t,n){var i=this.Vs[t];i?"function"==typeof i?this.Vs[t]=[i,n]:i.push(n):this.Vs[t]=n},n.Xs=function(t){if("function"==typeof t){var n=this.qs;n?"function"==typeof n?this.qs=[n,t]:n.push(t):this.qs=t}},n.Gs=function(){this.Vs=jr(),this.qs=void 0},n.Ws=function(t){var n=je(this.Vs[t.type]),i=je(this.qs);We(this.Hs,t,n),We(this.Hs,t,i)},n.Ys=function(t,n){if("function"==typeof n)if("string"==typeof t)this.Ks(t,n);else for(var i=0;i<t.length;i++){var r=t[i];this.Ks(r,n)}},n.Ks=function(t,n){var i=this.Vs[t];i&&("function"==typeof i?i===n&&(this.Vs[t]=void 0):Se(i,n))},n.Js=function(t){if("string"==typeof t)this.Vs[t]=void 0;else for(var n=0;n<t.length;n++){var i=t[n];this.Vs[i]=void 0}},n.Qs=function(t){var n=this.qs;n&&("function"==typeof n?n===t&&(this.qs=void 0):Se(n,t))},n.Zs=function(t,n){var i=this;return new A(function(r,e){if(n&&n.Ss)return e(new Ne);var u=function(t){s(),r(t)},o=function(){s(),e(new Ne)},s=function(){i.Ys(t,u),n&&n.Os(o)};i.zs(t,u),n&&n.Ns(o)})},t}(),Xe=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n.prototype.Ws=function(n){var i=this;Ue(function(){t.prototype.Ws.call(i,n)})},n}($e),Ge=function(t,n){void 0===n&&(n=new Date),this.type=t,this.date=n},Ye=["cenc"],Ke=["cbcs","cbcs-1-9"],Je=function(t){function n(n){var i;return(i=t.call(this,"nc")||this).tc=n,i}return $(n,t),n}(Ge),Qe=function(t){function n(n,i,r,e){var u;return(u=t.call(this,"ic")||this).tc=n,u.rc=i,u.ic=r,u.ec=e,u}return $(n,t),n}(Ge),Ze=function(t){function n(){return t.call(this,"uc")||this}return $(n,t),n}(Ge);!function(t){t.oc="sc",t.cc="ac"}(ze||(ze={}));var tu=function(t){function n(n,i){var r;return(r=t.call(this,ze.oc)||this).ls=n,r.fc=i,r}return $(n,t),n}(Ge),nu=new p([0]).buffer,iu=function(){function t(){this.hc=void 0,this.hc=[]}var n=t.prototype;return n.vc=function(t){for(var n=0,i=this.hc;n<i.length;n++){if(i[n][0]===t)return!0}return!1},n.dc=function(t){for(var n=0,i=this.hc;n<i.length;n++){var r=i[n];if(r[0]===t)return r[1]}},n.lc=function(t,n){this.hc.forEach(function(n){return t(n[1],n[0])},n)},n.wc=function(t,n){this.hc.push([t,n])},n.yc=function(){Ce(this.hc)},W(t,[{key:"gc",get:function(){return this.hc.length}}]),t}(),ru="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),eu=16383,uu=/[\t\n\f\r ]/g;function ou(t){return 43===t?62:47===t?63:t>=48&&t<=57?t-48+52:t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:su()}function su(){throw new v("Invalid base64 input")}function cu(t){var n=t;uu.test(n)&&(n=n.replace(uu,""));var i=n.length;i%4==0&&i>=1&&"="===n[i-1]&&(i>=2&&"="===n[i-2]?i-=2:i-=1,n=n.substr(0,i));var r=i%4;if(1===r)return su();for(var e,u=0===r?0:4-r,o=new p(function(t,n){return 3*(t+n)/4-n}(i,u)),s=u>0?i-4:i,c=0,a=0;c<s;c+=4)e=ou(n.charCodeAt(c))<<18|ou(n.charCodeAt(c+1))<<12|ou(n.charCodeAt(c+2))<<6|ou(n.charCodeAt(c+3)),o[a++]=e>>16&255,o[a++]=e>>8&255,o[a++]=255&e;return 2===u?(e=ou(n.charCodeAt(c))<<2|ou(n.charCodeAt(c+1))>>4,o[a++]=255&e):1===u&&(e=ou(n.charCodeAt(c))<<10|ou(n.charCodeAt(c+1))<<4|ou(n.charCodeAt(c+2))>>2,o[a++]=e>>8&255,o[a++]=255&e),o}function au(t,n,i){for(var r,e,u,o=[],s=n;s<i;s+=3)o.push((r=t[s],e=t[s+1],u=t[s+2],ru[r>>2]+ru[(3&r)<<4|e>>4]+ru[(15&e)<<2|u>>6]+ru[63&u]));return o.join("")}function fu(t){for(var n=t.length,i=n%3,r=[],e=n-i,u=0;u<e;u+=eu)r.push(au(t,u,w.min(e,u+eu)));if(1===i){var o=t[n-1];r.push(ru[o>>2]+ru[(3&o)<<4]+"==")}else if(2===i){var s=t[n-2],c=t[n-1];r.push(ru[s>>2]+ru[(3&s)<<4|c>>4]+ru[(15&c)<<2]+"=")}return r.join("")}var hu=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],vu=ArrayBuffer.isView||function(t){return t&&Ie(hu,et.call(t))};function du(t,n){return t===n||t.byteLength===n.byteLength&&function(t,n){if(t===n)return!0;if(t.byteLength!==n.byteLength)return!1;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}(new p(t),new p(n))}function lu(t){var n=t.reduce(function(t,n){return t+n.byteLength},0);return function(t,n){for(var i=new p(n),r=0,e=0;e<t.length;e++){var u=t[e];i.set(u,r),r+=u.byteLength}return i}(t,n)}function wu(t){return cu(t).buffer}function yu(t){return fu(new p(t))}function gu(t){return fu(ju(t))}var _u=function(){function t(t){void 0===t&&(t=0),this._c=t}var n=t.prototype;return n.pc=function(t){this._c+=t},n.mc=function(t){this._c=t},n.kc=function(){return new t(this.bc)},W(t,[{key:"bc",get:function(){return this._c}}]),t}();function pu(t){if(t>=55296&&t<=57343)throw new v("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function mu(t,n){return t>>n&63|128}function ku(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(pu(t),n.push(t>>12&15|224),n.push(mu(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(mu(t,12)),n.push(mu(t,6))),n.push(63&t|128)):n.push(t)}function bu(t,n){if(n.bc>=t.length)throw new v("Invalid byte index");var i=255&t[n.bc];if(n.pc(1),128==(192&i))return 63&i;throw new v("Invalid continuation byte")}function Tu(t,n){var i=n.bc;if(i>t.length)throw new v("Invalid byte index");if(i===t.length)return!1;var r=255&t[i];if(n.pc(1),0==(128&r))return r;if(192==(224&r)){var e=(31&r)<<6|bu(t,n);if(e>=128)return e;throw new v("Invalid continuation byte")}if(224==(240&r)){var u=(15&r)<<12|bu(t,n)<<6|bu(t,n);if(u>=2048)return pu(u),u;throw new v("Invalid continuation byte")}if(240==(248&r)){var o=(7&r)<<18|bu(t,n)<<12|bu(t,n)<<6|bu(t,n);if(o>=65536&&o<=1114111)return o}throw new v("Invalid UTF-8 detected")}var Eu=65279;var Su=function(){function t(t){this.Tc=t}return t.prototype.Ec=function(t){return function(t,n){return(t&n)===n}(this.Tc,t)},t}();function Ru(t,n){var i=t.getUint8(n.bc);return n.pc(1),i}function Iu(t,n,i){t.setUint8(n.bc,i),n.pc(1)}function Cu(t,n,i){var r=Yu(Ju(t),n.bc,n.bc+i);return n.pc(r.byteLength),r}function Au(t,n,i){return n.bc+i<=t.byteLength}function Du(t,n,i){void 0===i&&(i=!1);var r=t.getUint16(n.bc,i);return n.pc(2),r}function Nu(t,n,i,r){void 0===r&&(r=!1),t.setUint16(n.bc,i,r),n.pc(2)}function Ou(t,n,i){void 0===i&&(i=!1);var r=t.getUint32(n.bc,i);return n.pc(4),r}function xu(t,n,i,r){void 0===r&&(r=!1),t.setUint32(n.bc,i,r),n.pc(4)}function Pu(t,n,i){void 0===i&&(i=!1);var r=Ou(t,n,i),e=Ou(t,n,i),u=i?e:r,o=i?r:e;return Yt.fromBits(o,u,!0)}function Lu(t,n){var i=Ru(t,n);if(i)return String.fromCharCode(i)}function Fu(t,n){return function(t,n){return Uu(t,n,!0)}(t,n)}function Mu(t,n,i){for(var r="",e=0;e<i;e++)r+=Lu(t,n);return r}function Bu(t,n){var i,r=Ru(t,n);return 0==(128&r)?i=r:192==(224&r)?i=64*(31&r)+(63&Ru(t,n)):224==(240&r)?i=4096*(15&r)+64*(63&Ru(t,n))+(63&Ru(t,n)):240==(248&r)&&(i=262144*(7&r)+4096*(63&Ru(t,n))+64*(63&Ru(t,n))+(63&Ru(t,n))),i}function Uu(t,n,i){for(var r=[];n.bc<t.byteLength;){var e=Ru(t,n);if(i&&!e)break;r.push(e)}return _e(r)}function Vu(t,n,i,r){for(var e=[];n.bc+2<=t.byteLength;){var u=Du(t,n,i);if(r&&!u)break;e.push(u)}return _e(e)}function qu(t,n,i,r){void 0===r&&(r=!1);for(var e=i.length,u=0;u<e;u+=1){Nu(t,n,i.charCodeAt(u),r)}}function Hu(t){return Uu(Ku(t),new io,!1)}function ju(t){var n=new p(t.length);return function(t,n,i){for(var r=i.length,e=0;e<r;e+=1)Iu(t,n,i.charCodeAt(e))}(Ku(n),new io,t),n}function Wu(t,n){return void 0===n&&(n=!1),Vu(Ku(t),new io,n,!1)}function zu(t,n){void 0===n&&(n=!1);var i=new p(2*t.length);return qu(Ku(i),new io,t,n),i}function $u(t,n){return function(t,n,i){var r=[];(function(t,n){return n.bc+3<=t.byteLength&&239===t.getUint8(n.bc)&&187===t.getUint8(n.bc+1)&&191===t.getUint8(n.bc+2)})(t,n)&&n.pc(3);for(;n.bc<t.byteLength;){var e=Bu(t,n);if(void 0===e)break;if(i&&0===e)break;r.push(e)}return ye(r)}(t,n,!0)}function Xu(t){return ye(function(t,n){var i,r=[],e=new io;if(!n){if(!1===(i=Tu(t,e)))return r;i===Eu||r.push(i)}for(;!1!==(i=Tu(t,e));)r.push(i);return r}(Ju(t)))}function Gu(t){return new p(function(t){for(var n=[],i=0;i<t.length;i++)ku(t[i],n);return n}(function(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&e)<<10)+(1023&u)+65536):(n.push(e),i--)}else n.push(e)}return n}(t)))}function Yu(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new p(t.buffer,t.byteOffset+n,i-n)}function Ku(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Ju(t){return new p(t.buffer,t.byteOffset,t.byteLength)}function Qu(t){return t instanceof ArrayBuffer||vu(t)}function Zu(t){return t instanceof ArrayBuffer?new p(t):Ju(t)}function to(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),t.slice?t.slice(n,i):no(Yu(t,n,i))}function no(t){if(t.slice)return t.slice(0);var n=new p(t.byteLength);return n.set(t,0),n}var io=function(){function t(t){void 0===t&&(t=0),this._c=t}var n=t.prototype;return n.pc=function(t){this._c+=t},n.mc=function(t){this._c=t},n.kc=function(){return new t(this.bc)},n.Sc=function(){return new _u(this.bc<<3)},W(t,[{key:"bc",get:function(){return this._c}}]),t}(),ro=function(){function t(){var t=this;this.Rc=void 0,this.Fn=void 0,this.V=void 0,this.Rc=new A(function(n,i){t.Fn=n,t.V=i})}var n=t.prototype;return n.Ic=function(t){this.Fn&&(this.Fn(t),this.Ds())},n.Cc=function(t){this.V&&(this.V(t),this.Ds())},n.Fs=function(){this.Rc.catch(L),this.Cc(new Ne)},n.Ds=function(){this.Fn=void 0,this.V=void 0},t}();function eo(){return new p([8,4]).buffer}function uo(t){return du(t,eo())}function oo(t,n){return t===ie?function(t){if(t.byteLength<2*so.length)return t;if(Wu(new DataView(t,0,2*so.length),!0)===so)return t;return n=t,zu('<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">'+yu(n)+'</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>',!0).buffer;var n}(n):n}var so="<PlayReady";var co=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,e)||this).Ac=void 0,u.Dc=void 0,u.Ac=i,u.Dc=r,u}return $(n,t),n}(sn),ao=function(t){function n(n,i){var r;(r=t.call(this)||this).Nc=void 0,r.Oc=!1,r.xc=void 0,r.Pc=void 0,r.Lc=function(){r.Fc()},r.Mc=function(t){r.Ws(new Qe(un(r),t.messageType,oo(r.Bc,t.message)))},r.Uc=function(){r.Oc=!0,r.Nc.gc>0&&(r.Nc.yc(),r.Ws(new Je(un(r)))),r.Vc.removeEventListener("keystatuseschange",r.Lc),r.Vc.removeEventListener("message",r.Mc)},r.Vc=n,r.Bc=i,r.Vc.addEventListener("keystatuseschange",r.Lc),r.Vc.addEventListener("message",r.Mc),r.Nc=new iu;var e=[];return r.Vc.closed&&e.push(A.resolve(r.Vc.closed)),r.Pc=new ro,e.push(r.Pc.Rc),r.xc=A.race(e).then(r.Uc,r.Uc),r.Fc(),r}$(n,t);var i=n.prototype;return i.qc=function(){if(this.Oc)return this.xc;var t,n,i=[];return i.push(A.resolve(this.Vc.close())),i.push((t=1e3,new A(function(i,r){if(void 0!==n&&n.Ss)r(new Ne);else{var e=N.Co(function(){void 0!==n&&n.Os(u),i()},t),u=function(){N.Do(e),r(new Ne)};void 0!==n&&n.Ns(u)}}))),this.Pc.Ic(A.race(i).catch(fo)),this.Oc=!0,this.xc},i.Hc=function(t,n,i){return A.resolve(this.Vc.generateRequest(t,n)).catch(fo)},i.jc=function(t){return A.resolve(this.Vc.load(t)).catch(fo)},i.Wc=function(){return A.resolve(this.Vc.remove()).catch(fo)},i.zc=function(t){return A.resolve(this.Vc.update(t)).catch(fo)},i.Fc=function(){var t=this;this.Nc.yc(),this.Vc.keyStatuses.forEach(function(n,i){t.$c(i,n)}),this.Ws(new Je(this))},i.$c=function(t,n){if("string"==typeof t){var i=t;t=n,n=i}var r=Zu(t);if(this.Bc===ie&&16===r.byteLength){var e=Ku(r),u=e.getUint32(0,!0),o=e.getUint16(4,!0),s=e.getUint16(6,!0);e.setUint32(0,u,!1),e.setUint16(4,o,!1),e.setUint16(6,s,!1)}this.Bc===ie&&"status-pending"===n&&(n="usable"),this.Nc.wc(r,n)},W(n,[{key:"Xc",get:function(){return this.xc}},{key:"Gc",get:function(){return this.Vc.expiration}},{key:"Yc",get:function(){return this.Nc}},{key:"Kc",get:function(){return this.Vc.sessionId}}]),n}($e);function fo(t){var n;if(t.message){var i=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);i&&(n=0|y(i[1],16))}throw new co(t.message,void 0,n,t)}var ho=function(){function t(t,n,i){this.Jc=t,this.Qc=n,this.Zc=i}var n=t.prototype;return n.ta=function(){var t=A.coroutine(qr.mark(function t(n){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new ao(this.Jc.createSession(n),this.Qc));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.na=function(t){return A.resolve(this.Jc.setServerCertificate(t))},n.ia=function(t){return A.resolve(t.setMediaKeys(this.Jc))},n.ra=function(t){return A.resolve(t.setMediaKeys(null))},t}(),vo=function(){function t(t,n,i){this.ea=t,this.Bc=n,this.ua=i}var n=t.prototype;return n.oa=function(){var t=A.coroutine(qr.mark(function t(){var n;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.ea.createMediaKeys();case 2:return n=t.sent,t.abrupt("return",new ho(n,this.Bc,this.ua));case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.sa=function(){return this.ua},W(t,[{key:"Qc",get:function(){return this.ea.keySystem}}]),t}();function lo(t){var n=t.trim(),i=n.indexOf(";");return i<0?n:n.substr(0,i).trim()}function wo(t,n,i,r){var e=!1;if(!(r.persistentState&&"optional"!==r.persistentState||r.distinctiveIdentifier&&"optional"!==r.distinctiveIdentifier)){var u={audioCapabilities:[],videoCapabilities:[],persistentState:r.persistentState||"optional",distinctiveIdentifier:r.distinctiveIdentifier||"optional",initDataTypes:r.initDataTypes,sessionTypes:["temporary"],label:r.label,ca:r.ca},o=!1;if(r.audioCapabilities){var s=r.audioCapabilities.filter(function(t){return Boolean(t.contentType)});s.length&&(u.audioCapabilities=s.filter(function(r){return yo(t,n,i,r)}),o=!0,u.audioCapabilities.length&&(e=!0))}if(r.videoCapabilities){var c=r.videoCapabilities.filter(function(t){return Boolean(t.contentType)});c.length&&(u.videoCapabilities=c.filter(function(r){return yo(t,n,i,r)}),o=!0,u.videoCapabilities.length&&(e=!0))}return o||(e=t(i,"video/mp4")),e?u:void 0}}function yo(t,n,i,r){return!!r.contentType&&(!(r.encryptionScheme&&!Ie(n,r.encryptionScheme))&&(!r.robustness&&t(i,lo(r.contentType))))}function go(t){if(t.videoCapabilities)for(var n=0,i=t.videoCapabilities;n<i.length;n++){var r=i[n];if(r.contentType)return r.contentType}if(t.audioCapabilities)for(var e=0,u=t.audioCapabilities;e<u.length;e++){var o=u[e];if(o.contentType)return o.contentType}}function _o(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r.encryptionScheme&&n.push({contentType:r.contentType,robustness:r.robustness})}return t.concat(n)}function po(t){return!(!t.audioCapabilities||!t.audioCapabilities.some(mo))||!(!t.videoCapabilities||!t.videoCapabilities.some(mo))}function mo(t){return!t.robustness}function ko(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];e.robustness?i.push(e):i.push(Hr({},e,{robustness:n}))}return i}var bo=function(){function t(){}return t.prototype.Ts=function(){var t=A.coroutine(qr.mark(function t(n,i){var r,e,u,o,c,a,f,h;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(i=i.filter(function(t){return!t.ca}),r=0,e=i;r<e.length;r++)(u=e[r]).audioCapabilities&&(u.audioCapabilities=_o(u.audioCapabilities)),u.videoCapabilities&&(u.videoCapabilities=_o(u.videoCapabilities));if("com.widevine.alpha"!==n||!i.some(po)){t.next=14;break}return o=i.map(function(t){return i="SW_SECURE_CRYPTO",Hr({},n=t,{videoCapabilities:n.videoCapabilities?ko(n.videoCapabilities,i):void 0,audioCapabilities:n.audioCapabilities?ko(n.audioCapabilities,i):void 0});var n,i}),t.prev=4,t.next=7,s.requestMediaKeySystemAccess(n,o);case 7:return c=t.sent,a=c.getConfiguration(),t.abrupt("return",new vo(c,n,a));case 12:t.prev=12,t.t0=t.catch(4);case 14:return t.next=16,s.requestMediaKeySystemAccess(n,i);case 16:return f=t.sent,h=f.getConfiguration(),t.abrupt("return",new vo(f,n,h));case 19:case"end":return t.stop()}},t,null,[[4,12]])}));return function(n,i){return t.apply(this,arguments)}}(),t.aa=function(){return void 0!==s&&"function"==typeof s.requestMediaKeySystemAccess},t}(),To=function(t){function n(n,i){var r;return(r=t.call(this)||this).Oc=!1,r.fa=void 0,r.ha=void 0,r.va=void 0,r.da=void 0,r.la=void 0,r.Uc=function(){r.Oc=!0,r.fa.Ic(void 0),r.la&&(r.la.removeEventListener("mskeyclose",r.Uc),r.la.removeEventListener("mskeymessage",r.wa),r.la.removeEventListener("mskeyerror",r.ya),r.la.removeEventListener("mskeyadded",r.ga))},r.wa=function(t){r.va&&(r.va.Ic(void 0),r.va=void 0),r.Ws(new Qe(un(r),"license-request",no(t.message).buffer,t.destinationURL||void 0))},r.ya=function(){var t=r.la&&r.la.error;if(t){var n=new co("Unknown CDM error",t.code,t.systemCode);if(r.va)r.va.Cc(n),r.va=void 0;else if(r.ha)r.ha.Cc(n),r.ha=void 0;else switch(n.Ac){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:r._a("output-not-allowed");break;default:r._a("internal-error")}}},r.ga=function(){r.va&&(r._a("usable"),r.va.Ic(void 0),r.va=void 0),r.ha&&(r._a("usable"),r.ha.Ic(void 0),r.ha=void 0)},r.pa=n,r.ma=i,r.fa=new ro,r.da=new iu,r}$(n,t);var i=n.prototype;return i.Hc=function(){var t=A.coroutine(qr.mark(function t(n,i,r){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.ka(),this.va=new ro,this.ta(Zu(i),r),t.next=5,this.va.Rc;case 5:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.ta=function(t,n){if(!t)throw new d("Expected initData to be defined but was "+t+".");var i,r=n&&n.playready&&n.playready.ba;return(i=n?this.pa.createSession(this.ma,t,r):this.pa.createSession(this.ma,t)).addEventListener("mskeyclose",this.Uc),i.addEventListener("mskeymessage",this.wa),i.addEventListener("mskeyerror",this.ya),i.addEventListener("mskeyadded",this.ga),this.la=i,this._a("status-pending"),i},i.jc=function(){var t=A.coroutine(qr.mark(function t(n){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.ka(),t.abrupt("return",!0);case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.zc=function(){var t=A.coroutine(qr.mark(function t(n){var i;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.ha=new ro,this.ka(),this.la){t.next=4;break}return t.abrupt("return",A.resolve());case 4:if(0!==(i=Zu(n)).byteLength){t.next=7;break}throw new d("Cannot call update with an empty response.");case 7:return this.la.update(i),t.next=10,this.ha.Rc;case 10:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.qc=function(){return!this.Oc&&this.la&&(this.Oc=!0,this.la.close()),this.fa.Rc},i.Wc=function(){var t=A.coroutine(qr.mark(function t(){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.ka(),t.abrupt("return");case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.ka=function(){if(this.Oc)throw new d("Already closing or closed.")},i._a=function(t){this.da.yc(),this.da.wc(nu,t),this.Ws(new Je(this))},W(n,[{key:"Kc",get:function(){return this.la&&this.la.sessionId||""}},{key:"Gc",get:function(){return NaN}},{key:"Xc",get:function(){return this.fa.Rc}},{key:"Yc",get:function(){return this.da}}]),n}($e),Eo=function(){function t(t,n,i){this.ma=void 0,this.pa=t,this.Qc=n,this.Zc=i;var r=go(i)||"video/mp4";this.ma=lo(r)}var n=t.prototype;return n.ta=function(){var t=A.coroutine(qr.mark(function t(n){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new To(this.pa,this.ma));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.na=function(t){return A.resolve(!1)},n.ia=function(t){var n=this;return t.readyState>=1?t.msSetMediaKeys(this.pa):t.addEventListener("loadedmetadata",function i(){t.msSetMediaKeys(n.pa),t.removeEventListener("loadedmetadata",i)}),A.resolve()},n.ra=function(t){return A.resolve()},t}(),So=function(){function t(t,n){this.Bc=t,this.Ta=n}var n=t.prototype;return n.sa=function(){return this.Ta},n.oa=function(){var t=new R.MSMediaKeys(this.Bc);return A.resolve(new Eo(t,this.Bc,this.Ta))},W(t,[{key:"Qc",get:function(){return this.Bc}}]),t}(),Ro=function(){function t(){}return t.prototype.Ts=function(t,n){try{return A.resolve(function(t,n){if(!Io())throw new d("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=wo(Co,Ye,t,r);if(e)return new So(t,e)}throw new d("Unsupported key system configuration for "+t)}(t,n))}catch(t){return A.reject(t)}},t.aa=function(){return Io()},t}();function Io(){return void 0!==R.MSMediaKeys&&"function"==typeof R.MSMediaKeys.isTypeSupported}function Co(t,n){return R.MSMediaKeys.isTypeSupported(t,n)}var Ao,Do,No=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).fa=new ro,e.Ea=void 0,e.da=new iu,e.Sa=void 0,e.Ra=new ro,e.ya=function(){var t=e.Sa&&e.Sa.error;if(t){var n=new co("Unknown CDM error",t.code,t.systemCode);e.Ea?(e.Ea.Cc(n),e.Ea=void 0):n.Ac===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?e._a("output-not-allowed"):e._a("internal-error"),e.Ws(new Ze)}},e.wa=function(t){e.Ea&&(e.Ea.Ic(void 0),e.Ea=void 0),e.Ws(new Qe(un(e),"license-request",no(t.message).buffer,"this is a test string"===t.destinationURL?void 0:t.destinationURL))},e.Ia=n,e.ma=i,e.Ca=r,e}$(n,t);var i=n.prototype;return i.Hc=function(t,n,i){var r=i&&i.fairplay&&i.fairplay.Aa;if(!r)throw new d("Expected FairPlay contentId to be defined but was "+r+".");var e=Oo(Zu(n),r,this.Ca);return this.Sa=this.Ia.createSession(this.ma,e),this.Sa.addEventListener("webkitkeymessage",this.wa,!1),this.Sa.addEventListener("webkitkeyerror",this.ya,!1),this._a("usable"),this.Ra.Ic(this.Sa),this.Ra=new ro,A.resolve()},i.jc=function(t){return A.resolve(!0)},i.zc=function(){var t=A.coroutine(qr.mark(function t(n){var i;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(i=Zu(n)).byteLength){t.next=3;break}throw new d("Cannot call update with an empty response.");case 3:if(this.Ea=new ro,t.t0=this.Sa,t.t0){t.next=9;break}return t.next=8,this.Ra.Rc;case 8:t.t0=t.sent;case 9:return t.t0.update(i),t.next=13,this.Ea.Rc;case 13:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.qc=function(){var t=this.Sa;return t&&(t.removeEventListener("webkitkeymessage",this.wa,!1),t.removeEventListener("webkitkeyerror",this.ya,!1),t.close()),this.Ra.Fs(),this.fa.Ic(void 0),this.fa.Rc},i.Wc=function(){return A.resolve(void 0)},i._a=function(t){this.da.yc(),this.da.wc(nu,t),this.Ws(new Je(this))},W(n,[{key:"Kc",get:function(){return this.Sa?this.Sa.sessionId:""}},{key:"Gc",get:function(){return NaN}},{key:"Xc",get:function(){return this.fa.Rc}},{key:"Yc",get:function(){return this.da}}]),n}($e);function Oo(t,n,i){var r=Xu(t),e=2*r.length,u=2*n.length,o=new ArrayBuffer(4+e+4+u+4+i.byteLength),s=new DataView(o),c=new io;return xu(s,c,e,!0),qu(s,c,r,!0),xu(s,c,u,!0),qu(s,c,n,!0),xu(s,c,i.byteLength,!0),function(t,n,i){Ju(t).set(Ju(i),n.bc),n.pc(i.byteLength)}(s,c,i),new p(o)}(Ao=n.ErrorCode||(n.ErrorCode={}))[Ao.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",Ao[Ao.LICENSE_ERROR=2e3]="LICENSE_ERROR",Ao[Ao.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",Ao[Ao.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",Ao[Ao.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",Ao[Ao.SOURCE_INVALID=3e3]="SOURCE_INVALID",Ao[Ao.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",Ao[Ao.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",Ao[Ao.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",Ao[Ao.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",Ao[Ao.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",Ao[Ao.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",Ao[Ao.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",Ao[Ao.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",Ao[Ao.MEDIA_ABORTED=5004]="MEDIA_ABORTED",Ao[Ao.NETWORK_ERROR=6e3]="NETWORK_ERROR",Ao[Ao.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",Ao[Ao.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",Ao[Ao.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",Ao[Ao.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",Ao[Ao.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",Ao[Ao.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",Ao[Ao.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",Ao[Ao.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",Ao[Ao.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",Ao[Ao.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",Ao[Ao.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",Ao[Ao.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",Ao[Ao.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",Ao[Ao.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",Ao[Ao.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",Ao[Ao.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",Ao[Ao.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",Ao[Ao.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",Ao[Ao.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",Ao[Ao.AD_ERROR=1e4]="AD_ERROR",Ao[Ao.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",Ao[Ao.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR",(Do=n.ErrorCategory||(n.ErrorCategory={}))[Do.CONFIGURATION=1]="CONFIGURATION",Do[Do.LICENSE=2]="LICENSE",Do[Do.SOURCE=3]="SOURCE",Do[Do.MANIFEST=4]="MANIFEST",Do[Do.MEDIA=5]="MEDIA",Do[Do.NETWORK=6]="NETWORK",Do[Do.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",Do[Do.SUBTITLE=8]="SUBTITLE",Do[Do.VR=9]="VR",Do[Do.AD=10]="AD",Do[Do.FULLSCREEN=11]="FULLSCREEN",function(t){(n.ErrorCategory||(n.ErrorCategory={})).fromCode=function(t){var i=w.floor(t/1e3);if(i in n.ErrorCategory)return i;throw new d("Invalid error code: "+t)}}();var xo=function(t){function i(n,i,r){var e;return(e=t.call(this,i,r)||this).code=void 0,e.code=n,e}return $(i,t),W(i,[{key:"name",get:function(){return"THEOplayerError"}},{key:"category",get:function(){return n.ErrorCategory.fromCode(this.code)}}]),i}(sn),Po=function(){function t(t,n,i){this.ma=void 0,this.Ca=void 0,this.Ia=t,this.Qc=n,this.Zc=i;var r=go(i)||"video/mp4";this.ma=lo(r)}var i=t.prototype;return i.getInternalMediaKeys=function(){return this.Ia},i.ta=function(){var t=A.coroutine(qr.mark(function t(i){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Ca){t.next=2;break}throw new xo(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return t.abrupt("return",new No(this.Ia,this.ma,this.Ca));case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.na=function(t){return this.Ca=Zu(t),A.resolve(!0)},i.ia=function(t){return t.webkitSetMediaKeys(this.Ia),A.resolve()},i.ra=function(t){return t.webkitSetMediaKeys(null),A.resolve()},t}(),Lo=function(){function t(t,n){this.Bc=t,this.Ta=n}var n=t.prototype;return n.sa=function(){return this.Ta},n.oa=function(){var t=new R.WebKitMediaKeys(this.Bc);return A.resolve(new Po(t,this.Bc,this.Ta))},W(t,[{key:"Qc",get:function(){return this.Bc}}]),t}(),Fo=function(){function t(){}return t.prototype.Ts=function(t,n){try{return A.resolve(function(t,n){if(t!==oe)throw new d(t+" is not supported with webkit-prefixed Encrypted Media Extensions.");if(!Mo())throw new d("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=wo(Bo,Ke,t,r);if(e)return new Lo(t,e)}throw new d("Unsupported key system configuration for "+t)}(t,n))}catch(t){return A.reject(t)}},t.aa=function(){return Mo()},t}();function Mo(){return void 0!==R.WebKitMediaKeys&&"function"==typeof R.WebKitMediaKeys.isTypeSupported}function Bo(t,n){return R.WebKitMediaKeys.isTypeSupported(t,n)}var Uo,Vo=function(){function t(t){this.Da=t}return t.prototype.Ts=function(){var t=A.coroutine(qr.mark(function t(n,i){var r,e,u;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.Da;case 1:if(!(r<e.length)){t.next=14;break}return u=e[r],t.prev=3,t.next=6,u.Ts(n,i);case 6:return t.abrupt("return",t.sent);case 9:t.prev=9,t.t0=t.catch(3);case 11:r++,t.next=1;break;case 14:throw new d("Unsupported key system configuration for "+n);case 15:case"end":return t.stop()}},t,this,[[3,9]])}));return function(n,i){return t.apply(this,arguments)}}(),t}(),qo=function(t){function n(n){var i;return(i=t.call(this)||this).va=void 0,i.Ea=void 0,i.fa=void 0,i.Na=!1,i.Oa=void 0,i.xa=void 0,i.Pa=void 0,i.La=void 0,i.Fa=void 0,i.Bc=n,i.fa=new ro,i.xa="",i.Fa=new ro,i.Pa=new iu,i}$(n,t);var i=n.prototype;return i.Ma=function(){this.Ea&&(this._a("usable"),this.Ea.Ic(void 0),this.Ea=void 0)},i.Ba=function(t){var n=new co("Unknown CDM error",t.errorCode,t.systemCode);this.Ea?(this.Ea.Cc(n),this.Ea=void 0):this.va?(this.va.Cc(n),this.va=void 0):n.Ac===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this._a("output-restricted"):1===n.Dc?this._a("expired"):this._a("internal-error")},i.Ua=function(t){0!==t.message.byteLength&&(this.va&&(this.va.Ic(void 0),this.va=void 0),this.Ws(new Qe(this,"license-request",oo(this.Bc,no(t.message).buffer),t.defaultURL||void 0)))},i.Va=function(t){this.La||(this.La=t,this.Fa.Ic(t))},i.qc=function(){var t=A.coroutine(qr.mark(function t(){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed(),this.Na=!0,this.fa.Ic(void 0);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Hc=function(){var t=A.coroutine(qr.mark(function t(n,i){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.va=new ro,this.Oa=Zu(i),t.t0=this.La,t.t0){t.next=8;break}return t.next=7,this.Fa.Rc;case 7:t.t0=t.sent;case 8:return t.t0.webkitGenerateKeyRequest(this.Bc,this.Oa),t.next=12,this.va.Rc;case 12:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.jc=function(){var t=A.coroutine(qr.mark(function t(n){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.throwIfClosed(),t.abrupt("return",!1);case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Wc=function(){var t=A.coroutine(qr.mark(function t(){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed();case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.zc=function(){var t=A.coroutine(qr.mark(function t(n){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.Ea=new ro,t.t0=this.La,t.t0){t.next=7;break}return t.next=6,this.Fa.Rc;case 6:t.t0=t.sent;case 7:return t.t0.webkitAddKey(this.Bc,Zu(n),this.Oa,this.Kc),t.next=11,this.Ea.Rc;case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.throwIfClosed=function(){if(this.Na)throw new d("Already closing or closed.")},i._a=function(t){this.Pa.yc(),this.Pa.wc(nu,t),this.Ws(new Je(this))},W(n,[{key:"Yc",get:function(){return this.Pa}},{key:"Kc",get:function(){return this.xa},set:function(t){this.xa=t}},{key:"Xc",get:function(){return this.fa.Rc}},{key:"Gc",get:function(){return NaN}}]),n}($e),Ho=function(){function t(t,n){var i=this;this.La=void 0,this.qa=Wr(),this.Ha=[],this.ga=function(t){var n=i.ja(t.sessionId);n&&n.Ma()},this.Wa=function(t){var n=i.ja(t.sessionId);n&&n.Ba(t)},this.za=function(t){var n=i.ja(t.sessionId);n&&n.Ua(t)},this.Qc=t,this.Zc=n}var n=t.prototype;return n.ia=function(t){return this.La=t,this.La.addEventListener("webkitkeyadded",this.ga),this.La.addEventListener("webkitkeyerror",this.Wa),this.La.addEventListener("webkitkeymessage",this.za),this.qa.forEach(function(n,i){return n.Va(t)}),this.Ha.forEach(function(n){return n.Va(t)}),A.resolve()},n.ra=function(t){return t.removeEventListener("webkitkeyadded",this.ga),t.removeEventListener("webkitkeyerror",this.Wa),t.removeEventListener("webkitkeymessage",this.za),this.La=void 0,A.resolve()},n.ta=function(){var t=A.coroutine(qr.mark(function t(n,i,r){var e;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new qo(this.Qc),this.La&&e.Va(this.La),this.Ha.push(e),t.abrupt("return",e);case 4:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),n.na=function(t){return A.resolve(!1)},n.ja=function(t){if(t){var n=this.qa.get(t);return n||((n=this.Ha.shift())?(n.Kc=t,this.qa.set(t,n),n):void 0)}},t}(),jo=function(){function t(t,n){this.Qc=t,this.$a=n}var n=t.prototype;return n.oa=function(){return A.resolve(new Ho(this.Qc,this.$a))},n.sa=function(){return this.$a},t}(),Wo=function(){function t(){}return t.prototype.Ts=function(t,n){try{return A.resolve(zo(t,n))}catch(t){return A.reject(t)}},t.aa=function(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest},t}();function zo(t,n){if(!Wo.aa())throw new d("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=wo($o,Ye,t,r);if(e)return new jo(t,e)}throw new d("Unsupported key system configuration for "+t)}function $o(t,n){var i=Tr();return!(!i||!i.canPlayType||""===i.canPlayType(n,t))}function Xo(){return Uo||(Uo=function(){var t=[];Fo.aa()&&t.push(new Fo);bo.aa()&&t.push(new bo);Ro.aa()&&t.push(new Ro);Wo.aa()&&t.push(new Wo);return new Vo(t)}()),Uo}var Go=function(){function t(){this.Xa=Wr()}var n=t.prototype;return n.yc=function(t){this.Xa.delete(t)},n.Ga=function(){this.Xa.clear()},n.dc=function(t){return this.Xa.get(t)},n.Ya=function(t,n){this.Xa.set(t,n)},t}(),Yo=function(){function t(){}return t.Ka=function(){return t.tu||(t.tu=Ko.aa()?new Ko:new Go),t.tu},t.yc=function(n){t.Ka().yc(n)},t.Ga=function(){t.Ka().Ga()},t.dc=function(n){return t.Ka().dc(n)},t.Ya=function(n,i){t.Ka().Ya(n,i)},t}();Yo.tu=void 0;var Ko=function(n){function i(){return n.apply(this,arguments)||this}$(i,n),i.aa=function(){try{return t.sessionStorage.setItem("foobar","foobar"),t.sessionStorage.removeItem("foobar"),!0}catch(t){return!1}};var r=i.prototype;return r.yc=function(n){t.sessionStorage.removeItem(n)},r.Ga=function(){t.sessionStorage.clear()},r.dc=function(n){return t.sessionStorage[n]},r.Ya=function(n,i){t.sessionStorage[n]=i},i}(Yo);var Jo=function(){var n,i=t.Blob;if(i)try{return new i,n=i,function(t,i){return new n(t,i)}}catch(t){}var r,e=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder;return e?(r=e,function(t,n){var i=new r;if(t)for(var e=0;e<t.length;e++){var u=t[e];i.append(u)}return i.getBlob(n&&n.type||"")}):null}();function Qo(t,n,i){var r=Jo([n],{type:"application/octet-stream"}),e=URL.createObjectURL(r),o=function(t,n){var i=t,r=i.indexOf("?");if(r>=0&&(i=i.substr(0,r)),i=i.substr(i.lastIndexOf("/")+1),n){var e=i.indexOf(".");e<0&&(e=i.length),i=i.substr(0,e)+n+i.substr(e)}return i}(t,i),s=u.createElement("a");s.href=e,s.download=o,u.body.appendChild(s),s.click(),u.body.removeChild(s),URL.revokeObjectURL(e)}var Zo,ts;!function(t){t.Ja="Qa",t.Za="tf",t.nf="contentprotectionerror",t.if="contentprotectionsuccess",t.rf="currentsourcechange",t.ef="destroy",t.uf="durationchange",t.sf="emptied",t.oc="encrypted",t.cf="ended",t.af="ff",t.hf="loadstart",t.vf="manifestupdate",t.df="nosupportedrepresentationfound",t.lf="offline",t.wf="online",t.yf="pause",t.gf="play",t._f="progress",t.pf="ratechange",t.mf="representationchange",t.kf="resize",t.bf="seeked",t.Tf="seeking",t.Ef="segmentnotfound",t.Sf="Rf",t.If="Cf",t.Af="sourcechange",t.Df="timeupdate",t.Nf="volumechange",t.Of="xf",t.Pf="metricschange"}(Zo||(Zo={})),function(t){t.Lf="arraybuffer",t.Ff="json",t.Mf="stream",t.uu="text"}(ts||(ts={}));var ns=function(){function t(n){var i=this;this.os=void 0,this.os={},n instanceof t?n.asList().forEach(function(t){var n=t[0],r=t[1];i.append(n,r)}):Array.isArray(n)?n.forEach(function(t){i.append(t[0],t[1])}):n&&l.getOwnPropertyNames(n).forEach(function(t){i.append(t,n[t])})}var n=t.prototype;return n.append=function(t,n){var i=t,r=n;i=is(i),r=rs(r);var e=i.toLowerCase();if(this.os.hasOwnProperty(e)){var u=this.os[e],o=u[1];u[1]=o?o+", "+r:r}else this.os[e]=[i,r]},n.delete=function(t){var n=is(t).toLowerCase();delete this.os[n]},n.get=function(t){var n=is(t).toLowerCase();return this.os.hasOwnProperty(n)?this.os[n][1]:null},n.has=function(t){var n=is(t).toLowerCase();return this.os.hasOwnProperty(n)},n.set=function(t,n){var i=t,r=(i=is(i)).toLowerCase();this.os[r]=[i,rs(n)]},n.forEach=function(t,n){for(var i in this.os)this.os.hasOwnProperty(i)&&t.call(n,this.os[i][1],i,this)},n.asList=function(){var t=[];for(var n in this.os)if(this.os.hasOwnProperty(n)){var i=this.os[n],r=i[0],e=i[1];t.push([r,e])}return t},n.Bf=function(){var t={};return this.forEach(function(n,i){t[i]=n}),t},n.Uf=function(t){var n=this;t.forEach(function(t,i){n.append(i,t)})},n.Vf=function(t){var n=this;t.forEach(function(t,i){n.set(i,t)})},t}();function is(t){var n=t;if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(n))throw new d("Invalid character in header field name");return n}function rs(t){var n=t;return"string"!=typeof n&&(n=String(n)),n}var es="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(t){return"Symbol("+t+")"};function us(){}var os=Number.isNaN||function(t){return t!=t},ss=us;function cs(t){return"object"==typeof t&&null!==t||"function"==typeof t}function as(t){return t.slice()}function fs(t){return!1!==function(t){if("number"!=typeof t)return!1;if(os(t))return!1;if(t<0)return!1;return!0}(t)&&t!==1/0}function hs(t,n,i){if("function"!=typeof t)throw new d("Argument is not a function");return Function.prototype.apply.call(t,n,i)}function vs(t,n,i,r){var e=t[n];if(void 0!==e){if("function"!=typeof e)throw new d(e+" is not a method");switch(i){case 0:return function(){return ls(e,t,r)};case 1:return function(n){var i=[n].concat(r);return ls(e,t,i)}}}return function(){return Ts(void 0)}}function ds(t,n,i){var r=t[n];if(void 0!==r)return hs(r,t,i)}function ls(t,n,i){try{return Ts(hs(t,n,i))}catch(t){return Es(t)}}function ws(t){return t}function ys(t){if(t=Number(t),os(t)||t<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return t}function gs(t){if(void 0===t)return function(){return 1};if("function"!=typeof t)throw new d("size property of a queuing strategy must be a function");return function(n){return t(n)}}var _s=A,ps=A.prototype.then,ms=A.resolve.bind(_s),ks=A.reject.bind(_s);function bs(t){return new _s(t)}function Ts(t){return ms(t)}function Es(t){return ks(t)}function Ss(t,n,i){return ps.call(t,n,i)}function Rs(t,n,i){Ss(Ss(t,n,i),void 0,ss)}function Is(t,n){Rs(t,n)}function Cs(t,n){Rs(t,void 0,n)}function As(t,n,i){return Ss(t,n,i)}function Ds(t){Ss(t,void 0,ss)}var Ns=function(){function t(){this.qf=0,this.Hf=0,this.mi={jf:[],Wf:void 0},this.zf=this.mi,this.qf=0,this.Hf=0}return l.defineProperty(t.prototype,"length",{get:function(){return this.Hf},enumerable:!0,configurable:!0}),t.prototype.push=function(t){var n=this.zf,i=n;16383===n.jf.length&&(i={jf:[],Wf:void 0}),n.jf.push(t),i!==n&&(this.zf=i,n.Wf=i),++this.Hf},t.prototype.shift=function(){var t=this.mi,n=t,i=this.qf,r=i+1,e=t.jf,u=e[i];return 16384===r&&(n=t.Wf,r=0),--this.Hf,this.qf=r,t!==n&&(this.mi=n),e[i]=void 0,u},t.prototype.forEach=function(t){for(var n=this.qf,i=this.mi,r=i.jf;!(n===r.length&&void 0===i.Wf||n===r.length&&(n=0,0===(r=(i=i.Wf).jf).length));)t(r[n]),++n},t.prototype.peek=function(){var t=this.mi,n=this.qf;return t.jf[n]},t}();function Os(t,n,i){var r=null;!0===i&&(r=l.prototype);var e=l.create(r);return e.value=t,e.done=n,e}function xs(t,n){t.$f=!0,t.Xf=n,n.Gf=t,"readable"===n.Yf?Ms(t):"closed"===n.Yf?function(t){Ms(t),Vs(t)}(t):Bs(t,n.Kf)}function Ps(t,n){return Wa(t.Xf,n)}function Ls(t){"readable"===t.Xf.Yf?Us(t,new d("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,n){Bs(t,n)}(t,new d("Reader was released and can no longer be used to monitor the stream's closedness")),t.Xf.Gf=void 0,t.Xf=void 0}function Fs(t){return new d("Cannot "+t+" a stream using a released reader")}function Ms(t){t.xc=bs(function(n,i){t.Jf=n,t.Qf=i})}function Bs(t,n){Ms(t),Us(t,n)}function Us(t,n){Ds(t.xc),t.Qf(n),t.Jf=void 0,t.Qf=void 0}function Vs(t){t.Jf(void 0),t.Jf=void 0,t.Qf=void 0}var qs=es("[[CancelSteps]]"),Hs=es("[[PullSteps]]");function js(t,n){void 0===n&&(n=!1);var i=new Ks(t);return i.$f=n,i}function Ws(t){return bs(function(n,i){var r={Fn:n,V:i};t.Gf.Zf.push(r)})}function zs(t,n,i){var r=t.Gf;r.Zf.shift().Fn(Os(n,i,r.$f))}function $s(t){return t.Gf.Zf.length}function Xs(t){var n=t.Gf;return void 0!==n&&!!Js(n)}var Gs,Ys,Ks=function(){function t(t){if(!1===Ha(t))throw new d("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===ja(t))throw new d("This stream has already been locked for exclusive reading by another reader");xs(this,t),this.Zf=new Ns}return l.defineProperty(t.prototype,"closed",{get:function(){return Js(this)?this.xc:Es(Zs("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return Js(this)?void 0===this.Xf?Es(Fs("cancel")):Ps(this,t):Es(Zs("cancel"))},t.prototype.read=function(){return Js(this)?void 0===this.Xf?Es(Fs("read from")):Qs(this):Es(Zs("read"))},t.prototype.releaseLock=function(){if(!Js(this))throw Zs("releaseLock");if(void 0!==this.Xf){if(this.Zf.length>0)throw new d("Tried to release a reader lock when that reader has pending read() calls un-settled");Ls(this)}},t}();function Js(t){return!!cs(t)&&!!l.prototype.hasOwnProperty.call(t,"Zf")}function Qs(t){var n=t.Xf;return n.th=!0,"closed"===n.Yf?Ts(Os(void 0,!0,t.$f)):"errored"===n.Yf?Es(n.Kf):n.nh[Hs]()}function Zs(t){return new d("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}"symbol"==typeof es.asyncIterator&&((Gs={})[es.asyncIterator]=function(){return this},Ys=Gs,l.defineProperty(Ys,es.asyncIterator,{enumerable:!1}));var tc={next:function(){if(!1===nc(this))return Es(ic("next"));var t=this.ih;return void 0===t.Xf?Es(Fs("iterate")):As(Qs(t),function(n){var i=n.done;return i&&Ls(t),Os(n.value,i,!0)})},return:function(t){if(!1===nc(this))return Es(ic("next"));var n=this.ih;if(void 0===n.Xf)return Es(Fs("finish iterating"));if(n.Zf.length>0)return Es(new d("Tried to release a reader lock when that reader has pending read() calls un-settled"));if(!1===this.rh){var i=Ps(n,t);return Ls(n),As(i,function(){return Os(t,!0,!0)})}return Ls(n),Ts(Os(t,!0,!0))}};function nc(t){return!!cs(t)&&!!l.prototype.hasOwnProperty.call(t,"ih")}function ic(t){return new d("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}function rc(t){var n=t.Dn.shift();return t.eh-=n.size,t.eh<0&&(t.eh=0),n.value}function ec(t,n,i){if(!fs(i=Number(i)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");t.Dn.push({value:n,size:i}),t.eh+=i}function uc(t){t.Dn=new Ns,t.eh=0}void 0!==Ys&&l.setPrototypeOf(tc,Ys),l.defineProperty(tc,"next",{enumerable:!1}),l.defineProperty(tc,"return",{enumerable:!1});var oc=es("[[AbortSteps]]"),sc=es("[[ErrorSteps]]"),cc=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),fc(this);var i=n.size,r=n.highWaterMark;if(void 0!==t.type)throw new RangeError("Invalid type is specified");var e=gs(i);void 0===r&&(r=1),function(t,n,i,r){var e=l.create(Cc.prototype);var u=vs(n,"write",1,[e]),o=vs(n,"close",0,[]),s=vs(n,"abort",1,[]);Ac(t,e,function(){return ds(n,"start",[e])},u,o,s,i,r)}(this,t,r=ys(r),e)}return l.defineProperty(t.prototype,"locked",{get:function(){if(!1===hc(this))throw Fc("locked");return vc(this)},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===hc(this)?Es(Fc("abort")):!0===vc(this)?Es(new d("Cannot abort a stream that already has a writer")):dc(this,t)},t.prototype.close=function(){return!1===hc(this)?Es(Fc("close")):!0===vc(this)?Es(new d("Cannot close a stream that already has a writer")):!0===_c(this)?Es(new d("Cannot close an already-closing stream")):lc(this)},t.prototype.getWriter=function(){if(!1===hc(this))throw Fc("getWriter");return ac(this)},t}();function ac(t){return new kc(t)}function fc(t){t.Yf="writable",t.Kf=void 0,t.uh=void 0,t.oh=void 0,t.sh=new Ns,t.ah=void 0,t.fh=void 0,t.hh=void 0,t.vh=void 0,t.dh=!1}function hc(t){return!!cs(t)&&!!l.prototype.hasOwnProperty.call(t,"oh")}function vc(t){return void 0!==t.uh}function dc(t,n){var i=t.Yf;if("closed"===i||"errored"===i)return Ts(void 0);if(void 0!==t.vh)return t.vh.un;var r=!1;"erroring"===i&&(r=!0,n=void 0);var e=bs(function(i,e){t.vh={un:void 0,Fn:i,V:e,Sn:n,lh:r}});return t.vh.un=e,!1===r&&yc(t,n),e}function lc(t){var n=t.Yf;if("closed"===n||"errored"===n)return Es(new d("The stream (in "+n+" state) is not in the writable state and cannot be closed"));var i,r=bs(function(n,i){var r={Fn:n,V:i};t.fh=r}),e=t.uh;return void 0!==e&&!0===t.dh&&"writable"===n&&Xc(e),ec(i=t.oh,"close",0),Oc(i),r}function wc(t,n){"writable"!==t.Yf?gc(t):yc(t,n)}function yc(t,n){var i=t.oh;t.Yf="erroring",t.Kf=n;var r=t.uh;void 0!==r&&Sc(r,n),!1===function(t){if(void 0===t.ah&&void 0===t.hh)return!1;return!0}(t)&&!0===i.wh&&gc(t)}function gc(t){t.Yf="errored",t.oh[sc]();var n=t.Kf;if(t.sh.forEach(function(t){t.V(n)}),t.sh=new Ns,void 0!==t.vh){var i=t.vh;if(t.vh=void 0,!0===i.lh)return i.V(n),void pc(t);Rs(t.oh[oc](i.Sn),function(){i.Fn(),pc(t)},function(n){i.V(n),pc(t)})}else pc(t)}function _c(t){return void 0!==t.fh||void 0!==t.hh}function pc(t){void 0!==t.fh&&(t.fh.V(t.Kf),t.fh=void 0);var n=t.uh;void 0!==n&&qc(n,t.Kf)}function mc(t,n){var i=t.uh;void 0!==i&&n!==t.dh&&(!0===n?function(t){jc(t)}(i):Xc(i)),t.dh=n}var kc=function(){function t(t){if(!1===hc(t))throw new d("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===vc(t))throw new d("This stream has already been locked for exclusive writing by another writer");this.yh=t,t.uh=this;var n,i=t.Yf;if("writable"===i)!1===_c(t)&&!0===t.dh?jc(this):zc(this),Uc(this);else if("erroring"===i)Wc(this,t.Kf),Uc(this);else if("closed"===i)zc(this),Uc(n=this),Hc(n);else{var r=t.Kf;Wc(this,r),Vc(this,r)}}return l.defineProperty(t.prototype,"closed",{get:function(){return!1===bc(this)?Es(Mc("closed")):this.xc},enumerable:!0,configurable:!0}),l.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===bc(this))throw Mc("desiredSize");if(void 0===this.yh)throw Bc("desiredSize");return function(t){var n=t.yh,i=n.Yf;if("errored"===i||"erroring"===i)return null;if("closed"===i)return 0;return Nc(n.oh)}(this)},enumerable:!0,configurable:!0}),l.defineProperty(t.prototype,"ready",{get:function(){return!1===bc(this)?Es(Mc("ready")):this.gh},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===bc(this)?Es(Mc("abort")):void 0===this.yh?Es(Bc("abort")):function(t,n){return dc(t.yh,n)}(this,t)},t.prototype.close=function(){if(!1===bc(this))return Es(Mc("close"));var t=this.yh;return void 0===t?Es(Bc("close")):!0===_c(t)?Es(new d("Cannot close an already-closing stream")):Tc(this)},t.prototype.releaseLock=function(){if(!1===bc(this))throw Mc("releaseLock");void 0!==this.yh&&Rc(this)},t.prototype.write=function(t){return!1===bc(this)?Es(Mc("write")):void 0===this.yh?Es(Bc("write to")):Ic(this,t)},t}();function bc(t){return!!cs(t)&&!!l.prototype.hasOwnProperty.call(t,"yh")}function Tc(t){return lc(t.yh)}function Ec(t,n){"pending"===t._h?qc(t,n):function(t,n){Vc(t,n)}(t,n)}function Sc(t,n){"pending"===t.ph?$c(t,n):function(t,n){Wc(t,n)}(t,n)}function Rc(t){var n=t.yh,i=new d("Writer was released and can no longer be used to monitor the stream's closedness");Sc(t,i),Ec(t,i),n.uh=void 0,t.yh=void 0}function Ic(t,n){var i=t.yh,r=i.oh,e=function(t,n){try{return t.mh(n)}catch(n){return xc(t,n),1}}(r,n);if(i!==t.yh)return Es(Bc("write to"));var u=i.Yf;if("errored"===u)return Es(i.Kf);if(!0===_c(i)||"closed"===u)return Es(new d("The stream is closing or closed and cannot be written to"));if("erroring"===u)return Es(i.Kf);var o=function(t){return bs(function(n,i){var r={Fn:n,V:i};t.sh.push(r)})}(i);return function(t,n,i){var r={chunk:n};try{ec(t,r,i)}catch(n){return void xc(t,n)}var e=t.kh;if(!1===_c(e)&&"writable"===e.Yf){var u=Pc(t);mc(e,u)}Oc(t)}(r,n,e),o}var Cc=function(){function t(){throw new d("WritableStreamDefaultController cannot be constructed explicitly")}return t.prototype.error=function(t){if(!1===function(t){if(!cs(t))return!1;if(!l.prototype.hasOwnProperty.call(t,"kh"))return!1;return!0}(this))throw new d("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this.kh.Yf&&Lc(this,t)},t.prototype[oc]=function(t){var n=this.bh(t);return Dc(this),n},t.prototype[sc]=function(){uc(this)},t}();function Ac(t,n,i,r,e,u,o,s){n.kh=t,t.oh=n,n.Dn=void 0,n.eh=void 0,uc(n),n.wh=!1,n.mh=s,n.Th=o,n.Eh=r,n.Sh=e,n.bh=u;var c=Pc(n);mc(t,c),Rs(Ts(i()),function(){n.wh=!0,Oc(n)},function(i){n.wh=!0,wc(t,i)})}function Dc(t){t.Eh=void 0,t.Sh=void 0,t.bh=void 0,t.mh=void 0}function Nc(t){return t.Th-t.eh}function Oc(t){var n=t.kh;if(!1!==t.wh&&void 0===n.ah)if("erroring"!==n.Yf){if(0!==t.Dn.length){var i=t.Dn.peek().value;"close"===i?function(t){var n=t.kh;(function(t){t.hh=t.fh,t.fh=void 0})(n),rc(t);var i=t.Sh();Dc(t),Rs(i,function(){!function(t){t.hh.Fn(void 0),t.hh=void 0,"erroring"===t.Yf&&(t.Kf=void 0,void 0!==t.vh&&(t.vh.Fn(),t.vh=void 0)),t.Yf="closed";var n=t.uh;void 0!==n&&Hc(n)}(n)},function(t){!function(t,n){t.hh.V(n),t.hh=void 0,void 0!==t.vh&&(t.vh.V(n),t.vh=void 0),wc(t,n)}(n,t)})}(t):function(t,n){var i=t.kh;(function(t){t.ah=t.sh.shift()})(i),Rs(t.Eh(n),function(){!function(t){t.ah.Fn(void 0),t.ah=void 0}(i);var n=i.Yf;if(rc(t),!1===_c(i)&&"writable"===n){var r=Pc(t);mc(i,r)}Oc(t)},function(n){"writable"===i.Yf&&Dc(t),function(t,n){t.ah.V(n),t.ah=void 0,wc(t,n)}(i,n)})}(t,i.chunk)}}else gc(n)}function xc(t,n){"writable"===t.kh.Yf&&Lc(t,n)}function Pc(t){return Nc(t)<=0}function Lc(t,n){var i=t.kh;Dc(t),yc(i,n)}function Fc(t){return new d("WritableStream.prototype."+t+" can only be used on a WritableStream")}function Mc(t){return new d("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function Bc(t){return new d("Cannot "+t+" a stream using a released writer")}function Uc(t){t.xc=bs(function(n,i){t.Jf=n,t.Qf=i,t._h="pending"})}function Vc(t,n){Uc(t),qc(t,n)}function qc(t,n){Ds(t.xc),t.Qf(n),t.Jf=void 0,t.Qf=void 0,t._h="rejected"}function Hc(t){t.Jf(void 0),t.Jf=void 0,t.Qf=void 0,t._h="resolved"}function jc(t){t.gh=bs(function(n,i){t.Rh=n,t.Ih=i}),t.ph="pending"}function Wc(t,n){jc(t),$c(t,n)}function zc(t){jc(t),Xc(t)}function $c(t,n){Ds(t.gh),t.Ih(n),t.Rh=void 0,t.Ih=void 0,t.ph="rejected"}function Xc(t){t.Rh(void 0),t.Rh=void 0,t.Ih=void 0,t.ph="fulfilled"}function Gc(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}var Yc="undefined"!=typeof DOMException?DOMException:void 0;var Kc,Jc=function(t){if("function"!=typeof t&&"object"!=typeof t)return!1;try{return new t,!0}catch(t){return!1}}(Yc)?Yc:((Kc=function(t,n){this.message=t||"",this.name=n||"Error",v.captureStackTrace&&v.captureStackTrace(this,this.constructor)}).prototype=l.create(v.prototype),l.defineProperty(Kc.prototype,"constructor",{value:Kc,writable:!0,configurable:!0}),Kc);function Qc(t,n,i,r,e,u){var o=js(t),s=ac(n);t.th=!0;var c=!1,a=Ts(void 0);return bs(function(f,h){var v,l,w,y;if(void 0!==u){if(v=function(){var i=new Jc("Aborted","AbortError"),u=[];!1===r&&u.push(function(){return"writable"===n.Yf?dc(n,i):Ts(void 0)}),!1===e&&u.push(function(){return"readable"===t.Yf?Wa(t,i):Ts(void 0)}),m(function(){return A.all(u.map(function(t){return t()}))},!0,i)},!0===u.aborted)return void v();u.addEventListener("abort",v)}if(p(t,o.xc,function(t){!1===r?m(function(){return dc(n,t)},!0,t):k(!0,t)}),p(n,s.xc,function(n){!1===e?m(function(){return Wa(t,n)},!0,n):k(!0,n)}),l=t,w=o.xc,y=function(){!1===i?m(function(){return function(t){var n=t.yh,i=n.Yf;return!0===_c(n)||"closed"===i?Ts(void 0):"errored"===i?Es(n.Kf):Tc(t)}(s)}):k()},"closed"===l.Yf?y():Is(w,y),!0===_c(n)||"closed"===n.Yf){var g=new d("the destination writable stream closed before all data could be piped to it");!1===e?m(function(){return Wa(t,g)},!0,g):k(!0,g)}function _(){var t=a;return Ss(a,function(){return t!==a?_():void 0})}function p(t,n,i){"errored"===t.Yf?i(t.Kf):Cs(n,i)}function m(t,i,r){function e(){Rs(t(),function(){return b(i,r)},function(t){return b(!0,t)})}!0!==c&&(c=!0,"writable"===n.Yf&&!1===_c(n)?Is(_(),e):e())}function k(t,i){!0!==c&&(c=!0,"writable"===n.Yf&&!1===_c(n)?Is(_(),function(){return b(t,i)}):b(t,i))}function b(t,n){Rc(s),Ls(o),void 0!==u&&u.removeEventListener("abort",v),t?h(n):f(void 0)}Ds(bs(function(t,n){!function i(r){r?t():Ss(!0===c?Ts(!0):Ss(s.gh,function(){return Ss(Qs(o),function(t){return!0===t.done||(a=Ss(Ic(s,t.value),void 0,us),!1)})}),i,n)}(!1)}))})}var Zc=function(){function t(){throw new d}return l.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===ta(this))throw fa("desiredSize");return sa(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===ta(this))throw fa("close");if(!1===ca(this))throw new d("The stream is not in a state that permits close");ea(this)},t.prototype.enqueue=function(t){if(!1===ta(this))throw fa("enqueue");if(!1===ca(this))throw new d("The stream is not in a state that permits enqueue");return ua(this,t)},t.prototype.error=function(t){if(!1===ta(this))throw fa("error");oa(this,t)},t.prototype[qs]=function(t){uc(this);var n=this.Ch(t);return ra(this),n},t.prototype[Hs]=function(){var t=this.Ah;if(this.Dn.length>0){var n=rc(this);return!0===this.Dh&&0===this.Dn.length?(ra(this),za(t)):na(this),Ts(Os(n,!1,t.Gf.$f))}var i=Ws(t);return na(this),i},t}();function ta(t){return!!cs(t)&&!!l.prototype.hasOwnProperty.call(t,"Ah")}function na(t){!1!==ia(t)&&(!0!==t.Nh?(t.Nh=!0,Rs(t.Oh(),function(){t.Nh=!1,!0===t.xh&&(t.xh=!1,na(t))},function(n){oa(t,n)})):t.xh=!0)}function ia(t){var n=t.Ah;return!1!==ca(t)&&(!1!==t.wh&&(!0===ja(n)&&$s(n)>0||sa(t)>0))}function ra(t){t.Oh=void 0,t.Ch=void 0,t.mh=void 0}function ea(t){var n=t.Ah;t.Dh=!0,0===t.Dn.length&&(ra(t),za(n))}function ua(t,n){var i=t.Ah;if(!0===ja(i)&&$s(i)>0)zs(i,n,!1);else{var r=void 0;try{r=t.mh(n)}catch(n){throw oa(t,n),n}try{ec(t,n,r)}catch(n){throw oa(t,n),n}}na(t)}function oa(t,n){var i=t.Ah;"readable"===i.Yf&&(uc(t),ra(t),$a(i,n))}function sa(t){var n=t.Ah.Yf;return"errored"===n?null:"closed"===n?0:t.Th-t.eh}function ca(t){var n=t.Ah.Yf;return!1===t.Dh&&"readable"===n}function aa(t,n,i,r,e,u,o){n.Ah=t,n.Dn=void 0,n.eh=void 0,uc(n),n.wh=!1,n.Dh=!1,n.xh=!1,n.Nh=!1,n.mh=o,n.Th=u,n.Oh=r,n.Ch=e,t.nh=n,Rs(Ts(i()),function(){n.wh=!0,na(n)},function(t){oa(n,t)})}function fa(t){return new d("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}var ha=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&w.floor(t)===t},va=function(){function t(){throw new d("ReadableStreamBYOBRequest cannot be used directly")}return l.defineProperty(t.prototype,"view",{get:function(){if(!1===wa(this))throw Na("view");return this.Ph},enumerable:!0,configurable:!0}),t.prototype.respond=function(t){if(!1===wa(this))throw Na("respond");if(void 0===this.Lh)throw new d("This BYOB request has been invalidated");this.Ph.buffer,function(t,n){if(!1===fs(n=Number(n)))throw new RangeError("bytesWritten must be a finite");Sa(t,n)}(this.Lh,t)},t.prototype.respondWithNewView=function(t){if(!1===wa(this))throw Na("respond");if(void 0===this.Lh)throw new d("This BYOB request has been invalidated");if(!ArrayBuffer.isView(t))throw new d("You can only respond with array buffer views");t.buffer,function(t,n){var i=t.Fh.peek();if(i.byteOffset+i.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.byteLength!==n.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");i.buffer=n.buffer,Sa(t,n.byteLength)}(this.Lh,t)},t}(),da=function(){function t(){throw new d("ReadableByteStreamController constructor cannot be used directly")}return l.defineProperty(t.prototype,"byobRequest",{get:function(){if(!1===la(this))throw Oa("byobRequest");if(void 0===this.Mh&&this.Fh.length>0){var t=this.Fh.peek(),n=new p(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),i=l.create(va.prototype);!function(t,n,i){t.Lh=n,t.Ph=i}(i,this,n),this.Mh=i}return this.Mh},enumerable:!0,configurable:!0}),l.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===la(this))throw Oa("desiredSize");return Aa(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===la(this))throw Oa("close");if(!0===this.Dh)throw new d("The stream has already been closed; do not close it again!");var t=this.Bh.Yf;if("readable"!==t)throw new d("The stream (in "+t+" state) is not in the readable state and cannot be closed");!function(t){var n=t.Bh;if(t.eh>0)return void(t.Dh=!0);if(t.Fh.length>0){var i=t.Fh.peek();if(i.bytesFilled>0){var r=new d("Insufficient bytes to fill elements in the given buffer");throw Ca(t,r),r}}Ia(t),za(n)}(this)},t.prototype.enqueue=function(t){if(!1===la(this))throw Oa("enqueue");if(!0===this.Dh)throw new d("stream is closed or draining");var n=this.Bh.Yf;if("readable"!==n)throw new d("The stream (in "+n+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(t))throw new d("You can only enqueue array buffer views when using a ReadableByteStreamController");t.buffer,function(t,n){var i=t.Bh,r=n.buffer,e=n.byteOffset,u=n.byteLength,o=ws(r);if(!0===Xs(i))if(0===$s(i))pa(t,o,e,u);else{var s=new p(o,e,u);zs(i,s,!1)}else!0===La(i)?(pa(t,o,e,u),Ea(t)):pa(t,o,e,u);ya(t)}(this,t)},t.prototype.error=function(t){if(!1===la(this))throw Oa("error");Ca(this,t)},t.prototype[qs]=function(t){this.Fh.length>0&&(this.Fh.peek().bytesFilled=0);uc(this);var n=this.Ch(t);return Ia(this),n},t.prototype[Hs]=function(){var t=this.Bh;if(this.eh>0){var n=this.Dn.shift();this.eh-=n.byteLength,ba(this);var i=void 0;try{i=new p(n.buffer,n.byteOffset,n.byteLength)}catch(t){return Es(t)}return Ts(Os(i,!1,t.Gf.$f))}var r=this.Uh;if(void 0!==r){var e=void 0;try{e=new ArrayBuffer(r)}catch(t){return Es(t)}var u={buffer:e,byteOffset:0,byteLength:r,bytesFilled:0,elementSize:1,ctor:p,readerType:"default"};this.Fh.push(u)}var o=Ws(t);return ya(this),o},t}();function la(t){return!!cs(t)&&!!l.prototype.hasOwnProperty.call(t,"Bh")}function wa(t){return!!cs(t)&&!!l.prototype.hasOwnProperty.call(t,"Lh")}function ya(t){!1!==function(t){var n=t.Bh;if("readable"!==n.Yf)return!1;if(!0===t.Dh)return!1;if(!1===t.wh)return!1;if(!0===Xs(n)&&$s(n)>0)return!0;if(!0===La(n)&&Pa(n)>0)return!0;if(Aa(t)>0)return!0;return!1}(t)&&(!0!==t.Nh?(t.Nh=!0,Rs(t.Oh(),function(){t.Nh=!1,!0===t.xh&&(t.xh=!1,ya(t))},function(n){Ca(t,n)})):t.xh=!0)}function ga(t,n){var i=!1;"closed"===t.Yf&&(i=!0);var r=_a(n);"default"===n.readerType?zs(t,r,i):function(t,n,i){var r=t.Gf;r.Vh.shift().Fn(Os(n,i,r.$f))}(t,r,i)}function _a(t){var n=t.bytesFilled,i=t.elementSize;return new t.ctor(t.buffer,t.byteOffset,n/i)}function pa(t,n,i,r){t.Dn.push({buffer:n,byteOffset:i,byteLength:r}),t.eh+=r}function ma(t,n){var i=n.elementSize,r=n.bytesFilled-n.bytesFilled%i,e=w.min(t.eh,n.byteLength-n.bytesFilled),u=n.bytesFilled+e,o=u-u%i,s=e,c=!1;o>r&&(s=o-n.bytesFilled,c=!0);for(var a,f,h,v,d,l=t.Dn;s>0;){var y=l.peek(),g=w.min(s,y.byteLength),_=n.byteOffset+n.bytesFilled;a=n.buffer,f=_,h=y.buffer,v=y.byteOffset,d=g,new p(a).set(new p(h,v,d),f),y.byteLength===g?l.shift():(y.byteOffset+=g,y.byteLength-=g),t.eh-=g,ka(t,g,n),s-=g}return c}function ka(t,n,i){Ta(t),i.bytesFilled+=n}function ba(t){0===t.eh&&!0===t.Dh?(Ia(t),za(t.Bh)):ya(t)}function Ta(t){void 0!==t.Mh&&(t.Mh.Lh=void 0,t.Mh.Ph=void 0,t.Mh=void 0)}function Ea(t){for(;t.Fh.length>0;){if(0===t.eh)return;var n=t.Fh.peek();!0===ma(t,n)&&(Ra(t),ga(t.Bh,n))}}function Sa(t,n){var i=t.Fh.peek();if("closed"===t.Bh.Yf){if(0!==n)throw new d("bytesWritten must be 0 when calling respond() on a closed stream");!function(t,n){n.buffer=ws(n.buffer);var i=t.Bh;if(!0===La(i))for(;Pa(i)>0;)ga(i,Ra(t))}(t,i)}else!function(t,n,i){if(i.bytesFilled+n>i.byteLength)throw new RangeError("bytesWritten out of range");if(ka(t,n,i),!(i.bytesFilled<i.elementSize)){Ra(t);var r=i.bytesFilled%i.elementSize;if(r>0){var e=i.byteOffset+i.bytesFilled,u=i.buffer.slice(e-r,e);pa(t,u,0,u.byteLength)}i.buffer=ws(i.buffer),i.bytesFilled-=r,ga(t.Bh,i),Ea(t)}}(t,n,i);ya(t)}function Ra(t){var n=t.Fh.shift();return Ta(t),n}function Ia(t){t.Oh=void 0,t.Ch=void 0}function Ca(t,n){var i=t.Bh;"readable"===i.Yf&&(!function(t){Ta(t),t.Fh=new Ns}(t),uc(t),Ia(t),$a(i,n))}function Aa(t){var n=t.Bh.Yf;return"errored"===n?null:"closed"===n?0:t.Th-t.eh}function Da(t,n,i){var r=l.create(da.prototype);var e=vs(n,"pull",0,[r]),u=vs(n,"cancel",1,[]),o=n.autoAllocateChunkSize;if(void 0!==o&&(o=Number(o),!1===ha(o)||o<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");!function(t,n,i,r,e,u,o){n.Bh=t,n.xh=!1,n.Nh=!1,n.Mh=void 0,n.Dn=n.eh=void 0,uc(n),n.Dh=!1,n.wh=!1,n.Th=ys(u),n.Oh=r,n.Ch=e,n.Uh=o,n.Fh=new Ns,t.nh=n,Rs(Ts(i()),function(){n.wh=!0,ya(n)},function(t){Ca(n,t)})}(t,r,function(){return ds(n,"start",[r])},e,u,i,o)}function Na(t){return new d("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function Oa(t){return new d("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function xa(t){return bs(function(n,i){var r={Fn:n,V:i};t.Gf.Vh.push(r)})}function Pa(t){return t.Gf.Vh.length}function La(t){var n=t.Gf;return void 0!==n&&!!Ma(n)}var Fa=function(){function t(t){if(!Ha(t))throw new d("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===la(t.nh))throw new d("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(ja(t))throw new d("This stream has already been locked for exclusive reading by another reader");xs(this,t),this.Vh=new Ns}return l.defineProperty(t.prototype,"closed",{get:function(){return Ma(this)?this.xc:Es(Ba("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return Ma(this)?void 0===this.Xf?Es(Fs("cancel")):Ps(this,t):Es(Ba("cancel"))},t.prototype.read=function(t){return Ma(this)?void 0===this.Xf?Es(Fs("read from")):ArrayBuffer.isView(t)?(t.buffer,0===t.byteLength?Es(new d("view must have non-zero byteLength")):function(t,n){var i=t.Xf;if(i.th=!0,"errored"===i.Yf)return Es(i.Kf);return function(t,n){var i=t.Bh,r=1;n.constructor!==DataView&&(r=n.constructor.BYTES_PER_ELEMENT);var e=n.constructor,u={buffer:ws(n.buffer),byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:r,ctor:e,readerType:"byob"};if(t.Fh.length>0)return t.Fh.push(u),xa(i);if("closed"===i.Yf)return Ts(Os(new e(u.buffer,u.byteOffset,0),!0,i.Gf.$f));if(t.eh>0){if(!0===ma(t,u)){var o=_a(u);return ba(t),Ts(Os(o,!1,i.Gf.$f))}if(!0===t.Dh){var s=new d("Insufficient bytes to fill elements in the given buffer");return Ca(t,s),Es(s)}}t.Fh.push(u);var c=xa(i);return ya(t),c}(i.nh,n)}(this,t)):Es(new d("view must be an array buffer view")):Es(Ba("read"))},t.prototype.releaseLock=function(){if(!Ma(this))throw Ba("releaseLock");if(void 0!==this.Xf){if(this.Vh.length>0)throw new d("Tried to release a reader lock when that reader has pending read() calls un-settled");Ls(this)}},t}();function Ma(t){return!!cs(t)&&!!l.prototype.hasOwnProperty.call(t,"Vh")}function Ba(t){return new d("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}var Ua=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),qa(this);var i=n.size,r=n.highWaterMark,e=t.type;if("bytes"===String(e)){if(void 0!==i)throw new RangeError("The strategy for a byte stream cannot have a size function");void 0===r&&(r=0),Da(this,t,r=ys(r))}else{if(void 0!==e)throw new RangeError("Invalid type is specified");var u=gs(i);void 0===r&&(r=1),function(t,n,i,r){var e=l.create(Zc.prototype),u=vs(n,"pull",0,[e]),o=vs(n,"cancel",1,[]);aa(t,e,function(){return ds(n,"start",[e])},u,o,i,r)}(this,t,r=ys(r),u)}}return l.defineProperty(t.prototype,"locked",{get:function(){if(!1===Ha(this))throw Xa("locked");return ja(this)},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return!1===Ha(this)?Es(Xa("cancel")):!0===ja(this)?Es(new d("Cannot cancel a stream that already has a reader")):Wa(this,t)},t.prototype.getReader=function(t){var n=(void 0===t?{}:t).mode;if(!1===Ha(this))throw Xa("getReader");if(void 0===n)return js(this,!0);if("byob"===(n=String(n)))return function(t,n){void 0===n&&(n=!1);var i=new Fa(t);return i.$f=n,i}(this,!0);throw new RangeError("Invalid mode is specified")},t.prototype.pipeThrough=function(t,n){var i=t.writable,r=t.readable,e=void 0===n?{}:n,u=e.preventClose,o=e.preventAbort,s=e.preventCancel,c=e.signal;if(!1===Ha(this))throw Xa("pipeThrough");if(!1===hc(i))throw new d("writable argument to pipeThrough must be a WritableStream");if(!1===Ha(r))throw new d("readable argument to pipeThrough must be a ReadableStream");if(u=Boolean(u),o=Boolean(o),s=Boolean(s),void 0!==c&&!Gc(c))throw new d("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(!0===ja(this))throw new d("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(!0===vc(i))throw new d("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return Ds(Qc(this,i,u,o,s,c)),r},t.prototype.pipeTo=function(t,n){var i=void 0===n?{}:n,r=i.preventClose,e=i.preventAbort,u=i.preventCancel,o=i.signal;return!1===Ha(this)?Es(Xa("pipeTo")):!1===hc(t)?Es(new d("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(r=Boolean(r),e=Boolean(e),u=Boolean(u),void 0===o||Gc(o)?!0===ja(this)?Es(new d("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):!0===vc(t)?Es(new d("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Qc(this,t,r,e,u,o):Es(new d("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal")))},t.prototype.tee=function(){if(!1===Ha(this))throw Xa("tee");var t=function(t,n){var i,r,e,u,o,s=js(t),c=!1,a=!1,f=!1,h=bs(function(t){o=t});function v(){return!0===c?Ts(void 0):(c=!0,Ds(As(Qs(s),function(t){if(c=!1,!0===t.done)return!1===a&&ea(e.nh),void(!1===f&&ea(u.nh));var n=t.value,i=n,r=n;!1===a&&ua(e.nh,i),!1===f&&ua(u.nh,r)})),Ts(void 0))}function d(){}return e=Va(d,v,function(n){if(a=!0,i=n,!0===f){var e=as([i,r]),u=Wa(t,e);o(u)}return h}),u=Va(d,v,function(n){if(f=!0,r=n,!0===a){var e=as([i,r]),u=Wa(t,e);o(u)}return h}),Cs(s.xc,function(t){oa(e.nh,t),oa(u.nh,t)}),[e,u]}(this);return as(t)},t.prototype.getIterator=function(t){var n=(void 0===t?{}:t).preventCancel,i=void 0!==n&&n;if(!1===Ha(this))throw Xa("getIterator");return function(t,n){void 0===n&&(n=!1);var i=js(t),r=l.create(tc);return r.ih=i,r.rh=Boolean(n),r}(this,i)},t}();function Va(t,n,i,r,e){void 0===r&&(r=1),void 0===e&&(e=function(){return 1});var u=l.create(Ua.prototype);return qa(u),aa(u,l.create(Zc.prototype),t,n,i,r,e),u}function qa(t){t.Yf="readable",t.Gf=void 0,t.Kf=void 0,t.th=!1}function Ha(t){return!!cs(t)&&!!l.prototype.hasOwnProperty.call(t,"nh")}function ja(t){return void 0!==t.Gf}function Wa(t,n){return t.th=!0,"closed"===t.Yf?Ts(void 0):"errored"===t.Yf?Es(t.Kf):(za(t),As(t.nh[qs](n),us))}function za(t){t.Yf="closed";var n=t.Gf;void 0!==n&&(Js(n)&&(n.Zf.forEach(function(t){t.Fn(Os(void 0,!0,n.$f))}),n.Zf=new Ns),Vs(n))}function $a(t,n){t.Yf="errored",t.Kf=n;var i=t.Gf;void 0!==i&&(Js(i)?(i.Zf.forEach(function(t){t.V(n)}),i.Zf=new Ns):(i.Vh.forEach(function(t){t.V(n)}),i.Vh=new Ns),Us(i,n))}function Xa(t){return new d("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}"symbol"==typeof es.asyncIterator&&l.defineProperty(Ua.prototype,es.asyncIterator,{value:Ua.prototype.getIterator,enumerable:!1,writable:!0,configurable:!0});var Ga=function(){function t(t,n,i){void 0===t&&(t={}),void 0===n&&(n={}),void 0===i&&(i={});var r=n.size,e=n.highWaterMark,u=i.size,o=i.highWaterMark;if(void 0!==t.writableType)throw new RangeError("Invalid writable type specified");var s=gs(r);if(void 0===e&&(e=1),e=ys(e),void 0!==t.readableType)throw new RangeError("Invalid readable type specified");var c,a=gs(u);void 0===o&&(o=0),o=ys(o),function(t,n,i,r,e,u){function o(){return n}t.qh=function(t,n,i,r,e,u){void 0===e&&(e=1),void 0===u&&(u=function(){return 1});var o=l.create(cc.prototype);return fc(o),Ac(o,l.create(Cc.prototype),t,n,i,r,e,u),o}(o,function(n){return function(t,n){var i=t.Hh;if(!0===t.dh){var r=t.jh;return As(r,function(){var r=t.qh,e=r.Yf;if("erroring"===e)throw r.Kf;return ef(i,n)})}return ef(i,n)}(t,n)},function(){return function(t){var n=t.Wh,i=t.Hh,r=i.zh();return nf(i),As(r,function(){if("errored"===n.Yf)throw n.Kf;var t=n.nh;!0===ca(t)&&ea(t)},function(i){throw Ka(t,i),n.Kf})}(t)},function(n){return function(t,n){return Ka(t,n),Ts(void 0)}(t,n)},i,r),t.Wh=Va(o,function(){return function(t){return Qa(t,!1),t.jh}(t)},function(n){return Ja(t,n),Ts(void 0)},e,u),t.dh=void 0,t.jh=void 0,t.$h=void 0,Qa(t,!0),t.Hh=void 0}(this,bs(function(t){c=t}),e,s,o,a),function(t,n){var i=l.create(Za.prototype),r=function(t){try{return rf(i,t),Ts(void 0)}catch(t){return Es(t)}},e=n.transform;if(void 0!==e){if("function"!=typeof e)throw new d("transform is not a method");r=function(t){return ls(e,n,[t,i])}}var u=vs(n,"flush",0,[i]);!function(t,n,i,r){n.Xh=t,t.Hh=n,n.Gh=i,n.zh=r}(t,i,r,u)}(this,t);var f=ds(t,"start",[this.Hh]);c(f)}return l.defineProperty(t.prototype,"readable",{get:function(){if(!1===Ya(this))throw of("readable");return this.Wh},enumerable:!0,configurable:!0}),l.defineProperty(t.prototype,"writable",{get:function(){if(!1===Ya(this))throw of("writable");return this.qh},enumerable:!0,configurable:!0}),t}();function Ya(t){return!!cs(t)&&!!l.prototype.hasOwnProperty.call(t,"Hh")}function Ka(t,n){oa(t.Wh.nh,n),Ja(t,n)}function Ja(t,n){nf(t.Hh),xc(t.qh.oh,n),!0===t.dh&&Qa(t,!1)}function Qa(t,n){void 0!==t.jh&&t.$h(),t.jh=bs(function(n){t.$h=n}),t.dh=n}var Za=function(){function t(){throw new d("TransformStreamDefaultController instances cannot be created directly")}return l.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===tf(this))throw uf("desiredSize");return sa(this.Xh.Wh.nh)},enumerable:!0,configurable:!0}),t.prototype.enqueue=function(t){if(!1===tf(this))throw uf("enqueue");rf(this,t)},t.prototype.error=function(t){if(!1===tf(this))throw uf("error");var n;n=t,Ka(this.Xh,n)},t.prototype.terminate=function(){if(!1===tf(this))throw uf("terminate");!function(t){var n=t.Xh,i=n.Wh.nh;!0===ca(i)&&ea(i);var r=new d("TransformStream terminated");Ja(n,r)}(this)},t}();function tf(t){return!!cs(t)&&!!l.prototype.hasOwnProperty.call(t,"Xh")}function nf(t){t.Gh=void 0,t.zh=void 0}function rf(t,n){var i=t.Xh,r=i.Wh.nh;if(!1===ca(r))throw new d("Readable side is not in a state that permits enqueue");try{ua(r,n)}catch(t){throw Ja(i,t),i.Wh.Kf}(function(t){return!0!==ia(t)})(r)!==i.dh&&Qa(i,!0)}function ef(t,n){return As(t.Gh(n),void 0,function(n){throw Ka(t.Xh,n),n})}function uf(t){return new d("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function of(t){return new d("TransformStream.prototype."+t+" can only be used on a TransformStream")}var sf,cf=function(t){function n(n){var i;return(i=t.call(this,""+n.join("\n"),n[0])||this).causes=n,i}return $(n,t),W(n,[{key:"name",get:function(){return"AggregateError"}}]),n}(sn);function af(t){return n=[t],new Ua({start:function(t){for(var i=0;i<n.length;i++){var r=n[i];t.enqueue(r)}t.close()}});var n}function ff(t){return af(new p(t))}function hf(t,n){return function(t,n){var i=n,r=t.getReader(),e=new ro,u=function(){o();var t=new Ne;r.cancel(t).catch(L),e.Cc(t)},o=function(){i&&(i.Os(u),i=void 0)};i&&(i.Ss?u():i.Ns(u));var s=[];return A.resolve(r.read()).then(function t(n){return n.done?(o(),A.resolve(s)):(s.push(n.value),A.resolve(r.read()).then(t))}).then(function(t){o(),e.Ic(t)},function(t){o(),e.Cc(t)}),e.Rc}(t,n).then(function(t){return lu(t).buffer})}function vf(t,n){var i=n,r=new Ga,e=r.readable,u=r.writable,o=u.getWriter(),s=function(){i&&i.Fs()};return o.closed.then(s,s),t.then(function(t){return i=void 0,o.releaseLock(),t.pipeTo(u).catch(L)},function(t){return i=void 0,o.releaseLock(),u.abort(t).catch(L)}),e}function df(t){return Xu(new p(t))}function lf(t){return Gu(t).buffer}!function(t){t[t.Mf=0]="Mf",t[t.Yh=1]="Yh"}(sf||(sf={}));var wf="content-type",yf="text/plain;charset=UTF-8",gf=function(){function t(){}var n=t.prototype;return n.Kh=function(t){return this.Jh(t).then(JSON.parse)},n.Qh=function(t,n){switch(t){case ts.Lf:return this.Zh(n);case ts.Ff:return this.Kh(n);case ts.Mf:return this.tv();case ts.uu:return this.Jh(n);default:throw new d}},t}();function _f(t,n,i){if(t instanceof gf)return t;if(t instanceof Ua)return function(t,n){return new mf({vs:sf.Mf,tv:t,nv:pf(n)})}(t,i);var r=pf(i),e=A.resolve(t).then(function(t){return function(t,n){if(t){if("string"==typeof t)return{vs:ts.uu,iv:t,nv:n||yf};if(t instanceof ArrayBuffer||vu(t))return{vs:ts.Lf,iv:If(t),nv:n};if(at(t)||ot(t))return{vs:ts.Ff,iv:t,nv:n};throw new d("Unsupported BodyInit type")}return{vs:ts.uu,iv:null,nv:n}}(t,r)});return new mf({vs:sf.Yh,Rc:e,rv:n})}function pf(t){return(t.get(wf)||"").toLowerCase()}var mf=function(t){function n(n){var i;return(i=t.call(this)||this).ev=!1,i.uv=void 0,i.ov=new ro,i.ov.Rc.catch(L),i.sv(n),i}$(n,t);var i=n.prototype;return i.cv=function(){return this.ov.Rc},i.Jh=function(t){return this.av(kf,t)},i.Kh=function(t){return this.av(Tf,t)},i.Zh=function(t){return this.av(Sf,t)},i.tv=function(){return this.fv((t=this.uv).vs===sf.Mf?t.tv:vf(t.Rc.then(Rf).then(ff),t.rv));var t},i.av=function(t,n){if(this.ev)return A.reject(new d("Already used"));this.ev=!0;var i=t(this.uv,n);return this.ov.Ic(i.then(L)),i},i.fv=function(t){if(this.ev)throw new d("Already used");if(t.locked)throw new d("Body stream is locked");this.ev=!0;var n=new Ga,i=A.resolve(t.pipeTo(n.writable));return this.ov.Ic(i),n.readable},i.sv=function(t){this.uv=t,t.vs===sf.Yh&&t.Rc.catch(L)},i.hv=function(){if(this.ev)throw new d("Already used");var t=function(t){if(t.vs===sf.Mf){var n=t.tv.tee(),i=n[0],r=n[1];return[{vs:t.vs,tv:i,nv:t.nv},{vs:t.vs,tv:r,nv:t.nv}]}var e=t.rv.Bs(),u=e[0],o=e[1];return[{vs:t.vs,Rc:t.Rc,rv:u},{vs:t.vs,Rc:t.Rc,rv:o}]}(this.uv),i=t[0],r=t[1];return this.sv(i),new n(r)},W(n,[{key:"vv",get:function(){return this.ev}}]),n}(gf);function kf(t,n){return t.vs===sf.Mf?hf(t.tv,n).then(df):(n&&t.rv.Ms(n),Me(t.Rc.then(bf),t.rv))}function bf(t){switch(t.vs){case ts.uu:return A.resolve(t.iv||"");case ts.Lf:return A.resolve(t.iv).then(df);case ts.Ff:return A.resolve(t.iv).then(JSON.stringify)}}function Tf(t,n){return t.vs===sf.Mf?kf(t,n).then(JSON.parse):(n&&t.rv.Ms(n),Me(t.Rc.then(Ef),t.rv))}function Ef(t){return t.vs===ts.Ff?A.resolve(t.iv):bf(t).then(JSON.parse)}function Sf(t,n){return t.vs===sf.Mf?hf(t.tv,n):(n&&t.rv.Ms(n),Me(t.Rc.then(Rf),t.rv))}function Rf(t){switch(t.vs){case ts.Lf:return A.resolve(t.iv);case ts.uu:case ts.Ff:return bf(t).then(lf)}}function If(t){return t instanceof ArrayBuffer?t:no(Ju(t)).buffer}function Cf(t){return t.dv>=200&&t.dv<=299||304===t.dv}var Af,Df,Nf,Of,xf=function(t){function n(n,i){var r,e,u,o,s,c;i?(e=i.lv,u=i.wv,o=i.dv,s=i.yv,c=i.gv):(e=[],u=ts.uu,o=200,s="OK",c=!1);var a=n._v,f=new ns(n.lv||e),h=n.wv||u,v=n.pv||(i&&i._v===a?i.pv:a.mv),d=i?i.kv:null,l=_f(void 0!==n.Pu?n.Pu:d,n.rv||new De,f);return(r=t.call(this,l)||this).lv=void 0,r._v=void 0,r.pv=void 0,r.wv=void 0,r.dv=void 0,r.yv=void 0,r.gv=void 0,r.lv=f,r._v=a,r.pv=v,r.wv=h,r.dv=void 0!==n.dv?n.dv:o,r.yv=void 0!==n.yv?String(n.yv):s,r.gv=n.gv||c,r}$(n,t);var i=n.prototype;return i.Pu=function(t){return this.Qh(this.wv,t)},i.kc=function(){return new n({Pu:this.hv(),_v:this._v},this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).kv=void 0,i.kv=n,i}$(n,t);var i=n.prototype;return i.cv=function(){return this.kv.cv()},i.Jh=function(t){return this.kv.Jh(t)},i.Kh=function(t){return this.kv.Kh(t)},i.Zh=function(t){return this.kv.Zh(t)},i.tv=function(){return this.kv.tv()},i.hv=function(){return this.kv.hv()},W(n,[{key:"vv",get:function(){return this.kv.vv}}]),n}(gf));!function(t){t.DELETE="DELETE",t.GET="GET",t.HEAD="HEAD",t.OPTIONS="OPTIONS",t.POST="POST",t.PUT="PUT"}(Af||(Af={})),function(t){t.bv="",t.Tv="manifest",t.Ev="segment",t.Sv="content-protection"}(Df||(Df={})),function(t){t.bv="",t.Rv="initialization-segment",t.Iv="fairplay-license",t.Cv="fairplay-certificate",t.Av="widevine-license",t.Dv="widevine-certificate",t.Nv="playready-license",t.Ov="clearkey-license",t.xv="aes128-key"}(Nf||(Nf={})),function(t){t.bv="",t.Pv="audio",t.Lv="video",t.uu="text",t.Fv="image"}(Of||(Of={}));var Pf=function(t,n){this.iv=void 0,this.lv=void 0,this.Mv=void 0,this.wv=void 0,this.Bv=void 0,this.Us=void 0,this.vs=void 0,this.Uv=void 0,this.Vv=void 0,this.mv=void 0,this.qv=void 0,this.Hv=void 0;var i,r,e,u,o,s,c,a,f,h,v,d=t.mv;n?(i=n.iv,r=n.lv,e=n.Mv,u=n.wv,o=n.Bv,s=n.Us,c=n.vs,a=n.Uv,f=n.Vv,h=n.qv,v=n.Hv):(i=null,r={},e=Af.GET,u=ts.uu,o=0,c=Df.bv,a=Nf.bv,f=Of.bv,h=!1),this.mv=d,this.iv=t.iv||i,this.lv=new ns(t.lv||r),this.Mv=t.Mv||e,this.wv=t.wv||u,this.Bv=void 0!==t.Bv?Number(t.Bv)||0:o,this.Us=t.Us||s||(new De).Us,this.vs=t.vs||c,this.Uv=t.Uv||a,this.Vv=t.Vv||f,this.qv=void 0!==t.qv?Boolean(t.qv):h,this.Hv=t.Hv||v},Lf=function(){function t(){}var n=t.prototype;return n._v=function(t){var n=function(t){return new xf({Pu:null,lv:{},_v:t,pv:t.mv,wv:t.wv,dv:0,yv:Zo.lf})}(new Pf(t));return A.resolve(n)},n.jv=function(t){},n.sr=function(){},t}();var Ff=function(){function t(t,n){void 0===n&&(n=!0),this.Wv=void 0,this.zv=void 0,this.Wv=t,this.zv=n}var n=t.prototype;return n._v=function(t){var n=this.$v(t);return this.Wv._v(n)},n.jv=function(t){return this.Wv.jv(this.Xv(t))},n.$v=function(n){var i=new Pf(n);if(!this.zv){var r=t.Gv(i.mv);i=new Pf({mv:r},i)}return i},n.Xv=function(n){var i=n.mv;return this.zv||(i=t.Gv(i)),{mv:i,iv:n.iv}},t.Gv=function(t){return N.Xo&&de(t,"http://")?t.replace(":","s:"):t},n.sr=function(){this.Wv.sr()},W(t,null,[{key:"Yv",get:function(){return t.Kv||(t.Kv=new t(new Lf)),t.Kv}}]),t}();function Mf(t,n){for(var i=0,r=l.keys(n);i<r.length;i++){var e=r[i];t.searchParams.set(e,n[e])}}function Bf(t,n){var i=N.qo(t);return n&&!le(i,"/")&&(i+="/"),i}Ff.Kv=void 0;var Uf,Vf=/cache:(.+)?(?=&|$)/,qf="http://webcache.googleusercontent.com/search?q=cache:";function Hf(t){if(!de(t,qf))return"";var n=N.Vo(t).search.match(Vf);return n&&n.length>1?n[1]:""}!function(t){t.Jv="HttpOpenError",t.Qv="HttpResponseError",t.Zv="HttpTimeoutError"}(Uf||(Uf={}));var jf=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).td=void 0,e.td=n,e}return $(n,t),W(n,[{key:"_v",get:function(){return this.td}}]),n}(sn);var Wf=function(t){function n(n,i){return t.call(this,n,"Error while opening "+n.mv+". Invalid URL.",i)||this}return $(n,t),W(n,[{key:"name",get:function(){return Uf.Jv}}]),n}(jf);var zf=function(t){function n(n,i,r){var e;return(e=t.call(this,n._v,null!=r?r:function(t){return"Error while loading "+t._v.mv+", status code "+t.dv}(n),i)||this).nd=void 0,e.nd=n,e}return $(n,t),W(n,[{key:"name",get:function(){return Uf.Qv}},{key:"rd",get:function(){return this.nd}}]),n}(jf);var $f=function(t){function n(n,i){return t.call(this,n,function(t){return"Request for "+t.mv+" timed out after "+t.Bv+" seconds."}(n),i)||this}return $(n,t),W(n,[{key:"name",get:function(){return Uf.Zv}}]),n}(jf),Xf=function(t,n){return(Xf=l.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])})(t,n)};function Gf(t,n){function i(){this.constructor=t}Xf(t,n),t.prototype=null===n?l.create(n):(i.prototype=n.prototype,new i)}var Yf="object"==typeof e?e:"object"==typeof t?t:"object"==typeof global?global:null;var Kf=function(){var t=Yf.Blob;if(t)try{return new t,function(t,n){return new Yf.Blob(t,n)}}catch(t){}var n,i=Yf.BlobBuilder||Yf.WebKitBlobBuilder||Yf.MozBlobBuilder||Yf.MSBlobBuilder;return i?(n=i,function(t,i){var r=new n;if(t)for(var e=0,u=t;e<u.length;e++){var o=u[e];r.append(o)}return r.getBlob(i&&i.type||"")}):null}(),Jf="function"==typeof Ua?Ua:void 0;function Qf(t){return t&&"function"==typeof t.getReader}function Zf(t){if("function"!=typeof t)return!1;try{var n=!1,i=new t({start:function(){n=!0}});return!!n&&Qf(i)}catch(t){return!1}}var th=function(){function t(t,n){this.Gf=t,this.ed=n}return t.prototype.pull=function(t){var n=this;return this.Gf.read().then(function(i){n.ed&&n.ed(i),i.done?t.close():t.enqueue(i.value)})},t.prototype.cancel=function(t){return this.Gf.cancel(t)},t}();function nh(t,n){return n.constructor===t?n:new t(new th(n.getReader()),{highWaterMark:0})}var ih=function(){function t(t,n){this.ud=t,this.yt=n}return t.prototype.pull=function(t){return this.ud().then(function(n){t.enqueue(new p(n)),t.close()})},t.prototype.cancel=function(t){this.yt&&this.yt(t)},t}();function rh(t,n,i){return new t(new ih(n,i),{highWaterMark:0})}var eh={searchParams:"URLSearchParams"in Yf,iterable:"Symbol"in Yf&&"iterator"in Symbol,blob:"FileReader"in Yf&&!!Kf,formData:"FormData"in Yf,arrayBuffer:"ArrayBuffer"in Yf,stream:Zf(Jf),streamRequest:"Request"in Yf&&"body"in Yf.Request.prototype,streamResponse:"Response"in Yf&&"body"in Yf.Response.prototype,abort:"AbortController"in Yf&&"Request"in Yf&&"signal"in Yf.Request.prototype,encoding:"TextEncoder"in Yf&&"TextDecoder"in Yf,url:"URL"in Yf&&function(t){try{return new Yf.URL(t).toString()===t}catch(t){return!1}}("http://example.com/"),firefox:"navigator"in Yf&&/Firefox\//.test(Yf.navigator.userAgent)};function uh(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new d("Invalid character in header field name");return t}function oh(t){return"string"!=typeof t&&(t=String(t)),t}function sh(t){var n={next:function(){var n=t.shift();return{done:void 0===n,value:n}}};return eh.iterable&&(n[Symbol.iterator]=function(){return n}),n}var ch=function(){function t(t){var n=this;this.os={};var i,r=function(t,i){Array.isArray(t)&&2===t.length?n.append(t[0],t[1]):n.append(i,t)};(i=t)&&"function"==typeof i.forEach?t.forEach(r):!function(t){return eh.iterable&&t&&t[Symbol.iterator]}(t)?t&&l.getOwnPropertyNames(t).forEach(function(i){n.append(i,t[i])}):Array.from(t).forEach(r)}return t.prototype.append=function(t,n){t=uh(t),n=oh(n);var i=t.toLowerCase();if(this.os.hasOwnProperty(i)){var r=this.os[i],e=r[1];r[1]=e?e+", "+n:n}else this.os[i]=[t,n]},t.prototype.delete=function(t){var n=uh(t).toLowerCase();delete this.os[n]},t.prototype.get=function(t){var n=uh(t).toLowerCase();return this.os.hasOwnProperty(n)?this.os[n][1]:null},t.prototype.has=function(t){var n=uh(t).toLowerCase();return this.os.hasOwnProperty(n)},t.prototype.set=function(t,n){var i=(t=uh(t)).toLowerCase();this.os[i]=[t,oh(n)]},t.prototype.forEach=function(t,n){for(var i in this.os)this.os.hasOwnProperty(i)&&t.call(n,this.os[i][1],i,this)},t.prototype.keys=function(){var t=[];return this.forEach(function(n,i){t.push(i)}),sh(t)},t.prototype.values=function(){var t=[];return this.forEach(function(n){t.push(n)}),sh(t)},t.prototype.entries=function(){var t=[];return this.forEach(function(n,i){t.push([i,n])}),sh(t)},t.prototype.asList=function(){var t=[];for(var n in this.os)if(this.os.hasOwnProperty(n)){var i=this.os[n],r=i[0],e=i[1];t.push([r,e])}return t},t}();function ah(){}eh.iterable&&(ch.prototype[Symbol.iterator]=ch.prototype.entries);var fh,hh,vh,dh=w.min,lh=String.fromCharCode,wh=16384;function yh(t){for(var n=[],i=0,r=t;i<r.length;i++){var e=r[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return function(t){for(var n=t.length,i=[],r=0;r<n;r+=wh){var e=dh(r+wh,n);i.push(lh.apply(null,t.slice(r,e)))}return i.join("")}(n)}function gh(t){if(t>=55296&&t<=57343)throw new v("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function _h(t,n){return t>>n&63|128}function ph(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(gh(t),n.push(t>>12&15|224),n.push(_h(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(_h(t,12)),n.push(_h(t,6))),n.push(63&t|128)):n.push(t)}function mh(){if(vh>=hh)throw new v("Invalid byte index");var t=255&fh[vh];if(vh++,128==(192&t))return 63&t;throw new v("Invalid continuation byte")}function kh(){var t,n;if(vh>hh)throw new v("Invalid byte index");if(vh===hh)return!1;if(t=255&fh[vh],vh++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|mh())>=128)return n;throw new v("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|mh()<<6|mh())>=2048)return gh(n),n;throw new v("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|mh()<<12|mh()<<6|mh())>=65536&&n<=1114111)return n;throw new v("Invalid UTF-8 detected")}var bh=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];function Th(t){return t&&URLSearchParams.prototype.isPrototypeOf(t)}function Eh(t){return t&&ArrayBuffer.prototype.isPrototypeOf(t)}function Sh(t){return t&&DataView.prototype.isPrototypeOf(t)}var Rh,Ih=ArrayBuffer.isView||function(t){return t&&(bh.indexOf(l.prototype.toString.call(t))>-1||Sh(t))};function Ch(t){if(t.bodyUsed)return A.reject(new d("Already used"));t.bodyUsed=!0}function Ah(t){return new A(function(n,i){t.onload=function(){n(t.result)},t.onerror=function(){i(t.error)}})}function Dh(t){return eh.encoding?new Yf.TextDecoder("utf-8").decode(new p(t)):yh(function(t){hh=(fh=t).length,vh=0;for(var n,i=[];!1!==(n=kh());)i.push(n);return i}(new p(t)))}function Nh(t){return eh.encoding?(new Yf.TextEncoder).encode(t).buffer:new p(function(t){for(var n=[],i=0,r=t;i<r.length;i++)ph(r[i],n);return n}(function(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&e)<<10)+(1023&u)+65536):(n.push(e),i--)}else n.push(e)}return n}(t))).buffer}function Oh(t){var n=t.getReader(),i=[],r=function(t){var e=t.done,u=t.value;return e?A.resolve(i):(i.push(u),n.read().then(r))};return n.read().then(r)}function xh(t){return Oh(t).then(function(t){return function(t){for(var n=0,i=0,r=t;i<r.length;i++)n+=(c=r[i]).byteLength;for(var e=new p(n),u=0,o=0,s=t;o<s.length;o++){var c=s[o];e.set(c,u),u+=c.byteLength}return e}(t).buffer})}function Ph(t){return t.slice?t.slice(0):Lh(new p(t))}function Lh(t){if(t.slice)return t.slice(0).buffer;var n=new p(t.byteLength);return n.set(new p(t.buffer,t.byteOffset,t.byteLength)),n.buffer}function Fh(t){var n=new FormData;return t.trim().split("&").forEach(function(t){if(t){var i=t.split("="),r=i.shift().replace(/\+/g," "),e=i.join("=").replace(/\+/g," ");n.append(decodeURIComponent(r),decodeURIComponent(e))}}),n}function Mh(t){var n=t;if(n.bodyUsed)throw new d("Already used");if(n.od===Rh.sd){if(!n.fd.tee)throw new v("could not clone ReadableStream body");var i=n.fd.tee(),r=i[0],e=i[1];return n.body=r,n.fd=r,n.hd=r,e}return n.od===Rh.Lf?Ph(n.fd):n.od===Rh.Yh?n.fd.then(Mh):n.hd}!function(t){t[t.uu=0]="uu",t[t.vd=1]="vd",t[t.dd=2]="dd",t[t.Lf=3]="Lf",t[t.sd=4]="sd",t[t.Yh=5]="Yh"}(Rh||(Rh={}));var Bh=function(){function t(n,i){this.bodyUsed=!1;var r,e,u,o=this;if(this.hd=n||null,n)if("string"==typeof n)this.od=Rh.uu,this.fd=n;else if((u=n)&&"function"==typeof u.then)this.od=Rh.Yh,this.fd=A.resolve(n).then(function(n){return new t(n,i)}),this.fd.catch(ah);else if(eh.blob&&function(t){return t&&Blob.prototype.isPrototypeOf(t)}(n))this.od=Rh.vd,this.fd=n;else if(eh.formData&&function(t){return t&&FormData.prototype.isPrototypeOf(t)}(n))this.od=Rh.dd,this.fd=n;else if(eh.searchParams&&Th(n))this.od=Rh.uu,this.fd=n.toString();else if(eh.arrayBuffer&&(Eh(n)||Ih(n)))Sh(n)&&(this.hd=new p((e=n).buffer,e.byteOffset,e.byteLength)),this.od=Rh.Lf,this.fd=Eh(r=n)?Ph(r):Lh(r);else{if(!eh.stream||!Qf(n))throw new v("unsupported BodyInit type");n=nh(Jf,n),this.od=Rh.sd,this.fd=n,this.hd=n}else this.od=Rh.uu,this.fd="";this.ld="",i.has("content-type")?this.ld=(i.get("content-type")||"").toLowerCase():("string"==typeof n?this.ld="text/plain;charset=UTF-8":o.od===Rh.vd&&o.fd.type?this.ld=o.fd.type:eh.searchParams&&Th(n)&&(this.ld="application/x-www-form-urlencoded;charset=UTF-8"),this.ld&&i.set("content-type",this.ld)),eh.stream&&(null==n?this.body=null:o.od===Rh.sd?this.body=o.fd:this.body=rh(Jf,function(){return o.arrayBuffer()},function(){o.bodyUsed=!0}))}return t.prototype.text=function(){var t,n,i,r=Ch(this);return r||(this.od===Rh.vd?(t=this.fd,n=new FileReader,i=Ah(n),n.readAsText(t),i):this.od===Rh.Lf?A.resolve(this.fd).then(Dh):this.od===Rh.sd?xh(this.fd).then(Dh):this.od===Rh.Yh?this.fd.then(function(t){return t.text()}):this.od===Rh.dd?A.reject(new v("could not read FormData body as text")):A.resolve(this.fd))},t.prototype.json=function(){return this.text().then(JSON.parse)},t}();eh.blob&&(Bh.prototype.blob=function(){var t,n,i=Ch(this);return i||(this.od===Rh.vd?A.resolve(this.fd):this.od===Rh.Lf?A.resolve(Kf([this.fd],{type:this.ld})):this.od===Rh.sd?(t=this.fd,n=this.ld,Oh(t).then(function(t){return Kf(t,{type:n||""})})):this.od===Rh.Yh?this.fd.then(function(t){return t.blob()}):this.od===Rh.dd?A.reject(new v("could not read FormData body as Blob")):A.resolve(Kf([this.fd],{type:this.ld})))}),eh.arrayBuffer&&(Bh.prototype.arrayBuffer=function(){var t,n,i;return this.od===Rh.Lf?Ch(this)||A.resolve(this.fd):this.od===Rh.vd?Ch(this)||(t=this.fd,n=new FileReader,i=Ah(n),n.readAsArrayBuffer(t),i):this.od===Rh.sd?xh(this.fd):this.od===Rh.Yh?Ch(this)||this.fd.then(function(t){return t.arrayBuffer()}):this.od===Rh.dd?A.reject(new v("could not read FormData body as ArrayBuffer")):A.resolve(this.fd).then(Nh)}),eh.formData&&(Bh.prototype.formData=function(){return this.od===Rh.dd?Ch(this)||A.resolve(this.fd):this.text().then(Fh)});var Uh=[301,302,303,307,308],Vh=function(t){function n(n,i){var r=this,e=new ch((i=i||{}).headers);return(r=t.call(this,n||null,e)||this).type="default",r.status=void 0===i.status?200:i.status,r.ok=r.status>=200&&r.status<300,r.statusText=void 0!==i.statusText?String(i.statusText):"",r.headers=e,r.url=i.url||"",r}return Gf(n,t),n.prototype.clone=function(){return new n(Mh(this),{status:this.status,statusText:this.statusText,headers:new ch(this.headers),url:this.url})},n.error=function(){var t=new n(null,{status:0,statusText:""});return t.type="error",t},n.redirect=function(t,i){if(-1===Uh.indexOf(i))throw new RangeError("Invalid status code");return new n(null,{status:i,headers:{location:t}})},n}(Bh);var qh,Hh=function(t,n){return t(n={exports:{}},n.exports),n.exports}(function(t,n){function i(t,n){if(!(t instanceof n))throw new d("Cannot call a class as a function")}function r(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),l.defineProperty(t,r.key,r)}}function e(t,n,i){return n&&r(t.prototype,n),i&&r(t,i),t}function o(t){return(o=l.setPrototypeOf?l.getPrototypeOf:function(t){return t.__proto__||l.getPrototypeOf(t)})(t)}function s(t,n){return(s=l.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t,n,i){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,i){var r=function(t,n){for(;!l.prototype.hasOwnProperty.call(t,n)&&null!==(t=o(t)););return t}(t,n);if(r){var e=l.getOwnPropertyDescriptor(r,n);return e.get?e.get.call(i):e.value}})(t,n,i||t)}l.defineProperty(n,"__esModule",{value:!0});var h=function(){function t(){i(this,t),l.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return e(t,[{key:"addEventListener",value:function(t,n){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(n)}},{key:"removeEventListener",value:function(t,n){if(t in this.listeners)for(var i=this.listeners[t],r=0,e=i.length;r<e;r++)if(i[r]===n)return void i.splice(r,1)}},{key:"dispatchEvent",value:function(t){var n=this;if(t.type in this.listeners){for(var i=function(i){c(function(){return i.call(n,t)})},r=this.listeners[t.type],e=0,u=r.length;e<u;e++)i(r[e]);return!t.defaultPrevented}}}]),t}(),v=function(t){function n(){var t,r,e;return i(this,n),r=this,(t=!(e=o(n).call(this))||"object"!=typeof e&&"function"!=typeof e?a(r):e).listeners||h.call(a(t)),l.defineProperty(a(t),"aborted",{value:!1,writable:!0,configurable:!0}),l.defineProperty(a(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new d("Super expression must either be null or a function");t.prototype=l.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&s(t,n)}(n,h),e(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),f(o(n.prototype),"dispatchEvent",this).call(this,t)}}]),n}(),w=function(){function t(){i(this,t),l.defineProperty(this,"signal",{value:new v,writable:!0,configurable:!0})}return e(t,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(n){void 0!==u?u.createEvent?(t=u.createEvent("Event")).initEvent("abort",!1,!1):(t=u.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(w.prototype[Symbol.toStringTag]="AbortController",v.prototype[Symbol.toStringTag]="AbortSignal"),n.AbortSignal=v,n.AbortController=w,n.default=w});(qh=Hh)&&qh.__esModule&&l.prototype.hasOwnProperty.call(qh,"default")&&qh.default;Hh.AbortSignal;var jh=Hh.AbortController,Wh=Yf.DOMException;try{new Wh}catch(t){(Wh=function(t,n){v.call(this,t),this.name=n||"Error",v.captureStackTrace&&v.captureStackTrace(this,this.constructor)}).prototype=l.create(v.prototype),Wh.prototype.constructor=Wh}var zh=jh;function $h(t,n){if(!t.signal.aborted)if(n.aborted)t.abort();else{var i=function(){n.removeEventListener("abort",i),t.signal.removeEventListener("abort",i),t.abort()};n.addEventListener("abort",i),t.signal.addEventListener("abort",i)}}function Xh(t,n,i){return new A(function(r,e){if(n.signal.aborted)return t.catch(ah),e(Gh());var u=function(){n.signal.removeEventListener("abort",u),e(Gh())};n.signal.addEventListener("abort",u),t.then(function(t){n.signal.removeEventListener("abort",u),r(t),i&&n.abort()},function(t){n.signal.removeEventListener("abort",u),e(t),i&&n.abort()})})}function Gh(){return new Wh("Aborted","AbortError")}var Yh,Kh="moz-chunked-arraybuffer";function Jh(t){try{var n=new m;return n.open("GET","https://test"),n.responseType=t,n.responseType===t}catch(t){}return!1}!function(t){t[t.UNSENT=0]="UNSENT",t[t.OPENED=1]="OPENED",t[t.HEADERS_RECEIVED=2]="HEADERS_RECEIVED",t[t.LOADING=3]="LOADING",t[t.DONE=4]="DONE"}(Yh||(Yh={}));var Qh=function(){function t(t,n){var i=this;this.wd=!1,this.td=t,this.yd=n,this.gd=new m,this._d=new A(function(t,n){i.pd=t,i.md=n})}return t.prototype.send=function(){var t=this;return this.kd().then(function(n){return t.bd(n,t.yd),t._d})},t.prototype.kd=function(){var t=this.td;return t.od===Rh.sd?t.arrayBuffer():A.resolve(t.hd)},t.prototype.Td=function(t){this.td.onprogress&&this.td.onprogress(t.loaded,t.lengthComputable?t.total:void 0)},t.prototype.Ed=function(t){this.md(t)},t.prototype.Sd=function(){this.Ed(new d("Network request failed"))},t.prototype.Rd=function(){this.Ed(new d("Network request failed"))},t.prototype.Id=function(){this.Ed(Gh())},t.prototype.bd=function(t,n){var i=this,r=this.td,e=this.gd,u=function(){return i.Cd()};if(r.signal.aborted)return this.Id();e.onreadystatechange=function(){if(e.readyState>=Yh.HEADERS_RECEIVED&&!i.wd){var t=function(t){var n=new ch;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var i=t.split(":"),r=i.shift().trim();if(r){var e=i.join(":").trim();n.append(r,e)}}),n}(e.getAllResponseHeaders()||""),n={status:e.status,statusText:e.statusText,headers:t,url:e.responseURL||t.get("X-Request-URL")};i.wd=!0,i.Ad(n)}},e.onprogress=function(t){return i.Td(t)},e.onload=function(){return i.Dd()},e.onerror=function(){return i.Sd()},e.ontimeout=function(){return i.Rd()},e.onabort=function(){return i.Id()},e.open(r.method,r.url,!0),e.withCredentials="include"===r.credentials,"responseType"in e&&n&&(e.responseType=n),r.headers.forEach(function(t,n){e.setRequestHeader(n,t)}),r.signal.addEventListener("abort",u),e.onloadend=function(){r.signal.removeEventListener("abort",u)},t?e.send(t):e.send()},t.prototype.Cd=function(){this.Id(),this.gd.abort()},t}(),Zh=function(t){function n(n,i){var r=t.call(this,n,i)||this;return r.Nd=void 0,r.Od=void 0,r}return Gf(n,t),n.prototype.Ad=function(t){var n=this;this.Nd=new A(function(t,i){n.Od=t,n.xd=i}),this.pd(new Vh(this.Nd,t))},n.prototype.Dd=function(){var t=this.gd.response||this.gd.responseText;this.Od(t)},n.prototype.Ed=function(n){t.prototype.Ed.call(this,n),this.xd&&this.xd(n)},n}(Qh),tv=function(t){function n(n){var i=t.call(this,n,Kh)||this;return i.Pd=void 0,i.Ld=void 0,i.Fd=!1,i}return Gf(n,t),n.prototype.Ad=function(t){var n=this;this.Pd=new Jf({start:function(t){n.Ld=t},cancel:function(){n.Fd=!0,n.Cd()}}),this.pd(new Vh(this.Pd,t))},n.prototype.Td=function(n){this.Fd||this.Ld.enqueue(new p(this.gd.response)),t.prototype.Td.call(this,n)},n.prototype.Dd=function(){this.Ld.close()},n.prototype.Ed=function(n){t.prototype.Ed.call(this,n),this.Ld&&!this.Fd&&(this.Fd=!0,this.Ld.error(n))},n}(Qh),nv=function(){var t=eh.firefox&&Jh(Kh);return nv=function(){return t},t},iv=function(){var t;return t=eh.arrayBuffer&&Jh("arraybuffer")?"arraybuffer":eh.blob&&Jh("blob")?"blob":"",iv=function(){return t},t};function rv(t){return(eh.stream&&nv()?new tv(t):new Zh(t,iv())).send()}var ev=Yf.fetch,uv=Yf.Request,ov=(Yf.Response,Yf.AbortController);var sv=["http:","https:"];var cv=function(){try{if(eh.streamRequest){var t=new uv("about:blank",{body:"",method:"POST"}).body;if(t&&Zf(t.constructor))return t.constructor}}catch(t){}}();function av(t,n,i){var r;if(eh.stream){var e=void 0;if(eh.streamResponse){var u=t.body;e=u&&nh(Jf,u)}else e=rh(Jf,function(){return Xh(t.arrayBuffer(),n,!0)},function(){n.abort()});e&&i&&(e=function(t,n,i){var r=0;return function(t,n,i){return new t(new th(n.getReader(),i),{highWaterMark:0})}(Jf,t,function(t){var e=t.done,u=t.value;e?i=void 0===i?r:i:r+=u.byteLength,n(r,i)})}(e,i,fv(t.headers))),r=e}else{var o=Xh(t.arrayBuffer(),n,!0);i&&(o=function(t,n,i){return A.resolve().then(function(){return n(0,i),t}).then(function(t){var r=t.byteLength;return n(r,i=void 0===i?r:i),t})}(o,i,fv(t.headers))),r=o}return new Vh(r,t)}function fv(t){return t.has("content-length")?Number(t.get("content-length")):void 0}function hv(t){var n=new zh;return t.signal&&$h(n,t.signal),function(t,n){var i,r,e=t;if(i=e.od===Rh.sd?eh.streamRequest&&cv?A.resolve(nh(cv,e.fd)):Xh(t.arrayBuffer(),n,!1):Xh(A.resolve(t.hd),n,!1),eh.abort){var u=new ov;$h(u,n.signal),r=u.signal}return i.then(function(n){return new uv(t.url,{body:n||void 0,credentials:t.credentials,headers:(i=t.headers,(i instanceof ch?i:new ch(i)).asList()),method:t.method,mode:t.mode,referrer:t.referrer,referrerPolicy:t.referrerPolicy,signal:r});var i})}(t,n).then(function(i){return ev(i).then(function(i){return av(i,n,t.onprogress)})})}var vv=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];var dv=function(t){function n(i,r){var e,u,o,s,c,a,f,h,v,l=this,w=(r=r||{}).body||null;if(i instanceof n){if(i.bodyUsed)throw new d("Already used");e=i.url,u=i.credentials,r.headers||(o=new ch(i.headers)),s=i.method,c=i.mode,a=i.referrer,f=i.referrerPolicy,h=i.signal,v=i.onprogress,w||null==i.hd||(w=i.hd,i.bodyUsed=!0)}else e=String(i),u="same-origin",s="GET",c="cors",a="about:client",f="",h=null,v=null;if(!r.headers&&o||(o=new ch(r.headers)),r&&(a="about:client",f=""),(l=t.call(this,w,o)||this).url=e,l.headers=o,l.credentials=r.credentials||u,l.method=function(t){var n=t.toUpperCase();return vv.indexOf(n)>-1?n:t}(r.method||s),l.mode=r.mode||c,l.signal=r.signal||h||(new zh).signal,l.referrer=void 0!==r.referrer?r.referrer:a,l.referrerPolicy=void 0!==r.referrerPolicy?r.referrerPolicy:f,l.onprogress=r.onprogress||v,("GET"===l.method||"HEAD"===l.method)&&w)throw new d("Body not allowed for GET or HEAD requests");return l}return Gf(n,t),n.prototype.clone=function(){return new n(this,{body:Mh(this)})},n}(Bh),lv="function"==typeof ev&&eh.stream&&eh.streamResponse&&eh.url;function wv(t,n){return new A(function(i){var r=new dv(t,n);i((lv&&function(t){try{return sv.indexOf(new Yf.URL(t,Yf.location.href).protocol)>=0}catch(t){return!1}}(r.url)?hv:rv)(r))})}wv.polyfill=!0;var yv=function(){function t(t){this.rd=void 0,this.td=void 0,this.Md=new De,this.nd=void 0,this.Bd=!1,this.td=t,this.Md.Ms(t.Us),this.rd=this.Ud()}var n=t.prototype;return n.Ud=function(){var t=A.coroutine(qr.mark(function t(){var n,i,r,e,u,o,s,a,f=this;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:(n=this.td).Bv&&c(function(){f.Bd=!0,f.Md.Fs()},n.Bv),t.prev=2,i=wv(n.mv,{method:n.Mv,headers:n.lv.Bf(),body:n.iv,credentials:n.qv?"include":"same-origin",signal:pv(this.Md.Us),onprogress:n.Hv}),t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(2),new Wf(n,t.t0);case 9:return t.prev=9,t.next=12,i;case 12:r=t.sent,t.next=20;break;case 15:throw t.prev=15,t.t1=t.catch(9),Oe(e=this.Vd(t.t1))&&this.Md.Fs(),e;case 20:if(u=r.url||n.mv,o=0===r.status&&"file:"===(h=u,N.Vo(h).protocol)?200:r.status,s=new gv(this,r,this.Md),a=new xf({Pu:s,_v:n,wv:n.wv,lv:new ns(r.headers.asList()),dv:o,yv:r.statusText,pv:u}),this.nd=a,!Cf(a)){t.next=29;break}return t.abrupt("return",a);case 29:throw new zf(a);case 30:case"end":return t.stop()}var h},t,this,[[2,6],[9,15]])}));return function(){return t.apply(this,arguments)}}(),n.Vd=function(t){return Oe(t)?this.Bd?new $f(this.td):new Ne(t.message,t):this.nd?new zf(this.nd,t):new Wf(this.td,t)},t}(),gv=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Zt=void 0,e.qd=void 0,e.Md=void 0,e.ov=new ro,e.Zt=n,e.qd=i,e.Md=r,e.ov.Rc.catch(L),e}$(n,t);var i=n.prototype;return i.cv=function(){return this.ov.Rc},i.Jh=function(t){return this.av(this.qd.text(),t)},i.Zh=function(t){return this.av(this.qd.arrayBuffer(),t)},i.tv=function(){var t=this.qd.body;return t?this.fv(t):vf(this.Zh().then(ff),this.Md)},i.hv=function(){var t=this.qd.clone(),i=this.Md.Bs(),r=i[0],e=i[1];return this.Md=r,new n(this.Zt,t,e)},i.av=function(t,n){var i=this;n&&this.Md.Ms(n);var r=A.resolve(t).catch(function(t){throw i.Zt.Vd(t)});return r=Me(r,this.Md),this.ov.Ic(r.then(L)),r},i.fv=function(t){var n=this,i=new Ga,r=A.resolve(t.pipeTo(i.writable,{preventAbort:!0})).catch(function(t){var r=n.Zt.Vd(t);throw i.writable.abort(r).catch(L),r});return r=Me(r,this.Md),this.ov.Ic(r.then(L)),i.readable},W(n,[{key:"vv",get:function(){return this.qd.bodyUsed}}]),n}(gf),_v="abort";function pv(t){var n=new zh;if(t.Ss)n.abort();else if(!t.Rs){var i=function(){r(),n.abort()},r=function r(){n.signal.removeEventListener(_v,i),t.Os(i),t.Ps(r)};n.signal.addEventListener(_v,i),t.Ns(i),t.xs(r)}return n.signal}var mv,kv=function(){function t(){}var n=t.prototype;return n._v=function(t){return new yv(t).rd},n.jv=function(t){if(C&&C.sendBeacon)C.sendBeacon(t.mv,Jo([t.iv],{type:t.nv}));else{var n=t.nv?{"Content-type":t.nv}:void 0;Ve(this._v(new Pf({Mv:Af.POST,mv:t.mv,iv:t.iv,lv:n})))}},n.sr=function(){},t}(),bv=function(n){function i(){for(var i,r=arguments.length,e=new Array(r),u=0;u<r;u++)e[u]=arguments[u];return(i=n.call.apply(n,[this].concat(e))||this).Hd=void 0,i.jd=function(){try{return"body"in t.Response.prototype}catch(t){return!1}}(),i.Wd=it.$e,i.zd=void 0,i}return $(i,n),W(i,[{key:"xo",get:function(){return this.Hd||(this.Hd=new ke(Xo())),this.Hd}},{key:"$d",get:function(){return this.jd}},{key:"Xd",get:function(){return this.Wd}},{key:"Gd",get:function(){return!1}},{key:"Yd",get:function(){return Yo.Ka()}},{key:"Kd",get:function(){return{Jd:Qo}}},{key:"Qd",get:function(){return s.connection&&s.connection.effectiveType||"default"}},{key:"Zd",get:function(){return s.connection&&s.connection.type||"unknown"}},{key:"tl",get:function(){return this.zd||(this.zd=new Ff(new kv)),this.zd}}]),i}(Ur);x(new bv),function(t){t.nl="il",t.ul="ol"}(mv||(mv={}));mv.nl,mv.ul;var Tv=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).sl=void 0,r}return $(n,t),W(n,[{key:"cl",get:function(){return this.sl||(this.sl=this.al()),this.sl}}]),n}(Ge);var Ev,Sv=function(t){function n(n){return t.call(this,n)||this}return $(n,t),n}(Tv),Rv=function(t){function n(n){return t.call(this,n)||this}return $(n,t),n}(Ge),Iv=function(t){function n(n){var i;return(i=t.call(this,mv.nl)||this).fl=n,i}return $(n,t),n.prototype.al=function(){return new Cv(this.fl.cl)},n}(Sv),Cv=function(t){function n(n){var i;return(i=t.call(this,"addtrack")||this).track=n,i}return $(n,t),n}(Rv),Av=function(t){function n(n){var i;return(i=t.call(this,mv.ul)||this).fl=n,i}return $(n,t),n.prototype.al=function(){return new Dv(this.fl.cl)},n}(Sv),Dv=function(t){function n(n){var i;return(i=t.call(this,"removetrack")||this).track=n,i}return $(n,t),n}(Rv);!function(t){t.hl="vl",t.dl="ll",t.wl="yl",t.gl="_l",t.pl="ml",t.kl="bl",t.Tl="El",t.Sl="Rl",t.Il="zc",t.Cl="Al",t.Dl="Nl",t.QUALITY_UNAVAILABLE="qualityunavailable",t.NO_QUALITY="noquality"}(Ev||(Ev={}));var Nv=function(t){function n(){var n;return(n=t.call(this)||this).Ol=[],n.sl=void 0,n}$(n,t);var i=n.prototype;return i.xl=function(t){return this.Ol[t]},i.Pl=function(t){return!(!t||Ie(this.Ol,t))&&(this.Ol.push(t),this.sl&&this.sl.push(t.cl),t.zs(Ev.kl,this.js),this.Ws(new Iv(t)),!0)},i.Ll=function(t){if(!t)return!1;var n=this.Ol.indexOf(t);return!(n<0)&&(Re(this.Ol,n),this.sl&&Re(this.sl,n),t.Ys(Ev.kl,this.js),this.Ws(new Av(t)),!0)},i.Fl=function(t){return Ie(this.Ol,t)},i.Ml=function(){for(var t=this.Ol,n=t.length-1;n>=0;n-=1)this.Ll(t[n])},i.sr=function(){this.Ml(),this.Gs()},W(n,[{key:"Bl",get:function(){return this.Ol}},{key:"cl",get:function(){return this.sl||(this.sl=this.al()),this.sl}},{key:"Ul",get:function(){return this.Ol.length}}]),n}($e),Ov=function(t){function n(n){var i;return(i=t.call(this,Ev.kl)||this).fl=n,i}return $(n,t),n.prototype.al=function(){return new xv(this.fl.cl)},n}(Sv),xv=function(t){function n(n){var i;return(i=t.call(this,"change")||this).track=n,i}return $(n,t),n}(Rv),Pv=function(t){function n(){var n;return(n=t.call(this)||this).Vl=void 0,n.ql=function(t){var i=t.fl;n.Pl(i)},n.Hl=function(t){var i=t.fl;n.Ll(i)},n}$(n,t);var i=n.prototype;return i.jl=function(t){t.zs(mv.nl,this.ql),t.zs(mv.ul,this.Hl)},i.Wl=function(t){t.Ys(mv.nl,this.ql),t.Ys(mv.ul,this.Hl)},i.sr=function(){this.Vl&&this.Vl.sr(),t.prototype.sr.call(this)},W(n,[{key:"zl",get:function(){return this.Vl},set:function(t){var n=this.Vl;if(t!==n){if(n){this.Wl(n);for(var i=0,r=n.Bl;i<r.length;i++){var e=r[i];t&&t.Fl(e)||this.Ll(e)}}if(this.Vl=t,t){for(var u=[],o=0,s=t.Bl;o<s.length;o++){var c=s[o];this.Pl(c),this.$l(c)&&u.push(c)}this.jl(t);for(var a=0;a<u.length;a++){var f=u[a];f.Ws(new Ov(f))}}}}}]),n}(Nv),Lv=l.freeze||F;function Fv(t,n,i){l.defineProperty(t,n,{writable:!1,enumerable:!0,value:i})}function Mv(t,n){for(var i=0,r=l.getOwnPropertyNames(n);i<r.length;i++){var e=r[i];l.defineProperty(t,e,l.getOwnPropertyDescriptor(n,e))}return t}function Bv(t){if(at(t)){var n={};for(var i in t)rt.call(t,i)&&(n[i]=Bv(t[i]));return n}if(ot(t)){for(var r=new Array(t.length),e=0;e<r.length;e++)e in t&&(r[e]=Bv(t[e]));return r}return t}function Uv(t,n){return t===n||!(!t||!n)&&(!(!ct(t)||!ct(n))&&(st(t)?!!st(n)&&function(t,n){var i=t.length,r=n.length;if(i!==r)return!1;for(var e=0;e<i;e+=1)if(!Uv(t[e],n[e]))return!1;return!0}(t,n):!st(n)&&function(t,n){var i=l.keys(t),r=l.keys(n);if(!i||!r||i.length!==r.length)return!1;for(var e=0;e<i.length;e++){var u=i[e];if(!rt.call(n,u)||!Uv(t[u],n[u]))return!1}return!0}(t,n)))}function Vv(t,n){return t.constructor===n.constructor}function qv(t){for(var n={},i=0,r=l.keys(t);i<r.length;i++){var e=r[i],u=t[e];null!=u&&(n[e]=u)}return n}function Hv(t){var n=t;if("string"==typeof n){if("true"===(n=n.toLowerCase()))return!0;if("false"===n)return!1}return Boolean(n)}function jv(t){return"string"==typeof t?""===t?NaN:Number(t):"boolean"==typeof t||null==t||t instanceof Date||"number"!=typeof Number(t)&&!t?NaN:Number(t)}function Wv(t){var n=jv(t);if(_(n))throw new v("Expected a valid number.");return n}function zv(t){return"string"==typeof t?t:""}function $v(t,n){return st(t)?function(t,n){if(!st(t))return[];for(var i=0|t.length,r=new Array(i),e=0;e<i;e++)r[e]=n(t[e]);return r}(t,n):n(t)}var Xv=[mv.nl,mv.ul,Ev.kl];function Gv(t){var n,i=t.Bl.map(function(t){return t.cl});return i.item=function(n){var i=0|n,r=t.xl(i);return r&&r.cl||void 0},i.addEventListener=function(t,i){n.zs(t,i)},i.removeEventListener=function(t,i){n.Ys(t,i)},n=new Xe(i),t.zs(Xv,function(t){return n.Ws(t.cl)}),i}function Yv(){}function Kv(t){var n,i=[Ev.Il,Ev.kl,Ev.Cl,Ev.Dl,Ev.QUALITY_UNAVAILABLE],r={get activeQuality(){return t.Xl&&t.Xl.cl},get enabled(){return t.Gl},set enabled(n){t.Gl=Hv(n)},get id(){return t.Yl},get uid(){return t.Kl},get kind(){return t.Jl},get label(){return t.Ql},set label(n){t.Ql=zv(n)},get language(){return t.Zl},get qualities(){return t.tw.cl},set targetQuality(n){var i;(i=n?function(t,n){for(var i=[],r=0,e=t.tw.Bl;r<e.length;r++)for(var u=e[r],o=0;o<n.length;o++){var s=n[o];u.cl===s&&i.push(u)}return i}(t,ot(n)?n:[n]):[]).length>0?t.nw=i:t.nw=void 0},get targetQuality(){if(t.nw)return 1===t.nw.length?t.nw[0].cl:t.nw.map(function(t){return t.cl})},addEventListener:function(t,i){var r=$v(t,zv);n.zs(r,i)},removeEventListener:function(t,i){var r=$v(t,zv);n.Ys(r,i)}};return n=new Xe(r),t.zs(i,function(t){return n.Ws(t.cl)}),l.defineProperty(r,"constructor",{value:Yv}),r}function Jv(){}function Qv(t){var n=Gv(t);return l.defineProperty(n,"constructor",{value:Jv}),n}var Zv,td,nd=function(t){function n(){return t.apply(this,arguments)||this}$(n,t);var i=n.prototype;return i.al=function(){return Qv(this)},i.$l=function(t){return t.Gl},n}(Pv);function id(){}function rd(t){var n,i=[Ev.kl,Ev.Il,Ev.hl,Ev.dl,Ev.wl,Ev.gl,Ev.pl,Ev.Tl,Ev.Sl],r=[td.iw],e={get kind(){return t.Jl},get label(){return t.Ql},set label(n){t.Ql=zv(n)},get language(){return t.Zl},get id(){return t.Yl},get uid(){return t.Kl},get inBandMetadataTrackDispatchType(){return t.rw},get mode(){return t.ew},set mode(n){n!==Zv.uw&&n!==Zv.ow&&n!==Zv.sw||(t.ew=n)},get type(){return t.vs},get readyState(){return od(t.cw)},get cues(){return t.ew===Zv.sw?null:t.aw.cl},get activeCues(){return t.ew===Zv.sw?null:t.fw.cl},get src(){return t.hw||""},addEventListener:function(t,i){var r=$v(t,zv);n.zs(r,i)},removeEventListener:function(t,i){var r=$v(t,zv);n.Ys(r,i)}};return n=new Xe(t),t.zs(i,function(t){return n.Ws(t.cl)}),t.zs(r,function(t){return n.Ws(t)}),l.defineProperty(e,"constructor",{value:id}),e}function ed(){}function ud(t){var n=Gv(t);return l.defineProperty(n,"constructor",{value:ed}),n}function od(t){return t}!function(t){t.sw="disabled",t.ow="hidden",t.uw="showing"}(Zv||(Zv={})),function(t){t.iw="error"}(td||(td={}));var sd=function(t){function n(){return t.apply(this,arguments)||this}$(n,t);var i=n.prototype;return i.al=function(){return ud(this)},i.$l=function(t){return t.ew===Zv.uw},n}(Pv),cd=function(t){function n(){return t.apply(this,arguments)||this}$(n,t);var i=n.prototype;return i.Xs=function(n){t.prototype.Xs.call(this,n)},i.Qs=function(n){t.prototype.Qs.call(this,n)},n}($e),ad=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n}(cd),fd=function(t){function n(){return t.call(this,Zo.af)||this}return $(n,t),n}(Ge),hd=function(t){function n(n){var i;return(i=t.call(this,Zo.rf)||this).currentSource=n,i}return $(n,t),n}(Ge),vd=function(){function t(){}return t.vw=function(n,i){var r=t.dw(n,i);return r?t.lw(r):0},t.ww=function(){return N.Qd||"default"},t.yw=function(){return N.Zd||"unknown"},t.dw=function(n,i){var r,e=null==(r=N.Yd)?void 0:r.dc(i),u=e&&JSON.parse(e);if(u&&u[n])return t.gw(u,n,i)},t.lw=function(t){var n=t.availableBandwidth;return n||0},t.gw=function(n,i,r){if(!t._w(n,i))return n[i];t.pw(n,i,r)},t.pw=function(t,n,i){var r;delete t[n],null==(r=N.Yd)||r.Ya(i,JSON.stringify(t))},t._w=function(t,n){var i=t[n].storedTimestamp;if(!i)return!1;var r=new Date(i),e=(new Date).getTime();return r.setMonth(r.getMonth()+1)<=e},t.mw=function(t,n,i,r){var e;return Hr({},t,((e={})[n]={availableBandwidth:i,storedTimestamp:r},e))},t.kw=function(n){var i=t.ww();t.bw(i,"theoplayer-stored-network-info",n,tn())},t.bw=function(n,i,r,e){var u,o,s=null==(u=N.Yd)?void 0:u.dc(i),c=s?JSON.parse(s):void 0,a=t.mw(c,n,r,e);null==(o=N.Yd)||o.Ya(i,JSON.stringify(a))},t.Tw=function(){var n=t.ww();return t.vw(n,"theoplayer-stored-network-info")},t}();var dd,ld,wd,yd,gd,_d,pd="1ADD53F3";function md(t){return{chromecast:function(t){return{appID:t&&t.appID?zv(t.appID):pd}}(t?t.chromecast:void 0),strategy:function(t){switch(t){case"auto":return dd.AUTO;case"manual":return dd.MANUAL;case"disabled":return dd.DISABLED;default:return dd.MANUAL}}(t?t.strategy:void 0)}}function kd(t){var n,i=wd.Ew;return(n=t)&&ve(n,"mpd")&&(i=wd.Sw),function(t){return!!t&&ve(t,"m3u8")}(t)&&(i=wd.Rw),i}function bd(t){return ct(t)&&ct(t.ssai)&&"google-dai"===t.ssai.integration}function Td(t){return ct(t)&&ft(t.integration)&&"verizon-media"===t.integration}function Ed(t){if(ft(t))return!t;if(Td(t))return!t.id;if(bd(t)){var n=t.ssai,i="live"===n.availabilityType&&n.assetKey,r="vod"===n.availabilityType&&n.contentSourceID&&n.videoID;return Boolean(i&&r)}return!t.src}function Sd(t){return Boolean(ct(t)&&ft(t.src))}function Rd(t){return ft(t)||Sd(t)||bd(t)||Td(t)}function Id(t){if(t){if(Rd(t))return Ed(t);for(var n=0;n<t.length;n++){if(!Ed(t[n]))return!1}return!0}return!0}function Cd(){return{crossOrigin:ld.Iw,useCredentials:!1,liveOffset:void 0,timeServer:void 0,hlsDateRange:void 0,experimentalRendering:!1,nativeUiRendering:!1,lowLatency:!1,useNativePlayback:!1,dash:void 0,hls:void 0}}function Ad(){return Hr({},Cd(),{src:void 0,type:wd.Ew,contentProtection:void 0,ssai:void 0,integrationData:void 0,isAdvertisement:void 0})}function Dd(t){var n={allowedMimeTypes:void 0,preload:"midroll-and-postroll",showCountdown:!0,vpaidMode:yd.ENABLED,googleImaConfiguration:{useNativeIma:!1}};return void 0===t?n:(void 0!==t.preload&&(n.preload=function(t){switch(t){case"none":return gd.NONE;case"midroll-and-postroll":default:return gd.MIDROLL_AND_POSTROLL}}(t.preload)),void 0!==t.showCountdown&&(n.showCountdown=Hv(t.showCountdown)),void 0!==t.vpaidMode&&(n.vpaidMode=function(t){switch(t){case"insecure":return yd.INSECURE;case"disabled":return yd.DISABLED;case"enabled":default:return yd.ENABLED}}(t.vpaidMode)),ot(t.allowedMimeTypes)&&(n.allowedMimeTypes=t.allowedMimeTypes.filter(ft)),void 0!==t.googleImaConfiguration&&(n.googleImaConfiguration=function(t){return void 0===t?{useNativeIma:!1}:{useNativeIma:Hv(t.useNativeIma)}}(t.googleImaConfiguration)),n)}function Nd(t){if(!st(t))return[];for(var n=[],i=0,r=t;i<r.length;i++){var e=r[i];at(e)&&n.push(e)}return n}function Od(t){return ft(t.src)}!function(t){t.AUTO="auto",t.MANUAL="manual",t.DISABLED="disabled"}(dd||(dd={})),function(t){t.Iw="",t.Cw="anonymous",t.Aw="use-credentials"}(ld||(ld={})),function(t){t.Sw="application/dash+xml",t.Rw="application/vnd.apple.mpegurl",t.Dw="application/x-mpegurl",t.Ew="video/mp4",t.Nw="application/vnd.theoplayer.hesp+json",t.Ow="application/vnd.theo.hesp+json"}(wd||(wd={})),function(t){t.ENABLED="enabled",t.INSECURE="insecure",t.DISABLED="disabled"}(yd||(yd={})),function(t){t.NONE="none",t.MIDROLL_AND_POSTROLL="midroll-and-postroll"}(gd||(gd={})),function(t){t[t.xw=0]="xw",t[t.Pw=1]="Pw",t[t.Lw=2]="Lw",t[t.Fw=3]="Fw",t[t.Mw=4]="Mw"}(_d||(_d={}));var xd,Pd=function(t){function n(n,i){var r;return void 0===i&&(i=_d.xw),(r=t.call(this,Zo.sf)||this).currentTime=n,r.readyState=i,r}return $(n,t),n}(Ge),Ld=function(t){function n(n){var i;return(i=t.call(this,Zo.yf)||this).currentTime=n,i}return $(n,t),n}(Ge),Fd=function(t){function n(n){var i;return(i=t.call(this,Zo.gf)||this).currentTime=n,i}return $(n,t),n}(Ge);!function(t){t.Bw="canplay",t.Uw="canplaythrough",t.Vw="loadeddata",t.qw="loadedmetadata",t.Tl="readystatechange",t.Hw="waiting",t.jw="playing"}(xd||(xd={}));var Md,Bd,Ud=[xd.Bw,xd.Uw,xd.Vw,xd.qw,xd.Tl,xd.Hw,xd.jw],Vd=function(t){function n(n,i){var r;return void 0===i&&(i=_d.Pw),(r=t.call(this,xd.qw)||this).currentTime=n,r.readyState=i,r}return $(n,t),n}(Ge),qd=function(t){function n(n){var i;return(i=t.call(this,Zo.uf)||this).duration=n,i}return $(n,t),n}(Ge),Hd=function(t){function n(n,i){var r;return(r=t.call(this,Zo.pf)||this).currentTime=n,r.playbackRate=i,r}return $(n,t),n}(Ge),jd=function(t){function n(n,i){var r;return(r=t.call(this,Zo.Df)||this).currentTime=n,r.currentProgramDateTime=i,r}return $(n,t),n}(Ge),Wd=function(t){function n(n){var i;return(i=t.call(this,Zo.cf)||this).currentTime=n,i}return $(n,t),n}(Ge),zd=function(t){function n(n,i){var r;return void 0===i&&(i=_d.Lw),(r=t.call(this,xd.Vw)||this).currentTime=n,r.readyState=i,r}return $(n,t),n}(Ge),$d=function(t){function n(n){var i;return(i=t.call(this,Zo.Tf)||this).currentTime=n,i}return $(n,t),n}(Ge),Xd=function(t){function n(n){var i;return(i=t.call(this,Zo.bf)||this).currentTime=n,i}return $(n,t),n}(Ge),Gd=function(t){function n(n,i){var r;return(r=t.call(this,Zo.Nf)||this).currentTime=n,r.volume=i,r}return $(n,t),n}(Ge),Yd=function(t){function n(n,i){var r;return void 0===i&&(i=_d.Fw),(r=t.call(this,xd.Bw)||this).currentTime=n,r.readyState=i,r}return $(n,t),n}(Ge),Kd=function(t){function n(n,i){var r;return void 0===i&&(i=_d.Mw),(r=t.call(this,xd.Uw)||this).currentTime=n,r.readyState=i,r}return $(n,t),n}(Ge),Jd=function(t){function n(n,i){var r;return(r=t.call(this,xd.Tl)||this).currentTime=n,r.readyState=i,r}return $(n,t),n}(Ge),Qd=function(t){function n(n){var i;return(i=t.call(this,td.iw)||this).errorObject=n,i}return $(n,t),n.prototype.al=function(){return this},W(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(Tv);function Zd(t){switch(t){case Md.ALL:case Md.CONTENT:return t;default:return Md.NONE}}function tl(t){var n,i,r,e=Bv(t||{});return e.libraryLocation&&(e.libraryLocation=Bf(e.libraryLocation)),e.isEmbeddable=Boolean(e.isEmbeddable),e.cast=md(e.cast),e.ads=Dd(e.ads),e.analytics=Nd(e.analytics),e.mutedAutoplay=Zd(e.mutedAutoplay),e.allowNativeFullscreen=Boolean(e.allowNativeFullscreen),e.allowMixedContent=Boolean(e.allowMixedContent),e.persistVolume=Boolean(e.persistVolume),e.liveOffset=(n=e.liveOffset,Number(n)||void 0),e.hlsDateRange=(i=e.hlsDateRange,Boolean(i)),e.retainPlaybackRateOnSourceChange=Boolean(e.retainPlaybackRateOnSourceChange),e.license=ft(r=e.license)?r:void 0,e.licenseUrl=function(t){if(!t)return;try{return Bf(t)}catch(t){return void N.So("Invalid 'licenseUrl', falling back to default URL")}}(e.licenseUrl),e}function nl(t){return{Ww:t.Ww,zw:t.zw,$w:t.$w,uc:t.uc,Xw:t.Xw,Gw:t.Gw,Yw:t.Yw,Kw:t.Kw,cw:t.cw,Jw:t.Jw,Qw:t.Qw,Zw:t.Zw,ty:t.ty}}function il(t,n,i){if(n!==i){var r=n.Ww,e=n.zw,u=n.Gw,o=n.Yw,s=n.Kw,c=n.cw,a=n.Jw,f=(n.Zw,n.Qw,n.ty),h=i.Ww,v=i.zw,d=i.$w,l=i.Xw,w=i.Gw,y=i.Yw,g=i.Kw,p=i.cw,m=i.Jw,k=(i.Zw,i.Qw,i.ty);c!==_d.xw&&t.Ws(new Pd(h,p)),y&&!o?t.Ws(new Ld(h)):!y&&o&&t.Ws(new Fd(h)),p>=_d.Pw&&t.Ws(new Vd(h,p)),v===e||_(v)&&_(e)||t.Ws(new qd(v)),g!==s&&t.Ws(new Hd(h,g)),h!==r&&t.Ws(new jd(h,void 0)),d&&t.Ws(new Wd(h)),p>=_d.Lw&&t.Ws(new zd(h,p)),m&&!a?t.Ws(new $d(h)):!m&&a&&t.Ws(new Xd(h)),k===f&&w===u||t.Ws(new Gd(h,k)),p>=_d.Fw&&t.Ws(new Yd(h,p)),p>=_d.Mw&&t.Ws(new Kd(h,p)),p!==c&&t.Ws(new Jd(h,p)),l&&t.Ws(new Qd(l))}}!function(t){t.NONE="none",t.ALL="all",t.CONTENT="content"}(Md||(Md={})),function(t){t.LIVE_OFFSET="liveoffset",t.TRACK_BYTES_DOWNLOADED="trackbytesdownloaded",t.ESTIMATED_TRACK_NETWORK_BANDWIDTH="estimatedtracknetworkbandwidth",t.ESTIMATED_TRACK_MEDIA_DATA_BANDWIDTH="estimatedtrackmediadatabandwidth",t.SEGMENT_RECEIVE_INTERVAL="segmentreceiveinterval"}(Bd||(Bd={}));var rl,el=400,ul=.25,ol={windowStart:.2,target:.45,windowEnd:.7,maxOffset:3},sl={windowStart:.4,target:.65,windowEnd:1,maxOffset:3},cl={windowStart:.5,target:1.125,windowEnd:1.75,maxOffset:2.55};function al(){var t;return t=N.jo.ho?sl:N.jo.do?ol:cl,N.Wo.$o?function(t){if(N.Wo.$o){var n=(el+250)/1e3,i=w.max(n,t.windowStart),r=w.max(i+ul,t.target),e=w.max(r+ul,t.windowEnd);return{windowStart:i,target:r,windowEnd:e,maxOffset:w.max(e+ul,t.maxOffset)}}return t}(t):t}function fl(t){return{goLive:function(){return t.ny()},get isLive(){return t.iy},get currentServerLiveTime(){return t.ey},get currentLatency(){return t.uy},get latency(){return t.oy},set latency(n){if(!function(t){if(!ct(t))return!1;var n=t,i=ut(n.target)&&"number"==typeof n.target&&ut(n.windowEnd)&&"number"==typeof n.windowEnd&&ut(n.windowStart)&&"number"==typeof n.windowStart&&ut(n.maxOffset)&&"number"==typeof n.maxOffset,r=n.windowStart>=0&&n.windowStart<=n.target&&n.target<=n.windowEnd&&n.maxOffset>=n.windowEnd;return i&&r}(n))throw new v("Invalid latency configuration");t.oy=n},get manifest(){return t.sy},get metrics(){return t.ay},addEventListener:function(n,i){t.zs(vl(n),i)},removeEventListener:function(n,i){t.Ys(vl(n),i)}}}!function(t){t[t.sw=0]="sw",t[t.hy=1]="hy",t[t.vy=2]="vy"}(rl||(rl={}));var hl=["analytic","golive","nogolive","bufferedchange"];function vl(t){var n=$v(t,zv);return(ft(n)?[n]:n).filter(function(t){return Ie(hl,t)})}var dl,ll=function(t){function n(){var n;return(n=t.call(this)||this).Vl=void 0,n.sl=void 0,n.ly=al(),n.Vl=void 0,n}$(n,t);var i=n.prototype;return i.jl=function(t){t.zs(hl,this.js)},i.Wl=function(t){t.Ys(hl,this.js)},i.ny=function(){var t;null==(t=this.Vl)||t.ny()},i.sr=function(){this.Gs(),this.Vl&&this.Wl(this.Vl),this.Vl=void 0},W(n,[{key:"zl",get:function(){return this.Vl},set:function(t){var n=this.Vl;t!==n&&(n&&this.Wl(n),t&&this.jl(t),this.Vl=t,this.Vl&&(this.Vl.oy=this.ly))}},{key:"cl",get:function(){return this.sl||(this.sl=fl(this)),this.sl}},{key:"ey",get:function(){var t;return null==(t=this.Vl)?void 0:t.ey}},{key:"uy",get:function(){var t;return null==(t=this.Vl)?void 0:t.uy}},{key:"iy",get:function(){return!!this.Vl&&this.Vl.iy}},{key:"oy",get:function(){return this.ly},set:function(t){this.Vl&&(this.Vl.oy=t),this.ly=t}},{key:"sy",get:function(){var t;return null==(t=this.Vl)?void 0:t.sy}},{key:"ay",get:function(){var t;return null==(t=this.Vl)?void 0:t.ay}}]),n}($e),wl=function(t){function n(n){var i;return(i=t.call(this)||this).Vl=void 0,i.wy=[],i.yy=!1,i.gy=new nd,i._y=new nd,i.py=new sd,i.my=new ll,i.ky=!1,i.by(n),n.Xs(i.js),i.Vl=n,i.gy.zl=n.Ty,i._y.zl=n.Ey,i.py.zl=n.Sy,i.my.zl=n.Ry,i}$(n,t);var i=n.prototype;return i.tr=function(){this.Vl.tr()},i.nr=function(){this.Vl.nr()},i.Iy=function(){var t=A.coroutine(qr.mark(function t(){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",qe(this.wy.map(function(t){return t.Iy()})).then(L));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Cy=function(){return this.Vl.Cy()},i.Ay=function(){var t=A.coroutine(qr.mark(function t(n,i){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return xe(i),t.next=3,this.Vl.Ay(n,i);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Dy=function(){return this.zl.Dy()},i.Ny=function(){this.zl.Ny()},i.Oy=function(){this.zl.Oy()},i.hr=function(){if(!this.yy){for(var t=0,n=this.wy;t<n.length;t++){n[t].hr()}this.yy=!0}},i.xy=function(t){this.Vl.xy(t)},i.Py=function(){this.Vl.Py()},i.Ly=function(){this.Vl.Ly()},i.Fy=function(){this.Vl.Fy()},i.My=function(){return this.Vl.My()},i.By=function(){return this.Vl.By()},i.Uy=function(){for(var t=[],n=0,i=this.wy;n<i.length;n++){var r=i[n];t.push.apply(t,r.Uy())}return t},i.Vy=function(t){for(var n=!1,i=0,r=this.wy;i<r.length;i++){n=r[i].Vy(t)||n}return n},i.Ws=function(n){this.Vy(n)||t.prototype.Ws.call(this,n)},i.by=function(t){this.wy.push(t)},i.qy=function(t){Se(this.wy,t)},i.Hy=function(t){if(t!==this.Vl){var n=this.Vl;n.Py(),n.Qs(this.js);var i=nl(this),r=this.jy,e=this.By();this.Vl=t,this.gy.zl=t.Ty,this._y.zl=t.Ey,this.py.zl=t.Sy,this.my.zl=t.Ry,il(this,i,this);var u=this.jy;u!==r&&this.Ws(new hd(u)),this.By()!==e&&this.Ws(new fd),t.Xs(this.js),t.xy(n)}},i.Wy=function(){},i.sr=function(){var t=A.coroutine(qr.mark(function t(){var n,i,r;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.Gs(),this.Vl.Py(),n=0,i=this.wy;case 3:if(!(n<i.length)){t.next=10;break}return r=i[n],t.next=7,r.sr();case 7:n++,t.next=3;break;case 10:this.gy.sr(),this._y.sr(),this.py.sr(),this.my.sr();case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Ml=function(){var t=A.coroutine(qr.mark(function t(){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",qe(this.wy.map(function(t){return t.Ml()})).then(L));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),W(n,[{key:"Ty",get:function(){return this.gy}},{key:"Sy",get:function(){return this.py}},{key:"Ey",get:function(){return this._y}},{key:"zy",get:function(){return this.Vl.zy}},{key:"$y",get:function(){return this.Vl.$y},set:function(t){this.Vl.$y=t}},{key:"jy",get:function(){return this.Vl.jy}},{key:"Ww",get:function(){return this.Vl.Ww},set:function(t){this.Vl.Ww=t}},{key:"zw",get:function(){return this.Vl.zw}},{key:"Xy",get:function(){return this.Vl.Xy}},{key:"$w",get:function(){return this.Vl.$w}},{key:"uc",get:function(){return this.Vl.uc}},{key:"Xw",get:function(){return this.Vl.Xw}},{key:"Ry",get:function(){return this.my}},{key:"Gy",get:function(){return this.Vl.Gy}},{key:"ay",get:function(){return function(t){for(var n=0,i=0,r=0,e=0,u=0,o={amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0},s=0;s<t.length;s++){var c=t[s];n+=c.Yy,i+=c.Ky,r+=c.Jy,e+=c.Qy,u+=c.Zy,o.amountOfBufferedAudioSegments+=c.tg.amountOfBufferedAudioSegments,o.amountOfBufferedVideoSegments+=c.tg.amountOfBufferedVideoSegments}return{Yy:n,Ky:i,Jy:r,Qy:e,Zy:u,tg:o}}(this.wy.map(function(t){return t.ay}))}},{key:"Gw",get:function(){return this.Vl.Gw},set:function(t){this.Vl.Gw=t}},{key:"ng",get:function(){return this.Vl.ng}},{key:"Yw",get:function(){return this.Vl.Yw}},{key:"Kw",get:function(){return this.Vl.Kw},set:function(t){this.Vl.Kw=t}},{key:"ig",get:function(){return this.Vl.ig}},{key:"rg",get:function(){return this.Vl.rg},set:function(t){this.Vl.rg=t}},{key:"cw",get:function(){return this.Vl.cw}},{key:"eg",get:function(){return this.Vl.eg}},{key:"Jw",get:function(){return this.Vl.Jw}},{key:"Qw",get:function(){return this.Vl.Qw}},{key:"Zw",get:function(){return this.Vl.Zw}},{key:"ty",get:function(){return this.Vl.ty},set:function(t){this.Vl.ty=t}},{key:"zl",get:function(){return this.Vl},set:function(t){this.Hy(t)}}]),n}(ad),yl=function(t){function n(n,i,r,e,u,o,s,c){var a;return(a=t.call(this,n,i,r)||this).url=void 0,a.status=void 0,a.statusText=void 0,a.response=void 0,a.systemCode=void 0,a.url=e,a.status=u,a.statusText=o,a.response=s,a.systemCode=c,a}return $(n,t),W(n,[{key:"name",get:function(){return"ContentProtectionError"}}]),n}(xo);!function(t){t[t.ABORTED=1]="ABORTED",t[t.NETWORK=2]="NETWORK",t[t.DECODE=3]="DECODE",t[t.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",t[t.ENCRYPTED=5]="ENCRYPTED",t[t.LICENSE_INVALID=6]="LICENSE_INVALID",t[t.ADVERTISEMENT_ERROR=7]="ADVERTISEMENT_ERROR"}(dl||(dl={}));var gl=function(t){function n(n,i,r,e){var u;return(u=t.call(this,i)||this).code=void 0,u.message=void 0,u.cause=void 0,u.systemCode=void 0,u.code=n,u.message=null!=i?i:"Unknown error",u.cause=r,u.systemCode=e,v.captureStackTrace&&v.captureStackTrace(un(u),u.constructor),u}return $(n,t),W(n,[{key:"name",get:function(){return"MediaError"}}]),n}(on);function _l(t){Fv(t,"MEDIA_ERR_ABORTED",dl.ABORTED),Fv(t,"MEDIA_ERR_NETWORK",dl.NETWORK),Fv(t,"MEDIA_ERR_DECODE",dl.DECODE),Fv(t,"MEDIA_ERR_SRC_NOT_SUPPORTED",dl.SRC_NOT_SUPPORTED),Fv(t,"MEDIA_ERR_ENCRYPTED",dl.ENCRYPTED)}function pl(t){var i,r;return function(t){return t.category===n.ErrorCategory.CONTENT_PROTECTION}(t)?new gl(dl.ENCRYPTED,t.message,null==(i=t.cause)?void 0:i.message,t.systemCode):new gl(function(t){if(t===n.ErrorCode.MEDIA_ABORTED)return dl.ABORTED;if(t===n.ErrorCode.MANIFEST_LOAD_ERROR||t===n.ErrorCode.MEDIA_LOAD_ERROR||t===n.ErrorCode.SUBTITLE_LOAD_ERROR)return dl.NETWORK;if(t===n.ErrorCode.MEDIA_DECODE_ERROR)return dl.DECODE;if(t===n.ErrorCode.MEDIA_NOT_SUPPORTED)return dl.SRC_NOT_SUPPORTED;var i=n.ErrorCategory.fromCode(t);if(i===n.ErrorCategory.NETWORK)return dl.NETWORK;if(i===n.ErrorCategory.SOURCE)return dl.SRC_NOT_SUPPORTED;if(i===n.ErrorCategory.LICENSE)return dl.LICENSE_INVALID;if(i===n.ErrorCategory.CONTENT_PROTECTION)return dl.ENCRYPTED;if(i===n.ErrorCategory.AD)return dl.ADVERTISEMENT_ERROR;return dl.DECODE}(t.code),t.message,null==(r=t.cause)?void 0:r.message)}_l(gl),_l(gl.prototype);var ml,kl=function(t){function n(){return t.apply(this,arguments)||this}$(n,t);var i=n.prototype;return i.Pl=function(n){return t.prototype.Pl.call(this,n)},i.al=function(){return Qv(this)},n}(Nv);!function(t){t.Pv="audio",t.Lv="video",t.uu="text",t.Fv="image",t.bv="unknown"}(ml||(ml={}));var bl=function(){function t(){this.ug=[],this.sl=void 0}var n=t.prototype;return n.og=function(t){this.ug.push(t),this.sl&&this.sl.push(t.cl)},n.xl=function(t){return this.ug[t]},n.sg=function(t){return ot(t)?function(t,n){for(var i=0;i<n.length;i++)if(!Ie(t,n[i]))return!1;return!0}(this.ug,t):Ie(this.ug,t)},W(t,[{key:"Bl",get:function(){return this.ug}},{key:"Ul",get:function(){return this.ug.length}},{key:"cl",get:function(){var t,n;return this.sl||(this.sl=((n=(t=this).Bl.map(function(t){return t.cl})).item=function(n){var i=0|n,r=t.xl(i);return r&&r.cl||void 0},n)),this.sl}}]),t}(),Tl=function(t){function n(n){var i;return(i=t.call(this,Ev.Il)||this).fl=n,i}return $(n,t),n.prototype.al=function(){return new El(this.fl.cl)},n}(Sv),El=function(t){function n(n){var i;return(i=t.call(this,"update")||this).track=n,i}return $(n,t),n}(Rv),Sl=0;function Rl(){return Sl++}var Il=0;var Cl=0;var Al=0;var Dl=function(t){function n(n){var i;return(i=t.call(this)||this).vs=ml.Pv,i.cg=void 0,i.ag=void 0,i.fg=void 0,i.hg=void 0,i.vg=!1,i.ug=void 0,i.sl=void 0,i.cg=n,i.hg=Rl(),i.ag=Al+++"",i.fg=n.label,i.ug=new bl,i.dg(),i}$(n,t);var i=n.prototype;return i.lg=function(t){this.Gl=t},i.dg=function(){this.Gl=this.wg},W(n,[{key:"Xl",get:function(){}},{key:"Gl",get:function(){return this.vg},set:function(t){this.vg!==t&&(this.vg=t,this.wg=t,this.Ws(new Ov(this)))}},{key:"wg",get:function(){return!!this.cg.enabled},set:function(t){this.cg.enabled=t}},{key:"cl",get:function(){return this.sl||(this.sl=Kv(this)),this.sl}},{key:"Yl",get:function(){return this.ag}},{key:"Kl",get:function(){return this.hg}},{key:"Jl",get:function(){return this.cg.kind}},{key:"Ql",get:function(){return this.fg},set:function(t){t!==this.fg&&(this.fg=t,this.Ws(new Tl(this)))}},{key:"Zl",get:function(){return this.cg.language}},{key:"ew",get:function(){return this.Gl?"enabled":"disabled"}},{key:"yg",get:function(){return this.cg}},{key:"tw",get:function(){return this.ug}},{key:"nw",get:function(){},set:function(t){}}]),n}($e),Nl=0;var Ol,xl,Pl,Ll,Fl,Ml=function(t){function n(n){var i;return(i=t.call(this)||this).vs=ml.Lv,i.cg=void 0,i.ag=void 0,i.hg=void 0,i.vg=!1,i.ug=void 0,i.fg=void 0,i.sl=void 0,i.cg=n,i.hg=Rl(),i.ag=Nl+++"",i.ug=new bl,i.fg=n.label,i.dg(),i}$(n,t);var i=n.prototype;return i.dg=function(){this.Gl=this.wg},i.lg=function(t){this.Gl=t},W(n,[{key:"Xl",get:function(){}},{key:"Gl",get:function(){return this.vg},set:function(t){this.vg!==t&&(this.vg=t,this.wg=t,this.Ws(new Ov(this)))}},{key:"wg",get:function(){return!!this.cg.selected},set:function(t){this.cg.selected=t}},{key:"cl",get:function(){return this.sl||(this.sl=Kv(this)),this.sl}},{key:"Yl",get:function(){return this.ag}},{key:"Kl",get:function(){return this.hg}},{key:"Jl",get:function(){return"main"}},{key:"Ql",get:function(){return this.fg},set:function(t){t!==this.fg&&(this.fg=t,this.Ws(new Tl(this)))}},{key:"Zl",get:function(){return this.cg.language}},{key:"ew",get:function(){return this.Gl?"enabled":"disabled"}},{key:"yg",get:function(){return this.cg}},{key:"tw",get:function(){return this.ug}},{key:"nw",get:function(){},set:function(t){}}]),n}($e),Bl=function(t){function n(n){var i;return(i=t.call(this,Zo.Ja)||this).Gy=n,i}return $(n,t),n}(Ge);!function(t){t[t.NONE=0]="NONE",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t[t.ERROR=3]="ERROR"}(Ol||(Ol={})),function(t){t.DEFAULT="",t.SRT="srt",t.TTML="ttml",t.WEBVTT="webvtt",t.EMSG="emsg",t.EVENT_STREAM="eventstream",t.ID3="id3",t.CEA608="cea608",t.DATE_RANGE="daterange"}(xl||(xl={})),function(t){t.gg="cue",t._g="region",t.pg="stylesheet"}(Pl||(Pl={})),function(t){t.mg="kg",t.bg="Tg",t.Il="zc"}(Ll||(Ll={})),function(t){t.mg="enter",t.bg="exit",t.Il="update"}(Fl||(Fl={}));var Ul=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).Eg=i,r}return $(n,t),n}(Sv),Vl=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).cue=i,r}return $(n,t),n}(Rv);function ql(t){var n,i=[Ll.mg,Ll.bg,Ll.Il],r={get track(){return t.fl.cl},get id(){return t.Yl},get uid(){return t.Kl},get startTime(){return t.Sg},get endTime(){return t.Rg},get content(){return t.Ig},addEventListener:function(t,i){var r=$v(t,zv);n.zs(r,i)},removeEventListener:function(t,i){var r=$v(t,zv);n.Ys(r,i)}};return n=new Xe(r),t.zs(i,function(t){return n.Ws(t.cl)}),r}function Hl(){}var jl=.02;var Wl=function(t){function n(n,i,r,e,u){var o;return(o=t.call(this)||this).hg=void 0,o.ag=void 0,o.Cg=void 0,o.Ag=void 0,o.sl=void 0,o.Dg=void 0,o.Ng=!1,o.Og=void 0,o.xg=void 0,o.Pg="",o.Lg=-1,o.hg=Cl++,o.Cg=n,o.Ag=i,o.Og=r,o.xg=Boolean(e),o.ag=null!=u?u:"",o}$(n,t);var i=n.prototype;return i.al=function(){return ql(this)},i.Fg=function(t){return this===t||Vv(this,t)&&(i=t,Qt((n=this).Sg,i.Sg,jl)&&Qt(n.Rg,i.Rg,jl)&&n.Yl===i.Yl);var n,i},i.sr=function(){this.Gs()},W(n,[{key:"Sg",get:function(){return this.Cg},set:function(t){this.Cg=t}},{key:"Rg",get:function(){return this.Ag},set:function(t){this.Ag=t}},{key:"Yl",get:function(){return this.ag}},{key:"Kl",get:function(){return this.hg}},{key:"cl",get:function(){return this.sl||(this.sl=this.al()),this.sl}},{key:"Mg",get:function(){return this.Ng},set:function(t){this.Ng=t}},{key:"fl",get:function(){return this.Dg},set:function(t){this.Dg=t}},{key:"Ig",get:function(){return this.Og},set:function(t){this.Og=t}},{key:"Bg",get:function(){return this.Pg},set:function(t){this.Pg=t}},{key:"Ug",get:function(){return this.xg},set:function(t){this.xg=t}}]),n}($e);var zl=function(t){function n(n,i,r,e,u){var o;return(o=t.call(this,n,i,r,e,u)||this).Vg="auto",o.qg="start",o.Hg="auto",o.jg="auto",o.Wg=void 0,o.zg=!0,o.gc=100,o.$g="center",o.Xg="",o}return $(n,t),n.prototype.Fg=function(n){return this===n||Vv(this,n)&&t.prototype.Fg.call(this,n)&&(r=n,(i=this).Ig===r.Ig&&i.Vg===r.Vg&&i.qg===r.qg&&i.Hg===r.Hg&&i.jg===r.jg&&i.Wg===r.Wg&&i.zg===r.zg&&i.gc===r.gc&&i.$g===r.$g&&i.Xg===r.Xg);var i,r},W(n,[{key:"cl",get:function(){var t;return this.sl||(this.sl=Mv(ql(t=this),{get align(){return t.$g},get line(){return t.Vg},get lineAlign(){return t.qg},get position(){return t.Hg},get positionAlign(){return t.jg},get region(){return t.Wg?t.Wg.cl:null},get size(){return t.gc},get snapToLines(){return t.zg},get text(){return t.Ig},get vertical(){return t.Xg}})),this.sl}},{key:"vs",get:function(){return Pl.gg}}]),n}(Wl);var $l,Xl=function(){function t(t,n,i,r,e,u,o,s){this.sl=void 0,this.Yl=t,this.yo=n,this.Gg=i,this.Yg=r,this.Kg=e,this.Jg=u,this.Qg=o,this.Zg=s}return W(t,[{key:"cl",get:function(){var t;return this.sl||(this.sl=(t=this,{get id(){return t.Yl},get identifier(){return t.Yl},get lines(){return t.Gg},get regionAnchorX(){return t.Yg},get regionAnchorY(){return t.Kg},get scrollValue(){return t.Zg},get viewportAnchorX(){return t.Jg},get viewportAnchorY(){return t.Qg},get width(){return t.yo}})),this.sl}},{key:"vs",get:function(){return Pl._g}}]),t}();!function(t){t[t.t_=0]="t_",t[t.n_=1]="n_",t[t.i_=-1]="i_"}($l||($l={}));var Gl=function(t,n){return(0|t)-(0|n)},Yl=function(t,n){return t===n?$l.t_:t<n?$l.i_:t>n?$l.n_:_(t)?_(n)?$l.t_:$l.n_:$l.i_};function Kl(t,n,i){return Qt(t,n,i)?$l.t_:Yl(t,n)}var Jl=function(t,n){return function(t,n){if(t===n)return!0;var i=w.abs(t-n);return i<Kt||i<w.max(w.abs(t),w.abs(n))*Kt}(t,n)?$l.t_:Yl(t,n)},Ql=function(){function t(){}var n=t.prototype;return n.r_=function(t){return this.e_()*t},n.u_=function(t){return this.o_(t)>0},n.s_=function(t){return this.o_(t)>=0},n.c_=function(t,n){return this.f_(t).a_(n)},n.Fg=function(t){return 0===this.o_(t)},n.h_=function(t){return this.o_(t)<0},n.a_=function(t){return this.o_(t)<=0},n.v_=function(){return this.d_()?this.l_():this},n.w_=function(t){return this.og(t.l_())},n.f_=function(t){return this.w_(t).v_()},t}();function Zl(t,n){return t.y_()?n.y_()?$l.t_:$l.n_:n.y_()?$l.i_:t.g_()?n.g_()&&t.d_()===n.d_()?$l.t_:t.d_()?$l.i_:$l.n_:n.d_()?$l.n_:$l.i_}var tw=function(){function t(t,n){this.__=void 0,this.p_=void 0,this.__=t,this.p_=n}t.m_=function(n,i,r){return r?new t(n.toUnsigned(),i.toUnsigned()):new t(n.toSigned(),i.toSigned())},t.k_=function(n){return n.unsigned?new t(n,Yt.UZERO):new t(n,n.isNegative()?Yt.NEG_ONE:Yt.ZERO)},t.b_=function(n,i){if(_(n))return i?t.T_:t.E_;if(i){if(n<0)return t.T_;if(n>=3.402823669209385e38)return t.S_}else{if(n<=-1.7014118346046923e38)return t.R_;if(n+1>=1.7014118346046923e38)return t.I_}return n<0?t.b_(-n,i).l_():t.m_(Yt.fromNumber(n%0x10000000000000000),Yt.fromNumber(n/0x10000000000000000),i)};var n=t.prototype;return n.C_=function(){return this.p_.unsigned},n.A_=function(){return this.__.isZero()&&this.p_.isZero()},n.d_=function(){return this.p_.isNegative()},n.D_=function(){return this.C_()?t.m_(this.__,this.p_,!1):this},n.N_=function(){return this.C_()?this:t.m_(this.__,this.p_,!0)},n.O_=function(){return this.__},n.e_=function(){return this.d_()?-this.l_().e_():0x10000000000000000*this.p_.toNumber()+this.__.toUnsigned().toNumber()},n.x_=function(){return this.__.toInt()},n.Fg=function(t){return(this.C_()===t.C_()||this.p_.getHighBits()>>>31!=1||t.p_.getHighBits()>>>31!=1)&&(this.p_.toUnsigned().eq(t.p_.toUnsigned())&&this.__.toUnsigned().eq(t.__.toUnsigned()))},n.o_=function(t){if(this.Fg(t))return $l.t_;var n=this.d_(),i=t.d_();if(n&&!i)return $l.i_;if(!n&&i)return $l.n_;if(!this.C_())return this.w_(t).d_()?$l.i_:$l.n_;var r=this.N_(),e=t.N_(),u=e.p_.comp(r.p_);return u>0||0===u&&e.__.gt(r.__)?$l.i_:$l.n_},n.h_=function(t){return this.o_(t)<0},n.a_=function(t){return this.o_(t)<=0},n.P_=function(t){return this.o_(t)>0},n.L_=function(t){return this.o_(t)>=0},n.F_=function(){return new t(this.__.not(),this.p_.not())},n.M_=function(n){return new t(this.__.and(n.__),this.p_.and(n.p_))},n.B_=function(n){return new t(this.__.or(n.__),this.p_.or(n.p_))},n.U_=function(n){var i=127&n;return 0===i?this:i<64?t.m_(this.__.shl(i),this.p_.shl(i).or(this.__.shru(64-i)),this.C_()):t.m_(Yt.ZERO,this.__.shl(i-64),this.C_())},n.V_=function(n){var i=127&n;return 0===i?this:i<64?t.m_(this.__.shru(i).or(this.p_.shl(64-i)),this.p_.shr(i),this.C_()):t.m_(this.p_.shr(i-64),this.p_.isNegative()?Yt.NEG_ONE:Yt.ZERO,this.C_())},n.q_=function(n){var i=127&n;return 0===i?this:i<64?t.m_(this.__.shru(i).or(this.p_.shl(64-i)),this.p_.shru(i),this.C_()):64===i?t.m_(this.p_,Yt.ZERO,this.C_()):t.m_(this.p_.shru(i-64),Yt.ZERO,this.C_())},n.og=function(n){var i=this.p_.high>>>16,r=65535&this.p_.high,e=this.p_.low>>>16,u=65535&this.p_.low,o=this.__.high>>>16,s=65535&this.__.high,c=this.__.low>>>16,a=65535&this.__.low,f=n.p_.high>>>16,h=65535&n.p_.high,v=n.p_.low>>>16,d=65535&n.p_.low,l=n.__.high>>>16,w=65535&n.__.high,y=n.__.low>>>16,g=0,_=0,p=0,m=0,k=0,b=0,T=0,E=0;T+=(E+=a+(65535&n.__.low))>>>16,E&=65535,b+=(T+=c+y)>>>16,T&=65535,k+=(b+=s+w)>>>16,b&=65535,m+=(k+=o+l)>>>16,k&=65535,p+=(m+=u+d)>>>16,m&=65535,_+=(p+=e+v)>>>16,p&=65535,g+=(_+=r+h)>>>16,_&=65535,g+=i+f,g&=65535;var S=this.C_(),R=Yt.fromBits(p<<16|m,g<<16|_,S),I=Yt.fromBits(T<<16|E,k<<16|b,S);return t.m_(I,R,S)},n.w_=function(t){return this.og(t.l_())},n.l_=function(){return this.F_().og(t.H_)},n.j_=function(n){if(this.A_()||n.A_())return this.C_()?t.T_:t.E_;if(this.d_())return n.d_()?this.l_().j_(n.l_()):this.l_().j_(n).l_();if(n.d_())return this.j_(n.l_()).l_();if(this.p_.isZero()&&0===this.__.high&&n.p_.isZero()&&0===n.__.high)return t.k_(this.__.multiply(n.__));var i=Yt.fromBits(4294967295,0,!0),r=this.__.and(i),e=this.__.shru(32),u=this.p_.and(i),o=this.p_.shru(32),s=n.__.and(i),c=n.__.shru(32),a=n.p_.and(i),f=n.p_.shru(32),h=Yt.UZERO,v=Yt.UZERO,d=Yt.UZERO,l=Yt.UZERO;h=h.add(r.mul(s)),v=v.add(h.shru(32)),h=h.and(i),v=v.add(e.mul(s)),d=d.add(v.shru(32)),v=(v=v.and(i)).add(r.mul(c)),d=d.add(v.shru(32)),v=v.and(i),d=d.add(u.mul(s)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(e.mul(c)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(r.mul(a)),l=l.add(d.shru(32)),d=d.and(i),l=l.add(o.mul(s)).add(u.mul(c)).add(e.mul(a)).add(r.mul(f)).and(i);var w=Yt.fromBits(h.getLowBitsUnsigned(),v.getLowBitsUnsigned(),!0),y=Yt.fromBits(d.getLowBitsUnsigned(),l.getLowBitsUnsigned(),!0);return t.m_(w,y,this.C_())},n.W_=function(n){var i,r,e=n;if(e.A_())throw new RangeError("division by zero");if(this.A_())return this.C_()?[t.T_,t.T_]:[t.E_,t.E_];if(this.C_()){if(e.C_()||(e=e.N_()),e.P_(this))return[t.T_,this];if(e.P_(this.q_(1)))return[r=t.z_,i=this.w_(e)];r=t.T_}else{if(this.Fg(t.R_)){if(e.Fg(t.H_)||e.Fg(t.X_))return[t.R_,t.E_];if(e.Fg(t.R_))return[t.H_,t.E_];var u=this.V_(1).G_(e).U_(1);return u.Fg(t.E_)?r=e.d_()?t.H_:t.X_:(i=this.w_(e.j_(u)),r=u.og(i.G_(e))),[r,i=this.w_(e.j_(r))]}if(e.Fg(t.R_))return this.C_()?[t.T_,this]:[t.E_,this];if(this.d_()){if(e.d_())return this.l_().W_(e.l_());var o=this.l_().W_(e);return r=o[0],i=o[1],[r.l_(),i.l_()]}if(e.d_()){var s=this.W_(e.l_());return r=s[0],i=s[1],[r.l_(),i.l_()]}r=t.E_}for(i=this;i.L_(e);){for(var c=w.max(1,w.floor(i.e_()/e.e_())),a=w.ceil(w.log(c)/w.LN2),f=a<=48?1:w.pow(2,a-48),h=t.b_(c),v=h.j_(e);v.d_()||v.P_(i);)c-=f,v=(h=t.b_(c,this.C_())).j_(e);h.A_()&&(h=t.H_),r=r.og(h),i=i.w_(v)}return[r,i]},n.G_=function(t){return this.W_(t)[0]},n.Y_=function(t){return this.W_(t)[1]},n.toString=function(n){var i=n||10;if(i<2||i>36)throw new RangeError("radix");if(this.A_())return"0";if(this.d_()){if(this.Fg(t.R_)){var r=t.b_(i),e=this.G_(r),u=e.j_(r).w_(this);return e.toString(i)+u.x_().toString(i)}return"-"+this.l_().toString(i)}for(var o=t.b_(w.pow(i,6),this.C_()),s=this,c="";;){var a=s.G_(o),f=(s.w_(a.j_(o)).x_()>>>0).toString(i);if((s=a).A_())return f+c;for(;f.length<6;)f="0"+f;c=String(f)+c}},t}();tw.E_=tw.k_(Yt.ZERO),tw.T_=tw.k_(Yt.UZERO),tw.H_=tw.k_(Yt.ONE),tw.z_=tw.k_(Yt.UONE),tw.X_=tw.k_(Yt.NEG_ONE),tw.I_=tw.m_(Yt.NEG_ONE,Yt.MAX_VALUE,!1),tw.S_=tw.m_(Yt.MAX_UNSIGNED_VALUE,Yt.MAX_UNSIGNED_VALUE,!0),tw.R_=tw.m_(Yt.ZERO,Yt.MIN_VALUE,!1);var nw=function(){function t(t,n){void 0===n&&(n=1),this.K_=void 0,this.J_=void 0,this.K_=t,this.J_=n}t.Q_=function(n){return new t(w.ceil(n.K_),n.J_)},t.Z_=function(n){return new t(w.floor(n.K_),n.J_)},t.tp=function(t,n){return t.s_(n)?t:n},t.np=function(t,n){return t.a_(n)?t:n};var n=t.prototype;return n.og=function(n){return this.J_>=n.J_?new t(this.K_+n.ip(this.J_).K_,this.J_):new t(this.ip(n.J_).K_+n.K_,n.J_)},n.u_=function(t){return t.h_(this)},n.s_=function(t){return t.a_(this)},n.f_=function(n){return this.J_>=n.J_?new t(w.abs(this.K_-n.ip(this.J_).K_),this.J_):n.f_(this)},n.c_=function(t,n){return this.f_(t).a_(n)},n.o_=function(t){return i=t,(n=this).J_>=i.J_?Jl(n.K_,i.ip(n.J_).K_):Jl(n.ip(i.J_).K_,i.K_);var n,i},n.Fg=function(t){return 0===this.o_(t)},n.h_=function(t){return this.o_(t)<0},n.a_=function(t){return this.o_(t)<=0},n.ip=function(n){return new t(this.K_*(n/this.J_),n)},n.w_=function(n){return this.J_>=n.J_?new t(this.K_-n.ip(this.J_).K_,this.J_):new t(this.ip(n.J_).K_-n.K_,n.J_)},n.rp=function(n){return new t(this.K_*n,this.J_)},W(t,[{key:"g_",get:function(){return!isFinite(this.K_)}},{key:"ep",get:function(){return this.K_/this.J_}}]),t}();nw.op=new nw(1/6,1),nw.E_=new nw(0),nw.sp=new nw(1/0),nw.cp=1e6;var iw=function(t){function n(n,i){var r;return(r=t.call(this)||this).yu=void 0,r.J_=void 0,r.yu=n.toSigned(),r.J_=i>>>0,r}$(n,t),n.ap=function(t,i){return void 0===i&&(i=1e6),n.b_(t*i,i)},n.b_=function(t,i){return _(t)?n.fp:t===1/0?n.hp:t===-1/0?n.vp:new n(Yt.fromNumber(t),i)},n.k_=function(t,i){return new n(t,i)},n.dp=function(t){return n.ap(t.ep,1e6)},n.lp=function(t){return new n(Yt.fromNumber(t.getTime()),1e3)},n.tp=function(t,n){return t.s_(n)?t:n},n.np=function(t,n){return t.a_(n)?t:n},n.wp=function(t,i,r){return n.tp(i,n.np(r,t))};var i=n.prototype;return i.d_=function(){return this.yu.isNegative()},i.A_=function(){return 0!==this.J_&&this.yu.isZero()},i.g_=function(){return 0===this.J_&&!this.yu.isZero()},i.y_=function(){return 0===this.J_&&this.yu.isZero()},i.e_=function(){if(0===this.J_)return this.yu.isZero()?NaN:this.yu.isNegative()?-1/0:1/0;var t=this.yu.divide(this.J_),n=this.yu.subtract(t.multiply(this.J_));return t.toNumber()+n.toNumber()/this.J_},i.O_=function(){if(0===this.J_)throw new v("Failed to convert timestamp");return this.yu},i.yp=function(){return new Date(0===this.J_?NaN:this.ip(1e3).yu.toNumber())},i.gp=function(){return new nw(0===this.J_?this.e_():this.yu.toNumber(),this.J_)},i.ip=function(t,i){void 0===i&&(i=uw._p);var r=this.J_;if(r===t)return this;if(0===r)return this;var e=Zt(r,t);return new n(function(t,n,i){var r=t.W_(n),e=r[0],u=r[1];if(u.A_())return e;if(i===uw._p)return u.d_()?e.w_(tw.H_):e;if(i===uw.pp)return u.d_()?e:e.og(tw.H_);var o=u.j_(tw.b_(2));return o.d_()?o.l_().h_(n)?e:e.w_(tw.H_):o.h_(n)?e:e.og(tw.H_)}(tw.k_(this.yu).j_(tw.b_(t/e)),tw.b_(r/e),i).O_(),t)},i.o_=function(t){if(this===t)return $l.t_;if(0===this.J_||0===t.J_)return Zl(this,t);if(this.A_())return t.A_()?$l.t_:t.d_()?$l.n_:$l.i_;if(t.A_())return this.d_()?$l.i_:$l.n_;var n=w.min(this.J_,t.J_),i=this.ip(n,uw.mp).yu,r=t.ip(n,uw.mp).yu;return i.compare(r)},i.l_=function(){return 0===this.J_?rw(this):new n(this.yu.negate(),this.J_)},i.og=function(t){if(0===this.J_||0===t.J_)return ew(this,t);if(this.A_())return t;if(t.A_())return this;var i=w.max(this.J_,t.J_),r=this.ip(i,uw.mp),e=t.ip(i,uw.mp);return new n(r.yu.add(e.yu),i)},i.j_=function(t){if(this.y_()||_(t))return n.fp;if(this.g_()||!isFinite(t)){if(this.A_()||0===t)return n.fp;var i=this.d_()?n.vp:n.hp;return t<0?i.l_():i}return this.A_()?this:new n(0===t?Yt.ZERO:this.yu.multiply(t),this.J_)},i.G_=function(t){if(this.y_()||_(t))return n.fp;if(this.g_())return isFinite(t)?0===t?1/t<0?this.l_():this:t<0?this.l_():this:n.fp;if(!isFinite(t))return new n(Yt.ZERO,this.J_);if(this.A_())return 0===t?n.fp:new n(Yt.ZERO,this.J_);if(0===t){var i=this.d_()?n.vp:n.hp;return 1/t<0?i.l_():i}return new n(this.yu.divide(t),this.J_)},i.kp=function(){return[this.yu.low,this.yu.high,this.J_]},n}(Ql);function rw(t){return t.y_()?t:t.d_()?iw.hp:iw.vp}function ew(t,n){return t.y_()||n.y_()?iw.fp:t.g_()&&n.g_()?t.d_()===n.d_()?t:iw.fp:t.g_()?t:n}iw.E_=new iw(Yt.ZERO,1e6),iw.fp=new iw(Yt.ZERO,0),iw.hp=new iw(Yt.ONE,0),iw.vp=new iw(Yt.NEG_ONE,0);var uw,ow=function(t){function n(n,i){var r;return(r=t.call(this)||this).yu=void 0,r.J_=void 0,r.yu=BigInt.asIntN(64,n),r.J_=i>>>0,r}$(n,t),n.ap=function(t,i){return void 0===i&&(i=1e6),n.b_(t*i,i)},n.b_=function(t,i){return _(t)?n.fp:t===1/0?n.hp:t===-1/0?n.vp:new n(BigInt(w.floor(t)),i)},n.k_=function(t,i){return new n(BigInt(t.high)<<BigInt(32)|BigInt(t.low>>>0),i)},n.dp=function(t){return n.ap(t.ep,1e6)},n.lp=function(t){return n.b_(t.getTime(),1e3)},n.tp=function(t,n){return t.s_(n)?t:n},n.np=function(t,n){return t.a_(n)?t:n},n.wp=function(t,i,r){return n.tp(i,n.np(r,t))};var i=n.prototype;return i.d_=function(){return this.yu<BigInt(0)},i.A_=function(){return 0!==this.J_&&this.yu===BigInt(0)},i.g_=function(){return 0===this.J_&&this.yu!==BigInt(0)},i.y_=function(){return 0===this.J_&&this.yu===BigInt(0)},i.e_=function(){if(0===this.J_)return this.yu===BigInt(0)?NaN:this.yu<BigInt(0)?-1/0:1/0;var t=this.yu/BigInt(this.J_),n=this.yu-t*BigInt(this.J_);return Number(t)+Number(n)/this.J_},i.O_=function(){if(0===this.J_)throw new v("Failed to convert timestamp");return this.bp()},i.bp=function(){var t=this.yu&BigInt(4294967295),n=this.yu>>BigInt(32)&BigInt(4294967295);return Yt.fromBits(Number(t),Number(n))},i.yp=function(){return new Date(0===this.J_?NaN:Number(this.ip(1e3).yu))},i.gp=function(){return new nw(0===this.J_?this.e_():Number(this.yu),this.J_)},i.ip=function(t,i){void 0===i&&(i=uw._p);var r=this.J_;if(r===t)return this;if(0===r)return this;var e=Zt(r,t);return new n(function(t,n,i){var r=t/n,e=t-r*n;if(e===BigInt(0))return r;if(i===uw._p)return e<BigInt(0)?r-BigInt(1):r;if(i===uw.pp)return e<BigInt(0)?r:r+BigInt(1);var u=e*BigInt(2);return u<BigInt(0)?-u<n?r:r-BigInt(1):u<n?r:r+BigInt(1)}(this.yu*BigInt(t/e),BigInt(r/e),i),t)},i.o_=function(t){if(this===t)return $l.t_;if(0===this.J_||0===t.J_)return Zl(this,t);if(this.A_())return t.A_()?$l.t_:t.d_()?$l.n_:$l.i_;if(t.A_())return this.d_()?$l.i_:$l.n_;var n=w.min(this.J_,t.J_),i=this.ip(n,uw.mp).yu,r=t.ip(n,uw.mp).yu;return i>r?$l.n_:i<r?$l.i_:$l.t_},i.l_=function(){return 0===this.J_?sw(this):new n(-this.yu,this.J_)},i.og=function(t){if(0===this.J_||0===t.J_)return cw(this,t);if(this.A_())return t;if(t.A_())return this;var i=w.max(this.J_,t.J_),r=this.ip(i,uw.mp),e=t.ip(i,uw.mp);return new n(r.yu+e.yu,i)},i.j_=function(t){if(this.y_()||_(t))return n.fp;if(this.g_()||!isFinite(t)){if(this.A_()||0===t)return n.fp;var i=this.d_()?n.vp:n.hp;return t<0?i.l_():i}return this.A_()?this:new n(0===t?BigInt(0):this.yu*BigInt(t),this.J_)},i.G_=function(t){if(this.y_()||_(t))return n.fp;if(this.g_())return isFinite(t)?0===t?1/t<0?this.l_():this:t<0?this.l_():this:n.fp;if(!isFinite(t))return new n(BigInt(0),this.J_);if(this.A_())return 0===t?n.fp:new n(BigInt(0),this.J_);if(0===t){var i=this.d_()?n.vp:n.hp;return 1/t<0?i.l_():i}return new n(this.yu/BigInt(t),this.J_)},i.kp=function(){var t=this.bp();return[t.low,t.high,this.J_]},W(n,null,[{key:"E_",get:function(){return n.Tp||(n.Tp=new n(BigInt(0),1e6)),n.Tp}},{key:"fp",get:function(){return n.Ep||(n.Ep=new n(BigInt(0),0)),n.Ep}},{key:"hp",get:function(){return n.Sp||(n.Sp=new n(BigInt(1),0)),n.Sp}},{key:"vp",get:function(){return n.Rp||(n.Rp=new n(BigInt(-1),0)),n.Rp}}]),n}(Ql);function sw(t){return t.y_()?t:t.d_()?ow.hp:ow.vp}function cw(t,n){return t.y_()||n.y_()?ow.fp:t.g_()&&n.g_()?t.d_()===n.d_()?t:ow.fp:t.g_()?t:n}ow.Tp=void 0,ow.Ep=void 0,ow.Sp=void 0,ow.Rp=void 0,function(t){t[t._p=0]="_p",t[t.pp=1]="pp",t[t.mp=2]="mp"}(uw||(uw={}));var aw,fw,hw,vw,dw=function(){try{return"function"==typeof BigInt&&"bigint"==typeof BigInt(0)}catch(t){return!1}}()?ow:iw,lw=9e4,ww=w.pow(2,33),yw=(dw.b_(ww,lw).G_(2),{Ip:0,Cp:1/0,Ap:0}),gw=6,_w=["WEBVTT ","WEBVTT\t","WEBVTT\n"],pw=[" ","\t","\n","\f","\r"],mw=/^\d*$/,kw=/.*[0-9]+.*/,bw=/^[\d.-]+$/,Tw=/(^\.|\.$)/,Ew=/(\D\.|\.\D)/;function Sw(t,n){void 0===n&&(n=yw);var i={aw:[],Dp:[],Np:[]},r=Rw(t),e=new io;if(Fw(r),Iw(r,function(t){return"\n"!==t},e),e.bc>=r.length)return i;(e.pc(1),"\n"!==r.charAt(e.bc))?Nw(Cw(r,e,!1,!0,i,n),i):e.pc(1);for(Iw(r,function(t){return"\n"===t},e);e.bc<r.length;){Nw(Cw(r,e,!1,!1,i,n),i),Iw(r,function(t){return"\n"===t},e)}return i}function Rw(t){var n=he(t,"\0"," "),i=he(n,"\r\n","\n");return he(i,"\r","\n")}function Iw(t,n,i){for(var r=i.bc;i.bc<t.length&&n(t.charAt(i.bc));)i.pc(1);return t.substring(r,i.bc)}function Cw(t,n,i,r,e,u){for(var o,s=0,c=n.bc,a="",f=!1,h=!1,v=null,d=null,l=null;!f;)if(o=Iw(t,function(t){return"\n"!==t},n),s++,n.bc>=t.length?f=!0:n.pc(1),ve(o,"--\x3e")){if(r||1!==s&&(2!==s||h)){n.mc(c);break}h=!0,c=n.bc,v=new zl(0,0,"",!1,a);try{Ow(o,e.Dp,v,u),a=""}catch(t){N.So(t),v=null}}else{if(""===o)break;r&&de(o,"X-TIMESTAMP-MAP")&&(e.Op=Aw(o)),r||2!==s||i||(we("STYLE",a.replace(/ /g,""))?(d={vs:Pl.pg},a=""):we("REGION",a.replace(/ /g,""))&&(l=new Xl("",100,3,0,100,0,100,""),a="")),a&&(a+="\n"),a+=o,c=n.bc}if(v)return v.Ig=a,v;if(d);else if(l)return function(t,n){for(var i=t.split(/\s/),r=0;r<i.length;r++){var e=i[r];if(0!==e.length&&ve(e,":")&&":"!==e.charAt(0)&&":"!==e.charAt(e.length-1)){var u=e.indexOf(":"),o=e.substring(0,u),s=e.substring(u+1,e.length);switch(o.toUpperCase()){case"ID":Xw(s,n);break;case"WIDTH":Kw(s,n);break;case"LINES":Yw(s,n);break;case"REGIONANCHOR":var c=$w(s);c&&(n.Yg=c[0],n.Kg=c[1]);break;case"VIEWPORTANCHOR":var a=$w(s);a&&(n.Jg=a[0],n.Qg=a[1]);break;case"SCROLL":Gw(s,n)}}}}(a,l),l;return null}function Aw(t){var n,i,r=t.split("=")[1].trim().split(","),e=Dw(r[0].trim(),"MPEGTS")?r[0]:r[1],u=Dw(r[0].trim(),"LOCAL")?r[0]:r[1];return{xp:(i=Number(e.split(/:(.*)/)[1].trim())||0,dw.b_(i,lw)),Pp:dw.ap(null!=(n=Lw(u.split(/:(.*)/)[1].trim(),new io))?n:0)}}function Dw(t,n){return de(t,n)}function Nw(t,n){t&&function(t){return t.vs===Pl.gg}(t)?n.aw.push(t):t&&function(t){return t.vs===Pl._g}(t)?n.Dp.push(t):t&&function(t){return t.vs===Pl.pg}(t)&&n.Np.push(t)}function Ow(t,n,i,r){var e=new io;if(Mw(t,e),i.Sg=xw(Lw(t,e),r),Mw(t,e),"--\x3e"!==t.substring(e.bc,e.bc+3))throw v("Something went wrong with parsing a WebVTT Cue");e.pc(3),Mw(t,e),i.Rg=xw(Lw(t,e),r),function(t,n,i){for(var r=t.split(/\s/),e=0;e<r.length;e++){var u=r[e];if(0!==u.length&&ve(u,":")&&":"!==u.charAt(0)&&":"!==u.charAt(u.length-1)){var o=u.indexOf(":"),s=u.substring(0,o),c=u.substring(o+1,u.length);switch(s.toUpperCase()){case"REGION":Hw(c,n,i);break;case"VERTICAL":Ww(c,n);break;case"D":zw(c,n);break;case"LINE":case"L":Vw(c,n);break;case"POSITION":case"T":qw(c,n);break;case"SIZE":case"S":jw(c,n);break;case"ALIGN":case"A":Uw(c,n)}}}}(t.substring(e.bc,t.length),i,n)}function xw(t,n){return t+n.Ip}function Pw(t){return/^[0-9]$/.test(t)}function Lw(t,n){var i,r,e,u=he(t,",","."),o=!1;if(n.bc>=u.length||!Pw(u.charAt(n.bc)))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");var s=Iw(u,Pw,n),c=y(s,10);if((s.length>2||c>59)&&(o=!0),n.bc>=u.length||":"!==u.charAt(n.bc))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");n.pc(1);var a=Iw(u,Pw,n);if(2!==a.length)throw new v("Something went wrong with parsing a WebVTT Cue timestamp");var f=y(a,10);if(o||n.bc<u.length&&":"===u.charAt(n.bc)){if(n.bc>=u.length||":"!==u.charAt(n.bc))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");n.pc(1);var h=Iw(u,Pw,n);if(2!==a.length)throw new v("Something went wrong with parsing a WebVTT Cue timestamp");i=c,r=f,e=y(h,10)}else i=0,r=c,e=f;if(n.bc>=u.length||"."!==u.charAt(n.bc))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");n.pc(1);var d=Iw(u,Pw,n),l=y(d,10);if(f>59||e>59)throw new v("Something went wrong with parsing a WebVTT Cue timestamp");return 60*i*60+60*r+e+l/1e3}function Fw(t){if(t.length<gw)return!1;for(var n=0;n<_w.length;n++){if(de(t,_w[n]))return!0}return!1}function Mw(t,n){for(;n.bc<t.length&&(i=t.charAt(n.bc),Ie(pw,i));)n.pc(1);var i}function Bw(t){var n=t.lastIndexOf("%");if(n>-1){var i=g(t.substring(0,n));if(!_(i)&&i>=0&&i<=100)return i}return null}function Uw(t,n){var i=t.toLowerCase();switch(i){case"start":case"center":case"end":case"left":case"right":n.$g=i;break;case"middle":n.$g="center"}}function Vw(t,n){var i=t,r="";if(ve(t,",")&&(i=t.substring(0,t.indexOf(",")),r=t.substring(t.indexOf(",")+1,t.length)),kw.test(i)){var e;if(le(i,"%")){var u=Bw(i);if(null===u)return;e=u}else{if(!bw.test(t)||t.lastIndexOf("-")>0||t.indexOf(".")!==t.lastIndexOf(".")||!Ew.test(t)||Tw.test(t))return;if(e=g(t),_(e))return}switch(n.Vg=e,n.zg=le(i,"%"),r=t.toLowerCase()){case"start":case"center":case"end":n.qg=r;break;case"middle":n.qg="center"}}}function qw(t,n){var i=t,r="";ve(t,",")&&(i=t.substring(0,t.indexOf(",")),r=t.substring(t.indexOf(",")+1,t.length));var e=Bw(i);if(null!==e)switch(n.Hg=e,r=r.toLowerCase()){case"line-left":case"center":case"line-right":case"auto":n.jg=r;break;case"start":n.jg="line-left";break;case"middle":n.jg="center";break;case"end":n.jg="line-right"}}function Hw(t,n,i){for(var r=i.length-1;r>=0;r--)if(i[r].Yl===t)return void(n.Wg=i[r])}function jw(t,n){var i=Bw(t);null!==i&&(n.gc=i)}function Ww(t,n){switch(t.toLowerCase()){case"rl":case"vertical:rl":case"vertical-rl":n.Xg="rl";break;case"lr":case"vertical:lr":case"vertical-lr":n.Xg="lr";break;default:n.Xg=""}}function zw(t,n){"VERTICAL"===t.toUpperCase()?n.Xg="rl":"VERTICAL-LR"===t.toUpperCase()&&(n.Xg="lr")}function $w(t){if(t.indexOf(",")>=0){var n=Bw(t.substring(0,t.indexOf(","))),i=Bw(t.substring(t.indexOf(",")+1,t.length));return[Jt(n||0,0,100),Jt(i||100,0,100)]}return null}function Xw(t,n){n.Yl=t}function Gw(t,n){"up"===t.toLowerCase()&&(n.Zg="up")}function Yw(t,n){mw.test(t)&&(n.Gg=y(t))}function Kw(t,n){var i=Bw(t);null!==i&&(n.yo=i)}!function(t){t.Lp="moov",t.Fp="mvhd",t.Mp="trak",t.Bp="tkhd",t.Up="mdia",t.Vp="mdhd",t.qp="hdlr",t.Hp="minf",t.jp="stbl",t.Wp="stsd",t.zp="stsc",t.$p="mvex",t.Xp="trex",t.Gp="avc1",t.Yp="avcC",t.Kp="hev1",t.Jp="hvc1",t.Qp="hvcC",t.Zp="pasp",t.tm="mp4a",t.nm="esds",t.im="wvtt",t.rm="vttC",t.um="vlab",t.om="enca",t.sm="encv",t.cm="moof",t.am="mfhd",t.fm="traf",t.hm="tfhd",t.vm="trun",t.dm="tfdt",t.lm="mdat",t.wm="pssh",t.ym="emsg",t.gm="sidx",t._m="styp",t.pm="ftyp",t.mm="sinf",t.km="frma"}(aw||(aw={})),function(t){t.Lv="vide",t.Pv="soun",t.bm="subt",t.Tm="hint",t.Em="meta",t.Sm="auxv"}(fw||(fw={})),function(t){t[t.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",t[t.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",t[t.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",t[t.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",t[t.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT",t[t.DURATION_IS_EMPTY=32]="DURATION_IS_EMPTY",t[t.DEFAULT_BASE_IS_MOOF=131072]="DEFAULT_BASE_IS_MOOF"}(hw||(hw={})),function(t){t[t.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",t[t.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",t[t.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",t[t.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT=2048]="SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT"}(vw||(vw={}));var Jw=function(){function t(t,n){this.Pu=void 0,this.Rm=void 0,this.Pu=t,this.Rm=n}var n=t.prototype;return n.Im=function(){return Ru(this.Pu,this.Rm)},n.Cm=function(){return Du(this.Pu,this.Rm)},n.Am=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt16(n.bc,i);return n.pc(2),r}(this.Pu,this.Rm)},n.Dm=function(){return Ou(this.Pu,this.Rm)},n.Nm=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt32(n.bc,i);return n.pc(4),r}(this.Pu,this.Rm)},n.Om=function(){return Pu(this.Pu,this.Rm)},n.xm=function(t){return Cu(this.Pu,this.Rm,t)},n.Pm=function(t){return function(t,n,i){for(var r=[],e=0;e<i;e++)r.push(Ou(t,n));return r}(this.Pu,this.Rm,t)},n.Lm=function(t){return Mu(this.Pu,this.Rm,t)},n.Fm=function(){return $u(this.Pu,this.Rm)},n.Mm=function(t){this.Rm.pc(t)},n.kc=function(){return new t(this.Pu,this.Rm.kc())},t}(),Qw=function(t){function n(n,i){var r;return(r=t.call(this)||this).Bm=n,r.Um=i,r}return $(n,t),W(n,[{key:"name",get:function(){return"DataIncompleteError"}}]),n}(sn),Zw=function(){function t(){}return t.Vm=function(n){var i=n.Pu,r=n.Rm,e=t.qm(i,r,!1);if(!e.Hm)throw new Qw(r.bc,e.Su);return e.Su},t.qm=function(n,i,r){for(var e=[];i.bc<n.byteLength;){var u=t.jm(n,i,r);if(!u.Hm)return{Hm:!1,Su:e};e.push(u.Wm)}return{Hm:!0,Su:e}},t.zm=function(n,i){var r=t.jm(n,i,!1);if(!r.Hm)throw new Qw(i.bc);return r.Wm},t.$m=function(n,i){for(var r=n.Pu,e=n.Rm;e.bc<r.byteLength;){var u=t.jm(r,e,!1);if(!u.Hm)return;if(u.Wm.vs===i)return u.Wm}},t.jm=function(n,i,r){var e=i.bc,u=t.Xm(n,i);if(!u.Hm)return u;var o=u.Gm,s=o.gc;if(0===s){if(r)return i.mc(e),{Hm:!1,Ym:1/0};s=n.byteLength-e}var c=e+s;if(c>n.byteLength){var a=c;return i.mc(e),{Hm:!1,Ym:a}}var f,h,v,d={vs:o.vs,bc:e,Pu:new Jw((f=n,h=e,v=c,void 0===h&&(h=0),void 0===v&&(v=f.byteLength),new DataView(f.buffer,f.byteOffset+h,v-h)),new io(o.Km))};return i.mc(c),{Hm:!0,Wm:d}},t.Xm=function(t,n){var i=n.bc;if(!Au(t,n,8))return{Hm:!1,Ym:n.bc+8};var r=Ou(t,n),e=Mu(t,n,4);if(1===r){if(!Au(t,n,8)){var u=n.bc+8;return n.mc(i),{Hm:!1,Ym:u}}r=Pu(t,n).toNumber()}if("uuid"===e){if(!Au(t,n,16)){var o=n.bc+16;return n.mc(i),{Hm:!1,Ym:o}}e=Mu(t,n,16)}return{Hm:!0,Gm:{vs:e,gc:r,Km:n.bc-i}}},t.Jm=function(t,n,i){var r=t.Pu,e=t.Rm,u=Yu(Ju(r),e.bc,r.byteLength);return i&&(u=no(u)),e.pc(u.byteLength),{vs:n,Pu:u}},t.Qm=function(n,i,r){var e=ry(n.Dm());return{vs:i,Zm:e.version,tk:e.flags,Pu:t.Jm(n,i,r).Pu}},t}();function ty(t,n){var i=ny(t,n);if(!i)throw new v("Missing "+n+" atom");return i}function ny(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.vs===n)return r.Pu}}function iy(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];e.vs===n&&i.push(e.Pu)}return i}function ry(t){return{version:t>>24,flags:new Su(16777215&t)}}var ey=function(){function t(){}return t.nk=function(n){for(var i=[],r=Zw.Vm(new Jw(n,new io)),e=0;e<r.length;e++){var u=r[e],o=t.ik(u);o&&i.push(o)}return i},t.rk=function(t){return Zw.qm(t,new io,!1).Su.some(function(t){return t.vs===aw.cm||t.vs===aw._m})},t.ek=function(n){return iy(Zw.Vm(new Jw(n,new io)),aw.wm).map(t.uk)},t.sk=function(n){return iy(Zw.Vm(n.Pu),aw.wm).map(t.uk)},t.ik=function(n){switch(n.vs){case aw.Lp:return t.ck(n.Pu);case aw.cm:return t.ak(n.Pu,n.bc);case aw.lm:return t.fk(n.Pu);case aw.gm:return t.hk(n.Pu);case aw.ym:return t.vk(n.Pu)}},t.ck=function(n){var i=Zw.Vm(n),r=ty(i,aw.Fp),e=iy(i,aw.Mp),u=ny(i,aw.$p),o=t.dk(r),s=e.map(t.lk),c=u?t.wk(u):void 0;return{vs:aw.Lp,Gm:o,yk:s,gk:c}},t.dk=function(t){var n=ry(t.Dm()),i=n.version,r=n.flags,e=1===i?t.Om():t.Dm(),u=1===i?t.Om():t.Dm(),o=t.Dm(),s=1===i?t.Om():t.Dm(),c=t.Dm(),a=t.Cm()>>8;t.Mm(2),t.Mm(8);var f=t.Pm(9);t.Mm(24);var h=t.Dm();return{vs:aw.Fp,Zm:i,tk:r,_k:e,pk:u,J_:o,zw:s,mk:c,ty:a,kk:f,bk:h}},t.lk=function(n){var i=Zw.Vm(n),r=ty(i,aw.Bp),e=ty(i,aw.Up),u=t.Tk(r),o=t.Ek(e);return{vs:aw.Mp,Gm:u,Sk:o}},t.Tk=function(t){var n=ry(t.Dm()),i=n.version,r=n.flags,e=1===i?t.Om():t.Dm(),u=1===i?t.Om():t.Dm(),o=t.Dm();t.Mm(4);var s=1===i?t.Om():t.Dm();t.Mm(8);var c=t.Am(),a=t.Am(),f=t.Am()/w.pow(2,8);t.Mm(2);var h=t.Pm(9),v=t.Dm()/w.pow(2,16),d=t.Dm()/w.pow(2,16);return{vs:aw.Bp,Rk:r.Ec(1),Ik:r.Ec(2),Ck:r.Ec(4),_k:e,pk:u,Ak:o,zw:s,Dk:c,Nk:a,ty:f,kk:h,yo:v,Ok:d}},t.Ek=function(n){var i=Zw.Vm(n),r=ty(i,aw.Vp),e=ty(i,aw.qp),u=ty(i,aw.Hp),o=t.xk(r),s=t.Pk(e),c=t.Lk(u);return{vs:aw.Up,Gm:o,Fk:s,Mk:c}},t.xk=function(t){var n=ry(t.Dm()),i=n.version,r=n.flags,e=1===i?t.Om():t.Dm(),u=1===i?t.Om():t.Dm(),o=t.Dm(),s=1===i?t.Om():t.Dm();t.Cm();return t.Mm(2),{vs:aw.Vp,Zm:i,tk:r,_k:e,pk:u,J_:o,zw:s}},t.Pk=function(t){var n=ry(t.Dm()),i=n.version,r=n.flags;t.Mm(4);var e=t.Lm(4);t.Mm(12);var u=t.Fm();return{vs:aw.qp,Zm:i,tk:r,Bk:e,du:u}},t.Lk=function(n){var i=ty(Zw.Vm(n),aw.jp),r=t.Uk(i);return{vs:aw.Hp,Vk:r}},t.Uk=function(n){var i=ty(Zw.Vm(n),aw.Wp),r=t.qk(i);return{vs:aw.jp,Hk:r}},t.qk=function(n){for(var i=ry(n.Dm()),r=i.version,e=i.flags,u=(n.Dm(),[]),o=Zw.Vm(n),s=0;s<o.length;s++){var c=o[s],a=t.jk(c.Pu,c.vs);a&&u.push(a)}return{vs:aw.Wp,Zm:r,tk:e,Wk:u}},t.jk=function(n,i){var r=t.zk(n,i);return r||((r=t.$k(n,i))||(i===aw.im?t.Xk(n):void 0))},t.zk=function(n,i){return i===aw.tm?t.Gk(n):i===aw.om?t.Yk(n):void 0},t.$k=function(n,i){return i===aw.Gp?t.Kk(n):i===aw.Kp||i===aw.Jp?t.Jk(n,i):i===aw.sm?t.Qk(n):void 0},t.Zk=function(t,n){return t.Mm(6),{vs:n,nb:t.Cm()}},t.ib=function(n,i){var r=t.Zk(n,i);n.Mm(8);var e=n.Cm(),u=n.Cm();return n.Mm(2),n.Mm(2),Hr({},r,{rb:e,eb:u,ub:n.Dm()>>>16})},t.ob=function(n,i){var r=t.Zk(n,i);n.Mm(2),n.Mm(2),n.Mm(12);var e=n.Cm(),u=n.Cm(),o=n.Dm(),s=n.Dm();n.Mm(4);var c=n.Cm();n.Mm(32);var a=n.Cm();return n.Mm(2),Hr({},r,{yo:e,Ok:u,sb:o,cb:s,ab:c,fb:a})},t.Gk=function(n){var i=t.ib(n,aw.tm),r=ty(Zw.Vm(n),aw.nm);return Hr({},i,{hb:t.vb(r)})},t.Xk=function(n){var i=t.Zk(n,aw.im),r=Zw.Vm(n),e=ty(r,aw.rm),u=t.lb(e),o=ny(r,aw.um);return Hr({},i,{wb:u,yb:o?t.gb(o):o})},t.lb=function(t){return{vs:aw.rm,Zc:t.Fm()}},t.gb=function(t){return{vs:aw.um,Ql:t.Fm()}},t.vb=function(t){return Zw.Qm(t,aw.nm,!0)},t.Kk=function(n){var i=t.ob(n,aw.Gp),r=Zw.Vm(n),e=ty(r,aw.Yp),u=ny(r,aw.Zp);return Hr({},i,{_b:t.pb(e),mb:u?t.kb(u):void 0})},t.Jk=function(n,i){var r=t.ob(n,i),e=ty(Zw.Vm(n),aw.Qp);return Hr({},r,{bb:t.Tb(e)})},t.Qk=function(n){var i=n.kc(),r=t.ob(n,aw.sm),e=ty(Zw.Vm(n),aw.mm),u=t.Eb(e);return Hr({},r,{Sb:t.$k(i,u.Ib.Rb),Cb:u})},t.Yk=function(n){var i=n.kc(),r=t.ib(n,aw.om),e=ty(Zw.Vm(n),aw.mm),u=t.Eb(e);return Hr({},r,{Sb:t.zk(i,u.Ib.Rb),Cb:u})},t.Eb=function(n){var i=ty(Zw.Vm(n),aw.km),r=t.Ab(i);return{vs:aw.mm,Ib:r}},t.Ab=function(t){var n=t.Lm(4);return{vs:aw.km,Rb:n}},t.pb=function(t){return Zw.Jm(t,aw.Yp,!0)},t.Tb=function(t){return Zw.Jm(t,aw.Qp,!0)},t.kb=function(t){var n=t.Dm(),i=t.Dm();return{vs:aw.Zp,Db:n,Nb:i}},t.wk=function(n){var i=iy(Zw.Vm(n),aw.Xp).map(t.Ob);return{vs:aw.$p,yk:i}},t.Ob=function(t){var n=ry(t.Dm()),i=n.version,r=n.flags,e=t.Dm(),u=t.Dm(),o=t.Dm(),s=t.Dm(),c=t.Dm();return{vs:aw.Xp,Zm:i,tk:r,Ak:e,xb:u,Pb:o,Lb:s,Fb:c}},t.ak=function(n,i){var r=Zw.Vm(n),e=ty(r,aw.am),u=iy(r,aw.fm),o=t.Mb(e),s=u.map(t.Bb);return{vs:aw.cm,Ub:i,Gm:o,yk:s}},t.Mb=function(t){var n=ry(t.Dm()),i=n.version,r=n.flags,e=t.Dm();return{vs:aw.am,Zm:i,tk:r,Vb:e}},t.Bb=function(n){var i=Zw.Vm(n),r=ty(i,aw.hm),e=iy(i,aw.vm),u=ny(i,aw.dm),o=t.qb(r),s=e.map(function(n){return t.Hb(n,o)}),c=u?t.jb(u):void 0;return{vs:aw.fm,Gm:o,Wb:s,zb:c}},t.qb=function(t){var n=ry(t.Dm()),i=n.version,r=n.flags,e=t.Dm(),u=r.Ec(hw.BASE_DATA_OFFSET_PRESENT)?t.Om():void 0,o=r.Ec(hw.SAMPLE_DESCRIPTION_INDEX_PRESENT)?t.Dm():void 0,s=r.Ec(hw.DEFAULT_SAMPLE_DURATION_PRESENT)?t.Dm():void 0,c=r.Ec(hw.DEFAULT_SAMPLE_SIZE_PRESENT)?t.Dm():void 0,a=r.Ec(hw.DEFAULT_SAMPLE_FLAGS_PRESENT)?t.Dm():void 0;return{vs:aw.hm,Zm:i,tk:r,Ak:e,$b:u,Xb:o,Pb:s,Lb:c,Fb:a}},t.Hb=function(n,i){for(var r=ry(n.Dm()),e=r.version,u=r.flags,o=n.Dm(),s=u.Ec(vw.DATA_OFFSET_PRESENT)?n.Nm():void 0,c=u.Ec(vw.FIRST_SAMPLE_FLAGS_PRESENT)?n.Dm():void 0,a=[],f=0;f<o;f++){var h=t.Gb(n,u,e,i);0===f&&void 0!==c&&(h.tk=c),a.push(h)}return{vs:aw.vm,Zm:e,tk:u,Yb:o,Ub:s,Kb:c,Jb:a}},t.Gb=function(t,n,i,r){return{zw:n.Ec(vw.SAMPLE_DURATION_PRESENT)?t.Dm():r.Pb,gc:n.Ec(vw.SAMPLE_SIZE_PRESENT)?t.Dm():r.Lb,tk:n.Ec(vw.SAMPLE_FLAGS_PRESENT)?t.Dm():r.Fb,Qb:n.Ec(vw.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT)?0===i?t.Dm():t.Nm():void 0}},t.vk=function(t){var n=t.Pu,i=t.Rm,r=ry(Ou(n,i)),e=r.version,u=r.flags;if(1===e){var o=Ou(n,i),s=Pu(n,i),c=Ou(n,i),a=Ou(n,i),f=Fu(n,i),h=Fu(n,i),v=to(Ju(n),i.bc,n.byteLength);return i.pc(v.byteLength),{vs:aw.ym,Zm:e,tk:u,Zb:f,yu:h,J_:o,tT:s,nT:c,Yl:a,iT:v}}var d=Fu(n,i),l=Fu(n,i),w=Ou(n,i),y=Ou(n,i),g=Ou(n,i),_=Ou(n,i),p=to(Ju(n),i.bc,n.byteLength);return i.pc(p.byteLength),{vs:aw.ym,tk:u,Zm:e,Zb:d,yu:l,J_:w,rT:y,nT:g,Yl:_,iT:p}},t.fk=function(t){return Zw.Jm(t,aw.lm,!1)},t.uk=function(n){var i=n.Pu,r=n.Rm,e=no(Ju(i)).buffer,u=ry(Ou(i,r)),o=u.version,s=u.flags,c=t.eT(i,r),a=[];if(o>0)for(var f=Ou(i,r),h=0;h<f;h++){var v=Cu(i,r,16);a.push(v)}var d=Ou(i,r),l=new p(e,r.bc,d);return r.pc(i.byteLength),{vs:aw.wm,Zm:o,tk:s,uT:c,oT:a,sT:d,Pu:l,cT:e}},t.eT=function(t,n){for(var i="",r=0;r<4;r++){var e=Ru(t,n).toString(16);i+=1===e.length?"0"+e:e}i+="-";for(var u=0;u<2;u++){var o=Ru(t,n).toString(16);i+=1===o.length?"0"+o:o}i+="-";for(var s=0;s<2;s++){var c=Ru(t,n).toString(16);i+=1===c.length?"0"+c:c}i+="-";for(var a=0;a<2;a++){var f=Ru(t,n).toString(16);i+=1===f.length?"0"+f:f}i+="-";for(var h=0;h<6;h++){var v=Ru(t,n).toString(16);i+=1===v.length?"0"+v:v}return i.toLowerCase()},t.hk=function(t){var n,i,r=t.Pu,e=t.Rm,u=ry(Ou(r,e)),o=u.version,s=u.flags,c=Ou(r,e),a=Ou(r,e);0===o?(n=Yt.fromBits(Ou(r,e),0,!0),i=Yt.fromBits(Ou(r,e),0,!0)):(n=Pu(r,e),i=Pu(r,e)),e.pc(2);for(var f=Du(r,e),h=[],v=0;v<f;v+=1){var d=Ou(r,e),l=d>>31&1,w=2147483647&d,y=Ou(r,e),g=Ou(r,e),_=g>>31&1,p=g>>28&7,m=268435455&g;h.push({aT:l,fT:w,zw:y,hT:_,vT:p,dT:m})}return{vs:aw.gm,Zm:o,tk:s,lT:c,J_:a,wT:n,yT:i,gT:f,_T:h}},t.jb=function(t){var n,i=t.Pu,r=t.Rm,e=ry(Ou(i,r)),u=e.version,o=e.flags;return n=0===u?Yt.fromBits(Ou(i,r),0,!0):Pu(i,r),{vs:aw.dm,Zm:u,tk:o,zb:n}},t}();function uy(t){return t&&"Eu"in t?t.Eu:t}var oy=function(t){function n(n,i,r,e,u,o,s){var c;return(c=t.call(this,n,i,r,e)||this).pT=void 0,c.mT=void 0,c.kT=void 0,c.pT=u,c.mT=o,c.kT=s||void 0,c}return $(n,t),n.prototype.Fg=function(n){return this===n||!!Vv(this,n)&&(!!t.prototype.Fg.call(this,n)&&(!!Uv(this.bT,n.bT)&&(!!Uv(this.Dp,n.Dp)&&(this.TT&&n.TT?!!this.TT.fu(n.TT)&&(this.Ig&&n.Ig?this.Ig.fu(n.Ig):this.Ig===n.Ig):this.TT===n.TT))))},W(n,[{key:"bT",get:function(){return this.pT}},{key:"Dp",get:function(){return this.mT}},{key:"TT",get:function(){return this.kT}},{key:"cl",get:function(){var t;return this.sl||(this.sl=Mv(ql(t=this),{get styles(){return t.bT},get regions(){return t.Dp},get metadata(){return uy(t.TT)},get content(){return uy(t.Ig)}})),this.sl}}]),n}(Wl),sy=function(){function t(t,n,i){this.Ph=void 0,this.ET=void 0,this.ST=void 0,this.ET=t,this.ST=n,en(i)?this.Ph=function(t,n,i){for(var r=0,e=["begin","end","dur"];r<e.length;r++){var u=e[r];i.Cu(u)}return i}(0,0,i):this.Ph=i}return W(t,[{key:"RT",get:function(){return this.Ph.hu(!0)}},{key:"Sg",get:function(){return this.ET}},{key:"Rg",get:function(){return this.ST}}]),t}();var cy="http://www.w3.org/XML/1998/namespace";function ay(t,n){return function(t,n){var i=t.Su.slice(),r=[];for(;i.length>0;){var e=i.shift();n(e)?r.push(e):i.push.apply(i,e.Su)}return r}(t,function(t){return t.ku===n})}function fy(t,n){for(var i=t,r=0;r<n.length;r++){var e=n[r];i=i.replace(e+":","")}return i}function hy(t,n){for(var i=t.Ou,r={},e=0;e<i.length;e++)r[fy(i[e].du,n)]=i[e].yu;return r}var vy=/^(\d\d+):(\d\d):(\d+)((\.(\d+))?|(:(\d\d+)(\.(\d+))?))$/,dy=/^(\d+)(\.(\d+))?(h|m|s|ms|f|t)$/,ly="http://www.w3.org/ns/ttml";function wy(t,n,i){return void 0===i&&(i=yw),function(t,n,i){var r,e=[];try{r=N.cu(t)}catch(t){return e}var u=r.Lu;if("tt"!==u.vu)return e;var o=u&&u.bu(ly,"head")[0],s=u&&u.bu(ly,"body")[0],c=["ebutts","tts","xml"];if(!s||!o)return e;for(var a=function(t,n){for(var i={},r=t.bu(ly,"styling")[0],e=r&&r.bu(ly,"style")||[],u=0;u<e.length;u++){var o=e[u],s=o.Iu(cy,"id");i[s]=hy(o,n)}return i}(o,c),f=function(t,n){var i=Bv(t),r=py(n.Ru("tts:extent"));if(!r)return i;for(var e=0,u=l.keys(i);e<u.length;e++){var o=u[e],s=py(i[o].extent);if(s){var c=gy(s[0],r[0]),a=gy(s[1],r[1]);i[o].extent=c+" "+a}var f=py(i[o].origin);if(f){var h=gy(f[0],r[0]),v=gy(f[1],r[1]);i[o].origin=h+" "+v}}return i}(function(t,n){for(var i={},r=t.bu(ly,"layout")[0],e=r&&r.bu(ly,"region")||[],u=0;u<e.length;u++){var o=e[u],s=o.Iu(cy,"id");if(s){i[s]=hy(o,n);var c=by(o,n);for(var a in c)rt.call(c,a)&&(i[s][a]=c[a])}}return i}(o,c),u),h=o.bu(ly,"metadata")[0],v=function t(n,i,r,e){var u=i;var o;var s=r;var c=[];var a=[];if(en(n)){var f,h;u=null!=(f=ky(n.Ru("begin"),e))?f:u,o=ky(n.Ru("dur"),0),s=null!=(h=ky(n.Ru("end"),e))?h:void 0!==o?u+o:s;for(var v=n.mu,d=0;d<v.length;d++)("body"===n.vu||"div"===n.vu)&&v[d].iu>1||(c=c.concat(t(v[d],u,s,e)))}var l=function(t,n,i){var r=[];r.push(t,n);for(var e=0;e<i.length;e++){var u=i[e];r.push(u.Sg,u.Rg)}r.sort(Yl);for(var o=r.length,s=0;s<o-1;s++)r[s+1]===r[s]&&(Re(r,s+1),s--,o=r.length);return r}(u,s,c);for(var w=0;w<l.length-1;w++){var y=my(l[w],l[w+1],c);if(y.length<=0&&Ty(n)){var g=n.hu(!1);a.push(new sy(l[w],l[w+1],g))}else y.length>0&&function(){var t=n.hu(!1);y.forEach(function(n){return t.Tu(n.RT)}),a.push(new sy(l[w],l[w+1],t))}()}return a}(s,i.Ip,i.Cp,i.Ap),d=0;d<v.length;d++){var w=v[d],y=yy(f,w);e.push(new oy(w.Sg,w.Rg,w.RT,!1,a,y,h))}return e}(t,0,i)}function yy(t,n){for(var i=function t(n){var i=[];var r;if(en(n)){(r=n.Ru("region"))&&i.push(r);for(var e=n.mu,u=0;u<e.length;u++)i=i.concat(t(e[u]))}return i}(n.RT),r={},e=0;e<i.length;e++){var u=i[e];r[u]=t[u]}return r}function gy(t,n){var i=_y(t),r=_y(n);if(i&&r&&i===r){var e=Number(t.slice(0,-i.length)),u=Number(n.slice(0,-r.length));return _(e)||_(u)?t:e/u*100+"%"}return t}function _y(t){return le(t,"px")?"px":le(t,"em")?"em":le(t,"c")?"c":le(t,"%")?"%":void 0}function py(t){if(t){var n=t.split(" ");if(2===n.length)return[n[0],n[1]]}}function my(t,n,i){for(var r=[],e=0;e<i.length;e++){var u=i[e].Sg,o=i[e].Rg;(u>=t&&o<=n||u<n&&o>=n||u<t&&o>t)&&r.push(i[e])}return r}function ky(t,n){if(t){if(vy.test(t)){var i=vy.exec(t);if(!i)return;var r=Number(i[1])||0,e=Number(i[2])||0,u=Number(i[3])||0,o=i[6];return 3600*r+60*e+u+(o?Number(o)*w.pow(.1,o.length):0)-n}if(dy.test(t)){var s=dy.exec(t);if(!s)return;var c,a=Number(s[1]);switch(s[4]){case"h":c=3600*a;break;case"m":c=60*a;break;case"s":c=a;break;case"ms":c=.001*a;break;case"f":case"t":default:c=NaN}return c-n}}}function by(t,n){for(var i={},r=t.pu("style")||[],e=0;e<r.length;e++){var u=hy(r[e],n);for(var o in u)rt.call(u,o)&&(i[o]=u[o])}return i}function Ty(t){if(en(t)){var n=t.vu.toUpperCase(),i=Boolean(t.Ru("smpte:backgroundImage"));return"BR"===n||i}return t.iu===rn.uu}function Ey(t){var n=function(t){try{return N.cu(t).Lu}catch(t){}}(t);return"tt"===(null==n?void 0:n.vu)}var Sy,Ry=function(t){function n(){return t.apply(this,arguments)||this}$(n,t);var i=n.prototype;return i.Pl=function(n){return t.prototype.Pl.call(this,n)},i.Ll=function(n){var i=t.prototype.Ll.call(this,n);return i&&(n.ew=Zv.sw),i},i.al=function(){return ud(this)},n}(Nv),Iy=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).yk=new Ry,n.IT=function(t){var i=t.fl;n.CT(i)},n}$(n,t);var i=n.prototype;return i.Pl=function(t){t.zs(Ev.kl,this.IT),this.yk.Pl(t),this.CT(t)},i.Ll=function(t){t.Ys(Ev.kl,this.IT),t.ew=Zv.sw,this.yk.Ll(t)},i.AT=function(t){},i.DT=function(t){},i.CT=function(t){t.ew!==Zv.sw?this.AT(t):this.DT(t)},i.NT=function(){for(var t=0,n=this.yk.Bl;t<n.length;t++){var i=n[t];i.Ys(Ev.kl,this.IT),i.sr()}},i.Ml=function(){return this.NT(),this.yk.Ml(),A.resolve()},i.sr=function(){var t=A.coroutine(qr.mark(function t(){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Gs(),t.next=3,this.Ml();case 3:this.yk.sr();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n}($e);!function(t){t.bm="subtitles",t.OT="captions",t.xT="descriptions",t.PT="chapters",t.Em="metadata",t.LT="thumbnails"}(Sy||(Sy={}));var Cy=[Sy.bm,Sy.OT,Sy.xT,Sy.PT,Sy.Em,Sy.LT];function Ay(t){var n=String(t||"").toLowerCase();return function(t){return"string"==typeof t&&Ie(Cy,t)}(n)?n:n?Sy.Em:Sy.bm}var Dy,Ny=function(t){function n(n,i,r,e,u){var o;return(o=t.call(this,n,i,u)||this).url=void 0,o.status=void 0,o.url=r,o.status=e,o}return $(n,t),n}(xo);function Oy(t,n){return t===Sy.LT||t===Sy.Em&&n===Sy.LT}function xy(t,n,i,r){for(var e=0,u=t.aw.Bl;e<u.length;e++){var o=u[e];if(o.Sg>i)break;n<=o.Rg&&r.push(o)}}function Py(t,n){return Gl(t.Kl,n.Kl)}function Ly(t,i){var r=i,e=0;if(t instanceof jf&&t.name===Uf.Jv)r=t._v.mv;else if(function(t){return t instanceof zf}(t)){var u=t.rd;if(r=u.pv,0===(e=u.dv))return new Ny(n.ErrorCode.SUBTITLE_CORS_ERROR,"Could not load the subtitle file. Make sure the source is set correctly and that CORS support is enabled.",r,e,t)}return new Ny(n.ErrorCode.SUBTITLE_LOAD_ERROR,"Could not load the subtitle file.",r,e,t)}function Fy(t,i,r,e){var u=function(t){switch(t){case xl.WEBVTT:return"WebVTT";case xl.SRT:return"SRT";case xl.TTML:return"TTML";default:return""}}(t);return new Ny(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Could not parse the "+(u?u+" ":"")+"subtitle file.",i,r,e)}function My(t){return Fw(Rw(t))?xl.WEBVTT:Ey(t)?xl.TTML:xl.SRT}!function(t){t.FT="vtt",t.im="wvtt",t.MT="stpp"}(Dy||(Dy={}));var By=function(t){function n(n){var i;return(i=t.call(this,td.iw)||this).errorObject=n,i}return $(n,t),n.prototype.al=function(){return this},W(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(Tv),Uy=function(t){function n(n,i){var r;return(r=t.call(this)||this).BT=void 0,r.UT=void 0,r.VT=new De,r.BT=n,r.UT=i,r}$(n,t);var i=n.prototype;return i.qT=function(t){if(t.src){var n=t.kind||Sy.bm,i=this.BT.HT(n,t.id,t.label,t.srclang,t.default);return i.hw=Bf(t.src),this.Pl(i),i}},i.jT=function(){var t=A.coroutine(qr.mark(function t(n,i){var r,e,u,o,s,c,a,f,h,v;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n.cw=Ol.LOADING,r=new Pf({mv:n.hw,wv:ts.uu,Mv:Af.GET,Us:i}),t.prev=2,t.next=5,this.UT._v(r);case 5:return o=t.sent,u=o.dv,t.next=9,o.Jh();case 9:e=t.sent,t.next=18;break;case 12:return t.prev=12,t.t0=t.catch(2),Pe(t.t0),n.cw=Ol.ERROR,n.Ws(new By(Ly(t.t0,n.hw))),t.abrupt("return");case 18:for(t.prev=18,s=My(e),n.vs=s,c=[],s===xl.WEBVTT||s===xl.SRT?(a=Sw(e),c=a.aw):s===xl.TTML&&(c=wy(e)),f=0,h=c;f<h.length;f++)v=h[f],n.WT(v);t.next=32;break;case 26:return t.prev=26,t.t1=t.catch(18),Pe(t.t1),n.cw=Ol.ERROR,n.Ws(new By(Fy(n.vs,n.hw,u,t.t1))),t.abrupt("return");case 32:n.cw=Ol.LOADED;case 33:case"end":return t.stop()}},t,this,[[2,12],[18,26]])}));return function(n,i){return t.apply(this,arguments)}}(),i.AT=function(t){Ie(this.yk.Bl,t)&&t.cw===Ol.NONE&&this.jT(t,this.VT.Us).catch(Le)},i.jc=function(){},i.Ml=function(){var n=A.coroutine(qr.mark(function n(){var i,r,e;return qr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(this.VT.Fs(),this.VT=new De,i=0,r=this.yk.Bl;i<r.length;i++)e=r[i],this.BT.zT(e);return n.next=5,t.prototype.Ml.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),n}(Iy);function Vy(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.Jl===n&&r.$T)return r}}function qy(t,n){Hy(Vy(t.Bl,n))}function Hy(t){void 0!==t&&(t.ew=Zv.uw)}function jy(t,n){Hy(Vy(t.Bl,n)||function(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.Jl===n)return r}}(t.Bl,n))}function Wy(t){for(var n=0;n<Cy.length;n++){var i=Cy[n];i===Sy.PT?jy(t,i):qy(t,i)}}var zy,$y=function(t){function n(){return t.call(this,Zo.kf)||this}return $(n,t),n}(Ge);!function(t){t[t.XT=0]="XT",t[t.GT=1]="GT"}(zy||(zy={}));var Xy=t,Gy=Xy.MediaSource,Yy=Xy.WebKitMediaSource,Ky=Xy.TextTrack,Jy=u&&u.createElement("video"),Qy=(u&&u.documentElement.style,it.de&&it.He&&it.je<=26),Zy=(it.Ie,!(!Gy&&!Yy)),tg=!!Ky,ng=(u&&(u.fullscreenEnabled||u.webkitFullscreenEnabled||u.mozFullScreenEnabled||u.msFullscreenEnabled)||it.Se,it.Be&&it.Ue,Jy&&Jy.canPlayType&&(""!==Jy.canPlayType("application/vnd.apple.mpegURL")||it._e&&!it.Be&&it.pe),Jy&&Jy.canPlayType&&""!==Jy.canPlayType("video/mp4")&&!Qy),ig=Zy&&!it.Ve&&!it.Le&&!it.Pe&&((Gy||Yy).isTypeSupported?(Gy||Yy).isTypeSupported('audio/mp4; codecs="mp4a.40.34"'):Jy&&Jy.canPlayType&&""!==Jy.canPlayType('audio/mp4; codecs="mp4a.40.34"'));Zy&&!it.Ve&&(ig||((Gy||Yy).isTypeSupported?(Gy||Yy).isTypeSupported("audio/mpeg"):Jy&&Jy.canPlayType&&Jy.canPlayType("audio/mpeg"))),Zy&&!(it.Me&&it.de)&&(Gy||Yy).isTypeSupported&&(Gy||Yy).isTypeSupported('video/mp4; codecs="avc1.4d401e"'),it.Ve||it.Le||it.Pe,it.Fe,it.Ve,it.Le&&it.we&&it.ye;try{e&&e.top!==e.self}catch(t){!0}var rg=function(t){function n(n){var i;return(i=t.call(this,xd.Hw)||this).currentTime=n,i}return $(n,t),n}(Ge),eg=function(t){function n(n){var i;return(i=t.call(this,xd.jw)||this).currentTime=n,i}return $(n,t),n}(Ge),ug=function(t){function n(n,i){var r;return void 0===i&&(i=!1),(r=t.call(this)||this).YT=_d.xw,r.KT=!0,r.JT=!1,r.QT=!1,r.ZT=function(t){var n=t.readyState;n!==r.YT&&r.Ws(t),n===_d.xw&&(r.JT=!1,r.QT=!1),r.tE(n),r.nE(n),r.iE(n),r.maybeDispatchCanPlayThroughEvent(n),r.rE(n),r.eE(n),r.YT=n},r.uE=function(){r.eE(r.YT),r.rE(r.YT),r.KT=r.oE.Yw},r.sE=function(){r.KT=r.oE.Yw},r.oE=n,r.cE=i,r.oE.zs(xd.Tl,r.ZT),r.oE.zs(Zo.gf,r.uE),r.oE.zs(Zo.yf,r.sE),r.cE&&r.oE.zs(xd.jw,r.js),r}$(n,t);var i=n.prototype;return i.tE=function(t){!this.QT&&t>=_d.Pw&&(this.QT=!0,this.Ws(new Vd(this.oE.Ww,t)))},i.nE=function(t){!this.JT&&t>=_d.Lw&&(this.JT=!0,this.Ws(new zd(this.oE.Ww,t)))},i.rE=function(t){this.cE||(t>=_d.Fw&&this.YT<_d.Fw&&!this.oE.Yw||this.aE&&t>=_d.Fw)&&this.Ws(new eg(this.oE.Ww))},i.eE=function(t){!this.fE(t)||this.oE.$w||this.oE.uc||this.Ws(new rg(this.oE.Ww))},i.iE=function(t){this.YT<=_d.Lw&&t>=_d.Fw&&this.Ws(new Yd(this.oE.Ww,t))},i.maybeDispatchCanPlayThroughEvent=function(t){t===_d.Mw&&this.Ws(new Kd(this.oE.Ww,t))},i.fE=function(t){var n=!this.oE.Yw&&t<=_d.Lw,i=!this.KT&&this.YT<=_d.Lw;return n&&!i},i.Ml=function(){this.YT=_d.xw,this.KT=!0,this.JT=!1,this.QT=!1},i.sr=function(){this.Gs(),this.cE&&this.oE.Ys(xd.jw,this.js),this.oE.Ys(Zo.gf,this.uE),this.oE.Ys(Zo.yf,this.sE),this.oE.Ys(xd.Tl,this.ZT)},W(n,[{key:"aE",get:function(){return!this.oE.Yw&&this.KT}}]),n}($e),og="titanium",sg="conax",cg="ezdrm",ag="irdeto",fg="vudrm",hg="verimatrix",vg="keyos",dg="drmtoday",lg="expressplay",wg="azure",yg="xstream",gg="vimond",_g="axinom",pg="uplynk",mg="comcast",kg="custom",bg=function(){function t(t,n,i,r,e){this.Qc=void 0,this.hE=void 0,this.vE=void 0,this.dE=void 0,this.UT=void 0,this.lE=void 0,this.wE=void 0,this.Qc=t,this.hE=n,this.vE=i,this.UT=r,this.wE=e,this.dE=this.yE(n)}var i=t.prototype;return i.gE=function(){return this.lE},i._E=function(t){this.lE=t},i.pE=function(){return this.dE.licenseAcquisitionURL||this.gE()},i.mE=function(t){return A.resolve()},i.kE=function(t,n){return A.resolve(void 0)},i.bE=function(){var t=A.coroutine(qr.mark(function t(i,r,e,u){var o,s;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==(o=this.TE(i,r,e,u)).mv){t.next=3;break}throw new yl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 3:return t.prev=3,t.next=6,this.tl._v(o);case 6:return s=t.sent,t.next=9,s.Qh(r);case 9:return t.abrupt("return",t.sent);case 12:return t.prev=12,t.t0=t.catch(3),Pe(t.t0),t.next=17,this.EE(t.t0,o.mv,u);case 17:return t.abrupt("return");case 18:case"end":return t.stop()}},t,this,[[3,12]])}));return function(n,i,r,e){return t.apply(this,arguments)}}(),i.TE=function(t,n,i,r){var e=this.SE().Bf(),u=this.qv,o={mv:this.RE(),wv:n,lv:e,iv:t,qv:u,Mv:Af.POST,Bv:0,Us:r,vs:Df.Sv,Uv:i};return new Pf(o)},i.IE=function(t,n){return A.resolve(t)},i.CE=function(t,n,i,r){return A.resolve(t)},i.SE=function(){return new ns(this.dE.headers||{})},i.EE=function(){var t=A.coroutine(qr.mark(function t(i,r,e){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:throw new yl(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during license server request",i);case 1:case"end":return t.stop()}},t)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.RE=function(t,n){var i=n,r=this.dE.queryParameters;if(!i){var e=this.pE();if(!e)return"";i=e}if(r||t){var u=N.Vo(i);t&&Mf(u,t),r&&Mf(u,r),i=u.href}return i},i.AE=function(t){return function(t,n){var i=n.licenseResponseProcessor;return A.resolve(new p(Tg(t,i)))}(t,this.dE)},i.DE=function(){var t=A.coroutine(qr.mark(function t(n,i,r){var e,u,o;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.NE(n,r);case 2:return e=t.sent,t.next=5,this.bE(e,this.wE,i,r);case 5:return u=t.sent,t.next=8,this.AE(u);case 8:return o=t.sent,t.abrupt("return",o);case 10:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.sr=function(){},W(t,[{key:"tl",get:function(){return this.UT}},{key:"OE",get:function(){return!1}},{key:"xE",get:function(){var t=this.dE.certificate;if(t)return ft(t)?cu(t):Zu(t)}},{key:"PE",get:function(){return!1}},{key:"qv",get:function(){return Boolean(this.dE.useCredentials)}}]),t}();function Tg(t,i){if(!t||!i||"function"!=typeof i)return t;try{return i(t)}catch(t){throw new yl(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error while preprocessing DRM data",t)}}function Eg(t,n){var i=no(t).buffer,r=n.licenseRequestProcessor;return A.resolve(Tg(i,r))}var Sg,Rg,Ig=function(t){function n(n,i,r,e){return t.call(this,ce,n,i,r,e)||this}$(n,t);var i=n.prototype;return i.yE=function(t){return t.widevine||{}},i.LE=function(){var t=A.coroutine(qr.mark(function t(n,i){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.xE){t.next=2;break}return t.abrupt("return",this.xE);case 2:return t.abrupt("return",this.FE(new p(n),i));case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.FE=function(n,i){return t.prototype.DE.call(this,n,Nf.Av,i)},n}(bg);function Cg(t,n){if(null==t)return{};var i,r,e={},u=l.keys(t);for(r=0;r<u.length;r++)i=u[r],n.indexOf(i)>=0||(e[i]=t[i]);return e}function Ag(t){return ut(t.token&&t.deviceId)}function Dg(t){var n,i=null==(n=t.fairplay)?void 0:n.headers;return void 0!==i&&ut(i.PreAuthorization)}function Ng(t){var n=t;return Ag(n)&&""!==n.token&&""!==n.deviceId&&!Dg(n)}(Rg=Sg||(Sg={})).ME=!1,Rg.BE=!1,Rg.UE=!1,Rg.VE=!1,Rg.LOG_ADS_DETAILS=!1,Rg.LOG_CHROMECAST_DETAILS=!1,Rg.LOG_CUSTOM_DRM=!1,Rg.LOG_BUFFERING_VIDEO_MAIN=!1,Rg.LOG_BUFFERING_VIDEO_SELECTION=!1,Rg.LOG_BUFFERING_AUDIO_MAIN=!1,Rg.LOG_BUFFERING_AUDIO_SELECTION=!1,Rg.qE=!1,Rg.HE=!1;var Og,xg=function(){function t(t,n,i){this.jE=t,this.Bc=n,this.WE=i}return t.prototype.zE=function(t){return function(t){var n=t.onCertificateRequest;if(void 0!==n&&"function"!=typeof n)throw new d("ContentProtectionIntegration.onCertificateRequest is not a function.");var i=t.onCertificateResponse;if(void 0!==i&&"function"!=typeof i)throw new d("ContentProtectionIntegration.onCertificateResponse is not a function.");var r=t.onLicenseRequest;if(void 0!==r&&"function"!=typeof r)throw new d("ContentProtectionIntegration.onLicenseRequest is not a function.");var e=t.onLicenseResponse;if(void 0!==e&&"function"!=typeof e)throw new d("ContentProtectionIntegration.onLicenseResponse is not a function.");var u=t.extractFairplayContentId;if(void 0!==u&&"function"!=typeof u)throw new d("ContentProtectionIntegration.extractFairplayContentId is not a function.");return t}(this.WE.build(t))},W(t,[{key:"$E",get:function(){return this.jE}},{key:"Qc",get:function(){return this.Bc}}]),t}();!function(t){t.FAILED="FAILED",t.OVERRIDDEN="OVERRIDDEN",t.SUCCEEDED="SUCCEEDED"}(Og||(Og={}));var Pg=function(){function t(){this.XE=[]}var i=t.prototype;return i.registerContentProtectionIntegration=function(t,i,r){switch(this.GE(t,i,r)){case Og.FAILED:throw new yl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The keySystem should be 'widevine', 'playready' or 'fairplay', but was "+i+".");case Og.OVERRIDDEN:var e=Zg(i);N.So("Warning: Overwriting an earlier registered integration for "+t+" and "+e+".");break;case Og.SUCCEEDED:Zg(i);0}},i.GE=function(t,n,i){var r=Zg(n);if(!r)return Og.FAILED;for(var e=Og.SUCCEEDED,u=0,o=this.XE.slice();u<o.length;u++){var s=o[u];s.$E===t&&s.Qc===r&&(e=Og.OVERRIDDEN,Se(this.XE,s))}return this.XE.push(new xg(t,r,i)),e},i.YE=function(t,n){return void 0!==this.KE(t,n)},i.JE=function(t,n,i){var r=this.KE(t,n);if(!r)throw v("No ContentProtectionIntegrationInit was found for integration id "+t+" and key system "+n);return r.zE(i)},i.KE=function(t,n){for(var i=0,r=this.XE;i<r.length;i++){var e=r[i];if(e.$E===t&&(!n||e.Qc===n))return e}},t}();Pg.QE=new Pg;var Lg=["customdata"],Fg={playready:"https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx",widevine:"https://wv-keyos.licensekeyserver.com/",fairplay:"https://fp-keyos.licensekeyserver.com/getkey"};function Mg(t){if(!t)return!0;var n=t.licenseAcquisitionURL,i=t.certificateURL,r=t.keys,e=t.headers,u=t.useCredentials,o=t.queryParameters,s=t.certificateRequestProcessor,c=t.certificateResponseProcessor,a=t.licenseRequestProcessor,f=t.licenseResponseProcessor;return!(n||i||r||e||u||o||s||c||a||f)}function Bg(t){return t&&void 0!==t.licenseAcquisitionURL}var Ug,Vg=Bg,qg=Bg;function Hg(t){if(!t)return!0;if($g(t))return!1;var n=t.fairplay,i=t.playready,r=t.widevine,e=t.clearkey,u=t.aes128;return Mg(n)&&Mg(i)&&Mg(r)&&Mg(e)&&Mg(u)}function jg(t){var n=Ng(t),i=function(t){var n,i=t;return Dg(i)&&""!==(null==(n=i.fairplay)?void 0:n.headers.PreAuthorization)&&!Ag(i)}(t);return(!n||!i)&&(n||i)}function Wg(t){return t.integration===ag}function zg(t){var n=t;if(!n)return!1;if(Hg(n))return!1;var i=n.fairplay,r=n.playready,e=n.widevine,u=n.clearkey;if($g(t))return!0;if(i&&!function(t){var n=t;return n&&(void 0!==n.certificateURL||void 0!==n.certificate)}(i))return!1;if(r&&!Vg(r))return!1;if(e&&!qg(e))return!1;if(u&&!function(t){var n=t;return n&&(void 0!==n.licenseAcquisitionURL||void 0!==n.keys)}(u))return!1;if(n.integration){if(Pg.QE.YE(n.integration))return!0;switch(n.integration){case og:if(!function(t){return t.integration===og&&(Xg(t)||Gg(t))}(t))return!1;break;case fg:if(!Yg(t))return!1;break;case hg:if(!function(t){return t.integration===hg}(t))return!1;break;case ag:if(!Wg(t))return!1;break;case sg:if(!jg(t))return!1;break;case cg:if(!function(t){return t.integration===cg}(t))return!1;break;case vg:if(!$g(t))return!1;break;case dg:if(!function(t){var n=t;return n.integration===dg&&(void 0!==n.token||function(t){return void 0!==t.merchant&&void 0!==t.sessionId&&void 0!==t.userId}(n))}(t))return!1;break;case lg:if(!function(t){return t.integration===lg}(t))return!1;break;case yg:if(!Kg(t))return!1;break;case gg:if(!function(t){return t.integration===gg}(t))return!1;break;case _g:if(!Jg(t))return!1;break;case wg:if(!function(t){var n=t;return n.integration===wg&&void 0!==n.token}(t))return!1;break;case pg:if(!function(t){return t.integration===pg}(t))return!1;break;case mg:if(!function(t){var n=t;return n&&ut(n.releasePid)&&ut(n.accountId)&&ut(n.token)}(t))return!1;break;case kg:return!0;default:return!1}}return!0}function $g(t){return t.integration===vg}function Xg(t){return void 0!==t.authToken}function Gg(t){var n=t;return void 0!==n.accountName&&void 0!==n.customerName&&void 0!==n.portalId}function Yg(t){var n=t;return n.integration===fg&&void 0!==n.token}function Kg(t){var n=t;return n&&n.integration===yg&&ft(n.ticketAcquisitionURL)&&ft(n.streamId)}function Jg(t){var n=t;return n.integration===_g&&void 0!==n.token}function Qg(t,n){var i,r,e,u=n[t],o=null!=(i=null==u?void 0:u.licenseAcquisitionURL)?i:Fg[t],s=null!=(r=null==u?void 0:u.customdata)?r:n.customdata,c=s?{customData:s}:{},a=Hr({},null!=(e=null==u?void 0:u.headers)?e:{},c),f=null!=u?u:{};f.customdata;return Hr({},Cg(f,Lg),{licenseAcquisitionURL:o,headers:a})}function Zg(t){switch(t.toLowerCase()){case"widevine":case re:return re;case"playready":case ne:return ne;case"fairplay":case ue:return ue}}function t_(t,i){switch(t){case Qr:return function(t){for(var n={},i=ey.ek(new DataView(t)),r=0;r<i.length;r++){var e=i[r];n[e.uT]=e.cT}return n}(i);case Zr:case te:return function(t){var n;return(n={})[ee]=t,n}(i);default:throw new xo(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Unsupported initDataType "+t)}}!function(t){t.cs="Widevine",t.ss="PlayreadyV2",t.ZE="PlayreadyV2",t.tS="PlayreadyV3",t.as="Fairplay"}(Ug||(Ug={}));var n_={Widevine:{DRMProvider:"Google",DRMVersion:"1.4.8.86",DRMType:"Widevine"},PlayreadyV2:{DRMProvider:"Microsoft",DRMVersion:"2.9",DRMType:"Playready"},PlayreadyV3:{DRMProvider:"Microsoft",DRMVersion:"3",DRMType:"Playready"},Fairplay:{DRMProvider:"Apple",DRMType:"FairPlay",DRMVersion:"1.0"}};function i_(t,n){var i,r,e,u,o=n_[n],s=t.accountName;return{CustomerName:t.customerName,AccountName:s,PortalId:t.portalId,FriendlyName:t.friendlyName,DeviceInfo:{FormatVersion:"1",DeviceType:"PC",OSType:null==(i=N.Ho)?void 0:i.jo,OSVersion:null==(r=N.Ho)?void 0:r.Yo,DRMProvider:o.DRMProvider,DRMVersion:o.DRMVersion,DRMType:o.DRMType,DeviceVendor:null==(e=N.Ho)?void 0:e.Ko,DeviceModel:null==(u=N.Ho)?void 0:u.Jo}}}function r_(t,i){if(!t.accountName)throw new yl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, accountName is not set.");if(!t.customerName)throw new yl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, customerName is not set.");if(!t.portalId)throw new yl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, portalId is not set.");throw new yl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration.")}function e_(t,n,i){var r;if(Xg(t))r={AuthToken:t.authToken,Payload:n};else{if(!Gg(t))throw r_(t,i);r={LatensRegistration:i_(t,i),Payload:n}}return gu(JSON.stringify(r))}function u_(t,n,i){return o_.apply(this,arguments)}function o_(){return(o_=A.coroutine(qr.mark(function t(i,r,e){var u,o,s,c;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u=i.rd){t.next=3;break}throw new yl(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",i,r);case 3:return o=u,t.prev=4,t.next=7,o.Kh(e);case 7:s=t.sent,c=s_(s),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),c="";case 14:throw new yl(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",i,o._v.mv,o.dv,o.yv,c);case 15:case"end":return t.stop()}},t,null,[[4,11]])}))).apply(this,arguments)}function s_(t){if(t){if(t.WvProxyErr)return t.WvProxyErr.desc;if(t.DrmErr)return t.DrmErr.desc}}var c_=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r,ts.Ff)||this).nS=void 0,e}$(i,t),i.iS=function(){return N.jo.vo?"required":"optional"};var r=i.prototype;return r.EE=function(t,n,i){return u_(t,n,i)},r.mE=function(t){return this.nS?Fe(this.nS.Rc,t):(this.nS=new ro,A.resolve())},r.NE=function(){var t=A.coroutine(qr.mark(function t(i,r){var e,u;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.hE){t.next=3;break}throw new yl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Widevine DRM configuration.");case 3:return u=fu(i),t.abrupt("return",e_(e,u,Ug.cs));case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.AE=function(t){var i;if(!t.license)throw new yl(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Widevine license server");return i=cu(t.license),A.resolve(i)},r.rS=function(t){return A.resolve(new p(t))},r.LE=function(){var t=A.coroutine(qr.mark(function t(n,i){var r,e;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.eS(),t.next=3,this.NE(n,i);case 3:return r=t.sent,t.next=6,this.bE(r,ts.Lf,Nf.Dv,i);case 6:return e=t.sent,t.next=9,this.rS(e);case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.FE=function(){var n=A.coroutine(qr.mark(function n(i,r){var e;return qr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.FE.call(this,i,r);case 2:return e=n.sent,this.eS(),n.abrupt("return",e);case 5:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),r.eS=function(){this.nS||(this.nS=new ro),this.nS.Ic()},r.sr=function(){this.nS&&this.nS.Fs(),t.prototype.sr.call(this)},i}(Ig),a_=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r,ts.Lf)||this)._E("https://widevine-proxy.drm.technology/proxy"),e}return $(i,t),i.prototype.NE=function(){var t=A.coroutine(qr.mark(function t(i,r){var e,u,o,s;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Eg(i,this.dE);case 2:if(e=t.sent,u=this.vE,r=new p(e),o=[].slice.call(r),s=this.uS){t.next=8;break}throw new yl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The Widevine vuDRM token has not been correctly configured.");case 8:return t.abrupt("return",JSON.stringify({token:s,drm_info:o,kid:u}));case 9:case"end":return t.stop()}var r},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),W(i,[{key:"uS",get:function(){if(Yg(this.hE))return this.hE.token}}]),i}(Ig);function f_(t,n){var i=n||{};return t.ticket&&t.sessionId&&(i=Hr({},i,{SessionId:t.sessionId,Ticket:t.ticket})),Hr({},i,{CrmId:t.crmId,AccountId:t.accountId,ContentId:t.contentId})}var h_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,ts.Lf)||this)._E("https://emeademo.dev.ott.irdeto.com/Widevine/getlicense"),e}$(n,t);var i=n.prototype;return i.NE=function(t,n){return Eg(t,this.dE)},i.RE=function(n,i){var r=n;return Wg(this.hE)&&(r=f_(this.hE,r)),t.prototype.RE.call(this,r,i)},n}(Ig),v_="Conax-Custom-Data";function d_(t,n,i){var r=t&&jg(t)&&t;if(r&&!i.has(v_)){var e=Ng(r)?r.token:void 0,u=Ng(r)?r.deviceId:void 0,o=JSON.stringify({Version:"1.0.0",CxAuthenticationDataToken:e,CxClientInfo:{DeviceType:"Browser",DrmClientType:n+"-HTML5",DrmClientVersion:"1.0.0",CxDeviceId:u}});i.set(v_,o)}return i}var l_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,ts.Lf)||this)._E("https://connect.conax.com:8094/license"),e}$(n,t);var i=n.prototype;return i.NE=function(t,n){return Eg(t,this.dE)},i.SE=function(){var n=t.prototype.SE.call(this);return d_(this.hE,"Widevine",n)},n}(Ig);function w_(t){var n=Hu(new p(t));return cu(JSON.parse(n).license)}function y_(t){return"string"==typeof t.token?t.token:gu(JSON.stringify({userId:t.userId,sessionId:t.sessionId,merchant:t.merchant}))}function g_(t,n,i){var r;return r=i.token?"x-dt-auth-token":"dt-custom-data",t.set(r,n),t}var __=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,ts.Lf)||this)._E("https://lic.drmtoday.com/license-proxy-widevine/cenc/"),e}$(n,t);var i=n.prototype;return i.NE=function(t,n){return Eg(t,this.dE)},i.AE=function(t){return A.resolve(w_(t))},i.SE=function(){return g_(t.prototype.SE.call(this),this.uS,this.hE)},W(n,[{key:"uS",get:function(){return y_(this.hE)}}]),n}(Ig),p_=function(t){function n(n,i,r){return t.call(this,n,i,r,ts.Lf)||this}$(n,t);var i=n.prototype;return i.NE=function(t,n){return Eg(t,this.dE)},i.SE=function(){var n=t.prototype.SE.call(this),i=this.hE.token;return n.set("Authorization","Bearer "+i),n},n}(Ig);function m_(t,n,i,r){return k_.apply(this,arguments)}function k_(){return(k_=A.coroutine(qr.mark(function t(i,r,e,u){var o,s,c,a,f,h,v;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Kg(i)){t.next=2;break}throw new yl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Xstream DRM Configuration");case 2:return(o=new ns).append("Cache-Control","no-cache"),o.append("Content-Type","application/json"),(s=i.sessionId)&&o.append("XSSESSION",s),c=i.streamId,a=i.fairplay?"persistent"===i.fairplay.licenseType?"persistent":"non-persistent":i.widevine&&"persistent"===i.widevine.licenseType?"persistent":"non-persistent",f={drmType:r,licenseType:a,streamId:c},h={mv:i.ticketAcquisitionURL,wv:ts.Ff,lv:o,Mv:Af.POST,iv:JSON.stringify(f),Us:u},t.next=13,e._v(h);case 13:return v=t.sent,t.next=16,v.Kh();case 16:return t.abrupt("return",t.sent);case 17:case"end":return t.stop()}},t)}))).apply(this,arguments)}var b_=function(t){function n(n,i,r){return t.call(this,n,i,r,ts.Ff)||this}$(n,t);var i=n.prototype;return i.SE=function(){var n=t.prototype.SE.call(this);return n.set("Content-Type","application/json"),n},i.NE=function(){var t=A.coroutine(qr.mark(function t(n,i){var r,e,u,o;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=yu(n.buffer),e=this.hE,t.next=4,m_(e,"widevine_modular",this.tl,i);case 4:return u=t.sent,this._E(u.licenseServerUrl),o=ju(JSON.stringify({payload:r,ticket:u.ticket})),t.abrupt("return",Eg(o,this.dE));case 8:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.AE=function(t){var n=t;return A.resolve(cu(n.license))},n}(Ig),T_=function(t){function i(n,i,r){return t.call(this,n,i,r,ts.Lf)||this}$(i,t);var r=i.prototype;return r.NE=function(t,n){return Eg(t,this.dE)},r.SE=function(){if(!Jg(this.hE))throw new yl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.SE.call(this);return i.set("X-AxDRM-Message",this.hE.token),i},i}(Ig);function E_(t){for(var n=new p(2*t.length),i=0;i<t.length;i+=1)n[2*i]=t.charCodeAt(i),n[2*i+1]=0;return n}var S_=function(t){function n(n,i,r){var e;return(e=t.call(this,se,n,i,r,ts.Lf)||this).oS=void 0,e}$(n,t);var i=n.prototype;return i.yE=function(t){return t.playready||{}},i.SE=function(){var n=new ns(this.oS);return n.Vf(t.prototype.SE.call(this)),n},i.sS=function(t){return t.length>=1&&t[0].mu.length>0},i.kE=function(n){var i=this.hE.playready.customData;if(i){var r=E_(i),e=E_('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">'+fu(r)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>");return A.resolve({playready:{ba:e}})}return t.prototype.kE.call(this,n)},i.NE=function(){var t=A.coroutine(qr.mark(function t(n,i){var r;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Eg(n,this.dE);case 2:return r=t.sent,t.abrupt("return",this.cS(r));case 4:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.cS=function(){var t=A.coroutine(qr.mark(function t(n){var i,r,e,u,o,s,c,a,f,h,v,d,l,w,y,g;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:o=null,s=new DataView(n),_=s,p=new io,void 0===(m=!0)&&(m=!1),c=Vu(_,p,m,!0),t.prev=3,a=N.cu(c),t.next=10;break;case 7:return t.prev=7,t.t0=t.catch(3),t.abrupt("return",o);case 10:for(f=null==(i=a.pu("PlayReadyKeyMessage")[0])?void 0:i.pu("LicenseAcquisition")[0],h=null!=(r=null==f?void 0:f.pu("Challenge"))?r:[],this.sS(h)&&(o=wu(h[0].xu)),v=new ns,d=null!=(e=null==f?void 0:null==(u=f.pu("HttpHeaders")[0])?void 0:u.pu("HttpHeader"))?e:[],l=0;l<d.length;l++)w=d[l],y=w.pu("name")[0].xu,g=w.pu("value")[0].xu,v.append(y,g);return this.oS=v,t.abrupt("return",o);case 18:case"end":return t.stop()}var _,p,m},t,this,[[3,7]])}));return function(n){return t.apply(this,arguments)}}(),i.LE=function(t,n){return A.resolve(t)},i.FE=function(n,i){return t.prototype.DE.call(this,n,Nf.Nv,i)},n}(bg),R_=function(){function t(n){this.aS=void 0,this.fS=n,this.aS=t.hS(n)}return t.hS=function(t){return"3"===t.version?Ug.tS:Ug.ZE},t.prototype.vS=function(){var t={};if(this.aS===Ug.tS){var n={LatensRegistration:i_(this.fS,Ug.tS)};t["X-TITANIUM-DRM-CDATA"]=gu(JSON.stringify(n))}return t},W(t,[{key:"dS",get:function(){return this.aS}},{key:"ca",get:function(){return this.aS===Ug.ZE}}]),t}();var I_=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r)||this).lS=void 0,e.lS=new R_(e.hE),e}$(i,t);var r=i.prototype;return r.kE=function(t){var i=this.hE;if(!this.hE)throw new yl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium PlayReady DRM configuration.");if(Gg(i)){var r={};return r.playready={ba:C_(i,this.lS.dS)},A.resolve(r)}return A.reject(r_(i,Ug.ss))},r.SE=function(){var n=new ns(this.lS.vS());return n.Vf(t.prototype.SE.call(this)),n},r.EE=function(){var t=A.coroutine(qr.mark(function t(i,r,e){var u,o,s,c,a,f,h,v;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u=i.rd){t.next=3;break}throw new yl(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",i,r);case 3:return t.prev=3,t.next=6,u.Zh(e);case 6:c=t.sent,a=Hu(new p(c)),(f=N.cu(a))&&(h=ay(f,"CustomData")).length>0&&(o=JSON.parse(h[0].xu),s=null==(v=o.DrmErr)?void 0:v.desc),t.next=14;break;case 12:t.prev=12,t.t0=t.catch(3);case 14:throw new yl(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",i,r,u.dv,u.yv,s);case 15:case"end":return t.stop()}},t,null,[[3,12]])}));return function(n,i,r){return t.apply(this,arguments)}}(),r.sS=function(t){if(1!==t.length)throw new yl(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"PlayReady license message incorrectly formatted, Challenge not found.");return!0},i}(S_);function C_(t,n){var i=i_(t,n),r=i.DeviceInfo.FormatVersion,e=gu('<LatensRegistration formatversion="'+r+'"><AccountName>'+i.AccountName+"</AccountName><CustomerName>"+i.CustomerName+"</CustomerName><PortalID>"+i.PortalId+'</PortalID><DeviceInfo formatversion="'+r+'"><DeviceType>'+i.DeviceInfo.DeviceType+"</DeviceType><OSType>"+i.DeviceInfo.OSType+"</OSType><OSVersion>"+i.DeviceInfo.OSVersion+"</OSVersion><DRMProvider>"+i.DeviceInfo.DRMProvider+"</DRMProvider><DRMVersion>"+i.DeviceInfo.DRMVersion+"</DRMVersion><DRMType>"+i.DeviceInfo.DRMType+"</DRMType><DeviceVendor>"+i.DeviceInfo.DeviceVendor+"</DeviceVendor><DeviceModel>"+i.DeviceInfo.DeviceModel+"</DeviceModel></DeviceInfo></LatensRegistration>"),u=zu(("<TitaniumCustomData>"+e+"</TitaniumCustomData>").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/&lt;/g,"<").replace(/&gt;/g,">"),!0);return zu('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0"><CustomData encoding="base64encoded">'+fu(u)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>",!0)}var A_,D_=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r)||this)._E("https://playready-license.drm.technology/rightsmanager.asmx"),e}$(i,t);var r=i.prototype;return r.sS=function(t){if(1!==t.length)throw new yl(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Vudrm PlayReady license message incorrectly formatted, Challenge not found.");return!0},r.RE=function(n,i){var r=Hr({},n||{},{token:this.uS});return t.prototype.RE.call(this,r,i)},W(i,[{key:"uS",get:function(){if(Yg(this.hE))return this.hE.token}}]),i}(S_),N_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this)._E("https://emeademo.dev.ott.irdeto.com/playready/rightsmanager.asmx"),e}return $(n,t),n.prototype.RE=function(n,i){var r=n;return Wg(this.hE)&&(r=f_(this.hE,r)),t.prototype.RE.call(this,r,i)},n}(S_),O_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this)._E("https://connect.conax.com:8010/cxplayready/rightsmanager.asmx"),e}return $(n,t),n.prototype.SE=function(){var n=t.prototype.SE.call(this);return d_(this.hE,"PlayReady",n)},n}(S_),x_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this)._E("https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx"),e}$(n,t);var i=n.prototype;return i.AE=function(n){return(de(Hu(new p(n)),"<?xml")?A_.wS:A_.Kh)===A_.Kh?A.resolve(w_(n)):A.resolve(t.prototype.AE.call(this,new p(n)))},i.SE=function(){return g_(t.prototype.SE.call(this),this.uS,this.hE)},W(n,[{key:"uS",get:function(){return y_(this.hE)}}]),n}(S_);!function(t){t[t.wS=0]="wS",t[t.Kh=1]="Kh"}(A_||(A_={}));var P_,L_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).yS=void 0,e}$(n,t);var i=n.prototype;return i.SE=function(){var n=t.prototype.SE.call(this);return this.yS&&n.set("Ticket",this.yS),n.set("Content-Type","text/xml"),n},i.NE=function(){var n=A.coroutine(qr.mark(function n(i,r){var e,u;return qr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e=this.hE,n.next=3,m_(e,"playready",this.tl,r);case 3:return u=n.sent,this._E(u.licenseServerUrl),this.yS=u.ticket,n.abrupt("return",t.prototype.NE.call(this,i,r));case 7:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),n}(S_),F_=function(t){function i(){return t.apply(this,arguments)||this}return $(i,t),i.prototype.SE=function(){if(!Jg(this.hE))throw new yl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.SE.call(this);return i.set("X-AxDRM-Message",this.hE.token),i},i}(S_);!function(t){t.Ff="application/json",t.gS="application/x-www-form-urlencoded",t._S="application/octet-stream",t.uu="text/plain;charset=UTF-8"}(P_||(P_={}));var M_=function(t){function n(n,i,r,e,u){var o;return(o=t.call(this,n.Qc,i,r,e,u)||this).pS="",o.mS=void 0,o.kS=void 0,o.kS=n.bS,o}$(n,t);var i=n.prototype;return i.TS=function(){return this.dE.certificateURL||this.mS},i.ES=function(t){this.mS=t},i.NE=function(t){return A.resolve(this.SS(t,this.pS))},i.SS=function(t,n){return"spc="+encodeURIComponent(fu(t))+"&assetId="+encodeURIComponent(n)},i.yE=function(t){return t.fairplay||{}},i.RS=function(t){var n=t.indexOf("?");if(n>=0)return A.resolve(t.substr(n+1));var i=t.split("/");return A.resolve(i[i.length-1])},i.kE=function(){var t=A.coroutine(qr.mark(function t(n){var i,r,e,u;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=null!=(i=this.kS)?i:Xu(new p(n)),t.next=3,this.RS(r);case 3:return e=t.sent,this.pS=e,(u={}).fairplay={Aa:e},t.abrupt("return",u);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.SE=function(){var n=t.prototype.SE.call(this);return n.set("Content-Type",this.IS),n},i.LE=function(){var t=A.coroutine(qr.mark(function t(n,i){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.xE){t.next=2;break}return t.abrupt("return",this.xE);case 2:return t.next=4,this.CS(i);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.FE=function(n,i){return t.prototype.DE.call(this,n,Nf.Iv,i)},i.AS=function(t){var n=this.TS(),i=this.SE(),r={mv:n,wv:ts.Lf,lv:i,Mv:Af.GET,qv:!1,iv:null,Bv:0,Us:t,vs:Df.Sv,Uv:Nf.Cv};return new Pf(r)},i.CS=function(){var t=A.coroutine(qr.mark(function t(n){var i,r,e;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.AS(n),t.next=3,this.tl._v(i);case 3:return r=t.sent,t.next=6,r.Zh();case 6:return e=t.sent,t.abrupt("return",new p(e));case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.AE=function(t){var n;if("string"==typeof t){var i=t.trim();"<ckc>"===i.substr(0,5)&&"</ckc>"===i.substr(-6)&&(i=i.slice(5,-6)),n=cu(i)}else n=new p(t);return A.resolve(n)},i.RE=function(n,i){var r=t.prototype.RE.call(this,n,i);return de(r,"skd:")&&(r=r.substr("skd:".length)),r},W(n,[{key:"PE",get:function(){return!0}},{key:"IS",get:function(){return P_.gS}}]),n}(bg),B_=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,ts.Lf)||this}$(n,t);var i=n.prototype;return i.RS=function(t){var n=t.split("://",1);if("skd"!==n[0].slice(-3).toLowerCase())return A.resolve("");var i=(n=t.split(";",2)).length>1?n[1]:"";return A.resolve(i)},i.NE=function(){var t=A.coroutine(qr.mark(function t(n){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.AE=function(t){return A.resolve(new p(t))},i.RE=function(n,i){var r=n||{};return r.p1=tn(),t.prototype.RE.call(this,r,i)},W(n,[{key:"IS",get:function(){return P_._S}}]),n}(M_),U_=function(t){function i(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,ts.Lf)||this)._E("https://fairplay-license.drm.technology/license"),u.ES("https://fairplay-license.drm.technology/certificate"),u}$(i,t);var r=i.prototype;return r.SS=function(t,n){var i={token:this.uS,contentId:n,payload:fu(t)};return JSON.stringify(i)},r.AE=function(t){return A.resolve(new p(t))},r.SE=function(){var n=t.prototype.SE.call(this);return n.set("x-vudrm-token",this.uS),n},W(i,[{key:"IS",get:function(){return P_.Ff}},{key:"uS",get:function(){if(!Yg(this.hE))throw new yl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Token is required for FairPlay VuDrm.");return this.hE.token}}]),i}(M_),V_="Verimatrix Fairplay license response incorrectly formatted. Invalid json.",q_="Verimatrix Fairplay license response incorrectly formatted. Ckc not found.",H_=function(t){function i(n,i,r,e){return t.call(this,n,i,r,e,ts.Lf)||this}return $(i,t),i.prototype.AE=function(i){var r=function(t){var i;try{i=JSON.parse(t).ckc}catch(t){throw new yl(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,V_)}if(!i)throw new yl(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,q_);return i}(Hu(new DataView(i)));return t.prototype.AE.call(this,r)},i}(M_);var j_=function(t){function i(n,i,r,e){return t.call(this,n,i,r,e,ts.Ff)||this}$(i,t);var r=i.prototype;return r.NE=function(){var t=A.coroutine(qr.mark(function t(i){var r,e;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.hE){t.next=3;break}throw new yl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Fairplay DRM configuration.");case 3:return e=fu(i),t.abrupt("return",e_(r,e,Ug.as));case 5:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.AE=function(t){try{var i;if(ft(t)){var r=t.trim();i=JSON.parse(r)}else i=t;if(i.license){var e=wu(i.license);return A.resolve(new p(e))}return A.reject(new yl(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Titanium Fairplay license server"))}catch(t){return A.reject(new yl(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Fairplay license server"))}},r.EE=function(t,n,i){return u_(t,n,i)},W(i,[{key:"IS",get:function(){return P_.Ff}}]),i}(M_),W_=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,ts.Lf)||this)._E("https://emeademo.dev.ott.irdeto.com/streaming/getckc"),u.ES("https://emeademo.dev.ott.irdeto.com/streaming/getcertificate"),u}$(n,t);var i=n.prototype;return i.TS=function(){var n=t.prototype.TS.call(this);if(!n)return n;var i=N.Vo(n),r=this.hE;return Wg(r)&&Mf(i,{accountId:r.accountId,applicationId:r.applicationId||""}),i.href},i.RS=function(n){return Wg(this.hE)?A.resolve(this.hE.contentId):t.prototype.RS.call(this,n)},i.NE=function(){var t=A.coroutine(qr.mark(function t(n){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.AE=function(t){return A.resolve(new p(t))},i.RE=function(n,i){var r=n;return Wg(this.hE)&&(r=function(t,n){return Hr({},f_(t,n),{KeyId:t.keyId})}(this.hE,r)),t.prototype.RE.call(this,r,i)},W(n,[{key:"IS",get:function(){return P_._S}}]),n}(M_),z_=function(t){function i(i,r,e,u){var o;if(o=t.call(this,i,r,e,u,ts.uu)||this,!jg(r))throw new yl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Conax configuration");return o._E("https://connect.conax.com:8097/license"),o}$(i,t);var r=i.prototype;return r.SE=function(){var n=t.prototype.SE.call(this);return d_(this.hE,"FairPlay",n)},r.CS=function(){var t=A.coroutine(qr.mark(function t(n){var i,r,e,u;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.TS(),r={mv:i,wv:ts.Lf,lv:{},Mv:Af.GET,qv:!1,iv:null,Bv:0,Us:n,vs:Df.Sv,Uv:Nf.Cv},t.next=4,this.tl._v(r);case 4:return e=t.sent,t.next=7,e.Zh();case 7:return u=t.sent,t.abrupt("return",new p(u));case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.NE=function(){var t=A.coroutine(qr.mark(function t(n){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.RS=function(t){var n,i=t.indexOf("?");return 0===t.indexOf("skd://")?(n=i>=0?t.substring("skd://".length,i):t.substring("skd://".length),A.resolve(Hu(cu(n)))):A.resolve("unknown")},r.AE=function(t){try{var n=JSON.parse(t);return A.resolve(new p(wu(n.CkcMessage)))}catch(t){return A.reject("CFLRW-66")}},i}(M_),$_=function(t){function i(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,ts.uu)||this)._E(Fg[Jr.as]),u}$(i,t);var r=i.prototype;return r.RS=function(t){return de(t,"skd://")?A.resolve(t.substring("skd://".length,40)):A.reject(new yl(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error while determining the KeyOS Content ID."))},r.SS=function(t,n){return"spc="+fu(t)+"&assetId="+n},i}(M_),X_=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,ts.uu)||this)._E("https://lic.drmtoday.com/license-server-fairplay/"),u}$(n,t);var i=n.prototype;return i.SS=function(t,n){var i="spc="+encodeURIComponent(fu(t))+"&"+encodeURI(n);return"persistent"===this.dE.licenseType?i+"&offline=true":i},i.SE=function(){return g_(t.prototype.SE.call(this),this.uS,this.hE)},W(n,[{key:"uS",get:function(){return y_(this.hE)}}]),n}(M_),G_=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,ts.Lf)||this}$(n,t);var i=n.prototype;return i.RS=function(t){var n=t;return de(n,"skd:")&&(n="http:"+n.substring(4)),de(n,"http:")||de(n,"https:")?A.resolve(N.Vo(n).hostname):A.reject(new v("Could not parse ExpressPlay FairPlay content ID."))},i.NE=function(){var t=A.coroutine(qr.mark(function t(n){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.AE=function(t){return A.resolve(new p(t))},W(n,[{key:"IS",get:function(){return P_._S}}]),n}(M_),Y_=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,ts.uu)||this}return $(n,t),n.prototype.SE=function(){var n=t.prototype.SE.call(this),i=this.hE.token;return n.set("Authorization","Bearer "+i),n},n}(M_),K_=function(t){function n(n,i,r,e){var u;if(u=t.call(this,n,i,r,e,ts.Ff)||this,!Kg(i))throw new v("Invalid Xstream DRM configuration");return u}$(n,t);var i=n.prototype;return i.CS=function(){var t=A.coroutine(qr.mark(function t(n){var i,r,e,u,o;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.TS(),r=this.SE(),e={mv:i,wv:ts.Ff,lv:r,Mv:Af.POST,Us:n,vs:Df.Sv,Uv:Nf.Cv},t.next=5,this.tl._v(e);case 5:return u=t.sent,t.next=8,u.Kh();case 8:return o=t.sent,t.abrupt("return",new p(cu(o.certificate)));case 10:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.FE=function(){var t=A.coroutine(qr.mark(function t(n,i,r){var e,u,o,s,c,a,f;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===r&&(r=ts.uu),e=fu(n),u=this.hE,t.next=5,m_(u,"fairplay",this.tl,i);case 5:return o=t.sent,s=ju(JSON.stringify({spc:e,ticket:o.ticket})),c={mv:this.pE(),wv:ts.Ff,lv:this.SE(),Mv:Af.POST,iv:s,Bv:0,Us:i,vs:Df.Sv,Uv:Nf.Iv},t.next=10,this.tl._v(c);case 10:return a=t.sent,t.next=13,a.Kh();case 13:return f=t.sent,t.abrupt("return",cu(f.licence));case 15:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),W(n,[{key:"IS",get:function(){return P_.Ff}}]),n}(M_),J_=function(t){function i(n,i,r,e){return t.call(this,n,i,r,e,ts.uu)||this}$(i,t);var r=i.prototype;return r.SS=function(t,n){return fu(t)},r.AE=function(i){if(0===i.length)throw new yl(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Vimond license request error.");return t.prototype.AE.call(this,i)},r.SE=function(){var n=t.prototype.SE.call(this);return n.set("Content-Type","text/plain"),n},i}(M_),Q_=function(t){function i(n,i,r,e){return t.call(this,n,i,r,e,ts.Lf)||this}$(i,t);var r=i.prototype;return r.SS=function(t,n){return t},r.AE=function(t){return A.resolve(new p(t))},r.SE=function(){if(!Jg(this.hE))throw new yl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.SE.call(this);return i.set("X-AxDRM-Message",this.hE.token),i},W(i,[{key:"IS",get:function(){return P_.Ff}}]),i}(M_),Z_=function(t){function i(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,ts.Ff)||this).DS=void 0,u}$(i,t);var r=i.prototype;return r.SS=function(t,n){var i={spc:fu(t)};return JSON.stringify(i)},r.RS=function(t){var i=N.Vo(t);return this.DS=t,i.searchParams.has("b")?A.resolve(i.searchParams.get("b")):A.reject(new yl(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error during license server request: Could not extract content id"))},r.RE=function(n,i){var r=this.pE();return!r&&this.DS&&(r=this.DS),r&&(r=r.replace("skd://","https://")),t.prototype.RE.call(this,n,i||r)},r.AE=function(){var t=A.coroutine(qr.mark(function t(i){var r;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(r=ft(i)?JSON.parse(i.trim()):i).ckc){t.next=4;break}return t.abrupt("return",cu(r.ckc));case 4:t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(0),new yl(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Uplynk Fairplay license server");case 9:throw new yl(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Uplynk Fairplay license server");case 10:case"end":return t.stop()}},t,null,[[0,6]])}));return function(n){return t.apply(this,arguments)}}(),W(i,[{key:"IS",get:function(){return P_.uu}}]),i}(M_),tp=function(){function t(t,n){this.NS=t,this.OS=n}var n=t.prototype;return n.xS=function(t){return this.NS(t)},n.PS=function(t,n){throw new d(n+" must be "+this.OS+". (Received: "+t+")")},t}(),np=new tp(dt,"a number"),ip=new tp(ft,"a string"),rp=new tp(ht,"a boolean");var ep,up=(ep={responseCode:np,isException:rp,description:ip,title:ip,correlationId:ip},{xS:function(t){if(!ct(t))return!1;for(var n=0,i=l.keys(ep);n<i.length;n++){var r=i[n];if(!ep[r].xS(t[r]))return!1}return!0},PS:function(t,n){if(!ct(t))throw new d(n+" must be an object.");for(var i=0,r=l.keys(ep);i<r.length;i++){var e=r[i],u=ep[e];if(!u.xS(t[e]))return u.PS(t[e],n+"."+e)}throw new d}});function op(t,n,i,r,e){return sp.apply(this,arguments)}function sp(){return(sp=A.coroutine(qr.mark(function t(n,i,r,e,u){var o;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=cp(n,i,r,u),t.next=3,ap(o,e);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t)}))).apply(this,arguments)}function cp(t,n,i,r){var e={token:n.token,account:n.accountId,form:"json"},u=decodeURIComponent(function(t,n){var i=N.Vo(t);return Mf(i,n),i.toString()}(i,e)),o=new ns({});o.append("Content-Type","application/json");var s=fu(t),c={getFairplayLicense:{releasePid:n.releasePid,spcMessage:s}};return{mv:u,wv:ts.uu,lv:o,Mv:Af.POST,iv:JSON.stringify(c),Us:r,vs:Df.Sv,Uv:Nf.Iv}}function ap(t,n){return fp.apply(this,arguments)}function fp(){return(fp=A.coroutine(qr.mark(function t(i,r){var e,u;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r._v(i);case 2:return e=t.sent,t.next=5,e.Kh();case 5:if(u=t.sent,!up.xS(u)){t.next=8;break}throw new yl(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,u.description,void 0,i.mv,u.responseCode);case 8:return t.abrupt("return",cu(u.getFairplayLicenseResponse.ckcResponse));case 9:case"end":return t.stop()}},t)}))).apply(this,arguments)}var hp=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,ts.Lf)||this).LS=void 0,u.LS=i,u}$(n,t);var i=n.prototype;return i.RS=function(n){var i=n.replace("FairPlay",this.LS.releasePid);return t.prototype.RS.call(this,i)},i.FE=function(){var t=A.coroutine(qr.mark(function t(n,i){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,op(n,this.LS,this.pE(),this.tl,i);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n}(M_),vp=function(t){function i(n,i,r){return t.call(this,fe,n,i,r,ts.Lf)||this}$(i,t);var r=i.prototype;return r.yE=function(t){return t.clearkey||{}},r.NE=function(){var t=A.coroutine(qr.mark(function t(n,i){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Eg(n,this.dE));case 1:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.bE=function(){var i=A.coroutine(qr.mark(function i(r,e,u,o){var s,c;return qr.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(s=this.dE,!this.pE()){i.next=5;break}return i.abrupt("return",t.prototype.bE.call(this,r,this.wE,u,o));case 5:if(!s.keys||!s.keys.length){i.next=10;break}return c={keys:s.keys.map(function(t){var n=t;return n||(n={}),{kty:"oct",kid:n.id,k:n.value}})},i.abrupt("return",ju(JSON.stringify(c)).buffer);case 10:throw new yl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The clearkey license has not been configured correctly.");case 11:case"end":return i.stop()}},i,this)}));return function(t,n,r,e){return i.apply(this,arguments)}}(),r.LE=function(t,n){return A.resolve(new p(0))},r.FE=function(n,i){return t.prototype.DE.call(this,n,Nf.Ov,i)},i}(bg),dp=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n.prototype.NE=function(){var t=A.coroutine(qr.mark(function t(n,i){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Eg(n,this.dE));case 1:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n}(Ig),lp={url:"",method:"GET",headers:{},body:null,useCredentials:!1};function wp(t,n,i){return yp.apply(this,arguments)}function yp(){return(yp=A.coroutine(qr.mark(function t(n,i,r){var e,u,o;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=Dp(i),(u=n.onCertificateRequest)&&"function"==typeof u){t.next=5;break}return t.abrupt("return",A.resolve(i));case 5:return t.next=8,Fe(A.resolve(u.call(n,e)),r);case 8:if(!Qu(o=t.sent)){t.next=11;break}return t.abrupt("return",Zu(o));case 11:return t.abrupt("return",Ap(Hr({},lp,o)));case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function gp(t,n,i,r,e){return _p.apply(this,arguments)}function _p(){return(_p=A.coroutine(qr.mark(function t(n,i,r,e,u){var o,s,c;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=n.onCertificateResponse,s=Cp(i,r,e),o&&"function"==typeof o){t.next=5;break}return t.abrupt("return",A.resolve(i));case 5:return t.next=8,Fe(A.resolve(o.call(n,s)),u);case 8:return c=t.sent,t.abrupt("return",Zu(c));case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function pp(t,n,i,r){return mp.apply(this,arguments)}function mp(){return(mp=A.coroutine(qr.mark(function t(n,i,r,e){var u;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Tp(n,i,r,e);case 2:if(!((u=t.sent)instanceof ArrayBuffer)){t.next=5;break}return t.abrupt("return",u);case 5:return t.abrupt("return",Ap(u));case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function kp(t,n,i,r,e,u){return bp.apply(this,arguments)}function bp(){return(bp=A.coroutine(qr.mark(function t(n,i,r,e,u,o){var s,c;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=Ip(r,u),t.next=3,Sp(n,new p(i),s,e,o);case 3:return c=t.sent,t.abrupt("return",Zu(c).buffer);case 5:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Tp(t,n,i,r){return Ep.apply(this,arguments)}function Ep(){return(Ep=A.coroutine(qr.mark(function t(n,i,r,e){var u,o,s;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u=null==n?void 0:n.onLicenseRequest,o=Ip(i,r),u&&"function"==typeof u){t.next=5;break}return t.abrupt("return",A.resolve(o));case 5:return t.next=8,Fe(A.resolve(u.call(n,o)),e);case 8:if(!Qu(s=t.sent)){t.next=11;break}return t.abrupt("return",Zu(s).buffer);case 11:return t.abrupt("return",Hr({fairplaySkdUrl:void 0},lp,s));case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Sp(t,n,i,r,e){return Rp.apply(this,arguments)}function Rp(){return(Rp=A.coroutine(qr.mark(function t(n,i,r,e,u){var o,s,c;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=null==n?void 0:n.onLicenseResponse,s=Cp(i,r,e),o&&"function"==typeof o){t.next=5;break}return t.abrupt("return",A.resolve(i));case 5:return t.next=8,Fe(A.resolve(o.call(n,s)),u);case 8:return c=t.sent,t.abrupt("return",Zu(c));case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Ip(t,n){return Hr({},Dp(t),{fairplaySkdUrl:n})}function Cp(t,n,i){return{url:i.pv,status:i.dv,statusText:i.yv,headers:i.lv.Bf(),body:t,request:n}}function Ap(t){return new Pf({mv:t.url,Mv:t.method,lv:t.headers,iv:t.body,qv:t.useCredentials})}function Dp(t){var n;return{url:t.mv,body:null!=(n=Np(t.iv))?n:null,headers:t.lv.Bf(),method:t.Mv,useCredentials:t.qv}}function Np(t){if(t)return"string"==typeof t?ju(t):t instanceof ArrayBuffer?new p(t):vu(t)?Ju(t):void 0}var Op,xp=function(t){function i(n,i,r,e){var u;return(u=t.call(this,n,i,r)||this).FS=void 0,u.FS=e,u}$(i,t);var r=i.prototype;return r.LE=function(t,n){return A.resolve(t)},r.FE=function(){var t=A.coroutine(qr.mark(function t(i,r){var e,u,o,s,c;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.cS(no(i).buffer);case 2:return e=t.sent,u=this.TE(e,ts.Lf,Nf.Nv,r),t.next=6,pp(this.FS,u,void 0,r);case 6:if(!((o=t.sent)instanceof ArrayBuffer)){t.next=10;break}return t.abrupt("return",new p(o));case 10:if(""!==o.mv){t.next=12;break}throw new yl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 12:return t.prev=12,t.next=15,this.tl._v(o);case 15:return s=t.sent,t.next=18,s.Zh(r);case 18:return c=t.sent,t.t0=p,t.next=22,kp(this.FS,c,u,s,void 0,r);case 22:return t.t1=t.sent,t.abrupt("return",new t.t0(t.t1));case 26:throw t.prev=26,t.t2=t.catch(12),Pe(t.t2),new yl(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during PlayReady license request",t.t2);case 30:case"end":return t.stop()}},t,this,[[12,26]])}));return function(n,i){return t.apply(this,arguments)}}(),i}(S_),Pp=function(t){function i(n,i,r,e){var u;return(u=t.call(this,n,i,r,ts.Lf)||this).FS=void 0,u.FS=e,u}$(i,t);var r=i.prototype;return r.LE=function(){var t=A.coroutine(qr.mark(function t(i,r){var e,u,o,s,c;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.xE){t.next=2;break}return t.abrupt("return",this.xE);case 2:return e=this.TE(i,ts.Lf,Nf.Dv,r),t.next=5,wp(this.FS,e,r);case 5:if(!((u=t.sent)instanceof p)){t.next=9;break}return t.abrupt("return",u);case 9:if(""!==u.mv){t.next=11;break}throw new yl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The certificate request URL has not been correctly configured.");case 11:return t.prev=11,t.next=14,this.tl._v(u);case 14:return o=t.sent,t.next=17,o.Zh(r);case 17:s=t.sent,t.next=24;break;case 20:throw t.prev=20,t.t0=t.catch(11),Pe(t.t0),new yl(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during Widevine certificate request",t.t0);case 24:return c=Ip(e,void 0),t.next=27,gp(this.FS,new p(s),c,o,r);case 27:return t.abrupt("return",t.sent);case 28:case"end":return t.stop()}},t,this,[[11,20]])}));return function(n,i){return t.apply(this,arguments)}}(),r.FE=function(){var t=A.coroutine(qr.mark(function t(i,r){var e,u,o,s;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.TE(i,ts.Lf,Nf.Av,r),t.next=3,pp(this.FS,e,void 0,r);case 3:if(!((u=t.sent)instanceof ArrayBuffer)){t.next=7;break}return t.abrupt("return",new p(u));case 7:if(""!==u.mv){t.next=9;break}throw new yl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return t.prev=9,t.next=12,this.tl._v(u);case 12:return o=t.sent,t.next=15,o.Zh(r);case 15:s=t.sent,t.next=22;break;case 18:throw t.prev=18,t.t0=t.catch(9),Pe(t.t0),new yl(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Widevine license request",t.t0);case 22:return t.t1=p,t.next=25,kp(this.FS,s,e,o,void 0,r);case 25:return t.t2=t.sent,t.abrupt("return",new t.t1(t.t2));case 27:case"end":return t.stop()}},t,this,[[9,18]])}));return function(n,i){return t.apply(this,arguments)}}(),i}(dp),Lp=function(t){function i(n,i,r,e,u){var o;return(o=t.call(this,n,i,r,e,ts.Lf)||this).FS=void 0,o.MS=void 0,o.FS=u,o}$(i,t);var r=i.prototype;return r.LE=function(){var t=A.coroutine(qr.mark(function t(i,r){var e,u,o,s,c;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.xE){t.next=2;break}return t.abrupt("return",this.xE);case 2:return e=this.AS(r),t.next=5,wp(this.FS,e,r);case 5:if(u=t.sent,!vu(u)){t.next=8;break}return t.abrupt("return",u);case 8:return t.prev=8,t.next=11,this.tl._v(u);case 11:return o=t.sent,t.next=14,o.Zh();case 14:return s=t.sent,c=Ip(e,void 0),t.next=18,gp(this.FS,new p(s),c,o,r);case 18:return t.abrupt("return",t.sent);case 21:throw t.prev=21,t.t0=t.catch(8),Pe(t.t0),new yl(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during FairPlay certificate request",t.t0);case 25:case"end":return t.stop()}},t,this,[[8,21]])}));return function(n,i){return t.apply(this,arguments)}}(),r.FE=function(){var t=A.coroutine(qr.mark(function t(i,r){var e,u,o,s;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.TE(i,ts.Lf,Nf.Iv,r),t.next=3,pp(this.FS,e,this.MS,r);case 3:if(!((u=t.sent)instanceof ArrayBuffer)){t.next=7;break}return t.abrupt("return",new p(u));case 7:if(""!==u.mv){t.next=9;break}throw new yl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return t.prev=9,t.next=12,this.tl._v(u);case 12:return o=t.sent,t.next=15,o.Zh(r);case 15:return s=t.sent,t.t0=p,t.next=19,kp(this.FS,s,e,o,this.MS,r);case 19:return t.t1=t.sent,t.abrupt("return",new t.t0(t.t1));case 23:throw t.prev=23,t.t2=t.catch(9),Pe(t.t2),new yl(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during FairPlay license request",t.t2);case 27:case"end":return t.stop()}},t,this,[[9,23]])}));return function(n,i){return t.apply(this,arguments)}}(),r.RS=function(n){var i;return this.MS=n,null!=(i=this.FS)&&i.extractFairplayContentId?A.resolve(this.FS.extractFairplayContentId(n)):t.prototype.RS.call(this,n)},i}(M_),Fp=function(){function t(){}var n=t.prototype;return n.BS=function(t,n,i,r){switch(t.Qc.vs){case Jr.cs:return this.US(n,i,r);case Jr.ss:return this.VS(n,i,r);case Jr.as:return this.qS(t,n,i,r);case Jr.fs:default:return this.HS(n,i,r)}},n.US=function(t,n,i){var r,e=(r=t).integration===kg&&ft(r.customIntegrationId)?t.customIntegrationId:t.integration;if(e&&Pg.QE.YE(e,re)){var u=Pg.QE.JE(e,re,t);return new Pp(t,n,i,u)}switch(e){case og:return new c_(t,n,i);case fg:return new a_(t,n,i);case ag:return new h_(t,n,i);case sg:return new l_(t,n,i);case dg:return new __(t,n,i);case wg:return new p_(t,n,i);case yg:return new b_(t,n,i);case _g:return new T_(t,n,i);case vg:default:return new dp(t,n,i,ts.Lf)}},n.VS=function(t,n,i){var r=t.integration;if(r&&Pg.QE.YE(r,ne)){var e=Pg.QE.JE(r,ne,t);return new xp(t,n,i,e)}switch(r){case og:return new I_(t,n,i);case fg:return new D_(t,n,i);case ag:return new N_(t,n,i);case sg:return new O_(t,n,i);case dg:return new x_(t,n,i);case yg:return new L_(t,n,i);case _g:return new F_(t,n,i);case vg:default:return new S_(t,n,i)}},n.qS=function(t,n,i,r){var e=n.integration;if(e&&Pg.QE.YE(e,ue)){var u=Pg.QE.JE(e,ue,n);return new Lp(t,n,i,r,u)}switch(e){case cg:return new B_(t,n,i,r);case fg:return new U_(t,n,i,r);case hg:return new H_(t,n,i,r);case og:return new j_(t,n,i,r);case ag:return new W_(t,n,i,r);case sg:return new z_(t,n,i,r);case vg:return new $_(t,n,i,r);case dg:return new X_(t,n,i,r);case lg:return new G_(t,n,i,r);case wg:return new Y_(t,n,i,r);case yg:return new K_(t,n,i,r);case gg:return new J_(t,n,i,r);case _g:return new Q_(t,n,i,r);case pg:return new Z_(t,n,i,r);case mg:return new hp(t,n,i,r);default:return new M_(t,n,i,r,ts.uu)}},n.HS=function(t,n,i){return new vp(t,n,i)},n.jS=function(t){return t.vs===Jr.ss||t.vs===Jr.cs||t.vs===Jr.as||t.vs===Jr.fs},n.ca=function(t,n){var i;if(t.vs!==Jr.ss)return!1;if(ut(null==(i=n.playready)?void 0:i.customData))return!0;var r=n.integration;return(!r||!Pg.QE.YE(r,ue))&&(r===og&&new R_(n).ca)},n.iS=function(t,n){if(t.vs===Jr.cs){var i=n.integration;if(!i||!Pg.QE.YE(i,ue))return i===og?c_.iS():void 0}},t}();!function(t){t[t.WS=0]="WS",t[t.zS=1]="zS",t[t.$S=2]="$S",t[t.XS=3]="XS",t[t.Rw=4]="Rw",t[t.GS=5]="GS",t[t.Ow=6]="Ow",t[t.YS=7]="YS",t[t.KS=8]="KS"}(Op||(Op={}));var Mp,Bp=function(){function t(){}return t.prototype.JS=function(t){},W(t,[{key:"QS",get:function(){return 0}},{key:"ZS",get:function(){return 0}}]),t}(),Up=function(){function t(t,n){void 0===n&&(n=new Fp),this.UT=void 0,this.tR=void 0,this.fS=void 0,this.UT=t,this.tR=n}var n=t.prototype;return n.nR=function(t){this.fS=t},n.iS=function(t){var n=this.fS;if(void 0!==n)return this.tR.iS(t,n)},n.ca=function(t){var n=this.fS;return void 0!==n&&this.tR.ca(t,n)},n.iR=function(t){var n={Qc:t.Qc,rR:t.rR||[],bS:t.bS},i=this.tR.BS(n,this.fS||{},t.vE,this.UT);return new Vp(i)},t}(),Vp=function(){function t(t){this.eR=void 0,this.eR=t}var n=t.prototype;return n.mE=function(t){return this.eR.mE(t)},n.kE=function(t,n,i){return this.eR.kE(n,i)},n.PE=function(){return this.eR.PE||void 0!==this.eR.xE},n.LE=function(t,n){return this.eR.LE(t,n)},n.FE=function(t,n,i){return n&&this.eR._E(n),this.eR.FE(t,i)},n.Ds=function(){this.eR.sr()},t}(),qp=function(t){function n(n){var i;(i=t.call(this)||this).uR=[],i.oR=function(t){i.Pl(t.fl)},i.sR=function(t){var n=t.fl;i.cR(n)||i.Ll(n)};for(var r=0;r<n.length;r++){var e=n[r];i.aR(e)}return i}$(n,t);var i=n.prototype;return i.aR=function(t){this.uR.push(t);for(var n=0,i=t.Bl;n<i.length;n++){var r=i[n];this.Pl(r)}this.fR(t)},i.hR=function(t){Se(this.uR,t),this.vR(t);for(var n=0,i=t.Bl;n<i.length;n++){var r=i[n];this.cR(r)||this.Ll(r)}},i.cR=function(t){for(var n=0,i=this.uR;n<i.length;n++){if(i[n].Fl(t))return!0}return!1},i.fR=function(t){t.zs(mv.nl,this.oR),t.zs(mv.ul,this.sR)},i.vR=function(t){t.Ys(mv.nl,this.oR),t.Ys(mv.ul,this.sR)},i.sr=function(){for(;this.uR.length>0;)this.hR(this.uR[0]);t.prototype.sr.call(this)},i.al=function(){return ud(this)},n}(Nv);function Hp(){return Mp||(Mp=R&&R.document&&R.document.createElement("video")),Mp}var jp=function(t){function i(i,r,e,u,o,s,c){var a;return void 0===s&&(s=new Fp),void 0===c&&(c=Xo()),(a=t.call(this)||this).dR=void 0,a.lR=void 0,a.wR=void 0,a.gy=void 0,a._y=void 0,a.py=void 0,a.yR=void 0,a.gR=void 0,a._R=void 0,a.pR=void 0,a.mR=void 0,a.UT=void 0,a.ps=void 0,a.kR=void 0,a.bR=void 0,a.TR=new Bp,a.ER=function(t){var i=t.uc,r=i.code,e=new xo(function(t){switch(t){case dl.ABORTED:return n.ErrorCode.MEDIA_ABORTED;case dl.NETWORK:return n.ErrorCode.NETWORK_ERROR;case dl.DECODE:return n.ErrorCode.MEDIA_DECODE_ERROR;case dl.SRC_NOT_SUPPORTED:return n.ErrorCode.SOURCE_NOT_SUPPORTED;case dl.ENCRYPTED:return n.ErrorCode.CONTENT_PROTECTION_ERROR;case dl.LICENSE_INVALID:return n.ErrorCode.LICENSE_ERROR;case dl.ADVERTISEMENT_ERROR:return n.ErrorCode.AD_ERROR}}(r),"Something went wrong during native playback.",i),u=new gl(r,e.message,i.message);a.SR(e,u)},a.RR=function(){a.Ws(new jd(a.Ww,a.$y))},a.IR=function(t){a.Yw||(a.bR=void 0),a.Ws(t)},a.CR=function(t){a.bR=void 0,a.Ws(t)},a.AR=function(){a.Ws(new Bl(a.Gy))},a.DR=function(){a.Zw>0&&a.Qw>0&&a.Ws(new $y)},a.NR=function(t){a.gy.Pl(new Dl(t.track))},a.OR=function(t){var n=zp(a.gy,t.track);n&&a.gy.Ll(n)},a.xR=function(){a.PR(a.gy)},a.LR=function(t){a._y.Pl(new Ml(t.track))},a.FR=function(t){var n=zp(a._y,t.track);n&&a._y.Ll(n)},a.MR=function(){a.PR(a._y)},a.UR=function(t){a.Ws(t),a.SR(t.errorObject,pl(t.errorObject))},a.dR=r,a.UT=e,a.ps=c,a.lR=a.dR.Zi(ml.Lv),a._R=a.lR.qR.preload,a.pR=new ug(a.lR,!0),a.pR.zs(Ud,a.js),a.kR=new Up(e,s),a.lR.HR=a.kR,a.jR(),a.gy=new kl,a._y=new kl,a.WR(),a.mR=new Uy(a.lR,a.UT),a.py=new qp([a.lR.Sy]),a.Ly(),a}$(i,t);var r=i.prototype;return r.Fy=function(){this.lR.Fy()},r.Ly=function(){this.lR.Ly()},r.Ay=function(){var t=A.coroutine(qr.mark(function t(n,i,r){var e;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return xe(r),e={vs:zy.XT,hw:n.src,nv:n.type,zR:this.$R(n),rg:this._R,XR:n.crossOrigin,GR:i.metadata&&i.metadata.title},this.kR.nR(n.contentProtection),t.next=5,this.lR.jc(e);case 5:this.wR=t.sent,xe(r),i.textTracks&&this.YR(i.textTracks),Wy(this.Sy);case 9:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),r.YR=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(this.lR.KR()&&it.Se&&tg&&!Oy(i.kind,i.label)&&this.JR(i)){var r,e=null!=(r=i.kind)?r:Sy.bm;this.lR.QR(i.src,e,i.label,i.srclang)}else{if(void 0===i.src)continue;this.mR.qT(i)}}},r.JR=function(t){return!t.format||"webvtt"===t.format},r.tr=function(){var t=A.coroutine(qr.mark(function t(){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.lR.tr();case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:if(this.ZR){t.next=12;break}return t.next=10,this.lR.Zs(Zo._f);case 10:t.next=7;break;case 12:case"end":return t.stop()}},t,this,[[0,5]])}));return function(){return t.apply(this,arguments)}}(),r.nr=function(){this.lR.nr()},r.Dy=function(){return void 0!==this.lR.qR.webkitShowPlaybackTargetPicker},r.Ny=function(){this.lR.qR.webkitShowPlaybackTargetPicker&&this.lR.qR.webkitShowPlaybackTargetPicker()},r.Oy=function(){this.lR.qR.webkitShowPlaybackTargetPicker&&this.lR.qR.webkitShowPlaybackTargetPicker()},r.My=function(){return this.lR.qR},r.By=function(){return this.lR.tI},r.Ml=function(){var t=A.coroutine(qr.mark(function t(){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.yR=void 0,this.gR=void 0,this.wR=void 0,t.next=5,this.mR.Ml();case 5:return this.lR.nI(),t.next=8,this.lR.Ml();case 8:this.pR.Ml(),this.rg=this._R,this.Ty.Ml(),this.Ey.Ml(),this.bR=void 0;case 13:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.sr=function(){var t=A.coroutine(qr.mark(function t(){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Ml();case 2:return this.Gs(),this.iI(),this.rI(),this.pR.sr(),this.lR.HR=void 0,t.next=9,this.dR.er(this.lR);case 9:return this.gy.sr(),this._y.sr(),this.py.sr(),t.next=14,this.mR.sr();case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.jR=function(){this.lR.zs(Zo.gf,this.js),this.lR.zs(Zo.yf,this.js),this.lR.zs(Zo.Df,this.RR),this.lR.zs(Zo._f,this.js),this.lR.zs(Zo.hf,this.js),this.lR.zs(Zo.Tf,this.js),this.lR.zs(Zo.bf,this.IR),this.lR.zs(Zo.cf,this.js),this.lR.zs(Zo.pf,this.js),this.lR.zs(Zo.Nf,this.js),this.lR.zs(Zo.uf,this.js),this.lR.zs(Zo.kf,this.DR),this.lR.zs(xd.jw,this.CR),this.lR.zs(td.iw,this.ER),this.lR.zs(Zo.if,this.js),this.lR.zs(Zo.nf,this.UR),this.lR.qR.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.AR)},r.iI=function(){this.lR.Ys(Zo.gf,this.js),this.lR.Ys(Zo.yf,this.js),this.lR.Ys(Zo.Df,this.RR),this.lR.Ys(Zo._f,this.js),this.lR.Ys(Zo.hf,this.js),this.lR.Ys(Zo.Tf,this.js),this.lR.Ys(Zo.bf,this.IR),this.lR.Ys(Zo.cf,this.js),this.lR.Ys(Zo.pf,this.js),this.lR.Ys(Zo.Nf,this.js),this.lR.Ys(Zo.uf,this.js),this.lR.Ys(Zo.kf,this.DR),this.lR.Ys(xd.jw,this.CR),this.lR.Ys(td.iw,this.ER),this.lR.Ys(Zo.if,this.js),this.lR.Ys(Zo.nf,this.UR),this.lR.qR.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.AR)},r.$R=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{Qc:ae,eI:[{initDataTypes:[ae.ls],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},r.WR=function(){var t=this.lR.qR.audioTracks,n=this.lR.qR.videoTracks;t&&(t.addEventListener("addtrack",this.NR),t.addEventListener("removetrack",this.OR),t.addEventListener("change",this.xR)),n&&(n.addEventListener("addtrack",this.LR),n.addEventListener("removetrack",this.FR),n.addEventListener("change",this.MR))},r.rI=function(){var t=this.lR.qR.audioTracks,n=this.lR.qR.videoTracks;t&&(t.removeEventListener("addtrack",this.NR),t.removeEventListener("removetrack",this.OR),t.removeEventListener("change",this.xR)),n&&(n.removeEventListener("addtrack",this.LR),n.removeEventListener("removetrack",this.FR),n.removeEventListener("change",this.MR))},r.PR=function(t){for(var n=0;n<t.Ul;n++){t.xl(n).dg()}},r.Wy=function(){this.lR.Wy()},r.SR=function(t,n){this.yR||(this.yR=n,this.gR=t,this.Ws(new Qd(t)))},W(i,[{key:"ZR",get:function(){var t=this.lR.zy,n=this.Ww;return t.uI(n,.01)}},{key:"Ty",get:function(){return this.gy}},{key:"zy",get:function(){return this.lR.zy.oI()}},{key:"$y",get:function(){return this.lR.$y},set:function(t){t&&this.lR.sI(t)}},{key:"Ww",get:function(){return void 0!==this.bR?this.bR:this.lR.Ww},set:function(t){this.Gy&&(this.bR=t),this.lR.mc(t)}},{key:"zw",get:function(){return this.lR.zw}},{key:"$w",get:function(){return this.lR.$w}},{key:"uc",get:function(){return this.yR}},{key:"Xw",get:function(){return this.gR}},{key:"Ry",get:function(){}},{key:"Gy",get:function(){return this.lR.Gy}},{key:"ay",get:function(){return Hr({},{Yy:0,Ky:0,Jy:0,Qy:0,Zy:0,tg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.lR.cI())}},{key:"Gw",get:function(){return this.lR.Gw},set:function(t){this.lR.Gw=t}},{key:"ng",get:function(){return!0}},{key:"Yw",get:function(){return this.lR.Yw}},{key:"Kw",get:function(){return this.lR.Kw},set:function(t){this.lR.Kw=t}},{key:"ig",get:function(){return this.lR.qR.played}},{key:"rg",get:function(){return this._R},set:function(t){this._R=t,this.wR&&(this.wR.rg=t)}},{key:"cw",get:function(){return this.lR.cw}},{key:"eg",get:function(){return this.lR.eg.oI()}},{key:"Jw",get:function(){return this.lR.Jw}},{key:"aI",get:function(){return this.lR.aI}},{key:"Sy",get:function(){return this.py}},{key:"Ey",get:function(){return this._y}},{key:"Qw",get:function(){return this.lR.Qw}},{key:"Zw",get:function(){return this.lR.Zw}},{key:"ty",get:function(){return this.lR.ty},set:function(t){this.lR.ty=t}},{key:"fI",get:function(){return this.TR}}]),i}(cd);var Wp=function(){function t(){this.hI=Op.KS}var n=t.prototype;return n.zE=function(t,n,i,r,e,u){return new jp(t,n,i,r,e)},n.vI=function(t,n){return function(t){return!t.type||!(!Hp().canPlayType||!Hp().canPlayType(t.type))}(t)},n.dI=function(){return!1},t}();function zp(t,n){for(var i=0,r=t.Bl;i<r.length;i++){var e=r[i];if(e.yg===n)return e}}var $p=function(){function t(){this.lI=new Wp,this.wI=[]}t.yI=function(){return this.tu};var n=t.prototype;return n.gI=function(t){this.wI.push(t)},n.zE=function(t,n,i,r,e,u){for(var o=this.lI.zE(t,n,i,r,e,u),s=0,c=this.wI;s<c.length;s++){o=(0,c[s])(o,i,r)}return o},n.vI=function(t,n){return this.lI.vI(t,n)},n.dI=function(){return!1},W(t,[{key:"hI",get:function(){return this.lI.hI}}]),t}();function Xp(t,n){return Gl(t.hI,n.hI)}$p.tu=new $p;var Gp=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this)._I=$p.yI(),n}$(n,t);var i=n.prototype;return i.pI=function(t){this._I=t},i.mI=function(){return this._I},i.kI=function(){var t=A.coroutine(qr.mark(function t(n,i){var r,e,u,o,s,c;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<n.length)){t.next=11;break}return e=n[r],t.next=5,this.bI(e,i);case 5:if(!(u=t.sent)){t.next=8;break}return t.abrupt("return",{TI:e,EI:u});case 8:r++,t.next=1;break;case 11:o=this._I,s=0;case 13:if(!(s<n.length)){t.next=20;break}if(c=n[s],!o.vI(c,i)){t.next=17;break}return t.abrupt("return",{TI:c,EI:o});case 17:s++,t.next=13;break;case 20:return t.abrupt("return",{TI:n[0],EI:o});case 21:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n}(function(){function t(){this.SI=[]}var n=t.prototype;return n.RI=function(t){this.SI.push(t),this.SI.sort(Xp)},n.bI=function(){var t=A.coroutine(qr.mark(function t(n,i){var r,e,u,o;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.SI;case 1:if(!(r<e.length)){t.next=17;break}if(u=e[r],!vt(o=u.vI(n,i))){t.next=10;break}return t.next=7,o;case 7:t.t0=t.sent,t.next=11;break;case 10:t.t0=Boolean(o);case 11:if(!t.t0){t.next=14;break}return t.abrupt("return",u);case 14:r++,t.next=1;break;case 17:return t.abrupt("return",void 0);case 18:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),t}());Gp.tu=new Gp;var Yp,Kp=function(){function t(t){var n,i;this.II=void 0,this.II=R&&R.document&&R.document.createElement("div"),n=this.II,(i=n.style).position="absolute",i.left="0",i.right="0",i.top="0",i.bottom="0",i.width="100%",i.height="100%",t.appendChild(this.II)}return t.prototype.sr=function(){mr(this.II)},t}();function Jp(t){switch(t){case Yp.CI:case"":return Yp.CI;case Yp.Em:return Yp.Em;case Yp.AI:default:return Yp.AI}}!function(t){t.KS="",t.AI="none",t.Em="metadata",t.CI="auto"}(Yp||(Yp={}));var Qp=[td.iw,Zo.sf,Zo.oc,Zo.Pf,Zo.Ja,Zo.af,Zo.lf,Zo.wf,Zo.Sf,Zo.If,xd.Bw,xd.Uw,xd.Vw,xd.qw,xd.Tl,xd.Hw,xd.jw,Zo.nf,Zo.if,Zo.uf,Zo.cf,Zo.hf,Zo.vf,Zo.gf,Zo._f,Zo.yf,Zo.pf,Zo.kf,Zo.Tf,Zo.bf,Zo.Df,Zo.Nf,Zo.mf,Zo.df,Zo.Ef],Zp=function(t){function n(n,i){var r;return(r=t.call(this)||this).DI=void 0,r.NI=void 0,r.OI=void 0,r.xI=void 0,r._R=Yp.AI,r.LI=void 0,r.FI=!0,r.gy=new nd,r._y=new nd,r.py=new sd,r.my=new ll,r.DI=n,r.OI=i,r.OI.rg=r.rg,r.MI(),r}$(n,t);var i=n.prototype;return i.nr=function(){this.OI.nr()},i.tr=function(){var t=this.OI.tr();vt(t)&&Ve(t)},i.Iy=function(){return this.Ay(void 0)},i.hr=function(){},i.Vy=function(t){return!1},i.MI=function(){this.gy.zl=this.OI.Ty,this._y.zl=this.OI.Ey,this.py.zl=this.OI.Sy,this.my.zl=this.OI.Ry,this.OI.zs(Qp,this.js)},i.BI=function(){this.OI.Ys(Qp,this.js),this.gy.zl=void 0,this._y.zl=void 0,this.py.zl=void 0,this.my.zl=void 0},i.Cy=function(){return this.LI},i.Ay=function(){var t=A.coroutine(qr.mark(function t(n,i){var r,e,u,o,s,c;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(xe(i),this.LI=n,n){t.next=4;break}return t.abrupt("return");case 4:if(!Id(r=n.sources.filter(Od))){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,this.DI.kI(r,n);case 9:if(e=t.sent,xe(i),u=e.TI,o=e.EI,s=this.By(),c=nl(this),this.NI===o&&!this.uc){t.next=25;break}return this.BI(),t.next=19,this.OI.sr();case 19:xe(i),this.NI=o,this.OI=this.UI(o),tm(this.OI,c),il(this,c,this),this.MI();case 25:return this.OI.rg=this.rg,this.FI?this.OI.Ly():this.OI.Fy(),t.next=29,this.OI.Ay(u,n,i);case 29:xe(i),this.VI(u),this.By()!==s&&this.Ws(new fd);case 32:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.VI=function(t){this.xI!==t&&(this.xI=t,this.Ws(new hd(t)))},i.Dy=function(){return this.OI.Dy()},i.Ny=function(){this.OI.Ny()},i.Oy=function(){this.OI.Oy()},i.By=function(){return this.OI.By()},i.Wy=function(){this.OI.Wy()},i.Ml=function(){var t=A.coroutine(qr.mark(function t(){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.LI=void 0,this.VI(void 0),t.next=4,this.OI.Ml();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.sr=function(){var t=A.coroutine(qr.mark(function t(){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Gs(),t.next=3,this.Ml();case 3:return t.next=5,this.OI.sr();case 5:this.gy.sr(),this._y.sr(),this.py.sr(),this.my.sr();case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Ly=function(){this.FI=!0,this.OI.Ly()},i.Fy=function(){this.FI=!1,this.OI.Fy()},W(n,[{key:"Ty",get:function(){return this.gy}},{key:"zy",get:function(){return this.OI.zy}},{key:"uc",get:function(){return this.OI.uc}},{key:"Xw",get:function(){return this.OI.Xw}},{key:"$y",get:function(){return this.OI.$y},set:function(t){this.OI.$y=t}},{key:"jy",get:function(){return this.xI}},{key:"Ww",get:function(){return this.OI.Ww},set:function(t){this.OI.Ww=t}},{key:"zw",get:function(){return this.OI.zw}},{key:"$w",get:function(){return this.OI.$w}},{key:"Ry",get:function(){return this.my}},{key:"Gy",get:function(){return this.OI.Gy}},{key:"ay",get:function(){return this.OI.ay}},{key:"Gw",get:function(){return this.OI.Gw},set:function(t){this.OI.Gw=t}},{key:"ng",get:function(){return this.OI.ng}},{key:"Yw",get:function(){return this.OI.Yw}},{key:"Kw",get:function(){return this.OI.Kw},set:function(t){this.OI.Kw=t}},{key:"ig",get:function(){return this.OI.ig}},{key:"rg",get:function(){return this._R},set:function(t){this._R=t,this.OI&&(this.OI.rg=this._R)}},{key:"cw",get:function(){return this.OI.cw}},{key:"eg",get:function(){return this.OI.eg}},{key:"Jw",get:function(){return this.OI.Jw}},{key:"Sy",get:function(){return this.py}},{key:"Qw",get:function(){return this.OI.Qw}},{key:"Ey",get:function(){return this._y}},{key:"Zw",get:function(){return this.OI.Zw}},{key:"ty",get:function(){return this.OI.ty},set:function(t){this.OI.ty=t}},{key:"fI",get:function(){return this.OI.fI}}]),n}($e);function tm(t,n){t.Gw!==n.Gw&&(t.Gw=n.Gw),t.ty!==n.ty&&(t.ty=n.ty),t.Kw!==n.Kw&&(t.Kw=n.Kw)}var nm,im=function(t){function n(n,i){var r;return(r=t.call(this)||this).Ul=void 0,r.qI=void 0,r.HI=void 0,r.Ul=n.length>>1,r.qI=n,r.HI=i||function(t){for(var n=new Array(2*t),i=0,r=0;i<t;i+=1,r+=2)n[r]=!0,n[r+1]=!1;return n}(r.Ul),r}$(n,t);var i=n.prototype;return i.jI=function(t){return this.qI[2*t]},i.WI=function(t){return this.HI[2*t]},i.zI=function(t){return this.qI[2*t+1]},i.$I=function(t){return this.HI[2*t+1]},W(n,[{key:"XI",get:function(){return this.qI.slice()}}]),n}(function(){function t(){}var n=t.prototype;return n.Fg=function(t,n){return 0===this.o_(t,n)},n.P_=function(t,n){return this.o_(t,n)>0},n.L_=function(t,n){return this.o_(t,n)>=0},n.h_=function(t,n){return this.o_(t,n)<0},n.a_=function(t,n){return this.o_(t,n)<=0},n.np=function(t,n){return this.h_(t,n)?t:n},n.tp=function(t,n){return this.P_(t,n)?t:n},n.GI=function(t,n,i){return i?this.a_(t,n):this.h_(t,n)},n.oI=function(){var t=this;return{get length(){return t.Ul},start:function(n){var i=0|n;return t.YI(i),t.KI(t.jI(i))},end:function(n){var i=0|n;return t.YI(i),t.KI(t.zI(i))}}},n.JI=function(){for(var t=new Array(2*this.Ul),n=new Array(2*this.Ul),i=0;i<this.Ul;i++)t[2*i]=this.jI(i),t[2*i+1]=this.zI(i),n[2*i]=!0,n[2*i+1]=!0;return this.QI(t,n)},n.YI=function(t){if(t<0)throw new v("The index provided ("+t+") must be non-negative");if(t>=this.Ul)throw new v("The index provided ("+t+") is greater than the maximum bound ("+this.Ul+")")},n.ZI=function(t){if(0===this.Ul)return this.tC();if(this.uI(t))return t;if(this.a_(t,this.jI(0)))return this.jI(0);if(this.L_(t,this.zI(this.Ul-1)))return this.zI(this.Ul-1);for(var n,i=this.nC(),r=0;r<this.Ul;r++){var e=this.jI(r),u=this.f_(e,t);this.h_(u,i)&&(n=e,i=u);var o=this.zI(r),s=this.f_(this.zI(r),t);this.h_(s,i)&&(n=o,i=s)}return n},n.iC=function(t){for(var n=0,i=0,r=[],e=[];n<this.Ul&&i<t.Ul;){var u=this.jI(n),o=this.zI(n),s=this.WI(n),c=this.$I(n),a=t.jI(i),f=t.zI(i),h=t.WI(i),v=t.$I(i),d=this.tp(u,a),l=this.np(o,f),w=void 0;w=this.Fg(u,a)?s&&h:this.Fg(d,u)?s:h;var y=void 0;y=this.Fg(o,f)?c&&v:this.Fg(l,o)?c:v,(this.h_(d,l)||w&&y&&this.Fg(d,l))&&(r.push(d,l),e.push(w,y));var g=this.o_(this.zI(n),t.zI(i));0===g?(n+=1,i+=1):g<0?n+=1:i+=1}return this.QI(r,e)},n.rC=function(){var t=this.eC(),n=t.Ul;if(0===n)return this.QI([t.uC(),t.nC()],[!1,!1]);var i=[],r=[],e=t.jI(0);t.Fg(e,t.uC())||(i.push(t.uC(),e),r.push(!1,!t.WI(0)));for(var u=0;u<n-1;u++)i.push(t.zI(u),t.jI(u+1)),r.push(!t.$I(u),!t.WI(u+1));var o=t.zI(n-1);return t.Fg(o,t.nC())||(i.push(o,t.nC()),r.push(!t.$I(n-1),!1)),t.QI(i,r)},n.oC=function(t){for(var n=0,i=0,r=this.Ul,e=t.Ul,u=new Array(2*(r+e)),o=new Array(2*(r+e)),s=0;n<r&&i<e;){var c=this.jI(n),a=this.zI(n),f=t.jI(i),h=t.zI(i);this.h_(c,f)||this.Fg(c,f)&&this.h_(a,h)?(u[s]=c,u[s+1]=a,o[s]=this.WI(n),o[s+1]=this.$I(n),n++):(u[s]=f,u[s+1]=h,o[s]=t.WI(i),o[s+1]=t.$I(i),i++),s+=2}for(;n<r;)u[s]=this.jI(n),u[s+1]=this.zI(n),o[s]=this.WI(n),o[s+1]=this.$I(n),n++,s+=2;for(;i<e;)u[s]=t.jI(i),u[s+1]=t.zI(i),o[s]=t.WI(i),o[s+1]=t.$I(i),i++,s+=2;return this.QI(u,o)},n.sC=function(t){void 0===t&&(t=this.tC());var n=this.Ul;if(n<2)return this;for(var i=[],r=[],e=this.jI(0),u=this.zI(0),o=this.WI(0),s=this.$I(0),c=1;c<n;c++){var a=this.jI(c),f=this.zI(c),h=this.WI(c),v=this.$I(c);this.h_(e,a)&&this.P_(u,f)||(this.Fg(e,a)&&(o=h=o||h),this.Fg(u,f)&&(s=v=s||v),this.GI(a,this.og(u,t),s||h)?(u=f,s=v):(i.push(e,u),r.push(o,s),e=a,u=f,o=h,s=v))}return i.push(e,u),r.push(o,s),this.QI(i,r).eC()},n.eC=function(){for(var t=[],n=[],i=0;i<this.Ul;i++){var r=this.jI(i),e=this.zI(i),u=this.WI(i),o=this.$I(i);this.Fg(r,e)?(u||o)&&(t.push(r,e),n.push(!0,!0)):(t.push(r,e),n.push(u,o))}return this.QI(t,n)},n.cC=function(t){return this.Ul?t.Ul?this.oC(t).sC():this:t},n.aC=function(t){var n=this.eC(),i=t.eC(),r=n.rC(),e=i.rC(),u=r.iC(i),o=e.iC(n);return u.cC(o)},n.pc=function(t){if(this.Fg(t,this.tC()))return this;for(var n=[],i=[],r=0;r<this.Ul;r++){var e=this.og(this.jI(r),t),u=this.og(this.zI(r),t);n.push(e,u),i.push(this.WI(r),this.$I(r))}return this.QI(n,i)},n.fC=function(t){return 0===this.Ul||0===t.Ul?this:this.eC().iC(t.eC().rC())},n.uI=function(t,n){return this.hC(t,n)>=0},n.vC=function(t,n,i,r,e){return this.dC(t,n,i,r,e)>=0},n.lC=function(t,n,i,r,e){return this.wC(t,n,i,r,e)>=0},n.yC=function(t){if(t.Ul!==this.Ul)return!1;for(var n=0;n<this.Ul;n++)if(!this.Fg(this.jI(n),t.jI(n))||!this.Fg(this.zI(n),t.zI(n))||this.WI(n)!==t.WI(n)||this.$I(n)!==t.$I(n))return!1;return!0},n.gC=function(t){for(var n=[],i=[],r=0;r<this.Ul;r++){var e=this.jI(r),u=this.zI(r),o=this.WI(r),s=this.$I(r);t(e,u,o,s)&&(n.push(e,u),i.push(o,s))}return this.QI(n,i)},n.wC=function(t,n,i,r,e){void 0===i&&(i=!0),void 0===r&&(r=!0),void 0===e&&(e=this.tC());for(var u=this.w_(t,e),o=this.og(n,e),s=0;s<this.Ul;s+=1)if(this.GI(this.jI(s),o,!r||this.WI(s))&&this.GI(u,this.zI(s),!i||this.$I(s)))return s;return-1},n.dC=function(t,n,i,r,e){void 0===i&&(i=!0),void 0===r&&(r=!1),void 0===e&&(e=this.tC());for(var u=this.og(t,e),o=this.w_(n,e),s=0;s<this.Ul;s+=1)if(this.GI(this.jI(s),u,!i||this.WI(s))&&this.GI(o,this.zI(s),!r||this.$I(s)))return s;return-1},n.hC=function(t,n){return this.dC(t,t,!0,!0,n)},n._C=function(t,n){void 0===n&&(n=this.tC());for(var i=this.og(t,n),r=this.Ul-1;r>=0;r-=1)if(this.GI(this.jI(r),i,this.WI(r)))return r;return-1},n.pC=function(t,n){void 0===n&&(n=this.tC());for(var i=this.w_(t,n),r=0;r<this.Ul;r+=1)if(this.GI(i,this.zI(r),this.$I(r)))return r;return-1},n.mC=function(t){return this.YI(t),this.QI([this.jI(t),this.zI(t)],[this.WI(t),this.$I(t)])},n.kC=function(t,n){var i=this.hC(t,n);return i<0?void 0:this.mC(i)},W(t,[{key:"bC",get:function(){for(var t=this.tC(),n=0;n<this.Ul;n++){var i=this.w_(this.zI(n),this.jI(n));t=this.og(t,i)}return t}}]),t}()),rm=function(t){function n(n,i){return t.call(this,n,i)||this}$(n,t);var i=n.prototype;return i.o_=function(t,n){return t<n?$l.i_:t===n?$l.t_:$l.n_},i.og=function(t,n){return t+n},i.w_=function(t,n){return t-n},i.f_=function(t,n){return w.abs(t-n)},i.tC=function(){return 0},i.nC=function(){return 1/0},i.uC=function(){return-1/0},n.TC=function(t){for(var i=[],r=0;r<t.length;r++)i.push(t.start(r),t.end(r));return new n(i)},n.EC=function(t){for(var i=[],r=[],e=0;e<t.Ul;e++)i.push(t.jI(e).ep),i.push(t.zI(e).ep),r.push(t.WI(e)),r.push(t.$I(e));return new n(i,r)},n.SC=function(t){return new n([t,t],[!0,!0])},i.QI=function(t,i){return new n(t,i)},i.KI=function(t){return t},n.RC=function(){return em},n}(im),em=new rm([]);!function(t){t.kl="fullscreenchange",t.IC="fullscreensupportchange",t.iw="fullscreenerror"}(nm||(nm={}));var um=function(t){function n(){return t.call(this,nm.iw)||this}return $(n,t),n}(Ge),om=new(function(t){function n(){return t.apply(this,arguments)||this}$(n,t);var i=n.prototype;return i.kg=function(){this.Ws(new um)},i.Tg=function(){},i.sr=function(){this.Gs()},W(n,[{key:"CC",get:function(){return!1}},{key:"AC",get:function(){return!1}}]),n}($e)),sm=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).dR=void 0,n.lR=void 0,n}$(n,t);var i=n.prototype;return i.My=function(){var t;return null==(t=this.lR)?void 0:t.qR},i.sr=function(){var n=A.coroutine(qr.mark(function n(){return qr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.sr.call(this);case 2:if(!this.lR){n.next=6;break}return n.next=5,this.dR.er(this.lR);case 5:this.lR=void 0;case 6:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),W(n,[{key:"DC",set:function(t){this.dR=t,this.lR=t.Zi(ml.Lv)}}]),n}(function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).NC=0,n.OC=!1,n.xC=!0,n.LC=1,n.FC=!1,n.MC=1,n.Ty=new kl,n.zy=rm.RC().oI(),n.zw=NaN,n.$w=!1,n.uc=void 0,n.Xw=void 0,n.Ry=void 0,n.Gy=!1,n.ng=!0,n.ig=rm.RC().oI(),n.rg=Yp.AI,n.cw=_d.xw,n.eg=rm.RC().oI(),n.aI=void 0,n.Sy=new Ry,n.Qw=0,n.Ey=new kl,n.Zw=0,n.TR=new Bp,n}$(n,t);var i=n.prototype;return i.Ly=function(){},i.Fy=function(){},i.tr=function(){this.xC&&(this.xC=!1,this.Ws(new Fd(this.Ww)),this.Ws(new rg(this.Ww)))},i.nr=function(){this.xC||(this.xC=!0,this.Ws(new jd(this.Ww,this.$y)),this.Ws(new Ld(this.Ww)))},i.Ay=function(t,n){return A.resolve()},i.Dy=function(){return!1},i.Ny=function(){},i.Oy=function(){},i.By=function(){return om},i.Wy=function(){},i.Ml=function(){var t=A.coroutine(qr.mark(function t(){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.NC=0,this.FC=!1,this.nr(),this.Ws(new Pd(this.NC));case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.sr=function(){var t=A.coroutine(qr.mark(function t(){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.Gs(),this.Ty.sr(),this.Sy.sr(),this.Ey.sr();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),W(n,[{key:"$y",get:function(){},set:function(t){}},{key:"Ww",get:function(){return this.NC},set:function(t){this.NC!==t&&(this.NC=t,this.FC=!0,this.Ws(new $d(this.Ww)))}},{key:"ay",get:function(){return{Yy:0,Ky:0,Jy:0,Qy:0,Zy:0,tg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"Gw",get:function(){return this.OC},set:function(t){this.OC!==t&&(this.OC=t,this.Ws(new Gd(this.Ww,this.ty)))}},{key:"Yw",get:function(){return this.xC}},{key:"Kw",get:function(){return this.LC},set:function(t){this.LC!==t&&(this.LC=t,this.Ws(new Hd(this.Ww,this.Kw)))}},{key:"Jw",get:function(){return this.FC}},{key:"ty",get:function(){return this.MC},set:function(t){this.MC!==t&&(this.MC=t,this.Ws(new Gd(this.Ww,this.ty)))}},{key:"fI",get:function(){return this.TR}}]),n}($e)),cm=function(t){function n(n,i,r,e,u,o){var s,c=new sm;return(s=t.call(this,Gp.tu,c)||this).Ta=void 0,s.BC=void 0,s.UC=void 0,s.VC=void 0,s.UT=void 0,s.qC=void 0,s.HC=void 0,s.UC=n,s.Ta=i,s.UT=r,s.qC=e,s.VC=o,s.BC=new T(u,s.VC),s.BC.ur(s.UC),c.DC=s.BC,s.HC=new Kp(s.UC),s}$(n,t);var i=n.prototype;return i.hr=function(){t.prototype.hr.call(this),this.BC.Qi()},i.xy=function(t){var n,i,r,e;n=this,r=(i=t).ty,e=i.Gw,n.ty=r,n.Gw=e},i.Py=function(){},i.UI=function(t){return t.zE(this.UC,this.BC,this.UT,this.Ta,this.qC,this.VC)},i.My=function(){return this.OI.My()},i.Uy=function(){return this.BC.Ji.map(function(t){return t.qR})},i.Xs=function(n){t.prototype.Xs.call(this,n)},i.Qs=function(n){t.prototype.Qs.call(this,n)},i.sr=function(){var n=A.coroutine(qr.mark(function n(){return qr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.sr.call(this);case 2:this.BC.sr(),this.HC.sr();case 4:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),W(n,[{key:"Xy",get:function(){return this.UC}}]),n}(Zp),am=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).UC=void 0,e.jC=void 0,e.WC=void 0,e.zC=void 0,e.$C=void 0,e.UC=n,e.jC=i,e.zC=new kl,e.$C=new Ry,e.WC=r,e}$(n,t);var i=n.prototype;return i.Vy=function(t){return!0},i.Fy=function(){},i.tr=function(){throw this.Ws(new Qd(this.WC)),this.jC},i.nr=function(){},i.Cy=function(){},i.Ay=function(){var t=A.coroutine(qr.mark(function t(n,i){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:throw xe(i),this.Ws(new Qd(this.WC)),this.jC;case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Ly=function(){},i.Iy=function(){return A.resolve()},i.My=function(){},i.By=function(){return om},i.Uy=function(){return[]},i.hr=function(){},i.xy=function(t){},i.Py=function(){},i.Dy=function(){return!1},i.Ny=function(){},i.Oy=function(){},i.Wy=function(){},i.Ml=function(){return A.resolve()},i.sr=function(){return this.Gs(),this.zC.sr(),this.$C.sr(),A.resolve()},W(n,[{key:"Ty",get:function(){return this.zC}},{key:"zy",get:function(){return rm.RC().oI()}},{key:"$y",get:function(){return new Date(NaN)},set:function(t){}},{key:"jy",get:function(){}},{key:"Ww",get:function(){return 0},set:function(t){}},{key:"zw",get:function(){return 0}},{key:"Xy",get:function(){return this.UC}},{key:"$w",get:function(){return!0}},{key:"uc",get:function(){return this.jC}},{key:"Xw",get:function(){return this.WC}},{key:"Ry",get:function(){}},{key:"ay",get:function(){return{Yy:0,Ky:0,Jy:0,Qy:0,Zy:0,tg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"Gw",get:function(){return!1},set:function(t){}},{key:"ng",get:function(){return!0}},{key:"Yw",get:function(){return!0}},{key:"Kw",get:function(){return 0},set:function(t){}},{key:"ig",get:function(){return rm.RC().oI()}},{key:"rg",get:function(){return Yp.AI},set:function(t){}},{key:"cw",get:function(){return _d.xw}},{key:"eg",get:function(){return rm.RC().oI()}},{key:"Jw",get:function(){return!1}},{key:"Sy",get:function(){return this.$C}},{key:"Qw",get:function(){return 0}},{key:"Ey",get:function(){return this.zC}},{key:"Zw",get:function(){return 0}},{key:"ty",get:function(){return 1},set:function(t){}},{key:"Gy",get:function(){return!1}}]),n}(ad);function fm(t){if(t&&ct(t))return Hr({},t,{integration:hm(t.integration),fairplay:_m(t.fairplay),widevine:vm(t.widevine),playready:dm(t.playready),clearkey:pm(t.clearkey),aes128:mm(t.aes128),integrationParameters:km(t.integrationParameters),preferredKeySystems:bm(t.preferredKeySystems)})}function hm(t){if(ft(t))return t}function vm(t){if(t&&ct(t))return{persistentState:lm(t.persistentState),distinctiveIdentifier:lm(t.distinctiveIdentifier),audioRobustness:wm(t.audioRobustness),videoRobustness:wm(t.videoRobustness),licenseAcquisitionURL:ft(t.licenseAcquisitionURL)?t.licenseAcquisitionURL:void 0,licenseType:ym(t.licenseType),headers:t.headers,useCredentials:!!ht(t.useCredentials)&&t.useCredentials,queryParameters:t.queryParameters,certificate:ft(t.certificate)||Qu(t.certificate)?t.certificate:void 0,certificateRequestProcessor:gm(t.certificateRequestProcessor),certificateResponseProcessor:gm(t.certificateResponseProcessor),licenseRequestProcessor:gm(t.licenseRequestProcessor),licenseResponseProcessor:gm(t.licenseResponseProcessor)}}function dm(t){if(t){var n=vm(t);if(n)return Hr({},n,{customData:ft(t.customData)?t.customData:void 0})}}function lm(t){switch(null==t?void 0:t.toLowerCase()){case"required":return"required";case"optional":return"optional";case"not-allowed":return"not-allowed"}}function wm(t){switch(t){case"HW_SECURE_ALL":return"HW_SECURE_ALL";case"HW_SECURE_DECODE":return"HW_SECURE_DECODE";case"HW_SECURE_CRYPTO":return"HW_SECURE_CRYPTO";case"SW_SECURE_DECODE":return"SW_SECURE_DECODE";case"SW_SECURE_CRYPTO":return"SW_SECURE_CRYPTO";case"":return""}}function ym(t){switch(null==t?void 0:t.toLowerCase()){case"temporary":return"temporary";case"persistent":return"persistent"}}function gm(t){if("function"==typeof t)return t}function _m(t){if(t){var n=vm(t);if(n)return Hr({},n,{certificateURL:ft(t.certificateURL)?t.certificateURL:void 0})}}function pm(t){if(t){var n=vm(t);if(n)return Hr({},n,{keys:ot(t.keys)?t.keys.map(function(t){return function(t){if(!t||!ct(t))return;var n=t.id,i=t.value;if(!ft(n)||!ft(i))return;return{id:n,value:i}}(t)}).filter(ut):void 0})}}function mm(t){if(ct(t))return{useCredentials:ht(t.useCredentials)?t.useCredentials:void 0}}function km(t){if(ct(t))return t}function bm(t){return t&&ot(t)?t.map(function(t){return Zg(t)}).filter(ut):[re,ne,ue]}var Tm,Em=function(t){function n(n){var i;return(i=t.call(this,"presentationmodechange")||this).presentationMode=n,i}return $(n,t),n}(Ge),Sm=function(t){function n(n,i){var r;return void 0===i&&(i=!1),(r=t.call(this,n)||this).XC=[],r.GC=void 0,r.YC=function(t){Ue(function(){r.js(t)})},r.GC=i?r.YC:r.js,r}$(n,t);var i=n.prototype;return i.KC=function(t){t.Xs(this.GC),this.XC.push(t)},i.JC=function(t){t.Qs(this.GC),Se(this.XC,t)},i.sr=function(){this.Gs();for(var t=0,n=this.XC;t<n.length;t++){n[t].Qs(this.GC)}Ce(this.XC)},n}(cd),Rm=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n}(Sm);!function(t){t.INLINE="inline",t.FULLSCREEN="fullscreen",t.PICTURE_IN_PICTURE="picture-in-picture"}(Tm||(Tm={}));var Im,Cm=function(t){function i(n){var i;return(i=t.call(this)||this).QC=void 0,i.ZC=void 0,i.tA=!1,i.nA=!1,i.iA=void 0,i.rA=void 0,i.eA=void 0,i.sl=void 0,i.uA=function(){return i.oA()},i.sA=function(){return i.cA()},i.eA=n,i.QC=i.ZC=i.iA=i.rA=Tm.INLINE,i.eA.zs(nm.kl,i.uA),i.eA.zs(nm.iw,i.sA),i.aA(),i}$(i,t);var r=i.prototype;return r.al=function(){return t=this,i={get currentMode(){return t.fA()},requestMode:function(n){var i=Dm(n);i&&t.hA(i)},supportsMode:function(n){var i=Dm(n);return!!i&&t.vA(i)},addEventListener:function(t,i){n.zs(t,i)},removeEventListener:function(t,i){n.Ys(t,i)}},(n=new Sm(i,!0)).KC(t),i;var t,n,i},r.hA=function(t){this.dA(t,t)},r.dA=function(t,n){this.ZC!==n&&(this.tA=!0,this.QC=t,this.lA(n,this.ZC),t!==Tm.FULLSCREEN&&(this.iA=t),this.tA=!1,this.aA())},r.fA=function(){return this.nA?Tm.FULLSCREEN:Tm.INLINE},r.vA=function(t){switch(t){case Tm.FULLSCREEN:return this.eA.AC;case Tm.INLINE:return!0}return!1},r.aA=function(){if(!this.tA){var t=this.ZC,n=this.fA();this.ZC=n,n!==Tm.FULLSCREEN&&(this.rA=n),t!==n&&this.Ws(new Em(n))}},r.lA=function(t,n){var i=t===Tm.FULLSCREEN;this.nA=i,i!==this.eA.CC&&(i?this.eA.kg():this.eA.Tg())},r.oA=function(){if(!this.tA){var t=this.eA.CC;this.nA=t,t?this.dA(Tm.FULLSCREEN,Tm.FULLSCREEN):t||this.QC!==Tm.FULLSCREEN?this.aA():this.dA(this.iA,this.rA)}},r.cA=function(){this.oA(),this.Ws(new Qd(new xo(n.ErrorCode.FULLSCREEN_ERROR,"Failed to enter fullscreen.")))},r.sr=function(){this.eA.sr(),this.Gs()},W(i,[{key:"cl",get:function(){return this.sl||(this.sl=this.al()),this.sl}}]),i}(cd),Am={Ww:0,zw:NaN,$w:!1,uc:void 0,Xw:void 0,Gw:!1,Yw:!0,Kw:1,cw:_d.xw,Jw:!1,Qw:0,Zw:0,ty:1};function Dm(t){switch(t){case Tm.INLINE:case Tm.FULLSCREEN:case Tm.PICTURE_IN_PICTURE:return t;default:return}}!function(t){t.DEFAULT="",t.THEO="theo",t.GOOGLE_IMA="google-ima",t.SPOTX="spotx",t.FREEWHEEL="freewheel"}(Im||(Im={}));var Nm,Om,xm,Pm,Lm,Fm,Mm,Bm,Um=function(){function t(){this.wA=[]}var n=t.prototype;return n.yA=function(t){var n=this.gA.filter(function(n){return n._A(t)});if(n.length>1)0;else if(0===n.length)throw v("Unknown ad integration: "+t.integration);return n[0]||null},n.pA=function(t){this.wA.push(t)},W(t,[{key:"gA",get:function(){return this.wA}}]),t}();Um.tu=new Um,function(t){t.jw="PLAYING",t.vy="PAUSED",t.mA="SEEK",t.kA="STALLED",t.bA="FAILED",t.TA="INITIAL_BUFFERING",t.EA="NO_ACCESS"}(Nm||(Nm={})),function(t){t.SA="HTTP_REQUEST_STATUS_CODE_1XX",t.RA="HTTP_REQUEST_STATUS_CODE_2XX",t.IA="HTTP_REQUEST_STATUS_CODE_3XX",t.CA="HTTP_REQUEST_STATUS_CODE_4XX",t.AA="HTTP_REQUEST_STATUS_CODE_5XX",t.DA="BUFFER_LENGTH",t.NA="BYTES_RECEIVED",t.OA="SEGMENT_READ_BITRATE",t.xA="SEGMENT_PROFILE_BITRATE",t.PA="NUMBER_OF_FRAMES_DROPPED",t.LA="PLAYBACK_POSITION",t.FA="NUMBER_OF_FRAMES_DECODED",t.MA="PLAYBACK_DELTA_TO_ORIGIN",t.BA="STREAM_DELTA_TO_ORIGIN",t.UA="ORIGIN_TIMESTAMP"}(Om||(Om={})),function(t){t.VA="MANIFEST_URI",t.qA="ASSET_DURATION",t.HA="NUMBER_OF_CONTENT_PROFILES",t.jA="CDN",t.WA="CONTENT_TITLE",t.zA="SERVICE_NAME",t.$A="CONTENT_TYPE",t.XA="CONTENT_DESCRIPTION"}(xm||(xm={})),function(t){t.GA="shutdown_normal_shutdown"}(Pm||(Pm={})),function(t){t.YA="session/",t.KA="internalError/",t.JA="drmError/",t.QA="caError/",t.ZA="networkError/"}(Lm||(Lm={})),function(t){t.tD="userAction",t.nD="endOfStreamReached"}(Fm||(Fm={})),function(t){t.PAUSE="iD",t.RESUME="rD"}(Mm||(Mm={})),function(t){t.UNAVAILABLE="unavailable",t.AVAILABLE="available",t.CONNECTING="connecting",t.CONNECTED="connected"}(Bm||(Bm={}));var Vm,qm,Hm,jm,Wm,zm="agama";function $m(t){return function(t){switch(t){case Vm.NONE:case Vm.HORIZONTAL:case Vm.VERTICAL:return!0;default:return!1}}(t)?t:Vm.NONE}function Xm(t){switch(t){case"":return Vm.NONE;case"horizontal":return Vm.HORIZONTAL;case"vertical":return Vm.VERTICAL;default:throw new d}}function Gm(t){if(!t||!ft(t))return qm.CI;switch(t){case"always":return qm.eD;case"never":return qm.uD;default:return qm.CI}}function Ym(t){if(!t||!ft(t))return Hm.CI;switch(t){case"playlist":return Hm.oD;case"media":return Hm.sD;default:return Hm.CI}}function Km(t){if(null!==t)return t}function Jm(t){var n,i={apiKey:t.apiKey,integration:t.integration,streamActivityMonitorID:Km(t.streamActivityMonitorID),adTagParameters:ct(t.adTagParameters)?t.adTagParameters:{},authToken:Km(t.authToken)};if("vod"===(null==t?void 0:t.availabilityType)||(n=t,Boolean(n.videoID&&n.contentSourceID))){var r=t.videoID,e=t.contentSourceID;return r?e?Hr({},i,{availabilityType:"vod",videoID:r,contentSourceID:e}):void N.So("A VOD DAI configuration was provided without valid contentSourceID which is required."):void N.So("A VOD DAI configuration was provided without valid videoID which is required.")}if("live"===(null==t?void 0:t.availabilityType)||function(t){return Boolean(t.assetKey)}(t)){var u=t.assetKey;return u?Hr({},i,{availabilityType:"live",assetKey:u}):void N.So("A Live DAI configuration was provided without valid assetKey which is required.")}N.So("A DAI configuration was provided without a valid availabilityType which is required.")}function Qm(t){if(!zg(t)||!t.integration)return t;switch(t.integration){case vg:return n=t,i=Qg(Jr.cs,n),r=Qg(Jr.ss,n),e=n[Jr.as]&&Qg(Jr.as,n),Hr({integration:"keyos",widevine:i,playready:r},e?{fairplay:e}:{});default:return t}var n,i,r,e}function Zm(t){if(!t)return!0;var n,i,r=!(Rd(n=t.sources)||st(n)&&Rd(n[0]))||Id(t.sources),e=!t.ads||(!(i=t.ads)||ot(i)&&0===i.length),u=""!==t.poster&&!t.poster;return r&&e&&u}function tk(t){if(t&&t.sources)return function t(n){if(ft(n))return n;if(Sd(n))return n.src;if(st(n)&&n.length>0)return t(n[0]);return}(t.sources)}function nk(t,n,i){return Td(t)?function(t,n,i){var r=Hr({},Cd(),{ping:{adImpressions:!1,freeWheelVideoViews:!1,linearAdData:!1},integration:jm.VERIZON_MEDIA,id:"",preplayParameters:{},playbackUrlParameters:{},assetType:Wm.ASSET,contentProtected:!1,assetInfo:!0});r.id=(e=t.id,ft(e)?e:st(e)&&ft(e[0])?e:ct(u=e)&&ft(u.userId)&&(st(u.externalId)||ft(u.externalId))?e:""),t.preplayParameters&&(r.preplayParameters=t.preplayParameters);var e,u;t.playbackUrlParameters&&(r.playbackUrlParameters=t.playbackUrlParameters);t.assetType&&(r.assetType=function(t){switch(t){case"channel":return Wm.CHANNEL;case"event":return Wm.EVENT;case"asset":default:return Wm.ASSET}}(t.assetType));t.contentProtected&&(r.contentProtected=Hv(t.contentProtected));t.assetInfo?r.assetInfo=Hv(t.assetInfo):r.assetInfo="asset"===r.assetType;return r.ping=(o=r.assetType,s=t.ping,c=!1,a=!1,f=!1,s?(c=!!ht(s.adImpressions)&&s.adImpressions,a=!!ht(s.freeWheelVideoViews)&&s.freeWheelVideoViews,f=ht(s.linearAdData)?s.linearAdData:o!==Wm.ASSET):o!==Wm.ASSET&&(f=!0),{adImpressions:c,freeWheelVideoViews:a,linearAdData:f}),r=rk(r=ik(r,t),n,i);var o,s,c,a,f}(t,n,i):function(t,n,i){var r=Ad(),e=n&&(n.contentProtection||n.drm);if(ft(t)){if(r.src=t,r.type=kd(t),e){var u=fm(e);r.contentProtection=Qm(u)}}else if(Sd(t)||bd(t)){r.src=t.src,r.type=t.type||kd(t.src),r.isAdvertisement=t.isAdvertisement;var o=function(t){return t.type===wd.Nw||t.type===wd.Ow}(t)?t.hesp:void 0;void 0!==o&&(r.hesp=o);var s=t.contentProtection||t.drm||e,c=fm(s);r.contentProtection=Qm(c),t.ssai&&(r.ssai=function(t){switch(t.integration){case"google-dai":return Jm(t);case"imagine":return{integration:t.integration};case"yospace":return function(t){var n;return{integration:t.integration,streamType:null!=(n=t.streamType)?n:void 0}}(t);default:return{integration:t.integration}}}(t.ssai)),r=ik(r,t)}return r=rk(r,n,i)}(t,n,i)}function ik(t,n){var i;n.useCredentials?t.crossOrigin=ld.Aw:n.crossOrigin&&(t.crossOrigin=function(t){switch(t){case ld.Cw:case ld.Aw:return t;default:return ld.Iw}}(n.crossOrigin)),ft(n.timeServer)&&(t.timeServer=n.timeServer),n.liveOffset&&(t.liveOffset=n.liveOffset),n.hlsDateRange&&(t.hlsDateRange=n.hlsDateRange),n.lowLatency&&(t.lowLatency=Hv(n.lowLatency)),n.useNativePlayback&&(t.useNativePlayback=Hv(n.useNativePlayback)),n.dash&&(t.dash={useSeamlessPeriodSwitch:Gm(null==(i=n.dash)?void 0:i.useSeamlessPeriodSwitch)}),n.hls&&(t.hls=function(t){return{discontinuityAlignment:Ym(null==t?void 0:t.discontinuityAlignment)}}(n.hls));var r=void 0!==n.experimentalRendering?Hv(n.experimentalRendering):void 0;void 0!==r&&(t.experimentalRendering=r);var e=void 0!==n.nativeUiRendering?Hv(n.nativeUiRendering):void 0;return void 0!==e&&(t.nativeUiRendering=e),t}function rk(t,n,i){var r,e=n&&n.timeServer;return i&&i.liveOffset&&!ut(t.liveOffset)&&(t.liveOffset=i.liveOffset),i&&i.hlsDateRange&&!ut(t.hlsDateRange)&&(t.hlsDateRange=i.hlsDateRange),t.crossOrigin===ld.Iw&&null!=n&&null!=(r=n.vr)&&r[360]&&(t.crossOrigin=ld.Cw),t.useCredentials=t.crossOrigin===ld.Aw,ft(e)&&!t.timeServer&&(t.timeServer=e),t}function ek(t){var n={src:""};if(t&&t.src){if(n.src=zv(t.src),"default"in t&&(n.default=Hv(t.default)),n.kind=Ay(t.kind),function(t){switch(t){case xl.DEFAULT:case xl.SRT:case xl.TTML:case xl.WEBVTT:case xl.EMSG:case xl.EVENT_STREAM:case xl.ID3:case xl.CEA608:case xl.DATE_RANGE:return!0;default:return!1}}(t.format)&&(n.format=t.format),"srclang"in t){var i=t.srclang;"string"==typeof i&&""!==i&&(n.srclang=i)}if("label"in t){var r=t.label;"string"==typeof r&&""!==r&&(n.label=r)}}return n}function uk(t,n){if(at(t))try{return n.yA(t).cD(t)}catch(t){return}}function ok(t){return ft(t.sources)&&""!==t.sources||ct(t.sources)&&ft(t.sources.src)}function sk(t){return t.integration===Im.SPOTX&&!_(t.id)}function ck(t){return"freewheel"===t.integration}function ak(t,n,i){if(void 0===i&&(i=Um.tu),Zm(t))return{sources:[Ad()]};var r=Bv(t);if(r.sources=function(t,n,i){if(Rd(t))return[nk(t,n,i)];if(st(t)&&Rd(t[0])){for(var r=[],e=0;e<t.length;e++){var u=t[e];r.push(nk(u,n,i))}return r}return[Ad()]}(r.sources,r,n),"contentProtection"in r&&delete r.contentProtection,"drm"in r&&delete r.drm,"ads"in r){var e=function(t,n){if(!st(t))return[];for(var i=[],r=0,e=t;r<e.length;r++){var u=e[r];(u=uk(u,n))&&(ok(u)||sk(u)||ck(u))&&i.push(u)}return i}(r.ads,i);0===e.length?delete r.ads:r.ads=e}var u,o,s,c=!Id(r.sources),a=r.ads&&r.ads.length>0;if(c&&!a?delete r.ads:a&&!c&&(r.sources=[]),"textTracks"in r){var f=function(t){if(!st(t))return[];for(var n=[],i=0,r=t;i<r.length;i++){var e=r[i];""!==(e=ek(e)).src&&n.push(e)}return n}(r.textTracks);0===f.length?delete r.textTracks:r.textTracks=f}if("poster"in r&&(r.poster=zv(r.poster)),"vr"in r&&(r.vr=(u=r.vr,(o=u||{}).stereoMode=$m(o.stereoMode),{360:Boolean(o[360]),stereoMode:o.stereoMode?Xm(o.stereoMode):Vm.NONE,nativeVR:Boolean(o.nativeVR)})),"analytics"in r||(null==n?void 0:n.analytics)){var h=Nd(r.analytics),v=n&&n.analytics||[];r.analytics=function(t,n){for(var i=Bv(t),r=function(r){var e=n[r],u=!t.some(function(t){return t.integration===e.integration});u&&e.integration!==zm&&i.push(e)},e=0;e<n.length;e++)r(e);return i}(h,v)}return"mutedAutoplay"in r&&(r.mutedAutoplay=Zd(r.mutedAutoplay)),"timeServer"in r&&delete r.timeServer,r.blockContentIfAdError=void 0!==(s=r.blockContentIfAdError)&&"boolean"==typeof s&&Boolean(s),r}!function(t){t.NONE="",t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(Vm||(Vm={})),function(t){t.CI="auto",t.eD="always",t.uD="never"}(qm||(qm={})),function(t){t.CI="auto",t.oD="playlist",t.sD="media"}(Hm||(Hm={})),function(t){t.VERIZON_MEDIA="verizon-media"}(jm||(jm={})),function(t){t.ASSET="asset",t.CHANNEL="channel",t.EVENT="event"}(Wm||(Wm={}));var fk=function(){function t(t){this.aD=t}return t.prototype.fD=function(t){var n,i,r,e,u,o,s,c=[];if(!t)return"";var a=t.length%4;if(a>0)for(;a++<4;)t+=this.aD.charAt(64);for(n=0;n<t.length;n+=4)i=(s=this.aD.indexOf(t.charAt(n))<<18|this.aD.indexOf(t.charAt(n+1))<<12|(u=this.aD.indexOf(t.charAt(n+2)))<<6|(o=this.aD.indexOf(t.charAt(n+3))))>>>16&255,r=s>>>8&255,e=255&s,c[n/4]=String.fromCharCode(i,r,e),64===o&&(c[n/4]=String.fromCharCode(i,r)),64===u&&(c[n/4]=String.fromCharCode(i));return c.join("")},t.prototype.hD=function(t,n){var i,r,e,u,o,s,c,a=[],f="";if((s=t.length%3)>0)for(;s++<3;)f+=this.aD.charAt(64),t+="\0";for(s=0;s<t.length;s+=3)r=(i=t.charCodeAt(s)<<16|t.charCodeAt(s+1)<<8|t.charCodeAt(s+2))>>18&63,e=i>>12&63,u=i>>6&63,o=63&i,a[s/3]=this.aD.charAt(r)+this.aD.charAt(e)+this.aD.charAt(u)+this.aD.charAt(o);return c=(c=a.join("")).slice(0,c.length-f.length),n||(c+=f),c},t.Pp=new t(function(){var t,n,i,r,e=[],u=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<u.length;t+=1)for(n=u[t],i=0;i<n.length;i+=1)r=n.charAt(i),-1===e.indexOf(r)&&e.push(r);return e.join("")}()),t.vD=new t(t.Pp.fD("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")),t}();function hk(t){return"string"==typeof t}function vk(t){return"number"==typeof t}var dk={}.toString;var lk,wk=Array.isArray||function(t){return"[object Array]"===dk.call(t)};function yk(t,n){return wk(t)&&t.every(n)}!function(t){t.HTML5="html5",t.ANDROID="android",t.IOS="ios",t.TVOS="tvos",t.ANDROIDTV="androidtv",t.TIZEN="tizen",t.WEBOS="webos",t.CHROMECAST="chromecast",t.ROKU="roku",t.FIRETV="firetv",t.CHROMECASTCAF="chromecastcaf"}(lk||(lk={}));var gk,_k=l.keys(lk).map(function(t){return lk[t]});function pk(t){return-1!==_k.indexOf(t)}function mk(t){try{var n=fk.vD.fD(t),i=JSON.parse(n);if(!function(t){var n=(h=t,"object"==typeof h&&null!==h),i=hk(t.key),r=hk(t.customer_id),e=vk(t.generation_date),u=vk(t.expiration_date),o=yk(t.domains_page,hk),s=yk(t.domains_source,hk),c=yk(t.sdks,pk),a=(f=t.send_impression,"boolean"==typeof f);var f;var h;if(!(n&&i&&r&&e&&u&&o&&s&&c&&a))return!1;return!0}(i))throw new v("The provided license could not be decoded correctly.");return i}catch(t){throw new v("The provided license could not be decoded correctly.")}}function kk(){return gk||(gk={mv:I.href,dD:R.parent&&R.parent!==e,lD:Ek()}),gk}var bk,Tk=["http:","https:","ftp:","ws:","wss:"];function Ek(){try{return R.top.location.href}catch(t){return R&&R.document&&R.document.referrer}}!function(t){t[t.wD=0]="wD",t[t.yD=1]="yD",t[t.gD=2]="gD"}(bk||(bk={}));var Sk,Rk=function(t,n,i,r,e,u,o,s){void 0===e&&(e=""),void 0===u&&(u=Date.now()),void 0===o&&(o=[]),void 0===s&&(s=!0),this._D=t,this.pD=n,this.mD=i,this.kD=r,this.bD=e,this.TD=u,this.ED=o,this.SD=s};!function(t){t.yD="expired",t.RD="invaliddomain",t.CD="invalidsource",t.iw="error"}(Sk||(Sk={}));var Ik=function(){function t(t,n,i){this.DD=void 0,this.ND=t,this.OD=n,this.xD=i,this.DD=xk(this.xD)}var n=t.prototype;return n.PD=function(t,n){var i=this;if(!Zm(t)&&0!==n.mD.length&&!Dk(n.mD)){var r=[];if(Rd(t.sources)?r=[t.sources]:st(t.sources)&&(r=t.sources),!r.every(function(t){return i.LD(t,n)})){var e=Sk.CD,u=Lk.FD(e);throw new xo(Ck(e),u)}}},n.MD=function(n){return this.BD(n.ED)&&this.UD(n)?t.VD(n.kD)?bk.wD:bk.yD:bk.gD},n.BD=function(t){var n=this;return 0===t.length||t.some(function(t){return n.qD(t)})},n.qD=function(t){return"tvos"===function(t){switch(t){case lk.ANDROID:return H.kr;case lk.ANDROIDTV:case lk.FIRETV:return H.br;case lk.IOS:return H.Tr;case lk.TVOS:return H.Er;case lk.CHROMECAST:case lk.CHROMECASTCAF:return H.Sr;default:return H.mr}}(t)},t.VD=function(t){var n=Number(new Date);return!!t&&n<=t},n.UD=function(t){return!(this.DD&&0!==t.pD.length&&!Dk(t.pD))||!!(this.DD&&this.HD(t.pD)&&this.jD(t.pD))},n.HD=function(t){return Nk(this.xD.mv,t)},n.jD=function(t){if(!this.xD.dD)return!0;if(this.ND)return!0;var n=this.WD();return!!n&&Nk(n,t)},n.WD=function(){if(this.xD.dD){var t=o.ancestorOrigins;return t&&t.length>0?t[t.length-1]:this.xD.lD?this.xD.lD:void 0}},n.LD=function(n,i){return!!t.zD(n,i.mD)},t.zD=function(t,n){return Nk(this.$D(t),n)},t.$D=function(t){return ft(t)?t:Sd(t)&&t.src||""},t}();function Ck(t){switch(t){case Sk.RD:return n.ErrorCode.LICENSE_INVALID_DOMAIN;case Sk.CD:return n.ErrorCode.LICENSE_INVALID_SOURCE;case Sk.yD:return n.ErrorCode.LICENSE_EXPIRED;case Sk.iw:return n.ErrorCode.LICENSE_ERROR}}function Ak(t,n){var i=t,r=n;if(!i)return!1;if("*"===(r=r.trim()))return!0;if(r===(i=i.replace(/\.+$/,"")))return!0;var e="\\.",u="25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?",o="(\\*|"+u+")",s=new RegExp("ip-range\\("+o+e+o+e+o+e+o+"\\)"),c=r.match(s),a=function(t){return"*"===t?"("+u+")":t};if(null!==c&&5===c.length){var f=new RegExp("^"+c[1]+e+a(c[2])+e+a(c[3])+e+a(c[4])+"$");return null!==i.match(f)}return r="."+r,-1!==i.indexOf(r,i.length-r.length)}function Dk(t){return t.some(function(t){return"*"===t})}function Nk(t,n){var i=N.Vo(t);if(!Ok(i))return!0;for(var r=0;r<n.length;r++){var e=n[r];if(Ak(i.hostname,e))return!0;if(Ak(Hf(t),e))return!0}return!1}function Ok(t){return-1!==Tk.indexOf(t.protocol)}function xk(t){var n=N.Vo(t.mv);return Ok(n)&&!Ak(n.hostname,"localhost")&&!function(t){return Ak(t.hostname,"theoplayer.doubleclick.net")}(n)}var Pk,Lk=function(){function t(){}return t.FD=function(t){return t===Sk.RD?this.XD:t===Sk.CD?this.GD:t===Sk.yD?this.YD:this.KD},t}();function Fk(t){var n=[t.Vb,t.JD,t.QD];switch(t.JD){case Pk.ZD:n.push(t.hw);break;case Pk.tN:n.push(t.Ww),n.push(t.uc);break;case Pk.nN:n.push(t.uc)}return n}Lk.KD="The license for this player is invalid.",Lk.YD="The usage license for this video player has expired.",Lk.XD="The current domain is incompatible with the license for this player.",Lk.GD="The provided video source is incompatible with the license for this player.",function(t){t[t.ZD=1]="ZD",t[t.tN=4]="tN",t[t.nN=5]="nN"}(Pk||(Pk={}));for(var Mk=new Array(256),Bk=0;Bk<256;Bk+=1)Mk[Bk]=(Bk<16?"0":"")+Bk.toString(16);function Uk(){var t=tn(),n=(4294967296*w.random()|0)+t&3029421624,i=(4294967296*w.random()|0)+t&3595553209,r=(4294967296*w.random()|0)+t&1130486254,e=(4294967296*w.random()|0)+t&1284287105;return Mk[255&n]+Mk[n>>>8&255]+Mk[n>>>16&255]+Mk[n>>>24&255]+"-"+Mk[255&i]+Mk[i>>>8&255]+"-"+Mk[i>>>16&15|64]+Mk[i>>>24&255]+"-"+Mk[63&r|128]+Mk[r>>>8&255]+"-"+Mk[r>>>16&255]+Mk[r>>>24&255]+Mk[255&e]+Mk[e>>>8&255]+Mk[e>>>16&255]+Mk[e>>>24&255]}var Vk=function(){function t(t){this.aD=void 0,this.aD=t}var n=t.prototype;return n.fD=function(t){var n,i,r,e,u,o,s,c=[];if(!t)return"";for(n=0;n<t.length;n+=4)i=(s=this.aD.indexOf(t.charAt(n))<<18|this.aD.indexOf(t.charAt(n+1))<<12|(u=this.aD.indexOf(t.charAt(n+2)))<<6|(o=this.aD.indexOf(t.charAt(n+3))))>>>16&255,r=s>>>8&255,e=255&s,c[n/4]=String.fromCharCode(i,r,e),64===o&&(c[n/4]=String.fromCharCode(i,r)),64===u&&(c[n/4]=String.fromCharCode(i));return c.join("")},n.hD=function(t){var n,i,r,e,u,o,s,c=[],a="";if((o=t.length%3)>0)for(;o++<3;)a+=this.aD.charAt(64),t+="\0";for(o=0;o<t.length;o+=3)i=(n=t.charCodeAt(o)<<16|t.charCodeAt(o+1)<<8|t.charCodeAt(o+2))>>18&63,r=n>>12&63,e=n>>6&63,u=63&n,c[o/3]=this.aD.charAt(i)+this.aD.charAt(r)+this.aD.charAt(e)+this.aD.charAt(u);return(s=c.join("")).slice(0,s.length-a.length)+a},t}();function qk(){return N.po()}Vk.Pp=new Vk(function(){var t,n,i,r,e=[],u=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<u.length;t+=1)for(n=u[t],i=0;i<n.length;i+=1)r=n.charAt(i),-1===e.indexOf(r)&&e.push(r);return e.join("")}()),Vk.vD=new Vk(Vk.Pp.fD("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop"));var Hk,jk="theoplayer-session-id";function Wk(){if(!Hk){var t=Yo.dc(jk);t?Hk=t:(Hk=Uk(),Yo.Ya(jk,Hk))}return Hk}var zk=/[^\x00-\x7E]/g;function $k(t){return"\\u"+function(t,n,i){void 0===i&&(i=" ");var r=i,e=(0|n)-t.length;return e<=0?t:(e>r.length&&(r+=function(t,n){var i=0|n;if(0===t.length||0===i)return"";for(var r=t,e="";1==(1&i)&&(e+=r),0!=(i>>>=1);)r+=r;return e}(r,e/r.length)),r.slice(0,e)+t)}(t.charCodeAt(0).toString(16),4,"0")}var Xk=0,Gk=1,Yk=6e4;function Kk(t){var n,i,r,e,u,o=(n=function(t){return[t.iN,t.Kc,t._D,t.Zm,t.rN,t.eN,t.uN.map(Fk)]}(t),i=[],r=n,e=function(t,n){if(ct(n)){if(-1!==i.indexOf(n))return null;i.push(n)}return n},JSON.stringify(r,e,u).replace(zk,$k));return Vk.vD.hD(o)}var Jk=function(){function t(t,n,i,r,e,u){var o=this;void 0===r&&(r=Vk.Pp),void 0===e&&(e=Xk),void 0===u&&(u=Gk),this.oN=[],this.sN=null,this.cN=0,this.aN="unknown",this.fN=0,this.hN=function(){qk()-o.cN>Yk&&o.pr()},this.vN=function(){o.pr(!0)},this.aS=t,this.UT=n,this.dN=i,this.lN=r,this.wN=e,this.yN=u,S.wr(this.vN),f(this.hN,Yk)}var n=t.prototype;return n.gN=function(){return Boolean(this.rN)},n._N=function(){var t=A.coroutine(qr.mark(function t(n){var i;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.dN.pN();case 2:if(t.sent.SD){t.next=5;break}return t.abrupt("return");case 5:return i={JD:Pk.ZD,QD:tn(),hw:n},t.next=8,this.mN(i);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.kN=function(){var t=A.coroutine(qr.mark(function t(n,i){var r;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={JD:Pk.tN,QD:tn(),Ww:i,uc:n},t.next=3,this.mN(r);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.bN=function(){var t=A.coroutine(qr.mark(function t(n){var i;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i={JD:Pk.nN,QD:tn(),uc:n},t.next=3,this.mN(i);case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.mN=function(){var t=A.coroutine(qr.mark(function t(n){var i;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.dN.pN();case 2:if(i=t.sent,"a:n[_O*[C4C-N$_@_MYY $D]iOp]N$_-_]th_:c|aen?C:pH"!==this.lN.hD(i._D)){t.next=6;break}if(n.JD===Pk.nN){t.next=6;break}return t.abrupt("return");case 6:if(n.JD===Pk.ZD?this.TN():this.gN()||this.TN(),n.Vb=this.fN++,this.oN.push(n),(r=n.JD)!==Pk.ZD&&r!==Pk.nN){t.next=14;break}return t.next=12,this.pr();case 12:t.next=19;break;case 14:if(!(this.oN.length>this.wN)){t.next=19;break}return t.next=17,this.EN();case 17:t.next=19;break;case 19:case"end":return t.stop()}var r},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.pr=function(){var t=A.coroutine(qr.mark(function t(n){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:void 0===n&&(n=!1);case 1:if(!(this.oN.length>0)){t.next=6;break}return t.next=4,this.EN(n);case 4:t.next=1;break;case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.SN=function(){var t=A.coroutine(qr.mark(function t(n){var i;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.dN.pN();case 2:return i=t.sent,t.abrupt("return",{iN:tn(),Kc:Wk(),_D:this.lN.hD(i._D)||"dev",Zm:this.aS,rN:this.sN,eN:this.aN,uN:n});case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.EN=function(){var t=A.coroutine(qr.mark(function t(n){var i,r;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===n&&(n=!1),i=this.oN.splice(0,this.yN),t.next=4,this.SN(i);case 4:r=t.sent,n?this.jv(r):this.RN(r),this.cN=qk();case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.RN=function(){var t=A.coroutine(qr.mark(function t(n){var i,r,e;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=Kk(n),r=new Pf({mv:"https://license.theoplayer.com",iv:i,qv:!1,wv:ts.uu,lv:{"Content-Type":P_.gS},Bv:4e3,Mv:Af.POST}),t.prev=2,t.next=5,this.UT._v(r);case 5:return e=t.sent,t.next=8,e.Zh();case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),(new Image).src="https://licensing.theoplayer.com/t?"+i;case 13:case"end":return t.stop()}},t,this,[[2,10]])}));return function(n){return t.apply(this,arguments)}}(),n.jv=function(t){var n=Kk(t);this.UT.jv({mv:"https://license.theoplayer.com",iv:n,nv:P_.gS})},n.TN=function(){this.gN()&&this.pr(),this.sN=Uk(),this.fN=0},n.sr=function(){S.yr(this.vN),this.pr()},W(t,[{key:"uN",get:function(){return this.oN}},{key:"rN",get:function(){return this.sN}}]),t}();var Qk=!it.Se&&!it.Le;function Zk(t,n,i){var r=t.getImageData(n,i,1,1).data;return 0===r[0]&&0===r[1]&&0===r[2]&&0===r[3]}var tb=function(){function t(t){this.EI=void 0,this.sl=void 0,this.IN=void 0,this.EI=t}var n=t.prototype;return n.CN=function(t){if(!t||!t.drawImage)return!1;var n=this.EI.My();if(!n)return!1;for(var i=arguments.length,r=new Array(i>1?i-1:0),e=1;e<i;e++)r[e-1]=arguments[e];return t.drawImage.apply(t,[n].concat(r)),!0},n.AN=function(t,n,i,r,e,o){if(!t||!t.texImage2D)return!1;var s=this.EI,c=s.My();if(!c)return!1;if(!Qk){this.IN||(this.IN=u.createElement("canvas"));var a=this.IN,f=a.getContext("2d"),h=s.Zw,d=s.Qw,l=a.width,w=a.height;f.clearRect(0,0,a.width,a.height),l===h&&w===d||(a.width=h,a.height=d),f.drawImage(c,0,0,h,d);var y=!1;h>0&&Zk(f,h-1,0)&&(a.width=l,y=!0),d>0&&Zk(f,0,d-1)&&(a.height=w,y=!0),y&&f.drawImage(c,0,0,h,d),c=a}try{t.texImage2D(n,i,r,e,o,c)}catch(t){throw new v("Error trying to render video content to the WebGLRenderingContext. This is most likely due to CORS restrictions. https://support.theoplayer.com/hc/en-us/articles/115003094385#Considerations")}return!0},W(t,[{key:"cl",get:function(){return this.sl||(this.sl=(t=this,{drawImage:function(n){for(var i=arguments.length,r=new Array(i>1?i-1:0),e=1;e<i;e++)r[e-1]=arguments[e];return t.CN.apply(t,[n].concat(r))},texImage2D:function(n,i,r,e,u,o){return t.AN(n,i,r,e,u,o)}}));var t}}]),t}(),nb=function(t){function n(n,i){var r;return(r=t.call(this,"DN")||this).yo=n,r.Ok=i,r}return $(n,t),n.prototype.al=function(){return new ib(this.yo,this.Ok)},n}(Tv),ib=function(t){function n(n,i){var r;return(r=t.call(this,"dimensionchange")||this).width=n,r.height=i,r}return $(n,t),n}(Ge),rb=function(t,n){this.Xy=void 0,this.NN=void 0,this.Xy=t,this.NN=n},eb=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).ON=void 0,r.xN=0,r.PN=0,r.LN=function(t){if(t.length>0){var n=t[t.length-1].contentRect;r.PN=n.width,r.xN=n.height,r.NN(r.PN,r.xN)}},r.ON=new R.ResizeObserver(r.LN),r.ON.observe(r.Xy),r}return $(n,t),n.prototype.sr=function(){this.ON.disconnect()},W(n,[{key:"FN",get:function(){return this.xN}},{key:"MN",get:function(){return this.PN}}]),n}(rb),ub=0;var ob,sb=a,cb=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,ab=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelRequestAnimationFrame;function fb(){return ob||(ob=R&&R.document&&R.document.createElement("span")),ob}cb&&ab||(cb=function(t){var n=qk(),i=w.max(0,16-(n-ub)),r=c(function(){return t(n+i)},i);return ub=n+i,r},ab=sb),cb=cb.bind(t),ab=ab.bind(t);var hb=["Webkit","Moz","O","ms"],vb=(function(){var t=!1;try{if(void 0!==R&&"function"==typeof R.addEventListener){var n=l.defineProperty({},"passive",{get:function(){t=!0}});R.addEventListener("testPassiveEventSupport",L,n),R.removeEventListener("testPassiveEventSupport",L,n)}}catch(t){}}(),Wr());function db(t){return vb.has(t)||vb.set(t,function(t){var n=fb();if(!n||!n.style)return t;if(void 0!==n.style[t])return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<hb.length;r++){var e=hb[r],u=e+i;if(void 0!==n.style[u])return u}return t}(t)),vb.get(t)}function lb(t){var n=t.style;n.position="absolute",n.left=n.right=n.bottom=n.top="0",n.overflow="scroll",n.zIndex="-1",n.visibility="hidden"}function wb(t){var n=t.style;n.position="absolute",n.left=n.top="0",n[db("transition")]="0s"}var yb=function(t){function n(n,i,r){var o;(o=t.call(this,n,i)||this).BN=void 0,o.UN=0,o.PN=NaN,o.xN=NaN,o.VN=void 0,o.qN=void 0,o.HN=void 0,o.jN=void 0,o.WN=void 0,o.Ml=function(){o.qN.style.width=1e5+"px",o.qN.style.height=1e5+"px",o.VN.scrollLeft=1e5,o.VN.scrollTop=1e5,o.HN.scrollLeft=1e5,o.HN.scrollTop=1e5,0===o.HN.scrollTop&&cb(o.Ml)},o.zN=function(){var t=o.MN,n=o.FN;o.NN(t,n),o.PN=t,o.xN=n,o.Ml(),o.UN=0},o.$N=function(){if(!o.UN){var t=o.MN,n=o.FN;t===o.PN&&n===o.xN||(o.UN=cb(o.zN))}},o.XN=function(){o.WN||(o.WN=c(o.GN,66))},o.GN=function(){o.WN=void 0,o.YN()},o.YN=function(){o.$N()};var s=function(t,n){return e.getComputedStyle(t,void 0).getPropertyValue(n)||t.style[n]}(n,"position");r||"static"!==s||(n.style.position="relative");var a,f=u.createElement("div");return o.BN=f,o.VN=u.createElement("div"),o.qN=u.createElement("div"),o.HN=u.createElement("div"),o.jN=u.createElement("div"),lb(o.VN),lb(o.HN),wb(o.qN),wb(a=o.jN),a.style.width="200%",a.style.height="200%",f.appendChild(o.VN),f.appendChild(o.HN),o.VN.appendChild(o.qN),o.HN.appendChild(o.jN),n.appendChild(f),o.VN.addEventListener("scroll",o.$N),o.HN.addEventListener("scroll",o.$N),e&&e.addEventListener("resize",o.XN),o.$N(),o}return $(n,t),n.prototype.sr=function(){ab(this.UN),this.UN=0,this.VN.removeEventListener("scroll",this.$N),this.HN.removeEventListener("scroll",this.$N),mr(this.BN),e&&e.removeEventListener("resize",this.XN)},W(n,[{key:"FN",get:function(){return this.Xy.getBoundingClientRect().height||this.xN||0}},{key:"MN",get:function(){return this.Xy.getBoundingClientRect().width||this.PN||0}}]),n}(rb),gb=function(t){function n(n){var i;return(i=t.call(this)||this).Xy=void 0,i.ON=void 0,i.LN=function(t,n){i.Ws(new nb(t,n))},i.Xy=n,i}$(n,t);var i=n.prototype;return i.ia=function(t){this.ON||("function"==typeof R.ResizeObserver?this.ON=new eb(this.Xy,this.LN):this.ON=new yb(this.Xy,this.LN,t))},i.sr=function(){this.Gs(),this.ON&&(this.ON.sr(),this.ON=void 0)},W(n,[{key:"FN",get:function(){return this.ON?this.ON.FN:0}},{key:"MN",get:function(){return this.ON?this.ON.MN:0}}]),n}($e),_b=function(t){function n(){return t.call(this,nm.kl)||this}return $(n,t),n}(Ge);!function(){if(u)for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0;n<t.length;n++){var i=t[n];if(i[1]in u)return{KN:i[0],JN:i[1],QN:i[2],ZN:i[3],tO:i[4],nO:i[5]}}}();var pb=function(t){function n(){return t.call(this,nm.IC)||this}return $(n,t),n}(Ge),mb=function(t){function n(n,i){var r;return(r=t.call(this)||this).EI=void 0,r.iO=void 0,r.rO=void 0,r.eO=!1,r.uO=function(){return r.zc()},r.uA=function(t){r.eO||r.Ws(t)},r.EI=n,r.iO=i,r.rO=om,r.oO(),r.EI.zs(Zo.af,r.uO),r.zc(),r}$(n,t);var i=n.prototype;return i.kg=function(){this.iO&&this.rO.kg()},i.Tg=function(){this.rO.Tg()},i.oO=function(){this.rO.zs(nm.kl,this.uA),this.rO.zs(nm.iw,this.js)},i.sO=function(){this.rO.Ys(nm.kl,this.uA),this.rO.Ys(nm.iw,this.js)},i.zc=function(){var t=this.rO,n=this.EI.By();if(t!==n){this.eO=!0;var i=this.CC,r=this.AC;i&&this.Tg(),this.sO(),this.rO=n,this.oO(),i&&!this.CC&&this.AC?this.kg():this.Tg(),this.eO=!1,r!==this.AC&&this.Ws(new pb),i!==this.CC&&this.Ws(new _b)}},i.sr=function(){this.Gs(),this.sO(),this.EI.Ys(Zo.af,this.uO)},W(n,[{key:"AC",get:function(){return!!this.iO&&this.rO.AC}},{key:"CC",get:function(){return this.rO.CC}}]),n}($e);function kb(t){var n;return{get url(){return t.mv},get method(){return t.Mv},get headers(){return n||(n=t.lv.Bf()),n},get body(){return t.iv},get useCredentials(){return t.qv},get type(){return Rb(t.vs)},get subType(){return Cb(t.Uv)},get mediaType(){return Db(t.Vv)},get responseType(){return Tb(t.wv)}}}function bb(t){switch(t.toLowerCase()){case"arraybuffer":return ts.Lf;case"json":return ts.Ff;case"stream":return ts.Mf;case"text":default:return ts.uu}}function Tb(t){return t}function Eb(t){switch(t.toUpperCase()){case"POST":return Af.POST;case"PUT":return Af.PUT;case"DELETE":return Af.DELETE;case"HEAD":return Af.HEAD;case"OPTIONS":return Af.OPTIONS;case"GET":default:return Af.GET}}function Sb(t){switch(t.toLowerCase()){case"manifest":return Df.Tv;case"segment":return Df.Ev;case"content-protection":return Df.Sv;default:return Df.bv}}function Rb(t){return t}function Ib(t){switch(t.toLowerCase()){case"initialization-segment":return Nf.Rv;case"fairplay-license":return Nf.Iv;case"fairplay-certificate":return Nf.Cv;case"widevine-license":return Nf.Av;case"widevine-certificate":return Nf.Dv;case"playready-license":return Nf.Nv;case"clearkey-license":return Nf.Ov;case"aes128-key":return Nf.xv;default:return Nf.bv}}function Cb(t){return t}function Ab(t){switch(t.toLowerCase()){case"audio":return Of.Pv;case"video":return Of.Lv;case"text":return Of.uu;case"image":return Of.Fv;case"":default:return Of.bv}}function Db(t){return t}var Nb=function(){function t(t,n){this.cO=new ro,this.aO=[],this.sl=void 0,this.fO=!1,this.nd=void 0,this.hO=0,this.vO=t,this.dO=n}var n=t.prototype;return n.Hm=function(){this.fO=!0,this.cO.Ic(null)},n.lO=function(){this.cO.Cc(new cf(this.aO))},n.wO=function(t){if(!this.yO)throw new d("Cannot respond more than once");if(!ct(t))throw new d("Expected valid response");this.nd=this.gO(t),this.Hm()},n._O=function(){try{var t=this.dO(this.cl);t?this.pO(t):this.mO||this.kO||this.Hm()}catch(t){this.aO.push(t),this.lO()}},n.pO=function(t){if(this.kO)throw new v("Request has been redirected or a response already exists");if(vt(t))this.bO(t);else{if("function"!=typeof t)throw new d("Expected promise or function");var n=new ro;try{var i=t(function(t){t?n.Cc(t):n.Ic(void 0)});vt(i)&&n.Ic(i)}catch(t){n.Cc(t)}this.bO(n.Rc)}},n.bO=function(){var t=A.coroutine(qr.mark(function t(n){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.hO++,t.next=4,n;case 4:this.hO--,this.mO||this.kO||(this.aO.length?this.lO():this.Hm()),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(0),this.hO--,this.aO.push(t.t0),this.mO||this.kO||this.lO();case 13:case"end":return t.stop()}},t,this,[[0,8]])}));return function(n){return t.apply(this,arguments)}}(),W(t,[{key:"TO",get:function(){return this.cO.Rc}},{key:"cl",get:function(){return this.sl||(this.sl=this.EO()),this.sl}},{key:"kO",get:function(){return this.fO}},{key:"yO",get:function(){return!this.fO}},{key:"mO",get:function(){return this.hO>0}},{key:"rd",get:function(){return this.nd}}]),t}(),Ob=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).SO=void 0,e.SO=r,e._O(),e}$(n,t),n.RO=function(t,n,i){var r=void 0===t.body?i:t.body;return new xf({Pu:r,_v:n._v,wv:n._v.wv,lv:t.headers,dv:t.status,yv:t.statusText,pv:t.url,gv:!0},n)};var i=n.prototype;return i.EO=function(){return i=kb((t=this)._v),{get closed(){return!t.yO},get request(){return i},get url(){return t.mv},get status(){return t.dv},get statusText(){return t.yv},get headers(){return n||(n=t.lv.Bf()),n},get body(){return t.iv},respondWith:function(n){return t.wO(n)},waitUntil:function(n){return t.pO(n)}};var t,n,i},i.gO=function(t){return n.RO(t,this.vO,this.SO)},W(n,[{key:"iv",get:function(){return this.SO}},{key:"lv",get:function(){return this.vO.lv}},{key:"_v",get:function(){return this.vO._v}},{key:"rd",get:function(){return this.nd}},{key:"dv",get:function(){return this.vO.dv}},{key:"yv",get:function(){return this.vO.yv}},{key:"mv",get:function(){return this.vO.pv}}]),n}(Nb),xb=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).IO=void 0,e.CO=void 0,e.CO=r,e._O(),e}$(n,t);var i=n.prototype;return i.EO=function(){return t=this,{get url(){return t.mv},get method(){return t.Mv},get headers(){return n||(n=t.lv.Bf()),n},get body(){return t.iv},get closed(){return!t.yO},get useCredentials(){return t.qv},get type(){return Rb(t.vs)},get subType(){return Cb(t.Uv)},get mediaType(){return Db(t.Vv)},get responseType(){return Tb(t.wv)},redirect:function(n){return t.AO(n)},respondWith:function(n){return t.wO(n)},waitUntil:function(n){return t.pO(n)}};var t,n},i.gO=function(t){var n=this.vO.iv,i=new xf({Pu:n,lv:{},_v:this.vO,pv:this.vO.mv,wv:this.vO.wv,dv:200,yv:"OK"});return Ob.RO(t,i,n)},i.AO=function(t){if(!this.yO)throw new d("Cannot redirect, already redirected or has a response");var n;n=ft(t)?{url:t}:t,this.IO=function(t,n){return new Pf({mv:void 0===t.url?n.mv:t.url,Mv:void 0!==t.method?Eb(t.method):void 0,lv:t.headers,iv:t.body,qv:t.useCredentials,vs:void 0!==t.type?Sb(t.type):void 0,Uv:void 0!==t.subType?Ib(t.subType):void 0,Vv:void 0!==t.mediaType?Ab(t.mediaType):void 0,wv:void 0!==t.responseType?bb(t.responseType):void 0},n)}(n,this.vO),this.Hm()},W(n,[{key:"iv",get:function(){return this.vO.iv}},{key:"yO",get:function(){return this.CO&&!this.fO}},{key:"lv",get:function(){return this.vO.lv}},{key:"Mv",get:function(){return this.vO.Mv}},{key:"DO",get:function(){return this.IO}},{key:"rd",get:function(){return this.nd}},{key:"wv",get:function(){return this.vO.wv}},{key:"Bv",get:function(){return this.vO.Bv}},{key:"Us",get:function(){return this.vO.Us}},{key:"vs",get:function(){return this.vO.vs}},{key:"Uv",get:function(){return this.vO.Uv}},{key:"Vv",get:function(){return this.vO.Vv}},{key:"mv",get:function(){return this.vO.mv}},{key:"qv",get:function(){return this.vO.qv}},{key:"Hv",get:function(){return this.vO.Hv}}]),n}(Nb);var Pb,Lb=function(t){function n(n,i){var r;void 0===i&&(i=!0);var e=new Fb(n);return(r=t.call(this,e,i)||this).NO=void 0,r.NO=e,r}$(n,t);var i=n.prototype;return i.OO=function(t){this.NO.OO(t)},i.xO=function(t){this.NO.xO(t)},i.PO=function(t){this.NO.PO(t)},i.LO=function(t){this.NO.LO(t)},i.FO=function(t){this.NO.FO(t)},n}(Ff),Fb=function(){function t(t){this.Wv=void 0,this.MO=[],this.BO=[],this.Wv=t}var n=t.prototype;return n._v=function(){var t=A.coroutine(qr.mark(function t(n){var i;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.UO(n,n.Us);case 3:i=t.sent,t.next=13;break;case 6:if(t.prev=6,t.t0=t.catch(0),!(t.t0 instanceof jf)){t.next=12;break}return t.next=11,this.VO(t.t0,n.Us);case 11:return t.abrupt("return",t.sent);case 12:throw t.t0;case 13:return t.next=15,this.qO(i,n.Us);case 15:if(!Cf(i=t.sent)){t.next=20;break}return t.abrupt("return",i);case 20:throw new zf(i);case 21:case"end":return t.stop()}},t,this,[[0,6]])}));return function(n){return t.apply(this,arguments)}}(),n.jv=function(t){return this.Wv.jv(t)},n.UO=function(){var t=A.coroutine(qr.mark(function t(n,i){var r,e,u,o,s,c;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:xe(i),r=n,u=0,o=this.MO.slice();case 3:if(!(u<o.length)){t.next=21;break}if(s=o[u],xe(i),(c=new xb(r,s,!e)).kO){t.next=17;break}return t.prev=8,t.next=11,c.TO;case 11:t.next=17;break;case 13:return t.prev=13,t.t0=t.catch(8),t.abrupt("continue",18);case 17:c.DO&&!e?r=c.DO:c.rd&&!e&&(e=c.rd);case 18:u++,t.next=3;break;case 21:if(!e){t.next=23;break}return t.abrupt("return",e);case 23:return t.abrupt("return",this.Wv._v(r));case 24:case"end":return t.stop()}},t,this,[[8,13]])}));return function(n,i){return t.apply(this,arguments)}}(),n.VO=function(){var t=A.coroutine(qr.mark(function t(n,i){var r,e;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n instanceof zf?n.rd:new xf({Pu:null,_v:n._v,dv:0,yv:""}),t.next=3,this.qO(r,i);case 3:if((e=t.sent)!==r){t.next=8;break}throw n;case 8:if(!Cf(e)){t.next=12;break}return t.abrupt("return",e);case 12:throw new zf(e);case 13:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.qO=function(){var t=A.coroutine(qr.mark(function t(n,i){var r,e,u,o,s,c;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=n,e=0,u=this.BO.slice();case 2:if(!(e<u.length)){t.next=23;break}return o=u[e],xe(i),t.next=7,A.resolve(r.kc().Pu(i));case 7:if(s=t.sent,(c=new Ob(r,o,s)).kO){t.next=19;break}return t.prev=10,t.next=13,c.TO;case 13:t.next=19;break;case 15:return t.prev=15,t.t0=t.catch(10),t.abrupt("continue",20);case 19:r=c.rd||r;case 20:e++,t.next=2;break;case 23:return t.abrupt("return",r);case 24:case"end":return t.stop()}},t,this,[[10,15]])}));return function(n,i){return t.apply(this,arguments)}}(),n.OO=function(t){this.MO.unshift(t)},n.xO=function(t){this.MO.push(t)},n.PO=function(t){Se(this.MO,t)},n.LO=function(t){this.BO.unshift(t)},n.FO=function(t){Se(this.BO,t)},n.sr=function(){this.Wv.sr(),Ce(this.MO),Ce(this.BO)},t}(),Mb=function(t){function n(n,i,r){var e;return(e=t.call(this,i)||this).sl=void 0,e.HO=function(t){e.Ws(t)},e.jO=function(t){e.Ws(t)},e.WO=n,e.UT=i,e.qC=r,e.WO.zs(Zo.wf,e.HO),e.WO.zs(Zo.lf,e.jO),e}$(n,t);var i=n.prototype;return i.zO=function(t){this.qC.zO(t)},i.OO=function(t){this.UT.OO(t)},i.PO=function(t){this.UT.PO(t)},i.LO=function(t){this.UT.LO(t)},i.FO=function(t){this.UT.FO(t)},i.sr=function(){this.Gs(),this.WO.Ys(Zo.wf,this.HO),this.WO.Ys(Zo.lf,this.jO)},W(n,[{key:"cl",get:function(){var t;return this.sl||(this.sl=(t=this,{get online(){return t.ng},get estimator(){return n=t.$O,{get bandwidth(){return n.QS},get roundTripTime(){return n.ZS}};var n},setEstimator:function(n){t.zO(function(t){if(t)return{get QS(){return Wv(t.bandwidth)},get ZS(){return Wv(t.roundTripTime)},JS:function(n){return function(t){if(t)return{XO:function(n){t.markRequestStart(n)},GO:function(n){t.markResponseStart(n)},YO:function(n,i){t.markResponseData(n,i)},KO:function(n){t.markResponseEnd(n)}}}(t.createMeasurer(kb(n)))}}}(n))},addRequestInterceptor:function(n){t.OO(n)},removeRequestInterceptor:function(n){t.PO(n)},addResponseInterceptor:function(n){t.LO(n)},removeResponseInterceptor:function(n){t.FO(n)},addEventListener:function(n,i){t.zs(n,i)},removeEventListener:function(n,i){t.Ys(n,i)}})),this.sl}},{key:"ng",get:function(){return this.WO.ng}},{key:"$O",get:function(){return this.qC.$O}}]),n}($e);!function(t){t.PERFORMANCE="performance",t.QUALITY="quality",t.BANDWIDTH="bandwidth"}(Pb||(Pb={}));var Bb=30,Ub={type:Pb.BANDWIDTH},Vb=20,qb=60;function Hb(t){var n,i,r,e=Bv(Ub);return ft(t)?e.type=jb(t):ct(t)&&function(t){switch(t){case Pb.PERFORMANCE:case Pb.QUALITY:case Pb.BANDWIDTH:return!0;default:return!1}}(t.type)&&(e.type=jb(t.type)),ct(t)&&ct(t.metadata)&&(e.metadata=(n=t.metadata,i={},r=jv(n.bitrate),_(r)||(i.bitrate=r),i)),e}function jb(t){switch(t){case"bandwidth":return Pb.BANDWIDTH;case"performance":return Pb.PERFORMANCE;case"quality":return Pb.QUALITY}}var Wb=function(t){function n(n){var i;return(i=t.call(this,"QO")||this).JO=n,i}return $(n,t),n}(Ge),zb=function(t){function n(n){var i;return(i=t.call(this,"tx")||this).ZO=n,i}return $(n,t),n}(Ge),$b=function(t){function n(n){var i;return(i=t.call(this,"ix")||this).nx=n,i}return $(n,t),n}(Ge),Xb=function(t){function n(){for(var n,i,r=arguments.length,e=new Array(r),u=0;u<r;u++)e[u]=arguments[u];return(n=t.call.apply(t,[this].concat(e))||this).sl=(i=un(n),{get strategy(){return{metadata:(t=i.ZO).metadata,type:(n=t.type,n)};var t,n},set strategy(t){i.ZO=Hb(t)},get targetBuffer(){return i.JO},set targetBuffer(t){var n=jv(t);_(n)||(i.JO=n>qb?qb:n)},get bufferLookbackWindow(){return i.nx},set bufferLookbackWindow(t){var n=jv(t);_(n)||(i.nx=n<=0?Bb:n)}}),n.ex=Ub,n.ux=Vb,n.ox=Bb,n.sx=void 0,n.ax=void 0,n}$(n,t);var i=n.prototype;return i.hx=function(t){this.ax=t},i.zO=function(t){this.sx=t},W(n,[{key:"vx",get:function(){switch(this.ex.type){case Pb.PERFORMANCE:return 0;case Pb.QUALITY:return 1/0;case Pb.BANDWIDTH:return this.ex.metadata&&void 0!==this.ex.metadata.bitrate?this.ex.metadata.bitrate:8*vd.Tw();default:return 8*vd.Tw()}}},{key:"cl",get:function(){return this.sl}},{key:"ZO",get:function(){return this.ex},set:function(t){this.ex=t,this.Ws(new zb(t))}},{key:"JO",get:function(){return this.ux},set:function(t){this.ux=t,this.Ws(new Wb(t))}},{key:"nx",get:function(){return this.ox},set:function(t){this.ox=t,this.Ws(new $b(t))}},{key:"$O",get:function(){var t;return null!=(t=this.sx)?t:this.ax.fI}}]),n}($e),Gb=function(t){function n(){return t.call(this,"bl")||this}return $(n,t),n.prototype.al=function(){return new Yb},n}(Tv),Yb=function(t){function n(){return t.call(this,"change")||this}return $(n,t),n}(Ge),Kb=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).lx=void 0,r.wx=function(t){var n;n=t,Boolean(n&&n.cl)&&Ue(function(){r.Ws(t.cl)})},r.lx=n,r.lx.Xs(r.wx),r}return $(n,t),n.prototype.sr=function(){this.Gs(),this.lx.Qs(this.wx)},n}(cd),Jb=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n}(Kb);var Qb=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).Cg=0,n.Ag=1/0,n.sl=void 0,n}$(n,t);var i=n.prototype;return i.Ml=function(){0===this.Cg&&this.Ag===1/0||(this.Cg=0,this.Ag=1/0,this.Ws(new Gb))},i.yx=function(){return new rm([this.Sg,this.Rg],[!0,!0])},W(n,[{key:"Sg",get:function(){return this.Cg},set:function(t){if(this.Rg<=t)throw new v("Start time of a clip should be smaller than the end time.");this.Cg!==t&&(this.Cg=t,this.Ws(new Gb))}},{key:"Rg",get:function(){return this.Ag},set:function(t){if(t<=this.Sg)throw new v("End time of a clip should be larger than the start time.");this.Ag!==t&&(this.Ag=t,this.Ws(new Gb))}},{key:"cl",get:function(){var t,n,i;return this.sl||(this.sl=(i={get startTime(){return t.Sg},set startTime(n){t.Sg=n},get endTime(){return t.Rg},set endTime(n){t.Rg=n},addEventListener:function(t,i){n.zs(t,i)},removeEventListener:function(t,i){n.Ys(t,i)}},n=new Kb(t=this,i),i)),this.sl}}]),n}(cd),Zb=function(t){function n(n){var i;return(i=t.call(this)||this).gx=function(t){i._x(t)||i.Ws(t)},i.mx=n,i.mx.Xs(i.gx),i}$(n,t);var i=n.prototype;return i.kx=function(){return this.mx.Ty},i.Uy=function(){return this.mx.Uy()},i.bx=function(){return this.mx.zy},i.Tx=function(){return this.mx.jy},i.Ex=function(){return this.mx.$y},i.Sx=function(t){this.mx.$y=t},i.Rx=function(){return this.mx.Ww},i.Ix=function(t){this.mx.Ww=t},i.Cx=function(){return this.mx.zw},i.Ax=function(){return this.mx.Xy},i.Dx=function(){return this.mx.$w},i.Nx=function(){return this.mx.uc},i.Ox=function(){return this.mx.Xw},i.xx=function(){return this.mx.Gy},i.Px=function(){return this.mx.Gw},i.Lx=function(t){this.mx.Gw=t},i.Fx=function(){return this.mx.ng},i.Mx=function(){return this.mx.Yw},i.Bx=function(){return this.mx.Kw},i.Ux=function(t){this.mx.Kw=t},i.Vx=function(){return this.mx.ig},i.qx=function(){return this.mx.rg},i.Hx=function(t){this.mx.rg=t},i.jx=function(){return this.mx.cw},i.Wx=function(){return this.mx.eg},i.zx=function(){return this.mx.Jw},i.Cy=function(){return this.mx.Cy()},i.Ay=function(){var t=A.coroutine(qr.mark(function t(n,i){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return xe(i),t.next=3,this.mx.Ay(n,i);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.$x=function(){return this.mx.Sy},i.Xx=function(){return this.mx.Qw},i.Gx=function(){return this.mx.Ey},i.Yx=function(){return this.mx.Zw},i.Kx=function(){return this.mx.ty},i.Jx=function(t){this.mx.ty=t},i.By=function(){return this.mx.By()},i.My=function(){return this.mx.My()},i.xy=function(t){this.mx.xy(t)},i.Py=function(){this.mx.Py()},i.Fy=function(){this.mx.Fy()},i.hr=function(){this.mx.hr()},i.nr=function(){this.mx.nr()},i.tr=function(){this.mx.tr()},i.Ly=function(){this.mx.Ly()},i.Iy=function(){return this.mx.Iy()},i.Dy=function(){return this.mx.Dy()},i.Ny=function(){this.mx.Ny()},i.Oy=function(){this.mx.Oy()},i.Ml=function(){return this.mx.Ml()},i.sr=function(){return this.mx.sr()},i.Wy=function(){this.mx.Wy()},i.Vy=function(t){return this.mx.Vy(t)},i._x=function(t){return!1},W(n,[{key:"Ty",get:function(){return this.kx()}},{key:"zy",get:function(){return this.bx()}},{key:"$y",get:function(){return this.Ex()},set:function(t){this.Sx(t)}},{key:"jy",get:function(){return this.Tx()}},{key:"Ww",get:function(){return this.Rx()},set:function(t){this.Ix(t)}},{key:"zw",get:function(){return this.Cx()}},{key:"Xy",get:function(){return this.Ax()}},{key:"$w",get:function(){return this.Dx()}},{key:"uc",get:function(){return this.Nx()}},{key:"Xw",get:function(){return this.Ox()}},{key:"Ry",get:function(){return this.mx.Ry}},{key:"Gy",get:function(){return this.xx()}},{key:"ay",get:function(){return this.mx.ay}},{key:"Gw",get:function(){return this.Px()},set:function(t){this.Lx(t)}},{key:"ng",get:function(){return this.Fx()}},{key:"Yw",get:function(){return this.Mx()}},{key:"Kw",get:function(){return this.Bx()},set:function(t){this.Ux(t)}},{key:"ig",get:function(){return this.Vx()}},{key:"rg",get:function(){return this.qx()},set:function(t){this.Hx(t)}},{key:"cw",get:function(){return this.jx()}},{key:"eg",get:function(){return this.Wx()}},{key:"Jw",get:function(){return this.zx()}},{key:"Sy",get:function(){return this.$x()}},{key:"Qw",get:function(){return this.Xx()}},{key:"Ey",get:function(){return this.Gx()}},{key:"Zw",get:function(){return this.Yx()}},{key:"ty",get:function(){return this.Kx()},set:function(t){this.Jx(t)}}]),n}(ad),tT=function(t){function n(i,r){var e;return(e=t.call(this,i)||this).Qx=void 0,e.Zx=!1,e.tP=void 0,e.nP=!1,e.iP=function(){e.rP(),e.eP()},e.RR=function(){e.uP(),e.eP(),e.oP&&e.Ww>=e.Qx.Rg-n.sP&&!e.$w&&(e.tP=cb(e.RR))},e.cP=function(){e.nP=!0},e.aP=function(){e.nP&&(e.nP=!1,e.eP())},e.Qx=r,e.Qx.zs("bl",e.iP),e.mx.zs("timeupdate",e.RR),e}$(n,t);var i=n.prototype;return i.Ix=function(n){var i=this.Qx.yx().ZI(n);t.prototype.Ix.call(this,i),this.eP()},i.Dx=function(){return t.prototype.Dx.call(this)||this.Zx},i.Wx=function(){return rm.TC(t.prototype.Wx.call(this)).iC(this.Qx.yx()).oI()},i.tr=function(){this.Dx()?this.Ix(this.fP.start(0)):this.rP(),t.prototype.tr.call(this),this.eP()},i.Ay=function(){var n=A.coroutine(qr.mark(function n(i,r){return qr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return xe(r),this.Zx=!1,this.Qx.Ml(),n.next=5,t.prototype.Ay.call(this,i,r);case 5:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),i.sr=function(){return this.Qx.Ys("bl",this.iP),this.mx.Ys("timeupdate",this.RR),this.uP(),t.prototype.sr.call(this)},i._x=function(n){switch(n.type){case"seeking":return this.Ws(n),this.cP(),!0;case"seeked":case"emptied":return this.Ws(n),this.aP(),!0;case"ended":if(this.oP)return!0}return t.prototype._x.call(this,n)},i.uP=function(){this.tP&&(ab(this.tP),this.tP=void 0)},i.eP=function(){var t=this.Ww,i=this.oP&&t>=this.Qx.Rg-n.op;this.Zx&&!i?(this.Zx=!1,this.Yw&&this.tr()):this.Zx||!i||this.Jw||this.nP||(this.Zx=!0,this.Ws(new Wd(t)),this.nr())},i.rP=function(){if(this.zw!==1/0){var t=this.fP,i=rm.TC(t).ZI(this.Ww);Qt(this.Ww,i,n.op)||this.Ix(i)}},W(n,[{key:"fP",get:function(){return this.Wx().length?this.Wx():this.Qx.yx().oI()}},{key:"oP",get:function(){return this.Qx.Rg<this.zw}}]),n}(Zb);tT.sP=1,tT.op=.001;var nT=function(){function t(){this.hP=void 0,this.hP=!1}return W(t,[{key:"vP",get:function(){return this.hP},set:function(t){this.hP=t}}]),t}(),iT=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).hP=void 0,r.dP=!1,r.lP=!1,r.hP=i,r}$(n,t);var i=n.prototype;return i.Dx=function(){return!this.hP.vP&&t.prototype.Dx.call(this)},i.nr=function(){this.lP=!0,t.prototype.nr.call(this)},i.tr=function(){this.lP=!1,t.prototype.tr.call(this)},i._x=function(n){if(this.hP.vP)switch(n.type){case"ended":return this.Ww=0,this.lP||(this.Jw?this.dP=!0:this.tr()),!0;case"seeked":this.dP&&(this.dP=!1,this.tr());break;case"pause":if(this.dP||t.prototype.Dx.call(this))return!0}return t.prototype._x.call(this,n)},n}(Zb);var rT=function(){function t(t){var n;this.sl=(n=this,{get currentBandwidthEstimate(){return n.Qy},get corruptedVideoFrames(){return n.Ky},get droppedVideoFrames(){return n.Yy},get totalBytesLoaded(){return n.Zy},get bufferedSegments(){return n.tg}}),this.OI=t}return W(t,[{key:"cl",get:function(){return this.sl}},{key:"Ky",get:function(){return this.OI.wP.ay.Ky}},{key:"Qy",get:function(){return this.OI.wP.ay.Qy}},{key:"Yy",get:function(){return this.OI.wP.ay.Yy}},{key:"yP",get:function(){throw new v("Not implemented")}},{key:"gP",get:function(){throw new v("Not implemented")}},{key:"Zy",get:function(){return this.OI.wP.ay.Zy}},{key:"Jy",get:function(){return this.OI.wP.ay.Jy}},{key:"tg",get:function(){return this.OI.wP.ay.tg}}]),t}(),eT=function(t){function n(){return t.call(this,"_P")||this}return $(n,t),n.prototype.al=function(){return new uT},n}(Tv),uT=function(t){function n(){return t.call(this,"castingchange")||this}return $(n,t),n}(Ge);var oT=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).pP=[],n.sl=void 0,n.mP=function(){return n.Ws(new eT)},n}$(n,t);var i=n.prototype;return i.kP=function(t){this.pP.push(t),t.zs("statechange",this.mP)},i.sr=function(){var t=this;this.pP.forEach(function(n){n.Ys("statechange",t.mP)}),Ce(this.pP)},W(n,[{key:"bP",get:function(){return this.pP.some(function(t){return t.bP})}},{key:"cl",get:function(){var t,n,i;return this.sl||(this.sl=(i={get casting(){return t.bP},addEventListener:function(t,i){n.zs(t,i)},removeEventListener:function(t,i){n.Ys(t,i)}},n=new Jb(t=this,i),i)),this.sl}}]),n}(ad),sT=function(){function t(){}return t.TP=function(){var t=A.coroutine(qr.mark(function t(n,i){var r,e;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=new Pf({mv:n,wv:ts.uu,Mv:Af.GET}),t.next=4,i._v(r);case 4:return e=t.sent,t.next=7,e.Pu();case 7:return t.abrupt("return",t.sent);case 10:return t.prev=10,t.t0=t.catch(0),Oe(t.t0),t.abrupt("return",void 0);case 14:case"end":return t.stop()}},t,null,[[0,10]])}));return function(n,i){return t.apply(this,arguments)}}(),t.EP=function(t){try{var i=mk(t);return new Rk(i.key,i.domains_page,i.domains_source,i.expiration_date,i.customer_id,i.generation_date,i.sdks,i.send_impression)}catch(t){throw new xo(n.ErrorCode.LICENSE_ERROR,"Invalid license. No valid license was configured.")}},t.SP=function(t){void 0===t&&(t=Vk.Pp),N.So("The baked-in license is used. Please update the configuration with your license.");var n=t.fD(".$hsF|b9_Ess*r[Y.4(HiEagT@Y@Cen3Cec3Cl\"\""),i=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.fD(n)}),r=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.fD(n)}),e=Number(new Date(Number(t.fD("COD|aHpHa:p3Ceo3Co\"\""))));return new Rk(n,i,r,e)},t.convertLicenseToDummyLicense=function(t){return new Rk(t._D,t.pD,t.mD,864e13,t.bD,Date.now(),t.ED,t.SD)},t}(),cT=function(){function t(){}return t.Ka=function(){return t.tu||(t.tu=aT.aa()?new aT:new Go),t.tu},t.yc=function(n){t.Ka().yc(n)},t.Ga=function(){t.Ka().Ga()},t.dc=function(n){return t.Ka().dc(n)},t.Ya=function(n,i){t.Ka().Ya(n,i)},t.RP=function(n){var i=t.dc(n);if(void 0!==i)return g(i)},t.IP=function(n){return"true"===t.dc(n)},t}();cT.tu=void 0;var aT=function(n){function i(){return n.apply(this,arguments)||this}$(i,n),i.aa=function(){try{return t.localStorage.setItem("foobar","foobar"),t.localStorage.removeItem("foobar"),!0}catch(t){}return!1};var r=i.prototype;return r.yc=function(n){t.localStorage.removeItem(n)},r.Ga=function(){t.localStorage.clear()},r.dc=function(n){return t.localStorage[n]},r.Ya=function(n,i){t.localStorage[n]=i},i}(cT),fT=w.floor(14399999*w.random()-72e5),hT=function(){function t(t,n,i,r,e,u){this.DD=void 0,this.UT=t,this.CP=n,this.AP=i,this.dN=r,this.DP=e,this.xD=u,this.DD=xk(u)}var i=t.prototype;return i.NP=function(){var t=A.coroutine(qr.mark(function t(){var n;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.OP(this.DP.license,this.DP.licenseUrl);case 2:n=t.sent,this.dN.xP(n);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.OP=function(){var t=A.coroutine(qr.mark(function t(i,r){var e,u,o,s,c,a,f,h,v;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r,i?u=sT.EP(i):e||(u=sT.SP()),e||(e="https://validate.theoplayer.com/1/"+u._D),o=this.PP(),!u){t.next=14;break}if((s=this.CP.MD(u))!==bk.wD){t.next=14;break}if(!this.LP(u.kD)||!this.LP(null==o?void 0:o.kD)){t.next=13;break}return t.next=10,this.FP(e);case 10:if(!(c=t.sent)){t.next=13;break}return t.abrupt("return",c);case 13:return t.abrupt("return",u);case 14:if(!o){t.next=25;break}if(this.CP.MD(o)!==bk.wD){t.next=24;break}if(!this.LP(null==o?void 0:o.kD)){t.next=23;break}return t.next=20,this.FP(e);case 20:if(!(a=t.sent)){t.next=23;break}return t.abrupt("return",a);case 23:return t.abrupt("return",o);case 24:cT.yc("THEOplayer.license");case 25:return t.next=27,sT.TP(e,this.UT);case 27:if(!(f=t.sent)){t.next=37;break}if(h=sT.EP(f),this.CP.MD(h)!==bk.wD){t.next=34;break}return cT.Ya("THEOplayer.license",f),t.abrupt("return",h);case 34:cT.yc("THEOplayer.license"),t.next=39;break;case 37:if(this.DD||!u||s!==bk.yD||e!=="https://validate.theoplayer.com/1/"+u._D){t.next=39;break}return t.abrupt("return",sT.convertLicenseToDummyLicense(u));case 39:if(!u&&!h){t.next=43;break}this.MP(null!=(v=u)?v:h,new xo(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!")),t.next=44;break;case 43:throw new xo(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!");case 44:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.PD=function(){var t=A.coroutine(qr.mark(function t(n){var i,r,e,u,o,s,c;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.dN.pN();case 2:if(i=t.sent,!this.LP(i.kD)){t.next=9;break}return e=null!=(r=this.DP.licenseUrl)?r:"https://validate.theoplayer.com/1/"+i._D,t.next=7,this.FP(e);case 7:(u=t.sent)&&(this.dN.xP(u),i=u);case 9:if(t.prev=9,(o=this.CP.MD(i))!==bk.gD){t.next=16;break}throw s=Sk.RD,new xo(Ck(s),Lk.FD(s));case 16:if(o!==bk.yD){t.next=19;break}throw c=Sk.yD,new xo(Ck(c),Lk.FD(c));case 19:this.CP.PD(n,i),t.next=25;break;case 22:t.prev=22,t.t0=t.catch(9),this.BP(t.t0);case 25:case"end":return t.stop()}},t,this,[[9,22]])}));return function(n){return t.apply(this,arguments)}}(),i.FP=function(){var t=A.coroutine(qr.mark(function t(n){var i,r;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,sT.TP(n,this.UT);case 3:if(void 0!==(i=t.sent)){t.next=6;break}return t.abrupt("return",void 0);case 6:if(r=sT.EP(i),this.CP.MD(r)!==bk.wD){t.next=11;break}return cT.Ya("THEOplayer.license",i),t.abrupt("return",r);case 11:return t.abrupt("return",void 0);case 14:return t.prev=14,t.t0=t.catch(0),t.abrupt("return",void 0);case 17:case"end":return t.stop()}},t,this,[[0,14]])}));return function(n){return t.apply(this,arguments)}}(),i.LP=function(t){return!t||Number(new Date)+2592e5+fT>=t},i.PP=function(){var t=cT.dc("THEOplayer.license");if(t)return sT.EP(t)},i.MP=function(t,n){this.dN.xP(t),this.BP(n)},i.BP=function(t){throw bt(t.message),this.AP.bN(t.message),t},t}(),vT=function(){function t(){this.UP=void 0,this.VP=new ro}var n=t.prototype;return n.xP=function(t){this.UP=t,this.VP.Ic()},n.pN=function(){var t=A.coroutine(qr.mark(function t(){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.UP){t.next=2;break}return t.abrupt("return",A.resolve(this.UP));case 2:return t.next=4,this.VP.Rc;case 4:return t.abrupt("return",this.UP);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),W(t,[{key:"qP",get:function(){return this.UP}}]),t}(),dT=function(t){function n(){return t.call(this,"bl")||this}return $(n,t),n.prototype.al=function(){return new lT},n}(Tv),lT=function(t){function n(){return t.call(this,"change")||this}return $(n,t),n}(Ge);function wT(t){var n,i={get fontFamily(){return t.HP},set fontFamily(n){t.HP=n},get fontColor(){return t.jP},set fontColor(n){t.jP=n},get fontSize(){return t.WP},set fontSize(n){t.WP=n},get backgroundColor(){return t.zP},set backgroundColor(n){t.zP=n},get windowColor(){return t.$P},set windowColor(n){t.$P=n},get edgeStyle(){return t.XP},set edgeStyle(n){t.XP=n},addEventListener:function(t,i){var r=$v(t,zv);n.zs(r,i)},removeEventListener:function(t,i){var r=$v(t,zv);n.Ys(r,i)}};return n=new Xe(i),t.zs(["bl"],function(t){return n.Ws(t.cl)}),i}var yT,gT,_T={HP:void 0,jP:void 0,WP:void 0,zP:void 0,$P:void 0,XP:void 0,GP:void 0},pT="THEOplayer.textTrackStyle.",mT=function(t){function n(){var i;return(i=t.call(this)||this).YP=void 0,i.sl=void 0,i.YP=n.KP(),i}return $(n,t),n.prototype.zc=function(t){this.YP=Hr({},this.YP,t),n.JP(this.YP),this.Ws(new dT)},n.KP=function(){var t=Hr({},_T);return t.HP=cT.dc(pT+"fontFamily")||t.HP,t.jP=cT.dc(pT+"fontColor")||t.jP,t.WP=cT.dc(pT+"fontSize")||t.WP,t.zP=cT.dc(pT+"backgroundColor")||t.zP,t.$P=cT.dc(pT+"windowColor")||t.$P,t.XP=cT.dc(pT+"edgeStyle")||t.XP,t},n.JP=function(t){cT.Ya(pT+"fontFamily",t.HP||""),cT.Ya(pT+"fontColor",t.jP||""),cT.Ya(pT+"fontSize",t.WP||""),cT.Ya(pT+"backgroundColor",t.zP||""),cT.Ya(pT+"windowColor",t.$P||""),cT.Ya(pT+"edgeStyle",t.XP||"")},W(n,[{key:"QP",get:function(){return this.YP}},{key:"HP",get:function(){return this.YP.HP},set:function(t){this.zc({HP:t})}},{key:"jP",get:function(){return this.YP.jP},set:function(t){this.zc({jP:t})}},{key:"WP",get:function(){return this.YP.WP},set:function(t){this.zc({WP:t})}},{key:"zP",get:function(){return this.YP.zP},set:function(t){this.zc({zP:t})}},{key:"$P",get:function(){return this.YP.$P},set:function(t){this.zc({$P:t})}},{key:"XP",get:function(){return this.YP.XP},set:function(t){this.zc({XP:t})}},{key:"GP",get:function(){return this.YP.GP}},{key:"cl",get:function(){return this.sl||(this.sl=wT(this)),this.sl}}]),n}($e),kT=function(t){function n(n,i){var r;(r=t.call(this)||this).ZP=void 0,r.Zc=void 0,r.wP=void 0,r.tL=void 0,r.tl=void 0,r.Qx=void 0,r.hP=void 0,r.nL=void 0,r.iL=void 0,r.qC=void 0,r.CP=void 0,r.rL=void 0,r.eL=void 0,r.VC=void 0,r.uL=!1,r.yy=!1,r.hg=void 0,r.oL=!1,r.sL=void 0,r.cL=void 0,r.aL=void 0,r.fL=void 0,r.hL=void 0,r.vL=function(t){if(!r.oL){r.oL=!0;var n=r.ZP,i=pl(t);r.wP.zl=new am(r.Xy,i,t),Ve(n.sr())}},r.dL=function(t){r.Ws(t.cl)},r.lL=function(t){t.type!==Zo.wf&&t.type!==Zo.lf&&r.Ws(t)};var e=jv(i.uid);_(e)?r.hg=Il++:r.hg=e,r.Zc=i;var u=N.tl,o=new vT;r.tL=new Jk("2.92.0",u,o),r.tl=new Lb(u,i.allowMixedContent),r.qC=new Xb,r.CP=new Ik(i.isEmbeddable,"2.92.0",kk()),r.hL=new hT(u,r.CP,r.tL,o,i,kk()),r.hL.NP().catch(r.vL),r.rL=new gb(n),r.rL.zs("DN",r.dL),r.VC=new mT,r.Qx=new Qb,r.hP=new nT;var s=new cm(n,i,r.tl,r.qC,r.rL,r.VC);r.qC.hx(s);var c=s;c=new tT(c,r.wL),c=new iT(c,r.vP),r.ZP=c,r.wP=new wl(r.ZP),r.wP.Xs(r.lL),r.fL=new rT(un(r)),r.cL=new Mb(r.wP,r.tl,r.qC),r.nL=new tb(un(r)),r.eL=new mb(r.wP,i.allowNativeFullscreen),r.iL=new Cm(r.eL),r.rL.ia();var a=new T(r.rL,r.VC,1,[ml.Lv]);return r.sL=new E(a),r.aL=new oT,r}$(n,t);var i=n.prototype;return i.Lx=function(t){this.wP.Gw=t,t||this.Yw||this.hr()},i.Jx=function(t){this.wP.ty=t},i.yL=function(){il(this,Am,this)},i.tr=function(){this.wP.tr()},i.nr=function(){this.wP.nr()},i.Ay=function(){var t=A.coroutine(qr.mark(function t(n,i){var r;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=5;break}return this.hL.PD(n).catch(this.vL),r=bT(n),t.next=5,this.wP.Ay(r,i);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.hr=function(){this.yy||(this.wP.hr(),this.sL.hr(),this.yy=!0)},i.CC=function(){return this.iL.fA()===Tm.FULLSCREEN},i.Ly=function(){this.wP.Ly()},i.Fy=function(){this.wP.Fy()},i.My=function(){return this.wP.My()},i.Ml=function(){var t=A.coroutine(qr.mark(function t(){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.wP.Iy();case 2:return t.next=4,this.wP.Ml();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.sr=function(){var t=A.coroutine(qr.mark(function t(){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Gs(),this.aL.sr(),this.tl.sr(),this.cL.sr(),this.eL.sr(),this.iL.sr(),this.rL.sr(),this.tL.sr(),this.sL.sr(),t.next=11,this.wP.sr();case 11:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),W(n,[{key:"gL",get:function(){return this.qC}},{key:"ky",get:function(){return this.uL},set:function(t){this.uL=t,this.wP.ky=t}},{key:"_L",get:function(){return this.sL}},{key:"Ty",get:function(){return this.wP.Ty}},{key:"pL",get:function(){return this.aL}},{key:"mL",get:function(){return this.rL}},{key:"Ry",get:function(){return this.wP.Ry}},{key:"ay",get:function(){return this.fL}},{key:"kL",get:function(){return this.cL}},{key:"Sy",get:function(){return this.wP.Sy}},{key:"bL",get:function(){return this.VC}},{key:"Ey",get:function(){return this.wP.Ey}},{key:"zy",get:function(){return this.wP.zy}},{key:"wL",get:function(){return this.Qx}},{key:"vP",get:function(){return this.hP}},{key:"Ww",get:function(){return this.wP.Ww},set:function(t){this.wP.Ww=t}},{key:"$y",get:function(){return this.wP.$y},set:function(t){this.wP.$y=t}},{key:"jy",get:function(){return this.wP.jy}},{key:"zw",get:function(){return this.wP.zw}},{key:"Xy",get:function(){return this.wP.Xy}},{key:"$w",get:function(){return this.wP.$w}},{key:"uc",get:function(){return this.wP.uc}},{key:"Xw",get:function(){return this.wP.Xw}},{key:"Gw",get:function(){return this.wP.Gw},set:function(t){var n=Boolean(t);this.Lx(n)}},{key:"Yw",get:function(){return this.wP.Yw}},{key:"Kw",get:function(){return this.wP.Kw},set:function(t){this.wP.Kw=t}},{key:"ig",get:function(){return this.wP.ig}},{key:"rg",get:function(){return this.wP.rg},set:function(t){this.wP.rg=Jp(t)}},{key:"cw",get:function(){return this.wP.cw}},{key:"eg",get:function(){return this.wP.eg}},{key:"Jw",get:function(){return this.wP.Jw}},{key:"Kl",get:function(){return this.hg}},{key:"Qw",get:function(){return this.wP.Qw}},{key:"Zw",get:function(){return this.wP.Zw}},{key:"ty",get:function(){return this.wP.ty},set:function(t){var n=Jt(Number(t),0,1)||0;this.Jx(n)}}]),n}(ad);function bT(t){t.sources;var n=t.sources.filter(function(t){return void 0===t.integration});return t.sources=n,t}!function(t){t[t.TL=0]="TL",t[t.EL=1]="EL"}(yT||(yT={})),function(t){t[t.SL=0]="SL"}(gT||(gT={}));var TT={};function ET(t,n){var i=t;if(TT[n])for(var r=0,e=TT[n];r<e.length;r++){i=(0,e[r])(i)}return i}var ST=[];function RT(t){ST.push(t)}var IT=t.CustomEvent;var CT=function(){try{var t=new IT("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?function(t,n){return new CustomEvent(t,n)}:function(t,n){var i=u.createEvent("CustomEvent");return i.initCustomEvent(t,(null==n?void 0:n.bubbles)||!1,(null==n?void 0:n.cancelable)||!1,null==n?void 0:n.detail),i},AT=function(){function t(t,n){var i=this;this.OI=void 0,this.RL=void 0,this.IL=!1,this.CL=function(t){i.RL.kN(t.error,i.Ww)},this.AL=function(){i.RL._N(i.DL),i.OI.removeEventListener("playing",i.AL),i.IL=!1},this.NL=function(){i.IL||(i.OI.addEventListener("playing",i.AL),i.IL=!0)},this.RL=n,this.OI=t,this.OI.addEventListener("error",this.CL),this.OI.addEventListener("sourcechange",this.NL),this.NL()}return t.prototype.Ml=function(){},W(t,[{key:"Ww",get:function(){var t=this.OI.currentTime;return"number"==typeof t&&isFinite(t)?t:"now"}},{key:"DL",get:function(){return this.OI.src||""}}]),t}();RT(function(t){new AT(t.cl,t.tL)});var DT,NT,OT="theoplayer-stored-volume",xT="theoplayer-stored-mutedstate";DT=function(t){return function(t){function n(n,i){var r;if(r=t.call(this,n,i)||this,i.persistVolume){var e=cT.RP(OT);(void 0===e||_(e))&&(e=1);var u=cT.IP(xT)||!1;r.ty=e,r.Gw=u}return r}$(n,t);var i=n.prototype;return i.Lx=function(n){this.Zc.persistVolume&&cT.Ya(xT,""+Boolean(n)),t.prototype.Lx.call(this,n)},i.Jx=function(n){this.Zc.persistVolume&&cT.Ya(OT,""+Number(n)),t.prototype.Jx.call(this,n)},n}(t)},NT=yT.EL,(TT[NT]||(TT[NT]=[])).push(DT);var PT=new(function(){function t(){this.OL=[],this.sl=void 0}var n=t.prototype;return n.xl=function(t){return this.OL[t]},n.xL=function(t){this.OL.push(t),this.cl.push(t.cl)},n.Wc=function(t){var n=this.OL.indexOf(t);n<0||(Re(this.OL,n),this.sl&&Re(this.sl,n))},n.PL=function(t){for(var n=0,i=this.OL;n<i.length;n++){var r=i[n];if(r.Kl===t)return r}},W(t,[{key:"Ul",get:function(){return this.OL.length}},{key:"cl",get:function(){return this.sl||(this.sl=function(t){for(var n=[],i=0;i<t.Ul;i++)n[i]=t.xl(i).cl;return n.getPlayerByUID=function(n){var i=t.PL(n);return i&&i.cl},n}(this)),this.sl}}]),t}()),LT=function(){function t(t){var n=this;this.LL=[],this.FL=void 0,this.Md=new De,this.ML=void 0,this.kn=function(){return 0===n.LL.length?n.ML?FT(n.ML,n.Md.Us).then(n.BL,n.BL):n.BL():n.LL.shift()().then(n.kn)},this.BL=function(){if(0!==n.LL.length)return n.kn();n.FL=void 0},this.ML=t}var n=t.prototype;return n.UL=function(t,n){var i=this;return new A(function(r){var e=new De;e.Ms(i.Md.Us),n&&e.Ms(n);var u=function(){e.Ds()};i.LL.push(function(){var n=FT(t,e.Us);return r(n),n.then(u,u)}),i.FL||(i.FL=i.kn())})},n.Fs=function(){return this.VL(!0)},n.sr=function(){return this.ML=void 0,this.VL(!1)},n.VL=function(t){var n=this.FL;return this.Md.Fs(),t&&(this.Md=new De),A.resolve(n)},t}();function FT(t,n){return new A(function(i){return i(t(n))})}var MT,BT=function(t){function n(n){var i;return(i=t.call(this,Zo.Af)||this).source=n,i}return $(n,t),n}(Ge),UT=function(t){function n(){var n;return(n=t.call(this)||this).NC=void 0,n.xC=void 0,n.FC=void 0,n.LC=void 0,n.NC=0,n.xC=!0,n.FC=!1,n.LC=1,n}$(n,t);var i=n.prototype;return i.tr=function(){this.xC&&(this.xC=!1,this.Ws(new Fd(this.Ww)),this.Ws(new rg(this.Ww)))},i.nr=function(){this.xC||(this.xC=!0,this.Ws(new jd(this.Ww,this.$y)),this.Ws(new Ld(this.Ww)))},i.Ml=function(){this.NC=0,this.FC=!1,this.LC=1,this.nr(),this.Ws(new Pd(this.NC))},i.sr=function(){this.Gs()},i.Fy=function(){},i.Ly=function(){},W(n,[{key:"$y",get:function(){},set:function(t){}},{key:"Ww",get:function(){return this.NC},set:function(t){this.FC&&this.NC===t||(this.NC=t,this.FC=!0,this.Ws(new $d(this.Ww)))}},{key:"Yw",get:function(){return this.xC}},{key:"Kw",get:function(){return this.LC},set:function(t){this.LC!==t&&(this.LC=t,this.Ws(new Hd(this.Ww,this.Kw)))}},{key:"cw",get:function(){return _d.xw}},{key:"Jw",get:function(){return this.FC}}]),n}(cd),VT=function(t){function n(){return t.call(this,Zo.ef)||this}return $(n,t),n}(Ge),qT={zIndex:"1",display:"inline-block",verticalAlign:"middle",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"contain",cursor:"pointer",margin:"0",padding:"0",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",height:"100%"},HT={visibility:"hidden"},jT={visibility:"visible"},WT=function(){function t(t){var n,i=this;this.II=void 0,this.OI=void 0,this.qL=!1,this.HL=void 0,this.jL=void 0,this.WL=function(t){var n;i.qL=!1,i.HL=null==(n=t.source)?void 0:n.poster,i.zc()},this.uE=function(){i.qL=!0,i.Fy()},this.OI=t,this.MI(),this.II=((n=R&&R.document&&R.document.createElement("div")).className="theoplayer-poster",kr(qT,n),n),t.Xy.appendChild(this.II)}var n=t.prototype;return n.zc=function(){var t=this.OI.Yw,n=this.qL;this.mv?this.II.style.backgroundImage='url("'+this.mv.replace(/[\\"]/g,function(t){return"\\"+t})+'")':this.II.style.backgroundImage="",t&&this.mv&&!n?this.Ly():this.Fy()},n.Ly=function(){kr(HT,this.OI.Xy),kr(jT,this.II)},n.Fy=function(){kr(HT,this.II),kr(jT,this.OI.Xy)},n.MI=function(){this.OI.zs("sourcechange",this.WL),this.OI.zs("play",this.uE)},n.sr=function(){this.OI.Ys("sourcechange",this.WL),this.OI.Ys("play",this.uE),mr(this.II)},W(t,[{key:"mv",get:function(){return void 0!==this.HL?this.HL:void 0!==this.jL?this.jL:void 0}},{key:"zL",set:function(t){this.jL=t,this.zc()}}]),t}();function zT(t){return function(n){function i(i,r){var e;return(e=n.call(this,i)||this).OI=void 0,e.$L=void 0,e.XL=void 0,e.GL=void 0,e.YL=void 0,e.KL=void 0,e.JL=void 0,e.QL=void 0,e.FI=void 0,e.LI=void 0,e.sl=void 0,e.ZL=function(t){t.type!==Zo.pf&&e.QL.push(t)},e.$L=new t(i,r),e.XL=new UT,e.OI=e.$L,e.GL=new WT(un(e)),e.KL=new LT,e.JL=!1,e.QL=[],e.FI=!0,e.LI=void 0,e.MI(),e}$(i,n);var r=i.prototype;return r.UL=function(){var t=A.coroutine(qr.mark(function t(n,i){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.KL.UL(n,i).catch(Le));case 1:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.tF=function(){var t=A.coroutine(qr.mark(function t(n,i){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return xe(i),this.$L.Xs(this.ZL),t.next=4,this.$L.Ay(n,i);case 4:this.$L.Qs(this.ZL);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.nF=function(){var t=A.coroutine(qr.mark(function t(){var n,i,r;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((n=this.Cy())&&!Zm(n)&&this.ky&&this.Yw){t.next=3;break}return t.abrupt("return");case 3:return i=n.mutedAutoplay||this.Zc.mutedAutoplay,t.next=6,this._L.ar();case 6:r=t.sent,t.t0=r,t.next="all"===t.t0?10:"muted"===t.t0?12:14;break;case 10:return this.iF(),t.abrupt("break",14);case 12:return(this.Gw||i===Md.ALL)&&(this.Gw=!0,this.tr()),t.abrupt("break",14);case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.Ay=function(t){var n=this,i=this.LI;i&&!Zm(i)&&this.Ws(new Pd(0,0)),this.Ml(),this.LI=t,Ve(this.UL(function(){var i=A.coroutine(qr.mark(function i(r){return qr.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return xe(r),i.prev=1,i.next=4,n.tF(t,r);case 4:i.next=10;break;case 6:throw i.prev=6,i.t0=i.catch(1),n.LI=void 0,i.t0;case 10:return i.next=12,n.rF();case 12:case"end":return i.stop()}},i,null,[[1,6]])}));return function(t){return i.apply(this,arguments)}}()))},r.rF=function(){var t=A.coroutine(qr.mark(function t(){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.eF(this.$L),this.Ws(new BT(this.Cy())),t.next=4,this.nF();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.Ix=function(t){this.OI.Ww=t},r.Nx=function(){return this.$L.uc},r.Ox=function(){return this.$L.Xw},r.tr=function(){this.OI.tr()},r.iF=function(){this.Gw||this.hr(),this.tr()},r.hr=function(){this.$L.hr()},r.nr=function(){this.OI.nr()},r.Iy=function(){this.Ay(void 0)},r.Ly=function(){this.FI=!0,this.OI.Ly()},r.Fy=function(){this.FI=!1,this.OI.Fy()},r.yL=function(){this.$L.yL()},r.Jx=function(t){this.$L.Jx(t)},r.Lx=function(t){this.$L.Lx(t)},r.uF=function(t){this.YL=t,t.xL(this)},r.CC=function(){return this.$L.CC()},r.Cy=function(){return this.LI},r.My=function(){return this.$L.My()},r.Rx=function(){return this.$L.Ww},r.Cx=function(){return this.$L.zw},r.bx=function(){return this.$L.zy},r.Vx=function(){return this.$L.ig},r.Wx=function(){return this.$L.eg},r.Ml=function(){var t=this;this.LI=void 0,Ce(this.QL),this.XL.Ml(),this.eF(this.XL),this.KL.Fs(),Ve(this.KL.UL(function(){var n=A.coroutine(qr.mark(function n(i){return qr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return xe(i),n.next=3,t.$L.Ml();case 3:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}()))},r.sr=function(){var t=this;this.Ws(new VT),this.GL.sr(),this.BI(),this.Ml(),Ve(this.UL(A.coroutine(qr.mark(function n(){return qr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.$L.sr();case 2:t.YL&&(t.YL.Wc(t),t.YL=void 0),t.KL.sr();case 4:case"end":return n.stop()}},n)})))),this.Gs()},r.eF=function(t){if(this.OI!==t){var n=this.OI.Yw,i=this.OI.Ww,r=this.OI.Kw,e=this.OI.Jw;this.BI(),t===this.$L?((e||t.Ww!==i)&&(t.Ww=i),t.Kw!==r&&(t.Kw=r),n?t.nr():t.tr()):this.Zc.retainPlaybackRateOnSourceChange?t.Kw=r:1!==r&&this.Ws(new Hd(this.Rx(),1)),this.OI=t,this.MI();for(var u=0,o=this.QL;u<o.length;u++){var s=o[u];this.Ws(s)}Ce(this.QL),this.FI?t.Ly():t.Fy()}},r.MI=function(){this.OI.Xs(this.js)},r.BI=function(){this.OI.Qs(this.js)},r.al=function(){return t=this,r=function(n){i=n;var r=ak(n,t.Zc);t.Ay(r)},e={get abr(){return t.gL.cl},get audioTracks(){return t.Ty.cl},get autoplay(){return t.ky},set autoplay(n){t.ky=Boolean(n)},get buffered(){return t.bx()},get canvas(){return t.nL.cl},get clip(){return t.wL.cl},get currentProgramDateTime(){var n;return null!=(n=t.$y)?n:null},set currentProgramDateTime(n){t.$y=null!=n?n:void 0},get currentTime(){return t.Rx()},set currentTime(n){t.Ix(Number(n))},get duration(){return t.Cx()},get element(){return t.Xy},get ended(){return t.$w},get error(){return t.Nx()},get errorObject(){return t.Ox()},get loop(){return t.vP.vP},set loop(n){t.vP.vP=Boolean(n)},get metrics(){return t.ay.cl},get muted(){return t.Gw},set muted(n){t.Lx(n)},get network(){return t.kL.cl},get paused(){return t.Yw},get playbackRate(){return t.Kw},set playbackRate(n){var i=Number(n);if(i<0)throw new RangeError("playbackRate must be a positive number");t.Kw=i},get played(){return t.Vx()},get poster(){return t.oF},set poster(n){t.oF=zv(n)},get preload(){return t.rg},set preload(n){t.rg=n},get presentation(){return t.iL.cl},get readyState(){return t.cw},get seekable(){return t.Wx()},get seeking(){return t.Jw},get source(){return i},set source(t){r(t)},get src(){return tk(t.Cy())},set src(t){r({sources:t})},get textTracks(){return t.Sy.cl},get textTrackStyle(){return t.bL.cl},get uid(){return t.Kl},get videoHeight(){return t.Qw},get videoTracks(){return t.Ey.cl},get videoWidth(){return t.Zw},get volume(){return t.ty},set volume(n){t.Jx(Number(n))},destroy:function(){t.sr(),t=null,i=void 0},play:function(){t.iF()},pause:function(){t.nr()},stop:function(){i=void 0,t.Iy()},prepareWithUserAction:function(){t.hr()},addEventListener:function(t,i){n.zs(t,i)},removeEventListener:function(t,i){n.Ys(t,i)},setSource:function(t){r(t)}},(n=new Rm(e,!0)).KC(t),e;var t,n,i,r,e},W(i,[{key:"tL",get:function(){return this.$L.tL}},{key:"nL",get:function(){return this.$L.nL}},{key:"Zc",get:function(){return this.$L.Zc}},{key:"ZP",get:function(){return this.$L.ZP}},{key:"tl",get:function(){return this.$L.tl}},{key:"tI",get:function(){return this.$L.eL}},{key:"iL",get:function(){return this.$L.iL}},{key:"rL",get:function(){return this.$L.rL}},{key:"wP",get:function(){return this.$L.wP}},{key:"gL",get:function(){return this.$L.gL}},{key:"ky",get:function(){return this.$L.ky},set:function(t){this.$L.ky=t,this.nF()}},{key:"_L",get:function(){return this.$L._L}},{key:"Ty",get:function(){return this.$L.Ty}},{key:"pL",get:function(){return this.$L.pL}},{key:"mL",get:function(){return this.$L.rL}},{key:"cl",get:function(){return this.sl||(this.sl=this.al()),this.sl}},{key:"Ry",get:function(){return this.$L.Ry}},{key:"ay",get:function(){return this.$L.ay}},{key:"kL",get:function(){return this.$L.kL}},{key:"Sy",get:function(){return this.$L.Sy}},{key:"bL",get:function(){return this.$L.bL}},{key:"Ey",get:function(){return this.$L.Ey}},{key:"wL",get:function(){return this.$L.wL}},{key:"vP",get:function(){return this.$L.vP}},{key:"$y",get:function(){return this.OI.$y},set:function(t){this.OI.$y=t}},{key:"jy",get:function(){return this.$L.jy}},{key:"Xy",get:function(){return this.$L.Xy}},{key:"$w",get:function(){return this.$L.$w}},{key:"Gw",get:function(){return this.$L.Gw},set:function(t){this.$L.Gw=t}},{key:"Yw",get:function(){return this.OI.Yw}},{key:"oF",get:function(){return this.GL.mv||""},set:function(t){this.GL.zL=t}},{key:"Kw",get:function(){return this.$L.Kw},set:function(t){this.OI.Kw=t}},{key:"rg",get:function(){return this.$L.rg},set:function(t){this.$L.rg=Jp(t)}},{key:"cw",get:function(){return this.OI.cw}},{key:"Jw",get:function(){return this.OI.Jw}},{key:"Kl",get:function(){return this.$L.Kl}},{key:"Qw",get:function(){return this.$L.Qw}},{key:"Zw",get:function(){return this.$L.Zw}},{key:"ty",get:function(){return this.$L.ty},set:function(t){this.$L.ty=t}}]),i}(ad)}Ue(function(){t.dispatchEvent&&t.dispatchEvent(CT("theoplayerready"))});var $T={base64:new(function(){function t(){}var n=t.prototype;return n.encode=function(t){return fu(t)},n.decode=function(t){return cu(t)},t}())},XT=PT.cl,GT=Pg.QE.registerContentProtectionIntegration.bind(Pg.QE),YT=function(){this.fairplayController=void 0,this.cache=void 0,this.dai=void 0},KT=function(){function t(){this.internalDict={},this.uidCounter=0}var n=t.prototype;return n.register=function(t){return this.internalDict[this.uidCounter]=t,this.uidCounter++},n.get=function(t){return this.internalDict[t]},n.remove=function(t){delete this.internalDict[t]},t}(),JT=b(function(t,n){function i(t,n){var i=[],r=[];return null==n&&(n=function(t,n){return i[0]===n?"[Circular ~]":"[Circular ~."+r.slice(0,i.indexOf(n)).join(".")+"]"}),function(e,u){if(i.length>0){var o=i.indexOf(this);~o?i.splice(o+1):i.push(this),~o?r.splice(o,1/0,e):r.push(e),~i.indexOf(u)&&(u=n.call(this,e,u))}else i.push(u);return null==t?u:t.call(this,e,u)}}(t.exports=function(t,n,r,e){return JSON.stringify(t,i(n,e),r)}).getSerialize=i});function QT(t,n){return void 0!==n&&null!=n&&"function"==typeof n.start&&"function"==typeof n.end&&"number"==typeof n.length?function(t){for(var n=[],i=0;i<t.length;i++)n[i]={start:t.start(i),end:t.end(i)};return n}(n):n}function ZT(t){return JSON.stringify(t,JT.getSerialize(QT))}var tE=b(function(t,n){l.defineProperty(n,"__esModule",{value:!0}),n.CHAR="\t\n\r -\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",n.S=" \t\r\n",n.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u");var i=9,r=10,e=13,u=32;function o(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}n.S_LIST=[u,r,e,i],n.isChar=function(t){return t>=u&&t<=55295||t===r||t===e||t===i||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isS=function(t){return t===u||t===r||t===e||t===i},n.isNameStartChar=o,n.isNameChar=function(t){return o(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),nE=b(function(t,n){l.defineProperty(n,"__esModule",{value:!0}),n.CHAR="\x01-\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",n.RESTRICTED_CHAR="\x01-\b\v\f\x0e-\x1f\x7f-\x84\x86-\x9f",n.S=" \t\r\n",n.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.RESTRICTED_CHAR_RE=new RegExp("^["+n.RESTRICTED_CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u");var i=9,r=10,e=13,u=32;function o(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}n.S_LIST=[u,r,e,i],n.isChar=function(t){return t>=1&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isRestrictedChar=function(t){return t>=1&&t<=8||11===t||12===t||t>=14&&t<=31||t>=127&&t<=132||t>=134&&t<=159},n.isCharAndNotRestricted=function(t){return 9===t||10===t||13===t||t>31&&t<127||133===t||t>159&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isS=function(t){return t===u||t===r||t===e||t===i},n.isNameStartChar=o,n.isNameChar=function(t){return o(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),iE=b(function(t,n){function i(t){return t>=65&&t<=90||95===t||t>=97&&t<=122||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}l.defineProperty(n,"__esModule",{value:!0}),n.NC_NAME_START_CHAR="A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NC_NAME_CHAR="-"+n.NC_NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.NC_NAME_START_CHAR_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]$","u"),n.NC_NAME_CHAR_RE=new RegExp("^["+n.NC_NAME_CHAR+"]$","u"),n.NC_NAME_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]["+n.NC_NAME_CHAR+"]*$","u"),n.isNCNameStartChar=i,n.isNCNameChar=function(t){return i(t)||45===t||46===t||t>=48&&t<=57||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),rE=b(function(t,n){l.defineProperty(n,"__esModule",{value:!0});var i=tE.isS,r=tE.isChar,e=tE.isNameStartChar,u=tE.isNameChar,o=tE.S_LIST,s=tE.NAME_RE,c=nE.isChar,a=iE.isNCNameStartChar,f=iE.isNCNameChar,h=iE.NC_NAME_RE;const d="http://www.w3.org/XML/1998/namespace",w="http://www.w3.org/2000/xmlns/",g={__proto__:null,xml:d,xmlns:w},_={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},p=-1,m=-2,k=0,b=1,T=2,E=3,S=4,R=5,I=6,C=7,A=8,D=9,N=10,O=11,x=12,P=13,L=14,F=15,M=16,B=17,U=18,V=19,q=20,H=21,j=22,W=23,z=24,$=25,X=26,G=27,Y=28,K=29,J=30,Q=31,Z=32,tt=33,nt=34,it=35,rt=36,et=37,ut=38,ot=39,st=40,ct=41,at=42,ft=43,ht=44,vt=9,dt=10,lt=13,wt=32,yt=33,gt=38,_t=45,pt=47,mt=59,kt=60,bt=61,Tt=62,Et=63,St=91,Rt=93,It=133,Ct=8232,At=t=>34===t||39===t,Dt=[34,39],Nt=[...Dt,St,Tt],Ot=[...Dt,kt,Rt],xt=[bt,Et,...o],Pt=[...o,Tt,gt,kt];function Lt(t,n,i){switch(n){case"xml":i!==d&&t.fail(`xml prefix must be bound to ${d}.`);break;case"xmlns":i!==w&&t.fail(`xmlns prefix must be bound to ${w}.`)}switch(i){case w:t.fail(""===n?`the default namespace may not be set to ${i}.`:`may not assign a prefix (even "xmlns") to the URI ${w}.`);break;case d:switch(n){case"xml":break;case"":t.fail(`the default namespace may not be set to ${i}.`);break;default:t.fail("may not assign the xml namespace to another prefix.")}}}const Ft=t=>h.test(t),Mt=t=>s.test(t),Bt=0,Ut=1,Vt=2;n.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const qt={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};n.SaxesParser=class{constructor(t){this.opt=null!=t?t:{},this.fragmentOpt=!!this.opt.fragment;const n=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=!1!==this.opt.position,this.fileName=this.opt.fileName,n){this.nameStartCheck=a,this.nameCheck=f,this.isName=Ft,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=l.assign({__proto__:null},g);const t=this.opt.additionalNamespaces;null!=t&&(function(t,n){for(const i of l.keys(n))Lt(t,i,n[i])}(this,t),l.assign(this.ns,t))}else this.nameStartCheck=e,this.nameCheck=u,this.isName=Mt,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this.Na}_init(){var t;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=Bt,this.attribList=[];const{fragmentOpt:n}=this;this.state=n?P:k,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=n,this.xmlDeclPossible=!n,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:i}=this.opt;if(void 0===i){if(!0===this.opt.forceXMLVersion)throw new v("forceXMLVersion set but defaultXMLVersion is not set");i="1.0"}this.setXMLVersion(i),this.positionAtNewLine=0,this.doctype=!1,this.Na=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=l.create(_),null===(t=this.readyHandler)||void 0===t||t.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(t,n){this[qt[t]]=n}off(t){this[qt[t]]=void 0}makeError(t){var n;let i=null!==(n=this.fileName)&&void 0!==n?n:"";return this.trackPosition&&(i.length>0&&(i+=":"),i+=`${this.line}:${this.column}`),i.length>0&&(i+=": "),new v(i+t)}fail(t){const n=this.makeError(t),i=this.errorHandler;if(void 0===i)throw n;return i(n),this}write(t){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let n=!1;null===t?(n=!0,t=""):"object"==typeof t&&(t=t.toString()),void 0!==this.carriedFromPrevious&&(t=`${this.carriedFromPrevious}${t}`,this.carriedFromPrevious=void 0);let i=t.length;const r=t.charCodeAt(i-1);!n&&(r===lt||r>=55296&&r<=56319)&&(this.carriedFromPrevious=t[i-1],i--,t=t.slice(0,i));const{stateTable:e}=this;for(this.chunk=t,this.i=0;this.i<i;)e[this.state].call(this);return this.chunkPosition+=i,n?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return p;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>=wt||i===vt)return i;switch(i){case dt:return this.line++,this.column=0,this.positionAtNewLine=this.position,dt;case lt:return t.charCodeAt(n+1)===dt&&(this.i=n+2),this.line++,this.column=0,this.positionAtNewLine=this.position,m;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const r=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,r>1114111&&this.fail("disallowed character."),r}getCode11(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return p;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>31&&i<127||i>159&&i!==Ct||i===vt)return i;switch(i){case dt:return this.line++,this.column=0,this.positionAtNewLine=this.position,dt;case lt:{const i=t.charCodeAt(n+1);i!==dt&&i!==It||(this.i=n+2)}case It:case Ct:return this.line++,this.column=0,this.positionAtNewLine=this.position,m;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const r=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,r>1114111&&this.fail("disallowed character."),r}getCodeNorm(){const t=this.getCode();return t===m?dt:t}unget(){this.i=this.prevI,this.column--}captureTo(t){let{i:n}=this;const{chunk:i}=this;for(;;){const r=this.getCode(),e=r===m,u=e?dt:r;if(u===p||t.includes(u))return this.text+=i.slice(n,this.prevI),u;e&&(this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i)}}captureToChar(t){let{i:n}=this;const{chunk:i}=this;for(;;){let r=this.getCode();switch(r){case m:this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i,r=dt;break;case p:return this.text+=i.slice(n),!1}if(r===t)return this.text+=i.slice(n,this.prevI),!0}}captureNameChars(){const{chunk:t,i:n}=this;for(;;){const i=this.getCode();if(i===p)return this.name+=t.slice(n),p;if(!u(i))return this.name+=t.slice(n,this.prevI),i===m?dt:i}}skipSpaces(){for(;;){const t=this.getCodeNorm();if(t===p||!i(t))return t}}setXMLVersion(t){this.currentXMLVersion=t,"1.0"===t?(this.isChar=r,this.getCode=this.getCode10):(this.isChar=c,this.getCode=this.getCode11)}sBegin(){65279===this.chunk.charCodeAt(0)&&(this.i++,this.column++),this.state=b}sBeginWhitespace(){const t=this.i,n=this.skipSpaces();switch(this.prevI!==t&&(this.xmlDeclPossible=!1),n){case kt:if(this.state=F,0!==this.text.length)throw new v("no-empty text at start");break;case p:break;default:this.unget(),this.state=P,this.xmlDeclPossible=!1}}sDoctype(){var t;const n=this.captureTo(Nt);switch(n){case Tt:null===(t=this.doctypeHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=P,this.doctype=!0;break;case p:break;default:this.text+=String.fromCodePoint(n),n===St?this.state=S:At(n)&&(this.state=E,this.q=n)}}sDoctypeQuote(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.q=null,this.state=T)}sDTD(){const t=this.captureTo(Ot);t!==p&&(this.text+=String.fromCodePoint(t),t===Rt?this.state=T:t===kt?this.state=I:At(t)&&(this.state=R,this.q=t))}sDTDQuoted(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.state=S,this.q=null)}sDTDOpenWaka(){const t=this.getCodeNorm();switch(this.text+=String.fromCodePoint(t),t){case yt:this.state=C,this.openWakaBang="";break;case Et:this.state=O;break;default:this.state=S}}sDTDOpenWakaBang(){const t=String.fromCodePoint(this.getCodeNorm()),n=this.openWakaBang+=t;this.text+=t,"-"!==n&&(this.state="--"===n?A:S,this.openWakaBang="")}sDTDComment(){this.captureToChar(_t)&&(this.text+="-",this.state=D)}sDTDCommentEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),this.state=t===_t?N:A}sDTDCommentEnded(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===Tt?this.state=S:(this.fail("malformed comment."),this.state=A)}sDTDPI(){this.captureToChar(Et)&&(this.text+="?",this.state=x)}sDTDPIEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===Tt&&(this.state=S)}sText(){0!==this.tags.length?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:t}=this;const{chunk:n}=this;t:for(;;)switch(this.getCode()){case m:this.entity+=`${n.slice(t,this.prevI)}\n`,t=this.i;break;case mt:{const{entityReturnState:i}=this,r=this.entity+n.slice(t,this.prevI);let e;this.state=i,""===r?(this.fail("empty entity name."),e="&;"):(e=this.parseEntity(r),this.entity=""),i===P&&void 0===this.textHandler||(this.text+=e);break t}case p:this.entity+=n.slice(t);break t}}sOpenWaka(){const t=this.getCode();if(e(t))this.state=nt,this.unget(),this.xmlDeclPossible=!1;else switch(t){case pt:this.state=ft,this.xmlDeclPossible=!1;break;case yt:this.state=M,this.openWakaBang="",this.xmlDeclPossible=!1;break;case Et:this.state=W;break;default:this.fail("disallowed character in tag name"),this.state=P,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=q,this.openWakaBang="";break;case"--":this.state=B,this.openWakaBang="";break;case"DOCTYPE":this.state=T,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(_t)&&(this.state=U)}sCommentEnding(){var t;const n=this.getCodeNorm();n===_t?(this.state=V,null===(t=this.commentHandler)||void 0===t||t.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(n)}`,this.state=B)}sCommentEnded(){const t=this.getCodeNorm();t!==Tt?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(t)}`,this.state=B):this.state=P}sCData(){this.captureToChar(Rt)&&(this.state=H)}sCDataEnding(){const t=this.getCodeNorm();t===Rt?this.state=j:(this.text+=`]${String.fromCodePoint(t)}`,this.state=q)}sCDataEnding2(){var t;const n=this.getCodeNorm();switch(n){case Tt:null===(t=this.cdataHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=P;break;case Rt:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(n)}`,this.state=q}}sPIFirstChar(){const t=this.getCodeNorm();this.nameStartCheck(t)?(this.piTarget+=String.fromCodePoint(t),this.state=z):t===Et||i(t)?(this.fail("processing instruction without a target."),this.state=t===Et?X:$):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(t),this.state=z)}sPIRest(){const{chunk:t,i:n}=this;for(;;){const r=this.getCodeNorm();if(r===p)return void(this.piTarget+=t.slice(n));if(!this.nameCheck(r)){this.piTarget+=t.slice(n,this.prevI);const e=r===Et;e||i(r)?"xml"===this.piTarget?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=e?tt:G):this.state=e?X:$:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(r));break}}}sPIBody(){if(0===this.text.length){const t=this.getCodeNorm();t===Et?this.state=X:i(t)||(this.text=String.fromCodePoint(t))}else this.captureToChar(Et)&&(this.state=X)}sPIEnding(){var t;const n=this.getCodeNorm();if(n===Tt){const{piTarget:n}=this;"xml"===n.toLowerCase()&&this.fail("the XML declaration must appear at the start of the document."),null===(t=this.piHandler)||void 0===t||t.call(this,{target:n,body:this.text}),this.piTarget=this.text="",this.state=P}else n===Et?this.text+="?":(this.text+=`?${String.fromCodePoint(n)}`,this.state=$);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const t=this.skipSpaces();t!==Et?t!==p&&(this.state=Y,this.name=String.fromCodePoint(t)):this.state=tt}sXMLDeclName(){const t=this.captureTo(xt);if(t===Et)return this.state=tt,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(i(t)||t===bt){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=t===bt?J:K}}sXMLDeclEq(){const t=this.getCodeNorm();if(t===Et)return this.state=tt,void this.fail("XML declaration is incomplete.");i(t)||(t!==bt&&this.fail("value required."),this.state=J)}sXMLDeclValueStart(){const t=this.getCodeNorm();if(t===Et)return this.state=tt,void this.fail("XML declaration is incomplete.");i(t)||(At(t)?this.q=t:(this.fail("value must be quoted."),this.q=wt),this.state=Q)}sXMLDeclValue(){const t=this.captureTo([this.q,Et]);if(t===Et)return this.state=tt,this.text="",void this.fail("XML declaration is incomplete.");if(t===p)return;const n=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const t=n;this.xmlDecl.version=t,/^1\.[0-9]+$/.test(t)?this.opt.forceXMLVersion||this.setXMLVersion(t):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(n)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=n;break;case"standalone":"yes"!==n&&"no"!==n&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=n}this.name="",this.state=Z}sXMLDeclSeparator(){const t=this.getCodeNorm();t!==Et?(i(t)||(this.fail("whitespace required."),this.unget()),this.state=G):this.state=tt}sXMLDeclEnding(){var t;this.getCodeNorm()===Tt?("xml"!==this.piTarget?this.fail("processing instructions are not allowed before root."):"version"!==this.name&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),null===(t=this.xmldeclHandler)||void 0===t||t.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=P):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var t;const n=this.captureNameChars();if(n===p)return;const r=this.tag={name:this.name,attributes:l.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=r.ns=l.create(null)),null===(t=this.openTagStartHandler)||void 0===t||t.call(this,r),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),n){case Tt:this.openTag();break;case pt:this.state=it;break;default:i(n)||this.fail("disallowed character in tag name."),this.state=rt}}sOpenTagSlash(){this.getCode()===Tt?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=rt)}sAttrib(){const t=this.skipSpaces();t!==p&&(e(t)?(this.unget(),this.state=et):t===Tt?this.openTag():t===pt?this.state=it:this.fail("disallowed character in attribute name."))}sAttribName(){const t=this.captureNameChars();t===bt?this.state=ot:i(t)?this.state=ut:t===Tt?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):t!==p&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const t=this.skipSpaces();switch(t){case p:return;case bt:this.state=ot;break;default:this.fail("attribute without value."),this.text="",this.name="",t===Tt?this.openTag():e(t)?(this.unget(),this.state=et):(this.fail("disallowed character in attribute name."),this.state=rt)}}sAttribValue(){const t=this.getCodeNorm();At(t)?(this.q=t,this.state=st):i(t)||(this.fail("unquoted attribute value."),this.state=at,this.unget())}sAttribValueQuoted(){const{q:t,chunk:n}=this;let{i:i}=this;for(;;)switch(this.getCode()){case t:return this.pushAttrib(this.name,this.text+n.slice(i,this.prevI)),this.name=this.text="",this.q=null,void(this.state=ct);case gt:return this.text+=n.slice(i,this.prevI),this.state=L,void(this.entityReturnState=st);case dt:case m:case vt:this.text+=`${n.slice(i,this.prevI)} `,i=this.i;break;case kt:return this.text+=n.slice(i,this.prevI),void this.fail("disallowed character.");case p:return void(this.text+=n.slice(i))}}sAttribValueClosed(){const t=this.getCodeNorm();i(t)?this.state=rt:t===Tt?this.openTag():t===pt?this.state=it:e(t)?(this.fail("no whitespace between attributes."),this.unget(),this.state=et):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const t=this.captureTo(Pt);switch(t){case gt:this.state=L,this.entityReturnState=at;break;case kt:this.fail("disallowed character.");break;case p:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",t===Tt?this.openTag():this.state=rt}}sCloseTag(){const t=this.captureNameChars();t===Tt?this.closeTag():i(t)?this.state=ht:t!==p&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case Tt:this.closeTag();break;case p:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:t,forbiddenState:n}=this;const{chunk:i,textHandler:r}=this;t:for(;;)switch(this.getCode()){case kt:if(this.state=F,void 0!==r){const{text:n}=this,e=i.slice(t,this.prevI);0!==n.length?(r(n+e),this.text=""):0!==e.length&&r(e)}n=Bt;break t;case gt:this.state=L,this.entityReturnState=P,void 0!==r&&(this.text+=i.slice(t,this.prevI)),n=Bt;break t;case Rt:switch(n){case Bt:n=Ut;break;case Ut:n=Vt;break;case Vt:break;default:throw new v("impossible state")}break;case Tt:n===Vt&&this.fail('the string "]]>" is disallowed in char data.'),n=Bt;break;case m:void 0!==r&&(this.text+=`${i.slice(t,this.prevI)}\n`),t=this.i,n=Bt;break;case p:void 0!==r&&(this.text+=i.slice(t));break t;default:n=Bt}this.forbiddenState=n}handleTextOutsideRoot(){let{i:t}=this;const{chunk:n,textHandler:r}=this;let e=!1;t:for(;;){const u=this.getCode();switch(u){case kt:if(this.state=F,void 0!==r){const{text:i}=this,e=n.slice(t,this.prevI);0!==i.length?(r(i+e),this.text=""):0!==e.length&&r(e)}break t;case gt:this.state=L,this.entityReturnState=P,void 0!==r&&(this.text+=n.slice(t,this.prevI)),e=!0;break t;case m:void 0!==r&&(this.text+=`${n.slice(t,this.prevI)}\n`),t=this.i;break;case p:void 0!==r&&(this.text+=n.slice(t));break t;default:i(u)||(e=!0)}}e&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(t,n){var i;const{prefix:r,local:e}=this.qname(t),u={name:t,prefix:r,local:e,value:n};if(this.attribList.push(u),null===(i=this.attributeHandler)||void 0===i||i.call(this,u),"xmlns"===r){const t=n.trim();"1.0"===this.currentXMLVersion&&""===t&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[e]=t,Lt(this,e,t)}else if("xmlns"===t){const t=n.trim();this.topNS[""]=t,Lt(this,"",t)}}pushAttribPlain(t,n){var i;const r={name:t,value:n};this.attribList.push(r),null===(i=this.attributeHandler)||void 0===i||i.call(this,r)}end(){var t,n;this.sawRoot||this.fail("document must contain a root element.");const{tags:i}=this;for(;i.length>0;){const t=i.pop();this.fail(`unclosed tag: ${t.name}`)}this.state!==k&&this.state!==P&&this.fail("unexpected end.");const{text:r}=this;return 0!==r.length&&(null===(t=this.textHandler)||void 0===t||t.call(this,r),this.text=""),this.Na=!0,null===(n=this.endHandler)||void 0===n||n.call(this),this._init(),this}resolve(t){var n,i;let r=this.topNS[t];if(void 0!==r)return r;const{tags:e}=this;for(let n=e.length-1;n>=0;n--)if(void 0!==(r=e[n].ns[t]))return r;return void 0!==(r=this.ns[t])?r:null===(i=(n=this.opt).resolvePrefix)||void 0===i?void 0:i.call(n,t)}qname(t){const n=t.indexOf(":");if(-1===n)return{prefix:"",local:t};const i=t.slice(n+1),r=t.slice(0,n);return(""===r||""===i||i.includes(":"))&&this.fail(`malformed name: ${t}.`),{prefix:r,local:i}}processAttribsNS(){var t;const{attribList:n}=this,i=this.tag;{const{prefix:n,local:r}=this.qname(i.name);i.prefix=n,i.local=r;const e=i.uri=null!==(t=this.resolve(n))&&void 0!==t?t:"";""!==n&&("xmlns"===n&&this.fail('tags may not have "xmlns" as prefix.'),""===e&&(this.fail(`unbound namespace prefix: ${JSON.stringify(n)}.`),i.uri=n))}if(0===n.length)return;const{attributes:r}=i,e=new Set;for(const t of n){const{name:n,prefix:i,local:u}=t;let o,s;""===i?(o="xmlns"===n?w:"",s=n):(void 0===(o=this.resolve(i))&&(this.fail(`unbound namespace prefix: ${JSON.stringify(i)}.`),o=i),s=`{${o}}${u}`),e.has(s)&&this.fail(`duplicate attribute: ${s}.`),e.add(s),t.uri=o,r[n]=t}this.attribList=[]}processAttribsPlain(){const{attribList:t}=this,n=this.tag.attributes;for(const{name:i,value:r}of t)void 0!==n[i]&&this.fail(`duplicate attribute: ${i}.`),n[i]=r;this.attribList=[]}openTag(){var t;this.processAttribs();const{tags:n}=this,i=this.tag;i.isSelfClosing=!1,null===(t=this.openTagHandler)||void 0===t||t.call(this,i),n.push(i),this.state=P,this.name=""}openSelfClosingTag(){var t,n,i;this.processAttribs();const{tags:r}=this,e=this.tag;e.isSelfClosing=!0,null===(t=this.openTagHandler)||void 0===t||t.call(this,e),null===(n=this.closeTagHandler)||void 0===n||n.call(this,e),null===(this.tag=null!==(i=r[r.length-1])&&void 0!==i?i:null)&&(this.closedRoot=!0),this.state=P,this.name=""}closeTag(){const{tags:t,name:n}=this;if(this.state=P,this.name="",""===n)return this.fail("weird empty close tag."),void(this.text+="</>");const i=this.closeTagHandler;let r=t.length;for(;r-- >0;){const r=this.tag=t.pop();if(this.topNS=r.ns,null==i||i(r),r.name===n)break;this.fail("unexpected close tag.")}0===r?this.closedRoot=!0:r<0&&(this.fail(`unmatched closing tag: ${n}.`),this.text+=`</${n}>`)}parseEntity(t){if("#"!==t[0]){const n=this.ENTITIES[t];return void 0!==n?n:(this.fail(this.isName(t)?"undefined entity.":"disallowed character in entity name."),`&${t};`)}let n=NaN;return"x"===t[1]&&/^#x[0-9a-f]+$/i.test(t)?n=y(t.slice(2),16):/^#[0-9]+$/.test(t)&&(n=y(t.slice(1),10)),this.isChar(n)?String.fromCodePoint(n):(this.fail("malformed character entity."),`&${t};`)}}}),eE=function(){function t(){}return t.prototype.cu=function(t){var n=new rE.SaxesParser({xmlns:!0,defaultXMLVersion:"1.0",forceXMLVersion:!0}),i=new hE,r=[i];function e(t){r[r.length-1].Tu(t)}return n.on("text",function(t){r.length>1&&e(new aE(t))}),n.on("cdata",function(t){e(new fE(t))}),n.on("opentag",function(t){for(var n=t.local,i=t.uri,u=t.prefix,o=new sE({vu:n,lu:""===i?void 0:i,sF:""===u?void 0:u}),s=t.attributes,c=0,a=l.keys(s);c<a.length;c++){var f=s[a[c]],h=f.prefix,v=f.local,d=f.uri,w=f.value,y=new uE({vu:v,yu:w,lu:""===d?void 0:d,sF:""===h?void 0:h});o.cF(y)}e(o),r.push(o)}),n.on("closetag",function(){r.pop()}),n.on("error",function(t){throw new cn(t)}),n.write(t).close(),i},t}(),uE=function(){function t(t){this.aF=void 0,this.fF=void 0,this.hF=void 0,this.En=void 0,this.aF=t.vu,this.En=t.yu,this.fF=t.lu,this.hF=t.sF}var n=t.prototype;return n.fu=function(t){return this===t||!!dE(this,t)&&(this.aF===t.aF&&this.fF===t.fF&&this.hF===t.hF&&this.En===t.En)},n.hu=function(){return new t({vu:this.vu,yu:this.yu,lu:this.lu,sF:this.wu})},W(t,[{key:"iu",get:function(){return rn.eu}},{key:"vu",get:function(){return this.aF}},{key:"du",get:function(){return void 0===this.hF?this.aF:this.hF+":"+this.aF}},{key:"lu",get:function(){return this.fF}},{key:"wu",get:function(){return this.hF}},{key:"yu",get:function(){return this.En}}]),t}(),oE=function(){function t(){this._u=[]}var n=t.prototype;return n.pu=function(t){return this._u.filter(function(n){return vE(n)&&n.ku===t})},n.bu=function(t,n){return this._u.filter(function(i){return vE(i)&&i.vu===n&&i.lu===t})},n.Tu=function(t){this._u.push(t)},W(t,[{key:"mu",get:function(){return this._u}},{key:"Su",get:function(){return this._u.filter(vE)}}]),t}(),sE=function(t){function n(n){var i;return(i=t.call(this)||this).aF=void 0,i.fF=void 0,i.hF=void 0,i.vF=[],i.aF=n.vu,i.fF=n.lu,i.hF=n.sF,i}$(n,t);var i=n.prototype;return i.dF=function(t){for(var n=0,i=this.mu;n<i.length;n++){var r=i[n];vE(r)?r.dF(t):t.push(r.Pu)}},i.Iu=function(t,n){for(var i=0,r=this.vF;i<r.length;i++){var e=r[i];if(e.vu===n&&e.lu===t)return e.yu}},i.Ru=function(t){for(var n=0,i=this.vF;n<i.length;n++){var r=i[n];if(r.du===t)return r.yu}},i.cF=function(t){this.vF.push(t)},i.Cu=function(t){for(var n=0;n<this.vF.length;n++)if(this.vF[n].du===t)return void this.vF.splice(n,1)},i.Au=function(t,n){for(var i=0;i<this.vF.length;i++)if(this.vF[i].vu===n&&this.vF[i].lu===t)return void this.vF.splice(i,1)},i.Du=function(t,n){this.Cu(t),this.cF(new uE({vu:t,yu:n}))},i.Nu=function(t,n,i){this.Cu(n);var r=n.split(":");this.cF(new uE({vu:r[r.length-1],yu:i,lu:t,sF:r.length>1?r[0]:void 0}))},i.hu=function(t){var i=new n({vu:this.vu,lu:this.lu,sF:this.wu});return this.Ou.forEach(function(t){return i.cF(t.hu())}),t&&this.mu.forEach(function(n){return i.Tu(n.hu(t))}),i},i.fu=function(t){return this===t||!!dE(this,t)&&(this.aF===t.aF&&this.hF===t.hF&&this.fF===t.fF&&(lE(this.Ou,t.Ou)&&lE(this.mu,t.mu)))},W(n,[{key:"iu",get:function(){return rn.ru}},{key:"Ou",get:function(){return this.vF}},{key:"vu",get:function(){return this.aF}},{key:"lu",get:function(){return this.fF}},{key:"wu",get:function(){return this.hF}},{key:"ku",get:function(){return void 0===this.hF?this.aF:this.hF+":"+this.aF}},{key:"xu",get:function(){var t=[];return this.dF(t),t.join("")}}]),n}(oE),cE=function(){function t(t){this.$i=void 0,this.$i=t}return W(t,[{key:"Pu",get:function(){return this.$i}}]),t}(),aE=function(t){function n(n){return t.call(this,n)||this}$(n,t);var i=n.prototype;return i.hu=function(){return new n(this.Pu)},i.fu=function(t){return this===t||!!dE(this,t)&&this.Pu===t.Pu},W(n,[{key:"iu",get:function(){return rn.uu}}]),n}(cE),fE=function(t){function n(n){return t.call(this,n)||this}$(n,t);var i=n.prototype;return i.hu=function(){return new n(this.Pu)},i.fu=function(t){return this===t||!!dE(this,t)&&this.Pu===t.Pu},W(n,[{key:"iu",get:function(){return rn.ou}}]),n}(cE),hE=function(t){function n(){return t.apply(this,arguments)||this}$(n,t);var i=n.prototype;return i.hu=function(t){var i=new n;return t&&this.mu.forEach(function(n){return i.Tu(n.hu(t))}),i},i.fu=function(t){return this===t||!!dE(this,t)&&lE(this.mu,t.mu)},W(n,[{key:"iu",get:function(){return rn.su}},{key:"Lu",get:function(){return this.Su[0]}}]),n}(oE);function vE(t){return en(t)}function dE(t,n){return t.iu===n.iu}function lE(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++)if(!t[i].fu(n[i]))return!1;return!0}var wE,yE=["adBreak"],gE=["adBreak"];function _E(t){return void 0===t.adBreak||void 0===t.adBreak.ads?t:Hr({},t,{adBreak:Hr({},t.adBreak,{ads:t.adBreak.ads.map(function(t){t.adBreak;return Cg(t,yE)})})})}function pE(t){return void 0===t.ads?t:Hr({},t,{ads:t.ads.map(function(t){t.adBreak;return Cg(t,gE)})})}function mE(t){return"string"==typeof t.date?new Date(t.date):t.date}function kE(t){var n;return t.cue.track?(n=TE(t.cue,t.cue.track.type)).track={uid:t.cue.track.uid}:n=TE(t.cue,""),n}function bE(t){var n=[];return function t(i){if(Array.isArray(i))return i.map(t);if("object"==typeof i&&null!==i&&l.keys(i).length){if(n.includes(i))return"[Circular ~]";n.push(i);var r=l.entries(i);return l.fromEntries(r.map(function(i){var r=i[0],e=i[1],u=t(e);return"object"==typeof e&&null!==e&&"[Circular ~]"!==u&&n.pop(e),[r,u]}))}return i}(t)}function TE(t,n){var i={};return i.content=t.content,i.endTime=t.endTime,i.startTime=t.startTime,i.id=t.id,i.uid=t.uid,function(){switch(n){case"webvtt":i.align=t.align,i.line=t.line,i.lineAlign=t.lineAlign,i.position=t.position,i.positionAlign=t.positionAlign,i.region=t.region,i.size=t.size,i.snapToLines=t.snapToLines,i.text=t.text,i.vertical=t.vertical;break;case"ttml":i.content=function t(n){var i=n.children;if(0!==i.length)for(var r=0;r<i.length;r++){var e=i.item(r);return"image"===e.nodeName||"smpte:image"===e.nodeName?e:t(e)}}(t.content).innerHTML;for(var r=t.content,e={};r.firstChild&&r.firstChild.outerHTML;){(new eE).cu(r.firstChild.outerHTML).Lu.Ou.forEach(function(t){e[t.vu]=t.yu}),r=r.firstChild}i.ttmlAttributes=e;break;case"daterange":var u={};for(var o in t.customAttributes){var s=t.customAttributes[o];if("object"==typeof(a=s)&&null!==a){var c=EE(s);u[o]={type:wE.lF,value:c}}else RE(s)?u[o]={type:wE.wF,value:s}:u[o]={type:wE.yF,value:String(s)}}i.attributedClass=String(t.class),i.startDate=t.startDate,i.endDate=t.endDate,i.duration=t.duration,i.plannedDuration=t.plannedDuration,i.endOnNext=t.endOnNext,i.scte35Cmd=EE(t.scte35Cmd),i.scte35Out=EE(t.scte35Out),i.scte35In=EE(t.scte35In),i.customAttributes=u}var a}(),i}function EE(t){if(void 0!==t)return fu(t)}function SE(t){var n={};if(n.kind=t.kind,n.language=t.language,n.label=t.label,n.id=t.id,n.uid=t.uid,n.src=t.src,"cues"in t){n.inBandMetadataTrackDispatchType=t.inBandMetadataTrackDispatchType,n.mode=t.mode,n.type=t.type;var i=[];if(t.cues)for(var r=0;r<t.cues.length;r++){var e=t.cues[r];i.push(TE(e,t.type))}n.cues=i;var u=[];if(t.activeCues)for(var o=0;o<t.activeCues.length;o++){var s=t.activeCues[o];u.push(TE(s,t.type))}n.activeCues=u}else"enabled"in t&&(n.enabled=t.enabled);return n}function RE(t){return"number"==typeof t}!function(t){t.yF="daterange-ca-type_string",t.wF="daterange-ca-type_number",t.lF="daterange-ca-type_arraybuffer"}(wE||(wE={}));var IE={cue:function(t){var n={};switch(n.date=mE(t),n.type=t.type,t.type){case"enter":case"exit":case"update":n.cue=kE(t)}return n},textTrack:function(t){var n={};switch(n.date=mE(t),n.type=t.type,t.type){case"addcue":t.cue.uid||(t.cue.uid=NE().register(t.cue));var i=DE()[OE()].eventListeners;t.cue.addEventListener("enter",function(t){i.InternalCueHelperEvent(t)}),t.cue.addEventListener("exit",function(t){i.InternalCueHelperEvent(t)}),t.cue.addEventListener("update",function(t){i.InternalCueHelperEvent(t)});case"removecue":case"entercue":case"exitcue":n.cue=kE(t);break;case"cuechange":for(var r=[],e=0;e<t.track.activeCues.length;e++){var u=t.track.activeCues[e];r.push(TE(u,t.track.type))}n.track={activeCues:r,uid:t.track.uid}}return n},textTrackList:function(t){var n={};switch(n.date=mE(t),n.type=t.type,t.type){case"addtrack":t.track.cues&&t.track.cues.length&&t.track.cues.length>0&&t.track.cues.map(function(t){t.uid=NE().register(t)}),n.track=SE(t.track);case"removetrack":case"change":n.track=SE(t.track)}return n},default:function(t){var n={};switch(n.date=mE(t),n.type=t.type,t.type){case"play":case"playing":case"pause":case"seeking":case"seeked":case"ended":case"waiting":case"emptied":n.currentTime=t.currentTime;break;case"timeupdate":n.currentTime=t.currentTime,n.currentProgramDateTime=t.currentProgramDateTime;break;case"progress":n.currentTime=t.currentTime;break;case"ratechange":n.currentTime=t.currentTime,n.playbackRate=t.playbackRate;break;case"durationchange":n.duration=t.duration;break;case"sourcechange":n.source=t.source;break;case"readystatechange":case"loadedmetadata":case"loadeddata":case"loadstart":case"canplay":case"canplaythrough":n.currentTime=t.currentTime,n.readyState=t.readyState;break;case"error":n.error=t.error,n.errorObject=Hr({name:t.errorObject.name,cause:t.errorObject.cause},t.errorObject);break;case"addtrack":case"removetrack":case"change":n.track=SE(t.track);break;case"adbreakbegin":case"adbreakend":n.ad=pE(t.ad);break;case"adloaded":case"adimpression":n.ad=_E(t.ad);break;case"aderror":t.gF&&(n.gF=t.gF),t.message&&(n.message=t.message);break;case"statechange":n.state=t.state;break;case"presentationmodechange":case"resize":break;case"adfirstquartile":case"admidpoint":case"adthirdquartile":case"adbegin":case"adend":n.currentTime=t.currentTime,n.ad=_E(t.ad)}return bE(n)},minimizeCueHelper:function(t){var n={};return n.date=mE(t),n.type=t.type,n.cue=kE(t),n.track={uid:t.cue.track.uid},n},adReplacer:_E,adBreakReplacer:pE,removeCircularReferences:bE},CE=function(){this.stringify=ZT,this.minimize=IE};function AE(){return R.self}function DE(){return AE().THEOplayerBridge}function NE(){return AE().THEOCueMirrorMap}function OE(){return AE().THEOplayerGlobalID}function xE(){var t=AE();if(t.THEOplayerBridge){var n=new YT;t.THEOplayerBridge=Mv(n,t.THEOplayerBridge)}else t.THEOplayerBridge=new YT;t.THEOplayerUtils||(t.THEOplayerUtils=new CE),t.THEOCueMirrorMap||(t.THEOCueMirrorMap=new KT)}xE();var PE=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n.prototype.cu=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new cn(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new cn;return new LE(n)},n}(an),LE=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n.prototype.hu=function(t){return new n(this.gu.cloneNode(t))},W(n,[{key:"mu",get:function(){return void 0===this._u&&(this._u=BE(this.gu.childNodes)),this._u}},{key:"Lu",get:function(){return new FE(this.gu.documentElement)}}]),n}(yn),FE=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n.prototype.hu=function(t){var i=new n(this.gu.cloneNode(t));return i.Ou.length<1&&this.Ou.length>0&&this.Ou.forEach(function(t){i.Du(t.du,t.yu)}),i},W(n,[{key:"mu",get:function(){return void 0===this._u&&(this._u=BE(this.gu.childNodes)),this._u}}]),n}(vn);function ME(t){switch(t.nodeType){case rn.ru:return new FE(t)}return _n(t)}function BE(t){for(var n=[],i=0;i<t.length;i++){var r=ME(t.item(i));r&&n.push(r)}return n}x(new(function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this)._F=new PE,n}return $(n,t),n.prototype.cu=function(t){return this._F.cu(t)},n}(bv)));var UE=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).type=n,r.detail=i,r}return $(n,t),n}(Ge),VE=function(t){function n(){return t.apply(this,arguments)||this}$(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.Ws(new UE(t,n))},i.addEventListener=function(t,n){this.zs(t,n)},i.removeEventListener=function(t,n){this.Ys(t,n)},n}(ad);function qE(t,n){return t.Sg<=n&&t.Rg>n}function HE(t,n){return function(t,n){return Kl(t.Sg,n.Sg,jl)}(t,n)||function(t,n){return Kl(t.Rg,n.Rg,jl)}(t,n)}function jE(t,n){var i=function(t,n,i,r,e,u,o){void 0===e&&(e=!1),void 0===u&&(u=0),void 0===o&&(o=t.length);for(var s=u,c=o-1;s<=c;){var a=s+(c-s>>1),f=r(i(t[a]),n);if(f<0)s=a+1;else if(f>0)c=a-1;else{if(!(e&&a>u&&0===r(i(t[a-1]),n)))return a;c=a-1}}return~s}(t,n,F,HE,!0);if(i<0)return i;for(;i<t.length&&HE(n,t[i])===$l.t_;i++)if(t[i].Fg(n))return i;return-(i+1)}function WE(t){var n=t.fl;if(!n)return-1;if(t instanceof Wl)return n.pF(t);var i=n.aw;if(!i)return-1;var r=jE(i.Bl,t);return r>=0?r:-1}var zE=function(t){function n(n,i){var r;return(r=t.call(this,Ll.mg,n)||this).K_=i,r}return $(n,t),n.prototype.al=function(){return new $E(this.Eg.cl)},n}(Ul),$E=function(t){function n(n){return t.call(this,Fl.mg,n)||this}return $(n,t),n}(Vl),XE=function(t){function n(n,i){var r;return(r=t.call(this,Ll.bg,n)||this).K_=i,r}return $(n,t),n.prototype.al=function(){return new GE(this.Eg.cl)},n}(Ul),GE=function(t){function n(n){return t.call(this,Fl.bg,n)||this}return $(n,t),n}(Vl),YE=function(t){function n(n){var i;return(i=t.call(this,Ev.wl)||this).Eg=n,i}return $(n,t),n.prototype.al=function(){return new KE(this.Eg.cl)},n}(Sv),KE=function(t){function n(n){var i;return(i=t.call(this,"entercue")||this).cue=n,i}return $(n,t),n}(Rv),JE=function(t){function n(n){var i;return(i=t.call(this,Ev.gl)||this).Eg=n,i}return $(n,t),n.prototype.al=function(){return new QE(this.Eg.cl)},n}(Sv),QE=function(t){function n(n){var i;return(i=t.call(this,"exitcue")||this).cue=n,i}return $(n,t),n}(Rv),ZE=function(t){function n(n){var i;return(i=t.call(this,Ev.pl)||this).fl=n,i}return $(n,t),n.prototype.al=function(){return new tS(this.fl.cl)},n}(Sv),tS=function(t){function n(n){var i;return(i=t.call(this,"cuechange")||this).track=n,i}return $(n,t),n}(Rv);function nS(t,n){return Yl(t.K_,n.K_)||function(t,n){return t.fl===n.fl?Gl(WE(t),WE(n)):Py(t.fl,n.fl)}(t.Eg,n.Eg)||function(t,n){return t===n?$l.t_:t===Ll.mg?$l.i_:$l.n_}(t.type,n.type)}var iS=function(){function t(t,n){var i=this;this.OI=void 0,this.mF=void 0,this.py=[],this.kF=0,this.bF=0,this.TF=[],this.EF=!1,this.SF=!1,this.RF=void 0,this.IF=function(){i.kF=0,i.CF(),i.AF()},this.DF=function(){i.CF(),i.AF()},this.NF=function(){i.SF=!0,i.RF=i.OI.Ww,i.OF()},this.xF=function(){i.CF(),i.AF()},this.PF=function(){i.LF(),i.CF(),i.AF()},this.FF=function(){i.MF()},this.BF=function(t){Se(i.TF,t.Eg),i.MF()},this.mF=n,this.OI=t,t.zs(Zo.Df,this.DF),t.zs(Zo.gf,this.DF),t.zs(xd.jw,this.DF),t.zs(Zo.yf,this.DF),t.zs(Zo.Tf,this.NF),t.zs(Zo.bf,this.xF),this.MF()}var n=t.prototype;return n.Ml=function(){Ce(this.TF);for(var t=0,n=this.py.slice();t<n.length;t++){var i=n[t];this.Ll(i)}this.OF(),this.kF=0,this.bF=0,this.EF=!1,this.SF=!1,this.RF=void 0},n.Pl=function(t){Ie(this.py,t)||(this.py.push(t),t.zs(Ev.hl,this.FF),t.zs(Ev.dl,this.BF),t.zs(Ev.kl,this.PF),t.aw.Ul&&this.MF(),this.LF())},n.Ll=function(t){if(Se(this.py,t)){if(t.Ys(Ev.hl,this.FF),t.Ys(Ev.dl,this.BF),t.Ys(Ev.kl,this.PF),t.aw.Ul){for(var n=0,i=t.aw.Bl;n<i.length;n++){var r=i[n];Se(this.TF,r)}this.MF()}this.LF()}},n.LF=function(){this.EF=this.py.some(function(t){return t.ew!==Zv.sw})},n.AF=function(){this.OI.Jw||this.OI.Yw?this.OF():this.MF()},n.MF=function(){this.EF&&(this.kF||(this.kF=this.mF._r(this.IF)))},n.OF=function(){this.kF&&(this.mF.UF(this.kF),this.kF=0)},n.CF=function(){var t;if(this.EF&&!this.OI.Jw){var n=this.py,i=this.bF,r=null!=(t=this.RF)?t:this.OI.Ww,e=r-i<-.1,u=this.SF||e;u&&r>i&&r-i<.1&&(u=!1),this.SF=!1,this.RF=void 0;for(var o,s=[],c=0;c<n.length;c++){var a=n[c];if(a.ew!==Zv.sw){a.VF(r,u);for(var f=0,h=a.fw.Bl;f<h.length;f++){var v=h[f];s.push(v)}}}if(u)o=this.TF;else{o=[];for(var d=0;d<n.length;d++){var l=n[d];l.ew!==Zv.sw&&xy(l,i-1/6,r,o)}}for(var y=o.length-1;y>=0;y--)Ie(s,o[y])&&Re(o,y);var g=[];if(!u)for(var _=o.length-1;_>=0;_--){var p=o[_];p.Sg>=i&&p.Rg<=r&&(g.push(p),Re(o,_))}for(var m=[],k=[],b=0;b<g.length;b++){var T=g[b];T.Mg||m.push(new zE(T,T.Sg)),m.push(new XE(T,w.max(T.Sg,T.Rg)))}for(var E=0,S=o;E<S.length;E++){var R=S[E];R.Mg&&(m.push(new XE(R,w.max(R.Sg,R.Rg))),R.Mg=!1)}for(var I=0;I<s.length;I++){var C=s[I];C.Mg||(m.push(new zE(C,C.Sg)),C.Mg=!0)}m.sort(nS);for(var A=0;A<m.length;A++){var D=m[A],N=D.Eg;N.Ws(D);var O=N.fl;O&&(D.type===Ll.mg?O.Ws(new YE(N)):O.Ws(new JE(N)),Ie(k,O)||k.push(O))}k.sort(Py);for(var x=0;x<k.length;x++){var P=k[x];P.Ws(new ZE(P))}this.bF=r,this.TF=s}},n.sr=function(){this.Ml(),this.OI.Ys(Zo.Df,this.DF),this.OI.Ys(Zo.gf,this.DF),this.OI.Ys(xd.jw,this.DF),this.OI.Ys(Zo.yf,this.DF),this.OI.Ys(Zo.Tf,this.NF),this.OI.Ys(Zo.bf,this.xF)},t}(),rS=function(){function t(){}var n=t.prototype;return n._r=function(t){return cb(t)},n.UF=function(t){ab(t)},t}(),eS=new rS,uS=function(t){function n(n,i){return void 0===i&&(i=eS),t.call(this,n,i)||this}return $(n,t),n}(iS),oS=function(t){function n(){return t.call(this,Zo.hf)||this}return $(n,t),n}(Ge),sS=function(t){function n(n){var i;return(i=t.call(this,Zo._f)||this).currentTime=n,i}return $(n,t),n}(Ge),cS=function(t){function n(n,i){var r;return(r=t.call(this)||this).qF=void 0,r.HF=void 0,r.jF=function(t){r.qF.WF("THEOplayerABRSetTargetBuffer",t.JO),r.Ws(t)},r.zF=function(t){r.qF.WF("THEOplayerABRSetStrategy",t.ZO),r.Ws(t)},r.qF=n,r.HF=i,r.HF.zs("QO",r.jF),r.HF.zs("tx",r.zF),r}return $(n,t),W(n,[{key:"vx",get:function(){var t;switch(this.ZO.type){case Pb.PERFORMANCE:return 1;case Pb.QUALITY:return 0;case Pb.BANDWIDTH:return null!=(t=this.ZO.metadata)&&t.bitrate&&!_(this.ZO.metadata.bitrate)?this.ZO.metadata.bitrate:0;default:return 0}}},{key:"cl",get:function(){return this.HF.cl}},{key:"ZO",get:function(){return this.HF.ZO},set:function(t){this.HF.ZO=t}},{key:"JO",get:function(){return this.HF.JO},set:function(t){this.HF.JO=t}},{key:"nx",get:function(){return this.HF.nx},set:function(t){this.HF.nx=t}}]),n}($e),aS=function(){function t(t){this.XF=void 0,this.sl=void 0,this.XF=t}var n=t.prototype;return n.al=function(){return function(t){for(var n=[],i=0;i<t.Ul;i++)n[i]=t.dc(i).cl;return n.item=function(n){var i=0|n,r=t.dc(i);return r&&r.cl||void 0},l.defineProperty(n,"constructor",{value:Hl}),n}(this)},n.sg=function(t){for(var n=this.XF,i=n.length-1;i>=0;i-=1){var r=n[i];if(t.Fg(r))return!0}return!1},n.dc=function(t){return this.XF[t]},W(t,[{key:"Bl",get:function(){return this.XF}},{key:"Ul",get:function(){return this.XF.length}},{key:"cl",get:function(){if(this.sl){var t=this.XF;this.sl.length=t.length;for(var n=0;n<t.length;n++)this.sl[n]=t[n].cl}else this.sl=this.al();return this.sl}}]),t}(),fS=function(t){function n(n,i){var r;return(r=t.call(this,Ev.Tl)||this).fl=n,r.cw=i,r}return $(n,t),n.prototype.al=function(){return new hS(this.fl.cl,od(this.cw))},n}(Sv),hS=function(t){function n(n,i){var r;return(r=t.call(this,"readystatechange")||this).track=n,r.readyState=i,r}return $(n,t),n}(Rv),vS=function(t){function n(n){var i;return(i=t.call(this,Ev.Sl)||this).fl=n,i}return $(n,t),n.prototype.al=function(){return new dS(this.fl.cl)},n}(Sv),dS=function(t){function n(n){var i;return(i=t.call(this,"typechange")||this).track=n,i}return $(n,t),n}(Rv),lS=function(t){function n(n){var i;return(i=t.call(this,Ev.hl)||this).Eg=n,i}return $(n,t),n.prototype.al=function(){return new wS(this.Eg.cl)},n}(Sv),wS=function(t){function n(n){var i;return(i=t.call(this,"addcue")||this).cue=n,i}return $(n,t),n}(Rv),yS=function(t){function n(n){var i;return(i=t.call(this,Ev.dl)||this).Eg=n,i}return $(n,t),n.prototype.al=function(){return new gS(this.Eg.cl)},n}(Sv),gS=function(t){function n(n){var i;return(i=t.call(this,"removecue")||this).cue=n,i}return $(n,t),n}(Rv),_S=function(t){function n(n,i,r,e,u,o,s){var c;return(c=t.call(this)||this).sl=void 0,c.ag=void 0,c.hg=Rl(),c.GF=!1,c.YF=void 0,c.KF=void 0,c.fg=void 0,c.JF=void 0,c.QC=Zv.sw,c.QF=Ol.NONE,c.ZF=void 0,c.Fu=void 0,c.XF=[],c.tM=[],c.nM=void 0,c.iM=void 0,c.rM=0,c.eM=0,c.ag=i||"",c.YF=s||"",c.KF=n,c.JF=e||"",c.GF=Boolean(u),c.Fu=o||xl.DEFAULT,c.fg=r||"",c.nM=new aS(c.XF),c.iM=new aS(c.tM),c}$(n,t);var i=n.prototype;return i.uM=function(t){return Ee(this.nM.Bl,function(n){return n.Yl===t})},i.al=function(){return rd(this)},i.dA=function(t){var n=function(t){if("string"==typeof t){var n=t.toLowerCase();switch(n){case Zv.sw:case Zv.ow:case Zv.uw:return n}}else if("number"==typeof t)switch(t){case 0:return Zv.sw;case 1:return Zv.ow;case 2:return Zv.uw}return Zv.sw}(t);n!==this.ew&&(this.QC=n,n===Zv.sw&&(this.tM.forEach(function(t){t.Mg=!1}),Ce(this.tM),this.eM=0),this.Ws(new Ov(this)))},i.WT=function(t){if(t&&!t.fl){var n=jE(this.aw.Bl,t);if(!(n>=0)){t.fl=this;var i=-(n+1);this.XF.splice(i,0,t),this.oM(i),t.Lg=i,i<this.eM&&(this.eM=i),this.Ws(new lS(t))}}},i.sM=function(t){if(t&&t.fl===this){var n=this.pF(t);if(!(n<0)){t.Mg=!1;var i=this.tM,r=jE(i,t);r>=0&&Re(i,r),Re(this.XF,n),this.oM(n),t.Lg=-1,this.eM>n&&--this.eM,this.Ws(new yS(t))}}},i.VF=function(t,n){var i=this.tM,r=this.XF,e=this.eM,u=!1;n&&(e=0);for(var o=i.length-1;o>=0;o--){qE(i[o],t)||(u=!0,Re(i,o))}for(;e<r.length&&r[e].Sg<=t;){var s=r[e];if(0===t)break;qE(s,t)&&!Ie(i,s)&&(u=!0,i.push(s)),e++}u&&be(i,HE),this.eM=e},i.pF=function(t){return(-1===t.Lg||t.Lg>=this.rM)&&this.cM(),t.Lg},i.cM=function(){for(var t=this.XF,n=this.rM;n<t.length;n++)t[n].Lg=n;this.rM=t.length},i.oM=function(t){t<this.rM&&(this.rM=t)},i.sr=function(){this.Gs();for(var t=this.XF.slice(),n=0;n<t.length;n++){t[n].sr()}Ce(this.XF),Ce(this.tM)},W(n,[{key:"fw",get:function(){return this.iM}},{key:"aw",get:function(){return this.nM}},{key:"$T",get:function(){return this.GF},set:function(t){this.GF=t}},{key:"cl",get:function(){return this.sl||(this.sl=this.al()),this.sl}},{key:"Yl",get:function(){return this.ag}},{key:"Kl",get:function(){return this.hg}},{key:"rw",get:function(){return this.YF},set:function(t){this.YF=t}},{key:"Jl",get:function(){return this.KF}},{key:"Ql",get:function(){return this.fg},set:function(t){t!==this.fg&&(this.fg=t,this.Ws(new Tl(this)))}},{key:"Zl",get:function(){return this.JF}},{key:"ew",get:function(){return this.QC},set:function(t){this.dA(t)}},{key:"cw",get:function(){return this.QF},set:function(t){this.QF!==t&&(this.QF=t,this.Ws(new fS(this,this.QF)))}},{key:"hw",get:function(){return this.ZF},set:function(t){this.ZF=t}},{key:"vs",get:function(){return this.Fu},set:function(t){this.Fu!==t&&(this.Fu=t,this.Ws(new vS(this)))}}]),n}($e);function pS(t,n,i){for(var r=t[n].Sg,e=n;e>=0&&t[e].Sg===r;e--)t[e].Rg=i}var mS,kS=function(t){function n(n,i,r){var e;return(e=t.call(this,n,1/0,i,!1,r)||this).aM=void 0,e}return $(n,t),n.prototype.Fg=function(n){return this===n||Vv(this,n)&&t.prototype.Fg.call(this,n)&&(i=n,this.Ig===i.Ig);var i},W(n,[{key:"cl",get:function(){return this.sl||(this.sl=ql(this)),this.sl}}]),n}(Wl),bS=function(t){function n(n,i,r){return void 0===r&&(r=xl.DEFAULT),t.call(this,Sy.Em,"",i||"","",!1,r,n)||this}return $(n,t),n}(_S),TS=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).vs=xl.ID3,r.aM=void 0,r}$(n,t);var i=n.prototype;return i.WT=function(n){!function(t,n){if(0!==n.length){var i=n.length-1;if(n[i].Sg<t.Sg)pS(n,i,t.Sg);else{var r=n[0];if(r.Sg>t.Sg)t.Rg=r.Sg;else{var e=jE(n,t);if(!(e>=0)){var u=-(e+1),o=u-1;if(o>=0&&n[o].Sg<t.Sg&&pS(n,o,t.Sg),u<n.length){var s=n[u];t.Rg=s.Sg}}}}}}(n,this.XF),t.prototype.WT.call(this,n)},i.al=function(){return rd(this)},n}(bS),ES=(Zo.gf,Zo.yf,xd.jw,Zo.Df,Zo._f,Zo.hf,Zo.Tf,Zo.bf,Zo.cf,Zo.pf,Zo.Nf,Zo.uf,xd.Tl,Zo.kf,td.iw,ze.oc,ze.cc,Zo.if,Zo.nf,Zo.Of,{fM:!1,hM:50}),SS=function(){function t(t,n,i){this.Ta=void 0,this.ps=void 0,this.La=void 0,this.Jc=void 0,this.Ta=t,this.ps=i,this.La=n}var n=t.prototype;return n.zT=function(t){throw new v("Not implemented yet.")},n.vM=function(){var t=A.coroutine(qr.mark(function t(n,i){var r,e;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.ps.Ts(n.ds,i);case 2:return r=t.sent,t.next=5,r.oa();case 5:return e=t.sent,t.next=8,this.dM(e);case 8:return t.abrupt("return",e);case 9:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.lM=function(t){return!1},n.wM=function(t){return A.resolve(void 0)},n.Ds=function(){var t=A.coroutine(qr.mark(function t(){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.dM(void 0);case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.dM=function(){var t=A.coroutine(qr.mark(function t(n){var i;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.yM(n),t.next=3,i;case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.yM=function(){var t=A.coroutine(qr.mark(function t(n){var i;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(i=this.Jc)){t.next=5;break}return t.next=4,i.ra(this.La);case 4:this.Jc=void 0;case 5:if(!n){t.next=9;break}return t.next=8,n.ia(this.La);case 8:this.Jc=n;case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.HT=function(t,n,i){throw new v("Not implemented yet.")},W(t,[{key:"Zc",get:function(){return this.Ta}},{key:"rg",get:function(){throw new v("Not implemented yet.")},set:function(t){throw new v("Not implemented yet.")}},{key:"eg",get:function(){return new rm([0,1/0])}},{key:"Sy",get:function(){throw new v("Not implemented yet.")}},{key:"gM",get:function(){throw new v("Not implemented yet")}},{key:"Ey",get:function(){throw new v("Not implemented yet.")}},{key:"_M",get:function(){throw new v("Not implemented yet")}},{key:"pM",get:function(){throw new v("Not implemented yet")}}]),t}();!function(t){t.mM="webkitneedkey",t.kM="webkitkeymessage",t.bM="webkitkeyerror"}(mS||(mS={}));var RS,IS,CS=function(t){function n(n,i){var r;return(r=t.call(this,mS.mM)||this).initData=n,r.sessionId=i,r}return $(n,t),n}(Ge),AS=function(t){function n(n,i){var r;return(r=t.call(this,mS.kM)||this).message=n,r.destinationURL=i,r}return $(n,t),n}(Ge),DS=function(t){function n(){return t.call(this,mS.bM)||this}return $(n,t),n}(Ge),NS=function(t){function n(n,i,r,e,u){var o;return(o=t.call(this)||this).fa=new ro,o.Ea=void 0,o.da=new iu,o.Ra=new ro,o.TM=function(t){o.Ea?(o.Ea.Cc(void 0),o.Ea=void 0):o._a("internal-error"),o.Ws(new Ze)},o.EM=function(t){o.Ea&&(o.Ea.Ic(void 0),o.Ea=void 0),o.Ws(new Qe(un(o),"license-request",no(t.message).buffer,t.destinationURL||void 0))},o.ma=n,o.Bc=i,o.SM=r,o.xa=e,o.Ca=u,o}$(n,t);var i=n.prototype;return i.Hc=function(){var t=A.coroutine(qr.mark(function t(n,i,r){var e;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r&&r.fairplay&&r.fairplay.Aa){t.next=3;break}throw new d("Expected FairPlay contentId to be defined but was "+e+".");case 3:return t.next=5,this.RM(Zu(i),e);case 5:this._a("usable"),this.Ra.Ic(),this.Ra=new ro;case 8:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.jc=function(){var t=A.coroutine(qr.mark(function t(n){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.zc=function(){var t=A.coroutine(qr.mark(function t(n){var i;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(i=Zu(n)).byteLength){t.next=3;break}throw new d("Cannot call update with an empty response.");case 3:return this.Ea=new ro,this.SM.zc(this.xa,i),t.next=7,this.Ea.Rc;case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.qc=function(){var t=A.coroutine(qr.mark(function t(){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Ra;case 2:return this.SM.Ys(mS.kM,this.EM),this.SM.Ys(mS.bM,this.TM),this.Ra.Fs(),this.fa.Ic(void 0),t.abrupt("return",this.fa.Rc);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Wc=function(){var t=A.coroutine(qr.mark(function t(){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),i.RM=function(){var t=A.coroutine(qr.mark(function t(n,i){var r;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=Oo(n,i,this.Ca),this.SM.zs(mS.kM,this.EM),this.SM.zs(mS.bM,this.TM),this.SM.IM(this.xa,r);case 4:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i._a=function(t){this.da.yc(),this.da.wc(nu,t),this.Ws(new Je(this))},W(n,[{key:"Kc",get:function(){return this.xa}},{key:"Gc",get:function(){return NaN}},{key:"Xc",get:function(){return this.fa.Rc}},{key:"Yc",get:function(){return this.da}}]),n}($e),OS=function(){function t(t,n,i){this.CM=void 0,this.xa=void 0,this.Ca=void 0,this.SM=void 0,this.Bc=void 0,this.Ta=void 0,this.ma=void 0,this.SM=t,this.Bc=n,this.Ta=i;var r=go(i)||"video/mp4";this.ma=lo(r)}var i=t.prototype;return i.ta=function(){var t=A.coroutine(qr.mark(function t(i){var r;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Ca){t.next=2;break}throw new xo(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return r=new NS(this.ma,this.Bc,this.SM,this.xa,this.Ca),this.CM=r,t.abrupt("return",r);case 5:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.na=function(t){return this.Ca=Zu(t),A.resolve(!0)},i.ia=function(){var t=A.coroutine(qr.mark(function t(n){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.webkitSetMediaKeys(this);case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.ra=function(){var t=A.coroutine(qr.mark(function t(n){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.webkitSetMediaKeys(null);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.createSession=function(){throw new v("Whoops.")},W(t,[{key:"Qc",get:function(){return this.Bc}},{key:"Zc",get:function(){return this.Ta}},{key:"sessionId",set:function(t){this.xa=t}}]),t}(),xS=function(){function t(t,n,i){this.AM=t,this.Bc=n,this.Ta=i}var n=t.prototype;return n.sa=function(){return this.Ta},n.oa=function(){var t=A.coroutine(qr.mark(function t(){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new OS(this.AM,this.Bc,this.Ta));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),W(t,[{key:"Qc",get:function(){return this.Bc}}]),t}(),PS=function(){function t(t){this.AM=void 0,this.AM=t}return t.prototype.Ts=function(){var t=A.coroutine(qr.mark(function t(n,i){var r,e,u;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<i.length)){t.next=9;break}if(e=i[r],!(u=wo(LS,Ke,n,e))){t.next=6;break}return t.abrupt("return",new xS(this.AM,n,u));case 6:r++,t.next=1;break;case 9:throw new d("Unsupported key system configuration for "+n);case 10:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),t}();function LS(t,n){return t===oe}!function(t){t.nD="DM"}(RS||(RS={})),function(t){t.NM="OM"}(IS||(IS={}));var FS,MS,BS;IS.NM;!function(t){t[t.xM=0]="xM",t[t.Mf=1]="Mf",t[t.PM=2]="PM"}(FS||(FS={})),function(t){t.LM="FM"}(MS||(MS={})),function(t){t[t.MM=0]="MM",t[t.BM=1]="BM",t[t.UM=2]="UM"}(BS||(BS={}));var US;it.Ne&&it.Oe,it.Ve,Zo.gf,Zo.yf,Zo.Tf,Zo.bf,Zo.cf,Zo.pf,xd.Tl,td.iw,it.Pe||it.Le;!function(t){t.VM="closed",t.Jv="open",t.cf="ended"}(US||(US={}));var VS,qS;Zo.Nf,Zo.pf,Zo.Tf,Zo.gf,Zo.yf,xd.Tl,Zo.gf,Zo.yf,Zo.Tf,Zo.bf,Zo.cf,td.iw;!function(t){t[t.ISO_8859_1=0]="ISO_8859_1",t[t.UTF16_BOM=1]="UTF16_BOM",t[t.UTF16=2]="UTF16",t[t.UTF8=3]="UTF8"}(VS||(VS={})),function(t){t[t.V22=2]="V22",t[t.V23=3]="V23",t[t.V24=4]="V24"}(qS||(qS={}));var HS=function(t){function n(n){var i;return(i=t.call(this,0,n.Ig)||this).qM=void 0,i.qM=n,i.Rg=i.qM.Sg,i}return $(n,t),W(n,[{key:"Yl",get:function(){return this.qM.Yl}},{key:"Ug",get:function(){return this.qM.Ug},set:function(t){this.qM.Ug=t}},{key:"Bg",get:function(){return this.qM.Bg},set:function(t){this.qM.Bg=t}}]),n}(kS);function jS(t){return void 0===t.aM&&(t.aM=new HS(t)),t.aM}var WS=function(t){function n(n,i){var r;(r=t.call(this,n.rw,n.Ql)||this).HM=void 0,r.jM=void 0,r.WM=void 0,r.vs=xl.ID3,r.zM=function(t){r.$M(t.Eg)},r.XM=function(t){var n=t.Eg;if(void 0!==n.aM){var i=n.aM;n.aM=void 0,r.sM(i),i.sr()}},r.GM=function(t){var n=jS(t.Eg);n.Mg||r.YM(n),r.KM(n)},r.JM=function(t){var n=t.Eg,i=jS(n);r.jM.Ww<n.Sg&&r.YM(i)},r.QM=function(){var t=r.WM,n=r.ew;if(r.WM=n,n===Zv.sw)r.tM.forEach(function(t){return t.Mg=!1}),Ce(r.tM);else if(t===Zv.sw)for(var i=r.jM.Ww,e=0,u=r.XF;e<u.length;e++){var o=u[e];i<o.Rg&&r.YM(o)}},r.jM=i,r.HM=n,r.WM=n.ew,n.zs(Ev.hl,r.zM),n.zs(Ev.dl,r.XM),n.zs(Ev.wl,r.GM),n.zs(Ev.gl,r.JM),n.zs(Ev.kl,r.QM);for(var e=0,u=r.HM.aw.Bl;e<u.length;e++){var o=u[e];r.$M(o)}return r}$(n,t);var i=n.prototype;return i.YM=function(t){var n=jE(this.tM,t);if(!(n>=0)){var i=-(n+1);this.tM.splice(i,0,t),t.Mg=!0,t.Ws(new zE(t,this.jM.Ww)),this.Ws(new YE(t)),this.Ws(new ZE(this))}},i.KM=function(t){var n=jE(this.tM,t);n>=0&&Re(this.tM,n),t.Mg=!1,t.Ws(new XE(t,this.jM.Ww)),this.Ws(new JE(t)),this.Ws(new ZE(this))},i.sr=function(){this.HM.Ys(Ev.hl,this.zM),this.HM.Ys(Ev.dl,this.XM),this.HM.Ys(Ev.wl,this.GM),this.HM.Ys(Ev.gl,this.JM),this.HM.Ys(Ev.kl,this.QM),t.prototype.sr.call(this)},i.$M=function(t){var n=jS(t);(this.WT(n),this.ew!==Zv.sw)&&(this.jM.Ww<n.Rg&&this.YM(n))},W(n,[{key:"Jl",get:function(){return this.HM.Jl}},{key:"Ql",get:function(){return this.HM.Ql},set:function(t){this.HM.Ql=t}},{key:"Zl",get:function(){return this.HM.Zl}},{key:"Yl",get:function(){return this.HM.Yl}},{key:"Kl",get:function(){return this.HM.Kl}},{key:"rw",get:function(){return this.HM.rw}},{key:"ew",get:function(){return this.HM.ew},set:function(t){this.HM.ew=t}},{key:"cw",get:function(){return this.HM.cw}},{key:"hw",get:function(){return this.HM.hw}}]),n}(bS),zS=function(t){function n(n){var i;return(i=t.call(this)||this).jM=void 0,i.jM=n,i}$(n,t);var i=n.prototype;return i.Pl=function(n){if(n.vs===xl.ID3){var i=n;return i.aM||(i.aM=new WS(i,this.jM)),t.prototype.Pl.call(this,i.aM)}return t.prototype.Pl.call(this,n)},i.Ll=function(n){if(n.vs===xl.ID3){var i=n;return!!i.aM&&t.prototype.Ll.call(this,i.aM)}return t.prototype.Ll.call(this,n)},n}(sd),$S=function(t){function n(n,i){var r;return(r=t.call(this)||this).ZM=new Kr,r.oR=function(){var t=A.coroutine(qr.mark(function t(n){var i;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((i=n.fl).vs){t.next=4;break}return t.next=4,i.Zs(Ev.Sl);case 4:if(i.vs===xl.ID3){t.next=6;break}return t.abrupt("return");case 6:if(0!==i.aw.Ul){t.next=11;break}return t.next=9,i.Zs(Ev.hl);case 9:t.next=6;break;case 11:r.tB(i);case 12:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.sR=function(t){var n=t.fl;if(n.vs===xl.ID3&&r.ZM.has(n.Kl)){var i=r.ZM.get(n.Kl);r.Ll(i),r.BT.zT(i),n.Ys(Ev.hl,r.$M)}},r.$M=function(t){XS(t.Eg)&&r.nB(t.Eg)},r.BT=n,r.iB=i,r.rB(),r}$(n,t);var i=n.prototype;return i.rB=function(){this.iB.zs(mv.nl,this.oR),this.iB.zs(mv.ul,this.sR)},i.eB=function(){this.iB.Ys(mv.nl,this.oR),this.iB.Ys(mv.ul,this.sR)},i.tB=function(t){var n=t.aw.Bl[0];if(XS(n)){var i=function(t){var n=t.match(GS);if(!n)return;return{fl:n[1],Zl:n[2]}}(n.Ig.description),r=i.fl,e=i.Zl;if(!this.uB(r,e)){var u=this.BT.HT(Sy.bm,t.Yl,r,e,!1,xl.TTML);this.Pl(u),this.ZM.set(t.Kl,u);for(var o=0,s=t.aw.Bl;o<s.length;o++){var c=s[o];XS(c)&&this.nB(c)}t.zs(Ev.hl,this.$M)}}},i.uB=function(t,n){return!!Ee(this.yk.Bl,function(i){return i.Ql===t&&i.Zl===n})},i.nB=function(t){if(t.fl)for(var n=this.ZM.get(t.fl.Kl),i=wy(t.Ig.text,0,{Ip:0,Cp:1/0,Ap:-t.Rg}),r=0;r<i.length;r++){var e=i[r];n.WT(e)}},i.Ml=function(){var n=A.coroutine(qr.mark(function n(){var i,r,e,u,o;return qr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(i=0,r=this.iB.Bl;i<r.length;i++)r[i].Ys(Ev.hl,this.$M);for(e=0,u=this.yk.Bl;e<u.length;e++)o=u[e],this.BT.zT(o);return this.ZM.clear(),n.next=5,t.prototype.Ml.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i.sr=function(){var n=A.coroutine(qr.mark(function n(){return qr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.eB(),n.next=3,t.prototype.sr.call(this);case 3:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),n}(Iy);function XS(t){return function(t){return"TXXX"===t.id||"TXX"===t.id}(n=t.Ig)&&GS.test(n.description);var n}var GS=/^Track:(.+),Lang:(.+)$/;var YS,KS;new(function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).sl=void 0,n}return $(n,t),W(n,[{key:"cl",get:function(){return this.sl||(this.sl=wT(this)),this.sl}},{key:"HP",get:function(){}},{key:"jP",get:function(){}},{key:"WP",get:function(){}},{key:"zP",get:function(){}},{key:"$P",get:function(){}},{key:"XP",get:function(){}},{key:"GP",get:function(){}}]),n}($e));!function(t){t.oB='"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',t.sB='"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',t.cB='"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',t.aB='Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif'}(YS||(YS={})),function(t){t.BLACK="#000000",t.WHITE="#FFFFFF",t.GREEN="#00ff00",t.BLUE="#0000ff",t.CYAN="#00ffff",t.RED="#ff0000",t.YELLOW="#ffff00",t.MAGENTA="#ff00ff",t.TRANSPARENT="transparent"}(KS||(KS={}));var JS,QS;zr({monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:"monospace, sans-serif",monospaceSerif:"monospace, serif",proportionalSansSerif:"Arial",proportionalSerif:"Times New Roman",default:"monospace, sans-serif;"}),zr({lrtb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rltb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;unicode-bidi: bidi-override;",tbrl:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;",tblr:"-webkit-writing-mode: vertical-lr;writing-mode: vertical-lr;-webkit-text-orientation: upright;text-orientation: upright;",lr:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rl:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;",tb:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;"}),KS.WHITE,KS.TRANSPARENT,KS.TRANSPARENT;!function(t){t.fB="Data",t.hB="Tag",t.vB="StartTag",t.dB="StartTagClass",t.lB="StartTagAnnotation",t.wB="CharRefInAnnotation",t.yB="EndTag",t.gB="TimestampTag"}(JS||(JS={})),function(t){t.yF="string",t._B="starttag",t.pB="endtag",t.mB="timestamp"}(QS||(QS={}));var ZS,tR;KS.WHITE,KS.TRANSPARENT;!function(t){t[t.kB=0]="kB",t[t.bB=1]="bB",t[t.TB=2]="TB",t[t.EB=3]="EB",t[t.SB=4]="SB",t[t.RB=5]="RB"}(ZS||(ZS={})),function(t){t[t.IB=0]="IB",t[t.CB=1]="CB",t[t.AB=2]="AB",t[t.DB=3]="DB"}(tR||(tR={}));var nR,iR;[[42,225],[92,233],[94,237],[95,243],[96,250],[123,231],[124,247],[125,209],[126,241],[127,9608],[128,174],[129,176],[130,189],[131,191],[132,8482],[133,162],[134,163],[135,9834],[136,224],[137,32],[138,232],[139,226],[140,234],[141,238],[142,244],[143,251],[144,193],[145,201],[146,211],[147,218],[148,220],[149,252],[150,8216],[151,161],[152,42],[153,8217],[154,9473],[155,169],[156,8480],[157,8226],[158,8220],[159,8221],[160,192],[161,194],[162,199],[163,200],[164,202],[165,203],[166,235],[167,206],[168,207],[169,239],[170,212],[171,217],[172,249],[173,219],[174,171],[175,187],[176,195],[177,227],[178,205],[179,204],[180,236],[181,210],[182,242],[183,213],[184,245],[185,123],[186,125],[187,92],[188,94],[189,95],[190,124],[191,8764],[192,196],[193,228],[194,214],[195,246],[196,223],[197,165],[198,164],[199,9475],[200,197],[201,229],[202,216],[203,248],[204,9487],[205,9491],[206,9495],[207,9499]].reduce(function(t,n){return t[n[0]]=n[1],t},{});!function(t){t[t.AI=0]="AI",t[t.NB=1]="NB",t[t.OB=2]="OB",t[t.xB=3]="xB",t[t.uu=4]="uu"}(nR||(nR={})),function(t){t.FONT_REGULAR="regular",t.FONT_UNDERLINE="underline",t.FONT_ITALICS="italics",t.FONT_UNDERLINE_ITALICS="underline-italics"}(iR||(iR={}));var rR;KS.WHITE,YS.cB,KS.BLACK,iR.FONT_REGULAR,KS.WHITE,iR.FONT_REGULAR,KS.WHITE,iR.FONT_UNDERLINE,KS.GREEN,iR.FONT_REGULAR,KS.GREEN,iR.FONT_UNDERLINE,KS.BLUE,iR.FONT_REGULAR,KS.BLUE,iR.FONT_UNDERLINE,KS.CYAN,iR.FONT_REGULAR,KS.CYAN,iR.FONT_UNDERLINE,KS.RED,iR.FONT_REGULAR,KS.RED,iR.FONT_UNDERLINE,KS.YELLOW,iR.FONT_REGULAR,KS.YELLOW,iR.FONT_UNDERLINE,KS.MAGENTA,iR.FONT_REGULAR,KS.MAGENTA,iR.FONT_UNDERLINE,KS.WHITE,iR.FONT_ITALICS,KS.WHITE,iR.FONT_UNDERLINE_ITALICS,KS.WHITE,iR.FONT_REGULAR,KS.WHITE,iR.FONT_UNDERLINE,KS.WHITE,iR.FONT_REGULAR,KS.WHITE,iR.FONT_UNDERLINE,KS.WHITE,iR.FONT_REGULAR,KS.WHITE,iR.FONT_UNDERLINE,KS.WHITE,iR.FONT_REGULAR,KS.WHITE,iR.FONT_UNDERLINE,KS.WHITE,iR.FONT_REGULAR,KS.WHITE,iR.FONT_UNDERLINE,KS.WHITE,iR.FONT_REGULAR,KS.WHITE,iR.FONT_UNDERLINE,KS.WHITE,iR.FONT_REGULAR,KS.WHITE,iR.FONT_UNDERLINE,KS.WHITE,iR.FONT_REGULAR,KS.WHITE,iR.FONT_UNDERLINE;!function(t){t.PB="HELLO",t.LB="HI_THERE",t.FB="INITIALIZE",t.MB="APPEND_INIT",t.BB="APPEND_DATA",t.UB="ACK",t.VB="REMOVE",t.qB="DESTROY_SESSION"}(rR||(rR={}));var eR=nw.E_,uR=new nw(-1/0),oR=nw.sp,sR=new(function(t){function n(n,i){return t.call(this,n,i)||this}$(n,t);var i=n.prototype;return i.o_=function(t,n){return t.h_(n)?$l.i_:t.Fg(n)?$l.t_:$l.n_},i.og=function(t,n){return t.og(n)},i.w_=function(t,n){return t.w_(n)},i.f_=function(t,n){return t.f_(n)},i.tC=function(){return eR},i.nC=function(){return oR},i.uC=function(){return uR},n.TC=function(t){for(var i=[],r=0;r<t.length;r++)i.push(new nw(t.start(r)),new nw(t.end(r)));return new n(i)},n.HB=function(t){for(var i=[],r=[],e=0;e<t.Ul;e++)i.push(new nw(t.jI(e))),i.push(new nw(t.zI(e))),r.push(t.WI(e)),r.push(t.$I(e));return new n(i,r)},n.SC=function(t){return new n([t,t],[!0,!0])},i.QI=function(t,i){return new n(t,i)},i.KI=function(t){return t.ep},n.RC=function(){return sR},n}(im))([]),cR=(ml.Pv,ml.Lv,function(t){function n(n){var i;return(i=t.call(this,Zo.nf)||this).errorObject=void 0,i.errorObject=n,i}return $(n,t),W(n,[{key:"error",get:function(){return this.errorObject.message}},{key:"licenseAcquisitionURL",get:function(){return this.errorObject.url}},{key:"status",get:function(){return this.errorObject.status}},{key:"statusText",get:function(){return this.errorObject.statusText}},{key:"licenseAcquisitionMessage",get:function(){return this.errorObject.response}},{key:"systemCode",get:function(){return this.errorObject.systemCode}}]),n}(Ge)),aR=function(t){function n(){return t.call(this,Zo.if)||this}return $(n,t),n}(Ge),fR=function(t){function n(n){var i;return(i=t.call(this,"xf")||this).jB=n,i}return $(n,t),n}(Ge),hR=new LT,vR=function(t){function i(i,r,e){var u;return(u=t.call(this)||this).Xc=void 0,u.Pi=!1,u.WB=!1,u.Md=new De,u.Mc=function(t){switch(t.rc){case"license-request":u.IE(t.ic,t.ec).catch(function(t){return u.ya(t)});break;default:u.ya(new yl(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Unsupported CDM message type: "+t.rc))}},u.zB=function(t){u.$B.Yc.lc(function(t,n){switch(t){case"usable":N.Co(function(){u.WB=!0,u.Ws(new aR)},100);break;case"expired":case"status-pending":break;case"output-restricted":case"internal-error":u.Ws(new fR(n))}})},u.XB=function(t){u.ya(new yl(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Unknown CDM error"))},u.$B=i,u.GB=r,u.YB=e,i.zs("ic",u.Mc),i.zs("nc",u.zB),i.zs("uc",u.XB),u.Xc=i.Xc.then(function(){return u.KB()}),u}$(i,t);var r=i.prototype;return r.Hc=function(){var t=this;return this.Pi=!0,hR.UL(function(n){return t.JB(n)},this.Md.Us)},r.JB=function(){var t=A.coroutine(qr.mark(function t(i){var r,e,u;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,xe(i),t.next=4,this.GB.mE(i);case 4:return t.next=6,this.GB.kE(this.YB.ls,this.YB.fc,i);case 6:return r=t.sent,t.next=9,this.$B.Hc(this.YB.ls,this.YB.fc,r);case 9:t.next=18;break;case 11:throw t.prev=11,t.t0=t.catch(0),Pe(t.t0),e=t.t0 instanceof co?t.t0.Dc:void 0,u=new yl(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while performing the CDM request",t.t0,void 0,void 0,void 0,void 0,e),this.ya(u),u;case 18:case"end":return t.stop()}},t,this,[[0,11]])}));return function(n){return t.apply(this,arguments)}}(),r.IE=function(){var t=A.coroutine(qr.mark(function t(i,r){var e,u;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!uo(i)){t.next=7;break}return t.next=4,this.GB.LE(new p(i),this.Md.Us);case 4:e=t.sent,t.next=10;break;case 7:return t.next=9,this.GB.FE(new p(i),r,this.Md.Us);case 9:e=t.sent;case 10:t.next=17;break;case 12:if(t.prev=12,t.t0=t.catch(0),!Oe(t.t0)){t.next=16;break}return t.abrupt("return");case 16:throw t.t0;case 17:return t.prev=17,t.next=20,this.$B.zc(e);case 20:t.next=26;break;case 22:throw t.prev=22,t.t1=t.catch(17),u=t.t1 instanceof co?t.t1.Dc:void 0,new yl(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while applying license response",t.t1,void 0,void 0,void 0,void 0,u);case 26:case"end":return t.stop()}},t,this,[[0,12],[17,22]])}));return function(n,i){return t.apply(this,arguments)}}(),r.ya=function(t){var i=t instanceof yl?t:new yl(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.Ws(new cR(i)),this.qc()},r.KB=function(){this.$B.Ys("ic",this.Mc),this.$B.Ys("nc",this.zB),this.$B.Ys("uc",this.XB),this.WB=!1,this.Md.Fs()},r.qc=function(){var t=A.coroutine(qr.mark(function t(){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Gs(),this.KB(),t.next=4,this.$B.qc().catch(L);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i}($e),dR=[Zo.if,Zo.nf,Zo.Of],lR=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Bc=void 0,e.Jc=void 0,e.QB=void 0,e.ZB=[],e.tU=void 0,e.nU=[],e.Bc=n,e.Jc=i,e.QB=r,e}$(n,t);var i=n.prototype;return i.PE=function(){return this.QB.PE()},i.iU=function(t){return this.tU||(this.tU=this.rU(t)),this.tU},i.rU=function(){var t=A.coroutine(qr.mark(function t(n){var i;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return xe(n),t.next=3,this.QB.LE(new p(eo()),n);case 3:return i=t.sent,xe(n),t.next=7,this.Jc.na(i.buffer);case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.IM=function(){var t=A.coroutine(qr.mark(function t(n){var i,r,e=this;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.nU.push(n),t.next=4,this.Jc.ta("temporary");case 4:return i=t.sent,r=new vR(i,this.QB,n),this.ZB.push(r),r.zs(dR,this.js),r.Xc.then(function(){return e.eU(r)}),t.abrupt("return",r);case 10:return t.prev=10,Se(this.nU,n),t.finish(10);case 13:case"end":return t.stop()}},t,this,[[0,,10,13]])}));return function(n){return t.apply(this,arguments)}}(),i.uU=function(t){if(t.oU)return!1;for(var n=0,i=this.ZB;n<i.length;n++){if(wR(i[n].YB,t))return!0}for(var r=0,e=this.nU;r<e.length;r++){if(wR(e[r],t))return!0}return!1},i.eU=function(t){t.Ys(dR,this.js),Se(this.ZB,t)},i.sr=function(){var t=A.coroutine(qr.mark(function t(){var n;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Gs(),n=this.ZB.slice(),Ce(this.ZB),t.next=5,A.all(n.map(function(t){return t.qc()}));case 5:this.QB.Ds();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),W(n,[{key:"Qc",get:function(){return this.Bc}}]),n}($e);function wR(t,n){return!t.oU&&t.ls===n.ls&&du(t.fc,n.fc)}var yR=function(t){function i(n){var i;return(i=t.call(this)||this).lR=void 0,i.Md=new De,i.KL=new LT,i.Ta=void 0,i.QB=void 0,i.wR=void 0,i.Bc=void 0,i.sU=function(){var t=A.coroutine(qr.mark(function t(n){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.cU(n.ls,n.fc,i.Md.Us);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),Oe(t.t0)||i.ya(t.t0);case 8:case"end":return t.stop()}},t,null,[[0,5]])}));return function(n){return t.apply(this,arguments)}}(),i.lR=n,i.lR.zs(ze.oc,i.sU),i}$(i,t);var r=i.prototype;return r.jc=function(t,n){this.wR=t,this.wM(n)},r.wM=function(t){this.Ta=t,this.aU(this.Md.Us).catch(Le)},r.aU=function(){var t=A.coroutine(qr.mark(function t(n){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!N.jo.fo){t.next=5;break}return t.next=3,this.fU(n);case 3:if(!t.sent){t.next=5;break}return t.abrupt("return");case 5:if(!this.Ta||!this.Ta.hU){t.next=9;break}return t.next=8,this.vU(n);case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.fU=function(){var t=A.coroutine(qr.mark(function t(n){var i,r,e,u,o,s,c,a,f,h,v;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null==(i=this.Ta)?void 0:i.zR){t.next=3;break}return t.abrupt("return",!1);case 3:r=!1,e=0,u=null!=(o=null==(s=this.Ta)?void 0:s.zR)?o:[];case 5:if(!(e<u.length)){t.next=27;break}c=u[e],a=0,f=null!=(h=c.rR)?h:[];case 8:if(!(a<f.length)){t.next=22;break}return v=f[a],t.prev=10,t.next=13,this.cU(c.Qc.ls,v,n);case 13:r=!0,t.next=19;break;case 16:t.prev=16,t.t0=t.catch(10),Pe(t.t0);case 19:a++,t.next=8;break;case 22:if(!r){t.next=24;break}return t.abrupt("return",!0);case 24:e++,t.next=5;break;case 27:return t.abrupt("return",!1);case 28:case"end":return t.stop()}},t,this,[[10,16]])}));return function(n){return t.apply(this,arguments)}}(),r.cU=function(){var t=A.coroutine(qr.mark(function t(i,r,e){var u,o,s,c,a,f,h,v,d,l;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(xe(e),r.byteLength){t.next=3;break}return t.abrupt("return");case 3:if(this.Ta&&this.Ta.zR.length){t.next=5;break}throw new yl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_MISSING,"Missing configuration for encrypted content");case 5:if(i===Qr||i===te||i===Zr){t.next=8;break}return t.abrupt("return");case 8:u=t_(i,r),o=this.Ta.zR,c=0;case 11:if(!(c<o.length)){t.next=42;break}if(a=o[c],xe(e),(f=u[a.Qc.ys])&&a.Qc.ls===i){t.next=17;break}return t.abrupt("continue",39);case 17:return t.prev=17,t.next=20,this.dU(a,e);case 20:if(!(h=t.sent).PE()){t.next=24;break}return t.next=24,h.iU();case 24:if(v=this.lR.Gy,d={ls:a.Qc.ls,fc:f,oU:v},!this.lU(h,d)){t.next=32;break}return t.next=29,h.IM(d);case 29:return l=t.sent,t.next=32,l.Hc();case 32:return t.abrupt("return");case 35:t.prev=35,t.t0=t.catch(17),Pe(t.t0),s=t.t0;case 39:c++,t.next=11;break;case 42:return t.next=44,N.Oo();case 44:if(!t.sent){t.next=48;break}throw new yl(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported",s);case 48:throw new yl(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Cannot create content decryption session",s);case 49:case"end":return t.stop()}},t,this,[[17,35]])}));return function(n,i,r){return t.apply(this,arguments)}}(),r.vU=function(){var t=A.coroutine(qr.mark(function t(n){var i,r,e,u,o;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=null==(i=this.Ta)?void 0:i.zR){t.next=3;break}return t.abrupt("return");case 3:e=0;case 4:if(!(e<r.length)){t.next=23;break}return u=r[e],xe(n),t.prev=7,t.next=10,this.dU(u,n);case 10:if(!(o=t.sent).PE()){t.next=14;break}return t.next=14,o.iU();case 14:return t.abrupt("return");case 17:t.prev=17,t.t0=t.catch(7),Pe(t.t0);case 20:e++,t.next=4;break;case 23:case"end":return t.stop()}},t,this,[[7,17]])}));return function(n){return t.apply(this,arguments)}}(),r.lU=function(t,n){return N.jo.ao||!t.uU(n)},r.dU=function(t,n){var i=this;return this.KL.UL(function(n){return i.wU(t,n)},n)},r.wU=function(){var t=A.coroutine(qr.mark(function t(n,i){var r,e,u,o,s;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(xe(i),this.Ta&&this.QB&&this.wR){t.next=3;break}throw new v("Not initialized");case 3:if(!this.Bc){t.next=7;break}if(this.Bc.Qc===n.Qc){t.next=6;break}throw new v("Internal key system error");case 6:return t.abrupt("return",this.Bc);case 7:return r=this.QB,e=Hr({},n,{eI:n.eI.map(function(t){var i;return Hr({},t,{persistentState:null!=(i=t.persistentState)?i:r.iS(n.Qc),ca:t.ca||r.ca(n.Qc)})})}),t.next=11,this.wR.vM(e.Qc,e.eI);case 11:return u=t.sent,o=r.iR(e),(s=new lR(e.Qc,u,o)).zs([Zo.if,Zo.nf,Zo.Of],this.js),this.Bc=s,t.abrupt("return",s);case 17:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.ya=function(t){var i=t instanceof yl?t:new yl(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.Ws(new cR(i))},r.Ml=function(){var t=A.coroutine(qr.mark(function t(){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.wR=void 0,this.Ta=void 0,this.Md.Fs(),this.Md=new De,t.next=6,this.yU();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.yU=function(){var t=A.coroutine(qr.mark(function t(){var n;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.KL.Fs();case 2:if(!(n=this.Bc)){t.next=8;break}return n.Ys(Zo.Of,this.js),this.Bc=void 0,t.next=8,n.sr();case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.Ds=function(){var t=A.coroutine(qr.mark(function t(){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Gs(),this.lR.Ys(ze.oc,this.sU),t.next=4,this.Ml();case 4:return t.next=6,this.KL.sr();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),W(i,[{key:"gU",get:function(){var t;return null==(t=this.Bc)?void 0:t.Qc}},{key:"HR",get:function(){return this.QB},set:function(t){this.QB=t}}]),i}($e);it.Pe||it.Le,it.Ze,it.Ve;var gR=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n.prototype.lU=function(t,n){return!0},n}(yR),_R=function(t){function n(n,i,r){var e;return void 0===r&&(r=new PS(i)),(e=t.call(this)||this).wR=void 0,e.ps=void 0,e._U=void 0,e.pU=new LT,e.mU=void 0,e.AM=void 0,e.kU=!1,e.xa=void 0,e.Ia=null,e.bU={Yy:0,Ky:0,Jy:0,Qy:0,Zy:0,tg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},e.TU=function(t){"boolean"==typeof t.detail.casting&&(e.kU=t.detail.casting,e.Ws(new Bl(e.kU)))},e.EU=function(t){e.xa=t.sessionId,e.Ia&&(e.Ia.sessionId=e.xa);var n=t.initData;if(n){var i=function(t){try{var n=Ku(t),i=new io;return ju(Wu(Cu(n,i,Ou(n,i,!0)),!0))}catch(t){return}}(n);if(!i)return;e.Ws(new tu(te,i))}else e.Ws(new tu(te,new ArrayBuffer(0)))},e.mU=n,e.AM=i,e.AM.zs(mS.mM,e.EU),e.ps=r,e._U=new gR(un(e)),e.SU(),e}$(n,t);var i=n.prototype;return i.RU=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.vs===zy.XT)return i}},i.Ds=function(){var t=A.coroutine(qr.mark(function t(){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Ml();case 2:return this.Gs(),this.IU(),this.AM.Ys(mS.mM,this.EU),t.next=7,this._U.Ds();case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Fy=function(){throw new v("Not implemented yet")},i.HT=function(t,n,i,r,e,u,o){throw new v("Not implemented yet")},i.KR=function(){return!1},i.QR=function(t,n,i,r){throw new v("Not implemented yet")},i.zT=function(t){throw new v("Not implemented yet")},i.nI=function(){throw new v("Not implemented yet")},i.jc=function(){var t=A.coroutine(qr.mark(function t(n){var i=this;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.pU.UL(function(){var t=A.coroutine(qr.mark(function t(r){var e;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.vs!==zy.XT){t.next=8;break}return xe(r),e=new SS(n,i,i.ps),i.wR=e,i._U.jc(e,n),t.abrupt("return",e);case 8:throw new v("Could not create non-static media source");case 9:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.nr=function(){throw new v("Not implemented yet")},i.tr=function(){throw new v("Not implemented yet")},i.Ml=function(){var t=this;return this.pU.Fs(),this.pU.UL(A.coroutine(qr.mark(function n(){return qr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0===t.wR){n.next=4;break}return n.next=3,t.wR.Ds();case 3:t.wR=void 0;case 4:return n.next=6,t._U.Ml();case 6:case"end":return n.stop()}},n)})))},i.mc=function(t,n){throw new v("Not implemented yet")},i.sI=function(t){throw new v("Not implemented yet")},i.Ly=function(){throw new v("Not implemented yet")},i.cI=function(){return this.bU},i.SU=function(){this.mU.addEventListener("airPlayIsCasting",this.TU)},i.IU=function(){this.mU.removeEventListener("airPlayIsCasting",this.TU)},i.webkitSetMediaKeys=function(t){this.Ia=t||null,this.Ia&&(this.Ia.sessionId=this.xa)},i.CU=function(){},i.AU=function(){throw new v("Not implemented yet")},i.DU=function(){throw new v("Not implemented yet")},W(n,[{key:"$y",get:function(){throw new v("Not implemented yet")}},{key:"zy",get:function(){throw new v("Not implemented yet")}},{key:"Ww",get:function(){throw new v("Not implemented yet")}},{key:"mL",get:function(){throw new v("Not implemented yet")}},{key:"zw",get:function(){throw new v("Not implemented yet")}},{key:"$w",get:function(){throw new v("Not implemented yet")}},{key:"uc",get:function(){throw new v("Not implemented yet")}},{key:"Ok",get:function(){throw new v("Not implemented yet")}},{key:"Gy",get:function(){return this.kU}},{key:"Gw",get:function(){throw new v("Not implemented yet")}},{key:"Yw",get:function(){throw new v("Not implemented yet")}},{key:"Kw",get:function(){throw new v("Not implemented yet")}},{key:"ig",get:function(){throw new v("Not implemented yet")}},{key:"cw",get:function(){throw new v("Not implemented yet")}},{key:"eg",get:function(){throw new v("Not implemented yet")}},{key:"Jw",get:function(){throw new v("Not implemented yet")}},{key:"NU",get:function(){throw new v("Not implemented yet")}},{key:"ty",get:function(){throw new v("Not implemented yet")},set:function(t){throw new v("Not implemented yet")}},{key:"yo",get:function(){throw new v("Not implemented yet")}},{key:"tI",get:function(){throw new v("Not implemented yet")}},{key:"webkitKeys",get:function(){return this.Ia}},{key:"OU",get:function(){return ES}},{key:"Sy",get:function(){throw new v("Not implemented yet")}},{key:"bL",get:function(){throw new v("Not implemented yet")}},{key:"aI",get:function(){throw new v("Not implemented yet")}},{key:"xU",get:function(){return!0}},{key:"HR",get:function(){return this._U.HR},set:function(t){this._U.HR=t}},{key:"gU",get:function(){return this._U.gU}}]),n}(cd),pR=function(t){function n(n){var i;return(i=t.call(this,Zo.Pf)||this).bU=n,i}return $(n,t),n}(Ge);var mR=function(t){function n(n){return t.call(this,Ll.Il,n)||this}return $(n,t),n.prototype.al=function(){return new kR(this.Eg.cl)},n}(Ul),kR=function(t){function n(n){return t.call(this,Fl.Il,n)||this}return $(n,t),n}(Vl),bR=function(t){function n(n,i){var r,e=TR(i,n.zw,n.aI,n.PU);return(r=t.call(this,i,e,void 0,!1,n.Yl)||this).LU=void 0,r.FU=void 0,r.MU=void 0,r.BU=void 0,r.UU=void 0,r.VU=void 0,r.qU=void 0,r.HU=void 0,r.jU=void 0,r.WU=void 0,r.LU=n.zU,r.FU=n.aI,r.MU=n.PU,r.BU=n.zw,r.UU=n.$U,r.VU=Boolean(n.XU),r.qU=n.GU||{},r.HU=n.YU,r.jU=n.KU,r.WU=n.JU,r.QU(),r.ZU(),r}$(n,t);var i=n.prototype;return i.zc=function(t){var n=!1;void 0===this.LU&&void 0!==t.zU&&(n=!0,this.LU=t.zU),void 0===this.MU&&void 0!==t.PU&&(n=!0,this.MU=t.PU),void 0===this.BU&&void 0!==t.zw&&(n=!0,this.BU=t.zw),void 0===this.UU&&void 0!==t.$U&&(n=!0,this.UU=t.$U),!this.VU&&t.XU&&(n=!0,this.VU=t.XU),n=this.updateCustomAttributes(t,n),void 0===this.HU&&void 0!==t.YU&&(n=!0,this.HU=t.YU),void 0===this.jU&&void 0!==t.KU&&(n=!0,this.jU=t.KU),void 0===this.WU&&void 0!==t.JU&&(n=!0,this.WU=t.JU),this.QU(),this.ZU(),this.tV(),n&&this.Ws(new mR(this))},i.updateCustomAttributes=function(t,n){var i=n;if(t.GU)for(var r=0,e=l.keys(t.GU);r<e.length;r++){var u=e[r];void 0===this.qU[u]&&(i=!0,this.qU[u]=t.GU[u])}return i},i.QU=function(){this.BU&&!this.MU&&(this.MU=new Date(this.FU.getTime()+1e3*this.BU))},i.ZU=function(){this.MU&&!this.BU&&(this.BU=nn(this.MU.getTime()-this.FU.getTime()))},i.tV=function(){this.Ag===1/0&&(this.MU||this.BU)&&(this.Ag=TR(this.Cg,this.BU,this.FU,this.MU))},W(n,[{key:"cl",get:function(){var t;return this.sl||(this.sl=Mv(ql(t=this),{get content(){return t.Ig},get class(){return t.zU},get startDate(){return t.aI},get endDate(){return t.PU},get duration(){return t.zw},get plannedDuration(){return t.$U},get endOnNext(){return t.XU},get scte35Cmd(){return t.YU},get scte35Out(){return t.KU},get scte35In(){return t.JU},get customAttributes(){return t.GU}})),this.sl}},{key:"zU",get:function(){return this.LU}},{key:"aI",get:function(){return this.FU}},{key:"PU",get:function(){return this.MU}},{key:"zw",get:function(){return this.BU}},{key:"$U",get:function(){return this.UU}},{key:"XU",get:function(){return this.VU}},{key:"YU",get:function(){return this.HU}},{key:"KU",get:function(){return this.jU}},{key:"JU",get:function(){return this.WU}},{key:"GU",get:function(){return this.qU}}]),n}(Wl);function TR(t,n,i,r){return ut(n)?t+n:r?t+(nn(r.getTime())-nn(i.getTime())):1/0}var ER,SR=function(t){function n(){return t.call(this,void 0,void 0,xl.DATE_RANGE)||this}$(n,t);var i=n.prototype;return i.zc=function(t,n){for(var i=this,r=function(t){for(var n=Wr(),i=[],r=0;r<t.length;r++){var e=t[r];if(n.has(e.Yl)){var u=n.get(e.Yl),o=Hr({},u,qv(e),{GU:Hr({},u.GU,e.GU)});n.set(e.Yl,o)}else n.set(e.Yl,e),i.push(e.Yl)}return i.map(function(t){return n.get(t)})}(t),e=this.aw.Bl,u=function(t){var n=e[t],u=Ee(r,function(t){return t.Yl===n.Yl});u?n.zc(u):i.sM(n)},o=e.length-1;o>=0;o--)u(o);for(var s=0;s<r.length;s++){var c=r[s],a=c.aI;if(void 0!==a&&!this.uM(c.Yl)){var f=n(a);this.WT(new bR(c,f))}}},i.WT=function(n){this.nV(n),t.prototype.WT.call(this,n)},i.nV=function(t){var n=this.XF.filter(function(n){return n.zU===t.zU}).pop();n&&n.XU&&n.zc({Yl:n.Yl,PU:t.aI})},n}(bS);function RR(t){switch(t.type){case ER.yF:return t.value;case ER.wF:return jv(t.value);case ER.lF:return cu(t.value);default:return}}function IR(t){return function(t){return void 0!==t.name&&void 0!==t.message}(t)&&void 0!==t.timestamp&&void 0!==t.code}!function(t){t.yF="daterange-ca-type_string",t.wF="daterange-ca-type_number",t.lF="daterange-ca-type_arraybuffer"}(ER||(ER={}));var CR,AR,DR,NR=function(t){function n(n,i,r,e,u){var o;return(o=t.call(this,e,i,r)||this).OS=void 0,o.iV=void 0,o.OS=n,o.iV=u,o}return $(n,t),W(n,[{key:"name",get:function(){return this.OS}},{key:"timestamp",get:function(){return this.iV}}]),n}(xo),OR=function(t){function n(n,i,r,e,u,o,s,c){var a;return(a=t.call(this,n,i,r,e,c)||this).url=void 0,a.status=void 0,a.errorComment=void 0,a.url=u,a.status=o,a.errorComment=s,a}return $(n,t),n}(NR),xR=function(){function t(t,n){this.py=void 0,this.rV=void 0,this.py=new Ry,this.rV=new iS(t,n)}var n=t.prototype;return n.HT=function(t,n,i,r,e,u){var o=new _S(t,n,i,r,e,u);return this.py.Pl(o),this.rV.Pl(o),o},n.zT=function(t){this.py.Ll(t),this.rV.Ll(t),t.sr()},n.Ml=function(){for(var t=0,n=this.py.Bl.slice();t<n.length;t++){n[t].sr()}this.py.Ml(),this.rV.Ml()},n.sr=function(){this.Ml(),this.py.sr(),this.rV.sr()},W(t,[{key:"Sy",get:function(){return this.py}}]),t}(),PR=function(t){function n(n,i,r,e,u){var o;(o=t.call(this)||this).NC=0,o.eV=!1,o.yR=void 0,o.gR=void 0,o.uV=void 0,o.xC=!0,o.LC=1,o.gy=void 0,o._y=void 0,o.oV=void 0,o.sV=void 0,o.cV=void 0,o.py=void 0,o.BT=void 0,o.BU=void 0,o.aV=rm.RC(),o.fV=rm.RC(),o.OC=!1,o.hV=rm.RC(),o.FC=void 0,o.vV=void 0,o.dV=void 0,o.QF=_d.xw,o.YT=_d.xw,o.mU=void 0,o.rV=void 0,o.mR=void 0,o.qF=void 0,o.lV=void 0,o.qC=void 0,o.lR=void 0,o.kR=void 0,o.AM=void 0,o.bU={Yy:0,Ky:0,Jy:0,Qy:0,Zy:0,tg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},o.wR=void 0,o.wV=void 0,o.TR=new Bp,o.setCurrentTime=function(){var t=A.coroutine(qr.mark(function t(n){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o.eg.length){t.next=4;break}return o.NC=n,t.next=4,o.mU.Zs("seekablechange");case 4:o.NC=o.updateCurrentTime(n),o.qF.WF("THEOplayerSetCurrentTime",o.NC),o.FC=!0,o.Ws(new $d(o.NC));case 8:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),o.yV=function(t){if(t.detail){for(var n=t.detail.buffered,i=[],r=0;r<n.length;r++){var e=n[r];i.push(e.start,e.end)}o.aV=new rm(i),o.Ws(new sS(o.Ww))}},o.gV=function(t){o.QF=t.detail.readyState,o.Ws(new Yd(+t.detail.currentTime,o.cw)),o._V()},o.pV=function(t){o.QF=t.detail.readyState,o.Ws(new Kd(+t.detail.currentTime,o.cw)),o._V()},o.mV=function(t){if(t.detail){var n=+t.detail.duration;o.BU=n,o.Ws(new qd(o.zw))}},o.kV=function(t){t.detail&&(o.eV=!0,o.Ws(new Wd(+t.detail.currentTime)))},o.ER=function(t){if(t.detail&&t.detail.error&&t.detail.errorObject){var n,i=JSON.parse(t.detail.errorObject);IR(n=i)&&void 0!==n.url&&void 0!==n.status&&void 0!==n.errorComment?(o.gR=new OR(i.name,i.message,void 0,i.code,i.url,i.status,i.errorComment,i.timestamp),o.yR=pl(o.gR),o.Ws(new Qd(o.gR))):IR(i)&&(o.gR=new NR(i.name,i.message,void 0,i.code,i.timestamp),o.yR=pl(o.gR),o.Ws(new Qd(o.gR)))}},o.bV=function(t){o.Ws(new oS)},o.TV=function(t){o.QF=t.detail.readyState,o.Ws(new zd(+t.detail.currentTime,o.cw)),o._V()},o.EV=function(){var t=A.coroutine(qr.mark(function t(n){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o.eg.length){t.next=3;break}return t.next=3,o.mU.Zs("seekablechange");case 3:o.QF=n.detail.readyState,o.Ws(new Vd(+n.detail.currentTime,o.cw)),o._V();case 6:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),o.SV=function(t){t.detail&&o.xC&&(o.xC=!1,o.Ws(new Fd(+t.detail.currentTime)))},o.RV=function(t){t.detail&&(o.xC||(o.xC=!0,o.Ws(new Ld(+t.detail.currentTime))))},o.IV=function(t){if(t.detail){for(var n=t.detail.played,i=[],r=0;r<n.length;r++){var e=n[r];i.push(e.start,e.end)}o.hV=new rm(i).sC(.05)}},o.CV=function(t){t.detail&&o.Ws(new eg(+t.detail.currentTime))},o.AV=function(t){t.detail&&(o.LC=t.detail.playbackRate,o.Ws(new Hd(+t.detail.currentTime,o.LC)))},o.DV=function(t){if(t.detail){for(var n=t.detail.seekable,i=[],r=0;r<n.length;r++){var e=n[r];i.push(e.start,e.end)}o.fV=new rm(i)}},o.NV=function(t){t.detail&&(o.NC=+t.detail.currentTime,o.FC=!1,o.Ws(new jd(o.NC,o.uV)),o.Ws(new Xd(o.NC)))},o.OV=function(t){if(t.detail){var n=Number(t.detail.currentTime);n<o.BU&&(o.eV=!1),o.FC=!0,o.Ws(new $d(n))}},o.xV=function(t){t.detail&&(t.detail.currentDate&&(o.uV=new Date(1e3*t.detail.currentDate)),o.NC=+t.detail.currentTime,o.Ws(new jd(o.NC,o.uV)))},o.PV=function(t){o.vV=t.detail.height,o.dV=t.detail.width},o.LV=function(t){t.detail&&o.Ws(new rg(+t.detail.currentTime))},o.FV=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,enabled:t.detail.enabled};o.Ty.Pl(new Dl(n))},o.MV=function(t){for(var n,i,r=t.detail.lang,e=t.detail.label,u=0;u<o.gy.Ul;u++){var s=o.Ty.xl(u);s.Zl==r&&s.Ql==e?i=o.gy.xl(u):1==s.Gl&&(n=o.gy.xl(u))}i&&n&&(i.Gl=!0,n.Gl=!1)},o.BV=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,selected:t.detail.selected};o.Ey.Pl(new Ml(n))},o.UV=function(t){var n,i=t.detail.kind,r=t.detail.type;i===Sy.Em&&r===xl.ID3?(n=new TS("",t.detail.label)).ew=Zv.ow:i===Sy.Em&&r===xl.DATE_RANGE?(n=new SR,o.wV=n):n=new _S(i,void 0,t.detail.label,t.detail.lang,t.detail.isDefault,r),o.oV.Pl(n),o.rV.Pl(n)},o.VV=function(t){for(var n=0,i=t.detail;n<i.length;n++){var r=i[n],e=r.Id3FrameId,u={id:e,text:r.Id3FrameText};"TXXX"!==e&&"TXX"!==e||(u.description=r.Id3FrameDescription);var s=new kS(jv(r.startTime),u,r.uid),c=o.qV();c&&c.WT(s)}},o.HV=function(t){for(var n=0,i=t.detail;n<i.length;n++){var r,e=i[n],u=new zl(jv(e.startTime),jv(e.endTime),e.content,!1),s=null!=(r=o.jV(Sy.bm))?r:o.jV(Sy.OT);s&&(s.vs=xl.WEBVTT,s.WT(u))}},o.WV=function(t){t.type===Zo.nf&&(o.yR=pl(t.errorObject)),o.js(t)},o.zV=function(t){t.detail&&(o.bU.Ky=t.detail.corruptedVideoFrames,o.bU.Yy=t.detail.droppedVideoFrames,o.Ws(new pR(o.ay)))},o.$V=function(t){var n=function(t){var n=t.detail,i=[];return n.forEach(function(t){var n={Yl:t.id};if(void 0!==t.startDate&&(n.aI=new Date(t.startDate)),void 0!==t.endDate&&(n.PU=new Date(t.endDate)),void 0!==t.customAttributes){var r={};for(var e in t.customAttributes){var u=RR(t.customAttributes[e]);void 0!==u&&(r[e]=u)}n.GU=r}void 0!==t.scte35Cmd&&(n.YU=cu(t.scte35Cmd)),void 0!==t.scte35In&&(n.JU=cu(t.scte35In)),void 0!==t.scte35Out&&(n.KU=cu(t.scte35Out)),void 0!==t.startTime&&(n.Sg=t.startTime),n.zU=t.class,n.zw=jv(t.duration),n.$U=jv(t.plannedDuration),i.push(n)}),i}(t);n.forEach(function(t){var i=null!=t.Sg?t.Sg:(new Date).getTime(),r=new bR(t,i);o.wV.WT(r),o.wV.zc(n,i)})};var s=e.uid;o.qF=o.getSdkBridge(s),o.mU=new VE,DE()[s].sdkEventBus=o.mU,o.gy=new kl,o._y=new kl;var c=o.XV(r);return o.BT=new xR(un(o),new rS),o.rV=new uS(un(o)),o.mR=new Uy(o.BT,c),o.oV=new Ry,o.sV=new zS(un(o)),o.sV.zl=o.oV,o.cV=new $S(o.BT,o.sV),o.py=new qp([o.oV,o.mR.yk,o.cV.yk]),o.AM=o.getFairPlayControllerBridge(o.qF),o.lR=new _R(o.mU,o.AM),o.kR=new Up(c),o.lR.HR=o.kR,o.observeMediaElement(),o.WR(),o.qC=new cS(o.qF,u),o.qC.zs("QO",function(){o.qF.WF("THEOplayerSetPreferredForwardBufferDuration",o.qC.JO)}),o}$(n,t);var i=n.prototype;return i.By=function(){return om},i.Ly=function(){this.qF.WF("THEOplayerShow",{})},i.Fy=function(){this.qF.WF("THEOplayerHide",{})},i.GV=function(){var t=this;this.qF.WF("THEOplayerSetInitialPreferredPeakBitRate",this.qC.vx);this.zs("playing",function n(){t.qF.WF("THEOplayerSetInitialPreferredPeakBitRate",0),t.Ys("playing",n)})},i.Ay=function(){var t=A.coroutine(qr.mark(function t(n,i){var r,e,u;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.lV=n,r=Hr({},i,{sources:{src:n.src,type:wd.Rw,contentProtection:n.contentProtection,ssai:n.ssai,crossOrigin:n.crossOrigin,hlsDateRange:n.hlsDateRange,isAdvertisement:n.isAdvertisement}}),this.qF.WF("THEOplayerSourceChange",r),e={vs:zy.XT,hw:n.src,nv:n.type,zR:this.$R(n),XR:n.crossOrigin,GR:i.metadata&&i.metadata.title},this.kR.nR(n.contentProtection),t.next=7,this.lR.jc(e);case 7:this.wR=t.sent,i.textTracks&&(u=i.textTracks.filter(function(t){return t.format!==xl.WEBVTT})).length>0&&this.YR(u),Wy(this.Sy),this.GV();case 11:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.$R=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{Qc:ae,eI:[{initDataTypes:[ae.ls],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},i.tr=function(){this.xC=!1,this.Ws(new Fd(this.Ww)),this.qF.WF("THEOplayerPlay",{})},i.nr=function(){this.xC=!0,this.Ws(new Ld(this.Ww)),this.qF.WF("THEOplayerPause",{})},i.My=function(){},i.Ml=function(){var t=A.coroutine(qr.mark(function t(){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.NC=0,this.eV=!1,this.yR=void 0,this.gR=void 0,this.xC=!0,this.LC=1,this.BU=void 0,this.fV=rm.RC(),this.aV=rm.RC(),this.vV=void 0,this.dV=void 0,this.QF=_d.xw,this.YT=_d.xw,this.gy.Ml(),this._y.Ml(),this.oV.Ml(),this.py.Ml(),t.next=19,this.cV.Ml();case 19:return this.sV.Ml(),t.next=22,this.mR.Ml();case 22:return this.BT.Ml(),this.rV.Ml(),this.lV=void 0,t.next=27,this.lR.Ml();case 27:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Ny=function(){this.qF.WF("THEOplayerShowAirPlayPicker",{})},i.Oy=function(){this.qF.WF("THEOplayerStopAirPlayPicker",{})},i.updateMetrics=function(t){this.ay.Ky=t.Ky,this.ay.Yy=t.Yy},i.sr=function(){var t=A.coroutine(qr.mark(function t(){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Ml();case 2:return this.Gs(),this.unobserveMediaElement(),this.rI(),this.lR.HR=void 0,t.next=8,this.lR.Ds();case 8:return this.gy.sr(),this._y.sr(),this.oV.sr(),this.py.sr(),this.sV.sr(),t.next=15,this.cV.sr();case 15:return t.next=17,this.mR.sr();case 17:this.BT.sr(),this.rV.sr();case 19:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.YR=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.mR.qT(i)}},i._V=function(){var t=this.YT,n=this.QF;t!==n&&(this.YT=n,this.Ws(new Jd(this.Ww,n)))},i.observeMediaElement=function(){this.lR.zs(Zo.Ja,this.js),this.lR.zs([Zo.if,Zo.nf],this.WV),this.mU.addEventListener("play",this.SV),this.mU.addEventListener("pause",this.RV),this.mU.addEventListener("seeking",this.OV),this.mU.addEventListener("seeked",this.NV),this.mU.addEventListener("ratechange",this.AV),this.mU.addEventListener("durationchange",this.mV),this.mU.addEventListener("timeupdate",this.xV),this.mU.addEventListener("waiting",this.LV),this.mU.addEventListener("playing",this.CV),this.mU.addEventListener("ended",this.kV),this.mU.addEventListener("loadedmetadata",this.EV),this.mU.addEventListener("loadeddata",this.TV),this.mU.addEventListener("loadstart",this.bV),this.mU.addEventListener("canplay",this.gV),this.mU.addEventListener("canplaythrough",this.pV),this.mU.addEventListener("error",this.ER),this.mU.addEventListener("seekablechange",this.DV),this.mU.addEventListener("videosizechange",this.PV),this.mU.addEventListener("bufferedchange",this.yV),this.mU.addEventListener("playedchange",this.IV),this.mU.addEventListener("metricschange",this.zV),this.mU.addEventListener("addDateRangeCues",this.$V)},i.unobserveMediaElement=function(){this.lR.Ys(Zo.Ja,this.js),this.lR.Ys([Zo.if,Zo.nf],this.WV),this.mU.removeEventListener("play",this.SV),this.mU.removeEventListener("pause",this.RV),this.mU.removeEventListener("seeking",this.OV),this.mU.removeEventListener("seeked",this.NV),this.mU.removeEventListener("ratechange",this.AV),this.mU.removeEventListener("durationchange",this.mV),this.mU.removeEventListener("timeupdate",this.xV),this.mU.removeEventListener("waiting",this.LV),this.mU.removeEventListener("playing",this.CV),this.mU.removeEventListener("ended",this.kV),this.mU.removeEventListener("loadedmetadata",this.EV),this.mU.removeEventListener("loadeddata",this.TV),this.mU.removeEventListener("loadstart",this.bV),this.mU.removeEventListener("canplay",this.gV),this.mU.removeEventListener("canplaythrough",this.pV),this.mU.removeEventListener("error",this.ER),this.mU.removeEventListener("seekablechange",this.DV),this.mU.removeEventListener("videosizechange",this.PV),this.mU.removeEventListener("bufferedchange",this.yV),this.mU.removeEventListener("playedchange",this.IV),this.mU.removeEventListener("metricschange",this.zV),this.mU.removeEventListener("addDateRangeCues",this.$V)},i.updateCurrentTime=function(t){var n=this.eg.start(0),i=this.eg.end(0);return w.min(w.max(t,n),i)},i.qV=function(){for(var t=0,n=this.py.Bl;t<n.length;t++){var i=n[t];if(i.Jl===Sy.Em&&i.vs===xl.ID3)return i}},i.jV=function(t){for(var n=0,i=this.py.Bl;n<i.length;n++){var r=i[n],e=r.ew===Zv.uw,u=r.Jl===t;if(e&&u)return r}},i.WR=function(){this.mU.addEventListener("addaudiotrack",this.FV),this.mU.addEventListener("enableaudiotrack",this.MV),this.mU.addEventListener("addvideotrack",this.BV),this.mU.addEventListener("addtexttrack",this.UV),this.mU.addEventListener("addtexttrackid3cues",this.VV),this.mU.addEventListener("addtexttrackcues",this.HV)},i.rI=function(){this.mU.removeEventListener("addaudiotrack",this.FV),this.mU.removeEventListener("enableaudiotrack",this.MV),this.mU.removeEventListener("addvideotrack",this.BV),this.mU.removeEventListener("addtexttrack",this.UV),this.mU.removeEventListener("addtexttrackid3cues",this.VV),this.mU.removeEventListener("addtexttrackcues",this.YV)},i.Wy=function(){},W(n,[{key:"Ty",get:function(){return this.gy}},{key:"zy",get:function(){return this.aV.oI()}},{key:"$y",get:function(){return this.uV?this.uV:null},set:function(t){this.qF.WF("THEOplayerSetCurrentProgramDateTime",t.getTime()),this.uV=t}},{key:"Ww",get:function(){return this.NC},set:function(t){this.setCurrentTime(t)}},{key:"zw",get:function(){return this.BU}},{key:"$w",get:function(){return this.eV}},{key:"uc",get:function(){return this.yR}},{key:"Xw",get:function(){return this.gR}},{key:"Ry",get:function(){}},{key:"Gy",get:function(){return this.lR.Gy}},{key:"ay",get:function(){return this.bU}},{key:"Gw",get:function(){return this.OC},set:function(t){this.OC!==t&&(this.qF.WF("THEOplayerSetMuted",t),this.OC=t,this.Ws(new Gd(this.Ww,t?0:1)))}},{key:"Yw",get:function(){return this.xC}},{key:"Kw",get:function(){return this.LC},set:function(t){this.qF.WF("THEOplayerSetPlaybackRate",t),this.LC=t}},{key:"ig",get:function(){return this.hV.oI()}},{key:"rg",get:function(){return Yp.AI},set:function(t){}},{key:"cw",get:function(){return this.QF}},{key:"eg",get:function(){return this.fV.oI()}},{key:"Jw",get:function(){return this.FC}},{key:"aI",get:function(){}},{key:"Sy",get:function(){return this.py}},{key:"Qw",get:function(){return this.vV}},{key:"Zw",get:function(){return this.dV}},{key:"ty",get:function(){return 1},set:function(t){}},{key:"Ey",get:function(){return this._y}},{key:"fI",get:function(){return this.TR}},{key:"ng",get:function(){return!0}}]),n}(cd),LR=function(){function t(){this.hI=Op.GS}var n=t.prototype;return n.vI=function(n,i){if(n.isAdvertisement)return!1;if(i.vr&&i.vr[360]&&!i.vr.nativeVR)return!1;if((r=n.type)&&de(r.toLowerCase(),wd.Sw))return!1;var r,e=n.contentProtection;if(e&&!Hg(e)){if(!zg(e))return!1;if(!t.KV(e))return!1}return!0},t.KV=function(t){return Boolean(t.fairplay)||Boolean(t.aes128)},n.dI=function(){return!1},t}(),FR=function(){function n(t){this.playerID=t}return n.prototype.WF=function(n,i){if(t.THEOplayerBridge[this.playerID].postMessageToSwift&&"function"==typeof t.THEOplayerBridge[this.playerID].postMessageToSwift){var r={body:i,name:n};t.THEOplayerBridge[this.playerID].postMessageToSwift(r)}},n}(),MR=function(t){function n(n){var i;return(i=t.call(this)||this).qF=void 0,i.mU=void 0,i.JV=function(t){var n=cu(t.detail.initData),r=t.detail.sessionId;i.Ws(new CS(n,r))},i.QV=function(t){var n=new p(wu(t.detail.message)),r=t.detail.destinationURL;i.Ws(new AS(n,r))},i.ZV=function(t){i.Ws(new DS)},i.qF=n,i.mU=new VE,DE().fairplayController={sdkEventBus:i.mU},i.tq(),i}$(n,t);var i=n.prototype;return i.tq=function(){this.mU.addEventListener(mS.mM,this.JV),this.mU.addEventListener(mS.kM,this.QV),this.mU.addEventListener(mS.bM,this.ZV)},i.IM=function(t,n){var i={playerId:OE(),data:yu(n.buffer),sessionId:t};this.qF.WF("THEOplayerCreateKeySession",i)},i.zc=function(t,n){var i={playerId:OE(),data:yu(n.buffer),sessionId:t};this.qF.WF("THEOplayerUpdateKey",i)},n}(cd),BR=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n.prototype._v=function(n){if(Qu(n.iv)){var i=Zu(n.iv);n.iv=Hu(i)}return t.prototype._v.call(this,n)},n}(function(){function t(t){this.UT=void 0,this.UT=t}var n=t.prototype;return n._v=function(t){return this.UT._v(t)},n.jv=function(t){this.UT.jv(t)},n.sr=function(){this.UT.sr()},t}()),UR=function(t){function n(n,i,r,e,u){return t.call(this,n,i,r,e,u)||this}$(n,t);var i=n.prototype;return i.Dy=function(){return!1},i.getSdkBridge=function(t){return new FR(t)},i.getFairPlayControllerBridge=function(t){return AR||(AR=new MR(t)),AR},i.XV=function(t){return new BR(t)},n}(PR);CR=new(function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n.prototype.zE=function(t,n,i,r,e,u){return new UR(t,n,i,r,e)},n}(LR)),Gp.tu.pI(CR),function(t){t.nl="addtrack",t.ul="removetrack",t.kl="change",t.Il="update"}(DR||(DR={}));var VR=function(t,n,i){this.type=DR.kl,this.mediaType=t,this.mediaTrack=n,this.mediaTrackList=i},qR=function(t,n){this.type=DR.nl,this.mediaType=t,this.mediaTrack=n},HR=function(t,n){this.type=DR.ul,this.mediaType=t,this.mediaTrack=n},jR=function(t,n){this.type=DR.Il,this.mediaType=t,this.mediaTrack=n},WR=function(){function t(t,n,i){var r=this;this.type=void 0,this.mediaTracks=void 0,this.messageDispatcher=void 0,this.nq=function(t){var n=new VR(r.type,t.track,r.mediaTracks);r.messageDispatcher.iq(n)},this.rq=function(t){var n=new qR(r.type,t.track);r.messageDispatcher.iq(n),t.track.addEventListener("update",r.uq)},this.oq=function(t){var n=new HR(r.type,t.track);r.messageDispatcher.iq(n)},this.uq=function(t){var n=new jR(r.type,t.track);r.messageDispatcher.iq(n)},this.type=t,this.mediaTracks=n,this.messageDispatcher=i,this.tq()}return t.prototype.tq=function(){this.mediaTracks.addEventListener("change",this.nq),this.mediaTracks.addEventListener("addtrack",this.rq),this.mediaTracks.addEventListener("removetrack",this.oq)},t}(),zR=function(){function t(t){this.sq=void 0,this.sq=new FR(t)}return t.prototype.iq=function(t){this.sq.WF(t.type,ZT(t))},t}();RT(function(t){if(t.cl.audioTracks){var n=new zR(t.Kl);new WR("audio",t.cl.audioTracks,n)}if(t.cl.videoTracks){var i=new zR(t.Kl);new WR("video",t.cl.videoTracks,i)}});var $R,XR,GR=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n.prototype.dispatchEvent=function(t,n){switch(t){case $R.cq:var i={integrationId:n.integrationId,keySystem:n.keySystem};this.Ws(new YR(i));break;default:0}},n}(VE),YR=function(t){function n(n){var i;return(i=t.call(this,$R.cq)||this).detail=n,i}return $(n,t),n}(Ge);!function(t){t.cq="registerContentProtectionIntegration"}($R||($R={})),function(t){t.aq="certifiateRequest",t.fq="certifiateResponse",t.hq="licenseRequest",t.vq="licenseResponse",t.dq="extractFairplayContentId",t.lq="buildContentProtection",t.wq="registerContentProtectionCallback"}(XR||(XR={}));var KR,JR=function(t,n){this.type=XR.wq,this.value=t,this.integrationId=n};!function(t){t.VOD="vod",t.LIVE="live"}(KR||(KR={}));var QR,ZR=function(t,n){this.type=XR.lq,this.value=t,this.integrationId=n},tI=function(t,n){this.type=XR.aq,this.value=t,this.integrationId=n},nI=function(t,n){this.type=XR.fq,this.value=t,this.integrationId=n},iI=function(t,n){this.type=XR.dq,this.value=t,this.integrationId=n},rI=function(t,n){this.type=XR.hq,this.value=t,this.integrationId=n},eI=function(t,n){this.type=XR.vq,this.value=t,this.integrationId=n},uI=function(){function t(t,n){this.yq=void 0,this.$E=void 0,this.yq=t,this.$E=n}var i=t.prototype;return i.onCertificateRequest=function(){var t=A.coroutine(qr.mark(function t(i){var r,e,u,o,s,c;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i),e=new tI(r,this.$E),t.prev=2,t.next=5,this.yq.gq(e);case 5:if(!(u=t.sent)){t.next=16;break}if(o=JSON.parse(u),!this._q(o)){t.next=13;break}return s=Hr({},o),t.abrupt("return",s);case 13:if(!this.pq(o)){t.next=16;break}return c=new p(o),t.abrupt("return",c);case 16:throw new yl(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Could not parse callback in onCertificateRequest");case 19:throw t.prev=19,t.t0=t.catch(2),new yl(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,t.t0);case 22:case"end":return t.stop()}},t,this,[[2,19]])}));return function(n){return t.apply(this,arguments)}}(),i.onCertificateResponse=function(){var t=A.coroutine(qr.mark(function t(i){var r,e,u,o,s;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i.request),e={request:r,url:i.url,status:i.status,statusText:i.statusText,headers:i.headers,body:Array.from(i.body)},u=new nI(e,this.$E),t.next=5,this.yq.gq(u);case 5:if(!(o=t.sent)){t.next=11;break}return s=JSON.parse(o),t.abrupt("return",new p(s));case 11:throw new yl(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"received undefined instead of string in onCertificateResponse");case 12:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.onLicenseRequest=function(){var t=A.coroutine(qr.mark(function t(i){var r,e,u,o,s,c,a;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i),e={url:r.url,method:r.method,headers:r.headers,body:r.body?Array.from(r.body):null,useCredentials:r.useCredentials,fairplaySkdUrl:i.fairplaySkdUrl},u=new rI(e,this.$E),t.prev=3,t.next=6,this.yq.gq(u);case 6:if(!(o=t.sent)){t.next=17;break}if(s=JSON.parse(o),!this._q(s)){t.next=14;break}return c={url:s.url,method:s.method,headers:s.headers,body:s.body?new p(s.body):null,useCredentials:s.useCredentials,fairplaySkdUrl:s.fairplaySkdUrl},t.abrupt("return",c);case 14:if(!this.pq(s)){t.next=17;break}return a=new p(s),t.abrupt("return",a);case 17:throw new yl(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Could not parse callback in onLicenseRequest");case 20:throw t.prev=20,t.t0=t.catch(3),new yl(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,t.t0);case 23:case"end":return t.stop()}},t,this,[[3,20]])}));return function(n){return t.apply(this,arguments)}}(),i.onLicenseResponse=function(){var t=A.coroutine(qr.mark(function t(i){var r,e,u,o,s,c;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i.request),e=Hr({},r,{fairplaySkdUrl:i.request.fairplaySkdUrl}),u={request:e,url:i.url,status:i.status,statusText:i.statusText,headers:i.headers,body:Array.from(i.body)},o=new eI(u,this.$E),t.next=6,this.yq.gq(o);case 6:if(!(s=t.sent)){t.next=12;break}return c=JSON.parse(s),t.abrupt("return",new p(c));case 12:throw new yl(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"received undefined instead of string in onLicenseResponse");case 13:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.extractFairplayContentId=function(){var t=A.coroutine(qr.mark(function t(i){var r,e;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=new iI(i,this.$E),t.next=3,this.yq.gq(r);case 3:if(!(e=t.sent)){t.next=6;break}return t.abrupt("return",e);case 6:return t.abrupt("return",A.reject(new yl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"received undefined instead of string in extractFairplayContentId")));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.toCertificateRequestDTO=function(t){return{url:t.url,method:t.method,headers:t.headers,body:t.body?Array.from(t.body):null,useCredentials:t.useCredentials}},i._q=function(t){var n=t;return void 0!==n.url&&void 0!==n.method&&void 0!==n.headers},i.pq=function(t){return!!new p(t)},t}(),oI=function(){function t(t){this.yq=void 0,this.yq=t}return t.prototype.build=function(t){if(!t.integration)throw new v("integrationId is undefined");var n=new uI(this.yq,t.integration),i=new ZR({drmConfiguration:t},t.integration);return this.yq.gq(i),n},t}(),sI=function(){var t=this;this.mU=void 0,this.mq=function(n){var i=new oI(t.messageDispatcher),r=n.detail,e=r.integrationId,u=r.keySystem,o={state:Pg.QE.GE(e,u,i)};t.messageDispatcher.gq(new JR(o,e))},this.mU=new GR,DE().contentProtectionIntegration={sdkEventBus:this.mU},this.mU.addEventListener($R.cq,this.mq)},cI="nativePromiseCallback",aI=function(t){function n(n){var i;return(i=t.call(this,cI)||this).detail=n,i}return $(n,t),n}(Ge);!function(t){t.RESOLVE="NATIVE_PROMISE_RESOLVE",t.REJECT="NATIVE_PROMISE_REJECT"}(QR||(QR={}));var fI=function(t){function n(){return t.apply(this,arguments)||this}$(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.Ws(new aI(n))},i.addEventListener=function(t,n){this.zs(t,n)},i.removeEventListener=function(t,n){this.Ys(t,n)},n}(VE),hI=function(){function t(){var t=this;this.sq=void 0,this.promisesMap={},this.handleNativePromiseEvent=function(n){var i=t.promisesMap[n.detail.promiseId];if(!i)throw new v("Could not find a promise with id "+n.detail.promiseId);switch(n.detail.type){case QR.RESOLVE:i.Ic(n.detail.data);break;case QR.REJECT:i.Cc(n.detail.data)}delete t.promisesMap[n.detail.promiseId]};var n=new fI;DE().nativePromise={sdkEventBus:n},n.addEventListener(cI,this.handleNativePromiseEvent)}return t.prototype.gq=function(n){var i;t.messageIdTracker+=1;var r=t.messageIdTracker.toString(),e=Hr({},n,{promiseId:r}),u=new ro;return this.promisesMap[r]=u,null==(i=this.sq)||i.WF(n.type,JT(e)),u.Rc},t}();hI.messageIdTracker=-1;var vI=function(t){function n(n){var i;return(i=t.call(this)||this).sq=new FR(n),i}return $(n,t),n}(hI),dI=function(t){function n(n){var i;return(i=t.call(this)||this).yq=void 0,i.yq=new vI(n),i}return $(n,t),W(n,[{key:"messageDispatcher",get:function(){return this.yq}}]),n}(sI);RT(function(t){new dI(t.cl.uid)}),n.ChromelessPlayer=function t(n,i){var r=tl(i),e=new(MT||(MT=ET(MT=zT(kT),yT.TL),MT=ET(MT,yT.EL)),MT)(n,r),u=e.cl;return e.yL(),e.uF(PT),l.defineProperty(u,"constructor",{value:t}),u=Lv(u),function(t){for(var n=0;n<ST.length;n++)(0,ST[n])(t)}(e),u},n.createGlobals=xE,n.features=[],n.getCueMirrorMap=NE,n.getGlobalId=OE,n.getSdkEventBridge=DE,n.playerSuiteVersion="2021.4.2",n.players=XT,n.registerContentProtectionIntegration=GT,n.utils=$T,n.version="2.92.0",l.defineProperty(n,"__esModule",{value:!0})})}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:this);
