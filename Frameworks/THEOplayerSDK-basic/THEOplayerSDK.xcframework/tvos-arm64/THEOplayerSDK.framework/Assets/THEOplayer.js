/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com

 This product makes use of Open Source Software: video.js
 (Apache 2.0 - Copyright Brightcove, Inc.), Bluebird (MIT -
 Copyright (c) 2013-2015 Petka Antonov), long.js (Apache 2.0),
 nodejs-langs (MIT - Copyright Andrew Lawson)
 The code of these projects has been heavily modified during
 integration.
 More information on the licenses can be found here: Apache 2.0
 (http://www.apache.org/licenses/LICENSE-2.0), MIT
 (https://opensource.org/licenses/MIT)

 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 2021.3.0 (2.87.0)
 Created: 2021-08-02T13:53:39.817Z
 */
!function(t){!function(n,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i((n="undefined"!=typeof globalThis?globalThis:n||t).THEOplayer={})}(this,function(n){"use strict";var i,r=t.window,e=t.document,u=t.location,s=t.navigator,o=t.setTimeout,c=t.clearTimeout,a=t.setInterval,f=t.clearInterval,h=t.Error,v=t.TypeError,d=(t.SyntaxError,t.Object),l=t.Math,w=t.parseInt,y=t.parseFloat,g=t.isNaN,_=t.Uint8Array,p=(t.Worker,t.WorkerGlobalScope,t.XMLHttpRequest),m="undefined"!=typeof globalThis?globalThis:void 0!==r?r:"undefined"!=typeof global?global:void 0!==t?t:{};function k(t,n,i){return t(i={path:n,exports:{},require:function(t,n){return function(){throw new h("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==n&&i.path)}},i.exports),i.exports}var b,T,E,S,R,I,C=k(function(n,u){n.exports=function t(n,r,e){function u(o,c){if(!r[o]){if(!n[o]){var a="function"==typeof i&&i;if(!c&&a)return a(o,!0);if(s)return s(o,!0);var f=new h("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var v=r[o]={exports:{}};n[o][0].call(v.exports,function(t){var i=n[o][1][t];return u(i||t)},v,v.exports,t,n,r,e)}return r[o].exports}for(var s="function"==typeof i&&i,o=0;o<e.length;o++)u(e[o]);return u}({1:[function(t,n,i){n.exports=function(t){var n=t.o;function i(t){var i=new n(t),r=i.promise();return i.setHowMany(1),i.setUnwrap(),i.init(),r}t.any=function(t){return i(t)},t.prototype.any=function(){return i(this)}}},{}],2:[function(t,n,i){var r;try{throw new h}catch(t){r=t}var e=t("./schedule"),u=t("./queue"),s=t("./util");function c(){this.v=!1,this.l=!1,this.g=new u(16),this.p=new u(16),this.R=!1,this.I=!0;var t=this;this.drainQueues=function(){t.C()},this.N=e}function a(t,n,i){this.g.push(t,n,i),this.F()}function f(t,n,i){this.p.push(t,n,i),this.F()}function v(t){this.p.M(t),this.F()}function d(t){for(;t.length()>0;)l(t)}function l(t){var n=t.shift();if("function"!=typeof n)n.B();else{var i=t.shift(),r=t.shift();n.call(i,r)}}c.prototype.setScheduler=function(t){var n=this.N;return this.N=t,this.v=!0,n},c.prototype.hasCustomScheduler=function(){return this.v},c.prototype.enableTrampoline=function(){this.I=!0},c.prototype.disableTrampolineIfNecessary=function(){s.hasDevTools&&(this.I=!1)},c.prototype.haveItemsQueued=function(){return this.l||this.R},c.prototype.fatalError=function(t,n){n?(process.stderr.write("Fatal "+(t instanceof h?t.stack:t)+"\n"),process.exit(2)):this.throwLater(t)},c.prototype.throwLater=function(t,n){if(1===arguments.length&&(n=t,t=function(){throw n}),void 0!==o)o(function(){t(n)},0);else try{this.N(function(){t(n)})}catch(t){throw new h("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},s.hasDevTools?(c.prototype.invokeLater=function(t,n,i){this.I?a.call(this,t,n,i):this.N(function(){o(function(){t.call(n,i)},100)})},c.prototype.invoke=function(t,n,i){this.I?f.call(this,t,n,i):this.N(function(){t.call(n,i)})},c.prototype.settlePromises=function(t){this.I?v.call(this,t):this.N(function(){t.B()})}):(c.prototype.invokeLater=a,c.prototype.invoke=f,c.prototype.settlePromises=v),c.prototype.C=function(){d(this.p),this.U(),this.R=!0,d(this.g)},c.prototype.F=function(){this.l||(this.l=!0,this.N(this.drainQueues))},c.prototype.U=function(){this.l=!1},n.exports=c,n.exports.firstLineError=r},{"./queue":26,"./schedule":29,"./util":36}],3:[function(t,n,i){n.exports=function(t,n,i,r){var e=!1,u=function(t,n){this.V(n)},s=function(t,n){n.promiseRejectionQueued=!0,n.bindingPromise.j(u,u,null,this,t)},o=function(t,n){0==(50397184&this.H)&&this.W(n.target)},c=function(t,n){n.promiseRejectionQueued||this.V(t)};t.prototype.bind=function(u){e||(e=!0,t.prototype.X=r.propagateFromFunction(),t.prototype.G=r.boundValueFunction());var a=i(u),f=new t(n);f.X(this,1);var h=this.Y();if(f.K(a),a instanceof t){var v={promiseRejectionQueued:!1,promise:f,target:h,bindingPromise:a};h.j(n,s,void 0,f,v),a.j(o,c,void 0,f,v),f.J(a)}else f.W(h);return f},t.prototype.K=function(t){void 0!==t?(this.H=2097152|this.H,this.Z=t):this.H=-2097153&this.H},t.prototype.nt=function(){return 2097152==(2097152&this.H)},t.bind=function(n,i){return t.resolve(i).bind(n)}}},{}],4:[function(t,n,i){var r;"undefined"!=typeof Promise&&(r=Promise);var e=t("./promise")();e.noConflict=function(){try{Promise===e&&(Promise=r)}catch(t){}return e},n.exports=e},{"./promise":22}],5:[function(t,n,i){var r=d.create;if(r){var e=r(null),u=r(null);e[" size"]=u[" size"]=0}n.exports=function(n){var i=t("./util"),r=i.canEvaluate;function e(t){var r=this.pop(),e=function(t,r){var e;if(null!=t&&(e=t[r]),"function"!=typeof e){var u="Object "+i.classString(t)+" has no method '"+i.toString(r)+"'";throw new n.TypeError(u)}return e}(t,r);return e.apply(t,this)}function u(t){return t[this]}function s(t){var n=+this;return n<0&&(n=l.max(0,n+t.length)),t[n]}i.isIdentifier,n.prototype.call=function(t){var n=[].slice.call(arguments,1);return n.push(t),this.j(e,void 0,void 0,n,void 0)},n.prototype.get=function(t){var n,i="number"==typeof t;if(i)n=s;else if(r){var e=(void 0)();n=null!==e?e:u}else n=u;return this.j(n,void 0,void 0,t,void 0)}}},{"./util":36}],6:[function(t,n,i){n.exports=function(n,i,r,e){var u=t("./util"),s=u.tryCatch,o=u.errorObj,c=n.it;n.prototype.break=n.prototype.cancel=function(){if(!e.cancellation())return this.rt("cancellation is disabled");for(var t=this,n=t;t.et();){if(!t.ut(n)){n.st()?n.ot().cancel():n.ct();break}var i=t.at;if(null==i||!i.et()){t.st()?t.ot().cancel():t.ct();break}t.st()&&t.ot().cancel(),t.ft(),n=t,t=i}},n.prototype.ht=function(){this.vt--},n.prototype.dt=function(){return void 0===this.vt||this.vt<=0},n.prototype.ut=function(t){return t===this?(this.vt=0,this.wt(),!0):(this.ht(),!!this.dt()&&(this.wt(),!0))},n.prototype.ct=function(){this.dt()&&this.yt()},n.prototype.yt=function(){this.et()&&(this._t(),c.invoke(this.pt,this,void 0))},n.prototype.pt=function(){this.kt()>0&&this.B()},n.prototype.bt=function(){this.Tt=void 0},n.prototype.et=function(){return this.isPending()&&!this.Et()},n.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},n.prototype.St=function(t,n){if(u.isArray(t))for(var i=0;i<t.length;++i)this.St(t[i],n);else if(void 0!==t)if("function"==typeof t){if(!n){var r=s(t).call(this.G());r===o&&(this.Rt(r.e),c.throwLater(r.e))}}else t._resultCancelled(this)},n.prototype.wt=function(){var t=this.It();this.bt(),c.invoke(this.St,this,t)},n.prototype.Ct=function(){this.et()&&(this.St(this.It(),!0),this.bt())},n.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(t,n,i){n.exports=function(n){var i=t("./util"),r=t("./es5").keys,e=i.tryCatch,u=i.errorObj;return function(t,s,o){return function(c){var a=o.G();t:for(var f=0;f<t.length;++f){var v=t[f];if(v===h||null!=v&&v.prototype instanceof h){if(c instanceof v)return e(s).call(a,c)}else if("function"==typeof v){var d=e(v).call(a,c);if(d===u)return d;if(d)return e(s).call(a,c)}else if(i.isObject(c)){for(var l=r(v),w=0;w<l.length;++w){var y=l[w];if(v[y]!=c[y])continue t}return e(s).call(a,c)}}return n}}}},{"./es5":13,"./util":36}],8:[function(t,n,i){n.exports=function(t){var n=!1,i=[];function r(){this.Dt=new r.CapturedTrace(e())}function e(){var t=i.length-1;if(t>=0)return i[t]}return t.prototype.At=function(){},t.prototype.Nt=function(){},t.prototype.Ot=function(){return null},t.xt=t.prototype.xt=function(){},r.prototype.Nt=function(){void 0!==this.Dt&&(this.Dt.At=null,i.push(this.Dt))},r.prototype.Ot=function(){if(void 0!==this.Dt){var t=i.pop(),n=t.At;return t.At=null,n}return null},r.CapturedTrace=null,r.create=function(){if(n)return new r},r.deactivateLongStackTraces=function(){},r.activateLongStackTraces=function(){var i=t.prototype.Nt,u=t.prototype.Ot,s=t.xt,o=t.prototype.xt,c=t.prototype.At;r.deactivateLongStackTraces=function(){t.prototype.Nt=i,t.prototype.Ot=u,t.xt=s,t.prototype.xt=o,t.prototype.At=c,n=!1},n=!0,t.prototype.Nt=r.prototype.Nt,t.prototype.Ot=r.prototype.Ot,t.xt=t.prototype.xt=e,t.prototype.At=function(){var t=this.xt();t&&null==t.At&&(t.At=this)}},r}},{}],9:[function(t,n,i){n.exports=function(n,i){var r,u,s,c=n.Pt,a=n.it,f=t("./errors").Warning,l=t("./util"),y=t("./es5"),g=l.canAttachTrace,_=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,p=/\((?:timers\.js):\d+:\d+\)/,m=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,k=null,b=null,T=!1,E=!(0==l.env("BLUEBIRD_DEBUG")),S=!(0==l.env("BLUEBIRD_WARNINGS")||!E&&!l.env("BLUEBIRD_WARNINGS")),R=!(0==l.env("BLUEBIRD_LONG_STACK_TRACES")||!E&&!l.env("BLUEBIRD_LONG_STACK_TRACES")),I=0!=l.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(S||!!l.env("BLUEBIRD_W_FORGOTTEN_RETURN"));n.prototype.suppressUnhandledRejections=function(){var t=this.Y();t.H=-1048577&t.H|524288},n.prototype.Lt=function(){if(0==(524288&this.H)){this.Ft();var t=this;o(function(){t.Mt()},1)}},n.prototype.Bt=function(){K("rejectionHandled",r,void 0,this)},n.prototype.Ut=function(){this.H=268435456|this.H},n.prototype.Vt=function(){return 0!=(268435456&this.H)},n.prototype.Mt=function(){if(this.qt()){var t=this.jt();this.Ht(),K("unhandledRejection",u,t,this)}},n.prototype.Ht=function(){this.H=262144|this.H},n.prototype.Wt=function(){this.H=-262145&this.H},n.prototype.$t=function(){return(262144&this.H)>0},n.prototype.Ft=function(){this.H=1048576|this.H},n.prototype.zt=function(){this.H=-1048577&this.H,this.$t()&&(this.Wt(),this.Bt())},n.prototype.qt=function(){return(1048576&this.H)>0},n.prototype.rt=function(t,n,i){return z(t,n,i||this)},n.onPossiblyUnhandledRejection=function(t){var n=c();u="function"==typeof t?null===n?t:l.domainBind(n,t):void 0},n.onUnhandledRejectionHandled=function(t){var n=c();r="function"==typeof t?null===n?t:l.domainBind(n,t):void 0};var C=function(){};n.longStackTraces=function(){if(a.haveItemsQueued()&&!et.longStackTraces)throw new h("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!et.longStackTraces&&Q()){var t=n.prototype.Xt,r=n.prototype.Rt,e=n.prototype.Gt;et.longStackTraces=!0,C=function(){if(a.haveItemsQueued()&&!et.longStackTraces)throw new h("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");n.prototype.Xt=t,n.prototype.Rt=r,n.prototype.Gt=e,i.deactivateLongStackTraces(),a.enableTrampoline(),et.longStackTraces=!1},n.prototype.Xt=H,n.prototype.Rt=W,n.prototype.Gt=$,i.activateLongStackTraces(),a.disableTrampolineIfNecessary()}},n.hasLongStackTraces=function(){return et.longStackTraces&&Q()};var D=function(){try{if("function"==typeof CustomEvent){var t=new CustomEvent("CustomEvent");return l.global.dispatchEvent(t),function(t,n){var i={detail:n,cancelable:!0};y.defineProperty(i,"promise",{value:n.promise}),y.defineProperty(i,"reason",{value:n.reason});var r=new CustomEvent(t.toLowerCase(),i);return!l.global.dispatchEvent(r)}}if("function"==typeof Event){var t=new Event("CustomEvent");return l.global.dispatchEvent(t),function(t,n){var i=new Event(t.toLowerCase(),{cancelable:!0});return i.detail=n,y.defineProperty(i,"promise",{value:n.promise}),y.defineProperty(i,"reason",{value:n.reason}),!l.global.dispatchEvent(i)}}var t=e.createEvent("CustomEvent");return t.initCustomEvent("testingtheevent",!1,!0,{}),l.global.dispatchEvent(t),function(t,n){var i=e.createEvent("CustomEvent");return i.initCustomEvent(t.toLowerCase(),!1,!0,n),!l.global.dispatchEvent(i)}}catch(t){}return function(){return!1}}(),A=l.isNode?function(){return process.emit.apply(process,arguments)}:l.global?function(t){var n="on"+t.toLowerCase(),i=l.global[n];return!!i&&(i.apply(l.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function N(t,n){return{promise:n}}var O={promiseCreated:N,promiseFulfilled:N,promiseRejected:N,promiseResolved:N,promiseCancelled:N,promiseChained:function(t,n,i){return{promise:n,child:i}},warning:function(t,n){return{warning:n}},unhandledRejection:function(t,n,i){return{reason:n,promise:i}},rejectionHandled:N},x=function(t){var n=!1;try{n=A.apply(null,arguments)}catch(t){a.throwLater(t),n=!0}var i=!1;try{i=D(t,O[t].apply(null,arguments))}catch(t){a.throwLater(t),i=!0}return i||n};function P(){return!1}function L(t,n,i){var r=this;try{t(n,i,function(t){if("function"!=typeof t)throw new v("onCancel must be a function, got: "+l.toString(t));r.Yt(t)})}catch(t){return t}}function F(t){if(!this.et())return this;var n=this.It();void 0!==n?l.isArray(n)?n.push(t):this.J([n,t]):this.J(t)}function M(){return this.Tt}function B(t){this.Tt=t}function U(){this.at=void 0,this.Tt=void 0}function V(t,n){if(0!=(1&n)){this.at=t;var i=t.vt;void 0===i&&(i=0),t.vt=i+1}0!=(2&n)&&t.nt()&&this.K(t.Z)}n.config=function(t){if("longStackTraces"in(t=d(t))&&(t.longStackTraces?n.longStackTraces():!t.longStackTraces&&n.hasLongStackTraces()&&C()),"warnings"in t){var i=t.warnings;et.warnings=!!i,I=et.warnings,l.isObject(i)&&"wForgottenReturn"in i&&(I=!!i.wForgottenReturn)}if("cancellation"in t&&t.cancellation&&!et.cancellation){if(a.haveItemsQueued())throw new h("cannot enable cancellation after promises are in use");n.prototype.Kt=U,n.prototype.X=V,n.prototype.It=M,n.prototype.J=B,n.prototype.Yt=F,n.prototype.Jt=L,q=V,et.cancellation=!0}return"monitoring"in t&&(t.monitoring&&!et.monitoring?(et.monitoring=!0,n.prototype.Qt=x):!t.monitoring&&et.monitoring&&(et.monitoring=!1,n.prototype.Qt=P)),n},n.prototype.Qt=P,n.prototype.Jt=function(t,n,i){try{t(n,i)}catch(t){return t}},n.prototype.It=function(){},n.prototype.J=function(t){},n.prototype.Yt=function(t){},n.prototype.Xt=function(){},n.prototype.Rt=function(){},n.prototype.Gt=function(){},n.prototype.Kt=function(){},n.prototype.X=function(t,n){};var q=function(t,n){0!=(2&n)&&t.nt()&&this.K(t.Z)};function j(){var t=this.Z;return void 0!==t&&t instanceof n?t.isFulfilled()?t.value():void 0:t}function H(){this.Dt=new it(this.xt())}function W(t,n){if(g(t)){var i=this.Dt;if(void 0!==i&&n&&(i=i.Zt),void 0!==i)i.attachExtraTrace(t);else if(!t.tn){var r=G(t);l.notEnumerableProp(t,"stack",r.message+"\n"+r.stack.join("\n")),l.notEnumerableProp(t,"tn",!0)}}}function $(){this.Dt=void 0}function z(t,i,r){if(et.warnings){var e,u=new f(t);if(i)r.Rt(u);else if(et.longStackTraces&&(e=n.xt()))e.attachExtraTrace(u);else{var s=G(u);u.stack=s.message+"\n"+s.stack.join("\n")}x("warning",u)||Y(u,"",!0)}}function X(t){for(var n=[],i=0;i<t.length;++i){var r=t[i],e="    (No stack trace)"===r||k.test(r),u=e&&Z(r);e&&!u&&(T&&" "!==r.charAt(0)&&(r="    "+r),n.push(r))}return n}function G(t){var n=t.stack,i=t.toString();return n="string"==typeof n&&n.length>0?function(t){for(var n=t.stack.replace(/\s+$/g,"").split("\n"),i=0;i<n.length;++i){var r=n[i];if("    (No stack trace)"===r||k.test(r))break}return i>0&&"SyntaxError"!=t.name&&(n=n.slice(i)),n}(t):["    (No stack trace)"],{message:i,stack:"SyntaxError"==t.name?n:X(n)}}function Y(t,n,i){if("undefined"!=typeof console){var r;if(l.isObject(t)){var e=t.stack;r=n+b(e,t)}else r=n+String(t);"function"==typeof s?s(r,i):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(r)}}function K(t,n,i,r){var e=!1;try{"function"==typeof n&&(e=!0,"rejectionHandled"===t?n(r):n(i,r))}catch(t){a.throwLater(t)}"unhandledRejection"===t?x(t,i,r)||e||Y(i,"Unhandled rejection "):x(t,r)}function J(t){var n;if("function"==typeof t)n="[function "+(t.name||"anonymous")+"]";else{if(n=t&&"function"==typeof t.toString?t.toString():l.toString(t),/\[object [a-zA-Z0-9$_]+\]/.test(n))try{var i=JSON.stringify(t);n=i}catch(t){}0===n.length&&(n="(empty array)")}return"(<"+function(t){return t.length<41?t:t.substr(0,38)+"..."}(n)+">, no stack trace)"}function Q(){return"function"==typeof rt}var Z=function(){return!1},tt=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function nt(t){var n=t.match(tt);if(n)return{fileName:n[1],line:w(n[2],10)}}function it(t){this.Zt=t,this.nn=0;var n=this.kt=1+(void 0===t?0:t.kt);rt(this,it),n>32&&this.uncycle()}l.inherits(it,h),i.CapturedTrace=it,it.prototype.uncycle=function(){var t=this.kt;if(!(t<2)){for(var n=[],i={},r=0,e=this;void 0!==e;++r)n.push(e),e=e.Zt;for(var r=(t=this.kt=r)-1;r>=0;--r){var u=n[r].stack;void 0===i[u]&&(i[u]=r)}for(var r=0;r<t;++r){var s=n[r].stack,o=i[s];if(void 0!==o&&o!==r){o>0&&(n[o-1].Zt=void 0,n[o-1].kt=1),n[r].Zt=void 0,n[r].kt=1;var c=r>0?n[r-1]:this;o<t-1?(c.Zt=n[o+1],c.Zt.uncycle(),c.kt=c.Zt.kt+1):(c.Zt=void 0,c.kt=1);for(var a=c.kt+1,f=r-2;f>=0;--f)n[f].kt=a,a++;return}}}},it.prototype.attachExtraTrace=function(t){if(!t.tn){this.uncycle();for(var n=G(t),i=n.message,r=[n.stack],e=this;void 0!==e;)r.push(X(e.stack.split("\n"))),e=e.Zt;!function(t){for(var n=t[0],i=1;i<t.length;++i){for(var r=t[i],e=n.length-1,u=n[e],s=-1,o=r.length-1;o>=0;--o)if(r[o]===u){s=o;break}for(var o=s;o>=0;--o){var c=r[o];if(n[e]!==c)break;n.pop(),e--}n=r}}(r),function(t){for(var n=0;n<t.length;++n)(0===t[n].length||n+1<t.length&&t[n][0]===t[n+1][0])&&(t.splice(n,1),n--)}(r),l.notEnumerableProp(t,"stack",function(t,n){for(var i=0;i<n.length-1;++i)n[i].push("From previous event:"),n[i]=n[i].join("\n");return i<n.length&&(n[i]=n[i].join("\n")),t+"\n"+n.join("\n")}(i,r)),l.notEnumerableProp(t,"tn",!0)}};var rt=function(){var t=/^\s*at\s*/,n=function(t,n){return"string"==typeof t?t:void 0!==n.name&&void 0!==n.message?n.toString():J(n)};if("number"==typeof h.stackTraceLimit&&"function"==typeof h.captureStackTrace){h.stackTraceLimit+=6,k=t,b=n;var i=h.captureStackTrace;return Z=function(t){return _.test(t)},function(t,n){h.stackTraceLimit+=6,i(t,n),h.stackTraceLimit-=6}}var r,e=new h;if("string"==typeof e.stack&&e.stack.split("\n")[0].indexOf("stackDetection@")>=0)return k=/@/,b=n,T=!0,function(t){t.stack=(new h).stack};try{throw new h}catch(t){r="stack"in t}return"stack"in e||!r||"number"!=typeof h.stackTraceLimit?(b=function(t,n){return"string"==typeof t?t:"object"!=typeof n&&"function"!=typeof n||void 0===n.name||void 0===n.message?J(n):n.toString()},null):(k=t,b=n,function(t){h.stackTraceLimit+=6;try{throw new h}catch(n){t.stack=n.stack}h.stackTraceLimit-=6})}();"undefined"!=typeof console&&void 0!==console.warn&&(s=function(t){console.warn(t)},l.isNode&&process.stderr.isTTY?s=function(t,n){var i=n?"\x1b[33m":"\x1b[31m";console.warn(i+t+"\x1b[0m\n")}:l.isNode||"string"!=typeof(new h).stack||(s=function(t,n){console.warn("%c"+t,n?"color: darkorange":"color: red")}));var et={warnings:S,longStackTraces:!1,cancellation:!1,monitoring:!1};return R&&n.longStackTraces(),{longStackTraces:function(){return et.longStackTraces},warnings:function(){return et.warnings},cancellation:function(){return et.cancellation},monitoring:function(){return et.monitoring},propagateFromFunction:function(){return q},boundValueFunction:function(){return j},checkForgottenReturns:function(t,n,i,r,e){if(void 0===t&&null!==n&&I){if(void 0!==e&&e.Vt())return;if(0==(65535&r.H))return;i&&(i+=" ");var u="",s="";if(n.Dt){for(var o=n.Dt.stack.split("\n"),c=X(o),a=c.length-1;a>=0;--a){var f=c[a];if(!p.test(f)){var h=f.match(m);h&&(u="at "+h[1]+":"+h[2]+":"+h[3]+" ");break}}if(c.length>0)for(var v=c[0],a=0;a<o.length;++a)if(o[a]===v){a>0&&(s="\n"+o[a-1]);break}}var d="a promise was created in a "+i+"handler "+u+"but was not returned from it, see http://goo.gl/rRqMUw"+s;r.rt(d,!0,n)}},setBounds:function(t,n){if(Q()){for(var i,r,e=(t.stack||"").split("\n"),u=(n.stack||"").split("\n"),s=-1,o=-1,c=0;c<e.length;++c){var a=nt(e[c]);if(a){i=a.fileName,s=a.line;break}}for(var c=0;c<u.length;++c){var a=nt(u[c]);if(a){r=a.fileName,o=a.line;break}}s<0||o<0||!i||!r||i!==r||s>=o||(Z=function(t){if(_.test(t))return!0;var n=nt(t);return!!(n&&n.fileName===i&&s<=n.line&&n.line<=o)})}},warn:z,deprecated:function(t,n){var i=t+" is deprecated and will be removed in a future version.";return n&&(i+=" Use "+n+" instead."),z(i)},CapturedTrace:it,fireDomEvent:D,fireGlobalEvent:A}}},{"./errors":12,"./es5":13,"./util":36}],10:[function(t,n,i){n.exports=function(t){function n(){return this.value}function i(){throw this.reason}t.prototype.return=t.prototype.thenReturn=function(i){return i instanceof t&&i.suppressUnhandledRejections(),this.j(n,void 0,void 0,{value:i},void 0)},t.prototype.throw=t.prototype.thenThrow=function(t){return this.j(i,void 0,void 0,{reason:t},void 0)},t.prototype.catchThrow=function(t){if(arguments.length<=1)return this.j(void 0,i,void 0,{reason:t},void 0);var n=arguments[1];return this.caught(t,function(){throw n})},t.prototype.catchReturn=function(i){if(arguments.length<=1)return i instanceof t&&i.suppressUnhandledRejections(),this.j(void 0,n,void 0,{value:i},void 0);var r=arguments[1];return r instanceof t&&r.suppressUnhandledRejections(),this.caught(i,function(){return r})}}},{}],11:[function(t,n,i){n.exports=function(t,n){var i=t.reduce,r=t.all;function e(){return r(this)}t.prototype.each=function(t){return i(this,t,n,0).j(e,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(t){return i(this,t,n,n)},t.each=function(t,r){return i(t,r,n,0).j(e,void 0,void 0,t,void 0)},t.mapSeries=function(t,r){return i(t,r,n,n)}}},{}],12:[function(t,n,i){var r,e,u=t("./es5"),s=u.freeze,o=t("./util"),c=o.inherits,a=o.notEnumerableProp;function f(t,n){function i(r){if(!(this instanceof i))return new i(r);a(this,"message","string"==typeof r?r:n),a(this,"name",t),h.captureStackTrace?h.captureStackTrace(this,this.constructor):h.call(this)}return c(i,h),i}var d=f("Warning","warning"),l=f("CancellationError","cancellation error"),w=f("TimeoutError","timeout error"),y=f("AggregateError","aggregate error");try{r=v,e=RangeError}catch(t){r=f("TypeError","type error"),e=f("RangeError","range error")}for(var g="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),_=0;_<g.length;++_)"function"==typeof Array.prototype[g[_]]&&(y.prototype[g[_]]=Array.prototype[g[_]]);u.defineProperty(y.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),y.prototype.isOperational=!0;var p=0;function m(t){if(!(this instanceof m))return new m(t);a(this,"name","OperationalError"),a(this,"message",t),this.cause=t,this.isOperational=!0,t instanceof h?(a(this,"message",t.message),a(this,"stack",t.stack)):h.captureStackTrace&&h.captureStackTrace(this,this.constructor)}y.prototype.toString=function(){var t=Array(4*p+1).join(" "),n="\n"+t+"AggregateError of:\n";p++,t=Array(4*p+1).join(" ");for(var i=0;i<this.length;++i){for(var r=this[i]===this?"[Circular AggregateError]":this[i]+"",e=r.split("\n"),u=0;u<e.length;++u)e[u]=t+e[u];r=e.join("\n"),n+=r+"\n"}return p--,n},c(m,h);var k=h.in;k||(k=s({CancellationError:l,TimeoutError:w,OperationalError:m,RejectionError:m,AggregateError:y}),u.defineProperty(h,"in",{value:k,writable:!1,enumerable:!1,configurable:!1})),n.exports={Error:h,TypeError:r,RangeError:e,CancellationError:k.CancellationError,OperationalError:k.OperationalError,TimeoutError:k.TimeoutError,AggregateError:k.AggregateError,Warning:d}},{"./es5":13,"./util":36}],13:[function(t,n,i){var r=function(){return void 0===this}();if(r)n.exports={freeze:d.freeze,defineProperty:d.defineProperty,getDescriptor:d.getOwnPropertyDescriptor,keys:d.keys,names:d.getOwnPropertyNames,getPrototypeOf:d.getPrototypeOf,isArray:Array.isArray,isES5:r,propertyIsWritable:function(t,n){var i=d.getOwnPropertyDescriptor(t,n);return!(i&&!i.writable&&!i.set)}};else{var e={}.hasOwnProperty,u={}.toString,s={}.constructor.prototype,o=function(t){var n=[];for(var i in t)e.call(t,i)&&n.push(i);return n};n.exports={isArray:function(t){try{return"[object Array]"===u.call(t)}catch(t){return!1}},keys:o,names:o,defineProperty:function(t,n,i){return t[n]=i.value,t},getDescriptor:function(t,n){return{value:t[n]}},freeze:function(t){return t},getPrototypeOf:function(t){try{return d(t).constructor.prototype}catch(t){return s}},isES5:r,propertyIsWritable:function(){return!0}}}},{}],14:[function(t,n,i){n.exports=function(t,n){var i=t.map;t.prototype.filter=function(t,r){return i(this,t,r,n)},t.filter=function(t,r,e){return i(t,r,e,n)}}},{}],15:[function(t,n,i){n.exports=function(n,i,r){var e=t("./util"),u=n.CancellationError,s=e.errorObj,o=t("./catch_filter")(r);function c(t,n,i){this.promise=t,this.type=n,this.handler=i,this.called=!1,this.cancelPromise=null}function a(t){this.finallyHandler=t}function f(t,n){return null!=t.cancelPromise&&(arguments.length>1?t.cancelPromise.V(n):t.cancelPromise.yt(),t.cancelPromise=null,!0)}function h(){return l.call(this,this.promise.Y().jt())}function d(t){if(!f(this,t))return s.e=t,s}function l(t){var e=this.promise,o=this.handler;if(!this.called){this.called=!0;var c=this.isFinallyHandler()?o.call(e.G()):o.call(e.G(),t);if(c===r)return c;if(void 0!==c){e.Ut();var v=i(c,e);if(v instanceof n){if(null!=this.cancelPromise){if(v.Et()){var l=new u("late cancellation observer");return e.Rt(l),s.e=l,s}v.isPending()&&v.Yt(new a(this))}return v.j(h,d,void 0,this,void 0)}}}return e.isRejected()?(f(this),s.e=t,s):(f(this),t)}return c.prototype.isFinallyHandler=function(){return 0===this.type},a.prototype._resultCancelled=function(){f(this.finallyHandler)},n.prototype.rn=function(t,n,i,r){return"function"!=typeof t?this.then():this.j(i,r,void 0,new c(this,n,t),void 0)},n.prototype.lastly=n.prototype.finally=function(t){return this.rn(t,0,l,l)},n.prototype.tap=function(t){return this.rn(t,1,l)},n.prototype.tapCatch=function(t){var i=arguments.length;if(1===i)return this.rn(t,1,void 0,l);var r,u=new Array(i-1),s=0;for(r=0;r<i-1;++r){var c=arguments[r];if(!e.isObject(c))return n.reject(new v("tapCatch statement predicate: expecting an object but got "+e.classString(c)));u[s++]=c}u.length=s;var a=arguments[r];return this.rn(o(u,a,this),1,void 0,l)},c}},{"./catch_filter":7,"./util":36}],16:[function(t,n,i){n.exports=function(n,i,r,e,u,s){var o=t("./errors"),c=o.TypeError,a=t("./util"),f=a.errorObj,v=a.tryCatch,l=[];function w(t,i,e,u){if(s.cancellation()){var o=new n(r),c=this.en=new n(r);this.un=o.lastly(function(){return c}),o.Xt(),o.J(this)}else{var a=this.un=new n(r);a.Xt()}this.sn=u,this.cn=t,this.an=i,this.fn=void 0,this.hn="function"==typeof e?[e].concat(l):l,this.vn=null,this.dn=!1}a.inherits(w,u),w.prototype.ln=function(){return null===this.un},w.prototype.wn=function(){this.un=this.fn=null,s.cancellation()&&null!==this.en&&(this.en.yn(),this.en=null)},w.prototype.gn=function(){if(!this.ln()){var t,i=void 0!==this.fn.return;if(i)this.un.Nt(),t=v(this.fn.return).call(this.fn,void 0),this.un.Ot();else{var r=new n.CancellationError("generator .return() sentinel");n.coroutine.returnSentinel=r,this.un.Rt(r),this.un.Nt(),t=v(this.fn.throw).call(this.fn,r),this.un.Ot()}this.dn=!0,this.vn=null,this._n(t)}},w.prototype.pn=function(t){this.vn=null,this.un.Nt();var n=v(this.fn.next).call(this.fn,t);this.un.Ot(),this._n(n)},w.prototype.mn=function(t){this.vn=null,this.un.Rt(t),this.un.Nt();var n=v(this.fn.throw).call(this.fn,t);this.un.Ot(),this._n(n)},w.prototype._resultCancelled=function(){if(this.vn instanceof n){var t=this.vn;this.vn=null,t.cancel()}},w.prototype.promise=function(){return this.un},w.prototype.kn=function(){this.fn=this.cn.call(this.an),this.an=this.cn=void 0,this.pn(void 0)},w.prototype._n=function(t){var i=this.un;if(t===f)return this.wn(),this.dn?i.cancel():i.bn(t.e,!1);var r=t.value;if(!0===t.done)return this.wn(),this.dn?i.cancel():i.W(r);var u=e(r,this.un);if(u instanceof n||null!==(u=function(t,i,r){for(var u=0;u<i.length;++u){r.Nt();var s=v(i[u])(t);if(r.Ot(),s===f){r.Nt();var o=n.reject(f.e);return r.Ot(),o}var c=e(s,r);if(c instanceof n)return c}return null}(u,this.hn,this.un))){var s=(u=u.Y()).H;0==(50397184&s)?(this.vn=u,u.Tn(this,null)):0!=(33554432&s)?n.it.invoke(this.pn,this,u.En()):0!=(16777216&s)?n.it.invoke(this.mn,this,u.Sn()):this.gn()}else this.mn(new c("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(r))+"From coroutine:\n"+this.sn.split("\n").slice(1,-7).join("\n")))},n.coroutine=function(t,n){if("function"!=typeof t)throw new c("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var i=d(n).yieldHandler,r=w,e=(new h).stack;return function(){var n=t.apply(this,arguments),u=new r(void 0,void 0,i,e),s=u.promise();return u.fn=n,u.pn(void 0),s}},n.coroutine.addYieldHandler=function(t){if("function"!=typeof t)throw new c("expecting a function but got "+a.classString(t));l.push(t)},n.spawn=function(t){if(s.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof t)return i("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var r=new w(t,this),e=r.promise();return r.kn(n.spawn),e}}},{"./errors":12,"./util":36}],17:[function(t,n,i){n.exports=function(n,i,r,e,u,s){var o=t("./util");o.canEvaluate,o.tryCatch,o.errorObj,n.join=function(){var t,n=arguments.length-1;n>0&&"function"==typeof arguments[n]&&(t=arguments[n]);var r=[].slice.call(arguments);t&&r.pop();var e=new i(r).promise();return void 0!==t?e.spread(t):e}}},{"./util":36}],18:[function(t,n,i){n.exports=function(n,i,r,e,u,s){var o=n.Pt,c=t("./util"),a=c.tryCatch,f=c.errorObj,h=n.it;function d(t,n,i,r){this.constructor$(t),this.un.Xt();var e=o();this.Rn=null===e?n:c.domainBind(e,n),this.In=r===u?new Array(this.length()):null,this.Cn=i,this.Dn=0,this.An=[],h.invoke(this.Nn,this,void 0)}function l(t,i,e,u){if("function"!=typeof i)return r("expecting a function but got "+c.classString(i));var s=0;if(void 0!==e){if("object"!=typeof e||null===e)return n.reject(new v("options argument must be an object but it is "+c.classString(e)));if("number"!=typeof e.concurrency)return n.reject(new v("'concurrency' must be a number but it is "+c.classString(e.concurrency)));s=e.concurrency}return s="number"==typeof s&&isFinite(s)&&s>=1?s:0,new d(t,i,s,u).promise()}c.inherits(d,i),d.prototype.Nn=function(){this._init$(void 0,-2)},d.prototype._init=function(){},d.prototype.pn=function(t,i){var r=this.On,u=this.length(),o=this.In,c=this.Cn;if(i<0){if(r[i=-1*i-1]=t,c>=1&&(this.Dn--,this.xn(),this.ln()))return!0}else{if(c>=1&&this.Dn>=c)return r[i]=t,this.An.push(i),!1;null!==o&&(o[i]=t);var h=this.un,v=this.Rn,d=h.G();h.Nt();var l=a(v).call(d,t,i,u),w=h.Ot();if(s.checkForgottenReturns(l,w,null!==o?"Promise.filter":"Promise.map",h),l===f)return this.V(l.e),!0;var y=e(l,this.un);if(y instanceof n){var g=(y=y.Y()).H;if(0==(50397184&g))return c>=1&&this.Dn++,r[i]=y,y.Tn(this,-1*(i+1)),!1;if(0==(33554432&g))return 0!=(16777216&g)?(this.V(y.Sn()),!0):(this.yt(),!0);l=y.En()}r[i]=l}var _=++this.Pn;return _>=u&&(null!==o?this.Ln(r,o):this.Fn(r),!0)},d.prototype.xn=function(){for(var t=this.An,n=this.Cn,i=this.On;t.length>0&&this.Dn<n;){if(this.ln())return;var r=t.pop();this.pn(i[r],r)}},d.prototype.Ln=function(t,n){for(var i=n.length,r=new Array(i),e=0,u=0;u<i;++u)t[u]&&(r[e++]=n[u]);r.length=e,this.Fn(r)},d.prototype.preservedValues=function(){return this.In},n.prototype.map=function(t,n){return l(this,t,n,null)},n.map=function(t,n,i,r){return l(t,n,i,r)}}},{"./util":36}],19:[function(t,n,i){n.exports=function(n,i,r,e,u){var s=t("./util"),o=s.tryCatch;n.method=function(t){if("function"!=typeof t)throw new n.TypeError("expecting a function but got "+s.classString(t));return function(){var r=new n(i);r.Xt(),r.Nt();var e=o(t).apply(this,arguments),s=r.Ot();return u.checkForgottenReturns(e,s,"Promise.method",r),r.Mn(e),r}},n.attempt=n.try=function(t){if("function"!=typeof t)return e("expecting a function but got "+s.classString(t));var r,c=new n(i);if(c.Xt(),c.Nt(),arguments.length>1){u.deprecated("calling Promise.try with more than 1 argument");var a=arguments[1],f=arguments[2];r=s.isArray(a)?o(t).apply(f,a):o(t).call(f,a)}else r=o(t)();var h=c.Ot();return u.checkForgottenReturns(r,h,"Promise.try",c),c.Mn(r),c},n.prototype.Mn=function(t){t===s.errorObj?this.bn(t.e,!1):this.W(t,!0)}}},{"./util":36}],20:[function(t,n,i){var r=t("./util"),e=r.maybeWrapAsError,u=t("./errors"),s=u.OperationalError,o=t("./es5"),c=/^(?:name|message|stack|cause)$/;function a(t){var n;if(function(t){return t instanceof h&&o.getPrototypeOf(t)===h.prototype}(t)){(n=new s(t)).name=t.name,n.message=t.message,n.stack=t.stack;for(var i=o.keys(t),e=0;e<i.length;++e){var u=i[e];c.test(u)||(n[u]=t[u])}return n}return r.markAsOriginatingFromRejection(t),t}n.exports=function(t,n){return function(i,r){if(null!==t){if(i){var u=a(e(i));t.Rt(u),t.V(u)}else if(n){var s=[].slice.call(arguments,1);t.yn(s)}else t.yn(r);t=null}}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(t,n,i){n.exports=function(n){var i=t("./util"),r=n.it,e=i.tryCatch,u=i.errorObj;function s(t,n){if(!i.isArray(t))return o.call(this,t,n);var s=e(n).apply(this.G(),[null].concat(t));s===u&&r.throwLater(s.e)}function o(t,n){var i=this.G(),s=void 0===t?e(n).call(i,null):e(n).call(i,null,t);s===u&&r.throwLater(s.e)}function c(t,n){if(!t){var i=new h(t+"");i.cause=t,t=i}var s=e(n).call(this.G(),t);s===u&&r.throwLater(s.e)}n.prototype.asCallback=n.prototype.nodeify=function(t,n){if("function"==typeof t){var i=o;void 0!==n&&d(n).spread&&(i=s),this.j(i,c,void 0,this,t)}return this}}},{"./util":36}],22:[function(t,n,i){n.exports=function(){var i=function(){return new l("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},r=function(){return new D.PromiseInspection(this.Y())},e=function(t){return D.reject(new l(t))};function u(){}var s,o={},c=t("./util");s=c.isNode?function(){var t=process.domain;return void 0===t&&(t=null),t}:function(){return null},c.notEnumerableProp(D,"Pt",s);var a=t("./es5"),f=t("./async"),h=new f;a.defineProperty(D,"it",{value:h});var v=t("./errors"),l=D.TypeError=v.TypeError;D.RangeError=v.RangeError;var w=D.CancellationError=v.CancellationError;D.TimeoutError=v.TimeoutError,D.OperationalError=v.OperationalError,D.RejectionError=v.OperationalError,D.AggregateError=v.AggregateError;var y=function(){},g={},_={},p=t("./thenables")(D,y),m=t("./promise_array")(D,y,p,e,u),k=t("./context")(D),b=k.create,T=t("./debuggability")(D,k),E=(T.CapturedTrace,t("./finally")(D,p,_)),S=t("./catch_filter")(_),R=t("./nodeback"),I=c.errorObj,C=c.tryCatch;function D(t){t!==y&&function(t,n){if(null==t||t.constructor!==D)throw new l("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof n)throw new l("expecting a function but got "+c.classString(n))}(this,t),this.H=0,this.Bn=void 0,this.Un=void 0,this.Vn=void 0,this.qn=void 0,this.jn(t),this.At(),this.Qt("promiseCreated",this)}function A(t){this.promise.W(t)}function N(t){this.promise.bn(t,!1)}function O(t){var n=new D(y);n.Bn=t,n.Un=t,n.Vn=t,n.qn=t}return D.prototype.toString=function(){return"[object Promise]"},D.prototype.caught=D.prototype.catch=function(t){var n=arguments.length;if(n>1){var i,r=new Array(n-1),u=0;for(i=0;i<n-1;++i){var s=arguments[i];if(!c.isObject(s))return e("Catch statement predicate: expecting an object but got "+c.classString(s));r[u++]=s}if(r.length=u,"function"!=typeof(t=arguments[i]))throw new l("The last argument to .catch() must be a function, got "+c.toString(t));return this.then(void 0,S(r,t,this))}return this.then(void 0,t)},D.prototype.reflect=function(){return this.j(r,r,void 0,this,void 0)},D.prototype.then=function(t,n){if(T.warnings()&&arguments.length>0&&"function"!=typeof t&&"function"!=typeof n){var i=".then() only accepts functions but was passed: "+c.classString(t);arguments.length>1&&(i+=", "+c.classString(n)),this.rt(i)}return this.j(t,n,void 0,void 0,void 0)},D.prototype.done=function(t,n){var i=this.j(t,n,void 0,void 0,void 0);i.Hn()},D.prototype.spread=function(t){return"function"!=typeof t?e("expecting a function but got "+c.classString(t)):this.all().j(t,void 0,void 0,g,void 0)},D.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this.value(),t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this.reason(),t.isRejected=!0),t},D.prototype.all=function(){return arguments.length>0&&this.rt(".all() was passed arguments but it does not take any"),new m(this).promise()},D.prototype.error=function(t){return this.caught(c.originatesFromRejection,t)},D.getNewLibraryCopy=n.exports,D.is=function(t){return t instanceof D},D.fromNode=D.fromCallback=function(t){var n=new D(y);n.Xt();var i=arguments.length>1&&!!d(arguments[1]).multiArgs,r=C(t)(R(n,i));return r===I&&n.bn(r.e,!0),n.Wn()||n.$n(),n},D.all=function(t){return new m(t).promise()},D.cast=function(t){var n=p(t);return n instanceof D||((n=new D(y)).Xt(),n.zn(),n.Un=t),n},D.resolve=D.fulfilled=D.cast,D.reject=D.rejected=function(t){var n=new D(y);return n.Xt(),n.bn(t,!0),n},D.setScheduler=function(t){if("function"!=typeof t)throw new l("expecting a function but got "+c.classString(t));return h.setScheduler(t)},D.prototype.j=function(t,n,i,r,e){var u=void 0!==e,o=u?e:new D(y),a=this.Y(),f=a.H;u||(o.X(this,3),o.Xt(),void 0===r&&0!=(2097152&this.H)&&(r=0!=(50397184&f)?this.G():a===this?void 0:this.Z),this.Qt("promiseChained",this,o));var v=s();if(0!=(50397184&f)){var d,l,g=a.Xn;0!=(33554432&f)?(l=a.Un,d=t):0!=(16777216&f)?(l=a.Bn,d=n,a.zt()):(g=a.Gn,l=new w("late cancellation observer"),a.Rt(l),d=n),h.invoke(g,a,{handler:null===v?d:"function"==typeof d&&c.domainBind(v,d),promise:o,receiver:r,value:l})}else a.Yn(t,n,o,r,v);return o},D.prototype.kt=function(){return 65535&this.H},D.prototype.Wn=function(){return 0!=(117506048&this.H)},D.prototype.st=function(){return 67108864==(67108864&this.H)},D.prototype.Kn=function(t){this.H=-65536&this.H|65535&t},D.prototype.zn=function(){this.H=33554432|this.H,this.Qt("promiseFulfilled",this)},D.prototype.Jn=function(){this.H=16777216|this.H,this.Qt("promiseRejected",this)},D.prototype.Qn=function(){this.H=67108864|this.H,this.Qt("promiseResolved",this)},D.prototype.Hn=function(){this.H=4194304|this.H},D.prototype.Zn=function(){return(4194304&this.H)>0},D.prototype.ti=function(){this.H=-65537&this.H},D.prototype._t=function(){this.H=65536|this.H,this.Qt("promiseCancelled",this)},D.prototype.ft=function(){this.H=8388608|this.H},D.prototype.$n=function(){h.hasCustomScheduler()||(this.H=134217728|this.H)},D.prototype.ni=function(t){var n=0===t?this.qn:this[4*t-4+3];if(n!==o)return void 0===n&&this.nt()?this.G():n},D.prototype.ii=function(t){return this[4*t-4+2]},D.prototype.ri=function(t){return this[4*t-4+0]},D.prototype.ei=function(t){return this[4*t-4+1]},D.prototype.G=function(){},D.prototype.ui=function(t){t.H;var n=t.Bn,i=t.Un,r=t.Vn,e=t.ni(0);void 0===e&&(e=o),this.Yn(n,i,r,e,null)},D.prototype.si=function(t,n){var i=t.ri(n),r=t.ei(n),e=t.ii(n),u=t.ni(n);void 0===u&&(u=o),this.Yn(i,r,e,u,null)},D.prototype.Yn=function(t,n,i,r,e){var u=this.kt();if(u>=65531&&(u=0,this.Kn(0)),0===u)this.Vn=i,this.qn=r,"function"==typeof t&&(this.Bn=null===e?t:c.domainBind(e,t)),"function"==typeof n&&(this.Un=null===e?n:c.domainBind(e,n));else{var s=4*u-4;this[s+2]=i,this[s+3]=r,"function"==typeof t&&(this[s+0]=null===e?t:c.domainBind(e,t)),"function"==typeof n&&(this[s+1]=null===e?n:c.domainBind(e,n))}return this.Kn(u+1),u},D.prototype.Tn=function(t,n){this.Yn(void 0,void 0,n,t,null)},D.prototype.W=function(t,n){if(0==(117506048&this.H)){if(t===this)return this.bn(i(),!1);var r=p(t,this);if(!(r instanceof D))return this.yn(t);n&&this.X(r,2);var e=r.Y();if(e!==this){var u=e.H;if(0==(50397184&u)){var s=this.kt();s>0&&e.ui(this);for(var o=1;o<s;++o)e.si(this,o);this.Qn(),this.Kn(0),this.oi(e)}else if(0!=(33554432&u))this.yn(e.En());else if(0!=(16777216&u))this.V(e.Sn());else{var c=new w("late cancellation observer");e.Rt(c),this.V(c)}}else this.V(i())}},D.prototype.bn=function(t,n,i){var r=c.ensureErrorObject(t),e=r===t;if(!e&&!i&&T.warnings()){var u="a promise was rejected with a non-error: "+c.classString(t);this.rt(u,!0)}this.Rt(r,!!n&&e),this.V(t)},D.prototype.jn=function(t){if(t!==y){var n=this;this.Xt(),this.Nt();var i=!0,r=this.Jt(t,function(t){n.W(t)},function(t){n.bn(t,i)});i=!1,this.Ot(),void 0!==r&&n.bn(r,!0)}},D.prototype.ci=function(t,n,i,r){var e=r.H;if(0==(65536&e)){var u;r.Nt(),n===g?i&&"number"==typeof i.length?u=C(t).apply(this.G(),i):(u=I).e=new l("cannot .spread() a non-array: "+c.classString(i)):u=C(t).call(n,i);var s=r.Ot();0==(65536&(e=r.H))&&(u===_?r.V(i):u===I?r.bn(u.e,!1):(T.checkForgottenReturns(u,s,"",r,this),r.W(u)))}},D.prototype.Y=function(){for(var t=this;t.st();)t=t.ot();return t},D.prototype.ot=function(){return this.Un},D.prototype.oi=function(t){this.Un=t},D.prototype.ai=function(t,n,i,e){var s=t instanceof D,o=this.H,c=0!=(134217728&o);0!=(65536&o)?(s&&t.Ct(),i instanceof E&&i.isFinallyHandler()?(i.cancelPromise=t,C(n).call(i,e)===I&&t.V(I.e)):n===r?t.yn(r.call(i)):i instanceof u?i.gn(t):s||t instanceof m?t.yt():i.cancel()):"function"==typeof n?s?(c&&t.$n(),this.ci(n,i,e,t)):n.call(i,e,t):i instanceof u?i.ln()||(0!=(33554432&o)?i.pn(e,t):i.mn(e,t)):s&&(c&&t.$n(),0!=(33554432&o)?t.yn(e):t.V(e))},D.prototype.Gn=function(t){var n=t.handler,i=t.promise,r=t.receiver,e=t.value;"function"==typeof n?i instanceof D?this.ci(n,r,e,i):n.call(r,e,i):i instanceof D&&i.V(e)},D.prototype.Xn=function(t){this.ai(t.promise,t.handler,t.receiver,t.value)},D.prototype.fi=function(t,n,i){var r=this.Vn,e=this.ni(0);this.Vn=void 0,this.qn=void 0,this.ai(r,t,e,n)},D.prototype.hi=function(t){var n=4*t-4;this[n+2]=this[n+3]=this[n+0]=this[n+1]=void 0},D.prototype.yn=function(t){var n=this.H;if(!((117506048&n)>>>16)){if(t===this){var r=i();return this.Rt(r),this.V(r)}this.zn(),this.Un=t,(65535&n)>0&&(0!=(134217728&n)?this.B():h.settlePromises(this),this.Gt())}},D.prototype.V=function(t){var n=this.H;if(!((117506048&n)>>>16)){if(this.Jn(),this.Bn=t,this.Zn())return h.fatalError(t,c.isNode);(65535&n)>0?h.settlePromises(this):this.Lt()}},D.prototype.vi=function(t,n){for(var i=1;i<t;i++){var r=this.ri(i),e=this.ii(i),u=this.ni(i);this.hi(i),this.ai(e,r,u,n)}},D.prototype.di=function(t,n){for(var i=1;i<t;i++){var r=this.ei(i),e=this.ii(i),u=this.ni(i);this.hi(i),this.ai(e,r,u,n)}},D.prototype.B=function(){var t=this.H,n=65535&t;if(n>0){if(0!=(16842752&t)){var i=this.Bn;this.fi(this.Un,i,t),this.di(n,i)}else{var r=this.Un;this.fi(this.Bn,r,t),this.vi(n,r)}this.Kn(0)}this.Kt()},D.prototype.jt=function(){var t=this.H;return 0!=(33554432&t)?this.Un:0!=(16777216&t)?this.Bn:void 0},"undefined"!=typeof Symbol&&Symbol.toStringTag&&a.defineProperty(D.prototype,Symbol.toStringTag,{get:function(){return"Object"}}),D.defer=D.pending=function(){T.deprecated("Promise.defer","new Promise");var t=new D(y);return{promise:t,resolve:A,reject:N}},c.notEnumerableProp(D,"li",i),t("./method")(D,y,p,e,T),t("./bind")(D,y,p,T),t("./cancel")(D,m,e,T),t("./direct_resolve")(D),t("./synchronous_inspection")(D),t("./join")(D,m,p,y,h,s),D.Promise=D,D.version="3.5.5",t("./call_get.js")(D),t("./generators.js")(D,e,y,p,u,T),t("./map.js")(D,m,e,p,y,T),t("./nodeify.js")(D),t("./promisify.js")(D,y),t("./props.js")(D,m,p,e),t("./race.js")(D,y,p,e),t("./reduce.js")(D,m,e,p,y,T),t("./settle.js")(D,m,T),t("./some.js")(D,m,e),t("./timers.js")(D,y,T),t("./using.js")(D,e,p,b,y,T),t("./any.js")(D),t("./each.js")(D,y),t("./filter.js")(D,y),c.toFastProperties(D),c.toFastProperties(D.prototype),O({a:1}),O({b:2}),O({c:3}),O(1),O(function(){}),O(void 0),O(!1),O(new D(y)),T.setBounds(f.firstLineError,c.lastLineError),D}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(t,n,i){n.exports=function(n,i,r,e,u){var s=t("./util");function o(t){var r=this.un=new n(i);t instanceof n&&r.X(t,3),r.J(this),this.On=t,this.kt=0,this.Pn=0,this._init(void 0,-2)}return s.isArray,s.inherits(o,u),o.prototype.length=function(){return this.kt},o.prototype.promise=function(){return this.un},o.prototype._init=function t(i,u){var o=r(this.On,this.un);if(o instanceof n){var c=(o=o.Y()).H;if(this.On=o,0==(50397184&c))return this.un.$n(),o.j(t,this.V,void 0,this,u);if(0==(33554432&c))return 0!=(16777216&c)?this.V(o.Sn()):this.yt();o=o.En()}if(null!==(o=s.asArray(o)))0!==o.length?this.wi(o):-5===u?this.yi():this.Fn(function(t){switch(t){case-2:return[];case-3:return{};case-6:return new Map}}(u));else{var a=e("expecting an array or an iterable object but got "+s.classString(o)).reason();this.un.bn(a,!1)}},o.prototype.wi=function(t){var i=this.getActualLength(t.length);this.kt=i,this.On=this.shouldCopyValues()?new Array(i):this.On;for(var e=this.un,u=!1,s=null,o=0;o<i;++o){var c=r(t[o],e);c instanceof n?(c=c.Y(),s=c.H):s=null,u?null!==s&&c.suppressUnhandledRejections():null!==s?0==(50397184&s)?(c.Tn(this,o),this.On[o]=c):u=0!=(33554432&s)?this.pn(c.En(),o):0!=(16777216&s)?this.mn(c.Sn(),o):this.gn(o):u=this.pn(c,o)}u||e.$n()},o.prototype.ln=function(){return null===this.On},o.prototype.Fn=function(t){this.On=null,this.un.yn(t)},o.prototype.yt=function(){!this.ln()&&this.un.et()&&(this.On=null,this.un.yt())},o.prototype.V=function(t){this.On=null,this.un.bn(t,!1)},o.prototype.pn=function(t,n){this.On[n]=t;var i=++this.Pn;return i>=this.kt&&(this.Fn(this.On),!0)},o.prototype.gn=function(){return this.yt(),!0},o.prototype.mn=function(t){return this.Pn++,this.V(t),!0},o.prototype._resultCancelled=function(){if(!this.ln()){var t=this.On;if(this.yt(),t instanceof n)t.cancel();else for(var i=0;i<t.length;++i)t[i]instanceof n&&t[i].cancel()}},o.prototype.shouldCopyValues=function(){return!0},o.prototype.getActualLength=function(t){return t},o}},{"./util":36}],24:[function(t,n,i){n.exports=function(n,i){var r={},e=t("./util"),u=t("./nodeback"),s=e.withAppended,o=e.maybeWrapAsError,c=e.canEvaluate,a=t("./errors").TypeError,f={gi:!0},h=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","gi"].join("|")+")$"),v=function(t){return e.isIdentifier(t)&&"_"!==t.charAt(0)&&"constructor"!==t};function l(t){return!h.test(t)}function w(t){try{return!0===t.gi}catch(t){return!1}}function y(t,n,i){var r=e.getDataPropertyOrDefault(t,n+i,f);return!!r&&w(r)}function g(t,n,i,r){for(var u=e.inheritedDataKeys(t),s=[],o=0;o<u.length;++o){var c=u[o],f=t[c],h=r===v||v(c);"function"!=typeof f||w(f)||y(t,c,n)||!r(c,f,t,h)||s.push(c,f)}return function(t,n,i){for(var r=0;r<t.length;r+=2){var e=t[r];if(i.test(e))for(var u=e.replace(i,""),s=0;s<t.length;s+=2)if(t[s]===u)throw new a("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",n))}}(s,n,i),s}var _=function(t){return t.replace(/([$])/,"\\$")},p=c?void 0:function(t,c,a,f,h,v){var d=function(){return this}(),l=t;function w(){var e=c;c===r&&(e=this);var a=new n(i);a.Xt();var f="string"==typeof l&&this!==d?this[l]:t,h=u(a,v);try{f.apply(e,s(arguments,h))}catch(t){a.bn(o(t),!0,!0)}return a.Wn()||a.$n(),a}return"string"==typeof l&&(t=f),e.notEnumerableProp(w,"gi",!0),w};function m(t,n,i,u,s){for(var o=new RegExp(_(n)+"$"),c=g(t,n,o,i),a=0,f=c.length;a<f;a+=2){var h=c[a],v=c[a+1],d=h+n;if(u===p)t[d]=p(h,r,h,v,n,s);else{var l=u(v,function(){return p(h,r,h,v,n,s)});e.notEnumerableProp(l,"gi",!0),t[d]=l}}return e.toFastProperties(t),t}n.promisify=function(t,n){if("function"!=typeof t)throw new a("expecting a function but got "+e.classString(t));if(w(t))return t;var i=void 0===(n=d(n)).context?r:n.context,u=!!n.multiArgs,s=function(t,n,i){return p(t,n,void 0,t,null,i)}(t,i,u);return e.copyDescriptors(t,s,l),s},n.promisifyAll=function(t,n){if("function"!=typeof t&&"object"!=typeof t)throw new a("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");var i=!!(n=d(n)).multiArgs,r=n.suffix;"string"!=typeof r&&(r="Async");var u=n.filter;"function"!=typeof u&&(u=v);var s=n.promisifier;if("function"!=typeof s&&(s=p),!e.isIdentifier(r))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var o=e.inheritedDataKeys(t),c=0;c<o.length;++c){var f=t[o[c]];"constructor"!==o[c]&&e.isClass(f)&&(m(f.prototype,r,u,s,i),m(f,r,u,s,i))}return m(t,r,u,s,i)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(t,n,i){n.exports=function(n,i,r,e){var u,s=t("./util"),o=s.isObject,c=t("./es5");"function"==typeof Map&&(u=Map);var a=function(){var t=0,n=0;function i(i,r){this[t]=i,this[t+n]=r,t++}return function(r){n=r.size,t=0;var e=new Array(2*r.size);return r.forEach(i,e),e}}();function f(t){var n,i=!1;if(void 0!==u&&t instanceof u)n=a(t),i=!0;else{var r=c.keys(t),e=r.length;n=new Array(2*e);for(var s=0;s<e;++s){var o=r[s];n[s]=t[o],n[s+e]=o}}this.constructor$(n),this._i=i,this._init$(void 0,i?-6:-3)}function h(t){var i,u=r(t);return o(u)?(i=u instanceof n?u.j(n.props,void 0,void 0,void 0,void 0):new f(u).promise(),u instanceof n&&i.X(u,2),i):e("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}s.inherits(f,i),f.prototype._init=function(){},f.prototype.pn=function(t,n){this.On[n]=t;var i=++this.Pn;if(i>=this.kt){var r;if(this._i)r=function(t){for(var n=new u,i=t.length/2|0,r=0;r<i;++r){var e=t[i+r],s=t[r];n.set(e,s)}return n}(this.On);else{r={};for(var e=this.length(),s=0,o=this.length();s<o;++s)r[this.On[s+e]]=this.On[s]}return this.Fn(r),!0}return!1},f.prototype.shouldCopyValues=function(){return!1},f.prototype.getActualLength=function(t){return t>>1},n.prototype.props=function(){return h(this)},n.props=function(t){return h(t)}}},{"./es5":13,"./util":36}],26:[function(t,n,i){function r(t){this.pi=t,this.kt=0,this.mi=0}r.prototype.ki=function(t){return this.pi<t},r.prototype.M=function(t){var n=this.length();this.bi(n+1);var i=this.mi+n&this.pi-1;this[i]=t,this.kt=n+1},r.prototype.push=function(t,n,i){var r=this.length()+3;if(this.ki(r))return this.M(t),this.M(n),void this.M(i);var e=this.mi+r-3;this.bi(r);var u=this.pi-1;this[e+0&u]=t,this[e+1&u]=n,this[e+2&u]=i,this.kt=r},r.prototype.shift=function(){var t=this.mi,n=this[t];return this[t]=void 0,this.mi=t+1&this.pi-1,this.kt--,n},r.prototype.length=function(){return this.kt},r.prototype.bi=function(t){this.pi<t&&this.Ti(this.pi<<1)},r.prototype.Ti=function(t){var n=this.pi;this.pi=t;var i=this.mi,r=this.kt,e=i+r&n-1;!function(t,n,i,r,e){for(var u=0;u<e;++u)i[u+r]=t[u+n],t[u+n]=void 0}(this,0,this,n,e)},n.exports=r},{}],27:[function(t,n,i){n.exports=function(n,i,r,e){var u=t("./util"),s=function(t){return t.then(function(n){return o(n,t)})};function o(t,o){var c=r(t);if(c instanceof n)return s(c);if(null===(t=u.asArray(t)))return e("expecting an array or an iterable object but got "+u.classString(t));var a=new n(i);void 0!==o&&a.X(o,3);for(var f=a.yn,h=a.V,v=0,d=t.length;v<d;++v){var l=t[v];(void 0!==l||v in t)&&n.cast(l).j(f,h,void 0,a,null)}return a}n.race=function(t){return o(t,void 0)},n.prototype.race=function(){return o(this,void 0)}}},{"./util":36}],28:[function(t,n,i){n.exports=function(n,i,r,e,u,s){var o=n.Pt,c=t("./util"),a=c.tryCatch;function f(t,i,r,e){this.constructor$(t);var s=o();this.Ei=null===s?i:c.domainBind(s,i),void 0!==r&&(r=n.resolve(r)).Yt(this),this.Si=r,this.Ri=null,this.Ii=e===u?Array(this.kt):0===e?null:void 0,this.un.Xt(),this._init$(void 0,-5)}function h(t,n){this.isFulfilled()?n.Fn(t):n.V(t)}function v(t,n,i,e){if("function"!=typeof n)return r("expecting a function but got "+c.classString(n));var u=new f(t,n,i,e);return u.promise()}function d(t){this.accum=t,this.array.Ci(t);var i=e(this.value,this.array.un);return i instanceof n?(this.array.Ri=i,i.j(l,void 0,void 0,this,void 0)):l.call(this,i)}function l(t){var i,r=this.array,e=r.un,u=a(r.Ei);e.Nt(),(i=void 0!==r.Ii?u.call(e.G(),t,this.index,this.length):u.call(e.G(),this.accum,t,this.index,this.length))instanceof n&&(r.Ri=i);var o=e.Ot();return s.checkForgottenReturns(i,o,void 0!==r.Ii?"Promise.each":"Promise.reduce",e),i}c.inherits(f,i),f.prototype.Ci=function(t){void 0!==this.Ii&&null!==this.Ii&&t!==u&&this.Ii.push(t)},f.prototype.Di=function(t){return null!==this.Ii&&this.Ii.push(t),this.Ii},f.prototype._init=function(){},f.prototype.yi=function(){this.Fn(void 0!==this.Ii?this.Ii:this.Si)},f.prototype.shouldCopyValues=function(){return!1},f.prototype.Fn=function(t){this.un.W(t),this.On=null},f.prototype._resultCancelled=function(t){if(t===this.Si)return this.yt();this.ln()||(this._resultCancelled$(),this.Ri instanceof n&&this.Ri.cancel(),this.Si instanceof n&&this.Si.cancel())},f.prototype.wi=function(t){var i,r;this.On=t;var e=t.length;if(void 0!==this.Si?(i=this.Si,r=0):(i=n.resolve(t[0]),r=1),this.Ri=i,!i.isRejected())for(;r<e;++r){var u={accum:null,value:t[r],index:r,length:e,array:this};i=i.j(d,void 0,void 0,u,void 0)}void 0!==this.Ii&&(i=i.j(this.Di,void 0,void 0,this,void 0)),i.j(h,h,void 0,i,this)},n.prototype.reduce=function(t,n){return v(this,t,n,null)},n.reduce=function(t,n,i,r){return v(t,n,i,r)}}},{"./util":36}],29:[function(t,n,i){var u,s,c,a,f,v=t("./util"),d=v.getNativePromise();if(v.isNode&&"undefined"==typeof MutationObserver){var l=m.setImmediate,w=process.nextTick;u=v.isRecentNode?function(t){l.call(m,t)}:function(t){w.call(process,t)}}else if("function"==typeof d&&"function"==typeof d.resolve){var y=d.resolve();u=function(t){y.then(t)}}else u="undefined"!=typeof MutationObserver&&(void 0===r||!r.navigator||!r.navigator.standalone&&!r.cordova)&&"classList"in e.documentElement?(s=e.createElement("div"),c={attributes:!0},a=!1,f=e.createElement("div"),new MutationObserver(function(){s.classList.toggle("foo"),a=!1}).observe(f,c),function(t){var n=new MutationObserver(function(){n.disconnect(),t()});n.observe(s,c),a||(a=!0,f.classList.toggle("foo"))}):"undefined"!=typeof setImmediate?function(t){setImmediate(t)}:void 0!==o?function(t){o(t,0)}:function(){throw new h("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")};n.exports=u},{"./util":36}],30:[function(t,n,i){n.exports=function(n,i,r){var e=n.PromiseInspection,u=t("./util");function s(t){this.constructor$(t)}u.inherits(s,i),s.prototype.Ai=function(t,n){this.On[t]=n;var i=++this.Pn;return i>=this.kt&&(this.Fn(this.On),!0)},s.prototype.pn=function(t,n){var i=new e;return i.H=33554432,i.Ni=t,this.Ai(n,i)},s.prototype.mn=function(t,n){var i=new e;return i.H=16777216,i.Ni=t,this.Ai(n,i)},n.settle=function(t){return r.deprecated(".settle()",".reflect()"),new s(t).promise()},n.prototype.settle=function(){return n.settle(this)}}},{"./util":36}],31:[function(t,n,i){n.exports=function(n,i,r){var e=t("./util"),u=t("./errors").RangeError,s=t("./errors").AggregateError,o=e.isArray,c={};function a(t){this.constructor$(t),this.Oi=0,this.xi=!1,this.Pi=!1}function f(t,n){if((0|n)!==n||n<0)return r("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var i=new a(t),e=i.promise();return i.setHowMany(n),i.init(),e}e.inherits(a,i),a.prototype._init=function(){if(this.Pi)if(0!==this.Oi){this._init$(void 0,-5);var t=o(this.On);!this.ln()&&t&&this.Oi>this.Li()&&this.V(this.Fi(this.length()))}else this.Fn([])},a.prototype.init=function(){this.Pi=!0,this._init()},a.prototype.setUnwrap=function(){this.xi=!0},a.prototype.howMany=function(){return this.Oi},a.prototype.setHowMany=function(t){this.Oi=t},a.prototype.pn=function(t){return this.Mi(t),this.Bi()===this.howMany()&&(this.On.length=this.howMany(),1===this.howMany()&&this.xi?this.Fn(this.On[0]):this.Fn(this.On),!0)},a.prototype.mn=function(t){return this.Ui(t),this.Vi()},a.prototype.gn=function(){return this.On instanceof n||null==this.On?this.yt():(this.Ui(c),this.Vi())},a.prototype.Vi=function(){if(this.howMany()>this.Li()){for(var t=new s,n=this.length();n<this.On.length;++n)this.On[n]!==c&&t.push(this.On[n]);return t.length>0?this.V(t):this.yt(),!0}return!1},a.prototype.Bi=function(){return this.Pn},a.prototype.qi=function(){return this.On.length-this.length()},a.prototype.Ui=function(t){this.On.push(t)},a.prototype.Mi=function(t){this.On[this.Pn++]=t},a.prototype.Li=function(){return this.length()-this.qi()},a.prototype.Fi=function(t){var n="Input array must contain at least "+this.Oi+" items but contains only "+t+" items";return new u(n)},a.prototype.yi=function(){this.V(this.Fi(0))},n.some=function(t,n){return f(t,n)},n.prototype.some=function(t){return f(this,t)},n.o=a}},{"./errors":12,"./util":36}],32:[function(t,n,i){n.exports=function(t){function n(t){void 0!==t?(t=t.Y(),this.H=t.H,this.Ni=t.Wn()?t.jt():void 0):(this.H=0,this.Ni=void 0)}n.prototype.jt=function(){return this.Ni};var i=n.prototype.value=function(){if(!this.isFulfilled())throw new v("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this.jt()},r=n.prototype.error=n.prototype.reason=function(){if(!this.isRejected())throw new v("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this.jt()},e=n.prototype.isFulfilled=function(){return 0!=(33554432&this.H)},u=n.prototype.isRejected=function(){return 0!=(16777216&this.H)},s=n.prototype.isPending=function(){return 0==(50397184&this.H)},o=n.prototype.isResolved=function(){return 0!=(50331648&this.H)};n.prototype.isCancelled=function(){return 0!=(8454144&this.H)},t.prototype.ji=function(){return 65536==(65536&this.H)},t.prototype.Et=function(){return this.Y().ji()},t.prototype.isCancelled=function(){return 0!=(8454144&this.Y().H)},t.prototype.isPending=function(){return s.call(this.Y())},t.prototype.isRejected=function(){return u.call(this.Y())},t.prototype.isFulfilled=function(){return e.call(this.Y())},t.prototype.isResolved=function(){return o.call(this.Y())},t.prototype.value=function(){return i.call(this.Y())},t.prototype.reason=function(){var t=this.Y();return t.zt(),r.call(t)},t.prototype.En=function(){return this.jt()},t.prototype.Sn=function(){return this.zt(),this.jt()},t.PromiseInspection=n}},{}],33:[function(t,n,i){n.exports=function(n,i){var r=t("./util"),e=r.errorObj,u=r.isObject,s={}.hasOwnProperty;return function(t,o){if(u(t)){if(t instanceof n)return t;var c=function(t){try{return function(t){return t.then}(t)}catch(t){return e.e=t,e}}(t);if(c===e){o&&o.Nt();var a=n.reject(c.e);return o&&o.Ot(),a}if("function"==typeof c){if(function(t){try{return s.call(t,"Vn")}catch(t){return!1}}(t)){var a=new n(i);return t.j(a.yn,a.V,void 0,a,null),a}return function(t,u,s){var o=new n(i),c=o;s&&s.Nt(),o.Xt(),s&&s.Ot();var a=!0,f=r.tryCatch(u).call(t,function(t){o&&(o.W(t),o=null)},function(t){o&&(o.bn(t,a,!0),o=null)});return a=!1,o&&f===e&&(o.bn(f.e,!0,!0),o=null),c}(t,c,o)}}return t}}},{"./util":36}],34:[function(t,n,i){n.exports=function(n,i,r){var e=t("./util"),u=n.TimeoutError;function s(t){this.handle=t}s.prototype._resultCancelled=function(){c(this.handle)};var a=function(t){return f(+this).thenReturn(t)},f=n.delay=function(t,e){var u,c;return void 0!==e?(u=n.resolve(e).j(a,null,null,t,void 0),r.cancellation()&&e instanceof n&&u.J(e)):(u=new n(i),c=o(function(){u.yn()},+t),r.cancellation()&&u.J(new s(c)),u.Xt()),u.$n(),u};function v(t){return c(this.handle),t}function d(t){throw c(this.handle),t}n.prototype.delay=function(t){return f(t,this)},n.prototype.timeout=function(t,n){var i,c,a=new s(o(function(){i.isPending()&&function(t,n,i){var r;r="string"!=typeof n?n instanceof h?n:new u("operation timed out"):new u(n),e.markAsOriginatingFromRejection(r),t.Rt(r),t.V(r),null!=i&&i.cancel()}(i,n,c)},t=+t));return r.cancellation()?(c=this.then(),(i=c.j(v,d,void 0,a,void 0)).J(a)):i=this.j(v,d,void 0,a,void 0),i}}},{"./util":36}],35:[function(t,n,i){n.exports=function(n,i,r,e,u,s){var c=t("./util"),a=t("./errors").TypeError,f=t("./util").inherits,h=c.errorObj,v=c.tryCatch,d={};function l(t){o(function(){throw t},0)}function w(t,i){var e=0,s=t.length,o=new n(u);return function u(){if(e>=s)return o.yn();var c=function(t){var n=r(t);return n!==t&&"function"==typeof t.Hi&&"function"==typeof t.Wi&&t.Hi()&&n.$i(t.Wi()),n}(t[e++]);if(c instanceof n&&c.Hi()){try{c=r(c.Wi().tryDispose(i),t.promise)}catch(t){return l(t)}if(c instanceof n)return c.j(u,l,null,null,null)}u()}(),o}function y(t,n,i){this.zi=t,this.un=n,this.Xi=i}function g(t,n,i){this.constructor$(t,n,i)}function _(t){return y.isDisposer(t)?(this.resources[this.index].$i(t),t.promise()):t}function p(t){this.length=t,this.promise=null,this[t-1]=null}y.prototype.data=function(){return this.zi},y.prototype.promise=function(){return this.un},y.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():d},y.prototype.tryDispose=function(t){var n=this.resource(),i=this.Xi;void 0!==i&&i.Nt();var r=n!==d?this.doDispose(n,t):null;return void 0!==i&&i.Ot(),this.un.Gi(),this.zi=null,r},y.isDisposer=function(t){return null!=t&&"function"==typeof t.resource&&"function"==typeof t.tryDispose},f(g,y),g.prototype.doDispose=function(t,n){var i=this.data();return i.call(t,t,n)},p.prototype._resultCancelled=function(){for(var t=this.length,i=0;i<t;++i){var r=this[i];r instanceof n&&r.cancel()}},n.using=function(){var t=arguments.length;if(t<2)return i("you must pass at least 2 arguments to Promise.using");var e,u=arguments[t-1];if("function"!=typeof u)return i("expecting a function but got "+c.classString(u));var o=!0;2===t&&Array.isArray(arguments[0])?(e=arguments[0],t=e.length,o=!1):(e=arguments,t--);for(var a=new p(t),f=0;f<t;++f){var d=e[f];if(y.isDisposer(d)){var l=d;(d=d.promise()).$i(l)}else{var g=r(d);g instanceof n&&(d=g.j(_,null,null,{resources:a,index:f},void 0))}a[f]=d}for(var m=new Array(a.length),f=0;f<m.length;++f)m[f]=n.resolve(a[f]).reflect();var k=n.all(m).then(function(t){for(var n=0;n<t.length;++n){var i=t[n];if(i.isRejected())return h.e=i.error(),h;if(!i.isFulfilled())return void k.cancel();t[n]=i.value()}b.Nt(),u=v(u);var r=o?u.apply(void 0,t):u(t),e=b.Ot();return s.checkForgottenReturns(r,e,"Promise.using",b),r}),b=k.lastly(function(){var t=new n.PromiseInspection(k);return w(a,t)});return a.promise=b,b.J(a),b},n.prototype.$i=function(t){this.H=131072|this.H,this.Yi=t},n.prototype.Hi=function(){return(131072&this.H)>0},n.prototype.Wi=function(){return this.Yi},n.prototype.Gi=function(){this.H=-131073&this.H,this.Yi=void 0},n.prototype.disposer=function(t){if("function"==typeof t)return new g(t,this,e());throw new a}}},{"./errors":12,"./util":36}],36:[function(n,i,e){var u,o=n("./es5"),c=void 0===s,a={e:{}},f=void 0!==t?t:void 0!==r?r:void 0!==m?m:void 0!==this?this:null;function v(){try{var t=u;return u=null,t.apply(this,arguments)}catch(t){return a.e=t,a}}function l(t){return null==t||!0===t||!1===t||"string"==typeof t||"number"==typeof t}function w(t,n,i){if(l(t))return t;var r={value:i,configurable:!0,enumerable:!1,writable:!0};return o.defineProperty(t,n,r),t}var y=function(){var t=[Array.prototype,d.prototype,Function.prototype],n=function(n){for(var i=0;i<t.length;++i)if(t[i]===n)return!0;return!1};if(o.isES5){var i=d.getOwnPropertyNames;return function(t){for(var r=[],e=d.create(null);null!=t&&!n(t);){var u;try{u=i(t)}catch(t){return r}for(var s=0;s<u.length;++s){var c=u[s];if(!e[c]){e[c]=!0;var a=d.getOwnPropertyDescriptor(t,c);null!=a&&null==a.get&&null==a.set&&r.push(c)}}t=o.getPrototypeOf(t)}return r}}var r={}.hasOwnProperty;return function(i){if(n(i))return[];var e=[];t:for(var u in i)if(r.call(i,u))e.push(u);else{for(var s=0;s<t.length;++s)if(r.call(t[s],u))continue t;e.push(u)}return e}}(),g=/this\s*\.\s*\S+\s*=/,_=/^[a-z$_][a-z$_0-9]*$/i;function p(t){try{return t+""}catch(t){return"[no string representation]"}}function k(t){return t instanceof h||null!==t&&"object"==typeof t&&"string"==typeof t.message&&"string"==typeof t.name}function b(t){return k(t)&&o.propertyIsWritable(t,"stack")}var T="stack"in new h?function(t){return b(t)?t:new h(p(t))}:function(t){if(b(t))return t;try{throw new h(p(t))}catch(t){return t}};function E(t){return{}.toString.call(t)}var S=function(t){return o.isArray(t)?t:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var R="function"==typeof Array.from?function(t){return Array.from(t)}:function(t){for(var n,i=[],r=t[Symbol.iterator]();!(n=r.next()).done;)i.push(n.value);return i};S=function(t){return o.isArray(t)?t:null!=t&&"function"==typeof t[Symbol.iterator]?R(t):null}}var I,C="undefined"!=typeof process&&"[object process]"===E(process).toLowerCase(),D="undefined"!=typeof process&&void 0!==process.env,A={isClass:function(t){try{if("function"==typeof t){var n=o.names(t.prototype),i=o.isES5&&n.length>1,r=n.length>0&&!(1===n.length&&"constructor"===n[0]),e=g.test(t+"")&&o.names(t).length>0;if(i||r||e)return!0}return!1}catch(t){return!1}},isIdentifier:function(t){return _.test(t)},inheritedDataKeys:y,getDataPropertyOrDefault:function(t,n,i){if(!o.isES5)return{}.hasOwnProperty.call(t,n)?t[n]:void 0;var r=d.getOwnPropertyDescriptor(t,n);return null!=r?null==r.get&&null==r.set?r.value:i:void 0},thrower:function(t){throw t},isArray:o.isArray,asArray:S,notEnumerableProp:w,isPrimitive:l,isObject:function(t){return"function"==typeof t||"object"==typeof t&&null!==t},isError:k,canEvaluate:c,errorObj:a,tryCatch:function(t){return u=t,v},inherits:function(t,n){var i={}.hasOwnProperty;function r(){for(var r in this.constructor=t,this.constructor$=n,n.prototype)i.call(n.prototype,r)&&"$"!==r.charAt(r.length-1)&&(this[r+"$"]=n.prototype[r])}return r.prototype=n.prototype,t.prototype=new r,t.prototype},withAppended:function(t,n){var i,r=t.length,e=new Array(r+1);for(i=0;i<r;++i)e[i]=t[i];return e[i]=n,e},maybeWrapAsError:function(t){return l(t)?new h(p(t)):t},toFastProperties:function(t){return t},filledRange:function(t,n,i){for(var r=new Array(t),e=0;e<t;++e)r[e]=n+e+i;return r},toString:p,canAttachTrace:b,ensureErrorObject:T,originatesFromRejection:function(t){return null!=t&&(t instanceof h.in.OperationalError||!0===t.isOperational)},markAsOriginatingFromRejection:function(t){try{w(t,"isOperational",!0)}catch(t){}},classString:E,copyDescriptors:function(t,n,i){for(var r=o.names(t),e=0;e<r.length;++e){var u=r[e];if(i(u))try{o.defineProperty(n,u,o.getDescriptor(t,u))}catch(t){}}},hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:C,hasEnvVariables:D,env:function(t){return D?process.env[t]:void 0},global:f,getNativePromise:function(){if("function"==typeof Promise)try{var t=new Promise(function(){});if("[object Promise]"==={}.toString.call(t))return Promise}catch(t){}},domainBind:function(t,n){return t.bind(n)}};A.isRecentNode=A.isNode&&(process.versions&&process.versions.node?I=process.versions.node.split(".").map(Number):process.version&&(I=process.version.split(".").map(Number)),0===I[0]&&I[1]>10||I[0]>0),A.isNode&&A.toFastProperties(process);try{throw new h}catch(t){A.lastLineError=t}i.exports=A},{"./es5":13}]},{},[4])(4),null!=r?r.P=r.Promise:null!=t&&(t.P=t.Promise)});var D,A,N={Ki:function(){function t(){this.Ji=[]}var n=t.prototype;return n.Qi=function(){},n.Zi=function(t){return{tr:function(){return C.resolve()},nr:function(){}}},n.ir=function(t){throw new h("Not implemented")},n.rr=function(t){return C.resolve()},n.er=function(t){return C.resolve()},n.ur=function(t){},n.sr=function(){},t}(),cr:function(){function t(){}var n=t.prototype;return n.ar=function(){return C.resolve("all")},n.hr=function(){},n.sr=function(){},t}(),dr:{wr:function(t){getActiveDocument().addEventListener("unload",t)},yr:function(t){getActiveDocument().removeEventListener("unload",t)}},gr:{location:{href:"https://theoplayer.doubleclick.net"},get document(){return getActiveDocument()},top:void 0,parent:void 0,self:t,navigator:{userAgent:""},ResizeObserver:function(t){this.observe=function(t){},this.unobserve=function(t){},this.disconnect=function(){}}}};function O(t){A=t}Element.prototype.style={},b=(D=N).Ki,T=D.cr,E=D.dr,S=D.gr,R=S&&S.location,I=S&&S.navigator;var x,P=function(){},L=function(t){return t};(x=C)&&x.config({warnings:!1,longStackTraces:!1});var F,M,B,U,V,q;x&&(U=x.setScheduler(P),F=U,V={_r:function(t){M=t,F(B)},pr:B=function(){var t=M;t&&(M=void 0,t())}},x.setScheduler(V._r));function j(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d.defineProperty(t,r.key,r)}}function H(t,n,i){return n&&j(t.prototype,n),i&&j(t,i),t}function W(t,n){return(W=d.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function $(t,n){t.prototype=d.create(n.prototype),t.prototype.constructor=t,W(t,n)}!function(t){t.mr="web",t.kr="android",t.br="android-tv",t.Tr="ios",t.Er="tvos",t.Sr="chromecast"}(q||(q={}));var z=s?s.userAgent:"",X=z.match(/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),G=z.match(/Android ([0-9\.]+)/i),Y=z.match(/Windows NT ([0-9\.]+)/i),K=z.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),J=z.match(/Firefox\/([0-9\.]+)/i),Q=z.match(/OPR\/(\d+\.\d+)/i),Z=z.match(/Tizen ([0-9\.]+)/i),tt=function(){function n(){this.Rr=Boolean("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch||s&&s.msMaxTouchPoints),this.Ir=/(mac\sos\sx)\s?([\w\s\.]+\w)*/i.test(z)||/(macintosh|mac(?=_powerpc)\s)/i.test(z),this.Cr=/Windows NT/i.test(z),this.Dr=Y?y(Y[1]):0,this.Ar=/Android/i.test(z),this.Nr=G?y(G[1]):0,this.Or=/windows phone (8|8\.1)/i.test(z),this.xr=/iPhone/i.test(z),this.Pr=/iPad/i.test(z),this.Lr=this.Ir&&this.Rr&&!this.Pr,this.Fr=/iPod/i.test(z),this.Mr=/Mobile Safari/i.test(z),this.Br=(this.xr||this.Pr||this.Lr||this.Fr)&&!this.Or,this.Ur=this.Or||this.Br||this.Ar||this.Mr,this.Vr=/CriOS/i.test(z),this.qr=Boolean(t.chrome&&/google/i.test(s.vendor))||this.Vr,this.jr=Boolean(t.chrome||/Chrome/i.test(z)||/CriOS/i.test(z)),this.Hr=X?w(X[1],10):0,this.Wr=/SMART-TV.*Tizen/i.test(z),this.$r=Z?y(Z[1]):0,this.zr=/webos|web0s/i.test(z),this.Xr=/Edge\/\d+/i.test(z),this.Gr=/Trident/i.test(z),this.Yr=this.Gr&&!t.ActiveXObject&&"ActiveXObject"in t,this.Kr=/Vivaldi/i.test(z),this.Jr=/Firefox/i.test(z)&&!/Seamonkey/i.test(z),this.Qr=J?y(J[1]):0,this.Zr=/Safari/i.test(z)&&!/Chrome/i.test(z)&&!this.Or&&!this.Wr,this.te=K?y(K[2]):0,this.ie=Boolean(Q),this.re=Q?y(Q[1]):0,this.ee="tvos"===q.br,this.ue="tvos"===q.kr,this.se=this.ue||this.ee,this.oe="tvos"===q.Tr,this.ce="tvos"===q.Er,this.ae="tvos"===q.Sr}return H(n,[{key:"fe",get:function(){return this.Rr}},{key:"he",get:function(){return this.Ir}},{key:"ve",get:function(){return this.Cr}},{key:"de",get:function(){return this.Dr}},{key:"we",get:function(){return this.Ar}},{key:"ye",get:function(){return this.Nr}},{key:"_e",get:function(){return this.Or}},{key:"pe",get:function(){return this.xr}},{key:"me",get:function(){return this.Pr}},{key:"ke",get:function(){return this.Lr}},{key:"be",get:function(){return this.Fr}},{key:"Te",get:function(){return this.Br}},{key:"Ee",get:function(){return this.Mr}},{key:"Se",get:function(){return this.Ur}},{key:"Re",get:function(){return this.Vr}},{key:"Ie",get:function(){return this.qr}},{key:"Ce",get:function(){return this.Hr}},{key:"De",get:function(){return this.Wr}},{key:"Ae",get:function(){return this.$r}},{key:"Ne",get:function(){return this.zr}},{key:"Oe",get:function(){return this.Xr}},{key:"xe",get:function(){return this.Gr}},{key:"Pe",get:function(){return this.Yr}},{key:"Le",get:function(){return this.Kr}},{key:"Fe",get:function(){return this.Jr}},{key:"Me",get:function(){return this.Qr}},{key:"Be",get:function(){return this.Zr}},{key:"Ue",get:function(){return this.te}},{key:"Ve",get:function(){return this.ie}},{key:"qe",get:function(){return this.re}},{key:"je",get:function(){return this.ee}},{key:"He",get:function(){return this.ue}},{key:"We",get:function(){return this.se}},{key:"$e",get:function(){return this.oe}},{key:"ze",get:function(){return this.ce}},{key:"Xe",get:function(){return this.ae}},{key:"Ge",get:function(){return this.jr}}]),n}();tt.Ye=new tt;var nt=tt.Ye,it={}.hasOwnProperty,rt={}.toString;function et(t){return null!=t}var ut=Array.isArray||function(t){return"[object Array]"===rt.call(t)};function st(t){return ot(t)&&it.call(t,"length")&&vt(t.length)}function ot(t){return"object"==typeof t&&null!==t}function ct(t){return ot(t)&&t.constructor&&t.constructor===d}function at(t){return"string"==typeof t}function ft(t){return"boolean"==typeof t}function ht(t){return Boolean(t)&&"function"==typeof t.then}function vt(t){return"number"==typeof t}var dt=!(nt.xe&&!nt.Pe),lt=t.console;function wt(t){if(ot(t))try{return JSON.stringify(t)}catch(t){}return t}function yt(t){return t.map(wt).join(" ")}function gt(t){var n=lt&&lt[t];return n?n.bind&&dt?n.bind(lt):function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];lt[t](yt(i))}:void 0}var _t,pt=gt("log")||P,mt=gt("warn")||pt.bind(void 0,"WARNING:"),kt=gt("error")||pt.bind(void 0,"ERROR:"),bt=(_t=lt&&lt.assert)?_t.bind&&dt?_t.bind(lt):function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];lt.assert(t,yt(i))}:function(t){if(!t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];kt.apply(void 0,["Assertion failed:"].concat(i))}},Tt=St,Et=null;try{Et=new WebAssembly.Instance(new WebAssembly.Module(new _([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function St(t,n,i){this.low=0|t,this.high=0|n,this.unsigned=!!i}function Rt(t){return!0===(t&&t.Ke)}St.prototype.Ke,d.defineProperty(St.prototype,"Ke",{value:!0}),St.isLong=Rt;var It={},Ct={};function Dt(t,n){var i,r,e;return n?(e=0<=(t>>>=0)&&t<256)&&(r=Ct[t])?r:(i=Nt(t,(0|t)<0?-1:0,!0),e&&(Ct[t]=i),i):(e=-128<=(t|=0)&&t<128)&&(r=It[t])?r:(i=Nt(t,t<0?-1:0,!1),e&&(It[t]=i),i)}function At(t,n){if(g(t))return n?Vt:Ut;if(n){if(t<0)return Vt;if(t>=Ft)return $t}else{if(t<=-Mt)return zt;if(t+1>=Mt)return Wt}return t<0?At(-t,n).neg():Nt(t%Lt|0,t/Lt|0,n)}function Nt(t,n,i){return new St(t,n,i)}St.fromInt=Dt,St.fromNumber=At,St.fromBits=Nt;var Ot=l.pow;function xt(t,n,i){if(0===t.length)throw h("empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return Ut;if("number"==typeof n?(i=n,n=!1):n=!!n,(i=i||10)<2||36<i)throw RangeError("radix");var r;if((r=t.indexOf("-"))>0)throw h("interior hyphen");if(0===r)return xt(t.substring(1),n,i).neg();for(var e=At(Ot(i,8)),u=Ut,s=0;s<t.length;s+=8){var o=l.min(8,t.length-s),c=w(t.substring(s,s+o),i);if(o<8){var a=At(Ot(i,o));u=u.mul(a).add(At(c))}else u=(u=u.mul(e)).add(At(c))}return u.unsigned=n,u}function Pt(t,n){return"number"==typeof t?At(t,n):"string"==typeof t?xt(t,n):Nt(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}St.fromString=xt,St.fromValue=Pt;var Lt=4294967296,Ft=Lt*Lt,Mt=Ft/2,Bt=Dt(1<<24),Ut=Dt(0);St.ZERO=Ut;var Vt=Dt(0,!0);St.UZERO=Vt;var qt=Dt(1);St.ONE=qt;var jt=Dt(1,!0);St.UONE=jt;var Ht=Dt(-1);St.NEG_ONE=Ht;var Wt=Nt(-1,2147483647,!1);St.MAX_VALUE=Wt;var $t=Nt(-1,-1,!0);St.MAX_UNSIGNED_VALUE=$t;var zt=Nt(0,-2147483648,!1);St.MIN_VALUE=zt;var Xt=St.prototype;Xt.toInt=function(){return this.unsigned?this.low>>>0:this.low},Xt.toNumber=function(){return this.unsigned?(this.high>>>0)*Lt+(this.low>>>0):this.high*Lt+(this.low>>>0)},Xt.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(zt)){var n=At(t),i=this.div(n),r=i.mul(n).sub(this);return i.toString(t)+r.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var e=At(Ot(t,6),this.unsigned),u=this,s="";;){var o=u.div(e),c=(u.sub(o.mul(e)).toInt()>>>0).toString(t);if((u=o).isZero())return c+s;for(;c.length<6;)c="0"+c;s=""+c+s}},Xt.getHighBits=function(){return this.high},Xt.getHighBitsUnsigned=function(){return this.high>>>0},Xt.getLowBits=function(){return this.low},Xt.getLowBitsUnsigned=function(){return this.low>>>0},Xt.getNumBitsAbs=function(){if(this.isNegative())return this.eq(zt)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,n=31;n>0&&0==(t&1<<n);n--);return 0!=this.high?n+33:n+1},Xt.isZero=function(){return 0===this.high&&0===this.low},Xt.eqz=Xt.isZero,Xt.isNegative=function(){return!this.unsigned&&this.high<0},Xt.isPositive=function(){return this.unsigned||this.high>=0},Xt.isOdd=function(){return 1==(1&this.low)},Xt.isEven=function(){return 0==(1&this.low)},Xt.equals=function(t){return Rt(t)||(t=Pt(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},Xt.eq=Xt.equals,Xt.notEquals=function(t){return!this.eq(t)},Xt.neq=Xt.notEquals,Xt.ne=Xt.notEquals,Xt.lessThan=function(t){return this.comp(t)<0},Xt.lt=Xt.lessThan,Xt.lessThanOrEqual=function(t){return this.comp(t)<=0},Xt.lte=Xt.lessThanOrEqual,Xt.le=Xt.lessThanOrEqual,Xt.greaterThan=function(t){return this.comp(t)>0},Xt.gt=Xt.greaterThan,Xt.greaterThanOrEqual=function(t){return this.comp(t)>=0},Xt.gte=Xt.greaterThanOrEqual,Xt.ge=Xt.greaterThanOrEqual,Xt.compare=function(t){if(Rt(t)||(t=Pt(t)),this.eq(t))return 0;var n=this.isNegative(),i=t.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},Xt.comp=Xt.compare,Xt.negate=function(){return!this.unsigned&&this.eq(zt)?zt:this.not().add(qt)},Xt.neg=Xt.negate,Xt.add=function(t){Rt(t)||(t=Pt(t));var n=this.high>>>16,i=65535&this.high,r=this.low>>>16,e=65535&this.low,u=t.high>>>16,s=65535&t.high,o=t.low>>>16,c=0,a=0,f=0,h=0;return f+=(h+=e+(65535&t.low))>>>16,a+=(f+=r+o)>>>16,c+=(a+=i+s)>>>16,c+=n+u,Nt((f&=65535)<<16|(h&=65535),(c&=65535)<<16|(a&=65535),this.unsigned)},Xt.subtract=function(t){return Rt(t)||(t=Pt(t)),this.add(t.neg())},Xt.sub=Xt.subtract,Xt.multiply=function(t){if(this.isZero())return Ut;if(Rt(t)||(t=Pt(t)),Et)return Nt(Et.mul(this.low,this.high,t.low,t.high),Et.get_high(),this.unsigned);if(t.isZero())return Ut;if(this.eq(zt))return t.isOdd()?zt:Ut;if(t.eq(zt))return this.isOdd()?zt:Ut;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(Bt)&&t.lt(Bt))return At(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,r=this.low>>>16,e=65535&this.low,u=t.high>>>16,s=65535&t.high,o=t.low>>>16,c=65535&t.low,a=0,f=0,h=0,v=0;return h+=(v+=e*c)>>>16,f+=(h+=r*c)>>>16,h&=65535,f+=(h+=e*o)>>>16,a+=(f+=i*c)>>>16,f&=65535,a+=(f+=r*o)>>>16,f&=65535,a+=(f+=e*s)>>>16,a+=n*c+i*o+r*s+e*u,Nt((h&=65535)<<16|(v&=65535),(a&=65535)<<16|(f&=65535),this.unsigned)},Xt.mul=Xt.multiply,Xt.divide=function(t){if(Rt(t)||(t=Pt(t)),t.isZero())throw h("division by zero");var n,i,r;if(Et)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?Nt((this.unsigned?Et.div_u:Et.div_s)(this.low,this.high,t.low,t.high),Et.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?Vt:Ut;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return Vt;if(t.gt(this.shru(1)))return jt;r=Vt}else{if(this.eq(zt))return t.eq(qt)||t.eq(Ht)?zt:t.eq(zt)?qt:(n=this.shr(1).div(t).shl(1)).eq(Ut)?t.isNegative()?qt:Ht:(i=this.sub(t.mul(n)),r=n.add(i.div(t)));if(t.eq(zt))return this.unsigned?Vt:Ut;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();r=Ut}for(i=this;i.gte(t);){n=l.max(1,l.floor(i.toNumber()/t.toNumber()));for(var e=l.ceil(l.log(n)/l.LN2),u=e<=48?1:Ot(2,e-48),s=At(n),o=s.mul(t);o.isNegative()||o.gt(i);)o=(s=At(n-=u,this.unsigned)).mul(t);s.isZero()&&(s=qt),r=r.add(s),i=i.sub(o)}return r},Xt.div=Xt.divide,Xt.modulo=function(t){return Rt(t)||(t=Pt(t)),Et?Nt((this.unsigned?Et.rem_u:Et.rem_s)(this.low,this.high,t.low,t.high),Et.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},Xt.mod=Xt.modulo,Xt.rem=Xt.modulo,Xt.not=function(){return Nt(~this.low,~this.high,this.unsigned)},Xt.and=function(t){return Rt(t)||(t=Pt(t)),Nt(this.low&t.low,this.high&t.high,this.unsigned)},Xt.or=function(t){return Rt(t)||(t=Pt(t)),Nt(this.low|t.low,this.high|t.high,this.unsigned)},Xt.xor=function(t){return Rt(t)||(t=Pt(t)),Nt(this.low^t.low,this.high^t.high,this.unsigned)},Xt.shiftLeft=function(t){return Rt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Nt(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):Nt(0,this.low<<t-32,this.unsigned)},Xt.shl=Xt.shiftLeft,Xt.shiftRight=function(t){return Rt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Nt(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):Nt(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},Xt.shr=Xt.shiftRight,Xt.shiftRightUnsigned=function(t){if(Rt(t)&&(t=t.toInt()),0===(t&=63))return this;var n=this.high;return t<32?Nt(this.low>>>t|n<<32-t,n>>>t,this.unsigned):Nt(32===t?n:n>>>t-32,0,this.unsigned)},Xt.shru=Xt.shiftRightUnsigned,Xt.shr_u=Xt.shiftRightUnsigned,Xt.toSigned=function(){return this.unsigned?Nt(this.low,this.high,!1):this},Xt.toUnsigned=function(){return this.unsigned?this:Nt(this.low,this.high,!0)},Xt.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},Xt.toBytesLE=function(){var t=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},Xt.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]},St.fromBytes=function(t,n,i){return i?St.fromBytesLE(t,n):St.fromBytesBE(t,n)},St.fromBytesLE=function(t,n){return new St(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},St.fromBytesBE=function(t,n){return new St(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};var Gt=Tt,Yt=l.pow(2,-52);function Kt(t,n,i){return l.min(l.max(t,n),i)}function Jt(t,n,i){return t===n||l.abs(t-n)<=i}function Qt(t,n){for(var i=t,r=n;0!==r;){var e=i%r;i=r,r=e}return i<0?-i:i}function Zt(){return Date.now()||(new Date).getTime()}function tn(t){return t/1e3}var nn;Gt.fromNumber(9007199254740991);function rn(t){return t.Je===nn.Qe}function en(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}!function(t){t[t.Qe=1]="Qe",t[t.Ze=2]="Ze",t[t.tu=3]="tu",t[t.nu=4]="nu",t[t.iu=9]="iu"}(nn||(nn={}));var un=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];h.apply(this,n)};(un.prototype=d.create(h.prototype)).constructor=un;var sn=function(t){function n(n,i){var r;return(r=t.call(this)||this).cause=void 0,r.message=n||"Unknown error",r.cause=i,h.captureStackTrace&&h.captureStackTrace(en(r),r.constructor),r}return $(n,t),H(n,[{key:"name",get:function(){return"BaseError"}}]),n}(un),on=function(t){function n(n){return t.call(this,"Invalid XML",n)||this}return $(n,t),n}(sn),cn=function(){function t(){}return t.prototype.ru=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new on(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new on;return new wn(n)},t}(),an=function(){function t(t){this.eu=void 0,this.eu=t}var n=t.prototype;return n.uu=function(t){return this.eu.isEqualNode(t.eu)},n.su=function(n){return new t(this.eu.cloneNode(n))},H(t,[{key:"Je",get:function(){return nn.Ze}},{key:"ou",get:function(){var t;return null!=(t=this.eu.localName)?t:_n(this.eu.nodeName)}},{key:"cu",get:function(){return this.eu.nodeName}},{key:"au",get:function(){var t;return null!=(t=this.eu.namespaceURI)?t:void 0}},{key:"fu",get:function(){var t;return null!=(t=this.eu.prefix)?t:void 0}},{key:"hu",get:function(){return this.eu.nodeValue}}]),t}(),fn=function(){function t(t){this.vu=void 0,this.du=void 0,this.vu=t}var n=t.prototype;return n.lu=function(t){return this.wu.filter(function(n){return yn(n)&&n.yu===t})},n.gu=function(t,n){return this.wu.filter(function(i){return yn(i)&&i.ou===n&&i.au===t})},n._u=function(t){this.vu.appendChild(t.pu),this.du&&this.du.push(t)},n.uu=function(t){return this.vu.isEqualNode(t.pu)},H(t,[{key:"wu",get:function(){return void 0===this.du&&(this.du=function(t){for(var n=[],i=0;i<t.length;i++){var r=gn(t.item(i));r&&n.push(r)}return n}(this.vu.childNodes)),this.du}},{key:"mu",get:function(){return this.wu.filter(yn)}},{key:"pu",get:function(){return this.vu}}]),t}(),hn=function(t){function n(n){return t.call(this,n)||this}$(n,t);var i=n.prototype;return i.ku=function(t){if(this.vu.hasAttribute(t))return this.vu.getAttribute(t)},i.bu=function(t,n){if(this.vu.hasAttributeNS(t,n))return this.vu.getAttributeNS(t,n)},i.Tu=function(t){this.vu.removeAttribute(t)},i.Eu=function(t,n){this.vu.removeAttributeNS(t,n)},i.Su=function(t,n){this.vu.setAttribute(t,n)},i.Ru=function(t,n,i){this.vu.setAttributeNS(t,n,i)},i.su=function(t){return new n(this.vu.cloneNode(t))},H(n,[{key:"Je",get:function(){return nn.Qe}},{key:"ou",get:function(){var t;return null!=(t=this.vu.localName)?t:_n(this.vu.nodeName)}},{key:"au",get:function(){var t;return null!=(t=this.vu.namespaceURI)?t:void 0}},{key:"fu",get:function(){var t;return null!=(t=this.vu.prefix)?t:void 0}},{key:"yu",get:function(){return this.vu.nodeName}},{key:"Iu",get:function(){return function(t){for(var n=[],i=0;i<t.length;i++)n.push(new an(t.item(i)));return n}(this.vu.attributes)}},{key:"Cu",get:function(){return this.vu.textContent}}]),n}(fn),vn=function(){function t(t){this.vu=void 0,this.vu=t}return t.prototype.uu=function(t){return this.Du===t.Du},H(t,[{key:"Du",get:function(){return this.vu.nodeValue}},{key:"pu",get:function(){return this.vu}}]),t}(),dn=function(t){function n(n){return t.call(this,n)||this}return $(n,t),n.prototype.su=function(t){return new n(this.vu.cloneNode(t))},H(n,[{key:"Je",get:function(){return nn.tu}}]),n}(vn),ln=function(t){function n(n){return t.call(this,n)||this}return $(n,t),n.prototype.su=function(t){return new n(this.vu.cloneNode(t))},H(n,[{key:"Je",get:function(){return nn.nu}}]),n}(vn),wn=function(t){function n(n){return t.call(this,n)||this}return $(n,t),n.prototype.su=function(t){return new n(this.vu.cloneNode(t))},H(n,[{key:"Je",get:function(){return nn.iu}},{key:"Au",get:function(){return new hn(this.vu.documentElement)}}]),n}(fn);function yn(t){return rn(t)}function gn(t){switch(t.nodeType){case nn.Qe:return new hn(t);case nn.tu:return new dn(t);case nn.nu:return new ln(t)}}function _n(t){var n=t.indexOf(":");return n<0?t:t.substr(n+1)}function pn(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d.defineProperty(t,r.key,r)}}function mn(t,n){var i=function(t,n){var i=t.length;if(i<=1)return t;for(var r=new Array(i),e=1;e<i;e*=2){kn(t,n,e,r);var u=t;t=r,r=u}return t}(t,n);return i!==t&&kn(i,null,t.length,t),t}function kn(t,n,i,r){var e,u,s,o,c,a=t.length,f=0,h=2*i;for(e=0;e<a;e+=h)for(s=(u=e+i)+i,u>a&&(u=a),s>a&&(s=a),o=e,c=u;;)if(o<u&&c<s)n(t[o],t[c])<=0?r[f++]=t[o++]:r[f++]=t[c++];else if(o<u)r[f++]=t[o++];else{if(!(c<s))break;r[f++]=t[c++]}}var bn=/[a-zA-Z]/,Tn=/[0-9]/,En=/[0-9a-fA-F]/,Sn=/^0x/i,Rn=/^[0-9]+$/,In=/^[0-9a-fA-F]+$/,Cn=/^[0-7]+$/,Dn=d.prototype.toString,An=Array.isArray||function(t){return"[object Array]"===Dn.call(t)},Nn="undefined"!=typeof Symbol&&"symbol"==typeof Symbol.iterator;function On(t){return An(t)?t:Array.from(t)}function xn(t){return t>=65&&t<=90}function Pn(t){return xn(t)||function(t){return t>=97&&t<=122}(t)}function Ln(t){return t>=48&&t<=57}function Fn(t){return Ln(t)||Pn(t)}function Mn(t){return Ln(t)||t>=65&&t<=70||t>=97&&t<=102}function Bn(t){return xn(t)?t+32:t}function Un(t){return Ln(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function Vn(t,n){return void 0===n&&(n=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(n?87:55):-1}var qn=l.min,jn=String.fromCharCode,Hn=16384;function Wn(t){for(var n=t.length,i=[],r=0;r<n;r+=Hn){var e=qn(r+Hn,n);i.push(jn.apply(null,t.slice(r,e)))}return i.join("")}var $n=/[^\0-\x7E]/,zn=/[\x2E\u3002\uFF0E\uFF61]/g,Xn={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Gn=l.floor,Yn=String.fromCharCode;function Kn(t){throw new RangeError(Xn[t])}function Jn(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&e)<<10)+(1023&u)+65536):(n.push(e),i--)}else n.push(e)}return n}var Qn,Zn,ti,ni=function(t,n){return t+22+75*(t<26)-((0!=n)<<5)},ii=function(t,n,i){var r=0;for(t=i?Gn(t/700):t>>1,t+=Gn(t/n);t>455;r+=36)t=Gn(t/35);return Gn(r+36*t/(t+38))},ri=function(t){return function(t,n){var i=t.split("@"),r="";i.length>1&&(r=i[0]+"@",t=i[1]);var e=function(t,n){for(var i=[],r=t.length;r--;)i[r]=n(t[r]);return i}((t=t.replace(zn,".")).split("."),n).join(".");return r+e}(t,function(t){return $n.test(t)?"xn--"+function(t){for(var n=[],i=(t=Jn(t)).length,r=128,e=0,u=72,s=0,o=t;s<o.length;s++){var c=o[s];c<128&&n.push(Yn(c))}var a=n.length,f=a;for(a&&n.push("-");f<i;){for(var h=2147483647,v=0,d=t;v<d.length;v++){var l=d[v];l>=r&&l<h&&(h=l)}var w=f+1;h-r>Gn((2147483647-e)/w)&&Kn("overflow"),e+=(h-r)*w,r=h;for(var y=0,g=t;y<g.length;y++){var _=g[y];if(_<r&&++e>2147483647&&Kn("overflow"),_==r){for(var p=e,m=36;;m+=36){var k=m<=u?1:m>=u+26?26:m-u;if(p<k)break;var b=p-k,T=36-k;n.push(Yn(ni(k+b%T,0))),p=Gn(b/T)}n.push(Yn(ni(p,0))),u=ii(e,w,f==a),e=0,++f}}++e,++r}return n.join("")}(t):t})};function ei(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return Wn(n)}function ui(t){if(t>=55296&&t<=57343)throw new h("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function si(t,n){return t>>n&63|128}function oi(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(ui(t),n.push(t>>12&15|224),n.push(si(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(si(t,12)),n.push(si(t,6))),n.push(63&t|128)):n.push(t)}function ci(t){for(var n=[],i=0;i<t.length;i++){oi(t[i],n)}return n}function ai(){if(ti>=Zn)throw new h("Invalid byte index");var t=255&Qn[ti];if(ti++,128==(192&t))return 63&t;throw new h("Invalid continuation byte")}function fi(){var t,n;if(ti>Zn)throw new h("Invalid byte index");if(ti===Zn)return!1;if(t=255&Qn[ti],ti++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|ai())>=128)return n;throw new h("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|ai()<<6|ai())>=2048)return ui(n),n;throw new h("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|ai()<<12|ai()<<6|ai())>=65536&&n<=1114111)return n;throw new h("Invalid UTF-8 detected")}function hi(t){return[37,Vn(t>>4),Vn(15&t)]}function vi(t){return function(t){return t>=0&&t<=31}(t)||t>126}function di(t){return vi(t)||32===t||34===t||60===t||62===t||96===t}function li(t){return di(t)||35===t||63===t||123===t||125===t}function wi(t){return li(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function yi(t){return t<33||t>126||34===t||35===t||60===t||62===t}function gi(t){return yi(t)||39===t}function _i(t,n){if(!n(t))return[t];for(var i=ci([t]),r=[],e=0;e<i.length;e++){var u=i[e];r.push.apply(r,hi(u))}return r}function pi(t,n){for(var i=[],r=0,e=Jn(t);r<e.length;r++){var u=e[r];i.push.apply(i,_i(u,n))}return ei(i)}function mi(t){return function(t){for(var n=[],i=t.length,r=0;r<i;r++){var e=t[r];if(37===e&&r+2<i&&Mn(t[r+1])&&Mn(t[r+2])){var u=Un(t[r+1])<<4|Un(t[r+2]);n.push(u),r+=2}else n.push(e)}return n}(ci(t))}function ki(t){return ei(function(t){Qn=t.slice(),Zn=Qn.length,ti=0;for(var n,i=[];!1!==(n=fi());)i.push(n);return i}(mi(Jn(t))))}function bi(t){var n,i,r,e,u=t.length,s=[0,0,0,0,0,0,0,0],o=0,c=null,a=0;if(a<u&&":"===t[a]){if(!(a+1<u&&":"===t[a+1]))throw new v;a+=2,c=o+=1}for(;a<u;){if(8===o)throw new v("Too many groups");if(":"!==t[a]){for(var f=0,h=0;h<4&&a<u&&En.test(t[a]);)f=f<<4|w(t[a],16),a+=1,h+=1;if("."===t[a]){if(0===h)throw new v;if(a-=h,o>6)throw new v;for(var d=0;a<u;){var l=null;if(d>0){if(!("."===t[a]&&d<4))throw new v;a+=1}if(!Tn.test(t[a]))throw new v;for(;a<u&&Tn.test(t[a]);){var y=w(t[a],10);if(null===l)l=y;else{if(0===l)throw new v;if((l=10*l+y)>255)throw new v}a+=1}s[o]=s[o]<<8|l,2!==(d+=1)&&4!==d||(o+=1)}if(4!==d)throw new v;break}if(":"===t[a]){if((a+=1)===u)throw new v}else if(a<u)throw new v;s[o]=f,o+=1}else{if(null!==c)throw new v("Too many :: groups");a+=1,c=o+=1}}if(null!==c){var g=o-c;for(o=7;0!==o&&g>0;)r=c+g-1,e=void 0,e=(n=s)[i=o],n[i]=n[r],n[r]=e,o-=1,g-=1}else if(8!==o)throw new v;return s}function Ti(t){var n=10,i=Rn;return Sn.test(t)?(t=t.slice(2),n=16,i=In):t.length>=2&&"0"===t[0]&&(t=t.slice(1),n=8,i=Cn),""===t?0:i.test(t)?w(t,n):void 0}var Ei={Nu:4},Si=/[\0\t\n\r #%/:?@\[\\\]]/,Ri=/[\0\t\n\r #/:?@\[\\\]]/;function Ii(t,n){if("["===t[0]){if("]"!==t[t.length-1])throw new v("Invalid IPv6 address");return{Nu:2,Ou:bi(t.slice(1,-1))}}if(!n)return function(t){if(Ri.test(t))throw new v("Invalid code point in opaque host");var n=pi(t,vi);return""===n?Ei:{Nu:3,zi:n}}(t);var i=function(t){return function(t){return ri(t.toLowerCase())}(t)}(ki(t));if(Si.test(i))throw new v("Invalid code point in host");var r=function(t){var n=t.split(".");if(""===n[n.length-1]&&n.pop(),!(n.length>4)){for(var i=[],r=0;r<n.length;r++){var e=n[r];if(""===e)return;var u=Ti(e);if(void 0===u)return;i.push(u)}for(var s=0;s<i.length-1;s++)if(i[s]>255)throw new v;if(i[i.length-1]>=l.pow(256,5-i.length))throw new v;for(var o=i.pop(),c=0;c<i.length;c++)o+=i[c]*l.pow(256,3-c);return o}}(i);return void 0!==r?{Nu:1,Ou:r}:""===i?Ei:{Nu:0,xu:i}}function Ci(t){switch(t.Nu){case 0:return t.xu;case 1:return function(t){for(var n=[],i=t,r=1;r<=4;r++)n.push(""+(255&i)),4!==r&&n.push("."),i>>>=8;return n.reverse().join("")}(t.Ou);case 2:return"["+function(t){for(var n="",i=function(t){for(var n=0,i=0,r=0,e=0,u=0;u<8;u++)0===t[u]?(0===e&&(r=u),e++):(e>i&&(n=r,i=e),e=0);return e>i&&(n=r,i=e),i>1?n:null}(t),r=!1,e=0;e<8;e++){if(r){if(0===t[e])continue;r=!1}i!==e?(n+=t[e].toString(16),7!==e&&(n+=":")):(n+=0===e?"::":":",r=!0)}return n}(t.Ou)+"]";case 3:return t.zi;case 4:return""}}var Di=/\+/g;function Ai(t){for(var n=t.split("&"),i=[],r=0;r<n.length;r++){var e=n[r];if(""!==e){var u=e.indexOf("="),s=void 0,o=void 0;-1!==u?(s=e.slice(0,u),o=e.slice(u+1)):(s=e,o=""),s=s.replace(Di," "),o=o.replace(Di," ");var c=ki(s),a=ki(o);i.push([c,a])}}return i}function Ni(t){for(var n="",i=0;i<t.length;i++){var r=t[i];i>0&&(n+="&"),n+=Oi(ci(Jn(r[0])))+"="+Oi(ci(Jn(r[1])))}return n}function Oi(t){for(var n,i=[],r=0;r<t.length;r++){var e=t[r];32===e?i.push(43):42===(n=e)||45===n||46===n||95===n||Fn(n)?i.push(e):i.push.apply(i,hi(e))}return Wn(i)}var xi=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function Pi(t){var n=""+t,i=xi.exec(n);return i?function(t,n){for(var i=t.length,r=[],e=n;e<i;e++){var u=t.charCodeAt(e);if(Fi(u))if(Mi(u)||e===i-1)r.push(Li);else{var s=t.charCodeAt(e+1);Mi(s)?(r.push(u,s),e++):r.push(Li)}else r.push(u)}return t.slice(0,n)+Wn(r)}(n,i.index):n}var Li=65533,Fi=function(t){return 55296==(63488&t)},Mi=function(t){return 0!=(1024&t)};function Bi(t,n){var i=t[0],r=n[0];return i===r?0:i<r?-1:1}function Ui(t){t.Pu.length=0}function Vi(t,n){!function(t,n){for(var i=0;i<n.length;i++)t[i]=n[i];t.length=n.length}(t.Pu,Ai(n))}function qi(t){if(t.Lu){var n=Ni(t.Pu);""===n&&(n=null),t.Lu.Lu.Fu=n}}var ji=function(){function t(t){if(void 0===t&&(t=void 0),this.Lu=null,null==t)this.Pu=[];else if("object"==typeof t||"function"==typeof t)if((u=t)instanceof ji&&An(u.Pu)&&(!Nn||u[Symbol.iterator]===Hi))this.Pu=t.Pu.slice();else if(function(t){return null!=t&&(!!An(t)||!!Nn&&"function"==typeof t[Symbol.iterator])}(t)){this.Pu=[];for(var n=0,i=On(t);n<i.length;n++){var r=On(i[n]);if(2!==r.length)throw new v("Invalid name-value pair");this.Pu.push([Pi(r[0]),Pi(r[1])])}}else for(var e in this.Pu=[],t)d.prototype.hasOwnProperty.call(t,e)&&this.Pu.push([Pi(e),Pi(t[e])]);else(t=Pi(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this.Pu=Ai(t);var u}var n=t.prototype;return n.append=function(t,n){t=Pi(t),n=Pi(n),this.Pu.push([t,n]),qi(this)},n.delete=function(t){t=Pi(t);for(var n=this.Pu,i=0;i<n.length;){n[i][0]===t?n.splice(i,1):i++}qi(this)},n.get=function(t){t=Pi(t);for(var n=this.Pu,i=0;i<n.length;i++){var r=n[i];if(r[0]===t)return r[1]}return null},n.getAll=function(t){t=Pi(t);for(var n=this.Pu,i=[],r=0;r<n.length;r++){var e=n[r];e[0]===t&&i.push(e[1])}return i},n.has=function(t){t=Pi(t);for(var n=this.Pu,i=0;i<n.length;i++){if(n[i][0]===t)return!0}return!1},n.set=function(t,n){t=Pi(t),n=Pi(n);for(var i=this.Pu,r=!1,e=0;e<i.length;){var u=i[e];u[0]===t?r?i.splice(e,1):(u[1]=n,r=!0,e++):e++}r||i.push([t,n]),qi(this)},n.sort=function(){mn(this.Pu,Bi),qi(this)},n.toString=function(){return Ni(this.Pu)},n.entries=function(){return new Xi(this.Pu,Wi)},n.keys=function(){return new Xi(this.Pu,$i)},n.values=function(){return new Xi(this.Pu,zi)},n.forEach=function(t){var n=this;this.Pu.forEach(function(i){return t(i[1],i[0],n)})},t}(),Hi=ji.prototype.entries;Nn&&(ji.prototype[Symbol.iterator]=Hi);var Wi=function(t){return[t[0],t[1]]},$i=function(t){return t[0]},zi=function(t){return t[1]},Xi=function(){function t(t,n){this.Mu=0,this.Pu=t,this.Bu=n}return t.prototype.next=function(){return this.Mu<this.Pu.length?{done:!1,value:this.Bu(this.Pu[this.Mu++])}:{done:!0,value:void 0}},t}(),Gi="null";var Yi=d.create(null);Yi.ftp=21,Yi.file=0,Yi.gopher=70,Yi.http=80,Yi.https=443,Yi.ws=80,Yi.wss=443;var Ki=/^(?:\.|%2e)$/i,Ji=/^(?:\.|%2e){2}$/i;function Qi(t){return Ki.test(t)}function Zi(t){return Ji.test(t)}function tr(t){return void 0!==Yi[t]}function nr(t){return tr(t.Uu)}function ir(t){return""!==t.Vu||""!==t.qu}function rr(t){var n=t.length;if(!(n>=2))return!1;if(!ur(t.slice(0,2)))return!1;if(2!==n){var i=t[2];if(47!==i&&92!==i&&63!==i&&35!==i)return!1}return!0}function er(t){return 2===t.length&&bn.test(t[0])&&(":"===t[1]||"|"===t[1])}function ur(t){return 2===t.length&&er(Wn(t))}function sr(t){return er(t)&&":"===t[1]}function or(t){var n=t.ju;0!==n.length&&("file"===t.Uu&&1===n.length&&sr(n[0])||n.pop())}function cr(t){return null===t.Hu||Ei===t.Hu||t.Wu||"file"===t.Uu}var ar=-1,fr=/\t|\n|\r/g,hr=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function vr(t,n,i,r){void 0===i&&(i=null),void 0===r&&(r=null),i||(i=new lr,t=t.replace(hr,""));var e=null!==r?r:0;n=n||null;for(var u=[],s=!1,o=!1,c=!1,a=Jn(t=t.replace(fr,"")),f=a.length,h=0;h<=f;){var d=h<f?a[h]:ar;switch(e){case 0:if(!Pn(d)){if(null===r){u.length=0,e=2;continue}throw new v("Invalid scheme")}u.push(Bn(d)),e=1;break;case 1:if(Fn(d)||43===d||45===d||46===d)u.push(Bn(d));else{if(58!==d){if(null===r){u.length=0,e=2,h=0;continue}throw new v("Invalid scheme")}var l=ei(u);if(null!==r){if(tr(i.Uu)&&!tr(l))return;if(!tr(i.Uu)&&tr(l))return;if((ir(i)||null!==i.$u)&&"file"===l)return;if("file"===i.Uu&&(i.Hu===Ei||null===i.Hu))return}if(i.Uu=l,null!==r)return void(nr(i)&&i.$u===Yi[i.Uu]&&(i.$u=null));u.length=0,"file"===i.Uu?e=13:nr(i)&&n&&n.Uu===i.Uu?e=3:nr(i)?e=7:47===a[h+1]?(e=4,h+=1):(i.Wu=!0,i.ju.push(""),e=18)}break;case 2:if(!n||n.Wu&&35!==d)throw new v("Invalid scheme");n.Wu&&35===d?(i.Uu=n.Uu,i.ju=n.ju.slice(),i.Fu=n.Fu,i.zu="",i.Wu=!0,e=20):"file"!==n.Uu?(e=5,h-=1):(e=13,h-=1);break;case 3:47===d&&47===a[h+1]?e=8:(e=5,h-=1);break;case 4:47===d?e=9:(e=17,h-=1);break;case 5:i.Uu=n.Uu,ar===d?(i.Vu=n.Vu,i.qu=n.qu,i.Hu=n.Hu,i.$u=n.$u,i.ju=n.ju.slice(),i.Fu=n.Fu):47===d?e=6:63===d?(i.Vu=n.Vu,i.qu=n.qu,i.Hu=n.Hu,i.$u=n.$u,i.ju=n.ju.slice(),i.Fu="",e=19):35===d?(i.Vu=n.Vu,i.qu=n.qu,i.Hu=n.Hu,i.$u=n.$u,i.ju=n.ju.slice(),i.Fu=n.Fu,i.zu="",e=20):92===d&&nr(i)?e=6:(i.Vu=n.Vu,i.qu=n.qu,i.Hu=n.Hu,i.$u=n.$u,i.ju=n.ju.slice(),i.ju.pop(),e=17,h-=1);break;case 6:!nr(i)||47!==d&&92!==d?47===d?e=9:(i.Vu=n.Vu,i.qu=n.qu,i.Hu=n.Hu,i.$u=n.$u,e=17,h-=1):e=8;break;case 7:if(47!==d||47!==a[h+1]){e=8;continue}e=8,h+=1;break;case 8:47!==d&&92!==d&&(e=9,h-=1);break;case 9:if(64===d){s&&u.unshift(37,52,48),s=!0;for(var y=0;y<u.length;y++){var g=u[y];if(58!==g||c){var _=ei(_i(g,wi));c?i.qu+=_:i.Vu+=_}else c=!0}u.length=0}else if(ar===d||47===d||63===d||35===d||nr(i)&&92===d){if(s&&0===u.length)throw new v("Invalid host");h-=u.length+1,u.length=0,e=10}else u.push(d);break;case 10:case 11:if(null!==r&&"file"===i.Uu)h-=1,e=15;else if(58!==d||o)if(ar===d||47===d||63===d||35===d||nr(i)&&92===d){if(h-=1,nr(i)&&0===u.length)throw new v("Invalid host");if(null!==r&&0===u.length&&(ir(i)||null!==i.$u))return;var p=Ii(ei(u),nr(i));if(i.Hu=p,u.length=0,e=16,null!==r)return}else 91===d?o=!0:93===d&&(o=!1),u.push(d);else{if(0===u.length)throw new v("Invalid host");var m=Ii(ei(u),nr(i));if(i.Hu=m,u.length=0,e=12,11===r)return}break;case 12:if(Ln(d))u.push(d);else{if(!(ar===d||47===d||63===d||35===d||nr(i)&&92===d||null!==r))throw new v("Invalid port");if(0!==u.length){var k=w(ei(u),10);if(k>65535)throw new v("Invalid port");i.$u=k===Yi[i.Uu]?null:k,u.length=0}if(null!==r)return;e=16,h-=1}break;case 13:i.Uu="file",47===d||92===d?e=14:n&&"file"===n.Uu?ar===d?(i.Hu=n.Hu,i.ju=n.ju.slice(),i.Fu=n.Fu):63===d?(i.Hu=n.Hu,i.ju=n.ju.slice(),i.Fu="",e=19):35===d?(i.Hu=n.Hu,i.ju=n.ju.slice(),i.Fu=n.Fu,i.zu="",e=20):(rr(a.slice(h))||(i.Hu=n.Hu,i.ju=n.ju.slice(),or(i)),e=17,h-=1):(e=17,h-=1);break;case 14:47===d||92===d?e=15:(n&&"file"===n.Uu&&!rr(a.slice(h))&&(sr(n.ju[0])?i.ju.push(n.ju[0]):i.Hu=n.Hu),e=17,h-=1);break;case 15:if(ar===d||47===d||92===d||63===d||35===d)if(h-=1,null===r&&ur(u))e=17;else if(0===u.length){if(i.Hu=Ei,null!==r)return;e=16}else{var b=Ii(ei(u),nr(i));if(0===b.Nu&&"localhost"===b.xu&&(b=Ei),i.Hu=b,null!==r)return;u.length=0,e=16}else u.push(d);break;case 16:nr(i)?(e=17,47!==d&&92!==d&&(h-=1)):null===r&&63===d?(i.Fu="",e=19):null===r&&35===d?(i.zu="",e=20):ar!==d&&(e=17,47!==d&&(h-=1));break;case 17:if(ar===d||47===d||nr(i)&&92===d||null===r&&(63===d||35===d)){var T=ei(u);if(Zi(T)?(or(i),47===d||nr(i)&&92===d||i.ju.push("")):!Qi(T)||47===d||nr(i)&&92===d?Qi(T)||("file"===i.Uu&&0===i.ju.length&&ur(u)&&(Ei!==i.Hu&&null!==i.Hu&&(i.Hu=Ei),u[1]=58,T=ei(u)),i.ju.push(T)):i.ju.push(""),u.length=0,"file"===i.Uu&&(ar===d||63===d||35===d))for(;i.ju.length>1&&""===i.ju[0];)i.ju.shift();63===d?(i.Fu="",e=19):35===d&&(i.zu="",e=20)}else u.push.apply(u,_i(d,li));break;case 18:63===d?(i.Fu="",e=19):35===d?(i.zu="",e=20):ar!==d&&(i.ju[0]+=ei(_i(d,vi)));break;case 19:null===r&&35===d?(i.zu="",e=20):ar!==d&&(i.Fu+=ei(_i(d,nr(i)?gi:yi)));break;case 20:ar===d||0===d||(i.zu+=ei(_i(d,di)))}h++}return i}function dr(t,n,i,r){try{vr(t,n,i,r)}catch(t){}}var lr=function(){this.Uu="",this.Vu="",this.qu="",this.Hu=null,this.$u=null,this.ju=[],this.Fu=null,this.zu=null,this.Wu=!1};function wr(t){switch(t.Uu){case"blob":var n;try{n=vr(t.ju[0],null)}catch(t){return Gi}return wr(n);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return i=t.Uu,r=t.Hu,e=t.$u,i+"://"+Ci(r)+(null===e?"":":"+e);case"file":default:return Gi}var i,r,e}var yr=function(){function t(t,n){var i,r,e=null;if(null!=n)if(null!=(i=n)&&i instanceof yr&&"object"==typeof i.Lu)e=n.Lu;else try{e=vr(String(n),null)}catch(t){throw new v("Invalid base URL: "+t.message)}try{r=vr(String(t),e)}catch(t){throw new v("Invalid URL: "+t.message)}var u=r.Fu;this.Lu=r,this.Fu=function(t){var n=new ji;return null!==t&&Vi(n,t),n}(u),this.Fu.Lu=this}var n,i,r,e=t.prototype;return e.toString=function(){return this.href},e.toJSON=function(){return this.href},n=t,(i=[{key:"href",get:function(){return function(t,n){void 0===n&&(n=!1);var i=t.Uu+":";if(null!==t.Hu?(i+="//",ir(t)&&(i+=t.Vu,""!==t.qu&&(i+=":"+t.qu),i+="@"),i+=Ci(t.Hu),null!==t.$u&&(i+=":"+t.$u)):null===t.Hu&&"file"===t.Uu&&(i+="//"),t.Wu)i+=t.ju[0];else for(var r=0,e=t.ju;r<e.length;r++)i+="/"+e[r];return null!==t.Fu&&(i+="?"+t.Fu),n||null===t.zu||(i+="#"+t.zu),i}(this.Lu)},set:function(t){var n;try{n=vr(String(t),null)}catch(t){throw new v("Invalid URL: "+t.message)}this.Lu=n,Ui(this.Fu);var i=this.Lu.Fu;null!==i&&Vi(this.Fu,i)}},{key:"origin",get:function(){return wr(this.Lu)}},{key:"protocol",get:function(){return this.Lu.Uu+":"},set:function(t){dr(t+":",null,this.Lu,0)}},{key:"username",get:function(){return this.Lu.Vu},set:function(t){cr(this.Lu)||(this.Lu.Vu=pi(t,wi))}},{key:"password",get:function(){return this.Lu.qu},set:function(t){cr(this.Lu)||(this.Lu.qu=pi(t,wi))}},{key:"host",get:function(){var t=this.Lu,n=t.Hu;if(null===n)return"";var i=t.$u,r=Ci(n);return null!==i&&(r+=":"+i),r},set:function(t){this.Lu.Wu||dr(t,null,this.Lu,10)}},{key:"hostname",get:function(){var t=this.Lu.Hu;return null===t?"":Ci(t)},set:function(t){this.Lu.Wu||dr(t,null,this.Lu,11)}},{key:"port",get:function(){var t=this.Lu.$u;return null===t?"":""+t},set:function(t){cr(this.Lu)||(""===t?this.Lu.$u=null:dr(t,null,this.Lu,12))}},{key:"pathname",get:function(){var t=this.Lu.ju;return this.Lu.Wu?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.Lu.Wu||(this.Lu.ju.length=0,dr(t,null,this.Lu,16))}},{key:"search",get:function(){var t=this.Lu.Fu;return null===t||""===t?"":"?"+t},set:function(t){t=Pi(t);var n=this.Lu;if(""===t)return n.Fu=null,void Ui(this.Fu);"?"===t[0]&&(t=t.slice(1)),n.Fu="",dr(t,null,n,19),Vi(this.Fu,t)}},{key:"searchParams",get:function(){return this.Fu}},{key:"hash",get:function(){var t=this.Lu.zu;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.Lu.zu="",dr(t,null,this.Lu,20)):this.Lu.zu=null}}])&&pn(n.prototype,i),r&&pn(n,r),t}();function gr(t,n,i){return t.split(n).join(i)}function _r(t,n){return null!=t&&-1!==t.indexOf(n)}function pr(t,n){return null!=t&&t.substr(0,n.length)===n}function mr(t,n){return null!=t&&t.substr(t.length-n.length,n.length)===n}function kr(t,n){return t.toUpperCase()===n.toUpperCase()}function br(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return Er(n)}var Tr=16384;function Er(t){var n=t.length;if(n<=Tr)return String.fromCharCode.apply(String,t);for(var i=[],r=0;r<n;r+=Tr)i.push(String.fromCharCode.apply(String,t.slice(r,r+Tr)));return i.join("")}function Sr(t,n){for(var i=0,r=d.keys(n);i<r.length;i++){var e=r[i];t.searchParams.set(e,n[e])}}function Rr(t,n){var i=A.Xu(t);return n&&!mr(i,"/")&&(i+="/"),i}var Ir,Cr=/cache:(.+)?(?=&|$)/,Dr="http://webcache.googleusercontent.com/search?q=cache:";function Ar(t){if(!pr(t,Dr))return"";var n=A.Gu(t).search.match(Cr);return n&&n.length>1?n[1]:""}function Nr(t){return t.document&&t.document.baseURI||t.location.href||""}function Or(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function xr(t,n){var i=n.style;if(i)for(var r in t)i[r]=t[r]}function Pr(){return void 0!==e?e.createElement("video"):void 0}function Lr(){return Ir||(Ir=Pr()),Ir}var Fr=!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)||!(!s||!s.msMaxTouchPoints),Mr=Lr(),Br=!(!Mr||!Mr.webkitShowPlaybackTargetPicker),Ur=function(){function t(){this.Yu=void 0,this.Ku=!1,this.fe=Fr,this.Se=!1,this.Ju=!0}var n=t.prototype;return n.Qu=function(){return 0},n.Zu=function(t,n){return!0},n.ts=function(t){return t>=1/6*2},H(t,[{key:"rs",get:function(){return void 0===this.Yu&&(this.Yu=this.Qu()),this.Yu}},{key:"es",get:function(){return r.devicePixelRatio||1}},{key:"us",get:function(){return Br}},{key:"ss",get:function(){return!1}},{key:"os",get:function(){return!0}},{key:"cs",get:function(){return nt.Be}},{key:"as",get:function(){return!0}}]),t}(),Vr=function(){var t=Pr();if(!t)return!1;var n=t.muted;return t.muted=!n,t.muted!==n}();!function(){if(nt.ke)return!1;var t=Pr();if(!t)return!1;var n=t.volume;t.volume=n/2+.1,t.volume}();var qr=function(t){function n(n){var i;return(i=t.call(this)||this).fs=void 0,i.fs=n,i.fs&&(i.Ku=i.fs.Ku,i.fe=i.fs.fe,i.Ju=Vr&&i.fs.Ju),i}$(n,t);var i=n.prototype;return i.Qu=function(){return this.fs?this.fs.rs:t.prototype.Qu.call(this)},i.Zu=function(n,i){return this.fs?this.fs.Zu(n,i):t.prototype.Zu.call(this,n,i)},i.ts=function(n){return this.fs?this.fs.ts(n):t.prototype.ts.call(this,n)},n}(Ur),jr=function(t){function n(n){var i;return(i=t.call(this,n)||this).Ku=!0,i.Se=!0,i}return $(n,t),n}(qr),Hr=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n.prototype.Qu=function(){return S.MediaSource?t.prototype.Qu.call(this):1},n}(jr),Wr=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n.prototype.Zu=function(n,i){return!(i.hs>1920)&&t.prototype.Zu.call(this,n,i)},H(n,[{key:"ss",get:function(){return nt.Ae<3}},{key:"os",get:function(){return nt.Ae>=3}}]),n}(qr),$r=function(t){function n(){return t.call(this)||this}return $(n,t),n}(Ur),zr=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n.prototype.Zu=function(t,n){if(t&&t.vs&&n&&n.vs){var i=Xr(t.vs,"mp4a.40.2")&&Xr(n.vs,"mp4a.40.5"),r=Xr(t.vs,"mp4a.40.5")&&Xr(n.vs,"mp4a.40.2"),e=Xr(t.vs,"mp4a.40.2")&&Xr(n.vs,"mp4a.40.34"),u=Xr(t.vs,"mp4a.40.34")&&Xr(n.vs,"mp4a.40.2"),s=Xr(t.vs,"mp4a.40.5")&&Xr(n.vs,"mp4a.40.34"),o=Xr(t.vs,"mp4a.40.34")&&Xr(n.vs,"mp4a.40.5");return!(i||r||e||u||s||o)}return!0},n}($r);function Xr(t,n){return t.indexOf(n)>-1}var Gr=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n.prototype.ts=function(t){return t>=2},n}($r),Yr=function(t){function n(){var n;return(n=t.call(this)||this).Ku=nt.Ue>=11,n.Ju=nt.Be&&!(nt.Te&&nt.Ue<10),n}return $(n,t),n}($r),Kr=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),H(n,[{key:"as",get:function(){return!1}}]),n}(qr),Jr=function(){function n(){var n;this.ds=void 0,this.ls=new cn,this.ys=new Qr,this.gs=(n=function(){if(nt.Fe)return new zr;if(nt.Oe||nt.xe)return new Gr;if(nt.Be)return new Yr;return new $r}(),nt.Te?new Hr(n):nt.Se?new jr(n):nt.De?new Wr(n):nt.Ne?new Kr(n):new qr(n)),this._s=function(){if(t.URL)try{var n=new t.URL("b","http://a");return n.pathname="c d","http://a/c%20d"===n.href}catch(t){}return!1}(),t.performance&&t.performance.now?this.ds=function(){return t.performance.now()}:this.ds=Zt}var i=n.prototype;return i.ps=function(){pt.apply(void 0,arguments)},i.ks=function(){mt.apply(void 0,arguments)},i.bs=function(){kt.apply(void 0,arguments)},i.Ts=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];bt.apply(void 0,[t].concat(i))},i.Es=function(t,n){return o(t,n)},i.Ss=function(t,n){return a(t,n)},i.Rs=function(t){c(t)},i.Is=function(t){f(t)},i.ru=function(t){return this.ls.ru(t)},i.Cs=function(){return this.Ds.Cs()},i.As=function(){return this.Ds.As()},i.Ns=function(){return this.Ds.Ns()},i.Os=function(){return this.Ds.Os()},i.xs=function(){return this.Ds.xs()},i.Ps=function(t,n){return this.Ds.Ps(t,n)},i.Ls=function(t){return this.Ds.Ls(t)},i.Gu=function(t,n){return void 0===n&&(n=Nr(S)),new yr(t,n)},i.Xu=function(n,i){if(void 0===i&&(i=Nr(S)),this._s){var r=at(i)?i:i.toString();return new t.URL(n,r).href}return this.Gu(n,i).href},H(n,[{key:"Fs",get:function(){return this.ys}},{key:"Ms",get:function(){return this.gs}},{key:"Bs",get:function(){return{Us:s&&s.userAgent.match(/Android /i)?"Android":"other",Vs:Boolean(s&&s.userAgent.match(/Android 8.0.0/i))}}},{key:"qs",get:function(){return t&&t.location&&"https:"===t.location.protocol}}]),n}(),Qr=function(){function t(){}return H(t,[{key:"js",get:function(){return s.oscpu}},{key:"Ms",get:function(){return s.platform}},{key:"Hs",get:function(){return s.vendor}},{key:"Ws",get:function(){return s.vendorSub}}]),t}();var Zr=k(function(t){!function(t){var n,i=d.prototype,r=i.hasOwnProperty,e="function"==typeof Symbol?Symbol:{},u=e.iterator||"@@iterator",s=e.asyncIterator||"@@asyncIterator",o=e.toStringTag||"@@toStringTag";function c(t,n,i,r){var e=n&&n.prototype instanceof p?n:p,u=d.create(e.prototype),s=new N(r||[]);return u.$s=function(t,n,i){var r=f;return function(e,u){if(r===w)throw new h("Generator is already running");if(r===y){if("throw"===e)throw u;return x()}for(i.method=e,i.arg=u;;){var s=i.delegate;if(s){var o=C(s,i);if(o){if(o===_)continue;return o}}if("next"===i.method)i.sent=i.zs=i.arg;else if("throw"===i.method){if(r===f)throw r=y,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=w;var c=a(t,n,i);if("normal"===c.type){if(r=i.done?y:l,c.arg===_)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(r=y,i.method="throw",i.arg=c.arg)}}}(t,i,s),u}function a(t,n,i){try{return{type:"normal",arg:t.call(n,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var f="suspendedStart",l="suspendedYield",w="executing",y="completed",_={};function p(){}function m(){}function k(){}var b={};b[u]=function(){return this};var T=d.getPrototypeOf,E=T&&T(T(O([])));E&&E!==i&&r.call(E,u)&&(b=E);var S=k.prototype=p.prototype=d.create(b);function R(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this.$s(n,t)}})}function I(t){var n;this.$s=function(i,e){function u(){return new Promise(function(n,u){!function n(i,e,u,s){var o=a(t[i],t,e);if("throw"!==o.type){var c=o.arg,f=c.value;return f&&"object"==typeof f&&r.call(f,"Xs")?Promise.resolve(f.Xs).then(function(t){n("next",t,u,s)},function(t){n("throw",t,u,s)}):Promise.resolve(f).then(function(t){c.value=t,u(c)},function(t){return n("throw",t,u,s)})}s(o.arg)}(i,e,n,u)})}return n=n?n.then(u,u):u()}}function C(t,i){var r=t.iterator[i.method];if(r===n){if(i.delegate=null,"throw"===i.method){if(t.iterator.return&&(i.method="return",i.arg=n,C(t,i),"throw"===i.method))return _;i.method="throw",i.arg=new v("The iterator does not provide a 'throw' method")}return _}var e=a(r,t.iterator,i.arg);if("throw"===e.type)return i.method="throw",i.arg=e.arg,i.delegate=null,_;var u=e.arg;return u?u.done?(i[t.resultName]=u.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=n),i.delegate=null,_):u:(i.method="throw",i.arg=new v("iterator result is not an object"),i.delegate=null,_)}function D(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function A(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(D,this),this.reset(!0)}function O(t){if(t){var i=t[u];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!g(t.length)){var e=-1,s=function i(){for(;++e<t.length;)if(r.call(t,e))return i.value=t[e],i.done=!1,i;return i.value=n,i.done=!0,i};return s.next=s}}return{next:x}}function x(){return{value:n,done:!0}}m.prototype=S.constructor=k,k.constructor=m,k[o]=m.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===m||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return d.setPrototypeOf?d.setPrototypeOf(t,k):(t.__proto__=k,o in t||(t[o]="GeneratorFunction")),t.prototype=d.create(S),t},t.awrap=function(t){return{Xs:t}},R(I.prototype),I.prototype[s]=function(){return this},t.AsyncIterator=I,t.async=function(n,i,r,e){var u=new I(c(n,i,r,e));return t.isGeneratorFunction(i)?u:u.next().then(function(t){return t.done?t.value:u.next()})},R(S),S[o]="Generator",S[u]=function(){return this},S.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var i in t)n.push(i);return n.reverse(),function i(){for(;n.length;){var r=n.pop();if(r in t)return i.value=r,i.done=!1,i}return i.done=!0,i}},t.values=O,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this.zs=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(A),!t)for(var i in this)"t"===i.charAt(0)&&r.call(this,i)&&!g(+i.slice(1))&&(this[i]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function e(r,e){return o.type="throw",o.arg=t,i.next=r,e&&(i.method="next",i.arg=n),!!e}for(var u=this.tryEntries.length-1;u>=0;--u){var s=this.tryEntries[u],o=s.completion;if("root"===s.tryLoc)return e("end");if(s.tryLoc<=this.prev){var c=r.call(s,"catchLoc"),a=r.call(s,"finallyLoc");if(c&&a){if(this.prev<s.catchLoc)return e(s.catchLoc,!0);if(this.prev<s.finallyLoc)return e(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return e(s.catchLoc,!0)}else{if(!a)throw new h("try statement without catch or finally");if(this.prev<s.finallyLoc)return e(s.finallyLoc)}}}},abrupt:function(t,n){for(var i=this.tryEntries.length-1;i>=0;--i){var e=this.tryEntries[i];if(e.tryLoc<=this.prev&&r.call(e,"finallyLoc")&&this.prev<e.finallyLoc){var u=e;break}}u&&("break"===t||"continue"===t)&&u.tryLoc<=n&&n<=u.finallyLoc&&(u=null);var s=u?u.completion:{};return s.type=t,s.arg=n,u?(this.method="next",this.next=u.finallyLoc,_):this.complete(s)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),_},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),A(i),_}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc===t){var r=i.completion;if("throw"===r.type){var e=r.arg;A(i)}return e}}throw new h("illegal catch attempt")},delegateYield:function(t,i,r){return this.delegate={iterator:O(t),resultName:i,nextLoc:r},"next"===this.method&&(this.arg=n),_}}}(t.exports)});function te(){return(te=d.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var r in i)d.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}).apply(this,arguments)}function ne(){var t=d.create(null);return t.__=void 0,delete t.__,t}function ie(){return new se}function re(t){var n=ie();for(var i in t)it.call(t,i)&&n.set(i,t[i]);return n}var ee,ue="undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0,se=ue||(ee=function(){function t(t,n){this.data=void 0,this.keys=void 0,this.index=0,this.selector=void 0,this.data=t,this.selector=n,this.keys=d.keys(t)}var n=t.prototype;return n.next=function(){var t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}},t}(),function(){function t(){this.data=ne(),this.size=0}var n=t.prototype;return n.get=function(t){return this.data[t]},n.set=function(t,n){return this.has(t)||this.size++,this.data[t]=n,this},n.has=function(t){return t in this.data},n.delete=function(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)},n.clear=function(){this.data=ne(),this.size=0},n.keys=function(){return new ee(this.data,function(t,n){return n})},n.values=function(){return new ee(this.data,function(t,n){return t[n]})},n.entries=function(){return new ee(this.data,function(t,n){return[n,t[n]]})},n.forEach=function(t){for(var n in this.data)t(this.data[n],n)},t}());var oe,ce=ue||(oe=function(){function t(t,n){this.Ys=void 0,this.Ks=void 0,this.Ys=t,this.Ks=n}var n=t.prototype;return n.next=function(){var t=this.Ys.next();return t.done?t:{value:this.Ks(t.value),done:!1}},t}(),function(){function t(){this.Js=ie()}var n=t.prototype;return n.get=function(t){return this.Js.get(""+t)},n.set=function(t,n){return this.Js.set(""+t,n),this},n.has=function(t){return this.Js.has(""+t)},n.delete=function(t){return this.Js.delete(""+t)},n.clear=function(){this.Js.clear()},n.keys=function(){return new oe(this.Js.keys(),function(t){return Number(t)})},n.values=function(){return this.Js.values()},n.entries=function(){return new oe(this.Js.entries(),function(t){var n=t[0],i=t[1];return[Number(n),i]})},n.forEach=function(t){this.Js.forEach(function(n,i){t(n,Number(i))})},H(t,[{key:"size",get:function(){return this.Js.size}}]),t}());var ae,fe="cenc",he="sinf",ve="skd",de="urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95",le="com.microsoft.playready",we="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",ye="urn:uuid:"+we,ge="94ce86fb-07ff-4f43-adb8-93d2fa968ca2",_e="urn:uuid:"+ge,pe="com.apple.fps.1_0";!function(t){t.Qs="playready",t.Zs="widevine",t.to="fairplay",t.io="clearkey",t.ro="aes128"}(ae||(ae={}));var me={eo:ae.Qs,uo:le,so:"cenc",oo:"9a04f079-9840-4286-ab92-e65be0885f95",co:de,ao:"PlayReady"},ke={eo:ae.Zs,uo:"com.widevine.alpha",so:"cenc",oo:we,co:ye,ao:"Widevine"},be={eo:ae.to,uo:pe,so:"skd",oo:ge,co:_e,ao:"FairPlay"},Te=(ae.to,{eo:ae.io,uo:"org.w3.clearkey",so:"cenc",oo:"1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",co:"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",ao:"ClearKey"}),Ee=nt.Ie&&nt.Ce>=42||nt.Fe&&nt.Me>=38||nt.Oe||nt.Pe||nt.Ve&&nt.qe>=29;function Se(t,n){return _r(t,"audio")?{initDataTypes:["cenc"],audioCapabilities:[te({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[te({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}}var Re=function(){function t(t){this.fo=void 0,this.ho=ie(),this.vo=void 0,this.fo=t}var n=t.prototype;return n.xs=function(){return this.Ls(ke)},n.As=function(){return this.Ls(Te)},n.Os=function(){return this.Ls(me)},n.Ns=function(){return this.Ls(be)},n.Ls=function(t){var n=t.co,i=this.ho.get(n);if(i)return i;var r=this.Ps(t,'video/mp4; codecs="avc1.42000a"');return this.ho.set(n,r),r},n.Ps=function(){var t=C.coroutine(Zr.mark(function t(n,i){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.fo.do(n.uo,[Se(i,!0)]);case 3:return t.abrupt("return",!0);case 6:return t.prev=6,t.t0=t.catch(0),t.prev=8,t.next=11,this.fo.do(n.uo,[Se(i,!1)]);case 11:return t.abrupt("return",!0);case 14:return t.prev=14,t.t1=t.catch(8),t.abrupt("return",!1);case 17:case"end":return t.stop()}},t,this,[[0,6],[8,14]])}));return function(n,i){return t.apply(this,arguments)}}(),n.Cs=function(){return this.vo||(this.vo=this.lo()),this.vo},n.lo=function(){var t=C.coroutine(Zr.mark(function t(){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("https:"!==R.protocol){t.next=2;break}return t.abrupt("return",!1);case 2:if(Ee){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,this.As();case 6:if(!t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:return t.abrupt("return",!0);case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),t}();function Ie(t,n){var i=function(t,n){var i=t,r=i.length;if(r<=1)return i;for(var e=new Array(r),u=1;u<r;u*=2){Ce(i,n,u,e);var s=i;i=e,e=s}return i}(t,n);return i!==t&&Ce(i,void 0,t.length,t),t}function Ce(t,n,i,r){var e,u,s,o,c,a=t.length,f=0,h=2*i;for(u=0;u<a;u+=h)for(e=(s=u+i)+i,s>a&&(s=a),e>a&&(e=a),o=u,c=s;;)if(o<s&&c<e)n&&n(t[o],t[c])<=0?r[f++]=t[o++]:r[f++]=t[c++];else if(o<s)r[f++]=t[o++];else{if(!(c<e))break;r[f++]=t[c++]}}function De(t,n,i){var r=function(t,n,i){for(var r=0;r<t.length;r+=1){var e=t[r];if(n.call(i,e,r,t))return r}return-1}(t,n,i);return-1===r?void 0:t[r]}function Ae(t,n){var i=t.indexOf(n);return-1!==i&&(Ne(t,i),!0)}function Ne(t,n){t.splice(n,1)}function Oe(t,n){return-1!==t.indexOf(n)}function xe(t){t.length=0}var Pe=function(){function t(){this.wo=!1,this.yo=!1,this._o=[],this.po=[]}var n=t.prototype;return n.mo=function(){if(!this.wo&&!this.yo){this.wo=!0;for(var t=0,n=this._o.slice();t<n.length;t++){(0,n[t])()}this.ko()}},n.ko=function(){if(!this.yo){this.yo=!0;for(var t=0,n=this.po.slice();t<n.length;t++){(0,n[t])()}xe(this._o),xe(this.po)}},n.bo=function(t){this.yo||this._o.push(t)},n.To=function(t){this.yo||Ae(this._o,t)},n.Eo=function(t){this.yo||this.po.push(t)},n.So=function(t){this.yo||Ae(this.po,t)},t}(),Le=function(){function t(){this.Ro=new Pe}var n=t.prototype;return n.Io=function(){this.Ro.mo()},n.ko=function(){this.Ro.ko()},n.Co=function(t){var n=this.Ro;if(!n.wo)if(t.wo)n.mo();else if(!n.yo&&!t.yo){var i=function(){r(),n.mo()},r=function r(){t.To(i),t.So(r),n.To(i),n.So(r)};t.bo(i),t.Eo(r),n.bo(i),n.Eo(r)}},n.Do=function(){var n=new t,i=new t,r=n.Ao,e=i.Ao,u=this.Ro,s=function(){r.wo&&e.yo||e.wo&&r.yo?u.mo():r.yo&&e.yo&&u.ko()};r.bo(s),e.bo(s),r.Eo(s),e.Eo(s),n.Co(u),i.Co(u);return u.Eo(function(){r.To(s),e.To(s),r.So(s),e.So(s)}),[n,i]},H(t,[{key:"Ao",get:function(){return this.Ro}}]),t}(),Fe=function(t){function n(n,i){return t.call(this,n||"Aborted",i)||this}return $(n,t),H(n,[{key:"name",get:function(){return"AbortError"}}]),n}(sn);function Me(t){return t instanceof h&&"AbortError"===t.name}function Be(t){if(t&&t.wo)throw new Fe}function Ue(t){if(Me(t))throw t}function Ve(t){if(!Me(t))throw t}function qe(t,n){return n?new C(function(i,r){if(n.wo)return t.catch(P),r(new Fe);var e=function t(){n.To(t),r(new Fe)};n.bo(e),t.then(function(t){n.To(e),i(t)},function(t){n.To(e),r(t)})}):t}function je(t,n){return t.then(function(t){return n.ko(),t},function(t){throw n.ko(),t})}var He=C.resolve();function We(t){He.then(t)}function $e(t){t.then(P,P)}function ze(t){return Xe.apply(this,arguments)}function Xe(){return(Xe=C.coroutine(Zr.mark(function t(n){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,C.all(n);case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),t.next=10,C.all(n.map(function(t){return t.catch(P)}));case 10:throw t.t0;case 11:case"end":return t.stop()}},t,null,[[0,6]])}))).apply(this,arguments)}function Ge(t){return t&&"function"!=typeof t?t.slice():t}function Ye(t,n,i){if(i)if("function"==typeof i)i.call(t,n);else for(var r=0;r<i.length;r++){i[r].call(t,n)}}var Ke,Je=function(){function t(t){var n=this;this.No=ne(),this.Oo=void 0,this.xo=void 0,this.Po=function(t){n.Lo(t)},this.xo=t||this}var n=t.prototype;return n.Fo=function(t,n){if("function"==typeof n)if("string"==typeof t)this.Mo(t,n);else for(var i=0;i<t.length;i++){var r=t[i];this.Mo(r,n)}},n.Mo=function(t,n){var i=this.No[t];i?"function"==typeof i?this.No[t]=[i,n]:i.push(n):this.No[t]=n},n.Bo=function(t){if("function"==typeof t){var n=this.Oo;n?"function"==typeof n?this.Oo=[n,t]:n.push(t):this.Oo=t}},n.Uo=function(){this.No=ne(),this.Oo=void 0},n.Lo=function(t){var n=Ge(this.No[t.type]),i=Ge(this.Oo);Ye(this.xo,t,n),Ye(this.xo,t,i)},n.Vo=function(t,n){if("function"==typeof n)if("string"==typeof t)this.qo(t,n);else for(var i=0;i<t.length;i++){var r=t[i];this.qo(r,n)}},n.qo=function(t,n){var i=this.No[t];i&&("function"==typeof i?i===n&&(this.No[t]=void 0):Ae(i,n))},n.jo=function(t){if("string"==typeof t)this.No[t]=void 0;else for(var n=0;n<t.length;n++){var i=t[n];this.No[i]=void 0}},n.Ho=function(t){var n=this.Oo;n&&("function"==typeof n?n===t&&(this.Oo=void 0):Ae(n,t))},n.Wo=function(t,n){var i=this;return new C(function(r,e){if(n&&n.wo)return e(new Fe);var u=function(t){o(),r(t)},s=function(){o(),e(new Fe)},o=function(){i.Vo(t,u),n&&n.To(s)};i.Fo(t,u),n&&n.bo(s)})},t}(),Qe=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n.prototype.Lo=function(n){var i=this;We(function(){t.prototype.Lo.call(i,n)})},n}(Je),Ze=function(t,n){void 0===n&&(n=new Date),this.type=t,this.date=n},tu=["cenc"],nu=["cbcs","cbcs-1-9"],iu=function(t){function n(n){var i;return(i=t.call(this,"zo")||this).$o=n,i}return $(n,t),n}(Ze),ru=function(t){function n(n,i,r,e){var u;return(u=t.call(this,"Xo")||this).$o=n,u.Go=i,u.Xo=r,u.Yo=e,u}return $(n,t),n}(Ze),eu=function(t){function n(){return t.call(this,"Ko")||this}return $(n,t),n}(Ze);!function(t){t.Jo="Qo",t.Zo="tc"}(Ke||(Ke={}));var uu=function(t){function n(n,i){var r;return(r=t.call(this,Ke.Jo)||this).so=n,r.nc=i,r}return $(n,t),n}(Ze),su=new _([0]).buffer,ou=function(){function t(){this.ic=void 0,this.ic=[]}var n=t.prototype;return n.rc=function(t){for(var n=0,i=this.ic;n<i.length;n++){if(i[n][0]===t)return!0}return!1},n.ec=function(t){for(var n=0,i=this.ic;n<i.length;n++){var r=i[n];if(r[0]===t)return r[1]}},n.uc=function(t,n){this.ic.forEach(function(n){return t(n[1],n[0])},n)},n.sc=function(t,n){this.ic.push([t,n])},n.oc=function(){xe(this.ic)},H(t,[{key:"cc",get:function(){return this.ic.length}}]),t}(),cu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),au=16383,fu=/[\t\n\f\r ]/g;function hu(t){return 43===t?62:47===t?63:t>=48&&t<=57?t-48+52:t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:vu()}function vu(){throw new h("Invalid base64 input")}function du(t){var n=t;fu.test(n)&&(n=n.replace(fu,""));var i=n.length;i%4==0&&i>=1&&"="===n[i-1]&&(i>=2&&"="===n[i-2]?i-=2:i-=1,n=n.substr(0,i));var r=i%4;if(1===r)return vu();for(var e,u=0===r?0:4-r,s=new _(function(t,n){return 3*(t+n)/4-n}(i,u)),o=u>0?i-4:i,c=0,a=0;c<o;c+=4)e=hu(n.charCodeAt(c))<<18|hu(n.charCodeAt(c+1))<<12|hu(n.charCodeAt(c+2))<<6|hu(n.charCodeAt(c+3)),s[a++]=e>>16&255,s[a++]=e>>8&255,s[a++]=255&e;return 2===u?(e=hu(n.charCodeAt(c))<<2|hu(n.charCodeAt(c+1))>>4,s[a++]=255&e):1===u&&(e=hu(n.charCodeAt(c))<<10|hu(n.charCodeAt(c+1))<<4|hu(n.charCodeAt(c+2))>>2,s[a++]=e>>8&255,s[a++]=255&e),s}function lu(t,n,i){for(var r,e,u,s=[],o=n;o<i;o+=3)s.push((r=t[o],e=t[o+1],u=t[o+2],cu[r>>2]+cu[(3&r)<<4|e>>4]+cu[(15&e)<<2|u>>6]+cu[63&u]));return s.join("")}function wu(t){for(var n=t.length,i=n%3,r=[],e=n-i,u=0;u<e;u+=au)r.push(lu(t,u,l.min(e,u+au)));if(1===i){var s=t[n-1];r.push(cu[s>>2]+cu[(3&s)<<4]+"==")}else if(2===i){var o=t[n-2],c=t[n-1];r.push(cu[o>>2]+cu[(3&o)<<4|c>>4]+cu[(15&c)<<2]+"=")}return r.join("")}var yu=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],gu=ArrayBuffer.isView||function(t){return t&&Oe(yu,rt.call(t))};function _u(t,n){return t===n||t.byteLength===n.byteLength&&function(t,n){if(t===n)return!0;if(t.byteLength!==n.byteLength)return!1;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}(new _(t),new _(n))}function pu(t){var n=t.reduce(function(t,n){return t+n.byteLength},0);return function(t,n){for(var i=new _(n),r=0,e=0;e<t.length;e++){var u=t[e];i.set(u,r),r+=u.byteLength}return i}(t,n)}function mu(t){return du(t).buffer}function ku(t){return wu(new _(t))}function bu(t){return wu(Gu(t))}var Tu=function(){function t(t){void 0===t&&(t=0),this.ac=t}var n=t.prototype;return n.fc=function(t){this.ac+=t},n.hc=function(t){this.ac=t},n.vc=function(){return new t(this.dc)},H(t,[{key:"dc",get:function(){return this.ac}}]),t}();function Eu(t){if(t>=55296&&t<=57343)throw new h("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function Su(t,n){return t>>n&63|128}function Ru(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Eu(t),n.push(t>>12&15|224),n.push(Su(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(Su(t,12)),n.push(Su(t,6))),n.push(63&t|128)):n.push(t)}function Iu(t,n){if(n.dc>=t.length)throw new h("Invalid byte index");var i=255&t[n.dc];if(n.fc(1),128==(192&i))return 63&i;throw new h("Invalid continuation byte")}function Cu(t,n){var i=n.dc;if(i>t.length)throw new h("Invalid byte index");if(i===t.length)return!1;var r=255&t[i];if(n.fc(1),0==(128&r))return r;if(192==(224&r)){var e=(31&r)<<6|Iu(t,n);if(e>=128)return e;throw new h("Invalid continuation byte")}if(224==(240&r)){var u=(15&r)<<12|Iu(t,n)<<6|Iu(t,n);if(u>=2048)return Eu(u),u;throw new h("Invalid continuation byte")}if(240==(248&r)){var s=(7&r)<<18|Iu(t,n)<<12|Iu(t,n)<<6|Iu(t,n);if(s>=65536&&s<=1114111)return s}throw new h("Invalid UTF-8 detected")}var Du=65279;var Au=function(){function t(t){this.lc=t}return t.prototype.wc=function(t){return function(t,n){return(t&n)===n}(this.lc,t)},t}();function Nu(t,n){var i=t.getUint8(n.dc);return n.fc(1),i}function Ou(t,n,i){t.setUint8(n.dc,i),n.fc(1)}function xu(t,n,i){var r=ts(is(t),n.dc,n.dc+i);return n.fc(r.byteLength),r}function Pu(t,n,i){return n.dc+i<=t.byteLength}function Lu(t,n,i){void 0===i&&(i=!1);var r=t.getUint16(n.dc,i);return n.fc(2),r}function Fu(t,n,i,r){void 0===r&&(r=!1),t.setUint16(n.dc,i,r),n.fc(2)}function Mu(t,n,i){void 0===i&&(i=!1);var r=t.getUint32(n.dc,i);return n.fc(4),r}function Bu(t,n,i,r){void 0===r&&(r=!1),t.setUint32(n.dc,i,r),n.fc(4)}function Uu(t,n,i){void 0===i&&(i=!1);var r=Mu(t,n,i),e=Mu(t,n,i),u=i?e:r,s=i?r:e;return Gt.fromBits(s,u,!0)}function Vu(t,n){var i=Nu(t,n);if(i)return String.fromCharCode(i)}function qu(t,n){return function(t,n){return Wu(t,n,!0)}(t,n)}function ju(t,n,i){for(var r="",e=0;e<i;e++)r+=Vu(t,n);return r}function Hu(t,n){var i,r=Nu(t,n);return 0==(128&r)?i=r:192==(224&r)?i=64*(31&r)+(63&Nu(t,n)):224==(240&r)?i=4096*(15&r)+64*(63&Nu(t,n))+(63&Nu(t,n)):240==(248&r)&&(i=262144*(7&r)+4096*(63&Nu(t,n))+64*(63&Nu(t,n))+(63&Nu(t,n))),i}function Wu(t,n,i){for(var r=[];n.dc<t.byteLength;){var e=Nu(t,n);if(i&&!e)break;r.push(e)}return Er(r)}function $u(t,n,i,r){for(var e=[];n.dc+2<=t.byteLength;){var u=Lu(t,n,i);if(r&&!u)break;e.push(u)}return Er(e)}function zu(t,n,i,r){void 0===r&&(r=!1);for(var e=i.length,u=0;u<e;u+=1){Fu(t,n,i.charCodeAt(u),r)}}function Xu(t){return Wu(ns(t),new os,!1)}function Gu(t){var n=new _(t.length);return function(t,n,i){for(var r=i.length,e=0;e<r;e+=1)Ou(t,n,i.charCodeAt(e))}(ns(n),new os,t),n}function Yu(t,n){return void 0===n&&(n=!1),$u(ns(t),new os,n,!1)}function Ku(t,n){void 0===n&&(n=!1);var i=new _(2*t.length);return zu(ns(i),new os,t,n),i}function Ju(t,n){return function(t,n,i){var r=[];(function(t,n){return n.dc+3<=t.byteLength&&239===t.getUint8(n.dc)&&187===t.getUint8(n.dc+1)&&191===t.getUint8(n.dc+2)})(t,n)&&n.fc(3);for(;n.dc<t.byteLength;){var e=Hu(t,n);if(void 0===e)break;if(i&&0===e)break;r.push(e)}return br(r)}(t,n,!0)}function Qu(t){return br(function(t,n){var i,r=[],e=new os;if(!n){if(!1===(i=Cu(t,e)))return r;i===Du||r.push(i)}for(;!1!==(i=Cu(t,e));)r.push(i);return r}(is(t)))}function Zu(t){return new _(function(t){for(var n=[],i=0;i<t.length;i++)Ru(t[i],n);return n}(function(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&e)<<10)+(1023&u)+65536):(n.push(e),i--)}else n.push(e)}return n}(t)))}function ts(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new _(t.buffer,t.byteOffset+n,i-n)}function ns(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function is(t){return new _(t.buffer,t.byteOffset,t.byteLength)}function rs(t){return t instanceof ArrayBuffer||gu(t)}function es(t){return t instanceof ArrayBuffer?new _(t):is(t)}function us(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),t.slice?t.slice(n,i):ss(ts(t,n,i))}function ss(t){if(t.slice)return t.slice(0);var n=new _(t.byteLength);return n.set(t,0),n}var os=function(){function t(t){void 0===t&&(t=0),this.ac=t}var n=t.prototype;return n.fc=function(t){this.ac+=t},n.hc=function(t){this.ac=t},n.vc=function(){return new t(this.dc)},n.yc=function(){return new Tu(this.dc<<3)},H(t,[{key:"dc",get:function(){return this.ac}}]),t}(),cs=function(){function t(){var t=this;this.gc=void 0,this.Fn=void 0,this.V=void 0,this.gc=new C(function(n,i){t.Fn=n,t.V=i})}var n=t.prototype;return n._c=function(t){this.Fn&&(this.Fn(t),this.ko())},n.pc=function(t){this.V&&(this.V(t),this.ko())},n.Io=function(){this.gc.catch(P),this.pc(new Fe)},n.ko=function(){this.Fn=void 0,this.V=void 0},t}();function as(){return new _([8,4]).buffer}function fs(t){return _u(t,as())}function hs(t,n){return t===le?function(t){if(t.byteLength<2*vs.length)return t;if(Yu(new DataView(t,0,2*vs.length),!0)===vs)return t;return n=t,Ku('<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">'+ku(n)+'</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>',!0).buffer;var n}(n):n}var vs="<PlayReady";var ds=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,e)||this).mc=void 0,u.kc=void 0,u.mc=i,u.kc=r,u}return $(n,t),n}(sn),ls=function(t){function n(n,i){var r;(r=t.call(this)||this).bc=void 0,r.Tc=!1,r.Ec=void 0,r.Sc=void 0,r.Rc=function(){r.Ic()},r.Cc=function(t){r.Lo(new ru(en(r),t.messageType,hs(r.Dc,t.message)))},r.Ac=function(){r.Tc=!0,r.bc.cc>0&&(r.bc.oc(),r.Lo(new iu(en(r)))),r.Nc.removeEventListener("keystatuseschange",r.Rc),r.Nc.removeEventListener("message",r.Cc)},r.Nc=n,r.Dc=i,r.Nc.addEventListener("keystatuseschange",r.Rc),r.Nc.addEventListener("message",r.Cc),r.bc=new ou;var e=[];return r.Nc.closed&&e.push(C.resolve(r.Nc.closed)),r.Sc=new cs,e.push(r.Sc.gc),r.Ec=C.race(e).then(r.Ac),r.Ic(),r}$(n,t);var i=n.prototype;return i.Oc=function(){if(this.Tc)return this.Ec;var t,n,i=[];return i.push(C.resolve(this.Nc.close())),i.push((t=1e3,new C(function(i,r){if(void 0!==n&&n.wo)r(new Fe);else{var e=A.Es(function(){void 0!==n&&n.To(u),i()},t),u=function(){A.Rs(e),r(new Fe)};void 0!==n&&n.bo(u)}}))),this.Sc._c(C.race(i).catch(ws)),this.Tc=!0,this.Ec},i.xc=function(t,n,i){return C.resolve(this.Nc.generateRequest(t,n)).catch(ws)},i.Pc=function(t){return C.resolve(this.Nc.load(t)).catch(ws)},i.Lc=function(){return C.resolve(this.Nc.remove()).catch(ws)},i.Fc=function(t){return C.resolve(this.Nc.update(t)).catch(ws)},i.Ic=function(){var t=this;this.bc.oc(),this.Nc.keyStatuses.forEach(function(n,i){t.Mc(i,n)}),this.Lo(new iu(this))},i.Mc=function(t,n){if("string"==typeof t){var i=t;t=n,n=i}var r=es(t);if(this.Dc===le&&16===r.byteLength){var e=ns(r),u=e.getUint32(0,!0),s=e.getUint16(4,!0),o=e.getUint16(6,!0);e.setUint32(0,u,!1),e.setUint16(4,s,!1),e.setUint16(6,o,!1)}this.Dc===le&&"status-pending"===n&&(n="usable"),this.bc.sc(r,n)},H(n,[{key:"Bc",get:function(){return this.Ec}},{key:"Uc",get:function(){return this.Nc.expiration}},{key:"Vc",get:function(){return this.bc}},{key:"qc",get:function(){return this.Nc.sessionId}}]),n}(Je);function ws(t){var n;if(t.message){var i=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);i&&(n=0|w(i[1],16))}throw new ds(t.message,void 0,n,t)}var ys=function(){function t(t,n){this.jc=t,this.Dc=n}var n=t.prototype;return n.Hc=function(){var t=C.coroutine(Zr.mark(function t(n){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new ls(this.jc.createSession(n),this.Dc));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Wc=function(t){return C.resolve(this.jc.setServerCertificate(t))},n.$c=function(t){return C.resolve(t.setMediaKeys(this.jc))},n.zc=function(t){return C.resolve(t.setMediaKeys(null))},t}(),gs=function(){function t(t,n,i){this.Xc=t,this.Dc=n,this.Gc=i}var n=t.prototype;return n.Yc=function(){var t=C.coroutine(Zr.mark(function t(){var n;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Xc.createMediaKeys();case 2:return n=t.sent,t.abrupt("return",new ys(n,this.Dc));case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.Kc=function(){return this.Gc},H(t,[{key:"Jc",get:function(){return this.Xc.keySystem}}]),t}();function _s(t){var n=t.trim(),i=n.indexOf(";");return i<0?n:n.substr(0,i).trim()}function ps(t,n,i,r){var e=!1;if(!(r.persistentState&&"optional"!==r.persistentState||r.distinctiveIdentifier&&"optional"!==r.distinctiveIdentifier)){var u={audioCapabilities:[],videoCapabilities:[],persistentState:r.persistentState||"optional",distinctiveIdentifier:r.distinctiveIdentifier||"optional",initDataTypes:r.initDataTypes,sessionTypes:["temporary"],label:r.label,Qc:r.Qc},s=!1;if(r.audioCapabilities){var o=r.audioCapabilities.filter(function(t){return Boolean(t.contentType)});o.length&&(u.audioCapabilities=o.filter(function(r){return ms(t,n,i,r)}),s=!0,u.audioCapabilities.length&&(e=!0))}if(r.videoCapabilities){var c=r.videoCapabilities.filter(function(t){return Boolean(t.contentType)});c.length&&(u.videoCapabilities=c.filter(function(r){return ms(t,n,i,r)}),s=!0,u.videoCapabilities.length&&(e=!0))}return s||(e=t(i,"video/mp4")),e?u:void 0}}function ms(t,n,i,r){return!!r.contentType&&(!(r.encryptionScheme&&!Oe(n,r.encryptionScheme))&&(!r.robustness&&t(i,_s(r.contentType))))}function ks(t){if(t.videoCapabilities)for(var n=0,i=t.videoCapabilities;n<i.length;n++){var r=i[n];if(r.contentType)return r.contentType}if(t.audioCapabilities)for(var e=0,u=t.audioCapabilities;e<u.length;e++){var s=u[e];if(s.contentType)return s.contentType}}function bs(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r.encryptionScheme&&n.push({contentType:r.contentType,robustness:r.robustness})}return t.concat(n)}var Ts=function(){function t(){}return t.prototype.do=function(){var t=C.coroutine(Zr.mark(function t(n,i){var r,e,u,o,c;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(i=i.filter(function(t){return!t.Qc}),r=0,e=i;r<e.length;r++)(u=e[r]).audioCapabilities&&(u.audioCapabilities=bs(u.audioCapabilities)),u.videoCapabilities&&(u.videoCapabilities=bs(u.videoCapabilities));return t.next=4,s.requestMediaKeySystemAccess(n,i);case 4:return o=t.sent,c=o.getConfiguration(),t.abrupt("return",new gs(o,n,c));case 7:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}(),t.Zc=function(){return void 0!==s&&"function"==typeof s.requestMediaKeySystemAccess},t}(),Es=function(t){function n(n,i){var r;return(r=t.call(this)||this).Tc=!1,r.ta=void 0,r.na=void 0,r.ia=void 0,r.ra=void 0,r.ea=void 0,r.Ac=function(){r.Tc=!0,r.ta._c(void 0),r.ea&&(r.ea.removeEventListener("mskeyclose",r.Ac),r.ea.removeEventListener("mskeymessage",r.ua),r.ea.removeEventListener("mskeyerror",r.sa),r.ea.removeEventListener("mskeyadded",r.oa))},r.ua=function(t){r.ia&&(r.ia._c(void 0),r.ia=void 0),r.Lo(new ru(en(r),"license-request",ss(t.message).buffer,t.destinationURL||void 0))},r.sa=function(){var t=r.ea&&r.ea.error;if(t){var n=new ds("Unknown CDM error",t.code,t.systemCode);if(r.ia)r.ia.pc(n),r.ia=void 0;else if(r.na)r.na.pc(n),r.na=void 0;else switch(n.mc){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:r.ca("output-not-allowed");break;default:r.ca("internal-error")}}},r.oa=function(){r.ia&&(r.ca("usable"),r.ia._c(void 0),r.ia=void 0),r.na&&(r.ca("usable"),r.na._c(void 0),r.na=void 0)},r.aa=n,r.fa=i,r.ta=new cs,r.ra=new ou,r}$(n,t);var i=n.prototype;return i.xc=function(){var t=C.coroutine(Zr.mark(function t(n,i,r){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.ha(),this.ia=new cs,this.Hc(es(i),r),t.next=5,this.ia.gc;case 5:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.Hc=function(t,n){if(!t)throw new v("Expected initData to be defined but was "+t+".");var i,r=n&&n.playready&&n.playready.va;return(i=n?this.aa.createSession(this.fa,t,r):this.aa.createSession(this.fa,t)).addEventListener("mskeyclose",this.Ac),i.addEventListener("mskeymessage",this.ua),i.addEventListener("mskeyerror",this.sa),i.addEventListener("mskeyadded",this.oa),this.ea=i,this.ca("status-pending"),i},i.Pc=function(){var t=C.coroutine(Zr.mark(function t(n){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.ha(),t.abrupt("return",!0);case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Fc=function(){var t=C.coroutine(Zr.mark(function t(n){var i;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.na=new cs,this.ha(),this.ea){t.next=4;break}return t.abrupt("return",C.resolve());case 4:if(0!==(i=es(n)).byteLength){t.next=7;break}throw new v("Cannot call update with an empty response.");case 7:return this.ea.update(i),t.next=10,this.na.gc;case 10:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Oc=function(){return!this.Tc&&this.ea&&(this.Tc=!0,this.ea.close()),this.ta.gc},i.Lc=function(){var t=C.coroutine(Zr.mark(function t(){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.ha(),t.abrupt("return");case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.ha=function(){if(this.Tc)throw new v("Already closing or closed.")},i.ca=function(t){this.ra.oc(),this.ra.sc(su,t),this.Lo(new iu(this))},H(n,[{key:"qc",get:function(){return this.ea&&this.ea.sessionId||""}},{key:"Uc",get:function(){return NaN}},{key:"Bc",get:function(){return this.ta.gc}},{key:"Vc",get:function(){return this.ra}}]),n}(Je),Ss=function(){function t(t,n){this.aa=t,this.fa=n}var n=t.prototype;return n.Hc=function(){var t=C.coroutine(Zr.mark(function t(n){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Es(this.aa,this.fa));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Wc=function(t){return C.resolve(!1)},n.$c=function(t){var n=this;return t.readyState>=1?t.msSetMediaKeys(this.aa):t.addEventListener("loadedmetadata",function i(){t.msSetMediaKeys(n.aa),t.removeEventListener("loadedmetadata",i)}),C.resolve()},n.zc=function(t){return C.resolve()},t}(),Rs=function(){function t(t,n){this.fa=void 0,this.Dc=t,this.da=n;var i=ks(n)||"video/mp4";this.fa=_s(i)}var n=t.prototype;return n.Kc=function(){return this.da},n.Yc=function(){return C.resolve(new Ss(new S.MSMediaKeys(this.Dc),this.fa))},H(t,[{key:"Jc",get:function(){return this.Dc}}]),t}(),Is=function(){function t(){}return t.prototype.do=function(t,n){try{return C.resolve(function(t,n){if(!Cs())throw new v("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=ps(Ds,tu,t,r);if(e)return new Rs(t,e)}throw new v("Unsupported key system configuration for "+t)}(t,n))}catch(t){return C.reject(t)}},t.Zc=function(){return Cs()},t}();function Cs(){return void 0!==S.MSMediaKeys&&"function"==typeof S.MSMediaKeys.isTypeSupported}function Ds(t,n){return S.MSMediaKeys.isTypeSupported(t,n)}var As,Ns,Os=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).ta=new cs,e.la=void 0,e.ra=new ou,e.wa=void 0,e.ya=new cs,e.sa=function(){var t=e.wa&&e.wa.error;if(t){var n=new ds("Unknown CDM error",t.code,t.systemCode);e.la?(e.la.pc(n),e.la=void 0):n.mc===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?e.ca("output-not-allowed"):e.ca("internal-error"),e.Lo(new eu)}},e.ua=function(t){e.la&&(e.la._c(void 0),e.la=void 0),e.Lo(new ru(en(e),"license-request",ss(t.message).buffer,t.destinationURL||void 0))},e.ga=n,e.fa=i,e._a=r,e}$(n,t);var i=n.prototype;return i.xc=function(t,n,i){var r=i&&i.fairplay&&i.fairplay.pa;if(!r)throw new v("Expected FairPlay contentId to be defined but was "+r+".");var e=xs(es(n),r,this._a);return this.wa=this.ga.createSession(this.fa,e),this.wa.addEventListener("webkitkeymessage",this.ua,!1),this.wa.addEventListener("webkitkeyerror",this.sa,!1),this.ca("usable"),this.ya._c(this.wa),this.ya=new cs,C.resolve()},i.Pc=function(t){return C.resolve(!0)},i.Fc=function(){var t=C.coroutine(Zr.mark(function t(n){var i;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(i=es(n)).byteLength){t.next=3;break}throw new v("Cannot call update with an empty response.");case 3:if(this.la=new cs,t.t0=this.wa,t.t0){t.next=9;break}return t.next=8,this.ya.gc;case 8:t.t0=t.sent;case 9:return t.t0.update(i),t.next=13,this.la.gc;case 13:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Oc=function(){var t=this.wa;return t&&(t.removeEventListener("webkitkeymessage",this.ua,!1),t.removeEventListener("webkitkeyerror",this.sa,!1),t.close()),this.ya.Io(),this.ta._c(void 0),this.ta.gc},i.Lc=function(){return C.resolve(void 0)},i.ca=function(t){this.ra.oc(),this.ra.sc(su,t),this.Lo(new iu(this))},H(n,[{key:"qc",get:function(){return this.wa?this.wa.sessionId:""}},{key:"Uc",get:function(){return NaN}},{key:"Bc",get:function(){return this.ta.gc}},{key:"Vc",get:function(){return this.ra}}]),n}(Je);function xs(t,n,i){var r=Qu(t),e=2*r.length,u=2*n.length,s=new ArrayBuffer(4+e+4+u+4+i.byteLength),o=new DataView(s),c=new os;return Bu(o,c,e,!0),zu(o,c,r,!0),Bu(o,c,u,!0),zu(o,c,n,!0),Bu(o,c,i.byteLength,!0),function(t,n,i){is(t).set(is(i),n.dc),n.fc(i.byteLength)}(o,c,i),new _(s)}(As=n.ErrorCode||(n.ErrorCode={}))[As.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",As[As.LICENSE_ERROR=2e3]="LICENSE_ERROR",As[As.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",As[As.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",As[As.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",As[As.SOURCE_INVALID=3e3]="SOURCE_INVALID",As[As.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",As[As.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",As[As.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",As[As.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",As[As.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",As[As.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",As[As.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",As[As.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",As[As.MEDIA_ABORTED=5004]="MEDIA_ABORTED",As[As.NETWORK_ERROR=6e3]="NETWORK_ERROR",As[As.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",As[As.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",As[As.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",As[As.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",As[As.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",As[As.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",As[As.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",As[As.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",As[As.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",As[As.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",As[As.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",As[As.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",As[As.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",As[As.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",As[As.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",As[As.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",As[As.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",As[As.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",As[As.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",As[As.AD_ERROR=1e4]="AD_ERROR",As[As.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",As[As.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR",(Ns=n.ErrorCategory||(n.ErrorCategory={}))[Ns.CONFIGURATION=1]="CONFIGURATION",Ns[Ns.LICENSE=2]="LICENSE",Ns[Ns.SOURCE=3]="SOURCE",Ns[Ns.MANIFEST=4]="MANIFEST",Ns[Ns.MEDIA=5]="MEDIA",Ns[Ns.NETWORK=6]="NETWORK",Ns[Ns.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",Ns[Ns.SUBTITLE=8]="SUBTITLE",Ns[Ns.VR=9]="VR",Ns[Ns.AD=10]="AD",Ns[Ns.FULLSCREEN=11]="FULLSCREEN",function(t){(n.ErrorCategory||(n.ErrorCategory={})).fromCode=function(t){var i=l.floor(t/1e3);if(i in n.ErrorCategory)return i;throw new v("Invalid error code: "+t)}}();var Ps=function(t){function i(n,i,r){var e;return(e=t.call(this,i,r)||this).code=void 0,e.code=n,e}return $(i,t),H(i,[{key:"name",get:function(){return"THEOplayerError"}},{key:"category",get:function(){return n.ErrorCategory.fromCode(this.code)}}]),i}(sn),Ls=function(){function t(t,n){this._a=void 0,this.ga=t,this.fa=n}var i=t.prototype;return i.getInternalMediaKeys=function(){return this.ga},i.Hc=function(){var t=C.coroutine(Zr.mark(function t(i){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this._a){t.next=2;break}throw new Ps(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return t.abrupt("return",new Os(this.ga,this.fa,this._a));case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Wc=function(t){return this._a=es(t),C.resolve(!0)},i.$c=function(t){return t.webkitSetMediaKeys(this.ga),C.resolve()},i.zc=function(t){return t.webkitSetMediaKeys(null),C.resolve()},t}(),Fs=function(){function t(t,n){this.fa=void 0,this.Dc=t,this.da=n;var i=ks(n)||"video/mp4";this.fa=_s(i)}var n=t.prototype;return n.Kc=function(){return this.da},n.Yc=function(){return C.resolve(new Ls(new S.WebKitMediaKeys(this.Dc),this.fa))},H(t,[{key:"Jc",get:function(){return this.Dc}}]),t}(),Ms=function(){function t(){}return t.prototype.do=function(t,n){try{return C.resolve(function(t,n){if(t!==pe)throw new v(t+" is not supported with webkit-prefixed Encrypted Media Extensions.");if(!Bs())throw new v("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=ps(Us,nu,t,r);if(e)return new Fs(t,e)}throw new v("Unsupported key system configuration for "+t)}(t,n))}catch(t){return C.reject(t)}},t.Zc=function(){return Bs()},t}();function Bs(){return void 0!==S.WebKitMediaKeys&&"function"==typeof S.WebKitMediaKeys.isTypeSupported}function Us(t,n){return S.WebKitMediaKeys.isTypeSupported(t,n)}var Vs,qs=function(){function t(t){this.ma=t}return t.prototype.do=function(){var t=C.coroutine(Zr.mark(function t(n,i){var r,e,u;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.ma;case 1:if(!(r<e.length)){t.next=14;break}return u=e[r],t.prev=3,t.next=6,u.do(n,i);case 6:return t.abrupt("return",t.sent);case 9:t.prev=9,t.t0=t.catch(3);case 11:r++,t.next=1;break;case 14:throw new v("Unsupported key system configuration for "+n);case 15:case"end":return t.stop()}},t,this,[[3,9]])}));return function(n,i){return t.apply(this,arguments)}}(),t}(),js=function(t){function n(n){var i;return(i=t.call(this)||this).ia=void 0,i.la=void 0,i.ta=void 0,i.ka=!1,i.ba=void 0,i.Ta=void 0,i.Ea=void 0,i.Sa=void 0,i.Ra=void 0,i.Dc=n,i.ta=new cs,i.Ta="",i.Ra=new cs,i.Ea=new ou,i}$(n,t);var i=n.prototype;return i.Ia=function(){this.la&&(this.ca("usable"),this.la._c(void 0),this.la=void 0)},i.Ca=function(t){var n=new ds("Unknown CDM error",t.errorCode,t.systemCode);this.la?(this.la.pc(n),this.la=void 0):this.ia?(this.ia.pc(n),this.ia=void 0):n.mc===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.ca("output-restricted"):1===n.kc?this.ca("expired"):this.ca("internal-error")},i.Da=function(t){0!==t.message.byteLength&&(this.ia&&(this.ia._c(void 0),this.ia=void 0),this.Lo(new ru(this,"license-request",hs(this.Dc,ss(t.message).buffer),t.defaultURL||void 0)))},i.Aa=function(t){this.Sa||(this.Sa=t,this.Ra._c(t))},i.Oc=function(){var t=C.coroutine(Zr.mark(function t(){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed(),this.ka=!0,this.ta._c(void 0);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.xc=function(){var t=C.coroutine(Zr.mark(function t(n,i){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.ia=new cs,this.ba=es(i),t.t0=this.Sa,t.t0){t.next=8;break}return t.next=7,this.Ra.gc;case 7:t.t0=t.sent;case 8:return t.t0.webkitGenerateKeyRequest(this.Dc,this.ba),t.next=12,this.ia.gc;case 12:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Pc=function(){var t=C.coroutine(Zr.mark(function t(n){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.throwIfClosed(),t.abrupt("return",!1);case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Lc=function(){var t=C.coroutine(Zr.mark(function t(){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed();case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Fc=function(){var t=C.coroutine(Zr.mark(function t(n){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.la=new cs,t.t0=this.Sa,t.t0){t.next=7;break}return t.next=6,this.Ra.gc;case 6:t.t0=t.sent;case 7:return t.t0.webkitAddKey(this.Dc,es(n),this.ba,this.qc),t.next=11,this.la.gc;case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.throwIfClosed=function(){if(this.ka)throw new v("Already closing or closed.")},i.ca=function(t){this.Ea.oc(),this.Ea.sc(su,t),this.Lo(new iu(this))},H(n,[{key:"Vc",get:function(){return this.Ea}},{key:"qc",get:function(){return this.Ta},set:function(t){this.Ta=t}},{key:"Bc",get:function(){return this.ta.gc}},{key:"Uc",get:function(){return NaN}}]),n}(Je),Hs=function(){function t(t){var n=this;this.Sa=void 0,this.Na=ie(),this.Oa=[],this.oa=function(t){var i=n.xa(t.sessionId);i&&i.Ia()},this.Pa=function(t){var i=n.xa(t.sessionId);i&&i.Ca(t)},this.La=function(t){var i=n.xa(t.sessionId);i&&i.Da(t)},this.Dc=t}var n=t.prototype;return n.$c=function(t){return this.Sa=t,this.Sa.addEventListener("webkitkeyadded",this.oa),this.Sa.addEventListener("webkitkeyerror",this.Pa),this.Sa.addEventListener("webkitkeymessage",this.La),this.Na.forEach(function(n,i){return n.Aa(t)}),this.Oa.forEach(function(n){return n.Aa(t)}),C.resolve()},n.zc=function(t){return t.removeEventListener("webkitkeyadded",this.oa),t.removeEventListener("webkitkeyerror",this.Pa),t.removeEventListener("webkitkeymessage",this.La),this.Sa=void 0,C.resolve()},n.Hc=function(){var t=C.coroutine(Zr.mark(function t(n,i,r){var e;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new js(this.Dc),this.Sa&&e.Aa(this.Sa),this.Oa.push(e),t.abrupt("return",e);case 4:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),n.Wc=function(t){return C.resolve(!1)},n.xa=function(t){if(t){var n=this.Na.get(t);return n||((n=this.Oa.shift())?(n.qc=t,this.Na.set(t,n),n):void 0)}},t}(),Ws=function(){function t(t,n){this.Jc=t,this.Fa=n}var n=t.prototype;return n.Yc=function(){return C.resolve(new Hs(this.Jc))},n.Kc=function(){return this.Fa},t}(),$s=function(){function t(){}return t.prototype.do=function(t,n){try{return C.resolve(zs(t,n))}catch(t){return C.reject(t)}},t.Zc=function(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest},t}();function zs(t,n){if(!$s.Zc())throw new v("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=ps(Xs,tu,t,r);if(e)return new Ws(t,e)}throw new v("Unsupported key system configuration for "+t)}function Xs(t,n){var i=Lr();return!(!i||!i.canPlayType||""===i.canPlayType(n,t))}function Gs(){return Vs||(Vs=function(){var t=[];Ms.Zc()&&t.push(new Ms);Ts.Zc()&&t.push(new Ts);Is.Zc()&&t.push(new Is);$s.Zc()&&t.push(new $s);return new qs(t)}()),Vs}var Ys=function(){function t(){this.Ma=ie()}var n=t.prototype;return n.oc=function(t){this.Ma.delete(t)},n.Ba=function(){this.Ma.clear()},n.ec=function(t){return this.Ma.get(t)},n.Ua=function(t,n){this.Ma.set(t,n)},t}(),Ks=function(){function t(){}return t.Va=function(){return t.Ye||(t.Ye=Js.Zc()?new Js:new Ys),t.Ye},t.oc=function(n){t.Va().oc(n)},t.Ba=function(){t.Va().Ba()},t.ec=function(n){return t.Va().ec(n)},t.Ua=function(n,i){t.Va().Ua(n,i)},t}();Ks.Ye=void 0;var Js=function(n){function i(){return n.apply(this,arguments)||this}$(i,n),i.Zc=function(){try{return t.sessionStorage.setItem("foobar","foobar"),t.sessionStorage.removeItem("foobar"),!0}catch(t){return!1}};var r=i.prototype;return r.oc=function(n){t.sessionStorage.removeItem(n)},r.Ba=function(){t.sessionStorage.clear()},r.ec=function(n){return t.sessionStorage[n]},r.Ua=function(n,i){t.sessionStorage[n]=i},i}(Ks);var Qs=function(){var n,i=t.Blob;if(i)try{return new i,n=i,function(t,i){return new n(t,i)}}catch(t){}var r,e=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder;return e?(r=e,function(t,n){var i=new r;if(t)for(var e=0;e<t.length;e++){var u=t[e];i.append(u)}return i.getBlob(n&&n.type||"")}):null}();function Zs(t,n,i){var r=Qs([n],{type:"application/octet-stream"}),u=URL.createObjectURL(r),s=function(t,n){var i=t,r=i.indexOf("?");if(r>=0&&(i=i.substr(0,r)),i=i.substr(i.lastIndexOf("/")+1),n){var e=i.indexOf(".");e<0&&(e=i.length),i=i.substr(0,e)+n+i.substr(e)}return i}(t,i),o=e.createElement("a");o.href=u,o.download=s,e.body.appendChild(o),o.click(),e.body.removeChild(o),URL.revokeObjectURL(u)}var to,no;!function(t){t.qa="ja",t.Ha="Wa",t.$a="contentprotectionerror",t.za="contentprotectionsuccess",t.Xa="currentsourcechange",t.Ga="destroy",t.Ya="durationchange",t.Ka="emptied",t.Jo="encrypted",t.Ja="ended",t.Qa="Za",t.tf="loadstart",t.nf="manifestupdate",t.if="nosupportedrepresentationfound",t.rf="offline",t.ef="online",t.uf="pause",t.sf="play",t.cf="progress",t.af="ratechange",t.ff="representationchange",t.hf="resize",t.vf="seeked",t.df="seeking",t.lf="segmentnotfound",t.wf="yf",t.gf="_f",t.pf="sourcechange",t.mf="timeupdate",t.kf="volumechange",t.bf="Tf",t.Ef="metricschange"}(to||(to={})),function(t){t.Sf="arraybuffer",t.Rf="json",t.If="stream",t.tu="text"}(no||(no={}));var io=function(){function t(n){var i=this;this.Js=void 0,this.Js={},n instanceof t?n.asList().forEach(function(t){var n=t[0],r=t[1];i.append(n,r)}):Array.isArray(n)?n.forEach(function(t){i.append(t[0],t[1])}):n&&d.getOwnPropertyNames(n).forEach(function(t){i.append(t,n[t])})}var n=t.prototype;return n.append=function(t,n){var i=t,r=n;i=ro(i),r=eo(r);var e=i.toLowerCase();if(this.Js.hasOwnProperty(e)){var u=this.Js[e],s=u[1];u[1]=s?s+", "+r:r}else this.Js[e]=[i,r]},n.delete=function(t){var n=ro(t).toLowerCase();delete this.Js[n]},n.get=function(t){var n=ro(t).toLowerCase();return this.Js.hasOwnProperty(n)?this.Js[n][1]:null},n.has=function(t){var n=ro(t).toLowerCase();return this.Js.hasOwnProperty(n)},n.set=function(t,n){var i=t,r=(i=ro(i)).toLowerCase();this.Js[r]=[i,eo(n)]},n.forEach=function(t,n){for(var i in this.Js)this.Js.hasOwnProperty(i)&&t.call(n,this.Js[i][1],i,this)},n.asList=function(){var t=[];for(var n in this.Js)if(this.Js.hasOwnProperty(n)){var i=this.Js[n],r=i[0],e=i[1];t.push([r,e])}return t},n.Cf=function(){var t={};return this.forEach(function(n,i){t[i]=n}),t},n.Df=function(t){var n=this;t.forEach(function(t,i){n.append(i,t)})},n.Af=function(t){var n=this;t.forEach(function(t,i){n.set(i,t)})},t}();function ro(t){var n=t;if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(n))throw new v("Invalid character in header field name");return n}function eo(t){var n=t;return"string"!=typeof n&&(n=String(n)),n}var uo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(t){return"Symbol("+t+")"};function so(){}var oo=Number.isNaN||function(t){return t!=t},co=so;function ao(t){return"object"==typeof t&&null!==t||"function"==typeof t}function fo(t){return t.slice()}function ho(t){return!1!==function(t){if("number"!=typeof t)return!1;if(oo(t))return!1;if(t<0)return!1;return!0}(t)&&t!==1/0}function vo(t,n,i){if("function"!=typeof t)throw new v("Argument is not a function");return Function.prototype.apply.call(t,n,i)}function lo(t,n,i,r){var e=t[n];if(void 0!==e){if("function"!=typeof e)throw new v(e+" is not a method");switch(i){case 0:return function(){return yo(e,t,r)};case 1:return function(n){var i=[n].concat(r);return yo(e,t,i)}}}return function(){return So(void 0)}}function wo(t,n,i){var r=t[n];if(void 0!==r)return vo(r,t,i)}function yo(t,n,i){try{return So(vo(t,n,i))}catch(t){return Ro(t)}}function go(t){return t}function _o(t){if(t=Number(t),oo(t)||t<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return t}function po(t){if(void 0===t)return function(){return 1};if("function"!=typeof t)throw new v("size property of a queuing strategy must be a function");return function(n){return t(n)}}var mo=C,ko=C.prototype.then,bo=C.resolve.bind(mo),To=C.reject.bind(mo);function Eo(t){return new mo(t)}function So(t){return bo(t)}function Ro(t){return To(t)}function Io(t,n,i){return ko.call(t,n,i)}function Co(t,n,i){Io(Io(t,n,i),void 0,co)}function Do(t,n){Co(t,n)}function Ao(t,n){Co(t,void 0,n)}function No(t,n,i){return Io(t,n,i)}function Oo(t){Io(t,void 0,co)}var xo=function(){function t(){this.Nf=0,this.Of=0,this.mi={xf:[],Pf:void 0},this.Lf=this.mi,this.Nf=0,this.Of=0}return d.defineProperty(t.prototype,"length",{get:function(){return this.Of},enumerable:!0,configurable:!0}),t.prototype.push=function(t){var n=this.Lf,i=n;16383===n.xf.length&&(i={xf:[],Pf:void 0}),n.xf.push(t),i!==n&&(this.Lf=i,n.Pf=i),++this.Of},t.prototype.shift=function(){var t=this.mi,n=t,i=this.Nf,r=i+1,e=t.xf,u=e[i];return 16384===r&&(n=t.Pf,r=0),--this.Of,this.Nf=r,t!==n&&(this.mi=n),e[i]=void 0,u},t.prototype.forEach=function(t){for(var n=this.Nf,i=this.mi,r=i.xf;!(n===r.length&&void 0===i.Pf||n===r.length&&(n=0,0===(r=(i=i.Pf).xf).length));)t(r[n]),++n},t.prototype.peek=function(){var t=this.mi,n=this.Nf;return t.xf[n]},t}();function Po(t,n,i){var r=null;!0===i&&(r=d.prototype);var e=d.create(r);return e.value=t,e.done=n,e}function Lo(t,n){t.Ff=!0,t.Mf=n,n.Bf=t,"readable"===n.Uf?Uo(t):"closed"===n.Uf?function(t){Uo(t),jo(t)}(t):Vo(t,n.Vf)}function Fo(t,n){return za(t.Mf,n)}function Mo(t){"readable"===t.Mf.Uf?qo(t,new v("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,n){Vo(t,n)}(t,new v("Reader was released and can no longer be used to monitor the stream's closedness")),t.Mf.Bf=void 0,t.Mf=void 0}function Bo(t){return new v("Cannot "+t+" a stream using a released reader")}function Uo(t){t.Ec=Eo(function(n,i){t.qf=n,t.jf=i})}function Vo(t,n){Uo(t),qo(t,n)}function qo(t,n){Oo(t.Ec),t.jf(n),t.qf=void 0,t.jf=void 0}function jo(t){t.qf(void 0),t.qf=void 0,t.jf=void 0}var Ho=uo("[[CancelSteps]]"),Wo=uo("[[PullSteps]]");function $o(t,n){void 0===n&&(n=!1);var i=new Qo(t);return i.Ff=n,i}function zo(t){return Eo(function(n,i){var r={Fn:n,V:i};t.Bf.Hf.push(r)})}function Xo(t,n,i){var r=t.Bf;r.Hf.shift().Fn(Po(n,i,r.Ff))}function Go(t){return t.Bf.Hf.length}function Yo(t){var n=t.Bf;return void 0!==n&&!!Zo(n)}var Ko,Jo,Qo=function(){function t(t){if(!1===Wa(t))throw new v("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===$a(t))throw new v("This stream has already been locked for exclusive reading by another reader");Lo(this,t),this.Hf=new xo}return d.defineProperty(t.prototype,"closed",{get:function(){return Zo(this)?this.Ec:Ro(nc("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return Zo(this)?void 0===this.Mf?Ro(Bo("cancel")):Fo(this,t):Ro(nc("cancel"))},t.prototype.read=function(){return Zo(this)?void 0===this.Mf?Ro(Bo("read from")):tc(this):Ro(nc("read"))},t.prototype.releaseLock=function(){if(!Zo(this))throw nc("releaseLock");if(void 0!==this.Mf){if(this.Hf.length>0)throw new v("Tried to release a reader lock when that reader has pending read() calls un-settled");Mo(this)}},t}();function Zo(t){return!!ao(t)&&!!d.prototype.hasOwnProperty.call(t,"Hf")}function tc(t){var n=t.Mf;return n.Wf=!0,"closed"===n.Uf?So(Po(void 0,!0,t.Ff)):"errored"===n.Uf?Ro(n.Vf):n.$f[Wo]()}function nc(t){return new v("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}"symbol"==typeof uo.asyncIterator&&((Ko={})[uo.asyncIterator]=function(){return this},Jo=Ko,d.defineProperty(Jo,uo.asyncIterator,{enumerable:!1}));var ic={next:function(){if(!1===rc(this))return Ro(ec("next"));var t=this.zf;return void 0===t.Mf?Ro(Bo("iterate")):No(tc(t),function(n){var i=n.done;return i&&Mo(t),Po(n.value,i,!0)})},return:function(t){if(!1===rc(this))return Ro(ec("next"));var n=this.zf;if(void 0===n.Mf)return Ro(Bo("finish iterating"));if(n.Hf.length>0)return Ro(new v("Tried to release a reader lock when that reader has pending read() calls un-settled"));if(!1===this.Xf){var i=Fo(n,t);return Mo(n),No(i,function(){return Po(t,!0,!0)})}return Mo(n),So(Po(t,!0,!0))}};function rc(t){return!!ao(t)&&!!d.prototype.hasOwnProperty.call(t,"zf")}function ec(t){return new v("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}function uc(t){var n=t.An.shift();return t.Gf-=n.size,t.Gf<0&&(t.Gf=0),n.value}function sc(t,n,i){if(!ho(i=Number(i)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");t.An.push({value:n,size:i}),t.Gf+=i}function oc(t){t.An=new xo,t.Gf=0}void 0!==Jo&&d.setPrototypeOf(ic,Jo),d.defineProperty(ic,"next",{enumerable:!1}),d.defineProperty(ic,"return",{enumerable:!1});var cc=uo("[[AbortSteps]]"),ac=uo("[[ErrorSteps]]"),fc=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),vc(this);var i=n.size,r=n.highWaterMark;if(void 0!==t.type)throw new RangeError("Invalid type is specified");var e=po(i);void 0===r&&(r=1),function(t,n,i,r){var e=d.create(Ac.prototype);var u=lo(n,"write",1,[e]),s=lo(n,"close",0,[]),o=lo(n,"abort",1,[]);Nc(t,e,function(){return wo(n,"start",[e])},u,s,o,i,r)}(this,t,r=_o(r),e)}return d.defineProperty(t.prototype,"locked",{get:function(){if(!1===dc(this))throw Bc("locked");return lc(this)},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===dc(this)?Ro(Bc("abort")):!0===lc(this)?Ro(new v("Cannot abort a stream that already has a writer")):wc(this,t)},t.prototype.close=function(){return!1===dc(this)?Ro(Bc("close")):!0===lc(this)?Ro(new v("Cannot close a stream that already has a writer")):!0===mc(this)?Ro(new v("Cannot close an already-closing stream")):yc(this)},t.prototype.getWriter=function(){if(!1===dc(this))throw Bc("getWriter");return hc(this)},t}();function hc(t){return new Tc(t)}function vc(t){t.Uf="writable",t.Vf=void 0,t.Yf=void 0,t.Kf=void 0,t.Jf=new xo,t.Qf=void 0,t.Zf=void 0,t.th=void 0,t.nh=void 0,t.ih=!1}function dc(t){return!!ao(t)&&!!d.prototype.hasOwnProperty.call(t,"Kf")}function lc(t){return void 0!==t.Yf}function wc(t,n){var i=t.Uf;if("closed"===i||"errored"===i)return So(void 0);if(void 0!==t.nh)return t.nh.un;var r=!1;"erroring"===i&&(r=!0,n=void 0);var e=Eo(function(i,e){t.nh={un:void 0,Fn:i,V:e,Sn:n,rh:r}});return t.nh.un=e,!1===r&&_c(t,n),e}function yc(t){var n=t.Uf;if("closed"===n||"errored"===n)return Ro(new v("The stream (in "+n+" state) is not in the writable state and cannot be closed"));var i,r=Eo(function(n,i){var r={Fn:n,V:i};t.Zf=r}),e=t.Yf;return void 0!==e&&!0===t.ih&&"writable"===n&&Yc(e),sc(i=t.Kf,"close",0),Pc(i),r}function gc(t,n){"writable"!==t.Uf?pc(t):_c(t,n)}function _c(t,n){var i=t.Kf;t.Uf="erroring",t.Vf=n;var r=t.Yf;void 0!==r&&Ic(r,n),!1===function(t){if(void 0===t.Qf&&void 0===t.th)return!1;return!0}(t)&&!0===i.eh&&pc(t)}function pc(t){t.Uf="errored",t.Kf[ac]();var n=t.Vf;if(t.Jf.forEach(function(t){t.V(n)}),t.Jf=new xo,void 0!==t.nh){var i=t.nh;if(t.nh=void 0,!0===i.rh)return i.V(n),void kc(t);Co(t.Kf[cc](i.Sn),function(){i.Fn(),kc(t)},function(n){i.V(n),kc(t)})}else kc(t)}function mc(t){return void 0!==t.Zf||void 0!==t.th}function kc(t){void 0!==t.Zf&&(t.Zf.V(t.Vf),t.Zf=void 0);var n=t.Yf;void 0!==n&&Hc(n,t.Vf)}function bc(t,n){var i=t.Yf;void 0!==i&&n!==t.ih&&(!0===n?function(t){$c(t)}(i):Yc(i)),t.ih=n}var Tc=function(){function t(t){if(!1===dc(t))throw new v("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===lc(t))throw new v("This stream has already been locked for exclusive writing by another writer");this.uh=t,t.Yf=this;var n,i=t.Uf;if("writable"===i)!1===mc(t)&&!0===t.ih?$c(this):Xc(this),qc(this);else if("erroring"===i)zc(this,t.Vf),qc(this);else if("closed"===i)Xc(this),qc(n=this),Wc(n);else{var r=t.Vf;zc(this,r),jc(this,r)}}return d.defineProperty(t.prototype,"closed",{get:function(){return!1===Ec(this)?Ro(Uc("closed")):this.Ec},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Ec(this))throw Uc("desiredSize");if(void 0===this.uh)throw Vc("desiredSize");return function(t){var n=t.uh,i=n.Uf;if("errored"===i||"erroring"===i)return null;if("closed"===i)return 0;return xc(n.Kf)}(this)},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"ready",{get:function(){return!1===Ec(this)?Ro(Uc("ready")):this.sh},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===Ec(this)?Ro(Uc("abort")):void 0===this.uh?Ro(Vc("abort")):function(t,n){return wc(t.uh,n)}(this,t)},t.prototype.close=function(){if(!1===Ec(this))return Ro(Uc("close"));var t=this.uh;return void 0===t?Ro(Vc("close")):!0===mc(t)?Ro(new v("Cannot close an already-closing stream")):Sc(this)},t.prototype.releaseLock=function(){if(!1===Ec(this))throw Uc("releaseLock");void 0!==this.uh&&Cc(this)},t.prototype.write=function(t){return!1===Ec(this)?Ro(Uc("write")):void 0===this.uh?Ro(Vc("write to")):Dc(this,t)},t}();function Ec(t){return!!ao(t)&&!!d.prototype.hasOwnProperty.call(t,"uh")}function Sc(t){return yc(t.uh)}function Rc(t,n){"pending"===t.oh?Hc(t,n):function(t,n){jc(t,n)}(t,n)}function Ic(t,n){"pending"===t.ah?Gc(t,n):function(t,n){zc(t,n)}(t,n)}function Cc(t){var n=t.uh,i=new v("Writer was released and can no longer be used to monitor the stream's closedness");Ic(t,i),Rc(t,i),n.Yf=void 0,t.uh=void 0}function Dc(t,n){var i=t.uh,r=i.Kf,e=function(t,n){try{return t.fh(n)}catch(n){return Lc(t,n),1}}(r,n);if(i!==t.uh)return Ro(Vc("write to"));var u=i.Uf;if("errored"===u)return Ro(i.Vf);if(!0===mc(i)||"closed"===u)return Ro(new v("The stream is closing or closed and cannot be written to"));if("erroring"===u)return Ro(i.Vf);var s=function(t){return Eo(function(n,i){var r={Fn:n,V:i};t.Jf.push(r)})}(i);return function(t,n,i){var r={chunk:n};try{sc(t,r,i)}catch(n){return void Lc(t,n)}var e=t.hh;if(!1===mc(e)&&"writable"===e.Uf){var u=Fc(t);bc(e,u)}Pc(t)}(r,n,e),s}var Ac=function(){function t(){throw new v("WritableStreamDefaultController cannot be constructed explicitly")}return t.prototype.error=function(t){if(!1===function(t){if(!ao(t))return!1;if(!d.prototype.hasOwnProperty.call(t,"hh"))return!1;return!0}(this))throw new v("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this.hh.Uf&&Mc(this,t)},t.prototype[cc]=function(t){var n=this.vh(t);return Oc(this),n},t.prototype[ac]=function(){oc(this)},t}();function Nc(t,n,i,r,e,u,s,o){n.hh=t,t.Kf=n,n.An=void 0,n.Gf=void 0,oc(n),n.eh=!1,n.fh=o,n.dh=s,n.lh=r,n.wh=e,n.vh=u;var c=Fc(n);bc(t,c),Co(So(i()),function(){n.eh=!0,Pc(n)},function(i){n.eh=!0,gc(t,i)})}function Oc(t){t.lh=void 0,t.wh=void 0,t.vh=void 0,t.fh=void 0}function xc(t){return t.dh-t.Gf}function Pc(t){var n=t.hh;if(!1!==t.eh&&void 0===n.Qf)if("erroring"!==n.Uf){if(0!==t.An.length){var i=t.An.peek().value;"close"===i?function(t){var n=t.hh;(function(t){t.th=t.Zf,t.Zf=void 0})(n),uc(t);var i=t.wh();Oc(t),Co(i,function(){!function(t){t.th.Fn(void 0),t.th=void 0,"erroring"===t.Uf&&(t.Vf=void 0,void 0!==t.nh&&(t.nh.Fn(),t.nh=void 0)),t.Uf="closed";var n=t.Yf;void 0!==n&&Wc(n)}(n)},function(t){!function(t,n){t.th.V(n),t.th=void 0,void 0!==t.nh&&(t.nh.V(n),t.nh=void 0),gc(t,n)}(n,t)})}(t):function(t,n){var i=t.hh;(function(t){t.Qf=t.Jf.shift()})(i),Co(t.lh(n),function(){!function(t){t.Qf.Fn(void 0),t.Qf=void 0}(i);var n=i.Uf;if(uc(t),!1===mc(i)&&"writable"===n){var r=Fc(t);bc(i,r)}Pc(t)},function(n){"writable"===i.Uf&&Oc(t),function(t,n){t.Qf.V(n),t.Qf=void 0,gc(t,n)}(i,n)})}(t,i.chunk)}}else pc(n)}function Lc(t,n){"writable"===t.hh.Uf&&Mc(t,n)}function Fc(t){return xc(t)<=0}function Mc(t,n){var i=t.hh;Oc(t),_c(i,n)}function Bc(t){return new v("WritableStream.prototype."+t+" can only be used on a WritableStream")}function Uc(t){return new v("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function Vc(t){return new v("Cannot "+t+" a stream using a released writer")}function qc(t){t.Ec=Eo(function(n,i){t.qf=n,t.jf=i,t.oh="pending"})}function jc(t,n){qc(t),Hc(t,n)}function Hc(t,n){Oo(t.Ec),t.jf(n),t.qf=void 0,t.jf=void 0,t.oh="rejected"}function Wc(t){t.qf(void 0),t.qf=void 0,t.jf=void 0,t.oh="resolved"}function $c(t){t.sh=Eo(function(n,i){t.yh=n,t.gh=i}),t.ah="pending"}function zc(t,n){$c(t),Gc(t,n)}function Xc(t){$c(t),Yc(t)}function Gc(t,n){Oo(t.sh),t.gh(n),t.yh=void 0,t.gh=void 0,t.ah="rejected"}function Yc(t){t.yh(void 0),t.yh=void 0,t.gh=void 0,t.ah="fulfilled"}function Kc(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}var Jc="undefined"!=typeof DOMException?DOMException:void 0;var Qc,Zc=function(t){if("function"!=typeof t&&"object"!=typeof t)return!1;try{return new t,!0}catch(t){return!1}}(Jc)?Jc:((Qc=function(t,n){this.message=t||"",this.name=n||"Error",h.captureStackTrace&&h.captureStackTrace(this,this.constructor)}).prototype=d.create(h.prototype),d.defineProperty(Qc.prototype,"constructor",{value:Qc,writable:!0,configurable:!0}),Qc);function ta(t,n,i,r,e,u){var s=$o(t),o=hc(n);t.Wf=!0;var c=!1,a=So(void 0);return Eo(function(f,h){var d,l,w,y;if(void 0!==u){if(d=function(){var i=new Zc("Aborted","AbortError"),u=[];!1===r&&u.push(function(){return"writable"===n.Uf?wc(n,i):So(void 0)}),!1===e&&u.push(function(){return"readable"===t.Uf?za(t,i):So(void 0)}),m(function(){return C.all(u.map(function(t){return t()}))},!0,i)},!0===u.aborted)return void d();u.addEventListener("abort",d)}if(p(t,s.Ec,function(t){!1===r?m(function(){return wc(n,t)},!0,t):k(!0,t)}),p(n,o.Ec,function(n){!1===e?m(function(){return za(t,n)},!0,n):k(!0,n)}),l=t,w=s.Ec,y=function(){!1===i?m(function(){return function(t){var n=t.uh,i=n.Uf;return!0===mc(n)||"closed"===i?So(void 0):"errored"===i?Ro(n.Vf):Sc(t)}(o)}):k()},"closed"===l.Uf?y():Do(w,y),!0===mc(n)||"closed"===n.Uf){var g=new v("the destination writable stream closed before all data could be piped to it");!1===e?m(function(){return za(t,g)},!0,g):k(!0,g)}function _(){var t=a;return Io(a,function(){return t!==a?_():void 0})}function p(t,n,i){"errored"===t.Uf?i(t.Vf):Ao(n,i)}function m(t,i,r){function e(){Co(t(),function(){return b(i,r)},function(t){return b(!0,t)})}!0!==c&&(c=!0,"writable"===n.Uf&&!1===mc(n)?Do(_(),e):e())}function k(t,i){!0!==c&&(c=!0,"writable"===n.Uf&&!1===mc(n)?Do(_(),function(){return b(t,i)}):b(t,i))}function b(t,n){Cc(o),Mo(s),void 0!==u&&u.removeEventListener("abort",d),t?h(n):f(void 0)}Oo(Eo(function(t,n){!function i(r){r?t():Io(!0===c?So(!0):Io(o.sh,function(){return Io(tc(s),function(t){return!0===t.done||(a=Io(Dc(o,t.value),void 0,so),!1)})}),i,n)}(!1)}))})}var na=function(){function t(){throw new v}return d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===ia(this))throw va("desiredSize");return aa(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===ia(this))throw va("close");if(!1===fa(this))throw new v("The stream is not in a state that permits close");sa(this)},t.prototype.enqueue=function(t){if(!1===ia(this))throw va("enqueue");if(!1===fa(this))throw new v("The stream is not in a state that permits enqueue");return oa(this,t)},t.prototype.error=function(t){if(!1===ia(this))throw va("error");ca(this,t)},t.prototype[Ho]=function(t){oc(this);var n=this._h(t);return ua(this),n},t.prototype[Wo]=function(){var t=this.ph;if(this.An.length>0){var n=uc(this);return!0===this.mh&&0===this.An.length?(ua(this),Xa(t)):ra(this),So(Po(n,!1,t.Bf.Ff))}var i=zo(t);return ra(this),i},t}();function ia(t){return!!ao(t)&&!!d.prototype.hasOwnProperty.call(t,"ph")}function ra(t){!1!==ea(t)&&(!0!==t.kh?(t.kh=!0,Co(t.bh(),function(){t.kh=!1,!0===t.Th&&(t.Th=!1,ra(t))},function(n){ca(t,n)})):t.Th=!0)}function ea(t){var n=t.ph;return!1!==fa(t)&&(!1!==t.eh&&(!0===$a(n)&&Go(n)>0||aa(t)>0))}function ua(t){t.bh=void 0,t._h=void 0,t.fh=void 0}function sa(t){var n=t.ph;t.mh=!0,0===t.An.length&&(ua(t),Xa(n))}function oa(t,n){var i=t.ph;if(!0===$a(i)&&Go(i)>0)Xo(i,n,!1);else{var r=void 0;try{r=t.fh(n)}catch(n){throw ca(t,n),n}try{sc(t,n,r)}catch(n){throw ca(t,n),n}}ra(t)}function ca(t,n){var i=t.ph;"readable"===i.Uf&&(oc(t),ua(t),Ga(i,n))}function aa(t){var n=t.ph.Uf;return"errored"===n?null:"closed"===n?0:t.dh-t.Gf}function fa(t){var n=t.ph.Uf;return!1===t.mh&&"readable"===n}function ha(t,n,i,r,e,u,s){n.ph=t,n.An=void 0,n.Gf=void 0,oc(n),n.eh=!1,n.mh=!1,n.Th=!1,n.kh=!1,n.fh=s,n.dh=u,n.bh=r,n._h=e,t.$f=n,Co(So(i()),function(){n.eh=!0,ra(n)},function(t){ca(n,t)})}function va(t){return new v("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}var da=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&l.floor(t)===t},la=function(){function t(){throw new v("ReadableStreamBYOBRequest cannot be used directly")}return d.defineProperty(t.prototype,"view",{get:function(){if(!1===ga(this))throw xa("view");return this.Eh},enumerable:!0,configurable:!0}),t.prototype.respond=function(t){if(!1===ga(this))throw xa("respond");if(void 0===this.Sh)throw new v("This BYOB request has been invalidated");this.Eh.buffer,function(t,n){if(!1===ho(n=Number(n)))throw new RangeError("bytesWritten must be a finite");Ia(t,n)}(this.Sh,t)},t.prototype.respondWithNewView=function(t){if(!1===ga(this))throw xa("respond");if(void 0===this.Sh)throw new v("This BYOB request has been invalidated");if(!ArrayBuffer.isView(t))throw new v("You can only respond with array buffer views");t.buffer,function(t,n){var i=t.Rh.peek();if(i.byteOffset+i.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.byteLength!==n.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");i.buffer=n.buffer,Ia(t,n.byteLength)}(this.Sh,t)},t}(),wa=function(){function t(){throw new v("ReadableByteStreamController constructor cannot be used directly")}return d.defineProperty(t.prototype,"byobRequest",{get:function(){if(!1===ya(this))throw Pa("byobRequest");if(void 0===this.Ih&&this.Rh.length>0){var t=this.Rh.peek(),n=new _(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),i=d.create(la.prototype);!function(t,n,i){t.Sh=n,t.Eh=i}(i,this,n),this.Ih=i}return this.Ih},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===ya(this))throw Pa("desiredSize");return Na(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===ya(this))throw Pa("close");if(!0===this.mh)throw new v("The stream has already been closed; do not close it again!");var t=this.Ch.Uf;if("readable"!==t)throw new v("The stream (in "+t+" state) is not in the readable state and cannot be closed");!function(t){var n=t.Ch;if(t.Gf>0)return void(t.mh=!0);if(t.Rh.length>0){var i=t.Rh.peek();if(i.bytesFilled>0){var r=new v("Insufficient bytes to fill elements in the given buffer");throw Aa(t,r),r}}Da(t),Xa(n)}(this)},t.prototype.enqueue=function(t){if(!1===ya(this))throw Pa("enqueue");if(!0===this.mh)throw new v("stream is closed or draining");var n=this.Ch.Uf;if("readable"!==n)throw new v("The stream (in "+n+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(t))throw new v("You can only enqueue array buffer views when using a ReadableByteStreamController");t.buffer,function(t,n){var i=t.Ch,r=n.buffer,e=n.byteOffset,u=n.byteLength,s=go(r);if(!0===Yo(i))if(0===Go(i))ka(t,s,e,u);else{var o=new _(s,e,u);Xo(i,o,!1)}else!0===Ma(i)?(ka(t,s,e,u),Ra(t)):ka(t,s,e,u);_a(t)}(this,t)},t.prototype.error=function(t){if(!1===ya(this))throw Pa("error");Aa(this,t)},t.prototype[Ho]=function(t){this.Rh.length>0&&(this.Rh.peek().bytesFilled=0);oc(this);var n=this._h(t);return Da(this),n},t.prototype[Wo]=function(){var t=this.Ch;if(this.Gf>0){var n=this.An.shift();this.Gf-=n.byteLength,Ea(this);var i=void 0;try{i=new _(n.buffer,n.byteOffset,n.byteLength)}catch(t){return Ro(t)}return So(Po(i,!1,t.Bf.Ff))}var r=this.Dh;if(void 0!==r){var e=void 0;try{e=new ArrayBuffer(r)}catch(t){return Ro(t)}var u={buffer:e,byteOffset:0,byteLength:r,bytesFilled:0,elementSize:1,ctor:_,readerType:"default"};this.Rh.push(u)}var s=zo(t);return _a(this),s},t}();function ya(t){return!!ao(t)&&!!d.prototype.hasOwnProperty.call(t,"Ch")}function ga(t){return!!ao(t)&&!!d.prototype.hasOwnProperty.call(t,"Sh")}function _a(t){!1!==function(t){var n=t.Ch;if("readable"!==n.Uf)return!1;if(!0===t.mh)return!1;if(!1===t.eh)return!1;if(!0===Yo(n)&&Go(n)>0)return!0;if(!0===Ma(n)&&Fa(n)>0)return!0;if(Na(t)>0)return!0;return!1}(t)&&(!0!==t.kh?(t.kh=!0,Co(t.bh(),function(){t.kh=!1,!0===t.Th&&(t.Th=!1,_a(t))},function(n){Aa(t,n)})):t.Th=!0)}function pa(t,n){var i=!1;"closed"===t.Uf&&(i=!0);var r=ma(n);"default"===n.readerType?Xo(t,r,i):function(t,n,i){var r=t.Bf;r.Ah.shift().Fn(Po(n,i,r.Ff))}(t,r,i)}function ma(t){var n=t.bytesFilled,i=t.elementSize;return new t.ctor(t.buffer,t.byteOffset,n/i)}function ka(t,n,i,r){t.An.push({buffer:n,byteOffset:i,byteLength:r}),t.Gf+=r}function ba(t,n){var i=n.elementSize,r=n.bytesFilled-n.bytesFilled%i,e=l.min(t.Gf,n.byteLength-n.bytesFilled),u=n.bytesFilled+e,s=u-u%i,o=e,c=!1;s>r&&(o=s-n.bytesFilled,c=!0);for(var a,f,h,v,d,w=t.An;o>0;){var y=w.peek(),g=l.min(o,y.byteLength),p=n.byteOffset+n.bytesFilled;a=n.buffer,f=p,h=y.buffer,v=y.byteOffset,d=g,new _(a).set(new _(h,v,d),f),y.byteLength===g?w.shift():(y.byteOffset+=g,y.byteLength-=g),t.Gf-=g,Ta(t,g,n),o-=g}return c}function Ta(t,n,i){Sa(t),i.bytesFilled+=n}function Ea(t){0===t.Gf&&!0===t.mh?(Da(t),Xa(t.Ch)):_a(t)}function Sa(t){void 0!==t.Ih&&(t.Ih.Sh=void 0,t.Ih.Eh=void 0,t.Ih=void 0)}function Ra(t){for(;t.Rh.length>0;){if(0===t.Gf)return;var n=t.Rh.peek();!0===ba(t,n)&&(Ca(t),pa(t.Ch,n))}}function Ia(t,n){var i=t.Rh.peek();if("closed"===t.Ch.Uf){if(0!==n)throw new v("bytesWritten must be 0 when calling respond() on a closed stream");!function(t,n){n.buffer=go(n.buffer);var i=t.Ch;if(!0===Ma(i))for(;Fa(i)>0;)pa(i,Ca(t))}(t,i)}else!function(t,n,i){if(i.bytesFilled+n>i.byteLength)throw new RangeError("bytesWritten out of range");if(Ta(t,n,i),!(i.bytesFilled<i.elementSize)){Ca(t);var r=i.bytesFilled%i.elementSize;if(r>0){var e=i.byteOffset+i.bytesFilled,u=i.buffer.slice(e-r,e);ka(t,u,0,u.byteLength)}i.buffer=go(i.buffer),i.bytesFilled-=r,pa(t.Ch,i),Ra(t)}}(t,n,i);_a(t)}function Ca(t){var n=t.Rh.shift();return Sa(t),n}function Da(t){t.bh=void 0,t._h=void 0}function Aa(t,n){var i=t.Ch;"readable"===i.Uf&&(!function(t){Sa(t),t.Rh=new xo}(t),oc(t),Da(t),Ga(i,n))}function Na(t){var n=t.Ch.Uf;return"errored"===n?null:"closed"===n?0:t.dh-t.Gf}function Oa(t,n,i){var r=d.create(wa.prototype);var e=lo(n,"pull",0,[r]),u=lo(n,"cancel",1,[]),s=n.autoAllocateChunkSize;if(void 0!==s&&(s=Number(s),!1===da(s)||s<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");!function(t,n,i,r,e,u,s){n.Ch=t,n.Th=!1,n.kh=!1,n.Ih=void 0,n.An=n.Gf=void 0,oc(n),n.mh=!1,n.eh=!1,n.dh=_o(u),n.bh=r,n._h=e,n.Dh=s,n.Rh=new xo,t.$f=n,Co(So(i()),function(){n.eh=!0,_a(n)},function(t){Aa(n,t)})}(t,r,function(){return wo(n,"start",[r])},e,u,i,s)}function xa(t){return new v("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function Pa(t){return new v("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function La(t){return Eo(function(n,i){var r={Fn:n,V:i};t.Bf.Ah.push(r)})}function Fa(t){return t.Bf.Ah.length}function Ma(t){var n=t.Bf;return void 0!==n&&!!Ua(n)}var Ba=function(){function t(t){if(!Wa(t))throw new v("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===ya(t.$f))throw new v("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if($a(t))throw new v("This stream has already been locked for exclusive reading by another reader");Lo(this,t),this.Ah=new xo}return d.defineProperty(t.prototype,"closed",{get:function(){return Ua(this)?this.Ec:Ro(Va("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return Ua(this)?void 0===this.Mf?Ro(Bo("cancel")):Fo(this,t):Ro(Va("cancel"))},t.prototype.read=function(t){return Ua(this)?void 0===this.Mf?Ro(Bo("read from")):ArrayBuffer.isView(t)?(t.buffer,0===t.byteLength?Ro(new v("view must have non-zero byteLength")):function(t,n){var i=t.Mf;if(i.Wf=!0,"errored"===i.Uf)return Ro(i.Vf);return function(t,n){var i=t.Ch,r=1;n.constructor!==DataView&&(r=n.constructor.BYTES_PER_ELEMENT);var e=n.constructor,u={buffer:go(n.buffer),byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:r,ctor:e,readerType:"byob"};if(t.Rh.length>0)return t.Rh.push(u),La(i);if("closed"===i.Uf)return So(Po(new e(u.buffer,u.byteOffset,0),!0,i.Bf.Ff));if(t.Gf>0){if(!0===ba(t,u)){var s=ma(u);return Ea(t),So(Po(s,!1,i.Bf.Ff))}if(!0===t.mh){var o=new v("Insufficient bytes to fill elements in the given buffer");return Aa(t,o),Ro(o)}}t.Rh.push(u);var c=La(i);return _a(t),c}(i.$f,n)}(this,t)):Ro(new v("view must be an array buffer view")):Ro(Va("read"))},t.prototype.releaseLock=function(){if(!Ua(this))throw Va("releaseLock");if(void 0!==this.Mf){if(this.Ah.length>0)throw new v("Tried to release a reader lock when that reader has pending read() calls un-settled");Mo(this)}},t}();function Ua(t){return!!ao(t)&&!!d.prototype.hasOwnProperty.call(t,"Ah")}function Va(t){return new v("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}var qa=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),Ha(this);var i=n.size,r=n.highWaterMark,e=t.type;if("bytes"===String(e)){if(void 0!==i)throw new RangeError("The strategy for a byte stream cannot have a size function");void 0===r&&(r=0),Oa(this,t,r=_o(r))}else{if(void 0!==e)throw new RangeError("Invalid type is specified");var u=po(i);void 0===r&&(r=1),function(t,n,i,r){var e=d.create(na.prototype),u=lo(n,"pull",0,[e]),s=lo(n,"cancel",1,[]);ha(t,e,function(){return wo(n,"start",[e])},u,s,i,r)}(this,t,r=_o(r),u)}}return d.defineProperty(t.prototype,"locked",{get:function(){if(!1===Wa(this))throw Ya("locked");return $a(this)},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return!1===Wa(this)?Ro(Ya("cancel")):!0===$a(this)?Ro(new v("Cannot cancel a stream that already has a reader")):za(this,t)},t.prototype.getReader=function(t){var n=(void 0===t?{}:t).mode;if(!1===Wa(this))throw Ya("getReader");if(void 0===n)return $o(this,!0);if("byob"===(n=String(n)))return function(t,n){void 0===n&&(n=!1);var i=new Ba(t);return i.Ff=n,i}(this,!0);throw new RangeError("Invalid mode is specified")},t.prototype.pipeThrough=function(t,n){var i=t.writable,r=t.readable,e=void 0===n?{}:n,u=e.preventClose,s=e.preventAbort,o=e.preventCancel,c=e.signal;if(!1===Wa(this))throw Ya("pipeThrough");if(!1===dc(i))throw new v("writable argument to pipeThrough must be a WritableStream");if(!1===Wa(r))throw new v("readable argument to pipeThrough must be a ReadableStream");if(u=Boolean(u),s=Boolean(s),o=Boolean(o),void 0!==c&&!Kc(c))throw new v("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(!0===$a(this))throw new v("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(!0===lc(i))throw new v("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return Oo(ta(this,i,u,s,o,c)),r},t.prototype.pipeTo=function(t,n){var i=void 0===n?{}:n,r=i.preventClose,e=i.preventAbort,u=i.preventCancel,s=i.signal;return!1===Wa(this)?Ro(Ya("pipeTo")):!1===dc(t)?Ro(new v("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(r=Boolean(r),e=Boolean(e),u=Boolean(u),void 0===s||Kc(s)?!0===$a(this)?Ro(new v("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):!0===lc(t)?Ro(new v("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):ta(this,t,r,e,u,s):Ro(new v("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal")))},t.prototype.tee=function(){if(!1===Wa(this))throw Ya("tee");var t=function(t,n){var i,r,e,u,s,o=$o(t),c=!1,a=!1,f=!1,h=Eo(function(t){s=t});function v(){return!0===c?So(void 0):(c=!0,Oo(No(tc(o),function(t){if(c=!1,!0===t.done)return!1===a&&sa(e.$f),void(!1===f&&sa(u.$f));var n=t.value,i=n,r=n;!1===a&&oa(e.$f,i),!1===f&&oa(u.$f,r)})),So(void 0))}function d(){}return e=ja(d,v,function(n){if(a=!0,i=n,!0===f){var e=fo([i,r]),u=za(t,e);s(u)}return h}),u=ja(d,v,function(n){if(f=!0,r=n,!0===a){var e=fo([i,r]),u=za(t,e);s(u)}return h}),Ao(o.Ec,function(t){ca(e.$f,t),ca(u.$f,t)}),[e,u]}(this);return fo(t)},t.prototype.getIterator=function(t){var n=(void 0===t?{}:t).preventCancel,i=void 0!==n&&n;if(!1===Wa(this))throw Ya("getIterator");return function(t,n){void 0===n&&(n=!1);var i=$o(t),r=d.create(ic);return r.zf=i,r.Xf=Boolean(n),r}(this,i)},t}();function ja(t,n,i,r,e){void 0===r&&(r=1),void 0===e&&(e=function(){return 1});var u=d.create(qa.prototype);return Ha(u),ha(u,d.create(na.prototype),t,n,i,r,e),u}function Ha(t){t.Uf="readable",t.Bf=void 0,t.Vf=void 0,t.Wf=!1}function Wa(t){return!!ao(t)&&!!d.prototype.hasOwnProperty.call(t,"$f")}function $a(t){return void 0!==t.Bf}function za(t,n){return t.Wf=!0,"closed"===t.Uf?So(void 0):"errored"===t.Uf?Ro(t.Vf):(Xa(t),No(t.$f[Ho](n),so))}function Xa(t){t.Uf="closed";var n=t.Bf;void 0!==n&&(Zo(n)&&(n.Hf.forEach(function(t){t.Fn(Po(void 0,!0,n.Ff))}),n.Hf=new xo),jo(n))}function Ga(t,n){t.Uf="errored",t.Vf=n;var i=t.Bf;void 0!==i&&(Zo(i)?(i.Hf.forEach(function(t){t.V(n)}),i.Hf=new xo):(i.Ah.forEach(function(t){t.V(n)}),i.Ah=new xo),qo(i,n))}function Ya(t){return new v("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}"symbol"==typeof uo.asyncIterator&&d.defineProperty(qa.prototype,uo.asyncIterator,{value:qa.prototype.getIterator,enumerable:!1,writable:!0,configurable:!0});var Ka=function(){function t(t,n,i){void 0===t&&(t={}),void 0===n&&(n={}),void 0===i&&(i={});var r=n.size,e=n.highWaterMark,u=i.size,s=i.highWaterMark;if(void 0!==t.writableType)throw new RangeError("Invalid writable type specified");var o=po(r);if(void 0===e&&(e=1),e=_o(e),void 0!==t.readableType)throw new RangeError("Invalid readable type specified");var c,a=po(u);void 0===s&&(s=0),s=_o(s),function(t,n,i,r,e,u){function s(){return n}t.Nh=function(t,n,i,r,e,u){void 0===e&&(e=1),void 0===u&&(u=function(){return 1});var s=d.create(fc.prototype);return vc(s),Nc(s,d.create(Ac.prototype),t,n,i,r,e,u),s}(s,function(n){return function(t,n){var i=t.Oh;if(!0===t.ih){var r=t.xh;return No(r,function(){var r=t.Nh,e=r.Uf;if("erroring"===e)throw r.Vf;return of(i,n)})}return of(i,n)}(t,n)},function(){return function(t){var n=t.Ph,i=t.Oh,r=i.Lh();return uf(i),No(r,function(){if("errored"===n.Uf)throw n.Vf;var t=n.$f;!0===fa(t)&&sa(t)},function(i){throw Qa(t,i),n.Vf})}(t)},function(n){return function(t,n){return Qa(t,n),So(void 0)}(t,n)},i,r),t.Ph=ja(s,function(){return function(t){return tf(t,!1),t.xh}(t)},function(n){return Za(t,n),So(void 0)},e,u),t.ih=void 0,t.xh=void 0,t.Fh=void 0,tf(t,!0),t.Oh=void 0}(this,Eo(function(t){c=t}),e,o,s,a),function(t,n){var i=d.create(rf.prototype),r=function(t){try{return sf(i,t),So(void 0)}catch(t){return Ro(t)}},e=n.transform;if(void 0!==e){if("function"!=typeof e)throw new v("transform is not a method");r=function(t){return yo(e,n,[t,i])}}var u=lo(n,"flush",0,[i]);!function(t,n,i,r){n.Mh=t,t.Oh=n,n.Bh=i,n.Lh=r}(t,i,r,u)}(this,t);var f=wo(t,"start",[this.Oh]);c(f)}return d.defineProperty(t.prototype,"readable",{get:function(){if(!1===Ja(this))throw af("readable");return this.Ph},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"writable",{get:function(){if(!1===Ja(this))throw af("writable");return this.Nh},enumerable:!0,configurable:!0}),t}();function Ja(t){return!!ao(t)&&!!d.prototype.hasOwnProperty.call(t,"Oh")}function Qa(t,n){ca(t.Ph.$f,n),Za(t,n)}function Za(t,n){uf(t.Oh),Lc(t.Nh.Kf,n),!0===t.ih&&tf(t,!1)}function tf(t,n){void 0!==t.xh&&t.Fh(),t.xh=Eo(function(n){t.Fh=n}),t.ih=n}var nf,rf=function(){function t(){throw new v("TransformStreamDefaultController instances cannot be created directly")}return d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===ef(this))throw cf("desiredSize");return aa(this.Mh.Ph.$f)},enumerable:!0,configurable:!0}),t.prototype.enqueue=function(t){if(!1===ef(this))throw cf("enqueue");sf(this,t)},t.prototype.error=function(t){if(!1===ef(this))throw cf("error");var n;n=t,Qa(this.Mh,n)},t.prototype.terminate=function(){if(!1===ef(this))throw cf("terminate");!function(t){var n=t.Mh,i=n.Ph.$f;!0===fa(i)&&sa(i);var r=new v("TransformStream terminated");Za(n,r)}(this)},t}();function ef(t){return!!ao(t)&&!!d.prototype.hasOwnProperty.call(t,"Mh")}function uf(t){t.Bh=void 0,t.Lh=void 0}function sf(t,n){var i=t.Mh,r=i.Ph.$f;if(!1===fa(r))throw new v("Readable side is not in a state that permits enqueue");try{oa(r,n)}catch(t){throw Za(i,t),i.Ph.Vf}(function(t){return!0!==ea(t)})(r)!==i.ih&&tf(i,!0)}function of(t,n){return No(t.Bh(n),void 0,function(n){throw Qa(t.Mh,n),n})}function cf(t){return new v("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function af(t){return new v("TransformStream.prototype."+t+" can only be used on a TransformStream")}function ff(t){return n=[t],new qa({start:function(t){for(var i=0;i<n.length;i++){var r=n[i];t.enqueue(r)}t.close()}});var n}function hf(t){return ff(new _(t))}function vf(t,n){return function(t,n){var i=n,r=t.getReader(),e=new cs,u=function(){s();var t=new Fe;r.cancel(t).catch(P),e.pc(t)},s=function(){i&&(i.To(u),i=void 0)};i&&(i.wo?u():i.bo(u));var o=[];return C.resolve(r.read()).then(function t(n){return n.done?(s(),C.resolve(o)):(o.push(n.value),C.resolve(r.read()).then(t))}).then(function(t){s(),e._c(t)},function(t){s(),e.pc(t)}),e.gc}(t,n).then(function(t){return pu(t).buffer})}function df(t,n){var i=n,r=new Ka,e=r.readable,u=r.writable,s=u.getWriter(),o=function(){i&&i.Io()};return s.closed.then(o,o),t.then(function(t){return i=void 0,s.releaseLock(),t.pipeTo(u).catch(P)},function(t){return i=void 0,s.releaseLock(),u.abort(t).catch(P)}),e}function lf(t){return Qu(new _(t))}function wf(t){return Zu(t).buffer}!function(t){t[t.If=0]="If",t[t.Uh=1]="Uh"}(nf||(nf={}));var yf="content-type",gf="text/plain;charset=UTF-8",_f=function(){function t(){}var n=t.prototype;return n.Vh=function(t){return this.qh(t).then(JSON.parse)},n.jh=function(t,n){switch(t){case no.Sf:return this.Hh(n);case no.Rf:return this.Vh(n);case no.If:return this.Wh();case no.tu:return this.qh(n);default:throw new v}},t}();function pf(t,n,i){if(t instanceof _f)return t;if(t instanceof qa)return function(t,n){return new kf({eo:nf.If,Wh:t,$h:mf(n)})}(t,i);var r=mf(i),e=C.resolve(t).then(function(t){return function(t,n){if(t){if("string"==typeof t)return{eo:no.tu,zh:t,$h:n||gf};if(t instanceof ArrayBuffer||gu(t))return{eo:no.Sf,zh:Cf(t),$h:n};if(ct(t)||ut(t))return{eo:no.Rf,zh:t,$h:n};throw new v("Unsupported BodyInit type")}return{eo:no.tu,zh:null,$h:n}}(t,r)});return new kf({eo:nf.Uh,gc:e,Xh:n})}function mf(t){return(t.get(yf)||"").toLowerCase()}var kf=function(t){function n(n){var i;return(i=t.call(this)||this).Gh=!1,i.Yh=void 0,i.Kh=new cs,i.Kh.gc.catch(P),i.Jh(n),i}$(n,t);var i=n.prototype;return i.Qh=function(){return this.Kh.gc},i.qh=function(t){return this.Zh(bf,t)},i.Vh=function(t){return this.Zh(Ef,t)},i.Hh=function(t){return this.Zh(Rf,t)},i.Wh=function(){return this.tv((t=this.Yh).eo===nf.If?t.Wh:df(t.gc.then(If).then(hf),t.Xh));var t},i.Zh=function(t,n){if(this.Gh)return C.reject(new v("Already used"));this.Gh=!0;var i=t(this.Yh,n);return this.Kh._c(i.then(P)),i},i.tv=function(t){if(this.Gh)throw new v("Already used");if(t.locked)throw new v("Body stream is locked");this.Gh=!0;var n=new Ka,i=C.resolve(t.pipeTo(n.writable));return this.Kh._c(i),n.readable},i.Jh=function(t){this.Yh=t,t.eo===nf.Uh&&t.gc.catch(P)},i.nv=function(){if(this.Gh)throw new v("Already used");var t=function(t){if(t.eo===nf.If){var n=t.Wh.tee(),i=n[0],r=n[1];return[{eo:t.eo,Wh:i,$h:t.$h},{eo:t.eo,Wh:r,$h:t.$h}]}var e=t.Xh.Do(),u=e[0],s=e[1];return[{eo:t.eo,gc:t.gc,Xh:u},{eo:t.eo,gc:t.gc,Xh:s}]}(this.Yh),i=t[0],r=t[1];return this.Jh(i),new n(r)},H(n,[{key:"iv",get:function(){return this.Gh}}]),n}(_f);function bf(t,n){return t.eo===nf.If?vf(t.Wh,n).then(lf):(n&&t.Xh.Co(n),je(t.gc.then(Tf),t.Xh))}function Tf(t){switch(t.eo){case no.tu:return C.resolve(t.zh||"");case no.Sf:return C.resolve(t.zh).then(lf);case no.Rf:return C.resolve(t.zh).then(JSON.stringify)}}function Ef(t,n){return t.eo===nf.If?bf(t,n).then(JSON.parse):(n&&t.Xh.Co(n),je(t.gc.then(Sf),t.Xh))}function Sf(t){return t.eo===no.Rf?C.resolve(t.zh):Tf(t).then(JSON.parse)}function Rf(t,n){return t.eo===nf.If?vf(t.Wh,n):(n&&t.Xh.Co(n),je(t.gc.then(If),t.Xh))}function If(t){switch(t.eo){case no.Sf:return C.resolve(t.zh);case no.tu:case no.Rf:return Tf(t).then(wf)}}function Cf(t){return t instanceof ArrayBuffer?t:ss(is(t)).buffer}function Df(t){return t.rv>=200&&t.rv<=299||304===t.rv}var Af,Nf,Of,xf,Pf=function(t){function n(n,i){var r,e,u,s,o,c;i?(e=i.ev,u=i.uv,s=i.rv,o=i.sv,c=i.ov):(e=[],u=no.tu,s=200,o="OK",c=!1);var a=n.cv,f=new io(n.ev||e),h=n.uv||u,v=n.av||(i&&i.cv===a?i.av:a.fv),d=i?i.hv:null,l=pf(void 0!==n.Du?n.Du:d,n.Xh||new Le,f);return(r=t.call(this,l)||this).ev=void 0,r.cv=void 0,r.av=void 0,r.uv=void 0,r.rv=void 0,r.sv=void 0,r.ov=void 0,r.ev=f,r.cv=a,r.av=v,r.uv=h,r.rv=void 0!==n.rv?n.rv:s,r.sv=void 0!==n.sv?String(n.sv):o,r.ov=n.ov||c,r}$(n,t);var i=n.prototype;return i.Du=function(t){return this.jh(this.uv,t)},i.vc=function(){return new n({Du:this.nv(),cv:this.cv},this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).hv=void 0,i.hv=n,i}$(n,t);var i=n.prototype;return i.Qh=function(){return this.hv.Qh()},i.qh=function(t){return this.hv.qh(t)},i.Vh=function(t){return this.hv.Vh(t)},i.Hh=function(t){return this.hv.Hh(t)},i.Wh=function(){return this.hv.Wh()},i.nv=function(){return this.hv.nv()},H(n,[{key:"iv",get:function(){return this.hv.iv}}]),n}(_f));!function(t){t.DELETE="DELETE",t.GET="GET",t.HEAD="HEAD",t.OPTIONS="OPTIONS",t.POST="POST",t.PUT="PUT"}(Af||(Af={})),function(t){t.vv="",t.dv="manifest",t.lv="segment",t.wv="content-protection"}(Nf||(Nf={})),function(t){t.vv="",t.yv="initialization-segment",t.gv="fairplay-license",t._v="fairplay-certificate",t.pv="widevine-license",t.mv="widevine-certificate",t.kv="playready-license",t.bv="clearkey-license",t.Tv="aes128-key"}(Of||(Of={})),function(t){t.vv="",t.Ev="audio",t.Sv="video",t.tu="text",t.Rv="image"}(xf||(xf={}));var Lf=function(t,n){this.zh=void 0,this.ev=void 0,this.Iv=void 0,this.uv=void 0,this.Cv=void 0,this.Ao=void 0,this.eo=void 0,this.Dv=void 0,this.Av=void 0,this.fv=void 0,this.Nv=void 0,this.Ov=void 0;var i,r,e,u,s,o,c,a,f,h,v,d=t.fv;n?(i=n.zh,r=n.ev,e=n.Iv,u=n.uv,s=n.Cv,o=n.Ao,c=n.eo,a=n.Dv,f=n.Av,h=n.Nv,v=n.Ov):(i=null,r={},e=Af.GET,u=no.tu,s=0,c=Nf.vv,a=Of.vv,f=xf.vv,h=!1),this.fv=d,this.zh=t.zh||i,this.ev=new io(t.ev||r),this.Iv=t.Iv||e,this.uv=t.uv||u,this.Cv=void 0!==t.Cv?Number(t.Cv)||0:s,this.Ao=t.Ao||o||(new Le).Ao,this.eo=t.eo||c,this.Dv=t.Dv||a,this.Av=t.Av||f,this.Nv=void 0!==t.Nv?Boolean(t.Nv):h,this.Ov=t.Ov||v},Ff=function(){function t(){}var n=t.prototype;return n.cv=function(t){var n=function(t){return new Pf({Du:null,ev:{},cv:t,av:t.fv,uv:t.uv,rv:0,sv:to.rf})}(new Lf(t));return C.resolve(n)},n.xv=function(t){},n.sr=function(){},t}();var Mf,Bf=function(){function t(t,n){void 0===n&&(n=!0),this.Pv=void 0,this.Lv=void 0,this.Pv=t,this.Lv=n}var n=t.prototype;return n.cv=function(t){var n=this.Fv(t);return this.Pv.cv(n)},n.xv=function(t){return this.Pv.xv(this.Mv(t))},n.Fv=function(n){var i=new Lf(n);if(!this.Lv){var r=t.Bv(i.fv);i=new Lf({fv:r},i)}return i},n.Mv=function(n){var i=n.fv;return this.Lv||(i=t.Bv(i)),{fv:i,zh:n.zh}},t.Bv=function(t){return A.qs&&pr(t,"http://")?t.replace(":","s:"):t},n.sr=function(){this.Pv.sr()},H(t,null,[{key:"Uv",get:function(){return t.Vv||(t.Vv=new t(new Ff)),t.Vv}}]),t}();Bf.Vv=void 0,function(t){t.qv="HttpOpenError",t.jv="HttpResponseError",t.Hv="HttpTimeoutError"}(Mf||(Mf={}));var Uf=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).Wv=void 0,e.Wv=n,e}return $(n,t),H(n,[{key:"cv",get:function(){return this.Wv}}]),n}(sn);var Vf=function(t){function n(n,i){return t.call(this,n,"Error while opening "+n.fv+". Invalid URL.",i)||this}return $(n,t),H(n,[{key:"name",get:function(){return Mf.qv}}]),n}(Uf);var qf=function(t){function n(n,i,r){var e;return(e=t.call(this,n.cv,null!=r?r:function(t){return"Error while loading "+t.cv.fv+", status code "+t.rv}(n),i)||this).$v=void 0,e.$v=n,e}return $(n,t),H(n,[{key:"name",get:function(){return Mf.jv}},{key:"zv",get:function(){return this.$v}}]),n}(Uf);var jf=function(t){function n(n,i){return t.call(this,n,function(t){return"Request for "+t.fv+" timed out after "+t.Cv+" seconds."}(n),i)||this}return $(n,t),H(n,[{key:"name",get:function(){return Mf.Hv}}]),n}(Uf),Hf=function(t,n){return(Hf=d.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])})(t,n)};function Wf(t,n){function i(){this.constructor=t}Hf(t,n),t.prototype=null===n?d.create(n):(i.prototype=n.prototype,new i)}var $f="object"==typeof r?r:"object"==typeof t?t:"object"==typeof global?global:null;var zf=function(){var t=$f.Blob;if(t)try{return new t,function(t,n){return new $f.Blob(t,n)}}catch(t){}var n,i=$f.BlobBuilder||$f.WebKitBlobBuilder||$f.MozBlobBuilder||$f.MSBlobBuilder;return i?(n=i,function(t,i){var r=new n;if(t)for(var e=0,u=t;e<u.length;e++){var s=u[e];r.append(s)}return r.getBlob(i&&i.type||"")}):null}(),Xf="function"==typeof qa?qa:void 0;function Gf(t){return t&&"function"==typeof t.getReader}function Yf(t){if("function"!=typeof t)return!1;try{var n=!1,i=new t({start:function(){n=!0}});return!!n&&Gf(i)}catch(t){return!1}}var Kf=function(){function t(t,n){this.Bf=t,this.Xv=n}return t.prototype.pull=function(t){var n=this;return this.Bf.read().then(function(i){n.Xv&&n.Xv(i),i.done?t.close():t.enqueue(i.value)})},t.prototype.cancel=function(t){return this.Bf.cancel(t)},t}();function Jf(t,n){return n.constructor===t?n:new t(new Kf(n.getReader()),{highWaterMark:0})}var Qf=function(){function t(t,n){this.Gv=t,this.yt=n}return t.prototype.pull=function(t){return this.Gv().then(function(n){t.enqueue(new _(n)),t.close()})},t.prototype.cancel=function(t){this.yt&&this.yt(t)},t}();function Zf(t,n,i){return new t(new Qf(n,i),{highWaterMark:0})}var th={searchParams:"URLSearchParams"in $f,iterable:"Symbol"in $f&&"iterator"in Symbol,blob:"FileReader"in $f&&!!zf,formData:"FormData"in $f,arrayBuffer:"ArrayBuffer"in $f,stream:Yf(Xf),streamRequest:"Request"in $f&&"body"in $f.Request.prototype,streamResponse:"Response"in $f&&"body"in $f.Response.prototype,abort:"AbortController"in $f&&"Request"in $f&&"signal"in $f.Request.prototype,encoding:"TextEncoder"in $f&&"TextDecoder"in $f,url:"URL"in $f&&function(t){try{return new $f.URL(t).toString()===t}catch(t){return!1}}("http://example.com/"),firefox:"navigator"in $f&&/Firefox\//.test($f.navigator.userAgent)};function nh(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new v("Invalid character in header field name");return t}function ih(t){return"string"!=typeof t&&(t=String(t)),t}function rh(t){var n={next:function(){var n=t.shift();return{done:void 0===n,value:n}}};return th.iterable&&(n[Symbol.iterator]=function(){return n}),n}var eh=function(){function t(t){var n=this;this.Js={};var i,r=function(t,i){Array.isArray(t)&&2===t.length?n.append(t[0],t[1]):n.append(i,t)};(i=t)&&"function"==typeof i.forEach?t.forEach(r):!function(t){return th.iterable&&t&&t[Symbol.iterator]}(t)?t&&d.getOwnPropertyNames(t).forEach(function(i){n.append(i,t[i])}):Array.from(t).forEach(r)}return t.prototype.append=function(t,n){t=nh(t),n=ih(n);var i=t.toLowerCase();if(this.Js.hasOwnProperty(i)){var r=this.Js[i],e=r[1];r[1]=e?e+", "+n:n}else this.Js[i]=[t,n]},t.prototype.delete=function(t){var n=nh(t).toLowerCase();delete this.Js[n]},t.prototype.get=function(t){var n=nh(t).toLowerCase();return this.Js.hasOwnProperty(n)?this.Js[n][1]:null},t.prototype.has=function(t){var n=nh(t).toLowerCase();return this.Js.hasOwnProperty(n)},t.prototype.set=function(t,n){var i=(t=nh(t)).toLowerCase();this.Js[i]=[t,ih(n)]},t.prototype.forEach=function(t,n){for(var i in this.Js)this.Js.hasOwnProperty(i)&&t.call(n,this.Js[i][1],i,this)},t.prototype.keys=function(){var t=[];return this.forEach(function(n,i){t.push(i)}),rh(t)},t.prototype.values=function(){var t=[];return this.forEach(function(n){t.push(n)}),rh(t)},t.prototype.entries=function(){var t=[];return this.forEach(function(n,i){t.push([i,n])}),rh(t)},t.prototype.asList=function(){var t=[];for(var n in this.Js)if(this.Js.hasOwnProperty(n)){var i=this.Js[n],r=i[0],e=i[1];t.push([r,e])}return t},t}();function uh(){}th.iterable&&(eh.prototype[Symbol.iterator]=eh.prototype.entries);var sh,oh,ch,ah=l.min,fh=String.fromCharCode,hh=16384;function vh(t){for(var n=[],i=0,r=t;i<r.length;i++){var e=r[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return function(t){for(var n=t.length,i=[],r=0;r<n;r+=hh){var e=ah(r+hh,n);i.push(fh.apply(null,t.slice(r,e)))}return i.join("")}(n)}function dh(t){if(t>=55296&&t<=57343)throw new h("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function lh(t,n){return t>>n&63|128}function wh(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(dh(t),n.push(t>>12&15|224),n.push(lh(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(lh(t,12)),n.push(lh(t,6))),n.push(63&t|128)):n.push(t)}function yh(){if(ch>=oh)throw new h("Invalid byte index");var t=255&sh[ch];if(ch++,128==(192&t))return 63&t;throw new h("Invalid continuation byte")}function gh(){var t,n;if(ch>oh)throw new h("Invalid byte index");if(ch===oh)return!1;if(t=255&sh[ch],ch++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|yh())>=128)return n;throw new h("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|yh()<<6|yh())>=2048)return dh(n),n;throw new h("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|yh()<<12|yh()<<6|yh())>=65536&&n<=1114111)return n;throw new h("Invalid UTF-8 detected")}var _h=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];function ph(t){return t&&URLSearchParams.prototype.isPrototypeOf(t)}function mh(t){return t&&ArrayBuffer.prototype.isPrototypeOf(t)}function kh(t){return t&&DataView.prototype.isPrototypeOf(t)}var bh,Th=ArrayBuffer.isView||function(t){return t&&(_h.indexOf(d.prototype.toString.call(t))>-1||kh(t))};function Eh(t){if(t.bodyUsed)return C.reject(new v("Already used"));t.bodyUsed=!0}function Sh(t){return new C(function(n,i){t.onload=function(){n(t.result)},t.onerror=function(){i(t.error)}})}function Rh(t){return th.encoding?new $f.TextDecoder("utf-8").decode(new _(t)):vh(function(t){oh=(sh=t).length,ch=0;for(var n,i=[];!1!==(n=gh());)i.push(n);return i}(new _(t)))}function Ih(t){return th.encoding?(new $f.TextEncoder).encode(t).buffer:new _(function(t){for(var n=[],i=0,r=t;i<r.length;i++)wh(r[i],n);return n}(function(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&e)<<10)+(1023&u)+65536):(n.push(e),i--)}else n.push(e)}return n}(t))).buffer}function Ch(t){var n=t.getReader(),i=[],r=function(t){var e=t.done,u=t.value;return e?C.resolve(i):(i.push(u),n.read().then(r))};return n.read().then(r)}function Dh(t){return Ch(t).then(function(t){return function(t){for(var n=0,i=0,r=t;i<r.length;i++)n+=(c=r[i]).byteLength;for(var e=new _(n),u=0,s=0,o=t;s<o.length;s++){var c=o[s];e.set(c,u),u+=c.byteLength}return e}(t).buffer})}function Ah(t){return t.slice?t.slice(0):Nh(new _(t))}function Nh(t){if(t.slice)return t.slice(0).buffer;var n=new _(t.byteLength);return n.set(new _(t.buffer,t.byteOffset,t.byteLength)),n.buffer}function Oh(t){var n=new FormData;return t.trim().split("&").forEach(function(t){if(t){var i=t.split("="),r=i.shift().replace(/\+/g," "),e=i.join("=").replace(/\+/g," ");n.append(decodeURIComponent(r),decodeURIComponent(e))}}),n}function xh(t){var n=t;if(n.bodyUsed)throw new v("Already used");if(n.Yv===bh.Kv){if(!n.Jv.tee)throw new h("could not clone ReadableStream body");var i=n.Jv.tee(),r=i[0],e=i[1];return n.body=r,n.Jv=r,n.Qv=r,e}return n.Yv===bh.Sf?Ah(n.Jv):n.Yv===bh.Uh?n.Jv.then(xh):n.Qv}!function(t){t[t.tu=0]="tu",t[t.Zv=1]="Zv",t[t.td=2]="td",t[t.Sf=3]="Sf",t[t.Kv=4]="Kv",t[t.Uh=5]="Uh"}(bh||(bh={}));var Ph=function(){function t(n,i){this.bodyUsed=!1;var r,e,u,s=this;if(this.Qv=n||null,n)if("string"==typeof n)this.Yv=bh.tu,this.Jv=n;else if((u=n)&&"function"==typeof u.then)this.Yv=bh.Uh,this.Jv=C.resolve(n).then(function(n){return new t(n,i)}),this.Jv.catch(uh);else if(th.blob&&function(t){return t&&Blob.prototype.isPrototypeOf(t)}(n))this.Yv=bh.Zv,this.Jv=n;else if(th.formData&&function(t){return t&&FormData.prototype.isPrototypeOf(t)}(n))this.Yv=bh.td,this.Jv=n;else if(th.searchParams&&ph(n))this.Yv=bh.tu,this.Jv=n.toString();else if(th.arrayBuffer&&(mh(n)||Th(n)))kh(n)&&(this.Qv=new _((e=n).buffer,e.byteOffset,e.byteLength)),this.Yv=bh.Sf,this.Jv=mh(r=n)?Ah(r):Nh(r);else{if(!th.stream||!Gf(n))throw new h("unsupported BodyInit type");n=Jf(Xf,n),this.Yv=bh.Kv,this.Jv=n,this.Qv=n}else this.Yv=bh.tu,this.Jv="";this.nd="",i.has("content-type")?this.nd=(i.get("content-type")||"").toLowerCase():("string"==typeof n?this.nd="text/plain;charset=UTF-8":s.Yv===bh.Zv&&s.Jv.type?this.nd=s.Jv.type:th.searchParams&&ph(n)&&(this.nd="application/x-www-form-urlencoded;charset=UTF-8"),this.nd&&i.set("content-type",this.nd)),th.stream&&(null==n?this.body=null:s.Yv===bh.Kv?this.body=s.Jv:this.body=Zf(Xf,function(){return s.arrayBuffer()},function(){s.bodyUsed=!0}))}return t.prototype.text=function(){var t,n,i,r=Eh(this);return r||(this.Yv===bh.Zv?(t=this.Jv,n=new FileReader,i=Sh(n),n.readAsText(t),i):this.Yv===bh.Sf?C.resolve(this.Jv).then(Rh):this.Yv===bh.Kv?Dh(this.Jv).then(Rh):this.Yv===bh.Uh?this.Jv.then(function(t){return t.text()}):this.Yv===bh.td?C.reject(new h("could not read FormData body as text")):C.resolve(this.Jv))},t.prototype.json=function(){return this.text().then(JSON.parse)},t}();th.blob&&(Ph.prototype.blob=function(){var t,n,i=Eh(this);return i||(this.Yv===bh.Zv?C.resolve(this.Jv):this.Yv===bh.Sf?C.resolve(zf([this.Jv],{type:this.nd})):this.Yv===bh.Kv?(t=this.Jv,n=this.nd,Ch(t).then(function(t){return zf(t,{type:n||""})})):this.Yv===bh.Uh?this.Jv.then(function(t){return t.blob()}):this.Yv===bh.td?C.reject(new h("could not read FormData body as Blob")):C.resolve(zf([this.Jv],{type:this.nd})))}),th.arrayBuffer&&(Ph.prototype.arrayBuffer=function(){var t,n,i;return this.Yv===bh.Sf?Eh(this)||C.resolve(this.Jv):this.Yv===bh.Zv?Eh(this)||(t=this.Jv,n=new FileReader,i=Sh(n),n.readAsArrayBuffer(t),i):this.Yv===bh.Kv?Dh(this.Jv):this.Yv===bh.Uh?Eh(this)||this.Jv.then(function(t){return t.arrayBuffer()}):this.Yv===bh.td?C.reject(new h("could not read FormData body as ArrayBuffer")):C.resolve(this.Jv).then(Ih)}),th.formData&&(Ph.prototype.formData=function(){return this.Yv===bh.td?Eh(this)||C.resolve(this.Jv):this.text().then(Oh)});var Lh=[301,302,303,307,308],Fh=function(t){function n(n,i){var r=this,e=new eh((i=i||{}).headers);return(r=t.call(this,n||null,e)||this).type="default",r.status=void 0===i.status?200:i.status,r.ok=r.status>=200&&r.status<300,r.statusText=void 0!==i.statusText?String(i.statusText):"",r.headers=e,r.url=i.url||"",r}return Wf(n,t),n.prototype.clone=function(){return new n(xh(this),{status:this.status,statusText:this.statusText,headers:new eh(this.headers),url:this.url})},n.error=function(){var t=new n(null,{status:0,statusText:""});return t.type="error",t},n.redirect=function(t,i){if(-1===Lh.indexOf(i))throw new RangeError("Invalid status code");return new n(null,{status:i,headers:{location:t}})},n}(Ph);var Mh,Bh=function(t,n){return t(n={exports:{}},n.exports),n.exports}(function(t,n){function i(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}function r(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d.defineProperty(t,r.key,r)}}function u(t,n,i){return n&&r(t.prototype,n),i&&r(t,i),t}function s(t){return(s=d.setPrototypeOf?d.getPrototypeOf:function(t){return t.__proto__||d.getPrototypeOf(t)})(t)}function c(t,n){return(c=d.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t,n,i){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,i){var r=function(t,n){for(;!d.prototype.hasOwnProperty.call(t,n)&&null!==(t=s(t)););return t}(t,n);if(r){var e=d.getOwnPropertyDescriptor(r,n);return e.get?e.get.call(i):e.value}})(t,n,i||t)}d.defineProperty(n,"__esModule",{value:!0});var h=function(){function t(){i(this,t),d.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return u(t,[{key:"addEventListener",value:function(t,n){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(n)}},{key:"removeEventListener",value:function(t,n){if(t in this.listeners)for(var i=this.listeners[t],r=0,e=i.length;r<e;r++)if(i[r]===n)return void i.splice(r,1)}},{key:"dispatchEvent",value:function(t){var n=this;if(t.type in this.listeners){for(var i=function(i){o(function(){return i.call(n,t)})},r=this.listeners[t.type],e=0,u=r.length;e<u;e++)i(r[e]);return!t.defaultPrevented}}}]),t}(),l=function(t){function n(){var t,r,e;return i(this,n),r=this,(t=!(e=s(n).call(this))||"object"!=typeof e&&"function"!=typeof e?a(r):e).listeners||h.call(a(t)),d.defineProperty(a(t),"aborted",{value:!1,writable:!0,configurable:!0}),d.defineProperty(a(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function");t.prototype=d.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&c(t,n)}(n,h),u(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),f(s(n.prototype),"dispatchEvent",this).call(this,t)}}]),n}(),w=function(){function t(){i(this,t),d.defineProperty(this,"signal",{value:new l,writable:!0,configurable:!0})}return u(t,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(n){void 0!==e?e.createEvent?(t=e.createEvent("Event")).initEvent("abort",!1,!1):(t=e.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(w.prototype[Symbol.toStringTag]="AbortController",l.prototype[Symbol.toStringTag]="AbortSignal"),n.AbortSignal=l,n.AbortController=w,n.default=w});(Mh=Bh)&&Mh.__esModule&&d.prototype.hasOwnProperty.call(Mh,"default")&&Mh.default;Bh.AbortSignal;var Uh=Bh.AbortController,Vh=$f.DOMException;try{new Vh}catch(t){(Vh=function(t,n){h.call(this,t),this.name=n||"Error",h.captureStackTrace&&h.captureStackTrace(this,this.constructor)}).prototype=d.create(h.prototype),Vh.prototype.constructor=Vh}var qh=Uh;function jh(t,n){if(!t.signal.aborted)if(n.aborted)t.abort();else{var i=function(){n.removeEventListener("abort",i),t.signal.removeEventListener("abort",i),t.abort()};n.addEventListener("abort",i),t.signal.addEventListener("abort",i)}}function Hh(t,n,i){return new C(function(r,e){if(n.signal.aborted)return t.catch(uh),e(Wh());var u=function(){n.signal.removeEventListener("abort",u),e(Wh())};n.signal.addEventListener("abort",u),t.then(function(t){n.signal.removeEventListener("abort",u),r(t),i&&n.abort()},function(t){n.signal.removeEventListener("abort",u),e(t),i&&n.abort()})})}function Wh(){return new Vh("Aborted","AbortError")}var $h,zh="moz-chunked-arraybuffer";function Xh(t){try{var n=new p;return n.open("GET","https://test"),n.responseType=t,n.responseType===t}catch(t){}return!1}!function(t){t[t.UNSENT=0]="UNSENT",t[t.OPENED=1]="OPENED",t[t.HEADERS_RECEIVED=2]="HEADERS_RECEIVED",t[t.LOADING=3]="LOADING",t[t.DONE=4]="DONE"}($h||($h={}));var Gh=function(){function t(t,n){var i=this;this.rd=!1,this.Wv=t,this.ed=n,this.ud=new p,this.sd=new C(function(t,n){i.od=t,i.fd=n})}return t.prototype.send=function(){var t=this;return this.hd().then(function(n){return t.vd(n,t.ed),t.sd})},t.prototype.hd=function(){var t=this.Wv;return t.Yv===bh.Kv?t.arrayBuffer():C.resolve(t.Qv)},t.prototype.dd=function(t){this.Wv.onprogress&&this.Wv.onprogress(t.loaded,t.lengthComputable?t.total:void 0)},t.prototype.ld=function(t){this.fd(t)},t.prototype.wd=function(){this.ld(new v("Network request failed"))},t.prototype.yd=function(){this.ld(new v("Network request failed"))},t.prototype.gd=function(){this.ld(Wh())},t.prototype.vd=function(t,n){var i=this,r=this.Wv,e=this.ud,u=function(){return i._d()};if(r.signal.aborted)return this.gd();e.onreadystatechange=function(){if(e.readyState>=$h.HEADERS_RECEIVED&&!i.rd){var t=function(t){var n=new eh;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var i=t.split(":"),r=i.shift().trim();if(r){var e=i.join(":").trim();n.append(r,e)}}),n}(e.getAllResponseHeaders()||""),n={status:e.status,statusText:e.statusText,headers:t,url:e.responseURL||t.get("X-Request-URL")};i.rd=!0,i.pd(n)}},e.onprogress=function(t){return i.dd(t)},e.onload=function(){return i.md()},e.onerror=function(){return i.wd()},e.ontimeout=function(){return i.yd()},e.onabort=function(){return i.gd()},e.open(r.method,r.url,!0),e.withCredentials="include"===r.credentials,"responseType"in e&&n&&(e.responseType=n),r.headers.forEach(function(t,n){e.setRequestHeader(n,t)}),r.signal.addEventListener("abort",u),e.onloadend=function(){r.signal.removeEventListener("abort",u)},t?e.send(t):e.send()},t.prototype._d=function(){this.ud.abort()},t}(),Yh=function(t){function n(n,i){var r=t.call(this,n,i)||this;return r.kd=void 0,r.bd=void 0,r}return Wf(n,t),n.prototype.pd=function(t){var n=this;this.kd=new C(function(t,i){n.bd=t,n.Td=i}),this.od(new Fh(this.kd,t))},n.prototype.md=function(){var t=this.ud.response||this.ud.responseText;this.bd(t)},n.prototype.ld=function(n){t.prototype.ld.call(this,n),this.Td&&this.Td(n)},n}(Gh),Kh=function(t){function n(n){var i=t.call(this,n,zh)||this;return i.Ed=void 0,i.Sd=void 0,i.Rd=!1,i}return Wf(n,t),n.prototype.pd=function(t){var n=this;this.Ed=new Xf({start:function(t){n.Sd=t},cancel:function(){n.Rd=!0,n._d()}}),this.od(new Fh(this.Ed,t))},n.prototype.dd=function(n){this.Rd||this.Sd.enqueue(new _(this.ud.response)),t.prototype.dd.call(this,n)},n.prototype.md=function(){this.Sd.close()},n.prototype.ld=function(n){t.prototype.ld.call(this,n),this.Sd&&!this.Rd&&(this.Rd=!0,this.Sd.error(n))},n}(Gh),Jh=function(){var t=th.firefox&&Xh(zh);return Jh=function(){return t},t},Qh=function(){var t;return t=th.arrayBuffer&&Xh("arraybuffer")?"arraybuffer":th.blob&&Xh("blob")?"blob":"",Qh=function(){return t},t};function Zh(t){return(th.stream&&Jh()?new Kh(t):new Yh(t,Qh())).send()}var tv=$f.fetch,nv=$f.Request,iv=($f.Response,$f.AbortController);var rv=["http:","https:"];var ev=function(){try{if(th.streamRequest){var t=new nv("about:blank",{body:"",method:"POST"}).body;if(t&&Yf(t.constructor))return t.constructor}}catch(t){}}();function uv(t,n,i){var r;if(th.stream){var e=void 0;if(th.streamResponse){var u=t.body;e=u&&Jf(Xf,u)}else e=Zf(Xf,function(){return Hh(t.arrayBuffer(),n,!0)},function(){n.abort()});e&&i&&(e=function(t,n,i){var r=0;return function(t,n,i){return new t(new Kf(n.getReader(),i),{highWaterMark:0})}(Xf,t,function(t){var e=t.done,u=t.value;e?i=void 0===i?r:i:r+=u.byteLength,n(r,i)})}(e,i,sv(t.headers))),r=e}else{var s=Hh(t.arrayBuffer(),n,!0);i&&(s=function(t,n,i){return C.resolve().then(function(){return n(0,i),t}).then(function(t){var r=t.byteLength;return n(r,i=void 0===i?r:i),t})}(s,i,sv(t.headers))),r=s}return new Fh(r,t)}function sv(t){return t.has("content-length")?Number(t.get("content-length")):void 0}function ov(t){var n=new qh;return t.signal&&jh(n,t.signal),function(t,n){var i,r,e=t;if(i=e.Yv===bh.Kv?th.streamRequest&&ev?C.resolve(Jf(ev,e.Jv)):Hh(t.arrayBuffer(),n,!1):Hh(C.resolve(t.Qv),n,!1),th.abort){var u=new iv;jh(u,n.signal),r=u.signal}return i.then(function(n){return new nv(t.url,{body:n||void 0,credentials:t.credentials,headers:(i=t.headers,(i instanceof eh?i:new eh(i)).asList()),method:t.method,mode:t.mode,referrer:t.referrer,referrerPolicy:t.referrerPolicy,signal:r});var i})}(t,n).then(tv).then(function(i){return uv(i,n,t.onprogress)})}var cv=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];var av=function(t){function n(i,r){var e,u,s,o,c,a,f,h,d,l=this,w=(r=r||{}).body||null;if(i instanceof n){if(i.bodyUsed)throw new v("Already used");e=i.url,u=i.credentials,r.headers||(s=new eh(i.headers)),o=i.method,c=i.mode,a=i.referrer,f=i.referrerPolicy,h=i.signal,d=i.onprogress,w||null==i.Qv||(w=i.Qv,i.bodyUsed=!0)}else e=String(i),u="same-origin",o="GET",c="cors",a="about:client",f="",h=null,d=null;if(!r.headers&&s||(s=new eh(r.headers)),r&&(a="about:client",f=""),(l=t.call(this,w,s)||this).url=e,l.headers=s,l.credentials=r.credentials||u,l.method=function(t){var n=t.toUpperCase();return cv.indexOf(n)>-1?n:t}(r.method||o),l.mode=r.mode||c,l.signal=r.signal||h||(new qh).signal,l.referrer=void 0!==r.referrer?r.referrer:a,l.referrerPolicy=void 0!==r.referrerPolicy?r.referrerPolicy:f,l.onprogress=r.onprogress||d,("GET"===l.method||"HEAD"===l.method)&&w)throw new v("Body not allowed for GET or HEAD requests");return l}return Wf(n,t),n.prototype.clone=function(){return new n(this,{body:xh(this)})},n}(Ph),fv="function"==typeof tv&&th.stream&&th.streamResponse&&th.url;function hv(t,n){return new C(function(i){var r=new av(t,n);i((fv&&function(t){try{return rv.indexOf(new $f.URL(t,$f.location.href).protocol)>=0}catch(t){return!1}}(r.url)?ov:Zh)(r))})}hv.polyfill=!0;var vv=function(){function t(t){this.zv=void 0,this.Wv=void 0,this.Id=new Le,this.$v=void 0,this.Cd=!1,this.Wv=t,this.Id.Co(t.Ao),this.zv=this.Dd()}var n=t.prototype;return n.Dd=function(){var t=C.coroutine(Zr.mark(function t(){var n,i,r,e,u,s,c,a,f=this;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:(n=this.Wv).Cv&&o(function(){f.Cd=!0,f.Id.Io()},n.Cv),t.prev=2,i=hv(n.fv,{method:n.Iv,headers:n.ev.Cf(),body:n.zh,credentials:n.Nv?"include":"same-origin",signal:wv(this.Id.Ao),onprogress:n.Ov}),t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(2),new Vf(n,t.t0);case 9:return t.prev=9,t.next=12,i;case 12:r=t.sent,t.next=20;break;case 15:throw t.prev=15,t.t1=t.catch(9),Me(e=this.Ad(t.t1))&&this.Id.Io(),e;case 20:if(u=r.url||n.fv,s=0===r.status&&"file:"===(h=u,A.Gu(h).protocol)?200:r.status,c=new dv(this,r,this.Id),a=new Pf({Du:c,cv:n,uv:n.uv,ev:new io(r.headers.asList()),rv:s,sv:r.statusText,av:u}),this.$v=a,!Df(a)){t.next=29;break}return t.abrupt("return",a);case 29:throw new qf(a);case 30:case"end":return t.stop()}var h},t,this,[[2,6],[9,15]])}));return function(){return t.apply(this,arguments)}}(),n.Ad=function(t){return Me(t)?this.Cd?new jf(this.Wv):new Fe(t.message,t):this.$v?new qf(this.$v,t):new Vf(this.Wv,t)},t}(),dv=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Zt=void 0,e.Nd=void 0,e.Id=void 0,e.Kh=new cs,e.Zt=n,e.Nd=i,e.Id=r,e.Kh.gc.catch(P),e}$(n,t);var i=n.prototype;return i.Qh=function(){return this.Kh.gc},i.qh=function(t){return this.Zh(this.Nd.text(),t)},i.Hh=function(t){return this.Zh(this.Nd.arrayBuffer(),t)},i.Wh=function(){var t=this.Nd.body;return t?this.tv(t):df(this.Hh().then(hf),this.Id)},i.nv=function(){var t=this.Nd.clone(),i=this.Id.Do(),r=i[0],e=i[1];return this.Id=r,new n(this.Zt,t,e)},i.Zh=function(t,n){var i=this;n&&this.Id.Co(n);var r=C.resolve(t).catch(function(t){throw i.Zt.Ad(t)});return r=je(r,this.Id),this.Kh._c(r.then(P)),r},i.tv=function(t){var n=this,i=new Ka,r=C.resolve(t.pipeTo(i.writable,{preventAbort:!0})).catch(function(t){var r=n.Zt.Ad(t);throw i.writable.abort(r).catch(P),r});return r=je(r,this.Id),this.Kh._c(r.then(P)),i.readable},H(n,[{key:"iv",get:function(){return this.Nd.bodyUsed}}]),n}(_f),lv="abort";function wv(t){var n=new qh;if(t.wo)n.abort();else if(!t.yo){var i=function(){r(),n.abort()},r=function r(){n.signal.removeEventListener(lv,i),t.To(i),t.To(r)};n.signal.addEventListener(lv,i),t.bo(i),t.Eo(r)}return n.signal}var yv,gv=function(){function t(){}var n=t.prototype;return n.cv=function(t){return new vv(t).zv},n.xv=function(t){if(I&&I.sendBeacon)I.sendBeacon(t.fv,Qs([t.zh],{type:t.$h}));else{var n=t.$h?{"Content-type":t.$h}:void 0;$e(this.cv(new Lf({Iv:Af.POST,fv:t.fv,zh:t.zh,ev:n})))}},n.sr=function(){},t}(),_v=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).Od=void 0,n.xd=function(){if(nt.Ne||nt.De){var t=nt.Ce;if(void 0===t||Number(t)<42)return!1}return!0}(),n.Pd=void 0,n}return $(n,t),H(n,[{key:"Ds",get:function(){return this.Od||(this.Od=new Re(Gs())),this.Od}},{key:"Ld",get:function(){return this.xd}},{key:"Fd",get:function(){return!1}},{key:"Md",get:function(){return Ks.Va()}},{key:"Bd",get:function(){return{Ud:Zs}}},{key:"Vd",get:function(){return s.connection&&s.connection.effectiveType||"default"}},{key:"qd",get:function(){return s.connection&&s.connection.type||"unknown"}},{key:"jd",get:function(){return this.Pd||(this.Pd=new Bf(new gv)),this.Pd}}]),n}(Jr);O(new _v),function(t){t.Hd="Wd",t.$d="zd"}(yv||(yv={}));yv.Hd,yv.$d;var pv=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Xd=void 0,r}return $(n,t),H(n,[{key:"Gd",get:function(){return this.Xd||(this.Xd=this.Yd()),this.Xd}}]),n}(Ze);var mv,kv=function(t){function n(n){return t.call(this,n)||this}return $(n,t),n}(pv),bv=function(t){function n(n){return t.call(this,n)||this}return $(n,t),n}(Ze),Tv=function(t){function n(n){var i;return(i=t.call(this,yv.Hd)||this).Kd=n,i}return $(n,t),n.prototype.Yd=function(){return new Ev(this.Kd.Gd)},n}(kv),Ev=function(t){function n(n){var i;return(i=t.call(this,"addtrack")||this).track=n,i}return $(n,t),n}(bv),Sv=function(t){function n(n){var i;return(i=t.call(this,yv.$d)||this).Kd=n,i}return $(n,t),n.prototype.Yd=function(){return new Rv(this.Kd.Gd)},n}(kv),Rv=function(t){function n(n){var i;return(i=t.call(this,"removetrack")||this).track=n,i}return $(n,t),n}(bv);!function(t){t.Jd="Qd",t.Zd="tl",t.nl="il",t.ul="sl",t.ol="cl",t.al="fl",t.hl="vl",t.dl="ll",t.wl="Fc",t.yl="gl",t._l="pl",t.QUALITY_UNAVAILABLE="qualityunavailable",t.NO_QUALITY="noquality"}(mv||(mv={}));var Iv=function(t){function n(){var n;return(n=t.call(this)||this).ml=[],n.Xd=void 0,n}$(n,t);var i=n.prototype;return i.kl=function(t){return this.ml[t]},i.bl=function(t){return!(!t||Oe(this.ml,t))&&(this.ml.push(t),this.Xd&&this.Xd.push(t.Gd),t.Fo(mv.al,this.Po),this.Lo(new Tv(t)),!0)},i.Tl=function(t){if(!t)return!1;var n=this.ml.indexOf(t);return!(n<0)&&(Ne(this.ml,n),this.Xd&&Ne(this.Xd,n),t.Vo(mv.al,this.Po),this.Lo(new Sv(t)),!0)},i.El=function(t){return Oe(this.ml,t)},i.Sl=function(){for(var t=this.ml,n=t.length-1;n>=0;n-=1)this.Tl(t[n])},i.sr=function(){this.Sl(),this.Uo()},H(n,[{key:"Rl",get:function(){return this.ml}},{key:"Gd",get:function(){return this.Xd||(this.Xd=this.Yd()),this.Xd}},{key:"Il",get:function(){return this.ml.length}}]),n}(Je),Cv=function(t){function n(n){var i;return(i=t.call(this,mv.al)||this).Kd=n,i}return $(n,t),n.prototype.Yd=function(){return new Dv(this.Kd.Gd)},n}(kv),Dv=function(t){function n(n){var i;return(i=t.call(this,"change")||this).track=n,i}return $(n,t),n}(bv),Av=function(t){function n(){var n;return(n=t.call(this)||this).Cl=void 0,n.Dl=function(t){var i=t.Kd;n.bl(i)},n.Al=function(t){var i=t.Kd;n.Tl(i)},n}$(n,t);var i=n.prototype;return i.Nl=function(t){t.Fo(yv.Hd,this.Dl),t.Fo(yv.$d,this.Al)},i.Ol=function(t){t.Vo(yv.Hd,this.Dl),t.Vo(yv.$d,this.Al)},i.sr=function(){this.Cl&&this.Cl.sr(),t.prototype.sr.call(this)},H(n,[{key:"xl",get:function(){return this.Cl},set:function(t){var n=this.Cl;if(t!==n){if(n){this.Ol(n);for(var i=0,r=n.Rl;i<r.length;i++){var e=r[i];t&&t.El(e)||this.Tl(e)}}if(this.Cl=t,t){for(var u=[],s=0,o=t.Rl;s<o.length;s++){var c=o[s];this.bl(c),this.Pl(c)&&u.push(c)}this.Nl(t);for(var a=0;a<u.length;a++){var f=u[a];f.Lo(new Cv(f))}}}}}]),n}(Iv),Nv=d.freeze||L;function Ov(t,n,i){d.defineProperty(t,n,{writable:!1,enumerable:!0,value:i})}function xv(t,n){for(var i=0,r=d.getOwnPropertyNames(n);i<r.length;i++){var e=r[i];d.defineProperty(t,e,d.getOwnPropertyDescriptor(n,e))}return t}function Pv(t){if(ct(t)){var n={};for(var i in t)it.call(t,i)&&(n[i]=Pv(t[i]));return n}if(ut(t)){for(var r=new Array(t.length),e=0;e<r.length;e++)e in t&&(r[e]=Pv(t[e]));return r}return t}function Lv(t,n){return t===n||!(!t||!n)&&(!(!ot(t)||!ot(n))&&(st(t)?!!st(n)&&function(t,n){var i=t.length,r=n.length;if(i!==r)return!1;for(var e=0;e<i;e+=1)if(!Lv(t[e],n[e]))return!1;return!0}(t,n):!st(n)&&function(t,n){var i=d.keys(t),r=d.keys(n);if(!i||!r||i.length!==r.length)return!1;for(var e=0;e<i.length;e++){var u=i[e];if(!it.call(n,u)||!Lv(t[u],n[u]))return!1}return!0}(t,n)))}function Fv(t,n){return t.constructor===n.constructor}function Mv(t){for(var n={},i=0,r=d.keys(t);i<r.length;i++){var e=r[i],u=t[e];null!=u&&(n[e]=u)}return n}function Bv(t){var n=t;if("string"==typeof n){if("true"===(n=n.toLowerCase()))return!0;if("false"===n)return!1}return Boolean(n)}function Uv(t){return"string"==typeof t?""===t?NaN:Number(t):"boolean"==typeof t||null==t||t instanceof Date||"number"!=typeof Number(t)&&!t?NaN:Number(t)}function Vv(t){var n=Uv(t);if(g(n))throw new h("Expected a valid number.");return n}function qv(t){return"string"==typeof t?t:""}function jv(t,n){return st(t)?function(t,n){if(!st(t))return[];for(var i=0|t.length,r=new Array(i),e=0;e<i;e++)r[e]=n(t[e]);return r}(t,n):n(t)}var Hv=[yv.Hd,yv.$d,mv.al];function Wv(t){var n,i=t.Rl.map(function(t){return t.Gd});return i.item=function(n){var i=0|n,r=t.kl(i);return r&&r.Gd||void 0},i.addEventListener=function(t,i){n.Fo(t,i)},i.removeEventListener=function(t,i){n.Vo(t,i)},n=new Qe(i),t.Fo(Hv,function(t){return n.Lo(t.Gd)}),i}function $v(){}function zv(t){var n,i=[mv.wl,mv.al,mv.yl,mv._l,mv.QUALITY_UNAVAILABLE],r={get activeQuality(){return t.Ll&&t.Ll.Gd},get enabled(){return t.Fl},set enabled(n){t.Fl=Bv(n)},get id(){return t.Ml},get uid(){return t.Bl},get kind(){return t.Ul},get label(){return t.Vl},set label(n){t.Vl=qv(n)},get language(){return t.ql},get qualities(){return t.jl.Gd},set targetQuality(n){var i;(i=n?function(t,n){for(var i=[],r=0,e=t.jl.Rl;r<e.length;r++)for(var u=e[r],s=0;s<n.length;s++){var o=n[s];u.Gd===o&&i.push(u)}return i}(t,ut(n)?n:[n]):[]).length>0?t.Hl=i:t.Hl=void 0},get targetQuality(){if(t.Hl)return 1===t.Hl.length?t.Hl[0].Gd:t.Hl.map(function(t){return t.Gd})},addEventListener:function(t,i){var r=jv(t,qv);n.Fo(r,i)},removeEventListener:function(t,i){var r=jv(t,qv);n.Vo(r,i)}};return n=new Qe(r),t.Fo(i,function(t){return n.Lo(t.Gd)}),d.defineProperty(r,"constructor",{value:$v}),r}function Xv(){}function Gv(t){var n=Wv(t);return d.defineProperty(n,"constructor",{value:Xv}),n}var Yv,Kv,Jv=function(t){function n(){return t.apply(this,arguments)||this}$(n,t);var i=n.prototype;return i.Yd=function(){return Gv(this)},i.Pl=function(t){return t.Fl},n}(Av);function Qv(){}function Zv(t){var n,i=[mv.al,mv.wl,mv.Jd,mv.Zd,mv.nl,mv.ul,mv.ol,mv.hl,mv.dl],r=[Kv.Wl],e={get kind(){return t.Ul},get label(){return t.Vl},set label(n){t.Vl=qv(n)},get language(){return t.ql},get id(){return t.Ml},get uid(){return t.Bl},get inBandMetadataTrackDispatchType(){return t.$l},get mode(){return t.zl},set mode(n){n!==Yv.Xl&&n!==Yv.Gl&&n!==Yv.Yl||(t.zl=n)},get type(){return t.eo},get readyState(){return id(t.Kl)},get cues(){return t.zl===Yv.Yl?null:t.Jl.Gd},get activeCues(){return t.zl===Yv.Yl?null:t.Ql.Gd},get src(){return t.Zl||""},addEventListener:function(t,i){var r=jv(t,qv);n.Fo(r,i)},removeEventListener:function(t,i){var r=jv(t,qv);n.Vo(r,i)}};return n=new Qe(t),t.Fo(i,function(t){return n.Lo(t.Gd)}),t.Fo(r,function(t){return n.Lo(t)}),d.defineProperty(e,"constructor",{value:Qv}),e}function td(){}function nd(t){var n=Wv(t);return d.defineProperty(n,"constructor",{value:td}),n}function id(t){return t}!function(t){t.Yl="disabled",t.Gl="hidden",t.Xl="showing"}(Yv||(Yv={})),function(t){t.Wl="error"}(Kv||(Kv={}));var rd=function(t){function n(){return t.apply(this,arguments)||this}$(n,t);var i=n.prototype;return i.Yd=function(){return nd(this)},i.Pl=function(t){return t.zl===Yv.Xl},n}(Av),ed=function(t){function n(){return t.apply(this,arguments)||this}$(n,t);var i=n.prototype;return i.Bo=function(n){t.prototype.Bo.call(this,n)},i.Ho=function(n){t.prototype.Ho.call(this,n)},n}(Je),ud=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n}(ed),sd=function(t){function n(){return t.call(this,to.Qa)||this}return $(n,t),n}(Ze),od=function(t){function n(n){var i;return(i=t.call(this,to.Xa)||this).currentSource=n,i}return $(n,t),n}(Ze),cd=function(){function t(){}return t.tw=function(n,i){var r=t.nw(n,i);return r?t.iw(r):0},t.rw=function(){return A.Vd||"default"},t.ew=function(){return A.qd||"unknown"},t.nw=function(n,i){var r,e=null==(r=A.Md)?void 0:r.ec(i),u=e&&JSON.parse(e);if(u&&u[n])return t.uw(u,n,i)},t.iw=function(t){var n=t.availableBandwidth;return n||0},t.uw=function(n,i,r){if(!t.sw(n,i))return n[i];t.ow(n,i,r)},t.ow=function(t,n,i){var r;delete t[n],null==(r=A.Md)||r.Ua(i,JSON.stringify(t))},t.sw=function(t,n){var i=t[n].storedTimestamp;if(!i)return!1;var r=new Date(i),e=(new Date).getTime();return r.setMonth(r.getMonth()+1)<=e},t.cw=function(t,n,i,r){var e;return te({},t,((e={})[n]={availableBandwidth:i,storedTimestamp:r},e))},t.aw=function(n){var i=t.rw();t.fw(i,"theoplayer-stored-network-info",n,Zt())},t.fw=function(n,i,r,e){var u,s,o=null==(u=A.Md)?void 0:u.ec(i),c=o?JSON.parse(o):void 0,a=t.cw(c,n,r,e);null==(s=A.Md)||s.Ua(i,JSON.stringify(a))},t.hw=function(){var n=t.rw();return t.tw(n,"theoplayer-stored-network-info")},t}();var ad,fd,hd,vd,dd,ld,wd="1ADD53F3";function yd(t){return{chromecast:function(t){return{appID:t&&t.appID?qv(t.appID):wd}}(t?t.chromecast:void 0),strategy:function(t){switch(t){case"auto":return ad.AUTO;case"manual":return ad.MANUAL;case"disabled":return ad.DISABLED;default:return ad.MANUAL}}(t?t.strategy:void 0)}}function gd(t){var n,i=hd.vw;return(n=t)&&_r(n,"mpd")&&(i=hd.dw),function(t){return!!t&&_r(t,"m3u8")}(t)&&(i=hd.lw),i}function _d(t){return ot(t)&&ot(t.ssai)&&"google-dai"===t.ssai.integration}function pd(t){return ot(t)&&at(t.integration)&&"verizon-media"===t.integration}function md(t){if(at(t))return!t;if(pd(t))return!t.id;if(_d(t)){var n=t.ssai,i="live"===n.availabilityType&&n.assetKey,r="vod"===n.availabilityType&&n.contentSourceID&&n.videoID;return Boolean(i&&r)}return!t.src}function kd(t){return Boolean(ot(t)&&at(t.src))}function bd(t){return at(t)||kd(t)||_d(t)||pd(t)}function Td(t){if(t){if(bd(t))return md(t);for(var n=0;n<t.length;n++){if(!md(t[n]))return!1}return!0}return!0}function Ed(){return{crossOrigin:fd.ww,useCredentials:!1,liveOffset:void 0,timeServer:void 0,hlsDateRange:void 0,experimentalRendering:!1,nativeUiRendering:!1,lowLatency:!1,useNativePlayback:!1,dash:void 0,hls:void 0}}function Sd(){return te({},Ed(),{src:void 0,type:hd.vw,contentProtection:void 0,ssai:void 0,integrationData:void 0,isAdvertisement:void 0})}function Rd(t){var n={allowedMimeTypes:void 0,preload:"midroll-and-postroll",showCountdown:!0,vpaidMode:vd.ENABLED,googleImaConfiguration:{useNativeIma:!1}};return void 0===t?n:(void 0!==t.preload&&(n.preload=function(t){switch(t){case"none":return dd.NONE;case"midroll-and-postroll":default:return dd.MIDROLL_AND_POSTROLL}}(t.preload)),void 0!==t.showCountdown&&(n.showCountdown=Bv(t.showCountdown)),void 0!==t.vpaidMode&&(n.vpaidMode=function(t){switch(t){case"insecure":return vd.INSECURE;case"disabled":return vd.DISABLED;case"enabled":default:return vd.ENABLED}}(t.vpaidMode)),ut(t.allowedMimeTypes)&&(n.allowedMimeTypes=t.allowedMimeTypes.filter(at)),void 0!==t.googleImaConfiguration&&(n.googleImaConfiguration=function(t){return void 0===t?{useNativeIma:!1}:{useNativeIma:Bv(t.useNativeIma)}}(t.googleImaConfiguration)),n)}function Id(t){if(!st(t))return[];for(var n=[],i=0,r=t;i<r.length;i++){var e=r[i];ct(e)&&n.push(e)}return n}function Cd(t){return at(t.src)}!function(t){t.AUTO="auto",t.MANUAL="manual",t.DISABLED="disabled"}(ad||(ad={})),function(t){t.ww="",t.yw="anonymous",t.gw="use-credentials"}(fd||(fd={})),function(t){t.dw="application/dash+xml",t.lw="application/vnd.apple.mpegurl",t._w="application/x-mpegurl",t.vw="video/mp4",t.pw="application/vnd.theoplayer.hesp+json",t.mw="application/vnd.theo.hesp+json"}(hd||(hd={})),function(t){t.ENABLED="enabled",t.INSECURE="insecure",t.DISABLED="disabled"}(vd||(vd={})),function(t){t.NONE="none",t.MIDROLL_AND_POSTROLL="midroll-and-postroll"}(dd||(dd={})),function(t){t[t.kw=0]="kw",t[t.bw=1]="bw",t[t.Tw=2]="Tw",t[t.Ew=3]="Ew",t[t.Sw=4]="Sw"}(ld||(ld={}));var Dd,Ad=function(t){function n(n,i){var r;return void 0===i&&(i=ld.kw),(r=t.call(this,to.Ka)||this).currentTime=n,r.readyState=i,r}return $(n,t),n}(Ze),Nd=function(t){function n(n){var i;return(i=t.call(this,to.uf)||this).currentTime=n,i}return $(n,t),n}(Ze),Od=function(t){function n(n){var i;return(i=t.call(this,to.sf)||this).currentTime=n,i}return $(n,t),n}(Ze);!function(t){t.Rw="canplay",t.Iw="canplaythrough",t.Cw="loadeddata",t.Dw="loadedmetadata",t.hl="readystatechange",t.Aw="waiting",t.Nw="playing"}(Dd||(Dd={}));var xd,Pd,Ld=[Dd.Rw,Dd.Iw,Dd.Cw,Dd.Dw,Dd.hl,Dd.Aw,Dd.Nw],Fd=function(t){function n(n,i){var r;return void 0===i&&(i=ld.bw),(r=t.call(this,Dd.Dw)||this).currentTime=n,r.readyState=i,r}return $(n,t),n}(Ze),Md=function(t){function n(n){var i;return(i=t.call(this,to.Ya)||this).duration=n,i}return $(n,t),n}(Ze),Bd=function(t){function n(n,i){var r;return(r=t.call(this,to.af)||this).currentTime=n,r.playbackRate=i,r}return $(n,t),n}(Ze),Ud=function(t){function n(n,i){var r;return(r=t.call(this,to.mf)||this).currentTime=n,r.currentProgramDateTime=i,r}return $(n,t),n}(Ze),Vd=function(t){function n(n){var i;return(i=t.call(this,to.Ja)||this).currentTime=n,i}return $(n,t),n}(Ze),qd=function(t){function n(n,i){var r;return void 0===i&&(i=ld.Tw),(r=t.call(this,Dd.Cw)||this).currentTime=n,r.readyState=i,r}return $(n,t),n}(Ze),jd=function(t){function n(n){var i;return(i=t.call(this,to.df)||this).currentTime=n,i}return $(n,t),n}(Ze),Hd=function(t){function n(n){var i;return(i=t.call(this,to.vf)||this).currentTime=n,i}return $(n,t),n}(Ze),Wd=function(t){function n(n,i){var r;return(r=t.call(this,to.kf)||this).currentTime=n,r.volume=i,r}return $(n,t),n}(Ze),$d=function(t){function n(n,i){var r;return void 0===i&&(i=ld.Ew),(r=t.call(this,Dd.Rw)||this).currentTime=n,r.readyState=i,r}return $(n,t),n}(Ze),zd=function(t){function n(n,i){var r;return void 0===i&&(i=ld.Sw),(r=t.call(this,Dd.Iw)||this).currentTime=n,r.readyState=i,r}return $(n,t),n}(Ze),Xd=function(t){function n(n,i){var r;return(r=t.call(this,Dd.hl)||this).currentTime=n,r.readyState=i,r}return $(n,t),n}(Ze),Gd=function(t){function n(n){var i;return(i=t.call(this,Kv.Wl)||this).errorObject=n,i}return $(n,t),n.prototype.Yd=function(){return this},H(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(pv);function Yd(t){switch(t){case xd.ALL:case xd.CONTENT:return t;default:return xd.NONE}}function Kd(t){var n,i,r,e=Pv(t||{});return e.libraryLocation&&(e.libraryLocation=Rr(e.libraryLocation)),e.isEmbeddable=Boolean(e.isEmbeddable),e.cast=yd(e.cast),e.ads=Rd(e.ads),e.analytics=Id(e.analytics),e.mutedAutoplay=Yd(e.mutedAutoplay),e.allowNativeFullscreen=Boolean(e.allowNativeFullscreen),e.allowMixedContent=Boolean(e.allowMixedContent),e.persistVolume=Boolean(e.persistVolume),e.liveOffset=(n=e.liveOffset,Number(n)||void 0),e.hlsDateRange=(i=e.hlsDateRange,Boolean(i)),e.retainPlaybackRateOnSourceChange=Boolean(e.retainPlaybackRateOnSourceChange),e.license=at(r=e.license)?r:void 0,e.licenseUrl=function(t){if(!t)return;try{return Rr(t)}catch(t){return void A.ks("Invalid 'licenseUrl', falling back to default URL")}}(e.licenseUrl),e}function Jd(t){return{Ow:t.Ow,xw:t.xw,Pw:t.Pw,Ko:t.Ko,Lw:t.Lw,Fw:t.Fw,Mw:t.Mw,Bw:t.Bw,Kl:t.Kl,Uw:t.Uw,Vw:t.Vw,qw:t.qw,jw:t.jw}}function Qd(t,n,i){if(n!==i){var r=n.Ow,e=n.xw,u=n.Fw,s=n.Mw,o=n.Bw,c=n.Kl,a=n.Uw,f=(n.qw,n.Vw,n.jw),h=i.Ow,v=i.xw,d=i.Pw,l=i.Lw,w=i.Fw,y=i.Mw,_=i.Bw,p=i.Kl,m=i.Uw,k=(i.qw,i.Vw,i.jw);c!==ld.kw&&t.Lo(new Ad(h,p)),y&&!s?t.Lo(new Nd(h)):!y&&s&&t.Lo(new Od(h)),p>=ld.bw&&t.Lo(new Fd(h,p)),v===e||g(v)&&g(e)||t.Lo(new Md(v)),_!==o&&t.Lo(new Bd(h,_)),h!==r&&t.Lo(new Ud(h,void 0)),d&&t.Lo(new Vd(h)),p>=ld.Tw&&t.Lo(new qd(h,p)),m&&!a?t.Lo(new jd(h)):!m&&a&&t.Lo(new Hd(h)),k===f&&w===u||t.Lo(new Wd(h,k)),p>=ld.Ew&&t.Lo(new $d(h,p)),p>=ld.Sw&&t.Lo(new zd(h,p)),p!==c&&t.Lo(new Xd(h,p)),l&&t.Lo(new Gd(l))}}!function(t){t.NONE="none",t.ALL="all",t.CONTENT="content"}(xd||(xd={})),function(t){t.LIVE_OFFSET="liveoffset",t.TRACK_BYTES_DOWNLOADED="trackbytesdownloaded",t.ESTIMATED_TRACK_NETWORK_BANDWIDTH="estimatedtracknetworkbandwidth",t.ESTIMATED_TRACK_MEDIA_DATA_BANDWIDTH="estimatedtrackmediadatabandwidth",t.SEGMENT_RECEIVE_INTERVAL="segmentreceiveinterval"}(Pd||(Pd={}));var Zd,tl=400,nl={windowStart:.2,target:.45,windowEnd:.7,maxOffset:1.5},il=rl(.5,nl);function rl(t,n){var i=l.max(1,t/n.windowStart);return{windowStart:i*n.windowStart,target:i*n.target,windowEnd:i*n.windowEnd,maxOffset:n.maxOffset+(i*n.windowEnd-n.windowEnd)}}function el(){var t;return t="Android"===A.Bs.Us?il:nl,A.Bs.Vs?function(t){var n=t;A.Bs.Vs&&(n=rl((tl+250)/1e3,n));return n}(t):t}!function(t){t[t.Hw=0]="Hw",t[t.Ww=1]="Ww",t[t.$w=-1]="$w"}(Zd||(Zd={}));var ul=function(t,n){return(0|t)-(0|n)},sl=function(t,n){return t===n?Zd.Hw:t<n?Zd.$w:t>n?Zd.Ww:g(t)?g(n)?Zd.Hw:Zd.Ww:Zd.$w};function ol(t,n,i){return Jt(t,n,i)?Zd.Hw:sl(t,n)}var cl=function(t,n){return function(t,n){if(t===n)return!0;var i=l.abs(t-n);return i<Yt||i<l.max(l.abs(t),l.abs(n))*Yt}(t,n)?Zd.Hw:sl(t,n)},al=function(){function t(){}var n=t.prototype;return n.zw=function(t){return this.Xw()*t},n.Gw=function(t){return this.Yw(t)>0},n.Kw=function(t){return this.Yw(t)>=0},n.Jw=function(t,n){return this.Zw(t).Qw(n)},n.ty=function(t){return 0===this.Yw(t)},n.ny=function(t){return this.Yw(t)<0},n.Qw=function(t){return this.Yw(t)<=0},n.iy=function(){return this.ey()?this.uy():this},n.sy=function(t){return this.oy(t.uy())},n.Zw=function(t){return this.sy(t).iy()},t}();function fl(t,n){return t.ay()?n.ay()?Zd.Hw:Zd.Ww:n.ay()?Zd.$w:t.hy()?n.hy()&&t.ey()===n.ey()?Zd.Hw:t.ey()?Zd.$w:Zd.Ww:n.ey()?Zd.Ww:Zd.$w}var hl=function(){function t(t,n){this.vy=void 0,this.ly=void 0,this.vy=t,this.ly=n}t.wy=function(n,i,r){return r?new t(n.toUnsigned(),i.toUnsigned()):new t(n.toSigned(),i.toSigned())},t.yy=function(n){return n.unsigned?new t(n,Gt.UZERO):new t(n,n.isNegative()?Gt.NEG_ONE:Gt.ZERO)},t.gy=function(n,i){if(g(n))return i?t._y:t.py;if(i){if(n<0)return t._y;if(n>=3.402823669209385e38)return t.my}else{if(n<=-1.7014118346046923e38)return t.ky;if(n+1>=1.7014118346046923e38)return t.by}return n<0?t.gy(-n,i).uy():t.wy(Gt.fromNumber(n%0x10000000000000000),Gt.fromNumber(n/0x10000000000000000),i)};var n=t.prototype;return n.Ty=function(){return this.ly.unsigned},n.Ey=function(){return this.vy.isZero()&&this.ly.isZero()},n.ey=function(){return this.ly.isNegative()},n.Sy=function(){return this.Ty()?t.wy(this.vy,this.ly,!1):this},n.Ry=function(){return this.Ty()?this:t.wy(this.vy,this.ly,!0)},n.Iy=function(){return this.vy},n.Xw=function(){return this.ey()?-this.uy().Xw():0x10000000000000000*this.ly.toNumber()+this.vy.toUnsigned().toNumber()},n.Cy=function(){return this.vy.toInt()},n.ty=function(t){return(this.Ty()===t.Ty()||this.ly.getHighBits()>>>31!=1||t.ly.getHighBits()>>>31!=1)&&(this.ly.toUnsigned().eq(t.ly.toUnsigned())&&this.vy.toUnsigned().eq(t.vy.toUnsigned()))},n.Yw=function(t){if(this.ty(t))return Zd.Hw;var n=this.ey(),i=t.ey();if(n&&!i)return Zd.$w;if(!n&&i)return Zd.Ww;if(!this.Ty())return this.sy(t).ey()?Zd.$w:Zd.Ww;var r=this.Ry(),e=t.Ry(),u=e.ly.comp(r.ly);return u>0||0===u&&e.vy.gt(r.vy)?Zd.$w:Zd.Ww},n.ny=function(t){return this.Yw(t)<0},n.Qw=function(t){return this.Yw(t)<=0},n.Dy=function(t){return this.Yw(t)>0},n.Ay=function(t){return this.Yw(t)>=0},n.Ny=function(){return new t(this.vy.not(),this.ly.not())},n.Oy=function(n){return new t(this.vy.and(n.vy),this.ly.and(n.ly))},n.xy=function(n){return new t(this.vy.or(n.vy),this.ly.or(n.ly))},n.Py=function(n){var i=127&n;return 0===i?this:i<64?t.wy(this.vy.shl(i),this.ly.shl(i).or(this.vy.shru(64-i)),this.Ty()):t.wy(Gt.ZERO,this.vy.shl(i-64),this.Ty())},n.Ly=function(n){var i=127&n;return 0===i?this:i<64?t.wy(this.vy.shru(i).or(this.ly.shl(64-i)),this.ly.shr(i),this.Ty()):t.wy(this.ly.shr(i-64),this.ly.isNegative()?Gt.NEG_ONE:Gt.ZERO,this.Ty())},n.Fy=function(n){var i=127&n;return 0===i?this:i<64?t.wy(this.vy.shru(i).or(this.ly.shl(64-i)),this.ly.shru(i),this.Ty()):64===i?t.wy(this.ly,Gt.ZERO,this.Ty()):t.wy(this.ly.shru(i-64),Gt.ZERO,this.Ty())},n.oy=function(n){var i=this.ly.high>>>16,r=65535&this.ly.high,e=this.ly.low>>>16,u=65535&this.ly.low,s=this.vy.high>>>16,o=65535&this.vy.high,c=this.vy.low>>>16,a=65535&this.vy.low,f=n.ly.high>>>16,h=65535&n.ly.high,v=n.ly.low>>>16,d=65535&n.ly.low,l=n.vy.high>>>16,w=65535&n.vy.high,y=n.vy.low>>>16,g=0,_=0,p=0,m=0,k=0,b=0,T=0,E=0;T+=(E+=a+(65535&n.vy.low))>>>16,E&=65535,b+=(T+=c+y)>>>16,T&=65535,k+=(b+=o+w)>>>16,b&=65535,m+=(k+=s+l)>>>16,k&=65535,p+=(m+=u+d)>>>16,m&=65535,_+=(p+=e+v)>>>16,p&=65535,g+=(_+=r+h)>>>16,_&=65535,g+=i+f,g&=65535;var S=this.Ty(),R=Gt.fromBits(p<<16|m,g<<16|_,S),I=Gt.fromBits(T<<16|E,k<<16|b,S);return t.wy(I,R,S)},n.sy=function(t){return this.oy(t.uy())},n.uy=function(){return this.Ny().oy(t.My)},n.By=function(n){if(this.Ey()||n.Ey())return this.Ty()?t._y:t.py;if(this.ey())return n.ey()?this.uy().By(n.uy()):this.uy().By(n).uy();if(n.ey())return this.By(n.uy()).uy();if(this.ly.isZero()&&0===this.vy.high&&n.ly.isZero()&&0===n.vy.high)return t.yy(this.vy.multiply(n.vy));var i=Gt.fromBits(4294967295,0,!0),r=this.vy.and(i),e=this.vy.shru(32),u=this.ly.and(i),s=this.ly.shru(32),o=n.vy.and(i),c=n.vy.shru(32),a=n.ly.and(i),f=n.ly.shru(32),h=Gt.UZERO,v=Gt.UZERO,d=Gt.UZERO,l=Gt.UZERO;h=h.add(r.mul(o)),v=v.add(h.shru(32)),h=h.and(i),v=v.add(e.mul(o)),d=d.add(v.shru(32)),v=(v=v.and(i)).add(r.mul(c)),d=d.add(v.shru(32)),v=v.and(i),d=d.add(u.mul(o)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(e.mul(c)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(r.mul(a)),l=l.add(d.shru(32)),d=d.and(i),l=l.add(s.mul(o)).add(u.mul(c)).add(e.mul(a)).add(r.mul(f)).and(i);var w=Gt.fromBits(h.getLowBitsUnsigned(),v.getLowBitsUnsigned(),!0),y=Gt.fromBits(d.getLowBitsUnsigned(),l.getLowBitsUnsigned(),!0);return t.wy(w,y,this.Ty())},n.Uy=function(n){var i,r,e=n;if(e.Ey())throw new RangeError("division by zero");if(this.Ey())return this.Ty()?[t._y,t._y]:[t.py,t.py];if(this.Ty()){if(e.Ty()||(e=e.Ry()),e.Dy(this))return[t._y,this];if(e.Dy(this.Fy(1)))return[r=t.Vy,i=this.sy(e)];r=t._y}else{if(this.ty(t.ky)){if(e.ty(t.My)||e.ty(t.qy))return[t.ky,t.py];if(e.ty(t.ky))return[t.My,t.py];var u=this.Ly(1).jy(e).Py(1);return u.ty(t.py)?r=e.ey()?t.My:t.qy:(i=this.sy(e.By(u)),r=u.oy(i.jy(e))),[r,i=this.sy(e.By(r))]}if(e.ty(t.ky))return this.Ty()?[t._y,this]:[t.py,this];if(this.ey()){if(e.ey())return this.uy().Uy(e.uy());var s=this.uy().Uy(e);return r=s[0],i=s[1],[r.uy(),i.uy()]}if(e.ey()){var o=this.Uy(e.uy());return r=o[0],i=o[1],[r.uy(),i.uy()]}r=t.py}for(i=this;i.Ay(e);){for(var c=l.max(1,l.floor(i.Xw()/e.Xw())),a=l.ceil(l.log(c)/l.LN2),f=a<=48?1:l.pow(2,a-48),h=t.gy(c),v=h.By(e);v.ey()||v.Dy(i);)c-=f,v=(h=t.gy(c,this.Ty())).By(e);h.Ey()&&(h=t.My),r=r.oy(h),i=i.sy(v)}return[r,i]},n.jy=function(t){return this.Uy(t)[0]},n.Hy=function(t){return this.Uy(t)[1]},n.toString=function(n){var i=n||10;if(i<2||i>36)throw new RangeError("radix");if(this.Ey())return"0";if(this.ey()){if(this.ty(t.ky)){var r=t.gy(i),e=this.jy(r),u=e.By(r).sy(this);return e.toString(i)+u.Cy().toString(i)}return"-"+this.uy().toString(i)}for(var s=t.gy(l.pow(i,6),this.Ty()),o=this,c="";;){var a=o.jy(s),f=(o.sy(a.By(s)).Cy()>>>0).toString(i);if((o=a).Ey())return f+c;for(;f.length<6;)f="0"+f;c=String(f)+c}},t}();hl.py=hl.yy(Gt.ZERO),hl._y=hl.yy(Gt.UZERO),hl.My=hl.yy(Gt.ONE),hl.Vy=hl.yy(Gt.UONE),hl.qy=hl.yy(Gt.NEG_ONE),hl.by=hl.wy(Gt.NEG_ONE,Gt.MAX_VALUE,!1),hl.my=hl.wy(Gt.MAX_UNSIGNED_VALUE,Gt.MAX_UNSIGNED_VALUE,!0),hl.ky=hl.wy(Gt.ZERO,Gt.MIN_VALUE,!1);var vl=function(){function t(t,n){void 0===n&&(n=1),this.Wy=void 0,this.$y=void 0,this.Wy=t,this.$y=n}t.zy=function(n){return new t(l.ceil(n.Wy),n.$y)},t.Xy=function(n){return new t(l.floor(n.Wy),n.$y)},t.Gy=function(t,n){return t.Kw(n)?t:n},t.Yy=function(t,n){return t.Qw(n)?t:n};var n=t.prototype;return n.oy=function(n){return this.$y>=n.$y?new t(this.Wy+n.Ky(this.$y).Wy,this.$y):new t(this.Ky(n.$y).Wy+n.Wy,n.$y)},n.Gw=function(t){return t.ny(this)},n.Kw=function(t){return t.Qw(this)},n.Zw=function(n){return this.$y>=n.$y?new t(l.abs(this.Wy-n.Ky(this.$y).Wy),this.$y):n.Zw(this)},n.Jw=function(t,n){return this.Zw(t).Qw(n)},n.Yw=function(t){return i=t,(n=this).$y>=i.$y?cl(n.Wy,i.Ky(n.$y).Wy):cl(n.Ky(i.$y).Wy,i.Wy);var n,i},n.ty=function(t){return 0===this.Yw(t)},n.ny=function(t){return this.Yw(t)<0},n.Qw=function(t){return this.Yw(t)<=0},n.Ky=function(n){return new t(this.Wy*(n/this.$y),n)},n.sy=function(n){return this.$y>=n.$y?new t(this.Wy-n.Ky(this.$y).Wy,this.$y):new t(this.Ky(n.$y).Wy-n.Wy,n.$y)},n.Jy=function(n){return new t(this.Wy*n,this.$y)},H(t,[{key:"hy",get:function(){return!isFinite(this.Wy)}},{key:"Qy",get:function(){return this.Wy/this.$y}}]),t}();vl.Zy=new vl(1/6,1),vl.py=new vl(0),vl.tg=new vl(1/0),vl.ng=1e6;var dl=function(t){function n(n,i){var r;return(r=t.call(this)||this).hu=void 0,r.$y=void 0,r.hu=n.toSigned(),r.$y=i>>>0,r}$(n,t),n.ig=function(t,i){return void 0===i&&(i=1e6),n.gy(t*i,i)},n.gy=function(t,i){return g(t)?n.rg:t===1/0?n.eg:t===-1/0?n.ug:new n(Gt.fromNumber(t),i)},n.yy=function(t,i){return new n(t,i)},n.sg=function(t){return n.ig(t.Qy,1e6)},n.og=function(t){return new n(Gt.fromNumber(t.getTime()),1e3)},n.Gy=function(t,n){return t.Kw(n)?t:n},n.Yy=function(t,n){return t.Qw(n)?t:n},n.cg=function(t,i,r){return n.Gy(i,n.Yy(r,t))};var i=n.prototype;return i.ey=function(){return this.hu.isNegative()},i.Ey=function(){return 0!==this.$y&&this.hu.isZero()},i.hy=function(){return 0===this.$y&&!this.hu.isZero()},i.ay=function(){return 0===this.$y&&this.hu.isZero()},i.Xw=function(){if(0===this.$y)return this.hu.isZero()?NaN:this.hu.isNegative()?-1/0:1/0;var t=this.hu.divide(this.$y),n=this.hu.subtract(t.multiply(this.$y));return t.toNumber()+n.toNumber()/this.$y},i.Iy=function(){if(0===this.$y)throw new h("Failed to convert timestamp");return this.hu},i.ag=function(){return new Date(0===this.$y?NaN:this.Ky(1e3).hu.toNumber())},i.fg=function(){return new vl(0===this.$y?this.Xw():this.hu.toNumber(),this.$y)},i.Ky=function(t,i){void 0===i&&(i=yl.hg);var r=this.$y;if(r===t)return this;if(0===r)return this;var e=Qt(r,t);return new n(function(t,n,i){var r=t.Uy(n),e=r[0],u=r[1];if(u.Ey())return e;if(i===yl.hg)return u.ey()?e.sy(hl.My):e;if(i===yl.vg)return u.ey()?e:e.oy(hl.My);var s=u.By(hl.gy(2));return s.ey()?s.uy().ny(n)?e:e.sy(hl.My):s.ny(n)?e:e.oy(hl.My)}(hl.yy(this.hu).By(hl.gy(t/e)),hl.gy(r/e),i).Iy(),t)},i.Yw=function(t){if(this===t)return Zd.Hw;if(0===this.$y||0===t.$y)return fl(this,t);if(this.Ey())return t.Ey()?Zd.Hw:t.ey()?Zd.Ww:Zd.$w;if(t.Ey())return this.ey()?Zd.$w:Zd.Ww;var n=l.min(this.$y,t.$y),i=this.Ky(n,yl.dg).hu,r=t.Ky(n,yl.dg).hu;return i.compare(r)},i.uy=function(){return 0===this.$y?ll(this):new n(this.hu.negate(),this.$y)},i.oy=function(t){if(0===this.$y||0===t.$y)return wl(this,t);if(this.Ey())return t;if(t.Ey())return this;var i=l.max(this.$y,t.$y),r=this.Ky(i,yl.dg),e=t.Ky(i,yl.dg);return new n(r.hu.add(e.hu),i)},i.By=function(t){if(this.ay()||g(t))return n.rg;if(this.hy()||!isFinite(t)){if(this.Ey()||0===t)return n.rg;var i=this.ey()?n.ug:n.eg;return t<0?i.uy():i}return this.Ey()?this:new n(0===t?Gt.ZERO:this.hu.multiply(t),this.$y)},i.jy=function(t){if(this.ay()||g(t))return n.rg;if(this.hy())return isFinite(t)?0===t?1/t<0?this.uy():this:t<0?this.uy():this:n.rg;if(!isFinite(t))return new n(Gt.ZERO,this.$y);if(this.Ey())return 0===t?n.rg:new n(Gt.ZERO,this.$y);if(0===t){var i=this.ey()?n.ug:n.eg;return 1/t<0?i.uy():i}return new n(this.hu.divide(t),this.$y)},i.lg=function(){return[this.hu.low,this.hu.high,this.$y]},n}(al);function ll(t){return t.ay()?t:t.ey()?dl.eg:dl.ug}function wl(t,n){return t.ay()||n.ay()?dl.rg:t.hy()&&n.hy()?t.ey()===n.ey()?t:dl.rg:t.hy()?t:n}dl.py=new dl(Gt.ZERO,1e6),dl.rg=new dl(Gt.ZERO,0),dl.eg=new dl(Gt.ONE,0),dl.ug=new dl(Gt.NEG_ONE,0);var yl,gl=function(t){function n(n,i){var r;return(r=t.call(this)||this).hu=void 0,r.$y=void 0,r.hu=BigInt.asIntN(64,n),r.$y=i>>>0,r}$(n,t),n.ig=function(t,i){return void 0===i&&(i=1e6),n.gy(t*i,i)},n.gy=function(t,i){return g(t)?n.rg:t===1/0?n.eg:t===-1/0?n.ug:new n(BigInt(l.floor(t)),i)},n.yy=function(t,i){return new n(BigInt(t.high)<<BigInt(32)|BigInt(t.low>>>0),i)},n.sg=function(t){return n.ig(t.Qy,1e6)},n.og=function(t){return n.gy(t.getTime(),1e3)},n.Gy=function(t,n){return t.Kw(n)?t:n},n.Yy=function(t,n){return t.Qw(n)?t:n},n.cg=function(t,i,r){return n.Gy(i,n.Yy(r,t))};var i=n.prototype;return i.ey=function(){return this.hu<BigInt(0)},i.Ey=function(){return 0!==this.$y&&this.hu===BigInt(0)},i.hy=function(){return 0===this.$y&&this.hu!==BigInt(0)},i.ay=function(){return 0===this.$y&&this.hu===BigInt(0)},i.Xw=function(){if(0===this.$y)return this.hu===BigInt(0)?NaN:this.hu<BigInt(0)?-1/0:1/0;var t=this.hu/BigInt(this.$y),n=this.hu-t*BigInt(this.$y);return Number(t)+Number(n)/this.$y},i.Iy=function(){if(0===this.$y)throw new h("Failed to convert timestamp");return this.wg()},i.wg=function(){var t=this.hu&BigInt(4294967295),n=this.hu>>BigInt(32)&BigInt(4294967295);return Gt.fromBits(Number(t),Number(n))},i.ag=function(){return new Date(0===this.$y?NaN:Number(this.Ky(1e3).hu))},i.fg=function(){return new vl(0===this.$y?this.Xw():Number(this.hu),this.$y)},i.Ky=function(t,i){void 0===i&&(i=yl.hg);var r=this.$y;if(r===t)return this;if(0===r)return this;var e=Qt(r,t);return new n(function(t,n,i){var r=t/n,e=t-r*n;if(e===BigInt(0))return r;if(i===yl.hg)return e<BigInt(0)?r-BigInt(1):r;if(i===yl.vg)return e<BigInt(0)?r:r+BigInt(1);var u=e*BigInt(2);return u<BigInt(0)?-u<n?r:r-BigInt(1):u<n?r:r+BigInt(1)}(this.hu*BigInt(t/e),BigInt(r/e),i),t)},i.Yw=function(t){if(this===t)return Zd.Hw;if(0===this.$y||0===t.$y)return fl(this,t);if(this.Ey())return t.Ey()?Zd.Hw:t.ey()?Zd.Ww:Zd.$w;if(t.Ey())return this.ey()?Zd.$w:Zd.Ww;var n=l.min(this.$y,t.$y),i=this.Ky(n,yl.dg).hu,r=t.Ky(n,yl.dg).hu;return i>r?Zd.Ww:i<r?Zd.$w:Zd.Hw},i.uy=function(){return 0===this.$y?_l(this):new n(-this.hu,this.$y)},i.oy=function(t){if(0===this.$y||0===t.$y)return pl(this,t);if(this.Ey())return t;if(t.Ey())return this;var i=l.max(this.$y,t.$y),r=this.Ky(i,yl.dg),e=t.Ky(i,yl.dg);return new n(r.hu+e.hu,i)},i.By=function(t){if(this.ay()||g(t))return n.rg;if(this.hy()||!isFinite(t)){if(this.Ey()||0===t)return n.rg;var i=this.ey()?n.ug:n.eg;return t<0?i.uy():i}return this.Ey()?this:new n(0===t?BigInt(0):this.hu*BigInt(t),this.$y)},i.jy=function(t){if(this.ay()||g(t))return n.rg;if(this.hy())return isFinite(t)?0===t?1/t<0?this.uy():this:t<0?this.uy():this:n.rg;if(!isFinite(t))return new n(BigInt(0),this.$y);if(this.Ey())return 0===t?n.rg:new n(BigInt(0),this.$y);if(0===t){var i=this.ey()?n.ug:n.eg;return 1/t<0?i.uy():i}return new n(this.hu/BigInt(t),this.$y)},i.lg=function(){var t=this.wg();return[t.low,t.high,this.$y]},H(n,null,[{key:"py",get:function(){return n.yg||(n.yg=new n(BigInt(0),1e6)),n.yg}},{key:"rg",get:function(){return n.gg||(n.gg=new n(BigInt(0),0)),n.gg}},{key:"eg",get:function(){return n._g||(n._g=new n(BigInt(1),0)),n._g}},{key:"ug",get:function(){return n.pg||(n.pg=new n(BigInt(-1),0)),n.pg}}]),n}(al);function _l(t){return t.ay()?t:t.ey()?gl.eg:gl.ug}function pl(t,n){return t.ay()||n.ay()?gl.rg:t.hy()&&n.hy()?t.ey()===n.ey()?t:gl.rg:t.hy()?t:n}gl.yg=void 0,gl.gg=void 0,gl._g=void 0,gl.pg=void 0,function(t){t[t.hg=0]="hg",t[t.vg=1]="vg",t[t.dg=2]="dg"}(yl||(yl={}));var ml,kl=function(){try{return"function"==typeof BigInt&&"bigint"==typeof BigInt(0)}catch(t){return!1}}()?gl:dl;function bl(t){return{goLive:function(){return t.mg()},get isLive(){return t.kg},get currentServerLiveTime(){return t.bg},get currentLatency(){return t.Tg},get latency(){return t.Eg},set latency(n){if(!function(t){if(!ot(t))return!1;var n=t,i=et(n.target)&&"number"==typeof n.target&&et(n.windowEnd)&&"number"==typeof n.windowEnd&&et(n.windowStart)&&"number"==typeof n.windowStart&&et(n.maxOffset)&&"number"==typeof n.maxOffset,r=n.windowStart>=0&&n.windowStart<=n.target&&n.target<=n.windowEnd&&n.maxOffset>=n.windowEnd;return i&&r}(n))throw new h("Invalid latency configuration");t.Eg=n},get manifest(){return t.Sg},get metrics(){return t.Rg},addEventListener:function(n,i){t.Fo(El(n),i)},removeEventListener:function(n,i){t.Vo(El(n),i)}}}!function(t){t[t.Yl=0]="Yl",t[t.Ig=1]="Ig",t[t.Cg=2]="Cg"}(ml||(ml={}));var Tl=["analytic","golive","nogolive","bufferedchange"];function El(t){var n=jv(t,qv);return(at(n)?[n]:n).filter(function(t){return n=t,-1!==Tl.indexOf(n);var n})}var Sl,Rl=function(t){function n(){var n;return(n=t.call(this)||this).Cl=void 0,n.Xd=void 0,n.Dg=el(),n.Cl=void 0,n}$(n,t);var i=n.prototype;return i.Nl=function(t){t.Fo(Tl,this.Po)},i.Ol=function(t){t.Vo(Tl,this.Po)},i.mg=function(){return this.Cl?this.Cl.mg():C.resolve()},i.sr=function(){this.Uo(),this.Cl&&this.Ol(this.Cl),this.Cl=void 0},H(n,[{key:"xl",get:function(){return this.Cl},set:function(t){var n=this.Cl;t!==n&&(n&&this.Ol(n),t&&this.Nl(t),this.Cl=t,this.Cl&&(this.Cl.Eg=this.Dg))}},{key:"Gd",get:function(){return this.Xd||(this.Xd=bl(this)),this.Xd}},{key:"bg",get:function(){var t;return null==(t=this.Cl)?void 0:t.bg}},{key:"Tg",get:function(){var t;return null==(t=this.Cl)?void 0:t.Tg}},{key:"kg",get:function(){return!!this.Cl&&this.Cl.kg}},{key:"Eg",get:function(){return this.Dg},set:function(t){this.Cl&&(this.Cl.Eg=t),this.Dg=t}},{key:"Sg",get:function(){var t;return null==(t=this.Cl)?void 0:t.Sg}},{key:"Rg",get:function(){var t;return null==(t=this.Cl)?void 0:t.Rg}}]),n}(Je),Il=function(t){function n(n){var i;return(i=t.call(this)||this).Cl=void 0,i.Ag=[],i.Ng=!1,i.Og=new Jv,i.xg=new Jv,i.Pg=new rd,i.Lg=new Rl,i.Fg=!1,i.Mg(n),n.Bo(i.Po),i.Cl=n,i.Og.xl=n.Bg,i.xg.xl=n.Ug,i.Pg.xl=n.Vg,i.Lg.xl=n.qg,i}$(n,t);var i=n.prototype;return i.tr=function(){this.Cl.tr()},i.nr=function(){this.Cl.nr()},i.jg=function(){var t=C.coroutine(Zr.mark(function t(){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",ze(this.Ag.map(function(t){return t.jg()})).then(P));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Hg=function(){return this.Cl.Hg()},i.Wg=function(){var t=C.coroutine(Zr.mark(function t(n,i){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Be(i),t.next=3,this.Cl.Wg(n,i);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.$g=function(){return this.xl.$g()},i.zg=function(){this.xl.zg()},i.Xg=function(){this.xl.Xg()},i.hr=function(){if(!this.Ng){for(var t=0,n=this.Ag;t<n.length;t++){n[t].hr()}this.Ng=!0}},i.Gg=function(t){this.Cl.Gg(t)},i.Yg=function(){this.Cl.Yg()},i.Kg=function(){this.Cl.Kg()},i.Jg=function(){this.Cl.Jg()},i.Qg=function(){return this.Cl.Qg()},i.Zg=function(){return this.Cl.Zg()},i.t_=function(){for(var t=[],n=0,i=this.Ag;n<i.length;n++){var r=i[n];t.push.apply(t,r.t_())}return t},i.n_=function(t){for(var n=!1,i=0,r=this.Ag;i<r.length;i++){n=r[i].n_(t)||n}return n},i.Lo=function(n){this.n_(n)||t.prototype.Lo.call(this,n)},i.Mg=function(t){this.Ag.push(t)},i.i_=function(t){Ae(this.Ag,t)},i.r_=function(t){if(t!==this.Cl){var n=this.Cl;n.Yg(),n.Ho(this.Po);var i=Jd(this),r=this.e_,e=this.Zg();this.Cl=t,this.Og.xl=t.Bg,this.xg.xl=t.Ug,this.Pg.xl=t.Vg,this.Lg.xl=t.qg,Qd(this,i,this);var u=this.e_;u!==r&&this.Lo(new od(u)),this.Zg()!==e&&this.Lo(new sd),t.Bo(this.Po),t.Gg(n)}},i.u_=function(){},i.sr=function(){var t=C.coroutine(Zr.mark(function t(){var n,i,r;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.Uo(),this.Cl.Yg(),n=0,i=this.Ag;case 3:if(!(n<i.length)){t.next=10;break}return r=i[n],t.next=7,r.sr();case 7:n++,t.next=3;break;case 10:this.Og.sr(),this.xg.sr(),this.Pg.sr(),this.Lg.sr();case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Sl=function(){var t=C.coroutine(Zr.mark(function t(){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",ze(this.Ag.map(function(t){return t.Sl()})).then(P));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),H(n,[{key:"Bg",get:function(){return this.Og}},{key:"Vg",get:function(){return this.Pg}},{key:"Ug",get:function(){return this.xg}},{key:"s_",get:function(){return this.Cl.s_}},{key:"o_",get:function(){return this.Cl.o_},set:function(t){this.Cl.o_=t}},{key:"e_",get:function(){return this.Cl.e_}},{key:"Ow",get:function(){return this.Cl.Ow},set:function(t){this.Cl.Ow=t}},{key:"xw",get:function(){return this.Cl.xw}},{key:"c_",get:function(){return this.Cl.c_}},{key:"Pw",get:function(){return this.Cl.Pw}},{key:"Ko",get:function(){return this.Cl.Ko}},{key:"Lw",get:function(){return this.Cl.Lw}},{key:"qg",get:function(){return this.Lg}},{key:"a_",get:function(){return this.Cl.a_}},{key:"Rg",get:function(){return function(t){for(var n=0,i=0,r=0,e=0,u=0,s={amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0},o=0;o<t.length;o++){var c=t[o];n+=c.f_,i+=c.h_,r+=c.v_,e+=c.d_,u+=c.l_,s.amountOfBufferedAudioSegments+=c.w_.amountOfBufferedAudioSegments,s.amountOfBufferedVideoSegments+=c.w_.amountOfBufferedVideoSegments}return{f_:n,h_:i,v_:r,d_:e,l_:u,w_:s}}(this.Ag.map(function(t){return t.Rg}))}},{key:"Fw",get:function(){return this.Cl.Fw},set:function(t){this.Cl.Fw=t}},{key:"y_",get:function(){return this.Cl.y_}},{key:"Mw",get:function(){return this.Cl.Mw}},{key:"Bw",get:function(){return this.Cl.Bw},set:function(t){this.Cl.Bw=t}},{key:"g_",get:function(){return this.Cl.g_}},{key:"__",get:function(){return this.Cl.__},set:function(t){this.Cl.__=t}},{key:"Kl",get:function(){return this.Cl.Kl}},{key:"p_",get:function(){return this.Cl.p_}},{key:"Uw",get:function(){return this.Cl.Uw}},{key:"Vw",get:function(){return this.Cl.Vw}},{key:"qw",get:function(){return this.Cl.qw}},{key:"jw",get:function(){return this.Cl.jw},set:function(t){this.Cl.jw=t}},{key:"xl",get:function(){return this.Cl},set:function(t){this.r_(t)}}]),n}(ud),Cl=function(t){function n(n,i,r,e,u,s,o,c){var a;return(a=t.call(this,n,i,r)||this).url=void 0,a.status=void 0,a.statusText=void 0,a.response=void 0,a.systemCode=void 0,a.url=e,a.status=u,a.statusText=s,a.response=o,a.systemCode=c,a}return $(n,t),H(n,[{key:"name",get:function(){return"ContentProtectionError"}}]),n}(Ps);!function(t){t[t.ABORTED=1]="ABORTED",t[t.NETWORK=2]="NETWORK",t[t.DECODE=3]="DECODE",t[t.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",t[t.ENCRYPTED=5]="ENCRYPTED",t[t.LICENSE_INVALID=6]="LICENSE_INVALID",t[t.ADVERTISEMENT_ERROR=7]="ADVERTISEMENT_ERROR"}(Sl||(Sl={}));var Dl=function(t){function n(n,i,r,e){var u;return(u=t.call(this,i)||this).code=void 0,u.message=void 0,u.cause=void 0,u.systemCode=void 0,u.code=n,u.message=null!=i?i:"Unknown error",u.cause=r,u.systemCode=e,h.captureStackTrace&&h.captureStackTrace(en(u),u.constructor),u}return $(n,t),H(n,[{key:"name",get:function(){return"MediaError"}}]),n}(un);function Al(t){Ov(t,"MEDIA_ERR_ABORTED",Sl.ABORTED),Ov(t,"MEDIA_ERR_NETWORK",Sl.NETWORK),Ov(t,"MEDIA_ERR_DECODE",Sl.DECODE),Ov(t,"MEDIA_ERR_SRC_NOT_SUPPORTED",Sl.SRC_NOT_SUPPORTED),Ov(t,"MEDIA_ERR_ENCRYPTED",Sl.ENCRYPTED)}function Nl(t){var i,r;return function(t){return t.category===n.ErrorCategory.CONTENT_PROTECTION}(t)?new Dl(Sl.ENCRYPTED,t.message,null==(i=t.cause)?void 0:i.message,t.systemCode):new Dl(function(t){if(t===n.ErrorCode.MEDIA_ABORTED)return Sl.ABORTED;if(t===n.ErrorCode.MANIFEST_LOAD_ERROR||t===n.ErrorCode.MEDIA_LOAD_ERROR||t===n.ErrorCode.SUBTITLE_LOAD_ERROR)return Sl.NETWORK;if(t===n.ErrorCode.MEDIA_DECODE_ERROR)return Sl.DECODE;if(t===n.ErrorCode.MEDIA_NOT_SUPPORTED)return Sl.SRC_NOT_SUPPORTED;var i=n.ErrorCategory.fromCode(t);if(i===n.ErrorCategory.NETWORK)return Sl.NETWORK;if(i===n.ErrorCategory.SOURCE)return Sl.SRC_NOT_SUPPORTED;if(i===n.ErrorCategory.LICENSE)return Sl.LICENSE_INVALID;if(i===n.ErrorCategory.CONTENT_PROTECTION)return Sl.ENCRYPTED;if(i===n.ErrorCategory.AD)return Sl.ADVERTISEMENT_ERROR;return Sl.DECODE}(t.code),t.message,null==(r=t.cause)?void 0:r.message)}Al(Dl),Al(Dl.prototype);var Ol,xl=function(t){function n(){return t.apply(this,arguments)||this}$(n,t);var i=n.prototype;return i.bl=function(n){return t.prototype.bl.call(this,n)},i.Yd=function(){return Gv(this)},n}(Iv);!function(t){t.Ev="audio",t.Sv="video",t.tu="text",t.Rv="image",t.vv="unknown"}(Ol||(Ol={}));var Pl=function(){function t(){this.m_=[],this.Xd=void 0}var n=t.prototype;return n.oy=function(t){this.m_.push(t),this.Xd&&this.Xd.push(t.Gd)},n.kl=function(t){return this.m_[t]},n.k_=function(t){return ut(t)?function(t,n){for(var i=0;i<n.length;i++)if(!Oe(t,n[i]))return!1;return!0}(this.m_,t):Oe(this.m_,t)},H(t,[{key:"Rl",get:function(){return this.m_}},{key:"Il",get:function(){return this.m_.length}},{key:"Gd",get:function(){var t,n;return this.Xd||(this.Xd=((n=(t=this).Rl.map(function(t){return t.Gd})).item=function(n){var i=0|n,r=t.kl(i);return r&&r.Gd||void 0},n)),this.Xd}}]),t}(),Ll=function(t){function n(n){var i;return(i=t.call(this,mv.wl)||this).Kd=n,i}return $(n,t),n.prototype.Yd=function(){return new Fl(this.Kd.Gd)},n}(kv),Fl=function(t){function n(n){var i;return(i=t.call(this,"update")||this).track=n,i}return $(n,t),n}(bv),Ml=0;function Bl(){return Ml++}var Ul=0;var Vl=0;var ql=0;var jl=function(t){function n(n){var i;return(i=t.call(this)||this).eo=Ol.Ev,i.b_=void 0,i.T_=void 0,i.E_=void 0,i.S_=void 0,i.R_=!1,i.m_=void 0,i.Xd=void 0,i.b_=n,i.S_=Bl(),i.T_=ql+++"",i.E_=n.label,i.m_=new Pl,i.I_(),i}$(n,t);var i=n.prototype;return i.C_=function(t){this.Fl=t},i.I_=function(){this.Fl=this.D_},H(n,[{key:"Ll",get:function(){}},{key:"Fl",get:function(){return this.R_},set:function(t){this.R_!==t&&(this.R_=t,this.D_=t,this.Lo(new Cv(this)))}},{key:"D_",get:function(){return!!this.b_.enabled},set:function(t){this.b_.enabled=t}},{key:"Gd",get:function(){return this.Xd||(this.Xd=zv(this)),this.Xd}},{key:"Ml",get:function(){return this.T_}},{key:"Bl",get:function(){return this.S_}},{key:"Ul",get:function(){return this.b_.kind}},{key:"Vl",get:function(){return this.E_},set:function(t){t!==this.E_&&(this.E_=t,this.Lo(new Ll(this)))}},{key:"ql",get:function(){return this.b_.language}},{key:"zl",get:function(){return this.Fl?"enabled":"disabled"}},{key:"A_",get:function(){return this.b_}},{key:"jl",get:function(){return this.m_}},{key:"Hl",get:function(){},set:function(t){}}]),n}(Je),Hl=0;var Wl,$l,zl,Xl,Gl,Yl=function(t){function n(n){var i;return(i=t.call(this)||this).eo=Ol.Sv,i.b_=void 0,i.T_=void 0,i.S_=void 0,i.R_=!1,i.m_=void 0,i.E_=void 0,i.Xd=void 0,i.b_=n,i.S_=Bl(),i.T_=Hl+++"",i.m_=new Pl,i.E_=n.label,i.I_(),i}$(n,t);var i=n.prototype;return i.I_=function(){this.Fl=this.D_},i.C_=function(t){this.Fl=t},H(n,[{key:"Ll",get:function(){}},{key:"Fl",get:function(){return this.R_},set:function(t){this.R_!==t&&(this.R_=t,this.D_=t,this.Lo(new Cv(this)))}},{key:"D_",get:function(){return!!this.b_.selected},set:function(t){this.b_.selected=t}},{key:"Gd",get:function(){return this.Xd||(this.Xd=zv(this)),this.Xd}},{key:"Ml",get:function(){return this.T_}},{key:"Bl",get:function(){return this.S_}},{key:"Ul",get:function(){return"main"}},{key:"Vl",get:function(){return this.E_},set:function(t){t!==this.E_&&(this.E_=t,this.Lo(new Ll(this)))}},{key:"ql",get:function(){return this.b_.language}},{key:"zl",get:function(){return this.Fl?"enabled":"disabled"}},{key:"A_",get:function(){return this.b_}},{key:"jl",get:function(){return this.m_}},{key:"Hl",get:function(){},set:function(t){}}]),n}(Je),Kl=function(t){function n(n){var i;return(i=t.call(this,to.qa)||this).a_=n,i}return $(n,t),n}(Ze);!function(t){t[t.NONE=0]="NONE",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t[t.ERROR=3]="ERROR"}(Wl||(Wl={})),function(t){t.DEFAULT="",t.SRT="srt",t.TTML="ttml",t.WEBVTT="webvtt",t.EMSG="emsg",t.EVENT_STREAM="eventstream",t.ID3="id3",t.CEA608="cea608",t.DATE_RANGE="daterange"}($l||($l={})),function(t){t.N_="cue",t.O_="region",t.x_="stylesheet"}(zl||(zl={})),function(t){t.P_="L_",t.F_="M_",t.wl="Fc"}(Xl||(Xl={})),function(t){t.P_="enter",t.F_="exit",t.wl="update"}(Gl||(Gl={}));var Jl=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).B_=i,r}return $(n,t),n}(kv),Ql=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).cue=i,r}return $(n,t),n}(bv);function Zl(t){var n,i=[Xl.P_,Xl.F_,Xl.wl],r={get track(){return t.Kd.Gd},get id(){return t.Ml},get uid(){return t.Bl},get startTime(){return t.U_},get endTime(){return t.V_},get content(){return t.q_},addEventListener:function(t,i){var r=jv(t,qv);n.Fo(r,i)},removeEventListener:function(t,i){var r=jv(t,qv);n.Vo(r,i)}};return n=new Qe(r),t.Fo(i,function(t){return n.Lo(t.Gd)}),r}function tw(){}var nw=.02;var iw=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).S_=void 0,s.T_=void 0,s.j_=void 0,s.H_=void 0,s.Xd=void 0,s.W_=void 0,s.z_=!1,s.X_=void 0,s.G_=void 0,s.Y_="",s.K_=-1,s.S_=Vl++,s.j_=n,s.H_=i,s.X_=r,s.G_=Boolean(e),s.T_=null!=u?u:"",s}$(n,t);var i=n.prototype;return i.Yd=function(){return Zl(this)},i.ty=function(t){return this===t||Fv(this,t)&&(i=t,Jt((n=this).U_,i.U_,nw)&&Jt(n.V_,i.V_,nw)&&n.Ml===i.Ml);var n,i},i.sr=function(){this.Uo()},H(n,[{key:"U_",get:function(){return this.j_},set:function(t){this.j_=t}},{key:"V_",get:function(){return this.H_},set:function(t){this.H_=t}},{key:"Ml",get:function(){return this.T_}},{key:"Bl",get:function(){return this.S_}},{key:"Gd",get:function(){return this.Xd||(this.Xd=this.Yd()),this.Xd}},{key:"J_",get:function(){return this.z_},set:function(t){this.z_=t}},{key:"Kd",get:function(){return this.W_},set:function(t){this.W_=t}},{key:"q_",get:function(){return this.X_},set:function(t){this.X_=t}},{key:"Q_",get:function(){return this.Y_},set:function(t){this.Y_=t}},{key:"Z_",get:function(){return this.G_},set:function(t){this.G_=t}}]),n}(Je);var rw=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n,i,r,e,u)||this).tp="auto",s.np="start",s.ip="auto",s.rp="auto",s.ep=void 0,s.sp=!0,s.cc=100,s.op="center",s.cp="",s}return $(n,t),n.prototype.ty=function(n){return this===n||Fv(this,n)&&t.prototype.ty.call(this,n)&&(r=n,(i=this).q_===r.q_&&i.tp===r.tp&&i.np===r.np&&i.ip===r.ip&&i.rp===r.rp&&i.ep===r.ep&&i.sp===r.sp&&i.cc===r.cc&&i.op===r.op&&i.cp===r.cp);var i,r},H(n,[{key:"Gd",get:function(){var t;return this.Xd||(this.Xd=xv(Zl(t=this),{get align(){return t.op},get line(){return t.tp},get lineAlign(){return t.np},get position(){return t.ip},get positionAlign(){return t.rp},get region(){return t.ep?t.ep.Gd:null},get size(){return t.cc},get snapToLines(){return t.sp},get text(){return t.q_},get vertical(){return t.cp}})),this.Xd}},{key:"eo",get:function(){return zl.N_}}]),n}(iw);var ew,uw,sw,ow,cw=function(){function t(t,n,i,r,e,u,s,o){this.Xd=void 0,this.Ml=t,this.hs=n,this.ap=i,this.fp=r,this.hp=e,this.vp=u,this.dp=s,this.lp=o}return H(t,[{key:"Gd",get:function(){var t;return this.Xd||(this.Xd=(t=this,{get id(){return t.Ml},get identifier(){return t.Ml},get lines(){return t.ap},get regionAnchorX(){return t.fp},get regionAnchorY(){return t.hp},get scrollValue(){return t.lp},get viewportAnchorX(){return t.vp},get viewportAnchorY(){return t.dp},get width(){return t.hs}})),this.Xd}},{key:"eo",get:function(){return zl.O_}}]),t}(),aw=9e4,fw=l.pow(2,33),hw=(kl.gy(fw,aw).jy(2),{wp:0,yp:1/0,gp:0}),vw=6,dw=["WEBVTT ","WEBVTT\t","WEBVTT\n"],lw=[" ","\t","\n","\f","\r"],ww=/^\d*$/,yw=/.*[0-9]+.*/,gw=/^[\d.-]+$/,_w=/(^\.|\.$)/,pw=/(\D\.|\.\D)/;function mw(t,n){void 0===n&&(n=hw);var i={Jl:[],_p:[],pp:[]},r=kw(t),e=new os;if(Nw(r),bw(r,function(t){return"\n"!==t},e),e.dc>=r.length)return i;(e.fc(1),"\n"!==r.charAt(e.dc))?Rw(Tw(r,e,!1,!0,i,n),i):e.fc(1);for(bw(r,function(t){return"\n"===t},e);e.dc<r.length;){Rw(Tw(r,e,!1,!1,i,n),i),bw(r,function(t){return"\n"===t},e)}return i}function kw(t){var n=gr(t,"\0"," "),i=gr(n,"\r\n","\n");return gr(i,"\r","\n")}function bw(t,n,i){for(var r=i.dc;i.dc<t.length&&n(t.charAt(i.dc));)i.fc(1);return t.substring(r,i.dc)}function Tw(t,n,i,r,e,u){for(var s,o=0,c=n.dc,a="",f=!1,h=!1,v=null,d=null,l=null;!f;)if(s=bw(t,function(t){return"\n"!==t},n),o++,n.dc>=t.length?f=!0:n.fc(1),_r(s,"--\x3e")){if(r||1!==o&&(2!==o||h)){n.hc(c);break}h=!0,c=n.dc,v=new rw(0,0,"",!1,a);try{Iw(s,e._p,v,u),a=""}catch(t){A.ks(t),v=null}}else{if(""===s)break;r&&pr(s,"X-TIMESTAMP-MAP")&&(e.mp=Ew(s)),r||2!==o||i||(kr("STYLE",a.replace(/ /g,""))?(d={eo:zl.x_},a=""):kr("REGION",a.replace(/ /g,""))&&(l=new cw("",100,3,0,100,0,100,""),a="")),a&&(a+="\n"),a+=s,c=n.dc}if(v)return v.q_=a,v;if(d);else if(l)return function(t,n){for(var i=t.split(/\s/),r=0;r<i.length;r++){var e=i[r];if(0!==e.length&&_r(e,":")&&":"!==e.charAt(0)&&":"!==e.charAt(e.length-1)){var u=e.indexOf(":"),s=e.substring(0,u),o=e.substring(u+1,e.length);switch(s.toUpperCase()){case"ID":jw(o,n);break;case"WIDTH":$w(o,n);break;case"LINES":Ww(o,n);break;case"REGIONANCHOR":var c=qw(o);c&&(n.fp=c[0],n.hp=c[1]);break;case"VIEWPORTANCHOR":var a=qw(o);a&&(n.vp=a[0],n.dp=a[1]);break;case"SCROLL":Hw(o,n)}}}}(a,l),l;return null}function Ew(t){var n,i,r=t.split("=")[1].trim().split(","),e=Sw(r[0].trim(),"MPEGTS")?r[0]:r[1],u=Sw(r[0].trim(),"LOCAL")?r[0]:r[1];return{kp:(i=Number(e.split(/:(.*)/)[1].trim())||0,kl.gy(i,aw)),bp:kl.ig(null!=(n=Aw(u.split(/:(.*)/)[1].trim(),new os))?n:0)}}function Sw(t,n){return pr(t,n)}function Rw(t,n){t&&function(t){return t.eo===zl.N_}(t)?n.Jl.push(t):t&&function(t){return t.eo===zl.O_}(t)?n._p.push(t):t&&function(t){return t.eo===zl.x_}(t)&&n.pp.push(t)}function Iw(t,n,i,r){var e=new os;if(Ow(t,e),i.U_=Cw(Aw(t,e),r),Ow(t,e),"--\x3e"!==t.substring(e.dc,e.dc+3))throw h("Something went wrong with parsing a WebVTT Cue");e.fc(3),Ow(t,e),i.V_=Cw(Aw(t,e),r),function(t,n,i){for(var r=t.split(/\s/),e=0;e<r.length;e++){var u=r[e];if(0!==u.length&&_r(u,":")&&":"!==u.charAt(0)&&":"!==u.charAt(u.length-1)){var s=u.indexOf(":"),o=u.substring(0,s),c=u.substring(s+1,u.length);switch(o.toUpperCase()){case"REGION":Mw(c,n,i);break;case"VERTICAL":Uw(c,n);break;case"D":Vw(c,n);break;case"LINE":case"L":Lw(c,n);break;case"POSITION":case"T":Fw(c,n);break;case"SIZE":case"S":Bw(c,n);break;case"ALIGN":case"A":Pw(c,n)}}}}(t.substring(e.dc,t.length),i,n)}function Cw(t,n){return t+n.wp}function Dw(t){return/^[0-9]$/.test(t)}function Aw(t,n){var i,r,e,u=gr(t,",","."),s=!1;if(n.dc>=u.length||!Dw(u.charAt(n.dc)))throw new h("Something went wrong with parsing a WebVTT Cue timestamp");var o=bw(u,Dw,n),c=w(o,10);if((o.length>2||c>59)&&(s=!0),n.dc>=u.length||":"!==u.charAt(n.dc))throw new h("Something went wrong with parsing a WebVTT Cue timestamp");n.fc(1);var a=bw(u,Dw,n);if(2!==a.length)throw new h("Something went wrong with parsing a WebVTT Cue timestamp");var f=w(a,10);if(s||n.dc<u.length&&":"===u.charAt(n.dc)){if(n.dc>=u.length||":"!==u.charAt(n.dc))throw new h("Something went wrong with parsing a WebVTT Cue timestamp");n.fc(1);var v=bw(u,Dw,n);if(2!==a.length)throw new h("Something went wrong with parsing a WebVTT Cue timestamp");i=c,r=f,e=w(v,10)}else i=0,r=c,e=f;if(n.dc>=u.length||"."!==u.charAt(n.dc))throw new h("Something went wrong with parsing a WebVTT Cue timestamp");n.fc(1);var d=bw(u,Dw,n),l=w(d,10);if(f>59||e>59)throw new h("Something went wrong with parsing a WebVTT Cue timestamp");return 60*i*60+60*r+e+l/1e3}function Nw(t){if(t.length<vw)return!1;for(var n=0;n<dw.length;n++){if(pr(t,dw[n]))return!0}return!1}function Ow(t,n){for(;n.dc<t.length&&(i=t.charAt(n.dc),Oe(lw,i));)n.fc(1);var i}function xw(t){var n=t.lastIndexOf("%");if(n>-1){var i=y(t.substring(0,n));if(!g(i)&&i>=0&&i<=100)return i}return null}function Pw(t,n){var i=t.toLowerCase();switch(i){case"start":case"center":case"end":case"left":case"right":n.op=i;break;case"middle":n.op="center"}}function Lw(t,n){var i=t,r="";if(_r(t,",")&&(i=t.substring(0,t.indexOf(",")),r=t.substring(t.indexOf(",")+1,t.length)),yw.test(i)){var e;if(mr(i,"%")){var u=xw(i);if(null===u)return;e=u}else{if(!gw.test(t)||t.lastIndexOf("-")>0||t.indexOf(".")!==t.lastIndexOf(".")||!pw.test(t)||_w.test(t))return;if(e=y(t),g(e))return}switch(n.tp=e,n.sp=mr(i,"%"),r=t.toLowerCase()){case"start":case"center":case"end":n.np=r;break;case"middle":n.np="center"}}}function Fw(t,n){var i=t,r="";_r(t,",")&&(i=t.substring(0,t.indexOf(",")),r=t.substring(t.indexOf(",")+1,t.length));var e=xw(i);if(null!==e)switch(n.ip=e,r=r.toLowerCase()){case"line-left":case"center":case"line-right":case"auto":n.rp=r;break;case"start":n.rp="line-left";break;case"middle":n.rp="center";break;case"end":n.rp="line-right"}}function Mw(t,n,i){for(var r=i.length-1;r>=0;r--)if(i[r].Ml===t)return void(n.ep=i[r])}function Bw(t,n){var i=xw(t);null!==i&&(n.cc=i)}function Uw(t,n){switch(t.toLowerCase()){case"rl":case"vertical:rl":case"vertical-rl":n.cp="rl";break;case"lr":case"vertical:lr":case"vertical-lr":n.cp="lr";break;default:n.cp=""}}function Vw(t,n){"VERTICAL"===t.toUpperCase()?n.cp="rl":"VERTICAL-LR"===t.toUpperCase()&&(n.cp="lr")}function qw(t){if(t.indexOf(",")>=0){var n=xw(t.substring(0,t.indexOf(","))),i=xw(t.substring(t.indexOf(",")+1,t.length));return[Kt(n||0,0,100),Kt(i||100,0,100)]}return null}function jw(t,n){n.Ml=t}function Hw(t,n){"up"===t.toLowerCase()&&(n.lp="up")}function Ww(t,n){ww.test(t)&&(n.ap=w(t))}function $w(t,n){var i=xw(t);null!==i&&(n.hs=i)}!function(t){t.Tp="moov",t.Ep="mvhd",t.Sp="trak",t.Rp="tkhd",t.Ip="mdia",t.Cp="mdhd",t.Dp="hdlr",t.Ap="minf",t.Np="stbl",t.Op="stsd",t.xp="stsc",t.Pp="mvex",t.Lp="trex",t.Fp="avc1",t.Mp="avcC",t.Bp="hev1",t.Up="hvc1",t.Vp="hvcC",t.qp="pasp",t.jp="mp4a",t.Hp="esds",t.Wp="wvtt",t.$p="vttC",t.zp="vlab",t.Xp="enca",t.Gp="encv",t.Yp="moof",t.Kp="mfhd",t.Jp="traf",t.Qp="tfhd",t.Zp="trun",t.tm="tfdt",t.nm="mdat",t.im="pssh",t.rm="emsg",t.um="sidx",t.sm="styp",t.om="ftyp",t.cm="sinf",t.am="frma"}(ew||(ew={})),function(t){t.Sv="vide",t.Ev="soun",t.fm="subt",t.hm="hint",t.vm="meta",t.dm="auxv"}(uw||(uw={})),function(t){t[t.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",t[t.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",t[t.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",t[t.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",t[t.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT",t[t.DURATION_IS_EMPTY=32]="DURATION_IS_EMPTY",t[t.DEFAULT_BASE_IS_MOOF=131072]="DEFAULT_BASE_IS_MOOF"}(sw||(sw={})),function(t){t[t.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",t[t.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",t[t.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",t[t.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT=2048]="SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT"}(ow||(ow={}));var zw=function(){function t(t,n){this.Du=void 0,this.lm=void 0,this.Du=t,this.lm=n}var n=t.prototype;return n.wm=function(){return Nu(this.Du,this.lm)},n.ym=function(){return Lu(this.Du,this.lm)},n.gm=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt16(n.dc,i);return n.fc(2),r}(this.Du,this.lm)},n._m=function(){return Mu(this.Du,this.lm)},n.pm=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt32(n.dc,i);return n.fc(4),r}(this.Du,this.lm)},n.mm=function(){return Uu(this.Du,this.lm)},n.km=function(t){return xu(this.Du,this.lm,t)},n.bm=function(t){return function(t,n,i){for(var r=[],e=0;e<i;e++)r.push(Mu(t,n));return r}(this.Du,this.lm,t)},n.Tm=function(t){return ju(this.Du,this.lm,t)},n.Em=function(){return Ju(this.Du,this.lm)},n.Sm=function(t){this.lm.fc(t)},n.vc=function(){return new t(this.Du,this.lm.vc())},t}(),Xw=function(t){function n(n,i){var r;return(r=t.call(this)||this).Rm=n,r.Im=i,r}return $(n,t),H(n,[{key:"name",get:function(){return"DataIncompleteError"}}]),n}(sn),Gw=function(){function t(){}return t.Cm=function(n){var i=n.Du,r=n.lm,e=t.Dm(i,r,!1);if(!e.Am)throw new Xw(r.dc,e.mu);return e.mu},t.Dm=function(n,i,r){for(var e=[];i.dc<n.byteLength;){var u=t.Nm(n,i,r);if(!u.Am)return{Am:!1,mu:e};e.push(u.Om)}return{Am:!0,mu:e}},t.xm=function(n,i){var r=t.Nm(n,i,!1);if(!r.Am)throw new Xw(i.dc);return r.Om},t.Pm=function(n,i){for(var r=n.Du,e=n.lm;e.dc<r.byteLength;){var u=t.Nm(r,e,!1);if(!u.Am)return;if(u.Om.eo===i)return u.Om}},t.Nm=function(n,i,r){var e=i.dc,u=t.Lm(n,i);if(!u.Am)return u;var s=u.Fm,o=s.cc;if(0===o){if(r)return i.hc(e),{Am:!1,Mm:1/0};o=n.byteLength-e}var c=e+o;if(c>n.byteLength){var a=c;return i.hc(e),{Am:!1,Mm:a}}var f,h,v,d={eo:s.eo,dc:e,Du:new zw((f=n,h=e,v=c,void 0===h&&(h=0),void 0===v&&(v=f.byteLength),new DataView(f.buffer,f.byteOffset+h,v-h)),new os(s.Bm))};return i.hc(c),{Am:!0,Om:d}},t.Lm=function(t,n){var i=n.dc;if(!Pu(t,n,8))return{Am:!1,Mm:n.dc+8};var r=Mu(t,n),e=ju(t,n,4);if(1===r){if(!Pu(t,n,8)){var u=n.dc+8;return n.hc(i),{Am:!1,Mm:u}}r=Uu(t,n).toNumber()}if("uuid"===e){if(!Pu(t,n,16)){var s=n.dc+16;return n.hc(i),{Am:!1,Mm:s}}e=ju(t,n,16)}return{Am:!0,Fm:{eo:e,cc:r,Bm:n.dc-i}}},t.Um=function(t,n,i){var r=t.Du,e=t.lm,u=ts(is(r),e.dc,r.byteLength);return i&&(u=ss(u)),e.fc(u.byteLength),{eo:n,Du:u}},t.Vm=function(n,i,r){var e=Qw(n._m());return{eo:i,qm:e.version,jm:e.flags,Du:t.Um(n,i,r).Du}},t}();function Yw(t,n){var i=Kw(t,n);if(!i)throw new h("Missing "+n+" atom");return i}function Kw(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.eo===n)return r.Du}}function Jw(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];e.eo===n&&i.push(e.Du)}return i}function Qw(t){return{version:t>>24,flags:new Au(16777215&t)}}var Zw=function(){function t(){}return t.Hm=function(n){for(var i=[],r=Gw.Cm(new zw(n,new os)),e=0;e<r.length;e++){var u=r[e],s=t.Wm(u);s&&i.push(s)}return i},t.$m=function(t){return Gw.Dm(t,new os,!1).mu.some(function(t){return t.eo===ew.Yp||t.eo===ew.sm})},t.zm=function(n){return Jw(Gw.Cm(new zw(n,new os)),ew.im).map(t.Xm)},t.Wm=function(n){switch(n.eo){case ew.Tp:return t.Gm(n.Du);case ew.Yp:return t.Ym(n.Du,n.dc);case ew.nm:return t.Km(n.Du);case ew.um:return t.Jm(n.Du);case ew.rm:return t.Qm(n.Du)}},t.Gm=function(n){var i=Gw.Cm(n),r=Yw(i,ew.Ep),e=Jw(i,ew.Sp),u=Kw(i,ew.Pp),s=t.Zm(r),o=e.map(t.tk),c=u?t.nk(u):void 0;return{eo:ew.Tp,Fm:s,ik:o,rk:c}},t.Zm=function(t){var n=Qw(t._m()),i=n.version,r=n.flags,e=1===i?t.mm():t._m(),u=1===i?t.mm():t._m(),s=t._m(),o=1===i?t.mm():t._m(),c=t._m(),a=t.ym()>>8;t.Sm(2),t.Sm(8);var f=t.bm(9);t.Sm(24);var h=t._m();return{eo:ew.Ep,qm:i,jm:r,ek:e,uk:u,$y:s,xw:o,sk:c,jw:a,ck:f,ak:h}},t.tk=function(n){var i=Gw.Cm(n),r=Yw(i,ew.Rp),e=Yw(i,ew.Ip),u=t.fk(r),s=t.hk(e);return{eo:ew.Sp,Fm:u,vk:s}},t.fk=function(t){var n=Qw(t._m()),i=n.version,r=n.flags,e=1===i?t.mm():t._m(),u=1===i?t.mm():t._m(),s=t._m();t.Sm(4);var o=1===i?t.mm():t._m();t.Sm(8);var c=t.gm(),a=t.gm(),f=t.gm()/l.pow(2,8);t.Sm(2);var h=t.bm(9),v=t._m()/l.pow(2,16),d=t._m()/l.pow(2,16);return{eo:ew.Rp,dk:r.wc(1),lk:r.wc(2),wk:r.wc(4),ek:e,uk:u,yk:s,xw:o,gk:c,_k:a,jw:f,ck:h,hs:v,pk:d}},t.hk=function(n){var i=Gw.Cm(n),r=Yw(i,ew.Cp),e=Yw(i,ew.Dp),u=Yw(i,ew.Ap),s=t.mk(r),o=t.kk(e),c=t.bk(u);return{eo:ew.Ip,Fm:s,Tk:o,Ek:c}},t.mk=function(t){var n=Qw(t._m()),i=n.version,r=n.flags,e=1===i?t.mm():t._m(),u=1===i?t.mm():t._m(),s=t._m(),o=1===i?t.mm():t._m();t.ym();return t.Sm(2),{eo:ew.Cp,qm:i,jm:r,ek:e,uk:u,$y:s,xw:o}},t.kk=function(t){var n=Qw(t._m()),i=n.version,r=n.flags;t.Sm(4);var e=t.Tm(4);t.Sm(12);var u=t.Em();return{eo:ew.Dp,qm:i,jm:r,Sk:e,cu:u}},t.bk=function(n){var i=Yw(Gw.Cm(n),ew.Np),r=t.Rk(i);return{eo:ew.Ap,Ik:r}},t.Rk=function(n){var i=Yw(Gw.Cm(n),ew.Op),r=t.Ck(i);return{eo:ew.Np,Dk:r}},t.Ck=function(n){for(var i=Qw(n._m()),r=i.version,e=i.flags,u=(n._m(),[]),s=Gw.Cm(n),o=0;o<s.length;o++){var c=s[o],a=t.Ak(c.Du,c.eo);a&&u.push(a)}return{eo:ew.Op,qm:r,jm:e,Nk:u}},t.Ak=function(n,i){var r=t.Ok(n,i);return r||((r=t.xk(n,i))||(i===ew.Wp?t.Pk(n):void 0))},t.Ok=function(n,i){return i===ew.jp?t.Lk(n):i===ew.Xp?t.Fk(n):void 0},t.xk=function(n,i){return i===ew.Fp?t.Mk(n):i===ew.Bp||i===ew.Up?t.Bk(n,i):i===ew.Gp?t.Uk(n):void 0},t.Vk=function(t,n){return t.Sm(6),{eo:n,qk:t.ym()}},t.jk=function(n,i){var r=t.Vk(n,i);n.Sm(8);var e=n.ym(),u=n.ym();return n.Sm(2),n.Sm(2),te({},r,{Hk:e,Wk:u,$k:n._m()>>>16})},t.zk=function(n,i){var r=t.Vk(n,i);n.Sm(2),n.Sm(2),n.Sm(12);var e=n.ym(),u=n.ym(),s=n._m(),o=n._m();n.Sm(4);var c=n.ym();n.Sm(32);var a=n.ym();return n.Sm(2),te({},r,{hs:e,pk:u,Xk:s,Gk:o,Yk:c,Kk:a})},t.Lk=function(n){var i=t.jk(n,ew.jp),r=Yw(Gw.Cm(n),ew.Hp);return te({},i,{Jk:t.Qk(r)})},t.Pk=function(n){var i=t.Vk(n,ew.Wp),r=Gw.Cm(n),e=Yw(r,ew.$p),u=t.Zk(e),s=Kw(r,ew.zp);return te({},i,{nb:u,ib:s?t.rb(s):s})},t.Zk=function(t){return{eo:ew.$p,eb:t.Em()}},t.rb=function(t){return{eo:ew.zp,Vl:t.Em()}},t.Qk=function(t){return Gw.Vm(t,ew.Hp,!0)},t.Mk=function(n){var i=t.zk(n,ew.Fp),r=Gw.Cm(n),e=Yw(r,ew.Mp),u=Kw(r,ew.qp);return te({},i,{ub:t.sb(e),ob:u?t.cb(u):void 0})},t.Bk=function(n,i){var r=t.zk(n,i),e=Yw(Gw.Cm(n),ew.Vp);return te({},r,{ab:t.fb(e)})},t.Uk=function(n){var i=n.vc(),r=t.zk(n,ew.Gp),e=Yw(Gw.Cm(n),ew.cm),u=t.hb(e);return te({},r,{vb:t.xk(i,u.wb.lb),yb:u})},t.Fk=function(n){var i=n.vc(),r=t.jk(n,ew.Xp),e=Yw(Gw.Cm(n),ew.cm),u=t.hb(e);return te({},r,{vb:t.Ok(i,u.wb.lb),yb:u})},t.hb=function(n){var i=Yw(Gw.Cm(n),ew.am),r=t.gb(i);return{eo:ew.cm,wb:r}},t.gb=function(t){var n=t.Tm(4);return{eo:ew.am,lb:n}},t.sb=function(t){return Gw.Um(t,ew.Mp,!0)},t.fb=function(t){return Gw.Um(t,ew.Vp,!0)},t.cb=function(t){var n=t._m(),i=t._m();return{eo:ew.qp,_b:n,pb:i}},t.nk=function(n){var i=Jw(Gw.Cm(n),ew.Lp).map(t.mb);return{eo:ew.Pp,ik:i}},t.mb=function(t){var n=Qw(t._m()),i=n.version,r=n.flags,e=t._m(),u=t._m(),s=t._m(),o=t._m(),c=t._m();return{eo:ew.Lp,qm:i,jm:r,yk:e,kb:u,bb:s,Tb:o,Eb:c}},t.Ym=function(n,i){var r=Gw.Cm(n),e=Yw(r,ew.Kp),u=Jw(r,ew.Jp),s=t.Sb(e),o=u.map(t.Rb);return{eo:ew.Yp,Ib:i,Fm:s,ik:o}},t.Sb=function(t){var n=Qw(t._m()),i=n.version,r=n.flags,e=t._m();return{eo:ew.Kp,qm:i,jm:r,Cb:e}},t.Rb=function(n){var i=Gw.Cm(n),r=Yw(i,ew.Qp),e=Jw(i,ew.Zp),u=Kw(i,ew.tm),s=t.Db(r),o=e.map(function(n){return t.Ab(n,s)}),c=u?t.Nb(u):void 0;return{eo:ew.Jp,Fm:s,Ob:o,xb:c}},t.Db=function(t){var n=Qw(t._m()),i=n.version,r=n.flags,e=t._m(),u=r.wc(sw.BASE_DATA_OFFSET_PRESENT)?t.mm():void 0,s=r.wc(sw.SAMPLE_DESCRIPTION_INDEX_PRESENT)?t._m():void 0,o=r.wc(sw.DEFAULT_SAMPLE_DURATION_PRESENT)?t._m():void 0,c=r.wc(sw.DEFAULT_SAMPLE_SIZE_PRESENT)?t._m():void 0,a=r.wc(sw.DEFAULT_SAMPLE_FLAGS_PRESENT)?t._m():void 0;return{eo:ew.Qp,qm:i,jm:r,yk:e,Pb:u,Lb:s,bb:o,Tb:c,Eb:a}},t.Ab=function(n,i){for(var r=Qw(n._m()),e=r.version,u=r.flags,s=n._m(),o=u.wc(ow.DATA_OFFSET_PRESENT)?n.pm():void 0,c=u.wc(ow.FIRST_SAMPLE_FLAGS_PRESENT)?n._m():void 0,a=[],f=0;f<s;f++){var h=t.Fb(n,u,e,i);0===f&&void 0!==c&&(h.jm=c),a.push(h)}return{eo:ew.Zp,qm:e,jm:u,Mb:s,Ib:o,Bb:c,Ub:a}},t.Fb=function(t,n,i,r){return{xw:n.wc(ow.SAMPLE_DURATION_PRESENT)?t._m():r.bb,cc:n.wc(ow.SAMPLE_SIZE_PRESENT)?t._m():r.Tb,jm:n.wc(ow.SAMPLE_FLAGS_PRESENT)?t._m():r.Eb,Vb:n.wc(ow.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT)?0===i?t._m():t.pm():void 0}},t.Qm=function(t){var n=t.Du,i=t.lm,r=Qw(Mu(n,i)),e=r.version,u=r.flags;if(1===e){var s=Mu(n,i),o=Uu(n,i),c=Mu(n,i),a=Mu(n,i),f=qu(n,i),h=qu(n,i),v=us(is(n),i.dc,n.byteLength);return i.fc(v.byteLength),{eo:ew.rm,qm:e,jm:u,qb:f,hu:h,$y:s,jb:o,Hb:c,Ml:a,Wb:v}}var d=qu(n,i),l=qu(n,i),w=Mu(n,i),y=Mu(n,i),g=Mu(n,i),_=Mu(n,i),p=us(is(n),i.dc,n.byteLength);return i.fc(p.byteLength),{eo:ew.rm,jm:u,qm:e,qb:d,hu:l,$y:w,$b:y,Hb:g,Ml:_,Wb:p}},t.Km=function(t){return Gw.Um(t,ew.nm,!1)},t.Xm=function(n){var i=n.Du,r=n.lm,e=ss(is(i)).buffer,u=Qw(Mu(i,r)),s=u.version,o=u.flags,c=t.zb(i,r),a=[];if(s>0)for(var f=Mu(i,r),h=0;h<f;h++){var v=xu(i,r,16);a.push(v)}var d=Mu(i,r),l=new _(e,r.dc,d);return r.fc(i.byteLength),{eo:ew.im,qm:s,jm:o,Xb:c,Gb:a,Yb:d,Du:l,Kb:e}},t.zb=function(t,n){for(var i="",r=0;r<4;r++){var e=Nu(t,n).toString(16);i+=1===e.length?"0"+e:e}i+="-";for(var u=0;u<2;u++){var s=Nu(t,n).toString(16);i+=1===s.length?"0"+s:s}i+="-";for(var o=0;o<2;o++){var c=Nu(t,n).toString(16);i+=1===c.length?"0"+c:c}i+="-";for(var a=0;a<2;a++){var f=Nu(t,n).toString(16);i+=1===f.length?"0"+f:f}i+="-";for(var h=0;h<6;h++){var v=Nu(t,n).toString(16);i+=1===v.length?"0"+v:v}return i.toLowerCase()},t.Jm=function(t){var n,i,r=t.Du,e=t.lm,u=Qw(Mu(r,e)),s=u.version,o=u.flags,c=Mu(r,e),a=Mu(r,e);0===s?(n=Gt.fromBits(Mu(r,e),0,!0),i=Gt.fromBits(Mu(r,e),0,!0)):(n=Uu(r,e),i=Uu(r,e)),e.fc(2);for(var f=Lu(r,e),h=[],v=0;v<f;v+=1){var d=Mu(r,e),l=d>>31&1,w=2147483647&d,y=Mu(r,e),g=Mu(r,e),_=g>>31&1,p=g>>28&7,m=268435455&g;h.push({Jb:l,Qb:w,xw:y,Zb:_,tT:p,nT:m})}return{eo:ew.um,qm:s,jm:o,iT:c,$y:a,rT:n,eT:i,uT:f,sT:h}},t.Nb=function(t){var n,i=t.Du,r=t.lm,e=Qw(Mu(i,r)),u=e.version,s=e.flags;return n=0===u?Gt.fromBits(Mu(i,r),0,!0):Uu(i,r),{eo:ew.tm,qm:u,jm:s,xb:n}},t}();function ty(t){return t&&"pu"in t?t.pu:t}var ny=function(t){function n(n,i,r,e,u,s,o){var c;return(c=t.call(this,n,i,r,e)||this).oT=void 0,c.cT=void 0,c.aT=void 0,c.oT=u,c.cT=s,c.aT=o||void 0,c}return $(n,t),n.prototype.ty=function(n){return this===n||!!Fv(this,n)&&(!!t.prototype.ty.call(this,n)&&(!!Lv(this.fT,n.fT)&&(!!Lv(this._p,n._p)&&(this.hT&&n.hT?!!this.hT.uu(n.hT)&&(this.q_&&n.q_?this.q_.uu(n.q_):this.q_===n.q_):this.hT===n.hT))))},H(n,[{key:"fT",get:function(){return this.oT}},{key:"_p",get:function(){return this.cT}},{key:"hT",get:function(){return this.aT}},{key:"Gd",get:function(){var t;return this.Xd||(this.Xd=xv(Zl(t=this),{get styles(){return t.fT},get regions(){return t._p},get metadata(){return ty(t.hT)},get content(){return ty(t.q_)}})),this.Xd}}]),n}(iw),iy=function(){function t(t,n,i){this.Eh=void 0,this.vT=void 0,this.dT=void 0,this.vT=t,this.dT=n,rn(i)?this.Eh=function(t,n,i){for(var r=0,e=["begin","end","dur"];r<e.length;r++){var u=e[r];i.Tu(u)}return i}(0,0,i):this.Eh=i}return H(t,[{key:"lT",get:function(){return this.Eh.su(!0)}},{key:"U_",get:function(){return this.vT}},{key:"V_",get:function(){return this.dT}}]),t}();var ry="http://www.w3.org/XML/1998/namespace";function ey(t,n){return function(t,n){var i=t.mu.slice(),r=[];for(;i.length>0;){var e=i.shift();n(e)?r.push(e):i.push.apply(i,e.mu)}return r}(t,function(t){return t.yu===n})}function uy(t,n){for(var i=t,r=0;r<n.length;r++){var e=n[r];i=i.replace(e+":","")}return i}function sy(t,n){for(var i=t.Iu,r={},e=0;e<i.length;e++)r[uy(i[e].cu,n)]=i[e].hu;return r}var oy=/^(\d\d+):(\d\d):(\d+)((\.(\d+))?|(:(\d\d+)(\.(\d+))?))$/,cy=/^(\d+)(\.(\d+))?(h|m|s|ms|f|t)$/,ay="http://www.w3.org/ns/ttml";function fy(t,n,i){return void 0===i&&(i=hw),function(t,n,i){var r,e=[];try{r=A.ru(t)}catch(t){return e}var u=r.Au;if("tt"!==u.ou)return e;var s=u&&u.gu(ay,"head")[0],o=u&&u.gu(ay,"body")[0],c=["ebutts","tts","xml"];if(!o||!s)return e;for(var a=function(t,n){for(var i={},r=t.gu(ay,"styling")[0],e=r&&r.gu(ay,"style")||[],u=0;u<e.length;u++){var s=e[u],o=s.bu(ry,"id");i[o]=sy(s,n)}return i}(s,c),f=function(t,n){var i=Pv(t),r=ly(n.ku("tts:extent"));if(!r)return i;for(var e=0,u=d.keys(i);e<u.length;e++){var s=u[e],o=ly(i[s].extent);if(o){var c=vy(o[0],r[0]),a=vy(o[1],r[1]);i[s].extent=c+" "+a}var f=ly(i[s].origin);if(f){var h=vy(f[0],r[0]),v=vy(f[1],r[1]);i[s].origin=h+" "+v}}return i}(function(t,n){for(var i={},r=t.gu(ay,"layout")[0],e=r&&r.gu(ay,"region")||[],u=0;u<e.length;u++){var s=e[u],o=s.bu(ry,"id");if(o){i[o]=sy(s,n);var c=gy(s,n);for(var a in c)it.call(c,a)&&(i[o][a]=c[a])}}return i}(s,c),u),h=s.gu(ay,"metadata")[0],v=function t(n,i,r,e){var u=i;var s;var o=r;var c=[];var a=[];if(rn(n)){var f,h;u=null!=(f=yy(n.ku("begin"),e))?f:u,s=yy(n.ku("dur"),0),o=null!=(h=yy(n.ku("end"),e))?h:void 0!==s?u+s:o;for(var v=n.wu,d=0;d<v.length;d++)("body"===n.ou||"div"===n.ou)&&v[d].Je>1||(c=c.concat(t(v[d],u,o,e)))}var l=function(t,n,i){var r=[];r.push(t,n);for(var e=0;e<i.length;e++){var u=i[e];r.push(u.U_,u.V_)}r.sort(sl);for(var s=r.length,o=0;o<s-1;o++)r[o+1]===r[o]&&(Ne(r,o+1),o--,s=r.length);return r}(u,o,c);for(var w=0;w<l.length-1;w++){var y=wy(l[w],l[w+1],c);if(y.length<=0&&_y(n)){var g=n.su(!1);a.push(new iy(l[w],l[w+1],g))}else y.length>0&&function(){var t=n.su(!1);y.forEach(function(n){return t._u(n.lT)}),a.push(new iy(l[w],l[w+1],t))}()}return a}(o,i.wp,i.yp,i.gp),l=0;l<v.length;l++){var w=v[l],y=hy(f,w);e.push(new ny(w.U_,w.V_,w.lT,!1,a,y,h))}return e}(t,0,i)}function hy(t,n){for(var i=function t(n){var i=[];var r;if(rn(n)){(r=n.ku("region"))&&i.push(r);for(var e=n.wu,u=0;u<e.length;u++)i=i.concat(t(e[u]))}return i}(n.lT),r={},e=0;e<i.length;e++){var u=i[e];r[u]=t[u]}return r}function vy(t,n){var i=dy(t),r=dy(n);if(i&&r&&i===r){var e=Number(t.slice(0,-i.length)),u=Number(n.slice(0,-r.length));return g(e)||g(u)?t:e/u*100+"%"}return t}function dy(t){return mr(t,"px")?"px":mr(t,"em")?"em":mr(t,"c")?"c":mr(t,"%")?"%":void 0}function ly(t){if(t){var n=t.split(" ");if(2===n.length)return[n[0],n[1]]}}function wy(t,n,i){for(var r=[],e=0;e<i.length;e++){var u=i[e].U_,s=i[e].V_;(u>=t&&s<=n||u<n&&s>=n||u<t&&s>t)&&r.push(i[e])}return r}function yy(t,n){if(t){if(oy.test(t)){var i=oy.exec(t);if(!i)return;var r=Number(i[1])||0,e=Number(i[2])||0,u=Number(i[3])||0,s=i[6];return 3600*r+60*e+u+(s?Number(s)*l.pow(.1,s.length):0)-n}if(cy.test(t)){var o=cy.exec(t);if(!o)return;var c,a=Number(o[1]);switch(o[4]){case"h":c=3600*a;break;case"m":c=60*a;break;case"s":c=a;break;case"ms":c=.001*a;break;case"f":case"t":default:c=NaN}return c-n}}}function gy(t,n){for(var i={},r=t.lu("style")||[],e=0;e<r.length;e++){var u=sy(r[e],n);for(var s in u)it.call(u,s)&&(i[s]=u[s])}return i}function _y(t){if(rn(t)){var n=t.ou.toUpperCase(),i=Boolean(t.ku("smpte:backgroundImage"));return"BR"===n||i}return t.Je===nn.tu}function py(t){var n=function(t){try{return A.ru(t).Au}catch(t){}}(t);return"tt"===(null==n?void 0:n.ou)}var my,ky=function(t){function n(){return t.apply(this,arguments)||this}$(n,t);var i=n.prototype;return i.bl=function(n){return t.prototype.bl.call(this,n)},i.Tl=function(n){var i=t.prototype.Tl.call(this,n);return i&&(n.zl=Yv.Yl),i},i.Yd=function(){return nd(this)},n}(Iv),by=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).ik=new ky,n.wT=function(t){var i=t.Kd;n.yT(i)},n}$(n,t);var i=n.prototype;return i.bl=function(t){t.Fo(mv.al,this.wT),this.ik.bl(t),this.yT(t)},i.Tl=function(t){t.Vo(mv.al,this.wT),t.zl=Yv.Yl,this.ik.Tl(t)},i.gT=function(t){},i._T=function(t){},i.yT=function(t){t.zl!==Yv.Yl?this.gT(t):this._T(t)},i.pT=function(){for(var t=0,n=this.ik.Rl;t<n.length;t++){var i=n[t];i.Vo(mv.al,this.wT),i.sr()}},i.Sl=function(){return this.pT(),this.ik.Sl(),C.resolve()},i.sr=function(){var t=C.coroutine(Zr.mark(function t(){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Uo(),t.next=3,this.Sl();case 3:this.ik.sr();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n}(Je);!function(t){t.fm="subtitles",t.mT="captions",t.kT="descriptions",t.bT="chapters",t.vm="metadata",t.TT="thumbnails"}(my||(my={}));var Ty=[my.fm,my.mT,my.kT,my.bT,my.vm,my.TT];function Ey(t){var n=String(t||"").toLowerCase();return function(t){return"string"==typeof t&&Oe(Ty,t)}(n)?n:n?my.vm:my.fm}var Sy,Ry=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n,i,u)||this).url=void 0,s.status=void 0,s.url=r,s.status=e,s}return $(n,t),n}(Ps);function Iy(t,n){return t===my.TT||t===my.vm&&n===my.TT}function Cy(t,n,i,r){for(var e=0,u=t.Jl.Rl;e<u.length;e++){var s=u[e];if(s.U_>i)break;n<=s.V_&&r.push(s)}}function Dy(t,n){return ul(t.Bl,n.Bl)}function Ay(t,i){var r=i,e=0;if(t instanceof Uf&&t.name===Mf.qv)r=t.cv.fv;else if(function(t){return t instanceof qf}(t)){var u=t.zv;if(r=u.av,0===(e=u.rv))return new Ry(n.ErrorCode.SUBTITLE_CORS_ERROR,"Could not load the subtitle file. Make sure the source is set correctly and that CORS support is enabled.",r,e,t)}return new Ry(n.ErrorCode.SUBTITLE_LOAD_ERROR,"Could not load the subtitle file.",r,e,t)}function Ny(t){switch(t){case $l.WEBVTT:return"WebVTT";case $l.SRT:return"SRT";case $l.TTML:return"TTML";default:return""}}function Oy(t){return Nw(kw(t))?$l.WEBVTT:py(t)?$l.TTML:$l.SRT}!function(t){t.ET="vtt",t.Wp="wvtt",t.ST="stpp"}(Sy||(Sy={}));var xy=function(t){function n(n){var i;return(i=t.call(this,Kv.Wl)||this).errorObject=n,i}return $(n,t),n.prototype.Yd=function(){return this},H(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(pv),Py=function(t){function i(n,i){var r;return(r=t.call(this)||this).RT=void 0,r.IT=void 0,r.CT=new Le,r.RT=n,r.IT=i,r}$(i,t);var r=i.prototype;return r.DT=function(t){if(t.src){var n=t.kind||my.fm,i=this.RT.AT(n,t.id,t.label,t.srclang,t.default);return i.Zl=Rr(t.src),this.bl(i),i}},r.NT=function(){var t=C.coroutine(Zr.mark(function t(i,r){var e,u,s,o,c,a,f,h,v,d,l;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i.Kl=Wl.LOADING,e=new Lf({fv:i.Zl,uv:no.tu,Iv:Af.GET,Ao:r}),t.prev=2,t.next=5,this.IT.cv(e);case 5:return o=t.sent,s=o.rv,t.next=9,o.qh();case 9:u=t.sent,t.next=18;break;case 12:return t.prev=12,t.t0=t.catch(2),Ue(t.t0),i.Kl=Wl.ERROR,i.Lo(new xy(Ay(t.t0,i.Zl))),t.abrupt("return");case 18:for(t.prev=18,c=Oy(u),i.eo=c,a=[],c===$l.WEBVTT||c===$l.SRT?(f=mw(u),a=f.Jl):c===$l.TTML&&(a=fy(u)),h=0,v=a;h<v.length;h++)d=v[h],i.OT(d);t.next=33;break;case 26:return t.prev=26,t.t1=t.catch(18),Ue(t.t1),i.Kl=Wl.ERROR,l=Ny(i.eo),i.Lo(new xy(new Ry(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Could not parse the "+l+(l?" ":"")+"subtitle file.",i.Zl,s,t.t1))),t.abrupt("return");case 33:i.Kl=Wl.LOADED;case 34:case"end":return t.stop()}},t,this,[[2,12],[18,26]])}));return function(n,i){return t.apply(this,arguments)}}(),r.gT=function(t){Oe(this.ik.Rl,t)&&t.Kl===Wl.NONE&&this.NT(t,this.CT.Ao).catch(Ve)},r.Pc=function(){},r.Sl=function(){var n=C.coroutine(Zr.mark(function n(){var i,r,e;return Zr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(this.CT.Io(),this.CT=new Le,i=0,r=this.ik.Rl;i<r.length;i++)e=r[i],this.RT.xT(e);return n.next=5,t.prototype.Sl.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i}(by);function Ly(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.Ul===n&&r.PT)return r}}function Fy(t,n){My(Ly(t.Rl,n))}function My(t){void 0!==t&&(t.zl=Yv.Xl)}function By(t,n){My(Ly(t.Rl,n)||function(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.Ul===n)return r}}(t.Rl,n))}function Uy(t){for(var n=0;n<Ty.length;n++){var i=Ty[n];i===my.bT?By(t,i):Fy(t,i)}}var Vy=function(t){function n(){return t.call(this,to.hf)||this}return $(n,t),n}(Ze),qy=function(){function t(t){var n=this;this.LT=[],this.FT=void 0,this.Id=new Le,this.MT=void 0,this.kn=function(){return 0===n.LT.length?n.MT?jy(n.MT,n.Id.Ao).then(n.BT,n.BT):n.BT():n.LT.shift()().then(n.kn)},this.BT=function(){if(0!==n.LT.length)return n.kn();n.FT=void 0},this.MT=t}var n=t.prototype;return n.UT=function(t,n){var i=this;return new C(function(r){var e=new Le;e.Co(i.Id.Ao),n&&e.Co(n);var u=function(){e.ko()};i.LT.push(function(){var n=jy(t,e.Ao);return r(n),n.then(u,u)}),i.FT||(i.FT=i.kn())})},n.Io=function(){return this.VT(!0)},n.sr=function(){return this.MT=void 0,this.VT(!1)},n.VT=function(t){var n=this.FT;return this.Id.Io(),t&&(this.Id=new Le),C.resolve(n)},t}();function jy(t,n){return new C(function(i){return i(t(n))})}var Hy=function(t){function n(n){var i;return(i=t.call(this,to.$a)||this).errorObject=void 0,i.errorObject=n,i}return $(n,t),H(n,[{key:"error",get:function(){return this.errorObject.message}},{key:"licenseAcquisitionURL",get:function(){return this.errorObject.url}},{key:"status",get:function(){return this.errorObject.status}},{key:"statusText",get:function(){return this.errorObject.statusText}},{key:"licenseAcquisitionMessage",get:function(){return this.errorObject.response}},{key:"systemCode",get:function(){return this.errorObject.systemCode}}]),n}(Ze);function Wy(t,n){if(null==t)return{};var i,r,e={},u=d.keys(t);for(r=0;r<u.length;r++)i=u[r],n.indexOf(i)>=0||(e[i]=t[i]);return e}var $y,zy,Xy="titanium",Gy="conax",Yy="ezdrm",Ky="irdeto",Jy="vudrm",Qy="verimatrix",Zy="keyos",tg="drmtoday",ng="expressplay",ig="azure",rg="xstream",eg="vimond",ug="axinom",sg="uplynk",og="comcast",cg="custom";function ag(t){return et(t.token&&t.deviceId)}function fg(t){var n,i=null==(n=t.fairplay)?void 0:n.headers;return void 0!==i&&et(i.PreAuthorization)}function hg(t){var n=t;return ag(n)&&""!==n.token&&""!==n.deviceId&&!fg(n)}(zy=$y||($y={})).qT=!1,zy.jT=!1,zy.HT=!1,zy.WT=!1,zy.LOG_ADS_DETAILS=!1,zy.LOG_CHROMECAST_DETAILS=!1,zy.LOG_CUSTOM_DRM=!1,zy.LOG_BUFFERING_VIDEO_MAIN=!1,zy.LOG_BUFFERING_VIDEO_SELECTION=!1,zy.LOG_BUFFERING_AUDIO_MAIN=!1,zy.LOG_BUFFERING_AUDIO_SELECTION=!1,zy.$T=!1;var vg,dg=function(){function t(t,n,i){this.zT=t,this.Dc=n,this.XT=i}return t.prototype.GT=function(t){return function(t){var n=t.onCertificateRequest;if(void 0!==n&&"function"!=typeof n)throw new v("ContentProtectionIntegration.onCertificateRequest is not a function.");var i=t.onCertificateResponse;if(void 0!==i&&"function"!=typeof i)throw new v("ContentProtectionIntegration.onCertificateResponse is not a function.");var r=t.onLicenseRequest;if(void 0!==r&&"function"!=typeof r)throw new v("ContentProtectionIntegration.onLicenseRequest is not a function.");var e=t.onLicenseResponse;if(void 0!==e&&"function"!=typeof e)throw new v("ContentProtectionIntegration.onLicenseResponse is not a function.");var u=t.extractFairplayContentId;if(void 0!==u&&"function"!=typeof u)throw new v("ContentProtectionIntegration.extractFairplayContentId is not a function.");return t}(this.XT.build(t))},H(t,[{key:"YT",get:function(){return this.zT}},{key:"Jc",get:function(){return this.Dc}}]),t}();!function(t){t.FAILED="FAILED",t.OVERRIDDEN="OVERRIDDEN",t.SUCCEEDED="SUCCEEDED"}(vg||(vg={}));var lg=function(){function t(){this.KT=[]}var i=t.prototype;return i.registerContentProtectionIntegration=function(t,i,r){switch(this.JT(t,i,r)){case vg.FAILED:throw new Cl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The keySystem should be 'widevine', 'playready' or 'fairplay', but was "+i+".");case vg.OVERRIDDEN:var e=Ng(i);A.ks("Warning: Overwriting an earlier registered integration for "+t+" and "+e+".");break;case vg.SUCCEEDED:Ng(i);0}},i.JT=function(t,n,i){var r=Ng(n);if(!r)return vg.FAILED;for(var e=vg.SUCCEEDED,u=0,s=this.KT.slice();u<s.length;u++){var o=s[u];o.YT===t&&o.Jc===r&&(e=vg.OVERRIDDEN,Ae(this.KT,o))}return this.KT.push(new dg(t,r,i)),e},i.QT=function(t,n){return void 0!==this.ZT(t,n)},i.tE=function(t,n,i){var r=this.ZT(t,n);if(!r)throw h("No ContentProtectionIntegrationInit was found for integration id "+t+" and key system "+n);return r.GT(i)},i.ZT=function(t,n){for(var i=0,r=this.KT;i<r.length;i++){var e=r[i];if(e.YT===t&&(!n||e.Jc===n))return e}},t}();lg.nE=new lg;var wg={playready:"https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx",widevine:"https://wv-keyos.licensekeyserver.com/",fairplay:"https://fp-keyos.licensekeyserver.com/getkey"};function yg(t){if(!t)return!0;var n=t.licenseAcquisitionURL,i=t.certificateURL,r=t.keys,e=t.headers,u=t.useCredentials,s=t.queryParameters,o=t.certificateRequestProcessor,c=t.certificateResponseProcessor,a=t.licenseRequestProcessor,f=t.licenseResponseProcessor;return!(n||i||r||e||u||s||o||c||a||f)}function gg(t){return t&&void 0!==t.licenseAcquisitionURL}var _g=gg,pg=gg;function mg(t){if(!t)return!0;if(Eg(t))return!1;var n=t.fairplay,i=t.playready,r=t.widevine,e=t.clearkey,u=t.aes128;return yg(n)&&yg(i)&&yg(r)&&yg(e)&&yg(u)}function kg(t){var n=hg(t),i=function(t){var n,i=t;return fg(i)&&""!==(null==(n=i.fairplay)?void 0:n.headers.PreAuthorization)&&!ag(i)}(t);return(!n||!i)&&(n||i)}function bg(t){return t.integration===Ky}function Tg(t){var n=t;if(!n)return!1;if(mg(n))return!1;var i=n.fairplay,r=n.playready,e=n.widevine,u=n.clearkey;if(Eg(t))return!0;if(i&&!function(t){var n=t;return n&&(void 0!==n.certificateURL||void 0!==n.certificate)}(i))return!1;if(r&&!_g(r))return!1;if(e&&!pg(e))return!1;if(u&&!function(t){var n=t;return n&&(void 0!==n.licenseAcquisitionURL||void 0!==n.keys)}(u))return!1;if(n.integration){if(lg.nE.QT(n.integration))return!0;switch(n.integration){case Xy:if(!function(t){return t.integration===Xy&&(Sg(t)||Rg(t))}(t))return!1;break;case Jy:if(!Ig(t))return!1;break;case Qy:if(!function(t){return t.integration===Qy}(t))return!1;break;case Ky:if(!bg(t))return!1;break;case Gy:if(!kg(t))return!1;break;case Yy:if(!function(t){return t.integration===Yy}(t))return!1;break;case Zy:if(!Eg(t))return!1;break;case tg:if(!function(t){var n=t;return n.integration===tg&&(void 0!==n.token||function(t){return void 0!==t.merchant&&void 0!==t.sessionId&&void 0!==t.userId}(n))}(t))return!1;break;case ng:if(!function(t){return t.integration===ng}(t))return!1;break;case rg:if(!Cg(t))return!1;break;case eg:if(!function(t){return t.integration===eg}(t))return!1;break;case ug:if(!Dg(t))return!1;break;case ig:if(!function(t){var n=t;return n.integration===ig&&void 0!==n.token}(t))return!1;break;case sg:if(!function(t){return t.integration===sg}(t))return!1;break;case og:if(!function(t){var n=t;return n&&et(n.releasePid)&&et(n.accountId)&&et(n.token)}(t))return!1;break;case cg:return!0;default:return!1}}return!0}function Eg(t){return t.integration===Zy}function Sg(t){return void 0!==t.authToken}function Rg(t){var n=t;return void 0!==n.accountName&&void 0!==n.customerName&&void 0!==n.portalId}function Ig(t){var n=t;return n.integration===Jy&&void 0!==n.token}function Cg(t){var n=t;return n&&n.integration===rg&&at(n.ticketAcquisitionURL)&&at(n.streamId)}function Dg(t){var n=t;return n.integration===ug&&void 0!==n.token}function Ag(t,n){var i,r,e,u=n[t],s=null!=(i=null==u?void 0:u.licenseAcquisitionURL)?i:wg[t],o=null!=(r=null==u?void 0:u.customdata)?r:n.customdata,c=o?{customData:o}:{},a=te({},null!=(e=null==u?void 0:u.headers)?e:{},c),f=null!=u?u:{};f.customdata;return te({},Wy(f,["customdata"]),{licenseAcquisitionURL:s,headers:a})}function Ng(t){switch(t.toLowerCase()){case"widevine":case ye:return ye;case"playready":case de:return de;case"fairplay":case _e:return _e}}function Og(t,i){switch(t){case fe:return function(t){for(var n={},i=Zw.zm(new DataView(t)),r=0;r<i.length;r++){var e=i[r];n[e.Xb]=e.Kb}return n}(i);case he:case ve:return function(t){var n;return(n={})[ge]=t,n}(i);default:throw new Ps(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Unsupported initDataType "+t)}}var xg=function(t){function n(n){var i;return(i=t.call(this)||this).iE=void 0,i.rE=void 0,i.Id=new Le,i.iE=n,i}$(n,t);var i=n.prototype;return i.eE=function(t){t&&(this.rE=t,this.uE(this.Id.Ao).catch(Ve))},i.uE=function(){var t=C.coroutine(Zr.mark(function t(n){var i;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.rE,!A.Ms.os){t.next=6;break}return t.next=4,this.sE(n);case 4:if(!t.sent){t.next=6;break}return t.abrupt("return");case 6:if(!i.oE){t.next=10;break}return t.next=9,this.cE(n);case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.sE=function(){var t=C.coroutine(Zr.mark(function t(n){var i,r,e,u,s,o,c,a;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=this.rE,r=!1,e=0,u=i.aE;case 3:if(!(e<u.length)){t.next=25;break}s=u[e],o=0,c=s.fE;case 6:if(!(o<c.length)){t.next=20;break}return a=c[o],t.prev=8,t.next=11,this.hE(s.Jc.so,a,n);case 11:r=!0,t.next=17;break;case 14:t.prev=14,t.t0=t.catch(8),Ue(t.t0);case 17:o++,t.next=6;break;case 20:if(!r){t.next=22;break}return t.abrupt("return",!0);case 22:e++,t.next=3;break;case 25:return t.abrupt("return",!1);case 26:case"end":return t.stop()}},t,this,[[8,14]])}));return function(n){return t.apply(this,arguments)}}(),i.vE=function(t,n){return this.hE(t,n,this.Id.Ao)},i.Sl=function(){return this.rE=void 0,this.Id.Io(),this.Id=new Le,this.dE()},i.sr=function(){var t=C.coroutine(Zr.mark(function t(){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Uo(),t.next=3,this.Sl();case 3:this.Id.ko();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.lE=function(t,n){if(!this.rE)return!1;var i=Og(t,n);return Boolean(i[we])},H(n,[{key:"Jc",get:function(){return this.wE()}}]),n}(Je),Pg=function(t){function n(){return t.call(this,to.za)||this}return $(n,t),n}(Ze),Lg=function(t){function n(n){var i;return(i=t.call(this,"Tf")||this).yE=n,i}return $(n,t),n}(Ze),Fg=new qy,Mg=function(t){function i(i,r,e){var u;return(u=t.call(this)||this).Bc=void 0,u.Pi=!1,u.gE=!1,u.Id=new Le,u.Cc=function(t){switch(t.Go){case"license-request":u._E(t.Xo,t.Yo).catch(function(t){return u.sa(t)});break;default:u.sa(new Cl(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Unsupported CDM message type: "+t.Go))}},u.pE=function(t){u.mE.Vc.uc(function(t,n){switch(t){case"usable":A.Es(function(){u.gE=!0,u.Lo(new Pg)},100);break;case"expired":case"status-pending":break;case"output-restricted":case"internal-error":u.Lo(new Lg(n))}})},u.kE=function(t){u.sa(new Cl(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Unknown CDM error"))},u.mE=i,u.bE=r,u.TE=e,i.Fo("Xo",u.Cc),i.Fo("zo",u.pE),i.Fo("Ko",u.kE),u.Bc=i.Bc.then(function(){return u.EE()}),u}$(i,t);var r=i.prototype;return r.xc=function(){var t=this;return this.Pi=!0,Fg.UT(function(n){return t.SE(n)},this.Id.Ao)},r.SE=function(){var t=C.coroutine(Zr.mark(function t(i){var r,e,u;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,Be(i),t.next=4,this.bE.RE(this.TE.nc);case 4:return r=t.sent,t.next=7,this.mE.xc(this.TE.so,this.TE.nc,r);case 7:if(!this.bE.IE){t.next=10;break}return t.next=10,this.bE.Wo("persistenttokenavailable",i);case 10:t.next=19;break;case 12:throw t.prev=12,t.t0=t.catch(0),Ue(t.t0),e=t.t0 instanceof ds?t.t0.kc:void 0,u=new Cl(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while performing the CDM request",t.t0,void 0,void 0,void 0,void 0,e),this.sa(u),u;case 19:case"end":return t.stop()}},t,this,[[0,12]])}));return function(n){return t.apply(this,arguments)}}(),r._E=function(){var t=C.coroutine(Zr.mark(function t(i,r){var e,u;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r&&this.bE.CE(r),t.prev=1,!fs(i)){t.next=8;break}return t.next=5,this.bE.DE(new _(i),this.Id.Ao);case 5:e=t.sent,t.next=11;break;case 8:return t.next=10,this.bE.AE(new _(i),this.Id.Ao);case 10:e=t.sent;case 11:t.next=18;break;case 13:if(t.prev=13,t.t0=t.catch(1),!Me(t.t0)){t.next=17;break}return t.abrupt("return");case 17:throw t.t0;case 18:return t.prev=18,t.next=21,this.mE.Fc(e);case 21:t.next=27;break;case 23:throw t.prev=23,t.t1=t.catch(18),u=t.t1 instanceof ds?t.t1.kc:void 0,new Cl(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while applying license response",t.t1,void 0,void 0,void 0,void 0,u);case 27:case"end":return t.stop()}},t,this,[[1,13],[18,23]])}));return function(n,i){return t.apply(this,arguments)}}(),r.sa=function(t){var i=t instanceof Cl?t:new Cl(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.Lo(new Hy(i)),this.Oc()},r.EE=function(){this.mE.Vo("Xo",this.Cc),this.mE.Vo("zo",this.pE),this.mE.Vo("Ko",this.kE),this.gE=!1,this.Id.Io()},r.Oc=function(){var t=C.coroutine(Zr.mark(function t(){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Uo(),this.EE(),t.next=4,this.mE.Oc().catch(P);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i}(Je),Bg=[to.za,to.$a,to.bf],Ug=function(t){function n(n,i,r){var e;(e=t.call(this)||this).jc=void 0,e.iE=void 0,e.NE=void 0,e.OE=[],e.xE=void 0,e.PE=[],e.jc=n,e.iE=r,e.NE=i;var u=i.LE;return u&&$e(n.Wc(u)),e}$(n,t);var i=n.prototype;return i.FE=function(){return this.xE||(this.xE=this.ME()),this.xE},i.ME=function(){var t=C.coroutine(Zr.mark(function t(){var n;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.NE.DE(new _(as()));case 2:return n=t.sent,t.next=5,this.jc.Wc(n.buffer);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.BE=function(){var t=C.coroutine(Zr.mark(function t(n){var i,r,e=this;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.PE.push(n),t.next=4,this.jc.Hc("temporary");case 4:return i=t.sent,r=new Mg(i,this.NE,n),this.OE.push(r),r.Fo(Bg,this.Po),r.Bc.then(function(){return e.UE(r)}),t.abrupt("return",r);case 10:return t.prev=10,Ae(this.PE,n),t.finish(10);case 13:case"end":return t.stop()}},t,this,[[0,,10,13]])}));return function(n){return t.apply(this,arguments)}}(),i.VE=function(t){if(t.qE)return!1;for(var n=0,i=this.OE;n<i.length;n++){if(Vg(i[n].TE,t))return!0}for(var r=0,e=this.PE;r<e.length;r++){if(Vg(e[r],t))return!0}return!1},i.UE=function(t){t.Vo(Bg,this.Po),Ae(this.OE,t)},i.sr=function(){var t=C.coroutine(Zr.mark(function t(){var n;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Uo(),n=this.OE.slice(),this.OE.length=0,t.next=5,C.all(n.map(function(t){return t.Oc()}));case 5:this.NE.sr();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),H(n,[{key:"jE",get:function(){return this.NE.jE}},{key:"Jc",get:function(){return this.NE.Jc}},{key:"HE",get:function(){return this.NE.HE}},{key:"WE",get:function(){return this.NE.WE}},{key:"$E",get:function(){return this.NE.$E}}]),n}(Je);function Vg(t,n){return!t.qE&&t.so===n.so&&_u(t.nc,n.nc)}var qg=function(t){function n(){return t.call(this,"persistenttokenavailable")||this}return $(n,t),n}(Ze),jg=function(t){function i(n,i,r,e,u){var s;return(s=t.call(this)||this).Jc=void 0,s.jE=void 0,s.WE=void 0,s.HE=void 0,s.IT=void 0,s.zE=void 0,s.XE=void 0,s.Jc=n,s.jE=i,s.WE=r,s.IT=e,s.XE=u,s.HE=s.GE(i),s}$(i,t);var r=i.prototype;return r.YE=function(){return this.zE},r.CE=function(t){this.zE=t},r.KE=function(){return this.HE.licenseAcquisitionURL||this.YE()},r.RE=function(t){return C.resolve(void 0)},r.JE=function(){var t=C.coroutine(Zr.mark(function t(i,r,e,u){var s,o;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==(s=this.QE(i,r,e,u)).fv){t.next=3;break}throw new Cl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 3:return t.prev=3,t.next=6,this.jd.cv(s);case 6:return o=t.sent,t.next=9,o.jh(r);case 9:return t.abrupt("return",t.sent);case 12:return t.prev=12,t.t0=t.catch(3),Ue(t.t0),t.next=17,this.ZE(t.t0,s.fv,u);case 17:return t.abrupt("return");case 18:case"end":return t.stop()}},t,this,[[3,12]])}));return function(n,i,r,e){return t.apply(this,arguments)}}(),r.QE=function(t,n,i,r){var e=this.tS().Cf(),u=this.Nv,s={fv:this.nS(),uv:n,ev:e,zh:t,Nv:u,Iv:Af.POST,Cv:0,Ao:r,eo:Nf.wv,Dv:i};return new Lf(s)},r._E=function(t,n){return C.resolve(t)},r.iS=function(t,n,i,r){return C.resolve(t)},r.tS=function(){return new io(this.HE.headers||{})},r.ZE=function(){var t=C.coroutine(Zr.mark(function t(i,r,e){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:throw new Cl(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during license server request",i);case 1:case"end":return t.stop()}},t)}));return function(n,i,r){return t.apply(this,arguments)}}(),r.nS=function(t,n){var i=n,r=this.HE.queryParameters;if(!i){var e=this.KE();if(!e)return"";i=e}if(r||t){var u=A.Gu(i);t&&Sr(u,t),r&&Sr(u,r),i=u.href}return i},r.rS=function(t){return function(t,n){var i=n.licenseResponseProcessor;return C.resolve(new _(Hg(t,i)))}(t,this.HE)},r.eS=function(){var t=C.coroutine(Zr.mark(function t(n,i,r){var e,u,s;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.uS(n,r);case 2:return e=t.sent,t.next=5,this.JE(e,this.XE,i,r);case 5:return u=t.sent,t.next=8,this.rS(u);case 8:return s=t.sent,t.abrupt("return",s);case 10:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),r.sr=function(){this.Uo()},H(i,[{key:"jd",get:function(){return this.IT}},{key:"IE",get:function(){return!1}},{key:"LE",get:function(){var t=this.HE.certificate;if(t)return at(t)?du(t):es(t)}},{key:"sS",get:function(){return"optional"}},{key:"Qc",get:function(){return!1}},{key:"$E",get:function(){return!1}},{key:"Nv",get:function(){return Boolean(this.HE.useCredentials)}}]),i}(Je);function Hg(t,i){if(!t||!i||"function"!=typeof i)return t;try{return i(t)}catch(t){throw new Cl(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error while preprocessing DRM data",t)}}function Wg(t,n){var i=ss(t).buffer,r=n.licenseRequestProcessor;return C.resolve(Hg(i,r))}var $g,zg=function(t){function n(n,i,r,e){return t.call(this,ke,n,i,r,e)||this}$(n,t);var i=n.prototype;return i.GE=function(t){return t.widevine||{}},i.DE=function(){var t=C.coroutine(Zr.mark(function t(n,i){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.LE){t.next=2;break}return t.abrupt("return",this.LE);case 2:return t.abrupt("return",this.AE(new _(n),i));case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.AE=function(n,i){return t.prototype.eS.call(this,n,Of.pv,i)},n}(jg);!function(t){t.Zs="Widevine",t.Qs="PlayreadyV2",t.oS="PlayreadyV2",t.cS="PlayreadyV3",t.to="Fairplay"}($g||($g={}));var Xg={Widevine:{DRMProvider:"Google",DRMVersion:"1.4.8.86",DRMType:"Widevine"},PlayreadyV2:{DRMProvider:"Microsoft",DRMVersion:"2.9",DRMType:"Playready"},PlayreadyV3:{DRMProvider:"Microsoft",DRMVersion:"3",DRMType:"Playready"},Fairplay:{DRMProvider:"Apple",DRMType:"FairPlay",DRMVersion:"1.0"}};function Gg(t,n){var i,r,e,u,s=Xg[n],o=t.accountName;return{CustomerName:t.customerName,AccountName:o,PortalId:t.portalId,FriendlyName:t.friendlyName,DeviceInfo:{FormatVersion:"1",DeviceType:"PC",OSType:null==(i=A.Fs)?void 0:i.Ms,OSVersion:null==(r=A.Fs)?void 0:r.js,DRMProvider:s.DRMProvider,DRMVersion:s.DRMVersion,DRMType:s.DRMType,DeviceVendor:null==(e=A.Fs)?void 0:e.Hs,DeviceModel:null==(u=A.Fs)?void 0:u.Ws}}}function Yg(t,i){if(!t.accountName)throw new Cl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, accountName is not set.");if(!t.customerName)throw new Cl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, customerName is not set.");if(!t.portalId)throw new Cl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, portalId is not set.");throw new Cl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration.")}function Kg(t,n,i){var r;if(Sg(t))r={AuthToken:t.authToken,Payload:n};else{if(!Rg(t))throw Yg(t,i);r={LatensRegistration:Gg(t,i),Payload:n}}return bu(JSON.stringify(r))}function Jg(t,n,i){return Qg.apply(this,arguments)}function Qg(){return(Qg=C.coroutine(Zr.mark(function t(i,r,e){var u,s,o,c;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u=i.zv){t.next=3;break}throw new Cl(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",i,r);case 3:return s=u,t.prev=4,t.next=7,s.Vh(e);case 7:o=t.sent,c=Zg(o),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),c="";case 14:throw new Cl(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",i,s.cv.fv,s.rv,s.sv,c);case 15:case"end":return t.stop()}},t,null,[[4,11]])}))).apply(this,arguments)}function Zg(t){if(t){if(t.WvProxyErr)return t.WvProxyErr.desc;if(t.DrmErr)return t.DrmErr.desc}}var t_=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r,no.Rf)||this).aS=!0,e}$(i,t);var r=i.prototype;return r.ZE=function(t,n,i){return Jg(t,n,i)},r.uS=function(){var t=C.coroutine(Zr.mark(function t(i,r){var e,u;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.jE){t.next=3;break}throw new Cl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Widevine DRM configuration.");case 3:return u=wu(i),t.abrupt("return",Kg(e,u,$g.Zs));case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.rS=function(t){var i;if(!t.license)throw new Cl(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Widevine license server");return i=du(t.license),C.resolve(i)},r.fS=function(t){return C.resolve(new _(t))},r.DE=function(){var t=C.coroutine(Zr.mark(function t(n,i){var r,e;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.hS(),t.next=3,this.uS(n,i);case 3:return r=t.sent,t.next=6,this.JE(r,no.Sf,Of.mv,i);case 6:return e=t.sent,t.next=9,this.fS(e);case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.AE=function(){var n=C.coroutine(Zr.mark(function n(i,r){var e;return Zr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.AE.call(this,i,r);case 2:return e=n.sent,this.hS(),n.abrupt("return",e);case 5:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),r.hS=function(){this.Lo(new qg),this.aS=!1},H(i,[{key:"IE",get:function(){return this.aS}},{key:"sS",get:function(){return A.Ms.as?"required":"optional"}}]),i}(zg),n_=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r,no.Sf)||this).CE("https://widevine-proxy.drm.technology/proxy"),e}return $(i,t),i.prototype.uS=function(){var t=C.coroutine(Zr.mark(function t(i,r){var e,u,s,o;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Wg(i,this.HE);case 2:if(e=t.sent,u=this.WE,r=new _(e),s=[].slice.call(r),o=this.vS){t.next=8;break}throw new Cl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The Widevine vuDRM token has not been correctly configured.");case 8:return t.abrupt("return",JSON.stringify({token:o,drm_info:s,kid:u}));case 9:case"end":return t.stop()}var r},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),H(i,[{key:"vS",get:function(){if(Ig(this.jE))return this.jE.token}}]),i}(zg);function i_(t,n){var i=n||{};return t.ticket&&t.sessionId&&(i=te({},i,{SessionId:t.sessionId,Ticket:t.ticket})),te({},i,{CrmId:t.crmId,AccountId:t.accountId,ContentId:t.contentId})}var r_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,no.Sf)||this).CE("https://emeademo.dev.ott.irdeto.com/Widevine/getlicense"),e}$(n,t);var i=n.prototype;return i.uS=function(t,n){return Wg(t,this.HE)},i.nS=function(n,i){var r=n;return bg(this.jE)&&(r=i_(this.jE,r)),t.prototype.nS.call(this,r,i)},n}(zg),e_="Conax-Custom-Data";function u_(t,n,i){var r=t&&kg(t)&&t;if(r&&!i.has(e_)){var e=hg(r)?r.token:void 0,u=hg(r)?r.deviceId:void 0,s=JSON.stringify({Version:"1.0.0",CxAuthenticationDataToken:e,CxClientInfo:{DeviceType:"Browser",DrmClientType:n+"-HTML5",DrmClientVersion:"1.0.0",CxDeviceId:u}});i.set(e_,s)}return i}var s_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,no.Sf)||this).CE("https://connect.conax.com:8094/license"),e}$(n,t);var i=n.prototype;return i.uS=function(t,n){return Wg(t,this.HE)},i.tS=function(){var n=t.prototype.tS.call(this);return u_(this.jE,"Widevine",n)},n}(zg);function o_(t){var n=Xu(new _(t));return du(JSON.parse(n).license)}function c_(t){return"string"==typeof t.token?t.token:bu(JSON.stringify({userId:t.userId,sessionId:t.sessionId,merchant:t.merchant}))}function a_(t,n,i){var r;return r=i.token?"x-dt-auth-token":"dt-custom-data",t.set(r,n),t}var f_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,no.Sf)||this).CE("https://lic.drmtoday.com/license-proxy-widevine/cenc/"),e}$(n,t);var i=n.prototype;return i.uS=function(t,n){return Wg(t,this.HE)},i.rS=function(t){return C.resolve(o_(t))},i.tS=function(){return a_(t.prototype.tS.call(this),this.vS,this.jE)},H(n,[{key:"vS",get:function(){return c_(this.jE)}}]),n}(zg),h_=function(t){function n(n,i,r){return t.call(this,n,i,r,no.Sf)||this}$(n,t);var i=n.prototype;return i.uS=function(t,n){return Wg(t,this.HE)},i.tS=function(){var n=t.prototype.tS.call(this),i=this.jE.token;return n.set("Authorization","Bearer "+i),n},n}(zg);function v_(t,n,i,r){return d_.apply(this,arguments)}function d_(){return(d_=C.coroutine(Zr.mark(function t(i,r,e,u){var s,o,c,a,f,h,v;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Cg(i)){t.next=2;break}throw new Cl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Xstream DRM Configuration");case 2:return(s=new io).append("Cache-Control","no-cache"),s.append("Content-Type","application/json"),(o=i.sessionId)&&s.append("XSSESSION",o),c=i.streamId,a=i.fairplay?"persistent"===i.fairplay.licenseType?"persistent":"non-persistent":i.widevine&&"persistent"===i.widevine.licenseType?"persistent":"non-persistent",f={drmType:r,licenseType:a,streamId:c},h={fv:i.ticketAcquisitionURL,uv:no.Rf,ev:s,Iv:Af.POST,zh:JSON.stringify(f),Ao:u},t.next=13,e.cv(h);case 13:return v=t.sent,t.next=16,v.Vh();case 16:return t.abrupt("return",t.sent);case 17:case"end":return t.stop()}},t)}))).apply(this,arguments)}var l_=function(t){function n(n,i,r){return t.call(this,n,i,r,no.Rf)||this}$(n,t);var i=n.prototype;return i.tS=function(){var n=t.prototype.tS.call(this);return n.set("Content-Type","application/json"),n},i.uS=function(){var t=C.coroutine(Zr.mark(function t(n,i){var r,e,u,s;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=ku(n.buffer),e=this.jE,t.next=4,v_(e,"widevine_modular",this.jd,i);case 4:return u=t.sent,this.CE(u.licenseServerUrl),s=Gu(JSON.stringify({payload:r,ticket:u.ticket})),t.abrupt("return",Wg(s,this.HE));case 8:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.rS=function(t){var n=t;return C.resolve(du(n.license))},n}(zg),w_=function(t){function i(n,i,r){return t.call(this,n,i,r,no.Sf)||this}$(i,t);var r=i.prototype;return r.uS=function(t,n){return Wg(t,this.HE)},r.tS=function(){if(!Dg(this.jE))throw new Cl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.tS.call(this);return i.set("X-AxDRM-Message",this.jE.token),i},i}(zg);function y_(t){for(var n=new _(2*t.length),i=0;i<t.length;i+=1)n[2*i]=t.charCodeAt(i),n[2*i+1]=0;return n}var g_=function(t){function n(n,i,r){var e;return(e=t.call(this,me,n,i,r,no.Sf)||this).dS=void 0,e}$(n,t);var i=n.prototype;return i.GE=function(t){return t.playready||{}},i.tS=function(){var n=new io(this.dS);return n.Af(t.prototype.tS.call(this)),n},i.lS=function(t){return t.length>=1&&t[0].wu.length>0},i.RE=function(n){var i=this.jE.playready.customData;if(i){var r=y_(i),e=y_('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">'+wu(r)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>");return C.resolve({playready:{va:e}})}return t.prototype.RE.call(this,n)},i.uS=function(){var t=C.coroutine(Zr.mark(function t(n,i){var r;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Wg(n,this.HE);case 2:return r=t.sent,t.abrupt("return",this.wS(r));case 4:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.wS=function(){var t=C.coroutine(Zr.mark(function t(n){var i,r,e,u,s,o,c,a,f,h,v,d,l,w,y,g;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:s=null,o=new DataView(n),_=o,p=new os,void 0===(m=!0)&&(m=!1),c=$u(_,p,m,!0),t.prev=3,a=A.ru(c),t.next=10;break;case 7:return t.prev=7,t.t0=t.catch(3),t.abrupt("return",s);case 10:for(f=null==(i=a.lu("PlayReadyKeyMessage")[0])?void 0:i.lu("LicenseAcquisition")[0],h=null!=(r=null==f?void 0:f.lu("Challenge"))?r:[],this.lS(h)&&(s=mu(h[0].Cu)),v=new io,d=null!=(e=null==f?void 0:null==(u=f.lu("HttpHeaders")[0])?void 0:u.lu("HttpHeader"))?e:[],l=0;l<d.length;l++)w=d[l],y=w.lu("name")[0].Cu,g=w.lu("value")[0].Cu,v.append(y,g);return this.dS=v,t.abrupt("return",s);case 18:case"end":return t.stop()}var _,p,m},t,this,[[3,7]])}));return function(n){return t.apply(this,arguments)}}(),i.DE=function(t,n){return C.resolve(t)},i.AE=function(n,i){return t.prototype.eS.call(this,n,Of.kv,i)},H(n,[{key:"Qc",get:function(){return Boolean(this.jE.playready.customData)}}]),n}(jg),__=function(){function t(n){this.yS=void 0,this.gS=n,this.yS=t._S(n)}return t._S=function(t){return"3"===t.version?$g.cS:$g.oS},t.prototype.pS=function(){var t={};if(this.yS===$g.cS){var n={LatensRegistration:Gg(this.gS,$g.cS)};t["X-TITANIUM-DRM-CDATA"]=bu(JSON.stringify(n))}return t},H(t,[{key:"mS",get:function(){return this.yS}},{key:"Qc",get:function(){return this.yS===$g.oS}}]),t}();var p_=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r)||this).kS=void 0,e.kS=new __(e.jE),e}$(i,t);var r=i.prototype;return r.RE=function(t){var i=this.jE;if(!this.jE)throw new Cl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium PlayReady DRM configuration.");if(Rg(i)){var r={};return r.playready={va:m_(i,this.kS.mS)},C.resolve(r)}return C.reject(Yg(i,$g.Qs))},r.tS=function(){var n=new io(this.kS.pS());return n.Af(t.prototype.tS.call(this)),n},r.ZE=function(){var t=C.coroutine(Zr.mark(function t(i,r,e){var u,s,o,c,a,f,h,v;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u=i.zv){t.next=3;break}throw new Cl(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",i,r);case 3:return t.prev=3,t.next=6,u.Hh(e);case 6:c=t.sent,a=Xu(new _(c)),(f=A.ru(a))&&(h=ey(f,"CustomData")).length>0&&(s=JSON.parse(h[0].Cu),o=null==(v=s.DrmErr)?void 0:v.desc),t.next=14;break;case 12:t.prev=12,t.t0=t.catch(3);case 14:throw new Cl(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",i,r,u.rv,u.sv,o);case 15:case"end":return t.stop()}},t,null,[[3,12]])}));return function(n,i,r){return t.apply(this,arguments)}}(),r.lS=function(t){if(1!==t.length)throw new Cl(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"PlayReady license message incorrectly formatted, Challenge not found.");return!0},H(i,[{key:"Qc",get:function(){return this.kS.Qc}}]),i}(g_);function m_(t,n){var i=Gg(t,n),r=i.DeviceInfo.FormatVersion,e=bu('<LatensRegistration formatversion="'+r+'"><AccountName>'+i.AccountName+"</AccountName><CustomerName>"+i.CustomerName+"</CustomerName><PortalID>"+i.PortalId+'</PortalID><DeviceInfo formatversion="'+r+'"><DeviceType>'+i.DeviceInfo.DeviceType+"</DeviceType><OSType>"+i.DeviceInfo.OSType+"</OSType><OSVersion>"+i.DeviceInfo.OSVersion+"</OSVersion><DRMProvider>"+i.DeviceInfo.DRMProvider+"</DRMProvider><DRMVersion>"+i.DeviceInfo.DRMVersion+"</DRMVersion><DRMType>"+i.DeviceInfo.DRMType+"</DRMType><DeviceVendor>"+i.DeviceInfo.DeviceVendor+"</DeviceVendor><DeviceModel>"+i.DeviceInfo.DeviceModel+"</DeviceModel></DeviceInfo></LatensRegistration>"),u=Ku(("<TitaniumCustomData>"+e+"</TitaniumCustomData>").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/&lt;/g,"<").replace(/&gt;/g,">"),!0);return Ku('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0"><CustomData encoding="base64encoded">'+wu(u)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>",!0)}var k_,b_=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r)||this).CE("https://playready-license.drm.technology/rightsmanager.asmx"),e}$(i,t);var r=i.prototype;return r.lS=function(t){if(1!==t.length)throw new Cl(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Vudrm PlayReady license message incorrectly formatted, Challenge not found.");return!0},r.nS=function(n,i){var r=te({},n||{},{token:this.vS});return t.prototype.nS.call(this,r,i)},H(i,[{key:"vS",get:function(){if(Ig(this.jE))return this.jE.token}}]),i}(g_),T_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).CE("https://emeademo.dev.ott.irdeto.com/playready/rightsmanager.asmx"),e}return $(n,t),n.prototype.nS=function(n,i){var r=n;return bg(this.jE)&&(r=i_(this.jE,r)),t.prototype.nS.call(this,r,i)},n}(g_),E_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).CE("https://connect.conax.com:8010/cxplayready/rightsmanager.asmx"),e}return $(n,t),n.prototype.tS=function(){var n=t.prototype.tS.call(this);return u_(this.jE,"PlayReady",n)},n}(g_),S_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).CE("https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx"),e}$(n,t);var i=n.prototype;return i.rS=function(n){return(pr(Xu(new _(n)),"<?xml")?k_.bS:k_.Vh)===k_.Vh?C.resolve(o_(n)):C.resolve(t.prototype.rS.call(this,new _(n)))},i.tS=function(){return a_(t.prototype.tS.call(this),this.vS,this.jE)},H(n,[{key:"vS",get:function(){return c_(this.jE)}}]),n}(g_);!function(t){t[t.bS=0]="bS",t[t.Vh=1]="Vh"}(k_||(k_={}));var R_,I_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).TS=void 0,e}$(n,t);var i=n.prototype;return i.tS=function(){var n=t.prototype.tS.call(this);return this.TS&&n.set("Ticket",this.TS),n.set("Content-Type","text/xml"),n},i.uS=function(){var n=C.coroutine(Zr.mark(function n(i,r){var e,u;return Zr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e=this.jE,n.next=3,v_(e,"playready",this.jd,r);case 3:return u=n.sent,this.CE(u.licenseServerUrl),this.TS=u.ticket,n.abrupt("return",t.prototype.uS.call(this,i,r));case 7:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),n}(g_),C_=function(t){function i(){return t.apply(this,arguments)||this}return $(i,t),i.prototype.tS=function(){if(!Dg(this.jE))throw new Cl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.tS.call(this);return i.set("X-AxDRM-Message",this.jE.token),i},i}(g_);!function(t){t.Rf="application/json",t.ES="application/x-www-form-urlencoded",t.SS="application/octet-stream",t.tu="text/plain;charset=UTF-8"}(R_||(R_={}));var D_=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n.Jc,i,r,e,u)||this).RS="",s.IS=void 0,s.CS=void 0,s.CS=n.pa,s}$(n,t);var i=n.prototype;return i.DS=function(){return this.HE.certificateURL||this.IS},i.AS=function(t){this.IS=t},i.uS=function(){var t=C.coroutine(Zr.mark(function t(n){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.NS(n,this.RS));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.NS=function(){var t=C.coroutine(Zr.mark(function t(n,i){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return","spc="+encodeURIComponent(wu(n))+"&assetId="+encodeURIComponent(i));case 1:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}(),i.GE=function(t){return t.fairplay||{}},i.OS=function(t){var n=t.indexOf("?");if(n>=0)return C.resolve(t.substr(n+1));var i=t.split("/");return C.resolve(i[i.length-1])},i.RE=function(){var t=C.coroutine(Zr.mark(function t(n){var i,r,e,u;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=null!=(i=this.CS)?i:Qu(new _(n)),t.next=3,this.OS(r);case 3:return e=t.sent,this.RS=e,(u={}).fairplay={pa:e},t.abrupt("return",u);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.tS=function(){var n=t.prototype.tS.call(this);return n.set("Content-Type",this.xS),n},i.DE=function(){var t=C.coroutine(Zr.mark(function t(n,i){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.LE){t.next=2;break}return t.abrupt("return",this.LE);case 2:return t.next=4,this.PS(i);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.AE=function(n,i){return t.prototype.eS.call(this,n,Of.gv,i)},i.LS=function(t){var n=this.DS(),i=this.tS(),r={fv:n,uv:no.Sf,ev:i,Iv:Af.GET,Nv:!1,zh:null,Cv:0,Ao:t,eo:Nf.wv,Dv:Of._v};return new Lf(r)},i.PS=function(){var t=C.coroutine(Zr.mark(function t(n){var i,r,e;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.LS(n),t.next=3,this.jd.cv(i);case 3:return r=t.sent,t.next=6,r.Hh();case 6:return e=t.sent,t.abrupt("return",new _(e));case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.rS=function(t){var n;if("string"==typeof t){var i=t.trim();"<ckc>"===i.substr(0,5)&&"</ckc>"===i.substr(-6)&&(i=i.slice(5,-6)),n=du(i)}else n=new _(t);return C.resolve(n)},i.nS=function(n,i){var r=t.prototype.nS.call(this,n,i);return pr(r,"skd:")&&(r=r.substr("skd:".length)),r},H(n,[{key:"$E",get:function(){return!0}},{key:"xS",get:function(){return R_.ES}}]),n}(jg),A_=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,no.Sf)||this}$(n,t);var i=n.prototype;return i.OS=function(){var t=C.coroutine(Zr.mark(function t(n){var i,r,e;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.split("://",1),r=i[0].slice(-3),i=n.split(";",2),e=i.length>1?i[1]:"",t.abrupt("return","skd"===r.toLowerCase()?e:"");case 5:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.uS=function(){var t=C.coroutine(Zr.mark(function t(n){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.rS=function(t){return C.resolve(new _(t))},i.nS=function(n,i){var r=n||{};return r.p1=Zt(),t.prototype.nS.call(this,r,i)},H(n,[{key:"xS",get:function(){return R_.SS}}]),n}(D_),N_=function(t){function i(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,no.Sf)||this).CE("https://fairplay-license.drm.technology/license"),u.AS("https://fairplay-license.drm.technology/certificate"),u}$(i,t);var r=i.prototype;return r.NS=function(){var t=C.coroutine(Zr.mark(function t(n,i){var r;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={token:this.vS,contentId:i,payload:wu(n)},t.abrupt("return",JSON.stringify(r));case 2:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.rS=function(t){return C.resolve(new _(t))},r.tS=function(){var n=t.prototype.tS.call(this);return n.set("x-vudrm-token",this.vS),n},H(i,[{key:"xS",get:function(){return R_.Rf}},{key:"vS",get:function(){if(!Ig(this.jE))throw new Cl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Token is required for FairPlay VuDrm.");return this.jE.token}}]),i}(D_),O_="Verimatrix Fairplay license response incorrectly formatted. Invalid json.",x_="Verimatrix Fairplay license response incorrectly formatted. Ckc not found.",P_=function(t){function i(n,i,r,e){return t.call(this,n,i,r,e,no.Sf)||this}return $(i,t),i.prototype.rS=function(i){var r=function(t){var i;try{i=JSON.parse(t).ckc}catch(t){throw new Cl(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,O_)}if(!i)throw new Cl(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,x_);return i}(Xu(new DataView(i)));return t.prototype.rS.call(this,r)},i}(D_);var L_=function(t){function i(n,i,r,e){return t.call(this,n,i,r,e,no.Rf)||this}$(i,t);var r=i.prototype;return r.uS=function(){var t=C.coroutine(Zr.mark(function t(i){var r,e;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.jE){t.next=3;break}throw new Cl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Fairplay DRM configuration.");case 3:return e=wu(i),t.abrupt("return",Kg(r,e,$g.to));case 5:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.rS=function(t){try{var i;if(at(t)){var r=t.trim();i=JSON.parse(r)}else i=t;if(i.license){var e=mu(i.license);return C.resolve(new _(e))}return C.reject(new Cl(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Titanium Fairplay license server"))}catch(t){return C.reject(new Cl(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Fairplay license server"))}},r.ZE=function(t,n,i){return Jg(t,n,i)},H(i,[{key:"xS",get:function(){return R_.Rf}}]),i}(D_),F_=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,no.Sf)||this).CE("https://emeademo.dev.ott.irdeto.com/streaming/getckc"),u.AS("https://emeademo.dev.ott.irdeto.com/streaming/getcertificate"),u}$(n,t);var i=n.prototype;return i.DS=function(){var n=t.prototype.DS.call(this);if(!n)return n;var i=A.Gu(n),r=this.jE;return bg(r)&&Sr(i,{accountId:r.accountId,applicationId:r.applicationId||""}),i.href},i.OS=function(){var n=C.coroutine(Zr.mark(function n(i){return Zr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!bg(this.jE)){n.next=2;break}return n.abrupt("return",this.jE.contentId);case 2:return n.abrupt("return",t.prototype.OS.call(this,i));case 3:case"end":return n.stop()}},n,this)}));return function(t){return n.apply(this,arguments)}}(),i.uS=function(){var t=C.coroutine(Zr.mark(function t(n){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.rS=function(t){return C.resolve(new _(t))},i.nS=function(n,i){var r=n;return bg(this.jE)&&(r=function(t,n){return te({},i_(t,n),{KeyId:t.keyId})}(this.jE,r)),t.prototype.nS.call(this,r,i)},H(n,[{key:"xS",get:function(){return R_.SS}}]),n}(D_),M_=function(t){function i(i,r,e,u){var s;if(s=t.call(this,i,r,e,u,no.tu)||this,!kg(r))throw new Cl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Conax configuration");return s.CE("https://connect.conax.com:8097/license"),s}$(i,t);var r=i.prototype;return r.tS=function(){var n=t.prototype.tS.call(this);return u_(this.jE,"FairPlay",n)},r.PS=function(){var t=C.coroutine(Zr.mark(function t(n){var i,r,e,u;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.DS(),r={fv:i,uv:no.Sf,ev:{},Iv:Af.GET,Nv:!1,zh:null,Cv:0,Ao:n,eo:Nf.wv,Dv:Of._v},t.next=4,this.jd.cv(r);case 4:return e=t.sent,t.next=7,e.Hh();case 7:return u=t.sent,t.abrupt("return",new _(u));case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.uS=function(){var t=C.coroutine(Zr.mark(function t(n){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.OS=function(t){var n,i=t.indexOf("?");return 0===t.indexOf("skd://")?(n=i>=0?t.substring("skd://".length,i):t.substring("skd://".length),C.resolve(Xu(du(n)))):C.resolve("unknown")},r.rS=function(t){try{var n=JSON.parse(t);return C.resolve(new _(mu(n.CkcMessage)))}catch(t){return C.reject("CFLRW-66")}},i}(D_),B_=function(t){function i(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,no.tu)||this).CE(wg[ae.to]),u}$(i,t);var r=i.prototype;return r.OS=function(t){return 0===t.indexOf("skd://")?C.resolve(t.substring("skd://".length,40)):C.reject(new Cl(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error while determining the KeyOS Content ID."))},r.NS=function(){var t=C.coroutine(Zr.mark(function t(n,i){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return","spc="+wu(n)+"&assetId="+i);case 1:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}(),i}(D_),U_=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,no.tu)||this).CE("https://lic.drmtoday.com/license-server-fairplay/"),u}$(n,t);var i=n.prototype;return i.NS=function(){var t=C.coroutine(Zr.mark(function t(n,i){var r;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r="spc="+encodeURIComponent(wu(n))+"&"+encodeURI(i),"persistent"!==this.HE.licenseType){t.next=3;break}return t.abrupt("return",r+"&offline=true");case 3:return t.abrupt("return",r);case 4:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.tS=function(){return a_(t.prototype.tS.call(this),this.vS,this.jE)},H(n,[{key:"vS",get:function(){return c_(this.jE)}}]),n}(D_),V_=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,no.Sf)||this}$(n,t);var i=n.prototype;return i.OS=function(t){var n=t;return pr(n,"skd:")&&(n="http:"+n.substring(4)),pr(n,"http:")||pr(n,"https:")?C.resolve(A.Gu(n).hostname):C.reject(new h("Could not parse ExpressPlay FairPlay content ID."))},i.uS=function(){var t=C.coroutine(Zr.mark(function t(n){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.rS=function(t){return C.resolve(new _(t))},H(n,[{key:"xS",get:function(){return R_.SS}}]),n}(D_),q_=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,no.tu)||this}return $(n,t),n.prototype.tS=function(){var n=t.prototype.tS.call(this),i=this.jE.token;return n.set("Authorization","Bearer "+i),n},n}(D_),j_=function(t){function n(n,i,r,e){var u;if(u=t.call(this,n,i,r,e,no.Rf)||this,!Cg(i))throw new h("Invalid Xstream DRM configuration");return u}$(n,t);var i=n.prototype;return i.PS=function(){var t=C.coroutine(Zr.mark(function t(n){var i,r,e,u,s;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.DS(),r=this.tS(),e={fv:i,uv:no.Rf,ev:r,Iv:Af.POST,Ao:n,eo:Nf.wv,Dv:Of._v},t.next=5,this.jd.cv(e);case 5:return u=t.sent,t.next=8,u.Vh();case 8:return s=t.sent,t.abrupt("return",new _(du(s.certificate)));case 10:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.AE=function(){var t=C.coroutine(Zr.mark(function t(n,i,r){var e,u,s,o,c,a,f;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===r&&(r=no.tu),e=wu(n),u=this.jE,t.next=5,v_(u,"fairplay",this.jd,i);case 5:return s=t.sent,o=Gu(JSON.stringify({spc:e,ticket:s.ticket})),c={fv:this.KE(),uv:no.Rf,ev:this.tS(),Iv:Af.POST,zh:o,Cv:0,Ao:i,eo:Nf.wv,Dv:Of.gv},t.next=10,this.jd.cv(c);case 10:return a=t.sent,t.next=13,a.Vh();case 13:return f=t.sent,t.abrupt("return",du(f.licence));case 15:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),H(n,[{key:"xS",get:function(){return R_.Rf}}]),n}(D_),H_=function(t){function i(n,i,r,e){return t.call(this,n,i,r,e,no.tu)||this}$(i,t);var r=i.prototype;return r.NS=function(){var t=C.coroutine(Zr.mark(function t(n,i){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",wu(n));case 1:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}(),r.rS=function(i){if(0===i.length)throw new Cl(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Vimond license request error.");return t.prototype.rS.call(this,i)},r.tS=function(){var n=t.prototype.tS.call(this);return n.set("Content-Type","text/plain"),n},i}(D_),W_=function(t){function i(n,i,r,e){return t.call(this,n,i,r,e,no.Sf)||this}$(i,t);var r=i.prototype;return r.NS=function(){var t=C.coroutine(Zr.mark(function t(n){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.rS=function(t){return C.resolve(new _(t))},r.tS=function(){if(!Dg(this.jE))throw new Cl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.tS.call(this);return i.set("X-AxDRM-Message",this.jE.token),i},H(i,[{key:"xS",get:function(){return R_.Rf}}]),i}(D_),$_=function(t){function i(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,no.Rf)||this).FS=void 0,u}$(i,t);var r=i.prototype;return r.NS=function(){var t=C.coroutine(Zr.mark(function t(n,i){var r;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={spc:wu(n)},t.abrupt("return",JSON.stringify(r));case 2:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}(),r.OS=function(t){var i=A.Gu(t);return this.FS=t,i.searchParams.has("b")?C.resolve(i.searchParams.get("b")):C.reject(new Cl(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error during license server request: Could not extract content id"))},r.nS=function(n,i){var r=this.KE();return!r&&this.FS&&(r=this.FS),r&&(r=r.replace("skd://","https://")),t.prototype.nS.call(this,n,i||r)},r.rS=function(){var t=C.coroutine(Zr.mark(function t(i){var r;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(r=at(i)?JSON.parse(i.trim()):i).ckc){t.next=4;break}return t.abrupt("return",du(r.ckc));case 4:t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(0),new Cl(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Uplynk Fairplay license server");case 9:throw new Cl(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Uplynk Fairplay license server");case 10:case"end":return t.stop()}},t,null,[[0,6]])}));return function(n){return t.apply(this,arguments)}}(),H(i,[{key:"xS",get:function(){return R_.tu}}]),i}(D_),z_=function(){function t(t,n){this.MS=t,this.BS=n}var n=t.prototype;return n.US=function(t){return this.MS(t)},n.VS=function(t,n){throw new v(n+" must be "+this.BS+". (Received: "+t+")")},t}(),X_=new z_(vt,"a number"),G_=new z_(at,"a string"),Y_=new z_(ft,"a boolean");var K_,J_=(K_={responseCode:X_,isException:Y_,description:G_,title:G_,correlationId:G_},{US:function(t){if(!ot(t))return!1;for(var n=0,i=d.keys(K_);n<i.length;n++){var r=i[n];if(!K_[r].US(t[r]))return!1}return!0},VS:function(t,n){if(!ot(t))throw new v(n+" must be an object.");for(var i=0,r=d.keys(K_);i<r.length;i++){var e=r[i],u=K_[e];if(!u.US(t[e]))return u.VS(t[e],n+"."+e)}throw new v}});function Q_(t,n,i,r,e){return Z_.apply(this,arguments)}function Z_(){return(Z_=C.coroutine(Zr.mark(function t(n,i,r,e,u){var s;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=tp(n,i,r,u),t.next=3,np(s,e);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t)}))).apply(this,arguments)}function tp(t,n,i,r){var e={token:n.token,account:n.accountId,form:"json"},u=decodeURIComponent(function(t,n){var i=A.Gu(t);return Sr(i,n),i.toString()}(i,e)),s=new io({});s.append("Content-Type","application/json");var o=wu(t),c={getFairplayLicense:{releasePid:n.releasePid,spcMessage:o}};return{fv:u,uv:no.tu,ev:s,Iv:Af.POST,zh:JSON.stringify(c),Ao:r,eo:Nf.wv,Dv:Of.gv}}function np(t,n){return ip.apply(this,arguments)}function ip(){return(ip=C.coroutine(Zr.mark(function t(i,r){var e,u;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.cv(i);case 2:return e=t.sent,t.next=5,e.Vh();case 5:if(u=t.sent,!J_.US(u)){t.next=8;break}throw new Cl(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,u.description,void 0,i.fv,u.responseCode);case 8:return t.abrupt("return",du(u.getFairplayLicenseResponse.ckcResponse));case 9:case"end":return t.stop()}},t)}))).apply(this,arguments)}var rp=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,no.Sf)||this).qS=void 0,u.qS=i,u}$(n,t);var i=n.prototype;return i.OS=function(n){var i=n.replace("FairPlay",this.qS.releasePid);return t.prototype.OS.call(this,i)},i.AE=function(){var t=C.coroutine(Zr.mark(function t(n,i){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Q_(n,this.qS,this.KE(),this.jd,i);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n}(D_),ep=function(t){function i(n,i,r){return t.call(this,Te,n,i,r,no.Sf)||this}$(i,t);var r=i.prototype;return r.GE=function(t){return t.clearkey||{}},r.uS=function(){var t=C.coroutine(Zr.mark(function t(n,i){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Wg(n,this.HE));case 1:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.JE=function(){var i=C.coroutine(Zr.mark(function i(r,e,u,s){var o,c;return Zr.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(o=this.HE,!this.KE()){i.next=5;break}return i.abrupt("return",t.prototype.JE.call(this,r,this.XE,u,s));case 5:if(!o.keys||!o.keys.length){i.next=10;break}return c={keys:o.keys.map(function(t){var n=t;return n||(n={}),{kty:"oct",kid:n.id,k:n.value}})},i.abrupt("return",Gu(JSON.stringify(c)).buffer);case 10:throw new Cl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The clearkey license has not been configured correctly.");case 11:case"end":return i.stop()}},i,this)}));return function(t,n,r,e){return i.apply(this,arguments)}}(),r.DE=function(t,n){return C.resolve(new _(0))},r.AE=function(n,i){return t.prototype.eS.call(this,n,Of.bv,i)},i}(jg),up=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n.prototype.uS=function(){var t=C.coroutine(Zr.mark(function t(n,i){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Wg(n,this.HE));case 1:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n}(zg),sp={url:"",method:"GET",headers:{},body:null,useCredentials:!1};function op(t,n,i){return cp.apply(this,arguments)}function cp(){return(cp=C.coroutine(Zr.mark(function t(n,i,r){var e,u,s;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=bp(i),(u=n.onCertificateRequest)&&"function"==typeof u){t.next=5;break}return t.abrupt("return",C.resolve(i));case 5:return t.next=8,qe(C.resolve(u.call(n,e)),r);case 8:if(!rs(s=t.sent)){t.next=11;break}return t.abrupt("return",es(s));case 11:return t.abrupt("return",kp(te({},sp,s)));case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function ap(t,n,i,r,e){return fp.apply(this,arguments)}function fp(){return(fp=C.coroutine(Zr.mark(function t(n,i,r,e,u){var s,o,c;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=n.onCertificateResponse,o=mp(i,r,e),s&&"function"==typeof s){t.next=5;break}return t.abrupt("return",C.resolve(i));case 5:return t.next=8,qe(C.resolve(s.call(n,o)),u);case 8:return c=t.sent,t.abrupt("return",es(c));case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function hp(t,n,i,r){return vp.apply(this,arguments)}function vp(){return(vp=C.coroutine(Zr.mark(function t(n,i,r,e){var u;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,wp(n,i,r,e);case 2:if(!((u=t.sent)instanceof ArrayBuffer)){t.next=5;break}return t.abrupt("return",u);case 5:return t.abrupt("return",kp(u));case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function dp(t,n,i,r,e,u){return lp.apply(this,arguments)}function lp(){return(lp=C.coroutine(Zr.mark(function t(n,i,r,e,u,s){var o,c;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=pp(r,u),t.next=3,gp(n,new _(i),o,e,s);case 3:return c=t.sent,t.abrupt("return",es(c).buffer);case 5:case"end":return t.stop()}},t)}))).apply(this,arguments)}function wp(t,n,i,r){return yp.apply(this,arguments)}function yp(){return(yp=C.coroutine(Zr.mark(function t(n,i,r,e){var u,s,o;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u=null==n?void 0:n.onLicenseRequest,s=pp(i,r),u&&"function"==typeof u){t.next=5;break}return t.abrupt("return",C.resolve(s));case 5:return t.next=8,qe(C.resolve(u.call(n,s)),e);case 8:if(!rs(o=t.sent)){t.next=11;break}return t.abrupt("return",es(o).buffer);case 11:return t.abrupt("return",te({fairplaySkdUrl:void 0},sp,o));case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function gp(t,n,i,r,e){return _p.apply(this,arguments)}function _p(){return(_p=C.coroutine(Zr.mark(function t(n,i,r,e,u){var s,o,c;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=null==n?void 0:n.onLicenseResponse,o=mp(i,r,e),s&&"function"==typeof s){t.next=5;break}return t.abrupt("return",C.resolve(i));case 5:return t.next=8,qe(C.resolve(s.call(n,o)),u);case 8:return c=t.sent,t.abrupt("return",es(c));case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function pp(t,n){return te({},bp(t),{fairplaySkdUrl:n})}function mp(t,n,i){return{url:i.av,status:i.rv,statusText:i.sv,headers:i.ev.Cf(),body:t,request:n}}function kp(t){return new Lf({fv:t.url,Iv:t.method,ev:t.headers,zh:t.body,Nv:t.useCredentials})}function bp(t){var n;return{url:t.fv,body:null!=(n=Tp(t.zh))?n:null,headers:t.ev.Cf(),method:t.Iv,useCredentials:t.Nv}}function Tp(t){if(t)return"string"==typeof t?Gu(t):t instanceof ArrayBuffer?new _(t):gu(t)?is(t):void 0}var Ep=function(t){function i(n,i,r,e){var u;return(u=t.call(this,n,i,r)||this).jS=void 0,u.jS=e,u}$(i,t);var r=i.prototype;return r.DE=function(t,n){return C.resolve(t)},r.AE=function(){var t=C.coroutine(Zr.mark(function t(i,r){var e,u,s,o,c;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.wS(ss(i).buffer);case 2:return e=t.sent,u=this.QE(e,no.Sf,Of.kv,r),t.next=6,hp(this.jS,u,void 0,r);case 6:if(!((s=t.sent)instanceof ArrayBuffer)){t.next=10;break}return t.abrupt("return",new _(s));case 10:if(""!==s.fv){t.next=12;break}throw new Cl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 12:return t.prev=12,t.next=15,this.jd.cv(s);case 15:return o=t.sent,t.next=18,o.Hh(r);case 18:return c=t.sent,t.t0=_,t.next=22,dp(this.jS,c,u,o,void 0,r);case 22:return t.t1=t.sent,t.abrupt("return",new t.t0(t.t1));case 26:throw t.prev=26,t.t2=t.catch(12),Ue(t.t2),new Cl(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during PlayReady license request",t.t2);case 30:case"end":return t.stop()}},t,this,[[12,26]])}));return function(n,i){return t.apply(this,arguments)}}(),i}(g_),Sp=function(t){function i(n,i,r,e){var u;return(u=t.call(this,n,i,r,no.Sf)||this).jS=void 0,u.jS=e,u}$(i,t);var r=i.prototype;return r.DE=function(){var t=C.coroutine(Zr.mark(function t(i,r){var e,u,s,o,c;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.LE){t.next=2;break}return t.abrupt("return",this.LE);case 2:return e=this.QE(i,no.Sf,Of.mv,r),t.next=5,op(this.jS,e,r);case 5:if(!((u=t.sent)instanceof _)){t.next=9;break}return t.abrupt("return",u);case 9:if(""!==u.fv){t.next=11;break}throw new Cl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The certificate request URL has not been correctly configured.");case 11:return t.prev=11,t.next=14,this.jd.cv(u);case 14:return s=t.sent,t.next=17,s.Hh(r);case 17:o=t.sent,t.next=24;break;case 20:throw t.prev=20,t.t0=t.catch(11),Ue(t.t0),new Cl(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during Widevine certificate request",t.t0);case 24:return c=pp(e,void 0),t.next=27,ap(this.jS,new _(o),c,s,r);case 27:return t.abrupt("return",t.sent);case 28:case"end":return t.stop()}},t,this,[[11,20]])}));return function(n,i){return t.apply(this,arguments)}}(),r.AE=function(){var t=C.coroutine(Zr.mark(function t(i,r){var e,u,s,o;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.QE(i,no.Sf,Of.pv,r),t.next=3,hp(this.jS,e,void 0,r);case 3:if(!((u=t.sent)instanceof ArrayBuffer)){t.next=7;break}return t.abrupt("return",new _(u));case 7:if(""!==u.fv){t.next=9;break}throw new Cl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return t.prev=9,t.next=12,this.jd.cv(u);case 12:return s=t.sent,t.next=15,s.Hh(r);case 15:o=t.sent,t.next=22;break;case 18:throw t.prev=18,t.t0=t.catch(9),Ue(t.t0),new Cl(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Widevine license request",t.t0);case 22:return t.t1=_,t.next=25,dp(this.jS,o,e,s,void 0,r);case 25:return t.t2=t.sent,t.abrupt("return",new t.t1(t.t2));case 27:case"end":return t.stop()}},t,this,[[9,18]])}));return function(n,i){return t.apply(this,arguments)}}(),i}(up),Rp=function(t){function i(n,i,r,e,u){var s;return(s=t.call(this,n,i,r,e,no.Sf)||this).jS=void 0,s.HS=void 0,s.jS=u,s}$(i,t);var r=i.prototype;return r.DE=function(){var t=C.coroutine(Zr.mark(function t(i,r){var e,u,s,o,c;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.LE){t.next=2;break}return t.abrupt("return",this.LE);case 2:return e=this.LS(r),t.next=5,op(this.jS,e,r);case 5:if(u=t.sent,!gu(u)){t.next=8;break}return t.abrupt("return",u);case 8:return t.prev=8,t.next=11,this.jd.cv(u);case 11:return s=t.sent,t.next=14,s.Hh();case 14:return o=t.sent,c=pp(e,void 0),t.next=18,ap(this.jS,new _(o),c,s,r);case 18:return t.abrupt("return",t.sent);case 21:throw t.prev=21,t.t0=t.catch(8),Ue(t.t0),new Cl(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during FairPlay certificate request",t.t0);case 25:case"end":return t.stop()}},t,this,[[8,21]])}));return function(n,i){return t.apply(this,arguments)}}(),r.AE=function(){var t=C.coroutine(Zr.mark(function t(i,r){var e,u,s,o;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.QE(i,no.Sf,Of.gv,r),t.next=3,hp(this.jS,e,this.HS,r);case 3:if(!((u=t.sent)instanceof ArrayBuffer)){t.next=7;break}return t.abrupt("return",new _(u));case 7:if(""!==u.fv){t.next=9;break}throw new Cl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return t.prev=9,t.next=12,this.jd.cv(u);case 12:return s=t.sent,t.next=15,s.Hh(r);case 15:return o=t.sent,t.t0=_,t.next=19,dp(this.jS,o,e,s,this.HS,r);case 19:return t.t1=t.sent,t.abrupt("return",new t.t0(t.t1));case 23:throw t.prev=23,t.t2=t.catch(9),Ue(t.t2),new Cl(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during FairPlay license request",t.t2);case 27:case"end":return t.stop()}},t,this,[[9,23]])}));return function(n,i){return t.apply(this,arguments)}}(),r.OS=function(){var n=C.coroutine(Zr.mark(function n(i){var r;return Zr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.HS=i,null==(r=this.jS)||!r.extractFairplayContentId){n.next=3;break}return n.abrupt("return",C.resolve(this.jS.extractFairplayContentId(i)));case 3:return n.abrupt("return",t.prototype.OS.call(this,i));case 4:case"end":return n.stop()}},n,this)}));return function(t){return n.apply(this,arguments)}}(),i}(D_),Ip=function(){function t(){}var n=t.prototype;return n.WS=function(t,n){return new Ug(t,n,this)},n.$S=function(t,n,i,r){switch(t.Jc.eo){case ae.Zs:return this.zS(n,i,r);case ae.Qs:return this.XS(n,i,r);case ae.to:return this.GS(t,n,i,r);case ae.io:default:return this.YS(n,i,r)}},n.zS=function(t,n,i){var r,e=(r=t).integration===cg&&at(r.customIntegrationId)?t.customIntegrationId:t.integration;if(e&&lg.nE.QT(e,ye)){var u=lg.nE.tE(e,ye,t);return new Sp(t,n,i,u)}switch(e){case Xy:return new t_(t,n,i);case Jy:return new n_(t,n,i);case Ky:return new r_(t,n,i);case Gy:return new s_(t,n,i);case tg:return new f_(t,n,i);case ig:return new h_(t,n,i);case rg:return new l_(t,n,i);case ug:return new w_(t,n,i);case Zy:default:return new up(t,n,i,no.Sf)}},n.XS=function(t,n,i){var r=t.integration;if(r&&lg.nE.QT(r,de)){var e=lg.nE.tE(r,de,t);return new Ep(t,n,i,e)}switch(r){case Xy:return new p_(t,n,i);case Jy:return new b_(t,n,i);case Ky:return new T_(t,n,i);case Gy:return new E_(t,n,i);case tg:return new S_(t,n,i);case rg:return new I_(t,n,i);case ug:return new C_(t,n,i);case Zy:default:return new g_(t,n,i)}},n.GS=function(t,n,i,r){var e=n.integration;if(e&&lg.nE.QT(e,_e)){var u=lg.nE.tE(e,_e,n);return new Rp(t,n,i,r,u)}switch(e){case Yy:return new A_(t,n,i,r);case Jy:return new N_(t,n,i,r);case Qy:return new P_(t,n,i,r);case Xy:return new L_(t,n,i,r);case Ky:return new F_(t,n,i,r);case Gy:return new M_(t,n,i,r);case Zy:return new B_(t,n,i,r);case tg:return new U_(t,n,i,r);case ng:return new V_(t,n,i,r);case ig:return new q_(t,n,i,r);case rg:return new j_(t,n,i,r);case eg:return new H_(t,n,i,r);case ug:return new W_(t,n,i,r);case sg:return new $_(t,n,i,r);case og:return new rp(t,n,i,r);default:return new D_(t,n,i,r,no.tu)}},n.YS=function(t,n,i){return new ep(t,n,i)},n.KS=function(t){return t.eo===ae.Qs||t.eo===ae.Zs||t.eo===ae.to||t.eo===ae.io},t}();function Cp(t,n){switch(n){case ae.Zs:return t.widevine;case ae.Qs:return t.playready;case ae.to:return t.fairplay;default:return}}var Dp,Ap=function(t){function i(n,i,r){var e;return void 0===r&&(r=new Ip),(e=t.call(this,r)||this).IT=void 0,e.JS=void 0,e.QS=void 0,e.Dc=void 0,e.ZS=new qy,e.tR=function(){var t=C.coroutine(Zr.mark(function t(n){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.vE(n.so,n.nc);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),Me(t.t0)||e.sa(t.t0);case 8:case"end":return t.stop()}},t,null,[[0,5]])}));return function(n){return t.apply(this,arguments)}}(),e.nR=function(t){e.Lo(t)},e.iR=function(t){e.Lo(t),e.Lo(new Gd(t.errorObject))},e.JS=n,e.IT=i,e.JS.Fo(Ke.Jo,e.tR),e}$(i,t);var r=i.prototype;return r.wE=function(){var t;return null==(t=this.Dc)?void 0:t.Jc},r.$c=function(t){if(this.QS)throw new h("Invalid state");this.QS=t},r.eE=function(n){if(!this.QS)throw new h("Invalid state");t.prototype.eE.call(this,n)},r.hE=function(){var t=C.coroutine(Zr.mark(function t(i,r,e){var u,s,o,c,a,f,h,v,d,l,w;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Be(e),r.byteLength){t.next=3;break}return t.abrupt("return");case 3:if(this.rE&&this.rE.aE.length){t.next=5;break}throw new Cl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_MISSING,"Missing configuration for encrypted content");case 5:if(u=this.rE,i===fe||i===ve||i===he){t.next=9;break}return t.abrupt("return");case 9:s=Og(i,r),c=0,a=u.aE;case 11:if(!(c<a.length)){t.next=42;break}if(f=a[c],Be(e),(h=s[f.Jc.oo])&&f.Jc.so===i){t.next=17;break}return t.abrupt("continue",39);case 17:return t.prev=17,t.next=20,this.rR(f.Jc,e);case 20:if(!(v=t.sent).$E){t.next=24;break}return t.next=24,v.FE();case 24:if(d=this.JS.a_,l={so:f.Jc.so,nc:h,qE:d},!this.eR(v,l)){t.next=32;break}return t.next=29,v.BE(l);case 29:return w=t.sent,t.next=32,w.xc();case 32:return t.abrupt("return");case 35:t.prev=35,t.t0=t.catch(17),Ue(t.t0),o=t.t0;case 39:c++,t.next=11;break;case 42:return t.next=44,A.Cs();case 44:if(!t.sent){t.next=48;break}throw new Cl(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported",o);case 48:throw new Cl(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Cannot create content decryption session",o);case 49:case"end":return t.stop()}},t,this,[[17,35]])}));return function(n,i,r){return t.apply(this,arguments)}}(),r.eR=function(t,n){return A.Ms.ss||!t.VE(n)},r.cE=function(){var t=C.coroutine(Zr.mark(function t(n){var i,r,e,u,s;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.rE){t.next=3;break}return t.abrupt("return");case 3:r=0,e=i.aE;case 4:if(!(r<e.length)){t.next=23;break}return u=e[r],Be(n),t.prev=7,t.next=10,this.rR(u.Jc,n);case 10:if(!(s=t.sent).$E){t.next=14;break}return t.next=14,s.FE();case 14:return t.abrupt("return");case 17:t.prev=17,t.t0=t.catch(7),Ue(t.t0);case 20:r++,t.next=4;break;case 23:case"end":return t.stop()}},t,this,[[7,17]])}));return function(n){return t.apply(this,arguments)}}(),r.rR=function(t,n){var i=this;return this.ZS.UT(function(n){return i.uR(t,n)},n)},r.uR=function(){var t=C.coroutine(Zr.mark(function t(n,i){var r,e,u,s,o;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Be(i),this.rE){t.next=3;break}throw new h("Not initialized");case 3:if(!this.Dc){t.next=7;break}if(this.Dc.Jc===n){t.next=6;break}throw new h("Internal key system error");case 6:return t.abrupt("return",this.Dc);case 7:if(this.iE.KS(n)){t.next=9;break}throw new h("Unsupported "+n.ao+" key system");case 9:if(r=this.sR(n)){t.next=12;break}throw new h("Missing configuration for "+n.ao+" key system");case 12:return e=this.rE,u=this.iE.$S(r,e.jE,e.oR.WE,this.IT),t.next=16,this.Yc(n,r,u,i);case 16:return s=t.sent,(o=this.iE.WS(s,u)).Fo(to.za,this.nR),o.Fo(to.$a,this.iR),o.Fo(to.bf,this.Po),this.Dc=o,t.abrupt("return",o);case 23:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.Yc=function(){var t=C.coroutine(Zr.mark(function t(n,i,r,e){var u,s,o,c,a,f,h,v,d;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return u=this.rE,s=n.so,o=Cp(u.jE,i.Jc.eo),c=(null==o?void 0:o.persistentState)||r.sS,a=(null==o?void 0:o.distinctiveIdentifier)||void 0,f=Boolean(null==o?void 0:o.audioRobustness)||Boolean(null==o?void 0:o.videoRobustness),h=i.Jc.eo===ae.Zs,t.prev=7,Be(e),v=Np(u,s,c,a,r.Qc,u.oR.cR,(null==o?void 0:o.audioRobustness)||(h?"SW_SECURE_CRYPTO":void 0),(null==o?void 0:o.videoRobustness)||(h?"SW_SECURE_CRYPTO":void 0)),t.next=12,this.QS.aR(n,[v]);case 12:return t.abrupt("return",t.sent);case 15:if(t.prev=15,t.t0=t.catch(7),Ue(t.t0),Be(e),h){t.next=21;break}throw t.t0;case 21:if(!f){t.next=23;break}throw t.t0;case 23:return d=Np(u,s,c,a,r.Qc,u.oR.cR,void 0,void 0),t.next=26,this.QS.aR(n,[d]);case 26:return t.abrupt("return",t.sent);case 27:case"end":return t.stop()}},t,this,[[7,15]])}));return function(n,i,r,e){return t.apply(this,arguments)}}(),r.sR=function(t){if(this.rE)for(var n=0,i=this.rE.aE;n<i.length;n++){var r=i[n];if(r.Jc===t)return r}},r.sa=function(t){var i=t instanceof Cl?t:new Cl(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.iR(new Hy(i))},r.fR=function(){var t=C.coroutine(Zr.mark(function t(){var n;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.ZS.Io();case 2:if(!(n=this.Dc)){t.next=8;break}return n.Vo(to.bf,this.Po),this.Dc=void 0,t.next=8,n.sr();case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.dE=function(){var t=C.coroutine(Zr.mark(function t(){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.QS=void 0,t.next=3,this.fR();case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.sr=function(){var n=C.coroutine(Zr.mark(function n(){return Zr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.JS.Vo(Ke.Jo,this.tR),n.next=3,t.prototype.sr.call(this);case 3:return n.next=5,this.ZS.sr();case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i}(xg);function Np(t,n,i,r,e,u,s,o){return{initDataTypes:[n],audioCapabilities:Op(t.hR,u,s),videoCapabilities:Op(t.vR,u,o),persistentState:i,distinctiveIdentifier:r,Qc:e}}function Op(t,n,i){if(0!==t.length)return t.map(function(t){return{contentType:t,encryptionScheme:n,robustness:i}})}!function(t){t[t.dR=0]="dR",t[t.lR=1]="lR"}(Dp||(Dp={}));var xp=t,Pp=xp.MediaSource,Lp=xp.WebKitMediaSource,Fp=xp.TextTrack,Mp=e&&e.createElement("video"),Bp=(e&&e.documentElement.style,nt.he&&nt.Ve&&nt.qe<=26),Up=(nt.Se,!(!Pp&&!Lp)),Vp=!!Fp,qp=(e&&(e.fullscreenEnabled||e.webkitFullscreenEnabled||e.mozFullScreenEnabled||e.msFullscreenEnabled)||nt.Te,nt.Fe&&nt.Me,Mp&&Mp.canPlayType&&(""!==Mp.canPlayType("application/vnd.apple.mpegURL")||nt.we&&!nt.Fe&&nt.ye),Mp&&Mp.canPlayType&&""!==Mp.canPlayType("video/mp4")&&!Bp),jp=Up&&!nt.Be&&!nt.xe&&!nt.Oe&&((Pp||Lp).isTypeSupported?(Pp||Lp).isTypeSupported('audio/mp4; codecs="mp4a.40.34"'):Mp&&Mp.canPlayType&&""!==Mp.canPlayType('audio/mp4; codecs="mp4a.40.34"'));Up&&!nt.Be&&(jp||((Pp||Lp).isTypeSupported?(Pp||Lp).isTypeSupported("audio/mpeg"):Mp&&Mp.canPlayType&&Mp.canPlayType("audio/mpeg"))),Up&&!(nt.Le&&nt.he)&&(Pp||Lp).isTypeSupported&&(Pp||Lp).isTypeSupported('video/mp4; codecs="avc1.4d401e"'),nt.Be||nt.xe||nt.Oe,nt.Pe,nt.Be,nt.xe&&nt.ve&&nt.de;try{r&&r.top!==r.self}catch(t){!0}var Hp,Wp=function(t){function n(n){var i;return(i=t.call(this,Dd.Aw)||this).currentTime=n,i}return $(n,t),n}(Ze),$p=function(t){function n(n){var i;return(i=t.call(this,Dd.Nw)||this).currentTime=n,i}return $(n,t),n}(Ze),zp=function(t){function n(n,i){var r;return void 0===i&&(i=!1),(r=t.call(this)||this).wR=ld.kw,r.yR=!0,r.gR=!1,r._R=!1,r.pR=function(t){var n=t.readyState;n!==r.wR&&r.Lo(t),n===ld.kw&&(r.gR=!1,r._R=!1),r.mR(n),r.kR(n),r.bR(n),r.maybeDispatchCanPlayThroughEvent(n),r.TR(n),r.ER(n),r.wR=n},r.SR=function(){r.ER(r.wR),r.TR(r.wR),r.yR=r.RR.Mw},r.IR=function(){r.yR=r.RR.Mw},r.RR=n,r.CR=i,r.RR.Fo(Dd.hl,r.pR),r.RR.Fo(to.sf,r.SR),r.RR.Fo(to.uf,r.IR),r.CR&&r.RR.Fo(Dd.Nw,r.Po),r}$(n,t);var i=n.prototype;return i.mR=function(t){!this._R&&t>=ld.bw&&(this._R=!0,this.Lo(new Fd(this.RR.Ow,t)))},i.kR=function(t){!this.gR&&t>=ld.Tw&&(this.gR=!0,this.Lo(new qd(this.RR.Ow,t)))},i.TR=function(t){this.CR||(t>=ld.Ew&&this.wR<ld.Ew&&!this.RR.Mw||this.DR&&t>=ld.Ew)&&this.Lo(new $p(this.RR.Ow))},i.ER=function(t){!this.AR(t)||this.RR.Pw||this.RR.Ko||this.Lo(new Wp(this.RR.Ow))},i.bR=function(t){this.wR<=ld.Tw&&t>=ld.Ew&&this.Lo(new $d(this.RR.Ow,t))},i.maybeDispatchCanPlayThroughEvent=function(t){t===ld.Sw&&this.Lo(new zd(this.RR.Ow,t))},i.AR=function(t){var n=!this.RR.Mw&&t<=ld.Tw,i=!this.yR&&this.wR<=ld.Tw;return n&&!i},i.Sl=function(){this.wR=ld.kw,this.yR=!0,this.gR=!1,this._R=!1},i.sr=function(){this.Uo(),this.CR&&this.RR.Vo(Dd.Nw,this.Po),this.RR.Vo(to.sf,this.SR),this.RR.Vo(to.uf,this.IR),this.RR.Vo(Dd.hl,this.pR)},H(n,[{key:"DR",get:function(){return!this.RR.Mw&&this.yR}}]),n}(Je);!function(t){t.NR="nokey",t.OR="keyexpired",t.xR="sessionnotopened",t.PR="insufficientoutputprotection",t.LR="insufficientsecurity",t.FR="frametoolarge",t.MR="loststate",t.UR="resourcebusy",t.qR="unsupportedoperation"}(Hp||(Hp={}));var Xp,Gp,Yp=[Hp.qR,Hp.UR,Hp.MR,Hp.FR,Hp.LR,Hp.PR,Hp.xR,Hp.OR,Hp.NR],Kp=[to.za,to.$a,Kv.Wl];[].concat(Bg,[Kv.Wl],Yp);!function(t){t.Sv="video",t.Ev="audio"}(Xp||(Xp={})),function(t){t[t.jR=0]="jR",t[t.HR=1]="HR",t[t.WR=2]="WR",t[t.$R=3]="$R",t[t.lw=4]="lw",t[t.zR=5]="zR",t[t.mw=6]="mw",t[t.XR=7]="XR",t[t.GR=8]="GR"}(Gp||(Gp={}));var Jp,Qp=function(){function t(){}return t.prototype.YR=function(t){},H(t,[{key:"KR",get:function(){return 0}},{key:"JR",get:function(){return 0}}]),t}();function Zp(){return Jp||(Jp=S&&S.document&&S.document.createElement("video")),Jp}var tm=function(t){function i(i,r,e,u,s,o,c){var a;return void 0===o&&(o=new Ip),void 0===c&&(c=Gs()),(a=t.call(this)||this).QR=void 0,a.JS=void 0,a.QS=void 0,a.Og=void 0,a.xg=void 0,a.Pg=void 0,a.ZR=void 0,a.tI=void 0,a.nI=void 0,a.iI=void 0,a.rI=void 0,a.iE=void 0,a.IT=void 0,a.fo=void 0,a.eI=void 0,a.uI=void 0,a.sI=new Qp,a.oI=function(t){var i=t.Ko,r=i.code,e=new Ps(function(t){switch(t){case Sl.ABORTED:return n.ErrorCode.MEDIA_ABORTED;case Sl.NETWORK:return n.ErrorCode.NETWORK_ERROR;case Sl.DECODE:return n.ErrorCode.MEDIA_DECODE_ERROR;case Sl.SRC_NOT_SUPPORTED:return n.ErrorCode.SOURCE_NOT_SUPPORTED;case Sl.ENCRYPTED:return n.ErrorCode.CONTENT_PROTECTION_ERROR;case Sl.LICENSE_INVALID:return n.ErrorCode.LICENSE_ERROR;case Sl.ADVERTISEMENT_ERROR:return n.ErrorCode.AD_ERROR}}(r),"Something went wrong during native playback.",i);a.ZR=new Dl(r,e.message,i.message),a.tI=e,a.Lo(new Gd(e))},a.cI=function(){a.Lo(new Ud(a.Ow,a.o_))},a.aI=function(t){a.Mw||(a.uI=void 0),a.Lo(t)},a.fI=function(t){a.uI=void 0,a.Lo(t)},a.hI=function(){a.Lo(new Kl(a.a_))},a.vI=function(){a.qw>0&&a.Vw>0&&a.Lo(new Vy)},a.dI=function(t){a.Og.bl(new jl(t.track))},a.lI=function(t){var n=im(a.Og,t.track);n&&a.Og.Tl(n)},a.wI=function(){a.yI(a.Og)},a.gI=function(t){a.xg.bl(new Yl(t.track))},a._I=function(t){var n=im(a.xg,t.track);n&&a.xg.Tl(n)},a.pI=function(){a.yI(a.xg)},a.mI=function(t){t.type===to.$a&&(a.ZR=Nl(t.errorObject),a.tI=t.errorObject),a.Po(t)},a.QR=r,a.IT=e,a.fo=c,a.JS=a.QR.Zi(Ol.Sv),a.nI=a.JS.kI.preload,a.iE=o,a.iI=new zp(a.JS,!0),a.iI.Fo(Ld,a.Po),a.eI=new Ap(a.JS,a.IT,a.iE),a.eI.Fo(Kp,a.mI),a.bI(),a.Og=new xl,a.xg=new xl,a.TI(),a.rI=new Py(a.JS,a.IT),a.Pg=new rd,a.Kg(),a}$(i,t);var r=i.prototype;return r.Jg=function(){this.JS.Jg()},r.Kg=function(){this.JS.Kg()},r.Wg=function(){var t=C.coroutine(Zr.mark(function t(n,i,r){var e;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Be(r),e={eo:Dp.dR,Zl:n.src,$h:n.type,EI:[],__:this.nI,SI:n.crossOrigin,RI:i.metadata&&i.metadata.title},t.next=4,this.JS.Pc(e);case 4:return this.QS=t.sent,Be(r),t.next=8,this.eI.Sl();case 8:this.eI.$c(this.QS),this.eI.eE(this.II(n)),this.Pg.xl=this.JS.Vg,i.textTracks&&this.CI(i.textTracks),Uy(this.Vg);case 13:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),r.CI=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(this.JS.DI()&&nt.Te&&Vp&&!Iy(i.kind,i.label)&&this.AI(i)){var r,e=null!=(r=i.kind)?r:my.fm;this.JS.NI(i.src,e,i.label,i.srclang)}else{if(void 0===i.src)continue;this.rI.DT(i)}}},r.AI=function(t){return!t.format||"webvtt"===t.format},r.tr=function(){var t=C.coroutine(Zr.mark(function t(){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.JS.tr();case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:if(this.OI){t.next=12;break}return t.next=10,this.JS.Wo(to.cf);case 10:t.next=7;break;case 12:case"end":return t.stop()}},t,this,[[0,5]])}));return function(){return t.apply(this,arguments)}}(),r.nr=function(){this.JS.nr()},r.$g=function(){return void 0!==this.JS.kI.webkitShowPlaybackTargetPicker},r.zg=function(){this.JS.kI.webkitShowPlaybackTargetPicker&&this.JS.kI.webkitShowPlaybackTargetPicker()},r.Xg=function(){this.JS.kI.webkitShowPlaybackTargetPicker&&this.JS.kI.webkitShowPlaybackTargetPicker()},r.Qg=function(){return this.JS.kI},r.Zg=function(){return this.JS.xI},r.Sl=function(){var t=C.coroutine(Zr.mark(function t(){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.ZR=void 0,this.tI=void 0,this.QS&&(this.QS=void 0),t.next=5,this.rI.Sl();case 5:return this.Pg.Sl(),this.JS.LI(),t.next=9,this.JS.Sl();case 9:return this.iI.Sl(),t.next=12,this.eI.Sl();case 12:this.__=this.nI,this.Bg.Sl(),this.Ug.Sl(),this.uI=void 0;case 16:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.sr=function(){var t=C.coroutine(Zr.mark(function t(){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Sl();case 2:return this.Uo(),this.FI(),this.MI(),t.next=7,this.eI.sr();case 7:return this.iI.sr(),t.next=10,this.QR.er(this.JS);case 10:return this.Og.sr(),this.xg.sr(),this.Pg.sr(),t.next=15,this.rI.sr();case 15:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.bI=function(){this.JS.Fo(to.sf,this.Po),this.JS.Fo(to.uf,this.Po),this.JS.Fo(to.mf,this.cI),this.JS.Fo(to.cf,this.Po),this.JS.Fo(to.tf,this.Po),this.JS.Fo(to.df,this.Po),this.JS.Fo(to.vf,this.aI),this.JS.Fo(to.Ja,this.Po),this.JS.Fo(to.af,this.Po),this.JS.Fo(to.kf,this.Po),this.JS.Fo(to.Ya,this.Po),this.JS.Fo(to.hf,this.vI),this.JS.Fo(Dd.Nw,this.fI),this.JS.Fo(Kv.Wl,this.oI),this.JS.kI.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.hI)},r.FI=function(){this.JS.Vo(to.sf,this.Po),this.JS.Vo(to.uf,this.Po),this.JS.Vo(to.mf,this.cI),this.JS.Vo(to.cf,this.Po),this.JS.Vo(to.tf,this.Po),this.JS.Vo(to.df,this.Po),this.JS.Vo(to.vf,this.aI),this.JS.Vo(to.Ja,this.Po),this.JS.Vo(to.af,this.Po),this.JS.Vo(to.kf,this.Po),this.JS.Vo(to.Ya,this.Po),this.JS.Vo(to.hf,this.vI),this.JS.Vo(Dd.Nw,this.fI),this.JS.Vo(Kv.Wl,this.oI),this.JS.kI.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.hI)},r.II=function(t){if(t.contentProtection&&t.contentProtection.fairplay){return{jE:t.contentProtection||{},oR:{cR:"cbcs"},aE:[{Jc:be,fE:[],pa:void 0}],hR:[],vR:["video/mp4"]}}},r.TI=function(){var t=this.JS.kI.audioTracks,n=this.JS.kI.videoTracks;t&&(t.addEventListener("addtrack",this.dI),t.addEventListener("removetrack",this.lI),t.addEventListener("change",this.wI)),n&&(n.addEventListener("addtrack",this.gI),n.addEventListener("removetrack",this._I),n.addEventListener("change",this.pI))},r.MI=function(){var t=this.JS.kI.audioTracks,n=this.JS.kI.videoTracks;t&&(t.removeEventListener("addtrack",this.dI),t.removeEventListener("removetrack",this.lI),t.removeEventListener("change",this.wI)),n&&(n.removeEventListener("addtrack",this.gI),n.removeEventListener("removetrack",this._I),n.removeEventListener("change",this.pI))},r.yI=function(t){for(var n=0;n<t.Il;n++){t.kl(n).I_()}},r.u_=function(){this.eI.fR().then(P)},H(i,[{key:"OI",get:function(){var t=this.JS.s_,n=this.Ow;return t.BI(n,.01)}},{key:"Bg",get:function(){return this.Og}},{key:"s_",get:function(){return this.JS.s_.UI()}},{key:"o_",get:function(){return this.JS.o_},set:function(t){t&&this.JS.VI(t)}},{key:"Ow",get:function(){return void 0!==this.uI?this.uI:this.JS.Ow},set:function(t){this.a_&&(this.uI=t),this.JS.hc(t)}},{key:"xw",get:function(){return this.JS.xw}},{key:"Pw",get:function(){return this.JS.Pw}},{key:"Ko",get:function(){return this.ZR}},{key:"Lw",get:function(){return this.tI}},{key:"qg",get:function(){}},{key:"a_",get:function(){return this.JS.a_}},{key:"Rg",get:function(){return te({},{f_:0,h_:0,v_:0,d_:0,l_:0,w_:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.JS.qI())}},{key:"Fw",get:function(){return this.JS.Fw},set:function(t){this.JS.Fw=t}},{key:"y_",get:function(){return!0}},{key:"Mw",get:function(){return this.JS.Mw}},{key:"Bw",get:function(){return this.JS.Bw},set:function(t){this.JS.Bw=t}},{key:"g_",get:function(){return this.JS.kI.played}},{key:"__",get:function(){return this.nI},set:function(t){this.nI=t,this.QS&&(this.QS.__=t)}},{key:"Kl",get:function(){return this.JS.Kl}},{key:"p_",get:function(){return this.JS.p_.UI()}},{key:"Uw",get:function(){return this.JS.Uw}},{key:"jI",get:function(){return this.JS.jI}},{key:"Vg",get:function(){return this.Pg}},{key:"Ug",get:function(){return this.xg}},{key:"Vw",get:function(){return this.JS.Vw}},{key:"qw",get:function(){return this.JS.qw}},{key:"jw",get:function(){return this.JS.jw},set:function(t){this.JS.jw=t}},{key:"HI",get:function(){return this.sI}}]),i}(ed);var nm=function(){function t(){this.WI=Gp.GR}var n=t.prototype;return n.GT=function(t,n,i,r,e,u){return new tm(t,n,i,r,e)},n.$I=function(t,n){return function(t){return!t.type||!(!Zp().canPlayType||!Zp().canPlayType(t.type))}(t)},n.zI=function(){return!1},t}();function im(t,n){for(var i=0,r=t.Rl;i<r.length;i++){var e=r[i];if(e.A_===n)return e}}var rm=function(){function t(){this.XI=new nm,this.GI=[]}t.YI=function(){return this.Ye};var n=t.prototype;return n.KI=function(t){this.GI.push(t)},n.GT=function(t,n,i,r,e,u){for(var s=this.XI.GT(t,n,i,r,e,u),o=0,c=this.GI;o<c.length;o++){s=(0,c[o])(s,i,r)}return s},n.$I=function(t,n){return this.XI.$I(t,n)},n.zI=function(){return!1},H(t,[{key:"WI",get:function(){return this.XI.WI}}]),t}();function em(t,n){return ul(t.WI,n.WI)}rm.Ye=new rm;var um=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).JI=rm.YI(),n}$(n,t);var i=n.prototype;return i.QI=function(t){this.JI=t},i.ZI=function(){return this.JI},i.tC=function(){var t=C.coroutine(Zr.mark(function t(n,i){var r,e,u,s,o,c;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<n.length)){t.next=11;break}return e=n[r],t.next=5,this.nC(e,i);case 5:if(!(u=t.sent)){t.next=8;break}return t.abrupt("return",{iC:e,rC:u});case 8:r++,t.next=1;break;case 11:s=this.JI,o=0;case 13:if(!(o<n.length)){t.next=20;break}if(c=n[o],!s.$I(c,i)){t.next=17;break}return t.abrupt("return",{iC:c,rC:s});case 17:o++,t.next=13;break;case 20:return t.abrupt("return",{iC:n[0],rC:s});case 21:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n}(function(){function t(){this.eC=[]}var n=t.prototype;return n.uC=function(t){this.eC.push(t),this.eC.sort(em)},n.nC=function(){var t=C.coroutine(Zr.mark(function t(n,i){var r,e,u,s;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.eC;case 1:if(!(r<e.length)){t.next=17;break}if(u=e[r],!ht(s=u.$I(n,i))){t.next=10;break}return t.next=7,s;case 7:t.t0=t.sent,t.next=11;break;case 10:t.t0=Boolean(s);case 11:if(!t.t0){t.next=14;break}return t.abrupt("return",u);case 14:r++,t.next=1;break;case 17:return t.abrupt("return",void 0);case 18:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),t}());um.Ye=new um;var sm,om=function(){function t(t){var n,i;this.sC=void 0,this.sC=S&&S.document&&S.document.createElement("div"),n=this.sC,(i=n.style).position="absolute",i.left="0",i.right="0",i.top="0",i.bottom="0",i.width="100%",i.height="100%",t.appendChild(this.sC)}return t.prototype.sr=function(){Or(this.sC)},t}();function cm(t){switch(t){case sm.oC:case"":return sm.oC;case sm.vm:return sm.vm;case sm.cC:default:return sm.cC}}!function(t){t.GR="",t.cC="none",t.vm="metadata",t.oC="auto"}(sm||(sm={}));var am=[Kv.Wl,to.Ka,to.Jo,to.Ef,to.qa,to.Qa,to.rf,to.ef,to.wf,to.gf,Dd.Rw,Dd.Iw,Dd.Cw,Dd.Dw,Dd.hl,Dd.Aw,Dd.Nw,to.$a,to.za,to.Ya,to.Ja,to.tf,to.nf,to.sf,to.cf,to.uf,to.af,to.hf,to.df,to.vf,to.mf,to.kf,to.ff,to.if,to.lf],fm=function(t){function n(n,i){var r;return(r=t.call(this)||this).aC=void 0,r.fC=void 0,r.hC=void 0,r.vC=void 0,r.nI=sm.cC,r.dC=void 0,r.lC=!0,r.Og=new Jv,r.xg=new Jv,r.Pg=new rd,r.Lg=new Rl,r.aC=n,r.hC=i,r.hC.__=r.__,r.wC(),r}$(n,t);var i=n.prototype;return i.nr=function(){this.hC.nr()},i.tr=function(){this.hC.tr()},i.jg=function(){return this.Wg(void 0)},i.hr=function(){},i.n_=function(t){return!1},i.wC=function(){this.Og.xl=this.hC.Bg,this.xg.xl=this.hC.Ug,this.Pg.xl=this.hC.Vg,this.Lg.xl=this.hC.qg,this.hC.Fo(am,this.Po)},i.yC=function(){this.hC.Vo(am,this.Po),this.Og.xl=void 0,this.xg.xl=void 0,this.Pg.xl=void 0,this.Lg.xl=void 0},i.Hg=function(){return this.dC},i.Wg=function(){var t=C.coroutine(Zr.mark(function t(n,i){var r,e,u,s,o,c;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Be(i),this.dC=n,n){t.next=4;break}return t.abrupt("return");case 4:if(!Td(r=n.sources.filter(Cd))){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,this.aC.tC(r,n);case 9:if(e=t.sent,Be(i),u=e.iC,s=e.rC,o=this.Zg(),c=Jd(this),this.fC===s&&!this.Ko){t.next=25;break}return this.yC(),t.next=19,this.hC.sr();case 19:Be(i),this.fC=s,this.hC=this.gC(s),hm(this.hC,c),Qd(this,c,this),this.wC();case 25:return this.hC.__=this.__,this.lC?this.hC.Kg():this.hC.Jg(),t.next=29,this.hC.Wg(u,n,i);case 29:Be(i),this._C(u),this.Zg()!==o&&this.Lo(new sd);case 32:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i._C=function(t){this.vC!==t&&(this.vC=t,this.Lo(new od(t)))},i.$g=function(){return this.hC.$g()},i.zg=function(){this.hC.zg()},i.Xg=function(){this.hC.Xg()},i.Zg=function(){return this.hC.Zg()},i.u_=function(){this.hC.u_()},i.Sl=function(){var t=C.coroutine(Zr.mark(function t(){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.dC=void 0,this._C(void 0),t.next=4,this.hC.Sl();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.sr=function(){var t=C.coroutine(Zr.mark(function t(){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Uo(),t.next=3,this.Sl();case 3:return t.next=5,this.hC.sr();case 5:this.Og.sr(),this.xg.sr(),this.Pg.sr(),this.Lg.sr();case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Kg=function(){this.lC=!0,this.hC.Kg()},i.Jg=function(){this.lC=!1,this.hC.Jg()},H(n,[{key:"Bg",get:function(){return this.Og}},{key:"s_",get:function(){return this.hC.s_}},{key:"Ko",get:function(){return this.hC.Ko}},{key:"Lw",get:function(){return this.hC.Lw}},{key:"o_",get:function(){return this.hC.o_},set:function(t){this.hC.o_=t}},{key:"e_",get:function(){return this.vC}},{key:"Ow",get:function(){return this.hC.Ow},set:function(t){this.hC.Ow=t}},{key:"xw",get:function(){return this.hC.xw}},{key:"Pw",get:function(){return this.hC.Pw}},{key:"qg",get:function(){return this.Lg}},{key:"a_",get:function(){return this.hC.a_}},{key:"Rg",get:function(){return this.hC.Rg}},{key:"Fw",get:function(){return this.hC.Fw},set:function(t){this.hC.Fw=t}},{key:"y_",get:function(){return this.hC.y_}},{key:"Mw",get:function(){return this.hC.Mw}},{key:"Bw",get:function(){return this.hC.Bw},set:function(t){this.hC.Bw=t}},{key:"g_",get:function(){return this.hC.g_}},{key:"__",get:function(){return this.nI},set:function(t){this.nI=t,this.hC&&(this.hC.__=this.nI)}},{key:"Kl",get:function(){return this.hC.Kl}},{key:"p_",get:function(){return this.hC.p_}},{key:"Uw",get:function(){return this.hC.Uw}},{key:"Vg",get:function(){return this.Pg}},{key:"Vw",get:function(){return this.hC.Vw}},{key:"Ug",get:function(){return this.xg}},{key:"qw",get:function(){return this.hC.qw}},{key:"jw",get:function(){return this.hC.jw},set:function(t){this.hC.jw=t}},{key:"HI",get:function(){return this.hC.HI}}]),n}(Je);function hm(t,n){t.Fw!==n.Fw&&(t.Fw=n.Fw),t.jw!==n.jw&&(t.jw=n.jw),t.Bw!==n.Bw&&(t.Bw=n.Bw)}var vm,dm=function(t){function n(n,i){var r;return(r=t.call(this)||this).Il=void 0,r.pC=void 0,r.mC=void 0,r.Il=n.length>>1,r.pC=n,r.mC=i||function(t){for(var n=new Array(2*t),i=0,r=0;i<t;i+=1,r+=2)n[r]=!0,n[r+1]=!1;return n}(r.Il),r}$(n,t);var i=n.prototype;return i.kC=function(t){return this.pC[2*t]},i.bC=function(t){return this.mC[2*t]},i.TC=function(t){return this.pC[2*t+1]},i.EC=function(t){return this.mC[2*t+1]},H(n,[{key:"SC",get:function(){return this.pC.slice()}}]),n}(function(){function t(){}var n=t.prototype;return n.ty=function(t,n){return 0===this.Yw(t,n)},n.Dy=function(t,n){return this.Yw(t,n)>0},n.Ay=function(t,n){return this.Yw(t,n)>=0},n.ny=function(t,n){return this.Yw(t,n)<0},n.Qw=function(t,n){return this.Yw(t,n)<=0},n.Yy=function(t,n){return this.ny(t,n)?t:n},n.Gy=function(t,n){return this.Dy(t,n)?t:n},n.RC=function(t,n,i){return i?this.Qw(t,n):this.ny(t,n)},n.UI=function(){var t=this;return{get length(){return t.Il},start:function(n){var i=0|n;return t.IC(i),t.CC(t.kC(i))},end:function(n){var i=0|n;return t.IC(i),t.CC(t.TC(i))}}},n.DC=function(){for(var t=new Array(2*this.Il),n=new Array(2*this.Il),i=0;i<this.Il;i++)t[2*i]=this.kC(i),t[2*i+1]=this.TC(i),n[2*i]=!0,n[2*i+1]=!0;return this.AC(t,n)},n.IC=function(t){if(t<0)throw new h("The index provided ("+t+") must be non-negative");if(t>=this.Il)throw new h("The index provided ("+t+") is greater than the maximum bound ("+this.Il+")")},n.NC=function(t){if(0===this.Il)return this.OC();if(this.BI(t))return t;if(this.Qw(t,this.kC(0)))return this.kC(0);if(this.Ay(t,this.TC(this.Il-1)))return this.TC(this.Il-1);for(var n,i=this.xC(),r=0;r<this.Il;r++){var e=this.kC(r),u=this.Zw(e,t);this.ny(u,i)&&(n=e,i=u);var s=this.TC(r),o=this.Zw(this.TC(r),t);this.ny(o,i)&&(n=s,i=o)}return n},n.LC=function(t){for(var n=0,i=0,r=[],e=[];n<this.Il&&i<t.Il;){var u=this.kC(n),s=this.TC(n),o=this.bC(n),c=this.EC(n),a=t.kC(i),f=t.TC(i),h=t.bC(i),v=t.EC(i),d=this.Gy(u,a),l=this.Yy(s,f),w=void 0;w=this.ty(u,a)?o&&h:this.ty(d,u)?o:h;var y=void 0;y=this.ty(s,f)?c&&v:this.ty(l,s)?c:v,(this.ny(d,l)||w&&y&&this.ty(d,l))&&(r.push(d,l),e.push(w,y));var g=this.Yw(this.TC(n),t.TC(i));0===g?(n+=1,i+=1):g<0?n+=1:i+=1}return this.AC(r,e)},n.FC=function(){var t=this.MC(),n=t.Il;if(0===n)return this.AC([t.BC(),t.xC()],[!1,!1]);var i=[],r=[],e=t.kC(0);t.ty(e,t.BC())||(i.push(t.BC(),e),r.push(!1,!t.bC(0)));for(var u=0;u<n-1;u++)i.push(t.TC(u),t.kC(u+1)),r.push(!t.EC(u),!t.bC(u+1));var s=t.TC(n-1);return t.ty(s,t.xC())||(i.push(s,t.xC()),r.push(!t.EC(n-1),!1)),t.AC(i,r)},n.UC=function(t){for(var n=0,i=0,r=this.Il,e=t.Il,u=new Array(2*(r+e)),s=new Array(2*(r+e)),o=0;n<r&&i<e;){var c=this.kC(n),a=this.TC(n),f=t.kC(i),h=t.TC(i);this.ny(c,f)||this.ty(c,f)&&this.ny(a,h)?(u[o]=c,u[o+1]=a,s[o]=this.bC(n),s[o+1]=this.EC(n),n++):(u[o]=f,u[o+1]=h,s[o]=t.bC(i),s[o+1]=t.EC(i),i++),o+=2}for(;n<r;)u[o]=this.kC(n),u[o+1]=this.TC(n),s[o]=this.bC(n),s[o+1]=this.EC(n),n++,o+=2;for(;i<e;)u[o]=t.kC(i),u[o+1]=t.TC(i),s[o]=t.bC(i),s[o+1]=t.EC(i),i++,o+=2;return this.AC(u,s)},n.VC=function(t){void 0===t&&(t=this.OC());var n=this.Il;if(n<2)return this;for(var i=[],r=[],e=this.kC(0),u=this.TC(0),s=this.bC(0),o=this.EC(0),c=1;c<n;c++){var a=this.kC(c),f=this.TC(c),h=this.bC(c),v=this.EC(c);this.ny(e,a)&&this.Dy(u,f)||(this.ty(e,a)&&(s=h=s||h),this.ty(u,f)&&(o=v=o||v),this.RC(a,this.oy(u,t),o||h)?(u=f,o=v):(i.push(e,u),r.push(s,o),e=a,u=f,s=h,o=v))}return i.push(e,u),r.push(s,o),this.AC(i,r).MC()},n.MC=function(){for(var t=[],n=[],i=0;i<this.Il;i++){var r=this.kC(i),e=this.TC(i),u=this.bC(i),s=this.EC(i);this.ty(r,e)?(u||s)&&(t.push(r,e),n.push(!0,!0)):(t.push(r,e),n.push(u,s))}return this.AC(t,n)},n.qC=function(t){return this.Il?t.Il?this.UC(t).VC():this:t},n.jC=function(t){var n=this.MC(),i=t.MC(),r=n.FC(),e=i.FC(),u=r.LC(i),s=e.LC(n);return u.qC(s)},n.fc=function(t){if(this.ty(t,this.OC()))return this;for(var n=[],i=[],r=0;r<this.Il;r++){var e=this.oy(this.kC(r),t),u=this.oy(this.TC(r),t);n.push(e,u),i.push(this.bC(r),this.EC(r))}return this.AC(n,i)},n.HC=function(t){return this.MC().LC(t.MC().FC())},n.BI=function(t,n){return this.WC(t,n)>=0},n.$C=function(t,n,i,r,e){return this.zC(t,n,i,r,e)>=0},n.XC=function(t,n,i,r,e){return this.GC(t,n,i,r,e)>=0},n.YC=function(t){if(t.Il!==this.Il)return!1;for(var n=0;n<this.Il;n++)if(!this.ty(this.kC(n),t.kC(n))||!this.ty(this.TC(n),t.TC(n))||this.bC(n)!==t.bC(n)||this.EC(n)!==t.EC(n))return!1;return!0},n.KC=function(t){for(var n=[],i=[],r=0;r<this.Il;r++)t(this.kC(r),this.TC(r))&&(n.push(this.kC(r),this.TC(r)),i.push(this.bC(r),this.EC(r)));return this.AC(n,i)},n.GC=function(t,n,i,r,e){void 0===i&&(i=!0),void 0===r&&(r=!0),void 0===e&&(e=this.OC());for(var u=this.sy(t,e),s=this.oy(n,e),o=0;o<this.Il;o+=1)if(this.RC(this.kC(o),s,!r||this.bC(o))&&this.RC(u,this.TC(o),!i||this.EC(o)))return o;return-1},n.zC=function(t,n,i,r,e){void 0===i&&(i=!0),void 0===r&&(r=!1),void 0===e&&(e=this.OC());for(var u=this.oy(t,e),s=this.sy(n,e),o=0;o<this.Il;o+=1)if(this.RC(this.kC(o),u,!i||this.bC(o))&&this.RC(s,this.TC(o),!r||this.EC(o)))return o;return-1},n.WC=function(t,n){return this.zC(t,t,!0,!0,n)},n.JC=function(t,n){void 0===n&&(n=this.OC());for(var i=this.oy(t,n),r=this.Il-1;r>=0;r-=1)if(this.RC(this.kC(r),i,this.bC(r)))return r;return-1},n.QC=function(t,n){void 0===n&&(n=this.OC());for(var i=this.sy(t,n),r=0;r<this.Il;r+=1)if(this.RC(i,this.TC(r),this.EC(r)))return r;return-1},n.ZC=function(t){return this.IC(t),this.AC([this.kC(t),this.TC(t)],[this.bC(t),this.EC(t)])},n.tD=function(t,n){var i=this.WC(t,n);return i<0?void 0:this.ZC(i)},H(t,[{key:"nD",get:function(){for(var t=this.OC(),n=0;n<this.Il;n++){var i=this.sy(this.TC(n),this.kC(n));t=this.oy(t,i)}return t}}]),t}()),lm=function(t){function n(n,i){return t.call(this,n,i)||this}$(n,t);var i=n.prototype;return i.Yw=function(t,n){return t<n?Zd.$w:t===n?Zd.Hw:Zd.Ww},i.oy=function(t,n){return t+n},i.sy=function(t,n){return t-n},i.Zw=function(t,n){return l.abs(t-n)},i.OC=function(){return 0},i.xC=function(){return 1/0},i.BC=function(){return-1/0},n.iD=function(t){for(var i=[],r=0;r<t.length;r++)i.push(t.start(r),t.end(r));return new n(i)},n.rD=function(t){for(var i=[],r=[],e=0;e<t.Il;e++)i.push(t.kC(e).Qy),i.push(t.TC(e).Qy),r.push(t.bC(e)),r.push(t.EC(e));return new n(i,r)},n.eD=function(t){return new n([t,t],[!0,!0])},i.AC=function(t,i){return new n(t,i)},i.CC=function(t){return t},n.uD=function(){return wm},n}(dm),wm=new lm([]);!function(t){t.al="fullscreenchange",t.sD="fullscreensupportchange",t.Wl="fullscreenerror"}(vm||(vm={}));var ym=function(t){function n(){return t.call(this,vm.Wl)||this}return $(n,t),n}(Ze),gm=new(function(t){function n(){return t.apply(this,arguments)||this}$(n,t);var i=n.prototype;return i.L_=function(){this.Lo(new ym)},i.M_=function(){},i.sr=function(){this.Uo()},H(n,[{key:"oD",get:function(){return!1}},{key:"cD",get:function(){return!1}}]),n}(Je)),_m=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n.prototype.Qg=function(){},n}(function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).aD=0,n.fD=!1,n.hD=!0,n.vD=1,n.dD=!1,n.lD=1,n.Bg=new xl,n.s_=lm.uD().UI(),n.xw=NaN,n.Pw=!1,n.Ko=void 0,n.Lw=void 0,n.qg=void 0,n.a_=!1,n.y_=!0,n.g_=lm.uD().UI(),n.__=sm.cC,n.Kl=ld.kw,n.p_=lm.uD().UI(),n.jI=void 0,n.Vg=new ky,n.Vw=0,n.Ug=new xl,n.qw=0,n.sI=new Qp,n}$(n,t);var i=n.prototype;return i.Kg=function(){},i.Jg=function(){},i.tr=function(){this.hD&&(this.hD=!1,this.Lo(new Od(this.Ow)),this.Lo(new Wp(this.Ow)))},i.nr=function(){this.hD||(this.hD=!0,this.Lo(new Ud(this.Ow,this.o_)),this.Lo(new Nd(this.Ow)))},i.Wg=function(t,n){return C.resolve()},i.$g=function(){return!1},i.zg=function(){},i.Xg=function(){},i.Zg=function(){return gm},i.u_=function(){},i.Sl=function(){var t=C.coroutine(Zr.mark(function t(){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.aD=0,this.dD=!1,this.nr(),this.Lo(new Ad(this.aD));case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.sr=function(){var t=C.coroutine(Zr.mark(function t(){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.Uo(),this.Bg.sr(),this.Vg.sr(),this.Ug.sr();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),H(n,[{key:"o_",get:function(){},set:function(t){}},{key:"Ow",get:function(){return this.aD},set:function(t){this.aD!==t&&(this.aD=t,this.dD=!0,this.Lo(new jd(this.Ow)))}},{key:"Rg",get:function(){return{f_:0,h_:0,v_:0,d_:0,l_:0,w_:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"Fw",get:function(){return this.fD},set:function(t){this.fD!==t&&(this.fD=t,this.Lo(new Wd(this.Ow,this.jw)))}},{key:"Mw",get:function(){return this.hD}},{key:"Bw",get:function(){return this.vD},set:function(t){this.vD!==t&&(this.vD=t,this.Lo(new Bd(this.Ow,this.Bw)))}},{key:"Uw",get:function(){return this.dD}},{key:"jw",get:function(){return this.lD},set:function(t){this.lD!==t&&(this.lD=t,this.Lo(new Wd(this.Ow,this.jw)))}},{key:"HI",get:function(){return this.sI}}]),n}(Je)),pm=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this,um.Ye,new _m)||this).da=void 0,o.wD=void 0,o.yD=void 0,o.gD=void 0,o.IT=void 0,o._D=void 0,o.pD=void 0,o.yD=n,o.da=i,o.IT=r,o._D=e,o.gD=s,o.wD=new b(u,o.gD),o.wD.ur(o.yD),o.pD=new om(o.yD),o}$(n,t);var i=n.prototype;return i.hr=function(){t.prototype.hr.call(this),this.wD.Qi()},i.Gg=function(t){var n,i,r,e;n=this,r=(i=t).jw,e=i.Fw,n.jw=r,n.Fw=e},i.Yg=function(){},i.gC=function(t){return t.GT(this.yD,this.wD,this.IT,this.da,this._D,this.gD)},i.Qg=function(){return this.hC.Qg()},i.t_=function(){return this.wD.Ji.map(function(t){return t.kI})},i.Bo=function(n){t.prototype.Bo.call(this,n)},i.Ho=function(n){t.prototype.Ho.call(this,n)},i.sr=function(){var n=C.coroutine(Zr.mark(function n(){return Zr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.sr.call(this);case 2:this.wD.sr(),this.pD.sr();case 4:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),H(n,[{key:"c_",get:function(){return this.yD}}]),n}(fm),mm=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).yD=void 0,e.mD=void 0,e.kD=void 0,e.bD=void 0,e.TD=void 0,e.yD=n,e.mD=i,e.bD=new xl,e.TD=new ky,e.kD=r,e}$(n,t);var i=n.prototype;return i.n_=function(t){return!0},i.Jg=function(){},i.tr=function(){throw this.Lo(new Gd(this.kD)),this.mD},i.nr=function(){},i.Hg=function(){},i.Wg=function(){var t=C.coroutine(Zr.mark(function t(n,i){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:throw Be(i),this.Lo(new Gd(this.kD)),this.mD;case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Kg=function(){},i.jg=function(){return C.resolve()},i.Qg=function(){},i.Zg=function(){return gm},i.t_=function(){return[]},i.hr=function(){},i.Gg=function(t){},i.Yg=function(){},i.$g=function(){return!1},i.zg=function(){},i.Xg=function(){},i.u_=function(){},i.Sl=function(){return C.resolve()},i.sr=function(){return this.Uo(),this.bD.sr(),this.TD.sr(),C.resolve()},H(n,[{key:"Bg",get:function(){return this.bD}},{key:"s_",get:function(){return lm.uD().UI()}},{key:"o_",get:function(){return new Date(NaN)},set:function(t){}},{key:"e_",get:function(){}},{key:"Ow",get:function(){return 0},set:function(t){}},{key:"xw",get:function(){return 0}},{key:"c_",get:function(){return this.yD}},{key:"Pw",get:function(){return!0}},{key:"Ko",get:function(){return this.mD}},{key:"Lw",get:function(){return this.kD}},{key:"qg",get:function(){}},{key:"Rg",get:function(){return{f_:0,h_:0,v_:0,d_:0,l_:0,w_:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"Fw",get:function(){return!1},set:function(t){}},{key:"y_",get:function(){return!0}},{key:"Mw",get:function(){return!0}},{key:"Bw",get:function(){return 0},set:function(t){}},{key:"g_",get:function(){return lm.uD().UI()}},{key:"__",get:function(){return sm.cC},set:function(t){}},{key:"Kl",get:function(){return ld.kw}},{key:"p_",get:function(){return lm.uD().UI()}},{key:"Uw",get:function(){return!1}},{key:"Vg",get:function(){return this.TD}},{key:"Vw",get:function(){return 0}},{key:"Ug",get:function(){return this.bD}},{key:"qw",get:function(){return 0}},{key:"jw",get:function(){return 1},set:function(t){}},{key:"a_",get:function(){return!1}}]),n}(ud);function km(t){if(t&&ot(t))return te({},t,{integration:bm(t.integration),fairplay:Dm(t.fairplay),widevine:Tm(t.widevine),playready:Em(t.playready),clearkey:Am(t.clearkey),aes128:Nm(t.aes128),integrationParameters:Om(t.integrationParameters),preferredKeySystems:xm(t.preferredKeySystems)})}function bm(t){if(at(t))return t}function Tm(t){if(t&&ot(t))return{persistentState:Sm(t.persistentState),distinctiveIdentifier:Sm(t.distinctiveIdentifier),audioRobustness:Rm(t.audioRobustness),videoRobustness:Rm(t.videoRobustness),licenseAcquisitionURL:at(t.licenseAcquisitionURL)?t.licenseAcquisitionURL:void 0,licenseType:Im(t.licenseType),headers:t.headers,useCredentials:!!ft(t.useCredentials)&&t.useCredentials,queryParameters:t.queryParameters,certificate:at(t.certificate)||rs(t.certificate)?t.certificate:void 0,certificateRequestProcessor:Cm(t.certificateRequestProcessor),certificateResponseProcessor:Cm(t.certificateResponseProcessor),licenseRequestProcessor:Cm(t.licenseRequestProcessor),licenseResponseProcessor:Cm(t.licenseResponseProcessor)}}function Em(t){if(t){var n=Tm(t);if(n)return te({},n,{customData:at(t.customData)?t.customData:void 0})}}function Sm(t){switch(null==t?void 0:t.toLowerCase()){case"required":return"required";case"optional":return"optional";case"not-allowed":return"not-allowed"}}function Rm(t){switch(t){case"HW_SECURE_ALL":return"HW_SECURE_ALL";case"HW_SECURE_DECODE":return"HW_SECURE_DECODE";case"HW_SECURE_CRYPTO":return"HW_SECURE_CRYPTO";case"SW_SECURE_DECODE":return"SW_SECURE_DECODE";case"SW_SECURE_CRYPTO":return"SW_SECURE_CRYPTO";case"":return""}}function Im(t){switch(null==t?void 0:t.toLowerCase()){case"temporary":return"temporary";case"persistent":return"persistent"}}function Cm(t){if("function"==typeof t)return t}function Dm(t){if(t){var n=Tm(t);if(n)return te({},n,{certificateURL:at(t.certificateURL)?t.certificateURL:void 0})}}function Am(t){if(t){var n=Tm(t);if(n)return te({},n,{keys:ut(t.keys)?t.keys.map(function(t){return function(t){if(!t||!ot(t))return;var n=t.id,i=t.value;if(!at(n)||!at(i))return;return{id:n,value:i}}(t)}).filter(et):void 0})}}function Nm(t){if(ot(t))return{useCredentials:ft(t.useCredentials)?t.useCredentials:void 0}}function Om(t){if(ot(t))return t}function xm(t){return t&&ut(t)?t.map(function(t){return Ng(t)}).filter(et):[ye,de,_e]}var Pm,Lm=function(t){function n(n){var i;return(i=t.call(this,"presentationmodechange")||this).presentationMode=n,i}return $(n,t),n}(Ze),Fm=function(t){function n(n,i){var r;return void 0===i&&(i=!1),(r=t.call(this,n)||this).ED=[],r.SD=void 0,r.RD=function(t){We(function(){r.Po(t)})},r.SD=i?r.RD:r.Po,r}$(n,t);var i=n.prototype;return i.CD=function(t){t.Bo(this.SD),this.ED.push(t)},i.DD=function(t){t.Ho(this.SD),Ae(this.ED,t)},i.sr=function(){this.Uo();for(var t=0,n=this.ED;t<n.length;t++){n[t].Ho(this.SD)}xe(this.ED)},n}(ed),Mm=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n}(Fm);!function(t){t.INLINE="inline",t.FULLSCREEN="fullscreen",t.PICTURE_IN_PICTURE="picture-in-picture"}(Pm||(Pm={}));var Bm,Um=function(t){function i(n){var i;return(i=t.call(this)||this).ND=void 0,i.OD=void 0,i.xD=!1,i.PD=!1,i.LD=void 0,i.FD=void 0,i.MD=void 0,i.Xd=void 0,i.BD=function(){return i.UD()},i.VD=function(){return i.qD()},i.MD=n,i.ND=i.OD=i.LD=i.FD=Pm.INLINE,i.MD.Fo(vm.al,i.BD),i.MD.Fo(vm.Wl,i.VD),i.jD(),i}$(i,t);var r=i.prototype;return r.Yd=function(){return t=this,i={get currentMode(){return t.HD()},requestMode:function(n){var i=qm(n);i&&t.WD(i)},supportsMode:function(n){var i=qm(n);return!!i&&t.$D(i)},addEventListener:function(t,i){n.Fo(t,i)},removeEventListener:function(t,i){n.Vo(t,i)}},(n=new Fm(i,!0)).CD(t),i;var t,n,i},r.WD=function(t){this.zD(t,t)},r.zD=function(t,n){this.OD!==n&&(this.xD=!0,this.ND=t,this.XD(n,this.OD),t!==Pm.FULLSCREEN&&(this.LD=t),this.xD=!1,this.jD())},r.HD=function(){return this.PD?Pm.FULLSCREEN:Pm.INLINE},r.$D=function(t){switch(t){case Pm.FULLSCREEN:return this.MD.cD;case Pm.INLINE:return!0}return!1},r.jD=function(){if(!this.xD){var t=this.OD,n=this.HD();this.OD=n,n!==Pm.FULLSCREEN&&(this.FD=n),t!==n&&this.Lo(new Lm(n))}},r.XD=function(t,n){var i=t===Pm.FULLSCREEN;this.PD=i,i!==this.MD.oD&&(i?this.MD.L_():this.MD.M_())},r.UD=function(){if(!this.xD){var t=this.MD.oD;this.PD=t,t?this.zD(Pm.FULLSCREEN,Pm.FULLSCREEN):t||this.ND!==Pm.FULLSCREEN?this.jD():this.zD(this.LD,this.FD)}},r.qD=function(){this.UD(),this.Lo(new Gd(new Ps(n.ErrorCode.FULLSCREEN_ERROR,"Failed to enter fullscreen.")))},r.sr=function(){this.MD.sr(),this.Uo()},H(i,[{key:"Gd",get:function(){return this.Xd||(this.Xd=this.Yd()),this.Xd}}]),i}(ed),Vm={Ow:0,xw:NaN,Pw:!1,Ko:void 0,Lw:void 0,Fw:!1,Mw:!0,Bw:1,Kl:ld.kw,Uw:!1,Vw:0,qw:0,jw:1};function qm(t){switch(t){case Pm.INLINE:case Pm.FULLSCREEN:case Pm.PICTURE_IN_PICTURE:return t;default:return}}!function(t){t.DEFAULT="",t.THEO="theo",t.GOOGLE_IMA="google-ima",t.SPOTX="spotx",t.FREEWHEEL="freewheel"}(Bm||(Bm={}));var jm,Hm,Wm,$m,zm,Xm,Gm,Ym,Km=function(){function t(){this.GD=[]}var n=t.prototype;return n.YD=function(t){var n=this.KD.filter(function(n){return n.JD(t)});if(n.length>1)0;else if(0===n.length)throw h("Unknown ad integration: "+t.integration);return n[0]||null},n.QD=function(t){this.GD.push(t)},H(t,[{key:"KD",get:function(){return this.GD}}]),t}();Km.Ye=new Km,function(t){t.Nw="PLAYING",t.Cg="PAUSED",t.ZD="SEEK",t.tA="STALLED",t.nA="FAILED",t.iA="INITIAL_BUFFERING",t.rA="NO_ACCESS"}(jm||(jm={})),function(t){t.eA="HTTP_REQUEST_STATUS_CODE_1XX",t.uA="HTTP_REQUEST_STATUS_CODE_2XX",t.sA="HTTP_REQUEST_STATUS_CODE_3XX",t.oA="HTTP_REQUEST_STATUS_CODE_4XX",t.cA="HTTP_REQUEST_STATUS_CODE_5XX",t.aA="BUFFER_LENGTH",t.fA="BYTES_RECEIVED",t.hA="SEGMENT_READ_BITRATE",t.vA="SEGMENT_PROFILE_BITRATE",t.dA="NUMBER_OF_FRAMES_DROPPED",t.lA="PLAYBACK_POSITION",t.wA="NUMBER_OF_FRAMES_DECODED",t.yA="PLAYBACK_DELTA_TO_ORIGIN",t.gA="STREAM_DELTA_TO_ORIGIN",t._A="ORIGIN_TIMESTAMP"}(Hm||(Hm={})),function(t){t.pA="MANIFEST_URI",t.mA="ASSET_DURATION",t.kA="NUMBER_OF_CONTENT_PROFILES",t.bA="CDN",t.TA="CONTENT_TITLE",t.EA="SERVICE_NAME",t.SA="CONTENT_TYPE",t.RA="CONTENT_DESCRIPTION"}(Wm||(Wm={})),function(t){t.IA="shutdown_normal_shutdown"}($m||($m={})),function(t){t.CA="session/",t.DA="internalError/",t.AA="drmError/",t.NA="caError/",t.OA="networkError/"}(zm||(zm={})),function(t){t.xA="userAction",t.PA="endOfStreamReached"}(Xm||(Xm={})),function(t){t.PAUSE="LA",t.RESUME="FA"}(Gm||(Gm={})),function(t){t.UNAVAILABLE="unavailable",t.AVAILABLE="available",t.CONNECTING="connecting",t.CONNECTED="connected"}(Ym||(Ym={}));var Jm,Qm,Zm,tk,nk,ik="agama";function rk(t){return function(t){switch(t){case Jm.NONE:case Jm.HORIZONTAL:case Jm.VERTICAL:return!0;default:return!1}}(t)?t:Jm.NONE}function ek(t){switch(t){case"":return Jm.NONE;case"horizontal":return Jm.HORIZONTAL;case"vertical":return Jm.VERTICAL;default:throw new v}}function uk(t){if(!t||!at(t))return Qm.oC;switch(t){case"always":return Qm.MA;case"never":return Qm.BA;default:return Qm.oC}}function sk(t){if(!t||!at(t))return Zm.oC;switch(t){case"playlist":return Zm.UA;case"media":return Zm.VA;default:return Zm.oC}}function ok(t){if(null!==t)return t}function ck(t){var n,i={apiKey:t.apiKey,integration:t.integration,streamActivityMonitorID:ok(t.streamActivityMonitorID),adTagParameters:ot(t.adTagParameters)?t.adTagParameters:{},authToken:ok(t.authToken)};if("vod"===(null==t?void 0:t.availabilityType)||(n=t,Boolean(n.videoID&&n.contentSourceID))){var r=t.videoID,e=t.contentSourceID;return r?e?te({},i,{availabilityType:"vod",videoID:r,contentSourceID:e}):void A.ks("A VOD DAI configuration was provided without valid contentSourceID which is required."):void A.ks("A VOD DAI configuration was provided without valid videoID which is required.")}if("live"===(null==t?void 0:t.availabilityType)||function(t){return Boolean(t.assetKey)}(t)){var u=t.assetKey;return u?te({},i,{availabilityType:"live",assetKey:u}):void A.ks("A Live DAI configuration was provided without valid assetKey which is required.")}A.ks("A DAI configuration was provided without a valid availabilityType which is required.")}function ak(t){if(!Tg(t)||!t.integration)return t;switch(t.integration){case Zy:return n=t,i=Ag(ae.Zs,n),r=Ag(ae.Qs,n),e=n[ae.to]&&Ag(ae.to,n),te({integration:"keyos",widevine:i,playready:r},e?{fairplay:e}:{});default:return t}var n,i,r,e}function fk(t){if(!t)return!0;var n,i,r=!(bd(n=t.sources)||st(n)&&bd(n[0]))||Td(t.sources),e=!t.ads||(!(i=t.ads)||ut(i)&&0===i.length),u=""!==t.poster&&!t.poster;return r&&e&&u}function hk(t){if(t&&t.sources)return function t(n){if(at(n))return n;if(kd(n))return n.src;if(st(n)&&n.length>0)return t(n[0]);return}(t.sources)}function vk(t,n,i){return pd(t)?function(t,n,i){var r=te({},Ed(),{ping:{adImpressions:!1,freeWheelVideoViews:!1,linearAdData:!1},integration:tk.VERIZON_MEDIA,id:"",preplayParameters:{},playbackUrlParameters:{},assetType:nk.ASSET,contentProtected:!1,assetInfo:!0});r.id=(e=t.id,at(e)?e:st(e)&&at(e[0])?e:ot(u=e)&&at(u.userId)&&(st(u.externalId)||at(u.externalId))?e:""),t.preplayParameters&&(r.preplayParameters=t.preplayParameters);var e,u;t.playbackUrlParameters&&(r.playbackUrlParameters=t.playbackUrlParameters);t.assetType&&(r.assetType=function(t){switch(t){case"channel":return nk.CHANNEL;case"event":return nk.EVENT;case"asset":default:return nk.ASSET}}(t.assetType));t.contentProtected&&(r.contentProtected=Bv(t.contentProtected));t.assetInfo?r.assetInfo=Bv(t.assetInfo):r.assetInfo="asset"===r.assetType;return r.ping=(s=r.assetType,o=t.ping,c=!1,a=!1,f=!1,o?(c=!!ft(o.adImpressions)&&o.adImpressions,a=!!ft(o.freeWheelVideoViews)&&o.freeWheelVideoViews,f=ft(o.linearAdData)?o.linearAdData:s!==nk.ASSET):s!==nk.ASSET&&(f=!0),{adImpressions:c,freeWheelVideoViews:a,linearAdData:f}),r=lk(r=dk(r,t),n,i);var s,o,c,a,f}(t,n,i):function(t,n,i){var r=Sd(),e=n&&(n.contentProtection||n.drm);if(at(t)){if(r.src=t,r.type=gd(t),e){var u=km(e);r.contentProtection=ak(u)}}else if(kd(t)||_d(t)){r.src=t.src,r.type=t.type||gd(t.src),r.isAdvertisement=t.isAdvertisement;var s=function(t){return t.type===hd.pw||t.type===hd.mw}(t)?t.hesp:void 0;void 0!==s&&(r.hesp=s);var o=t.contentProtection||t.drm||e,c=km(o);r.contentProtection=ak(c),t.ssai&&(r.ssai=function(t){switch(t.integration){case"google-dai":return ck(t);case"imagine":return{integration:t.integration};case"yospace":return function(t){var n;return{integration:t.integration,streamType:null!=(n=t.streamType)?n:void 0}}(t);default:return{integration:t.integration}}}(t.ssai)),r=dk(r,t)}return r=lk(r,n,i)}(t,n,i)}function dk(t,n){var i;n.useCredentials?t.crossOrigin=fd.gw:n.crossOrigin&&(t.crossOrigin=function(t){switch(t){case fd.yw:case fd.gw:return t;default:return fd.ww}}(n.crossOrigin)),at(n.timeServer)&&(t.timeServer=n.timeServer),n.liveOffset&&(t.liveOffset=n.liveOffset),n.hlsDateRange&&(t.hlsDateRange=n.hlsDateRange),n.lowLatency&&(t.lowLatency=Bv(n.lowLatency)),n.useNativePlayback&&(t.useNativePlayback=Bv(n.useNativePlayback)),n.dash&&(t.dash={useSeamlessPeriodSwitch:uk(null==(i=n.dash)?void 0:i.useSeamlessPeriodSwitch)}),n.hls&&(t.hls=function(t){return{discontinuityAlignment:sk(null==t?void 0:t.discontinuityAlignment)}}(n.hls));var r=void 0!==n.experimentalRendering?Bv(n.experimentalRendering):void 0;void 0!==r&&(t.experimentalRendering=r);var e=void 0!==n.nativeUiRendering?Bv(n.nativeUiRendering):void 0;return void 0!==e&&(t.nativeUiRendering=e),t}function lk(t,n,i){var r,e=n&&n.timeServer;return i&&i.liveOffset&&!et(t.liveOffset)&&(t.liveOffset=i.liveOffset),i&&i.hlsDateRange&&!et(t.hlsDateRange)&&(t.hlsDateRange=i.hlsDateRange),t.crossOrigin===fd.ww&&null!=n&&null!=(r=n.vr)&&r[360]&&(t.crossOrigin=fd.yw),t.useCredentials=t.crossOrigin===fd.gw,at(e)&&!t.timeServer&&(t.timeServer=e),t}function wk(t){var n={src:""};if(t&&t.src){if(n.src=qv(t.src),"default"in t&&(n.default=Bv(t.default)),n.kind=Ey(t.kind),function(t){switch(t){case $l.DEFAULT:case $l.SRT:case $l.TTML:case $l.WEBVTT:case $l.EMSG:case $l.EVENT_STREAM:case $l.ID3:case $l.CEA608:case $l.DATE_RANGE:return!0;default:return!1}}(t.format)&&(n.format=t.format),"srclang"in t){var i=t.srclang;"string"==typeof i&&""!==i&&(n.srclang=i)}if("label"in t){var r=t.label;"string"==typeof r&&""!==r&&(n.label=r)}}return n}function yk(t,n){if(ct(t))try{return n.YD(t).qA(t)}catch(t){return}}function gk(t){return at(t.sources)&&""!==t.sources||ot(t.sources)&&at(t.sources.src)}function _k(t){return t.integration===Bm.SPOTX&&!g(t.id)}function pk(t){return"freewheel"===t.integration}function mk(t,n,i){if(void 0===i&&(i=Km.Ye),fk(t))return{sources:[Sd()]};var r=Pv(t);if(r.sources=function(t,n,i){if(bd(t))return[vk(t,n,i)];if(st(t)&&bd(t[0])){for(var r=[],e=0;e<t.length;e++){var u=t[e];r.push(vk(u,n,i))}return r}return[Sd()]}(r.sources,r,n),"contentProtection"in r&&delete r.contentProtection,"drm"in r&&delete r.drm,"ads"in r){var e=function(t,n){if(!st(t))return[];for(var i=[],r=0,e=t;r<e.length;r++){var u=e[r];(u=yk(u,n))&&(gk(u)||_k(u)||pk(u))&&i.push(u)}return i}(r.ads,i);0===e.length?delete r.ads:r.ads=e}var u,s,o,c=!Td(r.sources),a=r.ads&&r.ads.length>0;if(c&&!a?delete r.ads:a&&!c&&(r.sources=[]),"textTracks"in r){var f=function(t){if(!st(t))return[];for(var n=[],i=0,r=t;i<r.length;i++){var e=r[i];""!==(e=wk(e)).src&&n.push(e)}return n}(r.textTracks);0===f.length?delete r.textTracks:r.textTracks=f}if("poster"in r&&(r.poster=qv(r.poster)),"vr"in r&&(r.vr=(u=r.vr,(s=u||{}).stereoMode=rk(s.stereoMode),{360:Boolean(s[360]),stereoMode:s.stereoMode?ek(s.stereoMode):Jm.NONE})),"analytics"in r||(null==n?void 0:n.analytics)){var h=Id(r.analytics),v=n&&n.analytics||[];r.analytics=function(t,n){for(var i=Pv(t),r=function(r){var e=n[r],u=!t.some(function(t){return t.integration===e.integration});u&&e.integration!==ik&&i.push(e)},e=0;e<n.length;e++)r(e);return i}(h,v)}return"mutedAutoplay"in r&&(r.mutedAutoplay=Yd(r.mutedAutoplay)),"timeServer"in r&&delete r.timeServer,r.blockContentIfAdError=void 0!==(o=r.blockContentIfAdError)&&"boolean"==typeof o&&Boolean(o),r}!function(t){t.NONE="",t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(Jm||(Jm={})),function(t){t.oC="auto",t.MA="always",t.BA="never"}(Qm||(Qm={})),function(t){t.oC="auto",t.UA="playlist",t.VA="media"}(Zm||(Zm={})),function(t){t.VERIZON_MEDIA="verizon-media"}(tk||(tk={})),function(t){t.ASSET="asset",t.CHANNEL="channel",t.EVENT="event"}(nk||(nk={}));var kk=function(){function t(t){this.jA=t}return t.prototype.HA=function(t){var n,i,r,e,u,s,o,c=[];if(!t)return"";var a=t.length%4;if(a>0)for(;a++<4;)t+=this.jA.charAt(64);for(n=0;n<t.length;n+=4)i=(o=this.jA.indexOf(t.charAt(n))<<18|this.jA.indexOf(t.charAt(n+1))<<12|(u=this.jA.indexOf(t.charAt(n+2)))<<6|(s=this.jA.indexOf(t.charAt(n+3))))>>>16&255,r=o>>>8&255,e=255&o,c[n/4]=String.fromCharCode(i,r,e),64===s&&(c[n/4]=String.fromCharCode(i,r)),64===u&&(c[n/4]=String.fromCharCode(i));return c.join("")},t.prototype.WA=function(t,n){var i,r,e,u,s,o,c,a=[],f="";if((o=t.length%3)>0)for(;o++<3;)f+=this.jA.charAt(64),t+="\0";for(o=0;o<t.length;o+=3)r=(i=t.charCodeAt(o)<<16|t.charCodeAt(o+1)<<8|t.charCodeAt(o+2))>>18&63,e=i>>12&63,u=i>>6&63,s=63&i,a[o/3]=this.jA.charAt(r)+this.jA.charAt(e)+this.jA.charAt(u)+this.jA.charAt(s);return c=(c=a.join("")).slice(0,c.length-f.length),n||(c+=f),c},t.bp=new t(function(){var t,n,i,r,e=[],u=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<u.length;t+=1)for(n=u[t],i=0;i<n.length;i+=1)r=n.charAt(i),-1===e.indexOf(r)&&e.push(r);return e.join("")}()),t.$A=new t(t.bp.HA("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")),t}();function bk(t){return"string"==typeof t}function Tk(t){return"number"==typeof t}var Ek={}.toString;var Sk,Rk=Array.isArray||function(t){return"[object Array]"===Ek.call(t)};function Ik(t,n){return Rk(t)&&t.every(n)}!function(t){t.HTML5="html5",t.ANDROID="android",t.IOS="ios",t.TVOS="tvos",t.ANDROIDTV="androidtv",t.TIZEN="tizen",t.WEBOS="webos",t.CHROMECAST="chromecast",t.ROKU="roku",t.FIRETV="firetv",t.CHROMECASTCAF="chromecastcaf"}(Sk||(Sk={}));var Ck,Dk=d.keys(Sk).map(function(t){return Sk[t]});function Ak(t){return-1!==Dk.indexOf(t)}function Nk(t){try{var n=kk.$A.HA(t),i=JSON.parse(n);if(!function(t){var n=(h=t,"object"==typeof h&&null!==h),i=bk(t.key),r=bk(t.customer_id),e=Tk(t.generation_date),u=Tk(t.expiration_date),s=Ik(t.domains_page,bk),o=Ik(t.domains_source,bk),c=Ik(t.sdks,Ak),a=(f=t.send_impression,"boolean"==typeof f);var f;var h;if(!(n&&i&&r&&e&&u&&s&&o&&c&&a))return!1;return!0}(i))throw new h("The provided license could not be decoded correctly.");return i}catch(t){throw new h("The provided license could not be decoded correctly.")}}function Ok(){return Ck||(Ck={fv:R.href,zA:S.parent&&S.parent!==r,XA:Lk()}),Ck}var xk,Pk=["http:","https:","ftp:","ws:","wss:"];function Lk(){try{return S.top.location.href}catch(t){return S&&S.document&&S.document.referrer}}!function(t){t[t.GA=0]="GA",t[t.YA=1]="YA",t[t.KA=2]="KA"}(xk||(xk={}));var Fk,Mk=function(t,n,i,r,e,u,s,o){void 0===e&&(e=""),void 0===u&&(u=Date.now()),void 0===s&&(s=[]),void 0===o&&(o=!0),this.JA=t,this.QA=n,this.ZA=i,this.tN=r,this.nN=e,this.iN=u,this.rN=s,this.eN=o};!function(t){t.YA="expired",t.uN="invaliddomain",t.sN="invalidsource",t.Wl="error"}(Fk||(Fk={}));var Bk=function(){function t(t,n,i){this.oN=void 0,this.cN=t,this.aN=n,this.fN=i,this.oN=Wk(this.fN)}var n=t.prototype;return n.hN=function(t,n){var i=this;if(!fk(t)&&0!==n.ZA.length&&!qk(n.ZA)){var r=[];if(bd(t.sources)?r=[t.sources]:st(t.sources)&&(r=t.sources),!r.every(function(t){return i.vN(t,n)})){var e=Fk.sN,u=zk.dN(e);throw new Ps(Uk(e),u)}}},n.lN=function(n){return this.wN(n.rN)&&this.yN(n)?t.gN(n.tN)?xk.GA:xk.YA:xk.KA},n.wN=function(t){var n=this;return 0===t.length||t.some(function(t){return n._N(t)})},n._N=function(t){return"tvos"===function(t){switch(t){case Sk.ANDROID:return q.kr;case Sk.ANDROIDTV:case Sk.FIRETV:return q.br;case Sk.IOS:return q.Tr;case Sk.TVOS:return q.Er;case Sk.CHROMECAST:case Sk.CHROMECASTCAF:return q.Sr;default:return q.mr}}(t)},t.gN=function(t){var n=Number(new Date);return!!t&&n<=t},n.yN=function(t){return!(this.oN&&0!==t.QA.length&&!qk(t.QA))||!!(this.oN&&this.pN(t.QA)&&this.mN(t.QA))},n.pN=function(t){return jk(this.fN.fv,t)},n.mN=function(t){if(!this.fN.zA)return!0;if(this.cN)return!0;var n=this.kN();return!!n&&jk(n,t)},n.kN=function(){if(this.fN.zA){var t=u.ancestorOrigins;return t&&t.length>0?t[t.length-1]:this.fN.XA?this.fN.XA:void 0}},n.vN=function(n,i){return!!t.bN(n,i.ZA)},t.bN=function(t,n){return jk(this.TN(t),n)},t.TN=function(t){return at(t)?t:kd(t)&&t.src||""},t}();function Uk(t){switch(t){case Fk.uN:return n.ErrorCode.LICENSE_INVALID_DOMAIN;case Fk.sN:return n.ErrorCode.LICENSE_INVALID_SOURCE;case Fk.YA:return n.ErrorCode.LICENSE_EXPIRED;case Fk.Wl:return n.ErrorCode.LICENSE_ERROR}}function Vk(t,n){var i=t,r=n;if(!i)return!1;if("*"===(r=r.trim()))return!0;if(r===(i=i.replace(/\.+$/,"")))return!0;var e="\\.",u="25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?",s="(\\*|"+u+")",o=new RegExp("ip-range\\("+s+e+s+e+s+e+s+"\\)"),c=r.match(o),a=function(t){return"*"===t?"("+u+")":t};if(null!==c&&5===c.length){var f=new RegExp("^"+c[1]+e+a(c[2])+e+a(c[3])+e+a(c[4])+"$");return null!==i.match(f)}return r="."+r,-1!==i.indexOf(r,i.length-r.length)}function qk(t){return t.some(function(t){return"*"===t})}function jk(t,n){var i=A.Gu(t);if(!Hk(i))return!0;for(var r=0;r<n.length;r++){var e=n[r];if(Vk(i.hostname,e))return!0;if(Vk(Ar(t),e))return!0}return!1}function Hk(t){return-1!==Pk.indexOf(t.protocol)}function Wk(t){var n=A.Gu(t.fv);return Hk(n)&&!Vk(n.hostname,"localhost")&&!function(t){return Vk(t.hostname,"theoplayer.doubleclick.net")}(n)}var $k,zk=function(){function t(){}return t.dN=function(t){return t===Fk.uN?this.EN:t===Fk.sN?this.SN:t===Fk.YA?this.RN:this.IN},t}();function Xk(t){var n=[t.Cb,t.CN,t.DN];switch(t.CN){case $k.AN:n.push(t.Zl);break;case $k.NN:n.push(t.Ow),n.push(t.Ko);break;case $k.ON:n.push(t.Ko)}return n}zk.IN="The license for this player is invalid.",zk.RN="The usage license for this video player has expired.",zk.EN="The current domain is incompatible with the license for this player.",zk.SN="The provided video source is incompatible with the license for this player.",function(t){t[t.AN=1]="AN",t[t.NN=4]="NN",t[t.ON=5]="ON"}($k||($k={}));for(var Gk=new Array(256),Yk=0;Yk<256;Yk+=1)Gk[Yk]=(Yk<16?"0":"")+Yk.toString(16);function Kk(){var t=Zt(),n=(4294967296*l.random()|0)+t&3029421624,i=(4294967296*l.random()|0)+t&3595553209,r=(4294967296*l.random()|0)+t&1130486254,e=(4294967296*l.random()|0)+t&1284287105;return Gk[255&n]+Gk[n>>>8&255]+Gk[n>>>16&255]+Gk[n>>>24&255]+"-"+Gk[255&i]+Gk[i>>>8&255]+"-"+Gk[i>>>16&15|64]+Gk[i>>>24&255]+"-"+Gk[63&r|128]+Gk[r>>>8&255]+"-"+Gk[r>>>16&255]+Gk[r>>>24&255]+Gk[255&e]+Gk[e>>>8&255]+Gk[e>>>16&255]+Gk[e>>>24&255]}var Jk=function(){function t(t){this.jA=void 0,this.jA=t}var n=t.prototype;return n.HA=function(t){var n,i,r,e,u,s,o,c=[];if(!t)return"";for(n=0;n<t.length;n+=4)i=(o=this.jA.indexOf(t.charAt(n))<<18|this.jA.indexOf(t.charAt(n+1))<<12|(u=this.jA.indexOf(t.charAt(n+2)))<<6|(s=this.jA.indexOf(t.charAt(n+3))))>>>16&255,r=o>>>8&255,e=255&o,c[n/4]=String.fromCharCode(i,r,e),64===s&&(c[n/4]=String.fromCharCode(i,r)),64===u&&(c[n/4]=String.fromCharCode(i));return c.join("")},n.WA=function(t){var n,i,r,e,u,s,o,c=[],a="";if((s=t.length%3)>0)for(;s++<3;)a+=this.jA.charAt(64),t+="\0";for(s=0;s<t.length;s+=3)i=(n=t.charCodeAt(s)<<16|t.charCodeAt(s+1)<<8|t.charCodeAt(s+2))>>18&63,r=n>>12&63,e=n>>6&63,u=63&n,c[s/3]=this.jA.charAt(i)+this.jA.charAt(r)+this.jA.charAt(e)+this.jA.charAt(u);return(o=c.join("")).slice(0,o.length-a.length)+a},t}();function Qk(){return A.ds()}Jk.bp=new Jk(function(){var t,n,i,r,e=[],u=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<u.length;t+=1)for(n=u[t],i=0;i<n.length;i+=1)r=n.charAt(i),-1===e.indexOf(r)&&e.push(r);return e.join("")}()),Jk.$A=new Jk(Jk.bp.HA("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop"));var Zk,tb="theoplayer-session-id";function nb(){if(!Zk){var t=Ks.ec(tb);t?Zk=t:(Zk=Kk(),Ks.Ua(tb,Zk))}return Zk}var ib=/[^\x00-\x7E]/g;function rb(t){return"\\u"+function(t,n,i){void 0===i&&(i=" ");var r=i,e=(0|n)-t.length;return e<=0?t:(e>r.length&&(r+=function(t,n){var i=0|n;if(0===t.length||0===i)return"";for(var r=t,e="";1==(1&i)&&(e+=r),0!=(i>>>=1);)r+=r;return e}(r,e/r.length)),r.slice(0,e)+t)}(t.charCodeAt(0).toString(16),4,"0")}var eb=0,ub=1,sb=6e4;function ob(t){var n,i,r,e,u,s=(n=function(t){return[t.xN,t.qc,t.JA,t.qm,t.PN,t.LN,t.FN.map(Xk)]}(t),i=[],r=n,e=function(t,n){if(ot(n)){if(-1!==i.indexOf(n))return null;i.push(n)}return n},JSON.stringify(r,e,u).replace(ib,rb));return Jk.$A.WA(s)}var cb=function(){function t(t,n,i,r,e,u){var s=this;void 0===r&&(r=Jk.bp),void 0===e&&(e=eb),void 0===u&&(u=ub),this.MN=[],this.BN=null,this.UN=0,this.VN="unknown",this.qN=0,this.jN=function(){Qk()-s.UN>sb&&s.pr()},this.HN=function(){s.pr(!0)},this.yS=t,this.IT=n,this.WN=i,this.$N=r,this.zN=e,this.XN=u,E.wr(this.HN),a(this.jN,sb)}var n=t.prototype;return n.GN=function(){return Boolean(this.PN)},n.YN=function(){var t=C.coroutine(Zr.mark(function t(n){var i;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.WN.KN();case 2:if(t.sent.eN){t.next=5;break}return t.abrupt("return");case 5:return i={CN:$k.AN,DN:Zt(),Zl:n},t.next=8,this.JN(i);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.QN=function(){var t=C.coroutine(Zr.mark(function t(n,i){var r;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={CN:$k.NN,DN:Zt(),Ow:i,Ko:n},t.next=3,this.JN(r);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.ZN=function(){var t=C.coroutine(Zr.mark(function t(n){var i;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i={CN:$k.ON,DN:Zt(),Ko:n},t.next=3,this.JN(i);case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.JN=function(){var t=C.coroutine(Zr.mark(function t(n){var i;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.WN.KN();case 2:if(i=t.sent,"a:n[_O*[C4C-N$_@_MYY $D]iOp]N$_-_]th_:c|aen?C:pH"!==this.$N.WA(i.JA)){t.next=6;break}if(n.CN===$k.ON){t.next=6;break}return t.abrupt("return");case 6:if(n.CN===$k.AN?this.tO():this.GN()||this.tO(),n.Cb=this.qN++,this.MN.push(n),(r=n.CN)!==$k.AN&&r!==$k.ON){t.next=14;break}return t.next=12,this.pr();case 12:t.next=19;break;case 14:if(!(this.MN.length>this.zN)){t.next=19;break}return t.next=17,this.nO();case 17:t.next=19;break;case 19:case"end":return t.stop()}var r},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.pr=function(){var t=C.coroutine(Zr.mark(function t(n){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:void 0===n&&(n=!1);case 1:if(!(this.MN.length>0)){t.next=6;break}return t.next=4,this.nO(n);case 4:t.next=1;break;case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.iO=function(){var t=C.coroutine(Zr.mark(function t(n){var i;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.WN.KN();case 2:return i=t.sent,t.abrupt("return",{xN:Zt(),qc:nb(),JA:this.$N.WA(i.JA)||"dev",qm:this.yS,PN:this.BN,LN:this.VN,FN:n});case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.nO=function(){var t=C.coroutine(Zr.mark(function t(n){var i,r;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===n&&(n=!1),i=this.MN.splice(0,this.XN),t.next=4,this.iO(i);case 4:r=t.sent,n?this.xv(r):this.rO(r),this.UN=Qk();case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.rO=function(){var t=C.coroutine(Zr.mark(function t(n){var i,r,e;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=ob(n),r=new Lf({fv:"https://license.theoplayer.com",zh:i,Nv:!1,uv:no.tu,ev:{"Content-Type":R_.ES},Cv:4e3,Iv:Af.POST}),t.prev=2,t.next=5,this.IT.cv(r);case 5:return e=t.sent,t.next=8,e.Hh();case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),(new Image).src="https://licensing.theoplayer.com/t?"+i;case 13:case"end":return t.stop()}},t,this,[[2,10]])}));return function(n){return t.apply(this,arguments)}}(),n.xv=function(t){var n=ob(t);this.IT.xv({fv:"https://license.theoplayer.com",zh:n,$h:R_.ES})},n.tO=function(){this.GN()&&this.pr(),this.BN=Kk(),this.qN=0},n.sr=function(){E.yr(this.HN),this.pr()},H(t,[{key:"FN",get:function(){return this.MN}},{key:"PN",get:function(){return this.BN}}]),t}();var ab=!nt.Te&&!nt.xe;function fb(t,n,i){var r=t.getImageData(n,i,1,1).data;return 0===r[0]&&0===r[1]&&0===r[2]&&0===r[3]}var hb=function(){function t(t){this.rC=void 0,this.Xd=void 0,this.eO=void 0,this.rC=t}var n=t.prototype;return n.uO=function(t){if(!t||!t.drawImage)return!1;var n=this.rC.Qg();if(!n)return!1;for(var i=arguments.length,r=new Array(i>1?i-1:0),e=1;e<i;e++)r[e-1]=arguments[e];return t.drawImage.apply(t,[n].concat(r)),!0},n.sO=function(t,n,i,r,u,s){if(!t||!t.texImage2D)return!1;var o=this.rC,c=o.Qg();if(!c)return!1;if(!ab){this.eO||(this.eO=e.createElement("canvas"));var a=this.eO,f=a.getContext("2d"),v=o.qw,d=o.Vw,l=a.width,w=a.height;f.clearRect(0,0,a.width,a.height),l===v&&w===d||(a.width=v,a.height=d),f.drawImage(c,0,0,v,d);var y=!1;v>0&&fb(f,v-1,0)&&(a.width=l,y=!0),d>0&&fb(f,0,d-1)&&(a.height=w,y=!0),y&&f.drawImage(c,0,0,v,d),c=a}try{t.texImage2D(n,i,r,u,s,c)}catch(t){throw new h("Error trying to render video content to the WebGLRenderingContext. This is most likely due to CORS restrictions. https://support.theoplayer.com/hc/en-us/articles/115003094385#Considerations")}return!0},H(t,[{key:"Gd",get:function(){return this.Xd||(this.Xd=(t=this,{drawImage:function(n){for(var i=arguments.length,r=new Array(i>1?i-1:0),e=1;e<i;e++)r[e-1]=arguments[e];return t.uO.apply(t,[n].concat(r))},texImage2D:function(n,i,r,e,u,s){return t.sO(n,i,r,e,u,s)}}));var t}}]),t}(),vb=function(t){function n(n,i){var r;return(r=t.call(this,"oO")||this).hs=n,r.pk=i,r}return $(n,t),n.prototype.Yd=function(){return new db(this.hs,this.pk)},n}(pv),db=function(t){function n(n,i){var r;return(r=t.call(this,"dimensionchange")||this).width=n,r.height=i,r}return $(n,t),n}(Ze),lb=function(t,n){this.c_=void 0,this.cO=void 0,this.c_=t,this.cO=n},wb=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).aO=void 0,r.fO=0,r.hO=0,r.vO=function(t){if(t.length>0){var n=t[t.length-1].contentRect;r.hO=n.width,r.fO=n.height,r.cO(r.hO,r.fO)}},r.aO=new S.ResizeObserver(r.vO),r.aO.observe(r.c_),r}return $(n,t),n.prototype.sr=function(){this.aO.disconnect()},H(n,[{key:"dO",get:function(){return this.fO}},{key:"lO",get:function(){return this.hO}}]),n}(lb),yb=0;var gb,_b=c,pb=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,mb=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelRequestAnimationFrame;function kb(){return gb||(gb=S&&S.document&&S.document.createElement("span")),gb}pb&&mb||(pb=function(t){var n=Qk(),i=l.max(0,16-(n-yb)),r=o(function(){return t(n+i)},i);return yb=n+i,r},mb=_b),pb=pb.bind(t),mb=mb.bind(t);var bb=["Webkit","Moz","O","ms"],Tb=(function(){var t=!1;try{if(void 0!==S&&"function"==typeof S.addEventListener){var n=d.defineProperty({},"passive",{get:function(){t=!0}});S.addEventListener("testPassiveEventSupport",P,n),S.removeEventListener("testPassiveEventSupport",P,n)}}catch(t){}}(),ie());function Eb(t){return Tb.has(t)||Tb.set(t,function(t){var n=kb();if(!n||!n.style)return t;if(void 0!==n.style[t])return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<bb.length;r++){var e=bb[r],u=e+i;if(void 0!==n.style[u])return u}return t}(t)),Tb.get(t)}function Sb(t){var n=t.style;n.position="absolute",n.left=n.right=n.bottom=n.top="0",n.overflow="scroll",n.zIndex="-1",n.visibility="hidden"}function Rb(t){var n=t.style;n.position="absolute",n.left=n.top="0",n[Eb("transition")]="0s"}var Ib=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).wO=void 0,e.yO=0,e.hO=NaN,e.fO=NaN,e.gO=void 0,e._O=void 0,e.pO=void 0,e.mO=void 0,e.kO=void 0,e.Sl=function(){e._O.style.width=1e5+"px",e._O.style.height=1e5+"px",e.gO.scrollLeft=1e5,e.gO.scrollTop=1e5,e.pO.scrollLeft=1e5,e.pO.scrollTop=1e5,0===e.pO.scrollTop&&pb(e.Sl)},e.bO=function(){var t=e.lO,n=e.dO;e.cO(t,n),e.hO=t,e.fO=n,e.Sl(),e.yO=0},e.TO=function(){if(!e.yO){var t=e.lO,n=e.dO;t===e.hO&&n===e.fO||(e.yO=pb(e.bO))}},e.EO=function(){e.kO||(e.kO=o(e.SO,66))},e.SO=function(){e.kO=void 0,e.RO()},e.RO=function(){e.TO()},e.$c(r),e}$(n,t);var i=n.prototype;return i.IO=function(){var t,n=this.c_,i=e.createElement("div");return this.gO=e.createElement("div"),this._O=e.createElement("div"),this.pO=e.createElement("div"),this.mO=e.createElement("div"),Sb(this.gO),Sb(this.pO),Rb(this._O),Rb(t=this.mO),t.style.width="200%",t.style.height="200%",i.appendChild(this.gO),i.appendChild(this.pO),this.gO.appendChild(this._O),this.pO.appendChild(this.mO),n&&n.appendChild(i),this.TO(),this.gO.addEventListener("scroll",this.TO),this.pO.addEventListener("scroll",this.TO),i},i.$c=function(t){var n=this.c_,i=function(t,n){return r.getComputedStyle(t,void 0).getPropertyValue(n)||t.style[n]}(n,"position");t||"static"!==i||(n.style.position="relative"),this.wO=this.IO(),r&&r.addEventListener("resize",this.EO)},i.sr=function(){this.wO&&(mb(this.yO),this.yO=0,this.gO.removeEventListener("scroll",this.TO),this.pO.removeEventListener("scroll",this.TO),Or(this.wO),this.wO=void 0,r&&r.removeEventListener("resize",this.EO))},H(n,[{key:"dO",get:function(){return this.c_&&this.c_.getBoundingClientRect().height||this.fO||0}},{key:"lO",get:function(){return this.c_&&this.c_.getBoundingClientRect().width||this.hO||0}}]),n}(lb),Cb=function(t){function n(n){var i;return(i=t.call(this)||this).c_=void 0,i.aO=void 0,i.vO=function(t,n){i.Lo(new vb(t,n))},i.c_=n,i}$(n,t);var i=n.prototype;return i.$c=function(t){this.aO||("function"==typeof S.ResizeObserver?this.aO=new wb(this.c_,this.vO):this.aO=new Ib(this.c_,this.vO,t))},i.sr=function(){this.Uo(),this.aO&&(this.aO.sr(),this.aO=void 0)},H(n,[{key:"dO",get:function(){return this.aO?this.aO.dO:0}},{key:"lO",get:function(){return this.aO?this.aO.lO:0}}]),n}(Je),Db=function(t){function n(){return t.call(this,vm.al)||this}return $(n,t),n}(Ze);!function(){if(e)for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0;n<t.length;n++){var i=t[n];if(i[1]in e)return{CO:i[0],DO:i[1],AO:i[2],NO:i[3],OO:i[4],xO:i[5]}}}();var Ab=function(t){function n(){return t.call(this,vm.sD)||this}return $(n,t),n}(Ze),Nb=function(t){function n(n,i){var r;return(r=t.call(this)||this).rC=void 0,r.PO=void 0,r.LO=void 0,r.FO=!1,r.MO=function(){return r.Fc()},r.BD=function(t){r.FO||r.Lo(t)},r.rC=n,r.PO=i,r.LO=gm,r.BO(),r.rC.Fo(to.Qa,r.MO),r.Fc(),r}$(n,t);var i=n.prototype;return i.L_=function(){this.PO&&this.LO.L_()},i.M_=function(){this.LO.M_()},i.BO=function(){this.LO.Fo(vm.al,this.BD),this.LO.Fo(vm.Wl,this.Po)},i.UO=function(){this.LO.Vo(vm.al,this.BD),this.LO.Vo(vm.Wl,this.Po)},i.Fc=function(){var t=this.LO,n=this.rC.Zg();if(t!==n){this.FO=!0;var i=this.oD,r=this.cD;i&&this.M_(),this.UO(),this.LO=n,this.BO(),i&&!this.oD&&this.cD?this.L_():this.M_(),this.FO=!1,r!==this.cD&&this.Lo(new Ab),i!==this.oD&&this.Lo(new Db)}},i.sr=function(){this.Uo(),this.UO(),this.rC.Vo(to.Qa,this.MO)},H(n,[{key:"cD",get:function(){return!!this.PO&&this.LO.cD}},{key:"oD",get:function(){return this.LO.oD}}]),n}(Je);function Ob(t){var n;return{get url(){return t.fv},get method(){return t.Iv},get headers(){return n||(n=t.ev.Cf()),n},get body(){return t.zh},get useCredentials(){return t.Nv},get type(){return Mb(t.eo)},get subType(){return Ub(t.Dv)},get mediaType(){return qb(t.Av)},get responseType(){return Pb(t.uv)}}}function xb(t){switch(t.toLowerCase()){case"arraybuffer":return no.Sf;case"json":return no.Rf;case"stream":return no.If;case"text":default:return no.tu}}function Pb(t){return t}function Lb(t){switch(t.toUpperCase()){case"POST":return Af.POST;case"PUT":return Af.PUT;case"DELETE":return Af.DELETE;case"HEAD":return Af.HEAD;case"OPTIONS":return Af.OPTIONS;case"GET":default:return Af.GET}}function Fb(t){switch(t.toLowerCase()){case"manifest":return Nf.dv;case"segment":return Nf.lv;case"content-protection":return Nf.wv;default:return Nf.vv}}function Mb(t){return t}function Bb(t){switch(t.toLowerCase()){case"initialization-segment":return Of.yv;case"fairplay-license":return Of.gv;case"fairplay-certificate":return Of._v;case"widevine-license":return Of.pv;case"widevine-certificate":return Of.mv;case"playready-license":return Of.kv;case"clearkey-license":return Of.bv;case"aes128-key":return Of.Tv;default:return Of.vv}}function Ub(t){return t}function Vb(t){switch(t.toLowerCase()){case"audio":return xf.Ev;case"video":return xf.Sv;case"text":return xf.tu;case"image":return xf.Rv;case"":default:return xf.vv}}function qb(t){return t}var jb=function(){function t(t,n){this.VO=new cs,this.qO=[],this.Xd=void 0,this.jO=!1,this.$v=void 0,this.HO=0,this.WO=t,this.$O=n}var n=t.prototype;return n.Am=function(){this.jO=!0,this.VO._c(null)},n.zO=function(){this.VO.pc(this.qO)},n.XO=function(t){if(!this.GO)throw new v("Cannot respond more than once");if(!ot(t))throw new v("Expected valid response");this.$v=this.YO(t),this.Am()},n.KO=function(){try{var t=this.$O(this.Gd);t?this.JO(t):this.QO||this.ZO||this.Am()}catch(t){this.zO()}},n.JO=function(t){if(this.ZO)throw new h("Request has been redirected or a response already exists");if(ht(t))this.tx(t);else{if("function"!=typeof t)throw new v("Expected promise or function");var n=new cs;try{var i=t(function(t){t?n.pc(t):n._c(void 0)});ht(i)&&n._c(i)}catch(t){n.pc(t)}this.tx(n.gc)}},n.tx=function(){var t=C.coroutine(Zr.mark(function t(n){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.HO++,t.next=4,n;case 4:this.HO--,this.QO||this.ZO||(this.qO.length?this.zO():this.Am()),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(0),this.HO--,this.qO.push(t.t0),this.QO||this.ZO||this.zO();case 13:case"end":return t.stop()}},t,this,[[0,8]])}));return function(n){return t.apply(this,arguments)}}(),H(t,[{key:"nx",get:function(){return this.VO.gc}},{key:"Gd",get:function(){return this.Xd||(this.Xd=this.ix()),this.Xd}},{key:"ZO",get:function(){return this.jO}},{key:"GO",get:function(){return!this.jO}},{key:"QO",get:function(){return this.HO>0}},{key:"zv",get:function(){return this.$v}}]),t}(),Hb=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).ex=void 0,e.ex=r,e.KO(),e}$(n,t),n.ux=function(t,n,i){var r=void 0===t.body?i:t.body;return new Pf({Du:r,cv:n.cv,uv:n.cv.uv,ev:t.headers,rv:t.status,sv:t.statusText,av:t.url,ov:!0},n)};var i=n.prototype;return i.ix=function(){return i=Ob((t=this).cv),{get closed(){return!t.GO},get request(){return i},get url(){return t.fv},get status(){return t.rv},get statusText(){return t.sv},get headers(){return n||(n=t.ev.Cf()),n},get body(){return t.zh},respondWith:function(n){return t.XO(n)},waitUntil:function(n){return t.JO(n)}};var t,n,i},i.YO=function(t){return n.ux(t,this.WO,this.ex)},H(n,[{key:"zh",get:function(){return this.ex}},{key:"ev",get:function(){return this.WO.ev}},{key:"cv",get:function(){return this.WO.cv}},{key:"zv",get:function(){return this.$v}},{key:"rv",get:function(){return this.WO.rv}},{key:"sv",get:function(){return this.WO.sv}},{key:"fv",get:function(){return this.WO.av}}]),n}(jb),Wb=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).sx=void 0,e.ox=void 0,e.ox=r,e.KO(),e}$(n,t);var i=n.prototype;return i.ix=function(){return t=this,{get url(){return t.fv},get method(){return t.Iv},get headers(){return n||(n=t.ev.Cf()),n},get body(){return t.zh},get closed(){return!t.GO},get useCredentials(){return t.Nv},get type(){return Mb(t.eo)},get subType(){return Ub(t.Dv)},get mediaType(){return qb(t.Av)},get responseType(){return Pb(t.uv)},redirect:function(n){return t.ax(n)},respondWith:function(n){return t.XO(n)},waitUntil:function(n){return t.JO(n)}};var t,n},i.YO=function(t){var n=this.WO.zh,i=new Pf({Du:n,ev:{},cv:this.WO,av:this.WO.fv,uv:this.WO.uv,rv:200,sv:"OK"});return Hb.ux(t,i,n)},i.ax=function(t){if(!this.GO)throw new v("Cannot redirect, already redirected or has a response");var n;n=at(t)?{url:t}:t,this.sx=function(t,n){return new Lf({fv:void 0===t.url?n.fv:t.url,Iv:void 0!==t.method?Lb(t.method):void 0,ev:t.headers,zh:t.body,Nv:t.useCredentials,eo:void 0!==t.type?Fb(t.type):void 0,Dv:void 0!==t.subType?Bb(t.subType):void 0,Av:void 0!==t.mediaType?Vb(t.mediaType):void 0,uv:void 0!==t.responseType?xb(t.responseType):void 0},n)}(n,this.WO),this.Am()},H(n,[{key:"zh",get:function(){return this.WO.zh}},{key:"GO",get:function(){return this.ox&&!this.jO}},{key:"ev",get:function(){return this.WO.ev}},{key:"Iv",get:function(){return this.WO.Iv}},{key:"hx",get:function(){return this.sx}},{key:"zv",get:function(){return this.$v}},{key:"uv",get:function(){return this.WO.uv}},{key:"Cv",get:function(){return this.WO.Cv}},{key:"Ao",get:function(){return this.WO.Ao}},{key:"eo",get:function(){return this.WO.eo}},{key:"Dv",get:function(){return this.WO.Dv}},{key:"Av",get:function(){return this.WO.Av}},{key:"fv",get:function(){return this.WO.fv}},{key:"Nv",get:function(){return this.WO.Nv}},{key:"Ov",get:function(){return this.WO.Ov}}]),n}(jb);var $b,zb=function(t){function n(n,i){var r;void 0===i&&(i=!0);var e=new Xb(n);return(r=t.call(this,e,i)||this).vx=void 0,r.vx=e,r}$(n,t);var i=n.prototype;return i.lx=function(t){this.vx.lx(t)},i.wx=function(t){this.vx.wx(t)},i.yx=function(t){this.vx.yx(t)},i.gx=function(t){this.vx.gx(t)},i._x=function(t){this.vx._x(t)},n}(Bf),Xb=function(){function t(t){this.Pv=void 0,this.mx=[],this.kx=[],this.Pv=t}var n=t.prototype;return n.cv=function(){var t=C.coroutine(Zr.mark(function t(n){var i;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.bx(n,n.Ao);case 3:i=t.sent,t.next=13;break;case 6:if(t.prev=6,t.t0=t.catch(0),!(t.t0 instanceof Uf)){t.next=12;break}return t.next=11,this.Tx(t.t0,n.Ao);case 11:return t.abrupt("return",t.sent);case 12:throw t.t0;case 13:return t.next=15,this.Ex(i,n.Ao);case 15:if(!Df(i=t.sent)){t.next=20;break}return t.abrupt("return",i);case 20:throw new qf(i);case 21:case"end":return t.stop()}},t,this,[[0,6]])}));return function(n){return t.apply(this,arguments)}}(),n.xv=function(t){return this.Pv.xv(t)},n.bx=function(){var t=C.coroutine(Zr.mark(function t(n,i){var r,e,u,s,o,c;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:Be(i),r=n,u=0,s=this.mx.slice();case 3:if(!(u<s.length)){t.next=21;break}if(o=s[u],Be(i),(c=new Wb(r,o,!e)).ZO){t.next=17;break}return t.prev=8,t.next=11,c.nx;case 11:t.next=17;break;case 13:return t.prev=13,t.t0=t.catch(8),t.abrupt("continue",18);case 17:c.hx&&!e?r=c.hx:c.zv&&!e&&(e=c.zv);case 18:u++,t.next=3;break;case 21:if(!e){t.next=23;break}return t.abrupt("return",e);case 23:return t.abrupt("return",this.Pv.cv(r));case 24:case"end":return t.stop()}},t,this,[[8,13]])}));return function(n,i){return t.apply(this,arguments)}}(),n.Tx=function(){var t=C.coroutine(Zr.mark(function t(n,i){var r,e;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n instanceof qf?n.zv:new Pf({Du:null,cv:n.cv,rv:0,sv:""}),t.next=3,this.Ex(r,i);case 3:if((e=t.sent)!==r){t.next=8;break}throw n;case 8:if(!Df(e)){t.next=12;break}return t.abrupt("return",e);case 12:throw new qf(e);case 13:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.Ex=function(){var t=C.coroutine(Zr.mark(function t(n,i){var r,e,u,s,o,c;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=n,e=0,u=this.kx.slice();case 2:if(!(e<u.length)){t.next=23;break}return s=u[e],Be(i),t.next=7,C.resolve(r.vc().Du(i));case 7:if(o=t.sent,(c=new Hb(r,s,o)).ZO){t.next=19;break}return t.prev=10,t.next=13,c.nx;case 13:t.next=19;break;case 15:return t.prev=15,t.t0=t.catch(10),t.abrupt("continue",20);case 19:r=c.zv||r;case 20:e++,t.next=2;break;case 23:return t.abrupt("return",r);case 24:case"end":return t.stop()}},t,this,[[10,15]])}));return function(n,i){return t.apply(this,arguments)}}(),n.lx=function(t){this.mx.unshift(t)},n.wx=function(t){this.mx.push(t)},n.yx=function(t){Ae(this.mx,t)},n.gx=function(t){this.kx.unshift(t)},n._x=function(t){Ae(this.kx,t)},n.sr=function(){this.Pv.sr(),xe(this.mx),xe(this.kx)},t}(),Gb=function(t){function n(n,i,r){var e;return(e=t.call(this,i)||this).Xd=void 0,e.Sx=n,e.IT=i,e._D=r,e.Sx.Fo(to.ef,e.Po),e.Sx.Fo(to.rf,e.Po),e}$(n,t);var i=n.prototype;return i.Rx=function(t){this._D.Rx(t)},i.lx=function(t){this.IT.lx(t)},i.yx=function(t){this.IT.yx(t)},i.gx=function(t){this.IT.gx(t)},i._x=function(t){this.IT._x(t)},i.sr=function(){this.Uo(),this.Sx.Vo(to.ef,this.Po),this.Sx.Vo(to.rf,this.Po)},H(n,[{key:"Gd",get:function(){var t;return this.Xd||(this.Xd=(t=this,{get online(){return t.y_},get estimator(){return n=t.Ix,{get bandwidth(){return n.KR},get roundTripTime(){return n.JR}};var n},setEstimator:function(n){t.Rx(function(t){if(t)return{get KR(){return Vv(t.bandwidth)},get JR(){return Vv(t.roundTripTime)},YR:function(n){return function(t){if(t)return{Cx:function(n){t.markRequestStart(n)},Dx:function(n){t.markResponseStart(n)},Ax:function(n,i){t.markResponseData(n,i)},Nx:function(n){t.markResponseEnd(n)}}}(t.createMeasurer(Ob(n)))}}}(n))},addRequestInterceptor:function(n){t.lx(n)},removeRequestInterceptor:function(n){t.yx(n)},addResponseInterceptor:function(n){t.gx(n)},removeResponseInterceptor:function(n){t._x(n)},addEventListener:function(n,i){t.Fo(n,i)},removeEventListener:function(n,i){t.Vo(n,i)}})),this.Xd}},{key:"y_",get:function(){return this.Sx.y_}},{key:"Ix",get:function(){return this._D.Ix}}]),n}(ed);!function(t){t.PERFORMANCE="performance",t.QUALITY="quality",t.BANDWIDTH="bandwidth"}($b||($b={}));var Yb=30,Kb={type:$b.BANDWIDTH},Jb=20,Qb=60;function Zb(t){var n,i,r,e=Pv(Kb);return at(t)?e.type=tT(t):ot(t)&&function(t){switch(t){case $b.PERFORMANCE:case $b.QUALITY:case $b.BANDWIDTH:return!0;default:return!1}}(t.type)&&(e.type=tT(t.type)),ot(t)&&ot(t.metadata)&&(e.metadata=(n=t.metadata,i={},r=Uv(n.bitrate),g(r)||(i.bitrate=r),i)),e}function tT(t){switch(t){case"bandwidth":return $b.BANDWIDTH;case"performance":return $b.PERFORMANCE;case"quality":return $b.QUALITY}}var nT=function(t){function n(n){var i;return(i=t.call(this,"xx")||this).Ox=n,i}return $(n,t),n}(Ze),iT=function(t){function n(n){var i;return(i=t.call(this,"Lx")||this).Px=n,i}return $(n,t),n}(Ze),rT=function(t){function n(n){var i;return(i=t.call(this,"Mx")||this).Fx=n,i}return $(n,t),n}(Ze),eT=function(t){function n(){for(var n,i,r=arguments.length,e=new Array(r),u=0;u<r;u++)e[u]=arguments[u];return(n=t.call.apply(t,[this].concat(e))||this).Xd=(i=en(n),{get strategy(){return{metadata:(t=i.Px).metadata,type:(n=t.type,n)};var t,n},set strategy(t){i.Px=Zb(t)},get targetBuffer(){return i.Ox},set targetBuffer(t){var n=Uv(t);g(n)||(i.Ox=n>Qb?Qb:n)},get bufferLookbackWindow(){return i.Fx},set bufferLookbackWindow(t){var n=Uv(t);g(n)||(i.Fx=n<=0?Yb:n)}}),n.Bx=Kb,n.Ux=Jb,n.Vx=Yb,n.qx=void 0,n.jx=void 0,n}$(n,t);var i=n.prototype;return i.eE=function(t){this.jx=t},i.Rx=function(t){this.qx=t},H(n,[{key:"Hx",get:function(){switch(this.Bx.type){case $b.PERFORMANCE:return 0;case $b.QUALITY:return 1/0;case $b.BANDWIDTH:return this.Bx.metadata&&void 0!==this.Bx.metadata.bitrate?this.Bx.metadata.bitrate:8*cd.hw();default:return 8*cd.hw()}}},{key:"Gd",get:function(){return this.Xd}},{key:"Px",get:function(){return this.Bx},set:function(t){this.Bx=t,this.Lo(new iT(t))}},{key:"Ox",get:function(){return this.Ux},set:function(t){this.Ux=t,this.Lo(new nT(t))}},{key:"Fx",get:function(){return this.Vx},set:function(t){this.Vx=t,this.Lo(new rT(t))}},{key:"Ix",get:function(){var t;return null!=(t=this.qx)?t:this.jx.HI}}]),n}(Je),uT=function(t){function n(){return t.call(this,"fl")||this}return $(n,t),n.prototype.Yd=function(){return new sT},n}(pv),sT=function(t){function n(){return t.call(this,"change")||this}return $(n,t),n}(Ze),oT=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).Wx=void 0,r.$x=function(t){var n;n=t,Boolean(n&&n.Gd)&&We(function(){r.Lo(t.Gd)})},r.Wx=n,r.Wx.Bo(r.$x),r}return $(n,t),n.prototype.sr=function(){this.Uo(),this.Wx.Ho(this.$x)},n}(ed),cT=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n}(oT);var aT=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).j_=0,n.H_=1/0,n.Xd=void 0,n}$(n,t);var i=n.prototype;return i.Sl=function(){0===this.j_&&this.H_===1/0||(this.j_=0,this.H_=1/0,this.Lo(new uT))},i.zx=function(){return new lm([this.U_,this.V_],[!0,!0])},H(n,[{key:"U_",get:function(){return this.j_},set:function(t){if(this.V_<=t)throw new h("Start time of a clip should be smaller than the end time.");this.j_!==t&&(this.j_=t,this.Lo(new uT))}},{key:"V_",get:function(){return this.H_},set:function(t){if(t<=this.U_)throw new h("End time of a clip should be larger than the start time.");this.H_!==t&&(this.H_=t,this.Lo(new uT))}},{key:"Gd",get:function(){var t,n,i;return this.Xd||(this.Xd=(i={get startTime(){return t.U_},set startTime(n){t.U_=n},get endTime(){return t.V_},set endTime(n){t.V_=n},addEventListener:function(t,i){n.Fo(t,i)},removeEventListener:function(t,i){n.Vo(t,i)}},n=new oT(t=this,i),i)),this.Xd}}]),n}(ed),fT=function(t){function n(n){var i;return(i=t.call(this)||this).Xx=function(t){i.Gx(t)||i.Lo(t)},i.Yx=n,i.Yx.Bo(i.Xx),i}$(n,t);var i=n.prototype;return i.Kx=function(){return this.Yx.Bg},i.t_=function(){return this.Yx.t_()},i.Jx=function(){return this.Yx.s_},i.Qx=function(){return this.Yx.e_},i.Zx=function(){return this.Yx.o_},i.tP=function(t){this.Yx.o_=t},i.nP=function(){return this.Yx.Ow},i.iP=function(t){this.Yx.Ow=t},i.rP=function(){return this.Yx.xw},i.eP=function(){return this.Yx.c_},i.uP=function(){return this.Yx.Pw},i.sP=function(){return this.Yx.Ko},i.oP=function(){return this.Yx.Lw},i.cP=function(){return this.Yx.a_},i.aP=function(){return this.Yx.Fw},i.fP=function(t){this.Yx.Fw=t},i.hP=function(){return this.Yx.y_},i.vP=function(){return this.Yx.Mw},i.dP=function(){return this.Yx.Bw},i.lP=function(t){this.Yx.Bw=t},i.wP=function(){return this.Yx.g_},i.yP=function(){return this.Yx.__},i.gP=function(t){this.Yx.__=t},i._P=function(){return this.Yx.Kl},i.pP=function(){return this.Yx.p_},i.mP=function(){return this.Yx.Uw},i.Hg=function(){return this.Yx.Hg()},i.Wg=function(){var t=C.coroutine(Zr.mark(function t(n,i){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Be(i),t.next=3,this.Yx.Wg(n,i);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.kP=function(){return this.Yx.Vg},i.bP=function(){return this.Yx.Vw},i.TP=function(){return this.Yx.Ug},i.EP=function(){return this.Yx.qw},i.SP=function(){return this.Yx.jw},i.RP=function(t){this.Yx.jw=t},i.Zg=function(){return this.Yx.Zg()},i.Qg=function(){return this.Yx.Qg()},i.Gg=function(t){this.Yx.Gg(t)},i.Yg=function(){this.Yx.Yg()},i.Jg=function(){this.Yx.Jg()},i.hr=function(){this.Yx.hr()},i.nr=function(){this.Yx.nr()},i.tr=function(){this.Yx.tr()},i.Kg=function(){this.Yx.Kg()},i.jg=function(){return this.Yx.jg()},i.$g=function(){return this.Yx.$g()},i.zg=function(){this.Yx.zg()},i.Xg=function(){this.Yx.Xg()},i.Sl=function(){return this.Yx.Sl()},i.sr=function(){return this.Yx.sr()},i.u_=function(){this.Yx.u_()},i.n_=function(t){return this.Yx.n_(t)},i.Gx=function(t){return!1},H(n,[{key:"Bg",get:function(){return this.Kx()}},{key:"s_",get:function(){return this.Jx()}},{key:"o_",get:function(){return this.Zx()},set:function(t){this.tP(t)}},{key:"e_",get:function(){return this.Qx()}},{key:"Ow",get:function(){return this.nP()},set:function(t){this.iP(t)}},{key:"xw",get:function(){return this.rP()}},{key:"c_",get:function(){return this.eP()}},{key:"Pw",get:function(){return this.uP()}},{key:"Ko",get:function(){return this.sP()}},{key:"Lw",get:function(){return this.oP()}},{key:"qg",get:function(){return this.Yx.qg}},{key:"a_",get:function(){return this.cP()}},{key:"Rg",get:function(){return this.Yx.Rg}},{key:"Fw",get:function(){return this.aP()},set:function(t){this.fP(t)}},{key:"y_",get:function(){return this.hP()}},{key:"Mw",get:function(){return this.vP()}},{key:"Bw",get:function(){return this.dP()},set:function(t){this.lP(t)}},{key:"g_",get:function(){return this.wP()}},{key:"__",get:function(){return this.yP()},set:function(t){this.gP(t)}},{key:"Kl",get:function(){return this._P()}},{key:"p_",get:function(){return this.pP()}},{key:"Uw",get:function(){return this.mP()}},{key:"Vg",get:function(){return this.kP()}},{key:"Vw",get:function(){return this.bP()}},{key:"Ug",get:function(){return this.TP()}},{key:"qw",get:function(){return this.EP()}},{key:"jw",get:function(){return this.SP()},set:function(t){this.RP(t)}}]),n}(ud),hT=function(t){function n(i,r){var e;return(e=t.call(this,i)||this).IP=void 0,e.CP=!1,e.DP=void 0,e.AP=!1,e.NP=function(){e.OP(),e.xP()},e.cI=function(){e.PP(),e.xP(),e.LP&&e.Ow>=e.IP.V_-n.FP&&!e.Pw&&(e.DP=pb(e.cI))},e.MP=function(){e.AP=!0},e.BP=function(){e.AP&&(e.AP=!1,e.xP())},e.IP=r,e.IP.Fo("fl",e.NP),e.Yx.Fo("timeupdate",e.cI),e}$(n,t);var i=n.prototype;return i.iP=function(n){var i=this.IP.zx().NC(n);t.prototype.iP.call(this,i),this.xP()},i.uP=function(){return t.prototype.uP.call(this)||this.CP},i.pP=function(){return lm.iD(t.prototype.pP.call(this)).LC(this.IP.zx()).UI()},i.tr=function(){this.uP()?this.iP(this.UP.start(0)):this.OP(),t.prototype.tr.call(this),this.xP()},i.Wg=function(){var n=C.coroutine(Zr.mark(function n(i,r){return Zr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Be(r),this.CP=!1,this.IP.Sl(),n.next=5,t.prototype.Wg.call(this,i,r);case 5:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),i.sr=function(){return this.IP.Vo("fl",this.NP),this.Yx.Vo("timeupdate",this.cI),this.PP(),t.prototype.sr.call(this)},i.Gx=function(n){switch(n.type){case"seeking":return this.Lo(n),this.MP(),!0;case"seeked":case"emptied":return this.Lo(n),this.BP(),!0;case"ended":if(this.LP)return!0}return t.prototype.Gx.call(this,n)},i.PP=function(){this.DP&&(mb(this.DP),this.DP=void 0)},i.xP=function(){var t=this.Ow,i=this.LP&&t>=this.IP.V_-n.Zy;this.CP&&!i?(this.CP=!1,this.Mw&&this.tr()):this.CP||!i||this.Uw||this.AP||(this.CP=!0,this.Lo(new Vd(t)),this.nr())},i.OP=function(){if(this.xw!==1/0){var t=this.UP,i=lm.iD(t).NC(this.Ow);Jt(this.Ow,i,n.Zy)||this.iP(i)}},H(n,[{key:"UP",get:function(){return this.pP().length?this.pP():this.IP.zx().UI()}},{key:"LP",get:function(){return this.IP.V_<this.xw}}]),n}(fT);hT.FP=1,hT.Zy=.001;var vT=function(){function t(){this.VP=void 0,this.VP=!1}return H(t,[{key:"qP",get:function(){return this.VP},set:function(t){this.VP=t}}]),t}(),dT=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).VP=void 0,r.jP=!1,r.HP=!1,r.VP=i,r}$(n,t);var i=n.prototype;return i.uP=function(){return!this.VP.qP&&t.prototype.uP.call(this)},i.nr=function(){this.HP=!0,t.prototype.nr.call(this)},i.tr=function(){this.HP=!1,t.prototype.tr.call(this)},i.Gx=function(n){if(this.VP.qP)switch(n.type){case"ended":return this.Ow=0,this.HP||(this.Uw?this.jP=!0:this.tr()),!0;case"seeked":this.jP&&(this.jP=!1,this.tr());break;case"pause":if(this.jP||t.prototype.uP.call(this))return!0}return t.prototype.Gx.call(this,n)},n}(fT);var lT=function(){function t(t){var n;this.Xd=(n=this,{get currentBandwidthEstimate(){return n.d_},get corruptedVideoFrames(){return n.h_},get droppedVideoFrames(){return n.f_},get totalBytesLoaded(){return n.l_},get bufferedSegments(){return n.w_}}),this.hC=t}return H(t,[{key:"Gd",get:function(){return this.Xd}},{key:"h_",get:function(){return this.hC.WP.Rg.h_}},{key:"d_",get:function(){return this.hC.WP.Rg.d_}},{key:"f_",get:function(){return this.hC.WP.Rg.f_}},{key:"$P",get:function(){throw new h("Not implemented")}},{key:"zP",get:function(){throw new h("Not implemented")}},{key:"l_",get:function(){return this.hC.WP.Rg.l_}},{key:"v_",get:function(){return this.hC.WP.Rg.v_}},{key:"w_",get:function(){return this.hC.WP.Rg.w_}}]),t}(),wT=function(t){function n(){return t.call(this,"XP")||this}return $(n,t),n.prototype.Yd=function(){return new yT},n}(pv),yT=function(t){function n(){return t.call(this,"castingchange")||this}return $(n,t),n}(Ze);var gT=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).GP=[],n.Xd=void 0,n.YP=function(){return n.Lo(new wT)},n}$(n,t);var i=n.prototype;return i.KP=function(t){this.GP.push(t),t.Fo("statechange",this.YP)},i.sr=function(){var t=this;this.GP.forEach(function(n){n.Vo("statechange",t.YP)}),xe(this.GP)},H(n,[{key:"JP",get:function(){return this.GP.some(function(t){return t.JP})}},{key:"Gd",get:function(){var t,n,i;return this.Xd||(this.Xd=(i={get casting(){return t.JP},addEventListener:function(t,i){n.Fo(t,i)},removeEventListener:function(t,i){n.Vo(t,i)}},n=new cT(t=this,i),i)),this.Xd}}]),n}(ud),_T=function(){function t(){}return t.QP=function(){var t=C.coroutine(Zr.mark(function t(n,i){var r,e;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=new Lf({fv:n,uv:no.tu,Iv:Af.GET}),t.next=4,i.cv(r);case 4:return e=t.sent,t.next=7,e.Du();case 7:return t.abrupt("return",t.sent);case 10:return t.prev=10,t.t0=t.catch(0),Me(t.t0),t.abrupt("return",void 0);case 14:case"end":return t.stop()}},t,null,[[0,10]])}));return function(n,i){return t.apply(this,arguments)}}(),t.ZP=function(t){try{var i=Nk(t);return new Mk(i.key,i.domains_page,i.domains_source,i.expiration_date,i.customer_id,i.generation_date,i.sdks,i.send_impression)}catch(t){throw new Ps(n.ErrorCode.LICENSE_ERROR,"Invalid license. No valid license was configured.")}},t.tL=function(t){void 0===t&&(t=Jk.bp),A.ks("The baked-in license is used. Please update the configuration with your license.");var n=t.HA(".$hsF|b9_Ess*r[Y.4(HiEagT@Y@Cen3Cec3Cl\"\""),i=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.HA(n)}),r=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.HA(n)}),e=Number(new Date(Number(t.HA("COD|aHpHa:p3Ceo3Co\"\""))));return new Mk(n,i,r,e)},t.convertLicenseToDummyLicense=function(t){return new Mk(t.JA,t.QA,t.ZA,864e13,t.nN,Date.now(),t.rN,t.eN)},t}(),pT=function(){function t(){}return t.Va=function(){return t.Ye||(t.Ye=mT.Zc()?new mT:new Ys),t.Ye},t.oc=function(n){t.Va().oc(n)},t.Ba=function(){t.Va().Ba()},t.ec=function(n){return t.Va().ec(n)},t.Ua=function(n,i){t.Va().Ua(n,i)},t.nL=function(n){var i=t.ec(n);if(void 0!==i)return y(i)},t.iL=function(n){return"true"===t.ec(n)},t}();pT.Ye=void 0;var mT=function(n){function i(){return n.apply(this,arguments)||this}$(i,n),i.Zc=function(){try{return t.localStorage.setItem("foobar","foobar"),t.localStorage.removeItem("foobar"),!0}catch(t){}return!1};var r=i.prototype;return r.oc=function(n){t.localStorage.removeItem(n)},r.Ba=function(){t.localStorage.clear()},r.ec=function(n){return t.localStorage[n]},r.Ua=function(n,i){t.localStorage[n]=i},i}(pT),kT=l.floor(14399999*l.random()-72e5),bT=function(){function t(t,n,i,r,e,u){this.oN=void 0,this.IT=t,this.rL=n,this.eL=i,this.WN=r,this.uL=e,this.fN=u,this.oN=Wk(u)}var i=t.prototype;return i.sL=function(){var t=C.coroutine(Zr.mark(function t(){var n;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.oL(this.uL.license,this.uL.licenseUrl);case 2:n=t.sent,this.WN.cL(n);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.oL=function(){var t=C.coroutine(Zr.mark(function t(i,r){var e,u,s,o,c,a,f,h,v;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r,i?u=_T.ZP(i):e||(u=_T.tL()),e||(e="https://validate.theoplayer.com/1/"+u.JA),s=this.aL(),!u){t.next=14;break}if((o=this.rL.lN(u))!==xk.GA){t.next=14;break}if(!this.fL(u.tN)||!this.fL(null==s?void 0:s.tN)){t.next=13;break}return t.next=10,this.hL(e);case 10:if(!(c=t.sent)){t.next=13;break}return t.abrupt("return",c);case 13:return t.abrupt("return",u);case 14:if(!s){t.next=25;break}if(this.rL.lN(s)!==xk.GA){t.next=24;break}if(!this.fL(null==s?void 0:s.tN)){t.next=23;break}return t.next=20,this.hL(e);case 20:if(!(a=t.sent)){t.next=23;break}return t.abrupt("return",a);case 23:return t.abrupt("return",s);case 24:pT.oc("THEOplayer.license");case 25:return t.next=27,_T.QP(e,this.IT);case 27:if(!(f=t.sent)){t.next=37;break}if(h=_T.ZP(f),this.rL.lN(h)!==xk.GA){t.next=34;break}return pT.Ua("THEOplayer.license",f),t.abrupt("return",h);case 34:pT.oc("THEOplayer.license"),t.next=39;break;case 37:if(this.oN||!u||o!==xk.YA||e!=="https://validate.theoplayer.com/1/"+u.JA){t.next=39;break}return t.abrupt("return",_T.convertLicenseToDummyLicense(u));case 39:if(!u&&!h){t.next=43;break}this.vL(null!=(v=u)?v:h,new Ps(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!")),t.next=44;break;case 43:throw new Ps(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!");case 44:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.hN=function(){var t=C.coroutine(Zr.mark(function t(n){var i,r,e,u,s,o,c;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.WN.KN();case 2:if(i=t.sent,!this.fL(i.tN)){t.next=9;break}return e=null!=(r=this.uL.licenseUrl)?r:"https://validate.theoplayer.com/1/"+i.JA,t.next=7,this.hL(e);case 7:(u=t.sent)&&(this.WN.cL(u),i=u);case 9:if(t.prev=9,(s=this.rL.lN(i))!==xk.KA){t.next=16;break}throw o=Fk.uN,new Ps(Uk(o),zk.dN(o));case 16:if(s!==xk.YA){t.next=19;break}throw c=Fk.YA,new Ps(Uk(c),zk.dN(c));case 19:this.rL.hN(n,i),t.next=25;break;case 22:t.prev=22,t.t0=t.catch(9),this.dL(t.t0);case 25:case"end":return t.stop()}},t,this,[[9,22]])}));return function(n){return t.apply(this,arguments)}}(),i.hL=function(){var t=C.coroutine(Zr.mark(function t(n){var i,r;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_T.QP(n,this.IT);case 3:if(void 0!==(i=t.sent)){t.next=6;break}return t.abrupt("return",void 0);case 6:if(r=_T.ZP(i),this.rL.lN(r)!==xk.GA){t.next=11;break}return pT.Ua("THEOplayer.license",i),t.abrupt("return",r);case 11:return t.abrupt("return",void 0);case 14:return t.prev=14,t.t0=t.catch(0),t.abrupt("return",void 0);case 17:case"end":return t.stop()}},t,this,[[0,14]])}));return function(n){return t.apply(this,arguments)}}(),i.fL=function(t){return!t||Number(new Date)+2592e5+kT>=t},i.aL=function(){var t=pT.ec("THEOplayer.license");if(t)return _T.ZP(t)},i.vL=function(t,n){this.WN.cL(t),this.dL(n)},i.dL=function(t){throw kt(t.message),this.eL.ZN(t.message),t},t}(),TT=function(){function t(){this.lL=void 0,this.wL=new cs}var n=t.prototype;return n.cL=function(t){this.lL=t,this.wL._c()},n.KN=function(){var t=C.coroutine(Zr.mark(function t(){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.lL){t.next=2;break}return t.abrupt("return",C.resolve(this.lL));case 2:return t.next=4,this.wL.gc;case 4:return t.abrupt("return",this.lL);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),H(t,[{key:"yL",get:function(){return this.lL}}]),t}(),ET=function(t){function n(){return t.call(this,"fl")||this}return $(n,t),n.prototype.Yd=function(){return new ST},n}(pv),ST=function(t){function n(){return t.call(this,"change")||this}return $(n,t),n}(Ze);var RT,IT,CT={gL:void 0,_L:void 0,pL:void 0,mL:void 0,kL:void 0,bL:void 0,TL:void 0},DT="THEOplayer.textTrackStyle.",AT=function(t){function n(){var i;return(i=t.call(this)||this).EL=void 0,i.Xd=void 0,i.EL=n.SL(),i}return $(n,t),n.prototype.Fc=function(t){this.EL=te({},this.EL,t),n.RL(this.EL),this.Lo(new ET)},n.SL=function(){var t=te({},CT);return t.gL=pT.ec(DT+"fontFamily")||t.gL,t._L=pT.ec(DT+"fontColor")||t._L,t.pL=pT.ec(DT+"fontSize")||t.pL,t.mL=pT.ec(DT+"backgroundColor")||t.mL,t.kL=pT.ec(DT+"windowColor")||t.kL,t.bL=pT.ec(DT+"edgeStyle")||t.bL,t},n.RL=function(t){pT.Ua(DT+"fontFamily",t.gL||""),pT.Ua(DT+"fontColor",t._L||""),pT.Ua(DT+"fontSize",t.pL||""),pT.Ua(DT+"backgroundColor",t.mL||""),pT.Ua(DT+"windowColor",t.kL||""),pT.Ua(DT+"edgeStyle",t.bL||"")},H(n,[{key:"IL",get:function(){return this.EL}},{key:"gL",get:function(){return this.EL.gL},set:function(t){this.Fc({gL:t})}},{key:"_L",get:function(){return this.EL._L},set:function(t){this.Fc({_L:t})}},{key:"pL",get:function(){return this.EL.pL},set:function(t){this.Fc({pL:t})}},{key:"mL",get:function(){return this.EL.mL},set:function(t){this.Fc({mL:t})}},{key:"kL",get:function(){return this.EL.kL},set:function(t){this.Fc({kL:t})}},{key:"bL",get:function(){return this.EL.bL},set:function(t){this.Fc({bL:t})}},{key:"TL",get:function(){return this.EL.TL}},{key:"Gd",get:function(){var t,n,i;return this.Xd||(this.Xd=(t=this,i={get fontFamily(){return t.gL},set fontFamily(n){t.gL=n},get fontColor(){return t._L},set fontColor(n){t._L=n},get fontSize(){return t.pL},set fontSize(n){t.pL=n},get backgroundColor(){return t.mL},set backgroundColor(n){t.mL=n},get windowColor(){return t.kL},set windowColor(n){t.kL=n},get edgeStyle(){return t.bL},set edgeStyle(n){t.bL=n},addEventListener:function(t,i){var r=jv(t,qv);n.Fo(r,i)},removeEventListener:function(t,i){var r=jv(t,qv);n.Vo(r,i)}},n=new Qe(i),t.Fo(["fl"],function(t){return n.Lo(t.Gd)}),i)),this.Xd}}]),n}(Je),NT=function(t){function n(n,i){var r;(r=t.call(this)||this).CL=void 0,r.eb=void 0,r.WP=void 0,r.DL=void 0,r.jd=void 0,r.IP=void 0,r.VP=void 0,r.AL=void 0,r.NL=void 0,r._D=void 0,r.rL=void 0,r.OL=void 0,r.xL=void 0,r.gD=void 0,r.PL=!1,r.Ng=!1,r.S_=void 0,r.LL=!1,r.FL=void 0,r.ML=void 0,r.BL=void 0,r.UL=void 0,r.VL=void 0,r.qL=function(t){if(!r.LL){r.LL=!0;var n=r.CL,i=Nl(t);r.WP.xl=new mm(r.c_,i,t),$e(n.sr())}},r.jL=function(t){r.Lo(t.Gd)},r.HL=function(t){t.type!==to.ef&&t.type!==to.rf&&r.Lo(t)};var e=Uv(i.uid);g(e)?r.S_=Ul++:r.S_=e,r.eb=i;var u=A.jd,s=new TT;r.DL=new cb("2.87.0",u,s),r.jd=new zb(u,i.allowMixedContent),r._D=new eT,r.rL=new Bk(i.isEmbeddable,"2.87.0",Ok()),r.VL=new bT(u,r.rL,r.DL,s,i,Ok()),r.VL.sL().catch(r.qL),r.OL=new Cb(n),r.OL.Fo("oO",r.jL),r.gD=new AT,r.IP=new aT,r.VP=new vT;var o=new pm(n,i,r.jd,r._D,r.OL,r.gD);r._D.eE(o);var c=o;c=new hT(c,r.WL),c=new dT(c,r.qP),r.CL=c,r.WP=new Il(r.CL),r.WP.Bo(r.HL),r.UL=new lT(en(r)),r.ML=new Gb(r.WP,r.jd,r._D),r.AL=new hb(en(r)),r.xL=new Nb(r.WP,i.allowNativeFullscreen),r.NL=new Um(r.xL),r.OL.$c();var a=new b(r.OL,r.gD,1,[Ol.Sv]);return r.FL=new T(a),r.BL=new gT,r}$(n,t);var i=n.prototype;return i.fP=function(t){this.WP.Fw=t,t||this.Mw||this.hr()},i.RP=function(t){this.WP.jw=t},i.$L=function(){Qd(this,Vm,this)},i.tr=function(){this.WP.tr()},i.nr=function(){this.WP.nr()},i.Wg=function(){var t=C.coroutine(Zr.mark(function t(n,i){var r;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=5;break}return this.VL.hN(n).catch(this.qL),r=OT(n),t.next=5,this.WP.Wg(r,i);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.hr=function(){this.Ng||(this.WP.hr(),this.FL.hr(),this.Ng=!0)},i.oD=function(){return this.NL.HD()===Pm.FULLSCREEN},i.Kg=function(){this.WP.Kg()},i.Jg=function(){this.WP.Jg()},i.Qg=function(){return this.WP.Qg()},i.Sl=function(){var t=C.coroutine(Zr.mark(function t(){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.WP.jg();case 2:return t.next=4,this.WP.Sl();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.sr=function(){var t=C.coroutine(Zr.mark(function t(){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Uo(),this.BL.sr(),this.jd.sr(),this.ML.sr(),this.xL.sr(),this.NL.sr(),this.OL.sr(),this.DL.sr(),this.FL.sr(),t.next=11,this.WP.sr();case 11:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),H(n,[{key:"zL",get:function(){return this._D}},{key:"Fg",get:function(){return this.PL},set:function(t){this.PL=t,this.WP.Fg=t}},{key:"XL",get:function(){return this.FL}},{key:"Bg",get:function(){return this.WP.Bg}},{key:"GL",get:function(){return this.BL}},{key:"YL",get:function(){return this.OL}},{key:"qg",get:function(){return this.WP.qg}},{key:"Rg",get:function(){return this.UL}},{key:"KL",get:function(){return this.ML}},{key:"Vg",get:function(){return this.WP.Vg}},{key:"JL",get:function(){return this.gD}},{key:"Ug",get:function(){return this.WP.Ug}},{key:"s_",get:function(){return this.WP.s_}},{key:"WL",get:function(){return this.IP}},{key:"qP",get:function(){return this.VP}},{key:"Ow",get:function(){return this.WP.Ow},set:function(t){this.WP.Ow=t}},{key:"o_",get:function(){return this.WP.o_},set:function(t){this.WP.o_=t}},{key:"e_",get:function(){return this.WP.e_}},{key:"xw",get:function(){return this.WP.xw}},{key:"c_",get:function(){return this.WP.c_}},{key:"Pw",get:function(){return this.WP.Pw}},{key:"Ko",get:function(){return this.WP.Ko}},{key:"Lw",get:function(){return this.WP.Lw}},{key:"Fw",get:function(){return this.WP.Fw},set:function(t){var n=Boolean(t);this.fP(n)}},{key:"Mw",get:function(){return this.WP.Mw}},{key:"Bw",get:function(){return this.WP.Bw},set:function(t){this.WP.Bw=t}},{key:"g_",get:function(){return this.WP.g_}},{key:"__",get:function(){return this.WP.__},set:function(t){this.WP.__=cm(t)}},{key:"Kl",get:function(){return this.WP.Kl}},{key:"p_",get:function(){return this.WP.p_}},{key:"Uw",get:function(){return this.WP.Uw}},{key:"Bl",get:function(){return this.S_}},{key:"Vw",get:function(){return this.WP.Vw}},{key:"qw",get:function(){return this.WP.qw}},{key:"jw",get:function(){return this.WP.jw},set:function(t){var n=Kt(Number(t),0,1)||0;this.RP(n)}}]),n}(ud);function OT(t){t.sources;var n=t.sources.filter(function(t){return void 0===t.integration});return t.sources=n,t}!function(t){t[t.QL=0]="QL",t[t.ZL=1]="ZL"}(RT||(RT={})),function(t){t[t.tF=0]="tF"}(IT||(IT={}));var xT={};function PT(t,n){var i=t;if(xT[n])for(var r=0,e=xT[n];r<e.length;r++){i=(0,e[r])(i)}return i}var LT=[];function FT(t){LT.push(t)}var MT=t.CustomEvent;var BT=function(){try{var t=new MT("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?function(t,n){return new CustomEvent(t,n)}:function(t,n){var i=e.createEvent("CustomEvent");return n?i.initCustomEvent(t,n.bubbles,n.cancelable,n.detail):i.initCustomEvent(t,!1,!1,void 0),i},UT=function(){function t(t,n){var i=this;this.hC=void 0,this.nF=void 0,this.iF=!1,this.rF=function(t){i.nF.QN(t.error,i.Ow)},this.eF=function(){i.nF.YN(i.uF),i.hC.removeEventListener("playing",i.eF),i.iF=!1},this.sF=function(){i.iF||(i.hC.addEventListener("playing",i.eF),i.iF=!0)},this.nF=n,this.hC=t,this.hC.addEventListener("error",this.rF),this.hC.addEventListener("sourcechange",this.sF),this.sF()}return t.prototype.Sl=function(){},H(t,[{key:"Ow",get:function(){var t=this.hC.currentTime;return"number"==typeof t&&isFinite(t)?t:"now"}},{key:"uF",get:function(){return this.hC.src||""}}]),t}();FT(function(t){new UT(t.Gd,t.DL)});var VT,qT,jT="theoplayer-stored-volume",HT="theoplayer-stored-mutedstate";VT=function(t){return function(t){function n(n,i){var r;if(r=t.call(this,n,i)||this,i.persistVolume){var e=pT.nL(jT);(void 0===e||g(e))&&(e=1);var u=pT.iL(HT)||!1;r.jw=e,r.Fw=u}return r}$(n,t);var i=n.prototype;return i.fP=function(n){this.eb.persistVolume&&pT.Ua(HT,n),t.prototype.fP.call(this,n)},i.RP=function(n){this.eb.persistVolume&&pT.Ua(jT,n),t.prototype.RP.call(this,n)},n}(t)},qT=RT.ZL,(xT[qT]||(xT[qT]=[])).push(VT);var WT=new(function(){function t(){this.oF=[],this.Xd=void 0}var n=t.prototype;return n.kl=function(t){return this.oF[t]},n.cF=function(t){this.oF.push(t),this.Gd.push(t.Gd)},n.Lc=function(t){var n=this.oF.indexOf(t);n<0||(Ne(this.oF,n),this.Xd&&Ne(this.Xd,n))},n.aF=function(t){for(var n=0,i=this.oF;n<i.length;n++){var r=i[n];if(r.Bl===t)return r}},H(t,[{key:"Il",get:function(){return this.oF.length}},{key:"Gd",get:function(){return this.Xd||(this.Xd=function(t){for(var n=[],i=0;i<t.Il;i++)n[i]=t.kl(i).Gd;return n.getPlayerByUID=function(n){var i=t.aF(n);return i&&i.Gd},n}(this)),this.Xd}}]),t}());var $T,zT=function(t){function n(n){var i;return(i=t.call(this,to.pf)||this).source=n,i}return $(n,t),n}(Ze),XT=function(t){function n(){var n;return(n=t.call(this)||this).aD=void 0,n.hD=void 0,n.dD=void 0,n.vD=void 0,n.aD=0,n.hD=!0,n.dD=!1,n.vD=1,n}$(n,t);var i=n.prototype;return i.tr=function(){this.hD&&(this.hD=!1,this.Lo(new Od(this.Ow)),this.Lo(new Wp(this.Ow)))},i.nr=function(){this.hD||(this.hD=!0,this.Lo(new Ud(this.Ow,this.o_)),this.Lo(new Nd(this.Ow)))},i.Sl=function(){this.aD=0,this.dD=!1,this.vD=1,this.nr(),this.Lo(new Ad(this.aD))},i.sr=function(){this.Uo()},i.Jg=function(){},i.Kg=function(){},H(n,[{key:"o_",get:function(){},set:function(t){}},{key:"Ow",get:function(){return this.aD},set:function(t){this.dD&&this.aD===t||(this.aD=t,this.dD=!0,this.Lo(new jd(this.Ow)))}},{key:"Mw",get:function(){return this.hD}},{key:"Bw",get:function(){return this.vD},set:function(t){this.vD!==t&&(this.vD=t,this.Lo(new Bd(this.Ow,this.Bw)))}},{key:"Kl",get:function(){return ld.kw}},{key:"Uw",get:function(){return this.dD}}]),n}(ed),GT=function(t){function n(){return t.call(this,to.Ga)||this}return $(n,t),n}(Ze),YT={zIndex:"1",display:"inline-block",verticalAlign:"middle",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"contain",cursor:"pointer",margin:"0",padding:"0",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",height:"100%"},KT={visibility:"hidden"},JT={visibility:"visible"},QT=function(){function t(t){var n,i=this;this.sC=void 0,this.hC=void 0,this.fF=!1,this.hF=void 0,this.vF=void 0,this.dF=function(t){i.fF=!1,i.hF=t.source&&t.source.poster,i.Fc()},this.SR=function(){i.fF=!0,i.Jg()},this.hC=t,this.wC(),this.sC=((n=S&&S.document&&S.document.createElement("div")).className="theoplayer-poster",xr(YT,n),n),t.c_.appendChild(this.sC)}var n=t.prototype;return n.Fc=function(){var t=this.hC.Mw,n=this.fF;this.fv?this.sC.style.backgroundImage='url("'+this.fv.replace(/[\\"]/g,function(t){return"\\"+t})+'")':this.sC.style.backgroundImage="",t&&this.fv&&!n?this.Kg():this.Jg()},n.Kg=function(){xr(KT,this.hC.c_),xr(JT,this.sC)},n.Jg=function(){xr(KT,this.sC),xr(JT,this.hC.c_)},n.wC=function(){this.hC.Fo("sourcechange",this.dF),this.hC.Fo("play",this.SR)},n.sr=function(){this.hC.Vo("sourcechange",this.dF),this.hC.Vo("play",this.SR),Or(this.sC)},H(t,[{key:"fv",get:function(){return void 0!==this.hF?this.hF:void 0!==this.vF?this.vF:void 0}},{key:"lF",set:function(t){this.vF=t,this.Fc()}}]),t}();function ZT(t){return function(n){function i(i,r){var e;return(e=n.call(this,i)||this).hC=void 0,e.wF=void 0,e.yF=void 0,e.gF=void 0,e._F=void 0,e.ZS=void 0,e.pF=void 0,e.mF=void 0,e.lC=void 0,e.dC=void 0,e.Xd=void 0,e.kF=function(t){t.type!==to.af&&e.mF.push(t)},e.wF=new t(i,r),e.yF=new XT,e.hC=e.wF,e.gF=new QT(en(e)),e.ZS=new qy,e.pF=!1,e.mF=[],e.lC=!0,e.dC=void 0,e.wC(),e}$(i,n);var r=i.prototype;return r.UT=function(){var t=C.coroutine(Zr.mark(function t(n,i){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.ZS.UT(n,i).catch(Ve));case 1:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.bF=function(){var t=C.coroutine(Zr.mark(function t(n,i){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Be(i),this.wF.Bo(this.kF),t.next=4,this.wF.Wg(n,i);case 4:this.wF.Ho(this.kF);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.TF=function(){var t=C.coroutine(Zr.mark(function t(){var n,i,r;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((n=this.Hg())&&!fk(n)&&this.Fg&&this.Mw){t.next=3;break}return t.abrupt("return");case 3:return i=n.mutedAutoplay||this.eb.mutedAutoplay,t.next=6,this.XL.ar();case 6:r=t.sent,t.t0=r,t.next="all"===t.t0?10:"muted"===t.t0?12:14;break;case 10:return this.EF(),t.abrupt("break",14);case 12:return(this.Fw||i===xd.ALL)&&(this.Fw=!0,this.tr()),t.abrupt("break",14);case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.Wg=function(t){var n=this,i=this.dC;i&&!fk(i)&&this.Lo(new Ad(0,0)),this.Sl(),this.dC=t,$e(this.UT(function(){var i=C.coroutine(Zr.mark(function i(r){return Zr.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return Be(r),i.prev=1,i.next=4,n.bF(t,r);case 4:i.next=10;break;case 6:throw i.prev=6,i.t0=i.catch(1),n.dC=void 0,i.t0;case 10:return i.next=12,n.SF();case 12:case"end":return i.stop()}},i,null,[[1,6]])}));return function(t){return i.apply(this,arguments)}}()))},r.SF=function(){var t=C.coroutine(Zr.mark(function t(){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.RF(this.wF),this.Lo(new zT(this.Hg())),t.next=4,this.TF();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.iP=function(t){this.hC.Ow=t},r.sP=function(){return this.wF.Ko},r.oP=function(){return this.wF.Lw},r.tr=function(){this.hC.tr()},r.EF=function(){this.Fw||this.hr(),this.tr()},r.hr=function(){this.wF.hr()},r.nr=function(){this.hC.nr()},r.jg=function(){this.Wg(void 0)},r.Kg=function(){this.lC=!0,this.hC.Kg()},r.Jg=function(){this.lC=!1,this.hC.Jg()},r.$L=function(){this.wF.$L()},r.RP=function(t){this.wF.RP(t)},r.fP=function(t){this.wF.fP(t)},r.IF=function(t){this._F=t,t.cF(this)},r.oD=function(){return this.wF.oD()},r.Hg=function(){return this.dC},r.Qg=function(){return this.wF.Qg()},r.nP=function(){return this.wF.Ow},r.rP=function(){return this.wF.xw},r.Jx=function(){return this.wF.s_},r.wP=function(){return this.wF.g_},r.pP=function(){return this.wF.p_},r.Sl=function(){var t=this;this.dC=void 0,xe(this.mF),this.yF.Sl(),this.RF(this.yF),this.ZS.Io(),$e(this.ZS.UT(function(){var n=C.coroutine(Zr.mark(function n(i){return Zr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Be(i),n.next=3,t.wF.Sl();case 3:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}()))},r.sr=function(){var t=this;this.Lo(new GT),this.gF.sr(),this.yC(),this.Sl(),$e(this.UT(C.coroutine(Zr.mark(function n(){return Zr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.wF.sr();case 2:t._F&&(t._F.Lc(t),t._F=void 0),t.ZS.sr();case 4:case"end":return n.stop()}},n)})))),this.Uo()},r.RF=function(t){if(this.hC!==t){var n=this.hC.Mw,i=this.hC.Ow,r=this.hC.Bw,e=this.hC.Uw;this.yC(),t===this.wF?((e||t.Ow!==i)&&(t.Ow=i),t.Bw!==r&&(t.Bw=r),n?t.nr():t.tr()):this.eb.retainPlaybackRateOnSourceChange?t.Bw=r:1!==r&&this.Lo(new Bd(this.nP(),1)),this.hC=t,this.wC();for(var u=0,s=this.mF;u<s.length;u++){var o=s[u];this.Lo(o)}xe(this.mF),this.lC?t.Kg():t.Jg()}},r.wC=function(){this.hC.Bo(this.Po)},r.yC=function(){this.hC.Ho(this.Po)},r.Yd=function(){return t=this,r=function(n){i=n;var r=mk(n,t.eb);t.Wg(r)},e={get abr(){return t.zL.Gd},get audioTracks(){return t.Bg.Gd},get autoplay(){return t.Fg},set autoplay(n){t.Fg=Boolean(n)},get buffered(){return t.Jx()},get canvas(){return t.AL.Gd},get clip(){return t.WL.Gd},get currentProgramDateTime(){var n;return null!=(n=t.o_)?n:null},set currentProgramDateTime(n){t.o_=null!=n?n:void 0},get currentTime(){return t.nP()},set currentTime(n){t.iP(Number(n))},get duration(){return t.rP()},get element(){return t.c_},get ended(){return t.Pw},get error(){return t.sP()},get errorObject(){return t.oP()},get loop(){return t.qP.qP},set loop(n){t.qP.qP=Boolean(n)},get metrics(){return t.Rg.Gd},get muted(){return t.Fw},set muted(n){t.fP(n)},get network(){return t.KL.Gd},get paused(){return t.Mw},get playbackRate(){return t.Bw},set playbackRate(n){var i=Number(n);if(i<0)throw new RangeError("playbackRate must be a positive number");t.Bw=i},get played(){return t.wP()},get poster(){return t.CF},set poster(n){t.CF=qv(n)},get preload(){return t.__},set preload(n){t.__=n},get presentation(){return t.NL.Gd},get readyState(){return t.Kl},get seekable(){return t.pP()},get seeking(){return t.Uw},get source(){return i},set source(t){r(t)},get src(){return hk(t.Hg())},set src(t){r({sources:t})},get textTracks(){return t.Vg.Gd},get textTrackStyle(){return t.JL.Gd},get uid(){return t.Bl},get videoHeight(){return t.Vw},get videoTracks(){return t.Ug.Gd},get videoWidth(){return t.qw},get volume(){return t.jw},set volume(n){t.RP(Number(n))},destroy:function(){t.sr(),t=null,i=void 0},play:function(){t.EF()},pause:function(){t.nr()},stop:function(){i=void 0,t.jg()},prepareWithUserAction:function(){t.hr()},addEventListener:function(t,i){n.Fo(t,i)},removeEventListener:function(t,i){n.Vo(t,i)},setSource:function(t){r(t)}},(n=new Mm(e,!0)).CD(t),e;var t,n,i,r,e},H(i,[{key:"DL",get:function(){return this.wF.DL}},{key:"AL",get:function(){return this.wF.AL}},{key:"eb",get:function(){return this.wF.eb}},{key:"CL",get:function(){return this.wF.CL}},{key:"jd",get:function(){return this.wF.jd}},{key:"xI",get:function(){return this.wF.xL}},{key:"NL",get:function(){return this.wF.NL}},{key:"OL",get:function(){return this.wF.OL}},{key:"WP",get:function(){return this.wF.WP}},{key:"zL",get:function(){return this.wF.zL}},{key:"Fg",get:function(){return this.wF.Fg},set:function(t){this.wF.Fg=t,this.TF()}},{key:"XL",get:function(){return this.wF.XL}},{key:"Bg",get:function(){return this.wF.Bg}},{key:"GL",get:function(){return this.wF.GL}},{key:"YL",get:function(){return this.wF.OL}},{key:"Gd",get:function(){return this.Xd||(this.Xd=this.Yd()),this.Xd}},{key:"qg",get:function(){return this.wF.qg}},{key:"Rg",get:function(){return this.wF.Rg}},{key:"KL",get:function(){return this.wF.KL}},{key:"Vg",get:function(){return this.wF.Vg}},{key:"JL",get:function(){return this.wF.JL}},{key:"Ug",get:function(){return this.wF.Ug}},{key:"WL",get:function(){return this.wF.WL}},{key:"qP",get:function(){return this.wF.qP}},{key:"o_",get:function(){return this.hC.o_},set:function(t){this.hC.o_=t}},{key:"e_",get:function(){return this.wF.e_}},{key:"c_",get:function(){return this.wF.c_}},{key:"Pw",get:function(){return this.wF.Pw}},{key:"Fw",get:function(){return this.wF.Fw},set:function(t){this.wF.Fw=t}},{key:"Mw",get:function(){return this.hC.Mw}},{key:"CF",get:function(){return this.gF.fv||""},set:function(t){this.gF.lF=t}},{key:"Bw",get:function(){return this.wF.Bw},set:function(t){this.hC.Bw=t}},{key:"__",get:function(){return this.wF.__},set:function(t){this.wF.__=cm(t)}},{key:"Kl",get:function(){return this.hC.Kl}},{key:"Uw",get:function(){return this.hC.Uw}},{key:"Bl",get:function(){return this.wF.Bl}},{key:"Vw",get:function(){return this.wF.Vw}},{key:"qw",get:function(){return this.wF.qw}},{key:"jw",get:function(){return this.wF.jw},set:function(t){this.wF.jw=t}}]),i}(ud)}We(function(){t.dispatchEvent&&t.dispatchEvent(BT("theoplayerready"))});var tE={base64:new(function(){function t(){}var n=t.prototype;return n.encode=function(t){return wu(t)},n.decode=function(t){return du(t)},t}())},nE=WT.Gd,iE=lg.nE.registerContentProtectionIntegration.bind(lg.nE),rE=function(){this.fairplayController=void 0,this.cache=void 0,this.dai=void 0},eE=function(){function t(){this.internalDict={},this.uidCounter=0}var n=t.prototype;return n.register=function(t){return this.internalDict[this.uidCounter]=t,this.uidCounter++},n.get=function(t){return this.internalDict[t]},n.remove=function(t){delete this.internalDict[t]},t}(),uE=k(function(t,n){function i(t,n){var i=[],r=[];return null==n&&(n=function(t,n){return i[0]===n?"[Circular ~]":"[Circular ~."+r.slice(0,i.indexOf(n)).join(".")+"]"}),function(e,u){if(i.length>0){var s=i.indexOf(this);~s?i.splice(s+1):i.push(this),~s?r.splice(s,1/0,e):r.push(e),~i.indexOf(u)&&(u=n.call(this,e,u))}else i.push(u);return null==t?u:t.call(this,e,u)}}(t.exports=function(t,n,r,e){return JSON.stringify(t,i(n,e),r)}).getSerialize=i});function sE(t,n){return void 0!==n&&null!=n&&"function"==typeof n.start&&"function"==typeof n.end&&"number"==typeof n.length?function(t){for(var n=[],i=0;i<t.length;i++)n[i]={start:t.start(i),end:t.end(i)};return n}(n):n}function oE(t){return JSON.stringify(t,uE.getSerialize(sE))}var cE,aE=k(function(t,n){d.defineProperty(n,"__esModule",{value:!0}),n.CHAR="\t\n\r -\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",n.S=" \t\r\n",n.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u");var i=9,r=10,e=13,u=32;function s(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}n.S_LIST=[u,r,e,i],n.isChar=function(t){return t>=u&&t<=55295||t===r||t===e||t===i||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isS=function(t){return t===u||t===r||t===e||t===i},n.isNameStartChar=s,n.isNameChar=function(t){return s(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),fE=k(function(t,n){d.defineProperty(n,"__esModule",{value:!0}),n.CHAR="\x01-\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",n.RESTRICTED_CHAR="\x01-\b\v\f\x0e-\x1f\x7f-\x84\x86-\x9f",n.S=" \t\r\n",n.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.RESTRICTED_CHAR_RE=new RegExp("^["+n.RESTRICTED_CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u");var i=9,r=10,e=13,u=32;function s(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}n.S_LIST=[u,r,e,i],n.isChar=function(t){return t>=1&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isRestrictedChar=function(t){return t>=1&&t<=8||11===t||12===t||t>=14&&t<=31||t>=127&&t<=132||t>=134&&t<=159},n.isCharAndNotRestricted=function(t){return 9===t||10===t||13===t||t>31&&t<127||133===t||t>159&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isS=function(t){return t===u||t===r||t===e||t===i},n.isNameStartChar=s,n.isNameChar=function(t){return s(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),hE=k(function(t,n){function i(t){return t>=65&&t<=90||95===t||t>=97&&t<=122||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}d.defineProperty(n,"__esModule",{value:!0}),n.NC_NAME_START_CHAR="A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NC_NAME_CHAR="-"+n.NC_NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.NC_NAME_START_CHAR_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]$","u"),n.NC_NAME_CHAR_RE=new RegExp("^["+n.NC_NAME_CHAR+"]$","u"),n.NC_NAME_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]["+n.NC_NAME_CHAR+"]*$","u"),n.isNCNameStartChar=i,n.isNCNameChar=function(t){return i(t)||45===t||46===t||t>=48&&t<=57||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),vE=k(function(t,n){d.defineProperty(n,"__esModule",{value:!0});var i=aE.isS,r=aE.isChar,e=aE.isNameStartChar,u=aE.isNameChar,s=aE.S_LIST,o=aE.NAME_RE,c=fE.isChar,a=hE.isNCNameStartChar,f=hE.isNCNameChar,v=hE.NC_NAME_RE;const l="http://www.w3.org/XML/1998/namespace",y="http://www.w3.org/2000/xmlns/",g={__proto__:null,xml:l,xmlns:y},_={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},p=-1,m=-2,k=0,b=1,T=2,E=3,S=4,R=5,I=6,C=7,D=8,A=9,N=10,O=11,x=12,P=13,L=14,F=15,M=16,B=17,U=18,V=19,q=20,j=21,H=22,W=23,$=24,z=25,X=26,G=27,Y=28,K=29,J=30,Q=31,Z=32,tt=33,nt=34,it=35,rt=36,et=37,ut=38,st=39,ot=40,ct=41,at=42,ft=43,ht=44,vt=9,dt=10,lt=13,wt=32,yt=33,gt=38,_t=45,pt=47,mt=59,kt=60,bt=61,Tt=62,Et=63,St=91,Rt=93,It=133,Ct=8232,Dt=t=>34===t||39===t,At=[34,39],Nt=[...At,St,Tt],Ot=[...At,kt,Rt],xt=[bt,Et,...s],Pt=[...s,Tt,gt,kt];function Lt(t,n,i){switch(n){case"xml":i!==l&&t.fail(`xml prefix must be bound to ${l}.`);break;case"xmlns":i!==y&&t.fail(`xmlns prefix must be bound to ${y}.`)}switch(i){case y:t.fail(""===n?`the default namespace may not be set to ${i}.`:`may not assign a prefix (even "xmlns") to the URI ${y}.`);break;case l:switch(n){case"xml":break;case"":t.fail(`the default namespace may not be set to ${i}.`);break;default:t.fail("may not assign the xml namespace to another prefix.")}}}const Ft=t=>v.test(t),Mt=t=>o.test(t),Bt=0,Ut=1,Vt=2;n.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const qt={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};n.SaxesParser=class{constructor(t){this.opt=null!=t?t:{},this.fragmentOpt=!!this.opt.fragment;const n=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=!1!==this.opt.position,this.fileName=this.opt.fileName,n){this.nameStartCheck=a,this.nameCheck=f,this.isName=Ft,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=d.assign({__proto__:null},g);const t=this.opt.additionalNamespaces;null!=t&&(function(t,n){for(const i of d.keys(n))Lt(t,i,n[i])}(this,t),d.assign(this.ns,t))}else this.nameStartCheck=e,this.nameCheck=u,this.isName=Mt,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this.ka}_init(){var t;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=Bt,this.attribList=[];const{fragmentOpt:n}=this;this.state=n?P:k,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=n,this.xmlDeclPossible=!n,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:i}=this.opt;if(void 0===i){if(!0===this.opt.forceXMLVersion)throw new h("forceXMLVersion set but defaultXMLVersion is not set");i="1.0"}this.setXMLVersion(i),this.positionAtNewLine=0,this.doctype=!1,this.ka=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=d.create(_),null===(t=this.readyHandler)||void 0===t||t.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(t,n){this[qt[t]]=n}off(t){this[qt[t]]=void 0}makeError(t){var n;let i=null!==(n=this.fileName)&&void 0!==n?n:"";return this.trackPosition&&(i.length>0&&(i+=":"),i+=`${this.line}:${this.column}`),i.length>0&&(i+=": "),new h(i+t)}fail(t){const n=this.makeError(t),i=this.errorHandler;if(void 0===i)throw n;return i(n),this}write(t){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let n=!1;null===t?(n=!0,t=""):"object"==typeof t&&(t=t.toString()),void 0!==this.carriedFromPrevious&&(t=`${this.carriedFromPrevious}${t}`,this.carriedFromPrevious=void 0);let i=t.length;const r=t.charCodeAt(i-1);!n&&(r===lt||r>=55296&&r<=56319)&&(this.carriedFromPrevious=t[i-1],i--,t=t.slice(0,i));const{stateTable:e}=this;for(this.chunk=t,this.i=0;this.i<i;)e[this.state].call(this);return this.chunkPosition+=i,n?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return p;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>=wt||i===vt)return i;switch(i){case dt:return this.line++,this.column=0,this.positionAtNewLine=this.position,dt;case lt:return t.charCodeAt(n+1)===dt&&(this.i=n+2),this.line++,this.column=0,this.positionAtNewLine=this.position,m;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const r=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,r>1114111&&this.fail("disallowed character."),r}getCode11(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return p;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>31&&i<127||i>159&&i!==Ct||i===vt)return i;switch(i){case dt:return this.line++,this.column=0,this.positionAtNewLine=this.position,dt;case lt:{const i=t.charCodeAt(n+1);i!==dt&&i!==It||(this.i=n+2)}case It:case Ct:return this.line++,this.column=0,this.positionAtNewLine=this.position,m;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const r=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,r>1114111&&this.fail("disallowed character."),r}getCodeNorm(){const t=this.getCode();return t===m?dt:t}unget(){this.i=this.prevI,this.column--}captureTo(t){let{i:n}=this;const{chunk:i}=this;for(;;){const r=this.getCode(),e=r===m,u=e?dt:r;if(u===p||t.includes(u))return this.text+=i.slice(n,this.prevI),u;e&&(this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i)}}captureToChar(t){let{i:n}=this;const{chunk:i}=this;for(;;){let r=this.getCode();switch(r){case m:this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i,r=dt;break;case p:return this.text+=i.slice(n),!1}if(r===t)return this.text+=i.slice(n,this.prevI),!0}}captureNameChars(){const{chunk:t,i:n}=this;for(;;){const i=this.getCode();if(i===p)return this.name+=t.slice(n),p;if(!u(i))return this.name+=t.slice(n,this.prevI),i===m?dt:i}}skipSpaces(){for(;;){const t=this.getCodeNorm();if(t===p||!i(t))return t}}setXMLVersion(t){this.currentXMLVersion=t,"1.0"===t?(this.isChar=r,this.getCode=this.getCode10):(this.isChar=c,this.getCode=this.getCode11)}sBegin(){65279===this.chunk.charCodeAt(0)&&(this.i++,this.column++),this.state=b}sBeginWhitespace(){const t=this.i,n=this.skipSpaces();switch(this.prevI!==t&&(this.xmlDeclPossible=!1),n){case kt:if(this.state=F,0!==this.text.length)throw new h("no-empty text at start");break;case p:break;default:this.unget(),this.state=P,this.xmlDeclPossible=!1}}sDoctype(){var t;const n=this.captureTo(Nt);switch(n){case Tt:null===(t=this.doctypeHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=P,this.doctype=!0;break;case p:break;default:this.text+=String.fromCodePoint(n),n===St?this.state=S:Dt(n)&&(this.state=E,this.q=n)}}sDoctypeQuote(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.q=null,this.state=T)}sDTD(){const t=this.captureTo(Ot);t!==p&&(this.text+=String.fromCodePoint(t),t===Rt?this.state=T:t===kt?this.state=I:Dt(t)&&(this.state=R,this.q=t))}sDTDQuoted(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.state=S,this.q=null)}sDTDOpenWaka(){const t=this.getCodeNorm();switch(this.text+=String.fromCodePoint(t),t){case yt:this.state=C,this.openWakaBang="";break;case Et:this.state=O;break;default:this.state=S}}sDTDOpenWakaBang(){const t=String.fromCodePoint(this.getCodeNorm()),n=this.openWakaBang+=t;this.text+=t,"-"!==n&&(this.state="--"===n?D:S,this.openWakaBang="")}sDTDComment(){this.captureToChar(_t)&&(this.text+="-",this.state=A)}sDTDCommentEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),this.state=t===_t?N:D}sDTDCommentEnded(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===Tt?this.state=S:(this.fail("malformed comment."),this.state=D)}sDTDPI(){this.captureToChar(Et)&&(this.text+="?",this.state=x)}sDTDPIEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===Tt&&(this.state=S)}sText(){0!==this.tags.length?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:t}=this;const{chunk:n}=this;t:for(;;)switch(this.getCode()){case m:this.entity+=`${n.slice(t,this.prevI)}\n`,t=this.i;break;case mt:{const{entityReturnState:i}=this,r=this.entity+n.slice(t,this.prevI);let e;this.state=i,""===r?(this.fail("empty entity name."),e="&;"):(e=this.parseEntity(r),this.entity=""),i===P&&void 0===this.textHandler||(this.text+=e);break t}case p:this.entity+=n.slice(t);break t}}sOpenWaka(){const t=this.getCode();if(e(t))this.state=nt,this.unget(),this.xmlDeclPossible=!1;else switch(t){case pt:this.state=ft,this.xmlDeclPossible=!1;break;case yt:this.state=M,this.openWakaBang="",this.xmlDeclPossible=!1;break;case Et:this.state=W;break;default:this.fail("disallowed character in tag name"),this.state=P,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=q,this.openWakaBang="";break;case"--":this.state=B,this.openWakaBang="";break;case"DOCTYPE":this.state=T,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(_t)&&(this.state=U)}sCommentEnding(){var t;const n=this.getCodeNorm();n===_t?(this.state=V,null===(t=this.commentHandler)||void 0===t||t.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(n)}`,this.state=B)}sCommentEnded(){const t=this.getCodeNorm();t!==Tt?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(t)}`,this.state=B):this.state=P}sCData(){this.captureToChar(Rt)&&(this.state=j)}sCDataEnding(){const t=this.getCodeNorm();t===Rt?this.state=H:(this.text+=`]${String.fromCodePoint(t)}`,this.state=q)}sCDataEnding2(){var t;const n=this.getCodeNorm();switch(n){case Tt:null===(t=this.cdataHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=P;break;case Rt:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(n)}`,this.state=q}}sPIFirstChar(){const t=this.getCodeNorm();this.nameStartCheck(t)?(this.piTarget+=String.fromCodePoint(t),this.state=$):t===Et||i(t)?(this.fail("processing instruction without a target."),this.state=t===Et?X:z):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(t),this.state=$)}sPIRest(){const{chunk:t,i:n}=this;for(;;){const r=this.getCodeNorm();if(r===p)return void(this.piTarget+=t.slice(n));if(!this.nameCheck(r)){this.piTarget+=t.slice(n,this.prevI);const e=r===Et;e||i(r)?"xml"===this.piTarget?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=e?tt:G):this.state=e?X:z:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(r));break}}}sPIBody(){if(0===this.text.length){const t=this.getCodeNorm();t===Et?this.state=X:i(t)||(this.text=String.fromCodePoint(t))}else this.captureToChar(Et)&&(this.state=X)}sPIEnding(){var t;const n=this.getCodeNorm();if(n===Tt){const{piTarget:n}=this;"xml"===n.toLowerCase()&&this.fail("the XML declaration must appear at the start of the document."),null===(t=this.piHandler)||void 0===t||t.call(this,{target:n,body:this.text}),this.piTarget=this.text="",this.state=P}else n===Et?this.text+="?":(this.text+=`?${String.fromCodePoint(n)}`,this.state=z);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const t=this.skipSpaces();t!==Et?t!==p&&(this.state=Y,this.name=String.fromCodePoint(t)):this.state=tt}sXMLDeclName(){const t=this.captureTo(xt);if(t===Et)return this.state=tt,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(i(t)||t===bt){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=t===bt?J:K}}sXMLDeclEq(){const t=this.getCodeNorm();if(t===Et)return this.state=tt,void this.fail("XML declaration is incomplete.");i(t)||(t!==bt&&this.fail("value required."),this.state=J)}sXMLDeclValueStart(){const t=this.getCodeNorm();if(t===Et)return this.state=tt,void this.fail("XML declaration is incomplete.");i(t)||(Dt(t)?this.q=t:(this.fail("value must be quoted."),this.q=wt),this.state=Q)}sXMLDeclValue(){const t=this.captureTo([this.q,Et]);if(t===Et)return this.state=tt,this.text="",void this.fail("XML declaration is incomplete.");if(t===p)return;const n=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const t=n;this.xmlDecl.version=t,/^1\.[0-9]+$/.test(t)?this.opt.forceXMLVersion||this.setXMLVersion(t):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(n)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=n;break;case"standalone":"yes"!==n&&"no"!==n&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=n}this.name="",this.state=Z}sXMLDeclSeparator(){const t=this.getCodeNorm();t!==Et?(i(t)||(this.fail("whitespace required."),this.unget()),this.state=G):this.state=tt}sXMLDeclEnding(){var t;this.getCodeNorm()===Tt?("xml"!==this.piTarget?this.fail("processing instructions are not allowed before root."):"version"!==this.name&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),null===(t=this.xmldeclHandler)||void 0===t||t.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=P):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var t;const n=this.captureNameChars();if(n===p)return;const r=this.tag={name:this.name,attributes:d.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=r.ns=d.create(null)),null===(t=this.openTagStartHandler)||void 0===t||t.call(this,r),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),n){case Tt:this.openTag();break;case pt:this.state=it;break;default:i(n)||this.fail("disallowed character in tag name."),this.state=rt}}sOpenTagSlash(){this.getCode()===Tt?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=rt)}sAttrib(){const t=this.skipSpaces();t!==p&&(e(t)?(this.unget(),this.state=et):t===Tt?this.openTag():t===pt?this.state=it:this.fail("disallowed character in attribute name."))}sAttribName(){const t=this.captureNameChars();t===bt?this.state=st:i(t)?this.state=ut:t===Tt?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):t!==p&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const t=this.skipSpaces();switch(t){case p:return;case bt:this.state=st;break;default:this.fail("attribute without value."),this.text="",this.name="",t===Tt?this.openTag():e(t)?(this.unget(),this.state=et):(this.fail("disallowed character in attribute name."),this.state=rt)}}sAttribValue(){const t=this.getCodeNorm();Dt(t)?(this.q=t,this.state=ot):i(t)||(this.fail("unquoted attribute value."),this.state=at,this.unget())}sAttribValueQuoted(){const{q:t,chunk:n}=this;let{i:i}=this;for(;;)switch(this.getCode()){case t:return this.pushAttrib(this.name,this.text+n.slice(i,this.prevI)),this.name=this.text="",this.q=null,void(this.state=ct);case gt:return this.text+=n.slice(i,this.prevI),this.state=L,void(this.entityReturnState=ot);case dt:case m:case vt:this.text+=`${n.slice(i,this.prevI)} `,i=this.i;break;case kt:return this.text+=n.slice(i,this.prevI),void this.fail("disallowed character.");case p:return void(this.text+=n.slice(i))}}sAttribValueClosed(){const t=this.getCodeNorm();i(t)?this.state=rt:t===Tt?this.openTag():t===pt?this.state=it:e(t)?(this.fail("no whitespace between attributes."),this.unget(),this.state=et):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const t=this.captureTo(Pt);switch(t){case gt:this.state=L,this.entityReturnState=at;break;case kt:this.fail("disallowed character.");break;case p:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",t===Tt?this.openTag():this.state=rt}}sCloseTag(){const t=this.captureNameChars();t===Tt?this.closeTag():i(t)?this.state=ht:t!==p&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case Tt:this.closeTag();break;case p:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:t,forbiddenState:n}=this;const{chunk:i,textHandler:r}=this;t:for(;;)switch(this.getCode()){case kt:if(this.state=F,void 0!==r){const{text:n}=this,e=i.slice(t,this.prevI);0!==n.length?(r(n+e),this.text=""):0!==e.length&&r(e)}n=Bt;break t;case gt:this.state=L,this.entityReturnState=P,void 0!==r&&(this.text+=i.slice(t,this.prevI)),n=Bt;break t;case Rt:switch(n){case Bt:n=Ut;break;case Ut:n=Vt;break;case Vt:break;default:throw new h("impossible state")}break;case Tt:n===Vt&&this.fail('the string "]]>" is disallowed in char data.'),n=Bt;break;case m:void 0!==r&&(this.text+=`${i.slice(t,this.prevI)}\n`),t=this.i,n=Bt;break;case p:void 0!==r&&(this.text+=i.slice(t));break t;default:n=Bt}this.forbiddenState=n}handleTextOutsideRoot(){let{i:t}=this;const{chunk:n,textHandler:r}=this;let e=!1;t:for(;;){const u=this.getCode();switch(u){case kt:if(this.state=F,void 0!==r){const{text:i}=this,e=n.slice(t,this.prevI);0!==i.length?(r(i+e),this.text=""):0!==e.length&&r(e)}break t;case gt:this.state=L,this.entityReturnState=P,void 0!==r&&(this.text+=n.slice(t,this.prevI)),e=!0;break t;case m:void 0!==r&&(this.text+=`${n.slice(t,this.prevI)}\n`),t=this.i;break;case p:void 0!==r&&(this.text+=n.slice(t));break t;default:i(u)||(e=!0)}}e&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(t,n){var i;const{prefix:r,local:e}=this.qname(t),u={name:t,prefix:r,local:e,value:n};if(this.attribList.push(u),null===(i=this.attributeHandler)||void 0===i||i.call(this,u),"xmlns"===r){const t=n.trim();"1.0"===this.currentXMLVersion&&""===t&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[e]=t,Lt(this,e,t)}else if("xmlns"===t){const t=n.trim();this.topNS[""]=t,Lt(this,"",t)}}pushAttribPlain(t,n){var i;const r={name:t,value:n};this.attribList.push(r),null===(i=this.attributeHandler)||void 0===i||i.call(this,r)}end(){var t,n;this.sawRoot||this.fail("document must contain a root element.");const{tags:i}=this;for(;i.length>0;){const t=i.pop();this.fail(`unclosed tag: ${t.name}`)}this.state!==k&&this.state!==P&&this.fail("unexpected end.");const{text:r}=this;return 0!==r.length&&(null===(t=this.textHandler)||void 0===t||t.call(this,r),this.text=""),this.ka=!0,null===(n=this.endHandler)||void 0===n||n.call(this),this._init(),this}resolve(t){var n,i;let r=this.topNS[t];if(void 0!==r)return r;const{tags:e}=this;for(let n=e.length-1;n>=0;n--)if(void 0!==(r=e[n].ns[t]))return r;return void 0!==(r=this.ns[t])?r:null===(i=(n=this.opt).resolvePrefix)||void 0===i?void 0:i.call(n,t)}qname(t){const n=t.indexOf(":");if(-1===n)return{prefix:"",local:t};const i=t.slice(n+1),r=t.slice(0,n);return(""===r||""===i||i.includes(":"))&&this.fail(`malformed name: ${t}.`),{prefix:r,local:i}}processAttribsNS(){var t;const{attribList:n}=this,i=this.tag;{const{prefix:n,local:r}=this.qname(i.name);i.prefix=n,i.local=r;const e=i.uri=null!==(t=this.resolve(n))&&void 0!==t?t:"";""!==n&&("xmlns"===n&&this.fail('tags may not have "xmlns" as prefix.'),""===e&&(this.fail(`unbound namespace prefix: ${JSON.stringify(n)}.`),i.uri=n))}if(0===n.length)return;const{attributes:r}=i,e=new Set;for(const t of n){const{name:n,prefix:i,local:u}=t;let s,o;""===i?(s="xmlns"===n?y:"",o=n):(void 0===(s=this.resolve(i))&&(this.fail(`unbound namespace prefix: ${JSON.stringify(i)}.`),s=i),o=`{${s}}${u}`),e.has(o)&&this.fail(`duplicate attribute: ${o}.`),e.add(o),t.uri=s,r[n]=t}this.attribList=[]}processAttribsPlain(){const{attribList:t}=this,n=this.tag.attributes;for(const{name:i,value:r}of t)void 0!==n[i]&&this.fail(`duplicate attribute: ${i}.`),n[i]=r;this.attribList=[]}openTag(){var t;this.processAttribs();const{tags:n}=this,i=this.tag;i.isSelfClosing=!1,null===(t=this.openTagHandler)||void 0===t||t.call(this,i),n.push(i),this.state=P,this.name=""}openSelfClosingTag(){var t,n,i;this.processAttribs();const{tags:r}=this,e=this.tag;e.isSelfClosing=!0,null===(t=this.openTagHandler)||void 0===t||t.call(this,e),null===(n=this.closeTagHandler)||void 0===n||n.call(this,e),null===(this.tag=null!==(i=r[r.length-1])&&void 0!==i?i:null)&&(this.closedRoot=!0),this.state=P,this.name=""}closeTag(){const{tags:t,name:n}=this;if(this.state=P,this.name="",""===n)return this.fail("weird empty close tag."),void(this.text+="</>");const i=this.closeTagHandler;let r=t.length;for(;r-- >0;){const r=this.tag=t.pop();if(this.topNS=r.ns,null==i||i(r),r.name===n)break;this.fail("unexpected close tag.")}0===r?this.closedRoot=!0:r<0&&(this.fail(`unmatched closing tag: ${n}.`),this.text+=`</${n}>`)}parseEntity(t){if("#"!==t[0]){const n=this.ENTITIES[t];return void 0!==n?n:(this.fail(this.isName(t)?"undefined entity.":"disallowed character in entity name."),`&${t};`)}let n=NaN;return"x"===t[1]&&/^#x[0-9a-f]+$/i.test(t)?n=w(t.slice(2),16):/^#[0-9]+$/.test(t)&&(n=w(t.slice(1),10)),this.isChar(n)?String.fromCodePoint(n):(this.fail("malformed character entity."),`&${t};`)}}}),dE=function(){function t(){}return t.prototype.ru=function(t){var n=new vE.SaxesParser({xmlns:!0,defaultXMLVersion:"1.0",forceXMLVersion:!0}),i=new mE,r=[i];function e(t){r[r.length-1]._u(t)}return n.on("text",function(t){r.length>1&&e(new _E(t))}),n.on("cdata",function(t){e(new pE(t))}),n.on("opentag",function(t){for(var n=t.local,i=t.uri,u=t.prefix,s=new yE({ou:n,au:""===i?void 0:i,DF:""===u?void 0:u}),o=t.attributes,c=0,a=d.keys(o);c<a.length;c++){var f=o[a[c]],h=f.prefix,v=f.local,l=f.uri,w=f.value,y=new lE({ou:v,hu:w,au:""===l?void 0:l,DF:""===h?void 0:h});s.AF(y)}e(s),r.push(s)}),n.on("closetag",function(){r.pop()}),n.on("error",function(t){throw new on(t)}),n.write(t).close(),i},t}(),lE=function(){function t(t){this.NF=void 0,this.OF=void 0,this.xF=void 0,this.En=void 0,this.NF=t.ou,this.En=t.hu,this.OF=t.au,this.xF=t.DF}var n=t.prototype;return n.uu=function(t){return this===t||!!bE(this,t)&&(this.NF===t.NF&&this.OF===t.OF&&this.xF===t.xF&&this.En===t.En)},n.su=function(){return new t({ou:this.ou,hu:this.hu,au:this.au,DF:this.fu})},H(t,[{key:"Je",get:function(){return nn.Ze}},{key:"ou",get:function(){return this.NF}},{key:"cu",get:function(){return void 0===this.xF?this.NF:this.xF+":"+this.NF}},{key:"au",get:function(){return this.OF}},{key:"fu",get:function(){return this.xF}},{key:"hu",get:function(){return this.En}}]),t}(),wE=function(){function t(){this.du=[]}var n=t.prototype;return n.lu=function(t){return this.du.filter(function(n){return kE(n)&&n.yu===t})},n.gu=function(t,n){return this.du.filter(function(i){return kE(i)&&i.ou===n&&i.au===t})},n._u=function(t){this.du.push(t)},H(t,[{key:"wu",get:function(){return this.du}},{key:"mu",get:function(){return this.du.filter(kE)}}]),t}(),yE=function(t){function n(n){var i;return(i=t.call(this)||this).NF=void 0,i.OF=void 0,i.xF=void 0,i.PF=[],i.NF=n.ou,i.OF=n.au,i.xF=n.DF,i}$(n,t);var i=n.prototype;return i.LF=function(t){for(var n=0,i=this.wu;n<i.length;n++){var r=i[n];kE(r)?r.LF(t):t.push(r.Du)}},i.bu=function(t,n){for(var i=0,r=this.PF;i<r.length;i++){var e=r[i];if(e.ou===n&&e.au===t)return e.hu}},i.ku=function(t){for(var n=0,i=this.PF;n<i.length;n++){var r=i[n];if(r.cu===t)return r.hu}},i.AF=function(t){this.PF.push(t)},i.Tu=function(t){for(var n=0;n<this.PF.length;n++)if(this.PF[n].cu===t)return void this.PF.splice(n,1)},i.Eu=function(t,n){for(var i=0;i<this.PF.length;i++)if(this.PF[i].ou===n&&this.PF[i].au===t)return void this.PF.splice(i,1)},i.Su=function(t,n){this.Tu(t),this.AF(new lE({ou:t,hu:n}))},i.Ru=function(t,n,i){this.Tu(n);var r=n.split(":");this.AF(new lE({ou:r[r.length-1],hu:i,au:t,DF:r.length>1?r[0]:void 0}))},i.su=function(t){var i=new n({ou:this.ou,au:this.au,DF:this.fu});return this.Iu.forEach(function(t){return i.AF(t.su())}),t&&this.wu.forEach(function(n){return i._u(n.su(t))}),i},i.uu=function(t){return this===t||!!bE(this,t)&&(this.NF===t.NF&&this.xF===t.xF&&this.OF===t.OF&&(TE(this.Iu,t.Iu)&&TE(this.wu,t.wu)))},H(n,[{key:"Je",get:function(){return nn.Qe}},{key:"Iu",get:function(){return this.PF}},{key:"ou",get:function(){return this.NF}},{key:"au",get:function(){return this.OF}},{key:"fu",get:function(){return this.xF}},{key:"yu",get:function(){return void 0===this.xF?this.NF:this.xF+":"+this.NF}},{key:"Cu",get:function(){var t=[];return this.LF(t),t.join("")}}]),n}(wE),gE=function(){function t(t){this.zi=void 0,this.zi=t}return H(t,[{key:"Du",get:function(){return this.zi}}]),t}(),_E=function(t){function n(n){return t.call(this,n)||this}$(n,t);var i=n.prototype;return i.su=function(){return new n(this.Du)},i.uu=function(t){return this===t||!!bE(this,t)&&this.Du===t.Du},H(n,[{key:"Je",get:function(){return nn.tu}}]),n}(gE),pE=function(t){function n(n){return t.call(this,n)||this}$(n,t);var i=n.prototype;return i.su=function(){return new n(this.Du)},i.uu=function(t){return this===t||!!bE(this,t)&&this.Du===t.Du},H(n,[{key:"Je",get:function(){return nn.nu}}]),n}(gE),mE=function(t){function n(){return t.apply(this,arguments)||this}$(n,t);var i=n.prototype;return i.su=function(t){var i=new n;return t&&this.wu.forEach(function(n){return i._u(n.su(t))}),i},i.uu=function(t){return this===t||!!bE(this,t)&&TE(this.wu,t.wu)},H(n,[{key:"Je",get:function(){return nn.iu}},{key:"Au",get:function(){return this.mu[0]}}]),n}(wE);function kE(t){return rn(t)}function bE(t,n){return t.Je===n.Je}function TE(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++)if(!t[i].uu(n[i]))return!1;return!0}function EE(t){return void 0===t.adBreak||void 0===t.adBreak.ads?t:te({},t,{adBreak:te({},t.adBreak,{ads:t.adBreak.ads.map(function(t){t.adBreak;return Wy(t,["adBreak"])})})})}function SE(t){return void 0===t.ads?t:te({},t,{ads:t.ads.map(function(t){t.adBreak;return Wy(t,["adBreak"])})})}function RE(t){return"string"==typeof t.date?new Date(t.date):t.date}function IE(t){var n;return t.cue.track?(n=DE(t.cue,t.cue.track.type)).track={uid:t.cue.track.uid}:n=DE(t.cue,""),n}function CE(t){var n=[];return function t(i){if(Array.isArray(i))return i.map(t);if("object"==typeof i&&null!==i){if(n.includes(i))return"[Circular ~]";n.push(i);var r=d.entries(i);return d.fromEntries(r.map(function(i){var r=i[0],e=i[1],u=t(e);return"object"==typeof e&&null!==e&&"[Circular ~]"!==u&&n.pop(e),[r,u]}))}return i}(t)}function DE(t,n){var i={};return i.content=t.content,i.endTime=t.endTime,i.startTime=t.startTime,i.id=t.id,i.uid=t.uid,function(){switch(n){case"webvtt":i.align=t.align,i.line=t.line,i.lineAlign=t.lineAlign,i.position=t.position,i.positionAlign=t.positionAlign,i.region=t.region,i.size=t.size,i.snapToLines=t.snapToLines,i.text=t.text,i.vertical=t.vertical;break;case"ttml":i.content=function t(n){var i=n.children;if(0!==i.length)for(var r=0;r<i.length;r++){var e=i.item(r);return"image"===e.nodeName||"smpte:image"===e.nodeName?e:t(e)}}(t.content).innerHTML;for(var r=t.content,e={};r.firstChild&&r.firstChild.outerHTML;){(new dE).ru(r.firstChild.outerHTML).Au.Iu.forEach(function(t){e[t.ou]=t.hu}),r=r.firstChild}i.ttmlAttributes=e;break;case"daterange":var u={};for(var s in t.customAttributes){var o=t.customAttributes[s];if("object"==typeof(a=o)&&null!==a){var c=AE(o);u[s]={type:cE.FF,value:c}}else OE(o)?u[s]={type:cE.MF,value:o}:u[s]={type:cE.BF,value:String(o)}}i.attributedClass=String(t.class),i.startDate=t.startDate,i.endDate=t.endDate,i.duration=t.duration,i.plannedDuration=t.plannedDuration,i.endOnNext=t.endOnNext,i.scte35Cmd=AE(t.scte35Cmd),i.scte35Out=AE(t.scte35Out),i.scte35In=AE(t.scte35In),i.customAttributes=u}var a}(),i}function AE(t){if(void 0!==t)return wu(t)}function NE(t){var n={};if(n.kind=t.kind,n.language=t.language,n.label=t.label,n.id=t.id,n.uid=t.uid,n.src=t.src,"cues"in t){n.inBandMetadataTrackDispatchType=t.inBandMetadataTrackDispatchType,n.mode=t.mode,n.type=t.type;var i=[];if(t.cues)for(var r=0;r<t.cues.length;r++){var e=t.cues[r];i.push(DE(e,t.type))}n.cues=i;var u=[];if(t.activeCues)for(var s=0;s<t.activeCues.length;s++){var o=t.activeCues[s];u.push(DE(o,t.type))}n.activeCues=u}else"enabled"in t&&(n.enabled=t.enabled);return n}function OE(t){return"number"==typeof t}!function(t){t.BF="daterange-ca-type_string",t.MF="daterange-ca-type_number",t.FF="daterange-ca-type_arraybuffer"}(cE||(cE={}));var xE={cue:function(t){var n={};switch(n.date=RE(t),n.type=t.type,t.type){case"enter":case"exit":case"update":n.cue=IE(t)}return n},textTrack:function(t){var n={};switch(n.date=RE(t),n.type=t.type,t.type){case"addcue":t.cue.uid||(t.cue.uid=ME().register(t.cue));var i=FE()[BE()].eventListeners;t.cue.addEventListener("enter",function(t){i.InternalCueHelperEvent(t)}),t.cue.addEventListener("exit",function(t){i.InternalCueHelperEvent(t)}),t.cue.addEventListener("update",function(t){i.InternalCueHelperEvent(t)});case"removecue":case"entercue":case"exitcue":n.cue=IE(t);break;case"cuechange":for(var r=[],e=0;e<t.track.activeCues.length;e++){var u=t.track.activeCues[e];r.push(DE(u,t.track.type))}n.track={activeCues:r,uid:t.track.uid}}return n},textTrackList:function(t){var n={};switch(n.date=RE(t),n.type=t.type,t.type){case"addtrack":t.track.cues&&t.track.cues.length&&t.track.cues.length>0&&t.track.cues.map(function(t){t.uid=ME().register(t)}),n.track=NE(t.track);case"removetrack":case"change":n.track=NE(t.track)}return n},default:function(t){var n={};switch(n.date=RE(t),n.type=t.type,t.type){case"play":case"playing":case"pause":case"seeking":case"seeked":case"ended":case"waiting":case"emptied":n.currentTime=t.currentTime;break;case"timeupdate":n.currentTime=t.currentTime,n.currentProgramDateTime=t.currentProgramDateTime;break;case"progress":n.currentTime=t.currentTime;break;case"ratechange":n.currentTime=t.currentTime,n.playbackRate=t.playbackRate;break;case"durationchange":n.duration=t.duration;break;case"sourcechange":n.source=t.source;break;case"readystatechange":case"loadedmetadata":case"loadeddata":case"loadstart":case"canplay":case"canplaythrough":n.currentTime=t.currentTime,n.readyState=t.readyState;break;case"error":n.error=t.error,n.errorObject=te({name:t.errorObject.name,cause:t.errorObject.cause},t.errorObject);break;case"addtrack":case"removetrack":case"change":n.track=NE(t.track);break;case"adbreakbegin":case"adbreakend":n.ad=SE(t.ad);break;case"adloaded":case"adimpression":n.ad=EE(t.ad);break;case"aderror":t.UF&&(n.UF=t.UF),t.message&&(n.message=t.message);break;case"statechange":n.state=t.state;break;case"presentationmodechange":case"resize":break;case"adfirstquartile":case"admidpoint":case"adthirdquartile":case"adbegin":case"adend":n.currentTime=t.currentTime,n.ad=EE(t.ad)}return CE(n)},minimizeCueHelper:function(t){var n={};return n.date=RE(t),n.type=t.type,n.cue=IE(t),n.track={uid:t.cue.track.uid},n},adReplacer:EE,adBreakReplacer:SE,removeCircularReferences:CE},PE=function(){this.stringify=oE,this.minimize=xE};function LE(){return S.self}function FE(){return LE().THEOplayerBridge}function ME(){return LE().THEOCueMirrorMap}function BE(){return LE().THEOplayerGlobalID}function UE(){var t=LE();if(t.THEOplayerBridge){var n=new rE;t.THEOplayerBridge=xv(n,t.THEOplayerBridge)}else t.THEOplayerBridge=new rE;t.THEOplayerUtils||(t.THEOplayerUtils=new PE),t.THEOCueMirrorMap||(t.THEOCueMirrorMap=new eE)}UE();var VE=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n.prototype.ru=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new on(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new on;return new qE(n)},n}(cn),qE=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n.prototype.su=function(t){return new n(this.vu.cloneNode(t))},H(n,[{key:"wu",get:function(){return void 0===this.du&&(this.du=WE(this.vu.childNodes)),this.du}},{key:"Au",get:function(){return new jE(this.vu.documentElement)}}]),n}(wn),jE=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n.prototype.su=function(t){var i=new n(this.vu.cloneNode(t));return i.Iu.length<1&&this.Iu.length>0&&this.Iu.forEach(function(t){i.Su(t.cu,t.hu)}),i},H(n,[{key:"wu",get:function(){return void 0===this.du&&(this.du=WE(this.vu.childNodes)),this.du}}]),n}(hn);function HE(t){switch(t.nodeType){case nn.Qe:return new jE(t)}return gn(t)}function WE(t){for(var n=[],i=0;i<t.length;i++){var r=HE(t.item(i));r&&n.push(r)}return n}O(new(function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).VF=new VE,n}return $(n,t),n.prototype.ru=function(t){return this.VF.ru(t)},n}(_v)));var $E=function(t){function n(n){var i;(i=t.call(this)||this).qF=[],i.jF=function(t){i.bl(t.Kd)},i.HF=function(t){var n=t.Kd;i.WF(n)||i.Tl(n)};for(var r=0;r<n.length;r++){var e=n[r];i.zF(e)}return i}$(n,t);var i=n.prototype;return i.zF=function(t){this.qF.push(t);for(var n=0,i=t.Rl;n<i.length;n++){var r=i[n];this.bl(r)}this.XF(t)},i.GF=function(t){Ae(this.qF,t),this.YF(t);for(var n=0,i=t.Rl;n<i.length;n++){var r=i[n];this.WF(r)||this.Tl(r)}},i.WF=function(t){for(var n=0,i=this.qF;n<i.length;n++){if(i[n].El(t))return!0}return!1},i.XF=function(t){t.Fo(yv.Hd,this.jF),t.Fo(yv.$d,this.HF)},i.YF=function(t){t.Vo(yv.Hd,this.jF),t.Vo(yv.$d,this.HF)},i.sr=function(){for(;this.qF.length>0;)this.GF(this.qF[0]);t.prototype.sr.call(this)},i.Yd=function(){return nd(this)},n}(Iv),zE=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).type=n,r.detail=i,r}return $(n,t),n}(Ze),XE=function(t){function n(){return t.apply(this,arguments)||this}$(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.Lo(new zE(t,n))},i.addEventListener=function(t,n){this.Fo(t,n)},i.removeEventListener=function(t,n){this.Vo(t,n)},n}(ud);function GE(t,n){return t.U_<=n&&t.V_>n}function YE(t,n){return function(t,n){return ol(t.U_,n.U_,nw)}(t,n)||function(t,n){return ol(t.V_,n.V_,nw)}(t,n)}function KE(t,n){var i=function(t,n,i,r,e,u,s){void 0===e&&(e=!1),void 0===u&&(u=0),void 0===s&&(s=t.length);for(var o=u,c=s-1;o<=c;){var a=o+(c-o>>1),f=r(i(t[a]),n);if(f<0)o=a+1;else if(f>0)c=a-1;else{if(!(e&&a>u&&0===r(i(t[a-1]),n)))return a;c=a-1}}return~o}(t,n,L,YE,!0);if(i<0)return i;for(;i<t.length&&YE(n,t[i])===Zd.Hw;i++)if(t[i].ty(n))return i;return-(i+1)}function JE(t){var n=t.Kd;if(!n)return-1;if(t instanceof iw)return n.KF(t);var i=n.Jl;if(!i)return-1;var r=KE(i.Rl,t);return r>=0?r:-1}var QE=function(t){function n(n,i){var r;return(r=t.call(this,Xl.P_,n)||this).Wy=i,r}return $(n,t),n.prototype.Yd=function(){return new ZE(this.B_.Gd)},n}(Jl),ZE=function(t){function n(n){return t.call(this,Gl.P_,n)||this}return $(n,t),n}(Ql),tS=function(t){function n(n,i){var r;return(r=t.call(this,Xl.F_,n)||this).Wy=i,r}return $(n,t),n.prototype.Yd=function(){return new nS(this.B_.Gd)},n}(Jl),nS=function(t){function n(n){return t.call(this,Gl.F_,n)||this}return $(n,t),n}(Ql),iS=function(t){function n(n){var i;return(i=t.call(this,mv.nl)||this).B_=n,i}return $(n,t),n.prototype.Yd=function(){return new rS(this.B_.Gd)},n}(kv),rS=function(t){function n(n){var i;return(i=t.call(this,"entercue")||this).cue=n,i}return $(n,t),n}(bv),eS=function(t){function n(n){var i;return(i=t.call(this,mv.ul)||this).B_=n,i}return $(n,t),n.prototype.Yd=function(){return new uS(this.B_.Gd)},n}(kv),uS=function(t){function n(n){var i;return(i=t.call(this,"exitcue")||this).cue=n,i}return $(n,t),n}(bv),sS=function(t){function n(n){var i;return(i=t.call(this,mv.ol)||this).Kd=n,i}return $(n,t),n.prototype.Yd=function(){return new oS(this.Kd.Gd)},n}(kv),oS=function(t){function n(n){var i;return(i=t.call(this,"cuechange")||this).track=n,i}return $(n,t),n}(bv);function cS(t,n){return sl(t.Wy,n.Wy)||function(t,n){return t.Kd===n.Kd?ul(JE(t),JE(n)):Dy(t.Kd,n.Kd)}(t.B_,n.B_)||function(t,n){return t===n?Zd.Hw:t===Xl.P_?Zd.$w:Zd.Ww}(t.type,n.type)}var aS=function(){function t(t,n){var i=this;this.hC=void 0,this.JF=void 0,this.Pg=[],this.QF=0,this.ZF=0,this.tM=[],this.nM=!1,this.iM=!1,this.rM=void 0,this.eM=function(){i.QF=0,i.uM(),i.sM()},this.oM=function(){i.uM(),i.sM()},this.cM=function(){i.iM=!0,i.rM=i.hC.Ow,i.aM()},this.fM=function(){i.uM(),i.sM()},this.hM=function(){i.vM(),i.uM(),i.sM()},this.dM=function(){i.lM()},this.wM=function(t){Ae(i.tM,t.B_),i.lM()},this.JF=n,this.hC=t,t.Fo(to.mf,this.oM),t.Fo(to.sf,this.oM),t.Fo(Dd.Nw,this.oM),t.Fo(to.uf,this.oM),t.Fo(to.df,this.cM),t.Fo(to.vf,this.fM),this.lM()}var n=t.prototype;return n.Sl=function(){xe(this.tM);for(var t=0,n=this.Pg.slice();t<n.length;t++){var i=n[t];this.Tl(i)}this.aM(),this.QF=0,this.ZF=0,this.nM=!1,this.iM=!1,this.rM=void 0},n.bl=function(t){Oe(this.Pg,t)||(this.Pg.push(t),t.Fo(mv.Jd,this.dM),t.Fo(mv.Zd,this.wM),t.Fo(mv.al,this.hM),t.Jl.Il&&this.lM(),this.vM())},n.Tl=function(t){if(Ae(this.Pg,t)){if(t.Vo(mv.Jd,this.dM),t.Vo(mv.Zd,this.wM),t.Vo(mv.al,this.hM),t.Jl.Il){for(var n=0,i=t.Jl.Rl;n<i.length;n++){var r=i[n];Ae(this.tM,r)}this.lM()}this.vM()}},n.vM=function(){this.nM=this.Pg.some(function(t){return t.zl!==Yv.Yl})},n.sM=function(){this.hC.Uw||this.hC.Mw?this.aM():this.lM()},n.lM=function(){this.nM&&(this.QF||(this.QF=this.JF._r(this.eM)))},n.aM=function(){this.QF&&(this.JF.yM(this.QF),this.QF=0)},n.uM=function(){var t;if(this.nM&&!this.hC.Uw){var n=this.Pg,i=this.ZF,r=null!=(t=this.rM)?t:this.hC.Ow,e=r-i<-.1,u=this.iM||e;u&&r>i&&r-i<.1&&(u=!1),this.iM=!1,this.rM=void 0;for(var s,o=[],c=0;c<n.length;c++){var a=n[c];if(a.zl!==Yv.Yl){a.gM(r,u);for(var f=0,h=a.Ql.Rl;f<h.length;f++){var v=h[f];o.push(v)}}}if(u)s=this.tM;else{s=[];for(var d=0;d<n.length;d++){var w=n[d];w.zl!==Yv.Yl&&Cy(w,i-1/6,r,s)}}for(var y=s.length-1;y>=0;y--)Oe(o,s[y])&&Ne(s,y);var g=[];if(!u)for(var _=s.length-1;_>=0;_--){var p=s[_];p.U_>=i&&p.V_<=r&&(g.push(p),Ne(s,_))}for(var m=[],k=[],b=0;b<g.length;b++){var T=g[b];T.J_||m.push(new QE(T,T.U_)),m.push(new tS(T,l.max(T.U_,T.V_)))}for(var E=0,S=s;E<S.length;E++){var R=S[E];R.J_&&(m.push(new tS(R,l.max(R.U_,R.V_))),R.J_=!1)}for(var I=0;I<o.length;I++){var C=o[I];C.J_||(m.push(new QE(C,C.U_)),C.J_=!0)}m.sort(cS);for(var D=0;D<m.length;D++){var A=m[D],N=A.B_;N.Lo(A);var O=N.Kd;O&&(A.type===Xl.P_?O.Lo(new iS(N)):O.Lo(new eS(N)),Oe(k,O)||k.push(O))}k.sort(Dy);for(var x=0;x<k.length;x++){var P=k[x];P.Lo(new sS(P))}this.ZF=r,this.tM=o}},n.sr=function(){this.Sl(),this.hC.Vo(to.mf,this.oM),this.hC.Vo(to.sf,this.oM),this.hC.Vo(Dd.Nw,this.oM),this.hC.Vo(to.uf,this.oM),this.hC.Vo(to.df,this.cM),this.hC.Vo(to.vf,this.fM)},t}(),fS=function(){function t(){}var n=t.prototype;return n._r=function(t){return pb(t)},n.yM=function(t){mb(t)},t}(),hS=new fS,vS=function(t){function n(n,i){return void 0===i&&(i=hS),t.call(this,n,i)||this}return $(n,t),n}(aS),dS=function(t){function n(){return t.call(this,to.tf)||this}return $(n,t),n}(Ze),lS=function(t){function n(n){var i;return(i=t.call(this,to.cf)||this).currentTime=n,i}return $(n,t),n}(Ze),wS=function(t){function n(n,i){var r;return(r=t.call(this)||this)._M=void 0,r.pM=void 0,r.mM=function(t){r._M.kM("THEOplayerABRSetTargetBuffer",t.Ox),r.Lo(t)},r.bM=function(t){r._M.kM("THEOplayerABRSetStrategy",t.Px),r.Lo(t)},r._M=n,r.pM=i,r.pM.Fo("xx",r.mM),r.pM.Fo("Lx",r.bM),r}return $(n,t),H(n,[{key:"Hx",get:function(){var t;switch(this.Px.type){case $b.PERFORMANCE:return 1;case $b.QUALITY:return 0;case $b.BANDWIDTH:return null!=(t=this.Px.metadata)&&t.bitrate&&!g(this.Px.metadata.bitrate)?this.Px.metadata.bitrate:0;default:return 0}}},{key:"Gd",get:function(){return this.pM.Gd}},{key:"Px",get:function(){return this.pM.Px},set:function(t){this.pM.Px=t}},{key:"Ox",get:function(){return this.pM.Ox},set:function(t){this.pM.Ox=t}},{key:"Fx",get:function(){return this.pM.Fx},set:function(t){this.pM.Fx=t}}]),n}(Je),yS=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n.prototype.eR=function(t,n,i,r){return!0},n}(Ap),gS=function(){function t(t){this.TM=void 0,this.Xd=void 0,this.TM=t}var n=t.prototype;return n.Yd=function(){return function(t){for(var n=[],i=0;i<t.Il;i++)n[i]=t.ec(i).Gd;return n.item=function(n){var i=0|n,r=t.ec(i);return r&&r.Gd||void 0},d.defineProperty(n,"constructor",{value:tw}),n}(this)},n.k_=function(t){for(var n=this.TM,i=n.length-1;i>=0;i-=1){var r=n[i];if(t.ty(r))return!0}return!1},n.ec=function(t){return this.TM[t]},H(t,[{key:"Rl",get:function(){return this.TM}},{key:"Il",get:function(){return this.TM.length}},{key:"Gd",get:function(){if(this.Xd){var t=this.TM;this.Xd.length=t.length;for(var n=0;n<t.length;n++)this.Xd[n]=t[n].Gd}else this.Xd=this.Yd();return this.Xd}}]),t}(),_S=function(t){function n(n,i){var r;return(r=t.call(this,mv.hl)||this).Kd=n,r.Kl=i,r}return $(n,t),n.prototype.Yd=function(){return new pS(this.Kd.Gd,id(this.Kl))},n}(kv),pS=function(t){function n(n,i){var r;return(r=t.call(this,"readystatechange")||this).track=n,r.readyState=i,r}return $(n,t),n}(bv),mS=function(t){function n(n){var i;return(i=t.call(this,mv.dl)||this).Kd=n,i}return $(n,t),n.prototype.Yd=function(){return new kS(this.Kd.Gd)},n}(kv),kS=function(t){function n(n){var i;return(i=t.call(this,"typechange")||this).track=n,i}return $(n,t),n}(bv),bS=function(t){function n(n){var i;return(i=t.call(this,mv.Jd)||this).B_=n,i}return $(n,t),n.prototype.Yd=function(){return new TS(this.B_.Gd)},n}(kv),TS=function(t){function n(n){var i;return(i=t.call(this,"addcue")||this).cue=n,i}return $(n,t),n}(bv),ES=function(t){function n(n){var i;return(i=t.call(this,mv.Zd)||this).B_=n,i}return $(n,t),n.prototype.Yd=function(){return new SS(this.B_.Gd)},n}(kv),SS=function(t){function n(n){var i;return(i=t.call(this,"removecue")||this).cue=n,i}return $(n,t),n}(bv),RS=function(t){function n(n,i,r,e,u,s,o){var c;return(c=t.call(this)||this).Xd=void 0,c.T_=void 0,c.S_=Bl(),c.EM=!1,c.SM=void 0,c.RM=void 0,c.E_=void 0,c.IM=void 0,c.ND=Yv.Yl,c.CM=Wl.NONE,c.DM=void 0,c.Nu=void 0,c.TM=[],c.AM=[],c.NM=void 0,c.OM=void 0,c.xM=0,c.PM=0,c.T_=i||"",c.SM=o||"",c.RM=n,c.IM=e||"",c.EM=Boolean(u),c.Nu=s||$l.DEFAULT,c.E_=r||"",c.NM=new gS(c.TM),c.OM=new gS(c.AM),c}$(n,t);var i=n.prototype;return i.LM=function(t){return De(this.NM.Rl,function(n){return n.Ml===t})},i.Yd=function(){return Zv(this)},i.zD=function(t){var n=function(t){if("string"==typeof t){var n=t.toLowerCase();switch(n){case Yv.Yl:case Yv.Gl:case Yv.Xl:return n}}else if("number"==typeof t)switch(t){case 0:return Yv.Yl;case 1:return Yv.Gl;case 2:return Yv.Xl}return Yv.Yl}(t);n!==this.zl&&(this.ND=n,n===Yv.Yl&&(this.AM.forEach(function(t){t.J_=!1}),xe(this.AM),this.PM=0))},i.OT=function(t){if(t&&!t.Kd){var n=KE(this.Jl.Rl,t);if(!(n>=0)){t.Kd=this;var i=-(n+1);this.TM.splice(i,0,t),this.FM(i),t.K_=i,i<this.PM&&(this.PM=i),this.Lo(new bS(t))}}},i.MM=function(t){if(t&&t.Kd===this){var n=this.KF(t);if(!(n<0)){t.J_=!1;var i=this.AM,r=KE(i,t);r>=0&&Ne(i,r),Ne(this.TM,n),this.FM(n),t.K_=-1,this.PM>n&&--this.PM,this.Lo(new ES(t))}}},i.gM=function(t,n){var i=this.AM,r=this.TM,e=this.PM,u=!1;n&&(e=0);for(var s=i.length-1;s>=0;s--){GE(i[s],t)||(u=!0,Ne(i,s))}for(;e<r.length&&r[e].U_<=t;){var o=r[e];GE(o,t)&&!Oe(i,o)&&(u=!0,i.push(o)),e++}u&&Ie(i,YE),this.PM=e},i.KF=function(t){return(-1===t.K_||t.K_>=this.xM)&&this.BM(),t.K_},i.BM=function(){for(var t=this.TM,n=this.xM;n<t.length;n++)t[n].K_=n;this.xM=t.length},i.FM=function(t){t<this.xM&&(this.xM=t)},i.sr=function(){this.Uo();for(var t=this.TM.slice(),n=0;n<t.length;n++){t[n].sr()}xe(this.TM),xe(this.AM)},H(n,[{key:"Ql",get:function(){return this.OM}},{key:"Jl",get:function(){return this.NM}},{key:"PT",get:function(){return this.EM},set:function(t){this.EM=t}},{key:"Gd",get:function(){return this.Xd||(this.Xd=this.Yd()),this.Xd}},{key:"Ml",get:function(){return this.T_}},{key:"Bl",get:function(){return this.S_}},{key:"$l",get:function(){return this.SM},set:function(t){this.SM=t}},{key:"Ul",get:function(){return this.RM}},{key:"Vl",get:function(){return this.E_},set:function(t){t!==this.E_&&(this.E_=t,this.Lo(new Ll(this)))}},{key:"ql",get:function(){return this.IM}},{key:"zl",get:function(){return this.ND},set:function(t){this.zD(t),this.Lo(new Cv(this))}},{key:"Kl",get:function(){return this.CM},set:function(t){this.CM!==t&&(this.CM=t,this.Lo(new _S(this,this.CM)))}},{key:"Zl",get:function(){return this.DM},set:function(t){this.DM=t}},{key:"eo",get:function(){return this.Nu},set:function(t){this.Nu!==t&&(this.Nu=t,this.Lo(new mS(this)))}}]),n}(Je);function IS(t,n,i){for(var r=t[n].U_,e=n;e>=0&&t[e].U_===r;e--)t[e].V_=i}var CS,DS=function(t){function n(n,i,r){var e;return(e=t.call(this,n,1/0,i,!1,r)||this).UM=void 0,e}return $(n,t),n.prototype.ty=function(n){return this===n||Fv(this,n)&&t.prototype.ty.call(this,n)&&(i=n,this.q_===i.q_);var i},H(n,[{key:"Gd",get:function(){return this.Xd||(this.Xd=Zl(this)),this.Xd}}]),n}(iw),AS=function(t){function n(n,i,r){return void 0===r&&(r=$l.DEFAULT),t.call(this,my.vm,"",i||"","",!1,r,n)||this}return $(n,t),n}(RS),NS=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).eo=$l.ID3,r.UM=void 0,r}$(n,t);var i=n.prototype;return i.OT=function(n){!function(t,n){if(0!==n.length){var i=n.length-1;if(n[i].U_<t.U_)IS(n,i,t.U_);else{var r=n[0];if(r.U_>t.U_)t.V_=r.U_;else{var e=KE(n,t);if(!(e>=0)){var u=-(e+1),s=u-1;if(s>=0&&n[s].U_<t.U_&&IS(n,s,t.U_),u<n.length){var o=n[u];t.V_=o.U_}}}}}}(n,this.TM),t.prototype.OT.call(this,n)},i.Yd=function(){return Zv(this)},n}(AS),OS=(to.sf,to.uf,Dd.Nw,to.mf,to.cf,to.tf,to.df,to.vf,to.Ja,to.af,to.kf,to.Ya,Dd.hl,to.hf,Kv.Wl,Ke.Jo,Ke.Zo,{VM:!1,qM:50}),xS=function(){function t(t,n,i){this.da=void 0,this.fo=void 0,this.Sa=void 0,this.jc=void 0,this.da=t,this.fo=i,this.Sa=n}var n=t.prototype;return n.xT=function(t){throw new h("Not implemented yet.")},n.aR=function(){var t=C.coroutine(Zr.mark(function t(n,i){var r,e;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.fo.do(n.uo,i);case 2:return r=t.sent,t.next=5,r.Yc();case 5:return e=t.sent,t.next=8,this.jM(e);case 8:return t.abrupt("return",e);case 9:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.ko=function(){var t=C.coroutine(Zr.mark(function t(){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.jM(void 0);case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.jM=function(){var t=C.coroutine(Zr.mark(function t(n){var i;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.HM(n),t.next=3,i;case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.HM=function(){var t=C.coroutine(Zr.mark(function t(n){var i;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(i=this.jc)){t.next=5;break}return t.next=4,i.zc(this.Sa);case 4:this.jc=void 0;case 5:if(!n){t.next=9;break}return t.next=8,n.$c(this.Sa);case 8:this.jc=n;case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.AT=function(t,n,i){throw new h("Not implemented yet.")},H(t,[{key:"eb",get:function(){return this.da}},{key:"__",get:function(){throw new h("Not implemented yet.")},set:function(t){throw new h("Not implemented yet.")}},{key:"p_",get:function(){return new lm([0,1/0])}},{key:"Vg",get:function(){throw new h("Not implemented yet.")}},{key:"WM",get:function(){throw new h("Not implemented yet")}},{key:"Ug",get:function(){throw new h("Not implemented yet.")}},{key:"$M",get:function(){throw new h("Not implemented yet")}},{key:"zM",get:function(){throw new h("Not implemented yet")}}]),t}();!function(t){t.XM="webkitneedkey",t.GM="webkitkeymessage",t.YM="webkitkeyerror"}(CS||(CS={}));var PS,LS,FS=function(t){function n(n,i){var r;return(r=t.call(this,CS.XM)||this).initData=n,r.sessionId=i,r}return $(n,t),n}(Ze),MS=function(t){function n(n,i){var r;return(r=t.call(this,CS.GM)||this).message=n,r.destinationURL=i,r}return $(n,t),n}(Ze),BS=function(t){function n(){return t.call(this,CS.YM)||this}return $(n,t),n}(Ze),US=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).ta=new cs,s.la=void 0,s.ra=new ou,s.ya=new cs,s.KM=function(t){s.la?(s.la.pc(void 0),s.la=void 0):s.ca("internal-error"),s.Lo(new eu)},s.JM=function(t){s.la&&(s.la._c(void 0),s.la=void 0),s.Lo(new ru(en(s),"license-request",ss(t.message).buffer,t.destinationURL||void 0))},s.fa=n,s.Dc=i,s.QM=r,s.Ta=e,s._a=u,s}$(n,t);var i=n.prototype;return i.xc=function(){var t=C.coroutine(Zr.mark(function t(n,i,r){var e;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r&&r.fairplay&&r.fairplay.pa){t.next=3;break}throw new v("Expected FairPlay contentId to be defined but was "+e+".");case 3:return t.next=5,this.ZM(es(i),e);case 5:this.ca("usable"),this.ya._c(),this.ya=new cs;case 8:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.Pc=function(){var t=C.coroutine(Zr.mark(function t(n){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.Fc=function(){var t=C.coroutine(Zr.mark(function t(n){var i;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(i=es(n)).byteLength){t.next=3;break}throw new v("Cannot call update with an empty response.");case 3:return this.la=new cs,this.QM.Fc(this.Ta,i),t.next=7,this.la.gc;case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Oc=function(){var t=C.coroutine(Zr.mark(function t(){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.ya;case 2:return this.QM.Vo(CS.GM,this.JM),this.QM.Vo(CS.YM,this.KM),this.ya.Io(),this.ta._c(void 0),t.abrupt("return",this.ta.gc);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Lc=function(){var t=C.coroutine(Zr.mark(function t(){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),i.ZM=function(){var t=C.coroutine(Zr.mark(function t(n,i){var r;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=xs(n,i,this._a),this.QM.Fo(CS.GM,this.JM),this.QM.Fo(CS.YM,this.KM),this.QM.BE(this.Ta,r);case 4:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.ca=function(t){this.ra.oc(),this.ra.sc(su,t),this.Lo(new iu(this))},H(n,[{key:"qc",get:function(){return this.Ta}},{key:"Uc",get:function(){return NaN}},{key:"Bc",get:function(){return this.ta.gc}},{key:"Vc",get:function(){return this.ra}}]),n}(Je),VS=function(){function t(t,n,i){this.tB=void 0,this.Ta=void 0,this._a=void 0,this.QM=void 0,this.Dc=n,this.fa=i,this.QM=t}var i=t.prototype;return i.Hc=function(){var t=C.coroutine(Zr.mark(function t(i){var r;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this._a){t.next=2;break}throw new Ps(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return r=new US(this.fa,this.Dc,this.QM,this.Ta,this._a),this.tB=r,t.abrupt("return",r);case 5:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Wc=function(t){return this._a=es(t),C.resolve(!0)},i.$c=function(){var t=C.coroutine(Zr.mark(function t(n){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.webkitSetMediaKeys(this);case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.zc=function(){var t=C.coroutine(Zr.mark(function t(n){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.webkitSetMediaKeys(null);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.createSession=function(){throw new h("Whoops.")},H(t,[{key:"keySystem",get:function(){return this.Dc}},{key:"sessionId",set:function(t){this.Ta=t}}]),t}(),qS=function(){function t(t,n,i){this.fa=void 0,this.nB=t,this.Dc=n,this.da=i;var r=ks(i)||"video/mp4";this.fa=_s(r)}var n=t.prototype;return n.Kc=function(){return this.da},n.Yc=function(){var t=C.coroutine(Zr.mark(function t(){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new VS(this.nB,this.Dc,this.fa));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),H(t,[{key:"Jc",get:function(){return this.Dc}}]),t}(),jS=function(){function t(t){this.nB=void 0,this.nB=t}return t.prototype.do=function(){var t=C.coroutine(Zr.mark(function t(n,i){var r,e,u;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<i.length)){t.next=9;break}if(e=i[r],!(u=ps(HS,nu,n,e))){t.next=6;break}return t.abrupt("return",new qS(this.nB,n,u));case 6:r++,t.next=1;break;case 9:throw new v("Unsupported key system configuration for "+n);case 10:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),t}();function HS(t,n){return t===pe}!function(t){t.PA="iB"}(PS||(PS={})),function(t){t.rB="eB"}(LS||(LS={}));var WS,$S;LS.rB;!function(t){t[t.uB=0]="uB",t[t.If=1]="If",t[t.sB=2]="sB"}(WS||(WS={})),function(t){t.oB="cB"}($S||($S={}));var zS;nt.Be,to.sf,to.uf,to.df,to.vf,to.Ja,to.af,Dd.hl,Kv.Wl,nt.Oe||nt.xe;!function(t){t.aB="closed",t.qv="open",t.Ja="ended"}(zS||(zS={}));var XS,GS;Dd.hl,to.sf,to.uf,to.df,to.vf,to.Ja,Kv.Wl;!function(t){t[t.ISO_8859_1=0]="ISO_8859_1",t[t.UTF16_BOM=1]="UTF16_BOM",t[t.UTF16=2]="UTF16",t[t.UTF8=3]="UTF8"}(XS||(XS={})),function(t){t[t.V22=2]="V22",t[t.V23=3]="V23",t[t.V24=4]="V24"}(GS||(GS={}));var YS=function(t){function n(n){var i;return(i=t.call(this,0,n.q_)||this).fB=void 0,i.fB=n,i.V_=i.fB.U_,i}return $(n,t),H(n,[{key:"Ml",get:function(){return this.fB.Ml}},{key:"Z_",get:function(){return this.fB.Z_},set:function(t){this.fB.Z_=t}},{key:"Q_",get:function(){return this.fB.Q_},set:function(t){this.fB.Q_=t}}]),n}(DS);function KS(t){return void 0===t.UM&&(t.UM=new YS(t)),t.UM}var JS=function(t){function n(n,i){var r;(r=t.call(this,n.$l,n.Vl)||this).hB=void 0,r.vB=void 0,r.dB=void 0,r.eo=$l.ID3,r.lB=function(t){r.wB(t.B_)},r.yB=function(t){var n=t.B_;if(void 0!==n.UM){var i=n.UM;n.UM=void 0,r.MM(i),i.sr()}},r.gB=function(t){var n=KS(t.B_);n.J_||r._B(n),r.pB(n)},r.mB=function(t){var n=t.B_,i=KS(n);r.vB.Ow<n.U_&&r._B(i)},r.kB=function(){var t=r.dB,n=r.zl;if(r.dB=n,n===Yv.Yl)r.AM.forEach(function(t){return t.J_=!1}),xe(r.AM);else if(t===Yv.Yl)for(var i=r.vB.Ow,e=0,u=r.TM;e<u.length;e++){var s=u[e];i<s.V_&&r._B(s)}},r.vB=i,r.hB=n,r.dB=n.zl,n.Fo(mv.Jd,r.lB),n.Fo(mv.Zd,r.yB),n.Fo(mv.nl,r.gB),n.Fo(mv.ul,r.mB),n.Fo(mv.al,r.kB);for(var e=0,u=r.hB.Jl.Rl;e<u.length;e++){var s=u[e];r.wB(s)}return r}$(n,t);var i=n.prototype;return i._B=function(t){var n=KE(this.AM,t);if(!(n>=0)){var i=-(n+1);this.AM.splice(i,0,t),t.J_=!0,t.Lo(new QE(t,this.vB.Ow)),this.Lo(new iS(t)),this.Lo(new sS(this))}},i.pB=function(t){var n=KE(this.AM,t);n>=0&&Ne(this.AM,n),t.J_=!1,t.Lo(new tS(t,this.vB.Ow)),this.Lo(new eS(t)),this.Lo(new sS(this))},i.sr=function(){this.hB.Vo(mv.Jd,this.lB),this.hB.Vo(mv.Zd,this.yB),this.hB.Vo(mv.nl,this.gB),this.hB.Vo(mv.ul,this.mB),this.hB.Vo(mv.al,this.kB),t.prototype.sr.call(this)},i.wB=function(t){var n=KS(t);(this.OT(n),this.zl!==Yv.Yl)&&(this.vB.Ow<n.V_&&this._B(n))},H(n,[{key:"Ul",get:function(){return this.hB.Ul}},{key:"Vl",get:function(){return this.hB.Vl},set:function(t){this.hB.Vl=t}},{key:"ql",get:function(){return this.hB.ql}},{key:"Ml",get:function(){return this.hB.Ml}},{key:"Bl",get:function(){return this.hB.Bl}},{key:"$l",get:function(){return this.hB.$l}},{key:"zl",get:function(){return this.hB.zl},set:function(t){this.hB.zl=t}},{key:"Kl",get:function(){return this.hB.Kl}},{key:"Zl",get:function(){return this.hB.Zl}}]),n}(AS),QS=function(t){function n(n){var i;return(i=t.call(this)||this).vB=void 0,i.vB=n,i}$(n,t);var i=n.prototype;return i.bl=function(n){if(n.eo===$l.ID3){var i=n;return i.UM||(i.UM=new JS(i,this.vB)),t.prototype.bl.call(this,i.UM)}return t.prototype.bl.call(this,n)},i.Tl=function(n){if(n.eo===$l.ID3){var i=n;return!!i.UM&&t.prototype.Tl.call(this,i.UM)}return t.prototype.Tl.call(this,n)},n}(rd),ZS=function(t){function n(n,i){var r;return(r=t.call(this)||this).bB=new ce,r.jF=function(){var t=C.coroutine(Zr.mark(function t(n){var i;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((i=n.Kd).eo){t.next=4;break}return t.next=4,i.Wo(mv.dl);case 4:if(i.eo===$l.ID3){t.next=6;break}return t.abrupt("return");case 6:if(0!==i.Jl.Il){t.next=11;break}return t.next=9,i.Wo(mv.Jd);case 9:t.next=6;break;case 11:r.TB(i);case 12:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.HF=function(t){var n=t.Kd;if(n.eo===$l.ID3&&r.bB.has(n.Bl)){var i=r.bB.get(n.Bl);r.Tl(i),r.RT.xT(i),n.Vo(mv.Jd,r.wB)}},r.wB=function(t){tR(t.B_)&&r.EB(t.B_)},r.RT=n,r.SB=i,r.RB(),r}$(n,t);var i=n.prototype;return i.RB=function(){this.SB.Fo(yv.Hd,this.jF),this.SB.Fo(yv.$d,this.HF)},i.IB=function(){this.SB.Vo(yv.Hd,this.jF),this.SB.Vo(yv.$d,this.HF)},i.TB=function(t){var n=t.Jl.Rl[0];if(tR(n)){var i=function(t){var n=t.match(rR);if(!n)return;return{Kd:n[1],ql:n[2]}}(n.q_.description),r=i.Kd,e=i.ql;if(!this.CB(r,e)){var u=this.RT.AT(my.fm,t.Ml,r,e,!1,$l.TTML);this.bl(u),this.bB.set(t.Bl,u);for(var s=0,o=t.Jl.Rl;s<o.length;s++){var c=o[s];tR(c)&&this.EB(c)}t.Fo(mv.Jd,this.wB)}}},i.CB=function(t,n){return!!De(this.ik.Rl,function(i){return i.Vl===t&&i.ql===n})},i.EB=function(t){if(t.Kd)for(var n=this.bB.get(t.Kd.Bl),i=fy(t.q_.text,0,{wp:0,yp:1/0,gp:-t.V_}),r=0;r<i.length;r++){var e=i[r];n.OT(e)}},i.Sl=function(){var n=C.coroutine(Zr.mark(function n(){var i,r,e,u,s;return Zr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(i=0,r=this.SB.Rl;i<r.length;i++)r[i].Vo(mv.Jd,this.wB);for(e=0,u=this.ik.Rl;e<u.length;e++)s=u[e],this.RT.xT(s);return this.bB.clear(),n.next=5,t.prototype.Sl.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i.sr=function(){var n=C.coroutine(Zr.mark(function n(){return Zr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.IB(),n.next=3,t.prototype.sr.call(this);case 3:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),n}(by);function tR(t){return function(t){return"TXXX"===t.id||"TXX"===t.id}(n=t.q_)&&rR.test(n.description);var n}var nR,iR,rR=/^Track:(.+),Lang:(.+)$/;!function(t){t.DB='"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',t.AB='"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',t.NB='"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',t.OB='Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif'}(nR||(nR={})),function(t){t.BLACK="#000000",t.WHITE="#FFFFFF",t.GREEN="#00ff00",t.BLUE="#0000ff",t.CYAN="#00ffff",t.RED="#ff0000",t.YELLOW="#ffff00",t.MAGENTA="#ff00ff",t.TRANSPARENT="transparent"}(iR||(iR={}));var eR,uR;re({monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:"monospace, sans-serif",monospaceSerif:"monospace, serif",proportionalSansSerif:"Arial",proportionalSerif:"Times New Roman",default:"monospace, sans-serif;"}),re({lrtb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rltb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;unicode-bidi: bidi-override;",tbrl:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;",tblr:"-webkit-writing-mode: vertical-lr;writing-mode: vertical-lr;-webkit-text-orientation: upright;text-orientation: upright;",lr:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rl:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;",tb:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;"}),iR.WHITE,iR.TRANSPARENT,iR.TRANSPARENT;!function(t){t.xB="Data",t.PB="Tag",t.LB="StartTag",t.FB="StartTagClass",t.MB="StartTagAnnotation",t.BB="CharRefInAnnotation",t.UB="EndTag",t.VB="TimestampTag"}(eR||(eR={})),function(t){t.BF="string",t.qB="starttag",t.jB="endtag",t.HB="timestamp"}(uR||(uR={}));var sR,oR;iR.WHITE,iR.TRANSPARENT;!function(t){t[t.WB=0]="WB",t[t.$B=1]="$B",t[t.zB=2]="zB",t[t.XB=3]="XB",t[t.GB=4]="GB",t[t.YB=5]="YB"}(sR||(sR={})),function(t){t[t.KB=0]="KB",t[t.JB=1]="JB",t[t.QB=2]="QB",t[t.ZB=3]="ZB"}(oR||(oR={}));var cR,aR;[[42,225],[92,233],[94,237],[95,243],[96,250],[123,231],[124,247],[125,209],[126,241],[127,9608],[128,174],[129,176],[130,189],[131,191],[132,8482],[133,162],[134,163],[135,9834],[136,224],[137,32],[138,232],[139,226],[140,234],[141,238],[142,244],[143,251],[144,193],[145,201],[146,211],[147,218],[148,220],[149,252],[150,8216],[151,161],[152,42],[153,8217],[154,9473],[155,169],[156,8480],[157,8226],[158,8220],[159,8221],[160,192],[161,194],[162,199],[163,200],[164,202],[165,203],[166,235],[167,206],[168,207],[169,239],[170,212],[171,217],[172,249],[173,219],[174,171],[175,187],[176,195],[177,227],[178,205],[179,204],[180,236],[181,210],[182,242],[183,213],[184,245],[185,123],[186,125],[187,92],[188,94],[189,95],[190,124],[191,8764],[192,196],[193,228],[194,214],[195,246],[196,223],[197,165],[198,164],[199,9475],[200,197],[201,229],[202,216],[203,248],[204,9487],[205,9491],[206,9495],[207,9499]].reduce(function(t,n){return t[n[0]]=n[1],t},{});!function(t){t[t.cC=0]="cC",t[t.tU=1]="tU",t[t.nU=2]="nU",t[t.iU=3]="iU",t[t.tu=4]="tu"}(cR||(cR={})),function(t){t.FONT_REGULAR="regular",t.FONT_UNDERLINE="underline",t.FONT_ITALICS="italics",t.FONT_UNDERLINE_ITALICS="underline-italics"}(aR||(aR={}));var fR;iR.WHITE,nR.NB,iR.BLACK,aR.FONT_REGULAR,iR.WHITE,aR.FONT_REGULAR,iR.WHITE,aR.FONT_UNDERLINE,iR.GREEN,aR.FONT_REGULAR,iR.GREEN,aR.FONT_UNDERLINE,iR.BLUE,aR.FONT_REGULAR,iR.BLUE,aR.FONT_UNDERLINE,iR.CYAN,aR.FONT_REGULAR,iR.CYAN,aR.FONT_UNDERLINE,iR.RED,aR.FONT_REGULAR,iR.RED,aR.FONT_UNDERLINE,iR.YELLOW,aR.FONT_REGULAR,iR.YELLOW,aR.FONT_UNDERLINE,iR.MAGENTA,aR.FONT_REGULAR,iR.MAGENTA,aR.FONT_UNDERLINE,iR.WHITE,aR.FONT_ITALICS,iR.WHITE,aR.FONT_UNDERLINE_ITALICS,iR.WHITE,aR.FONT_REGULAR,iR.WHITE,aR.FONT_UNDERLINE,iR.WHITE,aR.FONT_REGULAR,iR.WHITE,aR.FONT_UNDERLINE,iR.WHITE,aR.FONT_REGULAR,iR.WHITE,aR.FONT_UNDERLINE,iR.WHITE,aR.FONT_REGULAR,iR.WHITE,aR.FONT_UNDERLINE,iR.WHITE,aR.FONT_REGULAR,iR.WHITE,aR.FONT_UNDERLINE,iR.WHITE,aR.FONT_REGULAR,iR.WHITE,aR.FONT_UNDERLINE,iR.WHITE,aR.FONT_REGULAR,iR.WHITE,aR.FONT_UNDERLINE,iR.WHITE,aR.FONT_REGULAR,iR.WHITE,aR.FONT_UNDERLINE;!function(t){t.rU="HELLO",t.eU="HI_THERE",t.uU="INITIALIZE",t.sU="APPEND_INIT",t.oU="APPEND_DATA",t.cU="ACK",t.aU="REMOVE",t.fU="DESTROY_SESSION"}(fR||(fR={}));var hR=vl.py,vR=new vl(-1/0),dR=vl.tg,lR=new(function(t){function n(n,i){return t.call(this,n,i)||this}$(n,t);var i=n.prototype;return i.Yw=function(t,n){return t.ny(n)?Zd.$w:t.ty(n)?Zd.Hw:Zd.Ww},i.oy=function(t,n){return t.oy(n)},i.sy=function(t,n){return t.sy(n)},i.Zw=function(t,n){return t.Zw(n)},i.OC=function(){return hR},i.xC=function(){return dR},i.BC=function(){return vR},n.iD=function(t){for(var i=[],r=0;r<t.length;r++)i.push(new vl(t.start(r)),new vl(t.end(r)));return new n(i)},n.hU=function(t){for(var i=[],r=[],e=0;e<t.Il;e++)i.push(new vl(t.kC(e))),i.push(new vl(t.TC(e))),r.push(t.bC(e)),r.push(t.EC(e));return new n(i,r)},n.eD=function(t){return new n([t,t],[!0,!0])},i.AC=function(t,i){return new n(t,i)},i.CC=function(t){return t.Qy},n.uD=function(){return lR},n}(dm))([]);Ol.Ev,Ol.Sv,nt.Oe||nt.xe,nt.Ge,nt.Be,to.kf,to.af,to.df,to.sf,to.uf;var wR=function(t){function n(n,i,r){var e;return void 0===r&&(r=new jS(i)),(e=t.call(this)||this).QS=void 0,e.fo=void 0,e.vU=new qy,e.dU=void 0,e.nB=void 0,e.lU=!1,e.Ta=void 0,e.ga=null,e.wU={f_:0,h_:0,v_:0,d_:0,l_:0,w_:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},e.yU=function(t){"boolean"==typeof t.detail.casting&&(e.lU=t.detail.casting,e.Lo(new Kl(e.lU)))},e.gU=function(t){e.Ta=t.sessionId,e.ga&&(e.ga.sessionId=e.Ta);var n=t.initData;if(n){var i=function(t){try{var n=ns(t),i=new os;return Gu(Yu(xu(n,i,Mu(n,i,!0)),!0))}catch(t){return}}(n);if(!i)return;e.Lo(new uu(ve,i))}else e.Lo(new uu(ve,new ArrayBuffer(0)))},e.dU=n,e.nB=i,e.nB.Fo(CS.XM,e.gU),e.fo=r,e._U(),e}$(n,t);var i=n.prototype;return i.pU=function(){var t=C.coroutine(Zr.mark(function t(n){var i,r;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0;case 1:if(!(i<n.length)){t.next=8;break}if((r=n[i]).eo!==Dp.dR){t.next=5;break}return t.abrupt("return",r);case 5:i++,t.next=1;break;case 8:return t.abrupt("return",void 0);case 9:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.ko=function(){var t=C.coroutine(Zr.mark(function t(){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Sl();case 2:this.Uo(),this.mU(),this.nB.Vo(CS.XM,this.gU);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Jg=function(){throw new h("Not implemented yet")},i.AT=function(t,n,i,r,e,u,s){throw new h("Not implemented yet")},i.DI=function(){return!1},i.NI=function(t,n,i,r){throw new h("Not implemented yet")},i.xT=function(t){throw new h("Not implemented yet")},i.LI=function(){throw new h("Not implemented yet")},i.Pc=function(){var t=C.coroutine(Zr.mark(function t(n){var i=this;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.vU.UT(function(){var t=C.coroutine(Zr.mark(function t(r){var e;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.eo!==Dp.dR){t.next=7;break}return Be(r),e=new xS(n,i,i.fo),i.QS=e,t.abrupt("return",e);case 7:throw new h("Could not create non-static media source");case 8:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.nr=function(){throw new h("Not implemented yet")},i.tr=function(){throw new h("Not implemented yet")},i.Sl=function(){var t=this;return this.vU.Io(),this.vU.UT(C.coroutine(Zr.mark(function n(){return Zr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0===t.QS){n.next=4;break}return n.next=3,t.QS.ko();case 3:t.QS=void 0;case 4:case"end":return n.stop()}},n)})))},i.hc=function(t,n){throw new h("Not implemented yet")},i.VI=function(t){throw new h("Not implemented yet")},i.Kg=function(){throw new h("Not implemented yet")},i.qI=function(){return this.wU},i._U=function(){this.dU.addEventListener("airPlayIsCasting",this.yU)},i.mU=function(){this.dU.removeEventListener("airPlayIsCasting",this.yU)},i.webkitSetMediaKeys=function(t){this.ga=t||null,this.ga&&(this.ga.sessionId=this.Ta)},i.kU=function(){},i.bU=function(){throw new h("Not implemented yet")},i.TU=function(){throw new h("Not implemented yet")},i.EU=function(t){},H(n,[{key:"o_",get:function(){throw new h("Not implemented yet")}},{key:"kI",get:function(){throw new h("The mediaElement_ property is deprecated")}},{key:"s_",get:function(){throw new h("Not implemented yet")}},{key:"Ow",get:function(){throw new h("Not implemented yet")}},{key:"YL",get:function(){throw new h("Not implemented yet")}},{key:"xw",get:function(){throw new h("Not implemented yet")}},{key:"Pw",get:function(){throw new h("Not implemented yet")}},{key:"Ko",get:function(){throw new h("Not implemented yet")}},{key:"pk",get:function(){throw new h("Not implemented yet")}},{key:"a_",get:function(){return this.lU}},{key:"Fw",get:function(){throw new h("Not implemented yet")}},{key:"Mw",get:function(){throw new h("Not implemented yet")}},{key:"Bw",get:function(){throw new h("Not implemented yet")}},{key:"g_",get:function(){throw new h("Not implemented yet")}},{key:"Kl",get:function(){throw new h("Not implemented yet")}},{key:"p_",get:function(){throw new h("Not implemented yet")}},{key:"Uw",get:function(){throw new h("Not implemented yet")}},{key:"SU",get:function(){throw new h("Not implemented yet")}},{key:"jw",get:function(){throw new h("Not implemented yet")},set:function(t){throw new h("Not implemented yet")}},{key:"hs",get:function(){throw new h("Not implemented yet")}},{key:"xI",get:function(){throw new h("Not implemented yet")}},{key:"webkitKeys",get:function(){return this.ga}},{key:"RU",get:function(){return OS}},{key:"Vg",get:function(){throw new h("Not implemented yet")}},{key:"jI",get:function(){throw new h("Not implemented yet")}},{key:"IU",get:function(){return!0}}]),n}(ed),yR=function(t){function n(n){var i;return(i=t.call(this,to.Ef)||this).wU=n,i}return $(n,t),n}(Ze);var gR=function(t){function n(n){return t.call(this,Xl.wl,n)||this}return $(n,t),n.prototype.Yd=function(){return new _R(this.B_.Gd)},n}(Jl),_R=function(t){function n(n){return t.call(this,Gl.wl,n)||this}return $(n,t),n}(Ql),pR=function(t){function n(n,i){var r,e=mR(i,n.xw,n.jI,n.CU);return(r=t.call(this,i,e,void 0,!1,n.Ml)||this).DU=void 0,r.AU=void 0,r.NU=void 0,r.OU=void 0,r.xU=void 0,r.PU=void 0,r.LU=void 0,r.FU=void 0,r.MU=void 0,r.BU=void 0,r.DU=n.UU,r.AU=n.jI,r.NU=n.CU,r.OU=n.xw,r.xU=n.VU,r.PU=Boolean(n.qU),r.LU=n.jU||{},r.FU=n.HU,r.MU=n.WU,r.BU=n.$U,r.zU(),r.XU(),r}$(n,t);var i=n.prototype;return i.Fc=function(t){var n=!1;void 0===this.DU&&void 0!==t.UU&&(n=!0,this.DU=t.UU),void 0===this.NU&&void 0!==t.CU&&(n=!0,this.NU=t.CU),void 0===this.OU&&void 0!==t.xw&&(n=!0,this.OU=t.xw),void 0===this.xU&&void 0!==t.VU&&(n=!0,this.xU=t.VU),!this.PU&&t.qU&&(n=!0,this.PU=t.qU),n=this.updateCustomAttributes(t,n),void 0===this.FU&&void 0!==t.HU&&(n=!0,this.FU=t.HU),void 0===this.MU&&void 0!==t.WU&&(n=!0,this.MU=t.WU),void 0===this.BU&&void 0!==t.$U&&(n=!0,this.BU=t.$U),this.zU(),this.XU(),this.GU(),n&&this.Lo(new gR(this))},i.updateCustomAttributes=function(t,n){var i=n;if(t.jU)for(var r=0,e=d.keys(t.jU);r<e.length;r++){var u=e[r];void 0===this.LU[u]&&(i=!0,this.LU[u]=t.jU[u])}return i},i.zU=function(){this.OU&&!this.NU&&(this.NU=new Date(this.AU.getTime()+1e3*this.OU))},i.XU=function(){this.NU&&!this.OU&&(this.OU=tn(this.NU.getTime()-this.AU.getTime()))},i.GU=function(){this.H_===1/0&&(this.NU||this.OU)&&(this.H_=mR(this.j_,this.OU,this.AU,this.NU))},H(n,[{key:"Gd",get:function(){var t;return this.Xd||(this.Xd=xv(Zl(t=this),{get content(){return t.q_},get class(){return t.UU},get startDate(){return t.jI},get endDate(){return t.CU},get duration(){return t.xw},get plannedDuration(){return t.VU},get endOnNext(){return t.qU},get scte35Cmd(){return t.HU},get scte35Out(){return t.WU},get scte35In(){return t.$U},get customAttributes(){return t.jU}})),this.Xd}},{key:"UU",get:function(){return this.DU}},{key:"jI",get:function(){return this.AU}},{key:"CU",get:function(){return this.NU}},{key:"xw",get:function(){return this.OU}},{key:"VU",get:function(){return this.xU}},{key:"qU",get:function(){return this.PU}},{key:"HU",get:function(){return this.FU}},{key:"WU",get:function(){return this.MU}},{key:"$U",get:function(){return this.BU}},{key:"jU",get:function(){return this.LU}}]),n}(iw);function mR(t,n,i,r){return et(n)?t+n:r?t+(tn(r.getTime())-tn(i.getTime())):1/0}var kR,bR=function(t){function n(){return t.call(this,void 0,void 0,$l.DATE_RANGE)||this}$(n,t);var i=n.prototype;return i.Fc=function(t,n){for(var i=this,r=function(t){for(var n=ie(),i=[],r=0;r<t.length;r++){var e=t[r];if(n.has(e.Ml)){var u=n.get(e.Ml),s=te({},u,Mv(e),{jU:te({},u.jU,e.jU)});n.set(e.Ml,s)}else n.set(e.Ml,e),i.push(e.Ml)}return i.map(function(t){return n.get(t)})}(t),e=this.Jl.Rl,u=function(t){var n=e[t],u=De(r,function(t){return t.Ml===n.Ml});u?n.Fc(u):i.MM(n)},s=e.length-1;s>=0;s--)u(s);for(var o=0;o<r.length;o++){var c=r[o],a=c.jI;if(void 0!==a&&!this.LM(c.Ml)){var f=n(a);this.OT(new pR(c,f))}}},i.OT=function(n){this.YU(n),t.prototype.OT.call(this,n)},i.YU=function(t){var n=this.TM.filter(function(n){return n.UU===t.UU}).pop();n&&n.qU&&n.Fc({Ml:n.Ml,CU:t.jI})},n}(AS);function TR(t){switch(t.type){case kR.BF:return t.value;case kR.MF:return Uv(t.value);case kR.FF:return du(t.value);default:return}}function ER(t){return function(t){return void 0!==t.name&&void 0!==t.message}(t)&&void 0!==t.timestamp&&void 0!==t.code}!function(t){t.BF="daterange-ca-type_string",t.MF="daterange-ca-type_number",t.FF="daterange-ca-type_arraybuffer"}(kR||(kR={}));var SR,RR,IR,CR=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,e,i,r)||this).BS=void 0,s.KU=void 0,s.BS=n,s.KU=u,s}return $(n,t),H(n,[{key:"name",get:function(){return this.BS}},{key:"timestamp",get:function(){return this.KU}}]),n}(Ps),DR=function(t){function n(n,i,r,e,u,s,o,c){var a;return(a=t.call(this,n,i,r,e,c)||this).url=void 0,a.status=void 0,a.errorComment=void 0,a.url=u,a.status=s,a.errorComment=o,a}return $(n,t),n}(CR),AR=function(){function t(t,n){this.Pg=void 0,this.JU=void 0,this.Pg=new ky,this.JU=new aS(t,n)}var n=t.prototype;return n.AT=function(t,n,i,r,e,u){var s=new RS(t,n,i,r,e,u);return this.Pg.bl(s),this.JU.bl(s),s},n.xT=function(t){this.Pg.Tl(t),this.JU.Tl(t)},n.Sl=function(){this.Pg.Sl(),this.JU.Sl()},n.sr=function(){this.Pg.sr(),this.JU.sr()},H(t,[{key:"Vg",get:function(){return this.Pg}}]),t}(),NR=function(t){function n(n,i,r,e,u){var s;(s=t.call(this)||this).aD=0,s.QU=!1,s.ZR=void 0,s.tI=void 0,s.ZU=void 0,s.hD=!0,s.vD=1,s.Og=void 0,s.xg=void 0,s.tV=void 0,s.nV=void 0,s.iV=void 0,s.Pg=void 0,s.RT=void 0,s.OU=void 0,s.rV=lm.uD(),s.eV=lm.uD(),s.fD=!1,s.uV=lm.uD(),s.dD=void 0,s.sV=void 0,s.oV=void 0,s.CM=ld.kw,s.wR=ld.kw,s.dU=void 0,s.JU=void 0,s.rI=void 0,s._M=void 0,s.cV=void 0,s._D=void 0,s.JS=void 0,s.eI=void 0,s.nB=void 0,s.wU={f_:0,h_:0,v_:0,d_:0,l_:0,w_:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},s.QS=void 0,s.aV=void 0,s.sI=new Qp,s.setCurrentTime=function(){var t=C.coroutine(Zr.mark(function t(n){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s.p_.length){t.next=4;break}return s.aD=n,t.next=4,s.dU.Wo("seekablechange");case 4:s.aD=s.updateCurrentTime(n),s._M.kM("THEOplayerSetCurrentTime",s.aD),s.dD=!0,s.Lo(new jd(s.aD));case 8:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),s.fV=function(t){if(t.detail){for(var n=t.detail.buffered,i=[],r=0;r<n.length;r++){var e=n[r];i.push(e.start,e.end)}s.rV=new lm(i),s.Lo(new lS(s.Ow))}},s.hV=function(t){s.CM=t.detail.readyState,s.Lo(new $d(+t.detail.currentTime,s.Kl)),s.vV()},s.dV=function(t){s.CM=t.detail.readyState,s.Lo(new zd(+t.detail.currentTime,s.Kl)),s.vV()},s.lV=function(t){if(t.detail){var n=+t.detail.duration;s.OU=n,s.Lo(new Md(s.xw))}},s.wV=function(t){t.detail&&(s.QU=!0,s.Lo(new Vd(+t.detail.currentTime)))},s.oI=function(t){if(t.detail&&t.detail.error&&t.detail.errorObject){var n,i=JSON.parse(t.detail.errorObject);ER(n=i)&&void 0!==n.url&&void 0!==n.status&&void 0!==n.errorComment?(s.tI=new DR(i.name,i.message,void 0,i.code,i.url,i.status,i.errorComment,i.timestamp),s.ZR=Nl(s.tI),s.Lo(new Gd(s.tI))):ER(i)&&(s.tI=new CR(i.name,i.message,void 0,i.code,i.timestamp),s.ZR=Nl(s.tI),s.Lo(new Gd(s.tI)))}},s.yV=function(t){s.Lo(new dS)},s.gV=function(t){s.CM=t.detail.readyState,s.Lo(new qd(+t.detail.currentTime,s.Kl)),s.vV()},s._V=function(){var t=C.coroutine(Zr.mark(function t(n){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s.p_.length){t.next=3;break}return t.next=3,s.dU.Wo("seekablechange");case 3:s.CM=n.detail.readyState,s.Lo(new Fd(+n.detail.currentTime,s.Kl)),s.vV();case 6:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),s.pV=function(t){t.detail&&s.Lo(new Od(+t.detail.currentTime))},s.mV=function(t){t.detail&&(s.hD||(s.hD=!0,s.Lo(new Nd(+t.detail.currentTime))))},s.kV=function(t){if(t.detail){for(var n=t.detail.played,i=[],r=0;r<n.length;r++){var e=n[r];i.push(e.start,e.end)}s.uV=new lm(i).VC(.05)}},s.bV=function(t){t.detail&&s.Lo(new $p(+t.detail.currentTime))},s.TV=function(t){t.detail&&(s.vD=t.detail.playbackRate,s.Lo(new Bd(+t.detail.currentTime,s.vD)))},s.EV=function(t){if(t.detail){for(var n=t.detail.seekable,i=[],r=0;r<n.length;r++){var e=n[r];i.push(e.start,e.end)}s.eV=new lm(i)}},s.SV=function(t){t.detail&&(s.aD=+t.detail.currentTime,s.dD=!1,s.Lo(new Ud(s.aD,s.ZU)),s.Lo(new Hd(s.aD)))},s.RV=function(t){if(t.detail){var n=Number(t.detail.currentTime);n<s.OU&&(s.QU=!1),s.dD=!0,s.Lo(new jd(n))}},s.IV=function(t){t.detail&&(t.detail.currentDate&&(s.ZU=new Date(1e3*t.detail.currentDate)),s.aD=+t.detail.currentTime,s.Lo(new Ud(s.aD,s.ZU)))},s.CV=function(t){s.sV=t.detail.height,s.oV=t.detail.width},s.DV=function(t){t.detail&&s.Lo(new Wp(+t.detail.currentTime))},s.AV=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,enabled:t.detail.enabled};s.Bg.bl(new jl(n))},s.NV=function(t){for(var n,i,r=t.detail.lang,e=t.detail.label,u=0;u<s.Og.Il;u++){var o=s.Bg.kl(u);o.ql==r&&o.Vl==e?i=s.Og.kl(u):1==o.Fl&&(n=s.Og.kl(u))}i&&n&&(i.Fl=!0,n.Fl=!1)},s.OV=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,selected:t.detail.selected};s.Ug.bl(new Yl(n))},s.xV=function(t){var n,i=t.detail.kind,r=t.detail.type;i===my.vm&&r===$l.ID3?(n=new NS("",t.detail.label)).zl=Yv.Gl:i===my.vm&&r===$l.DATE_RANGE?(n=new bR,s.aV=n):n=new RS(i,void 0,t.detail.label,t.detail.lang,t.detail.isDefault,r),s.tV.bl(n),s.JU.bl(n)},s.PV=function(t){for(var n=0,i=t.detail;n<i.length;n++){var r=i[n],e=r.Id3FrameId,u={id:e,text:r.Id3FrameText};"TXXX"!==e&&"TXX"!==e||(u.description=r.Id3FrameDescription);var o=new DS(Uv(r.startTime),u,r.uid),c=s.LV();c&&c.OT(o)}},s.FV=function(t){for(var n=0,i=t.detail;n<i.length;n++){var r,e=i[n],u=new rw(Uv(e.startTime),Uv(e.endTime),e.content,!1),o=null!=(r=s.MV(my.fm))?r:s.MV(my.mT);o&&(o.eo=$l.WEBVTT,o.OT(u))}},s.mI=function(t){t.type===to.$a&&(s.ZR=Nl(t.errorObject)),s.Po(t)},s.BV=function(t){t.detail&&(s.wU.h_=t.detail.corruptedVideoFrames,s.wU.f_=t.detail.droppedVideoFrames,s.Lo(new yR(s.Rg)))},s.UV=function(t){var n=function(t){var n=t.detail,i=[];return n.forEach(function(t){var n={Ml:t.id};if(void 0!==t.startDate&&(n.jI=new Date(t.startDate)),void 0!==t.endDate&&(n.CU=new Date(t.endDate)),void 0!==t.customAttributes){var r={};for(var e in t.customAttributes){var u=TR(t.customAttributes[e]);void 0!==u&&(r[e]=u)}n.jU=r}void 0!==t.scte35Cmd&&(n.HU=du(t.scte35Cmd)),void 0!==t.scte35In&&(n.$U=du(t.scte35In)),void 0!==t.scte35Out&&(n.WU=du(t.scte35Out)),void 0!==t.startTime&&(n.U_=t.startTime),n.UU=t.class,n.xw=Uv(t.duration),n.VU=Uv(t.plannedDuration),i.push(n)}),i}(t);n.forEach(function(t){var i=null!=t.U_?t.U_:(new Date).getTime(),r=new pR(t,i);s.aV.OT(r),s.aV.Fc(n,i)})};var o=e.uid;s._M=s.getSdkBridge(o),s.dU=new XE,FE()[o].sdkEventBus=s.dU,s.Og=new xl,s.xg=new xl;var c=s.VV(r);return s.RT=new AR(en(s),new fS),s.JU=new vS(en(s)),s.rI=new Py(s.RT,c),s.tV=new ky,s.nV=new QS(en(s)),s.nV.xl=s.tV,s.iV=new ZS(s.RT,s.nV),s.Pg=new $E([s.tV,s.rI.ik,s.iV.ik]),s.nB=s.getFairPlayControllerBridge(s._M),s.JS=new wR(s.dU,s.nB),s.eI=new yS(s.JS,c),s.eI.Fo(Kp,s.mI),s.observeMediaElement(),s.TI(),s._D=new wS(s._M,u),s._D.Fo("xx",function(){s._M.kM("THEOplayerSetPreferredForwardBufferDuration",s._D.Ox)}),s}$(n,t);var i=n.prototype;return i.Zg=function(){return gm},i.Kg=function(){this._M.kM("THEOplayerShow",{})},i.Jg=function(){this._M.kM("THEOplayerHide",{})},i.qV=function(){var t=this;this._M.kM("THEOplayerSetInitialPreferredPeakBitRate",this._D.Hx);this.Fo("playing",function n(){t._M.kM("THEOplayerSetInitialPreferredPeakBitRate",0),t.Vo("playing",n)})},i.Wg=function(){var t=C.coroutine(Zr.mark(function t(n,i){var r,e,u;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.cV=n,r=te({},i,{sources:{src:n.src,type:hd.lw,contentProtection:n.contentProtection,ssai:n.ssai,crossOrigin:n.crossOrigin,hlsDateRange:n.hlsDateRange,isAdvertisement:n.isAdvertisement}}),this._M.kM("THEOplayerSourceChange",r),e={eo:Dp.dR,Zl:n.src,$h:n.type,EI:[],SI:n.crossOrigin,RI:i.metadata&&i.metadata.title},t.next=6,this.JS.Pc(e);case 6:this.QS=t.sent,this.eI.$c(this.QS),this.eI.eE(this.II(n)),i.textTracks&&(u=i.textTracks.filter(function(t){return t.format!==$l.WEBVTT})).length>0&&this.CI(u),Uy(this.Vg),this.qV();case 12:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.II=function(t){if(t.contentProtection&&t.contentProtection.fairplay){return{jE:t.contentProtection||{},oR:{cR:"cbcs"},aE:[{Jc:be,fE:[],pa:void 0}],hR:[],vR:["video/mp4"]}}},i.tr=function(){this.hD=!1,this.Lo(new Od(this.Ow)),this._M.kM("THEOplayerPlay",{})},i.nr=function(){this.hD=!0,this.Lo(new Nd(this.Ow)),this._M.kM("THEOplayerPause",{})},i.Qg=function(){},i.Sl=function(){var t=C.coroutine(Zr.mark(function t(){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.aD=0,this.QU=!1,this.ZR=void 0,this.tI=void 0,this.hD=!0,this.vD=1,this.OU=void 0,this.eV=lm.uD(),this.rV=lm.uD(),this.sV=void 0,this.oV=void 0,this.CM=ld.kw,this.wR=ld.kw,this.Og.Sl(),this.xg.Sl(),this.tV.Sl(),this.Pg.Sl(),t.next=19,this.iV.Sl();case 19:return this.nV.Sl(),t.next=22,this.rI.Sl();case 22:return this.RT.Sl(),this.JU.Sl(),this.cV=void 0,t.next=27,this.JS.Sl();case 27:return t.next=29,this.eI.Sl();case 29:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.zg=function(){this._M.kM("THEOplayerShowAirPlayPicker",{})},i.Xg=function(){this._M.kM("THEOplayerStopAirPlayPicker",{})},i.updateMetrics=function(t){this.Rg.h_=t.h_,this.Rg.f_=t.f_},i.sr=function(){var t=C.coroutine(Zr.mark(function t(){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Sl();case 2:return this.Uo(),this.unobserveMediaElement(),this.MI(),t.next=7,this.eI.sr();case 7:return t.next=9,this.JS.ko();case 9:return this.Og.sr(),this.xg.sr(),this.tV.sr(),this.Pg.sr(),this.nV.sr(),t.next=16,this.iV.sr();case 16:return t.next=18,this.rI.sr();case 18:this.RT.sr(),this.JU.sr();case 20:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.CI=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.rI.DT(i)}},i.vV=function(){var t=this.wR,n=this.CM;t!==n&&(this.wR=n,this.Lo(new Xd(this.Ow,n)))},i.observeMediaElement=function(){this.JS.Fo(to.qa,this.Po),this.dU.addEventListener("play",this.pV),this.dU.addEventListener("pause",this.mV),this.dU.addEventListener("seeking",this.RV),this.dU.addEventListener("seeked",this.SV),this.dU.addEventListener("ratechange",this.TV),this.dU.addEventListener("durationchange",this.lV),this.dU.addEventListener("timeupdate",this.IV),this.dU.addEventListener("waiting",this.DV),this.dU.addEventListener("playing",this.bV),this.dU.addEventListener("ended",this.wV),this.dU.addEventListener("loadedmetadata",this._V),this.dU.addEventListener("loadeddata",this.gV),this.dU.addEventListener("loadstart",this.yV),this.dU.addEventListener("canplay",this.hV),this.dU.addEventListener("canplaythrough",this.dV),this.dU.addEventListener("error",this.oI),this.dU.addEventListener("seekablechange",this.EV),this.dU.addEventListener("videosizechange",this.CV),this.dU.addEventListener("bufferedchange",this.fV),this.dU.addEventListener("playedchange",this.kV),this.dU.addEventListener("metricschange",this.BV),this.dU.addEventListener("addDateRangeCues",this.UV)},i.unobserveMediaElement=function(){this.JS.Vo(to.qa,this.Po),this.dU.removeEventListener("play",this.pV),this.dU.removeEventListener("pause",this.mV),this.dU.removeEventListener("seeking",this.RV),this.dU.removeEventListener("seeked",this.SV),this.dU.removeEventListener("ratechange",this.TV),this.dU.removeEventListener("durationchange",this.lV),this.dU.removeEventListener("timeupdate",this.IV),this.dU.removeEventListener("waiting",this.DV),this.dU.removeEventListener("playing",this.bV),this.dU.removeEventListener("ended",this.wV),this.dU.removeEventListener("loadedmetadata",this._V),this.dU.removeEventListener("loadeddata",this.gV),this.dU.removeEventListener("loadstart",this.yV),this.dU.removeEventListener("canplay",this.hV),this.dU.removeEventListener("canplaythrough",this.dV),this.dU.removeEventListener("error",this.oI),this.dU.removeEventListener("seekablechange",this.EV),this.dU.removeEventListener("videosizechange",this.CV),this.dU.removeEventListener("bufferedchange",this.fV),this.dU.removeEventListener("playedchange",this.kV),this.dU.removeEventListener("metricschange",this.BV),this.dU.removeEventListener("addDateRangeCues",this.UV)},i.updateCurrentTime=function(t){var n=this.p_.start(0),i=this.p_.end(0);return l.min(l.max(t,n),i)},i.LV=function(){for(var t=0,n=this.Pg.Rl;t<n.length;t++){var i=n[t];if(i.Ul===my.vm&&i.eo===$l.ID3)return i}},i.MV=function(t){for(var n=0,i=this.Pg.Rl;n<i.length;n++){var r=i[n],e=r.zl===Yv.Xl,u=r.Ul===t;if(e&&u)return r}},i.TI=function(){this.dU.addEventListener("addaudiotrack",this.AV),this.dU.addEventListener("enableaudiotrack",this.NV),this.dU.addEventListener("addvideotrack",this.OV),this.dU.addEventListener("addtexttrack",this.xV),this.dU.addEventListener("addtexttrackid3cues",this.PV),this.dU.addEventListener("addtexttrackcues",this.FV)},i.MI=function(){this.dU.removeEventListener("addaudiotrack",this.AV),this.dU.removeEventListener("enableaudiotrack",this.NV),this.dU.removeEventListener("addvideotrack",this.OV),this.dU.removeEventListener("addtexttrack",this.xV),this.dU.removeEventListener("addtexttrackid3cues",this.PV),this.dU.removeEventListener("addtexttrackcues",this.jV)},i.u_=function(){},H(n,[{key:"Bg",get:function(){return this.Og}},{key:"s_",get:function(){return this.rV.UI()}},{key:"o_",get:function(){return this.ZU?this.ZU:null},set:function(t){this._M.kM("THEOplayerSetCurrentProgramDateTime",t.getTime()),this.ZU=t}},{key:"Ow",get:function(){return this.aD},set:function(t){this.setCurrentTime(t)}},{key:"xw",get:function(){return this.OU}},{key:"Pw",get:function(){return this.QU}},{key:"Ko",get:function(){return this.ZR}},{key:"Lw",get:function(){return this.tI}},{key:"qg",get:function(){}},{key:"a_",get:function(){return this.JS.a_}},{key:"Rg",get:function(){return this.wU}},{key:"Fw",get:function(){return this.fD},set:function(t){this.fD!==t&&(this._M.kM("THEOplayerSetMuted",t),this.fD=t,this.Lo(new Wd(this.Ow,t?0:1)))}},{key:"Mw",get:function(){return this.hD}},{key:"Bw",get:function(){return this.vD},set:function(t){this._M.kM("THEOplayerSetPlaybackRate",t),this.vD=t}},{key:"g_",get:function(){return this.uV.UI()}},{key:"__",get:function(){return sm.cC},set:function(t){}},{key:"Kl",get:function(){return this.CM}},{key:"p_",get:function(){return this.eV.UI()}},{key:"Uw",get:function(){return this.dD}},{key:"jI",get:function(){}},{key:"Vg",get:function(){return this.Pg}},{key:"Vw",get:function(){return this.sV}},{key:"qw",get:function(){return this.oV}},{key:"jw",get:function(){return 1},set:function(t){}},{key:"Ug",get:function(){return this.xg}},{key:"HI",get:function(){return this.sI}},{key:"y_",get:function(){return!0}}]),n}(ed),OR=function(){function t(){this.WI=Gp.zR}var n=t.prototype;return n.$I=function(n,i){if(n.isAdvertisement)return!1;if(i.vr&&i.vr[360])return!1;if((r=n.type)&&pr(r.toLowerCase(),hd.dw))return!1;var r,e=n.contentProtection;if(e&&!mg(e)){if(!Tg(e))return!1;if(!t.HV(e))return!1}return!0},t.HV=function(t){return Boolean(t.fairplay)||Boolean(t.aes128)},n.zI=function(){return!1},t}(),xR=function(){function n(t){this.playerID=t}return n.prototype.kM=function(n,i){if(t.THEOplayerBridge[this.playerID].postMessageToSwift&&"function"==typeof t.THEOplayerBridge[this.playerID].postMessageToSwift){var r={body:i,name:n};t.THEOplayerBridge[this.playerID].postMessageToSwift(r)}},n}(),PR=function(t){function n(n){var i;return(i=t.call(this)||this)._M=void 0,i.dU=void 0,i.WV=function(t){var n=du(t.detail.initData),r=t.detail.sessionId;i.Lo(new FS(n,r))},i.$V=function(t){var n=new _(mu(t.detail.message)),r=t.detail.destinationURL;i.Lo(new MS(n,r))},i.zV=function(t){i.Lo(new BS)},i._M=n,i.dU=new XE,FE().fairplayController={sdkEventBus:i.dU},i.XV(),i}$(n,t);var i=n.prototype;return i.XV=function(){this.dU.addEventListener(CS.XM,this.WV),this.dU.addEventListener(CS.GM,this.$V),this.dU.addEventListener(CS.YM,this.zV)},i.BE=function(t,n){var i={playerId:BE(),data:ku(n.buffer),sessionId:t};this._M.kM("THEOplayerCreateKeySession",i)},i.Fc=function(t,n){var i={playerId:BE(),data:ku(n.buffer),sessionId:t};this._M.kM("THEOplayerUpdateKey",i)},n}(ed),LR=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n.prototype.cv=function(n){if(rs(n.zh)){var i=es(n.zh);n.zh=Xu(i)}return t.prototype.cv.call(this,n)},n}(function(){function t(t){this.IT=void 0,this.IT=t}var n=t.prototype;return n.cv=function(t){return this.IT.cv(t)},n.xv=function(t){this.IT.xv(t)},n.sr=function(){this.IT.sr()},t}()),FR=function(t){function n(n,i,r,e,u){return t.call(this,n,i,r,e,u)||this}$(n,t);var i=n.prototype;return i.$g=function(){return!1},i.getSdkBridge=function(t){return new xR(t)},i.getFairPlayControllerBridge=function(t){return RR||(RR=new PR(t)),RR},i.VV=function(t){return new LR(t)},n}(NR);SR=new(function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n.prototype.GT=function(t,n,i,r,e,u){return new FR(t,n,i,r,e)},n}(OR)),um.Ye.QI(SR),function(t){t.Hd="addtrack",t.$d="removetrack",t.al="change",t.wl="update"}(IR||(IR={}));var MR=function(t,n,i){this.type=IR.al,this.mediaType=t,this.mediaTrack=n,this.mediaTrackList=i},BR=function(t,n){this.type=IR.Hd,this.mediaType=t,this.mediaTrack=n},UR=function(t,n){this.type=IR.$d,this.mediaType=t,this.mediaTrack=n},VR=function(t,n){this.type=IR.wl,this.mediaType=t,this.mediaTrack=n},qR=function(){function t(t,n,i){var r=this;this.type=void 0,this.mediaTracks=void 0,this.messageDispatcher=void 0,this.GV=function(t){var n=new MR(r.type,t.track,r.mediaTracks);r.messageDispatcher.YV(n)},this.KV=function(t){var n=new BR(r.type,t.track);r.messageDispatcher.YV(n),t.track.addEventListener("update",r.JV)},this.QV=function(t){var n=new UR(r.type,t.track);r.messageDispatcher.YV(n)},this.JV=function(t){var n=new VR(r.type,t.track);r.messageDispatcher.YV(n)},this.type=t,this.mediaTracks=n,this.messageDispatcher=i,this.XV()}return t.prototype.XV=function(){this.mediaTracks.addEventListener("change",this.GV),this.mediaTracks.addEventListener("addtrack",this.KV),this.mediaTracks.addEventListener("removetrack",this.QV)},t}(),jR=function(){function t(t){this.ZV=void 0,this.ZV=new xR(t)}return t.prototype.YV=function(t){this.ZV.kM(t.type,oE(t))},t}();FT(function(t){if(t.Gd.audioTracks){var n=new jR(t.Bl);new qR("audio",t.Gd.audioTracks,n)}if(t.Gd.videoTracks){var i=new jR(t.Bl);new qR("video",t.Gd.videoTracks,i)}});var HR,WR,$R=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n.prototype.dispatchEvent=function(t,n){switch(t){case HR.tq:var i={integrationId:n.integrationId,keySystem:n.keySystem};this.Lo(new zR(i));break;default:0}},n}(XE),zR=function(t){function n(n){var i;return(i=t.call(this,HR.tq)||this).detail=n,i}return $(n,t),n}(Ze);!function(t){t.tq="registerContentProtectionIntegration"}(HR||(HR={})),function(t){t.nq="certifiateRequest",t.iq="certifiateResponse",t.rq="licenseRequest",t.uq="licenseResponse",t.sq="extractFairplayContentId",t.oq="buildContentProtection",t.cq="registerContentProtectionCallback"}(WR||(WR={}));var XR,GR=function(t,n){this.type=WR.cq,this.value=t,this.integrationId=n};!function(t){t.VOD="vod",t.LIVE="live"}(XR||(XR={}));var YR,KR=function(t,n){this.type=WR.oq,this.value=t,this.integrationId=n},JR=function(t,n){this.type=WR.nq,this.value=t,this.integrationId=n},QR=function(t,n){this.type=WR.iq,this.value=t,this.integrationId=n},ZR=function(t,n){this.type=WR.sq,this.value=t,this.integrationId=n},tI=function(t,n){this.type=WR.rq,this.value=t,this.integrationId=n},nI=function(t,n){this.type=WR.uq,this.value=t,this.integrationId=n},iI=function(){function t(t,n){this.aq=void 0,this.YT=void 0,this.aq=t,this.YT=n}var i=t.prototype;return i.onCertificateRequest=function(){var t=C.coroutine(Zr.mark(function t(i){var r,e,u,s,o,c;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i),e=new JR(r,this.YT),t.prev=2,t.next=5,this.aq.fq(e);case 5:if(!(u=t.sent)){t.next=16;break}if(s=JSON.parse(u),!this.hq(s)){t.next=13;break}return o=te({},s),t.abrupt("return",o);case 13:if(!this.vq(s)){t.next=16;break}return c=new _(s),t.abrupt("return",c);case 16:throw new Cl(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Could not parse callback in onCertificateRequest");case 19:throw t.prev=19,t.t0=t.catch(2),new Cl(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,t.t0);case 22:case"end":return t.stop()}},t,this,[[2,19]])}));return function(n){return t.apply(this,arguments)}}(),i.onCertificateResponse=function(){var t=C.coroutine(Zr.mark(function t(i){var r,e,u,s,o;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i.request),e={request:r,url:i.url,status:i.status,statusText:i.statusText,headers:i.headers,body:Array.from(i.body)},u=new QR(e,this.YT),t.next=5,this.aq.fq(u);case 5:if(!(s=t.sent)){t.next=11;break}return o=JSON.parse(s),t.abrupt("return",new _(o));case 11:throw new Cl(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"received undefined instead of string in onCertificateResponse");case 12:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.onLicenseRequest=function(){var t=C.coroutine(Zr.mark(function t(i){var r,e,u,s,o,c,a;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i),e={url:r.url,method:r.method,headers:r.headers,body:r.body?Array.from(r.body):null,useCredentials:r.useCredentials,fairplaySkdUrl:i.fairplaySkdUrl},u=new tI(e,this.YT),t.prev=3,t.next=6,this.aq.fq(u);case 6:if(!(s=t.sent)){t.next=17;break}if(o=JSON.parse(s),!this.hq(o)){t.next=14;break}return c={url:o.url,method:o.method,headers:o.headers,body:o.body?new _(o.body):null,useCredentials:o.useCredentials,fairplaySkdUrl:o.fairplaySkdUrl},t.abrupt("return",c);case 14:if(!this.vq(o)){t.next=17;break}return a=new _(o),t.abrupt("return",a);case 17:throw new Cl(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Could not parse callback in onLicenseRequest");case 20:throw t.prev=20,t.t0=t.catch(3),new Cl(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,t.t0);case 23:case"end":return t.stop()}},t,this,[[3,20]])}));return function(n){return t.apply(this,arguments)}}(),i.onLicenseResponse=function(){var t=C.coroutine(Zr.mark(function t(i){var r,e,u,s,o,c;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i.request),e=te({},r,{fairplaySkdUrl:i.request.fairplaySkdUrl}),u={request:e,url:i.url,status:i.status,statusText:i.statusText,headers:i.headers,body:Array.from(i.body)},s=new nI(u,this.YT),t.next=6,this.aq.fq(s);case 6:if(!(o=t.sent)){t.next=12;break}return c=JSON.parse(o),t.abrupt("return",new _(c));case 12:throw new Cl(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"received undefined instead of string in onLicenseResponse");case 13:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.extractFairplayContentId=function(){var t=C.coroutine(Zr.mark(function t(i){var r,e;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=new ZR(i,this.YT),t.next=3,this.aq.fq(r);case 3:if(!(e=t.sent)){t.next=6;break}return t.abrupt("return",e);case 6:return t.abrupt("return",C.reject(new Cl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"received undefined instead of string in extractFairplayContentId")));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.toCertificateRequestDTO=function(t){return{url:t.url,method:t.method,headers:t.headers,body:t.body?Array.from(t.body):null,useCredentials:t.useCredentials}},i.hq=function(t){var n=t;return void 0!==n.url&&void 0!==n.method&&void 0!==n.headers},i.vq=function(t){return!!new _(t)},t}(),rI=function(){function t(t){this.aq=void 0,this.aq=t}return t.prototype.build=function(t){if(!t.integration)throw new h("integrationId is undefined");var n=new iI(this.aq,t.integration),i=new KR({drmConfiguration:t},t.integration);return this.aq.fq(i),n},t}(),eI=function(){var t=this;this.dU=void 0,this.dq=function(n){var i=new rI(t.messageDispatcher),r=n.detail,e=r.integrationId,u=r.keySystem,s={state:lg.nE.JT(e,u,i)};t.messageDispatcher.fq(new GR(s,e))},this.dU=new $R,FE().contentProtectionIntegration={sdkEventBus:this.dU},this.dU.addEventListener(HR.tq,this.dq)},uI="nativePromiseCallback",sI=function(t){function n(n){var i;return(i=t.call(this,uI)||this).detail=n,i}return $(n,t),n}(Ze);!function(t){t.RESOLVE="NATIVE_PROMISE_RESOLVE",t.REJECT="NATIVE_PROMISE_REJECT"}(YR||(YR={}));var oI=function(t){function n(){return t.apply(this,arguments)||this}$(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.Lo(new sI(n))},i.addEventListener=function(t,n){this.Fo(t,n)},i.removeEventListener=function(t,n){this.Vo(t,n)},n}(XE),cI=function(){function t(){var t=this;this.ZV=void 0,this.promisesMap={},this.handleNativePromiseEvent=function(n){var i=t.promisesMap[n.detail.promiseId];if(!i)throw new h("Could not find a promise with id "+n.detail.promiseId);switch(n.detail.type){case YR.RESOLVE:i._c(n.detail.data);break;case YR.REJECT:i.pc(n.detail.data)}delete t.promisesMap[n.detail.promiseId]};var n=new oI;FE().nativePromise={sdkEventBus:n},n.addEventListener(uI,this.handleNativePromiseEvent)}return t.prototype.fq=function(n){var i;t.messageIdTracker+=1;var r=t.messageIdTracker.toString(),e=te({},n,{promiseId:r}),u=new cs;return this.promisesMap[r]=u,null==(i=this.ZV)||i.kM(n.type,uE(e)),u.gc},t}();cI.messageIdTracker=-1;var aI=function(t){function n(n){var i;return(i=t.call(this)||this).ZV=new xR(n),i}return $(n,t),n}(cI),fI=function(t){function n(n){var i;return(i=t.call(this)||this).aq=void 0,i.aq=new aI(n),i}return $(n,t),H(n,[{key:"messageDispatcher",get:function(){return this.aq}}]),n}(eI);FT(function(t){new fI(t.Gd.uid)}),n.ChromelessPlayer=function t(n,i){var r=Kd(i),e=new($T||($T=PT($T=ZT(NT),RT.QL),$T=PT($T,RT.ZL)),$T)(n,r),u=e.Gd;return e.$L(),e.IF(WT),d.defineProperty(u,"constructor",{value:t}),u=Nv(u),function(t){for(var n=0;n<LT.length;n++)(0,LT[n])(t)}(e),u},n.createGlobals=UE,n.features=[],n.getCueMirrorMap=ME,n.getGlobalId=BE,n.getSdkEventBridge=FE,n.playerSuiteVersion="2021.3.0",n.players=nE,n.registerContentProtectionIntegration=iE,n.utils=tE,n.version="2.87.0",d.defineProperty(n,"__esModule",{value:!0})})}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:this);
