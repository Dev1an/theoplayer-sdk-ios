/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com

 This product makes use of Open Source Software: video.js
 (Apache 2.0 - Copyright Brightcove, Inc.), Bluebird (MIT -
 Copyright (c) 2013-2015 Petka Antonov), long.js (Apache 2.0),
 nodejs-langs (MIT - Copyright Andrew Lawson)
 The code of these projects has been heavily modified during
 integration.
 More information on the licenses can be found here: Apache 2.0
 (http://www.apache.org/licenses/LICENSE-2.0), MIT
 (https://opensource.org/licenses/MIT)

 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 2021.2.1 (2.85.3)
 Created: 2021-06-21T11:24:00.299Z
 */
!function(t){!function(n,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):r((n="undefined"!=typeof globalThis?globalThis:n||t).THEOplayer={})}(this,function(n){"use strict";var r,i=t.window,e=t.document,u=t.location,s=t.navigator,o=t.setTimeout,c=t.clearTimeout,a=t.setInterval,f=t.clearInterval,h=t.Error,v=t.TypeError,d=(t.SyntaxError,t.Object),l=t.Math,w=t.parseInt,y=t.parseFloat,g=t.isNaN,_=t.Uint8Array,p=(t.Worker,t.WorkerGlobalScope,t.XMLHttpRequest),m="undefined"!=typeof globalThis?globalThis:void 0!==i?i:"undefined"!=typeof global?global:void 0!==t?t:{};function k(t,n,r){return t(r={path:n,exports:{},require:function(t,n){return function(){throw new h("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==n&&r.path)}},r.exports),r.exports}var b,T,E,S,R,I,D=k(function(n,u){n.exports=function t(n,i,e){function u(o,c){if(!i[o]){if(!n[o]){var a="function"==typeof r&&r;if(!c&&a)return a(o,!0);if(s)return s(o,!0);var f=new h("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var v=i[o]={exports:{}};n[o][0].call(v.exports,function(t){var r=n[o][1][t];return u(r||t)},v,v.exports,t,n,i,e)}return i[o].exports}for(var s="function"==typeof r&&r,o=0;o<e.length;o++)u(e[o]);return u}({1:[function(t,n,r){n.exports=function(t){var n=t.o;function r(t){var r=new n(t),i=r.promise();return r.setHowMany(1),r.setUnwrap(),r.init(),i}t.any=function(t){return r(t)},t.prototype.any=function(){return r(this)}}},{}],2:[function(t,n,r){var i;try{throw new h}catch(t){i=t}var e=t("./schedule"),u=t("./queue"),s=t("./util");function c(){this.v=!1,this.l=!1,this.g=new u(16),this.p=new u(16),this.R=!1,this.I=!0;var t=this;this.drainQueues=function(){t.C()},this.N=e}function a(t,n,r){this.g.push(t,n,r),this.F()}function f(t,n,r){this.p.push(t,n,r),this.F()}function v(t){this.p.B(t),this.F()}function d(t){for(;t.length()>0;)l(t)}function l(t){var n=t.shift();if("function"!=typeof n)n.M();else{var r=t.shift(),i=t.shift();n.call(r,i)}}c.prototype.setScheduler=function(t){var n=this.N;return this.N=t,this.v=!0,n},c.prototype.hasCustomScheduler=function(){return this.v},c.prototype.enableTrampoline=function(){this.I=!0},c.prototype.disableTrampolineIfNecessary=function(){s.hasDevTools&&(this.I=!1)},c.prototype.haveItemsQueued=function(){return this.l||this.R},c.prototype.fatalError=function(t,n){n?(process.stderr.write("Fatal "+(t instanceof h?t.stack:t)+"\n"),process.exit(2)):this.throwLater(t)},c.prototype.throwLater=function(t,n){if(1===arguments.length&&(n=t,t=function(){throw n}),void 0!==o)o(function(){t(n)},0);else try{this.N(function(){t(n)})}catch(t){throw new h("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},s.hasDevTools?(c.prototype.invokeLater=function(t,n,r){this.I?a.call(this,t,n,r):this.N(function(){o(function(){t.call(n,r)},100)})},c.prototype.invoke=function(t,n,r){this.I?f.call(this,t,n,r):this.N(function(){t.call(n,r)})},c.prototype.settlePromises=function(t){this.I?v.call(this,t):this.N(function(){t.M()})}):(c.prototype.invokeLater=a,c.prototype.invoke=f,c.prototype.settlePromises=v),c.prototype.C=function(){d(this.p),this.U(),this.R=!0,d(this.g)},c.prototype.F=function(){this.l||(this.l=!0,this.N(this.drainQueues))},c.prototype.U=function(){this.l=!1},n.exports=c,n.exports.firstLineError=i},{"./queue":26,"./schedule":29,"./util":36}],3:[function(t,n,r){n.exports=function(t,n,r,i){var e=!1,u=function(t,n){this.V(n)},s=function(t,n){n.promiseRejectionQueued=!0,n.bindingPromise.j(u,u,null,this,t)},o=function(t,n){0==(50397184&this.H)&&this.W(n.target)},c=function(t,n){n.promiseRejectionQueued||this.V(t)};t.prototype.bind=function(u){e||(e=!0,t.prototype.X=i.propagateFromFunction(),t.prototype.G=i.boundValueFunction());var a=r(u),f=new t(n);f.X(this,1);var h=this.Y();if(f.K(a),a instanceof t){var v={promiseRejectionQueued:!1,promise:f,target:h,bindingPromise:a};h.j(n,s,void 0,f,v),a.j(o,c,void 0,f,v),f.J(a)}else f.W(h);return f},t.prototype.K=function(t){void 0!==t?(this.H=2097152|this.H,this.Z=t):this.H=-2097153&this.H},t.prototype.nt=function(){return 2097152==(2097152&this.H)},t.bind=function(n,r){return t.resolve(r).bind(n)}}},{}],4:[function(t,n,r){var i;"undefined"!=typeof Promise&&(i=Promise);var e=t("./promise")();e.noConflict=function(){try{Promise===e&&(Promise=i)}catch(t){}return e},n.exports=e},{"./promise":22}],5:[function(t,n,r){var i=d.create;if(i){var e=i(null),u=i(null);e[" size"]=u[" size"]=0}n.exports=function(n){var r=t("./util"),i=r.canEvaluate;function e(t){var i=this.pop(),e=function(t,i){var e;if(null!=t&&(e=t[i]),"function"!=typeof e){var u="Object "+r.classString(t)+" has no method '"+r.toString(i)+"'";throw new n.TypeError(u)}return e}(t,i);return e.apply(t,this)}function u(t){return t[this]}function s(t){var n=+this;return n<0&&(n=l.max(0,n+t.length)),t[n]}r.isIdentifier,n.prototype.call=function(t){var n=[].slice.call(arguments,1);return n.push(t),this.j(e,void 0,void 0,n,void 0)},n.prototype.get=function(t){var n,r="number"==typeof t;if(r)n=s;else if(i){var e=(void 0)();n=null!==e?e:u}else n=u;return this.j(n,void 0,void 0,t,void 0)}}},{"./util":36}],6:[function(t,n,r){n.exports=function(n,r,i,e){var u=t("./util"),s=u.tryCatch,o=u.errorObj,c=n.rt;n.prototype.break=n.prototype.cancel=function(){if(!e.cancellation())return this.it("cancellation is disabled");for(var t=this,n=t;t.et();){if(!t.ut(n)){n.st()?n.ot().cancel():n.ct();break}var r=t.at;if(null==r||!r.et()){t.st()?t.ot().cancel():t.ct();break}t.st()&&t.ot().cancel(),t.ft(),n=t,t=r}},n.prototype.ht=function(){this.vt--},n.prototype.dt=function(){return void 0===this.vt||this.vt<=0},n.prototype.ut=function(t){return t===this?(this.vt=0,this.wt(),!0):(this.ht(),!!this.dt()&&(this.wt(),!0))},n.prototype.ct=function(){this.dt()&&this.yt()},n.prototype.yt=function(){this.et()&&(this._t(),c.invoke(this.pt,this,void 0))},n.prototype.pt=function(){this.kt()>0&&this.M()},n.prototype.bt=function(){this.Tt=void 0},n.prototype.et=function(){return this.isPending()&&!this.Et()},n.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},n.prototype.St=function(t,n){if(u.isArray(t))for(var r=0;r<t.length;++r)this.St(t[r],n);else if(void 0!==t)if("function"==typeof t){if(!n){var i=s(t).call(this.G());i===o&&(this.Rt(i.e),c.throwLater(i.e))}}else t._resultCancelled(this)},n.prototype.wt=function(){var t=this.It();this.bt(),c.invoke(this.St,this,t)},n.prototype.Dt=function(){this.et()&&(this.St(this.It(),!0),this.bt())},n.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(t,n,r){n.exports=function(n){var r=t("./util"),i=t("./es5").keys,e=r.tryCatch,u=r.errorObj;return function(t,s,o){return function(c){var a=o.G();t:for(var f=0;f<t.length;++f){var v=t[f];if(v===h||null!=v&&v.prototype instanceof h){if(c instanceof v)return e(s).call(a,c)}else if("function"==typeof v){var d=e(v).call(a,c);if(d===u)return d;if(d)return e(s).call(a,c)}else if(r.isObject(c)){for(var l=i(v),w=0;w<l.length;++w){var y=l[w];if(v[y]!=c[y])continue t}return e(s).call(a,c)}}return n}}}},{"./es5":13,"./util":36}],8:[function(t,n,r){n.exports=function(t){var n=!1,r=[];function i(){this.Ct=new i.CapturedTrace(e())}function e(){var t=r.length-1;if(t>=0)return r[t]}return t.prototype.Nt=function(){},t.prototype.At=function(){},t.prototype.Ot=function(){return null},t.xt=t.prototype.xt=function(){},i.prototype.At=function(){void 0!==this.Ct&&(this.Ct.Nt=null,r.push(this.Ct))},i.prototype.Ot=function(){if(void 0!==this.Ct){var t=r.pop(),n=t.Nt;return t.Nt=null,n}return null},i.CapturedTrace=null,i.create=function(){if(n)return new i},i.deactivateLongStackTraces=function(){},i.activateLongStackTraces=function(){var r=t.prototype.At,u=t.prototype.Ot,s=t.xt,o=t.prototype.xt,c=t.prototype.Nt;i.deactivateLongStackTraces=function(){t.prototype.At=r,t.prototype.Ot=u,t.xt=s,t.prototype.xt=o,t.prototype.Nt=c,n=!1},n=!0,t.prototype.At=i.prototype.At,t.prototype.Ot=i.prototype.Ot,t.xt=t.prototype.xt=e,t.prototype.Nt=function(){var t=this.xt();t&&null==t.Nt&&(t.Nt=this)}},i}},{}],9:[function(t,n,r){n.exports=function(n,r){var i,u,s,c=n.Pt,a=n.rt,f=t("./errors").Warning,l=t("./util"),y=t("./es5"),g=l.canAttachTrace,_=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,p=/\((?:timers\.js):\d+:\d+\)/,m=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,k=null,b=null,T=!1,E=!(0==l.env("BLUEBIRD_DEBUG")),S=!(0==l.env("BLUEBIRD_WARNINGS")||!E&&!l.env("BLUEBIRD_WARNINGS")),R=!(0==l.env("BLUEBIRD_LONG_STACK_TRACES")||!E&&!l.env("BLUEBIRD_LONG_STACK_TRACES")),I=0!=l.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(S||!!l.env("BLUEBIRD_W_FORGOTTEN_RETURN"));n.prototype.suppressUnhandledRejections=function(){var t=this.Y();t.H=-1048577&t.H|524288},n.prototype.Lt=function(){if(0==(524288&this.H)){this.Ft();var t=this;o(function(){t.Bt()},1)}},n.prototype.Mt=function(){K("rejectionHandled",i,void 0,this)},n.prototype.Ut=function(){this.H=268435456|this.H},n.prototype.qt=function(){return 0!=(268435456&this.H)},n.prototype.Bt=function(){if(this.Vt()){var t=this.jt();this.Ht(),K("unhandledRejection",u,t,this)}},n.prototype.Ht=function(){this.H=262144|this.H},n.prototype.Wt=function(){this.H=-262145&this.H},n.prototype.$t=function(){return(262144&this.H)>0},n.prototype.Ft=function(){this.H=1048576|this.H},n.prototype.zt=function(){this.H=-1048577&this.H,this.$t()&&(this.Wt(),this.Mt())},n.prototype.Vt=function(){return(1048576&this.H)>0},n.prototype.it=function(t,n,r){return z(t,n,r||this)},n.onPossiblyUnhandledRejection=function(t){var n=c();u="function"==typeof t?null===n?t:l.domainBind(n,t):void 0},n.onUnhandledRejectionHandled=function(t){var n=c();i="function"==typeof t?null===n?t:l.domainBind(n,t):void 0};var D=function(){};n.longStackTraces=function(){if(a.haveItemsQueued()&&!et.longStackTraces)throw new h("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!et.longStackTraces&&Q()){var t=n.prototype.Xt,i=n.prototype.Rt,e=n.prototype.Gt;et.longStackTraces=!0,D=function(){if(a.haveItemsQueued()&&!et.longStackTraces)throw new h("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");n.prototype.Xt=t,n.prototype.Rt=i,n.prototype.Gt=e,r.deactivateLongStackTraces(),a.enableTrampoline(),et.longStackTraces=!1},n.prototype.Xt=H,n.prototype.Rt=W,n.prototype.Gt=$,r.activateLongStackTraces(),a.disableTrampolineIfNecessary()}},n.hasLongStackTraces=function(){return et.longStackTraces&&Q()};var C=function(){try{if("function"==typeof CustomEvent){var t=new CustomEvent("CustomEvent");return l.global.dispatchEvent(t),function(t,n){var r={detail:n,cancelable:!0};y.defineProperty(r,"promise",{value:n.promise}),y.defineProperty(r,"reason",{value:n.reason});var i=new CustomEvent(t.toLowerCase(),r);return!l.global.dispatchEvent(i)}}if("function"==typeof Event){var t=new Event("CustomEvent");return l.global.dispatchEvent(t),function(t,n){var r=new Event(t.toLowerCase(),{cancelable:!0});return r.detail=n,y.defineProperty(r,"promise",{value:n.promise}),y.defineProperty(r,"reason",{value:n.reason}),!l.global.dispatchEvent(r)}}var t=e.createEvent("CustomEvent");return t.initCustomEvent("testingtheevent",!1,!0,{}),l.global.dispatchEvent(t),function(t,n){var r=e.createEvent("CustomEvent");return r.initCustomEvent(t.toLowerCase(),!1,!0,n),!l.global.dispatchEvent(r)}}catch(t){}return function(){return!1}}(),N=l.isNode?function(){return process.emit.apply(process,arguments)}:l.global?function(t){var n="on"+t.toLowerCase(),r=l.global[n];return!!r&&(r.apply(l.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function A(t,n){return{promise:n}}var O={promiseCreated:A,promiseFulfilled:A,promiseRejected:A,promiseResolved:A,promiseCancelled:A,promiseChained:function(t,n,r){return{promise:n,child:r}},warning:function(t,n){return{warning:n}},unhandledRejection:function(t,n,r){return{reason:n,promise:r}},rejectionHandled:A},x=function(t){var n=!1;try{n=N.apply(null,arguments)}catch(t){a.throwLater(t),n=!0}var r=!1;try{r=C(t,O[t].apply(null,arguments))}catch(t){a.throwLater(t),r=!0}return r||n};function P(){return!1}function L(t,n,r){var i=this;try{t(n,r,function(t){if("function"!=typeof t)throw new v("onCancel must be a function, got: "+l.toString(t));i.Yt(t)})}catch(t){return t}}function F(t){if(!this.et())return this;var n=this.It();void 0!==n?l.isArray(n)?n.push(t):this.J([n,t]):this.J(t)}function B(){return this.Tt}function M(t){this.Tt=t}function U(){this.at=void 0,this.Tt=void 0}function q(t,n){if(0!=(1&n)){this.at=t;var r=t.vt;void 0===r&&(r=0),t.vt=r+1}0!=(2&n)&&t.nt()&&this.K(t.Z)}n.config=function(t){if("longStackTraces"in(t=d(t))&&(t.longStackTraces?n.longStackTraces():!t.longStackTraces&&n.hasLongStackTraces()&&D()),"warnings"in t){var r=t.warnings;et.warnings=!!r,I=et.warnings,l.isObject(r)&&"wForgottenReturn"in r&&(I=!!r.wForgottenReturn)}if("cancellation"in t&&t.cancellation&&!et.cancellation){if(a.haveItemsQueued())throw new h("cannot enable cancellation after promises are in use");n.prototype.Kt=U,n.prototype.X=q,n.prototype.It=B,n.prototype.J=M,n.prototype.Yt=F,n.prototype.Jt=L,V=q,et.cancellation=!0}return"monitoring"in t&&(t.monitoring&&!et.monitoring?(et.monitoring=!0,n.prototype.Qt=x):!t.monitoring&&et.monitoring&&(et.monitoring=!1,n.prototype.Qt=P)),n},n.prototype.Qt=P,n.prototype.Jt=function(t,n,r){try{t(n,r)}catch(t){return t}},n.prototype.It=function(){},n.prototype.J=function(t){},n.prototype.Yt=function(t){},n.prototype.Xt=function(){},n.prototype.Rt=function(){},n.prototype.Gt=function(){},n.prototype.Kt=function(){},n.prototype.X=function(t,n){};var V=function(t,n){0!=(2&n)&&t.nt()&&this.K(t.Z)};function j(){var t=this.Z;return void 0!==t&&t instanceof n?t.isFulfilled()?t.value():void 0:t}function H(){this.Ct=new rt(this.xt())}function W(t,n){if(g(t)){var r=this.Ct;if(void 0!==r&&n&&(r=r.Zt),void 0!==r)r.attachExtraTrace(t);else if(!t.tn){var i=G(t);l.notEnumerableProp(t,"stack",i.message+"\n"+i.stack.join("\n")),l.notEnumerableProp(t,"tn",!0)}}}function $(){this.Ct=void 0}function z(t,r,i){if(et.warnings){var e,u=new f(t);if(r)i.Rt(u);else if(et.longStackTraces&&(e=n.xt()))e.attachExtraTrace(u);else{var s=G(u);u.stack=s.message+"\n"+s.stack.join("\n")}x("warning",u)||Y(u,"",!0)}}function X(t){for(var n=[],r=0;r<t.length;++r){var i=t[r],e="    (No stack trace)"===i||k.test(i),u=e&&Z(i);e&&!u&&(T&&" "!==i.charAt(0)&&(i="    "+i),n.push(i))}return n}function G(t){var n=t.stack,r=t.toString();return n="string"==typeof n&&n.length>0?function(t){for(var n=t.stack.replace(/\s+$/g,"").split("\n"),r=0;r<n.length;++r){var i=n[r];if("    (No stack trace)"===i||k.test(i))break}return r>0&&"SyntaxError"!=t.name&&(n=n.slice(r)),n}(t):["    (No stack trace)"],{message:r,stack:"SyntaxError"==t.name?n:X(n)}}function Y(t,n,r){if("undefined"!=typeof console){var i;if(l.isObject(t)){var e=t.stack;i=n+b(e,t)}else i=n+String(t);"function"==typeof s?s(i,r):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(i)}}function K(t,n,r,i){var e=!1;try{"function"==typeof n&&(e=!0,"rejectionHandled"===t?n(i):n(r,i))}catch(t){a.throwLater(t)}"unhandledRejection"===t?x(t,r,i)||e||Y(r,"Unhandled rejection "):x(t,i)}function J(t){var n;if("function"==typeof t)n="[function "+(t.name||"anonymous")+"]";else{if(n=t&&"function"==typeof t.toString?t.toString():l.toString(t),/\[object [a-zA-Z0-9$_]+\]/.test(n))try{var r=JSON.stringify(t);n=r}catch(t){}0===n.length&&(n="(empty array)")}return"(<"+function(t){return t.length<41?t:t.substr(0,38)+"..."}(n)+">, no stack trace)"}function Q(){return"function"==typeof it}var Z=function(){return!1},tt=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function nt(t){var n=t.match(tt);if(n)return{fileName:n[1],line:w(n[2],10)}}function rt(t){this.Zt=t,this.nn=0;var n=this.kt=1+(void 0===t?0:t.kt);it(this,rt),n>32&&this.uncycle()}l.inherits(rt,h),r.CapturedTrace=rt,rt.prototype.uncycle=function(){var t=this.kt;if(!(t<2)){for(var n=[],r={},i=0,e=this;void 0!==e;++i)n.push(e),e=e.Zt;for(var i=(t=this.kt=i)-1;i>=0;--i){var u=n[i].stack;void 0===r[u]&&(r[u]=i)}for(var i=0;i<t;++i){var s=n[i].stack,o=r[s];if(void 0!==o&&o!==i){o>0&&(n[o-1].Zt=void 0,n[o-1].kt=1),n[i].Zt=void 0,n[i].kt=1;var c=i>0?n[i-1]:this;o<t-1?(c.Zt=n[o+1],c.Zt.uncycle(),c.kt=c.Zt.kt+1):(c.Zt=void 0,c.kt=1);for(var a=c.kt+1,f=i-2;f>=0;--f)n[f].kt=a,a++;return}}}},rt.prototype.attachExtraTrace=function(t){if(!t.tn){this.uncycle();for(var n=G(t),r=n.message,i=[n.stack],e=this;void 0!==e;)i.push(X(e.stack.split("\n"))),e=e.Zt;!function(t){for(var n=t[0],r=1;r<t.length;++r){for(var i=t[r],e=n.length-1,u=n[e],s=-1,o=i.length-1;o>=0;--o)if(i[o]===u){s=o;break}for(var o=s;o>=0;--o){var c=i[o];if(n[e]!==c)break;n.pop(),e--}n=i}}(i),function(t){for(var n=0;n<t.length;++n)(0===t[n].length||n+1<t.length&&t[n][0]===t[n+1][0])&&(t.splice(n,1),n--)}(i),l.notEnumerableProp(t,"stack",function(t,n){for(var r=0;r<n.length-1;++r)n[r].push("From previous event:"),n[r]=n[r].join("\n");return r<n.length&&(n[r]=n[r].join("\n")),t+"\n"+n.join("\n")}(r,i)),l.notEnumerableProp(t,"tn",!0)}};var it=function(){var t=/^\s*at\s*/,n=function(t,n){return"string"==typeof t?t:void 0!==n.name&&void 0!==n.message?n.toString():J(n)};if("number"==typeof h.stackTraceLimit&&"function"==typeof h.captureStackTrace){h.stackTraceLimit+=6,k=t,b=n;var r=h.captureStackTrace;return Z=function(t){return _.test(t)},function(t,n){h.stackTraceLimit+=6,r(t,n),h.stackTraceLimit-=6}}var i,e=new h;if("string"==typeof e.stack&&e.stack.split("\n")[0].indexOf("stackDetection@")>=0)return k=/@/,b=n,T=!0,function(t){t.stack=(new h).stack};try{throw new h}catch(t){i="stack"in t}return"stack"in e||!i||"number"!=typeof h.stackTraceLimit?(b=function(t,n){return"string"==typeof t?t:"object"!=typeof n&&"function"!=typeof n||void 0===n.name||void 0===n.message?J(n):n.toString()},null):(k=t,b=n,function(t){h.stackTraceLimit+=6;try{throw new h}catch(n){t.stack=n.stack}h.stackTraceLimit-=6})}();"undefined"!=typeof console&&void 0!==console.warn&&(s=function(t){console.warn(t)},l.isNode&&process.stderr.isTTY?s=function(t,n){var r=n?"\x1b[33m":"\x1b[31m";console.warn(r+t+"\x1b[0m\n")}:l.isNode||"string"!=typeof(new h).stack||(s=function(t,n){console.warn("%c"+t,n?"color: darkorange":"color: red")}));var et={warnings:S,longStackTraces:!1,cancellation:!1,monitoring:!1};return R&&n.longStackTraces(),{longStackTraces:function(){return et.longStackTraces},warnings:function(){return et.warnings},cancellation:function(){return et.cancellation},monitoring:function(){return et.monitoring},propagateFromFunction:function(){return V},boundValueFunction:function(){return j},checkForgottenReturns:function(t,n,r,i,e){if(void 0===t&&null!==n&&I){if(void 0!==e&&e.qt())return;if(0==(65535&i.H))return;r&&(r+=" ");var u="",s="";if(n.Ct){for(var o=n.Ct.stack.split("\n"),c=X(o),a=c.length-1;a>=0;--a){var f=c[a];if(!p.test(f)){var h=f.match(m);h&&(u="at "+h[1]+":"+h[2]+":"+h[3]+" ");break}}if(c.length>0)for(var v=c[0],a=0;a<o.length;++a)if(o[a]===v){a>0&&(s="\n"+o[a-1]);break}}var d="a promise was created in a "+r+"handler "+u+"but was not returned from it, see http://goo.gl/rRqMUw"+s;i.it(d,!0,n)}},setBounds:function(t,n){if(Q()){for(var r,i,e=(t.stack||"").split("\n"),u=(n.stack||"").split("\n"),s=-1,o=-1,c=0;c<e.length;++c){var a=nt(e[c]);if(a){r=a.fileName,s=a.line;break}}for(var c=0;c<u.length;++c){var a=nt(u[c]);if(a){i=a.fileName,o=a.line;break}}s<0||o<0||!r||!i||r!==i||s>=o||(Z=function(t){if(_.test(t))return!0;var n=nt(t);return!!(n&&n.fileName===r&&s<=n.line&&n.line<=o)})}},warn:z,deprecated:function(t,n){var r=t+" is deprecated and will be removed in a future version.";return n&&(r+=" Use "+n+" instead."),z(r)},CapturedTrace:rt,fireDomEvent:C,fireGlobalEvent:N}}},{"./errors":12,"./es5":13,"./util":36}],10:[function(t,n,r){n.exports=function(t){function n(){return this.value}function r(){throw this.reason}t.prototype.return=t.prototype.thenReturn=function(r){return r instanceof t&&r.suppressUnhandledRejections(),this.j(n,void 0,void 0,{value:r},void 0)},t.prototype.throw=t.prototype.thenThrow=function(t){return this.j(r,void 0,void 0,{reason:t},void 0)},t.prototype.catchThrow=function(t){if(arguments.length<=1)return this.j(void 0,r,void 0,{reason:t},void 0);var n=arguments[1];return this.caught(t,function(){throw n})},t.prototype.catchReturn=function(r){if(arguments.length<=1)return r instanceof t&&r.suppressUnhandledRejections(),this.j(void 0,n,void 0,{value:r},void 0);var i=arguments[1];return i instanceof t&&i.suppressUnhandledRejections(),this.caught(r,function(){return i})}}},{}],11:[function(t,n,r){n.exports=function(t,n){var r=t.reduce,i=t.all;function e(){return i(this)}t.prototype.each=function(t){return r(this,t,n,0).j(e,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(t){return r(this,t,n,n)},t.each=function(t,i){return r(t,i,n,0).j(e,void 0,void 0,t,void 0)},t.mapSeries=function(t,i){return r(t,i,n,n)}}},{}],12:[function(t,n,r){var i,e,u=t("./es5"),s=u.freeze,o=t("./util"),c=o.inherits,a=o.notEnumerableProp;function f(t,n){function r(i){if(!(this instanceof r))return new r(i);a(this,"message","string"==typeof i?i:n),a(this,"name",t),h.captureStackTrace?h.captureStackTrace(this,this.constructor):h.call(this)}return c(r,h),r}var d=f("Warning","warning"),l=f("CancellationError","cancellation error"),w=f("TimeoutError","timeout error"),y=f("AggregateError","aggregate error");try{i=v,e=RangeError}catch(t){i=f("TypeError","type error"),e=f("RangeError","range error")}for(var g="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),_=0;_<g.length;++_)"function"==typeof Array.prototype[g[_]]&&(y.prototype[g[_]]=Array.prototype[g[_]]);u.defineProperty(y.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),y.prototype.isOperational=!0;var p=0;function m(t){if(!(this instanceof m))return new m(t);a(this,"name","OperationalError"),a(this,"message",t),this.cause=t,this.isOperational=!0,t instanceof h?(a(this,"message",t.message),a(this,"stack",t.stack)):h.captureStackTrace&&h.captureStackTrace(this,this.constructor)}y.prototype.toString=function(){var t=Array(4*p+1).join(" "),n="\n"+t+"AggregateError of:\n";p++,t=Array(4*p+1).join(" ");for(var r=0;r<this.length;++r){for(var i=this[r]===this?"[Circular AggregateError]":this[r]+"",e=i.split("\n"),u=0;u<e.length;++u)e[u]=t+e[u];i=e.join("\n"),n+=i+"\n"}return p--,n},c(m,h);var k=h.rn;k||(k=s({CancellationError:l,TimeoutError:w,OperationalError:m,RejectionError:m,AggregateError:y}),u.defineProperty(h,"rn",{value:k,writable:!1,enumerable:!1,configurable:!1})),n.exports={Error:h,TypeError:i,RangeError:e,CancellationError:k.CancellationError,OperationalError:k.OperationalError,TimeoutError:k.TimeoutError,AggregateError:k.AggregateError,Warning:d}},{"./es5":13,"./util":36}],13:[function(t,n,r){var i=function(){return void 0===this}();if(i)n.exports={freeze:d.freeze,defineProperty:d.defineProperty,getDescriptor:d.getOwnPropertyDescriptor,keys:d.keys,names:d.getOwnPropertyNames,getPrototypeOf:d.getPrototypeOf,isArray:Array.isArray,isES5:i,propertyIsWritable:function(t,n){var r=d.getOwnPropertyDescriptor(t,n);return!(r&&!r.writable&&!r.set)}};else{var e={}.hasOwnProperty,u={}.toString,s={}.constructor.prototype,o=function(t){var n=[];for(var r in t)e.call(t,r)&&n.push(r);return n};n.exports={isArray:function(t){try{return"[object Array]"===u.call(t)}catch(t){return!1}},keys:o,names:o,defineProperty:function(t,n,r){return t[n]=r.value,t},getDescriptor:function(t,n){return{value:t[n]}},freeze:function(t){return t},getPrototypeOf:function(t){try{return d(t).constructor.prototype}catch(t){return s}},isES5:i,propertyIsWritable:function(){return!0}}}},{}],14:[function(t,n,r){n.exports=function(t,n){var r=t.map;t.prototype.filter=function(t,i){return r(this,t,i,n)},t.filter=function(t,i,e){return r(t,i,e,n)}}},{}],15:[function(t,n,r){n.exports=function(n,r,i){var e=t("./util"),u=n.CancellationError,s=e.errorObj,o=t("./catch_filter")(i);function c(t,n,r){this.promise=t,this.type=n,this.handler=r,this.called=!1,this.cancelPromise=null}function a(t){this.finallyHandler=t}function f(t,n){return null!=t.cancelPromise&&(arguments.length>1?t.cancelPromise.V(n):t.cancelPromise.yt(),t.cancelPromise=null,!0)}function h(){return l.call(this,this.promise.Y().jt())}function d(t){if(!f(this,t))return s.e=t,s}function l(t){var e=this.promise,o=this.handler;if(!this.called){this.called=!0;var c=this.isFinallyHandler()?o.call(e.G()):o.call(e.G(),t);if(c===i)return c;if(void 0!==c){e.Ut();var v=r(c,e);if(v instanceof n){if(null!=this.cancelPromise){if(v.Et()){var l=new u("late cancellation observer");return e.Rt(l),s.e=l,s}v.isPending()&&v.Yt(new a(this))}return v.j(h,d,void 0,this,void 0)}}}return e.isRejected()?(f(this),s.e=t,s):(f(this),t)}return c.prototype.isFinallyHandler=function(){return 0===this.type},a.prototype._resultCancelled=function(){f(this.finallyHandler)},n.prototype.in=function(t,n,r,i){return"function"!=typeof t?this.then():this.j(r,i,void 0,new c(this,n,t),void 0)},n.prototype.lastly=n.prototype.finally=function(t){return this.in(t,0,l,l)},n.prototype.tap=function(t){return this.in(t,1,l)},n.prototype.tapCatch=function(t){var r=arguments.length;if(1===r)return this.in(t,1,void 0,l);var i,u=new Array(r-1),s=0;for(i=0;i<r-1;++i){var c=arguments[i];if(!e.isObject(c))return n.reject(new v("tapCatch statement predicate: expecting an object but got "+e.classString(c)));u[s++]=c}u.length=s;var a=arguments[i];return this.in(o(u,a,this),1,void 0,l)},c}},{"./catch_filter":7,"./util":36}],16:[function(t,n,r){n.exports=function(n,r,i,e,u,s){var o=t("./errors"),c=o.TypeError,a=t("./util"),f=a.errorObj,v=a.tryCatch,l=[];function w(t,r,e,u){if(s.cancellation()){var o=new n(i),c=this.en=new n(i);this.un=o.lastly(function(){return c}),o.Xt(),o.J(this)}else{var a=this.un=new n(i);a.Xt()}this.sn=u,this.cn=t,this.an=r,this.fn=void 0,this.hn="function"==typeof e?[e].concat(l):l,this.vn=null,this.dn=!1}a.inherits(w,u),w.prototype.ln=function(){return null===this.un},w.prototype.wn=function(){this.un=this.fn=null,s.cancellation()&&null!==this.en&&(this.en.yn(),this.en=null)},w.prototype.gn=function(){if(!this.ln()){var t,r=void 0!==this.fn.return;if(r)this.un.At(),t=v(this.fn.return).call(this.fn,void 0),this.un.Ot();else{var i=new n.CancellationError("generator .return() sentinel");n.coroutine.returnSentinel=i,this.un.Rt(i),this.un.At(),t=v(this.fn.throw).call(this.fn,i),this.un.Ot()}this.dn=!0,this.vn=null,this._n(t)}},w.prototype.pn=function(t){this.vn=null,this.un.At();var n=v(this.fn.next).call(this.fn,t);this.un.Ot(),this._n(n)},w.prototype.mn=function(t){this.vn=null,this.un.Rt(t),this.un.At();var n=v(this.fn.throw).call(this.fn,t);this.un.Ot(),this._n(n)},w.prototype._resultCancelled=function(){if(this.vn instanceof n){var t=this.vn;this.vn=null,t.cancel()}},w.prototype.promise=function(){return this.un},w.prototype.kn=function(){this.fn=this.cn.call(this.an),this.an=this.cn=void 0,this.pn(void 0)},w.prototype._n=function(t){var r=this.un;if(t===f)return this.wn(),this.dn?r.cancel():r.bn(t.e,!1);var i=t.value;if(!0===t.done)return this.wn(),this.dn?r.cancel():r.W(i);var u=e(i,this.un);if(u instanceof n||null!==(u=function(t,r,i){for(var u=0;u<r.length;++u){i.At();var s=v(r[u])(t);if(i.Ot(),s===f){i.At();var o=n.reject(f.e);return i.Ot(),o}var c=e(s,i);if(c instanceof n)return c}return null}(u,this.hn,this.un))){var s=(u=u.Y()).H;0==(50397184&s)?(this.vn=u,u.Tn(this,null)):0!=(33554432&s)?n.rt.invoke(this.pn,this,u.En()):0!=(16777216&s)?n.rt.invoke(this.mn,this,u.Sn()):this.gn()}else this.mn(new c("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(i))+"From coroutine:\n"+this.sn.split("\n").slice(1,-7).join("\n")))},n.coroutine=function(t,n){if("function"!=typeof t)throw new c("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var r=d(n).yieldHandler,i=w,e=(new h).stack;return function(){var n=t.apply(this,arguments),u=new i(void 0,void 0,r,e),s=u.promise();return u.fn=n,u.pn(void 0),s}},n.coroutine.addYieldHandler=function(t){if("function"!=typeof t)throw new c("expecting a function but got "+a.classString(t));l.push(t)},n.spawn=function(t){if(s.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof t)return r("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var i=new w(t,this),e=i.promise();return i.kn(n.spawn),e}}},{"./errors":12,"./util":36}],17:[function(t,n,r){n.exports=function(n,r,i,e,u,s){var o=t("./util");o.canEvaluate,o.tryCatch,o.errorObj,n.join=function(){var t,n=arguments.length-1;n>0&&"function"==typeof arguments[n]&&(t=arguments[n]);var i=[].slice.call(arguments);t&&i.pop();var e=new r(i).promise();return void 0!==t?e.spread(t):e}}},{"./util":36}],18:[function(t,n,r){n.exports=function(n,r,i,e,u,s){var o=n.Pt,c=t("./util"),a=c.tryCatch,f=c.errorObj,h=n.rt;function d(t,n,r,i){this.constructor$(t),this.un.Xt();var e=o();this.Rn=null===e?n:c.domainBind(e,n),this.In=i===u?new Array(this.length()):null,this.Dn=r,this.Cn=0,this.Nn=[],h.invoke(this.An,this,void 0)}function l(t,r,e,u){if("function"!=typeof r)return i("expecting a function but got "+c.classString(r));var s=0;if(void 0!==e){if("object"!=typeof e||null===e)return n.reject(new v("options argument must be an object but it is "+c.classString(e)));if("number"!=typeof e.concurrency)return n.reject(new v("'concurrency' must be a number but it is "+c.classString(e.concurrency)));s=e.concurrency}return s="number"==typeof s&&isFinite(s)&&s>=1?s:0,new d(t,r,s,u).promise()}c.inherits(d,r),d.prototype.An=function(){this._init$(void 0,-2)},d.prototype._init=function(){},d.prototype.pn=function(t,r){var i=this.On,u=this.length(),o=this.In,c=this.Dn;if(r<0){if(i[r=-1*r-1]=t,c>=1&&(this.Cn--,this.xn(),this.ln()))return!0}else{if(c>=1&&this.Cn>=c)return i[r]=t,this.Nn.push(r),!1;null!==o&&(o[r]=t);var h=this.un,v=this.Rn,d=h.G();h.At();var l=a(v).call(d,t,r,u),w=h.Ot();if(s.checkForgottenReturns(l,w,null!==o?"Promise.filter":"Promise.map",h),l===f)return this.V(l.e),!0;var y=e(l,this.un);if(y instanceof n){var g=(y=y.Y()).H;if(0==(50397184&g))return c>=1&&this.Cn++,i[r]=y,y.Tn(this,-1*(r+1)),!1;if(0==(33554432&g))return 0!=(16777216&g)?(this.V(y.Sn()),!0):(this.yt(),!0);l=y.En()}i[r]=l}var _=++this.Pn;return _>=u&&(null!==o?this.Ln(i,o):this.Fn(i),!0)},d.prototype.xn=function(){for(var t=this.Nn,n=this.Dn,r=this.On;t.length>0&&this.Cn<n;){if(this.ln())return;var i=t.pop();this.pn(r[i],i)}},d.prototype.Ln=function(t,n){for(var r=n.length,i=new Array(r),e=0,u=0;u<r;++u)t[u]&&(i[e++]=n[u]);i.length=e,this.Fn(i)},d.prototype.preservedValues=function(){return this.In},n.prototype.map=function(t,n){return l(this,t,n,null)},n.map=function(t,n,r,i){return l(t,n,r,i)}}},{"./util":36}],19:[function(t,n,r){n.exports=function(n,r,i,e,u){var s=t("./util"),o=s.tryCatch;n.method=function(t){if("function"!=typeof t)throw new n.TypeError("expecting a function but got "+s.classString(t));return function(){var i=new n(r);i.Xt(),i.At();var e=o(t).apply(this,arguments),s=i.Ot();return u.checkForgottenReturns(e,s,"Promise.method",i),i.Bn(e),i}},n.attempt=n.try=function(t){if("function"!=typeof t)return e("expecting a function but got "+s.classString(t));var i,c=new n(r);if(c.Xt(),c.At(),arguments.length>1){u.deprecated("calling Promise.try with more than 1 argument");var a=arguments[1],f=arguments[2];i=s.isArray(a)?o(t).apply(f,a):o(t).call(f,a)}else i=o(t)();var h=c.Ot();return u.checkForgottenReturns(i,h,"Promise.try",c),c.Bn(i),c},n.prototype.Bn=function(t){t===s.errorObj?this.bn(t.e,!1):this.W(t,!0)}}},{"./util":36}],20:[function(t,n,r){var i=t("./util"),e=i.maybeWrapAsError,u=t("./errors"),s=u.OperationalError,o=t("./es5"),c=/^(?:name|message|stack|cause)$/;function a(t){var n;if(function(t){return t instanceof h&&o.getPrototypeOf(t)===h.prototype}(t)){(n=new s(t)).name=t.name,n.message=t.message,n.stack=t.stack;for(var r=o.keys(t),e=0;e<r.length;++e){var u=r[e];c.test(u)||(n[u]=t[u])}return n}return i.markAsOriginatingFromRejection(t),t}n.exports=function(t,n){return function(r,i){if(null!==t){if(r){var u=a(e(r));t.Rt(u),t.V(u)}else if(n){var s=[].slice.call(arguments,1);t.yn(s)}else t.yn(i);t=null}}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(t,n,r){n.exports=function(n){var r=t("./util"),i=n.rt,e=r.tryCatch,u=r.errorObj;function s(t,n){if(!r.isArray(t))return o.call(this,t,n);var s=e(n).apply(this.G(),[null].concat(t));s===u&&i.throwLater(s.e)}function o(t,n){var r=this.G(),s=void 0===t?e(n).call(r,null):e(n).call(r,null,t);s===u&&i.throwLater(s.e)}function c(t,n){if(!t){var r=new h(t+"");r.cause=t,t=r}var s=e(n).call(this.G(),t);s===u&&i.throwLater(s.e)}n.prototype.asCallback=n.prototype.nodeify=function(t,n){if("function"==typeof t){var r=o;void 0!==n&&d(n).spread&&(r=s),this.j(r,c,void 0,this,t)}return this}}},{"./util":36}],22:[function(t,n,r){n.exports=function(){var r=function(){return new l("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},i=function(){return new C.PromiseInspection(this.Y())},e=function(t){return C.reject(new l(t))};function u(){}var s,o={},c=t("./util");s=c.isNode?function(){var t=process.domain;return void 0===t&&(t=null),t}:function(){return null},c.notEnumerableProp(C,"Pt",s);var a=t("./es5"),f=t("./async"),h=new f;a.defineProperty(C,"rt",{value:h});var v=t("./errors"),l=C.TypeError=v.TypeError;C.RangeError=v.RangeError;var w=C.CancellationError=v.CancellationError;C.TimeoutError=v.TimeoutError,C.OperationalError=v.OperationalError,C.RejectionError=v.OperationalError,C.AggregateError=v.AggregateError;var y=function(){},g={},_={},p=t("./thenables")(C,y),m=t("./promise_array")(C,y,p,e,u),k=t("./context")(C),b=k.create,T=t("./debuggability")(C,k),E=(T.CapturedTrace,t("./finally")(C,p,_)),S=t("./catch_filter")(_),R=t("./nodeback"),I=c.errorObj,D=c.tryCatch;function C(t){t!==y&&function(t,n){if(null==t||t.constructor!==C)throw new l("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof n)throw new l("expecting a function but got "+c.classString(n))}(this,t),this.H=0,this.Mn=void 0,this.Un=void 0,this.qn=void 0,this.Vn=void 0,this.jn(t),this.Nt(),this.Qt("promiseCreated",this)}function N(t){this.promise.W(t)}function A(t){this.promise.bn(t,!1)}function O(t){var n=new C(y);n.Mn=t,n.Un=t,n.qn=t,n.Vn=t}return C.prototype.toString=function(){return"[object Promise]"},C.prototype.caught=C.prototype.catch=function(t){var n=arguments.length;if(n>1){var r,i=new Array(n-1),u=0;for(r=0;r<n-1;++r){var s=arguments[r];if(!c.isObject(s))return e("Catch statement predicate: expecting an object but got "+c.classString(s));i[u++]=s}if(i.length=u,"function"!=typeof(t=arguments[r]))throw new l("The last argument to .catch() must be a function, got "+c.toString(t));return this.then(void 0,S(i,t,this))}return this.then(void 0,t)},C.prototype.reflect=function(){return this.j(i,i,void 0,this,void 0)},C.prototype.then=function(t,n){if(T.warnings()&&arguments.length>0&&"function"!=typeof t&&"function"!=typeof n){var r=".then() only accepts functions but was passed: "+c.classString(t);arguments.length>1&&(r+=", "+c.classString(n)),this.it(r)}return this.j(t,n,void 0,void 0,void 0)},C.prototype.done=function(t,n){var r=this.j(t,n,void 0,void 0,void 0);r.Hn()},C.prototype.spread=function(t){return"function"!=typeof t?e("expecting a function but got "+c.classString(t)):this.all().j(t,void 0,void 0,g,void 0)},C.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this.value(),t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this.reason(),t.isRejected=!0),t},C.prototype.all=function(){return arguments.length>0&&this.it(".all() was passed arguments but it does not take any"),new m(this).promise()},C.prototype.error=function(t){return this.caught(c.originatesFromRejection,t)},C.getNewLibraryCopy=n.exports,C.is=function(t){return t instanceof C},C.fromNode=C.fromCallback=function(t){var n=new C(y);n.Xt();var r=arguments.length>1&&!!d(arguments[1]).multiArgs,i=D(t)(R(n,r));return i===I&&n.bn(i.e,!0),n.Wn()||n.$n(),n},C.all=function(t){return new m(t).promise()},C.cast=function(t){var n=p(t);return n instanceof C||((n=new C(y)).Xt(),n.zn(),n.Un=t),n},C.resolve=C.fulfilled=C.cast,C.reject=C.rejected=function(t){var n=new C(y);return n.Xt(),n.bn(t,!0),n},C.setScheduler=function(t){if("function"!=typeof t)throw new l("expecting a function but got "+c.classString(t));return h.setScheduler(t)},C.prototype.j=function(t,n,r,i,e){var u=void 0!==e,o=u?e:new C(y),a=this.Y(),f=a.H;u||(o.X(this,3),o.Xt(),void 0===i&&0!=(2097152&this.H)&&(i=0!=(50397184&f)?this.G():a===this?void 0:this.Z),this.Qt("promiseChained",this,o));var v=s();if(0!=(50397184&f)){var d,l,g=a.Xn;0!=(33554432&f)?(l=a.Un,d=t):0!=(16777216&f)?(l=a.Mn,d=n,a.zt()):(g=a.Gn,l=new w("late cancellation observer"),a.Rt(l),d=n),h.invoke(g,a,{handler:null===v?d:"function"==typeof d&&c.domainBind(v,d),promise:o,receiver:i,value:l})}else a.Yn(t,n,o,i,v);return o},C.prototype.kt=function(){return 65535&this.H},C.prototype.Wn=function(){return 0!=(117506048&this.H)},C.prototype.st=function(){return 67108864==(67108864&this.H)},C.prototype.Kn=function(t){this.H=-65536&this.H|65535&t},C.prototype.zn=function(){this.H=33554432|this.H,this.Qt("promiseFulfilled",this)},C.prototype.Jn=function(){this.H=16777216|this.H,this.Qt("promiseRejected",this)},C.prototype.Qn=function(){this.H=67108864|this.H,this.Qt("promiseResolved",this)},C.prototype.Hn=function(){this.H=4194304|this.H},C.prototype.Zn=function(){return(4194304&this.H)>0},C.prototype.tr=function(){this.H=-65537&this.H},C.prototype._t=function(){this.H=65536|this.H,this.Qt("promiseCancelled",this)},C.prototype.ft=function(){this.H=8388608|this.H},C.prototype.$n=function(){h.hasCustomScheduler()||(this.H=134217728|this.H)},C.prototype.nr=function(t){var n=0===t?this.Vn:this[4*t-4+3];if(n!==o)return void 0===n&&this.nt()?this.G():n},C.prototype.rr=function(t){return this[4*t-4+2]},C.prototype.ir=function(t){return this[4*t-4+0]},C.prototype.er=function(t){return this[4*t-4+1]},C.prototype.G=function(){},C.prototype.ur=function(t){t.H;var n=t.Mn,r=t.Un,i=t.qn,e=t.nr(0);void 0===e&&(e=o),this.Yn(n,r,i,e,null)},C.prototype.sr=function(t,n){var r=t.ir(n),i=t.er(n),e=t.rr(n),u=t.nr(n);void 0===u&&(u=o),this.Yn(r,i,e,u,null)},C.prototype.Yn=function(t,n,r,i,e){var u=this.kt();if(u>=65531&&(u=0,this.Kn(0)),0===u)this.qn=r,this.Vn=i,"function"==typeof t&&(this.Mn=null===e?t:c.domainBind(e,t)),"function"==typeof n&&(this.Un=null===e?n:c.domainBind(e,n));else{var s=4*u-4;this[s+2]=r,this[s+3]=i,"function"==typeof t&&(this[s+0]=null===e?t:c.domainBind(e,t)),"function"==typeof n&&(this[s+1]=null===e?n:c.domainBind(e,n))}return this.Kn(u+1),u},C.prototype.Tn=function(t,n){this.Yn(void 0,void 0,n,t,null)},C.prototype.W=function(t,n){if(0==(117506048&this.H)){if(t===this)return this.bn(r(),!1);var i=p(t,this);if(!(i instanceof C))return this.yn(t);n&&this.X(i,2);var e=i.Y();if(e!==this){var u=e.H;if(0==(50397184&u)){var s=this.kt();s>0&&e.ur(this);for(var o=1;o<s;++o)e.sr(this,o);this.Qn(),this.Kn(0),this.cr(e)}else if(0!=(33554432&u))this.yn(e.En());else if(0!=(16777216&u))this.V(e.Sn());else{var c=new w("late cancellation observer");e.Rt(c),this.V(c)}}else this.V(r())}},C.prototype.bn=function(t,n,r){var i=c.ensureErrorObject(t),e=i===t;if(!e&&!r&&T.warnings()){var u="a promise was rejected with a non-error: "+c.classString(t);this.it(u,!0)}this.Rt(i,!!n&&e),this.V(t)},C.prototype.jn=function(t){if(t!==y){var n=this;this.Xt(),this.At();var r=!0,i=this.Jt(t,function(t){n.W(t)},function(t){n.bn(t,r)});r=!1,this.Ot(),void 0!==i&&n.bn(i,!0)}},C.prototype.ar=function(t,n,r,i){var e=i.H;if(0==(65536&e)){var u;i.At(),n===g?r&&"number"==typeof r.length?u=D(t).apply(this.G(),r):(u=I).e=new l("cannot .spread() a non-array: "+c.classString(r)):u=D(t).call(n,r);var s=i.Ot();0==(65536&(e=i.H))&&(u===_?i.V(r):u===I?i.bn(u.e,!1):(T.checkForgottenReturns(u,s,"",i,this),i.W(u)))}},C.prototype.Y=function(){for(var t=this;t.st();)t=t.ot();return t},C.prototype.ot=function(){return this.Un},C.prototype.cr=function(t){this.Un=t},C.prototype.hr=function(t,n,r,e){var s=t instanceof C,o=this.H,c=0!=(134217728&o);0!=(65536&o)?(s&&t.Dt(),r instanceof E&&r.isFinallyHandler()?(r.cancelPromise=t,D(n).call(r,e)===I&&t.V(I.e)):n===i?t.yn(i.call(r)):r instanceof u?r.gn(t):s||t instanceof m?t.yt():r.cancel()):"function"==typeof n?s?(c&&t.$n(),this.ar(n,r,e,t)):n.call(r,e,t):r instanceof u?r.ln()||(0!=(33554432&o)?r.pn(e,t):r.mn(e,t)):s&&(c&&t.$n(),0!=(33554432&o)?t.yn(e):t.V(e))},C.prototype.Gn=function(t){var n=t.handler,r=t.promise,i=t.receiver,e=t.value;"function"==typeof n?r instanceof C?this.ar(n,i,e,r):n.call(i,e,r):r instanceof C&&r.V(e)},C.prototype.Xn=function(t){this.hr(t.promise,t.handler,t.receiver,t.value)},C.prototype.dr=function(t,n,r){var i=this.qn,e=this.nr(0);this.qn=void 0,this.Vn=void 0,this.hr(i,t,e,n)},C.prototype.wr=function(t){var n=4*t-4;this[n+2]=this[n+3]=this[n+0]=this[n+1]=void 0},C.prototype.yn=function(t){var n=this.H;if(!((117506048&n)>>>16)){if(t===this){var i=r();return this.Rt(i),this.V(i)}this.zn(),this.Un=t,(65535&n)>0&&(0!=(134217728&n)?this.M():h.settlePromises(this),this.Gt())}},C.prototype.V=function(t){var n=this.H;if(!((117506048&n)>>>16)){if(this.Jn(),this.Mn=t,this.Zn())return h.fatalError(t,c.isNode);(65535&n)>0?h.settlePromises(this):this.Lt()}},C.prototype.yr=function(t,n){for(var r=1;r<t;r++){var i=this.ir(r),e=this.rr(r),u=this.nr(r);this.wr(r),this.hr(e,i,u,n)}},C.prototype.gr=function(t,n){for(var r=1;r<t;r++){var i=this.er(r),e=this.rr(r),u=this.nr(r);this.wr(r),this.hr(e,i,u,n)}},C.prototype.M=function(){var t=this.H,n=65535&t;if(n>0){if(0!=(16842752&t)){var r=this.Mn;this.dr(this.Un,r,t),this.gr(n,r)}else{var i=this.Un;this.dr(this.Mn,i,t),this.yr(n,i)}this.Kn(0)}this.Kt()},C.prototype.jt=function(){var t=this.H;return 0!=(33554432&t)?this.Un:0!=(16777216&t)?this.Mn:void 0},"undefined"!=typeof Symbol&&Symbol.toStringTag&&a.defineProperty(C.prototype,Symbol.toStringTag,{get:function(){return"Object"}}),C.defer=C.pending=function(){T.deprecated("Promise.defer","new Promise");var t=new C(y);return{promise:t,resolve:N,reject:A}},c.notEnumerableProp(C,"_r",r),t("./method")(C,y,p,e,T),t("./bind")(C,y,p,T),t("./cancel")(C,m,e,T),t("./direct_resolve")(C),t("./synchronous_inspection")(C),t("./join")(C,m,p,y,h,s),C.Promise=C,C.version="3.5.5",t("./call_get.js")(C),t("./generators.js")(C,e,y,p,u,T),t("./map.js")(C,m,e,p,y,T),t("./nodeify.js")(C),t("./promisify.js")(C,y),t("./props.js")(C,m,p,e),t("./race.js")(C,y,p,e),t("./reduce.js")(C,m,e,p,y,T),t("./settle.js")(C,m,T),t("./some.js")(C,m,e),t("./timers.js")(C,y,T),t("./using.js")(C,e,p,b,y,T),t("./any.js")(C),t("./each.js")(C,y),t("./filter.js")(C,y),c.toFastProperties(C),c.toFastProperties(C.prototype),O({a:1}),O({b:2}),O({c:3}),O(1),O(function(){}),O(void 0),O(!1),O(new C(y)),T.setBounds(f.firstLineError,c.lastLineError),C}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(t,n,r){n.exports=function(n,r,i,e,u){var s=t("./util");function o(t){var i=this.un=new n(r);t instanceof n&&i.X(t,3),i.J(this),this.On=t,this.kt=0,this.Pn=0,this._init(void 0,-2)}return s.isArray,s.inherits(o,u),o.prototype.length=function(){return this.kt},o.prototype.promise=function(){return this.un},o.prototype._init=function t(r,u){var o=i(this.On,this.un);if(o instanceof n){var c=(o=o.Y()).H;if(this.On=o,0==(50397184&c))return this.un.$n(),o.j(t,this.V,void 0,this,u);if(0==(33554432&c))return 0!=(16777216&c)?this.V(o.Sn()):this.yt();o=o.En()}if(null!==(o=s.asArray(o)))0!==o.length?this.pr(o):-5===u?this.mr():this.Fn(function(t){switch(t){case-2:return[];case-3:return{};case-6:return new Map}}(u));else{var a=e("expecting an array or an iterable object but got "+s.classString(o)).reason();this.un.bn(a,!1)}},o.prototype.pr=function(t){var r=this.getActualLength(t.length);this.kt=r,this.On=this.shouldCopyValues()?new Array(r):this.On;for(var e=this.un,u=!1,s=null,o=0;o<r;++o){var c=i(t[o],e);c instanceof n?(c=c.Y(),s=c.H):s=null,u?null!==s&&c.suppressUnhandledRejections():null!==s?0==(50397184&s)?(c.Tn(this,o),this.On[o]=c):u=0!=(33554432&s)?this.pn(c.En(),o):0!=(16777216&s)?this.mn(c.Sn(),o):this.gn(o):u=this.pn(c,o)}u||e.$n()},o.prototype.ln=function(){return null===this.On},o.prototype.Fn=function(t){this.On=null,this.un.yn(t)},o.prototype.yt=function(){!this.ln()&&this.un.et()&&(this.On=null,this.un.yt())},o.prototype.V=function(t){this.On=null,this.un.bn(t,!1)},o.prototype.pn=function(t,n){this.On[n]=t;var r=++this.Pn;return r>=this.kt&&(this.Fn(this.On),!0)},o.prototype.gn=function(){return this.yt(),!0},o.prototype.mn=function(t){return this.Pn++,this.V(t),!0},o.prototype._resultCancelled=function(){if(!this.ln()){var t=this.On;if(this.yt(),t instanceof n)t.cancel();else for(var r=0;r<t.length;++r)t[r]instanceof n&&t[r].cancel()}},o.prototype.shouldCopyValues=function(){return!0},o.prototype.getActualLength=function(t){return t},o}},{"./util":36}],24:[function(t,n,r){n.exports=function(n,r){var i={},e=t("./util"),u=t("./nodeback"),s=e.withAppended,o=e.maybeWrapAsError,c=e.canEvaluate,a=t("./errors").TypeError,f={kr:!0},h=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","kr"].join("|")+")$"),v=function(t){return e.isIdentifier(t)&&"_"!==t.charAt(0)&&"constructor"!==t};function l(t){return!h.test(t)}function w(t){try{return!0===t.kr}catch(t){return!1}}function y(t,n,r){var i=e.getDataPropertyOrDefault(t,n+r,f);return!!i&&w(i)}function g(t,n,r,i){for(var u=e.inheritedDataKeys(t),s=[],o=0;o<u.length;++o){var c=u[o],f=t[c],h=i===v||v(c);"function"!=typeof f||w(f)||y(t,c,n)||!i(c,f,t,h)||s.push(c,f)}return function(t,n,r){for(var i=0;i<t.length;i+=2){var e=t[i];if(r.test(e))for(var u=e.replace(r,""),s=0;s<t.length;s+=2)if(t[s]===u)throw new a("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",n))}}(s,n,r),s}var _=function(t){return t.replace(/([$])/,"\\$")},p=c?void 0:function(t,c,a,f,h,v){var d=function(){return this}(),l=t;function w(){var e=c;c===i&&(e=this);var a=new n(r);a.Xt();var f="string"==typeof l&&this!==d?this[l]:t,h=u(a,v);try{f.apply(e,s(arguments,h))}catch(t){a.bn(o(t),!0,!0)}return a.Wn()||a.$n(),a}return"string"==typeof l&&(t=f),e.notEnumerableProp(w,"kr",!0),w};function m(t,n,r,u,s){for(var o=new RegExp(_(n)+"$"),c=g(t,n,o,r),a=0,f=c.length;a<f;a+=2){var h=c[a],v=c[a+1],d=h+n;if(u===p)t[d]=p(h,i,h,v,n,s);else{var l=u(v,function(){return p(h,i,h,v,n,s)});e.notEnumerableProp(l,"kr",!0),t[d]=l}}return e.toFastProperties(t),t}n.promisify=function(t,n){if("function"!=typeof t)throw new a("expecting a function but got "+e.classString(t));if(w(t))return t;var r=void 0===(n=d(n)).context?i:n.context,u=!!n.multiArgs,s=function(t,n,r){return p(t,n,void 0,t,null,r)}(t,r,u);return e.copyDescriptors(t,s,l),s},n.promisifyAll=function(t,n){if("function"!=typeof t&&"object"!=typeof t)throw new a("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");var r=!!(n=d(n)).multiArgs,i=n.suffix;"string"!=typeof i&&(i="Async");var u=n.filter;"function"!=typeof u&&(u=v);var s=n.promisifier;if("function"!=typeof s&&(s=p),!e.isIdentifier(i))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var o=e.inheritedDataKeys(t),c=0;c<o.length;++c){var f=t[o[c]];"constructor"!==o[c]&&e.isClass(f)&&(m(f.prototype,i,u,s,r),m(f,i,u,s,r))}return m(t,i,u,s,r)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(t,n,r){n.exports=function(n,r,i,e){var u,s=t("./util"),o=s.isObject,c=t("./es5");"function"==typeof Map&&(u=Map);var a=function(){var t=0,n=0;function r(r,i){this[t]=r,this[t+n]=i,t++}return function(i){n=i.size,t=0;var e=new Array(2*i.size);return i.forEach(r,e),e}}();function f(t){var n,r=!1;if(void 0!==u&&t instanceof u)n=a(t),r=!0;else{var i=c.keys(t),e=i.length;n=new Array(2*e);for(var s=0;s<e;++s){var o=i[s];n[s]=t[o],n[s+e]=o}}this.constructor$(n),this.br=r,this._init$(void 0,r?-6:-3)}function h(t){var r,u=i(t);return o(u)?(r=u instanceof n?u.j(n.props,void 0,void 0,void 0,void 0):new f(u).promise(),u instanceof n&&r.X(u,2),r):e("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}s.inherits(f,r),f.prototype._init=function(){},f.prototype.pn=function(t,n){this.On[n]=t;var r=++this.Pn;if(r>=this.kt){var i;if(this.br)i=function(t){for(var n=new u,r=t.length/2|0,i=0;i<r;++i){var e=t[r+i],s=t[i];n.set(e,s)}return n}(this.On);else{i={};for(var e=this.length(),s=0,o=this.length();s<o;++s)i[this.On[s+e]]=this.On[s]}return this.Fn(i),!0}return!1},f.prototype.shouldCopyValues=function(){return!1},f.prototype.getActualLength=function(t){return t>>1},n.prototype.props=function(){return h(this)},n.props=function(t){return h(t)}}},{"./es5":13,"./util":36}],26:[function(t,n,r){function i(t){this.Tr=t,this.kt=0,this.Er=0}i.prototype.Sr=function(t){return this.Tr<t},i.prototype.B=function(t){var n=this.length();this.Rr(n+1);var r=this.Er+n&this.Tr-1;this[r]=t,this.kt=n+1},i.prototype.push=function(t,n,r){var i=this.length()+3;if(this.Sr(i))return this.B(t),this.B(n),void this.B(r);var e=this.Er+i-3;this.Rr(i);var u=this.Tr-1;this[e+0&u]=t,this[e+1&u]=n,this[e+2&u]=r,this.kt=i},i.prototype.shift=function(){var t=this.Er,n=this[t];return this[t]=void 0,this.Er=t+1&this.Tr-1,this.kt--,n},i.prototype.length=function(){return this.kt},i.prototype.Rr=function(t){this.Tr<t&&this.Ir(this.Tr<<1)},i.prototype.Ir=function(t){var n=this.Tr;this.Tr=t;var r=this.Er,i=this.kt,e=r+i&n-1;!function(t,n,r,i,e){for(var u=0;u<e;++u)r[u+i]=t[u+n],t[u+n]=void 0}(this,0,this,n,e)},n.exports=i},{}],27:[function(t,n,r){n.exports=function(n,r,i,e){var u=t("./util"),s=function(t){return t.then(function(n){return o(n,t)})};function o(t,o){var c=i(t);if(c instanceof n)return s(c);if(null===(t=u.asArray(t)))return e("expecting an array or an iterable object but got "+u.classString(t));var a=new n(r);void 0!==o&&a.X(o,3);for(var f=a.yn,h=a.V,v=0,d=t.length;v<d;++v){var l=t[v];(void 0!==l||v in t)&&n.cast(l).j(f,h,void 0,a,null)}return a}n.race=function(t){return o(t,void 0)},n.prototype.race=function(){return o(this,void 0)}}},{"./util":36}],28:[function(t,n,r){n.exports=function(n,r,i,e,u,s){var o=n.Pt,c=t("./util"),a=c.tryCatch;function f(t,r,i,e){this.constructor$(t);var s=o();this.Dr=null===s?r:c.domainBind(s,r),void 0!==i&&(i=n.resolve(i)).Yt(this),this.Cr=i,this.Nr=null,this.Ar=e===u?Array(this.kt):0===e?null:void 0,this.un.Xt(),this._init$(void 0,-5)}function h(t,n){this.isFulfilled()?n.Fn(t):n.V(t)}function v(t,n,r,e){if("function"!=typeof n)return i("expecting a function but got "+c.classString(n));var u=new f(t,n,r,e);return u.promise()}function d(t){this.accum=t,this.array.Or(t);var r=e(this.value,this.array.un);return r instanceof n?(this.array.Nr=r,r.j(l,void 0,void 0,this,void 0)):l.call(this,r)}function l(t){var r,i=this.array,e=i.un,u=a(i.Dr);e.At(),(r=void 0!==i.Ar?u.call(e.G(),t,this.index,this.length):u.call(e.G(),this.accum,t,this.index,this.length))instanceof n&&(i.Nr=r);var o=e.Ot();return s.checkForgottenReturns(r,o,void 0!==i.Ar?"Promise.each":"Promise.reduce",e),r}c.inherits(f,r),f.prototype.Or=function(t){void 0!==this.Ar&&null!==this.Ar&&t!==u&&this.Ar.push(t)},f.prototype.xr=function(t){return null!==this.Ar&&this.Ar.push(t),this.Ar},f.prototype._init=function(){},f.prototype.mr=function(){this.Fn(void 0!==this.Ar?this.Ar:this.Cr)},f.prototype.shouldCopyValues=function(){return!1},f.prototype.Fn=function(t){this.un.W(t),this.On=null},f.prototype._resultCancelled=function(t){if(t===this.Cr)return this.yt();this.ln()||(this._resultCancelled$(),this.Nr instanceof n&&this.Nr.cancel(),this.Cr instanceof n&&this.Cr.cancel())},f.prototype.pr=function(t){var r,i;this.On=t;var e=t.length;if(void 0!==this.Cr?(r=this.Cr,i=0):(r=n.resolve(t[0]),i=1),this.Nr=r,!r.isRejected())for(;i<e;++i){var u={accum:null,value:t[i],index:i,length:e,array:this};r=r.j(d,void 0,void 0,u,void 0)}void 0!==this.Ar&&(r=r.j(this.xr,void 0,void 0,this,void 0)),r.j(h,h,void 0,r,this)},n.prototype.reduce=function(t,n){return v(this,t,n,null)},n.reduce=function(t,n,r,i){return v(t,n,r,i)}}},{"./util":36}],29:[function(t,n,r){var u,s,c,a,f,v=t("./util"),d=v.getNativePromise();if(v.isNode&&"undefined"==typeof MutationObserver){var l=m.setImmediate,w=process.nextTick;u=v.isRecentNode?function(t){l.call(m,t)}:function(t){w.call(process,t)}}else if("function"==typeof d&&"function"==typeof d.resolve){var y=d.resolve();u=function(t){y.then(t)}}else u="undefined"!=typeof MutationObserver&&(void 0===i||!i.navigator||!i.navigator.standalone&&!i.cordova)&&"classList"in e.documentElement?(s=e.createElement("div"),c={attributes:!0},a=!1,f=e.createElement("div"),new MutationObserver(function(){s.classList.toggle("foo"),a=!1}).observe(f,c),function(t){var n=new MutationObserver(function(){n.disconnect(),t()});n.observe(s,c),a||(a=!0,f.classList.toggle("foo"))}):"undefined"!=typeof setImmediate?function(t){setImmediate(t)}:void 0!==o?function(t){o(t,0)}:function(){throw new h("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")};n.exports=u},{"./util":36}],30:[function(t,n,r){n.exports=function(n,r,i){var e=n.PromiseInspection,u=t("./util");function s(t){this.constructor$(t)}u.inherits(s,r),s.prototype.Pr=function(t,n){this.On[t]=n;var r=++this.Pn;return r>=this.kt&&(this.Fn(this.On),!0)},s.prototype.pn=function(t,n){var r=new e;return r.H=33554432,r.Lr=t,this.Pr(n,r)},s.prototype.mn=function(t,n){var r=new e;return r.H=16777216,r.Lr=t,this.Pr(n,r)},n.settle=function(t){return i.deprecated(".settle()",".reflect()"),new s(t).promise()},n.prototype.settle=function(){return n.settle(this)}}},{"./util":36}],31:[function(t,n,r){n.exports=function(n,r,i){var e=t("./util"),u=t("./errors").RangeError,s=t("./errors").AggregateError,o=e.isArray,c={};function a(t){this.constructor$(t),this.Fr=0,this.Br=!1,this.Mr=!1}function f(t,n){if((0|n)!==n||n<0)return i("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var r=new a(t),e=r.promise();return r.setHowMany(n),r.init(),e}e.inherits(a,r),a.prototype._init=function(){if(this.Mr)if(0!==this.Fr){this._init$(void 0,-5);var t=o(this.On);!this.ln()&&t&&this.Fr>this.Ur()&&this.V(this.qr(this.length()))}else this.Fn([])},a.prototype.init=function(){this.Mr=!0,this._init()},a.prototype.setUnwrap=function(){this.Br=!0},a.prototype.howMany=function(){return this.Fr},a.prototype.setHowMany=function(t){this.Fr=t},a.prototype.pn=function(t){return this.Vr(t),this.jr()===this.howMany()&&(this.On.length=this.howMany(),1===this.howMany()&&this.Br?this.Fn(this.On[0]):this.Fn(this.On),!0)},a.prototype.mn=function(t){return this.Hr(t),this.Wr()},a.prototype.gn=function(){return this.On instanceof n||null==this.On?this.yt():(this.Hr(c),this.Wr())},a.prototype.Wr=function(){if(this.howMany()>this.Ur()){for(var t=new s,n=this.length();n<this.On.length;++n)this.On[n]!==c&&t.push(this.On[n]);return t.length>0?this.V(t):this.yt(),!0}return!1},a.prototype.jr=function(){return this.Pn},a.prototype.$r=function(){return this.On.length-this.length()},a.prototype.Hr=function(t){this.On.push(t)},a.prototype.Vr=function(t){this.On[this.Pn++]=t},a.prototype.Ur=function(){return this.length()-this.$r()},a.prototype.qr=function(t){var n="Input array must contain at least "+this.Fr+" items but contains only "+t+" items";return new u(n)},a.prototype.mr=function(){this.V(this.qr(0))},n.some=function(t,n){return f(t,n)},n.prototype.some=function(t){return f(this,t)},n.o=a}},{"./errors":12,"./util":36}],32:[function(t,n,r){n.exports=function(t){function n(t){void 0!==t?(t=t.Y(),this.H=t.H,this.Lr=t.Wn()?t.jt():void 0):(this.H=0,this.Lr=void 0)}n.prototype.jt=function(){return this.Lr};var r=n.prototype.value=function(){if(!this.isFulfilled())throw new v("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this.jt()},i=n.prototype.error=n.prototype.reason=function(){if(!this.isRejected())throw new v("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this.jt()},e=n.prototype.isFulfilled=function(){return 0!=(33554432&this.H)},u=n.prototype.isRejected=function(){return 0!=(16777216&this.H)},s=n.prototype.isPending=function(){return 0==(50397184&this.H)},o=n.prototype.isResolved=function(){return 0!=(50331648&this.H)};n.prototype.isCancelled=function(){return 0!=(8454144&this.H)},t.prototype.zr=function(){return 65536==(65536&this.H)},t.prototype.Et=function(){return this.Y().zr()},t.prototype.isCancelled=function(){return 0!=(8454144&this.Y().H)},t.prototype.isPending=function(){return s.call(this.Y())},t.prototype.isRejected=function(){return u.call(this.Y())},t.prototype.isFulfilled=function(){return e.call(this.Y())},t.prototype.isResolved=function(){return o.call(this.Y())},t.prototype.value=function(){return r.call(this.Y())},t.prototype.reason=function(){var t=this.Y();return t.zt(),i.call(t)},t.prototype.En=function(){return this.jt()},t.prototype.Sn=function(){return this.zt(),this.jt()},t.PromiseInspection=n}},{}],33:[function(t,n,r){n.exports=function(n,r){var i=t("./util"),e=i.errorObj,u=i.isObject,s={}.hasOwnProperty;return function(t,o){if(u(t)){if(t instanceof n)return t;var c=function(t){try{return function(t){return t.then}(t)}catch(t){return e.e=t,e}}(t);if(c===e){o&&o.At();var a=n.reject(c.e);return o&&o.Ot(),a}if("function"==typeof c){if(function(t){try{return s.call(t,"qn")}catch(t){return!1}}(t)){var a=new n(r);return t.j(a.yn,a.V,void 0,a,null),a}return function(t,u,s){var o=new n(r),c=o;s&&s.At(),o.Xt(),s&&s.Ot();var a=!0,f=i.tryCatch(u).call(t,function(t){o&&(o.W(t),o=null)},function(t){o&&(o.bn(t,a,!0),o=null)});return a=!1,o&&f===e&&(o.bn(f.e,!0,!0),o=null),c}(t,c,o)}}return t}}},{"./util":36}],34:[function(t,n,r){n.exports=function(n,r,i){var e=t("./util"),u=n.TimeoutError;function s(t){this.handle=t}s.prototype._resultCancelled=function(){c(this.handle)};var a=function(t){return f(+this).thenReturn(t)},f=n.delay=function(t,e){var u,c;return void 0!==e?(u=n.resolve(e).j(a,null,null,t,void 0),i.cancellation()&&e instanceof n&&u.J(e)):(u=new n(r),c=o(function(){u.yn()},+t),i.cancellation()&&u.J(new s(c)),u.Xt()),u.$n(),u};function v(t){return c(this.handle),t}function d(t){throw c(this.handle),t}n.prototype.delay=function(t){return f(t,this)},n.prototype.timeout=function(t,n){var r,c,a=new s(o(function(){r.isPending()&&function(t,n,r){var i;i="string"!=typeof n?n instanceof h?n:new u("operation timed out"):new u(n),e.markAsOriginatingFromRejection(i),t.Rt(i),t.V(i),null!=r&&r.cancel()}(r,n,c)},t=+t));return i.cancellation()?(c=this.then(),(r=c.j(v,d,void 0,a,void 0)).J(a)):r=this.j(v,d,void 0,a,void 0),r}}},{"./util":36}],35:[function(t,n,r){n.exports=function(n,r,i,e,u,s){var c=t("./util"),a=t("./errors").TypeError,f=t("./util").inherits,h=c.errorObj,v=c.tryCatch,d={};function l(t){o(function(){throw t},0)}function w(t,r){var e=0,s=t.length,o=new n(u);return function u(){if(e>=s)return o.yn();var c=function(t){var n=i(t);return n!==t&&"function"==typeof t.Xr&&"function"==typeof t.Gr&&t.Xr()&&n.Yr(t.Gr()),n}(t[e++]);if(c instanceof n&&c.Xr()){try{c=i(c.Gr().tryDispose(r),t.promise)}catch(t){return l(t)}if(c instanceof n)return c.j(u,l,null,null,null)}u()}(),o}function y(t,n,r){this.Kr=t,this.un=n,this.Jr=r}function g(t,n,r){this.constructor$(t,n,r)}function _(t){return y.isDisposer(t)?(this.resources[this.index].Yr(t),t.promise()):t}function p(t){this.length=t,this.promise=null,this[t-1]=null}y.prototype.data=function(){return this.Kr},y.prototype.promise=function(){return this.un},y.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():d},y.prototype.tryDispose=function(t){var n=this.resource(),r=this.Jr;void 0!==r&&r.At();var i=n!==d?this.doDispose(n,t):null;return void 0!==r&&r.Ot(),this.un.Qr(),this.Kr=null,i},y.isDisposer=function(t){return null!=t&&"function"==typeof t.resource&&"function"==typeof t.tryDispose},f(g,y),g.prototype.doDispose=function(t,n){var r=this.data();return r.call(t,t,n)},p.prototype._resultCancelled=function(){for(var t=this.length,r=0;r<t;++r){var i=this[r];i instanceof n&&i.cancel()}},n.using=function(){var t=arguments.length;if(t<2)return r("you must pass at least 2 arguments to Promise.using");var e,u=arguments[t-1];if("function"!=typeof u)return r("expecting a function but got "+c.classString(u));var o=!0;2===t&&Array.isArray(arguments[0])?(e=arguments[0],t=e.length,o=!1):(e=arguments,t--);for(var a=new p(t),f=0;f<t;++f){var d=e[f];if(y.isDisposer(d)){var l=d;(d=d.promise()).Yr(l)}else{var g=i(d);g instanceof n&&(d=g.j(_,null,null,{resources:a,index:f},void 0))}a[f]=d}for(var m=new Array(a.length),f=0;f<m.length;++f)m[f]=n.resolve(a[f]).reflect();var k=n.all(m).then(function(t){for(var n=0;n<t.length;++n){var r=t[n];if(r.isRejected())return h.e=r.error(),h;if(!r.isFulfilled())return void k.cancel();t[n]=r.value()}b.At(),u=v(u);var i=o?u.apply(void 0,t):u(t),e=b.Ot();return s.checkForgottenReturns(i,e,"Promise.using",b),i}),b=k.lastly(function(){var t=new n.PromiseInspection(k);return w(a,t)});return a.promise=b,b.J(a),b},n.prototype.Yr=function(t){this.H=131072|this.H,this.Zr=t},n.prototype.Xr=function(){return(131072&this.H)>0},n.prototype.Gr=function(){return this.Zr},n.prototype.Qr=function(){this.H=-131073&this.H,this.Zr=void 0},n.prototype.disposer=function(t){if("function"==typeof t)return new g(t,this,e());throw new a}}},{"./errors":12,"./util":36}],36:[function(n,r,e){var u,o=n("./es5"),c=void 0===s,a={e:{}},f=void 0!==t?t:void 0!==i?i:void 0!==m?m:void 0!==this?this:null;function v(){try{var t=u;return u=null,t.apply(this,arguments)}catch(t){return a.e=t,a}}function l(t){return null==t||!0===t||!1===t||"string"==typeof t||"number"==typeof t}function w(t,n,r){if(l(t))return t;var i={value:r,configurable:!0,enumerable:!1,writable:!0};return o.defineProperty(t,n,i),t}var y=function(){var t=[Array.prototype,d.prototype,Function.prototype],n=function(n){for(var r=0;r<t.length;++r)if(t[r]===n)return!0;return!1};if(o.isES5){var r=d.getOwnPropertyNames;return function(t){for(var i=[],e=d.create(null);null!=t&&!n(t);){var u;try{u=r(t)}catch(t){return i}for(var s=0;s<u.length;++s){var c=u[s];if(!e[c]){e[c]=!0;var a=d.getOwnPropertyDescriptor(t,c);null!=a&&null==a.get&&null==a.set&&i.push(c)}}t=o.getPrototypeOf(t)}return i}}var i={}.hasOwnProperty;return function(r){if(n(r))return[];var e=[];t:for(var u in r)if(i.call(r,u))e.push(u);else{for(var s=0;s<t.length;++s)if(i.call(t[s],u))continue t;e.push(u)}return e}}(),g=/this\s*\.\s*\S+\s*=/,_=/^[a-z$_][a-z$_0-9]*$/i;function p(t){try{return t+""}catch(t){return"[no string representation]"}}function k(t){return t instanceof h||null!==t&&"object"==typeof t&&"string"==typeof t.message&&"string"==typeof t.name}function b(t){return k(t)&&o.propertyIsWritable(t,"stack")}var T="stack"in new h?function(t){return b(t)?t:new h(p(t))}:function(t){if(b(t))return t;try{throw new h(p(t))}catch(t){return t}};function E(t){return{}.toString.call(t)}var S=function(t){return o.isArray(t)?t:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var R="function"==typeof Array.from?function(t){return Array.from(t)}:function(t){for(var n,r=[],i=t[Symbol.iterator]();!(n=i.next()).done;)r.push(n.value);return r};S=function(t){return o.isArray(t)?t:null!=t&&"function"==typeof t[Symbol.iterator]?R(t):null}}var I,D="undefined"!=typeof process&&"[object process]"===E(process).toLowerCase(),C="undefined"!=typeof process&&void 0!==process.env,N={isClass:function(t){try{if("function"==typeof t){var n=o.names(t.prototype),r=o.isES5&&n.length>1,i=n.length>0&&!(1===n.length&&"constructor"===n[0]),e=g.test(t+"")&&o.names(t).length>0;if(r||i||e)return!0}return!1}catch(t){return!1}},isIdentifier:function(t){return _.test(t)},inheritedDataKeys:y,getDataPropertyOrDefault:function(t,n,r){if(!o.isES5)return{}.hasOwnProperty.call(t,n)?t[n]:void 0;var i=d.getOwnPropertyDescriptor(t,n);return null!=i?null==i.get&&null==i.set?i.value:r:void 0},thrower:function(t){throw t},isArray:o.isArray,asArray:S,notEnumerableProp:w,isPrimitive:l,isObject:function(t){return"function"==typeof t||"object"==typeof t&&null!==t},isError:k,canEvaluate:c,errorObj:a,tryCatch:function(t){return u=t,v},inherits:function(t,n){var r={}.hasOwnProperty;function i(){for(var i in this.constructor=t,this.constructor$=n,n.prototype)r.call(n.prototype,i)&&"$"!==i.charAt(i.length-1)&&(this[i+"$"]=n.prototype[i])}return i.prototype=n.prototype,t.prototype=new i,t.prototype},withAppended:function(t,n){var r,i=t.length,e=new Array(i+1);for(r=0;r<i;++r)e[r]=t[r];return e[r]=n,e},maybeWrapAsError:function(t){return l(t)?new h(p(t)):t},toFastProperties:function(t){return t},filledRange:function(t,n,r){for(var i=new Array(t),e=0;e<t;++e)i[e]=n+e+r;return i},toString:p,canAttachTrace:b,ensureErrorObject:T,originatesFromRejection:function(t){return null!=t&&(t instanceof h.rn.OperationalError||!0===t.isOperational)},markAsOriginatingFromRejection:function(t){try{w(t,"isOperational",!0)}catch(t){}},classString:E,copyDescriptors:function(t,n,r){for(var i=o.names(t),e=0;e<i.length;++e){var u=i[e];if(r(u))try{o.defineProperty(n,u,o.getDescriptor(t,u))}catch(t){}}},hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:D,hasEnvVariables:C,env:function(t){return C?process.env[t]:void 0},global:f,getNativePromise:function(){if("function"==typeof Promise)try{var t=new Promise(function(){});if("[object Promise]"==={}.toString.call(t))return Promise}catch(t){}},domainBind:function(t,n){return t.bind(n)}};N.isRecentNode=N.isNode&&(process.versions&&process.versions.node?I=process.versions.node.split(".").map(Number):process.version&&(I=process.version.split(".").map(Number)),0===I[0]&&I[1]>10||I[0]>0),N.isNode&&N.toFastProperties(process);try{throw new h}catch(t){N.lastLineError=t}r.exports=N},{"./es5":13}]},{},[4])(4),null!=i?i.P=i.Promise:null!=t&&(t.P=t.Promise)});var C,N,A,O={ti:function(){function t(){this.ni=[]}var n=t.prototype;return n.ri=function(){},n.ii=function(t){return{ei:function(){return D.resolve()},ui:function(){}}},n.si=function(t){throw new h("Not implemented")},n.oi=function(t){return D.resolve()},n.ci=function(t){},n.ai=function(){},t}(),fi:function(){function t(){}var n=t.prototype;return n.hi=function(){return D.resolve("all")},n.vi=function(){},n.ai=function(){},t}(),di:{li:function(t){getActiveDocument().addEventListener("unload",t)},wi:function(t){getActiveDocument().removeEventListener("unload",t)}},yi:{location:{href:"https://theoplayer.doubleclick.net"},get document(){return getActiveDocument()},top:void 0,parent:void 0,self:t,navigator:{userAgent:""},ResizeObserver:function(t){this.observe=function(t){},this.unobserve=function(t){},this.disconnect=function(){}}}};function x(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),d.defineProperty(t,i.key,i)}}function P(t,n,r){return n&&x(t.prototype,n),r&&x(t,r),t}function L(t){N=t}Element.prototype.style={},b=(C=O).ti,T=C.fi,E=C.di,S=C.yi,R=S&&S.location,I=S&&S.navigator,function(t){t.gi="web",t._i="android",t.pi="android-tv",t.mi="ios",t.ki="tvos",t.bi="chromecast"}(A||(A={}));var F=s?s.userAgent:"",B=F.match(/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),M=F.match(/Android ([0-9\.]+)/i),U=F.match(/Windows NT ([0-9\.]+)/i),q=F.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),V=F.match(/Firefox\/([0-9\.]+)/i),j=F.match(/OPR\/(\d+\.\d+)/i),H=F.match(/Tizen ([0-9\.]+)/i),W=function(){function n(){this.Ti=Boolean("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch||s&&s.msMaxTouchPoints),this.Ei=/(mac\sos\sx)\s?([\w\s\.]+\w)*/i.test(F)||/(macintosh|mac(?=_powerpc)\s)/i.test(F),this.Si=/Windows NT/i.test(F),this.Ri=U?y(U[1]):0,this.Ii=/Android/i.test(F),this.Di=M?y(M[1]):0,this.Ci=/windows phone (8|8\.1)/i.test(F),this.Ni=/iPhone/i.test(F),this.Ai=/iPad/i.test(F),this.Oi=this.Ei&&this.Ti&&!this.Ai,this.xi=/iPod/i.test(F),this.Pi=/Mobile Safari/i.test(F),this.Li=(this.Ni||this.Ai||this.Oi||this.xi)&&!this.Ci,this.Fi=this.Ci||this.Li||this.Ii||this.Pi,this.Bi=/CriOS/i.test(F),this.Mi=Boolean(t.chrome&&/google/i.test(s.vendor))||this.Bi,this.Ui=B?w(B[1],10):0,this.qi=/SMART-TV.*Tizen/i.test(F),this.Vi=H?y(H[1]):0,this.ji=/webos|web0s/i.test(F),this.Hi=/Edge\/\d+/i.test(F),this.Wi=/Trident/i.test(F),this.$i=this.Wi&&!t.ActiveXObject&&"ActiveXObject"in t,this.zi=/Vivaldi/i.test(F),this.Xi=/Firefox/i.test(F)&&!/Seamonkey/i.test(F),this.Gi=V?y(V[1]):0,this.Yi=/Safari/i.test(F)&&!/Chrome/i.test(F)&&!this.Ci&&!this.qi,this.Ki=q?y(q[2]):0,this.Ji=Boolean(j),this.Qi=j?y(j[1]):0,this.Zi="tvos"===A.pi,this.te="tvos"===A._i,this.re=this.te||this.Zi,this.ie="tvos"===A.mi,this.ee="tvos"===A.ki,this.ue="tvos"===A.bi}return P(n,[{key:"se",get:function(){return this.Ti}},{key:"oe",get:function(){return this.Ei}},{key:"ce",get:function(){return this.Si}},{key:"ae",get:function(){return this.Ri}},{key:"fe",get:function(){return this.Ii}},{key:"he",get:function(){return this.Di}},{key:"ve",get:function(){return this.Ci}},{key:"de",get:function(){return this.Ni}},{key:"we",get:function(){return this.Ai}},{key:"ye",get:function(){return this.Oi}},{key:"_e",get:function(){return this.xi}},{key:"pe",get:function(){return this.Li}},{key:"me",get:function(){return this.Pi}},{key:"ke",get:function(){return this.Fi}},{key:"be",get:function(){return this.Bi}},{key:"Te",get:function(){return this.Mi}},{key:"Ee",get:function(){return this.Ui}},{key:"Se",get:function(){return this.qi}},{key:"Re",get:function(){return this.Vi}},{key:"Ie",get:function(){return this.ji}},{key:"De",get:function(){return this.Hi}},{key:"Ce",get:function(){return this.Wi}},{key:"Ne",get:function(){return this.$i}},{key:"Ae",get:function(){return this.zi}},{key:"Oe",get:function(){return this.Xi}},{key:"xe",get:function(){return this.Gi}},{key:"Pe",get:function(){return this.Yi}},{key:"Le",get:function(){return this.Ki}},{key:"Fe",get:function(){return this.Ji}},{key:"Be",get:function(){return this.Qi}},{key:"Me",get:function(){return this.Zi}},{key:"Ue",get:function(){return this.te}},{key:"qe",get:function(){return this.re}},{key:"Ve",get:function(){return this.ie}},{key:"je",get:function(){return this.ee}},{key:"He",get:function(){return this.ue}}]),n}();W.We=new W;var $=W.We,z={}.hasOwnProperty,X={}.toString;function G(t){return null!=t}var Y=Array.isArray||function(t){return"[object Array]"===X.call(t)};function K(t){return J(t)&&z.call(t,"length")&&rt(t.length)}function J(t){return"object"==typeof t&&null!==t}function Q(t){return J(t)&&t.constructor&&t.constructor===d}function Z(t){return"string"==typeof t}function tt(t){return"boolean"==typeof t}function nt(t){return Boolean(t)&&"function"==typeof t.then}function rt(t){return"number"==typeof t}var it=function(){},et=function(t){return t},ut=!($.Ce&&!$.Ne),st=t.console;function ot(t){if(J(t))try{return JSON.stringify(t)}catch(t){}return t}function ct(t){return t.map(ot).join(" ")}function at(t){var n=st&&st[t];return n?n.bind&&ut?n.bind(st):function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];st[t](ct(r))}:void 0}var ft,ht=at("log")||it,vt=at("warn")||ht.bind(void 0,"WARNING:"),dt=at("error")||ht.bind(void 0,"ERROR:"),lt=(ft=st&&st.assert)?ft.bind&&ut?ft.bind(st):function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];st.assert(t,ct(r))}:function(t){if(!t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];dt.apply(void 0,["Assertion failed:"].concat(r))}},wt=gt,yt=null;try{yt=new WebAssembly.Instance(new WebAssembly.Module(new _([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function gt(t,n,r){this.low=0|t,this.high=0|n,this.unsigned=!!r}function _t(t){return!0===(t&&t.$e)}gt.prototype.$e,d.defineProperty(gt.prototype,"$e",{value:!0}),gt.isLong=_t;var pt={},mt={};function kt(t,n){var r,i,e;return n?(e=0<=(t>>>=0)&&t<256)&&(i=mt[t])?i:(r=Tt(t,(0|t)<0?-1:0,!0),e&&(mt[t]=r),r):(e=-128<=(t|=0)&&t<128)&&(i=pt[t])?i:(r=Tt(t,t<0?-1:0,!1),e&&(pt[t]=r),r)}function bt(t,n){if(g(t))return n?Ot:At;if(n){if(t<0)return Ot;if(t>=Dt)return Bt}else{if(t<=-Ct)return Mt;if(t+1>=Ct)return Ft}return t<0?bt(-t,n).neg():Tt(t%It|0,t/It|0,n)}function Tt(t,n,r){return new gt(t,n,r)}gt.fromInt=kt,gt.fromNumber=bt,gt.fromBits=Tt;var Et=l.pow;function St(t,n,r){if(0===t.length)throw h("empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return At;if("number"==typeof n?(r=n,n=!1):n=!!n,(r=r||10)<2||36<r)throw RangeError("radix");var i;if((i=t.indexOf("-"))>0)throw h("interior hyphen");if(0===i)return St(t.substring(1),n,r).neg();for(var e=bt(Et(r,8)),u=At,s=0;s<t.length;s+=8){var o=l.min(8,t.length-s),c=w(t.substring(s,s+o),r);if(o<8){var a=bt(Et(r,o));u=u.mul(a).add(bt(c))}else u=(u=u.mul(e)).add(bt(c))}return u.unsigned=n,u}function Rt(t,n){return"number"==typeof t?bt(t,n):"string"==typeof t?St(t,n):Tt(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}gt.fromString=St,gt.fromValue=Rt;var It=4294967296,Dt=It*It,Ct=Dt/2,Nt=kt(1<<24),At=kt(0);gt.ZERO=At;var Ot=kt(0,!0);gt.UZERO=Ot;var xt=kt(1);gt.ONE=xt;var Pt=kt(1,!0);gt.UONE=Pt;var Lt=kt(-1);gt.NEG_ONE=Lt;var Ft=Tt(-1,2147483647,!1);gt.MAX_VALUE=Ft;var Bt=Tt(-1,-1,!0);gt.MAX_UNSIGNED_VALUE=Bt;var Mt=Tt(0,-2147483648,!1);gt.MIN_VALUE=Mt;var Ut=gt.prototype;Ut.toInt=function(){return this.unsigned?this.low>>>0:this.low},Ut.toNumber=function(){return this.unsigned?(this.high>>>0)*It+(this.low>>>0):this.high*It+(this.low>>>0)},Ut.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(Mt)){var n=bt(t),r=this.div(n),i=r.mul(n).sub(this);return r.toString(t)+i.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var e=bt(Et(t,6),this.unsigned),u=this,s="";;){var o=u.div(e),c=(u.sub(o.mul(e)).toInt()>>>0).toString(t);if((u=o).isZero())return c+s;for(;c.length<6;)c="0"+c;s=""+c+s}},Ut.getHighBits=function(){return this.high},Ut.getHighBitsUnsigned=function(){return this.high>>>0},Ut.getLowBits=function(){return this.low},Ut.getLowBitsUnsigned=function(){return this.low>>>0},Ut.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Mt)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,n=31;n>0&&0==(t&1<<n);n--);return 0!=this.high?n+33:n+1},Ut.isZero=function(){return 0===this.high&&0===this.low},Ut.eqz=Ut.isZero,Ut.isNegative=function(){return!this.unsigned&&this.high<0},Ut.isPositive=function(){return this.unsigned||this.high>=0},Ut.isOdd=function(){return 1==(1&this.low)},Ut.isEven=function(){return 0==(1&this.low)},Ut.equals=function(t){return _t(t)||(t=Rt(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},Ut.eq=Ut.equals,Ut.notEquals=function(t){return!this.eq(t)},Ut.neq=Ut.notEquals,Ut.ne=Ut.notEquals,Ut.lessThan=function(t){return this.comp(t)<0},Ut.lt=Ut.lessThan,Ut.lessThanOrEqual=function(t){return this.comp(t)<=0},Ut.lte=Ut.lessThanOrEqual,Ut.le=Ut.lessThanOrEqual,Ut.greaterThan=function(t){return this.comp(t)>0},Ut.gt=Ut.greaterThan,Ut.greaterThanOrEqual=function(t){return this.comp(t)>=0},Ut.gte=Ut.greaterThanOrEqual,Ut.ge=Ut.greaterThanOrEqual,Ut.compare=function(t){if(_t(t)||(t=Rt(t)),this.eq(t))return 0;var n=this.isNegative(),r=t.isNegative();return n&&!r?-1:!n&&r?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},Ut.comp=Ut.compare,Ut.negate=function(){return!this.unsigned&&this.eq(Mt)?Mt:this.not().add(xt)},Ut.neg=Ut.negate,Ut.add=function(t){_t(t)||(t=Rt(t));var n=this.high>>>16,r=65535&this.high,i=this.low>>>16,e=65535&this.low,u=t.high>>>16,s=65535&t.high,o=t.low>>>16,c=0,a=0,f=0,h=0;return f+=(h+=e+(65535&t.low))>>>16,a+=(f+=i+o)>>>16,c+=(a+=r+s)>>>16,c+=n+u,Tt((f&=65535)<<16|(h&=65535),(c&=65535)<<16|(a&=65535),this.unsigned)},Ut.subtract=function(t){return _t(t)||(t=Rt(t)),this.add(t.neg())},Ut.sub=Ut.subtract,Ut.multiply=function(t){if(this.isZero())return At;if(_t(t)||(t=Rt(t)),yt)return Tt(yt.mul(this.low,this.high,t.low,t.high),yt.get_high(),this.unsigned);if(t.isZero())return At;if(this.eq(Mt))return t.isOdd()?Mt:At;if(t.eq(Mt))return this.isOdd()?Mt:At;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(Nt)&&t.lt(Nt))return bt(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,r=65535&this.high,i=this.low>>>16,e=65535&this.low,u=t.high>>>16,s=65535&t.high,o=t.low>>>16,c=65535&t.low,a=0,f=0,h=0,v=0;return h+=(v+=e*c)>>>16,f+=(h+=i*c)>>>16,h&=65535,f+=(h+=e*o)>>>16,a+=(f+=r*c)>>>16,f&=65535,a+=(f+=i*o)>>>16,f&=65535,a+=(f+=e*s)>>>16,a+=n*c+r*o+i*s+e*u,Tt((h&=65535)<<16|(v&=65535),(a&=65535)<<16|(f&=65535),this.unsigned)},Ut.mul=Ut.multiply,Ut.divide=function(t){if(_t(t)||(t=Rt(t)),t.isZero())throw h("division by zero");var n,r,i;if(yt)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?Tt((this.unsigned?yt.div_u:yt.div_s)(this.low,this.high,t.low,t.high),yt.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?Ot:At;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return Ot;if(t.gt(this.shru(1)))return Pt;i=Ot}else{if(this.eq(Mt))return t.eq(xt)||t.eq(Lt)?Mt:t.eq(Mt)?xt:(n=this.shr(1).div(t).shl(1)).eq(At)?t.isNegative()?xt:Lt:(r=this.sub(t.mul(n)),i=n.add(r.div(t)));if(t.eq(Mt))return this.unsigned?Ot:At;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();i=At}for(r=this;r.gte(t);){n=l.max(1,l.floor(r.toNumber()/t.toNumber()));for(var e=l.ceil(l.log(n)/l.LN2),u=e<=48?1:Et(2,e-48),s=bt(n),o=s.mul(t);o.isNegative()||o.gt(r);)o=(s=bt(n-=u,this.unsigned)).mul(t);s.isZero()&&(s=xt),i=i.add(s),r=r.sub(o)}return i},Ut.div=Ut.divide,Ut.modulo=function(t){return _t(t)||(t=Rt(t)),yt?Tt((this.unsigned?yt.rem_u:yt.rem_s)(this.low,this.high,t.low,t.high),yt.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},Ut.mod=Ut.modulo,Ut.rem=Ut.modulo,Ut.not=function(){return Tt(~this.low,~this.high,this.unsigned)},Ut.and=function(t){return _t(t)||(t=Rt(t)),Tt(this.low&t.low,this.high&t.high,this.unsigned)},Ut.or=function(t){return _t(t)||(t=Rt(t)),Tt(this.low|t.low,this.high|t.high,this.unsigned)},Ut.xor=function(t){return _t(t)||(t=Rt(t)),Tt(this.low^t.low,this.high^t.high,this.unsigned)},Ut.shiftLeft=function(t){return _t(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Tt(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):Tt(0,this.low<<t-32,this.unsigned)},Ut.shl=Ut.shiftLeft,Ut.shiftRight=function(t){return _t(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Tt(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):Tt(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},Ut.shr=Ut.shiftRight,Ut.shiftRightUnsigned=function(t){if(_t(t)&&(t=t.toInt()),0===(t&=63))return this;var n=this.high;return t<32?Tt(this.low>>>t|n<<32-t,n>>>t,this.unsigned):Tt(32===t?n:n>>>t-32,0,this.unsigned)},Ut.shru=Ut.shiftRightUnsigned,Ut.shr_u=Ut.shiftRightUnsigned,Ut.toSigned=function(){return this.unsigned?Tt(this.low,this.high,!1):this},Ut.toUnsigned=function(){return this.unsigned?this:Tt(this.low,this.high,!0)},Ut.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},Ut.toBytesLE=function(){var t=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},Ut.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]},gt.fromBytes=function(t,n,r){return r?gt.fromBytesLE(t,n):gt.fromBytesBE(t,n)},gt.fromBytesLE=function(t,n){return new gt(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},gt.fromBytesBE=function(t,n){return new gt(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};var qt=wt,Vt=l.pow(2,-52);function jt(t,n,r){return l.min(l.max(t,n),r)}function Ht(t,n,r){return t===n||l.abs(t-n)<=r}function Wt(t,n){for(var r=t,i=n;0!==i;){var e=r%i;r=i,i=e}return r<0?-r:r}function $t(){return Date.now()||(new Date).getTime()}function zt(t){return t/1e3}var Xt;qt.fromNumber(9007199254740991);function Gt(t,n){t.prototype=d.create(n.prototype),t.prototype.constructor=t,t.__proto__=n}function Yt(t){return t.ze===Xt.Xe}function Kt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}!function(t){t[t.Xe=1]="Xe",t[t.Ge=2]="Ge",t[t.Ye=3]="Ye",t[t.Ke=4]="Ke",t[t.Je=9]="Je"}(Xt||(Xt={}));var Jt=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];h.apply(this,n)};(Jt.prototype=d.create(h.prototype)).constructor=Jt;var Qt=function(t){function n(n,r){var i;return(i=t.call(this)||this).message=n||"Unknown error",i.cause=r,h.captureStackTrace&&h.captureStackTrace(Kt(i),i.constructor),i}return Gt(n,t),P(n,[{key:"name",get:function(){return"BaseError"}}]),n}(Jt),Zt=function(t){function n(n){return t.call(this,"Invalid XML",n)||this}return Gt(n,t),n}(Qt),tn=function(){function t(){}return t.prototype.Qe=function(t){var n,r=new DOMParser;try{n=r.parseFromString(t,"text/xml")}catch(t){throw new Zt(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new Zt;return new cn(n)},t}(),nn=function(){function t(t){this.Ze=t}var n=t.prototype;return n.tu=function(t){return this.Ze.isEqualNode(t.Ze)},n.nu=function(n){return new t(this.Ze.cloneNode(n))},P(t,[{key:"ze",get:function(){return Xt.Ge}},{key:"ru",get:function(){var t;return null!==(t=this.Ze.localName)&&void 0!==t?t:hn(this.Ze.nodeName)}},{key:"iu",get:function(){return this.Ze.nodeName}},{key:"eu",get:function(){var t;return null!==(t=this.Ze.namespaceURI)&&void 0!==t?t:void 0}},{key:"uu",get:function(){var t;return null!==(t=this.Ze.prefix)&&void 0!==t?t:void 0}},{key:"su",get:function(){return this.Ze.nodeValue}}]),t}(),rn=function(){function t(t){this.ou=void 0,this.cu=t}var n=t.prototype;return n.au=function(t){return this.fu.filter(function(n){return an(n)&&n.hu===t})},n.vu=function(t,n){return this.fu.filter(function(r){return an(r)&&r.ru===n&&r.eu===t})},n.du=function(t){this.cu.appendChild(t.lu),this.ou&&this.ou.push(t)},n.tu=function(t){return this.cu.isEqualNode(t.lu)},P(t,[{key:"fu",get:function(){return void 0===this.ou&&(this.ou=function(t){for(var n=[],r=0;r<t.length;r++){var i=fn(t.item(r));i&&n.push(i)}return n}(this.cu.childNodes)),this.ou}},{key:"wu",get:function(){return this.fu.filter(an)}},{key:"lu",get:function(){return this.cu}}]),t}(),en=function(t){function n(n){return t.call(this,n)||this}Gt(n,t);var r=n.prototype;return r.yu=function(t){if(this.cu.hasAttribute(t))return this.cu.getAttribute(t)},r.gu=function(t,n){if(this.cu.hasAttributeNS(t,n))return this.cu.getAttributeNS(t,n)},r._u=function(t){this.cu.removeAttribute(t)},r.pu=function(t,n){this.cu.removeAttributeNS(t,n)},r.mu=function(t,n){this.cu.setAttribute(t,n)},r.ku=function(t,n,r){this.cu.setAttributeNS(t,n,r)},r.nu=function(t){return new n(this.cu.cloneNode(t))},P(n,[{key:"ze",get:function(){return Xt.Xe}},{key:"ru",get:function(){var t;return null!==(t=this.cu.localName)&&void 0!==t?t:hn(this.cu.nodeName)}},{key:"eu",get:function(){var t;return null!==(t=this.cu.namespaceURI)&&void 0!==t?t:void 0}},{key:"uu",get:function(){var t;return null!==(t=this.cu.prefix)&&void 0!==t?t:void 0}},{key:"hu",get:function(){return this.cu.nodeName}},{key:"bu",get:function(){return function(t){for(var n=[],r=0;r<t.length;r++)n.push(new nn(t.item(r)));return n}(this.cu.attributes)}},{key:"Tu",get:function(){return this.cu.textContent}}]),n}(rn),un=function(){function t(t){this.cu=t}return t.prototype.tu=function(t){return this.Eu===t.Eu},P(t,[{key:"Eu",get:function(){return this.cu.nodeValue}},{key:"lu",get:function(){return this.cu}}]),t}(),sn=function(t){function n(n){return t.call(this,n)||this}return Gt(n,t),n.prototype.nu=function(t){return new n(this.cu.cloneNode(t))},P(n,[{key:"ze",get:function(){return Xt.Ye}}]),n}(un),on=function(t){function n(n){return t.call(this,n)||this}return Gt(n,t),n.prototype.nu=function(t){return new n(this.cu.cloneNode(t))},P(n,[{key:"ze",get:function(){return Xt.Ke}}]),n}(un),cn=function(t){function n(n){return t.call(this,n)||this}return Gt(n,t),n.prototype.nu=function(t){return new n(this.cu.cloneNode(t))},P(n,[{key:"ze",get:function(){return Xt.Je}},{key:"Su",get:function(){return new en(this.cu.documentElement)}}]),n}(rn);function an(t){return Yt(t)}function fn(t){switch(t.nodeType){case Xt.Xe:return new en(t);case Xt.Ye:return new sn(t);case Xt.Ke:return new on(t)}}function hn(t){var n=t.indexOf(":");return n<0?t:t.substr(n+1)}var vn=k(function(t){!function(t){var n,r=d.prototype,i=r.hasOwnProperty,e="function"==typeof Symbol?Symbol:{},u=e.iterator||"@@iterator",s=e.asyncIterator||"@@asyncIterator",o=e.toStringTag||"@@toStringTag";function c(t,n,r,i){var e=n&&n.prototype instanceof p?n:p,u=d.create(e.prototype),s=new A(i||[]);return u.Ru=function(t,n,r){var i=f;return function(e,u){if(i===w)throw new h("Generator is already running");if(i===y){if("throw"===e)throw u;return x()}for(r.method=e,r.arg=u;;){var s=r.delegate;if(s){var o=D(s,r);if(o){if(o===_)continue;return o}}if("next"===r.method)r.sent=r.Iu=r.arg;else if("throw"===r.method){if(i===f)throw i=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=w;var c=a(t,n,r);if("normal"===c.type){if(i=r.done?y:l,c.arg===_)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=y,r.method="throw",r.arg=c.arg)}}}(t,r,s),u}function a(t,n,r){try{return{type:"normal",arg:t.call(n,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var f="suspendedStart",l="suspendedYield",w="executing",y="completed",_={};function p(){}function m(){}function k(){}var b={};b[u]=function(){return this};var T=d.getPrototypeOf,E=T&&T(T(O([])));E&&E!==r&&i.call(E,u)&&(b=E);var S=k.prototype=p.prototype=d.create(b);function R(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this.Ru(n,t)}})}function I(t){var n;this.Ru=function(r,e){function u(){return new Promise(function(n,u){!function n(r,e,u,s){var o=a(t[r],t,e);if("throw"!==o.type){var c=o.arg,f=c.value;return f&&"object"==typeof f&&i.call(f,"Du")?Promise.resolve(f.Du).then(function(t){n("next",t,u,s)},function(t){n("throw",t,u,s)}):Promise.resolve(f).then(function(t){c.value=t,u(c)},function(t){return n("throw",t,u,s)})}s(o.arg)}(r,e,n,u)})}return n=n?n.then(u,u):u()}}function D(t,r){var i=t.iterator[r.method];if(i===n){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=n,D(t,r),"throw"===r.method))return _;r.method="throw",r.arg=new v("The iterator does not provide a 'throw' method")}return _}var e=a(i,t.iterator,r.arg);if("throw"===e.type)return r.method="throw",r.arg=e.arg,r.delegate=null,_;var u=e.arg;return u?u.done?(r[t.resultName]=u.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=n),r.delegate=null,_):u:(r.method="throw",r.arg=new v("iterator result is not an object"),r.delegate=null,_)}function C(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function N(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function O(t){if(t){var r=t[u];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!g(t.length)){var e=-1,s=function r(){for(;++e<t.length;)if(i.call(t,e))return r.value=t[e],r.done=!1,r;return r.value=n,r.done=!0,r};return s.next=s}}return{next:x}}function x(){return{value:n,done:!0}}m.prototype=S.constructor=k,k.constructor=m,k[o]=m.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===m||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return d.setPrototypeOf?d.setPrototypeOf(t,k):(t.__proto__=k,o in t||(t[o]="GeneratorFunction")),t.prototype=d.create(S),t},t.awrap=function(t){return{Du:t}},R(I.prototype),I.prototype[s]=function(){return this},t.AsyncIterator=I,t.async=function(n,r,i,e){var u=new I(c(n,r,i,e));return t.isGeneratorFunction(r)?u:u.next().then(function(t){return t.done?t.value:u.next()})},R(S),S[o]="Generator",S[u]=function(){return this},S.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var r in t)n.push(r);return n.reverse(),function r(){for(;n.length;){var i=n.pop();if(i in t)return r.value=i,r.done=!1,r}return r.done=!0,r}},t.values=O,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this.Iu=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(N),!t)for(var r in this)"t"===r.charAt(0)&&i.call(this,r)&&!g(+r.slice(1))&&(this[r]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function e(i,e){return o.type="throw",o.arg=t,r.next=i,e&&(r.method="next",r.arg=n),!!e}for(var u=this.tryEntries.length-1;u>=0;--u){var s=this.tryEntries[u],o=s.completion;if("root"===s.tryLoc)return e("end");if(s.tryLoc<=this.prev){var c=i.call(s,"catchLoc"),a=i.call(s,"finallyLoc");if(c&&a){if(this.prev<s.catchLoc)return e(s.catchLoc,!0);if(this.prev<s.finallyLoc)return e(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return e(s.catchLoc,!0)}else{if(!a)throw new h("try statement without catch or finally");if(this.prev<s.finallyLoc)return e(s.finallyLoc)}}}},abrupt:function(t,n){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc<=this.prev&&i.call(e,"finallyLoc")&&this.prev<e.finallyLoc){var u=e;break}}u&&("break"===t||"continue"===t)&&u.tryLoc<=n&&n<=u.finallyLoc&&(u=null);var s=u?u.completion:{};return s.type=t,s.arg=n,u?(this.method="next",this.next=u.finallyLoc,_):this.complete(s)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),_},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),_}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var i=r.completion;if("throw"===i.type){var e=i.arg;N(r)}return e}}throw new h("illegal catch attempt")},delegateYield:function(t,r,i){return this.delegate={iterator:O(t),resultName:r,nextLoc:i},"next"===this.method&&(this.arg=n),_}}}(t.exports)});function dn(){return(dn=d.assign||function(t){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var i in r)d.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t}).apply(this,arguments)}function ln(){var t=d.create(null);return t.__=void 0,delete t.__,t}function wn(){return new _n}var yn,gn="undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0,_n=gn||(yn=function(){function t(t,n){this.index=0,this.data=t,this.selector=n,this.keys=d.keys(t)}var n=t.prototype;return n.next=function(){var t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}},t}(),function(){function t(){this.data=ln(),this.size=0}var n=t.prototype;return n.get=function(t){return this.data[t]},n.set=function(t,n){return this.has(t)||this.size++,this.data[t]=n,this},n.has=function(t){return t in this.data},n.delete=function(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)},n.clear=function(){this.data=ln(),this.size=0},n.keys=function(){return new yn(this.data,function(t,n){return n})},n.values=function(){return new yn(this.data,function(t,n){return t[n]})},n.entries=function(){return new yn(this.data,function(t,n){return[n,t[n]]})},n.forEach=function(t){for(var n in this.data)t(this.data[n],n)},t}());var pn,mn=gn||(pn=function(){function t(t,n){this.Nu=t,this.Au=n}var n=t.prototype;return n.next=function(){var t=this.Nu.next();return t.done?t:{value:this.Au(t.value),done:!1}},t}(),function(){function t(){this.Ou=wn()}var n=t.prototype;return n.get=function(t){return this.Ou.get(""+t)},n.set=function(t,n){return this.Ou.set(""+t,n),this},n.has=function(t){return this.Ou.has(""+t)},n.delete=function(t){return this.Ou.delete(""+t)},n.clear=function(){this.Ou.clear()},n.keys=function(){return new pn(this.Ou.keys(),function(t){return Number(t)})},n.values=function(){return this.Ou.values()},n.entries=function(){return new pn(this.Ou.entries(),function(t){var n=t[0],r=t[1];return[Number(n),r]})},n.forEach=function(t){this.Ou.forEach(function(n,r){t(n,Number(r))})},P(t,[{key:"size",get:function(){return this.Ou.size}}]),t}());var kn,bn="cenc",Tn="sinf",En="skd",Sn="urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95",Rn="com.microsoft.playready",In="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",Dn="urn:uuid:"+In,Cn="94ce86fb-07ff-4f43-adb8-93d2fa968ca2",Nn="urn:uuid:"+Cn,An="com.apple.fps.1_0";!function(t){t.xu="playready",t.Pu="widevine",t.Lu="fairplay",t.Fu="clearkey",t.Bu="aes128"}(kn||(kn={}));var On={Mu:kn.xu,Uu:Rn,qu:"cenc",Vu:"9a04f079-9840-4286-ab92-e65be0885f95",ju:Sn,Hu:"PlayReady"},xn={Mu:kn.Pu,Uu:"com.widevine.alpha",qu:"cenc",Vu:In,ju:Dn,Hu:"Widevine"},Pn={Mu:kn.Lu,Uu:An,qu:"skd",Vu:Cn,ju:Nn,Hu:"FairPlay"},Ln=(kn.Lu,{Mu:kn.Fu,Uu:"org.w3.clearkey",qu:"cenc",Vu:"1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",ju:"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",Hu:"ClearKey"});function Fn(t,n,r){return t.split(n).join(r)}function Bn(t,n){return null!=t&&-1!==t.indexOf(n)}function Mn(t,n){return null!=t&&t.substr(0,n.length)===n}function Un(t,n){return null!=t&&t.substr(t.length-n.length,n.length)===n}function qn(t,n){return t.toUpperCase()===n.toUpperCase()}function Vn(t){for(var n=[],r=0;r<t.length;r++){var i=t[r];i>65535&&(i-=65536,n.push(i>>>10&1023|55296),i=56320|1023&i),n.push(i)}return Hn(n)}var jn=16384;function Hn(t){var n=t.length;if(n<=jn)return String.fromCharCode.apply(String,t);for(var r=[],i=0;i<n;i+=jn)r.push(String.fromCharCode.apply(String,t.slice(i,i+jn)));return r.join("")}var Wn=$.Te&&$.Ee>=42||$.Oe&&$.xe>=38||$.De||$.Ne||$.Fe&&$.Be>=29;function $n(t,n){return Bn(t,"audio")?{initDataTypes:["cenc"],audioCapabilities:[dn({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[dn({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}}var zn=function(){function t(t){this.Wu=wn(),this.$u=void 0,this.zu=t}var n=t.prototype;return n.Xu=function(){return this.Gu(xn)},n.Yu=function(){return this.Gu(Ln)},n.Ku=function(){return this.Gu(On)},n.Ju=function(){return this.Gu(Pn)},n.Gu=function(t){var n=t.ju,r=this.Wu.get(n);if(r)return r;var i=this.Qu(t,'video/mp4; codecs="avc1.42000a"');return this.Wu.set(n,i),i},n.Qu=function(){var t=D.coroutine(vn.mark(function t(n,r){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.zu.Zu(n.Uu,[$n(r,!0)]);case 3:return t.abrupt("return",!0);case 6:return t.prev=6,t.t0=t.catch(0),t.prev=8,t.next=11,this.zu.Zu(n.Uu,[$n(r,!1)]);case 11:return t.abrupt("return",!0);case 14:return t.prev=14,t.t1=t.catch(8),t.abrupt("return",!1);case 17:case"end":return t.stop()}},t,this,[[0,6],[8,14]])}));return function(n,r){return t.apply(this,arguments)}}(),n.ts=function(){return this.$u||(this.$u=this.rs()),this.$u},n.rs=function(){var t=D.coroutine(vn.mark(function t(){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("https:"!==R.protocol){t.next=2;break}return t.abrupt("return",!1);case 2:if(Wn){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,this.Yu();case 6:if(!t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:return t.abrupt("return",!0);case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),t}();function Xn(t,n){var r=function(t,n){var r=t,i=r.length;if(i<=1)return r;for(var e=new Array(i),u=1;u<i;u*=2){Gn(r,n,u,e);var s=r;r=e,e=s}return r}(t,n);return r!==t&&Gn(r,void 0,t.length,t),t}function Gn(t,n,r,i){var e,u,s,o,c,a=t.length,f=0,h=2*r;for(u=0;u<a;u+=h)for(e=(s=u+r)+r,s>a&&(s=a),e>a&&(e=a),o=u,c=s;;)if(o<s&&c<e)n&&n(t[o],t[c])<=0?i[f++]=t[o++]:i[f++]=t[c++];else if(o<s)i[f++]=t[o++];else{if(!(c<e))break;i[f++]=t[c++]}}function Yn(t,n,r){var i=function(t,n,r){for(var i=0;i<t.length;i+=1){var e=t[i];if(n.call(r,e,i,t))return i}return-1}(t,n,r);return-1===i?void 0:t[i]}function Kn(t,n){var r=t.indexOf(n);return-1!==r&&(Jn(t,r),!0)}function Jn(t,n){t.splice(n,1)}function Qn(t,n){return-1!==t.indexOf(n)}function Zn(t){t.length=0}var tr=function(){function t(){this.es=!1,this.us=!1,this.ss=[],this.os=[]}var n=t.prototype;return n.cs=function(){if(!this.es&&!this.us){this.es=!0;for(var t=0,n=this.ss.slice();t<n.length;t++){(0,n[t])()}this.as()}},n.as=function(){if(!this.us){this.us=!0;for(var t=0,n=this.os.slice();t<n.length;t++){(0,n[t])()}Zn(this.ss),Zn(this.os)}},n.fs=function(t){this.us||this.ss.push(t)},n.hs=function(t){this.us||Kn(this.ss,t)},n.vs=function(t){this.us||this.os.push(t)},n.ds=function(t){this.us||Kn(this.os,t)},t}(),nr=function(){function t(){this.ls=new tr}var n=t.prototype;return n.ys=function(){this.ls.cs()},n.as=function(){this.ls.as()},n.gs=function(t){var n=this.ls;if(!n.es)if(t.es)n.cs();else if(!n.us&&!t.us){var r=function(){i(),n.cs()},i=function i(){t.hs(r),t.ds(i),n.hs(r),n.ds(i)};t.fs(r),t.vs(i),n.fs(r),n.vs(i)}},n._s=function(){var n=new t,r=new t,i=n.ps,e=r.ps,u=this.ls,s=function(){i.es&&e.us||e.es&&i.us?u.cs():i.us&&e.us&&u.as()};i.fs(s),e.fs(s),i.vs(s),e.vs(s),n.gs(u),r.gs(u);return u.vs(function(){i.hs(s),e.hs(s),i.ds(s),e.ds(s)}),[n,r]},P(t,[{key:"ps",get:function(){return this.ls}}]),t}(),rr=function(t){function n(n,r){return t.call(this,n||"Aborted",r)||this}return Gt(n,t),P(n,[{key:"name",get:function(){return"AbortError"}}]),n}(Qt);function ir(t){return t instanceof h&&"AbortError"===t.name}function er(t){if(t&&t.es)throw new rr}function ur(t){if(ir(t))throw t}function sr(t){if(!ir(t))throw t}function or(t,n){return n?new D(function(r,i){if(n.es)return t.catch(it),i(new rr);var e=function t(){n.hs(t),i(new rr)};n.fs(e),t.then(function(t){n.hs(e),r(t)},function(t){n.hs(e),i(t)})}):t}function cr(t,n){return t.then(function(t){return n.as(),t},function(t){throw n.as(),t})}var ar=D.resolve();function fr(t){ar.then(t)}function hr(t){t.then(it,it)}function vr(t){return dr.apply(this,arguments)}function dr(){return(dr=D.coroutine(vn.mark(function t(n){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,D.all(n);case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),t.next=10,D.all(n.map(function(t){return t.catch(it)}));case 10:throw t.t0;case 11:case"end":return t.stop()}},t,null,[[0,6]])}))).apply(this,arguments)}function lr(t){return t&&"function"!=typeof t?t.slice():t}function wr(t,n,r){if(r)if("function"==typeof r)r.call(t,n);else for(var i=0;i<r.length;i++){r[i].call(t,n)}}var yr,gr=function(){function t(t){var n=this;this.ks=ln(),this.bs=void 0,this.Ts=function(t){n.Es(t)},this.Ss=t||this}var n=t.prototype;return n.Rs=function(t,n){if("function"==typeof n)if("string"==typeof t)this.Is(t,n);else for(var r=0;r<t.length;r++){var i=t[r];this.Is(i,n)}},n.Is=function(t,n){var r=this.ks[t];r?"function"==typeof r?this.ks[t]=[r,n]:r.push(n):this.ks[t]=n},n.Ds=function(t){if("function"==typeof t){var n=this.bs;n?"function"==typeof n?this.bs=[n,t]:n.push(t):this.bs=t}},n.Cs=function(){this.ks=ln(),this.bs=void 0},n.Es=function(t){var n=lr(this.ks[t.type]),r=lr(this.bs);wr(this.Ss,t,n),wr(this.Ss,t,r)},n.Ns=function(t,n){if("function"==typeof n)if("string"==typeof t)this.As(t,n);else for(var r=0;r<t.length;r++){var i=t[r];this.As(i,n)}},n.As=function(t,n){var r=this.ks[t];r&&("function"==typeof r?r===n&&(this.ks[t]=void 0):Kn(r,n))},n.Os=function(t){if("string"==typeof t)this.ks[t]=void 0;else for(var n=0;n<t.length;n++){var r=t[n];this.ks[r]=void 0}},n.xs=function(t){var n=this.bs;n&&("function"==typeof n?n===t&&(this.bs=void 0):Kn(n,t))},n.Ps=function(t,n){var r=this;return new D(function(i,e){if(n&&n.es)return e(new rr);var u=function(t){o(),i(t)},s=function(){o(),e(new rr)},o=function(){r.Ns(t,u),n&&n.hs(s)};r.Rs(t,u),n&&n.fs(s)})},t}(),_r=function(t){function n(){return t.apply(this,arguments)||this}return Gt(n,t),n.prototype.Es=function(n){var r=this;fr(function(){t.prototype.Es.call(r,n)})},n}(gr),pr=function(t,n){void 0===n&&(n=new Date),this.type=t,this.date=n},mr=function(t){function n(n){var r;return(r=t.call(this,"Fs")||this).Ls=n,r}return Gt(n,t),n}(pr),kr=function(t){function n(n,r,i,e){var u;return(u=t.call(this,"Bs")||this).Ls=n,u.Ms=r,u.Bs=i,u.Us=e,u}return Gt(n,t),n}(pr),br=function(t){function n(){return t.call(this,"qs")||this}return Gt(n,t),n}(pr);!function(t){t.Vs="js",t.Hs="Ws"}(yr||(yr={}));var Tr=function(t){function n(n,r){var i;return(i=t.call(this,yr.Vs)||this).qu=n,i.$s=r,i}return Gt(n,t),n}(pr),Er=new _([0]).buffer,Sr=function(){function t(){this.zs=[]}var n=t.prototype;return n.Xs=function(t){for(var n=0,r=this.zs;n<r.length;n++){if(r[n][0]===t)return!0}return!1},n.Gs=function(t){for(var n=0,r=this.zs;n<r.length;n++){var i=r[n];if(i[0]===t)return i[1]}},n.Ys=function(t,n){this.zs.forEach(function(n){return t(n[1],n[0])},n)},n.Ks=function(t,n){this.zs.push([t,n])},n.Js=function(){Zn(this.zs)},P(t,[{key:"Qs",get:function(){return this.zs.length}}]),t}(),Rr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),Ir=16383,Dr=/[\t\n\f\r ]/g;function Cr(t){return 43===t?62:47===t?63:t>=48&&t<=57?t-48+52:t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:Nr()}function Nr(){throw new h("Invalid base64 input")}function Ar(t){var n=t;Dr.test(n)&&(n=n.replace(Dr,""));var r=n.length;r%4==0&&r>=1&&"="===n[r-1]&&(r>=2&&"="===n[r-2]?r-=2:r-=1,n=n.substr(0,r));var i=r%4;if(1===i)return Nr();for(var e,u=0===i?0:4-i,s=new _(function(t,n){return 3*(t+n)/4-n}(r,u)),o=u>0?r-4:r,c=0,a=0;c<o;c+=4)e=Cr(n.charCodeAt(c))<<18|Cr(n.charCodeAt(c+1))<<12|Cr(n.charCodeAt(c+2))<<6|Cr(n.charCodeAt(c+3)),s[a++]=e>>16&255,s[a++]=e>>8&255,s[a++]=255&e;return 2===u?(e=Cr(n.charCodeAt(c))<<2|Cr(n.charCodeAt(c+1))>>4,s[a++]=255&e):1===u&&(e=Cr(n.charCodeAt(c))<<10|Cr(n.charCodeAt(c+1))<<4|Cr(n.charCodeAt(c+2))>>2,s[a++]=e>>8&255,s[a++]=255&e),s}function Or(t,n,r){for(var i,e,u,s=[],o=n;o<r;o+=3)s.push((i=t[o],e=t[o+1],u=t[o+2],Rr[i>>2]+Rr[(3&i)<<4|e>>4]+Rr[(15&e)<<2|u>>6]+Rr[63&u]));return s.join("")}function xr(t){for(var n=t.length,r=n%3,i=[],e=n-r,u=0;u<e;u+=Ir)i.push(Or(t,u,l.min(e,u+Ir)));if(1===r){var s=t[n-1];i.push(Rr[s>>2]+Rr[(3&s)<<4]+"==")}else if(2===r){var o=t[n-2],c=t[n-1];i.push(Rr[o>>2]+Rr[(3&o)<<4|c>>4]+Rr[(15&c)<<2]+"=")}return i.join("")}var Pr=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],Lr=ArrayBuffer.isView||function(t){return t&&Qn(Pr,X.call(t))};function Fr(t,n){return t===n||t.byteLength===n.byteLength&&function(t,n){if(t===n)return!0;if(t.byteLength!==n.byteLength)return!1;for(var r=0;r<t.length;r+=1)if(t[r]!==n[r])return!1;return!0}(new _(t),new _(n))}function Br(t){var n=t.reduce(function(t,n){return t+n.byteLength},0);return function(t,n){for(var r=new _(n),i=0,e=0;e<t.length;e++){var u=t[e];r.set(u,i),i+=u.byteLength}return r}(t,n)}function Mr(t){return Ar(t).buffer}function Ur(t){return xr(new _(t))}function qr(t){return xr(vi(t))}var Vr=function(){function t(t){void 0===t&&(t=0),this.Zs=t}var n=t.prototype;return n.to=function(t){this.Zs+=t},n.ro=function(t){this.Zs=t},n.io=function(){return new t(this.eo)},P(t,[{key:"eo",get:function(){return this.Zs}}]),t}();function jr(t){if(t>=55296&&t<=57343)throw new h("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function Hr(t,n){return t>>n&63|128}function Wr(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(jr(t),n.push(t>>12&15|224),n.push(Hr(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(Hr(t,12)),n.push(Hr(t,6))),n.push(63&t|128)):n.push(t)}function $r(t,n){if(n.eo>=t.length)throw new h("Invalid byte index");var r=255&t[n.eo];if(n.to(1),128==(192&r))return 63&r;throw new h("Invalid continuation byte")}function zr(t,n){var r=n.eo;if(r>t.length)throw new h("Invalid byte index");if(r===t.length)return!1;var i=255&t[r];if(n.to(1),0==(128&i))return i;if(192==(224&i)){var e=(31&i)<<6|$r(t,n);if(e>=128)return e;throw new h("Invalid continuation byte")}if(224==(240&i)){var u=(15&i)<<12|$r(t,n)<<6|$r(t,n);if(u>=2048)return jr(u),u;throw new h("Invalid continuation byte")}if(240==(248&i)){var s=(7&i)<<18|$r(t,n)<<12|$r(t,n)<<6|$r(t,n);if(s>=65536&&s<=1114111)return s}throw new h("Invalid UTF-8 detected")}var Xr=65279;var Gr=function(){function t(t){this.uo=t}return t.prototype.so=function(t){return function(t,n){return(t&n)===n}(this.uo,t)},t}();function Yr(t,n){var r=t.getUint8(n.eo);return n.to(1),r}function Kr(t,n,r){t.setUint8(n.eo,r),n.to(1)}function Jr(t,n,r){var i=_i(mi(t),n.eo,n.eo+r);return n.to(i.byteLength),i}function Qr(t,n,r){return n.eo+r<=t.byteLength}function Zr(t,n,r){void 0===r&&(r=!1);var i=t.getUint16(n.eo,r);return n.to(2),i}function ti(t,n,r,i){void 0===i&&(i=!1),t.setUint16(n.eo,r,i),n.to(2)}function ni(t,n,r){void 0===r&&(r=!1);var i=t.getUint32(n.eo,r);return n.to(4),i}function ri(t,n,r,i){void 0===i&&(i=!1),t.setUint32(n.eo,r,i),n.to(4)}function ii(t,n,r){void 0===r&&(r=!1);var i=ni(t,n,r),e=ni(t,n,r),u=r?e:i,s=r?i:e;return qt.fromBits(s,u,!0)}function ei(t,n){var r=Yr(t,n);if(r)return String.fromCharCode(r)}function ui(t,n){return function(t,n){return ci(t,n,!0)}(t,n)}function si(t,n,r){for(var i="",e=0;e<r;e++)i+=ei(t,n);return i}function oi(t,n){var r,i=Yr(t,n);return 0==(128&i)?r=i:192==(224&i)?r=64*(31&i)+(63&Yr(t,n)):224==(240&i)?r=4096*(15&i)+64*(63&Yr(t,n))+(63&Yr(t,n)):240==(248&i)&&(r=262144*(7&i)+4096*(63&Yr(t,n))+64*(63&Yr(t,n))+(63&Yr(t,n))),r}function ci(t,n,r){for(var i=[];n.eo<t.byteLength;){var e=Yr(t,n);if(r&&!e)break;i.push(e)}return Hn(i)}function ai(t,n,r,i){for(var e=[];n.eo+2<=t.byteLength;){var u=Zr(t,n,r);if(i&&!u)break;e.push(u)}return Hn(e)}function fi(t,n,r,i){void 0===i&&(i=!1);for(var e=r.length,u=0;u<e;u+=1){ti(t,n,r.charCodeAt(u),i)}}function hi(t){return ci(pi(t),new Ei,!1)}function vi(t){var n=new _(t.length);return function(t,n,r){for(var i=r.length,e=0;e<i;e+=1)Kr(t,n,r.charCodeAt(e))}(pi(n),new Ei,t),n}function di(t,n){return void 0===n&&(n=!1),ai(pi(t),new Ei,n,!1)}function li(t,n){void 0===n&&(n=!1);var r=new _(2*t.length);return fi(pi(r),new Ei,t,n),r}function wi(t,n){return function(t,n,r){var i=[];(function(t,n){return n.eo+3<=t.byteLength&&239===t.getUint8(n.eo)&&187===t.getUint8(n.eo+1)&&191===t.getUint8(n.eo+2)})(t,n)&&n.to(3);for(;n.eo<t.byteLength;){var e=oi(t,n);if(void 0===e)break;if(r&&0===e)break;i.push(e)}return Vn(i)}(t,n,!0)}function yi(t){return Vn(function(t,n){var r,i=[],e=new Ei;if(!n){if(!1===(r=zr(t,e)))return i;r===Xr||i.push(r)}for(;!1!==(r=zr(t,e));)i.push(r);return i}(mi(t)))}function gi(t){return new _(function(t){for(var n=[],r=0;r<t.length;r++)Wr(t[r],n);return n}(function(t){for(var n=[],r=0,i=t.length;r<i;){var e=t.charCodeAt(r++);if(e>=55296&&e<=56319&&r<i){var u=t.charCodeAt(r++);56320==(64512&u)?n.push(((1023&e)<<10)+(1023&u)+65536):(n.push(e),r--)}else n.push(e)}return n}(t)))}function _i(t,n,r){return void 0===n&&(n=0),void 0===r&&(r=t.byteLength),new _(t.buffer,t.byteOffset+n,r-n)}function pi(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function mi(t){return new _(t.buffer,t.byteOffset,t.byteLength)}function ki(t){return t instanceof ArrayBuffer||Lr(t)}function bi(t){return t instanceof ArrayBuffer?new _(t):mi(t)}function Ti(t){if(t.slice)return t.slice(0);var n=new _(t.byteLength);return n.set(t,0),n}var Ei=function(){function t(t){void 0===t&&(t=0),this.Zs=t}var n=t.prototype;return n.to=function(t){this.Zs+=t},n.ro=function(t){this.Zs=t},n.io=function(){return new t(this.eo)},n.oo=function(){return new Vr(this.eo<<3)},P(t,[{key:"eo",get:function(){return this.Zs}}]),t}(),Si=function(){function t(){var t=this;this.co=new D(function(n,r){t.Fn=n,t.V=r})}var n=t.prototype;return n.ao=function(t){this.Fn&&(this.Fn(t),this.as())},n.fo=function(t){this.V&&(this.V(t),this.as())},n.ys=function(){this.co.catch(it),this.fo(new rr)},n.as=function(){this.Fn=void 0,this.V=void 0},t}();function Ri(){return new _([8,4]).buffer}function Ii(t){return Fr(t,Ri())}function Di(t,n){return t===Rn?function(t){if(t.byteLength<2*Ci.length)return t;if(di(new DataView(t,0,2*Ci.length),!0)===Ci)return t;return n=t,li('<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">'+Ur(n)+'</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>',!0).buffer;var n}(n):n}var Ci="<PlayReady";var Ni=function(t){function n(n,r,i,e){var u;return(u=t.call(this,n,e)||this).ho=r,u.vo=i,u}return Gt(n,t),n}(Qt),Ai=function(t){function n(n,r){var i;(i=t.call(this)||this).do=n,i.lo=r,i.wo=!1,i.yo=function(){i._o()},i.po=function(t){i.Es(new kr(Kt(i),t.messageType,Di(i.lo,t.message)))},i.mo=function(){i.wo=!0,i.ko.Qs>0&&(i.ko.Js(),i.Es(new mr(Kt(i)))),i.do.removeEventListener("keystatuseschange",i.yo),i.do.removeEventListener("message",i.po)},i.do.addEventListener("keystatuseschange",i.yo),i.do.addEventListener("message",i.po),i.ko=new Sr;var e=[];return i.do.closed&&e.push(D.resolve(i.do.closed)),i.bo=new Si,e.push(i.bo.co),i.To=D.race(e).then(i.mo),i._o(),i}Gt(n,t);var r=n.prototype;return r.Eo=function(){if(this.wo)return this.To;var t,n,r=[];return r.push(D.resolve(this.do.close())),r.push((t=1e3,new D(function(r,i){if(void 0!==n&&n.es)i(new rr);else{var e=N.So(function(){void 0!==n&&n.hs(u),r()},t),u=function(){N.Ro(e),i(new rr)};void 0!==n&&n.fs(u)}}))),this.bo.ao(D.race(r).catch(Oi)),this.wo=!0,this.To},r.Io=function(t,n,r){return D.resolve(this.do.generateRequest(t,n)).catch(Oi)},r.Do=function(t){return D.resolve(this.do.load(t)).catch(Oi)},r.Co=function(){return D.resolve(this.do.remove()).catch(Oi)},r.No=function(t){return D.resolve(this.do.update(t)).catch(Oi)},r._o=function(){var t=this;this.ko.Js(),this.do.keyStatuses.forEach(function(n,r){t.Ao(r,n)}),this.Es(new mr(this))},r.Ao=function(t,n){if("string"==typeof t){var r=t;t=n,n=r}var i=bi(t);if(this.lo===Rn&&16===i.byteLength){var e=pi(i),u=e.getUint32(0,!0),s=e.getUint16(4,!0),o=e.getUint16(6,!0);e.setUint32(0,u,!1),e.setUint16(4,s,!1),e.setUint16(6,o,!1)}this.lo===Rn&&"status-pending"===n&&(n="usable"),this.ko.Ks(i,n)},P(n,[{key:"Oo",get:function(){return this.To}},{key:"xo",get:function(){return this.do.expiration}},{key:"Po",get:function(){return this.ko}},{key:"Lo",get:function(){return this.do.sessionId}}]),n}(gr);function Oi(t){var n;if(t.message){var r=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);r&&(n=0|w(r[1],16))}throw new Ni(t.message,void 0,n,t)}var xi=function(){function t(t,n){this.Fo=t,this.lo=n}var n=t.prototype;return n.Bo=function(){var t=D.coroutine(vn.mark(function t(n){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Ai(this.Fo.createSession(n),this.lo));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Mo=function(t){return D.resolve(this.Fo.setServerCertificate(t))},n.Uo=function(t){return D.resolve(t.setMediaKeys(this.Fo))},n.qo=function(t){return D.resolve(t.setMediaKeys(null))},t}(),Pi=function(){function t(t,n){this.Vo=t,this.lo=n}var n=t.prototype;return n.jo=function(){var t=D.coroutine(vn.mark(function t(){var n;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Vo.createMediaKeys();case 2:return n=t.sent,t.abrupt("return",new xi(n,this.lo));case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.Ho=function(){return this.Vo.getConfiguration()},P(t,[{key:"Wo",get:function(){return this.Vo.keySystem}}]),t}(),Li=function(){function t(){}return t.prototype.Zu=function(){var t=D.coroutine(vn.mark(function t(n,r){var i;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=r.filter(function(t){return!t.$o}),t.next=3,s.requestMediaKeySystemAccess(n,r);case 3:return i=t.sent,t.abrupt("return",new Pi(i,n));case 5:case"end":return t.stop()}},t)}));return function(n,r){return t.apply(this,arguments)}}(),t.zo=function(){return void 0!==s&&"function"==typeof s.requestMediaKeySystemAccess},t}(),Fi=function(t){function n(n,r){var i;return(i=t.call(this)||this).Xo=n,i.Go=r,i.wo=!1,i.Yo=void 0,i.Ko=void 0,i.Jo=void 0,i.mo=function(){i.wo=!0,i.Qo.ao(void 0),i.Jo&&(i.Jo.removeEventListener("mskeyclose",i.mo),i.Jo.removeEventListener("mskeymessage",i.Zo),i.Jo.removeEventListener("mskeyerror",i.tc),i.Jo.removeEventListener("mskeyadded",i.nc))},i.Zo=function(t){i.Ko&&(i.Ko.ao(void 0),i.Ko=void 0),i.Es(new kr(Kt(i),"license-request",Ti(t.message).buffer,t.destinationURL||void 0))},i.tc=function(){var t=i.Jo&&i.Jo.error;if(t){var n=new Ni("Unknown CDM error",t.code,t.systemCode);if(i.Ko)i.Ko.fo(n),i.Ko=void 0;else if(i.Yo)i.Yo.fo(n),i.Yo=void 0;else switch(n.ho){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:i.rc("output-not-allowed");break;default:i.rc("internal-error")}}},i.nc=function(){i.Ko&&(i.rc("usable"),i.Ko.ao(void 0),i.Ko=void 0),i.Yo&&(i.rc("usable"),i.Yo.ao(void 0),i.Yo=void 0)},i.Qo=new Si,i.ic=new Sr,i}Gt(n,t);var r=n.prototype;return r.Io=function(){var t=D.coroutine(vn.mark(function t(n,r,i){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.ec(),this.Ko=new Si,this.Bo(bi(r),i),t.next=5,this.Ko.co;case 5:case"end":return t.stop()}},t,this)}));return function(n,r,i){return t.apply(this,arguments)}}(),r.Bo=function(t,n){if(!t)throw new v("Expected initData to be defined but was "+t+".");var r,i=n&&n.playready&&n.playready.uc;return(r=n?this.Xo.createSession(this.Go,t,i):this.Xo.createSession(this.Go,t)).addEventListener("mskeyclose",this.mo),r.addEventListener("mskeymessage",this.Zo),r.addEventListener("mskeyerror",this.tc),r.addEventListener("mskeyadded",this.nc),this.Jo=r,this.rc("status-pending"),r},r.Do=function(){var t=D.coroutine(vn.mark(function t(n){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.ec(),t.abrupt("return",!0);case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.No=function(){var t=D.coroutine(vn.mark(function t(n){var r;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Yo=new Si,this.ec(),this.Jo){t.next=4;break}return t.abrupt("return",D.resolve());case 4:if(0!==(r=bi(n)).byteLength){t.next=7;break}throw new v("Cannot call update with an empty response.");case 7:return this.Jo.update(r),t.next=10,this.Yo.co;case 10:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.Eo=function(){return!this.wo&&this.Jo&&(this.wo=!0,this.Jo.close()),this.Qo.co},r.Co=function(){var t=D.coroutine(vn.mark(function t(){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.ec(),t.abrupt("return");case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.ec=function(){if(this.wo)throw new v("Already closing or closed.")},r.rc=function(t){this.ic.Js(),this.ic.Ks(Er,t),this.Es(new mr(this))},P(n,[{key:"Lo",get:function(){return this.Jo&&this.Jo.sessionId||""}},{key:"xo",get:function(){return NaN}},{key:"Oo",get:function(){return this.Qo.co}},{key:"Po",get:function(){return this.ic}}]),n}(gr),Bi=function(){function t(t,n){this.Xo=t,this.Go=n}var n=t.prototype;return n.Bo=function(){var t=D.coroutine(vn.mark(function t(n){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Fi(this.Xo,this.Go));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Mo=function(t){return D.resolve(!1)},n.Uo=function(t){var n=this;return t.readyState>=1?t.msSetMediaKeys(this.Xo):t.addEventListener("loadedmetadata",function r(){t.msSetMediaKeys(n.Xo),t.removeEventListener("loadedmetadata",r)}),D.resolve()},n.qo=function(t){return D.resolve()},t}();function Mi(t,n,r){var i=!1;if(!(r.persistentState&&"optional"!==r.persistentState||r.distinctiveIdentifier&&"optional"!==r.distinctiveIdentifier)){var e={audioCapabilities:[],videoCapabilities:[],persistentState:r.persistentState||"optional",distinctiveIdentifier:r.distinctiveIdentifier||"optional",initDataTypes:r.initDataTypes,sessionTypes:["temporary"],label:r.label,$o:r.$o},u=!1;if(r.audioCapabilities)for(var s=0,o=r.audioCapabilities;s<o.length;s++){var c=o[s];if(c.contentType){u=!0;var a=qi(c.contentType);!c.robustness&&t(n,a)&&(e.audioCapabilities.push(c),i=!0)}}if(r.videoCapabilities)for(var f=0,h=r.videoCapabilities;f<h.length;f++){var v=h[f];if(v.contentType){u=!0;var d=qi(v.contentType);!v.robustness&&t(n,d)&&(e.videoCapabilities.push(v),i=!0)}}return u||(i=t(n,"video/mp4")),i?e:void 0}}function Ui(t){if(t.videoCapabilities)for(var n=0,r=t.videoCapabilities;n<r.length;n++){var i=r[n];if(i.contentType)return i.contentType}if(t.audioCapabilities)for(var e=0,u=t.audioCapabilities;e<u.length;e++){var s=u[e];if(s.contentType)return s.contentType}}function qi(t){return t.split(";")[0]}var Vi=function(){function t(t,n){this.lo=t,this.sc=n;var r=Ui(n)||"video/mp4";this.Go=qi(r)}var n=t.prototype;return n.Ho=function(){return this.sc},n.jo=function(){return D.resolve(new Bi(new S.MSMediaKeys(this.lo),this.Go))},P(t,[{key:"Wo",get:function(){return this.lo}}]),t}(),ji=function(){function t(){}return t.prototype.Zu=function(t,n){try{return D.resolve(function(t,n){if(!Hi())throw new v("Unsupported key system "+t);for(var r=0;r<n.length;r++){var i=n[r],e=Mi(Wi,t,i);if(e)return new Vi(t,e)}throw new v("Unsupported key system configuration for "+t)}(t,n))}catch(t){return D.reject(t)}},t.zo=function(){return Hi()},t}();function Hi(){return void 0!==S.MSMediaKeys&&"function"==typeof S.MSMediaKeys.isTypeSupported}function Wi(t,n){return S.MSMediaKeys.isTypeSupported(t,n)}var $i,zi,Xi=function(t){function n(n,r,i){var e;return(e=t.call(this)||this).oc=n,e.Go=r,e.cc=i,e.Qo=new Si,e.ac=void 0,e.ic=new Sr,e.fc=void 0,e.hc=new Si,e.tc=function(){var t=e.fc&&e.fc.error;if(t){var n=new Ni("Unknown CDM error",t.code,t.systemCode);e.ac?(e.ac.fo(n),e.ac=void 0):n.ho===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?e.rc("output-not-allowed"):e.rc("internal-error"),e.Es(new br)}},e.Zo=function(t){e.ac&&(e.ac.ao(void 0),e.ac=void 0),e.Es(new kr(Kt(e),"license-request",Ti(t.message).buffer,t.destinationURL||void 0))},e}Gt(n,t);var r=n.prototype;return r.Io=function(t,n,r){var i=r&&r.fairplay&&r.fairplay.vc;if(!i)throw new v("Expected FairPlay contentId to be defined but was "+i+".");var e=Gi(bi(n),i,this.cc);return this.fc=this.oc.createSession(this.Go,e),this.fc.addEventListener("webkitkeymessage",this.Zo,!1),this.fc.addEventListener("webkitkeyerror",this.tc,!1),this.rc("usable"),this.hc.ao(this.fc),this.hc=new Si,D.resolve()},r.Do=function(t){return D.resolve(!0)},r.No=function(){var t=D.coroutine(vn.mark(function t(n){var r;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(r=bi(n)).byteLength){t.next=3;break}throw new v("Cannot call update with an empty response.");case 3:if(this.ac=new Si,t.t0=this.fc,t.t0){t.next=9;break}return t.next=8,this.hc.co;case 8:t.t0=t.sent;case 9:return t.t0.update(r),t.next=13,this.ac.co;case 13:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.Eo=function(){var t=this.fc;return t&&(t.removeEventListener("webkitkeymessage",this.Zo,!1),t.removeEventListener("webkitkeyerror",this.tc,!1),t.close()),this.hc.ys(),this.Qo.ao(void 0),this.Qo.co},r.Co=function(){return D.resolve(void 0)},r.rc=function(t){this.ic.Js(),this.ic.Ks(Er,t),this.Es(new mr(this))},P(n,[{key:"Lo",get:function(){return this.fc?this.fc.sessionId:""}},{key:"xo",get:function(){return NaN}},{key:"Oo",get:function(){return this.Qo.co}},{key:"Po",get:function(){return this.ic}}]),n}(gr);function Gi(t,n,r){var i=yi(t),e=2*i.length,u=2*n.length,s=new ArrayBuffer(4+e+4+u+4+r.byteLength),o=new DataView(s),c=new Ei;return ri(o,c,e,!0),fi(o,c,i,!0),ri(o,c,u,!0),fi(o,c,n,!0),ri(o,c,r.byteLength,!0),function(t,n,r){mi(t).set(mi(r),n.eo),n.to(r.byteLength)}(o,c,r),new _(s)}($i=n.ErrorCode||(n.ErrorCode={}))[$i.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",$i[$i.LICENSE_ERROR=2e3]="LICENSE_ERROR",$i[$i.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",$i[$i.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",$i[$i.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",$i[$i.SOURCE_INVALID=3e3]="SOURCE_INVALID",$i[$i.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",$i[$i.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",$i[$i.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",$i[$i.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",$i[$i.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",$i[$i.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",$i[$i.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",$i[$i.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",$i[$i.MEDIA_ABORTED=5004]="MEDIA_ABORTED",$i[$i.NETWORK_ERROR=6e3]="NETWORK_ERROR",$i[$i.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",$i[$i.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",$i[$i.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",$i[$i.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",$i[$i.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",$i[$i.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",$i[$i.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",$i[$i.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",$i[$i.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",$i[$i.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",$i[$i.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",$i[$i.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",$i[$i.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",$i[$i.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",$i[$i.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",$i[$i.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",$i[$i.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",$i[$i.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",$i[$i.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",$i[$i.AD_ERROR=1e4]="AD_ERROR",$i[$i.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",$i[$i.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR",(zi=n.ErrorCategory||(n.ErrorCategory={}))[zi.CONFIGURATION=1]="CONFIGURATION",zi[zi.LICENSE=2]="LICENSE",zi[zi.SOURCE=3]="SOURCE",zi[zi.MANIFEST=4]="MANIFEST",zi[zi.MEDIA=5]="MEDIA",zi[zi.NETWORK=6]="NETWORK",zi[zi.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",zi[zi.SUBTITLE=8]="SUBTITLE",zi[zi.VR=9]="VR",zi[zi.AD=10]="AD",zi[zi.FULLSCREEN=11]="FULLSCREEN",function(t){t.fromCode=function(n){var r=l.floor(n/1e3);if(r in t)return r;throw new v("Invalid error code: "+n)}}(n.ErrorCategory||(n.ErrorCategory={}));var Yi=function(t){function r(n,r,i){var e;return(e=t.call(this,r,i)||this).code=n,e}return Gt(r,t),P(r,[{key:"name",get:function(){return"THEOplayerError"}},{key:"category",get:function(){return n.ErrorCategory.fromCode(this.code)}}]),r}(Qt),Ki=function(){function t(t,n){this.oc=t,this.Go=n,this.cc=void 0}var r=t.prototype;return r.getInternalMediaKeys=function(){return this.oc},r.Bo=function(){var t=D.coroutine(vn.mark(function t(r){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.cc){t.next=2;break}throw new Yi(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return t.abrupt("return",new Xi(this.oc,this.Go,this.cc));case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.Mo=function(t){return this.cc=bi(t),D.resolve(!0)},r.Uo=function(t){return t.webkitSetMediaKeys(this.oc),D.resolve()},r.qo=function(t){return t.webkitSetMediaKeys(null),D.resolve()},t}(),Ji=function(){function t(t,n){this.lo=t,this.sc=n;var r=Ui(n)||"video/mp4";this.Go=qi(r)}var n=t.prototype;return n.Ho=function(){return this.sc},n.jo=function(){return D.resolve(new Ki(new S.WebKitMediaKeys(this.lo),this.Go))},P(t,[{key:"Wo",get:function(){return this.lo}}]),t}(),Qi=function(){function t(){}return t.prototype.Zu=function(t,n){try{return D.resolve(function(t,n){if(t!==An)throw new v(t+" is not supported with webkit-prefixed Encrypted Media Extensions.");if(!Zi())throw new v("Unsupported key system "+t);for(var r=0;r<n.length;r++){var i=n[r],e=Mi(te,t,i);if(e)return new Ji(t,e)}throw new v("Unsupported key system configuration for "+t)}(t,n))}catch(t){return D.reject(t)}},t.zo=function(){return Zi()},t}();function Zi(){return void 0!==S.WebKitMediaKeys&&"function"==typeof S.WebKitMediaKeys.isTypeSupported}function te(t,n){return S.WebKitMediaKeys.isTypeSupported(t,n)}var ne,re=function(){function t(t){this.dc=t}return t.prototype.Zu=function(){var t=D.coroutine(vn.mark(function t(n,r){var i,e,u;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0,e=this.dc;case 1:if(!(i<e.length)){t.next=14;break}return u=e[i],t.prev=3,t.next=6,u.Zu(n,r);case 6:return t.abrupt("return",t.sent);case 9:t.prev=9,t.t0=t.catch(3);case 11:i++,t.next=1;break;case 14:throw new v("Unsupported key system configuration for "+n);case 15:case"end":return t.stop()}},t,this,[[3,9]])}));return function(n,r){return t.apply(this,arguments)}}(),t}(),ie=function(t){function n(n){var r;return(r=t.call(this)||this).lo=n,r.Ko=void 0,r.ac=void 0,r.lc=!1,r.wc=void 0,r.yc=void 0,r.Qo=new Si,r.gc="",r._c=new Si,r.pc=new Sr,r}Gt(n,t);var r=n.prototype;return r.mc=function(){this.ac&&(this.rc("usable"),this.ac.ao(void 0),this.ac=void 0)},r.kc=function(t){var n=new Ni("Unknown CDM error",t.errorCode,t.systemCode);this.ac?(this.ac.fo(n),this.ac=void 0):this.Ko?(this.Ko.fo(n),this.Ko=void 0):n.ho===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.rc("output-restricted"):1===n.vo?this.rc("expired"):this.rc("internal-error")},r.bc=function(t){0!==t.message.byteLength&&(this.Ko&&(this.Ko.ao(void 0),this.Ko=void 0),this.Es(new kr(this,"license-request",Di(this.lo,Ti(t.message).buffer),t.defaultURL||void 0)))},r.Tc=function(t){this.yc||(this.yc=t,this._c.ao(t))},r.Eo=function(){var t=D.coroutine(vn.mark(function t(){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed(),this.lc=!0,this.Qo.ao(void 0);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.Io=function(){var t=D.coroutine(vn.mark(function t(n,r){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.Ko=new Si,this.wc=bi(r),t.t0=this.yc,t.t0){t.next=8;break}return t.next=7,this._c.co;case 7:t.t0=t.sent;case 8:return t.t0.webkitGenerateKeyRequest(this.lo,this.wc),t.next=12,this.Ko.co;case 12:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),r.Do=function(){var t=D.coroutine(vn.mark(function t(n){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.throwIfClosed(),t.abrupt("return",!1);case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.Co=function(){var t=D.coroutine(vn.mark(function t(){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed();case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.No=function(){var t=D.coroutine(vn.mark(function t(n){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.ac=new Si,t.t0=this.yc,t.t0){t.next=7;break}return t.next=6,this._c.co;case 6:t.t0=t.sent;case 7:return t.t0.webkitAddKey(this.lo,bi(n),this.wc,this.Lo),t.next=11,this.ac.co;case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.throwIfClosed=function(){if(this.lc)throw new v("Already closing or closed.")},r.rc=function(t){this.pc.Js(),this.pc.Ks(Er,t),this.Es(new mr(this))},P(n,[{key:"Po",get:function(){return this.pc}},{key:"Lo",get:function(){return this.gc},set:function(t){this.gc=t}},{key:"Oo",get:function(){return this.Qo.co}},{key:"xo",get:function(){return NaN}}]),n}(gr),ee=function(){function t(t){var n=this;this.lo=t,this.yc=void 0,this.Ec=wn(),this.Sc=[],this.nc=function(t){var r=n.Rc(t.sessionId);r&&r.mc()},this.Ic=function(t){var r=n.Rc(t.sessionId);r&&r.kc(t)},this.Dc=function(t){var r=n.Rc(t.sessionId);r&&r.bc(t)}}var n=t.prototype;return n.Uo=function(t){return this.yc=t,this.yc.addEventListener("webkitkeyadded",this.nc),this.yc.addEventListener("webkitkeyerror",this.Ic),this.yc.addEventListener("webkitkeymessage",this.Dc),this.Ec.forEach(function(n,r){return n.Tc(t)}),this.Sc.forEach(function(n){return n.Tc(t)}),D.resolve()},n.qo=function(t){return t.removeEventListener("webkitkeyadded",this.nc),t.removeEventListener("webkitkeyerror",this.Ic),t.removeEventListener("webkitkeymessage",this.Dc),this.yc=void 0,D.resolve()},n.Bo=function(){var t=D.coroutine(vn.mark(function t(n,r,i){var e;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new ie(this.lo),this.yc&&e.Tc(this.yc),this.Sc.push(e),t.abrupt("return",e);case 4:case"end":return t.stop()}},t,this)}));return function(n,r,i){return t.apply(this,arguments)}}(),n.Mo=function(t){return D.resolve(!1)},n.Rc=function(t){if(t){var n=this.Ec.get(t);return n||((n=this.Sc.shift())?(n.Lo=t,this.Ec.set(t,n),n):void 0)}},t}(),ue=function(){function t(t,n){this.Wo=t,this.Cc=n}var n=t.prototype;return n.jo=function(){return D.resolve(new ee(this.Wo))},n.Ho=function(){return this.Cc},t}();function se(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function oe(t,n){var r=n.style;if(r)for(var i in t)r[i]=t[i]}function ce(){return void 0!==e?e.createElement("video"):void 0}function ae(){return ne||(ne=ce()),ne}var fe,he=function(){function t(){}return t.prototype.Zu=function(t,n){try{return D.resolve(ve(t,n))}catch(t){return D.reject(t)}},t.zo=function(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest},t}();function ve(t,n){if(!he.zo())throw new v("Unsupported key system "+t);for(var r=0;r<n.length;r++){var i=Mi(de,t,n[r]);if(i)return new ue(t,i)}throw new v("Unsupported key system configuration for "+t)}function de(t,n){var r=ae();return!(!r||!r.canPlayType||""===r.canPlayType(n,t))}function le(){return fe||(fe=function(){var t=[];Qi.zo()&&t.push(new Qi);Li.zo()&&t.push(new Li);ji.zo()&&t.push(new ji);he.zo()&&t.push(new he);return new re(t)}()),fe}function we(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),d.defineProperty(t,i.key,i)}}function ye(t,n){var r=function(t,n){var r=t.length;if(r<=1)return t;for(var i=new Array(r),e=1;e<r;e*=2){ge(t,n,e,i);var u=t;t=i,i=u}return t}(t,n);return r!==t&&ge(r,null,t.length,t),t}function ge(t,n,r,i){var e,u,s,o,c,a=t.length,f=0,h=2*r;for(e=0;e<a;e+=h)for(s=(u=e+r)+r,u>a&&(u=a),s>a&&(s=a),o=e,c=u;;)if(o<u&&c<s)n(t[o],t[c])<=0?i[f++]=t[o++]:i[f++]=t[c++];else if(o<u)i[f++]=t[o++];else{if(!(c<s))break;i[f++]=t[c++]}}var _e=/[a-zA-Z]/,pe=/[0-9]/,me=/[0-9a-fA-F]/,ke=/^0x/i,be=/^[0-9]+$/,Te=/^[0-9a-fA-F]+$/,Ee=/^[0-7]+$/,Se=d.prototype.toString,Re=Array.isArray||function(t){return"[object Array]"===Se.call(t)},Ie="undefined"!=typeof Symbol&&"symbol"==typeof Symbol.iterator;function De(t){return Re(t)?t:Array.from(t)}function Ce(t){return t>=65&&t<=90}function Ne(t){return Ce(t)||function(t){return t>=97&&t<=122}(t)}function Ae(t){return t>=48&&t<=57}function Oe(t){return Ae(t)||Ne(t)}function xe(t){return Ae(t)||t>=65&&t<=70||t>=97&&t<=102}function Pe(t){return Ce(t)?t+32:t}function Le(t){return Ae(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function Fe(t,n){return void 0===n&&(n=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(n?87:55):-1}var Be=l.min,Me=String.fromCharCode,Ue=16384;function qe(t){for(var n=t.length,r=[],i=0;i<n;i+=Ue){var e=Be(i+Ue,n);r.push(Me.apply(null,t.slice(i,e)))}return r.join("")}var Ve=/[^\0-\x7E]/,je=/[\x2E\u3002\uFF0E\uFF61]/g,He={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},We=l.floor,$e=String.fromCharCode;function ze(t){throw new RangeError(He[t])}function Xe(t){for(var n=[],r=0,i=t.length;r<i;){var e=t.charCodeAt(r++);if(e>=55296&&e<=56319&&r<i){var u=t.charCodeAt(r++);56320==(64512&u)?n.push(((1023&e)<<10)+(1023&u)+65536):(n.push(e),r--)}else n.push(e)}return n}var Ge,Ye,Ke,Je=function(t,n){return t+22+75*(t<26)-((0!=n)<<5)},Qe=function(t,n,r){var i=0;for(t=r?We(t/700):t>>1,t+=We(t/n);t>455;i+=36)t=We(t/35);return We(i+36*t/(t+38))},Ze=function(t){return function(t,n){var r=t.split("@"),i="";r.length>1&&(i=r[0]+"@",t=r[1]);var e=function(t,n){for(var r=[],i=t.length;i--;)r[i]=n(t[i]);return r}((t=t.replace(je,".")).split("."),n).join(".");return i+e}(t,function(t){return Ve.test(t)?"xn--"+function(t){for(var n=[],r=(t=Xe(t)).length,i=128,e=0,u=72,s=0,o=t;s<o.length;s++){var c=o[s];c<128&&n.push($e(c))}var a=n.length,f=a;for(a&&n.push("-");f<r;){for(var h=2147483647,v=0,d=t;v<d.length;v++){var l=d[v];l>=i&&l<h&&(h=l)}var w=f+1;h-i>We((2147483647-e)/w)&&ze("overflow"),e+=(h-i)*w,i=h;for(var y=0,g=t;y<g.length;y++){var _=g[y];if(_<i&&++e>2147483647&&ze("overflow"),_==i){for(var p=e,m=36;;m+=36){var k=m<=u?1:m>=u+26?26:m-u;if(p<k)break;var b=p-k,T=36-k;n.push($e(Je(k+b%T,0))),p=We(b/T)}n.push($e(Je(p,0))),u=Qe(e,w,f==a),e=0,++f}}++e,++i}return n.join("")}(t):t})};function tu(t){for(var n=[],r=0;r<t.length;r++){var i=t[r];i>65535&&(i-=65536,n.push(i>>>10&1023|55296),i=56320|1023&i),n.push(i)}return qe(n)}function nu(t){if(t>=55296&&t<=57343)throw new h("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function ru(t,n){return t>>n&63|128}function iu(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(nu(t),n.push(t>>12&15|224),n.push(ru(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(ru(t,12)),n.push(ru(t,6))),n.push(63&t|128)):n.push(t)}function eu(t){for(var n=[],r=0;r<t.length;r++){iu(t[r],n)}return n}function uu(){if(Ke>=Ye)throw new h("Invalid byte index");var t=255&Ge[Ke];if(Ke++,128==(192&t))return 63&t;throw new h("Invalid continuation byte")}function su(){var t,n;if(Ke>Ye)throw new h("Invalid byte index");if(Ke===Ye)return!1;if(t=255&Ge[Ke],Ke++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|uu())>=128)return n;throw new h("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|uu()<<6|uu())>=2048)return nu(n),n;throw new h("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|uu()<<12|uu()<<6|uu())>=65536&&n<=1114111)return n;throw new h("Invalid UTF-8 detected")}function ou(t){return[37,Fe(t>>4),Fe(15&t)]}function cu(t){return function(t){return t>=0&&t<=31}(t)||t>126}function au(t){return cu(t)||32===t||34===t||60===t||62===t||96===t}function fu(t){return au(t)||35===t||63===t||123===t||125===t}function hu(t){return fu(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function vu(t){return t<33||t>126||34===t||35===t||60===t||62===t}function du(t){return vu(t)||39===t}function lu(t,n){if(!n(t))return[t];for(var r=eu([t]),i=[],e=0;e<r.length;e++){var u=r[e];i.push.apply(i,ou(u))}return i}function wu(t,n){for(var r=[],i=0,e=Xe(t);i<e.length;i++){var u=e[i];r.push.apply(r,lu(u,n))}return tu(r)}function yu(t){return function(t){for(var n=[],r=t.length,i=0;i<r;i++){var e=t[i];if(37===e&&i+2<r&&xe(t[i+1])&&xe(t[i+2])){var u=Le(t[i+1])<<4|Le(t[i+2]);n.push(u),i+=2}else n.push(e)}return n}(eu(t))}function gu(t){return tu(function(t){Ge=t.slice(),Ye=Ge.length,Ke=0;for(var n,r=[];!1!==(n=su());)r.push(n);return r}(yu(Xe(t))))}function _u(t){var n,r,i,e,u=t.length,s=[0,0,0,0,0,0,0,0],o=0,c=null,a=0;if(a<u&&":"===t[a]){if(!(a+1<u&&":"===t[a+1]))throw new v;a+=2,c=o+=1}for(;a<u;){if(8===o)throw new v("Too many groups");if(":"!==t[a]){for(var f=0,h=0;h<4&&a<u&&me.test(t[a]);)f=f<<4|w(t[a],16),a+=1,h+=1;if("."===t[a]){if(0===h)throw new v;if(a-=h,o>6)throw new v;for(var d=0;a<u;){var l=null;if(d>0){if(!("."===t[a]&&d<4))throw new v;a+=1}if(!pe.test(t[a]))throw new v;for(;a<u&&pe.test(t[a]);){var y=w(t[a],10);if(null===l)l=y;else{if(0===l)throw new v;if((l=10*l+y)>255)throw new v}a+=1}s[o]=s[o]<<8|l,2!==(d+=1)&&4!==d||(o+=1)}if(4!==d)throw new v;break}if(":"===t[a]){if((a+=1)===u)throw new v}else if(a<u)throw new v;s[o]=f,o+=1}else{if(null!==c)throw new v("Too many :: groups");a+=1,c=o+=1}}if(null!==c){var g=o-c;for(o=7;0!==o&&g>0;)i=c+g-1,e=void 0,e=(n=s)[r=o],n[r]=n[i],n[i]=e,o-=1,g-=1}else if(8!==o)throw new v;return s}function pu(t){var n=10,r=be;return ke.test(t)?(t=t.slice(2),n=16,r=Te):t.length>=2&&"0"===t[0]&&(t=t.slice(1),n=8,r=Ee),""===t?0:r.test(t)?w(t,n):void 0}var mu={Nc:4},ku=/[\0\t\n\r #%/:?@\[\\\]]/,bu=/[\0\t\n\r #/:?@\[\\\]]/;function Tu(t,n){if("["===t[0]){if("]"!==t[t.length-1])throw new v("Invalid IPv6 address");return{Nc:2,Ac:_u(t.slice(1,-1))}}if(!n)return function(t){if(bu.test(t))throw new v("Invalid code point in opaque host");var n=wu(t,cu);return""===n?mu:{Nc:3,Kr:n}}(t);var r=function(t){return function(t){return Ze(t.toLowerCase())}(t)}(gu(t));if(ku.test(r))throw new v("Invalid code point in host");var i=function(t){var n=t.split(".");if(""===n[n.length-1]&&n.pop(),!(n.length>4)){for(var r=[],i=0;i<n.length;i++){var e=n[i];if(""===e)return;var u=pu(e);if(void 0===u)return;r.push(u)}for(var s=0;s<r.length-1;s++)if(r[s]>255)throw new v;if(r[r.length-1]>=l.pow(256,5-r.length))throw new v;for(var o=r.pop(),c=0;c<r.length;c++)o+=r[c]*l.pow(256,3-c);return o}}(r);return void 0!==i?{Nc:1,Ac:i}:""===r?mu:{Nc:0,Oc:r}}function Eu(t){switch(t.Nc){case 0:return t.Oc;case 1:return function(t){for(var n=[],r=t,i=1;i<=4;i++)n.push(""+(255&r)),4!==i&&n.push("."),r>>>=8;return n.reverse().join("")}(t.Ac);case 2:return"["+function(t){for(var n="",r=function(t){for(var n=0,r=0,i=0,e=0,u=0;u<8;u++)0===t[u]?(0===e&&(i=u),e++):(e>r&&(n=i,r=e),e=0);return e>r&&(n=i,r=e),r>1?n:null}(t),i=!1,e=0;e<8;e++){if(i){if(0===t[e])continue;i=!1}r!==e?(n+=t[e].toString(16),7!==e&&(n+=":")):(n+=0===e?"::":":",i=!0)}return n}(t.Ac)+"]";case 3:return t.Kr;case 4:return""}}var Su=/\+/g;function Ru(t){for(var n=t.split("&"),r=[],i=0;i<n.length;i++){var e=n[i];if(""!==e){var u=e.indexOf("="),s=void 0,o=void 0;-1!==u?(s=e.slice(0,u),o=e.slice(u+1)):(s=e,o=""),s=s.replace(Su," "),o=o.replace(Su," ");var c=gu(s),a=gu(o);r.push([c,a])}}return r}function Iu(t){for(var n="",r=0;r<t.length;r++){var i=t[r];r>0&&(n+="&"),n+=Du(eu(Xe(i[0])))+"="+Du(eu(Xe(i[1])))}return n}function Du(t){for(var n,r=[],i=0;i<t.length;i++){var e=t[i];32===e?r.push(43):42===(n=e)||45===n||46===n||95===n||Oe(n)?r.push(e):r.push.apply(r,ou(e))}return qe(r)}var Cu=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function Nu(t){var n=""+t,r=Cu.exec(n);return r?function(t,n){for(var r=t.length,i=[],e=n;e<r;e++){var u=t.charCodeAt(e);if(Ou(u))if(xu(u)||e===r-1)i.push(Au);else{var s=t.charCodeAt(e+1);xu(s)?(i.push(u,s),e++):i.push(Au)}else i.push(u)}return t.slice(0,n)+qe(i)}(n,r.index):n}var Au=65533,Ou=function(t){return 55296==(63488&t)},xu=function(t){return 0!=(1024&t)};function Pu(t,n){var r=t[0],i=n[0];return r===i?0:r<i?-1:1}function Lu(t){t.xc.length=0}function Fu(t,n){!function(t,n){for(var r=0;r<n.length;r++)t[r]=n[r];t.length=n.length}(t.xc,Ru(n))}function Bu(t){if(t.Pc){var n=Iu(t.xc);""===n&&(n=null),t.Pc.Pc.Lc=n}}var Mu=function(){function t(t){if(void 0===t&&(t=void 0),this.Pc=null,null==t)this.xc=[];else if("object"==typeof t||"function"==typeof t)if((u=t)instanceof Mu&&Re(u.xc)&&(!Ie||u[Symbol.iterator]===Uu))this.xc=t.xc.slice();else if(function(t){return null!=t&&(!!Re(t)||!!Ie&&"function"==typeof t[Symbol.iterator])}(t)){this.xc=[];for(var n=0,r=De(t);n<r.length;n++){var i=De(r[n]);if(2!==i.length)throw new v("Invalid name-value pair");this.xc.push([Nu(i[0]),Nu(i[1])])}}else for(var e in this.xc=[],t)d.prototype.hasOwnProperty.call(t,e)&&this.xc.push([Nu(e),Nu(t[e])]);else(t=Nu(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this.xc=Ru(t);var u}var n=t.prototype;return n.append=function(t,n){t=Nu(t),n=Nu(n),this.xc.push([t,n]),Bu(this)},n.delete=function(t){t=Nu(t);for(var n=this.xc,r=0;r<n.length;){n[r][0]===t?n.splice(r,1):r++}Bu(this)},n.get=function(t){t=Nu(t);for(var n=this.xc,r=0;r<n.length;r++){var i=n[r];if(i[0]===t)return i[1]}return null},n.getAll=function(t){t=Nu(t);for(var n=this.xc,r=[],i=0;i<n.length;i++){var e=n[i];e[0]===t&&r.push(e[1])}return r},n.has=function(t){t=Nu(t);for(var n=this.xc,r=0;r<n.length;r++){if(n[r][0]===t)return!0}return!1},n.set=function(t,n){t=Nu(t),n=Nu(n);for(var r=this.xc,i=!1,e=0;e<r.length;){var u=r[e];u[0]===t?i?r.splice(e,1):(u[1]=n,i=!0,e++):e++}i||r.push([t,n]),Bu(this)},n.sort=function(){ye(this.xc,Pu),Bu(this)},n.toString=function(){return Iu(this.xc)},n.entries=function(){return new Hu(this.xc,qu)},n.keys=function(){return new Hu(this.xc,Vu)},n.values=function(){return new Hu(this.xc,ju)},n.forEach=function(t){var n=this;this.xc.forEach(function(r){return t(r[1],r[0],n)})},t}(),Uu=Mu.prototype.entries;Ie&&(Mu.prototype[Symbol.iterator]=Uu);var qu=function(t){return[t[0],t[1]]},Vu=function(t){return t[0]},ju=function(t){return t[1]},Hu=function(){function t(t,n){this.Fc=0,this.xc=t,this.Bc=n}return t.prototype.next=function(){return this.Fc<this.xc.length?{done:!1,value:this.Bc(this.xc[this.Fc++])}:{done:!0,value:void 0}},t}(),Wu="null";var $u=d.create(null);$u.ftp=21,$u.file=0,$u.gopher=70,$u.http=80,$u.https=443,$u.ws=80,$u.wss=443;var zu=/^(?:\.|%2e)$/i,Xu=/^(?:\.|%2e){2}$/i;function Gu(t){return zu.test(t)}function Yu(t){return Xu.test(t)}function Ku(t){return void 0!==$u[t]}function Ju(t){return Ku(t.Mc)}function Qu(t){return""!==t.Uc||""!==t.qc}function Zu(t){var n=t.length;if(!(n>=2))return!1;if(!ns(t.slice(0,2)))return!1;if(2!==n){var r=t[2];if(47!==r&&92!==r&&63!==r&&35!==r)return!1}return!0}function ts(t){return 2===t.length&&_e.test(t[0])&&(":"===t[1]||"|"===t[1])}function ns(t){return 2===t.length&&ts(qe(t))}function rs(t){return ts(t)&&":"===t[1]}function is(t){var n=t.Vc;0!==n.length&&("file"===t.Mc&&1===n.length&&rs(n[0])||n.pop())}function es(t){return null===t.jc||mu===t.jc||t.Hc||"file"===t.Mc}var us=-1,ss=/\t|\n|\r/g,os=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function cs(t,n,r,i){void 0===r&&(r=null),void 0===i&&(i=null),r||(r=new fs,t=t.replace(os,""));var e=null!==i?i:0;n=n||null;for(var u=[],s=!1,o=!1,c=!1,a=Xe(t=t.replace(ss,"")),f=a.length,h=0;h<=f;){var d=h<f?a[h]:us;switch(e){case 0:if(!Ne(d)){if(null===i){u.length=0,e=2;continue}throw new v("Invalid scheme")}u.push(Pe(d)),e=1;break;case 1:if(Oe(d)||43===d||45===d||46===d)u.push(Pe(d));else{if(58!==d){if(null===i){u.length=0,e=2,h=0;continue}throw new v("Invalid scheme")}var l=tu(u);if(null!==i){if(Ku(r.Mc)&&!Ku(l))return;if(!Ku(r.Mc)&&Ku(l))return;if((Qu(r)||null!==r.Wc)&&"file"===l)return;if("file"===r.Mc&&(r.jc===mu||null===r.jc))return}if(r.Mc=l,null!==i)return void(Ju(r)&&r.Wc===$u[r.Mc]&&(r.Wc=null));u.length=0,"file"===r.Mc?e=13:Ju(r)&&n&&n.Mc===r.Mc?e=3:Ju(r)?e=7:47===a[h+1]?(e=4,h+=1):(r.Hc=!0,r.Vc.push(""),e=18)}break;case 2:if(!n||n.Hc&&35!==d)throw new v("Invalid scheme");n.Hc&&35===d?(r.Mc=n.Mc,r.Vc=n.Vc.slice(),r.Lc=n.Lc,r.$c="",r.Hc=!0,e=20):"file"!==n.Mc?(e=5,h-=1):(e=13,h-=1);break;case 3:47===d&&47===a[h+1]?e=8:(e=5,h-=1);break;case 4:47===d?e=9:(e=17,h-=1);break;case 5:r.Mc=n.Mc,us===d?(r.Uc=n.Uc,r.qc=n.qc,r.jc=n.jc,r.Wc=n.Wc,r.Vc=n.Vc.slice(),r.Lc=n.Lc):47===d?e=6:63===d?(r.Uc=n.Uc,r.qc=n.qc,r.jc=n.jc,r.Wc=n.Wc,r.Vc=n.Vc.slice(),r.Lc="",e=19):35===d?(r.Uc=n.Uc,r.qc=n.qc,r.jc=n.jc,r.Wc=n.Wc,r.Vc=n.Vc.slice(),r.Lc=n.Lc,r.$c="",e=20):92===d&&Ju(r)?e=6:(r.Uc=n.Uc,r.qc=n.qc,r.jc=n.jc,r.Wc=n.Wc,r.Vc=n.Vc.slice(),r.Vc.pop(),e=17,h-=1);break;case 6:!Ju(r)||47!==d&&92!==d?47===d?e=9:(r.Uc=n.Uc,r.qc=n.qc,r.jc=n.jc,r.Wc=n.Wc,e=17,h-=1):e=8;break;case 7:if(47!==d||47!==a[h+1]){e=8;continue}e=8,h+=1;break;case 8:47!==d&&92!==d&&(e=9,h-=1);break;case 9:if(64===d){s&&u.unshift(37,52,48),s=!0;for(var y=0;y<u.length;y++){var g=u[y];if(58!==g||c){var _=tu(lu(g,hu));c?r.qc+=_:r.Uc+=_}else c=!0}u.length=0}else if(us===d||47===d||63===d||35===d||Ju(r)&&92===d){if(s&&0===u.length)throw new v("Invalid host");h-=u.length+1,u.length=0,e=10}else u.push(d);break;case 10:case 11:if(null!==i&&"file"===r.Mc)h-=1,e=15;else if(58!==d||o)if(us===d||47===d||63===d||35===d||Ju(r)&&92===d){if(h-=1,Ju(r)&&0===u.length)throw new v("Invalid host");if(null!==i&&0===u.length&&(Qu(r)||null!==r.Wc))return;var p=Tu(tu(u),Ju(r));if(r.jc=p,u.length=0,e=16,null!==i)return}else 91===d?o=!0:93===d&&(o=!1),u.push(d);else{if(0===u.length)throw new v("Invalid host");var m=Tu(tu(u),Ju(r));if(r.jc=m,u.length=0,e=12,11===i)return}break;case 12:if(Ae(d))u.push(d);else{if(!(us===d||47===d||63===d||35===d||Ju(r)&&92===d||null!==i))throw new v("Invalid port");if(0!==u.length){var k=w(tu(u),10);if(k>65535)throw new v("Invalid port");r.Wc=k===$u[r.Mc]?null:k,u.length=0}if(null!==i)return;e=16,h-=1}break;case 13:r.Mc="file",47===d||92===d?e=14:n&&"file"===n.Mc?us===d?(r.jc=n.jc,r.Vc=n.Vc.slice(),r.Lc=n.Lc):63===d?(r.jc=n.jc,r.Vc=n.Vc.slice(),r.Lc="",e=19):35===d?(r.jc=n.jc,r.Vc=n.Vc.slice(),r.Lc=n.Lc,r.$c="",e=20):(Zu(a.slice(h))||(r.jc=n.jc,r.Vc=n.Vc.slice(),is(r)),e=17,h-=1):(e=17,h-=1);break;case 14:47===d||92===d?e=15:(n&&"file"===n.Mc&&!Zu(a.slice(h))&&(rs(n.Vc[0])?r.Vc.push(n.Vc[0]):r.jc=n.jc),e=17,h-=1);break;case 15:if(us===d||47===d||92===d||63===d||35===d)if(h-=1,null===i&&ns(u))e=17;else if(0===u.length){if(r.jc=mu,null!==i)return;e=16}else{var b=Tu(tu(u),Ju(r));if(0===b.Nc&&"localhost"===b.Oc&&(b=mu),r.jc=b,null!==i)return;u.length=0,e=16}else u.push(d);break;case 16:Ju(r)?(e=17,47!==d&&92!==d&&(h-=1)):null===i&&63===d?(r.Lc="",e=19):null===i&&35===d?(r.$c="",e=20):us!==d&&(e=17,47!==d&&(h-=1));break;case 17:if(us===d||47===d||Ju(r)&&92===d||null===i&&(63===d||35===d)){var T=tu(u);if(Yu(T)?(is(r),47===d||Ju(r)&&92===d||r.Vc.push("")):!Gu(T)||47===d||Ju(r)&&92===d?Gu(T)||("file"===r.Mc&&0===r.Vc.length&&ns(u)&&(mu!==r.jc&&null!==r.jc&&(r.jc=mu),u[1]=58,T=tu(u)),r.Vc.push(T)):r.Vc.push(""),u.length=0,"file"===r.Mc&&(us===d||63===d||35===d))for(;r.Vc.length>1&&""===r.Vc[0];)r.Vc.shift();63===d?(r.Lc="",e=19):35===d&&(r.$c="",e=20)}else u.push.apply(u,lu(d,fu));break;case 18:63===d?(r.Lc="",e=19):35===d?(r.$c="",e=20):us!==d&&(r.Vc[0]+=tu(lu(d,cu)));break;case 19:null===i&&35===d?(r.$c="",e=20):us!==d&&(r.Lc+=tu(lu(d,Ju(r)?du:vu)));break;case 20:us===d||0===d||(r.$c+=tu(lu(d,au)))}h++}return r}function as(t,n,r,i){try{cs(t,n,r,i)}catch(t){}}var fs=function(){this.Mc="",this.Uc="",this.qc="",this.jc=null,this.Wc=null,this.Vc=[],this.Lc=null,this.$c=null,this.Hc=!1};function hs(t){switch(t.Mc){case"blob":var n;try{n=cs(t.Vc[0],null)}catch(t){return Wu}return hs(n);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return r=t.Mc,i=t.jc,e=t.Wc,r+"://"+Eu(i)+(null===e?"":":"+e);case"file":default:return Wu}var r,i,e}var vs=function(){function t(t,n){var r,i,e=null;if(null!=n)if(null!=(r=n)&&r instanceof vs&&"object"==typeof r.Pc)e=n.Pc;else try{e=cs(String(n),null)}catch(t){throw new v("Invalid base URL: "+t.message)}try{i=cs(String(t),e)}catch(t){throw new v("Invalid URL: "+t.message)}var u=i.Lc;this.Pc=i,this.Lc=function(t){var n=new Mu;return null!==t&&Fu(n,t),n}(u),this.Lc.Pc=this}var n,r,i,e=t.prototype;return e.toString=function(){return this.href},e.toJSON=function(){return this.href},n=t,(r=[{key:"href",get:function(){return function(t,n){void 0===n&&(n=!1);var r=t.Mc+":";if(null!==t.jc?(r+="//",Qu(t)&&(r+=t.Uc,""!==t.qc&&(r+=":"+t.qc),r+="@"),r+=Eu(t.jc),null!==t.Wc&&(r+=":"+t.Wc)):null===t.jc&&"file"===t.Mc&&(r+="//"),t.Hc)r+=t.Vc[0];else for(var i=0,e=t.Vc;i<e.length;i++)r+="/"+e[i];return null!==t.Lc&&(r+="?"+t.Lc),n||null===t.$c||(r+="#"+t.$c),r}(this.Pc)},set:function(t){var n;try{n=cs(String(t),null)}catch(t){throw new v("Invalid URL: "+t.message)}this.Pc=n,Lu(this.Lc);var r=this.Pc.Lc;null!==r&&Fu(this.Lc,r)}},{key:"origin",get:function(){return hs(this.Pc)}},{key:"protocol",get:function(){return this.Pc.Mc+":"},set:function(t){as(t+":",null,this.Pc,0)}},{key:"username",get:function(){return this.Pc.Uc},set:function(t){es(this.Pc)||(this.Pc.Uc=wu(t,hu))}},{key:"password",get:function(){return this.Pc.qc},set:function(t){es(this.Pc)||(this.Pc.qc=wu(t,hu))}},{key:"host",get:function(){var t=this.Pc,n=t.jc;if(null===n)return"";var r=t.Wc,i=Eu(n);return null!==r&&(i+=":"+r),i},set:function(t){this.Pc.Hc||as(t,null,this.Pc,10)}},{key:"hostname",get:function(){var t=this.Pc.jc;return null===t?"":Eu(t)},set:function(t){this.Pc.Hc||as(t,null,this.Pc,11)}},{key:"port",get:function(){var t=this.Pc.Wc;return null===t?"":""+t},set:function(t){es(this.Pc)||(""===t?this.Pc.Wc=null:as(t,null,this.Pc,12))}},{key:"pathname",get:function(){var t=this.Pc.Vc;return this.Pc.Hc?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.Pc.Hc||(this.Pc.Vc.length=0,as(t,null,this.Pc,16))}},{key:"search",get:function(){var t=this.Pc.Lc;return null===t||""===t?"":"?"+t},set:function(t){t=Nu(t);var n=this.Pc;if(""===t)return n.Lc=null,void Lu(this.Lc);"?"===t[0]&&(t=t.slice(1)),n.Lc="",as(t,null,n,19),Fu(this.Lc,t)}},{key:"searchParams",get:function(){return this.Lc}},{key:"hash",get:function(){var t=this.Pc.$c;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.Pc.$c="",as(t,null,this.Pc,20)):this.Pc.$c=null}}])&&we(n.prototype,r),i&&we(n,i),t}();function ds(t,n){for(var r=0,i=d.keys(n);r<i.length;r++){var e=i[r];t.searchParams.set(e,n[e])}}function ls(t,n){var r=N.zc(t);return n&&!Un(r,"/")&&(r+="/"),r}var ws=/cache:(.+)?(?=&|$)/,ys="http://webcache.googleusercontent.com/search?q=cache:";function gs(t){if(!Mn(t,ys))return"";var n=N.Xc(t).search.match(ws);return n&&n.length>1?n[1]:""}function _s(t){return t.document&&t.document.baseURI||t.location.href||""}var ps=!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)||!(!s||!s.msMaxTouchPoints),ms=ae(),ks=!(!ms||!ms.webkitShowPlaybackTargetPicker),bs=function(){function t(){this.Gc=0,this.Yc=!1,this.se=ps,this.ke=!1,this.Kc=!0}var n=t.prototype;return n.Jc=function(t,n){return!0},n.Qc=function(t){return t>=1/6*2},P(t,[{key:"Zc",get:function(){return i.devicePixelRatio||1}},{key:"ta",get:function(){return ks}},{key:"na",get:function(){return!1}},{key:"ra",get:function(){return!0}},{key:"ia",get:function(){return $.Pe}}]),t}(),Ts=function(t){function n(){return t.call(this)||this}return Gt(n,t),n}(bs),Es=function(t){function n(){return t.apply(this,arguments)||this}return Gt(n,t),n.prototype.Jc=function(t,n){if(t&&t.ea&&n&&n.ea){var r=Ss(t.ea,"mp4a.40.2")&&Ss(n.ea,"mp4a.40.5"),i=Ss(t.ea,"mp4a.40.5")&&Ss(n.ea,"mp4a.40.2"),e=Ss(t.ea,"mp4a.40.2")&&Ss(n.ea,"mp4a.40.34"),u=Ss(t.ea,"mp4a.40.34")&&Ss(n.ea,"mp4a.40.2"),s=Ss(t.ea,"mp4a.40.5")&&Ss(n.ea,"mp4a.40.34"),o=Ss(t.ea,"mp4a.40.34")&&Ss(n.ea,"mp4a.40.5");return!(r||i||e||u||s||o)}return!0},n}(Ts);function Ss(t,n){return t.indexOf(n)>-1}var Rs=function(t){function n(){return t.apply(this,arguments)||this}return Gt(n,t),n.prototype.Qc=function(t){return t>=2},n}(Ts),Is=function(t){function n(){var n;return(n=t.call(this)||this).Yc=$.Le>=11,n.Kc=$.Pe&&!($.pe&&$.Le<10),n}return Gt(n,t),n}(Ts),Ds=function(){var t=ce();if(!t)return!1;var n=t.muted;return t.muted=!n,t.muted!==n}();!function(){if($.ye)return!1;var t=ce();if(!t)return!1;var n=t.volume;t.volume=n/2+.1,t.volume}();var Cs=function(t){function n(n){var r;return(r=t.call(this)||this).ua=n,r.ua&&(r.Gc=r.ua.Gc,r.Yc=r.ua.Yc,r.se=r.ua.se,r.Kc=Ds&&r.ua.Kc),r}Gt(n,t);var r=n.prototype;return r.Jc=function(n,r){return this.ua?this.ua.Jc(n,r):t.prototype.Jc.call(this,n,r)},r.Qc=function(n){return this.ua?this.ua.Qc(n):t.prototype.Qc.call(this,n)},n}(bs),Ns=function(t){function n(n){var r;return(r=t.call(this,n)||this).Yc=!0,r.ke=!0,r}return Gt(n,t),n}(Cs),As=function(t){function n(){return t.apply(this,arguments)||this}return Gt(n,t),n.prototype.Jc=function(n,r){return!(r.sa>1920)&&t.prototype.Jc.call(this,n,r)},P(n,[{key:"na",get:function(){return $.Re<3}},{key:"ra",get:function(){return $.Re>=3}}]),n}(Cs),Os=function(){function t(){this.oa=wn()}var n=t.prototype;return n.Js=function(t){this.oa.delete(t)},n.ca=function(){this.oa.clear()},n.Gs=function(t){return this.oa.get(t)},n.aa=function(t,n){this.oa.set(t,n)},t}(),xs=function(){function t(){}return t.fa=function(){return t.We||(t.We=Ps.zo()?new Ps:new Os),t.We},t.Js=function(n){t.fa().Js(n)},t.ca=function(){t.fa().ca()},t.Gs=function(n){return t.fa().Gs(n)},t.aa=function(n,r){t.fa().aa(n,r)},t}();xs.We=void 0;var Ps=function(n){function r(){return n.apply(this,arguments)||this}Gt(r,n),r.zo=function(){try{return t.sessionStorage.setItem("foobar","foobar"),t.sessionStorage.removeItem("foobar"),!0}catch(t){return!1}};var i=r.prototype;return i.Js=function(n){t.sessionStorage.removeItem(n)},i.ca=function(){t.sessionStorage.clear()},i.Gs=function(n){return t.sessionStorage[n]},i.aa=function(n,r){t.sessionStorage[n]=r},r}(xs);var Ls=function(){var n,r=t.Blob;if(r)try{return new r,n=r,function(t,r){return new n(t,r)}}catch(t){}var i,e=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder;return e?(i=e,function(t,n){var r=new i;if(t)for(var e=0;e<t.length;e++){var u=t[e];r.append(u)}return r.getBlob(n&&n.type||"")}):null}();function Fs(t,n,r){var i=Ls([n],{type:"application/octet-stream"}),u=URL.createObjectURL(i),s=function(t,n){var r=t,i=r.indexOf("?");if(i>=0&&(r=r.substr(0,i)),r=r.substr(r.lastIndexOf("/")+1),n){var e=r.indexOf(".");e<0&&(e=r.length),r=r.substr(0,e)+n+r.substr(e)}return r}(t,r),o=e.createElement("a");o.href=u,o.download=s,e.body.appendChild(o),o.click(),e.body.removeChild(o),URL.revokeObjectURL(u)}var Bs,Ms,Us=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Gc=2,n}return Gt(n,t),n}(Ns),qs=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Gc=1,n}return Gt(n,t),n}(Ns);!function(t){t.ha="va",t.da="la",t.wa="contentprotectionerror",t.ya="contentprotectionsuccess",t.ga="currentsourcechange",t._a="destroy",t.pa="durationchange",t.ma="emptied",t.Vs="encrypted",t.ka="ended",t.ba="Ta",t.Ea="loadstart",t.Sa="manifestupdate",t.Ra="nosupportedrepresentationfound",t.Ia="offline",t.Da="online",t.Ca="pause",t.Na="play",t.Aa="progress",t.Oa="ratechange",t.xa="representationchange",t.Pa="resize",t.La="seeked",t.Fa="seeking",t.Ba="segmentnotfound",t.Ma="Ua",t.qa="Va",t.ja="sourcechange",t.Ha="timeupdate",t.Wa="volumechange",t.$a="za",t.Xa="metricschange"}(Bs||(Bs={})),function(t){t.Ga="arraybuffer",t.Ya="json",t.Ka="stream",t.Ye="text"}(Ms||(Ms={}));var Vs=function(){function t(n){var r=this;this.Ou={},n instanceof t?n.asList().forEach(function(t){var n=t[0],i=t[1];r.append(n,i)}):Array.isArray(n)?n.forEach(function(t){r.append(t[0],t[1])}):n&&d.getOwnPropertyNames(n).forEach(function(t){r.append(t,n[t])})}var n=t.prototype;return n.append=function(t,n){var r=t,i=n;r=js(r),i=Hs(i);var e=r.toLowerCase();if(this.Ou.hasOwnProperty(e)){var u=this.Ou[e],s=u[1];u[1]=s?s+", "+i:i}else this.Ou[e]=[r,i]},n.delete=function(t){var n=js(t).toLowerCase();delete this.Ou[n]},n.get=function(t){var n=js(t).toLowerCase();return this.Ou.hasOwnProperty(n)?this.Ou[n][1]:null},n.has=function(t){var n=js(t).toLowerCase();return this.Ou.hasOwnProperty(n)},n.set=function(t,n){var r=t,i=(r=js(r)).toLowerCase();this.Ou[i]=[r,Hs(n)]},n.forEach=function(t,n){for(var r in this.Ou)this.Ou.hasOwnProperty(r)&&t.call(n,this.Ou[r][1],r,this)},n.asList=function(){var t=[];for(var n in this.Ou)if(this.Ou.hasOwnProperty(n)){var r=this.Ou[n],i=r[0],e=r[1];t.push([i,e])}return t},n.Ja=function(){var t={};return this.forEach(function(n,r){t[r]=n}),t},n.Qa=function(t){var n=this;t.forEach(function(t,r){n.append(r,t)})},n.Za=function(t){var n=this;t.forEach(function(t,r){n.set(r,t)})},t}();function js(t){var n=t;if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(n))throw new v("Invalid character in header field name");return n}function Hs(t){var n=t;return"string"!=typeof n&&(n=String(n)),n}var Ws="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(t){return"Symbol("+t+")"};function $s(){}var zs=Number.isNaN||function(t){return t!=t},Xs=$s;function Gs(t){return"object"==typeof t&&null!==t||"function"==typeof t}function Ys(t){return t.slice()}function Ks(t){return!1!==function(t){if("number"!=typeof t)return!1;if(zs(t))return!1;if(t<0)return!1;return!0}(t)&&t!==1/0}function Js(t,n,r){if("function"!=typeof t)throw new v("Argument is not a function");return Function.prototype.apply.call(t,n,r)}function Qs(t,n,r,i){var e=t[n];if(void 0!==e){if("function"!=typeof e)throw new v(e+" is not a method");switch(r){case 0:return function(){return to(e,t,i)};case 1:return function(n){var r=[n].concat(i);return to(e,t,r)}}}return function(){return ao(void 0)}}function Zs(t,n,r){var i=t[n];if(void 0!==i)return Js(i,t,r)}function to(t,n,r){try{return ao(Js(t,n,r))}catch(t){return fo(t)}}function no(t){return t}function ro(t){if(t=Number(t),zs(t)||t<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return t}function io(t){if(void 0===t)return function(){return 1};if("function"!=typeof t)throw new v("size property of a queuing strategy must be a function");return function(n){return t(n)}}var eo=D,uo=D.prototype.then,so=D.resolve.bind(eo),oo=D.reject.bind(eo);function co(t){return new eo(t)}function ao(t){return so(t)}function fo(t){return oo(t)}function ho(t,n,r){return uo.call(t,n,r)}function vo(t,n,r){ho(ho(t,n,r),void 0,Xs)}function lo(t,n){vo(t,n)}function wo(t,n){vo(t,void 0,n)}function yo(t,n,r){return ho(t,n,r)}function go(t){ho(t,void 0,Xs)}var _o=function(){function t(){this.tf=0,this.nf=0,this.Er={rf:[],if:void 0},this.ef=this.Er,this.tf=0,this.nf=0}return d.defineProperty(t.prototype,"length",{get:function(){return this.nf},enumerable:!0,configurable:!0}),t.prototype.push=function(t){var n=this.ef,r=n;16383===n.rf.length&&(r={rf:[],if:void 0}),n.rf.push(t),r!==n&&(this.ef=r,n.if=r),++this.nf},t.prototype.shift=function(){var t=this.Er,n=t,r=this.tf,i=r+1,e=t.rf,u=e[r];return 16384===i&&(n=t.if,i=0),--this.nf,this.tf=i,t!==n&&(this.Er=n),e[r]=void 0,u},t.prototype.forEach=function(t){for(var n=this.tf,r=this.Er,i=r.rf;!(n===i.length&&void 0===r.if||n===i.length&&(n=0,0===(i=(r=r.if).rf).length));)t(i[n]),++n},t.prototype.peek=function(){var t=this.Er,n=this.tf;return t.rf[n]},t}();function po(t,n,r){var i=null;!0===r&&(i=d.prototype);var e=d.create(i);return e.value=t,e.done=n,e}function mo(t,n){t.uf=!0,t.sf=n,n.cf=t,"readable"===n.af?Eo(t):"closed"===n.af?function(t){Eo(t),Io(t)}(t):So(t,n.ff)}function ko(t,n){return Aa(t.sf,n)}function bo(t){"readable"===t.sf.af?Ro(t,new v("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,n){So(t,n)}(t,new v("Reader was released and can no longer be used to monitor the stream's closedness")),t.sf.cf=void 0,t.sf=void 0}function To(t){return new v("Cannot "+t+" a stream using a released reader")}function Eo(t){t.To=co(function(n,r){t.hf=n,t.vf=r})}function So(t,n){Eo(t),Ro(t,n)}function Ro(t,n){go(t.To),t.vf(n),t.hf=void 0,t.vf=void 0}function Io(t){t.hf(void 0),t.hf=void 0,t.vf=void 0}var Do=Ws("[[CancelSteps]]"),Co=Ws("[[PullSteps]]");function No(t,n){void 0===n&&(n=!1);var r=new Bo(t);return r.uf=n,r}function Ao(t){return co(function(n,r){var i={Fn:n,V:r};t.cf.df.push(i)})}function Oo(t,n,r){var i=t.cf;i.df.shift().Fn(po(n,r,i.uf))}function xo(t){return t.cf.df.length}function Po(t){var n=t.cf;return void 0!==n&&!!Mo(n)}var Lo,Fo,Bo=function(){function t(t){if(!1===Ca(t))throw new v("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===Na(t))throw new v("This stream has already been locked for exclusive reading by another reader");mo(this,t),this.df=new _o}return d.defineProperty(t.prototype,"closed",{get:function(){return Mo(this)?this.To:fo(qo("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return Mo(this)?void 0===this.sf?fo(To("cancel")):ko(this,t):fo(qo("cancel"))},t.prototype.read=function(){return Mo(this)?void 0===this.sf?fo(To("read from")):Uo(this):fo(qo("read"))},t.prototype.releaseLock=function(){if(!Mo(this))throw qo("releaseLock");if(void 0!==this.sf){if(this.df.length>0)throw new v("Tried to release a reader lock when that reader has pending read() calls un-settled");bo(this)}},t}();function Mo(t){return!!Gs(t)&&!!d.prototype.hasOwnProperty.call(t,"df")}function Uo(t){var n=t.sf;return n.lf=!0,"closed"===n.af?ao(po(void 0,!0,t.uf)):"errored"===n.af?fo(n.ff):n.wf[Co]()}function qo(t){return new v("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}"symbol"==typeof Ws.asyncIterator&&((Lo={})[Ws.asyncIterator]=function(){return this},Fo=Lo,d.defineProperty(Fo,Ws.asyncIterator,{enumerable:!1}));var Vo={next:function(){if(!1===jo(this))return fo(Ho("next"));var t=this.yf;return void 0===t.sf?fo(To("iterate")):yo(Uo(t),function(n){var r=n.done;return r&&bo(t),po(n.value,r,!0)})},return:function(t){if(!1===jo(this))return fo(Ho("next"));var n=this.yf;if(void 0===n.sf)return fo(To("finish iterating"));if(n.df.length>0)return fo(new v("Tried to release a reader lock when that reader has pending read() calls un-settled"));if(!1===this.gf){var r=ko(n,t);return bo(n),yo(r,function(){return po(t,!0,!0)})}return bo(n),ao(po(t,!0,!0))}};function jo(t){return!!Gs(t)&&!!d.prototype.hasOwnProperty.call(t,"yf")}function Ho(t){return new v("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}function Wo(t){var n=t.Nn.shift();return t._f-=n.size,t._f<0&&(t._f=0),n.value}function $o(t,n,r){if(!Ks(r=Number(r)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");t.Nn.push({value:n,size:r}),t._f+=r}function zo(t){t.Nn=new _o,t._f=0}void 0!==Fo&&d.setPrototypeOf(Vo,Fo),d.defineProperty(Vo,"next",{enumerable:!1}),d.defineProperty(Vo,"return",{enumerable:!1});var Xo=Ws("[[AbortSteps]]"),Go=Ws("[[ErrorSteps]]"),Yo=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),Jo(this);var r=n.size,i=n.highWaterMark;if(void 0!==t.type)throw new RangeError("Invalid type is specified");var e=io(r);void 0===i&&(i=1),function(t,n,r,i){var e=d.create(wc.prototype);var u=Qs(n,"write",1,[e]),s=Qs(n,"close",0,[]),o=Qs(n,"abort",1,[]);yc(t,e,function(){return Zs(n,"start",[e])},u,s,o,r,i)}(this,t,i=ro(i),e)}return d.defineProperty(t.prototype,"locked",{get:function(){if(!1===Qo(this))throw Tc("locked");return Zo(this)},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===Qo(this)?fo(Tc("abort")):!0===Zo(this)?fo(new v("Cannot abort a stream that already has a writer")):tc(this,t)},t.prototype.close=function(){return!1===Qo(this)?fo(Tc("close")):!0===Zo(this)?fo(new v("Cannot close a stream that already has a writer")):!0===uc(this)?fo(new v("Cannot close an already-closing stream")):nc(this)},t.prototype.getWriter=function(){if(!1===Qo(this))throw Tc("getWriter");return Ko(this)},t}();function Ko(t){return new cc(t)}function Jo(t){t.af="writable",t.ff=void 0,t.pf=void 0,t.mf=void 0,t.kf=new _o,t.bf=void 0,t.Tf=void 0,t.Ef=void 0,t.Sf=void 0,t.Rf=!1}function Qo(t){return!!Gs(t)&&!!d.prototype.hasOwnProperty.call(t,"mf")}function Zo(t){return void 0!==t.pf}function tc(t,n){var r=t.af;if("closed"===r||"errored"===r)return ao(void 0);if(void 0!==t.Sf)return t.Sf.un;var i=!1;"erroring"===r&&(i=!0,n=void 0);var e=co(function(r,e){t.Sf={un:void 0,Fn:r,V:e,Sn:n,If:i}});return t.Sf.un=e,!1===i&&ic(t,n),e}function nc(t){var n=t.af;if("closed"===n||"errored"===n)return fo(new v("The stream (in "+n+" state) is not in the writable state and cannot be closed"));var r,i=co(function(n,r){var i={Fn:n,V:r};t.Tf=i}),e=t.pf;return void 0!==e&&!0===t.Rf&&"writable"===n&&Pc(e),$o(r=t.mf,"close",0),pc(r),i}function rc(t,n){"writable"!==t.af?ec(t):ic(t,n)}function ic(t,n){var r=t.mf;t.af="erroring",t.ff=n;var i=t.pf;void 0!==i&&vc(i,n),!1===function(t){if(void 0===t.bf&&void 0===t.Ef)return!1;return!0}(t)&&!0===r.Df&&ec(t)}function ec(t){t.af="errored",t.mf[Go]();var n=t.ff;if(t.kf.forEach(function(t){t.V(n)}),t.kf=new _o,void 0!==t.Sf){var r=t.Sf;if(t.Sf=void 0,!0===r.If)return r.V(n),void sc(t);vo(t.mf[Xo](r.Sn),function(){r.Fn(),sc(t)},function(n){r.V(n),sc(t)})}else sc(t)}function uc(t){return void 0!==t.Tf||void 0!==t.Ef}function sc(t){void 0!==t.Tf&&(t.Tf.V(t.ff),t.Tf=void 0);var n=t.pf;void 0!==n&&Dc(n,t.ff)}function oc(t,n){var r=t.pf;void 0!==r&&n!==t.Rf&&(!0===n?function(t){Nc(t)}(r):Pc(r)),t.Rf=n}var cc=function(){function t(t){if(!1===Qo(t))throw new v("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===Zo(t))throw new v("This stream has already been locked for exclusive writing by another writer");this.Cf=t,t.pf=this;var n,r=t.af;if("writable"===r)!1===uc(t)&&!0===t.Rf?Nc(this):Oc(this),Rc(this);else if("erroring"===r)Ac(this,t.ff),Rc(this);else if("closed"===r)Oc(this),Rc(n=this),Cc(n);else{var i=t.ff;Ac(this,i),Ic(this,i)}}return d.defineProperty(t.prototype,"closed",{get:function(){return!1===ac(this)?fo(Ec("closed")):this.To},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===ac(this))throw Ec("desiredSize");if(void 0===this.Cf)throw Sc("desiredSize");return function(t){var n=t.Cf,r=n.af;if("errored"===r||"erroring"===r)return null;if("closed"===r)return 0;return _c(n.mf)}(this)},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"ready",{get:function(){return!1===ac(this)?fo(Ec("ready")):this.Nf},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===ac(this)?fo(Ec("abort")):void 0===this.Cf?fo(Sc("abort")):function(t,n){return tc(t.Cf,n)}(this,t)},t.prototype.close=function(){if(!1===ac(this))return fo(Ec("close"));var t=this.Cf;return void 0===t?fo(Sc("close")):!0===uc(t)?fo(new v("Cannot close an already-closing stream")):fc(this)},t.prototype.releaseLock=function(){if(!1===ac(this))throw Ec("releaseLock");void 0!==this.Cf&&dc(this)},t.prototype.write=function(t){return!1===ac(this)?fo(Ec("write")):void 0===this.Cf?fo(Sc("write to")):lc(this,t)},t}();function ac(t){return!!Gs(t)&&!!d.prototype.hasOwnProperty.call(t,"Cf")}function fc(t){return nc(t.Cf)}function hc(t,n){"pending"===t.Af?Dc(t,n):function(t,n){Ic(t,n)}(t,n)}function vc(t,n){"pending"===t.Of?xc(t,n):function(t,n){Ac(t,n)}(t,n)}function dc(t){var n=t.Cf,r=new v("Writer was released and can no longer be used to monitor the stream's closedness");vc(t,r),hc(t,r),n.pf=void 0,t.Cf=void 0}function lc(t,n){var r=t.Cf,i=r.mf,e=function(t,n){try{return t.xf(n)}catch(n){return mc(t,n),1}}(i,n);if(r!==t.Cf)return fo(Sc("write to"));var u=r.af;if("errored"===u)return fo(r.ff);if(!0===uc(r)||"closed"===u)return fo(new v("The stream is closing or closed and cannot be written to"));if("erroring"===u)return fo(r.ff);var s=function(t){return co(function(n,r){var i={Fn:n,V:r};t.kf.push(i)})}(r);return function(t,n,r){var i={chunk:n};try{$o(t,i,r)}catch(n){return void mc(t,n)}var e=t.Pf;if(!1===uc(e)&&"writable"===e.af){var u=kc(t);oc(e,u)}pc(t)}(i,n,e),s}var wc=function(){function t(){throw new v("WritableStreamDefaultController cannot be constructed explicitly")}return t.prototype.error=function(t){if(!1===function(t){if(!Gs(t))return!1;if(!d.prototype.hasOwnProperty.call(t,"Pf"))return!1;return!0}(this))throw new v("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this.Pf.af&&bc(this,t)},t.prototype[Xo]=function(t){var n=this.Lf(t);return gc(this),n},t.prototype[Go]=function(){zo(this)},t}();function yc(t,n,r,i,e,u,s,o){n.Pf=t,t.mf=n,n.Nn=void 0,n._f=void 0,zo(n),n.Df=!1,n.xf=o,n.Ff=s,n.Bf=i,n.Mf=e,n.Lf=u;var c=kc(n);oc(t,c),vo(ao(r()),function(){n.Df=!0,pc(n)},function(r){n.Df=!0,rc(t,r)})}function gc(t){t.Bf=void 0,t.Mf=void 0,t.Lf=void 0,t.xf=void 0}function _c(t){return t.Ff-t._f}function pc(t){var n=t.Pf;if(!1!==t.Df&&void 0===n.bf)if("erroring"!==n.af){if(0!==t.Nn.length){var r=t.Nn.peek().value;"close"===r?function(t){var n=t.Pf;(function(t){t.Ef=t.Tf,t.Tf=void 0})(n),Wo(t);var r=t.Mf();gc(t),vo(r,function(){!function(t){t.Ef.Fn(void 0),t.Ef=void 0,"erroring"===t.af&&(t.ff=void 0,void 0!==t.Sf&&(t.Sf.Fn(),t.Sf=void 0)),t.af="closed";var n=t.pf;void 0!==n&&Cc(n)}(n)},function(t){!function(t,n){t.Ef.V(n),t.Ef=void 0,void 0!==t.Sf&&(t.Sf.V(n),t.Sf=void 0),rc(t,n)}(n,t)})}(t):function(t,n){var r=t.Pf;(function(t){t.bf=t.kf.shift()})(r),vo(t.Bf(n),function(){!function(t){t.bf.Fn(void 0),t.bf=void 0}(r);var n=r.af;if(Wo(t),!1===uc(r)&&"writable"===n){var i=kc(t);oc(r,i)}pc(t)},function(n){"writable"===r.af&&gc(t),function(t,n){t.bf.V(n),t.bf=void 0,rc(t,n)}(r,n)})}(t,r.chunk)}}else ec(n)}function mc(t,n){"writable"===t.Pf.af&&bc(t,n)}function kc(t){return _c(t)<=0}function bc(t,n){var r=t.Pf;gc(t),ic(r,n)}function Tc(t){return new v("WritableStream.prototype."+t+" can only be used on a WritableStream")}function Ec(t){return new v("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function Sc(t){return new v("Cannot "+t+" a stream using a released writer")}function Rc(t){t.To=co(function(n,r){t.hf=n,t.vf=r,t.Af="pending"})}function Ic(t,n){Rc(t),Dc(t,n)}function Dc(t,n){go(t.To),t.vf(n),t.hf=void 0,t.vf=void 0,t.Af="rejected"}function Cc(t){t.hf(void 0),t.hf=void 0,t.vf=void 0,t.Af="resolved"}function Nc(t){t.Nf=co(function(n,r){t.Uf=n,t.qf=r}),t.Of="pending"}function Ac(t,n){Nc(t),xc(t,n)}function Oc(t){Nc(t),Pc(t)}function xc(t,n){go(t.Nf),t.qf(n),t.Uf=void 0,t.qf=void 0,t.Of="rejected"}function Pc(t){t.Uf(void 0),t.Uf=void 0,t.qf=void 0,t.Of="fulfilled"}function Lc(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}var Fc="undefined"!=typeof DOMException?DOMException:void 0;var Bc,Mc=function(t){if("function"!=typeof t&&"object"!=typeof t)return!1;try{return new t,!0}catch(t){return!1}}(Fc)?Fc:((Bc=function(t,n){this.message=t||"",this.name=n||"Error",h.captureStackTrace&&h.captureStackTrace(this,this.constructor)}).prototype=d.create(h.prototype),d.defineProperty(Bc.prototype,"constructor",{value:Bc,writable:!0,configurable:!0}),Bc);function Uc(t,n,r,i,e,u){var s=No(t),o=Ko(n);t.lf=!0;var c=!1,a=ao(void 0);return co(function(f,h){var d,l,w,y;if(void 0!==u){if(d=function(){var r=new Mc("Aborted","AbortError"),u=[];!1===i&&u.push(function(){return"writable"===n.af?tc(n,r):ao(void 0)}),!1===e&&u.push(function(){return"readable"===t.af?Aa(t,r):ao(void 0)}),m(function(){return D.all(u.map(function(t){return t()}))},!0,r)},!0===u.aborted)return void d();u.addEventListener("abort",d)}if(p(t,s.To,function(t){!1===i?m(function(){return tc(n,t)},!0,t):k(!0,t)}),p(n,o.To,function(n){!1===e?m(function(){return Aa(t,n)},!0,n):k(!0,n)}),l=t,w=s.To,y=function(){!1===r?m(function(){return function(t){var n=t.Cf,r=n.af;return!0===uc(n)||"closed"===r?ao(void 0):"errored"===r?fo(n.ff):fc(t)}(o)}):k()},"closed"===l.af?y():lo(w,y),!0===uc(n)||"closed"===n.af){var g=new v("the destination writable stream closed before all data could be piped to it");!1===e?m(function(){return Aa(t,g)},!0,g):k(!0,g)}function _(){var t=a;return ho(a,function(){return t!==a?_():void 0})}function p(t,n,r){"errored"===t.af?r(t.ff):wo(n,r)}function m(t,r,i){function e(){vo(t(),function(){return b(r,i)},function(t){return b(!0,t)})}!0!==c&&(c=!0,"writable"===n.af&&!1===uc(n)?lo(_(),e):e())}function k(t,r){!0!==c&&(c=!0,"writable"===n.af&&!1===uc(n)?lo(_(),function(){return b(t,r)}):b(t,r))}function b(t,n){dc(o),bo(s),void 0!==u&&u.removeEventListener("abort",d),t?h(n):f(void 0)}go(co(function(t,n){!function r(i){i?t():ho(!0===c?ao(!0):ho(o.Nf,function(){return ho(Uo(s),function(t){return!0===t.done||(a=ho(lc(o,t.value),void 0,$s),!1)})}),r,n)}(!1)}))})}var qc=function(){function t(){throw new v}return d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Vc(this))throw Jc("desiredSize");return Gc(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===Vc(this))throw Jc("close");if(!1===Yc(this))throw new v("The stream is not in a state that permits close");$c(this)},t.prototype.enqueue=function(t){if(!1===Vc(this))throw Jc("enqueue");if(!1===Yc(this))throw new v("The stream is not in a state that permits enqueue");return zc(this,t)},t.prototype.error=function(t){if(!1===Vc(this))throw Jc("error");Xc(this,t)},t.prototype[Do]=function(t){zo(this);var n=this.Vf(t);return Wc(this),n},t.prototype[Co]=function(){var t=this.jf;if(this.Nn.length>0){var n=Wo(this);return!0===this.Hf&&0===this.Nn.length?(Wc(this),Oa(t)):jc(this),ao(po(n,!1,t.cf.uf))}var r=Ao(t);return jc(this),r},t}();function Vc(t){return!!Gs(t)&&!!d.prototype.hasOwnProperty.call(t,"jf")}function jc(t){!1!==Hc(t)&&(!0!==t.Wf?(t.Wf=!0,vo(t.$f(),function(){t.Wf=!1,!0===t.zf&&(t.zf=!1,jc(t))},function(n){Xc(t,n)})):t.zf=!0)}function Hc(t){var n=t.jf;return!1!==Yc(t)&&(!1!==t.Df&&(!0===Na(n)&&xo(n)>0||Gc(t)>0))}function Wc(t){t.$f=void 0,t.Vf=void 0,t.xf=void 0}function $c(t){var n=t.jf;t.Hf=!0,0===t.Nn.length&&(Wc(t),Oa(n))}function zc(t,n){var r=t.jf;if(!0===Na(r)&&xo(r)>0)Oo(r,n,!1);else{var i=void 0;try{i=t.xf(n)}catch(n){throw Xc(t,n),n}try{$o(t,n,i)}catch(n){throw Xc(t,n),n}}jc(t)}function Xc(t,n){var r=t.jf;"readable"===r.af&&(zo(t),Wc(t),xa(r,n))}function Gc(t){var n=t.jf.af;return"errored"===n?null:"closed"===n?0:t.Ff-t._f}function Yc(t){var n=t.jf.af;return!1===t.Hf&&"readable"===n}function Kc(t,n,r,i,e,u,s){n.jf=t,n.Nn=void 0,n._f=void 0,zo(n),n.Df=!1,n.Hf=!1,n.zf=!1,n.Wf=!1,n.xf=s,n.Ff=u,n.$f=i,n.Vf=e,t.wf=n,vo(ao(r()),function(){n.Df=!0,jc(n)},function(t){Xc(n,t)})}function Jc(t){return new v("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}var Qc=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&l.floor(t)===t},Zc=function(){function t(){throw new v("ReadableStreamBYOBRequest cannot be used directly")}return d.defineProperty(t.prototype,"view",{get:function(){if(!1===ra(this))throw _a("view");return this.Xf},enumerable:!0,configurable:!0}),t.prototype.respond=function(t){if(!1===ra(this))throw _a("respond");if(void 0===this.Gf)throw new v("This BYOB request has been invalidated");this.Xf.buffer,function(t,n){if(!1===Ks(n=Number(n)))throw new RangeError("bytesWritten must be a finite");va(t,n)}(this.Gf,t)},t.prototype.respondWithNewView=function(t){if(!1===ra(this))throw _a("respond");if(void 0===this.Gf)throw new v("This BYOB request has been invalidated");if(!ArrayBuffer.isView(t))throw new v("You can only respond with array buffer views");t.buffer,function(t,n){var r=t.Yf.peek();if(r.byteOffset+r.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(r.byteLength!==n.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");r.buffer=n.buffer,va(t,n.byteLength)}(this.Gf,t)},t}(),ta=function(){function t(){throw new v("ReadableByteStreamController constructor cannot be used directly")}return d.defineProperty(t.prototype,"byobRequest",{get:function(){if(!1===na(this))throw pa("byobRequest");if(void 0===this.Kf&&this.Yf.length>0){var t=this.Yf.peek(),n=new _(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),r=d.create(Zc.prototype);!function(t,n,r){t.Gf=n,t.Xf=r}(r,this,n),this.Kf=r}return this.Kf},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===na(this))throw pa("desiredSize");return ya(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===na(this))throw pa("close");if(!0===this.Hf)throw new v("The stream has already been closed; do not close it again!");var t=this.Jf.af;if("readable"!==t)throw new v("The stream (in "+t+" state) is not in the readable state and cannot be closed");!function(t){var n=t.Jf;if(t._f>0)return void(t.Hf=!0);if(t.Yf.length>0){var r=t.Yf.peek();if(r.bytesFilled>0){var i=new v("Insufficient bytes to fill elements in the given buffer");throw wa(t,i),i}}la(t),Oa(n)}(this)},t.prototype.enqueue=function(t){if(!1===na(this))throw pa("enqueue");if(!0===this.Hf)throw new v("stream is closed or draining");var n=this.Jf.af;if("readable"!==n)throw new v("The stream (in "+n+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(t))throw new v("You can only enqueue array buffer views when using a ReadableByteStreamController");t.buffer,function(t,n){var r=t.Jf,i=n.buffer,e=n.byteOffset,u=n.byteLength,s=no(i);if(!0===Po(r))if(0===xo(r))sa(t,s,e,u);else{var o=new _(s,e,u);Oo(r,o,!1)}else!0===ba(r)?(sa(t,s,e,u),ha(t)):sa(t,s,e,u);ia(t)}(this,t)},t.prototype.error=function(t){if(!1===na(this))throw pa("error");wa(this,t)},t.prototype[Do]=function(t){this.Yf.length>0&&(this.Yf.peek().bytesFilled=0);zo(this);var n=this.Vf(t);return la(this),n},t.prototype[Co]=function(){var t=this.Jf;if(this._f>0){var n=this.Nn.shift();this._f-=n.byteLength,aa(this);var r=void 0;try{r=new _(n.buffer,n.byteOffset,n.byteLength)}catch(t){return fo(t)}return ao(po(r,!1,t.cf.uf))}var i=this.Qf;if(void 0!==i){var e=void 0;try{e=new ArrayBuffer(i)}catch(t){return fo(t)}var u={buffer:e,byteOffset:0,byteLength:i,bytesFilled:0,elementSize:1,ctor:_,readerType:"default"};this.Yf.push(u)}var s=Ao(t);return ia(this),s},t}();function na(t){return!!Gs(t)&&!!d.prototype.hasOwnProperty.call(t,"Jf")}function ra(t){return!!Gs(t)&&!!d.prototype.hasOwnProperty.call(t,"Gf")}function ia(t){!1!==function(t){var n=t.Jf;if("readable"!==n.af)return!1;if(!0===t.Hf)return!1;if(!1===t.Df)return!1;if(!0===Po(n)&&xo(n)>0)return!0;if(!0===ba(n)&&ka(n)>0)return!0;if(ya(t)>0)return!0;return!1}(t)&&(!0!==t.Wf?(t.Wf=!0,vo(t.$f(),function(){t.Wf=!1,!0===t.zf&&(t.zf=!1,ia(t))},function(n){wa(t,n)})):t.zf=!0)}function ea(t,n){var r=!1;"closed"===t.af&&(r=!0);var i=ua(n);"default"===n.readerType?Oo(t,i,r):function(t,n,r){var i=t.cf;i.Zf.shift().Fn(po(n,r,i.uf))}(t,i,r)}function ua(t){var n=t.bytesFilled,r=t.elementSize;return new t.ctor(t.buffer,t.byteOffset,n/r)}function sa(t,n,r,i){t.Nn.push({buffer:n,byteOffset:r,byteLength:i}),t._f+=i}function oa(t,n){var r=n.elementSize,i=n.bytesFilled-n.bytesFilled%r,e=l.min(t._f,n.byteLength-n.bytesFilled),u=n.bytesFilled+e,s=u-u%r,o=e,c=!1;s>i&&(o=s-n.bytesFilled,c=!0);for(var a,f,h,v,d,w=t.Nn;o>0;){var y=w.peek(),g=l.min(o,y.byteLength),p=n.byteOffset+n.bytesFilled;a=n.buffer,f=p,h=y.buffer,v=y.byteOffset,d=g,new _(a).set(new _(h,v,d),f),y.byteLength===g?w.shift():(y.byteOffset+=g,y.byteLength-=g),t._f-=g,ca(t,g,n),o-=g}return c}function ca(t,n,r){fa(t),r.bytesFilled+=n}function aa(t){0===t._f&&!0===t.Hf?(la(t),Oa(t.Jf)):ia(t)}function fa(t){void 0!==t.Kf&&(t.Kf.Gf=void 0,t.Kf.Xf=void 0,t.Kf=void 0)}function ha(t){for(;t.Yf.length>0;){if(0===t._f)return;var n=t.Yf.peek();!0===oa(t,n)&&(da(t),ea(t.Jf,n))}}function va(t,n){var r=t.Yf.peek();if("closed"===t.Jf.af){if(0!==n)throw new v("bytesWritten must be 0 when calling respond() on a closed stream");!function(t,n){n.buffer=no(n.buffer);var r=t.Jf;if(!0===ba(r))for(;ka(r)>0;)ea(r,da(t))}(t,r)}else!function(t,n,r){if(r.bytesFilled+n>r.byteLength)throw new RangeError("bytesWritten out of range");if(ca(t,n,r),!(r.bytesFilled<r.elementSize)){da(t);var i=r.bytesFilled%r.elementSize;if(i>0){var e=r.byteOffset+r.bytesFilled,u=r.buffer.slice(e-i,e);sa(t,u,0,u.byteLength)}r.buffer=no(r.buffer),r.bytesFilled-=i,ea(t.Jf,r),ha(t)}}(t,n,r);ia(t)}function da(t){var n=t.Yf.shift();return fa(t),n}function la(t){t.$f=void 0,t.Vf=void 0}function wa(t,n){var r=t.Jf;"readable"===r.af&&(!function(t){fa(t),t.Yf=new _o}(t),zo(t),la(t),xa(r,n))}function ya(t){var n=t.Jf.af;return"errored"===n?null:"closed"===n?0:t.Ff-t._f}function ga(t,n,r){var i=d.create(ta.prototype);var e=Qs(n,"pull",0,[i]),u=Qs(n,"cancel",1,[]),s=n.autoAllocateChunkSize;if(void 0!==s&&(s=Number(s),!1===Qc(s)||s<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");!function(t,n,r,i,e,u,s){n.Jf=t,n.zf=!1,n.Wf=!1,n.Kf=void 0,n.Nn=n._f=void 0,zo(n),n.Hf=!1,n.Df=!1,n.Ff=ro(u),n.$f=i,n.Vf=e,n.Qf=s,n.Yf=new _o,t.wf=n,vo(ao(r()),function(){n.Df=!0,ia(n)},function(t){wa(n,t)})}(t,i,function(){return Zs(n,"start",[i])},e,u,r,s)}function _a(t){return new v("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function pa(t){return new v("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function ma(t){return co(function(n,r){var i={Fn:n,V:r};t.cf.Zf.push(i)})}function ka(t){return t.cf.Zf.length}function ba(t){var n=t.cf;return void 0!==n&&!!Ea(n)}var Ta=function(){function t(t){if(!Ca(t))throw new v("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===na(t.wf))throw new v("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(Na(t))throw new v("This stream has already been locked for exclusive reading by another reader");mo(this,t),this.Zf=new _o}return d.defineProperty(t.prototype,"closed",{get:function(){return Ea(this)?this.To:fo(Sa("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return Ea(this)?void 0===this.sf?fo(To("cancel")):ko(this,t):fo(Sa("cancel"))},t.prototype.read=function(t){return Ea(this)?void 0===this.sf?fo(To("read from")):ArrayBuffer.isView(t)?(t.buffer,0===t.byteLength?fo(new v("view must have non-zero byteLength")):function(t,n){var r=t.sf;if(r.lf=!0,"errored"===r.af)return fo(r.ff);return function(t,n){var r=t.Jf,i=1;n.constructor!==DataView&&(i=n.constructor.BYTES_PER_ELEMENT);var e=n.constructor,u={buffer:no(n.buffer),byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:i,ctor:e,readerType:"byob"};if(t.Yf.length>0)return t.Yf.push(u),ma(r);if("closed"===r.af)return ao(po(new e(u.buffer,u.byteOffset,0),!0,r.cf.uf));if(t._f>0){if(!0===oa(t,u)){var s=ua(u);return aa(t),ao(po(s,!1,r.cf.uf))}if(!0===t.Hf){var o=new v("Insufficient bytes to fill elements in the given buffer");return wa(t,o),fo(o)}}t.Yf.push(u);var c=ma(r);return ia(t),c}(r.wf,n)}(this,t)):fo(new v("view must be an array buffer view")):fo(Sa("read"))},t.prototype.releaseLock=function(){if(!Ea(this))throw Sa("releaseLock");if(void 0!==this.sf){if(this.Zf.length>0)throw new v("Tried to release a reader lock when that reader has pending read() calls un-settled");bo(this)}},t}();function Ea(t){return!!Gs(t)&&!!d.prototype.hasOwnProperty.call(t,"Zf")}function Sa(t){return new v("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}var Ra=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),Da(this);var r=n.size,i=n.highWaterMark,e=t.type;if("bytes"===String(e)){if(void 0!==r)throw new RangeError("The strategy for a byte stream cannot have a size function");void 0===i&&(i=0),ga(this,t,i=ro(i))}else{if(void 0!==e)throw new RangeError("Invalid type is specified");var u=io(r);void 0===i&&(i=1),function(t,n,r,i){var e=d.create(qc.prototype),u=Qs(n,"pull",0,[e]),s=Qs(n,"cancel",1,[]);Kc(t,e,function(){return Zs(n,"start",[e])},u,s,r,i)}(this,t,i=ro(i),u)}}return d.defineProperty(t.prototype,"locked",{get:function(){if(!1===Ca(this))throw Pa("locked");return Na(this)},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return!1===Ca(this)?fo(Pa("cancel")):!0===Na(this)?fo(new v("Cannot cancel a stream that already has a reader")):Aa(this,t)},t.prototype.getReader=function(t){var n=(void 0===t?{}:t).mode;if(!1===Ca(this))throw Pa("getReader");if(void 0===n)return No(this,!0);if("byob"===(n=String(n)))return function(t,n){void 0===n&&(n=!1);var r=new Ta(t);return r.uf=n,r}(this,!0);throw new RangeError("Invalid mode is specified")},t.prototype.pipeThrough=function(t,n){var r=t.writable,i=t.readable,e=void 0===n?{}:n,u=e.preventClose,s=e.preventAbort,o=e.preventCancel,c=e.signal;if(!1===Ca(this))throw Pa("pipeThrough");if(!1===Qo(r))throw new v("writable argument to pipeThrough must be a WritableStream");if(!1===Ca(i))throw new v("readable argument to pipeThrough must be a ReadableStream");if(u=Boolean(u),s=Boolean(s),o=Boolean(o),void 0!==c&&!Lc(c))throw new v("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(!0===Na(this))throw new v("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(!0===Zo(r))throw new v("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return go(Uc(this,r,u,s,o,c)),i},t.prototype.pipeTo=function(t,n){var r=void 0===n?{}:n,i=r.preventClose,e=r.preventAbort,u=r.preventCancel,s=r.signal;return!1===Ca(this)?fo(Pa("pipeTo")):!1===Qo(t)?fo(new v("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(i=Boolean(i),e=Boolean(e),u=Boolean(u),void 0===s||Lc(s)?!0===Na(this)?fo(new v("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):!0===Zo(t)?fo(new v("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Uc(this,t,i,e,u,s):fo(new v("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal")))},t.prototype.tee=function(){if(!1===Ca(this))throw Pa("tee");var t=function(t,n){var r,i,e,u,s,o=No(t),c=!1,a=!1,f=!1,h=co(function(t){s=t});function v(){return!0===c?ao(void 0):(c=!0,go(yo(Uo(o),function(t){if(c=!1,!0===t.done)return!1===a&&$c(e.wf),void(!1===f&&$c(u.wf));var n=t.value,r=n,i=n;!1===a&&zc(e.wf,r),!1===f&&zc(u.wf,i)})),ao(void 0))}function d(){}return e=Ia(d,v,function(n){if(a=!0,r=n,!0===f){var e=Ys([r,i]),u=Aa(t,e);s(u)}return h}),u=Ia(d,v,function(n){if(f=!0,i=n,!0===a){var e=Ys([r,i]),u=Aa(t,e);s(u)}return h}),wo(o.To,function(t){Xc(e.wf,t),Xc(u.wf,t)}),[e,u]}(this);return Ys(t)},t.prototype.getIterator=function(t){var n=(void 0===t?{}:t).preventCancel,r=void 0!==n&&n;if(!1===Ca(this))throw Pa("getIterator");return function(t,n){void 0===n&&(n=!1);var r=No(t),i=d.create(Vo);return i.yf=r,i.gf=Boolean(n),i}(this,r)},t}();function Ia(t,n,r,i,e){void 0===i&&(i=1),void 0===e&&(e=function(){return 1});var u=d.create(Ra.prototype);return Da(u),Kc(u,d.create(qc.prototype),t,n,r,i,e),u}function Da(t){t.af="readable",t.cf=void 0,t.ff=void 0,t.lf=!1}function Ca(t){return!!Gs(t)&&!!d.prototype.hasOwnProperty.call(t,"wf")}function Na(t){return void 0!==t.cf}function Aa(t,n){return t.lf=!0,"closed"===t.af?ao(void 0):"errored"===t.af?fo(t.ff):(Oa(t),yo(t.wf[Do](n),$s))}function Oa(t){t.af="closed";var n=t.cf;void 0!==n&&(Mo(n)&&(n.df.forEach(function(t){t.Fn(po(void 0,!0,n.uf))}),n.df=new _o),Io(n))}function xa(t,n){t.af="errored",t.ff=n;var r=t.cf;void 0!==r&&(Mo(r)?(r.df.forEach(function(t){t.V(n)}),r.df=new _o):(r.Zf.forEach(function(t){t.V(n)}),r.Zf=new _o),Ro(r,n))}function Pa(t){return new v("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}"symbol"==typeof Ws.asyncIterator&&d.defineProperty(Ra.prototype,Ws.asyncIterator,{value:Ra.prototype.getIterator,enumerable:!1,writable:!0,configurable:!0});var La=function(){function t(t,n,r){void 0===t&&(t={}),void 0===n&&(n={}),void 0===r&&(r={});var i=n.size,e=n.highWaterMark,u=r.size,s=r.highWaterMark;if(void 0!==t.writableType)throw new RangeError("Invalid writable type specified");var o=io(i);if(void 0===e&&(e=1),e=ro(e),void 0!==t.readableType)throw new RangeError("Invalid readable type specified");var c,a=io(u);void 0===s&&(s=0),s=ro(s),function(t,n,r,i,e,u){function s(){return n}t.th=function(t,n,r,i,e,u){void 0===e&&(e=1),void 0===u&&(u=function(){return 1});var s=d.create(Yo.prototype);return Jo(s),yc(s,d.create(wc.prototype),t,n,r,i,e,u),s}(s,function(n){return function(t,n){var r=t.nh;if(!0===t.Rf){var i=t.rh;return yo(i,function(){var i=t.th,e=i.af;if("erroring"===e)throw i.ff;return $a(r,n)})}return $a(r,n)}(t,n)},function(){return function(t){var n=t.ih,r=t.nh,i=r.eh();return Ha(r),yo(i,function(){if("errored"===n.af)throw n.ff;var t=n.wf;!0===Yc(t)&&$c(t)},function(r){throw Ba(t,r),n.ff})}(t)},function(n){return function(t,n){return Ba(t,n),ao(void 0)}(t,n)},r,i),t.ih=Ia(s,function(){return function(t){return Ua(t,!1),t.rh}(t)},function(n){return Ma(t,n),ao(void 0)},e,u),t.Rf=void 0,t.rh=void 0,t.uh=void 0,Ua(t,!0),t.nh=void 0}(this,co(function(t){c=t}),e,o,s,a),function(t,n){var r=d.create(Va.prototype),i=function(t){try{return Wa(r,t),ao(void 0)}catch(t){return fo(t)}},e=n.transform;if(void 0!==e){if("function"!=typeof e)throw new v("transform is not a method");i=function(t){return to(e,n,[t,r])}}var u=Qs(n,"flush",0,[r]);!function(t,n,r,i){n.sh=t,t.nh=n,n.oh=r,n.eh=i}(t,r,i,u)}(this,t);var f=Zs(t,"start",[this.nh]);c(f)}return d.defineProperty(t.prototype,"readable",{get:function(){if(!1===Fa(this))throw Xa("readable");return this.ih},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"writable",{get:function(){if(!1===Fa(this))throw Xa("writable");return this.th},enumerable:!0,configurable:!0}),t}();function Fa(t){return!!Gs(t)&&!!d.prototype.hasOwnProperty.call(t,"nh")}function Ba(t,n){Xc(t.ih.wf,n),Ma(t,n)}function Ma(t,n){Ha(t.nh),mc(t.th.mf,n),!0===t.Rf&&Ua(t,!1)}function Ua(t,n){void 0!==t.rh&&t.uh(),t.rh=co(function(n){t.uh=n}),t.Rf=n}var qa,Va=function(){function t(){throw new v("TransformStreamDefaultController instances cannot be created directly")}return d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===ja(this))throw za("desiredSize");return Gc(this.sh.ih.wf)},enumerable:!0,configurable:!0}),t.prototype.enqueue=function(t){if(!1===ja(this))throw za("enqueue");Wa(this,t)},t.prototype.error=function(t){if(!1===ja(this))throw za("error");var n;n=t,Ba(this.sh,n)},t.prototype.terminate=function(){if(!1===ja(this))throw za("terminate");!function(t){var n=t.sh,r=n.ih.wf;!0===Yc(r)&&$c(r);var i=new v("TransformStream terminated");Ma(n,i)}(this)},t}();function ja(t){return!!Gs(t)&&!!d.prototype.hasOwnProperty.call(t,"sh")}function Ha(t){t.oh=void 0,t.eh=void 0}function Wa(t,n){var r=t.sh,i=r.ih.wf;if(!1===Yc(i))throw new v("Readable side is not in a state that permits enqueue");try{zc(i,n)}catch(t){throw Ma(r,t),r.ih.ff}(function(t){return!0!==Hc(t)})(i)!==r.Rf&&Ua(r,!0)}function $a(t,n){return yo(t.oh(n),void 0,function(n){throw Ba(t.sh,n),n})}function za(t){return new v("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function Xa(t){return new v("TransformStream.prototype."+t+" can only be used on a TransformStream")}function Ga(t){return n=[t],new Ra({start:function(t){for(var r=0;r<n.length;r++){var i=n[r];t.enqueue(i)}t.close()}});var n}function Ya(t){return Ga(new _(t))}function Ka(t,n){return function(t,n){var r=n,i=t.getReader(),e=new Si,u=function(){s();var t=new rr;i.cancel(t).catch(it),e.fo(t)},s=function(){r&&(r.hs(u),r=void 0)};r&&(r.es?u():r.fs(u));var o=[];return D.resolve(i.read()).then(function t(n){return n.done?(s(),D.resolve(o)):(o.push(n.value),D.resolve(i.read()).then(t))}).then(function(t){s(),e.ao(t)},function(t){s(),e.fo(t)}),e.co}(t,n).then(function(t){return Br(t).buffer})}function Ja(t,n){var r=n,i=new La,e=i.readable,u=i.writable,s=u.getWriter(),o=function(){r&&r.ys()};return s.closed.then(o,o),t.then(function(t){return r=void 0,s.releaseLock(),t.pipeTo(u).catch(it)},function(t){return r=void 0,s.releaseLock(),u.abort(t).catch(it)}),e}function Qa(t){return yi(new _(t))}function Za(t){return gi(t).buffer}!function(t){t[t.Ka=0]="Ka",t[t.ah=1]="ah"}(qa||(qa={}));var tf="content-type",nf="text/plain;charset=UTF-8",rf=function(){function t(){}var n=t.prototype;return n.fh=function(t){return this.hh(t).then(JSON.parse)},n.vh=function(t,n){switch(t){case Ms.Ga:return this.dh(n);case Ms.Ya:return this.fh(n);case Ms.Ka:return this.lh();case Ms.Ye:return this.hh(n);default:throw new v}},t}();function ef(t,n,r){if(t instanceof rf)return t;if(t instanceof Ra)return function(t,n){return new sf({Mu:qa.Ka,lh:t,wh:uf(n)})}(t,r);var i=uf(r),e=D.resolve(t).then(function(t){return function(t,n){if(t){if("string"==typeof t)return{Mu:Ms.Ye,yh:t,wh:n||nf};if(t instanceof ArrayBuffer||Lr(t))return{Mu:Ms.Ga,yh:df(t),wh:n};if(Q(t)||Y(t))return{Mu:Ms.Ya,yh:t,wh:n};throw new v("Unsupported BodyInit type")}return{Mu:Ms.Ye,yh:null,wh:n}}(t,i)});return new sf({Mu:qa.ah,co:e,gh:n})}function uf(t){return(t.get(tf)||"").toLowerCase()}var sf=function(t){function n(n){var r;return(r=t.call(this)||this)._h=!1,r.ph=new Si,r.ph.co.catch(it),r.mh(n),r}Gt(n,t);var r=n.prototype;return r.kh=function(){return this.ph.co},r.hh=function(t){return this.bh(of,t)},r.fh=function(t){return this.bh(af,t)},r.dh=function(t){return this.bh(hf,t)},r.lh=function(){return this.Th((t=this.Eh).Mu===qa.Ka?t.lh:Ja(t.co.then(vf).then(Ya),t.gh));var t},r.bh=function(t,n){if(this._h)return D.reject(new v("Already used"));this._h=!0;var r=t(this.Eh,n);return this.ph.ao(r.then(it)),r},r.Th=function(t){if(this._h)throw new v("Already used");if(t.locked)throw new v("Body stream is locked");this._h=!0;var n=new La,r=D.resolve(t.pipeTo(n.writable));return this.ph.ao(r),n.readable},r.mh=function(t){this.Eh=t,t.Mu===qa.ah&&t.co.catch(it)},r.Sh=function(){if(this._h)throw new v("Already used");var t=function(t){if(t.Mu===qa.Ka){var n=t.lh.tee(),r=n[0],i=n[1];return[{Mu:t.Mu,lh:r,wh:t.wh},{Mu:t.Mu,lh:i,wh:t.wh}]}var e=t.gh._s(),u=e[0],s=e[1];return[{Mu:t.Mu,co:t.co,gh:u},{Mu:t.Mu,co:t.co,gh:s}]}(this.Eh),r=t[0],i=t[1];return this.mh(r),new n(i)},P(n,[{key:"Rh",get:function(){return this._h}}]),n}(rf);function of(t,n){return t.Mu===qa.Ka?Ka(t.lh,n).then(Qa):(n&&t.gh.gs(n),cr(t.co.then(cf),t.gh))}function cf(t){switch(t.Mu){case Ms.Ye:return D.resolve(t.yh||"");case Ms.Ga:return D.resolve(t.yh).then(Qa);case Ms.Ya:return D.resolve(t.yh).then(JSON.stringify)}}function af(t,n){return t.Mu===qa.Ka?of(t,n).then(JSON.parse):(n&&t.gh.gs(n),cr(t.co.then(ff),t.gh))}function ff(t){return t.Mu===Ms.Ya?D.resolve(t.yh):cf(t).then(JSON.parse)}function hf(t,n){return t.Mu===qa.Ka?Ka(t.lh,n):(n&&t.gh.gs(n),cr(t.co.then(vf),t.gh))}function vf(t){switch(t.Mu){case Ms.Ga:return D.resolve(t.yh);case Ms.Ye:case Ms.Ya:return cf(t).then(Za)}}function df(t){return t instanceof ArrayBuffer?t:Ti(mi(t)).buffer}function lf(t){return t.Ih>=200&&t.Ih<=299||304===t.Ih}var wf,yf,gf,_f,pf=function(t){function n(n,r){var i,e,u,s,o,c;r?(e=r.Dh,u=r.Ch,s=r.Ih,o=r.Nh,c=r.Ah):(e=[],u=Ms.Ye,s=200,o="OK",c=!1);var a=n.Oh,f=new Vs(n.Dh||e),h=n.Ch||u,v=n.xh||(r&&r.Oh===a?r.xh:a.Ph),d=r?r.Lh:null,l=ef(void 0!==n.Eu?n.Eu:d,n.gh||new nr,f);return(i=t.call(this,l)||this).Dh=f,i.Oh=a,i.xh=v,i.Ch=h,i.Ih=void 0!==n.Ih?n.Ih:s,i.Nh=void 0!==n.Nh?String(n.Nh):o,i.Ah=n.Ah||c,i}Gt(n,t);var r=n.prototype;return r.Eu=function(t){return this.vh(this.Ch,t)},r.io=function(){return new n({Eu:this.Sh(),Oh:this.Oh},this)},n}(function(t){function n(n){var r;return(r=t.call(this)||this).Lh=n,r}Gt(n,t);var r=n.prototype;return r.kh=function(){return this.Lh.kh()},r.hh=function(t){return this.Lh.hh(t)},r.fh=function(t){return this.Lh.fh(t)},r.dh=function(t){return this.Lh.dh(t)},r.lh=function(){return this.Lh.lh()},r.Sh=function(){return this.Lh.Sh()},P(n,[{key:"Rh",get:function(){return this.Lh.Rh}}]),n}(rf));!function(t){t.DELETE="DELETE",t.GET="GET",t.HEAD="HEAD",t.OPTIONS="OPTIONS",t.POST="POST",t.PUT="PUT"}(wf||(wf={})),function(t){t.Fh="",t.Bh="manifest",t.Mh="segment",t.Uh="content-protection"}(yf||(yf={})),function(t){t.Fh="",t.qh="initialization-segment",t.Vh="fairplay-license",t.jh="fairplay-certificate",t.Hh="widevine-license",t.Wh="widevine-certificate",t.$h="playready-license",t.zh="clearkey-license",t.Xh="aes128-key"}(gf||(gf={})),function(t){t.Fh="",t.Gh="audio",t.Yh="video",t.Ye="text",t.Kh="image"}(_f||(_f={}));var mf=function(t,n){var r,i,e,u,s,o,c,a,f,h,v,d=t.Ph;n?(r=n.yh,i=n.Dh,e=n.Jh,u=n.Ch,s=n.Qh,o=n.ps,c=n.Mu,a=n.Zh,f=n.tv,h=n.nv,v=n.rv):(r=null,i={},e=wf.GET,u=Ms.Ye,s=0,c=yf.Fh,a=gf.Fh,f=_f.Fh,h=!1),this.Ph=d,this.yh=t.yh||r,this.Dh=new Vs(t.Dh||i),this.Jh=t.Jh||e,this.Ch=t.Ch||u,this.Qh=void 0!==t.Qh?Number(t.Qh)||0:s,this.ps=t.ps||o||(new nr).ps,this.Mu=t.Mu||c,this.Zh=t.Zh||a,this.tv=t.tv||f,this.nv=void 0!==t.nv?Boolean(t.nv):h,this.rv=t.rv||v},kf=function(){function t(){}var n=t.prototype;return n.Oh=function(t){var n=function(t){return new pf({Eu:null,Dh:{},Oh:t,xh:t.Ph,Ch:t.Ch,Ih:0,Nh:Bs.Ia})}(new mf(t));return D.resolve(n)},n.iv=function(t){},n.ai=function(){},t}();var bf,Tf=function(){function t(t,n){void 0===n&&(n=!0),this.ev=t,this.uv=n}var n=t.prototype;return n.Oh=function(t){var n=this.sv(t);return this.ev.Oh(n)},n.iv=function(t){return this.ev.iv(this.ov(t))},n.sv=function(n){var r=new mf(n);if(!this.uv){var i=t.cv(r.Ph);r=new mf({Ph:i},r)}return r},n.ov=function(n){var r=n.Ph;return this.uv||(r=t.cv(r)),{Ph:r,yh:n.yh}},t.cv=function(t){return N.av&&Mn(t,"http://")?t.replace(":","s:"):t},n.ai=function(){this.ev.ai()},P(t,null,[{key:"fv",get:function(){return t.hv||(t.hv=new t(new kf)),t.hv}}]),t}();Tf.hv=void 0,function(t){t.vv="HttpOpenError",t.dv="HttpResponseError",t.lv="HttpTimeoutError"}(bf||(bf={}));var Ef=function(t){function n(n,r,i){var e;return(e=t.call(this,r,i)||this).wv=n,e}return Gt(n,t),P(n,[{key:"Oh",get:function(){return this.wv}}]),n}(Qt);var Sf=function(t){function n(n,r){return t.call(this,n,"Error while opening "+n.Ph+". Invalid URL.",r)||this}return Gt(n,t),P(n,[{key:"name",get:function(){return bf.vv}}]),n}(Ef);var Rf=function(t){function n(n,r,i){var e;return(e=t.call(this,n.Oh,null!=i?i:function(t){return"Error while loading "+t.Oh.Ph+", status code "+t.Ih}(n),r)||this).yv=n,e}return Gt(n,t),P(n,[{key:"name",get:function(){return bf.dv}},{key:"gv",get:function(){return this.yv}}]),n}(Ef);var If=function(t){function n(n,r){return t.call(this,n,function(t){return"Request for "+t.Ph+" timed out after "+t.Qh+" seconds."}(n),r)||this}return Gt(n,t),P(n,[{key:"name",get:function(){return bf.lv}}]),n}(Ef),Df=function(t,n){return(Df=d.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])})(t,n)};function Cf(t,n){function r(){this.constructor=t}Df(t,n),t.prototype=null===n?d.create(n):(r.prototype=n.prototype,new r)}var Nf="object"==typeof i?i:"object"==typeof t?t:"object"==typeof global?global:null;var Af=function(){var t=Nf.Blob;if(t)try{return new t,function(t,n){return new Nf.Blob(t,n)}}catch(t){}var n,r=Nf.BlobBuilder||Nf.WebKitBlobBuilder||Nf.MozBlobBuilder||Nf.MSBlobBuilder;return r?(n=r,function(t,r){var i=new n;if(t)for(var e=0,u=t;e<u.length;e++){var s=u[e];i.append(s)}return i.getBlob(r&&r.type||"")}):null}(),Of="function"==typeof Ra?Ra:void 0;function xf(t){return t&&"function"==typeof t.getReader}function Pf(t){if("function"!=typeof t)return!1;try{var n=!1,r=new t({start:function(){n=!0}});return!!n&&xf(r)}catch(t){return!1}}var Lf=function(){function t(t,n){this.cf=t,this._v=n}return t.prototype.pull=function(t){var n=this;return this.cf.read().then(function(r){n._v&&n._v(r),r.done?t.close():t.enqueue(r.value)})},t.prototype.cancel=function(t){return this.cf.cancel(t)},t}();function Ff(t,n){return n.constructor===t?n:new t(new Lf(n.getReader()),{highWaterMark:0})}var Bf=function(){function t(t,n){this.pv=t,this.yt=n}return t.prototype.pull=function(t){return this.pv().then(function(n){t.enqueue(new _(n)),t.close()})},t.prototype.cancel=function(t){this.yt&&this.yt(t)},t}();function Mf(t,n,r){return new t(new Bf(n,r),{highWaterMark:0})}var Uf={searchParams:"URLSearchParams"in Nf,iterable:"Symbol"in Nf&&"iterator"in Symbol,blob:"FileReader"in Nf&&!!Af,formData:"FormData"in Nf,arrayBuffer:"ArrayBuffer"in Nf,stream:Pf(Of),streamRequest:"Request"in Nf&&"body"in Nf.Request.prototype,streamResponse:"Response"in Nf&&"body"in Nf.Response.prototype,abort:"AbortController"in Nf&&"Request"in Nf&&"signal"in Nf.Request.prototype,encoding:"TextEncoder"in Nf&&"TextDecoder"in Nf,url:"URL"in Nf&&function(t){try{return new Nf.URL(t).toString()===t}catch(t){return!1}}("http://example.com/"),firefox:"navigator"in Nf&&/Firefox\//.test(Nf.navigator.userAgent)};function qf(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new v("Invalid character in header field name");return t}function Vf(t){return"string"!=typeof t&&(t=String(t)),t}function jf(t){var n={next:function(){var n=t.shift();return{done:void 0===n,value:n}}};return Uf.iterable&&(n[Symbol.iterator]=function(){return n}),n}var Hf=function(){function t(n){var r,i=this;this.Ou={},n instanceof t?n.asList().forEach(function(t){var n=t[0],r=t[1];i.append(n,r)}):Array.isArray(n)?n.forEach(function(t){i.append(t[0],t[1])}):(r=n,Uf.iterable&&r&&r[Symbol.iterator]?Array.from(n).forEach(function(t){i.append(t[0],t[1])}):n&&d.getOwnPropertyNames(n).forEach(function(t){i.append(t,n[t])}))}return t.prototype.append=function(t,n){t=qf(t),n=Vf(n);var r=t.toLowerCase();if(this.Ou.hasOwnProperty(r)){var i=this.Ou[r],e=i[1];i[1]=e?e+", "+n:n}else this.Ou[r]=[t,n]},t.prototype.delete=function(t){var n=qf(t).toLowerCase();delete this.Ou[n]},t.prototype.get=function(t){var n=qf(t).toLowerCase();return this.Ou.hasOwnProperty(n)?this.Ou[n][1]:null},t.prototype.has=function(t){var n=qf(t).toLowerCase();return this.Ou.hasOwnProperty(n)},t.prototype.set=function(t,n){var r=(t=qf(t)).toLowerCase();this.Ou[r]=[t,Vf(n)]},t.prototype.forEach=function(t,n){for(var r in this.Ou)this.Ou.hasOwnProperty(r)&&t.call(n,this.Ou[r][1],r,this)},t.prototype.keys=function(){var t=[];return this.forEach(function(n,r){t.push(r)}),jf(t)},t.prototype.values=function(){var t=[];return this.forEach(function(n){t.push(n)}),jf(t)},t.prototype.entries=function(){var t=[];return this.forEach(function(n,r){t.push([r,n])}),jf(t)},t.prototype.asList=function(){var t=[];for(var n in this.Ou)if(this.Ou.hasOwnProperty(n)){var r=this.Ou[n],i=r[0],e=r[1];t.push([i,e])}return t},t}();function Wf(){}Uf.iterable&&(Hf.prototype[Symbol.iterator]=Hf.prototype.entries);var $f,zf,Xf,Gf=l.min,Yf=String.fromCharCode,Kf=16384;function Jf(t){for(var n=[],r=0,i=t;r<i.length;r++){var e=i[r];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return function(t){for(var n=t.length,r=[],i=0;i<n;i+=Kf){var e=Gf(i+Kf,n);r.push(Yf.apply(null,t.slice(i,e)))}return r.join("")}(n)}function Qf(t){if(t>=55296&&t<=57343)throw new h("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function Zf(t,n){return t>>n&63|128}function th(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Qf(t),n.push(t>>12&15|224),n.push(Zf(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(Zf(t,12)),n.push(Zf(t,6))),n.push(63&t|128)):n.push(t)}function nh(){if(Xf>=zf)throw new h("Invalid byte index");var t=255&$f[Xf];if(Xf++,128==(192&t))return 63&t;throw new h("Invalid continuation byte")}function rh(){var t,n;if(Xf>zf)throw new h("Invalid byte index");if(Xf===zf)return!1;if(t=255&$f[Xf],Xf++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|nh())>=128)return n;throw new h("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|nh()<<6|nh())>=2048)return Qf(n),n;throw new h("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|nh()<<12|nh()<<6|nh())>=65536&&n<=1114111)return n;throw new h("Invalid UTF-8 detected")}var ih=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];function eh(t){return t&&URLSearchParams.prototype.isPrototypeOf(t)}function uh(t){return t&&ArrayBuffer.prototype.isPrototypeOf(t)}function sh(t){return t&&DataView.prototype.isPrototypeOf(t)}var oh,ch=ArrayBuffer.isView||function(t){return t&&(ih.indexOf(d.prototype.toString.call(t))>-1||sh(t))};function ah(t){if(t.bodyUsed)return D.reject(new v("Already used"));t.bodyUsed=!0}function fh(t){return new D(function(n,r){t.onload=function(){n(t.result)},t.onerror=function(){r(t.error)}})}function hh(t){return Uf.encoding?new Nf.TextDecoder("utf-8").decode(new _(t)):Jf(function(t){zf=($f=t).length,Xf=0;for(var n,r=[];!1!==(n=rh());)r.push(n);return r}(new _(t)))}function vh(t){return Uf.encoding?(new Nf.TextEncoder).encode(t).buffer:new _(function(t){for(var n=[],r=0,i=t;r<i.length;r++)th(i[r],n);return n}(function(t){for(var n=[],r=0,i=t.length;r<i;){var e=t.charCodeAt(r++);if(e>=55296&&e<=56319&&r<i){var u=t.charCodeAt(r++);56320==(64512&u)?n.push(((1023&e)<<10)+(1023&u)+65536):(n.push(e),r--)}else n.push(e)}return n}(t))).buffer}function dh(t){var n=t.getReader(),r=[],i=function(t){var e=t.done,u=t.value;return e?D.resolve(r):(r.push(u),n.read().then(i))};return n.read().then(i)}function lh(t){return dh(t).then(function(t){return function(t){for(var n=0,r=0,i=t;r<i.length;r++)n+=(c=i[r]).byteLength;for(var e=new _(n),u=0,s=0,o=t;s<o.length;s++){var c=o[s];e.set(c,u),u+=c.byteLength}return e}(t).buffer})}function wh(t){return t.slice?t.slice(0):yh(new _(t))}function yh(t){if(t.slice)return t.slice(0).buffer;var n=new _(t.byteLength);return n.set(new _(t.buffer,t.byteOffset,t.byteLength)),n.buffer}function gh(t){var n=new FormData;return t.trim().split("&").forEach(function(t){if(t){var r=t.split("="),i=r.shift().replace(/\+/g," "),e=r.join("=").replace(/\+/g," ");n.append(decodeURIComponent(i),decodeURIComponent(e))}}),n}function _h(t){var n=t;if(n.bodyUsed)throw new v("Already used");if(n.mv===oh.kv){if(!n.bv.tee)throw new h("could not clone ReadableStream body");var r=n.bv.tee(),i=r[0],e=r[1];return n.body=i,n.bv=i,n.Tv=i,e}return n.mv===oh.Ga?wh(n.bv):n.mv===oh.ah?n.bv.then(_h):n.Tv}!function(t){t[t.Ye=0]="Ye",t[t.Ev=1]="Ev",t[t.Sv=2]="Sv",t[t.Ga=3]="Ga",t[t.kv=4]="kv",t[t.ah=5]="ah"}(oh||(oh={}));var ph=function(){function t(n,r){this.bodyUsed=!1;var i,e,u,s=this;if(this.Tv=n||null,n)if("string"==typeof n)this.mv=oh.Ye,this.bv=n;else if((u=n)&&"function"==typeof u.then)this.mv=oh.ah,this.bv=D.resolve(n).then(function(n){return new t(n,r)}),this.bv.catch(Wf);else if(Uf.blob&&function(t){return t&&Blob.prototype.isPrototypeOf(t)}(n))this.mv=oh.Ev,this.bv=n;else if(Uf.formData&&function(t){return t&&FormData.prototype.isPrototypeOf(t)}(n))this.mv=oh.Sv,this.bv=n;else if(Uf.searchParams&&eh(n))this.mv=oh.Ye,this.bv=n.toString();else if(Uf.arrayBuffer&&(uh(n)||ch(n)))sh(n)&&(this.Tv=new _((e=n).buffer,e.byteOffset,e.byteLength)),this.mv=oh.Ga,this.bv=uh(i=n)?wh(i):yh(i);else{if(!Uf.stream||!xf(n))throw new h("unsupported BodyInit type");n=Ff(Of,n),this.mv=oh.kv,this.bv=n,this.Tv=n}else this.mv=oh.Ye,this.bv="";this.Rv="",r.has("content-type")?this.Rv=(r.get("content-type")||"").toLowerCase():("string"==typeof n?this.Rv="text/plain;charset=UTF-8":s.mv===oh.Ev&&s.bv.type?this.Rv=s.bv.type:Uf.searchParams&&eh(n)&&(this.Rv="application/x-www-form-urlencoded;charset=UTF-8"),this.Rv&&r.set("content-type",this.Rv)),Uf.stream&&(null==n?this.body=null:s.mv===oh.kv?this.body=s.bv:this.body=Mf(Of,function(){return s.arrayBuffer()},function(){s.bodyUsed=!0}))}return t.prototype.text=function(){var t,n,r,i=ah(this);return i||(this.mv===oh.Ev?(t=this.bv,n=new FileReader,r=fh(n),n.readAsText(t),r):this.mv===oh.Ga?D.resolve(this.bv).then(hh):this.mv===oh.kv?lh(this.bv).then(hh):this.mv===oh.ah?this.bv.then(function(t){return t.text()}):this.mv===oh.Sv?D.reject(new h("could not read FormData body as text")):D.resolve(this.bv))},t.prototype.json=function(){return this.text().then(JSON.parse)},t}();Uf.blob&&(ph.prototype.blob=function(){var t,n,r=ah(this);return r||(this.mv===oh.Ev?D.resolve(this.bv):this.mv===oh.Ga?D.resolve(Af([this.bv],{type:this.Rv})):this.mv===oh.kv?(t=this.bv,n=this.Rv,dh(t).then(function(t){return Af(t,{type:n||""})})):this.mv===oh.ah?this.bv.then(function(t){return t.blob()}):this.mv===oh.Sv?D.reject(new h("could not read FormData body as Blob")):D.resolve(Af([this.bv],{type:this.Rv})))}),Uf.arrayBuffer&&(ph.prototype.arrayBuffer=function(){var t,n,r;return this.mv===oh.Ga?ah(this)||D.resolve(this.bv):this.mv===oh.Ev?ah(this)||(t=this.bv,n=new FileReader,r=fh(n),n.readAsArrayBuffer(t),r):this.mv===oh.kv?lh(this.bv):this.mv===oh.ah?ah(this)||this.bv.then(function(t){return t.arrayBuffer()}):this.mv===oh.Sv?D.reject(new h("could not read FormData body as ArrayBuffer")):D.resolve(this.bv).then(vh)}),Uf.formData&&(ph.prototype.formData=function(){return this.mv===oh.Sv?ah(this)||D.resolve(this.bv):this.text().then(gh)});var mh=[301,302,303,307,308],kh=function(t){function n(n,r){var i=this,e=new Hf((r=r||{}).headers);return(i=t.call(this,n||null,e)||this).type="default",i.status=void 0===r.status?200:r.status,i.ok=i.status>=200&&i.status<300,i.statusText=void 0!==r.statusText?String(r.statusText):"",i.headers=e,i.url=r.url||"",i}return Cf(n,t),n.prototype.clone=function(){return new n(_h(this),{status:this.status,statusText:this.statusText,headers:new Hf(this.headers),url:this.url})},n.error=function(){var t=new n(null,{status:0,statusText:""});return t.type="error",t},n.redirect=function(t,r){if(-1===mh.indexOf(r))throw new RangeError("Invalid status code");return new n(null,{status:r,headers:{location:t}})},n}(ph);var bh,Th=function(t,n){return t(n={exports:{}},n.exports),n.exports}(function(t,n){function r(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}function i(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),d.defineProperty(t,i.key,i)}}function u(t,n,r){return n&&i(t.prototype,n),r&&i(t,r),t}function s(t){return(s=d.setPrototypeOf?d.getPrototypeOf:function(t){return t.__proto__||d.getPrototypeOf(t)})(t)}function c(t,n){return(c=d.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t,n,r){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,r){var i=function(t,n){for(;!d.prototype.hasOwnProperty.call(t,n)&&null!==(t=s(t)););return t}(t,n);if(i){var e=d.getOwnPropertyDescriptor(i,n);return e.get?e.get.call(r):e.value}})(t,n,r||t)}d.defineProperty(n,"__esModule",{value:!0});var h=function(){function t(){r(this,t),d.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return u(t,[{key:"addEventListener",value:function(t,n){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(n)}},{key:"removeEventListener",value:function(t,n){if(t in this.listeners)for(var r=this.listeners[t],i=0,e=r.length;i<e;i++)if(r[i]===n)return void r.splice(i,1)}},{key:"dispatchEvent",value:function(t){var n=this;if(t.type in this.listeners){for(var r=function(r){o(function(){return r.call(n,t)})},i=this.listeners[t.type],e=0,u=i.length;e<u;e++)r(i[e]);return!t.defaultPrevented}}}]),t}(),l=function(t){function n(){var t,i,e;return r(this,n),i=this,(t=!(e=s(n).call(this))||"object"!=typeof e&&"function"!=typeof e?a(i):e).listeners||h.call(a(t)),d.defineProperty(a(t),"aborted",{value:!1,writable:!0,configurable:!0}),d.defineProperty(a(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function");t.prototype=d.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&c(t,n)}(n,h),u(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),f(s(n.prototype),"dispatchEvent",this).call(this,t)}}]),n}(),w=function(){function t(){r(this,t),d.defineProperty(this,"signal",{value:new l,writable:!0,configurable:!0})}return u(t,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(n){void 0!==e?e.createEvent?(t=e.createEvent("Event")).initEvent("abort",!1,!1):(t=e.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(w.prototype[Symbol.toStringTag]="AbortController",l.prototype[Symbol.toStringTag]="AbortSignal"),n.AbortSignal=l,n.AbortController=w,n.default=w});(bh=Th)&&bh.__esModule&&d.prototype.hasOwnProperty.call(bh,"default")&&bh.default;Th.AbortSignal;var Eh=Th.AbortController,Sh=Nf.DOMException;try{new Sh}catch(t){(Sh=function(t,n){h.call(this,t),this.name=n||"Error",h.captureStackTrace&&h.captureStackTrace(this,this.constructor)}).prototype=d.create(h.prototype),Sh.prototype.constructor=Sh}var Rh=Eh;function Ih(t,n){if(!t.signal.aborted)if(n.aborted)t.abort();else{var r=function(){n.removeEventListener("abort",r),t.signal.removeEventListener("abort",r),t.abort()};n.addEventListener("abort",r),t.signal.addEventListener("abort",r)}}function Dh(t,n,r){return new D(function(i,e){if(n.signal.aborted)return t.catch(Wf),e(Ch());var u=function(){n.signal.removeEventListener("abort",u),e(Ch())};n.signal.addEventListener("abort",u),t.then(function(t){n.signal.removeEventListener("abort",u),i(t),r&&n.abort()},function(t){n.signal.removeEventListener("abort",u),e(t),r&&n.abort()})})}function Ch(){return new Sh("Aborted","AbortError")}var Nh,Ah="moz-chunked-arraybuffer";function Oh(t){try{var n=new p;return n.open("GET","https://test"),n.responseType=t,n.responseType===t}catch(t){}return!1}!function(t){t[t.UNSENT=0]="UNSENT",t[t.OPENED=1]="OPENED",t[t.HEADERS_RECEIVED=2]="HEADERS_RECEIVED",t[t.LOADING=3]="LOADING",t[t.DONE=4]="DONE"}(Nh||(Nh={}));var xh=function(){function t(t,n){var r=this;this.Iv=!1,this.wv=t,this.Dv=n,this.Cv=new p,this.Nv=new D(function(t,n){r.Av=t,r.Ov=n})}return t.prototype.send=function(){var t=this;return this.xv().then(function(n){return t.Pv(n,t.Dv),t.Nv})},t.prototype.xv=function(){var t=this.wv;return t.mv===oh.kv?t.arrayBuffer():D.resolve(t.Tv)},t.prototype.Lv=function(t){this.wv.onprogress&&this.wv.onprogress(t.loaded,t.lengthComputable?t.total:void 0)},t.prototype.Fv=function(t){this.Ov(t)},t.prototype.Bv=function(){this.Fv(new v("Network request failed"))},t.prototype.Mv=function(){this.Fv(new v("Network request failed"))},t.prototype.Uv=function(){this.Fv(Ch())},t.prototype.Pv=function(t,n){var r=this,i=this.wv,e=this.Cv,u=function(){return r.qv()};if(i.signal.aborted)return this.Uv();e.onreadystatechange=function(){if(e.readyState>=Nh.HEADERS_RECEIVED&&!r.Iv){var t=function(t){var n=new Hf;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var r=t.split(":"),i=r.shift().trim();if(i){var e=r.join(":").trim();n.append(i,e)}}),n}(e.getAllResponseHeaders()||""),n={status:e.status,statusText:e.statusText,headers:t,url:e.responseURL||t.get("X-Request-URL")};r.Iv=!0,r.Vv(n)}},e.onprogress=function(t){return r.Lv(t)},e.onload=function(){return r.jv()},e.onerror=function(){return r.Bv()},e.ontimeout=function(){return r.Mv()},e.onabort=function(){return r.Uv()},e.open(i.method,i.url,!0),e.withCredentials="include"===i.credentials,"responseType"in e&&n&&(e.responseType=n),i.headers.asList().forEach(function(t){var n=t[0],r=t[1];e.setRequestHeader(n,r)}),i.signal.addEventListener("abort",u),e.onloadend=function(){i.signal.removeEventListener("abort",u)},t?e.send(t):e.send()},t.prototype.qv=function(){this.Cv.abort()},t}(),Ph=function(t){function n(n,r){var i=t.call(this,n,r)||this;return i.Hv=void 0,i.Wv=void 0,i}return Cf(n,t),n.prototype.Vv=function(t){var n=this;this.Hv=new D(function(t,r){n.Wv=t,n.$v=r}),this.Av(new kh(this.Hv,t))},n.prototype.jv=function(){var t=this.Cv.response||this.Cv.responseText;this.Wv(t)},n.prototype.Fv=function(n){t.prototype.Fv.call(this,n),this.$v&&this.$v(n)},n}(xh),Lh=function(t){function n(n){var r=t.call(this,n,Ah)||this;return r.zv=void 0,r.Xv=void 0,r.Gv=!1,r}return Cf(n,t),n.prototype.Vv=function(t){var n=this;this.zv=new Of({start:function(t){n.Xv=t},cancel:function(){n.Gv=!0,n.qv()}}),this.Av(new kh(this.zv,t))},n.prototype.Lv=function(n){this.Gv||this.Xv.enqueue(new _(this.Cv.response)),t.prototype.Lv.call(this,n)},n.prototype.jv=function(){this.Xv.close()},n.prototype.Fv=function(n){t.prototype.Fv.call(this,n),this.Xv&&!this.Gv&&(this.Gv=!0,this.Xv.error(n))},n}(xh),Fh=function(){var t=Uf.firefox&&Oh(Ah);return Fh=function(){return t},t},Bh=function(){var t;return t=Uf.arrayBuffer&&Oh("arraybuffer")?"arraybuffer":Uf.blob&&Oh("blob")?"blob":"",Bh=function(){return t},t};function Mh(t){return(Uf.stream&&Fh()?new Lh(t):new Ph(t,Bh())).send()}var Uh=Nf.fetch,qh=Nf.Request,Vh=(Nf.Response,Nf.AbortController);var jh=["http:","https:"];var Hh=function(){try{if(Uf.streamRequest){var t=new qh("about:blank",{body:"",method:"POST"}).body;if(t&&Pf(t.constructor))return t.constructor}}catch(t){}}();function Wh(t,n,r){var i;if(Uf.stream){var e=void 0;if(Uf.streamResponse){var u=t.body;e=u&&Ff(Of,u)}else e=Mf(Of,function(){return Dh(t.arrayBuffer(),n,!0)},function(){n.abort()});e&&r&&(e=function(t,n,r){var i=0;return function(t,n,r){return new t(new Lf(n.getReader(),r),{highWaterMark:0})}(Of,t,function(t){var e=t.done,u=t.value;e?r=void 0===r?i:r:i+=u.byteLength,n(i,r)})}(e,r,$h(t.headers))),i=e}else{var s=Dh(t.arrayBuffer(),n,!0);r&&(s=function(t,n,r){return D.resolve().then(function(){return n(0,r),t}).then(function(t){var i=t.byteLength;return n(i,r=void 0===r?i:r),t})}(s,r,$h(t.headers))),i=s}return new kh(i,t)}function $h(t){return t.has("content-length")?Number(t.get("content-length")):void 0}function zh(t){var n=new Rh;return t.signal&&Ih(n,t.signal),function(t,n){var r,i,e=t;if(r=e.mv===oh.kv?Uf.streamRequest&&Hh?D.resolve(Ff(Hh,e.bv)):Dh(t.arrayBuffer(),n,!1):Dh(D.resolve(t.Tv),n,!1),Uf.abort){var u=new Vh;Ih(u,n.signal),i=u.signal}return r.then(function(n){return new qh(t.url,{body:n||void 0,credentials:t.credentials,headers:(r=t.headers,(r instanceof Hf?r:new Hf(r)).asList()),method:t.method,mode:t.mode,referrer:t.referrer,referrerPolicy:t.referrerPolicy,signal:i});var r})}(t,n).then(Uh).then(function(r){return Wh(r,n,t.onprogress)})}var Xh=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];var Gh=function(t){function n(r,i){var e,u,s,o,c,a,f,h,d,l=this,w=(i=i||{}).body||null;if(r instanceof n){if(r.bodyUsed)throw new v("Already used");e=r.url,u=r.credentials,i.headers||(s=new Hf(r.headers)),o=r.method,c=r.mode,a=r.referrer,f=r.referrerPolicy,h=r.signal,d=r.onprogress,w||null==r.Tv||(w=r.Tv,r.bodyUsed=!0)}else e=String(r),u="same-origin",o="GET",c="cors",a="about:client",f="",h=null,d=null;if(!i.headers&&s||(s=new Hf(i.headers)),i&&(a="about:client",f=""),(l=t.call(this,w,s)||this).url=e,l.headers=s,l.credentials=i.credentials||u,l.method=function(t){var n=t.toUpperCase();return Xh.indexOf(n)>-1?n:t}(i.method||o),l.mode=i.mode||c,l.signal=i.signal||h||(new Rh).signal,l.referrer=void 0!==i.referrer?i.referrer:a,l.referrerPolicy=void 0!==i.referrerPolicy?i.referrerPolicy:f,l.onprogress=i.onprogress||d,("GET"===l.method||"HEAD"===l.method)&&w)throw new v("Body not allowed for GET or HEAD requests");return l}return Cf(n,t),n.prototype.clone=function(){return new n(this,{body:_h(this)})},n}(ph),Yh="function"==typeof Uh&&Uf.stream&&Uf.streamResponse&&Uf.url;function Kh(t,n){return new D(function(r){var i=new Gh(t,n);r((Yh&&function(t){try{return jh.indexOf(new Nf.URL(t,Nf.location.href).protocol)>=0}catch(t){return!1}}(i.url)?zh:Mh)(i))})}Kh.polyfill=!0;var Jh=function(){function t(t){this.Yv=new nr,this.yv=void 0,this.Kv=!1,this.wv=t,this.Yv.gs(t.ps),this.gv=this.Jv()}var n=t.prototype;return n.Jv=function(){var t=D.coroutine(vn.mark(function t(){var n,r,i,e,u,s,c,a,f=this;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:(n=this.wv).Qh&&o(function(){f.Kv=!0,f.Yv.ys()},n.Qh),t.prev=2,r=Kh(n.Ph,{method:n.Jh,headers:n.Dh.Ja(),body:n.yh,credentials:n.nv?"include":"same-origin",signal:tv(this.Yv.ps),onprogress:n.rv}),t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(2),new Sf(n,t.t0);case 9:return t.prev=9,t.next=12,r;case 12:i=t.sent,t.next=20;break;case 15:throw t.prev=15,t.t1=t.catch(9),ir(e=this.Qv(t.t1))&&this.Yv.ys(),e;case 20:if(u=i.url||n.Ph,s=0===i.status&&"file:"===(h=u,N.Xc(h).protocol)?200:i.status,c=new Qh(this,i,this.Yv),a=new pf({Eu:c,Oh:n,Ch:n.Ch,Dh:new Vs(i.headers.asList()),Ih:s,Nh:i.statusText,xh:u}),this.yv=a,!lf(a)){t.next=29;break}return t.abrupt("return",a);case 29:throw new Rf(a);case 30:case"end":return t.stop()}var h},t,this,[[2,6],[9,15]])}));return function(){return t.apply(this,arguments)}}(),n.Qv=function(t){return ir(t)?this.Kv?new If(this.wv):new rr(t.message,t):this.yv?new Rf(this.yv,t):new Sf(this.wv,t)},t}(),Qh=function(t){function n(n,r,i){var e;return(e=t.call(this)||this).ph=new Si,e.Zt=n,e.Zv=r,e.Yv=i,e.ph.co.catch(it),e}Gt(n,t);var r=n.prototype;return r.kh=function(){return this.ph.co},r.hh=function(t){return this.bh(this.Zv.text(),t)},r.dh=function(t){return this.bh(this.Zv.arrayBuffer(),t)},r.lh=function(){var t=this.Zv.body;return t?this.Th(t):Ja(this.dh().then(Ya),this.Yv)},r.Sh=function(){var t=this.Zv.clone(),r=this.Yv._s(),i=r[0],e=r[1];return this.Yv=i,new n(this.Zt,t,e)},r.bh=function(t,n){var r=this;n&&this.Yv.gs(n);var i=D.resolve(t).catch(function(t){throw r.Zt.Qv(t)});return i=cr(i,this.Yv),this.ph.ao(i.then(it)),i},r.Th=function(t){var n=this,r=new La,i=D.resolve(t.pipeTo(r.writable,{preventAbort:!0})).catch(function(t){var i=n.Zt.Qv(t);throw r.writable.abort(i).catch(it),i});return i=cr(i,this.Yv),this.ph.ao(i.then(it)),r.readable},P(n,[{key:"Rh",get:function(){return this.Zv.bodyUsed}}]),n}(rf),Zh="abort";function tv(t){var n=new Rh;if(t.es)n.abort();else if(!t.us){var r=function(){i(),n.abort()},i=function i(){n.signal.removeEventListener(Zh,r),t.hs(r),t.hs(i)};n.signal.addEventListener(Zh,r),t.fs(r),t.vs(i)}return n.signal}var nv,rv=function(){function t(){}var n=t.prototype;return n.Oh=function(t){return new Jh(t).gv},n.iv=function(t){if(I&&I.sendBeacon)I.sendBeacon(t.Ph,Ls([t.yh],{type:t.wh}));else{var n=t.wh?{"Content-type":t.wh}:void 0;hr(this.Oh(new mf({Jh:wf.POST,Ph:t.Ph,yh:t.yh,Dh:n})))}},n.ai=function(){},t}(),iv=function(){function n(){var n;this.td=new tn,this.nd=new ev,this.rd=void 0,this.ed=(n=function(){if($.Oe)return new Es;if($.De||$.Ce)return new Rs;if($.Pe)return new Is;return new Ts}(),$.fe?new Us(n):$.pe?new qs(n):$.ke?new Ns(n):$.Se?new As(n):new Cs(n)),this.ud=function(){if($.Ie||$.Se){var t=$.Ee;if(void 0===t||Number(t)<42)return!1}return!0}(),this.sd=void 0,this.od=function(){if(t.URL)try{var n=new t.URL("b","http://a");return n.pathname="c d","http://a/c%20d"===n.href}catch(t){}return!1}(),t.performance&&t.performance.now?this.fd=function(){return t.performance.now()}:this.fd=$t}var r=n.prototype;return r.hd=function(){ht.apply(void 0,arguments)},r.vd=function(){vt.apply(void 0,arguments)},r.dd=function(){dt.apply(void 0,arguments)},r.ld=function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];lt.apply(void 0,[t].concat(r))},r.So=function(t,n){return o(t,n)},r.wd=function(t,n){return a(t,n)},r.Ro=function(t){c(t)},r.yd=function(t){f(t)},r.Qe=function(t){return this.td.Qe(t)},r.ts=function(){return this.gd.ts()},r.Yu=function(){return this.gd.Yu()},r.Ju=function(){return this.gd.Ju()},r.Ku=function(){return this.gd.Ku()},r.Xu=function(){return this.gd.Xu()},r.Qu=function(t,n){return this.gd.Qu(t,n)},r.Gu=function(t){return this.gd.Gu(t)},r.Xc=function(t,n){return void 0===n&&(n=_s(S)),new vs(t,n)},r.zc=function(n,r){if(void 0===r&&(r=_s(S)),this.od){var i=Z(r)?r:r.toString();return new t.URL(n,i).href}return this.Xc(n,r).href},P(n,[{key:"gd",get:function(){return this.rd||(this.rd=new zn(le())),this.rd}},{key:"_d",get:function(){return this.nd}},{key:"pd",get:function(){return this.ed}},{key:"md",get:function(){return this.ud}},{key:"kd",get:function(){return xs.fa()}},{key:"bd",get:function(){return{Td:Fs}}},{key:"Ed",get:function(){return s.connection&&s.connection.effectiveType||"default"}},{key:"Sd",get:function(){return s.connection&&s.connection.type||"unknown"}},{key:"Rd",get:function(){return{Id:s&&s.userAgent.match(/Android /i)?"Android":"other",Dd:Boolean(s&&s.userAgent.match(/Android 8.0.0/i))}}},{key:"Cd",get:function(){return this.sd||(this.sd=new Tf(new rv)),this.sd}},{key:"av",get:function(){return e&&e.location&&"https:"===e.location.protocol}}]),n}(),ev=function(){function t(){}return P(t,[{key:"Nd",get:function(){return s.oscpu}},{key:"pd",get:function(){return s.platform}},{key:"Ad",get:function(){return s.vendor}},{key:"Od",get:function(){return s.vendorSub}}]),t}();L(new iv),function(t){t.xd="Pd",t.Ld="Fd"}(nv||(nv={}));nv.xd,nv.Ld;var uv=function(t){function n(n,r){var i;return(i=t.call(this,n,r)||this).Bd=void 0,i}return Gt(n,t),P(n,[{key:"Md",get:function(){return this.Bd||(this.Bd=this.Ud()),this.Bd}}]),n}(pr);var sv,ov=function(t){function n(n){return t.call(this,n)||this}return Gt(n,t),n}(uv),cv=function(t){function n(n){return t.call(this,n)||this}return Gt(n,t),n}(pr),av=function(t){function n(n){var r;return(r=t.call(this,nv.xd)||this).qd=n,r}return Gt(n,t),n.prototype.Ud=function(){return new fv(this.qd.Md)},n}(ov),fv=function(t){function n(n){var r;return(r=t.call(this,"addtrack")||this).track=n,r}return Gt(n,t),n}(cv),hv=function(t){function n(n){var r;return(r=t.call(this,nv.Ld)||this).qd=n,r}return Gt(n,t),n.prototype.Ud=function(){return new vv(this.qd.Md)},n}(ov),vv=function(t){function n(n){var r;return(r=t.call(this,"removetrack")||this).track=n,r}return Gt(n,t),n}(cv);!function(t){t.Vd="jd",t.Hd="Wd",t.$d="zd",t.Xd="Gd",t.Yd="Kd",t.Jd="Qd",t.Zd="tl",t.nl="il",t.ul="No",t.sl="ol",t.cl="al",t.QUALITY_UNAVAILABLE="qualityunavailable",t.NO_QUALITY="noquality"}(sv||(sv={}));var dv=function(t){function n(){var n;return(n=t.call(this)||this).fl=[],n.Bd=void 0,n}Gt(n,t);var r=n.prototype;return r.hl=function(t){return this.fl[t]},r.vl=function(t){return!(!t||Qn(this.fl,t))&&(this.fl.push(t),this.Bd&&this.Bd.push(t.Md),t.Rs(sv.Jd,this.Ts),this.Es(new av(t)),!0)},r.dl=function(t){if(!t)return!1;var n=this.fl.indexOf(t);return!(n<0)&&(Jn(this.fl,n),this.Bd&&Jn(this.Bd,n),t.Ns(sv.Jd,this.Ts),this.Es(new hv(t)),!0)},r.ll=function(t){return Qn(this.fl,t)},r.wl=function(){for(var t=this.fl,n=t.length-1;n>=0;n-=1)this.dl(t[n])},r.ai=function(){this.wl(),this.Cs()},P(n,[{key:"yl",get:function(){return this.fl}},{key:"Md",get:function(){return this.Bd||(this.Bd=this.Ud()),this.Bd}},{key:"gl",get:function(){return this.fl.length}}]),n}(gr),lv=function(t){function n(n){var r;return(r=t.call(this,sv.Jd)||this).qd=n,r}return Gt(n,t),n.prototype.Ud=function(){return new wv(this.qd.Md)},n}(ov),wv=function(t){function n(n){var r;return(r=t.call(this,"change")||this).track=n,r}return Gt(n,t),n}(cv),yv=function(t){function n(){var n;return(n=t.call(this)||this)._l=void 0,n.pl=function(t){var r=t.qd;n.vl(r)},n.ml=function(t){var r=t.qd;n.dl(r)},n}Gt(n,t);var r=n.prototype;return r.kl=function(t){t.Rs(nv.xd,this.pl),t.Rs(nv.Ld,this.ml)},r.bl=function(t){t.Ns(nv.xd,this.pl),t.Ns(nv.Ld,this.ml)},r.ai=function(){this._l&&this._l.ai(),t.prototype.ai.call(this)},P(n,[{key:"Tl",get:function(){return this._l},set:function(t){var n=this._l;if(t!==n){if(n){this.bl(n);for(var r=0,i=n.yl;r<i.length;r++){var e=i[r];t&&t.ll(e)||this.dl(e)}}if(this._l=t,t){for(var u=[],s=0,o=t.yl;s<o.length;s++){var c=o[s];this.vl(c),this.El(c)&&u.push(c)}this.kl(t);for(var a=0;a<u.length;a++){var f=u[a];f.Es(new lv(f))}}}}}]),n}(dv),gv=d.freeze||et;function _v(t,n,r){d.defineProperty(t,n,{writable:!1,enumerable:!0,value:r})}function pv(t,n){for(var r=0,i=d.getOwnPropertyNames(n);r<i.length;r++){var e=i[r];d.defineProperty(t,e,d.getOwnPropertyDescriptor(n,e))}return t}function mv(t){if(Q(t)){var n={};for(var r in t)z.call(t,r)&&(n[r]=mv(t[r]));return n}if(Y(t)){for(var i=new Array(t.length),e=0;e<i.length;e++)e in t&&(i[e]=mv(t[e]));return i}return t}function kv(t,n){return t===n||!(!t||!n)&&(!(!J(t)||!J(n))&&(K(t)?!!K(n)&&function(t,n){var r=t.length,i=n.length;if(r!==i)return!1;for(var e=0;e<r;e+=1)if(!kv(t[e],n[e]))return!1;return!0}(t,n):!K(n)&&function(t,n){var r=d.keys(t),i=d.keys(n);if(!r||!i||r.length!==i.length)return!1;for(var e=0;e<r.length;e++){var u=r[e];if(!z.call(n,u)||!kv(t[u],n[u]))return!1}return!0}(t,n)))}function bv(t,n){return t.constructor===n.constructor}function Tv(t){for(var n={},r=0,i=d.keys(t);r<i.length;r++){var e=i[r],u=t[e];null!=u&&(n[e]=u)}return n}function Ev(t){var n=t;if("string"==typeof n){if("true"===(n=n.toLowerCase()))return!0;if("false"===n)return!1}return Boolean(n)}function Sv(t){return"string"==typeof t?""===t?NaN:Number(t):"boolean"==typeof t||null==t||t instanceof Date||"number"!=typeof Number(t)&&!t?NaN:Number(t)}function Rv(t){var n=Sv(t);if(g(n))throw new h("Expected a valid number.");return n}function Iv(t){return"string"==typeof t?t:""}function Dv(t,n){return K(t)?function(t,n){if(!K(t))return[];for(var r=0|t.length,i=new Array(r),e=0;e<r;e++)i[e]=n(t[e]);return i}(t,n):n(t)}var Cv=[nv.xd,nv.Ld,sv.Jd];function Nv(t){var n,r=t.yl.map(function(t){return t.Md});return r.item=function(n){var r=0|n,i=t.hl(r);return i&&i.Md||void 0},r.addEventListener=function(t,r){n.Rs(t,r)},r.removeEventListener=function(t,r){n.Ns(t,r)},n=new _r(r),t.Rs(Cv,function(t){return n.Es(t.Md)}),r}function Av(){}function Ov(t){var n,r=[sv.ul,sv.Jd,sv.sl,sv.cl,sv.QUALITY_UNAVAILABLE],i={get activeQuality(){return t.Sl&&t.Sl.Md},get enabled(){return t.Rl},set enabled(n){t.Rl=Ev(n)},get id(){return t.Il},get uid(){return t.Dl},get kind(){return t.Cl},get label(){return t.Nl},set label(n){t.Nl=Iv(n)},get language(){return t.Al},get qualities(){return t.Ol.Md},set targetQuality(n){var r;(r=n?function(t,n){for(var r=[],i=0,e=t.Ol.yl;i<e.length;i++)for(var u=e[i],s=0;s<n.length;s++){var o=n[s];u.Md===o&&r.push(u)}return r}(t,Y(n)?n:[n]):[]).length>0?t.xl=r:t.xl=void 0},get targetQuality(){if(t.xl)return 1===t.xl.length?t.xl[0].Md:t.xl.map(function(t){return t.Md})},addEventListener:function(t,r){var i=Dv(t,Iv);n.Rs(i,r)},removeEventListener:function(t,r){var i=Dv(t,Iv);n.Ns(i,r)}};return n=new _r(i),t.Rs(r,function(t){return n.Es(t.Md)}),d.defineProperty(i,"constructor",{value:Av}),i}function xv(){}function Pv(t){var n=Nv(t);return d.defineProperty(n,"constructor",{value:xv}),n}var Lv,Fv,Bv=function(t){function n(){return t.apply(this,arguments)||this}Gt(n,t);var r=n.prototype;return r.Ud=function(){return Pv(this)},r.El=function(t){return t.Rl},n}(yv);function Mv(){}function Uv(t){var n,r=[sv.Jd,sv.ul,sv.Vd,sv.Hd,sv.$d,sv.Xd,sv.Yd,sv.Zd,sv.nl],i=[Fv.Pl],e={get kind(){return t.Cl},get label(){return t.Nl},set label(n){t.Nl=Iv(n)},get language(){return t.Al},get id(){return t.Il},get uid(){return t.Dl},get inBandMetadataTrackDispatchType(){return t.Ll},get mode(){return t.Fl},set mode(n){n!==Lv.Bl&&n!==Lv.Ml&&n!==Lv.Ul||(t.Fl=n)},get type(){return t.Mu},get readyState(){return jv(t.ql)},get cues(){return t.Fl===Lv.Ul?null:t.Vl.Md},get activeCues(){return t.Fl===Lv.Ul?null:t.jl.Md},get src(){return t.Hl||""},addEventListener:function(t,r){var i=Dv(t,Iv);n.Rs(i,r)},removeEventListener:function(t,r){var i=Dv(t,Iv);n.Ns(i,r)}};return n=new _r(t),t.Rs(r,function(t){return n.Es(t.Md)}),t.Rs(i,function(t){return n.Es(t)}),d.defineProperty(e,"constructor",{value:Mv}),e}function qv(){}function Vv(t){var n=Nv(t);return d.defineProperty(n,"constructor",{value:qv}),n}function jv(t){return t}!function(t){t.Ul="disabled",t.Ml="hidden",t.Bl="showing"}(Lv||(Lv={})),function(t){t.Pl="error"}(Fv||(Fv={}));var Hv=function(t){function n(){return t.apply(this,arguments)||this}Gt(n,t);var r=n.prototype;return r.Ud=function(){return Vv(this)},r.El=function(t){return t.Fl===Lv.Bl},n}(yv),Wv=function(t){function n(){return t.apply(this,arguments)||this}Gt(n,t);var r=n.prototype;return r.Ds=function(n){t.prototype.Ds.call(this,n)},r.xs=function(n){t.prototype.xs.call(this,n)},n}(gr),$v=function(t){function n(){return t.apply(this,arguments)||this}return Gt(n,t),n}(Wv),zv=function(t){function n(){return t.call(this,Bs.ba)||this}return Gt(n,t),n}(pr),Xv=function(t){function n(n){var r;return(r=t.call(this,Bs.ga)||this).currentSource=n,r}return Gt(n,t),n}(pr),Gv=function(){function t(){}return t.Wl=function(n,r){var i=t.$l(n,r);return i?t.zl(i):0},t.Xl=function(){return N.Ed||"default"},t.Gl=function(){return N.Sd||"unknown"},t.$l=function(n,r){var i,e=null===(i=N.kd)||void 0===i?void 0:i.Gs(r),u=e&&JSON.parse(e);if(u&&u[n])return t.Yl(u,n,r)},t.zl=function(t){var n=t.availableBandwidth;return n||0},t.Yl=function(n,r,i){if(!t.Kl(n,r))return n[r];t.Jl(n,r,i)},t.Jl=function(t,n,r){var i;delete t[n],null===(i=N.kd)||void 0===i||i.aa(r,JSON.stringify(t))},t.Kl=function(t,n){var r=t[n].storedTimestamp;if(!r)return!1;var i=new Date(r),e=(new Date).getTime();return i.setMonth(i.getMonth()+1)<=e},t.Ql=function(t,n,r,i){var e;return dn(dn({},t),((e={})[n]={availableBandwidth:r,storedTimestamp:i},e))},t.Zl=function(n){var r=t.Xl();t.tw(r,"theoplayer-stored-network-info",n,$t())},t.tw=function(n,r,i,e){var u,s,o=null===(u=N.kd)||void 0===u?void 0:u.Gs(r),c=o?JSON.parse(o):void 0,a=t.Ql(c,n,i,e);null===(s=N.kd)||void 0===s||s.aa(r,JSON.stringify(a))},t.nw=function(){var n=t.Xl();return t.Wl(n,"theoplayer-stored-network-info")},t}();var Yv,Kv,Jv,Qv,Zv,td,nd="1ADD53F3";function rd(t){return{chromecast:function(t){return{appID:t&&t.appID?Iv(t.appID):nd}}(t?t.chromecast:void 0),strategy:function(t){switch(t){case"auto":return Yv.AUTO;case"manual":return Yv.MANUAL;case"disabled":return Yv.DISABLED;default:return Yv.MANUAL}}(t?t.strategy:void 0)}}function id(t){var n,r=Jv.rw;return(n=t)&&Bn(n,"mpd")&&(r=Jv.iw),function(t){return!!t&&Bn(t,"m3u8")}(t)&&(r=Jv.ew),r}function ed(t){return J(t)&&J(t.ssai)&&"google-dai"===t.ssai.integration}function ud(t){return J(t)&&Z(t.integration)&&"verizon-media"===t.integration}function sd(t){if(Z(t))return!t;if(ud(t))return!t.id;if(ed(t)){var n=t.ssai,r="live"===n.availabilityType&&n.assetKey,i="vod"===n.availabilityType&&n.contentSourceID&&n.videoID;return Boolean(r&&i)}return!t.src}function od(t){return Boolean(J(t)&&Z(t.src))}function cd(t){return Z(t)||od(t)||ed(t)||ud(t)}function ad(t){if(t){if(cd(t))return sd(t);for(var n=0;n<t.length;n++){if(!sd(t[n]))return!1}return!0}return!0}function fd(){return{crossOrigin:Kv.uw,useCredentials:!1,liveOffset:void 0,timeServer:void 0,hlsDateRange:!1,experimentalRendering:!1,nativeUiRendering:!1,lowLatency:!1,useNativePlayback:!1,dash:void 0,hls:void 0}}function hd(){return dn(dn({},fd()),{src:void 0,type:Jv.rw,contentProtection:void 0,ssai:void 0,integrationData:void 0,isAdvertisement:void 0})}function vd(t){var n={allowedMimeTypes:void 0,preload:"midroll-and-postroll",showCountdown:!0,vpaidMode:Qv.ENABLED,googleImaConfiguration:{useNativeIma:!1}};return void 0===t?n:(void 0!==t.preload&&(n.preload=function(t){switch(t){case"none":return Zv.NONE;case"midroll-and-postroll":default:return Zv.MIDROLL_AND_POSTROLL}}(t.preload)),void 0!==t.showCountdown&&(n.showCountdown=Ev(t.showCountdown)),void 0!==t.vpaidMode&&(n.vpaidMode=function(t){switch(t){case"insecure":return Qv.INSECURE;case"disabled":return Qv.DISABLED;case"enabled":default:return Qv.ENABLED}}(t.vpaidMode)),Y(t.allowedMimeTypes)&&(n.allowedMimeTypes=t.allowedMimeTypes.filter(Z)),void 0!==t.googleImaConfiguration&&(n.googleImaConfiguration=function(t){return void 0===t?{useNativeIma:!1}:{useNativeIma:Ev(t.useNativeIma)}}(t.googleImaConfiguration)),n)}function dd(t){if(!K(t))return[];for(var n=[],r=0;r<t.length;r++){var i=t[r];Q(i)&&n.push(i)}return n}function ld(t){return Z(t.src)}!function(t){t.AUTO="auto",t.MANUAL="manual",t.DISABLED="disabled"}(Yv||(Yv={})),function(t){t.uw="",t.sw="anonymous",t.ow="use-credentials"}(Kv||(Kv={})),function(t){t.iw="application/dash+xml",t.ew="application/vnd.apple.mpegurl",t.cw="application/x-mpegurl",t.rw="video/mp4",t.aw="application/vnd.theoplayer.hesp+json",t.fw="application/vnd.theo.hesp+json"}(Jv||(Jv={})),function(t){t.ENABLED="enabled",t.INSECURE="insecure",t.DISABLED="disabled"}(Qv||(Qv={})),function(t){t.NONE="none",t.MIDROLL_AND_POSTROLL="midroll-and-postroll"}(Zv||(Zv={})),function(t){t[t.hw=0]="hw",t[t.vw=1]="vw",t[t.dw=2]="dw",t[t.lw=3]="lw",t[t.ww=4]="ww"}(td||(td={}));var wd,yd=function(t){function n(n,r){var i;return void 0===r&&(r=td.hw),(i=t.call(this,Bs.ma)||this).currentTime=n,i.readyState=r,i}return Gt(n,t),n}(pr),gd=function(t){function n(n){var r;return(r=t.call(this,Bs.Ca)||this).currentTime=n,r}return Gt(n,t),n}(pr),_d=function(t){function n(n){var r;return(r=t.call(this,Bs.Na)||this).currentTime=n,r}return Gt(n,t),n}(pr);!function(t){t.yw="canplay",t.gw="canplaythrough",t._w="loadeddata",t.pw="loadedmetadata",t.Zd="readystatechange",t.mw="waiting",t.kw="playing"}(wd||(wd={}));var pd,md=[wd.yw,wd.gw,wd._w,wd.pw,wd.Zd,wd.mw,wd.kw],kd=function(t){function n(n,r){var i;return void 0===r&&(r=td.vw),(i=t.call(this,wd.pw)||this).currentTime=n,i.readyState=r,i}return Gt(n,t),n}(pr),bd=function(t){function n(n){var r;return(r=t.call(this,Bs.pa)||this).duration=n,r}return Gt(n,t),n}(pr),Td=function(t){function n(n,r){var i;return(i=t.call(this,Bs.Oa)||this).currentTime=n,i.playbackRate=r,i}return Gt(n,t),n}(pr),Ed=function(t){function n(n,r){var i;return(i=t.call(this,Bs.Ha)||this).currentTime=n,i.currentProgramDateTime=r,i}return Gt(n,t),n}(pr),Sd=function(t){function n(n){var r;return(r=t.call(this,Bs.ka)||this).currentTime=n,r}return Gt(n,t),n}(pr),Rd=function(t){function n(n,r){var i;return void 0===r&&(r=td.dw),(i=t.call(this,wd._w)||this).currentTime=n,i.readyState=r,i}return Gt(n,t),n}(pr),Id=function(t){function n(n){var r;return(r=t.call(this,Bs.Fa)||this).currentTime=n,r}return Gt(n,t),n}(pr),Dd=function(t){function n(n){var r;return(r=t.call(this,Bs.La)||this).currentTime=n,r}return Gt(n,t),n}(pr),Cd=function(t){function n(n,r){var i;return(i=t.call(this,Bs.Wa)||this).currentTime=n,i.volume=r,i}return Gt(n,t),n}(pr),Nd=function(t){function n(n,r){var i;return void 0===r&&(r=td.lw),(i=t.call(this,wd.yw)||this).currentTime=n,i.readyState=r,i}return Gt(n,t),n}(pr),Ad=function(t){function n(n,r){var i;return void 0===r&&(r=td.ww),(i=t.call(this,wd.gw)||this).currentTime=n,i.readyState=r,i}return Gt(n,t),n}(pr),Od=function(t){function n(n,r){var i;return(i=t.call(this,wd.Zd)||this).currentTime=n,i.readyState=r,i}return Gt(n,t),n}(pr),xd=function(t){function n(n){var r;return(r=t.call(this,Fv.Pl)||this).errorObject=n,r}return Gt(n,t),n.prototype.Ud=function(){return this},P(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(uv);function Pd(t){switch(t){case pd.ALL:case pd.CONTENT:return t;default:return pd.NONE}}function Ld(t){var n,r,i,e=mv(t||{});return e.libraryLocation&&(e.libraryLocation=ls(e.libraryLocation)),e.isEmbeddable=Boolean(e.isEmbeddable),e.cast=rd(e.cast),e.ads=vd(e.ads),e.analytics=dd(e.analytics),e.mutedAutoplay=Pd(e.mutedAutoplay),e.allowNativeFullscreen=Boolean(e.allowNativeFullscreen),e.allowMixedContent=Boolean(e.allowMixedContent),e.persistVolume=Boolean(e.persistVolume),e.liveOffset=(n=e.liveOffset,Number(n)||void 0),e.hlsDateRange=(r=e.hlsDateRange,Boolean(r)),e.retainPlaybackRateOnSourceChange=Boolean(e.retainPlaybackRateOnSourceChange),e.license=Z(i=e.license)?i:void 0,e.licenseUrl=function(t){if(!t)return;try{return ls(t)}catch(t){return void N.vd("Invalid 'licenseUrl', falling back to default URL")}}(e.licenseUrl),e}function Fd(t){return{bw:t.bw,Tw:t.Tw,Ew:t.Ew,qs:t.qs,Sw:t.Sw,Rw:t.Rw,Iw:t.Iw,Dw:t.Dw,ql:t.ql,Cw:t.Cw,Nw:t.Nw,Aw:t.Aw,Ow:t.Ow}}function Bd(t,n,r){if(n!==r){var i=n.bw,e=n.Tw,u=n.Rw,s=n.Iw,o=n.Dw,c=n.ql,a=n.Cw,f=(n.Aw,n.Nw,n.Ow),h=r.bw,v=r.Tw,d=r.Ew,l=r.Sw,w=r.Rw,y=r.Iw,_=r.Dw,p=r.ql,m=r.Cw,k=(r.Aw,r.Nw,r.Ow);c!==td.hw&&t.Es(new yd(h,p)),y&&!s?t.Es(new gd(h)):!y&&s&&t.Es(new _d(h)),p>=td.vw&&t.Es(new kd(h,p)),v===e||g(v)&&g(e)||t.Es(new bd(v)),_!==o&&t.Es(new Td(h,_)),h!==i&&t.Es(new Ed(h,void 0)),d&&t.Es(new Sd(h)),p>=td.dw&&t.Es(new Rd(h,p)),m&&!a?t.Es(new Id(h)):!m&&a&&t.Es(new Dd(h)),k===f&&w===u||t.Es(new Cd(h,k)),p>=td.lw&&t.Es(new Nd(h,p)),p>=td.ww&&t.Es(new Ad(h,p)),p!==c&&t.Es(new Od(h,p)),l&&t.Es(new xd(l))}}!function(t){t.NONE="none",t.ALL="all",t.CONTENT="content"}(pd||(pd={}));var Md=["analytic","golive","nogolive","bufferedchange","disablevideo","enablevideo","nativeseeking","nativeseeked"];function Ud(t){var n=Dv(t,Iv);return(Z(n)?[n]:n).filter(function(t){return n=t,-1!==Md.indexOf(n);var n})}var qd=400,Vd={windowStart:.4,target:.4+.2,windowEnd:.8,maxOffset:3,targetAbrOffset:1},jd=Hd(.5,Vd);function Hd(t,n){var r=l.max(1,t/n.windowStart);return{windowStart:r*n.windowStart,target:r*n.target,windowEnd:r*n.windowEnd,maxOffset:n.maxOffset+(r*n.windowEnd-n.windowEnd),targetAbrOffset:r*n.targetAbrOffset}}function Wd(){var t;return t="Android"===N.Rd.Id?jd:Vd,N.Rd.Dd?function(t){var n=t;N.Rd.Dd&&(n=Hd((qd+250)/1e3,n));return n}(t):t}var $d,zd=function(t){function n(){var n;return(n=t.call(this)||this)._l=void 0,n.Bd=void 0,n.xw=Wd(),n._l=void 0,n}Gt(n,t);var r=n.prototype;return r.kl=function(t){t.Rs(Md,this.Ts)},r.bl=function(t){t.Ns(Md,this.Ts)},r.Pw=function(){return this._l?this._l.Pw():D.resolve()},r.ai=function(){this.Cs(),this._l&&this.bl(this._l),this._l=void 0},P(n,[{key:"Tl",get:function(){return this._l},set:function(t){var n=this._l;t!==n&&(n&&this.bl(n),t&&this.kl(t),this._l=t,this._l&&(this._l.Lw=this.xw))}},{key:"Md",get:function(){var t;return this.Bd||(this.Bd=(t=this,{goLive:function(){return t.Pw()},get isLive(){return t.Fw},get currentServerLiveTime(){return t.Bw},get currentLatency(){return t.Mw},get latency(){return t.Lw},set latency(n){t.Lw=n},get manifest(){return t.Uw},get metrics(){return t.qw},addEventListener:function(n,r){t.Rs(Ud(n),r)},removeEventListener:function(n,r){t.Ns(Ud(n),r)}})),this.Bd}},{key:"Bw",get:function(){var t;return null===(t=this._l)||void 0===t?void 0:t.Bw}},{key:"Mw",get:function(){var t;return null===(t=this._l)||void 0===t?void 0:t.Mw}},{key:"Fw",get:function(){return!!this._l&&this._l.Fw}},{key:"Lw",get:function(){return this.xw},set:function(t){this._l&&(this._l.Lw=t),this.xw=t}},{key:"Uw",get:function(){var t;return null===(t=this._l)||void 0===t?void 0:t.Uw}},{key:"qw",get:function(){var t;return null===(t=this._l)||void 0===t?void 0:t.qw}}]),n}(gr),Xd=function(t){function n(n){var r;return(r=t.call(this)||this).Vw=[],r.jw=!1,r.Hw=new Bv,r.Ww=new Bv,r.$w=new Hv,r.zw=new zd,r.Xw=!1,r.Gw(n),n.Ds(r.Ts),r._l=n,r.Hw.Tl=n.Yw,r.Ww.Tl=n.Kw,r.$w.Tl=n.Jw,r.zw.Tl=n.Qw,r}Gt(n,t);var r=n.prototype;return r.ei=function(){this._l.ei()},r.ui=function(){this._l.ui()},r.Zw=function(){var t=D.coroutine(vn.mark(function t(){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",vr(this.Vw.map(function(t){return t.Zw()})).then(it));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.ty=function(){return this._l.ty()},r.ny=function(){var t=D.coroutine(vn.mark(function t(n,r){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return er(r),t.next=3,this._l.ny(n,r);case 3:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),r.iy=function(){return this.Tl.iy()},r.ey=function(){this.Tl.ey()},r.uy=function(){this.Tl.uy()},r.vi=function(){if(!this.jw){for(var t=0,n=this.Vw;t<n.length;t++){n[t].vi()}this.jw=!0}},r.sy=function(t){this._l.sy(t)},r.oy=function(){this._l.oy()},r.ay=function(){this._l.ay()},r.hy=function(){this._l.hy()},r.vy=function(){return this._l.vy()},r.ly=function(){return this._l.ly()},r.wy=function(){for(var t=[],n=0,r=this.Vw;n<r.length;n++){var i=r[n];t.push.apply(t,i.wy())}return t},r.yy=function(t){for(var n=!1,r=0,i=this.Vw;r<i.length;r++){n=i[r].yy(t)||n}return n},r.Es=function(n){this.yy(n)||t.prototype.Es.call(this,n)},r.Gw=function(t){this.Vw.push(t)},r.gy=function(t){Kn(this.Vw,t)},r._y=function(t){if(t!==this._l){var n=this._l;n.oy(),n.xs(this.Ts);var r=Fd(this),i=this.py,e=this.ly();this._l=t,this.Hw.Tl=t.Yw,this.Ww.Tl=t.Kw,this.$w.Tl=t.Jw,this.zw.Tl=t.Qw,Bd(this,r,this);var u=this.py;u!==i&&this.Es(new Xv(u)),this.ly()!==e&&this.Es(new zv),t.Ds(this.Ts),t.sy(n)}},r.my=function(){},r.ai=function(){var t=D.coroutine(vn.mark(function t(){var n,r,i;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.Cs(),this._l.oy(),n=0,r=this.Vw;case 3:if(!(n<r.length)){t.next=10;break}return i=r[n],t.next=7,i.ai();case 7:n++,t.next=3;break;case 10:this.Hw.ai(),this.Ww.ai(),this.$w.ai(),this.zw.ai();case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.wl=function(){var t=D.coroutine(vn.mark(function t(){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",vr(this.Vw.map(function(t){return t.wl()})).then(it));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),P(n,[{key:"Yw",get:function(){return this.Hw}},{key:"Jw",get:function(){return this.$w}},{key:"Kw",get:function(){return this.Ww}},{key:"ky",get:function(){return this._l.ky}},{key:"by",get:function(){return this._l.by},set:function(t){this._l.by=t}},{key:"py",get:function(){return this._l.py}},{key:"bw",get:function(){return this._l.bw},set:function(t){this._l.bw=t}},{key:"Tw",get:function(){return this._l.Tw}},{key:"Ty",get:function(){return this._l.Ty}},{key:"Ew",get:function(){return this._l.Ew}},{key:"qs",get:function(){return this._l.qs}},{key:"Sw",get:function(){return this._l.Sw}},{key:"Qw",get:function(){return this.zw}},{key:"Ey",get:function(){return this._l.Ey}},{key:"qw",get:function(){return function(t){for(var n=0,r=0,i=0,e=0,u=0,s={amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0},o=0;o<t.length;o++){var c=t[o];n+=c.Sy,r+=c.Ry,i+=c.Iy,e+=c.Dy,u+=c.Cy,s.amountOfBufferedAudioSegments+=c.Ny.amountOfBufferedAudioSegments,s.amountOfBufferedVideoSegments+=c.Ny.amountOfBufferedVideoSegments}return{Sy:n,Ry:r,Iy:i,Dy:e,Cy:u,Ny:s}}(this.Vw.map(function(t){return t.qw}))}},{key:"Rw",get:function(){return this._l.Rw},set:function(t){this._l.Rw=t}},{key:"Ay",get:function(){return this._l.Ay}},{key:"Iw",get:function(){return this._l.Iw}},{key:"Dw",get:function(){return this._l.Dw},set:function(t){this._l.Dw=t}},{key:"Oy",get:function(){return this._l.Oy}},{key:"xy",get:function(){return this._l.xy},set:function(t){this._l.xy=t}},{key:"ql",get:function(){return this._l.ql}},{key:"Py",get:function(){return this._l.Py}},{key:"Cw",get:function(){return this._l.Cw}},{key:"Nw",get:function(){return this._l.Nw}},{key:"Aw",get:function(){return this._l.Aw}},{key:"Ow",get:function(){return this._l.Ow},set:function(t){this._l.Ow=t}},{key:"Tl",get:function(){return this._l},set:function(t){this._y(t)}}]),n}($v),Gd=function(t){function n(n,r,i,e,u,s,o,c){var a;return(a=t.call(this,n,r,i)||this).url=e,a.status=u,a.statusText=s,a.response=o,a.systemCode=c,a}return Gt(n,t),P(n,[{key:"name",get:function(){return"ContentProtectionError"}}]),n}(Yi);!function(t){t[t.ABORTED=1]="ABORTED",t[t.NETWORK=2]="NETWORK",t[t.DECODE=3]="DECODE",t[t.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",t[t.ENCRYPTED=5]="ENCRYPTED",t[t.LICENSE_INVALID=6]="LICENSE_INVALID",t[t.ADVERTISEMENT_ERROR=7]="ADVERTISEMENT_ERROR"}($d||($d={}));var Yd=function(t){function n(n,r,i,e){var u;return(u=t.call(this,r)||this).code=n,u.message=null!=r?r:"Unknown error",u.cause=i,u.systemCode=e,h.captureStackTrace&&h.captureStackTrace(Kt(u),u.constructor),u}return Gt(n,t),P(n,[{key:"name",get:function(){return"MediaError"}}]),n}(Jt);function Kd(t){_v(t,"MEDIA_ERR_ABORTED",$d.ABORTED),_v(t,"MEDIA_ERR_NETWORK",$d.NETWORK),_v(t,"MEDIA_ERR_DECODE",$d.DECODE),_v(t,"MEDIA_ERR_SRC_NOT_SUPPORTED",$d.SRC_NOT_SUPPORTED),_v(t,"MEDIA_ERR_ENCRYPTED",$d.ENCRYPTED)}function Jd(t){var r,i;return function(t){return t.category===n.ErrorCategory.CONTENT_PROTECTION}(t)?new Yd($d.ENCRYPTED,t.message,null===(r=t.cause)||void 0===r?void 0:r.message,t.systemCode):new Yd(function(t){if(t===n.ErrorCode.MEDIA_ABORTED)return $d.ABORTED;if(t===n.ErrorCode.MANIFEST_LOAD_ERROR||t===n.ErrorCode.MEDIA_LOAD_ERROR||t===n.ErrorCode.SUBTITLE_LOAD_ERROR)return $d.NETWORK;if(t===n.ErrorCode.MEDIA_DECODE_ERROR)return $d.DECODE;if(t===n.ErrorCode.MEDIA_NOT_SUPPORTED)return $d.SRC_NOT_SUPPORTED;var r=n.ErrorCategory.fromCode(t);if(r===n.ErrorCategory.NETWORK)return $d.NETWORK;if(r===n.ErrorCategory.SOURCE)return $d.SRC_NOT_SUPPORTED;if(r===n.ErrorCategory.LICENSE)return $d.LICENSE_INVALID;if(r===n.ErrorCategory.CONTENT_PROTECTION)return $d.ENCRYPTED;if(r===n.ErrorCategory.AD)return $d.ADVERTISEMENT_ERROR;return $d.DECODE}(t.code),t.message,null===(i=t.cause)||void 0===i?void 0:i.message)}Kd(Yd),Kd(Yd.prototype);var Qd,Zd=function(t){function n(){return t.apply(this,arguments)||this}Gt(n,t);var r=n.prototype;return r.vl=function(n){return t.prototype.vl.call(this,n)},r.Ud=function(){return Pv(this)},n}(dv);!function(t){t.Gh="audio",t.Yh="video",t.Ye="text",t.Kh="image",t.Fh="unknown"}(Qd||(Qd={}));var tl=function(){function t(){this.Ly=[],this.Bd=void 0}var n=t.prototype;return n.Fy=function(t){this.Ly.push(t),this.Bd&&this.Bd.push(t.Md)},n.hl=function(t){return this.Ly[t]},n.By=function(t){return Y(t)?function(t,n){for(var r=0;r<n.length;r++)if(!Qn(t,n[r]))return!1;return!0}(this.Ly,t):Qn(this.Ly,t)},P(t,[{key:"yl",get:function(){return this.Ly}},{key:"gl",get:function(){return this.Ly.length}},{key:"Md",get:function(){var t,n;return this.Bd||(this.Bd=((n=(t=this).yl.map(function(t){return t.Md})).item=function(n){var r=0|n,i=t.hl(r);return i&&i.Md||void 0},n)),this.Bd}}]),t}(),nl=function(t){function n(n){var r;return(r=t.call(this,sv.ul)||this).qd=n,r}return Gt(n,t),n.prototype.Ud=function(){return new rl(this.qd.Md)},n}(ov),rl=function(t){function n(n){var r;return(r=t.call(this,"update")||this).track=n,r}return Gt(n,t),n}(cv),il=0;function el(){return il++}var ul=0;var sl=0;var ol=0;var cl=function(t){function n(n){var r;return(r=t.call(this)||this).Mu=Qd.Gh,r.My=!1,r.Bd=void 0,r.Uy=n,r.qy=el(),r.Vy=ol+++"",r.jy=n.label,r.Ly=new tl,r.Hy(),r}Gt(n,t);var r=n.prototype;return r.Wy=function(t){this.Rl=t},r.Hy=function(){this.Rl=this.$y},P(n,[{key:"Sl",get:function(){}},{key:"Rl",get:function(){return this.My},set:function(t){this.My!==t&&(this.My=t,this.$y=t,this.Es(new lv(this)))}},{key:"$y",get:function(){return!!this.Uy.enabled},set:function(t){this.Uy.enabled=t}},{key:"Md",get:function(){return this.Bd||(this.Bd=Ov(this)),this.Bd}},{key:"Il",get:function(){return this.Vy}},{key:"Dl",get:function(){return this.qy}},{key:"Cl",get:function(){return this.Uy.kind}},{key:"Nl",get:function(){return this.jy},set:function(t){t!==this.jy&&(this.jy=t,this.Es(new nl(this)))}},{key:"Al",get:function(){return this.Uy.language}},{key:"Fl",get:function(){return this.Rl?"enabled":"disabled"}},{key:"zy",get:function(){return this.Uy}},{key:"Ol",get:function(){return this.Ly}},{key:"xl",get:function(){},set:function(t){}}]),n}(gr),al=0;var fl,hl,vl,dl,ll,wl=function(t){function n(n){var r;return(r=t.call(this)||this).Mu=Qd.Yh,r.My=!1,r.Bd=void 0,r.Uy=n,r.qy=el(),r.Vy=al+++"",r.Ly=new tl,r.jy=n.label,r.Hy(),r}Gt(n,t);var r=n.prototype;return r.Hy=function(){this.Rl=this.$y},r.Wy=function(t){this.Rl=t},P(n,[{key:"Sl",get:function(){}},{key:"Rl",get:function(){return this.My},set:function(t){this.My!==t&&(this.My=t,this.$y=t,this.Es(new lv(this)))}},{key:"$y",get:function(){return!!this.Uy.selected},set:function(t){this.Uy.selected=t}},{key:"Md",get:function(){return this.Bd||(this.Bd=Ov(this)),this.Bd}},{key:"Il",get:function(){return this.Vy}},{key:"Dl",get:function(){return this.qy}},{key:"Cl",get:function(){return"main"}},{key:"Nl",get:function(){return this.jy},set:function(t){t!==this.jy&&(this.jy=t,this.Es(new nl(this)))}},{key:"Al",get:function(){return this.Uy.language}},{key:"Fl",get:function(){return this.Rl?"enabled":"disabled"}},{key:"zy",get:function(){return this.Uy}},{key:"Ol",get:function(){return this.Ly}},{key:"xl",get:function(){},set:function(t){}}]),n}(gr),yl=function(t){function n(n){var r;return(r=t.call(this,Bs.ha)||this).Ey=n,r}return Gt(n,t),n}(pr);!function(t){t[t.NONE=0]="NONE",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t[t.ERROR=3]="ERROR"}(fl||(fl={})),function(t){t.DEFAULT="",t.SRT="srt",t.TTML="ttml",t.WEBVTT="webvtt",t.EMSG="emsg",t.EVENT_STREAM="eventstream",t.ID3="id3",t.CEA608="cea608",t.DATE_RANGE="daterange"}(hl||(hl={})),function(t){t.Xy="cue",t.Gy="region",t.Yy="stylesheet"}(vl||(vl={})),function(t){t.Ky="Jy",t.Qy="Zy",t.ul="No"}(dl||(dl={})),function(t){t.Ky="enter",t.Qy="exit",t.ul="update"}(ll||(ll={}));var gl=function(t){function n(n,r){var i;return(i=t.call(this,n)||this).tg=r,i}return Gt(n,t),n}(ov),_l=function(t){function n(n,r){var i;return(i=t.call(this,n)||this).cue=r,i}return Gt(n,t),n}(cv);function pl(t){var n,r=[dl.Ky,dl.Qy,dl.ul],i={get track(){return t.qd.Md},get id(){return t.Il},get startTime(){return t.ng},get endTime(){return t.rg},get content(){return t.ig},addEventListener:function(t,r){var i=Dv(t,Iv);n.Rs(i,r)},removeEventListener:function(t,r){var i=Dv(t,Iv);n.Ns(i,r)}};return n=new _r(i),t.Rs(r,function(t){return n.Es(t.Md)}),i}function ml(){}var kl=.02;var bl=function(t){function n(n,r,i,e,u){var s;return(s=t.call(this)||this).Bd=void 0,s.eg=void 0,s.ug=!1,s.sg="",s.og=-1,s.cg=n,s.ag=r,s.fg=i,s.hg=Boolean(e),s.Vy=u||(sl++).toString(),s}Gt(n,t);var r=n.prototype;return r.Ud=function(){return pl(this)},r.vg=function(t){return this===t||bv(this,t)&&(r=t,Ht((n=this).ng,r.ng,kl)&&Ht(n.rg,r.rg,kl)&&n.Il===r.Il);var n,r},r.ai=function(){this.Cs()},P(n,[{key:"ng",get:function(){return this.cg},set:function(t){this.cg=t}},{key:"rg",get:function(){return this.ag},set:function(t){this.ag=t}},{key:"Il",get:function(){return this.Vy},set:function(t){this.Vy=t}},{key:"Md",get:function(){return this.Bd||(this.Bd=this.Ud()),this.Bd}},{key:"dg",get:function(){return this.ug},set:function(t){this.ug=t}},{key:"qd",get:function(){return this.eg},set:function(t){this.eg=t}},{key:"ig",get:function(){return this.fg},set:function(t){this.fg=t}},{key:"lg",get:function(){return this.sg},set:function(t){this.sg=t}},{key:"wg",get:function(){return this.hg},set:function(t){this.hg=t}}]),n}(gr);var Tl=function(t){function n(n,r,i,e,u){var s;return(s=t.call(this,n,r,i,e,u)||this).yg="auto",s.gg="start",s._g="auto",s.pg="auto",s.mg=void 0,s.kg=!0,s.Qs=100,s.bg="center",s.Tg="",s}return Gt(n,t),n.prototype.vg=function(n){return this===n||bv(this,n)&&t.prototype.vg.call(this,n)&&(i=n,(r=this).ig===i.ig&&r.yg===i.yg&&r.gg===i.gg&&r._g===i._g&&r.pg===i.pg&&r.mg===i.mg&&r.kg===i.kg&&r.Qs===i.Qs&&r.bg===i.bg&&r.Tg===i.Tg);var r,i},P(n,[{key:"Md",get:function(){var t;return this.Bd||(this.Bd=pv(pl(t=this),{get align(){return t.bg},get line(){return t.yg},get lineAlign(){return t.gg},get position(){return t._g},get positionAlign(){return t.pg},get region(){return t.mg?t.mg.Md:null},get size(){return t.Qs},get snapToLines(){return t.kg},get text(){return t.ig},get vertical(){return t.Tg}})),this.Bd}},{key:"Mu",get:function(){return vl.Xy}}]),n}(bl);var El,Sl=function(){function t(t,n,r,i,e,u,s,o){this.Il=t,this.sa=n,this.Eg=r,this.Sg=i,this.Rg=e,this.Ig=u,this.Dg=s,this.Cg=o}return P(t,[{key:"Md",get:function(){var t;return this.Bd||(this.Bd=(t=this,{get id(){return t.Il},get identifier(){return t.Il},get lines(){return t.Eg},get regionAnchorX(){return t.Sg},get regionAnchorY(){return t.Rg},get scrollValue(){return t.Cg},get viewportAnchorX(){return t.Ig},get viewportAnchorY(){return t.Dg},get width(){return t.sa}})),this.Bd}},{key:"Mu",get:function(){return vl.Gy}}]),t}();!function(t){t[t.Ng=0]="Ng",t[t.Ag=1]="Ag",t[t.Og=-1]="Og"}(El||(El={}));var Rl=function(t,n){return(0|t)-(0|n)},Il=function(t,n){return t===n?El.Ng:t<n?El.Og:t>n?El.Ag:g(t)?g(n)?El.Ng:El.Ag:El.Og};function Dl(t,n,r){return Ht(t,n,r)?El.Ng:Il(t,n)}var Cl=function(t,n){return function(t,n){if(t===n)return!0;var r=l.abs(t-n);return r<Vt||r<l.max(l.abs(t),l.abs(n))*Vt}(t,n)?El.Ng:Il(t,n)},Nl=function(){function t(){}var n=t.prototype;return n.xg=function(t){return this.Pg()*t},n.Lg=function(t){return this.Fg(t)>0},n.Bg=function(t){return this.Fg(t)>=0},n.Mg=function(t,n){return this.qg(t).Ug(n)},n.vg=function(t){return 0===this.Fg(t)},n.Vg=function(t){return this.Fg(t)<0},n.Ug=function(t){return this.Fg(t)<=0},n.jg=function(){return this.Hg()?this.Wg():this},n.$g=function(t){return this.Fy(t.Wg())},n.qg=function(t){return this.$g(t).jg()},t}();function Al(t,n){return t.zg()?n.zg()?El.Ng:El.Ag:n.zg()?El.Og:t.Xg()?n.Xg()&&t.Hg()===n.Hg()?El.Ng:t.Hg()?El.Og:El.Ag:n.Hg()?El.Ag:El.Og}var Ol=function(){function t(t,n){this.Gg=t,this.Yg=n}t.Kg=function(n,r,i){return i?new t(n.toUnsigned(),r.toUnsigned()):new t(n.toSigned(),r.toSigned())},t.Jg=function(n){return n.unsigned?new t(n,qt.UZERO):new t(n,n.isNegative()?qt.NEG_ONE:qt.ZERO)},t.Qg=function(n,r){if(g(n))return r?t.Zg:t.t_;if(r){if(n<0)return t.Zg;if(n>=3.402823669209385e38)return t.n_}else{if(n<=-1.7014118346046923e38)return t.r_;if(n+1>=1.7014118346046923e38)return t.i_}return n<0?t.Qg(-n,r).Wg():t.Kg(qt.fromNumber(n%0x10000000000000000),qt.fromNumber(n/0x10000000000000000),r)};var n=t.prototype;return n.e_=function(){return this.Yg.unsigned},n.u_=function(){return this.Gg.isZero()&&this.Yg.isZero()},n.Hg=function(){return this.Yg.isNegative()},n.s_=function(){return this.e_()?t.Kg(this.Gg,this.Yg,!1):this},n.o_=function(){return this.e_()?this:t.Kg(this.Gg,this.Yg,!0)},n.c_=function(){return this.Gg},n.Pg=function(){return this.Hg()?-this.Wg().Pg():0x10000000000000000*this.Yg.toNumber()+this.Gg.toUnsigned().toNumber()},n.a_=function(){return this.Gg.toInt()},n.vg=function(t){return(this.e_()===t.e_()||this.Yg.getHighBits()>>>31!=1||t.Yg.getHighBits()>>>31!=1)&&(this.Yg.toUnsigned().eq(t.Yg.toUnsigned())&&this.Gg.toUnsigned().eq(t.Gg.toUnsigned()))},n.Fg=function(t){if(this.vg(t))return El.Ng;var n=this.Hg(),r=t.Hg();if(n&&!r)return El.Og;if(!n&&r)return El.Ag;if(!this.e_())return this.$g(t).Hg()?El.Og:El.Ag;var i=this.o_(),e=t.o_(),u=e.Yg.comp(i.Yg);return u>0||0===u&&e.Gg.gt(i.Gg)?El.Og:El.Ag},n.Vg=function(t){return this.Fg(t)<0},n.Ug=function(t){return this.Fg(t)<=0},n.f_=function(t){return this.Fg(t)>0},n.h_=function(t){return this.Fg(t)>=0},n.v_=function(){return new t(this.Gg.not(),this.Yg.not())},n.d_=function(n){return new t(this.Gg.and(n.Gg),this.Yg.and(n.Yg))},n.l_=function(n){return new t(this.Gg.or(n.Gg),this.Yg.or(n.Yg))},n.w_=function(n){var r=127&n;return 0===r?this:r<64?t.Kg(this.Gg.shl(r),this.Yg.shl(r).or(this.Gg.shru(64-r)),this.e_()):t.Kg(qt.ZERO,this.Gg.shl(r-64),this.e_())},n.y_=function(n){var r=127&n;return 0===r?this:r<64?t.Kg(this.Gg.shru(r).or(this.Yg.shl(64-r)),this.Yg.shr(r),this.e_()):t.Kg(this.Yg.shr(r-64),this.Yg.isNegative()?qt.NEG_ONE:qt.ZERO,this.e_())},n.g_=function(n){var r=127&n;return 0===r?this:r<64?t.Kg(this.Gg.shru(r).or(this.Yg.shl(64-r)),this.Yg.shru(r),this.e_()):64===r?t.Kg(this.Yg,qt.ZERO,this.e_()):t.Kg(this.Yg.shru(r-64),qt.ZERO,this.e_())},n.Fy=function(n){var r=this.Yg.high>>>16,i=65535&this.Yg.high,e=this.Yg.low>>>16,u=65535&this.Yg.low,s=this.Gg.high>>>16,o=65535&this.Gg.high,c=this.Gg.low>>>16,a=65535&this.Gg.low,f=n.Yg.high>>>16,h=65535&n.Yg.high,v=n.Yg.low>>>16,d=65535&n.Yg.low,l=n.Gg.high>>>16,w=65535&n.Gg.high,y=n.Gg.low>>>16,g=0,_=0,p=0,m=0,k=0,b=0,T=0,E=0;T+=(E+=a+(65535&n.Gg.low))>>>16,E&=65535,b+=(T+=c+y)>>>16,T&=65535,k+=(b+=o+w)>>>16,b&=65535,m+=(k+=s+l)>>>16,k&=65535,p+=(m+=u+d)>>>16,m&=65535,_+=(p+=e+v)>>>16,p&=65535,g+=(_+=i+h)>>>16,_&=65535,g+=r+f,g&=65535;var S=this.e_(),R=qt.fromBits(p<<16|m,g<<16|_,S),I=qt.fromBits(T<<16|E,k<<16|b,S);return t.Kg(I,R,S)},n.$g=function(t){return this.Fy(t.Wg())},n.Wg=function(){return this.v_().Fy(t.__)},n.p_=function(n){if(this.u_()||n.u_())return this.e_()?t.Zg:t.t_;if(this.Hg())return n.Hg()?this.Wg().p_(n.Wg()):this.Wg().p_(n).Wg();if(n.Hg())return this.p_(n.Wg()).Wg();if(this.Yg.isZero()&&0===this.Gg.high&&n.Yg.isZero()&&0===n.Gg.high)return t.Jg(this.Gg.multiply(n.Gg));var r=qt.fromBits(4294967295,0,!0),i=this.Gg.and(r),e=this.Gg.shru(32),u=this.Yg.and(r),s=this.Yg.shru(32),o=n.Gg.and(r),c=n.Gg.shru(32),a=n.Yg.and(r),f=n.Yg.shru(32),h=qt.UZERO,v=qt.UZERO,d=qt.UZERO,l=qt.UZERO;h=h.add(i.mul(o)),v=v.add(h.shru(32)),h=h.and(r),v=v.add(e.mul(o)),d=d.add(v.shru(32)),v=(v=v.and(r)).add(i.mul(c)),d=d.add(v.shru(32)),v=v.and(r),d=d.add(u.mul(o)),l=l.add(d.shru(32)),d=(d=d.and(r)).add(e.mul(c)),l=l.add(d.shru(32)),d=(d=d.and(r)).add(i.mul(a)),l=l.add(d.shru(32)),d=d.and(r),l=l.add(s.mul(o)).add(u.mul(c)).add(e.mul(a)).add(i.mul(f)).and(r);var w=qt.fromBits(h.getLowBitsUnsigned(),v.getLowBitsUnsigned(),!0),y=qt.fromBits(d.getLowBitsUnsigned(),l.getLowBitsUnsigned(),!0);return t.Kg(w,y,this.e_())},n.m_=function(n){var r,i,e=n;if(e.u_())throw new RangeError("division by zero");if(this.u_())return this.e_()?[t.Zg,t.Zg]:[t.t_,t.t_];if(this.e_()){if(e.e_()||(e=e.o_()),e.f_(this))return[t.Zg,this];if(e.f_(this.g_(1)))return[i=t.k_,r=this.$g(e)];i=t.Zg}else{if(this.vg(t.r_)){if(e.vg(t.__)||e.vg(t.b_))return[t.r_,t.t_];if(e.vg(t.r_))return[t.__,t.t_];var u=this.y_(1).T_(e).w_(1);return u.vg(t.t_)?i=e.Hg()?t.__:t.b_:(r=this.$g(e.p_(u)),i=u.Fy(r.T_(e))),[i,r=this.$g(e.p_(i))]}if(e.vg(t.r_))return this.e_()?[t.Zg,this]:[t.t_,this];if(this.Hg()){if(e.Hg())return this.Wg().m_(e.Wg());var s=this.Wg().m_(e);return i=s[0],r=s[1],[i.Wg(),r.Wg()]}if(e.Hg()){var o=this.m_(e.Wg());return i=o[0],r=o[1],[i.Wg(),r.Wg()]}i=t.t_}for(r=this;r.h_(e);){for(var c=l.max(1,l.floor(r.Pg()/e.Pg())),a=l.ceil(l.log(c)/l.LN2),f=a<=48?1:l.pow(2,a-48),h=t.Qg(c),v=h.p_(e);v.Hg()||v.f_(r);)c-=f,v=(h=t.Qg(c,this.e_())).p_(e);h.u_()&&(h=t.__),i=i.Fy(h),r=r.$g(v)}return[i,r]},n.T_=function(t){return this.m_(t)[0]},n.E_=function(t){return this.m_(t)[1]},n.toString=function(n){var r=n||10;if(r<2||r>36)throw new RangeError("radix");if(this.u_())return"0";if(this.Hg()){if(this.vg(t.r_)){var i=t.Qg(r),e=this.T_(i),u=e.p_(i).$g(this);return e.toString(r)+u.a_().toString(r)}return"-"+this.Wg().toString(r)}for(var s=t.Qg(l.pow(r,6),this.e_()),o=this,c="";;){var a=o.T_(s),f=(o.$g(a.p_(s)).a_()>>>0).toString(r);if((o=a).u_())return f+c;for(;f.length<6;)f="0"+f;c=String(f)+c}},t}();Ol.t_=Ol.Jg(qt.ZERO),Ol.Zg=Ol.Jg(qt.UZERO),Ol.__=Ol.Jg(qt.ONE),Ol.k_=Ol.Jg(qt.UONE),Ol.b_=Ol.Jg(qt.NEG_ONE),Ol.i_=Ol.Kg(qt.NEG_ONE,qt.MAX_VALUE,!1),Ol.n_=Ol.Kg(qt.MAX_UNSIGNED_VALUE,qt.MAX_UNSIGNED_VALUE,!0),Ol.r_=Ol.Kg(qt.ZERO,qt.MIN_VALUE,!1);var xl=function(){function t(t,n){void 0===n&&(n=1),this.S_=t,this.R_=n}t.I_=function(n){return new t(l.ceil(n.S_),n.R_)},t.D_=function(n){return new t(l.floor(n.S_),n.R_)},t.C_=function(t,n){return t.Bg(n)?t:n},t.N_=function(t,n){return t.Ug(n)?t:n};var n=t.prototype;return n.Fy=function(n){return this.R_>=n.R_?new t(this.S_+n.A_(this.R_).S_,this.R_):new t(this.A_(n.R_).S_+n.S_,n.R_)},n.Lg=function(t){return t.Vg(this)},n.Bg=function(t){return t.Ug(this)},n.qg=function(n){return this.R_>=n.R_?new t(l.abs(this.S_-n.A_(this.R_).S_),this.R_):n.qg(this)},n.Mg=function(t,n){return this.qg(t).Ug(n)},n.Fg=function(t){return r=t,(n=this).R_>=r.R_?Cl(n.S_,r.A_(n.R_).S_):Cl(n.A_(r.R_).S_,r.S_);var n,r},n.vg=function(t){return 0===this.Fg(t)},n.Vg=function(t){return this.Fg(t)<0},n.Ug=function(t){return this.Fg(t)<=0},n.A_=function(n){return new t(this.S_*(n/this.R_),n)},n.$g=function(n){return this.R_>=n.R_?new t(this.S_-n.A_(this.R_).S_,this.R_):new t(this.A_(n.R_).S_-n.S_,n.R_)},n.O_=function(n){return new t(this.S_*n,this.R_)},P(t,[{key:"Xg",get:function(){return!isFinite(this.S_)}},{key:"x_",get:function(){return this.S_/this.R_}}]),t}();xl.P_=new xl(1/6,1),xl.t_=new xl(0),xl.L_=new xl(1/0),xl.F_=1e6;var Pl=function(t){function n(n,r){var i;return(i=t.call(this)||this).su=n.toSigned(),i.R_=r>>>0,i}Gt(n,t),n.B_=function(t,r){return void 0===r&&(r=1e6),n.Qg(t*r,r)},n.Qg=function(t,r){return g(t)?n.M_:t===1/0?n.U_:t===-1/0?n.q_:new n(qt.fromNumber(t),r)},n.Jg=function(t,r){return new n(t,r)},n.V_=function(t){return n.B_(t.x_,1e6)},n.j_=function(t){return new n(qt.fromNumber(t.getTime()),1e3)},n.C_=function(t,n){return t.Bg(n)?t:n},n.N_=function(t,n){return t.Ug(n)?t:n},n.H_=function(t,r,i){return n.C_(r,n.N_(i,t))};var r=n.prototype;return r.Hg=function(){return this.su.isNegative()},r.u_=function(){return 0!==this.R_&&this.su.isZero()},r.Xg=function(){return 0===this.R_&&!this.su.isZero()},r.zg=function(){return 0===this.R_&&this.su.isZero()},r.Pg=function(){if(0===this.R_)return this.su.isZero()?NaN:this.su.isNegative()?-1/0:1/0;var t=this.su.divide(this.R_),n=this.su.subtract(t.multiply(this.R_));return t.toNumber()+n.toNumber()/this.R_},r.c_=function(){if(0===this.R_)throw new h("Failed to convert timestamp");return this.su},r.W_=function(){return new Date(0===this.R_?NaN:this.A_(1e3).su.toNumber())},r.z_=function(){return new xl(0===this.R_?this.Pg():this.su.toNumber(),this.R_)},r.A_=function(t,r){void 0===r&&(r=Bl.X_);var i=this.R_;if(i===t)return this;if(0===i)return this;var e=Wt(i,t);return new n(function(t,n,r){var i=t.m_(n),e=i[0],u=i[1];if(u.u_())return e;if(r===Bl.X_)return u.Hg()?e.$g(Ol.__):e;if(r===Bl.G_)return u.Hg()?e:e.Fy(Ol.__);var s=u.p_(Ol.Qg(2));return s.Hg()?s.Wg().Vg(n)?e:e.$g(Ol.__):s.Vg(n)?e:e.Fy(Ol.__)}(Ol.Jg(this.su).p_(Ol.Qg(t/e)),Ol.Qg(i/e),r).c_(),t)},r.Fg=function(t){if(this===t)return El.Ng;if(0===this.R_||0===t.R_)return Al(this,t);if(this.u_())return t.u_()?El.Ng:t.Hg()?El.Ag:El.Og;if(t.u_())return this.Hg()?El.Og:El.Ag;var n=l.min(this.R_,t.R_),r=this.A_(n,Bl.Y_).su,i=t.A_(n,Bl.Y_).su;return r.compare(i)},r.Wg=function(){return 0===this.R_?Ll(this):new n(this.su.negate(),this.R_)},r.Fy=function(t){if(0===this.R_||0===t.R_)return Fl(this,t);if(this.u_())return t;if(t.u_())return this;var r=l.max(this.R_,t.R_),i=this.A_(r,Bl.Y_),e=t.A_(r,Bl.Y_);return new n(i.su.add(e.su),r)},r.p_=function(t){if(this.zg()||g(t))return n.M_;if(this.Xg()||!isFinite(t)){if(this.u_()||0===t)return n.M_;var r=this.Hg()?n.q_:n.U_;return t<0?r.Wg():r}return this.u_()?this:new n(0===t?qt.ZERO:this.su.multiply(t),this.R_)},r.T_=function(t){if(this.zg()||g(t))return n.M_;if(this.Xg())return isFinite(t)?0===t?1/t<0?this.Wg():this:t<0?this.Wg():this:n.M_;if(!isFinite(t))return new n(qt.ZERO,this.R_);if(this.u_())return 0===t?n.M_:new n(qt.ZERO,this.R_);if(0===t){var r=this.Hg()?n.q_:n.U_;return 1/t<0?r.Wg():r}return new n(this.su.divide(t),this.R_)},r.K_=function(){return[this.su.low,this.su.high,this.R_]},n}(Nl);function Ll(t){return t.zg()?t:t.Hg()?Pl.U_:Pl.q_}function Fl(t,n){return t.zg()||n.zg()?Pl.M_:t.Xg()&&n.Xg()?t.Hg()===n.Hg()?t:Pl.M_:t.Xg()?t:n}Pl.t_=new Pl(qt.ZERO,1e6),Pl.M_=new Pl(qt.ZERO,0),Pl.U_=new Pl(qt.ONE,0),Pl.q_=new Pl(qt.NEG_ONE,0);var Bl,Ml=function(t){function n(n,r){var i;return(i=t.call(this)||this).su=BigInt.asIntN(64,n),i.R_=r>>>0,i}Gt(n,t),n.B_=function(t,r){return void 0===r&&(r=1e6),n.Qg(t*r,r)},n.Qg=function(t,r){return g(t)?n.M_:t===1/0?n.U_:t===-1/0?n.q_:new n(BigInt(l.floor(t)),r)},n.Jg=function(t,r){return new n(BigInt(t.high)<<BigInt(32)|BigInt(t.low>>>0),r)},n.V_=function(t){return n.B_(t.x_,1e6)},n.j_=function(t){return n.Qg(t.getTime(),1e3)},n.C_=function(t,n){return t.Bg(n)?t:n},n.N_=function(t,n){return t.Ug(n)?t:n},n.H_=function(t,r,i){return n.C_(r,n.N_(i,t))};var r=n.prototype;return r.Hg=function(){return this.su<BigInt(0)},r.u_=function(){return 0!==this.R_&&this.su===BigInt(0)},r.Xg=function(){return 0===this.R_&&this.su!==BigInt(0)},r.zg=function(){return 0===this.R_&&this.su===BigInt(0)},r.Pg=function(){if(0===this.R_)return this.su===BigInt(0)?NaN:this.su<BigInt(0)?-1/0:1/0;var t=this.su/BigInt(this.R_),n=this.su-t*BigInt(this.R_);return Number(t)+Number(n)/this.R_},r.c_=function(){if(0===this.R_)throw new h("Failed to convert timestamp");return this.J_()},r.J_=function(){var t=this.su&BigInt(4294967295),n=this.su>>BigInt(32)&BigInt(4294967295);return qt.fromBits(Number(t),Number(n))},r.W_=function(){return new Date(0===this.R_?NaN:Number(this.A_(1e3).su))},r.z_=function(){return new xl(0===this.R_?this.Pg():Number(this.su),this.R_)},r.A_=function(t,r){void 0===r&&(r=Bl.X_);var i=this.R_;if(i===t)return this;if(0===i)return this;var e=Wt(i,t);return new n(function(t,n,r){var i=t/n,e=t-i*n;if(e===BigInt(0))return i;if(r===Bl.X_)return e<BigInt(0)?i-BigInt(1):i;if(r===Bl.G_)return e<BigInt(0)?i:i+BigInt(1);var u=e*BigInt(2);return u<BigInt(0)?-u<n?i:i-BigInt(1):u<n?i:i+BigInt(1)}(this.su*BigInt(t/e),BigInt(i/e),r),t)},r.Fg=function(t){if(this===t)return El.Ng;if(0===this.R_||0===t.R_)return Al(this,t);if(this.u_())return t.u_()?El.Ng:t.Hg()?El.Ag:El.Og;if(t.u_())return this.Hg()?El.Og:El.Ag;var n=l.min(this.R_,t.R_),r=this.A_(n,Bl.Y_).su,i=t.A_(n,Bl.Y_).su;return r>i?El.Ag:r<i?El.Og:El.Ng},r.Wg=function(){return 0===this.R_?Ul(this):new n(-this.su,this.R_)},r.Fy=function(t){if(0===this.R_||0===t.R_)return ql(this,t);if(this.u_())return t;if(t.u_())return this;var r=l.max(this.R_,t.R_),i=this.A_(r,Bl.Y_),e=t.A_(r,Bl.Y_);return new n(i.su+e.su,r)},r.p_=function(t){if(this.zg()||g(t))return n.M_;if(this.Xg()||!isFinite(t)){if(this.u_()||0===t)return n.M_;var r=this.Hg()?n.q_:n.U_;return t<0?r.Wg():r}return this.u_()?this:new n(0===t?BigInt(0):this.su*BigInt(t),this.R_)},r.T_=function(t){if(this.zg()||g(t))return n.M_;if(this.Xg())return isFinite(t)?0===t?1/t<0?this.Wg():this:t<0?this.Wg():this:n.M_;if(!isFinite(t))return new n(BigInt(0),this.R_);if(this.u_())return 0===t?n.M_:new n(BigInt(0),this.R_);if(0===t){var r=this.Hg()?n.q_:n.U_;return 1/t<0?r.Wg():r}return new n(this.su/BigInt(t),this.R_)},r.K_=function(){var t=this.J_();return[t.low,t.high,this.R_]},P(n,null,[{key:"t_",get:function(){return n.Q_||(n.Q_=new n(BigInt(0),1e6)),n.Q_}},{key:"M_",get:function(){return n.Z_||(n.Z_=new n(BigInt(0),0)),n.Z_}},{key:"U_",get:function(){return n.tp||(n.tp=new n(BigInt(1),0)),n.tp}},{key:"q_",get:function(){return n.np||(n.np=new n(BigInt(-1),0)),n.np}}]),n}(Nl);function Ul(t){return t.zg()?t:t.Hg()?Ml.U_:Ml.q_}function ql(t,n){return t.zg()||n.zg()?Ml.M_:t.Xg()&&n.Xg()?t.Hg()===n.Hg()?t:Ml.M_:t.Xg()?t:n}Ml.Q_=void 0,Ml.Z_=void 0,Ml.tp=void 0,Ml.np=void 0,function(t){t[t.X_=0]="X_",t[t.G_=1]="G_",t[t.Y_=2]="Y_"}(Bl||(Bl={}));var Vl,jl,Hl,Wl,$l=function(){try{return"function"==typeof BigInt&&"bigint"==typeof BigInt(0)}catch(t){return!1}}()?Ml:Pl,zl=9e4,Xl=l.pow(2,33),Gl=($l.Qg(Xl,zl).T_(2),{rp:0,ip:1/0,ep:0}),Yl=6,Kl=["WEBVTT ","WEBVTT\t","WEBVTT\n"],Jl=[" ","\t","\n","\f","\r"],Ql=/^\d*$/,Zl=/.*[0-9]+.*/,tw=/^[\d.-]+$/,nw=/(^\.|\.$)/,rw=/(\D\.|\.\D)/;function iw(t,n){void 0===n&&(n=Gl);var r={Vl:[],sp:[],op:[]},i=ew(t),e=new Ei;if(lw(i),uw(i,function(t){return"\n"!==t},e),e.eo>=i.length)return r;(e.to(1),"\n"!==i.charAt(e.eo))?aw(sw(i,e,!1,!0,r,n),r):e.to(1);for(uw(i,function(t){return"\n"===t},e);e.eo<i.length;){aw(sw(i,e,!1,!1,r,n),r),uw(i,function(t){return"\n"===t},e)}return r}function ew(t){var n=Fn(t,"\0"," "),r=Fn(n,"\r\n","\n");return Fn(r,"\r","\n")}function uw(t,n,r){for(var i=r.eo;r.eo<t.length&&n(t.charAt(r.eo));)r.to(1);return t.substring(i,r.eo)}function sw(t,n,r,i,e,u){for(var s,o=0,c=n.eo,a="",f=!1,h=!1,v=null,d=null,l=null;!f;)if(s=uw(t,function(t){return"\n"!==t},n),o++,n.eo>=t.length?f=!0:n.to(1),Bn(s,"--\x3e")){if(i||1!==o&&(2!==o||h)){n.ro(c);break}h=!0,c=n.eo,v=new Tl(0,0,"",!1,a);try{fw(s,e.sp,v,u),a=""}catch(t){N.vd(t),v=null}}else{if(""===s)break;i&&Mn(s,"X-TIMESTAMP-MAP")&&(e.cp=ow(s)),i||2!==o||r||(qn("STYLE",a.replace(/ /g,""))?(d={Mu:vl.Yy},a=""):qn("REGION",a.replace(/ /g,""))&&(l=new Sl("",100,3,0,100,0,100,""),a="")),a&&(a+="\n"),a+=s,c=n.eo}if(v)return v.ig=a,v;if(d);else if(l)return function(t,n){for(var r=t.split(/\s/),i=0;i<r.length;i++){var e=r[i];if(0!==e.length&&Bn(e,":")&&":"!==e.charAt(0)&&":"!==e.charAt(e.length-1)){var u=e.indexOf(":"),s=e.substring(0,u),o=e.substring(u+1,e.length);switch(s.toUpperCase()){case"ID":Sw(o,n);break;case"WIDTH":Dw(o,n);break;case"LINES":Iw(o,n);break;case"REGIONANCHOR":var c=Ew(o);c&&(n.Sg=c[0],n.Rg=c[1]);break;case"VIEWPORTANCHOR":var a=Ew(o);a&&(n.Ig=a[0],n.Dg=a[1]);break;case"SCROLL":Rw(o,n)}}}}(a,l),l;return null}function ow(t){var n,r,i=t.split("=")[1].trim().split(","),e=cw(i[0].trim(),"MPEGTS")?i[0]:i[1],u=cw(i[0].trim(),"LOCAL")?i[0]:i[1];return{ap:(r=Number(e.split(/:(.*)/)[1].trim())||0,$l.Qg(r,zl)),fp:$l.B_(null!==(n=dw(u.split(/:(.*)/)[1].trim(),new Ei))&&void 0!==n?n:0)}}function cw(t,n){return Mn(t,n)}function aw(t,n){t&&function(t){return t.Mu===vl.Xy}(t)?n.Vl.push(t):t&&function(t){return t.Mu===vl.Gy}(t)?n.sp.push(t):t&&function(t){return t.Mu===vl.Yy}(t)&&n.op.push(t)}function fw(t,n,r,i){var e=new Ei;if(ww(t,e),r.ng=hw(dw(t,e),i),ww(t,e),"--\x3e"!==t.substring(e.eo,e.eo+3))throw h("Something went wrong with parsing a WebVTT Cue");e.to(3),ww(t,e),r.rg=hw(dw(t,e),i),function(t,n,r){for(var i=t.split(/\s/),e=0;e<i.length;e++){var u=i[e];if(0!==u.length&&Bn(u,":")&&":"!==u.charAt(0)&&":"!==u.charAt(u.length-1)){var s=u.indexOf(":"),o=u.substring(0,s),c=u.substring(s+1,u.length);switch(o.toUpperCase()){case"REGION":mw(c,n,r);break;case"VERTICAL":bw(c,n);break;case"D":Tw(c,n);break;case"LINE":case"L":_w(c,n);break;case"POSITION":case"T":pw(c,n);break;case"SIZE":case"S":kw(c,n);break;case"ALIGN":case"A":gw(c,n)}}}}(t.substring(e.eo,t.length),r,n)}function hw(t,n){return t+n.rp}function vw(t){return/^[0-9]$/.test(t)}function dw(t,n){var r,i,e,u=Fn(t,",","."),s=!1;if(n.eo>=u.length||!vw(u.charAt(n.eo)))throw new h("Something went wrong with parsing a WebVTT Cue timestamp");var o=uw(u,vw,n),c=w(o,10);if((o.length>2||c>59)&&(s=!0),n.eo>=u.length||":"!==u.charAt(n.eo))throw new h("Something went wrong with parsing a WebVTT Cue timestamp");n.to(1);var a=uw(u,vw,n);if(2!==a.length)throw new h("Something went wrong with parsing a WebVTT Cue timestamp");var f=w(a,10);if(s||n.eo<u.length&&":"===u.charAt(n.eo)){if(n.eo>=u.length||":"!==u.charAt(n.eo))throw new h("Something went wrong with parsing a WebVTT Cue timestamp");n.to(1);var v=uw(u,vw,n);if(2!==a.length)throw new h("Something went wrong with parsing a WebVTT Cue timestamp");r=c,i=f,e=w(v,10)}else r=0,i=c,e=f;if(n.eo>=u.length||"."!==u.charAt(n.eo))throw new h("Something went wrong with parsing a WebVTT Cue timestamp");n.to(1);var d=uw(u,vw,n),l=w(d,10);if(f>59||e>59)throw new h("Something went wrong with parsing a WebVTT Cue timestamp");return 60*r*60+60*i+e+l/1e3}function lw(t){if(t.length<Yl)return!1;for(var n=0;n<Kl.length;n++){if(Mn(t,Kl[n]))return!0}return!1}function ww(t,n){for(;n.eo<t.length&&(r=t.charAt(n.eo),Qn(Jl,r));)n.to(1);var r}function yw(t){var n=t.lastIndexOf("%");if(n>-1){var r=y(t.substring(0,n));if(!g(r)&&r>=0&&r<=100)return r}return null}function gw(t,n){var r=t.toLowerCase();switch(r){case"start":case"center":case"end":case"left":case"right":n.bg=r;break;case"middle":n.bg="center"}}function _w(t,n){var r=t,i="";if(Bn(t,",")&&(r=t.substring(0,t.indexOf(",")),i=t.substring(t.indexOf(",")+1,t.length)),Zl.test(r)){var e;if(Un(r,"%")){var u=yw(r);if(null===u)return;e=u}else{if(!tw.test(t)||t.lastIndexOf("-")>0||t.indexOf(".")!==t.lastIndexOf(".")||!rw.test(t)||nw.test(t))return;if(e=y(t),g(e))return}switch(n.yg=e,n.kg=Un(r,"%"),i=t.toLowerCase()){case"start":case"center":case"end":n.gg=i;break;case"middle":n.gg="center"}}}function pw(t,n){var r=t,i="";Bn(t,",")&&(r=t.substring(0,t.indexOf(",")),i=t.substring(t.indexOf(",")+1,t.length));var e=yw(r);if(null!==e)switch(n._g=e,i=i.toLowerCase()){case"line-left":case"center":case"line-right":case"auto":n.pg=i;break;case"start":n.pg="line-left";break;case"middle":n.pg="center";break;case"end":n.pg="line-right"}}function mw(t,n,r){for(var i=r.length-1;i>=0;i--)if(r[i].Il===t)return void(n.mg=r[i])}function kw(t,n){var r=yw(t);null!==r&&(n.Qs=r)}function bw(t,n){switch(t.toLowerCase()){case"rl":case"vertical:rl":case"vertical-rl":n.Tg="rl";break;case"lr":case"vertical:lr":case"vertical-lr":n.Tg="lr";break;default:n.Tg=""}}function Tw(t,n){"VERTICAL"===t.toUpperCase()?n.Tg="rl":"VERTICAL-LR"===t.toUpperCase()&&(n.Tg="lr")}function Ew(t){if(t.indexOf(",")>=0){var n=yw(t.substring(0,t.indexOf(","))),r=yw(t.substring(t.indexOf(",")+1,t.length));return[jt(n||0,0,100),jt(r||100,0,100)]}return null}function Sw(t,n){n.Il=t}function Rw(t,n){"up"===t.toLowerCase()&&(n.Cg="up")}function Iw(t,n){Ql.test(t)&&(n.Eg=w(t))}function Dw(t,n){var r=yw(t);null!==r&&(n.sa=r)}!function(t){t.hp="moov",t.vp="mvhd",t.dp="trak",t.lp="tkhd",t.wp="mdia",t.yp="mdhd",t.gp="hdlr",t._p="minf",t.pp="stbl",t.mp="stsd",t.kp="stsc",t.bp="mvex",t.Tp="trex",t.Ep="avc1",t.Sp="avcC",t.Rp="hev1",t.Ip="hvc1",t.Dp="hvcC",t.Cp="pasp",t.Np="mp4a",t.Ap="esds",t.Op="wvtt",t.xp="vttC",t.Pp="vlab",t.Lp="enca",t.Fp="encv",t.Bp="moof",t.Mp="mfhd",t.Up="traf",t.qp="tfhd",t.Vp="trun",t.jp="tfdt",t.Hp="mdat",t.Wp="pssh",t.$p="emsg",t.zp="sidx",t.Xp="styp",t.Gp="ftyp",t.Yp="sinf",t.Kp="frma"}(Vl||(Vl={})),function(t){t.Yh="vide",t.Gh="soun",t.Jp="hint",t.Qp="meta",t.Zp="auxv"}(jl||(jl={})),function(t){t[t.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",t[t.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",t[t.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",t[t.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",t[t.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT",t[t.DURATION_IS_EMPTY=32]="DURATION_IS_EMPTY",t[t.DEFAULT_BASE_IS_MOOF=131072]="DEFAULT_BASE_IS_MOOF"}(Hl||(Hl={})),function(t){t[t.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",t[t.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",t[t.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",t[t.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT=2048]="SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT"}(Wl||(Wl={}));var Cw=function(){function t(t,n){this.Eu=t,this.tm=n}var n=t.prototype;return n.nm=function(){return Yr(this.Eu,this.tm)},n.rm=function(){return Zr(this.Eu,this.tm)},n.im=function(){return function(t,n,r){void 0===r&&(r=!1);var i=t.getInt16(n.eo,r);return n.to(2),i}(this.Eu,this.tm)},n.um=function(){return ni(this.Eu,this.tm)},n.sm=function(){return function(t,n,r){void 0===r&&(r=!1);var i=t.getInt32(n.eo,r);return n.to(4),i}(this.Eu,this.tm)},n.om=function(){return ii(this.Eu,this.tm)},n.cm=function(t){return Jr(this.Eu,this.tm,t)},n.am=function(t){return function(t,n,r){for(var i=[],e=0;e<r;e++)i.push(ni(t,n));return i}(this.Eu,this.tm,t)},n.fm=function(t){return si(this.Eu,this.tm,t)},n.hm=function(){return wi(this.Eu,this.tm)},n.vm=function(t){this.tm.to(t)},n.io=function(){return new t(this.Eu,this.tm.io())},t}(),Nw=function(t){function n(n,r){var i;return(i=t.call(this)||this).dm=n,i.lm=r,i}return Gt(n,t),P(n,[{key:"name",get:function(){return"DataIncompleteError"}}]),n}(Qt),Aw=function(){function t(){}return t.wm=function(n){var r=n.Eu,i=n.tm,e=t.ym(r,i,!1);if(!e.gm)throw new Nw(i.eo,e.wu);return e.wu},t.ym=function(n,r,i){for(var e=[];r.eo<n.byteLength;){var u=t._m(n,r,i);if(!u.gm)return{gm:!1,wu:e};e.push(u.pm)}return{gm:!0,wu:e}},t.mm=function(n,r){var i=t._m(n,r,!1);if(!i.gm)throw new Nw(r.eo);return i.pm},t.km=function(n,r){for(var i=n.Eu,e=n.tm;e.eo<i.byteLength;){var u=t._m(i,e,!1);if(!u.gm)return;if(u.pm.Mu===r)return u.pm}},t._m=function(n,r,i){var e=r.eo,u=t.bm(n,r);if(!u.gm)return u;var s=u.Tm,o=s.Qs;if(0===o){if(i)return r.ro(e),{gm:!1,Em:1/0};o=n.byteLength-e}var c=e+o;if(c>n.byteLength){var a=c;return r.ro(e),{gm:!1,Em:a}}var f,h,v,d={Mu:s.Mu,eo:e,Eu:new Cw((f=n,h=e,v=c,void 0===h&&(h=0),void 0===v&&(v=f.byteLength),new DataView(f.buffer,f.byteOffset+h,v-h)),new Ei(s.Sm))};return r.ro(c),{gm:!0,pm:d}},t.bm=function(t,n){var r=n.eo;if(!Qr(t,n,8))return{gm:!1,Em:n.eo+8};var i=ni(t,n),e=si(t,n,4);if(1===i){if(!Qr(t,n,8)){var u=n.eo+8;return n.ro(r),{gm:!1,Em:u}}i=ii(t,n).toNumber()}if("uuid"===e){if(!Qr(t,n,16)){var s=n.eo+16;return n.ro(r),{gm:!1,Em:s}}e=si(t,n,16)}return{gm:!0,Tm:{Mu:e,Qs:i,Sm:n.eo-r}}},t.Rm=function(t,n,r){var i=t.Eu,e=t.tm,u=_i(mi(i),e.eo,i.byteLength);return r&&(u=Ti(u)),e.to(u.byteLength),{Mu:n,Eu:u}},t.Im=function(n,r,i){var e=Lw(n.um());return{Mu:r,Dm:e.version,Cm:e.flags,Eu:t.Rm(n,r,i).Eu}},t}();function Ow(t,n){var r=xw(t,n);if(!r)throw new h("Missing "+n+" atom");return r}function xw(t,n){for(var r=0;r<t.length;r++){var i=t[r];if(i.Mu===n)return i.Eu}}function Pw(t,n){for(var r=[],i=0;i<t.length;i++){var e=t[i];e.Mu===n&&r.push(e.Eu)}return r}function Lw(t){return{version:t>>24,flags:new Gr(16777215&t)}}var Fw=function(){function t(){}return t.Nm=function(n){for(var r=[],i=Aw.wm(new Cw(n,new Ei)),e=0;e<i.length;e++){var u=i[e],s=t.Am(u);s&&r.push(s)}return r},t.Om=function(t){return Aw.ym(t,new Ei,!1).wu.some(function(t){return t.Mu===Vl.Bp||t.Mu===Vl.Xp})},t.xm=function(n){return Pw(Aw.wm(new Cw(n,new Ei)),Vl.Wp).map(t.Pm)},t.Am=function(n){switch(n.Mu){case Vl.hp:return t.Lm(n.Eu);case Vl.Bp:return t.Fm(n.Eu,n.eo);case Vl.Hp:return t.Bm(n.Eu);case Vl.zp:return t.Mm(n.Eu);case Vl.$p:return t.Um(n.Eu)}},t.Lm=function(n){var r=Aw.wm(n),i=Ow(r,Vl.vp),e=Pw(r,Vl.dp),u=xw(r,Vl.bp),s=t.qm(i),o=e.map(t.Vm),c=u?t.jm(u):void 0;return{Mu:Vl.hp,Tm:s,Hm:o,Wm:c}},t.qm=function(t){var n=Lw(t.um()),r=n.version,i=n.flags,e=1===r?t.om():t.um(),u=1===r?t.om():t.um(),s=t.um(),o=1===r?t.om():t.um(),c=t.um(),a=t.rm()>>8;t.vm(2),t.vm(8);var f=t.am(9);t.vm(24);var h=t.um();return{Mu:Vl.vp,Dm:r,Cm:i,$m:e,zm:u,R_:s,Tw:o,Xm:c,Ow:a,Gm:f,Ym:h}},t.Vm=function(n){var r=Aw.wm(n),i=Ow(r,Vl.lp),e=Ow(r,Vl.wp),u=t.Km(i),s=t.Jm(e);return{Mu:Vl.dp,Tm:u,Qm:s}},t.Km=function(t){var n=Lw(t.um()),r=n.version,i=n.flags,e=1===r?t.om():t.um(),u=1===r?t.om():t.um(),s=t.um();t.vm(4);var o=1===r?t.om():t.um();t.vm(8);var c=t.im(),a=t.im(),f=t.im()/l.pow(2,8);t.vm(2);var h=t.am(9),v=t.um()/l.pow(2,16),d=t.um()/l.pow(2,16);return{Mu:Vl.lp,Zm:i.so(1),tk:i.so(2),nk:i.so(4),$m:e,zm:u,rk:s,Tw:o,ik:c,ek:a,Ow:f,Gm:h,sa:v,uk:d}},t.Jm=function(n){var r=Aw.wm(n),i=Ow(r,Vl.yp),e=Ow(r,Vl.gp),u=Ow(r,Vl._p),s=t.sk(i),o=t.ck(e),c=t.ak(u);return{Mu:Vl.wp,Tm:s,fk:o,hk:c}},t.sk=function(t){var n=Lw(t.um()),r=n.version,i=n.flags,e=1===r?t.om():t.um(),u=1===r?t.om():t.um(),s=t.um(),o=1===r?t.om():t.um();t.rm();return t.vm(2),{Mu:Vl.yp,Dm:r,Cm:i,$m:e,zm:u,R_:s,Tw:o}},t.ck=function(t){var n=Lw(t.um()),r=n.version,i=n.flags;t.vm(4);var e=t.fm(4);t.vm(12);var u=t.hm();return{Mu:Vl.gp,Dm:r,Cm:i,vk:e,iu:u}},t.ak=function(n){var r=Ow(Aw.wm(n),Vl.pp),i=t.dk(r);return{Mu:Vl._p,lk:i}},t.dk=function(n){var r=Ow(Aw.wm(n),Vl.mp),i=t.wk(r);return{Mu:Vl.pp,yk:i}},t.wk=function(n){for(var r=Lw(n.um()),i=r.version,e=r.flags,u=(n.um(),[]),s=Aw.wm(n),o=0;o<s.length;o++){var c=s[o],a=t.gk(c.Eu,c.Mu);a&&u.push(a)}return{Mu:Vl.mp,Dm:i,Cm:e,_k:u}},t.gk=function(n,r){var i=t.pk(n,r);return i||((i=t.mk(n,r))||(r===Vl.Op?t.kk(n):void 0))},t.pk=function(n,r){return r===Vl.Np?t.bk(n):r===Vl.Lp?t.Tk(n):void 0},t.mk=function(n,r){return r===Vl.Ep?t.Ek(n):r===Vl.Rp||r===Vl.Ip?t.Sk(n,r):r===Vl.Fp?t.Rk(n):void 0},t.Ik=function(t,n){return t.vm(6),{Mu:n,Dk:t.rm()}},t.Ck=function(n,r){var i=t.Ik(n,r);n.vm(8);var e=n.rm(),u=n.rm();n.vm(2),n.vm(2);var s=n.um()>>>16;return dn(dn({},i),{Nk:e,Ak:u,Ok:s})},t.xk=function(n,r){var i=t.Ik(n,r);n.vm(2),n.vm(2),n.vm(12);var e=n.rm(),u=n.rm(),s=n.um(),o=n.um();n.vm(4);var c=n.rm();n.vm(32);var a=n.rm();return n.vm(2),dn(dn({},i),{sa:e,uk:u,Pk:s,Lk:o,Fk:c,Bk:a})},t.bk=function(n){var r=t.Ck(n,Vl.Np),i=Ow(Aw.wm(n),Vl.Ap),e=t.Mk(i);return dn(dn({},r),{Uk:e})},t.kk=function(n){var r=t.Ik(n,Vl.Op),i=Aw.wm(n),e=Ow(i,Vl.xp),u=t.qk(e),s=xw(i,Vl.Pp),o=s?t.Vk(s):s;return dn(dn({},r),{jk:u,Hk:o})},t.qk=function(t){return{Mu:Vl.xp,Wk:t.hm()}},t.Vk=function(t){return{Mu:Vl.Pp,Nl:t.hm()}},t.Mk=function(t){return Aw.Im(t,Vl.Ap,!0)},t.Ek=function(n){var r=t.xk(n,Vl.Ep),i=Aw.wm(n),e=Ow(i,Vl.Sp),u=xw(i,Vl.Cp),s=t.$k(e),o=u?t.zk(u):void 0;return dn(dn({},r),{Xk:s,Gk:o})},t.Sk=function(n,r){var i=t.xk(n,r),e=Ow(Aw.wm(n),Vl.Dp),u=t.Yk(e);return dn(dn({},i),{Kk:u})},t.Rk=function(n){var r=n.io(),i=t.xk(n,Vl.Fp),e=Ow(Aw.wm(n),Vl.Yp),u=t.Jk(e),s=t.mk(r,u.Zk.Qk);return dn(dn({},i),{tb:s,nb:u})},t.Tk=function(n){var r=n.io(),i=t.Ck(n,Vl.Lp),e=Ow(Aw.wm(n),Vl.Yp),u=t.Jk(e),s=t.pk(r,u.Zk.Qk);return dn(dn({},i),{tb:s,nb:u})},t.Jk=function(n){var r=Ow(Aw.wm(n),Vl.Kp),i=t.rb(r);return{Mu:Vl.Yp,Zk:i}},t.rb=function(t){var n=t.fm(4);return{Mu:Vl.Kp,Qk:n}},t.$k=function(t){return Aw.Rm(t,Vl.Sp,!0)},t.Yk=function(t){return Aw.Rm(t,Vl.Dp,!0)},t.zk=function(t){var n=t.um(),r=t.um();return{Mu:Vl.Cp,ib:n,eb:r}},t.jm=function(n){var r=Pw(Aw.wm(n),Vl.Tp).map(t.ub);return{Mu:Vl.bp,Hm:r}},t.ub=function(t){var n=Lw(t.um()),r=n.version,i=n.flags,e=t.um(),u=t.um(),s=t.um(),o=t.um(),c=t.um();return{Mu:Vl.Tp,Dm:r,Cm:i,rk:e,sb:u,ob:s,cb:o,ab:c}},t.Fm=function(n,r){var i=Aw.wm(n),e=Ow(i,Vl.Mp),u=Pw(i,Vl.Up),s=t.fb(e),o=u.map(t.hb);return{Mu:Vl.Bp,vb:r,Tm:s,Hm:o}},t.fb=function(t){var n=Lw(t.um()),r=n.version,i=n.flags,e=t.um();return{Mu:Vl.Mp,Dm:r,Cm:i,lb:e}},t.hb=function(n){var r=Aw.wm(n),i=Ow(r,Vl.qp),e=Pw(r,Vl.Vp),u=xw(r,Vl.jp),s=t.wb(i),o=e.map(function(n){return t.yb(n,s)}),c=u?t.gb(u):void 0;return{Mu:Vl.Up,Tm:s,_b:o,pb:c}},t.wb=function(t){var n=Lw(t.um()),r=n.version,i=n.flags,e=t.um(),u=i.so(Hl.BASE_DATA_OFFSET_PRESENT)?t.om():void 0,s=i.so(Hl.SAMPLE_DESCRIPTION_INDEX_PRESENT)?t.um():void 0,o=i.so(Hl.DEFAULT_SAMPLE_DURATION_PRESENT)?t.um():void 0,c=i.so(Hl.DEFAULT_SAMPLE_SIZE_PRESENT)?t.um():void 0,a=i.so(Hl.DEFAULT_SAMPLE_FLAGS_PRESENT)?t.um():void 0;return{Mu:Vl.qp,Dm:r,Cm:i,rk:e,mb:u,kb:s,ob:o,cb:c,ab:a}},t.yb=function(n,r){for(var i=Lw(n.um()),e=i.version,u=i.flags,s=n.um(),o=u.so(Wl.DATA_OFFSET_PRESENT)?n.sm():void 0,c=u.so(Wl.FIRST_SAMPLE_FLAGS_PRESENT)?n.um():void 0,a=[],f=0;f<s;f++){var h=t.bb(n,u,e,r);0===f&&void 0!==c&&(h.Cm=c),a.push(h)}return{Mu:Vl.Vp,Dm:e,Cm:u,Tb:s,vb:o,Eb:c,Sb:a}},t.bb=function(t,n,r,i){return{Tw:n.so(Wl.SAMPLE_DURATION_PRESENT)?t.um():i.ob,Qs:n.so(Wl.SAMPLE_SIZE_PRESENT)?t.um():i.cb,Cm:n.so(Wl.SAMPLE_FLAGS_PRESENT)?t.um():i.ab,Rb:n.so(Wl.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT)?0===r?t.um():t.sm():void 0}},t.Um=function(t){var n,r,i,e=t.Eu,u=t.tm,s=Lw(ni(e,u)),o=s.version,c=s.flags,a=ui(e,u),f=ui(e,u),h=ni(e,u),v=ni(e,u),d=ni(e,u),l=ni(e,u),w=(n=mi(e),r=u.eo,i=e.byteLength,void 0===r&&(r=0),void 0===i&&(i=n.byteLength),n.slice?n.slice(r,i):Ti(_i(n,r,i)));return u.to(w.byteLength),{Mu:Vl.$p,Dm:o,Cm:c,Ib:a,su:f,R_:h,Db:v,Cb:d,Il:l,Nb:w}},t.Bm=function(t){return Aw.Rm(t,Vl.Hp,!1)},t.Pm=function(n){var r=n.Eu,i=n.tm,e=Ti(mi(r)).buffer,u=Lw(ni(r,i)),s=u.version,o=u.flags,c=t.Ab(r,i),a=[];if(s>0)for(var f=ni(r,i),h=0;h<f;h++){var v=Jr(r,i,16);a.push(v)}var d=ni(r,i),l=new _(e,i.eo,d);return i.to(r.byteLength),{Mu:Vl.Wp,Dm:s,Cm:o,Ob:c,xb:a,Pb:d,Eu:l,Lb:e}},t.Ab=function(t,n){for(var r="",i=0;i<4;i++){var e=Yr(t,n).toString(16);r+=1===e.length?"0"+e:e}r+="-";for(var u=0;u<2;u++){var s=Yr(t,n).toString(16);r+=1===s.length?"0"+s:s}r+="-";for(var o=0;o<2;o++){var c=Yr(t,n).toString(16);r+=1===c.length?"0"+c:c}r+="-";for(var a=0;a<2;a++){var f=Yr(t,n).toString(16);r+=1===f.length?"0"+f:f}r+="-";for(var h=0;h<6;h++){var v=Yr(t,n).toString(16);r+=1===v.length?"0"+v:v}return r.toLowerCase()},t.Mm=function(t){var n,r,i=t.Eu,e=t.tm,u=Lw(ni(i,e)),s=u.version,o=u.flags,c=ni(i,e),a=ni(i,e);0===s?(n=qt.fromBits(ni(i,e),0,!0),r=qt.fromBits(ni(i,e),0,!0)):(n=ii(i,e),r=ii(i,e)),e.to(2);for(var f=Zr(i,e),h=[],v=0;v<f;v+=1){var d=ni(i,e),l=d>>31&1,w=2147483647&d,y=ni(i,e),g=ni(i,e),_=g>>31&1,p=g>>28&7,m=268435455&g;h.push({Fb:l,Bb:w,Tw:y,Mb:_,Ub:p,qb:m})}return{Mu:Vl.zp,Dm:s,Cm:o,Vb:c,R_:a,jb:n,Hb:r,Wb:f,$b:h}},t.gb=function(t){var n,r=t.Eu,i=t.tm,e=Lw(ni(r,i)),u=e.version,s=e.flags;return n=0===u?qt.fromBits(ni(r,i),0,!0):ii(r,i),{Mu:Vl.jp,Dm:u,Cm:s,pb:n}},t}();function Bw(t){return t&&"lu"in t?t.lu:t}var Mw=function(t){function n(n,r,i,e,u,s,o){var c;return(c=t.call(this,n,r,i,e)||this).zb=u,c.Xb=s,c.Gb=o||void 0,c}return Gt(n,t),n.prototype.vg=function(n){return this===n||!!bv(this,n)&&(!!t.prototype.vg.call(this,n)&&(!!kv(this.Yb,n.Yb)&&(!!kv(this.sp,n.sp)&&(this.Kb&&n.Kb?!!this.Kb.tu(n.Kb)&&(this.ig&&n.ig?this.ig.tu(n.ig):this.ig===n.ig):this.Kb===n.Kb))))},P(n,[{key:"Yb",get:function(){return this.zb}},{key:"sp",get:function(){return this.Xb}},{key:"Kb",get:function(){return this.Gb}},{key:"Md",get:function(){var t;return this.Bd||(this.Bd=pv(pl(t=this),{get styles(){return t.Yb},get regions(){return t.sp},get metadata(){return Bw(t.Kb)},get content(){return Bw(t.ig)}})),this.Bd}}]),n}(bl),Uw=function(){function t(t,n,r){this.Jb=t,this.Qb=n,Yt(r)?this.Xf=function(t,n,r){for(var i=0,e=["begin","end","dur"];i<e.length;i++){var u=e[i];r._u(u)}return r}(0,0,r):this.Xf=r}return P(t,[{key:"Zb",get:function(){return this.Xf.nu(!0)}},{key:"ng",get:function(){return this.Jb}},{key:"rg",get:function(){return this.Qb}}]),t}();var qw="http://www.w3.org/XML/1998/namespace";function Vw(t,n){return function(t,n){var r=t.wu.slice(),i=[];for(;r.length>0;){var e=r.shift();n(e)?i.push(e):r.push.apply(r,e.wu)}return i}(t,function(t){return t.hu===n})}function jw(t,n){for(var r=t,i=0;i<n.length;i++){var e=n[i];r=r.replace(e+":","")}return r}function Hw(t,n){for(var r=t.bu,i={},e=0;e<r.length;e++)i[jw(r[e].iu,n)]=r[e].su;return i}var Ww=/^(\d\d+):(\d\d):(\d+)((\.(\d+))?|(:(\d\d+)(\.(\d+))?))$/,$w=/^(\d+)(\.(\d+))?(h|m|s|ms|f|t)$/,zw="http://www.w3.org/ns/ttml";function Xw(t,n,r){return void 0===r&&(r=Gl),function(t,n,r){var i=[],e=N.Qe(t);if(!e)return i;var u=e.Su;if("tt"!==u.ru)return i;var s=u&&u.vu(zw,"head")[0],o=u&&u.vu(zw,"body")[0],c=["ebutts","tts","xml"];if(!o||!s)return i;for(var a=function(t,n){for(var r={},i=t.vu(zw,"styling")[0],e=i&&i.vu(zw,"style")||[],u=0;u<e.length;u++){var s=e[u],o=s.gu(qw,"id");r[o]=Hw(s,n)}return r}(s,c),f=function(t,n){var r=mv(t),i=Jw(n.yu("tts:extent"));if(!i)return r;for(var e=0,u=d.keys(r);e<u.length;e++){var s=u[e],o=Jw(r[s].extent);if(o){var c=Yw(o[0],i[0]),a=Yw(o[1],i[1]);r[s].extent=c+" "+a}var f=Jw(r[s].origin);if(f){var h=Yw(f[0],i[0]),v=Yw(f[1],i[1]);r[s].origin=h+" "+v}}return r}(function(t,n){for(var r={},i=t.vu(zw,"layout")[0],e=i&&i.vu(zw,"region")||[],u=0;u<e.length;u++){var s=e[u],o=s.gu(qw,"id");if(o){r[o]=Hw(s,n);var c=ty(s,n);for(var a in c)z.call(c,a)&&(r[o][a]=c[a])}}return r}(s,c),u),h=s.vu(zw,"metadata")[0],v=function t(n,r,i,e){var u,s;var o=r;var c;var a=i;var f=[];var h=[];if(Yt(n)){o=null!==(u=Zw(n.yu("begin"),e))&&void 0!==u?u:o,c=Zw(n.yu("dur"),0),a=null!==(s=Zw(n.yu("end"),e))&&void 0!==s?s:void 0!==c?o+c:a;for(var v=n.fu,d=0;d<v.length;d++)("body"===n.ru||"div"===n.ru)&&v[d].ze>1||(f=f.concat(t(v[d],o,a,e)))}var l=function(t,n,r){var i=[];i.push(t,n);for(var e=0;e<r.length;e++){var u=r[e];i.push(u.ng,u.rg)}i.sort(Il);for(var s=i.length,o=0;o<s-1;o++)i[o+1]===i[o]&&(Jn(i,o+1),o--,s=i.length);return i}(o,a,f);for(var w=0;w<l.length-1;w++){var y=Qw(l[w],l[w+1],f);if(y.length<=0&&ny(n)){var g=n.nu(!1);h.push(new Uw(l[w],l[w+1],g))}else y.length>0&&function(){var t=n.nu(!1);y.forEach(function(n){return t.du(n.Zb)}),h.push(new Uw(l[w],l[w+1],t))}()}return h}(o,r.rp,r.ip,r.ep),l=0;l<v.length;l++){var w=v[l],y=Gw(f,w);i.push(new Mw(w.ng,w.rg,w.Zb,!1,a,y,h))}return i}(t,0,r)}function Gw(t,n){for(var r=function t(n){var r=[];var i;if(Yt(n)){(i=n.yu("region"))&&r.push(i);for(var e=n.fu,u=0;u<e.length;u++)r=r.concat(t(e[u]))}return r}(n.Zb),i={},e=0;e<r.length;e++){var u=r[e];i[u]=t[u]}return i}function Yw(t,n){var r=Kw(t),i=Kw(n);if(r&&i&&r===i){var e=Number(t.slice(0,-r.length)),u=Number(n.slice(0,-i.length));return g(e)||g(u)?t:e/u*100+"%"}return t}function Kw(t){return Un(t,"px")?"px":Un(t,"em")?"em":Un(t,"c")?"c":Un(t,"%")?"%":void 0}function Jw(t){if(t){var n=t.split(" ");if(2===n.length)return[n[0],n[1]]}}function Qw(t,n,r){for(var i=[],e=0;e<r.length;e++){var u=r[e].ng,s=r[e].rg;(u>=t&&s<=n||u<n&&s>=n||u<t&&s>t)&&i.push(r[e])}return i}function Zw(t,n){if(t){if(Ww.test(t)){var r=Ww.exec(t);if(!r)return;var i=Number(r[1])||0,e=Number(r[2])||0,u=Number(r[3])||0,s=r[6];return 3600*i+60*e+u+(s?Number(s)*l.pow(.1,s.length):0)-n}if($w.test(t)){var o=$w.exec(t);if(!o)return;var c,a=Number(o[1]);switch(o[4]){case"h":c=3600*a;break;case"m":c=60*a;break;case"s":c=a;break;case"ms":c=.001*a;break;case"f":case"t":default:c=NaN}return c-n}}}function ty(t,n){for(var r={},i=t.au("style")||[],e=0;e<i.length;e++){var u=Hw(i[e],n);for(var s in u)z.call(u,s)&&(r[s]=u[s])}return r}function ny(t){if(Yt(t)){var n=t.ru.toUpperCase(),r=Boolean(t.yu("smpte:backgroundImage"));return"BR"===n||r}return t.ze===Xt.Ye}function ry(t){var n=function(t){var n=N.Qe(t);if(n)return n.Su}(t);return"tt"===(null==n?void 0:n.ru)}var iy,ey=function(t){function n(){return t.apply(this,arguments)||this}Gt(n,t);var r=n.prototype;return r.vl=function(n){return t.prototype.vl.call(this,n)},r.dl=function(n){var r=t.prototype.dl.call(this,n);return r&&(n.Fl=Lv.Ul),r},r.Ud=function(){return Vv(this)},n}(dv),uy=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Hm=new ey,n.tT=function(t){t.qd.Fl!==Lv.Ul?n.nT(t.qd):n.rT(t.qd)},n}Gt(n,t);var r=n.prototype;return r.vl=function(t){t.Rs(sv.Jd,this.tT),this.Hm.vl(t)},r.dl=function(t){t.Ns(sv.Jd,this.tT),t.Fl=Lv.Ul,this.Hm.dl(t)},r.nT=function(t){},r.rT=function(t){},r.iT=function(){for(var t=0,n=this.Hm.yl;t<n.length;t++){var r=n[t];r.Ns(sv.Jd,this.tT),r.ai()}},r.wl=function(){return this.iT(),this.Hm.wl(),D.resolve()},r.ai=function(){var t=D.coroutine(vn.mark(function t(){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Cs(),t.next=3,this.wl();case 3:this.Hm.ai();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n}(gr);!function(t){t.eT="subtitles",t.uT="captions",t.sT="descriptions",t.oT="chapters",t.Qp="metadata",t.cT="thumbnails"}(iy||(iy={}));var sy=[iy.eT,iy.uT,iy.sT,iy.oT,iy.Qp,iy.cT];function oy(t){var n=String(t||"").toLowerCase();return function(t){return"string"==typeof t&&Qn(sy,t)}(n)?n:n?iy.Qp:iy.eT}var cy,ay=function(t){function n(n,r,i,e,u){var s;return(s=t.call(this,n,r,u)||this).url=i,s.status=e,s}return Gt(n,t),n}(Yi);function fy(t,n){return t===iy.cT||t===iy.Qp&&n===iy.cT}function hy(t,n,r,i){for(var e=0,u=t.Vl.yl;e<u.length;e++){var s=u[e];if(s.ng>r)break;n<=s.rg&&i.push(s)}}function vy(t,n){return Rl(t.Dl,n.Dl)}function dy(t,r){var i=r,e=0;if(t instanceof Ef&&t.name===bf.vv)i=t.Oh.Ph;else if(function(t){return t instanceof Rf}(t)){var u=t.gv;if(i=u.xh,0===(e=u.Ih))return new ay(n.ErrorCode.SUBTITLE_CORS_ERROR,"Could not load the subtitle file. Make sure the source is set correctly and that CORS support is enabled.",i,e,t)}return new ay(n.ErrorCode.SUBTITLE_LOAD_ERROR,"Could not load the subtitle file.",i,e,t)}function ly(t){switch(t){case hl.WEBVTT:return"WebVTT";case hl.SRT:return"SRT";case hl.TTML:return"TTML";default:return""}}function wy(t){return lw(ew(t))?hl.WEBVTT:ry(t)?hl.TTML:hl.SRT}!function(t){t.aT="vtt",t.Op="wvtt",t.fT="stpp"}(cy||(cy={}));var yy=function(t){function n(n){var r;return(r=t.call(this,Fv.Pl)||this).errorObject=n,r}return Gt(n,t),n.prototype.Ud=function(){return this},P(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(uv),gy=function(t){function r(n,r){var i;return(i=t.call(this)||this).hT=new nr,i.vT=n,i.dT=r,i}Gt(r,t);var i=r.prototype;return i.lT=function(t){if(t.src){var n=t.kind||iy.eT,r=this.vT.wT(n,t.label,t.srclang,t.default);return r.Hl=ls(t.src),this.vl(r),r}},i.yT=function(){var t=D.coroutine(vn.mark(function t(r,i){var e,u,s,o,c,a,f,h,v,d,l;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r.ql=fl.LOADING,e=new mf({Ph:r.Hl,Ch:Ms.Ye,Jh:wf.GET,ps:i}),t.prev=2,t.next=5,this.dT.Oh(e);case 5:return o=t.sent,s=o.Ih,t.next=9,o.hh();case 9:u=t.sent,t.next=18;break;case 12:return t.prev=12,t.t0=t.catch(2),ur(t.t0),r.ql=fl.ERROR,r.Es(new yy(dy(t.t0,r.Hl))),t.abrupt("return");case 18:for(t.prev=18,c=wy(u),r.Mu=c,a=[],c===hl.WEBVTT||c===hl.SRT?(f=iw(u),a=f.Vl):c===hl.TTML&&(a=Xw(u)),h=0,v=a;h<v.length;h++)d=v[h],r.gT(d);t.next=33;break;case 26:return t.prev=26,t.t1=t.catch(18),ur(t.t1),r.ql=fl.ERROR,l=ly(r.Mu),r.Es(new yy(new ay(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Could not parse the "+l+(l?" ":"")+"subtitle file.",r.Hl,s,t.t1))),t.abrupt("return");case 33:r.ql=fl.LOADED;case 34:case"end":return t.stop()}},t,this,[[2,12],[18,26]])}));return function(n,r){return t.apply(this,arguments)}}(),i.nT=function(t){Qn(this.Hm.yl,t)&&t.ql===fl.NONE&&this.yT(t,this.hT.ps).catch(sr)},i.Do=function(){},i.wl=function(){var n=D.coroutine(vn.mark(function n(){var r,i,e;return vn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(this.hT.ys(),this.hT=new nr,r=0,i=this.Hm.yl;r<i.length;r++)e=i[r],this.vT._T(e);return n.next=5,t.prototype.wl.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),r}(uy);function _y(t,n){for(var r=0;r<t.length;r++){var i=t[r];if(i.Cl===n&&i.pT)return i}}function py(t,n){my(_y(t.yl,n))}function my(t){void 0!==t&&(t.Fl=Lv.Bl)}function ky(t,n){my(_y(t.yl,n)||function(t,n){for(var r=0;r<t.length;r++){var i=t[r];if(i.Cl===n)return i}}(t.yl,n))}function by(t){for(var n=0;n<sy.length;n++){var r=sy[n];r===iy.oT?ky(t,r):py(t,r)}}var Ty=function(t){function n(){return t.call(this,Bs.Pa)||this}return Gt(n,t),n}(pr),Ey=function(){function t(t){var n=this;this.mT=[],this.kT=void 0,this.Yv=new nr,this.kn=function(){return 0===n.mT.length?n.bT?Sy(n.bT,n.Yv.ps).then(n.TT,n.TT):n.TT():n.mT.shift()().then(n.kn)},this.TT=function(){if(0!==n.mT.length)return n.kn();n.kT=void 0},this.bT=t}var n=t.prototype;return n.ET=function(t,n){var r=this;return new D(function(i){var e=new nr;e.gs(r.Yv.ps),n&&e.gs(n);var u=function(){e.as()};r.mT.push(function(){var n=Sy(t,e.ps);return i(n),n.then(u,u)}),r.kT||(r.kT=r.kn())})},n.ys=function(){return this.ST(!0)},n.ai=function(){return this.bT=void 0,this.ST(!1)},n.ST=function(t){var n=this.kT;return this.Yv.ys(),t&&(this.Yv=new nr),D.resolve(n)},t}();function Sy(t,n){return new D(function(r){return r(t(n))})}var Ry=function(t){function n(n){var r;return(r=t.call(this,Bs.wa)||this).errorObject=n,r}return Gt(n,t),P(n,[{key:"error",get:function(){return this.errorObject.message}},{key:"licenseAcquisitionURL",get:function(){return this.errorObject.url}},{key:"status",get:function(){return this.errorObject.status}},{key:"statusText",get:function(){return this.errorObject.statusText}},{key:"licenseAcquisitionMessage",get:function(){return this.errorObject.response}},{key:"systemCode",get:function(){return this.errorObject.systemCode}}]),n}(pr);function Iy(t,n){var r={};for(var i in t)d.prototype.hasOwnProperty.call(t,i)&&n.indexOf(i)<0&&(r[i]=t[i]);if(null!=t&&"function"==typeof d.getOwnPropertySymbols){var e=0;for(i=d.getOwnPropertySymbols(t);e<i.length;e++)n.indexOf(i[e])<0&&d.prototype.propertyIsEnumerable.call(t,i[e])&&(r[i[e]]=t[i[e]])}return r}var Dy,Cy="titanium",Ny="conax",Ay="ezdrm",Oy="irdeto",xy="vudrm",Py="verimatrix",Ly="keyos",Fy="drmtoday",By="expressplay",My="azure",Uy="xstream",qy="vimond",Vy="axinom",jy="uplynk",Hy="comcast",Wy="custom";function $y(t){return G(t.token&&t.deviceId)}function zy(t){var n,r=null===(n=t.fairplay)||void 0===n?void 0:n.headers;return void 0!==r&&G(r.PreAuthorization)}function Xy(t){var n=t;return $y(n)&&""!==n.token&&""!==n.deviceId&&!zy(n)}!function(t){t.RT=!1,t.IT=!1,t.DT=!1,t.CT=!1,t.LOG_ADS_DETAILS=!1,t.LOG_CHROMECAST_DETAILS=!1,t.LOG_CUSTOM_DRM=!1,t.LOG_BUFFERING_VIDEO_MAIN=!1,t.LOG_BUFFERING_VIDEO_SELECTION=!1,t.LOG_BUFFERING_AUDIO_MAIN=!1,t.LOG_BUFFERING_AUDIO_SELECTION=!1,t.NT=!1}(Dy||(Dy={}));var Gy,Yy=function(){function t(t,n,r){this.AT=t,this.lo=n,this.OT=r}return t.prototype.xT=function(t){return function(t){var n=t.onCertificateRequest;if(void 0!==n&&"function"!=typeof n)throw new v("ContentProtectionIntegration.onCertificateRequest is not a function.");var r=t.onCertificateResponse;if(void 0!==r&&"function"!=typeof r)throw new v("ContentProtectionIntegration.onCertificateResponse is not a function.");var i=t.onLicenseRequest;if(void 0!==i&&"function"!=typeof i)throw new v("ContentProtectionIntegration.onLicenseRequest is not a function.");var e=t.onLicenseResponse;if(void 0!==e&&"function"!=typeof e)throw new v("ContentProtectionIntegration.onLicenseResponse is not a function.");var u=t.extractFairplayContentId;if(void 0!==u&&"function"!=typeof u)throw new v("ContentProtectionIntegration.extractFairplayContentId is not a function.");return t}(this.OT.build(t))},P(t,[{key:"PT",get:function(){return this.AT}},{key:"Wo",get:function(){return this.lo}}]),t}();!function(t){t.FAILED="FAILED",t.OVERRIDDEN="OVERRIDDEN",t.SUCCEEDED="SUCCEEDED"}(Gy||(Gy={}));var Ky=function(){function t(){this.LT=[]}var r=t.prototype;return r.registerContentProtectionIntegration=function(t,r,i){switch(this.FT(t,r,i)){case Gy.FAILED:throw new Gd(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The keySystem should be 'widevine', 'playready' or 'fairplay', but was "+r+".");case Gy.OVERRIDDEN:var e=dg(r);N.vd("Warning: Overwriting an earlier registered integration for "+t+" and "+e+".");break;case Gy.SUCCEEDED:dg(r);0}},r.FT=function(t,n,r){var i=dg(n);if(!i)return Gy.FAILED;for(var e=Gy.SUCCEEDED,u=0,s=this.LT.slice();u<s.length;u++){var o=s[u];o.PT===t&&o.Wo===i&&(e=Gy.OVERRIDDEN,Kn(this.LT,o))}return this.LT.push(new Yy(t,i,r)),e},r.BT=function(t,n){return void 0!==this.MT(t,n)},r.UT=function(t,n,r){var i=this.MT(t,n);if(!i)throw h("No ContentProtectionIntegrationInit was found for integration id "+t+" and key system "+n);return i.xT(r)},r.MT=function(t,n){for(var r=0,i=this.LT;r<i.length;r++){var e=i[r];if(e.PT===t&&(!n||e.Wo===n))return e}},t}();Ky.qT=new Ky;var Jy={playready:"https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx",widevine:"https://wv-keyos.licensekeyserver.com/",fairplay:"https://fp-keyos.licensekeyserver.com/getkey"};function Qy(t){if(!t)return!0;var n=t.licenseAcquisitionURL,r=t.certificateURL,i=t.keys,e=t.headers,u=t.useCredentials,s=t.queryParameters,o=t.certificateRequestProcessor,c=t.certificateResponseProcessor,a=t.licenseRequestProcessor,f=t.licenseResponseProcessor;return!(n||r||i||e||u||s||o||c||a||f)}function Zy(t){return t&&void 0!==t.licenseAcquisitionURL}var tg=Zy,ng=Zy;function rg(t){if(!t)return!0;if(sg(t))return!1;var n=t.fairplay,r=t.playready,i=t.widevine,e=t.clearkey,u=t.aes128;return Qy(n)&&Qy(r)&&Qy(i)&&Qy(e)&&Qy(u)}function ig(t){var n=Xy(t),r=function(t){var n,r=t;return zy(r)&&""!==(null===(n=r.fairplay)||void 0===n?void 0:n.headers.PreAuthorization)&&!$y(r)}(t);return(!n||!r)&&(n||r)}function eg(t){return t.integration===Oy}function ug(t){var n=t;if(!n)return!1;if(rg(n))return!1;var r=n.fairplay,i=n.playready,e=n.widevine,u=n.clearkey;if(sg(t))return!0;if(r&&!function(t){var n=t;return n&&(void 0!==n.certificateURL||void 0!==n.certificate)}(r))return!1;if(i&&!tg(i))return!1;if(e&&!ng(e))return!1;if(u&&!function(t){var n=t;return n&&(void 0!==n.licenseAcquisitionURL||void 0!==n.keys)}(u))return!1;if(n.integration){if(Ky.qT.BT(n.integration))return!0;switch(n.integration){case Cy:if(!function(t){return t.integration===Cy&&(og(t)||cg(t))}(t))return!1;break;case xy:if(!ag(t))return!1;break;case Py:if(!function(t){return t.integration===Py}(t))return!1;break;case Oy:if(!eg(t))return!1;break;case Ny:if(!ig(t))return!1;break;case Ay:if(!function(t){return t.integration===Ay}(t))return!1;break;case Ly:if(!sg(t))return!1;break;case Fy:if(!function(t){var n=t;return n.integration===Fy&&(void 0!==n.token||function(t){return void 0!==t.merchant&&void 0!==t.sessionId&&void 0!==t.userId}(n))}(t))return!1;break;case By:if(!function(t){return t.integration===By}(t))return!1;break;case Uy:if(!fg(t))return!1;break;case qy:if(!function(t){return t.integration===qy}(t))return!1;break;case Vy:if(!hg(t))return!1;break;case My:if(!function(t){var n=t;return n.integration===My&&void 0!==n.token}(t))return!1;break;case jy:if(!function(t){return t.integration===jy}(t))return!1;break;case Hy:if(!function(t){var n=t;return n&&G(n.releasePid)&&G(n.accountId)&&G(n.token)}(t))return!1;break;case Wy:return!0;default:return!1}}return!0}function sg(t){return t.integration===Ly}function og(t){return void 0!==t.authToken}function cg(t){var n=t;return void 0!==n.accountName&&void 0!==n.customerName&&void 0!==n.portalId}function ag(t){var n=t;return n.integration===xy&&void 0!==n.token}function fg(t){var n=t;return n&&n.integration===Uy&&Z(n.ticketAcquisitionURL)&&Z(n.streamId)}function hg(t){var n=t;return n.integration===Vy&&void 0!==n.token}function vg(t,n){var r,i,e,u=n[t],s=null!==(r=null==u?void 0:u.licenseAcquisitionURL)&&void 0!==r?r:Jy[t],o=null!==(i=null==u?void 0:u.customdata)&&void 0!==i?i:n.customdata,c=o?{customData:o}:{},a=dn(dn({},null!==(e=null==u?void 0:u.headers)&&void 0!==e?e:{}),c),f=null!=u?u:{};f.customdata;return dn(dn({},Iy(f,["customdata"])),{licenseAcquisitionURL:s,headers:a})}function dg(t){switch(t.toLowerCase()){case"widevine":case Dn:return Dn;case"playready":case Sn:return Sn;case"fairplay":case Nn:return Nn}}function lg(t,r){switch(t){case bn:return function(t){for(var n={},r=Fw.xm(new DataView(t)),i=0;i<r.length;i++){var e=r[i];n[e.Ob]=e.Lb}return n}(r);case Tn:case En:return function(t){var n;return(n={})[Cn]=t,n}(r);default:throw new Yi(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Unsupported initDataType "+t)}}var wg=function(t){function n(n){var r;return(r=t.call(this)||this).VT=void 0,r.Yv=new nr,r.jT=n,r}Gt(n,t);var r=n.prototype;return r.HT=function(t){t&&(this.VT=t,this.WT(this.Yv.ps).catch(sr))},r.WT=function(){var t=D.coroutine(vn.mark(function t(n){var r;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.VT,!N.pd.ra){t.next=6;break}return t.next=4,this.$T(n);case 4:if(!t.sent){t.next=6;break}return t.abrupt("return");case 6:if(!r.zT){t.next=10;break}return t.next=9,this.XT(n);case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.$T=function(){var t=D.coroutine(vn.mark(function t(n){var r,i,e,u,s,o,c,a;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=this.VT,i=!1,e=0,u=r.GT;case 3:if(!(e<u.length)){t.next=25;break}s=u[e],o=0,c=s.YT;case 6:if(!(o<c.length)){t.next=20;break}return a=c[o],t.prev=8,t.next=11,this.KT(s.Wo.qu,a,n);case 11:i=!0,t.next=17;break;case 14:t.prev=14,t.t0=t.catch(8),ur(t.t0);case 17:o++,t.next=6;break;case 20:if(!i){t.next=22;break}return t.abrupt("return",!0);case 22:e++,t.next=3;break;case 25:return t.abrupt("return",!1);case 26:case"end":return t.stop()}},t,this,[[8,14]])}));return function(n){return t.apply(this,arguments)}}(),r.JT=function(t,n){return this.KT(t,n,this.Yv.ps)},r.wl=function(){return this.VT=void 0,this.Yv.ys(),this.Yv=new nr,this.QT()},r.ai=function(){var t=D.coroutine(vn.mark(function t(){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Cs(),t.next=3,this.wl();case 3:this.Yv.as();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.ZT=function(t,n){if(!this.VT)return!1;var r=lg(t,n);return Boolean(r[In])},P(n,[{key:"Wo",get:function(){return this.tE()}}]),n}(gr),yg=function(t){function n(){return t.call(this,Bs.ya)||this}return Gt(n,t),n}(pr),gg=function(t){function n(n){var r;return(r=t.call(this,"za")||this).nE=n,r}return Gt(n,t),n}(pr),_g=new Ey,pg=function(t){function r(r,i,e){var u;return(u=t.call(this)||this).rE=r,u.iE=i,u.eE=e,u.Mr=!1,u.uE=!1,u.Yv=new nr,u.po=function(t){switch(t.Ms){case"license-request":u.sE(t.Bs,t.Us).catch(function(t){return u.tc(t)});break;default:u.tc(new Gd(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Unsupported CDM message type: "+t.Ms))}},u.oE=function(t){u.rE.Po.Ys(function(t,n){switch(t){case"usable":N.So(function(){u.uE=!0,u.Es(new yg)},100);break;case"expired":case"status-pending":break;case"output-restricted":case"internal-error":u.Es(new gg(n))}})},u.cE=function(t){u.tc(new Gd(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Unknown CDM error"))},r.Rs("Bs",u.po),r.Rs("Fs",u.oE),r.Rs("qs",u.cE),u.Oo=r.Oo.then(function(){return u.aE()}),u}Gt(r,t);var i=r.prototype;return i.Io=function(){var t=this;return this.Mr=!0,_g.ET(function(n){return t.fE(n)},this.Yv.ps)},i.fE=function(){var t=D.coroutine(vn.mark(function t(r){var i,e,u;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,er(r),t.next=4,this.iE.hE(this.eE.$s);case 4:return i=t.sent,t.next=7,this.rE.Io(this.eE.qu,this.eE.$s,i);case 7:if(!this.iE.vE){t.next=10;break}return t.next=10,this.iE.Ps("persistenttokenavailable",r);case 10:t.next=19;break;case 12:throw t.prev=12,t.t0=t.catch(0),ur(t.t0),e=t.t0 instanceof Ni?t.t0.vo:void 0,u=new Gd(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while performing the CDM request",t.t0,void 0,void 0,void 0,void 0,e),this.tc(u),u;case 19:case"end":return t.stop()}},t,this,[[0,12]])}));return function(n){return t.apply(this,arguments)}}(),i.sE=function(){var t=D.coroutine(vn.mark(function t(r,i){var e,u;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i&&this.iE.dE(i),t.prev=1,!Ii(r)){t.next=8;break}return t.next=5,this.iE.lE(new _(r),this.Yv.ps);case 5:e=t.sent,t.next=11;break;case 8:return t.next=10,this.iE.wE(new _(r),this.Yv.ps);case 10:e=t.sent;case 11:t.next=18;break;case 13:if(t.prev=13,t.t0=t.catch(1),!ir(t.t0)){t.next=17;break}return t.abrupt("return");case 17:throw t.t0;case 18:return t.prev=18,t.next=21,this.rE.No(e);case 21:t.next=27;break;case 23:throw t.prev=23,t.t1=t.catch(18),u=t.t1 instanceof Ni?t.t1.vo:void 0,new Gd(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while applying license response",t.t1,void 0,void 0,void 0,void 0,u);case 27:case"end":return t.stop()}},t,this,[[1,13],[18,23]])}));return function(n,r){return t.apply(this,arguments)}}(),i.tc=function(t){var r=t instanceof Gd?t:new Gd(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.Es(new Ry(r)),this.Eo()},i.aE=function(){this.rE.Ns("Bs",this.po),this.rE.Ns("Fs",this.oE),this.rE.Ns("qs",this.cE),this.uE=!1,this.Yv.ys()},i.Eo=function(){var t=D.coroutine(vn.mark(function t(){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Cs(),this.aE(),t.next=4,this.rE.Eo().catch(it);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r}(gr),mg=[Bs.ya,Bs.wa,Bs.$a],kg=function(t){function n(n,r,i){var e;(e=t.call(this)||this).yE=[],e.gE=[],e.Fo=n,e.jT=i,e._E=r;var u=r.pE;return u&&hr(n.Mo(u)),e}Gt(n,t);var r=n.prototype;return r.mE=function(){return this.kE||(this.kE=this.bE()),this.kE},r.bE=function(){var t=D.coroutine(vn.mark(function t(){var n;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._E.lE(new _(Ri()));case 2:return n=t.sent,t.next=5,this.Fo.Mo(n.buffer);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.TE=function(){var t=D.coroutine(vn.mark(function t(n){var r,i,e=this;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.gE.push(n),t.next=4,this.Fo.Bo("temporary");case 4:return r=t.sent,i=new pg(r,this._E,n),this.yE.push(i),i.Rs(mg,this.Ts),i.Oo.then(function(){return e.EE(i)}),t.abrupt("return",i);case 10:return t.prev=10,Kn(this.gE,n),t.finish(10);case 13:case"end":return t.stop()}},t,this,[[0,,10,13]])}));return function(n){return t.apply(this,arguments)}}(),r.SE=function(t){if(t.RE)return!1;for(var n=0,r=this.yE;n<r.length;n++){if(bg(r[n].eE,t))return!0}for(var i=0,e=this.gE;i<e.length;i++){if(bg(e[i],t))return!0}return!1},r.EE=function(t){t.Ns(mg,this.Ts),Kn(this.yE,t)},r.ai=function(){var t=D.coroutine(vn.mark(function t(){var n;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Cs(),n=this.yE.slice(),this.yE.length=0,t.next=5,D.all(n.map(function(t){return t.Eo()}));case 5:this._E.ai();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),P(n,[{key:"IE",get:function(){return this._E.IE}},{key:"Wo",get:function(){return this._E.Wo}},{key:"DE",get:function(){return this._E.DE}},{key:"CE",get:function(){return this._E.CE}},{key:"NE",get:function(){return this._E.NE}}]),n}(gr);function bg(t,n){return!t.RE&&t.qu===n.qu&&Fr(t.$s,n.$s)}var Tg=function(t){function n(){return t.call(this,"persistenttokenavailable")||this}return Gt(n,t),n}(pr),Eg=function(t){function r(n,r,i,e,u){var s;return(s=t.call(this)||this).AE=void 0,s.Wo=n,s.IE=r,s.CE=i,s.dT=e,s.OE=u,s.DE=s.xE(r),s}Gt(r,t);var i=r.prototype;return i.PE=function(){return this.AE},i.dE=function(t){this.AE=t},i.LE=function(){return this.DE.licenseAcquisitionURL||this.PE()},i.hE=function(t){return D.resolve(void 0)},i.FE=function(){var t=D.coroutine(vn.mark(function t(r,i,e,u){var s,o;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==(s=this.BE(r,i,e,u)).Ph){t.next=3;break}throw new Gd(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 3:return t.prev=3,t.next=6,this.Cd.Oh(s);case 6:return o=t.sent,t.next=9,o.vh(i);case 9:return t.abrupt("return",t.sent);case 12:return t.prev=12,t.t0=t.catch(3),ur(t.t0),t.next=17,this.ME(t.t0,s.Ph,u);case 17:return t.abrupt("return");case 18:case"end":return t.stop()}},t,this,[[3,12]])}));return function(n,r,i,e){return t.apply(this,arguments)}}(),i.BE=function(t,n,r,i){var e=this.UE().Ja(),u=this.nv,s={Ph:this.qE(),Ch:n,Dh:e,yh:t,nv:u,Jh:wf.POST,Qh:0,ps:i,Mu:yf.Uh,Zh:r};return new mf(s)},i.sE=function(t,n){return D.resolve(t)},i.VE=function(t,n,r,i){return D.resolve(t)},i.UE=function(){return new Vs(this.DE.headers||{})},i.ME=function(){var t=D.coroutine(vn.mark(function t(r,i,e){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:throw new Gd(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during license server request",r);case 1:case"end":return t.stop()}},t)}));return function(n,r,i){return t.apply(this,arguments)}}(),i.qE=function(t,n){var r=n,i=this.DE.queryParameters;if(!r){var e=this.LE();if(!e)return"";r=e}if(i||t){var u=N.Xc(r);t&&ds(u,t),i&&ds(u,i),r=u.href}return r},i.jE=function(t){return function(t,n){var r=n.licenseResponseProcessor;return D.resolve(new _(Sg(t,r)))}(t,this.DE)},i.HE=function(){var t=D.coroutine(vn.mark(function t(n,r,i){var e,u,s;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.WE(n,i);case 2:return e=t.sent,t.next=5,this.FE(e,this.OE,r,i);case 5:return u=t.sent,t.next=8,this.jE(u);case 8:return s=t.sent,t.abrupt("return",s);case 10:case"end":return t.stop()}},t,this)}));return function(n,r,i){return t.apply(this,arguments)}}(),i.ai=function(){this.Cs()},P(r,[{key:"Cd",get:function(){return this.dT}},{key:"vE",get:function(){return!1}},{key:"pE",get:function(){var t=this.DE.certificate;if(t)return Z(t)?Ar(t):bi(t)}},{key:"$E",get:function(){return"optional"}},{key:"$o",get:function(){return!1}},{key:"NE",get:function(){return!1}},{key:"nv",get:function(){return Boolean(this.DE.useCredentials)}}]),r}(gr);function Sg(t,r){if(!t||!r||"function"!=typeof r)return t;try{return r(t)}catch(t){throw new Gd(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error while preprocessing DRM data",t)}}function Rg(t,n){var r=Ti(t).buffer,i=n.licenseRequestProcessor;return D.resolve(Sg(r,i))}var Ig,Dg=function(t){function n(n,r,i,e){return t.call(this,xn,n,r,i,e)||this}Gt(n,t);var r=n.prototype;return r.xE=function(t){return t.widevine||{}},r.lE=function(){var t=D.coroutine(vn.mark(function t(n,r){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.pE){t.next=2;break}return t.abrupt("return",this.pE);case 2:return t.abrupt("return",this.wE(new _(n),r));case 3:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),r.wE=function(n,r){return t.prototype.HE.call(this,n,gf.Hh,r)},n}(Eg);!function(t){t.Pu="Widevine",t.xu="PlayreadyV2",t.zE="PlayreadyV2",t.XE="PlayreadyV3",t.Lu="Fairplay"}(Ig||(Ig={}));var Cg={Widevine:{DRMProvider:"Google",DRMVersion:"1.4.8.86",DRMType:"Widevine"},PlayreadyV2:{DRMProvider:"Microsoft",DRMVersion:"2.9",DRMType:"Playready"},PlayreadyV3:{DRMProvider:"Microsoft",DRMVersion:"3",DRMType:"Playready"},Fairplay:{DRMProvider:"Apple",DRMType:"FairPlay",DRMVersion:"1.0"}};function Ng(t,n){var r,i,e,u,s=Cg[n],o=t.accountName;return{CustomerName:t.customerName,AccountName:o,PortalId:t.portalId,FriendlyName:t.friendlyName,DeviceInfo:{FormatVersion:"1",DeviceType:"PC",OSType:null===(r=N._d)||void 0===r?void 0:r.pd,OSVersion:null===(i=N._d)||void 0===i?void 0:i.Nd,DRMProvider:s.DRMProvider,DRMVersion:s.DRMVersion,DRMType:s.DRMType,DeviceVendor:null===(e=N._d)||void 0===e?void 0:e.Ad,DeviceModel:null===(u=N._d)||void 0===u?void 0:u.Od}}}function Ag(t,r){if(!t.accountName)throw new Gd(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+r+" DRM configuration, accountName is not set.");if(!t.customerName)throw new Gd(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+r+" DRM configuration, customerName is not set.");if(!t.portalId)throw new Gd(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+r+" DRM configuration, portalId is not set.");throw new Gd(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+r+" DRM configuration.")}function Og(t,n,r){var i;if(og(t))i={AuthToken:t.authToken,Payload:n};else{if(!cg(t))throw Ag(t,r);i={LatensRegistration:Ng(t,r),Payload:n}}return qr(JSON.stringify(i))}function xg(t,n,r){return Pg.apply(this,arguments)}function Pg(){return(Pg=D.coroutine(vn.mark(function t(r,i,e){var u,s,o,c;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u=r.gv){t.next=3;break}throw new Gd(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",r,i);case 3:return s=u,t.prev=4,t.next=7,s.fh(e);case 7:o=t.sent,c=Lg(o),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),c="";case 14:throw new Gd(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",r,s.Oh.Ph,s.Ih,s.Nh,c);case 15:case"end":return t.stop()}},t,null,[[4,11]])}))).apply(this,arguments)}function Lg(t){if(t){if(t.WvProxyErr)return t.WvProxyErr.desc;if(t.DrmErr)return t.DrmErr.desc}}var Fg=function(t){function r(n,r,i){var e;return(e=t.call(this,n,r,i,Ms.Ya)||this).GE=!0,e}Gt(r,t);var i=r.prototype;return i.ME=function(t,n,r){return xg(t,n,r)},i.WE=function(){var t=D.coroutine(vn.mark(function t(r,i){var e,u;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.IE){t.next=3;break}throw new Gd(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Widevine DRM configuration.");case 3:return u=xr(r),t.abrupt("return",Og(e,u,Ig.Pu));case 5:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),i.jE=function(t){var r;if(!t.license)throw new Gd(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Widevine license server");return r=Ar(t.license),D.resolve(r)},i.YE=function(t){return D.resolve(new _(t))},i.lE=function(){var t=D.coroutine(vn.mark(function t(n,r){var i,e;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.KE(),t.next=3,this.WE(n,r);case 3:return i=t.sent,t.next=6,this.FE(i,Ms.Ga,gf.Wh,r);case 6:return e=t.sent,t.next=9,this.YE(e);case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),i.wE=function(){var n=D.coroutine(vn.mark(function n(r,i){var e;return vn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.wE.call(this,r,i);case 2:return e=n.sent,this.KE(),n.abrupt("return",e);case 5:case"end":return n.stop()}},n,this)}));return function(t,r){return n.apply(this,arguments)}}(),i.KE=function(){this.Es(new Tg),this.GE=!1},P(r,[{key:"vE",get:function(){return this.GE}},{key:"$E",get:function(){return"required"}}]),r}(Dg),Bg=function(t){function r(n,r,i){var e;return(e=t.call(this,n,r,i,Ms.Ga)||this).dE("https://widevine-proxy.drm.technology/proxy"),e}return Gt(r,t),r.prototype.WE=function(){var t=D.coroutine(vn.mark(function t(r,i){var e,u,s,o;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Rg(r,this.DE);case 2:if(e=t.sent,u=this.CE,i=new _(e),s=[].slice.call(i),o=this.JE){t.next=8;break}throw new Gd(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The Widevine vuDRM token has not been correctly configured.");case 8:return t.abrupt("return",JSON.stringify({token:o,drm_info:s,kid:u}));case 9:case"end":return t.stop()}var i},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),P(r,[{key:"JE",get:function(){if(ag(this.IE))return this.IE.token}}]),r}(Dg);function Mg(t,n){var r=n||{};return t.ticket&&t.sessionId&&(r=dn(dn({},r),{SessionId:t.sessionId,Ticket:t.ticket})),dn(dn({},r),{CrmId:t.crmId,AccountId:t.accountId,ContentId:t.contentId})}var Ug=function(t){function n(n,r,i){var e;return(e=t.call(this,n,r,i,Ms.Ga)||this).dE("https://emeademo.dev.ott.irdeto.com/Widevine/getlicense"),e}Gt(n,t);var r=n.prototype;return r.WE=function(t,n){return Rg(t,this.DE)},r.qE=function(n,r){var i=n;return eg(this.IE)&&(i=Mg(this.IE,i)),t.prototype.qE.call(this,i,r)},n}(Dg),qg="Conax-Custom-Data";function Vg(t,n,r){var i=t&&ig(t)&&t;if(i&&!r.has(qg)){var e=Xy(i)?i.token:void 0,u=Xy(i)?i.deviceId:void 0,s=JSON.stringify({Version:"1.0.0",CxAuthenticationDataToken:e,CxClientInfo:{DeviceType:"Browser",DrmClientType:n+"-HTML5",DrmClientVersion:"1.0.0",CxDeviceId:u}});r.set(qg,s)}return r}var jg=function(t){function n(n,r,i){var e;return(e=t.call(this,n,r,i,Ms.Ga)||this).dE("https://connect.conax.com:8094/license"),e}Gt(n,t);var r=n.prototype;return r.WE=function(t,n){return Rg(t,this.DE)},r.UE=function(){var n=t.prototype.UE.call(this);return Vg(this.IE,"Widevine",n)},n}(Dg);function Hg(t){var n=hi(new _(t));return Ar(JSON.parse(n).license)}function Wg(t){return"string"==typeof t.token?t.token:qr(JSON.stringify({userId:t.userId,sessionId:t.sessionId,merchant:t.merchant}))}function $g(t,n,r){var i;return i=r.token?"x-dt-auth-token":"dt-custom-data",t.set(i,n),t}var zg=function(t){function n(n,r,i){var e;return(e=t.call(this,n,r,i,Ms.Ga)||this).dE("https://lic.drmtoday.com/license-proxy-widevine/cenc/"),e}Gt(n,t);var r=n.prototype;return r.WE=function(t,n){return Rg(t,this.DE)},r.jE=function(t){return D.resolve(Hg(t))},r.UE=function(){return $g(t.prototype.UE.call(this),this.JE,this.IE)},P(n,[{key:"JE",get:function(){return Wg(this.IE)}}]),n}(Dg),Xg=function(t){function n(n,r,i){return t.call(this,n,r,i,Ms.Ga)||this}Gt(n,t);var r=n.prototype;return r.WE=function(t,n){return Rg(t,this.DE)},r.UE=function(){var n=t.prototype.UE.call(this),r=this.IE.token;return n.set("Authorization","Bearer "+r),n},n}(Dg);function Gg(t,n,r,i){return Yg.apply(this,arguments)}function Yg(){return(Yg=D.coroutine(vn.mark(function t(r,i,e,u){var s,o,c,a,f,h,v;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(fg(r)){t.next=2;break}throw new Gd(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Xstream DRM Configuration");case 2:return(s=new Vs).append("Cache-Control","no-cache"),s.append("Content-Type","application/json"),(o=r.sessionId)&&s.append("XSSESSION",o),c=r.streamId,a=r.fairplay?"persistent"===r.fairplay.licenseType?"persistent":"non-persistent":r.widevine&&"persistent"===r.widevine.licenseType?"persistent":"non-persistent",f={drmType:i,licenseType:a,streamId:c},h={Ph:r.ticketAcquisitionURL,Ch:Ms.Ya,Dh:s,Jh:wf.POST,yh:JSON.stringify(f),ps:u},t.next=13,e.Oh(h);case 13:return v=t.sent,t.next=16,v.fh();case 16:return t.abrupt("return",t.sent);case 17:case"end":return t.stop()}},t)}))).apply(this,arguments)}var Kg=function(t){function n(n,r,i){return t.call(this,n,r,i,Ms.Ya)||this}Gt(n,t);var r=n.prototype;return r.UE=function(){var n=t.prototype.UE.call(this);return n.set("Content-Type","application/json"),n},r.WE=function(){var t=D.coroutine(vn.mark(function t(n,r){var i,e,u,s;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=Ur(n.buffer),e=this.IE,t.next=4,Gg(e,"widevine_modular",this.Cd,r);case 4:return u=t.sent,this.dE(u.licenseServerUrl),s=vi(JSON.stringify({payload:i,ticket:u.ticket})),t.abrupt("return",Rg(s,this.DE));case 8:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),r.jE=function(t){var n=t;return D.resolve(Ar(n.license))},n}(Dg),Jg=function(t){function r(n,r,i){return t.call(this,n,r,i,Ms.Ga)||this}Gt(r,t);var i=r.prototype;return i.WE=function(t,n){return Rg(t,this.DE)},i.UE=function(){if(!hg(this.IE))throw new Gd(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var r=t.prototype.UE.call(this);return r.set("X-AxDRM-Message",this.IE.token),r},r}(Dg);function Qg(t){for(var n=new _(2*t.length),r=0;r<t.length;r+=1)n[2*r]=t.charCodeAt(r),n[2*r+1]=0;return n}var Zg=function(t){function n(n,r,i){var e;return(e=t.call(this,On,n,r,i,Ms.Ga)||this).QE=void 0,e}Gt(n,t);var r=n.prototype;return r.xE=function(t){return t.playready||{}},r.UE=function(){var n=new Vs(this.QE);return n.Za(t.prototype.UE.call(this)),n},r.ZE=function(t){return t.length>=1&&t[0].fu.length>0},r.hE=function(n){var r=this.IE.playready.customData;if(r){var i=Qg(r),e=Qg('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">'+xr(i)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>");return D.resolve({playready:{uc:e}})}return t.prototype.hE.call(this,n)},r.WE=function(){var t=D.coroutine(vn.mark(function t(n,r){var i;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Rg(n,this.DE);case 2:return i=t.sent,t.abrupt("return",this.tS(i));case 4:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),r.tS=function(){var t=D.coroutine(vn.mark(function t(n){var r,i,e,u,s,o,c,a,f,h,v,d,l,w,y,g;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:s=null,o=new DataView(n),_=o,p=new Ei,void 0===(m=!0)&&(m=!1),c=ai(_,p,m,!0),t.prev=3,a=N.Qe(c),t.next=10;break;case 7:return t.prev=7,t.t0=t.catch(3),t.abrupt("return",s);case 10:for(f=null===(r=a.au("PlayReadyKeyMessage")[0])||void 0===r?void 0:r.au("LicenseAcquisition")[0],h=null!==(i=null==f?void 0:f.au("Challenge"))&&void 0!==i?i:[],this.ZE(h)&&(s=Mr(h[0].Tu)),v=new Vs,d=null!==(u=null===(e=null==f?void 0:f.au("HttpHeaders")[0])||void 0===e?void 0:e.au("HttpHeader"))&&void 0!==u?u:[],l=0;l<d.length;l++)w=d[l],y=w.au("name")[0].Tu,g=w.au("value")[0].Tu,v.append(y,g);return this.QE=v,t.abrupt("return",s);case 18:case"end":return t.stop()}var _,p,m},t,this,[[3,7]])}));return function(n){return t.apply(this,arguments)}}(),r.lE=function(t,n){return D.resolve(t)},r.wE=function(n,r){return t.prototype.HE.call(this,n,gf.$h,r)},P(n,[{key:"$o",get:function(){return Boolean(this.IE.playready.customData)}}]),n}(Eg),t_=function(){function t(n){this.nS=n,this.rS=t.iS(n)}return t.iS=function(t){return"3"===t.version?Ig.XE:Ig.zE},t.prototype.eS=function(){var t={};if(this.rS===Ig.XE){var n={LatensRegistration:Ng(this.nS,Ig.XE)};t["X-TITANIUM-DRM-CDATA"]=qr(JSON.stringify(n))}return t},P(t,[{key:"uS",get:function(){return this.rS}},{key:"$o",get:function(){return this.rS===Ig.zE}}]),t}();var n_=function(t){function r(n,r,i){var e;return(e=t.call(this,n,r,i)||this).sS=new t_(e.IE),e}Gt(r,t);var i=r.prototype;return i.hE=function(t){var r=this.IE;if(!this.IE)throw new Gd(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium PlayReady DRM configuration.");if(cg(r)){var i={};return i.playready={uc:r_(r,this.sS.uS)},D.resolve(i)}return D.reject(Ag(r,Ig.xu))},i.UE=function(){var n=new Vs(this.sS.eS());return n.Za(t.prototype.UE.call(this)),n},i.ME=function(){var t=D.coroutine(vn.mark(function t(r,i,e){var u,s,o,c,a,f,h,v;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=r.gv){t.next=3;break}throw new Gd(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",r,i);case 3:return t.prev=3,t.next=6,s.dh(e);case 6:a=t.sent,f=hi(new _(a)),(h=N.Qe(f))&&(v=Vw(h,"CustomData")).length>0&&(o=JSON.parse(v[0].Tu),c=null===(u=o.DrmErr)||void 0===u?void 0:u.desc),t.next=14;break;case 12:t.prev=12,t.t0=t.catch(3);case 14:throw new Gd(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",r,i,s.Ih,s.Nh,c);case 15:case"end":return t.stop()}},t,null,[[3,12]])}));return function(n,r,i){return t.apply(this,arguments)}}(),i.ZE=function(t){if(1!==t.length)throw new Gd(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"PlayReady license message incorrectly formatted, Challenge not found.");return!0},P(r,[{key:"$o",get:function(){return this.sS.$o}}]),r}(Zg);function r_(t,n){var r=Ng(t,n),i=r.DeviceInfo.FormatVersion,e=qr('<LatensRegistration formatversion="'+i+'"><AccountName>'+r.AccountName+"</AccountName><CustomerName>"+r.CustomerName+"</CustomerName><PortalID>"+r.PortalId+'</PortalID><DeviceInfo formatversion="'+i+'"><DeviceType>'+r.DeviceInfo.DeviceType+"</DeviceType><OSType>"+r.DeviceInfo.OSType+"</OSType><OSVersion>"+r.DeviceInfo.OSVersion+"</OSVersion><DRMProvider>"+r.DeviceInfo.DRMProvider+"</DRMProvider><DRMVersion>"+r.DeviceInfo.DRMVersion+"</DRMVersion><DRMType>"+r.DeviceInfo.DRMType+"</DRMType><DeviceVendor>"+r.DeviceInfo.DeviceVendor+"</DeviceVendor><DeviceModel>"+r.DeviceInfo.DeviceModel+"</DeviceModel></DeviceInfo></LatensRegistration>"),u=li(("<TitaniumCustomData>"+e+"</TitaniumCustomData>").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/&lt;/g,"<").replace(/&gt;/g,">"),!0);return li('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0"><CustomData encoding="base64encoded">'+xr(u)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>",!0)}var i_,e_=function(t){function r(n,r,i){var e;return(e=t.call(this,n,r,i)||this).dE("https://playready-license.drm.technology/rightsmanager.asmx"),e}Gt(r,t);var i=r.prototype;return i.ZE=function(t){if(1!==t.length)throw new Gd(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Vudrm PlayReady license message incorrectly formatted, Challenge not found.");return!0},i.qE=function(n,r){var i=dn(dn({},n||{}),{token:this.JE});return t.prototype.qE.call(this,i,r)},P(r,[{key:"JE",get:function(){if(ag(this.IE))return this.IE.token}}]),r}(Zg),u_=function(t){function n(n,r,i){var e;return(e=t.call(this,n,r,i)||this).dE("https://emeademo.dev.ott.irdeto.com/playready/rightsmanager.asmx"),e}return Gt(n,t),n.prototype.qE=function(n,r){var i=n;return eg(this.IE)&&(i=Mg(this.IE,i)),t.prototype.qE.call(this,i,r)},n}(Zg),s_=function(t){function n(n,r,i){var e;return(e=t.call(this,n,r,i)||this).dE("https://connect.conax.com:8010/cxplayready/rightsmanager.asmx"),e}return Gt(n,t),n.prototype.UE=function(){var n=t.prototype.UE.call(this);return Vg(this.IE,"PlayReady",n)},n}(Zg),o_=function(t){function n(n,r,i){var e;return(e=t.call(this,n,r,i)||this).dE("https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx"),e}Gt(n,t);var r=n.prototype;return r.jE=function(n){return(Mn(hi(new _(n)),"<?xml")?i_.oS:i_.fh)===i_.fh?D.resolve(Hg(n)):D.resolve(t.prototype.jE.call(this,new _(n)))},r.UE=function(){return $g(t.prototype.UE.call(this),this.JE,this.IE)},P(n,[{key:"JE",get:function(){return Wg(this.IE)}}]),n}(Zg);!function(t){t[t.oS=0]="oS",t[t.fh=1]="fh"}(i_||(i_={}));var c_,a_=function(t){function n(n,r,i){return t.call(this,n,r,i)||this}Gt(n,t);var r=n.prototype;return r.UE=function(){var n=t.prototype.UE.call(this);return this.cS&&n.set("Ticket",this.cS),n.set("Content-Type","text/xml"),n},r.WE=function(){var n=D.coroutine(vn.mark(function n(r,i){var e,u;return vn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e=this.IE,n.next=3,Gg(e,"playready",this.Cd,i);case 3:return u=n.sent,this.dE(u.licenseServerUrl),this.cS=u.ticket,n.abrupt("return",t.prototype.WE.call(this,r,i));case 7:case"end":return n.stop()}},n,this)}));return function(t,r){return n.apply(this,arguments)}}(),n}(Zg),f_=function(t){function r(){return t.apply(this,arguments)||this}return Gt(r,t),r.prototype.UE=function(){if(!hg(this.IE))throw new Gd(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var r=t.prototype.UE.call(this);return r.set("X-AxDRM-Message",this.IE.token),r},r}(Zg);!function(t){t.Ya="application/json",t.aS="application/x-www-form-urlencoded",t.fS="application/octet-stream",t.Ye="text/plain;charset=UTF-8"}(c_||(c_={}));var h_=function(t){function n(n,r,i,e,u){var s;return(s=t.call(this,n.Wo,r,i,e,u)||this).hS="",s.vS=void 0,s.dS=n.vc,s}Gt(n,t);var r=n.prototype;return r.lS=function(){return this.DE.certificateURL||this.vS},r.wS=function(t){this.vS=t},r.WE=function(){var t=D.coroutine(vn.mark(function t(n){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.yS(n,this.hS));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.yS=function(){var t=D.coroutine(vn.mark(function t(n,r){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return","spc="+encodeURIComponent(xr(n))+"&assetId="+encodeURIComponent(r));case 1:case"end":return t.stop()}},t)}));return function(n,r){return t.apply(this,arguments)}}(),r.xE=function(t){return t.fairplay||{}},r.gS=function(t){var n=t.indexOf("?");if(n>=0)return D.resolve(t.substr(n+1));var r=t.split("/");return D.resolve(r[r.length-1])},r.hE=function(){var t=D.coroutine(vn.mark(function t(n){var r,i,e,u;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=null!==(r=this.dS)&&void 0!==r?r:yi(new _(n)),t.next=3,this.gS(i);case 3:return e=t.sent,this.hS=e,(u={}).fairplay={vc:e},t.abrupt("return",u);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.UE=function(){var n=t.prototype.UE.call(this);return n.set("Content-Type",this._S),n},r.lE=function(){var t=D.coroutine(vn.mark(function t(n,r){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.pE){t.next=2;break}return t.abrupt("return",this.pE);case 2:return t.next=4,this.pS(r);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),r.wE=function(n,r){return t.prototype.HE.call(this,n,gf.Vh,r)},r.mS=function(t){var n=this.lS(),r=this.UE(),i={Ph:n,Ch:Ms.Ga,Dh:r,Jh:wf.GET,nv:!1,yh:null,Qh:0,ps:t,Mu:yf.Uh,Zh:gf.jh};return new mf(i)},r.pS=function(){var t=D.coroutine(vn.mark(function t(n){var r,i,e;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.mS(n),t.next=3,this.Cd.Oh(r);case 3:return i=t.sent,t.next=6,i.dh();case 6:return e=t.sent,t.abrupt("return",new _(e));case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.jE=function(t){var n;if("string"==typeof t){var r=t.trim();"<ckc>"===r.substr(0,5)&&"</ckc>"===r.substr(-6)&&(r=r.slice(5,-6)),n=Ar(r)}else n=new _(t);return D.resolve(n)},r.qE=function(n,r){var i=t.prototype.qE.call(this,n,r);return Mn(i,"skd:")&&(i=i.substr("skd:".length)),i},P(n,[{key:"NE",get:function(){return!0}},{key:"_S",get:function(){return c_.aS}}]),n}(Eg),v_=function(t){function n(n,r,i,e){return t.call(this,n,r,i,e,Ms.Ga)||this}Gt(n,t);var r=n.prototype;return r.gS=function(){var t=D.coroutine(vn.mark(function t(n){var r,i,e;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.split("://",1),i=r[0].slice(-3),r=n.split(";",2),e=r.length>1?r[1]:"",t.abrupt("return","skd"===i.toLowerCase()?e:"");case 5:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.WE=function(){var t=D.coroutine(vn.mark(function t(n){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.jE=function(t){return D.resolve(new _(t))},r.qE=function(n,r){var i=n||{};return i.p1=$t(),t.prototype.qE.call(this,i,r)},P(n,[{key:"_S",get:function(){return c_.fS}}]),n}(h_),d_=function(t){function r(n,r,i,e){var u;return(u=t.call(this,n,r,i,e,Ms.Ga)||this).dE("https://fairplay-license.drm.technology/license"),u.wS("https://fairplay-license.drm.technology/certificate"),u}Gt(r,t);var i=r.prototype;return i.yS=function(){var t=D.coroutine(vn.mark(function t(n,r){var i;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i={token:this.JE,contentId:r,payload:xr(n)},t.abrupt("return",JSON.stringify(i));case 2:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),i.jE=function(t){return D.resolve(new _(t))},i.UE=function(){var n=t.prototype.UE.call(this);return n.set("x-vudrm-token",this.JE),n},P(r,[{key:"_S",get:function(){return c_.Ya}},{key:"JE",get:function(){if(!ag(this.IE))throw new Gd(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Token is required for FairPlay VuDrm.");return this.IE.token}}]),r}(h_),l_="Verimatrix Fairplay license response incorrectly formatted. Invalid json.",w_="Verimatrix Fairplay license response incorrectly formatted. Ckc not found.",y_=function(t){function r(n,r,i,e){return t.call(this,n,r,i,e,Ms.Ga)||this}return Gt(r,t),r.prototype.jE=function(r){var i=function(t){var r;try{r=JSON.parse(t).ckc}catch(t){throw new Gd(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,l_)}if(!r)throw new Gd(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,w_);return r}(hi(new DataView(r)));return t.prototype.jE.call(this,i)},r}(h_);var g_=function(t){function r(n,r,i,e){return t.call(this,n,r,i,e,Ms.Ya)||this}Gt(r,t);var i=r.prototype;return i.WE=function(){var t=D.coroutine(vn.mark(function t(r){var i,e;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.IE){t.next=3;break}throw new Gd(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Fairplay DRM configuration.");case 3:return e=xr(r),t.abrupt("return",Og(i,e,Ig.Lu));case 5:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.jE=function(t){try{var r;if(Z(t)){var i=t.trim();r=JSON.parse(i)}else r=t;if(r.license){var e=Mr(r.license);return D.resolve(new _(e))}return D.reject(new Gd(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Titanium Fairplay license server"))}catch(t){return D.reject(new Gd(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Fairplay license server"))}},i.ME=function(t,n,r){return xg(t,n,r)},P(r,[{key:"_S",get:function(){return c_.Ya}}]),r}(h_),__=function(t){function n(n,r,i,e){var u;return(u=t.call(this,n,r,i,e,Ms.Ga)||this).dE("https://emeademo.dev.ott.irdeto.com/streaming/getckc"),u.wS("https://emeademo.dev.ott.irdeto.com/streaming/getcertificate"),u}Gt(n,t);var r=n.prototype;return r.lS=function(){var n=t.prototype.lS.call(this);if(!n)return n;var r=N.Xc(n),i=this.IE;return eg(i)&&ds(r,{accountId:i.accountId,applicationId:i.applicationId||""}),r.href},r.gS=function(){var n=D.coroutine(vn.mark(function n(r){return vn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!eg(this.IE)){n.next=2;break}return n.abrupt("return",this.IE.contentId);case 2:return n.abrupt("return",t.prototype.gS.call(this,r));case 3:case"end":return n.stop()}},n,this)}));return function(t){return n.apply(this,arguments)}}(),r.WE=function(){var t=D.coroutine(vn.mark(function t(n){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.jE=function(t){return D.resolve(new _(t))},r.qE=function(n,r){var i=n;return eg(this.IE)&&(i=function(t,n){return dn(dn({},Mg(t,n)),{KeyId:t.keyId})}(this.IE,i)),t.prototype.qE.call(this,i,r)},P(n,[{key:"_S",get:function(){return c_.fS}}]),n}(h_),p_=function(t){function r(r,i,e,u){var s;if(s=t.call(this,r,i,e,u,Ms.Ye)||this,!ig(i))throw new Gd(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Conax configuration");return s.dE("https://connect.conax.com:8097/license"),s}Gt(r,t);var i=r.prototype;return i.UE=function(){var n=t.prototype.UE.call(this);return Vg(this.IE,"FairPlay",n)},i.pS=function(){var t=D.coroutine(vn.mark(function t(n){var r,i,e,u;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.lS(),i={Ph:r,Ch:Ms.Ga,Dh:{},Jh:wf.GET,nv:!1,yh:null,Qh:0,ps:n,Mu:yf.Uh,Zh:gf.jh},t.next=4,this.Cd.Oh(i);case 4:return e=t.sent,t.next=7,e.dh();case 7:return u=t.sent,t.abrupt("return",new _(u));case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.WE=function(){var t=D.coroutine(vn.mark(function t(n){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.gS=function(t){var n,r=t.indexOf("?");return 0===t.indexOf("skd://")?(n=r>=0?t.substring("skd://".length,r):t.substring("skd://".length),D.resolve(hi(Ar(n)))):D.resolve("unknown")},i.jE=function(t){try{var n=JSON.parse(t);return D.resolve(new _(Mr(n.CkcMessage)))}catch(t){return D.reject("CFLRW-66")}},r}(h_),m_=function(t){function r(n,r,i,e){var u;return(u=t.call(this,n,r,i,e,Ms.Ye)||this).dE(Jy[kn.Lu]),u}Gt(r,t);var i=r.prototype;return i.gS=function(t){return 0===t.indexOf("skd://")?D.resolve(t.substring("skd://".length,40)):D.reject(new Gd(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error while determining the KeyOS Content ID."))},i.yS=function(){var t=D.coroutine(vn.mark(function t(n,r){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return","spc="+xr(n)+"&assetId="+r);case 1:case"end":return t.stop()}},t)}));return function(n,r){return t.apply(this,arguments)}}(),r}(h_),k_=function(t){function n(n,r,i,e){var u;return(u=t.call(this,n,r,i,e,Ms.Ye)||this).dE("https://lic.drmtoday.com/license-server-fairplay/"),u}Gt(n,t);var r=n.prototype;return r.yS=function(){var t=D.coroutine(vn.mark(function t(n,r){var i;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i="spc="+encodeURIComponent(xr(n))+"&"+encodeURI(r),"persistent"!==this.DE.licenseType){t.next=3;break}return t.abrupt("return",i+"&offline=true");case 3:return t.abrupt("return",i);case 4:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),r.UE=function(){return $g(t.prototype.UE.call(this),this.JE,this.IE)},P(n,[{key:"JE",get:function(){return Wg(this.IE)}}]),n}(h_),b_=function(t){function n(n,r,i,e){return t.call(this,n,r,i,e,Ms.Ga)||this}Gt(n,t);var r=n.prototype;return r.gS=function(t){var n=t;return Mn(n,"skd:")&&(n="http:"+n.substring(4)),Mn(n,"http:")||Mn(n,"https:")?D.resolve(N.Xc(n).hostname):D.reject(new h("Could not parse ExpressPlay FairPlay content ID."))},r.WE=function(){var t=D.coroutine(vn.mark(function t(n){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.jE=function(t){return D.resolve(new _(t))},P(n,[{key:"_S",get:function(){return c_.fS}}]),n}(h_),T_=function(t){function n(n,r,i,e){return t.call(this,n,r,i,e,Ms.Ye)||this}return Gt(n,t),n.prototype.UE=function(){var n=t.prototype.UE.call(this),r=this.IE.token;return n.set("Authorization","Bearer "+r),n},n}(h_),E_=function(t){function n(n,r,i,e){var u;if(u=t.call(this,n,r,i,e,Ms.Ya)||this,!fg(r))throw new h("Invalid Xstream DRM configuration");return u}Gt(n,t);var r=n.prototype;return r.pS=function(){var t=D.coroutine(vn.mark(function t(n){var r,i,e,u,s;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.lS(),i=this.UE(),e={Ph:r,Ch:Ms.Ya,Dh:i,Jh:wf.POST,ps:n,Mu:yf.Uh,Zh:gf.jh},t.next=5,this.Cd.Oh(e);case 5:return u=t.sent,t.next=8,u.fh();case 8:return s=t.sent,t.abrupt("return",new _(Ar(s.certificate)));case 10:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.wE=function(){var t=D.coroutine(vn.mark(function t(n,r,i){var e,u,s,o,c,a,f;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===i&&(i=Ms.Ye),e=xr(n),u=this.IE,t.next=5,Gg(u,"fairplay",this.Cd,r);case 5:return s=t.sent,o=vi(JSON.stringify({spc:e,ticket:s.ticket})),c={Ph:this.LE(),Ch:Ms.Ya,Dh:this.UE(),Jh:wf.POST,yh:o,Qh:0,ps:r,Mu:yf.Uh,Zh:gf.Vh},t.next=10,this.Cd.Oh(c);case 10:return a=t.sent,t.next=13,a.fh();case 13:return f=t.sent,t.abrupt("return",Ar(f.licence));case 15:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),P(n,[{key:"_S",get:function(){return c_.Ya}}]),n}(h_),S_=function(t){function r(n,r,i,e){return t.call(this,n,r,i,e,Ms.Ye)||this}Gt(r,t);var i=r.prototype;return i.yS=function(){var t=D.coroutine(vn.mark(function t(n,r){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",xr(n));case 1:case"end":return t.stop()}},t)}));return function(n,r){return t.apply(this,arguments)}}(),i.jE=function(r){if(0===r.length)throw new Gd(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Vimond license request error.");return t.prototype.jE.call(this,r)},i.UE=function(){var n=t.prototype.UE.call(this);return n.set("Content-Type","text/plain"),n},r}(h_),R_=function(t){function r(n,r,i,e){return t.call(this,n,r,i,e,Ms.Ga)||this}Gt(r,t);var i=r.prototype;return i.yS=function(){var t=D.coroutine(vn.mark(function t(n){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.jE=function(t){return D.resolve(new _(t))},i.UE=function(){if(!hg(this.IE))throw new Gd(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var r=t.prototype.UE.call(this);return r.set("X-AxDRM-Message",this.IE.token),r},P(r,[{key:"_S",get:function(){return c_.Ya}}]),r}(h_),I_=function(t){function r(n,r,i,e){var u;return(u=t.call(this,n,r,i,e,Ms.Ya)||this).kS=void 0,u}Gt(r,t);var i=r.prototype;return i.yS=function(){var t=D.coroutine(vn.mark(function t(n,r){var i;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i={spc:xr(n)},t.abrupt("return",JSON.stringify(i));case 2:case"end":return t.stop()}},t)}));return function(n,r){return t.apply(this,arguments)}}(),i.gS=function(t){var r=N.Xc(t);return this.kS=t,r.searchParams.has("b")?D.resolve(r.searchParams.get("b")):D.reject(new Gd(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error during license server request: Could not extract content id"))},i.qE=function(n,r){var i=this.LE();return!i&&this.kS&&(i=this.kS),i&&(i=i.replace("skd://","https://")),t.prototype.qE.call(this,n,r||i)},i.jE=function(){var t=D.coroutine(vn.mark(function t(r){var i;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(i=Z(r)?JSON.parse(r.trim()):r).ckc){t.next=4;break}return t.abrupt("return",Ar(i.ckc));case 4:t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(0),new Gd(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Uplynk Fairplay license server");case 9:throw new Gd(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Uplynk Fairplay license server");case 10:case"end":return t.stop()}},t,null,[[0,6]])}));return function(n){return t.apply(this,arguments)}}(),P(r,[{key:"_S",get:function(){return c_.Ye}}]),r}(h_),D_=function(){function t(t,n){this.bS=t,this.TS=n}var n=t.prototype;return n.ES=function(t){return this.bS(t)},n.SS=function(t,n){throw new v(n+" must be "+this.TS+". (Received: "+t+")")},t}(),C_=new D_(rt,"a number"),N_=new D_(Z,"a string"),A_=new D_(tt,"a boolean");var O_,x_=(O_={responseCode:C_,isException:A_,description:N_,title:N_,correlationId:N_},{ES:function(t){if(!J(t))return!1;for(var n=0,r=d.keys(O_);n<r.length;n++){var i=r[n];if(!O_[i].ES(t[i]))return!1}return!0},SS:function(t,n){if(!J(t))throw new v(n+" must be an object.");for(var r=0,i=d.keys(O_);r<i.length;r++){var e=i[r],u=O_[e];if(!u.ES(t[e]))return u.SS(t[e],n+"."+e)}throw new v}});function P_(t,n,r,i,e){return L_.apply(this,arguments)}function L_(){return(L_=D.coroutine(vn.mark(function t(n,r,i,e,u){var s;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=F_(n,r,i,u),t.next=3,B_(s,e);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t)}))).apply(this,arguments)}function F_(t,n,r,i){var e={token:n.token,account:n.accountId,form:"json"},u=decodeURIComponent(function(t,n){var r=N.Xc(t);return ds(r,n),r.toString()}(r,e)),s=new Vs({});s.append("Content-Type","application/json");var o=xr(t),c={getFairplayLicense:{releasePid:n.releasePid,spcMessage:o}};return{Ph:u,Ch:Ms.Ye,Dh:s,Jh:wf.POST,yh:JSON.stringify(c),ps:i,Mu:yf.Uh,Zh:gf.Vh}}function B_(t,n){return M_.apply(this,arguments)}function M_(){return(M_=D.coroutine(vn.mark(function t(r,i){var e,u;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.Oh(r);case 2:return e=t.sent,t.next=5,e.fh();case 5:if(u=t.sent,!x_.ES(u)){t.next=8;break}throw new Gd(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,u.description,void 0,r.Ph,u.responseCode);case 8:return t.abrupt("return",Ar(u.getFairplayLicenseResponse.ckcResponse));case 9:case"end":return t.stop()}},t)}))).apply(this,arguments)}var U_=function(t){function n(n,r,i,e){var u;return(u=t.call(this,n,r,i,e,Ms.Ga)||this).RS=r,u}Gt(n,t);var r=n.prototype;return r.gS=function(n){var r=n.replace("FairPlay",this.RS.releasePid);return t.prototype.gS.call(this,r)},r.wE=function(){var t=D.coroutine(vn.mark(function t(n,r){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P_(n,this.RS,this.LE(),this.Cd,r);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),n}(h_),q_=function(t){function r(n,r,i){return t.call(this,Ln,n,r,i,Ms.Ga)||this}Gt(r,t);var i=r.prototype;return i.xE=function(t){return t.clearkey||{}},i.WE=function(){var t=D.coroutine(vn.mark(function t(n,r){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Rg(n,this.DE));case 1:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),i.FE=function(){var r=D.coroutine(vn.mark(function r(i,e,u,s){var o,c;return vn.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(o=this.DE,!this.LE()){r.next=5;break}return r.abrupt("return",t.prototype.FE.call(this,i,this.OE,u,s));case 5:if(!o.keys||!o.keys.length){r.next=10;break}return c={keys:o.keys.map(function(t){var n=t;return n||(n={}),{kty:"oct",kid:n.id,k:n.value}})},r.abrupt("return",vi(JSON.stringify(c)).buffer);case 10:throw new Gd(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The clearkey license has not been configured correctly.");case 11:case"end":return r.stop()}},r,this)}));return function(t,n,i,e){return r.apply(this,arguments)}}(),i.lE=function(t,n){return D.resolve(new _(0))},i.wE=function(n,r){return t.prototype.HE.call(this,n,gf.zh,r)},r}(Eg),V_=function(t){function n(){return t.apply(this,arguments)||this}return Gt(n,t),n.prototype.WE=function(){var t=D.coroutine(vn.mark(function t(n,r){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Rg(n,this.DE));case 1:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),n}(Dg),j_={url:"",method:"GET",headers:{},body:null,useCredentials:!1};function H_(t,n,r){return W_.apply(this,arguments)}function W_(){return(W_=D.coroutine(vn.mark(function t(n,r,i){var e,u,s;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=ep(r),(u=n.onCertificateRequest)&&"function"==typeof u){t.next=5;break}return t.abrupt("return",D.resolve(r));case 5:return t.next=8,or(D.resolve(u.call(n,e)),i);case 8:if(!ki(s=t.sent)){t.next=11;break}return t.abrupt("return",bi(s));case 11:return t.abrupt("return",ip(dn(dn({},j_),s)));case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function $_(t,n,r,i,e){return z_.apply(this,arguments)}function z_(){return(z_=D.coroutine(vn.mark(function t(n,r,i,e,u){var s,o,c;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=n.onCertificateResponse,o=rp(r,i,e),s&&"function"==typeof s){t.next=5;break}return t.abrupt("return",D.resolve(r));case 5:return t.next=8,or(D.resolve(s.call(n,o)),u);case 8:return c=t.sent,t.abrupt("return",bi(c));case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function X_(t,n,r,i){return G_.apply(this,arguments)}function G_(){return(G_=D.coroutine(vn.mark(function t(n,r,i,e){var u;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,J_(n,r,i,e);case 2:if(!((u=t.sent)instanceof ArrayBuffer)){t.next=5;break}return t.abrupt("return",u);case 5:return t.abrupt("return",ip(u));case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Y_(t,n,r,i,e,u){return K_.apply(this,arguments)}function K_(){return(K_=D.coroutine(vn.mark(function t(n,r,i,e,u,s){var o,c;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=np(i,u),t.next=3,Z_(n,new _(r),o,e,s);case 3:return c=t.sent,t.abrupt("return",bi(c).buffer);case 5:case"end":return t.stop()}},t)}))).apply(this,arguments)}function J_(t,n,r,i){return Q_.apply(this,arguments)}function Q_(){return(Q_=D.coroutine(vn.mark(function t(n,r,i,e){var u,s,o;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u=null==n?void 0:n.onLicenseRequest,s=np(r,i),u&&"function"==typeof u){t.next=5;break}return t.abrupt("return",D.resolve(s));case 5:return t.next=8,or(D.resolve(u.call(n,s)),e);case 8:if(!ki(o=t.sent)){t.next=11;break}return t.abrupt("return",bi(o).buffer);case 11:return t.abrupt("return",dn(dn({fairplaySkdUrl:void 0},j_),o));case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Z_(t,n,r,i,e){return tp.apply(this,arguments)}function tp(){return(tp=D.coroutine(vn.mark(function t(n,r,i,e,u){var s,o,c;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=null==n?void 0:n.onLicenseResponse,o=rp(r,i,e),s&&"function"==typeof s){t.next=5;break}return t.abrupt("return",D.resolve(r));case 5:return t.next=8,or(D.resolve(s.call(n,o)),u);case 8:return c=t.sent,t.abrupt("return",bi(c));case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function np(t,n){return dn(dn({},ep(t)),{fairplaySkdUrl:n})}function rp(t,n,r){return{url:r.xh,status:r.Ih,statusText:r.Nh,headers:r.Dh.Ja(),body:t,request:n}}function ip(t){return new mf({Ph:t.url,Jh:t.method,Dh:t.headers,yh:t.body,nv:t.useCredentials})}function ep(t){var n;return{url:t.Ph,body:null!==(n=up(t.yh))&&void 0!==n?n:null,headers:t.Dh.Ja(),method:t.Jh,useCredentials:t.nv}}function up(t){if(t)return"string"==typeof t?vi(t):t instanceof ArrayBuffer?new _(t):Lr(t)?mi(t):void 0}var sp=function(t){function r(n,r,i,e){var u;return(u=t.call(this,n,r,i)||this).IS=e,u}Gt(r,t);var i=r.prototype;return i.lE=function(t,n){return D.resolve(t)},i.wE=function(){var t=D.coroutine(vn.mark(function t(r,i){var e,u,s,o,c;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.tS(Ti(r).buffer);case 2:return e=t.sent,u=this.BE(e,Ms.Ga,gf.$h,i),t.next=6,X_(this.IS,u,void 0,i);case 6:if(!((s=t.sent)instanceof ArrayBuffer)){t.next=10;break}return t.abrupt("return",new _(s));case 10:if(""!==s.Ph){t.next=12;break}throw new Gd(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 12:return t.prev=12,t.next=15,this.Cd.Oh(s);case 15:return o=t.sent,t.next=18,o.dh(i);case 18:return c=t.sent,t.t0=_,t.next=22,Y_(this.IS,c,u,o,void 0,i);case 22:return t.t1=t.sent,t.abrupt("return",new t.t0(t.t1));case 26:throw t.prev=26,t.t2=t.catch(12),ur(t.t2),new Gd(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during PlayReady license request",t.t2);case 30:case"end":return t.stop()}},t,this,[[12,26]])}));return function(n,r){return t.apply(this,arguments)}}(),r}(Zg),op=function(t){function r(n,r,i,e){var u;return(u=t.call(this,n,r,i,Ms.Ga)||this).IS=e,u}Gt(r,t);var i=r.prototype;return i.lE=function(){var t=D.coroutine(vn.mark(function t(r,i){var e,u,s,o,c;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.pE){t.next=2;break}return t.abrupt("return",this.pE);case 2:return e=this.BE(r,Ms.Ga,gf.Wh,i),t.next=5,H_(this.IS,e,i);case 5:if(!((u=t.sent)instanceof _)){t.next=9;break}return t.abrupt("return",u);case 9:if(""!==u.Ph){t.next=11;break}throw new Gd(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The certificate request URL has not been correctly configured.");case 11:return t.prev=11,t.next=14,this.Cd.Oh(u);case 14:return s=t.sent,t.next=17,s.dh(i);case 17:o=t.sent,t.next=24;break;case 20:throw t.prev=20,t.t0=t.catch(11),ur(t.t0),new Gd(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during Widevine certificate request",t.t0);case 24:return c=np(e,void 0),t.next=27,$_(this.IS,new _(o),c,s,i);case 27:return t.abrupt("return",t.sent);case 28:case"end":return t.stop()}},t,this,[[11,20]])}));return function(n,r){return t.apply(this,arguments)}}(),i.wE=function(){var t=D.coroutine(vn.mark(function t(r,i){var e,u,s,o;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.BE(r,Ms.Ga,gf.Hh,i),t.next=3,X_(this.IS,e,void 0,i);case 3:if(!((u=t.sent)instanceof ArrayBuffer)){t.next=7;break}return t.abrupt("return",new _(u));case 7:if(""!==u.Ph){t.next=9;break}throw new Gd(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return t.prev=9,t.next=12,this.Cd.Oh(u);case 12:return s=t.sent,t.next=15,s.dh(i);case 15:o=t.sent,t.next=22;break;case 18:throw t.prev=18,t.t0=t.catch(9),ur(t.t0),new Gd(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Widevine license request",t.t0);case 22:return t.t1=_,t.next=25,Y_(this.IS,o,e,s,void 0,i);case 25:return t.t2=t.sent,t.abrupt("return",new t.t1(t.t2));case 27:case"end":return t.stop()}},t,this,[[9,18]])}));return function(n,r){return t.apply(this,arguments)}}(),r}(V_),cp=function(t){function r(n,r,i,e,u){var s;return(s=t.call(this,n,r,i,e,Ms.Ga)||this).IS=u,s}Gt(r,t);var i=r.prototype;return i.lE=function(){var t=D.coroutine(vn.mark(function t(r,i){var e,u,s,o,c;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.pE){t.next=2;break}return t.abrupt("return",this.pE);case 2:return e=this.mS(i),t.next=5,H_(this.IS,e,i);case 5:if(u=t.sent,!Lr(u)){t.next=8;break}return t.abrupt("return",u);case 8:return t.prev=8,t.next=11,this.Cd.Oh(u);case 11:return s=t.sent,t.next=14,s.dh();case 14:return o=t.sent,c=np(e,void 0),t.next=18,$_(this.IS,new _(o),c,s,i);case 18:return t.abrupt("return",t.sent);case 21:throw t.prev=21,t.t0=t.catch(8),ur(t.t0),new Gd(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during FairPlay certificate request",t.t0);case 25:case"end":return t.stop()}},t,this,[[8,21]])}));return function(n,r){return t.apply(this,arguments)}}(),i.wE=function(){var t=D.coroutine(vn.mark(function t(r,i){var e,u,s,o;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.BE(r,Ms.Ga,gf.Vh,i),t.next=3,X_(this.IS,e,this.DS,i);case 3:if(!((u=t.sent)instanceof ArrayBuffer)){t.next=7;break}return t.abrupt("return",new _(u));case 7:if(""!==u.Ph){t.next=9;break}throw new Gd(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return t.prev=9,t.next=12,this.Cd.Oh(u);case 12:return s=t.sent,t.next=15,s.dh(i);case 15:return o=t.sent,t.t0=_,t.next=19,Y_(this.IS,o,e,s,this.DS,i);case 19:return t.t1=t.sent,t.abrupt("return",new t.t0(t.t1));case 23:throw t.prev=23,t.t2=t.catch(9),ur(t.t2),new Gd(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during FairPlay license request",t.t2);case 27:case"end":return t.stop()}},t,this,[[9,23]])}));return function(n,r){return t.apply(this,arguments)}}(),i.gS=function(){var n=D.coroutine(vn.mark(function n(r){var i;return vn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.DS=r,!(null===(i=this.IS)||void 0===i?void 0:i.extractFairplayContentId)){n.next=3;break}return n.abrupt("return",D.resolve(this.IS.extractFairplayContentId(r)));case 3:return n.abrupt("return",t.prototype.gS.call(this,r));case 4:case"end":return n.stop()}},n,this)}));return function(t){return n.apply(this,arguments)}}(),r}(h_),ap=function(){function t(){}var n=t.prototype;return n.CS=function(t,n){return new kg(t,n,this)},n.NS=function(t,n,r,i){switch(t.Wo.Mu){case kn.Pu:return this.AS(n,r,i);case kn.xu:return this.OS(n,r,i);case kn.Lu:return this.xS(t,n,r,i);case kn.Fu:default:return this.PS(n,r,i)}},n.AS=function(t,n,r){var i,e=(i=t).integration===Wy&&Z(i.customIntegrationId)?t.customIntegrationId:t.integration;if(e&&Ky.qT.BT(e,Dn)){var u=Ky.qT.UT(e,Dn,t);return new op(t,n,r,u)}switch(e){case Cy:return new Fg(t,n,r);case xy:return new Bg(t,n,r);case Oy:return new Ug(t,n,r);case Ny:return new jg(t,n,r);case Fy:return new zg(t,n,r);case My:return new Xg(t,n,r);case Uy:return new Kg(t,n,r);case Vy:return new Jg(t,n,r);case Ly:default:return new V_(t,n,r,Ms.Ga)}},n.OS=function(t,n,r){var i=t.integration;if(i&&Ky.qT.BT(i,Sn)){var e=Ky.qT.UT(i,Sn,t);return new sp(t,n,r,e)}switch(i){case Cy:return new n_(t,n,r);case xy:return new e_(t,n,r);case Oy:return new u_(t,n,r);case Ny:return new s_(t,n,r);case Fy:return new o_(t,n,r);case Uy:return new a_(t,n,r);case Vy:return new f_(t,n,r);case Ly:default:return new Zg(t,n,r)}},n.xS=function(t,n,r,i){var e=n.integration;if(e&&Ky.qT.BT(e,Nn)){var u=Ky.qT.UT(e,Nn,n);return new cp(t,n,r,i,u)}switch(e){case Ay:return new v_(t,n,r,i);case xy:return new d_(t,n,r,i);case Py:return new y_(t,n,r,i);case Cy:return new g_(t,n,r,i);case Oy:return new __(t,n,r,i);case Ny:return new p_(t,n,r,i);case Ly:return new m_(t,n,r,i);case Fy:return new k_(t,n,r,i);case By:return new b_(t,n,r,i);case My:return new T_(t,n,r,i);case Uy:return new E_(t,n,r,i);case qy:return new S_(t,n,r,i);case Vy:return new R_(t,n,r,i);case jy:return new I_(t,n,r,i);case Hy:return new U_(t,n,r,i);default:return new h_(t,n,r,i,Ms.Ye)}},n.PS=function(t,n,r){return new q_(t,n,r)},n.LS=function(t){return t.Mu===kn.xu||t.Mu===kn.Pu||t.Mu===kn.Lu||t.Mu===kn.Fu},t}();function fp(t,n){switch(n){case kn.Pu:return t.widevine;case kn.xu:return t.playready;case kn.Lu:return t.fairplay;default:return}}var hp,vp=function(t){function r(n,r,i){var e;return void 0===i&&(i=new ap),(e=t.call(this,i)||this).FS=void 0,e.lo=void 0,e.BS=new Ey,e.MS=function(){var t=D.coroutine(vn.mark(function t(n){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.JT(n.qu,n.$s);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),ir(t.t0)||e.tc(t.t0);case 8:case"end":return t.stop()}},t,null,[[0,5]])}));return function(n){return t.apply(this,arguments)}}(),e.US=function(t){e.Es(t)},e.qS=function(t){e.Es(t),e.Es(new xd(t.errorObject))},e.VS=n,e.dT=r,e.VS.Rs(yr.Vs,e.MS),e}Gt(r,t);var i=r.prototype;return i.tE=function(){var t;return null===(t=this.lo)||void 0===t?void 0:t.Wo},i.Uo=function(t){if(this.FS)throw new h("Invalid state");this.FS=t},i.HT=function(n){if(!this.FS)throw new h("Invalid state");t.prototype.HT.call(this,n)},i.KT=function(){var t=D.coroutine(vn.mark(function t(r,i,e){var u,s,o,c,a,f,h,v,d,l,w;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(er(e),i.byteLength){t.next=3;break}return t.abrupt("return");case 3:if(this.VT&&this.VT.GT.length){t.next=5;break}throw new Gd(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_MISSING,"Missing configuration for encrypted content");case 5:if(u=this.VT,r===bn||r===En||r===Tn){t.next=9;break}return t.abrupt("return");case 9:s=lg(r,i),c=0,a=u.GT;case 11:if(!(c<a.length)){t.next=42;break}if(f=a[c],er(e),(h=s[f.Wo.Vu])&&f.Wo.qu===r){t.next=17;break}return t.abrupt("continue",39);case 17:return t.prev=17,t.next=20,this.jS(f.Wo,e);case 20:if(!(v=t.sent).NE){t.next=24;break}return t.next=24,v.mE();case 24:if(d=this.VS.Ey,l={qu:f.Wo.qu,$s:h,RE:d},!this.HS(v,l)){t.next=32;break}return t.next=29,v.TE(l);case 29:return w=t.sent,t.next=32,w.Io();case 32:return t.abrupt("return");case 35:t.prev=35,t.t0=t.catch(17),ur(t.t0),o=t.t0;case 39:c++,t.next=11;break;case 42:return t.next=44,N.ts();case 44:if(!t.sent){t.next=48;break}throw new Gd(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported",o);case 48:throw new Gd(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Cannot create content decryption session",o);case 49:case"end":return t.stop()}},t,this,[[17,35]])}));return function(n,r,i){return t.apply(this,arguments)}}(),i.HS=function(t,n){return N.pd.na||!t.SE(n)},i.XT=function(){var t=D.coroutine(vn.mark(function t(n){var r,i,e,u,s;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.VT){t.next=3;break}return t.abrupt("return");case 3:i=0,e=r.GT;case 4:if(!(i<e.length)){t.next=23;break}return u=e[i],er(n),t.prev=7,t.next=10,this.jS(u.Wo,n);case 10:if(!(s=t.sent).NE){t.next=14;break}return t.next=14,s.mE();case 14:return t.abrupt("return");case 17:t.prev=17,t.t0=t.catch(7),ur(t.t0);case 20:i++,t.next=4;break;case 23:case"end":return t.stop()}},t,this,[[7,17]])}));return function(n){return t.apply(this,arguments)}}(),i.jS=function(t,n){var r=this;return this.BS.ET(function(n){return r.WS(t,n)},n)},i.WS=function(){var t=D.coroutine(vn.mark(function t(n,r){var i,e,u,s,o;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(er(r),this.VT){t.next=3;break}throw new h("Not initialized");case 3:if(!this.lo){t.next=7;break}if(this.lo.Wo===n){t.next=6;break}throw new h("Internal key system error");case 6:return t.abrupt("return",this.lo);case 7:if(this.jT.LS(n)){t.next=9;break}throw new h("Unsupported "+n.Hu+" key system");case 9:if(i=this.$S(n)){t.next=12;break}throw new h("Missing configuration for "+n.Hu+" key system");case 12:return e=this.VT,u=this.jT.NS(i,e.IE,i.CE,this.dT),t.next=16,this.jo(n,i,u,r);case 16:return s=t.sent,(o=this.jT.CS(s,u)).Rs(Bs.ya,this.US),o.Rs(Bs.wa,this.qS),o.Rs(Bs.$a,this.Ts),this.lo=o,t.abrupt("return",o);case 23:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),i.jo=function(){var t=D.coroutine(vn.mark(function t(n,r,i,e){var u,s,o,c,a,f,h,v;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return u=this.VT,s=n.qu,o=fp(u.IE,r.Wo.Mu),c=(null==o?void 0:o.persistentState)||i.$E,a=(null==o?void 0:o.distinctiveIdentifier)||void 0,f=Boolean(null==o?void 0:o.audioRobustness)||Boolean(null==o?void 0:o.videoRobustness),t.prev=6,er(e),h=dp(u,s,c,a,i.$o,(null==o?void 0:o.audioRobustness)||"SW_SECURE_CRYPTO",(null==o?void 0:o.videoRobustness)||"SW_SECURE_CRYPTO"),t.next=11,this.FS.zS(n,[h]);case 11:return t.abrupt("return",t.sent);case 14:if(t.prev=14,t.t0=t.catch(6),ur(t.t0),er(e),!f){t.next=20;break}throw t.t0;case 20:return v=dp(u,s,c,a,i.$o,void 0,void 0),t.next=23,this.FS.zS(n,[v]);case 23:return t.abrupt("return",t.sent);case 24:case"end":return t.stop()}},t,this,[[6,14]])}));return function(n,r,i,e){return t.apply(this,arguments)}}(),i.$S=function(t){if(this.VT)for(var n=0,r=this.VT.GT;n<r.length;n++){var i=r[n];if(i.Wo===t)return i}},i.tc=function(t){var r=t instanceof Gd?t:new Gd(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.qS(new Ry(r))},i.XS=function(){var t=D.coroutine(vn.mark(function t(){var n;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.BS.ys();case 2:if(!(n=this.lo)){t.next=8;break}return n.Ns(Bs.$a,this.Ts),this.lo=void 0,t.next=8,n.ai();case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.QT=function(){var t=D.coroutine(vn.mark(function t(){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.FS=void 0,t.next=3,this.XS();case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.ai=function(){var n=D.coroutine(vn.mark(function n(){return vn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.VS.Ns(yr.Vs,this.MS),n.next=3,t.prototype.ai.call(this);case 3:return n.next=5,this.BS.ai();case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),r}(wg);function dp(t,n,r,i,e,u,s){return{initDataTypes:[n],audioCapabilities:lp(t.GS,u),videoCapabilities:lp(t.YS,s),persistentState:r,distinctiveIdentifier:i,$o:e}}function lp(t,n){return t.length?t.map(function(t){return{contentType:t,robustness:n}}):void 0}!function(t){t[t.KS=0]="KS",t[t.JS=1]="JS"}(hp||(hp={}));var wp=t,yp=wp.MediaSource,gp=wp.WebKitMediaSource,_p=wp.TextTrack,pp=e&&e.createElement("video"),mp=(e&&e.documentElement.style,$.oe&&$.Fe&&$.Be<=26),kp=($.ke,!(!yp&&!gp)),bp=!!_p,Tp=(e&&(e.fullscreenEnabled||e.webkitFullscreenEnabled||e.mozFullScreenEnabled||e.msFullscreenEnabled)||$.pe,$.Oe&&$.xe,pp&&pp.canPlayType&&(""!==pp.canPlayType("application/vnd.apple.mpegURL")||$.fe&&!$.Oe&&$.he),pp&&pp.canPlayType&&""!==pp.canPlayType("video/mp4")&&!mp),Ep=kp&&!$.Pe&&!$.Ce&&!$.De&&((yp||gp).isTypeSupported?(yp||gp).isTypeSupported('audio/mp4; codecs="mp4a.40.34"'):pp&&pp.canPlayType&&""!==pp.canPlayType('audio/mp4; codecs="mp4a.40.34"'));kp&&!$.Pe&&(Ep||((yp||gp).isTypeSupported?(yp||gp).isTypeSupported("audio/mpeg"):pp&&pp.canPlayType&&pp.canPlayType("audio/mpeg"))),kp&&!($.Ae&&$.oe)&&(yp||gp).isTypeSupported&&(yp||gp).isTypeSupported('video/mp4; codecs="avc1.4d401e"'),$.Pe||$.Ce||$.De,$.Ne,$.Pe,$.Ce&&$.ce&&$.ae;try{i&&i.top!==i.self}catch(t){!0}var Sp,Rp=function(t){function n(n){var r;return(r=t.call(this,wd.mw)||this).currentTime=n,r}return Gt(n,t),n}(pr),Ip=function(t){function n(n){var r;return(r=t.call(this,wd.kw)||this).currentTime=n,r}return Gt(n,t),n}(pr),Dp=function(t){function n(n,r){var i;return void 0===r&&(r=!1),(i=t.call(this)||this).QS=n,i.ZS=r,i.tR=td.hw,i.nR=!0,i.rR=!1,i.iR=!1,i.eR=function(t){var n=t.readyState;n!==i.tR&&i.Es(t),n===td.hw&&(i.rR=!1,i.iR=!1),i.uR(n),i.sR(n),i.oR(n),i.maybeDispatchCanPlayThroughEvent(n),i.cR(n),i.aR(n),i.tR=n},i.fR=function(){i.aR(i.tR),i.cR(i.tR),i.nR=i.QS.Iw},i.hR=function(){i.nR=i.QS.Iw},i.QS.Rs(wd.Zd,i.eR),i.QS.Rs(Bs.Na,i.fR),i.QS.Rs(Bs.Ca,i.hR),i.ZS&&i.QS.Rs(wd.kw,i.Ts),i}Gt(n,t);var r=n.prototype;return r.uR=function(t){!this.iR&&t>=td.vw&&(this.iR=!0,this.Es(new kd(this.QS.bw,t)))},r.sR=function(t){!this.rR&&t>=td.dw&&(this.rR=!0,this.Es(new Rd(this.QS.bw,t)))},r.cR=function(t){this.ZS||(t>=td.lw&&this.tR<td.lw&&!this.QS.Iw||this.vR&&t>=td.lw)&&this.Es(new Ip(this.QS.bw))},r.aR=function(t){!this.dR(t)||this.QS.Ew||this.QS.qs||this.Es(new Rp(this.QS.bw))},r.oR=function(t){this.tR<=td.dw&&t>=td.lw&&this.Es(new Nd(this.QS.bw,t))},r.maybeDispatchCanPlayThroughEvent=function(t){t===td.ww&&this.Es(new Ad(this.QS.bw,t))},r.dR=function(t){var n=!this.QS.Iw&&t<=td.dw,r=!this.nR&&this.tR<=td.dw;return n&&!r},r.wl=function(){this.tR=td.hw,this.nR=!0,this.rR=!1,this.iR=!1},r.ai=function(){this.Cs(),this.ZS&&this.QS.Ns(wd.kw,this.Ts),this.QS.Ns(Bs.Na,this.fR),this.QS.Ns(Bs.Ca,this.hR),this.QS.Ns(wd.Zd,this.eR)},P(n,[{key:"vR",get:function(){return!this.QS.Iw&&this.nR}}]),n}(gr);!function(t){t.lR="nokey",t.wR="keyexpired",t.yR="sessionnotopened",t.gR="insufficientoutputprotection",t._R="insufficientsecurity",t.pR="frametoolarge",t.mR="loststate",t.kR="resourcebusy",t.bR="unsupportedoperation"}(Sp||(Sp={}));var Cp,Np,Ap=[Sp.bR,Sp.kR,Sp.mR,Sp.pR,Sp._R,Sp.gR,Sp.yR,Sp.wR,Sp.lR],Op=[Bs.ya,Bs.wa,Fv.Pl];[].concat(mg,[Fv.Pl],Ap);!function(t){t.Yh="video",t.Gh="audio"}(Cp||(Cp={})),function(t){t[t.TR=0]="TR",t[t.ER=1]="ER",t[t.SR=2]="SR",t[t.RR=3]="RR",t[t.ew=4]="ew",t[t.IR=5]="IR",t[t.fw=6]="fw",t[t.DR=7]="DR",t[t.CR=8]="CR"}(Np||(Np={}));var xp,Pp=function(){function t(){}return t.prototype.NR=function(t){},P(t,[{key:"AR",get:function(){return 0}},{key:"OR",get:function(){return 0}}]),t}();function Lp(){return xp||(xp=S&&S.document&&S.document.createElement("video")),xp}var Fp=function(t){function r(r,i,e,u,s,o,c){var a;return void 0===o&&(o=new ap),void 0===c&&(c=le()),(a=t.call(this)||this).FS=void 0,a.xR=void 0,a.PR=void 0,a.LR=void 0,a.FR=new Pp,a.MR=function(t){var r=t.qs,i=r.code,e=new Yi(function(t){switch(t){case $d.ABORTED:return n.ErrorCode.MEDIA_ABORTED;case $d.NETWORK:return n.ErrorCode.NETWORK_ERROR;case $d.DECODE:return n.ErrorCode.MEDIA_DECODE_ERROR;case $d.SRC_NOT_SUPPORTED:return n.ErrorCode.SOURCE_NOT_SUPPORTED;case $d.ENCRYPTED:return n.ErrorCode.CONTENT_PROTECTION_ERROR;case $d.LICENSE_INVALID:return n.ErrorCode.LICENSE_ERROR;case $d.ADVERTISEMENT_ERROR:return n.ErrorCode.AD_ERROR}}(i),"Something went wrong during native playback.",r);a.xR=new Yd(i,e.message,r.message),a.PR=e,a.Es(new xd(e))},a.UR=function(){a.Es(new Ed(a.bw,a.by))},a.qR=function(t){a.Iw||(a.LR=void 0),a.Es(t)},a.jR=function(t){a.LR=void 0,a.Es(t)},a.HR=function(){a.Es(new yl(a.Ey))},a.WR=function(){a.Aw>0&&a.Nw>0&&a.Es(new Ty)},a.$R=function(t){a.Hw.vl(new cl(t.track))},a.zR=function(t){var n=Mp(a.Hw,t.track);n&&a.Hw.dl(n)},a.XR=function(){a.GR(a.Hw)},a.YR=function(t){a.Ww.vl(new wl(t.track))},a.KR=function(t){var n=Mp(a.Ww,t.track);n&&a.Ww.dl(n)},a.JR=function(){a.GR(a.Ww)},a.QR=function(t){t.type===Bs.wa&&(a.xR=Jd(t.errorObject),a.PR=t.errorObject),a.Ts(t)},a.ZR=i,a.dT=e,a.zu=c,a.VS=a.ZR.ii(Qd.Yh),a.tI=a.VS.nI.preload,a.jT=o,a.rI=new Dp(a.VS,!0),a.rI.Rs(md,a.Ts),a.iI=new vp(a.VS,a.dT,a.jT),a.iI.Rs(Op,a.QR),a.eI(),a.Hw=new Zd,a.Ww=new Zd,a.uI(),a.sI=new gy(a.VS,a.dT),a.$w=new Hv,a.ay(),a}Gt(r,t);var i=r.prototype;return i.hy=function(){this.VS.hy()},i.ay=function(){this.VS.ay()},i.ny=function(){var t=D.coroutine(vn.mark(function t(n,r,i){var e;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return er(i),e={Mu:hp.KS,Hl:n.src,wh:n.type,oI:[],xy:this.tI,cI:n.crossOrigin,aI:r.metadata&&r.metadata.title},t.next=4,this.VS.Do(e);case 4:return this.FS=t.sent,er(i),t.next=8,this.iI.wl();case 8:this.iI.Uo(this.FS),this.iI.HT(this.fI(n)),this.$w.Tl=this.VS.Jw,r.textTracks&&this.hI(r.textTracks),by(this.Jw);case 13:case"end":return t.stop()}},t,this)}));return function(n,r,i){return t.apply(this,arguments)}}(),i.hI=function(t){for(var n,r=0;r<t.length;r++){var i=t[r];if(this.VS.vI()&&$.pe&&bp&&!fy(i.kind,i.label)&&this.dI(i)){var e=null!==(n=i.kind)&&void 0!==n?n:iy.eT;this.VS.lI(i.src,e,i.label,i.srclang)}else{if(void 0===i.src)continue;this.sI.lT(i)}}},i.dI=function(t){return!t.format||"webvtt"===t.format},i.ei=function(){var t=D.coroutine(vn.mark(function t(){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.VS.ei();case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:if(this.wI){t.next=12;break}return t.next=10,this.VS.Ps(Bs.Aa);case 10:t.next=7;break;case 12:case"end":return t.stop()}},t,this,[[0,5]])}));return function(){return t.apply(this,arguments)}}(),i.ui=function(){this.VS.ui()},i.iy=function(){return void 0!==this.VS.nI.webkitShowPlaybackTargetPicker},i.ey=function(){this.VS.nI.webkitShowPlaybackTargetPicker&&this.VS.nI.webkitShowPlaybackTargetPicker()},i.uy=function(){this.VS.nI.webkitShowPlaybackTargetPicker&&this.VS.nI.webkitShowPlaybackTargetPicker()},i.vy=function(){return this.VS.nI},i.ly=function(){return this.VS.yI},i.wl=function(){var t=D.coroutine(vn.mark(function t(){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.xR=void 0,this.PR=void 0,this.FS&&(this.FS=void 0),this.$w.wl(),t.next=6,this.VS.wl();case 6:return this.rI.wl(),t.next=9,this.iI.wl();case 9:return this.xy=this.tI,this.Yw.wl(),this.Kw.wl(),t.next=14,this.sI.wl();case 14:this.LR=void 0;case 15:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.ai=function(){var t=D.coroutine(vn.mark(function t(){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.wl();case 2:return this.Cs(),this.gI(),this._I(),t.next=7,this.iI.ai();case 7:return this.rI.ai(),t.next=10,this.ZR.oi(this.VS);case 10:return this.Hw.ai(),this.Ww.ai(),this.$w.ai(),t.next=15,this.sI.ai();case 15:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.eI=function(){this.VS.Rs(Bs.Na,this.Ts),this.VS.Rs(Bs.Ca,this.Ts),this.VS.Rs(Bs.Ha,this.UR),this.VS.Rs(Bs.Aa,this.Ts),this.VS.Rs(Bs.Ea,this.Ts),this.VS.Rs(Bs.Fa,this.Ts),this.VS.Rs(Bs.La,this.qR),this.VS.Rs(Bs.ka,this.Ts),this.VS.Rs(Bs.Oa,this.Ts),this.VS.Rs(Bs.Wa,this.Ts),this.VS.Rs(Bs.pa,this.Ts),this.VS.Rs(Bs.Pa,this.WR),this.VS.Rs(wd.kw,this.jR),this.VS.Rs(Fv.Pl,this.MR),this.VS.nI.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.HR)},i.gI=function(){this.VS.Ns(Bs.Na,this.Ts),this.VS.Ns(Bs.Ca,this.Ts),this.VS.Ns(Bs.Ha,this.UR),this.VS.Ns(Bs.Aa,this.Ts),this.VS.Ns(Bs.Ea,this.Ts),this.VS.Ns(Bs.Fa,this.Ts),this.VS.Ns(Bs.La,this.qR),this.VS.Ns(Bs.ka,this.Ts),this.VS.Ns(Bs.Oa,this.Ts),this.VS.Ns(Bs.Wa,this.Ts),this.VS.Ns(Bs.pa,this.Ts),this.VS.Ns(Bs.Pa,this.WR),this.VS.Ns(wd.kw,this.jR),this.VS.Ns(Fv.Pl,this.MR),this.VS.nI.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.HR)},i.fI=function(t){if(t.contentProtection&&t.contentProtection.fairplay){return{IE:t.contentProtection||{},GT:[{Wo:Pn,YT:[],CE:void 0,vc:void 0}],GS:[],YS:["video/mp4"]}}},i.uI=function(){var t=this.VS.nI.audioTracks,n=this.VS.nI.videoTracks;t&&(t.addEventListener("addtrack",this.$R),t.addEventListener("removetrack",this.zR),t.addEventListener("change",this.XR)),n&&(n.addEventListener("addtrack",this.YR),n.addEventListener("removetrack",this.KR),n.addEventListener("change",this.JR))},i._I=function(){var t=this.VS.nI.audioTracks,n=this.VS.nI.videoTracks;t&&(t.removeEventListener("addtrack",this.$R),t.removeEventListener("removetrack",this.zR),t.removeEventListener("change",this.XR)),n&&(n.removeEventListener("addtrack",this.YR),n.removeEventListener("removetrack",this.KR),n.removeEventListener("change",this.JR))},i.GR=function(t){for(var n=0;n<t.gl;n++){t.hl(n).Hy()}},i.my=function(){this.iI.XS().then(it)},P(r,[{key:"wI",get:function(){var t=this.VS.ky,n=this.bw;return t.pI(n,.01)}},{key:"Yw",get:function(){return this.Hw}},{key:"ky",get:function(){return this.VS.ky.mI()}},{key:"by",get:function(){return this.VS.by},set:function(t){t&&this.VS.kI(t)}},{key:"bw",get:function(){return void 0!==this.LR?this.LR:this.VS.bw},set:function(t){this.Ey&&(this.LR=t),this.VS.ro(t)}},{key:"Tw",get:function(){return this.VS.Tw}},{key:"Ew",get:function(){return this.VS.Ew}},{key:"qs",get:function(){return this.xR}},{key:"Sw",get:function(){return this.PR}},{key:"Qw",get:function(){}},{key:"Ey",get:function(){return this.VS.Ey}},{key:"qw",get:function(){return dn(dn({},{Sy:0,Ry:0,Iy:0,Dy:0,Cy:0,Ny:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}),this.VS.bI())}},{key:"Rw",get:function(){return this.VS.Rw},set:function(t){this.VS.Rw=t}},{key:"Ay",get:function(){return!0}},{key:"Iw",get:function(){return this.VS.Iw}},{key:"Dw",get:function(){return this.VS.Dw},set:function(t){this.VS.Dw=t}},{key:"Oy",get:function(){return this.VS.nI.played}},{key:"xy",get:function(){return this.tI},set:function(t){this.tI=t,this.FS&&(this.FS.xy=t)}},{key:"ql",get:function(){return this.VS.ql}},{key:"Py",get:function(){return this.VS.Py.mI()}},{key:"Cw",get:function(){return this.VS.Cw}},{key:"TI",get:function(){return this.VS.TI}},{key:"Jw",get:function(){return this.$w}},{key:"Kw",get:function(){return this.Ww}},{key:"Nw",get:function(){return this.VS.Nw}},{key:"Aw",get:function(){return this.VS.Aw}},{key:"Ow",get:function(){return this.VS.Ow},set:function(t){this.VS.Ow=t}},{key:"EI",get:function(){return this.FR}}]),r}(Wv);var Bp=function(){function t(){this.SI=Np.CR}var n=t.prototype;return n.xT=function(t,n,r,i,e,u){return new Fp(t,n,r,i,e)},n.RI=function(t,n){return function(t){return!t.type||!(!Lp().canPlayType||!Lp().canPlayType(t.type))}(t)},n.II=function(){return!1},t}();function Mp(t,n){for(var r=0,i=t.yl;r<i.length;r++){var e=i[r];if(e.zy===n)return e}}var Up=function(){function t(){this.DI=new Bp,this.CI=[]}t.NI=function(){return this.We};var n=t.prototype;return n.AI=function(t){this.CI.push(t)},n.xT=function(t,n,r,i,e,u){for(var s=this.DI.xT(t,n,r,i,e,u),o=0,c=this.CI;o<c.length;o++){s=(0,c[o])(s,r,i)}return s},n.RI=function(t,n){return this.DI.RI(t,n)},n.II=function(){return!1},P(t,[{key:"SI",get:function(){return this.DI.SI}}]),t}();function qp(t,n){return Rl(t.SI,n.SI)}Up.We=new Up;var Vp=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).OI=Up.NI(),n}Gt(n,t);var r=n.prototype;return r.xI=function(t){this.OI=t},r.LI=function(){return this.OI},r.FI=function(){var t=D.coroutine(vn.mark(function t(n,r){var i,e,u,s,o,c;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0;case 1:if(!(i<n.length)){t.next=11;break}return e=n[i],t.next=5,this.BI(e,r);case 5:if(!(u=t.sent)){t.next=8;break}return t.abrupt("return",{MI:e,UI:u});case 8:i++,t.next=1;break;case 11:s=this.OI,o=0;case 13:if(!(o<n.length)){t.next=20;break}if(c=n[o],!s.RI(c,r)){t.next=17;break}return t.abrupt("return",{MI:c,UI:s});case 17:o++,t.next=13;break;case 20:return t.abrupt("return",{MI:n[0],UI:s});case 21:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),n}(function(){function t(){this.qI=[]}var n=t.prototype;return n.VI=function(t){this.qI.push(t),this.qI.sort(qp)},n.BI=function(){var t=D.coroutine(vn.mark(function t(n,r){var i,e,u,s;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0,e=this.qI;case 1:if(!(i<e.length)){t.next=17;break}if(u=e[i],!nt(s=u.RI(n,r))){t.next=10;break}return t.next=7,s;case 7:t.t0=t.sent,t.next=11;break;case 10:t.t0=Boolean(s);case 11:if(!t.t0){t.next=14;break}return t.abrupt("return",u);case 14:i++,t.next=1;break;case 17:return t.abrupt("return",void 0);case 18:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),t}());Vp.We=new Vp;var jp,Hp=function(){function t(t){var n,r;this.jI=S&&S.document&&S.document.createElement("div"),n=this.jI,(r=n.style).position="absolute",r.left="0",r.right="0",r.top="0",r.bottom="0",r.width="100%",r.height="100%",t.appendChild(this.jI)}return t.prototype.ai=function(){se(this.jI)},t}();function Wp(t){switch(t){case jp.HI:case"":return jp.HI;case jp.Qp:return jp.Qp;case jp.WI:default:return jp.WI}}!function(t){t.CR="",t.WI="none",t.Qp="metadata",t.HI="auto"}(jp||(jp={}));var $p=[Fv.Pl,Bs.ma,Bs.Vs,Bs.Xa,Bs.ha,Bs.ba,Bs.Ia,Bs.Da,Bs.Ma,Bs.qa,wd.yw,wd.gw,wd._w,wd.pw,wd.Zd,wd.mw,wd.kw,Bs.wa,Bs.ya,Bs.pa,Bs.ka,Bs.Ea,Bs.Sa,Bs.Na,Bs.Aa,Bs.Ca,Bs.Oa,Bs.Pa,Bs.Fa,Bs.La,Bs.Ha,Bs.Wa,Bs.xa,Bs.Ra,Bs.Ba],zp=function(t){function n(n,r){var i;return(i=t.call(this)||this).$I=void 0,i.zI=void 0,i.tI=jp.WI,i.XI=void 0,i.GI=!0,i.Hw=new Bv,i.Ww=new Bv,i.$w=new Hv,i.zw=new zd,i.YI=n,i.KI=r,i.KI.xy=i.xy,i.JI(),i}Gt(n,t);var r=n.prototype;return r.ui=function(){this.KI.ui()},r.ei=function(){this.KI.ei()},r.Zw=function(){return this.ny(void 0)},r.vi=function(){},r.yy=function(t){return!1},r.JI=function(){this.Hw.Tl=this.KI.Yw,this.Ww.Tl=this.KI.Kw,this.$w.Tl=this.KI.Jw,this.zw.Tl=this.KI.Qw,this.KI.Rs($p,this.Ts)},r.QI=function(){this.KI.Ns($p,this.Ts),this.Hw.Tl=void 0,this.Ww.Tl=void 0,this.$w.Tl=void 0,this.zw.Tl=void 0},r.ty=function(){return this.XI},r.ny=function(){var t=D.coroutine(vn.mark(function t(n,r){var i,e,u,s,o,c;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(er(r),this.XI=n,n){t.next=4;break}return t.abrupt("return");case 4:if(!ad(i=n.sources.filter(ld))){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,this.YI.FI(i,n);case 9:if(e=t.sent,er(r),u=e.MI,s=e.UI,o=this.ly(),c=Fd(this),this.$I===s&&!this.qs){t.next=25;break}return this.QI(),t.next=19,this.KI.ai();case 19:er(r),this.$I=s,this.KI=this.ZI(s),Xp(this.KI,c),Bd(this,c,this),this.JI();case 25:return this.KI.xy=this.xy,this.GI?this.KI.ay():this.KI.hy(),t.next=29,this.KI.ny(u,n,r);case 29:er(r),this.tD(u),this.ly()!==o&&this.Es(new zv);case 32:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),r.tD=function(t){this.zI!==t&&(this.zI=t,this.Es(new Xv(t)))},r.iy=function(){return this.KI.iy()},r.ey=function(){this.KI.ey()},r.uy=function(){this.KI.uy()},r.ly=function(){return this.KI.ly()},r.my=function(){this.KI.my()},r.wl=function(){var t=D.coroutine(vn.mark(function t(){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.XI=void 0,this.tD(void 0),t.next=4,this.KI.wl();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.ai=function(){var t=D.coroutine(vn.mark(function t(){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Cs(),t.next=3,this.wl();case 3:return t.next=5,this.KI.ai();case 5:this.Hw.ai(),this.Ww.ai(),this.$w.ai(),this.zw.ai();case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.ay=function(){this.GI=!0,this.KI.ay()},r.hy=function(){this.GI=!1,this.KI.hy()},P(n,[{key:"Yw",get:function(){return this.Hw}},{key:"ky",get:function(){return this.KI.ky}},{key:"qs",get:function(){return this.KI.qs}},{key:"Sw",get:function(){return this.KI.Sw}},{key:"by",get:function(){return this.KI.by},set:function(t){this.KI.by=t}},{key:"py",get:function(){return this.zI}},{key:"bw",get:function(){return this.KI.bw},set:function(t){this.KI.bw=t}},{key:"Tw",get:function(){return this.KI.Tw}},{key:"Ew",get:function(){return this.KI.Ew}},{key:"Qw",get:function(){return this.zw}},{key:"Ey",get:function(){return this.KI.Ey}},{key:"qw",get:function(){return this.KI.qw}},{key:"Rw",get:function(){return this.KI.Rw},set:function(t){this.KI.Rw=t}},{key:"Ay",get:function(){return this.KI.Ay}},{key:"Iw",get:function(){return this.KI.Iw}},{key:"Dw",get:function(){return this.KI.Dw},set:function(t){this.KI.Dw=t}},{key:"Oy",get:function(){return this.KI.Oy}},{key:"xy",get:function(){return this.tI},set:function(t){this.tI=t,this.KI&&(this.KI.xy=this.tI)}},{key:"ql",get:function(){return this.KI.ql}},{key:"Py",get:function(){return this.KI.Py}},{key:"Cw",get:function(){return this.KI.Cw}},{key:"Jw",get:function(){return this.$w}},{key:"Nw",get:function(){return this.KI.Nw}},{key:"Kw",get:function(){return this.Ww}},{key:"Aw",get:function(){return this.KI.Aw}},{key:"Ow",get:function(){return this.KI.Ow},set:function(t){this.KI.Ow=t}},{key:"EI",get:function(){return this.KI.EI}}]),n}(gr);function Xp(t,n){t.Rw!==n.Rw&&(t.Rw=n.Rw),t.Ow!==n.Ow&&(t.Ow=n.Ow),t.Dw!==n.Dw&&(t.Dw=n.Dw)}var Gp,Yp=function(t){function n(n,r){return t.call(this,n,r)||this}Gt(n,t);var r=n.prototype;return r.Fg=function(t,n){return t<n?El.Og:t===n?El.Ng:El.Ag},r.Fy=function(t,n){return t+n},r.$g=function(t,n){return t-n},r.qg=function(t,n){return l.abs(t-n)},r.nD=function(){return 0},r.rD=function(){return 1/0},r.iD=function(){return-1/0},n.eD=function(t){for(var r=[],i=0;i<t.length;i++)r.push(t.start(i),t.end(i));return new n(r)},n.uD=function(t){for(var r=[],i=[],e=0;e<t.gl;e++)r.push(t.sD(e).x_),r.push(t.oD(e).x_),i.push(t.cD(e)),i.push(t.aD(e));return new n(r,i)},n.fD=function(t){return new n([t,t],[!0,!0])},r.hD=function(t,r){return new n(t,r)},r.vD=function(t){return t},n.dD=function(){return Kp},n}(function(t){function n(n,r){var i;return(i=t.call(this)||this).gl=n.length>>1,i.lD=n,i.wD=r||function(t){for(var n=new Array(2*t),r=0,i=0;r<t;r+=1,i+=2)n[i]=!0,n[i+1]=!1;return n}(i.gl),i}Gt(n,t);var r=n.prototype;return r.sD=function(t){return this.lD[2*t]},r.cD=function(t){return this.wD[2*t]},r.oD=function(t){return this.lD[2*t+1]},r.aD=function(t){return this.wD[2*t+1]},P(n,[{key:"yD",get:function(){return this.lD.slice()}}]),n}(function(){function t(){}var n=t.prototype;return n.vg=function(t,n){return 0===this.Fg(t,n)},n.f_=function(t,n){return this.Fg(t,n)>0},n.h_=function(t,n){return this.Fg(t,n)>=0},n.Vg=function(t,n){return this.Fg(t,n)<0},n.Ug=function(t,n){return this.Fg(t,n)<=0},n.N_=function(t,n){return this.Vg(t,n)?t:n},n.C_=function(t,n){return this.f_(t,n)?t:n},n.gD=function(t,n,r){return r?this.Ug(t,n):this.Vg(t,n)},n.mI=function(){var t=this;return{get length(){return t.gl},start:function(n){var r=0|n;return t._D(r),t.vD(t.sD(r))},end:function(n){var r=0|n;return t._D(r),t.vD(t.oD(r))}}},n.pD=function(){for(var t=new Array(2*this.gl),n=new Array(2*this.gl),r=0;r<this.gl;r++)t[2*r]=this.sD(r),t[2*r+1]=this.oD(r),n[2*r]=!0,n[2*r+1]=!0;return this.hD(t,n)},n._D=function(t){if(t<0)throw new h("The index provided ("+t+") must be non-negative");if(t>=this.gl)throw new h("The index provided ("+t+") is greater than the maximum bound ("+this.gl+")")},n.mD=function(t){if(0===this.gl)return this.nD();if(this.pI(t))return t;if(this.Ug(t,this.sD(0)))return this.sD(0);if(this.h_(t,this.oD(this.gl-1)))return this.oD(this.gl-1);for(var n,r=this.rD(),i=0;i<this.gl;i++){var e=this.sD(i),u=this.qg(e,t);this.Vg(u,r)&&(n=e,r=u);var s=this.oD(i),o=this.qg(this.oD(i),t);this.Vg(o,r)&&(n=s,r=o)}return n},n.kD=function(t){for(var n=0,r=0,i=[],e=[];n<this.gl&&r<t.gl;){var u=this.sD(n),s=this.oD(n),o=this.cD(n),c=this.aD(n),a=t.sD(r),f=t.oD(r),h=t.cD(r),v=t.aD(r),d=this.C_(u,a),l=this.N_(s,f),w=void 0;w=this.vg(u,a)?o&&h:this.vg(d,u)?o:h;var y=void 0;y=this.vg(s,f)?c&&v:this.vg(l,s)?c:v,(this.Vg(d,l)||w&&y&&this.vg(d,l))&&(i.push(d,l),e.push(w,y));var g=this.Fg(this.oD(n),t.oD(r));0===g?(n+=1,r+=1):g<0?n+=1:r+=1}return this.hD(i,e)},n.bD=function(){var t=this.TD(),n=t.gl;if(0===n)return this.hD([t.iD(),t.rD()],[!1,!1]);var r=[],i=[],e=t.sD(0);t.vg(e,t.iD())||(r.push(t.iD(),e),i.push(!1,!t.cD(0)));for(var u=0;u<n-1;u++)r.push(t.oD(u),t.sD(u+1)),i.push(!t.aD(u),!t.cD(u+1));var s=t.oD(n-1);return t.vg(s,t.rD())||(r.push(s,t.rD()),i.push(!t.aD(n-1),!1)),t.hD(r,i)},n.ED=function(t){for(var n=0,r=0,i=this.gl,e=t.gl,u=new Array(2*(i+e)),s=new Array(2*(i+e)),o=0;n<i&&r<e;){var c=this.sD(n),a=this.oD(n),f=t.sD(r),h=t.oD(r);this.Vg(c,f)||this.vg(c,f)&&this.Vg(a,h)?(u[o]=c,u[o+1]=a,s[o]=this.cD(n),s[o+1]=this.aD(n),n++):(u[o]=f,u[o+1]=h,s[o]=t.cD(r),s[o+1]=t.aD(r),r++),o+=2}for(;n<i;)u[o]=this.sD(n),u[o+1]=this.oD(n),s[o]=this.cD(n),s[o+1]=this.aD(n),n++,o+=2;for(;r<e;)u[o]=t.sD(r),u[o+1]=t.oD(r),s[o]=t.cD(r),s[o+1]=t.aD(r),r++,o+=2;return this.hD(u,s)},n.SD=function(t){void 0===t&&(t=this.nD());var n=this.gl;if(n<2)return this;for(var r=[],i=[],e=this.sD(0),u=this.oD(0),s=this.cD(0),o=this.aD(0),c=1;c<n;c++){var a=this.sD(c),f=this.oD(c),h=this.cD(c),v=this.aD(c);this.Vg(e,a)&&this.f_(u,f)||(this.vg(e,a)&&(s=h=s||h),this.vg(u,f)&&(o=v=o||v),this.gD(a,this.Fy(u,t),o||h)?(u=f,o=v):(r.push(e,u),i.push(s,o),e=a,u=f,s=h,o=v))}return r.push(e,u),i.push(s,o),this.hD(r,i).TD()},n.TD=function(){for(var t=[],n=[],r=0;r<this.gl;r++){var i=this.sD(r),e=this.oD(r),u=this.cD(r),s=this.aD(r);this.vg(i,e)?(u||s)&&(t.push(i,e),n.push(!0,!0)):(t.push(i,e),n.push(u,s))}return this.hD(t,n)},n.RD=function(t){return this.gl?t.gl?this.ED(t).SD():this:t},n.DD=function(t){var n=this.TD(),r=t.TD(),i=n.bD(),e=r.bD(),u=i.kD(r),s=e.kD(n);return u.RD(s)},n.to=function(t){if(this.vg(t,this.nD()))return this;for(var n=[],r=[],i=0;i<this.gl;i++){var e=this.Fy(this.sD(i),t),u=this.Fy(this.oD(i),t);n.push(e,u),r.push(this.cD(i),this.aD(i))}return this.hD(n,r)},n.CD=function(t){return this.TD().kD(t.TD().bD())},n.pI=function(t,n){return this.ND(t,n)>=0},n.OD=function(t,n,r,i,e){return this.xD(t,n,r,i,e)>=0},n.PD=function(t,n,r,i,e){return this.LD(t,n,r,i,e)>=0},n.FD=function(t){if(t.gl!==this.gl)return!1;for(var n=0;n<this.gl;n++)if(!this.vg(this.sD(n),t.sD(n))||!this.vg(this.oD(n),t.oD(n))||this.cD(n)!==t.cD(n)||this.aD(n)!==t.aD(n))return!1;return!0},n.BD=function(t){for(var n=[],r=[],i=0;i<this.gl;i++)t(this.sD(i),this.oD(i))&&(n.push(this.sD(i),this.oD(i)),r.push(this.cD(i),this.aD(i)));return this.hD(n,r)},n.LD=function(t,n,r,i,e){void 0===r&&(r=!0),void 0===i&&(i=!0),void 0===e&&(e=this.nD());for(var u=this.$g(t,e),s=this.Fy(n,e),o=0;o<this.gl;o+=1)if(this.gD(this.sD(o),s,!i||this.cD(o))&&this.gD(u,this.oD(o),!r||this.aD(o)))return o;return-1},n.xD=function(t,n,r,i,e){void 0===r&&(r=!0),void 0===i&&(i=!1),void 0===e&&(e=this.nD());for(var u=this.Fy(t,e),s=this.$g(n,e),o=0;o<this.gl;o+=1)if(this.gD(this.sD(o),u,!r||this.cD(o))&&this.gD(s,this.oD(o),!i||this.aD(o)))return o;return-1},n.ND=function(t,n){return this.xD(t,t,!0,!0,n)},n.MD=function(t,n){void 0===n&&(n=this.nD());for(var r=this.Fy(t,n),i=this.gl-1;i>=0;i-=1)if(this.gD(this.sD(i),r,this.cD(i)))return i;return-1},n.UD=function(t,n){void 0===n&&(n=this.nD());for(var r=this.$g(t,n),i=0;i<this.gl;i+=1)if(this.gD(r,this.oD(i),this.aD(i)))return i;return-1},n.qD=function(t){return this._D(t),this.hD([this.sD(t),this.oD(t)],[this.cD(t),this.aD(t)])},n.VD=function(t,n){var r=this.ND(t,n);return r<0?void 0:this.qD(r)},P(t,[{key:"jD",get:function(){for(var t=this.nD(),n=0;n<this.gl;n++){var r=this.$g(this.oD(n),this.sD(n));t=this.Fy(t,r)}return t}}]),t}())),Kp=new Yp([]);!function(t){t.Jd="fullscreenchange",t.HD="fullscreensupportchange",t.Pl="fullscreenerror"}(Gp||(Gp={}));var Jp=function(t){function n(){return t.call(this,Gp.Pl)||this}return Gt(n,t),n}(pr),Qp=new(function(t){function n(){return t.apply(this,arguments)||this}Gt(n,t);var r=n.prototype;return r.Jy=function(){this.Es(new Jp)},r.Zy=function(){},r.ai=function(){this.Cs()},P(n,[{key:"WD",get:function(){return!1}},{key:"$D",get:function(){return!1}}]),n}(gr)),Zp=function(t){function n(){return t.apply(this,arguments)||this}return Gt(n,t),n.prototype.vy=function(){},n}(function(t){function n(){var n;return(n=t.apply(this,arguments)||this).zD=0,n.XD=!1,n.GD=!0,n.YD=1,n.KD=!1,n.JD=1,n.Yw=new Zd,n.ky=Yp.dD().mI(),n.Tw=NaN,n.Ew=!1,n.qs=void 0,n.Sw=void 0,n.Qw=void 0,n.Ey=!1,n.Ay=!0,n.Oy=Yp.dD().mI(),n.xy=jp.WI,n.ql=td.hw,n.Py=Yp.dD().mI(),n.TI=void 0,n.Jw=new ey,n.Nw=0,n.Kw=new Zd,n.Aw=0,n.FR=new Pp,n}Gt(n,t);var r=n.prototype;return r.ay=function(){},r.hy=function(){},r.ei=function(){this.GD&&(this.GD=!1,this.Es(new _d(this.bw)),this.Es(new Rp(this.bw)))},r.ui=function(){this.GD||(this.GD=!0,this.Es(new Ed(this.bw,this.by)),this.Es(new gd(this.bw)))},r.ny=function(t,n){return D.resolve()},r.iy=function(){return!1},r.ey=function(){},r.uy=function(){},r.ly=function(){return Qp},r.my=function(){},r.wl=function(){var t=D.coroutine(vn.mark(function t(){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.zD=0,this.KD=!1,this.ui(),this.Es(new yd(this.zD));case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.ai=function(){var t=D.coroutine(vn.mark(function t(){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.Cs(),this.Yw.ai(),this.Jw.ai(),this.Kw.ai();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),P(n,[{key:"by",get:function(){},set:function(t){}},{key:"bw",get:function(){return this.zD},set:function(t){this.zD!==t&&(this.zD=t,this.KD=!0,this.Es(new Id(this.bw)))}},{key:"qw",get:function(){return{Sy:0,Ry:0,Iy:0,Dy:0,Cy:0,Ny:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"Rw",get:function(){return this.XD},set:function(t){this.XD!==t&&(this.XD=t,this.Es(new Cd(this.bw,this.Ow)))}},{key:"Iw",get:function(){return this.GD}},{key:"Dw",get:function(){return this.YD},set:function(t){this.YD!==t&&(this.YD=t,this.Es(new Td(this.bw,this.Dw)))}},{key:"Cw",get:function(){return this.KD}},{key:"Ow",get:function(){return this.JD},set:function(t){this.JD!==t&&(this.JD=t,this.Es(new Cd(this.bw,this.Ow)))}},{key:"EI",get:function(){return this.FR}}]),n}(gr)),tm=function(t){function n(n,r,i,e,u,s){var o;return(o=t.call(this,Vp.We,new Zp)||this).QD=n,o.sc=r,o.dT=i,o.ZD=e,o.tC=s,o.nC=new b(u,o.tC),o.nC.ci(o.QD),o.rC=new Hp(o.QD),o}Gt(n,t);var r=n.prototype;return r.vi=function(){t.prototype.vi.call(this),this.nC.ri()},r.sy=function(t){var n,r,i,e;n=this,i=(r=t).Ow,e=r.Rw,n.Ow=i,n.Rw=e},r.oy=function(){},r.ZI=function(t){return t.xT(this.QD,this.nC,this.dT,this.sc,this.ZD,this.tC)},r.vy=function(){return this.KI.vy()},r.wy=function(){return this.nC.ni.map(function(t){return t.nI})},r.Ds=function(n){t.prototype.Ds.call(this,n)},r.xs=function(n){t.prototype.xs.call(this,n)},r.ai=function(){var n=D.coroutine(vn.mark(function n(){return vn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.ai.call(this);case 2:this.nC.ai(),this.rC.ai();case 4:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),P(n,[{key:"Ty",get:function(){return this.QD}}]),n}(zp),nm=function(t){function n(n,r,i){var e;return(e=t.call(this)||this).QD=n,e.iC=r,e.eC=new Zd,e.uC=new ey,e.sC=i,e}Gt(n,t);var r=n.prototype;return r.yy=function(t){return!0},r.hy=function(){},r.ei=function(){throw this.Es(new xd(this.sC)),this.iC},r.ui=function(){},r.ty=function(){},r.ny=function(){var t=D.coroutine(vn.mark(function t(n,r){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:throw er(r),this.Es(new xd(this.sC)),this.iC;case 3:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),r.ay=function(){},r.Zw=function(){return D.resolve()},r.vy=function(){},r.ly=function(){return Qp},r.wy=function(){return[]},r.vi=function(){},r.sy=function(t){},r.oy=function(){},r.iy=function(){return!1},r.ey=function(){},r.uy=function(){},r.my=function(){},r.wl=function(){return D.resolve()},r.ai=function(){return this.Cs(),this.eC.ai(),this.uC.ai(),D.resolve()},P(n,[{key:"Yw",get:function(){return this.eC}},{key:"ky",get:function(){return Yp.dD().mI()}},{key:"by",get:function(){return new Date(NaN)},set:function(t){}},{key:"py",get:function(){}},{key:"bw",get:function(){return 0},set:function(t){}},{key:"Tw",get:function(){return 0}},{key:"Ty",get:function(){return this.QD}},{key:"Ew",get:function(){return!0}},{key:"qs",get:function(){return this.iC}},{key:"Sw",get:function(){return this.sC}},{key:"Qw",get:function(){}},{key:"qw",get:function(){return{Sy:0,Ry:0,Iy:0,Dy:0,Cy:0,Ny:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"Rw",get:function(){return!1},set:function(t){}},{key:"Ay",get:function(){return!0}},{key:"Iw",get:function(){return!0}},{key:"Dw",get:function(){return 0},set:function(t){}},{key:"Oy",get:function(){return Yp.dD().mI()}},{key:"xy",get:function(){return jp.WI},set:function(t){}},{key:"ql",get:function(){return td.hw}},{key:"Py",get:function(){return Yp.dD().mI()}},{key:"Cw",get:function(){return!1}},{key:"Jw",get:function(){return this.uC}},{key:"Nw",get:function(){return 0}},{key:"Kw",get:function(){return this.eC}},{key:"Aw",get:function(){return 0}},{key:"Ow",get:function(){return 1},set:function(t){}},{key:"Ey",get:function(){return!1}}]),n}($v);function rm(t){if(t&&J(t))return dn(dn({},t),{integration:im(t.integration),fairplay:fm(t.fairplay),widevine:em(t.widevine),playready:um(t.playready),clearkey:hm(t.clearkey),aes128:vm(t.aes128),integrationParameters:dm(t.integrationParameters),preferredKeySystems:lm(t.preferredKeySystems)})}function im(t){if(Z(t))return t}function em(t){if(t&&J(t))return{persistentState:sm(t.persistentState),distinctiveIdentifier:sm(t.distinctiveIdentifier),audioRobustness:om(t.audioRobustness),videoRobustness:om(t.videoRobustness),licenseAcquisitionURL:Z(t.licenseAcquisitionURL)?t.licenseAcquisitionURL:void 0,licenseType:cm(t.licenseType),headers:t.headers,useCredentials:!!tt(t.useCredentials)&&t.useCredentials,queryParameters:t.queryParameters,certificate:Z(t.certificate)||ki(t.certificate)?t.certificate:void 0,certificateRequestProcessor:am(t.certificateRequestProcessor),certificateResponseProcessor:am(t.certificateResponseProcessor),licenseRequestProcessor:am(t.licenseRequestProcessor),licenseResponseProcessor:am(t.licenseResponseProcessor)}}function um(t){if(t){var n=em(t);if(n){var r=Z(t.customData)?t.customData:void 0;return dn(dn({},n),{customData:r})}}}function sm(t){switch(null==t?void 0:t.toLowerCase()){case"required":return"required";case"optional":return"optional";case"not-allowed":return"not-allowed"}}function om(t){switch(t){case"HW_SECURE_ALL":return"HW_SECURE_ALL";case"HW_SECURE_DECODE":return"HW_SECURE_DECODE";case"HW_SECURE_CRYPTO":return"HW_SECURE_CRYPTO";case"SW_SECURE_DECODE":return"SW_SECURE_DECODE";case"SW_SECURE_CRYPTO":return"SW_SECURE_CRYPTO";case"":return""}}function cm(t){switch(null==t?void 0:t.toLowerCase()){case"temporary":return"temporary";case"persistent":return"persistent"}}function am(t){if("function"==typeof t)return t}function fm(t){if(t){var n=em(t);if(n){var r=Z(t.certificateURL)?t.certificateURL:void 0;return dn(dn({},n),{certificateURL:r})}}}function hm(t){if(t){var n=em(t);if(n){var r=Y(t.keys)?t.keys.map(function(t){return function(t){if(!t||!J(t))return;var n=t.id,r=t.value;if(!Z(n)||!Z(r))return;return{id:n,value:r}}(t)}).filter(G):void 0;return dn(dn({},n),{keys:r})}}}function vm(t){if(J(t))return{useCredentials:tt(t.useCredentials)?t.useCredentials:void 0}}function dm(t){if(J(t))return t}function lm(t){return t&&Y(t)?t.map(function(t){return dg(t)}).filter(G):[Dn,Sn,Nn]}var wm,ym=function(t){function n(n){var r;return(r=t.call(this,"presentationmodechange")||this).presentationMode=n,r}return Gt(n,t),n}(pr),gm=function(t){function n(n,r){var i;return void 0===r&&(r=!1),(i=t.call(this,n)||this).oC=[],i.cC=function(t){fr(function(){i.Ts(t)})},i.aC=r?i.cC:i.Ts,i}Gt(n,t);var r=n.prototype;return r.fC=function(t){t.Ds(this.aC),this.oC.push(t)},r.hC=function(t){t.xs(this.aC),Kn(this.oC,t)},r.ai=function(){this.Cs();for(var t=0,n=this.oC;t<n.length;t++){n[t].xs(this.aC)}Zn(this.oC)},n}(Wv),_m=function(t){function n(){return t.apply(this,arguments)||this}return Gt(n,t),n}(gm);!function(t){t.INLINE="inline",t.FULLSCREEN="fullscreen",t.PICTURE_IN_PICTURE="picture-in-picture"}(wm||(wm={}));var pm,mm=function(t){function r(n){var r;return(r=t.call(this)||this).vC=!1,r.dC=!1,r.Bd=void 0,r.lC=function(){return r.wC()},r.yC=function(){return r.gC()},r._C=n,r.pC=r.mC=r.kC=r.bC=wm.INLINE,r._C.Rs(Gp.Jd,r.lC),r._C.Rs(Gp.Pl,r.yC),r.TC(),r}Gt(r,t);var i=r.prototype;return i.Ud=function(){return t=this,r={get currentMode(){return t.EC()},requestMode:function(n){var r=bm(n);r&&t.SC(r)},supportsMode:function(n){var r=bm(n);return!!r&&t.RC(r)},addEventListener:function(t,r){n.Rs(t,r)},removeEventListener:function(t,r){n.Ns(t,r)}},(n=new gm(r,!0)).fC(t),r;var t,n,r},i.SC=function(t){this.IC(t,t)},i.IC=function(t,n){this.mC!==n&&(this.vC=!0,this.pC=t,this.DC(n,this.mC),t!==wm.FULLSCREEN&&(this.kC=t),this.vC=!1,this.TC())},i.EC=function(){return this.dC?wm.FULLSCREEN:wm.INLINE},i.RC=function(t){switch(t){case wm.FULLSCREEN:return this._C.$D;case wm.INLINE:return!0}return!1},i.TC=function(){if(!this.vC){var t=this.mC,n=this.EC();this.mC=n,n!==wm.FULLSCREEN&&(this.bC=n),t!==n&&this.Es(new ym(n))}},i.DC=function(t,n){var r=t===wm.FULLSCREEN;this.dC=r,r!==this._C.WD&&(r?this._C.Jy():this._C.Zy())},i.wC=function(){if(!this.vC){var t=this._C.WD;this.dC=t,t?this.IC(wm.FULLSCREEN,wm.FULLSCREEN):t||this.pC!==wm.FULLSCREEN?this.TC():this.IC(this.kC,this.bC)}},i.gC=function(){this.wC(),this.Es(new xd(new Yi(n.ErrorCode.FULLSCREEN_ERROR,"Failed to enter fullscreen.")))},i.ai=function(){this._C.ai(),this.Cs()},P(r,[{key:"Md",get:function(){return this.Bd||(this.Bd=this.Ud()),this.Bd}}]),r}(Wv),km={bw:0,Tw:NaN,Ew:!1,qs:void 0,Sw:void 0,Rw:!1,Iw:!0,Dw:1,ql:td.hw,Cw:!1,Nw:0,Aw:0,Ow:1};function bm(t){switch(t){case wm.INLINE:case wm.FULLSCREEN:case wm.PICTURE_IN_PICTURE:return t;default:return}}!function(t){t.DEFAULT="",t.THEO="theo",t.GOOGLE_IMA="google-ima",t.SPOTX="spotx",t.FREEWHEEL="freewheel"}(pm||(pm={}));var Tm,Em,Sm,Rm,Im,Dm,Cm,Nm,Am=function(){function t(){this.CC=[]}var n=t.prototype;return n.NC=function(t){var n=this.AC.filter(function(n){return n.OC(t)});if(n.length>1)0;else if(0===n.length)throw h("Unknown ad integration: "+t.integration);return n[0]||null},n.xC=function(t){this.CC.push(t)},P(t,[{key:"AC",get:function(){return this.CC}}]),t}();Am.We=new Am,function(t){t.kw="PLAYING",t.LC="PAUSED",t.FC="SEEK",t.BC="STALLED",t.MC="FAILED",t.UC="INITIAL_BUFFERING",t.qC="NO_ACCESS"}(Tm||(Tm={})),function(t){t.VC="HTTP_REQUEST_STATUS_CODE_1XX",t.jC="HTTP_REQUEST_STATUS_CODE_2XX",t.HC="HTTP_REQUEST_STATUS_CODE_3XX",t.WC="HTTP_REQUEST_STATUS_CODE_4XX",t.$C="HTTP_REQUEST_STATUS_CODE_5XX",t.zC="BUFFER_LENGTH",t.XC="BYTES_RECEIVED",t.GC="SEGMENT_READ_BITRATE",t.YC="SEGMENT_PROFILE_BITRATE",t.KC="NUMBER_OF_FRAMES_DROPPED",t.JC="PLAYBACK_POSITION",t.QC="NUMBER_OF_FRAMES_DECODED",t.ZC="PLAYBACK_DELTA_TO_ORIGIN",t.tN="STREAM_DELTA_TO_ORIGIN",t.nN="ORIGIN_TIMESTAMP"}(Em||(Em={})),function(t){t.rN="MANIFEST_URI",t.iN="ASSET_DURATION",t.eN="NUMBER_OF_CONTENT_PROFILES",t.uN="CDN",t.sN="CONTENT_TITLE",t.oN="SERVICE_NAME",t.cN="CONTENT_TYPE",t.aN="CONTENT_DESCRIPTION"}(Sm||(Sm={})),function(t){t.fN="shutdown_normal_shutdown"}(Rm||(Rm={})),function(t){t.hN="session/",t.vN="internalError/",t.dN="drmError/",t.lN="caError/",t.wN="networkError/"}(Im||(Im={})),function(t){t.yN="userAction",t.gN="endOfStreamReached"}(Dm||(Dm={})),function(t){t.PAUSE="_N",t.RESUME="pN"}(Cm||(Cm={})),function(t){t.UNAVAILABLE="unavailable",t.AVAILABLE="available",t.CONNECTING="connecting",t.CONNECTED="connected"}(Nm||(Nm={}));var Om,xm,Pm,Lm,Fm,Bm="agama";function Mm(t){return function(t){switch(t){case Om.NONE:case Om.HORIZONTAL:case Om.VERTICAL:return!0;default:return!1}}(t)?t:Om.NONE}function Um(t){switch(t){case"":return Om.NONE;case"horizontal":return Om.HORIZONTAL;case"vertical":return Om.VERTICAL;default:throw new v}}function qm(t){if(!t||!Z(t))return xm.HI;switch(t){case"always":return xm.mN;case"never":return xm.kN;default:return xm.HI}}function Vm(t){if(!t||!Z(t))return Pm.HI;switch(t){case"playlist":return Pm.bN;case"media":return Pm.TN;default:return Pm.HI}}function jm(t){if(null!==t)return t}function Hm(t){var n,r={apiKey:t.apiKey,integration:t.integration,streamActivityMonitorID:jm(t.streamActivityMonitorID),adTagParameters:J(t.adTagParameters)?t.adTagParameters:{},authToken:jm(t.authToken)};if("vod"===(null==t?void 0:t.availabilityType)||(n=t,Boolean(n.videoID&&n.contentSourceID))){var i=t.videoID,e=t.contentSourceID;return i?e?dn(dn({},r),{availabilityType:"vod",videoID:i,contentSourceID:e}):void N.vd("A VOD DAI configuration was provided without valid contentSourceID which is required."):void N.vd("A VOD DAI configuration was provided without valid videoID which is required.")}if("live"===(null==t?void 0:t.availabilityType)||function(t){return Boolean(t.assetKey)}(t)){var u=t.assetKey;return u?dn(dn({},r),{availabilityType:"live",assetKey:u}):void N.vd("A Live DAI configuration was provided without valid assetKey which is required.")}N.vd("A DAI configuration was provided without a valid availabilityType which is required.")}function Wm(t){if(!ug(t)||!t.integration)return t;switch(t.integration){case Ly:return n=t,r=vg(kn.Pu,n),i=vg(kn.xu,n),e=n[kn.Lu]&&vg(kn.Lu,n),dn({integration:"keyos",widevine:r,playready:i},e?{fairplay:e}:{});default:return t}var n,r,i,e}function $m(t){if(!t)return!0;var n,r,i=!(cd(n=t.sources)||K(n)&&cd(n[0]))||ad(t.sources),e=!t.ads||(!(r=t.ads)||Y(r)&&0===r.length),u=""!==t.poster&&!t.poster;return i&&e&&u}function zm(t){if(t&&t.sources)return function t(n){if(Z(n))return n;if(od(n))return n.src;if(K(n)&&n.length>0)return t(n[0]);return}(t.sources)}function Xm(t,n,r){return ud(t)?function(t,n,r){var i=dn(dn({},fd()),{ping:{adImpressions:!1,freeWheelVideoViews:!1,linearAdData:!1},integration:Lm.VERIZON_MEDIA,id:"",preplayParameters:{},playbackUrlParameters:{},assetType:Fm.ASSET,contentProtected:!1,assetInfo:!0});i.id=(e=t.id,Z(e)?e:K(e)&&Z(e[0])?e:J(u=e)&&Z(u.userId)&&(K(u.externalId)||Z(u.externalId))?e:""),t.preplayParameters&&(i.preplayParameters=t.preplayParameters);var e,u;t.playbackUrlParameters&&(i.playbackUrlParameters=t.playbackUrlParameters);t.assetType&&(i.assetType=function(t){switch(t){case"channel":return Fm.CHANNEL;case"event":return Fm.EVENT;case"asset":default:return Fm.ASSET}}(t.assetType));t.contentProtected&&(i.contentProtected=Ev(t.contentProtected));t.assetInfo?i.assetInfo=Ev(t.assetInfo):i.assetInfo="asset"===i.assetType;return i.ping=(s=i.assetType,o=t.ping,c=!1,a=!1,f=!1,o?(c=!!tt(o.adImpressions)&&o.adImpressions,a=!!tt(o.freeWheelVideoViews)&&o.freeWheelVideoViews,f=tt(o.linearAdData)?o.linearAdData:s!==Fm.ASSET):s!==Fm.ASSET&&(f=!0),{adImpressions:c,freeWheelVideoViews:a,linearAdData:f}),i=Ym(i=Gm(i,t),n,r);var s,o,c,a,f}(t,n,r):function(t,n,r){var i=hd(),e=n&&(n.contentProtection||n.drm);if(Z(t)){if(i.src=t,i.type=id(t),e){var u=rm(e);i.contentProtection=Wm(u)}}else if(od(t)||ed(t)){i.src=t.src,i.type=t.type||id(t.src),i.isAdvertisement=t.isAdvertisement;var s=function(t){return t.type===Jv.aw||t.type===Jv.fw}(t)?t.hesp:void 0;void 0!==s&&(i.hesp=s);var o=t.contentProtection||t.drm||e,c=rm(o);i.contentProtection=Wm(c),t.ssai&&(i.ssai=function(t){switch(t.integration){case"google-dai":return Hm(t);case"imagine":return{integration:t.integration};case"yospace":return function(t){var n;return{integration:t.integration,streamType:null!==(n=t.streamType)&&void 0!==n?n:void 0}}(t);default:return{integration:t.integration}}}(t.ssai)),i=Gm(i,t)}return i=Ym(i,n,r)}(t,n,r)}function Gm(t,n){var r;n.useCredentials?t.crossOrigin=Kv.ow:n.crossOrigin&&(t.crossOrigin=function(t){switch(t){case Kv.sw:case Kv.ow:return t;default:return Kv.uw}}(n.crossOrigin)),Z(n.timeServer)&&(t.timeServer=n.timeServer),n.liveOffset&&(t.liveOffset=n.liveOffset),n.hlsDateRange&&(t.hlsDateRange=n.hlsDateRange),n.lowLatency&&(t.lowLatency=Ev(n.lowLatency)),n.useNativePlayback&&(t.useNativePlayback=Ev(n.useNativePlayback)),n.dash&&(t.dash={useSeamlessPeriodSwitch:qm(null==(r=n.dash)?void 0:r.useSeamlessPeriodSwitch)}),n.hls&&(t.hls=function(t){return{discontinuityAlignment:Vm(null==t?void 0:t.discontinuityAlignment)}}(n.hls));var i=void 0!==n.experimentalRendering?Ev(n.experimentalRendering):void 0;void 0!==i&&(t.experimentalRendering=i);var e=void 0!==n.nativeUiRendering?Ev(n.nativeUiRendering):void 0;return void 0!==e&&(t.nativeUiRendering=e),t}function Ym(t,n,r){var i,e=n&&n.timeServer;return r&&r.liveOffset&&!G(t.liveOffset)&&(t.liveOffset=r.liveOffset),r&&r.hlsDateRange&&!G(t.hlsDateRange)&&(t.hlsDateRange=r.hlsDateRange),t.crossOrigin===Kv.uw&&(null===(i=null==n?void 0:n.vr)||void 0===i?void 0:i[360])&&(t.crossOrigin=Kv.sw),t.useCredentials=t.crossOrigin===Kv.ow,Z(e)&&!t.timeServer&&(t.timeServer=e),t}function Km(t){var n={src:""};if(t&&t.src){if(n.src=Iv(t.src),"default"in t&&(n.default=Ev(t.default)),n.kind=oy(t.kind),function(t){switch(t){case hl.DEFAULT:case hl.SRT:case hl.TTML:case hl.WEBVTT:case hl.EMSG:case hl.EVENT_STREAM:case hl.ID3:case hl.CEA608:case hl.DATE_RANGE:return!0;default:return!1}}(t.format)&&(n.format=t.format),"srclang"in t){var r=t.srclang;"string"==typeof r&&""!==r&&(n.srclang=r)}if("label"in t){var i=t.label;"string"==typeof i&&""!==i&&(n.label=i)}}return n}function Jm(t,n){if(Q(t))try{return n.NC(t).EN(t)}catch(t){return}}function Qm(t){return Z(t.sources)&&""!==t.sources||J(t.sources)&&Z(t.sources.src)}function Zm(t){return t.integration===pm.SPOTX&&!g(t.id)}function tk(t){return"freewheel"===t.integration}function nk(t,n,r){if(void 0===r&&(r=Am.We),$m(t))return{sources:[hd()]};var i=mv(t);if(i.sources=function(t,n,r){if(cd(t))return[Xm(t,n,r)];if(K(t)&&cd(t[0])){for(var i=[],e=0;e<t.length;e++){var u=t[e];i.push(Xm(u,n,r))}return i}return[hd()]}(i.sources,i,n),"contentProtection"in i&&delete i.contentProtection,"drm"in i&&delete i.drm,"ads"in i){var e=function(t,n){if(!K(t))return[];for(var r=[],i=0;i<t.length;i++){var e=t[i];(e=Jm(e,n))&&(Qm(e)||Zm(e)||tk(e))&&r.push(e)}return r}(i.ads,r);0===e.length?delete i.ads:i.ads=e}var u,s,o,c=!ad(i.sources),a=i.ads&&i.ads.length>0;if(c&&!a?delete i.ads:a&&!c&&(i.sources=[]),"textTracks"in i){var f=function(t){if(!K(t))return[];for(var n=[],r=0;r<t.length;r++){var i=t[r];""!==(i=Km(i)).src&&n.push(i)}return n}(i.textTracks);0===f.length?delete i.textTracks:i.textTracks=f}if("poster"in i&&(i.poster=Iv(i.poster)),"vr"in i&&(i.vr=(u=i.vr,(s=u||{}).stereoMode=Mm(s.stereoMode),{360:Boolean(s[360]),stereoMode:s.stereoMode?Um(s.stereoMode):Om.NONE})),"analytics"in i||(null==n?void 0:n.analytics)){var h=dd(i.analytics),v=n&&n.analytics||[];i.analytics=function(t,n){for(var r=mv(t),i=function(i){var e=n[i],u=!t.some(function(t){return t.integration===e.integration});u&&e.integration!==Bm&&r.push(e)},e=0;e<n.length;e++)i(e);return r}(h,v)}return"mutedAutoplay"in i&&(i.mutedAutoplay=Pd(i.mutedAutoplay)),"timeServer"in i&&delete i.timeServer,i.blockContentIfAdError=void 0!==(o=i.blockContentIfAdError)&&"boolean"==typeof o&&Boolean(o),i}!function(t){t.NONE="",t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(Om||(Om={})),function(t){t.HI="auto",t.mN="always",t.kN="never"}(xm||(xm={})),function(t){t.HI="auto",t.bN="playlist",t.TN="media"}(Pm||(Pm={})),function(t){t.VERIZON_MEDIA="verizon-media"}(Lm||(Lm={})),function(t){t.ASSET="asset",t.CHANNEL="channel",t.EVENT="event"}(Fm||(Fm={}));var rk=function(){function t(t){this.SN=t}return t.prototype.RN=function(t){var n,r,i,e,u,s,o,c=[];if(!t)return"";var a=t.length%4;if(a>0)for(;a++<4;)t+=this.SN.charAt(64);for(n=0;n<t.length;n+=4)r=(o=this.SN.indexOf(t.charAt(n))<<18|this.SN.indexOf(t.charAt(n+1))<<12|(u=this.SN.indexOf(t.charAt(n+2)))<<6|(s=this.SN.indexOf(t.charAt(n+3))))>>>16&255,i=o>>>8&255,e=255&o,c[n/4]=String.fromCharCode(r,i,e),64===s&&(c[n/4]=String.fromCharCode(r,i)),64===u&&(c[n/4]=String.fromCharCode(r));return c.join("")},t.prototype.IN=function(t,n){var r,i,e,u,s,o,c,a=[],f="";if((o=t.length%3)>0)for(;o++<3;)f+=this.SN.charAt(64),t+="\0";for(o=0;o<t.length;o+=3)i=(r=t.charCodeAt(o)<<16|t.charCodeAt(o+1)<<8|t.charCodeAt(o+2))>>18&63,e=r>>12&63,u=r>>6&63,s=63&r,a[o/3]=this.SN.charAt(i)+this.SN.charAt(e)+this.SN.charAt(u)+this.SN.charAt(s);return c=(c=a.join("")).slice(0,c.length-f.length),n||(c+=f),c},t.fp=new t(function(){var t,n,r,i,e=[],u=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<u.length;t+=1)for(n=u[t],r=0;r<n.length;r+=1)i=n.charAt(r),-1===e.indexOf(i)&&e.push(i);return e.join("")}()),t.DN=new t(t.fp.RN("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")),t}();function ik(t){return"string"==typeof t}function ek(t){return"number"==typeof t}var uk={}.toString;var sk,ok=Array.isArray||function(t){return"[object Array]"===uk.call(t)};function ck(t,n){return ok(t)&&t.every(n)}!function(t){t.HTML5="html5",t.ANDROID="android",t.IOS="ios",t.TVOS="tvos",t.ANDROIDTV="androidtv",t.TIZEN="tizen",t.WEBOS="webos",t.CHROMECAST="chromecast",t.ROKU="roku",t.FIRETV="firetv",t.CHROMECASTCAF="chromecastcaf"}(sk||(sk={}));var ak,fk=d.keys(sk).map(function(t){return sk[t]});function hk(t){return-1!==fk.indexOf(t)}function vk(t){try{var n=rk.DN.RN(t),r=JSON.parse(n);if(!function(t){var n=(h=t,"object"==typeof h&&null!==h),r=ik(t.key),i=ik(t.customer_id),e=ek(t.generation_date),u=ek(t.expiration_date),s=ck(t.domains_page,ik),o=ck(t.domains_source,ik),c=ck(t.sdks,hk),a=(f=t.send_impression,"boolean"==typeof f);var f;var h;if(!(n&&r&&i&&e&&u&&s&&o&&c&&a))return!1;return!0}(r))throw new h("The provided license could not be decoded correctly.");return r}catch(t){throw new h("The provided license could not be decoded correctly.")}}function dk(){return ak||(ak={Ph:R.href,CN:S.parent&&S.parent!==i,NN:yk()}),ak}var lk,wk=["http:","https:","ftp:","ws:","wss:"];function yk(){try{return S.top.location.href}catch(t){return S&&S.document&&S.document.referrer}}!function(t){t[t.AN=0]="AN",t[t.ON=1]="ON",t[t.xN=2]="xN"}(lk||(lk={}));var gk,_k=function(t,n,r,i,e,u,s,o){void 0===e&&(e=""),void 0===u&&(u=Date.now()),void 0===s&&(s=[]),void 0===o&&(o=!0),this.PN=t,this.LN=n,this.FN=r,this.BN=i,this.MN=e,this.UN=u,this.qN=s,this.VN=o};!function(t){t.ON="expired",t.jN="invaliddomain",t.HN="invalidsource",t.Pl="error"}(gk||(gk={}));var pk=function(){function t(t,n,r){this.WN=t,this.$N=n,this.zN=r,this.XN=Sk(this.zN)}var n=t.prototype;return n.GN=function(t,n){var r=this;if(!$m(t)&&0!==n.FN.length&&!bk(n.FN)){var i=[];if(cd(t.sources)?i=[t.sources]:K(t.sources)&&(i=t.sources),!i.every(function(t){return r.YN(t,n)})){var e=gk.HN,u=Ik.KN(e);throw new Yi(mk(e),u)}}},n.JN=function(n){return this.QN(n.qN)&&this.ZN(n)?t.tA(n.BN)?lk.AN:lk.ON:lk.xN},n.QN=function(t){var n=this;return 0===t.length||t.some(function(t){return n.nA(t)})},n.nA=function(t){return"tvos"===function(t){switch(t){case sk.ANDROID:return A._i;case sk.ANDROIDTV:case sk.FIRETV:return A.pi;case sk.IOS:return A.mi;case sk.TVOS:return A.ki;case sk.CHROMECAST:case sk.CHROMECASTCAF:return A.bi;default:return A.gi}}(t)},t.tA=function(t){var n=Number(new Date);return!!t&&n<=t},n.ZN=function(t){return!(this.XN&&0!==t.LN.length&&!bk(t.LN))||!!(this.XN&&this.rA(t.LN)&&this.iA(t.LN))},n.rA=function(t){return Tk(this.zN.Ph,t)},n.iA=function(t){if(!this.zN.CN)return!0;if(this.WN)return!0;var n=this.eA();return!!n&&Tk(n,t)},n.eA=function(){if(this.zN.CN){var t=u.ancestorOrigins;return t&&t.length>0?t[t.length-1]:this.zN.NN?this.zN.NN:void 0}},n.YN=function(n,r){return!!t.uA(n,r.FN)},t.uA=function(t,n){return Tk(this.sA(t),n)},t.sA=function(t){return Z(t)?t:od(t)&&t.src||""},t}();function mk(t){switch(t){case gk.jN:return n.ErrorCode.LICENSE_INVALID_DOMAIN;case gk.HN:return n.ErrorCode.LICENSE_INVALID_SOURCE;case gk.ON:return n.ErrorCode.LICENSE_EXPIRED;case gk.Pl:return n.ErrorCode.LICENSE_ERROR}}function kk(t,n){var r=t,i=n;if(!r)return!1;if("*"===(i=i.trim()))return!0;if(i===(r=r.replace(/\.+$/,"")))return!0;var e="\\.",u="25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?",s="(\\*|"+u+")",o=new RegExp("ip-range\\("+s+e+s+e+s+e+s+"\\)"),c=i.match(o),a=function(t){return"*"===t?"("+u+")":t};if(null!==c&&5===c.length){var f=new RegExp("^"+c[1]+e+a(c[2])+e+a(c[3])+e+a(c[4])+"$");return null!==r.match(f)}return i="."+i,-1!==r.indexOf(i,r.length-i.length)}function bk(t){return t.some(function(t){return"*"===t})}function Tk(t,n){var r=N.Xc(t);if(!Ek(r))return!0;for(var i=0;i<n.length;i++){var e=n[i];if(kk(r.hostname,e))return!0;if(kk(gs(t),e))return!0}return!1}function Ek(t){return-1!==wk.indexOf(t.protocol)}function Sk(t){var n=N.Xc(t.Ph);return Ek(n)&&!kk(n.hostname,"localhost")&&!function(t){return kk(t.hostname,"theoplayer.doubleclick.net")}(n)}var Rk,Ik=function(){function t(){}return t.KN=function(t){return t===gk.jN?this.oA:t===gk.HN?this.cA:t===gk.ON?this.aA:this.fA},t}();function Dk(t){var n=[t.lb,t.hA,t.vA];switch(t.hA){case Rk.dA:n.push(t.Hl);break;case Rk.lA:n.push(t.bw),n.push(t.qs);break;case Rk.wA:n.push(t.qs)}return n}Ik.fA="The license for this player is invalid.",Ik.aA="The usage license for this video player has expired.",Ik.oA="The current domain is incompatible with the license for this player.",Ik.cA="The provided video source is incompatible with the license for this player.",function(t){t[t.dA=1]="dA",t[t.lA=4]="lA",t[t.wA=5]="wA"}(Rk||(Rk={}));for(var Ck=new Array(256),Nk=0;Nk<256;Nk+=1)Ck[Nk]=(Nk<16?"0":"")+Nk.toString(16);function Ak(){var t=$t(),n=(4294967296*l.random()|0)+t&3029421624,r=(4294967296*l.random()|0)+t&3595553209,i=(4294967296*l.random()|0)+t&1130486254,e=(4294967296*l.random()|0)+t&1284287105;return Ck[255&n]+Ck[n>>>8&255]+Ck[n>>>16&255]+Ck[n>>>24&255]+"-"+Ck[255&r]+Ck[r>>>8&255]+"-"+Ck[r>>>16&15|64]+Ck[r>>>24&255]+"-"+Ck[63&i|128]+Ck[i>>>8&255]+"-"+Ck[i>>>16&255]+Ck[i>>>24&255]+Ck[255&e]+Ck[e>>>8&255]+Ck[e>>>16&255]+Ck[e>>>24&255]}var Ok=function(){function t(t){this.SN=t}var n=t.prototype;return n.RN=function(t){var n,r,i,e,u,s,o,c=[];if(!t)return"";for(n=0;n<t.length;n+=4)r=(o=this.SN.indexOf(t.charAt(n))<<18|this.SN.indexOf(t.charAt(n+1))<<12|(u=this.SN.indexOf(t.charAt(n+2)))<<6|(s=this.SN.indexOf(t.charAt(n+3))))>>>16&255,i=o>>>8&255,e=255&o,c[n/4]=String.fromCharCode(r,i,e),64===s&&(c[n/4]=String.fromCharCode(r,i)),64===u&&(c[n/4]=String.fromCharCode(r));return c.join("")},n.IN=function(t){var n,r,i,e,u,s,o,c=[],a="";if((s=t.length%3)>0)for(;s++<3;)a+=this.SN.charAt(64),t+="\0";for(s=0;s<t.length;s+=3)r=(n=t.charCodeAt(s)<<16|t.charCodeAt(s+1)<<8|t.charCodeAt(s+2))>>18&63,i=n>>12&63,e=n>>6&63,u=63&n,c[s/3]=this.SN.charAt(r)+this.SN.charAt(i)+this.SN.charAt(e)+this.SN.charAt(u);return(o=c.join("")).slice(0,o.length-a.length)+a},t}();function xk(){return N.fd()}Ok.fp=new Ok(function(){var t,n,r,i,e=[],u=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<u.length;t+=1)for(n=u[t],r=0;r<n.length;r+=1)i=n.charAt(r),-1===e.indexOf(i)&&e.push(i);return e.join("")}()),Ok.DN=new Ok(Ok.fp.RN("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop"));var Pk,Lk="theoplayer-session-id";function Fk(){if(!Pk){var t=xs.Gs(Lk);t?Pk=t:(Pk=Ak(),xs.aa(Lk,Pk))}return Pk}var Bk=/[^\x00-\x7E]/g;function Mk(t){return"\\u"+function(t,n,r){void 0===r&&(r=" ");var i=r,e=(0|n)-t.length;return e<=0?t:(e>i.length&&(i+=function(t,n){var r=0|n;if(0===t.length||0===r)return"";for(var i=t,e="";1==(1&r)&&(e+=i),0!=(r>>>=1);)i+=i;return e}(i,e/i.length)),i.slice(0,e)+t)}(t.charCodeAt(0).toString(16),4,"0")}var Uk=0,qk=1,Vk=6e4;function jk(t){var n,r,i,e,u,s=(n=function(t){return[t.yA,t.Lo,t.PN,t.Dm,t.gA,t._A,t.pA.map(Dk)]}(t),r=[],i=n,e=function(t,n){if(J(n)){if(-1!==r.indexOf(n))return null;r.push(n)}return n},JSON.stringify(i,e,u).replace(Bk,Mk));return Ok.DN.IN(s)}var Hk=function(){function t(t,n,r,i,e,u){var s=this;void 0===i&&(i=Ok.fp),void 0===e&&(e=Uk),void 0===u&&(u=qk),this.rS=t,this.dT=n,this.mA=r,this.kA=i,this.bA=e,this.TA=u,this.EA=[],this.SA=null,this.RA=0,this.IA="unknown",this.DA=0,this.CA=function(){xk()-s.RA>Vk&&s.NA()},this.AA=function(){s.NA(!0)},E.li(this.AA),a(this.CA,Vk)}var n=t.prototype;return n.OA=function(){return Boolean(this.gA)},n.xA=function(){var t=D.coroutine(vn.mark(function t(n){var r;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.mA.PA();case 2:if(t.sent.VN){t.next=5;break}return t.abrupt("return");case 5:return r={hA:Rk.dA,vA:$t(),Hl:n},t.next=8,this.LA(r);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.FA=function(){var t=D.coroutine(vn.mark(function t(n,r){var i;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i={hA:Rk.lA,vA:$t(),bw:r,qs:n},t.next=3,this.LA(i);case 3:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),n.BA=function(){var t=D.coroutine(vn.mark(function t(n){var r;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={hA:Rk.wA,vA:$t(),qs:n},t.next=3,this.LA(r);case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.LA=function(){var t=D.coroutine(vn.mark(function t(n){var r;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.mA.PA();case 2:if(r=t.sent,"a:n[_O*[C4C-N$_@_MYY $D]iOp]N$_-_]th_:c|aen?C:pH"!==this.kA.IN(r.PN)){t.next=6;break}if(n.hA===Rk.wA){t.next=6;break}return t.abrupt("return");case 6:if(n.hA===Rk.dA?this.MA():this.OA()||this.MA(),n.lb=this.DA++,this.EA.push(n),(i=n.hA)!==Rk.dA&&i!==Rk.wA){t.next=14;break}return t.next=12,this.NA();case 12:t.next=19;break;case 14:if(!(this.EA.length>this.bA)){t.next=19;break}return t.next=17,this.UA();case 17:t.next=19;break;case 19:case"end":return t.stop()}var i},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.NA=function(){var t=D.coroutine(vn.mark(function t(n){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:void 0===n&&(n=!1);case 1:if(!(this.EA.length>0)){t.next=6;break}return t.next=4,this.UA(n);case 4:t.next=1;break;case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.qA=function(){var t=D.coroutine(vn.mark(function t(n){var r;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.mA.PA();case 2:return r=t.sent,t.abrupt("return",{yA:$t(),Lo:Fk(),PN:this.kA.IN(r.PN)||"dev",Dm:this.rS,gA:this.SA,_A:this.IA,pA:n});case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.UA=function(){var t=D.coroutine(vn.mark(function t(n){var r,i;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===n&&(n=!1),r=this.EA.splice(0,this.TA),t.next=4,this.qA(r);case 4:i=t.sent,n?this.iv(i):this.VA(i),this.RA=xk();case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.VA=function(){var t=D.coroutine(vn.mark(function t(n){var r,i,e;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=jk(n),i=new mf({Ph:"https://license.theoplayer.com",yh:r,nv:!1,Ch:Ms.Ye,Dh:{"Content-Type":c_.aS},Qh:4e3,Jh:wf.POST}),t.prev=2,t.next=5,this.dT.Oh(i);case 5:return e=t.sent,t.next=8,e.dh();case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),(new Image).src="https://licensing.theoplayer.com/t?"+r;case 13:case"end":return t.stop()}},t,this,[[2,10]])}));return function(n){return t.apply(this,arguments)}}(),n.iv=function(t){var n=jk(t);this.dT.iv({Ph:"https://license.theoplayer.com",yh:n,wh:c_.aS})},n.MA=function(){this.OA()&&this.NA(),this.SA=Ak(),this.DA=0},n.ai=function(){E.wi(this.AA),this.NA()},P(t,[{key:"pA",get:function(){return this.EA}},{key:"gA",get:function(){return this.SA}}]),t}();var Wk=!$.pe&&!$.Ce;function $k(t,n,r){var i=t.getImageData(n,r,1,1).data;return 0===i[0]&&0===i[1]&&0===i[2]&&0===i[3]}var zk=function(){function t(t){this.Bd=void 0,this.jA=void 0,this.UI=t}var n=t.prototype;return n.HA=function(t){if(!t||!t.drawImage)return!1;var n=this.UI.vy();if(!n)return!1;for(var r=arguments.length,i=new Array(r>1?r-1:0),e=1;e<r;e++)i[e-1]=arguments[e];return t.drawImage.apply(t,[n].concat(i)),!0},n.WA=function(t,n,r,i,u,s){if(!t||!t.texImage2D)return!1;var o=this.UI,c=o.vy();if(!c)return!1;if(!Wk){this.jA||(this.jA=e.createElement("canvas"));var a=this.jA,f=a.getContext("2d"),v=o.Aw,d=o.Nw,l=a.width,w=a.height;f.clearRect(0,0,a.width,a.height),l===v&&w===d||(a.width=v,a.height=d),f.drawImage(c,0,0,v,d);var y=!1;v>0&&$k(f,v-1,0)&&(a.width=l,y=!0),d>0&&$k(f,0,d-1)&&(a.height=w,y=!0),y&&f.drawImage(c,0,0,v,d),c=a}try{t.texImage2D(n,r,i,u,s,c)}catch(t){throw new h("Error trying to render video content to the WebGLRenderingContext. This is most likely due to CORS restrictions. https://support.theoplayer.com/hc/en-us/articles/115003094385#Considerations")}return!0},P(t,[{key:"Md",get:function(){return this.Bd||(this.Bd=(t=this,{drawImage:function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),e=1;e<r;e++)i[e-1]=arguments[e];return t.HA.apply(t,[n].concat(i))},texImage2D:function(n,r,i,e,u,s){return t.WA(n,r,i,e,u,s)}}));var t}}]),t}(),Xk=function(t){function n(n,r){var i;return(i=t.call(this,"$A")||this).sa=n,i.uk=r,i}return Gt(n,t),n.prototype.Ud=function(){return new Gk(this.sa,this.uk)},n}(uv),Gk=function(t){function n(n,r){var i;return(i=t.call(this,"dimensionchange")||this).width=n,i.height=r,i}return Gt(n,t),n}(pr),Yk=function(t,n){this.Ty=t,this.zA=n},Kk=function(t){function n(n,r){var i;return(i=t.call(this,n,r)||this).XA=0,i.GA=0,i.YA=function(t){if(t.length>0){var n=t[t.length-1].contentRect;i.GA=n.width,i.XA=n.height,i.zA(i.GA,i.XA)}},i.KA=new S.ResizeObserver(i.YA),i.KA.observe(i.Ty),i}return Gt(n,t),n.prototype.ai=function(){this.KA.disconnect()},P(n,[{key:"JA",get:function(){return this.XA}},{key:"QA",get:function(){return this.GA}}]),n}(Yk),Jk=0;var Qk,Zk=c,tb=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,nb=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelRequestAnimationFrame;function rb(){return Qk||(Qk=S&&S.document&&S.document.createElement("span")),Qk}tb&&nb||(tb=function(t){var n=xk(),r=l.max(0,16-(n-Jk)),i=o(function(){return t(n+r)},r);return Jk=n+r,i},nb=Zk),tb=tb.bind(t),nb=nb.bind(t);var ib=["Webkit","Moz","O","ms"],eb=(function(){var t=!1;try{if(void 0!==S&&"function"==typeof S.addEventListener){var n=d.defineProperty({},"passive",{get:function(){t=!0}});S.addEventListener("testPassiveEventSupport",it,n),S.removeEventListener("testPassiveEventSupport",it,n)}}catch(t){}}(),wn());function ub(t){return eb.has(t)||eb.set(t,function(t){var n=rb();if(!n||!n.style)return t;if(void 0!==n.style[t])return t;for(var r=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<ib.length;i++){var e=ib[i],u=e+r;if(void 0!==n.style[u])return u}return t}(t)),eb.get(t)}function sb(t){var n=t.style;n.position="absolute",n.left=n.right=n.bottom=n.top="0",n.overflow="scroll",n.zIndex="-1",n.visibility="hidden"}function ob(t){var n=t.style;n.position="absolute",n.left=n.top="0",n[ub("transition")]="0s"}var cb=function(t){function n(n,r,i){var e;return(e=t.call(this,n,r)||this).ZA=void 0,e.tO=0,e.GA=NaN,e.XA=NaN,e.nO=void 0,e.wl=function(){e.rO.style.width=1e5+"px",e.rO.style.height=1e5+"px",e.iO.scrollLeft=1e5,e.iO.scrollTop=1e5,e.eO.scrollLeft=1e5,e.eO.scrollTop=1e5,0===e.eO.scrollTop&&tb(e.wl)},e.uO=function(){var t=e.QA,n=e.JA;e.zA(t,n),e.GA=t,e.XA=n,e.wl(),e.tO=0},e.sO=function(){if(!e.tO){var t=e.QA,n=e.JA;t===e.GA&&n===e.XA||(e.tO=tb(e.uO))}},e.oO=function(){e.nO||(e.nO=o(e.cO,66))},e.cO=function(){e.nO=void 0,e.aO()},e.aO=function(){e.sO()},e.Uo(i),e}Gt(n,t);var r=n.prototype;return r.fO=function(){var t,n=this.Ty,r=e.createElement("div");return this.iO=e.createElement("div"),this.rO=e.createElement("div"),this.eO=e.createElement("div"),this.hO=e.createElement("div"),sb(this.iO),sb(this.eO),ob(this.rO),ob(t=this.hO),t.style.width="200%",t.style.height="200%",r.appendChild(this.iO),r.appendChild(this.eO),this.iO.appendChild(this.rO),this.eO.appendChild(this.hO),n&&n.appendChild(r),this.sO(),this.iO.addEventListener("scroll",this.sO),this.eO.addEventListener("scroll",this.sO),r},r.Uo=function(t){var n=this.Ty,r=function(t,n){return i.getComputedStyle(t,void 0).getPropertyValue(n)||t.style[n]}(n,"position");t||"static"!==r||(n.style.position="relative"),this.ZA=this.fO(),i&&i.addEventListener("resize",this.oO)},r.ai=function(){this.ZA&&(nb(this.tO),this.tO=0,this.iO.removeEventListener("scroll",this.sO),this.eO.removeEventListener("scroll",this.sO),se(this.ZA),this.ZA=void 0,i&&i.removeEventListener("resize",this.oO))},P(n,[{key:"JA",get:function(){return this.Ty&&this.Ty.getBoundingClientRect().height||this.XA||0}},{key:"QA",get:function(){return this.Ty&&this.Ty.getBoundingClientRect().width||this.GA||0}}]),n}(Yk),ab=function(t){function n(n){var r;return(r=t.call(this)||this).KA=void 0,r.YA=function(t,n){r.Es(new Xk(t,n))},r.Ty=n,r}Gt(n,t);var r=n.prototype;return r.Uo=function(t){this.KA||("function"==typeof S.ResizeObserver?this.KA=new Kk(this.Ty,this.YA):this.KA=new cb(this.Ty,this.YA,t))},r.ai=function(){this.Cs(),this.KA&&(this.KA.ai(),this.KA=void 0)},P(n,[{key:"JA",get:function(){return this.KA?this.KA.JA:0}},{key:"QA",get:function(){return this.KA?this.KA.QA:0}}]),n}(gr),fb=function(t){function n(){return t.call(this,Gp.Jd)||this}return Gt(n,t),n}(pr);!function(){if(e)for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0;n<t.length;n++){var r=t[n];if(r[1]in e)return{vO:r[0],dO:r[1],lO:r[2],wO:r[3],yO:r[4],gO:r[5]}}}();var hb=function(t){function n(){return t.call(this,Gp.HD)||this}return Gt(n,t),n}(pr),vb=function(t){function n(n,r){var i;return(i=t.call(this)||this)._O=!1,i.pO=function(){return i.No()},i.lC=function(t){i._O||i.Es(t)},i.UI=n,i.mO=r,i.kO=Qp,i.bO(),i.UI.Rs(Bs.ba,i.pO),i.No(),i}Gt(n,t);var r=n.prototype;return r.Jy=function(){this.mO&&this.kO.Jy()},r.Zy=function(){this.kO.Zy()},r.bO=function(){this.kO.Rs(Gp.Jd,this.lC),this.kO.Rs(Gp.Pl,this.Ts)},r.TO=function(){this.kO.Ns(Gp.Jd,this.lC),this.kO.Ns(Gp.Pl,this.Ts)},r.No=function(){var t=this.kO,n=this.UI.ly();if(t!==n){this._O=!0;var r=this.WD,i=this.$D;r&&this.Zy(),this.TO(),this.kO=n,this.bO(),r&&!this.WD&&this.$D?this.Jy():this.Zy(),this._O=!1,i!==this.$D&&this.Es(new hb),r!==this.WD&&this.Es(new fb)}},r.ai=function(){this.Cs(),this.TO(),this.UI.Ns(Bs.ba,this.pO)},P(n,[{key:"$D",get:function(){return!!this.mO&&this.kO.$D}},{key:"WD",get:function(){return this.kO.WD}}]),n}(gr);function db(t){var n;return{get url(){return t.Ph},get method(){return t.Jh},get headers(){return n||(n=t.Dh.Ja()),n},get body(){return t.yh},get useCredentials(){return t.nv},get type(){return _b(t.Mu)},get subType(){return mb(t.Zh)},get mediaType(){return bb(t.tv)},get responseType(){return wb(t.Ch)}}}function lb(t){switch(t.toLowerCase()){case"arraybuffer":return Ms.Ga;case"json":return Ms.Ya;case"stream":return Ms.Ka;case"text":default:return Ms.Ye}}function wb(t){return t}function yb(t){switch(t.toUpperCase()){case"POST":return wf.POST;case"PUT":return wf.PUT;case"DELETE":return wf.DELETE;case"HEAD":return wf.HEAD;case"OPTIONS":return wf.OPTIONS;case"GET":default:return wf.GET}}function gb(t){switch(t.toLowerCase()){case"manifest":return yf.Bh;case"segment":return yf.Mh;case"content-protection":return yf.Uh;default:return yf.Fh}}function _b(t){return t}function pb(t){switch(t.toLowerCase()){case"initialization-segment":return gf.qh;case"fairplay-license":return gf.Vh;case"fairplay-certificate":return gf.jh;case"widevine-license":return gf.Hh;case"widevine-certificate":return gf.Wh;case"playready-license":return gf.$h;case"clearkey-license":return gf.zh;case"aes128-key":return gf.Xh;default:return gf.Fh}}function mb(t){return t}function kb(t){switch(t.toLowerCase()){case"audio":return _f.Gh;case"video":return _f.Yh;case"text":return _f.Ye;case"image":return _f.Kh;case"":default:return _f.Fh}}function bb(t){return t}var Tb=function(){function t(t,n){this.EO=t,this.SO=n,this.RO=new Si,this.IO=[],this.Bd=void 0,this.DO=!1,this.yv=void 0,this.CO=0}var n=t.prototype;return n.gm=function(){this.DO=!0,this.RO.ao(null)},n.NO=function(){this.RO.fo(this.IO)},n.AO=function(t){if(!this.OO)throw new v("Cannot respond more than once");if(!J(t))throw new v("Expected valid response");this.yv=this.xO(t),this.gm()},n.PO=function(){try{var t=this.SO(this.Md);t?this.LO(t):this.FO||this.BO||this.gm()}catch(t){this.NO()}},n.LO=function(t){if(this.BO)throw new h("Request has been redirected or a response already exists");if(nt(t))this.MO(t);else{if("function"!=typeof t)throw new v("Expected promise or function");var n=new Si;try{var r=t(function(t){t?n.fo(t):n.ao(void 0)});nt(r)&&n.ao(r)}catch(t){n.fo(t)}this.MO(n.co)}},n.MO=function(){var t=D.coroutine(vn.mark(function t(n){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.CO++,t.next=4,n;case 4:this.CO--,this.FO||this.BO||(this.IO.length?this.NO():this.gm()),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(0),this.CO--,this.IO.push(t.t0),this.FO||this.BO||this.NO();case 13:case"end":return t.stop()}},t,this,[[0,8]])}));return function(n){return t.apply(this,arguments)}}(),P(t,[{key:"UO",get:function(){return this.RO.co}},{key:"Md",get:function(){return this.Bd||(this.Bd=this.qO()),this.Bd}},{key:"BO",get:function(){return this.DO}},{key:"OO",get:function(){return!this.DO}},{key:"FO",get:function(){return this.CO>0}},{key:"gv",get:function(){return this.yv}}]),t}(),Eb=function(t){function n(n,r,i){var e;return(e=t.call(this,n,r)||this).VO=i,e.PO(),e}Gt(n,t),n.jO=function(t,n,r){var i=void 0===t.body?r:t.body;return new pf({Eu:i,Oh:n.Oh,Ch:n.Oh.Ch,Dh:t.headers,Ih:t.status,Nh:t.statusText,xh:t.url,Ah:!0},n)};var r=n.prototype;return r.qO=function(){return r=db((t=this).Oh),{get closed(){return!t.OO},get request(){return r},get url(){return t.Ph},get status(){return t.Ih},get statusText(){return t.Nh},get headers(){return n||(n=t.Dh.Ja()),n},get body(){return t.yh},respondWith:function(n){return t.AO(n)},waitUntil:function(n){return t.LO(n)}};var t,n,r},r.xO=function(t){return n.jO(t,this.EO,this.VO)},P(n,[{key:"yh",get:function(){return this.VO}},{key:"Dh",get:function(){return this.EO.Dh}},{key:"Oh",get:function(){return this.EO.Oh}},{key:"gv",get:function(){return this.yv}},{key:"Ih",get:function(){return this.EO.Ih}},{key:"Nh",get:function(){return this.EO.Nh}},{key:"Ph",get:function(){return this.EO.xh}}]),n}(Tb),Sb=function(t){function n(n,r,i){var e;return(e=t.call(this,n,r)||this).HO=void 0,e.WO=i,e.PO(),e}Gt(n,t);var r=n.prototype;return r.qO=function(){return t=this,{get url(){return t.Ph},get method(){return t.Jh},get headers(){return n||(n=t.Dh.Ja()),n},get body(){return t.yh},get closed(){return!t.OO},get useCredentials(){return t.nv},get type(){return _b(t.Mu)},get subType(){return mb(t.Zh)},get mediaType(){return bb(t.tv)},get responseType(){return wb(t.Ch)},redirect:function(n){return t.$O(n)},respondWith:function(n){return t.AO(n)},waitUntil:function(n){return t.LO(n)}};var t,n},r.xO=function(t){var n=this.EO.yh,r=new pf({Eu:n,Dh:{},Oh:this.EO,xh:this.EO.Ph,Ch:this.EO.Ch,Ih:200,Nh:"OK"});return Eb.jO(t,r,n)},r.$O=function(t){if(!this.OO)throw new v("Cannot redirect, already redirected or has a response");var n;n=Z(t)?{url:t}:t,this.HO=function(t,n){return new mf({Ph:void 0===t.url?n.Ph:t.url,Jh:void 0!==t.method?yb(t.method):void 0,Dh:t.headers,yh:t.body,nv:t.useCredentials,Mu:void 0!==t.type?gb(t.type):void 0,Zh:void 0!==t.subType?pb(t.subType):void 0,tv:void 0!==t.mediaType?kb(t.mediaType):void 0,Ch:void 0!==t.responseType?lb(t.responseType):void 0},n)}(n,this.EO),this.gm()},P(n,[{key:"yh",get:function(){return this.EO.yh}},{key:"OO",get:function(){return this.WO&&!this.DO}},{key:"Dh",get:function(){return this.EO.Dh}},{key:"Jh",get:function(){return this.EO.Jh}},{key:"zO",get:function(){return this.HO}},{key:"gv",get:function(){return this.yv}},{key:"Ch",get:function(){return this.EO.Ch}},{key:"Qh",get:function(){return this.EO.Qh}},{key:"ps",get:function(){return this.EO.ps}},{key:"Mu",get:function(){return this.EO.Mu}},{key:"Zh",get:function(){return this.EO.Zh}},{key:"tv",get:function(){return this.EO.tv}},{key:"Ph",get:function(){return this.EO.Ph}},{key:"nv",get:function(){return this.EO.nv}},{key:"rv",get:function(){return this.EO.rv}}]),n}(Tb);var Rb,Ib=function(t){function n(n,r){var i;void 0===r&&(r=!0);var e=new Db(n);return(i=t.call(this,e,r)||this).XO=e,i}Gt(n,t);var r=n.prototype;return r.GO=function(t){this.XO.GO(t)},r.YO=function(t){this.XO.YO(t)},r.KO=function(t){this.XO.KO(t)},r.JO=function(t){this.XO.JO(t)},r.QO=function(t){this.XO.QO(t)},n}(Tf),Db=function(){function t(t){this.ZO=[],this.tx=[],this.ev=t}var n=t.prototype;return n.Oh=function(){var t=D.coroutine(vn.mark(function t(n){var r;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.nx(n,n.ps);case 3:r=t.sent,t.next=13;break;case 6:if(t.prev=6,t.t0=t.catch(0),!(t.t0 instanceof Ef)){t.next=12;break}return t.next=11,this.ix(t.t0,n.ps);case 11:return t.abrupt("return",t.sent);case 12:throw t.t0;case 13:return t.next=15,this.ex(r,n.ps);case 15:if(!lf(r=t.sent)){t.next=20;break}return t.abrupt("return",r);case 20:throw new Rf(r);case 21:case"end":return t.stop()}},t,this,[[0,6]])}));return function(n){return t.apply(this,arguments)}}(),n.iv=function(t){return this.ev.iv(t)},n.nx=function(){var t=D.coroutine(vn.mark(function t(n,r){var i,e,u,s,o,c;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:er(r),i=n,u=0,s=this.ZO.slice();case 3:if(!(u<s.length)){t.next=21;break}if(o=s[u],er(r),(c=new Sb(i,o,!e)).BO){t.next=17;break}return t.prev=8,t.next=11,c.UO;case 11:t.next=17;break;case 13:return t.prev=13,t.t0=t.catch(8),t.abrupt("continue",18);case 17:c.zO&&!e?i=c.zO:c.gv&&!e&&(e=c.gv);case 18:u++,t.next=3;break;case 21:if(!e){t.next=23;break}return t.abrupt("return",e);case 23:return t.abrupt("return",this.ev.Oh(i));case 24:case"end":return t.stop()}},t,this,[[8,13]])}));return function(n,r){return t.apply(this,arguments)}}(),n.ix=function(){var t=D.coroutine(vn.mark(function t(n,r){var i,e;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n instanceof Rf?n.gv:new pf({Eu:null,Oh:n.Oh,Ih:0,Nh:""}),t.next=3,this.ex(i,r);case 3:if((e=t.sent)!==i){t.next=8;break}throw n;case 8:if(!lf(e)){t.next=12;break}return t.abrupt("return",e);case 12:throw new Rf(e);case 13:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),n.ex=function(){var t=D.coroutine(vn.mark(function t(n,r){var i,e,u,s,o,c;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=n,e=0,u=this.tx.slice();case 2:if(!(e<u.length)){t.next=23;break}return s=u[e],er(r),t.next=7,D.resolve(i.io().Eu(r));case 7:if(o=t.sent,(c=new Eb(i,s,o)).BO){t.next=19;break}return t.prev=10,t.next=13,c.UO;case 13:t.next=19;break;case 15:return t.prev=15,t.t0=t.catch(10),t.abrupt("continue",20);case 19:i=c.gv||i;case 20:e++,t.next=2;break;case 23:return t.abrupt("return",i);case 24:case"end":return t.stop()}},t,this,[[10,15]])}));return function(n,r){return t.apply(this,arguments)}}(),n.GO=function(t){this.ZO.unshift(t)},n.YO=function(t){this.ZO.push(t)},n.KO=function(t){Kn(this.ZO,t)},n.JO=function(t){this.tx.unshift(t)},n.QO=function(t){Kn(this.tx,t)},n.ai=function(){this.ev.ai(),Zn(this.ZO),Zn(this.tx)},t}(),Cb=function(t){function n(n,r,i){var e;return(e=t.call(this,r)||this).ux=n,e.dT=r,e.ZD=i,e.ux.Rs(Bs.Da,e.Ts),e.ux.Rs(Bs.Ia,e.Ts),e}Gt(n,t);var r=n.prototype;return r.sx=function(t){this.ZD.sx(t)},r.GO=function(t){this.dT.GO(t)},r.KO=function(t){this.dT.KO(t)},r.JO=function(t){this.dT.JO(t)},r.QO=function(t){this.dT.QO(t)},r.ai=function(){this.Cs(),this.ux.Ns(Bs.Da,this.Ts),this.ux.Ns(Bs.Ia,this.Ts)},P(n,[{key:"Md",get:function(){var t;return this.Bd||(this.Bd=(t=this,{get online(){return t.Ay},get estimator(){return n=t.ox,{get bandwidth(){return n.AR},get roundTripTime(){return n.OR}};var n},setEstimator:function(n){t.sx(function(t){if(t)return{get AR(){return Rv(t.bandwidth)},get OR(){return Rv(t.roundTripTime)},NR:function(n){return function(t){if(t)return{ax:function(n){t.markRequestStart(n)},hx:function(n){t.markResponseStart(n)},vx:function(n,r){t.markResponseData(n,r)},lx:function(n){t.markResponseEnd(n)}}}(t.createMeasurer(db(n)))}}}(n))},addRequestInterceptor:function(n){t.GO(n)},removeRequestInterceptor:function(n){t.KO(n)},addResponseInterceptor:function(n){t.JO(n)},removeResponseInterceptor:function(n){t.QO(n)},addEventListener:function(n,r){t.Rs(n,r)},removeEventListener:function(n,r){t.Ns(n,r)}})),this.Bd}},{key:"Ay",get:function(){return this.ux.Ay}},{key:"ox",get:function(){return this.ZD.ox}}]),n}(Wv);!function(t){t.PERFORMANCE="performance",t.QUALITY="quality",t.BANDWIDTH="bandwidth"}(Rb||(Rb={}));var Nb=30,Ab={type:Rb.BANDWIDTH},Ob=20,xb=60;function Pb(t){var n,r,i,e=mv(Ab);return Z(t)?e.type=Lb(t):J(t)&&function(t){switch(t){case Rb.PERFORMANCE:case Rb.QUALITY:case Rb.BANDWIDTH:return!0;default:return!1}}(t.type)&&(e.type=Lb(t.type)),J(t)&&J(t.metadata)&&(e.metadata=(n=t.metadata,r={},i=Sv(n.bitrate),g(i)||(r.bitrate=i),r)),e}function Lb(t){switch(t){case"bandwidth":return Rb.BANDWIDTH;case"performance":return Rb.PERFORMANCE;case"quality":return Rb.QUALITY}}var Fb=function(t){function n(n){var r;return(r=t.call(this,"yx")||this).wx=n,r}return Gt(n,t),n}(pr),Bb=function(t){function n(n){var r;return(r=t.call(this,"_x")||this).gx=n,r}return Gt(n,t),n}(pr),Mb=function(t){function n(n){var r;return(r=t.call(this,"kx")||this).mx=n,r}return Gt(n,t),n}(pr),Ub=function(t){function n(){var n,r;return(n=t.apply(this,arguments)||this).Bd=(r=Kt(n),{get strategy(){return{metadata:(t=r.gx).metadata,type:(n=t.type,n)};var t,n},set strategy(t){r.gx=Pb(t)},get targetBuffer(){return r.wx},set targetBuffer(t){var n=Sv(t);g(n)||(r.wx=n>xb?xb:n)},get bufferLookbackWindow(){return r.mx},set bufferLookbackWindow(t){var n=Sv(t);g(n)||(r.mx=n<=0?Nb:n)}}),n.bx=Ab,n.Tx=Ob,n.Ex=Nb,n.Sx=void 0,n}Gt(n,t);var r=n.prototype;return r.HT=function(t){this.Rx=t},r.sx=function(t){this.Sx=t},P(n,[{key:"Ix",get:function(){switch(this.bx.type){case Rb.PERFORMANCE:return 0;case Rb.QUALITY:return 1/0;case Rb.BANDWIDTH:return this.bx.metadata&&void 0!==this.bx.metadata.bitrate?this.bx.metadata.bitrate:8*Gv.nw();default:return 8*Gv.nw()}}},{key:"Md",get:function(){return this.Bd}},{key:"gx",get:function(){return this.bx},set:function(t){this.bx=t,this.Es(new Bb(t))}},{key:"wx",get:function(){return this.Tx},set:function(t){this.Tx=t,this.Es(new Fb(t))}},{key:"mx",get:function(){return this.Ex},set:function(t){this.Ex=t,this.Es(new Mb(t))}},{key:"ox",get:function(){var t;return null!==(t=this.Sx)&&void 0!==t?t:this.Rx.EI}}]),n}(gr),qb=function(t){function n(){return t.call(this,"Qd")||this}return Gt(n,t),n.prototype.Ud=function(){return new Vb},n}(uv),Vb=function(t){function n(){return t.call(this,"change")||this}return Gt(n,t),n}(pr),jb=function(t){function n(n,r){var i;return(i=t.call(this,r)||this).Dx=function(t){var n;n=t,Boolean(n&&n.Md)&&fr(function(){i.Es(t.Md)})},i.Cx=n,i.Cx.Ds(i.Dx),i}return Gt(n,t),n.prototype.ai=function(){this.Cs(),this.Cx.xs(this.Dx)},n}(Wv),Hb=function(t){function n(){return t.apply(this,arguments)||this}return Gt(n,t),n}(jb);var Wb=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).cg=0,n.ag=1/0,n}Gt(n,t);var r=n.prototype;return r.wl=function(){0===this.cg&&this.ag===1/0||(this.cg=0,this.ag=1/0,this.Es(new qb))},r.Nx=function(){return new Yp([this.ng,this.rg],[!0,!0])},P(n,[{key:"ng",get:function(){return this.cg},set:function(t){if(this.rg<=t)throw new h("Start time of a clip should be smaller than the end time.");this.cg!==t&&(this.cg=t,this.Es(new qb))}},{key:"rg",get:function(){return this.ag},set:function(t){if(t<=this.ng)throw new h("End time of a clip should be larger than the start time.");this.ag!==t&&(this.ag=t,this.Es(new qb))}},{key:"Md",get:function(){var t,n,r;return this.Bd||(this.Bd=(r={get startTime(){return t.ng},set startTime(n){t.ng=n},get endTime(){return t.rg},set endTime(n){t.rg=n},addEventListener:function(t,r){n.Rs(t,r)},removeEventListener:function(t,r){n.Ns(t,r)}},n=new jb(t=this,r),r)),this.Bd}}]),n}(Wv),$b=function(t){function n(n){var r;return(r=t.call(this)||this).Ax=n,r.Ox=function(t){r.xx(t)||r.Es(t)},r.Ax.Ds(r.Ox),r}Gt(n,t);var r=n.prototype;return r.Px=function(){return this.Ax.Yw},r.wy=function(){return this.Ax.wy()},r.Lx=function(){return this.Ax.ky},r.Fx=function(){return this.Ax.py},r.Bx=function(){return this.Ax.by},r.Mx=function(t){this.Ax.by=t},r.Ux=function(){return this.Ax.bw},r.qx=function(t){this.Ax.bw=t},r.Vx=function(){return this.Ax.Tw},r.jx=function(){return this.Ax.Ty},r.Hx=function(){return this.Ax.Ew},r.Wx=function(){return this.Ax.qs},r.$x=function(){return this.Ax.Sw},r.zx=function(){return this.Ax.Ey},r.Xx=function(){return this.Ax.Rw},r.Gx=function(t){this.Ax.Rw=t},r.Yx=function(){return this.Ax.Ay},r.Kx=function(){return this.Ax.Iw},r.Jx=function(){return this.Ax.Dw},r.Qx=function(t){this.Ax.Dw=t},r.Zx=function(){return this.Ax.Oy},r.tP=function(){return this.Ax.xy},r.nP=function(t){this.Ax.xy=t},r.rP=function(){return this.Ax.ql},r.iP=function(){return this.Ax.Py},r.eP=function(){return this.Ax.Cw},r.ty=function(){return this.Ax.ty()},r.ny=function(){var t=D.coroutine(vn.mark(function t(n,r){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return er(r),t.next=3,this.Ax.ny(n,r);case 3:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),r.uP=function(){return this.Ax.Jw},r.sP=function(){return this.Ax.Nw},r.oP=function(){return this.Ax.Kw},r.cP=function(){return this.Ax.Aw},r.aP=function(){return this.Ax.Ow},r.fP=function(t){this.Ax.Ow=t},r.ly=function(){return this.Ax.ly()},r.vy=function(){return this.Ax.vy()},r.sy=function(t){this.Ax.sy(t)},r.oy=function(){this.Ax.oy()},r.hy=function(){this.Ax.hy()},r.vi=function(){this.Ax.vi()},r.ui=function(){this.Ax.ui()},r.ei=function(){this.Ax.ei()},r.ay=function(){this.Ax.ay()},r.Zw=function(){return this.Ax.Zw()},r.iy=function(){return this.Ax.iy()},r.ey=function(){this.Ax.ey()},r.uy=function(){this.Ax.uy()},r.wl=function(){return this.Ax.wl()},r.ai=function(){return this.Ax.ai()},r.my=function(){this.Ax.my()},r.yy=function(t){return this.Ax.yy(t)},r.xx=function(t){return!1},P(n,[{key:"Yw",get:function(){return this.Px()}},{key:"ky",get:function(){return this.Lx()}},{key:"by",get:function(){return this.Bx()},set:function(t){this.Mx(t)}},{key:"py",get:function(){return this.Fx()}},{key:"bw",get:function(){return this.Ux()},set:function(t){this.qx(t)}},{key:"Tw",get:function(){return this.Vx()}},{key:"Ty",get:function(){return this.jx()}},{key:"Ew",get:function(){return this.Hx()}},{key:"qs",get:function(){return this.Wx()}},{key:"Sw",get:function(){return this.$x()}},{key:"Qw",get:function(){return this.Ax.Qw}},{key:"Ey",get:function(){return this.zx()}},{key:"qw",get:function(){return this.Ax.qw}},{key:"Rw",get:function(){return this.Xx()},set:function(t){this.Gx(t)}},{key:"Ay",get:function(){return this.Yx()}},{key:"Iw",get:function(){return this.Kx()}},{key:"Dw",get:function(){return this.Jx()},set:function(t){this.Qx(t)}},{key:"Oy",get:function(){return this.Zx()}},{key:"xy",get:function(){return this.tP()},set:function(t){this.nP(t)}},{key:"ql",get:function(){return this.rP()}},{key:"Py",get:function(){return this.iP()}},{key:"Cw",get:function(){return this.eP()}},{key:"Jw",get:function(){return this.uP()}},{key:"Nw",get:function(){return this.sP()}},{key:"Kw",get:function(){return this.oP()}},{key:"Aw",get:function(){return this.cP()}},{key:"Ow",get:function(){return this.aP()},set:function(t){this.fP(t)}}]),n}($v),zb=function(t){function n(r,i){var e;return(e=t.call(this,r)||this).hP=!1,e.vP=void 0,e.dP=!1,e.lP=function(){e.wP(),e.yP()},e.UR=function(){e.gP(),e.yP(),e._P&&e.bw>=e.pP.rg-n.mP&&!e.Ew&&(e.vP=tb(e.UR))},e.kP=function(){e.dP=!0},e.bP=function(){e.dP&&(e.dP=!1,e.yP())},e.pP=i,e.pP.Rs("Qd",e.lP),e.Ax.Rs("timeupdate",e.UR),e}Gt(n,t);var r=n.prototype;return r.qx=function(n){var r=this.pP.Nx().mD(n);t.prototype.qx.call(this,r),this.yP()},r.Hx=function(){return t.prototype.Hx.call(this)||this.hP},r.iP=function(){return Yp.eD(t.prototype.iP.call(this)).kD(this.pP.Nx()).mI()},r.ei=function(){this.Hx()?this.qx(this.TP.start(0)):this.wP(),t.prototype.ei.call(this),this.yP()},r.ny=function(){var n=D.coroutine(vn.mark(function n(r,i){return vn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return er(i),this.hP=!1,this.pP.wl(),n.next=5,t.prototype.ny.call(this,r,i);case 5:case"end":return n.stop()}},n,this)}));return function(t,r){return n.apply(this,arguments)}}(),r.ai=function(){return this.pP.Ns("Qd",this.lP),this.Ax.Ns("timeupdate",this.UR),this.gP(),t.prototype.ai.call(this)},r.xx=function(n){switch(n.type){case"seeking":return this.Es(n),this.kP(),!0;case"seeked":case"emptied":return this.Es(n),this.bP(),!0;case"ended":if(this._P)return!0}return t.prototype.xx.call(this,n)},r.gP=function(){this.vP&&(nb(this.vP),this.vP=void 0)},r.yP=function(){var t=this.bw,r=this._P&&t>=this.pP.rg-n.P_;this.hP&&!r?(this.hP=!1,this.Iw&&this.ei()):this.hP||!r||this.Cw||this.dP||(this.hP=!0,this.Es(new Sd(t)),this.ui())},r.wP=function(){if(this.Tw!==1/0){var t=this.TP,r=Yp.eD(t).mD(this.bw);Ht(this.bw,r,n.P_)||this.qx(r)}},P(n,[{key:"TP",get:function(){return this.iP().length?this.iP():this.pP.Nx().mI()}},{key:"_P",get:function(){return this.pP.rg<this.Tw}}]),n}($b);zb.mP=1,zb.P_=.001;var Xb=function(){function t(){this.EP=!1}return P(t,[{key:"SP",get:function(){return this.EP},set:function(t){this.EP=t}}]),t}(),Gb=function(t){function n(n,r){var i;return(i=t.call(this,n)||this).RP=!1,i.IP=!1,i.EP=r,i}Gt(n,t);var r=n.prototype;return r.Hx=function(){return!this.EP.SP&&t.prototype.Hx.call(this)},r.ui=function(){this.IP=!0,t.prototype.ui.call(this)},r.ei=function(){this.IP=!1,t.prototype.ei.call(this)},r.xx=function(n){if(this.EP.SP)switch(n.type){case"ended":return this.bw=0,this.IP||(this.Cw?this.RP=!0:this.ei()),!0;case"seeked":this.RP&&(this.RP=!1,this.ei());break;case"pause":if(this.RP||t.prototype.Hx.call(this))return!0}return t.prototype.xx.call(this,n)},n}($b);var Yb=function(){function t(t){var n;this.KI=t,this.Bd=(n=this,{get currentBandwidthEstimate(){return n.Dy},get corruptedVideoFrames(){return n.Ry},get droppedVideoFrames(){return n.Sy},get totalBytesLoaded(){return n.Cy},get bufferedSegments(){return n.Ny}})}return P(t,[{key:"Md",get:function(){return this.Bd}},{key:"Ry",get:function(){return this.KI.DP.qw.Ry}},{key:"Dy",get:function(){return this.KI.DP.qw.Dy}},{key:"Sy",get:function(){return this.KI.DP.qw.Sy}},{key:"CP",get:function(){throw new h("Not implemented")}},{key:"NP",get:function(){throw new h("Not implemented")}},{key:"Cy",get:function(){return this.KI.DP.qw.Cy}},{key:"Iy",get:function(){return this.KI.DP.qw.Iy}},{key:"Ny",get:function(){return this.KI.DP.qw.Ny}}]),t}(),Kb=function(t){function n(){return t.call(this,"AP")||this}return Gt(n,t),n.prototype.Ud=function(){return new Jb},n}(uv),Jb=function(t){function n(){return t.call(this,"castingchange")||this}return Gt(n,t),n}(pr);var Qb=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).OP=[],n.Bd=void 0,n.xP=function(){return n.Es(new Kb)},n}Gt(n,t);var r=n.prototype;return r.PP=function(t){this.OP.push(t),t.Rs("statechange",this.xP)},r.ai=function(){var t=this;this.OP.forEach(function(n){n.Ns("statechange",t.xP)}),Zn(this.OP)},P(n,[{key:"LP",get:function(){return this.OP.some(function(t){return t.LP})}},{key:"Md",get:function(){var t,n,r;return this.Bd||(this.Bd=(r={get casting(){return t.LP},addEventListener:function(t,r){n.Rs(t,r)},removeEventListener:function(t,r){n.Ns(t,r)}},n=new Hb(t=this,r),r)),this.Bd}}]),n}($v),Zb=function(){function t(){}return t.FP=function(){var t=D.coroutine(vn.mark(function t(n,r){var i,e;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,i=new mf({Ph:n,Ch:Ms.Ye,Jh:wf.GET}),t.next=4,r.Oh(i);case 4:return e=t.sent,t.next=7,e.Eu();case 7:return t.abrupt("return",t.sent);case 10:return t.prev=10,t.t0=t.catch(0),ir(t.t0),t.abrupt("return",void 0);case 14:case"end":return t.stop()}},t,null,[[0,10]])}));return function(n,r){return t.apply(this,arguments)}}(),t.BP=function(t){try{var r=vk(t);return new _k(r.key,r.domains_page,r.domains_source,r.expiration_date,r.customer_id,r.generation_date,r.sdks,r.send_impression)}catch(t){throw new Yi(n.ErrorCode.LICENSE_ERROR,"Invalid license. No valid license was configured.")}},t.MP=function(t){void 0===t&&(t=Ok.fp),N.vd("The baked-in license is used. Please update the configuration with your license.");var n=t.RN(".$hsF|b9_Ess*r[Y.4(HiEagT@Y@Cen3Cec3Cl\"\""),r=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.RN(n)}),i=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.RN(n)}),e=Number(new Date(Number(t.RN("COD|aHpHa:p3Ceo3Co\"\""))));return new _k(n,r,i,e)},t.convertLicenseToDummyLicense=function(t){return new _k(t.PN,t.LN,t.FN,864e13,t.MN,Date.now(),t.qN,t.VN)},t}(),tT=function(){function t(){}return t.fa=function(){return t.We||(t.We=nT.zo()?new nT:new Os),t.We},t.Js=function(n){t.fa().Js(n)},t.ca=function(){t.fa().ca()},t.Gs=function(n){return t.fa().Gs(n)},t.aa=function(n,r){t.fa().aa(n,r)},t.UP=function(n){var r=t.Gs(n);if(void 0!==r)return y(r)},t.qP=function(n){return"true"===t.Gs(n)},t}();tT.We=void 0;var nT=function(n){function r(){return n.apply(this,arguments)||this}Gt(r,n),r.zo=function(){try{return t.localStorage.setItem("foobar","foobar"),t.localStorage.removeItem("foobar"),!0}catch(t){}return!1};var i=r.prototype;return i.Js=function(n){t.localStorage.removeItem(n)},i.ca=function(){t.localStorage.clear()},i.Gs=function(n){return t.localStorage[n]},i.aa=function(n,r){t.localStorage[n]=r},r}(tT),rT=l.floor(14399999*l.random()-72e5),iT=function(){function t(t,n,r,i,e,u){this.dT=t,this.VP=n,this.jP=r,this.mA=i,this.HP=e,this.zN=u,this.XN=Sk(u)}var r=t.prototype;return r.WP=function(){var t=D.coroutine(vn.mark(function t(){var n;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$P(this.HP.license,this.HP.licenseUrl);case 2:n=t.sent,this.mA.zP(n);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.$P=function(){var t=D.coroutine(vn.mark(function t(r,i){var e,u,s,o,c,a,f,h;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=i,r?u=Zb.BP(r):e||(u=Zb.MP()),e||(e="https://validate.theoplayer.com/1/"+u.PN),s=this.XP(),!u){t.next=14;break}if((o=this.VP.JN(u))!==lk.AN){t.next=14;break}if(!this.GP(u.BN)||!this.GP(null==s?void 0:s.BN)){t.next=13;break}return t.next=10,this.YP(e);case 10:if(!(c=t.sent)){t.next=13;break}return t.abrupt("return",c);case 13:return t.abrupt("return",u);case 14:if(!s){t.next=25;break}if(this.VP.JN(s)!==lk.AN){t.next=24;break}if(!this.GP(null==s?void 0:s.BN)){t.next=23;break}return t.next=20,this.YP(e);case 20:if(!(a=t.sent)){t.next=23;break}return t.abrupt("return",a);case 23:return t.abrupt("return",s);case 24:tT.Js("THEOplayer.license");case 25:return t.next=27,Zb.FP(e,this.dT);case 27:if(!(f=t.sent)){t.next=37;break}if(h=Zb.BP(f),this.VP.JN(h)!==lk.AN){t.next=34;break}return tT.aa("THEOplayer.license",f),t.abrupt("return",h);case 34:tT.Js("THEOplayer.license"),t.next=39;break;case 37:if(this.XN||!u||o!==lk.ON||e!=="https://validate.theoplayer.com/1/"+u.PN){t.next=39;break}return t.abrupt("return",Zb.convertLicenseToDummyLicense(u));case 39:if(!u&&!h){t.next=43;break}this.KP(null!=u?u:h,new Yi(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!")),t.next=44;break;case 43:throw new Yi(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!");case 44:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),r.GN=function(){var t=D.coroutine(vn.mark(function t(n){var r,i,e,u,s,o,c;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.mA.PA();case 2:if(i=t.sent,!this.GP(i.BN)){t.next=9;break}return e=null!==(r=this.HP.licenseUrl)&&void 0!==r?r:"https://validate.theoplayer.com/1/"+i.PN,t.next=7,this.YP(e);case 7:(u=t.sent)&&(this.mA.zP(u),i=u);case 9:if(t.prev=9,(s=this.VP.JN(i))!==lk.xN){t.next=16;break}throw o=gk.jN,new Yi(mk(o),Ik.KN(o));case 16:if(s!==lk.ON){t.next=19;break}throw c=gk.ON,new Yi(mk(c),Ik.KN(c));case 19:this.VP.GN(n,i),t.next=25;break;case 22:t.prev=22,t.t0=t.catch(9),this.JP(t.t0);case 25:case"end":return t.stop()}},t,this,[[9,22]])}));return function(n){return t.apply(this,arguments)}}(),r.YP=function(){var t=D.coroutine(vn.mark(function t(n){var r,i;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Zb.FP(n,this.dT);case 3:if(void 0!==(r=t.sent)){t.next=6;break}return t.abrupt("return",void 0);case 6:if(i=Zb.BP(r),this.VP.JN(i)!==lk.AN){t.next=11;break}return tT.aa("THEOplayer.license",r),t.abrupt("return",i);case 11:return t.abrupt("return",void 0);case 14:return t.prev=14,t.t0=t.catch(0),t.abrupt("return",void 0);case 17:case"end":return t.stop()}},t,this,[[0,14]])}));return function(n){return t.apply(this,arguments)}}(),r.GP=function(t){return!t||Number(new Date)+2592e5+rT>=t},r.XP=function(){var t=tT.Gs("THEOplayer.license");if(t)return Zb.BP(t)},r.KP=function(t,n){this.mA.zP(t),this.JP(n)},r.JP=function(t){throw dt(t.message),this.jP.BA(t.message),t},t}(),eT=function(){function t(){this.QP=new Si}var n=t.prototype;return n.zP=function(t){this.ZP=t,this.QP.ao()},n.PA=function(){var t=D.coroutine(vn.mark(function t(){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.ZP){t.next=2;break}return t.abrupt("return",D.resolve(this.ZP));case 2:return t.next=4,this.QP.co;case 4:return t.abrupt("return",this.ZP);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),P(t,[{key:"tL",get:function(){return this.ZP}}]),t}(),uT=function(t){function n(){return t.call(this,"Qd")||this}return Gt(n,t),n.prototype.Ud=function(){return new sT},n}(uv),sT=function(t){function n(){return t.call(this,"change")||this}return Gt(n,t),n}(pr);var oT,cT,aT={nL:void 0,rL:void 0,iL:void 0,eL:void 0,uL:void 0,sL:void 0},fT="THEOplayer.textTrackStyle.",hT=function(t){function n(){var r;return(r=t.call(this)||this).Bd=void 0,r.oL=n.cL(),r}return Gt(n,t),n.prototype.No=function(t){this.oL=dn(dn({},this.oL),t),n.aL(this.oL),this.Es(new uT)},n.cL=function(){var t=dn({},aT);return t.nL=tT.Gs(fT+"fontFamily")||t.nL,t.rL=tT.Gs(fT+"fontColor")||t.rL,t.iL=tT.Gs(fT+"fontSize")||t.iL,t.eL=tT.Gs(fT+"backgroundColor")||t.eL,t.uL=tT.Gs(fT+"windowColor")||t.uL,t.sL=tT.Gs(fT+"edgeStyle")||t.sL,t},n.aL=function(t){tT.aa(fT+"fontFamily",t.nL||""),tT.aa(fT+"fontColor",t.rL||""),tT.aa(fT+"fontSize",t.iL||""),tT.aa(fT+"backgroundColor",t.eL||""),tT.aa(fT+"windowColor",t.uL||""),tT.aa(fT+"edgeStyle",t.sL||"")},P(n,[{key:"fL",get:function(){return this.oL}},{key:"nL",get:function(){return this.oL.nL},set:function(t){this.No({nL:t})}},{key:"rL",get:function(){return this.oL.rL},set:function(t){this.No({rL:t})}},{key:"iL",get:function(){return this.oL.iL},set:function(t){this.No({iL:t})}},{key:"eL",get:function(){return this.oL.eL},set:function(t){this.No({eL:t})}},{key:"uL",get:function(){return this.oL.uL},set:function(t){this.No({uL:t})}},{key:"sL",get:function(){return this.oL.sL},set:function(t){this.No({sL:t})}},{key:"Md",get:function(){var t,n,r;return this.Bd||(this.Bd=(t=this,r={get fontFamily(){return t.nL},set fontFamily(n){t.nL=n},get fontColor(){return t.rL},set fontColor(n){t.rL=n},get fontSize(){return t.iL},set fontSize(n){t.iL=n},get backgroundColor(){return t.eL},set backgroundColor(n){t.eL=n},get windowColor(){return t.uL},set windowColor(n){t.uL=n},get edgeStyle(){return t.sL},set edgeStyle(n){t.sL=n},addEventListener:function(t,r){var i=Dv(t,Iv);n.Rs(i,r)},removeEventListener:function(t,r){var i=Dv(t,Iv);n.Ns(i,r)}},n=new _r(r),t.Rs(["Qd"],function(t){return n.Es(t.Md)}),r)),this.Bd}}]),n}(gr),vT=function(t){function n(n,r){var i;(i=t.call(this)||this).hL=!1,i.jw=!1,i.vL=!1,i.dL=function(t){if(!i.vL){i.vL=!0;var n=i.lL,r=Jd(t);i.DP.Tl=new nm(i.Ty,r,t),hr(n.ai())}},i.wL=function(t){i.Es(t.Md)},i.yL=function(t){t.type!==Bs.Da&&t.type!==Bs.Ia&&i.Es(t)};var e=Sv(r.uid);g(e)?i.qy=ul++:i.qy=e,i.Wk=r;var u=N.Cd,s=new eT;i.gL=new Hk("2.85.3",u,s),i.Cd=new Ib(u,r.allowMixedContent),i.ZD=new Ub,i.VP=new pk(r.isEmbeddable,"2.85.3",dk()),i._L=new iT(u,i.VP,i.gL,s,r,dk()),i._L.WP().catch(i.dL),i.pL=new ab(n),i.pL.Rs("$A",i.wL),i.tC=new hT,i.pP=new Wb,i.EP=new Xb;var o=new tm(n,r,i.Cd,i.ZD,i.pL,i.tC);i.ZD.HT(o);var c=o;c=new zb(c,i.mL),c=new Gb(c,i.SP),i.lL=c,i.DP=new Xd(i.lL),i.DP.Ds(i.yL),i.kL=new Yb(Kt(i)),i.bL=new Cb(i.DP,i.Cd,i.ZD),i.TL=new zk(Kt(i)),i.EL=new vb(i.DP,r.allowNativeFullscreen),i.SL=new mm(i.EL),i.pL.Uo();var a=new b(i.pL,i.tC,1,[Qd.Yh]);return i.RL=new T(a),i.IL=new Qb,i}Gt(n,t);var r=n.prototype;return r.Gx=function(t){this.DP.Rw=t,t||this.Iw||this.vi()},r.fP=function(t){this.DP.Ow=t},r.DL=function(){Bd(this,km,this)},r.ei=function(){this.DP.ei()},r.ui=function(){this.DP.ui()},r.ny=function(){var t=D.coroutine(vn.mark(function t(n,r){var i;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=5;break}return this._L.GN(n).catch(this.dL),i=dT(n),t.next=5,this.DP.ny(i,r);case 5:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),r.vi=function(){this.jw||(this.DP.vi(),this.RL.vi(),this.jw=!0)},r.WD=function(){return this.SL.EC()===wm.FULLSCREEN},r.ay=function(){this.DP.ay()},r.hy=function(){this.DP.hy()},r.vy=function(){return this.DP.vy()},r.wl=function(){var t=D.coroutine(vn.mark(function t(){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.DP.Zw();case 2:return t.next=4,this.DP.wl();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.ai=function(){var t=D.coroutine(vn.mark(function t(){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Cs(),this.IL.ai(),this.Cd.ai(),this.bL.ai(),this.EL.ai(),this.SL.ai(),this.pL.ai(),this.gL.ai(),this.RL.ai(),t.next=11,this.DP.ai();case 11:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),P(n,[{key:"CL",get:function(){return this.ZD}},{key:"Xw",get:function(){return this.hL},set:function(t){this.hL=t,this.DP.Xw=t}},{key:"NL",get:function(){return this.RL}},{key:"Yw",get:function(){return this.DP.Yw}},{key:"AL",get:function(){return this.IL}},{key:"OL",get:function(){return this.pL}},{key:"Qw",get:function(){return this.DP.Qw}},{key:"qw",get:function(){return this.kL}},{key:"xL",get:function(){return this.bL}},{key:"Jw",get:function(){return this.DP.Jw}},{key:"PL",get:function(){return this.tC}},{key:"Kw",get:function(){return this.DP.Kw}},{key:"ky",get:function(){return this.DP.ky}},{key:"mL",get:function(){return this.pP}},{key:"SP",get:function(){return this.EP}},{key:"bw",get:function(){return this.DP.bw},set:function(t){this.DP.bw=t}},{key:"by",get:function(){return this.DP.by},set:function(t){this.DP.by=t}},{key:"py",get:function(){return this.DP.py}},{key:"Tw",get:function(){return this.DP.Tw}},{key:"Ty",get:function(){return this.DP.Ty}},{key:"Ew",get:function(){return this.DP.Ew}},{key:"qs",get:function(){return this.DP.qs}},{key:"Sw",get:function(){return this.DP.Sw}},{key:"Rw",get:function(){return this.DP.Rw},set:function(t){var n=Boolean(t);this.Gx(n)}},{key:"Iw",get:function(){return this.DP.Iw}},{key:"Dw",get:function(){return this.DP.Dw},set:function(t){this.DP.Dw=t}},{key:"Oy",get:function(){return this.DP.Oy}},{key:"xy",get:function(){return this.DP.xy},set:function(t){this.DP.xy=Wp(t)}},{key:"ql",get:function(){return this.DP.ql}},{key:"Py",get:function(){return this.DP.Py}},{key:"Cw",get:function(){return this.DP.Cw}},{key:"Dl",get:function(){return this.qy}},{key:"Nw",get:function(){return this.DP.Nw}},{key:"Aw",get:function(){return this.DP.Aw}},{key:"Ow",get:function(){return this.DP.Ow},set:function(t){var n=jt(Number(t),0,1)||0;this.fP(n)}}]),n}($v);function dT(t){t.sources;var n=t.sources.filter(function(t){return void 0===t.integration});return t.sources=n,t}!function(t){t[t.LL=0]="LL",t[t.FL=1]="FL"}(oT||(oT={})),function(t){t[t.BL=0]="BL"}(cT||(cT={}));var lT={};function wT(t,n){var r=t;if(lT[n])for(var i=0,e=lT[n];i<e.length;i++){r=(0,e[i])(r)}return r}var yT=[];function gT(t){yT.push(t)}var _T=t.CustomEvent;var pT,mT=function(){try{var t=new _T("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?function(t,n){return new CustomEvent(t,n)}:function(t,n){var r=e.createEvent("CustomEvent");return n?r.initCustomEvent(t,n.bubbles,n.cancelable,n.detail):r.initCustomEvent(t,!1,!1,void 0),r};(pT=D)&&pT.config({warnings:!1,longStackTraces:!1});pT&&(ET=pT.setScheduler(it),kT=ET,ST={ML:function(t){bT=t,kT(TT)},NA:TT=function(){var t=bT;t&&(bT=void 0,t())}},pT.setScheduler(ST.ML));var kT,bT,TT,ET,ST,RT=function(){function t(t,n){var r=this;this.UL=!1,this.qL=function(t){r.VL.FA(t.error,r.bw)},this.jL=function(){r.VL.xA(r.HL),r.KI.removeEventListener("playing",r.jL),r.UL=!1},this.WL=function(){r.UL||(r.KI.addEventListener("playing",r.jL),r.UL=!0)},this.VL=n,this.KI=t,this.KI.addEventListener("error",this.qL),this.KI.addEventListener("sourcechange",this.WL),this.WL()}return t.prototype.wl=function(){},P(t,[{key:"bw",get:function(){var t=this.KI.currentTime;return"number"==typeof t&&isFinite(t)?t:"now"}},{key:"HL",get:function(){return this.KI.src||""}}]),t}();gT(function(t){new RT(t.Md,t.gL)});var IT,DT,CT="theoplayer-stored-volume",NT="theoplayer-stored-mutedstate";IT=function(t){return function(t){function n(n,r){var i;if(i=t.call(this,n,r)||this,r.persistVolume){var e=tT.UP(CT);(void 0===e||g(e))&&(e=1);var u=tT.qP(NT)||!1;i.Ow=e,i.Rw=u}return i}Gt(n,t);var r=n.prototype;return r.Gx=function(n){this.Wk.persistVolume&&tT.aa(NT,n),t.prototype.Gx.call(this,n)},r.fP=function(n){this.Wk.persistVolume&&tT.aa(CT,n),t.prototype.fP.call(this,n)},n}(t)},DT=oT.FL,(lT[DT]||(lT[DT]=[])).push(IT);var AT=new(function(){function t(){this.$L=[],this.Bd=void 0}var n=t.prototype;return n.hl=function(t){return this.$L[t]},n.zL=function(t){this.$L.push(t),this.Md.push(t.Md)},n.Co=function(t){var n=this.$L.indexOf(t);n<0||(Jn(this.$L,n),this.Bd&&Jn(this.Bd,n))},n.XL=function(t){for(var n=0,r=this.$L;n<r.length;n++){var i=r[n];if(i.Dl===t)return i}},P(t,[{key:"gl",get:function(){return this.$L.length}},{key:"Md",get:function(){return this.Bd||(this.Bd=function(t){for(var n=[],r=0;r<t.gl;r++)n[r]=t.hl(r).Md;return n.getPlayerByUID=function(n){var r=t.XL(n);return r&&r.Md},n}(this)),this.Bd}}]),t}());var OT,xT=function(t){function n(n){var r;return(r=t.call(this,Bs.ja)||this).source=n,r}return Gt(n,t),n}(pr),PT=function(t){function n(){var n;return(n=t.call(this)||this).zD=0,n.GD=!0,n.KD=!1,n.YD=1,n}Gt(n,t);var r=n.prototype;return r.ei=function(){this.GD&&(this.GD=!1,this.Es(new _d(this.bw)),this.Es(new Rp(this.bw)))},r.ui=function(){this.GD||(this.GD=!0,this.Es(new Ed(this.bw,this.by)),this.Es(new gd(this.bw)))},r.wl=function(){this.zD=0,this.KD=!1,this.YD=1,this.ui(),this.Es(new yd(this.zD))},r.ai=function(){this.Cs()},r.hy=function(){},r.ay=function(){},P(n,[{key:"by",get:function(){},set:function(t){}},{key:"bw",get:function(){return this.zD},set:function(t){this.zD!==t&&(this.zD=t,this.KD=!0,this.Es(new Id(this.bw)))}},{key:"Iw",get:function(){return this.GD}},{key:"Dw",get:function(){return this.YD},set:function(t){this.YD!==t&&(this.YD=t,this.Es(new Td(this.bw,this.Dw)))}},{key:"ql",get:function(){return td.hw}},{key:"Cw",get:function(){return this.KD}}]),n}(Wv),LT=function(t){function n(){return t.call(this,Bs._a)||this}return Gt(n,t),n}(pr),FT={zIndex:"1",display:"inline-block",verticalAlign:"middle",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"contain",cursor:"pointer",margin:"0",padding:"0",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",height:"100%"},BT={visibility:"hidden"},MT={visibility:"visible"},UT=function(){function t(t){var n,r=this;this.GL=!1,this.YL=function(t){r.GL=!1,r.KL=t.source&&t.source.poster,r.No()},this.fR=function(){r.GL=!0,r.hy()},this.KI=t,this.JI(),this.jI=((n=S&&S.document&&S.document.createElement("div")).className="theoplayer-poster",oe(FT,n),n),t.Ty.appendChild(this.jI)}var n=t.prototype;return n.No=function(){var t=this.KI.Iw,n=this.GL;this.Ph?this.jI.style.backgroundImage='url("'+this.Ph.replace(/[\\"]/g,function(t){return"\\"+t})+'")':this.jI.style.backgroundImage="",t&&this.Ph&&!n?this.ay():this.hy()},n.ay=function(){oe(BT,this.KI.Ty),oe(MT,this.jI)},n.hy=function(){oe(BT,this.jI),oe(MT,this.KI.Ty)},n.JI=function(){this.KI.Rs("sourcechange",this.YL),this.KI.Rs("play",this.fR)},n.ai=function(){this.KI.Ns("sourcechange",this.YL),this.KI.Ns("play",this.fR),se(this.jI)},P(t,[{key:"Ph",get:function(){return void 0!==this.KL?this.KL:void 0!==this.JL?this.JL:void 0}},{key:"QL",set:function(t){this.JL=t,this.No()}}]),t}();function qT(t){return function(n){function r(r,i){var e;return(e=n.call(this,r)||this).ZL=function(t){t.type!==Bs.Oa&&e.tF.push(t)},e.nF=new t(r,i),e.rF=new PT,e.KI=e.nF,e.iF=new UT(Kt(e)),e.BS=new Ey,e.eF=!1,e.tF=[],e.GI=!0,e.XI=void 0,e.JI(),e}Gt(r,n);var i=r.prototype;return i.ET=function(){var t=D.coroutine(vn.mark(function t(n,r){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.BS.ET(n,r).catch(sr));case 1:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),i.uF=function(){var t=D.coroutine(vn.mark(function t(n,r){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return er(r),this.nF.Ds(this.ZL),t.next=4,this.nF.ny(n,r);case 4:this.nF.xs(this.ZL);case 5:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),i.sF=function(){var t=D.coroutine(vn.mark(function t(){var n,r,i;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((n=this.ty())&&!$m(n)&&this.Xw&&this.Iw){t.next=3;break}return t.abrupt("return");case 3:return r=n.mutedAutoplay||this.Wk.mutedAutoplay,t.next=6,this.NL.hi();case 6:i=t.sent,t.t0=i,t.next="all"===t.t0?10:"muted"===t.t0?12:14;break;case 10:return this.oF(),t.abrupt("break",14);case 12:return(this.Rw||r===pd.ALL)&&(this.Rw=!0,this.ei()),t.abrupt("break",14);case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.ny=function(t){var n=this,r=this.XI;r&&!$m(r)&&this.Es(new yd(0,0)),this.wl(),this.XI=t,hr(this.ET(function(){var r=D.coroutine(vn.mark(function r(i){return vn.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return er(i),r.prev=1,r.next=4,n.uF(t,i);case 4:r.next=10;break;case 6:throw r.prev=6,r.t0=r.catch(1),n.XI=void 0,r.t0;case 10:return r.next=12,n.cF();case 12:case"end":return r.stop()}},r,null,[[1,6]])}));return function(t){return r.apply(this,arguments)}}()))},i.cF=function(){var t=D.coroutine(vn.mark(function t(){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.aF(this.nF),this.Es(new xT(this.ty())),t.next=4,this.sF();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.qx=function(t){this.KI.bw=t},i.Wx=function(){return this.nF.qs},i.$x=function(){return this.nF.Sw},i.ei=function(){this.KI.ei()},i.oF=function(){this.Rw||this.vi(),this.ei()},i.vi=function(){this.nF.vi()},i.ui=function(){this.KI.ui()},i.Zw=function(){this.ny(void 0)},i.ay=function(){this.GI=!0,this.KI.ay()},i.hy=function(){this.GI=!1,this.KI.hy()},i.DL=function(){this.nF.DL()},i.fP=function(t){this.nF.fP(t)},i.Gx=function(t){this.nF.Gx(t)},i.fF=function(t){this.hF=t,t.zL(this)},i.WD=function(){return this.nF.WD()},i.ty=function(){return this.XI},i.vy=function(){return this.nF.vy()},i.Ux=function(){return this.nF.bw},i.Vx=function(){return this.nF.Tw},i.Lx=function(){return this.nF.ky},i.Zx=function(){return this.nF.Oy},i.iP=function(){return this.nF.Py},i.wl=function(){var t=this;this.XI=void 0,Zn(this.tF),this.rF.wl(),this.aF(this.rF),this.BS.ys(),hr(this.BS.ET(function(){var n=D.coroutine(vn.mark(function n(r){return vn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return er(r),n.next=3,t.nF.wl();case 3:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}()))},i.ai=function(){var t=this;this.Es(new LT),this.iF.ai(),this.QI(),this.wl(),hr(this.ET(D.coroutine(vn.mark(function n(){return vn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.nF.ai();case 2:t.hF&&(t.hF.Co(t),t.hF=void 0),t.BS.ai();case 4:case"end":return n.stop()}},n)})))),this.Cs()},i.aF=function(t){if(this.KI!==t){var n=this.KI.Iw,r=this.KI.bw,i=this.KI.Dw;this.QI(),t===this.nF?(t.bw!==r&&(t.bw=r),t.Dw!==i&&(t.Dw=i),n?t.ui():t.ei()):this.Wk.retainPlaybackRateOnSourceChange?t.Dw=i:1!==i&&this.Es(new Td(this.Ux(),1)),this.KI=t,this.JI();for(var e=0,u=this.tF;e<u.length;e++){var s=u[e];this.Es(s)}Zn(this.tF),this.GI?t.ay():t.hy()}},i.JI=function(){this.KI.Ds(this.Ts)},i.QI=function(){this.KI.xs(this.Ts)},i.Ud=function(){return t=this,i=function(n){r=n;var i=nk(n,t.Wk);t.ny(i)},e={get abr(){return t.CL.Md},get audioTracks(){return t.Yw.Md},get autoplay(){return t.Xw},set autoplay(n){t.Xw=Boolean(n)},get buffered(){return t.Lx()},get canvas(){return t.TL.Md},get clip(){return t.mL.Md},get currentProgramDateTime(){var n;return null!==(n=t.by)&&void 0!==n?n:null},set currentProgramDateTime(n){t.by=null!=n?n:void 0},get currentTime(){return t.Ux()},set currentTime(n){t.qx(Number(n))},get duration(){return t.Vx()},get element(){return t.Ty},get ended(){return t.Ew},get error(){return t.Wx()},get errorObject(){return t.$x()},get loop(){return t.SP.SP},set loop(n){t.SP.SP=Boolean(n)},get metrics(){return t.qw.Md},get muted(){return t.Rw},set muted(n){t.Gx(n)},get network(){return t.xL.Md},get paused(){return t.Iw},get playbackRate(){return t.Dw},set playbackRate(n){var r=Number(n);if(r<0)throw new RangeError("playbackRate must be a positive number");t.Dw=r},get played(){return t.Zx()},get poster(){return t.vF},set poster(n){t.vF=Iv(n)},get preload(){return t.xy},set preload(n){t.xy=n},get presentation(){return t.SL.Md},get readyState(){return t.ql},get seekable(){return t.iP()},get seeking(){return t.Cw},get source(){return r},set source(t){i(t)},get src(){return zm(t.ty())},set src(t){i({sources:t})},get textTracks(){return t.Jw.Md},get textTrackStyle(){return t.PL.Md},get uid(){return t.Dl},get videoHeight(){return t.Nw},get videoTracks(){return t.Kw.Md},get videoWidth(){return t.Aw},get volume(){return t.Ow},set volume(n){t.fP(Number(n))},destroy:function(){t.ai(),t=null,r=void 0},play:function(){t.oF()},pause:function(){t.ui()},stop:function(){r=void 0,t.Zw()},prepareWithUserAction:function(){t.vi()},addEventListener:function(t,r){n.Rs(t,r)},removeEventListener:function(t,r){n.Ns(t,r)},setSource:function(t){i(t)}},(n=new _m(e,!0)).fC(t),e;var t,n,r,i,e},P(r,[{key:"gL",get:function(){return this.nF.gL}},{key:"TL",get:function(){return this.nF.TL}},{key:"Wk",get:function(){return this.nF.Wk}},{key:"lL",get:function(){return this.nF.lL}},{key:"Cd",get:function(){return this.nF.Cd}},{key:"yI",get:function(){return this.nF.EL}},{key:"SL",get:function(){return this.nF.SL}},{key:"pL",get:function(){return this.nF.pL}},{key:"DP",get:function(){return this.nF.DP}},{key:"CL",get:function(){return this.nF.CL}},{key:"Xw",get:function(){return this.nF.Xw},set:function(t){this.nF.Xw=t,this.sF()}},{key:"NL",get:function(){return this.nF.NL}},{key:"Yw",get:function(){return this.nF.Yw}},{key:"AL",get:function(){return this.nF.AL}},{key:"OL",get:function(){return this.nF.pL}},{key:"Md",get:function(){return this.Bd||(this.Bd=this.Ud()),this.Bd}},{key:"Qw",get:function(){return this.nF.Qw}},{key:"qw",get:function(){return this.nF.qw}},{key:"xL",get:function(){return this.nF.xL}},{key:"Jw",get:function(){return this.nF.Jw}},{key:"PL",get:function(){return this.nF.PL}},{key:"Kw",get:function(){return this.nF.Kw}},{key:"mL",get:function(){return this.nF.mL}},{key:"SP",get:function(){return this.nF.SP}},{key:"by",get:function(){return this.KI.by},set:function(t){this.KI.by=t}},{key:"py",get:function(){return this.nF.py}},{key:"Ty",get:function(){return this.nF.Ty}},{key:"Ew",get:function(){return this.nF.Ew}},{key:"Rw",get:function(){return this.nF.Rw},set:function(t){this.nF.Rw=t}},{key:"Iw",get:function(){return this.KI.Iw}},{key:"vF",get:function(){return this.iF.Ph||""},set:function(t){this.iF.QL=t}},{key:"Dw",get:function(){return this.nF.Dw},set:function(t){this.KI.Dw=t}},{key:"xy",get:function(){return this.nF.xy},set:function(t){this.nF.xy=Wp(t)}},{key:"ql",get:function(){return this.KI.ql}},{key:"Cw",get:function(){return this.KI.Cw}},{key:"Dl",get:function(){return this.nF.Dl}},{key:"Nw",get:function(){return this.nF.Nw}},{key:"Aw",get:function(){return this.nF.Aw}},{key:"Ow",get:function(){return this.nF.Ow},set:function(t){this.nF.Ow=t}}]),r}($v)}fr(function(){t.dispatchEvent&&t.dispatchEvent(mT("theoplayerready"))});var VT={base64:new(function(){function t(){}var n=t.prototype;return n.encode=function(t){return xr(t)},n.decode=function(t){return Ar(t)},t}())},jT=AT.Md,HT=Ky.qT.registerContentProtectionIntegration.bind(Ky.qT),WT=function(){},$T=function(){function t(){this.internalDict={},this.uidCounter=0}var n=t.prototype;return n.register=function(t){return this.internalDict[this.uidCounter]=t,this.uidCounter++},n.get=function(t){return this.internalDict[t]},n.remove=function(t){delete this.internalDict[t]},t}(),zT=k(function(t,n){function r(t,n){var r=[],i=[];return null==n&&(n=function(t,n){return r[0]===n?"[Circular ~]":"[Circular ~."+i.slice(0,r.indexOf(n)).join(".")+"]"}),function(e,u){if(r.length>0){var s=r.indexOf(this);~s?r.splice(s+1):r.push(this),~s?i.splice(s,1/0,e):i.push(e),~r.indexOf(u)&&(u=n.call(this,e,u))}else r.push(u);return null==t?u:t.call(this,e,u)}}(t.exports=function(t,n,i,e){return JSON.stringify(t,r(n,e),i)}).getSerialize=r});function XT(t,n){return void 0!==n&&null!=n&&"function"==typeof n.start&&"function"==typeof n.end&&"number"==typeof n.length?function(t){for(var n=[],r=0;r<t.length;r++)n[r]={start:t.start(r),end:t.end(r)};return n}(n):n}function GT(t){return JSON.stringify(t,zT.getSerialize(XT))}var YT,KT=k(function(t,n){d.defineProperty(n,"__esModule",{value:!0}),n.CHAR="\t\n\r -\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",n.S=" \t\r\n",n.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u");var r=9,i=10,e=13,u=32;function s(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}n.S_LIST=[u,i,e,r],n.isChar=function(t){return t>=u&&t<=55295||t===i||t===e||t===r||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isS=function(t){return t===u||t===i||t===e||t===r},n.isNameStartChar=s,n.isNameChar=function(t){return s(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),JT=k(function(t,n){d.defineProperty(n,"__esModule",{value:!0}),n.CHAR="\x01-\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",n.RESTRICTED_CHAR="\x01-\b\v\f\x0e-\x1f\x7f-\x84\x86-\x9f",n.S=" \t\r\n",n.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.RESTRICTED_CHAR_RE=new RegExp("^["+n.RESTRICTED_CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u");var r=9,i=10,e=13,u=32;function s(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}n.S_LIST=[u,i,e,r],n.isChar=function(t){return t>=1&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isRestrictedChar=function(t){return t>=1&&t<=8||11===t||12===t||t>=14&&t<=31||t>=127&&t<=132||t>=134&&t<=159},n.isCharAndNotRestricted=function(t){return 9===t||10===t||13===t||t>31&&t<127||133===t||t>159&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isS=function(t){return t===u||t===i||t===e||t===r},n.isNameStartChar=s,n.isNameChar=function(t){return s(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),QT=k(function(t,n){function r(t){return t>=65&&t<=90||95===t||t>=97&&t<=122||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}d.defineProperty(n,"__esModule",{value:!0}),n.NC_NAME_START_CHAR="A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NC_NAME_CHAR="-"+n.NC_NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.NC_NAME_START_CHAR_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]$","u"),n.NC_NAME_CHAR_RE=new RegExp("^["+n.NC_NAME_CHAR+"]$","u"),n.NC_NAME_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]["+n.NC_NAME_CHAR+"]*$","u"),n.isNCNameStartChar=r,n.isNCNameChar=function(t){return r(t)||45===t||46===t||t>=48&&t<=57||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),ZT=k(function(t,n){d.defineProperty(n,"__esModule",{value:!0});var r=KT.isS,i=KT.isChar,e=KT.isNameStartChar,u=KT.isNameChar,s=KT.S_LIST,o=KT.NAME_RE,c=JT.isChar,a=QT.isNCNameStartChar,f=QT.isNCNameChar,v=QT.NC_NAME_RE;const l="http://www.w3.org/XML/1998/namespace",y="http://www.w3.org/2000/xmlns/",g={__proto__:null,xml:l,xmlns:y},_={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},p=-1,m=-2,k=0,b=1,T=2,E=3,S=4,R=5,I=6,D=7,C=8,N=9,A=10,O=11,x=12,P=13,L=14,F=15,B=16,M=17,U=18,q=19,V=20,j=21,H=22,W=23,$=24,z=25,X=26,G=27,Y=28,K=29,J=30,Q=31,Z=32,tt=33,nt=34,rt=35,it=36,et=37,ut=38,st=39,ot=40,ct=41,at=42,ft=43,ht=44,vt=9,dt=10,lt=13,wt=32,yt=33,gt=38,_t=45,pt=47,mt=59,kt=60,bt=61,Tt=62,Et=63,St=91,Rt=93,It=133,Dt=8232,Ct=t=>34===t||39===t,Nt=[34,39],At=[...Nt,St,Tt],Ot=[...Nt,kt,Rt],xt=[bt,Et,...s],Pt=[...s,Tt,gt,kt];function Lt(t,n,r){switch(n){case"xml":r!==l&&t.fail(`xml prefix must be bound to ${l}.`);break;case"xmlns":r!==y&&t.fail(`xmlns prefix must be bound to ${y}.`)}switch(r){case y:t.fail(""===n?`the default namespace may not be set to ${r}.`:`may not assign a prefix (even "xmlns") to the URI ${y}.`);break;case l:switch(n){case"xml":break;case"":t.fail(`the default namespace may not be set to ${r}.`);break;default:t.fail("may not assign the xml namespace to another prefix.")}}}const Ft=t=>v.test(t),Bt=t=>o.test(t),Mt=0,Ut=1,qt=2;n.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const Vt={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};n.SaxesParser=class{constructor(t){this.opt=null!=t?t:{},this.fragmentOpt=!!this.opt.fragment;const n=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=!1!==this.opt.position,this.fileName=this.opt.fileName,n){this.nameStartCheck=a,this.nameCheck=f,this.isName=Ft,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=d.assign({__proto__:null},g);const t=this.opt.additionalNamespaces;null!=t&&(function(t,n){for(const r of d.keys(n))Lt(t,r,n[r])}(this,t),d.assign(this.ns,t))}else this.nameStartCheck=e,this.nameCheck=u,this.isName=Bt,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this.lc}_init(){var t;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=Mt,this.attribList=[];const{fragmentOpt:n}=this;this.state=n?P:k,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=n,this.xmlDeclPossible=!n,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:r}=this.opt;if(void 0===r){if(!0===this.opt.forceXMLVersion)throw new h("forceXMLVersion set but defaultXMLVersion is not set");r="1.0"}this.setXMLVersion(r),this.positionAtNewLine=0,this.doctype=!1,this.lc=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=d.create(_),null===(t=this.readyHandler)||void 0===t||t.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(t,n){this[Vt[t]]=n}off(t){this[Vt[t]]=void 0}makeError(t){var n;let r=null!==(n=this.fileName)&&void 0!==n?n:"";return this.trackPosition&&(r.length>0&&(r+=":"),r+=`${this.line}:${this.column}`),r.length>0&&(r+=": "),new h(r+t)}fail(t){const n=this.makeError(t),r=this.errorHandler;if(void 0===r)throw n;return r(n),this}write(t){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let n=!1;null===t?(n=!0,t=""):"object"==typeof t&&(t=t.toString()),void 0!==this.carriedFromPrevious&&(t=`${this.carriedFromPrevious}${t}`,this.carriedFromPrevious=void 0);let r=t.length;const i=t.charCodeAt(r-1);!n&&(i===lt||i>=55296&&i<=56319)&&(this.carriedFromPrevious=t[r-1],r--,t=t.slice(0,r));const{stateTable:e}=this;for(this.chunk=t,this.i=0;this.i<r;)e[this.state].call(this);return this.chunkPosition+=r,n?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return p;const r=t.charCodeAt(n);if(this.column++,r<55296){if(r>=wt||r===vt)return r;switch(r){case dt:return this.line++,this.column=0,this.positionAtNewLine=this.position,dt;case lt:return t.charCodeAt(n+1)===dt&&(this.i=n+2),this.line++,this.column=0,this.positionAtNewLine=this.position,m;default:return this.fail("disallowed character."),r}}if(r>56319)return r>=57344&&r<=65533||this.fail("disallowed character."),r;const i=65536+1024*(r-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,i>1114111&&this.fail("disallowed character."),i}getCode11(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return p;const r=t.charCodeAt(n);if(this.column++,r<55296){if(r>31&&r<127||r>159&&r!==Dt||r===vt)return r;switch(r){case dt:return this.line++,this.column=0,this.positionAtNewLine=this.position,dt;case lt:{const r=t.charCodeAt(n+1);r!==dt&&r!==It||(this.i=n+2)}case It:case Dt:return this.line++,this.column=0,this.positionAtNewLine=this.position,m;default:return this.fail("disallowed character."),r}}if(r>56319)return r>=57344&&r<=65533||this.fail("disallowed character."),r;const i=65536+1024*(r-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,i>1114111&&this.fail("disallowed character."),i}getCodeNorm(){const t=this.getCode();return t===m?dt:t}unget(){this.i=this.prevI,this.column--}captureTo(t){let{i:n}=this;const{chunk:r}=this;for(;;){const i=this.getCode(),e=i===m,u=e?dt:i;if(u===p||t.includes(u))return this.text+=r.slice(n,this.prevI),u;e&&(this.text+=`${r.slice(n,this.prevI)}\n`,n=this.i)}}captureToChar(t){let{i:n}=this;const{chunk:r}=this;for(;;){let i=this.getCode();switch(i){case m:this.text+=`${r.slice(n,this.prevI)}\n`,n=this.i,i=dt;break;case p:return this.text+=r.slice(n),!1}if(i===t)return this.text+=r.slice(n,this.prevI),!0}}captureNameChars(){const{chunk:t,i:n}=this;for(;;){const r=this.getCode();if(r===p)return this.name+=t.slice(n),p;if(!u(r))return this.name+=t.slice(n,this.prevI),r===m?dt:r}}skipSpaces(){for(;;){const t=this.getCodeNorm();if(t===p||!r(t))return t}}setXMLVersion(t){this.currentXMLVersion=t,"1.0"===t?(this.isChar=i,this.getCode=this.getCode10):(this.isChar=c,this.getCode=this.getCode11)}sBegin(){65279===this.chunk.charCodeAt(0)&&(this.i++,this.column++),this.state=b}sBeginWhitespace(){const t=this.i,n=this.skipSpaces();switch(this.prevI!==t&&(this.xmlDeclPossible=!1),n){case kt:if(this.state=F,0!==this.text.length)throw new h("no-empty text at start");break;case p:break;default:this.unget(),this.state=P,this.xmlDeclPossible=!1}}sDoctype(){var t;const n=this.captureTo(At);switch(n){case Tt:null===(t=this.doctypeHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=P,this.doctype=!0;break;case p:break;default:this.text+=String.fromCodePoint(n),n===St?this.state=S:Ct(n)&&(this.state=E,this.q=n)}}sDoctypeQuote(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.q=null,this.state=T)}sDTD(){const t=this.captureTo(Ot);t!==p&&(this.text+=String.fromCodePoint(t),t===Rt?this.state=T:t===kt?this.state=I:Ct(t)&&(this.state=R,this.q=t))}sDTDQuoted(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.state=S,this.q=null)}sDTDOpenWaka(){const t=this.getCodeNorm();switch(this.text+=String.fromCodePoint(t),t){case yt:this.state=D,this.openWakaBang="";break;case Et:this.state=O;break;default:this.state=S}}sDTDOpenWakaBang(){const t=String.fromCodePoint(this.getCodeNorm()),n=this.openWakaBang+=t;this.text+=t,"-"!==n&&(this.state="--"===n?C:S,this.openWakaBang="")}sDTDComment(){this.captureToChar(_t)&&(this.text+="-",this.state=N)}sDTDCommentEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),this.state=t===_t?A:C}sDTDCommentEnded(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===Tt?this.state=S:(this.fail("malformed comment."),this.state=C)}sDTDPI(){this.captureToChar(Et)&&(this.text+="?",this.state=x)}sDTDPIEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===Tt&&(this.state=S)}sText(){0!==this.tags.length?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:t}=this;const{chunk:n}=this;t:for(;;)switch(this.getCode()){case m:this.entity+=`${n.slice(t,this.prevI)}\n`,t=this.i;break;case mt:{const{entityReturnState:r}=this,i=this.entity+n.slice(t,this.prevI);let e;this.state=r,""===i?(this.fail("empty entity name."),e="&;"):(e=this.parseEntity(i),this.entity=""),r===P&&void 0===this.textHandler||(this.text+=e);break t}case p:this.entity+=n.slice(t);break t}}sOpenWaka(){const t=this.getCode();if(e(t))this.state=nt,this.unget(),this.xmlDeclPossible=!1;else switch(t){case pt:this.state=ft,this.xmlDeclPossible=!1;break;case yt:this.state=B,this.openWakaBang="",this.xmlDeclPossible=!1;break;case Et:this.state=W;break;default:this.fail("disallowed character in tag name"),this.state=P,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=V,this.openWakaBang="";break;case"--":this.state=M,this.openWakaBang="";break;case"DOCTYPE":this.state=T,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(_t)&&(this.state=U)}sCommentEnding(){var t;const n=this.getCodeNorm();n===_t?(this.state=q,null===(t=this.commentHandler)||void 0===t||t.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(n)}`,this.state=M)}sCommentEnded(){const t=this.getCodeNorm();t!==Tt?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(t)}`,this.state=M):this.state=P}sCData(){this.captureToChar(Rt)&&(this.state=j)}sCDataEnding(){const t=this.getCodeNorm();t===Rt?this.state=H:(this.text+=`]${String.fromCodePoint(t)}`,this.state=V)}sCDataEnding2(){var t;const n=this.getCodeNorm();switch(n){case Tt:null===(t=this.cdataHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=P;break;case Rt:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(n)}`,this.state=V}}sPIFirstChar(){const t=this.getCodeNorm();this.nameStartCheck(t)?(this.piTarget+=String.fromCodePoint(t),this.state=$):t===Et||r(t)?(this.fail("processing instruction without a target."),this.state=t===Et?X:z):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(t),this.state=$)}sPIRest(){const{chunk:t,i:n}=this;for(;;){const i=this.getCodeNorm();if(i===p)return void(this.piTarget+=t.slice(n));if(!this.nameCheck(i)){this.piTarget+=t.slice(n,this.prevI);const e=i===Et;e||r(i)?"xml"===this.piTarget?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=e?tt:G):this.state=e?X:z:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(i));break}}}sPIBody(){if(0===this.text.length){const t=this.getCodeNorm();t===Et?this.state=X:r(t)||(this.text=String.fromCodePoint(t))}else this.captureToChar(Et)&&(this.state=X)}sPIEnding(){var t;const n=this.getCodeNorm();if(n===Tt){const{piTarget:n}=this;"xml"===n.toLowerCase()&&this.fail("the XML declaration must appear at the start of the document."),null===(t=this.piHandler)||void 0===t||t.call(this,{target:n,body:this.text}),this.piTarget=this.text="",this.state=P}else n===Et?this.text+="?":(this.text+=`?${String.fromCodePoint(n)}`,this.state=z);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const t=this.skipSpaces();t!==Et?t!==p&&(this.state=Y,this.name=String.fromCodePoint(t)):this.state=tt}sXMLDeclName(){const t=this.captureTo(xt);if(t===Et)return this.state=tt,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(r(t)||t===bt){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=t===bt?J:K}}sXMLDeclEq(){const t=this.getCodeNorm();if(t===Et)return this.state=tt,void this.fail("XML declaration is incomplete.");r(t)||(t!==bt&&this.fail("value required."),this.state=J)}sXMLDeclValueStart(){const t=this.getCodeNorm();if(t===Et)return this.state=tt,void this.fail("XML declaration is incomplete.");r(t)||(Ct(t)?this.q=t:(this.fail("value must be quoted."),this.q=wt),this.state=Q)}sXMLDeclValue(){const t=this.captureTo([this.q,Et]);if(t===Et)return this.state=tt,this.text="",void this.fail("XML declaration is incomplete.");if(t===p)return;const n=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const t=n;this.xmlDecl.version=t,/^1\.[0-9]+$/.test(t)?this.opt.forceXMLVersion||this.setXMLVersion(t):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(n)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=n;break;case"standalone":"yes"!==n&&"no"!==n&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=n}this.name="",this.state=Z}sXMLDeclSeparator(){const t=this.getCodeNorm();t!==Et?(r(t)||(this.fail("whitespace required."),this.unget()),this.state=G):this.state=tt}sXMLDeclEnding(){var t;this.getCodeNorm()===Tt?("xml"!==this.piTarget?this.fail("processing instructions are not allowed before root."):"version"!==this.name&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),null===(t=this.xmldeclHandler)||void 0===t||t.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=P):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var t;const n=this.captureNameChars();if(n===p)return;const i=this.tag={name:this.name,attributes:d.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=i.ns=d.create(null)),null===(t=this.openTagStartHandler)||void 0===t||t.call(this,i),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),n){case Tt:this.openTag();break;case pt:this.state=rt;break;default:r(n)||this.fail("disallowed character in tag name."),this.state=it}}sOpenTagSlash(){this.getCode()===Tt?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=it)}sAttrib(){const t=this.skipSpaces();t!==p&&(e(t)?(this.unget(),this.state=et):t===Tt?this.openTag():t===pt?this.state=rt:this.fail("disallowed character in attribute name."))}sAttribName(){const t=this.captureNameChars();t===bt?this.state=st:r(t)?this.state=ut:t===Tt?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):t!==p&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const t=this.skipSpaces();switch(t){case p:return;case bt:this.state=st;break;default:this.fail("attribute without value."),this.text="",this.name="",t===Tt?this.openTag():e(t)?(this.unget(),this.state=et):(this.fail("disallowed character in attribute name."),this.state=it)}}sAttribValue(){const t=this.getCodeNorm();Ct(t)?(this.q=t,this.state=ot):r(t)||(this.fail("unquoted attribute value."),this.state=at,this.unget())}sAttribValueQuoted(){const{q:t,chunk:n}=this;let{i:r}=this;for(;;)switch(this.getCode()){case t:return this.pushAttrib(this.name,this.text+n.slice(r,this.prevI)),this.name=this.text="",this.q=null,void(this.state=ct);case gt:return this.text+=n.slice(r,this.prevI),this.state=L,void(this.entityReturnState=ot);case dt:case m:case vt:this.text+=`${n.slice(r,this.prevI)} `,r=this.i;break;case kt:return this.text+=n.slice(r,this.prevI),void this.fail("disallowed character.");case p:return void(this.text+=n.slice(r))}}sAttribValueClosed(){const t=this.getCodeNorm();r(t)?this.state=it:t===Tt?this.openTag():t===pt?this.state=rt:e(t)?(this.fail("no whitespace between attributes."),this.unget(),this.state=et):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const t=this.captureTo(Pt);switch(t){case gt:this.state=L,this.entityReturnState=at;break;case kt:this.fail("disallowed character.");break;case p:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",t===Tt?this.openTag():this.state=it}}sCloseTag(){const t=this.captureNameChars();t===Tt?this.closeTag():r(t)?this.state=ht:t!==p&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case Tt:this.closeTag();break;case p:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:t,forbiddenState:n}=this;const{chunk:r,textHandler:i}=this;t:for(;;)switch(this.getCode()){case kt:if(this.state=F,void 0!==i){const{text:n}=this,e=r.slice(t,this.prevI);0!==n.length?(i(n+e),this.text=""):0!==e.length&&i(e)}n=Mt;break t;case gt:this.state=L,this.entityReturnState=P,void 0!==i&&(this.text+=r.slice(t,this.prevI)),n=Mt;break t;case Rt:switch(n){case Mt:n=Ut;break;case Ut:n=qt;break;case qt:break;default:throw new h("impossible state")}break;case Tt:n===qt&&this.fail('the string "]]>" is disallowed in char data.'),n=Mt;break;case m:void 0!==i&&(this.text+=`${r.slice(t,this.prevI)}\n`),t=this.i,n=Mt;break;case p:void 0!==i&&(this.text+=r.slice(t));break t;default:n=Mt}this.forbiddenState=n}handleTextOutsideRoot(){let{i:t}=this;const{chunk:n,textHandler:i}=this;let e=!1;t:for(;;){const u=this.getCode();switch(u){case kt:if(this.state=F,void 0!==i){const{text:r}=this,e=n.slice(t,this.prevI);0!==r.length?(i(r+e),this.text=""):0!==e.length&&i(e)}break t;case gt:this.state=L,this.entityReturnState=P,void 0!==i&&(this.text+=n.slice(t,this.prevI)),e=!0;break t;case m:void 0!==i&&(this.text+=`${n.slice(t,this.prevI)}\n`),t=this.i;break;case p:void 0!==i&&(this.text+=n.slice(t));break t;default:r(u)||(e=!0)}}e&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(t,n){var r;const{prefix:i,local:e}=this.qname(t),u={name:t,prefix:i,local:e,value:n};if(this.attribList.push(u),null===(r=this.attributeHandler)||void 0===r||r.call(this,u),"xmlns"===i){const t=n.trim();"1.0"===this.currentXMLVersion&&""===t&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[e]=t,Lt(this,e,t)}else if("xmlns"===t){const t=n.trim();this.topNS[""]=t,Lt(this,"",t)}}pushAttribPlain(t,n){var r;const i={name:t,value:n};this.attribList.push(i),null===(r=this.attributeHandler)||void 0===r||r.call(this,i)}end(){var t,n;this.sawRoot||this.fail("document must contain a root element.");const{tags:r}=this;for(;r.length>0;){const t=r.pop();this.fail(`unclosed tag: ${t.name}`)}this.state!==k&&this.state!==P&&this.fail("unexpected end.");const{text:i}=this;return 0!==i.length&&(null===(t=this.textHandler)||void 0===t||t.call(this,i),this.text=""),this.lc=!0,null===(n=this.endHandler)||void 0===n||n.call(this),this._init(),this}resolve(t){var n,r;let i=this.topNS[t];if(void 0!==i)return i;const{tags:e}=this;for(let n=e.length-1;n>=0;n--)if(void 0!==(i=e[n].ns[t]))return i;return void 0!==(i=this.ns[t])?i:null===(r=(n=this.opt).resolvePrefix)||void 0===r?void 0:r.call(n,t)}qname(t){const n=t.indexOf(":");if(-1===n)return{prefix:"",local:t};const r=t.slice(n+1),i=t.slice(0,n);return(""===i||""===r||r.includes(":"))&&this.fail(`malformed name: ${t}.`),{prefix:i,local:r}}processAttribsNS(){var t;const{attribList:n}=this,r=this.tag;{const{prefix:n,local:i}=this.qname(r.name);r.prefix=n,r.local=i;const e=r.uri=null!==(t=this.resolve(n))&&void 0!==t?t:"";""!==n&&("xmlns"===n&&this.fail('tags may not have "xmlns" as prefix.'),""===e&&(this.fail(`unbound namespace prefix: ${JSON.stringify(n)}.`),r.uri=n))}if(0===n.length)return;const{attributes:i}=r,e=new Set;for(const t of n){const{name:n,prefix:r,local:u}=t;let s,o;""===r?(s="xmlns"===n?y:"",o=n):(void 0===(s=this.resolve(r))&&(this.fail(`unbound namespace prefix: ${JSON.stringify(r)}.`),s=r),o=`{${s}}${u}`),e.has(o)&&this.fail(`duplicate attribute: ${o}.`),e.add(o),t.uri=s,i[n]=t}this.attribList=[]}processAttribsPlain(){const{attribList:t}=this,n=this.tag.attributes;for(const{name:r,value:i}of t)void 0!==n[r]&&this.fail(`duplicate attribute: ${r}.`),n[r]=i;this.attribList=[]}openTag(){var t;this.processAttribs();const{tags:n}=this,r=this.tag;r.isSelfClosing=!1,null===(t=this.openTagHandler)||void 0===t||t.call(this,r),n.push(r),this.state=P,this.name=""}openSelfClosingTag(){var t,n,r;this.processAttribs();const{tags:i}=this,e=this.tag;e.isSelfClosing=!0,null===(t=this.openTagHandler)||void 0===t||t.call(this,e),null===(n=this.closeTagHandler)||void 0===n||n.call(this,e),null===(this.tag=null!==(r=i[i.length-1])&&void 0!==r?r:null)&&(this.closedRoot=!0),this.state=P,this.name=""}closeTag(){const{tags:t,name:n}=this;if(this.state=P,this.name="",""===n)return this.fail("weird empty close tag."),void(this.text+="</>");const r=this.closeTagHandler;let i=t.length;for(;i-- >0;){const i=this.tag=t.pop();if(this.topNS=i.ns,null==r||r(i),i.name===n)break;this.fail("unexpected close tag.")}0===i?this.closedRoot=!0:i<0&&(this.fail(`unmatched closing tag: ${n}.`),this.text+=`</${n}>`)}parseEntity(t){if("#"!==t[0]){const n=this.ENTITIES[t];return void 0!==n?n:(this.fail(this.isName(t)?"undefined entity.":"disallowed character in entity name."),`&${t};`)}let n=NaN;return"x"===t[1]&&/^#x[0-9a-f]+$/i.test(t)?n=w(t.slice(2),16):/^#[0-9]+$/.test(t)&&(n=w(t.slice(1),10)),this.isChar(n)?String.fromCodePoint(n):(this.fail("malformed character entity."),`&${t};`)}}}),tE=function(){function t(){}return t.prototype.Qe=function(t){var n=new ZT.SaxesParser({xmlns:!0,defaultXMLVersion:"1.0",forceXMLVersion:!0}),r=new oE,i=[r];function e(t){i[i.length-1].du(t)}return n.on("text",function(t){i.length>1&&e(new uE(t))}),n.on("cdata",function(t){e(new sE(t))}),n.on("opentag",function(t){for(var n=t.local,r=t.uri,u=t.prefix,s=new iE({ru:n,eu:""===r?void 0:r,dF:""===u?void 0:u}),o=t.attributes,c=0,a=d.keys(o);c<a.length;c++){var f=o[a[c]],h=f.prefix,v=f.local,l=f.uri,w=f.value,y=new nE({ru:v,su:w,eu:""===l?void 0:l,dF:""===h?void 0:h});s.lF(y)}e(s),i.push(s)}),n.on("closetag",function(){i.pop()}),n.on("error",function(t){throw new Zt(t)}),n.write(t).close(),r},t}(),nE=function(){function t(t){this.wF=t.ru,this.En=t.su,this.yF=t.eu,this.gF=t.dF}var n=t.prototype;return n.tu=function(t){return this===t||!!aE(this,t)&&(this.wF===t.wF&&this.yF===t.yF&&this.gF===t.gF&&this.En===t.En)},n.nu=function(){return new t({ru:this.ru,su:this.su,eu:this.eu,dF:this.uu})},P(t,[{key:"ze",get:function(){return Xt.Ge}},{key:"ru",get:function(){return this.wF}},{key:"iu",get:function(){return void 0===this.gF?this.wF:this.gF+":"+this.wF}},{key:"eu",get:function(){return this.yF}},{key:"uu",get:function(){return this.gF}},{key:"su",get:function(){return this.En}}]),t}(),rE=function(){function t(){this.ou=[]}var n=t.prototype;return n.au=function(t){return this.ou.filter(function(n){return cE(n)&&n.hu===t})},n.vu=function(t,n){return this.ou.filter(function(r){return cE(r)&&r.ru===n&&r.eu===t})},n.du=function(t){this.ou.push(t)},P(t,[{key:"fu",get:function(){return this.ou}},{key:"wu",get:function(){return this.ou.filter(cE)}}]),t}(),iE=function(t){function n(n){var r;return(r=t.call(this)||this)._F=[],r.wF=n.ru,r.yF=n.eu,r.gF=n.dF,r}Gt(n,t);var r=n.prototype;return r.pF=function(t){for(var n=0,r=this.fu;n<r.length;n++){var i=r[n];cE(i)?i.pF(t):t.push(i.Eu)}},r.gu=function(t,n){for(var r=0,i=this._F;r<i.length;r++){var e=i[r];if(e.ru===n&&e.eu===t)return e.su}},r.yu=function(t){for(var n=0,r=this._F;n<r.length;n++){var i=r[n];if(i.iu===t)return i.su}},r.lF=function(t){this._F.push(t)},r._u=function(t){for(var n=0;n<this._F.length;n++)if(this._F[n].iu===t)return void this._F.splice(n,1)},r.pu=function(t,n){for(var r=0;r<this._F.length;r++)if(this._F[r].ru===n&&this._F[r].eu===t)return void this._F.splice(r,1)},r.mu=function(t,n){this._u(t),this.lF(new nE({ru:t,su:n}))},r.ku=function(t,n,r){this._u(n);var i=n.split(":");this.lF(new nE({ru:i[i.length-1],su:r,eu:t,dF:i.length>1?i[0]:void 0}))},r.nu=function(t){var r=new n({ru:this.ru,eu:this.eu,dF:this.uu});return this.bu.forEach(function(t){return r.lF(t.nu())}),t&&this.fu.forEach(function(n){return r.du(n.nu(t))}),r},r.tu=function(t){return this===t||!!aE(this,t)&&(this.wF===t.wF&&this.gF===t.gF&&this.yF===t.yF&&(fE(this.bu,t.bu)&&fE(this.fu,t.fu)))},P(n,[{key:"ze",get:function(){return Xt.Xe}},{key:"bu",get:function(){return this._F}},{key:"ru",get:function(){return this.wF}},{key:"eu",get:function(){return this.yF}},{key:"uu",get:function(){return this.gF}},{key:"hu",get:function(){return void 0===this.gF?this.wF:this.gF+":"+this.wF}},{key:"Tu",get:function(){var t=[];return this.pF(t),t.join("")}}]),n}(rE),eE=function(){function t(t){this.Kr=t}return P(t,[{key:"Eu",get:function(){return this.Kr}}]),t}(),uE=function(t){function n(n){return t.call(this,n)||this}Gt(n,t);var r=n.prototype;return r.nu=function(){return new n(this.Eu)},r.tu=function(t){return this===t||!!aE(this,t)&&this.Eu===t.Eu},P(n,[{key:"ze",get:function(){return Xt.Ye}}]),n}(eE),sE=function(t){function n(n){return t.call(this,n)||this}Gt(n,t);var r=n.prototype;return r.nu=function(){return new n(this.Eu)},r.tu=function(t){return this===t||!!aE(this,t)&&this.Eu===t.Eu},P(n,[{key:"ze",get:function(){return Xt.Ke}}]),n}(eE),oE=function(t){function n(){return t.apply(this,arguments)||this}Gt(n,t);var r=n.prototype;return r.nu=function(t){var r=new n;return t&&this.fu.forEach(function(n){return r.du(n.nu(t))}),r},r.tu=function(t){return this===t||!!aE(this,t)&&fE(this.fu,t.fu)},P(n,[{key:"ze",get:function(){return Xt.Je}},{key:"Su",get:function(){return this.wu[0]}}]),n}(rE);function cE(t){return Yt(t)}function aE(t,n){return t.ze===n.ze}function fE(t,n){if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(!t[r].tu(n[r]))return!1;return!0}function hE(t){return void 0===t.adBreak||void 0===t.adBreak.ads?t:dn(dn({},t),{adBreak:dn(dn({},t.adBreak),{ads:t.adBreak.ads.map(function(t){t.adBreak;return Iy(t,["adBreak"])})})})}function vE(t){return void 0===t.ads?t:dn(dn({},t),{ads:t.ads.map(function(t){t.adBreak;return Iy(t,["adBreak"])})})}function dE(t){return"string"==typeof t.date?new Date(t.date):t.date}function lE(t){var n;return t.cue.track?(n=yE(t.cue,t.cue.track.type)).track={uid:t.cue.track.uid}:n=yE(t.cue,""),n}function wE(t){var n=[];return function t(r){if(Array.isArray(r))return r.map(t);if("object"==typeof r&&null!==r){if(n.includes(r))return"[Circular ~]";n.push(r);var i=d.entries(r);return d.fromEntries(i.map(function(r){var i=r[0],e=r[1],u=t(e);return"object"==typeof e&&null!==e&&"[Circular ~]"!==u&&n.pop(e),[i,u]}))}return r}(t)}function yE(t,n){var r={};return r.content=t.content,r.endTime=t.endTime,r.startTime=t.startTime,r.id=t.id,r.uid=t.uid,function(){switch(n){case"webvtt":r.align=t.align,r.line=t.line,r.lineAlign=t.lineAlign,r.position=t.position,r.positionAlign=t.positionAlign,r.region=t.region,r.size=t.size,r.snapToLines=t.snapToLines,r.text=t.text,r.vertical=t.vertical;break;case"ttml":r.content=function t(n){var r=n.children;if(0!==r.length)for(var i=0;i<r.length;i++){var e=r.item(i);return"image"===e.nodeName||"smpte:image"===e.nodeName?e:t(e)}}(t.content).innerHTML;for(var i=t.content,e={};i.firstChild&&i.firstChild.outerHTML;){(new tE).Qe(i.firstChild.outerHTML).Su.bu.forEach(function(t){e[t.ru]=t.su}),i=i.firstChild}r.ttmlAttributes=e;break;case"daterange":var u={};for(var s in t.customAttributes){var o=t.customAttributes[s];if("object"==typeof(a=o)&&null!==a){var c=gE(o);u[s]={type:YT.mF,value:c}}else pE(o)?u[s]={type:YT.kF,value:o}:u[s]={type:YT.bF,value:String(o)}}r.attributedClass=String(t.class),r.startDate=t.startDate,r.endDate=t.endDate,r.duration=t.duration,r.plannedDuration=t.plannedDuration,r.endOnNext=t.endOnNext,r.scte35Cmd=gE(t.scte35Cmd),r.scte35Out=gE(t.scte35Out),r.scte35In=gE(t.scte35In),r.customAttributes=u}var a}(),r}function gE(t){if(void 0!==t)return xr(t)}function _E(t){var n={};if(n.kind=t.kind,n.language=t.language,n.label=t.label,n.id=t.id,n.uid=t.uid,n.src=t.src,"cues"in t){n.inBandMetadataTrackDispatchType=t.inBandMetadataTrackDispatchType,n.mode=t.mode,n.type=t.type;var r=[];if(t.cues)for(var i=0;i<t.cues.length;i++){var e=t.cues[i];r.push(yE(e,t.type))}n.cues=r;var u=[];if(t.activeCues)for(var s=0;s<t.activeCues.length;s++){var o=t.activeCues[s];u.push(yE(o,t.type))}n.activeCues=u}else"enabled"in t&&(n.enabled=t.enabled);return n}function pE(t){return"number"==typeof t}!function(t){t.bF="daterange-ca-type_string",t.kF="daterange-ca-type_number",t.mF="daterange-ca-type_arraybuffer"}(YT||(YT={}));var mE={cue:function(t){var n={};switch(n.date=dE(t),n.type=t.type,t.type){case"enter":case"exit":case"update":n.cue=lE(t)}return n},textTrack:function(t){var n={};switch(n.date=dE(t),n.type=t.type,t.type){case"addcue":t.cue.uid||(t.cue.uid=EE().register(t.cue));var r=TE()[SE()].eventListeners;t.cue.addEventListener("enter",function(t){r.InternalCueHelperEvent(t)}),t.cue.addEventListener("exit",function(t){r.InternalCueHelperEvent(t)}),t.cue.addEventListener("update",function(t){r.InternalCueHelperEvent(t)});case"removecue":case"entercue":case"exitcue":n.cue=lE(t);break;case"cuechange":for(var i=[],e=0;e<t.track.activeCues.length;e++){var u=t.track.activeCues[e];i.push(yE(u,t.track.type))}n.track={activeCues:i,uid:t.track.uid}}return n},textTrackList:function(t){var n={};switch(n.date=dE(t),n.type=t.type,t.type){case"addtrack":t.track.cues&&t.track.cues.length&&t.track.cues.length>0&&t.track.cues.map(function(t){t.uid=EE().register(t)}),n.track=_E(t.track);case"removetrack":case"change":n.track=_E(t.track)}return n},default:function(t){var n={};switch(n.date=dE(t),n.type=t.type,t.type){case"play":case"playing":case"pause":case"seeking":case"seeked":case"ended":case"waiting":case"emptied":n.currentTime=t.currentTime;break;case"timeupdate":n.currentTime=t.currentTime,n.currentProgramDateTime=t.currentProgramDateTime;break;case"progress":n.currentTime=t.currentTime;break;case"ratechange":n.currentTime=t.currentTime,n.playbackRate=t.playbackRate;break;case"durationchange":n.duration=t.duration;break;case"sourcechange":n.source=t.source;break;case"readystatechange":case"loadedmetadata":case"loadeddata":case"loadstart":case"canplay":case"canplaythrough":n.currentTime=t.currentTime,n.readyState=t.readyState;break;case"error":n.error=t.error,n.errorObject=dn({name:t.errorObject.name,cause:t.errorObject.cause},t.errorObject);break;case"addtrack":case"removetrack":case"change":n.track=_E(t.track);break;case"adbreakbegin":case"adbreakend":n.ad=vE(t.ad);break;case"adloaded":case"adimpression":n.ad=hE(t.ad);break;case"aderror":t.TF&&(n.TF=t.TF),t.message&&(n.message=t.message);break;case"statechange":n.state=t.state;break;case"presentationmodechange":case"resize":break;case"adfirstquartile":case"admidpoint":case"adthirdquartile":case"adbegin":case"adend":n.currentTime=t.currentTime,n.ad=hE(t.ad)}return wE(n)},minimizeCueHelper:function(t){var n={};return n.date=dE(t),n.type=t.type,n.cue=lE(t),n.track={uid:t.cue.track.uid},n},adReplacer:hE,adBreakReplacer:vE,removeCircularReferences:wE},kE=function(){this.stringify=GT,this.minimize=mE};function bE(){return S.self}function TE(){return bE().THEOplayerBridge}function EE(){return bE().THEOCueMirrorMap}function SE(){return bE().THEOplayerGlobalID}function RE(){var t=bE();if(t.THEOplayerBridge){var n=new WT;t.THEOplayerBridge=pv(n,t.THEOplayerBridge)}else t.THEOplayerBridge=new WT;t.THEOplayerUtils||(t.THEOplayerUtils=new kE),t.THEOCueMirrorMap||(t.THEOCueMirrorMap=new $T)}RE();var IE=function(t){function n(){return t.apply(this,arguments)||this}return Gt(n,t),n.prototype.Qe=function(t){var n,r=new DOMParser;try{n=r.parseFromString(t,"text/xml")}catch(t){throw new Zt(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new Zt;return new DE(n)},n}(tn),DE=function(t){function n(){return t.apply(this,arguments)||this}return Gt(n,t),n.prototype.nu=function(t){return new n(this.cu.cloneNode(t))},P(n,[{key:"fu",get:function(){return void 0===this.ou&&(this.ou=AE(this.cu.childNodes)),this.ou}},{key:"Su",get:function(){return new CE(this.cu.documentElement)}}]),n}(cn),CE=function(t){function n(){return t.apply(this,arguments)||this}return Gt(n,t),n.prototype.nu=function(t){var r=new n(this.cu.cloneNode(t));return r.bu.length<1&&this.bu.length>0&&this.bu.forEach(function(t){r.mu(t.iu,t.su)}),r},P(n,[{key:"fu",get:function(){return void 0===this.ou&&(this.ou=AE(this.cu.childNodes)),this.ou}}]),n}(en);function NE(t){switch(t.nodeType){case Xt.Xe:return new CE(t)}return fn(t)}function AE(t){for(var n=[],r=0;r<t.length;r++){var i=NE(t.item(r));i&&n.push(i)}return n}L(new(function(t){function n(){var n;return(n=t.apply(this,arguments)||this).EF=new IE,n}return Gt(n,t),n.prototype.Qe=function(t){return this.EF.Qe(t)},n}(iv)));var OE=function(t){function n(n){var r;(r=t.call(this)||this).SF=[],r.RF=function(t){r.vl(t.qd)},r.IF=function(t){var n=t.qd;r.DF(n)||r.dl(n)};for(var i=0;i<n.length;i++){var e=n[i];r.CF(e)}return r}Gt(n,t);var r=n.prototype;return r.CF=function(t){this.SF.push(t);for(var n=0,r=t.yl;n<r.length;n++){var i=r[n];this.vl(i)}this.NF(t)},r.AF=function(t){Kn(this.SF,t),this.OF(t);for(var n=0,r=t.yl;n<r.length;n++){var i=r[n];this.DF(i)||this.dl(i)}},r.DF=function(t){for(var n=0,r=this.SF;n<r.length;n++){if(r[n].ll(t))return!0}return!1},r.NF=function(t){t.Rs(nv.xd,this.RF),t.Rs(nv.Ld,this.IF)},r.OF=function(t){t.Ns(nv.xd,this.RF),t.Ns(nv.Ld,this.IF)},r.ai=function(){for(;this.SF.length>0;)this.AF(this.SF[0]);t.prototype.ai.call(this)},r.Ud=function(){return Vv(this)},n}(dv),xE=function(t){function n(n,r){var i;return(i=t.call(this,n)||this).type=n,i.detail=r,i}return Gt(n,t),n}(pr),PE=function(t){function n(){return t.apply(this,arguments)||this}Gt(n,t);var r=n.prototype;return r.dispatchEvent=function(t,n){this.Es(new xE(t,n))},r.addEventListener=function(t,n){this.Rs(t,n)},r.removeEventListener=function(t,n){this.Ns(t,n)},n}($v);function LE(t,n){return t.ng<=n&&t.rg>n}function FE(t,n){return function(t,n){return Dl(t.ng,n.ng,kl)}(t,n)||function(t,n){return Dl(t.rg,n.rg,kl)}(t,n)}function BE(t,n){var r=function(t,n,r,i,e,u,s){void 0===e&&(e=!1),void 0===u&&(u=0),void 0===s&&(s=t.length);for(var o=u,c=s-1;o<=c;){var a=o+(c-o>>1),f=i(r(t[a]),n);if(f<0)o=a+1;else if(f>0)c=a-1;else{if(!(e&&a>u&&0===i(r(t[a-1]),n)))return a;c=a-1}}return~o}(t,n,et,FE,!0);if(r<0)return r;for(;r<t.length&&FE(n,t[r])===El.Ng;r++)if(t[r].vg(n))return r;return-(r+1)}function ME(t){var n=t.qd;if(!n)return-1;if(t instanceof bl)return n.xF(t);var r=n.Vl;if(!r)return-1;var i=BE(r.yl,t);return i>=0?i:-1}var UE=function(t){function n(n,r){var i;return(i=t.call(this,dl.Ky,n)||this).S_=r,i}return Gt(n,t),n.prototype.Ud=function(){return new qE(this.tg.Md)},n}(gl),qE=function(t){function n(n){return t.call(this,ll.Ky,n)||this}return Gt(n,t),n}(_l),VE=function(t){function n(n,r){var i;return(i=t.call(this,dl.Qy,n)||this).S_=r,i}return Gt(n,t),n.prototype.Ud=function(){return new jE(this.tg.Md)},n}(gl),jE=function(t){function n(n){return t.call(this,ll.Qy,n)||this}return Gt(n,t),n}(_l),HE=function(t){function n(n){var r;return(r=t.call(this,sv.$d)||this).tg=n,r}return Gt(n,t),n.prototype.Ud=function(){return new WE(this.tg.Md)},n}(ov),WE=function(t){function n(n){var r;return(r=t.call(this,"entercue")||this).cue=n,r}return Gt(n,t),n}(cv),$E=function(t){function n(n){var r;return(r=t.call(this,sv.Xd)||this).tg=n,r}return Gt(n,t),n.prototype.Ud=function(){return new zE(this.tg.Md)},n}(ov),zE=function(t){function n(n){var r;return(r=t.call(this,"exitcue")||this).cue=n,r}return Gt(n,t),n}(cv),XE=function(t){function n(n){var r;return(r=t.call(this,sv.Yd)||this).qd=n,r}return Gt(n,t),n.prototype.Ud=function(){return new GE(this.qd.Md)},n}(ov),GE=function(t){function n(n){var r;return(r=t.call(this,"cuechange")||this).track=n,r}return Gt(n,t),n}(cv);function YE(t,n){return Il(t.S_,n.S_)||function(t,n){return t.qd===n.qd?Rl(ME(t),ME(n)):vy(t.qd,n.qd)}(t.tg,n.tg)||function(t,n){return t===n?El.Ng:t===dl.Ky?El.Og:El.Ag}(t.type,n.type)}var KE=function(){function t(t,n){var r=this;this.$w=[],this.PF=0,this.LF=0,this.FF=[],this.BF=!1,this.MF=!1,this.UF=void 0,this.qF=function(){r.PF=0,r.VF(),r.jF()},this.HF=function(){r.VF(),r.jF()},this.WF=function(){r.MF=!0,r.UF=r.KI.bw,r.zF()},this.XF=function(){r.VF(),r.jF()},this.GF=function(){r.YF(),r.VF(),r.jF()},this.KF=function(){r.JF()},this.QF=function(t){Kn(r.FF,t.tg),r.JF()},this.ZF=n,this.KI=t,t.Rs(Bs.Ha,this.HF),t.Rs(Bs.Na,this.HF),t.Rs(wd.kw,this.HF),t.Rs(Bs.Ca,this.HF),t.Rs(Bs.Fa,this.WF),t.Rs(Bs.La,this.XF),this.JF()}var n=t.prototype;return n.wl=function(){Zn(this.FF);for(var t=0,n=this.$w.slice();t<n.length;t++){var r=n[t];this.dl(r)}this.zF(),this.PF=0,this.LF=0,this.BF=!1,this.MF=!1,this.UF=void 0},n.vl=function(t){Qn(this.$w,t)||(this.$w.push(t),t.Rs(sv.Vd,this.KF),t.Rs(sv.Hd,this.QF),t.Rs(sv.Jd,this.GF),t.Vl.gl&&this.JF(),this.YF())},n.dl=function(t){if(Kn(this.$w,t)){if(t.Ns(sv.Vd,this.KF),t.Ns(sv.Hd,this.QF),t.Ns(sv.Jd,this.GF),t.Vl.gl){for(var n=0,r=t.Vl.yl;n<r.length;n++){var i=r[n];Kn(this.FF,i)}this.JF()}this.YF()}},n.YF=function(){this.BF=this.$w.some(function(t){return t.Fl!==Lv.Ul})},n.jF=function(){this.KI.Cw||this.KI.Iw?this.zF():this.JF()},n.JF=function(){this.BF&&(this.PF||(this.PF=this.ZF.ML(this.qF)))},n.zF=function(){this.PF&&(this.ZF.tB(this.PF),this.PF=0)},n.VF=function(){var t;if(this.BF&&!this.KI.Cw){var n=this.$w,r=this.LF,i=null!==(t=this.UF)&&void 0!==t?t:this.KI.bw,e=i-r<-.1,u=this.MF||e;u&&i>r&&i-r<.1&&(u=!1),this.MF=!1,this.UF=void 0;for(var s,o=[],c=0;c<n.length;c++){var a=n[c];if(a.Fl!==Lv.Ul){a.nB(i,u);for(var f=0,h=a.jl.yl;f<h.length;f++){var v=h[f];o.push(v)}}}if(u)s=this.FF;else{s=[];for(var d=0;d<n.length;d++){var w=n[d];w.Fl!==Lv.Ul&&hy(w,r-1/6,i,s)}}for(var y=s.length-1;y>=0;y--)Qn(o,s[y])&&Jn(s,y);var g=[];if(!u)for(var _=s.length-1;_>=0;_--){var p=s[_];p.ng>=r&&p.rg<=i&&(g.push(p),Jn(s,_))}for(var m=[],k=[],b=0;b<g.length;b++){var T=g[b];T.dg||m.push(new UE(T,T.ng)),m.push(new VE(T,l.max(T.ng,T.rg)))}for(var E=0,S=s;E<S.length;E++){var R=S[E];R.dg&&(m.push(new VE(R,l.max(R.ng,R.rg))),R.dg=!1)}for(var I=0;I<o.length;I++){var D=o[I];D.dg||(m.push(new UE(D,D.ng)),D.dg=!0)}m.sort(YE);for(var C=0;C<m.length;C++){var N=m[C],A=N.tg;A.Es(N);var O=A.qd;O&&(N.type===dl.Ky?O.Es(new HE(A)):O.Es(new $E(A)),Qn(k,O)||k.push(O))}k.sort(vy);for(var x=0;x<k.length;x++){var P=k[x];P.Es(new XE(P))}this.LF=i,this.FF=o}},n.ai=function(){this.wl(),this.KI.Ns(Bs.Ha,this.HF),this.KI.Ns(Bs.Na,this.HF),this.KI.Ns(wd.kw,this.HF),this.KI.Ns(Bs.Ca,this.HF),this.KI.Ns(Bs.Fa,this.WF),this.KI.Ns(Bs.La,this.XF)},t}(),JE=function(){function t(){}var n=t.prototype;return n.ML=function(t){return tb(t)},n.tB=function(t){nb(t)},t}(),QE=new JE,ZE=function(t){function n(n,r){return void 0===r&&(r=QE),t.call(this,n,r)||this}return Gt(n,t),n}(KE),tS=function(t){function n(){return t.call(this,Bs.Ea)||this}return Gt(n,t),n}(pr),nS=function(t){function n(n){var r;return(r=t.call(this,Bs.Aa)||this).currentTime=n,r}return Gt(n,t),n}(pr),rS=function(t){function n(n,r){var i;return(i=t.call(this)||this).rB=function(t){i.eB.iB("THEOplayerABRSetTargetBuffer",t.wx),i.Es(t)},i.uB=function(t){i.eB.iB("THEOplayerABRSetStrategy",t.gx),i.Es(t)},i.eB=n,i.sB=r,i.sB.Rs("yx",i.rB),i.sB.Rs("_x",i.uB),i}return Gt(n,t),P(n,[{key:"Ix",get:function(){var t;switch(this.gx.type){case Rb.PERFORMANCE:return 1;case Rb.QUALITY:return 0;case Rb.BANDWIDTH:return(null===(t=this.gx.metadata)||void 0===t?void 0:t.bitrate)&&!g(this.gx.metadata.bitrate)?this.gx.metadata.bitrate:0;default:return 0}}},{key:"Md",get:function(){return this.sB.Md}},{key:"gx",get:function(){return this.sB.gx},set:function(t){this.sB.gx=t}},{key:"wx",get:function(){return this.sB.wx},set:function(t){this.sB.wx=t}},{key:"mx",get:function(){return this.sB.mx},set:function(t){this.sB.mx=t}}]),n}(gr),iS=function(t){function n(){return t.apply(this,arguments)||this}return Gt(n,t),n.prototype.HS=function(t,n,r,i){return!0},n}(vp),eS=function(){function t(t){this.Bd=void 0,this.oB=t}var n=t.prototype;return n.Ud=function(){return function(t){for(var n=[],r=0;r<t.gl;r++)n[r]=t.Gs(r).Md;return n.item=function(n){var r=0|n,i=t.Gs(r);return i&&i.Md||void 0},d.defineProperty(n,"constructor",{value:ml}),n}(this)},n.By=function(t){for(var n=this.oB,r=n.length-1;r>=0;r-=1){var i=n[r];if(t.vg(i))return!0}return!1},n.Gs=function(t){return this.oB[t]},P(t,[{key:"yl",get:function(){return this.oB}},{key:"gl",get:function(){return this.oB.length}},{key:"Md",get:function(){if(this.Bd){var t=this.oB;this.Bd.length=t.length;for(var n=0;n<t.length;n++)this.Bd[n]=t[n].Md}else this.Bd=this.Ud();return this.Bd}}]),t}(),uS=function(t){function n(n,r){var i;return(i=t.call(this,sv.Zd)||this).qd=n,i.ql=r,i}return Gt(n,t),n.prototype.Ud=function(){return new sS(this.qd.Md,jv(this.ql))},n}(ov),sS=function(t){function n(n,r){var i;return(i=t.call(this,"readystatechange")||this).track=n,i.readyState=r,i}return Gt(n,t),n}(cv),oS=function(t){function n(n){var r;return(r=t.call(this,sv.nl)||this).qd=n,r}return Gt(n,t),n.prototype.Ud=function(){return new cS(this.qd.Md)},n}(ov),cS=function(t){function n(n){var r;return(r=t.call(this,"typechange")||this).track=n,r}return Gt(n,t),n}(cv),aS=function(t){function n(n){var r;return(r=t.call(this,sv.Vd)||this).tg=n,r}return Gt(n,t),n.prototype.Ud=function(){return new fS(this.tg.Md)},n}(ov),fS=function(t){function n(n){var r;return(r=t.call(this,"addcue")||this).cue=n,r}return Gt(n,t),n}(cv),hS=function(t){function n(n){var r;return(r=t.call(this,sv.Hd)||this).tg=n,r}return Gt(n,t),n.prototype.Ud=function(){return new vS(this.tg.Md)},n}(ov),vS=function(t){function n(n){var r;return(r=t.call(this,"removecue")||this).cue=n,r}return Gt(n,t),n}(cv),dS=function(t){function n(n,r,i,e,u,s){var o;return(o=t.call(this)||this).Vy=String(lS++),o.qy=el(),o.cB=!1,o.pC=Lv.Ul,o.aB=fl.NONE,o.fB=void 0,o.oB=[],o.hB=[],o.vB=0,o.dB=0,o.lB=s||"",o.wB=n,o.yB=i||"",o.cB=Boolean(e),o.Nc=u||hl.DEFAULT,o.jy=r||"",o.gB=new eS(o.oB),o._B=new eS(o.hB),o}Gt(n,t);var r=n.prototype;return r.pB=function(t){return Yn(this.gB.yl,function(n){return n.Il===t})},r.Ud=function(){return Uv(this)},r.IC=function(t){var n=function(t){if("string"==typeof t){var n=t.toLowerCase();switch(n){case Lv.Ul:case Lv.Ml:case Lv.Bl:return n}}else if("number"==typeof t)switch(t){case 0:return Lv.Ul;case 1:return Lv.Ml;case 2:return Lv.Bl}return Lv.Ul}(t);n!==this.Fl&&(this.pC=n,n===Lv.Ul&&(this.hB.forEach(function(t){t.dg=!1}),Zn(this.hB),this.dB=0))},r.gT=function(t){if(t&&!t.qd){var n=BE(this.Vl.yl,t);if(!(n>=0)){t.qd=this;var r=-(n+1);this.oB.splice(r,0,t),this.mB(r),t.og=r,r<this.dB&&(this.dB=r),this.Es(new aS(t))}}},r.kB=function(t){if(t&&t.qd===this){var n=this.xF(t);if(!(n<0)){t.dg=!1;var r=this.hB,i=BE(r,t);i>=0&&Jn(r,i),Jn(this.oB,n),this.mB(n),t.og=-1,this.dB>n&&--this.dB,this.Es(new hS(t))}}},r.nB=function(t,n){var r=this.hB,i=this.oB,e=this.dB,u=!1;n&&(e=0);for(var s=r.length-1;s>=0;s--){LE(r[s],t)||(u=!0,Jn(r,s))}for(;e<i.length&&i[e].ng<=t;){var o=i[e];LE(o,t)&&!Qn(r,o)&&(u=!0,r.push(o)),e++}u&&Xn(r,FE),this.dB=e},r.xF=function(t){return(-1===t.og||t.og>=this.vB)&&this.bB(),t.og},r.bB=function(){for(var t=this.oB,n=this.vB;n<t.length;n++)t[n].og=n;this.vB=t.length},r.mB=function(t){t<this.vB&&(this.vB=t)},r.ai=function(){this.Cs();for(var t=this.oB.slice(),n=0;n<t.length;n++){t[n].ai()}Zn(this.oB),Zn(this.hB)},P(n,[{key:"jl",get:function(){return this._B}},{key:"Vl",get:function(){return this.gB}},{key:"pT",get:function(){return this.cB},set:function(t){this.cB=t}},{key:"Md",get:function(){return this.Bd||(this.Bd=this.Ud()),this.Bd}},{key:"Il",get:function(){return this.Vy}},{key:"Dl",get:function(){return this.qy}},{key:"Ll",get:function(){return this.lB},set:function(t){this.lB=t}},{key:"Cl",get:function(){return this.wB}},{key:"Nl",get:function(){return this.jy},set:function(t){t!==this.jy&&(this.jy=t,this.Es(new nl(this)))}},{key:"Al",get:function(){return this.yB}},{key:"Fl",get:function(){return this.pC},set:function(t){this.IC(t),this.Es(new lv(this))}},{key:"ql",get:function(){return this.aB},set:function(t){this.aB!==t&&(this.aB=t,this.Es(new uS(this,this.aB)))}},{key:"Hl",get:function(){return this.fB},set:function(t){this.fB=t}},{key:"Mu",get:function(){return this.Nc},set:function(t){this.Nc!==t&&(this.Nc=t,this.Es(new oS(this)))}}]),n}(gr),lS=0;function wS(t,n,r){for(var i=t[n].ng,e=n;e>=0&&t[e].ng===i;e--)t[e].rg=r}var yS,gS=function(t){function n(n,r){return t.call(this,n,1/0,r,!1)||this}return Gt(n,t),n.prototype.vg=function(n){return this===n||bv(this,n)&&t.prototype.vg.call(this,n)&&(r=n,this.ig===r.ig);var r},P(n,[{key:"Md",get:function(){return this.Bd||(this.Bd=pl(this)),this.Bd}}]),n}(bl),_S=function(t){function n(n,r,i){return void 0===i&&(i=hl.DEFAULT),t.call(this,iy.Qp,r||"","",!1,i,n)||this}return Gt(n,t),n}(dS),pS=function(t){function n(n,r){var i;return(i=t.call(this,n,r)||this).Mu=hl.ID3,i}Gt(n,t);var r=n.prototype;return r.gT=function(n){!function(t,n){if(0!==n.length){var r=n.length-1;if(n[r].ng<t.ng)wS(n,r,t.ng);else{var i=n[0];if(i.ng>t.ng)t.rg=i.ng;else{var e=BE(n,t);if(!(e>=0)){var u=-(e+1),s=u-1;if(s>=0&&n[s].ng<t.ng&&wS(n,s,t.ng),u<n.length){var o=n[u];t.rg=o.ng}}}}}}(n,this.oB),t.prototype.gT.call(this,n)},r.Ud=function(){return Uv(this)},n}(_S),mS=(Bs.Na,Bs.Ca,wd.kw,Bs.Ha,Bs.Aa,Bs.Ea,Bs.Fa,Bs.La,Bs.ka,Bs.Oa,Bs.Wa,Bs.pa,wd.Zd,Bs.Pa,Fv.Pl,yr.Vs,yr.Hs,{TB:!1,EB:50}),kS=function(){function t(t,n,r){this.Fo=void 0,this.sc=t,this.zu=r,this.yc=n}var n=t.prototype;return n._T=function(t){throw new h("Not implemented yet.")},n.zS=function(){var t=D.coroutine(vn.mark(function t(n,r){var i,e;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.zu.Zu(n.Uu,r);case 2:return i=t.sent,t.next=5,i.jo();case 5:return e=t.sent,t.next=8,this.SB(e);case 8:return t.abrupt("return",e);case 9:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),n.as=function(){var t=D.coroutine(vn.mark(function t(){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.SB(void 0);case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.SB=function(){var t=D.coroutine(vn.mark(function t(n){var r;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.RB(n),t.next=3,r;case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.RB=function(){var t=D.coroutine(vn.mark(function t(n){var r;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r=this.Fo)){t.next=5;break}return t.next=4,r.qo(this.yc);case 4:this.Fo=void 0;case 5:if(!n){t.next=9;break}return t.next=8,n.Uo(this.yc);case 8:this.Fo=n;case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.wT=function(t,n,r){throw new h("Not implemented yet.")},P(t,[{key:"Wk",get:function(){return this.sc}},{key:"xy",get:function(){throw new h("Not implemented yet.")},set:function(t){throw new h("Not implemented yet.")}},{key:"Py",get:function(){return new Yp([0,1/0])}},{key:"Jw",get:function(){throw new h("Not implemented yet.")}},{key:"IB",get:function(){throw new h("Not implemented yet")}},{key:"Kw",get:function(){throw new h("Not implemented yet.")}},{key:"DB",get:function(){throw new h("Not implemented yet")}},{key:"CB",get:function(){throw new h("Not implemented yet")}}]),t}();!function(t){t.NB="webkitneedkey",t.AB="webkitkeymessage",t.OB="webkitkeyerror"}(yS||(yS={}));var bS,TS,ES,SS=function(t){function n(n,r){var i;return(i=t.call(this,yS.NB)||this).initData=n,i.sessionId=r,i}return Gt(n,t),n}(pr),RS=function(t){function n(n,r){var i;return(i=t.call(this,yS.AB)||this).message=n,i.destinationURL=r,i}return Gt(n,t),n}(pr),IS=function(t){function n(){return t.call(this,yS.OB)||this}return Gt(n,t),n}(pr),DS=function(t){function n(n,r,i,e,u){var s;return(s=t.call(this)||this).Go=n,s.lo=r,s.xB=i,s.gc=e,s.cc=u,s.Qo=new Si,s.ac=void 0,s.ic=new Sr,s.hc=new Si,s.PB=function(t){s.ac?(s.ac.fo(void 0),s.ac=void 0):s.rc("internal-error"),s.Es(new br)},s.LB=function(t){s.ac&&(s.ac.ao(void 0),s.ac=void 0),s.Es(new kr(Kt(s),"license-request",Ti(t.message).buffer,t.destinationURL||void 0))},s}Gt(n,t);var r=n.prototype;return r.Io=function(){var t=D.coroutine(vn.mark(function t(n,r,i){var e;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=i&&i.fairplay&&i.fairplay.vc){t.next=3;break}throw new v("Expected FairPlay contentId to be defined but was "+e+".");case 3:return t.next=5,this.FB(bi(r),e);case 5:this.rc("usable"),this.hc.ao(),this.hc=new Si;case 8:case"end":return t.stop()}},t,this)}));return function(n,r,i){return t.apply(this,arguments)}}(),r.Do=function(){var t=D.coroutine(vn.mark(function t(n){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.No=function(){var t=D.coroutine(vn.mark(function t(n){var r;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(r=bi(n)).byteLength){t.next=3;break}throw new v("Cannot call update with an empty response.");case 3:return this.ac=new Si,this.xB.No(this.gc,r),t.next=7,this.ac.co;case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.Eo=function(){var t=D.coroutine(vn.mark(function t(){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.hc;case 2:return this.xB.Ns(yS.AB,this.LB),this.xB.Ns(yS.OB,this.PB),this.hc.ys(),this.Qo.ao(void 0),t.abrupt("return",this.Qo.co);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.Co=function(){var t=D.coroutine(vn.mark(function t(){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),r.FB=function(){var t=D.coroutine(vn.mark(function t(n,r){var i;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=Gi(n,r,this.cc),this.xB.Rs(yS.AB,this.LB),this.xB.Rs(yS.OB,this.PB),this.xB.TE(this.gc,i);case 4:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),r.rc=function(t){this.ic.Js(),this.ic.Ks(Er,t),this.Es(new mr(this))},P(n,[{key:"Lo",get:function(){return this.gc}},{key:"xo",get:function(){return NaN}},{key:"Oo",get:function(){return this.Qo.co}},{key:"Po",get:function(){return this.ic}}]),n}(gr),CS=function(){function t(t,n,r){this.lo=n,this.Go=r,this.BB=void 0,this.gc=void 0,this.cc=void 0,this.xB=t}var r=t.prototype;return r.Bo=function(){var t=D.coroutine(vn.mark(function t(r){var i;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.cc){t.next=2;break}throw new Yi(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return i=new DS(this.Go,this.lo,this.xB,this.gc,this.cc),this.BB=i,t.abrupt("return",i);case 5:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.Mo=function(t){return this.cc=bi(t),D.resolve(!0)},r.Uo=function(){var t=D.coroutine(vn.mark(function t(n){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.webkitSetMediaKeys(this);case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.qo=function(){var t=D.coroutine(vn.mark(function t(n){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.webkitSetMediaKeys(null);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.createSession=function(){throw new h("Whoops.")},P(t,[{key:"keySystem",get:function(){return this.lo}},{key:"sessionId",set:function(t){this.gc=t}}]),t}(),NS=function(){function t(t,n,r){this.MB=t,this.lo=n,this.sc=r;var i=Ui(r)||"video/mp4";this.Go=qi(i)}var n=t.prototype;return n.Ho=function(){return this.sc},n.jo=function(){var t=D.coroutine(vn.mark(function t(){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new CS(this.MB,this.lo,this.Go));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),P(t,[{key:"Wo",get:function(){return this.lo}}]),t}(),AS=function(){function t(t){this.MB=t}return t.prototype.Zu=function(){var t=D.coroutine(vn.mark(function t(n,r){var i,e,u;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0;case 1:if(!(i<r.length)){t.next=9;break}if(e=r[i],!(u=Mi(OS,n,e))){t.next=6;break}return t.abrupt("return",new NS(this.MB,n,u));case 6:i++,t.next=1;break;case 9:throw new v("Unsupported key system configuration for "+n);case 10:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),t}();function OS(t,n){return t===An}!function(t){t.gN="UB"}(bS||(bS={})),function(t){t[t.qB=0]="qB",t[t.VB=1]="VB"}(TS||(TS={})),function(t){t.jB="HB"}(ES||(ES={}));var xS,PS;ES.jB;!function(t){t[t.WB=0]="WB",t[t.Ka=1]="Ka",t[t.$B=2]="$B"}(xS||(xS={})),function(t){t.zB="XB"}(PS||(PS={}));var LS;$.Pe,Bs.Na,Bs.Ca,Bs.Fa,Bs.La,Bs.ka,Bs.Oa,wd.Zd,Fv.Pl,$.De||$.Ce;!function(t){t.GB="closed",t.vv="open",t.ka="ended"}(LS||(LS={}));var FS,BS;wd.Zd,Bs.Na,Bs.Ca,Bs.Fa,Bs.La,Bs.ka,Fv.Pl;!function(t){t[t.ISO_8859_1=0]="ISO_8859_1",t[t.UTF16_BOM=1]="UTF16_BOM",t[t.UTF16=2]="UTF16",t[t.UTF8=3]="UTF8"}(FS||(FS={})),function(t){t[t.V22=2]="V22",t[t.V23=3]="V23",t[t.V24=4]="V24"}(BS||(BS={}));var MS=function(t){function n(n){var r;return(r=t.call(this,0,n.ig)||this).YB=n,r.rg=r.YB.ng,r}return Gt(n,t),P(n,[{key:"Il",get:function(){return this.YB.Il},set:function(t){this.YB.Il=t}},{key:"wg",get:function(){return this.YB.wg},set:function(t){this.YB.wg=t}},{key:"lg",get:function(){return this.YB.lg},set:function(t){this.YB.lg=t}}]),n}(gS);function US(t){return void 0===t.KB&&(t.KB=new MS(t)),t.KB}var qS=function(t){function n(n,r){var i;(i=t.call(this,n.Ll,n.Nl)||this).Mu=hl.ID3,i.JB=function(t){i.QB(t.tg)},i.ZB=function(t){var n=t.tg;if(void 0!==n.KB){var r=n.KB;n.KB=void 0,i.kB(r),r.ai()}},i.tM=function(t){var n=US(t.tg);n.dg||i.nM(n),i.rM(n)},i.iM=function(t){var n=t.tg,r=US(n);i.eM.bw<n.ng&&i.nM(r)},i.uM=function(){var t=i.sM,n=i.Fl;if(i.sM=n,n===Lv.Ul)i.hB.forEach(function(t){return t.dg=!1}),Zn(i.hB);else if(t===Lv.Ul)for(var r=i.eM.bw,e=0,u=i.oB;e<u.length;e++){var s=u[e];r<s.rg&&i.nM(s)}},i.eM=r,i.oM=n,i.sM=n.Fl,n.Rs(sv.Vd,i.JB),n.Rs(sv.Hd,i.ZB),n.Rs(sv.$d,i.tM),n.Rs(sv.Xd,i.iM),n.Rs(sv.Jd,i.uM);for(var e=0,u=i.oM.Vl.yl;e<u.length;e++){var s=u[e];i.QB(s)}return i}Gt(n,t);var r=n.prototype;return r.nM=function(t){var n=BE(this.hB,t);if(!(n>=0)){var r=-(n+1);this.hB.splice(r,0,t),t.dg=!0,t.Es(new UE(t,this.eM.bw)),this.Es(new HE(t)),this.Es(new XE(this))}},r.rM=function(t){var n=BE(this.hB,t);n>=0&&Jn(this.hB,n),t.dg=!1,t.Es(new VE(t,this.eM.bw)),this.Es(new $E(t)),this.Es(new XE(this))},r.ai=function(){this.oM.Ns(sv.Vd,this.JB),this.oM.Ns(sv.Hd,this.ZB),this.oM.Ns(sv.$d,this.tM),this.oM.Ns(sv.Xd,this.iM),this.oM.Ns(sv.Jd,this.uM),t.prototype.ai.call(this)},r.QB=function(t){var n=US(t);(this.gT(n),this.Fl!==Lv.Ul)&&(this.eM.bw<n.rg&&this.nM(n))},P(n,[{key:"Cl",get:function(){return this.oM.Cl}},{key:"Nl",get:function(){return this.oM.Nl},set:function(t){this.oM.Nl=t}},{key:"Al",get:function(){return this.oM.Al}},{key:"Il",get:function(){return this.oM.Il}},{key:"Dl",get:function(){return this.oM.Dl}},{key:"Ll",get:function(){return this.oM.Ll}},{key:"Fl",get:function(){return this.oM.Fl},set:function(t){this.oM.Fl=t}},{key:"ql",get:function(){return this.oM.ql}},{key:"Hl",get:function(){return this.oM.Hl}}]),n}(_S),VS=function(t){function n(n){var r;return(r=t.call(this)||this).eM=n,r}Gt(n,t);var r=n.prototype;return r.vl=function(n){if(n.Mu===hl.ID3){var r=n;return r.KB||(r.KB=new qS(r,this.eM)),t.prototype.vl.call(this,r.KB)}return t.prototype.vl.call(this,n)},r.dl=function(n){if(n.Mu===hl.ID3){var r=n;return!!r.KB&&t.prototype.dl.call(this,r.KB)}return t.prototype.dl.call(this,n)},n}(Hv),jS=function(t){function n(n,r){var i;return(i=t.call(this)||this).vT=n,i.cM=r,i.aM=new mn,i.RF=function(){var t=D.coroutine(vn.mark(function t(n){var r;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((r=n.qd).Mu){t.next=4;break}return t.next=4,r.Ps(sv.nl);case 4:if(r.Mu===hl.ID3){t.next=6;break}return t.abrupt("return");case 6:if(0!==r.Vl.gl){t.next=11;break}return t.next=9,r.Ps(sv.Vd);case 9:t.next=6;break;case 11:i.fM(r);case 12:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.IF=function(t){var n=t.qd;if(n.Mu===hl.ID3&&i.aM.has(n.Dl)){var r=i.aM.get(n.Dl);i.dl(r),i.vT._T(r),n.Ns(sv.Vd,i.QB)}},i.QB=function(t){HS(t.tg)&&i.hM(t.tg)},i.vM(),i}Gt(n,t);var r=n.prototype;return r.vM=function(){this.cM.Rs(nv.xd,this.RF),this.cM.Rs(nv.Ld,this.IF)},r.dM=function(){this.cM.Ns(nv.xd,this.RF),this.cM.Ns(nv.Ld,this.IF)},r.fM=function(t){var n=t.Vl.yl[0];if(HS(n)){var r=function(t){var n=t.match(WS);if(!n)return;return{qd:n[1],Al:n[2]}}(n.ig.description),i=r.qd,e=r.Al;if(!this.lM(i,e)){var u=this.vT.wT(iy.eT,i,e,!1,hl.TTML);this.vl(u),this.aM.set(t.Dl,u);for(var s=0,o=t.Vl.yl;s<o.length;s++){var c=o[s];HS(c)&&this.hM(c)}t.Rs(sv.Vd,this.QB)}}},r.lM=function(t,n){return!!Yn(this.Hm.yl,function(r){return r.Nl===t&&r.Al===n})},r.hM=function(t){if(t.qd)for(var n=this.aM.get(t.qd.Dl),r=Xw(t.ig.text,0,{rp:0,ip:1/0,ep:-t.rg}),i=0;i<r.length;i++){var e=r[i];n.gT(e)}},r.wl=function(){var n=D.coroutine(vn.mark(function n(){var r,i,e,u,s;return vn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(r=0,i=this.cM.yl;r<i.length;r++)i[r].Ns(sv.Vd,this.QB);for(e=0,u=this.Hm.yl;e<u.length;e++)s=u[e],this.vT._T(s);return this.aM.clear(),n.next=5,t.prototype.wl.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),r.ai=function(){var n=D.coroutine(vn.mark(function n(){return vn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.dM(),n.next=3,t.prototype.ai.call(this);case 3:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),n}(uy);function HS(t){return function(t){return"TXXX"===t.id||"TXX"===t.id}(n=t.ig)&&WS.test(n.description);var n}var WS=/^Track:(.+),Lang:(.+)$/;$.De||$.Ce,$.Te,$.Pe,Bs.Wa,Bs.Oa,Bs.Fa,Bs.Na,Bs.Ca;var $S=function(t){function n(n,r,i){var e;return void 0===i&&(i=new AS(r)),(e=t.call(this)||this).FS=void 0,e.wM=new Ey,e.yM=!1,e.oc=null,e.gM={Sy:0,Ry:0,Iy:0,Dy:0,Cy:0,Ny:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},e._M=function(t){"boolean"==typeof t.detail.casting&&(e.yM=t.detail.casting,e.Es(new yl(e.yM)))},e.pM=function(t){e.gc=t.sessionId,e.oc&&(e.oc.sessionId=e.gc);var n=t.initData;if(n){var r=function(t){try{var n=pi(t),r=new Ei;return vi(di(Jr(n,r,ni(n,r,!0)),!0))}catch(t){return}}(n);if(!r)return;e.Es(new Tr(En,r))}else e.Es(new Tr(En,new ArrayBuffer(0)))},e.mM=n,e.MB=r,e.MB.Rs(yS.NB,e.pM),e.zu=i,e.kM(),e}Gt(n,t);var r=n.prototype;return r.bM=function(){var t=D.coroutine(vn.mark(function t(n){var r,i;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<n.length)){t.next=8;break}if((i=n[r]).Mu!==hp.KS){t.next=5;break}return t.abrupt("return",i);case 5:r++,t.next=1;break;case 8:return t.abrupt("return",void 0);case 9:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.as=function(){var t=D.coroutine(vn.mark(function t(){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.wl();case 2:this.Cs(),this.TM(),this.MB.Ns(yS.NB,this.pM);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.hy=function(){throw new h("Not implemented yet")},r.wT=function(t,n,r,i,e,u){throw new h("Not implemented yet")},r.vI=function(){return!1},r.lI=function(t,n,r,i){throw new h("Not implemented yet")},r._T=function(t){throw new h("Not implemented yet")},r.Do=function(){var t=D.coroutine(vn.mark(function t(n){var r=this;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.wM.ET(function(){var t=D.coroutine(vn.mark(function t(i){var e;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.Mu!==hp.KS){t.next=7;break}return er(i),e=new kS(n,r,r.zu),r.FS=e,t.abrupt("return",e);case 7:throw new h("Could not create non-static media source");case 8:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.ui=function(){throw new h("Not implemented yet")},r.ei=function(){throw new h("Not implemented yet")},r.wl=function(){var t=this;return this.wM.ys(),this.wM.ET(D.coroutine(vn.mark(function n(){return vn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0===t.FS){n.next=4;break}return n.next=3,t.FS.as();case 3:t.FS=void 0;case 4:case"end":return n.stop()}},n)})))},r.ro=function(t,n){throw new h("Not implemented yet")},r.kI=function(t){throw new h("Not implemented yet")},r.ay=function(){throw new h("Not implemented yet")},r.bI=function(){return this.gM},r.kM=function(){this.mM.addEventListener("airPlayIsCasting",this._M)},r.TM=function(){this.mM.removeEventListener("airPlayIsCasting",this._M)},r.webkitSetMediaKeys=function(t){this.oc=t||null,this.oc&&(this.oc.sessionId=this.gc)},r.EM=function(){},r.SM=function(){throw new h("Not implemented yet")},r.RM=function(){throw new h("Not implemented yet")},r.IM=function(t){},P(n,[{key:"by",get:function(){throw new h("Not implemented yet")}},{key:"nI",get:function(){throw new h("The mediaElement_ property is deprecated")}},{key:"ky",get:function(){throw new h("Not implemented yet")}},{key:"bw",get:function(){throw new h("Not implemented yet")}},{key:"OL",get:function(){throw new h("Not implemented yet")}},{key:"Tw",get:function(){throw new h("Not implemented yet")}},{key:"Ew",get:function(){throw new h("Not implemented yet")}},{key:"qs",get:function(){throw new h("Not implemented yet")}},{key:"uk",get:function(){throw new h("Not implemented yet")}},{key:"Ey",get:function(){return this.yM}},{key:"Rw",get:function(){throw new h("Not implemented yet")}},{key:"Iw",get:function(){throw new h("Not implemented yet")}},{key:"Dw",get:function(){throw new h("Not implemented yet")}},{key:"Oy",get:function(){throw new h("Not implemented yet")}},{key:"ql",get:function(){throw new h("Not implemented yet")}},{key:"Py",get:function(){throw new h("Not implemented yet")}},{key:"Cw",get:function(){throw new h("Not implemented yet")}},{key:"DM",get:function(){throw new h("Not implemented yet")}},{key:"Ow",get:function(){throw new h("Not implemented yet")},set:function(t){throw new h("Not implemented yet")}},{key:"sa",get:function(){throw new h("Not implemented yet")}},{key:"yI",get:function(){throw new h("Not implemented yet")}},{key:"webkitKeys",get:function(){return this.oc}},{key:"CM",get:function(){return mS}},{key:"Jw",get:function(){throw new h("Not implemented yet")}},{key:"TI",get:function(){throw new h("Not implemented yet")}},{key:"NM",get:function(){return!0}}]),n}(Wv),zS=function(t){function n(n){var r;return(r=t.call(this,Bs.Xa)||this).gM=n,r}return Gt(n,t),n}(pr);var XS=function(t){function n(n){return t.call(this,dl.ul,n)||this}return Gt(n,t),n.prototype.Ud=function(){return new GS(this.tg.Md)},n}(gl),GS=function(t){function n(n){return t.call(this,ll.ul,n)||this}return Gt(n,t),n}(_l),YS=function(t){function n(n,r){var i,e=KS(r,n.Tw,n.TI,n.AM);return(i=t.call(this,r,e,void 0,!1,n.Il)||this).OM=n.xM,i.PM=n.TI,i.LM=n.AM,i.FM=n.Tw,i.BM=n.MM,i.UM=Boolean(n.qM),i.VM=n.jM||{},i.HM=n.WM,i.$M=n.zM,i.XM=n.GM,i.YM(),i.KM(),i}Gt(n,t);var r=n.prototype;return r.No=function(t){var n=!1;void 0===this.OM&&void 0!==t.xM&&(n=!0,this.OM=t.xM),void 0===this.LM&&void 0!==t.AM&&(n=!0,this.LM=t.AM),void 0===this.FM&&void 0!==t.Tw&&(n=!0,this.FM=t.Tw),void 0===this.BM&&void 0!==t.MM&&(n=!0,this.BM=t.MM),!this.UM&&t.qM&&(n=!0,this.UM=t.qM),n=this.updateCustomAttributes(t,n),void 0===this.HM&&void 0!==t.WM&&(n=!0,this.HM=t.WM),void 0===this.$M&&void 0!==t.zM&&(n=!0,this.$M=t.zM),void 0===this.XM&&void 0!==t.GM&&(n=!0,this.XM=t.GM),this.YM(),this.KM(),this.JM(),n&&this.Es(new XS(this))},r.updateCustomAttributes=function(t,n){var r=n;if(t.jM)for(var i=0,e=d.keys(t.jM);i<e.length;i++){var u=e[i];void 0===this.VM[u]&&(r=!0,this.VM[u]=t.jM[u])}return r},r.YM=function(){this.FM&&!this.LM&&(this.LM=new Date(this.PM.getTime()+1e3*this.FM))},r.KM=function(){this.LM&&!this.FM&&(this.FM=zt(this.LM.getTime()-this.PM.getTime()))},r.JM=function(){this.ag===1/0&&(this.LM||this.FM)&&(this.ag=KS(this.cg,this.FM,this.PM,this.LM))},P(n,[{key:"Md",get:function(){var t;return this.Bd||(this.Bd=pv(pl(t=this),{get content(){return t.ig},get class(){return t.xM},get startDate(){return t.TI},get endDate(){return t.AM},get duration(){return t.Tw},get plannedDuration(){return t.MM},get endOnNext(){return t.qM},get scte35Cmd(){return t.WM},get scte35Out(){return t.zM},get scte35In(){return t.GM},get customAttributes(){return t.jM}})),this.Bd}},{key:"xM",get:function(){return this.OM}},{key:"TI",get:function(){return this.PM}},{key:"AM",get:function(){return this.LM}},{key:"Tw",get:function(){return this.FM}},{key:"MM",get:function(){return this.BM}},{key:"qM",get:function(){return this.UM}},{key:"WM",get:function(){return this.HM}},{key:"zM",get:function(){return this.$M}},{key:"GM",get:function(){return this.XM}},{key:"jM",get:function(){return this.VM}}]),n}(bl);function KS(t,n,r,i){return G(n)?t+n:i?t+(zt(i.getTime())-zt(r.getTime())):1/0}var JS,QS=function(t){function n(){return t.call(this,void 0,void 0,hl.DATE_RANGE)||this}Gt(n,t);var r=n.prototype;return r.No=function(t,n){var r=this;t=function(t){for(var n=wn(),r=[],i=0;i<t.length;i++){var e=t[i];if(n.has(e.Il)){var u=n.get(e.Il),s=dn(dn(dn({},u),Tv(e)),{jM:dn(dn({},u.jM),e.jM)});n.set(e.Il,s)}else n.set(e.Il,e),r.push(e.Il)}return r.map(function(t){return n.get(t)})}(t);for(var i=this.Vl.yl,e=function(n){var e=i[n],u=Yn(t,function(t){return t.Il===e.Il});u?e.No(u):r.kB(e)},u=i.length-1;u>=0;u--)e(u);for(var s=0,o=t;s<o.length;s++){var c=o[s],a=c.TI;if(void 0!==a&&!this.pB(c.Il)){var f=n(a);this.gT(new YS(c,f))}}},r.gT=function(n){this.QM(n),t.prototype.gT.call(this,n)},r.QM=function(t){var n=this.oB.filter(function(n){return n.xM===t.xM}).pop();n&&n.qM&&n.No({Il:n.Il,AM:t.TI})},n}(_S);function ZS(t){switch(t.type){case JS.bF:return t.value;case JS.kF:return Sv(t.value);case JS.mF:return Ar(t.value);default:return}}function tR(t){return function(t){return void 0!==t.name&&void 0!==t.message}(t)&&void 0!==t.timestamp&&void 0!==t.code}!function(t){t.bF="daterange-ca-type_string",t.kF="daterange-ca-type_number",t.mF="daterange-ca-type_arraybuffer"}(JS||(JS={}));var nR,rR,iR,eR=function(t){function n(n,r,i,e,u){var s;return(s=t.call(this,e,r,i)||this).TS=n,s.ZM=u,s}return Gt(n,t),P(n,[{key:"name",get:function(){return this.TS}},{key:"timestamp",get:function(){return this.ZM}}]),n}(Yi),uR=function(t){function n(n,r,i,e,u,s,o,c){var a;return(a=t.call(this,n,r,i,e,c)||this).url=u,a.status=s,a.errorComment=o,a}return Gt(n,t),n}(eR),sR=function(){function t(t,n){this.$w=new ey,this.tU=new KE(t,n)}var n=t.prototype;return n.wT=function(t,n,r,i,e){var u=new dS(t,n,r,i,e);return this.$w.vl(u),this.tU.vl(u),u},n._T=function(t){this.$w.dl(t),this.tU.dl(t)},n.wl=function(){this.$w.wl(),this.tU.wl()},n.ai=function(){this.$w.ai(),this.tU.ai()},P(t,[{key:"Jw",get:function(){return this.$w}}]),t}(),oR=function(t){function n(n,r,i,e,u){var s;(s=t.call(this)||this).zD=0,s.nU=!1,s.xR=void 0,s.PR=void 0,s.GD=!0,s.YD=1,s.rU=Yp.dD(),s.iU=Yp.dD(),s.XD=!1,s.eU=Yp.dD(),s.aB=td.hw,s.tR=td.hw,s.gM={Sy:0,Ry:0,Iy:0,Dy:0,Cy:0,Ny:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},s.FS=void 0,s.FR=new Pp,s.setCurrentTime=function(){var t=D.coroutine(vn.mark(function t(n){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s.Py.length){t.next=4;break}return s.zD=n,t.next=4,s.mM.Ps("seekablechange");case 4:s.zD=s.updateCurrentTime(n),s.eB.iB("THEOplayerSetCurrentTime",s.zD),s.KD=!0,s.Es(new Id(s.zD));case 8:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),s.uU=function(t){if(t.detail){for(var n=t.detail.buffered,r=[],i=0;i<n.length;i++){var e=n[i];r.push(e.start,e.end)}s.rU=new Yp(r),s.Es(new nS(s.bw))}},s.sU=function(t){s.aB=t.detail.readyState,s.Es(new Nd(+t.detail.currentTime,s.ql)),s.oU()},s.cU=function(t){s.aB=t.detail.readyState,s.Es(new Ad(+t.detail.currentTime,s.ql)),s.oU()},s.aU=function(t){if(t.detail){var n=+t.detail.duration;s.FM=n,s.Es(new bd(s.Tw))}},s.fU=function(t){t.detail&&(s.nU=!0,s.Es(new Sd(+t.detail.currentTime)))},s.MR=function(t){if(t.detail&&t.detail.error&&t.detail.errorObject){var n,r=JSON.parse(t.detail.errorObject);tR(n=r)&&void 0!==n.url&&void 0!==n.status&&void 0!==n.errorComment?(s.PR=new uR(r.name,r.message,void 0,r.code,r.url,r.status,r.errorComment,r.timestamp),s.xR=Jd(s.PR),s.Es(new xd(s.PR))):tR(r)&&(s.PR=new eR(r.name,r.message,void 0,r.code,r.timestamp),s.xR=Jd(s.PR),s.Es(new xd(s.PR)))}},s.hU=function(t){s.Es(new tS)},s.vU=function(t){s.aB=t.detail.readyState,s.Es(new Rd(+t.detail.currentTime,s.ql)),s.oU()},s.dU=function(){var t=D.coroutine(vn.mark(function t(n){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s.Py.length){t.next=3;break}return t.next=3,s.mM.Ps("seekablechange");case 3:s.aB=n.detail.readyState,s.Es(new kd(+n.detail.currentTime,s.ql)),s.oU();case 6:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),s.lU=function(t){t.detail&&s.Es(new _d(+t.detail.currentTime))},s.wU=function(t){t.detail&&s.Es(new gd(+t.detail.currentTime))},s.yU=function(t){if(t.detail){for(var n=t.detail.played,r=[],i=0;i<n.length;i++){var e=n[i];r.push(e.start,e.end)}s.eU=new Yp(r).SD(.05)}},s.gU=function(t){t.detail&&s.Es(new Ip(+t.detail.currentTime))},s._U=function(t){t.detail&&(s.YD=t.detail.playbackRate,s.Es(new Td(+t.detail.currentTime,s.YD)))},s.pU=function(t){if(t.detail){for(var n=t.detail.seekable,r=[],i=0;i<n.length;i++){var e=n[i];r.push(e.start,e.end)}s.iU=new Yp(r)}},s.mU=function(t){t.detail&&(s.zD=+t.detail.currentTime,s.KD=!1,s.Es(new Ed(s.zD,s.kU)),s.Es(new Dd(s.zD)))},s.bU=function(t){if(t.detail){var n=Number(t.detail.currentTime);n<s.FM&&(s.nU=!1),s.KD=!0,s.Es(new Id(n))}},s.TU=function(t){t.detail&&(t.detail.currentDate&&(s.kU=new Date(1e3*t.detail.currentDate)),s.zD=+t.detail.currentTime,s.Es(new Ed(s.zD,s.kU)))},s.EU=function(t){s.SU=t.detail.height,s.RU=t.detail.width},s.IU=function(t){t.detail&&s.Es(new Rp(+t.detail.currentTime))},s.DU=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,enabled:t.detail.enabled};s.Yw.vl(new cl(n))},s.CU=function(t){for(var n,r,i=t.detail.lang,e=t.detail.label,u=0;u<s.Hw.gl;u++){var o=s.Yw.hl(u);o.Al==i&&o.Nl==e?r=s.Hw.hl(u):1==o.Rl&&(n=s.Hw.hl(u))}r&&n&&(r.Rl=!0,n.Rl=!1)},s.NU=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,selected:t.detail.selected};s.Kw.vl(new wl(n))},s.AU=function(t){var n,r=t.detail.kind,i=t.detail.type;r===iy.Qp&&i===hl.ID3?(n=new pS("",t.detail.label)).Fl=Lv.Ml:r===iy.Qp&&i===hl.DATE_RANGE?(n=new QS,s.OU=n):n=new dS(r,t.detail.label,t.detail.lang,t.detail.isDefault,i),s.xU.vl(n),s.tU.vl(n)},s.PU=function(t){for(var n=0,r=t.detail;n<r.length;n++){var i=r[n],e=i.Id3FrameId,u={id:e,text:i.Id3FrameText};"TXXX"!==e&&"TXX"!==e||(u.description=i.Id3FrameDescription);var o=new gS(Sv(i.startTime),u);o.Il=i.uid;var c=s.LU();c&&c.gT(o)}},s.FU=function(t){for(var n,r=0,i=t.detail;r<i.length;r++){var e=i[r],u=new Tl(Sv(e.startTime),Sv(e.endTime),e.content,!1," "),o=null!==(n=s.BU(iy.eT))&&void 0!==n?n:s.BU(iy.uT);o&&(o.Mu=hl.WEBVTT,o.gT(u))}},s.QR=function(t){t.type===Bs.wa&&(s.xR=Jd(t.errorObject)),s.Ts(t)},s.MU=function(t){t.detail&&(s.gM.Ry=t.detail.corruptedVideoFrames,s.gM.Sy=t.detail.droppedVideoFrames,s.Es(new zS(s.qw)))},s.UU=function(t){var n=function(t){var n=t.detail,r=[];return n.forEach(function(t){var n={Il:t.id};if(void 0!==t.startDate&&(n.TI=new Date(t.startDate)),void 0!==t.endDate&&(n.AM=new Date(t.endDate)),void 0!==t.customAttributes){var i={};for(var e in t.customAttributes){var u=ZS(t.customAttributes[e]);void 0!==u&&(i[e]=u)}n.jM=i}void 0!==t.scte35Cmd&&(n.WM=Ar(t.scte35Cmd)),void 0!==t.scte35In&&(n.GM=Ar(t.scte35In)),void 0!==t.scte35Out&&(n.zM=Ar(t.scte35Out)),void 0!==t.startTime&&(n.ng=t.startTime),n.xM=t.class,n.Tw=Sv(t.duration),n.MM=Sv(t.plannedDuration),r.push(n)}),r}(t);n.forEach(function(t){var r=null!=t.ng?t.ng:(new Date).getTime(),i=new YS(t,r);s.OU.gT(i),s.OU.No(n,r)})};var o=e.uid;s.eB=s.getSdkBridge(o),s.mM=new PE,TE()[o].sdkEventBus=s.mM,s.Hw=new Zd,s.Ww=new Zd;var c=s.qU(i);return s.vT=new sR(Kt(s),new JE),s.tU=new ZE(Kt(s)),s.sI=new gy(s.vT,c),s.xU=new ey,s.VU=new VS(Kt(s)),s.VU.Tl=s.xU,s.jU=new jS(s.vT,s.VU),s.$w=new OE([s.xU,s.sI.Hm,s.jU.Hm]),s.MB=s.getFairPlayControllerBridge(s.eB),s.VS=new $S(s.mM,s.MB),s.iI=new iS(s.VS,c),s.iI.Rs(Op,s.QR),s.observeMediaElement(),s.uI(),s.ZD=new rS(s.eB,u),s.ZD.Rs("yx",function(){s.eB.iB("THEOplayerSetPreferredForwardBufferDuration",s.ZD.wx)}),s}Gt(n,t);var r=n.prototype;return r.ly=function(){return Qp},r.ay=function(){this.eB.iB("THEOplayerShow",{})},r.hy=function(){this.eB.iB("THEOplayerHide",{})},r.HU=function(){var t=this;this.eB.iB("THEOplayerSetInitialPreferredPeakBitRate",this.ZD.Ix);this.Rs("playing",function n(){t.eB.iB("THEOplayerSetInitialPreferredPeakBitRate",0),t.Ns("playing",n)})},r.ny=function(){var t=D.coroutine(vn.mark(function t(n,r){var i,e,u;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.WU=n,i=dn(dn({},r),{sources:{src:n.src,type:Jv.ew,contentProtection:n.contentProtection,ssai:n.ssai,crossOrigin:n.crossOrigin,hlsDateRange:n.hlsDateRange,isAdvertisement:n.isAdvertisement}}),this.eB.iB("THEOplayerSourceChange",i),e={Mu:hp.KS,Hl:n.src,wh:n.type,oI:[],cI:n.crossOrigin,aI:r.metadata&&r.metadata.title},t.next=6,this.VS.Do(e);case 6:this.FS=t.sent,this.iI.Uo(this.FS),this.iI.HT(this.fI(n)),r.textTracks&&(u=r.textTracks.filter(function(t){return t.format!==hl.WEBVTT})).length>0&&this.hI(u),by(this.Jw),this.HU();case 12:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),r.fI=function(t){if(t.contentProtection&&t.contentProtection.fairplay){return{IE:t.contentProtection||{},GT:[{Wo:Pn,YT:[],CE:void 0,vc:void 0}],GS:[],YS:["video/mp4"]}}},r.ei=function(){this.GD=!1,this.Es(new _d(this.bw)),this.eB.iB("THEOplayerPlay",{})},r.ui=function(){this.GD=!0,this.Es(new gd(this.bw)),this.eB.iB("THEOplayerPause",{})},r.vy=function(){},r.wl=function(){var t=D.coroutine(vn.mark(function t(){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.zD=0,this.nU=!1,this.xR=void 0,this.PR=void 0,this.GD=!0,this.YD=1,this.FM=void 0,this.iU=Yp.dD(),this.rU=Yp.dD(),this.SU=void 0,this.RU=void 0,this.aB=td.hw,this.tR=td.hw,this.Hw.wl(),this.Ww.wl(),this.xU.wl(),this.$w.wl(),t.next=19,this.jU.wl();case 19:return this.VU.wl(),t.next=22,this.sI.wl();case 22:return this.vT.wl(),this.tU.wl(),this.WU=void 0,t.next=27,this.VS.wl();case 27:return t.next=29,this.iI.wl();case 29:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.ey=function(){this.eB.iB("THEOplayerShowAirPlayPicker",{})},r.uy=function(){this.eB.iB("THEOplayerStopAirPlayPicker",{})},r.updateMetrics=function(t){this.qw.Ry=t.Ry,this.qw.Sy=t.Sy},r.ai=function(){var t=D.coroutine(vn.mark(function t(){return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.wl();case 2:return this.Cs(),this.unobserveMediaElement(),this._I(),t.next=7,this.iI.ai();case 7:return t.next=9,this.VS.as();case 9:return this.Hw.ai(),this.Ww.ai(),this.xU.ai(),this.$w.ai(),this.VU.ai(),t.next=16,this.jU.ai();case 16:return t.next=18,this.sI.ai();case 18:this.vT.ai(),this.tU.ai();case 20:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.hI=function(t){for(var n=0;n<t.length;n++){var r=t[n];this.sI.lT(r)}},r.oU=function(){var t=this.tR,n=this.aB;t!==n&&(this.tR=n,this.Es(new Od(this.bw,n)))},r.observeMediaElement=function(){this.VS.Rs(Bs.ha,this.Ts),this.mM.addEventListener("play",this.lU),this.mM.addEventListener("pause",this.wU),this.mM.addEventListener("seeking",this.bU),this.mM.addEventListener("seeked",this.mU),this.mM.addEventListener("ratechange",this._U),this.mM.addEventListener("durationchange",this.aU),this.mM.addEventListener("timeupdate",this.TU),this.mM.addEventListener("waiting",this.IU),this.mM.addEventListener("playing",this.gU),this.mM.addEventListener("ended",this.fU),this.mM.addEventListener("loadedmetadata",this.dU),this.mM.addEventListener("loadeddata",this.vU),this.mM.addEventListener("loadstart",this.hU),this.mM.addEventListener("canplay",this.sU),this.mM.addEventListener("canplaythrough",this.cU),this.mM.addEventListener("error",this.MR),this.mM.addEventListener("seekablechange",this.pU),this.mM.addEventListener("videosizechange",this.EU),this.mM.addEventListener("bufferedchange",this.uU),this.mM.addEventListener("playedchange",this.yU),this.mM.addEventListener("metricschange",this.MU),this.mM.addEventListener("addDateRangeCues",this.UU)},r.unobserveMediaElement=function(){this.VS.Ns(Bs.ha,this.Ts),this.mM.removeEventListener("play",this.lU),this.mM.removeEventListener("pause",this.wU),this.mM.removeEventListener("seeking",this.bU),this.mM.removeEventListener("seeked",this.mU),this.mM.removeEventListener("ratechange",this._U),this.mM.removeEventListener("durationchange",this.aU),this.mM.removeEventListener("timeupdate",this.TU),this.mM.removeEventListener("waiting",this.IU),this.mM.removeEventListener("playing",this.gU),this.mM.removeEventListener("ended",this.fU),this.mM.removeEventListener("loadedmetadata",this.dU),this.mM.removeEventListener("loadeddata",this.vU),this.mM.removeEventListener("loadstart",this.hU),this.mM.removeEventListener("canplay",this.sU),this.mM.removeEventListener("canplaythrough",this.cU),this.mM.removeEventListener("error",this.MR),this.mM.removeEventListener("seekablechange",this.pU),this.mM.removeEventListener("videosizechange",this.EU),this.mM.removeEventListener("bufferedchange",this.uU),this.mM.removeEventListener("playedchange",this.yU),this.mM.removeEventListener("metricschange",this.MU),this.mM.removeEventListener("addDateRangeCues",this.UU)},r.updateCurrentTime=function(t){var n=this.Py.start(0),r=this.Py.end(0);return l.min(l.max(t,n),r)},r.LU=function(){for(var t=0,n=this.$w.yl;t<n.length;t++){var r=n[t];if(r.Cl===iy.Qp&&r.Mu===hl.ID3)return r}},r.BU=function(t){for(var n=0,r=this.$w.yl;n<r.length;n++){var i=r[n],e=i.Fl===Lv.Bl,u=i.Cl===t;if(e&&u)return i}},r.uI=function(){this.mM.addEventListener("addaudiotrack",this.DU),this.mM.addEventListener("enableaudiotrack",this.CU),this.mM.addEventListener("addvideotrack",this.NU),this.mM.addEventListener("addtexttrack",this.AU),this.mM.addEventListener("addtexttrackid3cues",this.PU),this.mM.addEventListener("addtexttrackcues",this.FU)},r._I=function(){this.mM.removeEventListener("addaudiotrack",this.DU),this.mM.removeEventListener("enableaudiotrack",this.CU),this.mM.removeEventListener("addvideotrack",this.NU),this.mM.removeEventListener("addtexttrack",this.AU),this.mM.removeEventListener("addtexttrackid3cues",this.PU),this.mM.removeEventListener("addtexttrackcues",this.$U)},r.my=function(){},P(n,[{key:"Yw",get:function(){return this.Hw}},{key:"ky",get:function(){return this.rU.mI()}},{key:"by",get:function(){return this.kU?this.kU:null},set:function(t){this.eB.iB("THEOplayerSetCurrentProgramDateTime",t.getTime()),this.kU=t}},{key:"bw",get:function(){return this.zD},set:function(t){this.setCurrentTime(t)}},{key:"Tw",get:function(){return this.FM}},{key:"Ew",get:function(){return this.nU}},{key:"qs",get:function(){return this.xR}},{key:"Sw",get:function(){return this.PR}},{key:"Qw",get:function(){}},{key:"Ey",get:function(){return this.VS.Ey}},{key:"qw",get:function(){return this.gM}},{key:"Rw",get:function(){return this.XD},set:function(t){this.XD!==t&&(this.eB.iB("THEOplayerSetMuted",t),this.XD=t,this.Es(new Cd(this.bw,t?0:1)))}},{key:"Iw",get:function(){return this.GD}},{key:"Dw",get:function(){return this.YD},set:function(t){this.eB.iB("THEOplayerSetPlaybackRate",t),this.YD=t}},{key:"Oy",get:function(){return this.eU.mI()}},{key:"xy",get:function(){return jp.WI},set:function(t){}},{key:"ql",get:function(){return this.aB}},{key:"Py",get:function(){return this.iU.mI()}},{key:"Cw",get:function(){return this.KD}},{key:"TI",get:function(){}},{key:"Jw",get:function(){return this.$w}},{key:"Nw",get:function(){return this.SU}},{key:"Aw",get:function(){return this.RU}},{key:"Ow",get:function(){return 1},set:function(t){}},{key:"Kw",get:function(){return this.Ww}},{key:"EI",get:function(){return this.FR}},{key:"Ay",get:function(){return!0}}]),n}(Wv),cR=function(){function t(){this.SI=Np.IR}var n=t.prototype;return n.RI=function(n,r){if(n.isAdvertisement)return!1;if(r.vr&&r.vr[360])return!1;if((i=n.type)&&Mn(i.toLowerCase(),Jv.iw))return!1;var i,e=n.contentProtection;if(e&&!rg(e)){if(!ug(e))return!1;if(!t.zU(e))return!1}return!0},t.zU=function(t){return Boolean(t.fairplay)||Boolean(t.aes128)},n.II=function(){return!1},t}(),aR=function(){function n(t){this.playerID=t}return n.prototype.iB=function(n,r){if(t.THEOplayerBridge[this.playerID].postMessageToSwift&&"function"==typeof t.THEOplayerBridge[this.playerID].postMessageToSwift){var i={body:r,name:n};t.THEOplayerBridge[this.playerID].postMessageToSwift(i)}},n}(),fR=function(t){function n(n){var r;return(r=t.call(this)||this).XU=function(t){var n=Ar(t.detail.initData),i=t.detail.sessionId;r.Es(new SS(n,i))},r.GU=function(t){var n=new _(Mr(t.detail.message)),i=t.detail.destinationURL;r.Es(new RS(n,i))},r.YU=function(t){r.Es(new IS)},r.eB=n,r.mM=new PE,TE().fairplayController={sdkEventBus:r.mM},r.KU(),r}Gt(n,t);var r=n.prototype;return r.KU=function(){this.mM.addEventListener(yS.NB,this.XU),this.mM.addEventListener(yS.AB,this.GU),this.mM.addEventListener(yS.OB,this.YU)},r.TE=function(t,n){var r={data:Ur(n.buffer),sessionId:t};this.eB.iB("THEOplayerCreateKeySession",r)},r.No=function(t,n){var r={data:Ur(n.buffer),sessionId:t};this.eB.iB("THEOplayerUpdateKey",r)},n}(Wv),hR=function(t){function n(){return t.apply(this,arguments)||this}return Gt(n,t),n.prototype.Oh=function(n){if(ki(n.yh)){var r=bi(n.yh);n.yh=hi(r)}return t.prototype.Oh.call(this,n)},n}(function(){function t(t){this.dT=t}var n=t.prototype;return n.Oh=function(t){return this.dT.Oh(t)},n.iv=function(t){this.dT.iv(t)},n.ai=function(){this.dT.ai()},t}()),vR=function(t){function n(n,r,i,e,u){return t.call(this,n,r,i,e,u)||this}Gt(n,t);var r=n.prototype;return r.iy=function(){return!1},r.getSdkBridge=function(t){return new aR(t)},r.getFairPlayControllerBridge=function(t){return rR||(rR=new fR(t)),rR},r.qU=function(t){return new hR(t)},n}(oR);nR=new(function(t){function n(){return t.apply(this,arguments)||this}return Gt(n,t),n.prototype.xT=function(t,n,r,i,e,u){return new vR(t,n,r,i,e)},n}(cR)),Vp.We.xI(nR),function(t){t.xd="addtrack",t.Ld="removetrack",t.Jd="change",t.ul="update"}(iR||(iR={}));var dR=function(t,n,r){this.mediaType=t,this.mediaTrack=n,this.mediaTrackList=r,this.type=iR.Jd},lR=function(t,n){this.mediaType=t,this.mediaTrack=n,this.type=iR.xd},wR=function(t,n){this.mediaType=t,this.mediaTrack=n,this.type=iR.Ld},yR=function(t,n){this.mediaType=t,this.mediaTrack=n,this.type=iR.ul},gR=function(){function t(t,n,r){var i=this;this.JU=function(t){var n=new dR(i.type,t.track,i.mediaTracks);i.messageDispatcher.QU(n)},this.ZU=function(t){var n=new lR(i.type,t.track);i.messageDispatcher.QU(n),t.track.addEventListener("update",i.tq)},this.nq=function(t){var n=new wR(i.type,t.track);i.messageDispatcher.QU(n)},this.tq=function(t){var n=new yR(i.type,t.track);i.messageDispatcher.QU(n)},this.type=t,this.mediaTracks=n,this.messageDispatcher=r,this.KU()}return t.prototype.KU=function(){this.mediaTracks.addEventListener("change",this.JU),this.mediaTracks.addEventListener("addtrack",this.ZU),this.mediaTracks.addEventListener("removetrack",this.nq)},t}(),_R=function(){function t(t){this.rq=new aR(t)}return t.prototype.QU=function(t){this.rq.iB(t.type,GT(t))},t}();gT(function(t){if(t.Md.audioTracks){var n=new _R(t.Dl);new gR("audio",t.Md.audioTracks,n)}if(t.Md.videoTracks){var r=new _R(t.Dl);new gR("video",t.Md.videoTracks,r)}});var pR,mR,kR=function(t){function n(){return t.apply(this,arguments)||this}return Gt(n,t),n.prototype.dispatchEvent=function(t,n){switch(t){case pR.iq:var r={integrationId:n.integrationId,keySystem:n.keySystem};this.Es(new bR(r));break;default:0}},n}(PE),bR=function(t){function n(n){var r;return(r=t.call(this,pR.iq)||this).detail=n,r}return Gt(n,t),n}(pr);!function(t){t.iq="registerContentProtectionIntegration"}(pR||(pR={})),function(t){t.uq="certifiateRequest",t.sq="certifiateResponse",t.oq="licenseRequest",t.cq="licenseResponse",t.aq="extractFairplayContentId",t.fq="buildContentProtection",t.hq="registerContentProtectionCallback"}(mR||(mR={}));var TR,ER,SR=function(t,n){this.value=t,this.integrationId=n,this.type=mR.hq};!function(t){t.VOD="vod",t.LIVE="live"}(TR||(TR={})),function(t){t.LIVE_OFFSET="liveoffset",t.TRACK_BYTES_DOWNLOADED="trackbytesdownloaded",t.ESTIMATED_TRACK_NETWORK_BANDWIDTH="estimatedtracknetworkbandwidth",t.ESTIMATED_TRACK_MEDIA_DATA_BANDWIDTH="estimatedtrackmediadatabandwidth",t.SEGMENT_RECEIVE_INTERVAL="segmentreceiveinterval"}(ER||(ER={}));var RR,IR=function(t,n){this.value=t,this.integrationId=n,this.type=mR.fq},DR=function(t,n){this.value=t,this.integrationId=n,this.type=mR.uq},CR=function(t,n){this.value=t,this.integrationId=n,this.type=mR.sq},NR=function(t,n){this.value=t,this.integrationId=n,this.type=mR.aq},AR=function(t,n){this.value=t,this.integrationId=n,this.type=mR.oq},OR=function(t,n){this.value=t,this.integrationId=n,this.type=mR.cq},xR=function(){function t(t,n){this.vq=t,this.PT=n}var r=t.prototype;return r.onCertificateRequest=function(){var t=D.coroutine(vn.mark(function t(r){var i,e,u,s,o,c;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.toCertificateRequestDTO(r),e=new DR(i,this.PT),t.prev=2,t.next=5,this.vq.dq(e);case 5:if(!(u=t.sent)){t.next=16;break}if(s=JSON.parse(u),!this.lq(s)){t.next=13;break}return o=dn({},s),t.abrupt("return",o);case 13:if(!this.wq(s)){t.next=16;break}return c=new _(s),t.abrupt("return",c);case 16:throw new Gd(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Could not parse callback in onCertificateRequest");case 19:throw t.prev=19,t.t0=t.catch(2),new Gd(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,t.t0);case 22:case"end":return t.stop()}},t,this,[[2,19]])}));return function(n){return t.apply(this,arguments)}}(),r.onCertificateResponse=function(){var t=D.coroutine(vn.mark(function t(r){var i,e,u,s,o;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.toCertificateRequestDTO(r.request),e={request:i,url:r.url,status:r.status,statusText:r.statusText,headers:r.headers,body:Array.from(r.body)},u=new CR(e,this.PT),t.next=5,this.vq.dq(u);case 5:if(!(s=t.sent)){t.next=11;break}return o=JSON.parse(s),t.abrupt("return",new _(o));case 11:throw new Gd(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"received undefined instead of string in onCertificateResponse");case 12:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.onLicenseRequest=function(){var t=D.coroutine(vn.mark(function t(r){var i,e,u,s,o,c,a;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.toCertificateRequestDTO(r),e={url:i.url,method:i.method,headers:i.headers,body:i.body?Array.from(i.body):null,useCredentials:i.useCredentials,fairplaySkdUrl:r.fairplaySkdUrl},u=new AR(e,this.PT),t.prev=3,t.next=6,this.vq.dq(u);case 6:if(!(s=t.sent)){t.next=17;break}if(o=JSON.parse(s),!this.lq(o)){t.next=14;break}return c={url:o.url,method:o.method,headers:o.headers,body:o.body?new _(o.body):null,useCredentials:o.useCredentials,fairplaySkdUrl:o.fairplaySkdUrl},t.abrupt("return",c);case 14:if(!this.wq(o)){t.next=17;break}return a=new _(o),t.abrupt("return",a);case 17:throw new Gd(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Could not parse callback in onLicenseRequest");case 20:throw t.prev=20,t.t0=t.catch(3),new Gd(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,t.t0);case 23:case"end":return t.stop()}},t,this,[[3,20]])}));return function(n){return t.apply(this,arguments)}}(),r.onLicenseResponse=function(){var t=D.coroutine(vn.mark(function t(r){var i,e,u,s,o,c;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.toCertificateRequestDTO(r.request),e=dn(dn({},i),{fairplaySkdUrl:r.request.fairplaySkdUrl}),u={request:e,url:r.url,status:r.status,statusText:r.statusText,headers:r.headers,body:Array.from(r.body)},s=new OR(u,this.PT),t.next=6,this.vq.dq(s);case 6:if(!(o=t.sent)){t.next=12;break}return c=JSON.parse(o),t.abrupt("return",new _(c));case 12:throw new Gd(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"received undefined instead of string in onLicenseResponse");case 13:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.extractFairplayContentId=function(){var t=D.coroutine(vn.mark(function t(r){var i,e;return vn.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=new NR(r,this.PT),t.next=3,this.vq.dq(i);case 3:if(!(e=t.sent)){t.next=6;break}return t.abrupt("return",e);case 6:return t.abrupt("return",D.reject(new Gd(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"received undefined instead of string in extractFairplayContentId")));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.toCertificateRequestDTO=function(t){return{url:t.url,method:t.method,headers:t.headers,body:t.body?Array.from(t.body):null,useCredentials:t.useCredentials}},r.lq=function(t){var n=t;return void 0!==n.url&&void 0!==n.method&&void 0!==n.headers},r.wq=function(t){return!!new _(t)},t}(),PR=function(){function t(t){this.vq=t}return t.prototype.build=function(t){if(!t.integration)throw new h("integrationId is undefined");var n=new xR(this.vq,t.integration),r=new IR({drmConfiguration:t},t.integration);return this.vq.dq(r),n},t}(),LR=function(){var t=this;this.yq=function(n){var r=new PR(t.messageDispatcher),i=n.detail,e=i.integrationId,u=i.keySystem,s={state:Ky.qT.FT(e,u,r)};t.messageDispatcher.dq(new SR(s,e))},this.mM=new kR,TE().contentProtectionIntegration={sdkEventBus:this.mM},this.mM.addEventListener(pR.iq,this.yq)},FR="nativePromiseCallback",BR=function(t){function n(n){var r;return(r=t.call(this,FR)||this).detail=n,r}return Gt(n,t),n}(pr);!function(t){t.RESOLVE="NATIVE_PROMISE_RESOLVE",t.REJECT="NATIVE_PROMISE_REJECT"}(RR||(RR={}));var MR=function(t){function n(){return t.apply(this,arguments)||this}Gt(n,t);var r=n.prototype;return r.dispatchEvent=function(t,n){this.Es(new BR(n))},r.addEventListener=function(t,n){this.Rs(t,n)},r.removeEventListener=function(t,n){this.Ns(t,n)},n}(PE),UR=function(){function t(){var t=this;this.promisesMap={},this.handleNativePromiseEvent=function(n){var r=t.promisesMap[n.detail.promiseId];if(!r)throw new h("Could not find a promise with id "+n.detail.promiseId);switch(n.detail.type){case RR.RESOLVE:r.ao(n.detail.data);break;case RR.REJECT:r.fo(n.detail.data)}delete t.promisesMap[n.detail.promiseId]};var n=new MR;TE().nativePromise={sdkEventBus:n},n.addEventListener(FR,this.handleNativePromiseEvent)}return t.prototype.dq=function(n){var r;t.messageIdTracker+=1;var i=t.messageIdTracker.toString(),e=dn(dn({},n),{promiseId:i}),u=new Si;return this.promisesMap[i]=u,null===(r=this.rq)||void 0===r||r.iB(n.type,zT(e)),u.co},t}();UR.messageIdTracker=-1;var qR=function(t){function n(n){var r;return(r=t.call(this)||this).rq=new aR(n),r}return Gt(n,t),n}(UR),VR=function(t){function n(n){var r;return(r=t.call(this)||this).vq=new qR(n),r}return Gt(n,t),P(n,[{key:"messageDispatcher",get:function(){return this.vq}}]),n}(LR);gT(function(t){new VR(t.Md.uid)}),n.ChromelessPlayer=function t(n,r){var i=Ld(r),e=new(OT||(OT=wT(OT=qT(vT),oT.LL),OT=wT(OT,oT.FL)),OT)(n,i),u=e.Md;return e.DL(),e.fF(AT),d.defineProperty(u,"constructor",{value:t}),u=gv(u),function(t){for(var n=0;n<yT.length;n++)(0,yT[n])(t)}(e),u},n.createGlobals=RE,n.features=[],n.getCueMirrorMap=EE,n.getGlobalId=SE,n.getSdkEventBridge=TE,n.playerSuiteVersion="2021.2.1",n.players=jT,n.registerContentProtectionIntegration=HT,n.utils=VT,n.version="2.85.3",d.defineProperty(n,"__esModule",{value:!0})})}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:this);
